import{D as t,m as n,e,U as r,C as o}from"./@tresjs.C4A766dl1736129093919.js";import{_ as s}from"./index.DGr6k2KB1736129093919.js";import{_ as i,a as c,M as u,V as a,B as l,cF as p}from"./three.ES53pcRR1736129093919.js";import{P as f}from"./tweakpane.BCjFYDHx1736129093919.js";import{I as m,C as h,N as g,c as d,d as y,a as j}from"./three-mesh-bvh.DE7kZA-N1736129093919.js";import{d as w,a6 as b,b as v,a3 as _,o as I,D as x,J as T,u as A,F as M,r as k,e as z,j as Z,g as B,m as C,f as F,al as E}from"./@vue.uQKhJ3x71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./index.B-rh8DoX1736129093919.js";import"./@fesjs.C11Gf8kF1736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./pinia.CtRHBYHM1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";import"./chalk.B3MNILV41736129093919.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1736129093919.js";import"./@iconify.CkmZGMLx1736129093919.js";import"./dompurify.MwRjsY0L1736129093919.js";import"./oimophysics.B0i2NtyE1736129093919.js";import"./three-stdlib.hbqaGo6K1736129093919.js";import"./@pmndrs.CFxMGwGw1736129093919.js";import"./object-hash.CvGuPWVa1736129093919.js";import"./@amap.DhOO2qTl1736129093919.js";import"./crypto-js.ChIcq6Eo1736129093919.js";import"./three-custom-shader-material.LMK2zh-z1736129093919.js";import"./three.quarks.Bd0L6lmU1736129093919.js";import"./quarks.core.C7CDonSm1736129093919.js";import"./utils.Br__lO2J1736129093919.js";import"./default.vue_vue_type_script_setup_true_lang.1HPtPNtQ1736129093919.js";import"./three-mesh-ui.module.C5LsgWvs1736129093919.js";!function(t,n){const e=R,r=U();for(;;)try{if(988968===-parseInt(e(526))/1+-parseInt(e(508))/2+parseInt(e(528))/3*(-parseInt(e(518))/4)+-parseInt(e(525))/5+-parseInt(e(484))/6*(parseInt(e(496))/7)+-parseInt(e(530))/8*(parseInt(e(482))/9)+-parseInt(e(487))/10*(-parseInt(e(524))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(507)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(486),"i"),r=S(t(510));n[t(523)](r+t(499))&&e.test(r+"input")?S():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(507)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(529)+t(509)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(519)]||{},r=[t(493),t(500),t(498),t(504),t(488),t(491),"trace"];for(let o=0;o<r.length;o++){const n=J.constructor[t(494)].bind(J),s=r[o],i=e[s]||n;n.__proto__=J[t(520)](J),n[t(511)]=i.toString[t(520)](i),e[s]=n}}))();function R(t,n){const e=U();return(R=function(t,n){return e[t-=481]})(t,n)}function S(t){function n(t){const e=R;if(typeof t===e(513))return function(t){}[e(514)](e(506))[e(507)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(495)+"gger")[e(502)]("action"):function(){return!1}[e(514)](e(495)+"gger").apply(e(512)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function U(){const t=["722496FwXboZ","return (function() ","1177064AxHpEA","pointerType","72DOocPx","value","92130TNvgZr","innerHeight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","248740OFVwrd","exception","pointerdown","enabled","table","firstHitOnly","log","prototype","debu","707aJUvQY","addEventListener","info","chain","warn","setFromCamera","call","innerWidth","error","clientX","while (true) {}","apply","501536VFBzJD",'{}.constructor("return this")( )',"init","toString","stateObject","string","constructor","button","pointermove","touch","4KvGBYJ","console","bind","Raycaster","clientY","test","2827PhalFY","6564360JhVbPv","871259NysnjW","length"];return(U=function(){return t})()}const W=P;!function(t,n){const e=P,r=Y();for(;;)try{if(650949===parseInt(e(428))/1+parseInt(e(455))/2+-parseInt(e(467))/3+parseInt(e(457))/4*(-parseInt(e(476))/5)+-parseInt(e(440))/6*(parseInt(e(487))/7)+parseInt(e(496))/8*(-parseInt(e(511))/9)+parseInt(e(426))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){X(this,(function(){const t=P,n=new RegExp(t(447)),e=new RegExp(t(506),"i"),r=G(t(504));n[t(492)](r+t(483))&&e[t(492)](r+t(461))?G():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(510)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();D(void 0,(function(){const t=P;let n;try{n=Function("return (function() "+t(477)+");")()}catch(o){n=window}const e=n[t(430)]=n[t(430)]||{},r=["log",t(491),t(434),t(509),t(485),t(465),"trace"];for(let s=0;s<r[t(480)];s++){const n=D[t(479)].prototype.bind(D),o=r[s],i=e[o]||n;n[t(448)]=D[t(452)](D),n[t(422)]=i[t(422)][t(452)](i),e[o]=n}}))();const L=[W(502),W(425)],H=[W(502)];function P(t,n){const e=Y();return(P=function(t,n){return e[t-=422]})(t,n)}function Y(){const t=["22665ATKAmG",'{}.constructor("return this")( )',"MeshStandardMaterial","constructor","length","matrixWorld","gger","chain","DynamicDrawUsage","exception","BufferAttribute","7ZHCNpZ","color","targetMesh","invert","warn","test","raycast","TresSphereGeometry","getX","8QEivgR","enabled","center","Vector2","setUsage","addButton","geometry","Sphere","init","attributes","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","click","while (true) {}","error","apply","3974724LlWDym","active","toString","instance","point","material","24306030xWuwTz","value","727328ZhAJgg","intersectsSphere","console","setX","position","containsPoint","info","TresMeshStandardMaterial","getZ","visible","intersectObject","count","4973298JdWUGh","radius","applyMatrix4","needsUpdate","setAttribute","debu","firstHitOnly","function *\\( *\\)","__proto__","TresMesh","点击按钮","Mesh","bind","#023249","string","500194McKpyr","setZ","1048MlMnJj","model","controls","生成模型","input","intersectsBox","prototype","copy","table","getY","896742FcCXmU","disposeBoundsTree","set","BufferGeometry","action","normal","targetMesh.value init","push","setScalar"];return(Y=function(){return t})()}const $=w({__name:W(458),props:{controls:{}},async setup(r){const o=W;let s,w;const k=r;(()=>{const t=P;i[t(470)][t(463)].computeBoundsTree=d,l[t(463)][t(468)]=y,i[t(451)][t(463)][t(493)]=j})();const z=([s,w]=b((()=>t(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),Z=new(i[o(478)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),B=new Uint8Array(3*z[o(505)].position[o(439)]);B.fill(255);const C=new c(B,3,!0);C[o(500)](i[o(484)]),z[o(444)](o(488),C);const F=v(null),E=v(null),O=v(!1),J=v(-1),S=v(.2),U=new(i[o(499)]),{camera:X,raycaster:D}=n(),Y=15/255,$=78/255,G=85/255;let K=null;_((()=>{const t=o;F[t(427)]&&(console.log(t(473),F.value),F[t(427)].geometry.computeBoundsTree(),K=z.boundsTree,((t,n,e,r,o,s)=>{const c=R;window[c(497)](c(516),(e=>{const r=c;t.x=e.clientX/window.innerWidth*2-1,t.y=-e[r(522)]/window[r(485)]*2+1,n[r(483)]=!0})),window.addEventListener(c(489),(u=>{const a=c;t.x=u[a(505)]/window[a(503)]*2-1,t.y=-u[a(522)]/window[a(485)]*2+1,r[a(483)]=u[a(515)];const l=new(i[a(521)]);l[a(501)](t,e[a(483)]),l[a(492)]=!0;const p=l.intersectObject(o.value,!0);n[a(483)]=!0,s[a(490)]=0===p[a(527)]}),!0),window[c(497)]("pointerup",(t=>{const e=c;r[e(483)]=-1,t[e(481)]===e(517)&&(n[e(483)]=!1)}),!0)})(U,O,X,J,F,k.controls[t(423)]))}));const{onLoop:N}=e();N((()=>{const t=o,n=z.index;if(E.value)if(k[t(459)][t(423)][t(512)]||!O[t(427)])E[t(427)].visible=!1;else{E.value.scale[t(475)](S.value),D[t(427)].setFromCamera(U,X[t(427)]),D[t(427)][t(446)]=!0;const e=D[t(427)][t(438)](F[t(427)],!0);if(e[t(480)]){E[t(427)][t(432)][t(464)](e[0][t(424)]),k[t(459)][t(423)][t(497)]=!1,E[t(427)].visible=!0;const r=new u;r[t(464)](F[t(427)][t(481)])[t(490)]();const o=new(i[t(503)]);o[t(498)][t(464)](E[t(427)][t(432)])[t(442)](r),o[t(441)]=100*S.value;const s=[],c=new a;if(null==K||K.shapecast({intersectsBounds:n=>{const e=t,r=o[e(462)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(469)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(433)](c))return m;return h}return r?m:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(429)](o)){const t=3*e;s[i(474)](t,t+1,t+2)}return!1}}),0===J[t(427)]||2===J[t(427)]){let e=1,r=1,o=1;0===J[t(427)]&&(e=Y,r=$,o=G);for(let i=0,c=s[t(480)];i<c;i++){const c=n[t(495)](s[i]);C[t(431)](c,e),C.setY(c,r),C[t(456)](c,o)}C[t(443)]=!0}}else E[t(427)][t(437)]=!1,k[t(459)][t(423)].enabled=!0}}));const V=(new f)[o(501)]({title:o(450),label:o(460)}),q=new(i[o(470)]);return V.on(o(507),(()=>{const t=o,n=[],e=[];for(let o=0;o<C.count;o++)C[t(495)](o)===Y&&C[t(466)](o)===$&&C.getZ(o)===G&&(n.push(z[t(505)][t(432)].getX(o),z.attributes.position[t(466)](o),z[t(505)][t(432)][t(436)](o)),e[t(474)](z.attributes[t(472)][t(495)](o),z.attributes[t(472)][t(466)](o),z[t(505)].normal[t(436)](o)));const r=new Float32Array(n);q.setAttribute(t(432),new(i[t(486)])(r,3)),q.setAttribute(t(472),new(i[t(486)])(r,3))})),(t,n)=>{const e=o;return I(),x(M,null,[T(e(449),{ref_key:e(489),ref:F,geometry:A(z),scale:.005,material:A(Z)},null,8,L),T(e(449),{ref_key:"brushMesh",ref:E,visible:!1},n[0]||(n[0]=[T(e(494),{args:[1,40,40]},null,-1),T(e(435),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),T(e(449),{geometry:A(q),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[T(e(435),{color:e(453),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,H)],64)}}});function G(t){function n(t){const e=P;if(typeof t===e(454))return function(t){}.constructor(e(508))[e(510)]("counter");1!==(""+t/t)[e(480)]||t%20==0?function(){return!0}[e(479)](e(445)+"gger").call(e(471)):function(){return!1}[e(479)](e(445)+e(482)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=Q;function N(){const t=["apply","32118922LMaKTT","pos-z.jpg","169808NKATQp","exception","12LzTXxm","debu","2667534UmbUzi","test","pos-y.jpg","neg-x.jpg","TresPerspectiveCamera","prototype","init","gger","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","__proto__","stateObject","toString","4raWnLv","controlsRef","log","controls","trace","16ZHoWec","neg-z.jpg","#999999","TresCanvas","console","call","value",'{}.constructor("return this")( )',"return (function() ","input","5055960cEIEHO","1897147IdQBPC","1JJsBcD","counter","6508395bTvXpC","bind","neg-y.jpg","function *\\( *\\)","TresAmbientLight","pos-x.jpg","292620dToOpA","collectTriangles","constructor"];return(N=function(){return t})()}!function(t,n){const e=Q,r=N();for(;;)try{if(461883===-parseInt(e(226))/1*(-parseInt(e(191))/2)+parseInt(e(195))/3*(-parseInt(e(209))/4)+-parseInt(e(185))/5*(-parseInt(e(193))/6)+parseInt(e(225))/7*(-parseInt(e(214))/8)+-parseInt(e(228))/9+-parseInt(e(224))/10+parseInt(e(189))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=Q,n=new RegExp(t(182)),e=new RegExp(t(204),"i"),r=nt(t(201));n[t(196)](r+"chain")&&e[t(196)](r+t(223))?nt():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(188)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(t,n){const e=N();return(Q=function(t,n){return e[t-=181]})(t,n)}q(void 0,(function(){const t=Q;let n;try{n=Function(t(222)+t(221)+");")()}catch(o){n=window}const e=n.console=n[t(218)]||{},r=[t(211),"warn","info","error",t(192),"table",t(213)];for(let s=0;s<r[t(205)];s++){const n=q[t(187)][t(200)][t(229)](q),o=r[s],i=e[o]||n;n[t(206)]=q[t(229)](q),n[t(208)]=i.toString[t(229)](i),e[o]=n}}))();const tt=w({__name:K(186),setup(t){const n=K,e=k({clearColor:n(216),antialias:!0}),i=k({autoRotate:!1}),c=v(null);return(t,u)=>{const a=n,l=z(a(217));return I(),x(M,null,[Z(A(s)),Z(l,C(e,{"window-size":""}),{default:B((()=>[u[0]||(u[0]=T(a(199),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),Z(A(r),C({ref_key:a(210),ref:c},i),null,16),u[1]||(u[1]=T(a(183),{intensity:1},null,-1)),(I(),F(E,null,{default:B((()=>[Z($,{controls:c[a(220)]},null,8,[a(212)])])),_:1})),(I(),F(E,null,{default:B((()=>[Z(A(o),{background:!1,files:[a(184),a(198),a(197),a(181),a(190),a(215)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function nt(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}.constructor(e(203))[e(188)](e(227));1!==(""+t/t)[e(205)]||t%20==0?function(){return!0}[e(187)](e(194)+e(202))[e(219)]("action"):function(){return!1}.constructor(e(194)+e(202))[e(188)](e(207)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
