import{U as t,H as n}from"./@tresjs.C4A766dl1736129093919.js";import{u as e,_ as r}from"./colorList.CK-SVGts1736129093919.js";import{f as o,n as a}from"./ncFileReader.L8NrJ5OR1736129093919.js";import{u as s}from"./rawData.DVN_Ome41736129093919.js";import{d as i}from"./pinia.CtRHBYHM1736129093919.js";import{b as c,d as u,a6 as l,a as f,w as p,o as d,D as m,J as h,aj as g,ak as y,u as b,I as w,j as x,g as v,x as I,r as _,f as j,al as F,m as z,F as E}from"./@vue.uQKhJ3x71736129093919.js";import{_ as C,cq as R,aF as T,k,aW as L}from"./three.ES53pcRR1736129093919.js";import{g as S,a as D}from"./generalVolume.CqPfs-U01736129093919.js";import{P as A}from"./tweakpane.BCjFYDHx1736129093919.js";import{N as H}from"./netcdfjs.C-xs9gZ81736129093919.js";import{a5 as B,a6 as Z,t as U,a0 as G,a7 as W,v as $,_ as J}from"./@fesjs.C11Gf8kF1736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./iobuffer.CjL8RkRL1736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";const M=N;function N(t,n){const e=P();return(N=function(t,n){return e[t-=212]})(t,n)}!function(t,n){const e=N,r=P();for(;;)try{if(475546===parseInt(e(236))/1*(parseInt(e(219))/2)+-parseInt(e(244))/3+-parseInt(e(241))/4*(parseInt(e(231))/5)+parseInt(e(216))/6*(parseInt(e(213))/7)+parseInt(e(239))/8*(parseInt(e(227))/9)+-parseInt(e(238))/10+parseInt(e(234))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(226)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=N,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(229),"i"),r=K(t(232));n[t(222)](r+t(215))&&e.test(r+t(228))?K():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function(t(235)+t(225)+");")()}catch(e){n=window}return n}(),e=n[t(242)]=n.console||{},r=[t(240),"warn","info",t(214),t(217),t(221),t(246)];for(let o=0;o<r[t(223)];o++){const n=Q.constructor[t(243)][t(237)](Q),a=r[o],s=e[a]||n;n.__proto__=Q[t(237)](Q),n[t(224)]=s[t(224)].bind(s),e[a]=n}}))();const q=i(M(230),(()=>({netCDFHeader:c(null)})));function K(t){function n(t){const e=N;if("string"==typeof t)return function(t){}[e(212)]("while (true) {}").apply("counter");1!==(""+t/t)[e(223)]||t%20==0?function(){return!0}[e(212)]("debu"+e(218))[e(233)](e(245)):function(){return!1}[e(212)](e(220)+e(218))[e(226)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function P(){const t=["bind","7937230Feyzdt","8DQZgcz","log","52cBKihy","console","prototype","157329EaIcaz","action","trace","constructor","299971dSJYQE","error","chain","78eUwDrs","exception","gger","46zgjaLp","debu","table","test","length","toString",'{}.constructor("return this")( )',"apply","3808989QyTyeX","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ncReader","223845LzZTHn","init","call","6754286SFjGxc","return (function() ","13451CCuMhU"];return(P=function(){return t})()}const X=nt;!function(t,n){const e=nt,r=tt();for(;;)try{if(818607===parseInt(e(380))/1*(-parseInt(e(377))/2)+parseInt(e(322))/3*(parseInt(e(321))/4)+-parseInt(e(393))/5*(parseInt(e(339))/6)+-parseInt(e(319))/7+-parseInt(e(311))/8+parseInt(e(366))/9+parseInt(e(367))/10*(parseInt(e(375))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(346)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=nt,n=new RegExp(t(335)),e=new RegExp(t(340),"i"),r=at(t(368));n[t(326)](r+t(387))&&e[t(326)](r+t(331))?at():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function tt(){const t=["name","xExtent","while (true) {}","colorsStops","yLength","addButton","8486760FjzOQX","wrapS","x轴缩放","TresGroup","string","zExtent","z轴缩放",'{}.constructor("return this")( )',"261975CVvmfl","volumeMesh","365132hkGoCR","15DKYXtL","清空数据","netCDFHeader","log","test","threshold","variables","composeType","是否反色","input","trace","call","updateTransferFunction","function *\\( *\\)","TresShaderMaterial","BackSide","emissionAbsorption","56148WUtKob","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","map","warn","format","LinearFilter","table","apply","u_clim","dispose","addBlade","yExtent","counter","constructor","needsUpdate","object","thresholding","体积采样率","gger","getThreeType","TresBoxGeometry","magFilter","debu","return (function() ","ClampToEdgeWrapping","dimensions","list","1850463QyjCWu","1250qvEcvo","init","zLength","bind","info","toString","value","exception","167585wZOhsg","data","72572LcvsUJ","addBinding","change","13wleEaa","scale","Data3DTexture","primitive","alphaScale","LineBasicMaterial","透明度","chain","LineSegments","RedFormat","y轴缩放","length","显示边框","95fFdMxe","filter","maximumIntensity","console","uniforms","dataTexture","setDataTypeFromJSdata"];return(tt=function(){return t})()}function nt(t,n){const e=tt();return(nt=function(t,n){return e[t-=310]})(t,n)}V(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(362)+t(318)+");")()}catch(e){n=window}return n}(),e=n[t(396)]=n[t(396)]||{},r=["log",t(342),t(371),"error",t(374),t(345),t(332)];for(let o=0;o<r[t(391)];o++){const n=V[t(352)].prototype[t(370)](V),a=r[o],s=e[a]||n;n.__proto__=V[t(370)](V),n[t(372)]=s[t(372)][t(370)](s),e[a]=n}}))();const et=[X(381),"visible"],rt=[X(354)],ot=u({__name:X(320),async setup(t){const n=X;let r,i;const u=c(1),x=c(1),v=c(1),I=e(),_=q(),j=new(C[n(388)])(new R(new T(1,1,1)),new(C[n(385)])({color:10066329})),F=_[n(324)][n(328)][n(394)]((t=>3==t[n(364)][n(391)])),z=c(F[0][n(400)]),E=s(),H=async()=>{const t=n,e=await o(_.netCDFHeader,z.value),r=a(e);console[t(325)](r),E[t(399)](r.data),E.xExtent=r.xLength,E[t(350)]=r[t(404)],E.zExtent=r[t(369)],E.setArrayBuffer(r[t(376)]),x[t(373)]=E[t(350)]/E[t(401)],v[t(373)]=E.zExtent/E[t(401)]};[r,i]=l((()=>H())),await r,i();const B=f((()=>{const t=n;return!(u[t(373)]<=.01&&u[t(373)]>=-.01)&&(!(x[t(373)]<=.01&&x[t(373)]>=-.01)&&!(v[t(373)]<=.01&&v[t(373)]>=-.01))})),Z=()=>{const t=n,e=new(C[t(382)])(E.byteArray,E.xExtent,E[t(350)],E[t(316)]);return e[t(343)]=C[t(389)],e.type=E[t(358)](),e.minFilter=C[t(344)],e[t(360)]=C[t(344)],e[t(312)]=L,e.wrapT=C[t(363)],e.wrapR=C[t(363)],e[t(353)]=!0,e},U={uniforms:{dataTexture:{value:Z()},colorTexture:{value:I[n(334)]()},samplingRate:{value:4},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!1},composeType:{value:1},u_clim:{value:new k(.093,-.001)}},vertexShader:S,fragmentShader:D,side:C[n(337)],transparent:!0},G=c(!0),W=new A;return W[n(349)]({view:"list",label:"气象要素",options:F[n(341)]((t=>({text:t[n(400)],value:t[n(400)]}))),value:z[n(373)]}).on(n(379),(async t=>{const e=n;z[e(373)]=t[e(373)],await H(),U[e(397)][e(398)][e(373)]=Z()})),W[n(378)](U[n(397)][n(347)][n(373)],"x",{label:"clim1",min:.01,max:.6,step:.001}),W[n(378)](U[n(397)][n(347)][n(373)],"y",{label:"clim2",min:-.1,max:.03,step:.001}),W[n(378)](u,n(373),{label:n(313),min:-2,max:2,step:.01}),W[n(378)](x,n(373),{label:n(390),min:-2,max:2,step:.01}),W[n(378)](v,n(373),{label:n(317),min:-2,max:2,step:.01}),W[n(349)]({view:n(365),label:"模式",options:[{text:n(395),value:1},{text:n(355),value:2},{text:n(338),value:3}],value:U[n(397)][n(329)][n(373)]}).on(n(379),(t=>{const e=n;U.uniforms[e(329)][e(373)]=t.value})),W.addBinding(U[n(397)].samplingRate,n(373),{label:n(356),min:0,max:5,step:.01}),W[n(378)](U[n(397)][n(327)],n(373),{label:"体绘制的阈值",min:0,max:1,step:.01}),W.addBinding(U[n(397)][n(384)],n(373),{label:n(386),min:0,max:1,step:.01}),W[n(378)](U[n(397)].invertColor,n(373),{label:n(330)}),W[n(378)](G,n(373),{label:n(392)}),W[n(310)]({title:n(323)}).on("click",(()=>{const t=n;_.netCDFHeader=null,W[t(348)]()})),p((()=>I[n(403)]),(()=>{const t=n;U[t(397)].colorTexture[t(373)]=I.updateTransferFunction()}),{deep:!0,immediate:!0}),(t,e)=>{const r=n;return d(),m(r(314),null,[h("TresMesh",{scale:[u[r(373)],x.value,v[r(373)]],visible:B[r(373)]},[e[0]||(e[0]=h(r(359),{args:[1,1,1]},null,-1)),h(r(336),g(y(U)),null,16),G.value?(d(),m(r(383),{key:0,object:b(j)},null,8,rt)):w("",!0)],8,et)])}}});function at(t){function n(t){const e=nt;if(typeof t===e(315))return function(t){}[e(352)](e(402))[e(346)](e(351));1!==(""+t/t)[e(391)]||t%20==0?function(){return!0}[e(352)]("debu"+e(357))[e(333)]("action"):function(){return!1}[e(352)](e(361)+e(357))[e(346)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function st(){const t=["exception","info","netCDFHeader","314223WWhWXU","toString",".nc","readAsArrayBuffer","8NyLrrJ","length","test","trace","10px auto -3px","card-wrapper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","target","string","value","6672480beJUFG","演示参考2003nc气象数据,下载 : "," 点击或者拖拽nc格式气象文件到此区域 ","apply","log","533226nstoSx","fileList","result","bind","debu","3342555oDfyxR","onload","11px","input","读取NC气象文件","prototype","console","removeFile"," 调试预览NC文件","importNcUI","return (function() ","804784AUSfPi","raw","error","call","7AEoukn","10CGBBig","422252ngEkLw","action","gger","stateObject","table","function *\\( *\\)","div","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/ncFile/2003.nc","chain","constructor","363614mniLLz",'{}.constructor("return this")( )'];return(st=function(){return t})()}const it=ct;function ct(t,n){const e=st();return(ct=function(t,n){return e[t-=235]})(t,n)}!function(t,n){const e=ct,r=st();for(;;)try{if(933396===-parseInt(e(264))/1+-parseInt(e(254))/2+parseInt(e(269))/3*(-parseInt(e(273))/4)+parseInt(e(284))/5+-parseInt(e(289))/6*(parseInt(e(252))/7)+parseInt(e(248))/8+-parseInt(e(237))/9*(-parseInt(e(253))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const ut=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ct(287)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ut(this,(function(){const t=ct,n=new RegExp(t(259)),e=new RegExp(t(279),"i"),r=pt(t(280));n[t(275)](r+t(262))&&e[t(275)](r+t(240))?pt():r("0")}))()}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ct(287)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();lt(void 0,(function(){const t=ct,n=function(){const t=ct;let n;try{n=Function(t(247)+t(265)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(243)]||{},r=[t(288),"warn",t(267),t(250),t(266),t(258),t(276)];for(let o=0;o<r[t(274)];o++){const n=lt[t(263)][t(242)][t(235)](lt),a=r[o],s=e[a]||n;n.__proto__=lt[t(235)](lt),n[t(270)]=s[t(270)][t(235)](s),e[a]=n}}))();const ft={key:0,class:it(278)};function pt(t){function n(t){const e=ct;if(typeof t===e(282))return function(t){}[e(263)]("while (true) {}")[e(287)]("counter");1!==(""+t/t)[e(274)]||t%20==0?function(){return!0}.constructor(e(236)+e(256))[e(251)](e(255)):function(){return!1}[e(263)](e(236)+"gger")[e(287)](e(257)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const dt=J(u({__name:it(246),setup(t){const n=q(),e=c(null),r=c([]),o=t=>{console[ct(288)]("[change] param:",t)},a=()=>{var t;const n=ct;r[n(283)].length>1&&(null==(t=e[n(283)])||t[n(244)](r[n(283)][0]))},s=()=>{const t=ct;if(1!=r[t(283)][t(274)])return $.warning("请正确选择NC文件"),!1;const e=new FileReader;return e[t(238)]=function(e){const r=t,o=e[r(281)][r(291)];n[r(268)]=new H(o)},e[t(272)](r[t(283)][0][t(249)]),!0};return(t,i)=>{const c=ct;return b(n).netCDFHeader?w("",!0):(d(),m(c(260),ft,[x(b(W),{header:c(241)},{default:v((()=>[i[3]||(i[3]=h("div",{style:{"margin-bottom":c(239)}},[I(c(285)),h("a",{href:c(261)},"2003.nc")],-1)),x(b(B),{ref_key:"uploadRef",ref:e,fileList:r[c(283)],"onUpdate:fileList":i[0]||(i[0]=t=>r.value=t),onChange:o,httpRequest:a,accept:[c(271)]},{default:v((()=>[x(b(Z),null,{default:v((()=>i[1]||(i[1]=[I(c(286))]))),_:1})])),_:1},8,[c(290)]),x(b(U),{style:{display:"block",margin:c(277)},onClick:s},{icon:v((()=>[x(b(G))])),default:v((()=>[i[2]||(i[2]=I(c(245)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-69d16d44"]]),mt=yt;!function(t,n){const e=yt,r=bt();for(;;)try{if(440010===parseInt(e(389))/1*(-parseInt(e(375))/2)+parseInt(e(382))/3+-parseInt(e(357))/4+-parseInt(e(388))/5+parseInt(e(397))/6*(parseInt(e(377))/7)+-parseInt(e(365))/8+parseInt(e(386))/9*(parseInt(e(364))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const ht=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ht(this,(function(){const t=yt,n=new RegExp(t(394)),e=new RegExp(t(381),"i"),r=xt(t(385));n[t(359)](r+"chain")&&e[t(359)](r+"input")?xt():r("0")}))()}();const gt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[yt(363)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function yt(t,n){const e=bt();return(yt=function(t,n){return e[t-=357]})(t,n)}function bt(){const t=["rgba(0, 130, 250, 1)","153377zckIRG","console","table","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","606819EzHDHD","rgba(242, 0, 0, 1)","log","init","466443fYHzxd","rgba(255, 220, 0, 1)","2301875WTLYwJ","1odzsPQ","error","netCDFHeader",'{}.constructor("return this")( )',"length","function *\\( *\\)","gger","stateObject","126QrHvAi","action","constructor","1402284tZPYzZ","debugNcFile","test","warn","trace","toString","apply","280RMvcAO","6382040Kczixj","counter","info","return (function() ","rgba(0, 204, 146, 1)","exception","bind","__proto__","call","TresPerspectiveCamera","129698RyXaKy"];return(bt=function(){return t})()}gt(void 0,(function(){const t=yt,n=function(){const t=yt;let n;try{n=Function(t(368)+t(392)+");")()}catch(e){n=window}return n}(),e=n[t(378)]=n.console||{},r=[t(384),t(360),t(367),t(390),t(370),t(379),t(361)];for(let o=0;o<r[t(393)];o++){const n=gt[t(399)].prototype.bind(gt),a=r[o],s=e[a]||n;n[t(372)]=gt.bind(gt),n.toString=s[t(362)][t(371)](s),e[a]=n}}))();const wt=u({__name:mt(358),setup(e){const o=_({antialias:!0,windowSize:!0}),a=q();return(e,s)=>{const i=yt;return d(),m(E,null,[b(a)[i(391)]?(d(),j(r,{key:0,curColorList:[[i(376),.6228070175438597],[i(369),.7105263157894737],["rgba(106, 204, 0, 1)",.8114035087719298],[i(387),.8947368421052632],[i(383),1]]})):w("",!0),x(b(n),z(o,{"window-size":""}),{default:v((()=>[s[0]||(s[0]=h(i(374),{position:[2,3,0],fov:40,near:.01,far:1e3,up:[0,0,1]},null,-1)),x(b(t)),(d(),j(F,null,{default:v((()=>[b(a)[i(391)]?(d(),j(ot,{key:0})):w("",!0)])),_:1}))])),_:1},16),x(dt)],64)}}});function xt(t){function n(t){const e=yt;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(363)](e(366));1!==(""+t/t)[e(393)]||t%20==0?function(){return!0}[e(399)](e(380)+e(395))[e(373)](e(398)):function(){return!1}[e(399)](e(380)+e(395))[e(363)](e(396)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{wt as default};
