import{e as n,W as t,U as e}from"./@tresjs.C4A766dl1736129093919.js";import{P as i}from"./tweakpane.BCjFYDHx1736129093919.js";import{a as o}from"./index.B-rh8DoX1736129093919.js";import{_ as r,$ as s}from"./three.ES53pcRR1736129093919.js";import{d as a,w as c,o as u,f as l,u as f,D as d,J as p,j as m,m as v,r as h,e as g,g as w,al as b}from"./@vue.uQKhJ3x71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./@fesjs.C11Gf8kF1736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./pinia.CtRHBYHM1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";import"./chalk.B3MNILV41736129093919.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1736129093919.js";import"./@iconify.CkmZGMLx1736129093919.js";import"./dompurify.MwRjsY0L1736129093919.js";import"./oimophysics.B0i2NtyE1736129093919.js";import"./three-stdlib.hbqaGo6K1736129093919.js";import"./@pmndrs.CFxMGwGw1736129093919.js";import"./object-hash.CvGuPWVa1736129093919.js";import"./@amap.DhOO2qTl1736129093919.js";import"./crypto-js.ChIcq6Eo1736129093919.js";import"./three-custom-shader-material.LMK2zh-z1736129093919.js";import"./three.quarks.Bd0L6lmU1736129093919.js";import"./quarks.core.C7CDonSm1736129093919.js";const y=I;!function(n,t){const e=I,i=j();for(;;)try{if(483061===parseInt(e(397))/1+parseInt(e(432))/2+parseInt(e(393))/3+-parseInt(e(399))/4*(parseInt(e(417))/5)+parseInt(e(410))/6+-parseInt(e(400))/7+parseInt(e(390))/8*(-parseInt(e(386))/9))break;i.push(i.shift())}catch(o){i.push(i.shift())}}();const x=function(){let n=!0;return function(t,e){const i=n?function(){if(e){const n=e[I(403)](t,arguments);return e=null,n}}:function(){};return n=!1,i}}();function j(){const n=["division","error","424390tHgqGC","log","4900ZPoVzi","5528796tlEhRQ","call","value","apply","fragmentShader","MeshPhongMaterial","while (true) {}","wavePow","gger","trace","5516976mLrijt","info","time","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","bind","baseMaterial","3110sFsCWy","isReversed","init","toString","speed","chain","console","raisedBottom","direction","constructor","stateObject","table","action","input","divisionScaleX","455094XhimoT","side","waveFrequency",'{}.constructor("return this")( )',"47799fzHwbO","DoubleSide","length","string","632WgByXR","debu","gridWeight","2648925kNVRCs","exception"];return(j=function(){return n})()}!function(){x(this,(function(){const n=I,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(413),"i"),i=C(n(419));t[n(414)](i+n(422))&&e[n(414)](i+n(430))?C():i("0")}))()}();const _=function(){let n=!0;return function(t,e){const i=n?function(){if(e){const n=e[I(403)](t,arguments);return e=null,n}}:function(){};return n=!1,i}}();function I(n,t){const e=j();return(I=function(n,t){return e[n-=385]})(n,t)}_(void 0,(function(){const n=I,t=function(){const n=I;let t;try{t=Function("return (function() "+n(385)+");")()}catch(e){t=window}return t}(),e=t[n(423)]=t[n(423)]||{},i=[n(398),"warn",n(411),n(396),n(394),n(428),n(409)];for(let o=0;o<i[n(388)];o++){const t=_[n(426)].prototype[n(415)](_),r=i[o],s=e[r]||t;t.__proto__=_[n(415)](_),t.toString=s[n(420)][n(415)](s),e[r]=t}}))();const k=a({__name:"hexGridMaterial",props:{baseMaterial:{default:new(r[y(405)])},speed:{default:1},gridWeight:{default:.03},raisedBottom:{default:.05},waveFrequency:{default:.2},wavePow:{default:4},division:{default:32},divisionScaleX:{default:1},direction:{default:4},isReversed:{default:!1}},setup(e){const i=y,o=e,s={gridWeight:{value:o.gridWeight},raisedBottom:{value:o.raisedBottom},waveFrequency:{value:o[i(434)]},wavePow:{value:o[i(407)]},direction:{value:o[i(425)]},isReversed:{value:o[i(418)]},hasMaskTexture:{value:!1},maskTexture:{value:null},division:{value:o[i(395)]},divisionScaleX:{value:o[i(431)]},time:{value:0}};c((()=>[o[i(392)],o[i(424)],o[i(434)],o.wavePow,o.division,o[i(431)],o[i(425)],o.isReversed]),(([n,t,e,o,r,a,c,u])=>{const l=i;s[l(392)][l(402)]=n,s[l(424)].value=t,s[l(434)].value=e,s[l(407)][l(402)]=o,s[l(395)].value=r,s[l(431)][l(402)]=a,s[l(425)][l(402)]=c,s[l(418)][l(402)]=u}));const{onLoop:a}=n();return a((({delta:n})=>{const t=i;s[t(412)][t(402)]+=n*o[t(421)]})),(n,o)=>{const a=i;return u(),l(f(t),{baseMaterial:e[a(416)],vertexShader:"\nvarying vec2 uvPosition;\nvoid main() {\n    uvPosition = uv;\n}\n",side:r[a(387)],transparent:"",fragmentShader:f("varying vec2 uvPosition;\n\nuniform float time;\n\nuniform float raisedBottom;\nuniform float waveFrequency;\nuniform float wavePow;\nuniform int direction;\n\nuniform float division;\nuniform float divisionScaleX;\n\nuniform bool hasMaskTexture;\nuniform sampler2D maskTexture;\n\nuniform bool isReversed;\n\nuniform float gridWeight;\n\nfloat hexDist(vec2 p) {\n  p = abs(p);\n  float d = dot(p, normalize(vec2(1.0, 1.73)));\n  return max(d, p.x);\n}\nvec4 hexCoords(vec2 uv) {\n  vec2 r = vec2(1.0, 1.73);\n  vec2 h = r * 0.5;\n  vec2 a = mod(uv, r) - h;\n  vec2 b = mod(uv - h, r) - h;\n\n  vec2 gv = length(a) < length(b) ? a : b;\n  vec2 id = uv - gv;\n\n  float x = atan(gv.x, gv.y);\n  float y = 0.5 - hexDist(gv);\n\n  return vec4(x, y, id);\n}\n\nvoid main() {\n  vec2 uv = uvPosition * vec2(division * divisionScaleX, division);\n  vec4 hc = hexCoords(uv);\n  vec2 id = hc.zw;\n  float distance = id.y;\n  if (direction == 3) {\n    distance = id.x;\n  } else if (direction == 5) {\n    distance = length(id.xy);\n  } else if (direction == 6) {\n    vec2 center = vec2(0.5 * division * divisionScaleX, 0.5 * division);\n    distance = length(uv - center);\n  }\n  float wavy =\n      pow(sin((distance * waveFrequency - time)), wavePow) + raisedBottom;\n\n  float diffuseColorA = csm_DiffuseColor.a;\n  diffuseColorA *= wavy;\n\n  float mask = 1.0;\n  if (hasMaskTexture) {\n    vec2 uVm = id / vec2(division * divisionScaleX, division);\n    mask = texture2D(maskTexture, uVm).g;\n  }\n\n  float w = gridWeight + (1.0 - mask);\n  w = clamp(w, 0.0, 1.0);\n\n  float margin = clamp(w * 0.33, 0.00, 0.02);\n  float stepMax = w + margin;\n\n  float gridLine = smoothstep(w, stepMax, hc.y);\n  gridLine = isReversed ? 1.0 - gridLine : gridLine;\n  diffuseColorA *= gridLine;\n\n  \n  \n  csm_DiffuseColor.rgb *= diffuseColorA;\n\nfloat brightness = length(csm_DiffuseColor.rgb);\n\nfloat alphaBlend = smoothstep(0.0, 1.0, brightness);\n\ncsm_DiffuseColor.a *= alphaBlend;\n\ncsm_FragColor = vec4(csm_DiffuseColor.rgb, csm_DiffuseColor.a);\n}"),uniforms:s},null,8,[a(416),a(433),a(404)])}}});function C(n){function t(n){const e=I;if(typeof n===e(389))return function(n){}[e(426)](e(406))[e(403)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(391)+"gger")[e(401)](e(429)):function(){return!1}[e(426)](e(391)+e(408)).apply(e(427)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function P(){const n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","464755HaDPpv","93726MsIres","stateObject","56pgmfOC","rotation","console","info","chain","__proto__","bind","string","2205SBAuff","apply","constructor","7610730PITGGS",'{}.constructor("return this")( )',"TresMesh","toString","function *\\( *\\)","call","hexGridMesh","length","264888TFDdNy","log","trace","return (function() ","32NRLSau","2892708IozEuz","gger","action","counter","baseMaterial","debu","18708yYxdxJ","606164QAEkUA","while (true) {}","test","init"];return(P=function(){return n})()}const S=B;!function(n,t){const e=B,i=P();for(;;)try{if(552817===-parseInt(e(270))/1+parseInt(e(282))/2+parseInt(e(275))/3+parseInt(e(274))/4*(-parseInt(e(248))/5)+parseInt(e(281))/6*(parseInt(e(259))/7)+-parseInt(e(251))/8*(-parseInt(e(249))/9)+-parseInt(e(262))/10)break;i.push(i.shift())}catch(o){i.push(i.shift())}}();const R=function(){let n=!0;return function(t,e){const i=n?function(){if(e){const n=e[B(260)](t,arguments);return e=null,n}}:function(){};return n=!1,i}}();!function(){R(this,(function(){const n=B,t=new RegExp(n(266)),e=new RegExp(n(286),"i"),i=z(n(285));t[n(284)](i+n(255))&&e.test(i+n(247))?z():i("0")}))()}();const F=function(){let n=!0;return function(t,e){const i=n?function(){if(e){const n=e[B(260)](t,arguments);return e=null,n}}:function(){};return n=!1,i}}();F(void 0,(function(){const n=B;let t;try{t=Function(n(273)+n(263)+");")()}catch(o){t=window}const e=t.console=t[n(253)]||{},i=[n(271),"warn",n(254),"error","exception","table",n(272)];for(let r=0;r<i[n(269)];r++){const t=F[n(261)].prototype.bind(F),o=i[r],s=e[o]||t;t[n(256)]=F.bind(F),t[n(265)]=s[n(265)][n(257)](s),e[o]=t}}))();const M=[S(252)];function B(n,t){const e=P();return(B=function(n,t){return e[n-=247]})(n,t)}const D=a({__name:S(268),setup(n){const t=new s;return(n,e)=>{const i=B;return u(),d(i(264),{rotation:[-Math.PI/2,0,0]},[e[0]||(e[0]=p("TresPlaneGeometry",{args:[1,1]},null,-1)),m(k,v({baseMaterial:f(t)},n.$attrs),null,16,[i(279)])],8,M)}}});function z(n){function t(n){const e=B;if(typeof n===e(258))return function(n){}[e(261)](e(283))[e(260)](e(278));1!==(""+n/n)[e(269)]||n%20==0?function(){return!0}[e(261)]("debu"+e(276))[e(267)](e(277)):function(){return!1}[e(261)](e(280)+e(276))[e(260)](e(250)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const A=E;!function(n,t){const e=E,i=X();for(;;)try{if(600986===parseInt(e(438))/1*(parseInt(e(464))/2)+parseInt(e(422))/3*(parseInt(e(435))/4)+parseInt(e(455))/5+parseInt(e(425))/6*(parseInt(e(450))/7)+-parseInt(e(423))/8+parseInt(e(440))/9*(-parseInt(e(458))/10)+-parseInt(e(419))/11*(parseInt(e(429))/12))break;i.push(i.shift())}catch(o){i.push(i.shift())}}();const q=function(){let n=!0;return function(t,e){const i=n?function(){if(e){const n=e[E(443)](t,arguments);return e=null,n}}:function(){};return n=!1,i}}();!function(){q(this,(function(){const n=E,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(448),"i"),i=Z("init");t.test(i+n(434))&&e.test(i+"input")?Z():i("0")}))()}();const T=function(){let n=!0;return function(t,e){const i=n?function(){if(e){const n=e[E(443)](t,arguments);return e=null,n}}:function(){};return n=!1,i}}();function E(n,t){const e=X();return(E=function(n,t){return e[n-=419]})(n,t)}T(void 0,(function(){const n=E,t=function(){const n=E;let t;try{t=Function(n(424)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(442)]=t.console||{},i=[n(470),n(469),n(463),n(439),n(467),n(447),n(461)];for(let o=0;o<i[n(471)];o++){const t=T[n(446)][n(454)][n(457)](T),r=i[o],s=e[r]||t;t[n(441)]=T[n(457)](T),t[n(468)]=s[n(468)].bind(s),e[r]=t}}))();const W=a({__name:A(420),setup(n){const t=A,r=h({reflectivity:.8,showGridHelper:!1,scale:1}),s=h({color:t(465),speed:1.2,gridWeight:.03,raisedBottom:.05,waveFrequency:.2,wavePow:4,division:32,divisionScaleX:1,isReversed:!1,direction:4}),a=new i({title:t(420),expanded:!0});return a[t(452)](s,t(462),{label:"颜色"}),a[t(452)](s,"speed",{label:"速度",min:-5,max:5,step:.1}),a[t(452)](s,t(437),{label:t(445),min:.001,max:.5,step:.001}),a[t(452)](s,"raisedBottom",{label:t(473),min:.001,max:1,step:.001}),a[t(452)](s,"waveFrequency",{label:"分段",min:.001,max:1,step:.001}),a[t(452)](s,t(466),{label:t(436),min:1,max:30,step:.1}),a[t(452)](s,t(421),{label:t(433),min:.1,max:50,step:.1}),a[t(452)](s,t(459),{label:t(432),min:.1,max:10,step:.1}),a.addBinding(s,t(427),{label:t(426)}),a[t(452)](s,t(451),{label:t(449),min:3,max:6,step:1}),(n,i)=>{const a=t,c=g(a(453));return u(),l(c,{clearColor:"#666666","window-size":""},{default:w((()=>[i[0]||(i[0]=p(a(430),{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1)),m(f(e),{enableDamping:"",autoRotate:""}),(u(),l(b,null,{default:w((()=>[m(D,v(s,{scale:9}),null,16)])),_:1})),(u(),l(b,null,{default:w((()=>[m(o,v({position:[0,-.06,0]},r),null,16)])),_:1}))])),_:1})}}});function Z(n){function t(n){const e=E;if(typeof n===e(472))return function(n){}[e(446)]("while (true) {}").apply("counter");1!==(""+n/n)[e(471)]||n%20==0?function(){return!0}[e(446)]("debu"+e(460))[e(444)](e(428)):function(){return!1}.constructor(e(431)+e(460))[e(443)](e(456)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function X(){const n=["table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","方向类别","1568tBNtZi","direction","addBinding","TresCanvas","prototype","654430PUcPef","stateObject","bind","540CkKgfE","divisionScaleX","gger","trace","color","info","20qhfqFh","#de62f2","wavePow","exception","toString","warn","log","length","string","渐变宽度","77krpiFr","hexGridGround","division","3eVUkCt","1975056gZAZYE","return (function() ","10044soSZhK","颜色取反","isReversed","action","209028mEpSjn","TresPerspectiveCamera","debu","网格横向缩放","网格整体缩放","chain","2234212pCmFQQ","渐变强度","gridWeight","5556WjByOK","error","25029oRYZYz","__proto__","console","apply","call","网格宽度","constructor"];return(X=function(){return n})()}export{W as default};
