import{k as t}from"./@tresjs.C4A766dl1736129093919.js";import{cK as n,_ as e,aL as o,a as s,s as r,c9 as i,ak as c,am as a,aF as u,$ as l}from"./three.ES53pcRR1736129093919.js";import{P as p}from"./tweakpane.BCjFYDHx1736129093919.js";import{g as f,c as d}from"./index.B-rh8DoX1736129093919.js";import{d as g,r as m,X as h,s as w,q as y,e as x,o as j,D as b,j as v,g as I,J as k,u as _,m as B,f as M,al as A,I as C}from"./@vue.uQKhJ3x71736129093919.js";import{_ as S}from"./@fesjs.C11Gf8kF1736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./chalk.B3MNILV41736129093919.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1736129093919.js";import"./@iconify.CkmZGMLx1736129093919.js";import"./dompurify.MwRjsY0L1736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./oimophysics.B0i2NtyE1736129093919.js";import"./three-stdlib.hbqaGo6K1736129093919.js";import"./@pmndrs.CFxMGwGw1736129093919.js";import"./object-hash.CvGuPWVa1736129093919.js";import"./@amap.DhOO2qTl1736129093919.js";import"./crypto-js.ChIcq6Eo1736129093919.js";import"./three-custom-shader-material.LMK2zh-z1736129093919.js";import"./three.quarks.Bd0L6lmU1736129093919.js";import"./quarks.core.C7CDonSm1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./pinia.CtRHBYHM1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";const F=D;function T(){const t=["setXY","LineBasicMaterial","counter","10EhVLCg","console","min","LineSegments","718346eDaQyE","9mZiCVJ","init","action","while (true) {}","rotation","2152284yCsZzF","MeshBasicMaterial","8231154oDaYTw","MeshStandardMaterial","toString","Vector2","function *\\( *\\)","table","holes",'{}.constructor("return this")( )',"attributes","translate","getY","2879107INVNJM","computeBoundingBox","negate","gger","mBoundingBox","constructor","forEach","error","Vector3","name","getX","16997352ehRHhK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","return (function() ","count","boundingBox","EdgesGeometry","castShadow","debu","push","prototype","call","stateObject","#AFAFAD","length","info","getCenter","487413PWpAMs","drawImportSpecialBoard","position","receiveShadow","__proto__","Shape","copy","apply","add","material","508996cAiydm","max","bind","parse","trace","log"];return(T=function(){return t})()}!function(t,n){const e=D,o=T();for(;;)try{if(968007===parseInt(e(475))/1+parseInt(e(498))/2+parseInt(e(504))/3+parseInt(e(485))/4*(-parseInt(e(494))/5)+parseInt(e(506))/6+parseInt(e(447))/7+-parseInt(e(458))/8*(parseInt(e(499))/9))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=D,n=new RegExp(t(510)),e=new RegExp(t(459),"i"),o=q(t(500));n.test(o+"chain")&&e.test(o+"input")?q():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=T();return(D=function(t,n){return e[t-=441]})(t,n)}z(void 0,(function(){const t=D;let n;try{n=Function(t(461)+t(443)+");")()}catch(s){n=window}const e=n.console=n[t(495)]||{},o=[t(490),t(460),t(473),t(454),"exception",t(441),t(489)];for(let r=0;r<o.length;r++){const n=z[t(452)][t(468)][t(487)](z),s=o[r],i=e[s]||n;n[t(479)]=z[t(487)](z),n[t(508)]=i[t(508)].bind(i),e[s]=n}}))();class E{constructor(t){this[D(456)]=t}[F(476)](t,i,c){const a=F,u=(new n)[a(488)](i),l=new(e[a(480)]);u.paths[a(453)](((t,n)=>{const e=a;t.toShapes(!0)[e(453)](((t,o)=>{const s=e;0===n&&0===o?l[s(481)](t):l[s(442)][s(467)](t)}))}));const p=new o(l,{depth:18,bevelEnabled:!1});p[a(448)]();const f=p[a(463)][a(474)](new(e[a(455)]))[a(449)]();p[a(445)](f.x,f.y,f.z),p[a(448)]();const d=p[a(463)][a(486)],g=p[a(463)][a(496)],m=new(e[a(509)])(0-g.x,0-g.y),h=new(e[a(509)])(d.x-g.x,d.y-g.y);p[a(444)].uv=new s(new Float32Array(2*p.attributes[a(477)][a(462)]),2);for(let n=0;n<p[a(444)][a(477)][a(462)];n++){const t=p.attributes[a(477)][a(457)](n),e=p[a(444)].position[a(446)](n);p[a(444)].uv[a(491)](n,(t+m.x)/h.x,(e+m.y)/h.y)}const w=new(e[a(505)])({map:null}),y=new r(p,w);y[a(484)]=new(e[a(507)])({map:null,color:a(471),roughness:1,metalness:.1,envMapIntensity:2.5}),y[a(478)]=!0,y[a(465)]=!0,y.position.x=c,y[a(477)].y=250;const x=new(e[a(492)])({color:0}),j=new(e[a(464)])(y.geometry,1),b=new(e[a(497)])(j,x);b.renderOrder=1,b.position.copy(y[a(477)]),b[a(503)].copy(y[a(503)]),y[a(451)]=b,t[a(483)](y,y[a(451)])}}function q(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(452)](e(502))[e(482)](e(493));1!==(""+t/t)[e(472)]||t%20==0?function(){return!0}.constructor(e(466)+e(450))[e(469)](e(501)):function(){return!1}[e(452)](e(466)+"gger").apply(e(470)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=G;!function(t,n){const e=G,o=J();for(;;)try{if(219018===-parseInt(e(223))/1+-parseInt(e(174))/2+parseInt(e(140))/3*(parseInt(e(224))/4)+parseInt(e(153))/5+-parseInt(e(161))/6+parseInt(e(145))/7*(-parseInt(e(187))/8)+-parseInt(e(160))/9*(-parseInt(e(173))/10))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(220)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=G,n=new RegExp(t(191)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y("init");n[t(229)](o+t(238))&&e[t(229)](o+"input")?Y():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(220)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=G;let n;try{n=Function(t(215)+t(182)+");")()}catch(s){n=window}const e=n[t(197)]=n[t(197)]||{},o=["log","warn",t(189),t(209),"exception","table",t(142)];for(let r=0;r<o.length;r++){const n=V[t(240)][t(172)][t(239)](V),s=o[r],i=e[s]||n;n[t(147)]=V[t(239)](V),n.toString=i[t(192)].bind(i),e[s]=n}}))();const X={key:0,class:L(180)},Z={class:L(146)};function G(t,n){const e=J();return(G=function(t,n){return e[t-=140]})(t,n)}function J(){const t=["gger","#ffffff","299383hUkqff","footBtn","__proto__","groupRef","pos-z.jpg","dialogVisible","onerror","type","1735080ghmlWB","drawImportSpecialBoard","#627179","value","TresMeshBasicMaterial","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","fileInput","3575277igBDwF","1150638PidPAg","input","counter","button","svg-display","init","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","blue","TresMesh","xMidYMid meet","加载脚本 ","prototype","20otSpRU","720782AJdMHA","#svg-display svg","TresPerspectiveCamera","assembly","head","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","dialogDiv","click",'{}.constructor("return this")( )',"addFolder","appendChild","TresGroup","#82DBC5","72JsCcan","neg-y.jpg","info","debu","function *\\( *\\)","toString","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","TresBoxGeometry","TresAmbientLight","outerHTML","console","stateObject","onload","then","#3a78a2","下载测试文件1","boxMeshRef","children","translate(50, 50)","pos-x.jpg","1.1","catch","error","action","TresDirectionalLight","src","string","下载测试文件2","return (function() ","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","初始化","#776A8F","div","apply","while (true) {}","pos-y.jpg","205911vpqqbI","16LCuWrg","file","length","http://www.w3.org/2000/svg","add","test","10000","open","call","createElement","导入dxf","addButton","dxf2svg","svg","chain","bind","constructor","_blank","script","165369vVrnkR","localFileReader","trace"];return(J=function(){return t})()}function Y(t){function n(t){const e=G;if(typeof t===e(213))return function(t){}[e(240)](e(221)).apply(e(163));1!==(""+t/t)[e(226)]||t%20==0?function(){return!0}[e(240)](e(190)+e(143))[e(232)](e(210)):function(){return!1}[e(240)](e(190)+"gger")[e(220)](e(198)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=S(g({__name:"dxf2meshPage",setup(n){const e=L,o=m({dialogVisible:!1}),s={clearColor:e(186),shadows:!0,alpha:!1,shadowMapType:i,outputColorSpace:c,toneMapping:a},g=m({cellSize:60,cellThickness:1.1,cellColor:e(155),sectionColor:e(201),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let S=0;const F=h(),T=h(),R=new p;R[e(235)]({title:e(202)}).on(e(181),(()=>{window[e(231)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf","_blank")})),R[e(235)]({title:e(214)}).on(e(181),(()=>{const t=e;window.open("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(241))}));const z=R[e(183)]({title:"远近"});function D(){const t=e,n=T[t(156)];o[t(150)]=!1;const s=document.querySelector(t(175));if(s){const e=s[t(196)];let o=new E;S+=1200,o[t(154)](n,e,S)}}function q(t){return new Promise(((n,e)=>{const o=G,s=document[o(233)](o(242));s[o(212)]=t,s[o(152)]="text/javascript",s[o(199)]=()=>n(),s[o(151)]=()=>e(new Error(o(171)+t+" 时出错")),document[o(178)][o(184)](s)}))}return z[e(235)]({title:e(234)}).on(e(181),(()=>{const t=e;o[t(150)]=!0,w((()=>{const n=t;window[n(141)][n(166)]()}))})),z[e(235)]({title:e(217)}).on(e(181),(()=>{!function(){const t=e,n=new u(500,500,18),o=new l({color:t(168)}),s=new r(n,o),i=T[t(156)];for(;i[t(204)].length>0;){const n=i[t(204)][0];i.remove(n)}i[t(228)](s)}()})),y((()=>{!function(){const t=e;q(t(167)).then((()=>q(t(193))))[t(200)]((()=>q(t(216))))[t(200)]((()=>q("plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js")))[t(200)]((()=>q("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js")))[t(200)]((()=>q(t(158))))[t(208)]((n=>console[t(209)]("加载脚本时出错",n)))}()})),(n,r)=>{const i=e,c=x("TresCanvas");return j(),b(i(219),null,[v(c,B(s,{"window-size":""}),{default:I((()=>[r[2]||(r[2]=k(i(176),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),v(_(t),{"make-default":""}),r[3]||(r[3]=k("TresGridHelper",{position:[0,-1,0],size:"1000",divisions:i(230)},null,-1)),k(i(185),{ref_key:i(148),ref:T,position:[2,250,0]},[k(i(169),{ref_key:i(203),ref:F},r[1]||(r[1]=[k(i(194),{args:[500,500,18]},null,-1),k(i(157),{color:"blue"},null,-1)]),512)],512),r[4]||(r[4]=k(i(195),{color:i(144),intensity:1},null,-1)),r[5]||(r[5]=k(i(211),{color:i(144),position:[300,300,250],intensity:6},null,-1)),v(_(f),B({args:[3,3]},g,{position:[0,-.5,0]}),null,16),(j(),M(A,null,{default:I((()=>[v(_(d),{files:[i(206),"neg-x.jpg",i(222),i(188),i(149),"neg-z.jpg"],path:i(179)})])),_:1}))])),_:1},16),o[i(150)]?(j(),b(i(219),X,[r[6]||(r[6]=k(i(219),{id:i(165),class:i(177),style:{}},[k(i(237),{id:"main-svg",xmlns:i(227),"xmlns:svg":i(227),"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",version:i(207),preserveAspectRatio:i(170)},[k("g",{id:i(236),class:"pen1","stroke-width":"6",fill:i(218),transform:i(205)})])],-1)),r[7]||(r[7]=k(i(219),{class:i(159)},[k(i(162),{id:"dxfFileInput",type:i(225)})],-1)),k(i(219),Z,[k(i(164),{onClick:r[0]||(r[0]=t=>o[i(150)]=!1)},"取消"),k(i(164),{onClick:D},"确定")])])):C("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{$ as default};
