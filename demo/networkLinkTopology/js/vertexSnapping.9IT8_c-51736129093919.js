import{aT as t,ai as n}from"./three.ES53pcRR1736129093919.js";import{c as o,U as i,H as e}from"./@tresjs.C4A766dl1736129093919.js";import{c as r,d as s}from"./index.B-rh8DoX1736129093919.js";import{P as u}from"./tweakpane.BCjFYDHx1736129093919.js";import{d as c,a0 as a,w as p,o as l,D as f,a6 as m,u as d,r as h,f as g,g as v,J as I,j as b,al as y,m as j}from"./@vue.uQKhJ3x71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./@fesjs.C11Gf8kF1736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./pinia.CtRHBYHM1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";import"./chalk.B3MNILV41736129093919.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1736129093919.js";import"./@iconify.CkmZGMLx1736129093919.js";import"./dompurify.MwRjsY0L1736129093919.js";import"./oimophysics.B0i2NtyE1736129093919.js";import"./three-stdlib.hbqaGo6K1736129093919.js";import"./@pmndrs.CFxMGwGw1736129093919.js";import"./object-hash.CvGuPWVa1736129093919.js";import"./@amap.DhOO2qTl1736129093919.js";import"./crypto-js.ChIcq6Eo1736129093919.js";import"./three-custom-shader-material.LMK2zh-z1736129093919.js";import"./three.quarks.Bd0L6lmU1736129093919.js";import"./quarks.core.C7CDonSm1736129093919.js";const S=P;!function(t,n){const o=P,i=M();for(;;)try{if(269007===-parseInt(o(254))/1+parseInt(o(255))/2+-parseInt(o(212))/3+parseInt(o(214))/4*(-parseInt(o(240))/5)+-parseInt(o(257))/6+-parseInt(o(230))/7*(parseInt(o(225))/8)+-parseInt(o(248))/9*(-parseInt(o(223))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const x=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[P(227)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){x(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(226),"i"),i=T("init");n[t(213)](i+t(243))&&o[t(213)](i+t(252))?T():i("0")}))()}();const R=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[P(227)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();R(void 0,(function(){const t=P;let n;try{n=Function(t(246)+'{}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(215)]=n.console||{},i=[t(228),t(222),t(220),t(219),t(253),t(221),t(232)];for(let r=0;r<i[t(251)];r++){const n=R.constructor[t(256)][t(241)](R),e=i[r],s=o[e]||n;n[t(231)]=R[t(241)](R),n[t(247)]=s.toString.bind(s),o[e]=n}}))();const _=["object"];function P(t,n){const o=M();return(P=function(t,n){return o[t-=212]})(t,n)}const w=c({__name:S(218),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new t({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=S,o=t,i=a(o[n(238)]);return o[n(258)][n(239)]=t=>{const o=n;t[o(229)][o(238)]=i,t[o(237)]=t[o(237)].replace(o(249),o(259)),t.vertexShader=t[o(237)][o(261)](o(233),o(217))},p((()=>o[n(238)]),(t=>{i.value=t})),(t,o)=>{const i=n;return l(),f(i(242),{object:t[i(258)]},null,8,_)}}});function M(){const t=["action","replace","544545OYsnVM","test","323276ATJXOu","console","while (true) {}","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","com","error","info","table","warn","130NYACGq","stateObject","1275320ugWEZJ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","log","uniforms","14hDzXjm","__proto__","trace","#include <project_vertex>","constructor","debu","call","vertexShader","uSnappingResolution","onBeforeCompile","15SvdXfP","bind","primitive","chain","counter","gger","return (function() ","toString","1158579Nddnpd","#include <common>","string","length","input","exception","483223KwuJVs","628080TdMWhr","prototype","2955066EnLnKG","srcMaterial","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"];return(M=function(){return t})()}function T(t){function n(t){const o=P;if(typeof t===o(250))return function(t){}[o(234)](o(216))[o(227)](o(244));1!==(""+t/t).length||t%20==0?function(){return!0}[o(234)](o(235)+o(245))[o(236)](o(260)):function(){return!1}[o(234)]("debugger").apply(o(224)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=k,i=E();for(;;)try{if(852117===parseInt(o(530))/1*(-parseInt(o(502))/2)+parseInt(o(528))/3*(parseInt(o(495))/4)+-parseInt(o(509))/5+parseInt(o(512))/6*(-parseInt(o(531))/7)+parseInt(o(504))/8+parseInt(o(527))/9+-parseInt(o(523))/10*(parseInt(o(503))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const A=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function E(){const t=["constructor","action","uniforms","stateObject","console","replace","1046yUthPL","81697Kyacpj","12904408bMaCRQ","chain","toString",'{}.constructor("return this")( )',"length","3602530SMruuB","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","366204AFYaYE","counter","call","info","exception","#include <common>","table","vertexShader","gger","uSnappingResolution","warn","1980TgMpch","return (function() ","apply","onBeforeCompile","7963308lxzDjG","202719heWTBz","bind","116ksrnQF","70eJnFyT","input","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","log","test","__proto__","prototype","72gywbfR"];return(E=function(){return t})()}!function(){A(this,(function(){const t=k,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(534),"i"),i=C("init");n[t(492)](i+t(505))&&o[t(492)](i+t(532))?C():i("0")}))()}();const z=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function k(t,n){const o=E();return(k=function(t,n){return o[t-=492]})(t,n)}function C(t){function n(t){const o=k;if("string"==typeof t)return function(t){}[o(496)](o(533))[o(525)](o(513));1!==(""+t/t)[o(508)]||t%20==0?function(){return!0}[o(496)]("debu"+o(520))[o(514)](o(497)):function(){return!1}[o(496)]("debu"+o(520))[o(525)](o(499)),n(++t)}try{if(t)return n;n(0)}catch(o){}}z(void 0,(function(){const t=k;let n;try{n=Function(t(524)+t(507)+");")()}catch(e){n=window}const o=n[t(500)]=n[t(500)]||{},i=[t(536),t(522),t(515),t(535),t(516),t(518),"trace"];for(let r=0;r<i.length;r++){const n=z[t(496)][t(494)][t(529)](z),e=i[r],s=o[e]||n;n[t(493)]=z[t(529)](z),n[t(506)]=s[t(506)].bind(s),o[e]=n}}))();const G=O;!function(t,n){const o=O,i=B();for(;;)try{if(176549===parseInt(o(452))/1*(parseInt(o(431))/2)+parseInt(o(443))/3+-parseInt(o(432))/4*(-parseInt(o(465))/5)+-parseInt(o(460))/6*(-parseInt(o(468))/7)+parseInt(o(456))/8*(parseInt(o(442))/9)+-parseInt(o(470))/10+parseInt(o(439))/11*(-parseInt(o(471))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const N=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){N(this,(function(){const t=O,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(436),"i"),i=Z(t(433));n[t(474)](i+"chain")&&o.test(i+t(438))?Z():i("0")}))()}();const F=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[O(434)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function B(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","input","44idHJIo","console","bind","859545QFmHTB","923487eGMbHu","prototype","return (function() ",'{}.constructor("return this")( )',"table","error","./draco/","stateObject","length","339088OPGuDl","warn","uSnappingResolution","constructor","8CWvxmb","gger","value","values","515376dbRNbA","primitive","toString","string","exception","1152095dFOmAW","trace","object","14rRKYWn","forEach","2621120lzkMHH","2117916kGBsql","model","push","test","call","2lqpnYW","4iWAWjm","init","apply","info"];return(B=function(){return t})()}F(void 0,(function(){const t=O,n=function(){const t=O;let n;try{n=Function(t(445)+t(446)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(440)]||{},i=[t(437),t(453),t(435),t(448),t(464),t(447),t(466)];for(let e=0;e<i[t(451)];e++){const n=F[t(455)][t(444)].bind(F),r=i[e],s=o[r]||n;n.__proto__=F[t(441)](F),n[t(462)]=s[t(462)][t(441)](s),o[r]=n}}))();const W=[G(467)];function O(t,n){const o=B();return(O=function(t,n){return o[t-=431]})(t,n)}const J=c({__name:G(472),props:{uSnappingResolution:{default:6}},async setup(t){const n=G;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb",{draco:!0,decoderPath:n(449)}))),i=await i,e(),i),c=[];return Object[n(459)](u).forEach((t=>{const o=n;c[o(473)](function(t,n=6){const o=k,i={value:n};return t[o(526)]=t=>{const n=o;t[n(498)][n(521)]=i,t[n(519)]=t.vertexShader[n(501)](n(517),n(511)),t[n(519)]=t.vertexShader.replace("#include <project_vertex>",n(510))},i}(t,r[o(454)]))})),p((()=>r.uSnappingResolution),(t=>{const o=n;c[o(469)]((n=>{n[o(458)]=t}))})),(t,o)=>{const i=n;return l(),f(i(461),{object:d(s),scale:5,position:[0,-2,0]},null,8,W)}}});function Z(t){function n(t){const o=O;if(typeof t===o(463))return function(t){}.constructor("while (true) {}")[o(434)]("counter");1!==(""+t/t)[o(451)]||t%20==0?function(){return!0}[o(455)]("debu"+o(457))[o(475)]("action"):function(){return!1}[o(455)]("debu"+o(457))[o(434)](o(450)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const D=q;!function(t,n){const o=q,i=U();for(;;)try{if(604605===parseInt(o(205))/1*(-parseInt(o(172))/2)+-parseInt(o(165))/3*(-parseInt(o(171))/4)+-parseInt(o(200))/5*(-parseInt(o(189))/6)+-parseInt(o(180))/7*(parseInt(o(160))/8)+parseInt(o(209))/9+-parseInt(o(177))/10*(parseInt(o(202))/11)+parseInt(o(193))/12*(parseInt(o(187))/13))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const H=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[q(182)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=q,n=new RegExp(t(169)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Y(t(206));n[t(199)](i+t(166))&&o[t(199)](i+t(161))?Y():i("0")}))()}();const K=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[q(182)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();K(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(173)+t(196)+");")()}catch(o){n=window}return n}(),o=n[t(185)]=n[t(185)]||{},i=["log",t(176),t(178),t(164),t(211),"table",t(190)];for(let e=0;e<i[t(168)];e++){const n=K.constructor[t(192)].bind(K),r=i[e],s=o[r]||n;n.__proto__=K.bind(K),n[t(203)]=s[t(203)][t(174)](s),o[r]=n}}))();const L={position:[5,.9,-5],name:D(210)};function U(){const t=["toString","circle","3ndQaKb","init","addBinding","TresTorusKnotGeometry","375534KVdGPJ","torus","exception","8SvzWWK","input","stateObject","TresMesh","error","858312CUERNd","chain","TresPerspectiveCamera","length","function *\\( *\\)","TresCylinderGeometry","4atQRkD","394126CLFsxv","return (function() ","bind","gger","warn","102490xtfuaS","info","TresDirectionalLight","3295663GhNidE","debu","apply","TresAmbientLight","while (true) {}","console","uSnappingResolution","49283ubLViD","constructor","12OLFUvL","trace","string","prototype","3012NJcTcd","rotation-x","rotation-y",'{}.constructor("return this")( )',"action","vertexSnapping","test","1583020JTxyDR","modelSnappingResolution","264RwAxal"];return(U=function(){return t})()}const $=c({__name:D(198),setup(t){const o=D,c=h({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=h({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p.addBinding(a,"uSnappingResolution",{label:"圆环扭结-分辨率",min:0,max:20,step:.01}),p[o(207)](a,o(201),{label:"自行车模型-分辨率",min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),g(d(e),j(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(167),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),b(d(i)),n[2]||(n[2]=I(u(183),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(179),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I("TresMesh",{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:"cube"},[I(u(170),{args:[1.5,1.5,2]}),I("TresMeshStandardMaterial",{color:16737826,roughness:0,metalness:0})],-1)),I(u(163),L,[n[0]||(n[0]=I(u(208),{args:[1,.35,100,32]},null,-1)),b(w,{uSnappingResolution:a[u(186)]},null,8,[u(186)])]),(l(),g(y,null,{default:v((()=>[b(J,{uSnappingResolution:a[u(201)]},null,8,[u(186)])])),_:1})),(l(),g(y,null,{default:v((()=>[b(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[b(d(s),{intensity:2,form:u(204),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),b(d(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(194)]),b(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(195)]),b(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(195)])])),_:1})])),_:1}))])),_:1},16)}}});function q(t,n){const o=U();return(q=function(t,n){return o[t-=160]})(t,n)}function Y(t){function n(t){const o=q;if(typeof t===o(191))return function(t){}[o(188)](o(184))[o(182)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(188)](o(181)+o(175)).call(o(197)):function(){return!1}[o(188)]("debu"+o(175))[o(182)](o(162)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{$ as default};
