import{a as t,B as n,s as e,cg as o,C as r,k as s,a0 as c}from"./three.ES53pcRR1736129093919.js";import{w as i}from"./@fesjs.C11Gf8kF1736129093919.js";import{a}from"./@tresjs.C4A766dl1736129093919.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.DE7kZA-N1736129093919.js";!function(t,n){const e=m,o=w();for(;;)try{if(524308===-parseInt(e(316))/1*(-parseInt(e(299))/2)+-parseInt(e(267))/3+parseInt(e(278))/4*(-parseInt(e(311))/5)+-parseInt(e(289))/6*(parseInt(e(305))/7)+-parseInt(e(273))/8*(-parseInt(e(263))/9)+parseInt(e(254))/10+parseInt(e(279))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=m,n=new RegExp(t(256)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=j(t(312));n[t(301)](o+"chain")&&e.test(o+"input")?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=w();return(m=function(t,n){return e[t-=248]})(t,n)}g(void 0,(function(){const t=m;let n;try{n=Function(t(315)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(280)]=n[t(280)]||{},o=[t(317),t(261),t(297),t(302),t(307),t(308),"trace"];for(let s=0;s<o[t(321)];s++){const n=g.constructor[t(294)][t(304)](g),r=o[s],c=e[r]||n;n.__proto__=g[t(304)](g),n[t(260)]=c[t(260)][t(304)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=m;n.computeBoundingBox();const{max:r,min:s}=n[o(320)];n[o(271)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n.attributes[o(283)][o(287)];t++)e?(a[o(314)]((n[o(293)][o(283)][o(276)](t)-(s.x+r.x)/2)/c),a[o(314)]((n[o(293)][o(283)].getY(t)-(s.y+r.y)/2)/i)):(a[o(314)]((n.attributes[o(283)].getX(t)-s.x)/c),a[o(314)]((n[o(293)][o(283)][o(306)](t)-s.y)/i));const u=new Float32Array(a);n[o(264)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=m;i(t,{},{method:r(313),mergeRequest:!0,responseType:"json"}).then((t=>{const o=r;n&&e(t[n]),e(t[o(249)])}))[r(284)]((t=>{console[r(302)](t),o(t)}))}));function w(){const t=["reflectivity","call","gger","setY","783590IazLID","geometry","function *\\( *\\)","copy","Vector3","children","toString","warn","material","2103318KhsoyF","setAttribute","max","add","2609175gtNIff","apply","config","getCenter","deleteAttribute","computeBoundingBox","8KlAZlu","depthTest","string","getX","while (true) {}","297260DTZqkH","6119014DDlmci","console","negate","applyMatrix4","position","catch","min","debu","count","center","174XwTJVp","action","value","sub","attributes","prototype","set","transparent","info","raycast","2ScDken","expandByObject","test","error","getSize","bind","65009XKXbUb","getY","exception","table","constructor","Box3","10TpbblL","init","get","push","return (function() ","943651wqXoPY","log","uniforms","disposeBoundsTree","boundingBox","length","computeBoundsTree","clone","setFromObject","features"];return(w=function(){return t})()}const y=t=>{const n=m,e=(new(THREE[n(310)]))[n(248)](t),o=new(THREE[n(258)]);e[n(270)](o),t[n(259)].forEach((t=>{const e=n;t[e(283)][e(292)](o)})),t.position[n(257)](o[n(281)]())},b=()=>{const t=m;n[t(294)].computeBoundsTree=u,n.prototype[t(319)]=p,e[t(294)][t(298)]=f},x=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(255)][n(323)]();h(i),i[n(322)]();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(262)][n(296)]=!0,u[n(262)].depthWrite=!0,u[n(262)][n(274)]=!0,u[n(262)].side=c,u[n(262)][n(318)][n(269)][n(291)].w=20,u[n(262)].uniforms[n(250)][n(291)]=.46,u};function I(t){const n=m,e=[];for(let r=0;r<t[n(321)];r++)e[n(314)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(321)];r++)o[n(266)](e[r]);o.divideScalar(e[n(321)]);for(let r=0;r<e[n(321)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=m;if(typeof t===e(275))return function(t){}[e(309)](e(277)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(309)]("debu"+e(252))[e(251)](e(290)):function(){return!1}[e(309)](e(286)+e(252))[e(268)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,I as g,b as i,d as l,h as r,x as s};
