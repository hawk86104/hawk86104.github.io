var t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d,w=Object.defineProperty,g=(t,e,s)=>(((t,e,s)=>{e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as S}from"./pagesShow.vue_vue_type_script_setup_true_lang.BCCAmrnj1736129093919.js";import{_ as y,V as v,g as x,a as P,X as I,w as A,a2 as F,aB as T,cx as b,as as E,C as z,k as O,an as R}from"./three.ES53pcRR1736129093919.js";import{m as V,e as q}from"./@tresjs.C4A766dl1736129093919.js";import{d as C,b as M,a3 as N,o as _,f as U,g as B,j as D}from"./@vue.uQKhJ3x71736129093919.js";import"./three-custom-shader-material.LMK2zh-z1736129093919.js";import"./buildingsCustomShaderMaterial.DlgvFSb71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";function X(){const t=["attribute vec2 size;\n","components","directionGenerator","activeParticleCount","rotations","cos","varying vec2 vUV1;\n","start","activeCount","toString","chain","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","updateMeshBounds","applyMatrix4","12hnorhD","#include <common>","sqrt","localT","   int sequenceNumber = int(sequenceElement.y);\n","copyState","PointLight","getElement","atlas","add","lifetimes","outTypeID","uniformOffset","randomGenerator","emissionMaximum","input","initialColor","getState","speed","187BOFyEc","onUpdate","750216bKVmpu","getTypePath","   float upperSide; \n","void main() { \n","    \n  #include <logdepthbuf_fragment> \n","computeBoundingBox","Vector2","render","pause","JSONTypeStore::addTypeToNamespace() -> typeName already exists","createMaterial","attribute vec4 sequenceElement;\n","init","boundingBox","autoClear","   float atlasFrameWidth = atlasFrames.z; \n","action","       upperSide = baseUV.y; \n","test","cameraFar","getSystemState","Additive","setBoundingBox","21znxGwX","rangeRadius","instanced","particleSequences",'ParticleStateArray::setState() -> "index" is out of range.',"addNamespace","getTexture","systemState","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","outType","offsetZ","       float dRightV = rotVecStep.w - rotVecStep.z; \n","parent","scaleY","maxParticleCount","namespace","2vpJUBr","const int MAX_ATLAS_FRAME_SETS = 16; \n","checkAndAddTypeName","nextIntensityAdjuster","getParticleSystemRenderer","getFrameSet","generator","timeScaledAcceleration","string","verticesPerParticle","rotationalSpeeds","emitterInitialized","clone","OneMinusSrcAlphaFactor","warn","getInterpolationValuesForTValue","basePositions","fromArray","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","lastPositionAdjuster","updateEmitCount","boundingSphere","480475xFYxFW","emissionDuration","age","flushParticleStateToBuffers","timeActive","setDrawRange","element","allocate","getColors","normals","visible","framesets","DynamicDrawUsage","getTexturePath","addElementsFromElementClassAndParameters","intensityFlux","82623ajqzDo",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"size","initializeState","lifetime","baseUVs","getActiveParticleCount","JSONTypeStore::addNamespace() -> namespace already exists","   vec4 viewPosition; \n","particleStateOperators","constructor","loadJSONParameter","NotStarted","   float uvYOffset = atlasFrameHeight * upperSide; \n","gger",'ParticleStateArray::getState() -> "index" is out of range.',"multiplyScalar","geometry","prototype","positionAdjuster","onUpdateCallback","setOwner","Time","ShaderMaterial","getType","   if (instanced != 1) { \n","parseTypeString","       upperSide = upperSideStep.x + upperSideStep.y;\n","NormalBlending","lastPositionFlickerTime","set","   gl_FragColor.a *= vFragAlpha; \n","emitCount","matrixWorldNeedsUpdate","Vector4","   vec2 uv2; \n","default","769596DrfuOk","Object3D","alpha","setX","getInterpolatedValue",'{}.constructor("return this")( )',"emissionRate","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","elementTypeID","currentSrc","addFrameSet","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","updateState","transformDirection","velocities","Mesh","floor","speedRange",'ParticleStateAttributeArray::setState() -> "index" is out of range.','ContinuousArray::getElement() -> "index" is out of bounds.',"getGeometry","stop","offsetTheta","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","transformInitialDirectionInWorldSpace","tValue","max","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","setParticleCount","addComponent","Box3","relativeToInitialValue","   \n  #include <logdepthbuf_vertex> \n","uniform sampler2D atlasTexture;\n","accelerations","update","owner","velocity","attribute float rotation;\n","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","center","uniformRange",'ParticleSystem::getParticleState() -> "index" is out of range.',"currentTime","sequences","   float atlasFrameY = atlasFrames.y; \n","progressTypes","attribute float alpha;\n","getSequence","apply","getParticleState","stateVelocity","___photonsTypeID","updateWorldMatrix","initialColors","varying float vSequenceElementT; \n","AdditiveBlending","offset","addParticleStateInitializer","progressType","operators","getParticleStateInitializerCount","console","       rightSide = baseUV.x; \n","baseURI","setAttribute","scaleZ","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","upperIndex","   const vec2 left = vec2(-1.0, 0.0);\n","varying vec3 vFragColor;\n","simulateInWorldSpace","getParticleSequences","addElementsFromParameters","lastIntensityAdjuster","varying float vFragAlpha;\n","particleStateInitializers","4291506MKThbc","calculateBoundingSphereFromBox","matrixWorld","uniformsNeedUpdate","Shader","sizes","customIndex","jsonTypeNames","emissionRelativeStartTime","attribute vec4 particlePosition;\n","addTypeToNamespace","Color","   const vec2 down = vec2(0.0, -1.0);\n","offsetX","min","debu","blending","maximumActiveParticles","VertexVars","hasID","   const vec2 up = vec2(0.0, 1.0);\n",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"typeName","copyTo","computeBoundingSphere","frameSets","tempUp","#include <common> \n","setAll","lastUpdateTime","Running","setTransformInitialDirectionInWorldSpace","table","InstancedBufferAttribute","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","length","rotationalSpeed","getTypeID","attribute float customIndex;\n","attribute vec3 color;\n","bind","Sphere","FragmentVars","   int nRowYTile = int(SNOverHS);\n","rotation","reverse","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","   float rightSide; \n","       rotVec = position.xy; \n ","uniform int interpolateAtlasFrames; \n","addType","indexOf","normalizeDirection","jsonTypes","ParticleSystem::init() -> trying to intialize more than once.","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","calculatingBoundingSphereFromBox","mesh","sequenceElements","Done","particleSystems","offsetPhi","edgeRadius","loop","       float uRightV = rotVecStep.z; \n","addParticleSequence","renderer","initializers","range","alphas","   } \n","setParticleSequences","camera","  \n #include <logdepthbuf_pars_vertex> \n","timeScaledVelocity","sequenceElement","Paused","startupTime","clamp","type","join","while (true) {}","   const vec2 uLeft = vec2(-1.0, 1.0);\n","getInterpolatorForTypeID","distance","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","random","function","uniforms","uniform vec2 uvOffset;\n","value","addParticleSystem","uniform int instanced; \n","parseNamespaceAndTypename","attribute vec2 baseUV;\n","       viewPosition = viewMatrix * particlePosition;\n","light","particlePosition","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","assign","particleEmitter","   const vec2 dRight = vec2(1.0, -1.0);\n","bias","function *\\( *\\)","ages","BufferGeometry","fromJSON","texturePath","setRGB","toJSON","   }  else { \n","activateParticles","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","   vec4 color2 = color1; \n","tValues","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","v4v","emissionMinimum","speedGenerator","advanceActiveParticle","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","instanceCount","acceleration","renderOrder","lastIntensityFlickerTime","material","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","setState",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"   float rotMag = rotation; \n","addSequence","rangeTheta","speedOffset","getFrameSetCount","emitter","setIntensity","advanceActiveParticles","colors","castShadow","radius","       float uLeftV = rotVecStep.x; \n","needsUpdate","elements","getVisible","ids","Default","getSequenceIDs","call","texture","startTime","interpolateAtlasFrames","getMaximumActiveParticles","initialized","} \n","addParticleStateOperator","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","particleCount","copyParticleInArray","initialAlphas","substr","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","uniform int simulateInWorldSpace; \n","   if (simulateInWorldSpace == 1) { \n","varying float vSequenceElementT;\n","   const vec2 uRight = vec2(1.0, 1.0);\n",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"lowerIndex","   float atlasFrameHeight = atlasFrames.w; \n","addElement","rangePhi","setXYZ","Normal","activateParticle","push","data","componentContainer","baseUV","hasOwnProperty","split","dispose","71146qxKZyx","shadow","typeIDGen","object","positions","setEmitter","scaleX","intensity","map","InstancedBufferGeometry","now","name","particleStates","particleSystemRenderer","generate","offsetRadius","toArray","initialAlpha","customIndexes","Vector3","Matrix4","setActiveParticleCount","varying vec2 vUV2;\n","   int sequenceLength = int(sequenceElement.w);\n","initialSizes","setSimulateInWorldSpace","height","updateBounds","setUsage","initialSize","   vec2 rotVec; \n","offsetY","keys","getParticleStateOperatorCount","source","setVisibile","   vFragAlpha = alpha; \n","normalize","getEmitter","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vFragColor = color; \n","getElementCount","internalUpdate","interpolationElements","getParameterJSON","Sequence","generateForElement","BufferAttribute","params","color","mapSize","getComponent","getSequenceElements","invert","   float uvXOffset = atlasFrameWidth * rightSide; \n","copy","far",'ComponentContainer::getComponent() -> "index" is out of range.',"JSONTypeStore::addTypeToNamespace() -> namespace does not exist","width","addElements","log","position","   float sequenceElementF = sequenceElement.x;\n","interpolator","getSimulateInWorldSpace","particleStateArray","near","exception","   int firstSequenceElement = int(sequenceElementF); \n","328170SVmRpr","setXY","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","getParticleStateArray","normal",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.'];return(X=function(){return t})()}const j=It;!function(t,e){const s=It,n=X();for(;;)try{if(243672===parseInt(s(346))/1+-parseInt(s(496))/2*(parseInt(s(534))/3)+-parseInt(s(571))/4+-parseInt(s(518))/5*(-parseInt(s(436))/6)+-parseInt(s(480))/7*(-parseInt(s(457))/8)+parseInt(s(650))/9+parseInt(s(416))/10*(-parseInt(s(455))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const J=class{constructor(t){this.name=t}};t=j(556),e=j(391),g(J,t,new J(j(556))),g(J,e,new J(j(391)));let W=J;class Y{constructor(){this[j(469)]()}[j(469)](){const t=j;this.progressType=W.Time,this.lifetime=1,this[t(520)]=0,this.sequenceElement=new(y[t(568)]),this[t(408)]=new(y[t(365)]),this[t(610)]=new v,this[t(772)]=new(y[t(365)]),this[t(420)]=new(y[t(365)]),this[t(694)]=0,this[t(686)]=0,this[t(536)]=new(y[t(463)]),this.color=new(y[t(661)]),this.alpha=1,this[t(375)]=new(y[t(463)]),this.initialColor=new(y[t(661)]),this[t(363)]=1}[j(678)](t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d){const w=j;this[w(632)]=t,this.lifetime=e,this.age=s,this[w(725)][w(401)](n),this[w(408)].copy(i),this.velocity.copy(r),this.acceleration[w(401)](a),this[w(420)].copy(o),this.rotation=c,this[w(686)]=h,this[w(536)]=l,this[w(395)].copy(u),this[w(573)]=p,this.initialSize[w(401)](f),this[w(452)][w(401)](m),this[w(363)]=d}[j(673)](t){const e=j;t[e(678)](this.progressType,this.lifetime,this.age,this.sequenceElement,this.position,this[e(610)],this.acceleration,this.normal,this[e(694)],this[e(686)],this.size,this[e(395)],this.alpha,this[e(375)],this[e(452)],this[e(363)])}[j(401)](t){const e=j;this.setAll(t[e(632)],t[e(538)],t.age,t[e(725)],t.position,t[e(610)],t[e(772)],t.normal,t[e(694)],t.rotationalSpeed,t[e(536)],t[e(395)],t[e(573)],t[e(375)],t.initialColor,t.initialAlpha)}}class k{constructor(){g(this,s,function(){const t=j,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=It,s=function(){const t=It;let e;try{e=Function("return (function() "+t(576)+");")()}catch(s){e=window}return e}(),n=s[t(635)]=s.console||{},i=[t(407),t(510),"info","error",t(414),t(682),"trace"];for(let r=0;r<i[t(685)];r++){const s=e[t(544)][t(552)][t(690)](e),a=i[r],o=n[a]||s;s.__proto__=e[t(690)](e),s[t(431)]=o[t(431)].bind(o),n[a]=s}}))();const s=new(y[t(365)]);return function(e=new(y[t(603)]),n=null){const i=t,r=e.min,a=e.max;for(let t=0;t<this.activeParticleCount;t++){const e=this[i(453)](t);let o=e[i(408)];n&&(s.copy(o),s[i(435)](n),o=s);const c=Math[i(599)](e[i(536)].x,e[i(536)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,f=o.z-c,m=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=f),(0==t||o.z>a.z)&&(a.z=m)}return e}}()),g(this,"computeBoundingSphere",function(){const t=j,e=new(y[t(365)]),s=new(y[t(365)]),n=new(y[t(365)]);return function(i=new x,r=null){const a=t;let o=0;for(let t=0;t<this[a(425)];t++){const i=this[a(453)](t);let c=i[a(408)];r&&(n[a(401)](c),n[a(435)](r),c=n);const h=Math[a(599)](i[a(536)].x,i[a(536)].y);if(0==t)e[a(401)](c),o=h;else{s[a(401)](c).sub(e);const t=s[a(685)]()+h;if(t>o){const n=(t-o)/2;s[a(383)]()[a(550)](n),e.add(s),o+=n}}}return i[a(613)][a(401)](e),i[a(789)]=o,i}}());const t=j;this[t(806)]=0,this[t(425)]=0,this[t(358)]=[]}[j(469)](t){this[j(601)](t)}[j(601)](t){const e=j;this[e(806)]!=t&&(this.dispose(),this[e(525)](t)),this[e(806)]=t}[j(367)](t){this[j(425)]=t}[j(525)](t){const e=j;this[e(358)]=[],this[e(806)]=t;for(let s=0;s<t;s++)this[e(358)][s]=new Y}[j(345)](){}getParticleCount(){return this.particleCount}[j(521)](){}[j(441)](t,e){const s=j;if(t>=this[s(806)])throw new Error(s(331));if(e>=this.particleCount)throw new Error(s(535));const n=this[s(358)][t],i=this[s(358)][e];n[s(673)](i)}[j(777)](t,e){const s=j;if(t>=this[s(806)])throw new Error(s(484));return this[s(358)][t][s(401)](e)}[j(453)](t){const e=j;if(t>=this[e(806)])throw new Error(e(549));return this[e(358)][t]}}s=j(462);class L{constructor(t,e,s=0){this.start=t,this.length=e,this.id=s}}class Z{constructor(){const t=j;this[t(617)]={},this[t(794)]=[]}[j(780)](t,e,s){const n=j;if(this.hasID(s))throw new Error(n(735));const i=new L(t,e,s);return this[n(617)][s]=i,this[n(794)][n(339)](s),i}getSequence(t){const e=j;if(!this.hasID(t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this[e(617)][t]}[j(796)](){return this.ids}[j(669)](t){return!!this[j(617)][t]}}class G{constructor(){}initializeState(t){const e=j;t[e(452)].set(1,1,1),t.initialSize[e(564)](1,1),t.initialAlpha=1,t[e(632)]=W[e(556)],t.lifetime=0,t[e(520)]=0,t[e(725)][e(564)](0,0,0,0),t[e(408)][e(564)](0,0,0),t[e(610)].set(0,0,0),t[e(772)][e(564)](0,0,0),t.normal.set(0,0,1),t.rotation=0,t[e(686)]=0,t.size[e(401)](t[e(375)]),t[e(395)][e(401)](t.initialColor),t[e(573)]=1}}class H extends G{constructor(){super()}[j(537)](t){super.initializeState(t)}}class ${constructor(){}updateState(){}}class K extends ${constructor(){const t=j;super(),this[t(724)]=new(y[t(365)]),this[t(503)]=new(y[t(365)]),this.stateAcceleration=new v,this.stateVelocity=new(y[t(365)])}[j(583)](t,e){const s=j;return super[s(583)](t,e),this.stateAcceleration[s(401)](t.acceleration),this[s(503)][s(401)](this.stateAcceleration),this[s(503)].multiplyScalar(e),t[s(610)][s(445)](this.timeScaledAcceleration),this[s(624)].copy(t[s(610)]),this[s(724)][s(401)](this[s(624)]),this.timeScaledVelocity.multiplyScalar(e),t.position.add(this.timeScaledVelocity),t[s(520)]=t[s(520)]+e,t[s(694)]=t[s(694)]+e*t[s(686)],!0}}class Q{static[j(728)](t,e,s){return Math[j(664)](Math.max(t,e),s)}static currentTime(){return performance.now()/1e3}}class tt{constructor(){this.components=[]}[j(602)](t){const e=j;this[e(423)][e(339)](t)}update(t,e){const s=j;for(const n of this[s(423)])n[s(608)](t,e)}[j(397)](t){const e=j;if(t>=this[e(423)].length)throw new Error(e(403));return this.components[t]}}const et=class{constructor(t){this[j(357)]=t}};n=j(546),i=j(680),r=j(726),a=j(709),g(et,n,new et("NotStarted")),g(et,i,new et(j(680))),g(et,r,new et("Paused")),g(et,a,new et("Done"));let st=et;class nt{constructor(t,e){g(this,o,function(){const t=j,e=new(y[t(366)]);return function(){const s=t;let n=null;this[s(597)]&&(n=e,n[s(401)](this[s(609)][s(652)])[s(399)]()),this[s(359)].calculatingBoundingSphereFromBox()?(this[s(358)][s(462)](this[s(470)],n),this[s(359)].setBoundingBox(this.boundingBox)):(this[s(358)][s(674)](this.boundingSphere,n),this.particleSystemRenderer.setBoundingSphere(this[s(517)]))}}());const s=j;this[s(609)]=t,this[s(609)][s(528)]=!1,this[s(528)]=!0,this[s(359)]=e,this.initialized=!1,this.maximumActiveParticles=0,this[s(425)]=0,this[s(644)]=!0,this[s(507)]=!1,this[s(750)]=null,this[s(341)]=new tt,this[s(649)]=[],this[s(543)]=[],this[s(358)]=null,this.systemState=st.NotStarted,this.particleSequences=new Z,this.onUpdateCallback=null,this[s(597)]=!0,this[s(470)]=new(y[s(603)]),this[s(517)]=new(y[s(691)])}[j(469)](t){const e=j;if(this[e(802)])throw new Error(e(704));this[e(667)]=t,this[e(359)]?(this[e(359)].setOwner(this[e(609)]),this[e(359)].init(this.maximumActiveParticles,this[e(644)]),this[e(359)][e(371)](this[e(644)]),this[e(358)]=this[e(359)][e(419)]()):(this[e(358)]=new k,this.particleStates[e(469)](this[e(667)])),this[e(631)](new H),this[e(804)](new K),this[e(802)]=!0}[j(793)](){return this.visible}[j(381)](t){return this[j(528)]=t}[j(456)](t){this.onUpdateCallback=t}[j(608)](t,e){const s=j;if(this[s(487)]==st[s(680)]){if(this.owner[s(626)](!0),t=null==t||null==t?Q[s(616)]():t,e=null==e||null==e?t-this[s(679)]:e,this[s(507)]&&this[s(487)]==st[s(680)]){const t=this[s(750)][s(608)](e);t>0&&this[s(761)](t),this[s(786)](e),this.onUpdateCallback&&this[s(554)](this[s(425)]),this[s(373)]()}this[s(341)][s(608)](t,e),this[s(679)]=t}}[j(464)](t,e){const s=j;if(this[s(793)]()&&this.particleSystemRenderer){const n=t[s(471)];t[s(471)]=!1,this.owner[s(528)]=!0,this[s(609)][s(567)]=!0,this[s(359)][s(464)](this[s(609)],t,e),this[s(609)][s(528)]=!1,t[s(471)]=n}}[j(429)](){const t=j;this[t(487)]!=st[t(546)]&&this[t(487)]!=st[t(726)]||(this[t(487)]=st.Running,this[t(799)]=Q[t(616)](),this[t(679)]=this[t(799)])}[j(465)](){const t=j;this[t(487)]==st[t(680)]&&(this[t(487)]=st.Paused)}[j(592)](){}[j(477)](){return this[j(487)]}[j(351)](t){const e=j;return this[e(750)]=t,this.particleEmitter[e(667)]=this[e(667)],this[e(507)]=!0,this[e(750)]}[j(602)](t){const e=j;this[e(341)][e(602)](t)}getComponent(t){const e=j;return this.componentContainer[e(397)](t)}[j(631)](t){return this[j(649)].push(t),t}[j(634)](){return this[j(649)].length}getParticleStateInitializer(t){const e=j;if(t>=this[e(649)][e(685)])throw new Error(e(778));return this.particleStateInitializers[t]}[j(804)](t){const e=j;return this[e(543)][e(339)](t),t}[j(379)](){const t=j;return this[t(543)][t(685)]}getParticleStateOperator(t){const e=j;if(t>=this.particleStateOperators.length)throw new Error(e(671));return this[e(543)][t]}getMaximumActiveParticles(){return this[j(667)]}[j(540)](){return this[j(425)]}[j(623)](t){const e=j;if(t>=this.activeParticleCount)throw new Error(e(615));return this[e(358)][e(453)](t)}getParticleStates(){return this.particleStates}[j(500)](){return this[j(359)]}[j(411)](){return this[j(644)]}setSimulateInWorldSpace(t){const e=j;this[e(644)]=t,this[e(359)]&&this[e(359)][e(371)](this[e(644)])}[j(681)](t){this[j(597)]=t}[j(715)](t,e,s=0){const n=j;this[n(483)][n(780)](t,e,s)}[j(645)](){return this[j(483)]}[j(384)](){return this[j(750)]}[(o=j(373),j(761))](t){const e=j;if(this[e(487)]==st.Running){const s=Q.clamp(this[e(425)]+t,0,this.maximumActiveParticles);for(let t=this.activeParticleCount;t<s;t++)this[e(338)](t);this[e(425)]=s,this.particleStates[e(367)](this[e(425)])}}[j(338)](t){const e=j;if(this[e(487)]==st[e(680)]){const s=this[e(358)][e(453)](t);s.age=0;for(let t=0;t<this[e(649)][e(685)];t++){this[e(649)][t][e(537)](s)}if(this.simulateInWorldSpace){s[e(408)][e(435)](this[e(609)].matrixWorld);const t=s.velocity[e(685)]();if(this[e(597)]){s[e(610)].transformDirection(this[e(609)][e(652)]).multiplyScalar(t);const n=s[e(772)][e(685)]();s[e(772)][e(584)](this[e(609)][e(652)])[e(550)](n)}}this[e(358)].flushParticleStateToBuffers(t)}}advanceActiveParticles(t){const e=j;if(this[e(487)]==st[e(680)]){let s=0;for(;s<this[e(425)];){this[e(769)](s,t)?s++:(s<this[e(425)]-1&&this[e(323)](this[e(425)]-1,s),this.activeParticleCount--)}this[e(358)][e(367)](this[e(425)])}}[j(769)](t,e){const s=j;if(this[s(487)]==st[s(680)]){const n=this[s(358)][s(453)](t);for(let t=0;t<this.particleStateOperators[s(685)];t++){const i=this[s(543)][t][s(583)](n,e),r=n.lifetime;if(!i||0!=r&&n[s(520)]>=r)return!1}return this[s(358)].flushParticleStateToBuffers(t),!0}return!1}[j(323)](t,e){const s=j;this[s(358)][s(441)](t,e),this[s(358)][s(521)](e)}static[j(756)](t,e,s){const n=j,i=(t,e,s)=>{const n=It;e(t);for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];typeof s===n(349)&&i(s,e)}};i(t,(t=>{const s=It;t[s(729)]&&(t[s(729)]=e.parseTypeString(t[s(729)]))}));const r=t[n(494)],a=t[n(644)],o=t[n(716)],c=o[n(729)][n(756)](o[n(394)]),h=new(y[n(572)]),l=new nt(h,c,s);l[n(469)](r),l[n(371)](a);const u=t[n(784)],p=u[n(729)][n(756)](u[n(394)]);if(l[n(351)](p),t[n(617)])for(const f of t[n(617)])l.addParticleSequence(f.start,f.length,f.id);if(t[n(717)])for(const f of t[n(717)])l[n(631)](f[n(729)][n(756)](l,f.params));if(t[n(633)])for(const f of t.operators){const t=l[n(804)](f[n(729)][n(756)](l,f[n(394)]));f[n(792)]&&t[n(646)](f[n(792)])}return[l,h]}[j(759)](t){const e=j,s=this.getParticleSystemRenderer(),n=this[e(384)](),i=this[e(645)](),r=i[e(796)]().map((t=>{const s=e,n=i[s(621)](t);return{id:t,start:n[s(429)],length:n[s(685)]}})),a=[],o=this[e(634)]();for(let l=0;l<o;l++){const s=this.getParticleStateInitializer(l);s[e(544)]!==H&&a[e(339)]({type:t.getTypePath(s[e(544)]),params:s[e(759)](t)})}const c=[],h=this[e(379)]();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s[e(544)]!==K){const n=s.toJSON(t),i=n[e(394)]||n,r=n.params?n[e(792)]:null,a={type:t.getTypePath(s[e(544)]),params:i};r&&(a[e(792)]=r),c[e(339)](a)}}return{maxParticleCount:this[e(801)](),simulateInWorldSpace:this[e(411)](),renderer:{type:t.getTypePath(s[e(544)]),params:s[e(759)]()},emitter:{type:t.getTypePath(n.constructor),params:n[e(759)]()},sequences:r,initializers:a,operators:c}}}class it{constructor(){const t=j;this.particleSystems=[],this[t(727)]=performance[t(356)]()/1e3,this[t(679)]=this[t(727)],this[t(341)]=new tt}[j(608)](){const t=j,e=Q[t(616)](),s=e-this[t(679)];for(const n of this[t(710)])n.update(e,s);this[t(341)].update(e,s),this[t(679)]=e}[j(464)](t,e){const s=j;for(const n of this[s(710)])n.render(t,e)}[j(741)](t){const e=j;this[e(710)][e(339)](t)}[j(602)](t){const e=j;this[e(341)][e(602)](t)}[j(397)](t){const e=j;return this[e(341)][e(397)](t)}}class rt{constructor(){const t=j;this[t(802)]=!1,this[t(806)]=0,this[t(609)]=null,this[t(644)]=!1}[j(371)](t){this.simulateInWorldSpace=t}[j(419)](){}[j(555)](t){this[j(609)]=t}[j(469)](t){const e=j;if(this[e(806)]=t,!this[e(802)])return this[e(802)]=!0,!0;throw new Error("Renderer::init() -> trying to intialize more than once.")}[j(464)](){}}class at extends k{constructor(){const t=j;super(),this[t(551)]=null,this[t(619)]=null,this[t(446)]=null,this.ages=null,this[t(708)]=null,this[t(350)]=null,this.velocities=null,this[t(607)]=null,this[t(527)]=null,this.rotations=null,this[t(506)]=null,this[t(655)]=null,this[t(787)]=null,this[t(370)]=null,this[t(627)]=null,this[t(482)]=!1,this[t(505)]=6}init(t,e=!1){const s=j;this[s(482)]=e,this[s(482)]?this[s(505)]=1:this.verticesPerParticle=6,super.init(t),this.allocate(t)}[j(601)](t){super[j(601)](t)}[j(367)](t){const e=j;super[e(367)](t),t>0?this[e(482)]?this[e(551)][e(771)]=t:this.geometry[e(523)](0,this[e(505)]*t):this.instanced?this[e(551)][e(771)]=0:this.geometry[e(523)](0,0)}[j(521)](t){const e=j;if(t>=this[e(806)])throw new Error(e(421));const s=this[e(453)](t),n=t*this.verticesPerParticle;for(let i=0;i<this[e(505)];i++)this.lifetimes[e(574)](n+i,s[e(538)]),this[e(446)][e(791)]=!0,this[e(754)][e(574)](n+i,s.age),this[e(754)][e(791)]=!0,this.sequenceElements.setXYZW(n+i,s[e(725)].x,s.sequenceElement.y,s[e(725)].z,s[e(725)].w),this[e(708)][e(791)]=!0,this[e(350)][e(336)](n+i,s[e(408)].x,s[e(408)].y,s[e(408)].z),this.positions.needsUpdate=!0,this[e(585)][e(336)](n+i,s[e(610)].x,s[e(610)].y,s[e(610)].z),this[e(585)][e(791)]=!0,this[e(607)][e(336)](n+i,s[e(772)].x,s.acceleration.y,s[e(772)].z),this[e(607)][e(791)]=!0,this[e(527)][e(336)](n+i,s[e(420)].x,s[e(420)].y,s[e(420)].z),this[e(527)][e(791)]=!0,this.rotations[e(574)](n+i,s[e(694)]),this.rotations[e(791)]=!0,this[e(506)].setX(n+i,s[e(686)]),this[e(506)][e(791)]=!0,this.sizes.setXY(n+i,s[e(536)].x,s.size.y),this[e(655)][e(791)]=!0,this[e(787)].setXYZ(n+i,s.color.r,s[e(395)].g,s[e(395)].b),this.colors[e(791)]=!0,this[e(719)][e(574)](n+i,s.alpha),this.alphas.needsUpdate=!0,this[e(370)].setXY(n+i,s.initialSize.x,s.initialSize.y),this[e(370)].needsUpdate=!0,this[e(324)][e(574)](n+i,s.initialAlpha),this[e(324)][e(791)]=!0}copyState(t,e){super[j(441)](t,e),this.flushParticleStateToBuffers(e)}[j(777)](t,e){const s=j;if(t>=this[s(806)])throw new Error(s(589));super[s(777)](t,e),this.flushParticleStateToBuffers(t)}getPositions(){return this[j(350)]}getSizes(){return this[j(655)]}getRotations(){return this.rotations}[j(398)](){return this.sequenceElements}[j(526)](){return this[j(787)]}[j(591)](){return this.geometry}[j(525)](t){const e=j;super[e(525)](t);const s=(t,s)=>{const n=e;return this[n(482)]?new(y[n(683)])(t,s):new(y[n(393)])(t,s)},n=this.verticesPerParticle*this.particleCount;if(this[e(482)]){const t=new(y[e(755)]),s=new Float32Array(18);this[e(512)]=new(y[e(393)])(s,3),t[e(638)](e(408),this[e(512)]),this[e(512)][e(791)]=!0,this[e(512)][e(336)](0,-1,1,0),this.basePositions[e(336)](1,-1,-1,0),this.basePositions[e(336)](2,1,1,0),this[e(512)][e(336)](3,-1,-1,0),this[e(512)][e(336)](4,1,-1,0),this[e(512)][e(336)](5,1,1,0);const n=new Float32Array(12);this.baseUVs=new(y[e(393)])(n,2),t[e(638)](e(342),this[e(539)]),this[e(539)].needsUpdate=!0,this.baseUVs[e(417)](0,0,1),this[e(539)].setXY(1,0,0),this.baseUVs[e(417)](2,1,1),this[e(539)][e(417)](3,0,0),this[e(539)][e(417)](4,1,0),this[e(539)][e(417)](5,1,1);const i=new Float32Array(6);this[e(364)]=new P(i,1),t[e(638)](e(656),this.customIndexes),this.customIndexes.needsUpdate=!0,this[e(364)][e(574)](0,0),this[e(364)][e(574)](1,1),this[e(364)][e(574)](2,3),this[e(364)][e(574)](3,1),this.customIndexes[e(574)](4,2),this[e(364)][e(574)](5,3),this[e(551)]=(new(y[e(355)]))[e(401)](t),this[e(551)].instanceCount=0}else{this[e(551)]=new(y[e(755)]);const t=new Float32Array(n);this[e(364)]=new(y[e(393)])(t,1),this[e(551)][e(638)](e(656),this.customIndexes),this[e(364)][e(791)]=!0;for(let s=0;s<this[e(806)];s++){const t=s*this[e(505)];this[e(364)].setX(t,0),this.customIndexes[e(574)](t+1,1),this[e(364)][e(574)](t+2,3),this[e(364)][e(574)](t+3,1),this.customIndexes.setX(t+4,2),this[e(364)].setX(t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),f=new Float32Array(2*n),m=new Float32Array(3*n),d=new Float32Array(n),w=new Float32Array(2*n),g=new Float32Array(3*n),S=new Float32Array(n);this.positions=s(o,3),this[e(350)].setUsage(y[e(530)]),this.geometry.setAttribute(e(747),this.positions),this.lifetimes=s(i,1),this[e(446)][e(374)](y[e(530)]),this[e(551)][e(638)]("lifetime",this[e(446)]),this.ages=s(r,1),this[e(754)][e(374)](y[e(530)]),this[e(551)][e(638)](e(520),this[e(754)]),this[e(708)]=s(a,4),this[e(708)].setUsage(y[e(530)]),this.geometry[e(638)](e(725),this[e(708)]),this[e(585)]=s(c,3),this.velocities.setUsage(y[e(530)]),this[e(551)].setAttribute(e(610),this[e(585)]),this[e(607)]=s(h,3),this[e(607)].setUsage(I),this.geometry[e(638)](e(772),this[e(607)]),this[e(527)]=s(l,3),this[e(527)][e(374)](y[e(530)]),this.geometry[e(638)](e(420),this[e(527)]),this[e(426)]=s(u,1),this.rotations[e(374)](y[e(530)]),this[e(551)][e(638)](e(694),this.rotations),this[e(506)]=s(p,1),this[e(506)][e(374)](y[e(530)]),this[e(551)][e(638)](e(686),this[e(506)]),this[e(655)]=s(f,2),this[e(655)].setUsage(y[e(530)]),this[e(551)][e(638)](e(536),this[e(655)]),this.colors=s(m,3),this.colors[e(374)](y[e(530)]),this[e(551)][e(638)](e(395),this[e(787)]),this.alphas=s(d,1),this[e(719)][e(374)](y[e(530)]),this[e(551)].setAttribute(e(573),this[e(719)]),this[e(370)]=s(w,2),this[e(370)].setUsage(I),this[e(551)][e(638)](e(375),this[e(370)]),this[e(627)]=s(g,3),this[e(627)][e(374)](y[e(530)]),this[e(551)].setAttribute(e(452),this[e(627)]),this[e(324)]=s(S,1),this.initialAlphas[e(374)](I),this[e(551)][e(638)](e(363),this[e(324)])}[j(345)](){const t=j;super[t(345)](),this[t(551)]&&(this[t(551)][t(345)](),this[t(551)]=null)}}class ot{constructor(t,e,s,n,i){const r=j;this[r(685)]=t,this.x=e,this.y=s,this[r(405)]=n,this[r(372)]=i}}class ct{constructor(t,e){const s=j;this[s(798)]=t,this[s(757)]=e,this[s(675)]=[]}[j(486)](){return this[j(798)]}[j(531)](){return this[j(757)]}[j(783)](){return this[j(675)].length}[j(581)](t,e,s,n,i){this.frameSets.push(new ot(t,e,s,n,i))}getFrameSet(t){const e=j;if(t>=this[e(675)][e(685)])throw new Error('Atlas::getFrameSet -> "index" is out of range.');return this[e(675)][t]}}const ht=class t extends rt{constructor(t,e,s=!1,n=y[j(562)],i=!0,r){const a=j;super(),g(this,"updateMeshBounds",function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[It(622)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){t(this,(function(){const t=It,e=new RegExp(t(753)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=_t("init");e[t(475)](n+t(432))&&s.test(n+t(451))?_t():n("0")}))()}();const e=new v;return function(){const t=It,s=this[t(412)][t(591)]();if(this[t(651)]){s[t(470)]||(s[t(470)]=new(y[t(603)])),s[t(470)][t(401)](this[t(470)]),!s[t(517)]&&(s[t(517)]=new(y[t(691)])),e.x=(this.boundingBox[t(664)].x+this.boundingBox[t(599)].x)/2,e.y=(this[t(470)][t(664)].y+this[t(470)][t(599)].y)/2,e.z=(this[t(470)][t(664)].z+this.boundingBox[t(599)].z)/2;const n=this.boundingBox[t(599)].x-e.x,i=this.boundingBox[t(599)].y-e.y,r=this.boundingBox[t(599)].z-e.z,a=Math.max(Math[t(599)](n,i),r);s[t(517)][t(613)][t(401)](e),s[t(517)].radius=Math[t(438)](2*a*a)}else s.boundingSphere||(s[t(517)]=new(y[t(691)])),s.boundingSphere.copy(this.boundingSphere)}}()),this.instanced=t,this[a(412)]=null,this[a(775)]=null,this.mesh=null,this[a(444)]=e,this.interpolateAtlasFrames=s,this[a(666)]=n,this[a(470)]=new(y[a(603)]),this[a(517)]=new(y[a(691)]),this[a(651)]=i,this[a(773)]=r}[j(555)](t){super[j(555)](t)}getParticleStateArray(){return this.particleStateArray}[j(371)](t){const e=j;super[e(371)](t),this.material&&(this[e(775)][e(738)][e(644)][e(740)]=t?1:0,this[e(775)][e(653)]=!0)}[j(706)](){return this[j(651)]}[j(479)](t){const e=j;this[e(470)][e(401)](t),this[e(707)]&&this[e(434)]()}setBoundingSphere(t){const e=j;this[e(517)][e(401)](t),this[e(707)]&&this[e(434)]()}[j(464)](t,e,s){e[j(464)](t,s)}[j(469)](t){const e=j;super[e(469)](t)&&(this[e(412)]=new at,this[e(412)].init(t,this.instanced),this.material=this[e(467)](null,null,null,!0,!1),this[e(775)][e(666)]=this[e(666)],this[e(707)]=new(y[e(586)])(this.particleStateArray[e(591)](),this[e(775)]),this[e(707)].frustumCulled=!0,void 0!==this[e(773)]&&(this.mesh.renderOrder=this[e(773)]),this[e(434)](),this.owner[e(445)](this[e(707)]))}[j(345)](){const t=j;this[t(412)][t(345)]()}[j(467)](e,s,n,i,r){const a=j,o=[...Array(16)[a(378)]()][a(354)]((t=>new(y[a(568)])));if(this.atlas)for(let t=0;t<this[a(444)].getFrameSetCount();t++){const e=this[a(444)].getFrameSet(t);o[t]=new(y[a(568)])(e.x,e.y,e.width,e[a(372)])}const c=this[a(444)]?this[a(444)][a(486)]():null,h=this[a(800)],l=this[a(644)],u=this[a(482)]?1:0,p={atlasFrameSet:{type:a(766),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(y[a(463)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(749)](n,p),e=e||t[a(654)].getVertexShader(r),s=s||t[a(654)].getFragmentShader(i,r),new(y[a(557)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:y[a(562)],blendDstAlpha:y[a(509)],blendSrcAlpha:A,depthTest:!0,depthWrite:!1})}static[(c=j(654),j(756))](e){const s=j,n=e[s(444)],i=(new F).load(n[s(757)]),r=new ct(i,n.texturePath),a=n[s(529)];for(const t of a)r[s(581)](t[s(685)],t.x,t.y,t.width,t[s(372)]);const o=new t(e.instanced,r,n.interpolateFrames);return e.blending==s(478)?o[s(666)]=T:o[s(666)]=b,o}toJSON(t){const e=j;t=t||(t=>{const e=It;if(t[e(757)])return t[e(757)];const s=t.getTexture()[e(380)];if(s){const t=s[e(340)];if(t){const s=t[e(637)],n=t[e(580)];return n[e(701)](s)>=0?n[e(325)](s[e(685)],n[e(685)]-s[e(685)]):n}}});const s=[];for(let i=0;i<this[e(444)][e(783)]();i++){const t=this.atlas[e(501)](i);s[e(339)](t)}let n=e(337);this.material[e(666)]===y[e(629)]&&(n=e(478));return{instanced:this[e(482)],blending:n,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this[e(444)]),framesets:s}}}};g(ht,c,{get VertexVars(){const t=j;return[t(497),"uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n",t(699),t(327),t(742),t(744),t(688),t(659),t(611),t(422),t(468),t(689),t(620),t(428),t(368),t(643),t(648),t(628)][t(730)]("\n")},get FragmentVars(){const t=j;return[t(699),t(606),t(739),"varying vec2 vUV1;\n","varying vec2 vUV2;\n",t(643),t(648),t(329)][t(730)]("\n")},getVertexShader(t){const e=j;let s=[e(437),this[e(668)]][e(730)]("\n");return t&&(s+=e(723)),s+=[e(770),e(472),e(333),"   float atlasFrameX = atlasFrames.x; \n",e(618),"   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n",e(765),e(705),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","   int nRowSequenceElement = sequenceElement - firstRowSections; \n",e(596),e(693),e(433),"   float nRowX = float(nRowXTile) * atlasFrameWidth;\n",e(612),e(696),e(762),e(418),e(803),"void main()\n","{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(670),e(642),e(662),e(330),e(732),"   const vec2 dLeft = vec2(-1.0, -1.0);\n",e(751),e(542),e(328),e(745),"   } else { \n","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   } \n",e(409),e(440),"   int sequenceStart = int(sequenceElement.z);\n",e(369),e(595),"   vec2 uv1; \n",e(569),e(748),e(415),e(600),e(594),e(640),"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n",e(720),e(472),e(333),e(779),e(488),e(697),e(459),e(559),"       rightSide = step(2.0, customIndex); \n","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n",e(561),e(760),e(636),e(474),"   } \n",e(400),e(547),e(376),"   if (instanced != 1) { \n",e(514),e(790),e(578),e(714),e(491),e(326),e(760),e(698),e(720),e(582),e(805),"   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(386),e(382)][e(730)]("\n"),t&&(s+=e(605)),s+=e(803),s},getFragmentShader(t,e){const s=j;let n=s(677)+this[s(692)]+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+=s(460),e&&(n+=s(461)),n+=t?[s(385),s(763),"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(684),s(565)][s(730)]("\n"):[s(776),s(763),"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(684),s(565)][s(730)]("\n"),n+="}\n",n}});let lt=ht;class ut{constructor(){const t=j;this[t(658)]=0,this[t(519)]=0,this.emitCount=0,this[t(520)]=0,this[t(522)]=0,this[t(430)]=0,this.maximumActiveParticles=0}update(t){return this[j(388)](t),0}[j(388)](t){const e=j;return this[e(520)]+=t,this[e(522)]=Math.max(this[e(520)]-this[e(658)],0),this[e(520)]>=this.emissionRelativeStartTime&&(0==this.emissionDuration||this[e(522)]<=emissionDuration)}[j(516)](t){this[j(566)]+=t}}class pt extends ut{constructor(){const t=j;super(),this[t(767)]=0,this[t(450)]=0}}class ft extends pt{constructor(t=0){const e=j;super(),this[e(577)]=t}[j(608)](t){const e=j;if(this[e(388)](t)){const t=this[e(577)]*this[e(522)]-this[e(566)];if(t>=1){const s=Math[e(587)](t);return this[e(516)](s),s}}return 0}static[j(756)](t){const e=j,s=new ft;return s[e(577)]=t[e(577)]||0,s}[j(759)](){return{emissionRate:this[j(577)]}}}const mt=class t{constructor(t){this[j(357)]=t}static[(h=j(795),l=j(463),u=j(365),p=j(661),j(687))](e){const s=j;let n=t.Default;return e===y[s(463)]?n=t[s(463)]:e===y[s(365)]?n=t.Vector3:e===E?n=t[s(568)]:e===z&&(n=t[s(661)]),n}static[j(545)](t,e){const s=j;switch(e){case y[s(463)]:return(new(y[s(463)]))[s(513)](t);case v:return(new(y[s(365)]))[s(513)](t);case y[s(568)]:return(new(y[s(568)])).fromArray(t);case z:return(new(y[s(661)])).fromArray(t)}return t}};g(mt,h,new mt(j(795))),g(mt,l,new mt(j(463))),g(mt,u,new mt(j(365))),g(mt,"Vector4",new mt("Vector4")),g(mt,p,new mt("Color"));let dt=mt;class wt{constructor(t){const e=j;this[e(489)]=t,this[e(447)]=dt[e(687)](t)}}class gt extends wt{constructor(t,e,s,n,i,r){const a=j;super(t),this[a(718)]=e,this[a(630)]=s,this[a(614)]=n,this[a(448)]=i,this.normalize=r}[j(360)](t){const e=j,s=Math[e(736)]()*this[e(614)];switch(this[e(447)]){case dt.Default:t=Math.random()*this[e(718)]+this.offset,this[e(383)]&&(t=t<0?-1:1);break;case dt[e(463)]:t[e(564)](this[e(392)](s,"x"),this[e(392)](s,"y"));break;case dt[e(365)]:t[e(564)](this[e(392)](s,"x"),this[e(392)](s,"y"),this[e(392)](s,"z"));break;case dt[e(568)]:t[e(564)](this[e(392)](s,"x"),this[e(392)](s,"y"),this[e(392)](s,"z"),this[e(392)](s,"w"))}return this[e(383)]&&t.normalize(),t}generateForElement(t,e){const s=j;return t+Math.random()*this.range[e]+this[s(630)][e]+this.uniformOffset}clone(){const t=j;return new gt(this[t(489)],this[t(718)],this.offset,this.uniformRange,this.uniformOffset,this[t(383)])}static[j(390)](t){const e=j;return t instanceof O||t instanceof y[e(365)]||t instanceof y[e(568)]||t instanceof y[e(661)]?t[e(362)]():t}static[j(756)](t){const e=j;return new gt(t[e(729)],dt[e(545)](t[e(718)],t[e(729)]),dt.loadJSONParameter(t[e(630)],t[e(729)]),t.uniformRange||0,t[e(448)]||0,t[e(383)])}toJSON(t){const e=j,s={range:gt[e(390)](this[e(718)]),offset:gt[e(390)](this[e(630)]),uniformRange:this.uniformRange,uniformOffset:this[e(448)]},n=t.getTypePath(this[e(718)][e(544)]);return null!=n&&(s[e(729)]=n),{type:t.getTypePath(gt),params:s}}}class St extends G{constructor(t,e,s,n,i){const r=j;super(),this[r(718)]=t,this[r(630)]=e,this[r(614)]=s,this.uniformOffset=n,this[r(383)]=i,this.generator=new gt(0,this.range,this[r(630)],this[r(614)],this[r(448)],this.normalize)}[j(537)](t){const e=j;t[e(538)]=this[e(502)][e(360)]()}static[j(756)](t,e){const s=j;return new St(e[s(718)],e.offset,e[s(614)],e[s(448)],e[s(383)])}[j(759)](){const t=j;return{range:this[t(718)],offset:this[t(630)],uniformRange:this[t(614)],uniformOffset:this[t(448)],normalize:this[t(383)]}}}class yt extends G{constructor(t){const e=j;super(),this[e(502)]=t[e(508)]()}[j(537)](t){const e=j;t.rotation=this[e(502)][e(360)](t[e(694)])}static[j(756)](t,e){const s=j,n=e[s(502)][s(729)].fromJSON(e.generator[s(394)]);return new yt(n)}[j(759)](t){return{generator:this[j(502)].toJSON(t)}}}class vt extends G{constructor(t,e,s,n,i){const r=j;super(),this[r(718)]=t,this.offset=e,this[r(614)]=s,this.uniformOffset=n,this[r(383)]=i,this[r(502)]=new gt(0,this[r(718)],this.offset,this[r(614)],this[r(448)],this[r(383)])}[j(537)](t){const e=j;t[e(686)]=this[e(502)][e(360)]()}static[j(756)](t,e){const s=j;return new vt(e[s(718)],e[s(630)],e[s(614)],e[s(448)],e[s(383)])}[j(759)](){const t=j;return{range:this[t(718)],offset:this[t(630)],uniformRange:this[t(614)],uniformOffset:this[t(448)],normalize:this[t(383)]}}}class xt extends G{constructor(t,e){const s=j;super(),this[s(449)]=new gt(y[s(365)],t,e,0,0,!1)}[j(537)](t){const e=j;this[e(449)].generate(t[e(408)])}static fromJSON(t,e){const s=j;return new xt((new(y[s(365)])).fromArray(e.range),(new(y[s(365)]))[s(513)](e[s(630)]))}toJSON(){const t=j;return{range:this[t(449)].range.toArray(),offset:this[t(449)].offset[t(362)]()}}}class Pt extends G{constructor(t){const e=j;super(),this[e(502)]=t[e(508)]()}[j(537)](t){const e=j;this[e(502)][e(360)](t[e(536)]),t[e(375)][e(401)](t[e(536)])}static[j(756)](t,e){const s=j,n=e[s(502)].type[s(756)](e[s(502)][s(394)]);return new Pt(n)}[j(759)](t){return{generator:this[j(502)].toJSON(t)}}}function It(t,e){const s=X();return(It=function(t,e){return s[t-=323]})(t,e)}class At extends G{constructor(t,e,s,n,i=!0){const r=j;super(),this[r(424)]=new gt(y[r(365)],t,e,0,0,!0),this[r(768)]=new gt(0,s,n,0,0,!1),this[r(702)]=i}initializeState(t){const e=j;this[e(424)].generate(t.velocity),this[e(702)]&&t[e(610)][e(383)](),t.velocity[e(550)](this[e(768)].generate())}static fromJSON(t,e){const s=j;return new At((new(y[s(365)]))[s(513)](e[s(718)]),(new(y[s(365)]))[s(513)](e[s(630)]),e[s(588)],e[s(782)])}[j(759)](){const t=j;return{range:this[t(424)][t(718)][t(362)](),offset:this[t(424)].offset[t(362)](),speedRange:this[t(768)][t(718)],speedOffset:this[t(768)][t(630)]}}}class Ft extends G{constructor(t,e=!1){const s=j;super(),this[s(721)](t),this[s(695)]=e}setParticleSequences(t){this.particleSequences=t}[j(537)](t){const e=j,s=this[e(483)].getSequenceIDs(),n=s[e(685)]*Math[e(736)](),i=s[Math[e(587)](n)],r=this.particleSequences[e(621)](i),a=t[e(725)];this.reverse?a.x=r[e(685)]-1:a.x=r[e(429)],a.y=r.id,a.z=r.start,a.w=r.length,t[e(632)]=W[e(391)]}static[j(756)](t,e){return new Ft(t[j(645)](),e.reverse)}[j(759)](){return{reverse:this[j(695)]}}}class Tt extends ${constructor(t,e,s=!1,n=!1){const i=j;super(),this[i(483)]=t,this[i(454)]=e,this[i(713)]=s,this[i(695)]=n}[j(583)](t,e){const s=j,n=t.sequenceElement,i=this[s(483)][s(621)](n.y),r=e/this[s(454)];if(this[s(695)]){if(n.x-=r,n.x<i[s(429)]&&(n.x=i.start+i.length,!this.loop))return!1}else if(n.x+=r,n.x>=i[s(429)]+i[s(685)]&&(n.x=i[s(429)],!this[s(713)]))return!1;return!0}static fromJSON(t,e){const s=j;return new Tt(t[s(645)](),e[s(454)],e[s(713)],e[s(695)])}[j(759)](){const t=j;return{speed:this[t(454)],loop:this.loop,reverse:this[t(695)]}}}class bt{constructor(t,e){g(this,f,function(){const t=j,e={lowerIndex:0,upperIndex:0,localT:0},s=new(y[t(463)]),n=new(y[t(365)]),i=new E,r=new(y[t(661)]),a=s=>(n,i,r,a)=>{const o=t;bt[o(511)](r,n,e),s[o(401)](i[e[o(641)]])[o(550)](e.localT),a.copy(i[e[o(332)]]).multiplyScalar(1-e.localT).add(s)};return function(o){const c=t;switch(o){case dt[c(795)]:return(t,s,n)=>{const i=c;return bt.getInterpolationValuesForTValue(n,t,e),(1-e[i(439)])*s[e.lowerIndex]+e[i(439)]*s[e[i(641)]]};case dt[c(463)]:return a(s);case dt[c(365)]:return a(n);case dt[c(568)]:return a(i);case dt[c(661)]:return a(r)}}}());const s=j;this[s(792)]=[],this[s(764)]=[],this.elementTypeID=dt.getTypeID(t),this[s(410)]=e||this[s(733)](this[s(579)])}*[Symbol.iterator](){const t=j;let e=0;for(;e<this.getElementCount();)yield{element:this[t(792)][e],tValue:this[t(764)][e]},e++}getElementCount(){const t=j;return this[t(792)][t(685)]}[j(443)](t){const e=j;if(t>=this[e(387)]())throw new Error(e(590));return this[e(792)][t]}getTValue(t){if(t>=this.getElementCount())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this.tValues[t]}[j(334)](t,e){const s=j;this[s(792)][s(339)](t),this.tValues[s(339)](e)}getInterpolatedElement(t,e){return this[j(410)](t,this.elements,this.tValues,e)}static[(f=j(733),j(511))](t,e,s){const n=j,i=t[n(685)];if(0===i)return s.lowerIndex=-1,s[n(641)]=-1,void(s[n(439)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s.lowerIndex=Q[n(728)](a,0,i-1),s.upperIndex=Q.clamp(o,0,i-1);const c=t[a],h=t[o];s[n(439)]=(e-c)/(h-c)}}class Et extends ${constructor(t,e=!1){const s=j;super(),this[s(604)]=e,this.interpolationElements=new bt(t)}addElement(t,e){const s=j;this[s(389)][s(334)](t,e)}[j(406)](t){const e=j;for(const s of t)this.interpolationElements[e(334)](s[0],s[1])}[j(532)](t,e){const s=j;for(const n of e){const[...e]=n[0];this[s(389)][s(334)](new t(...e),n[1])}}getInterpolatedValue(t,e){const s=j;let n=0;switch(t[s(632)]){case W[s(556)]:n=0!=t[s(538)]?t[s(520)]/t[s(538)]:t[s(520)];break;case W[s(391)]:n=t.sequenceElement.x/t.sequenceElement.w}return this.interpolationElements.getInterpolatedElement(n,e)}}class zt extends Et{constructor(t=!1){super(0,t)}addElementsFromParameters(t){super[j(406)](t)}[j(583)](t){const e=j;return this[e(604)]?t.alpha=t[e(363)]*this[e(575)](t,t[e(573)]):t[e(573)]=this[e(575)](t,t[e(573)]),!0}static[j(756)](t,e){return new zt(e[j(604)])}toJSON(){const t=j;return{params:{relativeToInitialValue:this[t(604)]},elements:[...this[t(389)]].map((e=>[e[t(524)],e[t(598)]]))}}}class Ot extends Et{constructor(t=!1){super(y[j(463)],t),g(this,m,function(){const t=new O;return function(e){const s=It;return this.getInterpolatedValue(e,t),this.relativeToInitialValue?e[s(536)][s(564)](e[s(375)].x*t.x,e[s(375)].y*t.y):e[s(536)].copy(t),!0}}())}[j(646)](t){super[j(532)](O,t)}static[(m=j(583),j(756))](t,e){return new Ot(e.relativeToInitialValue)}[j(759)](){const t=j;return{params:{relativeToInitialValue:this[t(604)]},elements:[...this[t(389)]][t(354)]((e=>[e[t(524)][t(362)](),e.tValue]))}}}class Rt extends Et{constructor(t=!1){super(y[j(661)],t),g(this,d,function(){const t=j,e=new(y[t(661)]);return function(s){const n=t;return this[n(575)](s,e),this[n(604)]?s.color[n(758)](s[n(452)].r*e.r,s[n(452)].g*e.g,s[n(452)].b*e.b):s.color[n(401)](e),!0}}())}[j(646)](t){super.addElementsFromElementClassAndParameters(z,t)}static[(d=j(583),j(756))](t,e){return new Rt(e.relativeToInitialValue)}toJSON(){const t=j;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(389)]][t(354)]((e=>[e[t(524)][t(362)](),e[t(598)]]))}}}class Vt extends ${constructor(t){const e=j;super(),this.generator=t[e(508)]()}[j(646)](t){const e=j;super[e(532)](THREE[e(365)],t)}[j(583)](t){const e=j;return this[e(502)][e(360)](t.acceleration),!0}static[j(756)](t,e){const s=j,n=e[s(502)][s(729)][s(756)](e[s(502)][s(394)]);return new Vt(n)}toJSON(t){const e=j;return{generator:this[e(502)][e(759)](t)}}}class qt extends wt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=j;super(v),this[p(781)]=t,this[p(593)]=e,this[p(335)]=s,this[p(711)]=n,this[p(481)]=i,this[p(361)]=r,this[p(352)]=a,this.scaleY=o,this[p(639)]=c,this.offsetX=h,this[p(377)]=l,this[p(490)]=u,this.tempUp=(new(y[p(365)]))[p(564)](0,1,0)}generate(t){const e=j;this[e(676)][e(564)](0,1,0);const s=Math.random()*this[e(781)]+this.offsetTheta,n=Math.random()*this[e(335)]+this[e(711)],i=Math.cos(s),r=Math.sin(s),a=Math[e(427)](n),o=Math.sin(n);t[e(564)](i,0,-r),t[e(550)](a),this.tempUp.multiplyScalar(o),t[e(445)](this[e(676)]),t[e(383)]();const c=Math[e(736)]()*this[e(481)]+this[e(361)];t.multiplyScalar(c),t.x*=this[e(352)],t.y*=this[e(493)],t.z*=this[e(639)],t.x+=this[e(663)],t.y+=this.offsetY,t.z+=this[e(490)]}clone(){const t=j;return new qt(this[t(781)],this[t(593)],this[t(335)],this[t(711)],this[t(481)],this[t(361)],this[t(352)],this[t(493)],this.scaleZ,this.offsetX,this[t(377)],this[t(490)])}static fromJSON(t){const e=j;return new qt(t.rangeTheta,t[e(593)],t.rangePhi,t.offsetPhi,t[e(481)],t.offsetRadius,t[e(352)],t[e(493)],t[e(639)],t.offsetX,t[e(377)],t[e(490)])}toJSON(t){const e=j;return{type:t[e(458)](qt),params:{rangeTheta:this[e(781)],offsetTheta:this[e(593)],rangePhi:this[e(335)],offsetPhi:this.offsetPhi,rangeRadius:this.rangeRadius,offsetRadius:this[e(361)],scaleX:this[e(352)],scaleY:this[e(493)],scaleZ:this[e(639)],offsetX:this.offsetX,offsetY:this.offsetY,offsetZ:this.offsetZ}}}}class Ct{constructor(){}}class Mt extends Ct{constructor(t,e,s,n,i,r,a=void 0){const o=j;super(),this[o(609)]=null,this[o(746)]=null,this[o(679)]=performance[o(356)]()/1e3,this.lastIntensityFlickerTime=this.lastUpdateTime,this[o(563)]=this[o(679)],this[o(647)]=1,this[o(499)]=1,this[o(515)]=new v,this[o(553)]=new(y[o(365)]),this[o(353)]=1,this[o(533)]=2,this[o(492)]=t,this.init(t,e,s,n,i,r,a)}[j(469)](t,e,s,n,i,r,a=void 0){const o=j;this[o(609)]=new(y[o(572)]),t[o(445)](this.owner),n=n||new(y[o(661)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(746)]=new(y[o(442)])(16777215,2,0,1),this[o(746)][o(395)][o(401)](n),this.light[o(734)]=i,this[o(746)].decay=r,this[o(746)][o(788)]=c,c&&(this[o(746)][o(347)][o(396)].width=a[o(396)]||512,this[o(746)].shadow[o(396)][o(372)]=a[o(396)]||512,this.light[o(347)][o(722)][o(413)]=a.cameraNear||.5,this.light.shadow[o(722)][o(402)]=a[o(476)]||500,this[o(746)].shadow.bias=a[o(752)]||1e-4,this.light[o(347)][o(789)]=a[o(712)]||1),this[o(609)][o(445)](this[o(746)]),this[o(353)]=e,this.intensityFlux=s,this.light}[j(345)](){const t=j;this[t(492)].remove(this[t(609)])}getLight(){return this[j(746)]}[j(785)](t){this.intensity=t}[j(608)](t){const e=j,s=t-this[e(774)],n=1/8,i=this[e(533)];if(s>n){this[e(774)]=t;let s=1+2*(Math.random()-.5)*i*n;const r=s-this[e(647)];s=this[e(647)]+r,this[e(647)]=this[e(499)],this[e(499)]=Q[e(728)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(647)]+t*this[e(499)];this.light[e(353)]=i*this[e(353)]}if(t-this.lastPositionFlickerTime>.0625){this[e(563)]=t;const s=t-this.lastUpdateTime;this.positionAdjuster[e(564)](Math.random()-.5,Math[e(736)]()-.5,Math.random()-.5),this[e(553)].multiplyScalar(s),this[e(553)][e(445)](this[e(515)]),this[e(553)].multiplyScalar(.5),this[e(609)][e(408)][e(401)](this[e(553)]),this.lastPositionAdjuster[e(401)](this[e(553)]),this[e(679)]=t}}}class Nt{constructor(){const t=j;this[t(703)]={default:{}},this[t(657)]={},this[t(348)]=0}[j(700)](t,e){const s=j;this[s(660)](s(570),t,e)}[j(660)](t,e,s){const n=j;if(!this[n(703)][t])throw new Error(n(404));if(this[n(703)][t][e])throw new Error(n(466));this[n(498)](s,e,t)&&(this[n(703)][t][e]=s)}[j(485)](t,e){const s=j;if(this[s(703)][t])throw new Error(s(541));this[s(703)][t]=e;for(const n in e)if(!e[s(343)]||e[s(343)](n)){const i=e[n];this[s(498)](i,n,t)}}[j(498)](t,e,s){const n=j;if(typeof t===n(737)){const i=this[n(348)]++;t[n(625)]=i,this[n(657)][i]={namespace:s,typeName:e}}}[j(558)](t,e){const s=j;if(!this[s(703)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(703)][t][e])throw new Error("JSONTypeStore::getType() -> typeName does not exist");return this[s(703)][t][e]}getTypeNames(t){const e=j;return this.jsonTypeNames[t[e(625)]]}getTypePath(t){const e=j,s=this.getTypeNames(t);if(s)return s[e(495)]+"."+s[e(672)]}[j(743)](t){const e=t[j(344)]("."),s=e[0];e.splice(0,1);return{namespace:s,typeName:e.join(".")}}[j(560)](t){const{namespace:e,typeName:s}=this.parseNamespaceAndTypename(t);return this.getType(e,s)}}function _t(t){function e(t){const s=It;if(typeof t===s(504))return function(t){}.constructor(s(731)).apply("counter");1!==(""+t/t)[s(685)]||t%20==0?function(){return!0}[s(544)](s(665)+s(548))[s(797)](s(473)):function(){return!1}[s(544)](s(665)+s(548)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Ut=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Vt,AnimatedSpriteRenderer:lt,Atlas:ct,BaseParticleStateInitializer:H,BaseParticleStateOperator:K,BoxPositionInitializer:xt,ColorInterpolatorOperator:Rt,ConstantParticleEmitter:ft,FlickerLight:Mt,JSONTypeStore:Nt,LifetimeInitializer:St,Manager:it,OpacityInterpolatorOperator:zt,ParticleStateArray:k,ParticleSystem:nt,ParticleSystemState:st,RandomGenerator:gt,RandomVelocityInitializer:At,Renderer:rt,RotationInitializer:yt,RotationalSpeedInitializer:vt,SequenceInitializer:Ft,SequenceOperator:Tt,SizeInitializer:Pt,SizeInterpolatorOperator:Ot,SphereRandomGenerator:qt},Symbol.toStringTag,{value:"Module"})),Bt=jt;!function(t,e){const s=jt,n=Jt();for(;;)try{if(824773===-parseInt(s(299))/1*(parseInt(s(283))/2)+-parseInt(s(298))/3+parseInt(s(251))/4+-parseInt(s(301))/5*(-parseInt(s(245))/6)+-parseInt(s(291))/7*(parseInt(s(303))/8)+parseInt(s(302))/9*(parseInt(s(309))/10)+-parseInt(s(263))/11*(-parseInt(s(290))/12))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Dt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[jt(248)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Dt(this,(function(){const t=jt,e=new RegExp(t(258)),s=new RegExp(t(247),"i"),n=Yt(t(280));e[t(268)](n+t(316))&&s[t(268)](n+t(261))?Yt():n("0")}))()}();const Xt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function jt(t,e){const s=Jt();return(jt=function(t,e){return s[t-=240]})(t,e)}function Jt(){const t=["test","SequenceInitializer","BoxPositionInitializer","Atlas","Vector2","RandomGenerator","copy","addNamespace","SizeInterpolatorOperator","SizeInitializer","constructor","update","init","fireF","counter","399710fgEFfs","table","value","load","console","position","length","36900nVvSOf","7ydtkCl","setEmitter","addParticleStateOperator","LifetimeInitializer","trace","info","OpacityInterpolatorOperator","1788531gcUdhW","6FQadqy","ParticleSystem","110lqJcZV","1607841Qizett","9573880BvJsPA","ConstantParticleEmitter","scale","toString","bind","while (true) {}","60RHdzAM","call","action","start","addElementsFromParameters","FlickerLight","AccelerationOperator","chain","Vector3","TextureLoader","Object3D","add","ColorInterpolatorOperator","AnimatedSpriteRenderer","addElements","addFrameSet","gger","Color","prototype","log","Photons","46770LHYqqk","addParticleStateInitializer","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","setSimulateInWorldSpace","setRGB","3897724KTwIoP","__proto__","JSONTypeStore",'{}.constructor("return this")( )',"RotationalSpeedInitializer","addParticleSystem","SequenceOperator","function *\\( *\\)","addComponent","stateObject","input","render","5720oqpHaU","debu","RandomVelocityInitializer","getParticleSequences","RotationInitializer"];return(Jt=function(){return t})()}Xt(void 0,(function(){const t=jt,e=function(){const t=jt;let e;try{e=Function("return (function() "+t(254)+");")()}catch(s){e=window}return e}(),s=e.console=e[t(287)]||{},n=[t(243),"warn",t(296),"error","exception",t(284),t(295)];for(let i=0;i<n.length;i++){const e=Xt[t(278)][t(242)][t(307)](Xt),r=n[i],a=s[r]||e;e[t(252)]=Xt[t(307)](Xt),e[t(306)]=a.toString[t(307)](a),s[r]=e}}))();const Wt=C({__name:Bt(281),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Bt,s=t,n=new it,i=new(Ut[e(253)]);i[e(275)]("THREE",y),i[e(275)](e(244),Ut);const{renderer:r,camera:a,scene:o}=V(),c=new(y[e(317)])(...s.position);n[e(256)](((t,s)=>{const n=e,i=new R;i[n(288)][n(274)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(y[n(318)]))[n(286)](a),c=new(Ut[n(271)])(o,a);c[n(324)](1,0,0,1,1);const h=new lt(!0,c,!0,T),l=new(Ut[n(300)])(i,h,r[n(285)]);l[n(280)](150),l[n(292)](new(Ut[n(304)])(6));const u=new(Ut[n(273)])(y[n(272)],new(y[n(272)])(0,0),new(y[n(272)])(.15*t,.15*t),0,0,!1);l[n(246)](new(Ut[n(294)])(3,1,0,0,!1)),l[n(246)](new Pt(u)),l[n(246)](new(Ut[n(270)])(new(y[n(317)])(.05*t,0,.05*t),new v(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new At(new v(.4*t,.5*t,.4*t),new(y[n(317)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(293)](new zt)[n(323)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new Rt(!0))[n(313)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new qt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(293)](new Vt(p)),l.setSimulateInWorldSpace(!0),l[n(312)](),l})(s[e(305)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(y[n(319)]);i[n(288)][n(274)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(y[n(318)])).load(a),c=new(Ut[n(271)])(o,a);c[n(324)](18,0,0,.125,.25);const h=new lt(!0,c,!0),l=new nt(i,h,r[n(285)]);l[n(280)](50),l[n(292)](new(Ut[n(304)])(10)),l.addParticleSequence(0,18);const u=l[n(266)]();l.addParticleStateInitializer(new(Ut[n(294)])(0,0,0,0,!1)),l.addParticleStateInitializer(new(Ut[n(267)])(new(Ut[n(273)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new vt(1,-1,0,0,!1)),l[n(246)](new(Ut[n(277)])(new(Ut[n(273)])(y[n(272)],new O(.25*t,.25*t),new O(.5*t,.5*t),0,0,!1))),l[n(246)](new xt(new(y[n(317)])(.05*t,0,.05*t),new(y[n(317)])(-.025*t,0,-.025*t))),l[n(246)](new(Ut[n(265)])(new(y[n(317)])(.05*t,.4*t,.05*t),new(y[n(317)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(246)](new(Ut[n(269)])(u)),l[n(293)](new(Ut[n(257)])(u,.07,!1));l[n(293)](new(Ut[n(297)]))[n(323)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(293)](new(Ut[n(276)])(!0))[n(313)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l.addParticleStateOperator(new(Ut[n(321)])(!0))[n(313)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(293)](new(Ut[n(315)])(new gt(y[n(317)],new(y[n(317)])(0,0,0),new(y[n(317)])(0,1.5*t,0),0,0,!1))),l[n(249)](!0),l.start(),l})(s[e(305)],c)),n[e(256)](((t,s)=>{const n=e,i=new(y[n(319)]);i[n(288)][n(274)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new F)[n(286)](a),c=new(Ut[n(271)])(o,a);c.addFrameSet(16,0,0,212/1024,.25);const h=new(Ut[n(322)])(!0,c,!0),l=new(Ut[n(300)])(i,h,r[n(285)]);l[n(280)](20),l[n(292)](new(Ut[n(304)])(5)),l.addParticleSequence(0,16);const u=l[n(266)]();l[n(246)](new(Ut[n(294)])(0,0,0,0,!1)),l[n(246)](new(Ut[n(267)])(new(Ut[n(273)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(246)](new(Ut[n(255)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(246)](new Pt(new(Ut[n(273)])(y[n(272)],new(y[n(272)])(0,0),new(y[n(272)])(0,0),.2*t,.65*t,!1))),l[n(246)](new(Ut[n(270)])(new(y[n(317)])(.1*t,0,.1*t),new(y[n(317)])(-.05*t,0,-.05*t))),l[n(246)](new(Ut[n(265)])(new v(.02*t,.4*t,.02*t),new(y[n(317)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(246)](new(Ut[n(269)])(u)),l[n(293)](new(Ut[n(257)])(u,.1,!1));l[n(293)](new(Ut[n(297)]))[n(323)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(293)](new(Ut[n(276)])(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(293)](new(Ut[n(321)])(!0))[n(313)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(293)](new(Ut[n(315)])(new(Ut[n(273)])(y[n(317)],new(y[n(317)])(0,0,0),new(y[n(317)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l.start(),l})(s.scale,c)),n[e(259)](((t,s=10)=>{const n=e,i=new R;o[n(285)][n(320)](i),i[n(288)].copy(t);return new(Ut[n(314)])(i,s,2,(new(y[n(241)]))[n(250)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=q();return h((()=>{const t=e;n[t(279)](),n[t(262)](r[t(285)],a[t(285)])})),(t,e)=>null}});function Yt(t){function e(t){const s=jt;if("string"==typeof t)return function(t){}[s(278)](s(308))[s(248)](s(282));1!==(""+t/t)[s(289)]||t%20==0?function(){return!0}.constructor(s(264)+s(240))[s(310)](s(311)):function(){return!1}[s(278)](s(264)+s(240))[s(248)](s(260)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const kt=Ht;!function(t,e){const s=Ht,n=Gt();for(;;)try{if(688097===-parseInt(s(492))/1+-parseInt(s(524))/2+-parseInt(s(501))/3*(-parseInt(s(506))/4)+parseInt(s(498))/5*(parseInt(s(521))/6)+-parseInt(s(522))/7+parseInt(s(511))/8+-parseInt(s(502))/9*(-parseInt(s(518))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Lt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Lt(this,(function(){const t=Ht,e=new RegExp(t(529)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Kt(t(499));e[t(508)](n+t(495))&&s[t(508)](n+t(494))?Kt():n("0")}))()}();const Zt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Ht(497)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Gt(){const t=["gger","2690xSTYDU","bind","action","6CyDpQo","9530171MlVosH","__proto__","1276158uNNJCu","call","set","console","constructor","function *\\( *\\)","$refs","counter","string","tcRef","stateObject","length","309124WdSZRk","debu","input","chain","fireF","apply","3810325dOiWhb","init","return (function() ","1351761syYwOJ","15696PZxHXo","value",'{}.constructor("return this")( )',"warn","4glguAs","perspectiveCameraRef","test","position","log","10519720dNqvhn","toString","camera","prototype","exception","while (true) {}"];return(Gt=function(){return t})()}function Ht(t,e){const s=Gt();return(Ht=function(t,e){return s[t-=490]})(t,e)}Zt(void 0,(function(){const t=Ht;let e;try{e=Function(t(500)+t(504)+");")()}catch(i){e=window}const s=e[t(527)]=e.console||{},n=[t(510),t(505),"info","error",t(515),"table","trace"];for(let r=0;r<n[t(491)];r++){const e=Zt[t(528)][t(514)][t(519)](Zt),i=n[r],a=s[i]||e;e[t(523)]=Zt[t(519)](Zt),e[t(512)]=a[t(512)][t(519)](a),s[i]=e}}))();const $t=C({__name:kt(496),setup(t){const e=M();return N((()=>{const t=Ht;e.value&&(e.value[t(530)][t(533)]?e[t(503)][t(530)][t(533)].context[t(513)][t(503)].position[t(526)](580,360,500):e[t(503)].$refs[t(507)]&&e[t(503)][t(530)].perspectiveCameraRef[t(509)][t(526)](580,360,500))})),(t,s)=>(_(),U(S,{ref_key:"pagesShowRef",ref:e},{ability:B((()=>[D(Wt,{position:[0,20,10],scale:40})])),_:1},512))}});function Kt(t){function e(t){const s=Ht;if(typeof t===s(532))return function(t){}[s(528)](s(516)).apply(s(531));1!==(""+t/t)[s(491)]||t%20==0?function(){return!0}.constructor(s(493)+"gger")[s(525)](s(520)):function(){return!1}.constructor(s(493)+s(517))[s(497)](s(490)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{$t as default};
