import{V as t,_ as n,h as e}from"./three.ES53pcRR1736129093919.js";import{m as o}from"./@tresjs.C4A766dl1736129093919.js";import{d as a,P as r}from"./@pmndrs.CFxMGwGw1736129093919.js";import{d as s,b as i,w as c,a3 as u,o as l,D as d,J as f,aj as h,ak as p}from"./@vue.uQKhJ3x71736129093919.js";const m=z;!function(t,n){const e=z,o=M();for(;;)try{if(266784===parseInt(e(542))/1+parseInt(e(471))/2+parseInt(e(487))/3+parseInt(e(480))/4+-parseInt(e(509))/5+parseInt(e(538))/6+-parseInt(e(510))/7)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(521)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){w(this,(function(){const t=z,n=new RegExp(t(500)),e=new RegExp(t(515),"i"),o=x("init");n[t(519)](o+"chain")&&e[t(519)](o+t(478))?x():o("0")}))()}();const b=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(521)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();b(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(505)+t(482)+");")()}catch(e){n=window}return n}(),e=n[t(501)]=n[t(501)]||{},o=[t(485),t(498),"info",t(527),t(535),t(517),t(464)];for(let a=0;a<o[t(530)];a++){const n=b[t(473)][t(495)][t(511)](b),r=o[a],s=e[r]||n;n[t(508)]=b[t(511)](b),n[t(484)]=s[t(484)][t(511)](s),e[r]=n}}))();const g=[m(546)];function M(){const t=["children","clear","alphaTest","height","blend","castShadow","prototype","shadow","set","warn","lightPosition","function *\\( *\\)","console","width","texture","near","return (function() ","progressiveLightMap2","frames","__proto__","2018640TTZQdF","7962773CpWIxY","bind","stateObject","gger","add","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radius","table","right","test","color","apply","material","TresPlaneGeometry","mapSize","bottom","gPlane","error","call","blendWindow","length","camera","sin","bias","prepare","exception","random","counter","3197118xfREgD","intensity","while (true) {}","Group","350212sQMQkz","string","TresMesh","top","rotate-x","position","cos","opacity","trace","shadows render start","acos","update","debu","TresSoftShadowMaterial","MathUtils","928704hGpYqz","configure","constructor","accumulativeShadowsCom","size","shadows render end","value","input","far","26860blnYOD","DirectionalLight",'{}.constructor("return this")( )',"action","toString","log","randFloatSpread","1361757FGsycx","left"];return(M=function(){return t})()}const y=s({__name:m(474),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,b=s;let M=i();const{extend:y,scene:z,renderer:x,camera:I}=o();y({SoftShadowMaterial:a});const S={position:(new t).set(b[w(499)].x,b[w(499)].y,b[w(499)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},_=new r(x.value,z[w(477)],S[w(524)]),T={map:_[w(506)][w(503)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:b[w(493)],alphaTest:b[w(491)],opacity:b[w(463)],color:b[w(520)]},v=new(n[w(541)]);for(let t=0;t<S.amount;t++){const t=new(n[w(481)])(16777215,S[w(539)]/S.amount);t[w(494)]=!0,t[w(496)].bias=S[w(533)],t.shadow[w(531)][w(504)]=S.near,t.shadow[w(531)][w(479)]=S[w(479)],t.shadow[w(531)][w(518)]=S.size/2,t[w(496)][w(531)][w(488)]=-S.size/2,t[w(496)][w(531)][w(545)]=S[w(475)]/2,t[w(496)][w(531)][w(525)]=-S.size/2,t[w(496)][w(524)][w(502)]=S[w(524)],t.shadow[w(524)][w(492)]=S.mapSize,v.add(t)}const P=()=>{const t=w,o=S[t(547)].length();for(let a=0;a<v[t(489)][t(530)];a++){const r=v[t(489)][a];if(Math[t(536)]()>b.ambient)r[t(547)][t(497)](S[t(547)].x+e[t(486)](S[t(516)]),S[t(547)].y+n[t(470)][t(486)](S.radius),S[t(547)].z+e[t(486)](S.radius));else{let n=Math[t(466)](2*Math[t(536)]()-1)-Math.PI/2,e=2*Math.PI*Math[t(536)]();r[t(547)][t(497)](Math.cos(n)*Math.cos(e)*o,Math.abs(Math[t(548)](n)*Math[t(532)](e)*o),Math[t(532)](n)*o)}}},j=(t=1)=>{const n=w;z[n(477)][n(514)](v),_[n(534)]();for(let e=0;e<t;e++)P(),_[n(467)](I[n(477)],b.blendWindow),console[n(485)]("shadows plm update",e);z[n(477)].remove(v),_.finish()};c((()=>M[w(477)]),(t=>{const n=w;t&&(_[n(472)](t),_[n(490)](),console[n(485)](n(465)),j(b[n(507)]),console.log(n(476)))}));const W=()=>{const t=w;_.clear(),j(b[t(507)])};return u((()=>{const t=w;M[t(477)]&&(b.opacity&&(M[t(477)][t(522)][t(463)]=b[t(463)]),b.alphaTest&&(M[t(477)][t(522)].alphaTest=b[t(491)]),b.color&&M.value.material[t(520)].set(b.color),b[t(493)]&&(M[t(477)][t(522)][t(493)]=b.blend))})),c((()=>b[w(499)]),(t=>{const n=w;t&&(console[n(485)](b[n(499)]),S[n(547)][n(497)](t.x,t.y,t.z),W())}),{deep:!0}),c((()=>[b[w(507)],b[w(529)],b.ambient]),(()=>{W()})),(t,n)=>{const e=w;return l(),d(e(544),{"receive-shadow":"",ref_key:e(526),ref:M,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=f(e(523),{args:[1,1]},null,-1)),f(e(469),h(p(T)),null,16)],8,g)}}});function z(t,n){const e=M();return(z=function(t,n){return e[t-=463]})(t,n)}function x(t){function n(t){const e=z;if(typeof t===e(543))return function(t){}.constructor(e(540))[e(521)](e(537));1!==(""+t/t)[e(530)]||t%20==0?function(){return!0}[e(473)]("debugger")[e(528)](e(483)):function(){return!1}[e(473)](e(468)+e(513))[e(521)](e(512)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as _};
