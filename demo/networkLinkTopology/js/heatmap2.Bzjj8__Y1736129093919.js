import{P as t}from"./tweakpane.BCjFYDHx1736129093919.js";import{l as n,a as e,b as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.BCCAmrnj1736129093919.js";import{_ as r}from"./heatmap.js-fix.BiltR7-B1736129093919.js";import{h as i,_ as c,cc as s,B as u}from"./three.ES53pcRR1736129093919.js";import{r as a}from"./utils.BvjrwQBJ1736129093919.js";import{d as p}from"./pinia.CtRHBYHM1736129093919.js";import{b as f,d as l,a3 as h,o as d,D as m,J as g,u as v,F as y,q as w,U as I,N as b,P as _,H as j,L as x,a6 as M,r as S,j as E,g as P,m as O}from"./@vue.uQKhJ3x71736129093919.js";import{c as D,d as k,a as R}from"./three-mesh-bvh.DE7kZA-N1736129093919.js";import{_ as Z}from"./@fesjs.C11Gf8kF1736129093919.js";import"./@tresjs.C4A766dl1736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./three-custom-shader-material.LMK2zh-z1736129093919.js";import"./buildingsCustomShaderMaterial.DlgvFSb71736129093919.js";import"./@amap.DhOO2qTl1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";!function(t,n){const e=T,o=F();for(;;)try{if(521625===parseInt(e(193))/1+-parseInt(e(226))/2+parseInt(e(227))/3+parseInt(e(201))/4*(parseInt(e(202))/5)+-parseInt(e(183))/6+parseInt(e(181))/7+-parseInt(e(224))/8*(parseInt(e(198))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=T,n=new RegExp(t(199)),e=new RegExp(t(221),"i"),o=H(t(189));n[t(216)](o+t(180))&&e[t(216)](o+t(210))?H():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(192)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(){const t=["563705amKTEu","length","width","_config","prototype","rgb(0,255,0)","trace","yellow","input","stateObject","while (true) {}","counter","setData","error","test","constructor","toString","bind","position","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","randInt","push","8296pSZjfU","style","1172580PxTadH","1082676uszJXu","string","chain","5425917ivYQov","rgb(0,0,255)","6176460BqtHIF","getValueAt","return (function() ","__proto__","console","rgb(255,0,0)","init","heatmap-canvas","top","apply","66482Isawjw","create","gger","body","debu","693whjVxt","function *\\( *\\)","call","36QXHipP"];return(F=function(){return t})()}A(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(185)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(187)]=n[t(187)]||{},o=["log","warn","info",t(215),"exception","table",t(208)];for(let r=0;r<o.length;r++){const n=A[t(217)][t(206)][t(219)](A),i=o[r],c=e[i]||n;n[t(186)]=A[t(219)](A),n[t(218)]=c.toString[t(219)](c),e[i]=n}}))();function T(t,n){const e=F();return(T=function(t,n){return e[t-=180]})(t,n)}const B=(t,n)=>t[T(184)](n)+-10;function H(t){function n(t){const e=T;if(typeof t===e(228))return function(t){}.constructor(e(212))[e(192)](e(213));1!==(""+t/t)[e(203)]||t%20==0?function(){return!0}[e(217)]("debu"+e(195))[e(200)]("action"):function(){return!1}.constructor(e(197)+e(195))[e(192)](e(211)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=V;function Q(){const t=["prototype","value","gger","2567125LnaSPB","chain","buildingsHeatmap","action","function *\\( *\\)","558huKcEo","9952860OmJdHh","toString","474tMGfdK","trace","while (true) {}","1125006ckPOJA","string","console","165460yVpXWN","bind",'{}.constructor("return this")( )',"warn","info","test","exception","8arVcuk","error","248uanuSr","79370tQbHTM","__proto__","input","call","apply","counter","return (function() ","debu","log","629914FJTliC","152383GEDuuq","2OixiOS","constructor","init"];return(Q=function(){return t})()}!function(t,n){const e=V,o=Q();for(;;)try{if(837639===-parseInt(e(254))/1*(-parseInt(e(256))/2)+parseInt(e(273))/3*(parseInt(e(242))/4)+parseInt(e(245))/5*(-parseInt(e(270))/6)+-parseInt(e(255))/7*(-parseInt(e(244))/8)+parseInt(e(267))/9*(-parseInt(e(276))/10)+parseInt(e(262))/11+parseInt(e(268))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=V,n=new RegExp(t(266)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=J(t(258));n[t(240)](o+t(263))&&e[t(240)](o+t(247))?J():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(249)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=Q();return(V=function(t,n){return e[t-=240]})(t,n)}$(void 0,(function(){const t=V;let n;try{n=Function(t(251)+t(278)+");")()}catch(r){n=window}const e=n[t(275)]=n[t(275)]||{},o=[t(253),t(279),t(280),t(243),t(241),"table",t(271)];for(let i=0;i<o.length;i++){const n=$.constructor[t(259)][t(277)]($),r=o[i],c=e[r]||n;n[t(246)]=$.bind($),n[t(269)]=c.toString[t(277)](c),e[r]=n}}))();const q=p(X(264),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[V(260)]=t}}}));function J(t){function n(t){const e=V;if(typeof t===e(274))return function(t){}.constructor(e(272))[e(249)](e(250));1!==(""+t/t).length||t%20==0?function(){return!0}[e(257)](e(252)+"gger")[e(248)](e(265)):function(){return!1}[e(257)](e(252)+e(261))[e(249)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=G;!function(t,n){const e=G,o=Y();for(;;)try{if(650588===-parseInt(e(435))/1+parseInt(e(494))/2*(-parseInt(e(484))/3)+parseInt(e(447))/4*(-parseInt(e(495))/5)+parseInt(e(458))/6+-parseInt(e(448))/7*(-parseInt(e(498))/8)+parseInt(e(455))/9+parseInt(e(505))/10*(parseInt(e(463))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=G,n=new RegExp(t(478)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt(t(436));n[t(459)](o+t(472))&&e[t(459)](o+t(496))?nt():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(439)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=Y();return(G=function(t,n){return e[t-=434]})(t,n)}C(void 0,(function(){const t=G;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(497)]=n[t(497)]||{},o=[t(474),t(451),t(492),t(441),t(450),"table",t(477)];for(let i=0;i<o.length;i++){const n=C[t(503)][t(468)][t(481)](C),r=o[i],c=e[r]||n;n.__proto__=C[t(481)](C),n[t(438)]=c[t(438)][t(481)](c),e[r]=n}}))();const N=[K(500),K(445)],W=[K(500)];function Y(){const t=["city","3IPltoU","matrix","width","Matrix4","applyMatrix4","primitive","Texture","action","info","model","2203576ssRxel","85VQTonj","input","console","3042296Ipweqt","land","object","length","computeBoundsTree","constructor","attributes","2630DVZFir","Mesh","409135HOMMjo","init","buildingsHeatmap","toString","apply","clone","error","stateObject","disposeBoundsTree","raycast","rotation-x","setTemperature","222004NRtXgE","21NZsQiy","geometry","exception","warn","mergeGeometries","uniforms","ShaderMaterial","6405282yaSgQO","value","height","1235952kloQlP","test","opacity","counter","canvas","43769BKXbnA","uOpacity","while (true) {}","setShowDiv","makeRotationX","prototype","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","children","DoubleSide","chain","debu","log","normal","BufferGeometry","trace","function *\\( *\\)","call","数值———：","bind","gger"];return(Y=function(){return t})()}const tt=l({__name:K(437),props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=G;u[t(468)][t(502)]=D,c[t(476)][t(468)][t(443)]=k,c[t(434)][t(468)][t(444)]=R})();const e=t,o=((t=250,n=250,e=!0)=>{const o=T,i=document.createElement(o(190));return i[o(225)][o(220)]="absolute",!e&&(i[o(225)].display="none"),i[o(225)][o(191)]="0",i.style.left="0",document[o(196)].appendChild(i),r[o(194)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(182),.55:o(207),.85:o(209),1:o(188)}})})();((t,n)=>{const e=T;if(!n){let o=0;for(n=[];o<1e3;)n[e(223)]({x:i.randInt(1,t._config[e(204)]),y:i.randInt(1,t[e(205)].height),value:i[e(222)](-10,36)}),o++}t[e(214)]({max:36,min:-10,data:n})})(o);const p=new(c[n(490)])(o._renderer[n(462)]);p.needsUpdate=!0;const f=e[n(493)][n(483)][n(440)]();delete f.geometry[n(504)][n(475)],delete f[n(449)][n(504)].uv;const l=f.geometry.clone()[n(488)](f[n(485)]),w=e[n(493)][n(499)][n(440)]();delete w[n(449)][n(504)][n(475)];const I=w.geometry[n(440)]()[n(488)](w[n(485)]),b=s[n(452)]([l,I]);b[n(488)]((new(c[n(487)]))[n(467)](Math.PI/2)),a(b),b[n(502)]();const _=(t=>{const o=n;return new(c[o(454)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(469),uniforms:{uOpacity:{value:e[o(460)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(471)]})})(p),j=new(c[n(434)])(b,_);h((()=>{const t=n;e[t(460)]&&(_[t(453)][t(464)][t(456)]=e[t(460)])}));const x=q(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(486)],y:(1-t.uv.y)*o._config[e(457)]};console[e(474)]("数值：",t),console[e(474)](e(480),B(o,n)),x[e(446)](B(o,n))}},S=t=>{t&&x.$patch({showDiv:!0})},E=t=>{t&&x[n(466)](!1)};return(t,o)=>{const r=n;return d(),m(y,null,[g(r(489),{object:v(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:S,onPointerLeave:E},null,40,N),g(r(489),{object:e.model[r(493)][r(470)][0][r(440)]()},null,8,W)],64)}}});function nt(t){function n(t){const e=G;if("string"==typeof t)return function(t){}[e(503)](e(465))[e(439)](e(461));1!==(""+t/t)[e(501)]||t%20==0?function(){return!0}.constructor(e(473)+"gger")[e(479)](e(491)):function(){return!1}[e(503)](e(473)+e(482))[e(439)](e(442)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=Z({__name:"dataDiv",setup(t){const n=q(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>b((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(v(n).temperature)+"℃ ",5)),[[_,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=st;!function(t,n){const e=st,o=it();for(;;)try{if(842950===parseInt(e(300))/1+-parseInt(e(299))/2*(-parseInt(e(295))/3)+-parseInt(e(303))/4*(-parseInt(e(298))/5)+parseInt(e(310))/6+-parseInt(e(296))/7+parseInt(e(304))/8*(parseInt(e(276))/9)+-parseInt(e(278))/10*(parseInt(e(281))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(315)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(){const t=["builds","constructor","error","9867420tOdJXC","prototype","input","string","stateObject","apply","透明度","console","log",'{}.constructor("return this")( )',"chain","bind","549fDKVjz","debu","15020000kUjyMX","heatmap2","test","22KIYMcE","call","init","exception","while (true) {}","action","toString","warn","opacity","#000","info","return (function() ","gger","__proto__","42027egMjNG","9763677zbpqBq","length","2030885xtawWe","142WfiLwQ","374815ZvvcIf","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8lnvPEF","185624PQFHwX","trace","model"];return(it=function(){return t})()}!function(){rt(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(302),"i"),o=at(t(283));n[t(280)](o+t(320))&&e[t(280)](o+t(312))?at():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(315)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=it();return(st=function(t,n){return e[t-=276]})(t,n)}ct(void 0,(function(){const t=st;let n;try{n=Function(t(292)+t(319)+");")()}catch(r){n=window}const e=n[t(317)]=n[t(317)]||{},o=[t(318),t(288),t(291),t(309),t(284),"table",t(305)];for(let i=0;i<o.length;i++){const n=ct[t(308)][t(311)][t(321)](ct),r=o[i],c=e[r]||n;n[t(294)]=ct[t(321)](ct),n[t(287)]=c[t(287)][t(321)](c),e[r]=n}}))();const ut=l({__name:ot(279),async setup(r){const i=ot;let c,s;const u=f(!1),a=([c,s]=M((()=>n())),c=await c,s(),c);u[i(301)]=!0;const p=S({width:1,color:i(290),opacity:1,show:!0}),l=S({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,i(289),{label:i(316),min:0,max:1,step:.1}),(t,n)=>{const r=i;return d(),m(y,null,[E(o,{showBuildings:!1,autoRotate:!1},{ability:P((()=>[E(tt,O({model:v(a)},l),null,16,[r(306)]),E(e,O(p,{builds:v(a).city}),null,16,[r(307)])])),_:1}),E(et)],64)}}});function at(t){function n(t){const e=st;if(typeof t===e(313))return function(t){}[e(308)](e(285))[e(315)]("counter");1!==(""+t/t)[e(297)]||t%20==0?function(){return!0}.constructor(e(277)+e(293))[e(282)](e(286)):function(){return!1}.constructor(e(277)+"gger")[e(315)](e(314)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
