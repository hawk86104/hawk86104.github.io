import{a as t,e as n,U as e}from"./@tresjs.C4A766dl1736129093919.js";import{a6 as r,a0 as o,c as a,k as i,aF as s,t as c,cp as u,s as l}from"./three.ES53pcRR1736129093919.js";import{z as f}from"./three-custom-shader-material.LMK2zh-z1736129093919.js";import{P as p}from"./tweakpane.BCjFYDHx1736129093919.js";import{a as h}from"./axios.CmiZ4mbs1736129093919.js";import{d as v,r as g,a6 as d,q as m,e as w,o as y,f as b,g as I,J as _,j as x,u as j,aj as C,ak as T,m as k}from"./@vue.uQKhJ3x71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";!function(t,n){const e=D,r=A();for(;;)try{if(822946===parseInt(e(118))/1+parseInt(e(156))/2+-parseInt(e(113))/3*(parseInt(e(141))/4)+parseInt(e(150))/5*(parseInt(e(115))/6)+parseInt(e(122))/7*(parseInt(e(136))/8)+-parseInt(e(114))/9+parseInt(e(151))/10*(-parseInt(e(120))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(t,n){const e=A();return(D=function(t,n){return e[t-=112]})(t,n)}!function(){S(this,(function(){const t=D,n=new RegExp(t(137)),e=new RegExp(t(127),"i"),r=U(t(155));n[t(126)](r+t(134))&&e[t(126)](r+"input")?U():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();L(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(131)+t(124)+");")()}catch(e){n=window}return n}(),e=n[t(139)]=n[t(139)]||{},r=[t(130),t(146),t(116),t(135),"exception","table","trace"];for(let o=0;o<r[t(145)];o++){const n=L[t(125)].prototype[t(119)](L),a=r[o],i=e[a]||n;n[t(140)]=L.bind(L),n[t(112)]=i.toString[t(119)](i),e[a]=n}}))();class R{constructor(t,n){const e=D,a=R[e(147)](t),i=new f({baseMaterial:r,vertexShader:e(154),fragmentShader:a,side:o,uniforms:n[e(117)].uniforms});this[e(117)]=i,console[e(130)](this[e(117)])}static replaceVariable(t){const n=D;t="varying vec2 vUv;\n"+t;if(/iTime|iTimeDelta/g[n(126)](t)){let e=t[n(152)](n(153));t=(t=n(153)+n(132)+e[1])[n(133)](/iTime|iTimeDelta/g,"utime")}if(/iResolution\.[a-zA-Z_]+/g[n(126)](t)){let e=t.split("varying vec2 vUv;\n");t=(t=(t=n(153)+n(149)+e[1])[n(133)](/iResolution\.[a-zA-Z_]+/g,"1.")).replace(/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(126)](t)){let e=t[n(152)]("varying vec2 vUv;\n");t=(t=n(153)+"uniform sampler2D  utexture;\n"+e[1]).replace(/iChannel0|iChannel1|iChannel2|iChannel3/g,n(121))}return t.replace(/iMouse/g,n(123)),t[n(133)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,"void main()").replace(/fragColor/g,"csm_DiffuseColor")[n(133)](/fragCoord/g,"vUv")}}function A(){const t=["log","return (function() ","uniform float utime;\n","replace","chain","error","8NiiQfP","function *\\( *\\)","counter","console","__proto__","748kcatpO","while (true) {}","debu","apply","length","warn","replaceVariable","string","uniform vec2 uresolution;\n","145gGdqeB","40odNcay","split","varying vec2 vUv;\n","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","init","2656122StMaLV","call","toString","19668scwkwz","3642102gTnuNC","82122DvfnFj","info","material","1460495IdLlIr","bind","2865467LKDERT","utexture","2170735YPDSRW","umouse",'{}.constructor("return this")( )',"constructor","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","stateObject"];return(A=function(){return t})()}function U(t){function n(t){const e=D;if(typeof t===e(148))return function(t){}[e(125)](e(142))[e(144)](e(138));1!==(""+t/t)[e(145)]||t%20==0?function(){return!0}.constructor(e(143)+e(128))[e(157)]("action"):function(){return!1}[e(125)](e(143)+"gger")[e(144)](e(129)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=P;!function(t,n){const e=P,r=H();for(;;)try{if(426029===-parseInt(e(428))/1*(-parseInt(e(438))/2)+parseInt(e(396))/3+-parseInt(e(400))/4+-parseInt(e(437))/5+parseInt(e(379))/6+parseInt(e(388))/7*(-parseInt(e(376))/8)+parseInt(e(414))/9*(parseInt(e(430))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(401)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=P,n=new RegExp(t(404)),e=new RegExp(t(416),"i"),r=F(t(375));n[t(395)](r+"chain")&&e[t(395)](r+t(394))?F():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();B(void 0,(function(){const t=P;let n;try{n=Function(t(378)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(386)]=n[t(386)]||{},r=[t(444),t(426),"info",t(393),t(445),t(418),"trace"];for(let a=0;a<r[t(389)];a++){const n=B[t(409)][t(431)].bind(B),o=r[a],i=e[o]||n;n[t(403)]=B[t(424)](B),n[t(380)]=i.toString.bind(i),e[o]=n}}))();const G={ref:z(402),position:[300,250,-122],fov:45,near:1,far:1e4},O=[z(411),z(406)];function P(t,n){const e=H();return(P=function(t,n){return e[t-=374]})(t,n)}const Z=v({__name:"shadertoyMaterial",async setup(r){const f=z;let v,S;const D={clearColor:f(442),shadows:!0,alpha:!1,useLegacyLights:!0},L={autoRotate:!0,enableDamping:!0},A=new p({title:"参数"}),U=g({addres:f(405),shadervalue:""});let E=([v,S]=d((()=>t(["./plugins/earthSample/image/earthA/moon_ring.png"]))),v=await v,S(),v),B=new a,P=g({material:{uniforms:{utime:{value:0},uresolution:{value:new i(40,40)},utexture:{value:E}}}}),Z=new s(100,100,100);A[f(421)]({view:f(410),label:f(392),parse:t=>String(t),options:[{text:"1",value:f(405)},{text:"2",value:f(415)},{text:"3",value:f(440)}],value:f(405)}).on("change",(t=>{U[f(432)]=t.value,N(Z)}));let F=new s(100,100,100),H=new c(100,100),M=new u(100,10,100,16);A[f(421)]({view:f(410),label:"几何体",options:[{text:f(429),value:F},{text:f(387),value:H},{text:f(443),value:M}],value:F}).on(f(377),(t=>{Z=t[f(407)],N(Z)}));const N=t=>{const n=f;let e=n(391)+U[n(432)][n(385)](n(435))[1]+n(422);h.get(e)[n(412)]((function(e){const r=n;e[r(382)].Error&&alert(e[r(382)][r(408)]),U[r(397)]=e.data.Shader.renderpass[0][r(419)];let o=new R(U[r(397)],P);B.clear();let a=new l(t,o[r(384)]);B.add(a),V(B,t)}))[n(427)]((function(t){console[n(444)](t)}))},V=(t,n)=>{const e=f;t.children[0].geometry[e(436)](),t[e(383)][0][e(398)]=n},{onLoop:W}=n();return W((({delta:t})=>{const n=f;P.material[n(420)].utime[n(407)]+=t})),m((()=>{let t=new s(100,100,100);N(t)})),(t,n)=>{const r=f,a=w(r(441));return y(),b(a,k(D,{"window-size":""}),{default:I((()=>[_(r(425),G,null,512),x(j(e),C(T(L)),null,16),n[0]||(n[0]=_(r(434),{color:r(423)},null,-1)),n[1]||(n[1]=_(r(417),{position:[100,100,0],intensity:.5,color:r(423)},null,-1)),_("primitive",{object:j(B),side:j(o)},null,8,O),n[2]||(n[2]=_("TresAxesHelper",{args:[1e3],position:[0,19,0]},null,-1)),n[3]||(n[3]=_(r(374),{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});function F(t){function n(t){const e=P;if(typeof t===e(433))return function(t){}[e(409)](e(381)).apply("counter");1!==(""+t/t)[e(389)]||t%20==0?function(){return!0}.constructor("debu"+e(390))[e(439)]("action"):function(){return!1}[e(409)](e(413)+e(390))[e(401)](e(399)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function H(){const t=["107VLLwsO","BOX","20geAsir","prototype","addres","string","TresAmbientLight","https://www.shadertoy.com/view/","dispose","741390kyHBgS","718SbskEi","call","https://www.shadertoy.com/view/ttKGDt","TresCanvas","#000000","TorusKnot","log","exception","TresGridHelper","init","584Tkhpaf","change","return (function() ","5057682jzUWNF","toString","while (true) {}","data","children","material","split","console","Plane","56063LfMUte","length","gger","https://www.shadertoy.com/api/v1/shaders/","shadertoy在线地址","error","input","test","974085BWNWpv","shadervalue","geometry","stateObject","2420012fOoRYD","apply","perspectiveCameraRef","__proto__","function *\\( *\\)","https://www.shadertoy.com/view/mtyGWy","side","value","Error","constructor","list","object","then","debu","2510604YyjLGJ","https://www.shadertoy.com/view/tlVGDt","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresDirectionalLight","table","code","uniforms","addBlade","?key=BdHlhH","#ffffff","bind","TresPerspectiveCamera","warn","catch"];return(H=function(){return t})()}export{Z as default};
