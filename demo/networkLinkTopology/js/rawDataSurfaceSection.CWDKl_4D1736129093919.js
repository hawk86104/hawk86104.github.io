var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,a=(t,a)=>{for(var i in a||(a={}))e.call(a,i)&&o(t,i,a[i]);if(n)for(var i of n(a))r.call(a,i)&&o(t,i,a[i]);return t};import{U as i,H as s}from"./@tresjs.C4A766dl1736129093919.js";import{u,_ as c}from"./colorList.CK-SVGts1736129093919.js";import{_ as l,cx as f,d6 as p}from"./three.ES53pcRR1736129093919.js";import{z as m}from"./three-custom-shader-material.LMK2zh-z1736129093919.js";import{P as d}from"./tweakpane.BCjFYDHx1736129093919.js";import{u as h}from"./rawData.DVN_Ome41736129093919.js";import{d as x,b as g,a as y,r as w,w as b,o as _,D as v,J as I,u as j,j as M,g as z,x as L,F as S,V as A,f as R,H as T,I as E,m as D}from"./@vue.uQKhJ3x71736129093919.js";import{K as k,H as O,a9 as V,aa as Z,ab as G,U,a5 as B,a6 as F,t as H,a0 as C,a7 as P,v as $,_ as q}from"./@fesjs.C11Gf8kF1736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./pinia.CtRHBYHM1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";function X(t,n){const e=Y();return(X=function(t,n){return e[t-=476]})(t,n)}const J=X;!function(t,n){const e=X,r=Y();for(;;)try{if(311551===parseInt(e(496))/1+parseInt(e(539))/2*(parseInt(e(495))/3)+-parseInt(e(506))/4+-parseInt(e(492))/5+parseInt(e(552))/6+-parseInt(e(512))/7+parseInt(e(488))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(478)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(){const t=["info","inverseMatrix","scale","522760BRbhYG","change","mesh","updateTransferFunction","string","stateObject","floor","colorsStops","copy","material","warn","min","title","matrix","scene","gger","y剖面","LineSegments","xLength","call","repaint","invert","xExtent","constructor","RASDimensions","z剖面","Matrix4","8tZeZLh","length","return (function() ","byteArray","LineBasicMaterial","trace","table","action","lowerThreshold","EdgesGeometry","z轴缩放","error","exception","272520IgOtJx","while (true) {}","value","zExtent","__proto__","upperThreshold","object","TresGroup","repaintAllSlices","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","yLength","apply","dataType","extractSlice","test","bind","uniforms","max","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","x轴缩放","addBinding","5164216LgTaex","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","input","toString","1449150dGhTzc","spacing","primitive","51351lHwpkx","456205VckBML","chain","y轴缩放","index","zLength","console","eTexture","DoubleSide","windowHigh","x剖面","2158236zUAxVg","BoxGeometry","debu"];return(Y=function(){return t})()}!function(){K(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(476),"i"),r=at("init");n[t(481)](r+t(497))&&e[t(481)](r+t(490))?at():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(478)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(541)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(501)]=n[t(501)]||{},r=["log",t(522),t(509),t(550),t(551),t(545),t(544)];for(let o=0;o<r[t(540)];o++){const n=Q.constructor.prototype.bind(Q),a=r[o],i=e[a]||n;n[t(556)]=Q[t(482)](Q),n.toString=i[t(491)][t(482)](i),e[a]=n}}))();const N=["scale","visible"],W=[J(511)],tt=[J(558)],nt=["object"],et=["object"],rt=[J(558)],ot=x({__name:J(526),setup(t){const n=J,e=g(-1),r=g(-1),o=g(.6),i=y((()=>{const t=X;return!(e[t(554)]<=.01&&e[t(554)]>=-.01)&&(!(r[t(554)]<=.01&&r[t(554)]>=-.01)&&!(o[t(554)]<=.01&&o[t(554)]>=-.01))})),s=u(),c=h(),x=(t=>{const n=X,e=new p(c[n(534)],c.yExtent,c[n(555)],c[n(479)][c.selectDataType][n(524)],c[n(542)]);e[n(493)]=[1,1,1],e.RASDimensions=[Math[n(518)](e.xLength),Math[n(518)](e[n(477)]),Math[n(518)](e[n(500)])],e[n(525)]=new(l[n(538)]),e[n(510)]=new(l[n(538)]),e[n(510)][n(520)](e.matrix)[n(533)]();const r=e.computeMinMax(),o=r[0],a=r[1];return e.windowLow=o,e[n(504)]=a,e[n(547)]=o,e[n(557)]=a,e})(c[n(542)]),M=new(l[n(529)])(new(l[n(548)])(new(l[n(507)])(x[n(530)],x.yLength,x[n(500)])),new(l[n(543)])({color:6710886})),z=w({x:Math[n(518)](x[n(536)][0]/2),y:Math[n(518)](x[n(536)][1]/2),z:Math[n(518)](x[n(536)][2]/4)});x.windowHigh=136;const L=x[n(480)]("x",z.x),S=x[n(480)]("y",z.y),A=x[n(480)]("z",z.z),R={vertexShader:n(489),fragmentShader:n(485),uniforms:{eTexture:{value:s[n(515)]()}},silent:!0,flatShading:!0,side:l[n(503)],transparent:!0,depthTest:!0,depthWrite:!1,blending:f};L[n(514)][n(521)]=new m(a({baseMaterial:L[n(514)][n(521)]},R)),S[n(514)][n(521)]=new m(a({baseMaterial:S.mesh[n(521)]},R)),A.mesh[n(521)]=new m(a({baseMaterial:A[n(514)][n(521)]},R));const T=new d;return T[n(487)](e,n(554),{label:n(486),min:-2,max:2,step:.01}),T[n(487)](r,"value",{label:n(498),min:-2,max:2,step:.01}),T[n(487)](o,n(554),{label:n(549),min:-2,max:2,step:.01}),T[n(487)](z,"x",{label:n(505),min:0,max:x[n(536)][0],step:1}),T[n(487)](z,"y",{label:n(528),min:0,max:x[n(536)][1],step:1}),T[n(487)](z,"z",{label:n(537),min:0,max:x[n(536)][2],step:1}),T[n(487)](x,n(547),{label:n(547),min:x[n(523)],max:x.max,step:1}).on(n(513),(()=>{x[n(560)]()})),T[n(487)](x,n(557),{label:n(557),min:x[n(523)],max:x[n(484)],step:1}).on("change",(()=>{x[n(560)]()})),T[n(487)](x,"windowLow",{label:"windowLow",min:x.min,max:x[n(484)],step:1}).on("change",(()=>{x.repaintAllSlices()})),T.addBinding(x,"windowHigh",{label:"windowHigh",min:x[n(523)],max:x[n(484)],step:1}).on(n(513),(()=>{x[n(560)]()})),b((()=>z),(t=>{const e=n;L[e(499)]=t.x,L.repaint[e(531)](L),S[e(499)]=t.y,S[e(532)][e(531)](S),A.index=t.z,A.repaint[e(531)](A)}),{deep:!0}),b((()=>s[n(519)]),(()=>{const t=n;L[t(514)][t(521)][t(483)][t(502)][t(554)]=s[t(515)](),S[t(514)].material.uniforms[t(502)].value=s[t(515)](),A.mesh[t(521)].uniforms[t(502)].value=s[t(515)]()}),{deep:!0,immediate:!0}),(t,a)=>{const s=n;return _(),v(s(559),{scale:[e[s(554)],r[s(554)],o[s(554)]],visible:i.value},[I("TresGroup",{scale:[1/j(x)[s(530)],1/j(x)[s(530)]*j(x).xLength/j(x)[s(477)],1/j(x)[s(530)]*j(x)[s(530)]/j(x)[s(500)]]},[I(s(494),{object:j(L)[s(514)],renderOrder:1},null,8,tt),I(s(494),{object:j(S)[s(514)],renderOrder:2},null,8,nt),I(s(494),{object:j(A)[s(514)],renderOrder:3},null,8,et),I(s(494),{object:j(M)},null,8,rt)],8,W)],8,N)}}});function at(t){function n(t){const e=X;if(typeof t===e(516))return function(t){}[e(535)](e(553)).apply("counter");1!==(""+t/t)[e(540)]||t%20==0?function(){return!0}[e(535)](e(508)+e(527))[e(531)](e(546)):function(){return!1}.constructor(e(508)+"gger")[e(478)](e(517)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function it(){const t=["modelValue","1220664GAzefT","test","zExtent","读取Raw原始数据"," 面剖体数据","300px","action","请正确输入数值","__proto__","init","请正确选择rawData文件","10px",'{}.constructor("return this")( )',"block","247lqSLvp","1105716RwmSvt","2.4em"," y轴长度： ","[change] param:","11px","4031820UMnMFv","uploadRef","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","div","debu","readAsArrayBuffer","onload","演示参考头部👨‍🦲RawData数据,下载 : ","setArrayBuffer","toString","22021460MLrDyI","counter","1019733zTkLBj","constructor","card-wrapper"," z轴长度： ","2.8em","while (true) {}","info","result","warn","importRawUI","trace","byteArray","raw","title","prototype","selectDataType","call","length","gger","15bOvGlG","文件类型必须为:'image/x-panasonic-raw'","xExtent","7058ZkMqoB","apply"," 点击或者拖拽rawData文件到此区域 ","yExtent","console","10px auto -3px","value","dataType","removeFile","fileList","warning","bind","head_256x256x109_uint8.raw","712AYoMPK","input","string","88333MIxhxZ","log"];return(it=function(){return t})()}const st=ut;function ut(t,n){const e=it();return(ut=function(t,n){return e[t-=367]})(t,n)}!function(t,n){const e=ut,r=it();for(;;)try{if(571300===-parseInt(e(420))/1*(-parseInt(e(387))/2)+parseInt(e(439))/3+parseInt(e(421))/4+-parseInt(e(384))/5*(-parseInt(e(406))/6)+-parseInt(e(403))/7*(-parseInt(e(400))/8)+-parseInt(e(426))/9+-parseInt(e(437))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const ct=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(388)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ct(this,(function(){const t=ut,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(429),"i"),r=pt(t(415));n[t(407)](r+"chain")&&e[t(407)](r+t(401))?pt():r("0")}))()}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(388)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();lt(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function("return (function() "+t(418)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(391)]||{},r=[t(404),t(373),t(371),"error",t(428),"table",t(375)];for(let o=0;o<r[t(382)];o++){const n=lt[t(440)][t(379)].bind(lt),a=r[o],i=e[a]||n;n[t(414)]=lt[t(398)](lt),n[t(436)]=i[t(436)][t(398)](i),e[a]=n}}))();const ft={key:0,class:st(367)};function pt(t){function n(t){const e=ut;if(typeof t===e(402))return function(t){}.constructor(e(370))[e(388)](e(438));1!==(""+t/t)[e(382)]||t%20==0?function(){return!0}[e(440)](e(431)+e(383))[e(381)](e(412)):function(){return!1}[e(440)](e(431)+e(383)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const mt=q(x({__name:st(374),setup(t){const n=st,e=h();e.xExtent=256,e[n(390)]=256,e[n(408)]=109;const r=g(null),o=g([]),a=t=>{const e=n;console[e(404)](e(424),t)},i=()=>{var t;const e=n;o[e(393)][e(382)]>1&&(null==(t=r[e(393)])||t[e(395)](o[e(393)][0]))},s=()=>{const t=n;if(1!=o[t(393)][t(382)])return $[t(397)](t(416)),!1;if(e.xExtent<=0||e.yExtent<=0||e[t(408)]<=0)return $[t(397)](t(413)),!1;if("image/x-panasonic-raw"!==o.value[0].raw.type)return $[t(397)](t(385)),!1;const r=new FileReader;return r[t(433)]=function(n){const r=t,o=n.target[r(372)];e[r(435)](o)},r[t(432)](o.value[0][t(377)]),!0};return(t,u)=>{const c=n;return j(e)[c(376)]?E("",!0):(_(),v(c(430),ft,[M(j(P),{header:c(409)},{default:z((()=>[u[10]||(u[10]=I("div",{style:{"margin-bottom":c(425)}},[L(c(434)),I("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(399))],-1)),M(j(k),{style:{"min-height":c(369)}},{default:z((()=>[M(j(O),{span:6,style:{"line-height":c(422)}},{default:z((()=>u[5]||(u[5]=[L(" x轴长度： ")]))),_:1}),M(j(O),{span:18},{default:z((()=>[M(j(V),{precision:0,modelValue:j(e).xExtent,"onUpdate:modelValue":u[0]||(u[0]=t=>j(e)[c(386)]=t),autofocus:""},null,8,[c(405)])])),_:1})])),_:1}),M(j(k),{style:{"min-height":c(369)}},{default:z((()=>[M(j(O),{span:6,style:{"line-height":c(422)}},{default:z((()=>u[6]||(u[6]=[L(c(423))]))),_:1}),M(j(O),{span:18},{default:z((()=>[M(j(V),{precision:0,modelValue:j(e)[c(390)],"onUpdate:modelValue":u[1]||(u[1]=t=>j(e)[c(390)]=t),autofocus:""},null,8,[c(405)])])),_:1})])),_:1}),M(j(k),{style:{"min-height":c(369)}},{default:z((()=>[M(j(O),{span:6,style:{"line-height":"2.4em"}},{default:z((()=>u[7]||(u[7]=[L(c(368))]))),_:1}),M(j(O),{span:18},{default:z((()=>[M(j(V),{precision:0,modelValue:j(e)[c(408)],"onUpdate:modelValue":u[2]||(u[2]=t=>j(e)[c(408)]=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),M(j(Z),{modelValue:j(e).selectDataType,"onUpdate:modelValue":u[3]||(u[3]=t=>j(e)[c(380)]=t),style:{"margin-bottom":c(417)}},{default:z((()=>[(_(!0),v(S,null,A(j(e)[c(394)],((t,n)=>{const e=c;return _(),R(j(G),{key:n,value:n},{default:z((()=>[M(j(U),{style:{"max-width":e(411)}},{default:z((()=>[L(T(t[e(378)]),1)])),_:2},1024)])),_:2},1032,[e(393)])})),128))])),_:1},8,[c(405)]),M(j(B),{ref_key:c(427),ref:r,fileList:o[c(393)],"onUpdate:fileList":u[4]||(u[4]=t=>o[c(393)]=t),onChange:a,httpRequest:i},{default:z((()=>[M(j(F),null,{default:z((()=>u[8]||(u[8]=[L(c(389))]))),_:1})])),_:1},8,[c(396)]),M(j(H),{style:{display:c(419),margin:c(392)},onClick:s},{icon:z((()=>[M(j(C))])),default:z((()=>[u[9]||(u[9]=L(c(410)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]);function dt(t,n){const e=gt();return(dt=function(t,n){return e[t-=133]})(t,n)}!function(t,n){const e=dt,r=gt();for(;;)try{if(525423===-parseInt(e(152))/1*(-parseInt(e(148))/2)+-parseInt(e(144))/3*(parseInt(e(166))/4)+-parseInt(e(155))/5*(-parseInt(e(137))/6)+parseInt(e(135))/7*(-parseInt(e(164))/8)+-parseInt(e(142))/9*(-parseInt(e(138))/10)+parseInt(e(143))/11+parseInt(e(156))/12*(-parseInt(e(168))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const ht=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[dt(157)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ht(this,(function(){const t=dt,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=wt(t(159));n.test(r+t(150))&&e[t(163)](r+t(172))?wt():r("0")}))()}();const xt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[dt(157)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function gt(){const t=["init","table","length","action","test","2286184MHHeRX","__proto__","2753204OCnJRl","#201919","36335yioGKC","TresPerspectiveCamera","call","console","input","bind","trace","counter","toString","string","14rpXnlP","constructor","43494ggejUp","7870ivIzXx","rgba(0, 0, 0, 0)","debu","log","11907XFeuAZ","6794227csyMJZ","3QYfmwS","gger","stateObject","warn","2PQKReO","exception","chain","byteArray","119827XtbYMh","rgb(255, 0, 0)","while (true) {}","500lfRnTZ","3084FgqZQN","apply","info"];return(gt=function(){return t})()}xt(void 0,(function(){const t=dt;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(171)]=n[t(171)]||{},r=[t(141),t(147),t(158),"error",t(149),t(160),t(174)];for(let a=0;a<r[t(161)];a++){const n=xt[t(136)].prototype[t(173)](xt),o=r[a],i=e[o]||n;n[t(165)]=xt[t(173)](xt),n.toString=i[t(133)][t(173)](i),e[o]=n}}))();const yt=x({__name:"rawDataSurfaceSection",setup(t){const n=dt,e=w({clearColor:n(167),antialias:!0}),r=h();return(t,o)=>{const a=n;return _(),v(S,null,[j(r).byteArray?(_(),R(c,{key:0,curColorList:[[a(139),0],["rgb(0, 255, 255)",.4],[a(153),1]]})):E("",!0),M(j(s),D(e,{"window-size":""}),{default:z((()=>[o[0]||(o[0]=I(a(169),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),M(j(i)),j(r)[a(151)]?(_(),R(ot,{key:0})):E("",!0)])),_:1},16),M(mt)],64)}}});function wt(t){function n(t){const e=dt;if(typeof t===e(134))return function(t){}[e(136)](e(154))[e(157)](e(175));1!==(""+t/t)[e(161)]||t%20==0?function(){return!0}.constructor(e(140)+e(145))[e(170)](e(162)):function(){return!1}.constructor(e(140)+"gger")[e(157)](e(146)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{yt as default};
