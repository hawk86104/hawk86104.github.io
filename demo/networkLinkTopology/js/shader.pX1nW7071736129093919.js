import{e as n,m as t,a as e,U as r,s as o}from"./@tresjs.C4A766dl1736129093919.js";import{_ as s,C as i,aB as a,a0 as c}from"./three.ES53pcRR1736129093919.js";import{P as u}from"./tweakpane.BCjFYDHx1736129093919.js";import{L as l}from"./three-subdivide.BmDljvlI1736129093919.js";import{d as f,b as p,a3 as d,w as h,o as m,D as g,J as v,aj as y,ak as w,a6 as b,r as I,e as M,f as _,g as x,j as B,u as T,m as k,I as j}from"./@vue.uQKhJ3x71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";const S=z;!function(n,t){const e=z,r=F();for(;;)try{if(823929===-parseInt(e(469))/1*(parseInt(e(446))/2)+parseInt(e(424))/3+parseInt(e(475))/4+parseInt(e(478))/5*(-parseInt(e(456))/6)+-parseInt(e(471))/7+-parseInt(e(470))/8+parseInt(e(479))/9*(parseInt(e(452))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[z(462)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function z(n,t){const e=F();return(z=function(n,t){return e[n-=423]})(n,t)}!function(){C(this,(function(){const n=z,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(426),"i"),r=L("init");t[n(460)](r+n(447))&&e[n(460)](r+n(444))?L():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function F(){const n=["Vector3","clone",'{}.constructor("return this")( )',"uniforms","prototype","viewVector","input","stateObject","4LaVjKa","chain","position","exception","Color","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","9437910FivdLw","table","copy","info","2310078sBRmlI","value","blending","return (function() ","test","scale","apply","toString","call","material","counter","subVectors","log","230107okfRBw","8598400trUzHI","2448789UuFWOO","constructor","color","geometry","2441356kovznC","#ffff00","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","15xAxBsE","18irgkJl","shineShader","AdditiveBlending","TresMesh","debu","FrontSide","bind","4097664ylZmwQ","attributes","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","length","gger","string","console","srcMesh","modify","side","subdivision","TresShaderMaterial","trace"];return(F=function(){return n})()}A(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(459)+n(440)+");")()}catch(e){t=window}return t}(),e=t[n(431)]=t.console||{},r=[n(468),"warn",n(455),n(427),n(449),n(453),n(437)];for(let o=0;o<r[n(428)];o++){const t=A[n(472)][n(442)].bind(A),s=r[o],i=e[s]||t;t.__proto__=A[n(423)](A),t[n(463)]=i[n(463)].bind(i),e[s]=t}}))();const R=[S(461)],V=f({__name:S(480),props:{srcMesh:{},scale:{default:1.2},color:{default:S(476)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[S(484)]},blending:{default:s[S(481)]}},setup(e){const r=S,o=e,a=p(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new i(o[r(473)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(477),fragmentShader:r(451),side:o[r(434)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(458)]};d((()=>{const n=r;if(o[n(432)]&&a.value&&!a.value.geometry[n(425)][n(448)]){let t=o[n(432)][n(474)][n(439)]();o[n(435)]&&(t=l[n(433)](t,2)),a[n(457)][n(474)]=t,a.value[n(448)][n(454)](o.srcMesh[n(448)])}o[n(473)]&&(c[n(441)].glowColor.value=new(s[n(450)])(o[n(473)])),o.c&&(c[n(441)].c[n(457)]=o.c),o.p&&(c[n(441)].p.value=o.p)})),h((()=>o[r(435)]),(n=>{const t=r;let e=o.srcMesh[t(474)][t(439)]();n&&(e=l[t(433)](e,2)),a[t(457)][t(474)]=e})),h((()=>o[r(434)]),(n=>{const t=r;a[t(457)][t(465)][t(434)]=n})),h((()=>o[r(458)]),(n=>{const t=r;a.value[t(465)][t(458)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=r;f[n(457)]&&a[n(457)]&&(c[n(441)][n(443)].value=(new(s[n(438)]))[n(467)](f.value.position,a.value[n(448)]))})),(n,t)=>{const e=r;return m(),g(e(482),{ref_key:"TSGref",ref:a,scale:o[e(461)]},[v(e(436),y(w(c)),null,16)],8,R)}}});function L(n){function t(n){const e=z;if(typeof n===e(430))return function(n){}[e(472)]("while (true) {}")[e(462)](e(466));1!==(""+n/n)[e(428)]||n%20==0?function(){return!0}.constructor(e(483)+e(429))[e(464)]("action"):function(){return!1}[e(472)](e(483)+e(429))[e(462)](e(445)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=P;!function(n,t){const e=P,r=D();for(;;)try{if(423017===parseInt(e(333))/1*(parseInt(e(329))/2)+parseInt(e(312))/3+-parseInt(e(349))/4*(-parseInt(e(325))/5)+-parseInt(e(358))/6+-parseInt(e(309))/7*(parseInt(e(359))/8)+parseInt(e(303))/9*(parseInt(e(353))/10)+-parseInt(e(311))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[P(345)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){E(this,(function(){const n=P,t=new RegExp(n(313)),e=new RegExp(n(328),"i"),r=$(n(318));t[n(337)](r+n(347))&&e[n(337)](r+n(326))?$():r("0")}))()}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();G(void 0,(function(){const n=P,t=function(){const n=P;let t;try{t=Function(n(306)+n(338)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(304)]||{},r=[n(310),"warn",n(355),n(315),n(339),"table","trace"];for(let o=0;o<r[n(351)];o++){const t=G[n(334)][n(331)][n(307)](G),s=r[o],i=e[s]||t;t[n(354)]=G.bind(G),t[n(344)]=i[n(344)][n(307)](i),e[s]=t}}))();const Z=[N(317)],O=["map"];function D(){const n=["value","68ceryzv","TresMesh","length","color","245270ADsjrh","__proto__","info","while (true) {}","srcMesh","2751348GyZmaa","1065656NPGIfv","边缘处理","stateObject","instance","297LCxgoE","console","counter","return (function() ","bind","BackSide","7KLShnu","log","8470781brLrlC","956862vUkhFO","function *\\( *\\)","FrontSide","error","TresCanvas","map","init","shader","NormalBlending","TresMeshRefA","debu","addBinding","#0ff","46705iQcCtk","input","TresMeshBasicMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2CVDfrp","logo.png","prototype","TresSphereGeometry","497711vruiWh","constructor","TreBoxRef","#222","test",'{}.constructor("return this")( )',"exception","#00dfff","TresBoxGeometry","TresAmbientLight","subdivision","toString","apply","call","chain"];return(D=function(){return n})()}function P(n,t){const e=D();return(P=function(n,t){return e[n-=302]})(n,t)}const U=f({__name:N(319),async setup(n){const t=N;let i,l;const f={clearColor:t(336)},d=p(),h=p(),g=p(),y=([i,l]=b((()=>e(["./plugins/earthSample/image/earthA/earth.jpg",t(330)]))),i=await i,l(),i),w=I({scale:1.6,color:t(340),subdivision:!0,c:1.1,p:1.4,side:s[t(314)],blending:a}),S=new u({title:"参数",expanded:!0});return S[t(323)](w,t(352),{label:"颜色"}),S[t(323)](w,"scale",{label:"大小",min:1,max:3,step:.2}),S[t(323)](w,t(343),{label:t(360)}),S.addBinding(w,"c",{label:"c",min:0,max:2,step:.1}),S.addBinding(w,"p",{label:"p",min:0,max:8,step:.2}),S[t(323)](w,"side",{options:{FrontSide:s[t(314)],BackSide:s[t(308)],DoubleSide:c}}),S[t(323)](w,"blending",{options:{AdditiveBlending:a,NormalBlending:s[t(320)]}}),(n,e)=>{const s=t,i=M(s(316));return m(),_(i,k(f,{"window-size":""}),{default:x((()=>[e[2]||(e[2]=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),e[3]||(e[3]=v(s(342),{intensity:1},null,-1)),B(T(r)),e[4]||(e[4]=v("TresGridHelper",{args:[10,10]},null,-1)),v("TresMesh",{ref_key:s(321),ref:d,position:[-2,1,0]},[e[0]||(e[0]=v(s(332),{args:[1,32,16]},null,-1)),v(s(327),{map:T(y)[0]},null,8,Z)],512),B(V,k({srcMesh:d.value},w),null,16,["srcMesh"]),B(T(o),{ref_key:s(335),ref:g,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v("TresMeshBasicMaterial",{map:T(y)[1]},null,8,O)])),_:1},512),g[s(348)]&&g[s(348)].instance?(m(),_(V,k({key:0,srcMesh:g.value[s(302)]},w),null,16,[s(357)])):j("",!0),v(s(350),{ref_key:"TresMeshRefB",ref:h,position:[0,1,-2]},e[1]||(e[1]=[v(s(341),{args:[1,1,1,1,1]},null,-1),v("TresMeshBasicMaterial",{color:s(324)},null,-1)]),512),B(V,k({srcMesh:h[s(348)]},w),null,16,[s(357)])])),_:1},16)}}});function $(n){function t(n){const e=P;if("string"==typeof n)return function(n){}[e(334)](e(356))[e(345)](e(305));1!==(""+n/n)[e(351)]||n%20==0?function(){return!0}[e(334)](e(322)+"gger")[e(346)]("action"):function(){return!1}[e(334)](e(322)+"gger").apply(e(361)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
