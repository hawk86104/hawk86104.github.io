import{c as t,U as n}from"./@tresjs.C4A766dl1736129093919.js";import{P as e}from"./tweakpane.BCjFYDHx1736129093919.js";import{_ as o,a0 as r,ak as a,al as s}from"./three.ES53pcRR1736129093919.js";import{_ as i}from"./heatmap.js-fix.BiltR7-B1736129093919.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as y,J as v,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.uQKhJ3x71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./@amap.DhOO2qTl1736129093919.js";const I=z;!function(t,n){const e=z,o=B();for(;;)try{if(670815===-parseInt(e(391))/1+-parseInt(e(370))/2+-parseInt(e(383))/3*(-parseInt(e(384))/4)+parseInt(e(389))/5+parseInt(e(392))/6+-parseInt(e(376))/7*(-parseInt(e(339))/8)+-parseInt(e(342))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=z,n=new RegExp(t(362)),e=new RegExp(t(373),"i"),o=Z(t(345));n[t(368)](o+"chain")&&e[t(368)](o+"input")?Z():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(388)+t(378)+");")()}catch(e){n=window}return n}(),e=n[t(386)]=n[t(386)]||{},o=[t(410),"warn",t(405),"error",t(403),"table",t(364)];for(let r=0;r<o[t(372)];r++){const n=A.constructor[t(396)][t(394)](A),a=o[r],s=e[a]||n;n.__proto__=A.bind(A),n[t(398)]=s[t(398)][t(394)](s),e[a]=n}}))();const k=[I(361)];function z(t,n){const e=B();return(z=function(t,n){return e[t-=338]})(t,n)}const M=c({__name:I(400),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(350),{draco:!0,decoderPath:"./draco/"}))),a=await a,s(),a);h[e(381)][e(401)][e(366)](-5088.96,-3.08,39374.7),h[e(381)].scale[e(377)](.01);let m=null,g=null,y=null;g=new(o[e(369)])((()=>{const t=e;return y=document[t(357)]("heatmap-canvas"),y.style[t(401)]=t(338),y[t(371)][t(367)]="40px",y[t(371)].left="0",document.body.appendChild(y),m=i.create({container:y,width:256,height:256,blur:t(349),radius:c[t(404)]}),m[t(374)][t(379)][t(371)][t(390)]=t(360),m[t(374)][t(379)][t(363)]=function(n){const e=t;m[e(402)]({x:n[e(365)],y:n[e(359)],value:1,radius:c[e(404)]}),m.setDataMax(1),g&&(g[e(393)]=!0)},m})()._renderer[e(379)]);const v={vertexShader:e(382),fragmentShader:e(343),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},b=new(o[e(344)])(v);h[e(381)][e(395)]=b;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:a}=t[n(352)];t[n(380)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(407)][n(401)][n(358)];e++)c[n(355)]((t[n(407)].position[n(399)](e)-a.x)/s),c[n(355)]((t[n(407)].position.getZ(e)-a.z)/i);const u=new Float32Array(c);t[n(347)]("uv",new(o[n(351)])(u,2))})(h[e(381)][e(408)]),l((()=>{const t=e;y[t(371)][t(353)]=""+(c.show2dCanvas?t(354):t(346))})),(t,n)=>{const o=e;return p(),f(o(406),{object:d(h)[o(381)]},null,8,k)}}});function Z(t){function n(t){const e=z;if(typeof t===e(387))return function(t){}[e(385)](e(341)).apply(e(397));1!==(""+t/t)[e(372)]||t%20==0?function(){return!0}[e(385)]("debu"+e(348))[e(409)]("action"):function(){return!1}[e(385)](e(340)+e(348)).apply(e(375)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function B(){const t=["boundingBox","display","block","push","apply","createElement","count","layerY","1px solid #5384ff","object","function *\\( *\\)","onclick","trace","layerX","set","top","test","Texture","2241556VtZaki","style","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_renderer","stateObject","539fjgHPz","setScalar",'{}.constructor("return this")( )',"canvas","deleteAttribute","mesh_0","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","93leiDVB","135596fAUCtT","constructor","console","string","return (function() ","4132205fPnJPn","border","1132089HXleAC","5435022fbuoMy","needsUpdate","bind","material","prototype","counter","toString","getX","heatmapClickCom","position","addData","exception","radius","info","primitive","attributes","geometry","call","log","absolute","129176ipeWBx","debu","while (true) {}","9925056hOLXxj","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","ShaderMaterial","init","none","setAttribute","gger","0.8","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","BufferAttribute"];return(B=function(){return t})()}const P=D;function D(t,n){const e=O();return(D=function(t,n){return e[t-=149]})(t,n)}!function(t,n){const e=D,o=O();for(;;)try{if(199953===-parseInt(e(167))/1+-parseInt(e(179))/2+parseInt(e(173))/3*(-parseInt(e(192))/4)+-parseInt(e(180))/5*(parseInt(e(185))/6)+parseInt(e(158))/7+-parseInt(e(160))/8+parseInt(e(162))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(184)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=D,n=new RegExp(t(170)),e=new RegExp(t(154),"i"),o=E(t(150));n.test(o+t(165))&&e[t(166)](o+t(181))?E():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(184)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["prototype","394491IAhXFh","length","trace","heatmapClick","bind","toString","317546aVguZW","2030mZNnip","input","constructor","info","apply","4416CpQEft","addBinding","点击左侧蓝色画框",'{}.constructor("return this")( )',"while (true) {}","TresCanvas","call","12azGAgM","error","init","console","#ffffff","radius","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","warn","debu","417053ZAqdox","gger","2756104FCpLPZ","#030311","14010723PoObDV","TresPerspectiveCamera","action","chain","test","219780ksJqrJ","显示二维图","stateObject","function *\\( *\\)","counter"];return(O=function(){return t})()}T(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function("return (function() "+t(188)+");")()}catch(e){n=window}return n}(),e=n[t(151)]=n[t(151)]||{},o=[t(155),t(156),t(183),t(149),"exception","table",t(175)];for(let r=0;r<o[t(174)];r++){const n=T[t(182)][t(172)][t(177)](T),a=o[r],s=e[a]||n;n.__proto__=T[t(177)](T),n[t(178)]=s[t(178)][t(177)](s),e[a]=n}}))();const U=c({__name:P(176),setup(t){const o=P,r={clearColor:o(161),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(186)](i,"show2dCanvas",{label:o(168)}),c[o(186)](i,o(153),{label:"圆圈的大小",min:.1,max:30,step:.1}),c.addButton({title:o(187)}),(t,e)=>{const a=o,s=m(a(190));return p(),g(s,j(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=v(a(163),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v("TresDirectionalLight",{position:[5,10,7.5],color:a(152),intensity:5},null,-1)),e[2]||(e[2]=v("TresGridHelper",{args:[50,25]},null,-1)),(p(),g(w,null,{default:y((()=>[b(M,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(182)](e(189))[e(184)](e(171));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(157)+e(159))[e(191)](e(164)):function(){return!1}[e(182)](e(157)+e(159)).apply(e(169)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
