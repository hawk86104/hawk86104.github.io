var n=Object.defineProperty,t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,e,r)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i=(n,i)=>{for(var a in i||(i={}))e.call(i,a)&&o(n,a,i[a]);if(t)for(var a of t(i))r.call(i,a)&&o(n,a,i[a]);return n};import{D as a,U as s,H as u}from"./@tresjs.C4A766dl1736129093919.js";import{_ as c,cq as l,d8 as p}from"./three.ES53pcRR1736129093919.js";import{z as f}from"./three-custom-shader-material.LMK2zh-z1736129093919.js";import{P as m}from"./tweakpane.BCjFYDHx1736129093919.js";import{u as d,_ as h}from"./colorList.CK-SVGts1736129093919.js";import{d as g,a6 as b,r as v,w,o as x,D as y,J as j,u as _,F as I,j as S,g as z,f as T,al as D}from"./@vue.uQKhJ3x71736129093919.js";import"./@vueuse.CaPKQ7tQ1736129093919.js";import"./pinia.CtRHBYHM1736129093919.js";import"./vue-demi.Dq6ymT-81736129093919.js";import"./@fesjs.C11Gf8kF1736129093919.js";import"./vue-router.Pr1g0CvG1736129093919.js";import"./lodash-es.Dw4PEFNU1736129093919.js";import"./@qlin.BIlp8Yi21736129093919.js";import"./@babel.BBWsvBIa1736129093919.js";import"./@floating-ui.B75jtkXD1736129093919.js";import"./@juggle.BnTvdTVm1736129093919.js";const M=B;function O(){const n=["uniforms","toString","LineSegments","function *\\( *\\)","40WizZuA","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","floor","max","windowHigh","init","extractSlice","index","matrix","debu","stateObject","trace","344939EvGSwb","log","1063968iApdnZ","call","140GaifXT","24093IRdymK","chain","11892HAYcuy","colorsStops","updateTransferFunction","object","RASDimensions","error","zLength","exception","337dYtnZc","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","constructor","min","1230waQPiS","mesh","info","repaintAllSlices","bind","length","material","LineBasicMaterial","gger","TresGroup","test","primitive","eTexture","console","windowLow","value","apply","__proto__","8042551KEbCiz","action","NormalBlending","786pMVYkD","table","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","return (function() ","addBinding","change","while (true) {}","BoxGeometry","xLength","counter","repaint","upperThreshold","warn","DoubleSide","string","prototype","1855764sgaeHX"];return(O=function(){return n})()}!function(n,t){const e=B,r=O();for(;;)try{if(250044===parseInt(e(377))/1*(parseInt(e(402))/2)+parseInt(e(364))/3+parseInt(e(369))/4*(-parseInt(e(366))/5)+-parseInt(e(418))/6+-parseInt(e(362))/7*(parseInt(e(350))/8)+parseInt(e(367))/9*(-parseInt(e(381))/10)+parseInt(e(399))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[B(397)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){R(this,(function(){const n=B,t=new RegExp(n(422)),e=new RegExp(n(351),"i"),r=C(n(355));t[n(391)](r+n(368))&&e[n(391)](r+"input")?C():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[B(397)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function B(n,t){const e=O();return(B=function(n,t){return e[n-=350]})(n,t)}A(void 0,(function(){const n=B,t=function(){const n=B;let t;try{t=Function(n(405)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(394)]=t[n(394)]||{},r=[n(363),n(414),n(383),n(374),n(376),n(403),n(361)];for(let o=0;o<r[n(386)];o++){const t=A[n(379)][n(417)][n(385)](A),i=r[o],a=e[i]||t;t[n(398)]=A[n(385)](A),t[n(420)]=a[n(420)].bind(a),e[i]=t}}))();const E=[M(372)],k=["object"],L=[M(372)],P=[M(372)],Z=g({__name:"scene",async setup(n){const t=M;let e,r;const o=d(),s=([e,r]=b((()=>a(p,"./plugins/tvtVolumeRendering/rawData/ll.nrrd"))),e=await e,r(),e),u=new(c[t(421)])(new l(new(c[t(409)])(s[t(410)],s.yLength,s[t(375)])),new(c[t(388)])({color:6710886}));u.applyMatrix4(s[t(358)]);const h=v({x:Math[t(352)](s[t(373)][0]/2),y:Math.floor(s[t(373)][1]/2),z:Math[t(352)](s[t(373)][2]/4)}),g=s[t(356)]("x",h.x),S=s[t(356)]("y",h.y),z=s[t(356)]("z",h.z);s[t(354)]=1760,s.repaintAllSlices();const T={vertexShader:t(404),fragmentShader:t(378),uniforms:{eTexture:{value:o.updateTransferFunction()}},silent:!0,flatShading:!0,side:c[t(415)],transparent:!0,depthTest:!0,depthWrite:!0,blending:c[t(401)]};g.mesh[t(387)]=new f(i({baseMaterial:g.mesh[t(387)]},T)),S.mesh.material=new f(i({baseMaterial:S[t(382)][t(387)]},T)),z.mesh[t(387)]=new f(i({baseMaterial:z[t(382)][t(387)]},T));const D=new m;return D.addBinding(h,"x",{label:"x面",min:0,max:s[t(373)][0],step:1}),D[t(406)](h,"y",{label:"y面",min:0,max:s[t(373)][1],step:1}),D.addBinding(h,"z",{label:"z面",min:0,max:s[t(373)][2],step:1}),D.addBinding(s,"lowerThreshold",{label:"lowerThreshold",min:s[t(380)],max:s.max,step:1}).on("change",(()=>{s[t(384)]()})),D[t(406)](s,t(413),{label:"upperThreshold",min:s[t(380)],max:s[t(353)],step:1}).on("change",(()=>{s[t(384)]()})),D.addBinding(s,t(395),{label:t(395),min:s[t(380)],max:s[t(353)],step:1}).on(t(407),(()=>{s[t(384)]()})),D[t(406)](s,t(354),{label:t(354),min:s[t(380)],max:s[t(353)],step:1}).on("change",(()=>{s[t(384)]()})),w((()=>h),(n=>{const e=t;g[e(357)]=n.x,g[e(412)][e(365)](g),S.index=n.y,S[e(412)].call(S),z.index=n.z,z[e(412)][e(365)](z)}),{deep:!0}),w((()=>o[t(370)]),(()=>{const n=t;g[n(382)][n(387)][n(419)][n(393)][n(396)]=o[n(371)](),S[n(382)].material.uniforms[n(393)][n(396)]=o.updateTransferFunction(),z[n(382)][n(387)][n(419)][n(393)][n(396)]=o[n(371)]()}),{deep:!0,immediate:!0}),(n,e)=>{const r=t;return x(),y(I,null,[j(r(390),null,[j(r(392),{object:_(g).mesh,renderOrder:1},null,8,E),j(r(392),{object:_(S).mesh,renderOrder:2},null,8,k),j(r(392),{object:_(z)[r(382)],renderOrder:3},null,8,L)]),j(r(392),{object:_(u)},null,8,P)],64)}}});function C(n){function t(n){const e=B;if(typeof n===e(416))return function(n){}[e(379)](e(408))[e(397)](e(411));1!==(""+n/n).length||n%20==0?function(){return!0}[e(379)](e(359)+e(389))[e(365)](e(400)):function(){return!1}.constructor(e(359)+e(389))[e(397)](e(360)),t(++n)}try{if(n)return t;t(0)}catch(e){}}var F=G;function G(n,t){var e=H();return(G=function(n,t){return e[n-=175]})(n,t)}function H(){var n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1475470nfJkDM","error","console","warn","length","apply","7Dsuuxz","962452RtrpPk","toString","rgb(255, 0, 0)","constructor","8310582hRzaUy","4884020yXRbRC","8551864tpWqCv","action","test","__proto__","nrrdSurfaceSection",'{}.constructor("return this")( )',"prototype","3gnvEoQ","info","rgba(0, 0, 0, 0)","gger","2407212WZBJoY","debu","1409615QGotgM","rgb(0, 255, 255)","stateObject","return (function() ","bind","input","init"];return(H=function(){return n})()}!function(n,t){for(var e=G,r=H();;)try{if(775453===-parseInt(e(190))/1+-parseInt(e(198))/2+parseInt(e(184))/3*(-parseInt(e(205))/4)+parseInt(e(176))/5+-parseInt(e(175))/6*(-parseInt(e(204))/7)+parseInt(e(177))/8+-parseInt(e(188))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var W=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[G(203)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){W(this,(function(){var n=G,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(197),"i"),r=q(n(196));t.test(r+"chain")&&e[n(179)](r+n(195))?q():r("0")}))()}();var Y=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Y(void 0,(function(){for(var n=G,t=function(){var n,t=G;try{n=Function(t(193)+t(182)+");")()}catch(e){n=window}return n}(),e=t[n(200)]=t[n(200)]||{},r=["log",n(201),n(185),n(199),"exception","table","trace"],o=0;o<r[n(202)];o++){var i=Y.constructor[n(183)][n(194)](Y),a=r[o],s=e[a]||i;i[n(180)]=Y.bind(Y),i.toString=s[n(206)][n(194)](s),e[a]=i}}))();const $=g({__name:F(181),setup:n=>(n,t)=>{var e=G;return x(),y(I,null,[S(h,{curColorList:[[e(186),0],[e(191),.4],[e(207),1]]}),S(_(u),{"window-size":""},{default:z((()=>[t[0]||(t[0]=j("TresPerspectiveCamera",{position:[0,0,300],near:.01,far:1e3},null,-1)),S(_(s)),(x(),T(D,null,{default:z((()=>[S(Z)])),_:1}))])),_:1})],64)}});function q(n){function t(n){var e=G;if("string"==typeof n)return function(n){}[e(208)]("while (true) {}")[e(203)]("counter");1!==(""+n/n)[e(202)]||n%20==0?function(){return!0}[e(208)](e(189)+e(187)).call(e(178)):function(){return!1}[e(208)]("debu"+e(187)).apply(e(192)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
