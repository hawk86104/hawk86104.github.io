import{P as t}from"./tweakpane.yDiyAAkA1741309500666.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.KKnwD3Nl1741309500666.js";import{_ as r}from"./heatmap.js-fix.RMOyviOZ1741309500666.js";import{a as i,_ as s,cd as c,r as u}from"./three.8tDGqmLF1741309500666.js";import{r as a}from"./utils.cLV941yt1741309500666.js";import{d as p}from"./pinia.f1wUCX_f1741309500666.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as I,W as b,P as w,R as _,L as j,O as x,a3 as E,r as M,j as R,g as k,m as Z}from"./@vue.NRI7TcgI1741309500666.js";import{c as O,d as A,a as S}from"./three-mesh-bvh.gdrUeCX71741309500666.js";import{_ as z}from"./@fesjs.x4z0tZxE1741309500666.js";import"./@tresjs.yaBKiR-I1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";import"./three-custom-shader-material.VwrDYuIS1741309500666.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741309500666.js";import"./@amap.dm2alPWO1741309500666.js";import"./vue-router.vxk1Hu8C1741309500666.js";import"./lodash-es.pklfUAS51741309500666.js";import"./@qlin.yHhFDldE1741309500666.js";import"./@floating-ui.BPbuo5Gx1741309500666.js";import"./@juggle.7yjBMqoW1741309500666.js";!function(t,n){const e=D,o=U();for(;;)try{if(821947===parseInt(e(348))/1+parseInt(e(337))/2*(-parseInt(e(332))/3)+-parseInt(e(330))/4*(parseInt(e(329))/5)+-parseInt(e(358))/6*(-parseInt(e(355))/7)+-parseInt(e(369))/8*(-parseInt(e(334))/9)+-parseInt(e(385))/10+parseInt(e(364))/11*(parseInt(e(353))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=U();return(D=function(t,n){return e[t-=326]})(t,n)}!function(){H(this,(function(){const t=D,n=new RegExp(t(343)),e=new RegExp(t(352),"i"),o=B(t(381));n[t(347)](o+t(377))&&e[t(347)](o+t(380))?B():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(327)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["return (function() ","input","init","rgb(0,255,0)",'{}.constructor("return this")( )',"setData","1207060AHbsgN","push","apply","randInt","1835IQFlNU","2536sLAfjE","prototype","3klfZIU","width","3798jUlTjq","heatmap-canvas","trace","2868630eQASzw","body","position","stateObject","debu","action","function *\\( *\\)","call","createElement","bind","test","1392558acoaCx","counter","toString","none","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","12koixgR","_config","27545RjjxlE","left","absolute","1110OQtlkq","string","exception","__proto__","appendChild","top","4461127OTfNex","while (true) {}","style","display","height","1584xCoCBO","warn","yellow","log","constructor","table","getValueAt","console","chain","rgb(255,0,0)"];return(U=function(){return t})()}F(void 0,(function(){const t=D;let n;try{n=Function(t(379)+t(383)+");")()}catch(r){n=window}const e=n[t(376)]=n[t(376)]||{},o=[t(372),t(370),"info","error",t(360),t(374),t(336)];for(let i=0;i<o.length;i++){const n=F[t(373)][t(331)][t(346)](F),r=o[i],s=e[r]||n;n[t(361)]=F[t(346)](F),n[t(350)]=s[t(350)][t(346)](s),e[r]=n}}))();const N=(t,n)=>t[D(375)](n)+-10;function B(t){function n(t){const e=D;if(typeof t===e(359))return function(t){}[e(373)](e(365))[e(327)](e(349));1!==(""+t/t).length||t%20==0?function(){return!0}[e(373)]("debugger")[e(344)](e(342)):function(){return!1}.constructor(e(341)+"gger")[e(327)](e(340)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function J(){const t=["13cjggwI","2FVnImF","log","error","trace","5Nhvdkj","gger","length","970686ErvkkQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","2946951rSyUWi","console","74556udJYEw","test","bind","8hIEDEH","12ixvpzv","return (function() ","340JzINvZ","init","info","call","toString","8400OnWvEg","chain","while (true) {}","apply","96913ZGgRbt","value","input","2980879xJDjmy","14291116hBLyFM","function *\\( *\\)","1040HHQnrp","debu","table","warn","string","exception"];return(J=function(){return t})()}!function(t,n){const e=V,o=J();for(;;)try{if(465760===parseInt(e(244))/1*(-parseInt(e(217))/2)+parseInt(e(240))/3*(-parseInt(e(210))/4)+parseInt(e(221))/5*(-parseInt(e(224))/6)+-parseInt(e(227))/7*(-parseInt(e(232))/8)+-parseInt(e(229))/9*(-parseInt(e(235))/10)+parseInt(e(247))/11*(-parseInt(e(233))/12)+-parseInt(e(216))/13*(-parseInt(e(248))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(243)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=V,n=new RegExp(t(209)),e=new RegExp(t(225),"i"),o=q(t(236));n[t(230)](o+t(241))&&e[t(230)](o+t(246))?q():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(243)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=J();return(V=function(t,n){return e[t-=209]})(t,n)}T(void 0,(function(){const t=V;let n;try{n=Function(t(234)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(228)]=n[t(228)]||{},o=[t(218),t(213),t(237),t(219),t(215),t(212),t(220)];for(let i=0;i<o[t(223)];i++){const n=T[t(226)].prototype[t(231)](T),r=o[i],s=e[r]||n;n.__proto__=T.bind(T),n[t(239)]=s[t(239)][t(231)](s),e[r]=n}}))();const $=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[V(245)]=n},setTemperature:function(t){n[V(245)]=t}}}));function q(t){function n(t){const e=V;if(typeof t===e(214))return function(t){}[e(226)](e(242))[e(243)]("counter");1!==(""+t/t)[e(223)]||t%20==0?function(){return!0}.constructor(e(211)+e(222))[e(238)]("action"):function(){return!1}[e(226)](e(211)+e(222))[e(243)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=Q;!function(t,n){const e=Q,o=Y();for(;;)try{if(141017===-parseInt(e(427))/1*(-parseInt(e(423))/2)+parseInt(e(496))/3*(-parseInt(e(435))/4)+parseInt(e(440))/5+-parseInt(e(428))/6*(parseInt(e(474))/7)+parseInt(e(447))/8*(-parseInt(e(433))/9)+parseInt(e(429))/10*(-parseInt(e(492))/11)+parseInt(e(494))/12*(parseInt(e(430))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(455)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=Q,n=new RegExp(t(454)),e=new RegExp(t(490),"i"),o=tt(t(468));n[t(473)](o+t(497))&&e.test(o+t(499))?tt():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=Y();return(Q=function(t,n){return e[t-=423]})(t,n)}W(void 0,(function(){const t=Q;let n;try{n=Function(t(452)+t(451)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(444),t(448),t(480),t(453),"exception","table","trace"];for(let i=0;i<o[t(477)];i++){const n=W[t(465)].prototype.bind(W),r=o[i],s=e[r]||n;n[t(436)]=W[t(485)](W),n.toString=s.toString.bind(s),e[r]=n}}))();const G=[C(483),C(491)],X=[C(483)];function Y(){const t=["数值———：","object","prototype","bind","attributes","_renderer","ShaderMaterial","matrix","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","rotation-x","97262eIRquO","needsUpdate","12UTtyVN","uniforms","528bkoXUH","chain","gger","input","8644dyvZTR","primitive","BufferGeometry","opacity","33qcuJNp","75588HdMChu","310MbOkAR","5761353FYofeo","Matrix4","debu","26721XBZWLO","setTemperature","708VgMmqF","__proto__","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","geometry","children","990230zPkGwM","while (true) {}","uOpacity","makeRotationX","log","model","width","672uPhRtJ","warn","DoubleSide","setShowDiv",'{}.constructor("return this")( )',"return (function() ","error","function *\\( *\\)","apply","normal","数值：","string","$patch","Mesh","canvas","computeBoundsTree","city","counter","constructor","raycast","applyMatrix4","init","action","disposeBoundsTree","mergeGeometries","_config","test","49oaksZw","clone","Texture","length","value","buildingsHeatmap","info","land"];return(Y=function(){return t})()}const K=l({__name:C(479),props:{model:{},opacity:{default:1}},setup(t){const n=C;(()=>{const t=Q;s[t(425)].prototype[t(462)]=O,s[t(425)][t(484)][t(470)]=A,s[t(460)][t(484)][t(466)]=S})();const e=t,o=((t=250,n=250,e=!0)=>{const o=D,i=document[o(345)](o(335));return i.style[o(339)]=o(357),!e&&(i.style[o(367)]=o(351)),i[o(366)][o(363)]="0",i[o(366)][o(356)]="0",document[o(338)][o(362)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(382),.85:o(371),1:o(378)}})})();((t,n)=>{const e=D;if(!n){let o=0;for(n=[];o<1e3;)n[e(326)]({x:i[e(328)](1,t[e(354)][e(333)]),y:i.randInt(1,t[e(354)][e(368)]),value:i[e(328)](-10,36)}),o++}t[e(384)]({max:36,min:-10,data:n})})(o);const p=new(s[n(476)])(o[n(487)][n(461)]);p[n(493)]=!0;const f=e.model[n(463)][n(475)]();delete f.geometry[n(486)][n(456)],delete f.geometry[n(486)].uv;const l=f[n(438)][n(475)]()[n(467)](f[n(489)]),I=e[n(445)][n(481)][n(475)]();delete I[n(438)].attributes[n(456)];const b=I[n(438)][n(475)]()[n(467)](I[n(489)]),w=c[n(471)]([l,b]);w[n(467)]((new(s[n(431)]))[n(443)](Math.PI/2)),a(w),w[n(462)]();const _=(t=>{const o=n;return new(s[o(488)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(437),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:s[o(449)]})})(p),j=new u(w,_);h((()=>{const t=n;e[t(426)]&&(_[t(495)][t(442)][t(478)]=e.opacity)}));const x=$(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(472)][e(446)],y:(1-t.uv.y)*o._config.height};console.log(e(457),t),console[e(444)](e(482),N(o,n)),x[e(434)](N(o,n))}},M=t=>{t&&x[n(459)]({showDiv:!0})},R=t=>{t&&x[n(450)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g("primitive",{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:M,onPointerLeave:R},null,40,G),g(r(424),{object:e[r(445)].model[r(439)][0][r(475)]()},null,8,X)],64)}}});function tt(t){function n(t){const e=Q;if(typeof t===e(458))return function(t){}[e(465)](e(441)).apply(e(464));1!==(""+t/t).length||t%20==0?function(){return!0}[e(465)](e(432)+"gger").call(e(469)):function(){return!1}[e(465)](e(432)+e(498))[e(455)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=z({__name:"dataDiv",setup(t){const n=$(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>w((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=it;function ot(){const t=["26668KUQugW","counter",'{}.constructor("return this")( )',"string","110xZYHNH","2706844skzctZ","value","apply","1091920HJJVdB","1278675JBAEfN","stateObject","length","1255056JsIHVR","city","input","error","model","320298aVVMGb","console","table","info","heatmap2","return (function() ","constructor","log","透明度","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","27pNoxXA","exception","toString","builds","init","call","test","action","prototype","306174dJhMZd","__proto__","debu","bind","chain"];return(ot=function(){return t})()}!function(t,n){const e=it,o=ot();for(;;)try{if(239178===parseInt(e(182))/1+-parseInt(e(162))/2+parseInt(e(154))/3+-parseInt(e(145))/4*(parseInt(e(149))/5)+-parseInt(e(157))/6+-parseInt(e(150))/7+parseInt(e(153))/8*(parseInt(e(173))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=ot();return(it=function(t,n){return e[t-=144]})(t,n)}!function(){rt(this,(function(){const t=it,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(171),"i"),o=ut(t(177));n[t(179)](o+t(144))&&e[t(179)](o+t(159))?ut():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();st(void 0,(function(){const t=it,n=function(){const t=it;let n;try{n=Function(t(167)+t(147)+");")()}catch(e){n=window}return n}(),e=n[t(163)]=n.console||{},o=[t(169),"warn",t(165),t(160),t(174),t(164),"trace"];for(let r=0;r<o[t(156)];r++){const n=st.constructor[t(181)][t(185)](st),i=o[r],s=e[i]||n;n[t(183)]=st[t(185)](st),n[t(175)]=s[t(175)][t(185)](s),e[i]=n}}))();const ct=l({__name:et(166),async setup(r){const i=et;let s,c;const u=f(!1),a=([s,c]=E((()=>o())),s=await s,c(),s);u[i(151)]=!0;const p=M({width:1,color:"#000",opacity:1,show:!0}),l=M({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,"opacity",{label:i(170),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:k((()=>[R(K,Z({model:y(a)},l),null,16,[r(161)]),R(n,Z(p,{builds:y(a)[r(158)]}),null,16,[r(176)])])),_:1}),R(nt)],64)}}});function ut(t){function n(t){const e=it;if(typeof t===e(148))return function(t){}[e(168)]("while (true) {}").apply(e(146));1!==(""+t/t).length||t%20==0?function(){return!0}[e(168)]("debu"+e(172))[e(178)](e(180)):function(){return!1}[e(168)](e(184)+e(172))[e(152)](e(155)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
