import"./@fesjs.DnM7nINA1761276103973.js";import{F as e,_ as a,s,K as t,t as r}from"./@tresjs.B_KjVy0E1761276103973.js";import"./Resource.CSaxGSPI1761276103973.js";/* empty css                                                                             */import{_ as i}from"./randomLoading.vue_vue_type_script_setup_true_lang.BgTQontY1761276103973.js";import"./three-mesh-ui.module.C--P1h9b1761276103973.js";import"./global.BkM2LKCv1761276103973.js";/* empty css                                                              */import"./vanilla.esm.5.5.0.CRlEbOMK1761276103973.js";import{u as o}from"./index.vM1sPJET1761276103973.js";import{bj as l,a6 as n,a0 as u}from"./three.Bhn4-0ry1761276103973.js";import{u as p}from"./index.DzBQ5WCR1761276103973.js";import{M as m,a as d}from"./@pmndrs.CvKgExG31761276103973.js";import{d as c,t as v,q as g,s as j,G as _,o as h,u as f,ac as b,h as y,b as M,e as x,I as T,g as k,ap as w,a9 as L,aa as z,F as C}from"./@vue.CKlgtJke1761276103973.js";import"./vue-router.BFHj2xRz1761276103973.js";import"./lodash-es.DWe8oqPO1761276103973.js";import"./pinia.C8YT0eOZ1761276103973.js";import"./@qlin.y-0Z8WnK1761276103973.js";import"./@babel.BPq7uOAK1761276103973.js";import"./@floating-ui.Bhq4ibgf1761276103973.js";import"./@juggle.Vc7cP4_P1761276103973.js";import"./postprocessing.CeTFUAN_1761276103973.js";import"./@vueuse.wtfleElW1761276103973.js";import"./starLoading.Dxnl37sJ1761276103973.js";import"./utils.DEKxcj5Y1761276103973.js";import"./cssLoaders.UlIhETTt1761276103973.js";import"./bubbleLoading.CNFXC-mb1761276103973.js";import"./yangyangLoading.-KGL02eM1761276103973.js";import"./color.zjyo9y-T1761276103973.js";import"./color-string.Cb0Nf94v1761276103973.js";import"./color-name.gyPnsvCn1761276103973.js";import"./lodash.B8Sqzhuz1761276103973.js";import"./@amap.fjyZdsU91761276103973.js";import"./object-hash.1qNYTrnD1761276103973.js";import"./jszip.y_yjJ09m1761276103973.js";import"./three-stdlib.tb53t5ki1761276103973.js";import"./useLoader.DWT9Jk041761276103973.js";const I=["side"],P=1024,R=c({__name:"stickerTransmisionMaterial",setup(s,{expose:t}){const r=v(),{extend:i,scene:o,renderer:u,camera:c}=e(),b=v();i({MeshTransmissionMaterial:m});const y=new d,{onBeforeRender:M}=a(),x=p({width:P,height:P,isLoop:!1}),T=p({width:P,height:P,isLoop:!1});let k,w,L,z;return g(async()=>{await j(),r.value.buffer=T.value.texture,b.value=function(e,a){let s;return e.traverse(e=>{e.isMesh&&e.material&&e.material.uuid===a&&(s=e)}),s}(o.value,r.value.uuid)}),M(({elapsed:e})=>{r.value.time=e,r.value.buffer===T.value.texture&&b.value&&(L=u.toneMapping,k=o.value.background,w=r.value.envMapIntensity,z=b.value.material.side,b.value.material=y,u.setRenderTarget(x.value),u.render(o.value,c.value),b.value.material=r.value,b.value.material.thickness=0,b.value.material.buffer=x.value.texture,b.value.material.side=l,b.value.material.envMapIntensity=0,u.setRenderTarget(T.value),u.render(o.value,c.value),b.value.material.buffer=T.value.texture,b.value.material=r.value,b.value.material.thickness=0,b.value.material.side=z,b.value.material.envMapIntensity=w,o.value.background=k,u.setRenderTarget(null),u.toneMapping=L)}),t({root:r,constructor:m}),(e,a)=>(h(),_("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:r,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:f(n)},null,8,I))}}),A=["geometry","rotation"],q=c({__name:"stickerModel",async setup(e){let a,s;const{nodes:t}=([a,s]=b(()=>o("./plugins/eCommerce/model/pack.glb")),a=await a,s(),a);return(e,a)=>(h(),_("TresMesh",{geometry:f(t).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[y(R)],8,A))}}),B=["map","side"],F=c({__name:"stickerLogo",setup:e=>(e,a)=>(h(),M(f(s),{path:"./logo.png"},{default:x(({state:e})=>[T("TresMesh",null,[a[0]||(a[0]=T("TresPlaneGeometry",null,null,-1)),T("TresMeshPhysicalMaterial",{map:e,transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:f(n)},null,8,B)])]),_:1}))}),G=c({__name:"sticker",setup(e){const a={clearColor:"#333333",windowSize:!0,toneMapping:u,toneMappingExposure:.8,shadows:!0};return(e,s)=>{const o=k("TresCanvas");return h(),_(C,null,[y(f(i)),y(o,L(z(a)),{default:x(()=>[s[0]||(s[0]=T("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1)),y(f(t),{enableDamping:""}),s[1]||(s[1]=T("TresAmbientLight",{intensity:2},null,-1)),(h(),M(w,null,{default:x(()=>[y(q)]),_:1})),(h(),M(w,null,{default:x(()=>[y(F)]),_:1})),(h(),M(w,null,{default:x(()=>[y(f(r),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/",background:!1},null,8,["path"])]),_:1}))]),_:1},16)],64)}}});export{G as default};
