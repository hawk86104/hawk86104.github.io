import{P as t}from"./tweakpane.yHWGBmom1721048663624.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.u0s8eg2Z1721048663624.js";import{_ as r}from"./heatmap.js-fix.5ScEVWGH1721048663624.js";import{h as i,a5 as s,bU as c,Z as u}from"./three.HEgnMaTu1721048663624.js";import{r as a}from"./utils.gFXkBUyz1721048663624.js";import{d as p}from"./pinia.gP9-G6bs1721048663624.js";import{b as f,d as l,a2 as h,o as m,D as d,J as g,u as y,F as v,q as b,U as w,N as I,P as _,H as j,L as x,a3 as M,r as k,j as E,g as R,m as S}from"./@vue.ApkyOKE71721048663624.js";import{c as Z,d as D,a as O}from"./three-mesh-bvh.wAcaRjKH1721048663624.js";import{_ as T}from"./@fesjs.vljLn8mq1721048663624.js";import"./@tresjs.Xiq_TH801721048663624.js";import"./@vueuse.2IVIyoVR1721048663624.js";import"./three-custom-shader-material.AmV1WVUo1721048663624.js";import"./object-hash.E5Z0NA4F1721048663624.js";import"./@amap.IXBtourJ1721048663624.js";import"./jszip.PK6xEuxJ1721048663624.js";import"./glsl-tokenizer.bhImRDDx1721048663624.js";import"./glsl-token-string.fSxiDrag1721048663624.js";import"./glsl-token-functions.tTTlKCMK1721048663624.js";import"./vue-router.v6lvLH0N1721048663624.js";import"./lodash-es.nFpJXAf-1721048663624.js";import"./@qlin.yHhFDldE1721048663624.js";import"./@floating-ui.BPbuo5Gx1721048663624.js";import"./@juggle.7yjBMqoW1721048663624.js";!function(t,n){const e=B,o=F();for(;;)try{if(259654===parseInt(e(403))/1+parseInt(e(423))/2+parseInt(e(443))/3*(-parseInt(e(405))/4)+-parseInt(e(427))/5*(parseInt(e(421))/6)+parseInt(e(415))/7+-parseInt(e(434))/8+parseInt(e(444))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(435)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=B,n=new RegExp(t(409)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(413));n.test(o+t(425))&&e[t(440)](o+t(410))?$():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(435)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(t,n){const e=F();return(B=function(t,n){return e[t-=403]})(t,n)}function F(){const t=["absolute","30895hiQajB","rgb(0,255,0)","log","return (function() ","counter","randInt","trace","2534944sHErNg","apply","constructor","rgb(0,0,255)","exception","toString","test","bind","prototype","3kfVYIj","8982945Refvlh","console","warn","push","table",'{}.constructor("return this")( )',"debu","_config","73621NOwlee","heatmap-canvas","1103252mJbBof","createElement","rgb(255,0,0)","position","function *\\( *\\)","input","stateObject","error","init","height","1363558IMhgZp","none","info","length","__proto__","create","486tzXmWB","action","172628cCpOaJ","style","chain"];return(F=function(){return t})()}A(void 0,(function(){const t=B;let n;try{n=Function(t(430)+t(449)+");")()}catch(r){n=window}const e=n[t(445)]=n[t(445)]||{},o=[t(429),t(446),t(417),t(412),t(438),t(448),t(433)];for(let i=0;i<o[t(418)];i++){const n=A[t(436)][t(442)][t(441)](A),r=o[i],s=e[r]||n;n[t(419)]=A[t(441)](A),n[t(439)]=s[t(439)][t(441)](s),e[r]=n}}))();const P=(t,n)=>t.getValueAt(n)+-10;function $(t){function n(t){const e=B;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply(e(431));1!==(""+t/t)[e(418)]||t%20==0?function(){return!0}[e(436)](e(450)+"gger").call(e(422)):function(){return!1}[e(436)](e(450)+"gger")[e(435)](e(411)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=Y,o=H();for(;;)try{if(755641===-parseInt(e(360))/1+-parseInt(e(348))/2*(-parseInt(e(349))/3)+parseInt(e(356))/4+-parseInt(e(358))/5*(-parseInt(e(369))/6)+parseInt(e(351))/7+parseInt(e(346))/8*(-parseInt(e(372))/9)+parseInt(e(353))/10*(-parseInt(e(352))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(368)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(370),"i"),o=W("init");n[t(361)](o+t(345))&&e[t(361)](o+t(379))?W():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(368)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=H();return(Y=function(t,n){return e[t-=345]})(t,n)}function H(){const t=["apply","894DRyibY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","153aOjVZi","info","action","debu","constructor","trace","warn","input","chain","435496eiyQTD","bind","106YMJKip","1137ZfebVt","console","10539977nRYisT","154hYcTNV","346870vcrwBJ","log","return (function() ","4671628Dtkihe","stateObject","20615jYxBNe","__proto__","1141344DaVjHR","test","value","gger","call","while (true) {}","string","toString"];return(H=function(){return t})()}V(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(355)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(350)]=n[t(350)]||{},o=[t(354),t(378),t(373),"error","exception","table",t(377)];for(let r=0;r<o[t(371)];r++){const n=V[t(376)].prototype[t(347)](V),i=o[r],s=e[i]||n;n[t(359)]=V[t(347)](V),n.toString=s[t(367)][t(347)](s),e[i]=n}}))();const N=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[Y(362)]=t}}}));function W(t){function n(t){const e=Y;if(typeof t===e(366))return function(t){}[e(376)](e(365)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(376)](e(375)+e(363))[e(364)](e(374)):function(){return!1}[e(376)](e(375)+e(363))[e(368)](e(357)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=X;!function(t,n){const e=X,o=L();for(;;)try{if(166962===-parseInt(e(525))/1+parseInt(e(535))/2+-parseInt(e(479))/3+-parseInt(e(530))/4*(parseInt(e(478))/5)+parseInt(e(511))/6*(-parseInt(e(529))/7)+-parseInt(e(500))/8+-parseInt(e(495))/9*(-parseInt(e(502))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(512)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(499),"i"),o=tt(t(520));n[t(493)](o+"chain")&&e[t(493)](o+t(492))?tt():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=X;let n;try{n=Function("return (function() "+t(514)+");")()}catch(r){n=window}const e=n.console=n[t(485)]||{},o=[t(533),t(508),"info",t(507),t(534),"table","trace"];for(let i=0;i<o[t(544)];i++){const n=C[t(517)][t(513)].bind(C),r=o[i],s=e[r]||n;n[t(480)]=C[t(518)](C),n.toString=s[t(487)][t(518)](s),e[r]=n}}))();const q=[J(491),J(490)],G=[J(491)];function L(){const t=["canvas","ShaderMaterial","applyMatrix4","length","1261280EBRnaG","527691WxjFOm","__proto__","normal","call","debu","Texture","console","buildingsHeatmap","toString","Matrix4","clone","rotation-x","object","input","test","uniforms","90KffCfM","height","attributes","数值———：","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1700080cQSKpr","$patch","996820GfAzAr","while (true) {}","setTemperature","geometry","city","error","warn","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","land","1743288ImnfoV","apply","prototype",'{}.constructor("return this")( )',"opacity","makeRotationX","constructor","bind","_config","init","matrix","gger","raycast","setShowDiv","79321yCkwSW","数值：","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","model","7wGrEMk","4UZeasa","Mesh","width","log","exception","361348OsKFPV","disposeBoundsTree","BufferGeometry","primitive","computeBoundsTree","action"];return(L=function(){return t})()}const Q=l({__name:J(486),props:{model:{},opacity:{default:1}},setup(t){const n=J;(()=>{const t=X;s[t(537)].prototype.computeBoundsTree=Z,s[t(537)][t(513)][t(536)]=D,s[t(531)][t(513)][t(523)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(406)](o(404));return i[o(424)][o(408)]=o(426),!e&&(i[o(424)].display=o(416)),i[o(424)].top="0",i[o(424)].left="0",document.body.appendChild(i),r[o(420)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(437),.55:o(428),.85:"yellow",1:o(407)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(447)]({x:i[e(432)](1,t[e(451)].width),y:i[e(432)](1,t[e(451)][e(414)]),value:i[e(432)](-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const p=new(s[n(484)])(o._renderer[n(541)]);p.needsUpdate=!0;const f=e[n(528)][n(506)].clone();delete f.geometry.attributes[n(481)],delete f[n(505)].attributes.uv;const l=f[n(505)][n(489)]().applyMatrix4(f[n(521)]),b=e[n(528)][n(510)][n(489)]();delete b[n(505)][n(497)].normal;const w=b[n(505)][n(489)]().applyMatrix4(b[n(521)]),I=c([l,w]);I[n(543)]((new(s[n(488)]))[n(516)](Math.PI/2)),a(I),I[n(539)]();const _=(t=>{const o=n;return new(s[o(542)])({vertexShader:o(509),fragmentShader:o(527),uniforms:{uOpacity:{value:e[o(515)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u})})(p),j=new(s[n(531)])(I,_);h((()=>{const t=n;e[t(515)]&&(_[t(494)].uOpacity.value=e.opacity)}));const x=N(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(519)][e(532)],y:(1-t.uv.y)*o[e(519)][e(496)]};console.log(e(526),t),console[e(533)](e(498),P(o,n)),x[e(504)](P(o,n))}},k=t=>{t&&x[n(501)]({showDiv:!0})},E=t=>{t&&x[n(524)](!1)};return(t,o)=>{const r=n;return m(),d(v,null,[g(r(538),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:k,onPointerLeave:E},null,40,q),g(r(538),{object:e[r(528)][r(528)].children[0][r(489)]()},null,8,G)],64)}}});function X(t,n){const e=L();return(X=function(t,n){return e[t-=478]})(t,n)}function tt(t){function n(t){const e=X;if("string"==typeof t)return function(t){}[e(517)](e(503))[e(512)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(517)](e(483)+e(522))[e(482)](e(540)):function(){return!1}[e(517)](e(483)+e(522))[e(512)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=T({__name:"dataDiv",setup(t){const n=N(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((m(),d("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=it,o=ot();for(;;)try{if(466469===parseInt(e(474))/1*(-parseInt(e(469))/2)+parseInt(e(445))/3*(-parseInt(e(473))/4)+parseInt(e(442))/5+parseInt(e(480))/6+parseInt(e(460))/7*(parseInt(e(468))/8)+parseInt(e(452))/9*(-parseInt(e(447))/10)+-parseInt(e(478))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const et=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(479)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ot(){const t=["info","1731EXMisY","bind","20mbbnWT","error","prototype","console","action","2237274KrrkJT","value","call","return (function() ","chain","warn","while (true) {}","input","13909rHNbkO","counter","builds","#000","function *\\( *\\)","length","gger","debu","1096oHNqFD","34enkBck","trace","city","toString","1060tyRZoz","11177bZZsYe","constructor","init","opacity","3497967pimqWd","apply","5305302APQTrI","log","stateObject","string","2340580HoAFlN","__proto__"];return(ot=function(){return t})()}!function(){et(this,(function(){const t=it,n=new RegExp(t(464)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ct(t(476));n.test(o+t(456))&&e.test(o+t(459))?ct():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(479)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=ot();return(it=function(t,n){return e[t-=442]})(t,n)}rt(void 0,(function(){const t=it,n=function(){const t=it;let n;try{n=Function(t(455)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(450)]=n[t(450)]||{},o=[t(481),t(457),t(444),t(448),"exception","table",t(470)];for(let r=0;r<o[t(465)];r++){const n=rt[t(475)][t(449)][t(446)](rt),i=o[r],s=e[i]||n;n[t(443)]=rt[t(446)](rt),n.toString=s[t(472)][t(446)](s),e[i]=n}}))();const st=l({__name:"heatmap2",async setup(r){const i=it;let s,c;const u=f(!1),a=([s,c]=M((()=>o())),s=await s,c(),s);u[i(453)]=!0;const p=k({width:1,color:i(463),opacity:1,show:!0}),l=k({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,i(477),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),d(v,null,[E(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[E(Q,S({model:y(a)},l),null,16,["model"]),E(n,S(p,{builds:y(a)[r(471)]}),null,16,[r(462)])])),_:1}),E(nt)],64)}}});function ct(t){function n(t){const e=it;if(typeof t===e(483))return function(t){}.constructor(e(458))[e(479)](e(461));1!==(""+t/t).length||t%20==0?function(){return!0}[e(475)](e(467)+e(466))[e(454)](e(451)):function(){return!1}[e(475)]("debu"+e(466))[e(479)](e(482)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
