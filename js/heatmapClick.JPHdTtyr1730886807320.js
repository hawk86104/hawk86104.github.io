import{a as t,U as n}from"./@tresjs.iUmyNPdW1730886807320.js";import{P as e}from"./tweakpane.yHWGBmom1730886807320.js";import{_ as o,a0 as r,ak as a,al as s}from"./three._P_a_E_Z1730886807320.js";import{_ as i}from"./heatmap.js-fix.8QrYO4OR1730886807320.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as y,J as v,j as b,al as w,aj as x,ak as _,m as I}from"./@vue.-THQH3GC1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./@amap.T-fZ7qS81730886807320.js";const j=A;!function(t,n){const e=A,o=R();for(;;)try{if(404016===-parseInt(e(449))/1+-parseInt(e(432))/2+parseInt(e(423))/3+-parseInt(e(441))/4+parseInt(e(463))/5+-parseInt(e(431))/6*(-parseInt(e(455))/7)+parseInt(e(434))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(425),"i"),o=U(t(426));n[t(488)](o+t(484))&&e[t(488)](o+t(420))?U():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=A;let n;try{n=Function(t(458)+t(485)+");")()}catch(r){n=window}const e=n[t(491)]=n.console||{},o=[t(419),t(470),t(465),t(486),t(461),t(436),"trace"];for(let a=0;a<o[t(462)];a++){const n=C[t(469)].prototype.bind(C),r=o[a],s=e[r]||n;n[t(428)]=C.bind(C),n.toString=s[t(459)][t(464)](s),e[r]=n}}))();const S=[j(454)];function A(t,n){const e=R();return(A=function(t,n){return e[t-=419]})(t,n)}const B=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(440),{draco:!0,decoderPath:e(482)}))),a=await a,s(),a);h.mesh_0[e(456)][e(452)](-5088.96,-3.08,39374.7),h[e(433)][e(480)][e(471)](.01);let m=null,g=null,y=null;g=new(o[e(435)])((()=>{const t=e;return y=document[t(447)](t(444)),y[t(477)][t(456)]=t(481),y[t(477)].top=t(483),y[t(477)][t(424)]="0",document[t(427)].appendChild(y),m=i.create({container:y,width:256,height:256,blur:t(489),radius:c[t(450)]}),m[t(443)][t(438)].style.border="1px solid #5384ff",m[t(443)].canvas[t(487)]=function(n){const e=t;m[e(448)]({x:n[e(445)],y:n.layerY,value:1,radius:c[e(450)]}),m[e(437)](1),g&&(g[e(492)]=!0)},m})()[e(443)][e(438)]);const v={vertexShader:e(421),fragmentShader:e(430),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},b=new(o[e(468)])(v);h.mesh_0[e(451)]=b;return(t=>{const n=e;t[n(457)]();const{max:r,min:a}=t[n(478)];t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(473)][n(456)].count;e++)c[n(467)]((t[n(473)][n(456)][n(460)](e)-a.x)/s),c[n(467)]((t.attributes[n(456)].getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(422)])(u,2))})(h[e(433)][e(474)]),l((()=>{const t=e;y[t(477)].display=""+(c[t(466)]?t(446):t(475))})),(t,n)=>{const o=e;return p(),f("primitive",{object:d(h)[o(433)]},null,8,S)}}});function R(){const t=["info","show2dCanvas","push","ShaderMaterial","constructor","warn","setScalar","gger","attributes","geometry","none","string","style","boundingBox","counter","scale","absolute","./draco/","40px","chain",'{}.constructor("return this")( )',"error","onclick","test","0.8","call","console","needsUpdate","log","input","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","BufferAttribute","138312htmkEq","left","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","body","__proto__","apply","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","618eIcATn","919902nzSSdp","mesh_0","11175368yHvcWs","Texture","table","setDataMax","canvas","action","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","2748576eWGiYa","while (true) {}","_renderer","heatmap-canvas","layerX","block","createElement","addData","590725tZPjrB","radius","material","set","stateObject","object","6146piROqY","position","computeBoundingBox","return (function() ","toString","getX","exception","length","3041885VykgLA","bind"];return(R=function(){return t})()}function U(t){function n(t){const e=A;if(typeof t===e(476))return function(t){}[e(469)](e(442))[e(429)](e(479));1!==(""+t/t)[e(462)]||t%20==0?function(){return!0}.constructor("debu"+e(472))[e(490)](e(439)):function(){return!1}[e(469)]("debu"+e(472))[e(429)](e(453)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=M;function M(t,n){const e=O();return(M=function(t,n){return e[t-=121]})(t,n)}!function(t,n){const e=M,o=O();for(;;)try{if(489151===-parseInt(e(125))/1+parseInt(e(160))/2+parseInt(e(128))/3*(-parseInt(e(170))/4)+-parseInt(e(146))/5*(-parseInt(e(139))/6)+-parseInt(e(121))/7*(-parseInt(e(140))/8)+-parseInt(e(131))/9+parseInt(e(144))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(156)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=M,n=new RegExp(t(154)),e=new RegExp(t(153),"i"),o=V(t(147));n[t(149)](o+t(137))&&e.test(o+t(138))?V():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(156)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["23704VpLUKQ","TresGridHelper","console","addBinding","14490170DxHfrI","debu","855275JhjaBU","init","action","test","toString","constructor",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","prototype","apply","trace","return (function() ","while (true) {}","156380ahXIDs","gger","__proto__","bind","addButton","call","radius","stateObject","info","TresCanvas","3021100BSkRnX","1015HikRMm","#030311","length","exception","864614wWdKNU","#ffffff","string","3OTHxye","error","heatmapClick","6327693kVmUub","table","show2dCanvas","圆圈的大小","显示二维图","TresDirectionalLight","chain","input","30IRFlXV"];return(O=function(){return t})()}D(void 0,(function(){const t=M;let n;try{n=Function(t(158)+t(152)+");")()}catch(r){n=window}const e=n[t(142)]=n[t(142)]||{},o=["log","warn",t(168),t(129),t(124),t(132),t(157)];for(let a=0;a<o[t(123)];a++){const n=D.constructor[t(155)].bind(D),r=o[a],s=e[r]||n;n[t(162)]=D[t(163)](D),n[t(150)]=s[t(150)][t(163)](s),e[r]=n}}))();const E=c({__name:z(130),setup(t){const o=z,r={clearColor:o(122),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(143)](i,o(133),{label:o(135)}),c[o(143)](i,o(166),{label:o(134),min:.1,max:30,step:.1}),c[o(164)]({title:"点击左侧蓝色画框"}),(t,e)=>{const a=o,s=m(a(169));return p(),g(s,I(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=v("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v(a(136),{position:[5,10,7.5],color:a(126),intensity:5},null,-1)),e[2]||(e[2]=v(a(141),{args:[50,25]},null,-1)),(p(),g(w,null,{default:y((()=>[b(B,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function V(t){function n(t){const e=M;if(typeof t===e(127))return function(t){}[e(151)](e(159))[e(156)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(161))[e(165)](e(148)):function(){return!1}[e(151)](e(145)+e(161)).apply(e(167)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{E as default};
