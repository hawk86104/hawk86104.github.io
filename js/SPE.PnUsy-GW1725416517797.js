import{a6 as t,ci as e,N as i,bR as n,V as s,C as o,B as r}from"./three.VTQVqxMx1725416517797.js";const a=l;!function(t,e){const i=l,n=d();for(;;)try{if(672946===-parseInt(i(638))/1+parseInt(i(841))/2+parseInt(i(516))/3*(parseInt(i(742))/4)+-parseInt(i(471))/5+parseInt(i(520))/6+-parseInt(i(489))/7+-parseInt(i(522))/8*(parseInt(i(891))/9))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(606)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){c(this,(function(){const t=l,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(826),"i"),n=p("init");e[t(848)](n+"chain")&&i[t(848)](n+"input")?p():n("0")}))()}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function l(t,e){const i=d();return(l=function(t,e){return i[t-=449]})(t,e)}h(void 0,(function(){const t=l;let e;try{e=Function(t(713)+'{}.constructor("return this")( ));')()}catch(s){e=window}const i=e[t(847)]=e[t(847)]||{},n=["log",t(750),"info",t(475),t(545),t(451),"trace"];for(let o=0;o<n[t(594)];o++){const e=h[t(517)][t(559)][t(735)](h),s=n[o],r=i[s]||e;e[t(508)]=h[t(735)](h),e[t(744)]=r.toString[t(735)](r),i[s]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===a(775)&&define[a(695)]?define("spe",u):"undefined"!=typeof exports&&typeof module!==a(538)&&(module[a(867)]=u),u[a(674)]=function(t,e,i,n){const s=a;this[s(548)]=i||1,this[s(858)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(494)]=new t(e*this[s(548)]),this[s(709)]=n||0},u.TypedArrayHelper[a(517)]=u.TypedArrayHelper,u[a(674)].prototype.setSize=function(t,e){const i=a,n=this[i(494)][i(594)];return!e&&(t*=this[i(548)]),t<n?this.shrink(t):t>n?this[i(900)](t):void console.info("TypedArray is already of size:",t+".",i(863))},u[a(674)][a(559)][a(572)]=function(t){const e=a;return this[e(494)]=this.array[e(819)](0,t),this.size=t,this},u[a(674)].prototype[a(900)]=function(t){const e=a,i=this[e(494)],n=new(this[e(880)])(t);return n.set(i),this[e(494)]=n,this.size=t,this},u[a(674)][a(559)][a(797)]=function(t,e){const i=a;t*=this.componentSize,e*=this[i(548)];const n=[],s=this[i(494)],o=s[i(594)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(782)](s[r]);return this[i(812)](0,n),this},u[a(674)].prototype[a(812)]=function(t,e){const i=a,n=t+e.length;return n>this[i(494)][i(594)]?this[i(900)](n):n<this[i(494)].length&&this.shrink(n),this[i(494)].set(e,this[i(709)]+t),this},u[a(674)].prototype[a(505)]=function(t,e){return this[a(726)](t,e.x,e.y)},u[a(674)][a(559)][a(726)]=function(t,e,i){const n=a,s=this[n(494)],o=this[n(709)]+t*this[n(548)];return s[o]=e,s[o+1]=i,this},u[a(674)][a(559)][a(452)]=function(t,e){return this[a(725)](t,e.x,e.y,e.z)},u.TypedArrayHelper.prototype[a(725)]=function(t,e,i,n){const s=a,o=this[s(494)],r=this[s(709)]+t*this[s(548)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},u.TypedArrayHelper[a(559)][a(760)]=function(t,e){return this[a(603)](t,e.x,e.y,e.z,e.w)},u.TypedArrayHelper[a(559)][a(603)]=function(t,e,i,n,s){const o=a,r=this.array,c=this[o(709)]+t*this[o(548)];return r[c]=e,r[c+1]=i,r[c+2]=n,r[c+3]=s,this},u[a(674)][a(559)][a(556)]=function(t,e){const i=a;return this[i(812)](this[i(709)]+t*this[i(548)],e[i(657)])},u[a(674)][a(559)].setMat4=function(t,e){const i=a;return this[i(812)](this[i(709)]+t*this[i(548)],e[i(657)])},u[a(674)][a(559)][a(839)]=function(t,e){return this[a(725)](t,e.r,e.g,e.b)},u.TypedArrayHelper[a(559)][a(641)]=function(t,e){const i=a;return this[i(494)][this[i(709)]+t*this[i(548)]]=e,this},u.TypedArrayHelper[a(559)][a(808)]=function(t){const e=a;return this[e(494)][this[e(709)]+t]},u[a(674)][a(559)][a(658)]=function(t){const e=a;return this[e(494)][e(819)](this[e(709)]+t*this.componentSize)},u[a(704)]=function(t,e,i){const n=a,s=u[n(704)][n(664)];this.type="string"==typeof t&&s[n(454)](t)?t:"f",this[n(548)]=s[this.type],this[n(790)]=i||Float32Array,this.typedArray=null,this[n(513)]=null,this.dynamicBuffer=!!e,this[n(740)]=0,this[n(653)]=0},u[a(704)].constructor=u[a(704)],u[a(704)][a(664)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[a(704)][a(559)][a(677)]=function(t,e){const i=a;this[i(740)]=Math[i(694)](t*this[i(548)],this[i(740)]*this[i(548)]),this.updateMax=Math.max(e*this[i(548)],this[i(653)]*this.componentSize)},u[a(704)][a(559)][a(748)]=function(){const t=a,e=this.bufferAttribute,i=e[t(670)];i[t(563)]=this[t(740)],i.count=Math[t(694)](this[t(653)]-this[t(740)]+this[t(548)],this[t(818)].array.length),e[t(662)]=!0},u[a(704)][a(559)][a(710)]=function(){const t=a;this.updateMin=0,this[t(653)]=0},u.ShaderAttribute.prototype[a(585)]=function(){const i=a;this[i(513)].usage=this.dynamicBuffer?t[i(865)]:e},u[a(704)][a(559)][a(797)]=function(t,e){const i=a;this[i(818)][i(797)](t,e),this[i(731)]()},u.ShaderAttribute[a(559)][a(731)]=function(){const e=a;this[e(513)][e(494)]=this[e(818)][e(494)],this[e(513)][e(670)].offset=0,this[e(513)][e(670)][e(668)]=-1,this[e(513)][e(534)]=t[e(696)],this[e(513)].needsUpdate=!0},u[a(704)][a(559)][a(854)]=function(t){const e=a;null!==this[e(818)]&&this[e(818)][e(858)]===t*this[e(548)]||(null!==this.typedArray&&this[e(818)][e(858)]!==t?this.typedArray[e(457)](t):null===this[e(818)]&&(this[e(818)]=new(u[e(674)])(this[e(790)],t,this[e(548)])))},u.ShaderAttribute[a(559)][a(720)]=function(e){const n=a;if(this[n(854)](e),null!==this.bufferAttribute)return this[n(513)][n(494)]=this[n(818)][n(494)],parseFloat(t[n(676)])>=81&&(this[n(513)][n(668)]=this.bufferAttribute[n(494)].length/this[n(513)][n(558)]),void(this[n(513)].needsUpdate=!0);this[n(513)]=new(t[n(473)])(this[n(818)][n(494)],this[n(548)]),this[n(513)][n(534)]=this[n(751)]?i:t[n(696)]},u[a(704)][a(559)][a(874)]=function(){const t=a;return null===this[t(818)]?0:this.typedArray[t(494)].length},u.shaderChunks={defines:[a(769),"#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:["uniform float deltaTime;","uniform float runTime;",a(644),a(550),a(631)][a(716)]("\n"),attributes:[a(718),"attribute vec3 velocity;",a(700),a(507),a(532),"attribute vec4 size;","attribute vec4 angle;",a(892),"attribute vec4 opacity;"].join("\n"),varyings:["varying vec4 vColor;",a(500),a(753),a(510),a(822),a(679),a(510)].join("\n"),branchAvoidanceFunctions:[a(615),"    return max(sign(x - y), 0.0);","}",a(761),a(766),"}",a(741),a(868),"}",a(540),"  return 1.0 - when_lt(x, y);","}","float when_le(float x, float y) {","  return 1.0 - when_gt(x, y);","}",a(733),a(462),"}",a(464),a(837),"}"][a(716)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );",a(816),a(450),"   float b = mod( hex, PACKED_COLOR_SIZE );",a(649),a(856),a(467),a(878),"}"][a(716)]("\n"),unpackRotationAxis:[a(607),a(719),a(816),a(450),a(866),a(649),"   c.g = g / PACKED_COLOR_DIVISOR;",a(467),"   c *= vec3( 2.0 );",a(592),a(878),"}"].join("\n"),floatOverLifetime:[a(565),a(844),a(479),a(562),a(569),a(864),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",a(771),a(608),"",a(809),"}"][a(716)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {",a(621),"    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",a(616),"    return value;","}"][a(716)]("\n"),paramFetchingFunctions:[a(614),a(566),"}",a(625),a(476),"}",a(577),"   return params.z;","}","float getWiggle() {",a(495),"}"][a(716)]("\n"),forceFetchingFunctions:[a(875),a(630),"}",a(736),a(793),"}",a(682),"   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES",a(697),a(632),a(859),"       float c = cos(angle);","       float oc = 1.0 - c;","","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",a(560),"                   0.0,                                0.0,                                0.0,                                1.0);","   }","",a(460),a(893),a(535),a(533),"",a(536),a(759),a(482),a(721),a(552),a(806),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      translated = rotationCenter - pos;",a(596),"      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );",a(665),a(510)][a(716)]("\n"),rotateTexture:[a(807),"",a(857),"       float x = gl_PointCoord.x - 0.5;",a(601),"       float c = cos( -vAngle );","       float s = sin( -vAngle );",a(850),a(737),"",a(605),a(783),"        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;",a(537),a(777),a(691),a(737),"","    vec4 rotatedTexture = texture2D( tex, vUv );"][a(716)]("\n")},u[a(491)]={vertex:[u.shaderChunks.defines,u[a(568)].uniforms,u.shaderChunks.attributes,u.shaderChunks.varyings,t[a(490)].common,t[a(490)][a(581)],t[a(490)].fog_pars_vertex,u[a(568)].branchAvoidanceFunctions,u[a(568)][a(706)],u[a(568)].unpackRotationAxis,u.shaderChunks[a(876)],u[a(568)][a(804)],u[a(568)].paramFetchingFunctions,u[a(568)][a(496)],u[a(568)][a(527)],a(805),a(647),a(529),a(526),a(722),a(618),a(814),a(521),"        float wiggleSin = isAlive * sin( wiggleAmount );",a(693),a(737),"    vec3 vel = getVelocity( age );",a(767),a(800),"    vec3 pos = vec3( position );",a(626),"    force += vel;",a(861),a(613),a(481),a(814),a(843),a(637),a(480),a(737),a(598),a(620),a(737),a(636),a(799),a(683),"        float perspective = scale / length( mvPosition.xyz );",a(633),a(459),a(737),a(817),"    #ifdef COLORIZE",a(672),a(474),a(789),a(827),a(705),a(453),"       );","    #else",a(629),"    #endif",a(611),"    vColor = vec4( c, o );",a(857),a(544),"    #endif","    #ifdef SHOULD_CALCULATE_SPRITE",a(846),a(788),a(648),"        float totalFrames = textureAnimation.z;",a(589),a(792),a(883),a(786),a(901),"        vSpriteSheet.x = 1.0 / framesX;",a(813),a(627),a(580),"    #endif","    gl_PointSize = pointSizePerspective;",a(896),t[a(490)][a(778)],t[a(490)][a(487)],"}"][a(716)]("\n"),fragment:[u[a(568)][a(617)],t[a(490)].common,t[a(490)][a(779)],n[a(619)],u[a(568)][a(472)],u[a(568)][a(669)],a(805),a(593),a(600),a(530),a(583),a(737),u[a(568)][a(642)],t[a(490)][a(561)],a(860),a(690),n[a(825)],"}"][a(716)]("\n")},u[a(499)]={types:{BOOLEAN:a(739),STRING:a(523),NUMBER:"number",OBJECT:a(727)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=a;if(Array[n(714)](t)){for(let s=t[n(594)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(882)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){if(Array[a(714)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=a;e=e||3,i=i||3,!1===Array[n(714)](t[n(732)])&&(t[n(732)]=[t._value]),!1===Array[n(714)](t[n(667)])&&(t[n(667)]=[t[n(667)]]);const s=this[n(785)](t[n(732)][n(594)],e,i),o=this[n(785)](t._spread[n(594)],e,i),r=Math[n(599)](s,o);t[n(732)][n(594)]!==r&&(t._value=this[n(881)](t[n(732)],r)),t[n(667)].length!==r&&(t[n(667)]=this[n(881)](t[n(667)],r))},interpolateArray(t,e){const i=a,n=t[i(594)],s=[typeof t[0][i(743)]===i(775)?t[0][i(743)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(838)](e),a=Math[i(802)](e),c=e-n;s[r]=this[i(628)](t[n],t[a],c)}return s[i(782)](typeof t[n-1].clone===i(775)?t[n-1].clone():t[n-1]),s},clamp(t,e,i){const n=a;return Math[n(599)](e,Math[n(694)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[a(871)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const o=a;let r,c=this.types;return typeof e===c[o(681)]&&typeof i===c.NUMBER?e+(i-e)*n:e instanceof t[o(712)]&&i instanceof t[o(712)]?(r=e[o(743)](),r.x=this[o(815)](e.x,i.x,n),r.y=this[o(815)](e.y,i.y,n),r):e instanceof t[o(898)]&&i instanceof s?(r=e[o(743)](),r.x=this[o(815)](e.x,i.x,n),r.y=this[o(815)](e.y,i.y,n),r.z=this[o(815)](e.z,i.z,n),r):e instanceof t[o(660)]&&i instanceof t[o(660)]?(r=e[o(743)](),r.x=this[o(815)](e.x,i.x,n),r.y=this[o(815)](e.y,i.y,n),r.z=this[o(815)](e.z,i.z,n),r.w=this[o(815)](e.w,i.w,n),r):e instanceof t[o(643)]&&i instanceof t[o(643)]?(r=e[o(743)](),r.r=this.lerp(e.r,i.r,n),r.g=this[o(815)](e.g,i.g,n),r.b=this[o(815)](e.b,i.b,n),r):void console.warn("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){let i=0;return 0===e?t:(i=Math[a(547)](t)%e,0===i?t:t<0?-(Math.abs(t)-i):t+e-i)},arrayValuesAreEqual(t){const e=a;for(let i=0;i<t[e(594)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,s){const o=a;let r=i.x+(Math[o(871)]()*n.x-.5*n.x),c=i.y+(Math[o(871)]()*n.y-.5*n.y),h=i.z+(Math.random()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(635)](r,s.x),c=.5*-s.y+this.roundToNearestMultiple(c,s.y),h=.5*-s.z+this[o(635)](h,s.z)),t.typedArray[o(725)](e,r,c,h)},randomColor(t,e,i,n){const s=a;let o=i.r+Math[s(871)]()*n.x,r=i.g+Math.random()*n.y,c=i.b+Math[s(871)]()*n.z;o=this[s(785)](o,0,1),r=this.clamp(r,0,1),c=this[s(785)](c,0,1),t[s(818)].setVec3Components(e,o,r,c)},randomColorAsHex:function(){const e=a,i=new(t[e(643)]);return function(t,n,s,o){const r=e,a=s.length,c=[];for(let e=0;e<a;++e){const t=o[e];i[r(485)](s[e]),i.r+=Math[r(871)]()*t.x-.5*t.x,i.g+=Math[r(871)]()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this.clamp(i.b,0,1),c[r(782)](i[r(897)]())}t[r(818)][r(603)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=a,o=i[s(743)]();o.lerp(n,Math[s(871)]()),t[s(818)][s(725)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,c){const h=a;let l=2*Math[h(871)]()-1,u=6.2832*Math[h(871)](),f=Math.sqrt(1-l*l),p=this[h(689)](n,s),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math.cos(u)*p,m=f*Math[h(849)](u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[h(818)][h(725)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const c=a;let h=6.2832*Math[c(871)](),l=Math[c(547)](this[c(689)](n,s)),u=0,f=0,p=0;r&&(l=Math[c(810)](l/r)*r),u=Math.cos(h)*l,f=Math[c(849)](h)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[c(818)][c(725)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=a,i=new(t[e(898)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(485)](a),i.x-=s,i.y-=o,i.z-=r,i[l(831)]()[l(578)](-this.randomFloat(c,h)),t[l(818)].setVec3Components(n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=a,i=new(t[e(898)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(485)](a),i.x-=s,i.y-=o,i.z-=r,i[l(831)]()[l(578)](-this.randomFloat(c,h)),t.typedArray.setVec3Components(n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=a,i=new(t[e(898)]),n=new(t[e(898)]),s=new(t[e(643)]),o=new(t[e(898)])(1,1,1);return function(t,r){const a=e;return i[a(485)](t).normalize(),n.copy(r)[a(831)](),i.x+=.5*-r.x+Math[a(871)]()*r.x,i.y+=.5*-r.y+Math[a(871)]()*r.y,i.z+=.5*-r.z+Math.random()*r.z,i[a(831)]()[a(873)](o)[a(578)](.5),s.setRGB(i.x,i.y,i.z),s.getHex()}}()},u[a(886)]=function(e){const i=a,n=u[i(499)],s=n[i(470)];(e=n.ensureTypedArg(e,s[i(456)],{}))[i(738)]=n[i(882)](e.texture,s.OBJECT,{}),this[i(724)]=t[i(554)][i(524)](),this[i(612)]=n.ensureTypedArg(e[i(612)],s[i(681)],.016),this[i(738)]=n[i(853)](e[i(738)][i(823)],t[i(730)],null),this.textureFrames=n[i(853)](e[i(738)].frames,t[i(712)],new(t[i(712)])(1,1)),this.textureFrameCount=n[i(882)](e[i(738)].frameCount,s[i(681)],this.textureFrames.x*this[i(557)].y),this[i(564)]=n[i(882)](e.texture[i(851)],s.NUMBER,1),this[i(557)][i(599)](new(t[i(712)])(1,1)),this[i(483)]=n[i(882)](e[i(483)],s[i(723)],!0),this[i(899)]=n[i(882)](e[i(899)],s[i(723)],!0),this[i(574)]=n[i(882)](e[i(574)],s[i(681)],null),this[i(845)]=n[i(882)](e[i(845)],s.NUMBER,t[i(571)]),this[i(609)]=n[i(882)](e[i(609)],s[i(723)],!0),this[i(756)]=parseFloat(n[i(882)](e[i(756)],s[i(681)],0)),this.depthWrite=n[i(882)](e[i(509)],s[i(723)],!1),this.depthTest=n[i(882)](e[i(687)],s[i(723)],!0),this[i(549)]=n.ensureTypedArg(e[i(549)],s.BOOLEAN,!0),this[i(768)]=n.ensureTypedArg(e[i(768)],s[i(681)],300),this[i(728)]=[],this[i(762)]=[],this[i(623)]=[],this[i(684)]=null,this[i(597)]=0,this[i(542)]=!1,this[i(703)]=!1,this[i(449)]=0,this[i(617)]={tex:{type:"t",value:this[i(738)]},textureAnimation:{type:"v4",value:new(t[i(660)])(this.textureFrames.x,this.textureFrames.y,this[i(829)],Math[i(599)](Math[i(547)](this.textureLoop),1))},fogColor:{type:"c",value:this[i(549)]?new o:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[i(707)]={HAS_PERSPECTIVE:this[i(483)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:u[i(835)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(557)].x>1||this[i(557)].y>1},this[i(573)]={position:new(u[i(704)])("v3",!0),acceleration:new(u[i(704)])("v4",!0),velocity:new u.ShaderAttribute("v3",!0),rotation:new(u[i(704)])("v4",!0),rotationCenter:new(u[i(704)])("v3",!0),params:new u.ShaderAttribute("v4",!0),size:new(u[i(704)])("v4",!0),angle:new u.ShaderAttribute("v4",!0),color:new(u[i(704)])("v4",!0),opacity:new(u[i(704)])("v4",!0)},this[i(497)]=Object.keys(this.attributes),this[i(515)]=this[i(497)][i(594)],this.material=new(t[i(498)])({uniforms:this[i(617)],vertexShader:u[i(491)][i(504)],fragmentShader:u.shaders[i(555)],blending:this[i(845)],transparent:this[i(609)],alphaTest:this[i(756)],depthWrite:this.depthWrite,depthTest:this[i(687)],defines:this.defines,fog:this[i(549)]}),this[i(468)]=new r,this[i(890)]=new(t[i(824)])(this[i(468)],this[i(466)]),null===this.maxParticleCount&&console[i(750)](i(654))},u[a(886)][a(517)]=u.Group,u[a(886)][a(559)][a(869)]=function(){const t=a;let e,i=this.emitters,n=i[t(594)]-1,s=this[t(707)];for(;n>=0;--n)e=i[n],!s[t(699)]&&(s[t(503)]=s.SHOULD_ROTATE_TEXTURE||!!Math[t(599)](Math[t(599)][t(606)](null,e[t(506)].value),Math.max.apply(null,e.angle.spread))),s[t(872)]=s.SHOULD_ROTATE_PARTICLES||!!Math[t(599)](e[t(595)][t(506)],e[t(595)][t(888)]),s[t(692)]=s[t(692)]||!!Math[t(599)](e[t(833)][t(823)],e[t(833)][t(477)]);this.material.needsUpdate=!0},u[a(886)].prototype._applyAttributesToGeometry=function(){const t=a;let e,i,n=this[t(573)],s=this[t(468)],o=s.attributes;for(const r in n)n.hasOwnProperty(r)&&(e=n[r],i=o[r],i?i[t(494)]=e.typedArray.array:s[t(675)](r,e.bufferAttribute),e.bufferAttribute[t(662)]=!0);this[t(468)].setDrawRange(0,this.particleCount)},u[a(886)][a(559)][a(794)]=function(t){const e=a;if(t instanceof u[e(842)]==!1)return void console[e(475)](e(776),t);if(this[e(762)][e(528)](t[e(724)])>-1)return void console[e(475)]("Emitter already exists in this group. Will not add again.");if(null!==t[e(587)])return void console.error(e(525));const i=this[e(573)],n=this[e(449)],s=n+t[e(449)];this[e(449)]=s,null!==this.maxParticleCount&&this.particleCount>this[e(574)]&&console[e(750)](e(588),this[e(449)],e(836),this[e(574)]),t[e(493)](t.maxAge._value+t[e(622)][e(667)]),t[e(543)](this[e(497)]),t[e(645)](n),t[e(587)]=this,t[e(573)]=this[e(573)];for(const o in i)i[e(454)](o)&&i[o][e(720)](null!==this[e(574)]?this[e(574)]:this[e(449)]);for(let o=n;o<s;++o)t._assignPositionValue(o),t[e(640)](o,e(711)),t[e(640)](o,e(798)),t[e(834)](o,e(586)),t[e(834)](o,"size"),t[e(763)](o),t[e(663)](o),t[e(455)](o),t[e(795)](o);return this[e(698)](),this[e(728)][e(782)](t),this[e(762)][e(782)](t.uuid),this[e(869)](t),this[e(466)][e(662)]=!0,this[e(468)][e(662)]=!0,this[e(542)]=!0,this},u[a(886)].prototype[a(666)]=function(t){const e=a,i=this[e(762)][e(528)](t[e(724)]);if(t instanceof u[e(842)]==!1)return void console[e(475)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console[e(475)](e(651));const n=t[e(885)],s=n+t[e(449)],o=this[e(573)][e(486)][e(818)];for(let r=n;r<s;++r)o[e(494)][4*r]=0,o[e(494)][4*r+1]=0;this[e(728)][e(797)](i,1),this[e(762)][e(797)](i,1);for(const r in this[e(573)])this[e(573)].hasOwnProperty(r)&&this[e(573)][r].splice(n,s);this[e(449)]-=t[e(449)],t[e(717)](),this[e(542)]=!0},u.Group.prototype.getFromPool=function(){const t=a,e=this[t(623)],i=this._createNewWhenPoolEmpty;if(e.length)return e.pop();if(i){const e=new(u[t(842)])(this[t(684)]);return this.addEmitter(e),e}return null},u[a(886)][a(559)][a(604)]=function(t){const e=a;if(t instanceof u[e(842)]!=!1)return t[e(774)](),this._pool[e(811)](t),this;console[e(475)](e(686),t)},u[a(886)][a(559)].getPool=function(){return this[a(623)]},u[a(886)][a(559)][a(747)]=function(t,e,i){const n=a;let s;this[n(684)]=e,this[n(597)]=!!i;for(let o=0;o<t;++o)s=Array[n(714)](e)?new(u[n(842)])(e[o]):new(u[n(842)])(e),this[n(794)](s),this.releaseIntoPool(s);return this},u[a(886)][a(559)][a(887)]=function(e){const i=a,n=this.getFromPool(),s=this;if(null!==n)return e instanceof t[i(898)]&&(n[i(575)].value[i(485)](e),n[i(575)].value=n[i(575)][i(823)]),n[i(772)](),setTimeout((()=>{const t=i;n[t(484)](),s[t(604)](n)}),1e3*Math[i(599)](n[i(840)],n[i(622)][i(823)]+n[i(622)][i(477)])),this;console[i(492)](i(894))},u.Group[a(559)][a(590)]=function(t,e){const i=a;if(typeof t===i(610)&&t>1)for(let n=0;n<t;++n)this[i(887)](e);else this[i(887)](e);return this},u[a(886)][a(559)][a(511)]=function(t){const e=a;this.uniforms[e(488)].value+=t,this.uniforms.deltaTime[e(823)]=t},u[a(886)][a(559)][a(518)]=function(){const t=a;let e=this.attributeKeys,i=this[t(515)]-1,n=this[t(573)];for(;i>=0;--i)n[e[i]].resetUpdateRange()},u[a(886)][a(559)][a(791)]=function(t){const e=a;let i,n,s,o=this[e(497)],r=this.attributeCount-1,c=this[e(573)],h=t[e(634)];for(;r>=0;--r)i=o[r],n=h[i],s=c[i],s[e(677)](n[e(694)],n[e(599)]),s[e(748)]()},u.Group[a(559)].tick=function(t){const e=a;var i=this[e(728)],n=i[e(594)],s=t||this[e(612)],o=this[e(497)],r=this[e(573)];if(this[e(511)](s),this._resetBufferRanges(),0!==n||!1!==this._attributesNeedRefresh||!1!==this[e(703)]){for(var c,h=0;h<n;++h)(c=i[h])[e(541)](s),this[e(791)](c);if(!0===this[e(703)]){for(h=this.attributeCount-1;h>=0;--h)r[o[h]][e(585)]();this[e(703)]=!1}if(!0===this[e(542)]){for(h=this.attributeCount-1;h>=0;--h)r[o[h]][e(731)]();this[e(542)]=!1,this[e(703)]=!0}}},u[a(886)].prototype[a(576)]=function(){const t=a;return this[t(468)][t(576)](),this[t(466)][t(576)](),this},u[a(842)]=function(e){const i=a,n=u[i(499)],o=n[i(470)],r=u[i(835)];(e=n[i(882)](e,o[i(456)],{})).position=n[i(882)](e.position,o.OBJECT,{}),e[i(711)]=n[i(882)](e[i(711)],o.OBJECT,{}),e.acceleration=n[i(882)](e.acceleration,o[i(456)],{}),e[i(803)]=n[i(882)](e.radius,o[i(456)],{}),e.drag=n[i(882)](e.drag,o[i(456)],{}),e[i(595)]=n[i(882)](e[i(595)],o.OBJECT,{}),e[i(546)]=n.ensureTypedArg(e.color,o[i(456)],{}),e[i(586)]=n.ensureTypedArg(e[i(586)],o.OBJECT,{}),e[i(858)]=n[i(882)](e[i(858)],o[i(456)],{}),e[i(506)]=n[i(882)](e[i(506)],o[i(456)],{}),e.wiggle=n[i(882)](e.wiggle,o[i(456)],{}),e[i(622)]=n[i(882)](e[i(622)],o[i(456)],{}),e[i(764)]&&console[i(750)](i(519)),this[i(724)]=t[i(554)][i(524)](),this[i(685)]=n[i(882)](e[i(685)],o.NUMBER,u[i(889)][i(688)]),this[i(575)]={_value:n[i(853)](e[i(575)].value,s,new(t[i(898)])),_spread:n[i(853)](e[i(575)][i(477)],t[i(898)],new(t[i(898)])),_spreadClamp:n[i(853)](e[i(575)][i(680)],s,new s),_distribution:n[i(882)](e.position.distribution,o[i(681)],this[i(685)]),_randomise:n[i(882)](e[i(575)].randomise,o[i(723)],!1),_radius:n.ensureTypedArg(e[i(575)].radius,o.NUMBER,10),_radiusScale:n[i(853)](e[i(575)].radiusScale,t[i(898)],new s(1,1,1)),_distributionClamp:n[i(882)](e.position[i(780)],o[i(681)],0)},this[i(711)]={_value:n[i(853)](e[i(711)][i(823)],t[i(898)],new(t[i(898)])),_spread:n.ensureInstanceOf(e[i(711)].spread,t[i(898)],new(t[i(898)])),_distribution:n[i(882)](e[i(711)][i(749)],o.NUMBER,this[i(685)]),_randomise:n[i(882)](e[i(575)].randomise,o[i(723)],!1)},this[i(798)]={_value:n.ensureInstanceOf(e.acceleration[i(823)],t[i(898)],new(t[i(898)])),_spread:n.ensureInstanceOf(e[i(798)].spread,s,new(t[i(898)])),_distribution:n[i(882)](e[i(798)][i(749)],o[i(681)],this[i(685)]),_randomise:n[i(882)](e[i(575)][i(579)],o[i(723)],!1)},this.drag={_value:n.ensureTypedArg(e.drag.value,o[i(681)],0),_spread:n.ensureTypedArg(e[i(652)][i(477)],o.NUMBER,0),_randomise:n[i(882)](e.position[i(579)],o.BOOLEAN,!1)},this[i(833)]={_value:n.ensureTypedArg(e.wiggle[i(823)],o[i(681)],0),_spread:n[i(882)](e[i(833)].spread,o[i(681)],0)},this[i(595)]={_axis:n[i(853)](e[i(595)][i(821)],t[i(898)],new(t[i(898)])(0,1,0)),_axisSpread:n.ensureInstanceOf(e[i(595)][i(602)],t[i(898)],new s),_angle:n[i(882)](e.rotation[i(506)],o[i(681)],0),_angleSpread:n[i(882)](e.rotation[i(888)],o[i(681)],0),_static:n[i(882)](e[i(595)].static,o[i(723)],!1),_center:n[i(853)](e[i(595)][i(502)],t[i(898)],this.position[i(732)].clone()),_randomise:n[i(882)](e[i(575)][i(579)],o[i(723)],!1)},this[i(622)]={_value:n[i(882)](e[i(622)].value,o.NUMBER,2),_spread:n[i(882)](e[i(622)][i(477)],o.NUMBER,0)},this[i(546)]={_value:n[i(584)](e[i(546)][i(823)],t[i(643)],new(t[i(643)])),_spread:n[i(584)](e[i(546)][i(477)],t[i(898)],new(t[i(898)])),_randomise:n[i(882)](e[i(575)][i(579)],o.BOOLEAN,!1)},this.opacity={_value:n[i(678)](e.opacity[i(823)],o[i(681)],1),_spread:n[i(678)](e[i(586)][i(477)],o[i(681)],0),_randomise:n.ensureTypedArg(e[i(575)][i(579)],o[i(723)],!1)},this[i(858)]={_value:n[i(678)](e[i(858)][i(823)],o[i(681)],1),_spread:n[i(678)](e[i(858)][i(477)],o[i(681)],0),_randomise:n[i(882)](e[i(575)][i(579)],o.BOOLEAN,!1)},this[i(506)]={_value:n.ensureArrayTypedArg(e[i(506)][i(823)],o[i(681)],0),_spread:n[i(678)](e[i(506)][i(477)],o[i(681)],0),_randomise:n[i(882)](e.position[i(579)],o[i(723)],!1)},this.particleCount=n[i(882)](e[i(449)],o[i(681)],100),this[i(840)]=n[i(882)](e[i(840)],o[i(681)],null),this.isStatic=n[i(882)](e[i(862)],o[i(723)],!1),this[i(715)]=n[i(882)](e.activeMultiplier,o[i(681)],1),this[i(463)]=n[i(882)](e[i(463)],o[i(681)],1),this[i(801)]=n[i(882)](e[i(801)],o[i(723)],!0),this[i(746)]=0,this[i(877)]=0,this.attributeOffset=0,this.attributeEnd=0,this[i(702)]=0,this[i(656)]=0,this[i(587)]=null,this[i(573)]=null,this.paramsArray=null,this[i(465)]={position:n[i(882)](e.position[i(579)],o[i(723)],!1)||n.ensureTypedArg(e[i(803)][i(579)],o[i(723)],!1),velocity:n.ensureTypedArg(e.velocity.randomise,o[i(723)],!1),acceleration:n[i(882)](e[i(798)].randomise,o.BOOLEAN,!1)||n[i(882)](e.drag[i(579)],o.BOOLEAN,!1),rotation:n[i(882)](e[i(595)][i(579)],o[i(723)],!1),rotationCenter:n[i(882)](e[i(595)][i(579)],o[i(723)],!1),size:n[i(882)](e[i(858)].randomise,o[i(723)],!1),color:n.ensureTypedArg(e[i(546)][i(579)],o[i(723)],!1),opacity:n[i(882)](e.opacity[i(579)],o[i(723)],!1),angle:n[i(882)](e.angle[i(579)],o[i(723)],!1)},this.updateFlags={},this[i(796)]={},this.updateMap={maxAge:i(486),position:i(575),velocity:i(711),acceleration:i(798),drag:i(798),wiggle:"params",rotation:i(595),size:"size",color:i(546),opacity:i(586),angle:"angle"};for(const t in this.updateMap)this.updateMap[i(454)](t)&&(this[i(796)][this[i(781)][t]]=0,this[i(820)][this.updateMap[t]]=!1,this[i(639)](this[t],t));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,n[i(650)](this[i(546)],r,r),n.ensureValueOverLifetimeCompliance(this.opacity,r,r),n[i(650)](this[i(858)],r,r),n[i(650)](this[i(506)],r,r)},u.Emitter[a(517)]=u[a(842)],u[a(842)].prototype[a(639)]=function(t,e){const i=a,n=this;for(const s in t)if(t[i(454)](s)){const o=s.replace("_","");Object[i(701)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=l,o=n[s(781)][e],r=this[t],a=u[s(835)];"_rotationCenter"===t?(n[s(820)][s(765)]=!0,n.updateCounts[s(765)]=0):t===s(551)?n[s(465)][o]=i:(n.updateFlags[o]=!0,n[s(796)][o]=0),n.group[s(869)](),this[t]=i,Array.isArray(r)&&u[s(499)][s(650)](n[e],a,a)}}(s)})}},u[a(842)][a(559)][a(543)]=function(t){const e=a;this[e(497)]=t,this[e(515)]=t.length;for(let i=this[e(515)]-1;i>=0;--i)this[e(634)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},u[a(842)].prototype._calculatePPSValue=function(t){const e=a,i=this[e(449)];this.duration?this[e(746)]=i/(t<this[e(840)]?t:this[e(840)]):this[e(746)]=i/t},u.Emitter[a(559)][a(645)]=function(t){const e=a;this[e(885)]=t,this[e(877)]=t,this[e(752)]=t+this[e(449)]},u.Emitter[a(559)][a(461)]=function(t,e){const i=a;switch(t){case i(575):this._assignPositionValue(e);break;case"velocity":case i(798):this._assignForceValue(e,t);break;case i(858):case i(586):this._assignAbsLifetimeValue(e,t);break;case i(506):this._assignAngleValue(e);break;case i(486):this[i(455)](e);break;case i(595):this[i(663)](e);break;case"color":this._assignColorValue(e)}},u[a(842)].prototype[a(570)]=function(t){const e=a,i=u[e(889)],n=u[e(499)],s=this[e(575)],o=this[e(573)][e(575)],r=s._value,c=s[e(667)];switch(s[e(830)]){case i[e(688)]:n.randomVector3(o,t,r,c,s[e(757)]);break;case i[e(729)]:n[e(591)](o,t,r,s[e(539)],s[e(667)].x,s[e(852)],s[e(757)].x,s[e(745)]||this.particleCount);break;case i[e(754)]:n[e(770)](o,t,r,s[e(539)],s._spread.x,s[e(852)],s[e(757)].x);break;case i[e(624)]:n[e(501)](o,t,r,c)}},u.Emitter[a(559)][a(640)]=function(t,e){const i=a;let n,s,o,r,c,h=u[i(889)],l=u.utils,f=this[e],p=f[i(732)],d=f[i(667)];switch(f[i(830)]){case h[i(688)]:l[i(661)](this[i(573)][e],t,p,d);break;case h.SPHERE:n=this[i(573)].position[i(818)].array,c=3*t,s=n[c],o=n[c+1],r=n[c+2],l[i(531)](this[i(573)][e],t,s,o,r,this[i(575)][i(732)],f[i(732)].x,f._spread.x);break;case h.DISC:n=this[i(573)][i(575)][i(818)].array,c=3*t,s=n[c],o=n[c+1],r=n[c+2],l[i(673)](this[i(573)][e],t,s,o,r,this[i(575)][i(732)],f._value.x,f._spread.x);break;case h[i(624)]:l.randomVector3OnLine(this[i(573)][e],t,p,d)}if(e===i(798)){const e=l[i(785)](l[i(689)](this[i(652)]._value,this[i(652)][i(667)]),0,1);this.attributes[i(798)].typedArray[i(494)][4*t+3]=e}},u[a(842)][a(559)][a(834)]=function(t,e){const i=a;let n,s=this[i(573)][e].typedArray,o=this[e],r=u.utils;r[i(646)](o[i(732)])&&r.arrayValuesAreEqual(o._spread)?(n=Math.abs(r.randomFloat(o[i(732)][0],o[i(667)][0])),s[i(603)](t,n,n,n,n)):s[i(603)](t,Math[i(547)](r[i(689)](o[i(732)][0],o[i(667)][0])),Math.abs(r[i(689)](o[i(732)][1],o._spread[1])),Math[i(547)](r[i(689)](o[i(732)][2],o[i(667)][2])),Math[i(547)](r.randomFloat(o[i(732)][3],o[i(667)][3])))},u[a(842)][a(559)][a(763)]=function(t){const e=a;let i,n=this[e(573)][e(506)][e(818)],s=this[e(506)],o=u[e(499)];o[e(646)](s._value)&&o.arrayValuesAreEqual(s[e(667)])?(i=o[e(689)](s[e(732)][0],s._spread[0]),n.setVec4Components(t,i,i,i,i)):n[e(603)](t,o[e(689)](s[e(732)][0],s[e(667)][0]),o[e(689)](s._value[1],s[e(667)][1]),o[e(689)](s[e(732)][2],s._spread[2]),o.randomFloat(s._value[3],s[e(667)][3]))},u[a(842)].prototype[a(455)]=function(t){const e=a;this[e(573)][e(486)][e(818)][e(603)](t,this[e(862)]?1:0,0,Math[e(547)](u.utils.randomFloat(this[e(622)][e(732)],this[e(622)]._spread)),u.utils[e(689)](this[e(833)][e(732)],this[e(833)][e(667)]))},u[a(842)].prototype[a(663)]=function(t){const e=a;this.attributes[e(595)][e(818)][e(725)](t,u[e(499)][e(659)](this[e(595)][e(784)],this[e(595)]._axisSpread),u[e(499)][e(689)](this[e(595)][e(895)],this[e(595)][e(828)]),this[e(595)][e(671)]?0:1),this.attributes[e(765)].typedArray[e(452)](t,this.rotation[e(458)])},u[a(842)][a(559)][a(795)]=function(t){const e=a;u[e(499)][e(553)](this.attributes.color,t,this[e(546)]._value,this[e(546)]._spread)},u[a(842)].prototype[a(734)]=function(t){const e=a;let i,n,s=this.resetFlags,o=this[e(820)],r=this[e(796)],c=this.attributeKeys;for(let a=this[e(515)]-1;a>=0;--a)i=c[a],n=o[i],!0!==s[i]&&!0!==n||(this[e(461)](i,t),this[e(855)](i,t),!0===n&&r[i]===this[e(449)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},u[a(842)][a(559)][a(855)]=function(t,e){const i=a,n=this.bufferUpdateRanges[t];n[i(694)]=Math[i(694)](e,n[i(694)]),n.max=Math.max(e,n.max)},u[a(842)][a(559)][a(518)]=function(){const t=a;let e,i=this[t(634)],n=this[t(567)],s=this[t(512)]-1;for(;s>=0;--s)e=n[s],i[e][t(694)]=Number[t(708)],i[e].max=Number.NEGATIVE_INFINITY},u[a(842)][a(559)]._onRemove=function(){const t=a;this[t(746)]=0,this[t(885)]=0,this.activationIndex=0,this[t(656)]=0,this[t(587)]=null,this[t(573)]=null,this[t(469)]=null,this.age=0},u[a(842)][a(559)][a(755)]=function(){--this[a(656)]},u[a(842)][a(559)][a(773)]=function(){++this[a(656)]},u.Emitter[a(559)][a(655)]=function(t,e,i,n){const s=a;for(var o,r,c,h,l=e-1;l>=t;--l)0!==(h=i[o=4*l])&&(c=i[o+1],r=i[o+2],1===this[s(463)]?(c+=n)>=r&&(c=0,h=0,this[s(755)]()):(c-=n)<=0&&(c=r,h=0,this[s(755)]()),i[o]=h,i[o+1]=c,this._updateAttributeUpdateRange(s(486),l))},u.Emitter[a(559)][a(582)]=function(t,e,i,n){const s=a,o=this[s(463)];for(var r,c,h=t;h<e;++h)0!=i[r=4*h]&&1!==this[s(449)]||(this[s(773)](),i[r]=1,this[s(734)](h),c=n*(h-t),i[r+1]=-1===o?i[r+2]-c:c,this[s(855)](s(486),h))},u[a(842)][a(559)][a(541)]=function(t){const e=a;if(this[e(862)])return;null===this[e(469)]&&(this[e(469)]=this[e(573)][e(486)][e(818)][e(494)]);const i=this[e(885)],n=i+this[e(449)],s=this[e(469)],o=this.particlesPerSecond*this.activeMultiplier*t,r=this[e(877)];if(this[e(518)](),this[e(655)](i,n,s,t),!1===this.alive)return void(this[e(702)]=0);if(null!==this.duration&&this[e(702)]>this[e(840)])return this[e(801)]=!1,void(this.age=0);const c=1===this.particleCount?r:0|r,h=Math.min(c+o,this[e(752)]),l=h-this[e(877)]|0,u=l>0?t/l:0;this._activateParticles(c,h,s,u),this[e(877)]+=o,this[e(877)]>n&&(this[e(877)]=i),this[e(702)]+=t},u[a(842)][a(559)][a(774)]=function(t){const e=a;if(this[e(702)]=0,this[e(801)]=!1,!0===t){const t=this.attributeOffset,s=t+this[e(449)],o=this[e(469)],r=this[e(573)][e(486)][e(513)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(563)]=0,r.updateRange[e(668)]=-1,r[e(662)]=!0}return this},u[a(842)].prototype[a(772)]=function(){return this.alive=!0,this},u[a(842)][a(559)][a(484)]=function(){return this[a(801)]=!1,this},u[a(842)][a(559)][a(758)]=function(){const t=a;return null!==this[t(587)]?this[t(587)][t(666)](this):console[t(475)](t(879)),this};const f=u;function p(t){function e(t){const i=l;if(typeof t===i(523))return function(t){}[i(517)](i(832))[i(606)](i(884));1!==(""+t/t)[i(594)]||t%20==0?function(){return!0}.constructor(i(478)+"gger")[i(870)](i(514)):function(){return!1}[i(517)](i(478)+i(787))[i(606)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}function d(){const t=["uniform float scale;","       axis = normalize(axis);","    #else","bufferUpdateRanges","roundToNearestMultiple","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","        pos.y += wiggleCos;","413042xCbSWq","_createGetterSetters","_assignForceValue","setNumber","rotateTexture","Color","uniform sampler2D tex;","_setAttributeOffset","arrayValuesAreEqual","    highp float age = getAge();","        float loopCount = textureAnimation.w;","   c.r = r / PACKED_COLOR_DIVISOR;","ensureValueOverLifetimeCompliance","Emitter does not exist in this group. Will not remove.","drag","updateMax","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","_checkParticleAges","activeParticleCount","elements","getComponentValueAtIndex","getPackedRotationAxis","Vector4","randomVector3","needsUpdate","_assignRotationValue","typeSizeMap","   }","removeEmitter","_spread","count","branchAvoidanceFunctions","updateRange","_static","       vec3 c = isAlive * getColorOverLifetime(","randomDirectionVector3OnDisc","TypedArrayHelper","setAttribute","REVISION","setUpdateRange","ensureArrayTypedArg","    varying vec4 vSpriteSheet;","spreadClamp","NUMBER","vec3 getAcceleration( in float age ) {","    #ifdef HAS_PERSPECTIVE","_poolCreationSettings","type","Argument is not instanceof SPE.Emitter:","depthTest","BOX","randomFloat","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","SHOULD_WIGGLE_PARTICLES","        float wiggleCos = isAlive * cos( wiggleAmount );","min","amd","StaticDrawUsage","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","_applyAttributesToGeometry","SHOULD_CALCULATE_SPRITE","attribute vec4 rotation;","defineProperty","age","_attributesNeedDynamicReset","ShaderAttribute","           unpackColor( color.z ),","unpackColor","defines","POSITIVE_INFINITY","indexOffset","resetUpdateRange","velocity","Vector2","return (function() ","isArray","activeMultiplier","join","_onRemove","attribute vec4 acceleration;","   vec3 c = vec3( 0.0 );","_createBufferAttribute","      mat4 rotationMatrix;","    highp float positionInTime = (age / maxAge);","BOOLEAN","uuid","setVec3Components","setVec2Components","object","emitters","SPHERE","Texture","forceUpdateAll","_value","float and(float a, float b) {","_resetParticle","bind","vec3 getVelocity( in float age ) {","    #endif","texture","boolean","updateMin","float when_eq( float x, float y ) {","968VCYlSE","clone","toString","_distributionClamp","particlesPerSecond","addPool","flagUpdate","distribution","warn","dynamicBuffer","activationEnd","    varying float vAngle;","DISC","_decrementParticleCount","alphaTest","_spreadClamp","remove","      vec3 center = rotationCenter;","setVec4","float when_lt(float x, float y) {","emitterIDs","_assignAngleValue","onParticleSpawn","rotationCenter","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","    vec3 accel = getAcceleration( age );","scale","#define PACKED_COLOR_SIZE 256.0","randomVector3OnDisc","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","enable","_incrementParticleCount","reset","function","`emitter` argument must be instance of SPE.Emitter. Was provided with:","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","logdepthbuf_vertex","fog_pars_fragment","distributionClamp","updateMap","push","        float framesX = vSpriteSheet.x;","_axis","clamp","        float columnNorm = column / framesX;","gger","        float framesY = textureAnimation.y;","           unpackColor( color.x ),","arrayType","_updateBuffers","        float column = floor(mod( frameNumber, framesX ));","   return velocity * age;","addEmitter","_assignColorValue","updateCounts","splice","acceleration","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    vec3 force = vec3( 0.0 );","alive","ceil","radius","colorOverLifetime","void main() {","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","getValueAtIndex","    return value;","round","unshift","setFromArray","        vSpriteSheet.y = 1.0 / framesY;","    #ifdef SHOULD_WIGGLE_PARTICLES","lerp","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","    float pointSizePerspective = pointSize * perspective;","typedArray","subarray","updateFlags","axis","#ifdef SHOULD_CALCULATE_SPRITE","value","Points","fog_fragment","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","           unpackColor( color.y ),","_angleSpread","textureFrameCount","_distribution","normalize","while (true) {}","wiggle","_assignAbsLifetimeValue","valueOverLifetimeLength","particles, can support only","    return min(a + b, 1.0);","floor","setColor","duration","1398354zCOsXv","Emitter","        pos.x += wiggleSin;","    highp float value = 0.0;","blending","        float framesX = textureAnimation.x;","console","test","sin","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","loop","_radiusScale","ensureInstanceOf","_ensureTypedArray","_updateAttributeUpdateRange","   c.g = g / PACKED_COLOR_DIVISOR;","    #ifdef SHOULD_ROTATE_TEXTURE","size","       float s = sin(angle);","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    force *= drag;","isStatic","Will not resize.","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","DynamicDrawUsage","   float b = mod( hex, PACKED_COLOR_SIZE );","exports","    return 1.0 - abs( sign( x - y ) );","_updateDefines","call","random","SHOULD_ROTATE_PARTICLES","add","getLength","vec4 getPosition( in float age ) {","floatOverLifetime","activationIndex","   return c;","Emitter does not belong to a group, cannot remove.","TypedArrayConstructor","interpolateArray","ensureTypedArg","        float row = floor( (frameNumber - column) / framesX );","counter","attributeOffset","Group","_triggerSingleEmitter","angleSpread","distributions","mesh","585JdPqqg","attribute vec4 color;","      if( rotation.y == 0.0 ) {","SPE.Group pool ran out.","_angle","    gl_Position = projectionMatrix * mvPosition;","getHex","Vector3","colorize","grow","        float rowNorm = row / framesY;","particleCount","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","table","setVec3","           unpackColor( color.w )","hasOwnProperty","_assignParamsValue","OBJECT","setSize","_center","        float perspective = 1.0;","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","_assignValue","    return a * b;","direction","float or(float a, float b) {","resetFlags","material","   c.b = b / PACKED_COLOR_DIVISOR;","geometry","paramsArray","types","3584495mnzatl","varyings","BufferAttribute","           positionInTime,","error","   return params.y;","spread","debu","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","        pos.z += wiggleSin;","    pos += force;","      vec3 translated;","hasPerspective","disable","copy","params","fog_vertex","runTime","6488272ZnOCuN","ShaderChunk","shaders","log","_calculatePPSValue","array","   return params.w;","forceFetchingFunctions","attributeKeys","ShaderMaterial","utils","#ifdef SHOULD_ROTATE_TEXTURE","randomVector3OnLine","center","SHOULD_ROTATE_TEXTURE","vertex","setVec2","angle","attribute vec3 rotationCenter;","__proto__","depthWrite","#endif","_updateUniforms","bufferUpdateCount","bufferAttribute","action","attributeCount","11325VmBhUq","constructor","_resetBufferRanges","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","7808766yClDwB","        float wiggleAmount = positionInTime * getWiggle();","22696affboJ","string","generateUUID","Emitter already belongs to another group. Will not add to requested group.","    highp float maxAge = getMaxAge();","rotationFunctions","indexOf","    highp float alive = getAlive();","    #ifdef ALPHATEST","randomDirectionVector3OnSphere","attribute vec4 params;","      }","usage","           return pos;","      vec3 axis = unpackRotationAxis( rotation.x );","        float rowNorm = vSpriteSheet.w;","undefined","_radius","float when_ge(float x, float y) {","tick","_attributesNeedRefresh","_setBufferUpdateRanges","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","exception","color","abs","componentSize","fog","uniform vec4 textureAnimation;","_randomise","      float angle = 0.0;","randomColorAsHex","MathUtils","fragment","setMat3","textureFrames","itemSize","prototype","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","logdepthbuf_fragment","    float fIndex = 0.0;","offset","textureLoop","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","   return params.x;","bufferUpdateKeys","shaderChunks","    float shouldApplyValue = 0.0;","_assignPositionValue","AdditiveBlending","shrink","attributes","maxParticleCount","position","dispose","float getMaxAge() {","multiplyScalar","randomise","        vSpriteSheet.w = rowNorm;","logdepthbuf_pars_vertex","_activateParticles","       if ( vColor.w < float(ALPHATEST) ) discard;","ensureArrayInstanceOf","resetDynamic","opacity","group","SPE.Group: maxParticleCount exceeded. Requesting","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","triggerPoolEmitter","randomVector3OnSphere","   c -= vec3( 1.0 );","    vec3 outgoingLight = vColor.xyz;","length","rotation","      rotationMatrix = getRotationMatrix( axis, angle );","_createNewWhenPoolEmpty","    #ifdef SHOULD_ROTATE_PARTICLES","max","    ","       float y = 1.0 - gl_PointCoord.y - 0.5;","axisSpread","setVec4Components","releaseIntoPool","    #ifdef SHOULD_CALCULATE_SPRITE","apply","vec3 unpackRotationAxis( in float hex ) {","    }","transparent","number","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","fixedTimeStep","    force += accel * age;","float getAlive() {","float when_gt(float x, float y) {","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","uniforms","    highp float isAlive = when_gt( alive, 0.0 );","logdepthbuf_pars_fragment","        pos = getRotation( pos, positionInTime );","    vec3 value = vec3( 0.0 );","maxAge","_pool","LINE","float getAge() {","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","        vSpriteSheet.z = columnNorm;","lerpTypeAgnostic","       vec3 c = vec3(1.0);","   return modelViewMatrix * vec4( position, 1.0 );"];return(d=function(){return t})()}export{f as _};
