import{a as t,c as n,B as e,l as o,cc as r,C as s,ab as c}from"./three.Cqu7jvck1744075368226.js";import{z as i}from"./@fesjs.DVzkLEh_1744075368226.js";import{b as a}from"./@tresjs.DYJWvbJh1744075368226.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.Bnn-Sjcc1744075368226.js";function l(t,n){const e=_();return l=function(t,n){return e[t-=281]},l(t,n)}!function(){const t=l,n=_();for(;;)try{if(455932===parseInt(t(332))/1+-parseInt(t(329))/2+parseInt(t(345))/3+parseInt(t(317))/4+parseInt(t(322))/5+parseInt(t(297))/6+-parseInt(t(302))/7)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=l,n=new RegExp(t(335)),e=new RegExp(t(346),"i"),o=j(t(315));n.test(o+t(300))&&e[t(291)](o+"input")?j():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(286)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=l;let n;try{n=Function(t(324)+t(305)+");")()}catch(r){n=window}const e=n[t(299)]=n.console||{},o=["log","warn","info",t(327),"exception","table",t(282)];for(let s=0;s<o[t(307)];s++){const n=m[t(301)][t(318)][t(343)](m),r=o[s],c=e[r]||n;n.__proto__=m[t(343)](m),n[t(308)]=c[t(308)].bind(c),e[r]=n}}))();const h=(t,e=!1)=>{const o=l;t[o(351)]();const{max:r,min:s}=t[o(349)];t.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let n=0;n<t[o(338)][o(314)].count;n++)e?(a[o(339)]((t[o(338)][o(314)][o(292)](n)-(s.x+r.x)/2)/c),a[o(339)]((t[o(338)][o(314)][o(296)](n)-(s.y+r.y)/2)/i)):(a[o(339)]((t[o(338)][o(314)][o(292)](n)-s.x)/c),a[o(339)]((t[o(338)][o(314)][o(296)](n)-s.y)/i));const u=new Float32Array(a);t[o(294)]("uv",new n(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=l;i(t,{},{method:r(319),mergeRequest:!0,responseType:r(303)})[r(350)]((t=>{const o=r;n&&e(t[n]),e(t[o(304)])})).catch((t=>{console[r(327)](t),o(t)}))})),y=t=>{const n=l,e=(new(THREE[n(326)])).setFromObject(t),o=new THREE.Vector3;e[n(342)](o),t[n(281)][n(293)]((t=>{const e=n;t[e(314)][e(331)](o)})),t.position.copy(o[n(328)]())},w=()=>{const t=l;e[t(318)][t(333)]=u,e[t(318)][t(295)]=f,o[t(318)].raycast=p},x=async n=>{const e=l,o=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=n[e(309)].clone();h(i),i[e(333)]();const u=new r(i,{color:new s("#fff"),scale:20,flowDirection:new t(1,1),textureWidth:1024,textureHeight:1024,normalMap0:o[0],normalMap1:o[1]});return u[e(334)].transparent=!0,u[e(334)].depthWrite=!0,u[e(334)][e(285)]=!0,u[e(334)][e(287)]=c,u[e(334)][e(316)][e(323)][e(325)].w=20,u.material[e(316)][e(320)][e(325)]=.46,u};function b(n){const e=l,o=[];for(let s=0;s<n.length;s++)o[e(339)](new t(n[s].x,n[s].y));const r=new t;for(let t=0;t<o.length;t++)r[e(321)](o[t]);r[e(283)](o.length);for(let t=0;t<o[e(307)];t++)o[t][e(331)](r);return{points:o,centerPoint:r}}function j(t){function n(t){const e=l;if(typeof t===e(348))return function(t){}[e(301)]("while (true) {}")[e(286)](e(312));1!==(""+t/t).length||t%20==0?function(){return!0}[e(301)](e(344)+e(341)).call(e(311)):function(){return!1}[e(301)](e(344)+e(341)).apply(e(337)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function _(){const t=["push","set","gger","getCenter","bind","debu","2713308ojQvwy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","count","string","boundingBox","then","computeBoundingBox","children","trace","divideScalar","getSize","depthTest","apply","side","deleteAttribute","min","expandByObject","test","getX","forEach","setAttribute","disposeBoundsTree","getY","4616406abOdHX","random","console","chain","constructor","14370125aZBXPn","json","features",'{}.constructor("return this")( )',"applyMatrix4","length","toString","geometry","setY","action","counter","max","position","init","uniforms","167252AJQULR","prototype","get","reflectivity","add","4085005VijbSp","config","return (function() ","value","Box3","error","negate","915218XKWvjk","copy","sub","433765BkmxRI","computeBoundsTree","material","function *\\( *\\)","center","stateObject","attributes"];return(_=function(){return t})()}export{y as a,b as g,w as i,d as l,h as r,x as s};
