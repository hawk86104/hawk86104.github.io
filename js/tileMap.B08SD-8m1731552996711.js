import{_ as t,V as n,cz as e,C as o}from"./three.KG0QRRig1731552996711.js";import{P as r}from"./tweakpane.yHWGBmom1731552996711.js";import{m as s,e as i}from"./@tresjs.01P8tiuF1731552996711.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.ommMi05N1731552996711.js";import{d,a3 as h,w as g,o as j,D as w,u as b,X as x,r as v,e as y,j as I,g as M,f as C,al as _,m as z,F as B}from"./@vue.-THQH3GC1731552996711.js";import{_ as S}from"./raycasterEvent.o4KcOk231731552996711.js";import{a as k}from"./utils.R3jzr91_1731552996711.js";import"./@vueuse.YduQ9gvc1731552996711.js";import"./@mapbox.67qKuFZ91731552996711.js";import"./@amap.QHC596bA1731552996711.js";import"./three-mesh-bvh.dPsz5KU41731552996711.js";import"./three-custom-shader-material.B7Wbwjde1731552996711.js";import"./@fesjs.ffiiLppw1731552996711.js";import"./vue-router.4ictOE9I1731552996711.js";import"./lodash-es.kYt-_xTG1731552996711.js";import"./@qlin.yHhFDldE1731552996711.js";import"./pinia.Yf0ZNVo31731552996711.js";import"./vue-demi.C4xddsk91731552996711.js";import"./@floating-ui.BPbuo5Gx1731552996711.js";import"./@juggle.7yjBMqoW1731552996711.js";import"./@tweenjs.J1BAvmPw1731552996711.js";import"./utils.L-vmRhm51731552996711.js";import"./http.Pxix4fSb1731552996711.js";import"./axios.Ng308AU61731552996711.js";import"./color.6wSj0DYN1731552996711.js";import"./color-string.Xvbn1eQT1731552996711.js";import"./color-name.sXYmUnY41731552996711.js";import"./simple-swizzle.fM1Aq8LX1731552996711.js";import"./is-arrayish.qSfhfb9z1731552996711.js";import"./color-convert.YULESnJC1731552996711.js";import"./lodash.lFq9hU981731552996711.js";import"./naive-ui.FVLL-s3f1731552996711.js";import"./date-fns.dsKIdits1731552996711.js";import"./@css-render.xC4W56kT1731552996711.js";import"./seemly.SjiSeX2v1731552996711.js";import"./css-render.35Kc4XIi1731552996711.js";import"./@emotion.ZD_ZYAgY1731552996711.js";import"./vooks.sTczo3qu1731552996711.js";import"./evtd.DtfwxtIl1731552996711.js";import"./vueuc.TnjGb-Pz1731552996711.js";import"./vdirs.myw7HH071731552996711.js";import"./treemate.dcEdf2le1731552996711.js";import"./date-fns-tz.PJwlhEeM1731552996711.js";import"./async-validator.-YBkpS4I1731552996711.js";import"./d3-geo.SHqD-t_K1731552996711.js";import"./d3-array.E5C1cfJ61731552996711.js";const T=O;!function(t,n){const e=O,o=A();for(;;)try{if(246711===parseInt(e(348))/1+parseInt(e(314))/2+parseInt(e(376))/3+parseInt(e(320))/4+-parseInt(e(340))/5+parseInt(e(357))/6*(parseInt(e(380))/7)+parseInt(e(379))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(325)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=O,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(363),"i"),o=F(t(367));n[t(352)](o+"chain")&&e[t(352)](o+t(368))?F():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(325)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["domElement","debu","16644MOIaVX","position","error","innerHeight","source","bbox","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","tileMapMesh","camera","init","input","render",'{}.constructor("return this")( )',"set","string","filter","object","action","753570vOeTTs","exception","constructor","1104200MylXIO","364JCBtUU","update","gger","flatShading","opposite","showTileNo","#fff","coordType","trace","console","90126zdLuYs","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","abs","useWorker","monochrome","call","468356dqpcvJ","wireframe","log","value","lookAt","apply","toString","dampingFactor","far","tweenInstance","rotation","mapCenter","genSaturation","isMonochrome","primitive","info","showBoundingBox","enableDamping","__proto__","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","2294085mKOBTx","genBright","return (function() ","table","Color","counter","length","PerspectiveCamera","9913kHJUwI","innerWidth","genContrast","minDistance","test","Vector3","useStandardMaterial"];return(A=function(){return t})()}R(void 0,(function(){const t=O;let n;try{n=Function(t(342)+t(370)+");")()}catch(r){n=window}const e=n.console=n[t(313)]||{},o=[t(322),"warn",t(335),t(359),t(377),t(343),t(388)];for(let s=0;s<o[t(346)];s++){const n=R.constructor.prototype[t(364)](R),r=o[s],i=e[r]||n;n[t(338)]=R[t(364)](R),n.toString=i[t(326)][t(364)](i),e[r]=n}}))();const E=[T(374),T(330)];function O(t,n){const e=A();return(O=function(t,n){return e[t-=313]})(t,n)}const D=d({__name:T(365),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:T(386)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:f}){const d=T,x=r,{renderer:v,scene:y}=s();(new a)[d(387)]=c;const I=new u;I[d(361)]=d(315),I[d(387)]=c;const M=new p;M.source=d(339),M[d(385)]=!1,M[d(317)]=!0;const C=new l(I,M);if(C[d(336)]=!1,C[d(321)]=!1,C[d(383)]=!1,C[d(354)]=!1,C[d(373)]={opposite:x[d(384)],monochrome:x[d(333)]?{r:.299,g:.587,b:.114}:null,genBright:x[d(341)],genContrast:x[d(350)],genSaturation:x[d(332)]},x[d(318)]){let n=new(t[d(344)])(x[d(318)]);C[d(373)]&&(C[d(373)][d(318)]={r:n.r,g:n.g,b:n.b})}const _=new m;_.provider=C,_.bbox=x[d(362)],_.maxZoom=x.maxZoom;const z=new(t[d(347)])(60,window[d(349)]/window[d(360)],1,1e8);z.up=new(t[d(353)])(0,1,0),z[d(358)][d(371)](x[d(331)][0],x[d(331)][2],-x.mapCenter[1]),z[d(324)](new n(z[d(358)].x,0,z[d(358)].z-2e3)),_[d(366)]=z;let B=null;h((()=>{const t=d;v[t(323)]&&!B&&(B=new e(z,v[t(323)][t(355)]),B[t(337)]=!0,B[t(327)]=.05,B[t(351)]=600,B.position0.set(z[t(358)].x,z[t(358)].y,z[t(358)].z),B.target.set(z[t(358)].x,0,z.position.z-2e3))})),g((()=>[x[d(384)],x.isMonochrome,x.monochrome]),(([t,n,e])=>{const r=d;if(C.filter){let s=new o(e);C[r(373)][r(384)]=t,C[r(373)][r(318)]=n?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[x[d(341)],x[d(350)],x.genSaturation]),(([t,n,e])=>{const o=d;C[o(373)]&&(C[o(373)][o(341)]=t,C[o(373)][o(350)]=n,C[o(373)][o(332)]=e)}));const{onLoop:S}=i();return S((()=>{var t;const n=d;if(v[n(323)]){null==(t=x[n(329)])||t.update(),B&&B[n(381)](),_[n(381)]();const e=50*Math[n(316)](z[n(358)].y);z[n(328)]=e+5e3,z.updateProjectionMatrix(),v.value[n(369)](y.value,z)}})),f({camera:z,map:_,orbitControl:B}),(t,n)=>{const e=d;return j(),w(e(334),{object:b(_),rotation:[-Math.PI/2,0,0]},null,8,E)}}});function F(t){function n(t){const e=O;if(typeof t===e(372))return function(t){}.constructor("while (true) {}").apply(e(345));1!==(""+t/t)[e(346)]||t%20==0?function(){return!0}[e(378)](e(356)+e(382))[e(319)](e(375)):function(){return!1}.constructor(e(356)+e(382))[e(325)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=H;!function(t,n){const e=H,o=q();for(;;)try{if(328931===parseInt(e(369))/1*(-parseInt(e(378))/2)+parseInt(e(373))/3*(-parseInt(e(362))/4)+-parseInt(e(384))/5+-parseInt(e(380))/6*(-parseInt(e(382))/7)+parseInt(e(385))/8*(-parseInt(e(348))/9)+-parseInt(e(347))/10*(parseInt(e(337))/11)+parseInt(e(368))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=H,n=new RegExp(t(349)),e=new RegExp(t(381),"i"),o=K(t(371));n[t(393)](o+"chain")&&e[t(393)](o+t(375))?K():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(390)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(){const t=["Vector3","NoToneMapping","apply","tweenInstance","constructor","test","牛首山","while (true) {}","value","单色滤镜","debu","14212MFleXh","list","action","orbitControl","__proto__","length","string","新街口","tileMapMeshRef","exception","350KPZnrk","1397025OfyDMH","function *\\( *\\)","manual","opposite","genContrast","console","info","monochrome","prototype","addBlade","genBright","tileMapRef","addBinding","SRGBColorSpace","8672KmIQrl","return (function() ","tileMap","error","xjk","genSaturation","13440672iTAerJ","35ApnnZo","trace","init","camera","336XWMhcU","nss","input","#201919","bind","13174TwEjDH","对比度","6xtSZRd","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2485973qqRTaF","stateObject","810040zVCCBB","24tsBTKm","gger","counter"];return(q=function(){return t})()}function H(t,n){const e=q();return(H=function(t,n){return e[t-=332]})(t,n)}X(void 0,(function(){const t=H;let n;try{n=Function(t(363)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(353)]||{},o=["log","warn",t(354),t(365),t(346),"table",t(370)];for(let s=0;s<o[t(342)];s++){const n=X.constructor[t(356)].bind(X),r=o[s],i=e[r]||n;n[t(341)]=X[t(377)](X),n.toString=i.toString[t(377)](i),e[r]=n}}))();const J=d({__name:P(364),setup(n){const e=P,o=f(118.779958,32.017136),s=[o[0],o[1],5e3],i=x(),a=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:s,tweenInstance:null}),c=new r({title:"参数"});c[e(360)](a,e(351),{label:"反色"}),c.addBinding(a,e(358),{label:"高亮",min:.1,max:3,step:.1}),c[e(360)](a,e(352),{label:e(379),min:.1,max:3,step:.1}),c[e(360)](a,e(367),{label:"饱和度",min:.1,max:3,step:.1}),c.addBinding(a,"isMonochrome",{label:e(335)}),c[e(360)](a,e(355),{label:"滤镜颜色"});const u={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};c[e(357)]({view:e(338),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(344),value:e(366)},{text:e(332),value:e(374)}],value:"at"}).on("change",(n=>{const o=e,r=new(t[o(388)])(u[n[o(334)]][0],2e3,-u[n[o(334)]][1]);a[o(391)]=k(i.value.camera,r,i[o(334)][o(340)],[0,-300],4e3)}));const p=v({clearColor:e(376),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(350),outputColorSpace:t[e(361)],toneMapping:t[e(389)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(388)])(o[0],1600,-o[1]);a.tweenInstance=k(i[n(334)][n(372)],r,i.value.orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=y("TresCanvas");return j(),w(B,null,[I(r,z(p,{"window-size":""}),{default:M((()=>[(j(),C(_,null,{default:M((()=>[I(D,z(a,{ref_key:o(345),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(S,{tileMapRef:i[o(334)]},null,8,[o(359)])],64)}}});function K(t){function n(t){const e=H;if(typeof t===e(343))return function(t){}[e(392)](e(333))[e(390)](e(387));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(336)+e(386)).call(e(339)):function(){return!1}.constructor("debu"+e(386))[e(390)](e(383)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
