import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{_ as a}from"./@tresjs.B1f7s3pS1767066396612.js";import{i as t}from"./Resource.BqPJptsT1767066396612.js";import{b as l}from"./buildFlexiblePipe.4nO9hsJC1767066396612.js";const{defineComponent:r}=await e("vue"),{createElementVNode:n,openBlock:i,createElementBlock:s}=await e("vue"),o={renderOrder:9999},d=["args"],u=["color","side","map"],{watch:p,ref:c}=await e("vue"),m=await e("three"),f=r({__name:"flexiblePipe",props:{color:{default:"0xff0000"},radius:{default:.1},bodyLength:{default:2},headLength:{default:1},headAngle:{default:0},radialSegments:{default:16},tailAngle:{default:0},tailLength:{default:.5},filletRadius:{default:.3},speed:{default:.01}},setup(e){const r=e,f=c(new m.CurvePath);p(()=>[r.bodyLength,r.headLength,r.headAngle,r.tailAngle,r.tailLength,r.filletRadius,r.radialSegments],([e,a,t,r,n,i,s])=>{const o=e/2,d=new m.Vector3(0,0,-o),u=new m.Vector3(0,0,o),p=m.MathUtils.degToRad(t),c=new m.Vector3(Math.cos(p),Math.sin(p),0),g=u.clone().add(c.multiplyScalar(a)),h=m.MathUtils.degToRad(r),v=new m.Vector3(Math.cos(h),Math.sin(h),0),w=[d.clone().add(v.multiplyScalar(n)),d,u,g];f.value=l(w,i,s)},{immediate:!0}),t.getResource("TextureLoader","./plugins/digitalCity/image/line.png","line.png");const g=t.getReactiveItem("line.png"),h=c(null);p(g,e=>{e?.isTexture&&(h.value=e.clone(),h.value.wrapS=h.value.wrapT=m.RepeatWrapping,h.value.needsUpdate=!0)},{immediate:!0});const v=c(null),{onBeforeRender:w}=a();return w(()=>{h.value&&(h.value.offset.x-=r.speed)}),(e,a)=>(i(),s("TresMesh",o,[n("TresTubeGeometry",{args:[f.value,64,e.radius,e.radialSegments,!1]},null,8,d),n("TresMeshBasicMaterial",{ref_key:"tmsmRef",ref:v,color:e.color,metalness:.3,roughness:.5,side:m.DoubleSide,transparent:"",map:h.value?h.value:null},null,8,u)]))}});export{f as _};
