import{_ as t,a9 as n,b as e,cM as o}from"./three.LxxvsMJG1742205305014.js";import{P as r}from"./tweakpane.yDiyAAkA1742205305014.js";import{m as s,e as i}from"./@tresjs.nk0nhZ9a1742205305014.js";import{P as a,b as c,c as u,M as p,T as l,a as f,d as m}from"./index.aPJHbbqs1742205305014.js";import{d as g,a2 as h,w as d,o as w,H as b,u as j,v as x,r as y,e as v,j as I,g as C,m as M,F as _}from"./@vue.NRI7TcgI1742205305014.js";import{_ as B}from"./raycasterEvent.5DveAjiD1742205305014.js";import{a as z}from"./utils.hn15yb5R1742205305014.js";import"./postprocessing.lrLv6HE21742205305014.js";import"./@vueuse.w6JAmAgA1742205305014.js";import"./@mapbox.lMdYodhq1742205305014.js";import"./three-mesh-bvh.42xZtR7E1742205305014.js";import"./three-custom-shader-material.8lD1n5aS1742205305014.js";import"./@fesjs.mYnJ5o7u1742205305014.js";import"./vue-router.AZQHMbAd1742205305014.js";import"./lodash-es.pklfUAS51742205305014.js";import"./@qlin.yHhFDldE1742205305014.js";import"./pinia.tbzukF_x1742205305014.js";import"./@floating-ui.BPbuo5Gx1742205305014.js";import"./@juggle.7yjBMqoW1742205305014.js";import"./@tweenjs.J1BAvmPw1742205305014.js";import"./utils.g9fyc8be1742205305014.js";import"./d3-geo.PnyDo-qb1742205305014.js";import"./d3-array.AhNJy1f41742205305014.js";import"./http.PY7nP1ez1742205305014.js";import"./axios.qd3pZFDv1742205305014.js";import"./color.XS5ycgfV1742205305014.js";import"./@amap.sbhX68WO1742205305014.js";import"./color-string.FVnt2Zi_1742205305014.js";import"./color-name.WBusUKkj1742205305014.js";import"./simple-swizzle.jL2gnZho1742205305014.js";import"./is-arrayish.rtjcdRt81742205305014.js";import"./color-convert.eNLOi5U31742205305014.js";import"./lodash.Eo1rjc041742205305014.js";function S(){const t=["update","trace","1116795NHAZEh","6185742bhTwJv","set","apply","value","maxZoom","genBright","126466giqdQK","camera","position0","genContrast","innerWidth","return (function() ","gger","__proto__","render","opposite","isMonochrome","innerHeight","warn","useWorker","monochrome","length","call","string","console","action","abs","rotation","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","primitive","chain","prototype","info","enableDamping","mapCenter","error","test","toString","showTileNo","bbox","constructor","input","Vector3","Color","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","object","36599886YoRSbG","8CGdWlL","filter","source","coordType","3799640TnYFWW","bind","flatShading","position","exception","minDistance","counter",'{}.constructor("return this")( )',"wireframe","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","useStandardMaterial","tweenInstance","genSaturation","178689QCNQvL","7379870hxZinT","8vimser","updateProjectionMatrix","#fff","tileMapMesh"];return(S=function(){return t})()}const k=E;!function(t,n){const e=E,o=S();for(;;)try{if(768939===-parseInt(e(499))/1*(-parseInt(e(486))/2)+-parseInt(e(492))/3+-parseInt(e(544))/4+-parseInt(e(485))/5+-parseInt(e(493))/6+parseInt(e(484))/7+-parseInt(e(540))/8*(-parseInt(e(539))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(495)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=E,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(479),"i"),o=W("init");n.test(o+t(523))&&e[t(529)](o+t(534))?W():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(504)+t(477)+");")()}catch(e){n=window}return n}(),e=n[t(517)]=n[t(517)]||{},o=["log",t(511),t(525),t(528),t(474),"table",t(491)];for(let r=0;r<o[t(514)];r++){const n=T[t(533)][t(524)][t(545)](T),s=o[r],i=e[s]||n;n[t(506)]=T[t(545)](T),n.toString=i[t(530)][t(545)](i),e[s]=n}}))();const A=[k(538),k(520)];function E(t,n){const e=S();return(E=function(t,n){return e[t-=472]})(t,n)}const Z=g({__name:k(489),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(488)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:m}){const g=k,x=r,{renderer:y,scene:v}=s(),I=new a;I.coordType=c;const C=new u;C[g(542)]=g(521),C[g(543)]=c;const M=new p;M[g(542)]=g(537),M[g(531)]=!1,M[g(512)]=!0;const _=new l(I,M);if(_.showBoundingBox=!1,_[g(478)]=!1,_[g(472)]=!1,_[g(481)]=!1,_[g(541)]={opposite:x.opposite,monochrome:x[g(509)]?{r:.299,g:.587,b:.114}:null,genBright:x[g(498)],genContrast:x.genContrast,genSaturation:x.genSaturation},x[g(513)]){let n=new(t[g(536)])(x[g(513)]);_.filter&&(_[g(541)][g(513)]={r:n.r,g:n.g,b:n.b})}const B=new f;B.provider=_,B[g(532)]=x[g(532)],B[g(497)]=x[g(497)];const z=new n(60,window[g(503)]/window[g(510)],1,1e8);z.up=new(t[g(535)])(0,1,0),z[g(473)][g(494)](x.mapCenter[0],x[g(527)][2],-x.mapCenter[1]),z.lookAt(new e(z[g(473)].x,0,z[g(473)].z-2e3)),B[g(500)]=z;let S=null;h((()=>{const t=g;y[t(496)]&&!S&&(S=new o(z,y[t(496)].domElement),S[t(526)]=!0,S.dampingFactor=.05,S[t(475)]=600,S[t(501)].set(z[t(473)].x,z[t(473)].y,z.position.z),S.target[t(494)](z[t(473)].x,0,z[t(473)].z-2e3))})),d((()=>[x[g(508)],x[g(509)],x.monochrome]),(([n,e,o])=>{const r=g;if(_[r(541)]){let s=new(t[r(536)])(o);_[r(541)][r(508)]=n,_[r(541)].monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),d((()=>[x[g(498)],x[g(502)],x[g(483)]]),(([t,n,e])=>{const o=g;_[o(541)]&&(_[o(541)][o(498)]=t,_[o(541)][o(502)]=n,_[o(541)][o(483)]=e)}));const{onLoop:R}=i();return R((()=>{var t;const n=g;if(y[n(496)]){null==(t=x[n(482)])||t[n(490)](),S&&S[n(490)](),B[n(490)]();const e=50*Math[n(519)](z[n(473)].y);z.far=e+5e3,z[n(487)](),y[n(496)][n(507)](v.value,z)}})),m({camera:z,map:B,orbitControl:S}),(t,n)=>{const e=g;return w(),b(e(522),{object:j(B),rotation:[-Math.PI/2,0,0]},null,8,A)}}});function W(t){function n(t){const e=E;if(typeof t===e(516))return function(t){}.constructor("while (true) {}").apply(e(476));1!==(""+t/t)[e(514)]||t%20==0?function(){return!0}.constructor(e(480)+e(505))[e(515)](e(518)):function(){return!1}[e(533)](e(480)+"gger")[e(495)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=L,o=N();for(;;)try{if(729471===parseInt(e(455))/1+-parseInt(e(500))/2+-parseInt(e(441))/3+-parseInt(e(440))/4+parseInt(e(445))/5*(parseInt(e(461))/6)+-parseInt(e(444))/7*(-parseInt(e(466))/8)+parseInt(e(482))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=L,n=new RegExp(t(496)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y(t(453));n[t(493)](o+t(492))&&e.test(o+t(457))?Y():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=N();return(L=function(t,n){return e[t-=439]})(t,n)}function N(){const t=["NoToneMapping","nss","xjk","constructor","genContrast","bind","camera","chain","test","console","gger","function *\\( *\\)","string","log","Vector3","1773388zABFVA","value","tileMapRef","5517172uatcoG","484146CBkoQh","info","对比度","249109Nudlhn","10EwCYfZ","addBinding","monochrome","change","饱和度","trace","orbitControl","return (function() ","init","genBright","1160095tVXUuA","while (true) {}","input","__proto__","debu","牛首山","2026032BRGfoW","奥体中心","action","error","stateObject","104nCnyYR","warn","tileMapMeshRef","table","#4688b5",'{}.constructor("return this")( )',"call","prototype","SRGBColorSpace","exception","tweenInstance","TresCanvas","#201919","apply","list","toString","7728930oaGkhy","新街口","length"];return(N=function(){return t})()}G(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(452)+t(471)+");")()}catch(e){n=window}return n}(),e=n[t(494)]=n.console||{},o=[t(498),t(467),t(442),t(464),t(475),t(469),t(450)];for(let r=0;r<o[t(484)];r++){const n=G[t(488)][t(473)].bind(G),s=o[r],i=e[s]||n;n[t(458)]=G.bind(G),n[t(481)]=i[t(481)][t(490)](i),e[s]=n}}))();const Q=g({__name:"tileMap",setup(n){const e=L,o=m(118.779958,32.017136),s=[o[0],o[1],5e3],i=x(),a=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(470),mapCenter:s,tweenInstance:null}),c=new r({title:"参数"});c[e(446)](a,"opposite",{label:"反色"}),c.addBinding(a,e(454),{label:"高亮",min:.1,max:3,step:.1}),c[e(446)](a,e(489),{label:e(443),min:.1,max:3,step:.1}),c[e(446)](a,"genSaturation",{label:e(449),min:.1,max:3,step:.1}),c[e(446)](a,"isMonochrome",{label:"单色滤镜"}),c.addBinding(a,e(447),{label:"滤镜颜色"});const u={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c.addBlade({view:e(480),label:"飞去",options:[{text:e(462),value:"at"},{text:e(483),value:e(487)},{text:e(460),value:e(486)}],value:"at"}).on(e(448),(n=>{const o=e,r=new(t[o(499)])(u[n[o(501)]][0],2e3,-u[n[o(501)]][1]);a.tweenInstance=z(i.value[o(491)],r,i[o(501)][o(451)],[0,-300],4e3)}));const p=y({clearColor:e(478),antialias:!0,logarithmicDepthBuffer:!0,renderMode:"manual",outputColorSpace:t[e(474)],toneMapping:t[e(485)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(499)])(o[0],1600,-o[1]);a[n(476)]=z(i[n(501)][n(491)],r,i[n(501)][n(451)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v(o(477));return w(),b(_,null,[I(r,M(p,{"window-size":""}),{default:C((()=>[I(Z,M(a,{ref_key:o(468),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1},16),I(B,{tileMapRef:i.value},null,8,[o(439)])],64)}}});function Y(t){function n(t){const e=L;if(typeof t===e(497))return function(t){}[e(488)](e(456))[e(479)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(459)+"gger")[e(472)](e(463)):function(){return!1}[e(488)]("debu"+e(495))[e(479)](e(465)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
