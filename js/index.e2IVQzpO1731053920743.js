var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.m90VcbWv1731053920743.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.P8D0Wsg11731053920743.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.zvLkagaB1731053920743.js";import{k as o,U as s,C as l,m as c,W as u,bb as p,h as f,_ as x,A as v,V as m,M as h}from"./three.eGpwEcxC1731053920743.js";import{m as w,e as g}from"./@tresjs.hJVQLtpa1731053920743.js";import{u as d}from"./index.m4EhFlZy1731053920743.js";import{F as S,C as y}from"./three-stdlib.6SZFIoWk1731053920743.js";import{d as _}from"./@vue.u2cBPEWn1731053920743.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.o8NcsPS21731053920743.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.Ma59K22X1731053920743.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.RkzIl_-K1731053920743.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.IEzz3KAQ1731053920743.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.uYiXQRJU1731053920743.js";const P=I;function z(){const t=["446427aninwo","toString","console","bind","2751258lbiOul","prototype","while (true) {}","init","1934lfOCXe","call","test","string","action","table","120guqhIm","5504065BjniIr","trace","5990812nLeBaL",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"4947129aeIEUo","function *\\( *\\)","debu","return (function() ","603oSZDNk","log","gger","exception","length","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","error","apply","6392090UpCDoF","constructor"];return(z=function(){return t})()}!function(t,e){const n=I,i=z();for(;;)try{if(868934===-parseInt(n(193))/1*(parseInt(n(213))/2)+parseInt(n(189))/3+parseInt(n(187))/4+-parseInt(n(203))/5+-parseInt(n(209))/6+parseInt(n(185))/7+-parseInt(n(184))/8*(parseInt(n(205))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(202)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(t,e){const n=z();return(I=function(t,e){return n[t-=182]})(t,e)}!function(){b(this,(function(){const t=I,e=new RegExp(t(190)),n=new RegExp(t(199),"i"),i=M(t(212));e[t(215)](i+"chain")&&n[t(215)](i+t(198))?M():i("0")}))()}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(202)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();E(void 0,(function(){const t=I,e=function(){const t=I;let e;try{e=Function(t(192)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(207)]=e[t(207)]||{},i=[t(194),t(200),"info",t(201),t(196),t(183),t(186)];for(let r=0;r<i[t(197)];r++){const e=E[t(204)][t(210)][t(208)](E),a=i[r],o=n[a]||e;e.__proto__=E.bind(E),e[t(206)]=o.toString.bind(o),n[a]=e}}))();const A=P(188);function M(t){function e(t){const n=I;if(typeof t===n(216))return function(t){}[n(204)](n(211))[n(202)]("counter");1!==(""+t/t)[n(197)]||t%20==0?function(){return!0}[n(204)](n(191)+"gger")[n(214)](n(182)):function(){return!1}.constructor(n(191)+n(195)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=O;!function(t,e){const n=O,i=N();for(;;)try{if(493687===parseInt(n(207))/1+parseInt(n(229))/2+-parseInt(n(221))/3*(parseInt(n(220))/4)+parseInt(n(202))/5+-parseInt(n(200))/6+parseInt(n(222))/7*(parseInt(n(230))/8)+-parseInt(n(199))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(204)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){D(this,(function(){const t=O,e=new RegExp(t(212)),n=new RegExp(t(225),"i"),i=j(t(228));e[t(223)](i+t(233))&&n[t(223)](i+t(210))?j():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(204)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(t,e){const n=N();return(O=function(t,e){return n[t-=196]})(t,e)}function V(t){const e=O,n=a({},t);return e(226)in t&&(n[e(226)]=a({},t[e(226)])),"uniforms"in t&&(n.uniforms=s[e(203)](t[e(213)])),n}U(void 0,(function(){const t=O,e=function(){const t=O;let e;try{e=Function(t(219)+t(217)+");")()}catch(n){e=window}return e}(),n=e[t(215)]=e[t(215)]||{},i=[t(196),"warn","info",t(209),t(198),t(234),t(208)];for(let r=0;r<i.length;r++){const e=U.constructor[t(216)].bind(U),a=i[r],o=n[a]||e;e[t(218)]=U[t(227)](U),e.toString=o[t(224)][t(227)](o),n[a]=e}}))();const T={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+A+L(231)};function j(t){function e(t){const n=O;if(typeof t===n(206))return function(t){}[n(205)]("while (true) {}")[n(204)](n(214));1!==(""+t/t)[n(197)]||t%20==0?function(){return!0}[n(205)](n(211)+n(232))[n(235)](n(201)):function(){return!1}.constructor("debu"+n(232))[n(204)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function N(){const t=["input","debu","function *\\( *\\)","uniforms","counter","console","prototype",'{}.constructor("return this")( )',"__proto__","return (function() ","37804uOKokk","255ZkFmbv","208537AmtJod","test","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defines","bind","init","39486maJONz","80gpAosh","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","gger","chain","table","call","log","length","exception","454320iMVXPz","232434dUIFNz","action","4637610NwNjJF","clone","apply","constructor","string","141066GymVAR","trace","error"];return(N=function(){return t})()}const k=W;!function(t,e){const n=W,i=C();for(;;)try{if(678477===-parseInt(n(174))/1*(parseInt(n(218))/2)+-parseInt(n(206))/3+parseInt(n(221))/4+parseInt(n(153))/5+-parseInt(n(178))/6*(parseInt(n(150))/7)+-parseInt(n(172))/8*(parseInt(n(166))/9)+parseInt(n(187))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(152)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=W,e=new RegExp(t(204)),n=new RegExp(t(173),"i"),i=X(t(154));e.test(i+"chain")&&n[t(189)](i+t(197))?X():i("0")}))()}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(152)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(){const t=["debu","X_IS_EVEN","setClearAlpha","toString","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","tDiffuse","warn","action","getRenderTarget","originalMapSize","setRenderTarget","45QMZbOP","console","_copyQuad","parentMapSize","setViewOffset","setClearColor","1006840aPKeta","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6608BzjGdA","gger","string","info","16536aZBlKn","image","copy","defines","type","counter","log","getClearColor","update","18263340ndLEOX","camera","test","minFilter","value","floorPowerOfTwo","call","prototype","constructor","__proto__","input","bind","_swapTarget","_mipQuad","render","height","Y_IS_EVEN","function *\\( *\\)","parentLevel","3360783hkDjhs","uniforms","material","texture","autoClear","dispose","return (function() ","map","stateObject","trace","_mipMaterials","width","154eEbPFu","fragmentShader","magFilter","4740948ADiNSw","error","forEach","floor","clear","length","set","while (true) {}",'{}.constructor("return this")( )',"315IREUFB","getClearAlpha","apply","246390WppqLu","init"];return(C=function(){return t})()}function W(t,e){const n=C();return(W=function(t,e){return n[t-=146]})(t,e)}F(void 0,(function(){const t=W;let e;try{e=Function(t(212)+t(149)+");")()}catch(r){e=window}const n=e[t(167)]=e[t(167)]||{},i=[t(184),t(161),t(177),t(222),"exception","table",t(215)];for(let a=0;a<i[t(146)];a++){const e=F[t(195)][t(194)][t(198)](F),r=i[a],o=n[r]||e;e[t(196)]=F[t(198)](F),e[t(158)]=o[t(158)].bind(o),n[r]=e}}))();const Z=new l;class H{constructor(t){const e=W;!t&&(t=e(159));const n=V(T);n[e(219)]=n.fragmentShader.replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(V(n)),i[0][e(181)][e(156)]=0,i[0][e(181)][e(203)]=0,i[1]=new c(V(n)),i[1][e(181)][e(156)]=1,i[1].defines.Y_IS_EVEN=0,i[2]=new c(V(n)),i[2][e(181)].X_IS_EVEN=0,i[2][e(181)].Y_IS_EVEN=1,i[3]=new c(V(n)),i[3][e(181)].X_IS_EVEN=1,i[3].defines[e(203)]=1;const r=new u;r[e(209)][e(190)]=p,r.texture[e(220)]=p,this[e(199)]=r,this[e(168)]=new S(new c(y)),this[e(200)]=new S(null),this[e(216)]=i}[k(186)](t,e,n,i=!1){const r=k;t.isWebGLRenderTarget&&(t=t[r(209)]);const o=n.autoClear,s=n[r(151)](),l=n[r(163)]();n[r(185)](Z);const c=this._copyQuad,u=this[r(200)],p=this[r(199)],x=this[r(216)];let v,m;i?(v=f[r(192)](t.image.width),m=f[r(192)](t[r(179)][r(202)])):(v=Math[r(224)](t[r(179)][r(217)]),m=Math[r(224)](t[r(179)][r(202)]));const h=Math[r(224)](1.5*v),w=Math.floor(m);e.setSize(h,w),p[r(209)][r(182)]!==e.texture[r(182)]?(p[r(211)](),p[r(180)](e),p[r(209)][r(179)]=a({},p[r(209)][r(179)])):p.setSize(h,w),n[r(210)]=!1,n.setClearColor(0),n[r(157)](),c[r(208)][r(207)][r(160)].value=t,c[r(188)][r(170)](v,m,0,0,h,w),n.setRenderTarget(e),n.clear(),c[r(201)](n),n[r(165)](p),n[r(225)](),c[r(201)](n);let g=v,d=m,S=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(213)][r(191)]=p[r(209)],t.uniforms[r(205)].value=S,t[r(207)][r(169)][r(191)][r(147)](g,d),t[r(207)][r(164)][r(191)][r(147)](v,m),u.material=t,g=Math[r(224)](g/2),d=Math[r(224)](d/2);const i=w-2*d;n[r(165)](e),u[r(188)].setViewOffset(g,d,-v,-i,h,w),u[r(201)](n),n[r(165)](p),t[r(207)][r(213)][r(191)]=e.texture,u[r(201)](n),S++}return n[r(165)](l),n[r(157)](s),n[r(171)](Z),n[r(210)]=o,S+1}[k(211)](){const t=k;this[t(199)][t(211)](),this[t(200)][t(211)](),this[t(168)].dispose(),this._mipMaterials[t(223)]((e=>e[t(211)]()))}}function X(t){function e(t){const n=W;if(typeof t===n(176))return function(t){}.constructor(n(148))[n(152)](n(183));1!==(""+t/t).length||t%20==0?function(){return!0}[n(195)](n(155)+n(175))[n(193)](n(162)):function(){return!1}[n(195)](n(155)+"gger")[n(152)](n(214)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const B=G;function G(t,e){const n=Q();return(G=function(t,e){return n[t-=158]})(t,e)}!function(t,e){const n=G,i=Q();for(;;)try{if(632071===-parseInt(n(192))/1*(-parseInt(n(205))/2)+parseInt(n(228))/3*(-parseInt(n(166))/4)+parseInt(n(169))/5+-parseInt(n(203))/6+parseInt(n(210))/7*(parseInt(n(219))/8)+-parseInt(n(204))/9*(-parseInt(n(191))/10)+-parseInt(n(231))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[G(199)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){const t=G,e=new RegExp(t(217)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=J(t(227));e[t(208)](i+t(222))&&n[t(208)](i+t(186))?J():i("0")}))()}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[G(199)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Q(){const t=["depth","copy","4938276kJxnPE","495ntAATL","28ezaZNx","toString","constant","test","Quaternion","42gyfBrv","table","position","log","visible","__proto__","length","function *\\( *\\)","gger","1653752UNJIqG","Matrix4","add","chain","reflect","UnsignedByteType","counter","buffers","init","230007TTXTAK","error","while (true) {}","7444998nSVAIU","projectPoint","getWorldQuaternion","matrixWorld","console","applyMatrix4","set","call","projectionMatrix","clone","resolution","Plane","updateMatrixWorld","multiply","40KSHMsX","value","matrixWorldInverse","4732875KBEths","ignoreObjects","dot","sign","forEach","normal","sub","trace","debu","applyQuaternion","parent","reflectorMipMap","update","Vector3","PerspectiveCamera","render","setMask","input","elements","bind","exception","clear","72620RKhfhW","22309yapqMq","getWorldPosition","constructor","info","negate","return (function() ","Vector4","apply","setRenderTarget"];return(Q=function(){return t})()}$(void 0,(function(){const t=G,e=function(){const t=G;let e;try{e=Function(t(197)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(235)]=e[t(235)]||{},i=[t(213),"warn",t(195),t(229),t(189),t(211),t(176)];for(let r=0;r<i[t(216)];r++){const e=$[t(194)].prototype[t(188)]($),a=i[r],o=n[a]||e;e[t(215)]=$[t(188)]($),e[t(206)]=o[t(206)].bind(o),n[a]=e}}))();const K=_({__name:B(180),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=B,i=t,r=new(x[n(163)]),a=new(x[n(220)]),o=new(x[n(183)]),s=new H,l=d({width:i.resolution,height:i[n(162)],settings:{type:v}}),c=d({width:i.resolution,height:i[n(162)],settings:{type:x[n(224)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:S}=g();return S((()=>{const t=n;(()=>{const t=n;if(!u[t(167)])return;r[t(158)](new(x[t(182)])(0,1,0),0),r[t(236)](i[t(179)][t(234)]),o[t(202)](u[t(167)]);const e=new(x[t(182)])(0,0,1)[t(161)]()[t(196)](),s=u[t(167)][t(193)](new(x[t(182)]));e[t(223)](r[t(174)]);const c=new(x[t(182)]);r[t(232)](s,c);const v=c[t(161)]();v[t(175)](s),v[t(221)](c),o[t(212)][t(202)](v);const w=new m(0,0,-1);w[t(178)](u[t(167)][t(233)](new(x[t(209)]))),w[t(221)](s);const g=new(x[t(182)]);i[t(179)][t(193)](g),g[t(175)](w),g[t(223)](r[t(174)])[t(196)](),g[t(221)](i[t(179)][t(193)](new(x[t(182)]))),o.up[t(158)](0,1,0),o[t(178)](u.value[t(233)](new(x[t(209)]))),o.up[t(223)](r[t(174)]),o.lookAt(g),o[t(164)]();const d=new h;d[t(158)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(165)](o[t(160)]),d.multiply(o[t(168)]),a[t(202)](d),r[t(236)](o.matrixWorldInverse);const S=new(x[t(198)])(r.normal.x,r[t(174)].y,r[t(174)].z,r[t(207)]),y=o[t(160)],_=new(x[t(198)]);_.x=(Math[t(172)](S.x)+y.elements[8])/y[t(187)][0],_.y=(Math[t(172)](S.y)+y[t(187)][9])/y.elements[5],_.z=-1,_.w=(1+y[t(187)][10])/y[t(187)][14],S.multiplyScalar(2/S[t(171)](_)),y.elements[2]=S.x,y[t(187)][6]=S.y,y.elements[10]=S.z+1,y[t(187)][14]=S.w;const P=p[t(167)].getRenderTarget();p[t(167)][t(200)](l[t(167)]),p[t(167)].state[t(226)][t(201)][t(185)](!0),!1===p[t(167)].autoClear&&p[t(167)][t(190)](),i[t(170)][t(173)]((e=>e[t(214)]=!1)),p[t(167)][t(184)](f[t(167)],o),i[t(170)][t(173)]((t=>t.visible=!0)),p.value.setRenderTarget(P)})(),l[t(167)]&&c.value&&p[t(167)]&&s[t(181)](l[t(167)].texture,c[t(167)],p[t(167)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(t){function e(t){const n=G;if("string"==typeof t)return function(t){}.constructor(n(230))[n(199)](n(225));1!==(""+t/t)[n(216)]||t%20==0?function(){return!0}.constructor(n(177)+n(218))[n(159)]("action"):function(){return!1}[n(194)](n(177)+n(218)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=et,i=nt();;)try{if(120879===parseInt(n(402))/1+parseInt(n(434))/2+-parseInt(n(420))/3*(parseInt(n(421))/4)+parseInt(n(436))/5*(-parseInt(n(428))/6)+parseInt(n(413))/7*(parseInt(n(406))/8)+-parseInt(n(415))/9*(-parseInt(n(437))/10)+-parseInt(n(438))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(412)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){var t=et,e=new RegExp(t(432)),n=new RegExp(t(418),"i"),i=it("init");e.test(i+t(422))&&n.test(i+t(419))?it():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(412)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(t,e){var n=nt();return(et=function(t,e){return n[t-=402]})(t,e)}function nt(){var t=["call","info","__proto__","while (true) {}","6TxkDBS","console","bind","constructor","function *\\( *\\)","prototype","478710fPiItJ","warn","371510fwYcwl","1530990sPYucW","2317447tchNYA","116743zVRIIZ","stateObject","toString","table","408QEBXaL",'{}.constructor("return this")( )',"exception","debu","length","trace","apply","16793VoASFO","gger","9Soexcd","counter","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","6OwgGzP","451376WiAHFQ","chain","log"];return(nt=function(){return t})()}function it(t){function e(t){var n=et;if("string"==typeof t)return function(t){}[n(431)](n(427))[n(412)](n(416));1!==(""+t/t).length||t%20==0?function(){return!0}[n(431)](n(409)+n(414))[n(424)]("action"):function(){return!1}[n(431)](n(409)+n(414))[n(412)](n(403)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=et,e=function(){var t,e=et;try{t=Function("return (function() "+e(407)+");")()}catch(n){t=window}return t}(),n=e[t(429)]=e[t(429)]||{},i=[t(423),t(435),t(425),t(417),t(408),t(405),t(411)],r=0;r<i[t(410)];r++){var a=tt[t(431)][t(433)][t(430)](tt),o=i[r],s=n[o]||a;a[t(426)]=tt[t(430)](tt),a[t(404)]=s[t(404)][t(430)](s),n[o]=a}}))();export{K as _};
