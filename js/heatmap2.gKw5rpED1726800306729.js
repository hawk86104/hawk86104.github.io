import{P as t}from"./tweakpane.yHWGBmom1726800306729.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.Bwu_0uFQ1726800306729.js";import{_ as r}from"./heatmap.js-fix.sViJCO6m1726800306729.js";import{h as i,_ as c,bY as s,M as u}from"./three.ZddO3ejJ1726800306729.js";import{r as a}from"./utils.9aC0o5aL1726800306729.js";import{d as p}from"./pinia.sgFdRj_31726800306729.js";import{b as f,d as l,a3 as h,o as d,E as g,L as m,u as y,F as v,q as b,V as I,O as w,Q as _,I as j,M as x,a4 as S,r as k,j as E,g as D,m as L}from"./@vue.bvMz0l_u1726800306729.js";import{c as M,d as P,a as O}from"./three-mesh-bvh.iupZHg7-1726800306729.js";import{_ as R}from"./@fesjs.ZmXcHXlr1726800306729.js";import"./@tresjs.pv1MNfNv1726800306729.js";import"./@vueuse.bZHkTEeA1726800306729.js";import"./three-custom-shader-material.qYXdA-3z1726800306729.js";import"./object-hash.4nPceUw51726800306729.js";import"./@amap.soyOEMuN1726800306729.js";import"./jszip.1BnN4Vdj1726800306729.js";import"./glsl-tokenizer.0YDyBMML1726800306729.js";import"./glsl-token-string.ZdNsnbc61726800306729.js";import"./glsl-token-functions.dtMvnwCZ1726800306729.js";import"./vue-router.IQrzWmDn1726800306729.js";import"./lodash-es.guXTxyfJ1726800306729.js";import"./@qlin.yHhFDldE1726800306729.js";import"./@floating-ui.BPbuo5Gx1726800306729.js";import"./@juggle.7yjBMqoW1726800306729.js";!function(t,n){const e=Q,o=A();for(;;)try{if(898048===parseInt(e(319))/1+-parseInt(e(333))/2*(parseInt(e(345))/3)+-parseInt(e(359))/4*(-parseInt(e(351))/5)+parseInt(e(315))/6+parseInt(e(314))/7+parseInt(e(329))/8+-parseInt(e(356))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(343)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=Q,n=new RegExp(t(332)),e=new RegExp(t(335),"i"),o=Z("init");n[t(348)](o+t(341))&&e[t(348)](o+t(339))?Z():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=A();return(Q=function(t,n){return e[t-=311]})(t,n)}function A(){const t=["return (function() ","console","trace","16257321dffcwi","while (true) {}","style","100XqPyOU","getValueAt","left","call","1454964Vgblgr","1193016LWqEqv","position","display","action","802042JKRQbj","length","gger","rgb(0,255,0)","create","bind","randInt","body","string",'{}.constructor("return this")( )',"8347592XdBWcg","rgb(0,0,255)","width","function *\\( *\\)","2JIFGYK","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setData","toString","heatmap-canvas","input","table","chain","createElement","apply","debu","3499611HoTzbg","info","exception","test","_config","constructor","323755ioLIfQ","top"];return(A=function(){return t})()}z(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(353)+t(328)+");")()}catch(e){n=window}return n}(),e=n[t(354)]=n[t(354)]||{},o=["log",t(334),t(346),"error",t(347),t(340),t(355)];for(let r=0;r<o.length;r++){const n=z[t(350)].prototype[t(324)](z),i=o[r],c=e[i]||n;n.__proto__=z[t(324)](z),n[t(337)]=c.toString[t(324)](c),e[i]=n}}))();const F=(t,n)=>t[Q(311)](n)+-10;function Z(t){function n(t){const e=Q;if(typeof t===e(327))return function(t){}.constructor(e(357))[e(343)]("counter");1!==(""+t/t)[e(320)]||t%20==0?function(){return!0}[e(350)]("debugger")[e(313)](e(318)):function(){return!1}[e(350)](e(344)+e(321)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=V,o=$();for(;;)try{if(361578===-parseInt(e(243))/1+parseInt(e(234))/2+parseInt(e(226))/3*(parseInt(e(221))/4)+-parseInt(e(220))/5+-parseInt(e(230))/6*(-parseInt(e(229))/7)+-parseInt(e(244))/8*(parseInt(e(241))/9)+-parseInt(e(222))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(235)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=V,n=new RegExp(t(232)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y(t(224));n[t(217)](o+"chain")&&e[t(217)](o+t(227))?Y():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["9dbWysI","debu","44598nQVpwy","5108968RQKdPv","length","exception","gger","table","info","bind",'{}.constructor("return this")( )',"test","while (true) {}","prototype","1767490GTLUaX","6292dhuvgz","39890tLmtXE","stateObject","init","counter","933plNehA","input","log","637KgVHCj","34098IngdFq","action","function *\\( *\\)","constructor","791856lmYQIx","apply","console","return (function() ","string","toString","__proto__"];return($=function(){return t})()}function V(t,n){const e=$();return(V=function(t,n){return e[t-=212]})(t,n)}U(void 0,(function(){const t=V;let n;try{n=Function(t(237)+t(216)+");")()}catch(r){n=window}const e=n[t(236)]=n[t(236)]||{},o=[t(228),"warn",t(214),"error",t(246),t(213),"trace"];for(let i=0;i<o[t(245)];i++){const n=U[t(233)][t(219)][t(215)](U),r=o[i],c=e[r]||n;n[t(240)]=U[t(215)](U),n[t(239)]=c[t(239)].bind(c),e[r]=n}}))();const B=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n.value=t}}}));function Y(t){function n(t){const e=V;if(typeof t===e(238))return function(t){}[e(233)](e(218))[e(235)](e(225));1!==(""+t/t)[e(245)]||t%20==0?function(){return!0}[e(233)](e(242)+e(212)).call(e(231)):function(){return!1}[e(233)](e(242)+e(212)).apply(e(223)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function K(t,n){const e=W();return(K=function(t,n){return e[t-=340]})(t,n)}const N=K;!function(t,n){const e=K,o=W();for(;;)try{if(603089===-parseInt(e(379))/1*(-parseInt(e(365))/2)+parseInt(e(353))/3*(-parseInt(e(399))/4)+-parseInt(e(344))/5+-parseInt(e(376))/6*(-parseInt(e(384))/7)+parseInt(e(405))/8+parseInt(e(372))/9+-parseInt(e(373))/10*(parseInt(e(383))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(397)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=K,n=new RegExp(t(400)),e=new RegExp(t(355),"i"),o=tt(t(393));n[t(361)](o+t(377))&&e[t(361)](o+"input")?tt():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(371)+t(375)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(362)]||{},o=[t(390),t(380),t(346),t(364),t(382),"table",t(360)];for(let r=0;r<o.length;r++){const n=C.constructor[t(350)].bind(C),i=o[r],c=e[i]||n;n[t(352)]=C[t(389)](C),n.toString=c[t(357)][t(389)](c),e[i]=n}}))();const G=[N(354),"rotation-x"],H=[N(354)];function W(){const t=["clone","BufferGeometry","computeBoundsTree","DoubleSide","city","return (function() ","6795558TbiLII","30vKnykg","call",'{}.constructor("return this")( )',"402QqTLvq","chain","land","7DYGtOt","warn","while (true) {}","exception","319583vaYKaQ","44177pHnnkP","matrix","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","normal","counter","bind","log","model","length","init","primitive","数值———：","ShaderMaterial","apply","Mesh","372PpIfuk","function *\\( *\\)","makeRotationX","$patch","opacity","applyMatrix4","893720njqiek","uOpacity","setTemperature","mergeGeometries","buildingsHeatmap","数值：","value","gger","1682645dTeAwk","needsUpdate","info","constructor","string","children","prototype","geometry","__proto__","29202duQotd","object","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","attributes","toString","disposeBoundsTree","Texture","trace","test","console","canvas","error","183550VNfFgN"];return(W=function(){return t})()}const J=l({__name:N(340),props:{model:{},opacity:{default:1}},setup(t){const n=N;(()=>{const t=K;c[t(367)][t(350)][t(368)]=M,c[t(367)][t(350)][t(358)]=P,c[t(398)].prototype.raycast=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=Q,i=document[o(342)](o(338));return i[o(358)][o(316)]="absolute",!e&&(i.style[o(317)]="none"),i.style[o(352)]="0",i[o(358)][o(312)]="0",document[o(326)].appendChild(i),r[o(323)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(330),.55:o(322),.85:"yellow",1:"rgb(255,0,0)"}})})();((t,n)=>{const e=Q;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(325)](1,t._config[e(331)]),y:i[e(325)](1,t[e(349)].height),value:i[e(325)](-10,36)}),o++}t[e(336)]({max:36,min:-10,data:n})})(o);const p=new(c[n(359)])(o._renderer[n(363)]);p[n(345)]=!0;const f=e.model[n(370)][n(366)]();delete f[n(351)][n(356)][n(387)],delete f.geometry.attributes.uv;const l=f[n(351)][n(366)]()[n(404)](f[n(385)]),b=e[n(391)][n(378)][n(366)]();delete b.geometry[n(356)][n(387)];const I=b.geometry[n(366)]()[n(404)](b.matrix),w=s[n(408)]([l,I]);w[n(404)]((new u)[n(401)](Math.PI/2)),a(w),w[n(368)]();const _=(t=>{const o=n;return new(c[o(396)])({vertexShader:o(386),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(403)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(369)]})})(p),j=new(c[n(398)])(w,_);h((()=>{const t=n;e.opacity&&(_.uniforms[t(406)][t(342)]=e[t(403)])}));const x=B(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o._config.width,y:(1-t.uv.y)*o._config.height};console[e(390)](e(341),t),console[e(390)](e(395),F(o,n)),x[e(407)](F(o,n))}},k=t=>{t&&x[n(402)]({showDiv:!0})},E=t=>{t&&x.setShowDiv(!1)};return(t,o)=>{const r=n;return d(),g(v,null,[m(r(394),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:k,onPointerLeave:E},null,40,G),m(r(394),{object:e.model[r(391)][r(349)][0].clone()},null,8,H)],64)}}});function tt(t){function n(t){const e=K;if(typeof t===e(348))return function(t){}[e(347)](e(381))[e(397)](e(388));1!==(""+t/t)[e(392)]||t%20==0?function(){return!0}.constructor("debugger")[e(374)]("action"):function(){return!1}[e(347)]("debu"+e(343))[e(397)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=R({__name:"dataDiv",setup(t){const n=B(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>w((d(),g("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=ot;function ot(t,n){const e=ct();return(ot=function(t,n){return e[t-=402]})(t,n)}!function(t,n){const e=ot,o=ct();for(;;)try{if(194180===parseInt(e(429))/1*(parseInt(e(427))/2)+-parseInt(e(423))/3*(-parseInt(e(408))/4)+-parseInt(e(436))/5*(parseInt(e(417))/6)+-parseInt(e(402))/7+-parseInt(e(442))/8*(-parseInt(e(431))/9)+-parseInt(e(439))/10+-parseInt(e(406))/11*(-parseInt(e(416))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ot,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(419),"i"),o=ut("init");n[t(425)](o+"chain")&&e[t(425)](o+t(422))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["info","2152160fTJxqu","length","prototype","2640QPanJd","2071825jkCjcE","table","trace","__proto__","22vPOvoU","builds","4oNPMLd","#000","addBinding","counter","string","heatmap2","return (function() ","while (true) {}","598668SFLrsT","225246booBgU","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","action","input","608949VggLFv","value","test","console","145310WZOpSD","debu","5rhDVNN","toString","6192ptYlLc","apply","constructor","透明度","log","25QpZnfC","bind"];return(ct=function(){return t})()}it(void 0,(function(){const t=ot;let n;try{n=Function(t(414)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(426)]=n[t(426)]||{},o=[t(435),t(418),t(438),"error","exception",t(403),t(404)];for(let i=0;i<o[t(440)];i++){const n=it[t(433)][t(441)][t(437)](it),r=o[i],c=e[r]||n;n[t(405)]=it[t(437)](it),n.toString=c[t(430)].bind(c),e[r]=n}}))();const st=l({__name:et(413),async setup(r){const i=et;let c,s;const u=f(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u[i(424)]=!0;const p=k({width:1,color:i(409),opacity:1,show:!0}),l=k({opacity:.9});return new t({title:"参数",expanded:!0})[i(410)](l,"opacity",{label:i(434),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),g(v,null,[E(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[E(J,L({model:y(a)},l),null,16,["model"]),E(n,L(p,{builds:y(a).city}),null,16,[r(407)])])),_:1}),E(nt)],64)}}});function ut(t){function n(t){const e=ot;if(typeof t===e(412))return function(t){}[e(433)](e(415))[e(432)](e(411));1!==(""+t/t)[e(440)]||t%20==0?function(){return!0}[e(433)](e(428)+e(420)).call(e(421)):function(){return!1}[e(433)](e(428)+e(420))[e(432)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
