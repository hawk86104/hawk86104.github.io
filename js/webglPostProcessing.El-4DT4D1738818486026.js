import{i as t}from"./ice-utils.K6Z6U_N01738818486026.js";import{_ as n,m as e}from"./gl-matrix.oVMHBNGj1738818486026.js";import{P as o}from"./tweakpane.yDiyAAkA1738818486026.js";import{d as r,r as i,q as a,o as c,H as s,N as u,u as f}from"./@vue.NRI7TcgI1738818486026.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",d=g;!function(t,n){const e=g,o=T();for(;;)try{if(377391===parseInt(e(418))/1+-parseInt(e(365))/2*(parseInt(e(410))/3)+-parseInt(e(399))/4*(-parseInt(e(441))/5)+parseInt(e(400))/6*(parseInt(e(369))/7)+parseInt(e(467))/8+parseInt(e(413))/9*(parseInt(e(470))/10)+-parseInt(e(442))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(461)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){_(this,(function(){const t=g,n=new RegExp(t(452)),e=new RegExp(t(379),"i"),o=A("init");n[t(462)](o+"chain")&&e.test(o+t(397))?A():o("0")}))()}();const x=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(461)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=T();return(g=function(t,n){return e[t-=362]})(t,n)}x(void 0,(function(){const t=g;let n;try{n=Function(t(364)+t(429)+");")()}catch(r){n=window}const e=n[t(408)]=n[t(408)]||{},o=[t(404),t(389),t(448),t(386),t(431),t(372),t(440)];for(let i=0;i<o.length;i++){const n=x[t(394)][t(424)][t(446)](x),r=o[i],a=e[r]||n;n[t(422)]=x[t(446)](x),n.toString=a[t(398)][t(446)](a),e[r]=n}}))();const p={id:d(455)},E=[d(407)];function T(){const t=['{}.constructor("return this")( )',"height","exception","createFramebuffer","call","slider","getUniformLocation","color","TEXTURE_MAG_FILTER","NEAREST","string","trace","351490IoVWOf","17536222iqUNOG","useProgram","bindBuffer","getContext","bind","FLOAT","info","webgl","querySelector","uniformMatrix4fv","function *\\( *\\)","SRC_ALPHA","BYTES_PER_ELEMENT","canvaswebgl","enable","TEXTURE_WRAP_T","inline","FRAMEBUFFER","innerHeight","apply","test","mat4","addBlade","innerWidth","offset_left_bottom","4866464iQLDnm","bindFramebuffer","TEXTURE_2D","20zrhsJy","RGBA","uProjection","blendFunc","return (function() ","34vTfcWe","COLOR_ATTACHMENT0","mixParam","width","31577TNYyKD","UNSIGNED_BYTE","scale","table","STATIC_DRAW","vertexAttribPointer","while (true) {}","createTexture","addBinding","getElementById","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bufferData","CLAMP_TO_EDGE","gger","ARRAY_BUFFER","#canvaswebgl","img","error","value","hidden","warn","lookAt","offset_left_top","canvas","framebufferTexture2D","constructor","COLOR_BUFFER_BIT","texParameteri","input","toString","40kACYKv","282cPBnRC","uniform1f","uModel","clearColor","log","bindTexture","change","src","console","offset_right_top","109539vKWzXS","TEXTURE_WRAP_S","none","1618011HnMSWe","create","是否后处理","length","webglPostProcessing","709451YsLXYr","clear","ortho","ELEMENT_ARRAY_BUFFER","__proto__","drawElements","prototype","createBuffer","debu","texImage2D","offset_right_bottom"];return(T=function(){return t})()}const b=r({__name:d(417),setup(r){const _=d;let x,g,T,b,A,R,y,h,v,F,C,w,I;const P=1,B=.71,S=.76,U=new o({title:"参数"}),D=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});U[_(464)]({view:_(434),label:"颜色",min:0,max:1,value:.5}).on("change",(t=>{const n=_;X(),g[n(401)](w,t[n(387)])}));let L=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);U.addBinding(D,"hidden",{label:_(415)}),U[_(377)](D,"offset_right_top",{picker:_(458),x:{min:0,max:1},y:{min:0,max:1}}).on(_(406),(t=>{const n=_;L[0]=D.offset_right_top.x,L[1]=D[n(409)].y,X()})),U[_(377)](D,_(428),{picker:_(458),x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(406),(t=>{const n=_;L[5]=D[n(428)].x,L[6]=D.offset_right_bottom.y,X()})),U[_(377)](D,_(466),{picker:_(458),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(t=>{const n=_;L[10]=D[n(466)].x,L[11]=D[n(466)].y,X()})),U.addBinding(D,_(391),{picker:_(458),x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(406),(t=>{const n=_;L[15]=D[n(391)].x,L[16]=D.offset_left_top.y,X()})),a((()=>{N()}));const N=function(){const n=_;x=document[n(450)](n(384)),x[n(368)]=window[n(465)],x[n(430)]=window[n(460)],g=x[n(445)](n(449)),g&&(function(){const n=_,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);b=j(e,o),T=t(g,l,m),v=g[n(435)](T,n(362)),F=g.getUniformLocation(T,"uView"),C=g[n(435)](T,n(402)),I=Y(document[n(378)]("logo-texture"))}(),X(),g[n(456)](g.BLEND),g[n(363)](g[n(453)],g.ONE_MINUS_SRC_ALPHA),M())};function M(){const t=_;g.bindFramebuffer(g[t(459)],y),g[t(403)](P,B,S,1),g[t(419)](g.COLOR_BUFFER_BIT),function(){const t=_;g[t(443)](T),g[t(444)](g[t(383)],b);const o=n[t(463)][t(414)]();e[t(420)](o,0,x.width,x.height,0,.1,100),g[t(451)](v,!1,o);const r=n[t(463)][t(414)]();e[t(390)](r,[0,0,1],[0,0,0],[0,1,0]),g.uniformMatrix4fv(F,!1,r),O(I,600,600),O(I,400,400)}(),g.bindFramebuffer(g[t(459)],null),D[t(388)]&&(g.clear(g[t(395)]),g.clearColor(0,0,1,1),g.bindBuffer(g.ARRAY_BUFFER,A),g[t(443)](R),g.bindTexture(g[t(469)],h)),g[t(423)](g.TRIANGLES,6,g[t(370)],0),requestAnimationFrame(M)}function O(t,o,r){const i=_;let a=n[i(463)][i(414)]();n[i(463)].translate(a,a,[o,r,0]),e[i(371)](a,a,[250,250,0]),g[i(451)](C,!1,a),g.bindTexture(g[i(469)],t),g[i(423)](g.TRIANGLES,6,g[i(370)],0)}function X(){const n=_,e=new Uint8Array([0,1,2,0,2,3]);A=j(L,e),R=t(g,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),w=g[n(435)](R,n(367)),g[n(435)](R,n(436)),function(){const t=_;h=Y(x),y=g[t(432)](),g[t(468)](g[t(459)],y),g[t(393)](g[t(459)],g[t(366)],g.TEXTURE_2D,h,0),g[t(468)](g[t(459)],null)}()}function Y(t){const n=_,e=g[n(376)]();return g[n(405)](g[n(469)],e),t instanceof HTMLImageElement?g.texImage2D(g[n(469)],0,g[n(471)],g[n(471)],g.UNSIGNED_BYTE,t):g[n(427)](g[n(469)],0,g[n(471)],t.width,t[n(430)],0,g[n(471)],g[n(370)],null),g[n(396)](g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g[n(438)]),g[n(396)](g[n(469)],g[n(437)],g[n(438)]),g[n(396)](g.TEXTURE_2D,g[n(411)],g[n(381)]),g[n(396)](g[n(469)],g[n(457)],g[n(381)]),e}function j(t,n){const e=_,o=g.createBuffer();g[e(444)](g[e(383)],o),g[e(380)](g[e(383)],t,g[e(373)]);const r=3*Float32Array[e(454)]+2*Float32Array[e(454)];g[e(374)](0,3,g[e(447)],!1,r,0),g.enableVertexAttribArray(0),g[e(374)](1,2,g[e(447)],!1,r,3*Float32Array[e(454)]),g.enableVertexAttribArray(1);const i=g[e(425)]();return g[e(444)](g[e(421)],i),g[e(380)](g[e(421)],n,g.STATIC_DRAW),g[e(444)](g[e(383)],null),o}return(t,n)=>{const e=_;return c(),s(e(392),p,[u(e(385),{id:"logo-texture",src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(412)}},null,8,E)])}}});function A(t){function n(t){const e=g;if(typeof t===e(439))return function(t){}[e(394)](e(375)).apply("counter");1!==(""+t/t)[e(416)]||t%20==0?function(){return!0}[e(394)]("debu"+e(382))[e(433)]("action"):function(){return!1}[e(394)](e(426)+e(382))[e(461)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{b as default};
