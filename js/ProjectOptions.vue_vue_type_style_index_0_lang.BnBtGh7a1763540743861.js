import{c as t,f as n,g as o,h as e,i as c,j as W,k as r,l as i,d as u,m as s,n as a,o as d}from"./index.vue_vue_type_script_setup_true_lang.YCkLl6gI1763540743861.js";import{_ as f}from"./jszip.jaXKT31H1763540743861.js";import{F as l}from"./file-saver.s3JNd4Ji1763540743861.js";import{s as x,u as k,L as h,B as C,i as m,g as S,x as p}from"./naive-ui.qjPOP62h1763540743861.js";import{k as g}from"./@vicons.DhSiG_AT1763540743861.js";import{d as v,a as O,b as R,o as P,u as _,e as Q,h as b,y,S as G}from"./@vue.Co_gxueH1763540743861.js";!function(){function t(t,n,o,e,c){return I(c- -302,t)}function n(t,n,o,e,c){return I(n-32,c)}function o(t,n,o,e,c){return I(n- -131,o)}const e=q();for(;;)try{if(281622===parseInt(t("16@j",0,0,0,271))/1*(parseInt(t("aVrN",0,0,0,245))/2)+parseInt(t("kyAV",0,0,0,255))/3+parseInt(t("(vQX",0,0,0,279))/4*(-parseInt(n(0,526,0,0,"f$R*"))/5)+-parseInt(o(0,386,"7vWn"))/6*(parseInt(t("dO&t",0,0,0,294))/7)+parseInt(t("]F2i",0,0,0,241))/8+-parseInt(o(0,413,"y*r&"))/9*(-parseInt(o(0,395,"%Dg4"))/10)+-parseInt(o(0,390,"z[D3"))/11)break;e.push(e.shift())}catch(c){e.push(e.shift())}}();const N=function(){let t=!0;return function(n,o){function e(t,n,o,e,c){return I(n- -968,t)}function c(t,n,o,e,c){return I(t-928,e)}if("QlESR"===e("WRS#",-483)){const W=t?function(){function t(t,n,o,e,W){return c(o- -1177,0,0,t)}function W(t,n,o,e,W){return c(n- -1778,0,0,e)}if(t("(vQX",0,267)!==W(0,-351,0,"g(gm"))_0x377c10[W(0,-317,0,"EtON")](W(0,-250,0,"%k3y"),_0x35374f.codePostProcessingText);else if(o){if("YXLUP"===W(0,-287,0,"dR&b")){const t=o.apply(n,arguments);return o=null,t}_0x4a66d1[t("3HDg",0,331)](e("%Dg4",1031-1416),_0x94567d.codeFloorText)}}:function(){};return t=!1,W}_0x394a5d(_0xd5a0c8,_0x3e4680+e("srMs",-396))}}()(void 0,function(){function t(t,n,o,e,c){return I(e-150,n)}return N.toString()[t(0,"n!0&",0,663)](t(0,"n!0&",0,692))[(n="85[A",o=164,I(o- -389,n))]().constructor(N)[t(0,"D]0Z",0,660)](I(1205-682,"bSxG"));var n,o});function q(){const t=["BCoQW7hdNXFcRCoiu8oBFCoIWOS","CGGGpmkyfxqsWQPDW4RdICoCESkUmN82W4XsWOGIkq","WRBcSCkjW47cQJrWWPCCWPRcPSon","j8kAcSoB","bmk1WQxdNKhdLt8","gv8lA8oHAhxdSSonu8kcWOZdHSo6ymo3vCoeWPpcQSksW73dNmklWQRcV2SRcW","aCoWFmoVvmkD","WQ4VBmorza","qWpdKs7dTW","W78pW7OQ","W7FcKmkrWQe","c8o8FSoT","WPjRWQjDsgm+zx7cS30","e8k/ESoQ","aehcQmknW7KlcWSuW4qDzcVcSfOhW57dG8obWRO","WPXLW7GOW7K","W4beggJdUmkJWQPiW4RdTepdIs/dRmk0cmoKWP4uwCoawaW","FxSXamks","amomtmo1m1LyW7ewAhLD","CGGPkCkKegGqWRDjWO3dJSoJzSk6lW","yqyQkCkevhGsWRPlWP3cLmobDSkN","Dc1UW6tcL8kVkCoCsCoKW4Hkpq","W4aUW6qaaW","WR/cO01qWOC","WQmIWQtdKa","gwhcK27cIM3dLSkpvSk+jq","dCoxqmo1nq","WPaDqI7cPSo0WOPFW5NdLahdHG","E8oMDCoHW5O","WQVcQbPvWO/dRCoFlcK2wW","stVdIYZdL1NdIG","WQ3dLuJcRCksjmoyCum0WPVcVmoZC8khW7T3W7RdKmomW64NmmkzW4pcUXRcQSow","WOSMoc8","W5jFoY8","WRzvzqCx","gv8lA8oHAhxdSSonu8kcWP3dJmoRDSojq8oMWPxcVmkjW6VdHSolWRVdPhG","W7uUcrxcI8oTraBcUgzDF8k5","W5tcJSklCsn1W4VcK8oIpr0","W5/cI0ZcIIS","WPNcQZf1WQK","se8idG","WO4GotOaWPhcQhqEW55YWRHDF8k3W4VdQCodhCkzBsz9WRlcHNe2","WRpcOgXhWRK","hCoGCmoKsCkwWRPgEsmZWQVcIJJcQW","rmoykmoZW5WWW6bcW5BcPmkrxNBcRf4bfmo1W4q2WOJdLMVcG3ZdSq3cR8o5F2ul","W4mHt8kMW4K","W5SUamkTW5jlW4Xjs2ZcGKuqchTcAb4YwZHbWRqvq8oCW6L5jwWLDG","gCo6qCo8uSkCW7Tr","W55/yqu1WRxcQLCM","W6S3WQhdHenk","WRXTW7xcKrynbCkAWPtdI1LAsq","W4iXW7ajp0mZs3/cOKFdG8k/CGFcTCk+WQhdP3ToWOy","sq3cQZe","CwSsj8k4","WObXWO5u","fumbF28","f8k/EmoR","WOVcIw5TWQi","WQ/cNSkCW5e","xgmTkwm","W7uUcrxcNSoQuGxcO1vqC8kzW6fQW6S","F8kbo8o9WOK","xL4kdh4","ASkpb8ooWRxcKGfXAJFcV8onWOFdH8kY","W4hcGKtcIZW7","W4C3W7Gj","gv8cFSolFMtdUCoxrmoGWP3dH8o3x8oovmoFWQtcQSkzW7O","WO5WW6K2W6pdSq","W7pcKmktWQa","W4iXW7KCfvuIqgxcTsxdKCkPEZ/cTmkOWQFcNwHdWPC","W5K8W5yOnq","W5xdK8o+oxzvW5u","WRzaWPHjW7eiWPCnW6a","W7hdR8oBWPy","WPnJg8kbW6DVW5HWDq","euBcPJtdQCkDoqvMW4NdSmkLeW","WRrhqs8U","aNZcJxhcKXZcHmoTeSoIEvC","W4nXWPma","kedcV8kUW5u","ub7dVmooWQyihJ0xW51f","WR3cTMT4WQBdUXGFD2WPW53dLWddU8oeWRX5lSk3e8kg","qCohW6lcGGJcTCosA8oT","ixFcTCk3W5W","WRhcQLdcLG","c8o6FSoSrCkh","W6qKgqxcV8oVc0hcReDwzmk5W619W7hdHWxdPG","W7aOaru","xmokA8oGW5WWW7zyW5dcOSoDtxxcVavVd8oJW4rTWOZdJs4","xeeEbuamgSobW64CW7RdMa","W4SUW7JcICostZSWxG","xmokySo1W6a1W6PAW43cTSkAxK3cUW5x","WQf0ucah","WP8Qid8DWPhdRtimW5GZWR5rySk9W4VcPCkNwa","W6PQW5VdNqO","W5hcIehcNaG2iGe/W5SQhCkKWRSe","W5u9WQbQWQVcSmoZWO5VtYtcGG","dCkCpSkIWOzMWQDtW4/cOSkXEwa","WPzHh8kcW6LZW5v3tG","W7NdNNiY","WO1NW6CWW6/dRCkHW5CH","WQldI8ohW7tcKGyaD8kcW4XN","WQavw8ottSojACoX","W5/cKSoHWQldTSoVWOON","fmowzCohwG","muato8kaWQiN","W5m7W6azcfvNbNFcS2tdHCk4CYtcSSoLW7ZcKW","bCkOtmkyWQBdICozCa","WRdcRfdcLcDiWRHVW7O","rdZdOqxdLq","pCkWomoLCq","W6/dRd45W7NcOeOAzNvsW4ddHa","WPRcMNv5WQa","F8oOW6lcNb4","W5BcHmktW4zIW4GbWP7dPXP3","W4xcMCksW4f5W44nWO3dTG","hgSSCKyIpgxdMqxcICoB","WORcM3lcPX4","BJ7cOHXZ","vuhcImkeW7eCgW","Dc1NW7hcVSkTi8oDt8odWOjujxJdI8kxWOr6W5tdNG","hv3dV2yWBColaM3cO1NcSX4","uxSEfei"];return(q=function(){return t})()}N();const V=function(){let t=!0;return function(n,o){function e(t,n,o,e,c){return I(n-168,e)}if("vQEKi"===e(0,648,0,"]SGW")){const c=t?function(){function t(t,n,o,c,W){return e(0,t-466,0,c)}function c(t,n,o,c,W){return e(0,c-352,0,n)}if(c(0,"kyAV",0,1008)===c(0,"bSxG",0,1097)){let n;try{n=_0x5b4e51(t(1186,0,0,"(vQX")+'{}.constructor("return this")( ));')()}catch(i){n=_0x2dd5ae}return n}if(o){if(t(1192,0,0,"kyAV")===t(1231,0,0,"]F2i")){const t=o[c(0,"(vQX",0,1111)](n,arguments);return o=null,t}_0x233f5e[t(1212,0,0,"RxH(")](e(0,695- -7,0,"]F2i"),_0x4b0d6c[(W=-268,r="h(1a",e(0,W- -971,0,r))])}var W,r}:function(){};return t=!1,c}{const t=_0x58454f[(c=-404,W="pnO2",I(c- -963,W))](_0x1d1554,arguments);return _0x15e17c=null,t}var c,W}}();function I(t,n){const o=q();return I=function(n,e){let c=o[n-=478];if(void 0===I.SSnEYV){var W=function(t){let n="",o="",e=n+W;for(let c,W,r=0,i=0;W=t.charAt(i++);~W&&(c=r%4?64*c+W:W,r++%4)?n+=e.charCodeAt(i+10)-10!=0?String.fromCharCode(255&c>>(-2*r&6)):r:0)W="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(W);for(let c=0,W=n.length;c<W;c++)o+="%"+("00"+n.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(o)};const n=function(t,n){let o,e,c=[],r=0,i="";for(t=W(t),e=0;e<256;e++)c[e]=e;for(e=0;e<256;e++)r=(r+c[e]+n.charCodeAt(e%n.length))%256,o=c[e],c[e]=c[r],c[r]=o;e=0,r=0;for(let W=0;W<t.length;W++)e=(e+1)%256,r=(r+c[e])%256,o=c[e],c[e]=c[r],c[r]=o,i+=String.fromCharCode(t.charCodeAt(W)^c[(c[e]+c[r])%256]);return i};I.VNPdJK=n,t=arguments,I.SSnEYV=!0}const r=n+o[0],i=t[r];if(i)c=i;else{if(void 0===I.pNTUWF){const t=function(t){this.Nwigzc=t,this.ORkwUT=[1,0,0],this.RYzBqV=function(){return"newState"},this.UPJtDq="\\w+ *\\(\\) *{\\w+ *",this.nOBBpY="['|\"].+['|\"];? *}"};t.prototype.qQottu=function(){const t=new RegExp(this.UPJtDq+this.nOBBpY).test(this.RYzBqV.toString())?--this.ORkwUT[1]:--this.ORkwUT[0];return this.XilDmg(t)},t.prototype.XilDmg=function(t){return Boolean(~t)?this.ZMPPbf(this.Nwigzc):t},t.prototype.ZMPPbf=function(t){for(let n=0,o=this.ORkwUT.length;n<o;n++)this.ORkwUT.push(Math.round(Math.random())),o=this.ORkwUT.length;return t(this.ORkwUT[0])},new t(I).qQottu(),I.pNTUWF=!0}c=I.VNPdJK(c,e),t[r]=c}return c},I(t,n)}V(void 0,function(){function t(t,n,o,e,c){return I(c-629,o)}function n(t,n,o,e,c){return I(e-573,n)}function o(t,n,o,e,c){return I(n- -757,o)}function e(t,n,o,e,c){return I(n-542,e)}const c=function(){function t(t,n,o,e,c){return I(o- -967,t)}function n(t,n,o,e,c){return I(c- -579,t)}function o(t,n,o,e,c){return I(o-163,t)}if("qfGnU"!==n("uXkt",0,0,0,-15)){let c;try{if("ZpBxb"===o("srMs",0,670)){const t=_0x4e8d1b?function(){if(_0x215e72){const t=_0x3f4f1a.apply(_0x3ac6b0,arguments);return _0x3d9761=null,t}}:function(){};return _0x407f80=!1,t}c=Function(t("EtON",0,-435)+t("y*r&",0,-475)+");")()}catch(e){"hNlxt"===o("FwE&",0,719)?_0xa39b3f.file(n("ZuCu",0,0,0,-98),_0x2fd65f.codeExtendMeshListText):c=window}return c}_0x52cf13=_0x140926(I(1140-601,"f$R*")+n("]F2i",0,0,0,-89)+");")()}();function W(t,n,o,e,c){return I(n- -739,c)}const r=c[t(0,0,"bSxG",0,1228)]=c.console||{},i=["log",W(0,-253,0,0,"h(1a"),t(0,0,"Iq$C",0,1129),W(0,-199,0,0,"fyRo"),"exception","table",e(0,1128,0,"g(gm")];for(let u=0;u<i[o(0,-182,"3HDg")];u++){if(n(0,"h(1a",0,1078)===e(0,1071,0,"%Dg4")){const t=_0x114da1?function(){if(_0x35f792){const o=_0x1e3d1c[(t=702,n="]SGW",e(0,t- -378,0,n))](_0xe09344,arguments);return _0x40df5c=null,o}var t,n}:function(){};return _0x1b083d=!1,t}{const n=V[W(0,-141,0,0,"WRS#")][t(0,0,"(Z#Y",0,1190)][e(0,1021,0,"NS]b")](V),c=i[u],s=r[c]||n;n[W(0,-221,0,0,"Iq$C")]=V.bind(V),n[W(0,-190,0,0,"lC*y")]=s[W(0,-191,0,0,"ENB$")][o(0,-255,"BV@l")](s),r[c]=n}}})();const T=v({__name:"ProjectOptions",setup(v){const N=x(),q=k(),V=O(!1),T=t=>{console.log("Project action:",t),"new"===t&&N.warning({title:"此操作会清空当前场景以及历史记录",content:"是否新建场景？",positiveText:"确定",negativeText:"取消",draggable:!0,onPositiveClick:()=>{d(),location.reload(!0),q.success("清空成功")}}),"generate"===t&&D()},D=()=>{const d=O(""),x=O("");N.create({title:"请输入导出的插件名字",content:()=>G("div",{},[G(S,{value:d.value,placeholder:"只自持英文名字",onInput:t=>{d.value=t,x.value=""}}),x.value&&G(p,{type:"error",style:"margin-top: 8px"},{default:()=>x.value}),G("p",{style:"margin-top: 12px; font-size: 14px; color: #fff;"},["插件包管理（安装、删除等），详见文档：",G("a",{href:"https://docs.icegl.cn/docs/three-vue-tres/plugin/manage.html",target:"_blank",style:"color: #409EFF; text-decoration: underline;"},"查看文档")])]),positiveText:"确认",negativeText:"取消",maskClosable:!1,onPositiveClick:async()=>{if(!d.value.trim())return x.value="名字不能为空",!1;if(!/^[A-Za-z]+$/.test(d.value.trim()))return x.value="只能输入英文字符",!1;if(V.value)return!1;V.value=!0;const k=q.loading("正在打包插件，请稍后",{duration:0});return await async function(d){const x=new f,k=x[y("P@qX",547)](S(669,660,"3HDg")+d),h=t(),C=await n(k,h[b("D]0Z",1321)]);await o(k);const m=x[S(738,702,"3HDg")](y("pnO2",621)+d);function S(t,n,o,e,c){return I(n-171,o)}m[b("Hi8J",1382)](R(-409,"dR&b"),e(d));const p=c(),g=W(),v=r(),O=i();function R(t,n,o,e,c){return I(t- -963,n)}const P=u(),_=s(),Q=a(p,g,v,C,O,P,_);if(m[G("(vQX",1358,1454,1395)](R(-374,"xyNG"),Q.codeIndexText),Q[y("EtON",534)])if(R(-460,"kyAV")!==y("ENB$",628))m.file(y("7Ze[",618),Q[y("7Ze[",642)]);else if(_0xb604d1){const t=_0x18c265[G("h(1a",1394,1332,1392)](_0x10910c,arguments);return _0x180145=null,t}function b(t,n,o,e,c){return I(n-837,t)}function y(t,n,o,e,c){return I(n-52,t)}if(Q[b("D]0Z",1378)]&&(S(0,721,"3HDg")===G("Bqv5",1499,1464,1479)?_0x805d59[G("uXkt",1413,1390,1382)](y("(vQX",567),_0x4a642f.codeWeatherText):m[y("BV@l",634)](R(-436,"kyAV"),Q[y("srMs",561)])),Q[b("EtON",1343)]&&("craht"!==S(0,662,"y*r&")?_0x17bcd6.file("components/skylight.vue",_0x3e774e[S(0,759,"xyNG")]):m.file(b("xyNG",1407),Q[b("]F2i",1374)])),Q[G("Bqv5",1475,1431,1471)]){if(S(0,726,"bSxG")===S(0,672,"$P(@")){const t=_0x44ac80[b("n!0&",1421)](_0x3477b9,arguments);return _0x4395c1=null,t}m[b("xzrY",1341)](y("dO&t",637),Q[b("$P(@",1399)])}function G(t,n,o,e,c){return I(e-884,t)}if(Q.codePostProcessingText)if("tCacP"!==b("]SGW",1359)){if(_0xc4f3bc){const t=_0x161380[y("pnO2",611)](_0x5cf3a6,arguments);return _0x424b0c=null,t}}else m[R(-449,"aVrN")](S(0,745,"ZuCu"),Q.codePostProcessingText);return Q[R(-466,"(vQX")]&&(b("kyAV",1429)===b("%Dg4",1362)?_0x18bcbc=_0x21e37d:m[b("f$R*",1315)](R(-476,"f$R*"),Q[y("ZuCu",564)])),x.generateAsync({type:b("*)ZE",1361)})[y("F73g",571)](t=>{function n(t,n,o,e,c){return R(n-233,t)}function o(t,n,o,e,c){return b(t,n- -1538)}if("uGZSz"!==n("h(1a",-162))l.saveAs(t,d+n("P@qX",-137));else{const t=_0x2e5122[n("(Z#Y",-170)][n("n!0&",-184)][n("dR&b",-200)](_0x49a434),W=_0x45c43a[_0x3f67e1],r=_0x24ea6b[W]||t;t[o("pnO2",-173)]=_0x3f085d[o("aVrN",-122)](_0x23519d),t[(e=1156,c="lC*y",b(c,e- -230))]=r[o("3HDg",-208)].bind(r),_0x5c50bf[W]=t}var e,c})}(d.value),k.destroy(),q.success("插件打包成功"),V.value=!1,!0}})};return(t,n)=>(P(),R(_(h),{trigger:"hover",options:[{label:"新建项目",key:"new"},{label:"生成源码插件包",key:"generate"}],onSelect:T},{default:Q(()=>[b(_(C),null,{icon:Q(()=>[b(_(m),null,{default:Q(()=>[b(_(g))]),_:1})]),default:Q(()=>[n[0]||(n[0]=y(" 项目管理 ",-1))]),_:1})]),_:1}))}});export{T as _};
