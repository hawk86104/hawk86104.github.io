import{d as n,H as t}from"./@tresjs.zzLYikgQ1723608367756.js";import{k as o,ba as e,C as r,aN as i,Z as a,a6 as s,q as l}from"./three.X8FgZbPT1723608367756.js";import{P as u}from"./tweakpane.yHWGBmom1723608367756.js";import{d as c,r as f,a1 as p,e as d,o as g,f as v,g as m,j as w,u as h,J as y,al as b}from"./@vue.Q1VpS3901723608367756.js";import"./@vueuse.QL9lULrD1723608367756.js";!function(n,t){for(var o=x,e=j();;)try{if(798657===-parseInt(o(296))/1+-parseInt(o(309))/2+parseInt(o(301))/3*(parseInt(o(290))/4)+-parseInt(o(322))/5+parseInt(o(305))/6+-parseInt(o(302))/7*(-parseInt(o(292))/8)+-parseInt(o(297))/9*(parseInt(o(312))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(319)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function j(){var n=["__proto__","glowInternalRadius","glowSharpness","exception","bind","string","call","blendMode","#00d5ff","test","warn","uniforms","2319092QWQuYE","vertexShader","2064TJcLQh",'{}.constructor("return this")( )',"log","glowColor","261807EzrZzA","2120751MdWYWV","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","depthTest","opacity","6fFHbwo","32914jdMQjX","console","function *\\( *\\)","2952564DkORHR","transparent","prototype","input","2460632CjFtdH","toString","chain","20KWRcJl","trace","constructor","error","falloff","table","length","apply","return (function() ","debu","513490qiVUPu","gger","counter","setValues","blending","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(j=function(){return n})()}function x(n,t){var o=j();return(x=function(n,t){return o[n-=273]})(n,t)}!function(){I(this,(function(){var n=x,t=new RegExp(n(304)),o=new RegExp(n(277),"i"),e=R("init");t.test(e+n(311))&&o[n(287)](e+n(308))?R():e("0")}))()}();var _=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(319)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();_(void 0,(function(){var n,t=x;try{n=Function(t(320)+t(293)+");")()}catch(l){n=window}for(var o=n[t(303)]=n[t(303)]||{},e=[t(294),t(288),"info",t(315),t(281),t(317),t(313)],r=0;r<e.length;r++){var i=_[t(314)][t(307)][t(282)](_),a=e[r],s=o[a]||i;i[t(278)]=_[t(282)](_),i[t(310)]=s[t(310)][t(282)](s),o[a]=i}}))();const S=class extends o{constructor(n={}){var t=x;super(),this[t(291)]="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this.fragmentShader=t(298),this[t(289)]={opacity:new e(void 0!==n.opacity?n[t(300)]:1),glowInternalRadius:new e(void 0!==n[t(279)]?n[t(279)]:6),glowSharpness:new e(void 0!==n[t(280)]?n.glowSharpness:.5),falloff:new e(void 0!==n[t(316)]?n[t(316)]:.1),glowColor:new e(void 0!==n[t(295)]?new r(n[t(295)]):new r(t(286)))},this[t(275)](n),this[t(299)]=void 0!==n[t(299)]&&n[t(299)],this[t(276)]=void 0!==n[t(285)]?n.blendMode:i,this[t(306)]=!0,this.side=void 0!==n.side?n.side:a}};function R(n){function t(n){var o=x;if(typeof n===o(283))return function(n){}[o(314)]("while (true) {}")[o(319)](o(274));1!==(""+n/n)[o(318)]||n%20==0?function(){return!0}[o(314)](o(321)+o(273))[o(284)]("action"):function(){return!1}[o(314)](o(321)+o(273)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const C=z;function k(){const n=["bind","counter","warn","TresMeshPhysicalMaterial","opacity","neg-y.jpg","DoubleSide","__proto__","TresCanvas","663747apqbYS","stateObject","falloff","value","457156eLgmOT","prototype","glowInternalRadius","glowSharpness","side","trace","12kJCZcb","TresAmbientLight","while (true) {}","toString","string","699772xtQMCr","blue","action","neg-x.jpg","pos-z.jpg","table","console","neg-z.jpg","log","FrontSide","input","BackSide","addBinding","TorusKnotGeometry","589572uUAObN","return (function() ","TresTorusKnotGeometry","call","3225415YManFw","Color","13448gMYqhQ","gger","TresDirectionalLight","清晰度","957873VNCrvR","apply","pos-x.jpg","内半径",'{}.constructor("return this")( )',"pos-y.jpg","glowColor","exception","#a058c1","1089RZVdjL","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","TresMesh","info","function *\\( *\\)","test","uniforms","debu","constructor","fakeGlow"];return(k=function(){return n})()}!function(n,t){const o=z,e=k();for(;;)try{if(577142===parseInt(o(405))/1+-parseInt(o(439))/2+-parseInt(o(445))/3*(-parseInt(o(450))/4)+-parseInt(o(468))/5+-parseInt(o(464))/6+parseInt(o(435))/7+parseInt(o(401))/8*(-parseInt(o(414))/9))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(406)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){T(this,(function(){const n=z,t=new RegExp(n(420)),o=new RegExp(n(416),"i"),e=E("init");t[n(421)](e+"chain")&&o[n(421)](e+n(460))?E():e("0")}))()}();const M=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(406)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function z(n,t){const o=k();return(z=function(n,t){return o[n-=401]})(n,t)}M(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(465)+n(409)+");")()}catch(o){t=window}return t}(),o=t[n(456)]=t[n(456)]||{},e=[n(458),n(428),n(419),"error",n(412),n(455),n(444)];for(let r=0;r<e[n(415)];r++){const t=M[n(424)][n(440)][n(426)](M),i=e[r],a=o[i]||t;t[n(433)]=M[n(426)](M),t[n(448)]=a[n(448)][n(426)](a),o[i]=t}}))();const P=y("TresPerspectiveCamera",{position:[0,25,25],near:.1,fov:65},null,-1),F=y(C(446),{intensity:1.5},null,-1),N=y(C(403),{position:[100,100,60],intensity:20},null,-1),G=y("TresGridHelper",{args:[20,10]},null,-1),Z={position:[0,6,0]},A=y(C(418),null,[y(C(466),{args:[4,.5,128,128]}),y(C(429),{color:C(451),roughness:.2,clearcoat:1})],-1),B=["object"],D=c({__name:C(425),setup(o){const e=C,r=new u({title:"辉光参数",expanded:!0}),i=f({glowColor:e(413),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(459)],depthTest:!1}),a=new S,c=new l(new(s[e(463)])(4,3.8,128,128),a);return r[e(462)](i,e(411),{label:"颜色"}),r.addBinding(i,e(437),{label:"衰减",min:0,max:10,step:.1}),r.addBinding(i,e(441),{label:e(408),min:-5,max:5,step:.1}),r[e(462)](i,e(442),{label:e(404),min:0,max:10,step:.1}),r[e(462)](i,e(430),{label:"透明",min:0,max:1,step:.1}),r[e(462)](i,e(443),{label:"材质面",options:{FrontSide:s[e(459)],BackSide:s[e(461)],DoubleSide:s[e(432)]}}),p((()=>{const n=e;a.uniforms[n(437)].value=i[n(437)],a[n(422)][n(411)][n(438)]=new(s[n(469)])(i.glowColor),a.uniforms.glowInternalRadius.value=i[n(441)],a[n(422)][n(442)].value=i[n(442)],a[n(422)][n(430)][n(438)]=i[n(430)],a[n(443)]=i.side})),(o,r)=>{const i=e,a=d(i(434));return g(),v(a,{"window-size":""},{default:m((()=>[P,F,N,w(h(n),{autoRotate:""}),G,y("TresGroup",Z,[A,y("primitive",{object:h(c)},null,8,B)]),(g(),v(b,null,{default:m((()=>[w(h(t),{files:[i(407),i(453),i(410),i(431),i(454),i(457)],path:i(417)})])),_:1}))])),_:1})}}});function E(n){function t(n){const o=z;if(typeof n===o(449))return function(n){}[o(424)](o(447)).apply(o(427));1!==(""+n/n).length||n%20==0?function(){return!0}[o(424)]("debu"+o(402))[o(467)](o(452)):function(){return!1}.constructor(o(423)+o(402)).apply(o(436)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{D as default};
