import{a as t,U as n}from"./@tresjs.FlKhQDQ71735866388381.js";import{P as e}from"./tweakpane.yHWGBmom1735866388381.js";import{_ as o,a as r,ak as a,al as s}from"./three.Rja0AEnA1735866388381.js";import{_ as i}from"./heatmap.js-fix.O5HscpFZ1735866388381.js";import{d as c,a4 as u,a1 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as y,J as v,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.yG49nQHr1735866388381.js";import"./@vueuse.YI3Exu6_1735866388381.js";import"./@amap.B1QlzV1D1735866388381.js";!function(t,n){const e=k,o=M();for(;;)try{if(157995===-parseInt(e(320))/1+-parseInt(e(283))/2+parseInt(e(296))/3+parseInt(e(261))/4+-parseInt(e(325))/5+-parseInt(e(312))/6+-parseInt(e(273))/7*(-parseInt(e(316))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){I(this,(function(){const t=k,n=new RegExp(t(286)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=D("init");n.test(o+t(272))&&e[t(300)](o+"input")?D():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(309)+t(277)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(266)]||{},o=[t(271),t(294),t(321),t(301),"exception",t(267),"trace"];for(let r=0;r<o[t(282)];r++){const n=C[t(295)][t(269)][t(284)](C),a=o[r],s=e[a]||n;n[t(306)]=C[t(284)](C),n[t(293)]=s.toString[t(284)](s),e[a]=n}}))();const z=["object"];function k(t,n){const e=M();return(k=function(t,n){return e[t-=258]})(t,n)}const S=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=k;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(326)}))),a=await a,s(),a);h[e(268)][e(292)][e(297)](-5088.96,-3.08,39374.7),h.mesh_0[e(264)][e(311)](.01);let m=null,g=null,y=null;g=new(o[e(302)])((()=>{const t=e;return y=document.createElement(t(262)),y.style[t(292)]=t(310),y[t(333)][t(305)]=t(285),y[t(333)][t(259)]="0",document[t(291)][t(290)](y),m=i[t(279)]({container:y,width:256,height:256,blur:t(287),radius:c[t(324)]}),m._renderer.canvas[t(333)][t(317)]=t(332),m[t(275)][t(281)][t(323)]=function(n){const e=t;m[e(334)]({x:n[e(280)],y:n[e(313)],value:1,radius:c[e(324)]}),m[e(304)](1),g&&(g[e(288)]=!0)},m})()[e(275)][e(281)]);const v={vertexShader:e(265),fragmentShader:e(331),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(328)]},b=new(o[e(318)])(v);h[e(268)].material=b;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:a}=t.boundingBox;t[n(274)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(298)][n(292)][n(315)];e++)c.push((t[n(298)][n(292)].getX(e)-a.x)/s),c[n(299)]((t[n(298)][n(292)][n(327)](e)-a.z)/i);const u=new Float32Array(c);t[n(308)]("uv",new r(u,2))})(h.mesh_0[e(263)]),l((()=>{const t=e;y.style.display=""+(c[t(330)]?t(307):t(303))})),(t,n)=>{const o=e;return p(),f(o(270),{object:d(h)[o(268)]},null,8,z)}}});function D(t){function n(t){const e=k;if(typeof t===e(319))return function(t){}.constructor(e(260)).apply(e(278));1!==(""+t/t)[e(282)]||t%20==0?function(){return!0}.constructor("debu"+e(322))[e(329)](e(276)):function(){return!1}[e(295)](e(314)+e(322))[e(289)](e(258)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function M(){const t=["308680NjDkTx","bind","40px","function *\\( *\\)","0.8","needsUpdate","apply","appendChild","body","position","toString","warn","constructor","528129GGPrnl","set","attributes","push","test","error","Texture","none","setDataMax","top","__proto__","block","setAttribute","return (function() ","absolute","setScalar","644202ZdRGeJ","layerY","debu","count","8BYYjzc","border","ShaderMaterial","string","264053ZzElwD","info","gger","onclick","radius","606925rAAWpZ","./draco/","getZ","DoubleSide","call","show2dCanvas","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","1px solid #5384ff","style","addData","stateObject","left","while (true) {}","496700Rtfyuy","heatmap-canvas","geometry","scale","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","console","table","mesh_0","prototype","primitive","log","chain","3534454aLMzzZ","deleteAttribute","_renderer","action",'{}.constructor("return this")( )',"counter","create","layerX","canvas","length"];return(M=function(){return t})()}const A=R;!function(t,n){const e=R,o=Z();for(;;)try{if(379227===-parseInt(e(250))/1*(parseInt(e(256))/2)+-parseInt(e(268))/3+-parseInt(e(280))/4*(parseInt(e(275))/5)+-parseInt(e(274))/6+parseInt(e(282))/7+parseInt(e(266))/8*(parseInt(e(265))/9)+parseInt(e(284))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(267)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=R,n=new RegExp(t(263)),e=new RegExp(t(259),"i"),o=P(t(241));n[t(277)](o+t(281))&&e.test(o+"input")?P():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(267)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["显示二维图","action","stateObject","heatmapClick","init","show2dCanvas",'{}.constructor("return this")( )',"counter","table","bind","addButton","TresCanvas","gger","1qVcvsM","toString","TresDirectionalLight","while (true) {}","TresPerspectiveCamera","return (function() ","242068ChfbDa","info","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","prototype","radius","function *\\( *\\)","length","297639uEBdpj","136CmKaWI","apply","1794738QQEdfy","exception","trace","#030311","#ffffff","error","3723588FJWxnb","5WcQkEt","addBinding","test","constructor","log","2213228JBowNz","chain","2499259nPzQyd","TresGridHelper","13531680VrXLSg","warn","string"];return(Z=function(){return t})()}function R(t,n){const e=Z();return(R=function(t,n){return e[t-=241]})(t,n)}E(void 0,(function(){const t=R;let n;try{n=Function(t(255)+t(243)+");")()}catch(r){n=window}const e=n[t(258)]=n[t(258)]||{},o=[t(279),t(285),t(257),t(273),t(269),t(245),t(270)];for(let a=0;a<o[t(264)];a++){const n=E[t(278)][t(261)].bind(E),r=o[a],s=e[r]||n;n[t(260)]=E[t(246)](E),n[t(251)]=s[t(251)].bind(s),e[r]=n}}))();const T=c({__name:A(290),setup(t){const o=A,r={clearColor:o(271),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(276)](i,o(242),{label:o(287)}),c[o(276)](i,o(262),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(247)]({title:"点击左侧蓝色画框"}),(t,e)=>{const a=o,s=m(a(248));return p(),g(s,j(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=v(a(254),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v(a(252),{position:[5,10,7.5],color:a(272),intensity:5},null,-1)),e[2]||(e[2]=v(a(283),{args:[50,25]},null,-1)),(p(),g(w,null,{default:y((()=>[b(S,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=R;if(typeof t===e(286))return function(t){}[e(278)](e(253))[e(267)](e(244));1!==(""+t/t)[e(264)]||t%20==0?function(){return!0}[e(278)]("debu"+e(249)).call(e(288)):function(){return!1}[e(278)]("debu"+e(249)).apply(e(289)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{T as default};
