import{a as t,B as n,s as e,c0 as r,C as o,k as s,a0 as a}from"./three.bXjbKLxC1731379053498.js";import{w as i}from"./@fesjs.vI9WP6bH1731379053498.js";import{b as c}from"./@tresjs.bLKO3xyw1731379053498.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.npnPceGL1731379053498.js";!function(t,n){const e=h,r=g();for(;;)try{if(956503===parseInt(e(222))/1*(-parseInt(e(202))/2)+-parseInt(e(257))/3*(-parseInt(e(192))/4)+parseInt(e(248))/5+-parseInt(e(250))/6*(parseInt(e(246))/7)+-parseInt(e(209))/8*(parseInt(e(227))/9)+parseInt(e(263))/10+-parseInt(e(225))/11*(-parseInt(e(243))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=h,n=new RegExp(t(218)),e=new RegExp(t(205),"i"),r=I(t(241));n[t(236)](r+"chain")&&e[t(236)](r+t(256))?I():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[h(223)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(){const t=["getX","push","setAttribute","stateObject","while (true) {}","167520EDlrdz","call","position","value","min","return (function() ","computeBoundingBox","length","negate","1492tOXRWW","warn","sub","max","console","count","constructor","debu","config","center","108422iCgNmL","error","depthWrite","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","clone","attributes","random","2596840TnaGkm","computeBoundsTree","prototype","string","setY","then","counter","#fff","reflectivity","function *\\( *\\)","copy","gger","action","11uSaGNt","apply","applyMatrix4","208252SvaVZn","raycast","36qEWPKh","boundingBox","uniforms","getY","children","material","depthTest","get","__proto__","test","info","toString","deleteAttribute","disposeBoundsTree","init","bind","2568PjRvwo","getCenter","expandByObject","146846kuhyuN","log","146235lWxWaS","transparent","498pdjmMV","trace",'{}.constructor("return this")( )',"forEach","divideScalar","Vector3","input","3981YCbJTM"];return(g=function(){return t})()}function h(t,n){const e=g();return(h=function(t,n){return e[t-=187]})(t,n)}m(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function(t(188)+t(252)+");")()}catch(e){n=window}return n}(),e=n[t(196)]=n[t(196)]||{},r=[t(247),t(193),t(237),t(203),"exception","table",t(251)];for(let o=0;o<r.length;o++){const n=m[t(198)].prototype[t(242)](m),s=r[o],a=e[s]||n;n[t(235)]=m.bind(m),n[t(238)]=a[t(238)].bind(a),e[s]=n}}))();const d=(n,e=!1)=>{const r=h;n[r(189)]();const{max:o,min:s}=n[r(228)];n.deleteAttribute("uv");const a=o.x-s.x,i=o.y-s.y,c=[];for(let t=0;t<n.attributes.position[r(197)];t++)e?(c[r(259)]((n.attributes[r(265)][r(258)](t)-(s.x+o.x)/2)/a),c[r(259)]((n[r(207)][r(265)][r(230)](t)-(s.y+o.y)/2)/i)):(c[r(259)]((n[r(207)][r(265)].getX(t)-s.x)/a),c.push((n[r(207)][r(265)][r(230)](t)-s.y)/i));const u=new Float32Array(c);n[r(260)]("uv",new t(u,2))},w=(t,n)=>new Promise(((e,r)=>{const o=h;i(t,{},{method:o(234),mergeRequest:!0})[o(214)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[o(203)](t),r(t)}))})),y=t=>{const n=h,e=(new THREE.Box3).setFromObject(t),r=new(THREE[n(255)]);e[n(244)](r),t[n(231)][n(253)]((t=>{const e=n;t.position[e(194)](r)})),t[n(265)][n(219)](r.negate())},b=()=>{const t=h;n[t(211)][t(210)]=u,n[t(211)][t(240)]=p,e[t(211)][t(226)]=f},x=async t=>{const n=h,e=await c(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(206)]();d(i),i.computeBoundsTree();const u=new r(i,{color:new o(n(216)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(249)]=!0,u.material[n(204)]=!0,u.material[n(233)]=!0,u[n(232)].side=a,u[n(232)][n(229)][n(200)][n(266)].w=20,u.material[n(229)][n(217)][n(266)]=.46,u};function j(t){const n=h,e=[];for(let o=0;o<t.length;o++)e[n(259)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e.length;o++)r.add(e[o]);r[n(254)](e.length);for(let o=0;o<e[n(190)];o++)e[o][n(194)](r);return{points:e,centerPoint:r}}function I(t){function n(t){const e=h;if(typeof t===e(212))return function(t){}[e(198)](e(262))[e(223)](e(215));1!==(""+t/t)[e(190)]||t%20==0?function(){return!0}.constructor(e(199)+e(220))[e(264)](e(221)):function(){return!1}[e(198)](e(199)+e(220))[e(223)](e(261)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,b as i,w as l,d as r,x as s};
