import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.R75nw2wj1743039954535.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.ybSAn8i51743039954535.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.UWr0Ijt_1743039954535.js";import{V as t,K as e,C as n,n as i,u as r,aY as a,a as o,g as s,_ as l,U as c,b as u,M as p,t as f}from"./three.XuMWWlrU1743039954535.js";import{m as x,e as v}from"./@tresjs.05J-Im0t1743039954535.js";import{u as m}from"./index.5i_Lshjm1743039954535.js";import{F as w,C as h}from"./three-stdlib.DxlPEuV51743039954535.js";import{d as g}from"./@vue.C4dqouNn1743039954535.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.vyLP8kyX1743039954535.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.3sG7_ZHl1743039954535.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.CZZqJoW11743039954535.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.V2hq0z-L1743039954535.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.H_YXXBFM1743039954535.js";!function(t,e){const n=S,i=y();for(;;)try{if(341371===-parseInt(n(245))/1+parseInt(n(250))/2*(-parseInt(n(267))/3)+-parseInt(n(265))/4*(-parseInt(n(239))/5)+parseInt(n(269))/6+parseInt(n(247))/7*(-parseInt(n(236))/8)+-parseInt(n(253))/9+parseInt(n(258))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const d=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[S(263)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function y(){const t=["warn","call","14625360ARddKH","while (true) {}","table","test","exception","apply","return (function() ","4tqTIPB","toString","2586vwHoWn","input","242484UXTbpt","counter","8xGOAPj","info","error","2433335ByvJAk","console","constructor","string","bind","init","156950hcYGXb","gger","1946119fAJaxi",'{}.constructor("return this")( )',"log","1378qoXTZn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","5574249LoOrJt","trace","length"];return(y=function(){return t})()}function S(t,e){const n=y();return S=function(t,e){return n[t-=236]},S(t,e)}!function(){d(this,(function(){const t=S,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(251),"i"),i=P(t(244));e[t(261)](i+"chain")&&n.test(i+t(268))?P():i("0")}))()}();const _=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[S(263)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();_(void 0,(function(){const t=S,e=function(){const t=S;let e;try{e=Function(t(264)+t(248)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(240)]||{},i=[t(249),t(256),t(237),t(238),t(262),t(260),t(254)];for(let r=0;r<i[t(255)];r++){const e=_[t(241)].prototype.bind(_),a=i[r],o=n[a]||e;e[t(252)]=_[t(243)](_),e[t(266)]=o[t(266)][t(243)](o),n[a]=e}}))();function P(t){function e(t){const n=S;if(typeof t===n(242))return function(t){}[n(241)](n(259))[n(263)](n(270));1!==(""+t/t)[n(255)]||t%20==0?function(){return!0}[n(241)]("debu"+n(246))[n(257)]("action"):function(){return!1}[n(241)]("debu"+n(246))[n(263)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const z=A;!function(t,e){const n=A,i=U();for(;;)try{if(762703===parseInt(n(190))/1*(-parseInt(n(197))/2)+-parseInt(n(198))/3*(parseInt(n(191))/4)+-parseInt(n(181))/5+-parseInt(n(210))/6+parseInt(n(199))/7+-parseInt(n(180))/8+-parseInt(n(178))/9*(-parseInt(n(201))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[A(215)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=A,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(203),"i"),i=D("init");e[t(211)](i+"chain")&&n.test(i+t(213))?D():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[A(215)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function A(t,e){const n=U();return A=function(t,e){return n[t-=178]},A(t,e)}function M(t){const n=A,i={...t};return n(184)in t&&(i[n(184)]={...t[n(184)]}),n(179)in t&&(i[n(179)]=e[n(188)](t[n(179)])),i}I(void 0,(function(){const t=A;let e;try{e=Function(t(185)+t(189)+");")()}catch(r){e=window}const n=e[t(216)]=e.console||{},i=["log",t(200),"info",t(195),t(193),t(194),"trace"];for(let a=0;a<i[t(202)];a++){const e=I[t(192)][t(196)].bind(I),r=i[a],o=n[r]||e;e[t(186)]=I[t(183)](I),e.toString=o[t(187)].bind(o),n[r]=e}}))();const E={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new t},parentMapSize:{value:new t},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:z(207)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n'+z(206)};function U(){const t=["call","3005298PdVxsA","test","action","input","string","apply","console","1564974cspGCk","uniforms","9028800hcCAVn","3494765MtpFVs","gger","bind","defines","return (function() ","__proto__","toString","clone",'{}.constructor("return this")( )',"17sPYyqD","4KgCAyy","constructor","exception","table","error","prototype","108518OjghwP","3937341cQezlx","8069075CpoCXM","warn","240zTCAWo","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","stateObject","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","while (true) {}"];return(U=function(){return t})()}function D(t){function e(t){const n=A;if(typeof t===n(214))return function(t){}[n(192)](n(208))[n(215)]("counter");1!==(""+t/t)[n(202)]||t%20==0?function(){return!0}[n(192)]("debu"+n(182))[n(209)](n(212)):function(){return!1}.constructor(n(204)+n(182))[n(215)](n(205)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=j;!function(t,e){const n=j,i=O();for(;;)try{if(455056===parseInt(n(432))/1+-parseInt(n(448))/2+-parseInt(n(424))/3+-parseInt(n(441))/4*(-parseInt(n(413))/5)+-parseInt(n(442))/6+-parseInt(n(423))/7*(parseInt(n(452))/8)+-parseInt(n(428))/9*(-parseInt(n(431))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[j(474)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){T(this,(function(){const t=j,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(462),"i"),i=R(t(422));e.test(i+"chain")&&n[t(434)](i+t(407))?R():i("0")}))()}();const V=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(t,e){const n=O();return j=function(t,e){return n[t-=405]},j(t,e)}function O(){const t=["map","setClearColor","apply","dispose","error","action","floor","input","toString","call","setClearAlpha",'{}.constructor("return this")( )',"originalMapSize","5cBLWQx","__proto__","value","render","X_IS_EVEN","clear","forEach","magFilter","_copyQuad","init","56XbPPSU","1023501Kfmkzs","camera","type","replace","9xWKHyy","debu","string","3422350nyoqmK","658105fuBVoV","copy","test","_swapTarget","fragmentShader","_mipQuad","update","stateObject","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","3517564Pwdvah","573900ZBWMYf","parentLevel","defines","console","setSize","isWebGLRenderTarget","841060PGTeaR","while (true) {}","info","getClearAlpha","567328UXRXxn","material","bind","minFilter","return (function() ","width","autoClear","uniforms","setRenderTarget","set","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setViewOffset","table","image","texture","constructor","_mipMaterials","Y_IS_EVEN","getRenderTarget","length"];return(O=function(){return t})()}V(void 0,(function(){const t=j,e=function(){const t=j;let e;try{e=Function(t(456)+t(411)+");")()}catch(n){e=window}return e}(),n=e[t(445)]=e[t(445)]||{},i=["log","warn",t(450),t(476),"exception",t(464),"trace"];for(let r=0;r<i[t(471)];r++){const e=V.constructor.prototype.bind(V),a=i[r],o=n[a]||e;e[t(414)]=V[t(454)](V),e[t(408)]=o[t(408)][t(454)](o),n[a]=e}}))();const k=new n;class C{constructor(t){const e=j;!t&&(t=e(440));const n=M(E);n[e(436)]=n.fragmentShader[e(427)](/<mipmap_logic>/g,t);const o=new Array(4);o[0]=new i(M(n)),o[0][e(444)][e(417)]=0,o[0][e(444)].Y_IS_EVEN=0,o[1]=new i(M(n)),o[1][e(444)][e(417)]=1,o[1][e(444)][e(469)]=0,o[2]=new i(M(n)),o[2].defines[e(417)]=0,o[2][e(444)][e(469)]=1,o[3]=new i(M(n)),o[3][e(444)][e(417)]=1,o[3][e(444)].Y_IS_EVEN=1;const s=new r;s[e(466)][e(455)]=a,s.texture[e(420)]=a,this[e(435)]=s,this[e(421)]=new w(new i(h)),this[e(437)]=new w(null),this[e(468)]=o}[L(438)](t,e,n,i=!1){const r=L;t[r(447)]&&(t=t.texture);const a=n[r(458)],s=n[r(451)](),l=n[r(470)]();n.getClearColor(k);const c=this[r(421)],u=this[r(437)],p=this[r(435)],f=this[r(468)];let x,v;i?(x=o.floorPowerOfTwo(t.image[r(457)]),v=o.floorPowerOfTwo(t[r(465)].height)):(x=Math[r(406)](t[r(465)].width),v=Math[r(406)](t[r(465)].height));const m=Math.floor(1.5*x),w=Math[r(406)](v);e.setSize(m,w),p[r(466)][r(426)]!==e[r(466)][r(426)]?(p[r(475)](),p[r(433)](e),p[r(466)].image={...p[r(466)][r(465)]}):p[r(446)](m,w),n[r(458)]=!1,n.setClearColor(0),n[r(410)](),c[r(453)][r(459)].tDiffuse[r(415)]=t,c[r(425)].setViewOffset(x,v,0,0,m,w),n[r(460)](e),n.clear(),c.render(n),n[r(460)](p),n[r(418)](),c[r(416)](n);let h=x,g=v,d=0;for(;h>1&&g>1;){const t=f[(h%2==0?1:0)|(g%2==0?2:0)];t[r(459)][r(472)].value=p[r(466)],t[r(459)][r(443)][r(415)]=d,t[r(459)].parentMapSize[r(415)].set(h,g),t[r(459)][r(412)].value[r(461)](x,v),u[r(453)]=t,h=Math[r(406)](h/2),g=Math[r(406)](g/2);const i=w-2*g;n[r(460)](e),u.camera[r(463)](h,g,-x,-i,m,w),u[r(416)](n),n[r(460)](p),t[r(459)].map[r(415)]=e[r(466)],u[r(416)](n),d++}return n[r(460)](l),n[r(410)](s),n[r(473)](k),n[r(458)]=a,d+1}[L(475)](){const t=L;this._swapTarget.dispose(),this[t(437)].dispose(),this._copyQuad.dispose(),this._mipMaterials[t(419)]((e=>e[t(475)]()))}}function R(t){function e(t){const n=j;if(typeof t===n(430))return function(t){}[n(467)](n(449))[n(474)]("counter");1!==(""+t/t)[n(471)]||t%20==0?function(){return!0}[n(467)](n(429)+"gger")[n(409)](n(405)):function(){return!1}[n(467)](n(429)+"gger").apply(n(439)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const W=F;!function(t,e){const n=F,i=N();for(;;)try{if(363599===parseInt(n(238))/1*(-parseInt(n(225))/2)+-parseInt(n(250))/3*(-parseInt(n(228))/4)+-parseInt(n(239))/5+-parseInt(n(272))/6+parseInt(n(285))/7+parseInt(n(261))/8*(-parseInt(n(255))/9)+-parseInt(n(233))/10*(-parseInt(n(277))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(253)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){X(this,(function(){const t=F,e=new RegExp(t(273)),n=new RegExp(t(259),"i"),i=Z(t(265));e[t(282)](i+"chain")&&n[t(282)](i+t(217))?Z():i("0")}))()}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(253)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(){const t=["sign","multiplyScalar","error","13498470wbzySA","copy","bind","parent","buffers","18885jPIzeW","3086920diCXzy","value","clear","Vector4","Vector3","getWorldPosition","matrixWorldInverse","log","updateMatrixWorld","applyQuaternion","sub","537jNTcmB","lookAt","forEach","apply","autoClear","846fbByxk","projectionMatrix","UnsignedByteType","negate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","PerspectiveCamera","29256yMaKOY","Matrix4","resolution","add","init","render","applyMatrix4","ignoreObjects","dot","console","clone","89838MKaogX","function *\\( *\\)","reflectorMipMap","visible","state","11kRUJEF","normal","multiply","return (function() ","Quaternion","test","elements","call","1615047JkmIwo","string","stateObject","getWorldQuaternion","setMask","constructor","length","getRenderTarget","input","texture","setRenderTarget","constant","counter","depth","gger","set","38VIVHOg","debu","trace","2636hTKKxB","toString"];return(N=function(){return t})()}function F(t,e){const n=N();return F=function(t,e){return n[t-=213]},F(t,e)}H(void 0,(function(){const t=F,e=function(){const t=F;let e;try{e=Function(t(280)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(270)]=e.console||{},i=[t(246),"warn","info",t(232),"exception","table",t(227)];for(let r=0;r<i[t(215)];r++){const e=H[t(214)].prototype[t(235)](H),a=i[r],o=n[a]||e;e.__proto__=H[t(235)](H),e.toString=o[t(229)].bind(o),n[a]=e}}))();const Y=g({__name:W(274),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=W,i=t,r=new s,a=new(l[n(262)]),o=new(l[n(260)]),w=new C,h=m({width:i[n(263)],height:i[n(263)],settings:{type:c}}),g=m({width:i.resolution,height:i[n(263)],settings:{type:l[n(257)]}}),{camera:d,renderer:y,scene:S}=x(),{onBeforeLoop:_}=v();return _((()=>{const t=n;(()=>{const t=n;if(!d[t(240)])return;r[t(224)](new(l[t(243)])(0,1,0),0),r[t(267)](i[t(236)].matrixWorld),o[t(234)](d[t(240)]);const e=new u(0,0,1)[t(271)]()[t(258)](),s=d[t(240)][t(244)](new(l[t(243)]));e.reflect(r[t(278)]);const c=new u;r.projectPoint(s,c);const x=c[t(271)]();x.sub(s),x.add(c),o.position[t(234)](x);const v=new(l[t(243)])(0,0,-1);v[t(248)](d[t(240)].getWorldQuaternion(new(l[t(281)]))),v.add(s);const m=new(l[t(243)]);i[t(236)].getWorldPosition(m),m[t(249)](v),m.reflect(r[t(278)])[t(258)](),m[t(264)](i.parent[t(244)](new(l[t(243)]))),o.up[t(224)](0,1,0),o[t(248)](d[t(240)][t(288)](new(l[t(281)]))),o.up.reflect(r[t(278)]),o[t(251)](m),o[t(247)]();const w=new p;w[t(224)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(o[t(256)]),w[t(279)](o[t(245)]),a[t(234)](w),r[t(267)](o[t(245)]);const g=new(l[t(242)])(r[t(278)].x,r[t(278)].y,r.normal.z,r[t(220)]),_=o.projectionMatrix,P=new f;P.x=(Math[t(230)](g.x)+_.elements[8])/_.elements[0],P.y=(Math[t(230)](g.y)+_.elements[9])/_.elements[5],P.z=-1,P.w=(1+_[t(283)][10])/_[t(283)][14],g[t(231)](2/g[t(269)](P)),_[t(283)][2]=g.x,_[t(283)][6]=g.y,_[t(283)][10]=g.z+1,_[t(283)][14]=g.w;const z=y.value[t(216)]();y[t(240)][t(219)](h[t(240)]),y[t(240)][t(276)][t(237)][t(222)][t(213)](!0),!1===y.value[t(254)]&&y[t(240)][t(241)](),i[t(268)][t(252)]((e=>e[t(275)]=!1)),y[t(240)][t(266)](S[t(240)],o),i[t(268)][t(252)]((t=>t.visible=!0)),y[t(240)][t(219)](z)})(),h.value&&g[t(240)]&&y[t(240)]&&w.update(h[t(240)][t(218)],g.value,y[t(240)])})),e({matrix:a,renderTarget:g}),(t,e)=>null}});function Z(t){function e(t){const n=F;if(typeof t===n(286))return function(t){}[n(214)]("while (true) {}").apply(n(221));1!==(""+t/t)[n(215)]||t%20==0?function(){return!0}[n(214)](n(226)+n(223))[n(284)]("action"):function(){return!1}.constructor(n(226)+n(223))[n(253)](n(287)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=$,i=Q();;)try{if(887724===parseInt(n(511))/1+-parseInt(n(500))/2*(parseInt(n(482))/3)+parseInt(n(495))/4+parseInt(n(491))/5*(parseInt(n(515))/6)+-parseInt(n(507))/7*(-parseInt(n(485))/8)+-parseInt(n(509))/9*(-parseInt(n(504))/10)+-parseInt(n(503))/11*(parseInt(n(508))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K,B=(K=!0,function(t,e){var n=K?function(){if(e){var n=e[$(518)](t,arguments);return e=null,n}}:function(){};return K=!1,n});!function(){B(this,(function(){var t=$,e=new RegExp(t(514)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=q(t(502));e[t(505)](i+t(498))&&n[t(505)](i+"input")?q():i("0")}))()}();var G,J=(G=!0,function(t,e){var n=G?function(){if(e){var n=e[$(518)](t,arguments);return e=null,n}}:function(){};return G=!1,n});function Q(){var t=["6747784lrKzAt","exception","bind","log","debu","table","538110JhYDBZ","while (true) {}","console","warn","6439344LUeyRZ","string","prototype","chain","__proto__","2UNkqgf","length","init","26102285vrWdgg","3110XaUybb","test","action","7KdJvsk","24JerCUo","18315BkWJGA","info","1522563sKuvlq","stateObject","toString","function *\\( *\\)","60KuTeFw","call","trace","apply","gger","154149DJGTEu","return (function() ","constructor"];return(Q=function(){return t})()}function $(t,e){var n=Q();return $=function(t,e){return n[t-=481]},$(t,e)}function q(t){function e(t){var n=$;if(typeof t===n(496))return function(t){}.constructor(n(492))[n(518)]("counter");1!==(""+t/t)[n(501)]||t%20==0?function(){return!0}.constructor(n(489)+"gger")[n(516)](n(506)):function(){return!1}[n(484)](n(489)+n(481)).apply(n(512)),e(++t)}try{if(t)return e;e(0)}catch(n){}}J(void 0,(function(){var t,e=$;try{t=Function(e(483)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t[e(493)]=t[e(493)]||{},i=[e(488),e(494),e(510),"error",e(486),e(490),e(517)],r=0;r<i.length;r++){var a=J.constructor[e(497)][e(487)](J),o=i[r],s=n[o]||a;a[e(499)]=J[e(487)](J),a[e(513)]=s.toString[e(487)](s),n[o]=a}}))();export{Y as _};
