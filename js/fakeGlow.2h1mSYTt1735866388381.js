import{U as n,C as t}from"./@tresjs.FlKhQDQ71735866388381.js";import{m as o,bm as e,C as r,aB as i,a0 as a,z as s,s as l,cl as c,_ as u}from"./three.Rja0AEnA1735866388381.js";import{P as f}from"./tweakpane.yHWGBmom1735866388381.js";import{d as p,r as g,a1 as d,e as m,o as v,f as w,g as h,J as y,j as I,u as b,al as x}from"./@vue.yG49nQHr1735866388381.js";import"./@vueuse.YI3Exu6_1735866388381.js";!function(n,t){for(var o=_,e=k();;)try{if(614717===-parseInt(o(417))/1*(-parseInt(o(438))/2)+-parseInt(o(418))/3+-parseInt(o(428))/4+-parseInt(o(433))/5*(parseInt(o(444))/6)+parseInt(o(431))/7*(parseInt(o(411))/8)+parseInt(o(455))/9*(-parseInt(o(414))/10)+parseInt(o(446))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[_(449)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(n,t){var o=k();return(_=function(n,t){return o[n-=411]})(n,t)}!function(){j(this,(function(){var n=_,t=new RegExp(n(448)),o=new RegExp(n(430),"i"),e=z(n(421));t.test(e+n(427))&&o[n(436)](e+"input")?z():e("0")}))()}();var S=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();S(void 0,(function(){for(var n=_,t=function(){var n,t=_;try{n=Function(t(419)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=t[n(420)]=t[n(420)]||{},e=[n(439),"warn",n(453),n(447),"exception","table",n(435)],r=0;r<e[n(442)];r++){var i=S[n(413)][n(437)][n(422)](S),a=e[r],s=o[a]||i;i[n(416)]=S[n(422)](S),i.toString=s.toString[n(422)](s),o[a]=i}}))();const T=class extends o{constructor(n={}){var t=_;super(),this[t(454)]=t(452),this.fragmentShader=t(425),this[t(424)]={opacity:new e(void 0!==n[t(450)]?n[t(450)]:1),glowInternalRadius:new e(void 0!==n[t(441)]?n[t(441)]:6),glowSharpness:new e(void 0!==n[t(426)]?n[t(426)]:.5),falloff:new e(void 0!==n.falloff?n.falloff:.1),glowColor:new e(void 0!==n[t(429)]?new r(n[t(429)]):new r(t(412)))},this.setValues(n),this[t(440)]=void 0!==n[t(440)]&&n[t(440)],this[t(432)]=void 0!==n[t(451)]?n[t(451)]:i,this.transparent=!0,this.side=void 0!==n.side?n.side:a}};function k(){var n=["vertexShader","2187YJTakM","16crPkgG","#00d5ff","constructor","24390dEdrxa","debu","__proto__","1YakqYs","2860224YFOKgc","return (function() ","console","init","bind","gger","uniforms","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","glowSharpness","chain","2138256IwRuiH","glowColor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2153025ZEhEeu","blending","265nnAifc","action","trace","test","prototype","2286274VFSDpf","log","depthTest","glowInternalRadius","length","while (true) {}","36510hwYwlz","counter","13855424EpZqCv","error","function *\\( *\\)","apply","opacity","blendMode","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","info"];return(k=function(){return n})()}function z(n){function t(n){var o=_;if("string"==typeof n)return function(n){}[o(413)](o(443))[o(449)](o(445));1!==(""+n/n)[o(442)]||n%20==0?function(){return!0}.constructor(o(415)+o(423)).call(o(434)):function(){return!1}[o(413)](o(415)+o(423))[o(449)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const C=M;!function(n,t){const o=M,e=F();for(;;)try{if(325115===parseInt(o(433))/1*(-parseInt(o(461))/2)+parseInt(o(436))/3+parseInt(o(474))/4+-parseInt(o(464))/5*(parseInt(o(451))/6)+-parseInt(o(448))/7*(parseInt(o(446))/8)+parseInt(o(435))/9*(-parseInt(o(481))/10)+parseInt(o(427))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[M(467)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){P(this,(function(){const n=M,t=new RegExp(n(431)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=B(n(455));t.test(e+n(457))&&o[n(450)](e+"input")?B():e("0")}))()}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[M(467)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();R(void 0,(function(){const n=M;let t;try{t=Function(n(456)+'{}.constructor("return this")( ));')()}catch(r){t=window}const o=t[n(459)]=t[n(459)]||{},e=[n(480),n(425),"info","error",n(460),n(477),"trace"];for(let i=0;i<e[n(443)];i++){const t=R.constructor[n(473)][n(441)](R),r=e[i],a=o[r]||t;t[n(462)]=R[n(441)](R),t.toString=a[n(429)][n(441)](a),o[r]=t}}))();const G={position:[0,6,0]},E=[C(484)];function F(){const n=["辉光参数","TresMeshPhysicalMaterial","table","addBinding","TresDirectionalLight","log","10UOiqbO","TresTorusKnotGeometry","清晰度","object","call","falloff","BackSide","TresGroup","TresCanvas","warn","Color","4647973bABQZT","side","toString","TresPerspectiveCamera","function *\\( *\\)","内半径","7834jWkWfG","pos-y.jpg","2389356Tbuqut","280806wQBeIT","stateObject","#a058c1","debu","counter","bind","glowSharpness","length","constructor","while (true) {}","300568jAQeTu","glowColor","14NYcwZg","action","test","30fOIott","string","TresGridHelper","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","init","return (function() ","chain","材质面","console","exception","100QEhskI","__proto__","neg-y.jpg","63565turmoz","value","uniforms","apply","TresAmbientLight","DoubleSide","gger","opacity","glowInternalRadius","prototype","2419444uXauFD"];return(F=function(){return n})()}function M(n,t){const o=F();return(M=function(n,t){return o[n-=420]})(n,t)}const A=p({__name:"fakeGlow",setup(o){const e=C,r=new f({title:e(475),expanded:!0}),i=g({glowColor:e(438),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),a=new T,p=new l(new c(4,3.8,128,128),a);return r[e(478)](i,e(447),{label:"颜色"}),r[e(478)](i,e(421),{label:"衰减",min:0,max:10,step:.1}),r.addBinding(i,e(472),{label:e(432),min:-5,max:5,step:.1}),r[e(478)](i,e(442),{label:e(483),min:0,max:10,step:.1}),r[e(478)](i,e(471),{label:"透明",min:0,max:1,step:.1}),r[e(478)](i,e(428),{label:e(458),options:{FrontSide:s,BackSide:u[e(422)],DoubleSide:u[e(469)]}}),d((()=>{const n=e;a[n(466)][n(421)][n(465)]=i[n(421)],a[n(466)][n(447)][n(465)]=new(u[n(426)])(i[n(447)]),a.uniforms[n(472)][n(465)]=i.glowInternalRadius,a[n(466)][n(442)][n(465)]=i.glowSharpness,a[n(466)][n(471)][n(465)]=i[n(471)],a[n(428)]=i[n(428)]})),(o,r)=>{const i=e,a=m(i(424));return v(),w(a,{"window-size":""},{default:h((()=>[r[1]||(r[1]=y(i(430),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=y(i(468),{intensity:1.5},null,-1)),r[3]||(r[3]=y(i(479),{position:[100,100,60],intensity:20},null,-1)),I(b(n),{autoRotate:""}),r[4]||(r[4]=y(i(453),{args:[20,10]},null,-1)),y(i(423),G,[r[0]||(r[0]=y("TresMesh",null,[y(i(482),{args:[4,.5,128,128]}),y(i(476),{color:"blue",roughness:.2,clearcoat:1})],-1)),y("primitive",{object:b(p)},null,8,E)]),(v(),w(x,null,{default:h((()=>[I(b(t),{files:["pos-x.jpg","neg-x.jpg",i(434),i(463),"pos-z.jpg","neg-z.jpg"],path:i(454)})])),_:1}))])),_:1})}}});function B(n){function t(n){const o=M;if(typeof n===o(452))return function(n){}[o(444)](o(445)).apply(o(440));1!==(""+n/n)[o(443)]||n%20==0?function(){return!0}[o(444)]("debu"+o(470))[o(420)](o(449)):function(){return!1}[o(444)](o(439)+"gger")[o(467)](o(437)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{A as default};
