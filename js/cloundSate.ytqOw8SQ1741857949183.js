import{a as t,m as n,o as e}from"./@tresjs.8SAr0PX_1741857949183.js";import{_ as o,b as r}from"./three.Gi_-4zeu1741857949183.js";import{_ as c,h as i}from"./three-tile.BR1Hgr_Q1741857949183.js";import{_ as s,c as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.fI0WncLg1741857949183.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as g,r as d,b as _,f as y,g as I,j as b,m as w,al as S,F as j,e as x,aj as v,ak as M}from"./@vue.NRI7TcgI1741857949183.js";import{P as D}from"./tweakpane.yDiyAAkA1741857949183.js";import{_ as F}from"./informationDiv.7n7GcOQ21741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./@fesjs._GqZBaJ41741857949183.js";import"./vue-router.vV-TPEpQ1741857949183.js";import"./lodash-es.pklfUAS51741857949183.js";import"./@qlin.yHhFDldE1741857949183.js";import"./pinia.m-1lhBPB1741857949183.js";import"./@floating-ui.BPbuo5Gx1741857949183.js";import"./@juggle.7yjBMqoW1741857949183.js";const E=L;!function(t,n){const e=L,o=P();for(;;)try{if(810116===-parseInt(e(453))/1*(-parseInt(e(444))/2)+-parseInt(e(460))/3*(-parseInt(e(465))/4)+-parseInt(e(439))/5*(parseInt(e(437))/6)+parseInt(e(458))/7+-parseInt(e(446))/8*(-parseInt(e(440))/9)+parseInt(e(477))/10+-parseInt(e(463))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=L,n=new RegExp(t(433)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=C(t(468));n.test(o+t(448))&&e[t(485)](o+t(454))?C():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(461)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();z(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(469)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(481)]=n[t(481)]||{},o=[t(476),t(472),t(434),t(436),t(493),t(498),t(475)];for(let r=0;r<o.length;r++){const n=z[t(479)][t(470)].bind(z),c=o[r],i=e[c]||n;n[t(473)]=z[t(486)](z),n[t(455)]=i.toString.bind(i),e[c]=n}}))();const G=[E(462)],A=[E(489),"material",E(442),"position-y"];function L(t,n){const e=P();return(L=function(t,n){return e[t-=432]})(t,n)}const R=u({__name:E(487),props:{map:{},height:{default:100},color:{default:E(449)},opacity:{default:.6}},async setup(n){const e=E;let r,c;const i=n,a=new(o[e(492)])({displacementMap:new(o[e(441)]),transparent:!0,side:o[e(466)],opacity:i.opacity,color:new(o[e(445)])(i.color)});a[e(474)]=t=>{const n=e;t[n(480)]=n(494)+t.vertexShader,t.vertexShader=t[n(480)][n(490)]("#include <displacementmap_vertex>",n(496)),t.fragmentShader=t[n(452)][n(490)](n(432),"\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ")};const u=i.map[e(464)](new(o[e(438)])(105,34,0));u[e(483)](i[e(447)].matrix);const d=s[e(482)](i.map,{x:67,y:11},{x:140,y:57},i[e(500)]),_=[e(497),e(478),e(491),e(488)];let y=0;const I=([r,c]=p((()=>t(_))),r=await r,c(),r);a[e(447)]=I[y],l((()=>[i[e(450)],i.opacity]),(([t,n])=>{const o=e;a[o(450)][o(435)](t),a[o(456)]=n}));let b=null,w=!1;return w?(clearInterval(b),b=null,w=!1):(b=setInterval((()=>{const t=L;y=y<_[t(471)]-1?y+1:0,a[t(447)]=I[y],a[t(443)]=!0,console[t(476)](y)}),1e3),w=!0),(t,n)=>{const o=e;return f(),m(o(501),{position:[...g(u)]},[h("TresMesh",{scale:[g(d).x,g(d).y,t[o(500)]],material:g(a),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(500)]/5},n[0]||(n[0]=[h(o(495),{args:[1,1,529,420]},null,-1)]),8,A)],8,G)}}});function C(t){function n(t){const e=L;if(typeof t===e(484))return function(t){}[e(479)](e(499))[e(461)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(459)+"gger")[e(451)](e(457)):function(){return!1}[e(479)](e(459)+"gger")[e(461)](e(467)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function P(){const t=["transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","table","while (true) {}","height","TresGroup","#include <alphamap_fragment>","function *\\( *\\)","info","setStyle","error","96cbrhct","Vector3","426665UslELg","8406yKVHCy","Texture","rotateX","needsUpdate","240678yKRTSo","Color","888hLlZER","map","chain","#cccccc","color","call","fragmentShader","7ZIKfIz","input","toString","opacity","action","10851519vfxcwR","debu","13683bCjrYA","apply","position","13106203pYFHZN","geo2pos","4vuUPMa","DoubleSide","stateObject","init","return (function() ","prototype","length","warn","__proto__","onBeforeCompile","trace","log","8660920JEeouw","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png","constructor","vertexShader","console","scaleImg","applyMatrix4","string","test","bind","cloundSateShow","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","scale","replace","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","MeshPhongMaterial","exception","uniform sampler2D map;\n\t\t","TresPlaneGeometry"];return(P=function(){return t})()}const Z=V;!function(t,n){const e=V,o=H();for(;;)try{if(320577===-parseInt(e(439))/1+parseInt(e(452))/2*(-parseInt(e(458))/3)+-parseInt(e(415))/4*(parseInt(e(411))/5)+parseInt(e(416))/6+-parseInt(e(423))/7*(parseInt(e(454))/8)+-parseInt(e(417))/9+parseInt(e(410))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(446)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=V,n=new RegExp(t(453)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=U(t(447));n[t(460)](o+t(457))&&e[t(460)](o+"input")?U():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=V;let n;try{n=Function("return (function() "+t(437)+");")()}catch(r){n=window}const e=n[t(409)]=n[t(409)]||{},o=[t(455),t(459),"info","error",t(429),t(407),t(449)];for(let c=0;c<o.length;c++){const n=N.constructor[t(428)][t(445)](N),r=o[c],i=e[r]||n;n[t(405)]=N[t(445)](N),n[t(427)]=i[t(427)][t(445)](i),e[r]=n}}))();const k=[Z(420)];function H(){const t=["object","Vector3","TresDirectionalLight","240338nxbeHp","while (true) {}","#cccccc","debu","toString","prototype","exception","counter","mapBoxShow2","plugin","copy","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","addBinding","length",'{}.constructor("return this")( )',"gger","354348lGUVdW","call","geo2pos","string","透明度","GDSource","bind","apply","init","stateObject","trace","constructor","map","600634yBLAbm","function *\\( *\\)","8ZzzZPJ","log","TileMap","chain","3eEiERx","warn","test","position","value","__proto__","target","table","domElement","console","12554610xRIpYx","1415dwZeyD","MapBoxSource","showLocation","primitive","716KgdYPS","2576796Fuwyeb","5622246EuoNCh","rotateX","localToWorld"];return(H=function(){return t})()}function V(t,n){const e=H();return(V=function(t,n){return e[t-=403]})(t,n)}const O=Z(434),W=u({__name:Z(431),setup(t){const e=Z,u=d({height:500,color:e(425),opacity:.6}),p=new D({title:"参数"});p[e(435)](u,"color",{label:"颜色"}),p.addBinding(u,"height",{label:"高度",min:10,max:5e3,step:10}),p[e(435)](u,"opacity",{label:e(443),min:0,max:1,step:.1});const x=new(c[e(432)][e(412)])({token:O,dataType:"terrain-rgb",style:"mapbox.terrain-rgb",maxLevel:15}),v=new(c[e(456)])({imgSource:[new(i[e(444)])({style:"6"}),new(i[e(444)])({style:"8"})],demSource:x,lon0:90,minLevel:2,maxLevel:20});v[e(418)](-Math.PI/2);const M=new r(105,34,0),F=new(o[e(421)])(110,0,1e4),E=v[e(419)](v[e(441)](M)),T=v[e(419)](v[e(441)](F)),z=_(),{camera:G,controls:A,scene:L,renderer:C}=n();return G[e(404)]&&G[e(404)].position[e(433)](T),l((()=>A[e(404)]),(t=>{const n=e;t&&(t[n(406)].copy(E),a(t,G[n(404)],L[n(404)]))})),l((()=>z[e(404)]),(t=>{const n=e;t&&t[n(406)][n(403)][n(433)](E)})),s[e(413)](G.value,C.value[e(408)],v),(t,n)=>{const o=e;return f(),m(j,null,[h(o(422),{ref_key:"tdLight",ref:z,position:[0,2e3,1e3],intensity:1},null,512),h(o(414),{object:g(v)},null,8,k),(f(),y(S,null,{default:I((()=>[b(R,w({map:g(v)},u),null,16,[o(451)])])),_:1}))],64)}}});function U(t){function n(t){const e=V;if(typeof t===e(442))return function(t){}[e(450)](e(424)).apply(e(430));1!==(""+t/t)[e(436)]||t%20==0?function(){return!0}[e(450)](e(426)+e(438))[e(440)]("action"):function(){return!1}[e(450)]("debu"+e(438))[e(446)](e(448)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=q,o=K();for(;;)try{if(105768===-parseInt(e(246))/1+parseInt(e(242))/2+parseInt(e(218))/3+parseInt(e(217))/4*(parseInt(e(214))/5)+-parseInt(e(250))/6+parseInt(e(238))/7+-parseInt(e(239))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Y(this,(function(){const t=q,n=new RegExp(t(215)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=J(t(216));n.test(o+t(224))&&e[t(229)](o+t(237))?J():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(234)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=K();return(q=function(t,n){return e[t-=214]})(t,n)}function K(){const t=["table","prototype","test","trace","__proto__","TresCanvas","length","apply","bind","debu","input","1084720xwtSEM","685144XncGZg","stateObject","counter","73002naNuGz","call","while (true) {}","#dbf0ff","4776JPKcCv","console","constructor","string","464454CfNVCP","5705VGpUPV","function *\\( *\\)","init","260OhQHEY","23910LXpTzz","log","highp","error","action","TresAmbientLight","chain","TresPerspectiveCamera","gger"];return(K=function(){return t})()}$(void 0,(function(){const t=q;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(247)]=n.console||{},o=[t(219),"warn","info",t(221),"exception",t(227),t(230)];for(let c=0;c<o[t(233)];c++){const n=$.constructor[t(228)][t(235)]($),r=o[c],i=e[r]||n;n[t(231)]=$[t(235)]($),n.toString=i.toString[t(235)](i),e[r]=n}}))();const X=u({__name:"cloundSate",setup(t){const n=q,o=d({clearColor:n(245),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(220)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const i=n,s=x(i(232));return f(),m(j,null,[b(s,w(o,{"window-size":""}),{default:I((()=>[c[0]||(c[0]=h(i(225),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(g(e),v(M(r)),null,16),c[1]||(c[1]=h(i(223),{intensity:1},null,-1)),b(W)])),_:1},16),b(F)],64)}}});function J(t){function n(t){const e=q;if(typeof t===e(249))return function(t){}[e(248)](e(244))[e(234)](e(241));1!==(""+t/t)[e(233)]||t%20==0?function(){return!0}.constructor(e(236)+e(226))[e(243)](e(222)):function(){return!1}[e(248)](e(236)+e(226))[e(234)](e(240)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{X as default};
