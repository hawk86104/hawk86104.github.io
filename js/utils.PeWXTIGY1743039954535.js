import{c as t,B as n,l as e,ca as o,C as r,V as s,ab as c}from"./three.XuMWWlrU1743039954535.js";import{w as i}from"./@fesjs.q_HvOfeM1743039954535.js";import{a}from"./@tresjs.05J-Im0t1743039954535.js";import{c as u,d as f,a as l}from"./three-mesh-bvh.0PiL0XIM1743039954535.js";function p(){const t=["call","table","bind","random","divideScalar","27304ANJGGe","apply","171kkHqlL","disposeBoundsTree","config","2787281KhTkJb","error","features","string","get","getY","catch","uniforms","11ZuvcbQ","length","count","gger","input","computeBoundsTree","getX","boundingBox","computeBoundingBox","getCenter","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2042kvyirY","depthWrite","5iyzeql","init","test","return (function() ","Box3","then","position","copy","side","expandByObject","chain","material","warn","__proto__","#fff","deleteAttribute","348077GoIgQo","toString","clone","forEach","log","function *\\( *\\)","json","applyMatrix4","value","1821nuHxBk","4270128omlOHQ","exception","setAttribute","counter","sub","geometry","max","setFromObject","1637190LEwlGs","setY","constructor","trace","min","5063748cTDeBB","depthTest","raycast","push","attributes","center","prototype","negate"];return(p=function(){return t})()}!function(t,n){const e=h,o=p();for(;;)try{if(564649===parseInt(e(487))/1+parseInt(e(469))/2*(parseInt(e(496))/3)+parseInt(e(497))/4+-parseInt(e(471))/5*(parseInt(e(510))/6)+-parseInt(e(528))/7+-parseInt(e(523))/8*(parseInt(e(525))/9)+parseInt(e(505))/10*(-parseInt(e(536))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(524)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=h,n=new RegExp(t(492)),e=new RegExp(t(468),"i"),o=j(t(472));n[t(473)](o+t(481))&&e.test(o+t(461))?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(524)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(t,n){const e=p();return h=function(t,n){return e[t-=459]},h(t,n)}g(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function(t(474)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(491),t(483),"info",t(529),t(498),t(519),t(508)];for(let r=0;r<o[t(537)];r++){const n=g[t(507)][t(516)][t(520)](g),s=o[r],c=e[s]||n;n[t(484)]=g.bind(g),n[t(488)]=c.toString.bind(c),e[s]=n}}))();const d=(n,e=!1)=>{const o=h;n.computeBoundingBox();const{max:r,min:s}=n.boundingBox;n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(514)][o(477)].count;t++)e?(a[o(513)]((n[o(514)][o(477)][o(463)](t)-(s.x+r.x)/2)/c),a[o(513)]((n[o(514)][o(477)][o(533)](t)-(s.y+r.y)/2)/i)):(a.push((n[o(514)][o(477)][o(463)](t)-s.x)/c),a[o(513)]((n[o(514)].position[o(533)](t)-s.y)/i));const u=new Float32Array(a);n[o(499)]("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=h;i(t,{},{method:r(532),mergeRequest:!0,responseType:r(493)})[r(476)]((t=>{const o=r;n&&e(t[n]),e(t[o(530)])}))[r(534)]((t=>{console[r(529)](t),o(t)}))})),w=t=>{const n=h,e=(new(THREE[n(475)]))[n(504)](t),o=new THREE.Vector3;e[n(466)](o),t.children[n(490)]((t=>{const e=n;t[e(477)][e(501)](o)})),t[n(477)][n(478)](o[n(517)]())},x=()=>{const t=h;n[t(516)][t(462)]=u,n[t(516)][t(526)]=f,e[t(516)][t(512)]=l},b=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(502)][n(489)]();d(i),i[n(462)]();const u=new o(i,{color:new r(n(485)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material.transparent=!0,u.material[n(470)]=!0,u[n(482)][n(511)]=!0,u[n(482)][n(479)]=c,u.material.uniforms[n(527)].value.w=20,u[n(482)][n(535)].reflectivity[n(495)]=.46,u};function B(t){const n=h,e=[];for(let r=0;r<t[n(537)];r++)e[n(513)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(537)];r++)o.add(e[r]);o[n(522)](e.length);for(let r=0;r<e.length;r++)e[r][n(501)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=h;if(typeof t===e(531))return function(t){}[e(507)]("while (true) {}")[e(524)](e(500));1!==(""+t/t).length||t%20==0?function(){return!0}[e(507)](e(467)+e(460))[e(518)]("action"):function(){return!1}.constructor(e(467)+e(460)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,B as g,x as i,y as l,d as r,b as s};
