import{importShared as l}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{kk as z,yk as b,Kk as F}from"./index.DTe2qqjO1767148983502.js";import{_sfc_main as j}from"./skyBoxDmesh.vue_vue_type_script_setup_true_lang.ByNLPS1R1767148983502.js";import{_sfc_main$6 as E}from"./generalFont.vue_vue_type_script_setup_true_lang.Cx7Vff0m1767148983502.js";import"./default.vue_vue_type_script_setup_true_lang.Bjy6WD1C1767148983502.js";import"./three-mesh-ui.module.Cv5lk1vQ1767148983502.js";import"./domPanel.vue_vue_type_style_index_0_lang.DqrQKbSz1767148983502.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.B7dQ_CiZ1767148983502.js";import"./index.vue_vue_type_script_setup_true_lang.CjsHShHS1767148983502.js";import{useGLTF as g}from"./index.Bk2zy1aS1767148983502.js";const{withAsyncContext:G,defineComponent:S}=await l("vue"),{unref:A,openBlock:N,createElementBlock:V}=await l("vue"),I=["object"],{FrontSide:R}=await l("three"),O=S({__name:"stencilMaskBox",async setup(T){let o,s;const{nodes:a}=([o,s]=G(()=>g("./plugins/eCommerce/model/box.glb")),o=await o,s(),o),r=a.Sketchfab_model.getObjectByName("Cube004__0");return r.renderOrder=1,r.material.depthTest=!0,r.material.side=R,(y,k)=>(N(),V("primitive",{position:[0,0,0],object:A(r)?.clone(),scale:.5},null,8,I))}}),{withAsyncContext:P}=await l("vue"),{createElementVNode:e,unref:n,withCtx:x,createVNode:B,Fragment:L,openBlock:W,createElementBlock:D}=await l("vue"),q={name:"front-face",position:[0,0,.5]},K=["stencil-func","stencil-z-pass"],H=["rotation-z","object"],J=["rotation-x"],Q=["stencil-func","stencil-z-pass"],U={name:"bottom-face-object",scale:.5},X=["stencil-func"],Y=["rotation-x"],Z=["stencil-func","stencil-z-pass"],ee={name:"top-face-object",scale:.05},te=["stencil-func"],ne=["rotation-y"],se=["stencil-func","stencil-z-pass"],oe=["object","rotation-y"],re=["rotation-y"],ie=["stencil-func","stencil-z-pass"],le={name:"right-face-object",scale:.05},ae=["stencil-func"],ce=["rotation-y"],ue=["stencil-func","stencil-z-pass"],me={name:"back-face-object",scale:.05},_e=["stencil-func"],{toRaw:C}=await l("vue"),{AlwaysStencilFunc:u,EqualStencilFunc:c,ReplaceStencilOp:m,Mesh:v}=await l("three"),fe={__name:"stencilMaskModels",async setup(T){let o,s;const{nodes:a,materials:r,animations:y}=([o,s]=P(()=>g("https://opensource.cdn.icegl.cn/model/eCommerce/eFan/nFan.gltf")),o=await o,s(),o),{actions:k}=z(y,a.Sketchfab_model);k.Animation.play(),r["Material.001"].stencilWrite=!0,r["Material.001"].stencilRef=1,r["Material.001"].stencilFunc=c,r["材质.002"].stencilWrite=!0,r["材质.002"].stencilRef=1,r["材质.002"].stencilFunc=c,a.Sketchfab_model.traverse(i=>{i instanceof v&&(i.renderOrder=1)});let f=([o,s]=P(()=>g("./plugins/basic/htmls/model/model.gltf",{draco:!0,decoderPath:"./draco/"})),o=await o,s(),o);return f=f.nodes.Macbook,f.traverse(i=>{i instanceof v&&(i.renderOrder=1,i.material.stencilWrite=!0,i.material.stencilRef=4,i.material.stencilFunc=c)}),(i,t)=>(W(),D(L,null,[e("TresMesh",q,[t[0]||(t[0]=e("TresPlaneGeometry",{args:[1,1]},null,-1)),e("TresMeshPhongMaterial",{color:16216071,"stencil-write":"","stencil-ref":1,"stencil-func":n(u),"stencil-z-pass":n(m),"depth-write":!1},null,8,K)]),B(n(b),{speed:2},{default:x(()=>[e("primitive",{"rotation-z":-Math.PI/2,object:C(n(a).Sketchfab_model),position:[0,-.35,0],scale:.5},null,8,H)]),_:1}),e("TresMesh",{name:"bottom-face","rotation-x":Math.PI*.5,position:[0,-.5,0]},[t[1]||(t[1]=e("TresPlaneGeometry",{args:[1,1]},null,-1)),e("TresMeshPhongMaterial",{color:16250871,"stencil-write":"","stencil-ref":2,"stencil-func":n(u),"stencil-z-pass":n(m),"depth-write":!1},null,8,Q)],8,J),e("TresMesh",U,[t[2]||(t[2]=e("TresBoxGeometry",{args:[1,1,1]},null,-1)),e("TresMeshPhongMaterial",{color:16776960,"stencil-write":"","stencil-ref":2,"stencil-func":n(c)},null,8,X)]),e("TresMesh",{name:"top-face","rotation-x":Math.PI*-.5,position:[0,.5,0]},[t[3]||(t[3]=e("TresPlaneGeometry",{args:[1,1]},null,-1)),e("TresMeshPhongMaterial",{color:16250871,"stencil-write":"","stencil-ref":3,"stencil-func":n(u),"stencil-z-pass":n(m),"depth-write":!1},null,8,Z)],8,Y),e("TresMesh",ee,[t[4]||(t[4]=e("TresConeGeometry",{args:[5,10]},null,-1)),e("TresMeshPhongMaterial",{color:16711935,"stencil-write":"","stencil-ref":3,"stencil-func":n(c)},null,8,te)]),e("TresMesh",{name:"left-face","rotation-y":Math.PI*-.5,position:[-.5,0,0]},[t[5]||(t[5]=e("TresPlaneGeometry",{args:[1,1]},null,-1)),e("TresMeshPhongMaterial",{color:2365978,"stencil-write":"","stencil-ref":4,"stencil-func":n(u),"stencil-z-pass":n(m),"depth-write":!1},null,8,se)],8,ne),B(n(b),{speed:2},{default:x(()=>[e("primitive",{object:C(n(f)),"rotation-y":-Math.PI/2,position:[-.1,-.2,0],scale:.02},null,8,oe)]),_:1}),e("TresMesh",{name:"right-face","rotation-y":Math.PI*.5,position:[.5,0,0]},[t[6]||(t[6]=e("TresPlaneGeometry",{args:[1,1]},null,-1)),e("TresMeshPhongMaterial",{color:16250871,"stencil-write":"","stencil-ref":5,"stencil-func":n(u),"stencil-z-pass":n(m),"depth-write":!1},null,8,ie)],8,re),e("TresMesh",le,[t[7]||(t[7]=e("TresTorusGeometry",{args:[5,2]},null,-1)),e("TresMeshPhongMaterial",{color:255,"stencil-write":"","stencil-ref":5,"stencil-func":n(c)},null,8,ae)]),e("TresMesh",{name:"back-face","rotation-y":Math.PI,position:[0,0,-.5]},[t[8]||(t[8]=e("TresPlaneGeometry",{args:[1,1]},null,-1)),e("TresMeshPhongMaterial",{color:16250871,"stencil-write":"","stencil-ref":6,"stencil-func":n(u),"stencil-z-pass":n(m),"depth-write":!1},null,8,ue)],8,ce),e("TresMesh",me,[t[9]||(t[9]=e("TresDodecahedronGeometry",{args:[5,0]},null,-1)),e("TresMeshPhongMaterial",{color:6689075,"stencil-write":"","stencil-ref":6,"stencil-func":n(c)},null,8,_e)])],64))}},{unref:$,createVNode:_,createElementVNode:p,Suspense:M,withCtx:d,openBlock:h,createBlock:w,resolveComponent:pe,Fragment:de,createElementBlock:he}=await l("vue"),ve={__name:"stencilMask",setup(T){return(o,s)=>{const a=pe("TresCanvas");return h(),he(de,null,[_($(E)),_(a,{ref:"canvasRef","window-size":"","clear-color":"#111",stencil:""},{default:d(()=>[s[0]||(s[0]=p("TresPerspectiveCamera",{position:[-1,0,2],fov:45,aspect:1,near:.1,far:1e3},null,-1)),_($(F),{"auto-rotate":""}),(h(),w(M,null,{default:d(()=>[_(j,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"},null,8,["texture"])]),_:1})),(h(),w(M,null,{default:d(()=>[_(O)]),_:1})),(h(),w(M,null,{default:d(()=>[_(fe)]),_:1})),s[1]||(s[1]=p("TresPointLight",{position:[0,0,1],intensity:1},null,-1)),s[2]||(s[2]=p("TresDirectionalLight",{position:[1,1,1],intensity:3},null,-1)),s[3]||(s[3]=p("TresAmbientLight",{intensity:2},null,-1))]),_:1},512)],64)}}};export{ve as default};
