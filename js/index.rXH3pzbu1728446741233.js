var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,o=(t,o)=>{for(var a in o||(o={}))n.call(o,a)&&r(t,a,o[a]);if(e)for(var a of e(o))i.call(o,a)&&r(t,a,o[a]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.ZhOklGp71728446741233.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.cXDL95Zn1728446741233.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.jmaoD5QK1728446741233.js";import{k as a,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,A as v,V as m,at as w}from"./three.GKtOCofD1728446741233.js";import{p as h,U as g}from"./@tresjs.2zzrlbpQ1728446741233.js";import{u as d}from"./index.xLf2T-LG1728446741233.js";import{F as y,C as S}from"./three-stdlib.LtkXdepA1728446741233.js";import{d as P}from"./@vue.JNsx1iN61728446741233.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.uJ5fS7Yr1728446741233.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.3NFNnVjI1728446741233.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.KdS5EMdR1728446741233.js";const _=z;function z(t,e){const n=I();return(z=function(t,e){return n[t-=372]})(t,e)}!function(t,e){const n=z,i=I();for(;;)try{if(209056===parseInt(n(385))/1+parseInt(n(403))/2+parseInt(n(392))/3+parseInt(n(373))/4+-parseInt(n(384))/5*(parseInt(n(380))/6)+-parseInt(n(402))/7*(-parseInt(n(390))/8)+-parseInt(n(379))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(372)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(){const t=["533912tgXoBz","table","debu","init","warn","info","6033357SBaVxT","258xFGcyc","toString",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"bind","4535jZFRFh","314592eCuYle","gger","call","while (true) {}","input","9080ClhMkF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","68439yRwwOB","constructor","function *\\( *\\)","exception","console","length","trace","error","stateObject",'{}.constructor("return this")( )',"469ArOXGn","743004nwoaom","return (function() ","__proto__","apply"];return(I=function(){return t})()}!function(){b(this,(function(){const t=z,e=new RegExp(t(394)),n=new RegExp(t(391),"i"),i=A(t(376));e.test(i+"chain")&&n.test(i+t(389))?A():i("0")}))()}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(372)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();E(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function(t(404)+t(401)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(396)]||{},i=["log",t(377),t(378),t(399),t(395),t(374),t(398)];for(let r=0;r<i[t(397)];r++){const e=E.constructor.prototype[t(383)](E),o=i[r],a=n[o]||e;e[t(405)]=E[t(383)](E),e[t(381)]=a.toString[t(383)](a),n[o]=e}}))();const M=_(382);function A(t){function e(t){const n=z;if("string"==typeof t)return function(t){}.constructor(n(388))[n(372)]("counter");1!==(""+t/t)[n(397)]||t%20==0?function(){return!0}[n(393)](n(375)+n(386))[n(387)]("action"):function(){return!1}[n(393)](n(375)+n(386)).apply(n(400)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function D(){const t=["warn","1kjTdAo","string","call","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","gger","init","136bhWTGz","310LvYSQB","3148246wkxSql","276250xQmDdK","12tFquOZ","6501636mpdnkb","stateObject","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniforms","toString","while (true) {}","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","prototype","385083BKsqcD",'{}.constructor("return this")( )',"762cYuVKz","test","61817cmPIzu","apply","trace","table","function *\\( *\\)","constructor","defines","970470PLfnes","bind","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","326392FcEvme","clone","action","length"];return(D=function(){return t})()}const L=O;!function(t,e){const n=O,i=D();for(;;)try{if(811984===-parseInt(n(316))/1*(parseInt(n(324))/2)+-parseInt(n(308))/3*(-parseInt(n(326))/4)+-parseInt(n(325))/5+-parseInt(n(338))/6*(-parseInt(n(301))/7)+-parseInt(n(322))/8*(-parseInt(n(336))/9)+-parseInt(n(323))/10*(parseInt(n(311))/11)+parseInt(n(327))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(302)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){U(this,(function(){const t=O,e=new RegExp(t(305)),n=new RegExp(t(330),"i"),i=R(t(321));e[t(300)](i+"chain")&&n.test(i+t(329))?R():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(302)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(t,e){const n=D();return(O=function(t,e){return n[t-=300]})(t,e)}function j(t){const e=O,n=o({},t);return e(307)in t&&(n.defines=o({},t[e(307)])),"uniforms"in t&&(n.uniforms=s[e(312)](t[e(331)])),n}T(void 0,(function(){const t=O,e=function(){const t=O;let e;try{e=Function("return (function() "+t(337)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},i=["log",t(315),"info","error","exception",t(304),t(303)];for(let r=0;r<i[t(314)];r++){const e=T.constructor[t(335)][t(309)](T),o=i[r],a=n[o]||e;e.__proto__=T.bind(T),e[t(332)]=a[t(332)][t(309)](a),n[o]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new a},parentMapSize:{value:new a},parentLevel:{value:0}},vertexShader:L(310),fragmentShader:L(319)+M+L(334)};function R(t){function e(t){const n=O;if(typeof t===n(317))return function(t){}[n(306)](n(333)).apply("counter");1!==(""+t/t)[n(314)]||t%20==0?function(){return!0}[n(306)]("debugger")[n(318)](n(313)):function(){return!1}[n(306)]("debu"+n(320))[n(302)](n(328)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=N;function C(){const t=["1647bsCndR","Y_IS_EVEN","fragmentShader","length","return (function() ","defines","tDiffuse","isWebGLRenderTarget","action","forEach","type","floor","image","texture","camera","131558XdJtsW","_copyQuad","minFilter","8IPNMOM","autoClear","originalMapSize","5710UPQhCd","info","190122ZwyiWl","console","X_IS_EVEN","parentMapSize","1278420bwmIEZ","setViewOffset","update","2369024ZCJxhk","map","bind","width","661592EqqYxg","chain","parentLevel","setRenderTarget","getClearColor","setSize","counter","constructor","floorPowerOfTwo",'{}.constructor("return this")( )',"_mipMaterials","input","render","setClearAlpha","copy","apply","dispose","trace","height","exception","clear","setClearColor","while (true) {}","magFilter","_mipQuad","value","test","3ZiJzRM","debu","uniforms","replace","_swapTarget","log","getClearAlpha","toString","prototype","set","494906PddxdZ"];return(C=function(){return t})()}!function(t,e){const n=N,i=C();for(;;)try{if(176643===parseInt(n(246))/1+-parseInt(n(302))/2*(parseInt(n(292))/3)+-parseInt(n(265))/4+parseInt(n(258))/5+-parseInt(n(254))/6+parseInt(n(261))/7*(parseInt(n(249))/8)+-parseInt(n(303))/9*(parseInt(n(252))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(280)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Z(this,(function(){const t=N,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=H("init");e[t(291)](i+t(266))&&n[t(291)](i+t(276))?H():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(280)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=C();return(N=function(t,e){return n[t-=235]})(t,e)}W(void 0,(function(){const t=N;let e;try{e=Function(t(235)+t(274)+");")()}catch(r){e=window}const n=e[t(255)]=e.console||{},i=[t(297),"warn",t(253),"error",t(284),"table",t(282)];for(let o=0;o<i[t(306)];o++){const e=W[t(272)][t(300)][t(263)](W),r=i[o],a=n[r]||e;e.__proto__=W.bind(W),e[t(299)]=a[t(299)].bind(a),n[r]=e}}))();const F=new l;class Q{constructor(t){const e=N;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=j(V);n.fragmentShader=n[e(305)][e(295)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(j(n)),i[0][e(236)][e(256)]=0,i[0][e(236)][e(304)]=0,i[1]=new c(j(n)),i[1][e(236)].X_IS_EVEN=1,i[1][e(236)][e(304)]=0,i[2]=new c(j(n)),i[2].defines.X_IS_EVEN=0,i[2][e(236)][e(304)]=1,i[3]=new c(j(n)),i[3][e(236)][e(256)]=1,i[3].defines[e(304)]=1;const r=new u;r[e(244)][e(248)]=p,r[e(244)][e(288)]=p,this[e(296)]=r,this._copyQuad=new y(new c(S)),this[e(289)]=new y(null),this[e(275)]=i}[k(260)](t,e,n,i=!1){const r=k;t[r(238)]&&(t=t[r(244)]);const a=n[r(250)],s=n[r(298)](),l=n.getRenderTarget();n[r(269)](F);const c=this._copyQuad,u=this[r(289)],p=this._swapTarget,x=this[r(275)];let v,m;i?(v=f.floorPowerOfTwo(t[r(243)][r(264)]),m=f[r(273)](t[r(243)].height)):(v=Math[r(242)](t.image[r(264)]),m=Math[r(242)](t.image[r(283)]));const w=Math[r(242)](1.5*v),h=Math.floor(m);e[r(270)](w,h),p[r(244)][r(241)]!==e[r(244)][r(241)]?(p.dispose(),p[r(279)](e),p[r(244)][r(243)]=o({},p[r(244)].image)):p.setSize(w,h),n[r(250)]=!1,n[r(286)](0),n[r(278)](),c.material[r(294)][r(237)][r(290)]=t,c[r(245)][r(259)](v,m,0,0,w,h),n[r(268)](e),n[r(285)](),c[r(277)](n),n[r(268)](p),n[r(285)](),c[r(277)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(294)][r(262)].value=p[r(244)],t[r(294)][r(267)][r(290)]=y,t[r(294)][r(257)][r(290)][r(301)](g,d),t[r(294)][r(251)][r(290)].set(v,m),u.material=t,g=Math[r(242)](g/2),d=Math.floor(d/2);const i=h-2*d;n.setRenderTarget(e),u[r(245)].setViewOffset(g,d,-v,-i,w,h),u[r(277)](n),n.setRenderTarget(p),t[r(294)][r(262)][r(290)]=e.texture,u[r(277)](n),y++}return n.setRenderTarget(l),n.setClearAlpha(s),n[r(286)](F),n[r(250)]=a,y+1}[k(281)](){const t=k;this[t(296)].dispose(),this[t(289)][t(281)](),this[t(247)][t(281)](),this[t(275)][t(240)]((e=>e[t(281)]()))}}function H(t){function e(t){const n=N;if("string"==typeof t)return function(t){}.constructor(n(287))[n(280)](n(271));1!==(""+t/t)[n(306)]||t%20==0?function(){return!0}.constructor("debugger").call(n(239)):function(){return!1}[n(272)](n(293)+"gger")[n(280)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function X(t,e){const n=G();return(X=function(t,e){return n[t-=385]})(t,e)}const Y=X;!function(t,e){const n=X,i=G();for(;;)try{if(660632===parseInt(n(442))/1+parseInt(n(431))/2+-parseInt(n(399))/3*(parseInt(n(456))/4)+-parseInt(n(389))/5+parseInt(n(419))/6+-parseInt(n(461))/7+parseInt(n(458))/8*(parseInt(n(396))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function G(){const t=["parent","multiply","chain","ignoreObjects","matrixWorldInverse","table","reflect","getRenderTarget","apply","sign","input","Quaternion","prototype","constructor","resolution","normal","copy","info","Plane","6034056riYVRd","add","set","gger","texture","Vector4","getWorldQuaternion","buffers","projectionMatrix","return (function() ","Vector3","string","842770ztRfwY","applyMatrix4","reflectorMipMap","setRenderTarget","getWorldPosition","state","warn","UnsignedByteType","console",'{}.constructor("return this")( )',"negate","27741MAfhCn","forEach","clone","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","debu","log","visible","bind","autoClear","stateObject","elements","updateMatrixWorld","lookAt","2566292yUSylD","Matrix4","8UTArTd","projectPoint","sub","7081893jDZAIw","clear","call","depth","counter","applyQuaternion","5358305xZNQMA","init","update","PerspectiveCamera","toString","render","multiplyScalar","17376867dvsvQa","test","length","3rCHxum"];return(G=function(){return t})()}!function(){B(this,(function(){const t=X,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(445),"i"),i=J(t(390));e[t(397)](i+t(402))&&n[t(397)](i+t(410))?J():i("0")}))()}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(408)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();$(void 0,(function(){const t=X,e=function(){const t=X;let e;try{e=Function(t(428)+t(440)+");")()}catch(n){e=window}return e}(),n=e[t(439)]=e[t(439)]||{},i=[t(448),t(437),t(417),"error","exception",t(405),"trace"];for(let r=0;r<i[t(398)];r++){const e=$[t(413)][t(412)][t(450)]($),o=i[r],a=n[o]||e;e.__proto__=$.bind($),e[t(393)]=a[t(393)][t(450)](a),n[o]=e}}))();const q=P({__name:Y(433),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(418)]),o=new(x[n(457)]),a=new(x[n(392)]),s=new Q,l=d({width:i[n(414)],height:i.resolution,settings:{type:x[n(438)]}}),c=d({width:i[n(414)],height:i.resolution,settings:{type:v}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(446)])return;r[t(421)](new(x[t(429)])(0,1,0),0),r[t(432)](i[t(400)].matrixWorld),a[t(416)](u[t(446)]);const e=new m(0,0,1)[t(444)]()[t(441)](),s=u[t(446)][t(435)](new(x[t(429)]));e[t(406)](r[t(415)]);const c=new(x[t(429)]);r[t(459)](s,c);const v=c.clone();v.sub(s),v[t(420)](c),a.position[t(416)](v);const h=new m(0,0,-1);h.applyQuaternion(u[t(446)].getWorldQuaternion(new(x[t(411)]))),h[t(420)](s);const g=new(x[t(429)]);i[t(400)].getWorldPosition(g),g[t(460)](h),g[t(406)](r.normal)[t(441)](),g[t(420)](i[t(400)][t(435)](new(x[t(429)]))),a.up[t(421)](0,1,0),a[t(388)](u[t(446)][t(425)](new(x[t(411)]))),a.up[t(406)](r.normal),a[t(455)](g),a[t(454)]();const d=new(x[t(457)]);d[t(421)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(401)](a.projectionMatrix),d[t(401)](a[t(404)]),o.copy(d),r[t(432)](a.matrixWorldInverse);const y=new(x[t(424)])(r[t(415)].x,r[t(415)].y,r[t(415)].z,r.constant),S=a[t(427)],P=new w;P.x=(Math[t(409)](y.x)+S[t(453)][8])/S[t(453)][0],P.y=(Math[t(409)](y.y)+S[t(453)][9])/S[t(453)][5],P.z=-1,P.w=(1+S.elements[10])/S[t(453)][14],y[t(395)](2/y.dot(P)),S[t(453)][2]=y.x,S[t(453)][6]=y.y,S.elements[10]=y.z+1,S.elements[14]=y.w;const _=p[t(446)][t(407)]();p[t(446)][t(434)](l[t(446)]),p[t(446)][t(436)][t(426)][t(386)].setMask(!0),!1===p.value[t(451)]&&p.value[t(462)](),i.ignoreObjects[t(443)]((e=>e[t(449)]=!1)),p.value[t(394)](f[t(446)],a),i[t(403)].forEach((t=>t.visible=!0)),p[t(446)][t(434)](_)})(),l[t(446)]&&c.value&&p.value&&s[t(391)](l.value[t(423)],c.value,p.value)})),e({matrix:o,renderTarget:c}),(t,e)=>null}});function J(t){function e(t){const n=X;if(typeof t===n(430))return function(t){}.constructor("while (true) {}")[n(408)](n(387));1!==(""+t/t)[n(398)]||t%20==0?function(){return!0}[n(413)](n(447)+n(422))[n(385)]("action"):function(){return!1}.constructor("debu"+n(422))[n(408)](n(452)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function K(t,e){var n=nt();return(K=function(t,e){return n[t-=248]})(t,e)}!function(t,e){for(var n=K,i=nt();;)try{if(126717===parseInt(n(280))/1+-parseInt(n(262))/2+-parseInt(n(259))/3*(parseInt(n(265))/4)+-parseInt(n(253))/5*(parseInt(n(275))/6)+parseInt(n(269))/7+parseInt(n(257))/8*(-parseInt(n(267))/9)+parseInt(n(249))/10*(parseInt(n(264))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(277)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){tt(this,(function(){var t=K,e=new RegExp(t(258)),n=new RegExp(t(260),"i"),i=it("init");e[t(271)](i+t(248))&&n[t(271)](i+t(254))?it():i("0")}))()}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(277)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function nt(){var t=["function *\\( *\\)","3IqXgoy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","199580NxnrPe","info","55roitds","690044aPacJx","toString","2655uDOwBQ","prototype","878815lpCDBB","trace","test","while (true) {}","debu","console","6GEgZEQ","call","apply","return (function() ","error","97666RINSiV","table","action","__proto__","chain","568130ZoalWZ","bind","stateObject","gger","410015gnfkxm","input","constructor","counter","712cjRVGt"];return(nt=function(){return t})()}function it(t){function e(t){var n=K;if("string"==typeof t)return function(t){}[n(255)](n(272))[n(277)](n(256));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(273)+"gger")[n(276)](n(282)):function(){return!1}.constructor(n(273)+n(252))[n(277)](n(251)),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){for(var t=K,e=function(){var t,e=K;try{t=Function(e(278)+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=e.console=e[t(274)]||{},i=["log","warn",t(263),t(279),"exception",t(281),t(270)],r=0;r<i[t(261)];r++){var o=et[t(255)][t(268)][t(250)](et),a=i[r],s=n[a]||o;o[t(283)]=et[t(250)](et),o[t(266)]=s[t(266)][t(250)](s),n[a]=o}}))();export{q as _};
