import{m as e,k as a,a as s}from"./@tresjs.CutcgRLX1752457528298.js";import{_ as t}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.DMdkL5hM1752457528298.js";import"./index.CEkoY90U1752457528298.js";import{h as o,V as r}from"./three.DOaOWaa_1752457528298.js";import{_ as i}from"./cloudPoints.vue_vue_type_script_setup_true_lang.ALJykY3-1752457528298.js";import{P as n}from"./tweakpane.C0HtAJSg1752457528298.js";import{d as l,a9 as m,G as c,o as p,F as d,I as u,j as f,u as _,r as j,v as g,a2 as h,h as v,f as b,e as w,a4 as y,a6 as C,a7 as S}from"./@vue.CcDZ19ef1752457528298.js";import{_ as k}from"./randomLoading.vue_vue_type_script_setup_true_lang.TXwGU1WL1752457528298.js";import"./postprocessing.BhLg8VAN1752457528298.js";import"./@vueuse.D5pFWdqo1752457528298.js";import"./utils.BMJFJ69p1752457528298.js";import"./@fesjs.t5OnzKcQ1752457528298.js";import"./vue-router.8pdmj1nv1752457528298.js";import"./lodash-es.C7pWAXPe1752457528298.js";import"./@qlin.q6OWdsQV1752457528298.js";import"./pinia.D2lIig6I1752457528298.js";import"./@babel.BPq7uOAK1752457528298.js";import"./@floating-ui.BFjFSAYt1752457528298.js";import"./@juggle.CcBCnTIR1752457528298.js";import"./index.28NlFPHI1752457528298.js";import"./three-mesh-ui.module.BXFGKuQq1752457528298.js";import"./starLoading.GAPnrgZ31752457528298.js";import"./cssLoaders.xDiDlJ0_1752457528298.js";import"./bubbleLoading.B49UHpwD1752457528298.js";import"./yangyangLoading.BBO92wuf1752457528298.js";const L=["object"],x=l({__name:"planeClipping",async setup(s){let t,l;const{renderer:j}=e();j.value.localClippingEnabled=!0;const{nodes:g}=([t,l]=m((()=>a("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf",{draco:!0,decoderPath:"./draco/"}))),t=await t,l(),t);console.log(g);g.Sketchfab_model.getObjectByName("Floor").removeFromParent();const h=g.Sketchfab_model.getObjectByName("Cube006_Avion_0");h.castShadow=!0;const v=[new o(new r(1,0,0),0),new o(new r(0,0,-1),0)];h.material.clipIntersection=!0,h.material.clippingPlanes=v;const b=g.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");b.material.clipIntersection=!0,b.material.clippingPlanes=v;const w=g.Sketchfab_model.getObjectByName("CS_Black_0"),y=new n({title:"裁剪参数",expanded:!0});return y.addBinding(v[0],"constant",{label:"x",min:-200,max:200,step:1}),y.addBinding(v[1],"constant",{label:"y",min:-200,max:250,step:1}),(e,a)=>(p(),c(d,null,[u("primitive",{object:_(g).Sketchfab_model},null,8,L),f(i,{isRemoveSrc:"",model:_(w),color:"#fff"},null,8,["model"])],64))}}),B=l({__name:"planeClipping",setup(e){const a=j({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),o=g();return h((()=>{o.value&&(o.value.shadow.mapSize.set(1e3,1e3),o.value.shadow.camera.near=.1,o.value.shadow.camera.far=5e3,o.value.shadow.camera.top=200,o.value.shadow.camera.right=200,o.value.shadow.camera.left=-200,o.value.shadow.camera.bottom=-200,o.value.shadow.radius=10)})),(e,r)=>{const i=v("TresCanvas");return p(),c(d,null,[f(_(k)),f(i,{clearColor:"#333",shadows:"","window-size":""},{default:b((()=>[r[0]||(r[0]=u("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),f(_(s)),r[1]||(r[1]=u("TresAmbientLight",{color:"#ffffff",intensity:"1"},null,-1)),u("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:o,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(p(),w(y,null,{default:b((()=>[f(x)])),_:1})),f(t,C(S(a)),null,16)])),_:1})],64)}}});export{B as default};
