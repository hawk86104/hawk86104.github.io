import{c as t,B as n,l as e,ca as o,C as r,V as s,ab as i}from"./three.qSkR4_5R1743066865732.js";import{w as a}from"./@fesjs.ZOctjJCV1743066865732.js";import{a as c}from"./@tresjs.NxYvETXi1743066865732.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.cqCwxsrV1743066865732.js";!function(t,n){const e=h,o=g();for(;;)try{if(406481===parseInt(e(445))/1*(parseInt(e(406))/2)+-parseInt(e(472))/3*(-parseInt(e(439))/4)+parseInt(e(447))/5+-parseInt(e(477))/6+parseInt(e(468))/7*(-parseInt(e(469))/8)+parseInt(e(457))/9+parseInt(e(421))/10*(parseInt(e(478))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=h,n=new RegExp(t(480)),e=new RegExp(t(416),"i"),o=I(t(470));n.test(o+t(475))&&e[t(420)](o+"input")?I():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(){const t=["uniforms","warn","call","raycast","min","getX","1482UNbtFi","side","gger","disposeBoundsTree","add","random","divideScalar","features","return (function() ","getSize","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","config","negate","test","10LjIJPq","geometry","position","error","table","computeBoundingBox","get","json","exception","count","stateObject","material","string","clone","console","getY","forEach","reflectivity","4yWEOMq","deleteAttribute","set","info","prototype","applyMatrix4","863zGqNCS","copy","1948015PBumNw","Box3","toString","Vector3","value","max","sub","setAttribute","depthTest","push","1582713GPdFAX","log","length","getCenter","counter","while (true) {}","computeBoundsTree","then","setY","catch","depthWrite","598493nSdKJs","72lguCmG","init","boundingBox","114651KXkhCE",'{}.constructor("return this")( )',"#fff","chain","attributes","1593906QMKPkt","2183093NjEwQh","debu","function *\\( *\\)","apply","bind"];return(g=function(){return t})()}function h(t,n){const e=g();return h=function(t,n){return e[t-=401]},h(t,n)}m(void 0,(function(){const t=h;let n;try{n=Function(t(414)+t(473)+");")()}catch(r){n=window}const e=n[t(435)]=n[t(435)]||{},o=[t(458),t(401),t(442),"error",t(429),t(425),"trace"];for(let s=0;s<o[t(459)];s++){const n=m[t(417)][t(443)][t(482)](m),r=o[s],i=e[r]||n;n.__proto__=m[t(482)](m),n.toString=i[t(449)][t(482)](i),e[r]=n}}))();const d=(n,e=!1)=>{const o=h;n[o(426)]();const{max:r,min:s}=n[o(471)];n[o(440)]("uv");const i=r.x-s.x,a=r.y-s.y,c=[];for(let t=0;t<n.attributes.position[o(430)];t++)e?(c[o(456)]((n[o(476)][o(423)].getX(t)-(s.x+r.x)/2)/i),c.push((n[o(476)].position[o(436)](t)-(s.y+r.y)/2)/a)):(c[o(456)]((n[o(476)].position[o(405)](t)-s.x)/i),c[o(456)]((n.attributes[o(423)][o(436)](t)-s.y)/a));const u=new Float32Array(c);n.setAttribute("uv",new t(u,2))},w=(t,n)=>new Promise(((e,o)=>{const r=h;a(t,{},{method:r(427),mergeRequest:!0,responseType:r(428)})[r(464)]((t=>{const o=r;n&&e(t[n]),e(t[o(413)])}))[r(466)]((t=>{console[r(424)](t),o(t)}))})),y=t=>{const n=h,e=(new(THREE[n(448)])).setFromObject(t),o=new(THREE[n(450)]);e[n(460)](o),t.children[n(437)]((t=>{t[n(423)].sub(o)})),t.position[n(446)](o.negate())},b=()=>{const t=h;n[t(443)][t(463)]=u,n[t(443)][t(409)]=p,e[t(443)][t(403)]=f},x=async t=>{const n=h,e=await c(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t[n(422)][n(434)]();d(a),a[n(463)]();const u=new o(a,{color:new r(n(474)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(432)].transparent=!0,u.material[n(467)]=!0,u[n(432)][n(455)]=!0,u[n(432)][n(407)]=i,u[n(432)][n(483)][n(418)][n(451)].w=20,u.material.uniforms[n(438)][n(451)]=.46,u};function j(t){const n=h,e=[];for(let r=0;r<t[n(459)];r++)e[n(456)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(459)];r++)o[n(410)](e[r]);o[n(412)](e[n(459)]);for(let r=0;r<e[n(459)];r++)e[r][n(453)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=h;if(typeof t===e(433))return function(t){}[e(417)](e(462))[e(481)](e(461));1!==(""+t/t)[e(459)]||t%20==0?function(){return!0}[e(417)](e(479)+e(408))[e(402)]("action"):function(){return!1}[e(417)](e(479)+e(408))[e(481)](e(431)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,b as i,w as l,d as r,x as s};
