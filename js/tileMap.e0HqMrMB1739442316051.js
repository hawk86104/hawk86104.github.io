import{_ as t,cE as n,b as e,am as o}from"./three.OosFxi571739442316051.js";import{P as r}from"./tweakpane.yDiyAAkA1739442316051.js";import{m as s,e as i}from"./@tresjs.4XV_x0mI1739442316051.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.ZCP4nwTE1739442316051.js";import{d,a2 as g,w as h,o as j,H as w,u as b,v as x,r as v,e as y,j as I,g as z,f as M,al as _,m as C,F as B}from"./@vue.NRI7TcgI1739442316051.js";import{_ as S}from"./raycasterEvent.37wCQZnY1739442316051.js";import{a as k}from"./utils.ZPyTkXMj1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./@mapbox.lMdYodhq1739442316051.js";import"./three-mesh-bvh.ZvwtLaXH1739442316051.js";import"./three-custom-shader-material.d7b09qIZ1739442316051.js";import"./@fesjs.DgjXCZoG1739442316051.js";import"./vue-router.bqZmV3c61739442316051.js";import"./lodash-es.pklfUAS51739442316051.js";import"./@qlin.yHhFDldE1739442316051.js";import"./pinia.ptJyy4pp1739442316051.js";import"./@floating-ui.BPbuo5Gx1739442316051.js";import"./@juggle.7yjBMqoW1739442316051.js";import"./@tweenjs.zdhk2VeU1739442316051.js";import"./utils.jKidLUsI1739442316051.js";import"./http.pH6kW_jX1739442316051.js";import"./axios.qd3pZFDv1739442316051.js";import"./color.ZAYNJuaB1739442316051.js";import"./@amap.VoZ91NZx1739442316051.js";import"./color-string.UxG3lxDf1739442316051.js";import"./color-name.yrIntCc41739442316051.js";import"./simple-swizzle.jQjI99U01739442316051.js";import"./is-arrayish.aAKFjRHY1739442316051.js";import"./color-convert.bpm5S7pr1739442316051.js";import"./lodash.q0hCbEqv1739442316051.js";import"./naive-ui.LRlmqYZU1739442316051.js";import"./date-fns.nmuTTsCK1739442316051.js";import"./@css-render.zMjMxsQa1739442316051.js";import"./seemly.vIsyOXn81739442316051.js";import"./css-render.BqapHCg51739442316051.js";import"./@emotion.ZD_ZYAgY1739442316051.js";import"./vooks.IWniCMmP1739442316051.js";import"./evtd.DtfwxtIl1739442316051.js";import"./vueuc.25Yh-HKO1739442316051.js";import"./vdirs.xbU5AyVF1739442316051.js";import"./treemate.dcEdf2le1739442316051.js";import"./date-fns-tz.5eWd6sUw1739442316051.js";import"./async-validator.-YBkpS4I1739442316051.js";import"./d3-geo.IjMVIvhV1739442316051.js";import"./d3-array.E5C1cfJ61739442316051.js";function E(t,n){const e=T();return(E=function(t,n){return e[t-=352]})(t,n)}const R=E;!function(t,n){const e=E,o=T();for(;;)try{if(513741===-parseInt(e(372))/1+-parseInt(e(380))/2*(parseInt(e(366))/3)+-parseInt(e(373))/4+-parseInt(e(398))/5*(-parseInt(e(418))/6)+-parseInt(e(396))/7+-parseInt(e(378))/8+parseInt(e(353))/9*(parseInt(e(371))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(365)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=E,n=new RegExp(t(405)),e=new RegExp(t(384),"i"),o=F("init");n.test(o+t(388))&&e[t(355)](o+t(397))?F():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(365)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=E;let n;try{n=Function(t(409)+t(385)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(352),t(382),t(391),t(426),t(425),t(393),"trace"];for(let s=0;s<o[t(413)];s++){const n=V[t(392)].prototype.bind(V),r=o[s],i=e[r]||n;n[t(422)]=V[t(408)](V),n[t(374)]=i[t(374)][t(408)](i),e[r]=n}}))();const A=[R(412),R(361)],O=d({__name:R(401),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const r=R,f=e,{renderer:d,scene:x}=s();(new a)[r(368)]=c;const v=new u;v.source=r(354),v[r(368)]=c;const y=new p;y.source=r(395),y[r(356)]=!1,y[r(402)]=!0;const I=new l(v,y);if(I.showBoundingBox=!1,I[r(379)]=!1,I[r(389)]=!1,I.useStandardMaterial=!1,I[r(383)]={opposite:f[r(363)],monochrome:f[r(410)]?{r:.299,g:.587,b:.114}:null,genBright:f[r(359)],genContrast:f[r(370)],genSaturation:f[r(417)]},f.monochrome){let n=new(t[r(362)])(f[r(406)]);I.filter&&(I.filter[r(406)]={r:n.r,g:n.g,b:n.b})}const z=new m;z[r(427)]=I,z[r(364)]=f[r(364)],z[r(387)]=f.maxZoom;const M=new(t[r(369)])(60,window[r(407)]/window[r(381)],1,1e8);M.up=new(t[r(411)])(0,1,0),M[r(360)][r(424)](f.mapCenter[0],f[r(377)][2],-f.mapCenter[1]),M.lookAt(new(t[r(411)])(M[r(360)].x,0,M.position.z-2e3)),z[r(416)]=M;let _=null;g((()=>{const t=r;d[t(394)]&&!_&&(_=new n(M,d[t(394)][t(403)]),_[t(375)]=!0,_[t(415)]=.05,_[t(404)]=600,_.position0[t(424)](M.position.x,M[t(360)].y,M.position.z),_.target[t(424)](M.position.x,0,M[t(360)].z-2e3))})),h((()=>[f[r(363)],f[r(410)],f[r(406)]]),(([n,e,o])=>{const s=r;if(I[s(383)]){let r=new(t[s(362)])(o);I.filter[s(363)]=n,I[s(383)].monochrome=e?{r:r.r,g:r.g,b:r.b}:null}})),h((()=>[f[r(359)],f[r(370)],f[r(417)]]),(([t,n,e])=>{const o=r;I[o(383)]&&(I.filter[o(359)]=t,I.filter[o(370)]=n,I[o(383)].genSaturation=e)}));const{onLoop:C}=i();return C((()=>{var t;const n=r;if(d[n(394)]){null==(t=f.tweenInstance)||t[n(367)](),_&&_.update(),z[n(367)]();const e=50*Math.abs(M[n(360)].y);M[n(399)]=e+5e3,M[n(390)](),d.value[n(421)](x[n(394)],M)}})),o({camera:M,map:z,orbitControl:_}),(t,n)=>{const e=r;return j(),w(e(420),{object:b(z),rotation:[-Math.PI/2,0,0]},null,8,A)}}});function T(){const t=["far","string","tileMapMesh","useWorker","domElement","minDistance","function *\\( *\\)","monochrome","innerWidth","bind","return (function() ","isMonochrome","Vector3","object","length","action","dampingFactor","camera","genSaturation","4578tzXccK","counter","primitive","render","__proto__","while (true) {}","set","exception","error","provider","log","454941VpzFao","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","test","showTileNo","stateObject","call","genBright","position","rotation","Color","opposite","bbox","apply","1521393jENveO","update","coordType","PerspectiveCamera","genContrast","540lxOMub","941570eyMjHl","613476eDdkxu","toString","enableDamping","gger","mapCenter","3638008jRVoFU","wireframe","2JrVunW","innerHeight","warn","filter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"debu","maxZoom","chain","flatShading","updateProjectionMatrix","info","constructor","table","value","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","4067161wLxqgV","input","2765KmrVcw"];return(T=function(){return t})()}function F(t){function n(t){const e=E;if(typeof t===e(400))return function(t){}.constructor(e(423))[e(365)](e(419));1!==(""+t/t)[e(413)]||t%20==0?function(){return!0}[e(392)]("debu"+e(376))[e(358)](e(414)):function(){return!1}[e(392)](e(386)+e(376)).apply(e(357)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=W;!function(t,n){const e=W,o=K();for(;;)try{if(676769===parseInt(e(347))/1+-parseInt(e(336))/2*(-parseInt(e(319))/3)+parseInt(e(321))/4*(-parseInt(e(320))/5)+parseInt(e(326))/6*(parseInt(e(367))/7)+-parseInt(e(333))/8*(parseInt(e(372))/9)+-parseInt(e(328))/10*(-parseInt(e(340))/11)+parseInt(e(370))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(324)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=K();return(W=function(t,n){return e[t-=319]})(t,n)}!function(){D(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(360),"i"),o=$(t(375));n.test(o+t(368))&&e[t(380)](o+t(322))?$():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(){const t=["while (true) {}","info","tileMap","call","tileMapMeshRef","938313yexlen","genSaturation","counter","debu","warn","length","gger","console","manual","滤镜颜色","stateObject",'{}.constructor("return this")( )',"action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","orbitControl","list","TresCanvas","value","xjk","2695fsXjrp","chain","nss","9915876PBQMlC","trace","3283902bSRCXe","对比度","isMonochrome","init","genContrast","genBright","prototype","table","test","饱和度","#201919","bind","#4688b5","6phXzKO","819670kOctlz","16orsgOD","input","__proto__","apply","string","2838TjzgEj","camera","10xhwqVe","constructor","单色滤镜","addBinding","toString","16lurWos","奥体中心","tileMapRef","49656XTZuVZ","tweenInstance","SRGBColorSpace","monochrome","724504EexQKb","addBlade"];return(K=function(){return t})()}X(void 0,(function(){const t=W;let n;try{n=Function("return (function() "+t(358)+");")()}catch(r){n=window}const e=n[t(354)]=n[t(354)]||{},o=["log",t(351),t(343),"error",t(361),t(379),t(371)];for(let s=0;s<o[t(352)];s++){const n=X[t(329)][t(378)][t(383)](X),r=o[s],i=e[r]||n;n[t(323)]=X[t(383)](X),n.toString=i[t(332)][t(383)](i),e[r]=n}}))();const L=d({__name:P(344),setup(n){const s=P,i=f(118.779958,32.017136),a=[i[0],i[1],5e3],c=x(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:s(384),mapCenter:a,tweenInstance:null}),p=new r({title:"参数"});p[s(331)](u,"opposite",{label:"反色"}),p[s(331)](u,s(377),{label:"高亮",min:.1,max:3,step:.1}),p[s(331)](u,s(376),{label:s(373),min:.1,max:3,step:.1}),p.addBinding(u,s(348),{label:s(381),min:.1,max:3,step:.1}),p[s(331)](u,s(374),{label:s(330)}),p.addBinding(u,s(339),{label:s(356)});const l={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p[s(341)]({view:s(363),label:"飞去",options:[{text:s(334),value:"at"},{text:"新街口",value:s(366)},{text:"牛首山",value:s(369)}],value:"at"}).on("change",(t=>{const n=s,o=new e(l[t[n(365)]][0],2e3,-l[t.value][1]);u[n(337)]=k(c.value[n(327)],o,c.value[n(362)],[0,-300],4e3)}));const m=v({clearColor:s(382),antialias:!0,logarithmicDepthBuffer:!0,renderMode:s(355),outputColorSpace:t[s(338)],toneMapping:o});return setTimeout((()=>{const t=s,n=l.at,o=new e(n[0],1600,-n[1]);u.tweenInstance=k(c[t(365)][t(327)],o,c[t(365)][t(362)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=s,o=y(e(364));return j(),w(B,null,[I(o,C(m,{"window-size":""}),{default:z((()=>[(j(),M(_,null,{default:z((()=>[I(O,C(u,{ref_key:e(346),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(S,{tileMapRef:c[e(365)]},null,8,[e(335)])],64)}}});function $(t){function n(t){const e=W;if(typeof t===e(325))return function(t){}[e(329)](e(342)).apply(e(349));1!==(""+t/t)[e(352)]||t%20==0?function(){return!0}[e(329)](e(350)+e(353))[e(345)](e(359)):function(){return!1}[e(329)](e(350)+"gger")[e(324)](e(357)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{L as default};
