import{a6 as t,bR as n,C as o}from"./three.X8FgZbPT1723608367756.js";import{N as r}from"./@tresjs.zzLYikgQ1723608367756.js";import{d as e,b as a,a4 as c,w as s,o as u,D as i,J as f,aj as l,ak as p}from"./@vue.Q1VpS3901723608367756.js";function d(){const t=["length","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","4663084WjSrjH","shadowmap_vertex","info","warn","while (true) {}","error","chain","\n\t ","stateObject","\n          ","lights_pars_begin","function *\\( *\\)","\n      \t","debu","bsdfs","7752723mApMPY","3999072JEqPef","\n       varying vec2 vUv;\n\t\t\t \t","defaultnormal_vertex","project_vertex","common","shadowmap_pars_vertex","test","ShaderChunk","40rtzgSY","string","181007fqmyrR","call","gger","8340210kwmizW","begin_vertex","worldpos_vertex","packing","shadowmap_pars_fragment","constructor","2roBCRY","log","toString","965aVoFCm","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"trace","7HolcQF","return (function() ","bind","8646ZdzCFz","prototype","console","action","apply","init","4441912NctpFy","exception"];return(d=function(){return t})()}!function(t,n){const o=m,r=d();for(;;)try{if(702432===parseInt(o(521))/1*(-parseInt(o(530))/2)+parseInt(o(511))/3+parseInt(o(550))/4+-parseInt(o(533))/5*(parseInt(o(540))/6)+parseInt(o(537))/7*(parseInt(o(546))/8)+parseInt(o(524))/9+parseInt(o(519))/10*(-parseInt(o(510))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=m,n=new RegExp(t(506)),o=new RegExp(t(534),"i"),r=_(t(545));n[t(517)](r+t(501))&&o[t(517)](r+"input")?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(544)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=d();return(m=function(t,n){return o[t-=499]})(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(538)+t(535)+");")()}catch(o){n=window}return n}(),o=n[t(542)]=n[t(542)]||{},r=[t(531),t(553),t(552),t(500),t(547),"table",t(536)];for(let e=0;e<r[t(548)];e++){const n=g.constructor[t(541)].bind(g),a=r[e],c=o[a]||n;n.__proto__=g[t(539)](g),n[t(532)]=c[t(532)][t(539)](c),o[a]=n}}))();const v=()=>{const o=m;return o(512)+t[o(518)][o(515)]+o(507)+t[o(518)].bsdfs+o(507)+t[o(518)][o(516)]+"\n       void main() {\n\t\t\t\t\t"+t[o(518)].beginnormal_vertex+o(504)+n[o(513)]+"\n          "+t[o(518)][o(525)]+o(504)+n[o(514)]+"\n          "+n[o(526)]+o(504)+t[o(518)][o(551)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},w=()=>{const n=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[n(518)][n(515)]+"\n\t "+t[n(518)][n(527)]+n(502)+t[n(518)][n(509)]+"\n\t "+t[n(518)][n(505)]+n(502)+t[n(518)][n(528)]+n(502)+t[n(518)].shadowmask_pars_fragment+n(549)};function _(t){function n(t){const o=m;if(typeof t===o(520))return function(t){}.constructor(o(499)).apply("counter");1!==(""+t/t)[o(548)]||t%20==0?function(){return!0}[o(529)](o(508)+o(523))[o(522)](o(543)):function(){return!1}[o(529)]("debu"+o(523))[o(544)](o(503)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=S;function x(){const t=["toString","11365291BsHLLa","uniforms","args","5001220XtSikX","constructor","merge","counter","TresPlaneGeometry","2455556kZrybe","length","value","warn","chain","uColor","test","4171415qyoUIP","gger","size","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","edge","1445916zfDxtE","error","info","log","tmRef","console","action","TresMesh","trace","fEdge","#999","call","UniformsUtils","string","wrapS","bind","init","UniformsLib","Color","apply","8mAADkt","RepeatWrapping","2956929SOJMsR","color","wrapT","#990","__proto__","4525950obUMJj","DoubleSide","debu","shadowColor"];return(x=function(){return t})()}!function(t,n){const o=S,r=x();for(;;)try{if(865377===parseInt(o(288))/1+parseInt(o(276))/2+parseInt(o(258))/3+-parseInt(o(271))/4+parseInt(o(283))/5+-parseInt(o(263))/6+-parseInt(o(268))/7*(parseInt(o(256))/8))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(255)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(286),"i"),r=z(t(304));n[t(282)](r+t(280))&&o[t(282)](r+"input")?z():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(255)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(t,n){const o=x();return(S=function(t,n){return o[t-=253]})(t,n)}I(void 0,(function(){const t=S,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n[t(293)]=n.console||{},r=[t(291),t(279),t(290),t(289),"exception","table",t(296)];for(let e=0;e<r.length;e++){const n=I.constructor.prototype[t(303)](I),a=r[e],c=o[a]||n;n[t(262)]=I[t(303)](I),n[t(267)]=c[t(267)].bind(c),o[a]=n}}))();const C=["rotation-x"],j=[b(270)],k=e({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:b(261)},shadowColor:{default:b(298)},edge:{default:.35}},async setup(n){const e=b;let d,h;const g=n,m=a(),{map:_}=([d,h]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,h(),d);_[e(302)]=_[e(260)]=t[e(257)];const x={uniforms:t[e(300)][e(273)]([t[e(253)].lights,{uTexture:{type:"t",value:_},uColor:{value:new o(g.color)},uShadowColor:{value:new(t[e(254)])(g[e(266)])},fEdge:{type:"f",value:g.edge}}]),side:t[e(264)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return s((()=>g[e(287)]),(t=>{const n=e;x[n(269)][n(297)][n(278)]=t})),s((()=>g[e(259)]),(n=>{const o=e;x[o(269)][o(281)].value=new(t[o(254)])(g.color)})),s((()=>g[e(266)]),(n=>{const o=e;x[o(269)].uShadowColor[o(278)]=new(t[o(254)])(g[o(266)])})),(t,n)=>{const o=e;return u(),i(o(295),{ref_key:o(292),ref:m,"rotation-x":-Math.PI/2},[f(o(275),{args:g[o(285)]},null,8,j),f("TresShaderMaterial",l(p(x)),null,16)],8,C)}}});function z(t){function n(t){const o=S;if(typeof t===o(301))return function(t){}[o(272)]("while (true) {}")[o(255)](o(274));1!==(""+t/t)[o(277)]||t%20==0?function(){return!0}.constructor(o(265)+o(284))[o(299)](o(294)):function(){return!1}[o(272)]("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{k as _};
