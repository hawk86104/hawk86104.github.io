import{_ as t,bT as n,C as o,a0 as r}from"./three.x4oqFJNT1729821967160.js";import{z as e}from"./@tresjs.QjD7q5YC1729821967160.js";import{d as a,b as s,a4 as c,w as i,o as u,E as f,L as l,aj as p,ak as h}from"./@vue.JNsx1iN61729821967160.js";!function(t,n){const o=m,r=v();for(;;)try{if(476484===-parseInt(o(286))/1+-parseInt(o(250))/2*(parseInt(o(269))/3)+-parseInt(o(240))/4+-parseInt(o(284))/5*(-parseInt(o(275))/6)+-parseInt(o(273))/7+parseInt(o(290))/8*(parseInt(o(260))/9)+parseInt(o(287))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp(t(266)),o=new RegExp(t(251),"i"),r=x(t(292));n.test(r+"chain")&&o.test(r+t(255))?x():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(256)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=v();return(m=function(t,n){return o[t-=240]})(t,n)}function v(){const t=["while (true) {}","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n       void main() {\n\t\t\t\t\t","2330265kMUrqj","__proto__","436860OaSFyS","8289220mUbPFh","packing","console","8iVkVDV","counter","init","defaultnormal_vertex","227856dcpDGp","shadowmask_pars_fragment","worldpos_vertex","info","shadowmap_pars_fragment","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","\n       varying vec2 vUv;\n\t\t\t \t","length","toString","\n\t ","459554imEnQB","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","call","input","apply","string","bind","log","5682969YTqOCh","stateObject","ShaderChunk","begin_vertex","debu","exception","function *\\( *\\)","lights_pars_begin","error","9gxoMYH","bsdfs","trace","common","5129810rQGTnQ","constructor","12ftljkK","action","\n          ","shadowmap_vertex","\n      \t","shadowmap_pars_vertex"];return(v=function(){return t})()}g(void 0,(function(){const t=m,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n[t(289)]=n.console||{},r=[t(259),"warn",t(243),t(268),t(265),"table",t(271)];for(let e=0;e<r[t(247)];e++){const n=g.constructor.prototype[t(258)](g),a=r[e],s=o[a]||n;n[t(285)]=g[t(258)](g),n.toString=s[t(248)].bind(s),o[a]=n}}))();const w=()=>{const o=m;return o(246)+t[o(262)].common+o(279)+t[o(262)][o(270)]+o(279)+t[o(262)][o(280)]+o(283)+n.beginnormal_vertex+o(277)+t[o(262)][o(293)]+o(277)+t[o(262)][o(263)]+o(277)+t[o(262)].project_vertex+o(277)+t[o(262)][o(242)]+o(277)+t[o(262)][o(278)]+o(253)},_=()=>{const o=m;return o(282)+t[o(262)][o(272)]+o(249)+t[o(262)][o(288)]+o(249)+n.bsdfs+"\n\t "+t[o(262)][o(267)]+o(249)+n[o(244)]+o(249)+t[o(262)][o(241)]+o(245)};function x(t){function n(t){const o=m;if(typeof t===o(257))return function(t){}.constructor(o(281)).apply(o(291));1!==(""+t/t)[o(247)]||t%20==0?function(){return!0}[o(274)](o(264)+o(252))[o(254)](o(276)):function(){return!1}[o(274)](o(264)+o(252)).apply(o(261)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const y=C;function b(){const t=["bind","Color","counter","tmRef","215taVVwa","args","size","#990","uColor","prototype","lights","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","uShadowColor","init","TresPlaneGeometry","action","string","62118wTwmni","whiteFloorMesh","value","shadowColor","color","console","UniformsLib","length","fEdge","table","exception","gger","TresMesh","40YQznCL","2169202NOBJPK","call","stateObject","merge","1307013cVuFFe","wrapT","539067NcRioQ","constructor","test","RepeatWrapping","apply","2035089QVXHIf","147774XFmnOt","trace","uniforms","info","TresShaderMaterial","function *\\( *\\)","UniformsUtils","log","chain","edge","1008548iSvEEc"];return(b=function(){return t})()}!function(t,n){const o=C,r=b();for(;;)try{if(305450===parseInt(o(236))/1+parseInt(o(242))/2+parseInt(o(234))/3+parseInt(o(252))/4+parseInt(o(201))/5*(parseInt(o(216))/6)+-parseInt(o(230))/7+-parseInt(o(229))/8*(parseInt(o(241))/9))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(240)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=C,n=new RegExp(t(247)),o=new RegExp(t(209),"i"),r=k(t(212));n[t(238)](r+t(250))&&o[t(238)](r+"input")?k():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function C(t,n){const o=b();return(C=function(t,n){return o[t-=200]})(t,n)}S(void 0,(function(){const t=C;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(221)]=n[t(221)]||{},r=[t(249),"warn",t(245),"error",t(226),t(225),t(243)];for(let a=0;a<r[t(223)];a++){const n=S.constructor[t(206)][t(253)](S),e=r[a],s=o[e]||n;n.__proto__=S[t(253)](S),n[t(208)]=s[t(208)][t(253)](s),o[e]=n}}))();const j=["rotation-x"],T=[y(202)],E=a({__name:y(217),props:{size:{default:[20,20]},color:{default:y(204)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const a=y;let d,g;const m=n,v=s(),{map:x}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x.wrapS=x[a(235)]=t[a(239)];const b={uniforms:t[a(248)][a(233)]([t[a(222)][a(207)],{uTexture:{type:"t",value:x},uColor:{value:new(t[a(254)])(m[a(220)])},uShadowColor:{value:new o(m[a(219)])},fEdge:{type:"f",value:m[a(251)]}}]),side:r,vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>m[a(251)]),(t=>{const n=a;b.uniforms[n(224)][n(218)]=t})),i((()=>m[a(220)]),(n=>{const o=a;b.uniforms[o(205)][o(218)]=new(t[o(254)])(m[o(220)])})),i((()=>m.shadowColor),(n=>{const o=a;b[o(244)][o(211)][o(218)]=new(t[o(254)])(m[o(219)])})),(t,n)=>{const o=a;return u(),f(o(228),{ref_key:o(200),ref:v,"rotation-x":-Math.PI/2},[l(o(213),{args:m[o(203)]},null,8,T),l(o(246),p(h(b)),null,16)],8,j)}}});function k(t){function n(t){const o=C;if(typeof t===o(215))return function(t){}[o(237)]("while (true) {}").apply(o(255));1!==(""+t/t).length||t%20==0?function(){return!0}[o(237)](o(210)+"gger")[o(231)](o(214)):function(){return!1}.constructor(o(210)+o(227))[o(240)](o(232)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
