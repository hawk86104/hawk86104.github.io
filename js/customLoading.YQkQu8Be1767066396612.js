import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{B as t,Q as r}from"./three.quarks.CFGwYRX_1767066396612.js";import{i as o}from"./Resource.BqPJptsT1767066396612.js";import{i as s}from"./generalFont.vue_vue_type_script_setup_true_lang.Z5LxGLZ21767066396612.js";import"./default.vue_vue_type_script_setup_true_lang.VHSeCGYE1767066396612.js";import"./three-mesh-ui.module.dA3oDDhS1767066396612.js";import"./domPanel.vue_vue_type_style_index_0_lang.D11M9pLL1767066396612.js";import{_ as a,K as i}from"./@tresjs.B1f7s3pS1767066396612.js";import{P as n}from"./tweakpane.CqZAnw7f1767066396612.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.QAhgb6gv1767066396612.js";import{_ as l}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.BsurrMlS1767066396612.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.DLEIrwy01767066396612.js";import"./dynamicRotatingBase.vue_vue_type_script_setup_true_lang.TWwBAcpR1767066396612.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.B0g981fI1767066396612.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.DMg7taI31767066396612.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.BA37_NOg1767066396612.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.DpqMe-oJ1767066396612.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.L0s_9p-l1767066396612.js";import"./reflectorRoundedBox.vue_vue_type_script_setup_true_lang.BQMMcME51767066396612.js";import"./particleBase.vue_vue_type_script_setup_true_lang.Ekjdlh7L1767066396612.js";import"./rippleFloor.vue_vue_type_script_setup_true_lang.BioNhjHj1767066396612.js";import{a as u}from"./quarks.core.C3xH0YPO1767066396612.js";const{defineComponent:p}=await e("vue"),{unref:_,createElementVNode:c,Fragment:m,openBlock:d,createElementBlock:v}=await e("vue"),f=["object"],g=["object","position","scale","rotation"],y=await e("three"),{watch:h}=await e("vue"),j=p({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(e){const r=e,s=e=>{const t=new y.Color(r.color),o=new y.Vector4(t.r,t.g,t.b,e);return new u(o)},i=new t,n=new y.Group,l=o.getItem("CartoonMagicZone.json").clone(!0);l.traverse(e=>{if("ParticleEmitter"===e.type){"BasicZoneRedEmitter"===e.name&&e.rotation.set(Math.PI/2,0,0);const t=e.system;t.startColor=s(t.startColor.color.w),i.addSystem(t)}}),"ParticleEmitter"===l.type&&i.addSystem(l.system),n.add(l);const{onBeforeRender:p}=a();return p(({delta:e})=>{i.update(e)}),h(()=>[r.color],([e])=>{i.systemToBatchIndex.forEach((e,t)=>{t.startColor=s(t.startColor.color.w)})}),(e,t)=>(d(),v(m,null,[c("primitive",{object:_(n)},null,8,f),c("primitive",{object:_(i),position:e.position,scale:e.scale,rotation:e.rotation},null,8,g)],64))}}),{defineComponent:w}=await e("vue"),{unref:B,createVNode:M,createElementVNode:C,mergeProps:k,openBlock:T,createBlock:F,createCommentVNode:b,Suspense:P,withCtx:x,resolveComponent:E,Fragment:R,createElementBlock:S}=await e("vue"),{reactive:G}=await e("vue"),V=w({__name:"customLoading",setup(e){const t=G({reflectivity:.1,showGridHelper:!0,scale:1}),a=G({color:"#ffffff",scale:1});o.loaderMapping.QuarksLoader=r,o.loadResources([{functionName:"QuarksLoader",url:"./plugins/floor/json/CartoonMagicZone.json"}]);const u=new n;return u.addBinding(a,"color",{label:"颜色"}),u.addBinding(a,"scale",{label:"大小",min:.1,max:3,step:.1}),(e,r)=>{const n=E("TresCanvas");return T(),S(R,null,[M(B(s),{useResourceManager:""}),M(n,{clearColor:"#201919","window-size":""},{default:x(()=>[r[0]||(r[0]=C("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),M(B(i),{enableDamping:""}),B(o).hasAllFinished.value?(T(),F(j,k({key:0},a,{position:[0,0,0]}),null,16)):b("",!0),B(o).hasAllFinished.value?(T(),F(j,{key:1,color:"red",position:[3,0,0],rotation:[-Math.PI,1,45]},null,8,["rotation"])):b("",!0),B(o).hasAllFinished.value?(T(),F(j,{key:2,color:"green",position:[-2,0,0]})):b("",!0),r[1]||(r[1]=C("TresMesh",{position:[3,0,0]},[C("TresSphereGeometry",{args:[1,32,32]}),C("TresMeshBasicMaterial",{color:"red"})],-1)),r[2]||(r[2]=C("TresMesh",{position:[-2,0,0]},[C("TresSphereGeometry",{args:[1,32,32]}),C("TresMeshBasicMaterial",{color:"green"})],-1)),r[3]||(r[3]=C("TresMesh",{position:[0,0,0]},[C("TresSphereGeometry",{args:[1,32,32]}),C("TresMeshBasicMaterial",{color:"white"})],-1)),(T(),F(P,null,{default:x(()=>[M(B(l),k({position:[0,-.5,0]},t),null,16)]),_:1}))]),_:1})],64)}}});export{V as default};
