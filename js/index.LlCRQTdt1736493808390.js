import{m as t,j as n}from"./@tresjs.g7tJPOCI1736493808390.js";import{C as e,V as r,E as i,a8 as s,k as o,an as a,O as c,as as u,Q as h,aH as l,s as p,$ as f,K as d,B as w,a as m,b3 as g,ac as y,a1 as v,cW as I,a3 as b,Z as x}from"./three.lAfZYOpc1736493808390.js";import{d as P,w as A}from"./@vue.-Mz_IXfk1736493808390.js";const C=_;function M(){const t=["axesLines","counter","164486TSBeTF","test","set","77YdyLyD","domRect","toArray","onPointerLeave","change","translateX(-50%)","isViewHelper","dragging","exception","createElement","sub","fill","renderer","506947CmneYZ","pointerup","onPointerMove","info","object","backgroundSphere","onPointerDown","table","center","applyQuaternion","color","controlsChangeEvent","div","split","geometry","left","bind","fillStyle","updateMatrixWorld","clientY","repeat","dispose","appendChild","spritePoints","#FFF","log","updateOrientation","closePath","forEach","1912rxGgKj","clientX","angleTo","map","addEventListener","warn","12XWsDry","fillText","renderOrder","opacity","error","chain","transform","invert","remove","width","viewport","target","1079956tHjBTI","action","camera","distanceTo","bottom","handleHover","autoClear","setAttribute","toUpperCase","backgroundSpheregeometry","handleClick","987510qOKSeE","multiplyScalar","stylecursor","lookAt","domContainer","min","console","setOrientation","onpointerdown","length","orthoCamera","toString","position","controls","4167TmUCeI","add","__proto__","stateObject","rotation","constructor","trace","material","style","wrapT","abs","translateY(-50%)","offsetHeight","canvas","string","input","gger","pointermove","wrapS","1436733fRYlia","removeEventListener","call","debu","getContext","getBoundingClientRect","setFromEuler","beginPath","userData","setViewport","animating","domElement","cursor","2dBjsbS","50%","1171570NJNDmh","#000","flat","intersectObjects","height","render","apply",'{}.constructor("return this")( )',"bottom-right","startListening","setFromQuaternion","animate","font","while (true) {}","bold 48px Arial","quaternion","copy","listener","scale","pointer","textAlign","offset","top"];return(M=function(){return t})()}!function(t,n){const e=_,r=M();for(;;)try{if(278651===parseInt(e(500))/1+-parseInt(e(457))/2*(parseInt(e(444))/3)+-parseInt(e(400))/4+-parseInt(e(459))/5+parseInt(e(388))/6*(-parseInt(e(484))/7)+parseInt(e(382))/8*(parseInt(e(425))/9)+parseInt(e(411))/10*(parseInt(e(487))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function _(t,n){const e=M();return(_=function(t,n){return e[t-=382]})(t,n)}!function(){E(this,(function(){const t=_,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=et("init");n[t(485)](r+t(393))&&e[t(485)](r+t(440))?et():r("0")}))()}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[_(465)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=_;let n;try{n=Function("return (function() "+t(466)+");")()}catch(i){n=window}const e=n.console=n[t(417)]||{},r=[t(525),t(387),t(503),t(392),t(495),t(507),t(431)];for(let s=0;s<r[t(420)];s++){const n=S[t(430)].prototype[t(516)](S),i=r[s],o=e[i]||n;n[t(427)]=S[t(516)](S),n[t(422)]=o[t(422)][t(516)](o),e[i]=n}}))();const[k,j,F,O,R,T]=Array(6)[C(498)](0)[C(385)](((t,n)=>n)),L=[new e(16725587),new e(9100032),new e(2920447)],z=new r,V=new h,D=new i,Y=new h,Z=new h,H=new r,K=2*Math.PI,Q=new s,B=new o,X=new o,$=new o,U=new a;let J=0;function N(){const t=C,n=["x","y","z"];return Array(6).fill(0)[t(385)](((e,r)=>{const i=t,s=r<3,o=s?"+":"-",a=n[r%3],c=L[r%3],u=new v(function(t,n=null){const e=C,r=document[e(496)](e(438));r.width=128,r[e(463)]=64;const i=r[e(448)]("2d");i[e(451)](),i.arc(32,32,32,0,2*Math.PI),i[e(527)](),i.fillStyle=t.getStyle(),i[e(498)](),i[e(451)](),i.arc(96,32,32,0,2*Math.PI),i[e(527)](),i[e(517)]=e(524),i[e(498)](),null!==n&&(i[e(471)]=e(473),i[e(479)]=e(508),i[e(517)]=e(460),i[e(389)](n.toUpperCase(),32,48),i[e(389)](n[e(408)](),96,48));const s=new I(r);return s[e(443)]=s[e(434)]=b,s[e(520)].x=.5,new x({map:s,toneMapped:!1,transparent:!0})}(c,s?a:null));return u[i(452)].type=""+o+a,u.scale.setScalar(s?.6:.4),u.position[a]=s?1.2:-1.2,u[i(390)]=1,u}))}function W(t){const n=C;let e=t[n(420)];for(;e--;){const r=e<3?.6:.4;t[e][n(477)][n(486)](r,r,r),t[e][n(432)].map.offset.x=1}}function q(t,n){const e=C;J=t[e(423)][e(403)](n)}function G(t,n,e,r){const i=C;!function(t,n,e){const r=C;B.x=(t[r(383)]-n[r(515)])/n[r(397)]*2-1,B.y=-(t.clientY-n[r(481)])/n[r(463)]*2+1,Q.setFromCamera(B,e)}(t,n,e);const s=Q[i(462)](r);if(!s.length)return null;return s[0][i(504)]}function tt(t,n,e){const r=C;switch(e){case"+x":z[r(486)](1,0,0),V[r(450)](new i(0,.5*Math.PI,0));break;case"+y":z[r(486)](0,1,0),V[r(450)](new i(.5*-Math.PI,0,0));break;case"+z":z.set(0,0,1),V[r(450)](new i);break;case"-x":z.set(-1,0,0),V[r(450)](new i(0,.5*-Math.PI,0));break;case"-y":z.set(0,-1,0),V[r(450)](new i(.5*Math.PI,0,0));break;case"-z":z[r(486)](0,0,-1),V[r(450)](new i(0,Math.PI,0));break;default:console[r(392)]("ViewHelper: Invalid axis.")}q(t,n),function(t,n){const e=C;z.multiplyScalar(J)[e(426)](n),U[e(423)].copy(n),U[e(414)](t[e(423)]),Y[e(475)](U[e(474)]),U[e(414)](z),Z.copy(U[e(474)])}(t,n)}class nt extends a{constructor(t,n,e=C(467),i=128){const s=C;super(),this[s(499)]=n,this.camera=t,this[s(455)]=n[s(455)],this[s(421)]=new c(-1.8,1.8,1.8,-1.8,0,4),this[s(493)]=!0,this[s(454)]=!1,this[s(399)]=new r,this[s(494)]=!1,this[s(398)]=new u,this[s(437)]=0,this.orthoCamera[s(423)][s(486)](0,0,2),this[s(505)]=function(){const t=new l(1.6);return new p(t,new f({color:16777215,side:d,transparent:!0,opacity:0,depthTest:!1}))}(),this[s(482)]=function(){const t=C,n=Array(3)[t(498)](0)[t(385)](((t,n)=>[n?0:.9,1===n?.9:0,2===n?.9:0,0,0,0]))[t(461)](),e=Array(6)[t(498)](0)[t(385)](((n,e)=>e<2?L[0][t(489)]():e<4?L[1].toArray():L[2].toArray()))[t(461)](),r=new w;return r[t(407)]("position",new m(new Float32Array(n),3)),r.setAttribute(t(510),new m(new Float32Array(e),3)),new g(r,new y({linewidth:3,vertexColors:!0}))}(),this[s(523)]=N(),this[s(426)](this[s(505)],this[s(482)],...this.spritePoints),this[s(415)]=function(t,n){const e=C,r=document[e(496)](e(512)),i=r[e(433)];i[e(463)]=n+"px",i[e(397)]=n+"px",i.borderRadius="100%",i.position="absolute",i[e(456)]=e(478);const[s,o]=t[e(513)]("-");return i[e(394)]="",i.left=o===e(515)?"0":o===e(508)?"50%":"",i.right="right"===o?"0":"",i[e(394)]+=o===e(508)?e(492):"",i.top=s===e(481)?"0":s===e(404)?"":e(458),i[e(404)]=s===e(404)?"0":"",i[e(394)]+=s===e(508)?e(436):"",i.zIndex=99999,r}(e,i),this.domElement.parentElement[s(522)](this[s(415)]),this.domRect=this[s(415)][s(449)](),this[s(468)](),this[s(511)]={listener:()=>this[s(526)]()},this.update(),this[s(526)]()}startListening(){const t=C;this[t(415)][t(419)]=n=>this[t(506)](n),this.domContainer.onpointermove=t=>this.onPointerMove(t),this[t(415)].onpointerleave=()=>this[t(490)]()}[C(506)](t){const n=C,e=D.copy(this[n(429)]),r=t=>{const r=n;var i,s,o;!this[r(494)]&&function(t,n,e=10){const r=C;return Math.abs(t[r(383)]-n.x)<e&&Math[r(435)](t[r(519)]-n.y)<e}(t,X)||(!this[r(494)]&&(W(this[r(523)]),this[r(494)]=!0),$[r(486)](t[r(383)],t[r(519)])[r(497)](X)[r(412)](1/this[r(488)][r(397)]*Math.PI),this[r(429)].x=(i=e.x+$.y,s=Math.PI/-2+.001,o=Math.PI/2-.001,Math[C(416)](Math.max(i,s),o)),this[r(429)].y=e.y+$.x,this[r(518)](),Y[r(475)](this[r(474)])[r(395)](),this.camera.position[r(486)](0,0,1)[r(509)](Y)[r(412)](J).add(this[r(399)]),this[r(402)][r(429)][r(469)](Y),this.updateOrientation(!1))},i=()=>{const e=n;document.removeEventListener(e(442),r,!1),document[e(445)](e(501),i,!1),this[e(494)]?this[e(494)]=!1:this[e(410)](t)};!0!==this.animating&&(t.preventDefault(),X.set(t[n(383)],t.clientY),q(this[n(402)],this[n(399)]),document[n(386)]("pointermove",r,!1),document.addEventListener(n(501),i,!1))}[C(502)](t){const n=C;this.dragging||(this[n(505)].material[n(391)]=.2,this[n(405)](t))}[C(490)](){const t=C;this.dragging||(this[t(505)][t(432)][t(391)]=0,W(this.spritePoints),this[t(415)][t(413)]="")}handleClick(t){const n=C,e=G(t,this[n(488)],this[n(421)],this.spritePoints);e&&this[n(418)](e.userData.type)}[C(405)](t){const n=C,e=G(t,this[n(488)],this[n(421)],this.spritePoints);W(this.spritePoints),e?(e.material[n(385)][n(480)].x=.5,e[n(477)][n(412)](1.2),this[n(415)][n(413)]=n(478)):this[n(415)][n(413)]=""}setControls(t){const n=C;this[n(424)]&&(this.controls[n(445)]("change",this[n(511)][n(476)]),this[n(399)]=new r),t&&(this[n(424)]=t,t.addEventListener(n(491),this[n(511)].listener),this[n(399)]=t[n(399)])}[C(464)](t){const n=C;this[n(454)]&&this[n(470)](t),this.update();const e=this[n(488)][n(515)],r=this[n(437)]-this[n(488)].bottom,i=this.renderer.autoClear;this[n(499)][n(406)]=!1,this[n(499)][n(453)](e,r,128,128),this[n(499)][n(464)](this,this[n(421)]),this[n(499)].setViewport(this[n(398)]),this.renderer[n(406)]=i}[C(526)](t=!0){const n=C;t&&(this[n(474)][n(475)](this[n(402)].quaternion)[n(395)](),this[n(518)]()),function(t,n){const e=C;H.set(0,0,1),H.applyQuaternion(n[e(474)]),H.x>=0?(t[k][e(432)].opacity=1,t[O].material[e(391)]=.5):(t[k][e(432)][e(391)]=.5,t[O][e(432)][e(391)]=1),H.y>=0?(t[j].material[e(391)]=1,t[R][e(432)].opacity=.5):(t[j][e(432)].opacity=.5,t[R][e(432)].opacity=1),H.z>=0?(t[F][e(432)][e(391)]=1,t[T].material[e(391)]=.5):(t[F][e(432)][e(391)]=.5,t[T][e(432)][e(391)]=1)}(this[n(523)],this[n(402)])}update(){const t=C;this[t(488)]=this[t(415)][t(449)](),this[t(437)]=this[t(455)][t(437)],q(this[t(402)],this[t(399)]),this.renderer.getViewport(this[t(398)]),this[t(526)]()}[C(470)](t){const n=C,e=t*K;Y.rotateTowards(Z,e),this[n(402)][n(423)][n(486)](0,0,1)[n(509)](Y)[n(412)](J)[n(426)](this[n(399)]),this[n(402)][n(474)].rotateTowards(V,e),this[n(526)](),0===Y[n(384)](Z)&&(this[n(454)]=!1)}setOrientation(t){const n=C;tt(this[n(402)],this[n(399)],t),this[n(454)]=!0}[C(521)](){const t=C;this.axesLines[t(514)][t(521)](),this[t(482)][t(432)][t(521)](),this[t(409)][t(521)](),this.backgroundSpherematerial[t(521)](),this[t(523)][t(528)]((n=>{const e=t;n[e(432)].map[e(521)](),n[e(432)][e(521)]()})),this[t(415)][t(396)](),this[t(424)]&&this[t(424)][t(445)]("change",this[t(511)][t(476)])}}function et(t){function n(t){const e=_;if(typeof t===e(439))return function(t){}[e(430)](e(472))[e(465)](e(483));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debugger")[e(446)](e(401)):function(){return!1}[e(430)](e(447)+e(441))[e(465)](e(428)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=at;!function(t,n){const e=at,r=st();for(;;)try{if(918969===parseInt(e(310))/1+-parseInt(e(298))/2+-parseInt(e(293))/3*(-parseInt(e(311))/4)+-parseInt(e(309))/5*(parseInt(e(313))/6)+-parseInt(e(305))/7*(-parseInt(e(303))/8)+parseInt(e(307))/9*(parseInt(e(316))/10)+-parseInt(e(312))/11*(parseInt(e(294))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const it=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[at(308)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function st(){const t=["1521528xFvVDt","string","bottom-right","placement","constructor","2394904sbiajA","warn","21fyedbk","call","8946HUjDvI","apply","3380PndAGw","1572213VUmZXw","4012OzVWHJ","16253479KvTFXJ","9678oKoSmR","render","init","15500chKhLI","table","return (function() ","toString","console","debu","length","setControls","value","input","counter","action","prototype","gger","log","error","bind","708DKQpOE","12KMuRsQ","function *\\( *\\)","test","__proto__"];return(st=function(){return t})()}!function(){it(this,(function(){const t=at,n=new RegExp(t(295)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=ut(t(315));n[t(296)](r+"chain")&&e[t(296)](r+t(285))?ut():r("0")}))()}();const ot=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[at(308)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function at(t,n){const e=st();return(at=function(t,n){return e[t-=283]})(t,n)}ot(void 0,(function(){const t=at;let n;try{n=Function(t(318)+'{}.constructor("return this")( ));')()}catch(i){n=window}const e=n[t(320)]=n.console||{},r=[t(290),t(304),"info",t(291),"exception",t(317),"trace"];for(let s=0;s<r.length;s++){const n=ot[t(302)][t(288)].bind(ot),i=r[s],o=e[i]||n;n[t(297)]=ot[t(292)](ot),n.toString=o[t(319)][t(292)](o),e[i]=n}}))();const ct=P({__name:"viewHelper",props:{placement:{default:rt(300)}},setup(e){const r=rt,i=e,{camera:s,renderer:o,controls:a}=t();let c=null;A((()=>a[r(284)]),(t=>{const n=r;t&&(!c&&(c=new nt(s[n(284)],o[n(284)],i[n(301)])),c[n(283)](t))}));const{onAfterRender:u}=n();return u((({delta:t})=>{c&&(null==c||c[r(314)](t))})),(t,n)=>null}});function ut(t){function n(t){const e=at;if(typeof t===e(299))return function(t){}.constructor("while (true) {}")[e(308)](e(286));1!==(""+t/t)[e(322)]||t%20==0?function(){return!0}[e(302)]("debu"+e(289))[e(306)](e(287)):function(){return!1}[e(302)](e(321)+e(289))[e(308)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){for(var e=ft,r=pt();;)try{if(715287===-parseInt(e(367))/1+-parseInt(e(369))/2+-parseInt(e(380))/3*(-parseInt(e(394))/4)+parseInt(e(374))/5+-parseInt(e(384))/6+-parseInt(e(370))/7+parseInt(e(366))/8)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var ht=function(){var t=!0;return function(n,e){var r=t?function(){if(e){var t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ht(this,(function(){var t=ft,n=new RegExp(t(387)),e=new RegExp(t(382),"i"),r=dt("init");n[t(386)](r+"chain")&&e[t(386)](r+t(373))?dt():r("0")}))()}();var lt=function(){var t=!0;return function(n,e){var r=t?function(){if(e){var t=e[ft(392)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function pt(){var t=["2506973dOYTwk","stateObject","table","input","1058390bdMlsN","console","__proto__","gger","error","string","8553VJNUuV","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","2760744BfVYBT","constructor","test","function *\\( *\\)","while (true) {}","bind",'{}.constructor("return this")( )',"warn","apply","debu","716eMQlxy","length","action","17637352XXZaCn","1087197YANSGo","counter","611858WQLDPJ"];return(pt=function(){return t})()}function ft(t,n){var e=pt();return(ft=function(t,n){return e[t-=366]})(t,n)}function dt(t){function n(t){var e=ft;if(typeof t===e(379))return function(t){}.constructor(e(388))[e(392)](e(368));1!==(""+t/t).length||t%20==0?function(){return!0}[e(385)](e(393)+e(377)).call(e(396)):function(){return!1}[e(385)](e(393)+e(377))[e(392)](e(371)),n(++t)}try{if(t)return n;n(0)}catch(e){}}lt(void 0,(function(){for(var t=ft,n=function(){var t,n=ft;try{t=Function(n(381)+n(390)+");")()}catch(e){t=window}return t}(),e=n[t(375)]=n[t(375)]||{},r=["log",t(391),"info",t(378),"exception",t(372),"trace"],i=0;i<r[t(395)];i++){var s=lt[t(385)].prototype[t(389)](lt),o=r[i],a=e[o]||s;s[t(376)]=lt[t(389)](lt),s[t(383)]=a[t(383)][t(389)](a),e[o]=s}}))();export{ct as _};
