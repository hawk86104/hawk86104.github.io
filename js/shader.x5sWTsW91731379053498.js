import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.bLKO3xyw1731379053498.js";import{z as s,_ as i,aB as a,a0 as c}from"./three.bXjbKLxC1731379053498.js";import{P as u}from"./tweakpane.yHWGBmom1731379053498.js";import{L as l}from"./three-subdivide.nJEIOhs-1731379053498.js";import{d as f,b as p,a3 as d,w as m,o as g,D as h,J as v,aj as y,ak as b,a6 as w,r as I,e as _,f as M,g as x,j as S,u as T,m as B,I as j}from"./@vue.-THQH3GC1731379053498.js";import"./@vueuse.DWZrQ1Sl1731379053498.js";function C(){const n=["\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","debu","side","Color","log","modify","AdditiveBlending","blending","stateObject","bind","info","TresMesh","return (function() ","viewVector","action","8gdaMdN","1160AYyupI","6893442KwYocl","apply","gger","function *\\( *\\)",'{}.constructor("return this")( )',"276012bsVUFS","TresShaderMaterial","counter","toString","TSGref","console","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","material","test","11291830vIPCHC","exception","scale","629948YXsWDS","Vector3","input","color","table","chain","while (true) {}","subVectors","clone","position","5349IPqYCI","610pnKeyr","geometry","4585301GVtScp","call","glowColor","constructor","uniforms","trace","__proto__","prototype","value","warn","length","srcMesh","subdivision","15332rQJzGS"];return(C=function(){return n})()}const k=N;!function(n,t){const e=N,r=C();for(;;)try{if(622307===parseInt(e(422))/1+-parseInt(e(433))/2*(-parseInt(e(432))/3)+-parseInt(e(448))/4*(parseInt(e(465))/5)+parseInt(e(471))/6+parseInt(e(435))/7+-parseInt(e(464))/8*(-parseInt(e(466))/9)+-parseInt(e(419))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(467)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){A(this,(function(){const n=N,t=new RegExp(n(469)),e=new RegExp(n(416),"i"),r=P("init");t[n(418)](r+n(427))&&e.test(r+n(424))?P():r("0")}))()}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(467)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function N(n,t){const e=C();return(N=function(n,t){return e[n-=414]})(n,t)}z(void 0,(function(){const n=N;let t;try{t=Function(n(461)+n(470)+");")()}catch(o){t=window}const e=t[n(414)]=t[n(414)]||{},r=[n(453),n(444),n(459),"error",n(420),n(426),n(440)];for(let s=0;s<r[n(445)];s++){const t=z[n(438)][n(442)].bind(z),o=r[s],i=e[o]||t;t[n(441)]=z[n(458)](z),t[n(474)]=i[n(474)][n(458)](i),e[o]=t}}))();const G=[k(421)],V=f({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s},blending:{default:i[k(455)]}},setup(e){const r=k,o=e,s=p(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(452)])(o[r(425)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(449),fragmentShader:r(415),side:o[r(451)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(456)]};d((()=>{const n=r;if(o[n(446)]&&s[n(443)]&&!s.value[n(434)].attributes.position){let t=o[n(446)].geometry[n(430)]();o[n(447)]&&(t=l[n(454)](t,2)),s[n(443)][n(434)]=t,s.value[n(431)].copy(o.srcMesh[n(431)])}o[n(425)]&&(a[n(439)][n(437)][n(443)]=new(i[n(452)])(o.color)),o.c&&(a.uniforms.c[n(443)]=o.c),o.p&&(a[n(439)].p.value=o.p)})),m((()=>o[r(447)]),(n=>{const t=r;let e=o[t(446)][t(434)][t(430)]();n&&(e=l[t(454)](e,2)),s.value[t(434)]=e})),m((()=>o[r(451)]),(n=>{const t=r;s[t(443)][t(417)][t(451)]=n})),m((()=>o[r(456)]),(n=>{const t=r;s.value[t(417)][t(456)]=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=r;u[n(443)]&&s.value&&(a.uniforms[n(462)].value=(new(i[n(423)]))[n(429)](u[n(443)][n(431)],s[n(443)][n(431)]))})),(n,t)=>{const e=r;return g(),h(e(460),{ref_key:e(475),ref:s,scale:o.scale},[v(e(472),y(b(a)),null,16)],8,G)}}});function P(n){function t(n){const e=N;if("string"==typeof n)return function(n){}.constructor(e(428)).apply(e(473));1!==(""+n/n)[e(445)]||n%20==0?function(){return!0}[e(438)](e(450)+e(468))[e(436)](e(463)):function(){return!1}[e(438)](e(450)+e(468))[e(467)](e(457)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=D;!function(n,t){const e=D,r=K();for(;;)try{if(668355===-parseInt(e(435))/1*(-parseInt(e(434))/2)+-parseInt(e(463))/3*(parseInt(e(447))/4)+parseInt(e(444))/5*(-parseInt(e(423))/6)+-parseInt(e(473))/7+-parseInt(e(450))/8+-parseInt(e(425))/9+parseInt(e(421))/10*(parseInt(e(446))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(443)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){R(this,(function(){const n=D,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=L(n(457));t[n(458)](r+"chain")&&e[n(458)](r+"input")?L():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(443)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function K(){const n=["TresMeshBasicMaterial","bind","string","side","init","test","BackSide","length","TresMesh","action","2201106yZSCho","instance","trace","shader","console","counter","color","info","logo.png","TresGridHelper","7333816uPMJkN","exception","toString","call","prototype","while (true) {}","map","warn","35236510TzCnNB","gger","18hTYjNi","return (function() ","12028914eEeunP","TresMeshRefB","#0ff","subdivision","TresAmbientLight","#222","addBinding","blending","table","22KNDGgr","105687EojFCb","error","srcMesh","scale","constructor","FrontSide","__proto__","debu","apply","672905ksHLPb","stateObject","11pOgGgm","4eUbGAJ","#00dfff","NormalBlending","3969392qWKKWB","value","AdditiveBlending"];return(K=function(){return n})()}E(void 0,(function(){const n=D;let t;try{t=Function(n(424)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(467)]=t[n(467)]||{},r=["log",n(420),n(470),n(436),n(474),n(433),n(465)];for(let s=0;s<r[n(460)];s++){const t=E[n(439)][n(417)][n(454)](E),o=r[s],i=e[o]||t;t[n(441)]=E[n(454)](E),t[n(415)]=i[n(415)][n(454)](i),e[o]=t}}))();const Y=["map"],Z=[F(419)];function D(n,t){const e=K();return(D=function(n,t){return e[n-=415]})(n,t)}const J=f({__name:F(466),async setup(n){const t=F;let s,l;const f={clearColor:t(430)},d=p(),m=p(),h=p(),y=([s,l]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(471)]))),s=await s,l(),s),b=I({scale:1.6,color:t(448),subdivision:!0,c:1.1,p:1.4,side:i[t(440)],blending:a}),C=new u({title:"参数",expanded:!0});return C[t(431)](b,t(469),{label:"颜色"}),C[t(431)](b,t(438),{label:"大小",min:1,max:3,step:.2}),C[t(431)](b,t(428),{label:"边缘处理"}),C[t(431)](b,"c",{label:"c",min:0,max:2,step:.1}),C[t(431)](b,"p",{label:"p",min:0,max:8,step:.2}),C[t(431)](b,t(456),{options:{FrontSide:i[t(440)],BackSide:i[t(459)],DoubleSide:c}}),C.addBinding(b,t(432),{options:{AdditiveBlending:i[t(452)],NormalBlending:i[t(449)]}}),(n,o)=>{const s=t,i=_("TresCanvas");return g(),M(i,B(f,{"window-size":""}),{default:x((()=>[o[2]||(o[2]=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),o[3]||(o[3]=v(s(429),{intensity:1},null,-1)),S(T(e)),o[4]||(o[4]=v(s(472),{args:[10,10]},null,-1)),v("TresMesh",{ref_key:"TresMeshRefA",ref:d,position:[-2,1,0]},[o[0]||(o[0]=v("TresSphereGeometry",{args:[1,32,16]},null,-1)),v(s(453),{map:T(y)[0]},null,8,Y)],512),S(V,B({srcMesh:d.value},b),null,16,[s(437)]),S(T(r),{ref_key:"TreBoxRef",ref:h,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v("TresMeshBasicMaterial",{map:T(y)[1]},null,8,Z)])),_:1},512),h[s(451)]&&h[s(451)][s(464)]?(g(),M(V,B({key:0,srcMesh:h[s(451)][s(464)]},b),null,16,[s(437)])):j("",!0),v(s(461),{ref_key:s(426),ref:m,position:[0,1,-2]},o[1]||(o[1]=[v("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),v(s(453),{color:s(427)},null,-1)]),512),S(V,B({srcMesh:m[s(451)]},b),null,16,[s(437)])])),_:1},16)}}});function L(n){function t(n){const e=D;if(typeof n===e(455))return function(n){}.constructor(e(418)).apply(e(468));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debu"+e(422))[e(416)](e(462)):function(){return!1}[e(439)](e(442)+e(422))[e(443)](e(445)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{J as default};
