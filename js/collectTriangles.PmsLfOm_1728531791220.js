import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.TFxw2EXb1728531791220.js";import{_ as s}from"./index.4yYgaXbu1728531791220.js";import{_ as i,X as c,V as u,cF as a}from"./three.QbUqWzuy1728531791220.js";import{P as l}from"./tweakpane.yHWGBmom1728531791220.js";import{I as p,C as f,N as g,c as h,d,a as m}from"./three-mesh-bvh.AYIyC3ZD1728531791220.js";import{d as y,a4 as w,b,a3 as j,o as _,E as I,L as x,u as v,F as T,r as k,e as z,j as A,g as M,m as S,f as O,al as Z}from"./@vue.bvMz0l_u1728531791220.js";import"./@vueuse.MmMw6bXQ1728531791220.js";import"./index.S6FOAJrx1728531791220.js";import"./@fesjs.AIUeUkBK1728531791220.js";import"./vue-router.2bmjA1xE1728531791220.js";import"./lodash-es.guXTxyfJ1728531791220.js";import"./@qlin.yHhFDldE1728531791220.js";import"./pinia.K-WG64zG1728531791220.js";import"./@floating-ui.BPbuo5Gx1728531791220.js";import"./@juggle.7yjBMqoW1728531791220.js";import"./chalk.sAH7iSuz1728531791220.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1728531791220.js";import"./@iconify.eRzdeG3K1728531791220.js";import"./utils.4g6f-WVp1728531791220.js";import"./default.vue_vue_type_script_setup_true_lang.R068Nk4T1728531791220.js";import"./three-mesh-ui.module.gBJ83PVu1728531791220.js";function B(t,n){const e=R();return(B=function(t,n){return e[t-=115]})(t,n)}!function(t,n){const e=B,r=R();for(;;)try{if(971384===-parseInt(e(149))/1+-parseInt(e(135))/2+-parseInt(e(130))/3+-parseInt(e(150))/4+parseInt(e(156))/5+parseInt(e(118))/6*(-parseInt(e(123))/7)+parseInt(e(138))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(142)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=B,n=new RegExp(t(151)),e=new RegExp(t(134),"i"),r=C(t(136));n.test(r+t(143))&&e.test(r+t(144))?C():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(142)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();F(void 0,(function(){const t=B;let n;try{n=Function("return (function() "+t(154)+");")()}catch(o){n=window}const e=n[t(159)]=n[t(159)]||{},r=["log",t(124),t(146),t(158),t(121),t(145),t(126)];for(let s=0;s<r[t(125)];s++){const n=F.constructor[t(131)][t(119)](F),o=r[s],i=e[o]||n;n[t(137)]=F[t(119)](F),n[t(157)]=i[t(157)].bind(i),e[o]=n}}))();function R(){const t=["stateObject","849210KEONcz","bind","firstHitOnly","exception","constructor","49eIeEDB","warn","length","trace","pointerdown","action","counter","175251haSzOw","prototype","innerWidth","button","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3283548VkgzJP","init","__proto__","34811096ZxBjkq","enabled","intersectObject","call","apply","chain","input","table","info","Raycaster","addEventListener","141942ODARko","6033420RkmGvx","function *\\( *\\)","clientY","value",'{}.constructor("return this")( )',"gger","4806150PwZoSU","toString","error","console","pointerup","debu","touch","setFromCamera","clientX","pointermove","innerHeight"];return(R=function(){return t})()}function C(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(122)]("while (true) {}").apply(e(129));1!==(""+t/t)[e(125)]||t%20==0?function(){return!0}[e(122)](e(161)+e(155))[e(141)](e(128)):function(){return!1}[e(122)](e(161)+e(155))[e(142)](e(117)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=W;!function(t,n){const e=W,r=L();for(;;)try{if(929448===parseInt(e(267))/1*(-parseInt(e(241))/2)+-parseInt(e(254))/3*(parseInt(e(251))/4)+parseInt(e(256))/5*(parseInt(e(281))/6)+-parseInt(e(244))/7*(parseInt(e(242))/8)+parseInt(e(300))/9+parseInt(e(270))/10+parseInt(e(277))/11*(parseInt(e(235))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(227)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(){const t=["setFromCamera","5556TDYecr","trace","value","while (true) {}","point","input","34dpITaE","16oFlxoZ","controls","5825393isuBYK","setScalar","function *\\( *\\)",'{}.constructor("return this")( )',"点击按钮","index","set","634324hsWoHq","setZ","boundsTree","9hcjbOQ","#023249","26945uJVJPh","matrixWorld","intersectObject","visible","bind","needsUpdate","scale","active","normal","click","info","64477DlZyKH","TresMesh","targetMesh.value init","3583310gclLfv","material","string","targetMesh","TresSphereGeometry","toString","BufferGeometry","39402yDfHTV","__proto__","constructor","setUsage","1464qZpXti","setY","call","copy","TresMeshStandardMaterial","brushMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","color","Sphere","action","Mesh","test","counter","error","computeBoundsTree","table","enabled","setX","geometry","7505865zttkFn","console","BufferAttribute","getX","debu","fill","init","intersectsBox","MeshStandardMaterial","Matrix4","warn","push","attributes","log","prototype","Vector2","setAttribute","stateObject","apply","disposeBoundsTree","getZ","length","position","instance","shapecast"];return(L=function(){return t})()}!function(){H(this,(function(){const t=W,n=new RegExp(t(246)),e=new RegExp(t(287),"i"),r=$(t(306));n[t(292)](r+"chain")&&e[t(292)](r+t(240))?$():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(227)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();q(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function("return (function() "+t(247)+");")()}catch(e){n=window}return n}(),e=n[t(301)]=n[t(301)]||{},r=["log",t(310),t(266),t(294),"exception",t(296),t(236)];for(let o=0;o<r.length;o++){const n=q[t(279)].prototype.bind(q),s=r[o],i=e[s]||n;n[t(278)]=q[t(260)](q),n.toString=i[t(275)].bind(i),e[s]=n}}))();const V=[Y(299),Y(271)],D=[x(Y(274),{args:[1,40,40]},null,-1),x("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],P=[Y(299)],U=[x(Y(285),{color:Y(255),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function W(t,n){const e=L();return(W=function(t,n){return e[t-=225]})(t,n)}const X=y({__name:"model",props:{controls:{}},async setup(r){const o=Y;let s,y;const k=r;(()=>{const t=W;i[t(276)][t(314)][t(295)]=h,i[t(276)][t(314)][t(228)]=d,i[t(291)].prototype.raycast=m})();const z=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),A=new(i[o(308)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*z[o(312)].position.count);M[o(305)](255);const S=new(i[o(302)])(M,3,!0);S[o(280)](c),z.setAttribute(o(288),S);const O=b(null),Z=b(null),E=b(!1),F=b(-1),R=b(.2),C=new(i[o(315)]),{camera:H,raycaster:L}=t(),q=15/255,X=78/255,$=85/255;let J=null;j((()=>{const t=o;O[t(237)]&&(console[t(313)](t(269),O[t(237)]),O[t(237)].geometry[t(295)](),J=z[t(253)],((t,n,e,r,o,s)=>{const c=B;window[c(148)](c(115),(e=>{const r=c;t.x=e.clientX/window[r(132)]*2-1,t.y=-e[r(152)]/window[r(116)]*2+1,n[r(153)]=!0})),window[c(148)](c(127),(u=>{const a=c;t.x=u[a(164)]/window[a(132)]*2-1,t.y=-u[a(152)]/window.innerHeight*2+1,r[a(153)]=u[a(133)];const l=new(i[a(147)]);l[a(163)](t,e[a(153)]),l[a(120)]=!0;const p=l[a(140)](o[a(153)],!0);n[a(153)]=!0,s[a(139)]=0===p[a(125)]}),!0),window.addEventListener(c(160),(t=>{const e=c;r[e(153)]=-1,t.pointerType===e(162)&&(n[e(153)]=!1)}),!0)})(C,E,H,F,O,k[t(243)].instance))}));const{onLoop:G}=n();G((()=>{const t=o,n=z[t(249)];if(Z[t(237)])if(k.controls[t(232)][t(263)]||!E[t(237)])Z[t(237)][t(259)]=!1;else{Z[t(237)][t(262)][t(245)](R[t(237)]),L[t(237)][t(234)](C,H[t(237)]),L[t(237)].firstHitOnly=!0;const e=L[t(237)][t(258)](O[t(237)],!0);if(e[t(230)]){Z[t(237)].position[t(284)](e[0][t(239)]),k[t(243)][t(232)][t(297)]=!1,Z[t(237)].visible=!0;const r=new(i[t(309)]);r[t(284)](O[t(237)][t(257)]).invert();const o=new(i[t(289)]);o.center[t(284)](Z[t(237)][t(231)]).applyMatrix4(r),o.radius=100*R[t(237)];const s=[],c=new u;if(null==J||J[t(233)]({intersectsBounds:n=>{const e=t,r=o[e(307)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(250)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return p;return f}return r?p:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(311)](t,t+1,t+2)}return!1}}),0===F.value||2===F[t(237)]){let e=1,r=1,o=1;0===F[t(237)]&&(e=q,r=X,o=$);for(let i=0,c=s.length;i<c;i++){const c=n[t(303)](s[i]);S[t(298)](c,e),S[t(282)](c,r),S[t(252)](c,o)}S[t(261)]=!0}}else Z[t(237)][t(259)]=!1,k[t(243)].instance.enabled=!0}}));const K=(new l).addButton({title:o(248),label:"生成模型"}),N=new(i[o(276)]);return K.on(o(265),(()=>{const t=o,n=[],e=[];for(let o=0;o<S.count;o++)S[t(303)](o)===q&&S.getY(o)===X&&S[t(229)](o)===$&&(n[t(311)](z[t(312)][t(231)][t(303)](o),z.attributes[t(231)].getY(o),z[t(312)][t(231)][t(229)](o)),e[t(311)](z[t(312)][t(264)][t(303)](o),z.attributes[t(264)].getY(o),z[t(312)][t(264)][t(229)](o)));const r=new Float32Array(n);N[t(225)]("position",new(i[t(302)])(r,3)),N[t(225)](t(264),new(i[t(302)])(r,3))})),(t,n)=>{const e=o;return _(),I(T,null,[x(e(268),{ref_key:e(273),ref:O,geometry:v(z),scale:.005,material:v(A)},null,8,V),x(e(268),{ref_key:e(286),ref:Z,visible:!1},D,512),x(e(268),{geometry:v(N),position:[-2,-2,2],scale:.005},U,8,P)],64)}}});function $(t){function n(t){const e=W;if(typeof t===e(272))return function(t){}[e(279)](e(238))[e(227)](e(293));1!==(""+t/t)[e(230)]||t%20==0?function(){return!0}[e(279)]("debugger")[e(283)](e(290)):function(){return!1}[e(279)](e(304)+"gger").apply(e(226)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function J(){const t=["constructor","test","9745990CErZuF","counter","3236585LrVueY","795708boAMoo",'{}.constructor("return this")( )',"call","pos-x.jpg","trace","chain","#999999","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","2883692DBOJxc","neg-z.jpg","collectTriangles","init","stateObject","input","action","error","debu","toString","while (true) {}","controlsRef","8uSrWeS","neg-x.jpg","9aCByYK","value","controls","string","function *\\( *\\)","1105508gFcOnn","pos-z.jpg","38358zxgxIU","bind","length","138YHkuVu","TresCanvas","pos-y.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","10FaqWrT","console","table","info","apply","3491142cLMAxG","gger"];return(J=function(){return t})()}const G=nt;!function(t,n){const e=nt,r=J();for(;;)try{if(548989===-parseInt(e(453))/1+-parseInt(e(436))/2*(parseInt(e(433))/3)+parseInt(e(431))/4*(parseInt(e(441))/5)+parseInt(e(446))/6+parseInt(e(461))/7*(parseInt(e(424))/8)+-parseInt(e(426))/9*(-parseInt(e(450))/10)+-parseInt(e(452))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=nt,n=new RegExp(t(430)),e=new RegExp(t(439),"i"),r=rt(t(464));n[t(449)](r+t(458))&&e[t(449)](r+t(466))?rt():r("0")}))()}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(445)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();N(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(440)+t(454)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(442)]||{},r=["log","warn",t(444),t(468),"exception",t(443),t(457)];for(let o=0;o<r[t(435)];o++){const n=N.constructor.prototype[t(434)](N),s=r[o],i=e[s]||n;n.__proto__=N[t(434)](N),n[t(470)]=i.toString[t(434)](i),e[s]=n}}))();const Q=x("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=x("TresAmbientLight",{intensity:1},null,-1);function nt(t,n){const e=J();return(nt=function(t,n){return e[t-=422]})(t,n)}const et=y({__name:G(463),setup(t){const n=G,e=k({clearColor:n(459),antialias:!0}),i=k({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=z(a(437));return _(),I(T,null,[A(v(s)),A(l,S(e,{"window-size":""}),{default:M((()=>[Q,A(v(r),S({ref_key:a(423),ref:c},i),null,16),tt,(_(),O(Z,null,{default:M((()=>[A(X,{controls:c[a(427)]},null,8,[a(428)])])),_:1})),(_(),O(Z,null,{default:M((()=>[A(v(o),{background:!1,files:[a(456),a(425),a(438),"neg-y.jpg",a(432),a(462)],path:a(460)})])),_:1}))])),_:1},16)],64)}}});function rt(t){function n(t){const e=nt;if(typeof t===e(429))return function(t){}[e(448)](e(422))[e(445)](e(451));1!==(""+t/t)[e(435)]||t%20==0?function(){return!0}[e(448)]("debugger")[e(455)](e(467)):function(){return!1}[e(448)](e(469)+e(447))[e(445)](e(465)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
