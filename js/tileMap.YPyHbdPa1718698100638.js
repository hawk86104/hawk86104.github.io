import{a5 as t,V as n,cv as e,C as o,aa as r}from"./three.erXpfL-r1718698100638.js";import{P as s}from"./tweakpane.qqn77PB81718698100638.js";import{_ as i}from"./@tweenjs.nrkgVqSV1718698100638.js";import{a,r as c}from"./@tresjs.aawOCoPx1718698100638.js";import{P as u,b as p,c as l,M as f,T as m,a as g,d as h}from"./index.iO1IV2N_1718698100638.js";import{d,a2 as b,w,o as j,D as x,u as y,X as v,r as I,e as M,j as _,g as C,f as B,al as S,m as z,F as k}from"./@vue.CpOXM7bB1718698100638.js";import{_ as T}from"./raycasterEvent.STlEudwm1718698100638.js";import{a as R}from"./utils.7q_e1JMy1718698100638.js";import"./@vueuse.TW6-TkVF1718698100638.js";import"./@mapbox.UnAWyKUK1718698100638.js";import"./@amap.TW6HTmRb1718698100638.js";import"./three-mesh-bvh.TtuCaJyf1718698100638.js";import"./three-custom-shader-material.tCYfd9sl1718698100638.js";import"./object-hash.SpRbwitp1718698100638.js";import"./jszip.KspeudHJ1718698100638.js";import"./glsl-tokenizer.RLlRtTA81718698100638.js";import"./glsl-token-string.IbwI77yI1718698100638.js";import"./glsl-token-functions.LDKY2qLw1718698100638.js";import"./@fesjs.IcRnDBLi1718698100638.js";import"./vue-router.hw3iClIt1718698100638.js";import"./lodash-es.nFpJXAf-1718698100638.js";import"./@qlin.yHhFDldE1718698100638.js";import"./pinia.3_1_BhfV1718698100638.js";import"./@floating-ui.BPbuo5Gx1718698100638.js";import"./@juggle.7yjBMqoW1718698100638.js";const A=F;!function(t,n){const e=F,o=O();for(;;)try{if(431736===parseInt(e(489))/1*(parseInt(e(550))/2)+parseInt(e(509))/3+-parseInt(e(504))/4+-parseInt(e(483))/5+parseInt(e(541))/6*(-parseInt(e(527))/7)+parseInt(e(551))/8+-parseInt(e(533))/9*(parseInt(e(478))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(518)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=F,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(534),"i"),o=W(t(546));n.test(o+t(553))&&e[t(519)](o+t(491))?W():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(518)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(539)+t(542)+");")()}catch(e){n=window}return n}(),e=n[t(479)]=n[t(479)]||{},o=[t(536),t(498),t(522),t(484),t(523),t(486),t(503)];for(let r=0;r<o[t(544)];r++){const n=P.constructor[t(526)][t(538)](P),s=o[r],i=e[s]||n;n[t(511)]=P[t(538)](P),n[t(488)]=i[t(488)][t(538)](i),e[s]=n}}))();const Z=[A(499),A(543)];function F(t,n){const e=O();return(F=function(t,n){return e[t-=478]})(t,n)}function O(){const t=["debu","6qrNHUx",'{}.constructor("return this")( )',"rotation","length","enableDamping","init","target","call","opposite","2BhAxFr","509112UAQZJH","bbox","chain","40cJBvwT","console","mapCenter","provider","set","588555XsWpQA","error","updateProjectionMatrix","table","domElement","toString","605885nrmceI","position","input","showBoundingBox","monochrome","genContrast","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","useStandardMaterial","constructor","warn","object","filter","Color","flatShading","trace","2356356hLianI","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","wireframe","innerWidth","source","2363976OoTIVs","lookAt","__proto__","dampingFactor","action","stateObject","while (true) {}","string","genBright","apply","test","update","PerspectiveCamera","info","exception","coordType","maxZoom","prototype","75824mMomSo","primitive","gger","tileMapMesh","isMonochrome","genSaturation","693333zVVCMS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","log","minDistance","bind","return (function() "];return(O=function(){return t})()}const V=d({__name:A(530),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(r,{expose:s}){const h=A,d=r,{renderer:v,scene:I}=a();(new u).coordType=p;const M=new l;M[h(508)]=h(505),M[h(524)]=p;const _=new f;_.source=h(495),_.showTileNo=!1,_.useWorker=!0;const C=new m(M,_);if(C[h(492)]=!1,C[h(506)]=!1,C[h(502)]=!1,C[h(496)]=!1,C[h(500)]={opposite:d[h(549)],monochrome:d[h(531)]?{r:.299,g:.587,b:.114}:null,genBright:d.genBright,genContrast:d.genContrast,genSaturation:d[h(532)]},d[h(493)]){let n=new(t[h(501)])(d[h(493)]);C.filter&&(C.filter[h(493)]={r:n.r,g:n.g,b:n.b})}const B=new g;B[h(481)]=C,B.bbox=d[h(552)],B.maxZoom=d[h(525)];const S=new(t[h(521)])(60,window[h(507)]/window.innerHeight,1,1e8);S.up=new n(0,1,0),S.position[h(482)](d[h(480)][0],d.mapCenter[2],-d.mapCenter[1]),S[h(510)](new n(S[h(490)].x,0,S[h(490)].z-2e3)),B.camera=S;let z=null;b((()=>{const t=h;if(v.value&&!z&&(z=new e(S,v[t(535)][t(487)]),z[t(545)]=!0,z[t(512)]=.05,z[t(537)]=600,z.position0[t(482)](S[t(490)].x,S[t(490)].y,S[t(490)].z),z.target[t(482)](S[t(490)].x,0,S.position.z-2e3)),d[t(517)]&&C.filter&&(C.filter[t(517)]=d[t(517)]),d[t(494)]&&C.filter&&(C[t(500)][t(494)]=d[t(494)]),d.genSaturation&&C[t(500)]&&(C[t(500)][t(532)]=d[t(532)]),d[t(531)]&&d[t(493)]&&C[t(500)]){let n=new o(d.monochrome);C[t(500)][t(493)]={r:n.r,g:n.g,b:n.b}}})),w((()=>d[h(549)]),(t=>{const n=h;C.filter&&(C[n(500)][n(549)]=t)})),w((()=>d[h(531)]),(n=>{const e=h;let o=new(t[e(501)])(d[e(493)]);C[e(500)]&&(C.filter[e(493)]=n?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:k}=c();return k((()=>{const t=h;if(v[t(535)]){i[t(520)](),z&&z.update(),B[t(520)]();const n=50*Math.abs(S[t(490)].y);S.far=n+5e3,S[t(485)](),z[t(547)].y=0,v[t(535)].render(I.value,S)}})),s({camera:S,map:B,orbitControl:z}),(t,n)=>{const e=h;return j(),x(e(528),{object:y(B),rotation:[-Math.PI/2,0,0]},null,8,Z)}}});function W(t){function n(t){const e=F;if(typeof t===e(516))return function(t){}[e(497)](e(515))[e(518)]("counter");1!==(""+t/t)[e(544)]||t%20==0?function(){return!0}[e(497)](e(540)+e(529))[e(548)](e(513)):function(){return!1}[e(497)](e(540)+e(529))[e(518)](e(514)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=Q;!function(t,n){const e=Q,o=$();for(;;)try{if(240072===parseInt(e(315))/1+-parseInt(e(326))/2+parseInt(e(364))/3*(-parseInt(e(341))/4)+parseInt(e(367))/5+-parseInt(e(333))/6*(-parseInt(e(338))/7)+parseInt(e(345))/8*(parseInt(e(335))/9)+-parseInt(e(322))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(366)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=Q,n=new RegExp(t(365)),e=new RegExp(t(362),"i"),o=H(t(320));n[t(361)](o+"chain")&&e[t(361)](o+t(313))?H():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(366)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["length","饱和度","新街口","Vector3","init","bind","5167650diOhRb","console","genBright","奥体中心","62320WSrAgz","__proto__","gger","tileMapRef","addBinding","constructor","trace","108JWBNcy","TresCanvas","9BOVFjL","stateObject","warn","158690qODPNX","exception","对比度","294736MjSPSB","#4688b5","error","toString","2512136qmzenF","tileMapMeshRef","while (true) {}","change","#201919","genContrast","xjk","list","value","tileMap","info","prototype","log","NoToneMapping","opposite","orbitControl","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"12uadEky","function *\\( *\\)","apply","822210rCQTPE","camera","input","return (function() ","196214RSIOnw"];return($=function(){return t})()}N(void 0,(function(){const t=Q;let n;try{n=Function(t(314)+t(363)+");")()}catch(r){n=window}const e=n[t(323)]=n[t(323)]||{},o=[t(357),t(337),t(355),t(343),t(339),"table",t(332)];for(let s=0;s<o[t(316)];s++){const n=N.constructor[t(356)][t(321)](N),r=o[s],i=e[r]||n;n[t(327)]=N[t(321)](N),n[t(344)]=i[t(344)][t(321)](i),e[r]=n}}))();const q=d({__name:D(354),setup(n){const e=D,o=h(118.779958,32.017136),i=[o[0],o[1],5e3],a=v(),c=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(342),mapCenter:i}),u=new s({title:"参数"});u[e(330)](c,e(359),{label:"反色"}),u[e(330)](c,e(324),{label:"高亮",min:.1,max:3,step:.1}),u[e(330)](c,e(350),{label:e(340),min:.1,max:3,step:.1}),u[e(330)](c,"genSaturation",{label:e(317),min:.1,max:3,step:.1}),u[e(330)](c,"isMonochrome",{label:"单色滤镜"}),u.addBinding(c,"monochrome",{label:"滤镜颜色"});const p={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};u.addBlade({view:e(352),label:"飞去",options:[{text:e(325),value:"at"},{text:e(318),value:e(351)},{text:"牛首山",value:"nss"}],value:"at"}).on(e(348),(n=>{const o=e,r=new(t[o(319)])(p[n[o(353)]][0],2e3,-p[n[o(353)]][1]);R(a[o(353)][o(368)],r,a.value[o(360)],[0,-300],4e3)}));const l=I({clearColor:e(349),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:r,toneMapping:t[e(358)],precision:"highp"});return setTimeout((()=>{const n=e,o=p.at,r=new(t[n(319)])(o[0],1600,-o[1]);R(a.value[n(368)],r,a[n(353)][n(360)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=M(o(334));return j(),x(k,null,[_(r,z(l,{"window-size":""}),{default:C((()=>[(j(),B(S,null,{default:C((()=>[_(V,z(c,{ref_key:o(346),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(T,{tileMapRef:a.value},null,8,[o(329)])],64)}}});function Q(t,n){const e=$();return(Q=function(t,n){return e[t-=313]})(t,n)}function H(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}[e(331)](e(347))[e(366)]("counter");1!==(""+t/t)[e(316)]||t%20==0?function(){return!0}[e(331)]("debu"+e(328)).call("action"):function(){return!1}[e(331)]("debu"+e(328))[e(366)](e(336)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
