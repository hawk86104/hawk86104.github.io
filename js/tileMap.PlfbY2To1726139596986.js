import{_ as t,V as n,cz as e,ak as o,am as r}from"./three.ewwqFbMB1726139596986.js";import{P as s}from"./tweakpane.yHWGBmom1726139596986.js";import{p as i,U as a}from"./@tresjs.ml1V726H1726139596986.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d as g}from"./index.0a4OC0aq1726139596986.js";import{d as h,a3 as j,w as d,o as b,E as w,u as v,Y as x,r as y,e as I,j as z,g as M,f as _,al as k,m as C,F as B}from"./@vue.JNsx1iN61726139596986.js";import{_ as S}from"./raycasterEvent.gQbtvxlJ1726139596986.js";import{a as R}from"./utils.Sa2i0s181726139596986.js";import"./@vueuse.leIfNolX1726139596986.js";import"./@mapbox.St2yt9zy1726139596986.js";import"./@amap.Fadeb9eG1726139596986.js";import"./three-mesh-bvh.KvyaEo8V1726139596986.js";import"./three-custom-shader-material.UXiDE7Tt1726139596986.js";import"./object-hash.FoPRLmFN1726139596986.js";import"./jszip.fP2cdsII1726139596986.js";import"./glsl-tokenizer.AMiuccS21726139596986.js";import"./glsl-token-string.sQYJMTSX1726139596986.js";import"./glsl-token-functions.JTK3IqoC1726139596986.js";import"./@fesjs.35r0AYgt1726139596986.js";import"./vue-router.j8bZWDwt1726139596986.js";import"./lodash-es.kYt-_xTG1726139596986.js";import"./@qlin.yHhFDldE1726139596986.js";import"./pinia.Z8qq8yAz1726139596986.js";import"./@floating-ui.BPbuo5Gx1726139596986.js";import"./@juggle.7yjBMqoW1726139596986.js";import"./@tweenjs.kK3a15lv1726139596986.js";import"./utils.3PPFnUEW1726139596986.js";import"./d3-geo.l_OLOJtr1726139596986.js";import"./d3-array.AhNJy1f41726139596986.js";import"./http._dQRdEPn1726139596986.js";import"./axios.Ng308AU61726139596986.js";import"./color.fbAAX3t-1726139596986.js";import"./color-string.3PJkr4jI1726139596986.js";import"./color-name.8BYz-hJh1726139596986.js";import"./simple-swizzle.KhGICEYM1726139596986.js";import"./is-arrayish.1VXPTbLy1726139596986.js";import"./color-convert.yBV_TUSw1726139596986.js";import"./lodash.ZD16cJya1726139596986.js";import"./naive-ui.xRLsOumL1726139596986.js";import"./css-render.KiElqOsk1726139596986.js";import"./@emotion.ZD_ZYAgY1726139596986.js";import"./@css-render.nyNKN5Lx1726139596986.js";import"./seemly.SjiSeX2v1726139596986.js";import"./vooks.n_0o5IIu1726139596986.js";import"./evtd.DtfwxtIl1726139596986.js";import"./vueuc.SpK96qZT1726139596986.js";import"./vdirs.JJCrSjna1726139596986.js";import"./treemate.dcEdf2le1726139596986.js";import"./date-fns.cRdQiXcC1726139596986.js";import"./date-fns-tz.MKxlX-r41726139596986.js";import"./async-validator.-YBkpS4I1726139596986.js";const Z=F;!function(t,n){const e=F,o=E();for(;;)try{if(694366===-parseInt(e(274))/1*(parseInt(e(312))/2)+-parseInt(e(253))/3+parseInt(e(258))/4*(-parseInt(e(255))/5)+parseInt(e(303))/6+parseInt(e(314))/7*(-parseInt(e(280))/8)+-parseInt(e(292))/9+-parseInt(e(289))/10*(-parseInt(e(259))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(263)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=F,n=new RegExp(t(304)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=V(t(307));n[t(254)](o+t(279))&&e[t(254)](o+t(319))?V():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(263)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(){const t=["call","482025bWdIWU","test","5AqMmwg","camera","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","974364HNlUHf","2717BYzwck","genContrast","isMonochrome","dampingFactor","apply","exception","set","stateObject","Vector3","minDistance","innerHeight","source","showTileNo","render","position","129340WmhQCt","debu","counter","Color","warn","chain","8DKKPLr","PerspectiveCamera","updateProjectionMatrix","object",'{}.constructor("return this")( )',"console","primitive","maxZoom","wireframe","113530kGYRVf","bind","tweenInstance","5969331AKPCjy","innerWidth","error","filter","position0","flatShading","tileMapMesh","#fff","prototype","monochrome","update","5251434QDuIzv","function *\\( *\\)","string","target","init","gger","genSaturation","value","abs","14NuvNgb","action","7085113rFmuHc","useWorker","info","domElement","length","input","lookAt","constructor","toString","genBright","return (function() ","opposite","bbox","mapCenter"];return(E=function(){return t})()}D(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(324)+t(284)+");")()}catch(e){n=window}return n}(),e=n[t(285)]=n.console||{},o=["log",t(278),t(316),t(294),t(264),"table","trace"];for(let r=0;r<o[t(318)];r++){const n=D[t(321)][t(300)].bind(D),s=o[r],i=e[s]||n;n.__proto__=D[t(290)](D),n[t(322)]=i.toString[t(290)](i),e[s]=n}}))();const W=[Z(283),"rotation"];function F(t,n){const e=E();return(F=function(t,n){return e[t-=252]})(t,n)}const P=h({__name:Z(298),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:Z(299)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const s=Z,g=o,{renderer:h,scene:x}=i();(new c).coordType=u;const y=new p;y.source=s(257),y.coordType=u;const I=new l;I[s(270)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",I[s(271)]=!1,I[s(315)]=!0;const z=new m(y,I);if(z.showBoundingBox=!1,z[s(288)]=!1,z[s(297)]=!1,z.useStandardMaterial=!1,z[s(295)]={opposite:g[s(325)],monochrome:g[s(261)]?{r:.299,g:.587,b:.114}:null,genBright:g[s(323)],genContrast:g[s(260)],genSaturation:g[s(309)]},g[s(301)]){let n=new(t[s(277)])(g[s(301)]);z[s(295)]&&(z[s(295)][s(301)]={r:n.r,g:n.g,b:n.b})}const M=new f;M.provider=z,M[s(326)]=g[s(326)],M[s(287)]=g[s(287)];const _=new(t[s(281)])(60,window[s(293)]/window[s(269)],1,1e8);_.up=new(t[s(267)])(0,1,0),_[s(273)].set(g[s(327)][0],g[s(327)][2],-g[s(327)][1]),_[s(320)](new n(_[s(273)].x,0,_.position.z-2e3)),M[s(256)]=_;let k=null;j((()=>{const n=s;if(h[n(310)]&&!k&&(k=new e(_,h[n(310)][n(317)]),k.enableDamping=!0,k[n(262)]=.05,k[n(268)]=600,k[n(296)][n(265)](_[n(273)].x,_.position.y,_[n(273)].z),k[n(306)].set(_[n(273)].x,0,_[n(273)].z-2e3)),g[n(323)]&&z[n(295)]&&(z.filter.genBright=g[n(323)]),g[n(260)]&&z[n(295)]&&(z[n(295)][n(260)]=g.genContrast),g[n(309)]&&z[n(295)]&&(z[n(295)].genSaturation=g[n(309)]),g[n(261)]&&g.monochrome&&z[n(295)]){let e=new(t[n(277)])(g.monochrome);z[n(295)][n(301)]={r:e.r,g:e.g,b:e.b}}})),d((()=>g[s(325)]),(t=>{const n=s;z[n(295)]&&(z[n(295)][n(325)]=t)})),d((()=>g.isMonochrome),(n=>{const e=s;let o=new(t[e(277)])(g[e(301)]);z.filter&&(z[e(295)][e(301)]=n?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:C}=a();return C((()=>{var t;const n=s;if(h[n(310)]){null==(t=g[n(291)])||t[n(302)](),k&&k[n(302)](),M.update();const e=50*Math[n(311)](_[n(273)].y);_.far=e+5e3,_[n(282)](),k.target.y=0,h.value[n(272)](x[n(310)],_)}})),r({camera:_,map:M,orbitControl:k}),(t,n)=>{const e=s;return b(),w(e(286),{object:v(M),rotation:[-Math.PI/2,0,0]},null,8,W)}}});function V(t){function n(t){const e=F;if(typeof t===e(305))return function(t){}[e(321)]("while (true) {}")[e(263)](e(276));1!==(""+t/t)[e(318)]||t%20==0?function(){return!0}[e(321)](e(275)+e(308))[e(252)](e(313)):function(){return!1}[e(321)]("debu"+e(308))[e(263)](e(266)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Q(t,n){const e=H();return(Q=function(t,n){return e[t-=422]})(t,n)}const T=Q;!function(t,n){const e=Q,o=H();for(;;)try{if(504376===parseInt(e(469))/1*(-parseInt(e(461))/2)+parseInt(e(443))/3+-parseInt(e(435))/4*(parseInt(e(477))/5)+parseInt(e(458))/6+parseInt(e(434))/7+parseInt(e(462))/8*(-parseInt(e(426))/9)+-parseInt(e(439))/10*(-parseInt(e(455))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(454)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(){const t=["highp","table","genBright","80270nQaFXV","对比度","log","奥体中心","1736307fVOkYk","genSaturation","Vector3","value","bind","init","toString","trace","chain","新街口","string","apply","979jjGjuC","tileMapRef","return (function() ","5306502jZzWWc","滤镜颜色","counter","4xiXBuX","2411752KuaMvQ","debu","change","tileMapMeshRef","console","action","orbitControl","359231npXjbV","list","constructor","camera","length","genContrast","tweenInstance","exception","435qZZDEf","warn","牛首山","test","addBinding","__proto__","opposite","18MDujFG","info","饱和度","while (true) {}","error","prototype","tileMap",'{}.constructor("return this")( )',"2233308icgaRR","30844vaApDl"];return(H=function(){return t})()}!function(){Y(this,(function(){const t=Q,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=K(t(448));n[t(422)](o+t(451))&&e[t(422)](o+"input")?K():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(454)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();$(void 0,(function(){const t=Q;let n;try{n=Function(t(457)+t(433)+");")()}catch(r){n=window}const e=n[t(466)]=n[t(466)]||{},o=[t(441),t(478),t(427),t(430),t(476),t(437),t(450)];for(let s=0;s<o[t(473)];s++){const n=$[t(471)][t(431)][t(447)]($),r=o[s],i=e[r]||n;n[t(424)]=$[t(447)]($),n[t(449)]=i.toString[t(447)](i),e[r]=n}}))();const G=h({__name:T(432),setup(e){const i=T,a=g(118.779958,32.017136),c=[a[0],a[1],5e3],u=x(),p=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:c,tweenInstance:null}),l=new s({title:"参数"});l.addBinding(p,i(425),{label:"反色"}),l[i(423)](p,i(438),{label:"高亮",min:.1,max:3,step:.1}),l[i(423)](p,i(474),{label:i(440),min:.1,max:3,step:.1}),l[i(423)](p,i(444),{label:i(428),min:.1,max:3,step:.1}),l[i(423)](p,"isMonochrome",{label:"单色滤镜"}),l[i(423)](p,"monochrome",{label:i(459)});const m={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};l.addBlade({view:i(470),label:"飞去",options:[{text:i(442),value:"at"},{text:i(452),value:"xjk"},{text:i(479),value:"nss"}],value:"at"}).on(i(464),(n=>{const e=i,o=new(t[e(445)])(m[n[e(446)]][0],2e3,-m[n[e(446)]][1]);p[e(475)]=R(u[e(446)][e(472)],o,u.value[e(468)],[0,-300],4e3)}));const f=y({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:o,toneMapping:r,precision:i(436)});return setTimeout((()=>{const t=i,e=m.at,o=new n(e[0],1600,-e[1]);p[t(475)]=R(u[t(446)][t(472)],o,u.value[t(468)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=i,o=I("TresCanvas");return b(),w(B,null,[z(o,C(f,{"window-size":""}),{default:M((()=>[(b(),_(k,null,{default:M((()=>[z(P,C(p,{ref_key:e(465),ref:u,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),z(S,{tileMapRef:u[e(446)]},null,8,[e(456)])],64)}}});function K(t){function n(t){const e=Q;if(typeof t===e(453))return function(t){}.constructor(e(429)).apply(e(460));1!==(""+t/t)[e(473)]||t%20==0?function(){return!0}.constructor(e(463)+"gger").call(e(467)):function(){return!1}[e(471)](e(463)+"gger")[e(454)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{G as default};
