import{c7 as t,a3 as n,r as e,s as r}from"./three.6w8Allze1738810638719.js";import{a as o}from"./@tresjs.8axf5yqM1738810638719.js";import{R as s,b as c}from"./all.three.uBsuzgl_1738810638719.js";import{d as i,a3 as a,a2 as u,w as f,o as l,H as p,N as d,u as h}from"./@vue.NRI7TcgI1738810638719.js";const m=b;!function(t,n){const e=b,r=I();for(;;)try{if(407178===parseInt(e(482))/1*(-parseInt(e(538))/2)+-parseInt(e(518))/3+parseInt(e(510))/4*(parseInt(e(496))/5)+-parseInt(e(498))/6+-parseInt(e(525))/7*(parseInt(e(532))/8)+parseInt(e(480))/9+parseInt(e(529))/10*(parseInt(e(478))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[b(488)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function b(t,n){const e=I();return(b=function(t,n){return e[t-=478]})(t,n)}!function(){w(this,(function(){const t=b,n=new RegExp(t(514)),e=new RegExp(t(504),"i"),r=_(t(487));n[t(536)](r+t(507))&&e[t(536)](r+t(491))?_():r("0")}))()}();const v=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[b(488)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=b;let n;try{n=Function(t(528)+t(515)+");")()}catch(o){n=window}const e=n[t(500)]=n[t(500)]||{},r=["log",t(522),t(521),"error","exception",t(519),"trace"];for(let s=0;s<r.length;s++){const n=v[t(523)][t(520)].bind(v),o=r[s],c=e[o]||n;n.__proto__=v.bind(v),n[t(497)]=c.toString[t(490)](c),e[o]=n}}))();const g=[m(533)],y=[m(481)],j=[m(481)];function I(){const t=["uReflectivity","18753GvAvdX","texture","visible","return (function() ","460vCasbP","uniforms","primitive","2152SNKCGs","scale","debu","TresGroup","test","action","6638NMRrKL","527230WCAhMy","gger","4642758MjylKv","object","149anzftK","mapUrl","uMatrix","tReflect","string","init","apply","call","bind","input","rotation","counter","reflectivity","renderTarget","5AzbiWl","toString","3804972hJuEAa","textureMatrixUniform","console","reflectorDUDV","onBeforeRender","tReflectBlur","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","repeat","showGridHelper","chain","wrapT","ignoreObjects","319776VFdwlI","set","size","isMesh","function *\\( *\\)",'{}.constructor("return this")( )',"wrapS","value","1632192bqcKWU","table","prototype","info","warn","constructor"];return(I=function(){return t})()}const x=i({__name:m(501),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:w}){const b=m;let v,I;const x=i,_=new s,M=new t(x[b(512)][0]-.5,x[b(512)][1]);M[b(527)]=x[b(506)];const{map:R}=([v,I]=a((()=>o({map:x[b(483)]}))),v=await v,I(),v);R[b(516)]=n,R[b(508)]=n,R[b(505)][b(511)](6,3);const z=new c({map:R,reflectivity:x[b(494)]});z[b(530)][b(485)]={value:_[b(495)][b(526)]},z[b(530)][b(503)]=_.renderTargetUniform,z[b(530)][b(484)]=_[b(499)];const A=new e(new r(x[b(512)][0],x[b(512)][1]),z);return A[b(492)].x=-Math.PI/2,A.add(_),A[b(502)]=(t,n,e)=>{const r=b;A[r(527)]=!1,x.ignoreObjects.forEach((t=>{const n=r;t.isMesh&&(t[n(527)]=!1),t.value&&t.value[n(513)]&&(t[n(517)][n(527)]=!1)})),_.update(t,n,e),x[r(509)].forEach((t=>{const n=r;t[n(513)]&&(t[n(527)]=!0),t.value&&t[n(517)][n(513)]&&(t[n(517)][n(527)]=!0)})),A[r(527)]=!0},u((()=>{const t=b;x[t(494)]&&(z.uniforms[t(524)][t(517)]=x[t(494)])})),f((()=>x.showGridHelper),(t=>{M[b(527)]=t})),w({reflector:_}),(t,n)=>{const e=b;return l(),p(e(535),{scale:x[e(533)]},[d("primitive",{object:h(A),"position-y":-.01},null,8,y),d(e(531),{object:h(M)},null,8,j)],8,g)}}});function _(t){function n(t){const e=b;if(typeof t===e(486))return function(t){}[e(523)]("while (true) {}")[e(488)](e(493));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(479))[e(489)](e(537)):function(){return!1}.constructor(e(534)+e(479))[e(488)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
