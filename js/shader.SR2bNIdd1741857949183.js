import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.8SAr0PX_1741857949183.js";import{_ as s,aX as i}from"./three.Gi_-4zeu1741857949183.js";import{P as a}from"./tweakpane.yDiyAAkA1741857949183.js";import{L as c}from"./three-subdivide.yyjtkeVf1741857949183.js";import{d as u,b as l,a2 as f,w as p,o as d,H as m,N as g,aj as h,ak as v,a3 as y,r as b,e as w,f as M,g as I,j as _,u as x,m as T,M as j}from"./@vue.NRI7TcgI1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";const B=C;!function(n,t){const e=C,r=V();for(;;)try{if(273986===parseInt(e(100))/1*(-parseInt(e(145))/2)+-parseInt(e(162))/3*(parseInt(e(152))/4)+-parseInt(e(129))/5*(-parseInt(e(119))/6)+parseInt(e(159))/7+parseInt(e(132))/8+parseInt(e(155))/9*(-parseInt(e(149))/10)+-parseInt(e(134))/11*(-parseInt(e(157))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(153)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){S(this,(function(){const n=C,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=R(n(110));t[n(156)](r+n(123))&&e[n(156)](r+n(146))?R():r("0")}))()}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(153)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=V();return(C=function(n,t){return e[n-=100]})(n,t)}k(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function(n(101)+n(111)+");")()}catch(e){t=window}return t}(),e=t[n(160)]=t.console||{},r=["log",n(115),n(109),n(135),"exception",n(113),n(107)];for(let o=0;o<r[n(114)];o++){const t=k[n(151)][n(141)][n(106)](k),s=r[o],i=e[s]||t;t[n(120)]=k[n(106)](k),t[n(125)]=i[n(125)][n(106)](i),e[s]=t}}))();const z=[B(116)],A=u({__name:B(103),props:{srcMesh:{},scale:{default:1.2},color:{default:B(147)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[B(137)]},blending:{default:i}},setup(e){const r=B,o=e,i=l(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(148)])(o[r(163)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(124),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o[r(131)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(102)]};f((()=>{const n=r;if(o.srcMesh&&i.value&&!i[n(139)][n(150)][n(128)][n(126)]){let t=o[n(142)][n(150)][n(130)]();o[n(144)]&&(t=c[n(121)](t,2)),i.value[n(150)]=t,i[n(139)][n(126)][n(133)](o.srcMesh[n(126)])}o.color&&(a.uniforms[n(117)][n(139)]=new(s[n(148)])(o[n(163)])),o.c&&(a[n(138)].c[n(139)]=o.c),o.p&&(a[n(138)].p[n(139)]=o.p)})),p((()=>o[r(144)]),(n=>{const t=r;let e=o[t(142)][t(150)][t(130)]();n&&(e=c.modify(e,2)),i[t(139)][t(150)]=e})),p((()=>o[r(131)]),(n=>{const t=r;i[t(139)][t(158)][t(131)]=n})),p((()=>o[r(102)]),(n=>{const t=r;i.value.material[t(102)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=r;y.value&&i[n(139)]&&(a[n(138)][n(122)][n(139)]=(new(s[n(105)])).subVectors(y[n(139)][n(126)],i[n(139)][n(126)]))})),(n,t)=>{const e=r;return d(),m(e(108),{ref_key:e(112),ref:i,scale:o.scale},[g("TresShaderMaterial",h(v(a)),null,16)],8,z)}}});function R(n){function t(n){const e=C;if(typeof n===e(140))return function(n){}.constructor(e(127))[e(153)](e(136));1!==(""+n/n)[e(114)]||n%20==0?function(){return!0}[e(151)]("debu"+e(118))[e(104)](e(154)):function(){return!1}[e(151)](e(143)+e(118))[e(153)](e(161)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function V(){const n=["blending","shineShader","call","Vector3","bind","trace","TresMesh","info","init",'{}.constructor("return this")( )',"TSGref","table","length","warn","scale","glowColor","gger","6nDzgQb","__proto__","modify","viewVector","chain","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","toString","position","while (true) {}","attributes","43535FsEEBq","clone","side","2774280WuCbQH","copy","21274UaZuga","error","counter","FrontSide","uniforms","value","string","prototype","srcMesh","debu","subdivision","240568hRkbQk","input","#ffff00","Color","1650830MxIxuT","geometry","constructor","4epNDrK","apply","action","9VTohGn","test","528qoRlkG","material","3330348murnkq","console","stateObject","1070997fwdXBi","color","1tzaSDT","return (function() "];return(V=function(){return n})()}const F=D;!function(n,t){const e=D,r=H();for(;;)try{if(235195===-parseInt(e(263))/1+parseInt(e(243))/2+-parseInt(e(223))/3*(parseInt(e(241))/4)+parseInt(e(205))/5*(parseInt(e(242))/6)+parseInt(e(227))/7*(parseInt(e(261))/8)+-parseInt(e(228))/9+parseInt(e(260))/10*(-parseInt(e(214))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(265)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function D(n,t){const e=H();return(D=function(n,t){return e[n-=204]})(n,t)}!function(){N(this,(function(){const n=D,t=new RegExp(n(230)),e=new RegExp(n(215),"i"),r=P("init");t.test(r+n(236))&&e[n(225)](r+"input")?P():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(265)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();E(void 0,(function(){const n=D;let t;try{t=Function(n(222)+n(251)+");")()}catch(o){t=window}const e=t[n(226)]=t.console||{},r=["log",n(234),n(232),n(250),n(266),n(213),n(247)];for(let s=0;s<r[n(224)];s++){const t=E[n(259)][n(235)].bind(E),o=r[s],i=e[o]||t;t[n(264)]=E[n(256)](E),t[n(239)]=i[n(239)][n(256)](i),e[o]=t}}))();const G=[F(233)],Z=[F(233)];function H(){const n=["scale","toString","TresPerspectiveCamera","1639844vWJmBX","486AiIUcd","616468ZCDrZH","color","TresCanvas","addBinding","trace","TresAmbientLight","call","error",'{}.constructor("return this")( )',"AdditiveBlending","TresBoxGeometry","DoubleSide","FrontSide","bind","subdivision","TresSphereGeometry","constructor","10Pobded","8IUMexO","NormalBlending","41395XtzMfe","__proto__","apply","exception","#00dfff","string","28485xWlCiu","TresMeshBasicMaterial","action","gger","shader","while (true) {}","#222","value","table","347864FMTkGq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","边缘处理","TresMeshRefB","instance","BackSide","srcMesh","return (function() ","3ewYRHH","length","test","console","2816828pVMyMj","4085280yfjSDx","TresGridHelper","function *\\( *\\)","TreBoxRef","info","map","warn","prototype","chain","#0ff"];return(H=function(){return n})()}const q=u({__name:F(209),async setup(n){const t=F;let i,c;const u={clearColor:t(211)},f=l(),p=l(),m=l(),h=([i,c]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),i=await i,c(),i),v=b({scale:1.6,color:t(267),subdivision:!0,c:1.1,p:1.4,side:s[t(255)],blending:s[t(252)]}),B=new a({title:"参数",expanded:!0});return B[t(246)](v,t(244),{label:"颜色"}),B.addBinding(v,t(238),{label:"大小",min:1,max:3,step:.2}),B.addBinding(v,t(257),{label:t(217)}),B.addBinding(v,"c",{label:"c",min:0,max:2,step:.1}),B[t(246)](v,"p",{label:"p",min:0,max:8,step:.2}),B[t(246)](v,"side",{options:{FrontSide:s[t(255)],BackSide:s[t(220)],DoubleSide:s[t(254)]}}),B[t(246)](v,"blending",{options:{AdditiveBlending:s[t(252)],NormalBlending:s[t(262)]}}),(n,o)=>{const s=t,i=w(s(245));return d(),M(i,T(u,{"window-size":""}),{default:I((()=>[o[2]||(o[2]=g(s(240),{position:[5,5,5]},null,-1)),o[3]||(o[3]=g(s(248),{intensity:1},null,-1)),_(x(e)),o[4]||(o[4]=g(s(229),{args:[10,10]},null,-1)),g("TresMesh",{ref_key:"TresMeshRefA",ref:f,position:[-2,1,0]},[o[0]||(o[0]=g(s(258),{args:[1,32,16]},null,-1)),g(s(206),{map:x(h)[0]},null,8,G)],512),_(A,T({srcMesh:f[s(212)]},v),null,16,[s(221)]),_(x(r),{ref_key:s(231),ref:m,args:[1,1,1],position:[2,1,0]},{default:I((()=>[g(s(206),{map:x(h)[1]},null,8,Z)])),_:1},512),m[s(212)]&&m.value[s(219)]?(d(),M(A,T({key:0,srcMesh:m.value[s(219)]},v),null,16,[s(221)])):j("",!0),g("TresMesh",{ref_key:s(218),ref:p,position:[0,1,-2]},o[1]||(o[1]=[g(s(253),{args:[1,1,1,1,1]},null,-1),g(s(206),{color:s(237)},null,-1)]),512),_(A,T({srcMesh:p.value},v),null,16,[s(221)])])),_:1},16)}}});function P(n){function t(n){const e=D;if(typeof n===e(204))return function(n){}.constructor(e(210)).apply(e(216));1!==(""+n/n)[e(224)]||n%20==0?function(){return!0}[e(259)]("debu"+e(208))[e(249)](e(207)):function(){return!1}[e(259)]("debu"+e(208)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{q as default};
