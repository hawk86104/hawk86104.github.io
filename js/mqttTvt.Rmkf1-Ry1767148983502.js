var Bi={exports:{}},Mt=typeof Reflect=="object"?Reflect:null,Xi=Mt&&typeof Mt.apply=="function"?Mt.apply:function(a,o,s){return Function.prototype.apply.call(a,o,s)},tr;Mt&&typeof Mt.ownKeys=="function"?tr=Mt.ownKeys:Object.getOwnPropertySymbols?tr=function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:tr=function(a){return Object.getOwnPropertyNames(a)};function Ga(f){console&&console.warn&&console.warn(f)}var cs=Number.isNaN||function(a){return a!==a};function Pe(){Pe.init.call(this)}Bi.exports=Pe;Bi.exports.once=Xa;Pe.EventEmitter=Pe;Pe.prototype._events=void 0;Pe.prototype._eventsCount=0;Pe.prototype._maxListeners=void 0;var Zi=10;function kr(f){if(typeof f!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof f)}Object.defineProperty(Pe,"defaultMaxListeners",{enumerable:!0,get:function(){return Zi},set:function(f){if(typeof f!="number"||f<0||cs(f))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+f+".");Zi=f}});Pe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Pe.prototype.setMaxListeners=function(a){if(typeof a!="number"||a<0||cs(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this};function fs(f){return f._maxListeners===void 0?Pe.defaultMaxListeners:f._maxListeners}Pe.prototype.getMaxListeners=function(){return fs(this)};Pe.prototype.emit=function(a){for(var o=[],s=1;s<arguments.length;s++)o.push(arguments[s]);var u=a==="error",r=this._events;if(r!==void 0)u=u&&r.error===void 0;else if(!u)return!1;if(u){var e;if(o.length>0&&(e=o[0]),e instanceof Error)throw e;var n=new Error("Unhandled error."+(e?" ("+e.message+")":""));throw n.context=e,n}var t=r[a];if(t===void 0)return!1;if(typeof t=="function")Xi(t,this,o);else for(var i=t.length,l=ys(t,i),s=0;s<i;++s)Xi(l[s],this,o);return!0};function hs(f,a,o,s){var u,r,e;if(kr(o),r=f._events,r===void 0?(r=f._events=Object.create(null),f._eventsCount=0):(r.newListener!==void 0&&(f.emit("newListener",a,o.listener?o.listener:o),r=f._events),e=r[a]),e===void 0)e=r[a]=o,++f._eventsCount;else if(typeof e=="function"?e=r[a]=s?[o,e]:[e,o]:s?e.unshift(o):e.push(o),u=fs(f),u>0&&e.length>u&&!e.warned){e.warned=!0;var n=new Error("Possible EventEmitter memory leak detected. "+e.length+" "+String(a)+" listeners added. Use emitter.setMaxListeners() to increase limit");n.name="MaxListenersExceededWarning",n.emitter=f,n.type=a,n.count=e.length,Ga(n)}return f}Pe.prototype.addListener=function(a,o){return hs(this,a,o,!1)};Pe.prototype.on=Pe.prototype.addListener;Pe.prototype.prependListener=function(a,o){return hs(this,a,o,!0)};function Qa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ps(f,a,o){var s={fired:!1,wrapFn:void 0,target:f,type:a,listener:o},u=Qa.bind(s);return u.listener=o,s.wrapFn=u,u}Pe.prototype.once=function(a,o){return kr(o),this.on(a,ps(this,a,o)),this};Pe.prototype.prependOnceListener=function(a,o){return kr(o),this.prependListener(a,ps(this,a,o)),this};Pe.prototype.removeListener=function(a,o){var s,u,r,e,n;if(kr(o),u=this._events,u===void 0)return this;if(s=u[a],s===void 0)return this;if(s===o||s.listener===o)--this._eventsCount===0?this._events=Object.create(null):(delete u[a],u.removeListener&&this.emit("removeListener",a,s.listener||o));else if(typeof s!="function"){for(r=-1,e=s.length-1;e>=0;e--)if(s[e]===o||s[e].listener===o){n=s[e].listener,r=e;break}if(r<0)return this;r===0?s.shift():Ya(s,r),s.length===1&&(u[a]=s[0]),u.removeListener!==void 0&&this.emit("removeListener",a,n||o)}return this};Pe.prototype.off=Pe.prototype.removeListener;Pe.prototype.removeAllListeners=function(a){var o,s,u;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[a]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[a]),this;if(arguments.length===0){var r=Object.keys(s),e;for(u=0;u<r.length;++u)e=r[u],e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=s[a],typeof o=="function")this.removeListener(a,o);else if(o!==void 0)for(u=o.length-1;u>=0;u--)this.removeListener(a,o[u]);return this};function ds(f,a,o){var s=f._events;if(s===void 0)return[];var u=s[a];return u===void 0?[]:typeof u=="function"?o?[u.listener||u]:[u]:o?Ja(u):ys(u,u.length)}Pe.prototype.listeners=function(a){return ds(this,a,!0)};Pe.prototype.rawListeners=function(a){return ds(this,a,!1)};Pe.listenerCount=function(f,a){return typeof f.listenerCount=="function"?f.listenerCount(a):gs.call(f,a)};Pe.prototype.listenerCount=gs;function gs(f){var a=this._events;if(a!==void 0){var o=a[f];if(typeof o=="function")return 1;if(o!==void 0)return o.length}return 0}Pe.prototype.eventNames=function(){return this._eventsCount>0?tr(this._events):[]};function ys(f,a){for(var o=new Array(a),s=0;s<a;++s)o[s]=f[s];return o}function Ya(f,a){for(;a+1<f.length;a++)f[a]=f[a+1];f.pop()}function Ja(f){for(var a=new Array(f.length),o=0;o<a.length;++o)a[o]=f[o].listener||f[o];return a}function Xa(f,a){return new Promise(function(o,s){function u(e){f.removeListener(a,r),s(e)}function r(){typeof f.removeListener=="function"&&f.removeListener("error",u),o([].slice.call(arguments))}bs(f,a,r,{once:!0}),a!=="error"&&Za(f,u,{once:!0})})}function Za(f,a,o){typeof f.on=="function"&&bs(f,"error",a,o)}function bs(f,a,o,s){if(typeof f.on=="function")s.once?f.once(a,o):f.on(a,o);else if(typeof f.addEventListener=="function")f.addEventListener(a,function u(r){s.once&&f.removeEventListener(a,u),o(r)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof f)}var el=Bi.exports,Ui=Object.defineProperty,tl=Object.getOwnPropertyDescriptor,rl=Object.getOwnPropertyNames,nl=Object.prototype.hasOwnProperty,Ke=(f,a)=>()=>(f&&(a=f(f=0)),a),de=(f,a)=>()=>(a||f((a={exports:{}}).exports,a),a.exports),jt=(f,a)=>{for(var o in a)Ui(f,o,{get:a[o],enumerable:!0})},il=(f,a,o,s)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of rl(a))!nl.call(f,u)&&u!==o&&Ui(f,u,{get:()=>a[u],enumerable:!(s=tl(a,u))||s.enumerable});return f},Re=f=>il(Ui({},"__esModule",{value:!0}),f),le=Ke(()=>{}),Ce={};jt(Ce,{_debugEnd:()=>vn,_debugProcess:()=>mn,_events:()=>jn,_eventsCount:()=>Nn,_exiting:()=>nn,_fatalExceptions:()=>gn,_getActiveHandles:()=>As,_getActiveRequests:()=>Ss,_kill:()=>an,_linkedBinding:()=>_s,_maxListeners:()=>Mn,_preload_modules:()=>Rn,_rawDebug:()=>en,_startProfilerIdleNotifier:()=>wn,_stopProfilerIdleNotifier:()=>_n,_tickCallback:()=>bn,abort:()=>In,addListener:()=>Ln,allowedNodeEnvironmentFlags:()=>pn,arch:()=>Fr,argv:()=>$r,argv0:()=>Pn,assert:()=>Is,binding:()=>Gr,browser:()=>Zr,chdir:()=>Jr,config:()=>on,cpuUsage:()=>qt,cwd:()=>Yr,debugPort:()=>kn,default:()=>Fi,dlopen:()=>Es,domain:()=>rn,emit:()=>Wn,emitWarning:()=>Hr,env:()=>qr,execArgv:()=>zr,execPath:()=>On,exit:()=>fn,features:()=>dn,hasUncaughtExceptionCaptureCallback:()=>xs,hrtime:()=>rr,kill:()=>cn,listeners:()=>Os,memoryUsage:()=>un,moduleLoadList:()=>tn,nextTick:()=>vs,off:()=>Un,on:()=>nt,once:()=>Bn,openStdin:()=>hn,pid:()=>xn,platform:()=>Wr,ppid:()=>Tn,prependListener:()=>qn,prependOnceListener:()=>$n,reallyExit:()=>sn,release:()=>Xr,removeAllListeners:()=>Fn,removeListener:()=>Dn,resourceUsage:()=>ln,setSourceMapsEnabled:()=>Cn,setUncaughtExceptionCaptureCallback:()=>yn,stderr:()=>Sn,stdin:()=>An,stdout:()=>En,title:()=>Dr,umask:()=>Qr,uptime:()=>Ts,version:()=>Kr,versions:()=>Vr});function Di(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function ol(){!St||!_t||(St=!1,_t.length?et=_t.concat(et):Vt=-1,et.length&&ms())}function ms(){if(!St){var f=setTimeout(ol,0);St=!0;for(var a=et.length;a;){for(_t=et,et=[];++Vt<a;)_t&&_t[Vt].run();Vt=-1,a=et.length}_t=null,St=!1,clearTimeout(f)}}function vs(f){var a=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)a[o-1]=arguments[o];et.push(new ws(f,a)),et.length===1&&!St&&setTimeout(ms,0)}function ws(f,a){this.fun=f,this.array=a}function De(){}function _s(f){Di("_linkedBinding")}function Es(f){Di("dlopen")}function Ss(){return[]}function As(){return[]}function Is(f,a){if(!f)throw new Error(a||"assertion error")}function xs(){return!1}function Ts(){return ot.now()/1e3}function rr(f){var a=Math.floor((Date.now()-ot.now())*.001),o=ot.now()*.001,s=Math.floor(o)+a,u=Math.floor(o%1*1e9);return f&&(s=s-f[0],u=u-f[1],u<0&&(s--,u+=nr)),[s,u]}function nt(){return Fi}function Os(f){return[]}var et,St,_t,Vt,Dr,Fr,Wr,qr,$r,zr,Kr,Vr,Hr,Gr,Qr,Yr,Jr,Xr,Zr,en,tn,rn,nn,on,sn,an,qt,ln,un,cn,fn,hn,pn,dn,gn,yn,bn,mn,vn,wn,_n,En,Sn,An,In,xn,Tn,On,kn,Pn,Rn,Cn,ot,Lr,nr,Mn,jn,Nn,Ln,Bn,Un,Dn,Fn,Wn,qn,$n,Fi,sl=Ke(()=>{le(),ce(),ue(),et=[],St=!1,Vt=-1,ws.prototype.run=function(){this.fun.apply(null,this.array)},Dr="browser",Fr="x64",Wr="browser",qr={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},$r=["/usr/bin/node"],zr=[],Kr="v16.8.0",Vr={},Hr=function(f,a){console.warn((a?a+": ":"")+f)},Gr=function(f){Di("binding")},Qr=function(f){return 0},Yr=function(){return"/"},Jr=function(f){},Xr={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Zr=!0,en=De,tn=[],rn={},nn=!1,on={},sn=De,an=De,qt=function(){return{}},ln=qt,un=qt,cn=De,fn=De,hn=De,pn={},dn={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},gn=De,yn=De,bn=De,mn=De,vn=De,wn=De,_n=De,En=void 0,Sn=void 0,An=void 0,In=De,xn=2,Tn=1,On="/bin/usr/node",kn=9229,Pn="node",Rn=[],Cn=De,ot={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},ot.now===void 0&&(Lr=Date.now(),ot.timing&&ot.timing.navigationStart&&(Lr=ot.timing.navigationStart),ot.now=()=>Date.now()-Lr),nr=1e9,rr.bigint=function(f){var a=rr(f);return typeof BigInt>"u"?a[0]*nr+a[1]:BigInt(a[0]*nr)+BigInt(a[1])},Mn=10,jn={},Nn=0,Ln=nt,Bn=nt,Un=nt,Dn=nt,Fn=nt,Wn=De,qn=nt,$n=nt,Fi={version:Kr,versions:Vr,arch:Fr,platform:Wr,browser:Zr,release:Xr,_rawDebug:en,moduleLoadList:tn,binding:Gr,_linkedBinding:_s,_events:jn,_eventsCount:Nn,_maxListeners:Mn,on:nt,addListener:Ln,once:Bn,off:Un,removeListener:Dn,removeAllListeners:Fn,emit:Wn,prependListener:qn,prependOnceListener:$n,listeners:Os,domain:rn,_exiting:nn,config:on,dlopen:Es,uptime:Ts,_getActiveRequests:Ss,_getActiveHandles:As,reallyExit:sn,_kill:an,cpuUsage:qt,resourceUsage:ln,memoryUsage:un,kill:cn,exit:fn,openStdin:hn,allowedNodeEnvironmentFlags:pn,assert:Is,features:dn,_fatalExceptions:gn,setUncaughtExceptionCaptureCallback:yn,hasUncaughtExceptionCaptureCallback:xs,emitWarning:Hr,nextTick:vs,_tickCallback:bn,_debugProcess:mn,_debugEnd:vn,_startProfilerIdleNotifier:wn,_stopProfilerIdleNotifier:_n,stdout:En,stdin:An,stderr:Sn,abort:In,umask:Qr,chdir:Jr,cwd:Yr,env:qr,title:Dr,argv:$r,execArgv:zr,pid:xn,ppid:Tn,execPath:On,debugPort:kn,hrtime:rr,argv0:Pn,_preload_modules:Rn,setSourceMapsEnabled:Cn}}),ue=Ke(()=>{sl()});function al(){if(zn)return Pt;zn=!0,Pt.byteLength=n,Pt.toByteArray=i,Pt.fromByteArray=g;for(var f=[],a=[],o=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,r=s.length;u<r;++u)f[u]=s[u],a[s.charCodeAt(u)]=u;a[45]=62,a[95]=63;function e(m){var h=m.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");y===-1&&(y=h);var b=y===h?0:4-y%4;return[y,b]}function n(m){var h=e(m),y=h[0],b=h[1];return(y+b)*3/4-b}function t(m,h,y){return(h+y)*3/4-y}function i(m){var h,y=e(m),b=y[0],E=y[1],d=new o(t(m,b,E)),_=0,I=E>0?b-4:b,v;for(v=0;v<I;v+=4)h=a[m.charCodeAt(v)]<<18|a[m.charCodeAt(v+1)]<<12|a[m.charCodeAt(v+2)]<<6|a[m.charCodeAt(v+3)],d[_++]=h>>16&255,d[_++]=h>>8&255,d[_++]=h&255;return E===2&&(h=a[m.charCodeAt(v)]<<2|a[m.charCodeAt(v+1)]>>4,d[_++]=h&255),E===1&&(h=a[m.charCodeAt(v)]<<10|a[m.charCodeAt(v+1)]<<4|a[m.charCodeAt(v+2)]>>2,d[_++]=h>>8&255,d[_++]=h&255),d}function l(m){return f[m>>18&63]+f[m>>12&63]+f[m>>6&63]+f[m&63]}function p(m,h,y){for(var b,E=[],d=h;d<y;d+=3)b=(m[d]<<16&16711680)+(m[d+1]<<8&65280)+(m[d+2]&255),E.push(l(b));return E.join("")}function g(m){for(var h,y=m.length,b=y%3,E=[],d=16383,_=0,I=y-b;_<I;_+=d)E.push(p(m,_,_+d>I?I:_+d));return b===1?(h=m[y-1],E.push(f[h>>2]+f[h<<4&63]+"==")):b===2&&(h=(m[y-2]<<8)+m[y-1],E.push(f[h>>10]+f[h>>4&63]+f[h<<2&63]+"=")),E.join("")}return Pt}function ll(){return Kn?$t:(Kn=!0,$t.read=function(f,a,o,s,u){var r,e,n=u*8-s-1,t=(1<<n)-1,i=t>>1,l=-7,p=o?u-1:0,g=o?-1:1,m=f[a+p];for(p+=g,r=m&(1<<-l)-1,m>>=-l,l+=n;l>0;r=r*256+f[a+p],p+=g,l-=8);for(e=r&(1<<-l)-1,r>>=-l,l+=s;l>0;e=e*256+f[a+p],p+=g,l-=8);if(r===0)r=1-i;else{if(r===t)return e?NaN:(m?-1:1)*(1/0);e=e+Math.pow(2,s),r=r-i}return(m?-1:1)*e*Math.pow(2,r-s)},$t.write=function(f,a,o,s,u,r){var e,n,t,i=r*8-u-1,l=(1<<i)-1,p=l>>1,g=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=s?0:r-1,h=s?1:-1,y=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(n=isNaN(a)?1:0,e=l):(e=Math.floor(Math.log(a)/Math.LN2),a*(t=Math.pow(2,-e))<1&&(e--,t*=2),e+p>=1?a+=g/t:a+=g*Math.pow(2,1-p),a*t>=2&&(e++,t/=2),e+p>=l?(n=0,e=l):e+p>=1?(n=(a*t-1)*Math.pow(2,u),e=e+p):(n=a*Math.pow(2,p-1)*Math.pow(2,u),e=0));u>=8;f[o+m]=n&255,m+=h,n/=256,u-=8);for(e=e<<u|n,i+=u;i>0;f[o+m]=e&255,m+=h,e/=256,i-=8);f[o+m-h]|=y*128},$t)}function ul(){if(Vn)return dt;Vn=!0;let f=al(),a=ll(),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;dt.Buffer=e,dt.SlowBuffer=E,dt.INSPECT_MAX_BYTES=50;let s=2147483647;dt.kMaxLength=s,e.TYPED_ARRAY_SUPPORT=u(),!e.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{let c=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(c,w),c.foo()===42}catch{return!1}}Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}});function r(c){if(c>s)throw new RangeError('The value "'+c+'" is invalid for option "size"');let w=new Uint8Array(c);return Object.setPrototypeOf(w,e.prototype),w}function e(c,w,x){if(typeof c=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(c)}return n(c,w,x)}e.poolSize=8192;function n(c,w,x){if(typeof c=="string")return p(c,w);if(ArrayBuffer.isView(c))return m(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if($(c,ArrayBuffer)||c&&$(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($(c,SharedArrayBuffer)||c&&$(c.buffer,SharedArrayBuffer)))return h(c,w,x);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let B=c.valueOf&&c.valueOf();if(B!=null&&B!==c)return e.from(B,w,x);let X=y(c);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return e.from(c[Symbol.toPrimitive]("string"),w,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}e.from=function(c,w,x){return n(c,w,x)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array);function t(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function i(c,w,x){return t(c),c<=0?r(c):w!==void 0?typeof x=="string"?r(c).fill(w,x):r(c).fill(w):r(c)}e.alloc=function(c,w,x){return i(c,w,x)};function l(c){return t(c),r(c<0?0:b(c)|0)}e.allocUnsafe=function(c){return l(c)},e.allocUnsafeSlow=function(c){return l(c)};function p(c,w){if((typeof w!="string"||w==="")&&(w="utf8"),!e.isEncoding(w))throw new TypeError("Unknown encoding: "+w);let x=d(c,w)|0,B=r(x),X=B.write(c,w);return X!==x&&(B=B.slice(0,X)),B}function g(c){let w=c.length<0?0:b(c.length)|0,x=r(w);for(let B=0;B<w;B+=1)x[B]=c[B]&255;return x}function m(c){if($(c,Uint8Array)){let w=new Uint8Array(c);return h(w.buffer,w.byteOffset,w.byteLength)}return g(c)}function h(c,w,x){if(w<0||c.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<w+(x||0))throw new RangeError('"length" is outside of buffer bounds');let B;return w===void 0&&x===void 0?B=new Uint8Array(c):x===void 0?B=new Uint8Array(c,w):B=new Uint8Array(c,w,x),Object.setPrototypeOf(B,e.prototype),B}function y(c){if(e.isBuffer(c)){let w=b(c.length)|0,x=r(w);return x.length===0||c.copy(x,0,0,w),x}if(c.length!==void 0)return typeof c.length!="number"||ge(c.length)?r(0):g(c);if(c.type==="Buffer"&&Array.isArray(c.data))return g(c.data)}function b(c){if(c>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return c|0}function E(c){return+c!=c&&(c=0),e.alloc(+c)}e.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==e.prototype},e.compare=function(c,w){if($(c,Uint8Array)&&(c=e.from(c,c.offset,c.byteLength)),$(w,Uint8Array)&&(w=e.from(w,w.offset,w.byteLength)),!e.isBuffer(c)||!e.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===w)return 0;let x=c.length,B=w.length;for(let X=0,fe=Math.min(x,B);X<fe;++X)if(c[X]!==w[X]){x=c[X],B=w[X];break}return x<B?-1:B<x?1:0},e.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(c,w){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return e.alloc(0);let x;if(w===void 0)for(w=0,x=0;x<c.length;++x)w+=c[x].length;let B=e.allocUnsafe(w),X=0;for(x=0;x<c.length;++x){let fe=c[x];if($(fe,Uint8Array))X+fe.length>B.length?(e.isBuffer(fe)||(fe=e.from(fe)),fe.copy(B,X)):Uint8Array.prototype.set.call(B,fe,X);else if(e.isBuffer(fe))fe.copy(B,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=fe.length}return B};function d(c,w){if(e.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||$(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);let x=c.length,B=arguments.length>2&&arguments[2]===!0;if(!B&&x===0)return 0;let X=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return W(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return pe(c).length;default:if(X)return B?-1:W(c).length;w=(""+w).toLowerCase(),X=!0}}e.byteLength=d;function _(c,w,x){let B=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,w>>>=0,x<=w))return"";for(c||(c="utf8");;)switch(c){case"hex":return V(this,w,x);case"utf8":case"utf-8":return q(this,w,x);case"ascii":return ae(this,w,x);case"latin1":case"binary":return Q(this,w,x);case"base64":return O(this,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,w,x);default:if(B)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),B=!0}}e.prototype._isBuffer=!0;function I(c,w,x){let B=c[w];c[w]=c[x],c[x]=B}e.prototype.swap16=function(){let c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<c;w+=2)I(this,w,w+1);return this},e.prototype.swap32=function(){let c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<c;w+=4)I(this,w,w+3),I(this,w+1,w+2);return this},e.prototype.swap64=function(){let c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<c;w+=8)I(this,w,w+7),I(this,w+1,w+6),I(this,w+2,w+5),I(this,w+3,w+4);return this},e.prototype.toString=function(){let c=this.length;return c===0?"":arguments.length===0?q(this,0,c):_.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(c){if(!e.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:e.compare(this,c)===0},e.prototype.inspect=function(){let c="",w=dt.INSPECT_MAX_BYTES;return c=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(c+=" ... "),"<Buffer "+c+">"},o&&(e.prototype[o]=e.prototype.inspect),e.prototype.compare=function(c,w,x,B,X){if($(c,Uint8Array)&&(c=e.from(c,c.offset,c.byteLength)),!e.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(w===void 0&&(w=0),x===void 0&&(x=c?c.length:0),B===void 0&&(B=0),X===void 0&&(X=this.length),w<0||x>c.length||B<0||X>this.length)throw new RangeError("out of range index");if(B>=X&&w>=x)return 0;if(B>=X)return-1;if(w>=x)return 1;if(w>>>=0,x>>>=0,B>>>=0,X>>>=0,this===c)return 0;let fe=X-B,Ee=x-w,K=Math.min(fe,Ee),ie=this.slice(B,X),Ie=c.slice(w,x);for(let xe=0;xe<K;++xe)if(ie[xe]!==Ie[xe]){fe=ie[xe],Ee=Ie[xe];break}return fe<Ee?-1:Ee<fe?1:0};function v(c,w,x,B,X){if(c.length===0)return-1;if(typeof x=="string"?(B=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,ge(x)&&(x=X?0:c.length-1),x<0&&(x=c.length+x),x>=c.length){if(X)return-1;x=c.length-1}else if(x<0)if(X)x=0;else return-1;if(typeof w=="string"&&(w=e.from(w,B)),e.isBuffer(w))return w.length===0?-1:A(c,w,x,B,X);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(c,w,x):Uint8Array.prototype.lastIndexOf.call(c,w,x):A(c,[w],x,B,X);throw new TypeError("val must be string, number or Buffer")}function A(c,w,x,B,X){let fe=1,Ee=c.length,K=w.length;if(B!==void 0&&(B=String(B).toLowerCase(),B==="ucs2"||B==="ucs-2"||B==="utf16le"||B==="utf-16le")){if(c.length<2||w.length<2)return-1;fe=2,Ee/=2,K/=2,x/=2}function ie(xe,Te){return fe===1?xe[Te]:xe.readUInt16BE(Te*fe)}let Ie;if(X){let xe=-1;for(Ie=x;Ie<Ee;Ie++)if(ie(c,Ie)===ie(w,xe===-1?0:Ie-xe)){if(xe===-1&&(xe=Ie),Ie-xe+1===K)return xe*fe}else xe!==-1&&(Ie-=Ie-xe),xe=-1}else for(x+K>Ee&&(x=Ee-K),Ie=x;Ie>=0;Ie--){let xe=!0;for(let Te=0;Te<K;Te++)if(ie(c,Ie+Te)!==ie(w,Te)){xe=!1;break}if(xe)return Ie}return-1}e.prototype.includes=function(c,w,x){return this.indexOf(c,w,x)!==-1},e.prototype.indexOf=function(c,w,x){return v(this,c,w,x,!0)},e.prototype.lastIndexOf=function(c,w,x){return v(this,c,w,x,!1)};function S(c,w,x,B){x=Number(x)||0;let X=c.length-x;B?(B=Number(B),B>X&&(B=X)):B=X;let fe=w.length;B>fe/2&&(B=fe/2);let Ee;for(Ee=0;Ee<B;++Ee){let K=parseInt(w.substr(Ee*2,2),16);if(ge(K))return Ee;c[x+Ee]=K}return Ee}function T(c,w,x,B){return me(W(w,c.length-x),c,x,B)}function C(c,w,x,B){return me(ee(w),c,x,B)}function P(c,w,x,B){return me(pe(w),c,x,B)}function U(c,w,x,B){return me(he(w,c.length-x),c,x,B)}e.prototype.write=function(c,w,x,B){if(w===void 0)B="utf8",x=this.length,w=0;else if(x===void 0&&typeof w=="string")B=w,x=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(x)?(x=x>>>0,B===void 0&&(B="utf8")):(B=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let X=this.length-w;if((x===void 0||x>X)&&(x=X),c.length>0&&(x<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let fe=!1;for(;;)switch(B){case"hex":return S(this,c,w,x);case"utf8":case"utf-8":return T(this,c,w,x);case"ascii":case"latin1":case"binary":return C(this,c,w,x);case"base64":return P(this,c,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,c,w,x);default:if(fe)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),fe=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(c,w,x){return w===0&&x===c.length?f.fromByteArray(c):f.fromByteArray(c.slice(w,x))}function q(c,w,x){x=Math.min(c.length,x);let B=[],X=w;for(;X<x;){let fe=c[X],Ee=null,K=fe>239?4:fe>223?3:fe>191?2:1;if(X+K<=x){let ie,Ie,xe,Te;switch(K){case 1:fe<128&&(Ee=fe);break;case 2:ie=c[X+1],(ie&192)===128&&(Te=(fe&31)<<6|ie&63,Te>127&&(Ee=Te));break;case 3:ie=c[X+1],Ie=c[X+2],(ie&192)===128&&(Ie&192)===128&&(Te=(fe&15)<<12|(ie&63)<<6|Ie&63,Te>2047&&(Te<55296||Te>57343)&&(Ee=Te));break;case 4:ie=c[X+1],Ie=c[X+2],xe=c[X+3],(ie&192)===128&&(Ie&192)===128&&(xe&192)===128&&(Te=(fe&15)<<18|(ie&63)<<12|(Ie&63)<<6|xe&63,Te>65535&&Te<1114112&&(Ee=Te))}}Ee===null?(Ee=65533,K=1):Ee>65535&&(Ee-=65536,B.push(Ee>>>10&1023|55296),Ee=56320|Ee&1023),B.push(Ee),X+=K}return L(B)}let D=4096;function L(c){let w=c.length;if(w<=D)return String.fromCharCode.apply(String,c);let x="",B=0;for(;B<w;)x+=String.fromCharCode.apply(String,c.slice(B,B+=D));return x}function ae(c,w,x){let B="";x=Math.min(c.length,x);for(let X=w;X<x;++X)B+=String.fromCharCode(c[X]&127);return B}function Q(c,w,x){let B="";x=Math.min(c.length,x);for(let X=w;X<x;++X)B+=String.fromCharCode(c[X]);return B}function V(c,w,x){let B=c.length;(!w||w<0)&&(w=0),(!x||x<0||x>B)&&(x=B);let X="";for(let fe=w;fe<x;++fe)X+=ve[c[fe]];return X}function re(c,w,x){let B=c.slice(w,x),X="";for(let fe=0;fe<B.length-1;fe+=2)X+=String.fromCharCode(B[fe]+B[fe+1]*256);return X}e.prototype.slice=function(c,w){let x=this.length;c=~~c,w=w===void 0?x:~~w,c<0?(c+=x,c<0&&(c=0)):c>x&&(c=x),w<0?(w+=x,w<0&&(w=0)):w>x&&(w=x),w<c&&(w=c);let B=this.subarray(c,w);return Object.setPrototypeOf(B,e.prototype),B};function F(c,w,x){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+w>x)throw new RangeError("Trying to access beyond buffer length")}e.prototype.readUintLE=e.prototype.readUIntLE=function(c,w,x){c=c>>>0,w=w>>>0,x||F(c,w,this.length);let B=this[c],X=1,fe=0;for(;++fe<w&&(X*=256);)B+=this[c+fe]*X;return B},e.prototype.readUintBE=e.prototype.readUIntBE=function(c,w,x){c=c>>>0,w=w>>>0,x||F(c,w,this.length);let B=this[c+--w],X=1;for(;w>0&&(X*=256);)B+=this[c+--w]*X;return B},e.prototype.readUint8=e.prototype.readUInt8=function(c,w){return c=c>>>0,w||F(c,1,this.length),this[c]},e.prototype.readUint16LE=e.prototype.readUInt16LE=function(c,w){return c=c>>>0,w||F(c,2,this.length),this[c]|this[c+1]<<8},e.prototype.readUint16BE=e.prototype.readUInt16BE=function(c,w){return c=c>>>0,w||F(c,2,this.length),this[c]<<8|this[c+1]},e.prototype.readUint32LE=e.prototype.readUInt32LE=function(c,w){return c=c>>>0,w||F(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},e.prototype.readUint32BE=e.prototype.readUInt32BE=function(c,w){return c=c>>>0,w||F(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},e.prototype.readBigUInt64LE=se(function(c){c=c>>>0,Y(c,"offset");let w=this[c],x=this[c+7];(w===void 0||x===void 0)&&ye(c,this.length-8);let B=w+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,X=this[++c]+this[++c]*2**8+this[++c]*2**16+x*2**24;return BigInt(B)+(BigInt(X)<<BigInt(32))}),e.prototype.readBigUInt64BE=se(function(c){c=c>>>0,Y(c,"offset");let w=this[c],x=this[c+7];(w===void 0||x===void 0)&&ye(c,this.length-8);let B=w*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],X=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+x;return(BigInt(B)<<BigInt(32))+BigInt(X)}),e.prototype.readIntLE=function(c,w,x){c=c>>>0,w=w>>>0,x||F(c,w,this.length);let B=this[c],X=1,fe=0;for(;++fe<w&&(X*=256);)B+=this[c+fe]*X;return X*=128,B>=X&&(B-=Math.pow(2,8*w)),B},e.prototype.readIntBE=function(c,w,x){c=c>>>0,w=w>>>0,x||F(c,w,this.length);let B=w,X=1,fe=this[c+--B];for(;B>0&&(X*=256);)fe+=this[c+--B]*X;return X*=128,fe>=X&&(fe-=Math.pow(2,8*w)),fe},e.prototype.readInt8=function(c,w){return c=c>>>0,w||F(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},e.prototype.readInt16LE=function(c,w){c=c>>>0,w||F(c,2,this.length);let x=this[c]|this[c+1]<<8;return x&32768?x|4294901760:x},e.prototype.readInt16BE=function(c,w){c=c>>>0,w||F(c,2,this.length);let x=this[c+1]|this[c]<<8;return x&32768?x|4294901760:x},e.prototype.readInt32LE=function(c,w){return c=c>>>0,w||F(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},e.prototype.readInt32BE=function(c,w){return c=c>>>0,w||F(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},e.prototype.readBigInt64LE=se(function(c){c=c>>>0,Y(c,"offset");let w=this[c],x=this[c+7];(w===void 0||x===void 0)&&ye(c,this.length-8);let B=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(x<<24);return(BigInt(B)<<BigInt(32))+BigInt(w+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),e.prototype.readBigInt64BE=se(function(c){c=c>>>0,Y(c,"offset");let w=this[c],x=this[c+7];(w===void 0||x===void 0)&&ye(c,this.length-8);let B=(w<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(B)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+x)}),e.prototype.readFloatLE=function(c,w){return c=c>>>0,w||F(c,4,this.length),a.read(this,c,!0,23,4)},e.prototype.readFloatBE=function(c,w){return c=c>>>0,w||F(c,4,this.length),a.read(this,c,!1,23,4)},e.prototype.readDoubleLE=function(c,w){return c=c>>>0,w||F(c,8,this.length),a.read(this,c,!0,52,8)},e.prototype.readDoubleBE=function(c,w){return c=c>>>0,w||F(c,8,this.length),a.read(this,c,!1,52,8)};function Z(c,w,x,B,X,fe){if(!e.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>X||w<fe)throw new RangeError('"value" argument is out of bounds');if(x+B>c.length)throw new RangeError("Index out of range")}e.prototype.writeUintLE=e.prototype.writeUIntLE=function(c,w,x,B){if(c=+c,w=w>>>0,x=x>>>0,!B){let Ee=Math.pow(2,8*x)-1;Z(this,c,w,x,Ee,0)}let X=1,fe=0;for(this[w]=c&255;++fe<x&&(X*=256);)this[w+fe]=c/X&255;return w+x},e.prototype.writeUintBE=e.prototype.writeUIntBE=function(c,w,x,B){if(c=+c,w=w>>>0,x=x>>>0,!B){let Ee=Math.pow(2,8*x)-1;Z(this,c,w,x,Ee,0)}let X=x-1,fe=1;for(this[w+X]=c&255;--X>=0&&(fe*=256);)this[w+X]=c/fe&255;return w+x},e.prototype.writeUint8=e.prototype.writeUInt8=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,1,255,0),this[w]=c&255,w+1},e.prototype.writeUint16LE=e.prototype.writeUInt16LE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,2,65535,0),this[w]=c&255,this[w+1]=c>>>8,w+2},e.prototype.writeUint16BE=e.prototype.writeUInt16BE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,2,65535,0),this[w]=c>>>8,this[w+1]=c&255,w+2},e.prototype.writeUint32LE=e.prototype.writeUInt32LE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,4,4294967295,0),this[w+3]=c>>>24,this[w+2]=c>>>16,this[w+1]=c>>>8,this[w]=c&255,w+4},e.prototype.writeUint32BE=e.prototype.writeUInt32BE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,4,4294967295,0),this[w]=c>>>24,this[w+1]=c>>>16,this[w+2]=c>>>8,this[w+3]=c&255,w+4};function R(c,w,x,B,X){G(w,B,X,c,x,7);let fe=Number(w&BigInt(4294967295));c[x++]=fe,fe=fe>>8,c[x++]=fe,fe=fe>>8,c[x++]=fe,fe=fe>>8,c[x++]=fe;let Ee=Number(w>>BigInt(32)&BigInt(4294967295));return c[x++]=Ee,Ee=Ee>>8,c[x++]=Ee,Ee=Ee>>8,c[x++]=Ee,Ee=Ee>>8,c[x++]=Ee,x}function J(c,w,x,B,X){G(w,B,X,c,x,7);let fe=Number(w&BigInt(4294967295));c[x+7]=fe,fe=fe>>8,c[x+6]=fe,fe=fe>>8,c[x+5]=fe,fe=fe>>8,c[x+4]=fe;let Ee=Number(w>>BigInt(32)&BigInt(4294967295));return c[x+3]=Ee,Ee=Ee>>8,c[x+2]=Ee,Ee=Ee>>8,c[x+1]=Ee,Ee=Ee>>8,c[x]=Ee,x+8}e.prototype.writeBigUInt64LE=se(function(c,w=0){return R(this,c,w,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeBigUInt64BE=se(function(c,w=0){return J(this,c,w,BigInt(0),BigInt("0xffffffffffffffff"))}),e.prototype.writeIntLE=function(c,w,x,B){if(c=+c,w=w>>>0,!B){let K=Math.pow(2,8*x-1);Z(this,c,w,x,K-1,-K)}let X=0,fe=1,Ee=0;for(this[w]=c&255;++X<x&&(fe*=256);)c<0&&Ee===0&&this[w+X-1]!==0&&(Ee=1),this[w+X]=(c/fe>>0)-Ee&255;return w+x},e.prototype.writeIntBE=function(c,w,x,B){if(c=+c,w=w>>>0,!B){let K=Math.pow(2,8*x-1);Z(this,c,w,x,K-1,-K)}let X=x-1,fe=1,Ee=0;for(this[w+X]=c&255;--X>=0&&(fe*=256);)c<0&&Ee===0&&this[w+X+1]!==0&&(Ee=1),this[w+X]=(c/fe>>0)-Ee&255;return w+x},e.prototype.writeInt8=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,1,127,-128),c<0&&(c=255+c+1),this[w]=c&255,w+1},e.prototype.writeInt16LE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,2,32767,-32768),this[w]=c&255,this[w+1]=c>>>8,w+2},e.prototype.writeInt16BE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,2,32767,-32768),this[w]=c>>>8,this[w+1]=c&255,w+2},e.prototype.writeInt32LE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,4,2147483647,-2147483648),this[w]=c&255,this[w+1]=c>>>8,this[w+2]=c>>>16,this[w+3]=c>>>24,w+4},e.prototype.writeInt32BE=function(c,w,x){return c=+c,w=w>>>0,x||Z(this,c,w,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[w]=c>>>24,this[w+1]=c>>>16,this[w+2]=c>>>8,this[w+3]=c&255,w+4},e.prototype.writeBigInt64LE=se(function(c,w=0){return R(this,c,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),e.prototype.writeBigInt64BE=se(function(c,w=0){return J(this,c,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(c,w,x,B,X,fe){if(x+B>c.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function te(c,w,x,B,X){return w=+w,x=x>>>0,X||be(c,w,x,4),a.write(c,w,x,B,23,4),x+4}e.prototype.writeFloatLE=function(c,w,x){return te(this,c,w,!0,x)},e.prototype.writeFloatBE=function(c,w,x){return te(this,c,w,!1,x)};function we(c,w,x,B,X){return w=+w,x=x>>>0,X||be(c,w,x,8),a.write(c,w,x,B,52,8),x+8}e.prototype.writeDoubleLE=function(c,w,x){return we(this,c,w,!0,x)},e.prototype.writeDoubleBE=function(c,w,x){return we(this,c,w,!1,x)},e.prototype.copy=function(c,w,x,B){if(!e.isBuffer(c))throw new TypeError("argument should be a Buffer");if(x||(x=0),!B&&B!==0&&(B=this.length),w>=c.length&&(w=c.length),w||(w=0),B>0&&B<x&&(B=x),B===x||c.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),c.length-w<B-x&&(B=c.length-w+x);let X=B-x;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,x,B):Uint8Array.prototype.set.call(c,this.subarray(x,B),w),X},e.prototype.fill=function(c,w,x,B){if(typeof c=="string"){if(typeof w=="string"?(B=w,w=0,x=this.length):typeof x=="string"&&(B=x,x=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!e.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(c.length===1){let fe=c.charCodeAt(0);(B==="utf8"&&fe<128||B==="latin1")&&(c=fe)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(w<0||this.length<w||this.length<x)throw new RangeError("Out of range index");if(x<=w)return this;w=w>>>0,x=x===void 0?this.length:x>>>0,c||(c=0);let X;if(typeof c=="number")for(X=w;X<x;++X)this[X]=c;else{let fe=e.isBuffer(c)?c:e.from(c,B),Ee=fe.length;if(Ee===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(X=0;X<x-w;++X)this[X+w]=fe[X%Ee]}return this};let H={};function N(c,w,x){H[c]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(c,w){return`The "${c}" argument must be of type number. Received type ${typeof w}`},TypeError),N("ERR_OUT_OF_RANGE",function(c,w,x){let B=`The value of "${c}" is out of range.`,X=x;return Number.isInteger(x)&&Math.abs(x)>2**32?X=ne(String(x)):typeof x=="bigint"&&(X=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(X=ne(X)),X+="n"),B+=` It must be ${w}. Received ${X}`,B},RangeError);function ne(c){let w="",x=c.length,B=c[0]==="-"?1:0;for(;x>=B+4;x-=3)w=`_${c.slice(x-3,x)}${w}`;return`${c.slice(0,x)}${w}`}function z(c,w,x){Y(w,"offset"),(c[w]===void 0||c[w+x]===void 0)&&ye(w,c.length-(x+1))}function G(c,w,x,B,X,fe){if(c>x||c<w){let Ee=typeof w=="bigint"?"n":"",K;throw w===0||w===BigInt(0)?K=`>= 0${Ee} and < 2${Ee} ** ${(fe+1)*8}${Ee}`:K=`>= -(2${Ee} ** ${(fe+1)*8-1}${Ee}) and < 2 ** ${(fe+1)*8-1}${Ee}`,new H.ERR_OUT_OF_RANGE("value",K,c)}z(B,X,fe)}function Y(c,w){if(typeof c!="number")throw new H.ERR_INVALID_ARG_TYPE(w,"number",c)}function ye(c,w,x){throw Math.floor(c)!==c?(Y(c,x),new H.ERR_OUT_OF_RANGE("offset","an integer",c)):w<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${w}`,c)}let oe=/[^+/0-9A-Za-z-_]/g;function M(c){if(c=c.split("=")[0],c=c.trim().replace(oe,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function W(c,w){w=w||1/0;let x,B=c.length,X=null,fe=[];for(let Ee=0;Ee<B;++Ee){if(x=c.charCodeAt(Ee),x>55295&&x<57344){if(!X){if(x>56319){(w-=3)>-1&&fe.push(239,191,189);continue}else if(Ee+1===B){(w-=3)>-1&&fe.push(239,191,189);continue}X=x;continue}if(x<56320){(w-=3)>-1&&fe.push(239,191,189),X=x;continue}x=(X-55296<<10|x-56320)+65536}else X&&(w-=3)>-1&&fe.push(239,191,189);if(X=null,x<128){if((w-=1)<0)break;fe.push(x)}else if(x<2048){if((w-=2)<0)break;fe.push(x>>6|192,x&63|128)}else if(x<65536){if((w-=3)<0)break;fe.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((w-=4)<0)break;fe.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return fe}function ee(c){let w=[];for(let x=0;x<c.length;++x)w.push(c.charCodeAt(x)&255);return w}function he(c,w){let x,B,X,fe=[];for(let Ee=0;Ee<c.length&&!((w-=2)<0);++Ee)x=c.charCodeAt(Ee),B=x>>8,X=x%256,fe.push(X),fe.push(B);return fe}function pe(c){return f.toByteArray(M(c))}function me(c,w,x,B){let X;for(X=0;X<B&&!(X+x>=w.length||X>=c.length);++X)w[X+x]=c[X];return X}function $(c,w){return c instanceof w||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===w.name}function ge(c){return c!==c}let ve=function(){let c="0123456789abcdef",w=new Array(256);for(let x=0;x<16;++x){let B=x*16;for(let X=0;X<16;++X)w[B+X]=c[x]+c[X]}return w}();function se(c){return typeof BigInt>"u"?Oe:c}function Oe(){throw new Error("BigInt not supported")}return dt}var Pt,zn,$t,Kn,dt,Vn,cl=Ke(()=>{le(),ce(),ue(),Pt={},zn=!1,$t={},Kn=!1,dt={},Vn=!1}),Le={};jt(Le,{Buffer:()=>Tr,INSPECT_MAX_BYTES:()=>ks,default:()=>it,kMaxLength:()=>Ps});var it,Tr,ks,Ps,Be=Ke(()=>{le(),ce(),ue(),cl(),it=ul(),it.Buffer,it.SlowBuffer,it.INSPECT_MAX_BYTES,it.kMaxLength,Tr=it.Buffer,ks=it.INSPECT_MAX_BYTES,Ps=it.kMaxLength}),ce=Ke(()=>{Be()}),je=de((f,a)=>{le(),ce(),ue();var o=class extends Error{constructor(s){if(!Array.isArray(s))throw new TypeError(`Expected input to be an Array, got ${typeof s}`);let u="";for(let r=0;r<s.length;r++)u+=`    ${s[r].stack}
`;super(u),this.name="AggregateError",this.errors=s}};a.exports={AggregateError:o,ArrayIsArray(s){return Array.isArray(s)},ArrayPrototypeIncludes(s,u){return s.includes(u)},ArrayPrototypeIndexOf(s,u){return s.indexOf(u)},ArrayPrototypeJoin(s,u){return s.join(u)},ArrayPrototypeMap(s,u){return s.map(u)},ArrayPrototypePop(s,u){return s.pop(u)},ArrayPrototypePush(s,u){return s.push(u)},ArrayPrototypeSlice(s,u,r){return s.slice(u,r)},Error,FunctionPrototypeCall(s,u,...r){return s.call(u,...r)},FunctionPrototypeSymbolHasInstance(s,u){return Function.prototype[Symbol.hasInstance].call(s,u)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(s,u){return Object.defineProperties(s,u)},ObjectDefineProperty(s,u,r){return Object.defineProperty(s,u,r)},ObjectGetOwnPropertyDescriptor(s,u){return Object.getOwnPropertyDescriptor(s,u)},ObjectKeys(s){return Object.keys(s)},ObjectSetPrototypeOf(s,u){return Object.setPrototypeOf(s,u)},Promise,PromisePrototypeCatch(s,u){return s.catch(u)},PromisePrototypeThen(s,u,r){return s.then(u,r)},PromiseReject(s){return Promise.reject(s)},PromiseResolve(s){return Promise.resolve(s)},ReflectApply:Reflect.apply,RegExpPrototypeTest(s,u){return s.test(u)},SafeSet:Set,String,StringPrototypeSlice(s,u,r){return s.slice(u,r)},StringPrototypeToLowerCase(s){return s.toLowerCase()},StringPrototypeToUpperCase(s){return s.toUpperCase()},StringPrototypeTrim(s){return s.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(s,u,r){return s.set(u,r)},Boolean,Uint8Array}}),Rs=de((f,a)=>{le(),ce(),ue(),a.exports={format(o,...s){return o.replace(/%([sdifj])/g,function(...[u,r]){let e=s.shift();return r==="f"?e.toFixed(6):r==="j"?JSON.stringify(e):r==="s"&&typeof e=="object"?`${e.constructor!==Object?e.constructor.name:""} {}`.trim():e.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}}}}),$e=de((f,a)=>{le(),ce(),ue();var{format:o,inspect:s}=Rs(),{AggregateError:u}=je(),r=globalThis.AggregateError||u,e=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],t=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",l={};function p(d,_){if(!d)throw new l.ERR_INTERNAL_ASSERTION(_)}function g(d){let _="",I=d.length,v=d[0]==="-"?1:0;for(;I>=v+4;I-=3)_=`_${d.slice(I-3,I)}${_}`;return`${d.slice(0,I)}${_}`}function m(d,_,I){if(typeof _=="function")return p(_.length<=I.length,`Code: ${d}; The provided arguments length (${I.length}) does not match the required ones (${_.length}).`),_(...I);let v=(_.match(/%[dfijoOs]/g)||[]).length;return p(v===I.length,`Code: ${d}; The provided arguments length (${I.length}) does not match the required ones (${v}).`),I.length===0?_:o(_,...I)}function h(d,_,I){I||(I=Error);class v extends I{constructor(...S){super(m(d,_,S))}toString(){return`${this.name} [${d}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${d}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=d,v.prototype[e]=!0,l[d]=v}function y(d){let _=i+d.name;return Object.defineProperty(d,"name",{value:_}),d}function b(d,_){if(d&&_&&d!==_){if(Array.isArray(_.errors))return _.errors.push(d),_;let I=new r([_,d],_.message);return I.code=_.code,I}return d||_}var E=class extends Error{constructor(d="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",_);super(d,_),this.code="ABORT_ERR",this.name="AbortError"}};h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(d,_,I)=>{p(typeof d=="string","'name' must be a string"),Array.isArray(_)||(_=[_]);let v="The ";d.endsWith(" argument")?v+=`${d} `:v+=`"${d}" ${d.includes(".")?"property":"argument"} `,v+="must be ";let A=[],S=[],T=[];for(let P of _)p(typeof P=="string","All expected entries have to be of type string"),n.includes(P)?A.push(P.toLowerCase()):t.test(P)?S.push(P):(p(P!=="object",'The value "object" should be written as "Object"'),T.push(P));if(S.length>0){let P=A.indexOf("object");P!==-1&&(A.splice(A,P,1),S.push("Object"))}if(A.length>0){switch(A.length){case 1:v+=`of type ${A[0]}`;break;case 2:v+=`one of type ${A[0]} or ${A[1]}`;break;default:{let P=A.pop();v+=`one of type ${A.join(", ")}, or ${P}`}}(S.length>0||T.length>0)&&(v+=" or ")}if(S.length>0){switch(S.length){case 1:v+=`an instance of ${S[0]}`;break;case 2:v+=`an instance of ${S[0]} or ${S[1]}`;break;default:{let P=S.pop();v+=`an instance of ${S.join(", ")}, or ${P}`}}T.length>0&&(v+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(v+="an "),v+=`${T[0]}`;break;case 2:v+=`one of ${T[0]} or ${T[1]}`;break;default:{let P=T.pop();v+=`one of ${T.join(", ")}, or ${P}`}}if(I==null)v+=`. Received ${I}`;else if(typeof I=="function"&&I.name)v+=`. Received function ${I.name}`;else if(typeof I=="object"){var C;if((C=I.constructor)!==null&&C!==void 0&&C.name)v+=`. Received an instance of ${I.constructor.name}`;else{let P=s(I,{depth:-1});v+=`. Received ${P}`}}else{let P=s(I,{colors:!1});P.length>25&&(P=`${P.slice(0,25)}...`),v+=`. Received type ${typeof I} (${P})`}return v},TypeError),h("ERR_INVALID_ARG_VALUE",(d,_,I="is invalid")=>{let v=s(_);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${d.includes(".")?"property":"argument"} '${d}' ${I}. Received ${v}`},TypeError),h("ERR_INVALID_RETURN_VALUE",(d,_,I)=>{var v;let A=I!=null&&(v=I.constructor)!==null&&v!==void 0&&v.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${d} to be returned from the "${_}" function but got ${A}.`},TypeError),h("ERR_MISSING_ARGS",(...d)=>{p(d.length>0,"At least one arg needs to be specified");let _,I=d.length;switch(d=(Array.isArray(d)?d:[d]).map(v=>`"${v}"`).join(" or "),I){case 1:_+=`The ${d[0]} argument`;break;case 2:_+=`The ${d[0]} and ${d[1]} arguments`;break;default:{let v=d.pop();_+=`The ${d.join(", ")}, and ${v} arguments`}break}return`${_} must be specified`},TypeError),h("ERR_OUT_OF_RANGE",(d,_,I)=>{p(_,'Missing "range" argument');let v;if(Number.isInteger(I)&&Math.abs(I)>2**32)v=g(String(I));else if(typeof I=="bigint"){v=String(I);let A=BigInt(2)**BigInt(32);(I>A||I<-A)&&(v=g(v)),v+="n"}else v=s(I);return`The value of "${d}" is out of range. It must be ${_}. Received ${v}`},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),a.exports={AbortError:E,aggregateTwoErrors:y(b),hideStackFrames:y,codes:l}}),Gt=de((f,a)=>{le(),ce(),ue();var{AbortController:o,AbortSignal:s}=typeof self<"u"?self:typeof window<"u"?window:void 0;a.exports=o,a.exports.AbortSignal=s,a.exports.default=o}),bt={};jt(bt,{EventEmitter:()=>Cs,default:()=>Rt,defaultMaxListeners:()=>Ms,init:()=>js,listenerCount:()=>Ns,on:()=>Ls,once:()=>Bs});function fl(){if(Hn)return zt;Hn=!0;var f=typeof Reflect=="object"?Reflect:null,a=f&&typeof f.apply=="function"?f.apply:function(I,v,A){return Function.prototype.apply.call(I,v,A)},o;f&&typeof f.ownKeys=="function"?o=f.ownKeys:Object.getOwnPropertySymbols?o=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:o=function(I){return Object.getOwnPropertyNames(I)};function s(I){console&&console.warn&&console.warn(I)}var u=Number.isNaN||function(I){return I!==I};function r(){r.init.call(this)}zt=r,zt.once=E,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var e=10;function n(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return e},set:function(I){if(typeof I!="number"||I<0||u(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");e=I}}),r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||u(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function t(I){return I._maxListeners===void 0?r.defaultMaxListeners:I._maxListeners}r.prototype.getMaxListeners=function(){return t(this)},r.prototype.emit=function(I){for(var v=[],A=1;A<arguments.length;A++)v.push(arguments[A]);var S=I==="error",T=this._events;if(T!==void 0)S=S&&T.error===void 0;else if(!S)return!1;if(S){var C;if(v.length>0&&(C=v[0]),C instanceof Error)throw C;var P=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw P.context=C,P}var U=T[I];if(U===void 0)return!1;if(typeof U=="function")a(U,this,v);else for(var O=U.length,q=h(U,O),A=0;A<O;++A)a(q[A],this,v);return!0};function i(I,v,A,S){var T,C,P;if(n(A),C=I._events,C===void 0?(C=I._events=Object.create(null),I._eventsCount=0):(C.newListener!==void 0&&(I.emit("newListener",v,A.listener?A.listener:A),C=I._events),P=C[v]),P===void 0)P=C[v]=A,++I._eventsCount;else if(typeof P=="function"?P=C[v]=S?[A,P]:[P,A]:S?P.unshift(A):P.push(A),T=t(I),T>0&&P.length>T&&!P.warned){P.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=I,U.type=v,U.count=P.length,s(U)}return I}r.prototype.addListener=function(I,v){return i(this,I,v,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(I,v){return i(this,I,v,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(I,v,A){var S={fired:!1,wrapFn:void 0,target:I,type:v,listener:A},T=l.bind(S);return T.listener=A,S.wrapFn=T,T}r.prototype.once=function(I,v){return n(v),this.on(I,p(this,I,v)),this},r.prototype.prependOnceListener=function(I,v){return n(v),this.prependListener(I,p(this,I,v)),this},r.prototype.removeListener=function(I,v){var A,S,T,C,P;if(n(v),S=this._events,S===void 0)return this;if(A=S[I],A===void 0)return this;if(A===v||A.listener===v)--this._eventsCount===0?this._events=Object.create(null):(delete S[I],S.removeListener&&this.emit("removeListener",I,A.listener||v));else if(typeof A!="function"){for(T=-1,C=A.length-1;C>=0;C--)if(A[C]===v||A[C].listener===v){P=A[C].listener,T=C;break}if(T<0)return this;T===0?A.shift():y(A,T),A.length===1&&(S[I]=A[0]),S.removeListener!==void 0&&this.emit("removeListener",I,P||v)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(I){var v,A,S;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[I]),this;if(arguments.length===0){var T=Object.keys(A),C;for(S=0;S<T.length;++S)C=T[S],C!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(v=A[I],typeof v=="function")this.removeListener(I,v);else if(v!==void 0)for(S=v.length-1;S>=0;S--)this.removeListener(I,v[S]);return this};function g(I,v,A){var S=I._events;if(S===void 0)return[];var T=S[v];return T===void 0?[]:typeof T=="function"?A?[T.listener||T]:[T]:A?b(T):h(T,T.length)}r.prototype.listeners=function(I){return g(this,I,!0)},r.prototype.rawListeners=function(I){return g(this,I,!1)},r.listenerCount=function(I,v){return typeof I.listenerCount=="function"?I.listenerCount(v):m.call(I,v)},r.prototype.listenerCount=m;function m(I){var v=this._events;if(v!==void 0){var A=v[I];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}r.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function h(I,v){for(var A=new Array(v),S=0;S<v;++S)A[S]=I[S];return A}function y(I,v){for(;v+1<I.length;v++)I[v]=I[v+1];I.pop()}function b(I){for(var v=new Array(I.length),A=0;A<v.length;++A)v[A]=I[A].listener||I[A];return v}function E(I,v){return new Promise(function(A,S){function T(P){I.removeListener(v,C),S(P)}function C(){typeof I.removeListener=="function"&&I.removeListener("error",T),A([].slice.call(arguments))}_(I,v,C,{once:!0}),v!=="error"&&d(I,T,{once:!0})})}function d(I,v,A){typeof I.on=="function"&&_(I,"error",v,A)}function _(I,v,A,S){if(typeof I.on=="function")S.once?I.once(v,A):I.on(v,A);else if(typeof I.addEventListener=="function")I.addEventListener(v,function T(C){S.once&&I.removeEventListener(v,T),A(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return zt}var zt,Hn,Rt,Cs,Ms,js,Ns,Ls,Bs,It=Ke(()=>{le(),ce(),ue(),zt={},Hn=!1,Rt=fl(),Rt.once,Rt.once=function(f,a){return new Promise((o,s)=>{function u(...e){r!==void 0&&f.removeListener("error",r),o(e)}let r;a!=="error"&&(r=e=>{f.removeListener(name,u),s(e)},f.once("error",r)),f.once(a,u)})},Rt.on=function(f,a){let o=[],s=[],u=null,r=!1,e={async next(){let i=o.shift();if(i)return createIterResult(i,!1);if(u){let l=Promise.reject(u);return u=null,l}return r?createIterResult(void 0,!0):new Promise((l,p)=>s.push({resolve:l,reject:p}))},async return(){f.removeListener(a,n),f.removeListener("error",t),r=!0;for(let i of s)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){u=i,f.removeListener(a,n),f.removeListener("error",t)},[Symbol.asyncIterator](){return this}};return f.on(a,n),f.on("error",t),e;function n(...i){let l=s.shift();l?l.resolve(createIterResult(i,!1)):o.push(i)}function t(i){r=!0;let l=s.shift();l?l.reject(i):u=i,e.return()}},{EventEmitter:Cs,defaultMaxListeners:Ms,init:js,listenerCount:Ns,on:Ls,once:Bs}=Rt}),ze=de((f,a)=>{le(),ce(),ue();var o=(Be(),Re(Le)),{format:s,inspect:u}=Rs(),{codes:{ERR_INVALID_ARG_TYPE:r}}=$e(),{kResistStopPropagation:e,AggregateError:n,SymbolDispose:t}=je(),i=globalThis.AbortSignal||Gt().AbortSignal,l=globalThis.AbortController||Gt().AbortController,p=Object.getPrototypeOf(async function(){}).constructor,g=globalThis.Blob||o.Blob,m=typeof g<"u"?function(b){return b instanceof g}:function(b){return!1},h=(b,E)=>{if(b!==void 0&&(b===null||typeof b!="object"||!("aborted"in b)))throw new r(E,"AbortSignal",b)},y=(b,E)=>{if(typeof b!="function")throw new r(E,"Function",b)};a.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(b){let E=!1;return function(...d){E||(E=!0,b.apply(this,d))}},createDeferredPromise:function(){let b,E;return{promise:new Promise((d,_)=>{b=d,E=_}),resolve:b,reject:E}},promisify(b){return new Promise((E,d)=>{b((_,...I)=>_?d(_):E(...I))})},debuglog(){return function(){}},format:s,inspect:u,types:{isAsyncFunction(b){return b instanceof p},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:m,deprecate(b,E){return b},addAbortListener:(It(),Re(bt)).addAbortListener||function(b,E){if(b===void 0)throw new r("signal","AbortSignal",b);h(b,"signal"),y(E,"listener");let d;return b.aborted?queueMicrotask(()=>E()):(b.addEventListener("abort",E,{__proto__:null,once:!0,[e]:!0}),d=()=>{b.removeEventListener("abort",E)}),{__proto__:null,[t](){var _;(_=d)===null||_===void 0||_()}}},AbortSignalAny:i.any||function(b){if(b.length===1)return b[0];let E=new l,d=()=>E.abort();return b.forEach(_=>{h(_,"signals"),_.addEventListener("abort",d,{once:!0})}),E.signal.addEventListener("abort",()=>{b.forEach(_=>_.removeEventListener("abort",d))},{once:!0}),E.signal}},a.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Qt=de((f,a)=>{le(),ce(),ue();var{ArrayIsArray:o,ArrayPrototypeIncludes:s,ArrayPrototypeJoin:u,ArrayPrototypeMap:r,NumberIsInteger:e,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:t,NumberMIN_SAFE_INTEGER:i,NumberParseInt:l,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:g,String:m,StringPrototypeToUpperCase:h,StringPrototypeTrim:y}=je(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:E,ERR_INVALID_ARG_TYPE:d,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:v}}=$e(),{normalizeEncoding:A}=ze(),{isAsyncFunction:S,isArrayBufferView:T}=ze().types,C={};function P($){return $===($|0)}function U($){return $===$>>>0}var O=/^[0-7]+$/,q="must be a 32-bit unsigned integer or an octal string";function D($,ge,ve){if(typeof $>"u"&&($=ve),typeof $=="string"){if(g(O,$)===null)throw new _(ge,$,q);$=l($,8)}return Q($,ge),$}var L=b(($,ge,ve=i,se=t)=>{if(typeof $!="number")throw new d(ge,"number",$);if(!e($))throw new I(ge,"an integer",$);if($<ve||$>se)throw new I(ge,`>= ${ve} && <= ${se}`,$)}),ae=b(($,ge,ve=-2147483648,se=2147483647)=>{if(typeof $!="number")throw new d(ge,"number",$);if(!e($))throw new I(ge,"an integer",$);if($<ve||$>se)throw new I(ge,`>= ${ve} && <= ${se}`,$)}),Q=b(($,ge,ve=!1)=>{if(typeof $!="number")throw new d(ge,"number",$);if(!e($))throw new I(ge,"an integer",$);let se=ve?1:0,Oe=4294967295;if($<se||$>Oe)throw new I(ge,`>= ${se} && <= ${Oe}`,$)});function V($,ge){if(typeof $!="string")throw new d(ge,"string",$)}function re($,ge,ve=void 0,se){if(typeof $!="number")throw new d(ge,"number",$);if(ve!=null&&$<ve||se!=null&&$>se||(ve!=null||se!=null)&&n($))throw new I(ge,`${ve!=null?`>= ${ve}`:""}${ve!=null&&se!=null?" && ":""}${se!=null?`<= ${se}`:""}`,$)}var F=b(($,ge,ve)=>{if(!s(ve,$)){let se="must be one of: "+u(r(ve,Oe=>typeof Oe=="string"?`'${Oe}'`:m(Oe)),", ");throw new _(ge,$,se)}});function Z($,ge){if(typeof $!="boolean")throw new d(ge,"boolean",$)}function R($,ge,ve){return $==null||!p($,ge)?ve:$[ge]}var J=b(($,ge,ve=null)=>{let se=R(ve,"allowArray",!1),Oe=R(ve,"allowFunction",!1);if(!R(ve,"nullable",!1)&&$===null||!se&&o($)||typeof $!="object"&&(!Oe||typeof $!="function"))throw new d(ge,"Object",$)}),be=b(($,ge)=>{if($!=null&&typeof $!="object"&&typeof $!="function")throw new d(ge,"a dictionary",$)}),te=b(($,ge,ve=0)=>{if(!o($))throw new d(ge,"Array",$);if($.length<ve){let se=`must be longer than ${ve}`;throw new _(ge,$,se)}});function we($,ge){te($,ge);for(let ve=0;ve<$.length;ve++)V($[ve],`${ge}[${ve}]`)}function H($,ge){te($,ge);for(let ve=0;ve<$.length;ve++)Z($[ve],`${ge}[${ve}]`)}function N($,ge){te($,ge);for(let ve=0;ve<$.length;ve++){let se=$[ve],Oe=`${ge}[${ve}]`;if(se==null)throw new d(Oe,"AbortSignal",se);ye(se,Oe)}}function ne($,ge="signal"){if(V($,ge),C[$]===void 0)throw C[h($)]!==void 0?new v($+" (signals must use all capital letters)"):new v($)}var z=b(($,ge="buffer")=>{if(!T($))throw new d(ge,["Buffer","TypedArray","DataView"],$)});function G($,ge){let ve=A(ge),se=$.length;if(ve==="hex"&&se%2!==0)throw new _("encoding",ge,`is invalid for data of length ${se}`)}function Y($,ge="Port",ve=!0){if(typeof $!="number"&&typeof $!="string"||typeof $=="string"&&y($).length===0||+$!==+$>>>0||$>65535||$===0&&!ve)throw new E(ge,$,ve);return $|0}var ye=b(($,ge)=>{if($!==void 0&&($===null||typeof $!="object"||!("aborted"in $)))throw new d(ge,"AbortSignal",$)}),oe=b(($,ge)=>{if(typeof $!="function")throw new d(ge,"Function",$)}),M=b(($,ge)=>{if(typeof $!="function"||S($))throw new d(ge,"Function",$)}),W=b(($,ge)=>{if($!==void 0)throw new d(ge,"undefined",$)});function ee($,ge,ve){if(!s(ve,$))throw new d(ge,`('${u(ve,"|")}')`,$)}var he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function pe($,ge){if(typeof $>"u"||!g(he,$))throw new _(ge,$,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function me($){if(typeof $=="string")return pe($,"hints"),$;if(o($)){let ge=$.length,ve="";if(ge===0)return ve;for(let se=0;se<ge;se++){let Oe=$[se];pe(Oe,"hints"),ve+=Oe,se!==ge-1&&(ve+=", ")}return ve}throw new _("hints",$,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}a.exports={isInt32:P,isUint32:U,parseFileMode:D,validateArray:te,validateStringArray:we,validateBooleanArray:H,validateAbortSignalArray:N,validateBoolean:Z,validateBuffer:z,validateDictionary:be,validateEncoding:G,validateFunction:oe,validateInt32:ae,validateInteger:L,validateNumber:re,validateObject:J,validateOneOf:F,validatePlainFunction:M,validatePort:Y,validateSignalName:ne,validateString:V,validateUint32:Q,validateUndefined:W,validateUnion:ee,validateAbortSignal:ye,validateLinkHeaderValue:me}}),xt=de((f,a)=>{le(),ce(),ue();var o=a.exports={},s,u;function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=r}catch{s=r}try{typeof clearTimeout=="function"?u=clearTimeout:u=e}catch{u=e}})();function n(E){if(s===setTimeout)return setTimeout(E,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(E,0);try{return s(E,0)}catch{try{return s.call(null,E,0)}catch{return s.call(this,E,0)}}}function t(E){if(u===clearTimeout)return clearTimeout(E);if((u===e||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(E);try{return u(E)}catch{try{return u.call(null,E)}catch{return u.call(this,E)}}}var i=[],l=!1,p,g=-1;function m(){!l||!p||(l=!1,p.length?i=p.concat(i):g=-1,i.length&&h())}function h(){if(!l){var E=n(m);l=!0;for(var d=i.length;d;){for(p=i,i=[];++g<d;)p&&p[g].run();g=-1,d=i.length}p=null,l=!1,t(E)}}o.nextTick=function(E){var d=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)d[_-1]=arguments[_];i.push(new y(E,d)),i.length===1&&!l&&n(h)};function y(E,d){this.fun=E,this.array=d}y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function b(){}o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(E){return[]},o.binding=function(E){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(E){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}),ut=de((f,a)=>{le(),ce(),ue();var{SymbolAsyncIterator:o,SymbolIterator:s,SymbolFor:u}=je(),r=u("nodejs.stream.destroyed"),e=u("nodejs.stream.errored"),n=u("nodejs.stream.readable"),t=u("nodejs.stream.writable"),i=u("nodejs.stream.disturbed"),l=u("nodejs.webstream.isClosedPromise"),p=u("nodejs.webstream.controllerErrorFunction");function g(R,J=!1){var be;return!!(R&&typeof R.pipe=="function"&&typeof R.on=="function"&&(!J||typeof R.pause=="function"&&typeof R.resume=="function")&&(!R._writableState||((be=R._readableState)===null||be===void 0?void 0:be.readable)!==!1)&&(!R._writableState||R._readableState))}function m(R){var J;return!!(R&&typeof R.write=="function"&&typeof R.on=="function"&&(!R._readableState||((J=R._writableState)===null||J===void 0?void 0:J.writable)!==!1))}function h(R){return!!(R&&typeof R.pipe=="function"&&R._readableState&&typeof R.on=="function"&&typeof R.write=="function")}function y(R){return R&&(R._readableState||R._writableState||typeof R.write=="function"&&typeof R.on=="function"||typeof R.pipe=="function"&&typeof R.on=="function")}function b(R){return!!(R&&!y(R)&&typeof R.pipeThrough=="function"&&typeof R.getReader=="function"&&typeof R.cancel=="function")}function E(R){return!!(R&&!y(R)&&typeof R.getWriter=="function"&&typeof R.abort=="function")}function d(R){return!!(R&&!y(R)&&typeof R.readable=="object"&&typeof R.writable=="object")}function _(R){return b(R)||E(R)||d(R)}function I(R,J){return R==null?!1:J===!0?typeof R[o]=="function":J===!1?typeof R[s]=="function":typeof R[o]=="function"||typeof R[s]=="function"}function v(R){if(!y(R))return null;let J=R._writableState,be=R._readableState,te=J||be;return!!(R.destroyed||R[r]||te!=null&&te.destroyed)}function A(R){if(!m(R))return null;if(R.writableEnded===!0)return!0;let J=R._writableState;return J!=null&&J.errored?!1:typeof J?.ended!="boolean"?null:J.ended}function S(R,J){if(!m(R))return null;if(R.writableFinished===!0)return!0;let be=R._writableState;return be!=null&&be.errored?!1:typeof be?.finished!="boolean"?null:!!(be.finished||J===!1&&be.ended===!0&&be.length===0)}function T(R){if(!g(R))return null;if(R.readableEnded===!0)return!0;let J=R._readableState;return!J||J.errored?!1:typeof J?.ended!="boolean"?null:J.ended}function C(R,J){if(!g(R))return null;let be=R._readableState;return be!=null&&be.errored?!1:typeof be?.endEmitted!="boolean"?null:!!(be.endEmitted||J===!1&&be.ended===!0&&be.length===0)}function P(R){return R&&R[n]!=null?R[n]:typeof R?.readable!="boolean"?null:v(R)?!1:g(R)&&R.readable&&!C(R)}function U(R){return R&&R[t]!=null?R[t]:typeof R?.writable!="boolean"?null:v(R)?!1:m(R)&&R.writable&&!A(R)}function O(R,J){return y(R)?v(R)?!0:!(J?.readable!==!1&&P(R)||J?.writable!==!1&&U(R)):null}function q(R){var J,be;return y(R)?R.writableErrored?R.writableErrored:(J=(be=R._writableState)===null||be===void 0?void 0:be.errored)!==null&&J!==void 0?J:null:null}function D(R){var J,be;return y(R)?R.readableErrored?R.readableErrored:(J=(be=R._readableState)===null||be===void 0?void 0:be.errored)!==null&&J!==void 0?J:null:null}function L(R){if(!y(R))return null;if(typeof R.closed=="boolean")return R.closed;let J=R._writableState,be=R._readableState;return typeof J?.closed=="boolean"||typeof be?.closed=="boolean"?J?.closed||be?.closed:typeof R._closed=="boolean"&&ae(R)?R._closed:null}function ae(R){return typeof R._closed=="boolean"&&typeof R._defaultKeepAlive=="boolean"&&typeof R._removedConnection=="boolean"&&typeof R._removedContLen=="boolean"}function Q(R){return typeof R._sent100=="boolean"&&ae(R)}function V(R){var J;return typeof R._consuming=="boolean"&&typeof R._dumped=="boolean"&&((J=R.req)===null||J===void 0?void 0:J.upgradeOrConnect)===void 0}function re(R){if(!y(R))return null;let J=R._writableState,be=R._readableState,te=J||be;return!te&&Q(R)||!!(te&&te.autoDestroy&&te.emitClose&&te.closed===!1)}function F(R){var J;return!!(R&&((J=R[i])!==null&&J!==void 0?J:R.readableDidRead||R.readableAborted))}function Z(R){var J,be,te,we,H,N,ne,z,G,Y;return!!(R&&((J=(be=(te=(we=(H=(N=R[e])!==null&&N!==void 0?N:R.readableErrored)!==null&&H!==void 0?H:R.writableErrored)!==null&&we!==void 0?we:(ne=R._readableState)===null||ne===void 0?void 0:ne.errorEmitted)!==null&&te!==void 0?te:(z=R._writableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&be!==void 0?be:(G=R._readableState)===null||G===void 0?void 0:G.errored)!==null&&J!==void 0?J:!((Y=R._writableState)===null||Y===void 0)&&Y.errored))}a.exports={isDestroyed:v,kIsDestroyed:r,isDisturbed:F,kIsDisturbed:i,isErrored:Z,kIsErrored:e,isReadable:P,kIsReadable:n,kIsClosedPromise:l,kControllerErrorFunction:p,kIsWritable:t,isClosed:L,isDuplexNodeStream:h,isFinished:O,isIterable:I,isReadableNodeStream:g,isReadableStream:b,isReadableEnded:T,isReadableFinished:C,isReadableErrored:D,isNodeStream:y,isWebStream:_,isWritable:U,isWritableNodeStream:m,isWritableStream:E,isWritableEnded:A,isWritableFinished:S,isWritableErrored:q,isServerRequest:V,isServerResponse:Q,willEmitClose:re,isTransformStream:d}}),mt=de((f,a)=>{le(),ce(),ue();var o=xt(),{AbortError:s,codes:u}=$e(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:e}=u,{kEmptyObject:n,once:t}=ze(),{validateAbortSignal:i,validateFunction:l,validateObject:p,validateBoolean:g}=Qt(),{Promise:m,PromisePrototypeThen:h,SymbolDispose:y}=je(),{isClosed:b,isReadable:E,isReadableNodeStream:d,isReadableStream:_,isReadableFinished:I,isReadableErrored:v,isWritable:A,isWritableNodeStream:S,isWritableStream:T,isWritableFinished:C,isWritableErrored:P,isNodeStream:U,willEmitClose:O,kIsClosedPromise:q}=ut(),D;function L(F){return F.setHeader&&typeof F.abort=="function"}var ae=()=>{};function Q(F,Z,R){var J,be;if(arguments.length===2?(R=Z,Z=n):Z==null?Z=n:p(Z,"options"),l(R,"callback"),i(Z.signal,"options.signal"),R=t(R),_(F)||T(F))return V(F,Z,R);if(!U(F))throw new r("stream",["ReadableStream","WritableStream","Stream"],F);let te=(J=Z.readable)!==null&&J!==void 0?J:d(F),we=(be=Z.writable)!==null&&be!==void 0?be:S(F),H=F._writableState,N=F._readableState,ne=()=>{F.writable||Y()},z=O(F)&&d(F)===te&&S(F)===we,G=C(F,!1),Y=()=>{G=!0,F.destroyed&&(z=!1),!(z&&(!F.readable||te))&&(!te||ye)&&R.call(F)},ye=I(F,!1),oe=()=>{ye=!0,F.destroyed&&(z=!1),!(z&&(!F.writable||we))&&(!we||G)&&R.call(F)},M=$=>{R.call(F,$)},W=b(F),ee=()=>{W=!0;let $=P(F)||v(F);if($&&typeof $!="boolean")return R.call(F,$);if(te&&!ye&&d(F,!0)&&!I(F,!1))return R.call(F,new e);if(we&&!G&&!C(F,!1))return R.call(F,new e);R.call(F)},he=()=>{W=!0;let $=P(F)||v(F);if($&&typeof $!="boolean")return R.call(F,$);R.call(F)},pe=()=>{F.req.on("finish",Y)};L(F)?(F.on("complete",Y),z||F.on("abort",ee),F.req?pe():F.on("request",pe)):we&&!H&&(F.on("end",ne),F.on("close",ne)),!z&&typeof F.aborted=="boolean"&&F.on("aborted",ee),F.on("end",oe),F.on("finish",Y),Z.error!==!1&&F.on("error",M),F.on("close",ee),W?o.nextTick(ee):H!=null&&H.errorEmitted||N!=null&&N.errorEmitted?z||o.nextTick(he):(!te&&(!z||E(F))&&(G||A(F)===!1)||!we&&(!z||A(F))&&(ye||E(F)===!1)||N&&F.req&&F.aborted)&&o.nextTick(he);let me=()=>{R=ae,F.removeListener("aborted",ee),F.removeListener("complete",Y),F.removeListener("abort",ee),F.removeListener("request",pe),F.req&&F.req.removeListener("finish",Y),F.removeListener("end",ne),F.removeListener("close",ne),F.removeListener("finish",Y),F.removeListener("end",oe),F.removeListener("error",M),F.removeListener("close",ee)};if(Z.signal&&!W){let $=()=>{let ge=R;me(),ge.call(F,new s(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)o.nextTick($);else{D=D||ze().addAbortListener;let ge=D(Z.signal,$),ve=R;R=t((...se)=>{ge[y](),ve.apply(F,se)})}}return me}function V(F,Z,R){let J=!1,be=ae;if(Z.signal)if(be=()=>{J=!0,R.call(F,new s(void 0,{cause:Z.signal.reason}))},Z.signal.aborted)o.nextTick(be);else{D=D||ze().addAbortListener;let we=D(Z.signal,be),H=R;R=t((...N)=>{we[y](),H.apply(F,N)})}let te=(...we)=>{J||o.nextTick(()=>R.apply(F,we))};return h(F[q].promise,te,te),ae}function re(F,Z){var R;let J=!1;return Z===null&&(Z=n),(R=Z)!==null&&R!==void 0&&R.cleanup&&(g(Z.cleanup,"cleanup"),J=Z.cleanup),new m((be,te)=>{let we=Q(F,Z,H=>{J&&we(),H?te(H):be()})})}a.exports=Q,a.exports.finished=re}),Nt=de((f,a)=>{le(),ce(),ue();var o=xt(),{aggregateTwoErrors:s,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:r}=$e(),{Symbol:e}=je(),{kIsDestroyed:n,isDestroyed:t,isFinished:i,isServerRequest:l}=ut(),p=e("kDestroy"),g=e("kConstruct");function m(O,q,D){O&&(O.stack,q&&!q.errored&&(q.errored=O),D&&!D.errored&&(D.errored=O))}function h(O,q){let D=this._readableState,L=this._writableState,ae=L||D;return L!=null&&L.destroyed||D!=null&&D.destroyed?(typeof q=="function"&&q(),this):(m(O,L,D),L&&(L.destroyed=!0),D&&(D.destroyed=!0),ae.constructed?y(this,O,q):this.once(p,function(Q){y(this,s(Q,O),q)}),this)}function y(O,q,D){let L=!1;function ae(Q){if(L)return;L=!0;let V=O._readableState,re=O._writableState;m(Q,re,V),re&&(re.closed=!0),V&&(V.closed=!0),typeof D=="function"&&D(Q),Q?o.nextTick(b,O,Q):o.nextTick(E,O)}try{O._destroy(q||null,ae)}catch(Q){ae(Q)}}function b(O,q){d(O,q),E(O)}function E(O){let q=O._readableState,D=O._writableState;D&&(D.closeEmitted=!0),q&&(q.closeEmitted=!0),(D!=null&&D.emitClose||q!=null&&q.emitClose)&&O.emit("close")}function d(O,q){let D=O._readableState,L=O._writableState;L!=null&&L.errorEmitted||D!=null&&D.errorEmitted||(L&&(L.errorEmitted=!0),D&&(D.errorEmitted=!0),O.emit("error",q))}function _(){let O=this._readableState,q=this._writableState;O&&(O.constructed=!0,O.closed=!1,O.closeEmitted=!1,O.destroyed=!1,O.errored=null,O.errorEmitted=!1,O.reading=!1,O.ended=O.readable===!1,O.endEmitted=O.readable===!1),q&&(q.constructed=!0,q.destroyed=!1,q.closed=!1,q.closeEmitted=!1,q.errored=null,q.errorEmitted=!1,q.finalCalled=!1,q.prefinished=!1,q.ended=q.writable===!1,q.ending=q.writable===!1,q.finished=q.writable===!1)}function I(O,q,D){let L=O._readableState,ae=O._writableState;if(ae!=null&&ae.destroyed||L!=null&&L.destroyed)return this;L!=null&&L.autoDestroy||ae!=null&&ae.autoDestroy?O.destroy(q):q&&(q.stack,ae&&!ae.errored&&(ae.errored=q),L&&!L.errored&&(L.errored=q),D?o.nextTick(d,O,q):d(O,q))}function v(O,q){if(typeof O._construct!="function")return;let D=O._readableState,L=O._writableState;D&&(D.constructed=!1),L&&(L.constructed=!1),O.once(g,q),!(O.listenerCount(g)>1)&&o.nextTick(A,O)}function A(O){let q=!1;function D(L){if(q){I(O,L??new u);return}q=!0;let ae=O._readableState,Q=O._writableState,V=Q||ae;ae&&(ae.constructed=!0),Q&&(Q.constructed=!0),V.destroyed?O.emit(p,L):L?I(O,L,!0):o.nextTick(S,O)}try{O._construct(L=>{o.nextTick(D,L)})}catch(L){o.nextTick(D,L)}}function S(O){O.emit(g)}function T(O){return O?.setHeader&&typeof O.abort=="function"}function C(O){O.emit("close")}function P(O,q){O.emit("error",q),o.nextTick(C,O)}function U(O,q){!O||t(O)||(!q&&!i(O)&&(q=new r),l(O)?(O.socket=null,O.destroy(q)):T(O)?O.abort():T(O.req)?O.req.abort():typeof O.destroy=="function"?O.destroy(q):typeof O.close=="function"?O.close():q?o.nextTick(P,O,q):o.nextTick(C,O),O.destroyed||(O[n]=!0))}a.exports={construct:v,destroyer:U,destroy:h,undestroy:_,errorOrDestroy:I}}),Wi=de((f,a)=>{le(),ce(),ue();var{ArrayIsArray:o,ObjectSetPrototypeOf:s}=je(),{EventEmitter:u}=(It(),Re(bt));function r(n){u.call(this,n)}s(r.prototype,u.prototype),s(r,u),r.prototype.pipe=function(n,t){let i=this;function l(E){n.writable&&n.write(E)===!1&&i.pause&&i.pause()}i.on("data",l);function p(){i.readable&&i.resume&&i.resume()}n.on("drain",p),!n._isStdio&&(!t||t.end!==!1)&&(i.on("end",m),i.on("close",h));let g=!1;function m(){g||(g=!0,n.end())}function h(){g||(g=!0,typeof n.destroy=="function"&&n.destroy())}function y(E){b(),u.listenerCount(this,"error")===0&&this.emit("error",E)}e(i,"error",y),e(n,"error",y);function b(){i.removeListener("data",l),n.removeListener("drain",p),i.removeListener("end",m),i.removeListener("close",h),i.removeListener("error",y),n.removeListener("error",y),i.removeListener("end",b),i.removeListener("close",b),n.removeListener("close",b)}return i.on("end",b),i.on("close",b),n.on("close",b),n.emit("pipe",i),n};function e(n,t,i){if(typeof n.prependListener=="function")return n.prependListener(t,i);!n._events||!n._events[t]?n.on(t,i):o(n._events[t])?n._events[t].unshift(i):n._events[t]=[i,n._events[t]]}a.exports={Stream:r,prependListener:e}}),Pr=de((f,a)=>{le(),ce(),ue();var{SymbolDispose:o}=je(),{AbortError:s,codes:u}=$e(),{isNodeStream:r,isWebStream:e,kControllerErrorFunction:n}=ut(),t=mt(),{ERR_INVALID_ARG_TYPE:i}=u,l,p=(g,m)=>{if(typeof g!="object"||!("aborted"in g))throw new i(m,"AbortSignal",g)};a.exports.addAbortSignal=function(g,m){if(p(g,"signal"),!r(m)&&!e(m))throw new i("stream",["ReadableStream","WritableStream","Stream"],m);return a.exports.addAbortSignalNoValidate(g,m)},a.exports.addAbortSignalNoValidate=function(g,m){if(typeof g!="object"||!("aborted"in g))return m;let h=r(m)?()=>{m.destroy(new s(void 0,{cause:g.reason}))}:()=>{m[n](new s(void 0,{cause:g.reason}))};if(g.aborted)h();else{l=l||ze().addAbortListener;let y=l(g,h);t(m,y[o])}return m}}),hl=de((f,a)=>{le(),ce(),ue();var{StringPrototypeSlice:o,SymbolIterator:s,TypedArrayPrototypeSet:u,Uint8Array:r}=je(),{Buffer:e}=(Be(),Re(Le)),{inspect:n}=ze();a.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(t){let i={data:t,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let i=this.head,l=""+i.data;for(;(i=i.next)!==null;)l+=t+i.data;return l}concat(t){if(this.length===0)return e.alloc(0);let i=e.allocUnsafe(t>>>0),l=this.head,p=0;for(;l;)u(i,l.data,p),p+=l.data.length,l=l.next;return i}consume(t,i){let l=this.head.data;if(t<l.length){let p=l.slice(0,t);return this.head.data=l.slice(t),p}return t===l.length?this.shift():i?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[s](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let i="",l=this.head,p=0;do{let g=l.data;if(t>g.length)i+=g,t-=g.length;else{t===g.length?(i+=g,++p,l.next?this.head=l.next:this.head=this.tail=null):(i+=o(g,0,t),this.head=l,l.data=o(g,t));break}++p}while((l=l.next)!==null);return this.length-=p,i}_getBuffer(t){let i=e.allocUnsafe(t),l=t,p=this.head,g=0;do{let m=p.data;if(t>m.length)u(i,m,l-t),t-=m.length;else{t===m.length?(u(i,m,l-t),++g,p.next?this.head=p.next:this.head=this.tail=null):(u(i,new r(m.buffer,m.byteOffset,t),l-t),this.head=p,p.data=m.slice(t));break}++g}while((p=p.next)!==null);return this.length-=g,i}[Symbol.for("nodejs.util.inspect.custom")](t,i){return n(this,{...i,depth:0,customInspect:!1})}}}),Rr=de((f,a)=>{le(),ce(),ue();var{MathFloor:o,NumberIsInteger:s}=je(),{validateInteger:u}=Qt(),{ERR_INVALID_ARG_VALUE:r}=$e().codes,e=16*1024,n=16;function t(g,m,h){return g.highWaterMark!=null?g.highWaterMark:m?g[h]:null}function i(g){return g?n:e}function l(g,m){u(m,"value",0),g?n=m:e=m}function p(g,m,h,y){let b=t(m,y,h);if(b!=null){if(!s(b)||b<0){let E=y?`options.${h}`:"options.highWaterMark";throw new r(E,b)}return o(b)}return i(g.objectMode)}a.exports={getHighWaterMark:p,getDefaultHighWaterMark:i,setDefaultHighWaterMark:l}}),pl=de((f,a)=>{le(),ce(),ue();var o=(Be(),Re(Le)),s=o.Buffer;function u(e,n){for(var t in e)n[t]=e[t]}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?a.exports=o:(u(o,f),f.Buffer=r);function r(e,n,t){return s(e,n,t)}r.prototype=Object.create(s.prototype),u(s,r),r.from=function(e,n,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return s(e,n,t)},r.alloc=function(e,n,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=s(e);return n!==void 0?typeof t=="string"?i.fill(n,t):i.fill(n):i.fill(0),i},r.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return s(e)},r.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}}),dl=de(f=>{le(),ce(),ue();var a=pl().Buffer,o=a.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(d){if(!d)return"utf8";for(var _;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(_)return;d=(""+d).toLowerCase(),_=!0}}function u(d){var _=s(d);if(typeof _!="string"&&(a.isEncoding===o||!o(d)))throw new Error("Unknown encoding: "+d);return _||d}f.StringDecoder=r;function r(d){this.encoding=u(d);var _;switch(this.encoding){case"utf16le":this.text=g,this.end=m,_=4;break;case"utf8":this.fillLast=i,_=4;break;case"base64":this.text=h,this.end=y,_=3;break;default:this.write=b,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(_)}r.prototype.write=function(d){if(d.length===0)return"";var _,I;if(this.lastNeed){if(_=this.fillLast(d),_===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<d.length?_?_+this.text(d,I):this.text(d,I):_||""},r.prototype.end=p,r.prototype.text=l,r.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function e(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function n(d,_,I){var v=_.length-1;if(v<I)return 0;var A=e(_[v]);return A>=0?(A>0&&(d.lastNeed=A-1),A):--v<I||A===-2?0:(A=e(_[v]),A>=0?(A>0&&(d.lastNeed=A-2),A):--v<I||A===-2?0:(A=e(_[v]),A>=0?(A>0&&(A===2?A=0:d.lastNeed=A-3),A):0))}function t(d,_,I){if((_[0]&192)!==128)return d.lastNeed=0,"";if(d.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return d.lastNeed=1,"";if(d.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return d.lastNeed=2,""}}function i(d){var _=this.lastTotal-this.lastNeed,I=t(this,d);if(I!==void 0)return I;if(this.lastNeed<=d.length)return d.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,_,0,d.length),this.lastNeed-=d.length}function l(d,_){var I=n(this,d,_);if(!this.lastNeed)return d.toString("utf8",_);this.lastTotal=I;var v=d.length-(I-this.lastNeed);return d.copy(this.lastChar,0,v),d.toString("utf8",_,v)}function p(d){var _=d&&d.length?this.write(d):"";return this.lastNeed?_+"":_}function g(d,_){if((d.length-_)%2===0){var I=d.toString("utf16le",_);if(I){var v=I.charCodeAt(I.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",_,d.length-1)}function m(d){var _=d&&d.length?this.write(d):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,I)}return _}function h(d,_){var I=(d.length-_)%3;return I===0?d.toString("base64",_):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",_,d.length-I))}function y(d){var _=d&&d.length?this.write(d):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function b(d){return d.toString(this.encoding)}function E(d){return d&&d.length?this.write(d):""}}),Us=de((f,a)=>{le(),ce(),ue();var o=xt(),{PromisePrototypeThen:s,SymbolAsyncIterator:u,SymbolIterator:r}=je(),{Buffer:e}=(Be(),Re(Le)),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:t}=$e().codes;function i(l,p,g){let m;if(typeof p=="string"||p instanceof e)return new l({objectMode:!0,...g,read(){this.push(p),this.push(null)}});let h;if(p&&p[u])h=!0,m=p[u]();else if(p&&p[r])h=!1,m=p[r]();else throw new n("iterable",["Iterable"],p);let y=new l({objectMode:!0,highWaterMark:1,...g}),b=!1;y._read=function(){b||(b=!0,d())},y._destroy=function(_,I){s(E(_),()=>o.nextTick(I,_),v=>o.nextTick(I,v||_))};async function E(_){let I=_!=null,v=typeof m.throw=="function";if(I&&v){let{value:A,done:S}=await m.throw(_);if(await A,S)return}if(typeof m.return=="function"){let{value:A}=await m.return();await A}}async function d(){for(;;){try{let{value:_,done:I}=h?await m.next():m.next();if(I)y.push(null);else{let v=_&&typeof _.then=="function"?await _:_;if(v===null)throw b=!1,new t;if(y.push(v))continue;b=!1}}catch(_){y.destroy(_)}break}}return y}a.exports=i}),Cr=de((f,a)=>{le(),ce(),ue();var o=xt(),{ArrayPrototypeIndexOf:s,NumberIsInteger:u,NumberIsNaN:r,NumberParseInt:e,ObjectDefineProperties:n,ObjectKeys:t,ObjectSetPrototypeOf:i,Promise:l,SafeSet:p,SymbolAsyncDispose:g,SymbolAsyncIterator:m,Symbol:h}=je();a.exports=se,se.ReadableState=ve;var{EventEmitter:y}=(It(),Re(bt)),{Stream:b,prependListener:E}=Wi(),{Buffer:d}=(Be(),Re(Le)),{addAbortSignal:_}=Pr(),I=mt(),v=ze().debuglog("stream",k=>{v=k}),A=hl(),S=Nt(),{getHighWaterMark:T,getDefaultHighWaterMark:C}=Rr(),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:U,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:q,ERR_STREAM_PUSH_AFTER_EOF:D,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:ae}=$e(),{validateObject:Q}=Qt(),V=h("kPaused"),{StringDecoder:re}=dl(),F=Us();i(se.prototype,b.prototype),i(se,b);var Z=()=>{},{errorOrDestroy:R}=S,J=1,be=2,te=4,we=8,H=16,N=32,ne=64,z=128,G=256,Y=512,ye=1024,oe=2048,M=4096,W=8192,ee=16384,he=32768,pe=65536,me=1<<17,$=1<<18;function ge(k){return{enumerable:!1,get(){return(this.state&k)!==0},set(j){j?this.state|=k:this.state&=~k}}}n(ve.prototype,{objectMode:ge(J),ended:ge(be),endEmitted:ge(te),reading:ge(we),constructed:ge(H),sync:ge(N),needReadable:ge(ne),emittedReadable:ge(z),readableListening:ge(G),resumeScheduled:ge(Y),errorEmitted:ge(ye),emitClose:ge(oe),autoDestroy:ge(M),destroyed:ge(W),closed:ge(ee),closeEmitted:ge(he),multiAwaitDrain:ge(pe),readingMore:ge(me),dataEmitted:ge($)});function ve(k,j,_e){typeof _e!="boolean"&&(_e=j instanceof at()),this.state=oe|M|H|N,k&&k.objectMode&&(this.state|=J),_e&&k&&k.readableObjectMode&&(this.state|=J),this.highWaterMark=k?T(this,k,"readableHighWaterMark",_e):C(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[V]=null,k&&k.emitClose===!1&&(this.state&=~oe),k&&k.autoDestroy===!1&&(this.state&=~M),this.errored=null,this.defaultEncoding=k&&k.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,k&&k.encoding&&(this.decoder=new re(k.encoding),this.encoding=k.encoding)}function se(k){if(!(this instanceof se))return new se(k);let j=this instanceof at();this._readableState=new ve(k,this,j),k&&(typeof k.read=="function"&&(this._read=k.read),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.construct=="function"&&(this._construct=k.construct),k.signal&&!j&&_(k.signal,this)),b.call(this,k),S.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}se.prototype.destroy=S.destroy,se.prototype._undestroy=S.undestroy,se.prototype._destroy=function(k,j){j(k)},se.prototype[y.captureRejectionSymbol]=function(k){this.destroy(k)},se.prototype[g]=function(){let k;return this.destroyed||(k=this.readableEnded?null:new ae,this.destroy(k)),new l((j,_e)=>I(this,Se=>Se&&Se!==k?_e(Se):j(null)))},se.prototype.push=function(k,j){return Oe(this,k,j,!1)},se.prototype.unshift=function(k,j){return Oe(this,k,j,!0)};function Oe(k,j,_e,Se){v("readableAddChunk",j);let Ae=k._readableState,Ne;if(!(Ae.state&J)&&(typeof j=="string"?(_e=_e||Ae.defaultEncoding,Ae.encoding!==_e&&(Se&&Ae.encoding?j=d.from(j,_e).toString(Ae.encoding):(j=d.from(j,_e),_e=""))):j instanceof d?_e="":b._isUint8Array(j)?(j=b._uint8ArrayToBuffer(j),_e=""):j!=null&&(Ne=new U("chunk",["string","Buffer","Uint8Array"],j))),Ne)R(k,Ne);else if(j===null)Ae.state&=~we,X(k,Ae);else if(Ae.state&J||j&&j.length>0)if(Se)if(Ae.state&te)R(k,new L);else{if(Ae.destroyed||Ae.errored)return!1;c(k,Ae,j,!0)}else if(Ae.ended)R(k,new D);else{if(Ae.destroyed||Ae.errored)return!1;Ae.state&=~we,Ae.decoder&&!_e?(j=Ae.decoder.write(j),Ae.objectMode||j.length!==0?c(k,Ae,j,!1):K(k,Ae)):c(k,Ae,j,!1)}else Se||(Ae.state&=~we,K(k,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.length===0)}function c(k,j,_e,Se){j.flowing&&j.length===0&&!j.sync&&k.listenerCount("data")>0?(j.state&pe?j.awaitDrainWriters.clear():j.awaitDrainWriters=null,j.dataEmitted=!0,k.emit("data",_e)):(j.length+=j.objectMode?1:_e.length,Se?j.buffer.unshift(_e):j.buffer.push(_e),j.state&ne&&fe(k)),K(k,j)}se.prototype.isPaused=function(){let k=this._readableState;return k[V]===!0||k.flowing===!1},se.prototype.setEncoding=function(k){let j=new re(k);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;let _e=this._readableState.buffer,Se="";for(let Ae of _e)Se+=j.write(Ae);return _e.clear(),Se!==""&&_e.push(Se),this._readableState.length=Se.length,this};var w=1073741824;function x(k){if(k>w)throw new q("size","<= 1GiB",k);return k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++,k}function B(k,j){return k<=0||j.length===0&&j.ended?0:j.state&J?1:r(k)?j.flowing&&j.length?j.buffer.first().length:j.length:k<=j.length?k:j.ended?j.length:0}se.prototype.read=function(k){v("read",k),k===void 0?k=NaN:u(k)||(k=e(k,10));let j=this._readableState,_e=k;if(k>j.highWaterMark&&(j.highWaterMark=x(k)),k!==0&&(j.state&=~z),k===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return v("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?Je(this):fe(this),null;if(k=B(k,j),k===0&&j.ended)return j.length===0&&Je(this),null;let Se=(j.state&ne)!==0;if(v("need readable",Se),(j.length===0||j.length-k<j.highWaterMark)&&(Se=!0,v("length less than watermark",Se)),j.ended||j.reading||j.destroyed||j.errored||!j.constructed)Se=!1,v("reading, ended or constructing",Se);else if(Se){v("do read"),j.state|=we|N,j.length===0&&(j.state|=ne);try{this._read(j.highWaterMark)}catch(Ne){R(this,Ne)}j.state&=~N,j.reading||(k=B(_e,j))}let Ae;return k>0?Ae=Ot(k,j):Ae=null,Ae===null?(j.needReadable=j.length<=j.highWaterMark,k=0):(j.length-=k,j.multiAwaitDrain?j.awaitDrainWriters.clear():j.awaitDrainWriters=null),j.length===0&&(j.ended||(j.needReadable=!0),_e!==k&&j.ended&&Je(this)),Ae!==null&&!j.errorEmitted&&!j.closeEmitted&&(j.dataEmitted=!0,this.emit("data",Ae)),Ae};function X(k,j){if(v("onEofChunk"),!j.ended){if(j.decoder){let _e=j.decoder.end();_e&&_e.length&&(j.buffer.push(_e),j.length+=j.objectMode?1:_e.length)}j.ended=!0,j.sync?fe(k):(j.needReadable=!1,j.emittedReadable=!0,Ee(k))}}function fe(k){let j=k._readableState;v("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(v("emitReadable",j.flowing),j.emittedReadable=!0,o.nextTick(Ee,k))}function Ee(k){let j=k._readableState;v("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&!j.errored&&(j.length||j.ended)&&(k.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Qe(k)}function K(k,j){!j.readingMore&&j.constructed&&(j.readingMore=!0,o.nextTick(ie,k,j))}function ie(k,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){let _e=j.length;if(v("maybeReadMore read 0"),k.read(0),_e===j.length)break}j.readingMore=!1}se.prototype._read=function(k){throw new O("_read()")},se.prototype.pipe=function(k,j){let _e=this,Se=this._readableState;Se.pipes.length===1&&(Se.multiAwaitDrain||(Se.multiAwaitDrain=!0,Se.awaitDrainWriters=new p(Se.awaitDrainWriters?[Se.awaitDrainWriters]:[]))),Se.pipes.push(k),v("pipe count=%d opts=%j",Se.pipes.length,j);let Ae=(!j||j.end!==!1)&&k!==o.stdout&&k!==o.stderr?qe:wt;Se.endEmitted?o.nextTick(Ae):_e.once("end",Ae),k.on("unpipe",Ne);function Ne(Ze,rt){v("onunpipe"),Ze===_e&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,Ft())}function qe(){v("onend"),k.end()}let He,Dt=!1;function Ft(){v("cleanup"),k.removeListener("close",Xe),k.removeListener("finish",ht),He&&k.removeListener("drain",He),k.removeListener("error",vt),k.removeListener("unpipe",Ne),_e.removeListener("end",qe),_e.removeListener("end",wt),_e.removeListener("data",Xt),Dt=!0,He&&Se.awaitDrainWriters&&(!k._writableState||k._writableState.needDrain)&&He()}function Wt(){Dt||(Se.pipes.length===1&&Se.pipes[0]===k?(v("false write response, pause",0),Se.awaitDrainWriters=k,Se.multiAwaitDrain=!1):Se.pipes.length>1&&Se.pipes.includes(k)&&(v("false write response, pause",Se.awaitDrainWriters.size),Se.awaitDrainWriters.add(k)),_e.pause()),He||(He=Ie(_e,k),k.on("drain",He))}_e.on("data",Xt);function Xt(Ze){v("ondata");let rt=k.write(Ze);v("dest.write",rt),rt===!1&&Wt()}function vt(Ze){if(v("onerror",Ze),wt(),k.removeListener("error",vt),k.listenerCount("error")===0){let rt=k._writableState||k._readableState;rt&&!rt.errorEmitted?R(k,Ze):k.emit("error",Ze)}}E(k,"error",vt);function Xe(){k.removeListener("finish",ht),wt()}k.once("close",Xe);function ht(){v("onfinish"),k.removeListener("close",Xe),wt()}k.once("finish",ht);function wt(){v("unpipe"),_e.unpipe(k)}return k.emit("pipe",_e),k.writableNeedDrain===!0?Wt():Se.flowing||(v("pipe resume"),_e.resume()),k};function Ie(k,j){return function(){let _e=k._readableState;_e.awaitDrainWriters===j?(v("pipeOnDrain",1),_e.awaitDrainWriters=null):_e.multiAwaitDrain&&(v("pipeOnDrain",_e.awaitDrainWriters.size),_e.awaitDrainWriters.delete(j)),(!_e.awaitDrainWriters||_e.awaitDrainWriters.size===0)&&k.listenerCount("data")&&k.resume()}}se.prototype.unpipe=function(k){let j=this._readableState,_e={hasUnpiped:!1};if(j.pipes.length===0)return this;if(!k){let Ae=j.pipes;j.pipes=[],this.pause();for(let Ne=0;Ne<Ae.length;Ne++)Ae[Ne].emit("unpipe",this,{hasUnpiped:!1});return this}let Se=s(j.pipes,k);return Se===-1?this:(j.pipes.splice(Se,1),j.pipes.length===0&&this.pause(),k.emit("unpipe",this,_e),this)},se.prototype.on=function(k,j){let _e=b.prototype.on.call(this,k,j),Se=this._readableState;return k==="data"?(Se.readableListening=this.listenerCount("readable")>0,Se.flowing!==!1&&this.resume()):k==="readable"&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,v("on readable",Se.length,Se.reading),Se.length?fe(this):Se.reading||o.nextTick(Te,this)),_e},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(k,j){let _e=b.prototype.removeListener.call(this,k,j);return k==="readable"&&o.nextTick(xe,this),_e},se.prototype.off=se.prototype.removeListener,se.prototype.removeAllListeners=function(k){let j=b.prototype.removeAllListeners.apply(this,arguments);return(k==="readable"||k===void 0)&&o.nextTick(xe,this),j};function xe(k){let j=k._readableState;j.readableListening=k.listenerCount("readable")>0,j.resumeScheduled&&j[V]===!1?j.flowing=!0:k.listenerCount("data")>0?k.resume():j.readableListening||(j.flowing=null)}function Te(k){v("readable nexttick read 0"),k.read(0)}se.prototype.resume=function(){let k=this._readableState;return k.flowing||(v("resume"),k.flowing=!k.readableListening,ke(this,k)),k[V]=!1,this};function ke(k,j){j.resumeScheduled||(j.resumeScheduled=!0,o.nextTick(Ge,k,j))}function Ge(k,j){v("resume",j.reading),j.reading||k.read(0),j.resumeScheduled=!1,k.emit("resume"),Qe(k),j.flowing&&!j.reading&&k.read(0)}se.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[V]=!0,this};function Qe(k){let j=k._readableState;for(v("flow",j.flowing);j.flowing&&k.read()!==null;);}se.prototype.wrap=function(k){let j=!1;k.on("data",Se=>{!this.push(Se)&&k.pause&&(j=!0,k.pause())}),k.on("end",()=>{this.push(null)}),k.on("error",Se=>{R(this,Se)}),k.on("close",()=>{this.destroy()}),k.on("destroy",()=>{this.destroy()}),this._read=()=>{j&&k.resume&&(j=!1,k.resume())};let _e=t(k);for(let Se=1;Se<_e.length;Se++){let Ae=_e[Se];this[Ae]===void 0&&typeof k[Ae]=="function"&&(this[Ae]=k[Ae].bind(k))}return this},se.prototype[m]=function(){return Ue(this)},se.prototype.iterator=function(k){return k!==void 0&&Q(k,"options"),Ue(this,k)};function Ue(k,j){typeof k.read!="function"&&(k=se.wrap(k,{objectMode:!0}));let _e=Ye(k,j);return _e.stream=k,_e}async function*Ye(k,j){let _e=Z;function Se(qe){this===k?(_e(),_e=Z):_e=qe}k.on("readable",Se);let Ae,Ne=I(k,{writable:!1},qe=>{Ae=qe?P(Ae,qe):null,_e(),_e=Z});try{for(;;){let qe=k.destroyed?null:k.read();if(qe!==null)yield qe;else{if(Ae)throw Ae;if(Ae===null)return;await new l(Se)}}}catch(qe){throw Ae=P(Ae,qe),Ae}finally{(Ae||j?.destroyOnReturn!==!1)&&(Ae===void 0||k._readableState.autoDestroy)?S.destroyer(k,null):(k.off("readable",Se),Ne())}}n(se.prototype,{readable:{__proto__:null,get(){let k=this._readableState;return!!k&&k.readable!==!1&&!k.destroyed&&!k.errorEmitted&&!k.endEmitted},set(k){this._readableState&&(this._readableState.readable=!!k)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(k){this._readableState&&(this._readableState.destroyed=k)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),n(ve.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[V]!==!1},set(k){this[V]=!!k}}}),se._fromList=Ot;function Ot(k,j){if(j.length===0)return null;let _e;return j.objectMode?_e=j.buffer.shift():!k||k>=j.length?(j.decoder?_e=j.buffer.join(""):j.buffer.length===1?_e=j.buffer.first():_e=j.buffer.concat(j.length),j.buffer.clear()):_e=j.buffer.consume(k,j.decoder),_e}function Je(k){let j=k._readableState;v("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,o.nextTick(Ve,j,k))}function Ve(k,j){if(v("endReadableNT",k.endEmitted,k.length),!k.errored&&!k.closeEmitted&&!k.endEmitted&&k.length===0){if(k.endEmitted=!0,j.emit("end"),j.writable&&j.allowHalfOpen===!1)o.nextTick(Jt,j);else if(k.autoDestroy){let _e=j._writableState;(!_e||_e.autoDestroy&&(_e.finished||_e.writable===!1))&&j.destroy()}}}function Jt(k){k.writable&&!k.writableEnded&&!k.destroyed&&k.end()}se.from=function(k,j){return F(se,k,j)};var kt;function Ut(){return kt===void 0&&(kt={}),kt}se.fromWeb=function(k,j){return Ut().newStreamReadableFromReadableStream(k,j)},se.toWeb=function(k,j){return Ut().newReadableStreamFromStreamReadable(k,j)},se.wrap=function(k,j){var _e,Se;return new se({objectMode:(_e=(Se=k.readableObjectMode)!==null&&Se!==void 0?Se:k.objectMode)!==null&&_e!==void 0?_e:!0,...j,destroy(Ae,Ne){S.destroyer(k,Ae),Ne(Ae)}}).wrap(k)}}),qi=de((f,a)=>{le(),ce(),ue();var o=xt(),{ArrayPrototypeSlice:s,Error:u,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:e,ObjectDefineProperties:n,ObjectSetPrototypeOf:t,StringPrototypeToLowerCase:i,Symbol:l,SymbolHasInstance:p}=je();a.exports=Q,Q.WritableState=L;var{EventEmitter:g}=(It(),Re(bt)),m=Wi().Stream,{Buffer:h}=(Be(),Re(Le)),y=Nt(),{addAbortSignal:b}=Pr(),{getHighWaterMark:E,getDefaultHighWaterMark:d}=Rr(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:P,ERR_UNKNOWN_ENCODING:U}=$e().codes,{errorOrDestroy:O}=y;t(Q.prototype,m.prototype),t(Q,m);function q(){}var D=l("kOnFinished");function L(M,W,ee){typeof ee!="boolean"&&(ee=W instanceof at()),this.objectMode=!!(M&&M.objectMode),ee&&(this.objectMode=this.objectMode||!!(M&&M.writableObjectMode)),this.highWaterMark=M?E(this,M,"writableHighWaterMark",ee):d(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let he=!!(M&&M.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=R.bind(void 0,W),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ae(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!M||M.emitClose!==!1,this.autoDestroy=!M||M.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function ae(M){M.buffered=[],M.bufferedIndex=0,M.allBuffers=!0,M.allNoop=!0}L.prototype.getBuffer=function(){return s(this.buffered,this.bufferedIndex)},e(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Q(M){let W=this instanceof at();if(!W&&!r(Q,this))return new Q(M);this._writableState=new L(M,this,W),M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final),typeof M.construct=="function"&&(this._construct=M.construct),M.signal&&b(M.signal,this)),m.call(this,M),y.construct(this,()=>{let ee=this._writableState;ee.writing||we(this,ee),z(this,ee)})}e(Q,p,{__proto__:null,value:function(M){return r(this,M)?!0:this!==Q?!1:M&&M._writableState instanceof L}}),Q.prototype.pipe=function(){O(this,new A)};function V(M,W,ee,he){let pe=M._writableState;if(typeof ee=="function")he=ee,ee=pe.defaultEncoding;else{if(!ee)ee=pe.defaultEncoding;else if(ee!=="buffer"&&!h.isEncoding(ee))throw new U(ee);typeof he!="function"&&(he=q)}if(W===null)throw new C;if(!pe.objectMode)if(typeof W=="string")pe.decodeStrings!==!1&&(W=h.from(W,ee),ee="buffer");else if(W instanceof h)ee="buffer";else if(m._isUint8Array(W))W=m._uint8ArrayToBuffer(W),ee="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],W);let me;return pe.ending?me=new P:pe.destroyed&&(me=new S("write")),me?(o.nextTick(he,me),O(M,me,!0),me):(pe.pendingcb++,re(M,pe,W,ee,he))}Q.prototype.write=function(M,W,ee){return V(this,M,W,ee)===!0},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){let M=this._writableState;M.corked&&(M.corked--,M.writing||we(this,M))},Q.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=i(M)),!h.isEncoding(M))throw new U(M);return this._writableState.defaultEncoding=M,this};function re(M,W,ee,he,pe){let me=W.objectMode?1:ee.length;W.length+=me;let $=W.length<W.highWaterMark;return $||(W.needDrain=!0),W.writing||W.corked||W.errored||!W.constructed?(W.buffered.push({chunk:ee,encoding:he,callback:pe}),W.allBuffers&&he!=="buffer"&&(W.allBuffers=!1),W.allNoop&&pe!==q&&(W.allNoop=!1)):(W.writelen=me,W.writecb=pe,W.writing=!0,W.sync=!0,M._write(ee,he,W.onwrite),W.sync=!1),$&&!W.errored&&!W.destroyed}function F(M,W,ee,he,pe,me,$){W.writelen=he,W.writecb=$,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new S("write")):ee?M._writev(pe,W.onwrite):M._write(pe,me,W.onwrite),W.sync=!1}function Z(M,W,ee,he){--W.pendingcb,he(ee),te(W),O(M,ee)}function R(M,W){let ee=M._writableState,he=ee.sync,pe=ee.writecb;if(typeof pe!="function"){O(M,new v);return}ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,W?(W.stack,ee.errored||(ee.errored=W),M._readableState&&!M._readableState.errored&&(M._readableState.errored=W),he?o.nextTick(Z,M,ee,W,pe):Z(M,ee,W,pe)):(ee.buffered.length>ee.bufferedIndex&&we(M,ee),he?ee.afterWriteTickInfo!==null&&ee.afterWriteTickInfo.cb===pe?ee.afterWriteTickInfo.count++:(ee.afterWriteTickInfo={count:1,cb:pe,stream:M,state:ee},o.nextTick(J,ee.afterWriteTickInfo)):be(M,ee,1,pe))}function J({stream:M,state:W,count:ee,cb:he}){return W.afterWriteTickInfo=null,be(M,W,ee,he)}function be(M,W,ee,he){for(!W.ending&&!M.destroyed&&W.length===0&&W.needDrain&&(W.needDrain=!1,M.emit("drain"));ee-- >0;)W.pendingcb--,he();W.destroyed&&te(W),z(M,W)}function te(M){if(M.writing)return;for(let pe=M.bufferedIndex;pe<M.buffered.length;++pe){var W;let{chunk:me,callback:$}=M.buffered[pe],ge=M.objectMode?1:me.length;M.length-=ge,$((W=M.errored)!==null&&W!==void 0?W:new S("write"))}let ee=M[D].splice(0);for(let pe=0;pe<ee.length;pe++){var he;ee[pe]((he=M.errored)!==null&&he!==void 0?he:new S("end"))}ae(M)}function we(M,W){if(W.corked||W.bufferProcessing||W.destroyed||!W.constructed)return;let{buffered:ee,bufferedIndex:he,objectMode:pe}=W,me=ee.length-he;if(!me)return;let $=he;if(W.bufferProcessing=!0,me>1&&M._writev){W.pendingcb-=me-1;let ge=W.allNoop?q:se=>{for(let Oe=$;Oe<ee.length;++Oe)ee[Oe].callback(se)},ve=W.allNoop&&$===0?ee:s(ee,$);ve.allBuffers=W.allBuffers,F(M,W,!0,W.length,ve,"",ge),ae(W)}else{do{let{chunk:ge,encoding:ve,callback:se}=ee[$];ee[$++]=null;let Oe=pe?1:ge.length;F(M,W,!1,Oe,ge,ve,se)}while($<ee.length&&!W.writing);$===ee.length?ae(W):$>256?(ee.splice(0,$),W.bufferedIndex=0):W.bufferedIndex=$}W.bufferProcessing=!1}Q.prototype._write=function(M,W,ee){if(this._writev)this._writev([{chunk:M,encoding:W}],ee);else throw new I("_write()")},Q.prototype._writev=null,Q.prototype.end=function(M,W,ee){let he=this._writableState;typeof M=="function"?(ee=M,M=null,W=null):typeof W=="function"&&(ee=W,W=null);let pe;if(M!=null){let me=V(this,M,W);me instanceof u&&(pe=me)}return he.corked&&(he.corked=1,this.uncork()),pe||(!he.errored&&!he.ending?(he.ending=!0,z(this,he,!0),he.ended=!0):he.finished?pe=new T("end"):he.destroyed&&(pe=new S("end"))),typeof ee=="function"&&(pe||he.finished?o.nextTick(ee,pe):he[D].push(ee)),this};function H(M){return M.ending&&!M.destroyed&&M.constructed&&M.length===0&&!M.errored&&M.buffered.length===0&&!M.finished&&!M.writing&&!M.errorEmitted&&!M.closeEmitted}function N(M,W){let ee=!1;function he(pe){if(ee){O(M,pe??v());return}if(ee=!0,W.pendingcb--,pe){let me=W[D].splice(0);for(let $=0;$<me.length;$++)me[$](pe);O(M,pe,W.sync)}else H(W)&&(W.prefinished=!0,M.emit("prefinish"),W.pendingcb++,o.nextTick(G,M,W))}W.sync=!0,W.pendingcb++;try{M._final(he)}catch(pe){he(pe)}W.sync=!1}function ne(M,W){!W.prefinished&&!W.finalCalled&&(typeof M._final=="function"&&!W.destroyed?(W.finalCalled=!0,N(M,W)):(W.prefinished=!0,M.emit("prefinish")))}function z(M,W,ee){H(W)&&(ne(M,W),W.pendingcb===0&&(ee?(W.pendingcb++,o.nextTick((he,pe)=>{H(pe)?G(he,pe):pe.pendingcb--},M,W)):H(W)&&(W.pendingcb++,G(M,W))))}function G(M,W){W.pendingcb--,W.finished=!0;let ee=W[D].splice(0);for(let he=0;he<ee.length;he++)ee[he]();if(M.emit("finish"),W.autoDestroy){let he=M._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&M.destroy()}}n(Q.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(M){this._writableState&&(this._writableState.destroyed=M)}},writable:{__proto__:null,get(){let M=this._writableState;return!!M&&M.writable!==!1&&!M.destroyed&&!M.errored&&!M.ending&&!M.ended},set(M){this._writableState&&(this._writableState.writable=!!M)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let M=this._writableState;return M?!M.destroyed&&!M.ending&&M.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Y=y.destroy;Q.prototype.destroy=function(M,W){let ee=this._writableState;return!ee.destroyed&&(ee.bufferedIndex<ee.buffered.length||ee[D].length)&&o.nextTick(te,ee),Y.call(this,M,W),this},Q.prototype._undestroy=y.undestroy,Q.prototype._destroy=function(M,W){W(M)},Q.prototype[g.captureRejectionSymbol]=function(M){this.destroy(M)};var ye;function oe(){return ye===void 0&&(ye={}),ye}Q.fromWeb=function(M,W){return oe().newStreamWritableFromWritableStream(M,W)},Q.toWeb=function(M){return oe().newWritableStreamFromStreamWritable(M)}}),gl=de((f,a)=>{le(),ce(),ue();var o=xt(),s=(Be(),Re(Le)),{isReadable:u,isWritable:r,isIterable:e,isNodeStream:n,isReadableNodeStream:t,isWritableNodeStream:i,isDuplexNodeStream:l,isReadableStream:p,isWritableStream:g}=ut(),m=mt(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:b}}=$e(),{destroyer:E}=Nt(),d=at(),_=Cr(),I=qi(),{createDeferredPromise:v}=ze(),A=Us(),S=globalThis.Blob||s.Blob,T=typeof S<"u"?function(D){return D instanceof S}:function(D){return!1},C=globalThis.AbortController||Gt().AbortController,{FunctionPrototypeCall:P}=je(),U=class extends d{constructor(D){super(D),D?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),D?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};a.exports=function D(L,ae){if(l(L))return L;if(t(L))return q({readable:L});if(i(L))return q({writable:L});if(n(L))return q({writable:!1,readable:!1});if(p(L))return q({readable:_.fromWeb(L)});if(g(L))return q({writable:I.fromWeb(L)});if(typeof L=="function"){let{value:V,write:re,final:F,destroy:Z}=O(L);if(e(V))return A(U,V,{objectMode:!0,write:re,final:F,destroy:Z});let R=V?.then;if(typeof R=="function"){let J,be=P(R,V,te=>{if(te!=null)throw new b("nully","body",te)},te=>{E(J,te)});return J=new U({objectMode:!0,readable:!1,write:re,final(te){F(async()=>{try{await be,o.nextTick(te,null)}catch(we){o.nextTick(te,we)}})},destroy:Z})}throw new b("Iterable, AsyncIterable or AsyncFunction",ae,V)}if(T(L))return D(L.arrayBuffer());if(e(L))return A(U,L,{objectMode:!0,writable:!1});if(p(L?.readable)&&g(L?.writable))return U.fromWeb(L);if(typeof L?.writable=="object"||typeof L?.readable=="object"){let V=L!=null&&L.readable?t(L?.readable)?L?.readable:D(L.readable):void 0,re=L!=null&&L.writable?i(L?.writable)?L?.writable:D(L.writable):void 0;return q({readable:V,writable:re})}let Q=L?.then;if(typeof Q=="function"){let V;return P(Q,L,re=>{re!=null&&V.push(re),V.push(null)},re=>{E(V,re)}),V=new U({objectMode:!0,writable:!1,read(){}})}throw new y(ae,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],L)};function O(D){let{promise:L,resolve:ae}=v(),Q=new C,V=Q.signal;return{value:D(async function*(){for(;;){let re=L;L=null;let{chunk:F,done:Z,cb:R}=await re;if(o.nextTick(R),Z)return;if(V.aborted)throw new h(void 0,{cause:V.reason});({promise:L,resolve:ae}=v()),yield F}}(),{signal:V}),write(re,F,Z){let R=ae;ae=null,R({chunk:re,done:!1,cb:Z})},final(re){let F=ae;ae=null,F({done:!0,cb:re})},destroy(re,F){Q.abort(),F(re)}}}function q(D){let L=D.readable&&typeof D.readable.read!="function"?_.wrap(D.readable):D.readable,ae=D.writable,Q=!!u(L),V=!!r(ae),re,F,Z,R,J;function be(te){let we=R;R=null,we?we(te):te&&J.destroy(te)}return J=new U({readableObjectMode:!!(L!=null&&L.readableObjectMode),writableObjectMode:!!(ae!=null&&ae.writableObjectMode),readable:Q,writable:V}),V&&(m(ae,te=>{V=!1,te&&E(L,te),be(te)}),J._write=function(te,we,H){ae.write(te,we)?H():re=H},J._final=function(te){ae.end(),F=te},ae.on("drain",function(){if(re){let te=re;re=null,te()}}),ae.on("finish",function(){if(F){let te=F;F=null,te()}})),Q&&(m(L,te=>{Q=!1,te&&E(L,te),be(te)}),L.on("readable",function(){if(Z){let te=Z;Z=null,te()}}),L.on("end",function(){J.push(null)}),J._read=function(){for(;;){let te=L.read();if(te===null){Z=J._read;return}if(!J.push(te))return}}),J._destroy=function(te,we){!te&&R!==null&&(te=new h),Z=null,re=null,F=null,R===null?we(te):(R=we,E(ae,te),E(L,te))},J}}),at=de((f,a)=>{le(),ce(),ue();var{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:u,ObjectSetPrototypeOf:r}=je();a.exports=t;var e=Cr(),n=qi();r(t.prototype,e.prototype),r(t,e);{let g=u(n.prototype);for(let m=0;m<g.length;m++){let h=g[m];t.prototype[h]||(t.prototype[h]=n.prototype[h])}}function t(g){if(!(this instanceof t))return new t(g);e.call(this,g),n.call(this,g),g?(this.allowHalfOpen=g.allowHalfOpen!==!1,g.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),g.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}o(t.prototype,{writable:{__proto__:null,...s(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(n.prototype,"writableLength")},writableFinished:{__proto__:null,...s(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(g){this._readableState&&this._writableState&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}});var i;function l(){return i===void 0&&(i={}),i}t.fromWeb=function(g,m){return l().newStreamDuplexFromReadableWritablePair(g,m)},t.toWeb=function(g){return l().newReadableWritablePairFromDuplex(g)};var p;t.from=function(g){return p||(p=gl()),p(g,"body")}}),Ds=de((f,a)=>{le(),ce(),ue();var{ObjectSetPrototypeOf:o,Symbol:s}=je();a.exports=t;var{ERR_METHOD_NOT_IMPLEMENTED:u}=$e().codes,r=at(),{getHighWaterMark:e}=Rr();o(t.prototype,r.prototype),o(t,r);var n=s("kCallback");function t(p){if(!(this instanceof t))return new t(p);let g=p?e(this,p,"readableHighWaterMark",!0):null;g===0&&(p={...p,highWaterMark:null,readableHighWaterMark:g,writableHighWaterMark:p.writableHighWaterMark||0}),r.call(this,p),this._readableState.sync=!1,this[n]=null,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",l)}function i(p){typeof this._flush=="function"&&!this.destroyed?this._flush((g,m)=>{if(g){p?p(g):this.destroy(g);return}m!=null&&this.push(m),this.push(null),p&&p()}):(this.push(null),p&&p())}function l(){this._final!==i&&i.call(this)}t.prototype._final=i,t.prototype._transform=function(p,g,m){throw new u("_transform()")},t.prototype._write=function(p,g,m){let h=this._readableState,y=this._writableState,b=h.length;this._transform(p,g,(E,d)=>{if(E){m(E);return}d!=null&&this.push(d),y.ended||b===h.length||h.length<h.highWaterMark?m():this[n]=m})},t.prototype._read=function(){if(this[n]){let p=this[n];this[n]=null,p()}}}),Fs=de((f,a)=>{le(),ce(),ue();var{ObjectSetPrototypeOf:o}=je();a.exports=u;var s=Ds();o(u.prototype,s.prototype),o(u,s);function u(r){if(!(this instanceof u))return new u(r);s.call(this,r)}u.prototype._transform=function(r,e,n){n(null,r)}}),$i=de((f,a)=>{le(),ce(),ue();var o=xt(),{ArrayIsArray:s,Promise:u,SymbolAsyncIterator:r,SymbolDispose:e}=je(),n=mt(),{once:t}=ze(),i=Nt(),l=at(),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:m,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:E}=$e(),{validateFunction:d,validateAbortSignal:_}=Qt(),{isIterable:I,isReadable:v,isReadableNodeStream:A,isNodeStream:S,isTransformStream:T,isWebStream:C,isReadableStream:P,isReadableFinished:U}=ut(),O=globalThis.AbortController||Gt().AbortController,q,D,L;function ae(te,we,H){let N=!1;te.on("close",()=>{N=!0});let ne=n(te,{readable:we,writable:H},z=>{N=!z});return{destroy:z=>{N||(N=!0,i.destroyer(te,z||new y("pipe")))},cleanup:ne}}function Q(te){return d(te[te.length-1],"streams[stream.length - 1]"),te.pop()}function V(te){if(I(te))return te;if(A(te))return re(te);throw new g("val",["Readable","Iterable","AsyncIterable"],te)}async function*re(te){D||(D=Cr()),yield*D.prototype[r].call(te)}async function F(te,we,H,{end:N}){let ne,z=null,G=oe=>{if(oe&&(ne=oe),z){let M=z;z=null,M()}},Y=()=>new u((oe,M)=>{ne?M(ne):z=()=>{ne?M(ne):oe()}});we.on("drain",G);let ye=n(we,{readable:!1},G);try{we.writableNeedDrain&&await Y();for await(let oe of te)we.write(oe)||await Y();N&&(we.end(),await Y()),H()}catch(oe){H(ne!==oe?p(ne,oe):oe)}finally{ye(),we.off("drain",G)}}async function Z(te,we,H,{end:N}){T(we)&&(we=we.writable);let ne=we.getWriter();try{for await(let z of te)await ne.ready,ne.write(z).catch(()=>{});await ne.ready,N&&await ne.close(),H()}catch(z){try{await ne.abort(z),H(z)}catch(G){H(G)}}}function R(...te){return J(te,t(Q(te)))}function J(te,we,H){if(te.length===1&&s(te[0])&&(te=te[0]),te.length<2)throw new h("streams");let N=new O,ne=N.signal,z=H?.signal,G=[];_(z,"options.signal");function Y(){pe(new E)}L=L||ze().addAbortListener;let ye;z&&(ye=L(z,Y));let oe,M,W=[],ee=0;function he(ve){pe(ve,--ee===0)}function pe(ve,se){var Oe;if(ve&&(!oe||oe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(oe=ve),!(!oe&&!se)){for(;W.length;)W.shift()(oe);(Oe=ye)===null||Oe===void 0||Oe[e](),N.abort(),se&&(oe||G.forEach(c=>c()),o.nextTick(we,oe,M))}}let me;for(let ve=0;ve<te.length;ve++){let se=te[ve],Oe=ve<te.length-1,c=ve>0,w=Oe||H?.end!==!1,x=ve===te.length-1;if(S(se)){let B=function(X){X&&X.name!=="AbortError"&&X.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(X)};if(w){let{destroy:X,cleanup:fe}=ae(se,Oe,c);W.push(X),v(se)&&x&&G.push(fe)}se.on("error",B),v(se)&&x&&G.push(()=>{se.removeListener("error",B)})}if(ve===0)if(typeof se=="function"){if(me=se({signal:ne}),!I(me))throw new m("Iterable, AsyncIterable or Stream","source",me)}else I(se)||A(se)||T(se)?me=se:me=l.from(se);else if(typeof se=="function"){if(T(me)){var $;me=V(($=me)===null||$===void 0?void 0:$.readable)}else me=V(me);if(me=se(me,{signal:ne}),Oe){if(!I(me,!0))throw new m("AsyncIterable",`transform[${ve-1}]`,me)}else{var ge;q||(q=Fs());let B=new q({objectMode:!0}),X=(ge=me)===null||ge===void 0?void 0:ge.then;if(typeof X=="function")ee++,X.call(me,K=>{M=K,K!=null&&B.write(K),w&&B.end(),o.nextTick(he)},K=>{B.destroy(K),o.nextTick(he,K)});else if(I(me,!0))ee++,F(me,B,he,{end:w});else if(P(me)||T(me)){let K=me.readable||me;ee++,F(K,B,he,{end:w})}else throw new m("AsyncIterable or Promise","destination",me);me=B;let{destroy:fe,cleanup:Ee}=ae(me,!1,!0);W.push(fe),x&&G.push(Ee)}}else if(S(se)){if(A(me)){ee+=2;let B=be(me,se,he,{end:w});v(se)&&x&&G.push(B)}else if(T(me)||P(me)){let B=me.readable||me;ee++,F(B,se,he,{end:w})}else if(I(me))ee++,F(me,se,he,{end:w});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=se}else if(C(se)){if(A(me))ee++,Z(V(me),se,he,{end:w});else if(P(me)||I(me))ee++,Z(me,se,he,{end:w});else if(T(me))ee++,Z(me.readable,se,he,{end:w});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=se}else me=l.from(se)}return(ne!=null&&ne.aborted||z!=null&&z.aborted)&&o.nextTick(Y),me}function be(te,we,H,{end:N}){let ne=!1;if(we.on("close",()=>{ne||H(new b)}),te.pipe(we,{end:!1}),N){let z=function(){ne=!0,we.end()};U(te)?o.nextTick(z):te.once("end",z)}else H();return n(te,{readable:!0,writable:!1},z=>{let G=te._readableState;z&&z.code==="ERR_STREAM_PREMATURE_CLOSE"&&G&&G.ended&&!G.errored&&!G.errorEmitted?te.once("end",H).once("error",H):H(z)}),n(we,{readable:!1,writable:!0},H)}a.exports={pipelineImpl:J,pipeline:R}}),Ws=de((f,a)=>{le(),ce(),ue();var{pipeline:o}=$i(),s=at(),{destroyer:u}=Nt(),{isNodeStream:r,isReadable:e,isWritable:n,isWebStream:t,isTransformStream:i,isWritableStream:l,isReadableStream:p}=ut(),{AbortError:g,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:h}}=$e(),y=mt();a.exports=function(...b){if(b.length===0)throw new h("streams");if(b.length===1)return s.from(b[0]);let E=[...b];if(typeof b[0]=="function"&&(b[0]=s.from(b[0])),typeof b[b.length-1]=="function"){let O=b.length-1;b[O]=s.from(b[O])}for(let O=0;O<b.length;++O)if(!(!r(b[O])&&!t(b[O]))){if(O<b.length-1&&!(e(b[O])||p(b[O])||i(b[O])))throw new m(`streams[${O}]`,E[O],"must be readable");if(O>0&&!(n(b[O])||l(b[O])||i(b[O])))throw new m(`streams[${O}]`,E[O],"must be writable")}let d,_,I,v,A;function S(O){let q=v;v=null,q?q(O):O?A.destroy(O):!U&&!P&&A.destroy()}let T=b[0],C=o(b,S),P=!!(n(T)||l(T)||i(T)),U=!!(e(C)||p(C)||i(C));if(A=new s({writableObjectMode:!!(T!=null&&T.writableObjectMode),readableObjectMode:!!(C!=null&&C.readableObjectMode),writable:P,readable:U}),P){if(r(T))A._write=function(q,D,L){T.write(q,D)?L():d=L},A._final=function(q){T.end(),_=q},T.on("drain",function(){if(d){let q=d;d=null,q()}});else if(t(T)){let q=(i(T)?T.writable:T).getWriter();A._write=async function(D,L,ae){try{await q.ready,q.write(D).catch(()=>{}),ae()}catch(Q){ae(Q)}},A._final=async function(D){try{await q.ready,q.close().catch(()=>{}),_=D}catch(L){D(L)}}}let O=i(C)?C.readable:C;y(O,()=>{if(_){let q=_;_=null,q()}})}if(U){if(r(C))C.on("readable",function(){if(I){let O=I;I=null,O()}}),C.on("end",function(){A.push(null)}),A._read=function(){for(;;){let O=C.read();if(O===null){I=A._read;return}if(!A.push(O))return}};else if(t(C)){let O=(i(C)?C.readable:C).getReader();A._read=async function(){for(;;)try{let{value:q,done:D}=await O.read();if(!A.push(q))return;if(D){A.push(null);return}}catch{return}}}}return A._destroy=function(O,q){!O&&v!==null&&(O=new g),I=null,d=null,_=null,v===null?q(O):(v=q,r(C)&&u(C,O))},A}}),yl=de((f,a)=>{le(),ce(),ue();var o=globalThis.AbortController||Gt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:s,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:e},AbortError:n}=$e(),{validateAbortSignal:t,validateInteger:i,validateObject:l}=Qt(),p=je().Symbol("kWeak"),g=je().Symbol("kResistStopPropagation"),{finished:m}=mt(),h=Ws(),{addAbortSignalNoValidate:y}=Pr(),{isWritable:b,isNodeStream:E}=ut(),{deprecate:d}=ze(),{ArrayPrototypePush:_,Boolean:I,MathFloor:v,Number:A,NumberIsNaN:S,Promise:T,PromiseReject:C,PromiseResolve:P,PromisePrototypeThen:U,Symbol:O}=je(),q=O("kEmpty"),D=O("kEof");function L(z,G){if(G!=null&&l(G,"options"),G?.signal!=null&&t(G.signal,"options.signal"),E(z)&&!b(z))throw new s("stream",z,"must be writable");let Y=h(this,z);return G!=null&&G.signal&&y(G.signal,Y),Y}function ae(z,G){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);G!=null&&l(G,"options"),G?.signal!=null&&t(G.signal,"options.signal");let Y=1;G?.concurrency!=null&&(Y=v(G.concurrency));let ye=Y-1;return G?.highWaterMark!=null&&(ye=v(G.highWaterMark)),i(Y,"options.concurrency",1),i(ye,"options.highWaterMark",0),ye+=Y,async function*(){let oe=ze().AbortSignalAny([G?.signal].filter(I)),M=this,W=[],ee={signal:oe},he,pe,me=!1,$=0;function ge(){me=!0,ve()}function ve(){$-=1,se()}function se(){pe&&!me&&$<Y&&W.length<ye&&(pe(),pe=null)}async function Oe(){try{for await(let c of M){if(me)return;if(oe.aborted)throw new n;try{if(c=z(c,ee),c===q)continue;c=P(c)}catch(w){c=C(w)}$+=1,U(c,ve,ge),W.push(c),he&&(he(),he=null),!me&&(W.length>=ye||$>=Y)&&await new T(w=>{pe=w})}W.push(D)}catch(c){let w=C(c);U(w,ve,ge),W.push(w)}finally{me=!0,he&&(he(),he=null)}}Oe();try{for(;;){for(;W.length>0;){let c=await W[0];if(c===D)return;if(oe.aborted)throw new n;c!==q&&(yield c),W.shift(),se()}await new T(c=>{he=c})}}finally{me=!0,pe&&(pe(),pe=null)}}.call(this)}function Q(z=void 0){return z!=null&&l(z,"options"),z?.signal!=null&&t(z.signal,"options.signal"),async function*(){let G=0;for await(let ye of this){var Y;if(z!=null&&(Y=z.signal)!==null&&Y!==void 0&&Y.aborted)throw new n({cause:z.signal.reason});yield[G++,ye]}}.call(this)}async function V(z,G=void 0){for await(let Y of R.call(this,z,G))return!0;return!1}async function re(z,G=void 0){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);return!await V.call(this,async(...Y)=>!await z(...Y),G)}async function F(z,G){for await(let Y of R.call(this,z,G))return Y}async function Z(z,G){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);async function Y(ye,oe){return await z(ye,oe),q}for await(let ye of ae.call(this,Y,G));}function R(z,G){if(typeof z!="function")throw new u("fn",["Function","AsyncFunction"],z);async function Y(ye,oe){return await z(ye,oe)?ye:q}return ae.call(this,Y,G)}var J=class extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function be(z,G,Y){var ye;if(typeof z!="function")throw new u("reducer",["Function","AsyncFunction"],z);Y!=null&&l(Y,"options"),Y?.signal!=null&&t(Y.signal,"options.signal");let oe=arguments.length>1;if(Y!=null&&(ye=Y.signal)!==null&&ye!==void 0&&ye.aborted){let pe=new n(void 0,{cause:Y.signal.reason});throw this.once("error",()=>{}),await m(this.destroy(pe)),pe}let M=new o,W=M.signal;if(Y!=null&&Y.signal){let pe={once:!0,[p]:this,[g]:!0};Y.signal.addEventListener("abort",()=>M.abort(),pe)}let ee=!1;try{for await(let pe of this){var he;if(ee=!0,Y!=null&&(he=Y.signal)!==null&&he!==void 0&&he.aborted)throw new n;oe?G=await z(G,pe,{signal:W}):(G=pe,oe=!0)}if(!ee&&!oe)throw new J}finally{M.abort()}return G}async function te(z){z!=null&&l(z,"options"),z?.signal!=null&&t(z.signal,"options.signal");let G=[];for await(let ye of this){var Y;if(z!=null&&(Y=z.signal)!==null&&Y!==void 0&&Y.aborted)throw new n(void 0,{cause:z.signal.reason});_(G,ye)}return G}function we(z,G){let Y=ae.call(this,z,G);return async function*(){for await(let ye of Y)yield*ye}.call(this)}function H(z){if(z=A(z),S(z))return 0;if(z<0)throw new e("number",">= 0",z);return z}function N(z,G=void 0){return G!=null&&l(G,"options"),G?.signal!=null&&t(G.signal,"options.signal"),z=H(z),async function*(){var Y;if(G!=null&&(Y=G.signal)!==null&&Y!==void 0&&Y.aborted)throw new n;for await(let oe of this){var ye;if(G!=null&&(ye=G.signal)!==null&&ye!==void 0&&ye.aborted)throw new n;z--<=0&&(yield oe)}}.call(this)}function ne(z,G=void 0){return G!=null&&l(G,"options"),G?.signal!=null&&t(G.signal,"options.signal"),z=H(z),async function*(){var Y;if(G!=null&&(Y=G.signal)!==null&&Y!==void 0&&Y.aborted)throw new n;for await(let oe of this){var ye;if(G!=null&&(ye=G.signal)!==null&&ye!==void 0&&ye.aborted)throw new n;if(z-- >0&&(yield oe),z<=0)return}}.call(this)}a.exports.streamReturningOperators={asIndexedPairs:d(Q,"readable.asIndexedPairs will be removed in a future version."),drop:N,filter:R,flatMap:we,map:ae,take:ne,compose:L},a.exports.promiseReturningOperators={every:re,forEach:Z,reduce:be,toArray:te,some:V,find:F}}),qs=de((f,a)=>{le(),ce(),ue();var{ArrayPrototypePop:o,Promise:s}=je(),{isIterable:u,isNodeStream:r,isWebStream:e}=ut(),{pipelineImpl:n}=$i(),{finished:t}=mt();$s();function i(...l){return new s((p,g)=>{let m,h,y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!u(y)&&!e(y)){let b=o(l);m=b.signal,h=b.end}n(l,(b,E)=>{b?g(b):p(E)},{signal:m,end:h})})}a.exports={finished:t,pipeline:i}}),$s=de((f,a)=>{le(),ce(),ue();var{Buffer:o}=(Be(),Re(Le)),{ObjectDefineProperty:s,ObjectKeys:u,ReflectApply:r}=je(),{promisify:{custom:e}}=ze(),{streamReturningOperators:n,promiseReturningOperators:t}=yl(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=$e(),l=Ws(),{setDefaultHighWaterMark:p,getDefaultHighWaterMark:g}=Rr(),{pipeline:m}=$i(),{destroyer:h}=Nt(),y=mt(),b=qs(),E=ut(),d=a.exports=Wi().Stream;d.isDestroyed=E.isDestroyed,d.isDisturbed=E.isDisturbed,d.isErrored=E.isErrored,d.isReadable=E.isReadable,d.isWritable=E.isWritable,d.Readable=Cr();for(let I of u(n)){let v=function(...S){if(new.target)throw i();return d.Readable.from(r(A,this,S))},A=n[I];s(v,"name",{__proto__:null,value:A.name}),s(v,"length",{__proto__:null,value:A.length}),s(d.Readable.prototype,I,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let I of u(t)){let v=function(...S){if(new.target)throw i();return r(A,this,S)},A=t[I];s(v,"name",{__proto__:null,value:A.name}),s(v,"length",{__proto__:null,value:A.length}),s(d.Readable.prototype,I,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}d.Writable=qi(),d.Duplex=at(),d.Transform=Ds(),d.PassThrough=Fs(),d.pipeline=m;var{addAbortSignal:_}=Pr();d.addAbortSignal=_,d.finished=y,d.destroy=h,d.compose=l,d.setDefaultHighWaterMark=p,d.getDefaultHighWaterMark=g,s(d,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),s(m,e,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),s(y,e,{__proto__:null,enumerable:!0,get(){return b.finished}}),d.Stream=d,d._isUint8Array=function(I){return I instanceof Uint8Array},d._uint8ArrayToBuffer=function(I){return o.from(I.buffer,I.byteOffset,I.byteLength)}}),Tt=de((f,a)=>{le(),ce(),ue();var o=$s(),s=qs(),u=o.Readable.destroy;a.exports=o.Readable,a.exports._uint8ArrayToBuffer=o._uint8ArrayToBuffer,a.exports._isUint8Array=o._isUint8Array,a.exports.isDisturbed=o.isDisturbed,a.exports.isErrored=o.isErrored,a.exports.isReadable=o.isReadable,a.exports.Readable=o.Readable,a.exports.Writable=o.Writable,a.exports.Duplex=o.Duplex,a.exports.Transform=o.Transform,a.exports.PassThrough=o.PassThrough,a.exports.addAbortSignal=o.addAbortSignal,a.exports.finished=o.finished,a.exports.destroy=o.destroy,a.exports.destroy=u,a.exports.pipeline=o.pipeline,a.exports.compose=o.compose,Object.defineProperty(o,"promises",{configurable:!0,enumerable:!0,get(){return s}}),a.exports.Stream=o.Stream,a.exports.default=a.exports}),bl=de((f,a)=>{le(),ce(),ue(),typeof Object.create=="function"?a.exports=function(o,s){s&&(o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(o,s){if(s){o.super_=s;var u=function(){};u.prototype=s.prototype,o.prototype=new u,o.prototype.constructor=o}}}),ml=de((f,a)=>{le(),ce(),ue();var{Buffer:o}=(Be(),Re(Le)),s=Symbol.for("BufferList");function u(r){if(!(this instanceof u))return new u(r);u._init.call(this,r)}u._init=function(r){Object.defineProperty(this,s,{value:!0}),this._bufs=[],this.length=0,r&&this.append(r)},u.prototype._new=function(r){return new u(r)},u.prototype._offset=function(r){if(r===0)return[0,0];let e=0;for(let n=0;n<this._bufs.length;n++){let t=e+this._bufs[n].length;if(r<t||n===this._bufs.length-1)return[n,r-e];e=t}},u.prototype._reverseOffset=function(r){let e=r[0],n=r[1];for(let t=0;t<e;t++)n+=this._bufs[t].length;return n},u.prototype.getBuffers=function(){return this._bufs},u.prototype.get=function(r){if(r>this.length||r<0)return;let e=this._offset(r);return this._bufs[e[0]][e[1]]},u.prototype.slice=function(r,e){return typeof r=="number"&&r<0&&(r+=this.length),typeof e=="number"&&e<0&&(e+=this.length),this.copy(null,0,r,e)},u.prototype.copy=function(r,e,n,t){if((typeof n!="number"||n<0)&&(n=0),(typeof t!="number"||t>this.length)&&(t=this.length),n>=this.length||t<=0)return r||o.alloc(0);let i=!!r,l=this._offset(n),p=t-n,g=p,m=i&&e||0,h=l[1];if(n===0&&t===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:o.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(r,m),m+=this._bufs[y].length;return r}if(g<=this._bufs[l[0]].length-h)return i?this._bufs[l[0]].copy(r,e,h,h+g):this._bufs[l[0]].slice(h,h+g);i||(r=o.allocUnsafe(p));for(let y=l[0];y<this._bufs.length;y++){let b=this._bufs[y].length-h;if(g>b)this._bufs[y].copy(r,m,h),m+=b;else{this._bufs[y].copy(r,m,h,h+g),m+=b;break}g-=b,h&&(h=0)}return r.length>m?r.slice(0,m):r},u.prototype.shallowSlice=function(r,e){if(r=r||0,e=typeof e!="number"?this.length:e,r<0&&(r+=this.length),e<0&&(e+=this.length),r===e)return this._new();let n=this._offset(r),t=this._offset(e),i=this._bufs.slice(n[0],t[0]+1);return t[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,t[1]),n[1]!==0&&(i[0]=i[0].slice(n[1])),this._new(i)},u.prototype.toString=function(r,e,n){return this.slice(e,n).toString(r)},u.prototype.consume=function(r){if(r=Math.trunc(r),Number.isNaN(r)||r<=0)return this;for(;this._bufs.length;)if(r>=this._bufs[0].length)r-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(r),this.length-=r;break}return this},u.prototype.duplicate=function(){let r=this._new();for(let e=0;e<this._bufs.length;e++)r.append(this._bufs[e]);return r},u.prototype.append=function(r){return this._attach(r,u.prototype._appendBuffer)},u.prototype.prepend=function(r){return this._attach(r,u.prototype._prependBuffer,!0)},u.prototype._attach=function(r,e,n){if(r==null)return this;if(r.buffer)e.call(this,o.from(r.buffer,r.byteOffset,r.byteLength));else if(Array.isArray(r)){let[t,i]=n?[r.length-1,-1]:[0,1];for(let l=t;l>=0&&l<r.length;l+=i)this._attach(r[l],e,n)}else if(this._isBufferList(r)){let[t,i]=n?[r._bufs.length-1,-1]:[0,1];for(let l=t;l>=0&&l<r._bufs.length;l+=i)this._attach(r._bufs[l],e,n)}else typeof r=="number"&&(r=r.toString()),e.call(this,o.from(r));return this},u.prototype._appendBuffer=function(r){this._bufs.push(r),this.length+=r.length},u.prototype._prependBuffer=function(r){this._bufs.unshift(r),this.length+=r.length},u.prototype.indexOf=function(r,e,n){if(n===void 0&&typeof e=="string"&&(n=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=o.from([r]):typeof r=="string"?r=o.from(r,n):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=o.from(r.buffer,r.byteOffset,r.byteLength):o.isBuffer(r)||(r=o.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let t=this._offset(e),i=t[0],l=t[1];for(;i<this._bufs.length;i++){let p=this._bufs[i];for(;l<p.length;)if(p.length-l>=r.length){let g=p.indexOf(r,l);if(g!==-1)return this._reverseOffset([i,g]);l=p.length-r.length+1}else{let g=this._reverseOffset([i,l]);if(this._match(g,r))return g;l++}l=0}return-1},u.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let n=0;n<e.length;n++)if(this.get(r+n)!==e[n])return!1;return!0},function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(n){r[n]===null?u.prototype[n]=function(t,i){return this.slice(t,t+i)[n](0,i)}:u.prototype[n]=function(t=0){return this.slice(t,t+r[n])[n](0)}})(e)}(),u.prototype._isBufferList=function(r){return r instanceof u||u.isBufferList(r)},u.isBufferList=function(r){return r!=null&&r[s]},a.exports=u}),vl=de((f,a)=>{le(),ce(),ue();var o=Tt().Duplex,s=bl(),u=ml();function r(e){if(!(this instanceof r))return new r(e);if(typeof e=="function"){this._callback=e;let n=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",n)}),this.on("unpipe",function(t){t.removeListener("error",n)}),e=null}u._init.call(this,e),o.call(this)}s(r,o),Object.assign(r.prototype,u.prototype),r.prototype._new=function(e){return new r(e)},r.prototype._write=function(e,n,t){this._appendBuffer(e),typeof t=="function"&&t()},r.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},r.prototype.end=function(e){o.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype._destroy=function(e,n){this._bufs.length=0,this.length=0,n(e)},r.prototype._isBufferList=function(e){return e instanceof r||e instanceof u||r.isBufferList(e)},r.isBufferList=u.isBufferList,a.exports=r,a.exports.BufferListStream=r,a.exports.BufferList=u}),wl=de((f,a)=>{le(),ce(),ue();var o=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};a.exports=o}),zs=de((f,a)=>{le(),ce(),ue();var o=a.exports,{Buffer:s}=(Be(),Re(Le));o.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},o.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},o.requiredHeaderFlagsErrors={};for(let r in o.requiredHeaderFlags){let e=o.requiredHeaderFlags[r];o.requiredHeaderFlagsErrors[r]="Invalid header flag bits, must be 0x"+e.toString(16)+" for "+o.types[r]+" packet"}o.codes={};for(let r in o.types){let e=o.types[r];o.codes[e]=r}o.CMD_SHIFT=4,o.CMD_MASK=240,o.DUP_MASK=8,o.QOS_MASK=3,o.QOS_SHIFT=1,o.RETAIN_MASK=1,o.VARBYTEINT_MASK=127,o.VARBYTEINT_FIN_MASK=128,o.VARBYTEINT_MAX=268435455,o.SESSIONPRESENT_MASK=1,o.SESSIONPRESENT_HEADER=s.from([o.SESSIONPRESENT_MASK]),o.CONNACK_HEADER=s.from([o.codes.connack<<o.CMD_SHIFT]),o.USERNAME_MASK=128,o.PASSWORD_MASK=64,o.WILL_RETAIN_MASK=32,o.WILL_QOS_MASK=24,o.WILL_QOS_SHIFT=3,o.WILL_FLAG_MASK=4,o.CLEAN_SESSION_MASK=2,o.CONNECT_HEADER=s.from([o.codes.connect<<o.CMD_SHIFT]),o.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},o.propertiesCodes={};for(let r in o.properties){let e=o.properties[r];o.propertiesCodes[e]=r}o.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function u(r){return[0,1,2].map(e=>[0,1].map(n=>[0,1].map(t=>{let i=s.alloc(1);return i.writeUInt8(o.codes[r]<<o.CMD_SHIFT|(n?o.DUP_MASK:0)|e<<o.QOS_SHIFT|t,0,!0),i})))}o.PUBLISH_HEADER=u("publish"),o.SUBSCRIBE_HEADER=u("subscribe"),o.SUBSCRIBE_OPTIONS_QOS_MASK=3,o.SUBSCRIBE_OPTIONS_NL_MASK=1,o.SUBSCRIBE_OPTIONS_NL_SHIFT=2,o.SUBSCRIBE_OPTIONS_RAP_MASK=1,o.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,o.SUBSCRIBE_OPTIONS_RH_MASK=3,o.SUBSCRIBE_OPTIONS_RH_SHIFT=4,o.SUBSCRIBE_OPTIONS_RH=[0,16,32],o.SUBSCRIBE_OPTIONS_NL=4,o.SUBSCRIBE_OPTIONS_RAP=8,o.SUBSCRIBE_OPTIONS_QOS=[0,1,2],o.UNSUBSCRIBE_HEADER=u("unsubscribe"),o.ACKS={unsuback:u("unsuback"),puback:u("puback"),pubcomp:u("pubcomp"),pubrel:u("pubrel"),pubrec:u("pubrec")},o.SUBACK_HEADER=s.from([o.codes.suback<<o.CMD_SHIFT]),o.VERSION3=s.from([3]),o.VERSION4=s.from([4]),o.VERSION5=s.from([5]),o.VERSION131=s.from([131]),o.VERSION132=s.from([132]),o.QOS=[0,1,2].map(r=>s.from([r])),o.EMPTY={pingreq:s.from([o.codes.pingreq<<4,0]),pingresp:s.from([o.codes.pingresp<<4,0]),disconnect:s.from([o.codes.disconnect<<4,0])},o.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},o.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},o.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},o.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},o.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},o.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),_l=de((f,a)=>{le(),ce(),ue();var o=1e3,s=o*60,u=s*60,r=u*24,e=r*7,n=r*365.25;a.exports=function(g,m){m=m||{};var h=typeof g;if(h==="string"&&g.length>0)return t(g);if(h==="number"&&isFinite(g))return m.long?l(g):i(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function t(g){if(g=String(g),!(g.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(m){var h=parseFloat(m[1]),y=(m[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return h*n;case"weeks":case"week":case"w":return h*e;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*u;case"minutes":case"minute":case"mins":case"min":case"m":return h*s;case"seconds":case"second":case"secs":case"sec":case"s":return h*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function i(g){var m=Math.abs(g);return m>=r?Math.round(g/r)+"d":m>=u?Math.round(g/u)+"h":m>=s?Math.round(g/s)+"m":m>=o?Math.round(g/o)+"s":g+"ms"}function l(g){var m=Math.abs(g);return m>=r?p(g,m,r,"day"):m>=u?p(g,m,u,"hour"):m>=s?p(g,m,s,"minute"):m>=o?p(g,m,o,"second"):g+" ms"}function p(g,m,h,y){var b=m>=h*1.5;return Math.round(g/h)+" "+y+(b?"s":"")}}),El=de((f,a)=>{le(),ce(),ue();function o(s){r.debug=r,r.default=r,r.coerce=p,r.disable=i,r.enable=n,r.enabled=l,r.humanize=_l(),r.destroy=g,Object.keys(s).forEach(m=>{r[m]=s[m]}),r.names=[],r.skips=[],r.formatters={};function u(m){let h=0;for(let y=0;y<m.length;y++)h=(h<<5)-h+m.charCodeAt(y),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=u;function r(m){let h,y=null,b,E;function d(..._){if(!d.enabled)return;let I=d,v=Number(new Date),A=v-(h||v);I.diff=A,I.prev=h,I.curr=v,h=v,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let S=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(T,C)=>{if(T==="%%")return"%";S++;let P=r.formatters[C];if(typeof P=="function"){let U=_[S];T=P.call(I,U),_.splice(S,1),S--}return T}),r.formatArgs.call(I,_),(I.log||r.log).apply(I,_)}return d.namespace=m,d.useColors=r.useColors(),d.color=r.selectColor(m),d.extend=e,d.destroy=r.destroy,Object.defineProperty(d,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(b!==r.namespaces&&(b=r.namespaces,E=r.enabled(m)),E),set:_=>{y=_}}),typeof r.init=="function"&&r.init(d),d}function e(m,h){let y=r(this.namespace+(typeof h>"u"?":":h)+m);return y.log=this.log,y}function n(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];let h=(typeof m=="string"?m:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of h)y[0]==="-"?r.skips.push(y.slice(1)):r.names.push(y)}function t(m,h){let y=0,b=0,E=-1,d=0;for(;y<m.length;)if(b<h.length&&(h[b]===m[y]||h[b]==="*"))h[b]==="*"?(E=b,d=y,b++):(y++,b++);else if(E!==-1)b=E+1,d++,y=d;else return!1;for(;b<h.length&&h[b]==="*";)b++;return b===h.length}function i(){let m=[...r.names,...r.skips.map(h=>"-"+h)].join(",");return r.enable(""),m}function l(m){for(let h of r.skips)if(t(m,h))return!1;for(let h of r.names)if(t(m,h))return!0;return!1}function p(m){return m instanceof Error?m.stack||m.message:m}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}a.exports=o}),lt=de((f,a)=>{le(),ce(),ue(),f.formatArgs=s,f.save=u,f.load=r,f.useColors=o,f.storage=e(),f.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;t.splice(1,0,i,"color: inherit");let l=0,p=0;t[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(l++,g==="%c"&&(p=l))}),t.splice(p,0,i)}f.log=console.debug||console.log||(()=>{});function u(t){try{t?f.storage.setItem("debug",t):f.storage.removeItem("debug")}catch{}}function r(){let t;try{t=f.storage.getItem("debug")||f.storage.getItem("DEBUG")}catch{}return!t&&typeof Ce<"u"&&"env"in Ce&&(t=Ce.env.DEBUG),t}function e(){try{return localStorage}catch{}}a.exports=El()(f);var{formatters:n}=a.exports;n.j=function(t){try{return JSON.stringify(t)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),Sl=de((f,a)=>{le(),ce(),ue();var o=vl(),{EventEmitter:s}=(It(),Re(bt)),u=wl(),r=zs(),e=lt()("mqtt-packet:parser"),n=class Gn extends s{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof Gn?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Gn().parser(i)}_resetState(){e("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new u,this.error=null,this._list=o(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),e("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,e("parse: state complete. _stateCounter is now: %d",this._stateCounter),e("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return e("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),l=i>>r.CMD_SHIFT;this.packet.cmd=r.types[l];let p=i&15,g=r.requiredHeaderFlags[l];return g!=null&&p!==g?this._emitError(new Error(r.requiredHeaderFlagsErrors[l])):(this.packet.retain=(i&r.RETAIN_MASK)!==0,this.packet.qos=i>>r.QOS_SHIFT&r.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&r.DUP_MASK)!==0,e("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),e("_parseLength %d",i.value),!!i}_parsePayload(){e("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return e("_parsePayload complete result: %s",i),i}_parseConnect(){e("_parseConnect");let i,l,p,g,m={},h=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(h.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(h.protocolVersion=this._list.readUInt8(this._pos),h.protocolVersion>=128&&(h.bridgeMode=!0,h.protocolVersion=h.protocolVersion-128),h.protocolVersion!==3&&h.protocolVersion!==4&&h.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));m.username=this._list.readUInt8(this._pos)&r.USERNAME_MASK,m.password=this._list.readUInt8(this._pos)&r.PASSWORD_MASK,m.will=this._list.readUInt8(this._pos)&r.WILL_FLAG_MASK;let b=!!(this._list.readUInt8(this._pos)&r.WILL_RETAIN_MASK),E=(this._list.readUInt8(this._pos)&r.WILL_QOS_MASK)>>r.WILL_QOS_SHIFT;if(m.will)h.will={},h.will.retain=b,h.will.qos=E;else{if(b)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(E)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(h.clean=(this._list.readUInt8(this._pos)&r.CLEAN_SESSION_MASK)!==0,this._pos++,h.keepalive=this._parseNum(),h.keepalive===-1)return this._emitError(new Error("Packet too short"));if(h.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(h.properties=_)}let d=this._parseString();if(d===null)return this._emitError(new Error("Packet too short"));if(h.clientId=d,e("_parseConnect: packet.clientId: %s",h.clientId),m.will){if(h.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(h.will.properties=_)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(h.will.topic=i,e("_parseConnect: packet.will.topic: %s",h.will.topic),l=this._parseBuffer(),l===null)return this._emitError(new Error("Cannot parse will payload"));h.will.payload=l,e("_parseConnect: packet.will.paylaod: %s",h.will.payload)}if(m.username){if(g=this._parseString(),g===null)return this._emitError(new Error("Cannot parse username"));h.username=g,e("_parseConnect: packet.username: %s",h.username)}if(m.password){if(p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse password"));h.password=p}return this.settings=h,e("_parseConnect: complete"),h}_parseConnack(){e("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let l=this._list.readUInt8(this._pos++);if(l>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(l&r.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(i.properties=p)}e("_parseConnack: complete")}_parsePublish(){e("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}i.payload=this._list.slice(this._pos,i.length),e("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){e("_parseSubscribe");let i=this.packet,l,p,g,m,h,y,b;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(i.properties=E)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(l=this._parseString(),l===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(p=this._parseByte(),this.settings.protocolVersion===5){if(p&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(p&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(g=p&r.SUBSCRIBE_OPTIONS_QOS_MASK,g>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(p>>r.SUBSCRIBE_OPTIONS_NL_SHIFT&r.SUBSCRIBE_OPTIONS_NL_MASK)!==0,h=(p>>r.SUBSCRIBE_OPTIONS_RAP_SHIFT&r.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,m=p>>r.SUBSCRIBE_OPTIONS_RH_SHIFT&r.SUBSCRIBE_OPTIONS_RH_MASK,m>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));b={topic:l,qos:g},this.settings.protocolVersion===5?(b.nl=y,b.rap=h,b.rh=m):this.settings.bridgeMode&&(b.rh=0,b.rap=!0,b.nl=!0),e("_parseSubscribe: push subscription `%s` to subscription",b),i.subscriptions.push(b)}}}_parseSuback(){e("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let l=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!r.MQTT5_SUBACK_CODES[l])return this._emitError(new Error("Invalid suback code"))}else if(l>2&&l!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(l)}}}_parseUnsubscribe(){e("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let l=this._parseString();if(l===null)return this._emitError(new Error("Cannot parse topic"));e("_parseUnsubscribe: push topic `%s` to unsubscriptions",l),i.unsubscriptions.push(l)}}}_parseUnsuback(){e("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let l=this._parseProperties();for(Object.getOwnPropertyNames(l).length&&(i.properties=l),i.granted=[];this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(!r.MQTT5_UNSUBACK_CODES[p])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(p)}}}_parseConfirmation(){e("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!r.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!r.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}e("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}}return!0}_parseDisconnect(){let i=this.packet;if(e("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),r.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}return e("_parseDisconnect result: true"),!0}_parseAuth(){e("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!r.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let l=this._parseProperties();return Object.getOwnPropertyNames(l).length&&(i.properties=l),e("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(e("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let l=this._parseNum(),p=l+this._pos;if(l===-1||p>this._list.length||p>this.packet.length)return null;let g=this._list.toString("utf8",this._pos,p);return this._pos+=l,e("_parseString: result: %s",g),g}_parseStringPair(){return e("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),l=i+this._pos;if(i===-1||l>this._list.length||l>this.packet.length)return null;let p=this._list.slice(this._pos,l);return this._pos+=i,e("_parseBuffer: result: %o",p),p}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,e("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,e("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){e("_parseVarByteNum");let l=4,p=0,g=1,m=0,h=!1,y,b=this._pos?this._pos:0;for(;p<l&&b+p<this._list.length;){if(y=this._list.readUInt8(b+p++),m+=g*(y&r.VARBYTEINT_MASK),g*=128,(y&r.VARBYTEINT_FIN_MASK)===0){h=!0;break}if(this._list.length<=p)break}return!h&&p===l&&this._list.length>=p&&this._emitError(new Error("Invalid variable byte integer")),b&&(this._pos+=p),h?i?h={bytes:p,value:m}:h=m:h=!1,e("_parseVarByteNum: result: %o",h),h}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),e("_parseByte: result: %o",i),i}_parseByType(i){switch(e("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){e("_parseProperties");let i=this._parseVarByteNum(),l=this._pos+i,p={};for(;this._pos<l;){let g=this._parseByte();if(!g)return this._emitError(new Error("Cannot parse property code type")),!1;let m=r.propertiesCodes[g];if(!m)return this._emitError(new Error("Unknown property")),!1;if(m==="userProperties"){p[m]||(p[m]=Object.create(null));let h=this._parseByType(r.propertiesTypes[m]);if(p[m][h.name])if(Array.isArray(p[m][h.name]))p[m][h.name].push(h.value);else{let y=p[m][h.name];p[m][h.name]=[y],p[m][h.name].push(h.value)}else p[m][h.name]=h.value;continue}p[m]?Array.isArray(p[m])?p[m].push(this._parseByType(r.propertiesTypes[m])):(p[m]=[p[m]],p[m].push(this._parseByType(r.propertiesTypes[m]))):p[m]=this._parseByType(r.propertiesTypes[m])}return p}_newPacket(){return e("_newPacket"),this.packet&&(this._list.consume(this.packet.length),e("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),e("_newPacket: new packet"),this.packet=new u,this._pos=0,!0}_emitError(i){e("_emitError",i),this.error=i,this.emit("error",i)}};a.exports=n}),Al=de((f,a)=>{le(),ce(),ue();var{Buffer:o}=(Be(),Re(Le)),s=65536,u={},r=o.isBuffer(o.from([1,2]).subarray(0,1));function e(l){let p=o.allocUnsafe(2);return p.writeUInt8(l>>8,0),p.writeUInt8(l&255,1),p}function n(){for(let l=0;l<s;l++)u[l]=e(l)}function t(l){let p=0,g=0,m=o.allocUnsafe(4);do p=l%128|0,l=l/128|0,l>0&&(p=p|128),m.writeUInt8(p,g++);while(l>0&&g<4);return l>0&&(g=0),r?m.subarray(0,g):m.slice(0,g)}function i(l){let p=o.allocUnsafe(4);return p.writeUInt32BE(l,0),p}a.exports={cache:u,generateCache:n,generateNumber:e,genBufVariableByteInt:t,generate4ByteBuffer:i}}),Il=de((f,a)=>{le(),ce(),ue(),typeof Ce>"u"||!Ce.version||Ce.version.indexOf("v0.")===0||Ce.version.indexOf("v1.")===0&&Ce.version.indexOf("v1.8.")!==0?a.exports={nextTick:o}:a.exports=Ce;function o(s,u,r,e){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,t,i;switch(n){case 0:case 1:return Ce.nextTick(s);case 2:return Ce.nextTick(function(){s.call(null,u)});case 3:return Ce.nextTick(function(){s.call(null,u,r)});case 4:return Ce.nextTick(function(){s.call(null,u,r,e)});default:for(t=new Array(n-1),i=0;i<t.length;)t[i++]=arguments[i];return Ce.nextTick(function(){s.apply(null,t)})}}}),Ks=de((f,a)=>{le(),ce(),ue();var o=zs(),{Buffer:s}=(Be(),Re(Le)),u=s.allocUnsafe(0),r=s.from([0]),e=Al(),n=Il().nextTick,t=lt()("mqtt-packet:writeToStream"),i=e.cache,l=e.generateNumber,p=e.generateCache,g=e.genBufVariableByteInt,m=e.generate4ByteBuffer,h=Q,y=!0;function b(H,N,ne){switch(t("generate called"),N.cork&&(N.cork(),n(E,N)),y&&(y=!1,p()),t("generate: packet.cmd: %s",H.cmd),H.cmd){case"connect":return d(H,N);case"connack":return _(H,N,ne);case"publish":return I(H,N,ne);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(H,N,ne);case"subscribe":return A(H,N,ne);case"suback":return S(H,N,ne);case"unsubscribe":return T(H,N,ne);case"unsuback":return C(H,N,ne);case"pingreq":case"pingresp":return P(H,N);case"disconnect":return U(H,N,ne);case"auth":return O(H,N,ne);default:return N.destroy(new Error("Unknown command")),!1}}Object.defineProperty(b,"cacheNumbers",{get(){return h===Q},set(H){H?((!i||Object.keys(i).length===0)&&(y=!0),h=Q):(y=!1,h=V)}});function E(H){H.uncork()}function d(H,N,ne){let z=H||{},G=z.protocolId||"MQTT",Y=z.protocolVersion||4,ye=z.will,oe=z.clean,M=z.keepalive||0,W=z.clientId||"",ee=z.username,he=z.password,pe=z.properties;oe===void 0&&(oe=!0);let me=0;if(typeof G!="string"&&!s.isBuffer(G))return N.destroy(new Error("Invalid protocolId")),!1;if(me+=G.length+2,Y!==3&&Y!==4&&Y!==5)return N.destroy(new Error("Invalid protocol version")),!1;if(me+=1,(typeof W=="string"||s.isBuffer(W))&&(W||Y>=4)&&(W||oe))me+=s.byteLength(W)+2;else{if(Y<4)return N.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(oe*1===0)return N.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof M!="number"||M<0||M>65535||M%1!==0)return N.destroy(new Error("Invalid keepalive")),!1;me+=2,me+=1;let $,ge;if(Y===5){if($=Z(N,pe),!$)return!1;me+=$.length}if(ye){if(typeof ye!="object")return N.destroy(new Error("Invalid will")),!1;if(!ye.topic||typeof ye.topic!="string")return N.destroy(new Error("Invalid will topic")),!1;if(me+=s.byteLength(ye.topic)+2,me+=2,ye.payload)if(ye.payload.length>=0)typeof ye.payload=="string"?me+=s.byteLength(ye.payload):me+=ye.payload.length;else return N.destroy(new Error("Invalid will payload")),!1;if(ge={},Y===5){if(ge=Z(N,ye.properties),!ge)return!1;me+=ge.length}}let ve=!1;if(ee!=null)if(we(ee))ve=!0,me+=s.byteLength(ee)+2;else return N.destroy(new Error("Invalid username")),!1;if(he!=null){if(!ve)return N.destroy(new Error("Username is required to use password")),!1;if(we(he))me+=te(he)+2;else return N.destroy(new Error("Invalid password")),!1}N.write(o.CONNECT_HEADER),D(N,me),F(N,G),z.bridgeMode&&(Y+=128),N.write(Y===131?o.VERSION131:Y===132?o.VERSION132:Y===4?o.VERSION4:Y===5?o.VERSION5:o.VERSION3);let se=0;return se|=ee!=null?o.USERNAME_MASK:0,se|=he!=null?o.PASSWORD_MASK:0,se|=ye&&ye.retain?o.WILL_RETAIN_MASK:0,se|=ye&&ye.qos?ye.qos<<o.WILL_QOS_SHIFT:0,se|=ye?o.WILL_FLAG_MASK:0,se|=oe?o.CLEAN_SESSION_MASK:0,N.write(s.from([se])),h(N,M),Y===5&&$.write(),F(N,W),ye&&(Y===5&&ge.write(),L(N,ye.topic),F(N,ye.payload)),ee!=null&&F(N,ee),he!=null&&F(N,he),!0}function _(H,N,ne){let z=ne?ne.protocolVersion:4,G=H||{},Y=z===5?G.reasonCode:G.returnCode,ye=G.properties,oe=2;if(typeof Y!="number")return N.destroy(new Error("Invalid return code")),!1;let M=null;if(z===5){if(M=Z(N,ye),!M)return!1;oe+=M.length}return N.write(o.CONNACK_HEADER),D(N,oe),N.write(G.sessionPresent?o.SESSIONPRESENT_HEADER:r),N.write(s.from([Y])),M?.write(),!0}function I(H,N,ne){t("publish: packet: %o",H);let z=ne?ne.protocolVersion:4,G=H||{},Y=G.qos||0,ye=G.retain?o.RETAIN_MASK:0,oe=G.topic,M=G.payload||u,W=G.messageId,ee=G.properties,he=0;if(typeof oe=="string")he+=s.byteLength(oe)+2;else if(s.isBuffer(oe))he+=oe.length+2;else return N.destroy(new Error("Invalid topic")),!1;if(s.isBuffer(M)?he+=M.length:he+=s.byteLength(M),Y&&typeof W!="number")return N.destroy(new Error("Invalid messageId")),!1;Y&&(he+=2);let pe=null;if(z===5){if(pe=Z(N,ee),!pe)return!1;he+=pe.length}return N.write(o.PUBLISH_HEADER[Y][G.dup?1:0][ye?1:0]),D(N,he),h(N,te(oe)),N.write(oe),Y>0&&h(N,W),pe?.write(),t("publish: payload: %o",M),N.write(M)}function v(H,N,ne){let z=ne?ne.protocolVersion:4,G=H||{},Y=G.cmd||"puback",ye=G.messageId,oe=G.dup&&Y==="pubrel"?o.DUP_MASK:0,M=0,W=G.reasonCode,ee=G.properties,he=z===5?3:2;if(Y==="pubrel"&&(M=1),typeof ye!="number")return N.destroy(new Error("Invalid messageId")),!1;let pe=null;if(z===5&&typeof ee=="object"){if(pe=R(N,ee,ne,he),!pe)return!1;he+=pe.length}return N.write(o.ACKS[Y][M][oe][0]),he===3&&(he+=W!==0?1:-1),D(N,he),h(N,ye),z===5&&he!==2&&N.write(s.from([W])),pe!==null?pe.write():he===4&&N.write(s.from([0])),!0}function A(H,N,ne){t("subscribe: packet: ");let z=ne?ne.protocolVersion:4,G=H||{},Y=G.dup?o.DUP_MASK:0,ye=G.messageId,oe=G.subscriptions,M=G.properties,W=0;if(typeof ye!="number")return N.destroy(new Error("Invalid messageId")),!1;W+=2;let ee=null;if(z===5){if(ee=Z(N,M),!ee)return!1;W+=ee.length}if(typeof oe=="object"&&oe.length)for(let pe=0;pe<oe.length;pe+=1){let me=oe[pe].topic,$=oe[pe].qos;if(typeof me!="string")return N.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof $!="number")return N.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(z===5){if(typeof(oe[pe].nl||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(oe[pe].rap||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let ge=oe[pe].rh||0;if(typeof ge!="number"||ge>2)return N.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}W+=s.byteLength(me)+2+1}else return N.destroy(new Error("Invalid subscriptions")),!1;t("subscribe: writing to stream: %o",o.SUBSCRIBE_HEADER),N.write(o.SUBSCRIBE_HEADER[1][Y?1:0][0]),D(N,W),h(N,ye),ee!==null&&ee.write();let he=!0;for(let pe of oe){let me=pe.topic,$=pe.qos,ge=+pe.nl,ve=+pe.rap,se=pe.rh,Oe;L(N,me),Oe=o.SUBSCRIBE_OPTIONS_QOS[$],z===5&&(Oe|=ge?o.SUBSCRIBE_OPTIONS_NL:0,Oe|=ve?o.SUBSCRIBE_OPTIONS_RAP:0,Oe|=se?o.SUBSCRIBE_OPTIONS_RH[se]:0),he=N.write(s.from([Oe]))}return he}function S(H,N,ne){let z=ne?ne.protocolVersion:4,G=H||{},Y=G.messageId,ye=G.granted,oe=G.properties,M=0;if(typeof Y!="number")return N.destroy(new Error("Invalid messageId")),!1;if(M+=2,typeof ye=="object"&&ye.length)for(let ee=0;ee<ye.length;ee+=1){if(typeof ye[ee]!="number")return N.destroy(new Error("Invalid qos vector")),!1;M+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let W=null;if(z===5){if(W=R(N,oe,ne,M),!W)return!1;M+=W.length}return N.write(o.SUBACK_HEADER),D(N,M),h(N,Y),W!==null&&W.write(),N.write(s.from(ye))}function T(H,N,ne){let z=ne?ne.protocolVersion:4,G=H||{},Y=G.messageId,ye=G.dup?o.DUP_MASK:0,oe=G.unsubscriptions,M=G.properties,W=0;if(typeof Y!="number")return N.destroy(new Error("Invalid messageId")),!1;if(W+=2,typeof oe=="object"&&oe.length)for(let pe=0;pe<oe.length;pe+=1){if(typeof oe[pe]!="string")return N.destroy(new Error("Invalid unsubscriptions")),!1;W+=s.byteLength(oe[pe])+2}else return N.destroy(new Error("Invalid unsubscriptions")),!1;let ee=null;if(z===5){if(ee=Z(N,M),!ee)return!1;W+=ee.length}N.write(o.UNSUBSCRIBE_HEADER[1][ye?1:0][0]),D(N,W),h(N,Y),ee!==null&&ee.write();let he=!0;for(let pe=0;pe<oe.length;pe++)he=L(N,oe[pe]);return he}function C(H,N,ne){let z=ne?ne.protocolVersion:4,G=H||{},Y=G.messageId,ye=G.dup?o.DUP_MASK:0,oe=G.granted,M=G.properties,W=G.cmd,ee=0,he=2;if(typeof Y!="number")return N.destroy(new Error("Invalid messageId")),!1;if(z===5)if(typeof oe=="object"&&oe.length)for(let me=0;me<oe.length;me+=1){if(typeof oe[me]!="number")return N.destroy(new Error("Invalid qos vector")),!1;he+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let pe=null;if(z===5){if(pe=R(N,M,ne,he),!pe)return!1;he+=pe.length}return N.write(o.ACKS[W][ee][ye][0]),D(N,he),h(N,Y),pe!==null&&pe.write(),z===5&&N.write(s.from(oe)),!0}function P(H,N,ne){return N.write(o.EMPTY[H.cmd])}function U(H,N,ne){let z=ne?ne.protocolVersion:4,G=H||{},Y=G.reasonCode,ye=G.properties,oe=z===5?1:0,M=null;if(z===5){if(M=R(N,ye,ne,oe),!M)return!1;oe+=M.length}return N.write(s.from([o.codes.disconnect<<4])),D(N,oe),z===5&&N.write(s.from([Y])),M!==null&&M.write(),!0}function O(H,N,ne){let z=ne?ne.protocolVersion:4,G=H||{},Y=G.reasonCode,ye=G.properties,oe=z===5?1:0;z!==5&&N.destroy(new Error("Invalid mqtt version for auth packet"));let M=R(N,ye,ne,oe);return M?(oe+=M.length,N.write(s.from([o.codes.auth<<4])),D(N,oe),N.write(s.from([Y])),M!==null&&M.write(),!0):!1}var q={};function D(H,N){if(N>o.VARBYTEINT_MAX)return H.destroy(new Error(`Invalid variable byte integer: ${N}`)),!1;let ne=q[N];return ne||(ne=g(N),N<16384&&(q[N]=ne)),t("writeVarByteInt: writing to stream: %o",ne),H.write(ne)}function L(H,N){let ne=s.byteLength(N);return h(H,ne),t("writeString: %s",N),H.write(N,"utf8")}function ae(H,N,ne){L(H,N),L(H,ne)}function Q(H,N){return t("writeNumberCached: number: %d",N),t("writeNumberCached: %o",i[N]),H.write(i[N])}function V(H,N){let ne=l(N);return t("writeNumberGenerated: %o",ne),H.write(ne)}function re(H,N){let ne=m(N);return t("write4ByteNumber: %o",ne),H.write(ne)}function F(H,N){typeof N=="string"?L(H,N):N?(h(H,N.length),H.write(N)):h(H,0)}function Z(H,N){if(typeof N!="object"||N.length!=null)return{length:1,write(){be(H,{},0)}};let ne=0;function z(G,Y){let ye=o.propertiesTypes[G],oe=0;switch(ye){case"byte":{if(typeof Y!="boolean")return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=2;break}case"int8":{if(typeof Y!="number"||Y<0||Y>255)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=2;break}case"binary":{if(Y&&Y===null)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=1+s.byteLength(Y)+2;break}case"int16":{if(typeof Y!="number"||Y<0||Y>65535)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=3;break}case"int32":{if(typeof Y!="number"||Y<0||Y>4294967295)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=5;break}case"var":{if(typeof Y!="number"||Y<0||Y>268435455)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=1+s.byteLength(g(Y));break}case"string":{if(typeof Y!="string")return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=3+s.byteLength(Y.toString());break}case"pair":{if(typeof Y!="object")return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=Object.getOwnPropertyNames(Y).reduce((M,W)=>{let ee=Y[W];return Array.isArray(ee)?M+=ee.reduce((he,pe)=>(he+=3+s.byteLength(W.toString())+2+s.byteLength(pe.toString()),he),0):M+=3+s.byteLength(W.toString())+2+s.byteLength(Y[W].toString()),M},0);break}default:return H.destroy(new Error(`Invalid property ${G}: ${Y}`)),!1}return oe}if(N)for(let G in N){let Y=0,ye=0,oe=N[G];if(oe!==void 0){if(Array.isArray(oe))for(let M=0;M<oe.length;M++){if(ye=z(G,oe[M]),!ye)return!1;Y+=ye}else{if(ye=z(G,oe),!ye)return!1;Y=ye}if(!Y)return!1;ne+=Y}}return{length:s.byteLength(g(ne))+ne,write(){be(H,N,ne)}}}function R(H,N,ne,z){let G=["reasonString","userProperties"],Y=ne&&ne.properties&&ne.properties.maximumPacketSize?ne.properties.maximumPacketSize:0,ye=Z(H,N);if(Y)for(;z+ye.length>Y;){let oe=G.shift();if(oe&&N[oe])delete N[oe],ye=Z(H,N);else return!1}return ye}function J(H,N,ne){switch(o.propertiesTypes[N]){case"byte":{H.write(s.from([o.properties[N]])),H.write(s.from([+ne]));break}case"int8":{H.write(s.from([o.properties[N]])),H.write(s.from([ne]));break}case"binary":{H.write(s.from([o.properties[N]])),F(H,ne);break}case"int16":{H.write(s.from([o.properties[N]])),h(H,ne);break}case"int32":{H.write(s.from([o.properties[N]])),re(H,ne);break}case"var":{H.write(s.from([o.properties[N]])),D(H,ne);break}case"string":{H.write(s.from([o.properties[N]])),L(H,ne);break}case"pair":{Object.getOwnPropertyNames(ne).forEach(z=>{let G=ne[z];Array.isArray(G)?G.forEach(Y=>{H.write(s.from([o.properties[N]])),ae(H,z.toString(),Y.toString())}):(H.write(s.from([o.properties[N]])),ae(H,z.toString(),G.toString()))});break}default:return H.destroy(new Error(`Invalid property ${N} value: ${ne}`)),!1}}function be(H,N,ne){D(H,ne);for(let z in N)if(Object.prototype.hasOwnProperty.call(N,z)&&N[z]!=null){let G=N[z];if(Array.isArray(G))for(let Y=0;Y<G.length;Y++)J(H,z,G[Y]);else J(H,z,G)}}function te(H){return H?H instanceof s?H.length:s.byteLength(H):0}function we(H){return typeof H=="string"||H instanceof s}a.exports=b}),xl=de((f,a)=>{le(),ce(),ue();var o=Ks(),{EventEmitter:s}=(It(),Re(bt)),{Buffer:u}=(Be(),Re(Le));function r(n,t){let i=new e;return o(n,i,t),i.concat()}var e=class extends s{constructor(){super(),this._array=new Array(20),this._i=0}write(n){return this._array[this._i++]=n,!0}concat(){let n=0,t=new Array(this._array.length),i=this._array,l=0,p;for(p=0;p<i.length&&i[p]!==void 0;p++)typeof i[p]!="string"?t[p]=i[p].length:t[p]=u.byteLength(i[p]),n+=t[p];let g=u.allocUnsafe(n);for(p=0;p<i.length&&i[p]!==void 0;p++)typeof i[p]!="string"?(i[p].copy(g,l),l+=t[p]):(g.write(i[p],l),l+=t[p]);return g}destroy(n){n&&this.emit("error",n)}};a.exports=r}),Tl=de(f=>{le(),ce(),ue(),f.parser=Sl().parser,f.generate=xl(),f.writeToStream=Ks()}),Ol=de((f,a)=>{le(),ce(),ue(),a.exports=s;function o(r){return r instanceof Tr?Tr.from(r):new r.constructor(r.buffer.slice(),r.byteOffset,r.length)}function s(r){if(r=r||{},r.circles)return u(r);let e=new Map;if(e.set(Date,p=>new Date(p)),e.set(Map,(p,g)=>new Map(t(Array.from(p),g))),e.set(Set,(p,g)=>new Set(t(Array.from(p),g))),r.constructorHandlers)for(let p of r.constructorHandlers)e.set(p[0],p[1]);let n=null;return r.proto?l:i;function t(p,g){let m=Object.keys(p),h=new Array(m.length);for(let y=0;y<m.length;y++){let b=m[y],E=p[b];typeof E!="object"||E===null?h[b]=E:E.constructor!==Object&&(n=e.get(E.constructor))?h[b]=n(E,g):ArrayBuffer.isView(E)?h[b]=o(E):h[b]=g(E)}return h}function i(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return t(p,i);if(p.constructor!==Object&&(n=e.get(p.constructor)))return n(p,i);let g={};for(let m in p){if(Object.hasOwnProperty.call(p,m)===!1)continue;let h=p[m];typeof h!="object"||h===null?g[m]=h:h.constructor!==Object&&(n=e.get(h.constructor))?g[m]=n(h,i):ArrayBuffer.isView(h)?g[m]=o(h):g[m]=i(h)}return g}function l(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return t(p,l);if(p.constructor!==Object&&(n=e.get(p.constructor)))return n(p,l);let g={};for(let m in p){let h=p[m];typeof h!="object"||h===null?g[m]=h:h.constructor!==Object&&(n=e.get(h.constructor))?g[m]=n(h,l):ArrayBuffer.isView(h)?g[m]=o(h):g[m]=l(h)}return g}}function u(r){let e=[],n=[],t=new Map;if(t.set(Date,m=>new Date(m)),t.set(Map,(m,h)=>new Map(l(Array.from(m),h))),t.set(Set,(m,h)=>new Set(l(Array.from(m),h))),r.constructorHandlers)for(let m of r.constructorHandlers)t.set(m[0],m[1]);let i=null;return r.proto?g:p;function l(m,h){let y=Object.keys(m),b=new Array(y.length);for(let E=0;E<y.length;E++){let d=y[E],_=m[d];if(typeof _!="object"||_===null)b[d]=_;else if(_.constructor!==Object&&(i=t.get(_.constructor)))b[d]=i(_,h);else if(ArrayBuffer.isView(_))b[d]=o(_);else{let I=e.indexOf(_);I!==-1?b[d]=n[I]:b[d]=h(_)}}return b}function p(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return l(m,p);if(m.constructor!==Object&&(i=t.get(m.constructor)))return i(m,p);let h={};e.push(m),n.push(h);for(let y in m){if(Object.hasOwnProperty.call(m,y)===!1)continue;let b=m[y];if(typeof b!="object"||b===null)h[y]=b;else if(b.constructor!==Object&&(i=t.get(b.constructor)))h[y]=i(b,p);else if(ArrayBuffer.isView(b))h[y]=o(b);else{let E=e.indexOf(b);E!==-1?h[y]=n[E]:h[y]=p(b)}}return e.pop(),n.pop(),h}function g(m){if(typeof m!="object"||m===null)return m;if(Array.isArray(m))return l(m,g);if(m.constructor!==Object&&(i=t.get(m.constructor)))return i(m,g);let h={};e.push(m),n.push(h);for(let y in m){let b=m[y];if(typeof b!="object"||b===null)h[y]=b;else if(b.constructor!==Object&&(i=t.get(b.constructor)))h[y]=i(b,g);else if(ArrayBuffer.isView(b))h[y]=o(b);else{let E=e.indexOf(b);E!==-1?h[y]=n[E]:h[y]=g(b)}}return e.pop(),n.pop(),h}}}),kl=de((f,a)=>{le(),ce(),ue(),a.exports=Ol()()}),Pl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0}),f.validateTopic=a,f.validateTopics=o;function a(s){let u=s.split("/");for(let r=0;r<u.length;r++)if(u[r]!=="+"){if(u[r]==="#")return r===u.length-1;if(u[r].indexOf("+")!==-1||u[r].indexOf("#")!==-1)return!1}return!0}function o(s){if(s.length===0)return"empty_topic_list";for(let u=0;u<s.length;u++)if(!a(s[u]))return s[u];return null}}),Vs=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=Tt(),o={objectMode:!0},s={clean:!0},u=class{options;_inflights;constructor(r){this.options=r||{},this.options={...s,...r},this._inflights=new Map}put(r,e){return this._inflights.set(r.messageId,r),e&&e(),this}createStream(){let r=new a.Readable(o),e=[],n=!1,t=0;return this._inflights.forEach((i,l)=>{e.push(i)}),r._read=()=>{!n&&t<e.length?r.push(e[t++]):r.push(null)},r.destroy=i=>{if(!n)return n=!0,setTimeout(()=>{r.emit("close")},0),r},r}del(r,e){let n=this._inflights.get(r.messageId);return n?(this._inflights.delete(r.messageId),e(null,n)):e&&e(new Error("missing packet")),this}get(r,e){let n=this._inflights.get(r.messageId);return n?e(null,n):e&&e(new Error("missing packet")),this}close(r){this.options.clean&&(this._inflights=null),r&&r()}};f.default=u}),Rl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=[0,16,128,131,135,144,145,151,153],o=(s,u,r)=>{s.log("handlePublish: packet %o",u),r=typeof r<"u"?r:s.noop;let e=u.topic.toString(),n=u.payload,{qos:t}=u,{messageId:i}=u,{options:l}=s;if(s.options.protocolVersion===5){let p;if(u.properties&&(p=u.properties.topicAlias),typeof p<"u")if(e.length===0)if(p>0&&p<=65535){let g=s.topicAliasRecv.getTopicByAlias(p);if(g)e=g,s.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",e,p);else{s.log("handlePublish :: unregistered topic alias. alias: %d",p),s.emit("error",new Error("Received unregistered Topic Alias"));return}}else{s.log("handlePublish :: topic alias out of range. alias: %d",p),s.emit("error",new Error("Received Topic Alias is out of range"));return}else if(s.topicAliasRecv.put(e,p))s.log("handlePublish :: registered topic: %s - alias: %d",e,p);else{s.log("handlePublish :: topic alias out of range. alias: %d",p),s.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(s.log("handlePublish: qos %d",t),t){case 2:{l.customHandleAcks(e,n,u,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return s.emit("error",p);if(a.indexOf(g)===-1)return s.emit("error",new Error("Wrong reason code for pubrec"));g?s._sendPacket({cmd:"pubrec",messageId:i,reasonCode:g},r):s.incomingStore.put(u,()=>{s._sendPacket({cmd:"pubrec",messageId:i},r)})});break}case 1:{l.customHandleAcks(e,n,u,(p,g)=>{if(typeof p=="number"&&(g=p,p=null),p)return s.emit("error",p);if(a.indexOf(g)===-1)return s.emit("error",new Error("Wrong reason code for puback"));g||s.emit("message",e,n,u),s.handleMessage(u,m=>{if(m)return r&&r(m);s._sendPacket({cmd:"puback",messageId:i,reasonCode:g},r)})});break}case 0:s.emit("message",e,n,u),s.handleMessage(u,r);break;default:s.log("handlePublish: unknown QoS. Doing nothing.");break}};f.default=o}),Cl=de((f,a)=>{a.exports={version:"5.14.1"}}),Lt=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0}),f.MQTTJS_VERSION=f.nextTick=f.ErrorWithSubackPacket=f.ErrorWithReasonCode=void 0,f.applyMixin=s;var a=class Hs extends Error{code;constructor(r,e){super(r),this.code=e,Object.setPrototypeOf(this,Hs.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};f.ErrorWithReasonCode=a;var o=class Gs extends Error{packet;constructor(r,e){super(r),this.packet=e,Object.setPrototypeOf(this,Gs.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};f.ErrorWithSubackPacket=o;function s(u,r,e=!1){let n=[r];for(;;){let t=n[0],i=Object.getPrototypeOf(t);if(i?.prototype)n.unshift(i);else break}for(let t of n)for(let i of Object.getOwnPropertyNames(t.prototype))(e||i!=="constructor")&&Object.defineProperty(u.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i)??Object.create(null))}f.nextTick=typeof Ce?.nextTick=="function"?Ce.nextTick:u=>{setTimeout(u,0)},f.MQTTJS_VERSION=Cl().version}),Mr=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=void 0;var a=Lt();f.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var o=(s,u)=>{let{messageId:r}=u,e=u.cmd,n=null,t=s.outgoing[r]?s.outgoing[r].cb:null,i=null;if(!t){s.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(s.log("_handleAck :: packet type",e),e){case"pubcomp":case"puback":{let l=u.reasonCode;l&&l>0&&l!==16?(i=new a.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[l]}`,l),s._removeOutgoingAndStoreMessage(r,()=>{t(i,u)})):s._removeOutgoingAndStoreMessage(r,t);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:r};let l=u.reasonCode;l&&l>0&&l!==16?(i=new a.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[l]}`,l),s._removeOutgoingAndStoreMessage(r,()=>{t(i,u)})):s._sendPacket(n);break}case"suback":{delete s.outgoing[r],s.messageIdProvider.deallocate(r);let l=u.granted;for(let p=0;p<l.length;p++){let g=l[p];if(g&128){i=new Error(`Subscribe error: ${f.ReasonCodes[g]}`),i.code=g;let m=s.messageIdToTopic[r];m&&m.forEach(h=>{delete s._resubscribeTopics[h]})}}delete s.messageIdToTopic[r],s._invokeStoreProcessingQueue(),t(i,u);break}case"unsuback":{delete s.outgoing[r],s.messageIdProvider.deallocate(r),s._invokeStoreProcessingQueue(),t(null,u);break}default:s.emit("error",new Error("unrecognized packet type"))}s.disconnecting&&Object.keys(s.outgoing).length===0&&s.emit("outgoingEmpty")};f.default=o}),Ml=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=Lt(),o=Mr(),s=(u,r)=>{let{options:e}=u,n=e.protocolVersion,t=n===5?r.reasonCode:r.returnCode;if(n!==5){let i=new a.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${n}`,t);u.emit("error",i);return}u.handleAuth(r,(i,l)=>{if(i){u.emit("error",i);return}if(t===24)u.reconnecting=!1,u._sendPacket(l);else{let p=new a.ErrorWithReasonCode(`Connection refused: ${o.ReasonCodes[t]}`,t);u.emit("error",p)}})};f.default=s}),jl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0}),f.LRUCache=void 0;var a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,o=new Set,s=typeof Ce=="object"&&Ce?Ce:{},u=(m,h,y,b)=>{typeof s.emitWarning=="function"?s.emitWarning(m,h,y,b):console.error(`[${y}] ${h}: ${m}`)},r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(y,b){this._onabort.push(b)}},r=class{constructor(){h()}signal=new e;abort(y){if(!this.signal.aborted){this.signal.reason=y,this.signal.aborted=!0;for(let b of this.signal._onabort)b(y);this.signal.onabort?.(y)}}};let m=s.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",h=()=>{m&&(m=!1,u("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",h))}}var n=m=>!o.has(m),t=m=>m&&m===Math.floor(m)&&m>0&&isFinite(m),i=m=>t(m)?m<=Math.pow(2,8)?Uint8Array:m<=Math.pow(2,16)?Uint16Array:m<=Math.pow(2,32)?Uint32Array:m<=Number.MAX_SAFE_INTEGER?l:null:null,l=class extends Array{constructor(m){super(m),this.fill(0)}},p=class Kt{heap;length;static#l=!1;static create(h){let y=i(h);if(!y)return[];Kt.#l=!0;let b=new Kt(h,y);return Kt.#l=!1,b}constructor(h,y){if(!Kt.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new y(h),this.length=0}push(h){this.heap[this.length++]=h}pop(){return this.heap[--this.length]}},g=class Qs{#l;#f;#g;#y;#P;#R;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#b;#n;#r;#e;#u;#h;#a;#o;#m;#s;#v;#w;#p;#_;#x;#c;static unsafeExposeInternals(h){return{starts:h.#w,ttls:h.#p,sizes:h.#v,keyMap:h.#n,keyList:h.#r,valList:h.#e,next:h.#u,prev:h.#h,get head(){return h.#a},get tail(){return h.#o},free:h.#m,isBackgroundFetch:y=>h.#t(y),backgroundFetch:(y,b,E,d)=>h.#j(y,b,E,d),moveToTail:y=>h.#k(y),indexes:y=>h.#E(y),rindexes:y=>h.#S(y),isStale:y=>h.#d(y)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#b}get size(){return this.#i}get fetchMethod(){return this.#P}get memoMethod(){return this.#R}get dispose(){return this.#g}get disposeAfter(){return this.#y}constructor(h){let{max:y=0,ttl:b,ttlResolution:E=1,ttlAutopurge:d,updateAgeOnGet:_,updateAgeOnHas:I,allowStale:v,dispose:A,disposeAfter:S,noDisposeOnSet:T,noUpdateTTL:C,maxSize:P=0,maxEntrySize:U=0,sizeCalculation:O,fetchMethod:q,memoMethod:D,noDeleteOnFetchRejection:L,noDeleteOnStaleGet:ae,allowStaleOnFetchRejection:Q,allowStaleOnFetchAbort:V,ignoreFetchAbort:re}=h;if(y!==0&&!t(y))throw new TypeError("max option must be a nonnegative integer");let F=y?i(y):Array;if(!F)throw new Error("invalid max value: "+y);if(this.#l=y,this.#f=P,this.maxEntrySize=U||this.#f,this.sizeCalculation=O,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(D!==void 0&&typeof D!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#R=D,q!==void 0&&typeof q!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#P=q,this.#x=!!q,this.#n=new Map,this.#r=new Array(y).fill(void 0),this.#e=new Array(y).fill(void 0),this.#u=new F(y),this.#h=new F(y),this.#a=0,this.#o=0,this.#m=p.create(y),this.#i=0,this.#b=0,typeof A=="function"&&(this.#g=A),typeof S=="function"?(this.#y=S,this.#s=[]):(this.#y=void 0,this.#s=void 0),this.#_=!!this.#g,this.#c=!!this.#y,this.noDisposeOnSet=!!T,this.noUpdateTTL=!!C,this.noDeleteOnFetchRejection=!!L,this.allowStaleOnFetchRejection=!!Q,this.allowStaleOnFetchAbort=!!V,this.ignoreFetchAbort=!!re,this.maxEntrySize!==0){if(this.#f!==0&&!t(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!t(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#W()}if(this.allowStale=!!v,this.noDeleteOnStaleGet=!!ae,this.updateAgeOnGet=!!_,this.updateAgeOnHas=!!I,this.ttlResolution=t(E)||E===0?E:1,this.ttlAutopurge=!!d,this.ttl=b||0,this.ttl){if(!t(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){let Z="LRU_CACHE_UNBOUNDED";n(Z)&&(o.add(Z),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Z,Qs))}}getRemainingTTL(h){return this.#n.has(h)?1/0:0}#N(){let h=new l(this.#l),y=new l(this.#l);this.#p=h,this.#w=y,this.#L=(d,_,I=a.now())=>{if(y[d]=_!==0?I:0,h[d]=_,_!==0&&this.ttlAutopurge){let v=setTimeout(()=>{this.#d(d)&&this.#A(this.#r[d],"expire")},_+1);v.unref&&v.unref()}},this.#T=d=>{y[d]=h[d]!==0?a.now():0},this.#I=(d,_)=>{if(h[_]){let I=h[_],v=y[_];if(!I||!v)return;d.ttl=I,d.start=v,d.now=b||E();let A=d.now-v;d.remainingTTL=I-A}};let b=0,E=()=>{let d=a.now();if(this.ttlResolution>0){b=d;let _=setTimeout(()=>b=0,this.ttlResolution);_.unref&&_.unref()}return d};this.getRemainingTTL=d=>{let _=this.#n.get(d);if(_===void 0)return 0;let I=h[_],v=y[_];if(!I||!v)return 1/0;let A=(b||E())-v;return I-A},this.#d=d=>{let _=y[d],I=h[d];return!!I&&!!_&&(b||E())-_>I}}#T=()=>{};#I=()=>{};#L=()=>{};#d=()=>!1;#W(){let h=new l(this.#l);this.#b=0,this.#v=h,this.#O=y=>{this.#b-=h[y],h[y]=0},this.#B=(y,b,E,d)=>{if(this.#t(b))return 0;if(!t(E))if(d){if(typeof d!="function")throw new TypeError("sizeCalculation must be a function");if(E=d(b,y),!t(E))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return E},this.#C=(y,b,E)=>{if(h[y]=b,this.#f){let d=this.#f-h[y];for(;this.#b>d;)this.#M(!0)}this.#b+=h[y],E&&(E.entrySize=b,E.totalCalculatedSize=this.#b)}}#O=h=>{};#C=(h,y,b)=>{};#B=(h,y,b,E)=>{if(b||E)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:h=this.allowStale}={}){if(this.#i)for(let y=this.#o;!(!this.#U(y)||((h||!this.#d(y))&&(yield y),y===this.#a));)y=this.#h[y]}*#S({allowStale:h=this.allowStale}={}){if(this.#i)for(let y=this.#a;!(!this.#U(y)||((h||!this.#d(y))&&(yield y),y===this.#o));)y=this.#u[y]}#U(h){return h!==void 0&&this.#n.get(this.#r[h])===h}*entries(){for(let h of this.#E())this.#e[h]!==void 0&&this.#r[h]!==void 0&&!this.#t(this.#e[h])&&(yield[this.#r[h],this.#e[h]])}*rentries(){for(let h of this.#S())this.#e[h]!==void 0&&this.#r[h]!==void 0&&!this.#t(this.#e[h])&&(yield[this.#r[h],this.#e[h]])}*keys(){for(let h of this.#E()){let y=this.#r[h];y!==void 0&&!this.#t(this.#e[h])&&(yield y)}}*rkeys(){for(let h of this.#S()){let y=this.#r[h];y!==void 0&&!this.#t(this.#e[h])&&(yield y)}}*values(){for(let h of this.#E())this.#e[h]!==void 0&&!this.#t(this.#e[h])&&(yield this.#e[h])}*rvalues(){for(let h of this.#S())this.#e[h]!==void 0&&!this.#t(this.#e[h])&&(yield this.#e[h])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(h,y={}){for(let b of this.#E()){let E=this.#e[b],d=this.#t(E)?E.__staleWhileFetching:E;if(d!==void 0&&h(d,this.#r[b],this))return this.get(this.#r[b],y)}}forEach(h,y=this){for(let b of this.#E()){let E=this.#e[b],d=this.#t(E)?E.__staleWhileFetching:E;d!==void 0&&h.call(y,d,this.#r[b],this)}}rforEach(h,y=this){for(let b of this.#S()){let E=this.#e[b],d=this.#t(E)?E.__staleWhileFetching:E;d!==void 0&&h.call(y,d,this.#r[b],this)}}purgeStale(){let h=!1;for(let y of this.#S({allowStale:!0}))this.#d(y)&&(this.#A(this.#r[y],"expire"),h=!0);return h}info(h){let y=this.#n.get(h);if(y===void 0)return;let b=this.#e[y],E=this.#t(b)?b.__staleWhileFetching:b;if(E===void 0)return;let d={value:E};if(this.#p&&this.#w){let _=this.#p[y],I=this.#w[y];if(_&&I){let v=_-(a.now()-I);d.ttl=v,d.start=Date.now()}}return this.#v&&(d.size=this.#v[y]),d}dump(){let h=[];for(let y of this.#E({allowStale:!0})){let b=this.#r[y],E=this.#e[y],d=this.#t(E)?E.__staleWhileFetching:E;if(d===void 0||b===void 0)continue;let _={value:d};if(this.#p&&this.#w){_.ttl=this.#p[y];let I=a.now()-this.#w[y];_.start=Math.floor(Date.now()-I)}this.#v&&(_.size=this.#v[y]),h.unshift([b,_])}return h}load(h){this.clear();for(let[y,b]of h){if(b.start){let E=Date.now()-b.start;b.start=a.now()-E}this.set(y,b.value,b)}}set(h,y,b={}){if(y===void 0)return this.delete(h),this;let{ttl:E=this.ttl,start:d,noDisposeOnSet:_=this.noDisposeOnSet,sizeCalculation:I=this.sizeCalculation,status:v}=b,{noUpdateTTL:A=this.noUpdateTTL}=b,S=this.#B(h,y,b.size||0,I);if(this.maxEntrySize&&S>this.maxEntrySize)return v&&(v.set="miss",v.maxEntrySizeExceeded=!0),this.#A(h,"set"),this;let T=this.#i===0?void 0:this.#n.get(h);if(T===void 0)T=this.#i===0?this.#o:this.#m.length!==0?this.#m.pop():this.#i===this.#l?this.#M(!1):this.#i,this.#r[T]=h,this.#e[T]=y,this.#n.set(h,T),this.#u[this.#o]=T,this.#h[T]=this.#o,this.#o=T,this.#i++,this.#C(T,S,v),v&&(v.set="add"),A=!1;else{this.#k(T);let C=this.#e[T];if(y!==C){if(this.#x&&this.#t(C)){C.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:P}=C;P!==void 0&&!_&&(this.#_&&this.#g?.(P,h,"set"),this.#c&&this.#s?.push([P,h,"set"]))}else _||(this.#_&&this.#g?.(C,h,"set"),this.#c&&this.#s?.push([C,h,"set"]));if(this.#O(T),this.#C(T,S,v),this.#e[T]=y,v){v.set="replace";let P=C&&this.#t(C)?C.__staleWhileFetching:C;P!==void 0&&(v.oldValue=P)}}else v&&(v.set="update")}if(E!==0&&!this.#p&&this.#N(),this.#p&&(A||this.#L(T,E,d),v&&this.#I(v,T)),!_&&this.#c&&this.#s){let C=this.#s,P;for(;P=C?.shift();)this.#y?.(...P)}return this}pop(){try{for(;this.#i;){let h=this.#e[this.#a];if(this.#M(!0),this.#t(h)){if(h.__staleWhileFetching)return h.__staleWhileFetching}else if(h!==void 0)return h}}finally{if(this.#c&&this.#s){let h=this.#s,y;for(;y=h?.shift();)this.#y?.(...y)}}}#M(h){let y=this.#a,b=this.#r[y],E=this.#e[y];return this.#x&&this.#t(E)?E.__abortController.abort(new Error("evicted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(E,b,"evict"),this.#c&&this.#s?.push([E,b,"evict"])),this.#O(y),h&&(this.#r[y]=void 0,this.#e[y]=void 0,this.#m.push(y)),this.#i===1?(this.#a=this.#o=0,this.#m.length=0):this.#a=this.#u[y],this.#n.delete(b),this.#i--,y}has(h,y={}){let{updateAgeOnHas:b=this.updateAgeOnHas,status:E}=y,d=this.#n.get(h);if(d!==void 0){let _=this.#e[d];if(this.#t(_)&&_.__staleWhileFetching===void 0)return!1;if(this.#d(d))E&&(E.has="stale",this.#I(E,d));else return b&&this.#T(d),E&&(E.has="hit",this.#I(E,d)),!0}else E&&(E.has="miss");return!1}peek(h,y={}){let{allowStale:b=this.allowStale}=y,E=this.#n.get(h);if(E===void 0||!b&&this.#d(E))return;let d=this.#e[E];return this.#t(d)?d.__staleWhileFetching:d}#j(h,y,b,E){let d=y===void 0?void 0:this.#e[y];if(this.#t(d))return d;let _=new r,{signal:I}=b;I?.addEventListener("abort",()=>_.abort(I.reason),{signal:_.signal});let v={signal:_.signal,options:b,context:E},A=(O,q=!1)=>{let{aborted:D}=_.signal,L=b.ignoreFetchAbort&&O!==void 0;if(b.status&&(D&&!q?(b.status.fetchAborted=!0,b.status.fetchError=_.signal.reason,L&&(b.status.fetchAbortIgnored=!0)):b.status.fetchResolved=!0),D&&!L&&!q)return T(_.signal.reason);let ae=P;return this.#e[y]===P&&(O===void 0?ae.__staleWhileFetching?this.#e[y]=ae.__staleWhileFetching:this.#A(h,"fetch"):(b.status&&(b.status.fetchUpdated=!0),this.set(h,O,v.options))),O},S=O=>(b.status&&(b.status.fetchRejected=!0,b.status.fetchError=O),T(O)),T=O=>{let{aborted:q}=_.signal,D=q&&b.allowStaleOnFetchAbort,L=D||b.allowStaleOnFetchRejection,ae=L||b.noDeleteOnFetchRejection,Q=P;if(this.#e[y]===P&&(!ae||Q.__staleWhileFetching===void 0?this.#A(h,"fetch"):D||(this.#e[y]=Q.__staleWhileFetching)),L)return b.status&&Q.__staleWhileFetching!==void 0&&(b.status.returnedStale=!0),Q.__staleWhileFetching;if(Q.__returned===Q)throw O},C=(O,q)=>{let D=this.#P?.(h,d,v);D&&D instanceof Promise&&D.then(L=>O(L===void 0?void 0:L),q),_.signal.addEventListener("abort",()=>{(!b.ignoreFetchAbort||b.allowStaleOnFetchAbort)&&(O(void 0),b.allowStaleOnFetchAbort&&(O=L=>A(L,!0)))})};b.status&&(b.status.fetchDispatched=!0);let P=new Promise(C).then(A,S),U=Object.assign(P,{__abortController:_,__staleWhileFetching:d,__returned:void 0});return y===void 0?(this.set(h,U,{...v.options,status:void 0}),y=this.#n.get(h)):this.#e[y]=U,U}#t(h){if(!this.#x)return!1;let y=h;return!!y&&y instanceof Promise&&y.hasOwnProperty("__staleWhileFetching")&&y.__abortController instanceof r}async fetch(h,y={}){let{allowStale:b=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:d=this.noDeleteOnStaleGet,ttl:_=this.ttl,noDisposeOnSet:I=this.noDisposeOnSet,size:v=0,sizeCalculation:A=this.sizeCalculation,noUpdateTTL:S=this.noUpdateTTL,noDeleteOnFetchRejection:T=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:C=this.allowStaleOnFetchRejection,ignoreFetchAbort:P=this.ignoreFetchAbort,allowStaleOnFetchAbort:U=this.allowStaleOnFetchAbort,context:O,forceRefresh:q=!1,status:D,signal:L}=y;if(!this.#x)return D&&(D.fetch="get"),this.get(h,{allowStale:b,updateAgeOnGet:E,noDeleteOnStaleGet:d,status:D});let ae={allowStale:b,updateAgeOnGet:E,noDeleteOnStaleGet:d,ttl:_,noDisposeOnSet:I,size:v,sizeCalculation:A,noUpdateTTL:S,noDeleteOnFetchRejection:T,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:U,ignoreFetchAbort:P,status:D,signal:L},Q=this.#n.get(h);if(Q===void 0){D&&(D.fetch="miss");let V=this.#j(h,Q,ae,O);return V.__returned=V}else{let V=this.#e[Q];if(this.#t(V)){let R=b&&V.__staleWhileFetching!==void 0;return D&&(D.fetch="inflight",R&&(D.returnedStale=!0)),R?V.__staleWhileFetching:V.__returned=V}let re=this.#d(Q);if(!q&&!re)return D&&(D.fetch="hit"),this.#k(Q),E&&this.#T(Q),D&&this.#I(D,Q),V;let F=this.#j(h,Q,ae,O),Z=F.__staleWhileFetching!==void 0&&b;return D&&(D.fetch=re?"stale":"refresh",Z&&re&&(D.returnedStale=!0)),Z?F.__staleWhileFetching:F.__returned=F}}async forceFetch(h,y={}){let b=await this.fetch(h,y);if(b===void 0)throw new Error("fetch() returned undefined");return b}memo(h,y={}){let b=this.#R;if(!b)throw new Error("no memoMethod provided to constructor");let{context:E,forceRefresh:d,..._}=y,I=this.get(h,_);if(!d&&I!==void 0)return I;let v=b(h,I,{options:_,context:E});return this.set(h,v,_),v}get(h,y={}){let{allowStale:b=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:d=this.noDeleteOnStaleGet,status:_}=y,I=this.#n.get(h);if(I!==void 0){let v=this.#e[I],A=this.#t(v);return _&&this.#I(_,I),this.#d(I)?(_&&(_.get="stale"),A?(_&&b&&v.__staleWhileFetching!==void 0&&(_.returnedStale=!0),b?v.__staleWhileFetching:void 0):(d||this.#A(h,"expire"),_&&b&&(_.returnedStale=!0),b?v:void 0)):(_&&(_.get="hit"),A?v.__staleWhileFetching:(this.#k(I),E&&this.#T(I),v))}else _&&(_.get="miss")}#D(h,y){this.#h[y]=h,this.#u[h]=y}#k(h){h!==this.#o&&(h===this.#a?this.#a=this.#u[h]:this.#D(this.#h[h],this.#u[h]),this.#D(this.#o,h),this.#o=h)}delete(h){return this.#A(h,"delete")}#A(h,y){let b=!1;if(this.#i!==0){let E=this.#n.get(h);if(E!==void 0)if(b=!0,this.#i===1)this.#F(y);else{this.#O(E);let d=this.#e[E];if(this.#t(d)?d.__abortController.abort(new Error("deleted")):(this.#_||this.#c)&&(this.#_&&this.#g?.(d,h,y),this.#c&&this.#s?.push([d,h,y])),this.#n.delete(h),this.#r[E]=void 0,this.#e[E]=void 0,E===this.#o)this.#o=this.#h[E];else if(E===this.#a)this.#a=this.#u[E];else{let _=this.#h[E];this.#u[_]=this.#u[E];let I=this.#u[E];this.#h[I]=this.#h[E]}this.#i--,this.#m.push(E)}}if(this.#c&&this.#s?.length){let E=this.#s,d;for(;d=E?.shift();)this.#y?.(...d)}return b}clear(){return this.#F("delete")}#F(h){for(let y of this.#S({allowStale:!0})){let b=this.#e[y];if(this.#t(b))b.__abortController.abort(new Error("deleted"));else{let E=this.#r[y];this.#_&&this.#g?.(b,E,h),this.#c&&this.#s?.push([b,E,h])}}if(this.#n.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#p&&this.#w&&(this.#p.fill(0),this.#w.fill(0)),this.#v&&this.#v.fill(0),this.#a=0,this.#o=0,this.#m.length=0,this.#b=0,this.#i=0,this.#c&&this.#s){let y=this.#s,b;for(;b=y?.shift();)this.#y?.(...b)}}};f.LRUCache=g}),ct=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.ContainerIterator=f.Container=f.Base=void 0;var a=class{constructor(u=0){this.iteratorType=u}equals(u){return this.o===u.o}};f.ContainerIterator=a;var o=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};f.Base=o;var s=class extends o{};f.Container=s}),Nl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=ct(),o=class extends a.Base{constructor(u=[]){super(),this.S=[];let r=this;u.forEach(function(e){r.push(e)})}clear(){this.i=0,this.S=[]}push(u){return this.S.push(u),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},s=o;f.default=s}),Ll=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=ct(),o=class extends a.Base{constructor(u=[]){super(),this.j=0,this.q=[];let r=this;u.forEach(function(e){r.push(e)})}clear(){this.q=[],this.i=this.j=0}push(u){let r=this.q.length;if(this.j/r>.5&&this.j+this.i>=r&&r>4096){let e=this.i;for(let n=0;n<e;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=u}else this.q[this.j+this.i]=u;return++this.i}pop(){if(this.i===0)return;let u=this.q[this.j++];return this.i-=1,u}front(){if(this.i!==0)return this.q[this.j]}},s=o;f.default=s}),Bl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=ct(),o=class extends a.Base{constructor(u=[],r=function(n,t){return n>t?-1:n<t?1:0},e=!0){if(super(),this.v=r,Array.isArray(u))this.C=e?[...u]:u;else{this.C=[];let t=this;u.forEach(function(i){t.C.push(i)})}this.i=this.C.length;let n=this.i>>1;for(let t=this.i-1>>1;t>=0;--t)this.k(t,n)}m(u){let r=this.C[u];for(;u>0;){let e=u-1>>1,n=this.C[e];if(this.v(n,r)<=0)break;this.C[u]=n,u=e}this.C[u]=r}k(u,r){let e=this.C[u];for(;u<r;){let n=u<<1|1,t=n+1,i=this.C[n];if(t<this.i&&this.v(i,this.C[t])>0&&(n=t,i=this.C[t]),this.v(i,e)>=0)break;this.C[u]=i,u=n}this.C[u]=e}clear(){this.i=0,this.C.length=0}push(u){this.C.push(u),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let u=this.C[0],r=this.C.pop();return this.i-=1,this.i&&(this.C[0]=r,this.k(0,this.i>>1)),u}top(){return this.C[0]}find(u){return this.C.indexOf(u)>=0}remove(u){let r=this.C.indexOf(u);return r<0?!1:(r===0?this.pop():r===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(r,1,this.C.pop()),this.i-=1,this.m(r),this.k(r,this.i>>1)),!0)}updateItem(u){let r=this.C.indexOf(u);return r<0?!1:(this.m(r),this.k(r,this.i>>1),!0)}toArray(){return[...this.C]}},s=o;f.default=s}),zi=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=ct(),o=class extends a.Container{},s=o;f.default=s}),ft=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.throwIteratorAccessError=a;function a(){throw new RangeError("Iterator access denied!")}}),Ys=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.RandomIterator=void 0;var a=ct(),o=ft(),s=class extends a.ContainerIterator{constructor(u,r){super(r),this.o=u,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,o.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,o.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,o.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,o.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(u){this.container.setElementByPos(this.o,u)}};f.RandomIterator=s}),Ul=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=s(zi()),o=Ys();function s(n){return n&&n.t?n:{default:n}}var u=class Js extends o.RandomIterator{constructor(t,i,l){super(t,l),this.container=i}copy(){return new Js(this.o,this.container,this.iteratorType)}},r=class extends a.default{constructor(n=[],t=!0){if(super(),Array.isArray(n))this.J=t?[...n]:n,this.i=n.length;else{this.J=[];let i=this;n.forEach(function(l){i.pushBack(l)})}}clear(){this.i=0,this.J.length=0}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J[n]}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J.splice(n,1),this.i-=1,this.i}eraseElementByValue(n){let t=0;for(let i=0;i<this.i;++i)this.J[i]!==n&&(this.J[t++]=this.J[i]);return this.i=this.J.length=t,this.i}eraseElementByIterator(n){let t=n.o;return n=n.next(),this.eraseElementByPos(t),n}pushBack(n){return this.J.push(n),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(n,t){if(n<0||n>this.i-1)throw new RangeError;this.J[n]=t}insert(n,t,i=1){if(n<0||n>this.i)throw new RangeError;return this.J.splice(n,0,...new Array(i).fill(t)),this.i+=i,this.i}find(n){for(let t=0;t<this.i;++t)if(this.J[t]===n)return new u(t,this);return this.end()}reverse(){this.J.reverse()}unique(){let n=1;for(let t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[n++]=this.J[t]);return this.i=this.J.length=n,this.i}sort(n){this.J.sort(n)}forEach(n){for(let t=0;t<this.i;++t)n(this.J[t],t,this)}[Symbol.iterator](){return function*(){yield*this.J}.bind(this)()}},e=r;f.default=e}),Dl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=u(zi()),o=ct(),s=ft();function u(t){return t&&t.t?t:{default:t}}var r=class Xs extends o.ContainerIterator{constructor(i,l,p,g){super(g),this.o=i,this.h=l,this.container=p,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.l=i}copy(){return new Xs(this.o,this.h,this.container,this.iteratorType)}},e=class extends a.default{constructor(t=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;t.forEach(function(l){i.pushBack(l)})}V(t){let{L:i,B:l}=t;i.B=l,l.L=i,t===this.p&&(this.p=l),t===this._&&(this._=i),this.i-=1}G(t,i){let l=i.B,p={l:t,L:i,B:l};i.B=p,l.L=p,i===this.h&&(this.p=p),l===this.h&&(this._=p),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let i=this.p;for(;t--;)i=i.B;return i.l}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let i=this.p;for(;t--;)i=i.B;return this.V(i),this.i}eraseElementByValue(t){let i=this.p;for(;i!==this.h;)i.l===t&&this.V(i),i=i.B;return this.i}eraseElementByIterator(t){let i=t.o;return i===this.h&&(0,s.throwIteratorAccessError)(),t=t.next(),this.V(i),t}pushBack(t){return this.G(t,this._),this.i}popBack(){if(this.i===0)return;let t=this._.l;return this.V(this._),t}pushFront(t){return this.G(t,this.h),this.i}popFront(){if(this.i===0)return;let t=this.p.l;return this.V(this.p),t}setElementByPos(t,i){if(t<0||t>this.i-1)throw new RangeError;let l=this.p;for(;t--;)l=l.B;l.l=i}insert(t,i,l=1){if(t<0||t>this.i)throw new RangeError;if(l<=0)return this.i;if(t===0)for(;l--;)this.pushFront(i);else if(t===this.i)for(;l--;)this.pushBack(i);else{let p=this.p;for(let m=1;m<t;++m)p=p.B;let g=p.B;for(this.i+=l;l--;)p.B={l:i,L:p},p.B.L=p,p=p.B;p.B=g,g.L=p}return this.i}find(t){let i=this.p;for(;i!==this.h;){if(i.l===t)return new r(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let t=this.p,i=this._,l=0;for(;l<<1<this.i;){let p=t.l;t.l=i.l,i.l=p,t=t.B,i=i.L,l+=1}}unique(){if(this.i<=1)return this.i;let t=this.p;for(;t!==this.h;){let i=t;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;t.B=i.B,t.B.L=t,t=t.B}return this.i}sort(t){if(this.i<=1)return;let i=[];this.forEach(function(p){i.push(p)}),i.sort(t);let l=this.p;i.forEach(function(p){l.l=p,l=l.B})}merge(t){let i=this;if(this.i===0)t.forEach(function(l){i.pushBack(l)});else{let l=this.p;t.forEach(function(p){for(;l!==i.h&&l.l<=p;)l=l.B;i.G(p,l.L)})}return this.i}forEach(t){let i=this.p,l=0;for(;i!==this.h;)t(i.l,l++,this),i=i.B}[Symbol.iterator](){return function*(){if(this.i===0)return;let t=this.p;for(;t!==this.h;)yield t.l,t=t.B}.bind(this)()}},n=e;f.default=n}),Fl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=s(zi()),o=Ys();function s(n){return n&&n.t?n:{default:n}}var u=class Zs extends o.RandomIterator{constructor(t,i,l){super(t,l),this.container=i}copy(){return new Zs(this.o,this.container,this.iteratorType)}},r=class extends a.default{constructor(n=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof n.length=="number")return n.length;if(typeof n.size=="number")return n.size;if(typeof n.size=="function")return n.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(i/this.F),1);for(let g=0;g<this.P;++g)this.A.push(new Array(this.F));let l=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(l>>1),this.D=this.N=this.F-i%this.F>>1;let p=this;n.forEach(function(g){p.pushBack(g)})}T(){let n=[],t=Math.max(this.P>>1,1);for(let i=0;i<t;++i)n[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)n[n.length]=this.A[i];for(let i=0;i<this.R;++i)n[n.length]=this.A[i];n[n.length]=[...this.A[this.R]],this.j=t,this.R=n.length-1;for(let i=0;i<t;++i)n[n.length]=new Array(this.F);this.A=n,this.P=n.length}O(n){let t=this.D+n+1,i=t%this.F,l=i-1,p=this.j+(t-i)/this.F;return i===0&&(p-=1),p%=this.P,l<0&&(l+=this.F),{curNodeBucketIndex:p,curNodePointerIndex:l}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(n){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=n,this.i}popBack(){if(this.i===0)return;let n=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,n}pushFront(n){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=n,this.i}popFront(){if(this.i===0)return;let n=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,n}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:t,curNodePointerIndex:i}=this.O(n);return this.A[t][i]}setElementByPos(n,t){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:l}=this.O(n);this.A[i][l]=t}insert(n,t,i=1){if(n<0||n>this.i)throw new RangeError;if(n===0)for(;i--;)this.pushFront(t);else if(n===this.i)for(;i--;)this.pushBack(t);else{let l=[];for(let p=n;p<this.i;++p)l.push(this.getElementByPos(p));this.cut(n-1);for(let p=0;p<i;++p)this.pushBack(t);for(let p=0;p<l.length;++p)this.pushBack(l[p])}return this.i}cut(n){if(n<0)return this.clear(),0;let{curNodeBucketIndex:t,curNodePointerIndex:i}=this.O(n);return this.R=t,this.N=i,this.i=n+1,this.i}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;if(n===0)this.popFront();else if(n===this.i-1)this.popBack();else{let t=[];for(let l=n+1;l<this.i;++l)t.push(this.getElementByPos(l));this.cut(n),this.popBack();let i=this;t.forEach(function(l){i.pushBack(l)})}return this.i}eraseElementByValue(n){if(this.i===0)return 0;let t=[];for(let l=0;l<this.i;++l){let p=this.getElementByPos(l);p!==n&&t.push(p)}let i=t.length;for(let l=0;l<i;++l)this.setElementByPos(l,t[l]);return this.cut(i-1)}eraseElementByIterator(n){let t=n.o;return this.eraseElementByPos(t),n=n.next(),n}find(n){for(let t=0;t<this.i;++t)if(this.getElementByPos(t)===n)return new u(t,this);return this.end()}reverse(){let n=0,t=this.i-1;for(;n<t;){let i=this.getElementByPos(n);this.setElementByPos(n,this.getElementByPos(t)),this.setElementByPos(t,i),n+=1,t-=1}}unique(){if(this.i<=1)return this.i;let n=1,t=this.getElementByPos(0);for(let i=1;i<this.i;++i){let l=this.getElementByPos(i);l!==t&&(t=l,this.setElementByPos(n++,l))}for(;this.i>n;)this.popBack();return this.i}sort(n){let t=[];for(let i=0;i<this.i;++i)t.push(this.getElementByPos(i));t.sort(n);for(let i=0;i<this.i;++i)this.setElementByPos(i,t[i])}shrinkToFit(){if(this.i===0)return;let n=[];this.forEach(function(t){n.push(t)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let t=0;t<this.P;++t)this.A.push(new Array(this.F));for(let t=0;t<n.length;++t)this.pushBack(n[t])}forEach(n){for(let t=0;t<this.i;++t)n(this.getElementByPos(t),t,this)}[Symbol.iterator](){return function*(){for(let n=0;n<this.i;++n)yield this.getElementByPos(n)}.bind(this)()}},e=r;f.default=e}),Wl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.TreeNodeEnableIndex=f.TreeNode=void 0;var a=class{constructor(s,u){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=s,this.l=u}L(){let s=this;if(s.ee===1&&s.tt.tt===s)s=s.W;else if(s.U)for(s=s.U;s.W;)s=s.W;else{let u=s.tt;for(;u.U===s;)s=u,u=s.tt;s=u}return s}B(){let s=this;if(s.W){for(s=s.W;s.U;)s=s.U;return s}else{let u=s.tt;for(;u.W===s;)s=u,u=s.tt;return s.W!==u?u:s}}te(){let s=this.tt,u=this.W,r=u.U;return s.tt===this?s.tt=u:s.U===this?s.U=u:s.W=u,u.tt=s,u.U=this,this.tt=u,this.W=r,r&&(r.tt=this),u}se(){let s=this.tt,u=this.U,r=u.W;return s.tt===this?s.tt=u:s.U===this?s.U=u:s.W=u,u.tt=s,u.W=this,this.tt=u,this.U=r,r&&(r.tt=this),u}};f.TreeNode=a;var o=class extends a{constructor(){super(...arguments),this.rt=1}te(){let s=super.te();return this.ie(),s.ie(),s}se(){let s=super.se();return this.ie(),s.ie(),s}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};f.TreeNodeEnableIndex=o}),ea=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=Wl(),o=ct(),s=ft(),u=class extends o.Container{constructor(e=function(t,i){return t<i?-1:t>i?1:0},n=!1){super(),this.Y=void 0,this.v=e,n?(this.re=a.TreeNodeEnableIndex,this.M=function(t,i,l){let p=this.ne(t,i,l);if(p){let g=p.tt;for(;g!==this.h;)g.rt+=1,g=g.tt;let m=this.he(p);if(m){let{parentNode:h,grandParent:y,curNode:b}=m;h.ie(),y.ie(),b.ie()}}return this.i},this.V=function(t){let i=this.fe(t);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=a.TreeNode,this.M=function(t,i,l){let p=this.ne(t,i,l);return p&&this.he(p),this.i},this.V=this.fe),this.h=new this.re}X(e,n){let t=this.h;for(;e;){let i=this.v(e.u,n);if(i<0)e=e.W;else if(i>0)t=e,e=e.U;else return e}return t}Z(e,n){let t=this.h;for(;e;)this.v(e.u,n)<=0?e=e.W:(t=e,e=e.U);return t}$(e,n){let t=this.h;for(;e;){let i=this.v(e.u,n);if(i<0)t=e,e=e.W;else if(i>0)e=e.U;else return e}return t}rr(e,n){let t=this.h;for(;e;)this.v(e.u,n)<0?(t=e,e=e.W):e=e.U;return t}ue(e){for(;;){let n=e.tt;if(n===this.h)return;if(e.ee===1){e.ee=0;return}if(e===n.U){let t=n.W;if(t.ee===1)t.ee=0,n.ee=1,n===this.Y?this.Y=n.te():n.te();else if(t.W&&t.W.ee===1){t.ee=n.ee,n.ee=0,t.W.ee=0,n===this.Y?this.Y=n.te():n.te();return}else t.U&&t.U.ee===1?(t.ee=1,t.U.ee=0,t.se()):(t.ee=1,e=n)}else{let t=n.U;if(t.ee===1)t.ee=0,n.ee=1,n===this.Y?this.Y=n.se():n.se();else if(t.U&&t.U.ee===1){t.ee=n.ee,n.ee=0,t.U.ee=0,n===this.Y?this.Y=n.se():n.se();return}else t.W&&t.W.ee===1?(t.ee=1,t.W.ee=0,t.te()):(t.ee=1,e=n)}}}fe(e){if(this.i===1)return this.clear(),this.h;let n=e;for(;n.U||n.W;){if(n.W)for(n=n.W;n.U;)n=n.U;else n=n.U;[e.u,n.u]=[n.u,e.u],[e.l,n.l]=[n.l,e.l],e=n}this.h.U===n?this.h.U=n.tt:this.h.W===n&&(this.h.W=n.tt),this.ue(n);let t=n.tt;return n===t.U?t.U=void 0:t.W=void 0,this.i-=1,this.Y.ee=0,t}oe(e,n){return e===void 0?!1:this.oe(e.U,n)||n(e)?!0:this.oe(e.W,n)}he(e){for(;;){let n=e.tt;if(n.ee===0)return;let t=n.tt;if(n===t.U){let i=t.W;if(i&&i.ee===1){if(i.ee=n.ee=0,t===this.Y)return;t.ee=1,e=t;continue}else if(e===n.W){if(e.ee=0,e.U&&(e.U.tt=n),e.W&&(e.W.tt=t),n.W=e.U,t.U=e.W,e.U=n,e.W=t,t===this.Y)this.Y=e,this.h.tt=e;else{let l=t.tt;l.U===t?l.U=e:l.W=e}return e.tt=t.tt,n.tt=e,t.tt=e,t.ee=1,{parentNode:n,grandParent:t,curNode:e}}else n.ee=0,t===this.Y?this.Y=t.se():t.se(),t.ee=1}else{let i=t.U;if(i&&i.ee===1){if(i.ee=n.ee=0,t===this.Y)return;t.ee=1,e=t;continue}else if(e===n.U){if(e.ee=0,e.U&&(e.U.tt=t),e.W&&(e.W.tt=n),t.W=e.U,n.U=e.W,e.U=t,e.W=n,t===this.Y)this.Y=e,this.h.tt=e;else{let l=t.tt;l.U===t?l.U=e:l.W=e}return e.tt=t.tt,n.tt=e,t.tt=e,t.ee=1,{parentNode:n,grandParent:t,curNode:e}}else n.ee=0,t===this.Y?this.Y=t.te():t.te(),t.ee=1}return}}ne(e,n,t){if(this.Y===void 0){this.i+=1,this.Y=new this.re(e,n),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,l=this.h.U,p=this.v(l.u,e);if(p===0){l.l=n;return}else if(p>0)l.U=new this.re(e,n),l.U.tt=l,i=l.U,this.h.U=i;else{let g=this.h.W,m=this.v(g.u,e);if(m===0){g.l=n;return}else if(m<0)g.W=new this.re(e,n),g.W.tt=g,i=g.W,this.h.W=i;else{if(t!==void 0){let h=t.o;if(h!==this.h){let y=this.v(h.u,e);if(y===0){h.l=n;return}else if(y>0){let b=h.L(),E=this.v(b.u,e);if(E===0){b.l=n;return}else E<0&&(i=new this.re(e,n),b.W===void 0?(b.W=i,i.tt=b):(h.U=i,i.tt=h))}}}if(i===void 0)for(i=this.Y;;){let h=this.v(i.u,e);if(h>0){if(i.U===void 0){i.U=new this.re(e,n),i.U.tt=i,i=i.U;break}i=i.U}else if(h<0){if(i.W===void 0){i.W=new this.re(e,n),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=n;return}}}}return this.i+=1,i}I(e,n){for(;e;){let t=this.v(e.u,n);if(t<0)e=e.W;else if(t>0)e=e.U;else return e}return e||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(e,n){let t=e.o;if(t===this.h&&(0,s.throwIteratorAccessError)(),this.i===1)return t.u=n,!0;if(t===this.h.U)return this.v(t.B().u,n)>0?(t.u=n,!0):!1;if(t===this.h.W)return this.v(t.L().u,n)<0?(t.u=n,!0):!1;let i=t.L().u;if(this.v(i,n)>=0)return!1;let l=t.B().u;return this.v(l,n)<=0?!1:(t.u=n,!0)}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let n=0,t=this;return this.oe(this.Y,function(i){return e===n?(t.V(i),!0):(n+=1,!1)}),this.i}eraseElementByKey(e){if(this.i===0)return!1;let n=this.I(this.Y,e);return n===this.h?!1:(this.V(n),!0)}eraseElementByIterator(e){let n=e.o;n===this.h&&(0,s.throwIteratorAccessError)();let t=n.W===void 0;return e.iteratorType===0?t&&e.next():(!t||n.U===void 0)&&e.next(),this.V(n),e}forEach(e){let n=0;for(let t of this)e(t,n++,this)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let n,t=0;for(let i of this){if(t===e){n=i;break}t+=1}return n}getHeight(){if(this.i===0)return 0;let e=function(n){return n?Math.max(e(n.U),e(n.W))+1:0};return e(this.Y)}},r=u;f.default=r}),ta=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=ct(),o=ft(),s=class extends a.ContainerIterator{constructor(r,e,n){super(n),this.o=r,this.h=e,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,o.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,o.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let r=this.o,e=this.h.tt;if(r===this.h)return e?e.rt-1:0;let n=0;for(r.U&&(n+=r.U.rt);r!==e;){let t=r.tt;r===t.W&&(n+=1,t.U&&(n+=t.U.rt)),r=t}return n}},u=s;f.default=u}),ql=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=u(ea()),o=u(ta()),s=ft();function u(t){return t&&t.t?t:{default:t}}var r=class ra extends o.default{constructor(i,l,p,g){super(i,l,g),this.container=p}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new ra(this.o,this.h,this.container,this.iteratorType)}},e=class extends a.default{constructor(t=[],i,l){super(i,l);let p=this;t.forEach(function(g){p.insert(g)})}*K(t){t!==void 0&&(yield*this.K(t.U),yield t.u,yield*this.K(t.W))}begin(){return new r(this.h.U||this.h,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this.h.W||this.h,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(t,i){return this.M(t,void 0,i)}find(t){let i=this.I(this.Y,t);return new r(i,this.h,this)}lowerBound(t){let i=this.X(this.Y,t);return new r(i,this.h,this)}upperBound(t){let i=this.Z(this.Y,t);return new r(i,this.h,this)}reverseLowerBound(t){let i=this.$(this.Y,t);return new r(i,this.h,this)}reverseUpperBound(t){let i=this.rr(this.Y,t);return new r(i,this.h,this)}union(t){let i=this;return t.forEach(function(l){i.insert(l)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=e;f.default=n}),$l=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=u(ea()),o=u(ta()),s=ft();function u(t){return t&&t.t?t:{default:t}}var r=class na extends o.default{constructor(i,l,p,g){super(i,l,g),this.container=p}get pointer(){this.o===this.h&&(0,s.throwIteratorAccessError)();let i=this;return new Proxy([],{get(l,p){if(p==="0")return i.o.u;if(p==="1")return i.o.l},set(l,p,g){if(p!=="1")throw new TypeError("props must be 1");return i.o.l=g,!0}})}copy(){return new na(this.o,this.h,this.container,this.iteratorType)}},e=class extends a.default{constructor(t=[],i,l){super(i,l);let p=this;t.forEach(function(g){p.setElement(g[0],g[1])})}*K(t){t!==void 0&&(yield*this.K(t.U),yield[t.u,t.l],yield*this.K(t.W))}begin(){return new r(this.h.U||this.h,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this.h.W||this.h,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){if(this.i===0)return;let t=this.h.U;return[t.u,t.l]}back(){if(this.i===0)return;let t=this.h.W;return[t.u,t.l]}lowerBound(t){let i=this.X(this.Y,t);return new r(i,this.h,this)}upperBound(t){let i=this.Z(this.Y,t);return new r(i,this.h,this)}reverseLowerBound(t){let i=this.$(this.Y,t);return new r(i,this.h,this)}reverseUpperBound(t){let i=this.rr(this.Y,t);return new r(i,this.h,this)}setElement(t,i,l){return this.M(t,i,l)}find(t){let i=this.I(this.Y,t);return new r(i,this.h,this)}getElementByKey(t){return this.I(this.Y,t).l}union(t){let i=this;return t.forEach(function(l){i.setElement(l[0],l[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=e;f.default=n}),ia=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=a;function a(o){let s=typeof o;return s==="object"&&o!==null||s==="function"}}),oa=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.HashContainerIterator=f.HashContainer=void 0;var a=ct(),o=u(ia()),s=ft();function u(n){return n&&n.t?n:{default:n}}var r=class extends a.ContainerIterator{constructor(n,t,i){super(i),this.o=n,this.h=t,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L,this})}};f.HashContainerIterator=r;var e=class extends a.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(n){let{L:t,B:i}=n;t.B=i,i.L=t,n===this.p&&(this.p=i),n===this._&&(this._=t),this.i-=1}M(n,t,i){i===void 0&&(i=(0,o.default)(n));let l;if(i){let p=n[this.HASH_TAG];if(p!==void 0)return this.H[p].l=t,this.i;Object.defineProperty(n,this.HASH_TAG,{value:this.H.length,configurable:!0}),l={u:n,l:t,L:this._,B:this.h},this.H.push(l)}else{let p=this.g[n];if(p)return p.l=t,this.i;l={u:n,l:t,L:this._,B:this.h},this.g[n]=l}return this.i===0?(this.p=l,this.h.B=l):this._.B=l,this._=l,this.h.L=l,++this.i}I(n,t){if(t===void 0&&(t=(0,o.default)(n)),t){let i=n[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[n]||this.h}clear(){let n=this.HASH_TAG;this.H.forEach(function(t){delete t.u[n]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(n,t){let i;if(t===void 0&&(t=(0,o.default)(n)),t){let l=n[this.HASH_TAG];if(l===void 0)return!1;delete n[this.HASH_TAG],i=this.H[l],delete this.H[l]}else{if(i=this.g[n],i===void 0)return!1;delete this.g[n]}return this.V(i),!0}eraseElementByIterator(n){let t=n.o;return t===this.h&&(0,s.throwIteratorAccessError)(),this.V(t),n.next()}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let t=this.p;for(;n--;)t=t.B;return this.V(t),this.i}};f.HashContainer=e}),zl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=oa(),o=ft(),s=class sa extends a.HashContainerIterator{constructor(n,t,i,l){super(n,t,l),this.container=i}get pointer(){return this.o===this.h&&(0,o.throwIteratorAccessError)(),this.o.u}copy(){return new sa(this.o,this.h,this.container,this.iteratorType)}},u=class extends a.HashContainer{constructor(e=[]){super();let n=this;e.forEach(function(t){n.insert(t)})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(e,n){return this.M(e,void 0,n)}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let n=this.p;for(;e--;)n=n.B;return n.u}find(e,n){let t=this.I(e,n);return new s(t,this.h,this)}forEach(e){let n=0,t=this.p;for(;t!==this.h;)e(t.u,n++,this),t=t.B}[Symbol.iterator](){return function*(){let e=this.p;for(;e!==this.h;)yield e.u,e=e.B}.bind(this)()}},r=u;f.default=r}),Kl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var a=oa(),o=u(ia()),s=ft();function u(t){return t&&t.t?t:{default:t}}var r=class aa extends a.HashContainerIterator{constructor(i,l,p,g){super(i,l,g),this.container=p}get pointer(){this.o===this.h&&(0,s.throwIteratorAccessError)();let i=this;return new Proxy([],{get(l,p){if(p==="0")return i.o.u;if(p==="1")return i.o.l},set(l,p,g){if(p!=="1")throw new TypeError("props must be 1");return i.o.l=g,!0}})}copy(){return new aa(this.o,this.h,this.container,this.iteratorType)}},e=class extends a.HashContainer{constructor(t=[]){super();let i=this;t.forEach(function(l){i.setElement(l[0],l[1])})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(t,i,l){return this.M(t,i,l)}getElementByKey(t,i){if(i===void 0&&(i=(0,o.default)(t)),i){let p=t[this.HASH_TAG];return p!==void 0?this.H[p].l:void 0}let l=this.g[t];return l?l.l:void 0}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let i=this.p;for(;t--;)i=i.B;return[i.u,i.l]}find(t,i){let l=this.I(t,i);return new r(l,this.h,this)}forEach(t){let i=0,l=this.p;for(;l!==this.h;)t([l.u,l.l],i++,this),l=l.B}[Symbol.iterator](){return function*(){let t=this.p;for(;t!==this.h;)yield[t.u,t.l],t=t.B}.bind(this)()}},n=e;f.default=n}),Vl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"t",{value:!0}),Object.defineProperty(f,"Deque",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(f,"HashMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(f,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(f,"LinkList",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(f,"OrderedMap",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(f,"OrderedSet",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(f,"PriorityQueue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(f,"Queue",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(f,"Stack",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(f,"Vector",{enumerable:!0,get:function(){return u.default}});var a=p(Nl()),o=p(Ll()),s=p(Bl()),u=p(Ul()),r=p(Dl()),e=p(Fl()),n=p(ql()),t=p($l()),i=p(zl()),l=p(Kl());function p(g){return g&&g.t?g:{default:g}}}),Hl=de((f,a)=>{le(),ce(),ue();var o=Vl().OrderedSet,s=lt()("number-allocator:trace"),u=lt()("number-allocator:error");function r(n,t){this.low=n,this.high=t}r.prototype.equals=function(n){return this.low===n.low&&this.high===n.high},r.prototype.compare=function(n){return this.low<n.low&&this.high<n.low?-1:n.low<this.low&&n.high<this.low?1:0};function e(n,t){if(!(this instanceof e))return new e(n,t);this.min=n,this.max=t,this.ss=new o([],(i,l)=>i.compare(l)),s("Create"),this.clear()}e.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},e.prototype.alloc=function(){if(this.ss.size()===0)return s("alloc():empty"),null;let n=this.ss.begin(),t=n.pointer.low,i=n.pointer.high,l=t;return l+1<=i?this.ss.updateKeyByIterator(n,new r(t+1,i)):this.ss.eraseElementByPos(0),s("alloc():"+l),l},e.prototype.use=function(n){let t=new r(n,n),i=this.ss.lowerBound(t);if(!i.equals(this.ss.end())){let l=i.pointer.low,p=i.pointer.high;return i.pointer.equals(t)?(this.ss.eraseElementByIterator(i),s("use():"+n),!0):l>n?!1:l===n?(this.ss.updateKeyByIterator(i,new r(l+1,p)),s("use():"+n),!0):p===n?(this.ss.updateKeyByIterator(i,new r(l,p-1)),s("use():"+n),!0):(this.ss.updateKeyByIterator(i,new r(n+1,p)),this.ss.insert(new r(l,n-1)),s("use():"+n),!0)}return s("use():failed"),!1},e.prototype.free=function(n){if(n<this.min||n>this.max){u("free():"+n+" is out of range");return}let t=new r(n,n),i=this.ss.upperBound(t);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(t);return}i.pre();let l=i.pointer.high;i.pointer.high+1===n?this.ss.updateKeyByIterator(i,new r(l,n)):this.ss.insert(t)}else if(i.equals(this.ss.begin()))if(n+1===i.pointer.low){let l=i.pointer.high;this.ss.updateKeyByIterator(i,new r(n,l))}else this.ss.insert(t);else{let l=i.pointer.low,p=i.pointer.high;i.pre();let g=i.pointer.low;i.pointer.high+1===n?n+1===l?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new r(g,p))):this.ss.updateKeyByIterator(i,new r(g,n)):n+1===l?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new r(n,p))):this.ss.insert(t)}s("free():"+n)},e.prototype.clear=function(){s("clear()"),this.ss.clear(),this.ss.insert(new r(this.min,this.max))},e.prototype.intervalCount=function(){return this.ss.size()},e.prototype.dump=function(){console.log("length:"+this.ss.size());for(let n of this.ss)console.log(n)},a.exports=e}),la=de((f,a)=>{le(),ce(),ue();var o=Hl();a.exports.NumberAllocator=o}),Gl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=jl(),o=la(),s=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(u){u>0&&(this.aliasToTopic=new a.LRUCache({max:u}),this.topicToAlias={},this.numberAllocator=new o.NumberAllocator(1,u),this.max=u,this.length=0)}put(u,r){if(r===0||r>this.max)return!1;let e=this.aliasToTopic.get(r);return e&&delete this.topicToAlias[e],this.aliasToTopic.set(r,u),this.topicToAlias[u]=r,this.numberAllocator.use(r),this.length=this.aliasToTopic.size,!0}getTopicByAlias(u){return this.aliasToTopic.get(u)}getAliasByTopic(u){let r=this.topicToAlias[u];return typeof r<"u"&&this.aliasToTopic.get(r),r}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};f.default=s}),Ql=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f,"__esModule",{value:!0});var o=Mr(),s=a(Gl()),u=Lt(),r=(e,n)=>{e.log("_handleConnack");let{options:t}=e,i=t.protocolVersion===5?n.reasonCode:n.returnCode;if(clearTimeout(e.connackTimer),delete e.topicAliasSend,n.properties){if(n.properties.topicAliasMaximum){if(n.properties.topicAliasMaximum>65535){e.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}n.properties.topicAliasMaximum>0&&(e.topicAliasSend=new s.default(n.properties.topicAliasMaximum))}n.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=n.properties.serverKeepAlive),n.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=n.properties.maximumPacketSize)}if(i===0)e.reconnecting=!1,e._onConnect(n);else if(i>0){let l=new u.ErrorWithReasonCode(`Connection refused: ${o.ReasonCodes[i]}`,i);e.emit("error",l),e.options.reconnectOnConnackError&&e._cleanUp(!0)}};f.default=r}),Yl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=(o,s,u)=>{o.log("handling pubrel packet");let r=typeof u<"u"?u:o.noop,{messageId:e}=s,n={cmd:"pubcomp",messageId:e};o.incomingStore.get(s,(t,i)=>{t?o._sendPacket(n,r):(o.emit("message",i.topic,i.payload,i),o.handleMessage(i,l=>{if(l)return r(l);o.incomingStore.del(i,o.noop),o._sendPacket(n,r)}))})};f.default=a}),Jl=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f,"__esModule",{value:!0});var o=a(Rl()),s=a(Ml()),u=a(Ql()),r=a(Mr()),e=a(Yl()),n=(t,i,l)=>{let{options:p}=t;if(p.protocolVersion===5&&p.properties&&p.properties.maximumPacketSize&&p.properties.maximumPacketSize<i.length)return t.emit("error",new Error(`exceeding packets size ${i.cmd}`)),t.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),t;switch(t.log("_handlePacket :: emitting packetreceive"),t.emit("packetreceive",i),i.cmd){case"publish":(0,o.default)(t,i,l);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":t.reschedulePing(),(0,r.default)(t,i),l();break;case"pubrel":t.reschedulePing(),(0,e.default)(t,i,l);break;case"connack":(0,u.default)(t,i),l();break;case"auth":t.reschedulePing(),(0,s.default)(t,i),l();break;case"pingresp":t.log("_handlePacket :: received pingresp"),t.reschedulePing(!0),l();break;case"disconnect":t.emit("disconnect",i),l();break;default:t.log("_handlePacket :: unknown command"),l();break}};f.default=n}),ua=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let o=this.nextId++;return this.nextId===65536&&(this.nextId=1),o}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(o){return!0}deallocate(o){}clear(){}};f.default=a}),Xl=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=class{aliasToTopic;max;length;constructor(o){this.aliasToTopic={},this.max=o}put(o,s){return s===0||s>this.max?!1:(this.aliasToTopic[s]=o,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(o){return this.aliasToTopic[o]}clear(){this.aliasToTopic={}}};f.default=a}),Zl=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.TypedEventEmitter=void 0;var o=a((It(),Re(bt))),s=Lt(),u=class{};f.TypedEventEmitter=u,(0,s.applyMixin)(u,o.default)}),jr=de((f,a)=>{le(),ce(),ue();function o(s){"@babel/helpers - typeof";return a.exports=o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a.exports.__esModule=!0,a.exports.default=a.exports,o(s)}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),eu=de((f,a)=>{le(),ce(),ue();var o=jr().default;function s(u,r){if(o(u)!="object"||!u)return u;var e=u[Symbol.toPrimitive];if(e!==void 0){var n=e.call(u,r||"default");if(o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(u)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}),tu=de((f,a)=>{le(),ce(),ue();var o=jr().default,s=eu();function u(r){var e=s(r,"string");return o(e)=="symbol"?e:e+""}a.exports=u,a.exports.__esModule=!0,a.exports.default=a.exports}),ru=de((f,a)=>{le(),ce(),ue();var o=tu();function s(u,r,e){return(r=o(r))in u?Object.defineProperty(u,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):u[r]=e,u}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}),nu=de((f,a)=>{le(),ce(),ue();function o(s){if(Array.isArray(s))return s}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),iu=de((f,a)=>{le(),ce(),ue();function o(s,u){var r=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(r!=null){var e,n,t,i,l=[],p=!0,g=!1;try{if(t=(r=r.call(s)).next,u===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(e=t.call(r)).done)&&(l.push(e.value),l.length!==u);p=!0);}catch(m){g=!0,n=m}finally{try{if(!p&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(g)throw n}}return l}}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),ou=de((f,a)=>{le(),ce(),ue();function o(s,u){(u==null||u>s.length)&&(u=s.length);for(var r=0,e=Array(u);r<u;r++)e[r]=s[r];return e}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),su=de((f,a)=>{le(),ce(),ue();var o=ou();function s(u,r){if(u){if(typeof u=="string")return o(u,r);var e={}.toString.call(u).slice(8,-1);return e==="Object"&&u.constructor&&(e=u.constructor.name),e==="Map"||e==="Set"?Array.from(u):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(u,r):void 0}}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}),au=de((f,a)=>{le(),ce(),ue();function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),lu=de((f,a)=>{le(),ce(),ue();var o=nu(),s=iu(),u=su(),r=au();function e(n,t){return o(n)||s(n,t)||u(n,t)||r()}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports}),ca=de((f,a)=>{le(),ce(),ue(),function(o,s){typeof f=="object"&&typeof a<"u"?s(f):typeof define=="function"&&define.amd?define(["exports"],s):(o=typeof globalThis<"u"?globalThis:o||self,s(o.fastUniqueNumbers={}))}(f,function(o){var s=function(m){return function(h){var y=m(h);return h.add(y),y}},u=function(m){return function(h,y){return m.set(h,y),y}},r=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,e=536870912,n=e*2,t=function(m,h){return function(y){var b=h.get(y),E=b===void 0?y.size:b<n?b+1:0;if(!y.has(E))return m(y,E);if(y.size<e){for(;y.has(E);)E=Math.floor(Math.random()*n);return m(y,E)}if(y.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(E);)E=Math.floor(Math.random()*r);return m(y,E)}},i=new WeakMap,l=u(i),p=t(l,i),g=s(p);o.addUniqueNumber=g,o.generateUniqueNumber=p})}),uu=de((f,a)=>{le(),ce(),ue();function o(u,r,e,n,t,i,l){try{var p=u[i](l),g=p.value}catch(m){return void e(m)}p.done?r(g):Promise.resolve(g).then(n,t)}function s(u){return function(){var r=this,e=arguments;return new Promise(function(n,t){var i=u.apply(r,e);function l(g){o(i,n,t,l,p,"next",g)}function p(g){o(i,n,t,l,p,"throw",g)}l(void 0)})}}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}),fa=de((f,a)=>{le(),ce(),ue();function o(s,u){this.v=s,this.k=u}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),ha=de((f,a)=>{le(),ce(),ue();function o(s,u,r,e){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}a.exports=o=function(t,i,l,p){function g(m,h){o(t,m,function(y){return this._invoke(m,h,y)})}i?n?n(t,i,{value:l,enumerable:!p,configurable:!p,writable:!p}):t[i]=l:(g("next",0),g("throw",1),g("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,o(s,u,r,e)}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),pa=de((f,a)=>{le(),ce(),ue();var o=ha();function s(){var u,r,e=typeof Symbol=="function"?Symbol:{},n=e.iterator||"@@iterator",t=e.toStringTag||"@@toStringTag";function i(E,d,_,I){var v=d&&d.prototype instanceof p?d:p,A=Object.create(v.prototype);return o(A,"_invoke",function(S,T,C){var P,U,O,q=0,D=C||[],L=!1,ae={p:0,n:0,v:u,a:Q,f:Q.bind(u,4),d:function(V,re){return P=V,U=0,O=u,ae.n=re,l}};function Q(V,re){for(U=V,O=re,r=0;!L&&q&&!F&&r<D.length;r++){var F,Z=D[r],R=ae.p,J=Z[2];V>3?(F=J===re)&&(O=Z[(U=Z[4])?5:(U=3,3)],Z[4]=Z[5]=u):Z[0]<=R&&((F=V<2&&R<Z[1])?(U=0,ae.v=re,ae.n=Z[1]):R<J&&(F=V<3||Z[0]>re||re>J)&&(Z[4]=V,Z[5]=re,ae.n=J,U=0))}if(F||V>1)return l;throw L=!0,re}return function(V,re,F){if(q>1)throw TypeError("Generator is already running");for(L&&re===1&&Q(re,F),U=re,O=F;(r=U<2?u:O)||!L;){P||(U?U<3?(U>1&&(ae.n=-1),Q(U,O)):ae.n=O:ae.v=O);try{if(q=2,P){if(U||(V="next"),r=P[V]){if(!(r=r.call(P,O)))throw TypeError("iterator result is not an object");if(!r.done)return r;O=r.value,U<2&&(U=0)}else U===1&&(r=P.return)&&r.call(P),U<2&&(O=TypeError("The iterator does not provide a '"+V+"' method"),U=1);P=u}else if((r=(L=ae.n<0)?O:S.call(T,ae))!==l)break}catch(Z){P=u,U=1,O=Z}finally{q=1}}return{value:r,done:L}}}(E,_,I),!0),A}var l={};function p(){}function g(){}function m(){}r=Object.getPrototypeOf;var h=[][n]?r(r([][n]())):(o(r={},n,function(){return this}),r),y=m.prototype=p.prototype=Object.create(h);function b(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,m):(E.__proto__=m,o(E,t,"GeneratorFunction")),E.prototype=Object.create(y),E}return g.prototype=m,o(y,"constructor",m),o(m,"constructor",g),g.displayName="GeneratorFunction",o(m,t,"GeneratorFunction"),o(y),o(y,t,"Generator"),o(y,n,function(){return this}),o(y,"toString",function(){return"[object Generator]"}),(a.exports=s=function(){return{w:i,m:b}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}),da=de((f,a)=>{le(),ce(),ue();var o=fa(),s=ha();function u(r,e){function n(i,l,p,g){try{var m=r[i](l),h=m.value;return h instanceof o?e.resolve(h.v).then(function(y){n("next",y,p,g)},function(y){n("throw",y,p,g)}):e.resolve(h).then(function(y){m.value=y,p(m)},function(y){return n("throw",y,p,g)})}catch(y){g(y)}}var t;this.next||(s(u.prototype),s(u.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),s(this,"_invoke",function(i,l,p){function g(){return new e(function(m,h){n(i,p,m,h)})}return t=t?t.then(g,g):g()},!0)}a.exports=u,a.exports.__esModule=!0,a.exports.default=a.exports}),ga=de((f,a)=>{le(),ce(),ue();var o=pa(),s=da();function u(r,e,n,t,i){return new s(o().w(r,e,n,t),i||Promise)}a.exports=u,a.exports.__esModule=!0,a.exports.default=a.exports}),cu=de((f,a)=>{le(),ce(),ue();var o=ga();function s(u,r,e,n,t){var i=o(u,r,e,n,t);return i.next().then(function(l){return l.done?l.value:i.next()})}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}),fu=de((f,a)=>{le(),ce(),ue();function o(s){var u=Object(s),r=[];for(var e in u)r.unshift(e);return function n(){for(;r.length;)if((e=r.pop())in u)return n.value=e,n.done=!1,n;return n.done=!0,n}}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports}),hu=de((f,a)=>{le(),ce(),ue();var o=jr().default;function s(u){if(u!=null){var r=u[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],e=0;if(r)return r.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length))return{next:function(){return u&&e>=u.length&&(u=void 0),{value:u&&u[e++],done:!u}}}}throw new TypeError(o(u)+" is not iterable")}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports}),pu=de((f,a)=>{le(),ce(),ue();var o=fa(),s=pa(),u=cu(),r=ga(),e=da(),n=fu(),t=hu();function i(){var l=s(),p=l.m(i),g=(Object.getPrototypeOf?Object.getPrototypeOf(p):p.__proto__).constructor;function m(b){var E=typeof b=="function"&&b.constructor;return!!E&&(E===g||(E.displayName||E.name)==="GeneratorFunction")}var h={throw:1,return:2,break:3,continue:3};function y(b){var E,d;return function(_){E||(E={stop:function(){return d(_.a,2)},catch:function(){return _.v},abrupt:function(I,v){return d(_.a,h[I],v)},delegateYield:function(I,v,A){return E.resultName=v,d(_.d,t(I),A)},finish:function(I){return d(_.f,I)}},d=function(I,v,A){_.p=E.prev,_.n=E.next;try{return I(v,A)}finally{E.next=_.n}}),E.resultName&&(E[E.resultName]=_.v,E.resultName=void 0),E.sent=_.v,E.next=_.n;try{return b.call(this,E)}finally{_.p=E.prev,_.n=E.next}}}return(a.exports=i=function(){return{wrap:function(b,E,d,_){return l.w(y(b),E,d,_&&_.reverse())},isGeneratorFunction:m,mark:l.m,awrap:function(b,E){return new o(b,E)},AsyncIterator:e,async:function(b,E,d,_,I){return(m(E)?r:u)(y(b),E,d,_,I)},keys:n,values:t}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=i,a.exports.__esModule=!0,a.exports.default=a.exports}),du=de((f,a)=>{le(),ce(),ue();var o=pu()();a.exports=o;try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}),gu=de((f,a)=>{le(),ce(),ue(),function(o,s){typeof f=="object"&&typeof a<"u"?s(f,ru(),lu(),ca(),uu(),du()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],s):(o=typeof globalThis<"u"?globalThis:o||self,s(o.brokerFactory={},o._defineProperty,o._slicedToArray,o.fastUniqueNumbers,o._asyncToGenerator,o._regeneratorRuntime))}(f,function(o,s,u,r,e,n){var t=function(d){return typeof d.start=="function"},i=new WeakMap;function l(d,_){var I=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);_&&(v=v.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),I.push.apply(I,v)}return I}function p(d){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?l(Object(I),!0).forEach(function(v){s(d,v,I[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(I)):l(Object(I)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(I,v))})}return d}var g=function(d){return p(p({},d),{},{connect:function(_){var I=_.call;return e(n.mark(function v(){var A,S,T,C;return n.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return A=new MessageChannel,S=A.port1,T=A.port2,P.next=1,I("connect",{port:S},[S]);case 1:return C=P.sent,i.set(T,C),P.abrupt("return",T);case 2:case"end":return P.stop()}},v)}))},disconnect:function(_){var I=_.call;return function(){var v=e(n.mark(function A(S){var T;return n.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(T=i.get(S),T!==void 0){C.next=1;break}throw new Error("The given port is not connected.");case 1:return C.next=2,I("disconnect",{portId:T});case 2:case"end":return C.stop()}},A)}));return function(A){return v.apply(this,arguments)}}()},isSupported:function(_){var I=_.call;return function(){return I("isSupported")}}})};function m(d,_){var I=Object.keys(d);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(d);_&&(v=v.filter(function(A){return Object.getOwnPropertyDescriptor(d,A).enumerable})),I.push.apply(I,v)}return I}function h(d){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?m(Object(I),!0).forEach(function(v){s(d,v,I[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(I)):m(Object(I)).forEach(function(v){Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(I,v))})}return d}var y=new WeakMap,b=function(d){if(y.has(d))return y.get(d);var _=new Map;return y.set(d,_),_},E=function(d){var _=g(d);return function(I){var v=b(I);I.addEventListener("message",function(D){var L=D.data,ae=L.id;if(ae!==null&&v.has(ae)){var Q=v.get(ae),V=Q.reject,re=Q.resolve;v.delete(ae),L.error===void 0?re(L.result):V(new Error(L.error.message))}}),t(I)&&I.start();for(var A=function(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(Q,V){var re=r.generateUniqueNumber(v);v.set(re,{reject:V,resolve:Q}),L===null?I.postMessage({id:re,method:D},ae):I.postMessage({id:re,method:D,params:L},ae)})},S=function(D,L){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];I.postMessage({id:null,method:D,params:L},ae)},T={},C=0,P=Object.entries(_);C<P.length;C++){var U=u(P[C],2),O=U[0],q=U[1];T=h(h({},T),{},s({},O,q({call:A,notify:S})))}return h({},T)}};o.createBroker=E})}),yu=de((f,a)=>{le(),ce(),ue(),function(o,s){typeof f=="object"&&typeof a<"u"?s(f,jr(),gu(),ca()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],s):(o=typeof globalThis<"u"?globalThis:o||self,s(o.workerTimersBroker={},o._typeof,o.brokerFactory,o.fastUniqueNumbers))}(f,function(o,s,u,r){var e=new Map([[0,null]]),n=new Map([[0,null]]),t=u.createBroker({clearInterval:function(l){var p=l.call;return function(g){s(e.get(g))==="symbol"&&(e.set(g,null),p("clear",{timerId:g,timerType:"interval"}).then(function(){e.delete(g)}))}},clearTimeout:function(l){var p=l.call;return function(g){s(n.get(g))==="symbol"&&(n.set(g,null),p("clear",{timerId:g,timerType:"timeout"}).then(function(){n.delete(g)}))}},setInterval:function(l){var p=l.call;return function(g){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length,y=new Array(h>2?h-2:0),b=2;b<h;b++)y[b-2]=arguments[b];var E=Symbol(),d=r.generateUniqueNumber(e);e.set(d,E);var _=function(){return p("set",{delay:m,now:performance.timeOrigin+performance.now(),timerId:d,timerType:"interval"}).then(function(){var I=e.get(d);if(I===void 0)throw new Error("The timer is in an undefined state.");I===E&&(g.apply(void 0,y),e.get(d)===E&&_())})};return _(),d}},setTimeout:function(l){var p=l.call;return function(g){for(var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length,y=new Array(h>2?h-2:0),b=2;b<h;b++)y[b-2]=arguments[b];var E=Symbol(),d=r.generateUniqueNumber(n);return n.set(d,E),p("set",{delay:m,now:performance.timeOrigin+performance.now(),timerId:d,timerType:"timeout"}).then(function(){var _=n.get(d);if(_===void 0)throw new Error("The timer is in an undefined state.");_===E&&(n.delete(d),g.apply(void 0,y))}),d}}}),i=function(l){var p=new Worker(l);return t(p)};o.load=i,o.wrap=t})}),bu=de((f,a)=>{le(),ce(),ue(),function(o,s){typeof f=="object"&&typeof a<"u"?s(f,yu()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],s):(o=typeof globalThis<"u"?globalThis:o||self,s(o.workerTimers={},o.workerTimersBroker))}(f,function(o,s){var u=function(p,g){var m=null;return function(){if(m!==null)return m;var h=new Blob([g],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(h);return m=p(y),setTimeout(function(){return URL.revokeObjectURL(y)}),m}},r=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,e=u(s.load,r),n=function(p){return e().clearInterval(p)},t=function(p){return e().clearTimeout(p)},i=function(){var p;return(p=e()).setInterval.apply(p,arguments)},l=function(){var p;return(p=e()).setTimeout.apply(p,arguments)};o.clearInterval=n,o.clearTimeout=t,o.setInterval=i,o.setTimeout=l})}),Nr=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0}),f.isReactNativeBrowser=f.isWebWorker=void 0;var a=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Ce?.versions?!Object.prototype.hasOwnProperty.call(Ce.versions,"electron"):typeof window.document<"u":!1,o=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),s=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u=a()||o()||s();f.isWebWorker=o(),f.isReactNativeBrowser=s(),f.default=u}),mu=de(f=>{le(),ce(),ue();var a=f&&f.__createBinding||(Object.create?function(i,l,p,g){g===void 0&&(g=p);var m=Object.getOwnPropertyDescriptor(l,p);(!m||("get"in m?!l.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return l[p]}}),Object.defineProperty(i,g,m)}:function(i,l,p,g){g===void 0&&(g=p),i[g]=l[p]}),o=f&&f.__setModuleDefault||(Object.create?function(i,l){Object.defineProperty(i,"default",{enumerable:!0,value:l})}:function(i,l){i.default=l}),s=f&&f.__importStar||function(){var i=function(l){return i=Object.getOwnPropertyNames||function(p){var g=[];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(g[g.length]=m);return g},i(l)};return function(l){if(l&&l.__esModule)return l;var p={};if(l!=null)for(var g=i(l),m=0;m<g.length;m++)g[m]!=="default"&&a(p,l,g[m]);return o(p,l),p}}();Object.defineProperty(f,"__esModule",{value:!0});var u=bu(),r=s(Nr()),e={set:u.setInterval,clear:u.clearInterval},n={set:(i,l)=>setInterval(i,l),clear:i=>clearInterval(i)},t=i=>{switch(i){case"native":return n;case"worker":return e;case"auto":default:return r.default&&!r.isWebWorker&&!r.isReactNativeBrowser?e:n}};f.default=t}),ya=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(f,"__esModule",{value:!0});var o=a(mu()),s=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(u,r){this.client=u,this.timer=typeof r=="object"&&"set"in r&&"clear"in r?r:(0,o.default)(r),this.setKeepalive(u.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(u){if(u*=1e3,isNaN(u)||u<=0||u>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${u}`);this._keepalive=u,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${u}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let u=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+u,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};f.default=s}),Qn=de(f=>{le(),ce(),ue();var a=f&&f.__createBinding||(Object.create?function(v,A,S,T){T===void 0&&(T=S);var C=Object.getOwnPropertyDescriptor(A,S);(!C||("get"in C?!A.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return A[S]}}),Object.defineProperty(v,T,C)}:function(v,A,S,T){T===void 0&&(T=S),v[T]=A[S]}),o=f&&f.__setModuleDefault||(Object.create?function(v,A){Object.defineProperty(v,"default",{enumerable:!0,value:A})}:function(v,A){v.default=A}),s=f&&f.__importStar||function(){var v=function(A){return v=Object.getOwnPropertyNames||function(S){var T=[];for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(T[T.length]=C);return T},v(A)};return function(A){if(A&&A.__esModule)return A;var S={};if(A!=null)for(var T=v(A),C=0;C<T.length;C++)T[C]!=="default"&&a(S,A,T[C]);return o(S,A),S}}(),u=f&&f.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(f,"__esModule",{value:!0});var r=u(Tl()),e=Tt(),n=u(kl()),t=u(lt()),i=s(Pl()),l=u(Vs()),p=u(Jl()),g=u(ua()),m=u(Xl()),h=Lt(),y=Zl(),b=u(ya()),E=s(Nr()),d=globalThis.setImmediate||((...v)=>{let A=v.shift();(0,h.nextTick)(()=>{A(...v)})}),_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},I=class Yn extends y.TypedEventEmitter{static VERSION=h.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(A,S){super(),this.options=S||{};for(let T in _)typeof this.options[T]>"u"?this.options[T]=_[T]:this.options[T]=S[T];this.log=this.options.log||(0,t.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Yn.VERSION),E.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",E.default?"browser":"node"),this.log("MqttClient :: options.protocol",S.protocol),this.log("MqttClient :: options.protocolVersion",S.protocolVersion),this.log("MqttClient :: options.username",S.username),this.log("MqttClient :: options.keepalive",S.keepalive),this.log("MqttClient :: options.reconnectPeriod",S.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",S.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",S.properties?S.properties.topicAliasMaximum:void 0),this.options.clientId=typeof S.clientId=="string"?S.clientId:Yn.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=S.protocolVersion===5&&S.customHandleAcks?S.customHandleAcks:(...T)=>{T[3](null,0)},this.options.writeCache||(r.default.writeToStream.cacheNumbers=!1),this.streamBuilder=A,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new g.default:this.options.messageIdProvider,this.outgoingStore=S.outgoingStore||new l.default,this.incomingStore=S.incomingStore||new l.default,this.queueQoSZero=S.queueQoSZero===void 0?!0:S.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,S.properties&&S.properties.topicAliasMaximum>0&&(S.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new m.default(S.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:T}=this,C=()=>{let P=T.shift();this.log("deliver :: entry %o",P);let U=null;if(!P){this._resubscribe();return}U=P.packet,this.log("deliver :: call _sendPacket for %o",U);let O=!0;U.messageId&&U.messageId!==0&&(this.messageIdProvider.register(U.messageId)||(O=!1)),O?this._sendPacket(U,q=>{P.cb&&P.cb(q),C()}):(this.log("messageId: %d has already used. The message is skipped and removed.",U.messageId),C())};this.log("connect :: sending queued packets"),C()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(A,S){S()}handleMessage(A,S){S()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let A=new e.Writable,S=r.default.parser(this.options),T=null,C=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new l.default,this.outgoingStore=this.options.outgoingStore||new l.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),S.on("packet",D=>{this.log("parser :: on packet push to packets array."),C.push(D)});let P=()=>{this.log("work :: getting next packet in queue");let D=C.shift();if(D)this.log("work :: packet pulled from queue"),(0,p.default)(this,D,U);else{this.log("work :: no packets in queue");let L=T;T=null,this.log("work :: done flag is %s",!!L),L&&L()}},U=()=>{if(C.length)(0,h.nextTick)(P);else{let D=T;T=null,D()}};A._write=(D,L,ae)=>{T=ae,this.log("writable stream :: parsing buffer"),S.parse(D),P()};let O=D=>{this.log("streamErrorHandler :: error",D.message),D.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",D)):this.noop(D)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(A),this.stream.on("error",O),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let q={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(q.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(q.properties||(q.properties={}),this.topicAliasRecv&&(q.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(q),S.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let D={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(D)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(A,S,T,C){this.log("publish :: message `%s` to topic `%s`",S,A);let{options:P}=this;typeof T=="function"&&(C=T,T=null),T=T||{},T={qos:0,retain:!1,dup:!1,...T};let{qos:U,retain:O,dup:q,properties:D,cbStorePut:L}=T;if(this._checkDisconnecting(C))return this;let ae=()=>{let Q=0;if((U===1||U===2)&&(Q=this._nextId(),Q===null))return this.log("No messageId left"),!1;let V={cmd:"publish",topic:A,payload:S,qos:U,retain:O,messageId:Q,dup:q};switch(P.protocolVersion===5&&(V.properties=D),this.log("publish :: qos",U),U){case 1:case 2:this.outgoing[V.messageId]={volatile:!1,cb:C||this.noop},this.log("MqttClient:publish: packet cmd: %s",V.cmd),this._sendPacket(V,void 0,L);break;default:this.log("MqttClient:publish: packet cmd: %s",V.cmd),this._sendPacket(V,C,L);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ae())&&this._storeProcessingQueue.push({invoke:ae,cbStorePut:T.cbStorePut,callback:C}),this}publishAsync(A,S,T){return new Promise((C,P)=>{this.publish(A,S,T,(U,O)=>{U?P(U):C(O)})})}subscribe(A,S,T){let C=this.options.protocolVersion;typeof S=="function"&&(T=S),T=T||this.noop;let P=!1,U=[];typeof A=="string"?(A=[A],U=A):Array.isArray(A)?U=A:typeof A=="object"&&(P=A.resubscribe,delete A.resubscribe,U=Object.keys(A));let O=i.validateTopics(U);if(O!==null)return d(T,new Error(`Invalid topic ${O}`)),this;if(this._checkDisconnecting(T))return this.log("subscribe: discconecting true"),this;let q={qos:0};C===5&&(q.nl=!1,q.rap=!1,q.rh=0),S={...q,...S};let{properties:D}=S,L=[],ae=(re,F)=>{if(F=F||S,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,re)||this._resubscribeTopics[re].qos<F.qos||P){let Z={topic:re,qos:F.qos};C===5&&(Z.nl=F.nl,Z.rap=F.rap,Z.rh=F.rh,Z.properties=D),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",Z.topic,Z.qos),L.push(Z)}};if(Array.isArray(A)?A.forEach(re=>{this.log("subscribe: array topic %s",re),ae(re)}):Object.keys(A).forEach(re=>{this.log("subscribe: object topic %s, %o",re,A[re]),ae(re,A[re])}),!L.length)return T(null,[]),this;let Q=(re,F)=>{let Z={cmd:"subscribe",subscriptions:re,messageId:F};if(D&&(Z.properties=D),this.options.resubscribe){this.log("subscribe :: resubscribe true");let J=[];re.forEach(be=>{if(this.options.reconnectPeriod>0){let te={qos:be.qos};C===5&&(te.nl=be.nl||!1,te.rap=be.rap||!1,te.rh=be.rh||0,te.properties=be.properties),this._resubscribeTopics[be.topic]=te,J.push(be.topic)}}),this.messageIdToTopic[Z.messageId]=J}let R=new Promise((J,be)=>{this.outgoing[Z.messageId]={volatile:!0,cb(te,we){if(!te){let{granted:H}=we;for(let N=0;N<H.length;N+=1)re[N].qos=H[N]}te?be(new h.ErrorWithSubackPacket(te.message,we)):J(we)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(Z),R},V=()=>{let re=this.options.subscribeBatchSize??L.length,F=[];for(let Z=0;Z<L.length;Z+=re){let R=L.slice(Z,Z+re),J=this._nextId();if(J===null)return this.log("No messageId left"),!1;F.push(Q(R,J))}return Promise.all(F).then(Z=>{T(null,L,Z.at(-1))}).catch(Z=>{T(Z,L,Z.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!V())&&this._storeProcessingQueue.push({invoke:V,callback:T}),this}subscribeAsync(A,S){return new Promise((T,C)=>{this.subscribe(A,S,(P,U)=>{P?C(P):T(U)})})}unsubscribe(A,S,T){typeof A=="string"&&(A=[A]),typeof S=="function"&&(T=S),T=T||this.noop;let C=i.validateTopics(A);if(C!==null)return d(T,new Error(`Invalid topic ${C}`)),this;if(this._checkDisconnecting(T))return this;let P=()=>{let U=this._nextId();if(U===null)return this.log("No messageId left"),!1;let O={cmd:"unsubscribe",messageId:U,unsubscriptions:[]};return typeof A=="string"?O.unsubscriptions=[A]:Array.isArray(A)&&(O.unsubscriptions=A),this.options.resubscribe&&O.unsubscriptions.forEach(q=>{delete this._resubscribeTopics[q]}),typeof S=="object"&&S.properties&&(O.properties=S.properties),this.outgoing[O.messageId]={volatile:!0,cb:T},this.log("unsubscribe: call _sendPacket"),this._sendPacket(O),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!P())&&this._storeProcessingQueue.push({invoke:P,callback:T}),this}unsubscribeAsync(A,S){return new Promise((T,C)=>{this.unsubscribe(A,S,(P,U)=>{P?C(P):T(U)})})}end(A,S,T){this.log("end :: (%s)",this.options.clientId),(A==null||typeof A!="boolean")&&(T=T||S,S=A,A=!1),typeof S!="object"&&(T=T||S,S=null),this.log("end :: cb? %s",!!T),(!T||typeof T!="function")&&(T=this.noop);let C=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(U=>{this.outgoingStore.close(O=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),T){let q=U||O;this.log("end :: closeStores: invoking callback with args"),T(q)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},P=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,A),this._cleanUp(A,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,h.nextTick)(C)},S)};return this.disconnecting?(T(),this):(this._clearReconnect(),this.disconnecting=!0,!A&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,P,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),P()),this)}endAsync(A,S){return new Promise((T,C)=>{this.end(A,S,P=>{P?C(P):T()})})}removeOutgoingMessage(A){if(this.outgoing[A]){let{cb:S}=this.outgoing[A];this._removeOutgoingAndStoreMessage(A,()=>{S(new Error("Message removed"))})}return this}reconnect(A){this.log("client reconnect");let S=()=>{A?(this.options.incomingStore=A.incomingStore,this.options.outgoingStore=A.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new l.default,this.outgoingStore=this.options.outgoingStore||new l.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=S:S(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(A=>{this.outgoing[A].volatile&&typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(A=>{typeof this.outgoing[A].cb=="function"&&(this.outgoing[A].cb(new Error("Connection closed")),delete this.outgoing[A])}))}_removeTopicAliasAndRecoverTopicName(A){let S;A.properties&&(S=A.properties.topicAlias);let T=A.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",S,T),T.length===0){if(typeof S>"u")return new Error("Unregistered Topic Alias");if(T=this.topicAliasSend.getTopicByAlias(S),typeof T>"u")return new Error("Unregistered Topic Alias");A.topic=T}S&&delete A.properties.topicAlias}_checkDisconnecting(A){return this.disconnecting&&(A&&A!==this.noop?A(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(A,S,T={}){if(S&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",S)),this.log("_cleanUp :: forced? %s",A),A)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let C={cmd:"disconnect",...T};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(C,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),d(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),S&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",S),S())}_storeAndSend(A,S,T){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let C=A,P;if(C.cmd==="publish"&&(C=(0,n.default)(A),P=this._removeTopicAliasAndRecoverTopicName(C),P))return S&&S(P);this.outgoingStore.put(C,U=>{if(U)return S&&S(U);T(),this._writePacket(A,S)})}_applyTopicAlias(A){if(this.options.protocolVersion===5&&A.cmd==="publish"){let S;A.properties&&(S=A.properties.topicAlias);let T=A.topic.toString();if(this.topicAliasSend)if(S){if(T.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",T,S),!this.topicAliasSend.put(T,S)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,S),new Error("Sending Topic Alias out of range")}else T.length!==0&&(this.options.autoAssignTopicAlias?(S=this.topicAliasSend.getAliasByTopic(T),S?(A.topic="",A.properties={...A.properties,topicAlias:S},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",T,S)):(S=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(T,S),A.properties={...A.properties,topicAlias:S},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",T,S))):this.options.autoUseTopicAlias&&(S=this.topicAliasSend.getAliasByTopic(T),S&&(A.topic="",A.properties={...A.properties,topicAlias:S},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",T,S))));else if(S)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",T,S),new Error("Sending Topic Alias out of range")}}_noop(A){this.log("noop ::",A)}_writePacket(A,S){this.log("_writePacket :: packet: %O",A),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",A),this.log("_writePacket :: writing to stream");let T=r.default.writeToStream(A,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",T),!T&&S&&S!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",S)):S&&(this.log("_writePacket :: invoking cb"),S())}_sendPacket(A,S,T,C){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),T=T||this.noop,S=S||this.noop;let P=this._applyTopicAlias(A);if(P){S(P);return}if(!this.connected){if(A.cmd==="auth"){this._writePacket(A,S);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(A,S,T);return}if(C){this._writePacket(A,S);return}switch(A.cmd){case"publish":break;case"pubrel":this._storeAndSend(A,S,T);return;default:this._writePacket(A,S);return}switch(A.qos){case 2:case 1:this._storeAndSend(A,S,T);break;case 0:default:this._writePacket(A,S);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(A,S,T){this.log("_storePacket :: packet: %o",A),this.log("_storePacket :: cb? %s",!!S),T=T||this.noop;let C=A;if(C.cmd==="publish"){C=(0,n.default)(A);let U=this._removeTopicAliasAndRecoverTopicName(C);if(U)return S&&S(U)}let P=C.qos||0;P===0&&this.queueQoSZero||C.cmd!=="publish"?this.queue.push({packet:C,cb:S}):P>0?(S=this.outgoing[C.messageId]?this.outgoing[C.messageId].cb:null,this.outgoingStore.put(C,U=>{if(U)return S&&S(U);T()})):S&&S(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new b.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(A=!1){this.keepaliveManager&&this.options.keepalive&&(A||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let A=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&A.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let S=0;S<A.length;S++){let T={};T[A[S]]=this._resubscribeTopics[A[S]],T.resubscribe=!0,this.subscribe(T,{properties:T[A[S]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(A){if(this.disconnected){this.emit("connect",A);return}this.connackPacket=A,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let S=()=>{let T=this.outgoingStore.createStream(),C=()=>{T.destroy(),T=null,this._flushStoreProcessingQueue(),P()},P=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",C),T.on("error",O=>{P(),this._flushStoreProcessingQueue(),this.removeListener("close",C),this.emit("error",O)});let U=()=>{if(!T)return;let O=T.read(1),q;if(!O){T.once("readable",U);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[O.messageId]){U();return}!this.disconnecting&&!this.reconnectTimer?(q=this.outgoing[O.messageId]?this.outgoing[O.messageId].cb:null,this.outgoing[O.messageId]={volatile:!1,cb(D,L){q&&q(D,L),U()}},this._packetIdsDuringStoreProcessing[O.messageId]=!0,this.messageIdProvider.register(O.messageId)?this._sendPacket(O,void 0,void 0,!0):this.log("messageId: %d has already used.",O.messageId)):T.destroy&&T.destroy()};T.on("end",()=>{let O=!0;for(let q in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[q]){O=!1;break}this.removeListener("close",C),O?(P(),this._invokeAllStoreProcessingQueue(),this.emit("connect",A)):S()}),U()};S()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let A=this._storeProcessingQueue[0];if(A&&A.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let A of this._storeProcessingQueue)A.cbStorePut&&A.cbStorePut(new Error("Connection closed")),A.callback&&A.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(A,S){delete this.outgoing[A],this.outgoingStore.del({messageId:A},(T,C)=>{S(T,C),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue()})}};f.default=I}),vu=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=la(),o=class{numberAllocator;lastId;constructor(){this.numberAllocator=new a.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(s){return this.numberAllocator.use(s)}deallocate(s){this.numberAllocator.free(s)}clear(){this.numberAllocator.clear()}};f.default=o});function wu(){if(Jn)return ir;Jn=!0;let f=2147483647,a=36,o=1,s=26,u=38,r=700,e=72,n=128,t="-",i=/^xn--/,l=/[^\0-\x7F]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=a-o,h=Math.floor,y=String.fromCharCode;function b(P){throw new RangeError(g[P])}function E(P,U){let O=[],q=P.length;for(;q--;)O[q]=U(P[q]);return O}function d(P,U){let O=P.split("@"),q="";O.length>1&&(q=O[0]+"@",P=O[1]),P=P.replace(p,".");let D=P.split("."),L=E(D,U).join(".");return q+L}function _(P){let U=[],O=0,q=P.length;for(;O<q;){let D=P.charCodeAt(O++);if(D>=55296&&D<=56319&&O<q){let L=P.charCodeAt(O++);(L&64512)==56320?U.push(((D&1023)<<10)+(L&1023)+65536):(U.push(D),O--)}else U.push(D)}return U}let I=P=>String.fromCodePoint(...P),v=function(P){return P>=48&&P<58?26+(P-48):P>=65&&P<91?P-65:P>=97&&P<123?P-97:a},A=function(P,U){return P+22+75*(P<26)-((U!=0)<<5)},S=function(P,U,O){let q=0;for(P=O?h(P/r):P>>1,P+=h(P/U);P>m*s>>1;q+=a)P=h(P/m);return h(q+(m+1)*P/(P+u))},T=function(P){let U=[],O=P.length,q=0,D=n,L=e,ae=P.lastIndexOf(t);ae<0&&(ae=0);for(let Q=0;Q<ae;++Q)P.charCodeAt(Q)>=128&&b("not-basic"),U.push(P.charCodeAt(Q));for(let Q=ae>0?ae+1:0;Q<O;){let V=q;for(let F=1,Z=a;;Z+=a){Q>=O&&b("invalid-input");let R=v(P.charCodeAt(Q++));R>=a&&b("invalid-input"),R>h((f-q)/F)&&b("overflow"),q+=R*F;let J=Z<=L?o:Z>=L+s?s:Z-L;if(R<J)break;let be=a-J;F>h(f/be)&&b("overflow"),F*=be}let re=U.length+1;L=S(q-V,re,V==0),h(q/re)>f-D&&b("overflow"),D+=h(q/re),q%=re,U.splice(q++,0,D)}return String.fromCodePoint(...U)},C=function(P){let U=[];P=_(P);let O=P.length,q=n,D=0,L=e;for(let V of P)V<128&&U.push(y(V));let ae=U.length,Q=ae;for(ae&&U.push(t);Q<O;){let V=f;for(let F of P)F>=q&&F<V&&(V=F);let re=Q+1;V-q>h((f-D)/re)&&b("overflow"),D+=(V-q)*re,q=V;for(let F of P)if(F<q&&++D>f&&b("overflow"),F===q){let Z=D;for(let R=a;;R+=a){let J=R<=L?o:R>=L+s?s:R-L;if(Z<J)break;let be=Z-J,te=a-J;U.push(y(A(J+be%te,0))),Z=h(be/te)}U.push(y(A(Z,0))),L=S(D,re,Q===ae),D=0,++Q}++D,++q}return U.join("")};return ir={version:"2.3.1",ucs2:{decode:_,encode:I},decode:T,encode:C,toASCII:function(P){return d(P,function(U){return l.test(U)?"xn--"+C(U):U})},toUnicode:function(P){return d(P,function(U){return i.test(U)?T(U.slice(4).toLowerCase()):U})}},ir}var ir,Jn,gt,_u=Ke(()=>{le(),ce(),ue(),ir={},Jn=!1,gt=wu(),gt.decode,gt.encode,gt.toASCII,gt.toUnicode,gt.ucs2,gt.version});function Eu(){return Zn||(Zn=!0,Xn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},a=Symbol("test"),o=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;f[a]=s;for(a in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var u=Object.getOwnPropertySymbols(f);if(u.length!==1||u[0]!==a||!Object.prototype.propertyIsEnumerable.call(f,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(f,a);if(r.value!==s||r.enumerable!==!0)return!1}return!0}),Xn}function Su(){return ti||(ti=!0,ei=Error),ei}function Au(){return ni||(ni=!0,ri=EvalError),ri}function Iu(){return oi||(oi=!0,ii=RangeError),ii}function xu(){return ai||(ai=!0,si=ReferenceError),si}function ba(){return ui||(ui=!0,li=SyntaxError),li}function Yt(){return fi||(fi=!0,ci=TypeError),ci}function Tu(){return pi||(pi=!0,hi=URIError),hi}function Ou(){if(di)return or;di=!0;var f=typeof Symbol<"u"&&Symbol,a=Eu();return or=function(){return typeof f!="function"||typeof Symbol!="function"||typeof f("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()},or}function ku(){if(gi)return sr;gi=!0;var f={__proto__:null,foo:{}},a=Object;return sr=function(){return{__proto__:f}.foo===f.foo&&!(f instanceof a)},sr}function Pu(){if(yi)return ar;yi=!0;var f="Function.prototype.bind called on incompatible ",a=Object.prototype.toString,o=Math.max,s="[object Function]",u=function(n,t){for(var i=[],l=0;l<n.length;l+=1)i[l]=n[l];for(var p=0;p<t.length;p+=1)i[p+n.length]=t[p];return i},r=function(n,t){for(var i=[],l=t,p=0;l<n.length;l+=1,p+=1)i[p]=n[l];return i},e=function(n,t){for(var i="",l=0;l<n.length;l+=1)i+=n[l],l+1<n.length&&(i+=t);return i};return ar=function(n){var t=this;if(typeof t!="function"||a.apply(t)!==s)throw new TypeError(f+t);for(var i=r(arguments,1),l,p=function(){if(this instanceof l){var b=t.apply(this,u(i,arguments));return Object(b)===b?b:this}return t.apply(n,u(i,arguments))},g=o(0,t.length-i.length),m=[],h=0;h<g;h++)m[h]="$"+h;if(l=Function("binder","return function ("+e(m,",")+"){ return binder.apply(this,arguments); }")(p),t.prototype){var y=function(){};y.prototype=t.prototype,l.prototype=new y,y.prototype=null}return l},ar}function Ki(){if(bi)return lr;bi=!0;var f=Pu();return lr=Function.prototype.bind||f,lr}function Ru(){if(mi)return ur;mi=!0;var f=Function.prototype.call,a=Object.prototype.hasOwnProperty,o=Ki();return ur=o.call(f,a),ur}function Bt(){if(vi)return cr;vi=!0;var f,a=Su(),o=Au(),s=Iu(),u=xu(),r=ba(),e=Yt(),n=Tu(),t=Function,i=function(Q){try{return t('"use strict"; return ('+Q+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var p=function(){throw new e},g=l?function(){try{return arguments.callee,p}catch{try{return l(arguments,"callee").get}catch{return p}}}():p,m=Ou()(),h=ku()(),y=Object.getPrototypeOf||(h?function(Q){return Q.__proto__}:null),b={},E=typeof Uint8Array>"u"||!y?f:y(Uint8Array),d={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?f:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?f:ArrayBuffer,"%ArrayIteratorPrototype%":m&&y?y([][Symbol.iterator]()):f,"%AsyncFromSyncIteratorPrototype%":f,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":typeof Atomics>"u"?f:Atomics,"%BigInt%":typeof BigInt>"u"?f:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?f:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?f:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?f:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":o,"%Float32Array%":typeof Float32Array>"u"?f:Float32Array,"%Float64Array%":typeof Float64Array>"u"?f:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?f:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":b,"%Int8Array%":typeof Int8Array>"u"?f:Int8Array,"%Int16Array%":typeof Int16Array>"u"?f:Int16Array,"%Int32Array%":typeof Int32Array>"u"?f:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&y?y(y([][Symbol.iterator]())):f,"%JSON%":typeof JSON=="object"?JSON:f,"%Map%":typeof Map>"u"?f:Map,"%MapIteratorPrototype%":typeof Map>"u"||!m||!y?f:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?f:Promise,"%Proxy%":typeof Proxy>"u"?f:Proxy,"%RangeError%":s,"%ReferenceError%":u,"%Reflect%":typeof Reflect>"u"?f:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?f:Set,"%SetIteratorPrototype%":typeof Set>"u"||!m||!y?f:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?f:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&y?y(""[Symbol.iterator]()):f,"%Symbol%":m?Symbol:f,"%SyntaxError%":r,"%ThrowTypeError%":g,"%TypedArray%":E,"%TypeError%":e,"%Uint8Array%":typeof Uint8Array>"u"?f:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?f:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?f:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?f:Uint32Array,"%URIError%":n,"%WeakMap%":typeof WeakMap>"u"?f:WeakMap,"%WeakRef%":typeof WeakRef>"u"?f:WeakRef,"%WeakSet%":typeof WeakSet>"u"?f:WeakSet};if(y)try{null.error}catch(Q){var _=y(y(Q));d["%Error.prototype%"]=_}var I=function Q(V){var re;if(V==="%AsyncFunction%")re=i("async function () {}");else if(V==="%GeneratorFunction%")re=i("function* () {}");else if(V==="%AsyncGeneratorFunction%")re=i("async function* () {}");else if(V==="%AsyncGenerator%"){var F=Q("%AsyncGeneratorFunction%");F&&(re=F.prototype)}else if(V==="%AsyncIteratorPrototype%"){var Z=Q("%AsyncGenerator%");Z&&y&&(re=y(Z.prototype))}return d[V]=re,re},v={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=Ki(),S=Ru(),T=A.call(Function.call,Array.prototype.concat),C=A.call(Function.apply,Array.prototype.splice),P=A.call(Function.call,String.prototype.replace),U=A.call(Function.call,String.prototype.slice),O=A.call(Function.call,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,L=function(Q){var V=U(Q,0,1),re=U(Q,-1);if(V==="%"&&re!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&V!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var F=[];return P(Q,q,function(Z,R,J,be){F[F.length]=J?P(be,D,"$1"):R||Z}),F},ae=function(Q,V){var re=Q,F;if(S(v,re)&&(F=v[re],re="%"+F[0]+"%"),S(d,re)){var Z=d[re];if(Z===b&&(Z=I(re)),typeof Z>"u"&&!V)throw new e("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:F,name:re,value:Z}}throw new r("intrinsic "+Q+" does not exist!")};return cr=function(Q,V){if(typeof Q!="string"||Q.length===0)throw new e("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new e('"allowMissing" argument must be a boolean');if(O(/^%?[^%]*%?$/,Q)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=L(Q),F=re.length>0?re[0]:"",Z=ae("%"+F+"%",V),R=Z.name,J=Z.value,be=!1,te=Z.alias;te&&(F=te[0],C(re,T([0,1],te)));for(var we=1,H=!0;we<re.length;we+=1){var N=re[we],ne=U(N,0,1),z=U(N,-1);if((ne==='"'||ne==="'"||ne==="`"||z==='"'||z==="'"||z==="`")&&ne!==z)throw new r("property names with quotes must have matching quotes");if((N==="constructor"||!H)&&(be=!0),F+="."+N,R="%"+F+"%",S(d,R))J=d[R];else if(J!=null){if(!(N in J)){if(!V)throw new e("base intrinsic for "+Q+" exists, but the property is not available.");return}if(l&&we+1>=re.length){var G=l(J,N);H=!!G,H&&"get"in G&&!("originalValue"in G.get)?J=G.get:J=J[N]}else H=S(J,N),J=J[N];H&&!be&&(d[R]=J)}}return J},cr}function Vi(){if(wi)return fr;wi=!0;var f=Bt(),a=f("%Object.defineProperty%",!0)||!1;if(a)try{a({},"a",{value:1})}catch{a=!1}return fr=a,fr}function ma(){if(_i)return hr;_i=!0;var f=Bt(),a=f("%Object.getOwnPropertyDescriptor%",!0);if(a)try{a([],"length")}catch{a=null}return hr=a,hr}function Cu(){if(Ei)return pr;Ei=!0;var f=Vi(),a=ba(),o=Yt(),s=ma();return pr=function(u,r,e){if(!u||typeof u!="object"&&typeof u!="function")throw new o("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new o("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,t=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,p=!!s&&s(u,r);if(f)f(u,r,{configurable:i===null&&p?p.configurable:!i,enumerable:n===null&&p?p.enumerable:!n,value:e,writable:t===null&&p?p.writable:!t});else if(l||!n&&!t&&!i)u[r]=e;else throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},pr}function Mu(){if(Si)return dr;Si=!0;var f=Vi(),a=function(){return!!f};return a.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},dr=a,dr}function ju(){if(Ai)return gr;Ai=!0;var f=Bt(),a=Cu(),o=Mu()(),s=ma(),u=Yt(),r=f("%Math.floor%");return gr=function(e,n){if(typeof e!="function")throw new u("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||r(n)!==n)throw new u("`length` must be a positive 32-bit integer");var t=arguments.length>2&&!!arguments[2],i=!0,l=!0;if("length"in e&&s){var p=s(e,"length");p&&!p.configurable&&(i=!1),p&&!p.writable&&(l=!1)}return(i||l||!t)&&(o?a(e,"length",n,!0,!0):a(e,"length",n)),e},gr}function Nu(){if(Ii)return Ct;Ii=!0;var f=Ki(),a=Bt(),o=ju(),s=Yt(),u=a("%Function.prototype.apply%"),r=a("%Function.prototype.call%"),e=a("%Reflect.apply%",!0)||f.call(r,u),n=Vi(),t=a("%Math.max%");Ct=function(l){if(typeof l!="function")throw new s("a function is required");var p=e(f,r,arguments);return o(p,1+t(0,l.length-(arguments.length-1)),!0)};var i=function(){return e(f,u,arguments)};return n?n(Ct,"apply",{value:i}):Ct.apply=i,Ct}function Lu(){if(xi)return yr;xi=!0;var f=Bt(),a=Nu(),o=a(f("String.prototype.indexOf"));return yr=function(s,u){var r=f(s,!!u);return typeof r=="function"&&o(s,".prototype.")>-1?a(r):r},yr}var Xn,Zn,ei,ti,ri,ni,ii,oi,si,ai,li,ui,ci,fi,hi,pi,or,di,sr,gi,ar,yi,lr,bi,ur,mi,cr,vi,fr,wi,hr,_i,pr,Ei,dr,Si,gr,Ai,Ct,Ii,yr,xi,Bu=Ke(()=>{le(),ce(),ue(),Xn={},Zn=!1,ei={},ti=!1,ri={},ni=!1,ii={},oi=!1,si={},ai=!1,li={},ui=!1,ci={},fi=!1,hi={},pi=!1,or={},di=!1,sr={},gi=!1,ar={},yi=!1,lr={},bi=!1,ur={},mi=!1,cr={},vi=!1,fr={},wi=!1,hr={},_i=!1,pr={},Ei=!1,dr={},Si=!1,gr={},Ai=!1,Ct={},Ii=!1,yr={},xi=!1});function Hi(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function Uu(){!At||!Et||(At=!1,Et.length?tt=Et.concat(tt):Ht=-1,tt.length&&va())}function va(){if(!At){var f=setTimeout(Uu,0);At=!0;for(var a=tt.length;a;){for(Et=tt,tt=[];++Ht<a;)Et&&Et[Ht].run();Ht=-1,a=tt.length}Et=null,At=!1,clearTimeout(f)}}function Du(f){var a=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)a[o-1]=arguments[o];tt.push(new wa(f,a)),tt.length===1&&!At&&setTimeout(va,0)}function wa(f,a){this.fun=f,this.array=a}function Fe(){}function Fu(f){Hi("_linkedBinding")}function Wu(f){Hi("dlopen")}function qu(){return[]}function $u(){return[]}function zu(f,a){if(!f)throw new Error(a||"assertion error")}function Ku(){return!1}function Vu(){return st.now()/1e3}function Br(f){var a=Math.floor((Date.now()-st.now())*.001),o=st.now()*.001,s=Math.floor(o)+a,u=Math.floor(o%1*1e9);return f&&(s=s-f[0],u=u-f[1],u<0&&(s--,u+=br)),[s,u]}function pt(){return Gi}function Hu(f){return[]}var tt,At,Et,Ht,eo,to,ro,no,io,oo,so,ao,lo,uo,co,fo,ho,po,go,yo,bo,mo,vo,wo,_o,Zt,Eo,So,Ao,Io,xo,To,Oo,ko,Po,Ro,Co,Mo,jo,No,Lo,Bo,Uo,Do,Fo,Wo,qo,$o,zo,Ko,Vo,st,Ur,br,Ho,Go,Qo,Yo,Jo,Xo,Zo,es,ts,rs,ns,Gi,_a=Ke(()=>{le(),ce(),ue(),tt=[],At=!1,Ht=-1,wa.prototype.run=function(){this.fun.apply(null,this.array)},eo="browser",to="x64",ro="browser",no={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},io=["/usr/bin/node"],oo=[],so="v16.8.0",ao={},lo=function(f,a){console.warn((a?a+": ":"")+f)},uo=function(f){Hi("binding")},co=function(f){return 0},fo=function(){return"/"},ho=function(f){},po={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},go=Fe,yo=[],bo={},mo=!1,vo={},wo=Fe,_o=Fe,Zt=function(){return{}},Eo=Zt,So=Zt,Ao=Fe,Io=Fe,xo=Fe,To={},Oo={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},ko=Fe,Po=Fe,Ro=Fe,Co=Fe,Mo=Fe,jo=Fe,No=Fe,Lo=void 0,Bo=void 0,Uo=void 0,Do=Fe,Fo=2,Wo=1,qo="/bin/usr/node",$o=9229,zo="node",Ko=[],Vo=Fe,st={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},st.now===void 0&&(Ur=Date.now(),st.timing&&st.timing.navigationStart&&(Ur=st.timing.navigationStart),st.now=()=>Date.now()-Ur),br=1e9,Br.bigint=function(f){var a=Br(f);return typeof BigInt>"u"?a[0]*br+a[1]:BigInt(a[0]*br)+BigInt(a[1])},Ho=10,Go={},Qo=0,Yo=pt,Jo=pt,Xo=pt,Zo=pt,es=pt,ts=Fe,rs=pt,ns=pt,Gi={version:so,versions:ao,arch:to,platform:ro,release:po,_rawDebug:go,moduleLoadList:yo,binding:uo,_linkedBinding:Fu,_events:Go,_eventsCount:Qo,_maxListeners:Ho,on:pt,addListener:Yo,once:Jo,off:Xo,removeListener:Zo,removeAllListeners:es,emit:ts,prependListener:rs,prependOnceListener:ns,listeners:Hu,domain:bo,_exiting:mo,config:vo,dlopen:Wu,uptime:Vu,_getActiveRequests:qu,_getActiveHandles:$u,reallyExit:wo,_kill:_o,cpuUsage:Zt,resourceUsage:Eo,memoryUsage:So,kill:Ao,exit:Io,openStdin:xo,allowedNodeEnvironmentFlags:To,assert:zu,features:Oo,_fatalExceptions:ko,setUncaughtExceptionCaptureCallback:Po,hasUncaughtExceptionCaptureCallback:Ku,emitWarning:lo,nextTick:Du,_tickCallback:Ro,_debugProcess:Co,_debugEnd:Mo,_startProfilerIdleNotifier:jo,_stopProfilerIdleNotifier:No,stdout:Lo,stdin:Uo,stderr:Bo,abort:Do,umask:co,chdir:ho,cwd:fo,env:no,title:eo,argv:io,execArgv:oo,pid:Fo,ppid:Wo,execPath:qo,debugPort:$o,hrtime:Br,argv0:zo,_preload_modules:Ko,setSourceMapsEnabled:Vo}});function Gu(){if(Ti)return mr;Ti=!0;var f=Gi;function a(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function o(r,e){for(var n="",t=0,i=-1,l=0,p,g=0;g<=r.length;++g){if(g<r.length)p=r.charCodeAt(g);else{if(p===47)break;p=47}if(p===47){if(!(i===g-1||l===1))if(i!==g-1&&l===2){if(n.length<2||t!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var m=n.lastIndexOf("/");if(m!==n.length-1){m===-1?(n="",t=0):(n=n.slice(0,m),t=n.length-1-n.lastIndexOf("/")),i=g,l=0;continue}}else if(n.length===2||n.length===1){n="",t=0,i=g,l=0;continue}}e&&(n.length>0?n+="/..":n="..",t=2)}else n.length>0?n+="/"+r.slice(i+1,g):n=r.slice(i+1,g),t=g-i-1;i=g,l=0}else p===46&&l!==-1?++l:l=-1}return n}function s(r,e){var n=e.dir||e.root,t=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+t:n+r+t:t}var u={resolve:function(){for(var r="",e=!1,n,t=arguments.length-1;t>=-1&&!e;t--){var i;t>=0?i=arguments[t]:(n===void 0&&(n=f.cwd()),i=n),a(i),i.length!==0&&(r=i+"/"+r,e=i.charCodeAt(0)===47)}return r=o(r,!e),e?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(a(r),r.length===0)return".";var e=r.charCodeAt(0)===47,n=r.charCodeAt(r.length-1)===47;return r=o(r,!e),r.length===0&&!e&&(r="."),r.length>0&&n&&(r+="/"),e?"/"+r:r},isAbsolute:function(r){return a(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,e=0;e<arguments.length;++e){var n=arguments[e];a(n),n.length>0&&(r===void 0?r=n:r+="/"+n)}return r===void 0?".":u.normalize(r)},relative:function(r,e){if(a(r),a(e),r===e||(r=u.resolve(r),e=u.resolve(e),r===e))return"";for(var n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var t=r.length,i=t-n,l=1;l<e.length&&e.charCodeAt(l)===47;++l);for(var p=e.length,g=p-l,m=i<g?i:g,h=-1,y=0;y<=m;++y){if(y===m){if(g>m){if(e.charCodeAt(l+y)===47)return e.slice(l+y+1);if(y===0)return e.slice(l+y)}else i>m&&(r.charCodeAt(n+y)===47?h=y:y===0&&(h=0));break}var b=r.charCodeAt(n+y),E=e.charCodeAt(l+y);if(b!==E)break;b===47&&(h=y)}var d="";for(y=n+h+1;y<=t;++y)(y===t||r.charCodeAt(y)===47)&&(d.length===0?d+="..":d+="/..");return d.length>0?d+e.slice(l+h):(l+=h,e.charCodeAt(l)===47&&++l,e.slice(l))},_makeLong:function(r){return r},dirname:function(r){if(a(r),r.length===0)return".";for(var e=r.charCodeAt(0),n=e===47,t=-1,i=!0,l=r.length-1;l>=1;--l)if(e=r.charCodeAt(l),e===47){if(!i){t=l;break}}else i=!1;return t===-1?n?"/":".":n&&t===1?"//":r.slice(0,t)},basename:function(r,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');a(r);var n=0,t=-1,i=!0,l;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";var p=e.length-1,g=-1;for(l=r.length-1;l>=0;--l){var m=r.charCodeAt(l);if(m===47){if(!i){n=l+1;break}}else g===-1&&(i=!1,g=l+1),p>=0&&(m===e.charCodeAt(p)?--p===-1&&(t=l):(p=-1,t=g))}return n===t?t=g:t===-1&&(t=r.length),r.slice(n,t)}else{for(l=r.length-1;l>=0;--l)if(r.charCodeAt(l)===47){if(!i){n=l+1;break}}else t===-1&&(i=!1,t=l+1);return t===-1?"":r.slice(n,t)}},extname:function(r){a(r);for(var e=-1,n=0,t=-1,i=!0,l=0,p=r.length-1;p>=0;--p){var g=r.charCodeAt(p);if(g===47){if(!i){n=p+1;break}continue}t===-1&&(i=!1,t=p+1),g===46?e===-1?e=p:l!==1&&(l=1):e!==-1&&(l=-1)}return e===-1||t===-1||l===0||l===1&&e===t-1&&e===n+1?"":r.slice(e,t)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return s("/",r)},parse:function(r){a(r);var e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;var n=r.charCodeAt(0),t=n===47,i;t?(e.root="/",i=1):i=0;for(var l=-1,p=0,g=-1,m=!0,h=r.length-1,y=0;h>=i;--h){if(n=r.charCodeAt(h),n===47){if(!m){p=h+1;break}continue}g===-1&&(m=!1,g=h+1),n===46?l===-1?l=h:y!==1&&(y=1):l!==-1&&(y=-1)}return l===-1||g===-1||y===0||y===1&&l===g-1&&l===p+1?g!==-1&&(p===0&&t?e.base=e.name=r.slice(1,g):e.base=e.name=r.slice(p,g)):(p===0&&t?(e.name=r.slice(1,l),e.base=r.slice(1,g)):(e.name=r.slice(p,l),e.base=r.slice(p,g)),e.ext=r.slice(l,g)),p>0?e.dir=r.slice(0,p-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,mr=u,mr}var mr,Ti,Oi,Qu=Ke(()=>{le(),ce(),ue(),_a(),mr={},Ti=!1,Oi=Gu()}),Ea={};jt(Ea,{URL:()=>Ca,Url:()=>Ta,default:()=>We,fileURLToPath:()=>Aa,format:()=>Oa,parse:()=>Ra,pathToFileURL:()=>Ia,resolve:()=>ka,resolveObject:()=>Pa});function Yu(){if(ki)return vr;ki=!0;var f=typeof Map=="function"&&Map.prototype,a=Object.getOwnPropertyDescriptor&&f?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=f&&a&&typeof a.get=="function"?a.get:null,s=f&&Map.prototype.forEach,u=typeof Set=="function"&&Set.prototype,r=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,e=u&&r&&typeof r.get=="function"?r.get:null,n=u&&Set.prototype.forEach,t=typeof WeakMap=="function"&&WeakMap.prototype,i=t?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,p=l?WeakSet.prototype.has:null,g=typeof WeakRef=="function"&&WeakRef.prototype,m=g?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,b=Function.prototype.toString,E=String.prototype.match,d=String.prototype.slice,_=String.prototype.replace,I=String.prototype.toUpperCase,v=String.prototype.toLowerCase,A=RegExp.prototype.test,S=Array.prototype.concat,T=Array.prototype.join,C=Array.prototype.slice,P=Math.floor,U=typeof BigInt=="function"?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,D=typeof Symbol=="function"&&typeof Symbol.iterator=="object",L=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||!0)?Symbol.toStringTag:null,ae=Object.prototype.propertyIsEnumerable,Q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(K){return K.__proto__}:null);function V(K,ie){if(K===1/0||K===-1/0||K!==K||K&&K>-1e3&&K<1e3||A.call(/e/,ie))return ie;var Ie=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof K=="number"){var xe=K<0?-P(-K):P(K);if(xe!==K){var Te=String(xe),ke=d.call(ie,Te.length+1);return _.call(Te,Ie,"$&_")+"."+_.call(_.call(ke,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(ie,Ie,"$&_")}var re=xa,F=re.custom,Z=G(F)?F:null;vr=function K(ie,Ie,xe,Te){var ke=Ie||{};if(oe(ke,"quoteStyle")&&ke.quoteStyle!=="single"&&ke.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(oe(ke,"maxStringLength")&&(typeof ke.maxStringLength=="number"?ke.maxStringLength<0&&ke.maxStringLength!==1/0:ke.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ge=oe(ke,"customInspect")?ke.customInspect:!0;if(typeof Ge!="boolean"&&Ge!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(oe(ke,"indent")&&ke.indent!==null&&ke.indent!=="	"&&!(parseInt(ke.indent,10)===ke.indent&&ke.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(oe(ke,"numericSeparator")&&typeof ke.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Qe=ke.numericSeparator;if(typeof ie>"u")return"undefined";if(ie===null)return"null";if(typeof ie=="boolean")return ie?"true":"false";if(typeof ie=="string")return se(ie,ke);if(typeof ie=="number"){if(ie===0)return 1/0/ie>0?"0":"-0";var Ue=String(ie);return Qe?V(ie,Ue):Ue}if(typeof ie=="bigint"){var Ye=String(ie)+"n";return Qe?V(ie,Ye):Ye}var Ot=typeof ke.depth>"u"?5:ke.depth;if(typeof xe>"u"&&(xe=0),xe>=Ot&&Ot>0&&typeof ie=="object")return be(ie)?"[Array]":"[Object]";var Je=X(ke,xe);if(typeof Te>"u")Te=[];else if(ee(Te,ie)>=0)return"[Circular]";function Ve(Xe,ht,wt){if(ht&&(Te=C.call(Te),Te.push(ht)),wt){var Ze={depth:ke.depth};return oe(ke,"quoteStyle")&&(Ze.quoteStyle=ke.quoteStyle),K(Xe,Ze,xe+1,Te)}return K(Xe,ke,xe+1,Te)}if(typeof ie=="function"&&!we(ie)){var Jt=W(ie),kt=Ee(ie,Ve);return"[Function"+(Jt?": "+Jt:" (anonymous)")+"]"+(kt.length>0?" { "+T.call(kt,", ")+" }":"")}if(G(ie)){var Ut=D?_.call(String(ie),/^(Symbol\(.*\))_[^)]*$/,"$1"):q.call(ie);return typeof ie=="object"&&!D?c(Ut):Ut}if(ve(ie)){for(var k="<"+v.call(String(ie.nodeName)),j=ie.attributes||[],_e=0;_e<j.length;_e++)k+=" "+j[_e].name+"="+R(J(j[_e].value),"double",ke);return k+=">",ie.childNodes&&ie.childNodes.length&&(k+="..."),k+="</"+v.call(String(ie.nodeName))+">",k}if(be(ie)){if(ie.length===0)return"[]";var Se=Ee(ie,Ve);return Je&&!B(Se)?"["+fe(Se,Je)+"]":"[ "+T.call(Se,", ")+" ]"}if(H(ie)){var Ae=Ee(ie,Ve);return!("cause"in Error.prototype)&&"cause"in ie&&!ae.call(ie,"cause")?"{ ["+String(ie)+"] "+T.call(S.call("[cause]: "+Ve(ie.cause),Ae),", ")+" }":Ae.length===0?"["+String(ie)+"]":"{ ["+String(ie)+"] "+T.call(Ae,", ")+" }"}if(typeof ie=="object"&&Ge){if(Z&&typeof ie[Z]=="function"&&re)return re(ie,{depth:Ot-xe});if(Ge!=="symbol"&&typeof ie.inspect=="function")return ie.inspect()}if(he(ie)){var Ne=[];return s&&s.call(ie,function(Xe,ht){Ne.push(Ve(ht,ie,!0)+" => "+Ve(Xe,ie))}),x("Map",o.call(ie),Ne,Je)}if($(ie)){var qe=[];return n&&n.call(ie,function(Xe){qe.push(Ve(Xe,ie))}),x("Set",e.call(ie),qe,Je)}if(pe(ie))return w("WeakMap");if(ge(ie))return w("WeakSet");if(me(ie))return w("WeakRef");if(ne(ie))return c(Ve(Number(ie)));if(Y(ie))return c(Ve(U.call(ie)));if(z(ie))return c(h.call(ie));if(N(ie))return c(Ve(String(ie)));if(typeof window<"u"&&ie===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ie===globalThis||typeof wr<"u"&&ie===wr)return"{ [object globalThis] }";if(!te(ie)&&!we(ie)){var He=Ee(ie,Ve),Dt=Q?Q(ie)===Object.prototype:ie instanceof Object||ie.constructor===Object,Ft=ie instanceof Object?"":"null prototype",Wt=!Dt&&L&&Object(ie)===ie&&L in ie?d.call(M(ie),8,-1):Ft?"Object":"",Xt=Dt||typeof ie.constructor!="function"?"":ie.constructor.name?ie.constructor.name+" ":"",vt=Xt+(Wt||Ft?"["+T.call(S.call([],Wt||[],Ft||[]),": ")+"] ":"");return He.length===0?vt+"{}":Je?vt+"{"+fe(He,Je)+"}":vt+"{ "+T.call(He,", ")+" }"}return String(ie)};function R(K,ie,Ie){var xe=(Ie.quoteStyle||ie)==="double"?'"':"'";return xe+K+xe}function J(K){return _.call(String(K),/"/g,"&quot;")}function be(K){return M(K)==="[object Array]"&&(!L||!(typeof K=="object"&&L in K))}function te(K){return M(K)==="[object Date]"&&(!L||!(typeof K=="object"&&L in K))}function we(K){return M(K)==="[object RegExp]"&&(!L||!(typeof K=="object"&&L in K))}function H(K){return M(K)==="[object Error]"&&(!L||!(typeof K=="object"&&L in K))}function N(K){return M(K)==="[object String]"&&(!L||!(typeof K=="object"&&L in K))}function ne(K){return M(K)==="[object Number]"&&(!L||!(typeof K=="object"&&L in K))}function z(K){return M(K)==="[object Boolean]"&&(!L||!(typeof K=="object"&&L in K))}function G(K){if(D)return K&&typeof K=="object"&&K instanceof Symbol;if(typeof K=="symbol")return!0;if(!K||typeof K!="object"||!q)return!1;try{return q.call(K),!0}catch{}return!1}function Y(K){if(!K||typeof K!="object"||!U)return!1;try{return U.call(K),!0}catch{}return!1}var ye=Object.prototype.hasOwnProperty||function(K){return K in(this||wr)};function oe(K,ie){return ye.call(K,ie)}function M(K){return y.call(K)}function W(K){if(K.name)return K.name;var ie=E.call(b.call(K),/^function\s*([\w$]+)/);return ie?ie[1]:null}function ee(K,ie){if(K.indexOf)return K.indexOf(ie);for(var Ie=0,xe=K.length;Ie<xe;Ie++)if(K[Ie]===ie)return Ie;return-1}function he(K){if(!o||!K||typeof K!="object")return!1;try{o.call(K);try{e.call(K)}catch{return!0}return K instanceof Map}catch{}return!1}function pe(K){if(!i||!K||typeof K!="object")return!1;try{i.call(K,i);try{p.call(K,p)}catch{return!0}return K instanceof WeakMap}catch{}return!1}function me(K){if(!m||!K||typeof K!="object")return!1;try{return m.call(K),!0}catch{}return!1}function $(K){if(!e||!K||typeof K!="object")return!1;try{e.call(K);try{o.call(K)}catch{return!0}return K instanceof Set}catch{}return!1}function ge(K){if(!p||!K||typeof K!="object")return!1;try{p.call(K,p);try{i.call(K,i)}catch{return!0}return K instanceof WeakSet}catch{}return!1}function ve(K){return!K||typeof K!="object"?!1:typeof HTMLElement<"u"&&K instanceof HTMLElement?!0:typeof K.nodeName=="string"&&typeof K.getAttribute=="function"}function se(K,ie){if(K.length>ie.maxStringLength){var Ie=K.length-ie.maxStringLength,xe="... "+Ie+" more character"+(Ie>1?"s":"");return se(d.call(K,0,ie.maxStringLength),ie)+xe}var Te=_.call(_.call(K,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Oe);return R(Te,"single",ie)}function Oe(K){var ie=K.charCodeAt(0),Ie={8:"b",9:"t",10:"n",12:"f",13:"r"}[ie];return Ie?"\\"+Ie:"\\x"+(ie<16?"0":"")+I.call(ie.toString(16))}function c(K){return"Object("+K+")"}function w(K){return K+" { ? }"}function x(K,ie,Ie,xe){var Te=xe?fe(Ie,xe):T.call(Ie,", ");return K+" ("+ie+") {"+Te+"}"}function B(K){for(var ie=0;ie<K.length;ie++)if(ee(K[ie],`
`)>=0)return!1;return!0}function X(K,ie){var Ie;if(K.indent==="	")Ie="	";else if(typeof K.indent=="number"&&K.indent>0)Ie=T.call(Array(K.indent+1)," ");else return null;return{base:Ie,prev:T.call(Array(ie+1),Ie)}}function fe(K,ie){if(K.length===0)return"";var Ie=`
`+ie.prev+ie.base;return Ie+T.call(K,","+Ie)+`
`+ie.prev}function Ee(K,ie){var Ie=be(K),xe=[];if(Ie){xe.length=K.length;for(var Te=0;Te<K.length;Te++)xe[Te]=oe(K,Te)?ie(K[Te],K):""}var ke=typeof O=="function"?O(K):[],Ge;if(D){Ge={};for(var Qe=0;Qe<ke.length;Qe++)Ge["$"+ke[Qe]]=ke[Qe]}for(var Ue in K)oe(K,Ue)&&(Ie&&String(Number(Ue))===Ue&&Ue<K.length||D&&Ge["$"+Ue]instanceof Symbol||(A.call(/[^\w$]/,Ue)?xe.push(ie(Ue,K)+": "+ie(K[Ue],K)):xe.push(Ue+": "+ie(K[Ue],K))));if(typeof O=="function")for(var Ye=0;Ye<ke.length;Ye++)ae.call(K,ke[Ye])&&xe.push("["+ie(ke[Ye])+"]: "+ie(K[ke[Ye]],K));return xe}return vr}function Ju(){if(Pi)return _r;Pi=!0;var f=Bt(),a=Lu(),o=Yu(),s=Yt(),u=f("%WeakMap%",!0),r=f("%Map%",!0),e=a("WeakMap.prototype.get",!0),n=a("WeakMap.prototype.set",!0),t=a("WeakMap.prototype.has",!0),i=a("Map.prototype.get",!0),l=a("Map.prototype.set",!0),p=a("Map.prototype.has",!0),g=function(b,E){for(var d=b,_;(_=d.next)!==null;d=_)if(_.key===E)return d.next=_.next,_.next=b.next,b.next=_,_},m=function(b,E){var d=g(b,E);return d&&d.value},h=function(b,E,d){var _=g(b,E);_?_.value=d:b.next={key:E,next:b.next,value:d}},y=function(b,E){return!!g(b,E)};return _r=function(){var b,E,d,_={assert:function(I){if(!_.has(I))throw new s("Side channel does not contain "+o(I))},get:function(I){if(u&&I&&(typeof I=="object"||typeof I=="function")){if(b)return e(b,I)}else if(r){if(E)return i(E,I)}else if(d)return m(d,I)},has:function(I){if(u&&I&&(typeof I=="object"||typeof I=="function")){if(b)return t(b,I)}else if(r){if(E)return p(E,I)}else if(d)return y(d,I);return!1},set:function(I,v){u&&I&&(typeof I=="object"||typeof I=="function")?(b||(b=new u),n(b,I,v)):r?(E||(E=new r),l(E,I,v)):(d||(d={key:{},next:null}),h(d,I,v))}};return _},_r}function Qi(){if(Ri)return Er;Ri=!0;var f=String.prototype.replace,a=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Er={default:o.RFC3986,formatters:{RFC1738:function(s){return f.call(s,a,"+")},RFC3986:function(s){return String(s)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986},Er}function Sa(){if(Ci)return Sr;Ci=!0;var f=Qi(),a=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var b=[],E=0;E<256;++E)b.push("%"+((E<16?"0":"")+E.toString(16)).toUpperCase());return b}(),u=function(b){for(;b.length>1;){var E=b.pop(),d=E.obj[E.prop];if(o(d)){for(var _=[],I=0;I<d.length;++I)typeof d[I]<"u"&&_.push(d[I]);E.obj[E.prop]=_}}},r=function(b,E){for(var d=E&&E.plainObjects?Object.create(null):{},_=0;_<b.length;++_)typeof b[_]<"u"&&(d[_]=b[_]);return d},e=function b(E,d,_){if(!d)return E;if(typeof d!="object"){if(o(E))E.push(d);else if(E&&typeof E=="object")(_&&(_.plainObjects||_.allowPrototypes)||!a.call(Object.prototype,d))&&(E[d]=!0);else return[E,d];return E}if(!E||typeof E!="object")return[E].concat(d);var I=E;return o(E)&&!o(d)&&(I=r(E,_)),o(E)&&o(d)?(d.forEach(function(v,A){if(a.call(E,A)){var S=E[A];S&&typeof S=="object"&&v&&typeof v=="object"?E[A]=b(S,v,_):E.push(v)}else E[A]=v}),E):Object.keys(d).reduce(function(v,A){var S=d[A];return a.call(v,A)?v[A]=b(v[A],S,_):v[A]=S,v},I)},n=function(b,E){return Object.keys(E).reduce(function(d,_){return d[_]=E[_],d},b)},t=function(b,E,d){var _=b.replace(/\+/g," ");if(d==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},i=1024,l=function(b,E,d,_,I){if(b.length===0)return b;var v=b;if(typeof b=="symbol"?v=Symbol.prototype.toString.call(b):typeof b!="string"&&(v=String(b)),d==="iso-8859-1")return escape(v).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var A="",S=0;S<v.length;S+=i){for(var T=v.length>=i?v.slice(S,S+i):v,C=[],P=0;P<T.length;++P){var U=T.charCodeAt(P);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||I===f.RFC1738&&(U===40||U===41)){C[C.length]=T.charAt(P);continue}if(U<128){C[C.length]=s[U];continue}if(U<2048){C[C.length]=s[192|U>>6]+s[128|U&63];continue}if(U<55296||U>=57344){C[C.length]=s[224|U>>12]+s[128|U>>6&63]+s[128|U&63];continue}P+=1,U=65536+((U&1023)<<10|T.charCodeAt(P)&1023),C[C.length]=s[240|U>>18]+s[128|U>>12&63]+s[128|U>>6&63]+s[128|U&63]}A+=C.join("")}return A},p=function(b){for(var E=[{obj:{o:b},prop:"o"}],d=[],_=0;_<E.length;++_)for(var I=E[_],v=I.obj[I.prop],A=Object.keys(v),S=0;S<A.length;++S){var T=A[S],C=v[T];typeof C=="object"&&C!==null&&d.indexOf(C)===-1&&(E.push({obj:v,prop:T}),d.push(C))}return u(E),b},g=function(b){return Object.prototype.toString.call(b)==="[object RegExp]"},m=function(b){return!b||typeof b!="object"?!1:!!(b.constructor&&b.constructor.isBuffer&&b.constructor.isBuffer(b))},h=function(b,E){return[].concat(b,E)},y=function(b,E){if(o(b)){for(var d=[],_=0;_<b.length;_+=1)d.push(E(b[_]));return d}return E(b)};return Sr={arrayToObject:r,assign:n,combine:h,compact:p,decode:t,encode:l,isBuffer:m,isRegExp:g,maybeMap:y,merge:e},Sr}function Xu(){if(Mi)return Ar;Mi=!0;var f=Ju(),a=Sa(),o=Qi(),s=Object.prototype.hasOwnProperty,u={brackets:function(y){return y+"[]"},comma:"comma",indices:function(y,b){return y+"["+b+"]"},repeat:function(y){return y}},r=Array.isArray,e=Array.prototype.push,n=function(y,b){e.apply(y,r(b)?b:[b])},t=Date.prototype.toISOString,i=o.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:a.encode,encodeValuesOnly:!1,format:i,formatter:o.formatters[i],indices:!1,serializeDate:function(y){return t.call(y)},skipNulls:!1,strictNullHandling:!1},p=function(y){return typeof y=="string"||typeof y=="number"||typeof y=="boolean"||typeof y=="symbol"||typeof y=="bigint"},g={},m=function y(b,E,d,_,I,v,A,S,T,C,P,U,O,q,D,L,ae,Q){for(var V=b,re=Q,F=0,Z=!1;(re=re.get(g))!==void 0&&!Z;){var R=re.get(b);if(F+=1,typeof R<"u"){if(R===F)throw new RangeError("Cyclic object value");Z=!0}typeof re.get(g)>"u"&&(F=0)}if(typeof C=="function"?V=C(E,V):V instanceof Date?V=O(V):d==="comma"&&r(V)&&(V=a.maybeMap(V,function(M){return M instanceof Date?O(M):M})),V===null){if(v)return T&&!L?T(E,l.encoder,ae,"key",q):E;V=""}if(p(V)||a.isBuffer(V)){if(T){var J=L?E:T(E,l.encoder,ae,"key",q);return[D(J)+"="+D(T(V,l.encoder,ae,"value",q))]}return[D(E)+"="+D(String(V))]}var be=[];if(typeof V>"u")return be;var te;if(d==="comma"&&r(V))L&&T&&(V=a.maybeMap(V,T)),te=[{value:V.length>0?V.join(",")||null:void 0}];else if(r(C))te=C;else{var we=Object.keys(V);te=P?we.sort(P):we}var H=S?E.replace(/\./g,"%2E"):E,N=_&&r(V)&&V.length===1?H+"[]":H;if(I&&r(V)&&V.length===0)return N+"[]";for(var ne=0;ne<te.length;++ne){var z=te[ne],G=typeof z=="object"&&typeof z.value<"u"?z.value:V[z];if(!(A&&G===null)){var Y=U&&S?z.replace(/\./g,"%2E"):z,ye=r(V)?typeof d=="function"?d(N,Y):N:N+(U?"."+Y:"["+Y+"]");Q.set(b,F);var oe=f();oe.set(g,Q),n(be,y(G,ye,d,_,I,v,A,S,d==="comma"&&L&&r(V)?null:T,C,P,U,O,q,D,L,ae,oe))}}return be},h=function(y){if(!y)return l;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.encodeDotInKeys<"u"&&typeof y.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(y.encoder!==null&&typeof y.encoder<"u"&&typeof y.encoder!="function")throw new TypeError("Encoder has to be a function.");var b=y.charset||l.charset;if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=o.default;if(typeof y.format<"u"){if(!s.call(o.formatters,y.format))throw new TypeError("Unknown format option provided.");E=y.format}var d=o.formatters[E],_=l.filter;(typeof y.filter=="function"||r(y.filter))&&(_=y.filter);var I;if(y.arrayFormat in u?I=y.arrayFormat:"indices"in y?I=y.indices?"indices":"repeat":I=l.arrayFormat,"commaRoundTrip"in y&&typeof y.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v=typeof y.allowDots>"u"?y.encodeDotInKeys===!0?!0:l.allowDots:!!y.allowDots;return{addQueryPrefix:typeof y.addQueryPrefix=="boolean"?y.addQueryPrefix:l.addQueryPrefix,allowDots:v,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:I,charset:b,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:l.charsetSentinel,commaRoundTrip:y.commaRoundTrip,delimiter:typeof y.delimiter>"u"?l.delimiter:y.delimiter,encode:typeof y.encode=="boolean"?y.encode:l.encode,encodeDotInKeys:typeof y.encodeDotInKeys=="boolean"?y.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof y.encoder=="function"?y.encoder:l.encoder,encodeValuesOnly:typeof y.encodeValuesOnly=="boolean"?y.encodeValuesOnly:l.encodeValuesOnly,filter:_,format:E,formatter:d,serializeDate:typeof y.serializeDate=="function"?y.serializeDate:l.serializeDate,skipNulls:typeof y.skipNulls=="boolean"?y.skipNulls:l.skipNulls,sort:typeof y.sort=="function"?y.sort:null,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:l.strictNullHandling}};return Ar=function(y,b){var E=y,d=h(b),_,I;typeof d.filter=="function"?(I=d.filter,E=I("",E)):r(d.filter)&&(I=d.filter,_=I);var v=[];if(typeof E!="object"||E===null)return"";var A=u[d.arrayFormat],S=A==="comma"&&d.commaRoundTrip;_||(_=Object.keys(E)),d.sort&&_.sort(d.sort);for(var T=f(),C=0;C<_.length;++C){var P=_[C];d.skipNulls&&E[P]===null||n(v,m(E[P],P,A,S,d.allowEmptyArrays,d.strictNullHandling,d.skipNulls,d.encodeDotInKeys,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,T))}var U=v.join(d.delimiter),O=d.addQueryPrefix===!0?"?":"";return d.charsetSentinel&&(d.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),U.length>0?O+U:""},Ar}function Zu(){if(ji)return Ir;ji=!0;var f=Sa(),a=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:f.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},u=function(g){return g.replace(/&#(\d+);/g,function(m,h){return String.fromCharCode(parseInt(h,10))})},r=function(g,m){return g&&typeof g=="string"&&m.comma&&g.indexOf(",")>-1?g.split(","):g},e="utf8=%26%2310003%3B",n="utf8=%E2%9C%93",t=function(g,m){var h={__proto__:null},y=m.ignoreQueryPrefix?g.replace(/^\?/,""):g;y=y.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var b=m.parameterLimit===1/0?void 0:m.parameterLimit,E=y.split(m.delimiter,b),d=-1,_,I=m.charset;if(m.charsetSentinel)for(_=0;_<E.length;++_)E[_].indexOf("utf8=")===0&&(E[_]===n?I="utf-8":E[_]===e&&(I="iso-8859-1"),d=_,_=E.length);for(_=0;_<E.length;++_)if(_!==d){var v=E[_],A=v.indexOf("]="),S=A===-1?v.indexOf("="):A+1,T,C;S===-1?(T=m.decoder(v,s.decoder,I,"key"),C=m.strictNullHandling?null:""):(T=m.decoder(v.slice(0,S),s.decoder,I,"key"),C=f.maybeMap(r(v.slice(S+1),m),function(U){return m.decoder(U,s.decoder,I,"value")})),C&&m.interpretNumericEntities&&I==="iso-8859-1"&&(C=u(C)),v.indexOf("[]=")>-1&&(C=o(C)?[C]:C);var P=a.call(h,T);P&&m.duplicates==="combine"?h[T]=f.combine(h[T],C):(!P||m.duplicates==="last")&&(h[T]=C)}return h},i=function(g,m,h,y){for(var b=y?m:r(m,h),E=g.length-1;E>=0;--E){var d,_=g[E];if(_==="[]"&&h.parseArrays)d=h.allowEmptyArrays&&(b===""||h.strictNullHandling&&b===null)?[]:[].concat(b);else{d=h.plainObjects?Object.create(null):{};var I=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,v=h.decodeDotInKeys?I.replace(/%2E/g,"."):I,A=parseInt(v,10);!h.parseArrays&&v===""?d={0:b}:!isNaN(A)&&_!==v&&String(A)===v&&A>=0&&h.parseArrays&&A<=h.arrayLimit?(d=[],d[A]=b):v!=="__proto__"&&(d[v]=b)}b=d}return b},l=function(g,m,h,y){if(g){var b=h.allowDots?g.replace(/\.([^.[]+)/g,"[$1]"):g,E=/(\[[^[\]]*])/,d=/(\[[^[\]]*])/g,_=h.depth>0&&E.exec(b),I=_?b.slice(0,_.index):b,v=[];if(I){if(!h.plainObjects&&a.call(Object.prototype,I)&&!h.allowPrototypes)return;v.push(I)}for(var A=0;h.depth>0&&(_=d.exec(b))!==null&&A<h.depth;){if(A+=1,!h.plainObjects&&a.call(Object.prototype,_[1].slice(1,-1))&&!h.allowPrototypes)return;v.push(_[1])}if(_){if(h.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+h.depth+" and strictDepth is true");v.push("["+b.slice(_.index)+"]")}return i(v,m,h,y)}},p=function(g){if(!g)return s;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.decodeDotInKeys<"u"&&typeof g.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(g.decoder!==null&&typeof g.decoder<"u"&&typeof g.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=typeof g.charset>"u"?s.charset:g.charset,h=typeof g.duplicates>"u"?s.duplicates:g.duplicates;if(h!=="combine"&&h!=="first"&&h!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var y=typeof g.allowDots>"u"?g.decodeDotInKeys===!0?!0:s.allowDots:!!g.allowDots;return{allowDots:y,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:typeof g.allowPrototypes=="boolean"?g.allowPrototypes:s.allowPrototypes,allowSparse:typeof g.allowSparse=="boolean"?g.allowSparse:s.allowSparse,arrayLimit:typeof g.arrayLimit=="number"?g.arrayLimit:s.arrayLimit,charset:m,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:s.charsetSentinel,comma:typeof g.comma=="boolean"?g.comma:s.comma,decodeDotInKeys:typeof g.decodeDotInKeys=="boolean"?g.decodeDotInKeys:s.decodeDotInKeys,decoder:typeof g.decoder=="function"?g.decoder:s.decoder,delimiter:typeof g.delimiter=="string"||f.isRegExp(g.delimiter)?g.delimiter:s.delimiter,depth:typeof g.depth=="number"||g.depth===!1?+g.depth:s.depth,duplicates:h,ignoreQueryPrefix:g.ignoreQueryPrefix===!0,interpretNumericEntities:typeof g.interpretNumericEntities=="boolean"?g.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:typeof g.parameterLimit=="number"?g.parameterLimit:s.parameterLimit,parseArrays:g.parseArrays!==!1,plainObjects:typeof g.plainObjects=="boolean"?g.plainObjects:s.plainObjects,strictDepth:typeof g.strictDepth=="boolean"?!!g.strictDepth:s.strictDepth,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:s.strictNullHandling}};return Ir=function(g,m){var h=p(m);if(g===""||g===null||typeof g>"u")return h.plainObjects?Object.create(null):{};for(var y=typeof g=="string"?t(g,h):g,b=h.plainObjects?Object.create(null):{},E=Object.keys(y),d=0;d<E.length;++d){var _=E[d],I=l(_,y[_],h,typeof g=="string");b=f.merge(b,I,h)}return h.allowSparse===!0?b:f.compact(b)},Ir}function ec(){if(Ni)return xr;Ni=!0;var f=Xu(),a=Zu(),o=Qi();return xr={formats:o,parse:a,stringify:f},xr}function tc(){if(Li)return yt;Li=!0;var f=gt;function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],e=["{","}","|","\\","^","`"].concat(r),n=["'"].concat(e),t=["%","/","?",";","#"].concat(n),i=["/","?","#"],l=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=ec();function E(v,A,S){if(v&&typeof v=="object"&&v instanceof a)return v;var T=new a;return T.parse(v,A,S),T}a.prototype.parse=function(v,A,S){if(typeof v!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof v);var T=v.indexOf("?"),C=T!==-1&&T<v.indexOf("#")?"?":"#",P=v.split(C),U=/\\/g;P[0]=P[0].replace(U,"/"),v=P.join(C);var O=v;if(O=O.trim(),!S&&v.split("#").length===1){var q=u.exec(O);if(q)return this.path=O,this.href=O,this.pathname=q[1],q[2]?(this.search=q[2],A?this.query=b.parse(this.search.substr(1)):this.query=this.search.substr(1)):A&&(this.search="",this.query={}),this}var D=o.exec(O);if(D){D=D[0];var L=D.toLowerCase();this.protocol=L,O=O.substr(D.length)}if(S||D||O.match(/^\/\/[^@/]+@[^@/]+/)){var ae=O.substr(0,2)==="//";ae&&!(D&&h[D])&&(O=O.substr(2),this.slashes=!0)}if(!h[D]&&(ae||D&&!y[D])){for(var Q=-1,V=0;V<i.length;V++){var re=O.indexOf(i[V]);re!==-1&&(Q===-1||re<Q)&&(Q=re)}var F,Z;Q===-1?Z=O.lastIndexOf("@"):Z=O.lastIndexOf("@",Q),Z!==-1&&(F=O.slice(0,Z),O=O.slice(Z+1),this.auth=decodeURIComponent(F)),Q=-1;for(var V=0;V<t.length;V++){var re=O.indexOf(t[V]);re!==-1&&(Q===-1||re<Q)&&(Q=re)}Q===-1&&(Q=O.length),this.host=O.slice(0,Q),O=O.slice(Q),this.parseHost(),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R)for(var J=this.hostname.split(/\./),V=0,be=J.length;V<be;V++){var te=J[V];if(te&&!te.match(p)){for(var we="",H=0,N=te.length;H<N;H++)te.charCodeAt(H)>127?we+="x":we+=te[H];if(!we.match(p)){var ne=J.slice(0,V),z=J.slice(V+1),G=te.match(g);G&&(ne.push(G[1]),z.unshift(G[2])),z.length&&(O="/"+z.join(".")+O),this.hostname=ne.join(".");break}}}this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=f.toASCII(this.hostname));var Y=this.port?":"+this.port:"",ye=this.hostname||"";this.host=ye+Y,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),O[0]!=="/"&&(O="/"+O))}if(!m[L])for(var V=0,be=n.length;V<be;V++){var oe=n[V];if(O.indexOf(oe)!==-1){var M=encodeURIComponent(oe);M===oe&&(M=escape(oe)),O=O.split(oe).join(M)}}var W=O.indexOf("#");W!==-1&&(this.hash=O.substr(W),O=O.slice(0,W));var ee=O.indexOf("?");if(ee!==-1?(this.search=O.substr(ee),this.query=O.substr(ee+1),A&&(this.query=b.parse(this.query)),O=O.slice(0,ee)):A&&(this.search="",this.query={}),O&&(this.pathname=O),y[L]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Y=this.pathname||"",he=this.search||"";this.path=Y+he}return this.href=this.format(),this};function d(v){return typeof v=="string"&&(v=E(v)),v instanceof a?v.format():a.prototype.format.call(v)}a.prototype.format=function(){var v=this.auth||"";v&&(v=encodeURIComponent(v),v=v.replace(/%3A/i,":"),v+="@");var A=this.protocol||"",S=this.pathname||"",T=this.hash||"",C=!1,P="";this.host?C=v+this.host:this.hostname&&(C=v+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(C+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(P=b.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var U=this.search||P&&"?"+P||"";return A&&A.substr(-1)!==":"&&(A+=":"),this.slashes||(!A||y[A])&&C!==!1?(C="//"+(C||""),S&&S.charAt(0)!=="/"&&(S="/"+S)):C||(C=""),T&&T.charAt(0)!=="#"&&(T="#"+T),U&&U.charAt(0)!=="?"&&(U="?"+U),S=S.replace(/[?#]/g,function(O){return encodeURIComponent(O)}),U=U.replace("#","%23"),A+C+S+U+T};function _(v,A){return E(v,!1,!0).resolve(A)}a.prototype.resolve=function(v){return this.resolveObject(E(v,!1,!0)).format()};function I(v,A){return v?E(v,!1,!0).resolveObject(A):A}return a.prototype.resolveObject=function(v){if(typeof v=="string"){var A=new a;A.parse(v,!1,!0),v=A}for(var S=new a,T=Object.keys(this),C=0;C<T.length;C++){var P=T[C];S[P]=this[P]}if(S.hash=v.hash,v.href==="")return S.href=S.format(),S;if(v.slashes&&!v.protocol){for(var U=Object.keys(v),O=0;O<U.length;O++){var q=U[O];q!=="protocol"&&(S[q]=v[q])}return y[S.protocol]&&S.hostname&&!S.pathname&&(S.pathname="/",S.path=S.pathname),S.href=S.format(),S}if(v.protocol&&v.protocol!==S.protocol){if(!y[v.protocol]){for(var D=Object.keys(v),L=0;L<D.length;L++){var ae=D[L];S[ae]=v[ae]}return S.href=S.format(),S}if(S.protocol=v.protocol,!v.host&&!h[v.protocol]){for(var be=(v.pathname||"").split("/");be.length&&!(v.host=be.shift()););v.host||(v.host=""),v.hostname||(v.hostname=""),be[0]!==""&&be.unshift(""),be.length<2&&be.unshift(""),S.pathname=be.join("/")}else S.pathname=v.pathname;if(S.search=v.search,S.query=v.query,S.host=v.host||"",S.auth=v.auth,S.hostname=v.hostname||v.host,S.port=v.port,S.pathname||S.search){var Q=S.pathname||"",V=S.search||"";S.path=Q+V}return S.slashes=S.slashes||v.slashes,S.href=S.format(),S}var re=S.pathname&&S.pathname.charAt(0)==="/",F=v.host||v.pathname&&v.pathname.charAt(0)==="/",Z=F||re||S.host&&v.pathname,R=Z,J=S.pathname&&S.pathname.split("/")||[],be=v.pathname&&v.pathname.split("/")||[],te=S.protocol&&!y[S.protocol];if(te&&(S.hostname="",S.port=null,S.host&&(J[0]===""?J[0]=S.host:J.unshift(S.host)),S.host="",v.protocol&&(v.hostname=null,v.port=null,v.host&&(be[0]===""?be[0]=v.host:be.unshift(v.host)),v.host=null),Z=Z&&(be[0]===""||J[0]==="")),F)S.host=v.host||v.host===""?v.host:S.host,S.hostname=v.hostname||v.hostname===""?v.hostname:S.hostname,S.search=v.search,S.query=v.query,J=be;else if(be.length)J||(J=[]),J.pop(),J=J.concat(be),S.search=v.search,S.query=v.query;else if(v.search!=null){if(te){S.host=J.shift(),S.hostname=S.host;var we=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;we&&(S.auth=we.shift(),S.hostname=we.shift(),S.host=S.hostname)}return S.search=v.search,S.query=v.query,(S.pathname!==null||S.search!==null)&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.href=S.format(),S}if(!J.length)return S.pathname=null,S.search?S.path="/"+S.search:S.path=null,S.href=S.format(),S;for(var H=J.slice(-1)[0],N=(S.host||v.host||J.length>1)&&(H==="."||H==="..")||H==="",ne=0,z=J.length;z>=0;z--)H=J[z],H==="."?J.splice(z,1):H===".."?(J.splice(z,1),ne++):ne&&(J.splice(z,1),ne--);if(!Z&&!R)for(;ne--;ne)J.unshift("..");Z&&J[0]!==""&&(!J[0]||J[0].charAt(0)!=="/")&&J.unshift(""),N&&J.join("/").substr(-1)!=="/"&&J.push("");var G=J[0]===""||J[0]&&J[0].charAt(0)==="/";if(te){S.hostname=G?"":J.length?J.shift():"",S.host=S.hostname;var we=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;we&&(S.auth=we.shift(),S.hostname=we.shift(),S.host=S.hostname)}return Z=Z||S.host&&J.length,Z&&!G&&J.unshift(""),J.length>0?S.pathname=J.join("/"):(S.pathname=null,S.path=null),(S.pathname!==null||S.search!==null)&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.auth=v.auth||S.auth,S.slashes=S.slashes||v.slashes,S.href=S.format(),S},a.prototype.parseHost=function(){var v=this.host,A=s.exec(v);A&&(A=A[0],A!==":"&&(this.port=A.substr(1)),v=v.substr(0,v.length-A.length)),v&&(this.hostname=v)},yt.parse=E,yt.resolve=_,yt.resolveObject=I,yt.format=d,yt.Url=a,yt}function Aa(f){if(typeof f=="string")f=new URL(f);else if(!(f instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(f.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Or?rc(f):nc(f)}function rc(f){let a=f.hostname,o=f.pathname;for(let s=0;s<o.length;s++)if(o[s]==="%"){let u=o.codePointAt(s+2)||32;if(o[s+1]==="2"&&u===102||o[s+1]==="5"&&u===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(o=o.replace(Ba,"\\"),o=decodeURIComponent(o),a!=="")return`\\\\${a}${o}`;{let s=o.codePointAt(1)|32,u=o[2];if(s<Na||s>La||u!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return o.slice(1)}}function nc(f){if(f.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let a=f.pathname;for(let o=0;o<a.length;o++)if(a[o]==="%"){let s=a.codePointAt(o+2)||32;if(a[o+1]==="2"&&s===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(a)}function Ia(f){let a=Oi.resolve(f),o=f.charCodeAt(f.length-1);(o===ja||Or&&o===Ma)&&a[a.length-1]!==Oi.sep&&(a+="/");let s=new URL("file://");return a.includes("%")&&(a=a.replace(Ua,"%25")),!Or&&a.includes("\\")&&(a=a.replace(Da,"%5C")),a.includes(`
`)&&(a=a.replace(Fa,"%0A")),a.includes("\r")&&(a=a.replace(Wa,"%0D")),a.includes("	")&&(a=a.replace(qa,"%09")),s.pathname=a,s}var xa,vr,ki,wr,_r,Pi,Er,Ri,Sr,Ci,Ar,Mi,Ir,ji,xr,Ni,yt,Li,We,is,Ta,Oa,ka,Pa,Ra,Ca,Ma,ja,Na,La,Or,Ba,Ua,Da,Fa,Wa,qa,ic=Ke(()=>{le(),ce(),ue(),_u(),Bu(),Qu(),_a(),xa=Object.freeze(Object.create(null)),vr={},ki=!1,wr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,_r={},Pi=!1,Er={},Ri=!1,Sr={},Ci=!1,Ar={},Mi=!1,Ir={},ji=!1,xr={},Ni=!1,yt={},Li=!1,We=tc(),We.parse,We.resolve,We.resolveObject,We.format,We.Url,is=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,We.URL=typeof URL<"u"?URL:null,We.pathToFileURL=Ia,We.fileURLToPath=Aa,Ta=We.Url,Oa=We.format,ka=We.resolve,Pa=We.resolveObject,Ra=We.parse,Ca=We.URL,Ma=92,ja=47,Na=97,La=122,Or=is==="win32",Ba=/\//g,Ua=/%/g,Da=/\\/g,Fa=/\n/g,Wa=/\r/g,qa=/\t/g}),oc=de((f,a)=>{le(),ce(),ue(),a.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Yi=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0}),f.BufferedDuplex=void 0,f.writev=s;var a=Tt(),o=(Be(),Re(Le));function s(r,e){let n=new Array(r.length);for(let t=0;t<r.length;t++)typeof r[t].chunk=="string"?n[t]=o.Buffer.from(r[t].chunk,"utf8"):n[t]=r[t].chunk;this._write(o.Buffer.concat(n),"binary",e)}var u=class extends a.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(r,e,n){super({objectMode:!0}),this.proxy=e,this.socket=n,this.writeQueue=[],r.objectMode||(this._writev=s.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",t=>{!this.destroyed&&this.readable&&this.push(t)})}_read(r){this.proxy.read(r)}_write(r,e,n){this.isSocketOpen?this.writeToProxy(r,e,n):this.writeQueue.push({chunk:r,encoding:e,cb:n})}_final(r){this.writeQueue=[],this.proxy.end(r)}_destroy(r,e){this.writeQueue=[],this.proxy.destroy(),e(r)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(r,e,n){this.proxy.write(r,e)===!1?this.proxy.once("drain",n):n()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:r,encoding:e,cb:n}=this.writeQueue.shift();this.writeToProxy(r,e,n)}}};f.BufferedDuplex=u}),er=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(f,"__esModule",{value:!0}),f.streamBuilder=f.browserStreamBuilder=void 0;var o=(Be(),Re(Le)),s=a(oc()),u=a(lt()),r=Tt(),e=a(Nr()),n=Yi(),t=(0,u.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function l(E,d){let _=`${E.protocol}://${E.hostname}:${E.port}${E.path}`;return typeof E.transformWsUrl=="function"&&(_=E.transformWsUrl(_,E,d)),_}function p(E){let d=E;return E.port||(E.protocol==="wss"?d.port=443:d.port=80),E.path||(d.path="/"),E.wsOptions||(d.wsOptions={}),!e.default&&!E.forceNativeWebSocket&&E.protocol==="wss"&&i.forEach(_=>{Object.prototype.hasOwnProperty.call(E,_)&&!Object.prototype.hasOwnProperty.call(E.wsOptions,_)&&(d.wsOptions[_]=E[_])}),d}function g(E){let d=p(E);if(d.hostname||(d.hostname=d.host),!d.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let _=new URL(document.URL);d.hostname=_.hostname,d.port||(d.port=Number(_.port))}return d.objectMode===void 0&&(d.objectMode=!(d.binary===!0||d.binary===void 0)),d}function m(E,d,_){t("createWebSocket"),t(`protocol: ${_.protocolId} ${_.protocolVersion}`);let I=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt";t(`creating new Websocket for url: ${d} and protocol: ${I}`);let v;return _.createWebsocket?v=_.createWebsocket(d,[I],_):v=new s.default(d,[I],_.wsOptions),v}function h(E,d){let _=d.protocolId==="MQIsdp"&&d.protocolVersion===3?"mqttv3.1":"mqtt",I=l(d,E),v;return d.createWebsocket?v=d.createWebsocket(I,[_],d):v=new WebSocket(I,[_]),v.binaryType="arraybuffer",v}var y=(E,d)=>{t("streamBuilder");let _=p(d);_.hostname=_.hostname||_.host||"localhost";let I=l(_,E),v=m(E,I,_),A=s.default.createWebSocketStream(v,_.wsOptions);return A.url=I,v.on("close",()=>{A.destroy()}),A};f.streamBuilder=y;var b=(E,d)=>{t("browserStreamBuilder");let _,I=g(d).browserBufferSize||1024*512,v=d.browserBufferTimeout||1e3,A=!d.objectMode,S=h(E,d),T=P(d,L,ae);d.objectMode||(T._writev=n.writev.bind(T)),T.on("close",()=>{S.close()});let C=typeof S.addEventListener<"u";S.readyState===S.OPEN?(_=T,_.socket=S):(_=new n.BufferedDuplex(d,T,S),C?S.addEventListener("open",U):S.onopen=U),C?(S.addEventListener("close",O),S.addEventListener("error",q),S.addEventListener("message",D)):(S.onclose=O,S.onerror=q,S.onmessage=D);function P(Q,V,re){let F=new r.Transform({objectMode:Q.objectMode});return F._write=V,F._flush=re,F}function U(){t("WebSocket onOpen"),_ instanceof n.BufferedDuplex&&_.socketReady()}function O(Q){t("WebSocket onClose",Q),_.end(),_.destroy()}function q(Q){t("WebSocket onError",Q);let V=new Error("WebSocket error");V.event=Q,_.destroy(V)}async function D(Q){if(!T||!T.readable||!T.writable)return;let{data:V}=Q;V instanceof ArrayBuffer?V=o.Buffer.from(V):V instanceof Blob?V=o.Buffer.from(await new Response(V).arrayBuffer()):V=o.Buffer.from(V,"utf8"),T.push(V)}function L(Q,V,re){if(S.bufferedAmount>I){setTimeout(L,v,Q,V,re);return}A&&typeof Q=="string"&&(Q=o.Buffer.from(Q,"utf8"));try{S.send(Q)}catch(F){return re(F)}re()}function ae(Q){S.close(),Q()}return _};f.browserStreamBuilder=b}),Ji={};jt(Ji,{Server:()=>Me,Socket:()=>Me,Stream:()=>Me,_createServerHandle:()=>Me,_normalizeArgs:()=>Me,_setSimultaneousAccepts:()=>Me,connect:()=>Me,createConnection:()=>Me,createServer:()=>Me,default:()=>$a,isIP:()=>Me,isIPv4:()=>Me,isIPv6:()=>Me});function Me(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var $a,za=Ke(()=>{le(),ce(),ue(),$a={_createServerHandle:Me,_normalizeArgs:Me,_setSimultaneousAccepts:Me,connect:Me,createConnection:Me,createServer:Me,isIP:Me,isIPv4:Me,isIPv6:Me,Server:Me,Socket:Me,Stream:Me}}),Ka=de((f,a)=>{le(),ce(),ue(),a.exports={}}),os=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f,"__esModule",{value:!0});var o=a((za(),Re(Ji))),s=a(lt()),u=a(Ka()),r=(0,s.default)("mqttjs:tcp"),e=(n,t)=>{if(t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",t.socksProxy)return(0,u.default)(t.hostname,t.port,t.socksProxy,{timeout:t.socksTimeout});let{port:i,path:l}=t,p=t.hostname;return r("port %d and host %s",i,p),o.default.createConnection({port:i,host:p,path:l})};f.default=e}),Va={};jt(Va,{default:()=>Ha});var Ha,sc=Ke(()=>{le(),ce(),ue(),Ha={}}),ss=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(f,"__esModule",{value:!0});var o=(sc(),Re(Va)),s=a((za(),Re(Ji))),u=a(lt()),r=a(Ka()),e=(0,u.default)("mqttjs:tls");function n(i){let{host:l,port:p,socksProxy:g,...m}=i;if(g!==void 0){let h=(0,r.default)(l,p,g,{timeout:i.socksTimeout});return(0,o.connect)({...m,socket:h})}return(0,o.connect)(i)}var t=(i,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",s.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,e("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let p=n(l);p.on("secureConnect",()=>{l.rejectUnauthorized&&!p.authorized?p.emit("error",new Error("TLS not authorized")):p.removeListener("error",g)});function g(m){l.rejectUnauthorized&&i.emit("error",m),p.end()}return p.on("error",g),p};f.default=t}),as=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=(Be(),Re(Le)),o=Tt(),s=Yi(),u,r,e;function n(){let g=new o.Transform;return g._write=(m,h,y)=>{u.send({data:m.buffer,success(){y()},fail(b){y(new Error(b))}})},g._flush=m=>{u.close({success(){m()}})},g}function t(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function i(g,m){let h=g.protocol==="wxs"?"wss":"ws",y=`${h}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(y=`${h}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(y=g.transformWsUrl(y,g,m)),y}function l(){u.onOpen(()=>{e.socketReady()}),u.onMessage(g=>{let{data:m}=g;m instanceof ArrayBuffer?m=a.Buffer.from(m):m=a.Buffer.from(m,"utf8"),r.push(m)}),u.onClose(()=>{e.emit("close"),e.end(),e.destroy()}),u.onError(g=>{let m=new Error(g.errMsg);e.destroy(m)})}var p=(g,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let h=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";t(m);let y=i(m,g);u=wx.connectSocket({url:y,protocols:[h]}),r=n(),e=new s.BufferedDuplex(m,r,u),e._destroy=(E,d)=>{u.close({success(){d&&d(E)}})};let b=e.destroy;return e.destroy=(E,d)=>(e.destroy=b,setTimeout(()=>{u.close({fail(){e._destroy(E,d)}})},0),e),l(),e};f.default=p}),ls=de(f=>{le(),ce(),ue(),Object.defineProperty(f,"__esModule",{value:!0});var a=(Be(),Re(Le)),o=Tt(),s=Yi(),u,r,e,n=!1;function t(){let m=new o.Transform;return m._write=(h,y,b)=>{u.sendSocketMessage({data:h.buffer,success(){b()},fail(){b(new Error)}})},m._flush=h=>{u.closeSocket({success(){h()}})},m}function i(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function l(m,h){let y=m.protocol==="alis"?"wss":"ws",b=`${y}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(b=`${y}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(b=m.transformWsUrl(b,m,h)),b}function p(){n||(n=!0,u.onSocketOpen(()=>{e.socketReady()}),u.onSocketMessage(m=>{if(typeof m.data=="string"){let h=a.Buffer.from(m.data,"base64");r.push(h)}else{let h=new FileReader;h.addEventListener("load",()=>{if(h.result instanceof ArrayBuffer){r.push(a.Buffer.from(h.result));return}r.push(a.Buffer.from(h.result,"utf-8"))}),h.readAsArrayBuffer(m.data)}}),u.onSocketClose(()=>{e.end(),e.destroy()}),u.onSocketError(m=>{e.destroy(m)}))}var g=(m,h)=>{if(h.hostname=h.hostname||h.host,!h.hostname)throw new Error("Could not determine host. Specify host manually.");let y=h.protocolId==="MQIsdp"&&h.protocolVersion===3?"mqttv3.1":"mqtt";i(h);let b=l(h,m);return u=h.my,u.connectSocket({url:b,protocols:y}),r=t(),e=new s.BufferedDuplex(h,r,u),p(),e};f.default=g}),ac=de(f=>{le(),ce(),ue();var a=f&&f.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(f,"__esModule",{value:!0}),f.connectAsync=l;var o=a(lt()),s=a((ic(),Re(Ea))),u=a(Qn()),r=a(Nr());typeof Ce?.nextTick!="function"&&(Ce.nextTick=setImmediate);var e=(0,o.default)("mqttjs"),n=null;function t(p){let g;if(p.auth)if(g=p.auth.match(/^(.+):(.+)$/),g){let[,m,h]=g;p.username=m,p.password=h}else p.username=p.auth}function i(p,g){if(e("connecting to an MQTT broker..."),typeof p=="object"&&!g&&(g=p,p=""),g=g||{},p&&typeof p=="string"){let y=s.default.parse(p,!0),b={};if(y.port!=null&&(b.port=Number(y.port)),b.host=y.hostname,b.query=y.query,b.auth=y.auth,b.protocol=y.protocol,b.path=y.path,g={...b,...g},!g.protocol)throw new Error("Missing protocol");g.protocol=g.protocol.replace(/:$/,"")}if(g.unixSocket=g.unixSocket||g.protocol?.includes("+unix"),g.unixSocket?g.protocol=g.protocol.replace("+unix",""):!g.protocol?.startsWith("ws")&&!g.protocol?.startsWith("wx")&&delete g.path,t(g),g.query&&typeof g.query.clientId=="string"&&(g.clientId=g.query.clientId),r.default||g.unixSocket?g.socksProxy=void 0:g.socksProxy===void 0&&typeof Ce<"u"&&(g.socksProxy=Ce.env.MQTTJS_SOCKS_PROXY),g.cert&&g.key)if(g.protocol){if(["mqtts","wss","wxs","alis"].indexOf(g.protocol)===-1)switch(g.protocol){case"mqtt":g.protocol="mqtts";break;case"ws":g.protocol="wss";break;case"wx":g.protocol="wxs";break;case"ali":g.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${g.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(n||(n={},!r.default&&!g.forceNativeWebSocket?(n.ws=er().streamBuilder,n.wss=er().streamBuilder,n.mqtt=os().default,n.tcp=os().default,n.ssl=ss().default,n.tls=n.ssl,n.mqtts=ss().default):(n.ws=er().browserStreamBuilder,n.wss=er().browserStreamBuilder,n.wx=as().default,n.wxs=as().default,n.ali=ls().default,n.alis=ls().default)),!n[g.protocol]){let y=["mqtts","wss"].indexOf(g.protocol)!==-1;g.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((b,E)=>y&&E%2===0?!1:typeof n[b]=="function")[0]}if(g.clean===!1&&!g.clientId)throw new Error("Missing clientId for unclean clients");g.protocol&&(g.defaultProtocol=g.protocol);function m(y){return g.servers&&((!y._reconnectCount||y._reconnectCount===g.servers.length)&&(y._reconnectCount=0),g.host=g.servers[y._reconnectCount].host,g.port=g.servers[y._reconnectCount].port,g.protocol=g.servers[y._reconnectCount].protocol?g.servers[y._reconnectCount].protocol:g.defaultProtocol,g.hostname=g.host,y._reconnectCount++),e("calling streambuilder for",g.protocol),n[g.protocol](y,g)}let h=new u.default(m,g);return h.on("error",()=>{}),h}function l(p,g,m=!0){return new Promise((h,y)=>{let b=i(p,g),E={connect:_=>{d(),h(b)},end:()=>{d(),h(b)},error:_=>{d(),b.end(),y(_)}};m===!1&&(E.close=()=>{E.error(new Error("Couldn't connect to server"))});function d(){Object.keys(E).forEach(_=>{b.off(_,E[_])})}Object.keys(E).forEach(_=>{b.on(_,E[_])})})}f.default=i}),us=de(f=>{le(),ce(),ue();var a=f&&f.__createBinding||(Object.create?function(m,h,y,b){b===void 0&&(b=y);var E=Object.getOwnPropertyDescriptor(h,y);(!E||("get"in E?!h.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return h[y]}}),Object.defineProperty(m,b,E)}:function(m,h,y,b){b===void 0&&(b=y),m[b]=h[y]}),o=f&&f.__setModuleDefault||(Object.create?function(m,h){Object.defineProperty(m,"default",{enumerable:!0,value:h})}:function(m,h){m.default=h}),s=f&&f.__importStar||function(){var m=function(h){return m=Object.getOwnPropertyNames||function(y){var b=[];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(b[b.length]=E);return b},m(h)};return function(h){if(h&&h.__esModule)return h;var y={};if(h!=null)for(var b=m(h),E=0;E<b.length;E++)b[E]!=="default"&&a(y,h,b[E]);return o(y,h),y}}(),u=f&&f.__exportStar||function(m,h){for(var y in m)y!=="default"&&!Object.prototype.hasOwnProperty.call(h,y)&&a(h,m,y)},r=f&&f.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=f.KeepaliveManager=f.UniqueMessageIdProvider=f.DefaultMessageIdProvider=f.Store=f.MqttClient=f.connectAsync=f.connect=f.Client=void 0;var e=r(Qn());f.MqttClient=e.default;var n=r(ua());f.DefaultMessageIdProvider=n.default;var t=r(vu());f.UniqueMessageIdProvider=t.default;var i=r(Vs());f.Store=i.default;var l=s(ac());f.connect=l.default,Object.defineProperty(f,"connectAsync",{enumerable:!0,get:function(){return l.connectAsync}});var p=r(ya());f.KeepaliveManager=p.default,f.Client=e.default,u(Qn(),f),u(Lt(),f);var g=Mr();Object.defineProperty(f,"ReasonCodes",{enumerable:!0,get:function(){return g.ReasonCodes}})}),lc=de(f=>{le(),ce(),ue();var a=f&&f.__createBinding||(Object.create?function(e,n,t,i){i===void 0&&(i=t);var l=Object.getOwnPropertyDescriptor(n,t);(!l||("get"in l?!n.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,i,l)}:function(e,n,t,i){i===void 0&&(i=t),e[i]=n[t]}),o=f&&f.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),s=f&&f.__importStar||function(){var e=function(n){return e=Object.getOwnPropertyNames||function(t){var i=[];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(i[i.length]=l);return i},e(n)};return function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var i=e(n),l=0;l<i.length;l++)i[l]!=="default"&&a(t,n,i[l]);return o(t,n),t}}(),u=f&&f.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&a(n,e,t)};Object.defineProperty(f,"__esModule",{value:!0});var r=s(us());f.default=r,u(us(),f)});const uc=lc();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/class cc extends el.EventEmitter{constructor(a){super(),this.config=a,this.client=null,this.connected=!1}connect(){const{host:a="localhost",port:o=8083,clientId:s=`tvt-client-${Math.random().toString(16).slice(2,8)}`,username:u,password:r,protocol:e="ws",path:n="/mqtt"}=this.config,t=`${e}://${a}:${o}${n}`;this.client=uc.connect(t,{clientId:s,username:u,password:r,reconnectPeriod:2e3,clean:!0}),this.client.on("connect",()=>{this.connected=!0,this.emit("connected"),console.log("[MQTT] Connected to:",t)}),this.client.on("reconnect",()=>{this.emit("reconnect"),console.log("[MQTT] Reconnecting...")}),this.client.on("close",()=>{this.connected=!1,this.emit("close"),console.warn("[MQTT] Connection closed")}),this.client.on("error",i=>{this.emit("error",i),console.error("[MQTT] Error:",i)}),this.client.on("message",(i,l)=>{try{const p=JSON.parse(l.toString());this.emit("message",i,p),this.emit(`message:${i}`,p)}catch(p){console.error("[MQTT] JSON Parse Error:",p)}})}subscribe(a){!this.client||!this.connected||this.client.subscribe(a,o=>{o?console.error("[MQTT] Subscribe Error:",o):(console.log(`[MQTT] Subscribed to ${a}`),this.emit("subscribed",a))})}publish(a,o){if(!(!this.client||!this.connected))try{const s=JSON.stringify(o);this.client.publish(a,s)}catch(s){console.error("[MQTT] Publish Error:",s)}}unsubscribe(a){!this.client||!this.connected||this.client.unsubscribe(a,o=>{o?console.error("[MQTT] Unsubscribe Error:",o):console.log(`[MQTT] Unsubscribed from ${a}`)})}disconnect(){this.client&&(this.client.end(),this.connected=!1,this.emit("disconnected"),console.log("[MQTT] Disconnected"))}}export{cc as MqttClientWrapper};
