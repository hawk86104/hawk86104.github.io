import{$ as t,aA as n,Y as o}from"./three.COeOkYug1753782659653.js";import{e as r,g as e,a as W,H as c}from"./@tresjs.BTaYoA_d1753782659653.js";import{_ as i}from"./index.DHoB6Zgq1753782659653.js";import{d as a,b as d,w as s,G as u,o as k,I as l,j as f,u as m,r as v,e as p,f as h,a7 as S,a8 as C,a5 as x,m as b}from"./@vue.BzMISRrV1753782659653.js";import{_ as g}from"./component.vue_vue_type_script_setup_true_lang.DamGyyil1753782659653.js";import"./postprocessing.CeqeRjXM1753782659653.js";import"./@vueuse.kHMOgCjI1753782659653.js";import"./object-hash.CIAsQghJ1753782659653.js";import"./@amap.CGUF9xH41753782659653.js";import"./jszip.DINw5uda1753782659653.js";import"./three-stdlib.Q_4pzdER1753782659653.js";!function(){var t,n,o=G();function r(t,n,o,r,e){return B(e-796,o)}function e(t,n,o,r,e){return B(e- -102,t)}function W(t,n,o,r,e){return B(r-55,o)}function c(t,n,o,r,e){return B(o- -857,e)}for(;;)try{if(803583===parseInt(e("7pZT",0,0,0,111))/1*(parseInt(c(0,0,-656,0,"I@&b"))/2)+parseInt(c(0,0,-640,0,"ZbrG"))/3+parseInt(r(0,0,"I@&b",0,990))/4*(parseInt(W(0,0,"7pZT",257))/5)+-parseInt(W(0,0,"ip#P",288))/6+-parseInt(r(0,0,"6TrP",0,1040))/7*(parseInt(c(0,0,-619,0,"JWQl"))/8)+-parseInt(r(0,0,"HuB6",0,1022))/9*(-parseInt(e("Dq[y",0,0,0,123))/10)+-parseInt((t=-785,n="ivss",B(t- -996,n)))/11*(parseInt(e("TSov",0,0,0,148))/12))break;o.push(o.shift())}catch(i){o.push(o.shift())}}();var P,Q=(P=!0,function(t,n){function o(t,n,o,r,e){return B(t- -142,o)}if("qtSUq"===o(51,0,"^9v5")){var r=_0x212c97?function(){if(_0x46e0c1){var t=_0x2d97d9[(n="f2j)",r=-101,o(r- -168,0,n))](_0x238e72,arguments);return _0x5568d8=null,t}var n,r}:function(){};return _0x460d3e=!1,r}var e=P?function(){function r(t,n,r,e,W){return o(t-38,0,W)}function e(t,n,r,e,W){return o(r-818,0,n)}if(o(93,0,"KI(U")===e(0,"tQeq",928)){if(n){if("OtQTH"!==e(0,"Y2L4",868)){var W=n.apply(t,arguments);return n=null,W}var c;try{c=_0x3913d9(e(0,"71W2",910)+r(100,0,0,0,"f2j)")+");")()}catch(f){c=_0x4ba389}return c}}else{var i=_0x455f00.constructor[(k="e$xC",l=374,o(l-320,0,k))][(s=-582,u="HuB6",o(s- -680,0,u))](_0x3094d8),a=_0x238537[_0x4c3858],d=_0x4b1545[a]||i;i.__proto__=_0xab2471[e(0,"qETr",886)](_0x4f72ef),i[r(118,0,0,0,"TSov")]=d.toString[e(0,"qETr",886)](d),_0x342f7c[a]=i}var s,u,k,l}:function(){};return P=!1,e})(void 0,(function(){function t(t,n,o,r,e){return B(r-935,e)}function n(t,n,o,r,e){return B(n- -800,e)}return Q[n(0,-545,0,0,"s*w!")]()[t(0,0,0,1159,"7pZT")](n(0,-594,0,0,"E4u3")).toString()[t(0,0,0,1186,"dQJ6")](Q).search(t(0,0,0,1176,"*il^"))}));Q();var O,R=(O=!0,function(t,n){function o(t,n,o,r,e){return B(e- -180,n)}function r(t,n,o,r,e){return B(r-634,e)}if(r(0,0,0,824,"lYr3")===o(0,"lYr3",0,0,10)){var e=O?function(){function e(t,n,o,e,W){return r(0,0,0,t-153,n)}function W(t,n,o,e,W){return r(0,0,0,n-232,e)}if(o(0,"OLXv",0,0,48)===W(0,1102,0,"s*w!")){if(n){if("TzLjZ"===W(0,1096,0,"5w(m")){var c=n[e(982,"LRdr")](t,arguments);return n=null,c}var i=_0xaa8513?function(){if(_0x1214e0){var t=_0x8bd250[(n="s*w!",o=805,W(0,o- -315,0,n))](_0x5ce403,arguments);return _0x4f8abf=null,t}var n,o}:function(){};return _0x3f9dcd=!1,i}}else if(_0x23dd6f){var a=_0x169114[e(1008,"VL2d")](_0x46096d,arguments);return _0x3152e1=null,a}}:function(){};return O=!1,e}var W=_0x187b37[o(0,"AN7K",0,0,52)](_0x1bdc21,arguments);return _0x486c57=null,W});function B(t,n){var o=G();return B=function(n,r){var e=o[n-=190];if(void 0===B.GsVEgQ){var W=function(t){for(var n,o,r="",e="",c=r+W,i=0,a=0;o=t.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?r+=c.charCodeAt(a+10)-10!=0?String.fromCharCode(255&n>>(-2*i&6)):i:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,s=r.length;d<s;d++)e+="%"+("00"+r.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(e)};B.UFuegy=function(t,n){var o,r,e=[],c=0,i="";for(t=W(t),r=0;r<256;r++)e[r]=r;for(r=0;r<256;r++)c=(c+e[r]+n.charCodeAt(r%n.length))%256,o=e[r],e[r]=e[c],e[c]=o;r=0,c=0;for(var a=0;a<t.length;a++)c=(c+e[r=(r+1)%256])%256,o=e[r],e[r]=e[c],e[c]=o,i+=String.fromCharCode(t.charCodeAt(a)^e[(e[r]+e[c])%256]);return i},t=arguments,B.GsVEgQ=!0}var c=n+o[0],i=t[c];if(i)e=i;else{if(void 0===B.CZKwNp){var a=function(t){this.aGnOrY=t,this.aBHIFd=[1,0,0],this.JYDpVA=function(){return"newState"},this.ykGWZr="\\w+ *\\(\\) *{\\w+ *",this.rAZgRx="['|\"].+['|\"];? *}"};a.prototype.bJAQeT=function(){var t=new RegExp(this.ykGWZr+this.rAZgRx).test(this.JYDpVA.toString())?--this.aBHIFd[1]:--this.aBHIFd[0];return this.LwhUSK(t)},a.prototype.LwhUSK=function(t){return Boolean(~t)?this.BgQWYX(this.aGnOrY):t},a.prototype.BgQWYX=function(t){for(var n=0,o=this.aBHIFd.length;n<o;n++)this.aBHIFd.push(Math.round(Math.random())),o=this.aBHIFd.length;return t(this.aBHIFd[0])},new a(B).bJAQeT(),B.CZKwNp=!0}e=B.UFuegy(e,r),t[c]=e}return e},B(t,n)}function G(){var t=["kCkpWOVdK0K","pmkqWQJdI0j/W7jM","W5VcOcNcT8oKW55Zz8ow","WQtdLGlcT3BcPmkrWRT+WOeeW7TteG","W5FdLCkppSk/sCoPW7ldTW","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","n8kvW6JdTmkB","W5/cLJhcQmk7","DZGEW4JcNa","WQJcKCo1cSk7","ySoKu294qmkqreTiiCoo","WOBdNCkeWOfB","Ce7cSSkqW5HRjYZdTW","W7/cGNFcPSoKW4rVtmo7W5qiWPGkWPRcO8k/zY4TomkQWQBdJmkrc8kRW5BdUZ/dUbGM","A0RcS8kiW7q","W7dcJMxcUCohhCosoG","W4NcHmoYBmkSW6ddQa","ySoSvMbZq8octK1nnSo6vW","FmozW6K4n8o4rKlcOW","c0ldTwxdPSknWQZdGG","WO/cR8oQWQGxphO7i27dQCooW5mdWQXxWQpcRSo9c3m8W4eckgBdN8ojnmkWCbm","WRy6W7/cI8k3","W7hcJKbCzKpdHXRdHgqgwa","WRxdJrBcR8oHW6vmEG","W7ufW4n0FNpcO8ks","WPxcOSk0WQCb","iCkByd0","hsdcTSkjlCoxWQpdVG9uWObGWQC","g3NdPCoZWOKuW6i/bmoNWOpcJgieWPGDBuBcIxNdQqqoWRqOW4frCKBdUGuW","FmkVWQWfmSo8Eq","WQ3dHWOEka","ehBcPmoKWOKoW6G7eW","nghcImkIxmo0FtFdN8kAjSoLgW","t8orWQHmWP/cMmkXW4KUrtyPiG","yd3dLCo3","cLdcVmoHWOCLW5hcJ2ldUSo1pMK","W6xcKuBcOCom","CSkrWPnota","W5mlWQCkWP3cVSkoFq","WO7cRSkNfq","pSknWRGzjmof","tHNcKYBcPSouWRRdKrldVh51","y8oyxSk0zuldNXFcUW","dSoRW7G0W4aaW6HvW6TofG","W7aMWQmbWQK","WRfDW6K8jd4Cnq4kW6FdRW","eSoHW4i7W7q","yCkpcSovW53dH8kxyq","W5ZdGWSKra","W53dSmoWqGtdLCklW7lcSCkkWRCMWR4","rvNdN8kuW7HyW47cVCoBAMzMiHhdGSkoA8orWR8","xSkalbKj","iSknWQRdVwm","ECkppG","utBdUCkHW5vjWQn7lSoHWOBcJ1Sp","WOpcTWuLrq","m8kfa8kP","W4LYW7S7W4xdQgvHlguNWOK","iSkjdmk/rv0","WPm/WQDGWPZcR25GytLIW47cOcWzWRGovGe","WQlcTutdGbZdJSo2","yCoHuYedb8k4sKe","k8kqWPxdJf96W7K","WQzfWQZdKq","dSkcW6KbW5NdJSkKWO8dCrazjMjWwIJcIca","WQBdI8o2WOFcGG","WPzwWRSuWOxcMmkWwa","ENhcNSo9WRlcPtZdR8o9k8o3","W53cKL/cR8oW","WQfbEvm"];return(G=function(){return t})()}R(void 0,(function(){var t=function(){function t(t,n,o,r,e){return B(n- -81,e)}function n(t,n,o,r,e){return B(n- -823,r)}var o;try{n(0,-584,0,"%G4^")===t(0,117,0,0,"e$xC")?_0x1ebfd4=_0x286e17(n(0,-575,0,"ZbrG")+B(1158-961,"PyH4")+");")():o=Function(B(836-593,"*il^")+t(0,131,0,0,"JWQl")+");")()}catch(r){o=window}return o}(),n=t.console=t[c(1112,"s*w!",1144)]||{},o=[e(616,639,633,"FNZA"),r("WnCf",220,205,221),r("5ICS",214,185,215),W(267,204,"m0y]",234),"exception",r("E4u3",183,150,182),"trace"];function r(t,n,o,r,e){return B(r- -32,t)}function e(t,n,o,r,e){return B(t-379,r)}function W(t,n,o,r,e){return B(r-29,o)}function c(t,n,o,r,e){return B(o-898,n)}for(var i=0;i<o.length;i++){if(c(0,"jZvz",1089)===W(0,0,"wFAb",278)){var a=_0x35739c[W(0,0,"tQeq",249)](_0x5f954d,arguments);return _0x204355=null,a}var d=R.constructor[r("JWQl",0,0,183)][r("(cgL",0,0,186)](R),s=o[i],u=n[s]||d;d[e(635,0,0,"PyH4")]=R[W(0,0,"ip#P",252)](R),d[e(587,0,0,"wMdC")]=u[W(0,0,"FNZA",260)].bind(u),n[s]=d}}))();const K=B(696-437,"71W2");const N=a({__name:"instancedMeshCom",setup(o){const W=d(null),c={vertex:`\n    uniform float uTime;\n\t\tvarying vec3 vPosition;\n\t\t${K}\n    vec3 displace(vec3 point) {\n      vec3 instancePosition = (instanceMatrix * vec4(point, 1.)).xyz;\n      return instancePosition + (normal * noise((instancePosition * 3.) + uTime) * 0.8);\n    }  \n\n    vec3 orthogonal(vec3 v) {\n      return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)\n      : vec3(0.0, -v.z, v.y));\n    }\n\n    vec3 recalcNormals(vec3 newPos) {\n      float offset = 0.001;\n      vec3 tangent = orthogonal(normal);\n      vec3 bitangent = normalize(cross(normal, tangent));\n      vec3 neighbour1 = position + tangent * offset;\n      vec3 neighbour2 = position + bitangent * offset;\n\n      vec3 displacedNeighbour1 = displace(neighbour1);\n      vec3 displacedNeighbour2 = displace(neighbour2);\n\n      vec3 displacedTangent = displacedNeighbour1 - newPos;\n      vec3 displacedBitangent = displacedNeighbour2 - newPos;\n\n      return normalize(cross(displacedTangent, displacedBitangent));\n    }\n\n    void main() {\n\t\t\tvPosition = position;\n      vec3 p = displace(position);\n      csm_PositionRaw = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(p, 1.);\n      csm_Normal = recalcNormals(p);\n    }\n    `,fragment:"\n\t\tvarying vec3 vPosition;\n\t\t// 函数将 HSL 转换为 RGB\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\t\tfloat c = (1.0 - abs(2.0 * l - 1.0)) * s;\n\t\t\t\tfloat x = c * (1.0 - abs(mod(h * 6.0, 2.0) - 1.0));\n\t\t\t\tfloat m = l - c / 2.0;\n\t\t\t\tvec3 rgb;\n\t\t\t\tif (0.0 <= h && h < 1.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, x, 0.0);\n\t\t\t\t} else if (1.0 / 6.0 <= h && h < 2.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, c, 0.0);\n\t\t\t\t} else if (2.0 / 6.0 <= h && h < 3.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, c, x);\n\t\t\t\t} else if (3.0 / 6.0 <= h && h < 4.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, x, c);\n\t\t\t\t} else if (4.0 / 6.0 <= h && h < 5.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, 0.0, c);\n\t\t\t\t} else if (5.0 / 6.0 <= h && h < 6.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, 0.0, x);\n\t\t\t\t} else {\n\t\t\t\t\t\trgb = vec3(0.0, 0.0, 0.0);\n\t\t\t\t}\n\t\t\t\trgb += vec3(m);\n\t\t\t\treturn rgb;\n\t\t}\n    void main() {\n      // csm_DiffuseColor = vec4(1.,1.,1.,1.);\n\t\t\tfloat h = mod(vPosition.x + vPosition.y + vPosition.z, 1.0); // 色相 H: [0, 1)\n\t\t\tfloat s = 0.9; // 饱和度 S: 固定为 0.8\n\t\t\tfloat l = 0.4; // 亮度 L: 固定为 0.5\n\t\t\tvec3 rgb = hsl2rgb(h, s, l);\n\t\t\tcsm_DiffuseColor = vec4(rgb,1.);\n    }\n    "},i={uTime:{value:0}},a=new t,{onLoop:v}=r();return v((({elapsed:t})=>{i.uTime.value=t})),s((()=>W.value),(t=>{if(t){let n=0;for(let o=0;o<88;o++)a.position.set(Math.random(),Math.random(),Math.random()),a.rotation.set(Math.random(),Math.random(),Math.random()),a.position.multiplyScalar(10),a.position.x-=5,a.position.y-=5,a.position.z-=5,a.updateMatrix(),t.setMatrixAt(n++,a.matrix);t.instanceMatrix.needsUpdate=!0}})),(t,o)=>(k(),u("TresInstancedMesh",{ref_key:"tmRef",ref:W,args:[null,null,88]},[o[0]||(o[0]=l("TresSphereGeometry",{args:[1,64,64]},null,-1)),f(m(e),{baseMaterial:n,vertexShader:c.vertex,fragmentShader:c.fragment,uniforms:i,transparent:""},null,8,["baseMaterial","vertexShader","fragmentShader"])],512))}}),M=a({__name:"instancedMeshCustomShaderMaterial",setup(t){const n=v({alpha:!0,toneMapping:o,windowSize:!0,clearColor:"#000000"}),r=v({enableDamping:!0});return(t,o)=>(k(),p(m(c),b(n,{"window-size":""}),{default:h((()=>[o[0]||(o[0]=l("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:1,far:1e3},null,-1)),f(m(W),S(C(r)),null,16),o[1]||(o[1]=l("TresAmbientLight",{intensity:.5},null,-1)),o[2]||(o[2]=l("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),(k(),p(x,null,{default:h((()=>[f(m(g),{intensity:16,resolution:256,background:"",blur:.6},{default:h((()=>[f(m(i),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),f(m(i),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),f(m(i),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),f(m(i),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1})),f(N)])),_:1},16))}});export{M as default};
