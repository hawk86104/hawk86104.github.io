import{b$ as t,a0 as e,q as n,r}from"./three.6cxCQsIj1724511658098.js";import{N as o}from"./@tresjs.6SjGVF2a1724511658098.js";import{R as s,b as i}from"./all.three.8nmp0Ccm1724511658098.js";import{d as c,a4 as u,a1 as a,w as f,o as l,D as p,J as d,u as h}from"./@vue.Q1VpS3901724511658098.js";const v=w;function w(t,e){const n=m();return(w=function(t,e){return n[t-=291]})(t,e)}!function(t,e){const n=w,r=m();for(;;)try{if(189359===-parseInt(n(336))/1+parseInt(n(291))/2+parseInt(n(301))/3*(-parseInt(n(294))/4)+-parseInt(n(304))/5+parseInt(n(310))/6*(parseInt(n(296))/7)+-parseInt(n(347))/8+parseInt(n(305))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(331)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function m(){const t=["7708986KUHZPy","tReflect","showGridHelper","string","isMesh","18guGQpY","info","length","uniforms","scale","renderTargetUniform","bind","counter","add","warn","texture","reflectivity","set","forEach","object","TresGroup","call","constructor","debu","trace","reflectorDUDV","apply","uReflectivity","test","ignoreObjects","repeat","39761RLhcvC","tReflectBlur","chain","function *\\( *\\)","update","init","prototype","visible","rotation","input","console","2194992CDXzvt","textureMatrixUniform","exception","size","__proto__","13238PHlwXX","wrapT","value","68eqWnGa","primitive","290962BcOuDc","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"action","50613fMqLLk","gger","while (true) {}","987850mlfuln"];return(m=function(){return t})()}!function(){b(this,(function(){const t=w,e=new RegExp(t(339)),n=new RegExp(t(298),"i"),r=_(t(341));e[t(333)](r+t(338))&&n[t(333)](r+t(345))?_():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(331)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=w;let e;try{e=Function("return (function() "+t(299)+");")()}catch(o){e=window}const n=e[t(346)]=e[t(346)]||{},r=["log",t(319),t(311),"error",t(349),"table",t(329)];for(let s=0;s<r[t(312)];s++){const e=g[t(327)][t(342)].bind(g),o=r[s],i=n[o]||e;e[t(351)]=g.bind(g),e[t(297)]=i[t(297)][t(316)](i),n[o]=e}}))();const y=[v(314)],j=[v(324)],x=[v(324)],I=c({__name:v(330),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:w}){const b=v;let m,g;const I=c,_=new s,R=new t(I[b(350)][0]-.5,I.size[1]);R[b(343)]=I.showGridHelper;const{map:z}=([m,g]=u((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),m=await m,g(),m);z.wrapS=e,z[b(292)]=e,z[b(335)][b(322)](6,3);const G=new i({map:z,reflectivity:I.reflectivity});G[b(313)][b(306)]={value:_.renderTarget[b(320)]},G[b(313)][b(337)]=_[b(315)],G.uniforms.uMatrix=_[b(348)];const M=new n(new r(I[b(350)][0],I.size[1]),G);return M[b(344)].x=-Math.PI/2,M[b(318)](_),M.onBeforeRender=(t,e,n)=>{const r=b;M[r(343)]=!1,I[r(334)][r(323)]((t=>{const e=r;t[e(309)]&&(t.visible=!1),t[e(293)]&&t[e(293)][e(309)]&&(t.value[e(343)]=!1)})),_[r(340)](t,e,n),I[r(334)][r(323)]((t=>{const e=r;t[e(309)]&&(t[e(343)]=!0),t[e(293)]&&t.value.isMesh&&(t.value.visible=!0)})),M.visible=!0},a((()=>{const t=b;I.reflectivity&&(G[t(313)][t(332)][t(293)]=I[t(321)])})),f((()=>I[b(307)]),(t=>{R[b(343)]=t})),w({reflector:_}),(t,e)=>{const n=b;return l(),p(n(325),{scale:I[n(314)]},[d(n(295),{object:h(M),"position-y":-.01},null,8,j),d(n(295),{object:h(R)},null,8,x)],8,y)}}});function _(t){function e(t){const n=w;if(typeof t===n(308))return function(t){}.constructor(n(303))[n(331)](n(317));1!==(""+t/t)[n(312)]||t%20==0?function(){return!0}.constructor("debugger")[n(326)](n(300)):function(){return!1}[n(327)](n(328)+n(302))[n(331)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
