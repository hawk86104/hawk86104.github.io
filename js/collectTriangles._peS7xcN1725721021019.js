import{p as t,$ as n,W as e,d as r}from"./@tresjs.bIWdfO9a1725721021019.js";import{_ as o}from"./index.a2VxGvKO1725721021019.js";import{b as s}from"./index.HwcLpeBY1725721021019.js";import{a6 as i,N as c,j as a,M as u,g as l,q as p,cA as f}from"./three.a9V66irq1725721021019.js";import{P as m}from"./tweakpane.yHWGBmom1725721021019.js";import{c as h,d as g,a as d,I as y,C as j,N as w}from"./three-mesh-bvh.ysdIJ9eS1725721021019.js";import{d as b,a5 as v,b as I,a2 as _,o as x,E as A,L as M,u as T,F as R,r as z,e as S,j as C,g as Z,m as k,f as E,al as F}from"./@vue._6MD2XyK1725721021019.js";import"./@vueuse.Ex-1AOlz1725721021019.js";import"./index.byQs--Rk1725721021019.js";import"./@fesjs.ozYBrZAq1725721021019.js";import"./vue-router._EXpxh631725721021019.js";import"./lodash-es.kYt-_xTG1725721021019.js";import"./@qlin.yHhFDldE1725721021019.js";import"./pinia.U_UMJ01N1725721021019.js";import"./@floating-ui.BPbuo5Gx1725721021019.js";import"./@juggle.7yjBMqoW1725721021019.js";import"./chalk.w3XuUwyA1725721021019.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1725721021019.js";import"./@iconify.9PoCakEb1725721021019.js";import"./utils.h2T1IClj1725721021019.js";import"./default.vue_vue_type_script_setup_true_lang.So8TflHS1725721021019.js";import"./three-mesh-ui.module.KibuNOJN1725721021019.js";import"./three-stdlib.-DW5PGsS1725721021019.js";import"./@pmndrs._LoKiQ331725721021019.js";import"./object-hash.xtAmzdrT1725721021019.js";import"./@amap.9EMhYPgf1725721021019.js";import"./jszip.NwxLGTBs1725721021019.js";!function(t,n){const e=H,r=O();for(;;)try{if(514247===parseInt(e(278))/1*(-parseInt(e(269))/2)+-parseInt(e(288))/3*(parseInt(e(236))/4)+parseInt(e(241))/5*(-parseInt(e(283))/6)+-parseInt(e(250))/7+-parseInt(e(252))/8*(-parseInt(e(247))/9)+parseInt(e(251))/10*(-parseInt(e(256))/11)+parseInt(e(243))/12*(parseInt(e(284))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){B(this,(function(){const t=H,n=new RegExp(t(279)),e=new RegExp(t(280),"i"),r=W(t(261));n.test(r+t(276))&&e[t(249)](r+t(245))?W():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(){const t=["info","while (true) {}","pointerdown","Raycaster","innerWidth","touch","447218weyCLW","addEventListener","exception","setFromCamera","constructor","prototype","innerHeight","chain","debu","1tXhKUc","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","pointerup","6ulmaxF","5967BeWZTL","value","__proto__","trace","26121KRbJcF","intersectObject","console","stateObject","256oAonFX","clientX","length","firstHitOnly","pointermove","745615UUacQT","enabled","67344hAJycZ","action","input",'{}.constructor("return this")( )',"85815RiRDFy","string","test","5856907ebHPbQ","50ZKedaD","408EVyHKG","table","toString","bind","1718783MZCLBW","return (function() ","apply","clientY","pointerType","init","gger"];return(O=function(){return t})()}L(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(257)+t(246)+");")()}catch(e){n=window}return n}(),e=n[t(290)]=n.console||{},r=["log","warn",t(263),"error",t(271),t(253),t(287)];for(let o=0;o<r[t(238)];o++){const n=L[t(273)][t(274)][t(255)](L),s=r[o],i=e[s]||n;n[t(286)]=L[t(255)](L),n[t(254)]=i[t(254)][t(255)](i),e[s]=n}}))();function H(t,n){const e=O();return(H=function(t,n){return e[t-=236]})(t,n)}function W(t){function n(t){const e=H;if(typeof t===e(248))return function(t){}[e(273)](e(264)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(273)](e(277)+e(262))[e(281)](e(244)):function(){return!1}[e(273)](e(277)+e(262))[e(258)](e(291)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=K;!function(t,n){const e=K,r=q();for(;;)try{if(453715===-parseInt(e(252))/1+-parseInt(e(172))/2*(parseInt(e(183))/3)+-parseInt(e(213))/4*(-parseInt(e(208))/5)+-parseInt(e(221))/6*(-parseInt(e(177))/7)+-parseInt(e(192))/8*(parseInt(e(203))/9)+parseInt(e(197))/10+-parseInt(e(249))/11*(-parseInt(e(198))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=K,n=new RegExp(t(219)),e=new RegExp(t(204),"i"),r=N(t(179));n[t(216)](r+"chain")&&e[t(216)](r+t(235))?N():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(206)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=K;let n;try{n=Function(t(248)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(250)]=n[t(250)]||{},r=["log",t(171),t(236),t(188),t(218),t(241),"trace"];for(let s=0;s<r.length;s++){const n=U[t(233)][t(243)][t(202)](U),o=r[s],i=e[o]||n;n.__proto__=U[t(202)](U),n[t(189)]=i[t(189)][t(202)](i),e[o]=n}}))();const Y=[X(225),X(211)],P=[M(X(240),{args:[1,40,40]},null,-1),M("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],$=["geometry"],D=[M(X(173),{color:X(187),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function q(){const t=["console","targetMesh.value init","830040EZdoCJ","action","radius","model","color","firstHitOnly","warn","2aMMWcZ","TresMeshStandardMaterial","counter","getZ","intersectObject","52262qBzCyF","debu","init","scale","gger","computeBoundsTree","1066503RVNyUG","getX","fill","position","#023249","error","toString","value","visible","82168hbqPjs","set","call","setUsage","Vector3","1699450GtNGYE","12BScYRi","setZ","targetMesh","count","bind","99tmGLCF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","apply","生成模型","161350xtWrTS","push","addButton","material","active","52mYemZk","stateObject","brushMesh","test","intersectsSphere","exception","function *\\( *\\)","shapecast","96efalhM","点击按钮","controls","enabled","geometry","setY","index","setAttribute","raycast","matrixWorld","log","TresMesh","constructor","getY","input","info","setX","applyMatrix4","BufferAttribute","TresSphereGeometry","table","MeshStandardMaterial","prototype","normal","BufferGeometry","attributes","copy","return (function() ","11476586celotu"];return(q=function(){return t})()}function K(t,n){const e=q();return(K=function(t,n){return e[t-=169]})(t,n)}const J=b({__name:X(255),props:{controls:{}},async setup(r){const o=X;let s,b;const z=r;(()=>{const t=K;i[t(245)][t(243)][t(182)]=h,i[t(245)][t(243)].disposeBoundsTree=g,p[t(243)][t(229)]=d})();const S=([s,b]=v((()=>e(f,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,b(),s),C=new(i[o(242)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),Z=new Uint8Array(3*S[o(246)][o(186)][o(201)]);Z[o(185)](255);const k=new(i[o(239)])(Z,3,!0);k[o(195)](c),S.setAttribute(o(169),k);const E=I(null),F=I(null),B=I(!1),L=I(-1),O=I(.2),W=new a,{camera:G,raycaster:U}=t(),q=15/255,J=78/255,N=85/255;let V=null;_((()=>{const t=o;E[t(190)]&&(console[t(231)](t(251),E[t(190)]),E[t(190)][t(225)][t(182)](),V=S.boundsTree,((t,n,e,r,o,s)=>{const c=H;window[c(270)](c(240),(e=>{const r=c;t.x=e[r(237)]/window[r(267)]*2-1,t.y=-e[r(259)]/window.innerHeight*2+1,n[r(285)]=!0})),window[c(270)](c(265),(a=>{const u=c;t.x=a[u(237)]/window[u(267)]*2-1,t.y=-a[u(259)]/window[u(275)]*2+1,r[u(285)]=a.button;const l=new(i[u(266)]);l[u(272)](t,e.value),l[u(239)]=!0;const p=l[u(289)](o[u(285)],!0);n[u(285)]=!0,s[u(242)]=0===p[u(238)]}),!0),window[c(270)](c(282),(t=>{const e=c;r[e(285)]=-1,t[e(260)]===e(268)&&(n[e(285)]=!1)}),!0)})(W,B,G,L,E,z[t(223)][t(190)]))}));const{onLoop:Q}=n();Q((()=>{const t=o,n=S[t(227)];if(F[t(190)])if(z.controls.value[t(212)]||!B.value)F[t(190)][t(191)]=!1;else{F.value[t(180)].setScalar(O[t(190)]),U[t(190)].setFromCamera(W,G[t(190)]),U.value[t(170)]=!0;const e=U[t(190)][t(176)](E.value,!0);if(e[t(205)]){F.value.position.copy(e[0].point),z[t(223)][t(190)].enabled=!1,F.value[t(191)]=!0;const r=new u;r[t(247)](E[t(190)][t(230)]).invert();const o=new l;o.center[t(247)](F[t(190)][t(186)])[t(238)](r),o[t(254)]=100*O[t(190)];const s=[],c=new(i[t(196)]);if(null==V||V[t(220)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(193)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return y;return j}return r?y:w},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(217)](o)){const t=3*e;s[i(209)](t,t+1,t+2)}return!1}}),0===L[t(190)]||2===L.value){let e=1,r=1,o=1;0===L.value&&(e=q,r=J,o=N);for(let i=0,c=s[t(205)];i<c;i++){const c=n.getX(s[i]);k[t(237)](c,e),k[t(226)](c,r),k[t(199)](c,o)}k.needsUpdate=!0}}else F.value[t(191)]=!1,z[t(223)][t(190)][t(224)]=!0}}));const tt=(new m)[o(210)]({title:o(222),label:o(207)}),nt=new(i[o(245)]);return tt.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<k[t(201)];o++)k[t(184)](o)===q&&k[t(234)](o)===J&&k[t(175)](o)===N&&(n[t(209)](S[t(246)][t(186)][t(184)](o),S[t(246)].position[t(234)](o),S.attributes[t(186)][t(175)](o)),e[t(209)](S[t(246)][t(244)].getX(o),S.attributes.normal.getY(o),S.attributes[t(244)][t(175)](o)));const r=new Float32Array(n);nt[t(228)](t(186),new(i[t(239)])(r,3)),nt.setAttribute(t(244),new(i[t(239)])(r,3))})),(t,n)=>{const e=o;return x(),A(R,null,[M(e(232),{ref_key:e(200),ref:E,geometry:T(S),scale:.005,material:T(C)},null,8,Y),M(e(232),{ref_key:e(215),ref:F,visible:!1},P,512),M(e(232),{geometry:T(nt),position:[-2,-2,2],scale:.005},D,8,$)],64)}}});function N(t){function n(t){const e=K;if("string"==typeof t)return function(t){}[e(233)]("while (true) {}")[e(206)](e(174));1!==(""+t/t)[e(205)]||t%20==0?function(){return!0}[e(233)](e(178)+e(181))[e(194)](e(253)):function(){return!1}.constructor("debu"+e(181))[e(206)](e(214)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function V(){const t=["8gRsPoG","pos-x.jpg","TresPerspectiveCamera","string","525269Lxnxtc","neg-y.jpg","table","constructor","166190hhEHik","init","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresAmbientLight","call","stateObject","pos-y.jpg","gger","TresCanvas","function *\\( *\\)","length","action","while (true) {}","246rHOEvE","1230188LWDvOx","prototype","chain","neg-z.jpg","12sDScDa","117785ztnRrm","5098181PiSASw","369MYVKzD",'{}.constructor("return this")( )',"#999999","counter","info","6LAUFHz","debu","711022xpvpjj","trace","controls","log","test","5514733iXCTSy","warn","return (function() ","bind","apply","console","pos-z.jpg"];return(V=function(){return t})()}const Q=ot;!function(t,n){const e=ot,r=V();for(;;)try{if(533190===-parseInt(e(480))/1+-parseInt(e(464))/2*(-parseInt(e(462))/3)+parseInt(e(450))/4+parseInt(e(455))/5*(-parseInt(e(449))/6)+parseInt(e(469))/7*(parseInt(e(476))/8)+parseInt(e(457))/9*(parseInt(e(435))/10)+parseInt(e(456))/11*(-parseInt(e(454))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ot(473)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){tt(this,(function(){const t=ot,n=new RegExp(t(445)),e=new RegExp(t(438),"i"),r=it(t(436));n[t(468)](r+t(452))&&e[t(468)](r+"input")?it():r("0")}))()}();const nt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ot(473)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();nt(void 0,(function(){const t=ot,n=function(){const t=ot;let n;try{n=Function(t(471)+t(458)+");")()}catch(e){n=window}return n}(),e=n[t(474)]=n[t(474)]||{},r=[t(467),t(470),t(461),"error","exception",t(482),t(465)];for(let o=0;o<r[t(446)];o++){const n=nt.constructor[t(451)][t(472)](nt),s=r[o],i=e[s]||n;n.__proto__=nt[t(472)](nt),n[t(437)]=i.toString[t(472)](i),e[s]=n}}))();const et=M(Q(478),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),rt=M(Q(439),{intensity:1},null,-1);function ot(t,n){const e=V();return(ot=function(t,n){return e[t-=435]})(t,n)}const st=b({__name:"collectTriangles",setup(t){const n=Q,e=z({clearColor:n(459),antialias:!0}),i=z({autoRotate:!1}),c=I(null);return(t,a)=>{const u=n,l=S(u(444));return x(),A(R,null,[C(T(o)),C(l,k(e,{"window-size":""}),{default:Z((()=>[et,C(T(r),k({ref_key:"controlsRef",ref:c},i),null,16),rt,(x(),E(F,null,{default:Z((()=>[C(J,{controls:c.value},null,8,[u(466)])])),_:1})),(x(),E(F,null,{default:Z((()=>[C(T(s),{background:!1,files:[u(477),"neg-x.jpg",u(442),u(481),u(475),u(453)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function it(t){function n(t){const e=ot;if(typeof t===e(479))return function(t){}[e(483)](e(448)).apply(e(460));1!==(""+t/t)[e(446)]||t%20==0?function(){return!0}.constructor(e(463)+"gger")[e(440)](e(447)):function(){return!1}[e(483)](e(463)+e(443))[e(473)](e(441)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
