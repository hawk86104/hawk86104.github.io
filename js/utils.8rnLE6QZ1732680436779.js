import{a as t,B as n,s as e,b$ as r,C as o,k as s,a0 as c}from"./three.HQIWXjA-1732680436779.js";import{w as a}from"./@fesjs.PwptM7Gh1732680436779.js";import{b as i}from"./@tresjs.ozxSQdlw1732680436779.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.qxsdV1TA1732680436779.js";!function(t,n){const e=g,r=h();for(;;)try{if(216592===parseInt(e(185))/1+parseInt(e(179))/2*(-parseInt(e(138))/3)+parseInt(e(184))/4*(-parseInt(e(121))/5)+-parseInt(e(149))/6+parseInt(e(124))/7*(parseInt(e(161))/8)+-parseInt(e(167))/9*(-parseInt(e(169))/10)+-parseInt(e(168))/11*(-parseInt(e(189))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(195)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=h();return(g=function(t,n){return e[t-=119]})(t,n)}!function(){l(this,(function(){const t=g,n=new RegExp(t(158)),e=new RegExp(t(131),"i"),r=_(t(159));n[t(130)](r+t(160))&&e[t(130)](r+t(172))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function h(){const t=["console","constructor","14004eZrODo","count","boundingBox","random","deleteAttribute",'{}.constructor("return this")( )',"apply","geometry","setY","max","5785FyoHNW","attributes","applyMatrix4","657671OaMrPJ","getCenter","set","call","counter","gger","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","reflectivity","getSize","position","toString","warn","negate","7737gdvVsq","setAttribute","clone","return (function() ","computeBoundsTree","disposeBoundsTree","center","uniforms","catch","setFromObject","__proto__","621930SxawqH","push","exception","sub","depthWrite","info","action","expandByObject","Box3","function *\\( *\\)","init","chain","8LtEwMr","copy","string","value","length","bind","387BKswsc","1496TrwDpy","19810FxRWCL","computeBoundingBox","prototype","input","get","material","transparent","error","while (true) {}","debu","94ZkyXXu","stateObject","getY","getX","min","836HbztgK","345425SxVwgB","features"];return(h=function(){return t})()}m(void 0,(function(){const t=g;let n;try{n=Function(t(141)+t(194)+");")()}catch(o){n=window}const e=n[t(187)]=n[t(187)]||{},r=["log",t(136),t(154),"error",t(151),"table","trace"];for(let s=0;s<r[t(165)];s++){const n=m.constructor[t(171)][t(166)](m),o=r[s],c=e[o]||n;n[t(148)]=m.bind(m),n[t(135)]=c.toString[t(166)](c),e[o]=n}}))();const w=(n,e=!1)=>{const r=g;n[r(170)]();const{max:o,min:s}=n[r(191)];n[r(193)]("uv");const c=o.x-s.x,a=o.y-s.y,i=[];for(let t=0;t<n.attributes[r(134)].count;t++)e?(i[r(150)]((n[r(122)][r(134)][r(182)](t)-(s.x+o.x)/2)/c),i[r(150)]((n[r(122)].position[r(181)](t)-(s.y+o.y)/2)/a)):(i.push((n[r(122)][r(134)].getX(t)-s.x)/c),i[r(150)]((n[r(122)][r(134)].getY(t)-s.y)/a));const u=new Float32Array(i);n[r(139)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=g;a(t,{},{method:o(173),mergeRequest:!0}).then((t=>{const r=o;n&&e(t[n]),e(t[r(186)])}))[o(146)]((t=>{console[o(176)](t),r(t)}))})),y=t=>{const n=g,e=(new(THREE[n(157)]))[n(147)](t),r=new THREE.Vector3;e[n(125)](r),t.children.forEach((t=>{const e=n;t[e(134)][e(152)](r)})),t[n(134)][n(162)](r.negate())},x=()=>{const t=g;n[t(171)][t(142)]=u,n[t(171)][t(143)]=f,e[t(171)].raycast=p},b=async t=>{const n=g,e=await i(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t[n(196)][n(140)]();w(a),a[n(142)]();const u=new r(a,{color:new o("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(174)][n(175)]=!0,u[n(174)][n(153)]=!0,u.material.depthTest=!0,u.material.side=c,u[n(174)][n(145)].config.value.w=20,u[n(174)][n(145)][n(132)][n(164)]=.46,u};function I(t){const n=g,e=[];for(let o=0;o<t[n(165)];o++)e[n(150)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(165)];o++)r.add(e[o]);r.divideScalar(e[n(165)]);for(let o=0;o<e[n(165)];o++)e[o].sub(r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=g;if(typeof t===e(163))return function(t){}[e(188)](e(177))[e(195)](e(128));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(178)+e(129))[e(127)](e(155)):function(){return!1}.constructor(e(178)+e(129))[e(195)](e(180)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,I as g,x as i,d as l,w as r,b as s};
