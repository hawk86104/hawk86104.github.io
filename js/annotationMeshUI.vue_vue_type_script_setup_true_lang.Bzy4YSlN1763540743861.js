import{_ as t}from"./@tresjs.BCHtwiaC1763540743861.js";import"./index.CJ5-9CVy1763540743861.js";import{g as e}from"./gsap.CY1N3EIL1763540743861.js";import{d as o,a as n,w as a,H as i,o as r}from"./@vue.Co_gxueH1763540743861.js";import{a as s,c as l,b as f}from"./three-mesh-ui.module.BVA20N0s1763540743861.js";import{ae as d,l as u}from"./three.rXKzP9fQ1763540743861.js";const p=["position","scale"],c=o({__name:"annotationMeshUI",props:{size:{default:1},height:{default:10},fontColor:{default:"#ffffff"},backgroundColor:{default:"#000000"},text:{default:{title:"福田区",number:52426,contenttitle:"超过：",content:"66%"}},fontSize:{default:1.2},marginTop:{default:0},marginLeft:{default:0},threeMeshUIUpdate:{type:Boolean,default:!1}},setup(o,{expose:c}){const g=o,m=n();a(()=>m.value,t=>{t&&t.add(S)});const z=n(.01),x=n(0),S=new s({padding:g.fontSize/2,width:7*g.fontSize,fontSize:g.fontSize,fontFamily:"./plugins/UIdemo/fonts/msdf/regular.json",fontTexture:"./plugins/UIdemo/fonts/msdf/regular.png",boxSizing:"border-box",justifyContent:"center",textAlign:"left",borderRadius:[0,1,1,0],fontSide:d,backgroundSide:d,color:g.fontColor,backgroundColor:g.backgroundColor,opacity:z.value});S.renderOrder=9999999999,S.backgroundMaterial.depthWrite=!1,S.backgroundMaterial.depthTest=!0,S.position.set(g.fontSize/2+g.marginLeft*g.size,2.3*-g.fontSize+g.marginTop*g.size,0),S.add(new l({fontFamily:"./plugins/digitalMapBlock/font/province-msdf.json",fontTexture:"./plugins/digitalMapBlock/font/province.png",textContent:`${g.text.title}\n`}));const b=new l({fontSize:1.2*g.fontSize,textContent:"0000\n"});S.add(b),S.add(new l({fontFamily:"./plugins/digitalMapBlock/font/custom-msdf.json",fontTexture:"./plugins/digitalMapBlock/font/custom.png",fontSize:.8*g.fontSize,textContent:`${g.text.contenttitle}`})),S.add(new l({fontSize:.8*g.fontSize,textContent:`${g.text.content}`})),a(()=>[g.fontColor,g.backgroundColor,g.size,z.value,g.marginTop,g.marginLeft],([t,e,o,n,a,i])=>{S.set({color:new u(t),backgroundColor:new u(e),backgroundOpacity:n}),S.position.set(g.fontSize/2+i*o,2.3*-g.fontSize+a*o,0)});const{onBeforeRender:h}=t();return h(()=>{g.threeMeshUIUpdate&&f()}),c({playFunc:(t=0)=>{x.value=0,e.to(x,{value:g.text.number,duration:1,delay:t,ease:"circ.out",onUpdate:()=>{x.value=Math.floor(x.value),b.set({textContent:`${x.value}\n`})}}),z.value=.01,e.to(z,{value:.36,duration:1,delay:t,ease:"circ.out"})}}),(t,e)=>(r(),i("TresGroup",{ref_key:"tgroup",ref:m,position:[3.5*t.fontSize*t.size,t.height,0],scale:t.size},null,8,p))}});export{c as _};
