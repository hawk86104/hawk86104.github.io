import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.Td0X-dew1740621336114.js";import{_ as s}from"./index.GDUM6JEi1740621336114.js";import{_ as i,c,b as u,B as a,cy as l}from"./three.sXv6UbbL1740621336114.js";import{P as f}from"./tweakpane.yDiyAAkA1740621336114.js";import{I as p,C as g,N as m,c as h,d,a as y}from"./three-mesh-bvh.C_z0wpFH1740621336114.js";import{d as w,a3 as j,b,a2 as I,o as _,H as v,N as x,u as T,F as z,r as M,e as S,j as Z,g as k,m as A,f as X,al as B}from"./@vue.NRI7TcgI1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";import"./index.G24wfrNA1740621336114.js";import"./@fesjs.LqZjJP5K1740621336114.js";import"./vue-router.42s9Lhcm1740621336114.js";import"./lodash-es.pklfUAS51740621336114.js";import"./@qlin.yHhFDldE1740621336114.js";import"./pinia.va49Nygd1740621336114.js";import"./@floating-ui.BPbuo5Gx1740621336114.js";import"./@juggle.7yjBMqoW1740621336114.js";import"./chalk.9FGrMJNn1740621336114.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1740621336114.js";import"./@iconify.dt4P0LGS1740621336114.js";import"./dompurify.rQUea5mq1740621336114.js";import"./utils.-OqG9XeY1740621336114.js";import"./default.vue_vue_type_script_setup_true_lang.fyNGxvTJ1740621336114.js";import"./three-mesh-ui.module.veWufGGE1740621336114.js";function C(t,n){const e=R();return(C=function(t,n){return e[t-=331]})(t,n)}!function(t,n){const e=C,r=R();for(;;)try{if(580508===-parseInt(e(349))/1+-parseInt(e(342))/2+parseInt(e(332))/3+parseInt(e(372))/4+parseInt(e(355))/5*(parseInt(e(337))/6)+parseInt(e(356))/7+parseInt(e(352))/8*(-parseInt(e(357))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(358)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=C,n=new RegExp(t(375)),e=new RegExp(t(360),"i"),r=F(t(362));n[t(333)](r+t(367))&&e.test(r+"input")?F():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(358)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();O(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(331)+t(338)+");")()}catch(e){n=window}return n}(),e=n[t(339)]=n[t(339)]||{},r=[t(363),t(373),t(364),"error",t(340),t(351),"trace"];for(let o=0;o<r[t(368)];o++){const n=O[t(378)][t(336)][t(371)](O),s=r[o],i=e[s]||n;n.__proto__=O[t(371)](O),n[t(366)]=i[t(366)].bind(i),e[s]=n}}))();function F(t){function n(t){const e=C;if(typeof t===e(347))return function(t){}[e(378)](e(376))[e(358)](e(345));1!==(""+t/t)[e(368)]||t%20==0?function(){return!0}[e(378)]("debugger")[e(353)]("action"):function(){return!1}[e(378)](e(359)+"gger")[e(358)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function R(){const t=["setFromCamera","table","5782440bMONyF","call","Raycaster","3175tcaSPY","7326536ibTDjH","9KOrNCE","apply","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","firstHitOnly","init","log","info","clientX","toString","chain","length","value","clientY","bind","2478256XFRLSD","warn","pointerType","function *\\( *\\)","while (true) {}","enabled","constructor","return (function() ","349959zWMQgx","test","intersectObject","pointerup","prototype","9078ImLkGW",'{}.constructor("return this")( )',"console","exception","innerHeight","1112636PMxUFz","pointerdown","innerWidth","counter","addEventListener","string","pointermove","883989gdcIPz"];return(R=function(){return t})()}const H=N;!function(t,n){const e=N,r=G();for(;;)try{if(467420===-parseInt(e(306))/1+parseInt(e(233))/2*(-parseInt(e(256))/3)+parseInt(e(245))/4*(parseInt(e(257))/5)+-parseInt(e(252))/6*(-parseInt(e(243))/7)+parseInt(e(277))/8+-parseInt(e(259))/9+parseInt(e(295))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(289)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(t,n){const e=G();return(N=function(t,n){return e[t-=221]})(t,n)}!function(){P(this,(function(){const t=N,n=new RegExp(t(301)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Y("init");n[t(303)](r+"chain")&&e[t(303)](r+t(258))?Y():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(289)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(){const t=["normal","Vector2","click","error","getZ","point","shapecast","constructor","visible","radius","computeBoundsTree","setFromCamera","prototype","call","scale","2636400kUWhIs","raycast","position","生成模型","Mesh","setY","console","push","table","TresMeshStandardMaterial","setZ","index","apply","targetMesh.value init","setX","counter","setScalar","bind","9391430VGEXYm","targetMesh","BufferAttribute","string","BufferGeometry","Matrix4","function *\\( *\\)","invert","test","setAttribute","DynamicDrawUsage","784242HjYWlP","addButton","__proto__","boundsTree","exception","enabled","gger","intersectsSphere","debu","TresSphereGeometry","needsUpdate","disposeBoundsTree","brushMesh","stateObject","copy","geometry","2HDdGwe","info","value","count","controls","MeshStandardMaterial","fill","color","instance","active","17591jTNfcm","Sphere","4076ldDiLq","applyMatrix4","set","attributes","getY","matrixWorld","getX","708OSUGir","firstHitOnly","TresMesh","warn","2613537ZrJtVZ","4325HNZoHE","input","2914389SrfXXo","setUsage","length"];return(G=function(){return t})()}D(void 0,(function(){const t=N,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(283)]=n[t(283)]||{},r=["log",t(255),t(234),t(265),t(221),t(285),"trace"];for(let o=0;o<r[t(261)];o++){const n=D.constructor[t(274)][t(294)](D),s=r[o],i=e[s]||n;n[t(308)]=D[t(294)](D),n.toString=i.toString[t(294)](i),e[s]=n}}))();const L=[H(232),"material"],U=[H(232)],W=w({__name:"model",props:{controls:{}},async setup(r){const o=H;let s,w;const M=r;(()=>{const t=N;i[t(299)][t(274)][t(272)]=h,a[t(274)][t(228)]=d,i[t(281)][t(274)][t(278)]=y})();const S=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),Z=new(i[o(238)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*S[o(248)][o(279)][o(236)]);k[o(239)](255);const A=new c(k,3,!0);A[o(260)](i[o(305)]),S[o(304)](o(240),A);const X=b(null),B=b(null),E=b(!1),O=b(-1),F=b(.2),R=new(i[o(263)]),{camera:P,raycaster:D}=t(),G=15/255,W=78/255,Y=85/255;let V=null;I((()=>{const t=o;X.value&&(console.log(t(290),X[t(235)]),X[t(235)].geometry[t(272)](),V=S[t(309)],((t,n,e,r,o,s)=>{const c=C;window[c(346)](c(348),(e=>{const r=c;t.x=e[r(365)]/window[r(344)]*2-1,t.y=-e[r(370)]/window[r(341)]*2+1,n.value=!0})),window[c(346)](c(343),(u=>{const a=c;t.x=u.clientX/window[a(344)]*2-1,t.y=-u[a(370)]/window[a(341)]*2+1,r[a(369)]=u.button;const l=new(i[a(354)]);l[a(350)](t,e[a(369)]),l[a(361)]=!0;const f=l[a(334)](o.value,!0);n[a(369)]=!0,s[a(377)]=0===f.length}),!0),window.addEventListener(c(335),(t=>{const e=c;r[e(369)]=-1,"touch"===t[e(374)]&&(n.value=!1)}),!0)})(R,E,P,O,X,M[t(237)][t(241)]))}));const{onLoop:$}=n();$((()=>{const t=o,n=S[t(288)];if(B.value)if(M.controls.instance[t(242)]||!E[t(235)])B[t(235)][t(270)]=!1;else{B[t(235)][t(276)][t(293)](F[t(235)]),D[t(235)][t(273)](R,P[t(235)]),D[t(235)][t(253)]=!0;const e=D[t(235)].intersectObject(X[t(235)],!0);if(e[t(261)]){B[t(235)][t(279)].copy(e[0][t(267)]),M.controls.instance[t(222)]=!1,B[t(235)][t(270)]=!0;const r=new(i[t(300)]);r[t(231)](X[t(235)][t(250)])[t(302)]();const o=new(i[t(244)]);o.center[t(231)](B[t(235)].position)[t(246)](r),o[t(271)]=100*F[t(235)];const s=[],c=new u;if(null==V||V[t(268)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(247)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return p;return g}return r?p:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(224)](o)){const t=3*e;s[i(284)](t,t+1,t+2)}return!1}}),0===O[t(235)]||2===O[t(235)]){let e=1,r=1,o=1;0===O[t(235)]&&(e=G,r=W,o=Y);for(let i=0,c=s.length;i<c;i++){const c=n[t(251)](s[i]);A[t(291)](c,e),A[t(282)](c,r),A[t(287)](c,o)}A[t(227)]=!0}}else B[t(235)].visible=!1,M[t(237)][t(241)][t(222)]=!0}}));const q=(new f)[o(307)]({title:"点击按钮",label:o(280)}),K=new(i[o(299)]);return q.on(o(264),(()=>{const t=o,n=[],e=[];for(let o=0;o<A[t(236)];o++)A[t(251)](o)===G&&A[t(249)](o)===W&&A[t(266)](o)===Y&&(n[t(284)](S[t(248)][t(279)].getX(o),S[t(248)][t(279)][t(249)](o),S[t(248)][t(279)][t(266)](o)),e[t(284)](S[t(248)][t(262)][t(251)](o),S[t(248)][t(262)].getY(o),S[t(248)][t(262)].getZ(o)));const r=new Float32Array(n);K[t(304)]("position",new(i[t(297)])(r,3)),K[t(304)](t(262),new(i[t(297)])(r,3))})),(t,n)=>{const e=o;return _(),v(z,null,[x(e(254),{ref_key:e(296),ref:X,geometry:T(S),scale:.005,material:T(Z)},null,8,L),x(e(254),{ref_key:e(229),ref:B,visible:!1},n[0]||(n[0]=[x(e(226),{args:[1,40,40]},null,-1),x(e(286),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(254),{geometry:T(K),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(286),{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,U)],64)}}});function Y(t){function n(t){const e=N;if(typeof t===e(298))return function(t){}[e(269)]("while (true) {}")[e(289)](e(292));1!==(""+t/t)[e(261)]||t%20==0?function(){return!0}[e(269)](e(225)+e(223))[e(275)]("action"):function(){return!1}[e(269)](e(225)+"gger")[e(289)](e(230)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=$;function $(t,n){const e=q();return($=function(t,n){return e[t-=423]})(t,n)}function q(){const t=["constructor","TresCanvas","exception","info","3PBKNjb","test","pos-y.jpg","toString","trace","3958668WVHffD","3000246XnVdmi","73660OtNCTB","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","console","init","chain","6809KPjXDi","call","5wfiQcf","__proto__","TresAmbientLight","gger","apply",'{}.constructor("return this")( )',"input","pos-x.jpg","TresPerspectiveCamera","stateObject","error","while (true) {}","1476880psxzjZ","neg-x.jpg","bind","#999999","debu","function *\\( *\\)","56jNegZV","67884mLlgXo","collectTriangles","controlsRef","150550TPKUId","log","counter","length","prototype","2083004GbrAsm"];return(q=function(){return t})()}!function(t,n){const e=$,r=q();for(;;)try{if(761184===parseInt(e(439))/1+-parseInt(e(455))/2*(parseInt(e(449))/3)+parseInt(e(444))/4*(-parseInt(e(463))/5)+-parseInt(e(436))/6+parseInt(e(435))/7*(-parseInt(e(429))/8)+-parseInt(e(454))/9+parseInt(e(456))/10*(parseInt(e(461))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[$(467)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=$,n=new RegExp(t(434)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=tt(t(459));n[t(450)](r+t(460))&&e.test(r+t(423))?tt():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function("return (function() "+t(468)+");")()}catch(e){n=window}return n}(),e=n[t(458)]=n.console||{},r=[t(440),"warn",t(448),t(427),t(447),"table",t(453)];for(let o=0;o<r.length;o++){const n=J[t(445)][t(443)][t(431)](J),s=r[o],i=e[s]||n;n[t(464)]=J[t(431)](J),n.toString=i[t(452)][t(431)](i),e[s]=n}}))();const Q=w({__name:V(437),setup(t){const n=V,e=M({clearColor:n(432),antialias:!0}),i=M({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=S(a(446));return _(),v(z,null,[Z(T(s)),Z(l,A(e,{"window-size":""}),{default:k((()=>[u[0]||(u[0]=x(a(425),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),Z(T(r),A({ref_key:a(438),ref:c},i),null,16),u[1]||(u[1]=x(a(465),{intensity:1},null,-1)),(_(),X(B,null,{default:k((()=>[Z(W,{controls:c.value},null,8,["controls"])])),_:1})),(_(),X(B,null,{default:k((()=>[Z(T(o),{background:!1,files:[a(424),a(430),a(451),"neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:a(457)})])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=$;if("string"==typeof t)return function(t){}.constructor(e(428))[e(467)](e(441));1!==(""+t/t)[e(442)]||t%20==0?function(){return!0}[e(445)](e(433)+e(466))[e(462)]("action"):function(){return!1}[e(445)](e(433)+e(466))[e(467)](e(426)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
