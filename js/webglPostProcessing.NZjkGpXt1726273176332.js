import{i as t}from"./ice-utils.7VteEod61726273176332.js";import{c as n,_ as e}from"./gl-matrix.AFK4LjqA1726273176332.js";import{P as o}from"./tweakpane.yHWGBmom1726273176332.js";import{d as r,r as i,q as a,o as c,E as s,L as u,u as f}from"./@vue.JNsx1iN61726273176332.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=g;!function(t,n){const e=g,o=b();for(;;)try{if(615554===-parseInt(e(252))/1*(-parseInt(e(289))/2)+parseInt(e(231))/3*(-parseInt(e(199))/4)+-parseInt(e(197))/5+-parseInt(e(217))/6+parseInt(e(285))/7+parseInt(e(281))/8*(parseInt(e(248))/9)+-parseInt(e(262))/10*(-parseInt(e(222))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=g,n=new RegExp(t(266)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=A(t(228));n[t(253)](o+t(218))&&e[t(253)](o+t(189))?A():o("0")}))()}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();d(void 0,(function(){const t=g;let n;try{n=Function(t(293)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(219)]=n[t(219)]||{},o=[t(236),t(257),"info","error","exception",t(194),t(271)];for(let i=0;i<o.length;i++){const n=d[t(245)][t(280)].bind(d),r=o[i],a=e[r]||n;n[t(208)]=d.bind(d),n[t(286)]=a[t(286)].bind(a),e[r]=n}}))();const x={id:"canvaswebgl"},p=[_(226)];function g(t,n){const e=b();return(g=function(t,n){return e[t-=188]})(t,n)}const T=r({__name:_(279),setup(r){const E=_;let d,g,T,b,A,R,y,F,v,h,w,I,P;const B=1,C=.71,U=.76,S=new o({title:"参数"}),L=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S[E(273)]({view:"slider",label:"颜色",min:0,max:1,value:.5}).on(E(251),(t=>{const n=E;G(),g[n(290)](I,t[n(220)])}));let D=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S[E(230)](L,E(232),{label:E(270)}),S[E(230)](L,"offset_right_top",{picker:E(244),x:{min:0,max:1},y:{min:0,max:1}}).on(E(251),(t=>{const n=E;D[0]=L[n(210)].x,D[1]=L[n(210)].y,G()})),S[E(230)](L,E(213),{picker:E(244),x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(251),(t=>{D[5]=L.offset_right_bottom.x,D[6]=L.offset_right_bottom.y,G()})),S[E(230)](L,"offset_left_bottom",{picker:E(244),x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(251),(t=>{const n=E;D[10]=L[n(202)].x,D[11]=L[n(202)].y,G()})),S[E(230)](L,E(227),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(t=>{const n=E;D[15]=L[n(227)].x,D[16]=L[n(227)].y,G()})),a((()=>{N()}));const N=function(){const n=E;d=document[n(209)](n(188)),d[n(238)]=window[n(274)],d[n(275)]=window[n(237)],g=d[n(276)](n(207)),g&&(function(){const n=E,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);b=j(e,o),T=t(g,l,m),v=g[n(229)](T,n(200)),h=g[n(229)](T,n(258)),w=g[n(229)](T,n(192)),P=k(document[n(201)](n(240)))}(),G(),g.enable(g.BLEND),g.blendFunc(g[n(272)],g[n(260)]),M())};function M(){const t=E;g[t(191)](g.FRAMEBUFFER,y),g[t(284)](B,C,U,1),g[t(250)](g.COLOR_BUFFER_BIT),function(){const t=E;g.useProgram(T),g.bindBuffer(g[t(196)],b);const o=n();e[t(204)][t(216)](o,0,d[t(238)],d[t(275)],0,.1,100),g[t(241)](v,!1,o);const r=e[t(204)][t(264)]();e[t(204)][t(195)](r,[0,0,1],[0,0,0],[0,1,0]),g[t(241)](h,!1,r),O(P,600,600),O(P,400,400)}(),g[t(191)](g[t(214)],null),L[t(232)]&&(g[t(250)](g[t(267)]),g[t(284)](0,0,1,1),g[t(292)](g[t(196)],A),g.useProgram(R),g[t(265)](g[t(203)],F)),g[t(190)](g[t(256)],6,g.UNSIGNED_BYTE,0),requestAnimationFrame(M)}function O(t,n,o){const r=E;let i=e[r(204)].create();e[r(204)][r(277)](i,i,[n,o,0]),e[r(204)][r(205)](i,i,[250,250,0]),g[r(241)](w,!1,i),g.bindTexture(g[r(203)],t),g[r(190)](g[r(256)],6,g[r(233)],0)}function G(){const n=E,e=new Uint8Array([0,1,2,0,2,3]);A=j(D,e),R=t(g,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),I=g.getUniformLocation(R,"mixParam"),g[n(229)](R,n(269)),function(){const t=E;F=k(d),y=g[t(287)](),g[t(191)](g[t(214)],y),g[t(221)](g.FRAMEBUFFER,g[t(206)],g[t(203)],F,0),g.bindFramebuffer(g[t(214)],null)}()}function k(t){const n=E,e=g[n(239)]();return g[n(265)](g[n(203)],e),t instanceof HTMLImageElement?g[n(288)](g[n(203)],0,g[n(193)],g.RGBA,g[n(233)],t):g[n(288)](g.TEXTURE_2D,0,g[n(193)],t.width,t[n(275)],0,g[n(193)],g.UNSIGNED_BYTE,null),g[n(246)](g[n(203)],g.TEXTURE_MIN_FILTER,g[n(223)]),g[n(246)](g[n(203)],g[n(247)],g.NEAREST),g[n(246)](g.TEXTURE_2D,g[n(243)],g[n(283)]),g[n(246)](g.TEXTURE_2D,g[n(261)],g[n(283)]),e}function j(t,n){const e=E,o=g[e(249)]();g[e(292)](g[e(196)],o),g.bufferData(g[e(196)],t,g[e(211)]);const r=3*Float32Array[e(278)]+2*Float32Array.BYTES_PER_ELEMENT;g.vertexAttribPointer(0,3,g[e(268)],!1,r,0),g.enableVertexAttribArray(0),g[e(263)](1,2,g[e(268)],!1,r,3*Float32Array[e(278)]),g[e(242)](1);const i=g[e(249)]();return g.bindBuffer(g[e(282)],i),g[e(259)](g.ELEMENT_ARRAY_BUFFER,n,g[e(211)]),g[e(292)](g[e(196)],null),o}return(t,n)=>{const e=E;return c(),s(e(235),x,[u("img",{id:e(240),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(254)}},null,8,p)])}}});function b(){const t=["531180uwwCSK","createBuffer","clear","change","1GFOhhc","test","none","call","TRIANGLES","warn","uView","bufferData","ONE_MINUS_SRC_ALPHA","TEXTURE_WRAP_T","18262880WZQsTO","vertexAttribPointer","create","bindTexture","function *\\( *\\)","COLOR_BUFFER_BIT","FLOAT","color","是否后处理","trace","SRC_ALPHA","addBlade","innerWidth","height","getContext","translate","BYTES_PER_ELEMENT","webglPostProcessing","prototype","48yILIWO","ELEMENT_ARRAY_BUFFER","CLAMP_TO_EDGE","clearColor","612430EmnuAn","toString","createFramebuffer","texImage2D","2064212qKvmJz","uniform1f","action","bindBuffer","return (function() ","#canvaswebgl","input","drawElements","bindFramebuffer","uModel","RGBA","table","lookAt","ARRAY_BUFFER","4099570zyTtJp","debu","27116aaUWOn","uProjection","getElementById","offset_left_bottom","TEXTURE_2D","mat4","scale","COLOR_ATTACHMENT0","webgl","__proto__","querySelector","offset_right_top","STATIC_DRAW","counter","offset_right_bottom","FRAMEBUFFER","length","ortho","5452182iWdpVI","chain","console","value","framebufferTexture2D","11EqmkAr","NEAREST","gger","apply","src","offset_left_top","init","getUniformLocation","addBinding","423zlGBTk","hidden","UNSIGNED_BYTE","while (true) {}","canvas","log","innerHeight","width","createTexture","logo-texture","uniformMatrix4fv","enableVertexAttribArray","TEXTURE_WRAP_S","inline","constructor","texParameteri","TEXTURE_MAG_FILTER"];return(b=function(){return t})()}function A(t){function n(t){const e=g;if("string"==typeof t)return function(t){}[e(245)](e(234))[e(225)](e(212));1!==(""+t/t)[e(215)]||t%20==0?function(){return!0}[e(245)](e(198)+e(224))[e(255)](e(291)):function(){return!1}[e(245)]("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{T as default};
