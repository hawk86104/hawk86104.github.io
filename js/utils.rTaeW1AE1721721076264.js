import{a as t,B as n,q as e,bY as o,C as r,j as s,Z as c}from"./three.fnkrvySq1721721076264.js";import{x as a}from"./@fesjs.ODHTSx0A1721721076264.js";import{N as i}from"./@tresjs.tWkmYPO61721721076264.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.TXD2-bq71721721076264.js";function l(){const t=["string","table","copy","420848sdDMSa","get","geometry","11944431AgPLZR","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","getX","applyMatrix4","forEach","25557202GxSwaA","material","setY","log","call","transparent","Box3","children","boundingBox","#fff","getY","getCenter","10IvEpEx","max","__proto__","trace","constructor","919VDcwBX","value","test","features","7700695XzrBaa","324ETvqKc","action","setFromObject","attributes","53052SNeCVx","push","return (function() ","add","disposeBoundsTree","toString","exception","while (true) {}","raycast","gger","position","bind","2802VXQtGJ","min","uniforms","getSize","sub","negate","stateObject","7Xonbzw","chain","count","depthWrite","computeBoundsTree","deleteAttribute","9208464xIDdgF","length","computeBoundingBox","prototype","random","setAttribute","depthTest","expandByObject","set"];return(l=function(){return t})()}!function(t,n){const e=m,o=l();for(;;)try{if(804127===-parseInt(e(331))/1*(-parseInt(e(352))/2)+-parseInt(e(340))/3*(parseInt(e(336))/4)+parseInt(e(335))/5+-parseInt(e(292))/6+parseInt(e(286))/7*(-parseInt(e(304))/8)+parseInt(e(307))/9*(-parseInt(e(326))/10)+parseInt(e(314))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(310)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=l();return(m=function(t,n){return e[t-=285]})(t,n)}!function(){g(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(309),"i"),o=I("init");n[t(333)](o+t(287))&&e[t(333)](o+"input")?I():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();h(void 0,(function(){const t=m;let n;try{n=Function(t(342)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(308)]=n.console||{},o=[t(317),"warn","info","error",t(346),t(302),t(329)];for(let s=0;s<o.length;s++){const n=h[t(330)][t(295)][t(351)](h),r=o[s],c=e[r]||n;n[t(328)]=h[t(351)](h),n[t(345)]=c[t(345)][t(351)](c),e[r]=n}}))();const d=(n,e=!1)=>{const o=m;n[o(294)]();const{max:r,min:s}=n[o(322)];n[o(291)]("uv");const c=r.x-s.x,a=r.y-s.y,i=[];for(let t=0;t<n[o(339)][o(350)].count;t++)e?(i.push((n[o(339)][o(350)].getX(t)-(s.x+r.x)/2)/c),i[o(341)]((n[o(339)][o(350)][o(324)](t)-(s.y+r.y)/2)/a)):(i[o(341)]((n[o(339)][o(350)][o(311)](t)-s.x)/c),i[o(341)]((n[o(339)].position[o(324)](t)-s.y)/a));const u=new Float32Array(i);n[o(297)]("uv",new t(u,2))},w=(t,n)=>new Promise(((e,o)=>{const r=m;a(t,{},{method:r(305)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(334)])})).catch((t=>{console.error(t),o(t)}))})),x=t=>{const n=m,e=(new(THREE[n(320)]))[n(338)](t),o=new THREE.Vector3;e[n(325)](o),t[n(321)][n(313)]((t=>{const e=n;t.position[e(356)](o)})),t[n(350)][n(303)](o[n(357)]())},y=()=>{const t=m;n[t(295)][t(290)]=u,n[t(295)][t(344)]=f,e[t(295)][t(348)]=p},b=async t=>{const n=m,e=await i(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t[n(306)].clone();d(a),a[n(290)]();const u=new o(a,{color:new r(n(323)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(319)]=!0,u[n(315)][n(289)]=!0,u.material[n(298)]=!0,u[n(315)].side=c,u.material[n(354)].config[n(332)].w=20,u[n(315)].uniforms.reflectivity[n(332)]=.46,u};function j(t){const n=m,e=[];for(let r=0;r<t.length;r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(343)](e[r]);o.divideScalar(e[n(293)]);for(let r=0;r<e[n(293)];r++)e[r][n(356)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=m;if(typeof t===e(301))return function(t){}.constructor(e(347))[e(310)]("counter");1!==(""+t/t)[e(293)]||t%20==0?function(){return!0}[e(330)]("debu"+e(349))[e(318)](e(337)):function(){return!1}[e(330)]("debugger")[e(310)](e(285)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,y as i,w as l,d as r,b as s};
