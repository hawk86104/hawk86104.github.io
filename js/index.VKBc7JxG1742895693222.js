import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.hpbvdK8B1742895693222.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.TZOFwjHG1742895693222.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.uHOXXvtN1742895693222.js";import{V as t,K as e,C as n,n as i,u as r,aY as a,a as o,g as s,M as l,_ as c,U as u,b as p,Q as f,t as x}from"./three.DqHgeVY11742895693222.js";import{m as v,e as m}from"./@tresjs.xCsT8yve1742895693222.js";import{u as h}from"./index.hoamjIa41742895693222.js";import{F as w,C as g}from"./three-stdlib.RjQ8hpvq1742895693222.js";import{d}from"./@vue.C4dqouNn1742895693222.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.LLsikmuH1742895693222.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.RaObrP1y1742895693222.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.l91g-vb91742895693222.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.s8P-Tq3H1742895693222.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Ve0bLcaN1742895693222.js";const S=z;!function(t,e){const n=z,i=b();for(;;)try{if(879044===-parseInt(n(117))/1*(parseInt(n(134))/2)+parseInt(n(146))/3*(parseInt(n(124))/4)+-parseInt(n(149))/5*(-parseInt(n(122))/6)+-parseInt(n(131))/7*(-parseInt(n(138))/8)+-parseInt(n(143))/9+-parseInt(n(135))/10*(-parseInt(n(125))/11)+-parseInt(n(137))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(145)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){y(this,(function(){const t=z,e=new RegExp(t(148)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=I("init");e[t(123)](i+t(116))&&n[t(123)](i+"input")?I():i("0")}))()}();const _=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(145)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();_(void 0,(function(){const t=z;let e;try{e=Function(t(141)+t(136)+");")()}catch(r){e=window}const n=e[t(140)]=e.console||{},i=[t(133),t(119),"info","error","exception","table","trace"];for(let a=0;a<i[t(127)];a++){const e=_[t(120)].prototype[t(128)](_),r=i[a],o=n[r]||e;e[t(132)]=_[t(128)](_),e[t(121)]=o.toString[t(128)](o),n[r]=e}}))();const P=S(118);function z(t,e){const n=b();return z=function(t,e){return n[t-=115]},z(t,e)}function b(){const t=["898344jaoGst","3328zeCgRi","debu","console","return (function() ","call","869949dslFlM","action","apply","3akmKAn","string","function *\\( *\\)","944480ipDfnO","gger","chain","871054cPkUfF",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"warn","constructor","toString","54wJPLfk","test","53212iYnRVB","99KHcFan","while (true) {}","length","bind","counter","stateObject","4697CdNZIV","__proto__","log","4pkNWdS","889080TrJaTu",'{}.constructor("return this")( )'];return(b=function(){return t})()}function I(t){function e(t){const n=z;if(typeof t===n(147))return function(t){}[n(120)](n(126))[n(145)](n(129));1!==(""+t/t)[n(127)]||t%20==0?function(){return!0}[n(120)]("debu"+n(115))[n(142)](n(144)):function(){return!1}[n(120)](n(139)+n(115))[n(145)](n(130)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=U;!function(t,e){const n=U,i=M();for(;;)try{if(140366===-parseInt(n(343))/1*(parseInt(n(344))/2)+parseInt(n(349))/3+parseInt(n(358))/4+-parseInt(n(335))/5+parseInt(n(352))/6+-parseInt(n(337))/7*(parseInt(n(353))/8)+parseInt(n(332))/9*(parseInt(n(331))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function M(){const t=["1304646ejlrYs","40Epzrkc","apply","toString","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","389036AgjpsQ","test","counter","exception","init","trace","function *\\( *\\)","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",'{}.constructor("return this")( )',"__proto__","console","defines","110vvgNKp","214857dcLcah","prototype","gger","867820zEEodb","log","311311jflqSD","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","length","call","uniforms","61461qKSFEU","2UVgYAB","return (function() ","chain","constructor","stateObject","61359YlvHzC","while (true) {}","bind"];return(M=function(){return t})()}!function(){A(this,(function(){const t=U,e=new RegExp(t(325)),n=new RegExp(t(357),"i"),i=V(t(362));e[t(359)](i+t(346))&&n[t(359)](i+"input")?V():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(354)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(t){const n=U,i={...t};return n(330)in t&&(i[n(330)]={...t.defines}),"uniforms"in t&&(i[n(342)]=e.clone(t[n(342)])),i}function U(t,e){const n=M();return U=function(t,e){return n[t-=325]},U(t,e)}D(void 0,(function(){const t=U,e=function(){const t=U;let e;try{e=Function(t(345)+t(327)+");")()}catch(n){e=window}return e}(),n=e[t(329)]=e[t(329)]||{},i=[t(336),"warn","info","error",t(361),"table",t(363)];for(let r=0;r<i[t(340)];r++){const e=D.constructor[t(333)][t(351)](D),a=i[r],o=n[a]||e;e[t(328)]=D[t(351)](D),e[t(355)]=o.toString[t(351)](o),n[a]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new t},parentMapSize:{value:new t},parentLevel:{value:0}},vertexShader:E(326),fragmentShader:E(339)+P+E(338)};function V(t){function e(t){const n=U;if("string"==typeof t)return function(t){}[n(347)](n(350)).apply(n(360));1!==(""+t/t)[n(340)]||t%20==0?function(){return!0}[n(347)]("debu"+n(334))[n(341)]("action"):function(){return!1}.constructor(n(356)+n(334)).apply(n(348)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function T(t,e){const n=C();return T=function(t,e){return n[t-=415]},T(t,e)}const k=T;!function(t,e){const n=T,i=C();for(;;)try{if(672997===parseInt(n(464))/1+parseInt(n(473))/2*(parseInt(n(467))/3)+-parseInt(n(434))/4+-parseInt(n(454))/5+parseInt(n(450))/6+parseInt(n(486))/7+parseInt(n(470))/8*(parseInt(n(448))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(438)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){O(this,(function(){const t=T,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(426),"i"),i=F(t(485));e[t(430)](i+t(453))&&n[t(430)](i+"input")?F():i("0")}))()}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(438)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(){const t=["call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setViewOffset","tDiffuse","prototype","test","forEach","_swapTarget","fragmentShader","3869740jsjEBY","clear","copy","debu","apply","render","_mipQuad","warn","length","setSize","autoClear","setRenderTarget","stateObject","while (true) {}","19285776AtuhYg","setClearAlpha","1437240SiVNbv","gger","width","chain","5183600pxBjHj","floor","set","image","setClearColor","getRenderTarget","console","_copyQuad","table","bind","39209exXSZf","map","type","6alGfEu","_mipMaterials","update","8AfLrbs","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","texture","19786qYiMnl","height","Y_IS_EVEN","getClearColor","counter","dispose","parentLevel","uniforms","camera","string","action","originalMapSize","init","1650271kxxGhT","__proto__","toString","magFilter","constructor","replace","log","minFilter","defines","value","floorPowerOfTwo","X_IS_EVEN",'{}.constructor("return this")( )',"exception"];return(C=function(){return t})()}R(void 0,(function(){const t=T;let e;try{e=Function("return (function() "+t(423)+");")()}catch(r){e=window}const n=e[t(460)]=e[t(460)]||{},i=[t(417),t(441),"info","error",t(424),t(462),"trace"];for(let a=0;a<i[t(442)];a++){const e=R[t(415)][t(429)].bind(R),r=i[a],o=n[r]||e;e[t(487)]=R[t(463)](R),e[t(488)]=o.toString[t(463)](o),n[r]=e}}))();const N=new n;class Y{constructor(t){const e=T;!t&&(t=e(471));const n=L(j);n[e(433)]=n[e(433)][e(416)](/<mipmap_logic>/g,t);const o=new Array(4);o[0]=new i(L(n)),o[0].defines[e(422)]=0,o[0][e(419)][e(475)]=0,o[1]=new i(L(n)),o[1][e(419)][e(422)]=1,o[1][e(419)][e(475)]=0,o[2]=new i(L(n)),o[2].defines[e(422)]=0,o[2][e(419)][e(475)]=1,o[3]=new i(L(n)),o[3][e(419)][e(422)]=1,o[3][e(419)].Y_IS_EVEN=1;const s=new r;s.texture[e(418)]=a,s.texture[e(489)]=a,this[e(432)]=s,this[e(461)]=new w(new i(g)),this._mipQuad=new w(null),this[e(468)]=o}[k(469)](t,e,n,i=!1){const r=k;t.isWebGLRenderTarget&&(t=t[r(472)]);const a=n.autoClear,s=n.getClearAlpha(),l=n[r(459)]();n[r(476)](N);const c=this[r(461)],u=this[r(440)],p=this[r(432)],f=this[r(468)];let x,v;i?(x=o[r(421)](t[r(457)][r(452)]),v=o[r(421)](t.image[r(474)])):(x=Math[r(455)](t[r(457)][r(452)]),v=Math[r(455)](t[r(457)].height));const m=Math[r(455)](1.5*x),h=Math.floor(v);e.setSize(m,h),p.texture[r(466)]!==e[r(472)][r(466)]?(p.dispose(),p[r(436)](e),p[r(472)][r(457)]={...p.texture.image}):p[r(443)](m,h),n[r(444)]=!1,n[r(458)](0),n.setClearAlpha(),c.material[r(480)][r(428)][r(420)]=t,c[r(481)][r(427)](x,v,0,0,m,h),n[r(445)](e),n[r(435)](),c.render(n),n[r(445)](p),n.clear(),c[r(439)](n);let w=x,g=v,d=0;for(;w>1&&g>1;){const t=f[(w%2==0?1:0)|(g%2==0?2:0)];t.uniforms[r(465)].value=p[r(472)],t[r(480)][r(479)][r(420)]=d,t[r(480)].parentMapSize[r(420)][r(456)](w,g),t[r(480)][r(484)][r(420)][r(456)](x,v),u.material=t,w=Math[r(455)](w/2),g=Math.floor(g/2);const i=h-2*g;n[r(445)](e),u[r(481)][r(427)](w,g,-x,-i,m,h),u.render(n),n[r(445)](p),t[r(480)][r(465)][r(420)]=e.texture,u.render(n),d++}return n[r(445)](l),n[r(449)](s),n[r(458)](N),n[r(444)]=a,d+1}[k(478)](){const t=k;this[t(432)][t(478)](),this._mipQuad[t(478)](),this[t(461)][t(478)](),this[t(468)][t(431)]((t=>t.dispose()))}}function F(t){function e(t){const n=T;if(typeof t===n(482))return function(t){}.constructor(n(447))[n(438)](n(477));1!==(""+t/t)[n(442)]||t%20==0?function(){return!0}[n(415)](n(437)+n(451))[n(425)](n(483)):function(){return!1}[n(415)](n(437)+n(451))[n(438)](n(446)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function H(){const t=["sign","multiply","1526907uVztBV","getWorldPosition","info","reflectorMipMap","texture","table","multiplyScalar",'{}.constructor("return this")( )',"647721OooILQ","setRenderTarget","init","constant","toString","matrixWorld","clone","console","Matrix4","dot","function *\\( *\\)","1279817dDiNnq","set","add","elements","exception","parent","apply","negate","buffers","debu","updateMatrixWorld","forEach","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1613520XQmJRA","ignoreObjects","call","Vector4","lookAt","value","getWorldQuaternion","projectionMatrix","input","__proto__","error","sub","prototype","getRenderTarget","PerspectiveCamera","chain","4756840DjaHGh","copy","log","888528ZQdyJa","bind","matrixWorldInverse","setMask","constructor","applyMatrix4","4VHTkQv","test","applyQuaternion","UnsignedByteType","trace","gger","resolution","reflect","18SyGmzx","warn","normal","18752598bjXaMq"];return(H=function(){return t})()}const Q=Z;!function(t,e){const n=Z,i=H();for(;;)try{if(337726===parseInt(n(549))/1+parseInt(n(521))/2+-parseInt(n(541))/3*(-parseInt(n(527))/4)+-parseInt(n(502))/5+-parseInt(n(535))/6*(-parseInt(n(488))/7)+parseInt(n(518))/8+-parseInt(n(538))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(494)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Z(t,e){const n=H();return Z=function(t,e){return n[t-=481]},Z(t,e)}!function(){W(this,(function(){const t=Z,e=new RegExp(t(487)),n=new RegExp(t(501),"i"),i=$(t(551));e[t(528)](i+t(517))&&n.test(i+t(510))?$():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(494)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();G(void 0,(function(){const t=Z,e=function(){const t=Z;let e;try{e=Function("return (function() "+t(548)+");")()}catch(n){e=window}return e}(),n=e[t(484)]=e[t(484)]||{},i=[t(520),t(536),t(543),t(512),t(492),t(546),t(531)];for(let r=0;r<i.length;r++){const e=G[t(525)][t(514)].bind(G),a=i[r],o=n[a]||e;e[t(511)]=G[t(522)](G),e[t(481)]=o[t(481)][t(522)](o),n[a]=e}}))();const X=d({__name:Q(544),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Q,i=t,r=new s,a=new l,o=new(c[n(516)]),w=new Y,g=h({width:i[n(533)],height:i[n(533)],settings:{type:c[n(530)]}}),d=h({width:i[n(533)],height:i.resolution,settings:{type:u}}),{camera:S,renderer:y,scene:_}=v(),{onBeforeLoop:P}=m();return P((()=>{const t=n;(()=>{const t=n;if(!S.value)return;r[t(489)](new(c[t(500)])(0,1,0),0),r[t(526)](i[t(493)][t(482)]),o[t(519)](S[t(507)]);const e=new(c[t(500)])(0,0,1)[t(483)]()[t(495)](),s=S.value[t(542)](new p);e[t(534)](r[t(537)]);const l=new p;r.projectPoint(s,l);const u=l[t(483)]();u[t(513)](s),u[t(490)](l),o.position[t(519)](u);const v=new(c[t(500)])(0,0,-1);v.applyQuaternion(S.value.getWorldQuaternion(new f)),v[t(490)](s);const m=new(c[t(500)]);i[t(493)][t(542)](m),m[t(513)](v),m[t(534)](r[t(537)])[t(495)](),m[t(490)](i.parent[t(542)](new(c[t(500)]))),o.up[t(489)](0,1,0),o[t(529)](S[t(507)][t(508)](new f)),o.up[t(534)](r[t(537)]),o[t(506)](m),o[t(498)]();const h=new(c[t(485)]);h[t(489)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),h[t(540)](o.projectionMatrix),h[t(540)](o[t(523)]),a[t(519)](h),r[t(526)](o.matrixWorldInverse);const w=new(c[t(505)])(r[t(537)].x,r[t(537)].y,r[t(537)].z,r[t(552)]),d=o[t(509)],P=new x;P.x=(Math[t(539)](w.x)+d[t(491)][8])/d.elements[0],P.y=(Math[t(539)](w.y)+d[t(491)][9])/d[t(491)][5],P.z=-1,P.w=(1+d[t(491)][10])/d[t(491)][14],w[t(547)](2/w[t(486)](P)),d[t(491)][2]=w.x,d[t(491)][6]=w.y,d[t(491)][10]=w.z+1,d[t(491)][14]=w.w;const z=y[t(507)][t(515)]();y[t(507)][t(550)](g[t(507)]),y.value.state[t(496)].depth[t(524)](!0),!1===y[t(507)].autoClear&&y[t(507)].clear(),i[t(503)][t(499)]((t=>t.visible=!1)),y[t(507)].render(_[t(507)],o),i[t(503)][t(499)]((t=>t.visible=!0)),y[t(507)][t(550)](z)})(),g[t(507)]&&d[t(507)]&&y[t(507)]&&w.update(g.value[t(545)],d[t(507)],y[t(507)])})),e({matrix:a,renderTarget:d}),(t,e)=>null}});function $(t){function e(t){const n=Z;if("string"==typeof t)return function(t){}[n(525)]("while (true) {}")[n(494)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(497)+"gger")[n(504)]("action"):function(){return!1}.constructor("debu"+n(532))[n(494)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=et,i=tt();;)try{if(157974===parseInt(n(206))/1+-parseInt(n(207))/2*(-parseInt(n(202))/3)+-parseInt(n(185))/4*(parseInt(n(189))/5)+parseInt(n(191))/6+parseInt(n(188))/7*(-parseInt(n(180))/8)+-parseInt(n(201))/9*(-parseInt(n(211))/10)+parseInt(n(212))/11*(-parseInt(n(179))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q,B=(q=!0,function(t,e){var n=q?function(){if(e){var n=e[et(216)](t,arguments);return e=null,n}}:function(){};return q=!1,n});!function(){B(this,(function(){var t=et,e=new RegExp(t(195)),n=new RegExp(t(200),"i"),i=nt(t(214));e[t(186)](i+t(193))&&n[t(186)](i+t(194))?nt():i("0")}))()}();var J,K=(J=!0,function(t,e){var n=J?function(){if(e){var n=e[et(216)](t,arguments);return e=null,n}}:function(){};return J=!1,n});function tt(){var t=["while (true) {}","chain","input","function *\\( *\\)","call","exception","log","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","279abtqCc","17961lrYEtt","constructor","warn","return (function() ","10936IVyzPr","92GjhhTb","action","bind","error","43550qQAdAR","2131602NDRbgE","console","init","counter","apply","length","12wfgzYO","32klOyZM","table","gger",'{}.constructor("return this")( )',"info","8572lSFkVJ","test","string","33138yDyTED","365fhkqjC","__proto__","634728mTZUqr"];return(tt=function(){return t})()}function et(t,e){var n=tt();return et=function(t,e){return n[t-=179]},et(t,e)}function nt(t){function e(t){var n=et;if(typeof t===n(187))return function(t){}[n(203)](n(192)).apply(n(215));1!==(""+t/t)[n(217)]||t%20==0?function(){return!0}[n(203)]("debu"+n(182))[n(196)](n(208)):function(){return!1}[n(203)]("debu"+n(182))[n(216)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}K(void 0,(function(){for(var t=et,e=function(){var t,e=et;try{t=Function(e(205)+e(183)+");")()}catch(n){t=window}return t}(),n=e[t(213)]=e[t(213)]||{},i=[t(198),t(204),t(184),t(210),t(197),t(181),"trace"],r=0;r<i[t(217)];r++){var a=K[t(203)][t(199)][t(209)](K),o=i[r],s=n[o]||a;a[t(190)]=K[t(209)](K),a.toString=s.toString[t(209)](s),n[o]=a}}))();export{X as _};
