var t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d,g,w=Object.defineProperty,S=(t,e,s)=>(((t,e,s)=>{e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as y}from"./pagesShow.vue_vue_type_script_setup_true_lang.aZYcMjV11734492426993.js";import{_ as v,k as x,V as P,f as I,M as A,X as F,g as b,a2 as z,as as T,C as E,aB as O}from"./three.-W-Avfc61734492426993.js";import{m as R,e as V}from"./@tresjs.WiFlZbqU1734492426993.js";import{d as C,b as q,a3 as M,o as N,f as U,g as _,j}from"./@vue.-THQH3GC1734492426993.js";import"./three-custom-shader-material.5sc6Ku_Y1734492426993.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";const B=It;!function(t,e){const s=It,n=G();for(;;)try{if(937070===parseInt(s(627))/1*(parseInt(s(631))/2)+parseInt(s(502))/3*(-parseInt(s(918))/4)+-parseInt(s(889))/5*(parseInt(s(912))/6)+parseInt(s(869))/7*(-parseInt(s(548))/8)+parseInt(s(843))/9*(parseInt(s(782))/10)+parseInt(s(948))/11*(-parseInt(s(903))/12)+parseInt(s(734))/13*(parseInt(s(724))/14))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const D=class{constructor(t){this.name=t}};t=B(567),e=B(670),S(D,t,new D(B(567))),S(D,e,new D(B(670)));let W=D;class X{constructor(){this[B(966)]()}[B(966)](){const t=B;this.progressType=W[t(567)],this[t(902)]=1,this[t(650)]=0,this[t(763)]=new(v[t(687)]),this.position=new(v[t(701)]),this[t(669)]=new(v[t(701)]),this.acceleration=new(v[t(701)]),this[t(962)]=new(v[t(701)]),this.rotation=0,this.rotationalSpeed=0,this.size=new x,this[t(618)]=new(v[t(601)]),this[t(547)]=1,this[t(672)]=new x,this[t(655)]=new(v[t(601)]),this[t(761)]=1}[B(940)](t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d){const g=B;this[g(684)]=t,this[g(902)]=e,this[g(650)]=s,this[g(763)][g(704)](n),this[g(786)].copy(i),this[g(669)].copy(r),this[g(569)].copy(a),this.normal[g(704)](o),this[g(659)]=c,this[g(719)]=h,this[g(591)]=l,this[g(618)].copy(u),this.alpha=p,this.initialSize[g(704)](f),this[g(655)][g(704)](m),this[g(761)]=d}copyTo(t){const e=B;t[e(940)](this[e(684)],this[e(902)],this[e(650)],this[e(763)],this.position,this[e(669)],this[e(569)],this.normal,this[e(659)],this.rotationalSpeed,this.size,this[e(618)],this.alpha,this.initialSize,this.initialColor,this[e(761)])}[B(704)](t){const e=B;this[e(940)](t[e(684)],t[e(902)],t.age,t[e(763)],t[e(786)],t[e(669)],t[e(569)],t[e(962)],t.rotation,t[e(719)],t[e(591)],t[e(618)],t[e(547)],t[e(672)],t.initialColor,t[e(761)])}}class J{constructor(){S(this,s,function(){const t=B,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[It(707)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=It,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Ut(t(966));e[t(828)](n+"chain")&&s.test(n+"input")?Ut():n("0")}))()}();const s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[It(707)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();s(this,(function(){const t=It,e=function(){const t=It;let e;try{e=Function("return (function() "+t(515)+");")()}catch(s){e=window}return e}(),n=e[t(887)]=e[t(887)]||{},i=[t(861),t(803),t(953),t(585),"exception",t(822),t(759)];for(let r=0;r<i.length;r++){const e=s[t(821)][t(730)].bind(s),a=i[r],o=n[a]||e;e[t(596)]=s[t(879)](s),e[t(552)]=o[t(552)][t(879)](o),n[a]=e}}))();const n=new(v[t(701)]);return function(e=new(v[t(635)]),s=null){const i=t,r=e.min,a=e[i(785)];for(let t=0;t<this.activeParticleCount;t++){const e=this[i(949)](t);let o=e[i(786)];s&&(n[i(704)](o),n[i(513)](s),o=n);const c=Math[i(785)](e.size.x,e.size.y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,f=o.z-c,m=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=f),(0==t||o.z>a.z)&&(a.z=m)}return e}}()),S(this,n,function(){const t=B,e=new(v[t(701)]),s=new(v[t(701)]),n=new(v[t(701)]);return function(i=new(v[t(524)]),r=null){const a=t;let o=0;for(let t=0;t<this.activeParticleCount;t++){const i=this[a(949)](t);let c=i[a(786)];r&&(n[a(704)](c),n.applyMatrix4(r),c=n);const h=Math.max(i[a(591)].x,i[a(591)].y);if(0==t)e[a(704)](c),o=h;else{s.copy(c).sub(e);const t=s.length()+h;if(t>o){const n=(t-o)/2;s[a(691)]()[a(598)](n),e[a(555)](s),o+=n}}}return i[a(673)][a(704)](e),i.radius=o,i}}());const t=B;this.particleCount=0,this[t(854)]=0,this.particleStates=[]}[B(966)](t){this[B(633)](t)}[B(633)](t){const e=B;this.particleCount!=t&&(this[e(895)](),this[e(709)](t)),this[e(740)]=t}[B(753)](t){this[B(854)]=t}[B(709)](t){const e=B;this[e(526)]=[],this[e(740)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new X}[B(895)](){}[B(714)](){return this.particleCount}[B(806)](){}[B(813)](t,e){const s=B;if(t>=this[s(740)])throw new Error(s(904));if(e>=this.particleCount)throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const n=this[s(526)][t],i=this[s(526)][e];n[s(652)](i)}setState(t,e){const s=B;if(t>=this.particleCount)throw new Error(s(771));return this[s(526)][t][s(704)](e)}getState(t){const e=B;if(t>=this[e(740)])throw new Error('ParticleStateArray::getState() -> "index" is out of range.');return this[e(526)][t]}}s=B(506),n=B(626);class k{constructor(t,e,s=0){const n=B;this[n(892)]=t,this[n(941)]=e,this.id=s}}class Y{constructor(){const t=B;this.sequences={},this[t(930)]=[]}[B(563)](t,e,s){const n=B;if(this[n(676)](s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new k(t,e,s);return this[n(680)][s]=i,this[n(930)].push(s),i}[B(899)](t){const e=B;if(!this[e(676)](t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this[e(680)][t]}[B(824)](){return this[B(930)]}hasID(t){return!!this[B(680)][t]}}function G(){const t=["setActiveParticleCount","   float sequenceElementF = sequenceElement.x;\n","initializers","cos","normalizeDirection","interpolationElements","trace","instanceCount","initialAlpha","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","sequenceElement","advanceActiveParticles","Additive","initialized","renderer","   const vec2 left = vec2(-1.0, 0.0);\n","namespace","sequenceElements",'ParticleStateArray::setState() -> "index" is out of range.',"outType","update","Object3D","getParticleStateInitializerCount","uniform sampler2D atlasTexture;\n","       viewPosition = viewMatrix * particlePosition;\n",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"localT","radius","matrixWorld","13310860KuxUkm","getInterpolationValuesForTValue","outTypeID","max","position","join","setDrawRange","emissionMaximum","___photonsTypeID","setBoundingBox","updateWorldMatrix","offsetRadius","range","particleStateInitializers","ages","sqrt","getMaximumActiveParticles","timeScaledAcceleration","getTypeID","   vec4 viewPosition; \n","getParticleStateArray","warn","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","Paused","flushParticleStateToBuffers","varying vec3 vFragColor;\n","bias","attribute vec3 color;\n","Shader","operators","setBoundingSphere","copyState","lastUpdateTime","varying float vSequenceElementT;\n","texturePath","getActiveParticleCount","addParticleStateOperator","FragmentVars","getTValue","constructor","table","updateMeshBounds","getSequenceIDs","JSONTypeStore::getType() -> typeName does not exist","offsetY","particleEmitter","test","loop","assign","setOwner","uniforms","       rightSide = baseUV.x; \n","parent","BufferAttribute","attribute float rotation;\n","uniform vec2 uvOffset;\n","   float atlasFrameWidth = atlasFrames.z; \n","NotStarted","gger","substr","   const vec2 right = vec2(1.0, 0.0);\n","9kuROhB","#include <common>","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","createMaterial","setX","   float atlasFrameHeight = atlasFrames.w; \n","componentContainer","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","getTexturePath","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","activeParticleCount","getEmitter","   vec2 rotVec; \n","speed","getInterpolatorForTypeID","particleStateOperators","const int MAX_ATLAS_FRAME_SETS = 16; \n","log","stateObject","shadow","initialSizes","alphas","particleSystemRenderer","DynamicDrawUsage","tValue","91rFSXyD","getTexture","element","getSizes","NormalBlending","attribute vec4 sequenceElement;\n","   const vec2 dLeft = vec2(-1.0, -1.0);\n","getParticleStates","getSimulateInWorldSpace","copyParticleInArray","bind","getSystemState","reverse","uniform int interpolateAtlasFrames; \n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","owner","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","addFrameSet","console","stop","15DAbcrj","upperIndex","Default","start","function","speedRange","dispose",'ContinuousArray::getElement() -> "index" is out of bounds.',"timeScaledVelocity","currentTime","getSequence","normals","components","lifetime","12mVDHPm",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"speedOffset","offsetPhi","indexOf","remove","uniformOffset","lastIntensityAdjuster","getType","3590922MFWQOi","   const vec2 uLeft = vec2(-1.0, 1.0);\n","offsetTheta","attribute float alpha;\n","BufferGeometry","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","60bkGpNB","internalUpdate","lifetimes","InstancedBufferAttribute","customIndex","now","varying float vFragAlpha;\n","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","setState","floor","nextIntensityAdjuster","uniformRange","ids","onUpdateCallback","getGeometry","material","currentSrc","far","lastPositionFlickerTime","setUsage","Renderer::init() -> trying to intialize more than once.","emitterInitialized","setAll","length","ParticleSystem::init() -> trying to intialize more than once.","   const vec2 up = vec2(0.0, 1.0);\n","verticesPerParticle","rangeTheta","scaleX","emissionRate","6521614Zgebyt","getState","ShaderMaterial","   if (instanced != 1) { \n","   \n  #include <logdepthbuf_vertex> \n","info","varying vec2 vUV2;\n","JSONTypeStore::getType() -> namespace does not exist","needsUpdate","hasOwnProperty","updateBounds","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","interpolator","basePositions","normal","       float uLeftV = rotVecStep.x; \n","getParameterJSON","simulateInWorldSpace","init","particleSequences","getParticleStateInitializer","accelerations","elementTypeID","getRotations","stateVelocity","params","238821EnYKBA","generator","rotations","setRGB","computeBoundingBox","distance","baseUVs","JSONTypeStore::addNamespace() -> namespace already exists","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","particlePosition","relativeToInitialValue","applyMatrix4","   float atlasFrameX = atlasFrames.x; \n",'{}.constructor("return this")( )',"addParticleStateInitializer","addElementsFromParameters","generateForElement","sin","toJSON","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","parseTypeString","texture","Sphere","debu","particleStates","instanced","boundingBox","getComponent","interpolateAtlasFrames","blending","iterator","timeActive","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","lowerIndex","SrcAlphaFactor","clone","lastPositionAdjuster","intensityFlux","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","scaleZ","attribute vec2 size;\n","lastIntensityFlickerTime","getElementCount","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","   int nRowYTile = int(SNOverHS);\n","alpha","55064PPVVry","   float uvXOffset = atlasFrameWidth * rightSide; \n","addElements","emitter","toString","setIntensity","} \n","add","transformDirection","updateState","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","getParticleSequences","source","checkAndAddTypeName","rangeRadius","addSequence","addParticleSystem","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","   vec2 uv2; \n","Time","       float uRightV = rotVecStep.z; \n","acceleration","renderOrder","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","   vFragAlpha = alpha; \n","   const vec2 dRight = vec2(1.0, -1.0);\n","scaleY","   if (simulateInWorldSpace == 1) { \n","       upperSide = upperSideStep.x + upperSideStep.y;\n","getLight","Running","activateParticle","getFrameSetCount","randomGenerator","addParticleSequence","invert","   } \n","error","activateParticles","geometry","elements","setParticleSequences","type","size","systemState","directionGenerator","OneMinusSrcAlphaFactor","framesets","__proto__","atlas","multiplyScalar","getParticleStateOperator","rotationalSpeeds","Color","matrixWorldNeedsUpdate","AdditiveBlending","customIndexes","light","setAttribute","particleStateArray","   vec4 color2 = color1; \n","generate","min","push","initialColors","call","rangePhi","typeName","initializeState","visible","color","Mesh","maximumActiveParticles","camera","uniform int simulateInWorldSpace; \n","jsonTypeNames","   gl_FragColor.a *= vFragAlpha; \n","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","computeBoundingSphere","1559037pIrfic","PointLight","getFrameSet","autoClear","2KDhMkg","loadJSONParameter","setParticleCount","frameSets","Box3","   const vec2 down = vec2(0.0, -1.0);\n","counter","getInterpolatedValue","jsonTypes","intensity","set","updateEmitCount",'Atlas::getFrameSet -> "index" is out of range.',"transformInitialDirectionInWorldSpace","map","progressTypes","addComponent","addTypeToNamespace","getFragmentShader","age","   float upperSide; \n","copyTo","varying vec2 vUV1;\n","getVisible","initialColor","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","clamp","   }  else { \n","rotation","toArray","getTypePath","mapSize","getSequenceElements","velocities","default","typeIDGen","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","addElementsFromElementClassAndParameters","velocity","Sequence","name","initialSize","center","advanceActiveParticle","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","hasID","offsetX","stateAcceleration","emitCount","sequences","width","interpolateFrames","   vFragColor = color; \n","progressType","setXYZ","setEmitter","Vector4","   } else { \n","onUpdate","tValues","normalize","splice","baseUV","Vector2","fromArray","   int firstSequenceElement = int(sequenceElementF); \n","initialAlphas","   const vec2 uRight = vec2(1.0, 1.0);\n","fromJSON","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","Vector3","render","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","copy",'ComponentContainer::getComponent() -> "index" is out of range.',"near","apply","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","allocate","setTransformInitialDirectionInWorldSpace","VertexVars","offsetZ","   float atlasFrameY = atlasFrames.y; \n","getParticleCount","particleSystems","colors","maxParticleCount","string","rotationalSpeed","height","getParticleSystemRenderer","offset","getParticleState","28ybkyEp","addElement","Done","emissionDuration","   int sequenceLength = int(sequenceElement.w);\n","positionAdjuster","prototype","   int sequenceNumber = int(sequenceElement.y);\n","mesh","random","11172629DfxmQO","speedGenerator","InstancedBufferGeometry","getVertexShader","tempUp","frustumCulled","particleCount","positions","setXY","emissionMinimum","getInterpolatedElement","sizes","boundingSphere","cameraFar","parseNamespaceAndTypename","       upperSide = baseUV.y; \n","setSimulateInWorldSpace","calculateBoundingSphereFromBox","setXYZW"];return(G=function(){return t})()}class L{constructor(){}[B(616)](t){const e=B;t[e(655)].set(1,1,1),t.initialSize[e(641)](1,1),t[e(761)]=1,t[e(684)]=W[e(567)],t[e(902)]=0,t.age=0,t.sequenceElement[e(641)](0,0,0,0),t[e(786)][e(641)](0,0,0),t[e(669)].set(0,0,0),t.acceleration[e(641)](0,0,0),t[e(962)][e(641)](0,0,1),t.rotation=0,t.rotationalSpeed=0,t.size[e(704)](t[e(672)]),t[e(618)][e(704)](t.initialColor),t.alpha=1}}class Z extends L{constructor(){super()}[B(616)](t){super[B(616)](t)}}class H{constructor(){}updateState(){}}class $ extends H{constructor(){const t=B;super(),this[t(897)]=new P,this[t(799)]=new(v[t(701)]),this.stateAcceleration=new P,this.stateVelocity=new(v[t(701)])}updateState(t,e){const s=B;return super.updateState(t,e),this[s(678)][s(704)](t[s(569)]),this[s(799)].copy(this.stateAcceleration),this[s(799)][s(598)](e),t.velocity.add(this[s(799)]),this[s(500)].copy(t.velocity),this[s(897)].copy(this[s(500)]),this.timeScaledVelocity.multiplyScalar(e),t[s(786)].add(this.timeScaledVelocity),t[s(650)]=t[s(650)]+e,t.rotation=t[s(659)]+e*t[s(719)],!0}}class K{static[B(657)](t,e,s){const n=B;return Math.min(Math[n(785)](t,e),s)}static[B(898)](){return performance[B(923)]()/1e3}}class Q{constructor(){this[B(901)]=[]}[B(647)](t){const e=B;this[e(901)][e(611)](t)}update(t,e){const s=B;for(const n of this[s(901)])n[s(773)](t,e)}[B(529)](t){const e=B;if(t>=this[e(901)].length)throw new Error(e(705));return this[e(901)][t]}}const tt=class{constructor(t){this[B(671)]=t}};i=B(839),r=B(805),a=B(726),S(tt,i,new tt("NotStarted")),S(tt,"Running",new tt("Running")),S(tt,r,new tt("Paused")),S(tt,a,new tt(B(726)));let et=tt;class st{constructor(t,e){S(this,o,function(){const t=new A;return function(){const e=It;let s=null;this.transformInitialDirectionInWorldSpace&&(s=t,s[e(704)](this.owner.matrixWorld)[e(583)]()),this[e(866)].calculatingBoundingSphereFromBox()?(this[e(526)][e(506)](this[e(528)],s),this[e(866)][e(791)](this[e(528)])):(this.particleStates[e(626)](this.boundingSphere,s),this.particleSystemRenderer[e(812)](this[e(746)]))}}());const s=B;this.owner=t,this[s(884)][s(617)]=!1,this[s(617)]=!0,this[s(866)]=e,this[s(766)]=!1,this.maximumActiveParticles=0,this[s(854)]=0,this[s(965)]=!0,this[s(939)]=!1,this[s(827)]=null,this.componentContainer=new Q,this.particleStateInitializers=[],this[s(859)]=[],this[s(526)]=null,this[s(592)]=et.NotStarted,this[s(967)]=new Y,this[s(931)]=null,this[s(644)]=!0,this.boundingBox=new I,this.boundingSphere=new(v[s(524)])}[B(966)](t){const e=B;if(this[e(766)])throw new Error(e(942));this[e(620)]=t,this[e(866)]?(this[e(866)][e(831)](this[e(884)]),this[e(866)][e(966)](this.maximumActiveParticles,this[e(965)]),this[e(866)][e(750)](this[e(965)]),this[e(526)]=this[e(866)][e(802)]()):(this[e(526)]=new J,this[e(526)][e(966)](this[e(620)])),this.addParticleStateInitializer(new Z),this[e(818)](new $),this[e(766)]=!0}[B(654)](){return this[B(617)]}setVisibile(t){return this[B(617)]=t}[B(689)](t){this[B(931)]=t}[B(773)](t,e){const s=B;if(this.systemState==et[s(578)]){if(this[s(884)][s(792)](!0),t=null==t||null==t?K[s(898)]():t,e=null==e||null==e?t-this[s(814)]:e,this.emitterInitialized&&this[s(592)]==et[s(578)]){const t=this[s(827)][s(773)](e);t>0&&this[s(586)](t),this[s(764)](e),this.onUpdateCallback&&this.onUpdateCallback(this.activeParticleCount),this[s(958)]()}this.componentContainer[s(773)](t,e),this[s(814)]=t}}render(t,e){const s=B;if(this[s(654)]()&&this[s(866)]){const n=t.autoClear;t[s(630)]=!1,this[s(884)][s(617)]=!0,this[s(884)][s(602)]=!0,this.particleSystemRenderer[s(702)](this[s(884)],t,e),this[s(884)][s(617)]=!1,t[s(630)]=n}}[B(892)](){const t=B;this.systemState!=et[t(839)]&&this[t(592)]!=et.Paused||(this.systemState=et[t(578)],this.startTime=K[t(898)](),this.lastUpdateTime=this.startTime)}pause(){const t=B;this[t(592)]==et.Running&&(this[t(592)]=et[t(805)])}[B(888)](){}[B(880)](){return this[B(592)]}[B(686)](t){const e=B;return this.particleEmitter=t,this[e(827)].maximumActiveParticles=this.maximumActiveParticles,this[e(939)]=!0,this[e(827)]}[B(647)](t){const e=B;this[e(849)][e(647)](t)}[B(529)](t){const e=B;return this.componentContainer[e(529)](t)}[B(516)](t){return this[B(795)].push(t),t}[B(775)](){const t=B;return this[t(795)][t(941)]}getParticleStateInitializer(t){const e=B;if(t>=this[e(795)][e(941)])throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this[e(795)][t]}addParticleStateOperator(t){const e=B;return this.particleStateOperators[e(611)](t),t}getParticleStateOperatorCount(){const t=B;return this[t(859)][t(941)]}[B(599)](t){const e=B;if(t>=this[e(859)][e(941)])throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(859)][t]}[B(798)](){return this.maximumActiveParticles}[B(817)](){return this[B(854)]}[B(723)](t){const e=B;if(t>=this[e(854)])throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this.particleStates[e(949)](t)}[B(876)](){return this[B(526)]}[B(721)](){return this[B(866)]}[B(877)](){return this.simulateInWorldSpace}[B(750)](t){const e=B;this[e(965)]=t,this[e(866)]&&this[e(866)].setSimulateInWorldSpace(this[e(965)])}[B(710)](t){this.transformInitialDirectionInWorldSpace=t}[B(582)](t,e,s=0){this.particleSequences.addSequence(t,e,s)}[B(559)](){return this[B(967)]}[B(855)](){return this[B(827)]}[(o=B(958),B(586))](t){const e=B;if(this[e(592)]==et.Running){const s=K[e(657)](this.activeParticleCount+t,0,this[e(620)]);for(let t=this[e(854)];t<s;t++)this.activateParticle(t);this[e(854)]=s,this[e(526)][e(753)](this[e(854)])}}[B(579)](t){const e=B;if(this[e(592)]==et[e(578)]){const s=this[e(526)][e(949)](t);s.age=0;for(let t=0;t<this.particleStateInitializers.length;t++){this[e(795)][t][e(616)](s)}if(this[e(965)]){s[e(786)][e(513)](this[e(884)][e(781)]);const t=s[e(669)][e(941)]();if(this[e(644)]){s[e(669)][e(556)](this[e(884)][e(781)])[e(598)](t);const n=s[e(569)][e(941)]();s[e(569)][e(556)](this[e(884)][e(781)])[e(598)](n)}}this[e(526)][e(806)](t)}}[B(764)](t){const e=B;if(this[e(592)]==et[e(578)]){let s=0;for(;s<this.activeParticleCount;){this[e(674)](s,t)?s++:(s<this[e(854)]-1&&this[e(878)](this[e(854)]-1,s),this[e(854)]--)}this[e(526)][e(753)](this[e(854)])}}[B(674)](t,e){const s=B;if(this.systemState==et[s(578)]){const n=this[s(526)].getState(t);for(let t=0;t<this.particleStateOperators[s(941)];t++){const i=this[s(859)][t][s(557)](n,e),r=n[s(902)];if(!i||0!=r&&n.age>=r)return!1}return this[s(526)].flushParticleStateToBuffers(t),!0}return!1}[B(878)](t,e){const s=B;this[s(526)].copyState(t,e),this.particleStates[s(806)](e)}static[B(699)](t,e,s){const n=B,i=(t,e,s)=>{const n=It;e(t);for(const r in t)if(t[n(957)](r)){const s=t[r];"object"==typeof s&&i(s,e)}};i(t,(t=>{const s=It;t.type&&(t[s(590)]=e[s(522)](t[s(590)]))}));const r=t[n(717)],a=t.simulateInWorldSpace,o=t[n(767)],c=o[n(590)].fromJSON(o[n(501)]),h=new(v[n(774)]),l=new st(h,c,s);l[n(966)](r),l.setSimulateInWorldSpace(a);const u=t[n(551)],p=u[n(590)].fromJSON(u.params);if(l[n(686)](p),t[n(680)])for(const f of t.sequences)l.addParticleSequence(f[n(892)],f[n(941)],f.id);if(t[n(755)])for(const f of t[n(755)])l[n(516)](f[n(590)][n(699)](l,f[n(501)]));if(t[n(811)])for(const f of t.operators){const t=l.addParticleStateOperator(f.type[n(699)](l,f[n(501)]));f.elements&&t[n(517)](f[n(588)])}return[l,h]}[B(520)](t){const e=B,s=this.getParticleSystemRenderer(),n=this[e(855)](),i=this[e(559)](),r=i[e(824)]()[e(645)]((t=>{const s=e,n=i[s(899)](t);return{id:t,start:n[s(892)],length:n[s(941)]}})),a=[],o=this[e(775)]();for(let l=0;l<o;l++){const s=this[e(968)](l);s[e(821)]!==Z&&a[e(611)]({type:t[e(661)](s[e(821)]),params:s[e(520)](t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this[e(599)](l);if(s[e(821)]!==$){const n=s[e(520)](t),i=n.params||n,r=n[e(501)]?n.elements:null,a={type:t[e(661)](s[e(821)]),params:i};r&&(a[e(588)]=r),c[e(611)](a)}}return{maxParticleCount:this.getMaximumActiveParticles(),simulateInWorldSpace:this[e(877)](),renderer:{type:t.getTypePath(s[e(821)]),params:s[e(520)]()},emitter:{type:t.getTypePath(n.constructor),params:n[e(520)]()},sequences:r,initializers:a,operators:c}}}class nt{constructor(){const t=B;this[t(715)]=[],this.startupTime=performance[t(923)]()/1e3,this[t(814)]=this.startupTime,this[t(849)]=new Q}[B(773)](){const t=B,e=K[t(898)](),s=e-this[t(814)];for(const n of this[t(715)])n.update(e,s);this[t(849)][t(773)](e,s),this[t(814)]=e}[B(702)](t,e){const s=B;for(const n of this.particleSystems)n[s(702)](t,e)}[B(564)](t){const e=B;this[e(715)][e(611)](t)}[B(647)](t){this.componentContainer.addComponent(t)}[B(529)](t){const e=B;return this.componentContainer[e(529)](t)}}class it{constructor(){const t=B;this[t(766)]=!1,this[t(740)]=0,this.owner=null,this[t(965)]=!1}[B(750)](t){this[B(965)]=t}[B(802)](){}[B(831)](t){this[B(884)]=t}[B(966)](t){const e=B;if(this[e(740)]=t,!this[e(766)])return this[e(766)]=!0,!0;throw new Error(e(938))}[B(702)](){}}class rt extends J{constructor(){const t=B;super(),this[t(587)]=null,this[t(646)]=null,this.lifetimes=null,this[t(796)]=null,this[t(770)]=null,this.positions=null,this[t(664)]=null,this[t(969)]=null,this.normals=null,this[t(504)]=null,this[t(600)]=null,this[t(745)]=null,this.colors=null,this.initialSizes=null,this[t(612)]=null,this[t(527)]=!1,this[t(944)]=6}[B(966)](t,e=!1){const s=B;this[s(527)]=e,this[s(527)]?this[s(944)]=1:this[s(944)]=6,super[s(966)](t),this[s(709)](t)}setParticleCount(t){super[B(633)](t)}[B(753)](t){const e=B;super[e(753)](t),t>0?this[e(527)]?this[e(587)].instanceCount=t:this[e(587)][e(788)](0,this[e(944)]*t):this.instanced?this[e(587)][e(760)]=0:this[e(587)][e(788)](0,0)}flushParticleStateToBuffers(t){const e=B;if(t>=this.particleCount)throw new Error(e(778));const s=this[e(949)](t),n=t*this[e(944)];for(let i=0;i<this.verticesPerParticle;i++)this[e(920)][e(847)](n+i,s[e(902)]),this[e(920)][e(956)]=!0,this[e(796)][e(847)](n+i,s[e(650)]),this.ages[e(956)]=!0,this[e(770)][e(752)](n+i,s[e(763)].x,s[e(763)].y,s[e(763)].z,s[e(763)].w),this.sequenceElements[e(956)]=!0,this.positions[e(685)](n+i,s.position.x,s.position.y,s.position.z),this[e(741)][e(956)]=!0,this[e(664)][e(685)](n+i,s[e(669)].x,s[e(669)].y,s[e(669)].z),this[e(664)][e(956)]=!0,this[e(969)][e(685)](n+i,s.acceleration.x,s.acceleration.y,s[e(569)].z),this[e(969)][e(956)]=!0,this[e(900)][e(685)](n+i,s.normal.x,s[e(962)].y,s[e(962)].z),this[e(900)].needsUpdate=!0,this[e(504)][e(847)](n+i,s[e(659)]),this[e(504)][e(956)]=!0,this[e(600)][e(847)](n+i,s.rotationalSpeed),this.rotationalSpeeds.needsUpdate=!0,this[e(745)].setXY(n+i,s.size.x,s.size.y),this.sizes.needsUpdate=!0,this[e(716)][e(685)](n+i,s.color.r,s.color.g,s.color.b),this[e(716)][e(956)]=!0,this[e(865)].setX(n+i,s[e(547)]),this[e(865)].needsUpdate=!0,this[e(864)][e(742)](n+i,s[e(672)].x,s[e(672)].y),this[e(864)].needsUpdate=!0,this[e(697)][e(847)](n+i,s[e(761)]),this[e(697)][e(956)]=!0}[B(813)](t,e){const s=B;super[s(813)](t,e),this[s(806)](e)}[B(926)](t,e){const s=B;if(t>=this[s(740)])throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super.setState(t,e),this[s(806)](t)}getPositions(){return this[B(741)]}[B(872)](){return this[B(745)]}[B(971)](){return this[B(504)]}[B(663)](){return this[B(770)]}getColors(){return this.colors}[B(932)](){return this[B(587)]}[B(709)](t){const e=B;super[e(709)](t);const s=(t,s)=>{const n=e;return this[n(527)]?new(v[n(921)])(t,s):new(v[n(835)])(t,s)},n=this[e(944)]*this[e(740)];if(this[e(527)]){const t=new(v[e(916)]),s=new Float32Array(18);this[e(961)]=new(v[e(835)])(s,3),t[e(606)]("position",this[e(961)]),this.basePositions[e(956)]=!0,this[e(961)][e(685)](0,-1,1,0),this[e(961)][e(685)](1,-1,-1,0),this[e(961)][e(685)](2,1,1,0),this[e(961)][e(685)](3,-1,-1,0),this[e(961)][e(685)](4,1,-1,0),this[e(961)][e(685)](5,1,1,0);const n=new Float32Array(12);this[e(508)]=new(v[e(835)])(n,2),t.setAttribute(e(693),this[e(508)]),this[e(508)][e(956)]=!0,this.baseUVs[e(742)](0,0,1),this.baseUVs[e(742)](1,0,0),this.baseUVs[e(742)](2,1,1),this[e(508)][e(742)](3,0,0),this[e(508)][e(742)](4,1,0),this.baseUVs.setXY(5,1,1);const i=new Float32Array(6);this[e(604)]=new(v[e(835)])(i,1),t[e(606)](e(922),this[e(604)]),this[e(604)][e(956)]=!0,this[e(604)][e(847)](0,0),this[e(604)][e(847)](1,1),this[e(604)][e(847)](2,3),this[e(604)][e(847)](3,1),this[e(604)][e(847)](4,2),this[e(604)][e(847)](5,3),this.geometry=(new(v[e(736)]))[e(704)](t),this[e(587)][e(760)]=0}else{this.geometry=new(v[e(916)]);const t=new Float32Array(n);this[e(604)]=new(v[e(835)])(t,1),this[e(587)].setAttribute("customIndex",this[e(604)]),this[e(604)].needsUpdate=!0;for(let s=0;s<this[e(740)];s++){const t=s*this[e(944)];this[e(604)][e(847)](t,0),this[e(604)][e(847)](t+1,1),this.customIndexes[e(847)](t+2,3),this[e(604)][e(847)](t+3,1),this[e(604)].setX(t+4,2),this[e(604)][e(847)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),f=new Float32Array(2*n),m=new Float32Array(3*n),d=new Float32Array(n),g=new Float32Array(2*n),w=new Float32Array(3*n),S=new Float32Array(n);this[e(741)]=s(o,3),this.positions.setUsage(v[e(867)]),this[e(587)][e(606)](e(511),this.positions),this[e(920)]=s(i,1),this.lifetimes[e(937)](F),this[e(587)].setAttribute(e(902),this[e(920)]),this[e(796)]=s(r,1),this[e(796)][e(937)](v[e(867)]),this[e(587)][e(606)](e(650),this[e(796)]),this[e(770)]=s(a,4),this[e(770)][e(937)](F),this[e(587)][e(606)](e(763),this[e(770)]),this[e(664)]=s(c,3),this[e(664)][e(937)](v[e(867)]),this[e(587)].setAttribute("velocity",this.velocities),this[e(969)]=s(h,3),this.accelerations[e(937)](v[e(867)]),this[e(587)][e(606)](e(569),this[e(969)]),this[e(900)]=s(l,3),this[e(900)].setUsage(v[e(867)]),this.geometry[e(606)]("normal",this[e(900)]),this.rotations=s(u,1),this.rotations.setUsage(v[e(867)]),this.geometry[e(606)](e(659),this[e(504)]),this[e(600)]=s(p,1),this.rotationalSpeeds[e(937)](v[e(867)]),this[e(587)][e(606)]("rotationalSpeed",this.rotationalSpeeds),this[e(745)]=s(f,2),this[e(745)][e(937)](v[e(867)]),this[e(587)][e(606)](e(591),this[e(745)]),this[e(716)]=s(m,3),this[e(716)].setUsage(v[e(867)]),this[e(587)][e(606)](e(618),this.colors),this[e(865)]=s(d,1),this[e(865)].setUsage(v[e(867)]),this[e(587)].setAttribute("alpha",this[e(865)]),this.initialSizes=s(g,2),this[e(864)].setUsage(v[e(867)]),this.geometry[e(606)](e(672),this[e(864)]),this.initialColors=s(w,3),this.initialColors.setUsage(F),this[e(587)][e(606)](e(655),this[e(612)]),this[e(697)]=s(S,1),this[e(697)][e(937)](v[e(867)]),this[e(587)][e(606)](e(761),this.initialAlphas)}[B(895)](){const t=B;super[t(895)](),this[t(587)]&&(this[t(587)][t(895)](),this.geometry=null)}}class at{constructor(t,e,s,n,i){this[B(941)]=t,this.x=e,this.y=s,this.width=n,this.height=i}}class ot{constructor(t,e){const s=B;this[s(523)]=t,this[s(816)]=e,this[s(634)]=[]}[B(870)](){return this[B(523)]}[B(851)](){return this[B(816)]}[B(580)](){const t=B;return this.frameSets[t(941)]}[B(886)](t,e,s,n,i){this[B(634)].push(new at(t,e,s,n,i))}[B(629)](t){const e=B;if(t>=this[e(634)][e(941)])throw new Error(e(643));return this[e(634)][t]}}const ct=class t extends it{constructor(t,e,s=!1,n=v[B(873)],i=!0,r){const a=B;super(),S(this,c,function(){const t=B,e=new(v[t(701)]);return function(){const s=t,n=this[s(607)].getGeometry();if(this[s(751)]){n[s(528)]||(n.boundingBox=new(v[s(635)])),n[s(528)].copy(this[s(528)]),!n[s(746)]&&(n[s(746)]=new b),e.x=(this[s(528)][s(610)].x+this[s(528)][s(785)].x)/2,e.y=(this[s(528)][s(610)].y+this[s(528)][s(785)].y)/2,e.z=(this[s(528)][s(610)].z+this[s(528)].max.z)/2;const t=this[s(528)][s(785)].x-e.x,i=this[s(528)].max.y-e.y,r=this[s(528)][s(785)].z-e.z,a=Math.max(Math[s(785)](t,i),r);n[s(746)][s(673)][s(704)](e),n.boundingSphere[s(780)]=Math[s(797)](2*a*a)}else n[s(746)]||(n.boundingSphere=new(v[s(524)])),n.boundingSphere.copy(this[s(746)])}}()),this.instanced=t,this.particleStateArray=null,this[a(933)]=null,this[a(732)]=null,this[a(597)]=e,this[a(530)]=s,this[a(531)]=n,this[a(528)]=new(v[a(635)]),this.boundingSphere=new b,this[a(751)]=i,this.renderOrder=r}setOwner(t){super[B(831)](t)}[B(802)](){return this[B(607)]}[B(750)](t){const e=B;super.setSimulateInWorldSpace(t),this[e(933)]&&(this[e(933)][e(832)].simulateInWorldSpace.value=t?1:0,this[e(933)].uniformsNeedUpdate=!0)}calculatingBoundingSphereFromBox(){return this[B(751)]}[B(791)](t){const e=B;this.boundingBox[e(704)](t),this.mesh&&this.updateMeshBounds()}[B(812)](t){const e=B;this[e(746)][e(704)](t),this[e(732)]&&this[e(823)]()}[B(702)](t,e,s){e[B(702)](t,s)}init(t){const e=B;super[e(966)](t)&&(this.particleStateArray=new rt,this[e(607)][e(966)](t,this[e(527)]),this[e(933)]=this.createMaterial(null,null,null,!0,!1),this[e(933)][e(531)]=this[e(531)],this[e(732)]=new(v[e(619)])(this[e(607)].getGeometry(),this[e(933)]),this[e(732)][e(739)]=!0,void 0!==this[e(570)]&&(this[e(732)][e(570)]=this[e(570)]),this[e(823)](),this[e(884)].add(this[e(732)]))}dispose(){const t=B;this.particleStateArray[t(895)]()}[(c=B(823),B(846))](e,s,n,i,r){const a=B,o=[...Array(16).keys()][a(645)]((t=>new(v[a(687)])));if(this[a(597)])for(let t=0;t<this[a(597)][a(580)]();t++){const e=this[a(597)][a(629)](t);o[t]=new(v[a(687)])(e.x,e.y,e[a(681)],e[a(720)])}const c=this[a(597)]?this.atlas[a(870)]():null,h=this[a(530)],l=this[a(965)],u=this[a(527)]?1:0,p={atlasFrameSet:{type:"v4v",value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(v[a(694)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(830)](n,p),e=e||t[a(810)][a(737)](r),s=s||t.Shader[a(649)](i,r),new(v[a(950)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:v[a(873)],blendDstAlpha:v[a(594)],blendSrcAlpha:v[a(536)],depthTest:!0,depthWrite:!1})}static[(h=B(810),B(699))](e){const s=B,n=e[s(597)],i=(new z).load(n[s(816)]),r=new ot(i,n[s(816)]),a=n[s(595)];for(const t of a)r.addFrameSet(t.length,t.x,t.y,t.width,t[s(720)]);const o=new t(e[s(527)],r,n[s(682)]);return e[s(531)]==s(765)?o[s(531)]=v[s(603)]:o[s(531)]=v[s(873)],o}toJSON(t){const e=B;t=t||(t=>{const e=It;if(t[e(816)])return t.texturePath;const s=t[e(870)]()[e(560)];if(s){const t=s.data;if(t){const s=t.baseURI,n=t[e(934)];return n[e(907)](s)>=0?n[e(841)](s[e(941)],n.length-s[e(941)]):n}}});const s=[];for(let i=0;i<this[e(597)][e(580)]();i++){const t=this[e(597)].getFrameSet(i);s.push(t)}let n="Normal";this[e(933)][e(531)]===v[e(603)]&&(n=e(765));return{instanced:this[e(527)],blending:n,atlas:{interpolateFrames:this[e(530)],texturePath:t(this[e(597)]),framesets:s}}}};S(ct,h,{get VertexVars(){const t=B;return[t(860),t(625),t(882),t(622),"uniform int instanced; \n","attribute vec2 baseUV;\n","attribute float customIndex;\n","attribute vec4 particlePosition;\n",t(836),t(542),t(874),t(809),t(915),t(653),t(954),t(807),t(924),"varying float vSequenceElementT; \n"][t(787)]("\n")},get FragmentVars(){const t=B;return[t(882),t(776),t(837),"varying vec2 vUV1;\n","varying vec2 vUV2;\n",t(807),"varying float vFragAlpha;\n",t(815)][t(787)]("\n")},getVertexShader(t){const e=B;let s=[e(844),this[e(711)]][e(787)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=[e(845),e(838),e(848),e(514),e(713),e(708),e(510),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(853),"   int nRowSequenceElement = sequenceElement - firstRowSections; \n","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(546),e(534),e(885),e(545),e(558),e(540),e(850),"} \n","void main()\n","{\n",e(842),e(943),e(768),e(636),e(698),e(913),e(875),e(573),e(801),e(575),e(777),e(688),e(667),e(584),e(754),e(731),"   int sequenceStart = int(sequenceElement.z);\n",e(728),e(852),"   vec2 uv1; \n",e(566),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(696),"   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n",e(571),e(565),e(925),e(584),"   float atlasFrameWidth = atlasFrames.z; \n",e(848),"   float rotMag = rotation; \n",e(959),"   float rightSide; \n",e(651),e(951),"       rightSide = step(2.0, customIndex); \n",e(703),e(576),e(658),e(833),e(749),e(584),e(549),"   float uvYOffset = atlasFrameHeight * upperSide; \n",e(856),e(951),e(804),e(963),"       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(568),"       float dRightV = rotVecStep.w - rotVecStep.z; \n",e(656),"   }  else { \n","       rotVec = position.xy; \n ","   } \n","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n",e(762),e(675),e(683),e(572)][e(787)]("\n"),t&&(s+=e(952)),s+=e(554),s},getFragmentShader(t,e){const s=B;let n="#include <common> \n"+this[s(819)]+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+="void main() { \n",e&&(n+="    \n  #include <logdepthbuf_fragment> \n"),n+=t?[s(521),"   vec4 color2 = color1; \n",s(700),s(917),s(624)][s(787)]("\n"):[s(883),s(608),s(700),s(917),"   gl_FragColor.a *= vFragAlpha; \n"].join("\n"),n+="}\n",n}});let ht=ct;class lt{constructor(){const t=B;this.emissionRelativeStartTime=0,this.emissionDuration=0,this[t(679)]=0,this.age=0,this[t(533)]=0,this.activeCount=0,this[t(620)]=0}[B(773)](t){return this[B(919)](t),0}internalUpdate(t){const e=B;return this.age+=t,this[e(533)]=Math.max(this[e(650)]-this.emissionRelativeStartTime,0),this[e(650)]>=this.emissionRelativeStartTime&&(0==this[e(727)]||this[e(533)]<=emissionDuration)}[B(642)](t){this[B(679)]+=t}}class ut extends lt{constructor(){const t=B;super(),this[t(743)]=0,this[t(789)]=0}}class pt extends ut{constructor(t=0){const e=B;super(),this[e(947)]=t}update(t){const e=B;if(this[e(919)](t)){const t=this[e(947)]*this[e(533)]-this[e(679)];if(t>=1){const s=Math.floor(t);return this[e(642)](s),s}}return 0}static fromJSON(t){const e=B,s=new pt;return s.emissionRate=t[e(947)]||0,s}[B(520)](){return{emissionRate:this[B(947)]}}}const ft=class t{constructor(t){this.name=t}static getTypeID(e){const s=B;let n=t[s(891)];return e===x?n=t[s(694)]:e===P?n=t[s(701)]:e===v[s(687)]?n=t[s(687)]:e===v[s(601)]&&(n=t[s(601)]),n}static loadJSONParameter(t,e){const s=B;switch(e){case v[s(694)]:return(new(v[s(694)]))[s(695)](t);case v[s(701)]:return(new(v[s(701)])).fromArray(t);case T:return(new T).fromArray(t);case v[s(601)]:return(new(v[s(601)])).fromArray(t)}return t}};l=B(891),u=B(694),p=B(701),f=B(601),S(ft,l,new ft("Default")),S(ft,u,new ft("Vector2")),S(ft,p,new ft(B(701))),S(ft,"Vector4",new ft(B(687))),S(ft,f,new ft(B(601)));let mt=ft;class dt{constructor(t){const e=B;this[e(772)]=t,this[e(784)]=mt[e(800)](t)}}class gt extends dt{constructor(t,e,s,n,i,r){const a=B;super(t),this.range=e,this.offset=s,this[a(929)]=n,this[a(909)]=i,this[a(691)]=r}[B(609)](t){const e=B,s=Math[e(733)]()*this.uniformRange;switch(this[e(784)]){case mt[e(891)]:t=Math.random()*this[e(794)]+this[e(722)],this.normalize&&(t=t<0?-1:1);break;case mt[e(694)]:t[e(641)](this.generateForElement(s,"x"),this[e(518)](s,"y"));break;case mt.Vector3:t.set(this[e(518)](s,"x"),this.generateForElement(s,"y"),this[e(518)](s,"z"));break;case mt[e(687)]:t[e(641)](this.generateForElement(s,"x"),this[e(518)](s,"y"),this.generateForElement(s,"z"),this[e(518)](s,"w"))}return this.normalize&&t[e(691)](),t}[B(518)](t,e){const s=B;return t+Math.random()*this[s(794)][e]+this[s(722)][e]+this.uniformOffset}clone(){const t=B;return new gt(this[t(772)],this[t(794)],this[t(722)],this[t(929)],this.uniformOffset,this[t(691)])}static[B(964)](t){const e=B;return t instanceof v[e(694)]||t instanceof v[e(701)]||t instanceof v[e(687)]||t instanceof v[e(601)]?t[e(660)]():t}static[B(699)](t){const e=B;return new gt(t[e(590)],mt[e(632)](t[e(794)],t.type),mt[e(632)](t.offset,t[e(590)]),t[e(929)]||0,t[e(909)]||0,t.normalize)}[B(520)](t){const e=B,s={range:gt.getParameterJSON(this[e(794)]),offset:gt.getParameterJSON(this[e(722)]),uniformRange:this[e(929)],uniformOffset:this.uniformOffset},n=t[e(661)](this[e(794)].constructor);return null!=n&&(s[e(590)]=n),{type:t.getTypePath(gt),params:s}}}class wt extends L{constructor(t,e,s,n,i){const r=B;super(),this.range=t,this.offset=e,this[r(929)]=s,this[r(909)]=n,this.normalize=i,this.generator=new gt(0,this[r(794)],this[r(722)],this[r(929)],this[r(909)],this[r(691)])}[B(616)](t){const e=B;t.lifetime=this[e(503)].generate()}static[B(699)](t,e){const s=B;return new wt(e.range,e[s(722)],e[s(929)],e[s(909)],e.normalize)}toJSON(){const t=B;return{range:this[t(794)],offset:this[t(722)],uniformRange:this[t(929)],uniformOffset:this[t(909)],normalize:this.normalize}}}class St extends L{constructor(t){const e=B;super(),this.generator=t[e(537)]()}[B(616)](t){const e=B;t[e(659)]=this.generator[e(609)](t[e(659)])}static[B(699)](t,e){const s=B,n=e.generator[s(590)].fromJSON(e[s(503)][s(501)]);return new St(n)}[B(520)](t){return{generator:this.generator.toJSON(t)}}}class yt extends L{constructor(t,e,s,n,i){const r=B;super(),this.range=t,this[r(722)]=e,this.uniformRange=s,this.uniformOffset=n,this[r(691)]=i,this[r(503)]=new gt(0,this.range,this[r(722)],this.uniformRange,this.uniformOffset,this[r(691)])}[B(616)](t){const e=B;t.rotationalSpeed=this[e(503)].generate()}static[B(699)](t,e){const s=B;return new yt(e.range,e[s(722)],e[s(929)],e[s(909)],e[s(691)])}[B(520)](){const t=B;return{range:this[t(794)],offset:this[t(722)],uniformRange:this[t(929)],uniformOffset:this[t(909)],normalize:this.normalize}}}class vt extends L{constructor(t,e){const s=B;super(),this.randomGenerator=new gt(v[s(701)],t,e,0,0,!1)}[B(616)](t){const e=B;this[e(581)][e(609)](t[e(786)])}static[B(699)](t,e){const s=B;return new vt((new P)[s(695)](e[s(794)]),(new(v[s(701)]))[s(695)](e.offset))}[B(520)](){const t=B;return{range:this[t(581)][t(794)].toArray(),offset:this[t(581)][t(722)][t(660)]()}}}class xt extends L{constructor(t){const e=B;super(),this[e(503)]=t[e(537)]()}[B(616)](t){const e=B;this[e(503)][e(609)](t[e(591)]),t[e(672)][e(704)](t[e(591)])}static[B(699)](t,e){const s=B,n=e[s(503)].type[s(699)](e.generator.params);return new xt(n)}[B(520)](t){const e=B;return{generator:this.generator[e(520)](t)}}}class Pt extends L{constructor(t,e,s,n,i=!0){const r=B;super(),this.directionGenerator=new gt(v[r(701)],t,e,0,0,!0),this[r(735)]=new gt(0,s,n,0,0,!1),this.normalizeDirection=i}[B(616)](t){const e=B;this.directionGenerator[e(609)](t[e(669)]),this[e(757)]&&t.velocity[e(691)](),t.velocity.multiplyScalar(this.speedGenerator[e(609)]())}static[B(699)](t,e){const s=B;return new Pt((new(v[s(701)])).fromArray(e[s(794)]),(new P)[s(695)](e[s(722)]),e[s(894)],e[s(905)])}[B(520)](){const t=B;return{range:this[t(593)][t(794)][t(660)](),offset:this[t(593)][t(722)][t(660)](),speedRange:this.speedGenerator[t(794)],speedOffset:this[t(735)][t(722)]}}}function It(t,e){const s=G();return(It=function(t,e){return s[t-=500]})(t,e)}class At extends L{constructor(t,e=!1){const s=B;super(),this[s(589)](t),this[s(881)]=e}[B(589)](t){this[B(967)]=t}[B(616)](t){const e=B,s=this.particleSequences.getSequenceIDs(),n=s[e(941)]*Math[e(733)](),i=s[Math[e(927)](n)],r=this[e(967)][e(899)](i),a=t[e(763)];this[e(881)]?a.x=r.length-1:a.x=r[e(892)],a.y=r.id,a.z=r[e(892)],a.w=r[e(941)],t.progressType=W[e(670)]}static[B(699)](t,e){return new At(t.getParticleSequences(),e.reverse)}[B(520)](){return{reverse:this[B(881)]}}}class Ft extends H{constructor(t,e,s=!1,n=!1){const i=B;super(),this[i(967)]=t,this[i(857)]=e,this[i(829)]=s,this[i(881)]=n}updateState(t,e){const s=B,n=t[s(763)],i=this[s(967)][s(899)](n.y),r=e/this[s(857)];if(this[s(881)]){if(n.x-=r,n.x<i[s(892)]&&(n.x=i[s(892)]+i[s(941)],!this[s(829)]))return!1}else if(n.x+=r,n.x>=i[s(892)]+i[s(941)]&&(n.x=i[s(892)],!this.loop))return!1;return!0}static fromJSON(t,e){const s=B;return new Ft(t[s(559)](),e[s(857)],e[s(829)],e[s(881)])}toJSON(){const t=B;return{speed:this[t(857)],loop:this[t(829)],reverse:this.reverse}}}class bt{constructor(t,e){S(this,m,function(){const t=B,e={lowerIndex:0,upperIndex:0,localT:0},s=new(v[t(694)]),n=new(v[t(701)]),i=new T,r=new(v[t(601)]),a=s=>(n,i,r,a)=>{const o=t;bt[o(783)](r,n,e),s.copy(i[e[o(890)]]).multiplyScalar(e.localT),a[o(704)](i[e[o(535)]]).multiplyScalar(1-e[o(779)])[o(555)](s)};return function(o){const c=t;switch(o){case mt.Default:return(t,s,n)=>{const i=It;return bt.getInterpolationValuesForTValue(n,t,e),(1-e[i(779)])*s[e[i(535)]]+e[i(779)]*s[e[i(890)]]};case mt[c(694)]:return a(s);case mt.Vector3:return a(n);case mt.Vector4:return a(i);case mt[c(601)]:return a(r)}}}());const s=B;this[s(588)]=[],this[s(690)]=[],this[s(970)]=mt[s(800)](t),e?this.interpolator=e:this[s(960)]=this[s(858)](this[s(970)])}*[Symbol[B(532)]](){const t=B;let e=0;for(;e<this[t(544)]();)yield{element:this.elements[e],tValue:this.tValues[e]},e++}[B(544)](){const t=B;return this.elements[t(941)]}getElement(t){const e=B;if(t>=this[e(544)]())throw new Error(e(896));return this[e(588)][t]}[B(820)](t){const e=B;if(t>=this[e(544)]())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this[e(690)][t]}addElement(t,e){const s=B;this[s(588)][s(611)](t),this[s(690)][s(611)](e)}[B(744)](t,e){const s=B;return this[s(960)](t,this[s(588)],this[s(690)],e)}static[(m=B(858),B(783))](t,e,s){const n=B,i=t[n(941)];if(0===i)return s[n(535)]=-1,s[n(890)]=-1,void(s[n(779)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(535)]=K[n(657)](a,0,i-1),s[n(890)]=K[n(657)](o,0,i-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class zt extends H{constructor(t,e=!1){const s=B;super(),this.relativeToInitialValue=e,this[s(758)]=new bt(t)}addElement(t,e){const s=B;this[s(758)][s(725)](t,e)}[B(550)](t){const e=B;for(const s of t)this.interpolationElements[e(725)](s[0],s[1])}[B(668)](t,e){const s=B;for(const n of e){const[...e]=n[0];this[s(758)][s(725)](new t(...e),n[1])}}[B(638)](t,e){const s=B;let n=0;switch(t[s(684)]){case W[s(567)]:n=0!=t.lifetime?t.age/t[s(902)]:t.age;break;case W[s(670)]:n=t[s(763)].x/t[s(763)].w}return this[s(758)][s(744)](n,e)}}class Tt extends zt{constructor(t=!1){super(0,t)}[B(517)](t){super[B(550)](t)}updateState(t){const e=B;return this[e(512)]?t[e(547)]=t[e(761)]*this[e(638)](t,t[e(547)]):t[e(547)]=this[e(638)](t,t[e(547)]),!0}static[B(699)](t,e){return new Tt(e[B(512)])}[B(520)](){const t=B;return{params:{relativeToInitialValue:this[t(512)]},elements:[...this.interpolationElements].map((e=>[e[t(871)],e.tValue]))}}}class Et extends zt{constructor(t=!1){super(v[B(694)],t),S(this,d,function(){const t=B,e=new(v[t(694)]);return function(s){const n=t;return this[n(638)](s,e),this[n(512)]?s[n(591)][n(641)](s[n(672)].x*e.x,s[n(672)].y*e.y):s[n(591)][n(704)](e),!0}}())}[B(517)](t){const e=B;super[e(668)](v[e(694)],t)}static[(d=B(557),B(699))](t,e){return new Et(e[B(512)])}[B(520)](){const t=B;return{params:{relativeToInitialValue:this[t(512)]},elements:[...this.interpolationElements][t(645)]((e=>[e[t(871)].toArray(),e[t(868)]]))}}}const Ot=class t extends zt{constructor(t=!1){super(E,t),S(this,g,function(){const t=B,e=new(v[t(601)]);return function(s){const n=t;return this[n(638)](s,e),this[n(512)]?s[n(618)][n(505)](s[n(655)].r*e.r,s[n(655)].g*e.g,s[n(655)].b*e.b):s.color[n(704)](e),!0}}())}[B(517)](t){const e=B;super.addElementsFromElementClassAndParameters(v[e(601)],t)}static fromJSON(e,s){return new t(s[B(512)])}toJSON(){const t=B;return{params:{relativeToInitialValue:this[t(512)]},elements:[...this.interpolationElements][t(645)]((e=>[e[t(871)][t(660)](),e[t(868)]]))}}};g=B(557);let Rt=Ot;class Vt extends H{constructor(t){const e=B;super(),this[e(503)]=t[e(537)]()}[B(517)](t){super[B(668)](THREE.Vector3,t)}[B(557)](t){const e=B;return this[e(503)][e(609)](t.acceleration),!0}static[B(699)](t,e){const s=B,n=e.generator[s(590)][s(699)](e[s(503)][s(501)]);return new Vt(n)}toJSON(t){const e=B;return{generator:this[e(503)][e(520)](t)}}}class Ct extends dt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=B;super(v[p(701)]),this[p(945)]=t,this[p(914)]=e,this.rangePhi=s,this.offsetPhi=n,this[p(562)]=i,this.offsetRadius=r,this.scaleX=a,this.scaleY=o,this[p(541)]=c,this.offsetX=h,this[p(826)]=l,this[p(712)]=u,this[p(738)]=(new(v[p(701)]))[p(641)](0,1,0)}[B(609)](t){const e=B;this.tempUp[e(641)](0,1,0);const s=Math[e(733)]()*this[e(945)]+this[e(914)],n=Math[e(733)]()*this[e(614)]+this[e(906)],i=Math[e(756)](s),r=Math[e(519)](s),a=Math.cos(n),o=Math.sin(n);t[e(641)](i,0,-r),t[e(598)](a),this.tempUp.multiplyScalar(o),t[e(555)](this[e(738)]),t[e(691)]();const c=Math.random()*this[e(562)]+this.offsetRadius;t[e(598)](c),t.x*=this[e(946)],t.y*=this[e(574)],t.z*=this[e(541)],t.x+=this[e(677)],t.y+=this[e(826)],t.z+=this[e(712)]}[B(537)](){const t=B;return new Ct(this[t(945)],this.offsetTheta,this[t(614)],this[t(906)],this[t(562)],this[t(793)],this.scaleX,this[t(574)],this[t(541)],this[t(677)],this[t(826)],this.offsetZ)}static fromJSON(t){const e=B;return new Ct(t.rangeTheta,t.offsetTheta,t[e(614)],t.offsetPhi,t[e(562)],t[e(793)],t[e(946)],t[e(574)],t[e(541)],t.offsetX,t[e(826)],t[e(712)])}[B(520)](t){const e=B;return{type:t[e(661)](Ct),params:{rangeTheta:this.rangeTheta,offsetTheta:this[e(914)],rangePhi:this[e(614)],offsetPhi:this.offsetPhi,rangeRadius:this[e(562)],offsetRadius:this[e(793)],scaleX:this.scaleX,scaleY:this[e(574)],scaleZ:this[e(541)],offsetX:this[e(677)],offsetY:this[e(826)],offsetZ:this.offsetZ}}}}class qt{constructor(){}}class Mt extends qt{constructor(t,e,s,n,i,r,a=void 0){const o=B;super(),this[o(884)]=null,this[o(605)]=null,this.lastUpdateTime=performance[o(923)]()/1e3,this[o(543)]=this[o(814)],this[o(936)]=this.lastUpdateTime,this[o(910)]=1,this.nextIntensityAdjuster=1,this[o(538)]=new(v[o(701)]),this.positionAdjuster=new P,this[o(640)]=1,this[o(539)]=2,this[o(834)]=t,this[o(966)](t,e,s,n,i,r,a)}[B(966)](t,e,s,n,i,r,a=void 0){const o=B;this.owner=new(v[o(774)]),t.add(this[o(884)]),n=n||new E,i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(605)]=new(v[o(628)])(16777215,2,0,1),this[o(605)][o(618)][o(704)](n),this.light[o(507)]=i,this[o(605)].decay=r,this[o(605)].castShadow=c,c&&(this.light[o(863)].mapSize[o(681)]=a[o(662)]||512,this.light[o(863)].mapSize[o(720)]=a.mapSize||512,this[o(605)][o(863)][o(621)][o(706)]=a.cameraNear||.5,this[o(605)].shadow.camera[o(935)]=a[o(747)]||500,this[o(605)][o(863)][o(808)]=a.bias||1e-4,this.light[o(863)][o(780)]=a.edgeRadius||1),this[o(884)][o(555)](this[o(605)]),this[o(640)]=e,this.intensityFlux=s,this.light}[B(895)](){const t=B;this.parent[t(908)](this[t(884)])}[B(577)](){return this[B(605)]}[B(553)](t){this[B(640)]=t}update(t){const e=B,s=t-this[e(543)],n=1/8,i=this[e(539)];if(s>n){this[e(543)]=t;let s=1+2*(Math[e(733)]()-.5)*i*n;const r=s-this[e(910)];s=this.lastIntensityAdjuster+r,this[e(910)]=this[e(928)],this[e(928)]=K[e(657)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(910)]+t*this[e(928)];this[e(605)].intensity=i*this[e(640)]}if(t-this[e(936)]>.0625){this[e(936)]=t;const s=t-this[e(814)];this.positionAdjuster.set(Math[e(733)]()-.5,Math[e(733)]()-.5,Math[e(733)]()-.5),this[e(729)][e(598)](s),this[e(729)].add(this.lastPositionAdjuster),this.positionAdjuster.multiplyScalar(.5),this.owner.position[e(704)](this[e(729)]),this[e(538)][e(704)](this[e(729)]),this[e(814)]=t}}}class Nt{constructor(){const t=B;this.jsonTypes={default:{}},this.jsonTypeNames={},this[t(666)]=0}addType(t,e){const s=B;this[s(648)](s(665),t,e)}[B(648)](t,e,s){const n=B;if(!this[n(639)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(639)][t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this.checkAndAddTypeName(s,e,t)&&(this[n(639)][t][e]=s)}addNamespace(t,e){const s=B;if(this[s(639)][t])throw new Error(s(509));this.jsonTypes[t]=e;for(const n in e)if(!e.hasOwnProperty||e.hasOwnProperty(n)){const i=e[n];this[s(561)](i,n,t)}}[B(561)](t,e,s){const n=B;if(typeof t===n(893)){const i=this.typeIDGen++;t[n(790)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}[B(911)](t,e){const s=B;if(!this.jsonTypes[t])throw new Error(s(955));if(!this[s(639)][t][e])throw new Error(s(825));return this[s(639)][t][e]}getTypeNames(t){const e=B;return this[e(623)][t[e(790)]]}[B(661)](t){const e=B,s=this.getTypeNames(t);if(s)return s[e(769)]+"."+s[e(615)]}[B(748)](t){const e=B,s=t.split("."),n=s[0];s[e(692)](0,1);return{namespace:n,typeName:s[e(787)](".")}}[B(522)](t){const e=B,{namespace:s,typeName:n}=this[e(748)](t);return this[e(911)](s,n)}}function Ut(t){function e(t){const s=It;if(typeof t===s(718))return function(t){}[s(821)]("while (true) {}")[s(707)](s(637));1!==(""+t/t)[s(941)]||t%20==0?function(){return!0}[s(821)](s(525)+s(840))[s(613)]("action"):function(){return!1}[s(821)](s(525)+s(840))[s(707)](s(862)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const _t=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Vt,AnimatedSpriteRenderer:ht,Atlas:ot,BaseParticleStateInitializer:Z,BaseParticleStateOperator:$,BoxPositionInitializer:vt,ColorInterpolatorOperator:Rt,ConstantParticleEmitter:pt,FlickerLight:Mt,JSONTypeStore:Nt,LifetimeInitializer:wt,Manager:nt,OpacityInterpolatorOperator:Tt,ParticleStateArray:J,ParticleSystem:st,ParticleSystemState:et,RandomGenerator:gt,RandomVelocityInitializer:Pt,Renderer:it,RotationInitializer:St,RotationalSpeedInitializer:yt,SequenceInitializer:At,SequenceOperator:Ft,SizeInitializer:xt,SizeInterpolatorOperator:Et,SphereRandomGenerator:Ct},Symbol.toStringTag,{value:"Module"})),jt=Xt;!function(t,e){const s=Xt,n=Wt();for(;;)try{if(421424===-parseInt(s(377))/1*(parseInt(s(420))/2)+-parseInt(s(349))/3*(-parseInt(s(376))/4)+-parseInt(s(387))/5+parseInt(s(341))/6+-parseInt(s(411))/7+-parseInt(s(378))/8+-parseInt(s(368))/9*(-parseInt(s(344))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Bt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Bt(this,(function(){const t=Xt,e=new RegExp(t(348)),s=new RegExp(t(380),"i"),n=kt(t(336));e[t(374)](n+t(399))&&s[t(374)](n+t(367))?kt():n("0")}))()}();const Dt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Xt(419)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Wt(){const t=["copy","trace","Manager","call","console","test","Vector3","454676qitsRp","370393ptYoUj","3894040NMKjWa","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","SequenceInitializer","__proto__","return (function() ","exception","info","SequenceOperator","796060IHwRgt","prototype","log","toString","Object3D","add","THREE","AccelerationOperator","RandomVelocityInitializer","stateObject","position","addParticleStateInitializer","chain","start","update","load","addComponent","string","JSONTypeStore","ParticleSystem","addElements","SphereRandomGenerator","addParticleSequence","FlickerLight","2964087nRZQVL","action","while (true) {}","scale","length","AnimatedSpriteRenderer","addNamespace","addParticleStateOperator","apply","2AAMlIg","bind","addParticleSystem","getParticleSequences","ConstantParticleEmitter","init","counter","addFrameSet","LifetimeInitializer","value","2891832mMJUdk","debu","warn","2324130HWsnMj","OpacityInterpolatorOperator","setSimulateInWorldSpace","SizeInitializer","function *\\( *\\)","18peakUl","BoxPositionInitializer","RotationInitializer","table","constructor","render","SizeInterpolatorOperator","Vector2","fireF","Color","addElementsFromParameters","ColorInterpolatorOperator","gger","Atlas","RandomGenerator","setEmitter","Photons",'{}.constructor("return this")( )',"input","27qAzFEB"];return(Wt=function(){return t})()}function Xt(t,e){const s=Wt();return(Xt=function(t,e){return s[t-=333]})(t,e)}Dt(void 0,(function(){const t=Xt;let e;try{e=Function(t(383)+t(366)+");")()}catch(i){e=window}const s=e.console=e[t(373)]||{},n=[t(389),t(343),t(385),t(379),t(384),t(352),t(370)];for(let r=0;r<n[t(415)];r++){const e=Dt[t(353)][t(388)][t(421)](Dt),i=n[r],a=s[i]||e;e[t(382)]=Dt[t(421)](Dt),e[t(390)]=a[t(390)][t(421)](a),s[i]=e}}))();const Jt=C({__name:jt(357),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=jt,s=t,n=new(_t[e(371)]),i=new(_t[e(405)]);i[e(417)](e(393),v),i[e(417)](e(365),_t);const{renderer:r,camera:a,scene:o}=R(),c=new P(...s[e(397)]);n.addParticleSystem(((t,s)=>{const n=e,i=new(v[n(391)]);i[n(397)][n(369)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new z)[n(402)](a),c=new(_t[n(362)])(o,a);c[n(338)](1,0,0,1,1);const h=new ht(!0,c,!0,O),l=new st(i,h,r[n(340)]);l[n(336)](150),l[n(364)](new(_t[n(335)])(6));const u=new(_t[n(363)])(v[n(356)],new(v[n(356)])(0,0),new(v[n(356)])(.15*t,.15*t),0,0,!1);l[n(398)](new(_t[n(339)])(3,1,0,0,!1)),l[n(398)](new(_t[n(347)])(u)),l.addParticleStateInitializer(new vt(new P(.05*t,0,.05*t),new(v[n(375)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new(_t[n(395)])(new P(.4*t,.5*t,.4*t),new(v[n(375)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(418)](new(_t[n(345)]))[n(407)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(418)](new Rt(!0))[n(359)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(_t[n(408)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(_t[n(394)])(p)),l[n(346)](!0),l[n(400)](),l})(s[e(414)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(v[n(391)]);i[n(397)][n(369)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new z)[n(402)](a),c=new ot(o,a);c[n(338)](18,0,0,.125,.25);const h=new(_t[n(416)])(!0,c,!0),l=new(_t[n(406)])(i,h,r[n(340)]);l.init(50),l[n(364)](new(_t[n(335)])(10)),l.addParticleSequence(0,18);const u=l.getParticleSequences();l[n(398)](new wt(0,0,0,0,!1)),l[n(398)](new(_t[n(351)])(new(_t[n(363)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(398)](new yt(1,-1,0,0,!1)),l.addParticleStateInitializer(new(_t[n(347)])(new(_t[n(363)])(v[n(356)],new(v[n(356)])(.25*t,.25*t),new(v[n(356)])(.5*t,.5*t),0,0,!1))),l.addParticleStateInitializer(new(_t[n(350)])(new(v[n(375)])(.05*t,0,.05*t),new(v[n(375)])(-.025*t,0,-.025*t))),l[n(398)](new(_t[n(395)])(new(v[n(375)])(.05*t,.4*t,.05*t),new P(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(398)](new(_t[n(381)])(u)),l.addParticleStateOperator(new(_t[n(386)])(u,.07,!1));l[n(418)](new(_t[n(345)])).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(418)](new(_t[n(355)])(!0))[n(359)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(418)](new(_t[n(360)])(!0))[n(359)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(418)](new Vt(new(_t[n(363)])(v[n(375)],new(v[n(375)])(0,0,0),new(v[n(375)])(0,1.5*t,0),0,0,!1))),l[n(346)](!0),l[n(400)](),l})(s.scale,c)),n[e(333)](((t,s)=>{const n=e,i=new(v[n(391)]);i.position[n(369)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new z)[n(402)](a),c=new(_t[n(362)])(o,a);c[n(338)](16,0,0,212/1024,.25);const h=new ht(!0,c,!0),l=new(_t[n(406)])(i,h,r.value);l[n(336)](20),l[n(364)](new(_t[n(335)])(5)),l[n(409)](0,16);const u=l[n(334)]();l[n(398)](new(_t[n(339)])(0,0,0,0,!1)),l[n(398)](new(_t[n(351)])(new(_t[n(363)])(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new yt(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(398)](new xt(new(_t[n(363)])(v[n(356)],new(v[n(356)])(0,0),new x(0,0),.2*t,.65*t,!1))),l.addParticleStateInitializer(new(_t[n(350)])(new(v[n(375)])(.1*t,0,.1*t),new(v[n(375)])(-.05*t,0,-.05*t))),l[n(398)](new(_t[n(395)])(new P(.02*t,.4*t,.02*t),new(v[n(375)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(398)](new(_t[n(381)])(u)),l.addParticleStateOperator(new(_t[n(386)])(u,.1,!1));l.addParticleStateOperator(new(_t[n(345)]))[n(407)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l.addParticleStateOperator(new(_t[n(355)])(!0))[n(359)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(418)](new(_t[n(360)])(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l.addParticleStateOperator(new Vt(new gt(v[n(375)],new(v[n(375)])(0,0,0),new(v[n(375)])(0,1.5*t,0),0,0,!1))),l[n(346)](!0),l[n(400)](),l})(s.scale,c)),n[e(403)](((t,s=10)=>{const n=e,i=new(v[n(391)]);o[n(340)][n(392)](i),i[n(397)][n(369)](t);return new(_t[n(410)])(i,s,2,(new(v[n(358)])).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=V();return h((()=>{const t=e;n[t(401)](),n[t(354)](r[t(340)],a[t(340)])})),(t,e)=>null}});function kt(t){function e(t){const s=Xt;if(typeof t===s(404))return function(t){}[s(353)](s(413))[s(419)](s(337));1!==(""+t/t)[s(415)]||t%20==0?function(){return!0}.constructor("debugger")[s(372)](s(412)):function(){return!1}[s(353)](s(342)+s(361))[s(419)](s(396)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Yt(){const t=["8IybaDs","constructor","4810192wezePQ","length","toString","3OSAduy","while (true) {}","chain","1684660HSWwoS","__proto__","counter","perspectiveCameraRef","test","pagesShowRef","string","$refs","console","function *\\( *\\)","camera","prototype","log","set","12RyWknP","906076zYmUXQ","return (function() ","input","671768ngXFJK","init","context","table","position","value","tcRef","apply","4350150Tfdjwt","fireF","790531rcXvVa","warn","action",'{}.constructor("return this")( )',"2023950HXWWcn","bind"];return(Yt=function(){return t})()}const Gt=Lt;function Lt(t,e){const s=Yt();return(Lt=function(t,e){return s[t-=123]})(t,e)}!function(t,e){const s=Lt,n=Yt();for(;;)try{if(360681===-parseInt(s(137))/1+-parseInt(s(134))/2*(-parseInt(s(158))/3)+parseInt(s(153))/4*(parseInt(s(161))/5)+-parseInt(s(133))/6*(-parseInt(s(147))/7)+-parseInt(s(155))/8+parseInt(s(145))/9+-parseInt(s(151))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Zt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Zt(this,(function(){const t=Lt,e=new RegExp(t(128)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Kt(t(138));e[t(123)](n+t(160))&&s.test(n+t(136))?Kt():n("0")}))()}();const Ht=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Lt(144)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Ht(void 0,(function(){const t=Lt,e=function(){const t=Lt;let e;try{e=Function(t(135)+t(150)+");")()}catch(s){e=window}return e}(),s=e[t(127)]=e[t(127)]||{},n=[t(131),t(148),"info","error","exception",t(140),"trace"];for(let i=0;i<n[t(156)];i++){const e=Ht[t(154)][t(130)][t(152)](Ht),r=n[i],a=s[r]||e;e[t(162)]=Ht.bind(Ht),e[t(157)]=a[t(157)][t(152)](a),s[r]=e}}))();const $t=C({__name:Gt(146),setup(t){const e=q();return M((()=>{const t=Lt;e[t(142)]&&(e[t(142)][t(126)][t(143)]?e[t(142)][t(126)][t(143)][t(139)][t(129)][t(142)][t(141)].set(580,360,500):e[t(142)][t(126)][t(164)]&&e[t(142)][t(126)].perspectiveCameraRef[t(141)][t(132)](580,360,500))})),(t,s)=>{const n=Lt;return N(),U(y,{ref_key:n(124),ref:e},{ability:_((()=>[j(Jt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Kt(t){function e(t){const s=Lt;if(typeof t===s(125))return function(t){}.constructor(s(159))[s(144)](s(163));1!==(""+t/t)[s(156)]||t%20==0?function(){return!0}[s(154)]("debugger").call(s(149)):function(){return!1}[s(154)]("debugger")[s(144)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{$t as default};
