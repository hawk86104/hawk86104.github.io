import{a as t,B as n,s as e,b_ as r,C as o,k as s,a0 as c}from"./three.YREzp-_G1729505164040.js";import{x as i}from"./@fesjs.ysb1R5mQ1729505164040.js";import{z as a}from"./@tresjs.IsKybBdF1729505164040.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.GSW9toAC1729505164040.js";!function(t,n){const e=g,r=b();for(;;)try{if(693539===-parseInt(e(451))/1*(parseInt(e(445))/2)+parseInt(e(427))/3*(parseInt(e(455))/4)+parseInt(e(448))/5*(parseInt(e(387))/6)+-parseInt(e(410))/7+-parseInt(e(377))/8+parseInt(e(429))/9+-parseInt(e(380))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(442)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(424),"i"),r=_(t(411));n[t(378)](r+"chain")&&e[t(378)](r+t(421))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(442)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=b();return(g=function(t,n){return e[t-=375]})(t,n)}m(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function("return (function() "+t(447)+");")()}catch(e){n=window}return n}(),e=n[t(432)]=n[t(432)]||{},r=[t(436),t(430),t(404),t(381),t(416),t(438),"trace"];for(let o=0;o<r.length;o++){const n=m.constructor[t(443)][t(454)](m),s=r[o],c=e[s]||n;n[t(408)]=m[t(454)](m),n[t(407)]=c[t(407)][t(454)](c),e[s]=n}}))();const h=(n,e=!1)=>{const r=g;n[r(395)]();const{max:o,min:s}=n[r(435)];n.deleteAttribute("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n[r(385)][r(397)][r(426)];t++)e?(a.push((n[r(385)][r(397)][r(405)](t)-(s.x+o.x)/2)/c),a.push((n[r(385)].position.getY(t)-(s.y+o.y)/2)/i)):(a[r(375)]((n[r(385)][r(397)][r(405)](t)-s.x)/c),a[r(375)]((n[r(385)][r(397)].getY(t)-s.y)/i));const u=new Float32Array(a);n[r(420)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=g;i(t,{},{method:o(433),mergeRequest:!0}).then((t=>{const r=o;n&&e(t[n]),e(t[r(449)])}))[o(418)]((t=>{console[o(381)](t),r(t)}))})),y=t=>{const n=g,e=(new(THREE[n(423)]))[n(437)](t),r=new THREE.Vector3;e[n(452)](r),t[n(453)][n(386)]((t=>{t[n(397)].sub(r)})),t[n(397)][n(434)](r[n(391)]())},w=()=>{const t=g;n.prototype.computeBoundsTree=u,n[t(443)][t(389)]=f,e[t(443)][t(439)]=p},x=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(419)].clone();h(i),i[n(390)]();const u=new r(i,{color:new o(n(412)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(440)][n(401)]=!0,u[n(440)][n(425)]=!0,u[n(440)][n(422)]=!0,u.material[n(383)]=c,u.material[n(450)][n(413)][n(441)].w=20,u.material.uniforms[n(403)][n(441)]=.46,u};function b(){const t=["depthTest","Box3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","depthWrite","count","2644386ofEXFt","divideScalar","10551312FMAQbf","warn","debu","console","get","copy","boundingBox","log","setFromObject","table","raycast","material","value","apply","prototype","gger","246yrAWrq","string",'{}.constructor("return this")( )',"45Qzbkbm","features","uniforms","6430RZFIXD","getCenter","children","bind","4vHGeIh","push","getY","2710472wKIYyt","test","applyMatrix4","9549320axWRcp","error","center","side","getSize","attributes","forEach","719220fNMfzA","call","disposeBoundsTree","computeBoundsTree","negate","sub","random","action","computeBoundingBox","add","position","while (true) {}","min","set","transparent","constructor","reflectivity","info","getX","counter","toString","__proto__","deleteAttribute","2481430KUSlyf","init","#fff","config","expandByObject","length","exception","setY","catch","geometry","setAttribute","input"];return(b=function(){return t})()}function I(t){const n=g,e=[];for(let o=0;o<t.length;o++)e[n(375)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e.length;o++)r[n(396)](e[o]);r[n(428)](e[n(415)]);for(let o=0;o<e[n(415)];o++)e[o][n(392)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=g;if(typeof t===e(446))return function(t){}.constructor(e(398)).apply(e(406));1!==(""+t/t)[e(415)]||t%20==0?function(){return!0}[e(402)](e(431)+e(444))[e(388)](e(394)):function(){return!1}[e(402)](e(431)+e(444))[e(442)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,I as g,w as i,d as l,h as r,x as s};
