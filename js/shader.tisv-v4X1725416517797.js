import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.5lh7VmqZ1725416517797.js";import{a6 as i,C as s,V as a}from"./three.VTQVqxMx1725416517797.js";import{P as c}from"./tweakpane.yHWGBmom1725416517797.js";import{L as l}from"./three-subdivide.BeTeQak81725416517797.js";import{d as u,b as f,a2 as p,w as d,o as g,E as m,L as h,aj as v,ak as y,a5 as b,r as w,e as I,f as _,g as x,j as M,u as B,m as S}from"./@vue._6MD2XyK1725416517797.js";import"./@vueuse.L-salR9N1725416517797.js";const j=k;function T(){const n=["stateObject","position","AdditiveBlending","500CGQbyK","8745219hHrEKE","string","error","subVectors","TresShaderMaterial","srcMesh","side","color","console","apply","length","29559anrlZh","4278456LjiUVc","TSGref","subdivision","viewVector","418347UdoFle","value","blending","toString","1767088iWEFHC","init","function *\\( *\\)","attributes","uniforms","exception","test","FrontSide","bind","info","shineShader","glowColor","408dNoIsm","Color","clone",'{}.constructor("return this")( )',"scale","table","chain","call","5412645hspmbc","while (true) {}","debu","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","365157HIQOVn","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","geometry","material","trace","constructor"];return(T=function(){return n})()}!function(n,t){const e=k,o=T();for(;;)try{if(691365===parseInt(e(240))/1+parseInt(e(214))/2+-parseInt(e(261))/3*(parseInt(e(249))/4)+parseInt(e(234))/5+parseInt(e(262))/6+parseInt(e(250))/7+-parseInt(e(226))/8*(parseInt(e(210))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function k(n,t){const e=T();return(k=function(n,t){return e[n-=208]})(n,t)}!function(){C(this,(function(){const n=k,t=new RegExp(n(216)),e=new RegExp(n(238),"i"),o=z(n(215));t[n(220)](o+n(232))&&e[n(220)](o+"input")?z():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(259)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function("return (function() "+n(229)+");")()}catch(e){t=window}return t}(),e=t[n(258)]=t.console||{},o=["log",n(239),n(223),n(252),n(219),n(231),n(244)];for(let r=0;r<o[n(260)];r++){const t=A[n(245)].prototype.bind(A),i=o[r],s=e[i]||t;t.__proto__=A[n(222)](A),t[n(213)]=s[n(213)][n(222)](s),e[i]=t}}))();const F=[j(230)],V=u({__name:j(224),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(221)]},blending:{default:i[j(248)]}},setup(e){const o=j,r=e,c=f(),u={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(227)])(r[o(257)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(241),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(256)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};p((()=>{const n=o;if(r[n(255)]&&!c.value.geometry[n(217)][n(247)]){let t=r[n(255)][n(242)][n(228)]();r[n(208)]&&(t=l.modify(t,2)),c.value[n(242)]=t,c.value.position.copy(r[n(255)].position)}r[n(257)]&&(u[n(218)][n(225)].value=new s(r.color)),r.c&&(u[n(218)].c[n(211)]=r.c),r.p&&(u[n(218)].p[n(211)]=r.p)})),d((()=>r.subdivision),(n=>{const t=o;let e=r[t(255)].geometry[t(228)]();n&&(e=l.modify(e,2)),c[t(211)][t(242)]=e})),d((()=>r[o(256)]),(n=>{const t=o;c[t(211)][t(243)][t(256)]=n})),d((()=>r[o(212)]),(n=>{const t=o;c[t(211)][t(243)].blending=n}));const{onLoop:b}=n(),{camera:w}=t();return b((()=>{const n=o;w[n(211)]&&c.value&&(u[n(218)][n(209)][n(211)]=(new a)[n(253)](w[n(211)][n(247)],c[n(211)][n(247)]))})),(n,t)=>{const e=o;return g(),m("TresMesh",{ref_key:e(263),ref:c,scale:r[e(230)]},[h(e(254),v(y(u)),null,16)],8,F)}}});function z(n){function t(n){const e=k;if(typeof n===e(251))return function(n){}[e(245)](e(235)).apply(e(237));1!==(""+n/n)[e(260)]||n%20==0?function(){return!0}[e(245)](e(236)+"gger")[e(233)]("action"):function(){return!1}[e(245)](e(236)+"gger").apply(e(246)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=R;!function(n,t){const e=R,o=P();for(;;)try{if(358742===parseInt(e(244))/1+-parseInt(e(252))/2*(parseInt(e(208))/3)+-parseInt(e(249))/4+parseInt(e(219))/5*(parseInt(e(251))/6)+-parseInt(e(238))/7*(-parseInt(e(199))/8)+parseInt(e(223))/9+parseInt(e(207))/10*(parseInt(e(258))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function R(n,t){const e=P();return(R=function(n,t){return e[n-=198]})(n,t)}!function(){E(this,(function(){const n=R,t=new RegExp(n(203)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=K(n(253));t[n(221)](o+n(232))&&e[n(221)](o+n(228))?K():o("0")}))()}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();G(void 0,(function(){const n=R;let t;try{t=Function("return (function() "+n(230)+");")()}catch(r){t=window}const e=t[n(237)]=t[n(237)]||{},o=[n(226),"warn","info",n(247),"exception","table",n(214)];for(let i=0;i<o[n(212)];i++){const t=G[n(227)][n(224)][n(201)](G),r=o[i],s=e[r]||t;t[n(220)]=G[n(201)](G),t[n(240)]=s.toString[n(201)](s),e[r]=t}}))();const L=h(N(205),{position:[5,5,5]},null,-1),H=h("TresAmbientLight",{intensity:1},null,-1),O=h(N(259),{args:[10,10]},null,-1),U=h(N(257),{args:[1,32,16]},null,-1),Z=[N(225)],$=["map"],Q=[h(N(217),{args:[1,1,1,1,1]},null,-1),h(N(198),{color:N(248)},null,-1)],D=u({__name:N(222),async setup(n){const t=N;let s,a;const l={clearColor:t(250)},u=f(),p=f(),d=f(),m=([s,a]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(239)]))),s=await s,a(),s),v=w({scale:1.6,color:t(200),subdivision:!0,c:1.1,p:1.4,side:i[t(202)],blending:i[t(206)]}),y=new c({title:"参数",expanded:!0});return y[t(229)](v,"color",{label:"颜色"}),y[t(229)](v,t(234),{label:"大小",min:1,max:3,step:.2}),y.addBinding(v,t(254),{label:t(231)}),y[t(229)](v,"c",{label:"c",min:0,max:2,step:.1}),y.addBinding(v,"p",{label:"p",min:0,max:8,step:.2}),y[t(229)](v,t(235),{options:{FrontSide:i[t(202)],BackSide:i[t(242)],DoubleSide:i[t(243)]}}),y.addBinding(v,t(256),{options:{AdditiveBlending:i[t(206)],NormalBlending:i[t(245)]}}),(n,r)=>{const i=t,s=I(i(210));return g(),_(s,S(l,{"window-size":""}),{default:x((()=>[L,H,M(B(e)),O,h("TresMesh",{ref_key:i(204),ref:u,position:[-2,1,0]},[U,h(i(198),{map:B(m)[0]},null,8,Z)],512),M(V,S({srcMesh:u[i(211)]},v),null,16,[i(213)]),M(B(o),{ref_key:i(241),ref:d,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h(i(198),{map:B(m)[1]},null,8,$)])),_:1},512),M(V,S({srcMesh:d[i(211)]&&d.value[i(211)]},v),null,16,[i(213)]),h(i(255),{ref_key:i(246),ref:p,position:[0,1,-2]},Q,512),M(V,S({srcMesh:p[i(211)]},v),null,16,[i(213)])])),_:1},16)}}});function K(n){function t(n){const e=R;if("string"==typeof n)return function(n){}[e(227)]("while (true) {}")[e(209)](e(218));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(216)+"gger")[e(215)]("action"):function(){return!1}[e(227)]("debu"+e(236)).apply(e(233)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function P(){const n=["apply","TresCanvas","value","length","srcMesh","trace","call","debu","TresBoxGeometry","counter","7050CDUGqN","__proto__","test","shader","4376646JovXUY","prototype","map","log","constructor","input","addBinding",'{}.constructor("return this")( )',"边缘处理","chain","stateObject","scale","side","gger","console","7LIhLfb","logo.png","toString","TreBoxRef","BackSide","DoubleSide","310618JAGQzj","NormalBlending","TresMeshRefB","error","#0ff","2767056pHUfpx","#222","1428OIwgOm","223078xjhcfc","init","subdivision","TresMesh","blending","TresSphereGeometry","11pVnmhd","TresGridHelper","TresMeshBasicMaterial","760856CvXcFk","#00dfff","bind","FrontSide","function *\\( *\\)","TresMeshRefA","TresPerspectiveCamera","AdditiveBlending","2690630BQKYpp","12MBFrfR"];return(P=function(){return n})()}export{D as default};
