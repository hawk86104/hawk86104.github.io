import{N as t,p as n,U as e,Y as r,_ as o}from"./@tresjs.CmAaFQUS1729762363846.js";import{_ as s}from"./index.y3uWbvx01729762363846.js";import{_ as i,B as c,ct as u}from"./three.CQvcOG671729762363846.js";import{P as a}from"./tweakpane.BCjFYDHx1729762363846.js";import{I as l,C as p,N as f,c as m,d as g,a as h}from"./three-mesh-bvh.B7v5qCD_1729762363846.js";import{d,a5 as j,b as y,a2 as w,o as b,E as v,L as _,u as I,F as x,r as T,e as k,j as z,g as M,m as A,f as R,al as C}from"./@vue.n8X62v121729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";import"./index.BDIKs_XA1729762363846.js";import"./@fesjs.CZZ05Yp51729762363846.js";import"./vue-router.Du5s6fg51729762363846.js";import"./lodash-es.BBTWvufR1729762363846.js";import"./@qlin.BIlp8Yi21729762363846.js";import"./pinia.DOkF60i-1729762363846.js";import"./@babel.Bwyie5id1729762363846.js";import"./@amap.irWeW_Ar1729762363846.js";import"./@floating-ui.B75jtkXD1729762363846.js";import"./@juggle.BnTvdTVm1729762363846.js";import"./chalk.B3MNILV41729762363846.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1729762363846.js";import"./@iconify.DKvOo9eU1729762363846.js";import"./oimophysics.B0i2NtyE1729762363846.js";import"./three-stdlib.CqKdLpwa1729762363846.js";import"./@pmndrs.DnYI6N3H1729762363846.js";import"./object-hash.BiCA96VN1729762363846.js";import"./jszip.B5yG0Hpd1729762363846.js";import"./three-custom-shader-material.CWa5qaDo1729762363846.js";import"./glsl-tokenizer.DodQ2RCy1729762363846.js";import"./glsl-token-string.Eyit8_HG1729762363846.js";import"./glsl-token-functions.D2Lt0tGo1729762363846.js";import"./three.quarks.BQqMGnDH1729762363846.js";import"./quarks.core.C7CDonSm1729762363846.js";import"./utils.gMw3vzZJ1729762363846.js";import"./default.vue_vue_type_script_setup_true_lang.C7L23nE41729762363846.js";import"./three-mesh-ui.module.CPu_UGRu1729762363846.js";!function(t,n){const e=Z,r=E();for(;;)try{if(714894===parseInt(e(206))/1+-parseInt(e(189))/2+parseInt(e(207))/3+parseInt(e(196))/4+-parseInt(e(194))/5+parseInt(e(203))/6+-parseInt(e(186))/7*(-parseInt(e(195))/8))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(192)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(){const t=["intersectObject","311129RAwhmO","783867lOVgEY","string","constructor","addEventListener","table","clientY","function *\\( *\\)","pointerType","action","innerWidth","error","test","innerHeight","pointerdown","touch","log","debu","setFromCamera","init","trace","button","bind","while (true) {}","clientX","pointermove","toString","warn","7pdtWZh","input","gger","2153086wzssFJ","chain","prototype","apply","__proto__","5699675nIVnGn","6319400vARaVL","3474316UJLVCx","Raycaster","value","call","console","length","pointerup","4202700veqfKp","enabled"];return(E=function(){return t})()}!function(){S(this,(function(){const t=Z,n=new RegExp(t(165)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=B(t(177));n.test(r+t(190))&&e[t(170)](r+t(187))?B():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(192)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Z(t,n){const e=E();return(Z=function(t,n){return e[t-=160]})(t,n)}O(void 0,(function(){const t=Z;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(200)]=n.console||{},r=[t(174),t(185),"info",t(169),"exception",t(163),t(178)];for(let s=0;s<r[t(201)];s++){const n=O[t(161)][t(191)].bind(O),o=r[s],i=e[o]||n;n[t(193)]=O[t(180)](O),n[t(184)]=i[t(184)][t(180)](i),e[o]=n}}))();function B(t){function n(t){const e=Z;if(typeof t===e(160))return function(t){}[e(161)](e(181))[e(192)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(161)](e(175)+"gger")[e(199)](e(167)):function(){return!1}[e(161)]("debu"+e(188))[e(192)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function q(t,n){const e=$();return(q=function(t,n){return e[t-=474]})(t,n)}const L=q;!function(t,n){const e=q,r=$();for(;;)try{if(787797===-parseInt(e(548))/1*(parseInt(e(558))/2)+parseInt(e(564))/3*(-parseInt(e(565))/4)+-parseInt(e(480))/5+-parseInt(e(502))/6*(-parseInt(e(510))/7)+parseInt(e(490))/8+-parseInt(e(566))/9*(-parseInt(e(499))/10)+parseInt(e(497))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(484)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=q,n=new RegExp(t(515)),e=new RegExp(t(522),"i"),r=N(t(528));n[t(503)](r+t(501))&&e[t(503)](r+t(504))?N():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(484)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();X(void 0,(function(){const t=q;let n;try{n=Function(t(494)+t(512)+");")()}catch(o){n=window}const e=n[t(536)]=n[t(536)]||{},r=[t(521),t(498),t(553),"error",t(560),"table","trace"];for(let s=0;s<r.length;s++){const n=X[t(543)][t(539)].bind(X),o=r[s],i=e[o]||n;n.__proto__=X[t(549)](X),n[t(507)]=i[t(507)][t(549)](i),e[o]=n}}))();const Y=[L(540),L(527)],F=[_("TresSphereGeometry",{args:[1,40,40]},null,-1),_(L(487),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],U=["geometry"],P=[_(L(487),{color:L(474),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],G=d({__name:"model",props:{controls:{}},async setup(r){const o=L;let s,d;const T=r;(()=>{const t=q;i[t(485)][t(539)][t(520)]=m,i[t(485)][t(539)].disposeBoundsTree=g,i[t(505)][t(539)].raycast=h})();const k=([s,d]=j((()=>t(u,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,d(),s),z=new(i[o(530)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*k[o(546)][o(506)].count);M[o(533)](255);const A=new(i[o(544)])(M,3,!0);A[o(563)](i[o(517)]),k[o(500)](o(513),A);const R=y(null),C=y(null),S=y(!1),E=y(-1),O=y(.2),B=new(i[o(545)]),{camera:V,raycaster:X}=n(),G=15/255,N=78/255,$=85/255;let J=null;w((()=>{const t=o;R[t(557)]&&(console.log("targetMesh.value init",R[t(557)]),R[t(557)][t(540)][t(520)](),J=k[t(496)],((t,n,e,r,o,s)=>{const c=Z;window[c(162)](c(183),(e=>{const r=c;t.x=e.clientX/window[r(168)]*2-1,t.y=-e[r(164)]/window[r(171)]*2+1,n.value=!0})),window[c(162)](c(172),(u=>{const a=c;t.x=u[a(182)]/window[a(168)]*2-1,t.y=-u[a(164)]/window[a(171)]*2+1,r[a(198)]=u[a(179)];const l=new(i[a(197)]);l[a(176)](t,e[a(198)]),l.firstHitOnly=!0;const p=l[a(205)](o[a(198)],!0);n.value=!0,s[a(204)]=0===p.length}),!0),window[c(162)](c(202),(t=>{const e=c;r[e(198)]=-1,t[e(166)]===e(173)&&(n.value=!1)}),!0)})(B,S,V,E,R,T[t(554)][t(493)]))}));const{onLoop:K}=e();K((()=>{const t=o,n=k[t(534)];if(C[t(557)])if(T.controls[t(493)].active||!S.value)C[t(557)][t(491)]=!1;else{C.value.scale.setScalar(O.value),X[t(557)][t(552)](B,V[t(557)]),X[t(557)][t(477)]=!0;const e=X.value[t(478)](R.value,!0);if(e[t(481)]){C[t(557)].position[t(538)](e[0][t(526)]),T[t(554)][t(493)].enabled=!1,C[t(557)].visible=!0;const r=new(i[t(489)]);r[t(538)](R[t(557)][t(542)])[t(509)]();const o=new(i[t(550)]);o[t(561)][t(538)](C[t(557)][t(506)])[t(482)](r),o[t(531)]=100*O[t(557)];const s=[],c=new(i[t(556)]);if(null==J||J[t(511)]({intersectsBounds:n=>{const e=t,r=o[e(535)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(547)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(555)](c))return l;return p}return r?l:f},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(524)](t,t+1,t+2)}return!1}}),0===E[t(557)]||2===E.value){let e=1,r=1,o=1;0===E[t(557)]&&(e=G,r=N,o=$);for(let i=0,c=s[t(481)];i<c;i++){const c=n[t(483)](s[i]);A[t(529)](c,e),A[t(488)](c,r),A[t(518)](c,o)}A[t(559)]=!0}}else C[t(557)][t(491)]=!1,T[t(554)][t(493)][t(508)]=!0}}));const W=(new a)[o(519)]({title:o(476),label:o(486)}),D=new c;return W.on(o(516),(()=>{const t=o,n=[],e=[];for(let o=0;o<A[t(475)];o++)A[t(483)](o)===G&&A.getY(o)===N&&A[t(532)](o)===$&&(n.push(k[t(546)][t(506)][t(483)](o),k[t(546)][t(506)][t(525)](o),k.attributes.position.getZ(o)),e[t(524)](k[t(546)].normal.getX(o),k[t(546)][t(537)][t(525)](o),k[t(546)].normal[t(532)](o)));const r=new Float32Array(n);D[t(500)](t(506),new(i[t(544)])(r,3)),D.setAttribute(t(537),new(i[t(544)])(r,3))})),(t,n)=>{const e=o;return b(),v(x,null,[_(e(514),{ref_key:"targetMesh",ref:R,geometry:I(k),scale:.005,material:I(z)},null,8,Y),_(e(514),{ref_key:e(523),ref:C,visible:!1},F,512),_("TresMesh",{geometry:I(D),position:[-2,-2,2],scale:.005},P,8,U)],64)}}});function N(t){function n(t){const e=q;if(typeof t===e(492))return function(t){}.constructor("while (true) {}").apply(e(495));1!==(""+t/t)[e(481)]||t%20==0?function(){return!0}[e(543)](e(541)+e(479))[e(562)]("action"):function(){return!1}[e(543)](e(541)+"gger").apply(e(551)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function $(){const t=["gger","418235StLPrU","length","applyMatrix4","getX","apply","BufferGeometry","生成模型","TresMeshStandardMaterial","setY","Matrix4","4429968jncsrj","visible","string","instance","return (function() ","counter","boundsTree","7443645IjCuBj","warn","2870GvCZOV","setAttribute","chain","244974LrIoNY","test","input","Mesh","position","toString","enabled","invert","189KXicWq","shapecast",'{}.constructor("return this")( )',"color","TresMesh","function *\\( *\\)","click","DynamicDrawUsage","setZ","addButton","computeBoundsTree","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","brushMesh","push","getY","point","material","init","setX","MeshStandardMaterial","radius","getZ","fill","index","intersectsBox","console","normal","copy","prototype","geometry","debu","matrixWorld","constructor","BufferAttribute","Vector2","attributes","set","1436725TeSDPT","bind","Sphere","stateObject","setFromCamera","info","controls","containsPoint","Vector3","value","2tQoJzY","needsUpdate","exception","center","call","setUsage","3dqONRp","3154596tmqpDE","23958aCgsGr","#023249","count","点击按钮","firstHitOnly","intersectObject"];return($=function(){return t})()}const J=tt;!function(t,n){const e=tt,r=W();for(;;)try{if(361014===-parseInt(e(229))/1+parseInt(e(250))/2+parseInt(e(252))/3+-parseInt(e(237))/4+parseInt(e(251))/5+-parseInt(e(256))/6*(parseInt(e(264))/7)+-parseInt(e(241))/8*(parseInt(e(230))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[tt(261)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(){const t=["warn","console","length","8ufhTeS","return (function() ","gger","toString","counter","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","neg-z.jpg","bind","#999999","856922VqKGsX","2241640JgMRlN","2007075NlcfMV","while (true) {}","test",'{}.constructor("return this")( )',"505152UdWuEP","neg-x.jpg","call","value","TresPerspectiveCamera","apply","table","pos-z.jpg","7jsEYxf","debu","action","pos-y.jpg","277530rzHPMz","3996441Knsdjs","constructor","log","string","controls","neg-y.jpg","TresCanvas","1516116svXCsv"];return(W=function(){return t})()}!function(){K(this,(function(){const t=tt,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=et("init");n[t(254)](r+"chain")&&e.test(r+"input")?et():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[tt(261)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();D(void 0,(function(){const t=tt;let n;try{n=Function(t(242)+t(255)+");")()}catch(o){n=window}const e=n[t(239)]=n[t(239)]||{},r=[t(232),t(238),"info","error","exception",t(262),"trace"];for(let s=0;s<r[t(240)];s++){const n=D[t(231)].prototype.bind(D),o=r[s],i=e[o]||n;n.__proto__=D.bind(D),n[t(244)]=i[t(244)][t(248)](i),e[o]=n}}))();const H=_(J(260),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),Q=_("TresAmbientLight",{intensity:1},null,-1);function tt(t,n){const e=W();return(tt=function(t,n){return e[t-=226]})(t,n)}const nt=d({__name:"collectTriangles",setup(t){const n=J,e=T({clearColor:n(249),antialias:!0}),i=T({autoRotate:!1}),c=y(null);return(t,u)=>{const a=n,l=k(a(236));return b(),v(x,null,[z(I(s)),z(l,A(e,{"window-size":""}),{default:M((()=>[H,z(I(r),A({ref_key:"controlsRef",ref:c},i),null,16),Q,(b(),R(C,null,{default:M((()=>[z(G,{controls:c[a(259)]},null,8,[a(234)])])),_:1})),(b(),R(C,null,{default:M((()=>[z(I(o),{background:!1,files:["pos-x.jpg",a(257),a(228),a(235),a(263),a(247)],path:a(246)})])),_:1}))])),_:1},16)],64)}}});function et(t){function n(t){const e=tt;if(typeof t===e(233))return function(t){}.constructor(e(253))[e(261)](e(245));1!==(""+t/t)[e(240)]||t%20==0?function(){return!0}[e(231)](e(226)+e(243))[e(258)](e(227)):function(){return!1}.constructor(e(226)+"gger")[e(261)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
