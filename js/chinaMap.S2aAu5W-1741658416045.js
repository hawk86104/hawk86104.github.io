import{e as t,o as e}from"./@tresjs.W3PFJhMo1741658416045.js";import{l as n}from"./utils.2o1PLPEO1741658416045.js";import{m as r}from"./d3-geo.piiwoeiy1741658416045.js";import{a3 as o,b as s,a2 as a,o as i,H as c,F as p,X as l,N as u,d as f,r as m,e as d,f as h,g as y,j,u as g,aj as b,ak as v,al as w,m as T}from"./@vue.NRI7TcgI1741658416045.js";import{ac as I,B as E,r as _,cv as x}from"./three.FyUEtfsR1741658416045.js";import{c as M,d as k,a as S}from"./three-mesh-bvh.FHydkdim1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./@fesjs.hAnhKQG-1741658416045.js";import"./vue-router.qhodDV9M1741658416045.js";import"./lodash-es.pklfUAS51741658416045.js";import"./@qlin.yHhFDldE1741658416045.js";import"./pinia.Iw2DqQac1741658416045.js";import"./@floating-ui.BPbuo5Gx1741658416045.js";import"./@juggle.7yjBMqoW1741658416045.js";import"./d3-array.E5C1cfJ61741658416045.js";const B=["properties","renderOrder"],C=["args"],G={__name:"chinaMapMesh",async setup(e){let f,m;E.prototype.computeBoundsTree=M,E.prototype.disposeBoundsTree=k,_.prototype.raycast=S;const d=r().center([104,37.5]).translate([0,0]),h=([f,m]=o((()=>n("./plugins/simpleGIS/json/china.json","features"))),f=await f,m(),f),y={depth:10,bevelEnabled:!1},j=[];h.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new x;for(let t=0;t<e.length;t++){const[r,o]=d(e[t]);0===t&&n.moveTo(r,-o),n.lineTo(r,-o)}j.push({shape:n,properties:t.properties})}))}))}));const g=new I({color:"#3480C4",linewidth:1,linecap:"round"}),b=s();a((()=>{b.value&&b.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,g];t.material=e}))}));let v=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),v=t})();const w=t=>{t.object.material[0].color.set(16711680),v.innerText=t.object.properties.name,v.style.visibility="visible"},T=t=>{t.eventObject.material[0].color.set(3010559),v.style.visibility="hidden"},G=t=>{v.style.left="".concat(t.clientX+6,"px"),v.style.top="".concat(t.clientY+6,"px")},{onLoop:O}=t();return O((()=>{})),(t,e)=>(i(),c("TresGroup",{ref_key:"tgRef",ref:b},[(i(),c(p,null,l(j,((t,n)=>u("TresMesh",{key:"".concat(n),properties:t.properties,renderOrder:n,onPointerEnter:w,onPointerLeave:T,onPointerMove:G},[u("TresExtrudeGeometry",{args:[t.shape,y]},null,8,C),e[0]||(e[0]=u("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1))],40,B))),64))],512))}},O=L;!function(t,e){const n=L,r=z();for(;;)try{if(747337===parseInt(n(263))/1+parseInt(n(283))/2*(-parseInt(n(290))/3)+-parseInt(n(268))/4*(-parseInt(n(293))/5)+-parseInt(n(282))/6*(parseInt(n(270))/7)+-parseInt(n(298))/8*(parseInt(n(300))/9)+-parseInt(n(303))/10*(-parseInt(n(275))/11)+-parseInt(n(302))/12*(-parseInt(n(291))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=L,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(284),"i"),r=R(t(301));e[t(269)](r+"chain")&&n[t(269)](r+t(266))?R():r("0")}))()}();const F=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function L(t,e){const n=z();return(L=function(t,e){return n[t-=263]})(t,e)}F(void 0,(function(){const t=L,e=function(){const t=L;let e;try{e=Function(t(277)+t(294)+");")()}catch(n){e=window}return e}(),n=e[t(292)]=e.console||{},r=[t(264),t(271),t(304),t(273),"exception",t(295),"trace"];for(let o=0;o<r[t(296)];o++){const e=F.constructor[t(265)][t(276)](F),s=r[o],a=n[s]||e;e[t(287)]=F.bind(F),e.toString=a[t(267)][t(276)](a),n[s]=e}}))();const Q=f({__name:O(285),setup(n){const r=m({clearColor:"#201919"}),o=m({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),a((()=>{})),(t,n)=>{const s=L,a=d(s(274));return i(),h(a,T(r,{"window-size":""}),{default:y((()=>[n[0]||(n[0]=u(s(278),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),j(g(e),b(v(o)),null,16),(i(),h(w,null,{default:y((()=>[j(G)])),_:1}))])),_:1},16)}}});function R(t){function e(t){const n=L;if(typeof t===n(281))return function(t){}[n(280)](n(286))[n(279)](n(297));1!==(""+t/t)[n(296)]||t%20==0?function(){return!0}.constructor(n(299)+n(272))[n(288)](n(289)):function(){return!1}.constructor(n(299)+n(272))[n(279)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function z(){const t=["gger","error","TresCanvas","4778279qrgwQP","bind","return (function() ","TresPerspectiveCamera","apply","constructor","string","2796252bROYTZ","25108mftUel","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chinaMap","while (true) {}","__proto__","call","action","123HGKGLO","19735729PQyTVg","console","104800uVSUQr",'{}.constructor("return this")( )',"table","length","counter","8EhmhQv","debu","7796637mvEwGV","init","12xSQUaB","10LJFAMF","info","143746CKRnnS","log","prototype","input","toString","184nTmWkl","test","14apnitr","warn"];return(z=function(){return t})()}export{Q as default};
