import{D as t,o as n}from"./@tresjs.W3PFJhMo1741658416045.js";import{P as e}from"./tweakpane.yDiyAAkA1741658416045.js";import{_ as o,l as r,c as a,ak as s,al as i}from"./three.FyUEtfsR1741658416045.js";import{_ as c}from"./heatmap.js-fix.M_DOcMz41741658416045.js";import{d as u,a3 as l,a2 as p,o as f,H as d,u as h,r as m,e as g,f as v,g as y,N as b,j as x,al as w,aj as I,ak as _,m as j}from"./@vue.NRI7TcgI1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./@amap.smZgnC9y1741658416045.js";const C=S;!function(t,n){const e=S,o=M();for(;;)try{if(533955===-parseInt(e(394))/1*(parseInt(e(432))/2)+parseInt(e(407))/3*(-parseInt(e(435))/4)+-parseInt(e(462))/5+parseInt(e(406))/6+-parseInt(e(392))/7*(-parseInt(e(451))/8)+-parseInt(e(431))/9*(parseInt(e(426))/10)+parseInt(e(455))/11*(parseInt(e(457))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=S,n=new RegExp(t(427)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=R(t(397));n.test(o+t(412))&&e.test(o+"input")?R():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(458)+t(447)+");")()}catch(e){n=window}return n}(),e=n[t(398)]=n.console||{},o=["log","warn","info","error","exception",t(414),t(448)];for(let r=0;r<o[t(464)];r++){const n=k[t(460)][t(411)][t(449)](k),a=o[r],s=e[a]||n;n[t(440)]=k[t(449)](k),n[t(437)]=s[t(437)][t(449)](s),e[a]=n}}))();const D=[C(408)];function M(){const t=["computeBoundingBox","radius","none","needsUpdate","Texture","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",'{}.constructor("return this")( )',"trace","bind","boundingBox","8115288NxkUuV","top","show2dCanvas","push","2847053AHPWXM","set","36AaLGdl","return (function() ","primitive","constructor","createElement","17335tXsJNN","count","length","7qoDavC","deleteAttribute","552875SmcnHq","DoubleSide","setAttribute","init","console","./draco/","string","attributes","setScalar","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","display","scale","2206752imlmvb","28887bNxfjH","object","body","counter","prototype","chain","border","table","debu","layerX","appendChild","_renderer","setDataMax","absolute","block","canvas","call","addData","0.8","70AhQNyE","function *\\( *\\)","style","while (true) {}","heatmapClickCom","160371KnUWjD","2smNXZf","position","apply","392xObGVJ","getZ","toString","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","mesh_0","__proto__"];return(M=function(){return t})()}function S(t,n){const e=M();return(S=function(t,n){return e[t-=392]})(t,n)}const N=u({__name:C(430),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const u=n,{nodes:m}=([s,i]=l((()=>t(e(446),{draco:!0,decoderPath:e(399)}))),s=await s,i(),s);m[e(439)][e(433)][e(456)](-5088.96,-3.08,39374.7),m[e(439)][e(405)][e(402)](.01);let g=null,v=null,y=null;v=new(o[e(445)])((()=>{const t=e;return y=document[t(461)]("heatmap-canvas"),y[t(428)].position=t(420),y[t(428)][t(452)]="40px",y[t(428)].left="0",document[t(409)][t(417)](y),g=c.create({container:y,width:256,height:256,blur:t(425),radius:u[t(442)]}),g[t(418)][t(422)][t(428)][t(413)]="1px solid #5384ff",g[t(418)][t(422)].onclick=function(n){const e=t;g[e(424)]({x:n[e(416)],y:n.layerY,value:1,radius:u[e(442)]}),g[e(419)](1),v&&(v[e(444)]=!0)},g})()[e(418)].canvas);const b={vertexShader:e(438),fragmentShader:e(403),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(395)]},x=new r(b);m[e(439)].material=x;return(t=>{const n=e;t[n(441)]();const{max:o,min:r}=t[n(450)];t[n(393)]("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(401)][n(433)][n(463)];e++)c.push((t[n(401)][n(433)].getX(e)-r.x)/s),c[n(454)]((t.attributes[n(433)][n(436)](e)-r.z)/i);const u=new Float32Array(c);t[n(396)]("uv",new a(u,2))})(m[e(439)].geometry),p((()=>{const t=e;y[t(428)][t(404)]=""+(u[t(453)]?t(421):t(443))})),(t,n)=>{const o=e;return f(),d(o(459),{object:h(m)[o(439)]},null,8,D)}}});function R(t){function n(t){const e=S;if(typeof t===e(400))return function(t){}[e(460)](e(429))[e(434)](e(410));1!==(""+t/t)[e(464)]||t%20==0?function(){return!0}[e(460)](e(415)+"gger")[e(423)]("action"):function(){return!1}[e(460)]("debugger")[e(434)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const T=B;!function(t,n){const e=B,o=P();for(;;)try{if(390002===-parseInt(e(244))/1*(parseInt(e(235))/2)+parseInt(e(248))/3*(parseInt(e(245))/4)+-parseInt(e(247))/5+parseInt(e(218))/6+-parseInt(e(241))/7*(parseInt(e(222))/8)+-parseInt(e(250))/9*(parseInt(e(246))/10)+parseInt(e(233))/11*(parseInt(e(257))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(256)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(t,n){const e=P();return(B=function(t,n){return e[t-=217]})(t,n)}!function(){z(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(242),"i"),o=E(t(238));n[t(231)](o+t(252))&&e[t(231)](o+t(230))?E():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(256)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=["show2dCanvas","while (true) {}","4209840yTyrCt","stateObject","return (function() ",'{}.constructor("return this")( )',"22184cMNPtg","TresCanvas","#030311","heatmapClick","TresPerspectiveCamera","__proto__","constructor","debu","input","test","call","3996487XvpDKl","TresDirectionalLight","1262huxmyf","addBinding","info","init","string","table","1638HHEPnP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","652fMJOgo","258892vRhteO","263240bAliZA","2426620RJTAgR","24BZNDct","圆圈的大小","252CiBflc","点击左侧蓝色画框","chain","warn","exception","length","apply","48Yykhxh","bind","toString","counter","console","trace","addButton"];return(P=function(){return t})()}O(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(220)+t(221)+");")()}catch(e){n=window}return n}(),e=n[t(261)]=n[t(261)]||{},o=["log",t(253),t(237),"error",t(254),t(240),t(262)];for(let r=0;r<o[t(255)];r++){const n=O[t(228)].prototype.bind(O),a=o[r],s=e[a]||n;n[t(227)]=O[t(258)](O),n.toString=s[t(259)].bind(s),e[a]=n}}))();const Z=u({__name:T(225),setup(t){const o=T,r={clearColor:o(224),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(236)](a,o(264),{label:"显示二维图"}),c[o(236)](a,"radius",{label:o(249),min:.1,max:30,step:.1}),c[o(263)]({title:o(251)}),(t,e)=>{const s=o,i=g(s(223));return f(),v(i,j(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=b(s(226),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),x(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(s(234),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=b("TresGridHelper",{args:[50,25]},null,-1)),(f(),v(w,null,{default:y((()=>[x(N,I(_(a)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=B;if(typeof t===e(239))return function(t){}[e(228)](e(217))[e(256)](e(260));1!==(""+t/t).length||t%20==0?function(){return!0}[e(228)](e(229)+e(243))[e(232)]("action"):function(){return!1}.constructor("debu"+e(243))[e(256)](e(219)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
