const t=Math.sqrt(3),n=Math.sqrt(5),e=.5*(t-1),o=(3-t)/6,r=1/6,a=(n-1)/4,l=(5-n)/20,s=t=>0|Math.floor(t),c=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),f=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),i=new Float64Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function u(t=Math.random){const n=A(t),r=new Float64Array(n).map((t=>c[t%12*2])),a=new Float64Array(n).map((t=>c[t%12*2+1]));return function(t,l){let c=0,f=0,i=0;const u=(t+l)*e,w=s(t+u),y=s(l+u),A=(w+y)*o,m=t-(w-A),F=l-(y-A);let p,h;m>F?(p=1,h=0):(p=0,h=1);const M=m-p+o,d=F-h+o,q=m-1+2*o,b=F-1+2*o,x=255&w,U=255&y;let g=.5-m*m-F*F;if(g>=0){const t=x+n[U];g*=g,c=g*g*(r[t]*m+a[t]*F)}let j=.5-M*M-d*d;if(j>=0){const t=x+p+n[U+h];j*=j,f=j*j*(r[t]*M+a[t]*d)}let k=.5-q*q-b*b;if(k>=0){const t=x+1+n[U+1];k*=k,i=k*k*(r[t]*q+a[t]*b)}return 70*(c+f+i)}}function w(t=Math.random){const n=A(t),e=new Float64Array(n).map((t=>f[t%12*3])),o=new Float64Array(n).map((t=>f[t%12*3+1])),a=new Float64Array(n).map((t=>f[t%12*3+2]));return function(t,l,c){let f,i,u,w;const y=.3333333333333333*(t+l+c),A=s(t+y),m=s(l+y),F=s(c+y),p=(A+m+F)*r,h=t-(A-p),M=l-(m-p),d=c-(F-p);let q,b,x,U,g,j;h>=M?M>=d?(q=1,b=0,x=0,U=1,g=1,j=0):h>=d?(q=1,b=0,x=0,U=1,g=0,j=1):(q=0,b=0,x=1,U=1,g=0,j=1):M<d?(q=0,b=0,x=1,U=0,g=1,j=1):h<d?(q=0,b=1,x=0,U=0,g=1,j=1):(q=0,b=1,x=0,U=1,g=1,j=0);const k=h-q+r,v=M-b+r,z=d-x+r,B=h-U+2*r,C=M-g+2*r,D=d-j+2*r,E=h-1+.5,G=M-1+.5,H=d-1+.5,I=255&A,J=255&m,K=255&F;let L=.6-h*h-M*M-d*d;if(L<0)f=0;else{const t=I+n[J+n[K]];L*=L,f=L*L*(e[t]*h+o[t]*M+a[t]*d)}let N=.6-k*k-v*v-z*z;if(N<0)i=0;else{const t=I+q+n[J+b+n[K+x]];N*=N,i=N*N*(e[t]*k+o[t]*v+a[t]*z)}let O=.6-B*B-C*C-D*D;if(O<0)u=0;else{const t=I+U+n[J+g+n[K+j]];O*=O,u=O*O*(e[t]*B+o[t]*C+a[t]*D)}let P=.6-E*E-G*G-H*H;if(P<0)w=0;else{const t=I+1+n[J+1+n[K+1]];P*=P,w=P*P*(e[t]*E+o[t]*G+a[t]*H)}return 32*(f+i+u+w)}}function y(t=Math.random){const n=A(t),e=new Float64Array(n).map((t=>i[t%32*4])),o=new Float64Array(n).map((t=>i[t%32*4+1])),r=new Float64Array(n).map((t=>i[t%32*4+2])),c=new Float64Array(n).map((t=>i[t%32*4+3]));return function(t,f,i,u){let w,y,A,m,F;const p=(t+f+i+u)*a,h=s(t+p),M=s(f+p),d=s(i+p),q=s(u+p),b=(h+M+d+q)*l,x=t-(h-b),U=f-(M-b),g=i-(d-b),j=u-(q-b);let k=0,v=0,z=0,B=0;x>U?k++:v++,x>g?k++:z++,x>j?k++:B++,U>g?v++:z++,U>j?v++:B++,g>j?z++:B++;const C=k>=3?1:0,D=v>=3?1:0,E=z>=3?1:0,G=B>=3?1:0,H=k>=2?1:0,I=v>=2?1:0,J=z>=2?1:0,K=B>=2?1:0,L=k>=1?1:0,N=v>=1?1:0,O=z>=1?1:0,P=B>=1?1:0,Q=x-C+l,R=U-D+l,S=g-E+l,T=j-G+l,V=x-H+2*l,W=U-I+2*l,X=g-J+2*l,Y=j-K+2*l,Z=x-L+3*l,$=U-N+3*l,_=g-O+3*l,tt=j-P+3*l,nt=x-1+4*l,et=U-1+4*l,ot=g-1+4*l,rt=j-1+4*l,at=255&h,lt=255&M,st=255&d,ct=255&q;let ft=.6-x*x-U*U-g*g-j*j;if(ft<0)w=0;else{const t=at+n[lt+n[st+n[ct]]];ft*=ft,w=ft*ft*(e[t]*x+o[t]*U+r[t]*g+c[t]*j)}let it=.6-Q*Q-R*R-S*S-T*T;if(it<0)y=0;else{const t=at+C+n[lt+D+n[st+E+n[ct+G]]];it*=it,y=it*it*(e[t]*Q+o[t]*R+r[t]*S+c[t]*T)}let ut=.6-V*V-W*W-X*X-Y*Y;if(ut<0)A=0;else{const t=at+H+n[lt+I+n[st+J+n[ct+K]]];ut*=ut,A=ut*ut*(e[t]*V+o[t]*W+r[t]*X+c[t]*Y)}let wt=.6-Z*Z-$*$-_*_-tt*tt;if(wt<0)m=0;else{const t=at+L+n[lt+N+n[st+O+n[ct+P]]];wt*=wt,m=wt*wt*(e[t]*Z+o[t]*$+r[t]*_+c[t]*tt)}let yt=.6-nt*nt-et*et-ot*ot-rt*rt;if(yt<0)F=0;else{const t=at+1+n[lt+1+n[st+1+n[ct+1]]];yt*=yt,F=yt*yt*(e[t]*nt+o[t]*et+r[t]*ot+c[t]*rt)}return 27*(w+y+A+m+F)}}function A(t){const n=512,e=new Uint8Array(n);for(let o=0;o<256;o++)e[o]=o;for(let o=0;o<255;o++){const n=o+~~(t()*(256-o)),r=e[o];e[o]=e[n],e[n]=r}for(let o=256;o<n;o++)e[o]=e[o-256];return e}export{u as a,w as b,y as c};
