import{D as e,m as t,o as a}from"./@tresjs.zc7faK4J1743660816268.js";import{cV as s,cW as n,l as o}from"./three.2wx8FU0g1743660816268.js";import{d as l,a4 as i,q as r,a2 as c,o as u,H as m,u as d,r as f,e as v,f as p,g as h,m as g,N as j,j as w,aj as b,ak as _,al as P}from"./@vue.B5PFBfKs1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";const C=["object"],D=l({__name:"frameSelect",async setup(a){let l,f;const{scene:v,nodes:p}=([l,f]=i((()=>e("/plugins/operationTool/model/湖中小亭/湖中小亭.gltf"))),l=await l,f(),l),{camera:h,renderer:g,scene:j,sizes:w,raycaster:b,controls:_}=t();let P=new s(h.value,j.value),D=new n(g.value,"selectBox"),L=function(e){console.log(_.value);for(const t of P.collection)t instanceof o&&t.material.emissive.set(0);P.collection.length=0,P.startPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5)},T=function(e){if(D.isDown){P.endPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5);const t=P.select();console.log("allSelected",t);for(let e=0;e<t.length;e++){let a=t[e];a instanceof o&&a.material.emissive.set(16252928)}}},k=function(e){const t=P.select();P.endPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5);for(let a=0;a<t.length;a++){let e=t[a];e instanceof o&&e.material.emissive.set(0)}};return r((()=>{document.addEventListener("mousedown",L,!1),document.addEventListener("mousemove",T,!1),document.addEventListener("mouseup",k,!1)})),c((()=>{})),(e,t)=>(u(),m("primitive",{object:d(v)},null,8,C))}}),L=l({__name:"frameSelect",setup(e){const t=f({alpha:!0,antialias:!0,autoClear:!1}),s=f({enableDamping:!1,enableZoom:!1,autoRotate:!1,enablePan:!1,enableRotate:!1,makeDefault:!0});return(e,n)=>{const o=v("TresCanvas");return u(),p(o,g({clearColor:"#201919","window-size":""},t),{default:h((()=>[n[0]||(n[0]=j("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,10,-28]},null,-1)),n[1]||(n[1]=j("TresAmbientLight",{intensity:1},null,-1)),w(d(a),b(_(s)),null,16),(u(),p(P,null,{default:h((()=>[w(D)])),_:1}))])),_:1},16)}}});export{L as default};
