import{e,a as t,b as o}from"./@tresjs.CutcgRLX1752457528298.js";import{a3 as n,aA as W,f as r,a as i,aX as a,m as c,cC as d,l as s}from"./three.DOaOWaa_1752457528298.js";import{z as l}from"./three-custom-shader-material.B-_h7e_e1752457528298.js";import{P as u}from"./tweakpane.C0HtAJSg1752457528298.js";import{a as f}from"./axios.DLTVXJci1752457528298.js";import{d as m,r as h,a9 as k,s as C,h as g,e as v,o as p,f as S,I as x,j as O,u as R,a6 as P,a7 as _,m as w}from"./@vue.CcDZ19ef1752457528298.js";import"./postprocessing.BhLg8VAN1752457528298.js";import"./@vueuse.D5pFWdqo1752457528298.js";!function(){function e(e,t,o,n,W){return H(n- -711,t)}const t=G();function o(e,t,o,n,W){return H(o- -938,W)}function n(e,t,o,n,W){return H(o- -226,n)}for(;;)try{if(250369===-parseInt(o(0,0,-643,0,"SNeE"))/1+-parseInt(o(0,0,-682,0,"5W^B"))/2+parseInt(o(0,0,-639,0,"ow)n"))/3+-parseInt(n(0,0,75,"(lmg"))/4*(parseInt(o(0,0,-716,0,"^K!H"))/5)+-parseInt(e(0,"2goh",0,-411))/6+parseInt(e(0,"(z9j",0,-510))/7+parseInt(n(0,0,-22,"Tgoz"))/8)break;t.push(t.shift())}catch(W){t.push(t.shift())}}();const Q=function(){let e=!0;return function(t,o){function n(e,t,o,n,W){return H(W- -762,e)}function W(e,t,o,n,W){return H(t-534,n)}function r(e,t,o,n,W){return H(o-552,W)}if("eAMoi"===W(0,828,0,"5W^B")){const r=e?function(){function e(e,t,o,n,r){return W(0,n-374,0,e)}function r(e,t,o,W,r){return n(t,0,0,0,e-512)}if(o){if(r(16,"kETs")===e("t2Yh",0,0,1138)){const n=o[e("sC62",0,0,1113)](t,arguments);return o=null,n}if(_0x50eae9){const e=_0x56989d[r(-30,"MVUH")](_0x42fbb1,arguments);return _0x3b9a2c=null,e}}}:function(){};return e=!1,r}{const e=_0x5b5a2a[W(0,802,0,"PK8q")][r(0,0,743,0,"u5$o")][r(0,0,807,0,"u05^")](_0x22d55e),t=_0x418ac7[_0x279875],o=_0xf8874d[t]||e;e[n("MVUH",0,0,0,-527)]=_0x48b58c[r(0,0,761,0,"@4IH")](_0xfee4a2),e[(c=494,d="A*hO",H(c-197,d))]=o[(i="kETs",a=484,H(a-265,i))][r(0,0,812,0,"&89r")](o),_0x4056c7[t]=e}var i,a,c,d}}()(void 0,(function(){function e(e,t,o,n,W){return H(o-294,e)}return Q[e("d8fC",0,501)]()[(n="(T8I",W=338,H(W-66,n))](e("Tgoz",0,551))[e("SXpr",0,545)]()[(t=-22,o="*JBQ",H(t- -243,o))](Q).search("(((.+)+)+)+$");var t,o,n,W}));Q();const y=function(){let e=!0;return function(t,o){function n(e,t,o,n,W){return H(n- -978,W)}if(H(506-312,"V(53")===n(0,0,0,-702,"2goh")){const W=e?function(){function e(e,t,o,W,r){return n(0,0,0,o-1166,e)}if(o){if(e("FGmj",0,367)!==e("@n](",0,377)){const e=o.apply(t,arguments);return o=null,e}{const e=_0x256bfb[(W="sC62",r=957,n(0,0,0,r-1730,W))](_0x197e77,arguments);return _0x32f5e6=null,e}}var W,r}:function(){};return e=!1,W}{let e=_0x165410.split(n(0,0,0,-763,"mq%z"));_0x5cdb09=H(110- -71,"tP7z")+n(0,0,0,-725,"FGmj")+e[1],_0x2c6e00=_0x1a65df[n(0,0,0,-701,"^pWv")](/iTime|iTimeDelta/g,H(1001-762,"^pWv"))}}}();function G(){const e=["W4JcP8kkWPFcMq","fmojW4jZWRW","WO3cMmohccGtbSk9r8oqWRe","DdtdHs81WRDhWQWpumkX","WQJdSXe","WRdcICoiWR/dNSkQ","CCoCWQpcOgWj","WQJdLCoCkNjoW6VcRSkZnCkgaCkzWPnaAXKl","ndL8a08","WRiZWRhdQtjsWQZdM8kLfSoIWQlcUmkodCojWO06xmoup8oMqaviaHy9uq","WP3dLSoemvy","kYCvAZvWWP4","W4CqWRBdP8oV","WQVdGmohpN4","D8kVc8k4W5ldU8omW6i4WQDYbSkfW6JcLH1AW5NcVSoQWQxdIsZdNvRdJ8kRa0e","CCojWQ7cU3S","W5pcQ8olWPZcOmkzW5mUdhaR","D2hdPmknWP9jW74UsmkalCk3vW","deZdVCk8W4beWPq","W7FcGCkrWPNcO8oZe8on","W4lcPJ49","mSosW6BcLmkdWPtcRmoyEW","W6eJDheSW4bA","B8katJ3cQe7cVN/cTSoFiSks","s8kQWQNdGmomW4ddTCkipJRdN8oUlmkauJ0UWOLyhZ9cW45vWRnOW7ToWRtdH00/W7rcW7xdVSofzv3dGSkQWO/dKahdPmkbtWXucdNdOSo+WOHXCGJcHSkfW6XEW54KWOldTmo/WR/dTGpdQmkXlLNcUqmYWPr7wd3dIMdcOSoKsSofwSoPFfBdJrSvghLfWOnBkqPRWO07W6XpzZ58meddIKOFWPddOmo1t2XRWRFdHubYW548xCoMiICkhZG0iJWbWPi0q1VcKCkxW4ZcT3aDt8oIkmkLWOa","W4Knn8kvD8ozEa","ysJdGrrrWRnaWQmuc8o9W7nygbGf","WOSNWRddPsPdFG","W5DtWPPDW54","kheomSksW5RcQh1MWRZdGgS","D8onWQFcQNSuW54V","W5/cPWSMe3ZcSmor","vCodWQVdHSoC","W5W6W5VdK3Cjpmk4W5evW4NdKKe","W6ZcGSkAAImsWR7dUCkqhCkJr8oY","mg/dGGnBWPnvWOq","mmofW7NcJmknWOpcSmo+F2JcLSkVBSomqq","WQ1JW6La","qSosWQNdK8omW4hcGr7dHmkUr8o7W7zWWR3cRXH/","W4JcIsyeW40","WODzAwtcK8oXW6f/BmofWPNcOmoXW70eW6aslhBdHdXpvmogemoQWR90WRtcPSk+zq","WRe8WQRdTJroWQBdM8kGeSoSW6ddTmkDkSknW7iq","W4lcOCovWOpcTCkiW4m","WQ5QkSoUWOC","ymoqWQZcTG","W4dcTSokWPVcU8kFW589hq","xdlcPGzDW449W7u","aCkfgCkmW45xhGjaWR/cJYCXW4JcIdddVvBcK8ookG","WPvCW4/cRdFcKG","gCoEtSoUWQ0","iYH+fL83WO1RlHCVW71LW75MhJ3cHW","W6m0A2KIW5DgDq0","WPRcMmo6dY4ihCk5","jYX8a1C6WO8DoqaLWQ4NW6rw","WOpdGmoQW4Hd","DwdcQqO6W5ldIuVdPhSNwHZcOSkHcrW5","AtzzESovWPVcJKO","nSk8W6WspSkBW5hdKq","WOaKW6mlWO/cH8kYW6NcL8oUdsXo","W4zcWPf5W68","D8ksWRddLSoEWPlcL8onv3NcNG","nJpdOKvHW47dRa7dM30L","W7dcISkiWPpcRCoIgW","WQyTWQJdOYq","srdcV8oPWParW4hdMSkufYCfW5y","WR3cNmowWRtdKW","f8kyhCk1W6vmfurtWQdcHquQWOtcKJy","WRT1cCo2WOZdHaqU","BMdcRXyHW5xdJWC","W5hcI2ddPW","ltaezde","WRu4WQJdOZXdWQq","WR7cJSo7cbe","W6Ghm1e","l8oshMhdVG","DmkGemkNW5tdP8ogW6i9WQn8rmojW7VcSvKLW7m","WQ7cICowWRtdI8kHWOe","WQJdOCoy","WQZdV3hdJqu","W7BcGmkRWOVcVSoOemoz","oSkTW6GBnq","WQFdSXH4WO/dTCoaW7S0WPxcLa","WQ1tCXXLW6DHF8kyW5zrWRy","deZdUCkLW5njW5hcI8kIddaEW4HLeSobWORdPMu","WQ7cMCo8WR3dRq","W6OdmLW1WRLVeCkAW5DBW4BdOSkgWR8RpCoH","WRNdJKJdGa","isX/gW","WObVWPJcHdvtBmkq","bSkoamkgW4bgfG","WPnoW6HCW5i","WQRdM8o9j2LjW6ldQq","kCk4W6GBlCkrW5u","dYj4g0a","ymkOdmk6","bmkcW6Gfi8kgW5/dOSkB","W7OPkfyt","WOBdU8k0W79j","WQ1PW4LaW7xcMCocWQG","ldymAJe","W7aPAM4IW49A","W4fIWRTBW4m","W6G7kN4IW41mCrRdPmoaitVcSHpdK8ojldNdLmkonGrXfJnAWOqNW7/dSqG","DM/cSHu8W47dG0VdPhSNwHZcOCkggLrCW4qDimogW5pdVqlcGG","W78PyW","WPddJttcHSovoCkwWORdUSkhEam","WPuTWQC","W4CuWQFdVW","W4rZWQvlW57dM8oNWR7cTmogkgOLo3OKdSo4","W4pcN8ofWOyHrtmYWOLYEWSb","WPryW5xcRJhcK8o1WOG","WO0TWPpdVtLjDx8","lCk8W6OojCkCW5FcNCkYW4dcGq7cSK/dNfpdPWa","W47cHqeOW5BcO3hcMCkmjSkWW4RcLCkdW7RcV8oXW5BdJx4L","b8oUW4y","sJtcMXy","WOyNW6adWOxcHComW6ZcQ8oidIW","vGhcPCo+WOOoW5RcISoVuhvz","W4D/WRHhW4tdKa","vMVcMSo8wZ3cGq","W5ymrCkP","ggldPCkJW64","W4xcG3ZdUMxcKSkmmCkDW6FcQe55W6SOfSkWWRe","eSouW55VWQfzW54","WPTVWP7cMc5uASoCW74eW4/cIaZcPCkzWQ/dSt4","WRiPWRhdOJG"];return(G=function(){return e})()}function T(e,t,o,n,W){return H(W- -851,o)}function H(e,t){const o=G();return H=function(t,n){let W=o[t-=179];if(void 0===H.KUhgBu){var r=function(e){let t="",o="",n=t+r;for(let W,r,i=0,a=0;r=e.charAt(a++);~r&&(W=i%4?64*W+r:r,i++%4)?t+=n.charCodeAt(a+10)-10!=0?String.fromCharCode(255&W>>(-2*i&6)):i:0)r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(r);for(let W=0,r=t.length;W<r;W++)o+="%"+("00"+t.charCodeAt(W).toString(16)).slice(-2);return decodeURIComponent(o)};const t=function(e,t){let o,n,W=[],i=0,a="";for(e=r(e),n=0;n<256;n++)W[n]=n;for(n=0;n<256;n++)i=(i+W[n]+t.charCodeAt(n%t.length))%256,o=W[n],W[n]=W[i],W[i]=o;n=0,i=0;for(let r=0;r<e.length;r++)n=(n+1)%256,i=(i+W[n])%256,o=W[n],W[n]=W[i],W[i]=o,a+=String.fromCharCode(e.charCodeAt(r)^W[(W[n]+W[i])%256]);return a};H.GHsvCg=t,e=arguments,H.KUhgBu=!0}const i=t+o[0],a=e[i];if(a)W=a;else{if(void 0===H.PylmOz){const e=function(e){this.ESfjRF=e,this.DTlViG=[1,0,0],this.SfPhYr=function(){return"newState"},this.byvnpB="\\w+ *\\(\\) *{\\w+ *",this.uvBfHJ="['|\"].+['|\"];? *}"};e.prototype.EnxyVL=function(){const e=new RegExp(this.byvnpB+this.uvBfHJ).test(this.SfPhYr.toString())?--this.DTlViG[1]:--this.DTlViG[0];return this.pyKjig(e)},e.prototype.pyKjig=function(e){return Boolean(~e)?this.skkqMg(this.ESfjRF):e},e.prototype.skkqMg=function(e){for(let t=0,o=this.DTlViG.length;t<o;t++)this.DTlViG.push(Math.round(Math.random())),o=this.DTlViG.length;return e(this.DTlViG[0])},new e(H).EnxyVL(),H.PylmOz=!0}W=H.GHsvCg(W,n),e[i]=W}return W},H(e,t)}y(void 0,(function(){let e;function t(e,t,o,n,W){return H(o- -22,n)}try{if(o(165,"5W^B",203,221,127)!==o(203,"h2dk",175,155,209)){const e=_0x10c9bb?function(){if(_0x4de0e1){const r=_0x16a434[(e=231,t="OW7Q",n=280,W=197,o(e- -9,t,t-15,n-281,W-57))](_0x3a7196,arguments);return _0x201c44=null,r}var e,t,n,W}:function(){};return _0x1e1d80=!1,e}e=Function(t(0,0,201,"Tgoz")+W(1128,1071,"lnM5",1138,1185)+");")()}catch(c){e=window}function o(e,t,o,n,W){return H(e- -34,t)}function n(e,t,o,n,W){return H(e-227,W)}function W(e,t,o,n,W){return H(e-948,o)}const r=e[t(0,0,241,"l4nT")]=e[t(0,0,269,"YNPb")]||{},i=[n(471,0,0,0,"u5$o"),n(453,0,0,0,"12RE"),"info",o(233,"l4nT"),"exception",W(1162,0,"kewa"),o(176,"^pWv")];function a(e,t,o,n,W){return H(n-504,e)}for(let d=0;d<i[W(1136,0,"%v)O")];d++)if(t(0,0,239,"Tgoz")===o(202,"^K!H")){const e=y.constructor[t(0,0,163,"[KA1")][a("(T8I",0,0,688)](y),o=i[d],n=r[o]||e;e.__proto__=y.bind(y),e[W(1186,0,"t2Yh")]=n[a("u05^",0,0,690)].bind(n),r[o]=e}else _0x49189a=_0x274b25}))();class b{constructor(e,t){const o=b.replaceVariable(e),r=new l({baseMaterial:W,vertexShader:"\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ",fragmentShader:o,side:n,uniforms:t[i(-451,-457,-435,"%v)O")].uniforms});function i(e,t,o,n,W){return H(e- -701,n)}this.material=r,console[i(-431,0,0,"*JBQ")](this[i(-473,0,0,"ow)n")])}static[T(0,0,"mgCG",0,-549)](e){if(/iTime|iTimeDelta/g.test(e="varying vec2 vUv;\n"+e)){if(n(-506,-479,"sC62",-472)===n(-513,-470,"OW7Q",-503)){if(_0x153280=r(674,619,632,"MVUH",628)+_0x144084,/iTime|iTimeDelta/g[n(-496,-476,"OW7Q",-508)](_0x52e8ff)){let e=_0x5c604c.split(W(-414,-437,-398,"(z9j",-442));_0x2aa05e=t(-243,"ow)n",-252,-287)+W(-475,-396,-392,"BS5A",-450)+e[1],_0x559c0=_0x54e486[o(373,386,423,387,"MVUH")](/iTime|iTimeDelta/g,t(-253,"tP7z",-299,-286))}if(/iResolution\.[a-zA-Z_]+/g[n(-436,-400,"t2Yh",-433)](_0x4b5c08)){let e=_0x14bda2.split("varying vec2 vUv;\n");_0x129986="varying vec2 vUv;\n"+o(472,403,434,466,"(z9j")+e[1],_0x4fad83=_0x1c14ee[t(-330,"sC62",-348,-335)](/iResolution\.[a-zA-Z_]+/g,"1."),_0x3e416b=_0x5de6fd[W(-457,-444,-429,"kETs",-435)](/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[W(-386,-427,-351,"[IQK",-390)](_0x4a7d11)){let e=_0x4dbac7[W(-342,-339,-360,"5W^B",-396)](r(635,689,686,"MVUH",628));_0x455f67=r(667,694,648,"2goh",649)+W(-382,-352,-388,"tP7z",-362)+e[1],_0x1df55b=_0x3b84ab.replace(/iChannel0|iChannel1|iChannel2|iChannel3/g,n(-559,-507,"SNeE",-548))}return _0x5c76d4[t(-288,"SXpr",-225,-258)](/iMouse/g,"umouse"),_0x22fd83.replace(/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,r(597,644,686,"(lmg",645)).replace(/fragColor/g,t(-250,"(lmg",-308,-259)).replace(/fragCoord/g,t(-352,"l4nT",-282,-297))}{let t=e.split(n(-437,-478,"^K!H",-516));e=(e="varying vec2 vUv;\nuniform float utime;\n"+t[1])[n(-433,-492,"tP7z",-511)](/iTime|iTimeDelta/g,o(460,421,470,408,"2goh"))}}if(/iResolution\.[a-zA-Z_]+/g.test(e))if("bPKcN"!==t(-283,"12RE",-390,-333)){const e=_0x1b1215[n(-549,-510,"OW7Q",-569)](_0x210988),t=new _0x5642d5({baseMaterial:_0x1723f4,vertexShader:o(433,462,481,451,"mgCG"),fragmentShader:e,side:_0x16ce12,uniforms:_0x337c7e[n(-562,-506,"MVUH",-476)][W(-350,-386,-289,"kETs",-352)]});this.material=t,_0x21b06e.log(this[n(-493,-495,"(z9j",-484)])}else{let t=e.split(o(324,439,381,427,"OW7Q"));e=(e=(e=o(500,479,495,459,"X1*r")+"uniform vec2 uresolution;\n"+t[1])[r(615,616,608,"BS5A",605)](/iResolution\.[a-zA-Z_]+/g,"1.")).replace(/iResolution/g,"1.")}function t(e,t,o,n,W){return T(0,0,t,0,n-300)}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(-545,-490,"^K!H",-459)](e)){if("fniXX"===r(591,603,567,"PK8q",588)){const e=_0x1c56fa?function(){if(_0x35dfdc){const r=_0x1d59d1[(e="d8fC",t=943,n=902,W=915,o(e-461,t-311,n-528,W-148,e))](_0xd17e8c,arguments);return _0x2baa74=null,r}var e,t,n,W}:function(){};return _0x4a2afe=!1,e}{let t=e[r(661,702,644,"(T8I",657)](W(-370,-343,-320,"@4IH",-375));e=(e=n(-497,-455,"5W^B",-392)+W(-310,-306,-353,"mq%z",-357)+t[1])[r(696,622,574,"a(b0",635)](/iChannel0|iChannel1|iChannel2|iChannel3/g,r(620,696,732,"(T8I",672))}}function o(e,t,o,n,W){return T(0,0,W,0,o-1042)}function n(e,t,o,n,W){return T(0,0,o,0,t-148)}function W(e,t,o,n,W){return T(0,0,n,0,W-214)}function r(e,t,o,n,W){return T(0,0,n,0,W-1227)}return e[n(0,-521,"[KA1")](/iMouse/g,t(0,"5W^B",0,-293)),e.replace(/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,"void main()")[r(619,697,714,"Tgoz",660)](/fragColor/g,t(0,"BS5A",0,-345))[r(0,0,0,"u5$o",664)](/fragCoord/g,o(0,0,408,0,"2goh"))}}const V={ref:"perspectiveCameraRef",position:[300,250,-122],fov:45,near:1,far:1e4},J=["object","side"],B=m({__name:"shadertoyMaterial",async setup(W){let l,m;const Q={clearColor:"#000000",shadows:!0,alpha:!1,useLegacyLights:!0},y={autoRotate:!0,enableDamping:!0},G=new u({title:"参数"}),T=h({addres:"https://www.shadertoy.com/view/mtyGWy",shadervalue:""});let H=([l,m]=k((()=>o(["./plugins/earthSample/image/earthA/moon_ring.png"]))),l=await l,m(),l),B=new r,K=h({material:{uniforms:{utime:{value:0},uresolution:{value:new i(40,40)},utexture:{value:H}}}}),M=new a(100,100,100);G.addBlade({view:"list",label:"shadertoy在线地址",parse:e=>String(e),options:[{text:"1",value:"https://www.shadertoy.com/view/mtyGWy"},{text:"2",value:"https://www.shadertoy.com/view/tlVGDt"},{text:"3",value:"https://www.shadertoy.com/view/ttKGDt"}],value:"https://www.shadertoy.com/view/mtyGWy"}).on("change",(e=>{T.addres=e.value,D(M)}));let q=new a(100,100,100),I=new c(100,100),j=new d(100,10,100,16);G.addBlade({view:"list",label:"几何体",options:[{text:"BOX",value:q},{text:"Plane",value:I},{text:"TorusKnot",value:j}],value:q}).on("change",(e=>{M=e.value,D(M)}));const D=e=>{let t="https://www.shadertoy.com/api/v1/shaders/"+T.addres.split("https://www.shadertoy.com/view/")[1]+"?key=BdHlhH";f.get(t).then((function(t){t.data.Error&&alert(t.data.Error),T.shadervalue=t.data.Shader.renderpass[0].code;let o=new b(T.shadervalue,K);B.clear();let n=new s(e,o.material);B.add(n),L(B,e)})).catch((function(e){console.log(e)}))},L=(e,t)=>{e.children[0].geometry.dispose(),e.children[0].geometry=t},{onLoop:z}=e();return z((({delta:e})=>{K.material.uniforms.utime.value+=e})),C((()=>{let e=new a(100,100,100);D(e)})),(e,o)=>{const W=g("TresCanvas");return p(),v(W,w(Q,{"window-size":""}),{default:S((()=>[x("TresPerspectiveCamera",V,null,512),O(R(t),P(_(y)),null,16),o[0]||(o[0]=x("TresAmbientLight",{color:"#ffffff"},null,-1)),o[1]||(o[1]=x("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),x("primitive",{object:R(B),side:R(n)},null,8,J),o[2]||(o[2]=x("TresAxesHelper",{args:[1e3],position:[0,19,0]},null,-1)),o[3]||(o[3]=x("TresGridHelper",{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});export{B as default};
