import{a as t,o as n}from"./@tresjs.gjafZgVK1741594518249.js";import"./index.zKExUff81741594518249.js";import{P as o}from"./tweakpane.yDiyAAkA1741594518249.js";import{C as e,_ as r}from"./three.8y0_KTxz1741594518249.js";import{d as s,a3 as i,w as u,o as c,H as a,N as l,u as p,aj as f,ak as m,r as _,e as g,f as d,g as v,j as h,al as j,m as y}from"./@vue.NRI7TcgI1741594518249.js";import{_ as C}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.cVFL7d4w1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.brNulbgA1741594518249.js";import"./all.three.aalXMn071741594518249.js";import"./oimophysics.x0jH7fze1741594518249.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.-qSN0BPz1741594518249.js";import"./index.gRDhHVVn1741594518249.js";import"./three-stdlib.uPGGcbR71741594518249.js";import"./@pmndrs.0VhNBP751741594518249.js";import"./object-hash.sZxA5Asp1741594518249.js";import"./@amap.gPFcnYXF1741594518249.js";import"./jszip.VTnDVY9z1741594518249.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.xkRhjhkW1741594518249.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.BpDhqM3p1741594518249.js";import"./videoFloor.vue_vue_type_script_setup_true_lang._UAswL2Y1741594518249.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.Wy4jmlsy1741594518249.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.aCG6FUlR1741594518249.js";const w=z;!function(t,n){const o=z,e=b();for(;;)try{if(859311===parseInt(o(479))/1*(parseInt(o(466))/2)+parseInt(o(461))/3*(-parseInt(o(451))/4)+-parseInt(o(477))/5+-parseInt(o(485))/6*(-parseInt(o(449))/7)+parseInt(o(454))/8*(parseInt(o(463))/9)+parseInt(o(487))/10*(parseInt(o(482))/11)+-parseInt(o(465))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){P(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(472),"i"),e=T(t(474));n.test(e+t(452))&&o.test(e+t(469))?T():e("0")}))()}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function b(){const t=["constructor","uniforms","zPos","__proto__","console","height","4858PlmsoZ","set","4plLWff","chain","table","38432HjMIcK","image","useCustomColor","string","prototype","#ff0000","apply","1753887ezoPcg","log","927reEQbz","counter","15184332IKwfpZ","36PYvSyn","color_list","return (function() ","input","customColor","./logo.png","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","AdditiveBlending","init","warn","bind","4333305KiYfjV","getContext","92203yNXSLc","info",'{}.constructor("return this")( )',"7326mdkUop","length","position","12042SByUCx","canvas","430JSpZLP","gger","TresPoints","value","drawImage","push","trace","width","action","TresShaderMaterial","while (true) {}"];return(b=function(){return t})()}function z(t,n){const o=b();return(z=function(t,n){return o[t-=435]})(t,n)}I(void 0,(function(){const t=z;let n;try{n=Function(t(468)+t(481)+");")()}catch(r){n=window}const o=n[t(447)]=n[t(447)]||{},e=[t(462),t(475),t(480),"error","exception",t(453),t(438)];for(let s=0;s<e[t(483)];s++){const n=I[t(443)][t(458)].bind(I),r=e[s],i=o[r]||n;n[t(446)]=I[t(476)](I),n.toString=i.toString[t(476)](i),o[r]=n}}))();const x={position:[-8,10,-2],scale:.02},S=[w(484),w(467)],A=s({__name:"imgParticleMesh",props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:w(459)}},async setup(n){const o=w;let s,_;const g=n,d=([s,_]=i((()=>t([o(471)]))),s=await s,_(),s),v=document.createElement(o(486)),h=d[o(455)].width,j=d.image[o(448)];v[o(439)]=h,v[o(448)]=j;const y=v[o(478)]("2d");null==y||y[o(436)](d[o(455)],0,0);const C=null==y?void 0:y.getImageData(0,0,h,j).data,P=[],I=[];if(C)for(let t=0;t<j;t++)for(let n=0;n<h;n++){const e=4*(t*h+n);if(C[e+3]>0){const r=C[e]/255,s=C[e+1]/255,i=C[e+2]/255,u=100*Math.random();P[o(437)](n,-t,u),I.push(r,s,i)}}const b=new Float32Array(P),z=new Float32Array(I),A={uniforms:{zPos:{value:g[o(445)]},useCustomColor:{value:g[o(456)]},customColor:{value:new e(g[o(470)])}},vertexShader:"\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}",fragmentShader:"\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}",transparent:!0,depthTest:!1,blending:r[o(473)]};return u((()=>[g[o(445)],g[o(456)],g.customColor]),(([t,n,e])=>{const r=o;A[r(444)].zPos[r(435)]=t,A.uniforms[r(456)][r(435)]=n,A.uniforms[r(470)].value[r(450)](e)})),(t,n)=>{const e=o;return c(),a(e(489),x,[l("TresBufferGeometry",{position:[p(b),3],color_list:[p(z),3]},null,8,S),l(e(441),f(m(A)),null,16)])}}});function T(t){function n(t){const o=z;if(typeof t===o(457))return function(t){}[o(443)](o(442))[o(460)](o(464));1!==(""+t/t).length||t%20==0?function(){return!0}[o(443)]("debugger").call(o(440)):function(){return!1}[o(443)]("debu"+o(488))[o(460)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const F=E;!function(t,n){const o=E,e=Z();for(;;)try{if(320650===parseInt(o(270))/1*(-parseInt(o(276))/2)+parseInt(o(255))/3*(-parseInt(o(254))/4)+parseInt(o(273))/5+-parseInt(o(246))/6+-parseInt(o(242))/7+-parseInt(o(280))/8+parseInt(o(247))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const M=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){M(this,(function(){const t=E,n=new RegExp(t(268)),o=new RegExp(t(245),"i"),e=L(t(274));n[t(263)](e+"chain")&&o[t(263)](e+t(272))?L():e("0")}))()}();const k=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[E(243)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Z(){const t=["error","table","constructor","while (true) {}","function *\\( *\\)","bind","2yoWAAb","call","input","105970puWpSQ","init","自定义颜色","497708PDhkOY","__proto__","info","toString","746256oHNECo","console","addBinding","1155798QZYpjJ","apply","TresCanvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2719302dTWfeV","15857388mgwkgA","imgParticle","gger","#050505","trace","#ff0000","string","140iARxDH","21699LPgTAp","action","debu","useCustomColor","counter","TresPerspectiveCamera","exception","stateObject","test"];return(Z=function(){return t})()}function E(t,n){const o=Z();return(E=function(t,n){return o[t-=241]})(t,n)}k(void 0,(function(){const t=E;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const o=n[t(281)]=n[t(281)]||{},e=["log","warn",t(278),t(264),t(261),t(265),t(251)];for(let s=0;s<e.length;s++){const n=k[t(266)].prototype[t(269)](k),r=e[s],i=o[r]||n;n[t(277)]=k[t(269)](k),n[t(279)]=i.toString[t(269)](i),o[r]=n}}))();const D=s({__name:F(248),setup(t){const e=F,r={clearColor:e(250),antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=_({zPos:1,useCustomColor:!1,customColor:e(252)}),u=new o({title:"参数"});return u.addBinding(i,"zPos",{label:"厚度",min:.5,max:10,step:.5}),u[e(241)](i,e(258),{label:"使用自定义颜色"}),u[e(241)](i,"customColor",{label:e(275)}),(t,o)=>{const u=e,a=g(u(244));return c(),d(a,y(r,{"window-size":""}),{default:v((()=>[o[0]||(o[0]=l(u(260),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),h(p(n)),o[1]||(o[1]=l("TresAmbientLight",{intensity:.5},null,-1)),(c(),d(j,null,{default:v((()=>[h(A,f(m(i)),null,16)])),_:1})),(c(),d(j,null,{default:v((()=>[h(p(C),y({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const o=E;if(typeof t===o(253))return function(t){}.constructor(o(267))[o(243)](o(259));1!==(""+t/t).length||t%20==0?function(){return!0}[o(266)]("debu"+o(249))[o(271)](o(256)):function(){return!1}.constructor(o(257)+o(249))[o(243)](o(262)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{D as default};
