import{Z as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{V as a,l as s,cm as t,r as l,as as n,$ as r,dM as i,dN as u,dO as o,dP as g,dQ as h,dR as p,n as v,ay as d,dS as c,dT as m,dU as f,dV as y,dW as x,dX as E,dY as j,dZ as _,d_ as b,d$ as L,e0 as M,e1 as S,e2 as F,e3 as w,e4 as G,e5 as N,e6 as C}from"./three.rXKzP9fQ1763540743861.js";import{d as W,t as k,q as z,H as D,o as R,I}from"./@vue.Co_gxueH1763540743861.js";const P=["object"],T=W({__name:"index",setup(W,{expose:T}){const V=k(null),Z=k(null),$=k(null),q={cloud:{value:null},night:{value:null},fresnelWidth:{value:12.8},fresnelExponent:{value:14},fresnelColor:{value:new s("#0f2c56")},fresnelWidth2:{value:12.4},fresnelExponent2:{value:4.1},fresnelColor2:{value:new s("#00398c")},saturation:{value:1.4},nightStrength:{value:1.5},nightGamma:{value:2.5},nightMaxMix:{value:1},sunDirection:{value:new a(0,0,1)}};return z(async()=>{const[a,s,W,k,z]=await Promise.all([e(d,"./plugins/singleLayerEarth/earth/2k_earth_daymap.jpg"),e(d,"./plugins/singleLayerEarth/earth/Earth_Clouds.jpg"),e(d,"./plugins/singleLayerEarth/earth/Earth_Glossiness.jpg"),e(d,"./plugins/singleLayerEarth/earth/Earth_Illumination.jpg"),e(d,"./plugins/singleLayerEarth/earth/height.jpg")]),D=a.state.value,R=s.state.value,I=W.state.value,P=k.state.value,T=z.state.value;D.colorSpace=t,D.minFilter=l,D.magFilter=l,P.colorSpace=t,P.minFilter=n,P.magFilter=l,P.anisotropy=1,R.colorSpace=t,R.minFilter=n,R.magFilter=l,R.anisotropy=1,I.colorSpace=t,I.minFilter=l,I.magFilter=l,q.cloud.value=R,q.night.value=P;const V=new r(500,512,512),H=i(),O=u(D,H),Q=u(R,H),U=u(P,H),X=u(I,H),Y=e=>{const a=N(e.x,e.y),s=N(a,e.z),t=C(e.x,e.y),l=C(t,e.z);return x(L(s,l),E(.5))},A=o(g),B=X.g,J=new h({metalness:.4});J.displacementMap=T,J.displacementScale=1,J.bumpMap=T,J.bumpScale=3,J.roughness=1,J.roughnessNode=X.g,J.colorNode=p((e,a)=>{const s=a.lightsNode.getLights().find(e=>"DirectionalLight"===e.type);if(!s)return O.rgb;const t=c(s),l=m(f.mul(y)),n=O.rgb,r=((e,a)=>{const s=Y(e);return j(w(s),e,a)})(n,x(B,E(q.saturation.value))),i=j(n,r,B),u=_(x(b(l,t),E(20))).max(0).oneMinus(),g=_(x(b(l,t),E(4))),h=L(i,x(Q.rgb,E(.1))),p=j(i,h,u),v=o(x(M,E(-1))),d=_(b(A,v)),G=L(E(1),x(E(-1),d)),N=S(G,E(q.fresnelExponent.value)),C=x(N,E(q.fresnelWidth.value).div(2)),W=S(G,E(q.fresnelExponent2.value)),k=x(W,E(q.fresnelWidth2.value).div(2)),z=F(q.fresnelColor.value),D=F(q.fresnelColor2.value),R=L(x(z,C),x(D,k));return L(p,x(R,L(g,E(.004))))})(),J.emissiveNode=p((e,a)=>{const s=a.lightsNode.getLights().find(e=>"DirectionalLight"===e.type);if(!s)return w(0);const t=c(s).normalize(),l=m(f.mul(y)),n=_(x(b(l,t),E(10))).oneMinus(),r=S(n,E(q.nightGamma.value)),i=x(Y(U.rgb),E(3)),u=x(r,x(i,E(q.nightStrength.value))),o=G(u,E(0),E(q.nightMaxMix.value));return x(U.rgb,o)})(),$.value=J,Z.value=new v(V,J)}),T({earthGroupRef:V}),(e,a)=>(R(),D("TresGroup",{ref_key:"earthGroupRef",ref:V},[Z.value?(R(),D("primitive",{key:0,object:Z.value},null,8,P)):I("",!0)],512))}});export{T as _};
