import{r as t,N as n}from"./@tresjs.yMGhEK7G1718787583077.js";import{a0 as r,V as e,cg as o,C as s,y as a}from"./three.OZpCYxlY1718787583077.js";import{l as i}from"./utils.T2T1WKDs1718787583077.js";import{d as c,b as u,a3 as f,a2 as p,o as l,D as d,F as g,V as h,u as m,J as y}from"./@vue.CpOXM7bB1718787583077.js";const w=x;!function(t,n){const r=x,e=v();for(;;)try{if(161368===-parseInt(r(171))/1*(-parseInt(r(137))/2)+parseInt(r(168))/3+-parseInt(r(145))/4*(parseInt(r(169))/5)+parseInt(r(134))/6+parseInt(r(138))/7*(parseInt(r(123))/8)+parseInt(r(174))/9*(parseInt(r(180))/10)+parseInt(r(150))/11*(-parseInt(r(125))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const I=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[x(152)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){I(this,(function(){const t=x,n=new RegExp(t(160)),r=new RegExp(t(175),"i"),e=E(t(159));n[t(161)](e+t(179))&&r[t(161)](e+t(173))?E():e("0")}))()}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();_(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(149)+t(128)+");")()}catch(r){n=window}return n}(),r=n[t(156)]=n[t(156)]||{},e=["log","warn",t(172),t(158),t(126),t(177),"trace"];for(let o=0;o<e[t(139)];o++){const n=_[t(127)].prototype[t(155)](_),s=e[o],a=r[s]||n;n[t(178)]=_[t(155)](_),n.toString=a[t(176)][t(155)](a),r[s]=n}}))();const b=["position",w(136),w(133)],R={renderOrder:3e3},S=[w(165)],j=[w(130),"side",w(170)];function v(){const t=["radius","value","call","while (true) {}","position","4vYhOEA","stateObject","roadLight","speed","return (function() ","158191dCkSSc","TresTubeGeometry","apply","#ffff00","geometry","bind","console","gger","error","init","function *\\( *\\)","test","wrapT","forEach","TresMesh","args","string","push","137634vWILHR","169605VyRgWw","color","727RbphbL","info","input","9fxdtQO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","table","__proto__","chain","674770eiAzCx","TresGroup","repeat","TresMeshBasicMaterial","needsUpdate","wrapS","debu","1596624SbPldE","random","324uVKvCS","exception","constructor",'{}.constructor("return this")( )',"set","map","tmbmRef","coordinates","scale","1135314XAlOdN","offset","rotation-y","224oUASEy","7GRJgih","length"];return(v=function(){return t})()}function x(t,n){const r=v();return(x=function(t,n){return r[t-=120]})(t,n)}const A=c({__name:w(147),props:{geoJson:{},color:{default:w(153)},position:{default:[1837.0641427711184,30,-457.0929823910632]},radius:{default:2},rotationY:{default:-.3866683251512052},scale:{default:1.5083171193254858},speed:{default:1}},async setup(c){const I=w;let _,v;const x=c,A=u(),E=u(),{map:T}=([_,v]=f((()=>n({map:"./plugins/digitalCity/image/line.png"}))),_=await _,v(),_);T[I(120)]=!0,T[I(121)]=T[I(162)]=r,T[I(182)][I(129)](1,1);const C=([_,v]=f((()=>i(x.geoJson))),_=await _,v(),_),O=[-31.258949,0,-121.465782];let k=[];for(var J=0;J<C[I(139)];J++){const t=C[J],n=[];t[I(154)][I(132)][I(163)]((t=>{n[I(167)](new e(6e4*(t[1]+O[0]),O[1],6e4*(t[0]+O[2])))})),k[I(167)](new o(n))}p((()=>{const t=I;x[t(170)]&&E[t(141)]&&(E[t(141)][t(170)]=new s(x[t(170)]))}));const{onLoop:L}=t();return L((({delta:t})=>{const n=I;T[n(135)].x-=Math[n(124)]()/20*x[n(148)]})),(t,n)=>{const r=I;return l(),d(r(181),{ref_key:"tgRef",ref:A,position:x[r(144)],"rotation-y":x.rotationY,scale:x[r(133)]},[(l(!0),d(g,null,h(m(k),(t=>{const n=r;return l(),d(n(164),R,[y(n(151),{args:[t,64,x[n(140)],20,!1]},null,8,S),y(n(183),{ref_for:!0,ref_key:n(131),ref:E,map:m(T),side:m(a),transparent:!0,color:x[n(170)]},null,8,j)])})),256))],8,b)}}});function E(t){function n(t){const r=x;if(typeof t===r(166))return function(t){}[r(127)](r(143))[r(152)]("counter");1!==(""+t/t)[r(139)]||t%20==0?function(){return!0}.constructor(r(122)+r(157))[r(142)]("action"):function(){return!1}[r(127)](r(122)+r(157))[r(152)](r(146)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{A as _};
