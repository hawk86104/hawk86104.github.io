import{e as t,U as e}from"./@tresjs.qWeugQU61734239885681.js";import{l as n}from"./utils.eWGaZNtC1734239885681.js";import{ac as o,B as r,s,cZ as a}from"./three.NPKhDGTA1734239885681.js";import{m as i}from"./d3-geo.v9NH8zku1734239885681.js";import{a6 as c,b as p,a3 as l,o as u,D as f,F as m,V as d,J as h,d as y,r as j,e as g,f as b,g as v,j as w,u as T,aj as I,ak as x,al as _,m as E}from"./@vue.-THQH3GC1734239885681.js";import{c as k,d as B,a as M}from"./three-mesh-bvh.VXqmm2ua1734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./@fesjs.1fC4qdx91734239885681.js";import"./vue-router.KCZH8FnA1734239885681.js";import"./lodash-es.kYt-_xTG1734239885681.js";import"./@qlin.yHhFDldE1734239885681.js";import"./pinia.XvNnwauR1734239885681.js";import"./vue-demi.C4xddsk91734239885681.js";import"./@floating-ui.BPbuo5Gx1734239885681.js";import"./@juggle.7yjBMqoW1734239885681.js";import"./d3-array.AhNJy1f41734239885681.js";const S=["properties","renderOrder"],C=["args"],G={__name:"chinaMapMesh",async setup(e){let y,j;r.prototype.computeBoundsTree=k,r.prototype.disposeBoundsTree=B,s.prototype.raycast=M;const g=i().center([104,37.5]).translate([0,0]),b=([y,j]=c((()=>n("./plugins/simpleGIS/json/china.json","features"))),y=await y,j(),y),v={depth:10,bevelEnabled:!1},w=[];b.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[o,r]=g(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}w.push({shape:n,properties:t.properties})}))}))}));const T=new o({color:"#3480C4",linewidth:1,linecap:"round"}),I=p();l((()=>{I.value&&I.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,T];t.material=e}))}));let x=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),x=t})();const _=t=>{t.object.material[0].color.set(16711680),x.innerText=t.object.properties.name,x.style.visibility="visible"},E=t=>{t.eventObject.material[0].color.set(3010559),x.style.visibility="hidden"},G=t=>{x.style.left="".concat(t.clientX+6,"px"),x.style.top="".concat(t.clientY+6,"px")},{onLoop:P}=t();return P((()=>{})),(t,e)=>(u(),f("TresGroup",{ref_key:"tgRef",ref:I},[(u(),f(m,null,d(w,((t,n)=>h("TresMesh",{key:"".concat(n),properties:t.properties,renderOrder:n,onPointerEnter:_,onPointerLeave:E,onPointerMove:G},[h("TresExtrudeGeometry",{args:[t.shape,v]},null,8,C),e[0]||(e[0]=h("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1))],40,S))),64))],512))}};function P(t,e){const n=F();return(P=function(t,e){return n[t-=275]})(t,e)}!function(t,e){const n=P,o=F();for(;;)try{if(745181===parseInt(n(285))/1*(parseInt(n(298))/2)+parseInt(n(304))/3*(parseInt(n(291))/4)+-parseInt(n(306))/5*(parseInt(n(279))/6)+parseInt(n(294))/7*(-parseInt(n(287))/8)+parseInt(n(281))/9+parseInt(n(303))/10+-parseInt(n(307))/11*(parseInt(n(301))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[P(280)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=P,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(286),"i"),o=O("init");e[t(278)](o+"chain")&&n.test(o+t(300))?O():o("0")}))()}();const z=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function F(){const t=["counter","toString","test","6mHrJXi","apply","4368024iAmHGp","TresPerspectiveCamera","constructor","bind","1UIgISX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2055448pHPgTT","trace","debu","return (function() ","735088fSZBRi","while (true) {}","stateObject","21ELzsDa","prototype","error","log","1127284GeCznp","console","input","84Ksljoa","table","11733790FhBROZ","21GkFlZc","TresCanvas","726910wxSruP","2903065kKXETT","gger","#201919","length","call"];return(F=function(){return t})()}z(void 0,(function(){const t=P;let e;try{e=Function(t(290)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(299)]=e.console||{},o=[t(297),"warn","info",t(296),"exception",t(302),t(288)];for(let s=0;s<o[t(310)];s++){const e=z.constructor[t(295)][t(284)](z),r=o[s],a=n[r]||e;e.__proto__=z[t(284)](z),e.toString=a[t(277)][t(284)](a),n[r]=e}}))();const L=y({__name:"chinaMap",setup(n){const o=P,r=j({clearColor:o(309)}),s=j({enableDamping:!0,dampingFactor:.05}),{onLoop:a}=t();return a((()=>{})),l((()=>{})),(t,n)=>{const a=o,i=g(a(305));return u(),b(i,E(r,{"window-size":""}),{default:v((()=>[n[0]||(n[0]=h(a(282),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),w(T(e),I(x(s)),null,16),(u(),b(_,null,{default:v((()=>[w(G)])),_:1}))])),_:1},16)}}});function O(t){function e(t){const n=P;if("string"==typeof t)return function(t){}.constructor(n(292))[n(280)](n(276));1!==(""+t/t)[n(310)]||t%20==0?function(){return!0}[n(283)](n(289)+n(308))[n(275)]("action"):function(){return!1}.constructor("debugger")[n(280)](n(293)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{L as default};
