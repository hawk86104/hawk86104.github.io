import{q as t,Y as n}from"./@tresjs.pv1MNfNv1726800306729.js";import{P as e}from"./tweakpane.yHWGBmom1726800306729.js";import{_ as o,ak as r,al as a}from"./three.ZddO3ejJ1726800306729.js";import{_ as s}from"./heatmap.js-fix.sViJCO6m1726800306729.js";import{d as i,a4 as c,a3 as u,o as l,E as p,u as f,r as d,e as h,f as m,g,j as v,al as y,aj as b,ak as x,m as w,L as _}from"./@vue.bvMz0l_u1726800306729.js";import"./@vueuse.bZHkTEeA1726800306729.js";import"./@amap.soyOEMuN1726800306729.js";const j=B;!function(t,n){const e=B,o=A();for(;;)try{if(776394===-parseInt(e(519))/1+parseInt(e(550))/2+parseInt(e(506))/3*(parseInt(e(518))/4)+-parseInt(e(508))/5*(-parseInt(e(520))/6)+parseInt(e(542))/7+parseInt(e(530))/8+-parseInt(e(552))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){I(this,(function(){const t=B,n=new RegExp(t(521)),e=new RegExp(t(500),"i"),o=R(t(502));n.test(o+"chain")&&e.test(o+t(495))?R():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(523)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=B;let n;try{n=Function("return (function() "+t(551)+");")()}catch(r){n=window}const e=n.console=n[t(505)]||{},o=[t(541),t(516),t(509),t(536),"exception",t(548),"trace"];for(let a=0;a<o[t(549)];a++){const n=C[t(483)][t(540)][t(537)](C),r=o[a],s=e[r]||n;n[t(544)]=C.bind(C),n.toString=s[t(529)][t(537)](s),e[r]=n}}))();const S=[j(497)];function A(){const t=["gger","mesh_0","body","ShaderMaterial","count","error","bind","border","deleteAttribute","prototype","log","468685tevHat","while (true) {}","__proto__","addData","setAttribute","createElement","table","length","2500792XBCYau",'{}.constructor("return this")( )',"8383356qxTECl","getZ","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","display","left","radius","material","BufferAttribute","constructor","DoubleSide","heatmap-canvas","geometry","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","scale","debu","string","none","position","setScalar","primitive","input","layerX","object","style","_renderer","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","init","counter","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","console","3hezULc","0.8","45UCHZsA","info","set","boundingBox","absolute","push","getX","canvas","warn","Texture","980852UGrbcx","295577oRAVNL","11268KORdIt","function *\\( *\\)","attributes","apply","action","computeBoundingBox","block","top","40px","toString","3391912jRYVth"];return(A=function(){return t})()}function B(t,n){const e=A();return(B=function(t,n){return e[t-=483]})(t,n)}const z=i({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t(e(554),{draco:!0,decoderPath:"./draco/"}))),r=await r,a(),r);d.mesh_0[e(492)][e(510)](-5088.96,-3.08,39374.7),d.mesh_0[e(488)][e(493)](.01);let h=null,m=null,g=null;m=new(o[e(517)])((()=>{const t=e;return g=document[t(547)](t(485)),g[t(498)][t(492)]=t(512),g[t(498)][t(527)]=t(528),g[t(498)][t(556)]="0",document[t(533)].appendChild(g),h=s.create({container:g,width:256,height:256,blur:t(507),radius:i[t(557)]}),h[t(499)].canvas.style[t(538)]="1px solid #5384ff",h[t(499)][t(515)].onclick=function(n){const e=t;h[e(545)]({x:n[e(496)],y:n.layerY,value:1,radius:i[e(557)]}),h.setDataMax(1),m&&(m.needsUpdate=!0)},h})()[e(499)][e(515)]);const v={vertexShader:e(487),fragmentShader:e(504),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(484)]},y=new(o[e(534)])(v);d[e(532)][e(558)]=y;return(t=>{const n=e;t[n(525)]();const{max:r,min:a}=t[n(511)];t[n(539)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(522)][n(492)][n(535)];e++)c[n(513)]((t[n(522)][n(492)][n(514)](e)-a.x)/s),c.push((t.attributes[n(492)][n(553)](e)-a.z)/i);const u=new Float32Array(c);t[n(546)]("uv",new(o[n(559)])(u,2))})(d[e(532)][e(486)]),u((()=>{const t=e;g.style[t(555)]=""+(i.show2dCanvas?t(526):t(491))})),(t,n)=>{const o=e;return l(),p(o(494),{object:f(d)[o(532)]},null,8,S)}}});function R(t){function n(t){const e=B;if(typeof t===e(490))return function(t){}[e(483)](e(543))[e(523)](e(503));1!==(""+t/t)[e(549)]||t%20==0?function(){return!0}[e(483)]("debu"+e(531)).call(e(524)):function(){return!1}[e(483)](e(489)+e(531))[e(523)](e(501)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const k=T;!function(t,n){const e=T,o=U();for(;;)try{if(300741===parseInt(e(210))/1+parseInt(e(219))/2+parseInt(e(197))/3*(parseInt(e(196))/4)+-parseInt(e(213))/5+parseInt(e(238))/6+-parseInt(e(228))/7+-parseInt(e(214))/8*(parseInt(e(205))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(216)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","169983cQZPKn","#ffffff","bind","1169640zatHGI","5564504tbuyFo","TresPerspectiveCamera","apply","action","show2dCanvas","1060854jBxGqV","error","TresGridHelper","debu","stateObject","input","exception","radius","constructor","2022741FixrXo","info","TresDirectionalLight","warn","table","init","显示二维图","TresCanvas","chain","log","3552966vBHIjj","heatmapClick","__proto__","14164sqhXSI","192yypEar","function *\\( *\\)","length","addBinding",'{}.constructor("return this")( )',"prototype","call","圆圈的大小","9RWApML","gger","test"];return(U=function(){return t})()}!function(){M(this,(function(){const t=T,n=new RegExp(t(198)),e=new RegExp(t(209),"i"),o=O(t(233));n.test(o+t(236))&&e[t(207)](o+t(224))?O():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(216)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=U();return(T=function(t,n){return e[t-=195]})(t,n)}E(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(201)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(237),t(231),t(229),t(220),t(225),t(232),"trace"];for(let r=0;r<o[t(199)];r++){const n=E.constructor[t(202)][t(212)](E),a=o[r],s=e[a]||n;n[t(195)]=E[t(212)](E),n.toString=s.toString.bind(s),e[a]=n}}))();const L=_(k(215),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),Z=_(k(230),{position:[5,10,7.5],color:k(211),intensity:5},null,-1),D=_(k(221),{args:[50,25]},null,-1),F=i({__name:k(239),setup(t){const o=k,s={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(200)](i,o(218),{label:o(234)}),c.addBinding(i,o(226),{label:o(204),min:.1,max:30,step:.1}),c.addButton({title:"点击左侧蓝色画框"}),(t,e)=>{const r=h(o(235));return l(),m(r,w(s,{"window-size":""}),{default:g((()=>[L,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),Z,D,(l(),m(y,null,{default:g((()=>[v(z,b(x(i)),null,16)])),_:1}))])),_:1},16)}}});function O(t){function n(t){const e=T;if(typeof t===e(208))return function(t){}[e(227)]("while (true) {}")[e(216)]("counter");1!==(""+t/t)[e(199)]||t%20==0?function(){return!0}[e(227)](e(222)+e(206))[e(203)](e(217)):function(){return!1}[e(227)](e(222)+e(206))[e(216)](e(223)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
