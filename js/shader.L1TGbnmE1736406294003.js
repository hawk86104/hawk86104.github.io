import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.AACxYGk_1736406294003.js";import{_ as i,a0 as s}from"./three.jaHX2_hY1736406294003.js";import{P as a}from"./tweakpane.yHWGBmom1736406294003.js";import{L as c}from"./three-subdivide.KLz9FuyS1736406294003.js";import{d as u,b as l,a1 as f,w as p,o as d,D as g,J as m,aj as h,ak as v,a4 as y,r as b,e as w,f as I,g as _,j as x,u as M,m as B,I as S}from"./@vue.yG49nQHr1736406294003.js";import"./@vueuse.d_orRt1V1736406294003.js";const j=C;function T(){const n=["apply","warn","subdivision","chain","test","trace","table","constructor","9QZMcfe","3XJwQKk","material","FrontSide","17141036OOInNk","7901890xRnXHB","3DcYbos","437102lTORWu","attributes","shineShader","function *\\( *\\)","side","while (true) {}","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"toString","debu","scale","copy","call","904242xeXpIk","uniforms","exception","console","string","modify","AdditiveBlending","TresShaderMaterial","geometry","stateObject","counter","10PRYcLP","srcMesh","blending","TresMesh","gger","subVectors","input","TSGref","position","180089qwsDSb","clone","value","Vector3","glowColor","4176448rmXZva","length","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","color","Color","log","bind","719204cFglXm","info"];return(T=function(){return n})()}!function(n,t){const e=C,r=T();for(;;)try{if(715268===-parseInt(e(135))/1*(parseInt(e(141))/2)+parseInt(e(140))/3*(-parseInt(e(187))/4)+parseInt(e(166))/5*(-parseInt(e(155))/6)+parseInt(e(175))/7+-parseInt(e(180))/8+-parseInt(e(134))/9*(-parseInt(e(139))/10)+parseInt(e(138))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(126)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){k(this,(function(){const n=C,t=new RegExp(n(144)),e=new RegExp(n(148),"i"),r=z("init");t[n(130)](r+n(129))&&e[n(130)](r+n(172))?z():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=T();return(C=function(n,t){return e[n-=126]})(n,t)}A(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function("return (function() "+n(149)+");")()}catch(e){t=window}return t}(),e=t[n(158)]=t.console||{},r=[n(185),n(127),n(188),"error",n(157),n(132),n(131)];for(let o=0;o<r[n(181)];o++){const t=A.constructor[n(147)][n(186)](A),i=r[o],s=e[i]||t;t.__proto__=A[n(186)](A),t[n(150)]=s.toString[n(186)](s),e[i]=t}}))();const R=[j(152)],F=u({__name:j(143),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(137)]},blending:{default:i[j(161)]}},setup(e){const r=j,o=e,s=l(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(184)])(o[r(183)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(182),side:o[r(145)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(168)]};f((()=>{const n=r;if(o[n(167)]&&s[n(177)]&&!s[n(177)][n(163)][n(142)][n(174)]){let t=o[n(167)][n(163)][n(176)]();o[n(128)]&&(t=c[n(160)](t,2)),s.value[n(163)]=t,s.value[n(174)][n(153)](o[n(167)].position)}o[n(183)]&&(a[n(156)][n(179)][n(177)]=new(i[n(184)])(o[n(183)])),o.c&&(a[n(156)].c[n(177)]=o.c),o.p&&(a[n(156)].p[n(177)]=o.p)})),p((()=>o[r(128)]),(n=>{const t=r;let e=o[t(167)][t(163)][t(176)]();n&&(e=c[t(160)](e,2)),s[t(177)].geometry=e})),p((()=>o[r(145)]),(n=>{const t=r;s[t(177)][t(136)][t(145)]=n})),p((()=>o[r(168)]),(n=>{const t=r;s[t(177)][t(136)][t(168)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=r;y[n(177)]&&s[n(177)]&&(a[n(156)].viewVector.value=(new(i[n(178)]))[n(171)](y[n(177)][n(174)],s[n(177)][n(174)]))})),(n,t)=>{const e=r;return d(),g(e(169),{ref_key:e(173),ref:s,scale:o[e(152)]},[m(e(162),h(v(a)),null,16)],8,R)}}});function z(n){function t(n){const e=C;if(typeof n===e(159))return function(n){}[e(133)](e(146))[e(126)](e(165));1!==(""+n/n).length||n%20==0?function(){return!0}[e(133)](e(151)+e(170))[e(154)]("action"):function(){return!1}[e(133)](e(151)+e(170))[e(126)](e(164)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=Z;!function(n,t){const e=Z,r=O();for(;;)try{if(381223===parseInt(e(364))/1*(-parseInt(e(349))/2)+parseInt(e(346))/3+-parseInt(e(362))/4+-parseInt(e(387))/5*(parseInt(e(377))/6)+parseInt(e(353))/7*(parseInt(e(388))/8)+parseInt(e(356))/9+parseInt(e(352))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){N(this,(function(){const n=Z,t=new RegExp(n(371)),e=new RegExp(n(376),"i"),r=E("init");t[n(381)](r+"chain")&&e[n(381)](r+n(340))?E():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Z(392)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function O(){const n=["TresMeshRefB","input","边缘处理","FrontSide","info","bind","color","55791caNtJn","gger","NormalBlending","35894qCjHGs","__proto__","toString","5202760uoPGQA","14Fdmdqy","instance","TreBoxRef","3532239GIpPAO","TresPerspectiveCamera","#222","TresMeshBasicMaterial","table","while (true) {}","2322788hrDlFG","TresMesh","24qpiyIr","TresBoxGeometry","prototype","#00dfff","subdivision","#0ff","TresCanvas","function *\\( *\\)","BackSide","addBinding","TresMeshRefA","TresSphereGeometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","735276kABSaE","debu","logo.png","exception","test","constructor","log",'{}.constructor("return this")( )',"map","trace","5wXVYHj","2335400BUbOeI","shader","stateObject","side","apply","srcMesh","counter","return (function() ","AdditiveBlending","value"];return(O=function(){return n})()}V(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function(n(336)+n(384)+");")()}catch(e){t=window}return t}(),e=t.console=t.console||{},r=[n(383),"warn",n(343),"error",n(380),n(360),n(386)];for(let o=0;o<r.length;o++){const t=V[n(382)][n(366)].bind(V),i=r[o],s=e[i]||t;t[n(350)]=V.bind(V),t[n(351)]=s.toString[n(344)](s),e[i]=t}}))();const P=[G(385)],X=[G(385)];function Z(n,t){const e=O();return(Z=function(n,t){return e[n-=336]})(n,t)}const D=u({__name:G(389),async setup(n){const t=G;let c,u;const f={clearColor:t(358)},p=l(),g=l(),h=l(),v=([c,u]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(379)]))),c=await c,u(),c),j=b({scale:1.6,color:t(367),subdivision:!0,c:1.1,p:1.4,side:i[t(342)],blending:i[t(337)]}),T=new a({title:"参数",expanded:!0});return T.addBinding(j,t(345),{label:"颜色"}),T[t(373)](j,"scale",{label:"大小",min:1,max:3,step:.2}),T[t(373)](j,t(368),{label:t(341)}),T[t(373)](j,"c",{label:"c",min:0,max:2,step:.1}),T[t(373)](j,"p",{label:"p",min:0,max:8,step:.2}),T[t(373)](j,t(391),{options:{FrontSide:i[t(342)],BackSide:i[t(372)],DoubleSide:s}}),T.addBinding(j,"blending",{options:{AdditiveBlending:i[t(337)],NormalBlending:i[t(348)]}}),(n,o)=>{const i=t,s=w(i(370));return d(),I(s,B(f,{"window-size":""}),{default:_((()=>[o[2]||(o[2]=m(i(357),{position:[5,5,5]},null,-1)),o[3]||(o[3]=m("TresAmbientLight",{intensity:1},null,-1)),x(M(e)),o[4]||(o[4]=m("TresGridHelper",{args:[10,10]},null,-1)),m(i(363),{ref_key:i(374),ref:p,position:[-2,1,0]},[o[0]||(o[0]=m(i(375),{args:[1,32,16]},null,-1)),m(i(359),{map:M(v)[0]},null,8,P)],512),x(F,B({srcMesh:p.value},j),null,16,[i(393)]),x(M(r),{ref_key:i(355),ref:h,args:[1,1,1],position:[2,1,0]},{default:_((()=>[m(i(359),{map:M(v)[1]},null,8,X)])),_:1},512),h[i(338)]&&h.value[i(354)]?(d(),I(F,B({key:0,srcMesh:h[i(338)][i(354)]},j),null,16,[i(393)])):S("",!0),m(i(363),{ref_key:i(339),ref:g,position:[0,1,-2]},o[1]||(o[1]=[m(i(365),{args:[1,1,1,1,1]},null,-1),m("TresMeshBasicMaterial",{color:i(369)},null,-1)]),512),x(F,B({srcMesh:g.value},j),null,16,[i(393)])])),_:1},16)}}});function E(n){function t(n){const e=Z;if("string"==typeof n)return function(n){}[e(382)](e(361))[e(392)](e(394));1!==(""+n/n).length||n%20==0?function(){return!0}[e(382)](e(378)+e(347)).call("action"):function(){return!1}.constructor(e(378)+e(347)).apply(e(390)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{D as default};
