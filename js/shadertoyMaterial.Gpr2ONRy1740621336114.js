import{e as t,o as n,a as e}from"./@tresjs.Td0X-dew1740621336114.js";import{a6 as r,a0 as o,f as a,V as i,av as s,s as c,cl as u,r as l}from"./three.sXv6UbbL1740621336114.js";import{z as f}from"./three-custom-shader-material.zFJQzgaY1740621336114.js";import{P as p}from"./tweakpane.yDiyAAkA1740621336114.js";import{a as h}from"./axios.qd3pZFDv1740621336114.js";import{d as m,r as v,a3 as d,q as g,e as w,o as y,f as b,g as I,N as x,j as C,u as _,aj as j,ak as T,m as A}from"./@vue.NRI7TcgI1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";!function(t,n){const e=D,r=L();for(;;)try{if(371185===-parseInt(e(459))/1+-parseInt(e(431))/2*(-parseInt(e(440))/3)+-parseInt(e(456))/4*(parseInt(e(439))/5)+parseInt(e(457))/6+parseInt(e(446))/7*(-parseInt(e(441))/8)+parseInt(e(462))/9+parseInt(e(428))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(453)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=D,n=new RegExp(t(442)),e=new RegExp(t(454),"i"),r=z(t(443));n[t(429)](r+t(452))&&e[t(429)](r+t(461))?z():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(453)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(t,n){const e=L();return(D=function(t,n){return e[t-=417]})(t,n)}function L(){const t=["length","replace","9625360geIaPa","test","bind","444894IQqRgZ","gger","debu","table","constructor","varying vec2 vUv;\n","vUv","string","38265ssifFO","3vHtbTi","164920bhGPWB","function *\\( *\\)","init","prototype","split","217RZfKUO","counter","error","exception","uniform float utime;\n","return (function() ","chain","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"32LLmqVC","429222Lmqiht","material","399932qebVLp","utexture","input","1933974ebJlOr","csm_DiffuseColor","call","toString","log","trace","void main()","while (true) {}","action","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","warn"];return(L=function(){return t})()}Z(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(451)+t(455)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=[t(419),t(425),"info",t(448),t(449),t(434),t(420)];for(let o=0;o<r[t(426)];o++){const n=Z[t(435)][t(444)][t(430)](Z),a=r[o],i=e[a]||n;n.__proto__=Z[t(430)](Z),n[t(418)]=i[t(418)][t(430)](i),e[a]=n}}))();class V{constructor(t,n){const e=D,a=V.replaceVariable(t),i=new f({baseMaterial:r,vertexShader:e(424),fragmentShader:a,side:o,uniforms:n[e(458)].uniforms});this.material=i,console[e(419)](this[e(458)])}static replaceVariable(t){const n=D;t=n(436)+t;if(/iTime|iTimeDelta/g[n(429)](t)){let e=t[n(445)](n(436));t=(t="varying vec2 vUv;\n"+n(450)+e[1]).replace(/iTime|iTimeDelta/g,"utime")}if(/iResolution\.[a-zA-Z_]+/g[n(429)](t)){let e=t[n(445)](n(436));t=(t=(t=n(436)+"uniform vec2 uresolution;\n"+e[1])[n(427)](/iResolution\.[a-zA-Z_]+/g,"1.")).replace(/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(429)](t)){let e=t[n(445)](n(436));t=(t=n(436)+"uniform sampler2D  utexture;\n"+e[1])[n(427)](/iChannel0|iChannel1|iChannel2|iChannel3/g,n(460))}return t.replace(/iMouse/g,"umouse"),t[n(427)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(421))[n(427)](/fragColor/g,n(463)).replace(/fragCoord/g,n(437))}}function z(t){function n(t){const e=D;if(typeof t===e(438))return function(t){}[e(435)](e(422)).apply(e(447));1!==(""+t/t).length||t%20==0?function(){return!0}[e(435)](e(433)+e(432))[e(417)](e(423)):function(){return!1}[e(435)]("debu"+e(432)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=G;!function(t,n){const e=G,r=O();for(;;)try{if(994418===parseInt(e(374))/1+parseInt(e(371))/2*(parseInt(e(398))/3)+parseInt(e(384))/4+-parseInt(e(361))/5*(parseInt(e(407))/6)+parseInt(e(360))/7+-parseInt(e(420))/8*(-parseInt(e(426))/9)+-parseInt(e(379))/10*(parseInt(e(383))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=G,n=new RegExp(t(401)),e=new RegExp(t(391),"i"),r=P("init");n.test(r+t(376))&&e[t(396)](r+"input")?P():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(419)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=G;let n;try{n=Function(t(409)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(410)]=n[t(410)]||{},r=[t(390),t(366),t(418),t(415),t(414),t(413),t(422)];for(let a=0;a<r[t(405)];a++){const n=U[t(404)][t(381)][t(373)](U),o=r[a],i=e[o]||n;n[t(416)]=U.bind(U),n[t(421)]=i[t(421)].bind(i),e[o]=n}}))();const k={ref:H(417),position:[300,250,-122],fov:45,near:1,far:1e4},E=[H(380),"side"];function G(t,n){const e=O();return(G=function(t,n){return e[t-=360]})(t,n)}function O(){const t=["change","https://www.shadertoy.com/view/tlVGDt","shadertoy在线地址","2157018XHsZHQ","code","bind","79598TMpYtV","TresAxesHelper","chain","shadervalue","#ffffff","2793480aVstUG","object","prototype","debu","66fhWpvY","3385144CUrBCK","gger","add","clear","https://www.shadertoy.com/api/v1/shaders/","TresAmbientLight","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","https://www.shadertoy.com/view/mtyGWy","Shader","TresCanvas","children","test","get","3SHjsJE","material","https://www.shadertoy.com/view/ttKGDt","function *\\( *\\)","addres","renderpass","constructor","length","split","3085176iOwrNE","then","return (function() ","console","#000000","addBlade","table","exception","error","__proto__","perspectiveCameraRef","info","apply","8nKBbch","toString","trace","catch","data","string","11518587VrZxAA","list","value","Error","while (true) {}","2902634fYkkWA","10ZzwfDg","call","TorusKnot","几何体","action","warn","TresDirectionalLight"];return(O=function(){return t})()}const B=m({__name:"shadertoyMaterial",async setup(r){const f=H;let m,R;const Z={clearColor:f(411),shadows:!0,alpha:!1,useLegacyLights:!0},D={autoRotate:!0,enableDamping:!0},L=new p({title:"参数"}),z=v({addres:f(392),shadervalue:""});let S=([m,R]=d((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),m=await m,R(),m),U=new a,G=v({material:{uniforms:{utime:{value:0},uresolution:{value:new i(40,40)},utexture:{value:S}}}}),O=new s(100,100,100);L[f(412)]({view:f(427),label:f(370),parse:t=>String(t),options:[{text:"1",value:f(392)},{text:"2",value:f(369)},{text:"3",value:f(400)}],value:"https://www.shadertoy.com/view/mtyGWy"}).on("change",(t=>{const n=f;z[n(402)]=t[n(428)],K(O)}));let B=new s(100,100,100),P=new c(100,100),q=new u(100,10,100,16);L[f(412)]({view:f(427),label:f(364),options:[{text:"BOX",value:B},{text:"Plane",value:P},{text:f(363),value:q}],value:B}).on(f(368),(t=>{O=t[f(428)],K(O)}));const K=t=>{const n=f;let e=n(388)+z[n(402)][n(406)]("https://www.shadertoy.com/view/")[1]+"?key=BdHlhH";h[n(397)](e)[n(408)]((function(e){const r=n;e.data[r(429)]&&alert(e[r(424)][r(429)]),z[r(377)]=e[r(424)][r(393)][r(403)][0][r(372)];let o=new V(z.shadervalue,G);U[r(387)]();let a=new l(t,o[r(399)]);U[r(386)](a),W(U,t)}))[n(423)]((function(t){console[n(390)](t)}))},W=(t,n)=>{const e=f;t[e(395)][0].geometry.dispose(),t[e(395)][0].geometry=n},{onLoop:M}=t();return M((({delta:t})=>{const n=f;G[n(399)].uniforms.utime[n(428)]+=t})),g((()=>{let t=new s(100,100,100);K(t)})),(t,e)=>{const r=f,a=w(r(394));return y(),b(a,A(Z,{"window-size":""}),{default:I((()=>[x("TresPerspectiveCamera",k,null,512),C(_(n),j(T(D)),null,16),e[0]||(e[0]=x(r(389),{color:r(378)},null,-1)),e[1]||(e[1]=x(r(367),{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),x("primitive",{object:_(U),side:_(o)},null,8,E),e[2]||(e[2]=x(r(375),{args:[1e3],position:[0,19,0]},null,-1)),e[3]||(e[3]=x("TresGridHelper",{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});function P(t){function n(t){const e=G;if(typeof t===e(425))return function(t){}[e(404)](e(430)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(382)+e(385))[e(362)](e(365)):function(){return!1}[e(404)](e(382)+e(385))[e(419)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{B as default};
