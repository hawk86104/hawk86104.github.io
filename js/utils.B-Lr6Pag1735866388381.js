import{a as t,B as n,s as e,c7 as o,C as r,k as s,a0 as c}from"./three.Rja0AEnA1735866388381.js";import{w as i}from"./@fesjs.u6K5q1hz1735866388381.js";import{b as a}from"./@tresjs.FlKhQDQ71735866388381.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.uuNiUzrn1735866388381.js";!function(t,n){const e=h,o=g();for(;;)try{if(754433===-parseInt(e(303))/1+parseInt(e(297))/2*(-parseInt(e(299))/3)+-parseInt(e(342))/4+-parseInt(e(360))/5+parseInt(e(334))/6*(parseInt(e(327))/7)+parseInt(e(339))/8+parseInt(e(343))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(344)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(){const t=["depthWrite","transparent","setFromObject","toString","divideScalar","sub","set","boundingBox","deleteAttribute","min","counter","applyMatrix4","__proto__","error","516257kTSklu","center","then","copy","catch","trace","geometry","48BqkKtD","Vector3","info","computeBoundsTree","getX","6860928mAWzHy","uniforms","push","856724DfnXrM","16758144UFtRky","apply","getSize","return (function() ","features","console","count","while (true) {}","side","prototype","max","warn","table","random","depthTest","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","computeBoundingBox","4314175cJttMY","stateObject","action","constructor","#fff","getCenter","setAttribute",'{}.constructor("return this")( )',"json","negate","getY","disposeBoundsTree","function *\\( *\\)","debu","value","1101172QTTPCE","clone","6VRYgBt","call","bind","expandByObject","377019swsgGa","log","test","length","raycast","add","setY","material","attributes","position"];return(g=function(){return t})()}!function(){l(this,(function(){const t=h,n=new RegExp(t(294)),e=new RegExp(t(358),"i"),o=B("init");n[t(305)](o+"chain")&&e[t(305)](o+"input")?B():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(t,n){const e=g();return(h=function(t,n){return e[t-=289]})(t,n)}m(void 0,(function(){const t=h;let n;try{n=Function(t(346)+t(289)+");")()}catch(r){n=window}const e=n[t(348)]=n[t(348)]||{},o=[t(304),t(354),t(336),t(326),"exception",t(355),t(332)];for(let s=0;s<o[t(306)];s++){const n=m[t(363)][t(352)].bind(m),r=o[s],c=e[r]||n;n[t(325)]=m[t(301)](m),n[t(316)]=c[t(316)][t(301)](c),e[r]=n}}))();const y=(n,e=!1)=>{const o=h;n.computeBoundingBox();const{max:r,min:s}=n[o(320)];n[o(321)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(311)].position[o(349)];t++)e?(a.push((n[o(311)][o(312)].getX(t)-(s.x+r.x)/2)/c),a[o(341)]((n[o(311)][o(312)][o(292)](t)-(s.y+r.y)/2)/i)):(a[o(341)]((n[o(311)].position[o(338)](t)-s.x)/c),a[o(341)]((n[o(311)][o(312)].getY(t)-s.y)/i));const u=new Float32Array(a);n[o(366)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=h;i(t,{},{method:"get",mergeRequest:!0,responseType:r(290)})[r(329)]((t=>{const o=r;n&&e(t[n]),e(t[o(347)])}))[r(331)]((t=>{console[r(326)](t),o(t)}))})),w=t=>{const n=h,e=(new THREE.Box3)[n(315)](t),o=new(THREE[n(335)]);e[n(365)](o),t.children.forEach((t=>{t[n(312)].sub(o)})),t[n(312)].copy(o.negate())},x=()=>{const t=h;n.prototype[t(337)]=u,n.prototype[t(293)]=p,e.prototype[t(307)]=f},b=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(333)][n(298)]();y(i),i[n(337)]();const u=new o(i,{color:new r(n(364)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(310)][n(314)]=!0,u[n(310)][n(313)]=!0,u.material[n(357)]=!0,u[n(310)][n(351)]=c,u[n(310)][n(340)].config.value.w=20,u.material.uniforms.reflectivity[n(296)]=.46,u};function j(t){const n=h,e=[];for(let r=0;r<t[n(306)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(306)];r++)o[n(308)](e[r]);o[n(317)](e.length);for(let r=0;r<e[n(306)];r++)e[r][n(318)](o);return{points:e,centerPoint:o}}function B(t){function n(t){const e=h;if("string"==typeof t)return function(t){}[e(363)](e(350))[e(344)](e(323));1!==(""+t/t).length||t%20==0?function(){return!0}[e(363)](e(295)+"gger")[e(300)](e(362)):function(){return!1}[e(363)](e(295)+"gger").apply(e(361)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,d as l,y as r,b as s};
