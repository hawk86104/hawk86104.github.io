import{_ as t,cD as n,ak as e,V as o}from"./three.HQIWXjA-1732680436779.js";import{P as r}from"./tweakpane.yHWGBmom1732680436779.js";import{m as s,e as i}from"./@tresjs.ozxSQdlw1732680436779.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.47SbDmt61732680436779.js";import{d,a3 as g,w as h,o as j,D as w,u as b,X as y,r as v,e as x,j as I,g as M,f as _,al as z,m as B,F as C}from"./@vue.u2cBPEWn1732680436779.js";import{_ as k}from"./raycasterEvent.5-8kaQHZ1732680436779.js";import{a as A}from"./utils.eAJevFAB1732680436779.js";import"./@vueuse.OVEejUj91732680436779.js";import"./@mapbox.gyeyDLV11732680436779.js";import"./@amap.jmLgXK4f1732680436779.js";import"./three-mesh-bvh.qxsdV1TA1732680436779.js";import"./three-custom-shader-material.9-Fy8s-01732680436779.js";import"./@fesjs.PwptM7Gh1732680436779.js";import"./vue-router.87op6V6j1732680436779.js";import"./lodash-es.guXTxyfJ1732680436779.js";import"./@qlin.yHhFDldE1732680436779.js";import"./pinia.u6SS9Z3a1732680436779.js";import"./vue-demi.C4xddsk91732680436779.js";import"./@floating-ui.BPbuo5Gx1732680436779.js";import"./@juggle.7yjBMqoW1732680436779.js";import"./@tweenjs.N-Wo2kDo1732680436779.js";import"./utils.8rnLE6QZ1732680436779.js";import"./d3-geo.2-3yBryK1732680436779.js";import"./d3-array.AhNJy1f41732680436779.js";import"./http.GA57ZUC11732680436779.js";import"./axios.Ng308AU61732680436779.js";import"./color.b7DBPhuY1732680436779.js";import"./color-string.ScOua_wr1732680436779.js";import"./color-name.hW5V4Abf1732680436779.js";import"./simple-swizzle.UgSRMkyX1732680436779.js";import"./is-arrayish.X_0-Ekc_1732680436779.js";import"./color-convert.Pz_p6l2e1732680436779.js";import"./lodash.aG5HjhDh1732680436779.js";import"./naive-ui.DrMW3G9p1732680436779.js";import"./date-fns.5Hiebz9E1732680436779.js";import"./@css-render.amKjkFkK1732680436779.js";import"./seemly.SjiSeX2v1732680436779.js";import"./css-render.9KxEdJ5V1732680436779.js";import"./@emotion.ZD_ZYAgY1732680436779.js";import"./vooks.0eKSmon21732680436779.js";import"./evtd.DtfwxtIl1732680436779.js";import"./vueuc.S_D9WJ2W1732680436779.js";import"./vdirs.E0vnoVbF1732680436779.js";import"./treemate.dcEdf2le1732680436779.js";import"./date-fns-tz.6t6V6Pmj1732680436779.js";import"./async-validator.-YBkpS4I1732680436779.js";function D(){const t=["debu","useStandardMaterial","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","position","wireframe","maxZoom","minDistance","render","test","rotation","value","Color","lookAt","console","gger","set","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","1585352XziuFD","action","showTileNo","update","405452PAewLw","trace","camera","mapCenter","23073aPfqMg","5521690iZsOmE","function *\\( *\\)","innerHeight","PerspectiveCamera","36jMojAU","260zhINkk","genBright","constructor","bind","provider","info","flatShading",'{}.constructor("return this")( )',"call","init","chain","useWorker","apply","__proto__","target","genContrast","tweenInstance","warn","length","filter","innerWidth","primitive","monochrome","2274dGIDDv","object","13104deAzLK","#fff","bbox","log","249594ZJlYWR","dampingFactor","3575770XWipvL","coordType","domElement","source","opposite","isMonochrome","genSaturation","Vector3","input","toString"];return(D=function(){return t})()}const S=E;!function(t,n){const e=E,o=D();for(;;)try{if(444299===parseInt(e(218))/1+parseInt(e(257))/2+-parseInt(e(222))/3*(-parseInt(e(228))/4)+parseInt(e(259))/5+-parseInt(e(251))/6*(-parseInt(e(253))/7)+parseInt(e(287))/8+-parseInt(e(227))/9*(parseInt(e(223))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=E,n=new RegExp(t(224)),e=new RegExp(t(285),"i"),o=L(t(237));n.test(o+t(238))&&e[t(277)](o+t(267))?L():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(240)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=E;let n;try{n=Function("return (function() "+t(235)+");")()}catch(r){n=window}const e=n.console=n[t(282)]||{},o=[t(256),t(245),t(233),"error","exception","table",t(219)];for(let s=0;s<o[t(246)];s++){const n=P.constructor.prototype.bind(P),r=o[s],i=e[r]||n;n[t(241)]=P[t(231)](P),n[t(268)]=i[t(268)].bind(i),e[r]=n}}))();const R=[S(252),S(278)];function E(t,n){const e=D();return(E=function(t,n){return e[t-=215]})(t,n)}const F=d({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:S(254)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const r=S,f=e,{renderer:d,scene:y}=s();(new a)[r(260)]=c;const v=new u;v[r(262)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",v[r(260)]=c;const x=new p;x[r(262)]=r(271),x[r(216)]=!1,x[r(239)]=!0;const I=new l(v,x);if(I.showBoundingBox=!1,I[r(273)]=!1,I[r(234)]=!1,I[r(270)]=!1,I.filter={opposite:f[r(263)],monochrome:f[r(264)]?{r:.299,g:.587,b:.114}:null,genBright:f[r(229)],genContrast:f[r(243)],genSaturation:f[r(265)]},f[r(250)]){let n=new(t[r(280)])(f[r(250)]);I[r(247)]&&(I[r(247)][r(250)]={r:n.r,g:n.g,b:n.b})}const M=new m;M[r(232)]=I,M[r(255)]=f[r(255)],M.maxZoom=f[r(274)];const _=new(t[r(226)])(60,window[r(248)]/window[r(225)],1,1e8);_.up=new(t[r(266)])(0,1,0),_.position[r(284)](f[r(221)][0],f[r(221)][2],-f.mapCenter[1]),_[r(281)](new(t[r(266)])(_[r(272)].x,0,_[r(272)].z-2e3)),M[r(220)]=_;let z=null;g((()=>{const t=r;d[t(279)]&&!z&&(z=new n(_,d.value[t(261)]),z.enableDamping=!0,z[t(258)]=.05,z[t(275)]=600,z.position0[t(284)](_[t(272)].x,_.position.y,_[t(272)].z),z[t(242)][t(284)](_[t(272)].x,0,_[t(272)].z-2e3))})),h((()=>[f[r(263)],f.isMonochrome,f.monochrome]),(([n,e,o])=>{const s=r;if(I[s(247)]){let r=new(t[s(280)])(o);I[s(247)].opposite=n,I[s(247)][s(250)]=e?{r:r.r,g:r.g,b:r.b}:null}})),h((()=>[f[r(229)],f[r(243)],f[r(265)]]),(([t,n,e])=>{const o=r;I[o(247)]&&(I[o(247)][o(229)]=t,I.filter.genContrast=n,I[o(247)][o(265)]=e)}));const{onLoop:B}=i();return B((()=>{var t;const n=r;if(d[n(279)]){null==(t=f[n(244)])||t.update(),z&&z[n(217)](),M[n(217)]();const e=50*Math.abs(_.position.y);_.far=e+5e3,_.updateProjectionMatrix(),d[n(279)][n(276)](y[n(279)],_)}})),o({camera:_,map:M,orbitControl:z}),(t,n)=>{const e=r;return j(),w(e(249),{object:b(M),rotation:[-Math.PI/2,0,0]},null,8,R)}}});function L(t){function n(t){const e=E;if("string"==typeof t)return function(t){}[e(230)]("while (true) {}").apply("counter");1!==(""+t/t)[e(246)]||t%20==0?function(){return!0}.constructor(e(269)+e(283))[e(236)](e(215)):function(){return!1}.constructor(e(269)+"gger")[e(240)](e(286)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=T;function T(t,n){const e=X();return(T=function(t,n){return e[t-=100]})(t,n)}!function(t,n){const e=T,o=X();for(;;)try{if(198886===-parseInt(e(103))/1*(parseInt(e(151))/2)+parseInt(e(163))/3*(parseInt(e(162))/4)+-parseInt(e(146))/5+parseInt(e(164))/6+-parseInt(e(110))/7*(-parseInt(e(101))/8)+parseInt(e(141))/9+parseInt(e(120))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=T,n=new RegExp(t(138)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=q(t(130));n[t(127)](o+t(116))&&e[t(127)](o+t(108))?q():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(125)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["error","change","bind","prototype","奥体中心","call","tweenInstance","tileMapMeshRef","牛首山","对比度","4yDArjO","45951nNAIty","160032PheXdb","xjk","console","228048bWKhUs","log","11WJDfNn","while (true) {}","tileMapRef","toString","genContrast","input","constructor","91knvyyq","单色滤镜","orbitControl","tileMap","Vector3","__proto__","chain","debu","stateObject","gger","2419500uirntB","滤镜颜色","genSaturation","addBinding","genBright","apply","新街口","test","#201919","table","init","exception","manual","nss","trace","value","length","counter","function *\\( *\\)","monochrome","list","2695914BPrgZt","isMonochrome","NoToneMapping","camera","#4688b5","1919195YoiFFi","return (function() ","饱和度","warn","string","67516srAeLH"];return(X=function(){return t})()}O(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(147)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(100)]=n[t(100)]||{},o=[t(102),t(149),"info",t(152),t(131),t(129),t(134)];for(let r=0;r<o.length;r++){const n=O[t(109)][t(155)].bind(O),s=o[r],i=e[s]||n;n[t(115)]=O[t(154)](O),n[t(106)]=i[t(106)][t(154)](i),e[s]=n}}))();const $=d({__name:W(113),setup(n){const s=W,i=f(118.779958,32.017136),a=[i[0],i[1],5e3],c=y(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:s(145),mapCenter:a,tweenInstance:null}),p=new r({title:"参数"});p[s(123)](u,"opposite",{label:"反色"}),p.addBinding(u,s(124),{label:"高亮",min:.1,max:3,step:.1}),p.addBinding(u,s(107),{label:s(161),min:.1,max:3,step:.1}),p[s(123)](u,s(122),{label:s(148),min:.1,max:3,step:.1}),p[s(123)](u,s(142),{label:s(111)}),p.addBinding(u,s(139),{label:s(121)});const l={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p.addBlade({view:s(140),label:"飞去",options:[{text:s(156),value:"at"},{text:s(126),value:s(165)},{text:s(160),value:s(133)}],value:"at"}).on(s(153),(n=>{const e=s,o=new(t[e(114)])(l[n[e(135)]][0],2e3,-l[n[e(135)]][1]);u[e(158)]=A(c[e(135)][e(144)],o,c.value[e(112)],[0,-300],4e3)}));const m=v({clearColor:s(128),antialias:!0,logarithmicDepthBuffer:!0,renderMode:s(132),outputColorSpace:e,toneMapping:t[s(143)]});return setTimeout((()=>{const t=s,n=l.at,e=new o(n[0],1600,-n[1]);u.tweenInstance=A(c.value.camera,e,c[t(135)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=s,o=x("TresCanvas");return j(),w(C,null,[I(o,B(m,{"window-size":""}),{default:M((()=>[(j(),_(z,null,{default:M((()=>[I(F,B(u,{ref_key:e(159),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(k,{tileMapRef:c[e(135)]},null,8,[e(105)])],64)}}});function q(t){function n(t){const e=T;if(typeof t===e(150))return function(t){}[e(109)](e(104))[e(125)](e(137));1!==(""+t/t)[e(136)]||t%20==0?function(){return!0}[e(109)](e(117)+"gger")[e(157)]("action"):function(){return!1}[e(109)]("debu"+e(119)).apply(e(118)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{$ as default};
