import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{_ as s,C as i,y as a,a0 as c}from"./three.FxqAALWt1741168315107.js";import{P as u}from"./tweakpane.yDiyAAkA1741168315107.js";import{L as l}from"./three-subdivide.37nYZCDR1741168315107.js";import{d as f,b as p,a2 as d,w as g,o as h,H as m,N as v,aj as y,ak as b,a3 as w,r as M,e as _,f as I,g as x,j as S,u as T,m as j,M as B}from"./@vue.NRI7TcgI1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";const k=R;!function(n,t){const e=R,r=F();for(;;)try{if(201115===parseInt(e(117))/1+parseInt(e(141))/2*(parseInt(e(144))/3)+-parseInt(e(150))/4*(-parseInt(e(137))/5)+-parseInt(e(112))/6*(parseInt(e(166))/7)+parseInt(e(124))/8*(parseInt(e(114))/9)+parseInt(e(163))/10+-parseInt(e(138))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[R(158)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=R,t=new RegExp(n(139)),e=new RegExp(n(109),"i"),r=V(n(135));t[n(122)](r+n(127))&&e.test(r+n(134))?V():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();A(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function("return (function() "+n(146)+");")()}catch(e){t=window}return t}(),e=t[n(116)]=t[n(116)]||{},r=["log",n(140),n(129),n(145),n(143),n(115),n(132)];for(let o=0;o<r[n(151)];o++){const t=A.constructor[n(164)][n(123)](A),s=r[o],i=e[s]||t;t.__proto__=A[n(123)](A),t[n(118)]=i[n(118)][n(123)](i),e[s]=t}}))();const C=["scale"];function F(){const n=["blending","7zpffSW","srcMesh","clone","TresShaderMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","scale","gger","1567086tqNGht","string","2512269hbzJdR","table","console","265351ZlaqTx","toString","viewVector","subdivision","action","test","bind","8ZZfdPF","subVectors","attributes","chain","modify","info","geometry","TresMesh","trace","debu","input","init","position","964785MKJeag","11666314hfLWRo","function *\\( *\\)","warn","470540cQniEK","material","exception","3zQvxZc","error",'{}.constructor("return this")( )',"TSGref","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","side","8SLjqMS","length","constructor","color","Vector3","value","Color","uniforms","apply","FrontSide","counter","AdditiveBlending","call","3571940FdOLkT","prototype"];return(F=function(){return n})()}function R(n,t){const e=F();return(R=function(n,t){return e[n-=106]})(n,t)}const N=f({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[k(159)]},blending:{default:s[k(161)]}},setup(e){const r=k,o=e,a=p(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new i(o[r(153)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(148),side:o[r(149)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(165)]};d((()=>{const n=r;if(o[n(106)]&&a[n(155)]&&!a[n(155)][n(130)][n(126)][n(136)]){let t=o[n(106)][n(130)].clone();o[n(120)]&&(t=l[n(128)](t,2)),a[n(155)][n(130)]=t,a[n(155)][n(136)].copy(o[n(106)][n(136)])}o[n(153)]&&(c[n(157)].glowColor[n(155)]=new(s[n(156)])(o[n(153)])),o.c&&(c[n(157)].c[n(155)]=o.c),o.p&&(c[n(157)].p[n(155)]=o.p)})),g((()=>o[r(120)]),(n=>{const t=r;let e=o[t(106)].geometry[t(107)]();n&&(e=l[t(128)](e,2)),a[t(155)].geometry=e})),g((()=>o[r(149)]),(n=>{const t=r;a[t(155)][t(142)][t(149)]=n})),g((()=>o[r(165)]),(n=>{const t=r;a[t(155)][t(142)][t(165)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=r;f[n(155)]&&a.value&&(c[n(157)][n(119)][n(155)]=(new(s[n(154)]))[n(125)](f[n(155)][n(136)],a[n(155)].position))})),(n,t)=>{const e=r;return h(),m(e(131),{ref_key:e(147),ref:a,scale:o[e(110)]},[v(e(108),y(b(c)),null,16)],8,C)}}});function V(n){function t(n){const e=R;if(typeof n===e(113))return function(n){}[e(152)]("while (true) {}").apply(e(160));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(133)+"gger")[e(162)](e(121)):function(){return!1}[e(152)](e(133)+e(111))[e(158)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Z=q;!function(n,t){const e=q,r=G();for(;;)try{if(937694===parseInt(e(439))/1+-parseInt(e(434))/2+-parseInt(e(473))/3+-parseInt(e(495))/4*(-parseInt(e(463))/5)+parseInt(e(442))/6*(-parseInt(e(438))/7)+parseInt(e(477))/8*(parseInt(e(493))/9)+-parseInt(e(496))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[q(470)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function q(n,t){const e=G();return(q=function(n,t){return e[n-=434]})(n,t)}!function(){E(this,(function(){const n=q,t=new RegExp(n(489)),e=new RegExp(n(451),"i"),r=$(n(480));t[n(457)](r+"chain")&&e[n(457)](r+n(487))?$():r("0")}))()}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();L(void 0,(function(){const n=q,t=function(){const n=q;let t;try{t=Function(n(478)+n(456)+");")()}catch(e){t=window}return t}(),e=t[n(443)]=t[n(443)]||{},r=[n(462),n(450),n(454),n(482),n(472),n(476),"trace"];for(let o=0;o<r[n(452)];o++){const t=L[n(481)][n(483)][n(491)](L),s=r[o],i=e[s]||t;t[n(460)]=L.bind(L),t[n(446)]=i[n(446)][n(491)](i),e[s]=t}}))();const O=[Z(448)],P=[Z(448)];function G(){const n=["counter","input","TresCanvas","function *\\( *\\)","scale","bind","color","2073663DkCERd","TresMesh","4064POzIlO","19781740bpScuE","705760NLlOlu","debu","NormalBlending","stateObject","7dhPMVq","1672442UqFVZY","logo.png","TresSphereGeometry","1795794sHcAFR","console","AdditiveBlending","TreBoxRef","toString","string","map","BackSide","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","addBinding","info","TresBoxGeometry",'{}.constructor("return this")( )',"test","TresGridHelper","instance","__proto__","gger","log","8240ipHqsN","side","blending","srcMesh","TresMeshRefA","while (true) {}","TresAmbientLight","apply","value","exception","4174836ovHiBF","TresMeshBasicMaterial","TresPerspectiveCamera","table","56sqYIQn","return (function() ","FrontSide","init","constructor","error","prototype","边缘处理","TresMeshRefB"];return(G=function(){return n})()}const H=f({__name:"shader",async setup(n){const t=Z;let i,l;const f={clearColor:"#222"},d=p(),g=p(),m=p(),y=([i,l]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(440)]))),i=await i,l(),i),b=M({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:a,blending:s[t(444)]}),k=new u({title:"参数",expanded:!0});return k.addBinding(b,t(492),{label:"颜色"}),k[t(453)](b,t(490),{label:"大小",min:1,max:3,step:.2}),k[t(453)](b,"subdivision",{label:t(484)}),k[t(453)](b,"c",{label:"c",min:0,max:2,step:.1}),k[t(453)](b,"p",{label:"p",min:0,max:8,step:.2}),k.addBinding(b,t(464),{options:{FrontSide:s[t(479)],BackSide:s[t(449)],DoubleSide:c}}),k[t(453)](b,t(465),{options:{AdditiveBlending:s[t(444)],NormalBlending:s[t(436)]}}),(n,o)=>{const s=t,i=_(s(488));return h(),I(i,j(f,{"window-size":""}),{default:x((()=>[o[2]||(o[2]=v(s(475),{position:[5,5,5]},null,-1)),o[3]||(o[3]=v(s(469),{intensity:1},null,-1)),S(T(e)),o[4]||(o[4]=v(s(458),{args:[10,10]},null,-1)),v(s(494),{ref_key:s(467),ref:d,position:[-2,1,0]},[o[0]||(o[0]=v(s(441),{args:[1,32,16]},null,-1)),v(s(474),{map:T(y)[0]},null,8,O)],512),S(N,j({srcMesh:d[s(471)]},b),null,16,[s(466)]),S(T(r),{ref_key:s(445),ref:m,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v("TresMeshBasicMaterial",{map:T(y)[1]},null,8,P)])),_:1},512),m[s(471)]&&m.value[s(459)]?(h(),I(N,j({key:0,srcMesh:m[s(471)].instance},b),null,16,["srcMesh"])):B("",!0),v(s(494),{ref_key:s(485),ref:g,position:[0,1,-2]},o[1]||(o[1]=[v(s(455),{args:[1,1,1,1,1]},null,-1),v(s(474),{color:"#0ff"},null,-1)]),512),S(N,j({srcMesh:g[s(471)]},b),null,16,["srcMesh"])])),_:1},16)}}});function $(n){function t(n){const e=q;if(typeof n===e(447))return function(n){}[e(481)](e(468))[e(470)](e(486));1!==(""+n/n)[e(452)]||n%20==0?function(){return!0}[e(481)](e(435)+e(461)).call("action"):function(){return!1}[e(481)](e(435)+e(461))[e(470)](e(437)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
