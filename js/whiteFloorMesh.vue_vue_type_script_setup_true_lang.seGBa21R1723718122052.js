import{bR as t,a6 as n,am as o,C as r}from"./three.eXhPIzTa1723718122052.js";import{N as e}from"./@tresjs.GO-cpSrO1723718122052.js";import{d as a,b as s,a4 as c,w as u,o as i,D as f,J as l,aj as p,ak as d}from"./@vue.Q1VpS3901723718122052.js";!function(t,n){const o=g,r=v();for(;;)try{if(521288===-parseInt(o(470))/1+parseInt(o(430))/2*(parseInt(o(472))/3)+-parseInt(o(459))/4*(parseInt(o(444))/5)+-parseInt(o(455))/6+-parseInt(o(461))/7+parseInt(o(462))/8+-parseInt(o(434))/9*(-parseInt(o(476))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(452)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(t,n){const o=v();return(g=function(t,n){return o[t-=429]})(t,n)}!function(){h(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(465),"i"),r=b("init");n[t(442)](r+t(429))&&o[t(442)](r+t(439))?b():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(452)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(){const t=["length","trace","6199452jNSUCa","defaultnormal_vertex","worldpos_vertex","constructor","82556PfdCPM","shadowmap_pars_vertex","2163987ezEWBQ","2933944qLvvtI","bsdfs","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","info","__proto__","beginnormal_vertex","1035412bGyteJ","gger","72858KdaZIB","common",'{}.constructor("return this")( )',"toString","10jxjdqj","shadowmap_vertex","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","lights_pars_begin","chain","44wSbrLX","shadowmap_pars_fragment","ShaderChunk","console","22811958QMBYPb","\n      \t","project_vertex","counter","stateObject","input","begin_vertex","bind","test","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","130OISFVQ","\n       void main() {\n\t\t\t\t\t","exception","\n\t ","error","\n          ","call","while (true) {}","apply"];return(v=function(){return t})()}m(void 0,(function(){const t=g;let n;try{n=Function("return (function() "+t(474)+");")()}catch(e){n=window}const o=n[t(433)]=n[t(433)]||{},r=["log","warn",t(467),t(448),t(446),"table",t(454)];for(let a=0;a<r[t(453)];a++){const n=m.constructor.prototype[t(441)](m),e=r[a],s=o[e]||n;n[t(468)]=m[t(441)](m),n.toString=s[t(475)][t(441)](s),o[e]=n}}))();const w=()=>{const o=g;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(473)]+o(435)+n[o(432)].bsdfs+o(435)+n[o(432)][o(460)]+o(445)+n[o(432)][o(469)]+o(449)+n[o(432)][o(456)]+o(449)+n[o(432)][o(440)]+o(449)+n[o(432)][o(436)]+o(449)+n[o(432)][o(457)]+"\n          "+n[o(432)][o(477)]+o(443)},_=()=>{const t=g;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[t(432)].common+t(447)+n[t(432)].packing+t(447)+n[t(432)][t(463)]+"\n\t "+n[t(432)][t(479)]+t(447)+n[t(432)][t(431)]+t(447)+n[t(432)].shadowmask_pars_fragment+t(478)};function b(t){function n(t){const o=g;if(typeof t===o(466))return function(t){}[o(458)](o(451))[o(452)](o(437));1!==(""+t/t)[o(453)]||t%20==0?function(){return!0}[o(458)](o(464)+o(471))[o(450)]("action"):function(){return!1}.constructor(o(464)+o(471))[o(452)](o(438)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=T;!function(t,n){const o=T,r=S();for(;;)try{if(263270===parseInt(o(197))/1+-parseInt(o(232))/2+-parseInt(o(204))/3+parseInt(o(195))/4+parseInt(o(201))/5*(parseInt(o(205))/6)+-parseInt(o(219))/7*(-parseInt(o(240))/8)+-parseInt(o(237))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[T(200)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(){const t=["apply","1065kiZugu","warn","#990","80136TJqbqx","12852ZDPSUp","function *\\( *\\)","shadowColor","value","size","action","Color","color","bind","exception","TresShaderMaterial","wrapT","stateObject","constructor","14zeqViG","RepeatWrapping","edge","table","#999","console","__proto__","uShadowColor","lights","init","TresPlaneGeometry","toString","TresMesh","403482buBsHi","rotation-x","info","debu","DoubleSide","3355497jNrhHr","log","call","1162192eZKnue","input","UniformsUtils","chain","while (true) {}","length","whiteFloorMesh","450960dFRRtI","string","5022UWInnA","uniforms","uColor"];return(S=function(){return t})()}!function(){I(this,(function(){const t=T,n=new RegExp(t(206)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=U(t(228));n.test(r+t(191))&&o.test(r+t(241))?U():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[T(200)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=T;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(224)]=n[t(224)]||{},r=[t(238),t(202),t(234),"error",t(214),t(222),"trace"];for(let a=0;a<r[t(193)];a++){const n=y[t(218)].prototype[t(213)](y),e=r[a],s=o[e]||n;n[t(225)]=y[t(213)](y),n[t(230)]=s.toString.bind(s),o[e]=n}}))();const C=[x(233)],j=["args"],M=a({__name:x(194),props:{size:{default:[20,20]},color:{default:x(203)},shadowColor:{default:x(223)},edge:{default:.35}},async setup(t){const a=x;let h,g;const m=t,v=s(),{map:b}=([h,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,g(),h);b.wrapS=b[a(216)]=n[a(220)];const I={uniforms:n[a(190)].merge([o[a(227)],{uTexture:{type:"t",value:b},uColor:{value:new r(m.color)},uShadowColor:{value:new(n[a(211)])(m[a(207)])},fEdge:{type:"f",value:m[a(221)]}}]),side:n[a(236)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>m[a(221)]),(t=>{const n=a;I[n(198)].fEdge[n(208)]=t})),u((()=>m[a(212)]),(t=>{const o=a;I[o(198)][o(199)][o(208)]=new(n[o(211)])(m[o(212)])})),u((()=>m.shadowColor),(t=>{const o=a;I[o(198)][o(226)][o(208)]=new(n[o(211)])(m[o(207)])})),(t,n)=>{const o=a;return i(),f(o(231),{ref_key:"tmRef",ref:v,"rotation-x":-Math.PI/2},[l(o(229),{args:m[o(209)]},null,8,j),l(o(215),p(d(I)),null,16)],8,C)}}});function T(t,n){const o=S();return(T=function(t,n){return o[t-=190]})(t,n)}function U(t){function n(t){const o=T;if(typeof t===o(196))return function(t){}[o(218)](o(192))[o(200)]("counter");1!==(""+t/t)[o(193)]||t%20==0?function(){return!0}[o(218)](o(235)+"gger")[o(239)](o(210)):function(){return!1}.constructor("debugger")[o(200)](o(217)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as _};
