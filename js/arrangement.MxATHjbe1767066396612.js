import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{f as t}from"./generalFont.vue_vue_type_script_setup_true_lang.Z5LxGLZ21767066396612.js";import"./default.vue_vue_type_script_setup_true_lang.VHSeCGYE1767066396612.js";import"./three-mesh-ui.module.dA3oDDhS1767066396612.js";import"./domPanel.vue_vue_type_style_index_0_lang.D11M9pLL1767066396612.js";import{_ as a,K as o}from"./@tresjs.B1f7s3pS1767066396612.js";import{_ as n,a as i,c as r,d as s,b as l}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DS9PWjZT1767066396612.js";import"./index.vue_vue_type_script_setup_true_lang.iYOGhvYh1767066396612.js";import{u as d}from"./index.Y8o_qofm1767066396612.js";import{_ as m}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.C-3XONmg1767066396612.js";import{P as c}from"./tweakpane.CqZAnw7f1767066396612.js";const{defineComponent:p}=await e("vue"),{unref:u,createVNode:g,renderList:y,Fragment:_,openBlock:h,createElementBlock:f,createElementVNode:w,withCtx:b,Suspense:v,createBlock:x}=await e("vue"),B=["rotation"],k=["rotation-x"],{ref:M}=await e("vue"),S=p({__name:"env",setup(e){const t=M(null),{onBeforeRender:o}=a();o(({delta:e})=>{t.value&&(t.value.rotation.z+=e)});const r=[2,-2,2,-4,2,-5,2,-9];return(e,a)=>(h(),x(v,null,{default:b(()=>[g(u(n),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:b(()=>[g(u(i),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),g(u(i),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),w("TresGroup",{rotation:[Math.PI/2,1,0]},[(h(),f(_,null,y(r,(e,t)=>g(u(i),{key:t,intensity:1,rotation:[Math.PI/4,0,0],position:[e,4,4*t],scale:[4,1,1]},null,8,["rotation","position"])),64))],8,B),g(u(i),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),g(u(i),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),g(u(i),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),w("TresGroup",{ref_key:"refgroup",ref:t,"rotation-x":Math.PI/2},[g(u(i),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,k)]),_:1},8,["path"])]),_:1}))}}),{withAsyncContext:C,defineComponent:T}=await e("vue"),{unref:j,createElementVNode:P,withCtx:I,createVNode:R,normalizeProps:z,guardReactiveProps:A,openBlock:E,createElementBlock:F}=await e("vue"),D={position:[0,-.5,0],rotation:[0,-.75,0]},N=["geometry","material"],O=["geometry","material"],V=["geometry","material"],G=["geometry","material"],K=["geometry","material"],L=["geometry","material"],Q=["geometry","material"],W=["geometry"],q=["geometry","material"],H=["geometry","material"],J=await e("three"),{reactive:U,toRaw:X}=await e("vue"),Y=T({__name:"models",async setup(e){let t,a;const o=new J.MeshStandardMaterial({transparent:!0,opacity:1,color:"black",roughness:0,side:J.FrontSide,blending:J.AdditiveBlending,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:n,materials:i}=([t,a]=C(()=>d("https://opensource.cdn.icegl.cn/model/eCommerce/glass-transformed.glb")),t=await t,a(),t),p=X(i.ForkAndKnivesSet001_1K),u=new J.MeshStandardMaterial;u.copy(p),u.color=new J.Color("#999");const g={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},y=U({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),_=new c;_.hidden=!0,_.addBinding(y,"color",{label:"颜色"}),_.addBinding(y,"roughness",{label:"roughness",min:0,max:1,step:.01}),_.addBinding(y,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),_.addBinding(y,"attenuationColor",{label:"attenuationColor"}),_.addBinding(y,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),_.addBinding(y,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),_.addBinding(y,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),_.addBinding(y,"distortion",{label:"distortion",min:0,max:10,step:.01}),_.addBinding(y,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),_.addBinding(y,"backside",{label:"backside"}),_.addBinding(y,"thickness",{label:"thickness",min:0,max:4,step:.01}),_.addBinding(y,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const h=U({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),f=new c({title:"参数"});return f.hidden=!0,f.addBinding(h,"color",{label:"颜色"}),f.addBinding(h,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),f.addBinding(h,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),f.addBinding(h,"far",{label:"可视距离",min:0,max:30,step:1}),f.addBinding(h,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),f.addBinding(h,"intensity",{label:"强度",min:0,max:1,step:.01}),f.addBinding(h,"causticsOnly",{label:"只显示投射"}),f.addBinding(h,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(e,t)=>(E(),F("TresGroup",D,[P("TresMesh",{geometry:j(n).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:X(j(i).FruitCakeSlice_u1_v1)},null,8,N),P("TresMesh",{geometry:j(n).straw_1.geometry,castShadow:"",material:j(i).straw_2},null,8,O),P("TresMesh",{geometry:j(n).straw_2.geometry,castShadow:"",material:j(i).straw_1},null,8,V),P("TresMesh",{geometry:j(n).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:j(i).straw_2},null,8,G),P("TresMesh",{geometry:j(n).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:j(i).straw_1},null,8,K),R(j(r),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:I(()=>[P("TresMesh",{geometry:j(n).flowers.geometry,castShadow:"",material:j(i)["draifrawer_u1_v1.001"],scale:1.2},null,8,L)]),_:1}),P("TresMesh",{castShadow:"",geometry:X(j(n).fork.geometry),material:j(u)},null,8,Q),R(j(s),z(A(h)),{default:I(()=>[P("TresMesh",{castShadow:"",receiveShadow:"",geometry:j(n).glass.geometry},[R(j(l),z(A(y)),null,16)],8,W)]),_:1},16),P("TresMesh",{geometry:j(n).glass_back.geometry,material:j(o),scale:[.95,1,.95]},null,8,q),P("TresMesh",{geometry:j(n).glass_inner.geometry,material:j(o)},null,8,H),R(j(m),z(A(g)),null,16)]))}}),{defineComponent:Z}=await e("vue"),{unref:$,createVNode:ee,createElementVNode:te,Suspense:ae,withCtx:oe,openBlock:ne,createBlock:ie,resolveComponent:re,normalizeProps:se,guardReactiveProps:le,Fragment:de,createElementBlock:me}=await e("vue"),ce=await e("three"),pe=Z({__name:"arrangement",setup(e){const a={clearColor:"#ffffff",windowSize:!0,toneMapping:ce.ACESFilmicToneMapping,toneMappingExposure:.8,shadows:!0,outputColorSpace:ce.SRGBColorSpace};return(e,n)=>{const i=re("TresCanvas");return ne(),me(de,null,[ee($(t)),ee(i,se(le(a)),{default:oe(()=>[n[0]||(n[0]=te("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),ee($(o),{enableDamping:""}),(ne(),ie(ae,null,{default:oe(()=>[ee(Y)]),_:1})),ee(S)]),_:1},16)],64)}}});export{pe as default};
