import{_ as t,b as n,cO as e,ar as o,at as r}from"./three.XuMWWlrU1743039954535.js";import{P as s}from"./tweakpane.ivGeiIdz1743039954535.js";import{m as i,e as a}from"./@tresjs.05J-Im0t1743039954535.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d as h}from"./index.YRkIm1_n1743039954535.js";import{d as g,a2 as d,w as j,o as w,H as b,u as x,v as y,r as v,e as I,j as M,g as B,m as _,F as C}from"./@vue.C4dqouNn1743039954535.js";import{_ as z}from"./raycasterEvent.MEsYXHoC1743039954535.js";import{a as k}from"./utils.lF0UDVZO1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";import"./@mapbox.lMdYodhq1743039954535.js";import"./three-mesh-bvh.0PiL0XIM1743039954535.js";import"./three-custom-shader-material.CRbjOKjC1743039954535.js";import"./@fesjs.q_HvOfeM1743039954535.js";import"./vue-router.F5lDLjOj1743039954535.js";import"./lodash-es.p1wj6C0b1743039954535.js";import"./@qlin.o0hjOMCg1743039954535.js";import"./pinia.MiZyWHUj1743039954535.js";import"./@floating-ui.HzHndBae1743039954535.js";import"./@juggle.4EyLec-41743039954535.js";import"./@tweenjs.NwlPAfWW1743039954535.js";import"./utils.PeWXTIGY1743039954535.js";import"./d3-geo.qYmefrp71743039954535.js";import"./d3-array.dSwsClwB1743039954535.js";import"./http.NyZXAKbp1743039954535.js";import"./axios.FtfblEUV1743039954535.js";import"./color._zg5zjjP1743039954535.js";import"./@amap.7j9kjwBk1743039954535.js";import"./color-string.fOnOZti61743039954535.js";import"./color-name.SB7Ik5Xf1743039954535.js";import"./simple-swizzle.SbZ8rQbp1743039954535.js";import"./is-arrayish.HotqMtjn1743039954535.js";import"./color-convert.qPnNY7VM1743039954535.js";import"./lodash.7RhGyB621743039954535.js";import"./naive-ui.yM-Mc1in1743039954535.js";import"./date-fns.enH829Fo1743039954535.js";import"./@css-render.II7cjzP31743039954535.js";import"./seemly.g-Mp7qhc1743039954535.js";import"./css-render.v2xvqWTW1743039954535.js";import"./@emotion.ZD_ZYAgY1743039954535.js";import"./vooks.ta6NPxfE1743039954535.js";import"./evtd.uXDg6RK81743039954535.js";import"./vueuc.gbn0jaXM1743039954535.js";import"./vdirs.iAZcZISz1743039954535.js";import"./treemate.dcEdf2le1743039954535.js";import"./date-fns-tz.O2Ni-3km1743039954535.js";import"./async-validator.-YBkpS4I1743039954535.js";const S=Z;!function(t,n){const e=Z,o=R();for(;;)try{if(636775===parseInt(e(431))/1+parseInt(e(427))/2+-parseInt(e(473))/3*(parseInt(e(441))/4)+-parseInt(e(463))/5*(parseInt(e(409))/6)+-parseInt(e(466))/7*(parseInt(e(421))/8)+-parseInt(e(455))/9+parseInt(e(436))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=Z,n=new RegExp(t(416)),e=new RegExp(t(457),"i"),o=P(t(426));n[t(472)](o+"chain")&&e[t(472)](o+t(476))?P():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(434)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(){const t=["function *\\( *\\)","Color","set","filter",'{}.constructor("return this")( )',"8LwpJBZ","monochrome","toString","innerHeight","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","init","545932EwoAdr","PerspectiveCamera","warn","target","453862mtKpqt","length","primitive","apply","position","31760150eEaRLh","minDistance","debu","genBright","genContrast","130196wMulCu","useWorker","info","abs","coordType","bind","__proto__","genSaturation","counter","opposite","exception","position0","update","useStandardMaterial","10789929UBFBBb","domElement","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","error","bbox","wireframe","showBoundingBox","7985yHoUcN","call","isMonochrome","2441047MXXQIA","tweenInstance","constructor","lookAt","maxZoom","far","test","87MDpQBt","mapCenter","prototype","input","source","action","stateObject","innerWidth","dampingFactor","console","tileMapMesh","2910WonqYb","showTileNo","camera","updateProjectionMatrix","flatShading","gger","value"];return(R=function(){return t})()}function Z(t,n){const e=R();return Z=function(t,n){return e[t-=409]},Z(t,n)}E(void 0,(function(){const t=Z;let n;try{n=Function(t(458)+t(420)+");")()}catch(r){n=window}const e=n[t(482)]=n[t(482)]||{},o=["log",t(429),t(443),t(459),t(451),"table","trace"];for(let s=0;s<o[t(432)];s++){const n=E[t(468)][t(475)][t(446)](E),r=o[s],i=e[r]||n;n[t(447)]=E[t(446)](E),n[t(423)]=i.toString[t(446)](i),e[r]=n}}))();const L=["object","rotation"],F=g({__name:S(483),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const s=S,h=o,{renderer:g,scene:y}=i(),v=new c;v.coordType=u;const I=new p;I[s(477)]=s(425),I[s(445)]=u;const M=new l;M[s(477)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",M[s(410)]=!1,M[s(442)]=!0;const B=new m(v,M);if(B[s(462)]=!1,B[s(461)]=!1,B[s(413)]=!1,B[s(454)]=!1,B[s(419)]={opposite:h[s(450)],monochrome:h[s(465)]?{r:.299,g:.587,b:.114}:null,genBright:h.genBright,genContrast:h[s(440)],genSaturation:h[s(448)]},h[s(422)]){let n=new(t[s(417)])(h[s(422)]);B[s(419)]&&(B.filter.monochrome={r:n.r,g:n.g,b:n.b})}const _=new f;_.provider=B,_.bbox=h[s(460)],_.maxZoom=h[s(470)];const C=new(t[s(428)])(60,window[s(480)]/window[s(424)],1,1e8);C.up=new n(0,1,0),C.position[s(418)](h[s(474)][0],h[s(474)][2],-h[s(474)][1]),C[s(469)](new n(C[s(435)].x,0,C.position.z-2e3)),_[s(411)]=C;let z=null;d((()=>{const t=s;g[t(415)]&&!z&&(z=new e(C,g.value[t(456)]),z.enableDamping=!0,z[t(481)]=.05,z[t(437)]=600,z[t(452)][t(418)](C[t(435)].x,C[t(435)].y,C.position.z),z[t(430)].set(C[t(435)].x,0,C[t(435)].z-2e3))})),j((()=>[h[s(450)],h[s(465)],h[s(422)]]),(([n,e,o])=>{const r=s;if(B[r(419)]){let s=new(t[r(417)])(o);B[r(419)][r(450)]=n,B.filter.monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[h.genBright,h.genContrast,h[s(448)]]),(([t,n,e])=>{const o=s;B[o(419)]&&(B.filter[o(439)]=t,B[o(419)][o(440)]=n,B[o(419)][o(448)]=e)}));const{onLoop:k}=a();return k((()=>{const t=s;if(g[t(415)]){h[t(467)]?.[t(453)](),z&&z[t(453)](),_[t(453)]();const n=50*Math[t(444)](C[t(435)].y);C[t(471)]=n+5e3,C[t(412)](),g.value.render(y[t(415)],C)}})),r({camera:C,map:_,orbitControl:z}),(t,n)=>{const e=s;return w(),b(e(433),{object:x(_),rotation:[-Math.PI/2,0,0]},null,8,L)}}});function P(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}[e(468)]("while (true) {}")[e(434)](e(449));1!==(""+t/t)[e(432)]||t%20==0?function(){return!0}.constructor(e(438)+e(414))[e(464)](e(478)):function(){return!1}.constructor(e(438)+e(414))[e(434)](e(479)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=q,o=D();for(;;)try{if(319859===-parseInt(e(344))/1+parseInt(e(367))/2+parseInt(e(380))/3*(-parseInt(e(363))/4)+-parseInt(e(359))/5+-parseInt(e(342))/6+-parseInt(e(338))/7+-parseInt(e(324))/8*(-parseInt(e(379))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=q,n=new RegExp(t(360)),e=new RegExp(t(335),"i"),o=J(t(343));n[t(368)](o+t(369))&&e[t(368)](o+"input")?J():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(376)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=D();return q=function(t,n){return e[t-=321]},q(t,n)}function D(){const t=["28660kLkcYy","tweenInstance","牛首山","stateObject","1154046IRqCFf","test","chain","value","camera","list","toString","genSaturation","#4688b5","apply","饱和度","tileMapRef","174267PvEWqx","207NhRyhy","warn","gger",'{}.constructor("return this")( )',"nss","840uANGYh","info","genBright","orbitControl","单色滤镜","constructor","exception","debu","__proto__","error","#201919","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","isMonochrome","manual","4389014JpznQe","string","call","monochrome","2615538kQOxCS","init","273264hAtEWM","addBinding","prototype","bind","Vector3","length","TresCanvas","tileMapMeshRef","新街口","addBlade","trace","action","return (function() ","opposite","table","2298525BDgpVo","function *\\( *\\)","console","对比度"];return(D=function(){return t})()}W(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(356)+t(322)+");")()}catch(e){n=window}return n}(),e=n[t(361)]=n[t(361)]||{},o=["log",t(381),t(325),t(333),t(330),t(358),t(354)];for(let r=0;r<o[t(349)];r++){const n=W.constructor[t(346)][t(347)](W),s=o[r],i=e[s]||n;n[t(332)]=W[t(347)](W),n[t(373)]=i[t(373)][t(347)](i),e[s]=n}}))();const Q=g({__name:"tileMap",setup(n){const e=q,i=h(118.779958,32.017136),a=[i[0],i[1],5e3],c=y(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(375),mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p[e(345)](u,e(357),{label:"反色"}),p[e(345)](u,e(326),{label:"高亮",min:.1,max:3,step:.1}),p[e(345)](u,"genContrast",{label:e(362),min:.1,max:3,step:.1}),p[e(345)](u,e(374),{label:e(377),min:.1,max:3,step:.1}),p.addBinding(u,e(336),{label:e(328)}),p[e(345)](u,e(341),{label:"滤镜颜色"});const l={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};p[e(353)]({view:e(372),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(352),value:"xjk"},{text:e(365),value:e(323)}],value:"at"}).on("change",(n=>{const o=e,r=new(t[o(348)])(l[n[o(370)]][0],2e3,-l[n.value][1]);u[o(364)]=k(c.value[o(371)],r,c.value[o(327)],[0,-300],4e3)}));const m=v({clearColor:e(334),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(337),outputColorSpace:o,toneMapping:r});return setTimeout((()=>{const n=e,o=l.at,r=new(t[n(348)])(o[0],1600,-o[1]);u.tweenInstance=k(c[n(370)][n(371)],r,c[n(370)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=I(o(350));return w(),b(C,null,[M(r,_(m,{"window-size":""}),{default:B((()=>[M(F,_(u,{ref_key:o(351),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1},16),M(z,{tileMapRef:c[o(370)]},null,8,[o(378)])],64)}}});function J(t){function n(t){const e=q;if(typeof t===e(339))return function(t){}[e(329)]("while (true) {}")[e(376)]("counter");1!==(""+t/t)[e(349)]||t%20==0?function(){return!0}[e(329)](e(331)+"gger")[e(340)](e(355)):function(){return!1}[e(329)](e(331)+e(321))[e(376)](e(366)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
