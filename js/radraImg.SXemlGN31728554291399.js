import{z as t,p as n,Y as e}from"./@tresjs.IlQvaTJ91728554291399.js";import{_ as o}from"./three.YiCjTDWq1728554291399.js";import{_ as r,n as i}from"./three-tile.rGySB-KI1728554291399.js";import{b as s,_ as a}from"./informationDiv.qCsKdV311728554291399.js";import{d as c,a4 as u,w as p,o as l,E as f,L as m,u as h,r as d,b as g,f as y,g as I,j as b,m as w,al as j,F as x,e as _,aj as v,ak as S}from"./@vue.JNsx1iN61728554291399.js";import{P as k}from"./tweakpane.yHWGBmom1728554291399.js";import"./@vueuse.nb-8z3af1728554291399.js";import"./@fesjs.GdZzFg1i1728554291399.js";import"./vue-router.NPtXaYpe1728554291399.js";import"./lodash-es.kYt-_xTG1728554291399.js";import"./@qlin.yHhFDldE1728554291399.js";import"./pinia.puw_7oLs1728554291399.js";import"./@floating-ui.BPbuo5Gx1728554291399.js";import"./@juggle.7yjBMqoW1728554291399.js";const E=A;function P(){const t=["4581598Wjxwlj","1466055nPbkUe","warn","return (function() ","info","9JPyuxo","TresGroup","Texture","test","onBeforeCompile","input","length","Vector3","DoubleSide","2205630tWogga","prototype","vertexShader","toString","opacity","table","counter","2jYiPQE","rotateX","4149048GoTfak","apply","constructor","#include <displacementmap_vertex>","replace","gger","5826784Nyyiyy","4236021tIVKjw",'{}.constructor("return this")( )',"MeshPhongMaterial","height","function *\\( *\\)","TresPlaneGeometry","debu","stateObject","needsUpdate","bind","uniform sampler2D map;\n\t","scaleImg","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","exception","TresMesh","log","chain","1174033VXDhfk","material","map","8ifSjtM","position-y","init","40.png","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","matrix"];return(P=function(){return t})()}!function(t,n){const e=A,o=P();for(;;)try{if(893227===parseInt(e(391))/1+parseInt(e(422))/2*(-parseInt(e(431))/3)+parseInt(e(394))/4*(parseInt(e(402))/5)+parseInt(e(424))/6+-parseInt(e(401))/7+parseInt(e(430))/8*(parseInt(e(406))/9)+-parseInt(e(415))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=A,n=new RegExp(t(435)),e=new RegExp(t(398),"i"),o=W(t(396));n[t(409)](o+t(390))&&e[t(409)](o+t(411))?W():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(425)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=A;let n;try{n=Function(t(404)+t(432)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(389),t(403),t(405),"error",t(444),t(420),"trace"];for(let i=0;i<o[t(412)];i++){const n=D[t(426)][t(416)][t(440)](D),r=o[i],s=e[r]||n;n.__proto__=D[t(440)](D),n[t(418)]=s[t(418)][t(440)](s),e[r]=n}}))();const z=["position"],M=["scale",E(392),E(423),E(395)],R=[m(E(436),{args:[1,1,529,420]},null,-1)];function A(t,n){const e=P();return(A=function(t,n){return e[t-=389]})(t,n)}const B=c({__name:"radraImgShow",props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=E;let r,i;const a=n,c=new(o[e(433)])({displacementMap:new(o[e(408)]),transparent:!0,side:o[e(414)],opacity:a.opacity,displacementScale:.5,displacementBias:0});c[e(410)]=t=>{const n=e;t[n(417)]=n(441)+t.vertexShader,t[n(417)]=t[n(417)][n(428)](n(427),n(399))};const d=a[e(393)].geo2pos(new(o[e(413)])(105,34,0));d.applyMatrix4(a.map[e(400)]);const g=s[e(442)](a[e(393)],{x:67,y:11},{x:140,y:57},a.height),y=[];for(let t=0;t<9;t++)y.push(e(443)+t+e(397));let I=0;const b=([r,i]=u((()=>t(y))),r=await r,i(),r);c[e(393)]=b[I],p((()=>[a.color,a[e(419)]]),(([t,n])=>{c.opacity=n}));let w=null,j=!1;return j?(clearInterval(w),w=null,j=!1):(w=setInterval((()=>{const t=A;I=I<y[t(412)]-1?I+1:0,c[t(393)]=b[I],c[t(439)]=!0,console[t(389)](I)}),1e3),j=!0),(t,n)=>{const o=e;return l(),f(o(407),{position:[...h(d)]},[m(o(445),{scale:[h(g).x,h(g).y,t.height],material:h(c),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(434)]/5},R,8,M)],8,z)}}});function W(t){function n(t){const e=A;if("string"==typeof t)return function(t){}[e(426)]("while (true) {}").apply(e(421));1!==(""+t/t)[e(412)]||t%20==0?function(){return!0}[e(426)]("debu"+e(429)).call("action"):function(){return!1}[e(426)](e(437)+e(429))[e(425)](e(438)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=L;!function(t,n){const e=L,o=Z();for(;;)try{if(586411===parseInt(e(329))/1*(-parseInt(e(320))/2)+-parseInt(e(322))/3*(parseInt(e(325))/4)+-parseInt(e(305))/5*(-parseInt(e(312))/6)+-parseInt(e(280))/7+-parseInt(e(335))/8*(-parseInt(e(334))/9)+parseInt(e(328))/10*(-parseInt(e(287))/11)+parseInt(e(311))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(316)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=Z();return(L=function(t,n){return e[t-=280]})(t,n)}!function(){F(this,(function(){const t=L,n=new RegExp(t(326)),e=new RegExp(t(314),"i"),o=Q(t(289));n.test(o+"chain")&&e[t(341)](o+t(324))?Q():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=L;let n;try{n=Function(t(336)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(303)]=n[t(303)]||{},o=[t(321),t(282),t(331),t(301),t(313),"table","trace"];for(let i=0;i<o[t(339)];i++){const n=X.constructor[t(333)][t(283)](X),r=o[i],s=e[r]||n;n[t(304)]=X.bind(X),n.toString=s[t(300)][t(283)](s),e[r]=n}}))();const G=["object"];function Z(){const t=["3693780JYEqqH","primitive","MapBoxSource","string","addBinding","plugin","22748832RPDxXo","6jgEXTC","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","apply","value","while (true) {}","stateObject","2ofWtwm","log","3iDJGUq","tdLight","input","2468968WCAyCs","function *\\( *\\)","controlsEvents","110FkdeOL","88927fvddzv","target","info","terrain-rgb","prototype","2548062HwnQKb","8yPNMPd","return (function() ","透明度","opacity","length","geo2pos","test","4013779uGBHKX","debu","warn","bind","TileMap","map","action","1051633aIdEqH","Vector3","init","localToWorld","constructor","position","mapBoxShow3","domElement","mapbox.satellite","pk.eyJ1IjoidG9tYWNoIiwiYSI6ImNrbnR6d3psMzA4YWgydnBzeGhrNW1mdDgifQ.zq6mWEop1OTBrQ24R0SdlA","showLocation","gger","copy","toString","error","height","console","__proto__"];return(Z=function(){return t})()}const q=C(296),J=c({__name:C(293),setup(t){const e=C,a=d({height:200,opacity:1}),c=new k({title:"参数"});c[e(309)](a,e(302),{label:"高度",min:10,max:300,step:1}),c[e(309)](a,e(338),{label:e(337),min:0,max:1,step:.1});const u=new(r[e(310)][e(307)])({token:q,dataType:"image",style:e(295)}),_=new(i[e(307)])({token:q,dataType:e(332),style:"mapbox.terrain-rgb",maxLevel:15}),v=new(r[e(284)])({imgSource:u,demSource:_,lon0:90,minLevel:2,maxLevel:20});v.rotateX(-Math.PI/2);const S=new(o[e(288)])(105,34,0),E=new(o[e(288)])(110,0,1e4),P=v[e(290)](v.geo2pos(S)),T=v[e(290)](v[e(340)](E)),D=g(),{camera:z,controls:M,scene:R,renderer:A}=n();return z[e(317)]&&z.value[e(292)].copy(T),p((()=>M[e(317)]),(t=>{const n=e;t&&(t[n(330)][n(299)](P),s[n(327)](t,z[n(317)],R.value))})),p((()=>D[e(317)]),(t=>{const n=e;t&&t.target[n(292)][n(299)](P)})),s[e(297)](z[e(317)],A[e(317)][e(294)],v),(t,n)=>{const o=e;return l(),f(x,null,[m("TresDirectionalLight",{ref_key:o(323),ref:D,position:[0,2e3,1e3],intensity:1},null,512),m(o(306),{object:h(v)},null,8,G),(l(),y(j,null,{default:I((()=>[b(B,w({map:h(v)},a),null,16,[o(285)])])),_:1}))],64)}}});function Q(t){function n(t){const e=L;if(typeof t===e(308))return function(t){}[e(291)](e(318))[e(316)]("counter");1!==(""+t/t)[e(339)]||t%20==0?function(){return!0}[e(291)](e(281)+e(298))[e(315)](e(286)):function(){return!1}[e(291)](e(281)+e(298)).apply(e(319)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=N;function N(t,n){const e=$();return(N=function(t,n){return e[t-=365]})(t,n)}!function(t,n){const e=N,o=$();for(;;)try{if(943029===parseInt(e(391))/1+-parseInt(e(394))/2*(parseInt(e(399))/3)+-parseInt(e(368))/4+parseInt(e(387))/5*(parseInt(e(376))/6)+parseInt(e(395))/7*(-parseInt(e(372))/8)+-parseInt(e(398))/9+-parseInt(e(365))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(380)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=N,n=new RegExp(t(389)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=tt("init");n.test(o+t(390))&&e[t(378)](o+"input")?tt():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(380)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["counter","__proto__","2942584auHdxJ","toString","log","bind","12bssrDW","action","test","TresAmbientLight","apply","constructor","TresPerspectiveCamera","warn",'{}.constructor("return this")( )',"while (true) {}","error","4180760TgamhJ","info","function *\\( *\\)","chain","1469424oCiZQc","debu","TresCanvas","40ZFlXse","7wCdJFt","return (function() ","length","3102192EnbjDP","41361RIsanz","radraImg","4191450vDQEVX","string","console","3165212dVeeYM","highp"];return($=function(){return t})()}V(void 0,(function(){const t=N;let n;try{n=Function(t(396)+t(384)+");")()}catch(r){n=window}const e=n[t(367)]=n[t(367)]||{},o=[t(374),t(383),t(388),t(386),"exception","table","trace"];for(let i=0;i<o[t(397)];i++){const n=V[t(381)].prototype.bind(V),r=o[i],s=e[r]||n;n[t(371)]=V.bind(V),n.toString=s[t(373)][t(375)](s),e[r]=n}}))();const H=m(Y(382),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),U=m(Y(379),{intensity:1},null,-1),K=c({__name:Y(400),setup(t){const n=Y,o=d({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(369)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=_(n(393));return l(),f(x,null,[b(s,w(o,{"window-size":""}),{default:I((()=>[H,b(h(e),v(S(r)),null,16),U,b(J)])),_:1},16),b(a)],64)}}});function tt(t){function n(t){const e=N;if(typeof t===e(366))return function(t){}.constructor(e(385))[e(380)](e(370));1!==(""+t/t)[e(397)]||t%20==0?function(){return!0}[e(381)](e(392)+"gger").call(e(377)):function(){return!1}[e(381)]("debugger")[e(380)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
