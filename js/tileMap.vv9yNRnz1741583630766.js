import{C as t,_ as n,cI as e,ak as o,am as r}from"./three.sQDbNBks1741583630766.js";import{P as s}from"./tweakpane.yDiyAAkA1741583630766.js";import{m as i,e as a}from"./@tresjs.ZmhvXhx31741583630766.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d}from"./index.8AQ9R0xK1741583630766.js";import{d as g,a2 as h,w as j,o as b,H as w,u as v,v as x,r as y,e as I,j as _,g as C,f as M,al as z,m as B,F as S}from"./@vue.NRI7TcgI1741583630766.js";import{_ as k}from"./raycasterEvent.0RcCvD3r1741583630766.js";import{a as A}from"./utils.-1I7HrSt1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";import"./@mapbox.lMdYodhq1741583630766.js";import"./three-mesh-bvh.uDwO1aPf1741583630766.js";import"./three-custom-shader-material.fHkqEbki1741583630766.js";import"./@fesjs.0Tn1apcA1741583630766.js";import"./vue-router.bRqEeVtN1741583630766.js";import"./lodash-es.pklfUAS51741583630766.js";import"./@qlin.yHhFDldE1741583630766.js";import"./pinia.GzvRmFm31741583630766.js";import"./@floating-ui.BPbuo5Gx1741583630766.js";import"./@juggle.7yjBMqoW1741583630766.js";import"./@tweenjs.03TsBd2S1741583630766.js";import"./utils.7cjOlduy1741583630766.js";import"./d3-geo.kGLDHXiJ1741583630766.js";import"./d3-array.AhNJy1f41741583630766.js";import"./http.XKQgPWTo1741583630766.js";import"./axios.qd3pZFDv1741583630766.js";import"./color.uRNRP3pF1741583630766.js";import"./@amap.-0-3lXdo1741583630766.js";import"./color-string.nUc5do9Z1741583630766.js";import"./color-name.IVDnNH6Q1741583630766.js";import"./simple-swizzle.1nIG5kGB1741583630766.js";import"./is-arrayish.9XS98d5e1741583630766.js";import"./color-convert.zavomgpA1741583630766.js";import"./lodash.oauD6Ppp1741583630766.js";import"./naive-ui.AFos-3nH1741583630766.js";import"./date-fns.nmuTTsCK1741583630766.js";import"./@css-render.WwfNWPGj1741583630766.js";import"./seemly.vIsyOXn81741583630766.js";import"./css-render.eUbbcdbL1741583630766.js";import"./@emotion.ZD_ZYAgY1741583630766.js";import"./vooks.yMjLMzEi1741583630766.js";import"./evtd.DtfwxtIl1741583630766.js";import"./vueuc.akLtGsfU1741583630766.js";import"./vdirs.89RINMV41741583630766.js";import"./treemate.dcEdf2le1741583630766.js";import"./date-fns-tz.GMZC_KbQ1741583630766.js";import"./async-validator.-YBkpS4I1741583630766.js";const E=P;!function(t,n){const e=P,o=D();for(;;)try{if(204854===-parseInt(e(358))/1+parseInt(e(352))/2*(parseInt(e(327))/3)+parseInt(e(297))/4+-parseInt(e(334))/5+-parseInt(e(305))/6*(parseInt(e(365))/7)+-parseInt(e(370))/8+parseInt(e(342))/9*(parseInt(e(340))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(341)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=P,n=new RegExp(t(296)),e=new RegExp(t(364),"i"),o=H("init");n.test(o+t(329))&&e[t(355)](o+t(315))?H():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(341)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(317)+t(324)+");")()}catch(e){n=window}return n}(),e=n[t(320)]=n[t(320)]||{},o=[t(347),t(325),t(301),t(304),t(335),t(336),t(307)];for(let r=0;r<o[t(308)];r++){const n=T[t(322)][t(354)][t(292)](T),s=o[r],i=e[s]||n;n.__proto__=T[t(292)](T),n[t(361)]=i.toString.bind(i),e[s]=n}}))();const L=[E(333),E(318)];function P(t,n){const e=D();return(P=function(t,n){return e[t-=290]})(t,n)}function D(){const t=["Vector3","prototype","test","useStandardMaterial","provider","13675TIGuVH","maxZoom","counter","toString","dampingFactor","PerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","45045BrTSva","debu","Color","filter","genContrast","719040fvclBv","coordType","call","monochrome","bind","stateObject","domElement","set","function *\\( *\\)","686700XEgNfl","primitive","gger","opposite","info","lookAt","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","error","270lCdAyN","tweenInstance","trace","length","action","showTileNo","target","bbox","genBright","camera","input","showBoundingBox","return (function() ","rotation","mapCenter","console","wireframe","constructor","string",'{}.constructor("return this")( )',"warn","far","3LItydt","enableDamping","chain","source","position","genSaturation","object","905805JpzHqi","exception","table","#fff","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","innerHeight","10rDTtSy","apply","4989771SAvsHR","while (true) {}","value","flatShading","update","log","useWorker","updateProjectionMatrix","isMonochrome","tileMapMesh","106102JKptPa"];return(D=function(){return t})()}const Z=g({__name:E(351),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:E(337)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const s=E,d=o,{renderer:g,scene:x}=i();(new c)[s(371)]=u;const y=new p;y.source=s(303),y[s(371)]=u;const I=new l;I[s(330)]=s(338),I[s(310)]=!1,I[s(348)]=!0;const _=new m(y,I);if(_[s(316)]=!1,_[s(321)]=!1,_[s(345)]=!1,_[s(356)]=!1,_.filter={opposite:d.opposite,monochrome:d[s(350)]?{r:.299,g:.587,b:.114}:null,genBright:d[s(313)],genContrast:d.genContrast,genSaturation:d.genSaturation},d[s(291)]){let n=new t(d.monochrome);_[s(368)]&&(_.filter.monochrome={r:n.r,g:n.g,b:n.b})}const C=new f;C[s(357)]=_,C[s(312)]=d[s(312)],C[s(359)]=d[s(359)];const M=new(n[s(363)])(60,window.innerWidth/window[s(339)],1,1e8);M.up=new(n[s(353)])(0,1,0),M[s(331)][s(295)](d[s(319)][0],d[s(319)][2],-d.mapCenter[1]),M[s(302)](new(n[s(353)])(M[s(331)].x,0,M[s(331)].z-2e3)),C[s(314)]=M;let z=null;h((()=>{const t=s;g.value&&!z&&(z=new e(M,g.value[t(294)]),z[t(328)]=!0,z[t(362)]=.05,z.minDistance=600,z.position0.set(M[t(331)].x,M[t(331)].y,M.position.z),z[t(311)][t(295)](M[t(331)].x,0,M[t(331)].z-2e3))})),j((()=>[d[s(300)],d[s(350)],d[s(291)]]),(([t,e,o])=>{const r=s;if(_[r(368)]){let s=new(n[r(367)])(o);_[r(368)][r(300)]=t,_[r(368)][r(291)]=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[d[s(313)],d[s(369)],d[s(332)]]),(([t,n,e])=>{const o=s;_[o(368)]&&(_.filter[o(313)]=t,_[o(368)][o(369)]=n,_.filter[o(332)]=e)}));const{onLoop:B}=a();return B((()=>{var t;const n=s;if(g[n(344)]){null==(t=d[n(306)])||t[n(346)](),z&&z.update(),C[n(346)]();const e=50*Math.abs(M[n(331)].y);M[n(326)]=e+5e3,M[n(349)](),g[n(344)].render(x[n(344)],M)}})),r({camera:M,map:C,orbitControl:z}),(t,n)=>{const e=s;return b(),w(e(298),{object:v(C),rotation:[-Math.PI/2,0,0]},null,8,L)}}});function H(t){function n(t){const e=P;if(typeof t===e(323))return function(t){}[e(322)](e(343))[e(341)](e(360));1!==(""+t/t)[e(308)]||t%20==0?function(){return!0}.constructor("debu"+e(299))[e(290)](e(309)):function(){return!1}[e(322)](e(366)+e(299)).apply(e(293)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=J;!function(t,n){const e=J,o=F();for(;;)try{if(258212===-parseInt(e(137))/1+parseInt(e(175))/2*(-parseInt(e(128))/3)+parseInt(e(171))/4+-parseInt(e(135))/5*(parseInt(e(127))/6)+parseInt(e(149))/7*(parseInt(e(152))/8)+parseInt(e(151))/9+-parseInt(e(133))/10*(parseInt(e(126))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=J,n=new RegExp(t(129)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=O(t(164));n[t(169)](o+t(146))&&e[t(169)](o+t(176))?O():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(147)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(){const t=["camera","manual","change","action","tileMap","chain","apply","table","2050671DqiXnP","log","4462461OzLLta","8sOapUL","饱和度","monochrome","error","tileMapMeshRef","滤镜颜色","tweenInstance","console","value","tileMapRef","单色滤镜","牛首山","init","新街口","string","#4688b5","TresCanvas","test","genSaturation","615088lYAWdb","stateObject","Vector3","toString","22TCKobR","input","bind","__proto__","info","trace","debu","#201919","addBlade","gger","11xlMNbD","150oyAbNj","21282IIEqun","function *\\( *\\)","while (true) {}","addBinding","constructor","465110ycVKRf","list","25285JWQIEw","nss","433372xmQfhv","length","return (function() ","counter"];return(F=function(){return t})()}function J(t,n){const e=F();return(J=function(t,n){return e[t-=125]})(t,n)}q(void 0,(function(){const t=J;let n;try{n=Function(t(139)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(159)]=n[t(159)]||{},o=[t(150),"warn",t(179),t(155),"exception",t(148),t(180)];for(let s=0;s<o[t(138)];s++){const n=q[t(132)].prototype.bind(q),r=o[s],i=e[r]||n;n[t(178)]=q[t(177)](q),n.toString=i[t(174)][t(177)](i),e[r]=n}}))();const K=g({__name:N(145),setup(t){const e=N,i=d(118.779958,32.017136),a=[i[0],i[1],5e3],c=x(),u=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(167),mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p.addBinding(u,"opposite",{label:"反色"}),p.addBinding(u,"genBright",{label:"高亮",min:.1,max:3,step:.1}),p[e(131)](u,"genContrast",{label:"对比度",min:.1,max:3,step:.1}),p[e(131)](u,e(170),{label:e(153),min:.1,max:3,step:.1}),p[e(131)](u,"isMonochrome",{label:e(162)}),p[e(131)](u,e(154),{label:e(157)});const l={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};p[e(183)]({view:e(134),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(165),value:"xjk"},{text:e(163),value:e(136)}],value:"at"}).on(e(143),(t=>{const o=e,r=new(n[o(173)])(l[t[o(160)]][0],2e3,-l[t.value][1]);u[o(158)]=A(c.value[o(141)],r,c[o(160)].orbitControl,[0,-300],4e3)}));const m=y({clearColor:e(182),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(142),outputColorSpace:o,toneMapping:r});return setTimeout((()=>{const t=e,o=l.at,r=new(n[t(173)])(o[0],1600,-o[1]);u[t(158)]=A(c[t(160)][t(141)],r,c[t(160)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=I(o(168));return b(),w(S,null,[_(r,B(m,{"window-size":""}),{default:C((()=>[(b(),M(z,null,{default:C((()=>[_(Z,B(u,{ref_key:o(156),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(k,{tileMapRef:c[o(160)]},null,8,[o(161)])],64)}}});function O(t){function n(t){const e=J;if(typeof t===e(166))return function(t){}.constructor(e(130))[e(147)](e(140));1!==(""+t/t)[e(138)]||t%20==0?function(){return!0}[e(132)]("debu"+e(125)).call(e(144)):function(){return!1}[e(132)](e(181)+"gger")[e(147)](e(172)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
