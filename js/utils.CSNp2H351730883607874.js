import"./@fesjs.DQmvwjPe1730883607874.js";import{_ as t}from"./jszip.V4H7zZUl1730883607874.js";import{F as n}from"./file-saver.VLA6QXg-1730883607874.js";import{cH as e,_ as s,aN as o}from"./three.fIUcjaNz1730883607874.js";const r=m;!function(t,n){const e=m,s=g();for(;;)try{if(716654===-parseInt(e(264))/1+-parseInt(e(243))/2*(parseInt(e(187))/3)+-parseInt(e(208))/4+-parseInt(e(250))/5+parseInt(e(248))/6+-parseInt(e(223))/7+parseInt(e(265))/8*(parseInt(e(173))/9))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){a(this,(function(){const t=m,n=new RegExp(t(206)),e=new RegExp(t(182),"i"),s=h(t(224));n[t(196)](s+"chain")&&e[t(196)](s+t(266))?h():s("0")}))()}();const i=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[m(236)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function c(t){const n=r,e=new(s[n(221)]);return new Promise(((s,o)=>{const r=n;e.load(t,(t=>s(JSON[r(210)](t))),void 0,(t=>o(t)))}))}async function u(t){const n=r,e=new(s[n(221)]);return new Promise(((s,o)=>{const a=n;e[a(217)](a(227)),e.load(t,(n=>{const e=a,i=new FileReader;i.onloadend=()=>{const n=m,e=function(t){const n=r,e=t[n(200)](".").pop().toLowerCase();return{jpg:n(203),jpeg:n(203),png:n(211),gif:n(172),bmp:"image/bmp",webp:n(235)}[e]||n(185)}(t),o=i[n(244)][n(200)](",")[1];s(n(169)+e+n(255)+o)},i[e(251)]=t=>{o(t)},i[e(257)](n)}),void 0,(t=>o(t)))}))}i(void 0,(function(){const t=m;let n;try{n=Function(t(262)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(240)]=n[t(240)]||{},s=[t(256),"warn",t(197),"error",t(183),t(263),t(168)];for(let r=0;r<s[t(239)];r++){const n=i[t(190)][t(219)][t(230)](i),o=s[r],a=e[o]||n;n[t(186)]=i[t(230)](i),n[t(237)]=a.toString.bind(a),e[o]=n}}))(),e[r(180)]=!0;const p=n=>{const e=r,s=new o;return s[e(217)](e(227)),new Promise(((o,r)=>{const a=e;s[a(178)](n,(async n=>{const e=a;o(await t[e(246)](n))}),void 0,(t=>r(t)))}))},l=t=>{const n=r,e=t[n(179)](0,15),s=n(252),o=n(232),a=n(254),i=n(195),c=n(259),u=n(261);return s[n(188)](e)||"data:image/JPEG;base64,"[n(188)](e)?n(234):o.startsWith(e)||"data:image/PNG;base64,"[n(188)](e)?n(220):a[n(188)](e)||i.startsWith(e)?n(177):c.startsWith(e||u[n(188)](e))?n(247):n(249)},f=e=>{const s=r,o=[];e[s(207)][s(176)]&&e[s(207)][s(176)][s(238)]((t=>{const n=s;t.type===n(171)&&(o.push({uuid:t[n(201)],data:t[n(174)]}),t[n(174)]=n(228)+t.uuid+n(215))}));const a=[];e[s(207)][s(245)]&&e[s(207)].images.forEach((t=>{const n=s;t[n(258)]&&(a[n(253)]({uuid:t[n(201)],url:t.url}),t.url[n(191)]?t[n(258)]=n(213)+t[n(201)]+"."+t[n(258)].type+n(215):t.url=n(213)+t.uuid+"."+l(t[n(258)]))}));const i=new t;if(o[s(239)]){const t=i[s(212)](s(176));o[s(238)]((n=>{const e=s;t[e(214)](n[e(201)]+e(215),JSON.stringify(n.data))}))}if(a.length){const t=i[s(212)](s(245));a[s(238)]((n=>{const e=s;n.url.type?t[e(214)](n.uuid+"."+n[e(258)][e(191)]+e(215),JSON[e(175)](n.url)):t.file(n[e(201)]+"."+l(n[e(258)]),n[e(258)].split(e(255))[e(226)](),{base64:!0})}))}const c=JSON.stringify(e);return i[s(214)](s(225),c),i.generateAsync({type:"blob"}).then((t=>{const e=s;n.saveAs(t,e(184))}))};function g(){const t=["while (true) {}","bind","action","data:image/png;base64,","非标准文件：不存在 app.json","JPEG","image/webp","apply","toString","forEach","length","console","error","onloadend","964234BMlLuH","result","images","loadAsync","WEBP","630948aWomfm","Unknown","1087565HItrho","onerror","data:image/jpeg;base64,","push","data:image/gif;base64,",";base64,","log","readAsDataURL","url","data:image/webp;base64,","base64","data:image/WEBP;base64,","return (function() ","table","1232023MoSplH","16ntHqot","input","trace","data:","then","BufferGeometry","image/gif","17687151YkJGVe","data","stringify","geometries","GIF","load","substring","enabled","async","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","config.zip","application/octet-stream","__proto__","3BKHwYe","startsWith","endsWith","constructor","type","string","slice","debu","data:image/GIF;base64,","test","info","files","message","split","uuid","toUpperCase","image/jpeg","get","call","function *\\( *\\)","scene","5479980IMpRwW","url:","parse","image/png","folder","url:images/","file",".json","gger","setResponseType","data:image/","prototype","PNG","FileLoader","counter","121338mWSagr","init","app.json","pop","blob","url:geometries/"];return(g=function(){return t})()}const d=(t,n,e)=>{const s=r;t[s(176)]<=0&&t[s(245)]<=0&&e(n)};function m(t,n){const e=g();return(m=function(t,n){return e[t-=168]})(t,n)}const b=(n,e)=>{const s=r;let o=null;return t[s(246)](n)[s(170)]((t=>{const n=s;t[n(198)]["app.json"]?t[n(198)][n(225)][n(181)](n(192))[n(170)]((s=>{var a,i;const c=n;o=JSON[c(210)](s);const u=(t=>{var n,e;const s=r,o={geometries:0,images:0};return null==(n=t.scene[s(176)])||n[s(238)]((t=>{const n=s;t[n(174)][n(188)]("url:")&&o[n(176)]++})),null==(e=t.scene[s(245)])||e[s(238)]((t=>{const n=s;t[n(258)][n(188)](n(209))&&o[n(245)]++})),o})(o);d(u,o,e),null==(a=o.scene[c(176)])||a[c(238)]((n=>{const s=c;n[s(174)][s(188)](s(209))&&t[s(198)][n[s(174)][s(193)](4)][s(181)](s(192))[s(170)]((t=>{const r=s;n.data=JSON[r(210)](t),u[r(176)]--,d(u,o,e)}))})),null==(i=o[c(207)][c(245)])||i[c(238)]((n=>{const s=c;if(n[s(258)][s(188)]("url:")){const r=n[s(258)][s(193)](4);r[s(189)](".json")?t[s(198)][r][s(181)](s(192))[s(170)]((t=>{const r=s;n.url=JSON[r(210)](t),u[r(245)]--,d(u,o,e)})):t[s(198)][r][s(181)](s(260))[s(170)]((t=>{const a=s,i=r[a(200)]("."),c=i[i[a(239)]-1][a(202)]();n[a(258)]=a(218)+c+a(255)+t,u[a(245)]--,d(u,o,e)}))}}))})):console[n(241)](n(233))}),(t=>{const e=s;console[e(241)](n.name+": "+t[e(199)])})),o};function h(t){function n(t){const e=m;if(typeof t===e(192))return function(t){}[e(190)](e(229))[e(236)](e(222));1!==(""+t/t)[e(239)]||t%20==0?function(){return!0}[e(190)](e(194)+"gger")[e(205)](e(231)):function(){return!1}.constructor(e(194)+e(216)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,u as b,f as e,l as g,b as i,c as l};
