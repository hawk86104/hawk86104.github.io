import{c7 as t,a3 as n,r as e,s as r}from"./three.HaMTRCf61740450466561.js";import{a as o}from"./@tresjs.9lmhsV6t1740450466561.js";import{R as s,b as c}from"./all.three.ZTuQc1_h1740450466561.js";import{d as i,a3 as a,a2 as u,w as f,o as l,H as p,N as d,u as h}from"./@vue.NRI7TcgI1740450466561.js";const m=v;!function(t,n){const e=v,r=I();for(;;)try{if(412621===-parseInt(e(346))/1*(parseInt(e(340))/2)+parseInt(e(351))/3+parseInt(e(339))/4+parseInt(e(329))/5+-parseInt(e(337))/6+parseInt(e(321))/7*(-parseInt(e(347))/8)+parseInt(e(306))/9*(parseInt(e(309))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(333)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=v,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(326),"i"),r=_(t(310));n[t(323)](r+t(313))&&e[t(323)](r+t(348))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(334)+t(343)+");")()}catch(e){n=window}return n}(),e=n[t(312)]=n[t(312)]||{},r=[t(335),t(349),t(308),t(344),t(305),t(341),t(298)];for(let o=0;o<r[t(336)];o++){const n=g.constructor.prototype[t(338)](g),s=r[o],c=e[s]||n;n[t(345)]=g[t(338)](g),n[t(311)]=c[t(311)][t(338)](c),e[s]=n}}))();const y=["scale"],b=[m(322)],j=[m(322)];function v(t,n){const e=I();return(v=function(t,n){return e[t-=296]})(t,n)}const x=i({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:w}){const g=m;let v,x;const I=i,_=new s,R=new t(I[g(304)][0]-.5,I[g(304)][1]);R.visible=I[g(301)];const{map:U}=([v,x]=a((()=>o({map:I[g(328)]}))),v=await v,x(),v);U.wrapS=n,U.wrapT=n,U.repeat[g(325)](6,3);const T=new c({map:U,reflectivity:I[g(300)]});T[g(342)][g(352)]={value:_.renderTarget[g(317)]},T[g(342)].tReflectBlur=_[g(324)],T[g(342)][g(307)]=_[g(318)];const z=new e(new r(I[g(304)][0],I[g(304)][1]),T);return z.rotation.x=-Math.PI/2,z[g(302)](_),z.onBeforeRender=(t,n,e)=>{const r=g;z[r(315)]=!1,I[r(299)][r(296)]((t=>{const n=r;t[n(303)]&&(t[n(315)]=!1),t[n(316)]&&t[n(316)][n(303)]&&(t[n(316)][n(315)]=!1)})),_[r(314)](t,n,e),I.ignoreObjects.forEach((t=>{const n=r;t[n(303)]&&(t[n(315)]=!0),t[n(316)]&&t[n(316)][n(303)]&&(t[n(316)][n(315)]=!0)})),z[r(315)]=!0},u((()=>{const t=g;I[t(300)]&&(T.uniforms.uReflectivity[t(316)]=I[t(300)])})),f((()=>I[g(301)]),(t=>{R[g(315)]=t})),w({reflector:_}),(t,n)=>{const e=g;return l(),p(e(319),{scale:I[e(327)]},[d(e(331),{object:h(z),"position-y":-.01},null,8,b),d("primitive",{object:h(R)},null,8,j)],8,y)}}});function I(){const t=["145640suRHMm","init","toString","console","chain","update","visible","value","texture","textureMatrixUniform","TresGroup","action","517636clhdKy","object","test","renderTargetUniform","set","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","scale","mapUrl","3356930QyVWvC","constructor","primitive","stateObject","apply","return (function() ","log","length","3316920rjrrdh","bind","2594976suANPN","42puCqlW","table","uniforms",'{}.constructor("return this")( )',"error","__proto__","30718UKxapT","64TJFzWh","input","warn","counter","1903155KUXEpQ","tReflect","forEach","debu","trace","ignoreObjects","reflectivity","showGridHelper","add","isMesh","size","exception","153UwQwkQ","uMatrix","info"];return(I=function(){return t})()}function _(t){function n(t){const e=v;if("string"==typeof t)return function(t){}[e(330)]("while (true) {}")[e(333)](e(350));1!==(""+t/t)[e(336)]||t%20==0?function(){return!0}.constructor(e(297)+"gger").call(e(320)):function(){return!1}[e(330)](e(297)+"gger")[e(333)](e(332)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
