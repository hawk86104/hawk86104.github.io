import{P as t}from"./tweakpane.yDiyAAkA1741168315107.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.J34yLRyD1741168315107.js";import{_ as r}from"./heatmap.js-fix.b6m3V1OL1741168315107.js";import{a as i,_ as c,c3 as s,B as u}from"./three.FxqAALWt1741168315107.js";import{r as a}from"./utils.R1pzgsk61741168315107.js";import{d as p}from"./pinia.54vgoDms1741168315107.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as w,W as b,P as _,R as I,L as j,O as x,a3 as M,r as D,j as R,g as E,m as S}from"./@vue.NRI7TcgI1741168315107.js";import{c as k,d as O,a as F}from"./three-mesh-bvh.304c-5N01741168315107.js";import{_ as T}from"./@fesjs.vxeGrljA1741168315107.js";import"./@tresjs.Ea5Oq_-I1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./three-custom-shader-material.q4QTPw9f1741168315107.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741168315107.js";import"./@amap.d8-LJgNK1741168315107.js";import"./vue-router.WwZ4Gmuc1741168315107.js";import"./lodash-es.pklfUAS51741168315107.js";import"./@qlin.yHhFDldE1741168315107.js";import"./@floating-ui.BPbuo5Gx1741168315107.js";import"./@juggle.7yjBMqoW1741168315107.js";function Y(){const t=["getValueAt","appendChild","constructor","function *\\( *\\)","length","2185320gWTYFD","return (function() ","329433Pbziil","bind","rgb(0,255,0)","__proto__","counter","trace","411316ogFcwY","top","width","716964oRkRqh","rgb(255,0,0)","left","590560VkYYnO","stateObject","body","action","chain","position",'{}.constructor("return this")( )',"769275XqywRt","8zyRBfT","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","toString","rgb(0,0,255)","style","debu","_config","2007614kQibtg","call","string","display","init","randInt","log","gger","apply","push","none","console","heatmap-canvas","error","input","absolute","createElement","prototype","while (true) {}"];return(Y=function(){return t})()}!function(t,n){const e=A,o=Y();for(;;)try{if(279130===parseInt(e(226))/1+-parseInt(e(232))/2+parseInt(e(235))/3+parseInt(e(238))/4+-parseInt(e(245))/5+-parseInt(e(224))/6+parseInt(e(200))/7*(parseInt(e(246))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=A,n=new RegExp(t(222)),e=new RegExp(t(247),"i"),o=$(t(204));n[t(248)](o+t(242))&&e[t(248)](o+t(214))?$():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(208)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=Y();return(A=function(t,n){return e[t-=197]})(t,n)}z(void 0,(function(){const t=A;let n;try{n=Function(t(225)+t(244)+");")()}catch(r){n=window}const e=n[t(211)]=n.console||{},o=[t(206),"warn","info",t(213),"exception","table",t(231)];for(let i=0;i<o[t(223)];i++){const n=z[t(221)][t(217)][t(227)](z),r=o[i],c=e[r]||n;n[t(229)]=z.bind(z),n.toString=c[t(249)][t(227)](c),e[r]=n}}))();const P=(t,n)=>t[A(219)](n)+-10;function $(t){function n(t){const e=A;if(typeof t===e(202))return function(t){}[e(221)](e(218))[e(208)](e(230));1!==(""+t/t).length||t%20==0?function(){return!0}[e(221)]("debu"+e(207))[e(201)](e(241)):function(){return!1}.constructor(e(198)+e(207)).apply(e(239)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=B;!function(t,n){const e=B,o=J();for(;;)try{if(253916===-parseInt(e(237))/1+-parseInt(e(253))/2*(-parseInt(e(264))/3)+parseInt(e(247))/4*(-parseInt(e(268))/5)+-parseInt(e(265))/6+parseInt(e(259))/7+parseInt(e(252))/8+parseInt(e(241))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=B,n=new RegExp(t(250)),e=new RegExp(t(242),"i"),o=U(t(248));n[t(256)](o+"chain")&&e.test(o+t(263))?U():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(t,n){const e=J();return(B=function(t,n){return e[t-=237]})(t,n)}function J(){const t=["349620HIZFGh","table","toString","prototype","3745368QpEvKF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","buildingsHeatmap","console","warn","1167112HmkFwX","init","bind","function *\\( *\\)","string","3438632ECJToX","292aHurgQ","debu","return (function() ","test","length","info","2515471LJneQP","__proto__","trace","value","input","546kMkmDv","2019552yQliaG","apply","gger","5TYWIkY","call","error","constructor"];return(J=function(){return t})()}q(void 0,(function(){const t=B;let n;try{n=Function(t(255)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(245)]=n.console||{},o=[t(243),t(246),t(258),t(270),"exception",t(238),t(261)];for(let i=0;i<o[t(257)];i++){const n=q[t(271)][t(240)][t(249)](q),r=o[i],c=e[r]||n;n[t(260)]=q[t(249)](q),n[t(239)]=c[t(239)][t(249)](c),e[r]=n}}))();const Q=p(G(244),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[B(262)]=n},setTemperature:function(t){n[B(262)]=t}}}));function U(t){function n(t){const e=B;if(typeof t===e(251))return function(t){}[e(271)]("while (true) {}")[e(266)]("counter");1!==(""+t/t)[e(257)]||t%20==0?function(){return!0}[e(271)](e(254)+e(267))[e(269)]("action"):function(){return!1}[e(271)](e(254)+e(267))[e(266)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=X;function C(){const t=["land","1152657NdRFTx","counter","computeBoundsTree","2077674AQimHh","constructor","string","exception","BufferGeometry","mergeGeometries","opacity","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","bind","ShaderMaterial","apply","geometry","DoubleSide","buildingsHeatmap","return (function() ","input","48vnlGsP","setTemperature","setShowDiv","model","Matrix4","object","30DFijOv","debu","rotation-x","uOpacity","stateObject","init","city","length","call","attributes","prototype","test","primitive","997083aOSOWs","gger","3064103DYljZD","chain","action","436208DOqodG","log","normal","info","applyMatrix4","_config","uniforms","toString","Texture","trace","matrix","__proto__","value","6741870ltJcVV","makeRotationX","Mesh","39310aqNmUC","clone","console"];return(C=function(){return t})()}!function(t,n){const e=X,o=C();for(;;)try{if(746699===parseInt(e(309))/1+parseInt(e(305))/2*(-parseInt(e(271))/3)+-parseInt(e(289))/4+parseInt(e(302))/5+-parseInt(e(312))/6+-parseInt(e(286))/7+parseInt(e(265))/8*(-parseInt(e(284))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt(t(276));n[t(282)](o+t(287))&&e[t(282)](o+t(264))?nt():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(t,n){const e=C();return(X=function(t,n){return e[t-=250]})(t,n)}W(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(263)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(307)]=n[t(307)]||{},o=[t(290),"warn",t(292),"error",t(252),"table",t(298)];for(let r=0;r<o[t(278)];r++){const n=W.constructor[t(281)].bind(W),i=o[r],c=e[i]||n;n[t(300)]=W[t(257)](W),n[t(296)]=c.toString.bind(c),e[i]=n}}))();const N=[V(270),V(273)],K=["object"],tt=l({__name:V(262),props:{model:{},opacity:{default:1}},setup(t){const n=V;(()=>{const t=X;c[t(253)][t(281)][t(311)]=k,u[t(281)].disposeBoundsTree=O,c[t(304)][t(281)].raycast=F})();const e=t,o=((t=250,n=250,e=!0)=>{const o=A,i=document[o(216)](o(212));return i.style[o(243)]=o(215),!e&&(i.style[o(203)]=o(210)),i[o(197)][o(233)]="0",i[o(197)][o(237)]="0",document[o(240)][o(220)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(250),.55:o(228),.85:"yellow",1:o(236)}})})();((t,n)=>{const e=A;if(!n){let o=0;for(n=[];o<1e3;)n[e(209)]({x:i[e(205)](1,t[e(199)][e(234)]),y:i[e(205)](1,t[e(199)].height),value:i[e(205)](-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const p=new(c[n(297)])(o._renderer.canvas);p.needsUpdate=!0;const f=e[n(268)][n(277)][n(306)]();delete f[n(260)].attributes[n(291)],delete f.geometry[n(280)].uv;const l=f[n(260)][n(306)]().applyMatrix4(f[n(299)]),w=e[n(268)][n(308)][n(306)]();delete w.geometry[n(280)].normal;const b=w.geometry[n(306)]()[n(293)](w[n(299)]),_=s[n(254)]([l,b]);_.applyMatrix4((new(c[n(269)]))[n(303)](Math.PI/2)),a(_),_[n(311)]();const I=(t=>{const o=n;return new(c[o(258)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(256),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(261)]})})(p),j=new(c[n(304)])(_,I);h((()=>{const t=n;e[t(255)]&&(I[t(295)][t(274)][t(301)]=e.opacity)}));const x=Q(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(294)].width,y:(1-t.uv.y)*o[e(294)].height};console[e(290)]("数值：",t),console[e(290)]("数值———：",P(o,n)),x[e(266)](P(o,n))}},D=t=>{t&&x.$patch({showDiv:!0})},R=t=>{t&&x[n(267)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(283),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:D,onPointerLeave:R},null,40,N),g(r(283),{object:e[r(268)][r(268)].children[0][r(306)]()},null,8,K)],64)}}});function nt(t){function n(t){const e=X;if(typeof t===e(251))return function(t){}.constructor("while (true) {}")[e(259)](e(310));1!==(""+t/t)[e(278)]||t%20==0?function(){return!0}.constructor(e(272)+e(285))[e(279)](e(288)):function(){return!1}[e(250)]("debu"+e(285))[e(259)](e(275)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=T({__name:"dataDiv",setup(t){const n=Q(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[I,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=it,o=ut();for(;;)try{if(709019===parseInt(e(328))/1+-parseInt(e(350))/2*(-parseInt(e(338))/3)+parseInt(e(329))/4*(parseInt(e(332))/5)+parseInt(e(347))/6+-parseInt(e(330))/7+-parseInt(e(336))/8*(parseInt(e(341))/9)+-parseInt(e(357))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(337)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=it,n=new RegExp(t(356)),e=new RegExp(t(353),"i"),o=st(t(362));n[t(360)](o+t(346))&&e.test(o+"input")?st():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=ut();return(it=function(t,n){return e[t-=328]})(t,n)}rt(void 0,(function(){const t=it;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=[t(334),t(331),"info",t(351),t(352),"table",t(335)];for(let i=0;i<o[t(349)];i++){const n=rt[t(333)][t(344)][t(361)](rt),r=o[i],c=e[r]||n;n[t(340)]=rt[t(361)](rt),n[t(355)]=c[t(355)][t(361)](c),e[r]=n}}))();const ct=l({__name:"heatmap2",async setup(r){const i=it;let c,s;const u=f(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u[i(343)]=!0;const p=D({width:1,color:i(345),opacity:1,show:!0}),l=D({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,"opacity",{label:i(354),min:0,max:1,step:.1}),(t,o)=>(d(),m(v,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:E((()=>[R(tt,S({model:y(a)},l),null,16,["model"]),R(n,S(p,{builds:y(a).city}),null,16,["builds"])])),_:1}),R(et)],64))}});function st(t){function n(t){const e=it;if(typeof t===e(339))return function(t){}[e(333)]("while (true) {}")[e(337)](e(359));1!==(""+t/t)[e(349)]||t%20==0?function(){return!0}[e(333)](e(363)+e(342)).call(e(358)):function(){return!1}[e(333)]("debu"+e(342))[e(337)](e(348)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ut(){const t=["__proto__","8217zvZYVT","gger","value","prototype","#000","chain","3079248MjYeac","stateObject","length","1796516wVjUGH","error","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","透明度","toString","function *\\( *\\)","3504990EvLhwa","action","counter","test","bind","init","debu","482802fjYuAw","272sgJNMi","510587yICJJm","warn","42065cisirv","constructor","log","trace","11688deqcRT","apply","3ExoQGJ","string"];return(ut=function(){return t})()}export{ct as default};
