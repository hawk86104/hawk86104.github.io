import{T as t,bS as e,V as i,a as n,t as s,bq as r,n as o,b as a}from"./three.Cqu7jvck1744075368226.js";const c=l;!function(){const t=l,e=p();for(;;)try{if(567055===-parseInt(t(451))/1*(-parseInt(t(413))/2)+parseInt(t(318))/3+parseInt(t(358))/4+-parseInt(t(346))/5+-parseInt(t(376))/6*(-parseInt(t(371))/7)+parseInt(t(337))/8*(-parseInt(t(459))/9)+parseInt(t(322))/10*(-parseInt(t(443))/11))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(728)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){h(this,(function(){const t=l,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(694),"i"),n=d("init");e[t(312)](n+"chain")&&i.test(n+t(380))?d():n("0")}))()}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function l(t,e){const i=p();return l=function(t,e){return i[t-=295]},l(t,e)}u(void 0,(function(){const t=l;let e;try{e=Function(t(615)+t(355)+");")()}catch(s){e=window}const i=e[t(730)]=e[t(730)]||{},n=["log","warn",t(666),t(513),t(305),"table",t(589)];for(let r=0;r<n[t(635)];r++){const e=u[t(739)][t(695)][t(638)](u),s=n[r],o=i[s]||e;e[t(465)]=u[t(638)](u),e.toString=o[t(454)].bind(o),i[s]=e}}))();const f={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function p(){const t=["radius","resetDynamic","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","#ifdef SHOULD_ROTATE_TEXTURE","        pos = getRotation( pos, positionInTime );","`emitter` argument must be instance of SPE.Emitter. Was provided with:","24658VZyPKP","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    #ifdef COLORIZE","ensureInstanceOf","_assignAngleValue","shaders","SPE.Group pool ran out.","    highp float isAlive = when_gt( alive, 0.0 );","Emitter already belongs to another group. Will not add to requested group.","_updateAttributeUpdateRange","cos","age","setFromArray","_assignValue","rotation","_center","vec3 unpackRotationAxis( in float hex ) {","updateMap","_attributesNeedRefresh","_ensureTypedArray","attribute vec4 rotation;","utils","arrayType","#ifdef SHOULD_CALCULATE_SPRITE","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","float when_le(float x, float y) {","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","random","max","textureLoop","215699IxMIlu","    ","hasPerspective","releaseIntoPool","randomVector3OnSphere","logdepthbuf_pars_vertex","round","_spread","58QyzUIN","distributionClamp","size","toString","   float b = mod( hex, PACKED_COLOR_SIZE );","undefined","   return acceleration.xyz * age;","    return value;","73431ljMqxh","replace","alphaTest","add","axis","        float wiggleAmount = positionInTime * getWiggle();","__proto__","_createGetterSetters","deltaTime","ShaderChunk","NUMBER","LINE","opacity","spreadClamp","min","    gl_Position = projectionMatrix * mvPosition;","    #ifdef HAS_PERSPECTIVE","    #else","_applyAttributesToGeometry","emitterIDs","setSize","    vec3 value = vec3( 0.0 );","sin","isStatic","bufferUpdateCount","roundToNearestMultiple","    return min(a + b, 1.0);","_createNewWhenPoolEmpty","       float c = cos( -vAngle );","       float s = sin(angle);","_triggerSingleEmitter","        float row = floor( (frameNumber - column) / framesX );","   return params.x;","static","   c *= vec3( 2.0 );","subarray","uniforms","acceleration","   }","vec3 unpackColor( in float hex ) {","axisSpread","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","randomVector3OnDisc","common","           return pos;","particleCount","    float shouldApplyValue = 0.0;","count","frameCount","       float oc = 1.0 - c;","keys","reset","    vec4 rotatedTexture = texture2D( tex, vUv );","Vector4","error","triggerPoolEmitter","updateFlags","shaderChunks","       );","depthTest","maxParticleCount","position","setVec2Components","   return params.y;","counter","textureFrames","    force *= drag;","_assignParamsValue","angleSpread","setVec4","    vec3 outgoingLight = vColor.xyz;","attribute vec4 params;","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","copy","    highp float maxAge = getMaxAge();","addEmitter","varying vec4 vColor;","_assignAbsLifetimeValue","getPool","setMat4","_radius","float getMaxAge() {","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","lerp","distribution","attribute vec4 angle;","emitters","_checkParticleAges","angle","alive","attributeOffset","getValueAtIndex","    highp float positionInTime = (age / maxAge);","array","Emitter","float when_lt(float x, float y) {","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    highp float value = 0.0;","setVec2","_onRemove","       fIndex = float( i );","   return modelViewMatrix * vec4( position, 1.0 );","#define PACKED_COLOR_DIVISOR 255.0","attributeEnd","isArray","attribute vec3 velocity;","Group","_assignRotationValue","disable","        pos.z += wiggleSin;","rotateTexture","Points","randomise","ensureArrayInstanceOf","float when_ge(float x, float y) {","object","_angleSpread","NEGATIVE_INFINITY","        float loopCount = textureAnimation.w;","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","params","paramsArray","BOX","activationEnd","Invalid argument types, or argument types do not match:","distributions","   c.r = r / PACKED_COLOR_DIVISOR;","float and(float a, float b) {","textureFrameCount","set","trace","frames","    float fIndex = 0.0;","       float c = cos(angle);","        pos.x += wiggleSin;","        vSpriteSheet.z = columnNorm;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","      if( rotation.y == 0.0 ) {","        pos.y += wiggleCos;","DynamicDrawUsage","setUpdateRange","BufferGeometry","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","setNumber","ensureValueOverLifetimeCompliance","exports","floatOverLifetime","_attributesNeedDynamicReset","float when_eq( float x, float y ) {","typeSizeMap","        float framesY = textureAnimation.y;","indexOffset","TypedArrayConstructor","randomVector3","       vec3 c = isAlive * getColorOverLifetime(","uniform float deltaTime;","return (function() ","_assignColorValue","runTime","    return max(sign(x - y), 0.0);","float getWiggle() {","#endif","spread","center","grow","        float rowNorm = vSpriteSheet.w;","           positionInTime,","    return 1.0 - abs( sign( x - y ) );","typedArray","        float perspective = scale / length( mvPosition.xyz );","_decrementParticleCount","ensureArrayTypedArg","activeMultiplier","REVISION","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","rotationCenter","length","transparent","gger","bind","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","#ifdef SHOULD_ROTATE_PARTICLES","value","      vec3 axis = unpackRotationAxis( rotation.x );","setColor","texture","uniform float runTime;","_updateUniforms","resetUpdateRange","_assignForceValue","types","SPHERE","setVec3","SHOULD_ROTATE_TEXTURE","attributeKeys","scale","      float angle = 0.0;","componentSize","        float wiggleSin = isAlive * sin( wiggleAmount );","      vec3 center = rotationCenter;","Vector3","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","activeParticleCount","enable","   return c;","needsUpdate","spe","info","sqrt","elements","branchAvoidanceFunctions","attributes","colorize","SHOULD_ROTATE_PARTICLES","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","_resetParticle","    #ifdef SHOULD_ROTATE_TEXTURE","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","randomDirectionVector3OnSphere","varyings","abs","vec4 getPosition( in float age ) {","   return params.z;","splice","fog","       float x = gl_PointCoord.x - 0.5;","fog_vertex","randomColorAsHex","offset","    vec3 force = vec3( 0.0 );","flagUpdate","Color","usage","activationIndex","clamp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","_assignPositionValue","debu","forceFetchingFunctions","        vSpriteSheet.x = 1.0 / framesX;","_rotationCenter","_value","push","forceUpdateAll","SHOULD_WIGGLE_PARTICLES","   return velocity * age;","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","OBJECT","type","_spreadClamp","float getAlive() {","updateRange","BOOLEAN","duration","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","attribute vec4 size;","setVec4Components","uniform float scale;","MathUtils","_axisSpread","_updateBuffers","_incrementParticleCount","clone","POSITIVE_INFINITY","        float columnNorm = column / framesX;","    highp float age = getAge();","getFromPool","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","apply","           unpackColor( color.w )","console","           unpackColor( color.x ),","depthWrite","           unpackColor( color.y ),","_pool","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","_setBufferUpdateRanges","randomVector3OnLine","        float column = floor(mod( frameNumber, framesX ));","constructor","ShaderAttribute","Texture","pop","TypedArrayHelper","setAttribute","group","interpolateArray","_calculatePPSValue","stateObject","fog_fragment","ensureTypedArg","      }","float or(float a, float b) {","  return 1.0 - when_lt(x, y);","updateCounts","log","float getAge() {","_distributionClamp","_updateDefines","color","_createBufferAttribute","string","        float perspective = 1.0;","dynamicBuffer","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","logdepthbuf_fragment","exception","    #ifdef SHOULD_WIGGLE_PARTICLES","bufferUpdateRanges","join","lerpTypeAgnostic","boolean","attribute vec4 color;","test","blending","    varying vec4 vSpriteSheet;","remove","fixedTimeStep","defines","2859909jfiodx","amd","wiggle","randomFloat","580YYeSeY","        float totalFrames = textureAnimation.z;","material","    return a * b;","logdepthbuf_pars_fragment","setVec3Components","SPE.Group: maxParticleCount exceeded. Requesting","  return 1.0 - when_gt(x, y);","      mat4 rotationMatrix;","getLength","      vec3 translated;","particlesPerSecond","updateMin","maxAge","arrayValuesAreEqual","312RtWATi","getComponentValueAtIndex","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","_poolCreationSettings","velocity","StaticDrawUsage","itemSize","BufferAttribute","_resetBufferRanges","3508650RAANfU","Vector2","uniform vec4 textureAnimation;","_angle","    pos += force;","   vec3 c = vec3( 0.0 );","colorOverLifetime","_radiusScale","    #ifdef SHOULD_CALCULATE_SPRITE",'{}.constructor("return this")( )',"    float pointSizePerspective = pointSize * perspective;","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","919788UxEcqS","    vec3 accel = getAcceleration( age );","randomDirectionVector3OnDisc","_distribution","    vColor = vec4( c, o );","bufferAttribute","loop","setRGB","attribute vec4 acceleration;","onParticleSpawn","Emitter does not exist in this group. Will not remove.","indexOf","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","1445458xQUQFW","attributeCount","_setAttributeOffset","shrink","_static","24hbUkiH","multiplyScalar","geometry","        float wiggleCos = isAlive * cos( wiggleAmount );","input","radiusScale","drag","function","updateMax","Will not resize.","warn","tick","fog_pars_vertex","        vSpriteSheet.y = 1.0 / framesY;","DISC","ceil","   c.g = g / PACKED_COLOR_DIVISOR;","hasOwnProperty","valueOverLifetimeLength","        float framesY = vSpriteSheet.y;","_activateParticles","void main() {","   c.b = b / PACKED_COLOR_DIVISOR;","uniform sampler2D tex;","Emitter already exists in this group. Will not add again.","direction","    #endif","normalize","uuid","    gl_PointSize = pointSizePerspective;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );"];return(p=function(){return t})()}function d(t){function e(t){const i=l;if(typeof t===i(300))return function(t){}[i(739)]("while (true) {}")[i(728)](i(523));1!==(""+t/t)[i(635)]||t%20==0?function(){return!0}[i(739)](i(697)+i(637)).call("action"):function(){return!1}[i(739)](i(697)+"gger")[i(728)](i(748)),e(++t)}try{if(t)return e;e(0)}catch(i){}}typeof define===c(383)&&define[c(319)]?define(c(665),f):"undefined"!=typeof exports&&typeof module!==c(456)&&(module[c(604)]=f),f[c(743)]=function(t,e,i,n){const s=c;this[s(656)]=i||1,this[s(453)]=e||1,this[s(611)]=t||Float32Array,this.array=new t(e*this[s(656)]),this[s(610)]=n||0},f[c(743)][c(739)]=f[c(743)],f[c(743)][c(695)][c(479)]=function(t,e){const i=c,n=this.array[i(635)];return!e&&(t*=this[i(656)]),t<n?this[i(374)](t):t>n?this[i(623)](t):void console[i(666)]("TypedArray is already of size:",t+".",i(385))},f[c(743)][c(695)][c(374)]=function(t){const e=c;return this.array=this.array[e(494)](0,t),this.size=t,this},f[c(743)][c(695)][c(623)]=function(t){const e=c,i=this[e(552)],n=new this.TypedArrayConstructor(t);return n.set(i),this[e(552)]=n,this[e(453)]=t,this},f[c(743)][c(695)][c(682)]=function(t,e){const i=c;t*=this[i(656)],e*=this.componentSize;const n=[],s=this[i(552)],r=s[i(635)];for(let o=0;o<r;++o)(o<t||o>=e)&&n.push(s[o]);return this[i(425)](0,n),this},f[c(743)][c(695)][c(425)]=function(t,e){const i=c,n=t+e[i(635)];return n>this[i(552)][i(635)]?this.grow(n):n<this[i(552)].length&&this[i(374)](n),this[i(552)][i(588)](e,this.indexOffset+t),this},f[c(743)][c(695)][c(557)]=function(t,e){return this[c(521)](t,e.x,e.y)},f[c(743)][c(695)][c(521)]=function(t,e,i){const n=c,s=this.array,r=this[n(610)]+t*this.componentSize;return s[r]=e,s[r+1]=i,this},f.TypedArrayHelper[c(695)].setVec3=function(t,e){return this[c(327)](t,e.x,e.y,e.z)},f[c(743)][c(695)][c(327)]=function(t,e,i,n){const s=c,r=this[s(552)],o=this[s(610)]+t*this.componentSize;return r[o]=e,r[o+1]=i,r[o+2]=n,this},f[c(743)].prototype[c(528)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},f.TypedArrayHelper[c(695)].setVec4Components=function(t,e,i,n,s){const r=c,o=this[r(552)],a=this[r(610)]+t*this[r(656)];return o[a]=e,o[a+1]=i,o[a+2]=n,o[a+3]=s,this},f[c(743)].prototype.setMat3=function(t,e){const i=c;return this.setFromArray(this.indexOffset+t*this[i(656)],e[i(668)])},f[c(743)][c(695)][c(538)]=function(t,e){const i=c;return this[i(425)](this[i(610)]+t*this[i(656)],e.elements)},f[c(743)][c(695)][c(643)]=function(t,e){return this[c(327)](t,e.r,e.g,e.b)},f[c(743)].prototype[c(602)]=function(t,e){const i=c;return this[i(552)][this[i(610)]+t*this.componentSize]=e,this},f[c(743)].prototype[c(550)]=function(t){return this[c(552)][this.indexOffset+t]},f[c(743)][c(695)][c(338)]=function(t){const e=c;return this[e(552)][e(494)](this[e(610)]+t*this[e(656)])},f[c(740)]=function(t,e,i){const n=c,s=f[n(740)][n(608)];this[n(708)]="string"==typeof t&&s[n(393)](t)?t:"f",this[n(656)]=s[this[n(708)]],this[n(435)]=i||Float32Array,this.typedArray=null,this[n(363)]=null,this[n(302)]=!!e,this[n(334)]=0,this[n(384)]=0},f.ShaderAttribute[c(739)]=f.ShaderAttribute,f[c(740)][c(608)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},f[c(740)][c(695)][c(599)]=function(t,e){const i=c;this.updateMin=Math.min(t*this[i(656)],this[i(334)]*this[i(656)]),this.updateMax=Math[i(441)](e*this[i(656)],this[i(384)]*this.componentSize)},f[c(740)][c(695)][c(689)]=function(){const t=c,e=this[t(363)];!e[t(711)]&&(e[t(711)]={});const i=e[t(711)];i[t(687)]=this.updateMin,i.count=Math[t(473)](this[t(384)]-this[t(334)]+this[t(656)],this[t(627)][t(552)][t(635)]),e.needsUpdate=!0},f[c(740)][c(695)][c(647)]=function(){const t=c;this.updateMin=0,this[t(384)]=0},f[c(740)][c(695)][c(408)]=function(){const e=c;this[e(363)][e(691)]=this[e(302)]?t[e(598)]:t[e(342)]},f[c(740)][c(695)].splice=function(t,e){const i=c;this.typedArray[i(682)](t,e),this.forceUpdateAll()},f[c(740)].prototype[c(703)]=function(){const e=c;this[e(363)][e(552)]=this.typedArray[e(552)],this[e(363)][e(711)][e(687)]=0,this[e(363)][e(711)][e(506)]=-1,this[e(363)][e(691)]=t[e(342)],this[e(363)][e(664)]=!0},f.ShaderAttribute.prototype[c(432)]=function(t){const e=c;null!==this[e(627)]&&this[e(627)][e(453)]===t*this[e(656)]||(null!==this[e(627)]&&this.typedArray[e(453)]!==t?this[e(627)][e(479)](t):null===this[e(627)]&&(this[e(627)]=new f.TypedArrayHelper(this[e(435)],t,this[e(656)])))},f.ShaderAttribute.prototype._createBufferAttribute=function(e){const i=c;if(this._ensureTypedArray(e),null!==this.bufferAttribute)return this[i(363)][i(552)]=this[i(627)].array,parseFloat(t[i(632)])>=81&&(this[i(363)][i(506)]=this.bufferAttribute[i(552)][i(635)]/this[i(363)][i(343)]),void(this.bufferAttribute.needsUpdate=!0);this.bufferAttribute=new(t[i(344)])(this.typedArray[i(552)],this[i(656)]),this[i(363)].usage=this[i(302)]?t[i(598)]:t[i(342)]},f[c(740)].prototype[c(331)]=function(){const t=c;return null===this[t(627)]?0:this[t(627)][t(552)].length},f.shaderChunks={defines:["#define PACKED_COLOR_SIZE 256.0",c(561)][c(308)]("\n"),uniforms:[c(614),c(645),c(399),c(348),c(717)][c(308)]("\n"),attributes:[c(366),c(564),c(433),"attribute vec3 rotationCenter;",c(530),c(715),c(544),c(311),"attribute vec4 opacity;"][c(308)]("\n"),varyings:[c(535),c(410),"    varying float vAngle;","#endif",c(436),c(314),c(620)][c(308)]("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {",c(618),"}",c(554),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",c(607),c(626),"}",c(573),c(753),"}",c(438),c(329),"}",c(586),c(325),"}",c(752),c(485),"}"].join("\n"),unpackColor:[c(498),c(351),c(714),c(409),c(455),c(585),c(392),"   c.b = b / PACKED_COLOR_DIVISOR;",c(663),"}"][c(308)]("\n"),unpackRotationAxis:[c(429),c(351),c(714),c(409),c(455),c(585),c(392),c(398),c(493),"   c -= vec3( 1.0 );","   return c;","}"][c(308)]("\n"),floatOverLifetime:[c(370),c(556),c(660),c(591),c(505),c(439),"",c(541),c(559),c(727),c(595),"    }","",c(458),"}"][c(308)]("\n"),colorOverLifetime:[c(357),c(480),"    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",c(676),c(458),"}"][c(308)]("\n"),paramFetchingFunctions:[c(710),c(491),"}",c(295),c(522),"}",c(540),c(681),"}",c(619),"   return params.w;","}"][c(308)]("\n"),forceFetchingFunctions:[c(680),c(560),"}","vec3 getVelocity( in float age ) {",c(705),"}","vec3 getAcceleration( in float age ) {",c(457),"}"][c(308)]("\n"),rotationFunctions:[c(640),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);",c(488),c(592),c(508),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",c(706),"                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","                   0.0,                                0.0,                                0.0,                                1.0);",c(497),"","   vec3 getRotation( in vec3 pos, in float positionInTime ) {",c(596),c(503),c(751),"",c(642),c(658),c(332),c(330),c(655),c(633),c(500),"      translated = rotationCenter - pos;","      rotationMatrix = getRotationMatrix( axis, angle );",c(531),c(497),c(620)].join("\n"),rotateTexture:[c(437),"",c(675),c(684),"       float y = 1.0 - gl_PointCoord.y - 0.5;",c(487),"       float s = sin( -vAngle );",c(406),c(402),"",c(354),"        float framesX = vSpriteSheet.x;",c(395),"        float columnNorm = vSpriteSheet.z;",c(624),c(303),"        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);",c(402),"",c(511)][c(308)]("\n")},f[c(418)]={vertex:[f[c(516)][c(317)],f.shaderChunks.uniforms,f[c(516)][c(670)],f[c(516)].varyings,e[c(502)],t[c(468)][c(448)],t[c(468)][c(388)],f.shaderChunks.branchAvoidanceFunctions,f[c(516)].unpackColor,f[c(516)].unpackRotationAxis,f[c(516)][c(605)],f[c(516)][c(352)],f[c(516)].paramFetchingFunctions,f[c(516)][c(698)],f[c(516)].rotationFunctions,c(397),c(725),"    highp float alive = getAlive();",c(533),c(551),c(420),c(306),c(464),c(657),c(379),c(402),"    vec3 vel = getVelocity( age );",c(359),c(688),"    vec3 pos = vec3( position );",c(414),"    force += vel;",c(525),"    force += accel * age;",c(350),"    #ifdef SHOULD_WIGGLE_PARTICLES",c(593),c(597),c(568),c(402),"    #ifdef SHOULD_ROTATE_PARTICLES",c(411),"    #endif",c(555),c(735),c(475),c(628),c(476),c(301),c(402),c(356),c(415),c(613),c(625),c(731),c(733),"           unpackColor( color.z ),",c(729),c(517),c(476),"       vec3 c = vec3(1.0);","    #endif",c(639),c(362),"    #ifdef SHOULD_ROTATE_TEXTURE","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",c(402),"    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;",c(609),c(577),c(323),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",c(738),c(490),c(724),"        float rowNorm = row / framesY;",c(699),c(389),c(594),"        vSpriteSheet.w = rowNorm;","    #endif",c(405),c(474),t[c(468)].logdepthbuf_vertex,e[c(685)],"}"][c(308)]("\n"),fragment:[f[c(516)].uniforms,t[c(468)][c(502)],t[c(468)].fog_pars_fragment,t[c(468)][c(326)],f[c(516)][c(678)],f[c(516)][c(669)],c(397),c(529),c(444),"    #ifdef ALPHATEST","       if ( vColor.w < float(ALPHATEST) ) discard;",c(402),f[c(516)][c(569)],e[c(304)],c(578),c(673),e[c(749)],"}"].join("\n")},f[c(434)]={types:{BOOLEAN:c(310),STRING:c(300),NUMBER:"number",OBJECT:c(574)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=c;if(Array[n(563)](t)){for(let s=t[n(635)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=c;if(Array[n(563)](t)){for(let s=t[n(635)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=c;e=e||3,i=i||3,!1===Array.isArray(t[n(701)])&&(t[n(701)]=[t[n(701)]]),!1===Array[n(563)](t[n(450)])&&(t[n(450)]=[t[n(450)]]);const s=this[n(693)](t[n(701)][n(635)],e,i),r=this[n(693)](t[n(450)][n(635)],e,i),o=Math[n(441)](s,r);t[n(701)][n(635)]!==o&&(t[n(701)]=this.interpolateArray(t[n(701)],o)),t[n(450)].length!==o&&(t[n(450)]=this[n(746)](t._spread,o))},interpolateArray(t,e){const i=c,n=t.length,s=[typeof t[0][i(722)]===i(383)?t[0].clone():t[0]],r=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*r,n=Math.floor(e),a=Math[i(391)](e),c=e-n;s[o]=this[i(309)](t[n],t[a],c)}return s.push(typeof t[n-1].clone===i(383)?t[n-1].clone():t[n-1]),s},clamp(t,e,i){const n=c;return Math[n(441)](e,Math[n(473)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[c(440)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,r){const o=c;let a,h=this[o(649)];return typeof e===h[o(469)]&&typeof i===h[o(469)]?e+(i-e)*r:e instanceof n&&i instanceof t[o(347)]?(a=e[o(722)](),a.x=this.lerp(e.x,i.x,r),a.y=this[o(542)](e.y,i.y,r),a):e instanceof t[o(659)]&&i instanceof t[o(659)]?(a=e[o(722)](),a.x=this[o(542)](e.x,i.x,r),a.y=this[o(542)](e.y,i.y,r),a.z=this.lerp(e.z,i.z,r),a):e instanceof t[o(512)]&&i instanceof s?(a=e[o(722)](),a.x=this[o(542)](e.x,i.x,r),a.y=this[o(542)](e.y,i.y,r),a.z=this[o(542)](e.z,i.z,r),a.w=this[o(542)](e.w,i.w,r),a):e instanceof t[o(690)]&&i instanceof t[o(690)]?(a=e[o(722)](),a.r=this.lerp(e.r,i.r,r),a.g=this.lerp(e.g,i.g,r),a.b=this[o(542)](e.b,i.b,r),a):void console[o(386)](o(583),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=c;let n=0;return 0===e?t:(n=Math[i(679)](t)%e,0===n?t:t<0?-(Math[i(679)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[c(440)]()-.5),randomVector3(t,e,i,n,s){const r=c;let o=i.x+(Math[r(440)]()*n.x-.5*n.x),a=i.y+(Math[r(440)]()*n.y-.5*n.y),h=i.z+(Math.random()*n.z-.5*n.z);s&&(o=.5*-s.x+this[r(484)](o,s.x),a=.5*-s.y+this[r(484)](a,s.y),h=.5*-s.z+this.roundToNearestMultiple(h,s.z)),t[r(627)][r(327)](e,o,a,h)},randomColor(t,e,i,n){const s=c;let r=i.r+Math[s(440)]()*n.x,o=i.g+Math[s(440)]()*n.y,a=i.b+Math[s(440)]()*n.z;r=this[s(693)](r,0,1),o=this.clamp(o,0,1),a=this.clamp(a,0,1),t[s(627)].setVec3Components(e,r,o,a)},randomColorAsHex:function(){const e=c,i=new(t[e(690)]);return function(t,n,s,r){const o=e,a=s[o(635)],c=[];for(let e=0;e<a;++e){const t=r[e];i[o(532)](s[e]),i.r+=Math[o(440)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this[o(693)](i.r,0,1),i.g=this[o(693)](i.g,0,1),i.b=this[o(693)](i.b,0,1),c[o(702)](i.getHex())}t.typedArray[o(716)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=c,r=i[s(722)]();r[s(542)](n,Math[s(440)]()),t[s(627)][s(327)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,s,r,o,a){const h=c;let u=2*Math[h(440)]()-1,l=6.2832*Math.random(),f=Math[h(667)](1-u*u),p=this[h(321)](n,s),d=0,g=0,m=0;o&&(p=Math[h(449)](p/o)*o),d=f*Math[h(423)](l)*p,g=f*Math.sin(l)*p,m=u*p,d*=r.x,g*=r.y,m*=r.z,d+=i.x,g+=i.y,m+=i.z,t.typedArray[h(327)](e,d,g,m)},seededRandom(t){const e=1e4*Math[c(481)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,r,o){const a=c;let h=6.2832*Math[a(440)](),u=Math[a(679)](this[a(321)](n,s)),l=0,f=0,p=0;o&&(u=Math.round(u/o)*o),l=Math[a(423)](h)*u,f=Math[a(481)](h)*u,l*=r.x,f*=r.y,l+=i.x,f+=i.y,p+=i.z,t[a(627)][a(327)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=c,i=new(t[e(659)]);return function(t,n,s,r,o,a,c,h){const u=e;i[u(532)](a),i.x-=s,i.y-=r,i.z-=o,i[u(403)]().multiplyScalar(-this[u(321)](c,h)),t[u(627)][u(327)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new i;return function(e,i,n,s,r,o,a,c){const h=l;t[h(532)](o),t.x-=n,t.y-=s,t.z-=r,t[h(403)]()[h(377)](-this[h(321)](a,c)),e[h(627)][h(327)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=c,n=new(t[e(659)]),s=new(t[e(659)]),r=new(t[e(690)]),o=new i(1,1,1);return function(t,i){const a=e;return n[a(532)](t).normalize(),s[a(532)](i)[a(403)](),n.x+=.5*-i.x+Math.random()*i.x,n.y+=.5*-i.y+Math[a(440)]()*i.y,n.z+=.5*-i.z+Math[a(440)]()*i.z,n[a(403)]()[a(462)](o).multiplyScalar(.5),r[a(365)](n.x,n.y,n.z),r.getHex()}}()},f[c(565)]=function(e){const i=c,n=f[i(434)],s=n[i(649)];(e=n.ensureTypedArg(e,s[i(707)],{})).texture=n[i(750)](e[i(644)],s.OBJECT,{}),this.uuid=t[i(718)].generateUUID(),this[i(316)]=n[i(750)](e[i(316)],s[i(469)],.016),this[i(644)]=n[i(416)](e[i(644)][i(641)],t[i(741)],null),this.textureFrames=n.ensureInstanceOf(e[i(644)][i(590)],t[i(347)],new(t[i(347)])(1,1)),this.textureFrameCount=n.ensureTypedArg(e[i(644)][i(507)],s[i(469)],this[i(524)].x*this[i(524)].y),this.textureLoop=n.ensureTypedArg(e[i(644)][i(364)],s[i(469)],1),this[i(524)][i(441)](new(t[i(347)])(1,1)),this[i(445)]=n.ensureTypedArg(e[i(445)],s[i(712)],!0),this[i(671)]=n[i(750)](e.colorize,s[i(712)],!0),this[i(519)]=n.ensureTypedArg(e[i(519)],s[i(469)],null),this[i(313)]=n[i(750)](e[i(313)],s.NUMBER,r),this[i(636)]=n[i(750)](e[i(636)],s.BOOLEAN,!0),this[i(461)]=parseFloat(n[i(750)](e.alphaTest,s[i(469)],0)),this[i(732)]=n[i(750)](e[i(732)],s.BOOLEAN,!1),this[i(518)]=n[i(750)](e[i(518)],s[i(712)],!0),this[i(683)]=n[i(750)](e[i(683)],s.BOOLEAN,!0),this[i(654)]=n[i(750)](e[i(654)],s[i(469)],300),this[i(545)]=[],this[i(478)]=[],this[i(734)]=[],this[i(340)]=null,this[i(486)]=0,this[i(431)]=!1,this[i(606)]=!1,this.particleCount=0,this.uniforms={tex:{type:"t",value:this[i(644)]},textureAnimation:{type:"v4",value:new(t[i(512)])(this[i(524)].x,this[i(524)].y,this[i(587)],Math[i(441)](Math.abs(this[i(442)]),1))},fogColor:{type:"c",value:this[i(683)]?new(t[i(690)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(654)]}},this[i(317)]={HAS_PERSPECTIVE:this[i(445)],COLORIZE:this[i(671)],VALUE_OVER_LIFETIME_LENGTH:f.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this[i(524)].y>1},this[i(670)]={position:new(f[i(740)])("v3",!0),acceleration:new f.ShaderAttribute("v4",!0),velocity:new f.ShaderAttribute("v3",!0),rotation:new(f[i(740)])("v4",!0),rotationCenter:new(f[i(740)])("v3",!0),params:new f.ShaderAttribute("v4",!0),size:new f.ShaderAttribute("v4",!0),angle:new f.ShaderAttribute("v4",!0),color:new(f[i(740)])("v4",!0),opacity:new(f[i(740)])("v4",!0)},this[i(653)]=Object[i(509)](this[i(670)]),this[i(372)]=this.attributeKeys[i(635)],this[i(324)]=new o({uniforms:this[i(495)],vertexShader:f.shaders.vertex,fragmentShader:f.shaders.fragment,blending:this[i(313)],transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this[i(732)],depthTest:this[i(518)],defines:this[i(317)],fog:this[i(683)]}),this[i(378)]=new(t[i(600)]),this.mesh=new(t[i(570)])(this[i(378)],this[i(324)]),null===this[i(519)]&&console[i(386)](i(601))},f[c(565)][c(739)]=f[c(565)],f.Group[c(695)]._updateDefines=function(){const t=c;let e,i=this[t(545)],n=i[t(635)]-1,s=this[t(317)];for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(652)]=s[t(652)]||!!Math[t(441)](Math.max[t(728)](null,e.angle.value),Math.max.apply(null,e.angle[t(621)]))),s.SHOULD_ROTATE_PARTICLES=s[t(672)]||!!Math[t(441)](e.rotation.angle,e[t(427)].angleSpread),s[t(704)]=s[t(704)]||!!Math[t(441)](e[t(320)][t(641)],e.wiggle[t(621)]);this[t(324)][t(664)]=!0},f[c(565)][c(695)][c(477)]=function(){const t=c;let e,i,n=this[t(670)],s=this[t(378)],r=s.attributes;for(const o in n)n.hasOwnProperty(o)&&(e=n[o],i=r[o],i?i.array=e[t(627)].array:s[t(744)](o,e[t(363)]),e[t(363)][t(664)]=!0);this[t(378)].setDrawRange(0,this[t(504)])},f[c(565)][c(695)].addEmitter=function(t){const e=c;if(t instanceof f[e(553)]==!1)return void console[e(513)](e(412),t);if(this[e(478)][e(369)](t.uuid)>-1)return void console[e(513)](e(400));if(null!==t.group)return void console[e(513)](e(421));const i=this.attributes,n=this.particleCount,s=n+t[e(504)];this[e(504)]=s,null!==this[e(519)]&&this[e(504)]>this[e(519)]&&console[e(386)](e(328),this[e(504)],"particles, can support only",this[e(519)]),t[e(747)](t[e(335)]._value+t[e(335)]._spread),t[e(736)](this[e(653)]),t[e(373)](n),t[e(745)]=this,t[e(670)]=this[e(670)];for(const r in i)i[e(393)](r)&&i[r][e(299)](null!==this[e(519)]?this[e(519)]:this[e(504)]);for(let r=n;r<s;++r)t._assignPositionValue(r),t[e(648)](r,e(341)),t[e(648)](r,"acceleration"),t[e(536)](r,e(471)),t._assignAbsLifetimeValue(r,e(453)),t[e(417)](r),t[e(566)](r),t[e(526)](r),t[e(616)](r);return this[e(477)](),this[e(545)][e(702)](t),this[e(478)].push(t[e(404)]),this[e(297)](t),this[e(324)][e(664)]=!0,this[e(378)][e(664)]=!0,this[e(431)]=!0,this},f.Group.prototype.removeEmitter=function(t){const e=c,i=this[e(478)][e(369)](t[e(404)]);if(t instanceof f.Emitter==!1)return void console[e(513)](e(412),t);if(-1===i)return void console[e(513)](e(368));const n=t[e(549)],s=n+t[e(504)],r=this.attributes[e(579)][e(627)];for(let o=n;o<s;++o)r.array[4*o]=0,r.array[4*o+1]=0;this[e(545)][e(682)](i,1),this[e(478)][e(682)](i,1);for(const o in this[e(670)])this[e(670)][e(393)](o)&&this.attributes[o][e(682)](n,s);this[e(504)]-=t.particleCount,t[e(558)](),this[e(431)]=!0},f.Group[c(695)][c(726)]=function(){const t=c,e=this[t(734)],i=this._createNewWhenPoolEmpty;if(e[t(635)])return e[t(742)]();if(i){const e=new f.Emitter(this._poolCreationSettings);return this[t(534)](e),e}return null},f[c(565)].prototype[c(446)]=function(t){const e=c;if(t instanceof f[e(553)]!=!1)return t[e(510)](),this[e(734)].unshift(t),this;console.error("Argument is not instanceof SPE.Emitter:",t)},f[c(565)][c(695)][c(537)]=function(){return this[c(734)]},f.Group[c(695)].addPool=function(t,e,i){const n=c;let s;this._poolCreationSettings=e,this[n(486)]=!!i;for(let r=0;r<t;++r)s=Array[n(563)](e)?new(f[n(553)])(e[r]):new f.Emitter(e),this[n(534)](s),this[n(446)](s);return this},f[c(565)][c(695)][c(489)]=function(e){const i=c,n=this[i(726)](),s=this;if(null!==n)return e instanceof t[i(659)]&&(n.position[i(641)][i(532)](e),n[i(520)][i(641)]=n.position[i(641)]),n[i(662)](),setTimeout((()=>{const t=i;n[t(567)](),s[t(446)](n)}),1e3*Math.max(n[i(713)],n.maxAge[i(641)]+n[i(335)][i(621)])),this;console[i(755)](i(419))},f[c(565)][c(695)][c(514)]=function(t,e){const i=c;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(489)](e);else this[i(489)](e);return this},f[c(565)][c(695)][c(646)]=function(t){const e=c;this[e(495)][e(617)][e(641)]+=t,this.uniforms[e(467)][e(641)]=t},f[c(565)][c(695)]._resetBufferRanges=function(){let t=this[c(653)],e=this.attributeCount-1,i=this.attributes;for(;e>=0;--e)i[t[e]].resetUpdateRange()},f[c(565)][c(695)][c(720)]=function(t){const e=c;let i,n,s,r=this[e(653)],o=this.attributeCount-1,a=this[e(670)],h=t[e(307)];for(;o>=0;--o)i=r[o],n=h[i],s=a[i],s[e(599)](n.min,n[e(441)]),s[e(689)]()},f.Group[c(695)][c(387)]=function(t){const e=c;var i=this[e(545)],n=i[e(635)],s=t||this[e(316)],r=this.attributeKeys,o=this[e(670)];if(this[e(646)](s),this._resetBufferRanges(),0!==n||!1!==this._attributesNeedRefresh||!1!==this[e(606)]){for(var a,h=0;h<n;++h)(a=i[h])[e(387)](s),this._updateBuffers(a);if(!0===this[e(606)]){for(h=this.attributeCount-1;h>=0;--h)o[r[h]][e(408)]();this._attributesNeedDynamicReset=!1}if(!0===this[e(431)]){for(h=this[e(372)]-1;h>=0;--h)o[r[h]].forceUpdateAll();this[e(431)]=!1,this[e(606)]=!0}}},f[c(565)][c(695)].dispose=function(){return this[c(378)].dispose(),this.material.dispose(),this},f.Emitter=function(e){const n=c,s=f.utils,r=s[n(649)],o=f[n(394)];(e=s[n(750)](e,r[n(707)],{}))[n(520)]=s.ensureTypedArg(e[n(520)],r[n(707)],{}),e[n(341)]=s[n(750)](e.velocity,r.OBJECT,{}),e[n(496)]=s[n(750)](e[n(496)],r.OBJECT,{}),e[n(407)]=s[n(750)](e.radius,r[n(707)],{}),e.drag=s.ensureTypedArg(e.drag,r[n(707)],{}),e[n(427)]=s[n(750)](e[n(427)],r.OBJECT,{}),e[n(298)]=s[n(750)](e[n(298)],r[n(707)],{}),e[n(471)]=s[n(750)](e[n(471)],r.OBJECT,{}),e[n(453)]=s[n(750)](e[n(453)],r[n(707)],{}),e[n(547)]=s[n(750)](e.angle,r.OBJECT,{}),e[n(320)]=s[n(750)](e[n(320)],r.OBJECT,{}),e.maxAge=s[n(750)](e[n(335)],r[n(707)],{}),e[n(367)]&&console[n(386)](n(339)),this[n(404)]=a.generateUUID(),this[n(708)]=s[n(750)](e[n(708)],r[n(469)],f[n(584)].BOX),this[n(520)]={_value:s[n(416)](e[n(520)][n(641)],t[n(659)],new(t[n(659)])),_spread:s[n(416)](e.position[n(621)],t[n(659)],new(t[n(659)])),_spreadClamp:s[n(416)](e.position[n(472)],i,new(t[n(659)])),_distribution:s.ensureTypedArg(e[n(520)][n(543)],r[n(469)],this[n(708)]),_randomise:s[n(750)](e[n(520)].randomise,r[n(712)],!1),_radius:s[n(750)](e[n(520)][n(407)],r.NUMBER,10),_radiusScale:s[n(416)](e[n(520)][n(381)],t[n(659)],new(t[n(659)])(1,1,1)),_distributionClamp:s[n(750)](e[n(520)][n(452)],r[n(469)],0)},this[n(341)]={_value:s[n(416)](e.velocity[n(641)],i,new i),_spread:s[n(416)](e[n(341)].spread,t[n(659)],new(t[n(659)])),_distribution:s.ensureTypedArg(e[n(341)].distribution,r[n(469)],this[n(708)]),_randomise:s[n(750)](e[n(520)][n(571)],r.BOOLEAN,!1)},this[n(496)]={_value:s[n(416)](e.acceleration[n(641)],t[n(659)],new i),_spread:s.ensureInstanceOf(e[n(496)][n(621)],t[n(659)],new i),_distribution:s[n(750)](e.acceleration[n(543)],r.NUMBER,this[n(708)]),_randomise:s[n(750)](e[n(520)].randomise,r.BOOLEAN,!1)},this.drag={_value:s[n(750)](e[n(382)][n(641)],r[n(469)],0),_spread:s[n(750)](e[n(382)].spread,r.NUMBER,0),_randomise:s.ensureTypedArg(e[n(520)][n(571)],r[n(712)],!1)},this.wiggle={_value:s[n(750)](e.wiggle[n(641)],r[n(469)],0),_spread:s[n(750)](e[n(320)].spread,r[n(469)],0)},this.rotation={_axis:s[n(416)](e[n(427)][n(463)],t[n(659)],new(t[n(659)])(0,1,0)),_axisSpread:s[n(416)](e[n(427)][n(499)],t[n(659)],new(t[n(659)])),_angle:s[n(750)](e[n(427)].angle,r.NUMBER,0),_angleSpread:s[n(750)](e.rotation[n(527)],r[n(469)],0),_static:s[n(750)](e[n(427)][n(492)],r[n(712)],!1),_center:s.ensureInstanceOf(e[n(427)][n(622)],t[n(659)],this[n(520)][n(701)][n(722)]()),_randomise:s[n(750)](e[n(520)][n(571)],r[n(712)],!1)},this[n(335)]={_value:s[n(750)](e[n(335)][n(641)],r[n(469)],2),_spread:s[n(750)](e[n(335)][n(621)],r.NUMBER,0)},this.color={_value:s[n(572)](e[n(298)][n(641)],t[n(690)],new(t[n(690)])),_spread:s[n(572)](e.color[n(621)],i,new i),_randomise:s.ensureTypedArg(e[n(520)][n(571)],r[n(712)],!1)},this[n(471)]={_value:s[n(630)](e.opacity[n(641)],r[n(469)],1),_spread:s[n(630)](e.opacity[n(621)],r.NUMBER,0),_randomise:s[n(750)](e[n(520)][n(571)],r[n(712)],!1)},this[n(453)]={_value:s[n(630)](e[n(453)][n(641)],r.NUMBER,1),_spread:s.ensureArrayTypedArg(e[n(453)].spread,r.NUMBER,0),_randomise:s[n(750)](e[n(520)][n(571)],r[n(712)],!1)},this[n(547)]={_value:s.ensureArrayTypedArg(e.angle.value,r.NUMBER,0),_spread:s.ensureArrayTypedArg(e.angle[n(621)],r[n(469)],0),_randomise:s[n(750)](e[n(520)][n(571)],r[n(712)],!1)},this[n(504)]=s[n(750)](e[n(504)],r[n(469)],100),this[n(713)]=s[n(750)](e[n(713)],r[n(469)],null),this[n(482)]=s.ensureTypedArg(e[n(482)],r[n(712)],!1),this[n(631)]=s[n(750)](e[n(631)],r[n(469)],1),this[n(401)]=s[n(750)](e[n(401)],r[n(469)],1),this.alive=s[n(750)](e[n(548)],r[n(712)],!0),this[n(333)]=0,this.activationIndex=0,this[n(549)]=0,this[n(562)]=0,this[n(424)]=0,this.activeParticleCount=0,this.group=null,this[n(670)]=null,this[n(580)]=null,this.resetFlags={position:s[n(750)](e[n(520)][n(571)],r[n(712)],!1)||s.ensureTypedArg(e[n(407)][n(571)],r.BOOLEAN,!1),velocity:s[n(750)](e[n(341)][n(571)],r[n(712)],!1),acceleration:s.ensureTypedArg(e[n(496)].randomise,r[n(712)],!1)||s[n(750)](e[n(382)][n(571)],r[n(712)],!1),rotation:s[n(750)](e.rotation[n(571)],r[n(712)],!1),rotationCenter:s.ensureTypedArg(e[n(427)][n(571)],r[n(712)],!1),size:s.ensureTypedArg(e[n(453)][n(571)],r.BOOLEAN,!1),color:s[n(750)](e.color[n(571)],r[n(712)],!1),opacity:s[n(750)](e[n(471)][n(571)],r[n(712)],!1),angle:s[n(750)](e[n(547)][n(571)],r.BOOLEAN,!1)},this[n(515)]={},this[n(754)]={},this[n(430)]={maxAge:n(579),position:"position",velocity:"velocity",acceleration:n(496),drag:n(496),wiggle:"params",rotation:n(427),size:n(453),color:n(298),opacity:n(471),angle:n(547)};for(const t in this[n(430)])this[n(430)][n(393)](t)&&(this[n(754)][this[n(430)][t]]=0,this.updateFlags[this[n(430)][t]]=!1,this[n(466)](this[t],t));this[n(307)]={},this[n(653)]=null,this[n(372)]=0,s.ensureValueOverLifetimeCompliance(this.color,o,o),s[n(603)](this[n(471)],o,o),s.ensureValueOverLifetimeCompliance(this[n(453)],o,o),s[n(603)](this.angle,o,o)},f[c(553)][c(739)]=f[c(553)],f[c(553)][c(695)][c(466)]=function(t,e){const i=c,n=this;for(const s in t)if(t.hasOwnProperty(s)){const r=s[i(460)]("_","");Object.defineProperty(t,r,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=l,r=n[s(430)][e],o=this[t],a=f[s(394)];t===s(700)?(n.updateFlags[s(634)]=!0,n[s(754)].rotationCenter=0):"_randomise"===t?n.resetFlags[r]=i:(n.updateFlags[r]=!0,n.updateCounts[r]=0),n[s(745)][s(297)](),this[t]=i,Array.isArray(o)&&f[s(434)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},f[c(553)][c(695)][c(736)]=function(t){const e=c;this.attributeKeys=t,this[e(372)]=t[e(635)];for(let i=this.attributeCount-1;i>=0;--i)this[e(307)][t[i]]={min:Number[e(723)],max:Number[e(576)]}},f[c(553)][c(695)][c(747)]=function(t){const e=c,i=this[e(504)];this[e(713)]?this[e(333)]=i/(t<this[e(713)]?t:this.duration):this[e(333)]=i/t},f[c(553)][c(695)]._setAttributeOffset=function(t){const e=c;this.attributeOffset=t,this.activationIndex=t,this.activationEnd=t+this[e(504)]},f.Emitter[c(695)][c(426)]=function(t,e){const i=c;switch(t){case i(520):this._assignPositionValue(e);break;case"velocity":case i(496):this[i(648)](e,t);break;case i(453):case i(471):this._assignAbsLifetimeValue(e,t);break;case i(547):this[i(417)](e);break;case i(579):this[i(526)](e);break;case i(427):this[i(566)](e);break;case"color":this._assignColorValue(e)}},f.Emitter[c(695)][c(696)]=function(t){const e=c,i=f[e(584)],n=f[e(434)],s=this[e(520)],r=this[e(670)].position,o=s._value,a=s[e(450)];switch(s[e(361)]){case i[e(581)]:n[e(612)](r,t,o,a,s._spreadClamp);break;case i[e(650)]:n[e(447)](r,t,o,s._radius,s[e(450)].x,s[e(353)],s[e(709)].x,s[e(296)]||this[e(504)]);break;case i[e(390)]:n[e(501)](r,t,o,s[e(539)],s[e(450)].x,s[e(353)],s[e(709)].x);break;case i[e(470)]:n[e(737)](r,t,o,a)}},f.Emitter[c(695)][c(648)]=function(t,e){const i=c;let n,s,r,o,a,h=f[i(584)],u=f.utils,l=this[e],p=l[i(701)],d=l[i(450)];switch(l[i(361)]){case h[i(581)]:u.randomVector3(this.attributes[e],t,p,d);break;case h.SPHERE:n=this[i(670)][i(520)][i(627)][i(552)],a=3*t,s=n[a],r=n[a+1],o=n[a+2],u[i(677)](this.attributes[e],t,s,r,o,this.position[i(701)],l[i(701)].x,l[i(450)].x);break;case h.DISC:n=this.attributes.position[i(627)][i(552)],a=3*t,s=n[a],r=n[a+1],o=n[a+2],u[i(360)](this[i(670)][e],t,s,r,o,this.position._value,l[i(701)].x,l._spread.x);break;case h[i(470)]:u[i(737)](this[i(670)][e],t,p,d)}if(e===i(496)){const e=u[i(693)](u[i(321)](this[i(382)][i(701)],this.drag[i(450)]),0,1);this[i(670)][i(496)].typedArray[i(552)][4*t+3]=e}},f[c(553)][c(695)][c(536)]=function(t,e){const i=c;let n,s=this[i(670)][e][i(627)],r=this[e],o=f[i(434)];o[i(336)](r[i(701)])&&o[i(336)](r[i(450)])?(n=Math[i(679)](o[i(321)](r[i(701)][0],r[i(450)][0])),s[i(716)](t,n,n,n,n)):s[i(716)](t,Math[i(679)](o[i(321)](r[i(701)][0],r[i(450)][0])),Math[i(679)](o[i(321)](r[i(701)][1],r[i(450)][1])),Math[i(679)](o[i(321)](r._value[2],r[i(450)][2])),Math.abs(o[i(321)](r[i(701)][3],r[i(450)][3])))},f.Emitter[c(695)]._assignAngleValue=function(t){const e=c;let i,n=this[e(670)][e(547)].typedArray,s=this[e(547)],r=f[e(434)];r[e(336)](s[e(701)])&&r.arrayValuesAreEqual(s[e(450)])?(i=r[e(321)](s[e(701)][0],s._spread[0]),n[e(716)](t,i,i,i,i)):n[e(716)](t,r.randomFloat(s[e(701)][0],s[e(450)][0]),r[e(321)](s._value[1],s[e(450)][1]),r[e(321)](s[e(701)][2],s._spread[2]),r[e(321)](s[e(701)][3],s[e(450)][3]))},f.Emitter[c(695)][c(526)]=function(t){const e=c;this[e(670)][e(579)][e(627)][e(716)](t,this[e(482)]?1:0,0,Math[e(679)](f[e(434)][e(321)](this[e(335)][e(701)],this[e(335)]._spread)),f[e(434)][e(321)](this.wiggle[e(701)],this[e(320)][e(450)]))},f[c(553)][c(695)]._assignRotationValue=function(t){const e=c;this.attributes[e(427)][e(627)][e(327)](t,f.utils.getPackedRotationAxis(this[e(427)]._axis,this[e(427)][e(719)]),f[e(434)].randomFloat(this[e(427)][e(349)],this.rotation[e(575)]),this[e(427)][e(375)]?0:1),this[e(670)][e(634)][e(627)][e(651)](t,this[e(427)][e(428)])},f.Emitter[c(695)][c(616)]=function(t){const e=c;f[e(434)][e(686)](this[e(670)][e(298)],t,this[e(298)][e(701)],this[e(298)][e(450)])},f[c(553)][c(695)]._resetParticle=function(t){const e=c;let i,n,s=this.resetFlags,r=this[e(515)],o=this.updateCounts,a=this[e(653)];for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=r[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(422)](i,t),!0===n&&o[i]===this.particleCount?(r[i]=!1,o[i]=0):1==n&&++o[i])},f.Emitter[c(695)][c(422)]=function(t,e){const i=c,n=this[i(307)][t];n[i(473)]=Math[i(473)](e,n.min),n.max=Math[i(441)](e,n[i(441)])},f.Emitter[c(695)][c(345)]=function(){const t=c;let e,i=this[t(307)],n=this.bufferUpdateKeys,s=this[t(483)]-1;for(;s>=0;--s)e=n[s],i[e][t(473)]=Number[t(723)],i[e][t(441)]=Number[t(576)]},f[c(553)][c(695)][c(558)]=function(){const t=c;this.particlesPerSecond=0,this[t(549)]=0,this[t(692)]=0,this[t(661)]=0,this[t(745)]=null,this.attributes=null,this[t(580)]=null,this[t(424)]=0},f.Emitter[c(695)]._decrementParticleCount=function(){--this[c(661)]},f[c(553)].prototype[c(721)]=function(){++this.activeParticleCount},f.Emitter[c(695)][c(546)]=function(t,e,i,n){const s=c;for(var r,o,a,h,u=e-1;u>=t;--u)0!==(h=i[r=4*u])&&(a=i[r+1],o=i[r+2],1===this.direction?(a+=n)>=o&&(a=0,h=0,this[s(629)]()):(a-=n)<=0&&(a=o,h=0,this[s(629)]()),i[r]=h,i[r+1]=a,this[s(422)](s(579),u))},f[c(553)][c(695)][c(396)]=function(t,e,i,n){const s=c,r=this.direction;for(var o,a,h=t;h<e;++h)0!=i[o=4*h]&&1!==this[s(504)]||(this[s(721)](),i[o]=1,this[s(674)](h),a=n*(h-t),i[o+1]=-1===r?i[o+2]-a:a,this[s(422)](s(579),h))},f[c(553)][c(695)][c(387)]=function(t){const e=c;if(this[e(482)])return;null===this[e(580)]&&(this[e(580)]=this[e(670)][e(579)][e(627)].array);const i=this.attributeOffset,n=i+this.particleCount,s=this[e(580)],r=this[e(333)]*this[e(631)]*t,o=this.activationIndex;if(this[e(345)](),this[e(546)](i,n,s,t),!1===this[e(548)])return void(this[e(424)]=0);if(null!==this.duration&&this[e(424)]>this[e(713)])return this.alive=!1,void(this.age=0);const a=1===this[e(504)]?o:0|o,h=Math[e(473)](a+r,this[e(582)]),u=h-this[e(692)]|0,l=u>0?t/u:0;this[e(396)](a,h,s,l),this.activationIndex+=r,this[e(692)]>n&&(this.activationIndex=i),this[e(424)]+=t},f[c(553)].prototype[c(510)]=function(t){const e=c;if(this.age=0,this[e(548)]=!1,!0===t){const t=this[e(549)],s=t+this[e(504)],r=this.paramsArray,o=this[e(670)].params[e(363)];for(var i,n=s-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;o[e(711)][e(687)]=0,o.updateRange.count=-1,o[e(664)]=!0}return this},f[c(553)].prototype[c(662)]=function(){return this[c(548)]=!0,this},f[c(553)][c(695)].disable=function(){return this.alive=!1,this},f[c(553)][c(695)][c(315)]=function(){const t=c;return null!==this.group?this[t(745)].removeEmitter(this):console[t(513)]("Emitter does not belong to a group, cannot remove."),this};export{f as S};
