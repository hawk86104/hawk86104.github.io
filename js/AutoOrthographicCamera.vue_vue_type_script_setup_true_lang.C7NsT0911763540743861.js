import{_ as e,V as a}from"./three.rXKzP9fQ1763540743861.js";import{C as t}from"./camera-controls.W1kIZ0jl1763540743861.js";import{F as o}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as s,t as n,w as r,q as u,W as i,r as l,H as m,o as v,ac as c,ao as T}from"./@vue.Co_gxueH1763540743861.js";const O=s({__name:"AutoOrthographicCamera",setup(s){t.install({THREE:e});const{camera:O,renderer:A,invalidate:p}=o(),d=n(),C=n([2e3,2e3,2e3]),w=new a(...C.value).distanceTo(new a(0,0,0));let h;r([O,A],()=>{O.value&&A&&!d.value&&(d.value=new t(O.value,A.domElement),d.value.verticalDragToForward=!0,d.value.minDistance=600,d.value.maxDistance=w,d.value.minZoom=600,d.value.maxZoom=w,d.value.mouseButtons.left=t.ACTION.ROTATE,d.value.mouseButtons.middle=t.ACTION.ZOOM,d.value.mouseButtons.right=t.ACTION.NONE,d.value.mouseButtons.wheel=t.ACTION.DOLLY,d.value.touches.one=t.ACTION.TOUCH_ROTATE,d.value.touches.two=t.ACTION.TOUCH_ROTATE,d.value.touches.three=t.ACTION.TOUCH_ROTATE)},{immediate:!0});let f=0,N=0;const E=e=>{const t=N?(e-N)/1e3:0;N=e,d.value?.update(t);const o=O.value?.position.distanceTo(new a(...H.lookAt));if(o&&o!==h&&(H.near=Math.max(.1,.001*o),O.value&&"PerspectiveCamera"===O.value.type)){const e=O.value;e.near=H.near,e.updateProjectionMatrix()}h=o,p(),f=requestAnimationFrame(E)};u(()=>{N=performance.now(),f=requestAnimationFrame(E)}),i(()=>{f&&cancelAnimationFrame(f)});const H=l({fov:29,aspect:window.innerWidth/window.innerHeight,near:50,far:1e5,position:C.value,lookAt:[0,0,0]});return(e,a)=>(v(),m("TresPerspectiveCamera",c(T(H)),null,16))}});export{O as _};
