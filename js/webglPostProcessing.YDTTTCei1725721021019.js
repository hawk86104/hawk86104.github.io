import{i as t}from"./ice-utils.pGdTo3g_1725721021019.js";import{_ as n,m as e}from"./gl-matrix.oVMHBNGj1725721021019.js";import{P as o}from"./tweakpane.yHWGBmom1725721021019.js";import{d as r,r as i,q as a,o as c,E as s,L as u,u as f}from"./@vue._6MD2XyK1725721021019.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",d=g;!function(t,n){const e=g,o=b();for(;;)try{if(594343===-parseInt(e(389))/1+-parseInt(e(360))/2+-parseInt(e(388))/3+parseInt(e(338))/4+-parseInt(e(401))/5*(-parseInt(e(344))/6)+-parseInt(e(377))/7+-parseInt(e(410))/8*(-parseInt(e(412))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){x(this,(function(){const t=g,n=new RegExp(t(396)),e=new RegExp(t(381),"i"),o=T(t(411));n.test(o+t(356))&&e.test(o+t(349))?T():o("0")}))()}();const _=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=b();return(g=function(t,n){return e[t-=338]})(t,n)}_(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(427)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(341)]=n.console||{},o=[t(352),t(348),"info",t(420),t(416),"table",t(375)];for(let r=0;r<o[t(354)];r++){const n=_[t(435)][t(367)].bind(_),i=o[r],a=e[i]||n;n[t(383)]=_[t(408)](_),n.toString=a[t(382)][t(408)](a),e[i]=n}}))();const E={id:"canvaswebgl"},p=[d(394)];function b(){const t=["texParameteri","while (true) {}","constructor","TEXTURE_MIN_FILTER","createFramebuffer","getContext","2548336GYFXVS","BYTES_PER_ELEMENT","TEXTURE_WRAP_T","console","BLEND","action","1662gjsVOg","inline","height","create","warn","input","counter","bindTexture","log","TEXTURE_WRAP_S","length","change","chain","debu","vertexAttribPointer","TRIANGLES","146758IwBNMM","translate","width","TEXTURE_MAG_FILTER","enable","webgl","RGBA","prototype","uView","none","hidden","offset_right_bottom","NEAREST","bindBuffer","UNSIGNED_BYTE","trace","webglPostProcessing","7947597AemsKP","apply","createTexture","是否后处理","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","__proto__","addBinding","COLOR_BUFFER_BIT","uniformMatrix4fv","STATIC_DRAW","3330249kiblHz","476861esxtCd","CLAMP_TO_EDGE","logo-texture","bufferData","color","src","FLOAT","function *\\( *\\)","useProgram","uModel","gger","ortho","17265WHLPfv","uniform1f","stateObject","FRAMEBUFFER","COLOR_ATTACHMENT0","img","ARRAY_BUFFER","bind","getElementById","2395296XvdxwD","init","54PhRDDq","enableVertexAttribArray","ELEMENT_ARRAY_BUFFER","TEXTURE_2D","exception","#canvaswebgl","lookAt","mixParam","error","offset_right_top","bindFramebuffer","getUniformLocation","offset_left_bottom","mat4","clearColor","return (function() ","texImage2D","value","scale","createBuffer","offset_left_top"];return(b=function(){return t})()}const A=r({__name:d(376),setup(r){const x=d;let _,g,b,A,T,R,v,y,F,P,h,w,C;const B=1,I=.71,U=.76,S=new o({title:"参数"}),L=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S.addBlade({view:"slider",label:"颜色",min:0,max:1,value:.5}).on(x(355),(t=>{const n=x;k(),g[n(402)](w,t[n(429)])}));let M=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S.addBinding(L,x(370),{label:x(380)}),S[x(384)](L,x(421),{picker:x(345),x:{min:0,max:1},y:{min:0,max:1}}).on(x(355),(t=>{const n=x;M[0]=L.offset_right_top.x,M[1]=L[n(421)].y,k()})),S[x(384)](L,x(371),{picker:x(345),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(355),(t=>{const n=x;M[5]=L[n(371)].x,M[6]=L[n(371)].y,k()})),S[x(384)](L,"offset_left_bottom",{picker:x(345),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(t=>{const n=x;M[10]=L[n(424)].x,M[11]=L[n(424)].y,k()})),S[x(384)](L,x(432),{picker:x(345),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(355),(t=>{const n=x;M[15]=L[n(432)].x,M[16]=L[n(432)].y,k()})),a((()=>{D()}));const D=function(){const n=x;_=document.querySelector(n(417)),_[n(362)]=window.innerWidth,_.height=window.innerHeight,g=_[n(438)](n(365)),g&&(function(){const n=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);A=G(e,o),b=t(g,l,m),F=g.getUniformLocation(b,"uProjection"),P=g[n(423)](b,n(368)),h=g[n(423)](b,n(398)),C=O(document[n(409)](n(391)))}(),k(),g[n(364)](g[n(342)]),g.blendFunc(g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA),N())};function N(){const t=x;g[t(422)](g[t(404)],v),g[t(426)](B,I,U,1),g.clear(g[t(385)]),function(){const t=x;g.useProgram(b),g[t(373)](g[t(407)],A);const e=n[t(425)][t(347)]();n[t(425)][t(400)](e,0,_.width,_[t(346)],0,.1,100),g[t(386)](F,!1,e);const o=n[t(425)].create();n[t(425)][t(418)](o,[0,0,1],[0,0,0],[0,1,0]),g[t(386)](P,!1,o),j(C,600,600),j(C,400,400)}(),g.bindFramebuffer(g.FRAMEBUFFER,null),L.hidden&&(g.clear(g[t(385)]),g[t(426)](0,0,1,1),g[t(373)](g[t(407)],T),g[t(397)](R),g[t(351)](g[t(415)],y)),g.drawElements(g[t(359)],6,g[t(374)],0),requestAnimationFrame(N)}function j(t,o,r){const i=x;let a=e[i(347)]();e[i(361)](a,a,[o,r,0]),n[i(425)][i(430)](a,a,[250,250,0]),g[i(386)](h,!1,a),g[i(351)](g[i(415)],t),g.drawElements(g[i(359)],6,g.UNSIGNED_BYTE,0)}function k(){const n=x,e=new Uint8Array([0,1,2,0,2,3]);T=G(M,e),R=t(g,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),w=g.getUniformLocation(R,n(419)),g[n(423)](R,n(393)),function(){const t=x;y=O(_),v=g[t(437)](),g[t(422)](g.FRAMEBUFFER,v),g.framebufferTexture2D(g.FRAMEBUFFER,g[t(405)],g[t(415)],y,0),g[t(422)](g[t(404)],null)}()}function O(t){const n=x,e=g[n(379)]();return g[n(351)](g[n(415)],e),t instanceof HTMLImageElement?g[n(428)](g[n(415)],0,g[n(366)],g[n(366)],g[n(374)],t):g[n(428)](g[n(415)],0,g[n(366)],t[n(362)],t[n(346)],0,g[n(366)],g[n(374)],null),g.texParameteri(g[n(415)],g[n(436)],g[n(372)]),g[n(433)](g[n(415)],g[n(363)],g[n(372)]),g.texParameteri(g[n(415)],g[n(353)],g[n(390)]),g[n(433)](g[n(415)],g[n(340)],g[n(390)]),e}function G(t,n){const e=x,o=g[e(431)]();g[e(373)](g[e(407)],o),g.bufferData(g[e(407)],t,g[e(387)]);const r=3*Float32Array[e(339)]+2*Float32Array.BYTES_PER_ELEMENT;g.vertexAttribPointer(0,3,g[e(395)],!1,r,0),g[e(413)](0),g[e(358)](1,2,g[e(395)],!1,r,3*Float32Array[e(339)]),g[e(413)](1);const i=g[e(431)]();return g[e(373)](g[e(414)],i),g[e(392)](g[e(414)],n,g[e(387)]),g.bindBuffer(g[e(407)],null),o}return(t,n)=>{const e=x;return c(),s("canvas",E,[u(e(406),{id:e(391),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(369)}},null,8,p)])}}});function T(t){function n(t){const e=g;if("string"==typeof t)return function(t){}.constructor(e(434))[e(378)](e(350));1!==(""+t/t)[e(354)]||t%20==0?function(){return!0}[e(435)](e(357)+e(399)).call(e(343)):function(){return!1}.constructor(e(357)+"gger")[e(378)](e(403)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{A as default};
