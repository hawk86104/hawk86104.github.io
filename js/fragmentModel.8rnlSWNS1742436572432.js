import{_ as n,c as t,c3 as o}from"./three.RUAk_tvU1742436572432.js";import{e as r,D as e,a,o as s}from"./@tresjs.Uh9iM8du1742436572432.js";import{P as i}from"./tweakpane.yDiyAAkA1742436572432.js";import{d as c,a3 as u,r as l,b as p,w as f,o as m,H as v,N as g,aj as x,ak as d,u as y,e as w,f as h,g as b,j as I,al as z}from"./@vue.deO5D3Lf1742436572432.js";import"./postprocessing.5QD_59xS1742436572432.js";import"./@vueuse.F4UpVCIS1742436572432.js";const C=_;function _(n,t){const o=N();return(_=function(n,t){return o[n-=288]})(n,t)}!function(n,t){const o=_,r=N();for(;;)try{if(694058===-parseInt(o(346))/1*(-parseInt(o(295))/2)+-parseInt(o(305))/3*(-parseInt(o(312))/4)+-parseInt(o(301))/5*(parseInt(o(339))/6)+parseInt(o(357))/7*(-parseInt(o(349))/8)+-parseInt(o(307))/9*(-parseInt(o(321))/10)+-parseInt(o(313))/11+-parseInt(o(343))/12*(-parseInt(o(331))/13))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const P=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,r}}();!function(){P(this,(function(){const n=_,t=new RegExp(n(335)),o=new RegExp(n(333),"i"),r=D(n(364));t[n(300)](r+n(369))&&o.test(r+n(323))?D():r("0")}))()}();const M=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o[_(304)](t,arguments);return o=null,n}}:function(){};return n=!1,r}}();M(void 0,(function(){const n=_;let t;try{t=Function(n(363)+'{}.constructor("return this")( ));')()}catch(e){t=window}const o=t[n(371)]=t[n(371)]||{},r=[n(308),n(319),n(291),n(347),n(353),n(326),n(368)];for(let a=0;a<r[n(366)];a++){const t=M.constructor[n(320)][n(318)](M),e=r[a],s=o[e]||t;t[n(288)]=M[n(318)](M),t[n(360)]=s.toString[n(318)](s),o[e]=t}}))();const j=[C(370)],A=c({__name:"fragmentModelCom",async setup(s){const c=C;let w,h;const b=t=>{const r=_,e=[];return t[r(294)]((t=>{const o=r;t instanceof n[o(310)]&&(t.geometry[o(296)]("uv"),t.geometry[o(296)](o(365)),e[o(354)](t[o(370)]))})),o[r(356)](e)},I=b(([w,h]=u((()=>e(c(341)+c(328),{draco:!0,decoderPath:c(330)}))),w=await w,h(),w).scene[c(355)][0]);I[c(290)](Math.PI/2),I[c(358)](0,-.9,0);const z=I.clone()[c(302)](),P=b(([w,h]=u((()=>e("./plugins/industry4/model/modelDraco.glb",{draco:!0,decoderPath:c(330)}))),w=await w,h(),w)[c(351)][c(355)][0]);P[c(290)](-Math.PI/2),P[c(348)](Math.PI/3);const M=P[c(293)]()[c(302)](),A=z[c(334)][c(309)][c(314)],N=z[c(334)].position[c(298)],D=M[c(334)][c(309)][c(314)],V=M[c(334)].normal.array,E=M[c(334)][c(309)].count,S=new Float32Array(N),F=new Float32Array(3*(N+2)),R=new Float32Array(3*(N+2)),k=new Float32Array(3*(N+2));for(let t=0;t<N;t+=3){const o=1*Math[c(306)](),r=t%E;S[t]=o,S[t+1]=o,S[t+2]=o;const e=3*t,a=A[e],s=A[e+1],i=A[e+2],u=A[e+3],l=A[e+4],p=A[e+5],f=A[e+6],m=A[e+7],v=A[e+8],g=new(n[c(336)])(a+u+f,s+l+m,i+p+v).divideScalar(3);F[c(311)]([g.x,g.y,g.z],3*t),F[c(311)]([g.x,g.y,g.z],3*(t+1)),F[c(311)]([g.x,g.y,g.z],3*(t+2));const x=(n,t,o)=>{const r=3*o;for(let e=0;e<3;e++){const a=r+3*e;t.set([n[a],n[a+1],n[a+2]],3*(o+e))}};x(D,R,r),x(V,k,r)}z.setAttribute(c(325),new t(S,1)),z[c(340)]("aCenter",new(n[c(367)])(F,3)),z[c(340)](c(327),new(n[c(367)])(R,3)),z.setAttribute(c(315),new t(k,3)),console.log(z[c(334)]);const T=([w,h]=u((()=>a(["./plugins/visualArts/image/fragment512px.png"]))),w=await w,h(),w),Z={uniforms:{u_progress:{value:-.1},matcap1:{value:T},m1Color:{type:"v3",value:new(n[c(303)])(c(350))},matcap2:{value:T},m2Color:{type:"v3",value:new(n[c(303)])(c(362))}},vertexShader:"varying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\n\nattribute vec3 aCenter;\nattribute vec3 toPosition;\nattribute vec3 toNormal;\nattribute float aRandom;\n\nuniform float u_progress;\n\n#include <common>\n\nmat4 rotation3d(vec3 axis, float angle) {\n  axis = normalize(axis);\n  float s = sin(angle);\n  float c = cos(angle);\n  float oc = 1.0 - c;\n\n  return mat4(\n      oc * axis.x * axis.x + c, oc * axis.x * axis.y - axis.z * s,\n      oc * axis.z * axis.x + axis.y * s, 0.0, oc * axis.x * axis.y + axis.z * s,\n      oc * axis.y * axis.y + c, oc * axis.y * axis.z - axis.x * s, 0.0,\n      oc * axis.z * axis.x - axis.y * s, oc * axis.y * axis.z + axis.x * s,\n      oc * axis.z * axis.z + c, 0.0, 0.0, 0.0, 0.0, 1.0);\n}\n\nvoid main() {\n  vUv = uv;\n\n  float progress = u_progress;\n  float sinProgress = sin(progress * PI);\n\n  vec3 pos = mix(position, toPosition, progress);\n  vec3 nor = mix(normal, toNormal, progress);\n\n  vNormal = normalMatrix * normalize(nor);\n\n  float prog = ((pos.y + 1.) / 2.) * 1.1;\n\n  float locprog = clamp((sinProgress - 0.9 * prog) / 0.2, 0., 1.);\n\n  vec3 transform = pos - aCenter;\n\n  transform += 3. * aRandom * nor * locprog;\n\n  transform *= (1.0 - locprog);\n\n  transform += aCenter;\n\n  mat4 rotation = rotation3d(vec3(0., 1., 0.), aRandom * (locprog)*PI * 3.);\n\n  transform = (rotation * vec4(transform, 1.)).xyz;\n\n  vec4 modelViewPosition = modelViewMatrix * vec4(transform, 1.0);\n\n  gl_Position = projectionMatrix * modelViewPosition;\n\n  vViewPosition = -modelViewPosition.xyz;\n}",fragmentShader:"varying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec3 vViewPosition;\nuniform sampler2D matcap;\nuniform sampler2D matcap2;\nuniform float u_progress;\nuniform vec3 m1Color;\nuniform vec3 m2Color;\n\nvoid main() {\n  vec3 viewDir = normalize(vViewPosition);\n  vec3 x = normalize(vec3(viewDir.z, 0.0, -viewDir.x));\n  vec3 y = cross(viewDir, x);\n  vec2 uv = vec2(dot(x, vNormal), dot(y, vNormal)) * 0.495 + 0.5;\n\n  float progress = abs(sin(u_progress));\n\n  vec3 matcapColor = texture2D(matcap, uv).rgb;\n  matcapColor = mix(matcapColor, m1Color, 0.5);\n  vec3 matcap2Color = texture2D(matcap2, uv).rgb;\n  matcap2Color = mix(matcap2Color, m2Color, 0.5);\n\n  vec3 color = vec3(matcapColor);\n  color = mix(color, matcap2Color, progress);\n\n  gl_FragColor = vec4(color, 1.0);\n}"},G=l({c1:c(350),c2:c(362)}),H=p(.5),K=new i({title:"参数"});return K[c(317)](Z[c(292)][c(316)],c(345),{label:c(297),min:-.1,max:1,step:.001})[c(332)]=!0,K[c(317)](G,"c1",{label:c(352)}),K[c(317)](G,"c2",{label:"颜色2rd"}),K[c(317)](H,c(345),{label:"速度",min:.001,max:1,step:.001}),f(G,(n=>{const t=c;Z.uniforms.m1Color.value[t(311)](n.c1),Z.uniforms[t(289)][t(345)][t(311)](n.c2)}),{deep:!0}),r()[c(322)]((({elapsed:n})=>{Z[c(292)].u_progress.value=(Math.sin(n*H.value)+1)/2,K.refresh()})),(n,t)=>{const o=c;return m(),v(o(344),{geometry:y(z)},[g("TresShaderMaterial",x(d(Z)),null,16)],8,j)}}});function N(){const n=["error","rotateY","52024HdMEkn","#ffc0fa","scene","颜色1st","exception","push","children","mergeGeometries","903NXNMIN","translate","action","toString","gger","#bcd4ff","return (function() ","init","tangent","length","BufferAttribute","trace","chain","geometry","console","__proto__","m2Color","rotateX","info","uniforms","clone","traverse","2LQSzxy","deleteAttribute","变化量","count","stateObject","test","2968045ZgIwnw","toNonIndexed","Color","apply","6KuUKzd","random","4185PGtALU","log","position","Mesh","set","566648dEjDME","12176307TxtGJK","array","toNormal","u_progress","addBinding","bind","warn","prototype","7970XKxrfb","onLoop","input","string","aRandom","table","toPosition","/model/eCommerce/guanYu.glb","resource.cos","./draco/","2488967ifgsNG","disabled","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","attributes","function *\\( *\\)","Vector3","debu","while (true) {}","6KMzJOe","setAttribute","https://opensource.cdn.icegl.cn","constructor","84PprZfV","TresMesh","value","1239349Fjxjfz"];return(N=function(){return n})()}function D(n){function t(n){const o=_;if(typeof n===o(324))return function(n){}.constructor(o(338))[o(304)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[o(342)](o(337)+o(361)).call(o(359)):function(){return!1}[o(342)](o(337)+o(361))[o(304)](o(299)),t(++n)}try{if(n)return t;t(0)}catch(o){}}!function(n,t){const o=F,r=S();for(;;)try{if(951513===parseInt(o(490))/1*(-parseInt(o(482))/2)+-parseInt(o(458))/3*(-parseInt(o(454))/4)+parseInt(o(484))/5+-parseInt(o(467))/6+parseInt(o(479))/7+-parseInt(o(491))/8*(parseInt(o(463))/9)+parseInt(o(470))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const V=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o[F(451)](t,arguments);return o=null,n}}:function(){};return n=!1,r}}();!function(){V(this,(function(){const n=F,t=new RegExp(n(474)),o=new RegExp(n(452),"i"),r=k(n(475));t[n(453)](r+n(478))&&o[n(453)](r+n(483))?k():r("0")}))()}();const E=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,r}}();function S(){const n=["debu","2112550IGeEvk","log","length","TresAmbientLight","function *\\( *\\)","init","info","counter","chain","10882634QlnWgx","bind","trace","336zIVkPf","input","3284075FHwYuk","gger","prototype","return (function() ","ACESFilmicToneMapping","__proto__","2398shyenM","1866088BvJdNH","TresPerspectiveCamera","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","6732ErVSlL","error","call","action","393vIvuTl","table","constructor","while (true) {}","toString","27petMus","stateObject","string","console","3534270THsiQm","#000000"];return(S=function(){return n})()}function F(n,t){const o=S();return(F=function(n,t){return o[n-=451]})(n,t)}E(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function(n(487)+'{}.constructor("return this")( ));')()}catch(o){t=window}return t}(),o=t[n(466)]=t[n(466)]||{},r=[n(471),"warn",n(476),n(455),"exception",n(459),n(481)];for(let e=0;e<r[n(472)];e++){const t=E.constructor[n(486)][n(480)](E),a=r[e],s=o[a]||t;t[n(489)]=E[n(480)](E),t[n(462)]=s[n(462)].bind(s),o[a]=t}}))();const R=c({__name:"fragmentModel",setup(t){const o=F,r=l({enableDamping:!0,enableZoom:!0,autoRotate:!0,enablePan:!0,enableRotate:!0}),e={clearColor:o(468),windowSize:!0,toneMapping:n[o(488)],toneMappingExposure:.8};return(n,t)=>{const a=o,i=w("TresCanvas");return m(),h(i,x(d(e)),{default:b((()=>[t[0]||(t[0]=g(a(492),{position:[0,2,8],fov:45,near:.1,far:1e3},null,-1)),I(y(s),x(d(r)),null,16),t[1]||(t[1]=g(a(473),{intensity:2},null,-1)),(m(),h(z,null,{default:b((()=>[I(A)])),_:1}))])),_:1},16)}}});function k(n){function t(n){const o=F;if(typeof n===o(465))return function(n){}[o(460)](o(461)).apply(o(477));1!==(""+n/n).length||n%20==0?function(){return!0}[o(460)](o(469)+o(485))[o(456)](o(457)):function(){return!1}[o(460)](o(469)+"gger")[o(451)](o(464)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{R as default};
