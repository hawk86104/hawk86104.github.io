import{B as t}from"./three.quarks.CwTtG7dG1763540743861.js";import{i as o}from"./index.Crdf3MNx1763540743861.js";import{_ as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as r,w as s,H as a,o as i,F as n,J as c,u as l}from"./@vue.Co_gxueH1763540743861.js";import{G as m,l as p,A as d}from"./three.rXKzP9fQ1763540743861.js";import{a as f}from"./quarks.core.D-mmToEd1763540743861.js";const u=["object"],j=["object","position","scale","rotation"],w=r({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(r){const w=r,y=t=>{const o=new p(w.color),e=new d(o.r,o.g,o.b,t);return new f(e)},b=new t,h=new m,C=o.getItem("CartoonMagicZone.json").clone(!0);C.traverse(t=>{if("ParticleEmitter"===t.type){"BasicZoneRedEmitter"===t.name&&t.rotation.set(Math.PI/2,0,0);const o=t.system;o.startColor=y(o.startColor.color.w),b.addSystem(o)}}),"ParticleEmitter"===C.type&&b.addSystem(C.system),h.add(C);const{onBeforeRender:g}=e();return g(({delta:t})=>{b.update(t)}),s(()=>[w.color],([t])=>{b.systemToBatchIndex.forEach((t,o)=>{o.startColor=y(o.startColor.color.w)})}),(t,o)=>(i(),a(n,null,[c("primitive",{object:l(h)},null,8,u),c("primitive",{object:l(b),position:t.position,scale:t.scale,rotation:t.rotation},null,8,j)],64))}});export{w as _};
