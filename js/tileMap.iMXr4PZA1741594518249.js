import{_ as t,b as n,cM as e,am as o}from"./three.8y0_KTxz1741594518249.js";import{P as r}from"./tweakpane.yDiyAAkA1741594518249.js";import{m as s,e as i}from"./@tresjs.gjafZgVK1741594518249.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.tLqM9eWC1741594518249.js";import{d,a2 as g,w as h,o as j,H as w,u as b,v,r as x,e as y,j as I,g as M,f as _,m as z,al as B,F as C}from"./@vue.NRI7TcgI1741594518249.js";import{_ as S}from"./raycasterEvent.noG5qOAS1741594518249.js";import{a as k}from"./utils.LXBu2Qzp1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./@mapbox.lMdYodhq1741594518249.js";import"./three-mesh-bvh.BGX00vVS1741594518249.js";import"./three-custom-shader-material.Bah0Myv81741594518249.js";import"./@fesjs._tIE6C7-1741594518249.js";import"./vue-router.qtZNKV811741594518249.js";import"./lodash-es.pklfUAS51741594518249.js";import"./@qlin.yHhFDldE1741594518249.js";import"./pinia.3XPyh4eK1741594518249.js";import"./@floating-ui.BPbuo5Gx1741594518249.js";import"./@juggle.7yjBMqoW1741594518249.js";import"./@tweenjs.J1BAvmPw1741594518249.js";import"./utils.RKdb_ZkT1741594518249.js";import"./http.IP1s8AOL1741594518249.js";import"./axios.qd3pZFDv1741594518249.js";import"./color.XZl-I-6m1741594518249.js";import"./@amap.gPFcnYXF1741594518249.js";import"./color-string.vNB0S9Uo1741594518249.js";import"./color-name.TR_kJoJZ1741594518249.js";import"./simple-swizzle.OfzM8m1Q1741594518249.js";import"./is-arrayish.Nq7BrLX21741594518249.js";import"./color-convert.5GK-cJA_1741594518249.js";import"./lodash.mCVuQU871741594518249.js";import"./naive-ui.Yf8dmkLL1741594518249.js";import"./date-fns.nmuTTsCK1741594518249.js";import"./@css-render.fxuLjtI_1741594518249.js";import"./seemly.vIsyOXn81741594518249.js";import"./css-render.EQl60oOT1741594518249.js";import"./@emotion.ZD_ZYAgY1741594518249.js";import"./vooks.Be1mhho41741594518249.js";import"./evtd.DtfwxtIl1741594518249.js";import"./vueuc.SupRwUWU1741594518249.js";import"./vdirs.XYCwyurP1741594518249.js";import"./treemate.dcEdf2le1741594518249.js";import"./date-fns-tz.TRmedFB51741594518249.js";import"./async-validator.-YBkpS4I1741594518249.js";import"./d3-geo.Se9KblfB1741594518249.js";import"./d3-array.E5C1cfJ61741594518249.js";const P=A;function A(t,n){const e=T();return(A=function(t,n){return e[t-=254]})(t,n)}!function(t,n){const e=A,o=T();for(;;)try{if(121598===-parseInt(e(319))/1*(parseInt(e(267))/2)+-parseInt(e(278))/3+-parseInt(e(265))/4+parseInt(e(256))/5+-parseInt(e(296))/6+parseInt(e(259))/7*(-parseInt(e(283))/8)+-parseInt(e(311))/9*(-parseInt(e(280))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(313)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=A,n=new RegExp(t(304)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=F("init");n[t(255)](o+t(305))&&e[t(255)](o+t(262))?F():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(313)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=A;let n;try{n=Function("return (function() "+t(302)+");")()}catch(r){n=window}const e=n.console=n[t(261)]||{},o=[t(276),t(270),t(257),"error",t(289),t(324),t(263)];for(let s=0;s<o[t(254)];s++){const n=E[t(317)].prototype.bind(E),r=o[s],i=e[r]||n;n[t(275)]=E[t(285)](E),n[t(273)]=i[t(273)][t(285)](i),e[r]=n}}))();const Z=[P(269),"rotation"];function T(){const t=["apply","maxZoom","gger","mapCenter","constructor","update","6733jQkAzh","call","flatShading","position","set","table","length","test","547785QeaLPb","info","genContrast","38787oFEDdm","lookAt","console","input","trace","bbox","344156MbXHra","counter","44veSvPB","innerWidth","object","warn","domElement","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","toString","coordType","__proto__","log","camera","182214PVwKhW","provider","10POYzhJ","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","Vector3","8RlAYUH","position0","bind","tweenInstance","wireframe","Color","exception","enableDamping","minDistance","opposite","debu","value","stateObject","1439334zwoSiP","PerspectiveCamera","tileMapMesh","isMonochrome","genSaturation","#fff",'{}.constructor("return this")( )',"action","function *\\( *\\)","chain","filter","genBright","source","abs","primitive","4971366ZBeWgw","monochrome"];return(T=function(){return t})()}const W=d({__name:P(298),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:P(301)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const f=P,d=o,{renderer:v,scene:x}=s();(new a).coordType=c;const y=new u;y[f(308)]=f(281),y[f(274)]=c;const I=new p;I[f(308)]=f(272),I.showTileNo=!1,I.useWorker=!0;const M=new l(y,I);if(M.showBoundingBox=!1,M[f(287)]=!1,M[f(321)]=!1,M.useStandardMaterial=!1,M[f(306)]={opposite:d[f(292)],monochrome:d.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:d.genBright,genContrast:d.genContrast,genSaturation:d[f(300)]},d[f(312)]){let n=new(t[f(288)])(d[f(312)]);M[f(306)]&&(M[f(306)].monochrome={r:n.r,g:n.g,b:n.b})}const _=new m;_[f(279)]=M,_[f(264)]=d[f(264)],_[f(314)]=d[f(314)];const z=new(t[f(297)])(60,window[f(268)]/window.innerHeight,1,1e8);z.up=new(t[f(282)])(0,1,0),z[f(322)][f(323)](d[f(316)][0],d[f(316)][2],-d.mapCenter[1]),z[f(260)](new n(z[f(322)].x,0,z[f(322)].z-2e3)),_[f(277)]=z;let B=null;g((()=>{const t=f;v[t(294)]&&!B&&(B=new e(z,v[t(294)][t(271)]),B[t(290)]=!0,B.dampingFactor=.05,B[t(291)]=600,B[t(284)][t(323)](z[t(322)].x,z.position.y,z[t(322)].z),B.target[t(323)](z.position.x,0,z[t(322)].z-2e3))})),h((()=>[d[f(292)],d[f(299)],d[f(312)]]),(([n,e,o])=>{const r=f;if(M[r(306)]){let s=new(t[r(288)])(o);M[r(306)].opposite=n,M[r(306)][r(312)]=e?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[d[f(307)],d[f(258)],d.genSaturation]),(([t,n,e])=>{const o=f;M[o(306)]&&(M[o(306)][o(307)]=t,M.filter[o(258)]=n,M[o(306)][o(300)]=e)}));const{onLoop:C}=i();return C((()=>{var t;const n=f;if(v[n(294)]){null==(t=d[n(286)])||t.update(),B&&B[n(318)](),_[n(318)]();const e=50*Math[n(309)](z[n(322)].y);z.far=e+5e3,z.updateProjectionMatrix(),v[n(294)].render(x[n(294)],z)}})),r({camera:z,map:_,orbitControl:B}),(t,n)=>{const e=f;return j(),w(e(310),{object:b(_),rotation:[-Math.PI/2,0,0]},null,8,Z)}}});function F(t){function n(t){const e=A;if("string"==typeof t)return function(t){}[e(317)]("while (true) {}").apply(e(266));1!==(""+t/t)[e(254)]||t%20==0?function(){return!0}[e(317)]("debu"+e(315))[e(320)](e(303)):function(){return!1}[e(317)](e(293)+e(315))[e(313)](e(295)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=H;!function(t,n){const e=H,o=Q();for(;;)try{if(252403===parseInt(e(448))/1+parseInt(e(462))/2+parseInt(e(426))/3+-parseInt(e(446))/4*(parseInt(e(453))/5)+-parseInt(e(437))/6*(-parseInt(e(455))/7)+parseInt(e(414))/8+-parseInt(e(436))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(454)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=H,n=new RegExp(t(467)),e=new RegExp(t(413),"i"),o=$("init");n[t(442)](o+t(412))&&e[t(442)](o+t(459))?$():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=Q();return(H=function(t,n){return e[t-=408]})(t,n)}function Q(){const t=["SRGBColorSpace","nss","奥体中心","input","tileMapRef","counter","260810yfxgvS",'{}.constructor("return this")( )',"toString","debu","isMonochrome","function *\\( *\\)","genSaturation","log","while (true) {}","return (function() ","牛首山","camera","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3702184gKcWSK","新街口","addBlade","error","console","prototype","call","constructor","tileMap","length","opposite","gger","171450bIOCFY","对比度","addBinding","stateObject","Vector3","#4688b5","genBright","change","tweenInstance","orbitControl","6233634PqQOec","6ztTUZL","manual","trace","exception","bind","test","string","list","xjk","36WvPiQB","tileMapMeshRef","192776mLdvmc","value","action","滤镜颜色","单色滤镜","37825MOAsvH","apply","1190070GqzdwN"];return(Q=function(){return t})()}D(void 0,(function(){const t=H;let n;try{n=Function(t(409)+t(463)+");")()}catch(r){n=window}const e=n.console=n[t(418)]||{},o=[t(469),"warn","info",t(417),t(440),"table",t(439)];for(let s=0;s<o[t(423)];s++){const n=D[t(421)][t(419)][t(441)](D),r=o[s],i=e[r]||n;n.__proto__=D.bind(D),n[t(464)]=i.toString[t(441)](i),e[r]=n}}))();const Y=d({__name:L(422),setup(n){const e=L,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=v(),c=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(431),mapCenter:i,tweenInstance:null}),u=new r({title:"参数"});u[e(428)](c,e(424),{label:"反色"}),u[e(428)](c,e(432),{label:"高亮",min:.1,max:3,step:.1}),u[e(428)](c,"genContrast",{label:e(427),min:.1,max:3,step:.1}),u.addBinding(c,e(468),{label:"饱和度",min:.1,max:3,step:.1}),u[e(428)](c,e(466),{label:e(452)}),u[e(428)](c,"monochrome",{label:e(451)});const p={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};u[e(416)]({view:e(444),label:"飞去",options:[{text:e(458),value:"at"},{text:e(415),value:e(445)},{text:e(410),value:e(457)}],value:"at"}).on(e(433),(n=>{const o=e,r=new(t[o(430)])(p[n[o(449)]][0],2e3,-p[n[o(449)]][1]);c[o(434)]=k(a.value[o(411)],r,a[o(449)][o(435)],[0,-300],4e3)}));const l=x({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(438),outputColorSpace:t[e(456)],toneMapping:o});return setTimeout((()=>{const n=e,o=p.at,r=new(t[n(430)])(o[0],1600,-o[1]);c.tweenInstance=k(a[n(449)].camera,r,a.value[n(435)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=y("TresCanvas");return j(),w(C,null,[I(r,z(l,{"window-size":""}),{default:M((()=>[(j(),_(B,null,{default:M((()=>[I(W,z(c,{ref_key:o(447),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(S,{tileMapRef:a[o(449)]},null,8,[o(460)])],64)}}});function $(t){function n(t){const e=H;if(typeof t===e(443))return function(t){}[e(421)](e(408))[e(454)](e(461));1!==(""+t/t)[e(423)]||t%20==0?function(){return!0}[e(421)](e(465)+e(425))[e(420)](e(450)):function(){return!1}.constructor(e(465)+e(425)).apply(e(429)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
