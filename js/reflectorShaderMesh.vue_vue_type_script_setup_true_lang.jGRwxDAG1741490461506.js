import{a3 as t,C as n,V as r,s as e,r as o,c8 as i}from"./three.Vxh8Czkt1741490461506.js";import{m as s,a as c}from"./@tresjs.rE98Wm941741490461506.js";import{R as a,a as u}from"./all.three.9g6ASlnm1741490461506.js";import{d as f,a3 as l,a2 as p,w as m,o as h,H as g,N as w,u as d}from"./@vue.NRI7TcgI1741490461506.js";const y=b;!function(t,n){const r=b,e=M();for(;;)try{if(840903===-parseInt(r(143))/1+parseInt(r(137))/2*(parseInt(r(165))/3)+parseInt(r(167))/4+parseInt(r(172))/5*(parseInt(r(156))/6)+parseInt(r(174))/7*(-parseInt(r(163))/8)+-parseInt(r(147))/9*(-parseInt(r(149))/10)+-parseInt(r(138))/11*(parseInt(r(166))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[b(133)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function b(t,n){const r=M();return(b=function(t,n){return r[t-=127]})(t,n)}!function(){_(this,(function(){const t=b,n=new RegExp(t(132)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=R(t(129));n[t(148)](e+t(179))&&r.test(e+t(178))?R():e("0")}))()}();const j=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[b(133)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();j(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(139)+t(154)+");")()}catch(r){n=window}return n}(),r=n[t(155)]=n[t(155)]||{},e=["log","warn",t(152),t(136),"exception",t(145),"trace"];for(let o=0;o<e[t(144)];o++){const n=j[t(183)].prototype[t(150)](j),i=e[o],s=r[i]||n;n[t(176)]=j.bind(j),n[t(160)]=s.toString[t(150)](s),r[i]=n}}))();const v=[y(158),y(171)],x=[y(173)],I=["object"],S=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:"#ffffff"},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const _=y;let b,j;const S=f,{scene:M}=s(),R=([b,j]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),b=await b,j(),b);R[0][_(127)]=t,R[0].wrapT=t,R[1].wrapS=t,R[1][_(170)]=t;const F=new a,E=new u({reflectivity:S[_(146)],mirror:S[_(175)],mixStrength:S[_(135)],color:new n(S.color),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M.fog,dithering:!0});E[_(142)].tReflect=F.renderTargetUniform,E[_(142)][_(177)]=F[_(162)];const T=new e(10,10),z=new o(T,E);z[_(131)]=_(169),z.position.y=-.01,z[_(181)].x=-Math.PI/2,z[_(161)](F),z[_(159)]=(t,n,r)=>{const e=_;z[e(140)]=!1,F.update(t,n,r),z[e(140)]=!0};const C=new i(9.5,10);return C.visible=S[_(134)],p((()=>{const t=_;S.reflectivity&&(E[t(142)][t(153)][t(151)]=S[t(146)]),S[t(175)]&&(E.uniforms.uMirror[t(151)]=S[t(175)]),S.mixStrength&&(E.uniforms[t(157)][t(151)]=S[t(135)]),S[t(128)]&&(E[t(142)][t(180)].value=new n(S[t(128)]))})),m((()=>S[_(134)]),(t=>{C[_(140)]=t})),(t,n)=>{const r=_;return h(),g("TresGroup",{position:S[r(158)],scale:S.scale},[w("primitive",{object:d(z)},null,8,x),w(r(130),{object:d(C)},null,8,I)],8,v)}}});function M(){const t=["info","uReflectivity",'{}.constructor("return this")( )',"console","28518NQpDpF","uMixStrength","position","onBeforeRender","toString","add","textureMatrixUniform","8CrvRyx","call","11445eTYhph","24KePgDw","1466592aDwzCV","gger","reflectorShaderMesh","wrapT","scale","535jSFlEt","object","10336039mWwDQS","mirror","__proto__","uMatrix","input","chain","uColor","rotation","counter","constructor","wrapS","color","init","primitive","name","function *\\( *\\)","apply","showGridHelper","mixStrength","error","412AQkzsu","1765478iErecH","return (function() ","visible","debu","uniforms","695283FlEfGb","length","table","reflectivity","79650emjlZF","test","1890MIVtFq","bind","value"];return(M=function(){return t})()}function R(t){function n(t){const r=b;if("string"==typeof t)return function(t){}[r(183)]("while (true) {}")[r(133)](r(182));1!==(""+t/t)[r(144)]||t%20==0?function(){return!0}[r(183)](r(141)+r(168))[r(164)]("action"):function(){return!1}.constructor(r(141)+"gger")[r(133)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{S as _};
