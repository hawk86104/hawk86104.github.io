import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.xkDKZhLE1743066865732.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.z5wnD9Re1743066865732.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.38fWtuB31743066865732.js";import{V as t,K as e,C as n,n as i,u as r,aY as a,a as o,g as s,_ as l,b as c,Q as u,t as p}from"./three.qSkR4_5R1743066865732.js";import{m as f,e as x}from"./@tresjs.NxYvETXi1743066865732.js";import{u as v}from"./index.bm35pHND1743066865732.js";import{F as m,C as h}from"./three-stdlib.tjOHNgPP1743066865732.js";import{d as w}from"./@vue.L-brCdZe1743066865732.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.wCf2mElV1743066865732.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.7HkSmqnc1743066865732.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.z5ONRhjp1743066865732.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.n019etbs1743066865732.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.0UEL-IzL1743066865732.js";const g=_;!function(t,e){const n=_,i=S();for(;;)try{if(814624===-parseInt(n(385))/1+-parseInt(n(375))/2+-parseInt(n(370))/3*(-parseInt(n(355))/4)+-parseInt(n(376))/5+-parseInt(n(362))/6+parseInt(n(380))/7*(parseInt(n(360))/8)+parseInt(n(364))/9*(parseInt(n(369))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const d=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[_(354)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){d(this,(function(){const t=_,e=new RegExp(t(379)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=z(t(374));e[t(356)](i+t(357))&&n[t(356)](i+"input")?z():i("0")}))()}();const y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function S(){const t=["length","trace","stateObject","998167rymGpI","constructor","apply","111268vMpdtk","test","chain","warn","error","3384Qsyiai","exception","6233466OYBnjb","table","9890109hArrXH","bind","gger",'{}.constructor("return this")( )',"call","20DaXvXt","138ldTCMR",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"debu","counter","init","719354lkwSVI","5744030kdHZwg","log","toString","function *\\( *\\)","14609yMTboH","console"];return(S=function(){return t})()}function _(t,e){const n=S();return _=function(t,e){return n[t-=353]},_(t,e)}y(void 0,(function(){const t=_,e=function(){const t=_;let e;try{e=Function("return (function() "+t(367)+");")()}catch(n){e=window}return e}(),n=e[t(381)]=e.console||{},i=[t(377),t(358),"info",t(359),t(361),t(363),t(383)];for(let r=0;r<i[t(382)];r++){const e=y[t(353)].prototype[t(365)](y),a=i[r],o=n[a]||e;e.__proto__=y.bind(y),e[t(378)]=o[t(378)][t(365)](o),n[a]=e}}))();const P=g(371);function z(t){function e(t){const n=_;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply(n(373));1!==(""+t/t).length||t%20==0?function(){return!0}[n(353)](n(372)+n(366))[n(368)]("action"):function(){return!1}[n(353)](n(372)+n(366))[n(354)](n(384)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const I=M;!function(t,e){const n=M,i=V();for(;;)try{if(255744===parseInt(n(155))/1*(-parseInt(n(159))/2)+parseInt(n(149))/3+parseInt(n(142))/4+-parseInt(n(147))/5*(-parseInt(n(166))/6)+-parseInt(n(161))/7*(-parseInt(n(157))/8)+-parseInt(n(145))/9+parseInt(n(148))/10*(-parseInt(n(153))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[M(152)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function M(t,e){const n=V();return M=function(t,e){return n[t-=139]},M(t,e)}!function(){b(this,(function(){const t=M,e=new RegExp(t(172)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=D(t(176));e[t(162)](i+"chain")&&n[t(162)](i+t(139))?D():i("0")}))()}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function A(t){const n=M,i={...t};return"defines"in t&&(i[n(174)]={...t[n(174)]}),n(150)in t&&(i[n(150)]=e.clone(t.uniforms)),i}E(void 0,(function(){const t=M,e=function(){const t=M;let e;try{e=Function(t(165)+t(151)+");")()}catch(n){e=window}return e}(),n=e[t(156)]=e[t(156)]||{},i=[t(144),t(160),"info",t(154),t(170),t(168),"trace"];for(let r=0;r<i[t(171)];r++){const e=E[t(140)][t(158)].bind(E),a=i[r],o=n[a]||e;e[t(163)]=E[t(169)](E),e[t(146)]=o[t(146)][t(169)](o),n[a]=e}}))();const L={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new t},parentMapSize:{value:new t},parentLevel:{value:0}},vertexShader:I(177),fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+P+I(164)};function D(t){function e(t){const n=M;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[n(152)](n(141));1!==(""+t/t).length||t%20==0?function(){return!0}[n(140)]("debu"+n(167)).call(n(173)):function(){return!1}[n(140)](n(143)+n(167))[n(152)](n(175)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function V(){const t=["warn","1345799dlFOqg","test","__proto__","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","return (function() ","215658hsDjvV","gger","table","bind","exception","length","function *\\( *\\)","action","defines","stateObject","init","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","input","constructor","counter","1119528dQMnZO","debu","log","3913848ZYrBrd","toString","45ISMZCy","10onoKcN","1478829xIZAcm","uniforms",'{}.constructor("return this")( )',"apply","2858053LuThLK","error","338130rKIDTF","console","8NzLLlK","prototype","2aQmNTh"];return(V=function(){return t})()}const U=k;function T(){const t=["isWebGLRenderTarget","trace","floor","75mOPktX","tDiffuse","camera","height","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getClearColor","log","_mipMaterials","material","parentLevel","call","_mipQuad","function *\\( *\\)","1593bVhNJK","type","exception","2549PVyfrt","autoClear","parentMapSize","getRenderTarget","error","setClearColor","setRenderTarget","34030RtwoPF","input","init","setClearAlpha","copy","action","2601431mqskXo","setViewOffset","bind","_copyQuad","2NuWCfl","dispose","uniforms","__proto__","clear","warn","forEach","10164055fXdVaF","debu","defines","string","1146404gJbWyf","set","prototype","239898nPftZF","_swapTarget","setSize","chain","map","119283acPQGG","apply","Y_IS_EVEN","replace","8ObfuEf","render","test","stateObject","return (function() ","magFilter","texture","length","X_IS_EVEN","fragmentShader","gger","toString","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","width","floorPowerOfTwo","console","minFilter","image",'{}.constructor("return this")( )',"info","constructor","value","update","originalMapSize"];return(T=function(){return t})()}!function(t,e){const n=k,i=T();for(;;)try{if(342951===parseInt(n(492))/1*(parseInt(n(509))/2)+-parseInt(n(528))/3+parseInt(n(520))/4+parseInt(n(475))/5*(-parseInt(n(523))/6)+-parseInt(n(505))/7*(-parseInt(n(532))/8)+parseInt(n(489))/9*(-parseInt(n(499))/10)+parseInt(n(516))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const j=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(529)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){j(this,(function(){const t=k,e=new RegExp(t(488)),n=new RegExp(t(480),"i"),i=Z(t(501));e[t(534)](i+t(526))&&n[t(534)](i+t(500))?Z():i("0")}))()}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function k(t,e){const n=T();return k=function(t,e){return n[t-=458]},k(t,e)}O(void 0,(function(){const t=k,e=function(){const t=k;let e;try{e=Function(t(536)+t(466)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(463)]||{},i=[t(482),t(514),t(467),t(496),t(491),"table",t(473)];for(let r=0;r<i[t(539)];r++){const e=O[t(468)][t(522)].bind(O),a=i[r],o=n[a]||e;e[t(512)]=O[t(507)](O),e[t(459)]=o.toString[t(507)](o),n[a]=e}}))();const N=new n;class R{constructor(t){const e=k;!t&&(t=e(460));const n=A(L);n.fragmentShader=n[e(541)][e(531)](/<mipmap_logic>/g,t);const o=new Array(4);o[0]=new i(A(n)),o[0][e(518)][e(540)]=0,o[0].defines[e(530)]=0,o[1]=new i(A(n)),o[1][e(518)].X_IS_EVEN=1,o[1][e(518)][e(530)]=0,o[2]=new i(A(n)),o[2][e(518)].X_IS_EVEN=0,o[2][e(518)][e(530)]=1,o[3]=new i(A(n)),o[3].defines[e(540)]=1,o[3][e(518)][e(530)]=1;const s=new r;s[e(538)][e(464)]=a,s[e(538)][e(537)]=a,this[e(524)]=s,this[e(508)]=new m(new i(h)),this[e(487)]=new m(null),this[e(483)]=o}[U(470)](t,e,n,i=!1){const r=U;t[r(472)]&&(t=t[r(538)]);const a=n[r(493)],s=n.getClearAlpha(),l=n[r(495)]();n[r(481)](N);const c=this[r(508)],u=this[r(487)],p=this[r(524)],f=this[r(483)];let x,v;i?(x=o[r(462)](t[r(465)][r(461)]),v=o[r(462)](t[r(465)][r(478)])):(x=Math[r(474)](t[r(465)][r(461)]),v=Math[r(474)](t.image[r(478)]));const m=Math[r(474)](1.5*x),h=Math[r(474)](v);e[r(525)](m,h),p.texture[r(490)]!==e[r(538)].type?(p.dispose(),p[r(503)](e),p[r(538)][r(465)]={...p.texture[r(465)]}):p[r(525)](m,h),n[r(493)]=!1,n[r(497)](0),n[r(502)](),c[r(484)][r(511)][r(476)][r(469)]=t,c[r(477)][r(506)](x,v,0,0,m,h),n[r(498)](e),n[r(513)](),c[r(533)](n),n[r(498)](p),n[r(513)](),c.render(n);let w=x,g=v,d=0;for(;w>1&&g>1;){const t=f[(w%2==0?1:0)|(g%2==0?2:0)];t[r(511)][r(527)][r(469)]=p[r(538)],t[r(511)][r(485)][r(469)]=d,t[r(511)][r(494)][r(469)][r(521)](w,g),t[r(511)][r(471)][r(469)].set(x,v),u[r(484)]=t,w=Math[r(474)](w/2),g=Math[r(474)](g/2);const i=h-2*g;n[r(498)](e),u.camera.setViewOffset(w,g,-x,-i,m,h),u[r(533)](n),n[r(498)](p),t[r(511)][r(527)].value=e.texture,u[r(533)](n),d++}return n[r(498)](l),n[r(502)](s),n[r(497)](N),n[r(493)]=a,d+1}dispose(){const t=U;this[t(524)][t(510)](),this[t(487)][t(510)](),this[t(508)][t(510)](),this._mipMaterials[t(515)]((e=>e[t(510)]()))}}function Z(t){function e(t){const n=k;if(typeof t===n(519))return function(t){}[n(468)]("while (true) {}")[n(529)](n(479));1!==(""+t/t)[n(539)]||t%20==0?function(){return!0}[n(468)](n(517)+"gger")[n(486)](n(504)):function(){return!1}[n(468)]("debu"+n(458)).apply(n(535)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const C=X;!function(t,e){const n=X,i=W();for(;;)try{if(291449===parseInt(n(164))/1+-parseInt(n(112))/2+parseInt(n(124))/3*(parseInt(n(142))/4)+parseInt(n(173))/5*(parseInt(n(119))/6)+parseInt(n(123))/7*(parseInt(n(184))/8)+-parseInt(n(144))/9*(parseInt(n(109))/10)+parseInt(n(129))/11*(-parseInt(n(154))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(121)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){F(this,(function(){const t=X,e=new RegExp(t(157)),n=new RegExp(t(133),"i"),i=Q(t(160));e[t(138)](i+t(128))&&n[t(138)](i+"input")?Q():i("0")}))()}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(121)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function X(t,e){const n=W();return X=function(t,e){return n[t-=104]},X(t,e)}function W(){const t=["3KNnyLz","console","applyQuaternion","projectionMatrix","chain","1765203qVKGoh","call","setRenderTarget","sign","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","string","updateMatrixWorld","getWorldPosition","test","elements","prototype","toString","1387148FpEpIr","constant","306hqvwzk","while (true) {}","UnsignedByteType","autoClear","counter","constructor","visible","texture","Matrix4","debu","24Ndzfqw","multiplyScalar","sub","function *\\( *\\)",'{}.constructor("return this")( )',"normal","init","negate","resolution","table","91607BdVaTu","projectPoint","getRenderTarget","state","setMask","matrixWorldInverse","info","multiply","value","728995lACUUe","bind","length","getWorldQuaternion","copy","add","PerspectiveCamera","action","ignoreObjects","applyMatrix4","__proto__","1449152hbQBCK","forEach","Vector3","parent","return (function() ","Quaternion","165060CrjNZN","reflectorMipMap","update","128960FYbFhy","warn","render","trace","gger","reflect","dot","18ZyMinw","buffers","apply","stateObject","14pHrhZa"];return(W=function(){return t})()}H(void 0,(function(){const t=X,e=function(){const t=X;let e;try{e=Function(t(107)+t(158)+");")()}catch(n){e=window}return e}(),n=e[t(125)]=e[t(125)]||{},i=["log",t(113),t(170),"error","exception",t(163),t(115)];for(let r=0;r<i[t(175)];r++){const e=H.constructor[t(140)][t(174)](H),a=i[r],o=n[a]||e;e[t(183)]=H.bind(H),e[t(141)]=o[t(141)][t(174)](o),n[a]=e}}))();const Y=w({__name:C(110),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=C,i=t,r=new s,a=new(l[n(152)]),o=new(l[n(179)]),m=new R,h=v({width:i[n(162)],height:i[n(162)],settings:{type:l[n(146)]}}),w=v({width:i.resolution,height:i.resolution,settings:{type:l[n(146)]}}),{camera:g,renderer:d,scene:y}=f(),{onBeforeLoop:S}=x();return S((()=>{const t=n;(()=>{const t=n;if(!g[t(172)])return;r.set(new c(0,1,0),0),r[t(182)](i[t(106)].matrixWorld),o[t(177)](g.value);const e=new c(0,0,1).clone()[t(161)](),s=g[t(172)][t(137)](new(l[t(105)]));e[t(117)](r.normal);const f=new(l[t(105)]);r[t(165)](s,f);const x=f.clone();x[t(156)](s),x[t(178)](f),o.position[t(177)](x);const v=new(l[t(105)])(0,0,-1);v[t(126)](g[t(172)][t(176)](new(l[t(108)]))),v[t(178)](s);const m=new(l[t(105)]);i[t(106)].getWorldPosition(m),m[t(156)](v),m[t(117)](r[t(159)])[t(161)](),m[t(178)](i[t(106)][t(137)](new c)),o.up[t(134)](0,1,0),o[t(126)](g[t(172)][t(176)](new u)),o.up[t(117)](r.normal),o.lookAt(m),o[t(136)]();const w=new(l[t(152)]);w[t(134)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w[t(171)](o[t(127)]),w[t(171)](o[t(169)]),a[t(177)](w),r[t(182)](o[t(169)]);const S=new p(r.normal.x,r[t(159)].y,r.normal.z,r[t(143)]),_=o[t(127)],P=new p;P.x=(Math.sign(S.x)+_[t(139)][8])/_.elements[0],P.y=(Math[t(132)](S.y)+_[t(139)][9])/_[t(139)][5],P.z=-1,P.w=(1+_[t(139)][10])/_[t(139)][14],S[t(155)](2/S[t(118)](P)),_[t(139)][2]=S.x,_[t(139)][6]=S.y,_.elements[10]=S.z+1,_.elements[14]=S.w;const z=d[t(172)][t(166)]();d[t(172)][t(131)](h[t(172)]),d[t(172)][t(167)][t(120)].depth[t(168)](!0),!1===d[t(172)][t(147)]&&d[t(172)].clear(),i[t(181)][t(104)]((e=>e[t(150)]=!1)),d[t(172)][t(114)](y[t(172)],o),i[t(181)].forEach((e=>e[t(150)]=!0)),d[t(172)][t(131)](z)})(),h.value&&w[t(172)]&&d[t(172)]&&m[t(111)](h[t(172)][t(151)],w[t(172)],d[t(172)])})),e({matrix:a,renderTarget:w}),(t,e)=>null}});function Q(t){function e(t){const n=X;if(typeof t===n(135))return function(t){}.constructor(n(145)).apply(n(148));1!==(""+t/t)[n(175)]||t%20==0?function(){return!0}[n(149)]("debu"+n(116))[n(130)](n(180)):function(){return!1}[n(149)](n(153)+"gger")[n(121)](n(122)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=J,i=q();;)try{if(979946===-parseInt(n(467))/1*(parseInt(n(477))/2)+-parseInt(n(471))/3+-parseInt(n(473))/4*(-parseInt(n(486))/5)+parseInt(n(480))/6+-parseInt(n(490))/7*(-parseInt(n(487))/8)+parseInt(n(474))/9+parseInt(n(488))/10*(-parseInt(n(498))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var G,K=(G=!0,function(t,e){var n=G?function(){if(e){var n=e[J(493)](t,arguments);return e=null,n}}:function(){};return G=!1,n});!function(){K(this,(function(){var t=J,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=tt(t(494));e[t(489)](i+"chain")&&n[t(489)](i+"input")?tt():i("0")}))()}();var $,B=($=!0,function(t,e){var n=$?function(){if(e){var n=e[J(493)](t,arguments);return e=null,n}}:function(){};return $=!1,n});function q(){var t=["240908CsNxvn","6987780YHBjVF","trace","gger","314794MMZXSa","warn","while (true) {}","11328330IMBcpV","console","call","constructor","error","info","5XwHVyb","692792Yqwuuv","5497970efkxKm","test","77HtUZOR","exception","action","apply","init","toString","length","stateObject","11grroXD","debu","return (function() ","__proto__","3WXxHWL","table","prototype","bind","5026071LSoGiA","counter"];return(q=function(){return t})()}function J(t,e){var n=q();return J=function(t,e){return n[t-=464]},J(t,e)}function tt(t){function e(t){var n=J;if("string"==typeof t)return function(t){}[n(483)](n(479))[n(493)](n(472));1!==(""+t/t)[n(496)]||t%20==0?function(){return!0}[n(483)](n(464)+n(476))[n(482)](n(492)):function(){return!1}.constructor(n(464)+n(476))[n(493)](n(497)),e(++t)}try{if(t)return e;e(0)}catch(n){}}B(void 0,(function(){for(var t=J,e=function(){var t,e=J;try{t=Function(e(465)+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=e[t(481)]=e[t(481)]||{},i=["log",t(478),t(485),t(484),t(491),t(468),t(475)],r=0;r<i[t(496)];r++){var a=B.constructor[t(469)][t(470)](B),o=i[r],s=n[o]||a;a[t(466)]=B.bind(B),a.toString=s[t(495)].bind(s),n[o]=a}}))();export{Y as _};
