import{a6 as t,cv as n,C as o,V as e}from"./three.0bBjBDi41721298764655.js";import{P as r}from"./tweakpane.yHWGBmom1721298764655.js";import{u as s}from"./@tweenjs.F-UCJBA91721298764655.js";import{p as i,$ as a}from"./@tresjs.iXEJQd7J1721298764655.js";import{P as c,b as p,c as u,M as l,T as m,a as f,d as g}from"./index.smNgA3Cf1721298764655.js";import{d as h,a1 as j,w as d,o as b,D as w,u as x,X as y,r as v,e as I,j as z,g as M,f as C,al as _,m as k,F as S}from"./@vue.Q1VpS3901721298764655.js";import{_ as B}from"./raycasterEvent.5lASMWe_1721298764655.js";import{a as R}from"./utils.ds3SYOVJ1721298764655.js";import"./@vueuse.hS-CVzal1721298764655.js";import"./@mapbox.6ycYeP5u1721298764655.js";import"./@amap.x_Go35DX1721298764655.js";import"./three-mesh-bvh.LM_bczGP1721298764655.js";import"./three-custom-shader-material.wt6if9qU1721298764655.js";import"./object-hash.eR6rYsIK1721298764655.js";import"./jszip.-g-_Ii-P1721298764655.js";import"./glsl-tokenizer.ZFLos1PC1721298764655.js";import"./glsl-token-string.BCXfLWyP1721298764655.js";import"./glsl-token-functions._ALfgfbj1721298764655.js";import"./@fesjs.brW7jqtK1721298764655.js";import"./vue-router.i1Z-d_LR1721298764655.js";import"./lodash-es.nFpJXAf-1721298764655.js";import"./@qlin.yHhFDldE1721298764655.js";import"./pinia.3lNuHAZQ1721298764655.js";import"./@floating-ui.BPbuo5Gx1721298764655.js";import"./@juggle.7yjBMqoW1721298764655.js";import"./http.UNlLiiVr1721298764655.js";import"./axios.FVFoCDiv1721298764655.js";import"./color.-NH5ZRl41721298764655.js";import"./color-string.L0wIxLfQ1721298764655.js";import"./color-name.fIeyP4ao1721298764655.js";import"./simple-swizzle.LcKzPK_L1721298764655.js";import"./is-arrayish.yRLhp1b_1721298764655.js";import"./color-convert.gwbupsZV1721298764655.js";import"./lodash.KfWONT351721298764655.js";import"./naive-ui.0zy5I5Ut1721298764655.js";import"./css-render.4WJii-rY1721298764655.js";import"./@emotion.ZD_ZYAgY1721298764655.js";import"./@css-render.oHKFIPo_1721298764655.js";import"./seemly.SjiSeX2v1721298764655.js";import"./vooks.Qt4NLcq91721298764655.js";import"./evtd.DtfwxtIl1721298764655.js";import"./vueuc.gtV5b-Mn1721298764655.js";import"./vdirs.5-GO2Pv31721298764655.js";import"./treemate.dcEdf2le1721298764655.js";import"./date-fns.tUayDDzZ1721298764655.js";import"./date-fns-tz.9op0RJh51721298764655.js";import"./async-validator.-YBkpS4I1721298764655.js";import"./utils.O9A1bznY1721298764655.js";import"./d3-geo.fnMf5TRh1721298764655.js";import"./d3-array.AhNJy1f41721298764655.js";const Z=H;!function(t,n){const o=H,e=D();for(;;)try{if(644650===-parseInt(o(225))/1*(parseInt(o(220))/2)+-parseInt(o(243))/3*(-parseInt(o(269))/4)+-parseInt(o(274))/5+parseInt(o(221))/6+parseInt(o(261))/7+-parseInt(o(226))/8+-parseInt(o(285))/9*(-parseInt(o(228))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[H(276)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){A(this,(function(){const t=H,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(268),"i"),e=L(t(266));n[t(237)](e+t(236))&&o.test(e+"input")?L():e("0")}))()}();const E=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function D(){const t=["test","constructor","mapCenter","showTileNo","domElement","stateObject","521337MfcoEx","counter","console","error","length","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","warn","dampingFactor","showBoundingBox","source","bbox","debu","while (true) {}","genSaturation","exception","Vector3","rotation","toString","754215QJnSAQ","enableDamping","monochrome","primitive","tileMapMesh","init","genContrast","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4LxHjIN","bind","Color","far","genBright","2495735zdJbmZ",'{}.constructor("return this")( )',"apply","position","coordType","value","object","filter","info","log","provider","122733RpbNCp","opposite","action","update","wireframe","camera","52406srtRPj","125976wqMpac","#fff","flatShading","render","47ItqWZF","654624YBSZbH","minDistance","1580DHLclH","string","isMonochrome","set","gger","__proto__","prototype","PerspectiveCamera","chain"];return(D=function(){return t})()}E(void 0,(function(){const t=H;let n;try{n=Function("return (function() "+t(275)+");")()}catch(r){n=window}const o=n[t(245)]=n[t(245)]||{},e=[t(283),t(249),t(282),t(246),t(257),"table","trace"];for(let s=0;s<e[t(247)];s++){const n=E[t(238)][t(234)][t(270)](E),r=e[s],i=o[r]||n;n[t(233)]=E[t(270)](E),n[t(260)]=i[t(260)].bind(i),o[r]=n}}))();const T=[Z(280),Z(259)];function H(t,n){const o=D();return(H=function(t,n){return o[t-=215]})(t,n)}const P=h({__name:Z(265),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:Z(222)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(e,{expose:r}){const g=Z,h=e,{renderer:y,scene:v}=i();(new c).coordType=p;const I=new u;I[g(252)]=g(248),I[g(278)]=p;const z=new l;z[g(252)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",z[g(240)]=!1,z.useWorker=!0;const M=new m(I,z);if(M[g(251)]=!1,M[g(218)]=!1,M[g(223)]=!1,M.useStandardMaterial=!1,M.filter={opposite:h.opposite,monochrome:h.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:h.genBright,genContrast:h.genContrast,genSaturation:h.genSaturation},h[g(263)]){let n=new(t[g(271)])(h.monochrome);M[g(281)]&&(M.filter[g(263)]={r:n.r,g:n.g,b:n.b})}const C=new f;C[g(284)]=M,C[g(253)]=h[g(253)],C.maxZoom=h.maxZoom;const _=new(t[g(235)])(60,window.innerWidth/window.innerHeight,1,1e8);_.up=new(t[g(258)])(0,1,0),_[g(277)][g(231)](h[g(239)][0],h.mapCenter[2],-h[g(239)][1]),_.lookAt(new(t[g(258)])(_[g(277)].x,0,_[g(277)].z-2e3)),C[g(219)]=_;let k=null;j((()=>{const o=g;if(y[o(279)]&&!k&&(k=new n(_,y.value[o(241)]),k[o(262)]=!0,k[o(250)]=.05,k[o(227)]=600,k.position0[o(231)](_.position.x,_[o(277)].y,_[o(277)].z),k.target[o(231)](_[o(277)].x,0,_[o(277)].z-2e3)),h[o(273)]&&M[o(281)]&&(M[o(281)][o(273)]=h[o(273)]),h[o(267)]&&M[o(281)]&&(M[o(281)][o(267)]=h[o(267)]),h[o(256)]&&M.filter&&(M[o(281)][o(256)]=h[o(256)]),h.isMonochrome&&h.monochrome&&M[o(281)]){let n=new(t[o(271)])(h[o(263)]);M[o(281)][o(263)]={r:n.r,g:n.g,b:n.b}}})),d((()=>h[g(215)]),(t=>{const n=g;M.filter&&(M[n(281)].opposite=t)})),d((()=>h[g(230)]),(t=>{const n=g;let e=new o(h[n(263)]);M[n(281)]&&(M.filter[n(263)]=t?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:S}=a();return S((()=>{const t=g;if(y[t(279)]){s(),k&&k[t(217)](),C[t(217)]();const n=50*Math.abs(_[t(277)].y);_[t(272)]=n+5e3,_.updateProjectionMatrix(),k.target.y=0,y[t(279)][t(224)](v.value,_)}})),r({camera:_,map:C,orbitControl:k}),(t,n)=>{const o=g;return b(),w(o(264),{object:x(C),rotation:[-Math.PI/2,0,0]},null,8,T)}}});function L(t){function n(t){const o=H;if(typeof t===o(229))return function(t){}.constructor(o(255))[o(276)](o(244));1!==(""+t/t)[o(247)]||t%20==0?function(){return!0}[o(238)]("debu"+o(232)).call(o(216)):function(){return!1}[o(238)](o(254)+o(232))[o(276)](o(242)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const W=V;!function(t,n){const o=V,e=Y();for(;;)try{if(618766===-parseInt(o(155))/1+-parseInt(o(195))/2+parseInt(o(183))/3*(parseInt(o(160))/4)+parseInt(o(166))/5*(parseInt(o(152))/6)+parseInt(o(188))/7*(-parseInt(o(158))/8)+-parseInt(o(185))/9*(-parseInt(o(186))/10)+parseInt(o(146))/11*(parseInt(o(184))/12))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const q=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[V(189)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){q(this,(function(){const t=V,n=new RegExp(t(177)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=N("init");n[t(161)](e+t(170))&&o[t(161)](e+t(147))?N():e("0")}))()}();const F=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[V(189)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function V(t,n){const o=Y();return(V=function(t,n){return o[t-=144]})(t,n)}function Y(){const t=["return (function() ","list","#4688b5","对比度","407DvHrzr","input","call","addBinding","error","action","546gnijDw","饱和度","genSaturation","185619VwLHQE","滤镜颜色","trace","32MCInZW","Vector3","900940YyiYYy","test","while (true) {}","change","highp","xjk","27185kgowvo","length","SRGBColorSpace","单色滤镜","chain","tileMapRef","constructor","tileMap","__proto__","stateObject","牛首山","function *\\( *\\)","monochrome","console","genBright","opposite","string","3BApmtc","307524zAfsXI","715968qikRcg","50zouqip","bind","1039717czWbhn","apply","NoToneMapping","#201919","camera","奥体中心","value","1334904XxPkRV","debu","gger"];return(Y=function(){return t})()}F(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(198)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(179)]=n.console||{},e=["log","warn","info",t(150),"exception","table",t(157)];for(let r=0;r<e[t(167)];r++){const n=F[t(172)].prototype[t(187)](F),s=e[r],i=o[s]||n;n[t(174)]=F.bind(F),n.toString=i.toString.bind(i),o[s]=n}}))();const $=h({__name:W(173),setup(n){const o=W,s=g(118.779958,32.017136),i=[s[0],s[1],5e3],a=y(),c=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(144),mapCenter:i}),p=new r({title:"参数"});p[o(149)](c,o(181),{label:"反色"}),p[o(149)](c,o(180),{label:"高亮",min:.1,max:3,step:.1}),p[o(149)](c,"genContrast",{label:o(145),min:.1,max:3,step:.1}),p[o(149)](c,o(154),{label:o(153),min:.1,max:3,step:.1}),p[o(149)](c,"isMonochrome",{label:o(169)}),p[o(149)](c,o(178),{label:o(156)});const u={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};p.addBlade({view:o(199),label:"飞去",options:[{text:o(193),value:"at"},{text:"新街口",value:o(165)},{text:o(176),value:"nss"}],value:"at"}).on(o(163),(t=>{const n=o,r=new e(u[t[n(194)]][0],2e3,-u[t[n(194)]][1]);R(a[n(194)][n(192)],r,a[n(194)].orbitControl,[0,-300],4e3)}));const l=v({clearColor:o(191),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[o(168)],toneMapping:t[o(190)],precision:o(164)});return setTimeout((()=>{const n=o,e=u.at,r=new(t[n(159)])(e[0],1600,-e[1]);R(a.value[n(192)],r,a[n(194)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=I("TresCanvas");return b(),w(S,null,[z(r,k(l,{"window-size":""}),{default:M((()=>[(b(),C(_,null,{default:M((()=>[z(P,k(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),z(B,{tileMapRef:a[e(194)]},null,8,[e(171)])],64)}}});function N(t){function n(t){const o=V;if(typeof t===o(182))return function(t){}.constructor(o(162))[o(189)]("counter");1!==(""+t/t)[o(167)]||t%20==0?function(){return!0}[o(172)](o(196)+o(197))[o(148)](o(151)):function(){return!1}[o(172)](o(196)+o(197)).apply(o(175)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{$ as default};
