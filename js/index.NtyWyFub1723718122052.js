var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.ckWts3td1723718122052.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.RQfOcHLG1723718122052.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.wera17_o1723718122052.js";import{j as o,U as s,C as l,k as c,W as u,bb as p,h as f,e as x,a6 as v,y as m,V as h,Q as w,M as g,al as d}from"./three.eXhPIzTa1723718122052.js";import{p as y,$ as S}from"./@tresjs.GO-cpSrO1723718122052.js";import{u as P}from"./index.Zx65DVuD1723718122052.js";import{F as _,C as z}from"./three-stdlib.3hvj_pKp1723718122052.js";import{d as b}from"./@vue.Q1VpS3901723718122052.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.seGBa21R1723718122052.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.HlfN1PdL1723718122052.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.-LEtI2xt1723718122052.js";function I(t,e){const n=A();return(I=function(t,e){return n[t-=321]})(t,e)}const E=I;function A(){const t=["788oGcmjL","18328640XqqBrv",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"console","apply","length","return (function() ","counter","error","warn","gger","11601666kJGGEA","12yByroP","constructor","toString","2753616CRwOAj","init","test","2225GSPKwt",'{}.constructor("return this")( )',"4WXGWSd","267140pyEmTO","trace","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2162584xZcqhA","info","chain","4730397FbEKnA","string","__proto__","exception","log","while (true) {}","debu","input"];return(A=function(){return t})()}!function(t,e){const n=I,i=A();for(;;)try{if(827058===parseInt(n(343))/1*(parseInt(n(342))/2)+parseInt(n(337))/3+parseInt(n(322))/4*(-parseInt(n(340))/5)+-parseInt(n(334))/6*(parseInt(n(350))/7)+parseInt(n(347))/8+-parseInt(n(333))/9+parseInt(n(323))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(326)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){M(this,(function(){const t=I,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(346),"i"),i=U(t(338));e.test(i+t(349))&&n[t(339)](i+t(321))?U():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(326)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();D(void 0,(function(){const t=I;let e;try{e=Function(t(328)+t(341)+");")()}catch(r){e=window}const n=e[t(325)]=e[t(325)]||{},i=[t(354),t(331),t(348),t(330),t(353),"table",t(344)];for(let a=0;a<i.length;a++){const e=D[t(335)].prototype.bind(D),r=i[a],o=n[r]||e;e[t(352)]=D[t(345)](D),e[t(336)]=o[t(336)][t(345)](o),n[r]=e}}))();const L=E(324);function U(t){function e(t){const n=I;if(typeof t===n(351))return function(t){}[n(335)](n(355))[n(326)](n(329));1!==(""+t/t)[n(327)]||t%20==0?function(){return!0}[n(335)](n(356)+n(332)).call("action"):function(){return!1}[n(335)](n(356)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function T(t,e){const n=R();return(T=function(t,e){return n[t-=301]})(t,e)}const V=T;!function(t,e){const n=T,i=R();for(;;)try{if(559158===-parseInt(n(322))/1+-parseInt(n(301))/2+-parseInt(n(309))/3*(-parseInt(n(316))/4)+parseInt(n(324))/5*(parseInt(n(337))/6)+parseInt(n(334))/7+parseInt(n(314))/8*(parseInt(n(315))/9)+-parseInt(n(332))/10*(parseInt(n(318))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const j=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){j(this,(function(){const t=T,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(321),"i"),i=N(t(330));e[t(307)](i+t(312))&&n[t(307)](i+t(319))?N():i("0")}))()}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function R(){const t=["call","chain","counter","77768jeACOJ","45oPQHHp","20PqVGTe","while (true) {}","55hmzAtk","input","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","710434JqAvef","warn","72755XxrBof","info","log","length","prototype","defines","init","debu","82540PdUEnv","action","3522064mBLtHN","gger","__proto__","456lKWEeT","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","bind","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","1159132udZrnd","stateObject","clone","uniforms","constructor","apply","test","toString","139677VNRoeE","trace"];return(R=function(){return t})()}function k(t){const e=T,n=a({},t);return e(329)in t&&(n.defines=a({},t.defines)),e(304)in t&&(n[e(304)]=s[e(303)](t[e(304)])),n}O(void 0,(function(){const t=T,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e.console=e.console||{},i=[t(326),t(323),t(325),t(320),"exception","table",t(310)];for(let r=0;r<i[t(327)];r++){const e=O[t(305)][t(328)][t(339)](O),a=i[r],o=n[a]||e;e[t(336)]=O[t(339)](O),e[t(308)]=o.toString.bind(o),n[a]=e}}))();const C={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:V(340)+L+V(338)};function N(t){function e(t){const n=T;if("string"==typeof t)return function(t){}[n(305)](n(317))[n(306)](n(313));1!==(""+t/t)[n(327)]||t%20==0?function(){return!0}.constructor("debu"+n(335))[n(311)](n(333)):function(){return!1}[n(305)](n(331)+n(335))[n(306)](n(302)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const W=F;!function(t,e){const n=F,i=Q();for(;;)try{if(678789===-parseInt(n(207))/1*(-parseInt(n(223))/2)+-parseInt(n(170))/3+-parseInt(n(195))/4+-parseInt(n(225))/5*(parseInt(n(167))/6)+-parseInt(n(182))/7*(parseInt(n(152))/8)+parseInt(n(201))/9+parseInt(n(204))/10*(parseInt(n(181))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(169)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=F,e=new RegExp(t(230)),n=new RegExp(t(199),"i"),i=Z(t(151));e[t(206)](i+t(157))&&n[t(206)](i+t(226))?Z():i("0")}))()}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(169)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function F(t,e){const n=Q();return(F=function(t,e){return n[t-=150]})(t,e)}X(void 0,(function(){const t=F,e=function(){const t=F;let e;try{e=Function(t(179)+t(214)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(194)]||{},i=["log",t(231),t(227),t(171),t(193),t(163),t(220)];for(let r=0;r<i.length;r++){const e=X[t(190)][t(165)][t(221)](X),a=i[r],o=n[a]||e;e[t(164)]=X[t(221)](X),e[t(208)]=o.toString[t(221)](o),n[a]=e}}))();const G=new l;class Y{constructor(t){const e=F;!t&&(t=e(162));const n=k(C);n[e(232)]=n.fragmentShader[e(159)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(k(n)),i[0][e(187)].X_IS_EVEN=0,i[0][e(187)][e(222)]=0,i[1]=new c(k(n)),i[1][e(187)].X_IS_EVEN=1,i[1].defines.Y_IS_EVEN=0,i[2]=new c(k(n)),i[2].defines[e(172)]=0,i[2][e(187)][e(222)]=1,i[3]=new c(k(n)),i[3][e(187)][e(172)]=1,i[3][e(187)].Y_IS_EVEN=1;const r=new u;r.texture[e(211)]=p,r[e(212)][e(173)]=p,this._swapTarget=r,this[e(185)]=new _(new c(z)),this[e(219)]=new _(null),this[e(188)]=i}update(t,e,n,i=!1){const r=F;t[r(196)]&&(t=t[r(212)]);const o=n[r(150)],s=n[r(168)](),l=n.getRenderTarget();n[r(158)](G);const c=this._copyQuad,u=this[r(219)],p=this._swapTarget,x=this[r(188)];let v,m;i?(v=f[r(186)](t[r(184)][r(175)]),m=f[r(186)](t[r(184)][r(200)])):(v=Math[r(228)](t[r(184)].width),m=Math[r(228)](t[r(184)].height));const h=Math.floor(1.5*v),w=Math[r(228)](m);e[r(217)](h,w),p.texture[r(180)]!==e[r(212)][r(180)]?(p[r(209)](),p[r(156)](e),p.texture[r(184)]=a({},p[r(212)].image)):p.setSize(h,w),n[r(150)]=!1,n[r(154)](0),n[r(166)](),c.material[r(155)][r(160)].value=t,c[r(224)][r(189)](v,m,0,0,h,w),n[r(192)](e),n.clear(),c[r(191)](n),n.setRenderTarget(p),n[r(174)](),c.render(n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(155)][r(213)][r(218)]=p[r(212)],t[r(155)].parentLevel[r(218)]=y,t.uniforms[r(229)][r(218)][r(202)](g,d),t.uniforms[r(161)][r(218)][r(202)](v,m),u[r(215)]=t,g=Math[r(228)](g/2),d=Math[r(228)](d/2);const i=w-2*d;n[r(192)](e),u.camera[r(189)](g,d,-v,-i,h,w),u[r(191)](n),n[r(192)](p),t[r(155)].map[r(218)]=e[r(212)],u[r(191)](n),y++}return n[r(192)](l),n[r(166)](s),n[r(154)](G),n.autoClear=o,y+1}[W(209)](){const t=W;this[t(176)][t(209)](),this[t(219)][t(209)](),this[t(185)][t(209)](),this[t(188)][t(198)]((e=>e[t(209)]()))}}function Z(t){function e(t){const n=F;if(typeof t===n(205))return function(t){}[n(190)](n(216)).apply(n(197));1!==(""+t/t)[n(210)]||t%20==0?function(){return!0}[n(190)](n(153)+"gger")[n(178)](n(183)):function(){return!1}.constructor(n(153)+n(203))[n(169)](n(177)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function Q(){const t=["bind","Y_IS_EVEN","1246zNyEKY","camera","1315EUrqzd","input","info","floor","parentMapSize","function *\\( *\\)","warn","fragmentShader","autoClear","init","11584rghqVt","debu","setClearColor","uniforms","copy","chain","getClearColor","replace","tDiffuse","originalMapSize","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","table","__proto__","prototype","setClearAlpha","8700WqCkoL","getClearAlpha","apply","3291336uiQDUE","error","X_IS_EVEN","magFilter","clear","width","_swapTarget","stateObject","call","return (function() ","type","1342NDZibU","3066whhRRk","action","image","_copyQuad","floorPowerOfTwo","defines","_mipMaterials","setViewOffset","constructor","render","setRenderTarget","exception","console","882616wrSPaz","isWebGLRenderTarget","counter","forEach","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","height","4262112Kpwyir","set","gger","150630VuADhz","string","test","1125AMndtD","toString","dispose","length","minFilter","texture","map",'{}.constructor("return this")( )',"material","while (true) {}","setSize","value","_mipQuad","trace"];return(Q=function(){return t})()}const $=J;function B(){const t=["3BUdnlN","constructor","5095giHuoi","reflect","4830752iSQFGX","warn","setRenderTarget","toString","test","UnsignedByteType","debu","log","matrixWorld","459764OXRcWT","parent","getWorldPosition","setMask","depth","clone","while (true) {}","init","trace","PerspectiveCamera","string","18DfCwUD","autoClear","51230Xmlhwp","render","34162LxrzBG","forEach","55TyshxL","position","copy","487769TuXlhx","projectPoint","console","gger","Quaternion","function *\\( *\\)",'{}.constructor("return this")( )',"applyMatrix4","buffers","normal","getWorldQuaternion","state","Vector3","ignoreObjects","multiplyScalar","reflectorMipMap","projectionMatrix","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","constant","texture","matrixWorldInverse","chain","call","counter","length","update","bind","prototype","lookAt","sign","Matrix4","negate","error","multiply","updateMatrixWorld","set","resolution","7AxPdwf","table","elements","apply","return (function() ","692586BYHlAW","value","info"];return(B=function(){return t})()}!function(t,e){const n=J,i=B();for(;;)try{if(313447===-parseInt(n(152))/1+-parseInt(n(147))/2+-parseInt(n(198))/3*(-parseInt(n(211))/4)+parseInt(n(200))/5*(-parseInt(n(143))/6)+-parseInt(n(190))/7*(-parseInt(n(202))/8)+parseInt(n(195))/9+-parseInt(n(145))/10*(-parseInt(n(149))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[J(193)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){const t=J,e=new RegExp(t(157)),n=new RegExp(t(169),"i"),i=et(t(139));e[t(206)](i+t(174))&&n[t(206)](i+"input")?et():i("0")}))()}();const K=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[J(193)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(t,e){const n=B();return(J=function(t,e){return n[t-=138]})(t,e)}K(void 0,(function(){const t=J,e=function(){const t=J;let e;try{e=Function(t(194)+t(158)+");")()}catch(n){e=window}return e}(),n=e[t(154)]=e[t(154)]||{},i=[t(209),t(203),t(197),t(185),t(170),t(191),t(140)];for(let r=0;r<i[t(177)];r++){const e=K[t(199)][t(180)][t(179)](K),a=i[r],o=n[a]||e;e.__proto__=K[t(179)](K),e[t(205)]=o[t(205)].bind(o),n[a]=e}}))();const tt=b({__name:$(167),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=$,i=t,r=new x,a=new(v[n(183)]),o=new(v[n(141)]),s=new Y,l=P({width:i[n(189)],height:i[n(189)],settings:{type:v[n(207)]}}),c=P({width:i[n(189)],height:i[n(189)],settings:{type:m}}),{camera:u,renderer:p,scene:f}=y(),{onBeforeLoop:_}=S();return _((()=>{const t=n;(()=>{const t=n;if(!u[t(196)])return;r[t(188)](new(v[t(164)])(0,1,0),0),r[t(159)](i[t(212)][t(210)]),o[t(151)](u[t(196)]);const e=new(v[t(164)])(0,0,1)[t(216)]().negate(),s=u.value.getWorldPosition(new(v[t(164)]));e.reflect(r[t(161)]);const c=new(v[t(164)]);r[t(153)](s,c);const x=c[t(216)]();x.sub(s),x.add(c),o[t(150)].copy(x);const m=new h(0,0,-1);m.applyQuaternion(u[t(196)][t(162)](new w)),m.add(s);const y=new(v[t(164)]);i[t(212)][t(213)](y),y.sub(m),y[t(201)](r[t(161)])[t(184)](),y.add(i[t(212)][t(213)](new(v[t(164)]))),o.up[t(188)](0,1,0),o.applyQuaternion(u[t(196)].getWorldQuaternion(new(v[t(156)]))),o.up.reflect(r[t(161)]),o[t(181)](y),o[t(187)]();const S=new g;S[t(188)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S[t(186)](o[t(168)]),S[t(186)](o[t(173)]),a.copy(S),r.applyMatrix4(o[t(173)]);const P=new d(r[t(161)].x,r[t(161)].y,r[t(161)].z,r[t(171)]),_=o[t(168)],z=new d;z.x=(Math[t(182)](P.x)+_[t(192)][8])/_[t(192)][0],z.y=(Math[t(182)](P.y)+_.elements[9])/_[t(192)][5],z.z=-1,z.w=(1+_[t(192)][10])/_[t(192)][14],P[t(166)](2/P.dot(z)),_[t(192)][2]=P.x,_[t(192)][6]=P.y,_[t(192)][10]=P.z+1,_[t(192)][14]=P.w;const b=p[t(196)].getRenderTarget();p[t(196)][t(204)](l.value),p[t(196)][t(163)][t(160)][t(215)][t(214)](!0),!1===p[t(196)][t(144)]&&p[t(196)].clear(),i[t(165)].forEach((t=>t.visible=!1)),p.value[t(146)](f.value,o),i[t(165)][t(148)]((t=>t.visible=!0)),p[t(196)].setRenderTarget(b)})(),l[t(196)]&&c.value&&p[t(196)]&&s[t(178)](l[t(196)][t(172)],c[t(196)],p[t(196)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function et(t){function e(t){const n=J;if(typeof t===n(142))return function(t){}[n(199)](n(138))[n(193)](n(176));1!==(""+t/t).length||t%20==0?function(){return!0}[n(199)](n(208)+"gger")[n(175)]("action"):function(){return!1}[n(199)](n(208)+n(155)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=at,i=rt();;)try{if(625486===parseInt(n(221))/1*(parseInt(n(217))/2)+-parseInt(n(206))/3+-parseInt(n(199))/4+-parseInt(n(224))/5+parseInt(n(218))/6+parseInt(n(194))/7+-parseInt(n(223))/8*(-parseInt(n(208))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[at(219)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){nt(this,(function(){var t=at,e=new RegExp(t(205)),n=new RegExp(t(187),"i"),i=ot(t(204));e[t(216)](i+"chain")&&n.test(i+t(203))?ot():i("0")}))()}();var it=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[at(219)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function rt(){var t=["input","init","function *\\( *\\)","2613132MSnpIR","string","9gzBwjK","debu","exception","toString","length","trace","table","stateObject","test","4vCkxUd","2027016pfmYuw","apply","while (true) {}","254666raCkRi","return (function() ","12351352NlYVYC","1266850ORjnPJ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger",'{}.constructor("return this")( )',"counter","action","prototype","constructor","3401734muSLma","bind","__proto__","call","console","4508596FDOxPM","warn","log","error"];return(rt=function(){return t})()}function at(t,e){var n=rt();return(at=function(t,e){return n[t-=187]})(t,e)}function ot(t){function e(t){var n=at;if(typeof t===n(207))return function(t){}[n(193)](n(220))[n(219)](n(190));1!==(""+t/t)[n(212)]||t%20==0?function(){return!0}.constructor(n(209)+n(188))[n(197)](n(191)):function(){return!1}[n(193)](n(209)+n(188))[n(219)](n(215)),e(++t)}try{if(t)return e;e(0)}catch(n){}}it(void 0,(function(){for(var t=at,e=function(){var t,e=at;try{t=Function(e(222)+e(189)+");")()}catch(n){t=window}return t}(),n=e[t(198)]=e.console||{},i=[t(201),t(200),"info",t(202),t(210),t(214),t(213)],r=0;r<i[t(212)];r++){var a=it[t(193)][t(192)][t(195)](it),o=i[r],s=n[o]||a;a[t(196)]=it[t(195)](it),a[t(211)]=s.toString[t(195)](s),n[o]=a}}))();export{tt as _};
