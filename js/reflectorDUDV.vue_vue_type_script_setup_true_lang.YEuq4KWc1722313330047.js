import{b_ as t,a0 as n,q as e,r}from"./three.0L1oP_mX1722313330047.js";import{N as o}from"./@tresjs.Q03Md-En1722313330047.js";import{R as s,b as i}from"./all.three.yWNOIDhs1722313330047.js";import{d as c,a4 as u,a1 as a,w as f,o as l,D as p,J as h,u as d}from"./@vue.Q1VpS3901722313330047.js";function w(t,n){const e=v();return(w=function(t,n){return e[t-=167]})(t,n)}const g=w;!function(t,n){const e=w,r=v();for(;;)try{if(434369===-parseInt(e(178))/1*(-parseInt(e(181))/2)+-parseInt(e(177))/3+parseInt(e(213))/4+-parseInt(e(203))/5*(-parseInt(e(225))/6)+-parseInt(e(206))/7*(parseInt(e(184))/8)+-parseInt(e(204))/9+-parseInt(e(190))/10*(-parseInt(e(188))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(222)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=w,n=new RegExp(t(211)),e=new RegExp(t(187),"i"),r=_(t(185));n[t(200)](r+"chain")&&e[t(200)](r+t(180))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function v(){const t=["size","prototype","constructor","2166741NTPuxJ","102013qQDQYw","primitive","input","2DVKxgr","uniforms","reflectorDUDV","152GvYRwF","init","ignoreObjects","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","16489sBZqBo","action","5860KuWABM","wrapT","texture","debu","__proto__","toString","counter","add","uMatrix","gger","test","visible","trace","588560CSuBHF","472689TtwTes","tReflect","203126EuxMGO","repeat","value","console","TresGroup","function *\\( *\\)","tReflectBlur","2178512FAPyEg","bind","log","showGridHelper","return (function() ","call","set","isMesh","stateObject","apply","while (true) {}","reflectivity","12nFBLUp","object","warn","renderTarget","onBeforeRender","rotation","info","textureMatrixUniform","error"];return(v=function(){return t})()}m(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(217)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(209)]=n[t(209)]||{},r=[t(215),t(167),t(171),t(173),"exception","table",t(202)];for(let o=0;o<r.length;o++){const n=m[t(176)][t(175)][t(214)](m),s=r[o],i=e[s]||n;n[t(194)]=m.bind(m),n[t(195)]=i[t(195)][t(214)](i),e[s]=n}}))();const y=["scale"],j=[g(226)],x=[g(226)],I=c({__name:g(183),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:b}){const m=g;let v,I;const _=c,B=new s,R=new t(_[m(174)][0]-.5,_[m(174)][1]);R.visible=_[m(216)];const{map:M}=([v,I]=u((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),v=await v,I(),v);M.wrapS=n,M[m(191)]=n,M[m(207)][m(219)](6,3);const T=new i({map:M,reflectivity:_[m(224)]});T[m(182)][m(205)]={value:B[m(168)][m(192)]},T.uniforms[m(212)]=B.renderTargetUniform,T[m(182)][m(198)]=B[m(172)];const E=new e(new r(_[m(174)][0],_[m(174)][1]),T);return E[m(170)].x=-Math.PI/2,E[m(197)](B),E[m(169)]=(t,n,e)=>{const r=m;E.visible=!1,_.ignoreObjects.forEach((t=>{const n=w;t[n(220)]&&(t[n(201)]=!1),t[n(208)]&&t.value.isMesh&&(t[n(208)][n(201)]=!1)})),B.update(t,n,e),_[r(186)].forEach((t=>{const n=r;t[n(220)]&&(t[n(201)]=!0),t[n(208)]&&t[n(208)][n(220)]&&(t.value[n(201)]=!0)})),E.visible=!0},a((()=>{const t=m;_[t(224)]&&(T[t(182)].uReflectivity[t(208)]=_[t(224)])})),f((()=>_.showGridHelper),(t=>{R[m(201)]=t})),b({reflector:B}),(t,n)=>{const e=m;return l(),p(e(210),{scale:_.scale},[h(e(179),{object:d(E),"position-y":-.01},null,8,j),h(e(179),{object:d(R)},null,8,x)],8,y)}}});function _(t){function n(t){const e=w;if("string"==typeof t)return function(t){}[e(176)](e(223)).apply(e(196));1!==(""+t/t).length||t%20==0?function(){return!0}[e(176)](e(193)+e(199))[e(218)](e(189)):function(){return!1}.constructor(e(193)+e(199))[e(222)](e(221)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
