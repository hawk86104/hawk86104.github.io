import{p as t,$ as n,W as e,d as r}from"./@tresjs.2JnKj_Yj1724070319978.js";import{_ as o}from"./index.U1MpXvu-1724070319978.js";import{a as s}from"./index.CwiXkxnG1724070319978.js";import{a5 as i,a6 as c,a as u,B as a,cy as l}from"./three.QUrV0R7c1724070319978.js";import{P as p}from"./tweakpane.yHWGBmom1724070319978.js";import{I as f,C as m,N as g,c as h,d,a as y}from"./three-mesh-bvh.4DLdRpxs1724070319978.js";import{d as w,a4 as j,b as I,a1 as b,o as v,D as _,J as x,u as M,F as A,r as T,e as Z,j as z,g as C,m as O,f as S,al as X}from"./@vue.Q1VpS3901724070319978.js";import"./@vueuse.2Yfo77CO1724070319978.js";import"./index.ZDhOvl2-1724070319978.js";import"./@fesjs.fxXnq-gV1724070319978.js";import"./vue-router.7GyIEHku1724070319978.js";import"./lodash-es.nFpJXAf-1724070319978.js";import"./@qlin.yHhFDldE1724070319978.js";import"./pinia.yc2Sjh9i1724070319978.js";import"./@floating-ui.BPbuo5Gx1724070319978.js";import"./@juggle.7yjBMqoW1724070319978.js";import"./chalk.sAH7iSuz1724070319978.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1724070319978.js";import"./@iconify.9PoCakEb1724070319978.js";import"./utils.Jw7jttt31724070319978.js";import"./default.vue_vue_type_script_setup_true_lang.JWkBbQil1724070319978.js";import"./three-mesh-ui.module.3K99h9w01724070319978.js";import"./three-stdlib.xC_Fy68c1724070319978.js";import"./@pmndrs.vVECOsOu1724070319978.js";import"./object-hash.-UynEDWH1724070319978.js";import"./@amap.PfcO2up21724070319978.js";import"./jszip.ZVB-p0R-1724070319978.js";!function(t,n){const e=R,r=B();for(;;)try{if(724633===parseInt(e(525))/1*(parseInt(e(499))/2)+parseInt(e(523))/3*(parseInt(e(516))/4)+parseInt(e(521))/5*(parseInt(e(498))/6)+-parseInt(e(524))/7*(parseInt(e(519))/8)+parseInt(e(513))/9+parseInt(e(492))/10*(-parseInt(e(497))/11)+-parseInt(e(514))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(491)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){k(this,(function(){const t=R,n=new RegExp(t(502)),e=new RegExp(t(509),"i"),r=F(t(503));n.test(r+t(500))&&e[t(518)](r+t(476))?F():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(491)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(){const t=["551115amHgnM","5112252OsLuzm","while (true) {}","4lTKmiV","addEventListener","test","154312qwZHzs","enabled","2750410IkwZwl","counter","3662067IdSymW","49AJTANJ","274VshFgL","value","input","__proto__","innerHeight","intersectObject","log","touch","action","toString","length","gger","debu","console","pointerup","innerWidth","button","apply","12044770DGtOUA","stateObject","setFromCamera","info",'{}.constructor("return this")( )',"11HZNWXO","6NFJXPU","4804WROUDE","chain","prototype","function *\\( *\\)","init","pointerdown","pointermove","bind","clientY","pointerType","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","clientX","constructor","exception"];return(B=function(){return t})()}function R(t,n){const e=B();return(R=function(t,n){return e[t-=475]})(t,n)}E(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function("return (function() "+t(496)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(487)]||{},r=[t(480),"warn",t(495),"error",t(512),"table","trace"];for(let o=0;o<r.length;o++){const n=E[t(511)][t(501)][t(506)](E),s=r[o],i=e[s]||n;n[t(477)]=E[t(506)](E),n[t(483)]=i[t(483)][t(506)](i),e[s]=n}}))();function F(t){function n(t){const e=R;if("string"==typeof t)return function(t){}[e(511)](e(515))[e(491)](e(522));1!==(""+t/t)[e(484)]||t%20==0?function(){return!0}[e(511)]("debu"+e(485)).call(e(482)):function(){return!1}[e(511)](e(486)+"gger").apply(e(493)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=G;!function(t,n){const e=G,r=$();for(;;)try{if(451194===parseInt(e(426))/1*(parseInt(e(414))/2)+parseInt(e(462))/3*(-parseInt(e(470))/4)+-parseInt(e(481))/5*(-parseInt(e(452))/6)+parseInt(e(424))/7*(-parseInt(e(455))/8)+-parseInt(e(441))/9+parseInt(e(410))/10+-parseInt(e(442))/11*(-parseInt(e(428))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(425)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(t,n){const e=$();return(G=function(t,n){return e[t-=407]})(t,n)}!function(){W(this,(function(){const t=G,n=new RegExp(t(447)),e=new RegExp(t(435),"i"),r=N(t(454));n[t(467)](r+t(443))&&e[t(467)](r+t(412))?N():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(425)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();V(void 0,(function(){const t=G;let n;try{n=Function(t(500)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(484)]=n.console||{},r=[t(418),"warn",t(411),"error",t(457),t(448),t(407)];for(let s=0;s<r[t(475)];s++){const n=V.constructor[t(498)][t(474)](V),o=r[s],i=e[o]||n;n[t(493)]=V[t(474)](V),n[t(423)]=i[t(423)][t(474)](i),e[o]=n}}))();const U=[L(491),L(431)],Y=[x(L(477),{args:[1,40,40]},null,-1),x("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],D=[L(491)],H=[x("TresMeshStandardMaterial",{color:L(473),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function $(){const t=["6030570zCpCuI","info","input","setY","2omVoqm","getZ","setAttribute","setZ","log","value","targetMesh","controls","point","toString","353381pKVhnG","apply","264338orImGZ","addButton","16156212XoEAtn","setFromCamera","color","material","invert","DynamicDrawUsage","BufferGeometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","attributes","enabled","constructor","Sphere","3394782MEftGZ","11tldZuQ","chain","gger","生成模型","targetMesh.value init","function *\\( *\\)","table","BufferAttribute","disposeBoundsTree","click","400104tCBTbB","setScalar","init","104LcQejn","brushMesh","exception","shapecast","push","containsPoint","MeshStandardMaterial","862443LKRXUa","string","computeBoundsTree","debu","index","test","Vector2","position","12rXDdtj","needsUpdate","Mesh","#023249","bind","length","count","TresSphereGeometry","getX","scale","intersectsSphere","10rCXLMz","Matrix4","normal","console","intersectObject","TresMesh","boundsTree","Vector3","stateObject","getY","geometry","copy","__proto__","intersectsBox","firstHitOnly","setUsage","while (true) {}","prototype","matrixWorld","return (function() ","trace","visible","model"];return($=function(){return t})()}const J=w({__name:L(409),props:{controls:{}},async setup(r){const o=L;let s,w;const T=r;(()=>{const t=G;a[t(498)][t(464)]=h,c[t(434)][t(498)][t(450)]=d,c[t(472)][t(498)].raycast=y})();const Z=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),z=new(c[o(461)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),C=new Uint8Array(3*Z[o(437)][o(469)][o(476)]);C.fill(255);const O=new(c[o(449)])(C,3,!0);O[o(496)](c[o(433)]),Z.setAttribute(o(430),O);const S=I(null),X=I(null),k=I(!1),E=I(-1),B=I(.2),F=new(c[o(468)]),{camera:W,raycaster:V}=t(),$=15/255,J=78/255,N=85/255;let K=null;b((()=>{const t=o;S.value&&(console[t(418)](t(446),S[t(419)]),S.value.geometry.computeBoundsTree(),K=Z[t(487)],((t,n,e,r,o,s)=>{const c=R;window[c(517)](c(505),(e=>{const r=c;t.x=e[r(510)]/window[r(489)]*2-1,t.y=-e.clientY/window[r(478)]*2+1,n[r(475)]=!0})),window[c(517)](c(504),(u=>{const a=c;t.x=u[a(510)]/window.innerWidth*2-1,t.y=-u[a(507)]/window[a(478)]*2+1,r[a(475)]=u[a(490)];const l=new i;l[a(494)](t,e.value),l.firstHitOnly=!0;const p=l[a(479)](o[a(475)],!0);n[a(475)]=!0,s[a(520)]=0===p[a(484)]}),!0),window[c(517)](c(488),(t=>{const e=c;r[e(475)]=-1,t[e(508)]===e(481)&&(n[e(475)]=!1)}),!0)})(F,k,W,E,S,T[t(421)][t(419)]))}));const{onLoop:q}=n();q((()=>{const t=o,n=Z[t(466)];if(X[t(419)])if(T[t(421)][t(419)].active||!k.value)X[t(419)][t(408)]=!1;else{X[t(419)][t(479)][t(453)](B[t(419)]),V[t(419)][t(429)](F,W.value),V[t(419)][t(495)]=!0;const e=V.value[t(485)](S[t(419)],!0);if(e[t(475)]){X[t(419)][t(469)][t(492)](e[0][t(422)]),T.controls[t(419)][t(438)]=!1,X[t(419)].visible=!0;const r=new(c[t(482)]);r[t(492)](S[t(419)][t(499)])[t(432)]();const o=new(c[t(440)]);o.center[t(492)](X.value.position).applyMatrix4(r),o.radius=100*B[t(419)];const s=[],i=new(c[t(488)]);if(null==K||K[t(458)]({intersectsBounds:n=>{const e=t,r=o[e(494)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i.set(0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(460)](i))return f;return m}return r?f:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(480)](o)){const t=3*e;s[i(459)](t,t+1,t+2)}return!1}}),0===E.value||2===E.value){let e=1,r=1,o=1;0===E[t(419)]&&(e=$,r=J,o=N);for(let i=0,c=s[t(475)];i<c;i++){const c=n.getX(s[i]);O.setX(c,e),O[t(413)](c,r),O[t(417)](c,o)}O[t(471)]=!0}}else X[t(419)][t(408)]=!1,T[t(421)][t(419)][t(438)]=!0}}));const P=(new p)[o(427)]({title:"点击按钮",label:o(445)}),Q=new(c[o(434)]);return P.on(o(451),(()=>{const t=o,n=[],e=[];for(let o=0;o<O[t(476)];o++)O[t(478)](o)===$&&O.getY(o)===J&&O[t(415)](o)===N&&(n[t(459)](Z[t(437)][t(469)][t(478)](o),Z[t(437)][t(469)][t(490)](o),Z[t(437)][t(469)].getZ(o)),e[t(459)](Z.attributes[t(483)][t(478)](o),Z[t(437)].normal[t(490)](o),Z.attributes[t(483)][t(415)](o)));const r=new Float32Array(n);Q[t(416)](t(469),new(c[t(449)])(r,3)),Q[t(416)](t(483),new u(r,3))})),(t,n)=>{const e=o;return v(),_(A,null,[x(e(486),{ref_key:e(420),ref:S,geometry:M(Z),scale:.005,material:M(z)},null,8,U),x(e(486),{ref_key:e(456),ref:X,visible:!1},Y,512),x(e(486),{geometry:M(Q),position:[-2,-2,2],scale:.005},H,8,D)],64)}}});function N(t){function n(t){const e=G;if(typeof t===e(463))return function(t){}[e(439)](e(497))[e(425)]("counter");1!==(""+t/t)[e(475)]||t%20==0?function(){return!0}[e(439)](e(465)+e(444)).call(e(436)):function(){return!1}[e(439)](e(465)+"gger")[e(425)](e(489)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=Q;!function(t,n){const e=Q,r=tt();for(;;)try{if(641583===parseInt(e(372))/1*(-parseInt(e(400))/2)+parseInt(e(357))/3*(-parseInt(e(368))/4)+parseInt(e(378))/5*(parseInt(e(392))/6)+parseInt(e(362))/7+parseInt(e(398))/8*(parseInt(e(395))/9)+-parseInt(e(391))/10*(-parseInt(e(386))/11)+-parseInt(e(393))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){const t=Q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(380),"i"),r=ot(t(359));n[t(364)](r+t(396))&&e[t(364)](r+t(381))?ot():r("0")}))()}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(365)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(t,n){const e=tt();return(Q=function(t,n){return e[t-=355]})(t,n)}function tt(){const t=["3927679NmmQSA","length","test","apply","pos-x.jpg","return (function() ","4FIpErL","controls","pos-y.jpg","prototype","799wWXOgg","TresCanvas","info","neg-x.jpg","trace","controlsRef","5ZZxDbo","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","pos-z.jpg","counter","constructor","while (true) {}","6587999GOXYhR","TresPerspectiveCamera","neg-y.jpg","debu","value","10KEdxVy","6847938nsaEtL","33162744GnMyjv","exception","5264667NxVvJW","chain","bind","16SXCHYn","neg-z.jpg","126vMKGWm","table","string","gger","47319Miieta",'{}.constructor("return this")( )',"init","error","__proto__"];return(tt=function(){return t})()}P(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(367)+t(358)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(379)]||{},r=["log","warn",t(374),t(360),t(394),t(401),t(376)];for(let o=0;o<r.length;o++){const n=P.constructor[t(371)][t(397)](P),s=r[o],i=e[s]||n;n[t(361)]=P[t(397)](P),n.toString=i.toString[t(397)](i),e[s]=n}}))();const nt=x(K(387),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),et=x("TresAmbientLight",{intensity:1},null,-1),rt=w({__name:"collectTriangles",setup(t){const n=T({clearColor:"#999999",antialias:!0}),e=T({autoRotate:!1}),i=I(null);return(t,c)=>{const u=Q,a=Z(u(373));return v(),_(A,null,[z(M(o)),z(a,O(n,{"window-size":""}),{default:C((()=>[nt,z(M(r),O({ref_key:u(377),ref:i},e),null,16),et,(v(),S(X,null,{default:C((()=>[z(J,{controls:i[u(390)]},null,8,[u(369)])])),_:1})),(v(),S(X,null,{default:C((()=>[z(M(s),{background:!1,files:[u(366),u(375),u(370),u(388),u(382),u(399)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=Q;if(typeof t===e(355))return function(t){}[e(384)](e(385)).apply(e(383));1!==(""+t/t)[e(363)]||t%20==0?function(){return!0}.constructor(e(389)+e(356)).call("action"):function(){return!1}[e(384)](e(389)+e(356))[e(365)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
