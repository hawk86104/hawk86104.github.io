import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{P as a}from"./tweakpane.CqZAnw7f1767066396612.js";import{_ as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.BYHBnewB1767066396612.js";import{n as o,F as d,_ as n}from"./@tresjs.B1f7s3pS1767066396612.js";import{C as s,a as l}from"./@pmndrs.Dko8Ps5C1767066396612.js";const{defineComponent:i}=await e("vue"),{openBlock:r,createElementBlock:u,createCommentVNode:m}=await e("vue"),p=["object"],{watch:f,watchEffect:c,ref:g,toRaw:w}=await e("vue"),v=await e("three"),b=i({__name:"cloudsMesh",props:{color:{default:"#ffffff"},segments:{default:20},volume:{default:6},opacity:{default:1},seed:{default:0},fade:{default:10},growth:{default:4},speed:{default:0},bounds:{default:{x:5,y:1,z:1}}},setup(e){const a=e,{state:t}=o("./plugins/digitalCity/image/cloud.png"),i=g(null),b=new s({color:new v.Color(a.color)}),x=new s({color:new v.Color("pink")});x.position.set(20,0,10);const{camera:y}=d(),{onBeforeRender:h}=n();return h(({delta:e,elapsed:a})=>{i.value?.update(y.value,a,e)}),f(()=>t.value,e=>{i.value=new l({texture:e}),i.value.add(b),i.value.add(x)}),f(()=>a.color,e=>{b.color.set(e)}),c(()=>{a.segments&&(b.segments=a.segments),a.volume&&(b.volume=a.volume),a.opacity&&(b.opacity=a.opacity),a.seed&&(b.seed=a.seed),a.fade&&(b.fade=a.fade),a.growth&&(b.growth=a.growth),a.speed&&(b.speed=a.speed),a.bounds&&(b.bounds.x=a.bounds.x,b.bounds.y=a.bounds.y,b.bounds.z=a.bounds.z),b.updateCloud()}),(e,a)=>i.value?(r(),u("primitive",{key:0,object:w(i.value),renderOrder:3e3},null,8,p)):m("",!0)}}),{defineComponent:x}=await e("vue"),{createElementVNode:y,mergeProps:h,createVNode:B,withCtx:_,openBlock:C,createBlock:j}=await e("vue"),{reactive:k}=await e("vue"),z=x({__name:"clouds2",setup(e){const o=k({color:"#ffffff",segments:20,volume:6,opacity:1,seed:0,fade:10,growth:4,speed:0,bounds:{x:5,y:1,z:1}}),d=new a({title:"云彩效果",expanded:!0});return d.addBinding(o,"color",{label:"颜色"}),d.addBinding(o,"seed",{label:"seed",min:0,max:100,step:.1}),d.addBinding(o,"segments",{label:"segments",min:1,max:80,step:.1}),d.addBinding(o,"volume",{label:"volume",min:0,max:100,step:.1}),d.addBinding(o,"opacity",{label:"opacity",min:0,max:1,step:.01}),d.addBinding(o,"fade",{label:"fade",min:0,max:4e3,step:10}),d.addBinding(o,"growth",{label:"growth",min:0,max:20,step:.1}),d.addBinding(o,"speed",{label:"speed",min:0,max:1,step:.01}),d.addBinding(o,"bounds",{x:{min:0,max:25},y:{min:0,max:25},z:{min:0,max:25}}),(e,a)=>(C(),j(t,null,{ability:_(()=>[a[0]||(a[0]=y("TresDirectionalLight",{position:[200,100,0],intensity:1.5,color:"#ffffff"},null,-1)),B(b,h({position:[10,200,0],scale:20},o),null,16)]),_:1}))}});export{z as default};
