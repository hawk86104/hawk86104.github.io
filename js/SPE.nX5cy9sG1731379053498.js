import{_ as t,cm as e,X as i,bI as n,V as s,as as o,C as r,h as a,k as c,B as h,b as l}from"./three.bXjbKLxC1731379053498.js";const u=g;!function(t,e){const i=g,n=y();for(;;)try{if(685047===parseInt(i(572))/1+parseInt(i(445))/2*(parseInt(i(470))/3)+-parseInt(i(245))/4+-parseInt(i(448))/5+parseInt(i(379))/6*(-parseInt(i(439))/7)+-parseInt(i(209))/8*(-parseInt(i(210))/9)+-parseInt(i(502))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[g(248)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){f(this,(function(){const t=g,e=new RegExp(t(310)),i=new RegExp(t(368),"i"),n=v(t(480));e.test(n+t(491))&&i[t(434)](n+t(359))?v():n("0")}))()}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[g(248)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();p(void 0,(function(){const t=g;let e;try{e=Function(t(583)+t(206)+");")()}catch(s){e=window}const i=e[t(603)]=e.console||{},n=[t(602),t(474),t(578),t(363),"exception","table",t(417)];for(let o=0;o<n[t(277)];o++){const e=p.constructor[t(512)][t(476)](p),s=n[o],r=i[s]||e;e[t(301)]=p.bind(p),e.toString=r[t(428)][t(476)](r),i[s]=e}}))();const d={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===u(409)&&define[u(469)]?define(u(191),d):typeof exports!==u(270)&&typeof module!==u(270)&&(module[u(493)]=d),d.TypedArrayHelper=function(t,e,i,n){const s=u;this[s(267)]=i||1,this[s(234)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(482)]=new t(e*this[s(267)]),this[s(251)]=n||0},d[u(510)][u(423)]=d[u(510)],d.TypedArrayHelper[u(512)][u(231)]=function(t,e){const i=u,n=this[i(482)].length;return!e&&(t*=this[i(267)]),t<n?this[i(353)](t):t>n?this[i(556)](t):void console[i(578)]("TypedArray is already of size:",t+".",i(528))},d[u(510)][u(512)][u(353)]=function(t){const e=u;return this[e(482)]=this[e(482)][e(323)](0,t),this.size=t,this},d.TypedArrayHelper.prototype.grow=function(t){const e=u,i=this[e(482)],n=new(this[e(390)])(t);return n.set(i),this[e(482)]=n,this.size=t,this},d.TypedArrayHelper[u(512)].splice=function(t,e){const i=u;t*=this.componentSize,e*=this[i(267)];const n=[],s=this.array,o=s[i(277)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(413)](s[r]);return this[i(275)](0,n),this},d[u(510)][u(512)][u(275)]=function(t,e){const i=u,n=t+e[i(277)];return n>this[i(482)].length?this.grow(n):n<this[i(482)].length&&this.shrink(n),this[i(482)][i(399)](e,this[i(251)]+t),this},d[u(510)][u(512)][u(526)]=function(t,e){return this[u(495)](t,e.x,e.y)},d[u(510)][u(512)][u(495)]=function(t,e,i){const n=u,s=this.array,o=this[n(251)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},d[u(510)].prototype[u(624)]=function(t,e){return this[u(226)](t,e.x,e.y,e.z)},d[u(510)][u(512)][u(226)]=function(t,e,i,n){const s=u,o=this[s(482)],r=this[s(251)]+t*this[s(267)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},d[u(510)][u(512)][u(410)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},d[u(510)][u(512)][u(358)]=function(t,e,i,n,s){const o=u,r=this[o(482)],a=this.indexOffset+t*this[o(267)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},d[u(510)][u(512)][u(265)]=function(t,e){const i=u;return this.setFromArray(this[i(251)]+t*this[i(267)],e.elements)},d.TypedArrayHelper.prototype[u(525)]=function(t,e){const i=u;return this[i(275)](this[i(251)]+t*this[i(267)],e[i(497)])},d[u(510)][u(512)][u(389)]=function(t,e){return this[u(226)](t,e.r,e.g,e.b)},d[u(510)][u(512)][u(324)]=function(t,e){return this.array[this.indexOffset+t*this.componentSize]=e,this},d[u(510)].prototype[u(433)]=function(t){return this[u(482)][this.indexOffset+t]},d[u(510)].prototype[u(562)]=function(t){const e=u;return this[e(482)][e(323)](this[e(251)]+t*this[e(267)])},d.ShaderAttribute=function(t,e,i){const n=u,s=d[n(430)].typeSizeMap;this[n(355)]=typeof t===n(425)&&s.hasOwnProperty(t)?t:"f",this[n(267)]=s[this[n(355)]],this[n(292)]=i||Float32Array,this[n(216)]=null,this[n(344)]=null,this[n(492)]=!!e,this[n(360)]=0,this[n(455)]=0},d[u(430)][u(423)]=d[u(430)],d[u(430)][u(254)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},d.ShaderAttribute.prototype.setUpdateRange=function(t,e){const i=u;this[i(360)]=Math.min(t*this[i(267)],this[i(360)]*this[i(267)]),this[i(455)]=Math[i(180)](e*this[i(267)],this[i(455)]*this[i(267)])},d[u(430)][u(512)][u(501)]=function(){const t=u,e=this.bufferAttribute,i=e[t(297)];i[t(591)]=this[t(360)],i[t(192)]=Math.min(this.updateMax-this[t(360)]+this[t(267)],this[t(216)][t(482)][t(277)]),e[t(401)]=!0},d[u(430)][u(512)][u(524)]=function(){const t=u;this[t(360)]=0,this[t(455)]=0},d[u(430)][u(512)][u(595)]=function(){const e=u;this[e(344)][e(294)]=this[e(492)]?t[e(421)]:t[e(639)]},d[u(430)][u(512)][u(463)]=function(t,e){const i=u;this[i(216)][i(463)](t,e),this.forceUpdateAll()},d[u(430)].prototype.forceUpdateAll=function(){const t=u;this[t(344)][t(482)]=this[t(216)][t(482)],this[t(344)][t(297)][t(591)]=0,this.bufferAttribute[t(297)][t(192)]=-1,this.bufferAttribute[t(294)]=e,this[t(344)][t(401)]=!0},d[u(430)][u(512)][u(256)]=function(t){const e=u;null!==this[e(216)]&&this[e(216)][e(234)]===t*this.componentSize||(null!==this[e(216)]&&this[e(216)][e(234)]!==t?this[e(216)][e(231)](t):null===this[e(216)]&&(this[e(216)]=new(d[e(510)])(this[e(292)],t,this[e(267)])))},d[u(430)][u(512)][u(431)]=function(e){const n=u;if(this._ensureTypedArray(e),null!==this[n(344)])return this[n(344)][n(482)]=this.typedArray[n(482)],parseFloat(t[n(346)])>=81&&(this[n(344)][n(192)]=this[n(344)].array.length/this.bufferAttribute[n(220)]),void(this[n(344)][n(401)]=!0);this[n(344)]=new(t[n(589)])(this[n(216)][n(482)],this.componentSize),this[n(344)][n(294)]=this[n(492)]?i:t[n(639)]},d[u(430)][u(512)].getLength=function(){const t=u;return null===this[t(216)]?0:this.typedArray[t(482)][t(277)]},d.shaderChunks={defines:[u(594),u(219)][u(519)]("\n"),uniforms:[u(641),"uniform float runTime;",u(211),"uniform vec4 textureAnimation;",u(496)].join("\n"),attributes:["attribute vec4 acceleration;",u(367),"attribute vec4 rotation;",u(608),u(255),u(304),u(262),u(398),"attribute vec4 opacity;"][u(519)]("\n"),varyings:[u(427),"#ifdef SHOULD_ROTATE_TEXTURE",u(516),"#endif",u(453),u(305),u(543)].join("\n"),branchAvoidanceFunctions:[u(318),u(312),"}",u(315),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}",u(224),"  return 1.0 - when_lt(x, y);","}",u(553),u(618),"}",u(177),u(601),"}",u(443),u(432),"}"][u(519)]("\n"),unpackColor:[u(575),u(505),u(529),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",u(317),"   c.r = r / PACKED_COLOR_DIVISOR;",u(567),u(573),u(460),"}"][u(519)]("\n"),unpackRotationAxis:[u(382),u(505),u(529),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",u(317),u(438),"   c.g = g / PACKED_COLOR_DIVISOR;",u(573),u(405),"   c -= vec3( 1.0 );",u(460),"}"][u(519)]("\n"),floatOverLifetime:[u(504),u(416),u(296),u(626),u(517),u(610),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {",u(281),u(520),u(284),"    }","",u(561),"}"][u(519)]("\n"),colorOverLifetime:[u(291),u(239),"    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );",u(339),u(477),u(561),"}"][u(519)]("\n"),paramFetchingFunctions:[u(422),u(449),"}","float getAge() {",u(238),"}",u(447),u(604),"}",u(530),u(352),"}"][u(519)]("\n"),forceFetchingFunctions:[u(454),u(397),"}",u(189),u(467),"}",u(204),u(513),"}"][u(519)]("\n"),rotationFunctions:[u(440),u(402),u(628),"       float s = sin(angle);","       float c = cos(angle);","       float oc = 1.0 - c;","",u(489),u(257),"                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",u(364),u(377),"",u(217),"      if( rotation.y == 0.0 ) {",u(332),"      }","",u(563),u(203),u(600),u(606),"      float angle = 0.0;",u(462),u(598),"      translated = rotationCenter - pos;",u(503),u(307),u(377),u(543)][u(519)]("\n"),rotateTexture:[u(316),"",u(196),u(345),u(581),u(481),u(283),u(384),u(566),"","    #ifdef SHOULD_CALCULATE_SPRITE",u(386),u(407),u(533),u(252),u(214),u(348),u(566),"",u(182)][u(519)]("\n")},d[u(621)]={vertex:[d[u(329)][u(436)],d[u(329)][u(506)],d.shaderChunks.attributes,d.shaderChunks[u(479)],t[u(522)].common,t[u(522)].logdepthbuf_pars_vertex,t[u(522)].fog_pars_vertex,d.shaderChunks.branchAvoidanceFunctions,d.shaderChunks[u(278)],d[u(329)].unpackRotationAxis,d[u(329)].floatOverLifetime,d.shaderChunks[u(564)],d[u(329)][u(314)],d.shaderChunks[u(586)],d[u(329)][u(587)],"void main() {","    highp float age = getAge();",u(536),u(336),u(611),u(227),"    #ifdef SHOULD_WIGGLE_PARTICLES",u(498),"        float wiggleSin = isAlive * sin( wiggleAmount );",u(249),"    #endif","    vec3 vel = getVelocity( age );",u(388),u(322),u(473),u(488),u(350),u(280),u(554),u(457),u(190),u(486),"        pos.y += wiggleCos;",u(229),u(566),u(243),"        pos = getRotation( pos, positionInTime );",u(566),u(279),u(612),u(507),u(644),u(541),u(538),"    #endif",u(383),u(514),u(509),u(640),"           unpackColor( color.x ),",u(303),u(289),"           unpackColor( color.w )",u(260),u(541),"       vec3 c = vec3(1.0);",u(566),u(544),u(396),u(196),u(205),"    #endif",u(620),u(419),u(372),u(199),u(380),u(213),u(613),"        float row = floor( (frameNumber - column) / framesX );",u(629),u(175),u(547),u(376),u(250),u(269),"    #endif","    gl_PointSize = pointSizePerspective;",u(200),n[u(222)],n[u(568)],"}"][u(519)]("\n"),fragment:[d.shaderChunks[u(506)],t[u(522)][u(623)],t[u(522)][u(424)],t[u(522)][u(585)],d[u(329)].varyings,d[u(329)].branchAvoidanceFunctions,"void main() {",u(515),u(404),u(351),"       if ( vColor.w < float(ALPHATEST) ) discard;",u(566),d[u(329)].rotateTexture,t[u(522)][u(484)],u(549),u(193),t[u(522)][u(646)],"}"][u(519)]("\n")},d[u(461)]={types:{BOOLEAN:u(577),STRING:"string",NUMBER:u(356),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=u;if(Array[n(494)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(429)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=u;if(Array[n(494)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[n(233)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=u;e=e||3,i=i||3,!1===Array.isArray(t[n(362)])&&(t[n(362)]=[t[n(362)]]),!1===Array[n(494)](t._spread)&&(t._spread=[t[n(181)]]);const s=this[n(420)](t._value[n(277)],e,i),o=this.clamp(t[n(181)][n(277)],e,i),r=Math[n(180)](s,o);t[n(362)][n(277)]!==r&&(t[n(362)]=this[n(183)](t[n(362)],r)),t[n(181)][n(277)]!==r&&(t[n(181)]=this[n(183)](t[n(181)],r))},interpolateArray(t,e){const i=u,n=t[i(277)],s=["function"==typeof t[0][i(442)]?t[0][i(442)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(627)](e),a=Math[i(570)](e),c=e-n;s[r]=this[i(185)](t[n],t[a],c)}return s[i(413)](typeof t[n-1][i(442)]===i(409)?t[n-1].clone():t[n-1]),s},clamp(t,e,i){const n=u;return Math.max(e,Math[n(393)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[u(638)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const a=u;let c,h=this.types;return typeof e===h[a(340)]&&typeof i===h[a(340)]?e+(i-e)*n:e instanceof t[a(545)]&&i instanceof t[a(545)]?(c=e[a(442)](),c.x=this.lerp(e.x,i.x,n),c.y=this[a(588)](e.y,i.y,n),c):e instanceof t[a(599)]&&i instanceof s?(c=e[a(442)](),c.x=this[a(588)](e.x,i.x,n),c.y=this[a(588)](e.y,i.y,n),c.z=this[a(588)](e.z,i.z,n),c):e instanceof t[a(616)]&&i instanceof o?(c=e[a(442)](),c.x=this[a(588)](e.x,i.x,n),c.y=this[a(588)](e.y,i.y,n),c.z=this.lerp(e.z,i.z,n),c.w=this[a(588)](e.w,i.w,n),c):e instanceof r&&i instanceof t[a(535)]?(c=e[a(442)](),c.r=this[a(588)](e.r,i.r,n),c.g=this[a(588)](e.g,i.g,n),c.b=this[a(588)](e.b,i.b,n),c):void console.warn("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=u;let n=0;return 0===e?t:(n=Math[i(483)](t)%e,0===n?t:t<0?-(Math[i(483)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=u;for(let i=0;i<t[e(277)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[u(638)]()-.5),randomVector3(t,e,i,n,s){const o=u;let r=i.x+(Math[o(638)]()*n.x-.5*n.x),a=i.y+(Math[o(638)]()*n.y-.5*n.y),c=i.z+(Math[o(638)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(548)](r,s.x),a=.5*-s.y+this[o(548)](a,s.y),c=.5*-s.z+this[o(548)](c,s.z)),t[o(216)][o(226)](e,r,a,c)},randomColor(t,e,i,n){const s=u;let o=i.r+Math.random()*n.x,r=i.g+Math[s(638)]()*n.y,a=i.b+Math[s(638)]()*n.z;o=this[s(420)](o,0,1),r=this[s(420)](r,0,1),a=this[s(420)](a,0,1),t.typedArray[s(226)](e,o,r,a)},randomColorAsHex:function(){const t=new r;return function(e,i,n,s){const o=g,r=n[o(277)],a=[];for(let c=0;c<r;++c){const e=s[c];t.copy(n[c]),t.r+=Math[o(638)]()*e.x-.5*e.x,t.g+=Math[o(638)]()*e.y-.5*e.y,t.b+=Math.random()*e.z-.5*e.z,t.r=this.clamp(t.r,0,1),t.g=this[o(420)](t.g,0,1),t.b=this[o(420)](t.b,0,1),a.push(t[o(584)]())}e.typedArray[o(358)](i,a[0],a[1],a[2],a[3])}}(),randomVector3OnLine(t,e,i,n){const s=u,o=i[s(442)]();o[s(588)](n,Math[s(638)]()),t[s(216)].setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=u;let h=2*Math[c(638)]()-1,l=6.2832*Math[c(638)](),f=Math.sqrt(1-h*h),p=this[c(403)](n,s),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math.cos(l)*p,m=f*Math[c(615)](l)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t.typedArray[c(226)](e,d,m,g)},seededRandom(t){const e=1e4*Math[u(615)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=u;let c=6.2832*Math[a(638)](),h=Math[a(483)](this.randomFloat(n,s)),l=0,f=0,p=0;r&&(h=Math.round(h/r)*r),l=Math.cos(c)*h,f=Math[a(615)](c)*h,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t[a(216)][a(226)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=u,i=new(t[e(599)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(499)](a),i.x-=s,i.y-=o,i.z-=r,i[l(408)]()[l(435)](-this[l(403)](c,h)),t[l(216)][l(226)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=u,i=new(t[e(599)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(499)](a),i.x-=s,i.y-=o,i.z-=r,i[l(408)]().multiplyScalar(-this[l(403)](c,h)),t[l(216)][l(226)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=u,i=new(t[e(599)]),n=new(t[e(599)]),s=new r,o=new(t[e(599)])(1,1,1);return function(t,r){const a=e;return i[a(499)](t)[a(408)](),n[a(499)](r)[a(408)](),i.x+=.5*-r.x+Math[a(638)]()*r.x,i.y+=.5*-r.y+Math.random()*r.y,i.z+=.5*-r.z+Math[a(638)]()*r.z,i[a(408)]()[a(369)](o)[a(435)](.5),s[a(300)](i.x,i.y,i.z),s[a(584)]()}}()},d.Group=function(e){const i=u,n=d[i(461)],s=n[i(569)];(e=n[i(429)](e,s[i(334)],{}))[i(299)]=n.ensureTypedArg(e[i(299)],s[i(334)],{}),this[i(366)]=a[i(268)](),this.fixedTimeStep=n[i(429)](e[i(298)],s[i(340)],.016),this[i(299)]=n[i(233)](e[i(299)][i(532)],t[i(381)],null),this[i(643)]=n[i(233)](e.texture.frames,t[i(545)],new c(1,1)),this[i(560)]=n[i(429)](e[i(299)][i(450)],s[i(340)],this[i(643)].x*this.textureFrames.y),this.textureLoop=n[i(429)](e[i(299)][i(531)],s[i(340)],1),this[i(643)][i(180)](new(t[i(545)])(1,1)),this[i(452)]=n[i(429)](e.hasPerspective,s[i(437)],!0),this.colorize=n.ensureTypedArg(e[i(446)],s[i(437)],!0),this.maxParticleCount=n[i(429)](e.maxParticleCount,s[i(340)],null),this[i(261)]=n.ensureTypedArg(e.blending,s[i(340)],t[i(218)]),this[i(521)]=n.ensureTypedArg(e[i(521)],s[i(437)],!0),this[i(341)]=parseFloat(n[i(429)](e.alphaTest,s[i(340)],0)),this[i(349)]=n[i(429)](e[i(349)],s[i(437)],!1),this[i(197)]=n[i(429)](e[i(197)],s[i(437)],!0),this[i(415)]=n[i(429)](e[i(415)],s[i(437)],!0),this[i(373)]=n.ensureTypedArg(e.scale,s[i(340)],300),this[i(550)]=[],this[i(490)]=[],this[i(264)]=[],this._poolCreationSettings=null,this[i(574)]=0,this[i(276)]=!1,this[i(178)]=!1,this[i(542)]=0,this[i(506)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(t[i(616)])(this[i(643)].x,this[i(643)].y,this.textureFrameCount,Math[i(180)](Math[i(483)](this[i(338)]),1))},fogColor:{type:"c",value:this.fog?new(t[i(535)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(373)]}},this.defines={HAS_PERSPECTIVE:this[i(452)],COLORIZE:this[i(446)],VALUE_OVER_LIFETIME_LENGTH:d[i(632)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(643)].x>1||this[i(643)].y>1},this.attributes={position:new(d[i(430)])("v3",!0),acceleration:new d.ShaderAttribute("v4",!0),velocity:new(d[i(430)])("v3",!0),rotation:new(d[i(430)])("v4",!0),rotationCenter:new d.ShaderAttribute("v3",!0),params:new d.ShaderAttribute("v4",!0),size:new(d[i(430)])("v4",!0),angle:new(d[i(430)])("v4",!0),color:new(d[i(430)])("v4",!0),opacity:new(d[i(430)])("v4",!0)},this[i(527)]=Object.keys(this.attributes),this[i(176)]=this[i(527)][i(277)],this[i(456)]=new(t[i(558)])({uniforms:this[i(506)],vertexShader:d.shaders[i(285)],fragmentShader:d[i(621)][i(546)],blending:this.blending,transparent:this[i(521)],alphaTest:this[i(341)],depthWrite:this.depthWrite,depthTest:this[i(197)],defines:this.defines,fog:this.fog}),this[i(327)]=new h,this[i(228)]=new l(this[i(327)],this[i(456)]),null===this[i(625)]&&console[i(474)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},d.Group.constructor=d.Group,d[u(253)][u(512)][u(286)]=function(){const t=u;let e,i=this.emitters,n=i[t(277)]-1,s=this[t(436)];for(;n>=0;--n)e=i[n],!s[t(518)]&&(s[t(537)]=s.SHOULD_ROTATE_TEXTURE||!!Math[t(180)](Math[t(180)].apply(null,e[t(306)][t(532)]),Math[t(180)][t(248)](null,e.angle[t(215)]))),s[t(202)]=s[t(202)]||!!Math[t(180)](e[t(244)][t(306)],e[t(244)].angleSpread),s[t(466)]=s[t(466)]||!!Math.max(e[t(478)][t(532)],e[t(478)][t(215)]);this[t(456)].needsUpdate=!0},d.Group[u(512)][u(631)]=function(){const t=u;let e,i,n=this[t(207)],s=this.geometry,o=s[t(207)];for(const r in n)n[t(319)](r)&&(e=n[r],i=o[r],i?i[t(482)]=e[t(216)][t(482)]:s.setAttribute(r,e[t(344)]),e[t(344)].needsUpdate=!0);this[t(327)][t(579)](0,this[t(542)])},d[u(253)][u(512)][u(263)]=function(t){const e=u;if(t instanceof d[e(347)]==!1)return void console.error(e(374),t);if(this[e(490)][e(607)](t[e(366)])>-1)return void console.error(e(232));if(null!==t[e(188)])return void console[e(363)](e(458));const i=this[e(207)],n=this[e(542)],s=n+t[e(542)];this[e(542)]=s,null!==this[e(625)]&&this[e(542)]>this.maxParticleCount&&console.warn(e(596),this[e(542)],e(451),this[e(625)]),t[e(511)](t[e(414)][e(362)]+t[e(414)][e(181)]),t[e(266)](this[e(527)]),t[e(635)](n),t[e(188)]=this,t.attributes=this.attributes;for(const o in i)i[e(319)](o)&&i[o][e(431)](null!==this[e(625)]?this[e(625)]:this[e(542)]);for(let o=n;o<s;++o)t[e(212)](o),t[e(187)](o,e(194)),t[e(187)](o,e(333)),t[e(394)](o,e(230)),t[e(394)](o,"size"),t[e(195)](o),t[e(311)](o),t._assignParamsValue(o),t[e(508)](o);return this[e(631)](),this[e(550)][e(413)](t),this[e(490)][e(413)](t[e(366)]),this._updateDefines(t),this[e(456)][e(401)]=!0,this[e(327)][e(401)]=!0,this[e(276)]=!0,this},d[u(253)][u(512)][u(392)]=function(t){const e=u,i=this[e(490)][e(607)](t[e(366)]);if(t instanceof d[e(347)]==!1)return void console[e(363)](e(374),t);if(-1===i)return void console[e(363)](e(485));const n=t[e(391)],s=n+t[e(542)],o=this[e(207)].params[e(216)];for(let r=n;r<s;++r)o[e(482)][4*r]=0,o[e(482)][4*r+1]=0;this[e(550)][e(463)](i,1),this.emitterIDs.splice(i,1);for(const r in this[e(207)])this.attributes.hasOwnProperty(r)&&this.attributes[r][e(463)](n,s);this.particleCount-=t.particleCount,t[e(468)](),this._attributesNeedRefresh=!0},d.Group[u(512)].getFromPool=function(){const t=u,e=this[t(264)],i=this[t(574)];if(e[t(277)])return e.pop();if(i){const t=new d.Emitter(this._poolCreationSettings);return this.addEmitter(t),t}return null},d[u(253)][u(512)][u(565)]=function(t){const e=u;if(t instanceof d[e(347)]!=!1)return t.reset(),this[e(264)][e(242)](t),this;console.error(e(418),t)},d[u(253)].prototype[u(375)]=function(){return this[u(264)]},d.Group[u(512)][u(590)]=function(t,e,i){const n=u;let s;this[n(223)]=e,this[n(574)]=!!i;for(let o=0;o<t;++o)s=Array[n(494)](e)?new(d[n(347)])(e[o]):new d.Emitter(e),this.addEmitter(s),this[n(565)](s);return this},d.Group[u(512)][u(534)]=function(e){const i=u,n=this.getFromPool(),s=this;if(null!==n)return e instanceof t[i(599)]&&(n[i(343)][i(532)][i(499)](e),n[i(343)][i(532)]=n[i(343)].value),n[i(308)](),setTimeout((()=>{const t=i;n[t(617)](),s[t(565)](n)}),1e3*Math.max(n.duration,n.maxAge.value+n.maxAge[i(215)])),this;console[i(602)](i(472))},d[u(253)].prototype[u(354)]=function(t,e){if(typeof t===u(356)&&t>1)for(let i=0;i<t;++i)this._triggerSingleEmitter(e);else this._triggerSingleEmitter(e);return this},d[u(253)][u(512)][u(247)]=function(t){const e=u;this[e(506)][e(288)][e(532)]+=t,this[e(506)].deltaTime.value=t},d[u(253)].prototype._resetBufferRanges=function(){const t=u;let e=this.attributeKeys,i=this[t(176)]-1,n=this[t(207)];for(;i>=0;--i)n[e[i]][t(524)]()},d[u(253)][u(512)][u(426)]=function(t){const e=u;let i,n,s,o=this[e(527)],r=this[e(176)]-1,a=this[e(207)],c=t[e(475)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(271)](n[e(393)],n[e(180)]),s[e(501)]()},d[u(253)][u(512)][u(464)]=function(t){const e=u;var i=this.emitters,n=i.length,s=t||this[e(298)],o=this.attributeKeys,r=this[e(207)];if(this._updateUniforms(s),this[e(636)](),0!==n||!1!==this[e(276)]||!1!==this._attributesNeedDynamicReset){for(var a,c=0;c<n;++c)(a=i[c])[e(464)](s),this[e(426)](a);if(!0===this[e(178)]){for(c=this[e(176)]-1;c>=0;--c)r[o[c]].resetDynamic();this[e(178)]=!1}if(!0===this._attributesNeedRefresh){for(c=this[e(176)]-1;c>=0;--c)r[o[c]][e(642)]();this[e(276)]=!1,this._attributesNeedDynamicReset=!0}}},d[u(253)].prototype.dispose=function(){const t=u;return this[t(327)].dispose(),this[t(456)][t(240)](),this},d.Emitter=function(e){const i=u,n=d[i(461)],o=n.types,r=d[i(632)];(e=n[i(429)](e,o[i(334)],{}))[i(343)]=n[i(429)](e[i(343)],o[i(334)],{}),e[i(194)]=n.ensureTypedArg(e.velocity,o[i(334)],{}),e[i(333)]=n[i(429)](e[i(333)],o[i(334)],{}),e[i(361)]=n.ensureTypedArg(e.radius,o[i(334)],{}),e[i(236)]=n[i(429)](e[i(236)],o[i(334)],{}),e[i(244)]=n.ensureTypedArg(e[i(244)],o[i(334)],{}),e.color=n[i(429)](e.color,o[i(334)],{}),e[i(230)]=n.ensureTypedArg(e[i(230)],o[i(334)],{}),e[i(234)]=n[i(429)](e[i(234)],o[i(334)],{}),e[i(306)]=n[i(429)](e[i(306)],o.OBJECT,{}),e.wiggle=n[i(429)](e[i(478)],o[i(334)],{}),e[i(414)]=n[i(429)](e[i(414)],o[i(334)],{}),e[i(326)]&&console[i(474)](i(605)),this[i(366)]=t[i(371)][i(268)](),this.type=n.ensureTypedArg(e[i(355)],o.NUMBER,d.distributions[i(293)]),this[i(343)]={_value:n[i(233)](e[i(343)][i(532)],t[i(599)],new(t[i(599)])),_spread:n[i(233)](e[i(343)][i(215)],t[i(599)],new(t[i(599)])),_spreadClamp:n.ensureInstanceOf(e[i(343)].spreadClamp,s,new(t[i(599)])),_distribution:n[i(429)](e[i(343)][i(273)],o[i(340)],this[i(355)]),_randomise:n[i(429)](e[i(343)][i(619)],o[i(437)],!1),_radius:n[i(429)](e[i(343)][i(361)],o[i(340)],10),_radiusScale:n[i(233)](e.position[i(411)],t[i(599)],new(t[i(599)])(1,1,1)),_distributionClamp:n[i(429)](e[i(343)][i(385)],o.NUMBER,0)},this[i(194)]={_value:n.ensureInstanceOf(e[i(194)][i(532)],s,new(t[i(599)])),_spread:n.ensureInstanceOf(e[i(194)][i(215)],t[i(599)],new(t[i(599)])),_distribution:n[i(429)](e[i(194)][i(273)],o[i(340)],this[i(355)]),_randomise:n[i(429)](e.position[i(619)],o.BOOLEAN,!1)},this.acceleration={_value:n[i(233)](e[i(333)][i(532)],t[i(599)],new(t[i(599)])),_spread:n[i(233)](e[i(333)][i(215)],t[i(599)],new(t[i(599)])),_distribution:n[i(429)](e[i(333)][i(273)],o[i(340)],this[i(355)]),_randomise:n.ensureTypedArg(e[i(343)][i(619)],o.BOOLEAN,!1)},this.drag={_value:n[i(429)](e[i(236)][i(532)],o.NUMBER,0),_spread:n[i(429)](e[i(236)][i(215)],o[i(340)],0),_randomise:n[i(429)](e[i(343)].randomise,o.BOOLEAN,!1)},this[i(478)]={_value:n[i(429)](e[i(478)][i(532)],o[i(340)],0),_spread:n[i(429)](e.wiggle[i(215)],o[i(340)],0)},this[i(244)]={_axis:n.ensureInstanceOf(e.rotation[i(580)],t[i(599)],new s(0,1,0)),_axisSpread:n[i(233)](e[i(244)][i(378)],t[i(599)],new(t[i(599)])),_angle:n[i(429)](e[i(244)][i(306)],o.NUMBER,0),_angleSpread:n.ensureTypedArg(e[i(244)][i(290)],o[i(340)],0),_static:n[i(429)](e[i(244)][i(337)],o[i(437)],!1),_center:n[i(233)](e[i(244)][i(272)],t[i(599)],this[i(343)][i(362)][i(442)]()),_randomise:n[i(429)](e[i(343)][i(619)],o[i(437)],!1)},this[i(414)]={_value:n[i(429)](e.maxAge.value,o[i(340)],2),_spread:n.ensureTypedArg(e[i(414)][i(215)],o[i(340)],0)},this.color={_value:n[i(259)](e.color[i(532)],t[i(535)],new(t[i(535)])),_spread:n.ensureArrayInstanceOf(e[i(637)].spread,t[i(599)],new(t[i(599)])),_randomise:n[i(429)](e[i(343)][i(619)],o[i(437)],!1)},this[i(230)]={_value:n[i(459)](e[i(230)][i(532)],o[i(340)],1),_spread:n[i(459)](e.opacity.spread,o[i(340)],0),_randomise:n[i(429)](e[i(343)][i(619)],o[i(437)],!1)},this[i(234)]={_value:n[i(459)](e.size[i(532)],o.NUMBER,1),_spread:n.ensureArrayTypedArg(e.size.spread,o[i(340)],0),_randomise:n[i(429)](e[i(343)][i(619)],o[i(437)],!1)},this[i(306)]={_value:n.ensureArrayTypedArg(e[i(306)][i(532)],o[i(340)],0),_spread:n[i(459)](e[i(306)][i(215)],o.NUMBER,0),_randomise:n[i(429)](e[i(343)].randomise,o[i(437)],!1)},this[i(542)]=n[i(429)](e[i(542)],o[i(340)],100),this[i(571)]=n[i(429)](e[i(571)],o.NUMBER,null),this[i(622)]=n[i(429)](e[i(622)],o[i(437)],!1),this[i(614)]=n.ensureTypedArg(e[i(614)],o[i(340)],1),this.direction=n.ensureTypedArg(e[i(241)],o[i(340)],1),this[i(198)]=n[i(429)](e[i(198)],o[i(437)],!0),this[i(523)]=0,this.activationIndex=0,this[i(391)]=0,this[i(208)]=0,this[i(592)]=0,this[i(201)]=0,this[i(188)]=null,this.attributes=null,this.paramsArray=null,this.resetFlags={position:n.ensureTypedArg(e[i(343)].randomise,o.BOOLEAN,!1)||n[i(429)](e.radius.randomise,o[i(437)],!1),velocity:n[i(429)](e[i(194)][i(619)],o[i(437)],!1),acceleration:n[i(429)](e[i(333)].randomise,o[i(437)],!1)||n[i(429)](e.drag[i(619)],o[i(437)],!1),rotation:n[i(429)](e[i(244)][i(619)],o.BOOLEAN,!1),rotationCenter:n[i(429)](e[i(244)][i(619)],o[i(437)],!1),size:n[i(429)](e[i(234)][i(619)],o[i(437)],!1),color:n[i(429)](e[i(637)][i(619)],o.BOOLEAN,!1),opacity:n.ensureTypedArg(e[i(230)][i(619)],o[i(437)],!1),angle:n[i(429)](e.angle[i(619)],o[i(437)],!1)},this[i(441)]={},this[i(246)]={},this[i(258)]={maxAge:"params",position:i(343),velocity:"velocity",acceleration:"acceleration",drag:i(333),wiggle:i(365),rotation:i(244),size:"size",color:"color",opacity:i(230),angle:i(306)};for(const t in this.updateMap)this[i(258)][i(319)](t)&&(this[i(246)][this[i(258)][t]]=0,this.updateFlags[this[i(258)][t]]=!1,this[i(444)](this[t],t));this[i(475)]={},this.attributeKeys=null,this[i(176)]=0,n[i(597)](this[i(637)],r,r),n[i(597)](this[i(230)],r,r),n[i(597)](this.size,r,r),n[i(597)](this[i(306)],r,r)},d.Emitter[u(423)]=d[u(347)],d[u(347)].prototype[u(444)]=function(t,e){const i=u,n=this;for(const s in t)if(t[i(319)](s)){const o=s[i(179)]("_","");Object.defineProperty(t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=g,o=n[s(258)][e],r=this[t],a=d[s(632)];t===s(331)?(n[s(441)].rotationCenter=!0,n[s(246)][s(237)]=0):t===s(559)?n[s(582)][o]=i:(n[s(441)][o]=!0,n.updateCounts[o]=0),n[s(188)][s(286)](),this[t]=i,Array[s(494)](r)&&d[s(461)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},d.Emitter[u(512)][u(266)]=function(t){const e=u;this[e(527)]=t,this[e(176)]=t[e(277)];for(let i=this[e(176)]-1;i>=0;--i)this[e(475)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(412)]}},d[u(347)][u(512)][u(511)]=function(t){const e=u,i=this.particleCount;this[e(571)]?this.particlesPerSecond=i/(t<this[e(571)]?t:this.duration):this[e(523)]=i/t},d[u(347)].prototype[u(635)]=function(t){const e=u;this[e(391)]=t,this[e(576)]=t,this[e(320)]=t+this.particleCount},d[u(347)].prototype[u(235)]=function(t,e){const i=u;switch(t){case i(343):this[i(212)](e);break;case i(194):case i(333):this[i(187)](e,t);break;case i(234):case"opacity":this[i(394)](e,t);break;case i(306):this[i(195)](e);break;case i(365):this[i(370)](e);break;case i(244):this[i(311)](e);break;case i(637):this[i(508)](e)}},d[u(347)][u(512)][u(212)]=function(t){const e=u,i=d[e(634)],n=d[e(461)],s=this[e(343)],o=this[e(207)][e(343)],r=s[e(362)],a=s._spread;switch(s[e(282)]){case i.BOX:n.randomVector3(o,t,r,a,s[e(287)]);break;case i.SPHERE:n[e(335)](o,t,r,s[e(487)],s[e(181)].x,s[e(540)],s[e(287)].x,s[e(357)]||this[e(542)]);break;case i[e(500)]:n[e(555)](o,t,r,s._radius,s[e(181)].x,s._radiusScale,s[e(287)].x);break;case i[e(325)]:n.randomVector3OnLine(o,t,r,a)}},d[u(347)][u(512)]._assignForceValue=function(t,e){const i=u;let n,s,o,r,a,c=d[i(634)],h=d[i(461)],l=this[e],f=l[i(362)],p=l[i(181)];switch(l[i(282)]){case c.BOX:h[i(309)](this[i(207)][e],t,f,p);break;case c[i(387)]:n=this.attributes[i(343)][i(216)][i(482)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(400)](this[i(207)][e],t,s,o,r,this.position[i(362)],l[i(362)].x,l[i(181)].x);break;case c[i(500)]:n=this[i(207)].position[i(216)].array,a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(551)](this.attributes[e],t,s,o,r,this[i(343)][i(362)],l._value.x,l[i(181)].x);break;case c.LINE:h[i(465)](this.attributes[e],t,f,p)}if(e===i(333)){const e=h[i(420)](h.randomFloat(this.drag[i(362)],this[i(236)][i(181)]),0,1);this[i(207)][i(333)].typedArray[i(482)][4*t+3]=e}},d[u(347)][u(512)]._assignAbsLifetimeValue=function(t,e){const i=u;let n,s=this[i(207)][e].typedArray,o=this[e],r=d.utils;r[i(313)](o[i(362)])&&r.arrayValuesAreEqual(o[i(181)])?(n=Math.abs(r[i(403)](o._value[0],o._spread[0])),s.setVec4Components(t,n,n,n,n)):s[i(358)](t,Math[i(483)](r[i(403)](o[i(362)][0],o[i(181)][0])),Math[i(483)](r[i(403)](o[i(362)][1],o[i(181)][1])),Math[i(483)](r[i(403)](o[i(362)][2],o[i(181)][2])),Math[i(483)](r[i(403)](o._value[3],o[i(181)][3])))},d.Emitter[u(512)][u(195)]=function(t){const e=u;let i,n=this.attributes[e(306)][e(216)],s=this[e(306)],o=d[e(461)];o[e(313)](s[e(362)])&&o[e(313)](s._spread)?(i=o.randomFloat(s[e(362)][0],s[e(181)][0]),n[e(358)](t,i,i,i,i)):n[e(358)](t,o[e(403)](s[e(362)][0],s[e(181)][0]),o[e(403)](s[e(362)][1],s[e(181)][1]),o.randomFloat(s[e(362)][2],s[e(181)][2]),o[e(403)](s[e(362)][3],s[e(181)][3]))},d[u(347)][u(512)][u(370)]=function(t){const e=u;this[e(207)][e(365)][e(216)].setVec4Components(t,this[e(622)]?1:0,0,Math.abs(d[e(461)].randomFloat(this[e(414)][e(362)],this.maxAge._spread)),d.utils[e(403)](this[e(478)][e(362)],this[e(478)][e(181)]))},d[u(347)][u(512)]._assignRotationValue=function(t){const e=u;this[e(207)][e(244)][e(216)].setVec3Components(t,d[e(461)].getPackedRotationAxis(this.rotation[e(406)],this[e(244)]._axisSpread),d[e(461)][e(403)](this[e(244)][e(342)],this[e(244)][e(295)]),this.rotation._static?0:1),this[e(207)][e(237)][e(216)].setVec3(t,this[e(244)][e(609)])},d[u(347)][u(512)]._assignColorValue=function(t){const e=u;d.utils[e(552)](this[e(207)].color,t,this.color._value,this.color[e(181)])},d[u(347)].prototype[u(186)]=function(t){const e=u;let i,n,s=this[e(582)],o=this[e(441)],r=this[e(246)],a=this[e(527)];for(let c=this[e(176)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(235)](i,t),this[e(557)](i,t),!0===n&&r[i]===this.particleCount?(o[i]=!1,r[i]=0):1==n&&++r[i])},d[u(347)].prototype[u(557)]=function(t,e){const i=u,n=this[i(475)][t];n[i(393)]=Math[i(393)](e,n[i(393)]),n[i(180)]=Math[i(180)](e,n[i(180)])},d[u(347)][u(512)][u(636)]=function(){const t=u;let e,i=this[t(475)],n=this[t(593)],s=this.bufferUpdateCount-1;for(;s>=0;--s)e=n[s],i[e].min=Number.POSITIVE_INFINITY,i[e][t(180)]=Number[t(412)]},d[u(347)][u(512)]._onRemove=function(){const t=u;this[t(523)]=0,this.attributeOffset=0,this[t(576)]=0,this[t(201)]=0,this.group=null,this[t(207)]=null,this.paramsArray=null,this.age=0},d[u(347)][u(512)][u(321)]=function(){--this[u(201)]},d[u(347)][u(512)][u(184)]=function(){++this[u(201)]},d[u(347)][u(512)][u(225)]=function(t,e,i,n){const s=u;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this.direction?(a+=n)>=r&&(a=0,c=0,this[s(321)]()):(a-=n)<=0&&(a=r,c=0,this[s(321)]()),i[o]=c,i[o+1]=a,this[s(557)](s(365),h))},d.Emitter.prototype[u(630)]=function(t,e,i,n){const s=u,o=this[s(241)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this.particleCount||(this[s(184)](),i[r]=1,this[s(186)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(557)](s(365),c))},d.Emitter[u(512)][u(464)]=function(t){const e=u;if(this[e(622)])return;null===this.paramsArray&&(this.paramsArray=this[e(207)][e(365)][e(216)][e(482)]);const i=this[e(391)],n=i+this[e(542)],s=this[e(328)],o=this[e(523)]*this[e(614)]*t,r=this.activationIndex;if(this[e(636)](),this[e(225)](i,n,s,t),!1===this[e(198)])return void(this[e(592)]=0);if(null!==this.duration&&this.age>this[e(571)])return this[e(198)]=!1,void(this[e(592)]=0);const a=1===this[e(542)]?r:0|r,c=Math[e(393)](a+o,this.activationEnd),h=c-this.activationIndex|0,l=h>0?t/h:0;this._activateParticles(a,c,s,l),this.activationIndex+=o,this[e(576)]>n&&(this.activationIndex=i),this[e(592)]+=t},d[u(347)][u(512)][u(330)]=function(t){const e=u;if(this[e(592)]=0,this[e(198)]=!1,!0===t){const t=this[e(391)],s=t+this[e(542)],o=this[e(328)],r=this[e(207)][e(365)][e(344)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(297)].offset=0,r.updateRange[e(192)]=-1,r[e(401)]=!0}return this},d.Emitter[u(512)][u(308)]=function(){return this.alive=!0,this},d[u(347)][u(512)].disable=function(){return this.alive=!1,this},d.Emitter[u(512)][u(471)]=function(){const t=u;return null!==this[t(188)]?this.group[t(392)](this):console[t(363)](t(302)),this};const m=d;function g(t,e){const i=y();return(g=function(t,e){return i[t-=175]})(t,e)}function y(){const t=["wiggle","varyings","init","       float c = cos( -vAngle );","array","abs","logdepthbuf_fragment","Emitter does not exist in this group. Will not remove.","        pos.x += wiggleSin;","_radius","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","emitterIDs","chain","dynamicBuffer","exports","isArray","setVec2Components","uniform float scale;","elements","        float wiggleAmount = positionInTime * getWiggle();","copy","DISC","flagUpdate","6481130VhrECg","      rotationMatrix = getRotationMatrix( axis, angle );","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","   vec3 c = vec3( 0.0 );","uniforms","    #ifdef HAS_PERSPECTIVE","_assignColorValue","       vec3 c = isAlive * getColorOverLifetime(","TypedArrayHelper","_calculatePPSValue","prototype","   return acceleration.xyz * age;","    #ifdef COLORIZE","    vec3 outgoingLight = vColor.xyz;","    varying float vAngle;","    float shouldApplyValue = 0.0;","SHOULD_CALCULATE_SPRITE","join","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","transparent","ShaderChunk","particlesPerSecond","resetUpdateRange","setMat4","setVec2","attributeKeys","Will not resize.","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","float getWiggle() {","loop","value","        float columnNorm = vSpriteSheet.z;","_triggerSingleEmitter","Color","    highp float alive = getAlive();","SHOULD_ROTATE_TEXTURE","        float perspective = 1.0;","debu","_radiusScale","    #else","particleCount","#endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","Vector2","fragment","        vSpriteSheet.x = 1.0 / framesX;","roundToNearestMultiple","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","emitters","randomDirectionVector3OnDisc","randomColorAsHex","float when_le(float x, float y) {","    force += accel * age;","randomVector3OnDisc","grow","_updateAttributeUpdateRange","ShaderMaterial","_randomise","textureFrameCount","    return value;","getComponentValueAtIndex","      vec3 axis = unpackRotationAxis( rotation.x );","colorOverLifetime","releaseIntoPool","    #endif","   c.g = g / PACKED_COLOR_DIVISOR;","fog_vertex","types","ceil","duration","400056LIWaIl","   c.b = b / PACKED_COLOR_DIVISOR;","_createNewWhenPoolEmpty","vec3 unpackColor( in float hex ) {","activationIndex","boolean","info","setDrawRange","axis","       float y = 1.0 - gl_PointCoord.y - 0.5;","resetFlags","return (function() ","getHex","logdepthbuf_pars_fragment","forceFetchingFunctions","rotationFunctions","lerp","BufferAttribute","addPool","offset","age","bufferUpdateKeys","#define PACKED_COLOR_SIZE 256.0","resetDynamic","SPE.Group: maxParticleCount exceeded. Requesting","ensureValueOverLifetimeCompliance","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","Vector3","      vec3 translated;","    return a * b;","log","console","   return params.z;","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","      mat4 rotationMatrix;","indexOf","attribute vec3 rotationCenter;","_center","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","    highp float positionInTime = (age / maxAge);","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","        float column = floor(mod( frameNumber, framesX ));","activeMultiplier","sin","Vector4","disable","  return 1.0 - when_gt(x, y);","randomise","    #ifdef SHOULD_CALCULATE_SPRITE","shaders","isStatic","common","setVec3","maxParticleCount","    float fIndex = 0.0;","floor","       axis = normalize(axis);","        float columnNorm = column / framesX;","_activateParticles","_applyAttributesToGeometry","valueOverLifetimeLength","gger","distributions","_setAttributeOffset","_resetBufferRanges","color","random","StaticDrawUsage","           positionInTime,","uniform float deltaTime;","forceUpdateAll","textureFrames","        float perspective = scale / length( mvPosition.xyz );","call","fog_fragment","        float rowNorm = row / framesY;","attributeCount","float and(float a, float b) {","_attributesNeedDynamicReset","replace","max","_spread","    vec4 rotatedTexture = texture2D( tex, vUv );","interpolateArray","_incrementParticleCount","lerpTypeAgnostic","_resetParticle","_assignForceValue","group","vec3 getVelocity( in float age ) {","    #ifdef SHOULD_WIGGLE_PARTICLES","spe","count","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","velocity","_assignAngleValue","    #ifdef SHOULD_ROTATE_TEXTURE","depthTest","alive","        float loopCount = textureAnimation.w;","    gl_Position = projectionMatrix * mvPosition;","activeParticleCount","SHOULD_ROTATE_PARTICLES","      vec3 center = rotationCenter;","vec3 getAcceleration( in float age ) {","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",'{}.constructor("return this")( )',"attributes","attributeEnd","48lwkrRm","1396539JfzcNm","uniform sampler2D tex;","_assignPositionValue","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","spread","typedArray","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","AdditiveBlending","#define PACKED_COLOR_DIVISOR 255.0","itemSize","while (true) {}","logdepthbuf_vertex","_poolCreationSettings","float when_ge(float x, float y) {","_checkParticleAges","setVec3Components","    highp float isAlive = when_gt( alive, 0.0 );","mesh","        pos.z += wiggleSin;","opacity","setSize","Emitter already exists in this group. Will not add again.","ensureInstanceOf","size","_assignValue","drag","rotationCenter","   return params.y;","    vec3 value = vec3( 0.0 );","dispose","direction","unshift","    #ifdef SHOULD_ROTATE_PARTICLES","rotation","1832348rLizdb","updateCounts","_updateUniforms","apply","        float wiggleCos = isAlive * cos( wiggleAmount );","        vSpriteSheet.z = columnNorm;","indexOffset","        float rowNorm = vSpriteSheet.w;","Group","typeSizeMap","attribute vec4 params;","_ensureTypedArray","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","updateMap","ensureArrayInstanceOf","       );","blending","attribute vec4 angle;","addEmitter","_pool","setMat3","_setBufferUpdateRanges","componentSize","generateUUID","        vSpriteSheet.w = rowNorm;","undefined","setUpdateRange","center","distribution","action","setFromArray","_attributesNeedRefresh","length","unpackColor","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    force *= drag;","       fIndex = float( i );","_distribution","       float s = sin( -vAngle );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","vertex","_updateDefines","_spreadClamp","runTime","           unpackColor( color.z ),","angleSpread","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","arrayType","BOX","usage","_angleSpread","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","updateRange","fixedTimeStep","texture","setRGB","__proto__","Emitter does not belong to a group, cannot remove.","           unpackColor( color.y ),","attribute vec4 size;","    varying vec4 vSpriteSheet;","angle","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","enable","randomVector3","function *\\( *\\)","_assignRotationValue","    return max(sign(x - y), 0.0);","arrayValuesAreEqual","paramFetchingFunctions","float when_lt(float x, float y) {","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","   float b = mod( hex, PACKED_COLOR_SIZE );","float when_gt(float x, float y) {","hasOwnProperty","activationEnd","_decrementParticleCount","    vec3 force = vec3( 0.0 );","subarray","setNumber","LINE","onParticleSpawn","geometry","paramsArray","shaderChunks","reset","_rotationCenter","           return pos;","acceleration","OBJECT","randomVector3OnSphere","    highp float maxAge = getMaxAge();","static","textureLoop","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","NUMBER","alphaTest","_angle","position","bufferAttribute","       float x = gl_PointCoord.x - 0.5;","REVISION","Emitter","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","depthWrite","    force += vel;","    #ifdef ALPHATEST","   return params.w;","shrink","triggerPoolEmitter","type","number","_distributionClamp","setVec4Components","input","updateMin","radius","_value","error","                   0.0,                                0.0,                                0.0,                                1.0);","params","uuid","attribute vec3 velocity;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","add","_assignParamsValue","MathUtils","        float framesY = textureAnimation.y;","scale","`emitter` argument must be instance of SPE.Emitter. Was provided with:","getPool","        vSpriteSheet.y = 1.0 / framesY;","   }","axisSpread","21702dONUkK","        float totalFrames = textureAnimation.z;","Texture","vec3 unpackRotationAxis( in float hex ) {","    float pointSizePerspective = pointSize * perspective;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","distributionClamp","        float framesX = vSpriteSheet.x;","SPHERE","    vec3 accel = getAcceleration( age );","setColor","TypedArrayConstructor","attributeOffset","removeEmitter","min","_assignAbsLifetimeValue","counter","    vColor = vec4( c, o );","   return modelViewMatrix * vec4( position, 1.0 );","attribute vec4 color;","set","randomDirectionVector3OnSphere","needsUpdate","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","randomFloat","    ","   c *= vec3( 2.0 );","_axis","        float framesY = vSpriteSheet.y;","normalize","function","setVec4","radiusScale","NEGATIVE_INFINITY","push","maxAge","fog","    highp float value = 0.0;","trace","Argument is not instanceof SPE.Emitter:","        float framesX = textureAnimation.x;","clamp","DynamicDrawUsage","float getAlive() {","constructor","fog_pars_fragment","string","_updateBuffers","varying vec4 vColor;","toString","ensureTypedArg","ShaderAttribute","_createBufferAttribute","    return min(a + b, 1.0);","getValueAtIndex","test","multiplyScalar","defines","BOOLEAN","   c.r = r / PACKED_COLOR_DIVISOR;","322vvrxsw","#ifdef SHOULD_ROTATE_PARTICLES","updateFlags","clone","float or(float a, float b) {","_createGetterSetters","46TDEJKh","colorize","float getMaxAge() {","2271690mmREmB","   return params.x;","frameCount","particles, can support only","hasPerspective","#ifdef SHOULD_CALCULATE_SPRITE","vec4 getPosition( in float age ) {","updateMax","material","    pos += force;","Emitter already belongs to another group. Will not add to requested group.","ensureArrayTypedArg","   return c;","utils","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","splice","tick","randomVector3OnLine","SHOULD_WIGGLE_PARTICLES","   return velocity * age;","_onRemove","amd","140985eivkFz","remove","SPE.Group pool ran out.","    vec3 pos = vec3( position );","warn","bufferUpdateRanges","bind","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );"];return(y=function(){return t})()}function v(t){function e(t){const i=g;if(typeof t===i(425))return function(t){}[i(423)](i(221))[i(248)](i(395));1!==(""+t/t)[i(277)]||t%20==0?function(){return!0}[i(423)](i(539)+"gger")[i(645)](i(274)):function(){return!1}[i(423)](i(539)+i(633))[i(248)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
