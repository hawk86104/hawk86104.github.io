import{bG as t,a5 as n,a0 as o,C as r}from"./three.BsQyBKrV1719803971187.js";import{N as e}from"./@tresjs.rn1P_YDI1719803971187.js";import{d as a,b as s,a3 as i,w as u,o as c,D as f,J as l,aj as p,ak as h}from"./@vue.CpOXM7bB1719803971187.js";!function(t,n){const o=m,r=v();for(;;)try{if(172374===parseInt(o(225))/1*(-parseInt(o(202))/2)+-parseInt(o(207))/3*(-parseInt(o(219))/4)+parseInt(o(223))/5+parseInt(o(241))/6*(-parseInt(o(240))/7)+-parseInt(o(228))/8+parseInt(o(218))/9*(-parseInt(o(214))/10)+parseInt(o(217))/11*(parseInt(o(231))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(251)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp(t(254)),o=new RegExp(t(221),"i"),r=I(t(227));n[t(252)](r+t(238))&&o[t(252)](r+"input")?I():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(251)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=v();return(m=function(t,n){return o[t-=201]})(t,n)}function v(){const t=["string","bsdfs","table","bind","4460vxEbvo","shadowmask_pars_fragment","\n       void main() {\n\t\t\t\t\t","warn","\n      \t","3jFNvQZ","error","lights_pars_begin","shadowmap_vertex","\n\t ","counter","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","470NKnoFM","toString","length","297BKHSAh","53091YpJIPO","367804jziUIi","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","packing","1288295PGQPWN","debu","31tmubFl","beginnormal_vertex","init","1838408DTQOiI","gger","call","181956rbRVMW","info","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","ShaderChunk","prototype",'{}.constructor("return this")( )',"\n          ","chain","common","73171OGxiiZ","6KsGIwi","console","shadowmap_pars_vertex","action","trace","exception","constructor","begin_vertex","__proto__","stateObject","apply","test","defaultnormal_vertex","function *\\( *\\)","shadowmap_pars_fragment"];return(v=function(){return t})()}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function("return (function() "+t(236)+");")()}catch(o){n=window}return n}(),o=n[t(242)]=n[t(242)]||{},r=[t(220),t(205),t(232),t(208),t(246),t(258),t(245)];for(let e=0;e<r[t(216)];e++){const n=g[t(247)][t(235)][t(201)](g),a=r[e],s=o[a]||n;n[t(249)]=g[t(201)](g),n[t(215)]=s[t(215)][t(201)](s),o[a]=n}}))();const w=()=>{const o=m;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(239)]+"\n      \t"+n[o(234)][o(257)]+o(206)+n[o(234)][o(243)]+o(204)+n[o(234)][o(226)]+o(237)+n[o(234)][o(253)]+o(237)+n[o(234)][o(248)]+o(237)+n[o(234)].project_vertex+o(237)+n[o(234)].worldpos_vertex+o(237)+n[o(234)][o(210)]+o(233)},_=()=>{const o=m;return o(213)+n[o(234)][o(239)]+o(211)+n[o(234)][o(222)]+o(211)+n[o(234)][o(257)]+o(211)+n[o(234)][o(209)]+o(211)+t[o(255)]+o(211)+n[o(234)][o(203)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function I(t){function n(t){const o=m;if(typeof t===o(256))return function(t){}[o(247)]("while (true) {}")[o(251)](o(212));1!==(""+t/t).length||t%20==0?function(){return!0}[o(247)](o(224)+o(229))[o(230)](o(244)):function(){return!1}[o(247)](o(224)+o(229)).apply(o(250)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=j;!function(t,n){const o=j,r=S();for(;;)try{if(640060===parseInt(o(184))/1*(parseInt(o(190))/2)+-parseInt(o(213))/3+-parseInt(o(197))/4*(parseInt(o(176))/5)+parseInt(o(182))/6*(-parseInt(o(186))/7)+-parseInt(o(211))/8*(-parseInt(o(181))/9)+-parseInt(o(191))/10+parseInt(o(187))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(192)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(174),"i"),r=k(t(199));n[t(180)](r+t(177))&&o.test(r+"input")?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(192)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(){const t=["shadowColor","edge","exception","while (true) {}","console","log","UniformsLib","constructor","string",'{}.constructor("return this")( )',"length","call","color","merge","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","fEdge","773735HegozQ","chain","uShadowColor","TresPlaneGeometry","test","666018UfVyyu","66XuoMzY","UniformsUtils","268SQPCZj","size","408604Nkqiws","23831368yVEBkI","return (function() ","table","6812whsZjE","8158250nohsYW","apply","wrapS","toString","prototype","DoubleSide","8qQiMyJ","info","init","stateObject","warn","value","debu","__proto__","#990","gger","uniforms","TresShaderMaterial","Color","error","32YsLROd","uColor","2903499cZBVOF","wrapT","#999","whiteFloorMesh","tmRef","bind"];return(S=function(){return t})()}function j(t,n){const o=S();return(j=function(t,n){return o[t-=171]})(t,n)}y(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(188)+t(228)+");")()}catch(o){n=window}return n}(),o=n[t(223)]=n[t(223)]||{},r=[t(224),t(201),t(198),t(210),t(221),t(189),"trace"];for(let e=0;e<r[t(229)];e++){const n=y[t(226)][t(195)][t(218)](y),a=r[e],s=o[a]||n;n[t(204)]=y[t(218)](y),n[t(194)]=s[t(194)][t(218)](s),o[a]=n}}))();const C=["rotation-x"],M=["args"],E=a({__name:x(216),props:{size:{default:[20,20]},color:{default:x(205)},shadowColor:{default:x(215)},edge:{default:.35}},async setup(t){const a=x;let d,g;const m=t,v=s(),{map:I}=([d,g]=i((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);I[a(193)]=I[a(214)]=o;const b={uniforms:n[a(183)][a(173)]([n[a(225)].lights,{uTexture:{type:"t",value:I},uColor:{value:new(n[a(209)])(m[a(172)])},uShadowColor:{value:new(n[a(209)])(m[a(219)])},fEdge:{type:"f",value:m.edge}}]),side:n[a(196)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>m[a(220)]),(t=>{const n=a;b.uniforms[n(175)][n(202)]=t})),u((()=>m[a(172)]),(t=>{const n=a;b[n(207)][n(212)][n(202)]=new r(m[n(172)])})),u((()=>m[a(219)]),(t=>{const o=a;b[o(207)][o(178)].value=new(n[o(209)])(m[o(219)])})),(t,n)=>{const o=a;return c(),f("TresMesh",{ref_key:o(217),ref:v,"rotation-x":-Math.PI/2},[l(o(179),{args:m[o(185)]},null,8,M),l(o(208),p(h(b)),null,16)],8,C)}}});function k(t){function n(t){const o=j;if(typeof t===o(227))return function(t){}.constructor(o(222))[o(192)]("counter");1!==(""+t/t)[o(229)]||t%20==0?function(){return!0}[o(226)](o(203)+o(206))[o(171)]("action"):function(){return!1}[o(226)](o(203)+o(206))[o(192)](o(200)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
