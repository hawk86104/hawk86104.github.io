import{_ as t}from"./three.rmsIv-u_1736160428509.js";import{m as e}from"./@tresjs.8MtVPQyb1736160428509.js";import{d as n,P as a}from"./@pmndrs.4WMPGHRZ1736160428509.js";import{d as o,b as r,w as s,a1 as i,o as c,D as u,J as l,aj as p,ak as f}from"./@vue.4u_eOGex1736160428509.js";function d(){const t=["2310374skHXAa","constructor","50DIVswE","counter","shadows render start","table","shadows plm update","1DBGWtF","log","opacity","14973NdmVoO","alphaTest","length","info","cos","amount","201mKNvvU","return (function() ","debu","material","near","color","add","rotate-x","acos","test","configure","remove","blendWindow","shadow","95DWieEB","progressiveLightMap2","randFloatSpread","call","187770KVeieF",'{}.constructor("return this")( )',"blend","size","console","gger","while (true) {}","intensity","children","TresSoftShadowMaterial","radius","frames","stateObject","castShadow","random","finish","24dGHvCH","trace","1080DrbwKq","mapSize","string","ambient","bind","width","344870stHVaU","32310226PNyOkz","__proto__","TresMesh","1704141XOvBvd","bias","camera","set","top","update","warn","apply","lightPosition","18332LUQRZO","chain","sin","MathUtils","Vector3","gPlane","exception","clear","value","position","DirectionalLight","far","Group","shadows render end","#000000","abs","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(d=function(){return t})()}const h=g;!function(t,e){const n=g,a=d();for(;;)try{if(595859===-parseInt(n(447))/1*(parseInt(n(498))/2)+parseInt(n(456))/3*(-parseInt(n(511))/4)+parseInt(n(470))/5*(-parseInt(n(474))/6)+-parseInt(n(450))/7*(parseInt(n(492))/8)+parseInt(n(502))/9*(-parseInt(n(442))/10)+parseInt(n(440))/11*(parseInt(n(490))/12)+parseInt(n(499))/13)break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const m=function(){let t=!0;return function(e,n){const a=t?function(){if(n){const t=n[g(509)](e,arguments);return n=null,t}}:function(){};return t=!1,a}}();!function(){m(this,(function(){const t=g,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(439),"i"),a=M("init");e[t(465)](a+t(512))&&n[t(465)](a+"input")?M():a("0")}))()}();const w=function(){let t=!0;return function(e,n){const a=t?function(){if(n){const t=n[g(509)](e,arguments);return n=null,t}}:function(){};return t=!1,a}}();w(void 0,(function(){const t=g,e=function(){const t=g;let e;try{e=Function(t(457)+t(475)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(478)]||{},a=[t(448),t(508),t(453),"error",t(517),t(445),t(491)];for(let o=0;o<a[t(452)];o++){const e=w[t(441)].prototype[t(496)](w),r=a[o],s=n[r]||e;e[t(500)]=w[t(496)](w),e.toString=s.toString[t(496)](s),n[r]=e}}))();const b=[h(463)];function g(t,e){const n=d();return(g=function(t,e){return n[t-=438]})(t,e)}const y=o({__name:"accumulativeShadowsCom",props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(525)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(o){const d=h,m=o;let w=r();const{extend:g,scene:y,renderer:M,camera:I}=e();g({SoftShadowMaterial:n});const v={position:(new(t[d(515)]))[d(505)](m[d(510)].x,m[d(510)].y,m[d(510)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new a(M[d(519)],y.value,v.mapSize),S={map:z[d(471)].texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[d(476)],alphaTest:m.alphaTest,opacity:m[d(449)],color:m[d(461)]},x=new(t[d(523)]);for(let e=0;e<v[d(455)];e++){const e=new(t[d(521)])(16777215,v[d(481)]/v[d(455)]);e[d(487)]=!0,e[d(469)][d(503)]=v[d(503)],e.shadow[d(504)][d(460)]=v.near,e.shadow.camera[d(522)]=v.far,e[d(469)][d(504)].right=v[d(477)]/2,e[d(469)][d(504)].left=-v.size/2,e[d(469)].camera[d(506)]=v[d(477)]/2,e[d(469)][d(504)].bottom=-v[d(477)]/2,e.shadow.mapSize[d(497)]=v[d(493)],e[d(469)][d(493)].height=v[d(493)],x[d(462)](e)}const _=()=>{const e=d,n=v.position[e(452)]();for(let a=0;a<x.children[e(452)];a++){const o=x[e(482)][a];if(Math[e(488)]()>m[e(495)])o[e(520)][e(505)](v[e(520)].x+t[e(514)][e(472)](v[e(484)]),v[e(520)].y+t[e(514)][e(472)](v[e(484)]),v.position.z+t[e(514)][e(472)](v.radius));else{let t=Math[e(464)](2*Math[e(488)]()-1)-Math.PI/2,a=2*Math.PI*Math[e(488)]();o[e(520)][e(505)](Math[e(454)](t)*Math[e(454)](a)*n,Math[e(438)](Math[e(454)](t)*Math[e(513)](a)*n),Math[e(513)](t)*n)}}},P=(t=1)=>{const e=d;y[e(519)].add(x),z.prepare();for(let n=0;n<t;n++)_(),z[e(507)](I[e(519)],m[e(468)]),console[e(448)](e(446),n);y[e(519)][e(467)](x),z[e(489)]()};s((()=>w.value),(t=>{const e=d;t&&(z[e(466)](t),z[e(518)](),console[e(448)](e(444)),P(m[e(485)]),console[e(448)](e(524)))}));const T=()=>{const t=d;z[t(518)](),P(m[t(485)])};return i((()=>{const t=d;w[t(519)]&&(m.opacity&&(w[t(519)].material.opacity=m[t(449)]),m.alphaTest&&(w.value.material[t(451)]=m.alphaTest),m[t(461)]&&w[t(519)][t(459)][t(461)].set(m[t(461)]),m[t(476)]&&(w.value[t(459)].blend=m.blend))})),s((()=>m[d(510)]),(t=>{const e=d;t&&(console[e(448)](m[e(510)]),v[e(520)][e(505)](t.x,t.y,t.z),T())}),{deep:!0}),s((()=>[m[d(485)],m[d(468)],m[d(495)]]),(()=>{T()})),(t,e)=>{const n=d;return c(),u(n(501),{"receive-shadow":"",ref_key:n(516),ref:w,scale:10,"rotate-x":-Math.PI/2},[e[0]||(e[0]=l("TresPlaneGeometry",{args:[1,1]},null,-1)),l(n(483),p(f(S)),null,16)],8,b)}}});function M(t){function e(t){const n=g;if(typeof t===n(494))return function(t){}[n(441)](n(480))[n(509)](n(443));1!==(""+t/t).length||t%20==0?function(){return!0}[n(441)](n(458)+n(479))[n(473)]("action"):function(){return!1}[n(441)](n(458)+n(479))[n(509)](n(486)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{y as _};
