import{P as t}from"./tweakpane.yDiyAAkA1742205305014.js";import{e,h as n,a as o,o as r}from"./@tresjs.nk0nhZ9a1742205305014.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.UW0Qa0NX1742205305014.js";import{_ as a,C as s}from"./three.LxxvsMJG1742205305014.js";import{d as l,a6 as u,a3 as c,w as f,o as m,H as p,N as d,u as h,j as g,r as v,e as I,f as x,g as w,al as S,m as y}from"./@vue.NRI7TcgI1742205305014.js";import"./postprocessing.lrLv6HE21742205305014.js";import"./@vueuse.w6JAmAgA1742205305014.js";import"./all.three.Cv1ruM2n1742205305014.js";import"./oimophysics.x0jH7fze1742205305014.js";const _=U;!function(t,e){const n=U,o=N();for(;;)try{if(153196===parseInt(n(267))/1*(parseInt(n(307))/2)+-parseInt(n(248))/3+parseInt(n(240))/4*(parseInt(n(272))/5)+parseInt(n(245))/6*(parseInt(n(258))/7)+parseInt(n(299))/8*(-parseInt(n(242))/9)+-parseInt(n(282))/10*(parseInt(n(265))/11)+parseInt(n(246))/12*(parseInt(n(302))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const b=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[U(263)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=U,e=new RegExp(t(291)),n=new RegExp(t(300),"i"),o=O(t(264));e[t(296)](o+t(295))&&n[t(296)](o+"input")?O():o("0")}))()}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[U(263)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function U(t,e){const n=N();return(U=function(t,e){return n[t-=239]})(t,e)}function N(){const t=["__proto__","return (function() ","rotateX","log","AdditiveBlending","prototype","table","TresGroup","color","393220fPLOPH","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","error","bind","blending","baseMaterial","array","EllipseCurve","floor","function *\\( *\\)","yRadius","set","map","chain","test","push","info","38000bgoRBy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","23972fvHzZs","trace","constructor","TresPoints","getPoints","2DfLsOU","length","alphaMap","514744tofNWi","baseColor","45VLhqDW","position","while (true) {}","314538byGNeV","1476mCkCnv","lineMagicZone","561831dAZsxE","warn","getAttribute","debu","value","#90ee90","toString","call","PointsMaterial","#409eff","7qkBoAg","uTime","aNormal","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","console","apply","init","55RsaqiU","counter","24226zELBgP","speed","height","BufferGeometry","action","10nicATK"];return(N=function(){return t})()}T(void 0,(function(){const t=U;let e;try{e=Function(t(274)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e[t(262)]||{},o=[t(276),t(249),t(298),t(284),"exception",t(279),t(303)];for(let i=0;i<o[t(308)];i++){const e=T[t(304)][t(278)][t(285)](T),r=o[i],a=n[r]||e;e[t(273)]=T.bind(T),e.toString=a[t(254)][t(285)](a),n[r]=e}}))();const C=[_(275)],P=[_(243),"aIndex",_(260)],W=_(261),j=_(283),M=l({__name:_(247),props:{height:{default:1.6},speed:{default:1},color:{default:_(253)}},async setup(t){const r=_;let i,l;const v=u(),I=t,x=([i,l]=c((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,l(),i),w=new(a[r(289)])(0,0,8,8,0,2*Math.PI,!1,0),S=[];for(let e=0;e<5;e++)S[r(297)](...w[r(306)](719)),w.xRadius+=.2,w[r(292)]+=.2;const y=new Float32Array(S[r(294)](((t,e)=>e))),b=(new(a[r(270)])).setFromPoints(S)[r(250)]("position")[r(288)],T=new Float32Array(b[r(308)]);for(let e=0;e<b[r(308)]/3;e++){const t=3*e;b[t+1]+=.15*Math[r(290)](e/720);const n=e%720*3,o=3*(e%720+2880);T[t]=b[o]-b[n],T[t+1]=b[o+1]-b[n+1],T[t+2]=b[o+2]-b[n+2]}const U={uTime:{value:0},uScale:{value:v.scale?v.scale:1},uHeight:{value:I[r(269)]},uPerlinTexture:{value:x[1]},baseColor:{value:new s(I[r(281)])}},{onLoop:N}=e();return N((()=>{const t=r;U[t(259)][t(252)]+=.01*I[t(268)]})),f((()=>[I[r(281)],v.scale,I.height]),(([t,e,n])=>{const o=r;U[o(241)].value[o(293)](t),U.uScale[o(252)]=e,U.uHeight[o(252)]=n})),(t,e)=>{const o=r;return m(),p(o(280),null,[d(o(305),{rotateX:-Math.PI/2,scale:.1},[d("TresBufferGeometry",{position:[h(b),3],aIndex:[h(y),1],aNormal:[h(T),3]},null,8,P),g(h(n),{baseMaterial:a[o(256)],vertexShader:W,fragmentShader:j,uniforms:U,map:h(x)[0],alphaMap:h(x)[0],transparent:"",depthWrite:!1,blending:a[o(277)],color:o(257),size:.1},null,8,[o(287),o(294),o(239),o(286)])],8,C)])}}});function O(t){function e(t){const n=U;if("string"==typeof t)return function(t){}[n(304)](n(244))[n(263)](n(266));1!==(""+t/t)[n(308)]||t%20==0?function(){return!0}[n(304)](n(251)+n(301))[n(255)](n(271)):function(){return!1}[n(304)](n(251)+n(301))[n(263)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=R;!function(t,e){const n=R,o=z();for(;;)try{if(134021===-parseInt(n(226))/1+-parseInt(n(213))/2*(-parseInt(n(204))/3)+-parseInt(n(203))/4*(parseInt(n(209))/5)+parseInt(n(212))/6+-parseInt(n(201))/7+parseInt(n(216))/8+-parseInt(n(233))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[R(242)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function z(){const t=["constructor","string","console","bind","595ToMDAl","init","#201919","1556004xOVFHU","22IrVaoB","info","debu","642000WoJBtI","action","speed","color","prototype","counter","height","TresPerspectiveCamera","__proto__","test","170281adsSKO","warn","scale","while (true) {}","return (function() ","toString","chain","1085211XoAUUl",'{}.constructor("return this")( )',"exception","call","length","table","trace","addBinding","gger","apply","77413XQcSMs","lineMagicZone","4392uutJCC","61914fRmuBu"];return(z=function(){return t})()}!function(){D(this,(function(){const t=R,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=E(t(210));e[t(225)](o+t(232))&&n[t(225)](o+"input")?E():o("0")}))()}();const B=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function R(t,e){const n=z();return(R=function(t,e){return n[t-=201]})(t,e)}B(void 0,(function(){const t=R,e=function(){const t=R;let e;try{e=Function(t(230)+t(234)+");")()}catch(n){e=window}return e}(),n=e[t(207)]=e[t(207)]||{},o=["log",t(227),t(214),"error",t(235),t(238),t(239)];for(let r=0;r<o[t(237)];r++){const e=B[t(205)][t(220)][t(208)](B),i=o[r],a=n[i]||e;e[t(224)]=B[t(208)](B),e[t(231)]=a[t(231)][t(208)](a),n[i]=e}}))();const L=l({__name:A(202),setup(e){const n=A,o=v({reflectivity:.1,showGridHelper:!0,scale:1}),a=v({color:"#ff0000",scale:1.8,height:2.4,speed:1}),s=new t;return s.addBinding(a,n(219),{label:"颜色"}),s[n(240)](a,n(228),{label:"大小",min:.1,max:3,step:.1}),s.addBinding(a,n(222),{label:"高度",min:.1,max:3,step:.1}),s[n(240)](a,n(218),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=I("TresCanvas");return m(),x(l,{clearColor:s(211),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:w((()=>[e[0]||(e[0]=d(s(223),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(h(r),{enableDamping:""}),e[1]||(e[1]=d("TresAmbientLight",{intensity:2},null,-1)),(m(),x(S,null,{default:w((()=>[g(M,y({position:[3,0,0]},a),null,16)])),_:1})),(m(),x(S,null,{default:w((()=>[g(M,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(m(),x(S,null,{default:w((()=>[g(i,y({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function E(t){function e(t){const n=R;if(typeof t===n(206))return function(t){}.constructor(n(229))[n(242)](n(221));1!==(""+t/t)[n(237)]||t%20==0?function(){return!0}[n(205)](n(215)+n(241))[n(236)](n(217)):function(){return!1}.constructor(n(215)+n(241))[n(242)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{L as default};
