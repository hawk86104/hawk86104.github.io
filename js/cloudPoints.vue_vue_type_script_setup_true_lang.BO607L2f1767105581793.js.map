{"version":3,"file":"cloudPoints.vue_vue_type_script_setup_true_lang.BO607L2f1767105581793.js","sources":["../../src/plugins/medical/components/cloudPoints.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2023-11-14 09:01:11\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2024-01-05 15:44:11\n-->\n<template>\n\t<primitive :object=\"cloudModel\" />\n</template>\n\n<script setup lang=\"ts\">\nconst props = withDefaults(defineProps<{\n\tmodel: Group\n\tcolor?: string,\n\topacity?: number\n\tisRemoveSrc?: boolean\n}>(), {\n\tcolor: '#FFF',\n\topacity: 1.0,\n\tisRemoveSrc: false\n})\nimport { Points, PointsMaterial, Mesh, Group, Color } from 'three'\nimport { watchEffect } from 'vue';\n\nconst cloudModel = new Group()\nprops.model.traverse((child) => {\n\tif (child instanceof Mesh) {\n\t\tconst pbgeometry = child.geometry.clone()\n\t\tchild.geometry.dispose()\n\t\tchild.material.dispose()\n\t\tconst pmaterial = new PointsMaterial({ color: props.color });\n\t\tpmaterial.opacity = props.opacity\n\t\tpmaterial.transparent = true\n\t\tconst pointsMesh = new Points(pbgeometry, pmaterial)\n\t\tcloudModel.add(pointsMesh)\n\t\tif (props.model.parent) {\n\t\t\tcloudModel.applyMatrix4(props.model.parent.matrix)\n\t\t}\n\t\tif (props.isRemoveSrc) {\n\t\t\tchild.removeFromParent()\n\t\t}\n\t}\n})\n\nwatchEffect(() => {\n\tif (props.color) {\n\t\tcloudModel.traverse((child) => {\n\t\t\tif (child instanceof Points) {\n\t\t\t\tchild.material.color = new Color(props.color)\n\t\t\t}\n\t\t})\n\t}\n\tif (props.opacity) {\n\t\tcloudModel.traverse((child) => {\n\t\t\tif (child instanceof Points) {\n\t\t\t\tchild.material.opacity = props.opacity\n\t\t\t}\n\t\t})\n\t}\n});\n</script>"],"names":[],"mappings":"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"}