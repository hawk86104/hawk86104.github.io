var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.0QKM4d061736406294003.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.vfXujXM91736406294003.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.XOk4pIG61736406294003.js";import{k as o,U as s,C as l,m as c,W as u,bb as p,h as f,e as x,_ as v,a9 as m,A as w,V as h,Q as g}from"./three.jaHX2_hY1736406294003.js";import{m as d,e as y}from"./@tresjs.AACxYGk_1736406294003.js";import{u as S}from"./index.kRzWk3zA1736406294003.js";import{F as _,C as P}from"./three-stdlib.BOoafp_E1736406294003.js";import{d as z}from"./@vue.yG49nQHr1736406294003.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.6WK4MLOo1736406294003.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.o5YZuI4T1736406294003.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.tWJgON9Z1736406294003.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.QYAmTxdk1736406294003.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.2HGYjM5S1736406294003.js";const b=I;function I(t,e){const n=M();return(I=function(t,e){return n[t-=493]})(t,e)}!function(t,e){const n=I,i=M();for(;;)try{if(975772===-parseInt(n(515))/1*(parseInt(n(501))/2)+-parseInt(n(500))/3*(-parseInt(n(505))/4)+parseInt(n(518))/5*(parseInt(n(496))/6)+parseInt(n(516))/7*(-parseInt(n(523))/8)+parseInt(n(497))/9+parseInt(n(525))/10+-parseInt(n(513))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(528)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function M(){const t=["246526QZPsqe","console","8614245tLhnla","test","constructor","table","debu","392IVdDkF","log","5399010UZSPMU","gger","prototype","apply","string","info","chain","call","trace","6kOLNWg","15379686YzQAgt","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","753231MCSIhp","260174BfiRmS","bind","function *\\( *\\)","length","28laekef","input","toString","exception",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n','{}.constructor("return this")( )',"while (true) {}","init","14702138IQtbqO","counter","13WWRVRz"];return(M=function(){return t})()}!function(){E(this,(function(){const t=I,e=new RegExp(t(503)),n=new RegExp(t(498),"i"),i=D(t(512));e[t(519)](i+t(493))&&n[t(519)](i+t(506))?D():i("0")}))()}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(528)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();A(void 0,(function(){const t=I,e=function(){const t=I;let e;try{e=Function("return (function() "+t(510)+");")()}catch(n){e=window}return e}(),n=e[t(517)]=e[t(517)]||{},i=[t(524),t(499),t(530),"error",t(508),t(521),t(495)];for(let r=0;r<i[t(504)];r++){const e=A[t(520)][t(527)].bind(A),a=i[r],o=n[a]||e;e.__proto__=A[t(502)](A),e[t(507)]=o[t(507)][t(502)](o),n[a]=e}}))();const L=b(509);function D(t){function e(t){const n=I;if(typeof t===n(529))return function(t){}[n(520)](n(511))[n(528)](n(514));1!==(""+t/t)[n(504)]||t%20==0?function(){return!0}.constructor(n(522)+n(526))[n(494)]("action"):function(){return!1}[n(520)](n(522)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function U(t,e){const n=V();return(U=function(t,e){return n[t-=299]})(t,e)}function V(){const t=["162aWstxt","apply","action","counter","68364PlJUUK","318459YVwwwe","test","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","warn","2801061ECStqF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","defines","3664168IBuLXV","__proto__","stateObject","bind","while (true) {}","log","init","info","363DlHicU","295690dynIhK","185QjJBkT","30653jVEDNX","table","uniforms","trace","36GhFbPM","toString","return (function() ","gger","chain","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","prototype","constructor",'{}.constructor("return this")( )',"string","4038aoEZud","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","console","error","10ejVLmy","input"];return(V=function(){return t})()}const j=U;!function(t,e){const n=U,i=V();for(;;)try{if(583044===parseInt(n(320))/1*(parseInt(n(335))/2)+-parseInt(n(302))/3+parseInt(n(325))/4*(parseInt(n(319))/5)+parseInt(n(341))/6*(parseInt(n(321))/7)+-parseInt(n(310))/8+-parseInt(n(306))/9*(-parseInt(n(339))/10)+-parseInt(n(318))/11*(parseInt(n(301))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(342)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){O(this,(function(){const t=U,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(307),"i"),i=W(t(316));e.test(i+t(329))&&n[t(303)](i+t(340))?W():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(342)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function R(t){const e=U,n=a({},t);return e(309)in t&&(n[e(309)]=a({},t[e(309)])),e(323)in t&&(n[e(323)]=s.clone(t.uniforms)),n}T(void 0,(function(){const t=U;let e;try{e=Function(t(327)+t(333)+");")()}catch(r){e=window}const n=e[t(337)]=e.console||{},i=[t(315),t(305),t(317),t(338),"exception",t(322),t(324)];for(let a=0;a<i.length;a++){const e=T[t(332)][t(331)].bind(T),r=i[a],o=n[r]||e;e[t(311)]=T[t(313)](T),e[t(326)]=o[t(326)][t(313)](o),n[r]=e}}))();const k={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:j(304),fragmentShader:j(336)+L+j(330)};function W(t){function e(t){const n=U;if(typeof t===n(334))return function(t){}[n(332)](n(314))[n(342)](n(300));1!==(""+t/t).length||t%20==0?function(){return!0}[n(332)](n(308)+n(328)).call(n(299)):function(){return!1}.constructor(n(308)+"gger")[n(342)](n(312)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const C=H;!function(t,e){const n=H,i=F();for(;;)try{if(649742===-parseInt(n(186))/1+parseInt(n(163))/2+-parseInt(n(156))/3+parseInt(n(148))/4+parseInt(n(166))/5+parseInt(n(178))/6*(-parseInt(n(184))/7)+parseInt(n(162))/8*(-parseInt(n(149))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){N(this,(function(){const t=H,e=new RegExp(t(126)),n=new RegExp(t(189),"i"),i=Y(t(129));e[t(155)](i+"chain")&&n[t(155)](i+t(164))?Y():i("0")}))()}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[H(150)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function F(){const t=["6SdWSMK","X_IS_EVEN","autoClear","_mipQuad","warn","setClearAlpha","2629963LtJsrb","constructor","698457dlHTpP","_mipMaterials","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","dispose","console","minFilter","isWebGLRenderTarget","render","trace","map","floor","camera","forEach","height","function *\\( *\\)","clear","setViewOffset","init","toString","bind","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","_swapTarget","update","getClearColor","Y_IS_EVEN","__proto__","material","while (true) {}","getClearAlpha","stateObject","floorPowerOfTwo","info","setClearColor","return (function() ","set","getRenderTarget","5095916bmsosn","25776OZLIju","apply","prototype","exception","width","setSize","test","733503TlcEko","parentLevel","fragmentShader","uniforms","replace","type","2312DasuVt","1804350NSpfsn","input","parentMapSize","3099755LLtkLi","defines","texture","error","debu","length","value","copy","image","gger","setRenderTarget","magFilter"];return(F=function(){return t})()}function H(t,e){const n=F();return(H=function(t,e){return n[t-=119]})(t,e)}Z(void 0,(function(){const t=H,e=function(){const t=H;let e;try{e=Function(t(145)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(191)]=e[t(191)]||{},i=["log",t(182),t(143),t(169),t(152),"table",t(120)];for(let r=0;r<i[t(171)];r++){const e=Z[t(185)][t(151)][t(131)](Z),a=i[r],o=n[a]||e;e[t(137)]=Z[t(131)](Z),e[t(130)]=o.toString[t(131)](o),n[a]=e}}))();const Q=new l;class X{constructor(t){const e=H;!t&&(t=e(132));const n=R(k);n[e(158)]=n[e(158)][e(160)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(R(n)),i[0][e(167)][e(179)]=0,i[0].defines[e(136)]=0,i[1]=new c(R(n)),i[1][e(167)].X_IS_EVEN=1,i[1][e(167)][e(136)]=0,i[2]=new c(R(n)),i[2][e(167)][e(179)]=0,i[2][e(167)][e(136)]=1,i[3]=new c(R(n)),i[3][e(167)].X_IS_EVEN=1,i[3][e(167)][e(136)]=1;const r=new u;r[e(168)][e(192)]=p,r.texture[e(177)]=p,this[e(133)]=r,this._copyQuad=new _(new c(P)),this._mipQuad=new _(null),this._mipMaterials=i}[C(134)](t,e,n,i=!1){const r=C;t[r(193)]&&(t=t[r(168)]);const o=n[r(180)],s=n[r(140)](),l=n[r(147)]();n[r(135)](Q);const c=this._copyQuad,u=this[r(181)],p=this._swapTarget,x=this._mipMaterials;let v,m;i?(v=f[r(142)](t[r(174)][r(153)]),m=f[r(142)](t.image[r(125)])):(v=Math[r(122)](t.image.width),m=Math.floor(t[r(174)][r(125)]));const w=Math.floor(1.5*v),h=Math[r(122)](m);e[r(154)](w,h),p[r(168)].type!==e.texture[r(161)]?(p[r(190)](),p[r(173)](e),p[r(168)].image=a({},p[r(168)][r(174)])):p[r(154)](w,h),n[r(180)]=!1,n[r(144)](0),n[r(183)](),c[r(138)][r(159)].tDiffuse[r(172)]=t,c.camera[r(128)](v,m,0,0,w,h),n.setRenderTarget(e),n[r(127)](),c[r(119)](n),n[r(176)](p),n[r(127)](),c[r(119)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(159)][r(121)][r(172)]=p[r(168)],t[r(159)][r(157)][r(172)]=y,t[r(159)][r(165)][r(172)].set(g,d),t[r(159)].originalMapSize[r(172)][r(146)](v,m),u[r(138)]=t,g=Math[r(122)](g/2),d=Math.floor(d/2);const i=h-2*d;n[r(176)](e),u[r(123)].setViewOffset(g,d,-v,-i,w,h),u.render(n),n[r(176)](p),t[r(159)][r(121)][r(172)]=e[r(168)],u[r(119)](n),y++}return n[r(176)](l),n[r(183)](s),n[r(144)](Q),n[r(180)]=o,y+1}[C(190)](){const t=C;this[t(133)][t(190)](),this._mipQuad.dispose(),this._copyQuad.dispose(),this[t(187)][t(124)]((t=>t.dispose()))}}function Y(t){function e(t){const n=H;if(typeof t===n(188))return function(t){}.constructor(n(139))[n(150)]("counter");1!==(""+t/t)[n(171)]||t%20==0?function(){return!0}[n(185)](n(170)+"gger").call("action"):function(){return!1}[n(185)]("debu"+n(175)).apply(n(141)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const $=K;!function(t,e){const n=K,i=q();for(;;)try{if(728064===-parseInt(n(461))/1+-parseInt(n(457))/2*(parseInt(n(462))/3)+parseInt(n(454))/4*(parseInt(n(490))/5)+parseInt(n(467))/6*(-parseInt(n(524))/7)+-parseInt(n(510))/8+-parseInt(n(501))/9+-parseInt(n(458))/10*(-parseInt(n(525))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[K(526)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function q(){const t=["UnsignedByteType","input","error","function *\\( *\\)","setMask","6329295lIORqh","374bjiUwM","apply","updateMatrixWorld","bind","Vector4","applyQuaternion","Quaternion","1105640FdVnjI","init","update","2iuoslY","1352870onekKo","test","projectionMatrix","1045518hrgifV","3671961hYfAXJ","Vector3","add","getRenderTarget","chain","6IkXvBC","projectPoint","visible","clone","depth","setRenderTarget","debu","string","console","action","constructor",'{}.constructor("return this")( )',"toString","trace","negate","length","resolution","gger","sign","dot","reflect","copy","Matrix4","20zqhHdu","reflectorMipMap","parent","log","autoClear","getWorldQuaternion","matrixWorld","__proto__","forEach","elements","multiply","11819034ndCwnq","position","value","call","getWorldPosition","applyMatrix4","prototype","buffers","lookAt","3923344uOCdOe","normal","while (true) {}","matrixWorldInverse","set","state","constant","sub","ignoreObjects"];return(q=function(){return t})()}!function(){G(this,(function(){const t=K,e=new RegExp(t(522)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=tt(t(455));e.test(i+t(466))&&n[t(459)](i+t(520))?tt():i("0")}))()}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[K(526)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();B(void 0,(function(){const t=K;let e;try{e=Function("return (function() "+t(478)+");")()}catch(r){e=window}const n=e[t(475)]=e[t(475)]||{},i=[t(493),"warn","info",t(521),"exception","table",t(480)];for(let a=0;a<i[t(482)];a++){const e=B[t(477)][t(507)][t(528)](B),r=i[a],o=n[r]||e;e[t(497)]=B[t(528)](B),e[t(479)]=o[t(479)][t(528)](o),n[r]=e}}))();const J=z({__name:$(491),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=$,i=t,r=new x,a=new(v[n(489)]),o=new m,s=new X,l=S({width:i.resolution,height:i[n(483)],settings:{type:v[n(519)]}}),c=S({width:i.resolution,height:i[n(483)],settings:{type:w}}),{camera:u,renderer:p,scene:f}=d(),{onBeforeLoop:_}=y();return _((()=>{const t=n;(()=>{const t=n;if(!u[t(503)])return;r[t(514)](new(v[t(463)])(0,1,0),0),r[t(506)](i[t(492)][t(496)]),o.copy(u[t(503)]);const e=new(v[t(463)])(0,0,1)[t(470)]().negate(),s=u[t(503)][t(505)](new h);e[t(487)](r[t(511)]);const c=new(v[t(463)]);r[t(468)](s,c);const x=c[t(470)]();x.sub(s),x[t(464)](c),o[t(502)][t(488)](x);const m=new(v[t(463)])(0,0,-1);m[t(452)](u[t(503)][t(495)](new g)),m[t(464)](s);const w=new(v[t(463)]);i[t(492)][t(505)](w),w[t(517)](m),w[t(487)](r.normal)[t(481)](),w[t(464)](i[t(492)].getWorldPosition(new(v[t(463)]))),o.up[t(514)](0,1,0),o[t(452)](u.value[t(495)](new(v[t(453)]))),o.up[t(487)](r.normal),o[t(509)](w),o[t(527)]();const d=new(v[t(489)]);d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(500)](o[t(460)]),d[t(500)](o.matrixWorldInverse),a.copy(d),r[t(506)](o[t(513)]);const y=new(v[t(451)])(r[t(511)].x,r[t(511)].y,r.normal.z,r[t(516)]),S=o[t(460)],_=new(v[t(451)]);_.x=(Math[t(485)](y.x)+S[t(499)][8])/S[t(499)][0],_.y=(Math[t(485)](y.y)+S.elements[9])/S[t(499)][5],_.z=-1,_.w=(1+S.elements[10])/S.elements[14],y.multiplyScalar(2/y[t(486)](_)),S[t(499)][2]=y.x,S[t(499)][6]=y.y,S.elements[10]=y.z+1,S.elements[14]=y.w;const P=p.value[t(465)]();p[t(503)].setRenderTarget(l[t(503)]),p[t(503)][t(515)][t(508)][t(471)][t(523)](!0),!1===p.value[t(494)]&&p[t(503)].clear(),i[t(518)][t(498)]((t=>t.visible=!1)),p[t(503)].render(f[t(503)],o),i[t(518)].forEach((e=>e[t(469)]=!0)),p[t(503)][t(472)](P)})(),l.value&&c[t(503)]&&p[t(503)]&&s[t(456)](l[t(503)].texture,c[t(503)],p[t(503)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function K(t,e){const n=q();return(K=function(t,e){return n[t-=451]})(t,e)}function tt(t){function e(t){const n=K;if(typeof t===n(474))return function(t){}[n(477)](n(512))[n(526)]("counter");1!==(""+t/t)[n(482)]||t%20==0?function(){return!0}[n(477)](n(473)+n(484))[n(504)](n(476)):function(){return!1}[n(477)](n(473)+n(484))[n(526)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function et(t,e){var n=nt();return(et=function(t,e){return n[t-=175]})(t,e)}function nt(){var t=["700947RXCxdz","chain","exception","init","string","__proto__","log","test","function *\\( *\\)","constructor","bind","738594auemeR","1666ZRApNz","79134NznnGA","gger","49507HgJUqZ","action","2yhDwwq","toString","9680wLPGkG","prototype","console","error","884949EvZWOR",'{}.constructor("return this")( )',"warn","apply","debu","stateObject","trace","470qcepDg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","15egwijQ","return (function() ","1390240vPRJou","counter","length"];return(nt=function(){return t})()}!function(t,e){for(var n=et,i=nt();;)try{if(195994===-parseInt(n(178))/1+parseInt(n(180))/2*(parseInt(n(186))/3)+parseInt(n(197))/4+parseInt(n(195))/5*(-parseInt(n(211))/6)+-parseInt(n(175))/7*(parseInt(n(182))/8)+-parseInt(n(200))/9+-parseInt(n(193))/10*(-parseInt(n(176))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var it=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(189)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){it(this,(function(){var t=et,e=new RegExp(t(208)),n=new RegExp(t(194),"i"),i=at(t(203));e[t(207)](i+t(201))&&n[t(207)](i+"input")?at():i("0")}))()}();var rt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function at(t){function e(t){var n=et;if(typeof t===n(204))return function(t){}[n(209)]("while (true) {}")[n(189)](n(198));1!==(""+t/t).length||t%20==0?function(){return!0}[n(209)](n(190)+n(177)).call(n(179)):function(){return!1}[n(209)](n(190)+n(177)).apply(n(191)),e(++t)}try{if(t)return e;e(0)}catch(n){}}rt(void 0,(function(){for(var t=et,e=function(){var t,e=et;try{t=Function(e(196)+e(187)+");")()}catch(n){t=window}return t}(),n=e[t(184)]=e[t(184)]||{},i=[t(206),t(188),"info",t(185),t(202),"table",t(192)],r=0;r<i[t(199)];r++){var a=rt.constructor[t(183)][t(210)](rt),o=i[r],s=n[o]||a;a[t(205)]=rt.bind(rt),a[t(181)]=s[t(181)][t(210)](s),n[o]=a}}))();export{J as _};
