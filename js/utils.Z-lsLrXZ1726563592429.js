import{a as t,B as n,s as e,c0 as o,C as r,k as s,a0 as c}from"./three.ZWd_rX7H1726563592429.js";import{x as i}from"./@fesjs.Kb69K-9r1726563592429.js";import{z as a}from"./@tresjs.Mu0zjs701726563592429.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.Z7OdME_M1726563592429.js";!function(t,n){const e=m,o=d();for(;;)try{if(514176===-parseInt(e(215))/1+parseInt(e(226))/2*(parseInt(e(230))/3)+parseInt(e(199))/4*(-parseInt(e(182))/5)+parseInt(e(192))/6*(-parseInt(e(202))/7)+-parseInt(e(238))/8+-parseInt(e(193))/9*(-parseInt(e(220))/10)+parseInt(e(201))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(232)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(239),"i"),o=I("init");n.test(o+t(211))&&e[t(233)](o+t(217))?I():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(232)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=d();return(m=function(t,n){return e[t-=168]})(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(225)+t(231)+");")()}catch(e){n=window}return n}(),e=n[t(205)]=n.console||{},o=["log",t(235),"info",t(204),t(237),t(179),"trace"];for(let r=0;r<o[t(168)];r++){const n=g[t(219)][t(229)].bind(g),s=o[r],c=e[s]||n;n[t(223)]=g[t(196)](g),n[t(206)]=c[t(206)].bind(c),e[s]=n}}))();const h=(n,e=!1)=>{const o=m;n[o(181)]();const{max:r,min:s}=n[o(172)];n[o(216)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(197)][o(207)][o(178)];t++)e?(a[o(183)]((n.attributes.position.getX(t)-(s.x+r.x)/2)/c),a[o(183)]((n.attributes.position[o(185)](t)-(s.y+r.y)/2)/i)):(a[o(183)]((n.attributes[o(207)][o(170)](t)-s.x)/c),a[o(183)]((n[o(197)][o(207)].getY(t)-s.y)/i));const u=new Float32Array(a);n[o(195)]("uv",new t(u,2))};function d(){const t=['{}.constructor("return this")( )',"apply","test","gger","warn","geometry","exception","4571080XHCeLH","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","then","transparent","max","uniforms","length","sub","getX","features","boundingBox","counter","side","add","stateObject","setFromObject","count","table","negate","computeBoundingBox","10ICqjVY","push","depthTest","getY","getSize","call","depthWrite","applyMatrix4","catch","children","14202jhmxIV","23904TyfxrP","while (true) {}","setAttribute","bind","attributes","computeBoundsTree","797624XYpxBt","set","13189231TfEYcJ","553Fcjcbg","forEach","error","console","toString","position","getCenter","random","debu","chain","Vector3","get","value","190909mADQzn","deleteAttribute","input","center","constructor","350yaCeoI","divideScalar","min","__proto__","expandByObject","return (function() ","190098woaVPU","material","copy","prototype","18bnBfvi"];return(d=function(){return t})()}const y=(t,n)=>new Promise(((e,o)=>{const r=m;i(t,{},{method:r(213),mergeRequest:!0})[r(240)]((t=>{const o=r;n&&e(t[n]),e(t[o(171)])}))[r(190)]((t=>{console[r(204)](t),o(t)}))})),x=t=>{const n=m,e=(new THREE.Box3)[n(177)](t),o=new(THREE[n(212)]);e[n(208)](o),t[n(191)][n(203)]((t=>{t[n(207)].sub(o)})),t[n(207)][n(228)](o.negate())},w=()=>{const t=m;n[t(229)][t(198)]=u,n[t(229)].disposeBoundsTree=f,e.prototype.raycast=p},b=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(236)].clone();h(i),i[n(198)]();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(241)]=!0,u[n(227)][n(188)]=!0,u[n(227)][n(184)]=!0,u[n(227)][n(174)]=c,u[n(227)][n(243)].config[n(214)].w=20,u[n(227)][n(243)].reflectivity[n(214)]=.46,u};function j(t){const n=m,e=[];for(let r=0;r<t.length;r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(168)];r++)o[n(175)](e[r]);o[n(221)](e[n(168)]);for(let r=0;r<e[n(168)];r++)e[r][n(169)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=m;if("string"==typeof t)return function(t){}[e(219)](e(194)).apply(e(173));1!==(""+t/t)[e(168)]||t%20==0?function(){return!0}[e(219)](e(210)+e(234))[e(187)]("action"):function(){return!1}[e(219)](e(210)+e(234))[e(232)](e(176)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,w as i,y as l,h as r,b as s};
