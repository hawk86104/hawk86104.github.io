import{_ as t}from"./callout.vue_vue_type_script_setup_true_lang.w4D8MmGv1763540743861.js";import{d as a,a as e,q as o,w as l,H as i,o as n,J as r,F as s,X as c,h as u}from"./@vue.Co_gxueH1763540743861.js";import{bb as d,b as h,V as g,B as p,bS as f,f as m}from"./three.rXKzP9fQ1763540743861.js";const v=["position-x"],w=["position"],k=["geometry"],y=["color"],b=["rotation"],M=["color"],x=a({__name:"index",props:{data:{default:[{title:"2019",value:43,right:"%",color:"#5072c4"},{title:"2020",value:94,right:"%",color:"#92cb79"},{title:"2021",value:12,right:"%",color:"#fcc660"},{title:"2022",value:39,right:"%",color:"#f8285b"},{title:"2023",value:74,right:"%",color:"#70c1dd"}]},spacing:{default:0},width:{default:2.6},titleSize:{default:.8},calloutPadding:{default:.02},calloutLinkwidth:{default:.2},calloutLinkheight:{default:.1},calloutWidth:{default:.22},calloutBackground:{default:"#333"}},setup(a){const x=a;let T=[];const S=()=>{T.splice(0,T.length),x.data.forEach(t=>{const a=new d(((t,a,e)=>{const o=(new f).moveTo(a,0),l=[],i=e/36;for(let n=0;n<=e;n+=i){const e=a*Math.cos(n),i=a*Math.sin(n);o.lineTo(e,i),l.push(new m(t*Math.cos(n),t*Math.sin(n)))}return l.reverse().forEach(t=>o.lineTo(t.x,t.y)),o.closePath(),o})(.125,.2,t.value/100*Math.PI*2),{bevelEnabled:!1,depth:.06,bevelSize:.01});a.rotateX(h.degToRad(-90)),T.push(a)})};S();const _=[],z=()=>{_.splice(0,_.length);const t=(()=>{let t=[];const a=(x.width-x.spacing*(x.data.length+1))/x.data.length;return t=new Array(x.data.length).fill(a),t})();let a=0;x.data.forEach((e,o)=>{const l=(x.spacing+t[o])/2;a+=l;let i=0;if(T[o]){T[o].computeBoundingBox();const t=T[o].boundingBox;if(t){const a=new g;t.getSize(a),i=a.y}}_.push({x:a,y:i,data:e,geometry:T[o]}),a+=l})};z();const B=e(null),P=e(0);return o(()=>{(()=>{const t=(new p).setFromObject(B.value);P.value=-(t.max.x+t.min.x)/2})()}),l(()=>[x.titleSize,x.width,x.spacing],()=>{S(),z()}),(a,e)=>(n(),i("TresGroup",null,[r("TresGroup",{"position-x":P.value,ref_key:"tgroup",ref:B},[(n(),i(s,null,c(_,(o,l)=>r("TresGroup",{position:[o.x,.001,0],key:l},[r("TresMesh",{geometry:o.geometry,castShadow:""},[r("TresMeshStandardMaterial",{color:o.data.color,transparent:""},null,8,y)],8,k),r("TresMesh",{rotation:[-Math.PI/2,0,0]},[e[0]||(e[0]=r("TresRingGeometry",{args:[.125,.2,32]},null,-1)),r("TresMeshStandardMaterial",{color:a.calloutBackground,transparent:"",opacity:.5},null,8,M)],8,b),u(t,{position:[0,o.y+.05,0],rotation:[0,-Math.PI/2,0],data:`${o.data.value}${o.data.right}`,fontSize:a.titleSize,padding:a.calloutPadding,linkwidth:a.calloutLinkwidth,linkheight:a.calloutLinkheight,width:a.calloutWidth,background:a.calloutBackground},null,8,["position","rotation","data","fontSize","padding","linkwidth","linkheight","width","background"])],8,w)),64))],8,v)]))}});export{x as _};
