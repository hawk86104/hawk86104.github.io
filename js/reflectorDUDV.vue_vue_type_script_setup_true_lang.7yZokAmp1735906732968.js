import{c7 as t,a3 as e,s as n,t as r}from"./three.VhLXWX0H1735906732968.js";import{b as o}from"./@tresjs.XlmHwCPa1735906732968.js";import{R as s,b as i}from"./all.three.PzCeqUTP1735906732968.js";import{d as c,a4 as a,a1 as u,w as l,o as f,D as p,J as d,u as m}from"./@vue.yG49nQHr1735906732968.js";const h=v;function v(t,e){const n=I();return(v=function(t,e){return n[t-=328]})(t,e)}!function(t,e){const n=v,r=I();for(;;)try{if(532877===-parseInt(n(367))/1*(parseInt(n(355))/2)+parseInt(n(378))/3*(parseInt(n(385))/4)+-parseInt(n(348))/5+parseInt(n(354))/6*(-parseInt(n(379))/7)+parseInt(n(358))/8*(parseInt(n(347))/9)+parseInt(n(380))/10*(parseInt(n(381))/11)+-parseInt(n(343))/12*(-parseInt(n(338))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(362)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=v,e=new RegExp(t(374)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=z(t(352));e[t(370)](r+t(342))&&n[t(370)](r+"input")?z():r("0")}))()}();const y=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(362)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=v;let e;try{e=Function(t(377)+'{}.constructor("return this")( ));')()}catch(o){e=window}const n=e[t(387)]=e.console||{},r=[t(339),t(357),"info","error","exception","table","trace"];for(let s=0;s<r[t(335)];s++){const e=y[t(334)][t(345)].bind(y),o=r[s],i=n[o]||e;e[t(363)]=y[t(361)](y),e[t(373)]=i[t(373)][t(361)](i),n[o]=e}}))();const b=[h(369)],g=[h(376)],j=[h(376)];function I(){const t=["956619VHyzPZ","string","scale","test","rotation","debu","toString","function *\\( *\\)","showGridHelper","object","return (function() ","6PGgZsT","4551666XWmVqm","3554030lBJiNb","22FajStz","primitive","forEach","tReflect","1958380tOIEvH","uniforms","console","value","uReflectivity","wrapS","tReflectBlur","isMesh","textureMatrixUniform","reflectivity","counter","constructor","length","renderTarget","renderTargetUniform","91jzrJsU","log","repeat","onBeforeRender","chain","1988940cuSdlW","reflectorDUDV","prototype","call","476739VqWsYx","3817240ENMtoT","uMatrix","size","TresGroup","init","ignoreObjects","6CnalFS","2cPKsCu","stateObject","warn","8jJdxeg","set","visible","bind","apply","__proto__","while (true) {}","update","gger"];return(I=function(){return t})()}const x=c({__name:h(344),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:v}){const w=h;let y,I;const x=c,z=new s,_=new t(x[w(350)][0]-.5,x.size[1]);_[w(360)]=x[w(375)];const{map:R}=([y,I]=a((()=>o({map:x.mapUrl}))),y=await y,I(),y);R[w(328)]=e,R.wrapT=e,R[w(340)][w(359)](6,3);const E=new i({map:R,reflectivity:x.reflectivity});E[w(386)][w(384)]={value:z[w(336)].texture},E[w(386)][w(329)]=z[w(337)],E[w(386)][w(349)]=z[w(331)];const M=new n(new r(x.size[0],x[w(350)][1]),E);return M[w(371)].x=-Math.PI/2,M.add(z),M[w(341)]=(t,e,n)=>{const r=w;M[r(360)]=!1,x[r(353)][r(383)]((t=>{const e=r;t[e(330)]&&(t.visible=!1),t[e(388)]&&t.value[e(330)]&&(t[e(388)][e(360)]=!1)})),z[r(365)](t,e,n),x[r(353)].forEach((t=>{const e=r;t.isMesh&&(t[e(360)]=!0),t.value&&t.value[e(330)]&&(t[e(388)][e(360)]=!0)})),M[r(360)]=!0},u((()=>{const t=w;x[t(332)]&&(E.uniforms[t(389)][t(388)]=x.reflectivity)})),l((()=>x[w(375)]),(t=>{_.visible=t})),v({reflector:z}),(t,e)=>{const n=w;return f(),p(n(351),{scale:x[n(369)]},[d(n(382),{object:m(M),"position-y":-.01},null,8,g),d("primitive",{object:m(_)},null,8,j)],8,b)}}});function z(t){function e(t){const n=v;if(typeof t===n(368))return function(t){}[n(334)](n(364)).apply(n(333));1!==(""+t/t)[n(335)]||t%20==0?function(){return!0}[n(334)](n(372)+n(366))[n(346)]("action"):function(){return!1}[n(334)](n(372)+n(366)).apply(n(356)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
