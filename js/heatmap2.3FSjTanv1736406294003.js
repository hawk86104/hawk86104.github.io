import{P as t}from"./tweakpane.yHWGBmom1736406294003.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.5jEyDwKa1736406294003.js";import{_ as r}from"./heatmap.js-fix.PFksQZvT1736406294003.js";import{h as i,Y as c,c3 as s,_ as u,B as a,m as p}from"./three.jaHX2_hY1736406294003.js";import{r as f}from"./utils.gRDg9AfU1736406294003.js";import{d as l}from"./pinia.cbjOSx1C1736406294003.js";import{b as h,d,a1 as m,o as g,D as y,J as v,u as w,F as I,q as b,U as _,N as x,P as j,H as S,L as R,a4 as D,r as M,j as P,g as E,m as z}from"./@vue.yG49nQHr1736406294003.js";import{c as U,d as A,a as O}from"./three-mesh-bvh.H0JQq-uA1736406294003.js";import{_ as Z}from"./@fesjs.GZFvw4sh1736406294003.js";import"./@tresjs.AACxYGk_1736406294003.js";import"./@vueuse.d_orRt1V1736406294003.js";import"./three-custom-shader-material.XndQbWGF1736406294003.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736406294003.js";import"./@amap.wPPLvrz51736406294003.js";import"./vue-demi.C4xddsk91736406294003.js";import"./vue-router.8kSNPLfk1736406294003.js";import"./lodash-es.kYt-_xTG1736406294003.js";import"./@qlin.yHhFDldE1736406294003.js";import"./@floating-ui.BPbuo5Gx1736406294003.js";import"./@juggle.7yjBMqoW1736406294003.js";!function(t,n){const e=L,o=k();for(;;)try{if(986327===parseInt(e(495))/1+-parseInt(e(514))/2*(parseInt(e(476))/3)+-parseInt(e(498))/4+-parseInt(e(484))/5+parseInt(e(515))/6*(-parseInt(e(504))/7)+parseInt(e(518))/8+parseInt(e(479))/9*(parseInt(e(489))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=L,n=new RegExp(t(506)),e=new RegExp(t(490),"i"),o=$(t(516));n[t(475)](o+t(510))&&e[t(475)](o+t(505))?$():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["length","setData","height","rgb(255,0,0)","trace","rgb(0,0,255)","test","27372mHjobN","bind",'{}.constructor("return this")( )',"1350927BfsRAp","gger","left","apply","toString","2331155GSAQeL","push","action","body","createElement","40xoKQnS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","__proto__","constructor","yellow","750178aqZuma","none","rgb(0,255,0)","1953108yxBiiF","table","width","return (function() ","position","randInt","70wDAvZk","input","function *\\( *\\)","error","_config","while (true) {}","chain","string","getValueAt","style","248WrtTGy","135426HTsVbc","init","exception","15578648dQDxlX","create","counter","stateObject","debu","prototype","top","call","console"];return(k=function(){return t})()}T(void 0,(function(){const t=L;let n;try{n=Function(t(501)+t(478)+");")()}catch(r){n=window}const e=n[t(468)]=n[t(468)]||{},o=["log","warn",t(491),t(507),t(517),t(499),t(473)];for(let i=0;i<o[t(469)];i++){const n=T.constructor[t(465)][t(477)](T),r=o[i],c=e[r]||n;n[t(492)]=T[t(477)](T),n[t(483)]=c[t(483)][t(477)](c),e[r]=n}}))();const B=(t,n)=>t[L(512)](n)+-10;function L(t,n){const e=k();return(L=function(t,n){return e[t-=461]})(t,n)}function $(t){function n(t){const e=L;if(typeof t===e(511))return function(t){}[e(493)](e(509))[e(482)](e(462));1!==(""+t/t)[e(469)]||t%20==0?function(){return!0}[e(493)](e(464)+e(480))[e(467)](e(486)):function(){return!1}[e(493)](e(464)+e(480))[e(482)](e(463)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=H,o=X();for(;;)try{if(855875===parseInt(e(145))/1*(parseInt(e(141))/2)+parseInt(e(139))/3+-parseInt(e(134))/4+parseInt(e(127))/5+-parseInt(e(149))/6+parseInt(e(135))/7+-parseInt(e(153))/8*(parseInt(e(137))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(148)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=H,n=new RegExp(t(155)),e=new RegExp(t(151),"i"),o=C("init");n[t(143)](o+t(133))&&e[t(143)](o+t(132))?C():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(148)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["2910248kkqZpG","3183530oEKkeP","console","12252357IPyxdS","toString","4520703VfOmPz","string","138RxnoRs","exception","test",'{}.constructor("return this")( )',"19666dBjfVt","counter","stateObject","apply","1817748iWZTXs","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","16qdUzUr","length","function *\\( *\\)","error","gger","info","table","bind","6452480dizivu","prototype","debu","constructor","trace","input","chain"];return(X=function(){return t})()}function H(t,n){const e=X();return(H=function(t,n){return e[t-=123]})(t,n)}N(void 0,(function(){const t=H;let n;try{n=Function("return (function() "+t(144)+");")()}catch(r){n=window}const e=n[t(136)]=n[t(136)]||{},o=["log","warn",t(124),t(156),t(142),t(125),t(131)];for(let i=0;i<o[t(154)];i++){const n=N[t(130)][t(128)].bind(N),r=o[i],c=e[r]||n;n.__proto__=N.bind(N),n.toString=c[t(138)][t(126)](c),e[r]=n}}))();const q=l("buildingsHeatmap",(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n.value=t}}}));function C(t){function n(t){const e=H;if(typeof t===e(140))return function(t){}[e(130)](e(152))[e(148)](e(146));1!==(""+t/t).length||t%20==0?function(){return!0}[e(130)](e(129)+e(123))[e(150)]("action"):function(){return!1}[e(130)](e(129)+e(123))[e(148)](e(147)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=K;!function(t,n){const e=K,o=tt();for(;;)try{if(459128===parseInt(e(294))/1*(-parseInt(e(262))/2)+-parseInt(e(292))/3*(parseInt(e(295))/4)+parseInt(e(307))/5*(parseInt(e(264))/6)+parseInt(e(290))/7*(parseInt(e(254))/8)+-parseInt(e(313))/9+parseInt(e(242))/10*(parseInt(e(298))/11)+-parseInt(e(281))/12*(parseInt(e(286))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=K,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(247),"i"),o=et(t(277));n[t(280)](o+t(246))&&e.test(o+t(279))?et():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(272)+t(300)+");")()}catch(e){n=window}return n}(),e=n[t(301)]=n[t(301)]||{},o=[t(260),t(265),t(268),"error",t(259),t(257),"trace"];for(let r=0;r<o.length;r++){const n=J[t(261)][t(302)][t(243)](J),i=o[r],c=e[i]||n;n[t(282)]=J[t(243)](J),n[t(293)]=c[t(293)][t(243)](c),e[i]=n}}))();const Y=[V(274),V(312)],Q=["object"];function K(t,n){const e=tt();return(K=function(t,n){return e[t-=241]})(t,n)}function tt(){const t=["geometry","Mesh","setShowDiv","canvas","48awSgTU","数值———：","counter","table","model","exception","log","constructor","22uLpFYu","children","1013874IFSbYC","warn","buildingsHeatmap","disposeBoundsTree","info","land","stateObject","数值：","return (function() ","applyMatrix4","object","clone","city","init","$patch","input","test","12aPrgfJ","__proto__","matrix","length","gger","1220297SUGlgF","uniforms","mergeGeometries","apply","356139FeNgRc","call","627yRvOzS","toString","13193qUcGTL","1980Ncjdea","normal","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","77PDLgxo","Matrix4",'{}.constructor("return this")( )',"console","prototype","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","action","DoubleSide","primitive","5XeJfPu","attributes","computeBoundsTree","_config","opacity","rotation-x","2145528DUmatG","_renderer","808180oTNCed","bind","BufferGeometry","string","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","height","while (true) {}"];return(tt=function(){return t})()}const nt=d({__name:V(266),props:{model:{},opacity:{default:1}},setup(t){const n=V;(()=>{const t=K;u[t(244)][t(302)][t(309)]=U,a.prototype[t(267)]=A,u[t(251)][t(302)].raycast=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=L,i=document[o(488)]("heatmap-canvas");return i[o(513)][o(502)]="absolute",!e&&(i[o(513)].display=o(496)),i[o(513)][o(466)]="0",i[o(513)][o(481)]="0",document[o(487)].appendChild(i),r[o(461)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(474),.55:o(497),.85:o(494),1:o(472)}})})();((t,n)=>{const e=L;if(!n){let o=0;for(n=[];o<1e3;)n[e(485)]({x:i.randInt(1,t[e(508)][e(500)]),y:i[e(503)](1,t[e(508)][e(471)]),value:i[e(503)](-10,36)}),o++}t[e(470)]({max:36,min:-10,data:n})})(o);const l=new c(o[n(241)][n(253)]);l.needsUpdate=!0;const h=e[n(258)][n(276)][n(275)]();delete h[n(250)][n(308)][n(296)],delete h[n(250)][n(308)].uv;const d=h.geometry.clone().applyMatrix4(h[n(283)]),b=e[n(258)][n(269)][n(275)]();delete b[n(250)][n(308)][n(296)];const _=b[n(250)][n(275)]().applyMatrix4(b[n(283)]),x=s[n(288)]([d,_]);x[n(273)]((new(u[n(299)])).makeRotationX(Math.PI/2)),f(x),x[n(309)]();const j=(t=>{const o=n;return new p({vertexShader:o(297),fragmentShader:o(303),uniforms:{uOpacity:{value:e[o(311)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(305)]})})(l),S=new(u[n(251)])(x,j);m((()=>{const t=n;e[t(311)]&&(j[t(287)].uOpacity.value=e[t(311)])}));const R=q(),D=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(310)].width,y:(1-t.uv.y)*o[e(310)][e(248)]};console[e(260)](e(271),t),console[e(260)](e(255),B(o,n)),R.setTemperature(B(o,n))}},M=t=>{t&&R[n(278)]({showDiv:!0})},P=t=>{t&&R[n(252)](!1)};return(t,o)=>{const r=n;return g(),y(I,null,[v(r(306),{object:w(S),"rotation-x":-Math.PI/2,onPointerMove:D,onPointerEnter:M,onPointerLeave:P},null,40,Y),v("primitive",{object:e.model[r(258)][r(263)][0][r(275)]()},null,8,Q)],64)}}});function et(t){function n(t){const e=K;if(typeof t===e(245))return function(t){}[e(261)](e(249)).apply(e(256));1!==(""+t/t)[e(284)]||t%20==0?function(){return!0}[e(261)]("debu"+e(285))[e(291)](e(304)):function(){return!1}[e(261)]("debugger")[e(289)](e(270)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=Z({__name:"dataDiv",setup(t){const n=q(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>x((g(),y("div",{class:"title",style:R(e.value)},"温度："+S(w(n).temperature)+"℃ ",5)),[[j,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=ut;!function(t,n){const e=ut,o=st();for(;;)try{if(694080===parseInt(e(340))/1*(parseInt(e(332))/2)+parseInt(e(337))/3*(parseInt(e(334))/4)+-parseInt(e(345))/5*(parseInt(e(352))/6)+-parseInt(e(350))/7*(-parseInt(e(310))/8)+-parseInt(e(323))/9+-parseInt(e(314))/10*(-parseInt(e(316))/11)+parseInt(e(312))/12*(parseInt(e(321))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(348)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=ut,n=new RegExp(t(328)),e=new RegExp(t(339),"i"),o=pt(t(338));n[t(324)](o+t(311))&&e[t(324)](o+"input")?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["7143183mRyIhW","test","action","warn","trace","function *\\( *\\)","return (function() ","string",'{}.constructor("return this")( )',"2tPNXPO","gger","788yinwzH","heatmap2","addBinding","237wUgeQn","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","816756oAMHWB","table","#000","console","builds","3595nRnJLO","__proto__","toString","apply","debu","7ESghoL","bind","9822YwyXrV","3509656gRUoCN","chain","180KdfixJ","info","10evEMSt","model","11858099DOaswz","exception","prototype","length","value","273637upXgoi","constructor"];return(st=function(){return t})()}function ut(t,n){const e=st();return(ut=function(t,n){return e[t-=310]})(t,n)}ct(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(329)+t(331)+");")()}catch(e){n=window}return n}(),e=n[t(343)]=n.console||{},o=["log",t(326),t(313),"error",t(317),t(341),t(327)];for(let r=0;r<o[t(319)];r++){const n=ct[t(322)][t(318)].bind(ct),i=o[r],c=e[i]||n;n[t(346)]=ct[t(351)](ct),n[t(347)]=c[t(347)][t(351)](c),e[i]=n}}))();const at=d({__name:rt(335),async setup(r){const i=rt;let c,s;const u=h(!1),a=([c,s]=D((()=>o())),c=await c,s(),c);u[i(320)]=!0;const p=M({width:1,color:i(342),opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(336)](f,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(I,null,[P(e,{showBuildings:!1,autoRotate:!1},{ability:E((()=>[P(nt,z({model:w(a)},f),null,16,[r(315)]),P(n,z(p,{builds:w(a).city}),null,16,[r(344)])])),_:1}),P(ot)],64)}}});function pt(t){function n(t){const e=ut;if(typeof t===e(330))return function(t){}.constructor("while (true) {}")[e(348)]("counter");1!==(""+t/t)[e(319)]||t%20==0?function(){return!0}[e(322)](e(349)+"gger").call(e(325)):function(){return!1}.constructor("debu"+e(333))[e(348)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
