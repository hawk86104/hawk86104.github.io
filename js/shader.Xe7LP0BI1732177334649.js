import{e as n,m as t,U as e,s as o,b as r}from"./@tresjs.ty5XF8T_1732177334649.js";import{_ as i,aB as s,a0 as a}from"./three.rV-MfnQb1732177334649.js";import{P as c}from"./tweakpane.yHWGBmom1732177334649.js";import{L as u}from"./three-subdivide.vg8GB9aB1732177334649.js";import{d as l,b as f,a3 as p,w as d,o as m,D as g,J as h,aj as v,ak as y,a6 as b,r as w,e as _,f as x,g as I,j as S,u as M,m as j,I as T}from"./@vue.-THQH3GC1732177334649.js";import"./@vueuse.n223N0GC1732177334649.js";const B=C;!function(n,t){const e=C,o=R();for(;;)try{if(650461===-parseInt(e(471))/1*(-parseInt(e(492))/2)+-parseInt(e(499))/3*(parseInt(e(493))/4)+-parseInt(e(485))/5*(parseInt(e(497))/6)+-parseInt(e(484))/7+parseInt(e(470))/8+-parseInt(e(487))/9+parseInt(e(502))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(449)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=C,t=new RegExp(n(463)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=V(n(498));t[n(473)](o+"chain")&&e[n(473)](o+"input")?V():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function R(){const n=["3474956PHbHum","geometry","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","TresShaderMaterial","6LtdbJo","init","3AiXXkJ","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","shineShader","31882740dLTjIu","AdditiveBlending","gger","Vector3","apply","color","material","error","scale","FrontSide","exception","info","uniforms","constructor","blending","__proto__",'{}.constructor("return this")( )',"warn","function *\\( *\\)","subdivision","length","console","Color","clone","debu","3466280JHDlRY","131ROSvEL","srcMesh","test","TresMesh","position","return (function() ","toString","value","trace","while (true) {}","call","bind","copy","7228431GaGkwV","4960255OyuEjo","#ffff00","9502668LXxKlS","TSGref","side","log","attributes","14934TSfnCm"];return(R=function(){return n})()}function C(n,t){const e=R();return(C=function(n,t){return e[n-=446]})(n,t)}A(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function(n(476)+n(461)+");")()}catch(e){t=window}return t}(),e=t[n(466)]=t[n(466)]||{},o=[n(490),n(462),n(456),n(452),n(455),"table",n(479)];for(let r=0;r<o[n(465)];r++){const t=A[n(458)].prototype[n(482)](A),i=o[r],s=e[i]||t;t[n(460)]=A[n(482)](A),t[n(477)]=s.toString[n(482)](s),e[i]=t}}))();const z=[B(453)],L=l({__name:B(501),props:{srcMesh:{},scale:{default:1.2},color:{default:B(486)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(454)]},blending:{default:i[B(446)]}},setup(e){const o=B,r=e,s=f(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(467)])(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(495),fragmentShader:o(500),side:r[o(489)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};p((()=>{const n=o;if(r[n(472)]&&s.value&&!s.value.geometry[n(491)].position){let t=r[n(472)][n(494)][n(468)]();r[n(464)]&&(t=u.modify(t,2)),s.value[n(494)]=t,s[n(478)][n(475)][n(483)](r.srcMesh.position)}r[n(450)]&&(a[n(457)].glowColor.value=new(i[n(467)])(r[n(450)])),r.c&&(a[n(457)].c[n(478)]=r.c),r.p&&(a[n(457)].p[n(478)]=r.p)})),d((()=>r[o(464)]),(n=>{const t=o;let e=r[t(472)].geometry[t(468)]();n&&(e=u.modify(e,2)),s[t(478)][t(494)]=e})),d((()=>r[o(489)]),(n=>{const t=o;s[t(478)][t(451)][t(489)]=n})),d((()=>r[o(459)]),(n=>{const t=o;s[t(478)][t(451)][t(459)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=o;l[n(478)]&&s[n(478)]&&(a[n(457)].viewVector.value=(new(i[n(448)])).subVectors(l[n(478)][n(475)],s[n(478)][n(475)]))})),(n,t)=>{const e=o;return m(),g(e(474),{ref_key:e(488),ref:s,scale:r[e(453)]},[h(e(496),v(y(a)),null,16)],8,z)}}});function V(n){function t(n){const e=C;if("string"==typeof n)return function(n){}[e(458)](e(480)).apply("counter");1!==(""+n/n)[e(465)]||n%20==0?function(){return!0}.constructor(e(469)+"gger")[e(481)]("action"):function(){return!1}[e(458)](e(469)+e(447))[e(449)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=P;function E(){const n=["input","230iBmPdL","scale","1636883ulRAVL","call","FrontSide","addBinding","init","5194791OKQdPo","instance","shader","toString","TresMeshRefB","BackSide","trace","console","bind","apply","srcMesh","61404mJQNYe","function *\\( *\\)","constructor","gger","blending","TresMeshRefA","#0ff","stateObject","error","1185079rgiUzv","value","debu","TresAmbientLight","map","counter","#222","TresGridHelper","TresMeshBasicMaterial","chain","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1831970hSxfxv","TresSphereGeometry","3387648OwEvgN","exception","info","logo.png","test","__proto__","NormalBlending","32imeMUj","TresMesh","side","TresBoxGeometry","475641OnPFRI","边缘处理","prototype"];return(E=function(){return n})()}!function(n,t){const e=P,o=E();for(;;)try{if(883906===-parseInt(e(507))/1+parseInt(e(488))/2+-parseInt(e(501))/3+-parseInt(e(490))/4+parseInt(e(505))/5*(parseInt(e(523))/6)+-parseInt(e(532))/7+-parseInt(e(497))/8*(-parseInt(e(512))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(521)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=P,t=new RegExp(n(524)),e=new RegExp(n(487),"i"),o=Z(n(511));t[n(494)](o+n(541))&&e[n(494)](o+n(504))?Z():o("0")}))()}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(521)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function P(n,t){const e=E();return(P=function(n,t){return e[n-=487]})(n,t)}O(void 0,(function(){const n=P;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(519)]=t.console||{},o=["log","warn",n(492),n(531),n(491),"table",n(518)];for(let i=0;i<o.length;i++){const t=O[n(525)][n(503)][n(520)](O),r=o[i],s=e[r]||t;t[n(495)]=O[n(520)](O),t[n(515)]=s[n(515)].bind(s),e[r]=t}}))();const G=[N(536)],J=[N(536)],H=l({__name:N(514),async setup(n){const t=N;let u,l;const p={clearColor:t(538)},d=f(),g=f(),v=f(),y=([u,l]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(493)]))),u=await u,l(),u),B=w({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(509)],blending:s}),k=new c({title:"参数",expanded:!0});return k.addBinding(B,"color",{label:"颜色"}),k.addBinding(B,t(506),{label:"大小",min:1,max:3,step:.2}),k[t(510)](B,"subdivision",{label:t(502)}),k[t(510)](B,"c",{label:"c",min:0,max:2,step:.1}),k[t(510)](B,"p",{label:"p",min:0,max:8,step:.2}),k[t(510)](B,t(499),{options:{FrontSide:i[t(509)],BackSide:i[t(517)],DoubleSide:a}}),k[t(510)](B,t(527),{options:{AdditiveBlending:s,NormalBlending:i[t(496)]}}),(n,r)=>{const i=t,s=_("TresCanvas");return m(),x(s,j(p,{"window-size":""}),{default:I((()=>[r[2]||(r[2]=h(i(542),{position:[5,5,5]},null,-1)),r[3]||(r[3]=h(i(535),{intensity:1},null,-1)),S(M(e)),r[4]||(r[4]=h(i(539),{args:[10,10]},null,-1)),h(i(498),{ref_key:i(528),ref:d,position:[-2,1,0]},[r[0]||(r[0]=h(i(489),{args:[1,32,16]},null,-1)),h(i(540),{map:M(y)[0]},null,8,G)],512),S(L,j({srcMesh:d[i(533)]},B),null,16,[i(522)]),S(M(o),{ref_key:"TreBoxRef",ref:v,args:[1,1,1],position:[2,1,0]},{default:I((()=>[h(i(540),{map:M(y)[1]},null,8,J)])),_:1},512),v[i(533)]&&v.value[i(513)]?(m(),x(L,j({key:0,srcMesh:v[i(533)][i(513)]},B),null,16,[i(522)])):T("",!0),h(i(498),{ref_key:i(516),ref:g,position:[0,1,-2]},r[1]||(r[1]=[h(i(500),{args:[1,1,1,1,1]},null,-1),h(i(540),{color:i(529)},null,-1)]),512),S(L,j({srcMesh:g[i(533)]},B),null,16,[i(522)])])),_:1},16)}}});function Z(n){function t(n){const e=P;if("string"==typeof n)return function(n){}[e(525)]("while (true) {}")[e(521)](e(537));1!==(""+n/n).length||n%20==0?function(){return!0}[e(525)](e(534)+e(526))[e(508)]("action"):function(){return!1}[e(525)](e(534)+e(526))[e(521)](e(530)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
