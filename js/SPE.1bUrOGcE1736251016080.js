import{X as t,_ as e,a as i,cs as n,bQ as s,k as o,V as r,az as a,C as c}from"./three.RuuDeeIf1736251016080.js";const h=p;!function(t,e){const i=p,n=m();for(;;)try{if(272026===-parseInt(i(413))/1+parseInt(i(787))/2+parseInt(i(664))/3+-parseInt(i(825))/4*(-parseInt(i(511))/5)+-parseInt(i(439))/6*(-parseInt(i(608))/7)+-parseInt(i(576))/8+-parseInt(i(786))/9)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[p(748)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){u(this,(function(){const t=p,e=new RegExp(t(485)),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=g(t(445));e[t(581)](n+t(444))&&i.test(n+"input")?g():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[p(748)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=p,e=function(){const t=p;let e;try{e=Function(t(585)+t(682)+");")()}catch(i){e=window}return e}(),i=e[t(488)]=e[t(488)]||{},n=[t(507),"warn",t(778),t(802),t(622),t(383),t(586)];for(let s=0;s<n[t(601)];s++){const e=l[t(416)][t(547)][t(512)](l),o=n[s],r=i[o]||e;e[t(603)]=l[t(512)](l),e[t(483)]=r.toString[t(512)](r),i[o]=e}}))();const f={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function p(t,e){const i=m();return(p=function(t,e){return i[t-=369]})(t,e)}"function"==typeof define&&define[h(661)]?define(h(631),f):typeof exports!==h(633)&&typeof module!==h(633)&&(module[h(652)]=f),f.TypedArrayHelper=function(t,e,i,n){const s=h;this.componentSize=i||1,this[s(574)]=e||1,this[s(420)]=t||Float32Array,this.array=new t(e*this[s(544)]),this[s(548)]=n||0},f[h(795)].constructor=f[h(795)],f[h(795)].prototype.setSize=function(t,e){const i=h,n=this[i(829)][i(601)];return!e&&(t*=this.componentSize),t<n?this[i(665)](t):t>n?this[i(398)](t):void console[i(778)]("TypedArray is already of size:",t+".",i(521))},f[h(795)][h(547)][h(665)]=function(t){const e=h;return this.array=this[e(829)][e(745)](0,t),this[e(574)]=t,this},f[h(795)][h(547)][h(398)]=function(t){const e=h,i=this.array,n=new(this[e(420)])(t);return n[e(774)](i),this[e(829)]=n,this.size=t,this},f[h(795)][h(547)][h(662)]=function(t,e){const i=h;t*=this[i(544)],e*=this.componentSize;const n=[],s=this.array,o=s[i(601)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(584)](s[r]);return this.setFromArray(0,n),this},f[h(795)][h(547)].setFromArray=function(t,e){const i=h,n=t+e[i(601)];return n>this[i(829)][i(601)]?this[i(398)](n):n<this[i(829)][i(601)]&&this[i(665)](n),this[i(829)][i(774)](e,this.indexOffset+t),this},f.TypedArrayHelper[h(547)].setVec2=function(t,e){return this.setVec2Components(t,e.x,e.y)},f[h(795)][h(547)][h(388)]=function(t,e,i){const n=this[h(829)],s=this.indexOffset+t*this.componentSize;return n[s]=e,n[s+1]=i,this},f[h(795)].prototype[h(559)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},f[h(795)][h(547)][h(436)]=function(t,e,i,n){const s=h,o=this.array,r=this.indexOffset+t*this[s(544)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},f[h(795)][h(547)][h(744)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},f[h(795)][h(547)].setVec4Components=function(t,e,i,n,s){const o=h,r=this.array,a=this.indexOffset+t*this[o(544)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},f[h(795)][h(547)].setMat3=function(t,e){const i=h;return this[i(754)](this[i(548)]+t*this[i(544)],e[i(772)])},f.TypedArrayHelper[h(547)].setMat4=function(t,e){const i=h;return this[i(754)](this[i(548)]+t*this.componentSize,e[i(772)])},f[h(795)][h(547)][h(570)]=function(t,e){return this[h(436)](t,e.r,e.g,e.b)},f[h(795)][h(547)].setNumber=function(t,e){return this[h(829)][this.indexOffset+t*this.componentSize]=e,this},f[h(795)][h(547)][h(680)]=function(t){const e=h;return this.array[this[e(548)]+t]},f[h(795)][h(547)].getComponentValueAtIndex=function(t){const e=h;return this[e(829)][e(745)](this[e(548)]+t*this[e(544)])},f[h(797)]=function(t,e,i){const n=h,s=f[n(797)][n(540)];this[n(515)]="string"==typeof t&&s[n(756)](t)?t:"f",this[n(544)]=s[this[n(515)]],this.arrayType=i||Float32Array,this[n(531)]=null,this[n(790)]=null,this.dynamicBuffer=!!e,this.updateMin=0,this.updateMax=0},f[h(797)].constructor=f[h(797)],f[h(797)][h(540)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},f[h(797)].prototype[h(427)]=function(t,e){const i=h;this[i(721)]=Math[i(666)](t*this.componentSize,this[i(721)]*this[i(544)]),this[i(479)]=Math[i(496)](e*this.componentSize,this[i(479)]*this.componentSize)},f.ShaderAttribute[h(547)][h(553)]=function(){const t=h,e=this.bufferAttribute;!e[t(647)]&&(e[t(647)]={});const i=e[t(647)];i[t(634)]=this[t(721)],i[t(803)]=Math[t(666)](this[t(479)]-this.updateMin+this[t(544)],this[t(531)].array[t(601)]),e[t(538)]=!0},f.ShaderAttribute[h(547)][h(760)]=function(){const t=h;this[t(721)]=0,this[t(479)]=0},f[h(797)][h(547)].resetDynamic=function(){const i=h;this[i(790)][i(767)]=this[i(478)]?t:e[i(837)]},f[h(797)][h(547)][h(662)]=function(t,e){const i=h;this[i(531)][i(662)](t,e),this.forceUpdateAll()},f[h(797)][h(547)][h(641)]=function(){const t=h;this[t(790)][t(829)]=this.typedArray[t(829)],this[t(790)][t(647)].offset=0,this.bufferAttribute[t(647)].count=-1,this.bufferAttribute[t(767)]=e[t(837)],this[t(790)][t(538)]=!0},f.ShaderAttribute[h(547)][h(489)]=function(t){const e=h;null!==this[e(531)]&&this[e(531)][e(574)]===t*this[e(544)]||(null!==this[e(531)]&&this[e(531)][e(574)]!==t?this[e(531)].setSize(t):null===this.typedArray&&(this[e(531)]=new(f[e(795)])(this[e(453)],t,this[e(544)])))},f[h(797)][h(547)][h(734)]=function(s){const o=h;if(this[o(489)](s),null!==this[o(790)])return this[o(790)][o(829)]=this[o(531)][o(829)],parseFloat(e[o(480)])>=81&&(this.bufferAttribute[o(803)]=this[o(790)][o(829)][o(601)]/this[o(790)][o(642)]),void(this[o(790)].needsUpdate=!0);this[o(790)]=new i(this.typedArray[o(829)],this[o(544)]),this[o(790)][o(767)]=this[o(478)]?t:n},f[h(797)][h(547)][h(782)]=function(){const t=h;return null===this[t(531)]?0:this[t(531)].array[t(601)]},f.shaderChunks={defines:[h(768),"#define PACKED_COLOR_DIVISOR 255.0"][h(611)]("\n"),uniforms:[h(638),h(697),h(424),h(579),h(712)][h(611)]("\n"),attributes:["attribute vec4 acceleration;",h(718),h(653),h(481),h(554),h(588),h(527),"attribute vec4 color;",h(656)][h(611)]("\n"),varyings:[h(542),h(532),"    varying float vAngle;",h(713),h(590),h(742),"#endif"][h(611)]("\n"),branchAvoidanceFunctions:[h(394),h(621),"}",h(504),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}",h(558),"  return 1.0 - when_lt(x, y);","}",h(770),h(415),"}",h(823),h(663),"}","float or(float a, float b) {",h(566),"}"][h(611)]("\n"),unpackColor:[h(604),h(730),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(650),h(681),h(789),h(530),h(428),h(449),"}"][h(611)]("\n"),unpackRotationAxis:[h(473),h(730),h(822),h(650),h(681),h(789),h(530),h(428),h(693),"   c -= vec3( 1.0 );",h(449),"}"][h(611)]("\n"),floatOverLifetime:[h(429),h(578),h(497),h(646),h(379),h(472),"",h(529),"       fIndex = float( i );",h(392),h(749),h(397),"","    return value;","}"][h(611)]("\n"),colorOverLifetime:[h(550),h(710),h(626),h(743),h(814),"    return value;","}"].join("\n"),paramFetchingFunctions:[h(804),h(562),"}","float getAge() {",h(461),"}","float getMaxAge() {",h(386),"}",h(741),h(751),"}"][h(611)]("\n"),forceFetchingFunctions:[h(813),h(417),"}",h(735),h(766),"}","vec3 getAcceleration( in float age ) {",h(563),"}"][h(611)]("\n"),rotationFunctions:[h(732),h(773),h(777),h(371),h(672),h(762),"",h(620),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","                   0.0,                                0.0,                                0.0,                                1.0);",h(827),"",h(369),h(446),h(612),h(471),"",h(591),"      vec3 center = rotationCenter;","      vec3 translated;",h(477),h(418),h(729),h(801),h(624),h(798),h(412),h(827),"#endif"][h(611)]("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE",h(776),h(701),h(775),h(592),"       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );",h(499),"",h(805),h(510),h(486),h(705),h(519),h(649),h(617),h(499),"",h(765)][h(611)]("\n")},f.shaders={vertex:[f[h(546)][h(779)],f.shaderChunks[h(419)],f.shaderChunks[h(476)],f.shaderChunks[h(470)],s[h(551)],e[h(750)][h(509)],e[h(750)][h(454)],f[h(546)].branchAvoidanceFunctions,f.shaderChunks[h(466)],f[h(546)][h(405)],f[h(546)].floatOverLifetime,f.shaderChunks[h(807)],f[h(546)][h(552)],f[h(546)][h(589)],f[h(546)][h(628)],"void main() {",h(688),h(832),h(384),h(655),h(610),h(609),h(533),h(520),h(464),h(499),h(370),h(689),h(524),"    vec3 pos = vec3( position );",h(821),h(500),"    force *= drag;",h(811),h(632),h(609),h(691),h(698),"        pos.z += wiggleSin;","    #endif",h(654),h(447),h(499),h(498),h(565),"    #ifdef HAS_PERSPECTIVE",h(577),h(700),h(526),h(499),"    float pointSizePerspective = pointSize * perspective;",h(696),h(468),h(808),h(785),h(535),h(602),h(834),"       );","    #else","       vec3 c = vec3(1.0);",h(499),h(725),h(411),h(425),h(645),h(499),h(805),"        float framesX = textureAnimation.x;",h(452),h(571),"        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));",h(525),h(648),"        float rowNorm = row / framesY;",h(831),h(487),h(722),h(557),h(499),h(387),h(465),e[h(750)][h(567)],e[h(750)][h(836)],"}"][h(611)]("\n"),fragment:[f[h(546)][h(419)],e[h(750)][h(551)],s[h(561)],e[h(750)][h(673)],f[h(546)][h(470)],f[h(546)][h(462)],h(816),"    vec3 outgoingLight = vColor.xyz;",h(747),h(375),h(707),h(499),f.shaderChunks[h(491)],s.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",h(514),e[h(750)][h(758)],"}"][h(611)]("\n")},f[h(376)]={types:{BOOLEAN:h(792),STRING:h(484),NUMBER:"number",OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(706)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(523)](t)){for(let s=t[n(601)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(539)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(523)](t[n(456)])&&(t[n(456)]=[t._value]),!1===Array[n(523)](t[n(800)])&&(t[n(800)]=[t[n(800)]]);const s=this.clamp(t[n(456)][n(601)],e,i),o=this[n(833)](t[n(800)].length,e,i),r=Math.max(s,o);t[n(456)].length!==r&&(t[n(456)]=this[n(595)](t[n(456)],r)),t[n(800)].length!==r&&(t[n(800)]=this.interpolateArray(t._spread,r))},interpolateArray(t,e){const i=h,n=t[i(601)],s=[typeof t[0][i(374)]===i(841)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math.floor(e),a=Math[i(607)](e),c=e-n;s[r]=this[i(728)](t[n],t[a],c)}return s[i(584)](typeof t[n-1][i(374)]===i(841)?t[n-1][i(374)]():t[n-1]),s},clamp:(t,e,i)=>Math[h(496)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(636)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,n){const s=h;let a,c=this.types;return typeof t===c.NUMBER&&typeof i===c.NUMBER?t+(i-t)*n:t instanceof o&&i instanceof e[s(451)]?(a=t[s(374)](),a.x=this[s(580)](t.x,i.x,n),a.y=this[s(580)](t.y,i.y,n),a):t instanceof r&&i instanceof e[s(537)]?(a=t[s(374)](),a.x=this[s(580)](t.x,i.x,n),a.y=this[s(580)](t.y,i.y,n),a.z=this[s(580)](t.z,i.z,n),a):t instanceof e[s(810)]&&i instanceof e[s(810)]?(a=t.clone(),a.x=this.lerp(t.x,i.x,n),a.y=this[s(580)](t.y,i.y,n),a.z=this[s(580)](t.z,i.z,n),a.w=this[s(580)](t.w,i.w,n),a):t instanceof e[s(442)]&&i instanceof e[s(442)]?(a=t[s(374)](),a.r=this[s(580)](t.r,i.r,n),a.g=this[s(580)](t.g,i.g,n),a.b=this[s(580)](t.b,i.b,n),a):void console.warn(s(385),t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math[i(739)](t)%e,0===n?t:t<0?-(Math[i(739)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(601)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(636)]()-.5),randomVector3(t,e,i,n,s){const o=h;let r=i.x+(Math[o(636)]()*n.x-.5*n.x),a=i.y+(Math[o(636)]()*n.y-.5*n.y),c=i.z+(Math[o(636)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this.roundToNearestMultiple(r,s.x),a=.5*-s.y+this[o(467)](a,s.y),c=.5*-s.z+this[o(467)](c,s.z)),t[o(531)].setVec3Components(e,r,a,c)},randomColor(t,e,i,n){const s=h;let o=i.r+Math[s(636)]()*n.x,r=i.g+Math[s(636)]()*n.y,a=i.b+Math[s(636)]()*n.z;o=this[s(833)](o,0,1),r=this.clamp(r,0,1),a=this.clamp(a,0,1),t.typedArray[s(436)](e,o,r,a)},randomColorAsHex:function(){const t=h,i=new(e[t(442)]);return function(e,n,s,o){const r=t,a=s[r(601)],c=[];for(let t=0;t<a;++t){const e=o[t];i[r(583)](s[t]),i.r+=Math.random()*e.x-.5*e.x,i.g+=Math[r(636)]()*e.y-.5*e.y,i.b+=Math[r(636)]()*e.z-.5*e.z,i.r=this[r(833)](i.r,0,1),i.g=this[r(833)](i.g,0,1),i.b=this[r(833)](i.b,0,1),c[r(584)](i[r(820)]())}e[r(531)][r(737)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=h,o=i[s(374)]();o[s(580)](n,Math.random()),t[s(531)][s(436)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=h;let u=2*Math[c(636)]()-1,l=6.2832*Math[c(636)](),f=Math[c(373)](1-u*u),p=this[c(759)](n,s),d=0,m=0,g=0;r&&(p=Math[c(409)](p/r)*r),d=f*Math[c(582)](l)*p,m=f*Math[c(769)](l)*p,g=u*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(531)][c(436)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=h;let c=6.2832*Math[a(636)](),u=Math[a(739)](this[a(759)](n,s)),l=0,f=0,p=0;r&&(u=Math[a(409)](u/r)*r),l=Math.cos(c)*u,f=Math.sin(c)*u,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t.typedArray[a(436)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const t=h,i=new(e[t(537)]);return function(e,n,s,o,r,a,c,h){const u=t;i[u(583)](a),i.x-=s,i.y-=o,i.z-=r,i[u(457)]()[u(826)](-this[u(759)](c,h)),e[u(531)][u(436)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new r;return function(e,i,n,s,o,r,a,c){const h=p;t[h(583)](r),t.x-=n,t.y-=s,t.z-=o,t.normalize().multiplyScalar(-this.randomFloat(a,c)),e[h(531)].setVec3Components(i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const t=h,i=new(e[t(537)]),n=new r,s=new(e[t(442)]),o=new(e[t(537)])(1,1,1);return function(e,r){const a=t;return i[a(583)](e)[a(457)](),n[a(583)](r)[a(457)](),i.x+=.5*-r.x+Math[a(636)]()*r.x,i.y+=.5*-r.y+Math.random()*r.y,i.z+=.5*-r.z+Math[a(636)]()*r.z,i[a(457)]().add(o)[a(826)](.5),s[a(818)](i.x,i.y,i.z),s.getHex()}}()},f[h(517)]=function(t){const i=h,n=f[i(376)],s=n[i(669)];(t=n[i(706)](t,s[i(674)],{}))[i(738)]=n[i(706)](t[i(738)],s[i(674)],{}),this[i(402)]=e[i(780)][i(715)](),this[i(824)]=n[i(706)](t.fixedTimeStep,s[i(755)],.016),this.texture=n[i(539)](t[i(738)][i(702)],e[i(596)],null),this[i(600)]=n[i(539)](t.texture[i(482)],e[i(451)],new(e[i(451)])(1,1)),this.textureFrameCount=n[i(706)](t[i(738)][i(657)],s[i(755)],this[i(600)].x*this[i(600)].y),this[i(606)]=n.ensureTypedArg(t[i(738)][i(372)],s.NUMBER,1),this[i(600)][i(496)](new o(1,1)),this.hasPerspective=n[i(706)](t[i(506)],s.BOOLEAN,!0),this[i(660)]=n[i(706)](t[i(660)],s[i(430)],!0),this[i(720)]=n[i(706)](t[i(720)],s[i(755)],null),this[i(806)]=n[i(706)](t.blending,s[i(755)],a),this[i(799)]=n.ensureTypedArg(t[i(799)],s[i(430)],!0),this[i(492)]=parseFloat(n[i(706)](t.alphaTest,s.NUMBER,0)),this[i(761)]=n[i(706)](t[i(761)],s[i(430)],!1),this[i(534)]=n[i(706)](t[i(534)],s[i(430)],!0),this[i(438)]=n[i(706)](t[i(438)],s[i(430)],!0),this[i(390)]=n[i(706)](t.scale,s[i(755)],300),this[i(839)]=[],this[i(667)]=[],this._pool=[],this[i(692)]=null,this[i(573)]=0,this[i(731)]=!1,this._attributesNeedDynamicReset=!1,this[i(443)]=0,this[i(419)]={tex:{type:"t",value:this[i(738)]},textureAnimation:{type:"v4",value:new(e[i(810)])(this.textureFrames.x,this.textureFrames.y,this[i(616)],Math.max(Math[i(739)](this[i(606)]),1))},fogColor:{type:"c",value:this[i(438)]?new(e[i(442)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[i(779)]={HAS_PERSPECTIVE:this[i(506)],COLORIZE:this[i(660)],VALUE_OVER_LIFETIME_LENGTH:f[i(651)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(600)].x>1||this[i(600)].y>1},this.attributes={position:new(f[i(797)])("v3",!0),acceleration:new(f[i(797)])("v4",!0),velocity:new(f[i(797)])("v3",!0),rotation:new(f[i(797)])("v4",!0),rotationCenter:new(f[i(797)])("v3",!0),params:new(f[i(797)])("v4",!0),size:new f.ShaderAttribute("v4",!0),angle:new(f[i(797)])("v4",!0),color:new f.ShaderAttribute("v4",!0),opacity:new f.ShaderAttribute("v4",!0)},this.attributeKeys=Object[i(683)](this.attributes),this[i(434)]=this[i(675)][i(601)],this.material=new(e[i(719)])({uniforms:this[i(419)],vertexShader:f[i(623)][i(781)],fragmentShader:f[i(623)][i(516)],blending:this[i(806)],transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this[i(779)],fog:this[i(438)]}),this[i(431)]=new(e[i(395)]),this[i(763)]=new(e[i(630)])(this[i(431)],this[i(677)]),null===this[i(720)]&&console[i(407)](i(513))},f.Group[h(416)]=f.Group,f[h(517)][h(547)][h(727)]=function(){const t=h;let e,i=this[t(839)],n=i[t(601)]-1,s=this[t(779)];for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(615)]=s.SHOULD_ROTATE_TEXTURE||!!Math[t(496)](Math[t(496)][t(748)](null,e.angle[t(702)]),Math[t(496)].apply(null,e[t(450)][t(685)]))),s[t(714)]=s.SHOULD_ROTATE_PARTICLES||!!Math[t(496)](e[t(440)][t(450)],e[t(440)][t(403)]),s[t(406)]=s[t(406)]||!!Math[t(496)](e[t(724)][t(702)],e[t(724)][t(685)]);this[t(677)][t(538)]=!0},f[h(517)][h(547)][h(378)]=function(){const t=h;let e,i,n=this.attributes,s=this.geometry,o=s[t(476)];for(const r in n)n[t(756)](r)&&(e=n[r],i=o[r],i?i.array=e[t(531)][t(829)]:s[t(716)](r,e[t(790)]),e[t(790)][t(538)]=!0);this[t(431)][t(493)](0,this.particleCount)},f.Group[h(547)][h(794)]=function(t){const e=h;if(t instanceof f[e(658)]==!1)return void console[e(802)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(667)][e(740)](t.uuid)>-1)return void console.error(e(432));if(null!==t.group)return void console.error(e(752));const i=this[e(476)],n=this[e(443)],s=n+t[e(443)];this.particleCount=s,null!==this.maxParticleCount&&this.particleCount>this[e(720)]&&console[e(407)](e(410),this[e(443)],e(569),this[e(720)]),t[e(396)](t[e(572)][e(456)]+t[e(572)]._spread),t[e(815)](this[e(675)]),t[e(380)](n),t[e(613)]=this,t[e(476)]=this.attributes;for(const o in i)i[e(756)](o)&&i[o]._createBufferAttribute(null!==this[e(720)]?this.maxParticleCount:this[e(443)]);for(let o=n;o<s;++o)t[e(703)](o),t[e(746)](o,e(501)),t._assignForceValue(o,"acceleration"),t._assignAbsLifetimeValue(o,"opacity"),t[e(393)](o,e(574)),t._assignAngleValue(o),t[e(717)](o),t[e(723)](o),t[e(838)](o);return this[e(378)](),this.emitters[e(584)](t),this[e(667)][e(584)](t[e(402)]),this[e(727)](t),this[e(677)][e(538)]=!0,this[e(431)].needsUpdate=!0,this[e(731)]=!0,this},f[h(517)][h(547)][h(423)]=function(t){const e=h,i=this[e(667)][e(740)](t[e(402)]);if(t instanceof f[e(658)]==!1)return void console[e(802)](e(670),t);if(-1===i)return void console[e(802)](e(401));const n=t[e(495)],s=n+t[e(443)],o=this.attributes[e(543)][e(531)];for(let r=n;r<s;++r)o[e(829)][4*r]=0,o[e(829)][4*r+1]=0;this[e(839)].splice(i,1),this[e(667)][e(662)](i,1);for(const r in this.attributes)this.attributes[e(756)](r)&&this.attributes[r][e(662)](n,s);this.particleCount-=t[e(443)],t[e(817)](),this[e(731)]=!0},f[h(517)][h(547)][h(736)]=function(){const t=h,e=this._pool,i=this._createNewWhenPoolEmpty;if(e[t(601)])return e.pop();if(i){const e=new(f[t(658)])(this._poolCreationSettings);return this[t(794)](e),e}return null},f[h(517)][h(547)].releaseIntoPool=function(t){const e=h;if(t instanceof f.Emitter!=!1)return t[e(678)](),this._pool.unshift(t),this;console.error(e(541),t)},f[h(517)].prototype.getPool=function(){return this[h(441)]},f.Group[h(547)][h(389)]=function(t,e,i){const n=h;let s;this._poolCreationSettings=e,this._createNewWhenPoolEmpty=!!i;for(let o=0;o<t;++o)s=Array[n(523)](e)?new f.Emitter(e[o]):new(f[n(658)])(e),this.addEmitter(s),this[n(469)](s);return this},f.Group[h(547)][h(528)]=function(t){const e=h,i=this[e(736)](),n=this;if(null!==i)return t instanceof r&&(i[e(459)].value[e(583)](t),i.position[e(702)]=i[e(459)].value),i.enable(),setTimeout((()=>{i[e(474)](),n.releaseIntoPool(i)}),1e3*Math[e(496)](i[e(391)],i[e(572)][e(702)]+i[e(572)][e(685)])),this;console.log(e(830))},f[h(517)][h(547)][h(448)]=function(t,e){const i=h;if(typeof t===i(593)&&t>1)for(let n=0;n<t;++n)this[i(528)](e);else this[i(528)](e);return this},f[h(517)][h(547)]._updateUniforms=function(t){const e=h;this[e(419)].runTime.value+=t,this[e(419)][e(377)][e(702)]=t},f[h(517)][h(547)]._resetBufferRanges=function(){const t=h;let e=this[t(675)],i=this[t(434)]-1,n=this.attributes;for(;i>=0;--i)n[e[i]][t(760)]()},f[h(517)].prototype._updateBuffers=function(t){const e=h;let i,n,s,o=this.attributeKeys,r=this[e(434)]-1,a=this[e(476)],c=t[e(709)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s.setUpdateRange(n[e(666)],n[e(496)]),s[e(553)]()},f.Group.prototype[h(809)]=function(t){const e=h;var i=this[e(839)],n=i[e(601)],s=t||this[e(824)],o=this[e(675)],r=this.attributes;if(this[e(694)](s),this._resetBufferRanges(),0!==n||!1!==this[e(731)]||!1!==this._attributesNeedDynamicReset){for(var a,c=0;c<n;++c)(a=i[c])[e(809)](s),this[e(400)](a);if(!0===this._attributesNeedDynamicReset){for(c=this.attributeCount-1;c>=0;--c)r[o[c]][e(545)]();this[e(422)]=!1}if(!0===this[e(731)]){for(c=this[e(434)]-1;c>=0;--c)r[o[c]][e(641)]();this._attributesNeedRefresh=!1,this[e(422)]=!0}}},f[h(517)][h(547)][h(421)]=function(){const t=h;return this[t(431)].dispose(),this[t(677)][t(421)](),this},f[h(658)]=function(t){const i=h,n=f.utils,s=n[i(669)],o=f[i(651)];(t=n[i(706)](t,s.OBJECT,{}))[i(459)]=n[i(706)](t[i(459)],s[i(674)],{}),t[i(501)]=n[i(706)](t[i(501)],s[i(674)],{}),t.acceleration=n.ensureTypedArg(t[i(637)],s[i(674)],{}),t.radius=n.ensureTypedArg(t.radius,s.OBJECT,{}),t.drag=n.ensureTypedArg(t[i(503)],s[i(674)],{}),t[i(440)]=n[i(706)](t.rotation,s.OBJECT,{}),t.color=n.ensureTypedArg(t[i(840)],s[i(674)],{}),t.opacity=n.ensureTypedArg(t.opacity,s.OBJECT,{}),t.size=n[i(706)](t[i(574)],s[i(674)],{}),t[i(450)]=n[i(706)](t.angle,s[i(674)],{}),t[i(724)]=n[i(706)](t[i(724)],s[i(674)],{}),t[i(572)]=n[i(706)](t.maxAge,s[i(674)],{}),t[i(771)]&&console.warn(i(733)),this.uuid=e[i(780)][i(715)](),this[i(515)]=n[i(706)](t[i(515)],s.NUMBER,f[i(605)][i(556)]),this[i(459)]={_value:n.ensureInstanceOf(t[i(459)][i(702)],e[i(537)],new(e[i(537)])),_spread:n.ensureInstanceOf(t[i(459)].spread,r,new(e[i(537)])),_spreadClamp:n[i(539)](t[i(459)][i(475)],e[i(537)],new(e[i(537)])),_distribution:n[i(706)](t[i(459)][i(458)],s[i(755)],this[i(515)]),_randomise:n.ensureTypedArg(t[i(459)][i(686)],s[i(430)],!1),_radius:n[i(706)](t[i(459)][i(711)],s[i(755)],10),_radiusScale:n[i(539)](t.position.radiusScale,e[i(537)],new(e[i(537)])(1,1,1)),_distributionClamp:n[i(706)](t.position[i(502)],s[i(755)],0)},this[i(501)]={_value:n.ensureInstanceOf(t[i(501)][i(702)],e[i(537)],new(e[i(537)])),_spread:n[i(539)](t[i(501)].spread,e[i(537)],new(e[i(537)])),_distribution:n[i(706)](t[i(501)][i(458)],s.NUMBER,this[i(515)]),_randomise:n[i(706)](t[i(459)][i(686)],s[i(430)],!1)},this.acceleration={_value:n[i(539)](t[i(637)][i(702)],e[i(537)],new r),_spread:n[i(539)](t.acceleration[i(685)],r,new r),_distribution:n.ensureTypedArg(t[i(637)][i(458)],s[i(755)],this[i(515)]),_randomise:n[i(706)](t[i(459)][i(686)],s[i(430)],!1)},this[i(503)]={_value:n[i(706)](t.drag.value,s[i(755)],0),_spread:n[i(706)](t[i(503)].spread,s.NUMBER,0),_randomise:n.ensureTypedArg(t.position.randomise,s[i(430)],!1)},this[i(724)]={_value:n[i(706)](t[i(724)].value,s[i(755)],0),_spread:n[i(706)](t[i(724)][i(685)],s[i(755)],0)},this[i(440)]={_axis:n[i(539)](t.rotation[i(408)],e[i(537)],new(e[i(537)])(0,1,0)),_axisSpread:n[i(539)](t[i(440)][i(640)],e[i(537)],new r),_angle:n.ensureTypedArg(t[i(440)][i(450)],s.NUMBER,0),_angleSpread:n.ensureTypedArg(t.rotation.angleSpread,s[i(755)],0),_static:n.ensureTypedArg(t[i(440)][i(635)],s[i(430)],!1),_center:n[i(539)](t[i(440)][i(494)],e[i(537)],this.position[i(456)][i(374)]()),_randomise:n[i(706)](t[i(459)][i(686)],s[i(430)],!1)},this.maxAge={_value:n[i(706)](t[i(572)][i(702)],s.NUMBER,2),_spread:n[i(706)](t[i(572)][i(685)],s.NUMBER,0)},this[i(840)]={_value:n.ensureArrayInstanceOf(t.color.value,e[i(442)],new c),_spread:n[i(695)](t.color.spread,e[i(537)],new r),_randomise:n.ensureTypedArg(t.position.randomise,s[i(430)],!1)},this[i(726)]={_value:n[i(536)](t[i(726)].value,s[i(755)],1),_spread:n[i(536)](t.opacity.spread,s[i(755)],0),_randomise:n[i(706)](t.position.randomise,s[i(430)],!1)},this[i(574)]={_value:n[i(536)](t[i(574)][i(702)],s[i(755)],1),_spread:n[i(536)](t.size[i(685)],s[i(755)],0),_randomise:n[i(706)](t.position.randomise,s[i(430)],!1)},this.angle={_value:n[i(536)](t[i(450)][i(702)],s[i(755)],0),_spread:n[i(536)](t[i(450)][i(685)],s[i(755)],0),_randomise:n[i(706)](t[i(459)][i(686)],s[i(430)],!1)},this[i(443)]=n[i(706)](t[i(443)],s[i(755)],100),this[i(391)]=n.ensureTypedArg(t[i(391)],s.NUMBER,null),this[i(619)]=n[i(706)](t[i(619)],s.BOOLEAN,!1),this.activeMultiplier=n[i(706)](t[i(643)],s.NUMBER,1),this[i(835)]=n[i(706)](t[i(835)],s[i(755)],1),this[i(796)]=n[i(706)](t[i(796)],s[i(430)],!0),this[i(668)]=0,this[i(644)]=0,this.attributeOffset=0,this.attributeEnd=0,this[i(708)]=0,this[i(784)]=0,this.group=null,this[i(476)]=null,this[i(753)]=null,this[i(704)]={position:n[i(706)](t.position[i(686)],s[i(430)],!1)||n[i(706)](t[i(711)][i(686)],s.BOOLEAN,!1),velocity:n[i(706)](t.velocity[i(686)],s[i(430)],!1),acceleration:n[i(706)](t[i(637)][i(686)],s.BOOLEAN,!1)||n[i(706)](t[i(503)][i(686)],s[i(430)],!1),rotation:n.ensureTypedArg(t.rotation[i(686)],s[i(430)],!1),rotationCenter:n[i(706)](t[i(440)][i(686)],s[i(430)],!1),size:n[i(706)](t[i(574)][i(686)],s.BOOLEAN,!1),color:n[i(706)](t[i(840)].randomise,s[i(430)],!1),opacity:n.ensureTypedArg(t[i(726)][i(686)],s[i(430)],!1),angle:n.ensureTypedArg(t.angle[i(686)],s[i(430)],!1)},this[i(687)]={},this.updateCounts={},this[i(564)]={maxAge:i(543),position:i(459),velocity:i(501),acceleration:i(637),drag:"acceleration",wiggle:i(543),rotation:i(440),size:"size",color:i(840),opacity:i(726),angle:"angle"};for(const e in this[i(564)])this[i(564)].hasOwnProperty(e)&&(this.updateCounts[this[i(564)][e]]=0,this[i(687)][this.updateMap[e]]=!1,this._createGetterSetters(this[e],e));this.bufferUpdateRanges={},this[i(675)]=null,this[i(434)]=0,n[i(598)](this[i(840)],o,o),n[i(598)](this[i(726)],o,o),n[i(598)](this.size,o,o),n[i(598)](this.angle,o,o)},f[h(658)][h(416)]=f.Emitter,f[h(658)].prototype._createGetterSetters=function(t,e){const i=h,n=this;for(const s in t)if(t.hasOwnProperty(s)){const o=s[i(505)]("_","");Object[i(791)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=p,o=n[s(564)][e],r=this[t],a=f[s(651)];t===s(435)?(n[s(687)][s(599)]=!0,n.updateCounts[s(599)]=0):t===s(690)?n[s(704)][o]=i:(n[s(687)][o]=!0,n[s(819)][o]=0),n[s(613)][s(727)](),this[t]=i,Array[s(523)](r)&&f[s(376)][s(598)](n[e],a,a)}}(s)})}},f[h(658)][h(547)][h(815)]=function(t){const e=h;this.attributeKeys=t,this[e(434)]=t[e(601)];for(let i=this.attributeCount-1;i>=0;--i)this.bufferUpdateRanges[t[i]]={min:Number[e(437)],max:Number.NEGATIVE_INFINITY}},f[h(658)][h(547)]._calculatePPSValue=function(t){const e=h,i=this.particleCount;this.duration?this[e(668)]=i/(t<this.duration?t:this[e(391)]):this[e(668)]=i/t},f.Emitter.prototype[h(380)]=function(t){const e=h;this[e(495)]=t,this[e(644)]=t,this[e(684)]=t+this[e(443)]},f[h(658)][h(547)][h(508)]=function(t,e){const i=h;switch(t){case i(459):this[i(703)](e);break;case i(501):case i(637):this._assignForceValue(e,t);break;case i(574):case i(726):this[i(393)](e,t);break;case i(450):this[i(699)](e);break;case i(543):this[i(723)](e);break;case i(440):this[i(717)](e);break;case i(840):this[i(838)](e)}},f[h(658)][h(547)]._assignPositionValue=function(t){const e=h,i=f[e(605)],n=f[e(376)],s=this[e(459)],o=this[e(476)][e(459)],r=s[e(456)],a=s[e(800)];switch(s[e(671)]){case i[e(556)]:n.randomVector3(o,t,r,a,s[e(676)]);break;case i[e(614)]:n.randomVector3OnSphere(o,t,r,s[e(812)],s[e(800)].x,s[e(555)],s[e(676)].x,s._distributionClamp||this[e(443)]);break;case i[e(522)]:n.randomVector3OnDisc(o,t,r,s[e(812)],s[e(800)].x,s[e(555)],s[e(676)].x);break;case i[e(625)]:n[e(639)](o,t,r,a)}},f[h(658)][h(547)][h(746)]=function(t,e){const i=h;let n,s,o,r,a,c=f[i(605)],u=f[i(376)],l=this[e],p=l._value,d=l[i(800)];switch(l[i(671)]){case c.BOX:u[i(828)](this.attributes[e],t,p,d);break;case c[i(614)]:n=this[i(476)][i(459)][i(531)][i(829)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],u.randomDirectionVector3OnSphere(this[i(476)][e],t,s,o,r,this[i(459)]._value,l[i(456)].x,l[i(800)].x);break;case c[i(522)]:n=this[i(476)][i(459)][i(531)][i(829)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],u[i(568)](this[i(476)][e],t,s,o,r,this[i(459)][i(456)],l[i(456)].x,l._spread.x);break;case c.LINE:u[i(639)](this.attributes[e],t,p,d)}if("acceleration"===e){const e=u[i(833)](u[i(759)](this.drag[i(456)],this[i(503)][i(800)]),0,1);this.attributes[i(637)][i(531)][i(829)][4*t+3]=e}},f[h(658)][h(547)][h(393)]=function(t,e){const i=h;let n,s=this[i(476)][e][i(531)],o=this[e],r=f[i(376)];r[i(463)](o[i(456)])&&r[i(463)](o[i(800)])?(n=Math[i(739)](r.randomFloat(o[i(456)][0],o._spread[0])),s[i(737)](t,n,n,n,n)):s[i(737)](t,Math[i(739)](r[i(759)](o[i(456)][0],o._spread[0])),Math[i(739)](r.randomFloat(o[i(456)][1],o[i(800)][1])),Math[i(739)](r[i(759)](o[i(456)][2],o[i(800)][2])),Math[i(739)](r[i(759)](o._value[3],o[i(800)][3])))},f[h(658)][h(547)][h(699)]=function(t){const e=h;let i,n=this[e(476)].angle.typedArray,s=this.angle,o=f[e(376)];o[e(463)](s[e(456)])&&o[e(463)](s._spread)?(i=o[e(759)](s._value[0],s[e(800)][0]),n.setVec4Components(t,i,i,i,i)):n[e(737)](t,o[e(759)](s[e(456)][0],s[e(800)][0]),o[e(759)](s[e(456)][1],s[e(800)][1]),o[e(759)](s._value[2],s._spread[2]),o[e(759)](s[e(456)][3],s[e(800)][3]))},f[h(658)][h(547)][h(723)]=function(t){const e=h;this[e(476)][e(543)][e(531)].setVec4Components(t,this[e(619)]?1:0,0,Math[e(739)](f[e(376)].randomFloat(this[e(572)][e(456)],this[e(572)]._spread)),f.utils[e(759)](this[e(724)][e(456)],this[e(724)][e(800)]))},f[h(658)].prototype._assignRotationValue=function(t){const e=h;this[e(476)][e(440)][e(531)][e(436)](t,f[e(376)][e(757)](this[e(440)][e(404)],this[e(440)][e(597)]),f[e(376)][e(759)](this[e(440)][e(627)],this[e(440)][e(490)]),this[e(440)][e(518)]?0:1),this[e(476)][e(599)].typedArray[e(559)](t,this[e(440)][e(426)])},f.Emitter[h(547)][h(838)]=function(t){const e=h;f[e(376)].randomColorAsHex(this[e(476)][e(840)],t,this[e(840)][e(456)],this[e(840)][e(800)])},f[h(658)][h(547)][h(560)]=function(t){const e=h;let i,n,s=this[e(704)],o=this[e(687)],r=this[e(819)],a=this[e(675)];for(let c=this[e(434)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(508)](i,t),this[e(587)](i,t),!0===n&&r[i]===this.particleCount?(o[i]=!1,r[i]=0):1==n&&++r[i])},f[h(658)][h(547)]._updateAttributeUpdateRange=function(t,e){const i=h,n=this[i(709)][t];n[i(666)]=Math.min(e,n[i(666)]),n.max=Math.max(e,n.max)},f.Emitter[h(547)][h(764)]=function(){const t=h;let e,i=this[t(709)],n=this[t(381)],s=this[t(455)]-1;for(;s>=0;--s)e=n[s],i[e][t(666)]=Number[t(437)],i[e][t(496)]=Number[t(618)]},f.Emitter[h(547)][h(817)]=function(){const t=h;this[t(668)]=0,this[t(495)]=0,this[t(644)]=0,this[t(784)]=0,this[t(613)]=null,this[t(476)]=null,this[t(753)]=null,this.age=0},f.Emitter[h(547)][h(629)]=function(){--this[h(784)]},f[h(658)][h(547)][h(549)]=function(){++this[h(784)]},f[h(658)].prototype._checkParticleAges=function(t,e,i,n){const s=h;for(var o,r,a,c,u=e-1;u>=t;--u)0!==(c=i[o=4*u])&&(a=i[o+1],r=i[o+2],1===this[s(835)]?(a+=n)>=r&&(a=0,c=0,this[s(629)]()):(a-=n)<=0&&(a=r,c=0,this[s(629)]()),i[o]=c,i[o+1]=a,this._updateAttributeUpdateRange(s(543),u))},f[h(658)][h(547)][h(793)]=function(t,e,i,n){const s=h,o=this.direction;for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(443)]||(this[s(549)](),i[r]=1,this[s(560)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this._updateAttributeUpdateRange("params",c))},f[h(658)][h(547)][h(809)]=function(t){const e=h;if(this[e(619)])return;null===this[e(753)]&&(this[e(753)]=this[e(476)].params.typedArray.array);const i=this[e(495)],n=i+this[e(443)],s=this[e(753)],o=this[e(668)]*this.activeMultiplier*t,r=this[e(644)];if(this._resetBufferRanges(),this[e(575)](i,n,s,t),!1===this[e(796)])return void(this[e(708)]=0);if(null!==this[e(391)]&&this[e(708)]>this[e(391)])return this[e(796)]=!1,void(this.age=0);const a=1===this.particleCount?r:0|r,c=Math.min(a+o,this[e(684)]),u=c-this[e(644)]|0,l=u>0?t/u:0;this[e(793)](a,c,s,l),this[e(644)]+=o,this[e(644)]>n&&(this[e(644)]=i),this.age+=t},f.Emitter.prototype[h(678)]=function(t){const e=h;if(this[e(708)]=0,this[e(796)]=!1,!0===t){const t=this[e(495)],s=t+this[e(443)],o=this.paramsArray,r=this[e(476)][e(543)][e(790)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(634)]=0,r.updateRange[e(803)]=-1,r.needsUpdate=!0}return this},f[h(658)][h(547)][h(679)]=function(){return this.alive=!0,this},f[h(658)][h(547)][h(474)]=function(){return this[h(796)]=!1,this},f[h(658)][h(547)][h(594)]=function(){const t=h;return null!==this[t(613)]?this[t(613)].removeEmitter(this):console[t(802)](t(382)),this};const d=f;function m(){const t=["Texture","_axisSpread","ensureValueOverLifetimeCompliance","rotationCenter","textureFrames","length","           unpackColor( color.z ),","__proto__","vec3 unpackColor( in float hex ) {","distributions","textureLoop","ceil","28tIVRjZ","    #ifdef SHOULD_WIGGLE_PARTICLES","    highp float isAlive = when_gt( alive, 0.0 );","join","           return pos;","group","SPHERE","SHOULD_ROTATE_TEXTURE","textureFrameCount","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","NEGATIVE_INFINITY","isStatic","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","    return max(sign(x - y), 0.0);","exception","shaders","      translated = rotationCenter - pos;","LINE","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","_angle","rotationFunctions","_decrementParticleCount","Points","spe","    pos += force;","undefined","offset","static","random","acceleration","uniform float deltaTime;","randomVector3OnLine","axisSpread","forceUpdateAll","itemSize","activeMultiplier","activationIndex","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    float fIndex = 0.0;","updateRange","        float columnNorm = column / framesX;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","valueOverLifetimeLength","exports","attribute vec4 rotation;","    #ifdef SHOULD_ROTATE_PARTICLES","    highp float positionInTime = (age / maxAge);","attribute vec4 opacity;","frameCount","Emitter","stateObject","colorize","amd","splice","    return a * b;","1390515ZTFiwl","shrink","min","emitterIDs","particlesPerSecond","types","`emitter` argument must be instance of SPE.Emitter. Was provided with:","_distribution","       float c = cos(angle);","logdepthbuf_pars_fragment","OBJECT","attributeKeys","_spreadClamp","material","reset","enable","getValueAtIndex","   float b = mod( hex, PACKED_COLOR_SIZE );",'{}.constructor("return this")( )',"keys","activationEnd","spread","randomise","updateFlags","    highp float age = getAge();","    vec3 accel = getAcceleration( age );","_randomise","        pos.x += wiggleSin;","_poolCreationSettings","   c *= vec3( 2.0 );","_updateUniforms","ensureArrayInstanceOf","    #ifdef COLORIZE","uniform float runTime;","        pos.y += wiggleCos;","_assignAngleValue","    #else","       float y = 1.0 - gl_PointCoord.y - 0.5;","value","_assignPositionValue","resetFlags","        float columnNorm = vSpriteSheet.z;","ensureTypedArg","       if ( vColor.w < float(ALPHATEST) ) discard;","age","bufferUpdateRanges","    vec3 value = vec3( 0.0 );","radius","uniform float scale;","#endif","SHOULD_ROTATE_PARTICLES","generateUUID","setAttribute","_assignRotationValue","attribute vec3 velocity;","ShaderMaterial","maxParticleCount","updateMin","        vSpriteSheet.z = columnNorm;","_assignParamsValue","wiggle","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","opacity","_updateDefines","lerpTypeAgnostic","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","   vec3 c = vec3( 0.0 );","_attributesNeedRefresh","#ifdef SHOULD_ROTATE_PARTICLES","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","_createBufferAttribute","vec3 getVelocity( in float age ) {","getFromPool","setVec4Components","texture","abs","indexOf","float getWiggle() {","    varying vec4 vSpriteSheet;","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","setVec4","subarray","_assignForceValue","    ","apply","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","ShaderChunk","   return params.w;","Emitter already belongs to another group. Will not add to requested group.","paramsArray","setFromArray","NUMBER","hasOwnProperty","getPackedRotationAxis","fog_fragment","randomFloat","resetUpdateRange","depthWrite","       float oc = 1.0 - c;","mesh","_resetBufferRanges","    vec4 rotatedTexture = texture2D( tex, vUv );","   return velocity * age;","usage","#define PACKED_COLOR_SIZE 256.0","sin","float when_le(float x, float y) {","onParticleSpawn","elements","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","set","       float c = cos( -vAngle );","       float x = gl_PointCoord.x - 0.5;","       axis = normalize(axis);","info","defines","MathUtils","vertex","getLength","gger","activeParticleCount","           unpackColor( color.x ),","3987630afvRQe","588200omCHPC","debu","   c.r = r / PACKED_COLOR_DIVISOR;","bufferAttribute","defineProperty","boolean","_activateParticles","addEmitter","TypedArrayHelper","alive","ShaderAttribute","      rotationMatrix = getRotationMatrix( axis, angle );","transparent","_spread","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","error","count","float getAlive() {","    #ifdef SHOULD_CALCULATE_SPRITE","blending","colorOverLifetime","           positionInTime,","tick","Vector4","    force += accel * age;","_radius","vec4 getPosition( in float age ) {","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","_setBufferUpdateRanges","void main() {","_onRemove","setRGB","updateCounts","getHex","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","float and(float a, float b) {","fixedTimeStep","22124FoqyXW","multiplyScalar","   }","randomVector3","array","SPE.Group pool ran out.","        vSpriteSheet.x = 1.0 / framesX;","    highp float alive = getAlive();","clamp","           unpackColor( color.w )","direction","fog_vertex","StaticDrawUsage","_assignColorValue","emitters","color","function","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","    vec3 vel = getVelocity( age );","       float s = sin(angle);","loop","sqrt","clone","    #ifdef ALPHATEST","utils","deltaTime","_applyAttributesToGeometry","    float shouldApplyValue = 0.0;","_setAttributeOffset","bufferUpdateKeys","Emitter does not belong to a group, cannot remove.","table","    highp float maxAge = getMaxAge();","Invalid argument types, or argument types do not match:","   return params.z;","    gl_PointSize = pointSizePerspective;","setVec2Components","addPool","scale","duration","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","_assignAbsLifetimeValue","float when_gt(float x, float y) {","BufferGeometry","_calculatePPSValue","    }","grow","while (true) {}","_updateBuffers","Emitter does not exist in this group. Will not remove.","uuid","angleSpread","_axis","unpackRotationAxis","SHOULD_WIGGLE_PARTICLES","warn","axis","round","SPE.Group: maxParticleCount exceeded. Requesting","    vColor = vec4( c, o );","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","95421fdWFoM","call","  return 1.0 - when_gt(x, y);","constructor","   return modelViewMatrix * vec4( position, 1.0 );","      float angle = 0.0;","uniforms","TypedArrayConstructor","dispose","_attributesNeedDynamicReset","removeEmitter","uniform sampler2D tex;","    #ifdef SHOULD_ROTATE_TEXTURE","_center","setUpdateRange","   c.b = b / PACKED_COLOR_DIVISOR;","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","BOOLEAN","geometry","Emitter already exists in this group. Will not add again.","counter","attributeCount","_rotationCenter","setVec3Components","POSITIVE_INFINITY","fog","69702kaJPha","rotation","_pool","Color","particleCount","chain","init","      if( rotation.y == 0.0 ) {","        pos = getRotation( pos, positionInTime );","triggerPoolEmitter","   return c;","angle","Vector2","        float framesY = textureAnimation.y;","arrayType","fog_pars_vertex","bufferUpdateCount","_value","normalize","distribution","position","action","   return params.y;","branchAvoidanceFunctions","arrayValuesAreEqual","        float wiggleCos = isAlive * cos( wiggleAmount );","    gl_Position = projectionMatrix * mvPosition;","unpackColor","roundToNearestMultiple","       vec3 c = isAlive * getColorOverLifetime(","releaseIntoPool","varyings","      }","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","vec3 unpackRotationAxis( in float hex ) {","disable","spreadClamp","attributes","      mat4 rotationMatrix;","dynamicBuffer","updateMax","REVISION","attribute vec3 rotationCenter;","frames","toString","string","function *\\( *\\)","        float framesY = vSpriteSheet.y;","        vSpriteSheet.y = 1.0 / framesY;","console","_ensureTypedArray","_angleSpread","rotateTexture","alphaTest","setDrawRange","center","attributeOffset","max","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    #endif","    force += vel;","velocity","distributionClamp","drag","float when_lt(float x, float y) {","replace","hasPerspective","log","_assignValue","logdepthbuf_pars_vertex","        float framesX = vSpriteSheet.x;","410wrbGGy","bind","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","type","fragment","Group","_static","        float rowNorm = vSpriteSheet.w;","        float wiggleSin = isAlive * sin( wiggleAmount );","Will not resize.","DISC","isArray","    vec3 force = vec3( 0.0 );","        float row = floor( (frameNumber - column) / framesX );","        float perspective = 1.0;","attribute vec4 angle;","_triggerSingleEmitter","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","   c.g = g / PACKED_COLOR_DIVISOR;","typedArray","#ifdef SHOULD_ROTATE_TEXTURE","        float wiggleAmount = positionInTime * getWiggle();","depthTest","           unpackColor( color.y ),","ensureArrayTypedArg","Vector3","needsUpdate","ensureInstanceOf","typeSizeMap","Argument is not instanceof SPE.Emitter:","varying vec4 vColor;","params","componentSize","resetDynamic","shaderChunks","prototype","indexOffset","_incrementParticleCount","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","common","paramFetchingFunctions","flagUpdate","attribute vec4 params;","_radiusScale","BOX","        vSpriteSheet.w = rowNorm;","float when_ge(float x, float y) {","setVec3","_resetParticle","fog_pars_fragment","   return params.x;","   return acceleration.xyz * age;","updateMap","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    return min(a + b, 1.0);","logdepthbuf_vertex","randomDirectionVector3OnDisc","particles, can support only","setColor","        float loopCount = textureAnimation.w;","maxAge","_createNewWhenPoolEmpty","size","_checkParticleAges","3576784qjTKel","        float perspective = scale / length( mvPosition.xyz );","    highp float value = 0.0;","uniform vec4 textureAnimation;","lerp","test","cos","copy","push","return (function() ","trace","_updateAttributeUpdateRange","attribute vec4 size;","forceFetchingFunctions","#ifdef SHOULD_CALCULATE_SPRITE","      vec3 axis = unpackRotationAxis( rotation.x );","       float s = sin( -vAngle );","number","remove","interpolateArray"];return(m=function(){return t})()}function g(t){function e(t){const i=p;if(typeof t===i(484))return function(t){}[i(416)](i(399))[i(748)](i(433));1!==(""+t/t)[i(601)]||t%20==0?function(){return!0}[i(416)](i(788)+i(783))[i(414)](i(460)):function(){return!1}[i(416)]("debu"+i(783))[i(748)](i(659)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{d as _};
