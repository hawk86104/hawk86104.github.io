{"version":3,"file":"rayMarchingBasic.Bzv0j84B1767105581793.js","sources":["../../src/plugins/rayMarchingAndThreejs/shaders/rayMarchingBasic.vert?raw","../../src/plugins/rayMarchingAndThreejs/shaders/rayMarchingBasic.frag?raw","../../src/plugins/rayMarchingAndThreejs/components/rayMarchingMaterialBasic.vue","../../src/plugins/rayMarchingAndThreejs/pages/rayMarchingBasic.vue"],"sourcesContent":["export default \"varying vec2 vUv;\\nvoid main(){\\n\\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\\n\\tvUv=uv;\\n}\"","export default \"#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nuniform vec2 u_resolution;\\nuniform vec3 u_mouse;\\nuniform float u_time;\\nvarying vec2 vUv;\\nfloat map(vec3 p){\\n  return length(p)-1.;\\n}\\nvoid main(){\\n  vec3 ro=vec3(0.,0.,-3.);//起始位置\\n  vec3 rd=normalize(vec3(vUv-.5,1.));//方向\\n  float t=0.;\\n  vec3 color=vec3(0.);\\n  for(int i=0;i<80;i++){\\n    vec3 p=ro+rd*t;\\n    float d=map(p);\\n    t+=d;\\n    //优化效率\\n    if(t>100.||d<.001){\\n      break;\\n    }\\n    \\n  }\\n  color=vec3(t)*.2;\\n  gl_FragColor=vec4(color,1.);\\n  \\n}\"","<!--\n * @Descripttion: \n * @version: \n * @Author: Jsonco\n * @Date: 2023-11-29 20:09:06\n * @LastEditors: sueRimn\n * @LastEditTime: 2023-11-30 23:02:23\n-->\n<template>\n    <TresMesh ref=\"MeshRef\" :rotation=\"[Math.PI / 2, 0, 0]\">\n        <TresPlaneGeometry ref=\"TresTubeGeometryRef\" :args=\"[1000, 1000]\" />\n        <TresShaderMaterial v-bind=\"shader\" />\n    </TresMesh>\n</template>\n\n<script setup lang=\"ts\">\nimport { useLoop, useTresContextProvider, useTresContext, useTexture } from '@tresjs/core';\nimport { OrbitControls } from '@tresjs/cientos';\nimport { AdditiveBlending, DoubleSide, Vector2, LinearFilter, RGBAFormat, WebGLRenderTarget, Color } from 'three';\nimport { ref, watch, defineExpose, watchEffect } from 'vue';\nimport stringVertex from '../shaders/rayMarchingBasic.vert?raw';\nimport stringFrag from '../shaders/rayMarchingBasic.frag?raw';\nconst { onBeforeRender  } = useLoop();\nconst shader = {\n    transparent: true,\n    depthWrite: true,\n    depthTest: true,\n    side: DoubleSide,\n    vertexShader: stringVertex,\n    fragmentShader: stringFrag,\n    uniforms: {\n        u_resolution: {\n            value: new Vector2(window.innerWidth, window.innerHeight),\n        },\n        u_mouse: {\n            value: new Vector2(0, 0),\n        },\n        u_time: {\n            value: 0,\n        },\n    },\n};\nconst windowHalfX = window.innerWidth / 2;\nconst windowHalfY = window.innerHeight / 2;\nlet mouseX = 0;\nlet mouseY = 0;\nfunction onMouseMove(e) {\n    mouseX = e.clientX - windowHalfX;\n    mouseY = e.clientY - windowHalfY;\n}\ndocument.addEventListener('mousemove', onMouseMove, false);\nwatchEffect(() => { });\nonBeforeRender (({ elapsed }) => {\n    shader.uniforms.u_time.value += 0.001;\n    shader.uniforms.u_mouse.value = new Vector2(mouseX, mouseY);\n});\n\n</script>\n","<template>\n    <TresCanvas v-bind=\"state\" window-size>\n        <TresPerspectiveCamera ref=\"perspectiveCameraRef\" :position=\"[0, 800, 0]\" :fov=\"45\" :near=\"1\" :far=\"10000\" />\n        <OrbitControls v-bind=\"controlsState\" />\n        <TresAmbientLight color=\"#ffffff\" />\n        <TresDirectionalLight :position=\"[100, 100, 0]\" :intensity=\"0.5\" color=\"#ffffff\" />\n        <rayMarchingMaterialBasic />\n        <TresAxesHelper :args=\"[1000]\" :position=\"[0, 19, 0]\" />\n        <TresGridHelper :args=\"[6000, 100]\" :position=\"[0, 19, 0]\" />\n    </TresCanvas>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive, onMounted } from 'vue';\nimport { OrbitControls } from '@tresjs/cientos';\nimport rayMarchingMaterialBasic from '../components/rayMarchingMaterialBasic.vue';\nimport { Pane } from 'tweakpane';\nimport axios from 'axios';\nconst state = {\n    clearColor: '#000000',\n    shadows: true,\n    alpha: false,\n    useLegacyLights: true,\n};\nconst controlsState = { autoRotate: true, enableDamping: true };\n\nonMounted(() => { });\n</script>\n"],"names":["useLoop","_createElementVNode","rayMarchingMaterialBasic"],"mappings":"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"}