import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.sklxXn0u1733198294833.js";import{_ as i,z as s,aB as a,a0 as c}from"./three.8iJMi2lU1733198294833.js";import{P as u}from"./tweakpane.yHWGBmom1733198294833.js";import{L as l}from"./three-subdivide.LaGnXbDx1733198294833.js";import{d as f,b as p,a3 as d,w as g,o as m,D as h,J as v,aj as y,ak as b,a6 as w,r as _,e as x,f as I,g as M,j as B,u as S,m as T,I as j}from"./@vue.-THQH3GC1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";const k=A;!function(n,t){const e=A,r=z();for(;;)try{if(818150===parseInt(e(516))/1+-parseInt(e(478))/2+parseInt(e(505))/3+parseInt(e(519))/4+parseInt(e(483))/5*(parseInt(e(485))/6)+parseInt(e(507))/7+-parseInt(e(486))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(500)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){C(this,(function(){const n=A,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(472),"i"),r=E(n(522));t[n(489)](r+n(497))&&e[n(489)](r+n(496))?E():r("0")}))()}();const F=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(500)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function z(){const n=["debu","geometry","1031084yNfJLJ","TresMesh","console","init","Vector3","side","shineShader","action","subdivision","length","gger","modify","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","log","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","call","FrontSide","846286tlYKgT","while (true) {}","toString","trace","subVectors","426575UEpSvV","Color","60vZcqpI","13020264nWsFke","scale","exception","test","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","prototype","uniforms","string","error","return (function() ","input","chain","glowColor","color","apply","copy","stateObject","constructor","value","1189737BMxZSt","position","7269157vpLaGv","AdditiveBlending","blending","srcMesh","bind","__proto__","table","TSGref","clone","322875EjFfyB"];return(z=function(){return n})()}function A(n,t){const e=z();return(A=function(n,t){return e[n-=467]})(n,t)}F(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(495)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(521)]=t[n(521)]||{},r=[n(474),"warn","info",n(494),n(488),n(513),n(481)];for(let o=0;o<r.length;o++){const t=F.constructor[n(491)][n(511)](F),i=r[o],s=e[i]||t;t[n(512)]=F[n(511)](F),t.toString=s[n(480)][n(511)](s),e[i]=t}}))();const V=[k(487)],R=f({__name:k(525),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(477)]},blending:{default:i[k(508)]}},setup(e){const r=k,o=e,s=p(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(484)])(o[r(499)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(475),fragmentShader:r(490),side:o[r(524)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};d((()=>{const n=r;if(o[n(510)]&&s[n(504)]&&!s.value[n(518)].attributes[n(506)]){let t=o[n(510)].geometry[n(515)]();o[n(468)]&&(t=l.modify(t,2)),s.value[n(518)]=t,s[n(504)][n(506)][n(501)](o[n(510)][n(506)])}o[n(499)]&&(a[n(492)][n(498)][n(504)]=new(i[n(484)])(o[n(499)])),o.c&&(a[n(492)].c.value=o.c),o.p&&(a[n(492)].p[n(504)]=o.p)})),g((()=>o[r(468)]),(n=>{const t=r;let e=o[t(510)][t(518)][t(515)]();n&&(e=l[t(471)](e,2)),s[t(504)][t(518)]=e})),g((()=>o.side),(n=>{const t=r;s[t(504)].material[t(524)]=n})),g((()=>o[r(509)]),(n=>{const t=r;s[t(504)].material[t(509)]=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=r;u[n(504)]&&s[n(504)]&&(a[n(492)].viewVector[n(504)]=(new(i[n(523)]))[n(482)](u.value[n(506)],s[n(504)].position))})),(n,t)=>{const e=r;return m(),h(e(520),{ref_key:e(514),ref:s,scale:o[e(487)]},[v("TresShaderMaterial",y(b(a)),null,16)],8,V)}}});function E(n){function t(n){const e=A;if(typeof n===e(493))return function(n){}[e(503)](e(479))[e(500)](e(473));1!==(""+n/n)[e(469)]||n%20==0?function(){return!0}.constructor("debu"+e(470))[e(476)](e(467)):function(){return!1}[e(503)](e(517)+e(470))[e(500)](e(502)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=J;function N(){const n=["BackSide","call","apply","TresMeshRefB","38619QJRgPM","AdditiveBlending","debu","logo.png","NormalBlending","console","2pIvYnT","边缘处理","addBinding","table","gger","#00dfff","map","test","#222","TresAmbientLight","blending","2590cSJxVb","236838uauFcz","constructor","action","exception","subdivision","TresMesh","color","while (true) {}","length","bind","FrontSide","14nropCg","5UDmGDf","1972448UlxEpF","function *\\( *\\)","srcMesh","instance","trace","2484942vGmTpL","3772852nZOBCt","TresMeshBasicMaterial","__proto__","stateObject",'{}.constructor("return this")( )',"log","side","723084bWaqqO","value","#0ff","string","26181606ClTHVF","TresBoxGeometry","input","toString"];return(N=function(){return n})()}!function(n,t){const e=J,r=N();for(;;)try{if(734060===parseInt(e(219))/1+parseInt(e(207))/2*(parseInt(e(181))/3)+parseInt(e(182))/4*(parseInt(e(231))/5)+-parseInt(e(189))/6*(-parseInt(e(230))/7)+-parseInt(e(176))/8+-parseInt(e(201))/9*(-parseInt(e(218))/10)+-parseInt(e(193))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[J(199)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Z(this,(function(){const n=J,t=new RegExp(n(177)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=P("init");t[n(214)](r+"chain")&&e.test(r+n(195))?P():r("0")}))()}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[J(199)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function J(n,t){const e=N();return(J=function(n,t){return e[n-=176]})(n,t)}L(void 0,(function(){const n=J,t=function(){const n=J;let t;try{t=Function("return (function() "+n(186)+");")()}catch(e){t=window}return t}(),e=t[n(206)]=t[n(206)]||{},r=[n(187),"warn","info","error",n(222),n(210),n(180)];for(let o=0;o<r[n(227)];o++){const t=L.constructor.prototype[n(228)](L),i=r[o],s=e[i]||t;t[n(184)]=L[n(228)](L),t.toString=s[n(196)][n(228)](s),e[i]=t}}))();const q=[G(213)],D=[G(213)],O=f({__name:"shader",async setup(n){const t=G;let l,f;const d={clearColor:t(215)},g=p(),h=p(),y=p(),b=([l,f]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(204)]))),l=await l,f(),l),k=_({scale:1.6,color:t(212),subdivision:!0,c:1.1,p:1.4,side:s,blending:a}),C=new u({title:"参数",expanded:!0});return C.addBinding(k,t(225),{label:"颜色"}),C[t(209)](k,"scale",{label:"大小",min:1,max:3,step:.2}),C.addBinding(k,t(223),{label:t(208)}),C[t(209)](k,"c",{label:"c",min:0,max:2,step:.1}),C[t(209)](k,"p",{label:"p",min:0,max:8,step:.2}),C[t(209)](k,t(188),{options:{FrontSide:i[t(229)],BackSide:i[t(197)],DoubleSide:c}}),C[t(209)](k,t(217),{options:{AdditiveBlending:i[t(202)],NormalBlending:i[t(205)]}}),(n,o)=>{const i=t,s=x("TresCanvas");return m(),I(s,T(d,{"window-size":""}),{default:M((()=>[o[2]||(o[2]=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),o[3]||(o[3]=v(i(216),{intensity:1},null,-1)),B(S(e)),o[4]||(o[4]=v("TresGridHelper",{args:[10,10]},null,-1)),v(i(224),{ref_key:"TresMeshRefA",ref:g,position:[-2,1,0]},[o[0]||(o[0]=v("TresSphereGeometry",{args:[1,32,16]},null,-1)),v(i(183),{map:S(b)[0]},null,8,q)],512),B(R,T({srcMesh:g[i(190)]},k),null,16,[i(178)]),B(S(r),{ref_key:"TreBoxRef",ref:y,args:[1,1,1],position:[2,1,0]},{default:M((()=>[v(i(183),{map:S(b)[1]},null,8,D)])),_:1},512),y[i(190)]&&y[i(190)][i(179)]?(m(),I(R,T({key:0,srcMesh:y[i(190)].instance},k),null,16,[i(178)])):j("",!0),v(i(224),{ref_key:i(200),ref:h,position:[0,1,-2]},o[1]||(o[1]=[v(i(194),{args:[1,1,1,1,1]},null,-1),v("TresMeshBasicMaterial",{color:i(191)},null,-1)]),512),B(R,T({srcMesh:h[i(190)]},k),null,16,[i(178)])])),_:1},16)}}});function P(n){function t(n){const e=J;if(typeof n===e(192))return function(n){}[e(220)](e(226))[e(199)]("counter");1!==(""+n/n)[e(227)]||n%20==0?function(){return!0}.constructor(e(203)+"gger")[e(198)](e(221)):function(){return!1}[e(220)](e(203)+e(211)).apply(e(185)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
