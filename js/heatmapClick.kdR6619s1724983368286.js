import{a as t,d as n}from"./@tresjs.OrqGCbtj1724983368286.js";import{P as e}from"./tweakpane.yHWGBmom1724983368286.js";import{a6 as o,Z as r,ab as a,ac as s}from"./three.p-9BQwc31724983368286.js";import{_ as i}from"./heatmap.js-fix.gqU99bdd1724983368286.js";import{d as c,a4 as u,a1 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as v,j as y,al as b,aj as w,ak as x,m as _,J as I}from"./@vue.Q1VpS3901724983368286.js";import"./@vueuse.n6I5WvfU1724983368286.js";import"./@amap.-Bisu7YL1724983368286.js";const j=k;!function(t,n){const e=k,o=S();for(;;)try{if(122480===-parseInt(e(158))/1*(-parseInt(e(205))/2)+-parseInt(e(164))/3+parseInt(e(188))/4+-parseInt(e(195))/5*(-parseInt(e(176))/6)+parseInt(e(204))/7*(parseInt(e(139))/8)+parseInt(e(149))/9*(-parseInt(e(165))/10)+parseInt(e(170))/11*(parseInt(e(160))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(179)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function S(){const t=["position","0.8","show2dCanvas","init","addData","boundingBox","function *\\( *\\)","72554BPPVXQ","mesh_0","264732plYPcS",'{}.constructor("return this")( )',"heatmapClickCom","BufferAttribute","369210AQVxcP","5380ejaBdY","counter","count","appendChild","border","66zUKjON","40px","constructor","exception","primitive","string","42zDpOvF","push","object","apply","getZ","_renderer","onclick","chain","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","set","left","error","218696UPDBdO","display","console","none","radius","length","prototype","10220LzChkS","getX","__proto__","block","warn","body","geometry","create","toString","121079nToeMl","2XRJCUi","debu","return (function() ","canvas","call","needsUpdate","Texture","style","computeBoundingBox","test","top","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","deleteAttribute","attributes","log","16bMFIrO","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","stateObject","bind","trace","gger","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ShaderMaterial","setAttribute","1053HiyEwa","absolute"];return(S=function(){return t})()}!function(){C(this,(function(){const t=k,n=new RegExp(t(157)),e=new RegExp(t(146),"i"),o=B(t(154));n[t(214)](o+t(183))&&e[t(214)](o+"input")?B():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(179)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=k;let n;try{n=Function(t(207)+t(161)+");")()}catch(r){n=window}const e=n[t(190)]=n.console||{},o=[t(219),t(199),"info",t(187),t(173),"table",t(143)];for(let a=0;a<o[t(193)];a++){const n=A[t(172)][t(194)][t(142)](A),r=o[a],s=e[r]||n;n[t(197)]=A[t(142)](A),n.toString=s[t(203)][t(142)](s),e[r]=n}}))();const U=[j(178)];function k(t,n){const e=S();return(k=function(t,n){return e[t-=139]})(t,n)}const z=c({__name:j(162),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(184),{draco:!0,decoderPath:"./draco/"}))),a=await a,s(),a);h[e(159)][e(151)][e(185)](-5088.96,-3.08,39374.7),h.mesh_0.scale.setScalar(.01);let m=null,g=null,v=null;g=new(o[e(211)])((()=>{const t=e;return v=document.createElement("heatmap-canvas"),v[t(212)][t(151)]=t(150),v[t(212)][t(215)]=t(171),v[t(212)][t(186)]="0",document[t(200)][t(168)](v),m=i[t(202)]({container:v,width:256,height:256,blur:t(152),radius:c[t(192)]}),m[t(181)].canvas[t(212)][t(169)]="1px solid #5384ff",m[t(181)][t(208)][t(182)]=function(n){const e=t;m[e(155)]({x:n.layerX,y:n.layerY,value:1,radius:c[e(192)]}),m.setDataMax(1),g&&(g[e(210)]=!0)},m})()[e(181)][e(208)]);const y={vertexShader:e(216),fragmentShader:e(140),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},b=new(o[e(147)])(y);h[e(159)].material=b;return(t=>{const n=e;t[n(213)]();const{max:r,min:a}=t[n(156)];t[n(217)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(218)].position[n(167)];e++)c.push((t.attributes[n(151)][n(196)](e)-a.x)/s),c[n(177)]((t[n(218)].position[n(180)](e)-a.z)/i);const u=new Float32Array(c);t[n(148)]("uv",new(o[n(163)])(u,2))})(h[e(159)][e(201)]),l((()=>{const t=e;v[t(212)][t(189)]=""+(c[t(153)]?t(198):t(191))})),(t,n)=>{const o=e;return p(),f(o(174),{object:d(h)[o(159)]},null,8,U)}}});function B(t){function n(t){const e=k;if(typeof t===e(175))return function(t){}[e(172)](e(145))[e(179)](e(166));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(206)+e(144))[e(209)]("action"):function(){return!1}[e(172)](e(206)+e(144)).apply(e(141)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=T;!function(t,n){const e=T,o=Z();for(;;)try{if(196177===parseInt(e(248))/1+-parseInt(e(280))/2+-parseInt(e(255))/3+parseInt(e(263))/4+-parseInt(e(261))/5*(-parseInt(e(264))/6)+parseInt(e(293))/7+-parseInt(e(290))/8*(parseInt(e(249))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(267)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=T,n=new RegExp(t(285)),e=new RegExp(t(279),"i"),o=X(t(274));n.test(o+t(256))&&e[t(257)](o+"input")?X():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(267)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(251)+t(282)+");")()}catch(e){n=window}return n}(),e=n[t(288)]=n[t(288)]||{},o=["log",t(289),t(266),t(281),t(270),t(252),"trace"];for(let r=0;r<o.length;r++){const n=M[t(283)][t(246)][t(259)](M),a=o[r],s=e[a]||n;n.__proto__=M[t(259)](M),n[t(278)]=s.toString[t(259)](s),e[a]=n}}))();const O=I(P(253),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),D=I(P(277),{position:[5,10,7.5],color:P(247),intensity:5},null,-1),R=I(P(284),{args:[50,25]},null,-1);function T(t,n){const e=Z();return(T=function(t,n){return e[t-=246]})(t,n)}function Z(){const t=["show2dCanvas","597684PErnXj","chain","test","点击左侧蓝色画框","bind","action","150nUglvs","gger","1167192sAuxhE","4668Uuyvpe","while (true) {}","info","apply","显示二维图","string","exception","stateObject","debu","圆圈的大小","init","TresCanvas","addButton","TresDirectionalLight","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","733756UrndOk","error",'{}.constructor("return this")( )',"constructor","TresGridHelper","function *\\( *\\)","length","#030311","console","warn","435256ZlKSsG","call","addBinding","2719955RuXUbh","prototype","#ffffff","385022glBHEm","54APlAEw","radius","return (function() ","table","TresPerspectiveCamera"];return(Z=function(){return t})()}const F=c({__name:"heatmapClick",setup(t){const o=P,r={clearColor:o(287),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(292)](i,o(254),{label:o(268)}),c[o(292)](i,o(250),{label:o(273),min:.1,max:30,step:.1}),c[o(276)]({title:o(258)}),(t,e)=>{const a=m(o(275));return p(),g(a,_(r,{"window-size":""}),{default:v((()=>[O,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),D,R,(p(),g(b,null,{default:v((()=>[y(z,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function X(t){function n(t){const e=T;if(typeof t===e(269))return function(t){}[e(283)](e(265))[e(267)]("counter");1!==(""+t/t)[e(286)]||t%20==0?function(){return!0}[e(283)](e(272)+e(262))[e(291)](e(260)):function(){return!1}.constructor(e(272)+e(262))[e(267)](e(271)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
