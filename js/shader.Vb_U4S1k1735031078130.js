import{e as n,m as t,U as e,s as o,b as r}from"./@tresjs.dTM0HLnZ1735031078130.js";import{_ as i,V as s}from"./three.bc6MLGU_1735031078130.js";import{P as a}from"./tweakpane.yHWGBmom1735031078130.js";import{L as c}from"./three-subdivide.x390Zopd1735031078130.js";import{d as u,b as l,a3 as f,w as p,o as d,D as g,J as m,aj as h,ak as v,a6 as y,r as b,e as w,f as _,g as x,j as I,u as M,m as S,I as B}from"./@vue.-THQH3GC1735031078130.js";import"./@vueuse.COyzlgw71735031078130.js";const k=R;!function(n,t){const e=R,o=A();for(;;)try{if(771008===-parseInt(e(269))/1+parseInt(e(279))/2+parseInt(e(289))/3*(parseInt(e(264))/4)+-parseInt(e(287))/5+-parseInt(e(284))/6+-parseInt(e(302))/7+parseInt(e(258))/8*(parseInt(e(272))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[R(295)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){T(this,(function(){const n=R,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=V(n(274));t[n(305)](o+n(285))&&e[n(305)](o+n(288))?V():o("0")}))()}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[R(295)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(){const n=["shineShader","TresMesh","Color","toString","21115576HRerWk","length","side","return (function() ","clone","AdditiveBlending","1004fUcXPk","while (true) {}","trace","srcMesh","console","1397336usYEKO","material","scale","9fvdkfB","#ffff00","init","color","modify","counter","call","2250382rpJACz","FrontSide","exception","subdivision","gger","3585066UnRmlx","chain","TresShaderMaterial","4633735ZjGPmA","input","11679CJXXMH","string","constructor","uniforms","__proto__","viewVector","apply","stateObject","copy","info","geometry","value","action","7344253xstibV","log","blending","test","attributes","bind","TSGref","table","position","prototype","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","error"];return(A=function(){return n})()}j(void 0,(function(){const n=R;let t;try{t=Function(n(261)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(268)]=t[n(268)]||{},o=[n(303),"warn",n(298),n(313),n(281),n(309),n(266)];for(let i=0;i<o.length;i++){const t=j[n(291)][n(311)][n(307)](j),r=o[i],s=e[r]||t;t[n(293)]=j[n(307)](j),t.toString=s[n(257)][n(307)](s),e[r]=t}}))();const C=["scale"];function R(n,t){const e=A();return(R=function(n,t){return e[n-=254]})(n,t)}const z=u({__name:k(254),props:{srcMesh:{},scale:{default:1.2},color:{default:k(273)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(280)]},blending:{default:i[k(263)]}},setup(e){const o=k,r=e,a=l(),u={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(256)])(r[o(275)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:o(312),side:r[o(260)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(304)]};f((()=>{const n=o;if(r[n(267)]&&a[n(300)]&&!a[n(300)][n(299)][n(306)].position){let t=r.srcMesh[n(299)][n(262)]();r[n(282)]&&(t=c[n(276)](t,2)),a[n(300)][n(299)]=t,a[n(300)][n(310)][n(297)](r[n(267)][n(310)])}r[n(275)]&&(u[n(292)].glowColor.value=new(i[n(256)])(r[n(275)])),r.c&&(u[n(292)].c[n(300)]=r.c),r.p&&(u[n(292)].p[n(300)]=r.p)})),p((()=>r[o(282)]),(n=>{const t=o;let e=r[t(267)][t(299)][t(262)]();n&&(e=c[t(276)](e,2)),a[t(300)].geometry=e})),p((()=>r[o(260)]),(n=>{const t=o;a[t(300)][t(270)].side=n})),p((()=>r[o(304)]),(n=>{const t=o;a[t(300)][t(270)][t(304)]=n}));const{onLoop:y}=n(),{camera:b}=t();return y((()=>{const n=o;b[n(300)]&&a.value&&(u[n(292)][n(294)].value=(new s).subVectors(b.value[n(310)],a[n(300)].position))})),(n,t)=>{const e=o;return d(),g(e(255),{ref_key:e(308),ref:a,scale:r[e(271)]},[m(e(286),h(v(u)),null,16)],8,C)}}});function V(n){function t(n){const e=R;if(typeof n===e(290))return function(n){}[e(291)](e(265)).apply(e(277));1!==(""+n/n)[e(259)]||n%20==0?function(){return!0}.constructor("debu"+e(283))[e(278)](e(301)):function(){return!1}[e(291)]("debugger")[e(295)](e(296)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const F=L;!function(n,t){const e=L,o=D();for(;;)try{if(703953===parseInt(e(477))/1*(-parseInt(e(472))/2)+parseInt(e(432))/3+parseInt(e(459))/4+parseInt(e(483))/5+parseInt(e(476))/6*(parseInt(e(434))/7)+-parseInt(e(440))/8*(parseInt(e(486))/9)+-parseInt(e(427))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[L(438)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=L,t=new RegExp(n(450)),e=new RegExp(n(442),"i"),o=H(n(462));t[n(474)](o+n(436))&&e[n(474)](o+n(441))?H():o("0")}))()}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[L(438)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function L(n,t){const e=D();return(L=function(n,t){return e[n-=425]})(n,t)}G(void 0,(function(){const n=L;let t;try{t=Function(n(466)+n(480)+");")()}catch(r){t=window}const e=t[n(457)]=t[n(457)]||{},o=["log",n(449),n(453),n(473),"exception","table",n(468)];for(let i=0;i<o[n(487)];i++){const t=G[n(425)][n(435)][n(481)](G),r=o[i],s=e[r]||t;t[n(456)]=G.bind(G),t.toString=s.toString.bind(s),e[r]=t}}))();const N=[F(439)],P=["map"];function D(){const n=["BackSide","action","1124274RvpGvt","srcMesh","133IdaBLf","prototype","chain","DoubleSide","apply","map","6680FLdfyj","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","FrontSide","instance","#222","subdivision","gger","warn","function *\\( *\\)","TresCanvas","addBinding","info","TresBoxGeometry","NormalBlending","__proto__","console","counter","590220DlJZsC","#00dfff","while (true) {}","init","logo.png","TresMeshRefA","TreBoxRef","return (function() ","TresMeshBasicMaterial","trace","value","#0ff","TresMesh","114298DyhQup","error","test","side","13308bYWPMn","12wmHSbp","blending","AdditiveBlending",'{}.constructor("return this")( )',"bind","color","5280085eokaRt","TresGridHelper","TresSphereGeometry","2016LVmYhX","length","边缘处理","constructor","call","436910eTlZYk","string","stateObject"];return(D=function(){return n})()}const E=u({__name:"shader",async setup(n){const t=F;let s,c;const u={clearColor:t(446)},f=l(),p=l(),g=l(),h=([s,c]=y((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(463)]))),s=await s,c(),s),v=b({scale:1.6,color:t(460),subdivision:!0,c:1.1,p:1.4,side:i[t(444)],blending:i[t(479)]}),k=new a({title:"参数",expanded:!0});return k[t(452)](v,t(482),{label:"颜色"}),k[t(452)](v,"scale",{label:"大小",min:1,max:3,step:.2}),k.addBinding(v,t(447),{label:t(488)}),k.addBinding(v,"c",{label:"c",min:0,max:2,step:.1}),k[t(452)](v,"p",{label:"p",min:0,max:8,step:.2}),k.addBinding(v,t(475),{options:{FrontSide:i[t(444)],BackSide:i[t(430)],DoubleSide:i[t(437)]}}),k[t(452)](v,t(478),{options:{AdditiveBlending:i[t(479)],NormalBlending:i[t(455)]}}),(n,r)=>{const i=t,s=w(i(451));return d(),_(s,S(u,{"window-size":""}),{default:x((()=>[r[2]||(r[2]=m("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=m("TresAmbientLight",{intensity:1},null,-1)),I(M(e)),r[4]||(r[4]=m(i(484),{args:[10,10]},null,-1)),m("TresMesh",{ref_key:i(464),ref:f,position:[-2,1,0]},[r[0]||(r[0]=m(i(485),{args:[1,32,16]},null,-1)),m(i(467),{map:M(h)[0]},null,8,N)],512),I(z,S({srcMesh:f[i(469)]},v),null,16,[i(433)]),I(M(o),{ref_key:i(465),ref:g,args:[1,1,1],position:[2,1,0]},{default:x((()=>[m(i(467),{map:M(h)[1]},null,8,P)])),_:1},512),g[i(469)]&&g[i(469)][i(445)]?(d(),_(z,S({key:0,srcMesh:g[i(469)].instance},v),null,16,[i(433)])):B("",!0),m(i(471),{ref_key:"TresMeshRefB",ref:p,position:[0,1,-2]},r[1]||(r[1]=[m(i(454),{args:[1,1,1,1,1]},null,-1),m(i(467),{color:i(470)},null,-1)]),512),I(z,S({srcMesh:p.value},v),null,16,[i(433)])])),_:1},16)}}});function H(n){function t(n){const e=L;if(typeof n===e(428))return function(n){}[e(425)](e(461))[e(438)](e(458));1!==(""+n/n).length||n%20==0?function(){return!0}[e(425)]("debu"+e(448))[e(426)](e(431)):function(){return!1}[e(425)](e(443)+e(448)).apply(e(429)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{E as default};
