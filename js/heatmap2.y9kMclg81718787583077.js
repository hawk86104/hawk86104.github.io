import{P as t}from"./tweakpane.qqn77PB81718787583077.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.dTztdH3O1718787583077.js";import{_ as r}from"./heatmap.js-fix.kKmM3B7p1718787583077.js";import{h as i,a5 as s,bU as c,M as u,r as a}from"./three.OZpCYxlY1718787583077.js";import{r as p}from"./utils.T2T1WKDs1718787583077.js";import{d as f}from"./pinia.jgDkRZDw1718787583077.js";import{b as l,d as h,a2 as d,o as m,D as g,J as y,u as v,F as I,q as w,U as b,N as j,P as _,H as x,L as D,a3 as S,r as M,j as O,g as B,m as E}from"./@vue.CpOXM7bB1718787583077.js";import{c as Z,d as R,a as k}from"./three-mesh-bvh.kKYQZqAu1718787583077.js";import{_ as U}from"./@fesjs.BvrsBDNW1718787583077.js";import"./@tresjs.yMGhEK7G1718787583077.js";import"./@vueuse.jAwx0y-e1718787583077.js";import"./three-custom-shader-material.JsHLV5bd1718787583077.js";import"./object-hash.qNEzwKzz1718787583077.js";import"./@amap.SdFHYHOw1718787583077.js";import"./jszip.b_9tpgnb1718787583077.js";import"./glsl-tokenizer.gaAYmyHH1718787583077.js";import"./glsl-token-string.I-C2eR7Z1718787583077.js";import"./glsl-token-functions.9MA3WN5r1718787583077.js";import"./vue-router.2IN93cQd1718787583077.js";import"./lodash-es.nFpJXAf-1718787583077.js";import"./@qlin.yHhFDldE1718787583077.js";import"./@floating-ui.BPbuo5Gx1718787583077.js";import"./@juggle.7yjBMqoW1718787583077.js";function z(t,n){const e=V();return(z=function(t,n){return e[t-=425]})(t,n)}!function(t,n){const e=z,o=V();for(;;)try{if(300585===-parseInt(e(441))/1*(-parseInt(e(467))/2)+-parseInt(e(464))/3+parseInt(e(431))/4*(-parseInt(e(466))/5)+-parseInt(e(435))/6+parseInt(e(455))/7+parseInt(e(425))/8+parseInt(e(458))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=z,n=new RegExp(t(456)),e=new RegExp(t(445),"i"),o=G(t(444));n.test(o+"chain")&&e[t(450)](o+t(446))?G():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();F(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(426)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(447)]=n[t(447)]||{},o=[t(469),t(457),t(428),"error",t(459),t(471),"trace"];for(let r=0;r<o[t(451)];r++){const n=F.constructor[t(436)][t(452)](F),i=o[r],s=e[i]||n;n[t(443)]=F[t(452)](F),n.toString=s.toString[t(452)](s),e[i]=n}}))();const T=(t,n)=>t[z(472)](n)+-10;function V(){const t=["while (true) {}","position","yellow","1601691wPCrPO","top","10YxWSmY","2sMJWJH","string","log","rgb(255,0,0)","table","getValueAt","absolute","apply","display","height","3419112jVIpFD","return (function() ","width","info","gger","appendChild","774236duFWXW","counter","stateObject","style","1049010rBlxVX","prototype","_config","setData","debu","randInt","303917loOjVG","action","__proto__","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","console","constructor","push","test","length","bind","call","create","933856LvfnDx","function *\\( *\\)","warn","4785489orfCMa","exception","none"];return(V=function(){return t})()}function G(t){function n(t){const e=z;if(typeof t===e(468))return function(t){}[e(448)](e(461)).apply(e(432));1!==(""+t/t)[e(451)]||t%20==0?function(){return!0}[e(448)](e(439)+"gger")[e(453)](e(442)):function(){return!1}[e(448)](e(439)+e(429))[e(474)](e(433)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=L;!function(t,n){const e=L,o=$();for(;;)try{if(707177===parseInt(e(379))/1*(parseInt(e(364))/2)+-parseInt(e(373))/3+-parseInt(e(366))/4+parseInt(e(355))/5*(parseInt(e(389))/6)+-parseInt(e(357))/7+parseInt(e(380))/8*(-parseInt(e(354))/9)+parseInt(e(371))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(374)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["info","2961195JtjXgr","apply","trace","string","test","exception","1082843tqXsmb","241024cZfeMZ","call","bind","function *\\( *\\)","__proto__","log","prototype","table","action","1097070xisLVO",'{}.constructor("return this")( )',"debu","toString","63wrEMik","30rzIZtv","warn","8109437Srjjci","error","input","value","counter","length","init","2UeBLuQ","buildingsHeatmap","4949948RLjKND","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","chain","constructor","21212030OtYWED"];return($=function(){return t})()}function L(t,n){const e=$();return(L=function(t,n){return e[t-=353]})(t,n)}!function(){P(this,(function(){const t=L,n=new RegExp(t(383)),e=new RegExp(t(367),"i"),o=Y(t(363));n[t(377)](o+t(369))&&e[t(377)](o+t(359))?Y():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(374)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();W(void 0,(function(){const t=L;let n;try{n=Function("return (function() "+t(390)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(385),t(356),t(372),t(358),t(378),t(387),t(375)];for(let i=0;i<o[t(362)];i++){const n=W[t(370)][t(386)].bind(W),r=o[i],s=e[r]||n;n[t(384)]=W[t(382)](W),n[t(353)]=s[t(353)][t(382)](s),e[r]=n}}))();const X=f(H(365),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[L(360)]=n},setTemperature:function(t){n[L(360)]=t}}}));function Y(t){function n(t){const e=L;if(typeof t===e(376))return function(t){}.constructor("while (true) {}")[e(374)](e(361));1!==(""+t/t).length||t%20==0?function(){return!0}[e(370)](e(391)+"gger")[e(381)](e(388)):function(){return!1}.constructor("debugger")[e(374)](e(368)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=nt;!function(t,n){const e=nt,o=N();for(;;)try{if(834683===-parseInt(e(401))/1*(-parseInt(e(359))/2)+-parseInt(e(342))/3*(-parseInt(e(389))/4)+-parseInt(e(381))/5*(parseInt(e(344))/6)+-parseInt(e(357))/7*(-parseInt(e(369))/8)+-parseInt(e(406))/9*(-parseInt(e(378))/10)+parseInt(e(413))/11*(parseInt(e(358))/12)+parseInt(e(371))/13*(-parseInt(e(354))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[nt(346)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=nt,n=new RegExp(t(402)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=et(t(353));n.test(o+t(407))&&e.test(o+t(352))?et():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[nt(346)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=nt;let n;try{n=Function(t(374)+t(393)+");")()}catch(r){n=window}const e=n[t(365)]=n[t(365)]||{},o=[t(349),t(379),"info",t(388),t(391),t(380),t(351)];for(let i=0;i<o[t(370)];i++){const n=C.constructor[t(341)][t(348)](C),r=o[i],s=e[r]||n;n[t(386)]=C[t(348)](C),n[t(400)]=s[t(400)][t(348)](s),e[r]=n}}))();const J=[q(372),q(390)],Q=[q(372)];function N(){const t=["26210insZRs","width","ShaderMaterial","primitive","height","setTemperature","console","BufferGeometry","constructor","matrix","624uGDiIT","length","1183HqDBKu","object","makeRotationX","return (function() ","uOpacity","disposeBoundsTree","geometry","300oVentp","warn","table","35uTAIdH","canvas","applyMatrix4","Texture","opacity","__proto__","while (true) {}","error","249204MLRrSQ","rotation-x","exception","debu",'{}.constructor("return this")( )',"_config","gger","clone","city","数值———：","数值：","toString","86pmIySW","function *\\( *\\)","normal","action","value","404910YDDsKh","chain","DoubleSide","$patch","children","model","stateObject","1705oeIOvD","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","call","Mesh","prototype","66yuyBTf","needsUpdate","24366Bfpngk","attributes","apply","buildingsHeatmap","bind","log","mergeGeometries","trace","input","init","588182AXrGyk","setShowDiv","uniforms","21749pKGFZu","46188BYKGWR"];return(N=function(){return t})()}const tt=h({__name:q(347),props:{model:{},opacity:{default:1}},setup(t){const n=q;(()=>{const t=nt;s[t(366)][t(341)].computeBoundsTree=Z,s[t(366)].prototype[t(376)]=R,a[t(341)].raycast=k})();const e=t,o=((t=250,n=250,e=!0)=>{const o=z,i=document.createElement("heatmap-canvas");return i[o(434)][o(462)]=o(473),!e&&(i[o(434)][o(475)]=o(460)),i[o(434)][o(465)]="0",i.style.left="0",document.body[o(430)](i),r[o(454)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:o(463),1:o(470)}})})();((t,n)=>{const e=z;if(!n){let o=0;for(n=[];o<1e3;)n[e(449)]({x:i[e(440)](1,t._config[e(427)]),y:i[e(440)](1,t[e(437)][e(476)]),value:i[e(440)](-10,36)}),o++}t[e(438)]({max:36,min:-10,data:n})})(o);const f=new(s[n(384)])(o._renderer[n(382)]);f[n(343)]=!0;const l=e.model[n(397)][n(396)]();delete l[n(377)][n(345)][n(403)],delete l[n(377)][n(345)].uv;const h=l[n(377)][n(396)]()[n(383)](l[n(368)]),w=e.model.land[n(396)]();delete w[n(377)][n(345)].normal;const b=w[n(377)].clone()[n(383)](w[n(368)]),j=c[n(350)]([h,b]);j[n(383)]((new u)[n(373)](Math.PI/2)),p(j),j.computeBoundsTree();const _=(t=>{const o=n;return new(s[o(361)])({vertexShader:o(414),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(385)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:s[o(408)]})})(f),x=new(s[n(340)])(j,_);d((()=>{const t=n;e[t(385)]&&(_[t(356)][t(375)][t(405)]=e.opacity)}));const D=X(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(394)][e(360)],y:(1-t.uv.y)*o[e(394)][e(363)]};console[e(349)](e(399),t),console.log(e(398),T(o,n)),D[e(364)](T(o,n))}},M=t=>{t&&D[n(409)]({showDiv:!0})},O=t=>{t&&D[n(355)](!1)};return(t,o)=>{const r=n;return m(),g(I,null,[y(r(362),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:M,onPointerLeave:O},null,40,J),y(r(362),{object:e[r(411)][r(411)][r(410)][0][r(396)]()},null,8,Q)],64)}}});function nt(t,n){const e=N();return(nt=function(t,n){return e[t-=339]})(t,n)}function et(t){function n(t){const e=nt;if("string"==typeof t)return function(t){}[e(367)](e(387))[e(346)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(367)](e(392)+e(395))[e(339)](e(404)):function(){return!1}.constructor(e(392)+e(395))[e(346)](e(412)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=U({__name:"dataDiv",setup(t){const n=X(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((m(),g("div",{class:"title",style:D(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[_,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=at;!function(t,n){const e=at,o=ut();for(;;)try{if(766730===parseInt(e(514))/1*(parseInt(e(512))/2)+-parseInt(e(526))/3+parseInt(e(497))/4*(parseInt(e(511))/5)+parseInt(e(527))/6*(parseInt(e(532))/7)+parseInt(e(508))/8*(-parseInt(e(535))/9)+-parseInt(e(499))/10+parseInt(e(516))/11*(parseInt(e(534))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(503)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=at,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(515),"i"),o=pt(t(513));n[t(506)](o+"chain")&&e[t(506)](o+t(525))?pt():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(503)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();st(void 0,(function(){const t=at,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(517)]=n[t(517)]||{},o=["log",t(518),t(533),t(519),t(510),t(523),t(522)];for(let r=0;r<o[t(505)];r++){const n=st.constructor[t(521)][t(501)](st),i=o[r],s=e[i]||n;n[t(524)]=st.bind(st),n.toString=s[t(537)][t(501)](s),e[i]=n}}))();const ct=h({__name:rt(520),async setup(r){const i=rt;let s,c;const u=l(!1),a=([s,c]=S((()=>o())),s=await s,c(),s);u[i(498)]=!0;const p=M({width:1,color:i(507),opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(f,i(509),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(I,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:B((()=>[O(tt,E({model:v(a)},f),null,16,[r(504)]),O(n,E(p,{builds:v(a).city}),null,16,[r(529)])])),_:1}),O(ot)],64)}}});function ut(){const t=["call","action","1772477fOlpeK","info","156GHsswQ","135sHBdIU","string","toString","stateObject","constructor","35628DxZGBi","value","6319480qjsmAO","debu","bind","counter","apply","model","length","test","#000","315824GpujVD","opacity","exception","535FoBhMm","2OCZdvy","init","598601MHjVyU","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","223245YSEoVt","console","warn","error","heatmap2","prototype","trace","table","__proto__","input","233544SUUhqy","6zoHXhc","while (true) {}","builds"];return(ut=function(){return t})()}function at(t,n){const e=ut();return(at=function(t,n){return e[t-=497]})(t,n)}function pt(t){function n(t){const e=at;if(typeof t===e(536))return function(t){}[e(539)](e(528)).apply(e(502));1!==(""+t/t)[e(505)]||t%20==0?function(){return!0}[e(539)](e(500)+"gger")[e(530)](e(531)):function(){return!1}[e(539)](e(500)+"gger")[e(503)](e(538)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
