import{m as t,e as n,D as e,U as o,C as r}from"./@tresjs.xlnLF3O61731462043013.js";import{_ as s}from"./index.W9h7JMLr1731462043013.js";import{_ as i,X as c,k as u,B as a,cF as l}from"./three.wKRaqyB-1731462043013.js";import{P as p}from"./tweakpane.yHWGBmom1731462043013.js";import{I as f,C as h,N as m,c as g,d,a as y}from"./three-mesh-bvh.KZ7d0h7V1731462043013.js";import{d as w,a6 as b,b as j,a3 as I,o as _,D as v,J as x,u as k,F as A,r as T,e as z,j as B,g as S,m as M,f as R,al as C}from"./@vue.-THQH3GC1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";import"./index.mJLhINfv1731462043013.js";import"./@fesjs.uG2EzMwn1731462043013.js";import"./vue-router.9VsVDPG11731462043013.js";import"./lodash-es.kYt-_xTG1731462043013.js";import"./@qlin.yHhFDldE1731462043013.js";import"./pinia.TsQ0LDHQ1731462043013.js";import"./vue-demi.C4xddsk91731462043013.js";import"./@floating-ui.BPbuo5Gx1731462043013.js";import"./@juggle.7yjBMqoW1731462043013.js";import"./chalk.sAH7iSuz1731462043013.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1731462043013.js";import"./@iconify.3mYF4lU71731462043013.js";import"./dompurify.rQUea5mq1731462043013.js";import"./utils.ecasVHHe1731462043013.js";import"./default.vue_vue_type_script_setup_true_lang.0UE9WOZz1731462043013.js";import"./three-mesh-ui.module.s8tgvXU81731462043013.js";!function(t,n){const e=E,o=W();for(;;)try{if(236854===parseInt(e(443))/1*(-parseInt(e(454))/2)+-parseInt(e(466))/3+-parseInt(e(445))/4*(parseInt(e(463))/5)+-parseInt(e(460))/6*(parseInt(e(432))/7)+parseInt(e(450))/8*(parseInt(e(461))/9)+parseInt(e(435))/10+-parseInt(e(455))/11*(-parseInt(e(469))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(470)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=E,n=new RegExp(t(449)),e=new RegExp(t(476),"i"),o=Z(t(431));n[t(477)](o+t(437))&&e[t(477)](o+t(471))?Z():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(470)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=W();return(E=function(t,n){return e[t-=426]})(t,n)}O(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(468)+t(448)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(439)]||{},o=[t(462),"warn",t(447),t(429),t(467),t(458),"trace"];for(let r=0;r<o[t(438)];r++){const n=O[t(473)][t(459)][t(430)](O),s=o[r],i=e[s]||n;n[t(434)]=O.bind(O),n[t(472)]=i.toString[t(430)](i),e[s]=n}}))();function W(){const t=["action","while (true) {}","pointermove","error","bind","init","786338AOdsDx","addEventListener","__proto__","1135610OTkRXu","clientY","chain","length","console","touch","intersectObject","innerWidth","3kguYzS","pointerup","1492VepHVU","Raycaster","info",'{}.constructor("return this")( )',"function *\\( *\\)","2592EhUBKv","call","counter","button","5326HAdBJM","17611QKJHRW","string","setFromCamera","table","prototype","6XzGBoW","7812AnpjRU","log","5495SjucsB","value","innerHeight","203892CngkSy","exception","return (function() ","3300WlJnGv","apply","input","toString","constructor","clientX","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","pointerdown"];return(W=function(){return t})()}function Z(t){function n(t){const e=E;if(typeof t===e(456))return function(t){}[e(473)](e(427))[e(470)](e(452));1!==(""+t/t).length||t%20==0?function(){return!0}[e(473)]("debu"+e(475))[e(451)](e(426)):function(){return!1}[e(473)]("debu"+e(475))[e(470)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=V;!function(t,n){const e=V,o=P();for(;;)try{if(353962===-parseInt(e(395))/1+-parseInt(e(424))/2*(parseInt(e(438))/3)+parseInt(e(442))/4+-parseInt(e(402))/5+-parseInt(e(406))/6*(-parseInt(e(461))/7)+parseInt(e(431))/8+parseInt(e(440))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(449)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=V,n=new RegExp(t(398)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(420));n.test(o+"chain")&&e.test(o+t(436))?$():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(449)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=V;let n;try{n=Function(t(427)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(446)]||{},o=[t(451),t(410),t(387),t(385),t(389),t(393),t(417)];for(let s=0;s<o[t(439)];s++){const n=H[t(428)][t(386)][t(457)](H),r=o[s],i=e[r]||n;n[t(397)]=H[t(457)](H),n[t(409)]=i[t(409)][t(457)](i),e[r]=n}}))();const J=[F(423),"material"],Y=["geometry"];function P(){const t=["BufferGeometry","setScalar","fill","intersectsBox","trace","getY","setAttribute","init","copy","index","geometry","661376rQxVnE","setX","computeBoundsTree","return (function() ","constructor","attributes","firstHitOnly","4358488WbxPtX","enabled","visible","setZ","点击按钮","input","#023249","3frJMJx","length","5003343mNnQVB","instance","2242540tDrhkW","Matrix4","生成模型","getX","console","radius","Vector3","apply","getZ","log","Mesh","point","push","normal","MeshStandardMaterial","bind","containsPoint","model","TresMeshStandardMaterial","105epcohS","action","error","prototype","info","value","exception","count","string","TresMesh","table","while (true) {}","588237uHHfcy","BufferAttribute","__proto__","function *\\( *\\)","matrixWorld","setFromCamera","position","2215880QVZtNs","gger","setY","addButton","21876lIBnNu","controls","debu","toString","warn","disposeBoundsTree","Sphere"];return(P=function(){return t})()}const D=w({__name:F(459),props:{controls:{}},async setup(o){const r=F;let s,w;const T=o;(()=>{const t=V;a[t(386)].computeBoundsTree=g,i[t(413)].prototype[t(411)]=d,i[t(452)][t(386)].raycast=y})();const z=([s,w]=b((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),B=new(i[r(456)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),S=new Uint8Array(3*z.attributes[r(401)].count);S[r(415)](255);const M=new(i[r(396)])(S,3,!0);M.setUsage(c),z[r(419)]("color",M);const R=j(null),C=j(null),X=j(!1),O=j(-1),W=j(.2),Z=new u,{camera:U,raycaster:H}=t(),P=15/255,D=78/255,$=85/255;let G=null;I((()=>{const t=r;R.value&&(console[t(451)]("targetMesh.value init",R[t(388)]),R.value.geometry[t(426)](),G=z.boundsTree,((t,n,e,o,r,s)=>{const c=E;window[c(433)](c(428),(e=>{const o=c;t.x=e[o(474)]/window[o(442)]*2-1,t.y=-e[o(436)]/window[o(465)]*2+1,n[o(464)]=!0})),window[c(433)](c(478),(u=>{const a=c;t.x=u[a(474)]/window[a(442)]*2-1,t.y=-u[a(436)]/window[a(465)]*2+1,o[a(464)]=u[a(453)];const l=new(i[a(446)]);l[a(457)](t,e[a(464)]),l.firstHitOnly=!0;const p=l[a(441)](r[a(464)],!0);n[a(464)]=!0,s.enabled=0===p.length}),!0),window[c(433)](c(444),(t=>{const e=c;o.value=-1,t.pointerType===e(440)&&(n[e(464)]=!1)}),!0)})(Z,X,U,O,R,T.controls[t(441)]))}));const{onLoop:L}=n();L((()=>{const t=r,n=z[t(422)];if(C[t(388)])if(T[t(407)].instance.active||!X.value)C[t(388)][t(433)]=!1;else{C[t(388)].scale[t(414)](W[t(388)]),H[t(388)][t(400)](Z,U[t(388)]),H[t(388)][t(430)]=!0;const e=H[t(388)].intersectObject(R[t(388)],!0);if(e.length){C[t(388)][t(401)].copy(e[0][t(453)]),T[t(407)][t(441)][t(432)]=!1,C[t(388)][t(433)]=!0;const o=new(i[t(443)]);o[t(421)](R.value[t(399)]).invert();const r=new(i[t(412)]);r.center[t(421)](C[t(388)].position).applyMatrix4(o),r[t(447)]=100*W.value;const s=[],c=new(i[t(448)]);if(null==G||G.shapecast({intersectsBounds:n=>{const e=t,o=r[e(416)](n),{min:s,max:i}=n;if(o){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let o=0;o<=1;o++)if(c.set(0===t?s.x:i.x,0===n?s.y:i.y,0===o?s.z:i.z),!r[e(458)](c))return f;return h}return o?f:m},intersectsTriangle:(t,n,e)=>{if(e||t.intersectsSphere(r)){const t=3*n;s.push(t,t+1,t+2)}return!1}}),0===O[t(388)]||2===O[t(388)]){let e=1,o=1,r=1;0===O[t(388)]&&(e=P,o=D,r=$);for(let i=0,c=s[t(439)];i<c;i++){const c=n[t(445)](s[i]);M[t(425)](c,e),M[t(404)](c,o),M[t(434)](c,r)}M.needsUpdate=!0}}else C.value[t(433)]=!1,T[t(407)][t(441)].enabled=!0}}));const N=(new p)[r(405)]({title:r(435),label:r(444)}),q=new(i[r(413)]);return N.on("click",(()=>{const t=r,n=[],e=[];for(let r=0;r<M[t(390)];r++)M.getX(r)===P&&M[t(418)](r)===D&&M[t(450)](r)===$&&(n[t(454)](z[t(429)][t(401)].getX(r),z[t(429)].position.getY(r),z[t(429)][t(401)][t(450)](r)),e.push(z[t(429)].normal.getX(r),z[t(429)][t(455)][t(418)](r),z.attributes[t(455)][t(450)](r)));const o=new Float32Array(n);q[t(419)]("position",new(i[t(396)])(o,3)),q[t(419)](t(455),new(i[t(396)])(o,3))})),(t,n)=>{const e=r;return _(),v(A,null,[x(e(392),{ref_key:"targetMesh",ref:R,geometry:k(z),scale:.005,material:k(B)},null,8,J),x("TresMesh",{ref_key:"brushMesh",ref:C,visible:!1},n[0]||(n[0]=[x("TresSphereGeometry",{args:[1,40,40]},null,-1),x(e(460),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(392),{geometry:k(q),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(460),{color:e(437),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,Y)],64)}}});function V(t,n){const e=P();return(V=function(t,n){return e[t-=384]})(t,n)}function $(t){function n(t){const e=V;if(typeof t===e(391))return function(t){}[e(428)](e(394))[e(449)]("counter");1!==(""+t/t)[e(439)]||t%20==0?function(){return!0}.constructor("debu"+e(403)).call(e(384)):function(){return!1}[e(428)](e(408)+e(403))[e(449)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=Q;!function(t,n){const e=Q,o=N();for(;;)try{if(928402===parseInt(e(417))/1+-parseInt(e(398))/2+parseInt(e(439))/3*(-parseInt(e(402))/4)+-parseInt(e(428))/5*(-parseInt(e(425))/6)+-parseInt(e(434))/7+parseInt(e(420))/8*(-parseInt(e(423))/9)+parseInt(e(403))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["value","neg-z.jpg","apply","debu","length","call",'{}.constructor("return this")( )',"bind","pos-z.jpg","warn","1184637NAGcXI","counter","TresCanvas","1448IffuJY","log","info","50310SDWbTz","neg-y.jpg","3393276UouzYu","stateObject","trace","5zTlAfP","init","prototype","pos-y.jpg","function *\\( *\\)","chain","1584436EwwcPy","test","action","string","return (function() ","30663DLkgPL","controls","constructor","controlsRef","while (true) {}","toString","TresPerspectiveCamera","2206816WnUkWq","gger","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","308SecRzY","23067820bkXOFZ","console","collectTriangles","table"];return(N=function(){return t})()}!function(){L(this,(function(){const t=Q,n=new RegExp(t(432)),e=new RegExp(t(401),"i"),o=tt(t(429));n[t(435)](o+t(433))&&e[t(435)](o+"input")?tt():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(409)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=N();return(Q=function(t,n){return e[t-=395]})(t,n)}q(void 0,(function(){const t=Q;let n;try{n=Function(t(438)+t(413)+");")()}catch(r){n=window}const e=n.console=n[t(404)]||{},o=[t(421),t(416),t(422),"error",t(400),t(406),t(427)];for(let s=0;s<o.length;s++){const n=q[t(441)][t(430)][t(414)](q),r=o[s],i=e[r]||n;n.__proto__=q[t(414)](q),n[t(396)]=i[t(396)].bind(i),e[r]=n}}))();const K=w({__name:G(405),setup(t){const n=T({clearColor:"#999999",antialias:!0}),e=T({autoRotate:!1}),i=j(null);return(t,c)=>{const u=Q,a=z(u(419));return _(),v(A,null,[B(k(s)),B(a,M(n,{"window-size":""}),{default:S((()=>[c[0]||(c[0]=x(u(397),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),B(k(o),M({ref_key:u(442),ref:i},e),null,16),c[1]||(c[1]=x("TresAmbientLight",{intensity:1},null,-1)),(_(),R(C,null,{default:S((()=>[B(D,{controls:i[u(407)]},null,8,[u(440)])])),_:1})),(_(),R(C,null,{default:S((()=>[B(k(r),{background:!1,files:["pos-x.jpg","neg-x.jpg",u(431),u(424),u(415),u(408)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=Q;if(typeof t===e(437))return function(t){}[e(441)](e(395)).apply(e(418));1!==(""+t/t)[e(411)]||t%20==0?function(){return!0}[e(441)]("debu"+e(399))[e(412)](e(436)):function(){return!1}[e(441)](e(410)+e(399))[e(409)](e(426)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
