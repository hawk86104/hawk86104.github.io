import{_ as n,bL as t,at as e,T as o,ab as r,aj as i,bZ as s,bX as a,bY as c,c6 as l}from"./three.YREzp-_G1729505164040.js";import{U as u,p as f,Y as p}from"./@tresjs.IsKybBdF1729505164040.js";import{d as v,o as g,E as m,L as d,u as h,F as b,w as y,j as x,am as w,an as _,y as T,e as I,g as U,aj as S,ak as B}from"./@vue.JNsx1iN61729505164040.js";import{_ as D}from"./@fesjs.ysb1R5mQ1729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";import"./vue-router.xkfjO_BL1729505164040.js";import"./lodash-es.kYt-_xTG1729505164040.js";import"./@qlin.yHhFDldE1729505164040.js";import"./pinia.LeDA9WVb1729505164040.js";import"./@floating-ui.BPbuo5Gx1729505164040.js";import"./@juggle.7yjBMqoW1729505164040.js";var z="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const N=E;!function(n,t){const e=E,o=C();for(;;)try{if(389009===parseInt(e(275))/1+-parseInt(e(314))/2*(-parseInt(e(256))/3)+parseInt(e(322))/4*(parseInt(e(254))/5)+parseInt(e(333))/6*(parseInt(e(296))/7)+parseInt(e(287))/8*(parseInt(e(316))/9)+-parseInt(e(297))/10*(-parseInt(e(293))/11)+-parseInt(e(323))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){j(this,(function(){const n=E,t=new RegExp(n(251)),e=new RegExp(n(299),"i"),o=R(n(259));t[n(310)](o+"chain")&&e[n(310)](o+n(286))?R():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function C(){const n=["while (true) {}","7nLqeAp","643730fHLTYJ","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMesh","globalUniforms","SphereGeometry","randFloatSpread","TresPlaneGeometry","Vector4","length","MathUtils","\n    ","apply","test","setY","rotateX","error","36388XzqVsN","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","31257nxfjHn","instData","instanceCount","material","string","log","412tUBglo","10177812KAFtSP","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","toString","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","cos","fragmentShader","console","#include <begin_vertex>","copy","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","148578iYMpgy","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","MeshBasicMaterial","function *\\( *\\)","vertexShader","setAttribute","2485kkbLTQ","replace","12ZOEkCZ","\n      uniform vec4 luces[","sin","init","MeshLambertMaterial","needsUpdate","uniforms","noiseTex","globalBloom","randFloat","gger","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","noise","luces","__proto__","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","info","constructor","prototype","163877rOJpse","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","debu","geometry","push","warn","action",'{}.constructor("return this")( )',"stateObject","attributes","bind","input","1240yLGNTz","trace","#include <dithering_fragment>","counter","#include <fog_fragment>","call","66tDXWPn","exception"];return(C=function(){return n})()}function E(n,t){const e=C();return(E=function(n,t){return e[n-=250]})(n,t)}A(void 0,(function(){const n=E;let t;try{t=Function("return (function() "+n(282)+");")()}catch(r){t=window}const e=t[n(329)]=t.console||{},o=[n(321),n(280),n(272),n(313),n(294),n(298),n(288)];for(let i=0;i<o[n(306)];i++){const t=A[n(273)][n(274)].bind(A),r=o[i],s=e[r]||t;t[n(270)]=A[n(285)](A),t[n(325)]=s[n(325)][n(285)](s),e[r]=t}}))();const M=[N(278),N(319)],P=[N(319)],F=[N(312)],k=100,G=v({__name:"lucesPlane",props:{globalUniforms:{}},setup(r){const i=N,s=r,a=[],c=[],l=new(n[i(302)])(1,36,18),f=(new t)[i(331)](l);f[i(318)]=k;const p=[];for(let t=0;t<k;t++){let t=n[i(307)][i(303)](49),o=n[i(307)][i(303)](49),r=n[i(307)][i(265)](.0625,.125),s=n[i(307)][i(265)](1,3);p.push(t,o,r),c[i(279)](new e(t,o,s,n[i(307)][i(265)](1,2))),a[i(279)](new(n[i(305)])(t,o,r,s))}f[i(253)](i(317),new o(new Float32Array(p),3));const v=new(n[i(250)])({color:16720418,onBeforeCompile:n=>{const t=i;n.uniforms[t(263)]=s[t(301)][t(268)],n[t(252)]=(t(315)+n[t(252)]+"\n    ")[t(255)](t(330),t(276))}}),y={luces:{value:a}},x=new(n[i(260)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(262)][t(269)]=y[t(269)],n[t(262)][t(264)]=s[t(301)][t(264)],n[t(262)][t(263)]=s[t(301)].noise,n[t(252)]=(t(326)+n.vertexShader+t(308))[t(255)](t(330),t(332)),n[t(328)]=(t(257)+k+t(324)+n[t(328)]+t(308)).replace(t(291),t(267)+k+t(334)).replace(t(289),t(271))}}),{onLoop:w}=u();return w((({elapsed:n})=>{const t=i;for(let e=0;e<k;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(258)](n*o.w*(e%3+1))*Math[t(327)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,f[t(284)][t(317)][t(311)](e,r)}f[t(284)][t(317)][t(261)]=!0})),(n,t)=>{const e=i;return g(),m(b,null,[d(e(300),{geometry:h(f),material:h(v)},null,8,M),d(e(300),{material:h(x)},[d(e(304),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,F)],8,P)],64)}}});function R(n){function t(n){const e=E;if(typeof n===e(320))return function(n){}[e(273)](e(295)).apply(e(290));1!==(""+n/n)[e(306)]||n%20==0?function(){return!0}[e(273)](e(277)+e(266))[e(292)](e(281)):function(){return!1}.constructor(e(277)+e(266))[e(309)](e(283)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const L=Y;!function(n,t){const e=Y,o=V();for(;;)try{if(803026===parseInt(e(318))/1*(parseInt(e(296))/2)+-parseInt(e(307))/3+-parseInt(e(306))/4+parseInt(e(298))/5+parseInt(e(326))/6+-parseInt(e(293))/7*(parseInt(e(291))/8)+-parseInt(e(302))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Y(325)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function V(){const n=["function *\\( *\\)","TresMesh","exception","__proto__","return (function() ","input","call","error","string","141AqgVGM","table","portal","globalUniforms","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","console","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","apply","8506440yCWKBw","\n    ","defines","action","gger","log","constructor","trace","warn","uniforms","bind","test","stateObject","36352Xlbwqm","fragmentShader","1456jXnPGU","chain","time","22254tccnTT","toString","5718185hpyFHz","length","vec4 diffuseColor = vec4( diffuse, opacity );","#include <dithering_fragment>","8134812GVArYR","MeshBasicMaterial","TresPlaneGeometry","debu","4979272VNOnan","700260GdzfGU","globalBloom"];return(V=function(){return n})()}!function(){Z(this,(function(){const n=Y,t=new RegExp(n(309)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$("init");t[n(289)](o+n(294))&&e[n(289)](o+n(314))?$():o("0")}))()}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Y(325)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();O(void 0,(function(){const n=Y;let t;try{t=Function(n(313)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t.console=t[n(323)]||{},o=[n(331),n(286),"info",n(316),n(311),n(319),n(333)];for(let i=0;i<o[n(299)];i++){const t=O[n(332)].prototype[n(288)](O),r=o[i],s=e[r]||t;t[n(312)]=O[n(288)](O),t[n(297)]=s.toString[n(288)](s),e[r]=t}}))();const H=["material"],W=[d(L(304),{args:[5,5]},null,-1)];function Y(n,t){const e=V();return(Y=function(n,t){return e[n-=286]})(n,t)}const X=v({__name:L(320),props:{globalUniforms:{}},setup(t){const e=L,o=t,r=new(n[e(303)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(287)].time=o[t(321)][t(295)],n[t(287)][t(308)]=o[t(321)].globalBloom,n[t(292)]=(t(322)+z+t(324)+n[t(292)]+t(327)).replace(t(300),"\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ").replace(t(301),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ")}});return r[e(328)]={USE_UV:""},(n,t)=>{const o=e;return g(),m(o(310),{material:h(r),position:[0,3.75,-12]},W,8,H)}}});function $(n){function t(n){const e=Y;if(typeof n===e(317))return function(n){}[e(332)]("while (true) {}")[e(325)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(332)](e(305)+e(330))[e(315)](e(329)):function(){return!1}.constructor(e(305)+"gger")[e(325)](e(290)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const q=nn;!function(n,t){const e=nn,o=Q();for(;;)try{if(435952===parseInt(e(483))/1*(-parseInt(e(516))/2)+-parseInt(e(471))/3*(parseInt(e(512))/4)+parseInt(e(522))/5+-parseInt(e(482))/6*(-parseInt(e(511))/7)+-parseInt(e(523))/8+parseInt(e(497))/9+-parseInt(e(472))/10*(-parseInt(e(503))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[nn(508)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Q(){const n=["116XpwBQl","stateObject",'{}.constructor("return this")( )',"position","1084nwykyC","warn","vec4 diffuseColor = vec4( diffuse, opacity );","material","TresLineSegments","toString","21850eHXPSZ","4981728xVBStq","gger","setAttribute","return (function() ","globalUniforms","vertexShader","__proto__","noise","push","globalBloom","55659Ygovzq","26030QsIbSY","geometry","input","BufferGeometry","bind","replace","chain","debu","\n    ","\n      ","30OdWUlg","253rXSVWH","LineBasicMaterial","fragmentShader","counter","function *\\( *\\)","test","info","time","exception","Float32BufferAttribute","randFloatSpread","uniforms","init","randFloat","4898862cSVbnm","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","length","while (true) {}","constructor","string","4906aNbiQB","MathUtils","console","trace","#include <begin_vertex>","apply","action","log","33887ikBLDF"];return(Q=function(){return n})()}!function(){J(this,(function(){const n=nn,t=new RegExp(n(487)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=on(n(495));t[n(488)](o+n(478))&&e.test(o+n(474))?on():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function nn(n,t){const e=Q();return(nn=function(n,t){return e[n-=462]})(n,t)}K(void 0,(function(){const n=nn;let t;try{t=Function(n(464)+n(514)+");")()}catch(r){t=window}const e=t.console=t[n(505)]||{},o=[n(510),n(517),n(489),"error",n(491),"table",n(506)];for(let i=0;i<o.length;i++){const t=K.constructor.prototype[n(476)](K),r=o[i],s=e[r]||t;t[n(467)]=K[n(476)](K),t[n(521)]=s[n(521)].bind(s),e[r]=t}}))();const tn=[q(519),q(473)],en=v({__name:"drops",props:{globalUniforms:{}},setup(t){const e=q,o=t,i=[],s=[];for(let r=0;r<2e4;r++){const t=n[e(504)][e(493)](35),o=n[e(504)][e(496)](-5,10),r=n[e(504)][e(493)](35),a=n[e(504)][e(496)](.25,.5);i[e(469)](t,o,r,t,o,r),s.push(0,a,1,a)}const a=new(n[e(475)]);a[e(463)](e(515),new r(i,3)),a.setAttribute("gEnds",new(n[e(492)])(s,2));const c=new(n[e(484)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(494)][t(490)]=o[t(465)][t(490)],n.uniforms.noiseTex=o[t(465)][t(468)],n[t(494)][t(470)]=o[t(465)][t(470)],n[t(466)]=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      "+n[t(466)]+t(480))[t(477)](t(507),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(485)]=("\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      "+z+t(481)+n.fragmentShader+t(480))[t(477)](t(518),t(498))}});return(n,t)=>{const o=e;return g(),m(o(520),{material:h(c),geometry:h(a)},null,8,tn)}}});function on(n){function t(n){const e=nn;if(typeof n===e(502))return function(n){}[e(501)](e(500))[e(508)](e(486));1!==(""+n/n)[e(499)]||n%20==0?function(){return!0}[e(501)](e(479)+"gger").call(e(509)):function(){return!1}[e(501)](e(479)+e(462))[e(508)](e(513)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=ln,o=an();for(;;)try{if(307484===-parseInt(e(466))/1+parseInt(e(449))/2+-parseInt(e(461))/3+-parseInt(e(446))/4*(parseInt(e(456))/5)+-parseInt(e(474))/6+parseInt(e(501))/7+parseInt(e(465))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[ln(488)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){rn(this,(function(){const n=ln,t=new RegExp(n(469)),e=new RegExp(n(489),"i"),o=un(n(502));t[n(486)](o+n(459))&&e[n(486)](o+"input")?un():o("0")}))()}();const sn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[ln(488)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function an(){const n=["log","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","1204130eikzyz","time","Mesh","fog","ShaderMaterial","stateObject","\n      uniform float time;\n      ","45PJNJYZ","debu","console","chain","warn","1723026vdSDIM","__proto__","length","Vector2","1938680TmrmBm","136901HtjnJS","renderToScreen","needsSwap","function *\\( *\\)","counter","width","noise","MeshBasicMaterial","148272cyOTnw","Color","fragmentShader","baseTexture","background","bind","trace","constructor","texture","uniforms","defines","toString","test","Fog","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","globalBloom","prototype","near","PlaneGeometry","WebGLRenderTarget","color","exception","value","height","call","set","4187701FrWTAJ","init","setRenderTarget","vec4 diffuseColor = vec4( diffuse, opacity );","table","info","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","Scene","addPass","177424tvewOZ"];return(an=function(){return n})()}sn(void 0,(function(){const n=ln;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(458)]=t.console||{},o=[n(447),n(460),n(442),"error",n(496),n(441),n(480)];for(let i=0;i<o[n(463)];i++){const t=sn[n(481)][n(491)][n(479)](sn),r=o[i],s=e[r]||t;t[n(462)]=sn[n(479)](sn),t[n(485)]=s[n(485)][n(479)](s),e[r]=t}}))();const cn=v({__name:"fboRender",setup(t){const e=ln,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(494)])(512,512),p=new(n[e(444)]),v=new i,d=new(n[e(493)])(2,2),h=new(n[e(473)])({onBeforeCompile:n=>{const t=e;n[t(483)][t(450)]=o[t(450)],n[t(476)]=(t(455)+z+"\n      "+n[t(476)]+"\n    ").replace(t(440),t(443))}});h[e(484)]={USE_UV:""};const w=new(n[e(451)])(d,h);p.add(w),o[e(472)][e(497)]=r[e(482)];const{camera:_,renderer:T,scene:I,sizes:U,controls:S}=f();y((()=>S[e(497)]),(t=>{const o=e;null==t||t.target[o(500)](0,2,0),!I.value[o(478)]&&(I.value[o(478)]=new(n[o(475)])(6706534))}));const B=new s(T[e(497)]),D=new s(T[e(497)]),N=new a(I[e(497)],_[e(497)]),j=new c(new(n[e(464)])(U[e(471)][e(497)],U[e(498)][e(497)]),1.2,.5,0);B[e(467)]=!1,B.addPass(N),B[e(445)](j);const A=new l(new(n[e(453)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:B.renderTarget2[e(482)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:e(448),defines:{}}),e(477));A[e(468)]=!0,D[e(445)](N),D[e(445)](A),I[e(497)][e(452)]=new(n[e(487)])(6706534,1,25);const{onLoop:C}=u();return C((({elapsed:n})=>{var t,i;const s=e;o.time[s(497)]=n,T[s(497)]&&(T[s(497)].setRenderTarget(r),T[s(497)].render(p,v),T[s(497)][s(439)](null),o[s(490)].value=1.2,I[s(497)][s(452)][s(495)][s(500)](0),I[s(497)].fog[s(492)]=15,null==(t=I[s(497)][s(478)])||t[s(500)](0),B.render(),o.globalBloom[s(497)]=0,I.value[s(452)][s(495)].set(6706534),I.value.fog[s(492)]=10,null==(i=I.value[s(478)])||i[s(500)](6706534),D.render())})),(n,t)=>(g(),m(b,null,[x(G,{globalUniforms:o}),x(X,{globalUniforms:o}),x(en,{globalUniforms:o})],64))}});function ln(n,t){const e=an();return(ln=function(n,t){return e[n-=439]})(n,t)}function un(n){function t(n){const e=ln;if("string"==typeof n)return function(n){}[e(481)]("while (true) {}")[e(488)](e(470));1!==(""+n/n)[e(463)]||n%20==0?function(){return!0}.constructor(e(457)+"gger")[e(499)]("action"):function(){return!1}.constructor(e(457)+"gger")[e(488)](e(454)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const fn={},pn={class:"text"},vn=[(n=>(w("data-v-3881bd43"),n=n(),_(),n))((()=>d("span",{class:"retro noselect"},[d("span",{style:{color:"#eae"}},"光"),T("噪声")],-1)))];const gn=D(fn,[["render",function(n,t){return g(),m("div",pn,vn)}],["__scopeId","data-v-3881bd43"]]);function mn(){const n=["call","6xBbkUF","debu","stateObject","gger","console","4GsIHiW","__proto__","DEG2RAD","7250848RCWVNH","return (function() ","init","toString","constructor","19019VCAxWJ","TresCanvas","9651124atMwAa","1691852iTEhdL","manual","counter","length","apply","action","lightNoise","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","input","5965340qulGOk","4017501DOQBLC","MathUtils","prototype","test","table","info","log","58636701mEIYYu","TresAmbientLight","bind"];return(mn=function(){return n})()}const dn=_n;!function(n,t){const e=_n,o=mn();for(;;)try{if(832921===-parseInt(e(395))/1+-parseInt(e(398))/2+-parseInt(e(409))/3*(parseInt(e(387))/4)+-parseInt(e(408))/5+-parseInt(e(382))/6*(parseInt(e(397))/7)+-parseInt(e(390))/8+parseInt(e(378))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const hn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[_n(402)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){hn(this,(function(){const n=_n,t=new RegExp(n(406)),e=new RegExp(n(405),"i"),o=In(n(392));t[n(412)](o+"chain")&&e[n(412)](o+n(407))?In():o("0")}))()}();const bn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[_n(402)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();bn(void 0,(function(){const n=_n,t=function(){const n=_n;let t;try{t=Function(n(391)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(386)]=t[n(386)]||{},o=[n(377),"warn",n(414),"error","exception",n(413),"trace"];for(let r=0;r<o[n(401)];r++){const t=bn.constructor[n(411)][n(380)](bn),i=o[r],s=e[i]||t;t[n(388)]=bn[n(380)](bn),t.toString=s[n(393)][n(380)](s),e[i]=t}}))();const yn=d("TresPerspectiveCamera",{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1),xn=d(dn(379),{intensity:.5},null,-1),wn=d("TresDirectionalLight",{position:[0,3,-12],intensity:1},null,-1);function _n(n,t){const e=mn();return(_n=function(n,t){return e[n-=377]})(n,t)}const Tn=v({__name:dn(404),setup(t){const e=dn,o={windowSize:!0,antialias:!0,renderMode:e(399)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(410)][e(389)],maxPolarAngle:90*n[e(410)].DEG2RAD,makeDefault:!0};return(n,t)=>{const i=I(e(396));return g(),m(b,null,[x(gn),x(i,S(B(o)),{default:U((()=>[yn,x(h(p),S(B(r)),null,16),xn,wn,x(cn)])),_:1},16)],64)}}});function In(n){function t(n){const e=_n;if("string"==typeof n)return function(n){}.constructor("while (true) {}")[e(402)](e(400));1!==(""+n/n).length||n%20==0?function(){return!0}[e(394)]("debu"+e(385))[e(381)](e(403)):function(){return!1}[e(394)](e(383)+e(385)).apply(e(384)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Tn as default};
