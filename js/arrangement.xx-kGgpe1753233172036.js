import"./index.ehJwyQ8v1753233172036.js";import{e as t,k as e,a as n}from"./@tresjs.C_lUIoBy1753233172036.js";import{_ as r}from"./index.CVbqg47l1753233172036.js";import{_ as a}from"./component.vue_vue_type_script_setup_true_lang.RteFC_hK1753233172036.js";import{d as o,b as i,s,G as l,o as d,I as u,L as c,e as m,f as p,j as f,u as g,F as h,W as y,a5 as W,aa as x,r as _,a7 as b,a8 as v,h as k}from"./@vue.DwSifnVs1753233172036.js";import{P as j}from"./tweakpane.C0HtAJSg1753233172036.js";import{g as B,V as S,S as w,as as O,bb as P,aa as C,_ as M,Y as T}from"./three.CcAUWIwc1753233172036.js";import{_ as I}from"./index.vue_vue_type_script_setup_true_lang.CaEWEyOI1753233172036.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang.BVFpUA8p1753233172036.js";import{_ as R}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.mJXTGl7t1753233172036.js";import{_ as q}from"./randomLoading.vue_vue_type_script_setup_true_lang.DQJaVaP-1753233172036.js";import"./utils.BqiPcXqU1753233172036.js";import"./@fesjs.CJmphC0G1753233172036.js";import"./vue-router.0le_2Tu71753233172036.js";import"./lodash-es.C7pWAXPe1753233172036.js";import"./@qlin.q6OWdsQV1753233172036.js";import"./pinia.ia5100Wx1753233172036.js";import"./@babel.BPq7uOAK1753233172036.js";import"./@floating-ui.BFjFSAYt1753233172036.js";import"./@juggle.CcBCnTIR1753233172036.js";import"./index.DBmzea2c1753233172036.js";import"./three-mesh-ui.module.BS8L3_9E1753233172036.js";import"./postprocessing.BWGCgD611753233172036.js";import"./@vueuse.35KRNqxK1753233172036.js";import"./object-hash.DT0jHclY1753233172036.js";import"./@amap.CGUF9xH41753233172036.js";import"./jszip.7lf2gDRg1753233172036.js";import"./three-stdlib.BjAotcYA1753233172036.js";import"./@pmndrs.DoQ7moBB1753233172036.js";import"./index.B4q1p0Iq1753233172036.js";import"./starLoading.PFMVYWAP1753233172036.js";import"./cssLoaders.4Dzr9WTU1753233172036.js";import"./bubbleLoading.7uib_EEo1753233172036.js";import"./yangyangLoading.BTuUUcXb1753233172036.js";const L=o({__name:"index",props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(t){const e=t,n=i(null),r=i(null),a=i(null);return s((()=>{if(!r.value)return;if(!a.value)return;r.value.matrixWorld.identity();const t=(new B).setFromObject(a.value,e.precise),n=new S,o=new w,i=t.max.x-t.min.x,s=t.max.y-t.min.y,l=t.max.z-t.min.z;t.getCenter(n),t.getBoundingSphere(o);const d=e.top?s/2:e.bottom?-s/2:0,u=e.left?-i/2:e.right?i/2:0,c=e.front?l/2:e.back?-l/2:0;r.value.position.set(e.disable||e.disableX?0:-n.x+u,e.disable||e.disableY?0:-n.y+d,e.disable||e.disableZ?0:-n.z+c)})),(t,e)=>(d(),l("TresGroup",{ref_key:"gref",ref:n},[u("TresGroup",{ref_key:"outer",ref:r},[u("TresGroup",{ref_key:"inner",ref:a},[c(t.$slots,"default")],512)],512)],512))}}),Q=["rotation"],G=["rotation-x"],A=o({__name:"env",setup(e){const n=i(null),{onLoop:o}=t();o((({delta:t})=>{n.value&&(n.value.rotation.z+=t)}));const s=[2,-2,2,-4,2,-5,2,-9];return(t,e)=>(d(),m(W,null,{default:p((()=>[f(g(a),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:p((()=>[f(g(r),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),f(g(r),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),u("TresGroup",{rotation:[Math.PI/2,1,0]},[(d(),l(h,null,y(s,((t,e)=>f(g(r),{key:e,intensity:1,rotation:[Math.PI/4,0,0],position:[t,4,4*e],scale:[4,1,1]},null,8,["rotation","position"]))),64))],8,Q),f(g(r),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),f(g(r),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),f(g(r),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),u("TresGroup",{ref_key:"refgroup",ref:n,"rotation-x":Math.PI/2},[f(g(r),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,G)])),_:1},8,["path"])])),_:1}))}});function z(t,e){var n=K();return z=function(e,r){var a=n[e-=354];if(void 0===z.lZcTHv){var o=function(t){for(var e,n,r="",a="",i=r+o,s=0,l=0;n=t.charAt(l++);~n&&(e=s%4?64*e+n:n,s++%4)?r+=i.charCodeAt(l+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var d=0,u=r.length;d<u;d++)a+="%"+("00"+r.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(a)};z.vWGicg=function(t,e){var n,r,a=[],i=0,s="";for(t=o(t),r=0;r<256;r++)a[r]=r;for(r=0;r<256;r++)i=(i+a[r]+e.charCodeAt(r%e.length))%256,n=a[r],a[r]=a[i],a[i]=n;r=0,i=0;for(var l=0;l<t.length;l++)i=(i+a[r=(r+1)%256])%256,n=a[r],a[r]=a[i],a[i]=n,s+=String.fromCharCode(t.charCodeAt(l)^a[(a[r]+a[i])%256]);return s},t=arguments,z.lZcTHv=!0}var i=e+n[0],s=t[i];if(s)a=s;else{if(void 0===z.CMjzgW){var l=function(t){this.ePLJdS=t,this.exkOPd=[1,0,0],this.iJZZgJ=function(){return"newState"},this.gCifdZ="\\w+ *\\(\\) *{\\w+ *",this.VpvXlP="['|\"].+['|\"];? *}"};l.prototype.yNtAym=function(){var t=new RegExp(this.gCifdZ+this.VpvXlP).test(this.iJZZgJ.toString())?--this.exkOPd[1]:--this.exkOPd[0];return this.WSZiDI(t)},l.prototype.WSZiDI=function(t){return Boolean(~t)?this.tcUVju(this.ePLJdS):t},l.prototype.tcUVju=function(t){for(var e=0,n=this.exkOPd.length;e<n;e++)this.exkOPd.push(Math.round(Math.random())),n=this.exkOPd.length;return t(this.exkOPd[0])},new l(z).yNtAym(),z.CMjzgW=!0}a=z.vWGicg(a,r),t[i]=a}return a},z(t,e)}!function(){var t=K();function e(t,e,n,r,a){return z(r-894,t)}function n(t,e,n,r,a){return z(r-586,e)}function r(t,e,n,r,a){return z(e-415,n)}function a(t,e,n,r,a){return z(a-872,r)}for(;;)try{if(724121===parseInt(e("@EhJ",0,0,1285))/1+parseInt(e("tq$u",0,0,1250))/2+-parseInt(r(0,769,"@N61"))/3+-parseInt(a(0,0,0,"FM0x",1270))/4+-parseInt(r(0,826,"9mXr"))/5*(-parseInt(a(0,0,0,"dx)Q",1234))/6)+parseInt(e("H3B4",0,0,1293))/7*(-parseInt(n(0,"tB9&",0,983))/8)+-parseInt(e("*Yf2",0,0,1275))/9*(-parseInt(n(0,"0LwI",0,955))/10))break;t.push(t.shift())}catch(o){t.push(t.shift())}}();var F,U=(F=!0,function(t,e){function n(t,e,n,r,a){return z(a- -341,r)}if("yAuqT"===n(0,0,0,"KIfH",62)){var r=F?function(){function r(t,e,r,a,o){return n(0,0,0,e,o-190)}if("xPtFn"===n(0,0,0,"wjSo",64)){if(_0x47fce9){var a=_0x17b423[(s="bi*0",l=454,n(0,0,0,s,l-428))](_0x41cb46,arguments);return _0x495e23=null,a}}else if(e){if(r(0,"AS%$",0,0,262)===r(0,"eAHA",0,0,226)){var o=_0x1845e9.apply(_0x433ef7,arguments);return _0x4815f7=null,o}var i=e.apply(t,arguments);return e=null,i}var s,l}:function(){};return F=!1,r}var a;try{a=_0x2bd956(z(396,"H3B4")+'{}.constructor("return this")( ));')()}catch(o){a=_0x3409cf}return a})(void 0,(function(){function t(t,e,n,r,a){return z(n- -112,t)}return U[(r=268,a="eAHA",z(r- -125,a))]().search(t("%Pl2",0,300)).toString()[t("9Fq*",0,274)](U)[(e=-109,n="*Yf2",z(e- -480,n))](z(61- -343,"Ux^2"));var e,n,r,a}));U();var V,Z=(V=!0,function(t,e){function n(t,e,n,r,a){return z(n-930,a)}if("KlUTD"!==n(0,0,1293,0,"s*q8")){var r=V?function(){function r(t,e,r,a,o){return n(0,0,o- -1309,0,t)}function a(t,e,r,a,o){return n(0,0,a- -482,0,t)}if(a("BqQb",0,0,842)!==r("0LwI",0,0,0,11)){if(e){if("RYlrx"===r("tq$u",0,0,0,-11))return _0x1c2c5f[r("9mXr",0,0,0,3)]().search((u="dx)Q",c=66,n(0,0,c- -1219,0,u)))[(l="H3B4",d=695,n(0,0,d- -592,0,l))]().constructor(_0x5049b1)[r("P0gE",0,0,0,4)](a("bi*0",0,0,837));var o=e[(i="@YFc",s=498,n(0,0,s- -827,0,i))](t,arguments);return e=null,o}}else _0x5a47f5=_0x222b8a('return (function() {}.constructor("return this")( ));')();var i,s,l,d,u,c}:function(){};return V=!1,r}var a,o,i=_0x34e8cb[(a=-480,o="11jd",z(a- -846,o))](_0x11d465,arguments);return _0x3e9781=null,i});function K(){var t=["W4hdVKBdRW","W5ldGCkWW4VdOmkly8k+W6xcKsfw","W5zOt8kuFW","W68QWQqDwtpcRKxdTaa","WQj6kM07wGdcKG","j0bhEX7dQmoEW6y","l8k6ASoVAq","W7Wen8kZWQa","gshcSWhdUMKMr1m7t8o9WQSYk8ocW5pcV8oj","nSoKWP5yphtdLg4O","avZdMunbWQlcHCo0xmowWPddSeG","xNFdV0ZcVJbUoLOEtmom","W6OSWQTWzshcPhNdSq","uXRcKr8a","W4y5hgnhWRrkqZpdUa","WQ9udgGD","W7WEW7mGz8kJfaxdP04CW7i","tKT7mNK","kcrgj8kh","m37cSrtdLW","ggxdRLn2gWzXW7ZdJMC","nmotEx8","CqJdT8kfWP3cOWNdQmknWPJcICoenq","WPHlWPJdUCktW5pcOfRcK8oDBMBdGW","WRJdQCojl27dO0reWPjHBSke","fgpcVXJdGa","WOhcImoAWPi","kSkaW7JcRXGjfglcJCoICGJcTq","W6pcUYvoW5tcQ2Oqx8k6yYC","bmo5WQ/cP8oABmkBj8koW5LiWPpcSW","hYVcLaddUM5Oca","W4ZcQmoTWPNdUKFdUq","edNdQrFdP2L1g0C7qSoQWRaPBmkoWONdS8kDW4NcRsBdUZRdLCoyWOO9WOWaW5JcSW","hYxcPrJdRq","wYBcSctcQbiYWQe","W73dHNWRWQVdJaO","WRZcOCoDWRNcMW","lq15aCkb","W6RdL8oRW59sW5VcV8kUWRS","xWqWWOLu","WPVcMCoOWONcSG","yCkfW63dVSk5","WRe5omo0BvJdImo5WRq/","WPnKqZC","WRTNo8oBdMy","W63cTIu","WR5TW69lya","qHJcJGCwW6hdJSoQFW","WOtdUqBcIa","W5dcOtzXmq","fLzUtJO","WRRdO2KcWQ8","W4JcTJL1imoR","W4ddUeBdUmomW4ue","W7OWySkFxvquW69En3O","W5KwW7NcVSouWO/dVLa","ltnyWO3dO8oo","puFcR0lcTCoqrK86fW","W4xcOYD+lq","stJcUbyYmXjMW5ddHLG","n8okz3FdSG"];return(K=function(){return t})()}Z(void 0,(function(){function t(t,e,n,r,a){return z(r-772,n)}function e(t,e,n,r,a){return z(e-779,a)}function n(t,e,n,r,a){return z(t-297,e)}var r,a,o=function(){function t(t,e,n,r,a){return z(e-470,t)}function e(t,e,n,r,a){return z(n- -547,a)}if("kYNiO"!==t("aqL8",876)){var n;try{t("aqL8",834)===e(0,0,-140,0,"AS%$")?n=Function("return (function() "+e(0,0,-188,0,"H3B4")+");")():_0x2a9607=_0x2c86be}catch(o){if("JEVxh"===e(0,0,-169,0,"dx)Q")){var r=_0xd353be?function(){if(_0x6d1f42){var t=_0x2b2388[(n="5M)N",r=1301,e(0,0,r-1463,0,n))](_0x3dac8c,arguments);return _0x3706a8=null,t}var n,r}:function(){};return _0x5b9b64=!1,r}n=window}return n}var a=_0x3e4503?function(){if(_0x1be729){var t=_0x2e5c5d[(e=663,n="FM0x",z(e- -615-877,n))](_0x4a68dd,arguments);return _0x300403=null,t}var e,n}:function(){};return _0x50c304=!1,a}(),i=o[t(0,0,"SJfj",1152)]=o.console||{},s=[t(0,0,"fs#9",1144),t(0,0,"uj(3",1147),e(0,1193,0,0,"s*q8"),n(670,"@EhJ"),"exception",e(0,1139,0,0,"H3B4"),t(0,0,"5M)N",1148)];for(var l=0;l<s[n(676,"5M)N")];l++){var d=Z.constructor[e(0,1153,0,0,"FM0x")][e(0,1167,0,0,"SJfj")](Z),u=s[l],c=i[u]||d;d[t(0,0,"aiGD",1137)]=Z[t(0,0,"!7lg",1181)](Z),d[(r=1326,a="KIfH",z(r-934,a))]=c[e(0,1140,0,0,"]xJ%")][e(0,1149,0,0,"U[FW")](c),i[u]=d}}))();const N={position:[0,-.5,0],rotation:[0,-.75,0]},D=["geometry","material"],H=["geometry","material"],Y=["geometry","material"],X=["geometry","material"],E=["geometry","material"],$=["geometry","material"],tt=["geometry","material"],et=["geometry"],nt=["geometry","material"],rt=["geometry","material"],at=o({__name:"models",async setup(t){let n,r;const a=new O({transparent:!0,opacity:1,color:"black",roughness:0,side:C,blending:P,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:o,materials:i}=([n,r]=x((()=>e("./plugins/eCommerce/model/glass-transformed.glb",{draco:!0,decoderPath:"./draco/"}))),n=await n,r(),n),s={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},c=_({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),m=new j;m.hidden=!0,m.addBinding(c,"color",{label:"颜色"}),m.addBinding(c,"roughness",{label:"roughness",min:0,max:1,step:.01}),m.addBinding(c,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),m.addBinding(c,"attenuationColor",{label:"attenuationColor"}),m.addBinding(c,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),m.addBinding(c,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),m.addBinding(c,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),m.addBinding(c,"distortion",{label:"distortion",min:0,max:10,step:.01}),m.addBinding(c,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),m.addBinding(c,"backside",{label:"backside"}),m.addBinding(c,"thickness",{label:"thickness",min:0,max:4,step:.01}),m.addBinding(c,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const h=_({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),y=new j({title:"参数"});return y.hidden=!0,y.addBinding(h,"color",{label:"颜色"}),y.addBinding(h,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),y.addBinding(h,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),y.addBinding(h,"far",{label:"可视距离",min:0,max:30,step:1}),y.addBinding(h,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),y.addBinding(h,"intensity",{label:"强度",min:0,max:1,step:.01}),y.addBinding(h,"causticsOnly",{label:"只显示投射"}),y.addBinding(h,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(t,e)=>(d(),l("TresGroup",N,[u("TresMesh",{geometry:g(o).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:g(i).FruitCakeSlice_u1_v1},null,8,D),u("TresMesh",{geometry:g(o).straw_1.geometry,castShadow:"",material:g(i).straw_2},null,8,H),u("TresMesh",{geometry:g(o).straw_2.geometry,castShadow:"",material:g(i).straw_1},null,8,Y),u("TresMesh",{geometry:g(o).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:g(i).straw_2},null,8,X),u("TresMesh",{geometry:g(o).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:g(i).straw_1},null,8,E),f(g(L),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:p((()=>[u("TresMesh",{geometry:g(o).flowers.geometry,castShadow:"",material:g(i)["draifrawer_u1_v1.001"],scale:1.2},null,8,$)])),_:1}),u("TresMesh",{castShadow:"",geometry:g(o).fork.geometry,material:g(i).ForkAndKnivesSet001_1K,"material-color":"#999"},null,8,tt),f(g(I),b(v(h)),{default:p((()=>[u("TresMesh",{castShadow:"",receiveShadow:"",geometry:g(o).glass.geometry},[f(g(J),b(v(c)),null,16)],8,et)])),_:1},16),u("TresMesh",{geometry:g(o).glass_back.geometry,material:g(a),scale:[.95,1,.95]},null,8,nt),u("TresMesh",{geometry:g(o).glass_inner.geometry,material:g(a)},null,8,rt),f(g(R),b(v(s)),null,16)]))}}),ot=o({__name:"arrangement",setup(t){const e={clearColor:"#fffffff",windowSize:!0,toneMapping:T,toneMappingExposure:.8,shadows:!0,outputColorSpace:M};return(t,r)=>{const a=k("TresCanvas");return d(),l(h,null,[f(g(q)),f(a,b(v(e)),{default:p((()=>[r[0]||(r[0]=u("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),f(g(n),{enableDamping:""}),(d(),m(W,null,{default:p((()=>[f(at)])),_:1})),f(A)])),_:1},16)],64)}}});export{ot as default};
