var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.YEIDW1NO1741309500666.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.LKUM8RMn1741309500666.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.yV-MrybV1741309500666.js";import{V as o,U as s,C as l,l as c,W as p,aU as u,a as f,_ as x,a9 as v,A as m,b as h,ar as w}from"./three.8tDGqmLF1741309500666.js";import{m as g,e as d}from"./@tresjs.yaBKiR-I1741309500666.js";import{u as y}from"./index.cCquCM7w1741309500666.js";import{F as S,C as _}from"./three-stdlib.sJO3Q2ZV1741309500666.js";import{d as P}from"./@vue.NRI7TcgI1741309500666.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.unRa8xzh1741309500666.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.9Zvujmzk1741309500666.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.HhYKeX6y1741309500666.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.odFo5qMr1741309500666.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.WtW9iMex1741309500666.js";function z(t,e){const n=b();return(z=function(t,e){return n[t-=141]})(t,e)}function b(){const t=["7OlUdwn","__proto__","chain","constructor","8nhVhIE","prototype","function *\\( *\\)","input","2339066lgKfQG","9401202yqoEtv","12480XAcEVH","apply","while (true) {}","410706sBDZZp",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"info","bind","toString","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","12232zhpPug","console","log","test","warn","3865nNWChC","string","counter",'{}.constructor("return this")( )',"1228lzRspx","exception","1125042KUHgjL","call","length","178540TTWZfX","init","action"];return(b=function(){return t})()}const I=z;!function(t,e){const n=z,i=b();for(;;)try{if(772471===-parseInt(n(147))/1+parseInt(n(158))/2+-parseInt(n(163))/3+parseInt(n(142))/4*(-parseInt(n(176))/5)+parseInt(n(144))/6*(-parseInt(n(150))/7)+parseInt(n(154))/8*(-parseInt(n(159))/9)+-parseInt(n(160))/10*(-parseInt(n(171))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(161)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){E(this,(function(){const t=z,e=new RegExp(t(156)),n=new RegExp(t(169),"i"),i=U(t(148));e[t(174)](i+t(152))&&n[t(174)](i+t(157))?U():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();M(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function("return (function() "+t(141)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(172)]||{},i=[t(173),t(175),t(165),"error",t(143),"table","trace"];for(let r=0;r<i[t(146)];r++){const e=M.constructor[t(155)].bind(M),a=i[r],o=n[a]||e;e[t(151)]=M[t(166)](M),e.toString=o[t(167)][t(166)](o),n[a]=e}}))();const A=I(164);function U(t){function e(t){const n=z;if(typeof t===n(177))return function(t){}[n(153)](n(162))[n(161)](n(178));1!==(""+t/t).length||t%20==0?function(){return!0}[n(153)](n(170)+n(168))[n(145)](n(149)):function(){return!1}[n(153)](n(170)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=T;!function(t,e){const n=T,i=j();for(;;)try{if(801554===-parseInt(n(295))/1*(-parseInt(n(316))/2)+-parseInt(n(293))/3*(parseInt(n(321))/4)+parseInt(n(305))/5*(-parseInt(n(297))/6)+parseInt(n(311))/7+parseInt(n(292))/8*(parseInt(n(309))/9)+-parseInt(n(319))/10+parseInt(n(301))/11*(parseInt(n(300))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(317)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(){const t=["1081480OKHxQr","test","6189940WYsxPj","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","log",'{}.constructor("return this")( )',"bind","trace","action","clone","debu","counter","prototype","uniforms","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","1924184yAzhdL","3KXFOXJ","console","36302LBWtGw","table","820326MzFjsk","error","init","12GhdASd","16749425aTPmdb","chain","stateObject","defines","5jrlceI","string","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","info","18UjwWur","warn","2352511HoFVyW","gger","input","exception","function *\\( *\\)","14dywpWl","apply","return (function() "];return(j=function(){return t})()}!function(){D(this,(function(){const t=T,e=new RegExp(t(315)),n=new RegExp(t(322),"i"),i=W(t(299));e[t(320)](i+t(302))&&n[t(320)](i+t(313))?W():i("0")}))()}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(317)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function T(t,e){const n=j();return(T=function(t,e){return n[t-=291]})(t,e)}function V(t){const e=T,n=a({},t);return e(304)in t&&(n[e(304)]=a({},t[e(304)])),"uniforms"in t&&(n[e(333)]=s[e(329)](t.uniforms)),n}O(void 0,(function(){const t=T;let e;try{e=Function(t(318)+t(325)+");")()}catch(r){e=window}const n=e.console=e[t(294)]||{},i=[t(324),t(310),t(308),t(298),t(314),t(296),t(327)];for(let a=0;a<i.length;a++){const e=O[t(323)][t(332)][t(326)](O),r=i[a],o=n[r]||e;e.__proto__=O[t(326)](O),e.toString=o.toString[t(326)](o),n[r]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:L(291)+A+L(307)};function W(t){function e(t){const n=T;if(typeof t===n(306))return function(t){}[n(323)]("while (true) {}")[n(317)](n(331));1!==(""+t/t).length||t%20==0?function(){return!0}[n(323)](n(330)+"gger").call(n(328)):function(){return!1}[n(323)]("debu"+n(312)).apply(n(303)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=N;!function(t,e){const n=N,i=F();for(;;)try{if(182690===parseInt(n(508))/1+parseInt(n(487))/2+parseInt(n(490))/3*(parseInt(n(475))/4)+-parseInt(n(481))/5*(parseInt(n(445))/6)+parseInt(n(482))/7+parseInt(n(451))/8+-parseInt(n(509))/9*(parseInt(n(458))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function F(){const t=["material","magFilter","dispose","length","call","texture","debu","clear","_mipMaterials","_mipQuad","setClearColor","_swapTarget","2004aAXhdU","width","update","table","defines","height","6230fMRASG","616385aDUgyv","while (true) {}","function *\\( *\\)","originalMapSize","replace","306582BEeqHs","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","114qEURvK","string","copy","_copyQuad","gger","getClearColor","value","type","toString","input","fragmentShader","console","setRenderTarget","bind","constructor","X_IS_EVEN","stateObject","map","300648QdyYXl","225IoEycx","warn","parentMapSize","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","uniforms","setSize","318ROAnSM","test","image","autoClear","setClearAlpha","setViewOffset","1011768GDMRho","info","parentLevel","render","camera","init","floor","175510zhYgOC","__proto__","apply","Y_IS_EVEN","set"];return(F=function(){return t})()}!function(){H(this,(function(){const t=N,e=new RegExp(t(484)),n=new RegExp(t(489),"i"),i=X(t(456));e[t(446)](i+"chain")&&n[t(446)](i+t(499))?X():i("0")}))()}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(460)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=F();return(N=function(t,e){return n[t-=440]})(t,e)}C(void 0,(function(){const t=N;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(501)]=e[t(501)]||{},i=["log",t(440),t(452),"error","exception",t(478),"trace"];for(let a=0;a<i[t(466)];a++){const e=C.constructor.prototype[t(503)](C),r=i[a],o=n[r]||e;e[t(459)]=C.bind(C),e[t(498)]=o[t(498)][t(503)](o),n[r]=e}}))();const Z=new l;class G{constructor(t){const e=N;!t&&(t=e(442));const n=V(R);n[e(500)]=n.fragmentShader[e(486)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(V(n)),i[0].defines[e(505)]=0,i[0][e(479)][e(461)]=0,i[1]=new c(V(n)),i[1].defines.X_IS_EVEN=1,i[1][e(479)][e(461)]=0,i[2]=new c(V(n)),i[2][e(479)][e(505)]=0,i[2][e(479)][e(461)]=1,i[3]=new c(V(n)),i[3].defines[e(505)]=1,i[3][e(479)].Y_IS_EVEN=1;const r=new p;r[e(468)].minFilter=u,r.texture[e(464)]=u,this._swapTarget=r,this[e(493)]=new S(new c(_)),this[e(472)]=new S(null),this[e(471)]=i}[k(477)](t,e,n,i=!1){const r=k;t.isWebGLRenderTarget&&(t=t.texture);const o=n.autoClear,s=n.getClearAlpha(),l=n.getRenderTarget();n[r(495)](Z);const c=this[r(493)],p=this[r(472)],u=this[r(474)],x=this[r(471)];let v,m;i?(v=f.floorPowerOfTwo(t[r(447)][r(476)]),m=f.floorPowerOfTwo(t[r(447)][r(480)])):(v=Math[r(457)](t[r(447)][r(476)]),m=Math[r(457)](t.image[r(480)]));const h=Math.floor(1.5*v),w=Math[r(457)](m);e[r(444)](h,w),u[r(468)].type!==e.texture[r(497)]?(u[r(465)](),u[r(492)](e),u[r(468)][r(447)]=a({},u[r(468)][r(447)])):u[r(444)](h,w),n[r(448)]=!1,n[r(473)](0),n.setClearAlpha(),c[r(463)][r(443)].tDiffuse[r(496)]=t,c[r(455)][r(450)](v,m,0,0,h,w),n[r(502)](e),n[r(470)](),c[r(454)](n),n.setRenderTarget(u),n[r(470)](),c[r(454)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(443)].map[r(496)]=u[r(468)],t.uniforms[r(453)][r(496)]=y,t[r(443)][r(441)][r(496)].set(g,d),t.uniforms[r(485)][r(496)][r(462)](v,m),p[r(463)]=t,g=Math.floor(g/2),d=Math.floor(d/2);const i=w-2*d;n[r(502)](e),p[r(455)][r(450)](g,d,-v,-i,h,w),p[r(454)](n),n[r(502)](u),t[r(443)][r(507)][r(496)]=e[r(468)],p.render(n),y++}return n[r(502)](l),n[r(449)](s),n[r(473)](Z),n[r(448)]=o,y+1}dispose(){const t=k;this[t(474)][t(465)](),this[t(472)][t(465)](),this[t(493)].dispose(),this[t(471)].forEach((e=>e[t(465)]()))}}function X(t){function e(t){const n=N;if(typeof t===n(491))return function(t){}[n(504)](n(483))[n(460)](n(488));1!==(""+t/t).length||t%20==0?function(){return!0}[n(504)](n(469)+n(494))[n(467)]("action"):function(){return!1}[n(504)](n(469)+n(494))[n(460)](n(506)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Q=Y;function Y(t,e){const n=$();return(Y=function(t,e){return n[t-=282]})(t,e)}function $(){const t=["dot","forEach","function *\\( *\\)","string","visible","lookAt","init","length","186ovtLxY","setMask","return (function() ","resolution","value","3439650QPAocs","applyQuaternion","log","1069604JiLjFa","UnsignedByteType","add","68243UESyxE","constant","texture","info","9103464FukWjx","reflect",'{}.constructor("return this")( )',"render","gger","getWorldQuaternion","677748yysNhM","matrixWorldInverse","reflectorMipMap","sub","4qUavMI","toString","console","copy","elements","sign","getWorldPosition","normal","autoClear","projectionMatrix","counter","parent","stateObject","while (true) {}","test","projectPoint","depth","updateMatrixWorld","input","13691980HpRsya","9liFafZ","set","warn","negate","debu","error","Plane","Vector3","bind","matrixWorld","multiply","table","__proto__","call","Quaternion","clone","getRenderTarget","setRenderTarget","apply","multiplyScalar","Matrix4","prototype","constructor","ignoreObjects","Vector4","4027497oZowSB"];return($=function(){return t})()}!function(t,e){const n=Y,i=$();for(;;)try{if(868469===parseInt(n(323))/1+-parseInt(n(310))/2+parseInt(n(293))/3*(parseInt(n(327))/4)+-parseInt(n(307))/5+-parseInt(n(302))/6*(-parseInt(n(313))/7)+parseInt(n(317))/8+-parseInt(n(347))/9*(parseInt(n(346))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(286)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){const t=Y,e=new RegExp(t(296)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=J(t(300));e[t(341)](i+"chain")&&n[t(341)](i+t(345))?J():i("0")}))()}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(286)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();B(void 0,(function(){const t=Y;let e;try{e=Function(t(304)+t(319)+");")()}catch(r){e=window}const n=e[t(329)]=e[t(329)]||{},i=[t(309),t(349),t(316),t(352),"exception",t(358),"trace"];for(let a=0;a<i[t(301)];a++){const e=B[t(290)][t(289)].bind(B),r=i[a],o=n[r]||e;e[t(359)]=B[t(355)](B),e[t(328)]=o[t(328)].bind(o),n[r]=e}}))();const K=P({__name:Q(325),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Q,i=t,r=new(x[n(353)]),a=new(x[n(288)]),o=new v,s=new G,l=y({width:i.resolution,height:i.resolution,settings:{type:x[n(311)]}}),c=y({width:i.resolution,height:i[n(305)],settings:{type:m}}),{camera:p,renderer:u,scene:f}=g(),{onBeforeLoop:S}=d();return S((()=>{const t=n;(()=>{const t=n;if(!p.value)return;r.set(new(x[t(354)])(0,1,0),0),r.applyMatrix4(i[t(338)][t(356)]),o[t(330)](p[t(306)]);const e=new(x[t(354)])(0,0,1)[t(283)]()[t(350)](),s=p[t(306)][t(333)](new(x[t(354)]));e[t(318)](r[t(334)]);const c=new h;r[t(342)](s,c);const v=c[t(283)]();v[t(326)](s),v[t(312)](c),o.position.copy(v);const m=new(x[t(354)])(0,0,-1);m.applyQuaternion(p[t(306)].getWorldQuaternion(new(x[t(282)]))),m[t(312)](s);const g=new(x[t(354)]);i[t(338)].getWorldPosition(g),g.sub(m),g.reflect(r[t(334)]).negate(),g.add(i[t(338)][t(333)](new(x[t(354)]))),o.up[t(348)](0,1,0),o[t(308)](p[t(306)][t(322)](new(x[t(282)]))),o.up[t(318)](r[t(334)]),o[t(299)](g),o[t(344)]();const d=new(x[t(288)]);d[t(348)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(357)](o[t(336)]),d[t(357)](o.matrixWorldInverse),a[t(330)](d),r.applyMatrix4(o[t(324)]);const y=new w(r[t(334)].x,r[t(334)].y,r[t(334)].z,r[t(314)]),S=o.projectionMatrix,_=new(x[t(292)]);_.x=(Math[t(332)](y.x)+S[t(331)][8])/S[t(331)][0],_.y=(Math[t(332)](y.y)+S[t(331)][9])/S[t(331)][5],_.z=-1,_.w=(1+S[t(331)][10])/S[t(331)][14],y[t(287)](2/y[t(294)](_)),S[t(331)][2]=y.x,S.elements[6]=y.y,S.elements[10]=y.z+1,S.elements[14]=y.w;const P=u[t(306)][t(284)]();u[t(306)][t(285)](l.value),u.value.state.buffers[t(343)][t(303)](!0),!1===u[t(306)][t(335)]&&u[t(306)].clear(),i[t(291)].forEach((e=>e[t(298)]=!1)),u[t(306)][t(320)](f.value,o),i[t(291)][t(295)]((e=>e[t(298)]=!0)),u[t(306)][t(285)](P)})(),l[t(306)]&&c.value&&u.value&&s.update(l[t(306)][t(315)],c[t(306)],u.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(t){function e(t){const n=Y;if(typeof t===n(297))return function(t){}[n(290)](n(340))[n(286)](n(337));1!==(""+t/t)[n(301)]||t%20==0?function(){return!0}[n(290)](n(351)+n(321))[n(360)]("action"):function(){return!1}.constructor(n(351)+n(321)).apply(n(339)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=it,i=et();;)try{if(308960===parseInt(n(123))/1*(-parseInt(n(126))/2)+-parseInt(n(117))/3*(parseInt(n(128))/4)+-parseInt(n(139))/5+-parseInt(n(121))/6*(-parseInt(n(136))/7)+-parseInt(n(132))/8+-parseInt(n(144))/9*(-parseInt(n(134))/10)+-parseInt(n(125))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(){var t=["input","83041aVJGjH","chain","stateObject","122995uBuqRe","action","gger",'{}.constructor("return this")( )',"return (function() ","9ovYpUI","counter","constructor","call","bind","12qQjEWO","warn","test","string","198IUVzsp","debu","8MPaovO","log","3176382LQghqT","8794kFtsRA","error","158728YKaGBc","while (true) {}","function *\\( *\\)","__proto__","44456Tqgxmz","exception","4303030vowEHA"];return(et=function(){return t})()}!function(){tt(this,(function(){var t=it,e=new RegExp(t(130)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=rt("init");e[t(119)](i+t(137))&&n[t(119)](i+t(135))?rt():i("0")}))()}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function it(t,e){var n=et();return(it=function(t,e){return n[t-=115]})(t,e)}function rt(t){function e(t){var n=it;if(typeof t===n(120))return function(t){}.constructor(n(129)).apply(n(145));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debugger")[n(115)](n(140)):function(){return!1}[n(146)](n(122)+n(141)).apply(n(138)),e(++t)}try{if(t)return e;e(0)}catch(n){}}nt(void 0,(function(){for(var t=it,e=function(){var t,e=it;try{t=Function(e(143)+e(142)+");")()}catch(n){t=window}return t}(),n=e.console=e.console||{},i=[t(124),t(118),"info",t(127),t(133),"table","trace"],r=0;r<i.length;r++){var a=nt[t(146)].prototype.bind(nt),o=i[r],s=n[o]||a;a[t(131)]=nt.bind(nt),a.toString=s.toString[t(116)](s),n[o]=a}}))();export{K as _};
