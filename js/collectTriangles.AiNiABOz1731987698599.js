import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.juy9qkLz1731987698599.js";import{_ as s}from"./index.7HrSeNxI1731987698599.js";import{_ as i,s as c,cr as u}from"./three.3RwiW87x1731987698599.js";import{P as a}from"./tweakpane.yHWGBmom1731987698599.js";import{I as l,C as p,N as f,c as g,d as m,a as h}from"./three-mesh-bvh.L_h1M-WP1731987698599.js";import{d,a6 as y,b as w,a3 as j,o as v,D as b,J as I,u as _,F as x,r as A,e as T,j as z,g as B,m as C,f as M,al as S}from"./@vue.-THQH3GC1731987698599.js";import"./@vueuse.R8VPJfVr1731987698599.js";import"./index.BG3CTRYI1731987698599.js";import"./@fesjs.6cRBmkVw1731987698599.js";import"./vue-router.0Hzo7MDu1731987698599.js";import"./lodash-es.kYt-_xTG1731987698599.js";import"./@qlin.yHhFDldE1731987698599.js";import"./pinia.qOeBz4jM1731987698599.js";import"./vue-demi.C4xddsk91731987698599.js";import"./@floating-ui.BPbuo5Gx1731987698599.js";import"./@juggle.7yjBMqoW1731987698599.js";import"./chalk.sAH7iSuz1731987698599.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1731987698599.js";import"./@iconify.3mYF4lU71731987698599.js";import"./dompurify.rQUea5mq1731987698599.js";import"./utils.doS1Ez3q1731987698599.js";import"./default.vue_vue_type_script_setup_true_lang.uYD63FpP1731987698599.js";import"./three-mesh-ui.module.8h1jjxGg1731987698599.js";!function(t,n){const e=E,r=Z();for(;;)try{if(343330===-parseInt(e(337))/1*(-parseInt(e(300))/2)+-parseInt(e(342))/3+parseInt(e(339))/4+parseInt(e(340))/5*(parseInt(e(331))/6)+-parseInt(e(317))/7*(-parseInt(e(350))/8)+-parseInt(e(346))/9*(-parseInt(e(330))/10)+parseInt(e(314))/11*(-parseInt(e(325))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(t,n){const e=Z();return(E=function(t,n){return e[t-=299]})(t,n)}function Z(){const t=["warn","console","function *\\( *\\)","Raycaster","init",'{}.constructor("return this")( )',"3336ppHlWG","exception","test","apply","touch","380LwcSMQ","420sKiYgl","error","firstHitOnly","chain","debu","log","572001MrLLBo","input","652204gUQSzx","2380yesbYV","call","687021LLkEIA","pointerup","intersectObject","table","104814UeVdiU","trace","length","toString","4968280cTMIUQ","gger","pointermove","clientY","string","while (true) {}","2BrAcZV","action","bind","stateObject","clientX","innerHeight","enabled","innerWidth","constructor","info","prototype","__proto__","button","setFromCamera","49841hylZpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","7WaEVHz","value"];return(Z=function(){return t})()}!function(){L(this,(function(){const t=E,n=new RegExp(t(321)),e=new RegExp(t(315),"i"),r=F(t(323));n.test(r+t(334))&&e[t(327)](r+t(338))?F():r("0")}))()}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(328)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();k(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function("return (function() "+t(324)+");")()}catch(e){n=window}return n}(),e=n[t(320)]=n[t(320)]||{},r=[t(336),t(319),t(309),t(332),t(326),t(345),t(347)];for(let o=0;o<r[t(348)];o++){const n=k[t(308)][t(310)][t(302)](k),s=r[o],i=e[s]||n;n[t(311)]=k[t(302)](k),n.toString=i[t(349)][t(302)](i),e[s]=n}}))();function F(t){function n(t){const e=E;if(typeof t===e(354))return function(t){}.constructor(e(299))[e(328)](e(316));1!==(""+t/t)[e(348)]||t%20==0?function(){return!0}[e(308)](e(335)+e(351))[e(341)](e(301)):function(){return!1}[e(308)](e(335)+e(351)).apply(e(303)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=O;!function(t,n){const e=O,r=V();for(;;)try{if(732012===parseInt(e(145))/1+-parseInt(e(187))/2*(parseInt(e(155))/3)+parseInt(e(205))/4*(-parseInt(e(139))/5)+parseInt(e(148))/6+parseInt(e(184))/7*(parseInt(e(119))/8)+parseInt(e(115))/9+parseInt(e(160))/10*(-parseInt(e(137))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=O,n=new RegExp(t(120)),e=new RegExp(t(201),"i"),r=Q(t(174));n.test(r+t(154))&&e[t(158)](r+"input")?Q():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(t,n){const e=V();return(O=function(t,n){return e[t-=113]})(t,n)}Y(void 0,(function(){const t=O;let n;try{n=Function("return (function() "+t(151)+");")()}catch(o){n=window}const e=n.console=n[t(133)]||{},r=[t(197),t(180),"info",t(124),"exception",t(185),t(159)];for(let s=0;s<r[t(163)];s++){const n=Y.constructor[t(123)][t(153)](Y),o=r[s],i=e[o]||n;n[t(188)]=Y[t(153)](Y),n[t(126)]=i.toString[t(153)](i),e[o]=n}}))();const H=[U(146),U(194)],D=[U(146)],P=d({__name:U(167),props:{controls:{}},async setup(r){const o=U;let s,d;const A=r;(()=>{const t=O;i[t(144)][t(123)][t(127)]=g,i[t(144)][t(123)][t(183)]=m,c[t(123)][t(150)]=h})();const T=([s,d]=y((()=>e(u,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,d(),s),z=new(i[o(179)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),B=new Uint8Array(3*T[o(138)][o(182)][o(140)]);B[o(178)](255);const C=new(i[o(186)])(B,3,!0);C[o(132)](i[o(164)]),T.setAttribute(o(181),C);const M=w(null),S=w(null),L=w(!1),Z=w(-1),k=w(.2),F=new(i[o(173)]),{camera:R,raycaster:Y}=t(),P=15/255,Q=78/255,V=85/255;let X=null;j((()=>{const t=o;M[t(134)]&&(console.log(t(157),M.value),M[t(134)][t(146)].computeBoundsTree(),X=T[t(172)],((t,n,e,r,o,s)=>{const c=E;window.addEventListener(c(352),(e=>{const r=c;t.x=e.clientX/window[r(307)]*2-1,t.y=-e[r(353)]/window[r(305)]*2+1,n.value=!0})),window.addEventListener("pointerdown",(u=>{const a=c;t.x=u[a(304)]/window[a(307)]*2-1,t.y=-u[a(353)]/window[a(305)]*2+1,r.value=u[a(312)];const l=new(i[a(322)]);l[a(313)](t,e[a(318)]),l[a(333)]=!0;const p=l[a(344)](o[a(318)],!0);n.value=!0,s[a(306)]=0===p.length}),!0),window.addEventListener(c(343),(t=>{const e=c;r[e(318)]=-1,t.pointerType===e(329)&&(n[e(318)]=!1)}),!0)})(F,L,R,Z,M,A[t(129)][t(125)]))}));const{onLoop:G}=n();G((()=>{const t=o,n=T[t(156)];if(S[t(134)])if(A[t(129)][t(125)].active||!L[t(134)])S[t(134)].visible=!1;else{S.value[t(161)][t(166)](k[t(134)]),Y.value.setFromCamera(F,R.value),Y[t(134)].firstHitOnly=!0;const e=Y[t(134)][t(176)](M[t(134)],!0);if(e[t(163)]){S[t(134)][t(182)][t(204)](e[0][t(135)]),A[t(129)][t(125)][t(168)]=!1,S[t(134)][t(203)]=!0;const r=new(i[t(177)]);r[t(204)](M.value[t(116)]).invert();const o=new(i[t(147)]);o.center[t(204)](S[t(134)][t(182)])[t(117)](r),o.radius=100*k[t(134)];const s=[],c=new(i[t(152)]);if(null==X||X[t(206)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(143)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(149)](c))return l;return p}return r?l:f},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(162)](o)){const t=3*e;s[i(175)](t,t+1,t+2)}return!1}}),0===Z.value||2===Z[t(134)]){let e=1,r=1,o=1;0===Z.value&&(e=P,r=Q,o=V);for(let i=0,c=s.length;i<c;i++){const c=n[t(114)](s[i]);C[t(169)](c,e),C[t(142)](c,r),C[t(198)](c,o)}C[t(171)]=!0}}else S[t(134)].visible=!1,A[t(129)][t(125)][t(168)]=!0}}));const W=(new a)[o(192)]({title:o(193),label:o(118)}),$=new(i[o(144)]);return W.on(o(141),(()=>{const t=o,n=[],e=[];for(let o=0;o<C.count;o++)C[t(114)](o)===P&&C[t(196)](o)===Q&&C.getZ(o)===V&&(n[t(175)](T[t(138)][t(182)].getX(o),T[t(138)][t(182)].getY(o),T[t(138)][t(182)][t(200)](o)),e[t(175)](T[t(138)][t(191)][t(114)](o),T[t(138)][t(191)][t(196)](o),T[t(138)][t(191)].getZ(o)));const r=new Float32Array(n);$[t(121)](t(182),new(i[t(186)])(r,3)),$.setAttribute(t(191),new(i[t(186)])(r,3))})),(t,n)=>{const e=o;return v(),b(x,null,[I(e(165),{ref_key:"targetMesh",ref:M,geometry:_(T),scale:.005,material:_(z)},null,8,H),I(e(165),{ref_key:e(195),ref:S,visible:!1},n[0]||(n[0]=[I(e(136),{args:[1,40,40]},null,-1),I(e(189),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),I(e(165),{geometry:_($),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[I(e(189),{color:e(128),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,D)],64)}}});function Q(t){function n(t){const e=O;if(typeof t===e(122))return function(t){}[e(170)](e(131))[e(190)](e(113));1!==(""+t/t)[e(163)]||t%20==0?function(){return!0}[e(170)](e(202)+e(199)).call("action"):function(){return!1}[e(170)](e(202)+e(199))[e(190)](e(130)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function V(){const t=["点击按钮","material","brushMesh","getY","log","setZ","gger","getZ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","visible","copy","4PLHhmy","shapecast","counter","getX","5966811YQJVDG","matrixWorld","applyMatrix4","生成模型","10870024AxhwYA","function *\\( *\\)","setAttribute","string","prototype","error","instance","toString","computeBoundsTree","#023249","controls","stateObject","while (true) {}","setUsage","console","value","point","TresSphereGeometry","2007401uBFgjb","attributes","6764685cTeTOs","count","click","setY","set","BufferGeometry","956544CeirGE","geometry","Sphere","5278176zHvWXY","containsPoint","raycast",'{}.constructor("return this")( )',"Vector3","bind","chain","42qCNFuw","index","targetMesh.value init","test","trace","70HoyPHB","scale","intersectsSphere","length","DynamicDrawUsage","TresMesh","setScalar","model","enabled","setX","constructor","needsUpdate","boundsTree","Vector2","init","push","intersectObject","Matrix4","fill","MeshStandardMaterial","warn","color","position","disposeBoundsTree","7gBwQxo","table","BufferAttribute","70798sxKXFO","__proto__","TresMeshStandardMaterial","apply","normal","addButton"];return(V=function(){return t})()}const X=q;!function(t,n){const e=q,r=$();for(;;)try{if(297851===parseInt(e(230))/1*(parseInt(e(266))/2)+-parseInt(e(229))/3+parseInt(e(252))/4+-parseInt(e(248))/5*(parseInt(e(253))/6)+-parseInt(e(239))/7+parseInt(e(236))/8+parseInt(e(265))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=q,n=new RegExp(t(262)),e=new RegExp(t(240),"i"),r=K("init");n[t(258)](r+t(249))&&e[t(258)](r+t(234))?K():r("0")}))()}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(256)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function $(){const t=["280146CiYbWa","info","warn","apply","error","test","action","pos-z.jpg","exception","function *\\( *\\)","trace","debu","3783834QvLsmr","1174CGLPQI","TresAmbientLight","length","prototype","controls","collectTriangles","constructor","while (true) {}","737145eUTryq","623TRJMaY","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","call","string","input","log","839976PDABZG","console","gger","2007775hyUWFP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","bind","neg-x.jpg",'{}.constructor("return this")( )',"toString","TresCanvas","pos-y.jpg","45LDVQrS","chain","#999999","__proto__","1437944jcUzsJ"];return($=function(){return t})()}function q(t,n){const e=$();return(q=function(t,n){return e[t-=228]})(t,n)}W(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function("return (function() "+t(244)+");")()}catch(e){n=window}return n}(),e=n[t(237)]=n[t(237)]||{},r=[t(235),t(255),t(254),t(257),t(261),t(241),t(263)];for(let o=0;o<r[t(268)];o++){const n=W.constructor[t(269)][t(242)](W),s=r[o],i=e[s]||n;n[t(251)]=W[t(242)](W),n[t(245)]=i.toString[t(242)](i),e[s]=n}}))();const J=d({__name:X(271),setup(t){const n=X,e=A({clearColor:n(250),antialias:!0}),i=A({autoRotate:!1}),c=w(null);return(t,u)=>{const a=n,l=T(a(246));return v(),b(x,null,[z(_(s)),z(l,C(e,{"window-size":""}),{default:B((()=>[u[0]||(u[0]=I("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),z(_(r),C({ref_key:"controlsRef",ref:c},i),null,16),u[1]||(u[1]=I(a(267),{intensity:1},null,-1)),(v(),M(S,null,{default:B((()=>[z(P,{controls:c.value},null,8,[a(270)])])),_:1})),(v(),M(S,null,{default:B((()=>[z(_(o),{background:!1,files:["pos-x.jpg",a(243),a(247),"neg-y.jpg",a(260),"neg-z.jpg"],path:a(231)})])),_:1}))])),_:1},16)],64)}}});function K(t){function n(t){const e=q;if(typeof t===e(233))return function(t){}[e(272)](e(228)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(272)](e(264)+"gger")[e(232)](e(259)):function(){return!1}[e(272)](e(264)+e(238))[e(256)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
