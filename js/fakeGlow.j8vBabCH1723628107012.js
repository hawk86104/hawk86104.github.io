import{d as n,H as t}from"./@tresjs.SUe87xao1723628107012.js";import{k as o,ba as e,C as r,aL as i,Z as a,a6 as s}from"./three.LOnTLfxo1723628107012.js";import{P as l}from"./tweakpane.yHWGBmom1723628107012.js";import{d as c,r as u,a1 as f,e as p,o as g,f as d,g as m,j as v,u as w,J as h,al as y}from"./@vue.9bHx4gg21723628107012.js";import"./@vueuse.t-c8gU4-1723628107012.js";function b(){var n=["bind","function *\\( *\\)","blending","string","6746uckNzu","uniforms","action","#00d5ff","constructor","error","setValues","5007720hJCmvF","9276472vqBmme","console","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","glowColor","trace","glowInternalRadius","toString","14873595ZzEgOl","58452sYDFXw","apply","__proto__","test","stateObject","gger","180XeiSMX","opacity","side","80rpamDr","exception","table","4TfTjFw","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","falloff","7368172anIEzI","log","init","vertexShader","return (function() ","info","blendMode","fragmentShader","while (true) {}","depthTest","glowSharpness","1549173oAVVBU",'{}.constructor("return this")( )',"chain","length","debu","input","9luSbCr"];return(b=function(){return n})()}!function(n,t){for(var o=j,e=b();;)try{if(609011===parseInt(o(269))/1*(-parseInt(o(298))/2)+parseInt(o(287))/3*(-parseInt(o(272))/4)+parseInt(o(266))/5*(-parseInt(o(260))/6)+parseInt(o(276))/7+parseInt(o(306))/8*(-parseInt(o(293))/9)+parseInt(o(305))/10+parseInt(o(259))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(261)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){var n=j,t=new RegExp(n(295)),o=new RegExp(n(274),"i"),e=_(n(278));t[n(263)](e+n(289))&&o[n(263)](e+n(292))?_():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(261)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function j(n,t){var o=b();return(j=function(n,t){return o[n-=259]})(n,t)}x(void 0,(function(){var n,t=j;try{n=Function(t(280)+t(288)+");")()}catch(l){n=window}for(var o=n[t(307)]=n[t(307)]||{},e=[t(277),"warn",t(281),t(303),t(270),t(271),t(310)],r=0;r<e[t(290)];r++){var i=x.constructor[t(273)][t(294)](x),a=e[r],s=o[a]||i;i[t(262)]=x.bind(x),i[t(312)]=s.toString.bind(s),o[a]=i}}))();const S=class extends o{constructor(n={}){var t=j;super(),this[t(279)]=t(308),this[t(283)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[t(299)]={opacity:new e(void 0!==n[t(267)]?n[t(267)]:1),glowInternalRadius:new e(void 0!==n[t(311)]?n[t(311)]:6),glowSharpness:new e(void 0!==n[t(286)]?n[t(286)]:.5),falloff:new e(void 0!==n[t(275)]?n[t(275)]:.1),glowColor:new e(void 0!==n[t(309)]?new r(n[t(309)]):new r(t(301)))},this[t(304)](n),this[t(285)]=void 0!==n[t(285)]&&n.depthTest,this[t(296)]=void 0!==n[t(282)]?n[t(282)]:i,this.transparent=!0,this[t(268)]=void 0!==n[t(268)]?n[t(268)]:a}};function _(n){function t(n){var o=j;if(typeof n===o(297))return function(n){}.constructor(o(284))[o(261)]("counter");1!==(""+n/n)[o(290)]||n%20==0?function(){return!0}[o(302)]("debugger").call(o(300)):function(){return!1}[o(302)](o(291)+o(265)).apply(o(264)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const T=D;!function(n,t){const o=D,e=N();for(;;)try{if(245905===-parseInt(o(235))/1+parseInt(o(229))/2*(parseInt(o(215))/3)+parseInt(o(243))/4*(parseInt(o(252))/5)+parseInt(o(257))/6*(-parseInt(o(255))/7)+parseInt(o(250))/8*(-parseInt(o(245))/9)+parseInt(o(204))/10*(-parseInt(o(242))/11)+parseInt(o(208))/12*(parseInt(o(214))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[D(265)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){C(this,(function(){const n=D,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(249),"i"),e=E(n(232));t[n(216)](e+n(220))&&o[n(216)](e+"input")?E():e("0")}))()}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[D(265)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();k(void 0,(function(){const n=D;let t;try{t=Function(n(233)+n(203)+");")()}catch(r){t=window}const o=t[n(219)]=t[n(219)]||{},e=[n(253),n(263),n(251),"error",n(259),"table",n(200)];for(let i=0;i<e[n(228)];i++){const t=k[n(205)].prototype[n(260)](k),r=e[i],a=o[r]||t;t.__proto__=k[n(260)](k),t.toString=a[n(207)].bind(a),o[r]=t}}))();const z=h(T(213),{position:[0,25,25],near:.1,fov:65},null,-1),P=h(T(240),{intensity:1.5},null,-1),F=h("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1),M=h(T(254),{args:[20,10]},null,-1),R={position:[0,6,0]},G=h("TresMesh",null,[h(T(237),{args:[4,.5,128,128]}),h(T(262),{color:T(266),roughness:.2,clearcoat:1})],-1),B=[T(209)];function D(n,t){const o=N();return(D=function(n,t){return o[n-=197]})(n,t)}function N(){const n=["init","return (function() ","TresGroup","291051mSYXIp","DoubleSide","TresTorusKnotGeometry","材质面","call","TresAmbientLight","falloff","513051gcCTYk","4wyBPqj","fakeGlow","423SEjHAC","action","glowColor","pos-y.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","64144bsDEay","info","420520UsyBzY","log","TresGridHelper","124474QAnatt","glowInternalRadius","78GnMKDL","while (true) {}","exception","bind","counter","TresMeshPhysicalMaterial","warn","uniforms","apply","blue","FrontSide","#a058c1","TresCanvas","string","trace","debu","gger",'{}.constructor("return this")( )',"50oTsaaC","constructor","BackSide","toString","24wFaNCz","object","清晰度","Mesh","side","TresPerspectiveCamera","7563842GSdCXq","391203cmkRFn","test","neg-x.jpg","TorusKnotGeometry","console","chain","addBinding","opacity","glowSharpness","value","pos-x.jpg","neg-y.jpg","辉光参数","length","2xBTxgM","stateObject","pos-z.jpg"];return(N=function(){return n})()}const A=c({__name:T(244),setup(o){const e=T,i=new l({title:e(227),expanded:!0}),a=u({glowColor:e(197),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(267)],depthTest:!1}),c=new S,b=new(s[e(211)])(new(s[e(218)])(4,3.8,128,128),c);return i[e(221)](a,e(247),{label:"颜色"}),i[e(221)](a,e(241),{label:"衰减",min:0,max:10,step:.1}),i.addBinding(a,e(256),{label:"内半径",min:-5,max:5,step:.1}),i[e(221)](a,e(223),{label:e(210),min:0,max:10,step:.1}),i[e(221)](a,e(222),{label:"透明",min:0,max:1,step:.1}),i[e(221)](a,e(212),{label:e(238),options:{FrontSide:s[e(267)],BackSide:s[e(206)],DoubleSide:s[e(236)]}}),f((()=>{const n=e;c[n(264)].falloff[n(224)]=a[n(241)],c[n(264)][n(247)].value=new r(a.glowColor),c[n(264)][n(256)][n(224)]=a[n(256)],c[n(264)][n(223)][n(224)]=a[n(223)],c[n(264)][n(222)][n(224)]=a.opacity,c[n(212)]=a[n(212)]})),(o,r)=>{const i=e,a=p(i(198));return g(),d(a,{"window-size":""},{default:m((()=>[z,P,F,v(w(n),{autoRotate:""}),M,h(i(234),R,[G,h("primitive",{object:w(b)},null,8,B)]),(g(),d(y,null,{default:m((()=>[v(w(t),{files:[i(225),i(217),i(248),i(226),i(231),"neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1})}}});function E(n){function t(n){const o=D;if(typeof n===o(199))return function(n){}[o(205)](o(258))[o(265)](o(261));1!==(""+n/n)[o(228)]||n%20==0?function(){return!0}[o(205)](o(201)+o(202))[o(239)](o(246)):function(){return!1}[o(205)]("debugger").apply(o(230)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{A as default};
