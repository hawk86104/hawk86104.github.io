import{_ as t,bQ as n,au as o,C as r}from"./three.jaHX2_hY1736406294003.js";import{b as e}from"./@tresjs.AACxYGk_1736406294003.js";import{d as a,b as s,a4 as c,w as i,o as u,D as f,J as l,aj as p,ak as h}from"./@vue.yG49nQHr1736406294003.js";!function(t,n){const o=g,r=w();for(;;)try{if(963962===-parseInt(o(505))/1+parseInt(o(500))/2+parseInt(o(534))/3*(parseInt(o(506))/4)+parseInt(o(495))/5*(-parseInt(o(517))/6)+-parseInt(o(509))/7*(-parseInt(o(541))/8)+-parseInt(o(498))/9*(-parseInt(o(519))/10)+parseInt(o(532))/11*(-parseInt(o(514))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(t,n){const o=w();return(g=function(t,n){return o[t-=493]})(t,n)}!function(){d(this,(function(){const t=g,n=new RegExp(t(536)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=I(t(521));n[t(504)](r+t(518))&&o[t(504)](r+t(497))?I():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(527)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function w(){const t=["info","debu","47014YwVRZX","bsdfs","249UKMFUk","length","function *\\( *\\)","begin_vertex","defaultnormal_vertex","gger","error","16RiJzOm","ShaderChunk","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","1965UZCEji","shadowmap_pars_fragment","input","902421jdaJyz","stateObject","1617094twZnJV","packing","\n       varying vec2 vUv;\n\t\t\t \t","exception","test","839503udebfe","34268CnJGaK","\n\t ","\n          ","2577757POzFSj","string","constructor","shadowmap_vertex","while (true) {}","2100fMEvtn","beginnormal_vertex","console","84GgTbWS","chain","30thQteE","common","init","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","worldpos_vertex","toString","prototype","table","apply","bind","shadowmap_pars_vertex"];return(w=function(){return t})()}m(void 0,(function(){const t=g,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n[t(516)]=n[t(516)]||{},r=["log","warn",t(530),t(540),t(503),t(526),"trace"];for(let e=0;e<r[t(535)];e++){const n=m[t(511)][t(525)][t(528)](m),a=r[e],s=o[a]||n;n.__proto__=m[t(528)](m),n[t(524)]=s[t(524)][t(528)](s),o[a]=n}}))();const v=()=>{const o=g;return o(502)+t[o(493)][o(520)]+"\n      \t"+n[o(533)]+"\n      \t"+n[o(529)]+"\n       void main() {\n\t\t\t\t\t"+t[o(493)][o(515)]+"\n          "+n[o(538)]+"\n          "+t[o(493)][o(537)]+o(508)+t[o(493)].project_vertex+o(508)+n[o(523)]+o(508)+t[o(493)][o(512)]+o(494)},_=()=>{const o=g;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[o(493)][o(520)]+o(507)+n[o(501)]+"\n\t "+t[o(493)][o(533)]+o(507)+t[o(493)].lights_pars_begin+o(507)+t[o(493)][o(496)]+"\n\t "+t[o(493)].shadowmask_pars_fragment+o(522)};function I(t){function n(t){const o=g;if(typeof t===o(510))return function(t){}[o(511)](o(513))[o(527)]("counter");1!==(""+t/t)[o(535)]||t%20==0?function(){return!0}[o(511)](o(531)+o(539)).call("action"):function(){return!1}.constructor(o(531)+o(539))[o(527)](o(499)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=E;!function(t,n){const o=E,r=S();for(;;)try{if(962864===parseInt(o(295))/1*(-parseInt(o(300))/2)+-parseInt(o(299))/3+-parseInt(o(338))/4+parseInt(o(330))/5*(-parseInt(o(303))/6)+parseInt(o(312))/7+-parseInt(o(294))/8*(parseInt(o(317))/9)+parseInt(o(320))/10*(parseInt(o(342))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[E(333)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=E,n=new RegExp(t(328)),o=new RegExp(t(319),"i"),r=k(t(325));n[t(324)](r+t(293))&&o[t(324)](r+"input")?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[E(333)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(){const t=["UniformsUtils","uniforms","bind","toString","error","chain","1005592tAPEoA","20FIkTDP","fEdge","shadowColor","wrapS","304422cSwpXE","160738cUqQaw","debu","warn","4918404OLDkwM","TresMesh","while (true) {}","DoubleSide","color","Color","RepeatWrapping","value","wrapT","10740765XQDdgL","action","gger","prototype",'{}.constructor("return this")( )',"18lgfjRI","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","20OBWCLD","stateObject","counter","exception","test","init","call","merge","function *\\( *\\)","edge","5wmHKRt","rotation-x","info","apply","length","size","TresShaderMaterial","whiteFloorMesh","6028292ctnmsl","table","console","lights","20435404BQLATY","#990","args","uShadowColor"];return(S=function(){return t})()}y(void 0,(function(){const t=E;let n;try{n=Function("return (function() "+t(316)+");")()}catch(e){n=window}const o=n[t(340)]=n[t(340)]||{},r=["log",t(302),t(332),t(292),t(323),t(339),"trace"];for(let a=0;a<r[t(334)];a++){const n=y[t(318)][t(315)][t(290)](y),e=r[a],s=o[e]||n;n.__proto__=y.bind(y),n[t(291)]=s[t(291)].bind(s),o[e]=n}}))();const C=[b(331)],j=[b(344)];function E(t,n){const o=S();return(E=function(t,n){return o[t-=289]})(t,n)}const T=a({__name:b(337),props:{size:{default:[20,20]},color:{default:b(343)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const a=b;let d,g;const m=n,w=s(),{map:I}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);I[a(298)]=I[a(311)]=t[a(309)];const x={uniforms:t[a(346)][a(327)]([o[a(341)],{uTexture:{type:"t",value:I},uColor:{value:new r(m[a(307)])},uShadowColor:{value:new(t[a(308)])(m[a(297)])},fEdge:{type:"f",value:m[a(329)]}}]),side:t[a(306)],vertexShader:v(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>m[a(329)]),(t=>{const n=a;x[n(289)][n(296)][n(310)]=t})),i((()=>m.color),(n=>{const o=a;x[o(289)].uColor[o(310)]=new(t[o(308)])(m[o(307)])})),i((()=>m[a(297)]),(n=>{const o=a;x[o(289)][o(345)][o(310)]=new(t[o(308)])(m.shadowColor)})),(t,n)=>{const o=a;return u(),f(o(304),{ref_key:"tmRef",ref:w,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:m[o(335)]},null,8,j),l(o(336),p(h(x)),null,16)],8,C)}}});function k(t){function n(t){const o=E;if("string"==typeof t)return function(t){}[o(318)](o(305))[o(333)](o(322));1!==(""+t/t).length||t%20==0?function(){return!0}[o(318)](o(301)+"gger")[o(326)](o(313)):function(){return!1}.constructor(o(301)+o(314))[o(333)](o(321)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
