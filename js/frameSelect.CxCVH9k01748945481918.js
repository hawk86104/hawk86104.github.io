import{m as e,k as t,a}from"./@tresjs.Fe0mFN5V1748945481918.js";import{cY as s,cZ as n,l}from"./three.Bg9S6UMF1748945481918.js";import{d as o,a5 as i,s as r,a2 as c,G as u,o as m,u as d,r as f,h as v,e as p,f as h,I as g,j,ak as w,al as b,am as _,m as P}from"./@vue.C_fjx3FT1748945481918.js";import"./postprocessing.meaIGyM81748945481918.js";import"./@vueuse.C8008KiJ1748945481918.js";const k=["object"],C=o({__name:"frameSelect",async setup(a){let o,f;const{scene:v,nodes:p}=([o,f]=i((()=>t("/plugins/operationTool/model/湖中小亭/湖中小亭.gltf"))),o=await o,f(),o),{camera:h,renderer:g,scene:j,sizes:w,raycaster:b,controls:_}=e();let P=new s(h.value,j.value),C=new n(g.value,"selectBox"),L=function(e){console.log(_.value);for(const t of P.collection)t instanceof l&&t.material.emissive.set(0);P.collection.length=0,P.startPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5)},T=function(e){if(C.isDown){P.endPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5);const t=P.select();console.log("allSelected",t);for(let e=0;e<t.length;e++){let a=t[e];a instanceof l&&a.material.emissive.set(16252928)}}},Y=function(e){const t=P.select();P.endPoint.set(e.clientX/w.width.value*2-1,-e.clientY/w.height.value*2+1,.5);for(let a=0;a<t.length;a++){let e=t[a];e instanceof l&&e.material.emissive.set(0)}};return r((()=>{document.addEventListener("mousedown",L,!1),document.addEventListener("mousemove",T,!1),document.addEventListener("mouseup",Y,!1)})),c((()=>{})),(e,t)=>(m(),u("primitive",{object:d(v)},null,8,k))}}),L=o({__name:"frameSelect",setup(e){const t=f({alpha:!0,antialias:!0,autoClear:!1}),s=f({enableDamping:!1,enableZoom:!1,autoRotate:!1,enablePan:!1,enableRotate:!1,makeDefault:!0});return(e,n)=>{const l=v("TresCanvas");return m(),p(l,P({clearColor:"#201919","window-size":""},t),{default:h((()=>[n[0]||(n[0]=g("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,10,-28]},null,-1)),n[1]||(n[1]=g("TresAmbientLight",{intensity:1},null,-1)),j(d(a),w(b(s)),null,16),(m(),p(_,null,{default:h((()=>[j(C)])),_:1}))])),_:1},16)}}});export{L as default};
