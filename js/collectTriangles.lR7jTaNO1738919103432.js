import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.G4idgyWs1738919103432.js";import{_ as s}from"./index.B2w47G8t1738919103432.js";import{_ as i,aK as c,M as u,b as a,c as l,B as f,cx as p}from"./three.CYhYNU4g1738919103432.js";import{P as h}from"./tweakpane.yDiyAAkA1738919103432.js";import{I as m,C as d,N as g,c as y,d as w,a as j}from"./three-mesh-bvh.zFSHwbLi1738919103432.js";import{d as v,a3 as b,b as _,a2 as I,o as x,H as A,N as M,u as T,F,r as k,e as z,j as B,g as C,m as E,f as R,al as Z}from"./@vue.NRI7TcgI1738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";import"./index.8pUg4sda1738919103432.js";import"./@fesjs.28Jx3VJe1738919103432.js";import"./vue-router.NKoGOf7E1738919103432.js";import"./lodash-es.pklfUAS51738919103432.js";import"./@qlin.yHhFDldE1738919103432.js";import"./pinia.yqLlAjUg1738919103432.js";import"./@floating-ui.BPbuo5Gx1738919103432.js";import"./@juggle.7yjBMqoW1738919103432.js";import"./chalk.8eJqaBDu1738919103432.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1738919103432.js";import"./@iconify.dt4P0LGS1738919103432.js";import"./dompurify.rQUea5mq1738919103432.js";import"./utils.XUgKbBNu1738919103432.js";import"./default.vue_vue_type_script_setup_true_lang.LZ0MsIQr1738919103432.js";import"./three-mesh-ui.module.mKTmOR0R1738919103432.js";!function(t,n){const e=L,r=X();for(;;)try{if(100842===parseInt(e(191))/1*(-parseInt(e(195))/2)+-parseInt(e(221))/3*(parseInt(e(194))/4)+parseInt(e(197))/5*(-parseInt(e(202))/6)+-parseInt(e(227))/7*(-parseInt(e(190))/8)+parseInt(e(196))/9+parseInt(e(236))/10+parseInt(e(231))/11*(parseInt(e(216))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(232)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function X(){const t=["length","return (function() ","clientX","enabled","debu","function *\\( *\\)","pointerup","touch","__proto__","12jJkxyX","trace","pointerdown","log",'{}.constructor("return this")( )',"78hGzmOj","Raycaster","chain","stateObject","call","prototype","112eaXUpC","while (true) {}","addEventListener","innerWidth","1409683cKMFJx","apply","value","info","intersectObject","1544420LJRwJQ","pointerType","clientY","25688UPGAvh","9QcnDvT","bind","constructor","22604XEDwuP","14474CZdheh","627786hqvirr","113530mFniMv","gger","table","button","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","24iFAtBX","console","test","toString","input"];return(X=function(){return t})()}!function(){O(this,(function(){const t=L,n=new RegExp(t(212)),e=new RegExp(t(201),"i"),r=P("init");n[t(204)](r+t(223))&&e.test(r+t(206))?P():r("0")}))()}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(232)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(t,n){const e=X();return(L=function(t,n){return e[t-=190]})(t,n)}S(void 0,(function(){const t=L;let n;try{n=Function(t(208)+t(220)+");")()}catch(o){n=window}const e=n[t(203)]=n[t(203)]||{},r=[t(219),"warn",t(234),"error","exception",t(199),t(217)];for(let s=0;s<r.length;s++){const n=S[t(193)][t(226)][t(192)](S),o=r[s],i=e[o]||n;n[t(215)]=S[t(192)](S),n[t(205)]=i[t(205)].bind(i),e[o]=n}}))();function P(t){function n(t){const e=L;if("string"==typeof t)return function(t){}.constructor(e(228))[e(232)]("counter");1!==(""+t/t)[e(207)]||t%20==0?function(){return!0}[e(193)](e(211)+e(198))[e(225)]("action"):function(){return!1}[e(193)](e(211)+e(198))[e(232)](e(224)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=q;function H(){const t=["active","stateObject","boundsTree","setFromCamera","7AzZynn","bind","needsUpdate","instance","BufferGeometry","normal","#023249","copy","click","getZ","30rRFGjs","table","computeBoundsTree","push","color","disposeBoundsTree","addButton","TresMeshStandardMaterial","prototype","count","set","Mesh","init","targetMesh.value init","44AjjjFx","invert","生成模型","error","center",'{}.constructor("return this")( )',"test","getY","while (true) {}","raycast","gger","model","length","BufferAttribute","info","setX","input","Vector2","点击按钮","getX","trace","intersectsSphere","setUsage","TresSphereGeometry","controls","point","attributes","shapecast","toString","1765gPLWUS","1703830VLsHAA","targetMesh","setScalar","index","apply","matrixWorld","log","visible","position","applyMatrix4","25782rmCjXc","brushMesh","console","6562458caQMAy","enabled","radius","value","275361Qytnqo","material","constructor","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","firstHitOnly","intersectObject","DynamicDrawUsage","geometry","chain","setY","debu","2021864XfGnMm","TresMesh","string","setAttribute","return (function() ","379438ijRKXL","Sphere","__proto__","3764064BFFEnM"];return(H=function(){return t})()}!function(t,n){const e=q,r=H();for(;;)try{if(961813===parseInt(e(470))/1+parseInt(e(392))/2*(parseInt(e(453))/3)+-parseInt(e(473))/4+parseInt(e(435))/5*(-parseInt(e(446))/6)+-parseInt(e(382))/7*(-parseInt(e(465))/8)+parseInt(e(449))/9+parseInt(e(436))/10*(parseInt(e(406))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(440)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){J(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(457),"i"),r=Q(t(404));n.test(r+t(462))&&e[t(412)](r+t(422))?Q():r("0")}))()}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(440)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();G(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(469)+t(411)+");")()}catch(e){n=window}return n}(),e=n[t(448)]=n.console||{},r=[t(442),t(456),t(420),t(409),"exception",t(393),t(426)];for(let o=0;o<r[t(418)];o++){const n=G.constructor[t(400)][t(383)](G),s=r[o],i=e[s]||n;n[t(472)]=G.bind(G),n.toString=i[t(434)][t(383)](i),e[s]=n}}))();const Y=[U(461),U(454)],$=[U(461)];function q(t,n){const e=H();return(q=function(t,n){return e[t-=379]})(t,n)}const D=v({__name:U(417),props:{controls:{}},async setup(r){const o=U;let s,v;const k=r;(()=>{const t=q;i[t(386)][t(400)].computeBoundsTree=y,f[t(400)][t(397)]=w,i[t(403)][t(400)][t(415)]=j})();const z=([s,v]=b((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,v(),s),B=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),C=new Uint8Array(3*z[o(432)][o(444)].count);C.fill(255);const E=new(i[o(419)])(C,3,!0);E[o(428)](i[o(460)]),z.setAttribute(o(396),E);const R=_(null),Z=_(null),O=_(!1),X=_(-1),S=_(.2),P=new(i[o(423)]),{camera:H,raycaster:J}=t(),G=15/255,D=78/255,Q=85/255;let W=null;I((()=>{const t=o;R[t(452)]&&(console[t(442)](t(405),R[t(452)]),R[t(452)][t(461)][t(394)](),W=z[t(380)],((t,n,e,r,o,s)=>{const c=L;window[c(229)]("pointermove",(e=>{const r=c;t.x=e[r(209)]/window[r(230)]*2-1,t.y=-e[r(238)]/window.innerHeight*2+1,n.value=!0})),window[c(229)](c(218),(u=>{const a=c;t.x=u[a(209)]/window.innerWidth*2-1,t.y=-u.clientY/window.innerHeight*2+1,r[a(233)]=u[a(200)];const l=new(i[a(222)]);l.setFromCamera(t,e.value),l.firstHitOnly=!0;const f=l[a(235)](o[a(233)],!0);n[a(233)]=!0,s[a(210)]=0===f[a(207)]}),!0),window.addEventListener(c(213),(t=>{const e=c;r.value=-1,t[e(237)]===e(214)&&(n[e(233)]=!1)}),!0)})(P,O,H,X,R,k[t(430)][t(385)]))}));const{onLoop:N}=n();N((()=>{const t=o,n=z[t(439)];if(Z[t(452)])if(k.controls[t(385)][t(474)]||!O[t(452)])Z.value[t(443)]=!1;else{Z.value.scale[t(438)](S[t(452)]),J.value[t(381)](P,H[t(452)]),J[t(452)][t(458)]=!0;const e=J[t(452)][t(459)](R.value,!0);if(e[t(418)]){Z.value[t(444)][t(389)](e[0][t(431)]),k.controls[t(385)][t(450)]=!1,Z[t(452)][t(443)]=!0;const r=new u;r[t(389)](R[t(452)][t(441)])[t(407)]();const o=new(i[t(471)]);o[t(410)].copy(Z[t(452)][t(444)])[t(445)](r),o[t(451)]=100*S.value;const s=[],c=new a;if(null==W||W[t(433)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(402)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return m;return d}return r?m:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(427)](o)){const t=3*e;s[i(395)](t,t+1,t+2)}return!1}}),0===X[t(452)]||2===X[t(452)]){let e=1,r=1,o=1;0===X[t(452)]&&(e=G,r=D,o=Q);for(let i=0,c=s[t(418)];i<c;i++){const c=n[t(425)](s[i]);E[t(421)](c,e),E[t(463)](c,r),E.setZ(c,o)}E[t(384)]=!0}}else Z[t(452)][t(443)]=!1,k[t(430)][t(385)][t(450)]=!0}}));const K=(new h)[o(398)]({title:o(424),label:o(408)}),V=new(i[o(386)]);return K.on(o(390),(()=>{const t=o,n=[],e=[];for(let o=0;o<E[t(401)];o++)E[t(425)](o)===G&&E[t(413)](o)===D&&E[t(391)](o)===Q&&(n[t(395)](z[t(432)][t(444)][t(425)](o),z[t(432)][t(444)].getY(o),z[t(432)][t(444)].getZ(o)),e[t(395)](z[t(432)][t(387)].getX(o),z[t(432)][t(387)][t(413)](o),z.attributes.normal.getZ(o)));const r=new Float32Array(n);V[t(468)](t(444),new l(r,3)),V.setAttribute(t(387),new(i[t(419)])(r,3))})),(t,n)=>{const e=o;return x(),A(F,null,[M(e(466),{ref_key:e(437),ref:R,geometry:T(z),scale:.005,material:T(B)},null,8,Y),M("TresMesh",{ref_key:e(447),ref:Z,visible:!1},n[0]||(n[0]=[M(e(429),{args:[1,40,40]},null,-1),M(e(399),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),M(e(466),{geometry:T(V),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[M("TresMeshStandardMaterial",{color:e(388),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,$)],64)}}});function Q(t){function n(t){const e=q;if(typeof t===e(467))return function(t){}[e(455)](e(414))[e(440)]("counter");1!==(""+t/t)[e(418)]||t%20==0?function(){return!0}[e(455)](e(464)+e(416)).call("action"):function(){return!1}[e(455)](e(464)+e(416))[e(440)](e(379)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=tt;!function(t,n){const e=tt,r=V();for(;;)try{if(668928===-parseInt(e(287))/1+-parseInt(e(267))/2+-parseInt(e(262))/3*(-parseInt(e(285))/4)+parseInt(e(249))/5+-parseInt(e(253))/6+parseInt(e(256))/7*(parseInt(e(288))/8)+-parseInt(e(286))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[tt(270)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){N(this,(function(){const t=tt,n=new RegExp(t(260)),e=new RegExp(t(264),"i"),r=et("init");n[t(284)](r+"chain")&&e[t(284)](r+t(261))?et():r("0")}))()}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[tt(270)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function V(){const t=["28TWdjrO",'{}.constructor("return this")( )',"log","console","function *\\( *\\)","input","249YauJct","controlsRef","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","controls","constructor","204804ynPvPk","return (function() ","toString","apply","collectTriangles","info","warn","exception","string","pos-y.jpg","neg-x.jpg","TresPerspectiveCamera","stateObject","TresAmbientLight","gger","while (true) {}","bind","test","60076FELecU","438327pQPOzi","205022oeyiEn","832968hcwZBA","debu","value","985790VkkNHO","neg-y.jpg","length","action","5010984sjNUiB","prototype","trace"];return(V=function(){return t})()}function tt(t,n){const e=V();return(tt=function(t,n){return e[t-=249]})(t,n)}K(void 0,(function(){const t=tt;let n;try{n=Function(t(268)+t(257)+");")()}catch(o){n=window}const e=n[t(259)]=n.console||{},r=[t(258),t(273),t(272),"error",t(274),"table",t(255)];for(let s=0;s<r[t(251)];s++){const n=K[t(266)][t(254)][t(283)](K),o=r[s],i=e[o]||n;n.__proto__=K.bind(K),n[t(269)]=i[t(269)][t(283)](i),e[o]=n}}))();const nt=v({__name:W(271),setup(t){const n=k({clearColor:"#999999",antialias:!0}),e=k({autoRotate:!1}),i=_(null);return(t,c)=>{const u=tt,a=z("TresCanvas");return x(),A(F,null,[B(T(s)),B(a,E(n,{"window-size":""}),{default:C((()=>[c[0]||(c[0]=M(u(278),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),B(T(r),E({ref_key:u(263),ref:i},e),null,16),c[1]||(c[1]=M(u(280),{intensity:1},null,-1)),(x(),R(Z,null,{default:C((()=>[B(D,{controls:i[u(290)]},null,8,[u(265)])])),_:1})),(x(),R(Z,null,{default:C((()=>[B(T(o),{background:!1,files:["pos-x.jpg",u(277),u(276),u(250),"pos-z.jpg","neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function et(t){function n(t){const e=tt;if(typeof t===e(275))return function(t){}[e(266)](e(282))[e(270)]("counter");1!==(""+t/t)[e(251)]||t%20==0?function(){return!0}[e(266)](e(289)+e(281)).call(e(252)):function(){return!1}.constructor(e(289)+e(281))[e(270)](e(279)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
