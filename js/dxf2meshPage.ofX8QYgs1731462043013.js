import{k as t}from"./@tresjs.xlnLF3O61731462043013.js";import{cw as e,_ as n,k as s,bU as o,ak as r,am as i,aF as c,$ as a,s as u}from"./three.wKRaqyB-1731462043013.js";import{P as l}from"./tweakpane.yHWGBmom1731462043013.js";import{a as p}from"./index.R1BN6iSd1731462043013.js";import"./index.NYyACQTV1731462043013.js";import{_ as f}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.0ErHuUDz1731462043013.js";import{d,r as g,X as m,s as h,q as _,e as w,o as v,D as y,j as x,g as j,J as b,u as I,m as k,f as M,al as S,I as B}from"./@vue.-THQH3GC1731462043013.js";import{_ as C}from"./@fesjs.uG2EzMwn1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";import"./three-stdlib.1CDoKLj-1731462043013.js";import"./@pmndrs.A7R_S0Qe1731462043013.js";import"./object-hash.BCTgntsx1731462043013.js";import"./@amap.r7GlLHCm1731462043013.js";import"./jszip.9e6IwfI51731462043013.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.1SJIE9a11731462043013.js";import"./all.three.JSbXmeVa1731462043013.js";import"./oimophysics.x0jH7fze1731462043013.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.fPHf6LI31731462043013.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.9SAeh0Fo1731462043013.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.iEswbC8q1731462043013.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.TDdUcPXA1731462043013.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.AKqNjNFA1731462043013.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.7hGs5oW01731462043013.js";import"./vue-router.9VsVDPG11731462043013.js";import"./lodash-es.kYt-_xTG1731462043013.js";import"./@qlin.yHhFDldE1731462043013.js";import"./pinia.TsQ0LDHQ1731462043013.js";import"./vue-demi.C4xddsk91731462043013.js";import"./@floating-ui.BPbuo5Gx1731462043013.js";import"./@juggle.7yjBMqoW1731462043013.js";const D=T;!function(t,e){const n=T,s=z();for(;;)try{if(730184===-parseInt(n(454))/1*(parseInt(n(466))/2)+-parseInt(n(480))/3*(-parseInt(n(479))/4)+parseInt(n(440))/5+parseInt(n(470))/6*(parseInt(n(481))/7)+-parseInt(n(485))/8+parseInt(n(422))/9*(-parseInt(n(487))/10)+-parseInt(n(455))/11*(parseInt(n(449))/12))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const A=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[T(461)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();!function(){A(this,(function(){const t=T,e=new RegExp(t(462)),n=new RegExp(t(460),"i"),s=P(t(471));e[t(477)](s+t(429))&&n[t(477)](s+"input")?P():s("0")}))()}();const F=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[T(461)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();function z(){const t=["computeBoundingBox","length","console","stateObject","6zgbdzB","11NsOyDq","forEach","add","negate","Shape","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","function *\\( *\\)","translate","rotation","setXY","140314MuDILm","geometry","position","constructor","2325474zdKaVs","init","drawImportSpecialBoard","EdgesGeometry","counter","max","prototype","test","holes","3700SUyeDb","3258ELWcPA","21YQVNAc","getX","Vector3","getCenter","1707016vorqgH","renderOrder","321000pCmgjC","exception","ExtrudeGeometry","Mesh","error","toString","#AFAFAD","action","207GsxqDa","MeshStandardMaterial","LineBasicMaterial","debu","material","attributes","BufferAttribute","chain","call","info","return (function() ","bind","LineSegments","while (true) {}","trace","MeshBasicMaterial","min","table","4709695vvsyIj","boundingBox","count","mBoundingBox","push","getY","receiveShadow","castShadow","copy","12077076SSMUvk"];return(z=function(){return t})()}function T(t,e){const n=z();return(T=function(t,e){return n[t-=416]})(t,e)}F(void 0,(function(){const t=T;let e;try{e=Function(t(432)+'{}.constructor("return this")( ));')()}catch(o){e=window}const n=e[t(452)]=e.console||{},s=["log","warn",t(431),t(418),t(488),t(439),t(436)];for(let r=0;r<s[t(451)];r++){const e=F[t(469)][t(476)][t(433)](F),o=s[r],i=n[o]||e;e.__proto__=F.bind(F),e[t(419)]=i[t(419)].bind(i),n[o]=e}}))();class E{constructor(t){this.name=t}[D(472)](t,o,r){const i=D,c=(new e).parse(o),a=new(n[i(459)]);c.paths[i(456)](((t,e)=>{const n=i;t.toShapes(!0)[n(456)](((t,s)=>{const o=n;0===e&&0===s?a[o(448)](t):a[o(478)][o(444)](t)}))}));const u=new(n[i(416)])(a,{depth:18,bevelEnabled:!1});u[i(450)]();const l=u[i(441)][i(484)](new(n[i(483)]))[i(458)]();u[i(463)](l.x,l.y,l.z),u[i(450)]();const p=u.boundingBox[i(475)],f=u[i(441)][i(438)],d=new s(0-f.x,0-f.y),g=new s(p.x-f.x,p.y-f.y);u[i(427)].uv=new(n[i(428)])(new Float32Array(2*u[i(427)][i(468)][i(442)]),2);for(let e=0;e<u[i(427)][i(468)][i(442)];e++){const t=u[i(427)][i(468)][i(482)](e),n=u[i(427)][i(468)][i(445)](e);u[i(427)].uv[i(465)](e,(t+d.x)/g.x,(n+d.y)/g.y)}const m=new(n[i(437)])({map:null}),h=new(n[i(417)])(u,m);h[i(426)]=new(n[i(423)])({map:null,color:i(420),roughness:1,metalness:.1,envMapIntensity:2.5}),h[i(446)]=!0,h[i(447)]=!0,h[i(468)].x=r,h[i(468)].y=250;const _=new(n[i(424)])({color:0}),w=new(n[i(473)])(h[i(467)],1),v=new(n[i(434)])(w,_);v[i(486)]=1,v.position[i(448)](h[i(468)]),v[i(464)][i(448)](h[i(464)]),h[i(443)]=v,t[i(457)](h,h[i(443)])}}function P(t){function e(t){const n=T;if("string"==typeof t)return function(t){}[n(469)](n(435))[n(461)](n(474));1!==(""+t/t)[n(451)]||t%20==0?function(){return!0}[n(469)](n(425)+"gger")[n(430)](n(421)):function(){return!1}.constructor("debugger")[n(461)](n(453)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=V;!function(t,e){const n=V,s=U();for(;;)try{if(806437===parseInt(n(356))/1*(parseInt(n(406))/2)+-parseInt(n(362))/3+parseInt(n(338))/4*(-parseInt(n(411))/5)+parseInt(n(330))/6*(parseInt(n(418))/7)+parseInt(n(422))/8+-parseInt(n(383))/9+parseInt(n(423))/10*(-parseInt(n(327))/11))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const L=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[V(402)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();function V(t,e){const n=U();return(V=function(t,e){return n[t-=326]})(t,e)}!function(){L(this,(function(){const t=V,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(387),"i"),s=O(t(375));e.test(s+t(354))&&n.test(s+t(371))?O():s("0")}))()}();const G=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[V(402)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();G(void 0,(function(){const t=V;let e;try{e=Function(t(364)+t(408)+");")()}catch(o){e=window}const n=e[t(377)]=e.console||{},s=["log",t(366),"info",t(419),"exception","table",t(363)];for(let r=0;r<s[t(370)];r++){const e=G[t(328)][t(365)].bind(G),o=s[r],i=n[o]||e;e[t(341)]=G[t(391)](G),e[t(407)]=i[t(407)][t(391)](i),n[o]=e}}))();const q={key:0,class:R(361)},X={class:R(367)};function U(){const t=["translate(50, 50)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#3a78a2","button","localFileReader","bind","pos-y.jpg","TresBoxGeometry","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","TresMesh","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","svg","type","addButton","#82DBC5","加载脚本 ","apply","boxMeshRef","gger","TresGridHelper","2038hPywPD","toString",'{}.constructor("return this")( )',"plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","value","1677685xCNate","neg-z.jpg","neg-y.jpg","1.1","dxfFileInput","pen1","dxf2svg","4964071rVgMoV","error","head","addFolder","10563016dIXYRe","850cFwROU","pos-z.jpg","34441ywfLwG","constructor","stateObject","6PCVdxU","加载脚本时出错","xMidYMid meet","querySelector","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","svg-display","dialogVisible","then","4clpSbq","#ffffff","_blank","__proto__","debu","#776A8F","div","appendChild","TresGroup","script","fileInput","createElement","children","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","TresCanvas","pos-x.jpg","chain","outerHTML","695TcAMEE","导入dxf","onerror","catch","#627179","dialogDiv","3160722ikbSey","trace","return (function() ","prototype","warn","footBtn","下载测试文件2","http://www.w3.org/2000/svg","length","input","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","click","TresDirectionalLight","init","open","console","string","neg-x.jpg","http://www.inkscape.org/namespaces/inkscape","while (true) {}","TresMeshBasicMaterial","2484468oLXPKa","TresAmbientLight","10000"];return(U=function(){return t})()}function O(t){function e(t){const n=V;if(typeof t===n(378))return function(t){}[n(328)](n(381))[n(402)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(328)](n(342)+n(404)).call("action"):function(){return!1}[n(328)]("debugger").apply(n(329)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=C(d({__name:"dxf2meshPage",setup(e){const n=R,s=g({dialogVisible:!1}),d={clearColor:n(400),shadows:!0,alpha:!1,shadowMapType:o,outputColorSpace:r,toneMapping:i},C=g({cellSize:60,cellThickness:1.1,cellColor:n(360),sectionColor:n(388),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let D=0;const A=m(),F=m(),z=new l;z[n(399)]({title:"下载测试文件1"}).on("click",(()=>{const t=n;window[t(376)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(340))})),z[n(399)]({title:n(368)}).on(n(373),(()=>{const t=n;window[t(376)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(340))}));const T=z[n(421)]({title:"远近"});function P(){const t=n,e=F[t(410)];s[t(336)]=!1;const o=document[t(333)]("#svg-display svg");if(o){const n=o[t(355)];let s=new E;D+=1200,s.drawImportSpecialBoard(e,n,D)}}function L(t){return new Promise(((e,n)=>{const s=V,o=document[s(349)](s(347));o.src=t,o[s(398)]="text/javascript",o.onload=()=>e(),o[s(358)]=()=>n(new Error(s(401)+t+" 时出错")),document[s(420)][s(345)](o)}))}return T[n(399)]({title:n(357)}).on(n(373),(()=>{s.dialogVisible=!0,h((()=>{const t=V;window[t(390)][t(375)]()}))})),T[n(399)]({title:"初始化"}).on("click",(()=>{!function(){const t=n,e=new c(500,500,18),s=new a({color:"blue"}),o=new u(e,s),r=F[t(410)];for(;r[t(350)][t(370)]>0;){const e=r[t(350)][0];r.remove(e)}r.add(o)}()})),_((()=>{!function(){const t=n;L(t(351)).then((()=>L("plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js")))[t(337)]((()=>L(t(396))))[t(337)]((()=>L(t(409)))).then((()=>L(t(394))))[t(337)]((()=>L(t(372))))[t(359)]((e=>console.error(t(331),e)))}()})),(e,o)=>{const r=n,i=w(r(352));return v(),y(r(344),null,[x(i,k(d,{"window-size":""}),{default:j((()=>[o[2]||(o[2]=b("TresPerspectiveCamera",{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),x(I(t),{"make-default":""}),o[3]||(o[3]=b(r(405),{position:[0,-1,0],size:"1000",divisions:r(385)},null,-1)),b(r(346),{ref_key:"groupRef",ref:F,position:[2,250,0]},[b(r(395),{ref_key:r(403),ref:A},o[1]||(o[1]=[b(r(393),{args:[500,500,18]},null,-1),b(r(382),{color:"blue"},null,-1)]),512)],512),o[4]||(o[4]=b(r(384),{color:r(339),intensity:1},null,-1)),o[5]||(o[5]=b(r(374),{color:r(339),position:[300,300,250],intensity:6},null,-1)),x(I(f),k({args:[3,3]},C,{position:[0,-.5,0]}),null,16),(v(),M(S,null,{default:j((()=>[x(I(p),{files:[r(353),r(379),r(392),r(413),r(326),r(412)],path:r(334)})])),_:1}))])),_:1},16),s[r(336)]?(v(),y(r(344),q,[o[6]||(o[6]=b(r(344),{id:r(335),class:"assembly",style:{}},[b(r(397),{id:"main-svg",xmlns:r(369),"xmlns:svg":r(369),"xmlns:inkscape":r(380),version:r(414),preserveAspectRatio:r(332)},[b("g",{id:r(417),class:r(416),"stroke-width":"6",fill:r(343),transform:r(386)})])],-1)),o[7]||(o[7]=b("div",{class:r(348)},[b(r(371),{id:r(415),type:"file"})],-1)),b(r(344),X,[b(r(389),{onClick:o[0]||(o[0]=t=>s.dialogVisible=!1)},"取消"),b(r(389),{onClick:P},"确定")])])):B("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{Y as default};
