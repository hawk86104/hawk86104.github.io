import{o as n,J as t}from"./@tresjs.8SAr0PX_1741857949183.js";import{l as o,a_ as e,C as r,aX as i,a0 as a,y as s,_ as l,K as c}from"./three.Gi_-4zeu1741857949183.js";import{P as u}from"./tweakpane.yDiyAAkA1741857949183.js";import{d as f,r as p,a2 as d,e as g,o as m,f as v,g as w,N as h,j as y,u as b,al as j}from"./@vue.NRI7TcgI1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";!function(n,t){for(var o=S,e=_();;)try{if(916862===-parseInt(o(276))/1+parseInt(o(265))/2+parseInt(o(243))/3*(-parseInt(o(270))/4)+parseInt(o(257))/5*(-parseInt(o(260))/6)+-parseInt(o(273))/7*(-parseInt(o(275))/8)+-parseInt(o(281))/9*(parseInt(o(241))/10)+parseInt(o(266))/11*(parseInt(o(246))/12))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[S(251)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){var n=S,t=new RegExp(n(249)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=R(n(244));t[n(278)](e+n(274))&&o[n(278)](e+"input")?R():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[S(251)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(){var n=["6810lkVdGX","blendMode","6PxPJRj","init","length","763188UsxSxN","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","fragmentShader","function *\\( *\\)","return (function() ","apply","side","stateObject","blending","error","prototype","9290UShwWz","transparent","while (true) {}","3270kptcGl","debu","string","constructor","vertexShader","134162jnOAyJ","671dnRFHQ","uniforms","info","table","851248cMjsBk","glowColor","trace","7dhEmcS","chain","7951672rJoWFB","844166WlynoS","warn","test","gger","setValues","23013XqYwbg","exception","bind","toString",'{}.constructor("return this")( )',"depthTest","glowInternalRadius","log","falloff","console","opacity","glowSharpness"];return(_=function(){return n})()}x(void 0,(function(){for(var n=S,t=function(){var n,t=S;try{n=Function(t(250)+t(233)+");")()}catch(o){n=window}return n}(),o=t.console=t[n(238)]||{},e=[n(236),n(277),n(268),n(255),n(282),n(269),n(272)],r=0;r<e[n(245)];r++){var i=x[n(263)][n(256)][n(283)](x),a=e[r],s=o[a]||i;i.__proto__=x[n(283)](x),i[n(232)]=s[n(232)][n(283)](s),o[a]=i}}))();function S(n,t){var o=_();return(S=function(n,t){return o[n-=232]})(n,t)}const k=class extends o{constructor(n={}){var t=S;super(),this[t(264)]="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this[t(248)]=t(247),this[t(267)]={opacity:new e(void 0!==n[t(239)]?n.opacity:1),glowInternalRadius:new e(void 0!==n.glowInternalRadius?n[t(235)]:6),glowSharpness:new e(void 0!==n[t(240)]?n[t(240)]:.5),falloff:new e(void 0!==n[t(237)]?n[t(237)]:.1),glowColor:new e(void 0!==n[t(271)]?new r(n[t(271)]):new r("#00d5ff"))},this[t(280)](n),this[t(234)]=void 0!==n[t(234)]&&n[t(234)],this[t(254)]=void 0!==n.blendMode?n[t(242)]:i,this[t(258)]=!0,this.side=void 0!==n[t(252)]?n[t(252)]:a}};function R(n){function t(n){var o=S;if(typeof n===o(262))return function(n){}[o(263)](o(259)).apply("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[o(263)]("debu"+o(279)).call("action"):function(){return!1}.constructor(o(261)+o(279))[o(251)](o(253)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const P=N;!function(n,t){const o=N,e=M();for(;;)try{if(656756===parseInt(o(352))/1+parseInt(o(395))/2+parseInt(o(406))/3+-parseInt(o(370))/4*(-parseInt(o(344))/5)+parseInt(o(353))/6+-parseInt(o(400))/7+-parseInt(o(383))/8)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[N(360)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){T(this,(function(){const n=N,t=new RegExp(n(390)),o=new RegExp(n(403),"i"),e=A(n(399));t[n(381)](e+n(347))&&o.test(e+n(407))?A():e("0")}))()}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[N(360)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();z(void 0,(function(){const n=N;let t;try{t=Function("return (function() "+n(356)+");")()}catch(r){t=window}const o=t.console=t[n(377)]||{},e=[n(389),n(382),n(393),n(384),n(363),"table",n(358)];for(let i=0;i<e[n(349)];i++){const t=z[n(362)][n(366)][n(391)](z),r=e[i],a=o[r]||t;t[n(368)]=z.bind(z),t.toString=a[n(375)].bind(a),o[r]=t}}))();const G={position:[0,6,0]},C=["object"];function M(){const n=["console","TresCanvas","counter","while (true) {}","test","warn","12568352IAQxmR","error","neg-y.jpg","debu","addBinding","string","log","function *\\( *\\)","bind","neg-z.jpg","info","primitive","1349176KumpGi","value","pos-y.jpg","glowInternalRadius","init","1109304NBUjoX","gger","TresGridHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","glowSharpness","fakeGlow","539187kTDktU","input","falloff","TresDirectionalLight","TresPerspectiveCamera","TresAmbientLight","171940tmBquk","opacity","pos-x.jpg","chain","glowColor","length","Color","Mesh","134083gyEtWQ","5911296iLQUDj","DoubleSide","辉光参数",'{}.constructor("return this")( )',"call","trace","TorusKnotGeometry","apply","TresGroup","constructor","exception","side","action","prototype","材质面","__proto__","FrontSide","48ALrYVc","清晰度","uniforms","stateObject","TresMeshPhysicalMaterial","toString","内半径"];return(M=function(){return n})()}function N(n,t){const o=M();return(N=function(n,t){return o[n-=341]})(n,t)}const F=f({__name:P(405),setup(o){const e=P,r=new u({title:e(355),expanded:!0}),i=p({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),a=new k,f=new(l[e(351)])(new(l[e(359)])(4,3.8,128,128),a);return r[e(387)](i,e(348),{label:"颜色"}),r[e(387)](i,e(408),{label:"衰减",min:0,max:10,step:.1}),r[e(387)](i,e(398),{label:e(376),min:-5,max:5,step:.1}),r[e(387)](i,e(404),{label:e(371),min:0,max:10,step:.1}),r[e(387)](i,e(345),{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,e(364),{label:e(367),options:{FrontSide:l[e(369)],BackSide:c,DoubleSide:l[e(354)]}}),d((()=>{const n=e;a.uniforms.falloff[n(396)]=i.falloff,a[n(372)][n(348)][n(396)]=new(l[n(350)])(i[n(348)]),a[n(372)][n(398)][n(396)]=i[n(398)],a.uniforms[n(404)][n(396)]=i[n(404)],a.uniforms[n(345)][n(396)]=i[n(345)],a[n(364)]=i[n(364)]})),(o,r)=>{const i=e,a=g(i(378));return m(),v(a,{"window-size":""},{default:w((()=>[r[1]||(r[1]=h(i(342),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=h(i(343),{intensity:1.5},null,-1)),r[3]||(r[3]=h(i(341),{position:[100,100,60],intensity:20},null,-1)),y(b(n),{autoRotate:""}),r[4]||(r[4]=h(i(402),{args:[20,10]},null,-1)),h(i(361),G,[r[0]||(r[0]=h("TresMesh",null,[h("TresTorusKnotGeometry",{args:[4,.5,128,128]}),h(i(374),{color:"blue",roughness:.2,clearcoat:1})],-1)),h(i(394),{object:b(f)},null,8,C)]),(m(),v(j,null,{default:w((()=>[y(b(t),{files:[i(346),"neg-x.jpg",i(397),i(385),"pos-z.jpg",i(392)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1})}}});function A(n){function t(n){const o=N;if(typeof n===o(388))return function(n){}.constructor(o(380))[o(360)](o(379));1!==(""+n/n)[o(349)]||n%20==0?function(){return!0}[o(362)]("debu"+o(401))[o(357)](o(365)):function(){return!1}.constructor(o(386)+o(401))[o(360)](o(373)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{F as default};
