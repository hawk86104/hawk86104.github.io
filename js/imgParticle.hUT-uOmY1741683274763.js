import{a as t,o as n}from"./@tresjs.tqalU7S21741683274763.js";import"./index.Ig1wgKis1741683274763.js";import{P as o}from"./tweakpane.yDiyAAkA1741683274763.js";import{C as e,_ as r}from"./three.3wvNjL8W1741683274763.js";import{d as s,a3 as i,w as u,o as c,H as a,N as l,u as p,aj as f,ak as m,r as _,e as g,f as d,g as v,j as h,al as j,m as C}from"./@vue.NRI7TcgI1741683274763.js";import{_ as y}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.7NG9Lytn1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.Kj5B6I6-1741683274763.js";import"./all.three.WECQOlM11741683274763.js";import"./oimophysics.x0jH7fze1741683274763.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.Ej0zfzh11741683274763.js";import"./index.sSLEeJGC1741683274763.js";import"./three-stdlib.cRsATZEm1741683274763.js";import"./@pmndrs.WfX6M2011741683274763.js";import"./object-hash.02dpNrUa1741683274763.js";import"./@amap.H2801npL1741683274763.js";import"./jszip.b3hD2dNL1741683274763.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.pdI3z2wF1741683274763.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.jkQWF76o1741683274763.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.0jgdwKG31741683274763.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.r6c0IbGQ1741683274763.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Gc7uVFOn1741683274763.js";const w=b;!function(t,n){const o=b,e=x();for(;;)try{if(345500===parseInt(o(534))/1+parseInt(o(505))/2*(parseInt(o(550))/3)+parseInt(o(528))/4*(parseInt(o(542))/5)+parseInt(o(537))/6+parseInt(o(554))/7+parseInt(o(545))/8*(-parseInt(o(527))/9)+parseInt(o(549))/10*(-parseInt(o(516))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[b(500)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){I(this,(function(){const t=b,n=new RegExp(t(532)),o=new RegExp(t(513),"i"),e=F(t(506));n.test(e+t(510))&&o[t(511)](e+t(544))?F():e("0")}))()}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[b(500)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function b(t,n){const o=x();return(b=function(t,n){return o[t-=499]})(t,n)}function x(){const t=["counter","useCustomColor","toString","while (true) {}","stateObject","apply","customColor","string","image","prototype","12FTPMZP","init","action","warn",'{}.constructor("return this")( )',"chain","test","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}","132kVAKeK","data","error","console","exception","gger","random","TresShaderMaterial","push","length","canvas","8541cniBze","67568ihoZQK","constructor","width","getContext","function *\\( *\\)","AdditiveBlending","392146DbRnQN","TresBufferGeometry","info","201786sZrobq","value","./logo.png","__proto__","TresPoints","160RHgEZH","call","input","5392HjfIBT","debu","height","createElement","624710JdbvOc","277809gHPiPY","uniforms","#ff0000","zPos","1489873dKVAyX","getImageData"];return(x=function(){return t})()}P(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function("return (function() "+t(509)+");")()}catch(o){n=window}return n}(),o=n[t(519)]=n[t(519)]||{},e=["log",t(508),t(536),t(518),t(520),t(514),"trace"];for(let r=0;r<e[t(525)];r++){const n=P.constructor[t(504)].bind(P),s=e[r],i=o[s]||n;n[t(540)]=P.bind(P),n.toString=i[t(558)][t(512)](i),o[s]=n}}))();const z={position:[-8,10,-2],scale:.02},A=["position","color_list"],T=s({__name:"imgParticleMesh",props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:w(552)}},async setup(n){const o=w;let s,_;const g=n,d=([s,_]=i((()=>t([o(539)]))),s=await s,_(),s),v=document[o(548)](o(526)),h=d[o(503)][o(530)],j=d.image[o(547)];v[o(530)]=h,v[o(547)]=j;const C=v[o(531)]("2d");null==C||C.drawImage(d[o(503)],0,0);const y=null==C?void 0:C[o(555)](0,0,h,j)[o(517)],I=[],P=[];if(y)for(let t=0;t<j;t++)for(let n=0;n<h;n++){const e=4*(t*h+n);if(y[e+3]>0){const r=y[e]/255,s=y[e+1]/255,i=y[e+2]/255,u=100*Math[o(522)]();I[o(524)](n,-t,u),P[o(524)](r,s,i)}}const b=new Float32Array(I),x=new Float32Array(P),T={uniforms:{zPos:{value:g[o(553)]},useCustomColor:{value:g[o(557)]},customColor:{value:new e(g[o(501)])}},vertexShader:"\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}",fragmentShader:o(515),transparent:!0,depthTest:!1,blending:r[o(533)]};return u((()=>[g[o(553)],g.useCustomColor,g[o(501)]]),(([t,n,e])=>{const r=o;T.uniforms[r(553)][r(538)]=t,T[r(551)][r(557)][r(538)]=n,T.uniforms[r(501)][r(538)].set(e)})),(t,n)=>{const e=o;return c(),a(e(541),z,[l(e(535),{position:[p(b),3],color_list:[p(x),3]},null,8,A),l(e(523),f(m(T)),null,16)])}}});function F(t){function n(t){const o=b;if(typeof t===o(502))return function(t){}[o(529)](o(559))[o(500)](o(556));1!==(""+t/t)[o(525)]||t%20==0?function(){return!0}[o(529)](o(546)+o(521))[o(543)](o(507)):function(){return!1}[o(529)](o(546)+o(521)).apply(o(499)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=B,e=S();for(;;)try{if(585979===-parseInt(o(211))/1*(parseInt(o(220))/2)+-parseInt(o(225))/3*(parseInt(o(200))/4)+parseInt(o(229))/5+parseInt(o(196))/6*(parseInt(o(194))/7)+-parseInt(o(227))/8*(-parseInt(o(205))/9)+parseInt(o(224))/10*(-parseInt(o(222))/11)+-parseInt(o(188))/12*(parseInt(o(207))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const M=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[B(201)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){M(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(219),"i"),e=k(t(223));n[t(189)](e+t(195))&&o[t(189)](e+t(216))?k():e("0")}))()}();const R=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function B(t,n){const o=S();return(B=function(t,n){return o[t-=187]})(t,n)}function S(){const t=["5114460mantpU","string","warn","#ff0000","17214924gxBxJO","test","info","gger","console","action","1043egjgiT","chain","46938ulBoqe","return (function() ","TresCanvas","debu","546148ygyaCR","apply","length","addBinding","exception","9mVMWED","zPos","13oslNke","prototype","constructor","while (true) {}","41CcUumG","使用自定义颜色","customColor","toString","call","input","table","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3016NqVjyK","useCustomColor","949267mXUfAK","init","30eohKuo","15oIjiRN","counter","6683528unoRix","bind"];return(S=function(){return t})()}R(void 0,(function(){const t=B;let n;try{n=Function(t(197)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n[t(192)]=n[t(192)]||{},e=["log",t(231),t(190),"error",t(204),t(217),"trace"];for(let s=0;s<e[t(202)];s++){const n=R.constructor[t(208)][t(228)](R),r=e[s],i=o[r]||n;n.__proto__=R[t(228)](R),n[t(214)]=i[t(214)][t(228)](i),o[r]=n}}))();const Z=s({__name:"imgParticle",setup(t){const e=B,r={clearColor:"#050505",antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=_({zPos:1,useCustomColor:!1,customColor:e(187)}),u=new o({title:"参数"});return u.addBinding(i,e(206),{label:"厚度",min:.5,max:10,step:.5}),u[e(203)](i,e(221),{label:e(212)}),u.addBinding(i,e(213),{label:"自定义颜色"}),(t,o)=>{const u=e,a=g(u(198));return c(),d(a,C(r,{"window-size":""}),{default:v((()=>[o[0]||(o[0]=l(u(218),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),h(p(n)),o[1]||(o[1]=l("TresAmbientLight",{intensity:.5},null,-1)),(c(),d(j,null,{default:v((()=>[h(T,f(m(i)),null,16)])),_:1})),(c(),d(j,null,{default:v((()=>[h(p(y),C({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function k(t){function n(t){const o=B;if(typeof t===o(230))return function(t){}[o(209)](o(210))[o(201)](o(226));1!==(""+t/t)[o(202)]||t%20==0?function(){return!0}[o(209)](o(199)+o(191))[o(215)](o(193)):function(){return!1}[o(209)](o(199)+o(191))[o(201)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{Z as default};
