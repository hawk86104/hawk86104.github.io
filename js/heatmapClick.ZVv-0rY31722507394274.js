import{a as t,d as n}from"./@tresjs.bNNpPzYW1722507394274.js";import{P as e}from"./tweakpane.BCjFYDHx1722507394274.js";import{a6 as o,ab as r,ac as a}from"./three.Brogx0uK1722507394274.js";import{_ as s}from"./heatmap.js-fix.Cmd_wAOd1722507394274.js";import{d as i,a4 as c,a1 as u,o as l,D as p,u as f,r as d,e as h,f as m,g,j as y,al as v,aj as b,ak as w,m as x,J as _}from"./@vue.CFXy4cc91722507394274.js";import"./@vueuse.CY5GWLAn1722507394274.js";import"./@amap.B-BVafMU1722507394274.js";const I=S;!function(t,n){const e=S,o=z();for(;;)try{if(113071===-parseInt(e(308))/1+parseInt(e(324))/2+parseInt(e(371))/3+-parseInt(e(359))/4*(-parseInt(e(338))/5)+-parseInt(e(305))/6+-parseInt(e(369))/7*(-parseInt(e(361))/8)+-parseInt(e(311))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(309)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(333),"i"),o=A("init");n.test(o+t(364))&&e[t(345)](o+t(353))?A():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(372)+t(328)+");")()}catch(e){n=window}return n}(),e=n[t(335)]=n[t(335)]||{},o=[t(315),t(341),t(344),"error",t(375),t(373),t(380)];for(let r=0;r<o.length;r++){const n=C[t(377)].prototype[t(366)](C),a=o[r],s=e[a]||n;n.__proto__=C[t(366)](C),n[t(332)]=s[t(332)].bind(s),e[a]=n}}))();const k=[I(340)];function S(t,n){const e=z();return(S=function(t,n){return e[t-=301]})(t,n)}function z(){const t=["push","setScalar","length","input","attributes","gger","set","setDataMax","count","108sBFWBk","setAttribute","203408PLQmAy","border","geometry","chain","1px solid #5384ff","bind","mesh_0","layerY","42eePvfF","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","58431BGDTeI","return (function() ","table","DoubleSide","exception","_renderer","constructor","deleteAttribute","body","trace","primitive","create","string","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","radius","119904yyurUk","material","heatmap-canvas","173656aVQYyR","apply","block","748629PbtnJI","canvas","top","scale","log","while (true) {}","stateObject","0.8","getZ","BufferAttribute","Texture","debu","layerX","221500MOlGam","none","action","./draco/",'{}.constructor("return this")( )',"getX","heatmapClickCom","ShaderMaterial","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","createElement","console","left","call","19835zXKeHY","boundingBox","object","warn","computeBoundingBox","position","info","test","addData","display","style","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t"];return(z=function(){return t})()}const B=i({__name:I(330),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t(e(370),{draco:!0,decoderPath:e(327)}))),r=await r,a(),r);d.mesh_0.position[e(356)](-5088.96,-3.08,39374.7),d.mesh_0[e(314)][e(351)](.01);let h=null,m=null,g=null;m=new(o[e(321)])((()=>{const t=e;return g=document[t(334)](t(307)),g[t(348)].position="absolute",g[t(348)][t(313)]="40px",g[t(348)][t(336)]="0",document[t(379)].appendChild(g),h=s[t(301)]({container:g,width:256,height:256,blur:t(318),radius:i[t(304)]}),h[t(376)].canvas[t(348)][t(362)]=t(365),h[t(376)][t(312)].onclick=function(n){const e=t;h[e(346)]({x:n[e(323)],y:n[e(368)],value:1,radius:i.radius}),h[e(357)](1),m&&(m.needsUpdate=!0)},h})()[e(376)][e(312)]);const y={vertexShader:e(349),fragmentShader:e(303),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(374)]},v=new(o[e(331)])(y);d[e(367)][e(306)]=v;return(t=>{const n=e;t[n(342)]();const{max:r,min:a}=t[n(339)];t[n(378)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(354)][n(343)][n(358)];e++)c[n(350)]((t[n(354)][n(343)][n(329)](e)-a.x)/s),c.push((t[n(354)][n(343)][n(319)](e)-a.z)/i);const u=new Float32Array(c);t[n(360)]("uv",new(o[n(320)])(u,2))})(d[e(367)][e(363)]),u((()=>{const t=e;g[t(348)][t(347)]=""+(i.show2dCanvas?t(310):t(325))})),(t,n)=>{const o=e;return l(),p(o(381),{object:f(d).mesh_0},null,8,k)}}});function A(t){function n(t){const e=S;if(typeof t===e(302))return function(t){}.constructor(e(316))[e(309)]("counter");1!==(""+t/t)[e(352)]||t%20==0?function(){return!0}[e(377)](e(322)+e(355))[e(337)](e(326)):function(){return!1}.constructor(e(322)+e(355))[e(309)](e(317)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const M=U;!function(t,n){const e=U,o=R();for(;;)try{if(398802===-parseInt(e(261))/1+parseInt(e(241))/2+parseInt(e(247))/3+-parseInt(e(282))/4*(parseInt(e(270))/5)+-parseInt(e(265))/6+parseInt(e(254))/7*(parseInt(e(245))/8)+-parseInt(e(246))/9*(-parseInt(e(248))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(272)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=U,n=new RegExp(t(267)),e=new RegExp(t(251),"i"),o=O("init");n[t(274)](o+t(278))&&e[t(274)](o+t(279))?O():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(272)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=U;let n;try{n=Function(t(262)+t(252)+");")()}catch(r){n=window}const e=n[t(277)]=n[t(277)]||{},o=[t(266),t(258),"info","error",t(269),t(268),t(256)];for(let a=0;a<o[t(242)];a++){const n=D[t(240)][t(244)][t(275)](D),r=o[a],s=e[r]||n;n[t(271)]=D[t(275)](D),n[t(281)]=s[t(281)][t(275)](s),e[r]=n}}))();const F=_(M(273),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),P=_(M(243),{position:[5,10,7.5],color:M(255),intensity:5},null,-1),J=_(M(263),{args:[50,25]},null,-1);function R(){const t=["gger","console","chain","input","radius","toString","4PprhhW","constructor","1456326cHENfk","length","TresDirectionalLight","prototype","9104QlrTWz","89793Cqgqem","810645lNmFSg","710ISrUsJ","点击左侧蓝色画框","addBinding","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"string","3269klJJJf","#ffffff","trace","TresCanvas","warn","debu","heatmapClick","471175iZQgHw","return (function() ","TresGridHelper","while (true) {}","3603750FILCHu","log","function *\\( *\\)","table","exception","3837945mYGVaJ","__proto__","apply","TresPerspectiveCamera","test","bind"];return(R=function(){return t})()}function U(t,n){const e=R();return(U=function(t,n){return e[t-=240]})(t,n)}const E=i({__name:M(260),setup(t){const o=M,s={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(250)](i,"show2dCanvas",{label:"显示二维图"}),c[o(250)](i,o(280),{label:"圆圈的大小",min:.1,max:30,step:.1}),c.addButton({title:o(249)}),(t,e)=>{const r=h(o(257));return l(),m(r,x(s,{"window-size":""}),{default:g((()=>[F,y(f(n),{autoRotate:!1,autoRotateSpeed:2}),P,J,(l(),m(v,null,{default:g((()=>[y(B,b(w(i)),null,16)])),_:1}))])),_:1},16)}}});function O(t){function n(t){const e=U;if(typeof t===e(253))return function(t){}[e(240)](e(264)).apply("counter");1!==(""+t/t)[e(242)]||t%20==0?function(){return!0}[e(240)]("debu"+e(276)).call("action"):function(){return!1}[e(240)](e(259)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{E as default};
