import{a as t,B as n,q as e,b_ as o,C as r,j as s,Z as i}from"./three.p-9BQwc31724983368286.js";import{x as c}from"./@fesjs.Gs8eM-sM1724983368286.js";import{N as a}from"./@tresjs.OrqGCbtj1724983368286.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.4G0P0Enb1724983368286.js";!function(t,n){const e=b,o=m();for(;;)try{if(483250===parseInt(e(381))/1+-parseInt(e(329))/2+-parseInt(e(334))/3+parseInt(e(376))/4*(parseInt(e(321))/5)+-parseInt(e(354))/6+-parseInt(e(331))/7+parseInt(e(367))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(341)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(330),"i"),o=_(t(366));n.test(o+t(326))&&e[t(340)](o+t(347))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(341)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["divideScalar","getX","counter","Box3","center","while (true) {}","setFromObject","__proto__","getY","get","init","11401216cHeFIV","expandByObject","warn","debu","material","depthTest","children","count","exception","22748slVBsE","uniforms","value","toString","console","122625VwQMXp","catch","length","raycast","log","position","side","stateObject",'{}.constructor("return this")( )',"#fff","transparent","setY","trace","computeBoundingBox","error","call","reflectivity","605FwXXYV","forEach","negate","deleteAttribute","config","chain","setAttribute","sub","176910VIeqWR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1533462HoSDiL","applyMatrix4","bind","1826673ggZkBH","min","attributes","return (function() ","table","max","test","apply","geometry","computeBoundsTree","add","getCenter","gger","input","Vector3","copy","push","constructor","prototype","boundingBox","5017452CpNWGf","then"];return(m=function(){return t})()}g(void 0,(function(){const t=b;let n;try{n=Function(t(337)+t(389)+");")()}catch(r){n=window}const e=n.console=n[t(380)]||{},o=[t(385),t(369),"info",t(318),t(375),t(338),t(393)];for(let s=0;s<o[t(383)];s++){const n=g[t(351)][t(352)].bind(g),r=o[s],i=e[r]||n;n[t(363)]=g.bind(g),n[t(379)]=i[t(379)][t(333)](i),e[r]=n}}))();const h=(n,e=!1)=>{const o=b;n[o(317)]();const{max:r,min:s}=n[o(353)];n[o(324)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(336)].position[o(374)];t++)e?(a[o(350)]((n.attributes.position[o(357)](t)-(s.x+r.x)/2)/i),a[o(350)]((n[o(336)][o(386)].getY(t)-(s.y+r.y)/2)/c)):(a[o(350)]((n[o(336)][o(386)][o(357)](t)-s.x)/i),a[o(350)]((n[o(336)][o(386)][o(364)](t)-s.y)/c));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=b;c(t,{},{method:r(365),mergeRequest:!0})[r(355)]((t=>{n&&e(t[n]),e(t.features)}))[r(382)]((t=>{console.error(t),o(t)}))})),w=t=>{const n=b,e=(new(THREE[n(359)]))[n(362)](t),o=new(THREE[n(348)]);e[n(345)](o),t[n(373)][n(322)]((t=>{const e=n;t.position[e(328)](o)})),t[n(386)][n(349)](o[n(323)]())},y=()=>{const t=b;n[t(352)][t(343)]=u,n[t(352)].disposeBoundsTree=f,e[t(352)][t(384)]=p},x=async t=>{const n=b,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t.geometry.clone();h(c),c[n(343)]();const u=new o(c,{color:new r(n(390)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(371)][n(391)]=!0,u[n(371)].depthWrite=!0,u[n(371)][n(372)]=!0,u[n(371)][n(387)]=i,u[n(371)][n(377)][n(325)].value.w=20,u.material[n(377)][n(320)][n(378)]=.46,u};function b(t,n){const e=m();return(b=function(t,n){return e[t-=317]})(t,n)}function j(t){const n=b,e=[];for(let r=0;r<t[n(383)];r++)e[n(350)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(383)];r++)o[n(344)](e[r]);o[n(356)](e[n(383)]);for(let r=0;r<e[n(383)];r++)e[r][n(328)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=b;if("string"==typeof t)return function(t){}[e(351)](e(361))[e(341)](e(358));1!==(""+t/t)[e(383)]||t%20==0?function(){return!0}[e(351)](e(370)+e(346))[e(319)]("action"):function(){return!1}[e(351)]("debu"+e(346))[e(341)](e(388)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,y as i,d as l,h as r,x as s};
