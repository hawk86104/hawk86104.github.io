import{_ as t,bQ as n,a3 as o,C as r}from"./three.-uH5I3Xp1735517803200.js";import{b as e}from"./@tresjs.0qL_P2CE1735517803200.js";import{d as a,b as s,a6 as c,w as i,o as u,D as f,J as l,aj as p,ak as h}from"./@vue.-THQH3GC1735517803200.js";!function(t,n){const o=v,r=g();for(;;)try{if(851070===-parseInt(o(514))/1*(-parseInt(o(476))/2)+-parseInt(o(517))/3*(parseInt(o(520))/4)+parseInt(o(510))/5*(parseInt(o(480))/6)+-parseInt(o(508))/7+-parseInt(o(494))/8*(parseInt(o(503))/9)+parseInt(o(500))/10+parseInt(o(511))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(519)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(){const t=["\n          ","constructor","\n      \t","project_vertex","debu","table","exception","bind","gger","ShaderChunk","5842488DYSnAQ","lights_pars_begin","string","call","prototype","worldpos_vertex","7515380tITyrW","length","console","9UadAXV","\n       varying vec2 vUv;\n\t\t\t \t","test","info","log","8880564HKPlkF","defaultnormal_vertex","96010dbxRUx","18039109ZPrxgM","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","5126FQSSpe","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","450264vXqNck",'{}.constructor("return this")( )',"apply","44kXzRpr","begin_vertex","toString","stateObject","\n\t ","chain","error","function *\\( *\\)","packing","426ETZmaO","return (function() ","bsdfs","warn","318VeDzXY","beginnormal_vertex","common","counter"];return(g=function(){return t})()}!function(){d(this,(function(){const t=v,n=new RegExp(t(474)),o=new RegExp(t(516),"i"),r=x("init");n[t(505)](r+t(472))&&o[t(505)](r+"input")?x():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(519)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(t,n){const o=g();return(v=function(t,n){return o[t-=471]})(t,n)}m(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(477)+t(518)+");")()}catch(o){n=window}return n}(),o=n[t(502)]=n[t(502)]||{},r=[t(507),t(479),t(506),t(473),t(490),t(489),"trace"];for(let e=0;e<r[t(501)];e++){const n=m[t(485)][t(498)][t(491)](m),a=r[e],s=o[a]||n;n.__proto__=m.bind(m),n.toString=s[t(522)][t(491)](s),o[a]=n}}))();const w=()=>{const o=v;return o(504)+t[o(493)][o(482)]+o(486)+t[o(493)][o(478)]+"\n      \t"+n.shadowmap_pars_vertex+"\n       void main() {\n\t\t\t\t\t"+t[o(493)][o(481)]+o(484)+t[o(493)][o(509)]+o(484)+t[o(493)][o(521)]+o(484)+t[o(493)][o(487)]+o(484)+t[o(493)][o(499)]+o(484)+n.shadowmap_vertex+o(512)},_=()=>{const o=v;return o(513)+t[o(493)][o(482)]+"\n\t "+t[o(493)][o(475)]+"\n\t "+t[o(493)][o(478)]+o(471)+t[o(493)][o(495)]+o(471)+n.shadowmap_pars_fragment+o(471)+n.shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function x(t){function n(t){const o=v;if(typeof t===o(496))return function(t){}[o(485)](o(515))[o(519)](o(483));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+o(492))[o(497)]("action"):function(){return!1}[o(485)](o(488)+o(492))[o(519)](o(523)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=S;!function(t,n){const o=S,r=k();for(;;)try{if(819061===parseInt(o(182))/1*(parseInt(o(146))/2)+-parseInt(o(158))/3*(-parseInt(o(175))/4)+-parseInt(o(159))/5*(-parseInt(o(172))/6)+-parseInt(o(147))/7*(-parseInt(o(194))/8)+-parseInt(o(143))/9*(-parseInt(o(183))/10)+parseInt(o(174))/11+-parseInt(o(136))/12)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=S,n=new RegExp(t(176)),o=new RegExp(t(148),"i"),r=E(t(137));n.test(r+"chain")&&o[t(170)](r+t(154))?E():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(t,n){const o=k();return(S=function(t,n){return o[t-=136]})(t,n)}y(void 0,(function(){const t=S;let n;try{n=Function(t(167)+t(189)+");")()}catch(e){n=window}const o=n.console=n[t(168)]||{},r=[t(177),t(157),"info",t(171),t(150),t(178),t(145)];for(let a=0;a<r[t(166)];a++){const n=y[t(161)][t(191)][t(180)](y),e=r[a],s=o[e]||n;n[t(195)]=y[t(180)](y),n[t(152)]=s[t(152)][t(180)](s),o[e]=n}}))();const C=[b(188)],T=["args"];function k(){const t=['{}.constructor("return this")( )',"gger","prototype","uShadowColor","Color","480omnlfy","__proto__","edge","60369120qbEdNn","init","string","DoubleSide","shadowColor","wrapT","#990","45JmfpJv","debu","trace","20kQXLiw","112910OcFjgv","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","lights","exception","merge","toString","UniformsLib","input","value","uColor","warn","366NBnLPK","1127790QTWpbV","counter","constructor","while (true) {}","wrapS","stateObject","TresMesh","length","return (function() ","console","UniformsUtils","test","error","30lCQIMT","TresShaderMaterial","14142370OLzDxl","22552vclAxq","function *\\( *\\)","log","table","apply","bind","whiteFloorMesh","50759EZclrO","2546270KrVPul","tmRef","action","color","fEdge","rotation-x"];return(k=function(){return t})()}const j=a({__name:b(181),props:{size:{default:[20,20]},color:{default:b(142)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const a=b;let d,g;const m=n,v=s(),{map:x}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(163)]=x[a(141)]=o;const I={uniforms:t[a(169)][a(151)]([t[a(153)][a(149)],{uTexture:{type:"t",value:x},uColor:{value:new r(m[a(186)])},uShadowColor:{value:new r(m.shadowColor)},fEdge:{type:"f",value:m[a(196)]}}]),side:t[a(139)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>m.edge),(t=>{const n=a;I.uniforms[n(187)].value=t})),i((()=>m[a(186)]),(n=>{const o=a;I.uniforms[o(156)][o(155)]=new(t[o(193)])(m.color)})),i((()=>m[a(140)]),(n=>{const o=a;I.uniforms[o(192)][o(155)]=new(t[o(193)])(m[o(140)])})),(t,n)=>{const o=a;return u(),f(o(165),{ref_key:o(184),ref:v,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:m.size},null,8,T),l(o(173),p(h(I)),null,16)],8,C)}}});function E(t){function n(t){const o=S;if(typeof t===o(138))return function(t){}[o(161)](o(162))[o(179)](o(160));1!==(""+t/t)[o(166)]||t%20==0?function(){return!0}[o(161)](o(144)+o(190)).call(o(185)):function(){return!1}[o(161)](o(144)+o(190))[o(179)](o(164)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
