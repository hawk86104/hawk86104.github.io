import{a as t,U as n}from"./@tresjs.AACxYGk_1736406294003.js";import{P as e}from"./tweakpane.yHWGBmom1736406294003.js";import{_ as o,ak as r,al as a}from"./three.jaHX2_hY1736406294003.js";import{_ as s}from"./heatmap.js-fix.PFksQZvT1736406294003.js";import{d as i,a4 as u,a1 as c,o as l,D as p,u as f,r as d,e as h,f as m,g,J as y,j as v,al as b,aj as w,ak as x,m as _}from"./@vue.yG49nQHr1736406294003.js";import"./@vueuse.d_orRt1V1736406294003.js";import"./@amap.wPPLvrz51736406294003.js";!function(t,n){const e=z,o=C();for(;;)try{if(525214===-parseInt(e(227))/1+parseInt(e(219))/2*(parseInt(e(183))/3)+parseInt(e(190))/4+parseInt(e(179))/5+parseInt(e(230))/6+-parseInt(e(163))/7+-parseInt(e(162))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(220)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(233),"i"),o=S(t(177));n[t(218)](o+t(225))&&e[t(218)](o+t(170))?S():o("0")}))()}();const I=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(220)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["3777879pxoibc","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","body","debu","DoubleSide","getZ","Texture","input","__proto__","gger","appendChild","while (true) {}","onclick","needsUpdate","init","border","1810610qpPHRJ","warn","position","trace","3YTJNEA","set","top","stateObject","primitive","bind","error","2571336AWNhQP","heatmap-canvas","computeBoundingBox","return (function() ","push","geometry","absolute","createElement","console","info","table","0.8","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","string","constructor","style","radius","deleteAttribute","layerY","canvas","mesh_0","_renderer","attributes","counter","layerX","log","scale","test","2076974rxtimj","apply","BufferAttribute","count","40px","getX","chain","material","849383iufNNT","addData",'{}.constructor("return this")( )',"5316534uqbwoM","ShaderMaterial","setDataMax","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","create","8121904tmgwLY"];return(C=function(){return t})()}I(void 0,(function(){const t=z;let n;try{n=Function(t(193)+t(229)+");")()}catch(r){n=window}const e=n[t(198)]=n.console||{},o=[t(216),t(180),t(199),t(189),"exception",t(200),t(182)];for(let a=0;a<o.length;a++){const n=I.constructor.prototype[t(188)](I),r=o[a],s=e[r]||n;n[t(171)]=I[t(188)](I),n.toString=s.toString[t(188)](s),e[r]=n}}))();const k=["object"];function z(t,n){const e=C();return(z=function(t,n){return e[t-=161]})(t,n)}const A=i({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=z;let r,a;const i=n,{nodes:d}=([r,a]=u((()=>t(e(164),{draco:!0,decoderPath:"./draco/"}))),r=await r,a(),r);d[e(211)].position[e(184)](-5088.96,-3.08,39374.7),d.mesh_0[e(217)].setScalar(.01);let h=null,m=null,g=null;m=new(o[e(169)])((()=>{const t=e;return g=document[t(197)](t(191)),g[t(206)][t(181)]=t(196),g[t(206)][t(185)]=t(223),g.style.left="0",document[t(165)][t(173)](g),h=s[t(161)]({container:g,width:256,height:256,blur:t(201),radius:i[t(207)]}),h[t(212)][t(210)].style[t(178)]="1px solid #5384ff",h[t(212)][t(210)][t(175)]=function(n){const e=t;h[e(228)]({x:n[e(215)],y:n[e(209)],value:1,radius:i.radius}),h[e(232)](1),m&&(m[e(176)]=!0)},h})()[e(212)][e(210)]);const y={vertexShader:e(202),fragmentShader:e(203),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(167)]},v=new(o[e(231)])(y);d[e(211)][e(226)]=v;return(t=>{const n=e;t[n(192)]();const{max:r,min:a}=t.boundingBox;t[n(208)]("uv");const s=r.x-a.x,i=r.z-a.z,u=[];for(let e=0;e<t[n(213)][n(181)][n(222)];e++)u[n(194)]((t[n(213)][n(181)][n(224)](e)-a.x)/s),u.push((t[n(213)][n(181)][n(168)](e)-a.z)/i);const c=new Float32Array(u);t.setAttribute("uv",new(o[n(221)])(c,2))})(d[e(211)][e(195)]),c((()=>{g.style.display=i.show2dCanvas?"block":"none"})),(t,n)=>{const o=e;return l(),p(o(187),{object:f(d)[o(211)]},null,8,k)}}});function S(t){function n(t){const e=z;if(typeof t===e(204))return function(t){}[e(205)](e(174))[e(220)](e(214));1!==(""+t/t).length||t%20==0?function(){return!0}[e(205)]("debugger").call("action"):function(){return!1}[e(205)](e(166)+e(172)).apply(e(186)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=R,o=M();for(;;)try{if(954749===-parseInt(e(411))/1*(-parseInt(e(420))/2)+-parseInt(e(435))/3+parseInt(e(437))/4+parseInt(e(454))/5*(parseInt(e(408))/6)+parseInt(e(451))/7+-parseInt(e(444))/8*(-parseInt(e(439))/9)+-parseInt(e(434))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(417)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=R,n=new RegExp(t(414)),e=new RegExp(t(450),"i"),o=E("init");n.test(o+t(424))&&e[t(426)](o+t(431))?E():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(417)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["20205890jzearN","2749092yuKqqb",'{}.constructor("return this")( )',"2620784DmCmyU","圆圈的大小","3573VJHEtz","info","点击左侧蓝色画框","TresDirectionalLight","radius","1384KTgahy","log","debu","__proto__","addButton","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","10052007msVYLZ","TresGridHelper","addBinding","17385OkReyX","678DrsLLu","return (function() ","length","1mOkhFh","gger","action","function *\\( *\\)","exception","bind","apply","constructor","TresCanvas","2677846CPsZvI","while (true) {}","toString","table","chain","prototype","test","string","console","show2dCanvas","warn","input","stateObject","error"];return(M=function(){return t})()}function R(t,n){const e=M();return(R=function(t,n){return e[t-=408]})(t,n)}D(void 0,(function(){const t=R;let n;try{n=Function(t(409)+t(436)+");")()}catch(r){n=window}const e=n.console=n[t(428)]||{},o=[t(445),t(430),t(440),t(433),t(415),t(423),"trace"];for(let a=0;a<o[t(410)];a++){const n=D[t(418)][t(425)][t(416)](D),r=o[a],s=e[r]||n;n[t(447)]=D[t(416)](D),n[t(422)]=s[t(422)][t(416)](s),e[r]=n}}))();const B=i({__name:"heatmapClick",setup(t){const o=R,s={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(453)](i,o(429),{label:"显示二维图"}),u[o(453)](i,o(443),{label:o(438),min:.1,max:30,step:.1}),u[o(448)]({title:o(441)}),(t,e)=>{const r=o,a=h(r(419));return l(),m(a,_(s,{"window-size":""}),{default:g((()=>[e[0]||(e[0]=y(r(449),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),v(f(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(r(442),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=y(r(452),{args:[50,25]},null,-1)),(l(),m(b,null,{default:g((()=>[v(A,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=R;if(typeof t===e(427))return function(t){}.constructor(e(421))[e(417)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(412)).call(e(413)):function(){return!1}[e(418)](e(446)+e(412))[e(417)](e(432)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{B as default};
