import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.vA_UT8oy1734746792122.js";import{_ as s}from"./index.gnvvWyLh1734746792122.js";import{_ as i,a as c,k as u,V as a,B as l,s as f,cz as p}from"./three.1FILWcBb1734746792122.js";import{P as m}from"./tweakpane.yHWGBmom1734746792122.js";import{I as g,C as h,N as d,c as y,d as w,a as j}from"./three-mesh-bvh.VBrofT861734746792122.js";import{d as b,a6 as I,b as v,a3 as _,o as x,D as R,J as M,u as T,F as A,r as S,e as C,j as Z,g as z,m as B,f as F,al as k}from"./@vue.-THQH3GC1734746792122.js";import"./@vueuse.lqJslAkC1734746792122.js";import"./index.M8qiqb6l1734746792122.js";import"./@fesjs.Y0rSBxCv1734746792122.js";import"./vue-router.PPpNBBl21734746792122.js";import"./lodash-es.kYt-_xTG1734746792122.js";import"./@qlin.yHhFDldE1734746792122.js";import"./pinia.fA-Uqav61734746792122.js";import"./vue-demi.C4xddsk91734746792122.js";import"./@floating-ui.BPbuo5Gx1734746792122.js";import"./@juggle.7yjBMqoW1734746792122.js";import"./chalk.sAH7iSuz1734746792122.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1734746792122.js";import"./@iconify.3mYF4lU71734746792122.js";import"./dompurify.rQUea5mq1734746792122.js";import"./utils.sTIt-GO11734746792122.js";import"./default.vue_vue_type_script_setup_true_lang.AAbwPDBh1734746792122.js";import"./three-mesh-ui.module.SDX_17dj1734746792122.js";!function(t,n){const e=X,r=O();for(;;)try{if(729751===-parseInt(e(273))/1+parseInt(e(257))/2+-parseInt(e(255))/3*(-parseInt(e(286))/4)+-parseInt(e(276))/5*(parseInt(e(261))/6)+-parseInt(e(289))/7+-parseInt(e(285))/8+parseInt(e(280))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(287)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(){const t=["action","console","while (true) {}","gger","bind","stateObject","info","pointerup","return (function() ","clientY","innerHeight","test","__proto__","init","intersectObject","45AeufRI","string","2073488sUiEGa","setFromCamera","enabled","error","24JcLRlv","trace","pointerdown","table","function *\\( *\\)","pointerType","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","prototype","constructor","chain","644398DMoSbn","Raycaster","firstHitOnly","1607065PmQcph","debu","length","counter","19003356ZwfyFO","toString","innerWidth","clientX","call","3522144lXwirU","136636NlrZhS","apply","addEventListener","3923808rUBDtf","exception"];return(O=function(){return t})()}!function(){E(this,(function(){const t=X,n=new RegExp(t(265)),e=new RegExp(t(268),"i"),r=G(t(253));n[t(251)](r+t(272))&&e[t(251)](r+t(267))?G():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(287)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(248)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(292)]=n.console||{},r=["log","warn",t(246),t(260),t(290),t(264),t(262)];for(let o=0;o<r.length;o++){const n=U.constructor[t(270)][t(244)](U),s=r[o],i=e[s]||n;n[t(252)]=U[t(244)](U),n[t(281)]=i.toString.bind(i),e[s]=n}}))();function X(t,n){const e=O();return(X=function(t,n){return e[t-=243]})(t,n)}function G(t){function n(t){const e=X;if(typeof t===e(256))return function(t){}[e(271)](e(293))[e(287)](e(279));1!==(""+t/t)[e(278)]||t%20==0?function(){return!0}[e(271)](e(277)+e(243))[e(284)](e(291)):function(){return!1}.constructor("debu"+e(243))[e(287)](e(245)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=N;!function(t,n){const e=N,r=P();for(;;)try{if(308219===parseInt(e(460))/1+-parseInt(e(480))/2+parseInt(e(489))/3+parseInt(e(525))/4+parseInt(e(493))/5*(-parseInt(e(479))/6)+parseInt(e(519))/7*(-parseInt(e(487))/8)+-parseInt(e(512))/9*(parseInt(e(516))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(475)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){const t=N,n=new RegExp(t(492)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=$(t(518));n[t(465)](r+t(466))&&e[t(465)](r+t(462))?$():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(475)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(){const t=["fill","point","shapecast","radius",'{}.constructor("return this")( )',"intersectObject","material","addButton","instance","model","action","center","setFromCamera","exception","while (true) {}","bind","19997pxvNMF","active","input","TresMeshStandardMaterial","prototype","test","chain","string","getX","push","toString","BufferAttribute","controls","DynamicDrawUsage","matrixWorld","apply","getY","normal","__proto__","30laJsCB","553280QUvVuO","invert","setAttribute","scale","BufferGeometry","length","brushMesh","296272IzJRLT","Sphere","1657833fVXrXg","info","点击按钮","function *\\( *\\)","225065RUCfTu","position","trace","count","setScalar","value","TresMesh","console","debu","firstHitOnly","return (function() ","needsUpdate","attributes","enabled","copy","computeBoundsTree","Matrix4","MeshStandardMaterial","index","9SICKpZ","setY","error","call","2236050jmoyqR","containsPoint","init","28LFGffG","constructor","targetMesh.value init","raycast","geometry","boundsTree","2436228jGyFWI","log","stateObject","click","getZ","visible","set"];return(P=function(){return t})()}J(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function(t(503)+t(536)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(500)]||{},r=[t(526),"warn",t(490),t(514),t(457),"table",t(495)];for(let o=0;o<r[t(485)];o++){const n=J[t(520)][t(464)][t(459)](J),s=r[o],i=e[s]||n;n[t(478)]=J.bind(J),n[t(470)]=i[t(470)][t(459)](i),e[s]=n}}))();const D=[Y(523),Y(538)],L=["geometry"];function N(t,n){const e=P();return(N=function(t,n){return e[t-=456]})(t,n)}const W=b({__name:Y(541),props:{controls:{}},async setup(r){const o=Y;let s,b;const S=r;(()=>{const t=N;i[t(484)][t(464)][t(508)]=y,i[t(484)][t(464)].disposeBoundsTree=w,f[t(464)][t(522)]=j})();const C=([s,b]=I((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,b(),s),Z=new(i[o(510)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),z=new Uint8Array(3*C[o(505)][o(494)][o(496)]);z[o(532)](255);const B=new c(z,3,!0);B.setUsage(i[o(473)]),C.setAttribute("color",B);const F=v(null),k=v(null),E=v(!1),O=v(-1),U=v(.2),G=new u,{camera:q,raycaster:J}=t(),P=15/255,W=78/255,$=85/255;let Q=null;_((()=>{const t=o;F.value&&(console[t(526)](t(521),F[t(498)]),F[t(498)][t(523)][t(508)](),Q=C[t(524)],((t,n,e,r,o,s)=>{const c=X;window[c(288)]("pointermove",(e=>{const r=c;t.x=e[r(283)]/window[r(282)]*2-1,t.y=-e.clientY/window[r(250)]*2+1,n[r(269)]=!0})),window[c(288)](c(263),(u=>{const a=c;t.x=u[a(283)]/window.innerWidth*2-1,t.y=-u[a(249)]/window[a(250)]*2+1,r[a(269)]=u.button;const l=new(i[a(274)]);l[a(258)](t,e[a(269)]),l[a(275)]=!0;const f=l[a(254)](o[a(269)],!0);n[a(269)]=!0,s[a(259)]=0===f[a(278)]}),!0),window[c(288)](c(247),(t=>{const e=c;r[e(269)]=-1,"touch"===t[e(266)]&&(n.value=!1)}),!0)})(G,E,q,O,F,S[t(472)][t(540)]))}));const{onLoop:H}=n();H((()=>{const t=o,n=C[t(511)];if(k[t(498)])if(S[t(472)][t(540)][t(461)]||!E.value)k.value[t(530)]=!1;else{k[t(498)][t(483)][t(497)](U[t(498)]),J[t(498)][t(456)](G,q[t(498)]),J[t(498)][t(502)]=!0;const e=J[t(498)][t(537)](F[t(498)],!0);if(e[t(485)]){k[t(498)].position[t(507)](e[0][t(533)]),S[t(472)][t(540)][t(506)]=!1,k[t(498)][t(530)]=!0;const r=new(i[t(509)]);r[t(507)](F[t(498)][t(474)])[t(481)]();const o=new(i[t(488)]);o[t(543)][t(507)](k[t(498)][t(494)]).applyMatrix4(r),o[t(535)]=100*U[t(498)];const s=[],c=new a;if(null==Q||Q[t(534)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(531)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(517)](c))return g;return h}return r?g:d},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(469)](t,t+1,t+2)}return!1}}),0===O[t(498)]||2===O[t(498)]){let e=1,r=1,o=1;0===O[t(498)]&&(e=P,r=W,o=$);for(let i=0,c=s[t(485)];i<c;i++){const c=n.getX(s[i]);B.setX(c,e),B[t(513)](c,r),B.setZ(c,o)}B[t(504)]=!0}}else k[t(498)].visible=!1,S[t(472)].instance[t(506)]=!0}}));const K=(new m)[o(539)]({title:o(491),label:"生成模型"}),V=new l;return K.on(o(528),(()=>{const t=o,n=[],e=[];for(let o=0;o<B[t(496)];o++)B[t(468)](o)===P&&B.getY(o)===W&&B.getZ(o)===$&&(n[t(469)](C[t(505)][t(494)][t(468)](o),C[t(505)][t(494)][t(476)](o),C[t(505)][t(494)][t(529)](o)),e.push(C[t(505)][t(477)][t(468)](o),C.attributes[t(477)].getY(o),C[t(505)].normal.getZ(o)));const r=new Float32Array(n);V[t(482)]("position",new c(r,3)),V[t(482)](t(477),new(i[t(471)])(r,3))})),(t,n)=>{const e=o;return x(),R(A,null,[M(e(499),{ref_key:"targetMesh",ref:F,geometry:T(C),scale:.005,material:T(Z)},null,8,D),M(e(499),{ref_key:e(486),ref:k,visible:!1},n[0]||(n[0]=[M("TresSphereGeometry",{args:[1,40,40]},null,-1),M(e(463),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),M(e(499),{geometry:T(V),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[M("TresMeshStandardMaterial",{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,L)],64)}}});function $(t){function n(t){const e=N;if(typeof t===e(467))return function(t){}[e(520)](e(458))[e(475)]("counter");1!==(""+t/t)[e(485)]||t%20==0?function(){return!0}[e(520)](e(501)+"gger")[e(515)](e(542)):function(){return!1}[e(520)](e(501)+"gger")[e(475)](e(527)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=tt;!function(t,n){const e=tt,r=V();for(;;)try{if(262966===parseInt(e(371))/1*(-parseInt(e(397))/2)+parseInt(e(361))/3+-parseInt(e(389))/4*(parseInt(e(355))/5)+parseInt(e(386))/6*(parseInt(e(362))/7)+-parseInt(e(373))/8*(parseInt(e(372))/9)+-parseInt(e(367))/10+parseInt(e(369))/11*(parseInt(e(388))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[tt(364)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){H(this,(function(){const t=tt,n=new RegExp(t(375)),e=new RegExp(t(395),"i"),r=et(t(394));n.test(r+t(366))&&e.test(r+t(379))?et():r("0")}))()}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[tt(364)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function V(){const t=["24ZIARPg","length","310956QcrETu","376036edbNJy",'{}.constructor("return this")( )',"console","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","TresPerspectiveCamera","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","13580uvnJqp","debu","table","collectTriangles","5ANfGPc","TresCanvas","constructor","counter","warn","controlsRef","394755EMEiWx","554890qYGiBK","gger","apply","toString","chain","5210290HRdGYB","bind","451wPnoCc","pos-y.jpg","73rrXFwK","36tWSQbX","274848YvMqFn","neg-y.jpg","function *\\( *\\)","while (true) {}","action","call","input","prototype","#999999","pos-z.jpg","neg-x.jpg","TresAmbientLight","value"];return(V=function(){return t})()}function tt(t,n){const e=V();return(tt=function(t,n){return e[t-=352]})(t,n)}K(void 0,(function(){const t=tt;let n;try{n=Function("return (function() "+t(390)+");")()}catch(o){n=window}const e=n.console=n[t(391)]||{},r=["log",t(359),"info","error","exception",t(353),"trace"];for(let s=0;s<r[t(387)];s++){const n=K[t(357)][t(380)][t(368)](K),o=r[s],i=e[o]||n;n.__proto__=K[t(368)](K),n[t(365)]=i[t(365)][t(368)](i),e[o]=n}}))();const nt=b({__name:Q(354),setup(t){const n=Q,e=S({clearColor:n(381),antialias:!0}),i=S({autoRotate:!1}),c=v(null);return(t,u)=>{const a=n,l=C(a(356));return x(),R(A,null,[Z(T(s)),Z(l,B(e,{"window-size":""}),{default:z((()=>[u[0]||(u[0]=M(a(393),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),Z(T(r),B({ref_key:a(360),ref:c},i),null,16),u[1]||(u[1]=M(a(384),{intensity:1},null,-1)),(x(),F(k,null,{default:z((()=>[Z(W,{controls:c[a(385)]},null,8,["controls"])])),_:1})),(x(),F(k,null,{default:z((()=>[Z(T(o),{background:!1,files:["pos-x.jpg",a(383),a(370),a(374),a(382),"neg-z.jpg"],path:a(392)})])),_:1}))])),_:1},16)],64)}}});function et(t){function n(t){const e=tt;if(typeof t===e(396))return function(t){}[e(357)](e(376))[e(364)](e(358));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(352)+e(363))[e(378)](e(377)):function(){return!1}[e(357)](e(352)+e(363))[e(364)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
