import{P as t}from"./tweakpane.yHWGBmom1724983368286.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.L60cQEOG1724983368286.js";import{_ as r}from"./heatmap.js-fix.gqU99bdd1724983368286.js";import{h as i,a6 as s,bW as c}from"./three.p-9BQwc31724983368286.js";import{r as u}from"./utils.oYA77zYe1724983368286.js";import{d as a}from"./pinia.TzFzuyxp1724983368286.js";import{b as p,d as f,a1 as l,o as h,D as d,J as m,u as g,F as y,q as v,U as b,N as w,P as I,H as _,L as j,a4 as x,r as E,j as S,g as M,m as D}from"./@vue.Q1VpS3901724983368286.js";import{c as R,d as k,a as z}from"./three-mesh-bvh.4G0P0Enb1724983368286.js";import{_ as T}from"./@fesjs.Gs8eM-sM1724983368286.js";import"./@tresjs.OrqGCbtj1724983368286.js";import"./@vueuse.n6I5WvfU1724983368286.js";import"./three-custom-shader-material.y6er40ya1724983368286.js";import"./object-hash.X2exW7z_1724983368286.js";import"./@amap.-Bisu7YL1724983368286.js";import"./jszip.VoLYwi951724983368286.js";import"./glsl-tokenizer.EVM27uTn1724983368286.js";import"./glsl-token-string.rzq7L3HM1724983368286.js";import"./glsl-token-functions.DersDqx01724983368286.js";import"./vue-router.Zdcy26aq1724983368286.js";import"./lodash-es.nFpJXAf-1724983368286.js";import"./@qlin.yHhFDldE1724983368286.js";import"./@floating-ui.BPbuo5Gx1724983368286.js";import"./@juggle.7yjBMqoW1724983368286.js";!function(t,n){const e=P,o=A();for(;;)try{if(395501===parseInt(e(315))/1+parseInt(e(318))/2+-parseInt(e(281))/3*(-parseInt(e(309))/4)+parseInt(e(285))/5*(parseInt(e(283))/6)+-parseInt(e(296))/7+-parseInt(e(288))/8*(-parseInt(e(305))/9)+-parseInt(e(290))/10*(parseInt(e(328))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(323)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=P,n=new RegExp(t(289)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=L(t(297));n.test(o+t(313))&&e[t(331)](o+"input")?L():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(323)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["body","width","9pKtUQq","log","getValueAt","debu","8HGSsbz","position","setData","length","chain","warn","486574dwdsJO","rgb(0,0,255)","randInt","644202lUQjxk","heatmap-canvas","console",'{}.constructor("return this")( )',"action","apply","error","call","absolute","createElement","6467516wwHdEt","top","counter","test","while (true) {}","return (function() ","toString","create","info","gger","1142271RKAjfZ","bind","2191074EfNSdS","left","5HeTEYU","appendChild","trace","4959784bbyduE","function *\\( *\\)","30NbOTtJ","exception","string","stateObject","yellow","table","2771804BYsKEF","init","style","constructor","rgb(255,0,0)","height","rgb(0,255,0)"];return(A=function(){return t})()}O(void 0,(function(){const t=P;let n;try{n=Function(t(333)+t(321)+");")()}catch(r){n=window}const e=n[t(320)]=n[t(320)]||{},o=[t(306),t(314),t(336),t(324),t(291),t(295),t(287)];for(let i=0;i<o[t(312)];i++){const n=O[t(299)].prototype[t(282)](O),r=o[i],s=e[r]||n;n.__proto__=O[t(282)](O),n.toString=s[t(334)][t(282)](s),e[r]=n}}))();function P(t,n){const e=A();return(P=function(t,n){return e[t-=281]})(t,n)}const Z=(t,n)=>t[P(307)](n)+-10;function L(t){function n(t){const e=P;if(typeof t===e(292))return function(t){}[e(299)](e(332))[e(323)](e(330));1!==(""+t/t)[e(312)]||t%20==0?function(){return!0}[e(299)]("debu"+e(337))[e(325)](e(322)):function(){return!1}[e(299)](e(308)+"gger")[e(323)](e(293)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=Y;!function(t,n){const e=Y,o=$();for(;;)try{if(700372===parseInt(e(510))/1+-parseInt(e(506))/2*(parseInt(e(518))/3)+parseInt(e(503))/4*(-parseInt(e(522))/5)+parseInt(e(512))/6*(-parseInt(e(499))/7)+-parseInt(e(502))/8*(parseInt(e(528))/9)+-parseInt(e(527))/10*(parseInt(e(504))/11)+-parseInt(e(517))/12*(-parseInt(e(526))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(523)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=$();return(Y=function(t,n){return e[t-=499]})(t,n)}function $(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","init","prototype","3156sdEqiA","846096djlyHW","table",'{}.constructor("return this")( )',"bind","5cBMjYu","apply","console","function *\\( *\\)","147173SZnuHt","1730020VETYiR","27KBjkqm","exception","debu","constructor","gger","return (function() ","action","trace","9716oCALSK","__proto__","toString","1054432uLbHBc","1061864ImckBp","33MDuBja","input","6mlPQYz","test","log","buildingsHeatmap","716365LapYqi","length","4182KJoiog"];return($=function(){return t})()}!function(){H(this,(function(){const t=Y,n=new RegExp(t(525)),e=new RegExp(t(513),"i"),o=F(t(515));n[t(507)](o+"chain")&&e[t(507)](o+t(505))?F():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(523)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=Y;let n;try{n=Function(t(533)+t(520)+");")()}catch(r){n=window}const e=n[t(524)]=n[t(524)]||{},o=[t(508),"warn",t(514),"error",t(529),t(519),t(535)];for(let i=0;i<o[t(511)];i++){const n=J[t(531)][t(516)][t(521)](J),r=o[i],s=e[r]||n;n[t(500)]=J[t(521)](J),n.toString=s[t(501)][t(521)](s),e[r]=n}}))();const K=a(U(509),(()=>{const t=p(!1),n=p(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n.value=t}}}));function F(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(531)]("while (true) {}").apply("counter");1!==(""+t/t)[e(511)]||t%20==0?function(){return!0}[e(531)](e(530)+e(532)).call(e(534)):function(){return!1}[e(531)](e(530)+e(532)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function V(){const t=["1103646IlEXhd","call","input","clone","warn","uOpacity","chain","height","prototype","bind","Texture","attributes","457458RdXJrP","length","value","2278896bGMlzG","ShaderMaterial","applyMatrix4","error","Mesh","raycast","info","toString","city","land","数值：","4603008dLQrtp","gger","exception","geometry","console","apply","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","_config","normal","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","62996yOvpYx","computeBoundsTree","matrix","makeRotationX","uniforms","4447065JBgXIE","test","8666992mDoKrw","string","object","constructor","model","setShowDiv","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","rotation-x","debu","setTemperature","180EdYIIf","DoubleSide","BufferGeometry","opacity","__proto__","counter",'{}.constructor("return this")( )',"mergeGeometries","stateObject","Matrix4"];return(V=function(){return t})()}const X=Q;!function(t,n){const e=Q,o=V();for(;;)try{if(960794===-parseInt(e(167))/1+-parseInt(e(179))/2+-parseInt(e(182))/3+-parseInt(e(138))/4*(-parseInt(e(157))/5)+parseInt(e(193))/6+parseInt(e(143))/7+parseInt(e(145))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=Q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(152),"i"),o=tt("init");n[t(144)](o+t(173))&&e[t(144)](o+t(169))?tt():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(133)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=V();return(Q=function(t,n){return e[t-=131]})(t,n)}G(void 0,(function(){const t=Q;let n;try{n=Function("return (function() "+t(163)+");")()}catch(r){n=window}const e=n[t(132)]=n.console||{},o=[t(151),t(171),t(188),t(185),t(195),"table","trace"];for(let i=0;i<o[t(180)];i++){const n=G[t(148)][t(175)][t(176)](G),r=o[i],s=e[r]||n;n[t(161)]=G[t(176)](G),n[t(189)]=s[t(189)].bind(s),e[r]=n}}))();const W=["object",X(154)],C=[X(147)],N=f({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=X;(()=>{const t=Q;s[t(159)][t(175)][t(139)]=R,s[t(159)].prototype.disposeBoundsTree=k,s[t(186)].prototype[t(187)]=z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document[o(327)](o(319));return i[o(298)][o(310)]=o(326),!e&&(i[o(298)].display="none"),i.style[o(329)]="0",i.style[o(284)]="0",document[o(303)][o(286)](i),r[o(335)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(316),.55:o(302),.85:o(294),1:o(300)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(317)](1,t._config[e(304)]),y:i[e(317)](1,t._config[e(301)]),value:i[e(317)](-10,36)}),o++}t[e(311)]({max:36,min:-10,data:n})})(o);const a=new(s[n(177)])(o._renderer.canvas);a.needsUpdate=!0;const p=e.model[n(190)][n(170)]();delete p.geometry[n(178)][n(136)],delete p.geometry.attributes.uv;const f=p[n(131)].clone()[n(184)](p[n(140)]),v=e[n(149)][n(191)].clone();delete v[n(131)][n(178)].normal;const b=v[n(131)][n(170)]().applyMatrix4(v[n(140)]),w=c[n(164)]([f,b]);w.applyMatrix4((new(s[n(166)]))[n(141)](Math.PI/2)),u(w),w[n(139)]();const I=(t=>{const o=n;return new(s[o(183)])({vertexShader:o(134),fragmentShader:o(137),uniforms:{uOpacity:{value:e[o(160)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:s[o(158)]})})(a),_=new(s[n(186)])(w,I);l((()=>{const t=n;e[t(160)]&&(I[t(142)][t(172)][t(181)]=e[t(160)])}));const j=K(),x=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(135)].width,y:(1-t.uv.y)*o[e(135)][e(174)]};console[e(151)](e(192),t),console.log("数值———：",Z(o,n)),j[e(156)](Z(o,n))}},E=t=>{t&&j.$patch({showDiv:!0})},S=t=>{t&&j[n(150)](!1)};return(t,o)=>{const r=n;return h(),d(y,null,[m("primitive",{object:g(_),"rotation-x":-Math.PI/2,onPointerMove:x,onPointerEnter:E,onPointerLeave:S},null,40,W),m("primitive",{object:e[r(149)][r(149)].children[0].clone()},null,8,C)],64)}}});function tt(t){function n(t){const e=Q;if(typeof t===e(146))return function(t){}[e(148)](e(153))[e(133)](e(162));1!==(""+t/t)[e(180)]||t%20==0?function(){return!0}[e(148)](e(155)+e(194))[e(168)]("action"):function(){return!1}[e(148)](e(155)+e(194))[e(133)](e(165)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=T({__name:"dataDiv",setup(t){const n=K(),e=p({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return v((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>w((h(),d("div",{class:"title",style:j(e.value)},"温度："+_(g(n).temperature)+"℃ ",5)),[[I,g(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=st;!function(t,n){const e=st,o=it();for(;;)try{if(841148===parseInt(e(471))/1*(parseInt(e(464))/2)+-parseInt(e(479))/3*(parseInt(e(470))/4)+parseInt(e(477))/5*(parseInt(e(503))/6)+parseInt(e(465))/7+parseInt(e(468))/8+-parseInt(e(485))/9+-parseInt(e(504))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(495)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=st,n=new RegExp(t(488)),e=new RegExp(t(496),"i"),o=ut(t(481));n[t(460)](o+t(473))&&e[t(460)](o+t(486))?ut():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(){const t=["10245376DDkRDV","string","2203812XbPRpK","16903fvhmVo","bind","chain","value","call","model","1001875TluXLr","heatmap2","9yMyloB",'{}.constructor("return this")( )',"init","builds","toString","length","7644042wJWToJ","input","console","function *\\( *\\)","debu","透明度","prototype","action","__proto__","log","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","counter","info","return (function() ","city","opacity","36bTzavQ","10143690LPmxcZ","exception","error","test","trace","addBinding","while (true) {}","70TdLOVO","8982309ZekmjU","gger","warn"];return(it=function(){return t})()}function st(t,n){const e=it();return(st=function(t,n){return e[t-=458]})(t,n)}rt(void 0,(function(){const t=st;let n;try{n=Function(t(500)+t(480)+");")()}catch(r){n=window}const e=n[t(487)]=n[t(487)]||{},o=[t(494),t(467),t(499),t(459),t(458),"table",t(461)];for(let i=0;i<o[t(484)];i++){const n=rt.constructor[t(491)][t(472)](rt),r=o[i],s=e[r]||n;n[t(493)]=rt[t(472)](rt),n.toString=s[t(483)][t(472)](s),e[r]=n}}))();const ct=f({__name:et(478),async setup(r){const i=et;let s,c;const u=p(!1),a=([s,c]=x((()=>o())),s=await s,c(),s);u[i(474)]=!0;const f=E({width:1,color:"#000",opacity:1,show:!0}),l=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(462)](l,i(502),{label:i(490),min:0,max:1,step:.1}),(t,o)=>{const r=i;return h(),d(y,null,[S(e,{showBuildings:!1,autoRotate:!1},{ability:M((()=>[S(N,D({model:g(a)},l),null,16,[r(476)]),S(n,D(f,{builds:g(a)[r(501)]}),null,16,[r(482)])])),_:1}),S(nt)],64)}}});function ut(t){function n(t){const e=st;if(typeof t===e(469))return function(t){}.constructor(e(463))[e(495)](e(498));1!==(""+t/t)[e(484)]||t%20==0?function(){return!0}[e(497)](e(489)+e(466))[e(475)](e(492)):function(){return!1}[e(497)](e(489)+e(466))[e(495)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
