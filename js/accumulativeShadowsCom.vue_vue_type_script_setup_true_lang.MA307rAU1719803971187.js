import{a5 as t,c as n}from"./three.BsQyBKrV1719803971187.js";import{a as e}from"./@tresjs.rn1P_YDI1719803971187.js";import{d as o,P as a}from"./@pmndrs.aJsI2n6-1719803971187.js";import{d as r,b as s,w as i,a2 as c,o as l,D as u,J as f,aj as p,ak as h}from"./@vue.CpOXM7bB1719803971187.js";const d=g;!function(t,n){const e=g,o=M();for(;;)try{if(539155===parseInt(e(494))/1+-parseInt(e(525))/2+-parseInt(e(546))/3+parseInt(e(507))/4*(parseInt(e(527))/5)+parseInt(e(491))/6*(-parseInt(e(513))/7)+parseInt(e(541))/8*(parseInt(e(479))/9)+parseInt(e(498))/10)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(564)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=g,n=new RegExp(t(560)),e=new RegExp(t(551),"i"),o=I("init");n[t(477)](o+"chain")&&e[t(477)](o+t(514))?I():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(564)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=M();return(g=function(t,n){return e[t-=475]})(t,n)}function M(){const t=["prepare","14jxAqfT","input","accumulativeShadowsCom","clear","mapSize","material","log","blend","add","frames","near","configure","2152038Pcmsmy","far","35nfHBWr","gger","DirectionalLight","shadows plm update","randFloatSpread","TresMesh","alphaTest","lightPosition","rotate-x","random","return (function() ","castShadow","intensity","MathUtils","120TMbxAM","progressiveLightMap2","ambient","finish","remove","2963214EMCsoU","__proto__","string","width","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","sin","opacity","TresSoftShadowMaterial","radius","amount","console","position","function *\\( *\\)","shadow","table","acos","apply","abs","error","test","gPlane","21618letmHU","shadows render end","color","prototype","debu","camera","length","left","value","info","bottom","right","1989888RXEhWV","set","cos","248891DqattH","height","bind","TresPlaneGeometry","19235100AwWDhC","stateObject","action","while (true) {}","blendWindow","constructor","children","#000000","update","604444slfjsh","shadows render start","trace","size","texture"];return(M=function(){return t})()}w(void 0,(function(){const t=g;let n;try{n=Function(t(537)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n[t(558)]=n[t(558)]||{},o=[t(519),"warn",t(488),t(476),"exception",t(562),t(509)];for(let r=0;r<o[t(485)];r++){const n=w.constructor[t(482)][t(496)](w),a=o[r],s=e[a]||n;n[t(547)]=w[t(496)](w),n.toString=s.toString[t(496)](s),e[a]=n}}))();const b=[d(535)],y=f(d(497),{args:[1,1]},null,-1),x=r({__name:d(515),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:d(505)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=d,w=r;let g=s();const{extend:M,scene:x,renderer:I,camera:S}=e();M({SoftShadowMaterial:o});const P={position:(new(t[m(550)]))[m(492)](w[m(534)].x,w.lightPosition.y,w[m(534)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new a(I[m(487)],x[m(487)],P[m(517)]),j={map:z[m(542)][m(511)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[m(520)],alphaTest:w[m(533)],opacity:w[m(554)],color:w.color},_=new n;for(let n=0;n<P[m(557)];n++){const n=new(t[m(529)])(16777215,P[m(539)]/P[m(557)]);n[m(538)]=!0,n[m(561)].bias=P.bias,n.shadow[m(484)][m(523)]=P.near,n[m(561)][m(484)][m(526)]=P[m(526)],n[m(561)].camera[m(490)]=P[m(510)]/2,n[m(561)][m(484)][m(486)]=-P[m(510)]/2,n[m(561)][m(484)].top=P[m(510)]/2,n[m(561)][m(484)][m(489)]=-P[m(510)]/2,n[m(561)].mapSize[m(549)]=P[m(517)],n[m(561)][m(517)][m(495)]=P[m(517)],_[m(521)](n)}const T=()=>{const n=m,e=P[n(559)][n(485)]();for(let o=0;o<_.children[n(485)];o++){const a=_[n(504)][o];if(Math[n(536)]()>w[n(543)])a[n(559)][n(492)](P[n(559)].x+t[n(540)][n(531)](P[n(556)]),P[n(559)].y+t[n(540)].randFloatSpread(P[n(556)]),P[n(559)].z+t[n(540)][n(531)](P[n(556)]));else{let t=Math[n(563)](2*Math[n(536)]()-1)-Math.PI/2,o=2*Math.PI*Math[n(536)]();a.position[n(492)](Math[n(493)](t)*Math[n(493)](o)*e,Math[n(475)](Math[n(493)](t)*Math[n(553)](o)*e),Math[n(553)](t)*e)}}},v=(t=1)=>{const n=m;x[n(487)][n(521)](_),z[n(512)]();for(let e=0;e<t;e++)T(),z[n(506)](S[n(487)],w[n(502)]),console.log(n(530),e);x[n(487)][n(545)](_),z[n(544)]()};i((()=>g[m(487)]),(t=>{const n=m;t&&(z[n(524)](t),z[n(516)](),console[n(519)](n(508)),v(w[n(522)]),console[n(519)](n(480)))}));const W=()=>{const t=m;z[t(516)](),v(w[t(522)])};return c((()=>{const t=m;g[t(487)]&&(w[t(554)]&&(g[t(487)][t(518)][t(554)]=w[t(554)]),w[t(533)]&&(g[t(487)].material.alphaTest=w[t(533)]),w.color&&g.value[t(518)][t(481)][t(492)](w[t(481)]),w[t(520)]&&(g[t(487)][t(518)][t(520)]=w[t(520)]))})),i((()=>w[m(534)]),(t=>{const n=m;t&&(console[n(519)](w.lightPosition),P.position[n(492)](t.x,t.y,t.z),W())}),{deep:!0}),i((()=>[w[m(522)],w.blendWindow,w.ambient]),(()=>{W()})),(t,n)=>{const e=m;return l(),u(e(532),{"receive-shadow":"",ref_key:e(478),ref:g,scale:10,"rotate-x":-Math.PI/2},[y,f(e(555),p(h(j)),null,16)],8,b)}}});function I(t){function n(t){const e=g;if(typeof t===e(548))return function(t){}[e(503)](e(501))[e(564)]("counter");1!==(""+t/t)[e(485)]||t%20==0?function(){return!0}[e(503)](e(483)+"gger")[e(552)](e(500)):function(){return!1}[e(503)](e(483)+e(528))[e(564)](e(499)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
