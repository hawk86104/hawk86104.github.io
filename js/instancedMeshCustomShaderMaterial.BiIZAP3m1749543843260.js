import{at as t,ah as n,ar as o}from"./three.kJWQzRuG1749543843260.js";import{e,g as c,a as r,H as W}from"./@tresjs.B7HgpUgk1749543843260.js";import{_ as i}from"./index.-hYEgZQk1749543843260.js";import{d as a,b as d,w as s,G as u,o as f,I as l,j as m,u as k,r as h,e as v,f as S,ak as x,al as p,am as C,m as R}from"./@vue.Mugdq9o81749543843260.js";import{_ as b}from"./component.vue_vue_type_script_setup_true_lang.BrBXz0or1749543843260.js";import"./postprocessing.BNwMO2k31749543843260.js";import"./@vueuse.CFMnmcVj1749543843260.js";import"./object-hash.Q62KlT291749543843260.js";import"./@amap.CGUF9xH41749543843260.js";import"./jszip.Do331mWL1749543843260.js";import"./three-stdlib.CbKBmUmq1749543843260.js";function P(){var t=["pSoNW4WpW5dcQZFdJtVcOq","W51/W4NdUW","W6hdRmkdgSkpcmk1nq","WPtcMSoGW6ShW5jVwG","WPG8umo5aZ4iFh4","u8odW7/cP8kNaSocWQ0cpw87iSoCW5PfWQ7cUmkR","jCo0EtGh","W6eSEZqj","muhdSbm4","W4tdSNBdHZS","WRu/W614iXyAeCoWWPxdLmoX","eX/dIeNdIG","dM17nCkVWO7dSSkKdCo3t8kNW73dVKZcTSk3W4uK","b0FcM8kKW78","l8kqemoduW","f8ovBmkxW4pcUsVcRSo6W6hcMcS","W4JcPLRdVCoC","cHFdJmo+B8k1W7enW57cO8ocWPe","WRmCAmkvna","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","WQ3dRCo+jaS","tceVxWa","WReUbfZdSa","W69LWRSYEuSN","lb9WW4Gc","WQFcPIZdQrKCsCoAFG","WQmbWOxcV0BcP8kV","sJxdPI7cNCkdW79Z","WQaZjuFdSmoYC8oR","bcRcLSkJ","f8o0dCoCcq","jZFcQL0u","ACkwWRhdVCkSWRhcVmkab8k3W7a+W7JcQ11xwCoOW6DhWP3dPxJcPgKtW6dcGeldNvre","WQehymo3uW","WOuDWOdcOrZdLhRdKMyBW7eQ","W7tdPMtdJsK","WRpcJe/dN8o/W4lcJq","tt/dLcJcJmkc","DaWeyW","j2jMseNcM2rY","zLxdQ8k0v8oIWPCEW6O","j0FdVt06","WQRdJZNcGCo0WR8","pmoGtCoK","mgjBt0/cGh92W78NWOq","yHClzcy","r8ktWR53W4W","ggSTWOxcGSos","F1WWWPaIWPxdLSk5oSod","h8kGrW","WOSJWPtdR8obds7dQs4","dhPGnmkYWPtcQ8o8dG","bmoeWQlcPrq","vSkqWRLJW4O","gxbSjCkTWPtcU8oJbq","imk2D3VcIq","BmkSixPvW6dcLehdQCk3WPxdPa","W5CvwGKWW5xdTXePWOzP","feRdGqeHESk7iq","WQffW6nxWQtdRW","W6vloCkPstL+oHe1","jSoEWQZdRSkaWOZcOmkmnG","WOeAWOlcPHhdLfNdPxKkW6mx","ChCjW6WrlqVcJmoIW5W","W5rBW6ldS8oa","oSodWRFcSmoOW7BdPmoDxSoRWRHU","WRldKa3cMSkKW7VcGdNdJLBcOG","W7BdRmk+hCkje8kUmCoMFw8","t0FcNCkGpG","aKZdVbe"];return(P=function(){return t})()}!function(){function t(t,n,o,e,c){return O(n- -24,o)}function n(t,n,o,e,c){return O(e-328,n)}function o(t,n,o,e,c){return O(n- -207,t)}var e,c,r=P();for(;;)try{if(100381===parseInt(t(0,287,"q]u]"))/1+-parseInt((e="x2Qc",c=1017,O(c-674,e)))/2+parseInt(n(0,"HNcd",0,666))/3*(parseInt(t(0,323,"ziBw"))/4)+parseInt(n(0,"q]u]",0,667))/5*(-parseInt(n(0,"x2Qc",0,641))/6)+parseInt(o("F^7E",150))/7+parseInt(o("#bdN",110))/8*(parseInt(o("Wp)1",133))/9)+-parseInt(o("hT4m",85))/10)break;r.push(r.shift())}catch(W){r.push(r.shift())}}();var g,N=(g=!0,function(t,n){function o(t,n,o,e,c){return O(c- -281,o)}if("vymin"===o(0,0,"!fBG",0,29)){var e=g?function(){function e(t,n,e,c,r){return o(0,0,n,0,c-1072)}function c(t,n,e,c,r){return o(0,0,t,0,e-977)}if(o(0,0,"naNM",0,74)===c("m#jd",0,1052)){if(n){if(c("x2Qc",0,989)===c("7oup",0,987)){var r=n[e(0,"RR[Y",0,1099)](t,arguments);return n=null,r}if(_0x4d4bb9){var W=_0x17b43f[e(0,"m#jd",0,1103)](_0xb8fe3,arguments);return _0x45e67d=null,W}}}else _0xc848fb=_0x49d87b}:function(){};return g=!1,e}var c,r,W=_0x5476c2[(c="Yli1",r=375,O(r-78,c))](_0x5e9e14,arguments);return _0x398aae=null,W})(void 0,(function(){function t(t,n,o,e,c){return O(t- -778,c)}function n(t,n,o,e,c){return O(c-517,e)}return N[n(0,0,0,"naNM",852)]()[n(0,0,0,"TVRb",831)](t(-445,0,0,0,"7NdH"))[t(-473,0,0,0,"d(vq")]()[t(-434,0,0,0,"(Rfw")](N)[t(-454,0,0,0,"ED(V")]("(((.+)+)+)+$")}));function O(t,n){var o=P();return O=function(n,e){var c=o[n-=291];if(void 0===O.FyaPqN){var r=function(t){for(var n,o,e="",c="",W=e+r,i=0,a=0;o=t.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?e+=W.charCodeAt(a+10)-10!=0?String.fromCharCode(255&n>>(-2*i&6)):i:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,s=e.length;d<s;d++)c+="%"+("00"+e.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(c)};O.CcNfLd=function(t,n){var o,e,c=[],W=0,i="";for(t=r(t),e=0;e<256;e++)c[e]=e;for(e=0;e<256;e++)W=(W+c[e]+n.charCodeAt(e%n.length))%256,o=c[e],c[e]=c[W],c[W]=o;e=0,W=0;for(var a=0;a<t.length;a++)W=(W+c[e=(e+1)%256])%256,o=c[e],c[e]=c[W],c[W]=o,i+=String.fromCharCode(t.charCodeAt(a)^c[(c[e]+c[W])%256]);return i},t=arguments,O.FyaPqN=!0}var W=n+o[0],i=t[W];if(i)c=i;else{if(void 0===O.AkUqsC){var a=function(t){this.OtHlaZ=t,this.fltcJd=[1,0,0],this.MhMiAD=function(){return"newState"},this.QAzdSm="\\w+ *\\(\\) *{\\w+ *",this.txFoxZ="['|\"].+['|\"];? *}"};a.prototype.JrEPZb=function(){var t=new RegExp(this.QAzdSm+this.txFoxZ).test(this.MhMiAD.toString())?--this.fltcJd[1]:--this.fltcJd[0];return this.QEtZYJ(t)},a.prototype.QEtZYJ=function(t){return Boolean(~t)?this.cecRkM(this.OtHlaZ):t},a.prototype.cecRkM=function(t){for(var n=0,o=this.fltcJd.length;n<o;n++)this.fltcJd.push(Math.round(Math.random())),o=this.fltcJd.length;return t(this.fltcJd[0])},new a(O).JrEPZb(),O.AkUqsC=!0}c=O.CcNfLd(c,e),t[W]=c}return c},O(t,n)}N();var J,M=(J=!0,function(t,n){function o(t,n,o,e,c){return O(t- -264,e)}if("gWLDB"!==o(59,0,0,"ziBw")){var e=J?function(){function e(t,n,e,c,r){return o(t-780,0,0,r)}function c(t,n,e,c,r){return o(n- -330,0,0,e)}if("xSUiV"!==e(823,0,0,0,"5vf8"))_0x41fce4=_0x5bd635(e(868,0,0,0,"AMb8")+e(825,0,0,0,"HNcd")+");")();else if(n){if(o(54,0,0,"naNM")!==c(0,-262,"x1Cw")){var r=n[c(0,-293,"M9W7")](t,arguments);return n=null,r}var W;try{W=_0x1c9314(o(95,0,0,"vx04")+'{}.constructor("return this")( ));')()}catch(i){W=_0x408385}return W}}:function(){};return J=!1,e}var c,r,W=_0x558702[(c=1191,r="RsFE",O(c-862,r))](_0x7a37ce,arguments);return _0x4e0f15=null,W});M(void 0,(function(){function t(t,n,o,e,c){return O(o- -819,c)}function n(t,n,o,e,c){return O(e- -447,o)}function o(t,n,o,e,c){return O(c-137,o)}var e=function(){function t(t,n,o,e,c){return O(o- -680,c)}function n(t,n,o,e,c){return O(c-708,e)}function o(t,n,o,e,c){return O(o-810,e)}function e(t,n,o,e,c){return O(e-280,o)}function c(t,n,o,e,c){return O(n- -272,c)}if(t(0,0,-322,0,"W(dC")===e(0,0,"WoK[",621)){var r;try{if("aQuVF"===e(0,0,"mh2J",575))r=Function('return (function() {}.constructor("return this")( ));')();else if(_0x2bce0b){var W=_0x46190d[e(0,0,"7NdH",633)](_0x5bc75c,arguments);return _0xe16a71=null,W}}catch(s){if(o(0,0,1108,"[1fY")===t(0,0,-350,0,"ziBw"))r=window;else{var i=_0x1433e7[o(0,0,1144,"cy5c")].prototype[t(0,0,-334,0,"naNM")](_0x3fc1e1),a=_0x55e76f[_0x407b26],d=_0x293805[a]||i;i[t(0,0,-329,0,"@C^Y")]=_0x3115fd[o(0,0,1116,"u*E&")](_0x16b1f8),i[n(0,0,0,"(Rfw",1057)]=d[n(0,0,0,"SmJ*",1058)][t(0,0,-360,0,"SRl6")](d),_0x3942db[a]=i}}return r}return _0x25b4ed.toString()[n(0,0,0,"rG(s",1044)](c(0,70,0,0,"HNcd"))[n(0,0,0,"lFbG",1024)]()[c(0,49,0,0,"lFbG")](_0x2f673e)[t(0,0,-361,0,"SjR4")]("(((.+)+)+)+$")}(),c=e.console=e[o(0,0,"F^7E",0,437)]||{},r=[n(0,0,"x1Cw",-121),"warn","info",o(0,0,"d(vq",0,436),n(0,0,"vx04",-116),W(-292,-312,-284,-297,"HRQZ"),n(0,0,"[1fY",-125)];function W(t,n,o,e,c){return O(n- -657,c)}function i(t,n,o,e,c){return O(t-22,e)}for(var a=0;a<r.length;a++){if("LFNBw"===i(376,0,0,"cy5c")){var d=_0x2811d7?function(){if(_0x452138){var t=_0x5ebb7e[(n=405,e="!K^V",o(0,0,e,0,n- -92))](_0x4efad0,arguments);return _0x5cd419=null,t}var n,e}:function(){};return _0x25cc51=!1,d}var s=M.constructor[t(0,0,-491,0,"vx04")][t(0,0,-504,0,"[1fY")](M),u=r[a],f=c[u]||s;s.__proto__=M[n(0,0,"WoK[",-99)](M),s[i(338,0,0,"lFbG")]=f[W(0,-353,0,0,"TVRb")].bind(f),c[u]=s}}))();const Q=O(-531- -827,"#bdN");const _=a({__name:"instancedMeshCom",setup(o){const r=d(null),W={vertex:`\n    uniform float uTime;\n\t\tvarying vec3 vPosition;\n\t\t${Q}\n    vec3 displace(vec3 point) {\n      vec3 instancePosition = (instanceMatrix * vec4(point, 1.)).xyz;\n      return instancePosition + (normal * noise((instancePosition * 3.) + uTime) * 0.8);\n    }  \n\n    vec3 orthogonal(vec3 v) {\n      return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)\n      : vec3(0.0, -v.z, v.y));\n    }\n\n    vec3 recalcNormals(vec3 newPos) {\n      float offset = 0.001;\n      vec3 tangent = orthogonal(normal);\n      vec3 bitangent = normalize(cross(normal, tangent));\n      vec3 neighbour1 = position + tangent * offset;\n      vec3 neighbour2 = position + bitangent * offset;\n\n      vec3 displacedNeighbour1 = displace(neighbour1);\n      vec3 displacedNeighbour2 = displace(neighbour2);\n\n      vec3 displacedTangent = displacedNeighbour1 - newPos;\n      vec3 displacedBitangent = displacedNeighbour2 - newPos;\n\n      return normalize(cross(displacedTangent, displacedBitangent));\n    }\n\n    void main() {\n\t\t\tvPosition = position;\n      vec3 p = displace(position);\n      csm_PositionRaw = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(p, 1.);\n      csm_Normal = recalcNormals(p);\n    }\n    `,fragment:"\n\t\tvarying vec3 vPosition;\n\t\t// 函数将 HSL 转换为 RGB\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\t\tfloat c = (1.0 - abs(2.0 * l - 1.0)) * s;\n\t\t\t\tfloat x = c * (1.0 - abs(mod(h * 6.0, 2.0) - 1.0));\n\t\t\t\tfloat m = l - c / 2.0;\n\t\t\t\tvec3 rgb;\n\t\t\t\tif (0.0 <= h && h < 1.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, x, 0.0);\n\t\t\t\t} else if (1.0 / 6.0 <= h && h < 2.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, c, 0.0);\n\t\t\t\t} else if (2.0 / 6.0 <= h && h < 3.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, c, x);\n\t\t\t\t} else if (3.0 / 6.0 <= h && h < 4.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, x, c);\n\t\t\t\t} else if (4.0 / 6.0 <= h && h < 5.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, 0.0, c);\n\t\t\t\t} else if (5.0 / 6.0 <= h && h < 6.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, 0.0, x);\n\t\t\t\t} else {\n\t\t\t\t\t\trgb = vec3(0.0, 0.0, 0.0);\n\t\t\t\t}\n\t\t\t\trgb += vec3(m);\n\t\t\t\treturn rgb;\n\t\t}\n    void main() {\n      // csm_DiffuseColor = vec4(1.,1.,1.,1.);\n\t\t\tfloat h = mod(vPosition.x + vPosition.y + vPosition.z, 1.0); // 色相 H: [0, 1)\n\t\t\tfloat s = 0.9; // 饱和度 S: 固定为 0.8\n\t\t\tfloat l = 0.4; // 亮度 L: 固定为 0.5\n\t\t\tvec3 rgb = hsl2rgb(h, s, l);\n\t\t\tcsm_DiffuseColor = vec4(rgb,1.);\n    }\n    "},i={uTime:{value:0}},a=new t,{onLoop:h}=e();return h((({elapsed:t})=>{i.uTime.value=t})),s((()=>r.value),(t=>{if(t){let n=0;for(let o=0;o<88;o++)a.position.set(Math.random(),Math.random(),Math.random()),a.rotation.set(Math.random(),Math.random(),Math.random()),a.position.multiplyScalar(10),a.position.x-=5,a.position.y-=5,a.position.z-=5,a.updateMatrix(),t.setMatrixAt(n++,a.matrix);t.instanceMatrix.needsUpdate=!0}})),(t,o)=>(f(),u("TresInstancedMesh",{ref_key:"tmRef",ref:r,args:[null,null,88]},[o[0]||(o[0]=l("TresSphereGeometry",{args:[1,64,64]},null,-1)),m(k(c),{baseMaterial:n,vertexShader:W.vertex,fragmentShader:W.fragment,uniforms:i,transparent:""},null,8,["baseMaterial","vertexShader","fragmentShader"])],512))}}),j=a({__name:"instancedMeshCustomShaderMaterial",setup(t){const n=h({alpha:!0,toneMapping:o,windowSize:!0,clearColor:"#000000"}),e=h({enableDamping:!0});return(t,o)=>(f(),v(k(W),R(n,{"window-size":""}),{default:S((()=>[o[0]||(o[0]=l("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:1,far:1e3},null,-1)),m(k(r),x(p(e)),null,16),o[1]||(o[1]=l("TresAmbientLight",{intensity:.5},null,-1)),o[2]||(o[2]=l("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),(f(),v(C,null,{default:S((()=>[m(k(b),{intensity:16,resolution:256,background:"",blur:.6},{default:S((()=>[m(k(i),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),m(k(i),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),m(k(i),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),m(k(i),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1})),m(_)])),_:1},16))}});export{j as default};
