import{importShared as e}from"./3d-tiles-renderer.qyEDeaaW1769484739493.js";import{configProviderInjectionKey as n,derived as o,c as t,cB as r,cM as l,cE as i,useConfig as s,useTheme as a,useThemeClass as d,cNotM as c,createTheme as h,createInjectionKey as u,warn as f}from"./light.DmNLiRyz1769484739493.js";import{NBaseLoading as g}from"./Loading.DU5LJE7S1769484739493.js";import{useLocale as p}from"./Suffix.C7BENpee1769484739493.js";import{fadeInScaleUpTransition as m}from"./Card.JT4TRoUg1769484739493.js";import{scrollbarLight as v,Scrollbar as b}from"./Scrollbar.DCShxAPY1769484739493.js";import{throttle as x}from"./index.CuW8EyFk1769484739493.js";const{computed:j,inject:C,watchEffect:$}=await e("vue");function w(e,o){const t=C(n,null);return j(()=>e.hljs||(null==t?void 0:t.mergedHljsRef.value))}const R={name:"Code",common:o,self:function(e){const{textColor2:n,fontSize:o,fontWeightStrong:t,textColor3:r}=e;return{textColor:n,fontSize:o,fontWeightStrong:t,"mono-3":"#a0a1a7","hue-1":"#0184bb","hue-2":"#4078f2","hue-3":"#a626a4","hue-4":"#50a14f","hue-5":"#e45649","hue-5-2":"#c91243","hue-6":"#986801","hue-6-2":"#c18401",lineNumberTextColor:r}}},z=t([r("code","\n font-size: var(--n-font-size);\n font-family: var(--n-font-family);\n ",[l("show-line-numbers","\n display: flex;\n "),i("line-numbers","\n user-select: none;\n padding-right: 12px;\n text-align: right;\n transition: color .3s var(--n-bezier);\n color: var(--n-line-number-text-color);\n "),l("word-wrap",[t("pre","\n white-space: pre-wrap;\n word-break: break-all;\n ")]),t("pre","\n margin: 0;\n line-height: inherit;\n font-size: inherit;\n font-family: inherit;\n "),t("[class^=hljs]","\n color: var(--n-text-color);\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n ")]),({props:e})=>{const n=`${e.bPrefix}code`;return[`${n} .hljs-comment,\n ${n} .hljs-quote {\n color: var(--n-mono-3);\n font-style: italic;\n }`,`${n} .hljs-doctag,\n ${n} .hljs-keyword,\n ${n} .hljs-formula {\n color: var(--n-hue-3);\n }`,`${n} .hljs-section,\n ${n} .hljs-name,\n ${n} .hljs-selector-tag,\n ${n} .hljs-deletion,\n ${n} .hljs-subst {\n color: var(--n-hue-5);\n }`,`${n} .hljs-literal {\n color: var(--n-hue-1);\n }`,`${n} .hljs-string,\n ${n} .hljs-regexp,\n ${n} .hljs-addition,\n ${n} .hljs-attribute,\n ${n} .hljs-meta-string {\n color: var(--n-hue-4);\n }`,`${n} .hljs-built_in,\n ${n} .hljs-class .hljs-title {\n color: var(--n-hue-6-2);\n }`,`${n} .hljs-attr,\n ${n} .hljs-variable,\n ${n} .hljs-template-variable,\n ${n} .hljs-type,\n ${n} .hljs-selector-class,\n ${n} .hljs-selector-attr,\n ${n} .hljs-selector-pseudo,\n ${n} .hljs-number {\n color: var(--n-hue-6);\n }`,`${n} .hljs-symbol,\n ${n} .hljs-bullet,\n ${n} .hljs-link,\n ${n} .hljs-meta,\n ${n} .hljs-selector-id,\n ${n} .hljs-title {\n color: var(--n-hue-2);\n }`,`${n} .hljs-emphasis {\n font-style: italic;\n }`,`${n} .hljs-strong {\n font-weight: var(--n-font-weight-strong);\n }`,`${n} .hljs-link {\n text-decoration: underline;\n }`]}]),{computed:y,defineComponent:S,h:T,onMounted:_,ref:k,toRef:B,watch:L}=await e("vue"),H=Object.assign(Object.assign({},a.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),N=S({name:"Code",props:H,setup(e,{slots:n}){const{internalNoHighlight:o}=e,{mergedClsPrefixRef:t,inlineThemeDisabled:r}=s(),l=k(null),i=o?{value:void 0}:w(e),c=y(()=>!e.inline&&!e.wordWrap&&e.showLineNumbers),h=()=>{if(n.default)return;const{value:o}=l;if(!o)return;const{language:t}=e,r=e.uri?window.decodeURIComponent(e.code):e.code;if(t){const n=((e,n,o)=>{const{value:t}=i;return t&&e&&t.getLanguage(e)?t.highlight(o?n.trim():n,{language:e}).value:null})(t,r,e.trim);if(null!==n){if(e.inline)o.innerHTML=n;else{const e=o.querySelector(".__code__");e&&o.removeChild(e);const t=document.createElement("pre");t.className="__code__",t.innerHTML=n,o.appendChild(t)}return}}if(e.inline)return void(o.textContent=r);const s=o.querySelector(".__code__");if(s)s.textContent=r;else{const e=document.createElement("pre");e.className="__code__",e.textContent=r,o.innerHTML="",o.appendChild(e)}};_(h),L(B(e,"language"),h),L(B(e,"code"),h),o||L(i,h);const u=a("Code","-code",z,R,e,t),f=y(()=>{const{common:{cubicBezierEaseInOut:n,fontFamilyMono:o},self:{textColor:t,fontSize:r,fontWeightStrong:l,lineNumberTextColor:i,"mono-3":s,"hue-1":a,"hue-2":d,"hue-3":c,"hue-4":h,"hue-5":f,"hue-5-2":g,"hue-6":p,"hue-6-2":m}}=u.value,{internalFontSize:v}=e;return{"--n-font-size":v?`${v}px`:r,"--n-font-family":o,"--n-font-weight-strong":l,"--n-bezier":n,"--n-text-color":t,"--n-mono-3":s,"--n-hue-1":a,"--n-hue-2":d,"--n-hue-3":c,"--n-hue-4":h,"--n-hue-5":f,"--n-hue-5-2":g,"--n-hue-6":p,"--n-hue-6-2":m,"--n-line-number-text-color":i}}),g=r?d("code",y(()=>`${e.internalFontSize||"a"}`),f,e):void 0;return{mergedClsPrefix:t,codeRef:l,mergedShowLineNumbers:c,lineNumbers:y(()=>{let n=1;const o=[];let t=!1;for(const r of e.code)"\n"===r?(t=!0,o.push(n++)):t=!1;return t||o.push(n++),o.join("\n")}),cssVars:r?void 0:f,themeClass:null==g?void 0:g.themeClass,onRender:null==g?void 0:g.onRender}},render(){var e,n;const{mergedClsPrefix:o,wordWrap:t,mergedShowLineNumbers:r,onRender:l}=this;return null==l||l(),T("code",{class:[`${o}-code`,this.themeClass,t&&`${o}-code--word-wrap`,r&&`${o}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},r?T("pre",{class:`${o}-code__line-numbers`},this.lineNumbers):null,null===(n=(e=this.$slots).default)||void 0===n?void 0:n.call(e))}});function O(e){const{textColor1:n,dividerColor:o,fontWeightStrong:t}=e;return{textColor:n,color:o,fontWeight:t}}const P={common:o,self:O},M=r("divider","\n position: relative;\n display: flex;\n width: 100%;\n box-sizing: border-box;\n font-size: 16px;\n color: var(--n-text-color);\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n",[c("vertical","\n margin-top: 24px;\n margin-bottom: 24px;\n ",[c("no-title","\n display: flex;\n align-items: center;\n ")]),i("title","\n display: flex;\n align-items: center;\n margin-left: 12px;\n margin-right: 12px;\n white-space: nowrap;\n font-weight: var(--n-font-weight);\n "),l("title-position-left",[i("line",[l("left",{width:"28px"})])]),l("title-position-right",[i("line",[l("right",{width:"28px"})])]),l("dashed",[i("line","\n background-color: #0000;\n height: 0px;\n width: 100%;\n border-style: dashed;\n border-width: 1px 0 0;\n ")]),l("vertical","\n display: inline-block;\n height: 1em;\n margin: 0 8px;\n vertical-align: middle;\n width: 1px;\n "),i("line","\n border: none;\n transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);\n height: 1px;\n width: 100%;\n margin: 0;\n "),c("dashed",[i("line",{backgroundColor:"var(--n-color)"})]),l("dashed",[i("line",{borderColor:"var(--n-color)"})]),l("vertical",{backgroundColor:"var(--n-color)"})]),{computed:W,defineComponent:F,Fragment:q,h:E}=await e("vue"),V=Object.assign(Object.assign({},a.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),D=F({name:"Divider",props:V,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:o}=s(e),t=a("Divider","-divider",M,P,e,n),r=W(()=>{const{common:{cubicBezierEaseInOut:e},self:{color:n,textColor:o,fontWeight:r}}=t.value;return{"--n-bezier":e,"--n-color":n,"--n-text-color":o,"--n-font-weight":r}}),l=o?d("divider",void 0,r,e):void 0;return{mergedClsPrefix:n,cssVars:o?void 0:r,themeClass:null==l?void 0:l.themeClass,onRender:null==l?void 0:l.onRender}},render(){var e;const{$slots:n,titlePlacement:o,vertical:t,dashed:r,cssVars:l,mergedClsPrefix:i}=this;return null===(e=this.onRender)||void 0===e||e.call(this),E("div",{role:"separator",class:[`${i}-divider`,this.themeClass,{[`${i}-divider--vertical`]:t,[`${i}-divider--no-title`]:!n.default,[`${i}-divider--dashed`]:r,[`${i}-divider--title-position-${o}`]:n.default&&o}],style:l},t?null:E("div",{class:`${i}-divider__line ${i}-divider__line--left`}),!t&&n.default?E(q,null,E("div",{class:`${i}-divider__title`},this.$slots),E("div",{class:`${i}-divider__line ${i}-divider__line--right`})):null)}});const I=h({name:"Log",common:o,peers:{Scrollbar:v,Code:R},self:function(e){const{textColor2:n,modalColor:o,borderColor:t,fontSize:r,primaryColor:l}=e;return{loaderFontSize:r,loaderTextColor:n,loaderColor:o,loaderBorder:`1px solid ${t}`,loadingColor:l}}}),A=u("n-log"),{computed:U,defineComponent:Y,h:G,inject:J,onMounted:K,ref:Q,toRef:X,watch:Z}=await e("vue"),ee=Y({props:{line:{type:String,default:""}},setup(e){const{trimRef:n,highlightRef:o,languageRef:t,mergedHljsRef:r}=J(A),l=Q(null),i=U(()=>n.value?e.line.trim():e.line);function s(){l.value&&(l.value.innerHTML=function(e,n){const{value:o}=r;if(o&&e&&o.getLanguage(e))return o.highlight(n,{language:e}).value;return n}(t.value,i.value))}return K(()=>{o.value&&s()}),Z(X(e,"line"),()=>{o.value&&s()}),{highlight:o,selfRef:l,maybeTrimmedLines:i}},render(){const{highlight:e,maybeTrimmedLines:n}=this;return G("pre",{ref:"selfRef"},e?null:n)}}),{defineComponent:ne,h:oe}=await e("vue"),te=ne({name:"LogLoader",props:{clsPrefix:{type:String,required:!0}},setup:()=>({locale:p("Log").localeRef}),render(){const{clsPrefix:e}=this;return oe("div",{class:`${e}-log-loader`},oe(g,{clsPrefix:e,strokeWidth:24,scale:.85}),oe("span",{class:`${e}-log-loader__content`},this.locale.loading))}}),re=r("log","\n position: relative;\n box-sizing: border-box;\n transition: border-color .3s var(--n-bezier);\n",[t("pre","\n white-space: pre-wrap;\n word-break: break-word;\n margin: 0;\n "),r("log-loader","\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n box-sizing: border-box;\n position: absolute;\n right: 16px;\n top: 8px;\n height: 34px;\n border-radius: 17px;\n line-height: 34px;\n white-space: nowrap;\n overflow: hidden;\n border: var(--n-loader-border);\n color: var(--n-loader-text-color);\n background-color: var(--n-loader-color);\n font-size: var(--n-loader-font-size);\n ",[m(),i("content","\n display: inline-block;\n vertical-align: bottom;\n line-height: 34px;\n padding-left: 40px;\n padding-right: 20px;\n white-space: nowrap;\n "),r("base-loading","\n color: var(--n-loading-color);\n position: absolute;\n left: 12px;\n top: calc(50% - 10px);\n font-size: 20px;\n width: 20px;\n height: 20px;\n display: inline-block;\n ")])]),{computed:le,defineComponent:ie,h:se,nextTick:ae,provide:de,ref:ce,toRef:he,Transition:ue}=await e("vue"),fe=x,ge=Object.assign(Object.assign({},a.props),{loading:Boolean,trim:Boolean,log:String,fontSize:{type:Number,default:14},lines:{type:Array,default:()=>[]},lineHeight:{type:Number,default:1.25},language:String,rows:{type:Number,default:15},offsetTop:{type:Number,default:0},offsetBottom:{type:Number,default:0},hljs:Object,onReachTop:Function,onReachBottom:Function,onRequireMore:Function}),pe=ie({name:"Log",props:ge,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:o}=s(e),t=ce(!1),r=le(()=>void 0!==e.language),l=le(()=>`calc(${Math.round(e.rows*e.lineHeight*e.fontSize)}px)`),i=le(()=>{const{log:n}=e;return n?n.split("\n"):e.lines}),c=ce(null),h=a("Log","-log",re,I,e,n);const u=fe(function(n){if(t.value)return void ae(()=>{t.value=!1});if(c.value){const{containerRef:o,contentRef:t}=c.value;if(o&&t){const r=o.offsetHeight,l=o.scrollTop,i=l,s=t.offsetHeight-l-r,a=n.deltaY;if(0===i&&a<0){const{onRequireMore:n}=e;n&&n("top")}if(s<=0&&a>0){const{onRequireMore:n}=e;n&&n("bottom")}}}},300);function g(e){const{value:n}=c;if(!n)return;const{silent:o,top:r,position:l}=e;o&&(t.value=!0),void 0!==r?n.scrollTo({left:0,top:r}):"bottom"!==l&&"top"!==l||n.scrollTo({position:l})}de(A,{languageRef:he(e,"language"),mergedHljsRef:w(e),trimRef:he(e,"trim"),highlightRef:r});const p={scrollTo:g},m=le(()=>{const{self:{loaderFontSize:e,loaderTextColor:n,loaderColor:o,loaderBorder:t,loadingColor:r},common:{cubicBezierEaseInOut:l}}=h.value;return{"--n-bezier":l,"--n-loader-font-size":e,"--n-loader-border":t,"--n-loader-color":o,"--n-loader-text-color":n,"--n-loading-color":r}}),v=o?d("log",void 0,m,e):void 0;return Object.assign(Object.assign({},p),{mergedClsPrefix:n,scrollbarRef:c,mergedTheme:h,styleHeight:l,mergedLines:i,scrollToTop:function(e=!1){f("log","`scrollToTop` is deprecated, please use `scrollTo({ position: 'top'})` instead."),g({position:"top",silent:e})},scrollToBottom:function(e=!1){f("log","`scrollToTop` is deprecated, please use `scrollTo({ position: 'bottom'})` instead."),g({position:"bottom",silent:e})},handleWheel:u,handleScroll:function(n){const o=n.target,r=o.firstElementChild;if(t.value)return void ae(()=>{t.value=!1});const l=o.offsetHeight,i=o.scrollTop,s=r.offsetHeight-i-l;if(i<=e.offsetTop){const{onReachTop:n,onRequireMore:o}=e;o&&o("top"),n&&n()}if(s<=e.offsetBottom){const{onReachBottom:n,onRequireMore:o}=e;o&&o("bottom"),n&&n()}},cssVars:o?void 0:m,themeClass:null==v?void 0:v.themeClass,onRender:null==v?void 0:v.onRender})},render(){const{mergedClsPrefix:e,mergedTheme:n,onRender:o}=this;return null==o||o(),se("div",{class:[`${e}-log`,this.themeClass],style:[{lineHeight:this.lineHeight,height:this.styleHeight},this.cssVars],onWheelPassive:this.handleWheel},[se(b,{ref:"scrollbarRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar,onScroll:this.handleScroll},{default:()=>se(N,{internalNoHighlight:!0,internalFontSize:this.fontSize,theme:n.peers.Code,themeOverrides:n.peerOverrides.Code},{default:()=>this.mergedLines.map((e,n)=>se(ee,{key:n,line:e}))})}),se(ue,{name:"fade-in-scale-up-transition"},{default:()=>this.loading?se(te,{clsPrefix:e}):null})])}});export{N as NCode,D as NDivider,pe as NLog,H as codeProps,V as dividerProps,ge as logProps,O as self};
