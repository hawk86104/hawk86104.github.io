import{_ as t,V as n,cJ as e,C as o}from"./three.rmsIv-u_1736160428509.js";import{P as r}from"./tweakpane.yHWGBmom1736160428509.js";import{m as s,e as i}from"./@tresjs.8MtVPQyb1736160428509.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.5KssZr0j1736160428509.js";import{d,a1 as h,w as g,o as j,D as b,u as w,X as x,r as v,e as y,j as I,g as _,m as M,F as z,f as C,al as B}from"./@vue.4u_eOGex1736160428509.js";import{_ as S}from"./raycasterEvent.PwMroIQb1736160428509.js";import{a as k}from"./utils.F9pcNPXF1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./@mapbox._agq7sqt1736160428509.js";import"./@amap.uuGbEc9W1736160428509.js";import"./three-mesh-bvh.dI06GwOp1736160428509.js";import"./three-custom-shader-material._2dHD2wr1736160428509.js";import"./@fesjs.pVksQyts1736160428509.js";import"./vue-router.jVp56Lac1736160428509.js";import"./lodash-es.kYt-_xTG1736160428509.js";import"./@qlin.yHhFDldE1736160428509.js";import"./pinia.F-Vnosig1736160428509.js";import"./vue-demi.C4xddsk91736160428509.js";import"./@floating-ui.BPbuo5Gx1736160428509.js";import"./@juggle.7yjBMqoW1736160428509.js";import"./@tweenjs.J1BAvmPw1736160428509.js";import"./utils.uYnyhpg91736160428509.js";import"./d3-geo.ccuxTP4M1736160428509.js";import"./d3-array.AhNJy1f41736160428509.js";import"./http.GU9OU4fk1736160428509.js";import"./axios.Ng308AU61736160428509.js";import"./color.qMLmo38i1736160428509.js";import"./color-string.eb-EwlJM1736160428509.js";import"./color-name.gl6PG9AI1736160428509.js";import"./simple-swizzle.F-SN4lRd1736160428509.js";import"./is-arrayish._TQIWZxM1736160428509.js";import"./color-convert.MBOD2coS1736160428509.js";import"./lodash.qJ-fSGjX1736160428509.js";import"./naive-ui.ya7NWhns1736160428509.js";import"./date-fns.n5w7AWIG1736160428509.js";import"./@css-render.IaeT8Y5B1736160428509.js";import"./seemly.SjiSeX2v1736160428509.js";import"./css-render.uBW2XtXu1736160428509.js";import"./@emotion.ZD_ZYAgY1736160428509.js";import"./vooks.zyQrXqhr1736160428509.js";import"./evtd.DtfwxtIl1736160428509.js";import"./vueuc.GRPXn8Tm1736160428509.js";import"./vdirs.8RZg8nkg1736160428509.js";import"./treemate.dcEdf2le1736160428509.js";import"./date-fns-tz.2BZjI42O1736160428509.js";import"./async-validator.-YBkpS4I1736160428509.js";const R=O;function A(){const t=["source","813293BcACcq","genBright","1038kXyNwb","gger","tileMapMesh","1282920VtOKjH","dampingFactor","info","value","16258194fesKoz","Color","maxZoom","log","enableDamping","genSaturation","string","position","test","__proto__","chain","PerspectiveCamera","6979296RAvwmD","table","innerHeight","set","flatShading","primitive","far","input","domElement","error","useStandardMaterial","opposite","bbox","call","function *\\( *\\)","59205sWdPsO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","genContrast","length",'{}.constructor("return this")( )',"render","warn","#fff","constructor","tweenInstance","camera","132mrARKF","console","2191RBJood","lookAt","4606035bbisqH","showTileNo","coordType","apply","debu","object","update","minDistance","prototype","rotation","mapCenter","toString","filter","innerWidth","monochrome","while (true) {}"];return(A=function(){return t})()}!function(t,n){const e=O,o=A();for(;;)try{if(918440===parseInt(e(538))/1+parseInt(e(517))/2*(parseInt(e(505))/3)+parseInt(e(490))/4+-parseInt(e(521))/5+parseInt(e(540))/6*(-parseInt(e(519))/7)+-parseInt(e(474))/8+-parseInt(e(478))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(524)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=O,n=new RegExp(t(504)),e=new RegExp(t(506),"i"),o=q("init");n[t(486)](o+t(488))&&e.test(o+t(497))?q():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(524)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(t,n){const e=A();return(O=function(t,n){return e[t-=473]})(t,n)}Z(void 0,(function(){const t=O;let n;try{n=Function("return (function() "+t(510)+");")()}catch(r){n=window}const e=n[t(518)]=n[t(518)]||{},o=[t(481),t(512),t(476),t(499),"exception",t(491),t(507)];for(let s=0;s<o[t(509)];s++){const n=Z.constructor[t(529)].bind(Z),r=o[s],i=e[r]||n;n[t(487)]=Z.bind(Z),n[t(532)]=i[t(532)].bind(i),e[r]=n}}))();const P=[R(526),R(530)],T=d({__name:R(473),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:R(513)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:f}){const d=R,x=r,{renderer:v,scene:y}=s();(new a)[d(523)]=c;const I=new u;I[d(537)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",I[d(523)]=c;const _=new p;_.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",_[d(522)]=!1,_.useWorker=!0;const M=new l(I,_);if(M.showBoundingBox=!1,M.wireframe=!1,M[d(494)]=!1,M[d(500)]=!1,M[d(533)]={opposite:x.opposite,monochrome:x.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:x[d(539)],genContrast:x[d(508)],genSaturation:x[d(483)]},x.monochrome){let n=new(t[d(479)])(x[d(535)]);M[d(533)]&&(M[d(533)][d(535)]={r:n.r,g:n.g,b:n.b})}const z=new m;z.provider=M,z[d(502)]=x[d(502)],z.maxZoom=x[d(480)];const C=new(t[d(489)])(60,window[d(534)]/window[d(492)],1,1e8);C.up=new n(0,1,0),C[d(485)][d(493)](x[d(531)][0],x[d(531)][2],-x[d(531)][1]),C[d(520)](new n(C[d(485)].x,0,C[d(485)].z-2e3)),z[d(516)]=C;let B=null;h((()=>{const t=d;v[t(477)]&&!B&&(B=new e(C,v[t(477)][t(498)]),B[t(482)]=!0,B[t(475)]=.05,B[t(528)]=600,B.position0[t(493)](C[t(485)].x,C[t(485)].y,C[t(485)].z),B.target.set(C[t(485)].x,0,C[t(485)].z-2e3))})),g((()=>[x.opposite,x.isMonochrome,x[d(535)]]),(([t,n,e])=>{const r=d;if(M[r(533)]){let s=new o(e);M.filter[r(501)]=t,M[r(533)][r(535)]=n?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[x[d(539)],x[d(508)],x[d(483)]]),(([t,n,e])=>{const o=d;M.filter&&(M[o(533)][o(539)]=t,M[o(533)].genContrast=n,M.filter[o(483)]=e)}));const{onLoop:S}=i();return S((()=>{var t;const n=d;if(v[n(477)]){null==(t=x[n(515)])||t[n(527)](),B&&B[n(527)](),z.update();const e=50*Math.abs(C[n(485)].y);C[n(496)]=e+5e3,C.updateProjectionMatrix(),v.value[n(511)](y.value,C)}})),f({camera:C,map:z,orbitControl:B}),(t,n)=>{const e=d;return j(),b(e(495),{object:w(z),rotation:[-Math.PI/2,0,0]},null,8,P)}}});function q(t){function n(t){const e=O;if(typeof t===e(484))return function(t){}[e(514)](e(536))[e(524)]("counter");1!==(""+t/t)[e(509)]||t%20==0?function(){return!0}[e(514)](e(525)+e(541))[e(503)]("action"):function(){return!1}[e(514)](e(525)+e(541))[e(524)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function D(t,n){const e=W();return(D=function(t,n){return e[t-=477]})(t,n)}const F=D;!function(t,n){const e=D,o=W();for(;;)try{if(599524===-parseInt(e(498))/1+parseInt(e(505))/2+-parseInt(e(516))/3*(-parseInt(e(532))/4)+parseInt(e(493))/5*(-parseInt(e(521))/6)+parseInt(e(527))/7*(-parseInt(e(488))/8)+-parseInt(e(491))/9*(-parseInt(e(524))/10)+parseInt(e(533))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(535)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=D,n=new RegExp(t(512)),e=new RegExp(t(487),"i"),o=L(t(495));n[t(483)](o+"chain")&&e[t(483)](o+t(538))?L():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(535)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["log","5baGGbu","对比度","init","Vector3","单色滤镜","1093247JbxOOu","while (true) {}","tileMapMeshRef","addBlade","SRGBColorSpace","debu","滤镜颜色","1226800qUXjwj","prototype","manual","table","toString","NoToneMapping","monochrome","function *\\( *\\)","exception","nss","constructor","705EKWTUd","string","gger","opposite","value","5216496QoEbmU","call","error","1460zjrVEz","奥体中心","isMonochrome","196Swgjdx","tileMapRef","TresCanvas","counter","warn","16844xUZsVw","8705092sqrDOx","length","apply","bind","addBinding","input","return (function() ","camera","info","tweenInstance","__proto__","#201919","test","console","stateObject","genContrast","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","219896bkkqJf","trace","tileMap","57789XBrvIS"];return(W=function(){return t})()}V(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(477)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(484)]=n[t(484)]||{},o=[t(492),t(531),t(479),t(523),t(513),t(508),t(489)];for(let r=0;r<o[t(534)];r++){const n=V[t(515)][t(506)][t(536)](V),s=o[r],i=e[s]||n;n[t(481)]=V[t(536)](V),n[t(509)]=i[t(509)][t(536)](i),e[s]=n}}))();const K=d({__name:F(490),setup(e){const o=F,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=x(),c=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:i,tweenInstance:null}),u=new r({title:"参数"});u[o(537)](c,o(519),{label:"反色"}),u[o(537)](c,"genBright",{label:"高亮",min:.1,max:3,step:.1}),u[o(537)](c,o(486),{label:o(494),min:.1,max:3,step:.1}),u[o(537)](c,"genSaturation",{label:"饱和度",min:.1,max:3,step:.1}),u[o(537)](c,o(526),{label:o(497)}),u[o(537)](c,o(511),{label:o(504)});const p={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};u[o(501)]({view:"list",label:"飞去",options:[{text:o(525),value:"at"},{text:"新街口",value:"xjk"},{text:"牛首山",value:o(514)}],value:"at"}).on("change",(t=>{const e=o,r=new n(p[t[e(520)]][0],2e3,-p[t[e(520)]][1]);c[e(480)]=k(a.value[e(478)],r,a[e(520)].orbitControl,[0,-300],4e3)}));const l=v({clearColor:o(482),antialias:!0,logarithmicDepthBuffer:!0,renderMode:o(507),outputColorSpace:t[o(502)],toneMapping:t[o(510)]});return setTimeout((()=>{const n=o,e=p.at,r=new(t[n(496)])(e[0],1600,-e[1]);c.tweenInstance=k(a.value.camera,r,a[n(520)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=y(e(529));return j(),b(z,null,[I(r,M(l,{"window-size":""}),{default:_((()=>[(j(),C(B,null,{default:_((()=>[I(T,M(c,{ref_key:e(500),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(S,{tileMapRef:a[e(520)]},null,8,[e(528)])],64)}}});function L(t){function n(t){const e=D;if(typeof t===e(517))return function(t){}.constructor(e(499))[e(535)](e(530));1!==(""+t/t).length||t%20==0?function(){return!0}[e(515)](e(503)+e(518))[e(522)]("action"):function(){return!1}[e(515)](e(503)+e(518))[e(535)](e(485)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
