import{P as t}from"./tweakpane.yDiyAAkA1741490461506.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.yU0_MUZ61741490461506.js";import{_ as r}from"./heatmap.js-fix.6C9gbBjF1741490461506.js";import{a as i,_ as c,cd as s,B as u}from"./three.Vxh8Czkt1741490461506.js";import{r as a}from"./utils.yozaP-Fw1741490461506.js";import{d as p}from"./pinia.RD4r5tit1741490461506.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as b,W as w,P as _,R as I,L as x,O as j,a3 as M,r as E,j as O,g as R,m as S}from"./@vue.NRI7TcgI1741490461506.js";import{c as Z,d as P,a as W}from"./three-mesh-bvh.un6HGGrA1741490461506.js";import{_ as A}from"./@fesjs.IWF3W7Eu1741490461506.js";import"./@tresjs.rE98Wm941741490461506.js";import"./postprocessing.wUw4_rsV1741490461506.js";import"./@vueuse.9Z-Ayxy41741490461506.js";import"./three-custom-shader-material.ZFxoA-pL1741490461506.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741490461506.js";import"./@amap.TO4JQn7s1741490461506.js";import"./vue-router.5pMX5YFH1741490461506.js";import"./lodash-es.pklfUAS51741490461506.js";import"./@qlin.yHhFDldE1741490461506.js";import"./@floating-ui.BPbuo5Gx1741490461506.js";import"./@juggle.7yjBMqoW1741490461506.js";function B(t,n){const e=k();return(B=function(t,n){return e[t-=202]})(t,n)}!function(t,n){const e=B,o=k();for(;;)try{if(547847===-parseInt(e(218))/1*(parseInt(e(206))/2)+-parseInt(e(250))/3*(-parseInt(e(207))/4)+-parseInt(e(227))/5+parseInt(e(208))/6+parseInt(e(224))/7*(-parseInt(e(237))/8)+-parseInt(e(223))/9+parseInt(e(226))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(252)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["display","gger","__proto__","none","rgb(0,0,255)","create","rgb(255,0,0)","randInt","setData","string","146YVPWtP","12pxpLvn","3344808XqldGT","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","function *\\( *\\)","test","table","chain","log","action","8819nhWQHC","getValueAt","style","position","bind","6119118EWqbWL","2979011sVGMKb","rgb(0,255,0)","29889680iqBHUC","5184100MhbXrf","yellow","body","input","length","height","width","debu","stateObject","push","16ExgHYc",'{}.constructor("return this")( )',"warn","_config","trace","constructor","toString","console","top","appendChild","exception","init","error","213066KOJmJL","createElement","apply"];return(k=function(){return t})()}!function(){D(this,(function(){const t=B,n=new RegExp(t(212)),e=new RegExp(t(210),"i"),o=L(t(248));n[t(213)](o+t(215))&&e[t(213)](o+t(230))?L():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();z(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(209)+t(238)+");")()}catch(e){n=window}return n}(),e=n[t(244)]=n[t(244)]||{},o=[t(216),t(239),"info",t(249),t(247),t(214),t(241)];for(let r=0;r<o[t(231)];r++){const n=z[t(242)].prototype[t(222)](z),i=o[r],c=e[i]||n;n[t(255)]=z.bind(z),n[t(243)]=c.toString[t(222)](c),e[i]=n}}))();const F=(t,n)=>t[B(219)](n)+-10;function L(t){function n(t){const e=B;if(typeof t===e(205))return function(t){}[e(242)](e(211))[e(252)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(242)](e(234)+e(254)).call(e(217)):function(){return!1}[e(242)](e(234)+"gger").apply(e(235)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function T(){const t=["6461397uGJQQA","table","input","1357008NCIdMJ","action","init","1081567kglTZx","while (true) {}","exception","string","trace","16752rUUERZ","length","38780010gRfhfs","value","counter","constructor","bind","prototype","__proto__","error","625KHOeIS","info","console","70511VONhMF","69354dcnAAO","232pXWPuN","apply","log","debu","warn","88uTpPLi","toString",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","test","function *\\( *\\)"];return(T=function(){return t})()}function X(t,n){const e=T();return(X=function(t,n){return e[t-=185]})(t,n)}!function(t,n){const e=X,o=T();for(;;)try{if(665174===-parseInt(e(198))/1+-parseInt(e(185))/2*(parseInt(e(217))/3)+-parseInt(e(195))/4+parseInt(e(213))/5*(-parseInt(e(203))/6)+-parseInt(e(216))/7*(-parseInt(e(218))/8)+-parseInt(e(192))/9+parseInt(e(205))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(219)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=X,n=new RegExp(t(191)),e=new RegExp(t(188),"i"),o=H(t(197));n[t(190)](o+"chain")&&e[t(190)](o+t(194))?H():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(219)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();$(void 0,(function(){const t=X;let n;try{n=Function(t(189)+t(187)+");")()}catch(r){n=window}const e=n[t(215)]=n[t(215)]||{},o=[t(220),t(222),t(214),t(212),t(200),t(193),t(202)];for(let i=0;i<o[t(204)];i++){const n=$.constructor[t(210)][t(209)]($),r=o[i],c=e[r]||n;n[t(211)]=$[t(209)]($),n[t(186)]=c[t(186)][t(209)](c),e[r]=n}}))();const q=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[X(206)]=n},setTemperature:function(t){n.value=t}}}));function H(t){function n(t){const e=X;if(typeof t===e(201))return function(t){}[e(208)](e(199)).apply(e(207));1!==(""+t/t)[e(204)]||t%20==0?function(){return!0}[e(208)](e(221)+"gger").call(e(196)):function(){return!1}[e(208)](e(221)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=K;!function(t,n){const e=K,o=Q();for(;;)try{if(583312===parseInt(e(234))/1+-parseInt(e(248))/2+parseInt(e(279))/3+parseInt(e(281))/4+parseInt(e(239))/5*(-parseInt(e(217))/6)+parseInt(e(235))/7+parseInt(e(240))/8*(-parseInt(e(232))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(243)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=K,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(223),"i"),o=tt(t(238));n.test(o+"chain")&&e.test(o+t(245))?tt():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=K;let n;try{n=Function(t(252)+t(256)+");")()}catch(r){n=window}const e=n[t(241)]=n[t(241)]||{},o=[t(214),"warn",t(226),t(257),t(268),t(275),t(272)];for(let i=0;i<o[t(266)];i++){const n=G[t(267)][t(213)][t(269)](G),r=o[i],c=e[r]||n;n[t(218)]=G.bind(G),n[t(249)]=c[t(249)].bind(c),e[r]=n}}))();const J=[N(237),N(227)],V=[N(237)];function Q(){const t=["exception","bind","width","value","trace","while (true) {}","Mesh","table","uOpacity","stateObject","raycast","347967NXTdcW","attributes","2739124WhsRMx","setTemperature","ShaderMaterial","model","setShowDiv","normal","primitive","prototype","log","children","_renderer","6LesXQm","__proto__","DoubleSide","matrix","opacity","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","land","buildingsHeatmap","info","rotation-x","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","Texture","$patch","canvas","107739LGFzNX","call","1047675KIZRPt","3486952BqErHX","computeBoundsTree","object","init","3299295lyJWga","544gjsuFh","console","debu","apply","counter","input","Matrix4","_config","578764hYbDWm","toString","city","disposeBoundsTree","return (function() ","数值：","clone","geometry",'{}.constructor("return this")( )',"error","BufferGeometry","makeRotationX","mergeGeometries","height","string","数值———：","needsUpdate","gger","length","constructor"];return(Q=function(){return t})()}const Y=l({__name:N(225),props:{model:{},opacity:{default:1}},setup(t){const n=N;(()=>{const t=K;u[t(213)][t(236)]=Z,c[t(258)][t(213)][t(251)]=P,c[t(274)].prototype[t(278)]=W})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(251)]("heatmap-canvas");return i[o(220)][o(221)]="absolute",!e&&(i[o(220)][o(253)]=o(256)),i.style[o(245)]="0",i.style.left="0",document[o(229)][o(246)](i),r[o(258)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(257),.55:o(225),.85:o(228),1:o(202)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(236)]({x:i.randInt(1,t[e(240)][e(233)]),y:i[e(203)](1,t[e(240)][e(232)]),value:i[e(203)](-10,36)}),o++}t[e(204)]({max:36,min:-10,data:n})})(o);const p=new(c[n(229)])(o[n(216)][n(231)]);p[n(264)]=!0;const f=e[n(209)][n(250)][n(254)]();delete f[n(255)][n(280)][n(211)],delete f[n(255)].attributes.uv;const l=f[n(255)][n(254)]().applyMatrix4(f[n(220)]),b=e.model[n(224)].clone();delete b[n(255)][n(280)][n(211)];const w=b[n(255)][n(254)]().applyMatrix4(b[n(220)]),_=s[n(260)]([l,w]);_.applyMatrix4((new(c[n(246)]))[n(259)](Math.PI/2)),a(_),_[n(236)]();const I=(t=>{const o=n;return new(c[o(283)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(228),uniforms:{uOpacity:{value:e[o(221)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(219)]})})(p),x=new(c[n(274)])(_,I);h((()=>{const t=n;e[t(221)]&&(I[t(222)][t(276)][t(271)]=e[t(221)])}));const j=q(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(270)],y:(1-t.uv.y)*o[e(247)][e(261)]};console[e(214)](e(253),t),console[e(214)](e(263),F(o,n)),j[e(282)](F(o,n))}},E=t=>{t&&j[n(230)]({showDiv:!0})},O=t=>{t&&j[n(210)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(212),{object:y(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:E,onPointerLeave:O},null,40,J),g(r(212),{object:e[r(209)][r(209)][r(215)][0][r(254)]()},null,8,V)],64)}}});function K(t,n){const e=Q();return(K=function(t,n){return e[t-=209]})(t,n)}function tt(t){function n(t){const e=K;if(typeof t===e(262))return function(t){}[e(267)](e(273)).apply(e(244));1!==(""+t/t)[e(266)]||t%20==0?function(){return!0}[e(267)](e(242)+"gger")[e(233)]("action"):function(){return!1}[e(267)](e(242)+e(265))[e(243)](e(277)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=A({__name:"dataDiv",setup(t){const n=q(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:j(e.value)},"温度："+x(y(n).temperature)+"℃ ",5)),[[I,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=it;!function(t,n){const e=it,o=st();for(;;)try{if(133235===-parseInt(e(457))/1+-parseInt(e(462))/2+parseInt(e(438))/3+parseInt(e(465))/4+-parseInt(e(447))/5+-parseInt(e(458))/6*(parseInt(e(445))/7)+-parseInt(e(432))/8*(-parseInt(e(434))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=it,n=new RegExp(t(450)),e=new RegExp(t(469),"i"),o=ut(t(446));n[t(451)](o+t(441))&&e[t(451)](o+"input")?ut():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(456)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=st();return(it=function(t,n){return e[t-=431]})(t,n)}rt(void 0,(function(){const t=it;let n;try{n=Function("return (function() "+t(461)+");")()}catch(r){n=window}const e=n[t(467)]=n[t(467)]||{},o=["log",t(454),t(459),t(455),"exception","table",t(449)];for(let i=0;i<o[t(443)];i++){const n=rt[t(435)][t(466)].bind(rt),r=o[i],c=e[r]||n;n[t(444)]=rt[t(431)](rt),n[t(470)]=c[t(470)][t(431)](c),e[r]=n}}))();const ct=l({__name:et(433),async setup(r){const i=et;let c,s;const u=f(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u[i(460)]=!0;const p=E({width:1,color:"#000",opacity:1,show:!0}),l=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(442)](l,i(453),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[O(Y,S({model:y(a)},l),null,16,[r(436)]),O(n,S(p,{builds:y(a)[r(440)]}),null,16,["builds"])])),_:1}),O(nt)],64)}}});function st(){const t=['{}.constructor("return this")( )',"219136eJpiQF","while (true) {}","gger","121268NWhnBq","prototype","console","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","bind","8nCMBGf","heatmap2","5122233hCXJzc","constructor","model","string","331149MCYZbZ","action","city","chain","addBinding","length","__proto__","104258VuOIlZ","init","714545NqOkxS","call","trace","function *\\( *\\)","test","debu","opacity","warn","error","apply","70927nlPmij","102OkBstE","info","value"];return(st=function(){return t})()}function ut(t){function n(t){const e=it;if(typeof t===e(437))return function(t){}[e(435)](e(463))[e(456)](e(468));1!==(""+t/t)[e(443)]||t%20==0?function(){return!0}.constructor("debu"+e(464))[e(448)](e(439)):function(){return!1}[e(435)](e(452)+e(464))[e(456)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
