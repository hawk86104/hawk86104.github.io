import{m as t,_ as n}from"./gl-matrix.EWDFy6GM1741658416045.js";import{i as r,r as e,d as o}from"./ice-utils.U7ZcLEKu1741658416045.js";import{d as i,q as a,o as c,H as u}from"./@vue.NRI7TcgI1741658416045.js";const s=E;function f(){const t=["TEXTURE_WRAP_S","CLAMP_TO_EDGE","info","bindFramebuffer","createBuffer","bindTexture","multiply","canvaswebgl","prototype","COLOR_BUFFER_BIT","texParameteri","warn","enableVertexAttribArray","DEPTH_BUFFER_BIT","55181aTECnR","uniform1i",'{}.constructor("return this")( )',"width","create","clientHeight","LINEAR","bufferData","stateObject","9435760xRADiv","viewport","TEXTURE_MIN_FILTER","getAttribLocation","apply","function *\\( *\\)","canvas","framebufferTexture2D","FRAMEBUFFER","ARRAY_BUFFER","NEAREST","height","clearColor","DEPTH_TEST","clear","return (function() ","pixelStorei","createFramebuffer","enable","500px","mat4","STATIC_DRAW","6227420iDEIXw","texImage2D","rotate","u_matrix","TEXTURE_2D","26259CQUpNa","uniformMatrix4fv","trace","906rtvjsO","344oXiDjN","while (true) {}","chain","878390dtWxTQ","init","bindBuffer","11480210ImjmLx","call","input","u_texture","a_texcoord","debu","drawArrays","RGBA","UNSIGNED_BYTE","constructor","7651296WJnrHx","string","lookAt","vertexAttribPointer","a_position","gger","TEXTURE_WRAP_T","2swBKVl","test","FLOAT","TEXTURE_MAG_FILTER","COLOR_ATTACHMENT0","#canvaswebgl","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","\nprecision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\nvoid main(){\n\tgl_FragColor=texture2D(u_texture, v_texcoord.xy);\n}\n","createTexture","bind","length"];return(f=function(){return t})()}!function(t,n){const r=E,e=f();for(;;)try{if(637912===-parseInt(r(486))/1*(parseInt(r(506))/2)+parseInt(r(569))/3*(parseInt(r(573))/4)+-parseInt(r(564))/5+parseInt(r(572))/6*(parseInt(r(533))/7)+-parseInt(r(542))/8+parseInt(r(499))/9+parseInt(r(489))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const l=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){l(this,(function(){const t=E,n=new RegExp(t(547)),r=new RegExp(t(513),"i"),e=p(t(487));n[t(507)](e+t(485))&&r.test(e+t(491))?p():e("0")}))()}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[E(546)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function E(t,n){const r=f();return(E=function(t,n){return r[t-=485]})(t,n)}_(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(557)+t(535)+");")()}catch(r){n=window}return n}(),r=n[t(514)]=n[t(514)]||{},e=["log",t(530),t(521),"error","exception",t(512),t(571)];for(let o=0;o<e[t(518)];o++){const n=_[t(498)][t(527)].bind(_),i=e[o],a=r[i]||n;n.__proto__=_[t(517)](_),n.toString=a.toString.bind(a),r[i]=n}}))();const A={id:s(526),style:{height:"500px",width:s(561)}},R=s(515),T=i({__name:"webglFrameBuffer",setup(i){const s=function(){const i=E,a=document.querySelector(i(511)),c=null==a?void 0:a.getContext("webgl");if(!c)return;var u=r(c,"\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\nuniform mat4 u_matrix;\nvarying vec2 v_texcoord;\nvoid main() {\n  gl_Position = u_matrix * a_position;\n  v_texcoord = a_texcoord;\n}",R),s=c[i(545)](u,i(503)),f=c.getAttribLocation(u,i(493)),l=c.getUniformLocation(u,i(567)),_=c.getUniformLocation(u,i(492)),A=c.createBuffer();c[i(488)](c.ARRAY_BUFFER,A),function(t){const n=E;var r=new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5]);t[n(540)](t[n(551)],r,t[n(563)])}(c);var T=c[i(523)]();c[i(488)](c.ARRAY_BUFFER,T),function(t){const n=E;t[n(540)](t[n(551)],new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1]),t.STATIC_DRAW)}(c);var p=c[i(516)]();c.bindTexture(c[i(568)],p);{const t=0,n=c[i(496)],r=1,e=1,o=0,a=c[i(496)],u=c[i(497)],s=new Uint8Array([255,255,0,255]),f=1;c[i(558)](c.UNPACK_ALIGNMENT,f),c[i(565)](c[i(568)],t,n,r,e,o,a,u,s),c.texParameteri(c[i(568)],c[i(544)],c[i(552)]),c[i(529)](c.TEXTURE_2D,c[i(509)],c.NEAREST),c[i(529)](c[i(568)],c[i(519)],c[i(520)]),c[i(529)](c[i(568)],c[i(505)],c[i(520)])}const m=c[i(516)]();c[i(524)](c[i(568)],m);{const t=0,n=c[i(496)],r=0,e=c[i(496)],o=c[i(497)],a=null;c[i(565)](c.TEXTURE_2D,t,n,256,256,r,e,o,a),c[i(529)](c[i(568)],c[i(544)],c[i(539)]),c.texParameteri(c[i(568)],c[i(519)],c[i(520)]),c[i(529)](c[i(568)],c[i(505)],c[i(520)])}const x=c[i(559)]();c.bindFramebuffer(c.FRAMEBUFFER,x);const F=c[i(510)];c[i(549)](c[i(550)],F,c.TEXTURE_2D,m,0);var v=o(0),d=0;function b(r){const e=i;c.useProgram(u),c[e(531)](s),c[e(488)](c[e(551)],A);var o=3,a=c[e(508)],E=!1,R=0,p=0;c[e(502)](s,o,a,E,R,p),c[e(531)](f),c[e(488)](c.ARRAY_BUFFER,T);o=2,a=c.FLOAT,E=!1,R=0,p=0;c.vertexAttribPointer(f,o,a,E,R,p);var m=t[e(537)]();n[e(562)].perspective(m,-30,r,.1,1e4);let x=t[e(537)]();x=n[e(562)][e(566)](x,x,v,[0,1,0]);var F=n[e(562)][e(537)]();t[e(501)](F,[0,0,2],[0,0,0],[0,1,0]);let d=n[e(562)][e(537)]();n[e(562)][e(525)](d,F,x);var b=n[e(562)][e(537)]();n[e(562)][e(525)](b,m,d),c[e(570)](l,!1,b),c[e(534)](_,0),c[e(495)](c.TRIANGLES,0,36)}requestAnimationFrame((function t(n){const r=i;var o=(n*=.001)-d;d=n,v+=-.4*o,e(c[r(548)]),c.enable(c.CULL_FACE),c[r(560)](c[r(555)]);c[r(522)](c.FRAMEBUFFER,x),c.bindTexture(c[r(568)],p),c[r(543)](0,0,256,256),c[r(554)](0,1,0,1),c.clear(c[r(528)]|c[r(532)]);b(1);c[r(522)](c.FRAMEBUFFER,null),c[r(524)](c[r(568)],m),c[r(543)](0,0,c[r(548)][r(536)],c[r(548)][r(553)]),c.clearColor(1,1,1,1),c[r(556)](c[r(528)]|c[r(532)]);b(c[r(548)].clientWidth/c.canvas[r(538)]);requestAnimationFrame(t)}))};return a((()=>{s()})),(t,n)=>(c(),u("canvas",A))}});function p(t){function n(t){const r=E;if(typeof t===r(500))return function(t){}[r(498)](r(574)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(494)+r(504))[r(490)]("action"):function(){return!1}[r(498)](r(494)+r(504))[r(546)](r(541)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{T as default};
