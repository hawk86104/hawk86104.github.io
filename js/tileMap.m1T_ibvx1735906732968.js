import{_ as t,V as n,cI as e}from"./three.VhLXWX0H1735906732968.js";import{P as o}from"./tweakpane.yHWGBmom1735906732968.js";import{m as r,e as s}from"./@tresjs.XlmHwCPa1735906732968.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.YoNBl7Br1735906732968.js";import{d as f,a1 as g,w as d,o as h,D as j,u as b,X as w,r as x,e as y,j as v,g as I,f as _,al as C,m as M,F as z}from"./@vue.yG49nQHr1735906732968.js";import{_ as B}from"./raycasterEvent.b4RAk8zO1735906732968.js";import{a as S}from"./utils.5YqYKEKg1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";import"./@mapbox.xiw2Ycr81735906732968.js";import"./@amap.goWAqh1c1735906732968.js";import"./three-mesh-bvh.vwwt1TUO1735906732968.js";import"./three-custom-shader-material.YE7pvEe61735906732968.js";import"./@fesjs.OL5agSaf1735906732968.js";import"./vue-router.OGOa9Z4t1735906732968.js";import"./lodash-es.kYt-_xTG1735906732968.js";import"./@qlin.yHhFDldE1735906732968.js";import"./pinia.ZaWyowAg1735906732968.js";import"./vue-demi.C4xddsk91735906732968.js";import"./@floating-ui.BPbuo5Gx1735906732968.js";import"./@juggle.7yjBMqoW1735906732968.js";import"./@tweenjs.N-Wo2kDo1735906732968.js";import"./utils.fcbD8SSm1735906732968.js";import"./d3-geo.4Di6JovN1735906732968.js";import"./d3-array.AhNJy1f41735906732968.js";import"./http.JkZRcWRb1735906732968.js";import"./axios.Ng308AU61735906732968.js";import"./color.haSpCqb01735906732968.js";import"./color-string.IjKZSELP1735906732968.js";import"./color-name.czBXAaSK1735906732968.js";import"./simple-swizzle.WBJBrpCb1735906732968.js";import"./is-arrayish.qVLEonxd1735906732968.js";import"./color-convert.USo3-bcH1735906732968.js";import"./lodash.20YzCs2I1735906732968.js";import"./naive-ui.IVf1lX141735906732968.js";import"./date-fns.dsKIdits1735906732968.js";import"./@css-render.Mn5S1WzA1735906732968.js";import"./seemly.SjiSeX2v1735906732968.js";import"./css-render.C0YosXTK1735906732968.js";import"./@emotion.ZD_ZYAgY1735906732968.js";import"./vooks.RdnnuQdS1735906732968.js";import"./evtd.DtfwxtIl1735906732968.js";import"./vueuc.LRz0HiYR1735906732968.js";import"./vdirs.JCTAKG9p1735906732968.js";import"./treemate.dcEdf2le1735906732968.js";import"./date-fns-tz.BOmHJ0uI1735906732968.js";import"./async-validator.-YBkpS4I1735906732968.js";const k=W;function T(){const t=["enableDamping","Vector3","coordType","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","filter","6pcLcgT","return (function() ","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","tileMapMesh","value","rotation","error","length","apply","object","innerHeight","monochrome","showTileNo","isMonochrome","log","position","info","render","abs","far","counter","init","test","14OJxcjx","while (true) {}","genBright","prototype","PerspectiveCamera","position0","bind","23210bVBsYy","useWorker","showBoundingBox","debu","constructor","5798170gzRxig","321316ZgGnYH",'{}.constructor("return this")( )',"update","__proto__","tweenInstance","5170884VgGKbp","opposite","5598iBeCKW","chain","gger","flatShading","input","table","domElement","trace","console","bbox","set","60JLUPwp","call","1073677XPKrKA","wireframe","genContrast","6aoIvKC","mapCenter","365836kjqzQX","useStandardMaterial","lookAt","Color","source","11067680nSqiLy","innerWidth","minDistance","warn","function *\\( *\\)","maxZoom","genSaturation"];return(T=function(){return t})()}!function(t,n){const e=W,o=T();for(;;)try{if(921093===parseInt(e(549))/1*(parseInt(e(488))/2)+parseInt(e(547))/3*(-parseInt(e(524))/4)+parseInt(e(523))/5+-parseInt(e(529))/6*(parseInt(e(511))/7)+-parseInt(e(554))/8+parseInt(e(531))/9*(parseInt(e(518))/10)+parseInt(e(544))/11*(parseInt(e(542))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(496)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=W,n=new RegExp(t(558)),e=new RegExp(t(486),"i"),o=Z(t(509));n[t(510)](o+t(532))&&e.test(o+t(535))?Z():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=T();return(W=function(t,n){return e[t-=486]})(t,n)}L(void 0,(function(){const t=W;let n;try{n=Function(t(489)+t(525)+");")()}catch(r){n=window}const e=n[t(539)]=n.console||{},o=[t(502),t(557),t(504),t(494),"exception",t(536),t(538)];for(let s=0;s<o[t(495)];s++){const n=L[t(522)][t(514)].bind(L),r=o[s],i=e[r]||n;n[t(527)]=L[t(517)](L),n.toString=i.toString[t(517)](i),e[r]=n}}))();const E=[k(497),k(493)],K=f({__name:k(491),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:m}){const f=k,w=o,{renderer:x,scene:y}=r();(new i)[f(563)]=a;const v=new c;v[f(553)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",v.coordType=a;const I=new u;I[f(553)]=f(490),I[f(500)]=!1,I[f(519)]=!0;const _=new p(v,I);if(_[f(520)]=!1,_[f(545)]=!1,_[f(534)]=!1,_[f(550)]=!1,_[f(487)]={opposite:w[f(530)],monochrome:w[f(501)]?{r:.299,g:.587,b:.114}:null,genBright:w[f(513)],genContrast:w[f(546)],genSaturation:w.genSaturation},w.monochrome){let n=new(t[f(552)])(w.monochrome);_[f(487)]&&(_[f(487)].monochrome={r:n.r,g:n.g,b:n.b})}const C=new l;C.provider=_,C[f(540)]=w[f(540)],C[f(559)]=w[f(559)];const M=new(t[f(515)])(60,window[f(555)]/window[f(498)],1,1e8);M.up=new n(0,1,0),M[f(503)].set(w[f(548)][0],w.mapCenter[2],-w.mapCenter[1]),M[f(551)](new(t[f(562)])(M[f(503)].x,0,M.position.z-2e3)),C.camera=M;let z=null;g((()=>{const t=f;x[t(492)]&&!z&&(z=new e(M,x[t(492)][t(537)]),z[t(561)]=!0,z.dampingFactor=.05,z[t(556)]=600,z[t(516)][t(541)](M.position.x,M[t(503)].y,M[t(503)].z),z.target[t(541)](M.position.x,0,M[t(503)].z-2e3))})),d((()=>[w[f(530)],w.isMonochrome,w[f(499)]]),(([n,e,o])=>{const r=f;if(_.filter){let s=new(t[r(552)])(o);_[r(487)][r(530)]=n,_[r(487)].monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),d((()=>[w[f(513)],w[f(546)],w[f(560)]]),(([t,n,e])=>{const o=f;_[o(487)]&&(_[o(487)][o(513)]=t,_[o(487)][o(546)]=n,_.filter[o(560)]=e)}));const{onLoop:B}=s();return B((()=>{var t;const n=f;if(x[n(492)]){null==(t=w[n(528)])||t[n(526)](),z&&z[n(526)](),C.update();const e=50*Math[n(506)](M[n(503)].y);M[n(507)]=e+5e3,M.updateProjectionMatrix(),x[n(492)][n(505)](y[n(492)],M)}})),m({camera:M,map:C,orbitControl:z}),(t,n)=>(h(),j("primitive",{object:b(C),rotation:[-Math.PI/2,0,0]},null,8,E))}});function Z(t){function n(t){const e=W;if("string"==typeof t)return function(t){}.constructor(e(512))[e(496)](e(508));1!==(""+t/t)[e(495)]||t%20==0?function(){return!0}[e(522)]("debu"+e(533))[e(543)]("action"):function(){return!1}[e(522)](e(521)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function A(t,n){const e=D();return(A=function(t,n){return e[t-=295]})(t,n)}!function(t,n){const e=A,o=D();for(;;)try{if(242968===-parseInt(e(330))/1*(-parseInt(e(332))/2)+parseInt(e(321))/3+-parseInt(e(324))/4+-parseInt(e(328))/5*(-parseInt(e(345))/6)+parseInt(e(353))/7*(-parseInt(e(355))/8)+-parseInt(e(351))/9+parseInt(e(322))/10*(-parseInt(e(312))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(310)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=A,n=new RegExp(t(309)),e=new RegExp(t(352),"i"),o=X("init");n.test(o+t(314))&&e[t(306)](o+t(298))?X():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(310)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["error","gger","camera","滤镜颜色","orbitControl","while (true) {}","test","奥体中心","genBright","function *\\( *\\)","apply","genContrast","7323371ZhakEy","饱和度","chain","对比度","call",'{}.constructor("return this")( )',"prototype","return (function() ","#4688b5","1272750jkpwyy","10rWWeWs","tweenInstance","1415816YnWXtR","trace","console","exception","205DYekTK","bind","1379RfKLmC","单色滤镜","578BxTIHF","SRGBColorSpace","string","addBinding","counter","TresCanvas","action","toString","list","#201919","manual","warn","opposite","67878TEYwbv","xjk","table","length","constructor","NoToneMapping","139905XLsTNn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","58702WbcurU","牛首山","8cxjvGQ","info","value","nss","monochrome","debu","input","stateObject"];return(D=function(){return t})()}Y(void 0,(function(){const t=A;let n;try{n=Function(t(319)+t(317)+");")()}catch(r){n=window}const e=n[t(326)]=n[t(326)]||{},o=["log",t(343),t(356),t(300),t(327),t(347),t(325)];for(let s=0;s<o[t(348)];s++){const n=Y[t(349)][t(318)].bind(Y),r=o[s],i=e[r]||n;n.__proto__=Y[t(329)](Y),n[t(339)]=i.toString[t(329)](i),e[r]=n}}))();const F=f({__name:"tileMap",setup(e){const r=A,s=m(118.779958,32.017136),i=[s[0],s[1],5e3],a=w(),c=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:r(320),mapCenter:i,tweenInstance:null}),u=new o({title:"参数"});u[r(335)](c,r(344),{label:"反色"}),u[r(335)](c,r(308),{label:"高亮",min:.1,max:3,step:.1}),u.addBinding(c,r(311),{label:r(315),min:.1,max:3,step:.1}),u[r(335)](c,"genSaturation",{label:r(313),min:.1,max:3,step:.1}),u[r(335)](c,"isMonochrome",{label:r(331)}),u[r(335)](c,r(296),{label:r(303)});const p={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};u.addBlade({view:r(340),label:"飞去",options:[{text:r(307),value:"at"},{text:"新街口",value:r(346)},{text:r(354),value:r(295)}],value:"at"}).on("change",(t=>{const e=r,o=new n(p[t[e(357)]][0],2e3,-p[t[e(357)]][1]);c[e(323)]=S(a[e(357)][e(302)],o,a[e(357)][e(304)],[0,-300],4e3)}));const l=x({clearColor:r(341),antialias:!0,logarithmicDepthBuffer:!0,renderMode:r(342),outputColorSpace:t[r(333)],toneMapping:t[r(350)]});return setTimeout((()=>{const t=r,e=p.at,o=new n(e[0],1600,-e[1]);c[t(323)]=S(a[t(357)][t(302)],o,a[t(357)][t(304)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=y(r(337));return h(),j(z,null,[v(e,M(l,{"window-size":""}),{default:I((()=>[(h(),_(C,null,{default:I((()=>[v(K,M(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),v(B,{tileMapRef:a.value},null,8,["tileMapRef"])],64)}}});function X(t){function n(t){const e=A;if(typeof t===e(334))return function(t){}.constructor(e(305))[e(310)](e(336));1!==(""+t/t)[e(348)]||t%20==0?function(){return!0}[e(349)](e(297)+e(301))[e(316)](e(338)):function(){return!1}[e(349)]("debu"+e(301))[e(310)](e(299)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
