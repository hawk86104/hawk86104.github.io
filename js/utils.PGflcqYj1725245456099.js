import"./@fesjs.Ns9rHvZ61725245456099.js";import{_ as t}from"./jszip.Bn2AE-kY1725245456099.js";import{F as n}from"./file-saver.pRxg4JZa1725245456099.js";import{a6 as e,aJ as s}from"./three.KG2-8r0_1725245456099.js";const o=g;!function(t,n){const e=g,s=l();for(;;)try{if(138799===-parseInt(e(379))/1+parseInt(e(366))/2*(parseInt(e(321))/3)+-parseInt(e(357))/4*(parseInt(e(388))/5)+parseInt(e(372))/6*(-parseInt(e(322))/7)+parseInt(e(393))/8+parseInt(e(367))/9*(-parseInt(e(377))/10)+parseInt(e(382))/11*(parseInt(e(406))/12))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){a(this,(function(){const t=g,n=new RegExp(t(340)),e=new RegExp(t(375),"i"),s=b("init");n[t(351)](s+t(399))&&e.test(s+t(335))?b():s("0")}))()}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[g(404)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function i(t){const n=o,s=new(e[n(363)]);return new Promise(((e,o)=>{const a=n;s.load(t,(t=>e(JSON[a(336)](t))),void 0,(t=>o(t)))}))}async function c(t){const n=o,s=new(e[n(363)]);return new Promise(((e,a)=>{const r=n;s[r(397)](r(411)),s.load(t,(n=>{const s=r,i=new FileReader;i[s(364)]=()=>{const n=s,a=function(t){const n=o,e=t[n(383)](".")[n(384)]()[n(396)]();return{jpg:n(361),jpeg:n(361),png:"image/png",gif:n(341),bmp:"image/bmp",webp:n(373)}[e]||n(317)}(t),r=i[n(354)][n(383)](",")[1];e("data:"+a+n(380)+r)},i[s(394)]=t=>{a(t)},i.readAsDataURL(n)}),void 0,(t=>a(t)))}))}r(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(346)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(407)]=n[t(407)]||{},s=[t(352),"warn",t(381),t(343),t(349),t(318),t(334)];for(let o=0;o<s[t(389)];o++){const n=r.constructor[t(395)][t(332)](r),a=s[o],i=e[a]||n;n[t(312)]=r[t(332)](r),n.toString=i[t(327)].bind(i),e[a]=n}}))(),e[o(398)][o(386)]=!0;const u=n=>{const e=o,a=new s;return a[e(397)]("blob"),new Promise(((s,o)=>{a[e(362)](n,(async n=>{s(await t.loadAsync(n))}),void 0,(t=>o(t)))}))},p=t=>{const n=o,e=t[n(344)](0,15),s=n(347),a=n(390),r=n(329),i=n(342),c=n(338),u=n(320);return s[n(392)](e)||a[n(392)](e)?n(365):r.startsWith(e)||i[n(392)](e)?n(369):c[n(392)](e)||"data:image/GIF;base64,".startsWith(e)?n(371):u[n(392)](e||"data:image/WEBP;base64,"[n(392)](e))?n(378):n(348)};function l(){const t=["data:image/png;base64,","counter","app.json","bind","uuid","trace","input","parse","then","data:image/gif;base64,","gger","function *\\( *\\)","image/gif","data:image/PNG;base64,","error","substring",".json","return (function() ","data:image/jpeg;base64,","Unknown","exception","folder","test","log","type","result","config.zip","data:image/","64OijBaK","endsWith","forEach","push","image/jpeg","load","FileLoader","onloadend","JPEG","50030eMOyQt","1202022OhHNBX","url:images/","PNG","stateObject","GIF","6LweubB","image/webp","file","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","name","10ehypdx","WEBP","205670iqYOKf",";base64,","info","4528227tErBzf","split","pop","base64","enabled","geometries","23795wjvJWo","length","data:image/JPEG;base64,","toUpperCase","startsWith","1575144thEncR","onerror","prototype","toLowerCase","setResponseType","Cache","chain","get","string","constructor","url:","apply","catch","12anlCxs","console","images","stringify","async","blob","while (true) {}","__proto__","url:geometries/","message","files","readAsDataURL","application/octet-stream","table","data","data:image/webp;base64,","6uVkhdH","730863kRyYYb","debu","非标准文件：不存在 app.json","url","scene","toString","slice"];return(l=function(){return t})()}const f=e=>{const s=o,a=[];e[s(326)].geometries&&e.scene[s(387)][s(359)]((t=>{const n=s;"BufferGeometry"===t.type&&(a[n(360)]({uuid:t[n(333)],data:t.data}),t.data=n(313)+t.uuid+n(345))}));const r=[];e[s(326)][s(408)]&&e[s(326)][s(408)][s(359)]((t=>{const n=s;t[n(325)]&&(r[n(360)]({uuid:t[n(333)],url:t.url}),t[n(325)][n(353)]?t.url=n(368)+t.uuid+"."+t[n(325)].type+n(345):t[n(325)]=n(368)+t[n(333)]+"."+p(t[n(325)]))}));const i=new t;if(a[s(389)]){const t=i[s(350)]("geometries");a.forEach((n=>{const e=s;t[e(374)](n[e(333)]+e(345),JSON[e(409)](n.data))}))}if(r[s(389)]){const t=i.folder("images");r[s(359)]((n=>{const e=s;n[e(325)][e(353)]?t[e(374)](n[e(333)]+"."+n[e(325)][e(353)]+e(345),JSON[e(409)](n.url)):t[e(374)](n[e(333)]+"."+p(n[e(325)]),n[e(325)][e(383)](e(380))[e(384)](),{base64:!0})}))}const c=JSON.stringify(e);return i[s(374)](s(331),c),i.generateAsync({type:"blob"})[s(337)]((t=>{const e=s;n.saveAs(t,e(355))}))};function g(t,n){const e=l();return(g=function(t,n){return e[t-=311]})(t,n)}const d=(t,n,e)=>{t.geometries<=0&&t.images<=0&&e(n)},m=(n,e)=>{let s=null;return t.loadAsync(n).then((t=>{const n=g;t[n(315)]["app.json"]?t[n(315)][n(331)][n(410)](n(401)).then((a=>{var r,i;const c=n;s=JSON.parse(a);const u=(t=>{var n,e;const s=o,a={geometries:0,images:0};return null==(n=t[s(326)][s(387)])||n.forEach((t=>{const n=s;t.data[n(392)](n(403))&&a.geometries++})),null==(e=t[s(326)].images)||e[s(359)]((t=>{const n=s;t[n(325)][n(392)]("url:")&&a[n(408)]++})),a})(s);d(u,s,e),null==(r=s[c(326)].geometries)||r[c(359)]((n=>{const o=c;n[o(319)][o(392)](o(403))&&t.files[n[o(319)][o(328)](4)][o(410)](o(401))[o(337)]((t=>{const a=o;n[a(319)]=JSON[a(336)](t),u[a(387)]--,d(u,s,e)}))})),null==(i=s[c(326)].images)||i[c(359)]((n=>{const o=c;if(n[o(325)].startsWith("url:")){const a=n[o(325)].slice(4);a[o(358)](o(345))?t[o(315)][a][o(410)]("string")[o(337)]((t=>{const a=o;n[a(325)]=JSON[a(336)](t),u.images--,d(u,s,e)})):t[o(315)][a][o(410)](o(385))[o(337)]((t=>{const r=o,i=a[r(383)]("."),c=i[i[r(389)]-1][r(391)]();n.url=r(356)+c+r(380)+t,u[r(408)]--,d(u,s,e)}))}}))})):console[n(343)](n(324))}),(t=>{const e=g;console[e(343)](n[e(376)]+": "+t[e(314)])})),s};function b(t){function n(t){const e=g;if(typeof t===e(401))return function(t){}[e(402)](e(311)).apply(e(330));1!==(""+t/t).length||t%20==0?function(){return!0}[e(402)]("debu"+e(339)).call("action"):function(){return!1}[e(402)](e(323)+e(339))[e(404)](e(370)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{u as a,c as b,f as e,p as g,m as i,i as l};
