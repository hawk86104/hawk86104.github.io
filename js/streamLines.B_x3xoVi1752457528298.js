import{e,b as s,a}from"./@tresjs.CutcgRLX1752457528298.js";import{P as t}from"./tweakpane.C0HtAJSg1752457528298.js";import"./index.C3O8lKBd1752457528298.js";import{d as i,a9 as r,w as o,G as l,o as n,I as p,u as m,r as d,h as u,e as j,f as c,j as f,a4 as g,a6 as b,a7 as w,m as h}from"./@vue.CcDZ19ef1752457528298.js";import{aL as _,ac as v,V as y,cH as x,a3 as B,bb as L}from"./three.DOaOWaa_1752457528298.js";import{g as S}from"./utils.DzPdZry_1752457528298.js";import{_ as M}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.B1ti03Dd1752457528298.js";import"./postprocessing.BhLg8VAN1752457528298.js";import"./@vueuse.D5pFWdqo1752457528298.js";import"./all.three.DW_Kslxn1752457528298.js";import"./oimophysics.BBtHVm4j1752457528298.js";import"./reflectorDiffuse.Ydsz-YFH1752457528298.js";import"./vite-plugin-qiankun.B06WoCqG1752457528298.js";import"./index.BK5326_A1752457528298.js";import"./object-hash.i0UzGAXb1752457528298.js";import"./@amap.CGUF9xH41752457528298.js";import"./jszip.D2VcMNWo1752457528298.js";import"./three-stdlib.ck7BW5PC1752457528298.js";import"./whiteFloor.Cg9_B5fp1752457528298.js";import"./@tweenjs.ULy8-5Ku1752457528298.js";import"./utils.VcxqxEC-1752457528298.js";import"./@fesjs.t5OnzKcQ1752457528298.js";import"./vue-router.8pdmj1nv1752457528298.js";import"./lodash-es.C7pWAXPe1752457528298.js";import"./@qlin.q6OWdsQV1752457528298.js";import"./pinia.D2lIig6I1752457528298.js";import"./@babel.BPq7uOAK1752457528298.js";import"./@floating-ui.BFjFSAYt1752457528298.js";import"./@juggle.CcBCnTIR1752457528298.js";import"./three-mesh-bvh.FzI0NuyQ1752457528298.js";import"./d3-geo.D9g3Uc5l1752457528298.js";import"./d3-array.G5ptHY8Z1752457528298.js";import"./axios.BW-xZuO_1752457528298.js";import"./axios.DLTVXJci1752457528298.js";import"./color.DAImz3jb1752457528298.js";import"./color-string.DyudSztz1752457528298.js";import"./color-name.BQ5IbGbl1752457528298.js";import"./simple-swizzle.jX2c7ix51752457528298.js";import"./is-arrayish.CLsR9Wfx1752457528298.js";import"./color-convert.D8VegfYO1752457528298.js";import"./lodash.BD7nYDll1752457528298.js";const k=["args"],T=["blending","map","side","alphaMap","color"],N=i({__name:"streamLine",props:{color:{default:"#2bc4dc"},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(a){let t,i;const d=a,{map:u}=([t,i]=r((()=>s({map:"./plugins/digitalCity/image/line2.png"}))),t=await t,i(),t);u.needsUpdate=!0,u.wrapS=u.wrapT=_,u.repeat.set(d.fewNum,1),u.rotation=d.clockwise?0:Math.PI,u.generateMipmaps=!1,u.magFilter=v;let j=[];d.linesList.forEach((e=>{j.push((new y).fromArray(e))}));const c=new x(j),{onLoop:f}=e();return f((()=>{u.offset.x+=.002*d.speed})),o((()=>[d.clockwise,d.fewNum]),(([e,s])=>{u.rotation=e?0:Math.PI,u.repeat.set(s,1)})),(e,s)=>(n(),l("TresMesh",null,[p("TresTubeGeometry",{args:[m(c),d.tubularSegments,d.radius,d.radialSegments,d.closed]},null,8,k),p("TresMeshBasicMaterial",{blending:L,map:m(u),side:B,alphaMap:m(u),transparent:!0,color:d.color},null,8,T)]))}}),z=i({__name:"streamLines",async setup(e){let s,i;const o=d({reflectivity:.1,showGridHelper:!1,scale:5}),l=d({color:"#bd01ff",radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),_=new t;_.addBinding(l,"color",{label:"流光颜色"}),_.addBinding(l,"radius",{label:"管道半径",min:.01,max:1,step:.01}),_.addBinding(l,"speed",{label:"跑动速度",min:.1,max:10,step:.1}),_.addBinding(l,"tubularSegments",{label:"管道路径平滑",min:1,max:100,step:1}),_.addBinding(l,"radialSegments",{label:"管道壁圆润",min:1,max:20,step:1}),_.addBinding(l,"closed",{label:"闭合管道"}),_.addBinding(l,"clockwise",{label:"顺时针流动"}),_.addBinding(l,"fewNum",{label:"流线数量",min:1,max:10,step:1});const v=([s,i]=r((()=>S("./plugins/simpleGIS/json/320000_full.json"))),s=await s,i(),s);return(e,s)=>{const t=u("TresCanvas");return n(),j(t,{clearColor:"#201919","window-size":""},{default:c((()=>[s[0]||(s[0]=p("TresPerspectiveCamera",{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1)),f(m(a),{enableDamping:"",autoRotate:""}),(n(),j(g,null,{default:c((()=>[f(N,b(w(l)),null,16)])),_:1})),(n(),j(g,null,{default:c((()=>[f(N,{linesList:m(v),position:[0,0,-4]},null,8,["linesList"])])),_:1})),(n(),j(g,null,{default:c((()=>[f(m(M),h({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});export{z as default};
