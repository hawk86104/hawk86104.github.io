import{_ as t,bO as e,V as i,ar as n,C as r,b as s,a as o,aX as a,B as c}from"./three.sQDbNBks1741583630766.js";const h=f;!function(t,e){const i=f,n=d();for(;;)try{if(720745===-parseInt(i(190))/1+parseInt(i(583))/2+-parseInt(i(327))/3*(-parseInt(i(562))/4)+-parseInt(i(281))/5*(-parseInt(i(161))/6)+parseInt(i(350))/7+parseInt(i(268))/8*(-parseInt(i(184))/9)+parseInt(i(146))/10*(parseInt(i(388))/11))break;n.push(n.shift())}catch(r){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(239)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){u(this,(function(){const t=f,e=new RegExp(t(330)),i=new RegExp(t(467),"i"),n=g("init");e[t(342)](n+t(191))&&i[t(342)](n+"input")?g():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(239)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function f(t,e){const i=d();return(f=function(t,e){return i[t-=133]})(t,e)}l(void 0,(function(){const t=f,e=function(){const t=f;let e;try{e=Function(t(499)+'{}.constructor("return this")( ));')()}catch(i){e=window}return e}(),i=e[t(214)]=e[t(214)]||{},n=[t(256),"warn",t(348),t(367),t(398),t(503),t(528)];for(let r=0;r<n[t(476)];r++){const e=l[t(318)][t(257)][t(354)](l),s=n[r],o=i[s]||e;e.__proto__=l.bind(l),e[t(553)]=o.toString.bind(o),i[s]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function d(){const t=["bufferAttribute","getHex","subarray","ShaderAttribute","rotation","object","2724395XAtTsO","getLength","textureFrames","        float perspective = scale / length( mvPosition.xyz );","texture","uuid","        pos = getRotation( pos, positionInTime );","shaders","call","activationEnd","angleSpread","uniform float scale;","angle","       vec3 c = vec3(1.0);","particlesPerSecond","   c -= vec3( 1.0 );","rotationCenter","setRGB","tick","_angle","_attributesNeedDynamicReset","_activateParticles","static","gger","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","clamp","    vec3 accel = getAcceleration( age );","generateUUID","varyings","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","setColor","_checkParticleAges","vec4 getPosition( in float age ) {","textureFrameCount","_ensureTypedArray","set","        float rowNorm = row / framesY;","constructor","       float oc = 1.0 - c;","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","ShaderChunk","number","      float angle = 0.0;","exports","SPHERE","SHOULD_WIGGLE_PARTICLES","3SHDNSa","depthWrite","      }","function *\\( *\\)","unpackColor","        pos.z += wiggleSin;","        float rowNorm = vSpriteSheet.w;","                   0.0,                                0.0,                                0.0,                                1.0);","       float c = cos( -vAngle );","    #else","wiggle","warn","setVec4Components","_center","SPE.Group pool ran out.","test","bufferUpdateCount","Group","        vSpriteSheet.w = rowNorm;","floor","SPE.Group: maxParticleCount exceeded. Requesting","info","updateMin","7717129BMLmKB","Emitter already exists in this group. Will not add again.","       vec3 c = isAlive * getColorOverLifetime(","hasPerspective","bind","       float s = sin(angle);","setVec2","vec3 unpackColor( in float hex ) {","remove","fog_pars_fragment","       if ( vColor.w < float(ALPHATEST) ) discard;","getFromPool","setVec2Components","randomDirectionVector3OnSphere","#ifdef SHOULD_CALCULATE_SPRITE","ShaderMaterial","activationIndex","error","counter","NEGATIVE_INFINITY","Color","TypedArrayHelper","ensureValueOverLifetimeCompliance","duration","    vec4 rotatedTexture = texture2D( tex, vUv );","_updateBuffers","float when_gt(float x, float y) {","Argument is not instanceof SPE.Emitter:","uniform vec4 textureAnimation;","spe","_randomise","float or(float a, float b) {","sqrt","_updateAttributeUpdateRange","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    force += accel * age;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","           unpackColor( color.z ),","2503039MMNmOx","amd","        float perspective = 1.0;","spread","    gl_PointSize = pointSizePerspective;","Invalid argument types, or argument types do not match:","multiplyScalar","attribute vec3 rotationCenter;","attribute vec4 acceleration;","    #endif","exception","vec3 getVelocity( in float age ) {","setUpdateRange","removeEmitter","ceil","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","    return a * b;","color","logdepthbuf_pars_fragment","    return 1.0 - abs( sign( x - y ) );","Vector2","_distributionClamp","radiusScale","       );","lerp","           unpackColor( color.y ),","radius","_attributesNeedRefresh","grow","randomise","emitters","   c.g = g / PACKED_COLOR_DIVISOR;","flagUpdate","attribute vec4 opacity;","fragment","debu","maxAge","attributeOffset","direction","   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;","attribute vec4 params;","randomVector3OnLine","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","BOX","SHOULD_CALCULATE_SPRITE","forceUpdateAll","_onRemove","onParticleSpawn","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","setFromArray","vec3 getAcceleration( in float age ) {","_static","velocity","min","_setBufferUpdateRanges","           positionInTime,","alphaTest","        pos.x += wiggleSin;","_createNewWhenPoolEmpty","type","transparent","    vec3 pos = vec3( position );","getPackedRotationAxis","   return velocity * age;","void main() {","frameCount","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","Vector4","position","getValueAtIndex","unpackRotationAxis","value","updateMap","triggerPoolEmitter","function","setVec3","    float shouldApplyValue = 0.0;","getComponentValueAtIndex","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","runTime","roundToNearestMultiple","randomColorAsHex","vertex","random","DISC","        float column = floor(mod( frameNumber, framesX ));","add","length","float when_ge(float x, float y) {","splice","clone","elements","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","        float totalFrames = textureAnimation.z;","#ifdef SHOULD_ROTATE_PARTICLES","    #ifdef SHOULD_WIGGLE_PARTICLES","logdepthbuf_vertex","join","blending","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","SHOULD_ROTATE_TEXTURE","uniform float deltaTime;","float when_eq( float x, float y ) {","interpolateArray","BOOLEAN","isStatic","_assignAngleValue","ensureInstanceOf","        vSpriteSheet.y = 1.0 / framesY;","return (function() ","push","_assignAbsLifetimeValue","acceleration","table","_pool","_createGetterSetters","setSize","valueOverLifetimeLength","isArray","branchAvoidanceFunctions","LINE","activeParticleCount","    highp float maxAge = getMaxAge();","maxParticleCount","resetUpdateRange","       axis = normalize(axis);","        float wiggleCos = isAlive * cos( wiggleAmount );","depthTest","_assignValue","attributeCount","_assignColorValue","_radiusScale","_angleSpread","distribution","    #ifdef SHOULD_CALCULATE_SPRITE","dispose","_value","       float c = cos(angle);","trace","_updateUniforms","           unpackColor( color.w )","offset","alive","DynamicDrawUsage","dynamicBuffer","#endif","POSITIVE_INFINITY","unshift","_assignRotationValue","_distribution","resetDynamic","attributeKeys","deltaTime","_rotationCenter","    vec3 outgoingLight = vColor.xyz;","size","enable","attributes","_calculatePPSValue","REVISION","  return 1.0 - when_gt(x, y);","disable","attribute vec4 size;","toString","TypedArray is already of size:","string","typedArray","TypedArrayConstructor","replace","    #ifdef COLORIZE","_resetParticle","array","754724gfhWEO","arrayValuesAreEqual","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","float getAlive() {","        float framesY = textureAnimation.y;","needsUpdate","material","_updateDefines","      rotationMatrix = getRotationMatrix( axis, angle );","arrayType","drag","NUMBER","Emitter does not exist in this group. Will not remove.","randomVector3","uniforms","updateFlags","MathUtils","    pos += force;","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    #ifdef ALPHATEST","2101014NqTBBh","vec3 unpackRotationAxis( in float hex ) {","       float x = gl_PointCoord.x - 0.5;","Points","updateCounts","   c *= vec3( 2.0 );","logdepthbuf_pars_vertex","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","_createBufferAttribute","_applyAttributesToGeometry","        pos.y += wiggleCos;","updateRange","varying vec4 vColor;","particles, can support only","geometry","addEmitter","defines","StaticDrawUsage","textureLoop","loop","indexOf","    return value;","copy","    float fIndex = 0.0;","    vColor = vec4( c, o );","_assignPositionValue","randomFloat","Emitter","    varying float vAngle;","10DjizHJ","particleCount","_resetBufferRanges","        float framesY = vSpriteSheet.y;","    highp float isAlive = when_gt( alive, 0.0 );","logdepthbuf_fragment","        float framesX = vSpriteSheet.x;","_assignParamsValue","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","        float columnNorm = vSpriteSheet.z;","#define PACKED_COLOR_DIVISOR 255.0","fog_pars_vertex","params","    highp float alive = getAlive();","   return params.y;","6PVwwJr","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","opacity","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","float when_le(float x, float y) {","updateMax","setAttribute","   vec3 c = vec3( 0.0 );","releaseIntoPool","abs","           return pos;","Vector3","SHOULD_ROTATE_PARTICLES","lerpTypeAgnostic","count","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        vSpriteSheet.z = columnNorm;","    varying vec4 vSpriteSheet;","    highp float age = getAge();","       fIndex = float( i );","    ","setVec3Components","Texture","9913203WEcNBJ","shaderChunks","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","randomVector3OnSphere","ensureArrayInstanceOf","max","1291851DBMrOA","chain","pop","      if( rotation.y == 0.0 ) {","hasOwnProperty","fixedTimeStep","Emitter does not belong to a group, cannot remove.","float and(float a, float b) {","rotationFunctions","    vec3 force = vec3( 0.0 );","OBJECT","        float framesX = textureAnimation.x;","cos","    #ifdef SHOULD_ROTATE_PARTICLES","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","frames","common","fog","activeMultiplier","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","normalize","typeSizeMap","`emitter` argument must be instance of SPE.Emitter. Was provided with:","_triggerSingleEmitter","console","setMat3","        float wiggleAmount = positionInTime * getWiggle();","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","_setAttributeOffset","Emitter already belongs to another group. Will not add to requested group.","sin","    #ifdef SHOULD_ROTATE_TEXTURE","paramsArray","shrink","    return max(sign(x - y), 0.0);","setNumber","   c.b = b / PACKED_COLOR_DIVISOR;","emitterIDs","paramFetchingFunctions","BufferAttribute","center","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    #ifdef HAS_PERSPECTIVE","    force *= drag;","ensureTypedArg","_poolCreationSettings","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    float pointSizePerspective = pointSize * perspective;","apply","_spread","bufferUpdateRanges","componentSize","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","float getMaxAge() {","   return params.x;","age","ensureArrayTypedArg","action","colorize","usage","attributeEnd","   }","utils","resetFlags","    vec3 vel = getVelocity( age );","log","prototype","indexOffset","_incrementParticleCount","float getWiggle() {","    return min(a + b, 1.0);","distributions","           unpackColor( color.x ),","_decrementParticleCount","setVec4","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","types","8bUrsvq","fog_vertex","reset","_assignForceValue","group","getPool","       float s = sin( -vAngle );"];return(d=function(){return t})()}typeof define===h(463)&&define[h(389)]?define(h(379),p):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module[h(324)]=p),p.TypedArrayHelper=function(t,e,i,n){const r=h;this[r(242)]=i||1,this[r(545)]=e||1,this[r(557)]=t||Float32Array,this[r(561)]=new t(e*this[r(242)]),this[r(258)]=n||0},p.TypedArrayHelper[h(318)]=p.TypedArrayHelper,p[h(371)][h(257)][h(506)]=function(t,e){const i=h,n=this[i(561)][i(476)];return!e&&(t*=this[i(242)]),t<n?this.shrink(t):t>n?this.grow(t):void console.info(i(554),t+".","Will not resize.")},p[h(371)][h(257)][h(223)]=function(t){const e=h;return this[e(561)]=this.array.subarray(0,t),this[e(545)]=t,this},p[h(371)][h(257)][h(416)]=function(t){const e=h,i=this[e(561)],n=new(this[e(557)])(t);return n[e(316)](i),this[e(561)]=n,this.size=t,this},p[h(371)][h(257)].splice=function(t,e){const i=h;t*=this[i(242)],e*=this[i(242)];const n=[],r=this.array,s=r[i(476)];for(let o=0;o<s;++o)(o<t||o>=e)&&n[i(500)](r[o]);return this[i(438)](0,n),this},p.TypedArrayHelper.prototype.setFromArray=function(t,e){const i=h,n=t+e[i(476)];return n>this[i(561)][i(476)]?this[i(416)](n):n<this[i(561)].length&&this[i(223)](n),this[i(561)][i(316)](e,this[i(258)]+t),this},p.TypedArrayHelper[h(257)][h(356)]=function(t,e){return this[h(362)](t,e.x,e.y)},p[h(371)].prototype[h(362)]=function(t,e,i){const n=h,r=this.array,s=this.indexOffset+t*this[n(242)];return r[s]=e,r[s+1]=i,this},p[h(371)].prototype[h(464)]=function(t,e){return this[h(182)](t,e.x,e.y,e.z)},p[h(371)][h(257)][h(182)]=function(t,e,i,n){const r=h,s=this.array,o=this.indexOffset+t*this[r(242)];return s[o]=e,s[o+1]=i,s[o+2]=n,this},p[h(371)][h(257)][h(265)]=function(t,e){return this[h(339)](t,e.x,e.y,e.z,e.w)},p[h(371)][h(257)][h(339)]=function(t,e,i,n,r){const s=h,o=this[s(561)],a=this[s(258)]+t*this[s(242)];return o[a]=e,o[a+1]=i,o[a+2]=n,o[a+3]=r,this},p[h(371)][h(257)][h(215)]=function(t,e){const i=h;return this[i(438)](this[i(258)]+t*this.componentSize,e[i(480)])},p.TypedArrayHelper[h(257)].setMat4=function(t,e){const i=h;return this.setFromArray(this[i(258)]+t*this[i(242)],e[i(480)])},p[h(371)][h(257)][h(311)]=function(t,e){return this[h(182)](t,e.r,e.g,e.b)},p.TypedArrayHelper[h(257)][h(225)]=function(t,e){const i=h;return this[i(561)][this[i(258)]+t*this[i(242)]]=e,this},p.TypedArrayHelper.prototype[h(458)]=function(t){return this[h(561)][this.indexOffset+t]},p[h(371)][h(257)][h(466)]=function(t){const e=h;return this[e(561)][e(277)](this[e(258)]+t*this.componentSize)},p[h(278)]=function(t,e,i){const n=h,r=p.ShaderAttribute[n(211)];this[n(448)]=typeof t===n(555)&&r[n(194)](t)?t:"f",this[n(242)]=r[this[n(448)]],this[n(571)]=i||Float32Array,this[n(556)]=null,this[n(275)]=null,this[n(534)]=!!e,this[n(349)]=0,this.updateMax=0},p[h(278)][h(318)]=p.ShaderAttribute,p.ShaderAttribute[h(211)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p[h(278)][h(257)][h(400)]=function(t,e){const i=h;this[i(349)]=Math[i(442)](t*this.componentSize,this[i(349)]*this[i(242)]),this[i(166)]=Math[i(189)](e*this[i(242)],this[i(166)]*this[i(242)])},p.ShaderAttribute.prototype[h(420)]=function(){const t=h,e=this[t(275)];!e[t(594)]&&(e.updateRange={});const i=e[t(594)];i[t(531)]=this[t(349)],i[t(175)]=Math[t(442)](this.updateMax-this[t(349)]+this[t(242)],this.typedArray[t(561)].length),e[t(567)]=!0},p[h(278)][h(257)].resetUpdateRange=function(){const t=h;this[t(349)]=0,this[t(166)]=0},p[h(278)][h(257)].resetDynamic=function(){const e=h;this[e(275)].usage=this[e(534)]?t[e(533)]:t[e(134)]},p[h(278)].prototype[h(478)]=function(t,e){const i=h;this[i(556)][i(478)](t,e),this[i(434)]()},p[h(278)][h(257)][h(434)]=function(){const e=h;this[e(275)].array=this[e(556)].array,this.bufferAttribute[e(594)].offset=0,this[e(275)][e(594)][e(175)]=-1,this.bufferAttribute[e(250)]=t[e(134)],this[e(275)].needsUpdate=!0},p.ShaderAttribute[h(257)]._ensureTypedArray=function(t){const e=h;null!==this[e(556)]&&this[e(556)][e(545)]===t*this[e(242)]||(null!==this[e(556)]&&this[e(556)][e(545)]!==t?this[e(556)][e(506)](t):null===this[e(556)]&&(this[e(556)]=new(p[e(371)])(this.arrayType,t,this.componentSize)))},p[h(278)].prototype[h(591)]=function(e){const i=h;if(this[i(315)](e),null!==this[i(275)])return this[i(275)][i(561)]=this.typedArray[i(561)],parseFloat(t[i(549)])>=81&&(this.bufferAttribute.count=this[i(275)].array[i(476)]/this[i(275)].itemSize),void(this.bufferAttribute[i(567)]=!0);this[i(275)]=new(t[i(229)])(this[i(556)][i(561)],this.componentSize),this[i(275)][i(250)]=this.dynamicBuffer?t[i(533)]:t[i(134)]},p[h(278)][h(257)][h(282)]=function(){const t=h;return null===this.typedArray?0:this[t(556)][t(561)][t(476)]},p[h(185)]={defines:["#define PACKED_COLOR_SIZE 256.0",h(156)][h(487)]("\n"),uniforms:[h(491),"uniform float runTime;","uniform sampler2D tex;",h(378),h(292)][h(487)]("\n"),attributes:[h(396),"attribute vec3 velocity;","attribute vec4 rotation;",h(395),h(429),h(552),"attribute vec4 angle;","attribute vec4 color;",h(421)][h(487)]("\n"),varyings:[h(595),"#ifdef SHOULD_ROTATE_TEXTURE",h(145),"#endif",h(364),h(178),"#endif"][h(487)]("\n"),branchAvoidanceFunctions:[h(376),h(224),"}","float when_lt(float x, float y) {",h(164),"}",h(492),h(407),"}",h(477),"  return 1.0 - when_lt(x, y);","}",h(165),h(550),"}",h(197),h(404),"}",h(381),h(261),"}"][h(487)]("\n"),unpackColor:[h(357),h(168),h(431),h(176),h(427),"   c.r = r / PACKED_COLOR_DIVISOR;",h(419),h(226),"   return c;","}"][h(487)]("\n"),unpackRotationAxis:[h(584),h(168),h(431),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(427),h(428),"   c.g = g / PACKED_COLOR_DIVISOR;",h(226),h(588),h(296),"   return c;","}"][h(487)]("\n"),floatOverLifetime:[h(154),"    highp float value = 0.0;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",h(140),h(465),h(162),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {",h(180),h(217),h(232),"    }","",h(138),"}"][h(487)]("\n"),colorOverLifetime:[h(384),"    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );",h(590),h(581),h(138),"}"].join("\n"),paramFetchingFunctions:[h(565),h(245),"}","float getAge() {",h(160),"}",h(244),"   return params.z;","}",h(260),"   return params.w;","}"][h(487)]("\n"),forceFetchingFunctions:[h(313),"   return modelViewMatrix * vec4( position, 1.0 );","}",h(399),h(452),"}",h(439),"   return acceleration.xyz * age;","}"][h(487)]("\n"),rotationFunctions:[h(484),h(305),h(515),h(355),h(527),h(319),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",h(186),h(437),h(334),h(252),"",h(310),h(193),h(171),h(329),"","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;","      vec3 translated;","      mat4 rotationMatrix;",h(323),h(403),h(386),"      translated = rotationCenter - pos;",h(570),h(580),h(252),h(535)].join("\n"),rotateTexture:[h(564),"",h(221),h(585),"       float y = 1.0 - gl_PointCoord.y - 0.5;",h(335),h(274),h(237),h(397),"",h(524),h(152),h(149),h(155),h(333),h(482),"        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);",h(397),"",h(374)][h(487)]("\n")},p[h(288)]={vertex:[p[h(185)][h(133)],p[h(185)].uniforms,p[h(185)][h(547)],p[h(185)][h(309)],t[h(321)][h(206)],e[h(589)],t[h(321)][h(157)],p[h(185)][h(509)],p.shaderChunks[h(331)],p.shaderChunks[h(459)],p[h(185)].floatOverLifetime,p.shaderChunks.colorOverLifetime,p[h(185)][h(228)],p[h(185)].forceFetchingFunctions,p[h(185)][h(198)],h(453),h(179),h(159),h(512),"    highp float positionInTime = (age / maxAge);",h(150),h(485),h(216),"        float wiggleSin = isAlive * sin( wiggleAmount );",h(516),"    #endif",h(255),h(307),h(199),h(450),"    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","    force += vel;",h(234),h(385),h(579),h(485),h(446),h(593),h(332),h(397),h(203),h(287),h(397),h(481),h(455),h(233),h(284),h(336),h(390),h(397),h(238),h(559),h(352),h(444),h(263),h(413),h(387),h(530),h(411),"    #else",h(294),h(397),h(320),h(141),h(221),h(204),h(397),h(524),h(201),h(566),"        float loopCount = textureAnimation.w;",h(483),h(231),h(474),"        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;",h(317),"        vSpriteSheet.x = 1.0 / framesX;",h(498),h(177),h(345),h(397),h(392),"    gl_Position = projectionMatrix * mvPosition;",t[h(321)][h(486)],e[h(269)],"}"][h(487)]("\n"),fragment:[p[h(185)][h(576)],t[h(321)].common,e[h(359)],t[h(321)][h(406)],p[h(185)].varyings,p[h(185)].branchAvoidanceFunctions,h(453),h(544),h(181),h(582),h(360),h(397),p[h(185)].rotateTexture,t[h(321)][h(151)],h(266),h(489),e.fog_fragment,"}"].join("\n")},p[h(253)]={types:{BOOLEAN:"boolean",STRING:h(555),NUMBER:h(322),OBJECT:h(280)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array[n(508)](t)){for(let r=t[n(476)]-1;r>=0;--r)if(typeof t[r]!==e)return i;return t}return this[n(235)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(508)](t)){for(let r=t[n(476)]-1;r>=0;--r)if(void 0!==e&&t[r]instanceof e==!1)return i;return t}return this[n(497)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(508)](t[n(526)])&&(t[n(526)]=[t[n(526)]]),!1===Array[n(508)](t[n(240)])&&(t[n(240)]=[t[n(240)]]);const r=this[n(306)](t[n(526)][n(476)],e,i),s=this[n(306)](t[n(240)][n(476)],e,i),o=Math[n(189)](r,s);t[n(526)].length!==o&&(t[n(526)]=this.interpolateArray(t[n(526)],o)),t[n(240)].length!==o&&(t[n(240)]=this[n(493)](t._spread,o))},interpolateArray(t,e){const i=h,n=t[i(476)],r=[typeof t[0][i(479)]===i(463)?t[0].clone():t[0]],s=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*s,n=Math[i(346)](e),a=Math[i(402)](e),c=e-n;r[o]=this[i(174)](t[n],t[a],c)}return r.push(typeof t[n-1][i(479)]===i(463)?t[n-1][i(479)]():t[n-1]),r},clamp(t,e,i){const n=h;return Math[n(189)](e,Math[n(442)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(472)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,s,o){const a=h;let c,u=this[a(267)];return typeof e===u[a(573)]&&typeof s===u.NUMBER?e+(s-e)*o:e instanceof i&&s instanceof t[a(408)]?(c=e[a(479)](),c.x=this[a(412)](e.x,s.x,o),c.y=this.lerp(e.y,s.y,o),c):e instanceof t[a(172)]&&s instanceof t[a(172)]?(c=e[a(479)](),c.x=this.lerp(e.x,s.x,o),c.y=this[a(412)](e.y,s.y,o),c.z=this.lerp(e.z,s.z,o),c):e instanceof n&&s instanceof t[a(456)]?(c=e.clone(),c.x=this[a(412)](e.x,s.x,o),c.y=this[a(412)](e.y,s.y,o),c.z=this[a(412)](e.z,s.z,o),c.w=this[a(412)](e.w,s.w,o),c):e instanceof r&&s instanceof t[a(370)]?(c=e[a(479)](),c.r=this[a(412)](e.r,s.r,o),c.g=this[a(412)](e.g,s.g,o),c.b=this[a(412)](e.b,s.b,o),c):void console[a(338)](a(393),e,s)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math[i(170)](t)%e,0===n?t:t<0?-(Math[i(170)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(476)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,r){const s=h;let o=i.x+(Math[s(472)]()*n.x-.5*n.x),a=i.y+(Math[s(472)]()*n.y-.5*n.y),c=i.z+(Math[s(472)]()*n.z-.5*n.z);r&&(o=.5*-r.x+this.roundToNearestMultiple(o,r.x),a=.5*-r.y+this[s(469)](a,r.y),c=.5*-r.z+this[s(469)](c,r.z)),t[s(556)][s(182)](e,o,a,c)},randomColor(t,e,i,n){const r=h;let s=i.r+Math[r(472)]()*n.x,o=i.g+Math[r(472)]()*n.y,a=i.b+Math[r(472)]()*n.z;s=this[r(306)](s,0,1),o=this.clamp(o,0,1),a=this[r(306)](a,0,1),t[r(556)][r(182)](e,s,o,a)},randomColorAsHex:function(){const t=new r;return function(e,i,n,r){const s=f,o=n[s(476)],a=[];for(let c=0;c<o;++c){const e=r[c];t[s(139)](n[c]),t.r+=Math[s(472)]()*e.x-.5*e.x,t.g+=Math[s(472)]()*e.y-.5*e.y,t.b+=Math[s(472)]()*e.z-.5*e.z,t.r=this[s(306)](t.r,0,1),t.g=this.clamp(t.g,0,1),t.b=this[s(306)](t.b,0,1),a[s(500)](t.getHex())}e[s(556)][s(339)](i,a[0],a[1],a[2],a[3])}}(),randomVector3OnLine(t,e,i,n){const r=h,s=i[r(479)]();s[r(412)](n,Math.random()),t[r(556)].setVec3Components(e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,r,s,o,a){const c=h;let u=2*Math[c(472)]()-1,l=6.2832*Math.random(),f=Math[c(382)](1-u*u),p=this[c(143)](n,r),d=0,m=0,g=0;o&&(p=Math.round(p/o)*o),d=f*Math.cos(l)*p,m=f*Math.sin(l)*p,g=u*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t[c(556)][c(182)](e,d,m,g)},seededRandom(t){const e=1e4*Math[h(220)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,r,s,o){const a=h;let c=6.2832*Math[a(472)](),u=Math.abs(this[a(143)](n,r)),l=0,f=0,p=0;o&&(u=Math.round(u/o)*o),l=Math[a(202)](c)*u,f=Math[a(220)](c)*u,l*=s.x,f*=s.y,l+=i.x,f+=i.y,p+=i.z,t[a(556)][a(182)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=h,i=new(t[e(172)]);return function(t,n,r,s,o,a,c,h){const u=e;i.copy(a),i.x-=r,i.y-=s,i.z-=o,i.normalize().multiplyScalar(-this[u(143)](c,h)),t.typedArray.setVec3Components(n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new s;return function(e,i,n,r,s,o,a,c){const h=f;t[h(139)](o),t.x-=n,t.y-=r,t.z-=s,t[h(210)]()[h(394)](-this[h(143)](a,c)),e[h(556)].setVec3Components(i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new(t[e(172)]),n=new(t[e(172)]),s=new r,o=new(t[e(172)])(1,1,1);return function(t,r){const a=e;return i.copy(t)[a(210)](),n[a(139)](r)[a(210)](),i.x+=.5*-r.x+Math[a(472)]()*r.x,i.y+=.5*-r.y+Math[a(472)]()*r.y,i.z+=.5*-r.z+Math[a(472)]()*r.z,i[a(210)]()[a(475)](o)[a(394)](.5),s[a(298)](i.x,i.y,i.z),s[a(276)]()}}()},p[h(344)]=function(e){const n=h,r=p[n(253)],s=r[n(267)];(e=r.ensureTypedArg(e,s[n(200)],{})).texture=r[n(235)](e[n(285)],s[n(200)],{}),this[n(286)]=o[n(308)](),this[n(195)]=r.ensureTypedArg(e[n(195)],s[n(573)],.016),this[n(285)]=r[n(497)](e[n(285)][n(460)],t[n(183)],null),this.textureFrames=r[n(497)](e.texture[n(205)],t[n(408)],new(t[n(408)])(1,1)),this.textureFrameCount=r[n(235)](e[n(285)][n(454)],s[n(573)],this[n(283)].x*this[n(283)].y),this.textureLoop=r[n(235)](e[n(285)][n(136)],s[n(573)],1),this[n(283)][n(189)](new i(1,1)),this[n(353)]=r[n(235)](e[n(353)],s[n(494)],!0),this[n(249)]=r[n(235)](e[n(249)],s[n(494)],!0),this[n(513)]=r[n(235)](e[n(513)],s[n(573)],null),this[n(488)]=r.ensureTypedArg(e[n(488)],s.NUMBER,a),this[n(449)]=r[n(235)](e[n(449)],s[n(494)],!0),this[n(445)]=parseFloat(r[n(235)](e.alphaTest,s.NUMBER,0)),this[n(328)]=r.ensureTypedArg(e.depthWrite,s[n(494)],!1),this.depthTest=r[n(235)](e[n(517)],s[n(494)],!0),this[n(207)]=r[n(235)](e[n(207)],s[n(494)],!0),this.scale=r.ensureTypedArg(e.scale,s[n(573)],300),this[n(418)]=[],this[n(227)]=[],this._pool=[],this[n(236)]=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this[n(301)]=!1,this[n(147)]=0,this[n(576)]={tex:{type:"t",value:this[n(285)]},textureAnimation:{type:"v4",value:new(t[n(456)])(this.textureFrames.x,this[n(283)].y,this[n(314)],Math[n(189)](Math[n(170)](this[n(135)]),1))},fogColor:{type:"c",value:this[n(207)]?new(t[n(370)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[n(133)]={HAS_PERSPECTIVE:this[n(353)],COLORIZE:this[n(249)],VALUE_OVER_LIFETIME_LENGTH:p.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[n(283)].x>1||this[n(283)].y>1},this.attributes={position:new(p[n(278)])("v3",!0),acceleration:new(p[n(278)])("v4",!0),velocity:new p.ShaderAttribute("v3",!0),rotation:new p.ShaderAttribute("v4",!0),rotationCenter:new(p[n(278)])("v3",!0),params:new p.ShaderAttribute("v4",!0),size:new(p[n(278)])("v4",!0),angle:new(p[n(278)])("v4",!0),color:new(p[n(278)])("v4",!0),opacity:new(p[n(278)])("v4",!0)},this[n(541)]=Object.keys(this[n(547)]),this.attributeCount=this.attributeKeys[n(476)],this.material=new(t[n(365)])({uniforms:this[n(576)],vertexShader:p[n(288)][n(471)],fragmentShader:p[n(288)][n(422)],blending:this[n(488)],transparent:this[n(449)],alphaTest:this.alphaTest,depthWrite:this[n(328)],depthTest:this[n(517)],defines:this[n(133)],fog:this.fog}),this.geometry=new c,this.mesh=new(t[n(586)])(this[n(597)],this.material),null===this[n(513)]&&console[n(338)](n(243))},p[h(344)].constructor=p[h(344)],p[h(344)][h(257)][h(569)]=function(){const t=h;let e,i=this[t(418)],n=i[t(476)]-1,r=this.defines;for(;n>=0;--n)e=i[n],!r[t(433)]&&(r[t(490)]=r[t(490)]||!!Math[t(189)](Math[t(189)][t(239)](null,e[t(293)][t(460)]),Math[t(189)][t(239)](null,e[t(293)][t(391)]))),r[t(173)]=r[t(173)]||!!Math.max(e[t(279)].angle,e[t(279)][t(291)]),r[t(326)]=r[t(326)]||!!Math[t(189)](e[t(337)][t(460)],e[t(337)][t(391)]);this.material[t(567)]=!0},p[h(344)][h(257)][h(592)]=function(){const t=h;let e,i,n=this.attributes,r=this[t(597)],s=r[t(547)];for(const o in n)n[t(194)](o)&&(e=n[o],i=s[o],i?i.array=e[t(556)][t(561)]:r[t(167)](o,e[t(275)]),e[t(275)][t(567)]=!0);this.geometry.setDrawRange(0,this[t(147)])},p[h(344)][h(257)][h(598)]=function(t){const e=h;if(t instanceof p[e(144)]==!1)return void console[e(367)](e(212),t);if(this[e(227)][e(137)](t[e(286)])>-1)return void console[e(367)](e(351));if(null!==t.group)return void console[e(367)](e(219));const i=this[e(547)],n=this[e(147)],r=n+t[e(147)];this[e(147)]=r,null!==this[e(513)]&&this[e(147)]>this[e(513)]&&console.warn(e(347),this[e(147)],e(596),this[e(513)]),t[e(548)](t[e(424)]._value+t[e(424)]._spread),t[e(443)](this.attributeKeys),t._setAttributeOffset(n),t.group=this,t[e(547)]=this[e(547)];for(const s in i)i[e(194)](s)&&i[s][e(591)](null!==this.maxParticleCount?this[e(513)]:this.particleCount);for(let s=n;s<r;++s)t[e(142)](s),t[e(271)](s,e(441)),t[e(271)](s,e(502)),t[e(501)](s,e(163)),t._assignAbsLifetimeValue(s,"size"),t[e(496)](s),t[e(538)](s),t[e(153)](s),t[e(520)](s);return this._applyAttributesToGeometry(),this.emitters[e(500)](t),this.emitterIDs[e(500)](t[e(286)]),this[e(569)](t),this[e(568)][e(567)]=!0,this[e(597)].needsUpdate=!0,this[e(415)]=!0,this},p[h(344)][h(257)][h(401)]=function(t){const e=h,i=this.emitterIDs[e(137)](t[e(286)]);if(t instanceof p[e(144)]==!1)return void console[e(367)](e(212),t);if(-1===i)return void console[e(367)](e(574));const n=t[e(425)],r=n+t.particleCount,s=this[e(547)][e(158)][e(556)];for(let o=n;o<r;++o)s.array[4*o]=0,s.array[4*o+1]=0;this.emitters[e(478)](i,1),this[e(227)][e(478)](i,1);for(const o in this[e(547)])this[e(547)][e(194)](o)&&this[e(547)][o].splice(n,r);this[e(147)]-=t[e(147)],t[e(435)](),this._attributesNeedRefresh=!0},p.Group[h(257)][h(361)]=function(){const t=h,e=this[t(504)],i=this[t(447)];if(e[t(476)])return e[t(192)]();if(i){const e=new(p[t(144)])(this._poolCreationSettings);return this[t(598)](e),e}return null},p[h(344)][h(257)][h(169)]=function(t){const e=h;if(t instanceof p.Emitter!=!1)return t[e(270)](),this[e(504)][e(537)](t),this;console[e(367)](e(377),t)},p.Group[h(257)][h(273)]=function(){return this._pool},p.Group[h(257)].addPool=function(t,e,i){const n=h;let r;this[n(236)]=e,this[n(447)]=!!i;for(let s=0;s<t;++s)r=Array[n(508)](e)?new p.Emitter(e[s]):new p.Emitter(e),this.addEmitter(r),this[n(169)](r);return this},p[h(344)][h(257)][h(213)]=function(e){const i=h,n=this.getFromPool(),r=this;if(null!==n)return e instanceof t[i(172)]&&(n.position.value[i(139)](e),n[i(457)][i(460)]=n[i(457)].value),n[i(546)](),setTimeout((()=>{const t=i;n[t(551)](),r[t(169)](n)}),1e3*Math[i(189)](n.duration,n[i(424)][i(460)]+n[i(424)].spread)),this;console.log(i(341))},p[h(344)][h(257)][h(462)]=function(t,e){const i=h;if(typeof t===i(322)&&t>1)for(let n=0;n<t;++n)this[i(213)](e);else this[i(213)](e);return this},p[h(344)][h(257)][h(529)]=function(t){const e=h;this.uniforms[e(468)][e(460)]+=t,this.uniforms[e(542)][e(460)]=t},p[h(344)][h(257)][h(148)]=function(){const t=h;let e=this.attributeKeys,i=this[t(519)]-1,n=this.attributes;for(;i>=0;--i)n[e[i]][t(514)]()},p[h(344)][h(257)][h(375)]=function(t){const e=h;let i,n,r,s=this[e(541)],o=this[e(519)]-1,a=this.attributes,c=t[e(241)];for(;o>=0;--o)i=s[o],n=c[i],r=a[i],r[e(400)](n[e(442)],n[e(189)]),r[e(420)]()},p.Group.prototype.tick=function(t){const e=h;var i=this.emitters,n=i[e(476)],r=t||this[e(195)],s=this[e(541)],o=this[e(547)];if(this._updateUniforms(r),this[e(148)](),0!==n||!1!==this[e(415)]||!1!==this[e(301)]){for(var a,c=0;c<n;++c)(a=i[c])[e(299)](r),this[e(375)](a);if(!0===this[e(301)]){for(c=this[e(519)]-1;c>=0;--c)o[s[c]][e(540)]();this[e(301)]=!1}if(!0===this[e(415)]){for(c=this[e(519)]-1;c>=0;--c)o[s[c]][e(434)]();this[e(415)]=!1,this[e(301)]=!0}}},p[h(344)][h(257)][h(525)]=function(){const t=h;return this[t(597)][t(525)](),this[t(568)][t(525)](),this},p[h(144)]=function(e){const i=h,n=p.utils,o=n.types,a=p[i(507)];(e=n[i(235)](e,o[i(200)],{})).position=n[i(235)](e[i(457)],o.OBJECT,{}),e[i(441)]=n[i(235)](e[i(441)],o[i(200)],{}),e.acceleration=n[i(235)](e[i(502)],o[i(200)],{}),e[i(414)]=n[i(235)](e[i(414)],o[i(200)],{}),e[i(572)]=n[i(235)](e[i(572)],o.OBJECT,{}),e[i(279)]=n[i(235)](e[i(279)],o[i(200)],{}),e[i(405)]=n.ensureTypedArg(e[i(405)],o[i(200)],{}),e[i(163)]=n[i(235)](e[i(163)],o.OBJECT,{}),e.size=n[i(235)](e.size,o[i(200)],{}),e[i(293)]=n.ensureTypedArg(e.angle,o.OBJECT,{}),e[i(337)]=n[i(235)](e[i(337)],o.OBJECT,{}),e.maxAge=n[i(235)](e[i(424)],o[i(200)],{}),e[i(436)]&&console[i(338)](i(209)),this[i(286)]=t[i(578)][i(308)](),this[i(448)]=n[i(235)](e[i(448)],o[i(573)],p[i(262)][i(432)]),this[i(457)]={_value:n[i(497)](e[i(457)][i(460)],t[i(172)],new(t[i(172)])),_spread:n[i(497)](e.position[i(391)],t[i(172)],new(t[i(172)])),_spreadClamp:n[i(497)](e[i(457)].spreadClamp,t[i(172)],new(t[i(172)])),_distribution:n[i(235)](e[i(457)][i(523)],o.NUMBER,this[i(448)]),_randomise:n[i(235)](e[i(457)][i(417)],o.BOOLEAN,!1),_radius:n[i(235)](e[i(457)].radius,o[i(573)],10),_radiusScale:n.ensureInstanceOf(e[i(457)][i(410)],s,new(t[i(172)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e.position.distributionClamp,o[i(573)],0)},this.velocity={_value:n[i(497)](e.velocity[i(460)],t[i(172)],new s),_spread:n.ensureInstanceOf(e[i(441)][i(391)],t[i(172)],new(t[i(172)])),_distribution:n[i(235)](e.velocity[i(523)],o[i(573)],this[i(448)]),_randomise:n[i(235)](e[i(457)].randomise,o.BOOLEAN,!1)},this.acceleration={_value:n[i(497)](e[i(502)].value,t[i(172)],new(t[i(172)])),_spread:n.ensureInstanceOf(e.acceleration[i(391)],t[i(172)],new(t[i(172)])),_distribution:n[i(235)](e[i(502)][i(523)],o[i(573)],this.type),_randomise:n.ensureTypedArg(e[i(457)][i(417)],o.BOOLEAN,!1)},this[i(572)]={_value:n.ensureTypedArg(e[i(572)][i(460)],o[i(573)],0),_spread:n[i(235)](e[i(572)][i(391)],o[i(573)],0),_randomise:n[i(235)](e[i(457)].randomise,o[i(494)],!1)},this[i(337)]={_value:n[i(235)](e[i(337)][i(460)],o[i(573)],0),_spread:n[i(235)](e[i(337)].spread,o[i(573)],0)},this[i(279)]={_axis:n[i(497)](e[i(279)].axis,t[i(172)],new(t[i(172)])(0,1,0)),_axisSpread:n[i(497)](e[i(279)].axisSpread,t[i(172)],new(t[i(172)])),_angle:n[i(235)](e[i(279)][i(293)],o[i(573)],0),_angleSpread:n.ensureTypedArg(e[i(279)].angleSpread,o[i(573)],0),_static:n[i(235)](e[i(279)][i(303)],o[i(494)],!1),_center:n[i(497)](e.rotation[i(230)],s,this.position[i(526)][i(479)]()),_randomise:n[i(235)](e[i(457)][i(417)],o[i(494)],!1)},this.maxAge={_value:n[i(235)](e[i(424)][i(460)],o[i(573)],2),_spread:n[i(235)](e[i(424)].spread,o[i(573)],0)},this.color={_value:n[i(188)](e.color[i(460)],r,new(t[i(370)])),_spread:n.ensureArrayInstanceOf(e.color[i(391)],t[i(172)],new(t[i(172)])),_randomise:n.ensureTypedArg(e[i(457)].randomise,o[i(494)],!1)},this[i(163)]={_value:n[i(247)](e[i(163)][i(460)],o.NUMBER,1),_spread:n.ensureArrayTypedArg(e.opacity[i(391)],o[i(573)],0),_randomise:n.ensureTypedArg(e.position[i(417)],o.BOOLEAN,!1)},this[i(545)]={_value:n[i(247)](e[i(545)][i(460)],o[i(573)],1),_spread:n[i(247)](e.size[i(391)],o[i(573)],0),_randomise:n[i(235)](e[i(457)][i(417)],o.BOOLEAN,!1)},this[i(293)]={_value:n.ensureArrayTypedArg(e[i(293)][i(460)],o.NUMBER,0),_spread:n.ensureArrayTypedArg(e[i(293)][i(391)],o.NUMBER,0),_randomise:n[i(235)](e.position[i(417)],o[i(494)],!1)},this.particleCount=n[i(235)](e[i(147)],o.NUMBER,100),this[i(373)]=n[i(235)](e[i(373)],o[i(573)],null),this[i(495)]=n[i(235)](e[i(495)],o[i(494)],!1),this[i(208)]=n[i(235)](e[i(208)],o.NUMBER,1),this[i(426)]=n.ensureTypedArg(e[i(426)],o[i(573)],1),this[i(532)]=n[i(235)](e[i(532)],o[i(494)],!0),this[i(295)]=0,this[i(366)]=0,this[i(425)]=0,this[i(251)]=0,this[i(246)]=0,this.activeParticleCount=0,this[i(272)]=null,this[i(547)]=null,this.paramsArray=null,this[i(254)]={position:n[i(235)](e[i(457)][i(417)],o[i(494)],!1)||n[i(235)](e[i(414)][i(417)],o.BOOLEAN,!1),velocity:n[i(235)](e[i(441)][i(417)],o[i(494)],!1),acceleration:n.ensureTypedArg(e[i(502)][i(417)],o[i(494)],!1)||n[i(235)](e[i(572)][i(417)],o.BOOLEAN,!1),rotation:n.ensureTypedArg(e.rotation[i(417)],o[i(494)],!1),rotationCenter:n.ensureTypedArg(e[i(279)][i(417)],o[i(494)],!1),size:n[i(235)](e[i(545)][i(417)],o[i(494)],!1),color:n.ensureTypedArg(e[i(405)][i(417)],o[i(494)],!1),opacity:n[i(235)](e.opacity.randomise,o.BOOLEAN,!1),angle:n.ensureTypedArg(e[i(293)][i(417)],o.BOOLEAN,!1)},this.updateFlags={},this.updateCounts={},this.updateMap={maxAge:i(158),position:i(457),velocity:"velocity",acceleration:i(502),drag:i(502),wiggle:i(158),rotation:"rotation",size:"size",color:i(405),opacity:i(163),angle:i(293)};for(const t in this.updateMap)this[i(461)][i(194)](t)&&(this[i(587)][this.updateMap[t]]=0,this[i(577)][this[i(461)][t]]=!1,this[i(505)](this[t],t));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,n.ensureValueOverLifetimeCompliance(this[i(405)],a,a),n[i(372)](this[i(163)],a,a),n.ensureValueOverLifetimeCompliance(this[i(545)],a,a),n.ensureValueOverLifetimeCompliance(this[i(293)],a,a)},p[h(144)][h(318)]=p[h(144)],p.Emitter[h(257)][h(505)]=function(t,e){const i=h,n=this;for(const r in t)if(t[i(194)](r)){const s=r[i(558)]("_","");Object.defineProperty(t,s,{get:function(t){return function(){return this[t]}}(r),set:function(t){return function(i){const r=f,s=n[r(461)][e],o=this[t],a=p.valueOverLifetimeLength;t===r(543)?(n[r(577)].rotationCenter=!0,n.updateCounts[r(297)]=0):t===r(380)?n[r(254)][s]=i:(n.updateFlags[s]=!0,n[r(587)][s]=0),n[r(272)][r(569)](),this[t]=i,Array.isArray(o)&&p[r(253)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(r)})}},p[h(144)][h(257)][h(443)]=function(t){const e=h;this.attributeKeys=t,this.attributeCount=t.length;for(let i=this.attributeCount-1;i>=0;--i)this[e(241)][t[i]]={min:Number[e(536)],max:Number.NEGATIVE_INFINITY}},p[h(144)][h(257)][h(548)]=function(t){const e=h,i=this[e(147)];this[e(373)]?this.particlesPerSecond=i/(t<this[e(373)]?t:this.duration):this.particlesPerSecond=i/t},p[h(144)][h(257)][h(218)]=function(t){const e=h;this[e(425)]=t,this[e(366)]=t,this[e(290)]=t+this[e(147)]},p[h(144)][h(257)][h(518)]=function(t,e){const i=h;switch(t){case i(457):this._assignPositionValue(e);break;case i(441):case i(502):this[i(271)](e,t);break;case i(545):case i(163):this[i(501)](e,t);break;case i(293):this[i(496)](e);break;case i(158):this[i(153)](e);break;case i(279):this._assignRotationValue(e);break;case i(405):this[i(520)](e)}},p[h(144)][h(257)][h(142)]=function(t){const e=h,i=p[e(262)],n=p.utils,r=this[e(457)],s=this[e(547)].position,o=r[e(526)],a=r[e(240)];switch(r[e(539)]){case i[e(432)]:n.randomVector3(s,t,o,a,r._spreadClamp);break;case i[e(325)]:n[e(187)](s,t,o,r._radius,r._spread.x,r._radiusScale,r._spreadClamp.x,r[e(409)]||this[e(147)]);break;case i[e(473)]:n.randomVector3OnDisc(s,t,o,r._radius,r._spread.x,r[e(521)],r._spreadClamp.x);break;case i[e(510)]:n.randomVector3OnLine(s,t,o,a)}},p[h(144)][h(257)][h(271)]=function(t,e){const i=h;let n,r,s,o,a,c=p.distributions,u=p[i(253)],l=this[e],f=l[i(526)],d=l[i(240)];switch(l[i(539)]){case c.BOX:u[i(575)](this[i(547)][e],t,f,d);break;case c.SPHERE:n=this.attributes[i(457)].typedArray[i(561)],a=3*t,r=n[a],s=n[a+1],o=n[a+2],u[i(363)](this.attributes[e],t,r,s,o,this[i(457)][i(526)],l[i(526)].x,l[i(240)].x);break;case c[i(473)]:n=this.attributes[i(457)][i(556)][i(561)],a=3*t,r=n[a],s=n[a+1],o=n[a+2],u.randomDirectionVector3OnDisc(this[i(547)][e],t,r,s,o,this.position[i(526)],l[i(526)].x,l._spread.x);break;case c[i(510)]:u[i(430)](this[i(547)][e],t,f,d)}if("acceleration"===e){const e=u.clamp(u[i(143)](this[i(572)][i(526)],this[i(572)][i(240)]),0,1);this[i(547)][i(502)][i(556)].array[4*t+3]=e}},p.Emitter.prototype[h(501)]=function(t,e){const i=h;let n,r=this[i(547)][e][i(556)],s=this[e],o=p[i(253)];o[i(563)](s[i(526)])&&o.arrayValuesAreEqual(s._spread)?(n=Math[i(170)](o[i(143)](s._value[0],s[i(240)][0])),r[i(339)](t,n,n,n,n)):r.setVec4Components(t,Math[i(170)](o.randomFloat(s._value[0],s[i(240)][0])),Math[i(170)](o.randomFloat(s[i(526)][1],s._spread[1])),Math.abs(o[i(143)](s[i(526)][2],s[i(240)][2])),Math[i(170)](o.randomFloat(s[i(526)][3],s[i(240)][3])))},p.Emitter[h(257)][h(496)]=function(t){const e=h;let i,n=this[e(547)].angle.typedArray,r=this[e(293)],s=p[e(253)];s[e(563)](r[e(526)])&&s[e(563)](r[e(240)])?(i=s[e(143)](r[e(526)][0],r[e(240)][0]),n.setVec4Components(t,i,i,i,i)):n[e(339)](t,s[e(143)](r[e(526)][0],r[e(240)][0]),s[e(143)](r._value[1],r[e(240)][1]),s.randomFloat(r[e(526)][2],r[e(240)][2]),s[e(143)](r[e(526)][3],r[e(240)][3]))},p[h(144)][h(257)]._assignParamsValue=function(t){const e=h;this[e(547)][e(158)][e(556)][e(339)](t,this.isStatic?1:0,0,Math[e(170)](p[e(253)].randomFloat(this[e(424)][e(526)],this[e(424)][e(240)])),p[e(253)][e(143)](this[e(337)][e(526)],this[e(337)][e(240)]))},p[h(144)].prototype[h(538)]=function(t){const e=h;this.attributes.rotation[e(556)][e(182)](t,p[e(253)][e(451)](this[e(279)]._axis,this[e(279)]._axisSpread),p[e(253)][e(143)](this[e(279)][e(300)],this[e(279)][e(522)]),this.rotation[e(440)]?0:1),this[e(547)][e(297)][e(556)][e(464)](t,this.rotation[e(340)])},p[h(144)].prototype[h(520)]=function(t){const e=h;p[e(253)][e(470)](this[e(547)][e(405)],t,this[e(405)][e(526)],this[e(405)]._spread)},p[h(144)][h(257)][h(560)]=function(t){const e=h;let i,n,r=this[e(254)],s=this[e(577)],o=this[e(587)],a=this[e(541)];for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=s[i],!0!==r[i]&&!0!==n||(this[e(518)](i,t),this[e(383)](i,t),!0===n&&o[i]===this[e(147)]?(s[i]=!1,o[i]=0):1==n&&++o[i])},p[h(144)].prototype[h(383)]=function(t,e){const i=h,n=this[i(241)][t];n[i(442)]=Math[i(442)](e,n[i(442)]),n.max=Math.max(e,n.max)},p.Emitter[h(257)][h(148)]=function(){const t=h;let e,i=this[t(241)],n=this.bufferUpdateKeys,r=this[t(343)]-1;for(;r>=0;--r)e=n[r],i[e][t(442)]=Number[t(536)],i[e].max=Number[t(369)]},p.Emitter.prototype[h(435)]=function(){const t=h;this.particlesPerSecond=0,this[t(425)]=0,this[t(366)]=0,this[t(511)]=0,this[t(272)]=null,this[t(547)]=null,this.paramsArray=null,this.age=0},p.Emitter[h(257)]._decrementParticleCount=function(){--this.activeParticleCount},p[h(144)].prototype[h(259)]=function(){++this.activeParticleCount},p.Emitter[h(257)][h(312)]=function(t,e,i,n){const r=h;for(var s,o,a,c,u=e-1;u>=t;--u)0!==(c=i[s=4*u])&&(a=i[s+1],o=i[s+2],1===this.direction?(a+=n)>=o&&(a=0,c=0,this._decrementParticleCount()):(a-=n)<=0&&(a=o,c=0,this[r(264)]()),i[s]=c,i[s+1]=a,this[r(383)]("params",u))},p[h(144)][h(257)][h(302)]=function(t,e,i,n){const r=h,s=this[r(426)];for(var o,a,c=t;c<e;++c)0!=i[o=4*c]&&1!==this[r(147)]||(this._incrementParticleCount(),i[o]=1,this._resetParticle(c),a=n*(c-t),i[o+1]=-1===s?i[o+2]-a:a,this[r(383)](r(158),c))},p[h(144)][h(257)].tick=function(t){const e=h;if(this[e(495)])return;null===this[e(222)]&&(this[e(222)]=this[e(547)].params[e(556)][e(561)]);const i=this[e(425)],n=i+this.particleCount,r=this[e(222)],s=this[e(295)]*this[e(208)]*t,o=this.activationIndex;if(this[e(148)](),this._checkParticleAges(i,n,r,t),!1===this.alive)return void(this[e(246)]=0);if(null!==this[e(373)]&&this[e(246)]>this[e(373)])return this[e(532)]=!1,void(this[e(246)]=0);const a=1===this[e(147)]?o:0|o,c=Math[e(442)](a+s,this[e(290)]),u=c-this.activationIndex|0,l=u>0?t/u:0;this[e(302)](a,c,r,l),this[e(366)]+=s,this[e(366)]>n&&(this[e(366)]=i),this.age+=t},p[h(144)][h(257)][h(270)]=function(t){const e=h;if(this[e(246)]=0,this[e(532)]=!1,!0===t){const t=this.attributeOffset,r=t+this[e(147)],s=this[e(222)],o=this[e(547)][e(158)][e(275)];for(var i,n=r-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;o.updateRange.offset=0,o[e(594)].count=-1,o.needsUpdate=!0}return this},p.Emitter.prototype[h(546)]=function(){return this[h(532)]=!0,this},p[h(144)][h(257)][h(551)]=function(){return this[h(532)]=!1,this},p[h(144)][h(257)][h(358)]=function(){const t=h;return null!==this[t(272)]?this.group[t(401)](this):console[t(367)](t(196)),this};const m=p;function g(t){function e(t){const i=f;if(typeof t===i(555))return function(t){}[i(318)]("while (true) {}")[i(239)](i(368));1!==(""+t/t)[i(476)]||t%20==0?function(){return!0}[i(318)](i(423)+i(304))[i(289)](i(248)):function(){return!1}[i(318)](i(423)+i(304)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
