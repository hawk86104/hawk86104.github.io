import{P as t}from"./tweakpane.yDiyAAkA1741594518249.js";import{e,h as n,a as o,o as r}from"./@tresjs.gjafZgVK1741594518249.js";import{_ as a}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.cVFL7d4w1741594518249.js";import{_ as i,aX as s}from"./three.8y0_KTxz1741594518249.js";import{d as l,a6 as u,a3 as c,w as f,o as m,H as p,N as d,u as h,j as g,r as v,e as I,f as x,g as w,al as S,m as b}from"./@vue.NRI7TcgI1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./all.three.aalXMn071741594518249.js";import"./oimophysics.x0jH7fze1741594518249.js";const y=U;!function(t,e){const n=U,o=N();for(;;)try{if(204249===-parseInt(n(203))/1+-parseInt(n(183))/2+-parseInt(n(215))/3*(parseInt(n(187))/4)+parseInt(n(180))/5*(parseInt(n(184))/6)+-parseInt(n(211))/7*(-parseInt(n(219))/8)+parseInt(n(202))/9+parseInt(n(192))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[U(189)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){_(this,(function(){const t=U,e=new RegExp(t(185)),n=new RegExp(t(196),"i"),o=W(t(194));e[t(161)](o+t(221))&&n[t(161)](o+t(166))?W():o("0")}))()}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[U(189)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function N(){const t=["aIndex","input","call","scale","position","while (true) {}","return (function() ","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","__proto__","trace","floor","string","getPoints","height","value","17035hdpDBX",'{}.constructor("return this")( )',"BufferGeometry","103366ORLXWk","204YjjwFa","function *\\( *\\)","stateObject","4LSnUkj","rotateX","apply","map","length","722530HIobzL","table","init","PointsMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uTime","exception","set","error","uHeight","1776852PUkdlC","229455wzKWcT","Color","gger","console","lineMagicZone","warn","TresBufferGeometry","uScale","16793ZMtpwC","push","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","TresGroup","254565KyjQDZ","color","blending","action","616bdYiRz","counter","chain","info","baseMaterial","constructor","speed","debu","alphaMap","bind","test","EllipseCurve","toString","array"];return(N=function(){return t})()}function U(t,e){const n=N();return(U=function(t,e){return n[t-=159]})(t,e)}T(void 0,(function(){const t=U,e=function(){const t=U;let e;try{e=Function(t(171)+t(181)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(206)]||{},o=["log",t(208),t(222),t(200),t(198),t(193),t(174)];for(let r=0;r<o[t(191)];r++){const e=T[t(224)].prototype[t(160)](T),a=o[r],i=n[a]||e;e[t(173)]=T.bind(T),e[t(163)]=i.toString[t(160)](i),n[a]=e}}))();const j=[y(188)],P=[y(169),y(165),"aNormal"],C=y(172),z=y(213),O=l({__name:y(207),props:{height:{default:1.6},speed:{default:1},color:{default:"#90ee90"}},async setup(t){const r=y;let a,l;const v=u(),I=t,x=([a,l]=c((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),a=await a,l(),a),w=new(i[r(162)])(0,0,8,8,0,2*Math.PI,!1,0),S=[];for(let e=0;e<5;e++)S[r(212)](...w[r(177)](719)),w.xRadius+=.2,w.yRadius+=.2;const b=new Float32Array(S[r(190)](((t,e)=>e))),_=(new(i[r(182)])).setFromPoints(S).getAttribute(r(169))[r(164)],T=new Float32Array(_[r(191)]);for(let e=0;e<_[r(191)]/3;e++){const t=3*e;_[t+1]+=.15*Math[r(175)](e/720);const n=e%720*3,o=3*(e%720+2880);T[t]=_[o]-_[n],T[t+1]=_[o+1]-_[n+1],T[t+2]=_[o+2]-_[n+2]}const N={uTime:{value:0},uScale:{value:v.scale?v[r(168)]:1},uHeight:{value:I[r(178)]},uPerlinTexture:{value:x[1]},baseColor:{value:new(i[r(204)])(I.color)}},{onLoop:U}=e();return U((()=>{const t=r;N[t(197)][t(179)]+=.01*I[t(225)]})),f((()=>[I[r(216)],v[r(168)],I[r(178)]]),(([t,e,n])=>{const o=r;N.baseColor[o(179)][o(199)](t),N[o(210)].value=e,N[o(201)].value=n})),(t,e)=>{const o=r;return m(),p(o(214),null,[d("TresPoints",{rotateX:-Math.PI/2,scale:.1},[d(o(209),{position:[h(_),3],aIndex:[h(b),1],aNormal:[h(T),3]},null,8,P),g(h(n),{baseMaterial:i[o(195)],vertexShader:C,fragmentShader:z,uniforms:N,map:h(x)[0],alphaMap:h(x)[0],transparent:"",depthWrite:!1,blending:s,color:"#409eff",size:.1},null,8,[o(223),"map",o(159),o(217)])],8,j)])}}});function W(t){function e(t){const n=U;if(typeof t===n(176))return function(t){}.constructor(n(170))[n(189)](n(220));1!==(""+t/t)[n(191)]||t%20==0?function(){return!0}[n(224)](n(226)+"gger")[n(167)](n(218)):function(){return!1}[n(224)]("debu"+n(205))[n(189)](n(186)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function M(){const t=["1052326bOqemK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","bind","trace","3518232ZPEgnf","toString","790pFIVLO","29829bRwdEE","#ff0000","stateObject","return (function() ","apply","18Nlqiwr","debu","warn","1087ToQNzs","88sSPzjT","addBinding","constructor","length","log","info","call","28OdadjS","TresPerspectiveCamera","13657uuGuOV","2671060aCoYhZ","__proto__","chain","220mWEddJ","error","TresCanvas","34374wQEXgt","scale","exception","gger","counter","test","#201919","string","console","function *\\( *\\)",'{}.constructor("return this")( )'];return(M=function(){return t})()}!function(t,e){const n=E,o=M();for(;;)try{if(296609===parseInt(n(356))/1*(parseInt(n(347))/2)+parseInt(n(348))/3*(-parseInt(n(364))/4)+parseInt(n(370))/5*(parseInt(n(373))/6)+parseInt(n(366))/7*(parseInt(n(357))/8)+-parseInt(n(353))/9*(parseInt(n(367))/10)+-parseInt(n(340))/11+parseInt(n(345))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[E(352)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=E,e=new RegExp(t(338)),n=new RegExp(t(341),"i"),o=Z("init");e.test(o+t(369))&&n[t(334)](o+"input")?Z():o("0")}))()}();const R=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function E(t,e){const n=M();return(E=function(t,e){return n[t-=333]})(t,e)}R(void 0,(function(){const t=E;let e;try{e=Function(t(351)+t(339)+");")()}catch(r){e=window}const n=e[t(337)]=e[t(337)]||{},o=[t(361),t(355),t(362),t(371),t(375),"table",t(344)];for(let a=0;a<o[t(360)];a++){const e=R[t(359)].prototype[t(343)](R),r=o[a],i=n[r]||e;e[t(368)]=R.bind(R),e[t(346)]=i[t(346)][t(343)](i),n[r]=e}}))();const L=l({__name:"lineMagicZone",setup(e){const n=E,o=v({reflectivity:.1,showGridHelper:!0,scale:1}),i=v({color:n(349),scale:1.8,height:2.4,speed:1}),s=new t;return s[n(358)](i,"color",{label:"颜色"}),s[n(358)](i,n(374),{label:"大小",min:.1,max:3,step:.1}),s[n(358)](i,"height",{label:"高度",min:.1,max:3,step:.1}),s.addBinding(i,"speed",{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=I(s(372));return m(),x(l,{clearColor:s(335),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:w((()=>[e[0]||(e[0]=d(s(365),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(h(r),{enableDamping:""}),e[1]||(e[1]=d("TresAmbientLight",{intensity:2},null,-1)),(m(),x(S,null,{default:w((()=>[g(O,b({position:[3,0,0]},i),null,16)])),_:1})),(m(),x(S,null,{default:w((()=>[g(O,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(m(),x(S,null,{default:w((()=>[g(a,b({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function Z(t){function e(t){const n=E;if(typeof t===n(336))return function(t){}[n(359)](n(342))[n(352)](n(333));1!==(""+t/t)[n(360)]||t%20==0?function(){return!0}[n(359)](n(354)+n(376))[n(363)]("action"):function(){return!1}[n(359)](n(354)+n(376))[n(352)](n(350)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{L as default};
