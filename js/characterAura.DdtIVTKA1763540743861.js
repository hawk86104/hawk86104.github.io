import{B as t,Q as o}from"./three.quarks.CwTtG7dG1763540743861.js";import{_ as s}from"./@tresjs.BCHtwiaC1763540743861.js";import{i as r}from"./index.Crdf3MNx1763540743861.js";import{d as e,w as i,H as a,o as p,J as m,u as n,F as j}from"./@vue.Co_gxueH1763540743861.js";import{G as c,B as l,V as d,l as u,A as f}from"./three.rXKzP9fQ1763540743861.js";import{C as y,a as h}from"./quarks.core.D-mmToEd1763540743861.js";import"./postprocessing.51l5tmA-1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";import"./@fesjs.BEMFm_yJ1763540743861.js";import"./vue-router.BxG8XxK11763540743861.js";import"./lodash-es.B7GkVYRo1763540743861.js";import"./pinia.CEQ6XgE61763540743861.js";import"./@qlin.y-0Z8WnK1763540743861.js";import"./@babel.BPq7uOAK1763540743861.js";import"./@floating-ui.Bhq4ibgf1763540743861.js";import"./@juggle.Vc7cP4_P1763540743861.js";import"./chalk.BHLFMujs1763540743861.js";/* empty css                                 */import"./iconify-icon.1JyQPtAK1763540743861.js";import"./@iconify.DDuAktjw1763540743861.js";import"./vite-plugin-qiankun.B06WoCqG1763540743861.js";import"./dompurify.C4MEnGDh1763540743861.js";import"./oimophysics.CfVKSiAm1763540743861.js";import"./three-stdlib.DJsODJ8R1763540743861.js";import"./@pmndrs.C5SFDEDA1763540743861.js";import"./object-hash.DlZNhpf61763540743861.js";import"./@amap.D8CfaEsq1763540743861.js";import"./crypto-js.CLP5yTup1763540743861.js";import"./naive-ui.qjPOP62h1763540743861.js";import"./date-fns.eh-WGDI81763540743861.js";import"./@css-render.DtSd-BuN1763540743861.js";import"./css-render.Dlx27V_T1763540743861.js";import"./@emotion.DFFAhID71763540743861.js";import"./seemly.D2hUckm91763540743861.js";import"./vooks.CVMU_ROE1763540743861.js";import"./evtd.C4K_ichY1763540743861.js";import"./vueuc.CEvnhvIm1763540743861.js";import"./vdirs.DlTVi7SG1763540743861.js";import"./treemate.Qc8YxXqZ1763540743861.js";import"./date-fns-tz.CIz1xaH61763540743861.js";import"./async-validator.DJtlKCAR1763540743861.js";import"./tweakpane.CqZAnw7f1763540743861.js";const v=["object"],w=["object","position","scale","rotation"],b=e({__name:"characterAura",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(e){const b=e,g=t=>{const o=new u(b.color),s=new f(o.r,o.g,o.b,t);return new h(s)},C=new t;(new o).setCrossOrigin("");const k=new c;let x=r.getItem("CartoonMagicZone");x.children.forEach(t=>{if("ParticleEmitter"===t.type){const o=t.system;-.25===o.startSpeed.value&&(o.startSpeed=new y(-.5)),o.startColor=g(o.startColor.color.w),C.addSystem(o)}k.add(t)}),"ParticleEmitter"===x.type&&C.addSystem(x.system),k.add(x);const S=(new l).setFromObject(k),E=new d;S.getCenter(E),k.position.sub(E),k.updateMatrixWorld(!0);const{onBeforeRender:q}=s();return q(({delta:t})=>{C.update(t),k.updateMatrixWorld(!0)}),i(()=>[b.color],([t])=>{C.systemToBatchIndex.forEach((t,o)=>{o.startColor=g(o.startColor.color.w)})}),(t,o)=>(p(),a(j,null,[m("primitive",{object:n(k)},null,8,v),m("primitive",{object:n(C),name:"aura1",position:t.position,scale:t.scale,rotation:t.rotation},null,8,w)],64))}});export{b as default};
