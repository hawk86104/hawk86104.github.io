import{V as t,c as n,a5 as e}from"./three.HEgnMaTu1721048663624.js";import{a as o}from"./@tresjs.Xiq_TH801721048663624.js";import{d as a,P as r}from"./@pmndrs.jxJ3fman1721048663624.js";import{d as s,b as i,w as c,a2 as l,o as u,D as p,J as f,aj as d,ak as h}from"./@vue.ApkyOKE71721048663624.js";const m=M;!function(t,n){const e=M,o=I();for(;;)try{if(177697===parseInt(e(343))/1+-parseInt(e(349))/2+-parseInt(e(353))/3*(parseInt(e(318))/4)+parseInt(e(317))/5+parseInt(e(299))/6*(parseInt(e(356))/7)+-parseInt(e(287))/8*(-parseInt(e(364))/9)+-parseInt(e(289))/10*(-parseInt(e(307))/11))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(309)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){w(this,(function(){const t=M,n=new RegExp(t(359)),e=new RegExp(t(326),"i"),o=x("init");n[t(304)](o+t(361))&&e[t(304)](o+"input")?x():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function("return (function() "+t(288)+");")()}catch(e){n=window}return n}(),e=n[t(346)]=n[t(346)]||{},o=["log",t(325),t(322),"error","exception",t(324),t(350)];for(let a=0;a<o[t(298)];a++){const n=g[t(331)][t(352)][t(363)](g),r=o[a],s=e[r]||n;n[t(334)]=g[t(363)](g),n[t(292)]=s[t(292)][t(363)](s),e[r]=n}}))();const y=[m(347)],b=f(m(340),{args:[1,1]},null,-1);function M(t,n){const e=I();return(M=function(t,n){return e[t-=283]})(t,n)}function I(){const t=["string","top","toString","bottom","shadows plm update","MathUtils","cos","blendWindow","length","12786sqOlyc","add","bias","clear","remove","test","DirectionalLight","while (true) {}","561AlPqxf","left","apply","texture","log","near","finish","action","lightPosition","frames","75465ddnvGC","37732pqtyon","counter","accumulativeShadowsCom","randFloatSpread","info","set","table","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radius","TresSoftShadowMaterial","shadow","#000000","constructor","sin","material","__proto__","stateObject","gger","size","gPlane","ambient","TresPlaneGeometry","debu","position","152715XayQzO","random","color","console","rotate-x","alphaTest","457068RODIgg","trace","camera","prototype","66lBFRek","blend","configure","147kUlnza","value","shadows render end","function *\\( *\\)","mapSize","chain","opacity","bind","397179VIcVCA","height","update","castShadow","amount","16SRdwZQ",'{}.constructor("return this")( )',"61360PQTDzq"];return(I=function(){return t})()}const z=s({__name:m(320),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(330)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,g=s;let M=i();const{extend:I,scene:z,renderer:x,camera:S}=o();I({SoftShadowMaterial:a});const P={position:(new t)[w(323)](g[w(315)].x,g[w(315)].y,g[w(315)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},v=new r(x[w(357)],z[w(357)],P[w(360)]),_={map:v.progressiveLightMap2[w(310)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[w(354)],alphaTest:g[w(348)],opacity:g[w(362)],color:g[w(345)]},j=new n;for(let t=0;t<P[w(286)];t++){const t=new(e[w(305)])(16777215,P.intensity/P[w(286)]);t[w(285)]=!0,t[w(329)].bias=P[w(301)],t[w(329)][w(351)].near=P[w(312)],t[w(329)][w(351)].far=P.far,t.shadow[w(351)].right=P[w(337)]/2,t[w(329)].camera[w(308)]=-P[w(337)]/2,t[w(329)][w(351)][w(291)]=P[w(337)]/2,t[w(329)][w(351)][w(293)]=-P[w(337)]/2,t.shadow[w(360)].width=P[w(360)],t[w(329)].mapSize[w(283)]=P[w(360)],j[w(300)](t)}const T=()=>{const t=w,n=P[t(342)][t(298)]();for(let o=0;o<j.children[t(298)];o++){const a=j.children[o];if(Math.random()>g[t(339)])a[t(342)][t(323)](P[t(342)].x+e[t(295)][t(321)](P[t(327)]),P[t(342)].y+e[t(295)][t(321)](P[t(327)]),P.position.z+e[t(295)].randFloatSpread(P[t(327)]));else{let e=Math.acos(2*Math[t(344)]()-1)-Math.PI/2,o=2*Math.PI*Math[t(344)]();a.position[t(323)](Math[t(296)](e)*Math.cos(o)*n,Math.abs(Math[t(296)](e)*Math[t(332)](o)*n),Math.sin(e)*n)}}},k=(t=1)=>{const n=w;z.value[n(300)](j),v.prepare();for(let e=0;e<t;e++)T(),v[n(284)](S[n(357)],g[n(297)]),console[n(311)](n(294),e);z[n(357)][n(303)](j),v[n(313)]()};c((()=>M[w(357)]),(t=>{const n=w;t&&(v[n(355)](t),v.clear(),console[n(311)]("shadows render start"),k(g[n(316)]),console[n(311)](n(358)))}));const R=()=>{const t=w;v[t(302)](),k(g[t(316)])};return l((()=>{const t=w;M[t(357)]&&(g[t(362)]&&(M[t(357)][t(333)][t(362)]=g[t(362)]),g.alphaTest&&(M[t(357)][t(333)][t(348)]=g[t(348)]),g.color&&M[t(357)][t(333)][t(345)][t(323)](g[t(345)]),g.blend&&(M.value[t(333)][t(354)]=g[t(354)]))})),c((()=>g.lightPosition),(t=>{const n=w;t&&(console[n(311)](g[n(315)]),P[n(342)].set(t.x,t.y,t.z),R())}),{deep:!0}),c((()=>[g[w(316)],g[w(297)],g[w(339)]]),(()=>{R()})),(t,n)=>{const e=w;return u(),p("TresMesh",{"receive-shadow":"",ref_key:e(338),ref:M,scale:10,"rotate-x":-Math.PI/2},[b,f(e(328),d(h(_)),null,16)],8,y)}}});function x(t){function n(t){const e=M;if(typeof t===e(290))return function(t){}[e(331)](e(306))[e(309)](e(319));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(341)+"gger").call(e(314)):function(){return!1}[e(331)]("debu"+e(336))[e(309)](e(335)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{z as _};
