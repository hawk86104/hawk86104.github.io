import{a3 as t,C as n,k as r,t as e,s as o,c7 as i}from"./three.jpi2UCEx1735275234726.js";import{m as s,b as c}from"./@tresjs.fCqPNEAw1735275234726.js";import{R as a,a as u}from"./all.three.XuJc20cT1735275234726.js";import{d as f,a6 as l,a3 as p,w as m,o as g,D as h,J as w,u as d}from"./@vue.u2cBPEWn1735275234726.js";const b=M;!function(t,n){const r=M,e=S();for(;;)try{if(269992===-parseInt(r(443))/1*(-parseInt(r(397))/2)+-parseInt(r(420))/3+-parseInt(r(414))/4*(parseInt(r(427))/5)+-parseInt(r(410))/6+parseInt(r(441))/7*(parseInt(r(408))/8)+parseInt(r(433))/9+parseInt(r(409))/10*(parseInt(r(438))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const y=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[M(421)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){y(this,(function(){const t=M,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=R(t(402));n[t(412)](e+t(398))&&r[t(412)](e+t(439))?R():e("0")}))()}();const v=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[M(421)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();v(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function(t(432)+t(394)+");")()}catch(r){n=window}return n}(),r=n.console=n.console||{},e=[t(401),t(400),t(391),"error",t(393),t(388),t(396)];for(let o=0;o<e[t(435)];o++){const n=v[t(386)][t(419)][t(442)](v),i=e[o],s=r[i]||n;n[t(407)]=v[t(442)](v),n.toString=s.toString.bind(s),r[i]=n}}))();const _=[b(426),"scale"],j=[b(411)],x=[b(411)],I=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:b(416)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const y=b;let v,I;const S=f,{scene:M}=s(),R=([v,I]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),v=await v,I(),v);R[0][y(413)]=t,R[0].wrapT=t,R[1][y(413)]=t,R[1][y(399)]=t;const T=new a,E=new u({reflectivity:S[y(444)],mirror:S[y(417)],mixStrength:S[y(387)],color:new n(S[y(404)]),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M[y(403)],dithering:!0});E[y(424)].tReflect=T[y(440)],E[y(424)][y(422)]=T[y(418)];const F=new e(10,10),G=new o(F,E);G[y(395)]=y(425),G.position.y=-.01,G.rotation.x=-Math.PI/2,G[y(428)](T),G[y(431)]=(t,n,r)=>{G.visible=!1,T.update(t,n,r),G.visible=!0};const O=new i(9.5,10);return O[y(415)]=S[y(405)],p((()=>{const t=y;S[t(444)]&&(E[t(424)][t(447)].value=S[t(444)]),S.mirror&&(E[t(424)].uMirror[t(436)]=S.mirror),S[t(387)]&&(E[t(424)][t(423)].value=S.mixStrength),S[t(404)]&&(E.uniforms[t(406)][t(436)]=new n(S[t(404)]))})),m((()=>S[y(405)]),(t=>{O[y(415)]=t})),(t,n)=>{const r=y;return g(),h(r(389),{position:S[r(426)],scale:S.scale},[w("primitive",{object:d(G)},null,8,j),w(r(429),{object:d(O)},null,8,x)],8,_)}}});function S(){const t=["1202988NowPLL","object","test","wrapS","144DKaVmg","visible","#ffffff","mirror","textureMatrixUniform","prototype","299313iMjpsb","apply","uMatrix","uMixStrength","uniforms","reflectorShaderMesh","position","6990KZMYEQ","add","primitive","call","onBeforeRender","return (function() ","509688PWqikT","debu","length","value","while (true) {}","33cMFjbG","input","renderTargetUniform","407561lDOVFf","bind","857gdtbyO","reflectivity","stateObject","string","uReflectivity","counter","constructor","mixStrength","table","TresGroup","action","info","gger","exception",'{}.constructor("return this")( )',"name","trace","76bOVngH","chain","wrapT","warn","log","init","fog","color","showGridHelper","uColor","__proto__","40lpIvAS","800920FCQEyw"];return(S=function(){return t})()}function M(t,n){const r=S();return(M=function(t,n){return r[t-=386]})(t,n)}function R(t){function n(t){const r=M;if(typeof t===r(446))return function(t){}[r(386)](r(437)).apply(r(448));1!==(""+t/t)[r(435)]||t%20==0?function(){return!0}.constructor(r(434)+r(392))[r(430)](r(390)):function(){return!1}[r(386)](r(434)+r(392))[r(421)](r(445)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{I as _};
