import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.SUe87xao1723628107012.js";import{a6 as i,x as s}from"./three.LOnTLfxo1723628107012.js";import{P as a}from"./tweakpane.yHWGBmom1723628107012.js";import{L as c}from"./three-subdivide.fZQyykS71723628107012.js";import{d as u,b as l,a1 as f,w as p,o as d,D as g,J as h,aj as m,ak as v,a4 as y,r as w,e as b,f as M,g as I,j as _,u as x,m as B}from"./@vue.9bHx4gg21723628107012.js";import"./@vueuse.t-c8gU4-1723628107012.js";const S=z;function T(){const n=["side","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","constructor","modify","color","1458177xwkARD","geometry","material","test","trace","2TrqQlS","24EDqkhY","position","subdivision","97893NDtBKI","apply","#ffff00","gger","Color","subVectors","uniforms","chain","280JBnwrz","249604NlwsrM","230Buddiz","60672672tPBizr","debu","shineShader",'{}.constructor("return this")( )',"srcMesh","return (function() ","572891zjNdpU","input","clone","copy","glowColor","4219365KKpXXN","FrontSide","length","while (true) {}","error","blending","init","prototype","Vector3","value","1573159qaFlbO","call","bind","81oMkshR","function *\\( *\\)","scale","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","stateObject","console","counter","__proto__","exception","AdditiveBlending"];return(T=function(){return n})()}!function(n,t){const e=z,o=T();for(;;)try{if(991531===parseInt(e(320))/1*(-parseInt(e(284))/2)+parseInt(e(323))/3*(-parseInt(e(297))/4)+parseInt(e(310))/5+parseInt(e(285))/6*(-parseInt(e(279))/7)+parseInt(e(296))/8*(parseInt(e(288))/9)+parseInt(e(298))/10*(-parseInt(e(305))/11)+parseInt(e(299))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(289)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){j(this,(function(){const n=z,t=new RegExp(n(324)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=N(n(316));t.test(o+n(295))&&e[n(282)](o+n(306))?N():o("0")}))()}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(289)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=T();return(z=function(n,t){return e[n-=271]})(n,t)}k(void 0,(function(){const n=z;let t;try{t=Function(n(304)+n(302)+");")()}catch(r){t=window}const e=t[n(328)]=t.console||{},o=["log","warn","info",n(314),n(272),"table",n(283)];for(let i=0;i<o[n(312)];i++){const t=k[n(276)][n(317)][n(322)](k),r=o[i],s=e[r]||t;t[n(271)]=k.bind(k),t.toString=s.toString[n(322)](s),e[r]=t}}))();const A=[S(325)],R=u({__name:S(301),props:{srcMesh:{},scale:{default:1.2},color:{default:S(290)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[S(311)]},blending:{default:i[S(273)]}},setup(e){const o=S,r=e,s=l(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(292)])(r[o(278)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(326),fragmentShader:o(275),side:r[o(274)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(315)]};f((()=>{const n=o;if(r[n(303)]&&!s[n(319)][n(280)].attributes[n(286)]){let t=r.srcMesh.geometry.clone();r[n(287)]&&(t=c.modify(t,2)),s.value[n(280)]=t,s.value.position[n(308)](r[n(303)].position)}r[n(278)]&&(a.uniforms[n(309)][n(319)]=new(i[n(292)])(r[n(278)])),r.c&&(a[n(294)].c[n(319)]=r.c),r.p&&(a[n(294)].p.value=r.p)})),p((()=>r.subdivision),(n=>{const t=o;let e=r.srcMesh.geometry[t(307)]();n&&(e=c[t(277)](e,2)),s[t(319)][t(280)]=e})),p((()=>r.side),(n=>{const t=o;s[t(319)][t(281)][t(274)]=n})),p((()=>r.blending),(n=>{const t=o;s[t(319)][t(281)][t(315)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=o;y[n(319)]&&s[n(319)]&&(a[n(294)].viewVector.value=(new(i[n(318)]))[n(293)](y[n(319)][n(286)],s[n(319)][n(286)]))})),(n,t)=>{const e=o;return d(),g("TresMesh",{ref_key:"TSGref",ref:s,scale:r[e(325)]},[h("TresShaderMaterial",m(v(a)),null,16)],8,A)}}});function N(n){function t(n){const e=z;if("string"==typeof n)return function(n){}.constructor(e(313))[e(289)](e(329));1!==(""+n/n)[e(312)]||n%20==0?function(){return!0}[e(276)](e(300)+e(291))[e(321)]("action"):function(){return!1}[e(276)](e(300)+"gger")[e(289)](e(327)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const C=q;!function(n,t){const e=q,o=Q();for(;;)try{if(229327===-parseInt(e(334))/1*(parseInt(e(343))/2)+-parseInt(e(359))/3+parseInt(e(339))/4*(parseInt(e(348))/5)+-parseInt(e(365))/6*(parseInt(e(341))/7)+-parseInt(e(372))/8+-parseInt(e(346))/9+parseInt(e(387))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(388)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=q,t=new RegExp(n(337)),e=new RegExp(n(384),"i"),o=J(n(390));t[n(352)](o+"chain")&&e[n(352)](o+"input")?J():o("0")}))()}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(388)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function q(n,t){const e=Q();return(q=function(n,t){return e[n-=334]})(n,t)}V(void 0,(function(){const n=q;let t;try{t=Function(n(340)+n(378)+");")()}catch(r){t=window}const e=t.console=t[n(349)]||{},o=["log",n(364),n(374),n(362),"exception",n(369),n(383)];for(let i=0;i<o[n(370)];i++){const t=V[n(358)][n(355)][n(360)](V),r=o[i],s=e[r]||t;t.__proto__=V[n(360)](V),t.toString=s.toString[n(360)](s),e[r]=t}}))();const D=h(C(354),{position:[5,5,5]},null,-1),E=h(C(351),{intensity:1},null,-1),P=h("TresGridHelper",{args:[10,10]},null,-1),Z=h(C(375),{args:[1,32,16]},null,-1),$=[C(350)],G=[C(350)],K=[h(C(376),{args:[1,1,1,1,1]},null,-1),h(C(363),{color:"#0ff"},null,-1)],O=u({__name:"shader",async setup(n){const t=C;let c,u;const f={clearColor:t(367)},p=l(),g=l(),m=l(),v=([c,u]=y((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(347)]))),c=await c,u(),c),S=w({scale:1.6,color:t(379),subdivision:!0,c:1.1,p:1.4,side:i[t(356)],blending:i[t(371)]}),T=new a({title:"参数",expanded:!0});return T[t(336)](S,t(368),{label:"颜色"}),T[t(336)](S,"scale",{label:"大小",min:1,max:3,step:.2}),T[t(336)](S,t(338),{label:t(377)}),T[t(336)](S,"c",{label:"c",min:0,max:2,step:.1}),T.addBinding(S,"p",{label:"p",min:0,max:8,step:.2}),T.addBinding(S,t(342),{options:{FrontSide:s,BackSide:i[t(335)],DoubleSide:i[t(373)]}}),T[t(336)](S,t(357),{options:{AdditiveBlending:i[t(371)],NormalBlending:i[t(385)]}}),(n,r)=>{const i=t,s=b(i(389));return d(),M(s,B(f,{"window-size":""}),{default:I((()=>[D,E,_(x(e)),P,h("TresMesh",{ref_key:i(381),ref:p,position:[-2,1,0]},[Z,h("TresMeshBasicMaterial",{map:x(v)[0]},null,8,$)],512),_(R,B({srcMesh:p[i(366)]},S),null,16,[i(386)]),_(x(o),{ref_key:i(361),ref:m,args:[1,1,1],position:[2,1,0]},{default:I((()=>[h(i(363),{map:x(v)[1]},null,8,G)])),_:1},512),_(R,B({srcMesh:m[i(366)]&&m.value[i(366)]},S),null,16,[i(386)]),h("TresMesh",{ref_key:"TresMeshRefB",ref:g,position:[0,1,-2]},K,512),_(R,B({srcMesh:g[i(366)]},S),null,16,[i(386)])])),_:1},16)}}});function Q(){const n=["table","length","AdditiveBlending","2222136oxOFqn","DoubleSide","info","TresSphereGeometry","TresBoxGeometry","边缘处理",'{}.constructor("return this")( )',"#00dfff","gger","TresMeshRefA","counter","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","NormalBlending","srcMesh","7929300AzwQTo","apply","TresCanvas","init","496oTaRYi","BackSide","addBinding","function *\\( *\\)","subdivision","4qgjIQK","return (function() ","28kAWfjE","side","174PgfJnP","debu","while (true) {}","932346RgRrwx","logo.png","1071945ZuqRaM","console","map","TresAmbientLight","test","stateObject","TresPerspectiveCamera","prototype","FrontSide","blending","constructor","204693jYIosV","bind","TreBoxRef","error","TresMeshBasicMaterial","warn","427872QzgHMU","value","#222","color"];return(Q=function(){return n})()}function J(n){function t(n){const e=q;if("string"==typeof n)return function(n){}.constructor(e(345))[e(388)](e(382));1!==(""+n/n).length||n%20==0?function(){return!0}[e(358)]("debu"+e(380)).call("action"):function(){return!1}[e(358)](e(344)+"gger")[e(388)](e(353)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
