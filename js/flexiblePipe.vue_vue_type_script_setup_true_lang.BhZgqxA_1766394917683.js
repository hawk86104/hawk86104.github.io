import{_ as e}from"./@tresjs.CC-VM6g11766394917683.js";import{i as a}from"./Resource.CDqX8L841766394917683.js";import{b as l}from"./buildFlexiblePipe.bONFkPaT1766394917683.js";import{d as s,a as t,w as r,G as n,o as d,I as i}from"./@vue.BxPWGdWw1766394917683.js";import{aa as o,V as u,b as m,aE as f,a6 as g}from"./three.F31Lz30M1766394917683.js";const p={renderOrder:9999},c=["args"],h=["color","side","map"],v=s({__name:"flexiblePipe",props:{color:{default:"0xff0000"},radius:{default:.1},bodyLength:{default:2},headLength:{default:1},headAngle:{default:0},radialSegments:{default:16},tailAngle:{default:0},tailLength:{default:.5},filletRadius:{default:.3},speed:{default:.01}},setup(s){const v=s,R=t(new o);r(()=>[v.bodyLength,v.headLength,v.headAngle,v.tailAngle,v.tailLength,v.filletRadius,v.radialSegments],([e,a,s,t,r,n,d])=>{const i=e/2,o=new u(0,0,-i),f=new u(0,0,i),g=m.degToRad(s),p=new u(Math.cos(g),Math.sin(g),0),c=f.clone().add(p.multiplyScalar(a)),h=m.degToRad(t),v=new u(Math.cos(h),Math.sin(h),0),T=[o.clone().add(v.multiplyScalar(r)),o,f,c];R.value=l(T,n,d)},{immediate:!0}),a.getResource("TextureLoader","./plugins/digitalCity/image/line.png","line.png");const T=a.getReactiveItem("line.png"),b=t(null);r(T,e=>{e?.isTexture&&(b.value=e.clone(),b.value.wrapS=b.value.wrapT=f,b.value.needsUpdate=!0)},{immediate:!0});const w=t(null),{onBeforeRender:x}=e();return x(()=>{b.value&&(b.value.offset.x-=v.speed)}),(e,a)=>(d(),n("TresMesh",p,[i("TresTubeGeometry",{args:[R.value,64,e.radius,e.radialSegments,!1]},null,8,c),i("TresMeshBasicMaterial",{ref_key:"tmsmRef",ref:w,color:e.color,metalness:.3,roughness:.5,side:g,transparent:"",map:b.value?b.value:null},null,8,h)]))}});export{v as _};
