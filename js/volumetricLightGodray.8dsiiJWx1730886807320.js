import{X as n,m as t,e,U as r,c as o}from"./@tresjs.iUmyNPdW1730886807320.js";import{g as s,h as c}from"./index.xgqHHD_Y1730886807320.js";import{_ as u}from"./three._P_a_E_Z1730886807320.js";import{d as i,b as a,a6 as l,w as f,o as p,D as h,J as m,j as g,g as d,u as y,F as w,a3 as I,aa as b,r as _,s as v,f as j,aj as M,ak as x,al as S,I as T,m as A}from"./@vue.-THQH3GC1730886807320.js";import{E as k,R as B,B as Z,G as C,a as F}from"./postprocessing.8HHryllQ1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./three-stdlib.-Lz596Q01730886807320.js";import"./@pmndrs.wWpbS2XU1730886807320.js";import"./object-hash.rH2Wt7qx1730886807320.js";import"./@amap.T-fZ7qS81730886807320.js";import"./jszip._dv5DHfD1730886807320.js";const R=N;!function(n,t){const e=N,r=G();for(;;)try{if(848407===parseInt(e(374))/1*(parseInt(e(378))/2)+-parseInt(e(417))/3*(-parseInt(e(419))/4)+-parseInt(e(386))/5+parseInt(e(399))/6*(-parseInt(e(384))/7)+-parseInt(e(377))/8+parseInt(e(387))/9*(parseInt(e(404))/10)+parseInt(e(389))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(403)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=N,t=new RegExp(n(400)),e=new RegExp(n(376),"i"),r=P(n(395));t[n(414)](r+n(385))&&e[n(414)](r+n(413))?P():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function G(){const n=["error","3AyLprS","__proto__","6100276bqkNty","stateObject","warn","2230XZCjBM","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","7971992IXgted","752qaNPss","toString","while (true) {}","constructor",'{}.constructor("return this")( )',"action","23730JmYLIF","chain","7987640JmFcvo","9lHCuxQ","log","11427966DIlAMC","TresMesh","value","envMap","SRGBColorSpace","prototype","init","return (function() ","TresMeshStandardMaterial","black","2280kMbLMm","function *\\( *\\)","cubeCameraRef","exception","apply","13281790SvOEcs","bind","length","tmSceen","counter","debu","gger","info","TresPlaneGeometry","input","test","string"];return(G=function(){return n})()}E(void 0,(function(){const n=N,t=function(){const n=N;let t;try{t=Function(n(396)+n(382)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(375)]||{},r=[n(388),n(373),n(411),n(416),n(402),"table","trace"];for(let o=0;o<r[n(406)];o++){const t=E.constructor[n(394)][n(405)](E),s=r[o],c=e[s]||t;t[n(418)]=E[n(405)](E),t[n(379)]=c[n(379)][n(405)](c),e[s]=t}}))();const D=["map"],L=[R(392)];function N(n,t){const e=G();return(N=function(n,t){return e[n-=373]})(n,t)}const $=i({__name:"screen",async setup(t){const e=R;let r,o;const c=a();c[e(391)]=([r,o]=l((()=>n("./plugins/visualArts/video/vlg.mp4",{loop:!0}))),r=await r,o(),r),c[e(391)].colorSpace=u[e(393)];const i=a(),I=a();f(i,(n=>{I.value=n.texture}));const b=a();return(n,t)=>{const r=e;return p(),h(w,null,[m(r(390),{ref_key:r(407),ref:b,position:[0,0,-16]},[t[0]||(t[0]=m(r(412),{args:[16,10]},null,-1)),m("TresMeshBasicMaterial",{map:c[r(391)]},null,8,D),t[1]||(t[1]=m(r(390),{scale:[16.05,10.05,1],position:[0,0,-.01]},[m(r(412)),m("TresMeshBasicMaterial",{color:r(398)})],-1))],512),g(y(s),{ref_key:r(401),ref:i,position:[-3,-1,-5],resolution:256},{default:d((()=>[m(r(390),null,[t[2]||(t[2]=m("TresSphereGeometry",{args:[2,32,32]},null,-1)),m(r(397),{metalness:1,roughness:.1,envMap:I[r(391)]},null,8,L)])])),_:1},512)],64)}}});function P(n){function t(n){const e=N;if(typeof n===e(415))return function(n){}[e(381)](e(380))[e(403)](e(408));1!==(""+n/n)[e(406)]||n%20==0?function(){return!0}.constructor(e(409)+"gger").call(e(383)):function(){return!1}[e(381)]("debu"+e(410)).apply(e(420)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=H;function H(n,t){const e=X();return(H=function(n,t){return e[n-=433]})(n,t)}!function(n,t){const e=H,r=X();for(;;)try{if(109270===parseInt(e(440))/1+parseInt(e(460))/2+-parseInt(e(461))/3+parseInt(e(477))/4+-parseInt(e(453))/5+-parseInt(e(442))/6*(-parseInt(e(433))/7)+-parseInt(e(475))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[H(465)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function X(){const n=["chain","effectComposer","prototype","frustumCulled","constructor","SphereGeometry","debu","table","1922872KFnQSm","push","822124wmBbDN","input","render","info","203jKAfNt","MeshBasicMaterial","return (function() ","counter","test","matrixAutoUpdate","addPass","122295xBitru","call","39924lTMTDZ","while (true) {}","HalfFloatType","console","exception","width","error","__proto__","trace","string","action","284910hNEtta","toString","bind","length","value",'{}.constructor("return this")( )',"warn","148202lmYZoZ","564846ebvHGU","log","gger","stateObject","apply","Mesh"];return(X=function(){return n})()}!function(){J(this,(function(){const n=H,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=q("init");t.test(r+n(467))&&e[n(437)](r+n(478))?q():r("0")}))()}();const U=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[H(465)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();U(void 0,(function(){const n=H,t=function(){const n=H;let t;try{t=Function(n(435)+n(458)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(445)]||{},r=[n(462),n(459),n(480),n(448),n(446),n(474),n(450)];for(let o=0;o<r[n(456)];o++){const t=U[n(471)][n(469)][n(455)](U),s=r[o],c=e[s]||t;t[n(449)]=U[n(455)](U),t[n(454)]=c[n(454)][n(455)](c),e[s]=t}}))();const Y=i({__name:O(468),props:{screen:{}},setup(n){const r=n,{camera:o,renderer:s,scene:c,sizes:i}=t();let a=null,l=null;const f=[];I((()=>{const n=H;if(i.width[n(457)]){const t=o[n(457)];((n,t,e,r,o)=>{const s=H;a=new k(e,{frameBufferType:u[s(444)],multisampling:8});const c=new B(n,t);a[s(439)](c)})(c.value,t,s.value,i[n(447)].value,i.height[n(457)]),(n=>{const t=H,e=new(u[t(434)])({color:16768426,transparent:!0,fog:!1}),o=new(u[t(472)])(.75,32,32),s=new(u[t(466)])(o,e);s[t(470)]=!1,s[t(438)]=!1;const c=new C(n,b(r.screen),{blur:!0,decay:.8,exposure:.34});f[t(476)](c)})(t),f[H(476)](new Z({luminanceThreshold:0,mipmapBlur:!0,luminanceSmoothing:0,intensity:1})),(n=>{const t=H;l=new F(n,...f),a[t(439)](l)})(t)}}));const{onAfterLoop:p}=e();return p((()=>{a&&a[H(479)]()})),(n,t)=>null}});function q(n){function t(n){const e=H;if(typeof n===e(451))return function(n){}.constructor(e(443))[e(465)](e(436));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(473)+e(463))[e(441)](e(452)):function(){return!1}[e(471)]("debu"+e(463))[e(465)](e(464)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function K(n,t){const e=Q();return(K=function(n,t){return e[n-=194]})(n,t)}function Q(){const n=["TresPerspectiveCamera","exception","tmSceen","chain","counter","length","3242316vLZusw","2834680OuFVuY","1072166uDAVyN","8388968NXIkep","string","while (true) {}","TresAmbientLight","toString","call","return (function() ",'{}.constructor("return this")( )',"info","#202020","log","screen","stateObject","constructor","warn","79492HkyJlb","function *\\( *\\)","6eTAuCb","table","$refs","TresMesh","rotation","error","#050505","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","gger","apply","debu","__proto__","4390038AuFMBZ","init","bind","6357239kyxvdc","action","value"];return(Q=function(){return n})()}const V=K;!function(n,t){const e=K,r=Q();for(;;)try{if(903556===parseInt(e(195))/1+-parseInt(e(224))/2+parseInt(e(210))/3+-parseInt(e(222))/4+parseInt(e(223))/5+parseInt(e(197))/6*(-parseInt(e(213))/7)+parseInt(e(225))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[K(207)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){W(this,(function(){const n=K,t=new RegExp(n(196)),e=new RegExp(n(204),"i"),r=rn(n(211));t.test(r+n(219))&&e.test(r+"input")?rn():r("0")}))()}();const nn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();nn(void 0,(function(){const n=K,t=function(){const n=K;let t;try{t=Function(n(231)+n(232)+");")()}catch(e){t=window}return t}(),e=t.console=t.console||{},r=[n(235),n(194),n(233),n(202),n(217),n(198),"trace"];for(let o=0;o<r[n(221)];o++){const t=nn.constructor[n(205)][n(212)](nn),s=r[o],c=e[s]||t;t[n(209)]=nn[n(212)](nn),t.toString=c[n(229)][n(212)](c),e[s]=t}}))();const tn=[V(201)],en=i({__name:"volumetricLightGodray",setup(n){const t=V,e=_({clearColor:t(203),antialias:!1,renderMode:"manual"}),s=_({enableDamping:!0}),u=a(null),i=a(null);return f((()=>u),(n=>{v((()=>{const t=K;n&&void 0!==n[t(215)][t(199)][t(218)]&&(i[t(215)]=n[t(215)][t(199)][t(218)])}))}),{deep:!0}),(n,a)=>{const l=t;return p(),j(y(o),A(e,{"window-size":""}),{default:d((()=>[a[1]||(a[1]=m(l(216),{position:[0,0,30],fov:45,near:.1,far:1e3},null,-1)),g(y(r),M(x(s)),null,16),a[2]||(a[2]=m(l(228),{intensity:.5},null,-1)),(p(),j(S,null,{default:d((()=>[g($,{ref_key:"screenRef",ref:u},null,512)])),_:1})),m(l(200),{position:[0,-5.02,0],receiveShadow:"",rotation:[-Math.PI/2,0,0]},[a[0]||(a[0]=m("TresPlaneGeometry",{args:[50,50]},null,-1)),g(y(c),{blur:[300,50],resolution:1024,mixBlur:1,mixStrength:100,roughness:1,depthScale:1.2,minDepthThreshold:.4,maxDepthThreshold:1.4,color:l(234),metalness:.8})],8,tn),i[l(215)]?(p(),j(Y,{key:0,screen:i.value},null,8,[l(236)])):T("",!0)])),_:1},16)}}});function rn(n){function t(n){const e=K;if(typeof n===e(226))return function(n){}.constructor(e(227))[e(207)](e(220));1!==(""+n/n).length||n%20==0?function(){return!0}[e(238)](e(208)+"gger")[e(230)](e(214)):function(){return!1}.constructor(e(208)+e(206))[e(207)](e(237)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{en as default};
