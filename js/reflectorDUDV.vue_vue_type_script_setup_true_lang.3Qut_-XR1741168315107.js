import{c8 as t,a3 as e,r as n,s as r}from"./three.FxqAALWt1741168315107.js";import{a as o}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{R as s,b as i}from"./all.three.hCBbh0t71741168315107.js";import{d as c,a3 as a,a2 as u,w as l,o as f,H as p,N as d,u as h}from"./@vue.NRI7TcgI1741168315107.js";const v=I;!function(t,e){const n=I,r=y();for(;;)try{if(501523===parseInt(n(418))/1*(parseInt(n(381))/2)+-parseInt(n(419))/3*(parseInt(n(394))/4)+parseInt(n(432))/5+parseInt(n(410))/6*(-parseInt(n(400))/7)+-parseInt(n(407))/8*(parseInt(n(434))/9)+parseInt(n(401))/10*(-parseInt(n(417))/11)+parseInt(n(403))/12*(parseInt(n(422))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[I(391)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=I,e=new RegExp(t(384)),n=new RegExp(t(390),"i"),r=M("init");e[t(416)](r+"chain")&&n[t(416)](r+t(396))?M():r("0")}))()}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function y(){const t=["length","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","update","log","461432jmuReI","size","input","value","showGridHelper","uniforms","120463TQTLEo","7270jTFevD","rotation","82716aiBPvp","uReflectivity","error","string","48FRocYz","counter","info","234tCAxyn","action","scale","exception","isMesh","gger","test","12639pZGDCT","4291rMlQJX","15OdNZGy","while (true) {}","uMatrix","3471gYYcWx","tReflectBlur","table","constructor","TresGroup","texture","primitive","return (function() ","warn","visible","4694095QAMMoQ","stateObject","1315098FTuKLA","renderTargetUniform","console","reflectivity","318fHyWBM","renderTarget","object","function *\\( *\\)","forEach","debu","reflectorDUDV"];return(y=function(){return t})()}w(void 0,(function(){const t=I;let e;try{e=Function(t(429)+'{}.constructor("return this")( ));')()}catch(o){e=window}const n=e[t(379)]=e[t(379)]||{},r=[t(393),t(430),t(409),t(405),t(413),t(424),"trace"];for(let s=0;s<r[t(388)];s++){const e=w[t(425)].prototype[t(389)](w),o=r[s],i=n[o]||e;e.__proto__=w.bind(w),e.toString=i.toString[t(389)](i),n[o]=e}}))();const g=["scale"],b=["object"],j=[v(383)];function I(t,e){const n=y();return(I=function(t,e){return n[t-=378]})(t,e)}const x=c({__name:v(387),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:m}){const w=v;let y,I;const x=c,M=new s,R=new t(x[w(395)][0]-.5,x[w(395)][1]);R[w(431)]=x.showGridHelper;const{map:T}=([y,I]=a((()=>o({map:x.mapUrl}))),y=await y,I(),y);T.wrapS=e,T.wrapT=e,T.repeat.set(6,3);const _=new i({map:T,reflectivity:x[w(380)]});_[w(399)].tReflect={value:M[w(382)][w(427)]},_[w(399)][w(423)]=M[w(378)],_[w(399)][w(421)]=M.textureMatrixUniform;const G=new n(new r(x[w(395)][0],x[w(395)][1]),_);return G[w(402)].x=-Math.PI/2,G.add(M),G.onBeforeRender=(t,e,n)=>{const r=w;G[r(431)]=!1,x.ignoreObjects[r(385)]((t=>{const e=r;t[e(414)]&&(t.visible=!1),t[e(397)]&&t.value.isMesh&&(t.value[e(431)]=!1)})),M[r(392)](t,e,n),x.ignoreObjects[r(385)]((t=>{const e=r;t[e(414)]&&(t[e(431)]=!0),t.value&&t.value[e(414)]&&(t.value[e(431)]=!0)})),G.visible=!0},u((()=>{const t=w;x.reflectivity&&(_[t(399)][t(404)][t(397)]=x[t(380)])})),l((()=>x[w(398)]),(t=>{R[w(431)]=t})),m({reflector:M}),(t,e)=>{const n=w;return f(),p(n(426),{scale:x[n(412)]},[d(n(428),{object:h(G),"position-y":-.01},null,8,b),d(n(428),{object:h(R)},null,8,j)],8,g)}}});function M(t){function e(t){const n=I;if(typeof t===n(406))return function(t){}[n(425)](n(420)).apply(n(408));1!==(""+t/t)[n(388)]||t%20==0?function(){return!0}[n(425)](n(386)+n(415)).call(n(411)):function(){return!1}[n(425)](n(386)+n(415))[n(391)](n(433)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
