import{m as e,D as o,o as a}from"./@tresjs.zc7faK4J1743660816268.js";import{R as r,a as s}from"./all.three.q3DPAGr01743660816268.js";import{c6 as t,M as i,C as n,V as l,l as m}from"./three.2wx8FU0g1743660816268.js";import{d as p,a4 as c,o as f,H as u,u as d,e as M,f as h,g,N as w,j,al as x}from"./@vue.B5PFBfKs1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./oimophysics.WhCxc1Ho1743660816268.js";const y=["rotation-x","position","object"],T=p({__name:"sciFiModular",props:{position:{default:[0,-1,0]}},async setup(a){let p,M;const h=a,{scene:g}=e(),{nodes:w}=([p,M]=c((()=>o("https://opensource.cdn.icegl.cn/model/floor/modelDraco.glb",{draco:!0,decoderPath:"./draco/"}))),p=await p,M(),p),j=w.Cube016__0;console.log(j);const x=j.geometry,T=t([x.clone(),x.clone().applyMatrix4((new i).makeRotationZ(-Math.PI/2)),x.clone().applyMatrix4((new i).makeRotationZ(Math.PI/2)),x.clone().applyMatrix4((new i).makeRotationZ(-Math.PI))]),v=new r,b=new s({reflectivity:6,mirror:.1,mixStrength:3,color:new n("#fff"),map:j.material.map.clone(),normalMap:j.material.normalMap.clone(),normalScale:new l(1,1),fog:g.fog,dithering:!0});b.uniforms.tReflect=v.renderTargetUniform,b.uniforms.uMatrix=v.textureMatrixUniform;const _=new m(T,b);return _.add(v),_.onBeforeRender=(e,o,a)=>{_.visible=!1,v.update(e,o,a),_.visible=!0},(e,o)=>(f(),u("primitive",{"rotation-x":-Math.PI/2,position:h.position,object:d(_)},null,8,y))}}),v=p({__name:"showFloor",setup:e=>(e,o)=>{const r=M("TresCanvas");return f(),h(r,{clearColor:"#201919","window-size":""},{default:g((()=>[o[0]||(o[0]=w("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1)),j(d(a),{enableDamping:""}),o[1]||(o[1]=w("TresAmbientLight",{intensity:10},null,-1)),o[2]||(o[2]=w("TresMesh",{position:[3,2,0]},[w("TresBoxGeometry",{args:[2,2,2]}),w("TresMeshNormalMaterial",{wireframe:!0})],-1)),o[3]||(o[3]=w("TresMesh",{position:[0,1.2,0]},[w("TresBoxGeometry",{args:[1,1,1]}),w("TresMeshNormalMaterial")],-1)),(f(),h(x,null,{default:g((()=>[j(T,{position:[0,0,0]})])),_:1}))])),_:1})}});export{v as default};
