import{$ as n,p as t,N as e,d as r,S as o}from"./@tresjs.bNNpPzYW1722507394274.js";import{a6 as i,aN as s}from"./three.Brogx0uK1722507394274.js";import{P as a}from"./tweakpane.BCjFYDHx1722507394274.js";import{L as c}from"./three-subdivide.Cv4ecxpe1722507394274.js";import{d as u,b as l,a1 as f,w as p,o as d,D as g,J as m,aj as h,ak as v,a4 as y,r as b,e as w,f as _,g as I,j as S,u as x,m as M}from"./@vue.CFXy4cc91722507394274.js";import"./@vueuse.CY5GWLAn1722507394274.js";const T=k;!function(n,t){const e=k,r=A();for(;;)try{if(467849===parseInt(e(277))/1+-parseInt(e(260))/2*(parseInt(e(292))/3)+parseInt(e(276))/4*(parseInt(e(296))/5)+-parseInt(e(254))/6*(parseInt(e(265))/7)+parseInt(e(279))/8+parseInt(e(284))/9+-parseInt(e(257))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(286)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){B(this,(function(){const n=k,t=new RegExp(n(272)),e=new RegExp(n(278),"i"),r=N(n(259));t[n(246)](r+n(297))&&e[n(246)](r+n(275))?N():r("0")}))()}();const j=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(286)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(){const n=["208ADNuqm","874206FiJpoa","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6554920BQgthC","modify","TresMesh","TSGref","trace","429066whYaLU","subVectors","apply","viewVector","table","error","console","Vector3","411iaBeIp","color","value","material","69045DEbeFT","chain","scale","clone","prototype","glowColor","bind","attributes","blending","shineShader","constructor","uniforms","test","debu","log","return (function() ","length","AdditiveBlending",'{}.constructor("return this")( )',"srcMesh","122076nMUxyg","counter","#ffff00","16359430ALWyLE","FrontSide","init","4002skEteq","string","call","position","subdivision","28CdkRyR","gger","side","action","Color","toString","exception","function *\\( *\\)","geometry","info","input"];return(A=function(){return n})()}function k(n,t){const e=A();return(k=function(n,t){return e[n-=242]})(n,t)}j(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function(n(249)+n(252)+");")()}catch(e){t=window}return t}(),e=t[n(290)]=t[n(290)]||{},r=[n(248),"warn",n(274),n(289),n(271),n(288),n(283)];for(let o=0;o<r[n(250)];o++){const t=j[n(244)][n(300)][n(302)](j),i=r[o],s=e[i]||t;t.__proto__=j[n(302)](j),t[n(270)]=s.toString.bind(s),e[i]=t}}))();const C=[T(298)],F=u({__name:T(243),props:{srcMesh:{},scale:{default:1.2},color:{default:T(256)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[T(258)]},blending:{default:i[T(251)]}},setup(e){const r=T,o=e,s=l(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(269)])(o[r(293)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o[r(267)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(242)]};f((()=>{const n=r;if(o[n(253)]&&!s[n(294)].geometry[n(303)][n(263)]){let t=o[n(253)][n(273)].clone();o.subdivision&&(t=c[n(280)](t,2)),s[n(294)][n(273)]=t,s[n(294)][n(263)].copy(o[n(253)][n(263)])}o.color&&(a.uniforms[n(301)][n(294)]=new(i[n(269)])(o.color)),o.c&&(a[n(245)].c[n(294)]=o.c),o.p&&(a.uniforms.p.value=o.p)})),p((()=>o[r(264)]),(n=>{const t=r;let e=o[t(253)][t(273)][t(299)]();n&&(e=c[t(280)](e,2)),s.value[t(273)]=e})),p((()=>o[r(267)]),(n=>{const t=r;s[t(294)][t(295)][t(267)]=n})),p((()=>o[r(242)]),(n=>{const t=r;s[t(294)][t(295)][t(242)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=r;y.value&&s.value&&(a[n(245)][n(287)][n(294)]=(new(i[n(291)]))[n(285)](y[n(294)][n(263)],s[n(294)][n(263)]))})),(n,t)=>{const e=r;return d(),g(e(281),{ref_key:e(282),ref:s,scale:o[e(298)]},[m("TresShaderMaterial",h(v(a)),null,16)],8,C)}}});function N(n){function t(n){const e=k;if(typeof n===e(261))return function(n){}[e(244)]("while (true) {}").apply(e(255));1!==(""+n/n)[e(250)]||n%20==0?function(){return!0}.constructor(e(247)+e(266))[e(262)](e(268)):function(){return!1}.constructor(e(247)+e(266))[e(286)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const z=V;!function(n,t){const e=V,r=R();for(;;)try{if(379739===-parseInt(e(432))/1*(-parseInt(e(431))/2)+parseInt(e(424))/3*(-parseInt(e(401))/4)+-parseInt(e(439))/5*(-parseInt(e(415))/6)+-parseInt(e(387))/7+parseInt(e(418))/8+-parseInt(e(428))/9+parseInt(e(385))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function R(){const n=["5388OUDYPt","srcMesh","subdivision","addBinding","shader","constructor","TresBoxGeometry","FrontSide","bind","color","TresGridHelper","TresMeshRefA","log","input","239298PGLFWA","prototype","test","423144jrcAcm","DoubleSide","#0ff","logo.png","AdditiveBlending","function *\\( *\\)","807bTWAzw","string","console","value","5953014bSvTos","exception","map","4NsFNhM","77514jLvjdw","TresMesh","#222","TresCanvas","gger","action","warn","70htTCIE","TresPerspectiveCamera","TresMeshRefB","length","apply","13339530OtBzPo","BackSide","4876956SsnFtE","边缘处理","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","info","TresSphereGeometry","trace","while (true) {}","TresMeshBasicMaterial","TresAmbientLight","TreBoxRef","call","error","NormalBlending"];return(R=function(){return n})()}!function(){E(this,(function(){const n=V,t=new RegExp(n(423)),e=new RegExp(n(389),"i"),r=q("init");t.test(r+"chain")&&e[n(417)](r+n(414))?q():r("0")}))()}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function V(n,t){const e=R();return(V=function(n,t){return e[n-=385]})(n,t)}L(void 0,(function(){const n=V,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t[n(426)]=t[n(426)]||{},r=[n(413),n(438),n(391),n(399),n(429),"table",n(393)];for(let o=0;o<r.length;o++){const t=L[n(406)][n(416)].bind(L),i=r[o],s=e[i]||t;t.__proto__=L.bind(L),t.toString=s.toString[n(409)](s),e[i]=t}}))();const D=m(z(440),{position:[5,5,5]},null,-1),P=m(z(396),{intensity:1},null,-1),G=m(z(411),{args:[10,10]},null,-1),$=m(z(392),{args:[1,32,16]},null,-1),O=["map"],W=[z(430)],Z=[m(z(407),{args:[1,1,1,1,1]},null,-1),m(z(395),{color:z(420)},null,-1)],U=u({__name:z(405),async setup(n){const t=z;let c,u;const f={clearColor:t(434)},p=l(),g=l(),h=l(),v=([c,u]=y((()=>e(["./plugins/earthSample/image/earthA/earth.jpg",t(421)]))),c=await c,u(),c),T=b({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(408)],blending:i[t(422)]}),B=new a({title:"参数",expanded:!0});return B[t(404)](T,t(410),{label:"颜色"}),B.addBinding(T,"scale",{label:"大小",min:1,max:3,step:.2}),B[t(404)](T,t(403),{label:t(388)}),B[t(404)](T,"c",{label:"c",min:0,max:2,step:.1}),B[t(404)](T,"p",{label:"p",min:0,max:8,step:.2}),B.addBinding(T,"side",{options:{FrontSide:i[t(408)],BackSide:i[t(386)],DoubleSide:i[t(419)]}}),B[t(404)](T,"blending",{options:{AdditiveBlending:s,NormalBlending:i[t(400)]}}),(n,e)=>{const i=t,s=w(i(435));return d(),_(s,M(f,{"window-size":""}),{default:I((()=>[D,P,S(x(r)),G,m(i(433),{ref_key:i(412),ref:p,position:[-2,1,0]},[$,m(i(395),{map:x(v)[0]},null,8,O)],512),S(F,M({srcMesh:p.value},T),null,16,["srcMesh"]),S(x(o),{ref_key:i(397),ref:h,args:[1,1,1],position:[2,1,0]},{default:I((()=>[m(i(395),{map:x(v)[1]},null,8,W)])),_:1},512),S(F,M({srcMesh:h[i(427)]&&h[i(427)].value},T),null,16,[i(402)]),m(i(433),{ref_key:i(441),ref:g,position:[0,1,-2]},Z,512),S(F,M({srcMesh:g[i(427)]},T),null,16,[i(402)])])),_:1},16)}}});function q(n){function t(n){const e=V;if(typeof n===e(425))return function(n){}[e(406)](e(394))[e(443)]("counter");1!==(""+n/n)[e(442)]||n%20==0?function(){return!0}[e(406)]("debu"+e(436))[e(398)](e(437)):function(){return!1}[e(406)](e(390)+"gger")[e(443)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
