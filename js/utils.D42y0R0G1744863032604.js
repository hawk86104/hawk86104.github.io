import{a as t,c as n,B as e,l as o,cc as r,C as s,ab as c}from"./three.B0XaFSnH1744863032604.js";import{z as i}from"./@fesjs.1a7Lul6Z1744863032604.js";import{b as a}from"./@tresjs.DDZ0vesk1744863032604.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.CQMVAHAP1744863032604.js";!function(){const t=b,n=d();for(;;)try{if(775210===parseInt(t(425))/1+parseInt(t(401))/2+parseInt(t(435))/3*(parseInt(t(389))/4)+parseInt(t(363))/5*(parseInt(t(367))/6)+parseInt(t(403))/7*(parseInt(t(393))/8)+parseInt(t(427))/9+-parseInt(t(402))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(369)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=B(t(426));n[t(387)](o+t(377))&&e.test(o+"input")?B():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(390)+t(379)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(400)]||{},o=["log","warn","info",t(421),t(364),t(380),t(410)];for(let r=0;r<o[t(371)];r++){const n=m[t(431)][t(409)][t(419)](m),s=o[r],c=e[s]||n;n[t(416)]=m[t(419)](m),n[t(406)]=c[t(406)].bind(c),e[s]=n}}))();const g=(t,e=!1)=>{const o=b;t.computeBoundingBox();const{max:r,min:s}=t[o(433)];t[o(395)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let n=0;n<t[o(407)][o(418)][o(368)];n++)e?(a[o(388)]((t[o(407)].position[o(428)](n)-(s.x+r.x)/2)/c),a[o(388)]((t[o(407)][o(418)].getY(n)-(s.y+r.y)/2)/i)):(a[o(388)]((t[o(407)].position[o(428)](n)-s.x)/c),a.push((t[o(407)][o(418)][o(434)](n)-s.y)/i));const u=new Float32Array(a);t.setAttribute("uv",new n(u,2))},h=(t,n)=>new Promise(((e,o)=>{const r=b;i(t,{},{method:"get",mergeRequest:!0,responseType:r(373)})[r(432)]((t=>{const o=r;n&&e(t[n]),e(t[o(382)])})).catch((t=>{console[r(421)](t),o(t)}))}));function d(){const t=["setAttribute","constructor","then","boundingBox","getY","6pxbRIi","uniforms","getCenter","5BkeOad","exception","divideScalar","gger","8386806gBvVwR","count","apply","material","length","setFromObject","json","getSize","children","string","chain","min",'{}.constructor("return this")( )',"table","geometry","features","set","computeBoundingBox","action","depthWrite","test","push","788972UVBvAY","return (function() ","add","stateObject","5216BQhcwP","negate","deleteAttribute","counter","value","Box3","sub","console","92018DNMufh","41587360lrljQw","14721UxmiuH","depthTest","expandByObject","toString","attributes","config","prototype","trace","computeBoundsTree","max","call","forEach","raycast","__proto__","copy","position","bind","debu","error","#fff","setY","random","1373810qKZJbm","init","3156156iQEFpW","getX","clone"];return(d=function(){return t})()}const w=t=>{const n=b,e=(new(THREE[n(398)]))[n(372)](t),o=new THREE.Vector3;e[n(362)](o),t[n(375)][n(414)]((t=>{const e=n;t[e(418)][e(399)](o)})),t[n(418)].copy(o.negate())},y=()=>{const t=b;e[t(409)][t(411)]=u,e[t(409)].disposeBoundsTree=f,o[t(409)][t(415)]=p},x=async n=>{const e=b,o=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=n.geometry[e(429)]();g(i),i[e(411)]();const u=new r(i,{color:new s(e(422)),scale:20,flowDirection:new t(1,1),textureWidth:1024,textureHeight:1024,normalMap0:o[0],normalMap1:o[1]});return u.material.transparent=!0,u.material[e(386)]=!0,u[e(370)][e(404)]=!0,u[e(370)].side=c,u[e(370)][e(436)][e(408)].value.w=20,u[e(370)][e(436)].reflectivity[e(397)]=.46,u};function b(t,n){const e=d();return b=function(t,n){return e[t-=362]},b(t,n)}function j(n){const e=b,o=[];for(let s=0;s<n[e(371)];s++)o.push(new t(n[s].x,n[s].y));const r=new t;for(let t=0;t<o[e(371)];t++)r[e(391)](o[t]);r[e(365)](o[e(371)]);for(let t=0;t<o[e(371)];t++)o[t][e(399)](r);return{points:o,centerPoint:r}}function B(t){function n(t){const e=b;if(typeof t===e(376))return function(t){}[e(431)]("while (true) {}")[e(369)](e(396));1!==(""+t/t)[e(371)]||t%20==0?function(){return!0}.constructor(e(420)+"gger")[e(413)](e(385)):function(){return!1}[e(431)](e(420)+e(366))[e(369)](e(392)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,y as i,h as l,g as r,x as s};
