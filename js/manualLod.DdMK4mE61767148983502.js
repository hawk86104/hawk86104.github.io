import{importShared as u}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{Fs as R,Kk as L,_export_sfc as T}from"./index.DTe2qqjO1767148983502.js";import{Pane as g}from"./tweakpane.BQRZXf8M1767148983502.js";const{defineComponent:B}=await u("vue"),{createElementVNode:e,openBlock:C,createElementBlock:S}=await u("vue"),{shallowRef:c,watch:y}=await u("vue"),M=B({__name:"SphereWithManualLOD",setup(w,{expose:n}){const t=c(),a=c(),o=c(),l=c();y([a,o,l],()=>{a.value&&o.value&&l.value&&(t.value?.addLevel(a.value,0),t.value?.addLevel(o.value,10),t.value?.addLevel(l.value,20),r())});const{camera:f}=R(),r=()=>{f.value&&t.value?.update(f.value)};return n({updateLOD:r,getLevel:()=>t.value?.getCurrentLevel()}),(d,s)=>(C(),S("TresLOD",{ref_key:"lodRef",ref:t,autoUpdate:!1},[e("TresMesh",{ref_key:"mesh1Ref",ref:a},[...s[0]||(s[0]=[e("TresSphereGeometry",{args:[2,36,36]},null,-1),e("TresMeshStandardMaterial",{color:"#ff0000",wireframe:""},null,-1)])],512),e("TresMesh",{ref_key:"mesh2Ref",ref:o},[...s[1]||(s[1]=[e("TresSphereGeometry",{args:[2,12,12]},null,-1),e("TresMeshStandardMaterial",{color:"#00ff00",wireframe:""},null,-1)])],512),e("TresMesh",{ref_key:"mesh3Ref",ref:l},[...s[2]||(s[2]=[e("TresSphereGeometry",{args:[2,4,4]},null,-1),e("TresMeshStandardMaterial",{color:"#0000ff",wireframe:""},null,-1)])],512)],512))}}),{defineComponent:D}=await u("vue"),{createElementVNode:m,createVNode:p,unref:x,normalizeProps:v,guardReactiveProps:_,resolveComponent:b,withCtx:O,openBlock:P,createBlock:E}=await u("vue"),{reactive:h,shallowRef:k}=await u("vue"),N=D({__name:"manualLod",setup(w){const n=k(),t=k(),a=new g;a.addButton({title:"更新LOD"}).on("click",()=>{n.value?.updateLOD()});const o=a.addBlade({view:"text",label:"LOD级别",parse:r=>String(r),value:"0"});a.addButton({title:"获取LOD级别"}).on("click",()=>{if(n.value){const r=n.value.getLevel();o.value=r}});const l=h({windowSize:!0,alpha:!0,antialias:!0,clearAlpha:0,disableRender:!0}),f=h({enableDamping:!0,enableZoom:!0,enablePan:!0,enableRotate:!0,makeDefault:!0});return(r,i)=>{const d=b("TresCanvas");return P(),E(d,v(_(l)),{default:O(()=>[m("TresPerspectiveCamera",{ref_key:"cameraRef",ref:t,fov:60,near:.1,far:2e3,position:[0,0,25],"look-at":[0,0,0]},null,512),i[0]||(i[0]=m("TresAmbientLight",{intensity:2},null,-1)),p(M,{ref_key:"sphereRef",ref:n},null,512),p(x(L),v(_(f)),null,16)]),_:1},16)}}}),G=T(N,[["__scopeId","data-v-ca744c40"]]);export{G as default};
