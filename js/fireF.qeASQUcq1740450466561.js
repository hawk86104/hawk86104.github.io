var t,e,s,i,n,r,o,a,c,h,l,u,p,f,m,d=Object.defineProperty,w=(t,e,s)=>(((t,e,s)=>{e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as g}from"./pagesShow.vue_vue_type_script_setup_true_lang.sU7DdiRS1740450466561.js";import{_ as S,b as y,C as v,M as x,an as P,B as I,X as A,cr as F,r as b,l as z,a2 as T,ar as E,aX as R,V as O}from"./three.HaMTRCf61740450466561.js";import{m as C,e as V}from"./@tresjs.9lmhsV6t1740450466561.js";import{d as q,b as M,a2 as N,o as _,f as U,g as B,j}from"./@vue.NRI7TcgI1740450466561.js";import"./three-custom-shader-material.PpIb7yur1740450466561.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";const D=Vt;!function(t,e){const s=Vt,i=vt();for(;;)try{if(616417===parseInt(s(619))/1*(-parseInt(s(748))/2)+parseInt(s(698))/3*(-parseInt(s(332))/4)+-parseInt(s(620))/5+parseInt(s(491))/6*(-parseInt(s(571))/7)+-parseInt(s(793))/8+-parseInt(s(337))/9*(-parseInt(s(348))/10)+parseInt(s(499))/11*(parseInt(s(555))/12))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const X=class{constructor(t){this[D(558)]=t}};t=D(523),e=D(440),w(X,t,new X(D(523))),w(X,e,new X(D(440)));let W=X;class J{constructor(){this[D(601)]()}[D(601)](){const t=D;this[t(630)]=W[t(523)],this[t(789)]=1,this.age=0,this[t(521)]=new(S[t(556)]),this.position=new(S[t(373)]),this[t(405)]=new(S[t(373)]),this[t(702)]=new y,this[t(657)]=new(S[t(373)]),this[t(422)]=0,this.rotationalSpeed=0,this[t(378)]=new(S[t(633)]),this.color=new v,this[t(669)]=1,this.initialSize=new(S[t(633)]),this.initialColor=new(S[t(498)]),this[t(578)]=1}[D(677)](t,e,s,i,n,r,o,a,c,h,l,u,p,f,m,d){const w=D;this[w(630)]=t,this[w(789)]=e,this.age=s,this.sequenceElement[w(497)](i),this[w(522)][w(497)](n),this[w(405)][w(497)](r),this[w(702)][w(497)](o),this[w(657)][w(497)](a),this.rotation=c,this[w(735)]=h,this.size=l,this[w(709)][w(497)](u),this[w(669)]=p,this[w(455)].copy(f),this[w(369)][w(497)](m),this[w(578)]=d}[D(720)](t){const e=D;t[e(677)](this[e(630)],this[e(789)],this[e(588)],this.sequenceElement,this[e(522)],this.velocity,this.acceleration,this[e(657)],this[e(422)],this[e(735)],this.size,this.color,this[e(669)],this[e(455)],this[e(369)],this[e(578)])}[D(497)](t){const e=D;this[e(677)](t.progressType,t.lifetime,t[e(588)],t[e(521)],t[e(522)],t[e(405)],t[e(702)],t[e(657)],t[e(422)],t.rotationalSpeed,t.size,t[e(709)],t[e(669)],t[e(455)],t.initialColor,t.initialAlpha)}}class Y{constructor(){w(this,s,function(){const t=D,e=new(S[t(373)]);return function(s=new(S[t(775)]),i=null){const n=t,r=s[n(762)],o=s[n(746)];for(let t=0;t<this[n(724)];t++){const s=this[n(603)](t);let a=s[n(522)];i&&(e.copy(a),e.applyMatrix4(i),a=e);const c=Math.max(s.size.x,s.size.y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,f=a.z-c,m=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=f),(0==t||a.z>o.z)&&(o.z=m)}return s}}()),w(this,i,function(){const t=D,e=new y,s=new(S[t(373)]),i=new(S[t(373)]);return function(n=new(S[t(467)]),r=null){const o=t;let a=0;for(let t=0;t<this.activeParticleCount;t++){const n=this.getState(t);let c=n[o(522)];r&&(i[o(497)](c),i[o(610)](r),c=i);const h=Math.max(n.size.x,n.size.y);if(0==t)e[o(497)](c),a=h;else{s[o(497)](c)[o(385)](e);const t=s[o(686)]()+h;if(t>a){const i=(t-a)/2;s[o(426)]()[o(460)](i),e[o(450)](s),a+=i}}}return n[o(697)].copy(e),n[o(660)]=a,n}}());const t=D;this.particleCount=0,this.activeParticleCount=0,this[t(468)]=[]}[D(601)](t){this[D(411)](t)}[D(411)](t){const e=D;this.particleCount!=t&&(this[e(658)](),this.allocate(t)),this[e(351)]=t}[D(402)](t){this[D(724)]=t}[D(368)](t){const e=D;this[e(468)]=[],this[e(351)]=t;for(let s=0;s<t;s++)this[e(468)][s]=new J}dispose(){}getParticleCount(){return this[D(351)]}[D(417)](){}copyState(t,e){const s=D;if(t>=this[s(351)])throw new Error(s(530));if(e>=this[s(351)])throw new Error(s(444));const i=this[s(468)][t],n=this[s(468)][e];i[s(720)](n)}setState(t,e){const s=D;if(t>=this[s(351)])throw new Error(s(803));return this.particleStates[t][s(497)](e)}[D(603)](t){const e=D;if(t>=this[e(351)])throw new Error(e(569));return this.particleStates[t]}}s=D(474),i=D(540);class Z{constructor(t,e,s=0){const i=D;this[i(611)]=t,this[i(686)]=e,this.id=s}}class G{constructor(){const t=D;this[t(546)]={},this[t(404)]=[]}[D(586)](t,e,s){const i=D;if(this.hasID(s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const n=new Z(t,e,s);return this[i(546)][s]=n,this[i(404)][i(376)](s),n}getSequence(t){const e=D;if(!this[e(796)](t))throw new Error(e(596));return this[e(546)][t]}[D(807)](){return this[D(404)]}[D(796)](t){return!!this[D(546)][t]}}class k{constructor(){}[D(600)](t){const e=D;t[e(369)][e(484)](1,1,1),t[e(455)].set(1,1),t.initialAlpha=1,t[e(630)]=W.Time,t[e(789)]=0,t.age=0,t[e(521)][e(484)](0,0,0,0),t[e(522)][e(484)](0,0,0),t.velocity[e(484)](0,0,0),t[e(702)].set(0,0,0),t[e(657)][e(484)](0,0,1),t[e(422)]=0,t.rotationalSpeed=0,t[e(378)][e(497)](t[e(455)]),t[e(709)][e(497)](t.initialColor),t.alpha=1}}class L extends k{constructor(){super()}[D(600)](t){super[D(600)](t)}}class H{constructor(){}[D(716)](){}}class $ extends H{constructor(){const t=D;super(),this[t(812)]=new y,this[t(568)]=new y,this[t(602)]=new(S[t(373)]),this[t(531)]=new(S[t(373)])}[D(716)](t,e){const s=D;return super[s(716)](t,e),this.stateAcceleration.copy(t[s(702)]),this[s(568)][s(497)](this[s(602)]),this[s(568)].multiplyScalar(e),t[s(405)][s(450)](this[s(568)]),this[s(531)].copy(t.velocity),this[s(812)][s(497)](this[s(531)]),this[s(812)][s(460)](e),t.position[s(450)](this[s(812)]),t[s(588)]=t.age+e,t[s(422)]=t.rotation+e*t.rotationalSpeed,!0}}class Q{static[D(364)](t,e,s){const i=D;return Math[i(762)](Math[i(746)](t,e),s)}static currentTime(){return performance[D(731)]()/1e3}}class K{constructor(){this[D(487)]=[]}addComponent(t){const e=D;this.components[e(376)](t)}[D(534)](t,e){const s=D;for(const i of this[s(487)])i[s(534)](t,e)}[D(372)](t){const e=D;if(t>=this[e(487)][e(686)])throw new Error(e(715));return this[e(487)][t]}}const tt=class{constructor(t){this[D(558)]=t}};n=D(432),r=D(415),o=D(804),w(tt,n,new tt(D(432))),w(tt,r,new tt(D(415))),w(tt,"Paused",new tt("Paused")),w(tt,o,new tt(D(804)));let et=tt;class st{constructor(t,e){w(this,a,function(){const t=new x;return function(){const e=Vt;let s=null;this[e(655)]&&(s=t,s.copy(this[e(349)].matrixWorld)[e(563)]()),this[e(560)][e(608)]()?(this[e(468)][e(474)](this[e(473)],s),this.particleSystemRenderer[e(500)](this[e(473)])):(this.particleStates[e(540)](this[e(326)],s),this[e(560)][e(695)](this.boundingSphere))}}());const s=D;this[s(349)]=t,this[s(349)][s(637)]=!1,this[s(637)]=!0,this[s(560)]=e,this[s(562)]=!1,this.maximumActiveParticles=0,this[s(724)]=0,this[s(447)]=!0,this[s(561)]=!1,this.particleEmitter=null,this[s(758)]=new K,this[s(595)]=[],this.particleStateOperators=[],this[s(468)]=null,this[s(576)]=et[s(432)],this[s(641)]=new G,this[s(380)]=null,this.transformInitialDirectionInWorldSpace=!0,this.boundingBox=new(S[s(775)]),this[s(326)]=new(S[s(467)])}[D(601)](t){const e=D;if(this[e(562)])throw new Error(e(361));this[e(492)]=t,this.particleSystemRenderer?(this.particleSystemRenderer[e(739)](this[e(349)]),this[e(560)][e(601)](this[e(492)],this[e(447)]),this[e(560)][e(792)](this[e(447)]),this.particleStates=this[e(560)].getParticleStateArray()):(this[e(468)]=new Y,this[e(468)].init(this[e(492)])),this[e(342)](new L),this[e(636)](new $),this[e(562)]=!0}[D(489)](){return this[D(637)]}[D(811)](t){return this[D(637)]=t}[D(692)](t){this.onUpdateCallback=t}[D(534)](t,e){const s=D;if(this[s(576)]==et.Running){if(this[s(349)][s(391)](!0),t=null==t||null==t?Q[s(714)]():t,e=null==e||null==e?t-this.lastUpdateTime:e,this.emitterInitialized&&this[s(576)]==et[s(415)]){const t=this[s(430)][s(534)](e);t>0&&this[s(414)](t),this.advanceActiveParticles(e),this.onUpdateCallback&&this[s(380)](this[s(724)]),this.updateBounds()}this[s(758)][s(534)](t,e),this.lastUpdateTime=t}}[D(615)](t,e){const s=D;if(this.getVisible()&&this[s(560)]){const i=t[s(513)];t[s(513)]=!1,this[s(349)].visible=!0,this[s(349)].matrixWorldNeedsUpdate=!0,this[s(560)].render(this[s(349)],t,e),this[s(349)].visible=!1,t[s(513)]=i}}[D(611)](){const t=D;this[t(576)]!=et[t(432)]&&this.systemState!=et[t(597)]||(this[t(576)]=et[t(415)],this[t(352)]=Q[t(714)](),this[t(808)]=this.startTime)}[D(795)](){const t=D;this[t(576)]==et[t(415)]&&(this[t(576)]=et[t(597)])}stop(){}getSystemState(){return this[D(576)]}setEmitter(t){const e=D;return this[e(430)]=t,this[e(430)][e(492)]=this.maximumActiveParticles,this[e(561)]=!0,this[e(430)]}addComponent(t){const e=D;this.componentContainer[e(699)](t)}[D(372)](t){const e=D;return this[e(758)][e(372)](t)}[D(342)](t){return this[D(595)].push(t),t}getParticleStateInitializerCount(){const t=D;return this[t(595)][t(686)]}[D(355)](t){const e=D;if(t>=this.particleStateInitializers.length)throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this[e(595)][t]}[D(636)](t){const e=D;return this[e(783)][e(376)](t),t}[D(398)](){const t=D;return this.particleStateOperators[t(686)]}[D(613)](t){const e=D;if(t>=this[e(783)][e(686)])throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(783)][t]}[D(639)](){return this[D(492)]}[D(708)](){return this[D(724)]}[D(469)](t){const e=D;if(t>=this[e(724)])throw new Error(e(690));return this[e(468)].getState(t)}[D(525)](){return this[D(468)]}[D(452)](){return this[D(560)]}[D(755)](){return this[D(447)]}[D(792)](t){const e=D;this[e(447)]=t,this[e(560)]&&this[e(560)][e(792)](this[e(447)])}[D(754)](t){this[D(655)]=t}[D(483)](t,e,s=0){const i=D;this[i(641)][i(586)](t,e,s)}[D(340)](){return this[D(641)]}getEmitter(){return this.particleEmitter}[(a=D(705),D(414))](t){const e=D;if(this.systemState==et[e(415)]){const s=Q[e(364)](this.activeParticleCount+t,0,this.maximumActiveParticles);for(let t=this.activeParticleCount;t<s;t++)this.activateParticle(t);this[e(724)]=s,this.particleStates[e(402)](this[e(724)])}}[D(581)](t){const e=D;if(this[e(576)]==et[e(415)]){const s=this[e(468)][e(603)](t);s[e(588)]=0;for(let t=0;t<this[e(595)][e(686)];t++){this[e(595)][t][e(600)](s)}if(this[e(447)]){s[e(522)][e(610)](this[e(349)][e(428)]);const t=s[e(405)][e(686)]();if(this[e(655)]){s[e(405)][e(643)](this[e(349)][e(428)])[e(460)](t);const i=s[e(702)][e(686)]();s[e(702)][e(643)](this[e(349)].matrixWorld)[e(460)](i)}}this[e(468)][e(417)](t)}}[D(526)](t){const e=D;if(this[e(576)]==et[e(415)]){let s=0;for(;s<this[e(724)];){this[e(806)](s,t)?s++:(s<this[e(724)]-1&&this[e(710)](this.activeParticleCount-1,s),this[e(724)]--)}this.particleStates.setActiveParticleCount(this.activeParticleCount)}}[D(806)](t,e){const s=D;if(this.systemState==et[s(415)]){const i=this[s(468)][s(603)](t);for(let t=0;t<this.particleStateOperators[s(686)];t++){const n=this[s(783)][t][s(716)](i,e),r=i[s(789)];if(!n||0!=r&&i[s(588)]>=r)return!1}return this[s(468)][s(417)](t),!0}return!1}[D(710)](t,e){const s=D;this[s(468)][s(388)](t,e),this[s(468)][s(417)](e)}static fromJSON(t,e,s){const i=D,n=(t,e,s)=>{const i=Vt;e(t);for(const r in t)if(t[i(809)](r)){const s=t[r];typeof s===i(330)&&n(s,e)}};n(t,(t=>{const s=Vt;t[s(501)]&&(t[s(501)]=e[s(454)](t[s(501)]))}));const r=t[i(334)],o=t[i(447)],a=t[i(659)],c=a.type[i(765)](a[i(703)]),h=new P,l=new st(h,c,s);l[i(601)](r),l.setSimulateInWorldSpace(o);const u=t.emitter,p=u.type[i(765)](u[i(703)]);if(l[i(797)](p),t[i(546)])for(const f of t.sequences)l[i(483)](f[i(611)],f.length,f.id);if(t[i(552)])for(const f of t.initializers)l[i(342)](f.type[i(765)](l,f[i(703)]));if(t[i(674)])for(const f of t[i(674)]){const t=l[i(636)](f[i(501)][i(765)](l,f[i(703)]));f[i(605)]&&t.addElementsFromParameters(f[i(605)])}return[l,h]}toJSON(t){const e=D,s=this.getParticleSystemRenderer(),i=this[e(589)](),n=this.getParticleSequences(),r=n[e(807)]()[e(774)]((t=>{const s=e,i=n[s(750)](t);return{id:t,start:i[s(611)],length:i.length}})),o=[],a=this[e(421)]();for(let l=0;l<a;l++){const s=this[e(355)](l);s[e(471)]!==L&&o[e(376)]({type:t.getTypePath(s[e(471)]),params:s.toJSON(t)})}const c=[],h=this[e(398)]();for(let l=0;l<h;l++){const s=this[e(613)](l);if(s[e(471)]!==$){const i=s.toJSON(t),n=i[e(703)]||i,r=i.params?i.elements:null,o={type:t[e(481)](s[e(471)]),params:n};r&&(o.elements=r),c[e(376)](o)}}return{maxParticleCount:this[e(639)](),simulateInWorldSpace:this[e(755)](),renderer:{type:t[e(481)](s[e(471)]),params:s[e(331)]()},emitter:{type:t[e(481)](i[e(471)]),params:i[e(331)]()},sequences:r,initializers:o,operators:c}}}class it{constructor(){const t=D;this[t(604)]=[],this[t(767)]=performance[t(731)]()/1e3,this.lastUpdateTime=this[t(767)],this[t(758)]=new K}[D(534)](){const t=D,e=Q[t(714)](),s=e-this[t(808)];for(const i of this.particleSystems)i[t(534)](e,s);this.componentContainer[t(534)](e,s),this[t(808)]=e}render(t,e){const s=D;for(const i of this[s(604)])i[s(615)](t,e)}[D(751)](t){const e=D;this[e(604)][e(376)](t)}[D(699)](t){const e=D;this.componentContainer[e(699)](t)}[D(372)](t){const e=D;return this[e(758)][e(372)](t)}}class nt{constructor(){const t=D;this[t(562)]=!1,this[t(351)]=0,this.owner=null,this.simulateInWorldSpace=!1}[D(792)](t){this[D(447)]=t}[D(701)](){}[D(739)](t){this[D(349)]=t}[D(601)](t){const e=D;if(this.particleCount=t,!this[e(562)])return this.initialized=!0,!0;throw new Error("Renderer::init() -> trying to intialize more than once.")}[D(615)](){}}class rt extends Y{constructor(){const t=D;super(),this[t(336)]=null,this.progressTypes=null,this[t(451)]=null,this[t(399)]=null,this[t(645)]=null,this[t(504)]=null,this[t(776)]=null,this[t(764)]=null,this[t(654)]=null,this[t(688)]=null,this[t(743)]=null,this[t(598)]=null,this[t(689)]=null,this[t(798)]=null,this.initialColors=null,this[t(503)]=!1,this[t(661)]=6}[D(601)](t,e=!1){const s=D;this[s(503)]=e,this[s(503)]?this.verticesPerParticle=1:this[s(661)]=6,super.init(t),this.allocate(t)}[D(411)](t){super[D(411)](t)}[D(402)](t){const e=D;super.setActiveParticleCount(t),t>0?this[e(503)]?this[e(336)][e(507)]=t:this.geometry.setDrawRange(0,this[e(661)]*t):this[e(503)]?this[e(336)][e(507)]=0:this[e(336)][e(707)](0,0)}[D(417)](t){const e=D;if(t>=this[e(351)])throw new Error(e(339));const s=this[e(603)](t),i=t*this[e(661)];for(let n=0;n<this[e(661)];n++)this.lifetimes[e(545)](i+n,s[e(789)]),this[e(451)][e(567)]=!0,this.ages[e(545)](i+n,s[e(588)]),this[e(399)][e(567)]=!0,this[e(645)][e(734)](i+n,s[e(521)].x,s[e(521)].y,s[e(521)].z,s.sequenceElement.w),this[e(645)][e(567)]=!0,this.positions[e(400)](i+n,s[e(522)].x,s[e(522)].y,s[e(522)].z),this[e(504)][e(567)]=!0,this[e(776)].setXYZ(i+n,s[e(405)].x,s[e(405)].y,s.velocity.z),this[e(776)][e(567)]=!0,this[e(764)].setXYZ(i+n,s[e(702)].x,s.acceleration.y,s[e(702)].z),this[e(764)][e(567)]=!0,this[e(654)][e(400)](i+n,s[e(657)].x,s[e(657)].y,s.normal.z),this[e(654)][e(567)]=!0,this.rotations[e(545)](i+n,s[e(422)]),this[e(688)].needsUpdate=!0,this[e(743)].setX(i+n,s.rotationalSpeed),this.rotationalSpeeds[e(567)]=!0,this[e(598)][e(478)](i+n,s[e(378)].x,s.size.y),this.sizes.needsUpdate=!0,this.colors[e(400)](i+n,s.color.r,s[e(709)].g,s[e(709)].b),this.colors[e(567)]=!0,this[e(729)][e(545)](i+n,s[e(669)]),this.alphas.needsUpdate=!0,this[e(798)].setXY(i+n,s[e(455)].x,s.initialSize.y),this.initialSizes[e(567)]=!0,this[e(609)][e(545)](i+n,s[e(578)]),this[e(609)][e(567)]=!0}[D(388)](t,e){const s=D;super[s(388)](t,e),this[s(417)](e)}[D(502)](t,e){const s=D;if(t>=this.particleCount)throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super[s(502)](t,e),this[s(417)](t)}[D(509)](){return this[D(504)]}getSizes(){return this[D(598)]}[D(477)](){return this.rotations}[D(671)](){return this.sequenceElements}[D(360)](){return this[D(689)]}getGeometry(){return this[D(336)]}[D(368)](t){const e=D;super[e(368)](t);const s=(t,s)=>{const i=e;return this.instanced?new(S[i(557)])(t,s):new(S[i(802)])(t,s)},i=this[e(661)]*this[e(351)];if(this[e(503)]){const t=new(S[e(495)]),s=new Float32Array(18);this.basePositions=new(S[e(802)])(s,3),t[e(429)]("position",this[e(629)]),this[e(629)][e(567)]=!0,this[e(629)][e(400)](0,-1,1,0),this.basePositions[e(400)](1,-1,-1,0),this[e(629)][e(400)](2,1,1,0),this.basePositions[e(400)](3,-1,-1,0),this[e(629)][e(400)](4,1,-1,0),this.basePositions[e(400)](5,1,1,0);const i=new Float32Array(12);this[e(810)]=new(S[e(802)])(i,2),t[e(429)](e(680),this[e(810)]),this[e(810)][e(567)]=!0,this.baseUVs[e(478)](0,0,1),this.baseUVs[e(478)](1,0,0),this[e(810)][e(478)](2,1,1),this[e(810)][e(478)](3,0,0),this[e(810)][e(478)](4,1,0),this[e(810)][e(478)](5,1,1);const n=new Float32Array(6);this.customIndexes=new(S[e(802)])(n,1),t[e(429)](e(585),this[e(685)]),this[e(685)][e(567)]=!0,this[e(685)].setX(0,0),this[e(685)].setX(1,1),this[e(685)].setX(2,3),this[e(685)][e(545)](3,1),this[e(685)][e(545)](4,2),this[e(685)][e(545)](5,3),this[e(336)]=(new(S[e(640)])).copy(t),this[e(336)][e(507)]=0}else{this[e(336)]=new I;const t=new Float32Array(i);this[e(685)]=new(S[e(802)])(t,1),this[e(336)][e(429)]("customIndex",this.customIndexes),this[e(685)][e(567)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this[e(661)];this[e(685)][e(545)](t,0),this[e(685)][e(545)](t+1,1),this[e(685)][e(545)](t+2,3),this[e(685)][e(545)](t+3,1),this[e(685)].setX(t+4,2),this.customIndexes.setX(t+5,3)}}const n=new Float32Array(i),r=new Float32Array(i),o=new Float32Array(4*i),a=new Float32Array(3*i),c=new Float32Array(3*i),h=new Float32Array(3*i),l=new Float32Array(3*i),u=new Float32Array(i),p=new Float32Array(i),f=new Float32Array(2*i),m=new Float32Array(3*i),d=new Float32Array(i),w=new Float32Array(2*i),g=new Float32Array(3*i),y=new Float32Array(i);this.positions=s(a,3),this[e(504)][e(493)](S[e(524)]),this[e(336)][e(429)](e(788),this[e(504)]),this.lifetimes=s(n,1),this[e(451)][e(493)](A),this[e(336)].setAttribute("lifetime",this[e(451)]),this[e(399)]=s(r,1),this.ages[e(493)](A),this[e(336)][e(429)]("age",this[e(399)]),this[e(645)]=s(o,4),this.sequenceElements[e(493)](S[e(524)]),this[e(336)][e(429)]("sequenceElement",this[e(645)]),this[e(776)]=s(c,3),this.velocities[e(493)](A),this[e(336)][e(429)](e(405),this[e(776)]),this[e(764)]=s(h,3),this[e(764)][e(493)](A),this.geometry.setAttribute("acceleration",this[e(764)]),this[e(654)]=s(l,3),this[e(654)][e(493)](S[e(524)]),this[e(336)].setAttribute(e(657),this[e(654)]),this[e(688)]=s(u,1),this[e(688)].setUsage(S[e(524)]),this.geometry.setAttribute("rotation",this.rotations),this.rotationalSpeeds=s(p,1),this[e(743)][e(493)](A),this[e(336)][e(429)](e(735),this[e(743)]),this[e(598)]=s(f,2),this[e(598)][e(493)](A),this[e(336)][e(429)](e(378),this[e(598)]),this[e(689)]=s(m,3),this[e(689)].setUsage(A),this[e(336)][e(429)](e(709),this[e(689)]),this[e(729)]=s(d,1),this[e(729)].setUsage(S[e(524)]),this[e(336)].setAttribute(e(669),this[e(729)]),this[e(798)]=s(w,2),this.initialSizes[e(493)](S[e(524)]),this.geometry[e(429)](e(455),this[e(798)]),this.initialColors=s(g,3),this[e(733)][e(493)](S[e(524)]),this[e(336)][e(429)](e(369),this[e(733)]),this[e(609)]=s(y,1),this.initialAlphas[e(493)](A),this.geometry[e(429)](e(578),this.initialAlphas)}[D(658)](){const t=D;super.dispose(),this[t(336)]&&(this[t(336)][t(658)](),this.geometry=null)}}class ot{constructor(t,e,s,i,n){const r=D;this[r(686)]=t,this.x=e,this.y=s,this[r(329)]=i,this[r(790)]=n}}class at{constructor(t,e){const s=D;this[s(706)]=t,this.texturePath=e,this[s(593)]=[]}[D(449)](){return this.texture}[D(544)](){return this.texturePath}[D(439)](){const t=D;return this[t(593)][t(686)]}[D(464)](t,e,s,i,n){const r=D;this[r(593)][r(376)](new ot(t,e,s,i,n))}[D(453)](t){const e=D;if(t>=this[e(593)][e(686)])throw new Error(e(470));return this[e(593)][t]}}const ct=class t extends nt{constructor(t,e,s=!1,i=F,n=!0,r){const o=D;super(),w(this,c,function(){const t=D,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){e(this,(function(){const t=Vt,e=new RegExp(t(662)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=_t(t(601));e[t(366)](i+t(622))&&s[t(366)](i+t(528))?_t():i("0")}))()}();const s=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();s(this,(function(){const t=Vt,e=function(){const t=Vt;let e;try{e=Function(t(693)+t(494)+");")()}catch(s){e=window}return e}(),i=e[t(379)]=e[t(379)]||{},n=[t(409),"warn",t(794),t(425),t(389),t(476),"trace"];for(let r=0;r<n[t(686)];r++){const e=s[t(471)][t(771)][t(362)](s),o=n[r],a=i[o]||e;e[t(651)]=s[t(362)](s),e[t(623)]=a[t(623)].bind(a),i[o]=e}}))();const i=new(S[t(373)]);return function(){const e=t,s=this[e(427)][e(446)]();if(this.calculateBoundingSphereFromBox){s[e(473)]||(s.boundingBox=new(S[e(775)])),s[e(473)][e(497)](this[e(473)]),!s[e(326)]&&(s[e(326)]=new(S[e(467)])),i.x=(this.boundingBox[e(762)].x+this[e(473)][e(746)].x)/2,i.y=(this[e(473)][e(762)].y+this[e(473)][e(746)].y)/2,i.z=(this[e(473)][e(762)].z+this[e(473)].max.z)/2;const t=this[e(473)][e(746)].x-i.x,n=this[e(473)][e(746)].y-i.y,r=this[e(473)].max.z-i.z,o=Math[e(746)](Math[e(746)](t,n),r);s.boundingSphere[e(697)].copy(i),s.boundingSphere.radius=Math.sqrt(2*o*o)}else s[e(326)]||(s[e(326)]=new(S[e(467)])),s[e(326)][e(497)](this[e(326)])}}()),this[o(503)]=t,this.particleStateArray=null,this.material=null,this[o(744)]=null,this.atlas=e,this[o(341)]=s,this[o(448)]=i,this[o(473)]=new(S[o(775)]),this[o(326)]=new(S[o(467)]),this[o(665)]=n,this[o(696)]=r}[D(739)](t){super[D(739)](t)}getParticleStateArray(){return this[D(427)]}[D(792)](t){const e=D;super[e(792)](t),this[e(738)]&&(this[e(738)].uniforms.simulateInWorldSpace[e(365)]=t?1:0,this[e(738)][e(434)]=!0)}[D(608)](){return this.calculateBoundingSphereFromBox}[D(500)](t){const e=D;this[e(473)][e(497)](t),this.mesh&&this.updateMeshBounds()}[D(695)](t){const e=D;this[e(326)].copy(t),this[e(744)]&&this[e(383)]()}[D(615)](t,e,s){e[D(615)](t,s)}[(c=D(383),D(601))](t){const e=D;super.init(t)&&(this.particleStateArray=new rt,this[e(427)][e(601)](t,this[e(503)]),this[e(738)]=this[e(496)](null,null,null,!0,!1),this.material[e(448)]=this[e(448)],this[e(744)]=new b(this[e(427)][e(446)](),this[e(738)]),this.mesh.frustumCulled=!0,void 0!==this[e(696)]&&(this[e(744)][e(696)]=this[e(696)]),this[e(383)](),this.owner[e(450)](this[e(744)]))}dispose(){this[D(427)].dispose()}[D(496)](e,s,i,n,r){const o=D,a=[...Array(16)[o(763)]()][o(774)]((t=>new(S[o(556)])));if(this[o(679)])for(let t=0;t<this[o(679)][o(439)]();t++){const e=this[o(679)][o(453)](t);a[t]=new(S[o(556)])(e.x,e.y,e.width,e[o(790)])}const c=this.atlas?this[o(679)][o(449)]():null,h=this[o(341)],l=this[o(447)],u=this.instanced?1:0,p={atlasFrameSet:{type:"v4v",value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(S[o(633)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return i=i||{},Object[o(529)](i,p),e=e||t[o(490)][o(431)](r),s=s||t.Shader[o(632)](n,r),new z({uniforms:i,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:F,blendDstAlpha:S[o(770)],blendSrcAlpha:S[o(626)],depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=D,i=e[s(679)],n=(new T).load(i[s(516)]),r=new at(n,i.texturePath),o=i[s(456)];for(const t of o)r.addFrameSet(t[s(686)],t.x,t.y,t[s(329)],t[s(790)]);const a=new t(e.instanced,r,i[s(653)]);return e[s(448)]==s(412)?a.blending=S[s(327)]:a[s(448)]=S[s(737)],a}toJSON(t){const e=D;t=t||(t=>{const e=Vt;if(t.texturePath)return t[e(516)];const s=t[e(449)]()[e(393)];if(s){const t=s[e(785)];if(t){const s=t[e(538)],i=t[e(681)];return i.indexOf(s)>=0?i[e(678)](s[e(686)],i[e(686)]-s[e(686)]):i}}});const s=[];for(let n=0;n<this[e(679)][e(439)]();n++){const t=this[e(679)][e(453)](n);s[e(376)](t)}let i="Normal";this.material.blending===S[e(327)]&&(i=e(412));return{instanced:this[e(503)],blending:i,atlas:{interpolateFrames:this[e(341)],texturePath:t(this.atlas),framesets:s}}}};h=D(490),w(ct,h,{get VertexVars(){const t=D;return["const int MAX_ATLAS_FRAME_SETS = 16; \n",t(543),"uniform int interpolateAtlasFrames; \n",t(638),t(472),"attribute vec2 baseUV;\n",t(642),"attribute vec4 particlePosition;\n",t(539),t(668),t(354),t(347),t(462),t(394),"varying vec2 vUV2;\n",t(599),t(403),t(353)][t(564)]("\n")},get FragmentVars(){const t=D;return[t(648),t(676),t(670),t(394),t(760),t(599),t(403),t(574)][t(564)]("\n")},getVertexShader(t){const e=D;let s=[e(664),this[e(407)]].join("\n");return t&&(s+=e(519)),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n",e(757),e(559),e(396),e(801),e(740),e(614),e(617),e(465),e(485),e(518),"   int nRowYTile = int(SNOverHS);\n",e(466),e(443),e(730),e(786),e(459),e(649),"} \n","void main()\n","{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(550),e(628),"   const vec2 down = vec2(0.0, -1.0);\n",e(486),e(547),e(711),e(584),e(656),e(363),"       viewPosition = viewMatrix * particlePosition;\n",e(575),e(587),"   } \n",e(537),e(612),e(510),e(572),e(684),e(719),e(345),e(590),e(506),e(549),e(579),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n",e(752),e(757),e(559),e(621),e(548),e(627),e(691),e(756),"       rightSide = step(2.0, customIndex); \n",e(625),"       upperSide = upperSideStep.x + upperSideStep.y;\n",e(532),e(759),e(408),e(752),"   float uvXOffset = atlasFrameWidth * rightSide; \n","   float uvYOffset = atlasFrameHeight * upperSide; \n",e(805),e(756),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(650),e(395),e(772),e(718),e(606),"   }  else { \n",e(554),e(752),e(666),e(346),e(553),e(683),e(442)][e(564)]("\n"),t&&(s+="   \n  #include <logdepthbuf_vertex> \n"),s+=e(736),s},getFragmentShader(t,e){const s=D;let i=s(712)+this[s(635)]+"\n";return e&&(i+=s(747)),i+=s(406),e&&(i+=s(742)),i+=t?[s(441),"   vec4 color2 = color1; \n",s(768),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(535)][s(564)]("\n"):[s(542),"   vec4 color2 = color1; \n",s(768),s(377),s(535)].join("\n"),i+="}\n",i}});let ht=ct;class lt{constructor(){const t=D;this[t(533)]=0,this[t(766)]=0,this[t(541)]=0,this.age=0,this.timeActive=0,this[t(761)]=0,this[t(492)]=0}[D(534)](t){return this[D(577)](t),0}[D(577)](t){const e=D;return this[e(588)]+=t,this.timeActive=Math.max(this[e(588)]-this.emissionRelativeStartTime,0),this[e(588)]>=this.emissionRelativeStartTime&&(0==this[e(766)]||this[e(527)]<=emissionDuration)}[D(458)](t){this[D(541)]+=t}}class ut extends lt{constructor(){const t=D;super(),this.emissionMinimum=0,this[t(647)]=0}}class pt extends ut{constructor(t=0){super(),this.emissionRate=t}[D(534)](t){const e=D;if(this[e(577)](t)){const t=this[e(745)]*this[e(527)]-this[e(541)];if(t>=1){const s=Math[e(591)](t);return this[e(458)](s),s}}return 0}static fromJSON(t){const e=D,s=new pt;return s[e(745)]=t[e(745)]||0,s}[D(331)](){return{emissionRate:this[D(745)]}}}const ft=class t{constructor(t){this[D(558)]=t}static[(l=D(633),u=D(498),D(551))](e){const s=D;let i=t.Default;return e===S[s(633)]?i=t[s(633)]:e===S[s(373)]?i=t[s(373)]:e===S[s(556)]?i=t[s(556)]:e===S[s(498)]&&(i=t[s(498)]),i}static[D(517)](t,e){const s=D;switch(e){case S[s(633)]:return(new(S[s(633)])).fromArray(t);case y:return(new(S[s(373)]))[s(726)](t);case S[s(556)]:return(new E)[s(726)](t);case v:return(new v)[s(726)](t)}return t}};w(ft,"Default",new ft("Default")),w(ft,l,new ft(D(633))),w(ft,"Vector3",new ft(D(373))),w(ft,"Vector4",new ft(D(556))),w(ft,u,new ft(D(498)));let mt=ft;class dt{constructor(t){const e=D;this[e(418)]=t,this[e(482)]=mt[e(551)](t)}}class wt extends dt{constructor(t,e,s,i,n,r){const o=D;super(t),this[o(356)]=e,this[o(682)]=s,this[o(333)]=i,this[o(328)]=n,this[o(426)]=r}generate(t){const e=D,s=Math[e(338)]()*this.uniformRange;switch(this[e(482)]){case mt.Default:t=Math[e(338)]()*this[e(356)]+this[e(682)],this[e(426)]&&(t=t<0?-1:1);break;case mt.Vector2:t[e(484)](this[e(512)](s,"x"),this.generateForElement(s,"y"));break;case mt[e(373)]:t[e(484)](this[e(512)](s,"x"),this[e(512)](s,"y"),this.generateForElement(s,"z"));break;case mt.Vector4:t[e(484)](this[e(512)](s,"x"),this[e(512)](s,"y"),this[e(512)](s,"z"),this.generateForElement(s,"w"))}return this[e(426)]&&t[e(426)](),t}generateForElement(t,e){const s=D;return t+Math[s(338)]()*this[s(356)][e]+this[s(682)][e]+this[s(328)]}[D(777)](){const t=D;return new wt(this[t(418)],this[t(356)],this[t(682)],this.uniformRange,this[t(328)],this[t(426)])}static[D(673)](t){const e=D;return t instanceof S[e(633)]||t instanceof y||t instanceof E||t instanceof S[e(498)]?t[e(508)]():t}static[D(765)](t){const e=D;return new wt(t.type,mt[e(517)](t.range,t[e(501)]),mt[e(517)](t[e(682)],t.type),t[e(333)]||0,t[e(328)]||0,t[e(426)])}[D(331)](t){const e=D,s={range:wt[e(673)](this[e(356)]),offset:wt.getParameterJSON(this.offset),uniformRange:this[e(333)],uniformOffset:this[e(328)]},i=t[e(481)](this[e(356)][e(471)]);return null!=i&&(s.type=i),{type:t[e(481)](wt),params:s}}}class gt extends k{constructor(t,e,s,i,n){const r=D;super(),this[r(356)]=t,this.offset=e,this[r(333)]=s,this[r(328)]=i,this[r(426)]=n,this.generator=new wt(0,this[r(356)],this[r(682)],this[r(333)],this[r(328)],this.normalize)}[D(600)](t){const e=D;t[e(789)]=this[e(672)][e(437)]()}static fromJSON(t,e){const s=D;return new gt(e[s(356)],e[s(682)],e[s(333)],e[s(328)],e[s(426)])}[D(331)](){const t=D;return{range:this[t(356)],offset:this.offset,uniformRange:this[t(333)],uniformOffset:this.uniformOffset,normalize:this[t(426)]}}}class St extends k{constructor(t){const e=D;super(),this[e(672)]=t[e(777)]()}[D(600)](t){const e=D;t[e(422)]=this[e(672)][e(437)](t[e(422)])}static[D(765)](t,e){const s=D,i=e[s(672)][s(501)][s(765)](e[s(672)][s(703)]);return new St(i)}[D(331)](t){return{generator:this[D(672)].toJSON(t)}}}class yt extends k{constructor(t,e,s,i,n){const r=D;super(),this.range=t,this.offset=e,this[r(333)]=s,this.uniformOffset=i,this[r(426)]=n,this.generator=new wt(0,this[r(356)],this[r(682)],this.uniformRange,this.uniformOffset,this.normalize)}[D(600)](t){const e=D;t[e(735)]=this[e(672)][e(437)]()}static[D(765)](t,e){const s=D;return new yt(e[s(356)],e[s(682)],e[s(333)],e.uniformOffset,e.normalize)}[D(331)](){const t=D;return{range:this[t(356)],offset:this[t(682)],uniformRange:this[t(333)],uniformOffset:this[t(328)],normalize:this[t(426)]}}}function vt(){const t=["toJSON","124tfSFfZ","uniformRange","maxParticleCount","castShadow","geometry","9QGWbpD","random",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"getParticleSequences","interpolateAtlasFrames","addParticleStateInitializer","getInterpolatorForTypeID","getTValue","   vec2 uv2; \n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","attribute vec3 color;\n","5374660YkrKrj","owner","Object3D","particleCount","startTime","varying float vSequenceElementT; \n","attribute vec4 sequenceElement;\n","getParticleStateInitializer","range","jsonTypes","offsetX","rangePhi","getColors","ParticleSystem::init() -> trying to intialize more than once.","bind","   if (simulateInWorldSpace == 1) { \n","clamp","value","test","parent","allocate","initialColor","tValues","addElementsFromParameters","getComponent","Vector3","lastIntensityAdjuster","offsetY","push","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","size","console","onUpdateCallback","addElementsFromElementClassAndParameters","lastPositionAdjuster","updateMeshBounds","speed","sub","setIntensity","bias","copyState","exception","split","updateWorldMatrix","scaleX","source","varying vec2 vUV1;\n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","   float atlasFrameX = atlasFrames.x; \n","reverse","getParticleStateOperatorCount","ages","setXYZ","offsetTheta","setActiveParticleCount","varying float vFragAlpha;\n","ids","velocity","void main() { \n","VertexVars","       upperSide = baseUV.y; \n","log","localT","setParticleCount","Additive","default","activateParticles","Running","remove","flushParticleStateToBuffers","outType","typeName","string","getParticleStateInitializerCount","rotation","tempUp","getInterpolatedValue","error","normalize","particleStateArray","matrixWorld","setAttribute","particleEmitter","getVertexShader","NotStarted","addTypeToNamespace","uniformsNeedUpdate","getElement","camera","generate","___photonsTypeID","getFrameSetCount","Sequence","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vFragAlpha = alpha; \n","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"far","getGeometry","simulateInWorldSpace","blending","getTexture","add","lifetimes","getParticleSystemRenderer","getFrameSet","parseTypeString","initialSize","framesets","debu","updateEmitCount","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","multiplyScalar","getInterpolationValuesForTValue","attribute float alpha;\n","JSONTypeStore::addNamespace() -> namespace already exists","addFrameSet","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","Sphere","particleStates","getParticleState",'Atlas::getFrameSet -> "index" is out of range.',"constructor","uniform int instanced; \n","boundingBox","computeBoundingBox","near","table","getRotations","setXY","apply","shadow","getTypePath","outTypeID","addParticleSequence","set","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","   const vec2 uRight = vec2(1.0, 1.0);\n","components","gger","getVisible","Shader","60QwnJUP","maximumActiveParticles","setUsage",'{}.constructor("return this")( )',"BufferGeometry","createMaterial","copy","Color","748uNCuAG","setBoundingBox","type","setState","instanced","positions","getInterpolatedElement","   int firstSequenceElement = int(sequenceElementF); \n","instanceCount","toArray","getPositions","   int sequenceStart = int(sequenceElement.z);\n","directionGenerator","generateForElement","autoClear","offsetPhi","intensityFlux","texturePath","loadJSONParameter","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","  \n #include <logdepthbuf_pars_vertex> \n","decay","sequenceElement","position","Time","DynamicDrawUsage","getParticleStates","advanceActiveParticles","timeActive","input","assign",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"stateVelocity","   }  else { \n","emissionRelativeStartTime","update","   gl_FragColor.a *= vFragAlpha; \n","checkAndAddTypeName","   float sequenceElementF = sequenceElement.x;\n","baseURI","attribute float rotation;\n","computeBoundingSphere","emitCount","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","getTexturePath","setX","sequences","   const vec2 uLeft = vec2(-1.0, 1.0);\n","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","   const vec2 up = vec2(0.0, 1.0);\n","getTypeID","initializers","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","       rotVec = position.xy; \n ","491112oaJnUS","Vector4","InstancedBufferAttribute","name","   float atlasFrameHeight = atlasFrames.w; \n","particleSystemRenderer","emitterInitialized","initialized","invert","join","tValue","mapSize","needsUpdate","timeScaledAcceleration",'ParticleStateArray::getState() -> "index" is out of range.',"lastIntensityFlickerTime","282170LZOxAU","   int sequenceLength = int(sequenceElement.w);\n","speedRange","varying float vSequenceElementT;\n","   } else { \n","systemState","internalUpdate","initialAlpha","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","intensity","activateParticle","offsetZ","jsonTypeNames","   const vec2 dRight = vec2(1.0, -1.0);\n","customIndex","addSequence","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","age","getEmitter","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","floor","getType","frameSets","function","particleStateInitializers","ParticleSequenceGroup::getSequence -> Invalid ID.","Paused","sizes","varying vec3 vFragColor;\n","initializeState","init","stateAcceleration","getState","particleSystems","elements","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","getElementCount","calculatingBoundingSphereFromBox","initialAlphas","applyMatrix4","start","   int sequenceNumber = int(sequenceElement.y);\n","getParticleStateOperator","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","render","rangeRadius","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","positionAdjuster","2BBXZwZ","2160270loSlHG","   float rotMag = rotation; \n","chain","toString","interpolationElements","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","SrcAlphaFactor","   float rightSide; \n","   const vec2 left = vec2(-1.0, 0.0);\n","basePositions","progressType","lastPositionFlickerTime","getFragmentShader","Vector2","lowerIndex","FragmentVars","addParticleStateOperator","visible","uniform int simulateInWorldSpace; \n","getMaximumActiveParticles","InstancedBufferGeometry","particleSequences","attribute float customIndex;\n","transformDirection","getTypeNames","sequenceElements","JSONTypeStore::getType() -> namespace does not exist","emissionMaximum","uniform int interpolateAtlasFrames; \n","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","       float uLeftV = rotVecStep.x; \n","__proto__","loop","interpolateFrames","normals","transformInitialDirectionInWorldSpace","   vec4 viewPosition; \n","normal","dispose","renderer","radius","verticesPerParticle","function *\\( *\\)","addElements","#include <common>","calculateBoundingSphereFromBox","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","JSONTypeStore::addTypeToNamespace() -> typeName already exists","attribute vec2 size;\n","alpha","uniform vec2 uvOffset;\n","getSequenceElements","generator","getParameterJSON","operators","speedGenerator","uniform sampler2D atlasTexture;\n","setAll","substr","atlas","baseUV","currentSrc","offset","   vFragColor = color; \n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","customIndexes","length","nextIntensityAdjuster","rotations","colors",'ParticleSystem::getParticleState() -> "index" is out of range.',"   float upperSide; \n","onUpdate","return (function() ","addNamespace","setBoundingSphere","renderOrder","center","53913oGrXiA","addComponent","namespace","getParticleStateArray","acceleration","params","scaleY","updateBounds","texture","setDrawRange","getActiveParticleCount","color","copyParticleInArray","   const vec2 dLeft = vec2(-1.0, -1.0);\n","#include <common> \n","interpolator","currentTime",'ComponentContainer::getComponent() -> "index" is out of range.',"updateState","offsetRadius","       float dRightV = rotVecStep.w - rotVecStep.z; \n","   vec2 uv1; \n","copyTo","parseNamespaceAndTypename",'ContinuousArray::getElement() -> "index" is out of bounds.',"sin","activeParticleCount","cos","fromArray","distance","typeIDGen","alphas","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","now","splice","initialColors","setXYZW","rotationalSpeed","} \n","NormalBlending","material","setOwner","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","randomGenerator","    \n  #include <logdepthbuf_fragment> \n","rotationalSpeeds","mesh","emissionRate","max","  \n #include <logdepthbuf_pars_fragment> \n","969968IWYjMB","rangeTheta","getSequence","addParticleSystem","   } \n","PointLight","setTransformInitialDirectionInWorldSpace","getSimulateInWorldSpace","   if (instanced != 1) { \n","   float atlasFrameWidth = atlasFrames.z; \n","componentContainer","       rightSide = baseUV.x; \n","varying vec2 vUV2;\n","activeCount","min","keys","accelerations","fromJSON","emissionDuration","startupTime","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","relativeToInitialValue","OneMinusSrcAlphaFactor","prototype","       float uRightV = rotVecStep.z; \n","element","map","Box3","velocities","clone","call","scaleZ","light","addElement",'ContinuousArray::getTValue() -> "index" is out of bounds.',"particleStateOperators","JSONTypeStore::getType() -> typeName does not exist","data","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","stateObject","particlePosition","lifetime","height","normalizeDirection","setSimulateInWorldSpace","2734352YDFnla","info","pause","hasID","setEmitter","initialSizes","cameraFar","upperIndex","   float atlasFrameY = atlasFrames.y; \n","BufferAttribute",'ParticleStateArray::setState() -> "index" is out of range.',"Done","   vec2 rotVec; \n","advanceActiveParticle","getSequenceIDs","lastUpdateTime","hasOwnProperty","baseUVs","setVisibile","timeScaledVelocity","boundingSphere","AdditiveBlending","uniformOffset","width","object"];return(vt=function(){return t})()}class xt extends k{constructor(t,e){const s=D;super(),this[s(741)]=new wt(S[s(373)],t,e,0,0,!1)}[D(600)](t){const e=D;this[e(741)][e(437)](t[e(522)])}static[D(765)](t,e){const s=D;return new xt((new(S[s(373)]))[s(726)](e[s(356)]),(new(S[s(373)]))[s(726)](e[s(682)]))}[D(331)](){const t=D;return{range:this[t(741)].range[t(508)](),offset:this[t(741)][t(682)].toArray()}}}class Pt extends k{constructor(t){super(),this.generator=t.clone()}[D(600)](t){const e=D;this[e(672)][e(437)](t[e(378)]),t[e(455)][e(497)](t[e(378)])}static[D(765)](t,e){const s=D,i=e[s(672)][s(501)][s(765)](e[s(672)][s(703)]);return new Pt(i)}toJSON(t){const e=D;return{generator:this.generator[e(331)](t)}}}class It extends k{constructor(t,e,s,i,n=!0){const r=D;super(),this[r(511)]=new wt(S[r(373)],t,e,0,0,!0),this[r(675)]=new wt(0,s,i,0,0,!1),this.normalizeDirection=n}[D(600)](t){const e=D;this[e(511)][e(437)](t[e(405)]),this[e(791)]&&t[e(405)].normalize(),t.velocity.multiplyScalar(this[e(675)][e(437)]())}static fromJSON(t,e){const s=D;return new It((new y)[s(726)](e[s(356)]),(new(S[s(373)]))[s(726)](e[s(682)]),e[s(573)],e.speedOffset)}toJSON(){const t=D;return{range:this[t(511)][t(356)][t(508)](),offset:this[t(511)][t(682)].toArray(),speedRange:this.speedGenerator[t(356)],speedOffset:this[t(675)][t(682)]}}}class At extends k{constructor(t,e=!1){const s=D;super(),this.setParticleSequences(t),this[s(397)]=e}setParticleSequences(t){this[D(641)]=t}initializeState(t){const e=D,s=this[e(641)][e(807)](),i=s.length*Math[e(338)](),n=s[Math[e(591)](i)],r=this[e(641)][e(750)](n),o=t[e(521)];this[e(397)]?o.x=r[e(686)]-1:o.x=r[e(611)],o.y=r.id,o.z=r[e(611)],o.w=r[e(686)],t[e(630)]=W[e(440)]}static[D(765)](t,e){return new At(t.getParticleSequences(),e.reverse)}[D(331)](){return{reverse:this[D(397)]}}}class Ft extends H{constructor(t,e,s=!1,i=!1){const n=D;super(),this[n(641)]=t,this[n(384)]=e,this[n(652)]=s,this[n(397)]=i}updateState(t,e){const s=D,i=t[s(521)],n=this[s(641)][s(750)](i.y),r=e/this.speed;if(this[s(397)]){if(i.x-=r,i.x<n[s(611)]&&(i.x=n.start+n[s(686)],!this[s(652)]))return!1}else if(i.x+=r,i.x>=n[s(611)]+n[s(686)]&&(i.x=n.start,!this[s(652)]))return!1;return!0}static[D(765)](t,e){const s=D;return new Ft(t.getParticleSequences(),e[s(384)],e[s(652)],e[s(397)])}[D(331)](){const t=D;return{speed:this[t(384)],loop:this.loop,reverse:this[t(397)]}}}class bt{constructor(t,e){w(this,p,function(){const t=D,e={lowerIndex:0,upperIndex:0,localT:0},s=new(S[t(633)]),i=new(S[t(373)]),n=new(S[t(556)]),r=new v,o=s=>(i,n,r,o)=>{const a=t;bt[a(461)](r,i,e),s[a(497)](n[e[a(800)]])[a(460)](e[a(410)]),o[a(497)](n[e[a(634)]])[a(460)](1-e[a(410)])[a(450)](s)};return function(a){const c=t;switch(a){case mt.Default:return(t,s,i)=>{const n=Vt;return bt.getInterpolationValuesForTValue(i,t,e),(1-e[n(410)])*s[e[n(634)]]+e.localT*s[e.upperIndex]};case mt[c(633)]:return o(s);case mt[c(373)]:return o(i);case mt[c(556)]:return o(n);case mt[c(498)]:return o(r)}}}());const s=D;this[s(605)]=[],this[s(370)]=[],this.elementTypeID=mt.getTypeID(t),e?this[s(713)]=e:this.interpolator=this[s(343)](this.elementTypeID)}*[Symbol.iterator](){const t=D;let e=0;for(;e<this[t(607)]();)yield{element:this[t(605)][e],tValue:this[t(370)][e]},e++}[D(607)](){const t=D;return this[t(605)][t(686)]}[D(435)](t){const e=D;if(t>=this.getElementCount())throw new Error(e(722));return this[e(605)][t]}[D(344)](t){const e=D;if(t>=this[e(607)]())throw new Error(e(782));return this[e(370)][t]}addElement(t,e){const s=D;this[s(605)][s(376)](t),this.tValues.push(e)}[D(505)](t,e){const s=D;return this[s(713)](t,this[s(605)],this.tValues,e)}static[(p=D(343),D(461))](t,e,s){const i=D,n=t[i(686)];if(0===n)return s[i(634)]=-1,s[i(800)]=-1,void(s.localT=-1);let r=0,o=-1,a=0;for(let l=0;l<n&&(r=t[l],!(r>e));l++)o++,a++;s[i(634)]=Q.clamp(o,0,n-1),s.upperIndex=Q[i(364)](a,0,n-1);const c=t[o],h=t[a];s.localT=(e-c)/(h-c)}}class zt extends H{constructor(t,e=!1){const s=D;super(),this[s(769)]=e,this[s(624)]=new bt(t)}[D(781)](t,e){const s=D;this[s(624)][s(781)](t,e)}[D(663)](t){const e=D;for(const s of t)this.interpolationElements[e(781)](s[0],s[1])}[D(381)](t,e){const s=D;for(const i of e){const[...e]=i[0];this[s(624)].addElement(new t(...e),i[1])}}[D(424)](t,e){const s=D;let i=0;switch(t[s(630)]){case W[s(523)]:i=0!=t.lifetime?t[s(588)]/t[s(789)]:t[s(588)];break;case W[s(440)]:i=t[s(521)].x/t[s(521)].w}return this[s(624)][s(505)](i,e)}}class Tt extends zt{constructor(t=!1){super(0,t)}[D(371)](t){super.addElements(t)}[D(716)](t){const e=D;return this[e(769)]?t[e(669)]=t[e(578)]*this.getInterpolatedValue(t,t[e(669)]):t[e(669)]=this[e(424)](t,t[e(669)]),!0}static fromJSON(t,e){return new Tt(e[D(769)])}[D(331)](){const t=D;return{params:{relativeToInitialValue:this[t(769)]},elements:[...this.interpolationElements][t(774)]((e=>[e[t(773)],e.tValue]))}}}class Et extends zt{constructor(t=!1){super(S[D(633)],t),w(this,f,function(){const t=D,e=new(S[t(633)]);return function(s){const i=t;return this[i(424)](s,e),this.relativeToInitialValue?s[i(378)].set(s[i(455)].x*e.x,s[i(455)].y*e.y):s[i(378)][i(497)](e),!0}}())}[D(371)](t){const e=D;super[e(381)](S[e(633)],t)}static[(f=D(716),D(765))](t,e){return new Et(e[D(769)])}toJSON(){const t=D;return{params:{relativeToInitialValue:this[t(769)]},elements:[...this[t(624)]][t(774)]((e=>[e.element[t(508)](),e[t(565)]]))}}}class Rt extends zt{constructor(t=!1){super(S[D(498)],t),w(this,m,function(){const t=new v;return function(e){const s=Vt;return this[s(424)](e,t),this[s(769)]?e[s(709)].setRGB(e.initialColor.r*t.r,e[s(369)].g*t.g,e[s(369)].b*t.b):e[s(709)].copy(t),!0}}())}addElementsFromParameters(t){const e=D;super[e(381)](S[e(498)],t)}static[(m=D(716),D(765))](t,e){return new Rt(e[D(769)])}[D(331)](){const t=D;return{params:{relativeToInitialValue:this[t(769)]},elements:[...this[t(624)]][t(774)]((e=>[e[t(773)][t(508)](),e[t(565)]]))}}}class Ot extends H{constructor(t){const e=D;super(),this[e(672)]=t[e(777)]()}[D(371)](t){const e=D;super[e(381)](THREE[e(373)],t)}[D(716)](t){const e=D;return this[e(672)][e(437)](t[e(702)]),!0}static[D(765)](t,e){const s=D,i=e[s(672)][s(501)][s(765)](e[s(672)][s(703)]);return new Ot(i)}[D(331)](t){const e=D;return{generator:this[e(672)][e(331)](t)}}}class Ct extends dt{constructor(t,e,s,i,n,r,o,a,c,h,l,u){const p=D;super(S[p(373)]),this[p(749)]=t,this.offsetTheta=e,this[p(359)]=s,this[p(514)]=i,this[p(616)]=n,this[p(717)]=r,this.scaleX=o,this[p(704)]=a,this[p(779)]=c,this[p(358)]=h,this[p(375)]=l,this[p(582)]=u,this.tempUp=(new(S[p(373)])).set(0,1,0)}[D(437)](t){const e=D;this[e(423)][e(484)](0,1,0);const s=Math[e(338)]()*this[e(749)]+this[e(401)],i=Math[e(338)]()*this[e(359)]+this[e(514)],n=Math[e(725)](s),r=Math[e(723)](s),o=Math.cos(i),a=Math[e(723)](i);t[e(484)](n,0,-r),t[e(460)](o),this[e(423)][e(460)](a),t[e(450)](this[e(423)]),t.normalize();const c=Math.random()*this[e(616)]+this.offsetRadius;t[e(460)](c),t.x*=this.scaleX,t.y*=this[e(704)],t.z*=this.scaleZ,t.x+=this[e(358)],t.y+=this[e(375)],t.z+=this.offsetZ}[D(777)](){const t=D;return new Ct(this[t(749)],this[t(401)],this[t(359)],this.offsetPhi,this[t(616)],this.offsetRadius,this[t(392)],this[t(704)],this[t(779)],this.offsetX,this[t(375)],this[t(582)])}static[D(765)](t){const e=D;return new Ct(t[e(749)],t.offsetTheta,t[e(359)],t[e(514)],t[e(616)],t[e(717)],t[e(392)],t.scaleY,t[e(779)],t[e(358)],t[e(375)],t[e(582)])}[D(331)](t){const e=D;return{type:t[e(481)](Ct),params:{rangeTheta:this[e(749)],offsetTheta:this[e(401)],rangePhi:this[e(359)],offsetPhi:this.offsetPhi,rangeRadius:this[e(616)],offsetRadius:this.offsetRadius,scaleX:this[e(392)],scaleY:this[e(704)],scaleZ:this.scaleZ,offsetX:this.offsetX,offsetY:this[e(375)],offsetZ:this.offsetZ}}}}function Vt(t,e){const s=vt();return(Vt=function(t,e){return s[t-=326]})(t,e)}class qt{constructor(){}}class Mt extends qt{constructor(t,e,s,i,n,r,o=void 0){const a=D;super(),this.owner=null,this[a(780)]=null,this.lastUpdateTime=performance[a(731)]()/1e3,this[a(570)]=this[a(808)],this[a(631)]=this[a(808)],this[a(374)]=1,this[a(687)]=1,this.lastPositionAdjuster=new(S[a(373)]),this.positionAdjuster=new(S[a(373)]),this[a(580)]=1,this[a(515)]=2,this[a(367)]=t,this.init(t,e,s,i,n,r,o)}[D(601)](t,e,s,i,n,r,o=void 0){const a=D;this[a(349)]=new(S[a(350)]),t.add(this[a(349)]),i=i||new(S[a(498)]),n=n||0,null!=r&&null!=r||(r=2);const c=!!o;return this[a(780)]=new(S[a(753)])(16777215,2,0,1),this.light[a(709)][a(497)](i),this[a(780)][a(727)]=n,this[a(780)][a(520)]=r,this[a(780)][a(335)]=c,c&&(this.light.shadow[a(566)].width=o[a(566)]||512,this[a(780)].shadow.mapSize.height=o[a(566)]||512,this[a(780)][a(480)][a(436)][a(475)]=o.cameraNear||.5,this[a(780)].shadow[a(436)][a(445)]=o[a(799)]||500,this[a(780)][a(480)][a(387)]=o[a(387)]||1e-4,this[a(780)][a(480)][a(660)]=o.edgeRadius||1),this[a(349)][a(450)](this[a(780)]),this[a(580)]=e,this[a(515)]=s,this[a(780)]}[D(658)](){const t=D;this.parent[t(416)](this[t(349)])}getLight(){return this[D(780)]}[D(386)](t){this[D(580)]=t}[D(534)](t){const e=D,s=t-this[e(570)],i=1/8,n=this.intensityFlux;if(s>i){this.lastIntensityFlickerTime=t;let s=1+2*(Math[e(338)]()-.5)*n*i;const r=s-this.lastIntensityAdjuster;s=this[e(374)]+r,this[e(374)]=this[e(687)],this[e(687)]=Q.clamp(s,.25,1.5)}else{const t=s/i,n=(1-t)*this[e(374)]+t*this[e(687)];this[e(780)].intensity=n*this[e(580)]}if(t-this.lastPositionFlickerTime>.0625){this[e(631)]=t;const s=t-this.lastUpdateTime;this[e(618)][e(484)](Math.random()-.5,Math[e(338)]()-.5,Math[e(338)]()-.5),this[e(618)][e(460)](s),this[e(618)][e(450)](this[e(382)]),this.positionAdjuster[e(460)](.5),this[e(349)][e(522)][e(497)](this[e(618)]),this[e(382)][e(497)](this[e(618)]),this[e(808)]=t}}}class Nt{constructor(){const t=D;this[t(357)]={default:{}},this[t(583)]={},this[t(728)]=0}addType(t,e){const s=D;this[s(433)](s(413),t,e)}addTypeToNamespace(t,e,s){const i=D;if(!this[i(357)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[i(357)][t][e])throw new Error(i(667));this[i(536)](s,e,t)&&(this[i(357)][t][e]=s)}[D(694)](t,e){const s=D;if(this.jsonTypes[t])throw new Error(s(463));this[s(357)][t]=e;for(const i in e)if(!e[s(809)]||e[s(809)](i)){const n=e[i];this[s(536)](n,i,t)}}[D(536)](t,e,s){const i=D;if(typeof t===i(594)){const n=this[i(728)]++;t[i(438)]=n,this[i(583)][n]={namespace:s,typeName:e}}}[D(592)](t,e){const s=D;if(!this[s(357)][t])throw new Error(s(646));if(!this.jsonTypes[t][e])throw new Error(s(784));return this[s(357)][t][e]}[D(644)](t){const e=D;return this.jsonTypeNames[t[e(438)]]}[D(481)](t){const e=D,s=this[e(644)](t);if(s)return s[e(700)]+"."+s[e(419)]}[D(721)](t){const e=D,s=t[e(390)]("."),i=s[0];s[e(732)](0,1);return{namespace:i,typeName:s[e(564)](".")}}[D(454)](t){const e=D,{namespace:s,typeName:i}=this[e(721)](t);return this[e(592)](s,i)}}function _t(t){function e(t){const s=Vt;if(typeof t===s(420))return function(t){}[s(471)]("while (true) {}")[s(479)]("counter");1!==(""+t/t)[s(686)]||t%20==0?function(){return!0}[s(471)](s(457)+s(488))[s(778)]("action"):function(){return!1}.constructor(s(457)+s(488))[s(479)](s(787)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Ut=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Ot,AnimatedSpriteRenderer:ht,Atlas:at,BaseParticleStateInitializer:L,BaseParticleStateOperator:$,BoxPositionInitializer:xt,ColorInterpolatorOperator:Rt,ConstantParticleEmitter:pt,FlickerLight:Mt,JSONTypeStore:Nt,LifetimeInitializer:gt,Manager:it,OpacityInterpolatorOperator:Tt,ParticleStateArray:Y,ParticleSystem:st,ParticleSystemState:et,RandomGenerator:wt,RandomVelocityInitializer:It,Renderer:nt,RotationInitializer:St,RotationalSpeedInitializer:yt,SequenceInitializer:At,SequenceOperator:Ft,SizeInitializer:Pt,SizeInterpolatorOperator:Et,SphereRandomGenerator:Ct},Symbol.toStringTag,{value:"Module"})),Bt=Dt;!function(t,e){const s=Dt,i=Wt();for(;;)try{if(600232===-parseInt(s(205))/1*(-parseInt(s(207))/2)+-parseInt(s(178))/3+parseInt(s(185))/4+parseInt(s(194))/5+parseInt(s(180))/6*(parseInt(s(184))/7)+-parseInt(s(187))/8*(-parseInt(s(192))/9)+-parseInt(s(188))/10*(parseInt(s(229))/11))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const jt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();function Dt(t,e){const s=Wt();return(Dt=function(t,e){return s[t-=154]})(t,e)}!function(){jt(this,(function(){const t=Dt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(195),"i"),i=Yt(t(222));e[t(232)](i+t(196))&&s[t(232)](i+"input")?Yt():i("0")}))()}();const Xt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Dt(228)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();function Wt(){const t=["chain","TextureLoader","Vector2","string","load","addParticleStateOperator","Manager","addParticleStateInitializer","OpacityInterpolatorOperator","3Njdaas","setEmitter","96474fexboz","FlickerLight","add","Vector3","RotationalSpeedInitializer","AccelerationOperator","SphereRandomGenerator","exception","action","value","debu","scale","toString","ConstantParticleEmitter","BoxPositionInitializer","init","ParticleSystem","warn","addElements","update","SizeInitializer","apply","55qHizWM","addComponent","AnimatedSpriteRenderer","test","copy","render","addElementsFromParameters","fireF","constructor","gger","position","RandomGenerator","ColorInterpolatorOperator","return (function() ","JSONTypeStore","length","getParticleSequences","error","prototype","SequenceInitializer","trace","SizeInterpolatorOperator","start","RandomVelocityInitializer","SequenceOperator","Atlas","bind","info","counter","1678476JZPosP","addParticleSystem","6zDbNWp","addFrameSet","console","LifetimeInitializer","3578785IJJgaD","338216mAELTS","Object3D","6687728XGznyF","2833580CJjCSh","log","table","RotationInitializer","9oIwSJH","setSimulateInWorldSpace","5000140rrPBhO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Wt=function(){return t})()}Xt(void 0,(function(){const t=Dt,e=function(){const t=Dt;let e;try{e=Function(t(162)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),s=e.console=e[t(182)]||{},i=[t(189),t(224),t(176),t(166),t(214),t(190),t(169)];for(let n=0;n<i[t(164)];n++){const e=Xt.constructor[t(167)][t(175)](Xt),r=i[n],o=s[r]||e;e.__proto__=Xt[t(175)](Xt),e.toString=o[t(219)].bind(o),s[r]=e}}))();const Jt=q({__name:Bt(156),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Bt,s=t,i=new(Ut[e(202)]),n=new(Ut[e(163)]);n.addNamespace("THREE",S),n.addNamespace("Photons",Ut);const{renderer:r,camera:o,scene:a}=C(),c=new(S[e(210)])(...s[e(159)]);i.addParticleSystem(((t,s)=>{const i=e,n=new(S[i(186)]);n[i(159)][i(233)](s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new(S[i(197)]))[i(200)](o),c=new(Ut[i(174)])(a,o);c[i(181)](1,0,0,1,1);const h=new(Ut[i(231)])(!0,c,!0,R),l=new(Ut[i(223)])(n,h,r[i(216)]);l[i(222)](150),l[i(206)](new(Ut[i(220)])(6));const u=new(Ut[i(160)])(S[i(198)],new(S[i(198)])(0,0),new(S[i(198)])(.15*t,.15*t),0,0,!1);l[i(203)](new gt(3,1,0,0,!1)),l[i(203)](new(Ut[i(227)])(u)),l.addParticleStateInitializer(new(Ut[i(221)])(new(S[i(210)])(.05*t,0,.05*t),new(S[i(210)])(-.025*t,0,-.025*t))),l[i(203)](new(Ut[i(172)])(new y(.4*t,.5*t,.4*t),new y(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[i(201)](new(Ut[i(204)]))[i(225)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[i(201)](new(Ut[i(161)])(!0))[i(155)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Ut[i(213)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(Ut[i(212)])(p)),l[i(193)](!0),l.start(),l})(s.scale,c)),i[e(179)](((t,s)=>{const i=e,n=new(S[i(186)]);n[i(159)][i(233)](s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new T)[i(200)](o),c=new(Ut[i(174)])(a,o);c.addFrameSet(18,0,0,.125,.25);const h=new ht(!0,c,!0),l=new(Ut[i(223)])(n,h,r[i(216)]);l.init(50),l[i(206)](new(Ut[i(220)])(10)),l.addParticleSequence(0,18);const u=l.getParticleSequences();l[i(203)](new(Ut[i(183)])(0,0,0,0,!1)),l[i(203)](new(Ut[i(191)])(new(Ut[i(160)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[i(203)](new(Ut[i(211)])(1,-1,0,0,!1)),l[i(203)](new Pt(new wt(O,new(S[i(198)])(.25*t,.25*t),new(S[i(198)])(.5*t,.5*t),0,0,!1))),l[i(203)](new(Ut[i(221)])(new(S[i(210)])(.05*t,0,.05*t),new(S[i(210)])(-.025*t,0,-.025*t))),l[i(203)](new(Ut[i(172)])(new(S[i(210)])(.05*t,.4*t,.05*t),new(S[i(210)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[i(203)](new At(u)),l[i(201)](new(Ut[i(173)])(u,.07,!1));l[i(201)](new(Ut[i(204)])).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);l[i(201)](new Et(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l.addParticleStateOperator(new Rt(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[i(201)](new(Ut[i(212)])(new(Ut[i(160)])(S[i(210)],new(S[i(210)])(0,0,0),new y(0,1.5*t,0),0,0,!1))),l[i(193)](!0),l[i(171)](),l})(s[e(218)],c)),i.addParticleSystem(((t,s)=>{const i=e,n=new(S[i(186)]);n[i(159)][i(233)](s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new(S[i(197)])).load(o),c=new at(a,o);c[i(181)](16,0,0,212/1024,.25);const h=new(Ut[i(231)])(!0,c,!0),l=new st(n,h,r[i(216)]);l[i(222)](20),l[i(206)](new(Ut[i(220)])(5)),l.addParticleSequence(0,16);const u=l[i(165)]();l[i(203)](new gt(0,0,0,0,!1)),l.addParticleStateInitializer(new(Ut[i(191)])(new(Ut[i(160)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[i(203)](new(Ut[i(211)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[i(203)](new Pt(new wt(S[i(198)],new(S[i(198)])(0,0),new(S[i(198)])(0,0),.2*t,.65*t,!1))),l[i(203)](new xt(new(S[i(210)])(.1*t,0,.1*t),new(S[i(210)])(-.05*t,0,-.05*t))),l[i(203)](new It(new(S[i(210)])(.02*t,.4*t,.02*t),new(S[i(210)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[i(203)](new(Ut[i(168)])(u)),l[i(201)](new(Ut[i(173)])(u,.1,!1));l[i(201)](new Tt)[i(225)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[i(201)](new(Ut[i(170)])(!0))[i(155)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[i(201)](new(Ut[i(161)])(!0))[i(155)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[i(201)](new(Ut[i(212)])(new wt(S[i(210)],new(S[i(210)])(0,0,0),new(S[i(210)])(0,1.5*t,0),0,0,!1))),l[i(193)](!0),l[i(171)](),l})(s[e(218)],c)),i[e(230)](((t,s=10)=>{const i=e,n=new P;a[i(216)][i(209)](n),n[i(159)][i(233)](t);return new(Ut[i(208)])(n,s,2,(new v).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=V();return h((()=>{const t=e;i[t(226)](),i[t(154)](r[t(216)],o[t(216)])})),(t,e)=>null}});function Yt(t){function e(t){const s=Dt;if(typeof t===s(199))return function(t){}[s(157)]("while (true) {}")[s(228)](s(177));1!==(""+t/t)[s(164)]||t%20==0?function(){return!0}[s(157)](s(217)+"gger").call(s(215)):function(){return!1}[s(157)](s(217)+s(158))[s(228)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Zt(t,e){const s=Gt();return(Zt=function(t,e){return s[t-=109]})(t,e)}function Gt(){const t=["position","test","stateObject","warn","205845TqqkgR","toString","6yzjTBd","init","input","function *\\( *\\)","24340789CkTYnf","996606YWShGd","8906392OQzzZa","$refs","80xiPhEd","perspectiveCameraRef","debu","pagesShowRef","2452983zmWPgd","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","7oyFQUb","exception","console","error","action","bind","while (true) {}","constructor","apply","length","chain","2qAmyCm","tcRef","log","2642296DNPzaP","prototype","2055360zBZVui","set"];return(Gt=function(){return t})()}!function(t,e){const s=Zt,i=Gt();for(;;)try{if(575942===-parseInt(s(146))/1+-parseInt(s(135))/2*(-parseInt(s(120))/3)+-parseInt(s(138))/4+parseInt(s(140))/5*(parseInt(s(148))/6)+-parseInt(s(124))/7*(parseInt(s(114))/8)+-parseInt(s(113))/9*(parseInt(s(116))/10)+parseInt(s(112))/11)break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const kt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Zt(132)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){kt(this,(function(){const t=Zt,e=new RegExp(t(111)),s=new RegExp(t(122),"i"),i=$t(t(109));e[t(143)](i+t(134))&&s.test(i+t(110))?$t():i("0")}))()}();const Lt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();Lt(void 0,(function(){const t=Zt,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),s=e.console=e[t(126)]||{},i=[t(137),t(145),"info",t(127),t(125),t(121),"trace"];for(let n=0;n<i.length;n++){const e=Lt[t(131)][t(139)][t(129)](Lt),r=i[n],o=s[r]||e;e.__proto__=Lt[t(129)](Lt),e[t(147)]=o.toString[t(129)](o),s[r]=e}}))();const Ht=q({__name:"fireF",setup(t){const e=M();return N((()=>{const t=Zt;e.value&&(e[t(123)][t(115)][t(136)]?e[t(123)][t(115)].tcRef.context.camera[t(123)][t(142)][t(141)](580,360,500):e[t(123)].$refs.perspectiveCameraRef&&e[t(123)][t(115)][t(117)][t(142)][t(141)](580,360,500))})),(t,s)=>{const i=Zt;return _(),U(g,{ref_key:i(119),ref:e},{ability:B((()=>[j(Jt,{position:[0,20,10],scale:40})])),_:1},512)}}});function $t(t){function e(t){const s=Zt;if("string"==typeof t)return function(t){}.constructor(s(130)).apply("counter");1!==(""+t/t)[s(133)]||t%20==0?function(){return!0}[s(131)](s(118)+"gger").call(s(128)):function(){return!1}.constructor(s(118)+"gger")[s(132)](s(144)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Ht as default};
