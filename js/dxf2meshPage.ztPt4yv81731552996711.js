import{k as t}from"./@tresjs.01P8tiuF1731552996711.js";import{cu as n,_ as e,V as o,ac as s,aF as r,$ as i,s as c,bU as a,ak as u,am as p}from"./three.KG0QRRig1731552996711.js";import{P as l}from"./tweakpane.yHWGBmom1731552996711.js";import{a as f}from"./index.oeIsV-zY1731552996711.js";import"./index.e_Pebw8b1731552996711.js";import{_ as d}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.FpT7kM1i1731552996711.js";import{d as g,r as m,X as h,s as _,q as v,e as w,o as x,D as j,j as y,g as b,J as I,u as k,m as B,f as F,al as M,I as S}from"./@vue.-THQH3GC1731552996711.js";import{_ as z}from"./@fesjs.ffiiLppw1731552996711.js";import"./@vueuse.YduQ9gvc1731552996711.js";import"./three-stdlib.8zsNN-Kc1731552996711.js";import"./@pmndrs.n3UO_zuX1731552996711.js";import"./object-hash.DFvx-EIK1731552996711.js";import"./@amap.QHC596bA1731552996711.js";import"./jszip.k9OTGFad1731552996711.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.MURMqYtt1731552996711.js";import"./all.three.wBtGWCdG1731552996711.js";import"./oimophysics.x0jH7fze1731552996711.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.imZCinTf1731552996711.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.tj7KqDYp1731552996711.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.56_UCV-N1731552996711.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.jsXsTtdN1731552996711.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.Cq8B4Zam1731552996711.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.aIh8BHjc1731552996711.js";import"./vue-router.4ictOE9I1731552996711.js";import"./lodash-es.kYt-_xTG1731552996711.js";import"./@qlin.yHhFDldE1731552996711.js";import"./pinia.Yf0ZNVo31731552996711.js";import"./vue-demi.C4xddsk91731552996711.js";import"./@floating-ui.BPbuo5Gx1731552996711.js";import"./@juggle.7yjBMqoW1731552996711.js";const C=G;function A(){const t=["chain","toShapes","init","test","material","castShadow","error","translate","exception","toString","call","forEach","mBoundingBox","265168GuEmbM","BufferAttribute","2638892mVcpuo","ExtrudeGeometry","2603685cvJrGZ","receiveShadow","apply","#AFAFAD","70217gPTQze","4nzGbvs","gger","prototype","function *\\( *\\)","name","string","holes","EdgesGeometry","copy","debu","attributes","222HpSdnk",'{}.constructor("return this")( )',"99gplYwp","3fiYYJj","computeBoundingBox","MeshStandardMaterial","rotation","renderOrder","add","boundingBox","Shape","13761GVaGmK","getX","Vector2","count","console","warn","4330IALdMx","drawImportSpecialBoard","getY","geometry","167829FsTACi","MeshBasicMaterial","Mesh","trace","return (function() ","LineSegments","stateObject","24011940Dsxffz","position","bind","constructor"];return(A=function(){return t})()}!function(t,n){const e=G,o=A();for(;;)try{if(621051===parseInt(e(246))/1*(parseInt(e(214))/2)+parseInt(e(228))/3*(-parseInt(e(207))/4)+-parseInt(e(209))/5+-parseInt(e(225))/6*(-parseInt(e(213))/7)+parseInt(e(205))/8*(-parseInt(e(227))/9)+-parseInt(e(242))/10*(parseInt(e(236))/11)+parseInt(e(188))/12)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(211)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=G,n=new RegExp(t(217)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=R(t(194));n[t(195)](o+t(192))&&e.test(o+"input")?R():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(211)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=A();return(G=function(t,n){return e[t-=186]})(t,n)}D(void 0,(function(){const t=G;let n;try{n=Function(t(250)+t(226)+");")()}catch(s){n=window}const e=n.console=n[t(240)]||{},o=["log",t(241),"info",t(198),t(200),"table",t(249)];for(let r=0;r<o.length;r++){const n=D[t(191)][t(216)].bind(D),s=o[r],i=e[s]||n;n.__proto__=D[t(190)](D),n.toString=i[t(201)].bind(i),e[s]=n}}))();class E{constructor(t){this[G(218)]=t}[C(243)](t,r,i){const c=C,a=(new n).parse(r),u=new(e[c(235)]);a.paths[c(203)](((t,n)=>{const e=c;t[e(193)](!0)[e(203)](((t,o)=>{const s=e;0===n&&0===o?u[s(222)](t):u[s(220)].push(t)}))}));const p=new(e[c(208)])(u,{depth:18,bevelEnabled:!1});p.computeBoundingBox();const l=p[c(234)].getCenter(new o).negate();p[c(199)](l.x,l.y,l.z),p[c(229)]();const f=p[c(234)].max,d=p.boundingBox.min,g=new(e[c(238)])(0-d.x,0-d.y),m=new(e[c(238)])(f.x-d.x,f.y-d.y);p[c(224)].uv=new(e[c(206)])(new Float32Array(2*p[c(224)].position.count),2);for(let n=0;n<p[c(224)].position[c(239)];n++){const t=p[c(224)][c(189)][c(237)](n),e=p[c(224)][c(189)][c(244)](n);p.attributes.uv.setXY(n,(t+g.x)/m.x,(e+g.y)/m.y)}const h=new(e[c(247)])({map:null}),_=new(e[c(248)])(p,h);_[c(196)]=new(e[c(230)])({map:null,color:c(212),roughness:1,metalness:.1,envMapIntensity:2.5}),_[c(210)]=!0,_[c(197)]=!0,_.position.x=i,_[c(189)].y=250;const v=new s({color:0}),w=new(e[c(221)])(_[c(245)],1),x=new(e[c(186)])(w,v);x[c(232)]=1,x[c(189)][c(222)](_[c(189)]),x.rotation[c(222)](_[c(231)]),_.mBoundingBox=x,t[c(233)](_,_[c(204)])}}function R(t){function n(t){const e=G;if(typeof t===e(219))return function(t){}[e(191)]("while (true) {}")[e(211)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(223)+e(215))[e(202)]("action"):function(){return!1}[e(191)](e(223)+"gger")[e(211)](e(187)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=X;!function(t,n){const e=X,o=H();for(;;)try{if(509504===-parseInt(e(415))/1*(-parseInt(e(495))/2)+-parseInt(e(456))/3+parseInt(e(473))/4*(-parseInt(e(394))/5)+-parseInt(e(444))/6*(parseInt(e(417))/7)+parseInt(e(481))/8+parseInt(e(398))/9+parseInt(e(488))/10)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(484)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=X,n=new RegExp(t(467)),e=new RegExp(t(463),"i"),o=O("init");n.test(o+t(393))&&e[t(446)](o+t(487))?O():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(484)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();q(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(408)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(412)]=n.console||{},o=[t(431),t(406),t(468),t(416),t(433),t(400),t(498)];for(let s=0;s<o[t(439)];s++){const n=q[t(452)][t(438)][t(401)](q),r=o[s],i=e[r]||n;n[t(410)]=q[t(401)](q),n[t(470)]=i[t(470)][t(401)](i),e[r]=n}}))();const Y={key:0,class:P(402)},L={class:"footBtn"};function X(t,n){const e=H();return(X=function(t,n){return e[t-=393]})(t,n)}function H(){const t=["src","localFileReader","constructor","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","下载测试文件1","1147356HfTtoz","初始化","groupRef","TresGroup","#627179","TresMeshBasicMaterial","drawImportSpecialBoard","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","dxf2svg","querySelector","function *\\( *\\)","info","http://www.w3.org/2000/svg","toString","http://www.inkscape.org/namespaces/inkscape","addButton","4bFOqHn","svg-display","debu","#776A8F","下载测试文件2","text/javascript","then","dialogVisible","6121128ZYSxAe","head","gger","apply","1.1","assembly","input","11305310FpVLEq","createElement","appendChild","TresCanvas","boxMeshRef","_blank","TresBoxGeometry","2bttNFf","TresGridHelper"," 时出错","trace","catch","fileInput","chain","1976465RzPqkr","#svg-display svg","10000","script","706410JCktNq","string","table","bind","dialogDiv","neg-z.jpg","remove","blue","warn","TresAmbientLight","return (function() ","pos-x.jpg","__proto__","加载脚本 ","console","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","outerHTML","36691vKesFV","error","28OPhCvY","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","1000","action","add","click","xMidYMid meet","addFolder","children","TresMesh","onload","translate(50, 50)","#3a78a2","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","log","open","exception","#ffffff","call","type","div","prototype","length","while (true) {}","button","TresPerspectiveCamera","svg","1085406QBCgom","导入dxf","test","pos-y.jpg","init","TresDirectionalLight"];return(H=function(){return t})()}function O(t){function n(t){const e=X;if(typeof t===e(399))return function(t){}[e(452)](e(440))[e(484)]("counter");1!==(""+t/t)[e(439)]||t%20==0?function(){return!0}.constructor(e(475)+e(483))[e(435)](e(420)):function(){return!1}.constructor(e(475)+e(483)).apply(e(464)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Z=z(g({__name:"dxf2meshPage",setup(n){const e=P,o=m({dialogVisible:!1}),s={clearColor:"#82DBC5",shadows:!0,alpha:!1,shadowMapType:a,outputColorSpace:u,toneMapping:p},g=m({cellSize:60,cellThickness:1.1,cellColor:e(460),sectionColor:e(429),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let z=0;const C=h(),A=h(),T=new l;T.addButton({title:e(455)}).on(e(422),(()=>{const t=e;window[t(432)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(493))})),T[e(472)]({title:e(477)}).on("click",(()=>{const t=e;window.open("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(493))}));const D=T[e(424)]({title:"远近"});function G(){const t=e,n=A.value;o[t(480)]=!1;const s=document[t(466)](t(395));if(s){const e=s[t(414)];let o=new E;z+=1200,o[t(462)](n,e,z)}}function R(t){return new Promise(((n,e)=>{const o=X,s=document[o(489)](o(397));s[o(450)]=t,s[o(436)]=o(478),s[o(427)]=()=>n(),s.onerror=()=>e(new Error(o(411)+t+o(497))),document[o(482)][o(490)](s)}))}return D[e(472)]({title:e(445)}).on("click",(()=>{o.dialogVisible=!0,_((()=>{const t=X;window[t(451)][t(448)]()}))})),D[e(472)]({title:e(457)}).on(e(422),(()=>{!function(){const t=e,n=new r(500,500,18),o=new i({color:t(405)}),s=new c(n,o),a=A.value;for(;a[t(425)][t(439)]>0;){const n=a[t(425)][0];a[t(404)](n)}a[t(421)](s)}()})),v((()=>{!function(){const t=e;R("plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js").then((()=>R(t(454))))[t(479)]((()=>R(t(453)))).then((()=>R(t(413))))[t(479)]((()=>R(t(418))))[t(479)]((()=>R("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js")))[t(499)]((n=>console[t(416)]("加载脚本时出错",n)))}()})),(n,r)=>{const i=e,c=w(i(491));return x(),j(i(437),null,[y(c,B(s,{"window-size":""}),{default:b((()=>[r[2]||(r[2]=I(i(442),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),y(k(t),{"make-default":""}),r[3]||(r[3]=I(i(496),{position:[0,-1,0],size:i(419),divisions:i(396)},null,-1)),I(i(459),{ref_key:i(458),ref:A,position:[2,250,0]},[I(i(426),{ref_key:i(492),ref:C},r[1]||(r[1]=[I(i(494),{args:[500,500,18]},null,-1),I(i(461),{color:i(405)},null,-1)]),512)],512),r[4]||(r[4]=I(i(407),{color:i(434),intensity:1},null,-1)),r[5]||(r[5]=I(i(449),{color:i(434),position:[300,300,250],intensity:6},null,-1)),y(k(d),B({args:[3,3]},g,{position:[0,-.5,0]}),null,16),(x(),F(M,null,{default:b((()=>[y(k(f),{files:[i(409),"neg-x.jpg",i(447),"neg-y.jpg","pos-z.jpg",i(403)],path:i(430)})])),_:1}))])),_:1},16),o[i(480)]?(x(),j("div",Y,[r[6]||(r[6]=I(i(437),{id:i(474),class:i(486),style:{}},[I(i(443),{id:"main-svg",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":i(469),"xmlns:inkscape":i(471),version:i(485),preserveAspectRatio:i(423)},[I("g",{id:i(465),class:"pen1","stroke-width":"6",fill:i(476),transform:i(428)})])],-1)),r[7]||(r[7]=I("div",{class:i(500)},[I(i(487),{id:"dxfFileInput",type:"file"})],-1)),I(i(437),L,[I("button",{onClick:r[0]||(r[0]=t=>o[i(480)]=!1)},"取消"),I(i(441),{onClick:G},"确定")])])):S("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{Z as default};
