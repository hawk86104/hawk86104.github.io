import{e as t,F as n,a as e}from"./@tresjs.Fe0mFN5V1748945481918.js";import"./index.q6YWIu_i1748945481918.js";import{P as r}from"./tweakpane.C0HtAJSg1748945481918.js";import{d as o,w as c,G as i,o as a,ak as u,al as W,a5 as f,I as s,j as d,m as v,u as l,r as x,h as g,e as m,f as p,am as y}from"./@vue.C_fjx3FT1748945481918.js";import{a as P}from"./three.Bg9S6UMF1748945481918.js";import{_ as h}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.DAVvKYpc1748945481918.js";import"./postprocessing.meaIGyM81748945481918.js";import"./@vueuse.C8008KiJ1748945481918.js";import"./all.three.U3Zr7pxa1748945481918.js";import"./oimophysics.BBtHVm4j1748945481918.js";import"./reflectorDiffuse.Du-IrhOk1748945481918.js";import"./vite-plugin-qiankun.B06WoCqG1748945481918.js";import"./index.jRIh9BYd1748945481918.js";import"./object-hash.DNK13VHg1748945481918.js";import"./@amap.CGUF9xH41748945481918.js";import"./jszip.C2DHIzn21748945481918.js";import"./three-stdlib.B4F-RAvc1748945481918.js";import"./whiteFloor.DzpOT_DT1748945481918.js";function k(t,n){var e=O();return k=function(n,r){var o=e[n-=272];if(void 0===k.JoOaAS){var c=function(t){for(var n,e,r="",o="",i=r+c,a=0,u=0;e=t.charAt(u++);~e&&(n=a%4?64*n+e:e,a++%4)?r+=i.charCodeAt(u+10)-10!=0?String.fromCharCode(255&n>>(-2*a&6)):a:0)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var W=0,f=r.length;W<f;W++)o+="%"+("00"+r.charCodeAt(W).toString(16)).slice(-2);return decodeURIComponent(o)};k.bTcrdx=function(t,n){var e,r,o=[],i=0,a="";for(t=c(t),r=0;r<256;r++)o[r]=r;for(r=0;r<256;r++)i=(i+o[r]+n.charCodeAt(r%n.length))%256,e=o[r],o[r]=o[i],o[i]=e;r=0,i=0;for(var u=0;u<t.length;u++)i=(i+o[r=(r+1)%256])%256,e=o[r],o[r]=o[i],o[i]=e,a+=String.fromCharCode(t.charCodeAt(u)^o[(o[r]+o[i])%256]);return a},t=arguments,k.JoOaAS=!0}var i=n+e[0],a=t[i];if(a)o=a;else{if(void 0===k.UGDLzE){var u=function(t){this.GUQbXf=t,this.gKIyUf=[1,0,0],this.fhfZNK=function(){return"newState"},this.bIPMKX="\\w+ *\\(\\) *{\\w+ *",this.jrlpNQ="['|\"].+['|\"];? *}"};u.prototype.pnwPYx=function(){var t=new RegExp(this.bIPMKX+this.jrlpNQ).test(this.fhfZNK.toString())?--this.gKIyUf[1]:--this.gKIyUf[0];return this.kdlAkC(t)},u.prototype.kdlAkC=function(t){return Boolean(~t)?this.MUXivg(this.GUQbXf):t},u.prototype.MUXivg=function(t){for(var n=0,e=this.gKIyUf.length;n<e;n++)this.gKIyUf.push(Math.round(Math.random())),e=this.gKIyUf.length;return t(this.gKIyUf[0])},new u(k).pnwPYx(),k.UGDLzE=!0}o=k.bTcrdx(o,r),t[i]=o}return o},k(t,n)}!function(){var t=O();function n(t,n,e,r,o){return k(n-913,e)}function e(t,n,e,r,o){return k(r- -404,o)}function r(t,n,e,r,o){return k(e-190,o)}for(;;)try{if(493798===parseInt(n(0,1321,"$iMO"))/1*(parseInt(n(0,1336,"PLkZ"))/2)+parseInt(e(0,0,0,-43,"gJc^"))/3*(parseInt(e(0,0,0,-93,"@35#"))/4)+parseInt(k(823-482,"]@gf"))/5+parseInt(r(0,0,475,0,"NsMJ"))/6*(parseInt(r(0,0,516,0,")o)%"))/7)+parseInt(n(0,1289,"M1(r"))/8*(-parseInt(n(0,1260,"X@Hj"))/9)+parseInt(k(823-410,"J]CD"))/10+parseInt(r(0,0,528,0,"b#9M"))/11*(-parseInt(n(0,1323,"bq)T"))/12))break;t.push(t.shift())}catch(o){t.push(t.shift())}}();var C,R=(C=!0,function(t,n){function e(t,n,e,r,o){return k(e- -430,r)}function r(t,n,e,r,o){return k(r- -71,t)}if(e(0,0,12,"b#9M")===e(0,0,-2,"J]CD")){var o=C?function(){function o(t,n,e,o,c){return r(o,0,0,t-109)}function c(t,n,r,o,c){return e(0,0,o-1023,t)}if(c("NsMJ",0,0,929)===o(425,0,0,"o^Q)")){if(n){if(o(417,0,0,"$iMO")===c("Dnsv",0,0,866)){var i=_0x4cab34?function(){if(_0x1cf330){var t=_0x423120.apply(_0x1338f4,arguments);return _0x1e2be6=null,t}}:function(){};return _0x3c34c8=!1,i}var a=n[c("Gc2T",0,0,992)](t,arguments);return n=null,a}}else{var u=_0x3caa0d(o(465,0,0,"t8#8")+r("hHa$",0,0,215)+");");_0xd7e877=u()}}:function(){};return C=!1,o}_0x3d8d36(0)})(void 0,(function(){function t(t,n,e,r,o){return k(r-140,o)}return R.toString().search(t(0,0,0,513,"o^Q)")).toString()[t(0,0,0,525,"huU@")](R)[(n=89,e="Dnsv",k(n- -243,e))](k(1004-654,"zeN8"));var n,e}));R();var _,S=(_=!0,function(t,n){function e(t,n,e,r,o){return k(t-540,e)}function r(t,n,e,r,o){return k(r- -890,o)}if(r(0,0,0,-515,"M1(r")!==r(0,0,0,-523,"TW]3")){var o=_?function(){function o(t,n,r,o,c){return e(o- -565,0,t)}function c(t,n,e,o,c){return r(0,0,0,c-1771,t)}function i(t,n,e,o,c){return r(0,0,0,c-632,e)}function a(t,n,r,o,c){return e(n- -1511,0,c)}if("SkODF"!==o("qrvG",0,0,272))return function(t){}[c("wQIw",0,0,0,1171)](c("V9yo",0,0,0,1161))[c("Dnsv",0,0,0,1160)](a(0,-591,0,0,"J]CD"));if(n){if(o("bq)T",0,0,296)===o("$iMO",0,0,340)){var u=n[i(0,0,"[N!x",0,166)](t,arguments);return n=null,u}var W;try{W=_0x48e1ba("return (function() "+c("n(J3",0,0,0,1277)+");")()}catch(p){W=_0x3fb1ff}for(var f=W[a(0,-542,0,0,"M1(r")]=W[i(0,0,"[N!x",0,96)]||{},s=[c("jYLE",0,0,0,1311),i(0,0,"aHuC",0,88),o("M1(r",0,0,345),i(0,0,"[N!x",0,84),c("nvxx",0,0,0,1153),(g="yq[k",m=996,e(m-150,0,g)),c("z^4h",0,0,0,1299)],d=0;d<s[c("nvxx",0,0,0,1164)];d++){var v=_0x2a177b[a(0,-602,0,0,"(eFR")][a(0,-597,0,0,"b#9M")][a(0,-585,0,0,"UOW[")](_0x471b47),l=s[d],x=f[l]||v;v[c("k96@",0,0,0,1182)]=_0x21d605[c("Z7$$",0,0,0,1185)](_0x1a88ad),v[o("yq[k",0,0,364)]=x.toString[c("o^Q)",0,0,0,1243)](x),f[l]=v}}var g,m}:function(){};return _=!1,o}var c,i;(function(){return!1}).constructor((c=62,i="wb0f",k(c- -214,i)+"gger")).apply("stateObject")});!function(){S(this,(function(){function t(t,n,e,r,o){return k(r- -816,n)}function n(t,n,e,r,o){return k(t-287,o)}function e(t,n,e,r,o){return k(o-787,e)}function r(t,n,e,r,o){return k(o- -495,r)}if(n(668,0,0,0,"M*Ip")===n(561,0,0,0,"M*Ip")){var o=_0x9385a[t(0,"I9Hm",0,-489)](_0x5d12fa,arguments);return _0x5335d8=null,o}var c,i,a=new RegExp("function *\\( *\\)"),u=new RegExp(r(0,0,0,"Hyj$",-81),"i"),W=w(n(635,0,0,0,"479m"));if(a[e(0,0,"Q#$f",0,1089)](W+r(0,0,0,"b#9M",-196))&&u[n(653,0,0,0,"yq[k")](W+t(0,"M*Ip",0,-401))){if("cRrZR"!==t(0,"z^4h",0,-448))return _0x51a222[e(0,0,"huU@",0,1139)]()[t(0,"%U#L",0,-479)](t(0,"nvxx",0,-385))[e(0,0,"9QbA",0,1104)]()[(c=-68,i="drOg",k(c- -417,i))](_0x1ea74f).search(t(0,")o)%",0,-421));w()}else"FYgzF"!==r(0,0,0,"z^4h",-214)?W("0"):_0x187f7b()}))()}();var z,b=(z=!0,function(t,n){function e(t,n,e,r,o){return k(e-641,t)}function r(t,n,e,r,o){return k(n-671,r)}if(e("(eFR",0,935)===r(0,987,0,"gMRY")){var o=z?function(){function o(t,n,r,o,c){return e(n,0,o-117)}if(e("qrvG",0,981)===o(0,"X@Hj",0,1156)){var c=_0x1be7d2[o(0,"gMRY",0,1115)](_0x5261bb,arguments);return _0x539dbc=null,c}if(n){if(o(0,"Dnsv",0,1196)===r(0,1104,0,"gMRY")){var i=_0x2fd8b5?function(){if(_0x36edb8){var t=_0x351530[(n=90,e="n(J3",r(0,n-571- -1461,0,e))](_0x5857cf,arguments);return _0x531baf=null,t}var n,e}:function(){};return _0x1ec637=!1,i}var a=n[(u="(eFR",W=79,e(u,0,W- -876))](t,arguments);return n=null,a}var u,W}:function(){};return z=!1,o}return!0});function O(){var t=["WO9gWRFdJq","WOyRWRpdM2RdRLrDFNWh","Fmk2W4unW70","zmkQW6HoW4G","oCo8W6KgW7ZcVmoFxG","u8kTW69BW7m","W4JdH2BcSq","WPyWWRZdNgddJvm","WRVcUCoGCsPAWQfWWOfJW7pcKmkFWOJcUaOkWQac","W6pcU8kRDSkN","WPddH8kwgrf2da","AmotWR0","aganz8kSimoXnshdVuCy","WPaTWQddGh0","dGldPmocua","W4hcTxfH","bgm9Bfe","W5fMWRHzla","emk0et4DW5G","W7pdKCoHW5BcGG","tmoXW79xWQddHwGVWRSrsG","WRG6l8kKxq","WP3cOMSB","j0iLW6LP","WROgoCk6uW","ttbglmo3FCkZC2q","W7FdISo8W6ZcHa","s8oexfFdIq","xSk4W7fqW77dKW","z8kQWRxdHW","W7dcRuDbW7y","WODlWRBdImoX","W53dMmo7W4RcMG","W7jpWPrulmoTW5NdQbO8CSogmee9","W4ldKcNcIvS","WRiCW4/cUmkoWPZdQ8kBWPtdVWW","rc1llSoZyq","W5XaW786","W7X6BCoChmofh8kChdm0A8oE","W45tWRC2iSo4W57dM8oiWOJcPxtcUxC3DCk4FmoGg8o5W4xcMCkIW6OZW6SbACoBESk3","WQSSk8kbuCkwvq","WQOaWQldNwddLvLOra","WPhdNSkSlt8","WOiVW6eXF8krW5BdLcmVW54","DNJcTLO","Dgn5ySkNi8oYiZdcJW0rCZHSteT0WOZcVmoIsSoVw8oNW5BcMSoRWR/dSXlcLmkmW54","WPldMmkibGC","WP8FCWZdSW","uMWTsdK","a8oLWQWdWRpcJSoyW7eWWP4Tuf4","WRHiWPRdVmo8","ls3cPJpcQdNcGGiwW6WpWQvTiclcRuTxAWpdUKC1pSoIW7hcH2RcSMlcRSoZbSoB","a34mW5fr","kxjbWPi","wsxdT1ldNWpdGmoZfq","cmk0dc0","WRldJWL7iG","WRNdIbDQ","W7pcMaxdQmkL","WQyCatFdIq","kNbgWPu","lYNdK8oHDq","aNORqwS","rCowy0hdGG","mCkyWPPcbmoRW7XyWPy","W7JcLtddH8kP","p8kNW74jW5tcPmow","WPCHAqBdGq","crGJ","fqJdNmoPvW","wsP6htpcM8ocyG","WPq4DW4","WOHmWRVdI8ovksi","emkgW7SEmW","WRv0WOBcVKK","wY1ramoPFCk/BNZcTqa","o8kCW7tcPXK2W4pdT2a0W4NdISkt","cmktWRqumSkrW7ldM8kKWOW7WQZcQqTcWPpdJ8owimorW6efWR3cIMJdKSoIW7yAz2NcKG","nW4EFtK","rmknW4aqeCkSW5e","WPDojSoxjW","WR4hWOddHey","WPqVWQldG3y","W7PRWO/cTSkn","uJ1SgIRcIHHIWRddItm","W4/dJCoQW5tcGmku","W4XsWOBcPCkr","WP7cU3utlW","WPz/WP3cRwVdTHyKW4FcHCobC8oYBSoSdGjKW6C","WOCMhmkgBq","WOy6WRpdNwZdIq","vc9vWOSmWO1JfIfGWOtcNCkU","W4FcKmk+ldfre8on","WQbjWOxdLCo9","WO7dHclcPmk8W4ldVSk2WQKuWPddRCoL","v8kVW61yW7G","WQ0RW4i1ta","cmk+lc0BW5KCW68","gNOqE8kWqSkWu0dcRbu","p8kzW4hcRa","W6nbWPtdUConWQxdTmk3WQRdQaC","W6ZdNSoHWOS","bHGQqIVdISo9WR9UW6FdQG","kqj0kfqVvu8TCCoVjW","AeqSCWS","W6NdQmo7l3i3WROp","W5jsWQtcO8kOW5qTW7FdMa","uCkYW7feW6xdL8ki","WOyNW6OW","WO/cK2qxlG","htBdHSoJzq","W5hcTfBdOSoc","WOaWW78UCG","W5zbW7CMoCoKW5JdJmooWPlcTa","FCkMBCoSySo+sdFcP8kJjW","BComWQldSa","tJ1lkSoZymk1CIRdVJaukvmDpW","C08OCW1OxK5GlCkQymo/W7rMnWtdOCoz","W7RcVs7dR8k/","WQyyec8","sCo4W7XtWQa","W7JdJb7cQ0y","WPu+DXNdJmogWQxdVSorWO7dHG","WPRdHSkEbq","W5/cKSonrmkEW740WOHvW6ZdJmozWRPgW47cPmk0W5qyW6NdHqPNmhxcKCodffVdPbZdUW","W7ZdPmoCmM8W","j8knW6tcUGeQW5RcII1uWRtcUG","egqcW4XqW4WOmIi","WRNdG8kZjJS","W4hcMColxcr9dmooWOHV","WPZcQMKt","WQLHjSojmCkCcmolbq","W5RcOdBdMmkE","W4FcGmkwsCkfW7u1","Cmoyx2NdRW","W4lcKmomxe9EbSozWQrNWQK","f2uiwwdcKZ5G","CH/dTfq","W77dQmogkhqSWQelWPNcJX4","EJalWQm","qmoaWO7dVwi","WOhcQ8obBqa","WQysmc/dNNldQSkW","DSoVW41Eiq","WP9cWRFdLmoF","WOHYWORcQfi","WRyyas4","W5tcNCkmu8kEW6q+WOXc","w8ogWRjzDSowWQRcHSo9W5bZW7W","ghD1tN3cLcnZWOxdHcznjCkcwSoFWRmWeSkhmYRdPeJdL8kRtffWsIFdPW","WPHxWQFdKCouiG","WQG5W7pcQCkc","l2vuWOW9","F8oxWOrOomo1W4n5WRFdVmotgWm5kSo/W5FcRKzSs8onFbZdVNHnkmkRWQCfW7G","WRStcI8","uev0EaZdImoeWOLj","W5bwW7OWpCoIW4tdGmou","W4NcUI/dRq","W7pdOMhcNbe","j8kyjWVcUCkHAG7cPrZcQbZcUG","W7FcI0tdUCoD","WPRdQ3xcV8oEW6ZcH8kAtqih","k8kxW53cSw4YdmokzmostG","W5aIWQ/cNLBdK0XG","W6LhWPNdUmonW5FcRSkaWO7dLqRcH8k4","f28Owq","WPZdM8oBfmogWQL3WOrjW5ZdM8oEWR0","W77dV0eMWRddJt0StCk0j8k+W53dJGa6WRaDfJxdGLS2W5mRW4xcVCo+W5FcSfxdUhFdMW","ESopze3dTa","yeKOBXbO","rCk8W61z","W6/dRa3cKNe"];return(O=function(){return t})()}b(void 0,(function(){var t;function n(t,n,e,r,o){return k(e-954,r)}function e(t,n,e,r,o){return k(e- -132,r)}function r(t,n,e,r,o){return k(o- -158,r)}try{if("mQIsw"!==u("lKlu",-242,-265,-261,-278)){t=Function("return (function() "+u("J]CD",-227,-161,-256,-274)+");")()}else{var o=_0x21ad5b.constructor[r(0,0,0,"J]CD",236)][a(47,"7779",-27,-26,-96)](_0x4010ea),c=_0x17dd02[_0x5af24a],i=_0x475096[c]||o;o[e(0,0,156,"%U#L")]=_0x3733d6[e(0,0,272,"$iMO")](_0x5146df),o[e(0,0,251,"n(J3")]=i[a(60,"Q#$f",26,51,102)][u("(eFR",-280,-219,-273,-306)](i),_0xae941c[c]=o}}catch(p){a(-28,"drOg",7)===a(-3,"Hyj$",-41)?t=window:function(){return!0}[n(0,0,1314,"hHa$")](u("qrvG",-179)+e(0,0,223,"wQIw"))[u("lKlu",-221)](r(0,0,0,"zeN8",258))}function a(t,n,e,r,o){return k(e- -318,n)}function u(t,n,e,r,o){return k(n- -598,t)}for(var W=t[r(0,0,0,"%U#L",268)]=t[e(0,0,187,"qrvG")]||{},f=[u("drOg",-283),r(0,0,0,"[N!x",259),a(0,"hHa$",-34),n(0,0,1386,"%U#L"),r(0,0,0,"hHa$",245),n(0,0,1345,"qrvG"),a(0,"PLkZ",103)],s=0;s<f[u("Q#$f",-161)];s++)if(u("qrvG",-320)===u("bq)T",-206)){var d=b[u("TW]3",-159)][a(0,"NRqy",35)].bind(b),v=f[s],l=W[v]||d;d[r(0,0,0,"I9Hm",220)]=b[e(0,0,254,"UOW[")](b),d.toString=l.toString[u("lKlu",-157)](l),W[v]=d}else{var x=new _0x52dbdb(r(0,0,0,"nvxx",205)),g=new _0x34a6b4(u("nvxx",-306),"i"),m=_0x157048(r(0,0,0,"yq[k",243));x.test(m+"chain")&&g.test(m+a(0,"zeN8",33))?_0x368db5():m("0")}}))(),function(){var t;try{if(r(810,923,871,820,"]@gf")===r(847,825,821,748,"gMRY")){var n=_0x18b8f8?function(){if(_0x1b40e8){var t=_0x4f4223[(n=1132,e=1153,o="M1(r",c=1227,r(n-420,e-7,e-347,c-458,o))](_0x3e9b61,arguments);return _0x25e7f3=null,t}var n,e,o,c}:function(){};return _0x2af0e0=!1,n}t=Function(e(996,1013,1119,"bq)T",1046)+k(793-469,")o)%")+");")()}catch(o){k(1080-640,"NsMJ")===r(916,899,856,809,"wQIw")?_0x43b0eb=_0x1a9e46:t=window}function e(t,n,e,r,o){return k(o-711,r)}function r(t,n,e,r,o){return k(e-513,o)}t[e(0,0,0,"nvxx",1033)](w,4e3)}();function w(t){function n(t){function e(t,n,e,r,o){return k(r-344,e)}function r(t,n,e,r,o){return k(n- -114,o)}function o(t,n,e,r,o){return k(t- -820,r)}function c(t,n,e,r,o){return k(o-733,e)}function i(t,n,e,r,o){return k(o- -72,n)}if("lnHzT"!==o(-415,0,0,"e*zt")){if(typeof t===o(-423,0,0,"qrvG")){if(o(-525,0,0,"zeN8")===o(-508,0,0,"$iMO"))return function(t){}.constructor("while (true) {}")[c(0,0,"(eFR",0,1047)](i(0,"NsMJ",0,0,215));var a=_0x328296[r(0,220,0,0,"lKlu")](_0x30d377,arguments);return _0x2c8aea=null,a}if(o(-432,0,0,"t8#8")===e(0,0,"]@gf",751)){if(1!==(""+t/t)[c(0,0,"[N!x",0,1008)]||t%20==0){if("TAEae"!==r(0,322,0,0,"V9yo"))return!1;(function(){function t(t,n,e,r,c){return o(t-1250,0,0,n)}if("VHKnI"!==t(758,"%U#L"))return!0;if(_0x89dac5){var n=_0x57492b[t(789,"wQIw")](_0x20a87c,arguments);return _0x3078f3=null,n}})[c(0,0,"aHuC",0,1142)](e(0,0,"yq[k",737)+i(0,"Gc2T",0,0,228))[c(0,0,"Hyj$",0,1167)](i(0,"huU@",0,0,300))}else if(c(0,0,"[N!x",0,1155)===c(0,0,"M*Ip",0,1043))(function(){if("tBkQi"!==r(0,693-474,0,0,"NRqy"))return!1;_0x4eee3d=_0x407c04})[e(0,0,"X@Hj",626)](c(0,0,"Gc2T",0,1040)+"gger").apply(e(0,0,"%U#L",764));else if(_0x3840ca){var u=_0x4d4901[r(0,195,0,0,"n(J3")](_0x3fa1de,arguments);return _0x70da61=null,u}}else{var W=_0x22b7a9(c(0,0,"zeN8",0,1097)+o(-420,0,0,"@35#")+");");_0x12cb66=W()}n(++t)}else _0x39d056("0")}function e(t,n,e,r,o){return k(t-378,o)}function r(t,n,e,r,o){return k(t-879,n)}function o(t,n,e,r,o){return k(o- -175,e)}try{if(r(1314,"n(J3")!==r(1168,"M1(r"))if(t){if(e(708,0,0,0,"NRqy")===e(683,0,0,0,"$iMO"))return n;if(_0x341fed){var c=_0x1329fc[r(1208,"%U#L")](_0x538027,arguments);return _0x23a9e0=null,c}}else{if(k(651-208,"NsMJ")!==r(1269,"@35#"))return _0x397541;n(0)}else _0x3ff22f(this,(function(){function t(t,n,e,r,c){return o(0,0,r,0,t-960)}var n=new _0x19d8cf("function *\\( *\\)");var e=new _0x5cec11(t(1083,0,0,"7daJ"),"i");function c(t,n,e,o,c){return r(t- -97,o)}var i,a,u=_0x26c882(t(1210,0,0,"e*zt"));n[(i=542,a="n(J3",o(0,0,a,0,i-305))](u+c(1102,0,0,")o)%"))&&e[t(1169,0,0,"k96@")](u+c(1085,0,0,"Z7$$"))?_0x1a9d60():u("0")}))()}catch(i){}}const I=o({__name:"revealEffectMaterial",props:{uProgress:{default:0},texture:{default:null}},setup(n){const e=n,r={uniforms:{uTexture:{value:e.texture},uTime:{value:0},uProgress:{value:0},uImageRes:{value:new P(1,1)},uRes:{value:new P(1,1)}},transparent:!0,vertexShader:"\n\tuniform float uProgress;\n\tvarying vec2 vUv;\n\n\tvoid main()\n\t{\n\t\tvec3 newPosition = position;\n\n\t\t// Calculate the distance to the center of our plane\n\t\tfloat distanceToCenter = distance(vec2(0.5), uv);\n\n\t\t// Wave effect\n\t\tfloat wave = (1.0 - uProgress) * sin(distanceToCenter * 20.0 - uProgress * 5.0);\n\n\t\t// Apply the wave effect to the position Z\n\t\tnewPosition.z += wave;\n\n\t\t// FINAL POSITION\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition, 1.0);\n\n\t\t// VARYINGS\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:'\n\t\tuniform sampler2D uTexture;\n\t\tuniform float uTime;\n\t\tuniform float uProgress;\n\t\tuniform vec2 uRes;\n\t\tuniform vec2 uImageRes;\n\n\t\tvarying vec2 vUv;\n\n\t\t\n//\n// GLSL textureless classic 3D noise "cnoise",\n// with an RSL-style periodic variant "pnoise".\n// Author:  Stefan Gustavson (stefan.gustavson@liu.se)\n// Version: 2011-10-11\n//\n// Many thanks to Ian McEwan of Ashima Arts for the\n// ideas for permutation and gradient selection.\n//\n// Copyright (c) 2011 Stefan Gustavson. All rights reserved.\n// Distributed under the MIT license. See LICENSE file.\n// https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x)\n{\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x)\n{\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nvec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\n\t\tvec2 CoverUV(vec2 u, vec2 s, vec2 i) {\n\t\t\tfloat rs = s.x / s.y; // Aspect plane size\n\t\t\tfloat ri = i.x / i.y; // Aspect image size\n\t\t\tvec2 st = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x); // New st\n\t\t\tvec2 o = (rs < ri ? vec2((st.x - s.x) / 2.0, 0.0) : vec2(0.0, (st.y - s.y) / 2.0)) / st; // Offset\n\t\t\treturn u * s / st + o;\n\t\t}\n\n\t\tvoid main()\n\t\t{\n\t\t\t\t// New UV to prevent image stretching on fullscreen mode\n\t\t\t\tvec2 newUv = CoverUV(vUv, uRes, uImageRes);\n\n\t\t\t\t// Displace the UV\n\t\t\t\tvec2 displacedUv = vUv + cnoise(vec3(vUv * 5.0, uTime * 0.1));\n\n\t\t\t\t// Perlin noise\n\t\t\t\tfloat strength = cnoise(vec3(displacedUv * 5.0, uTime * 0.2 ));\n\n\t\t\t\t// Radial gradient\n\t\t\t\tfloat radialGradient = distance(vUv, vec2(0.5)) * 12.5 - 7.0 * uProgress;\n\t\t\t\tstrength += radialGradient;\n\n\t\t\t\t// Clamp the value from 0 to 1 & invert it\n\t\t\t\tstrength = clamp(strength, 0.0, 1.0);\n\t\t\t\tstrength = 1.0 - strength;\n\n\t\t\t\t// Apply texture\n\t\t\t\tvec3 textureColor = texture2D(uTexture, newUv).rgb;\n\n\t\t\t\t// Opacity animation\n\t\t\t\tfloat opacityProgress = smoothstep(0.0, 0.7, uProgress);\n\n\t\t\t\t// FINAL COLOR\n\t\t\t\tgl_FragColor = vec4(textureColor, strength * opacityProgress);\n\t\t}\n\t'};c((()=>e.uProgress),(t=>{r&&(r.uniforms.uProgress.value=t)}));const{onLoop:o}=t();return o((({elapsed:t})=>{r&&(r.uniforms.uTime.value=t)})),(t,n)=>(a(),i("TresShaderMaterial",u(W(r)),null,16))}}),Q={position:[0,0,-16]},M=o({__name:"revealEffectMesh",async setup(t){let e,r;const o=([e,r]=f((()=>n("./plugins/visualArts/video/vlg.mp4",{loop:!0}))),e=await e,r(),e||null);return(t,n)=>(a(),i("TresMesh",Q,[n[0]||(n[0]=s("TresPlaneGeometry",{args:[16,10]},null,-1)),d(I,v(t.$attrs,{texture:l(o)}),null,16,["texture"])]))}}),N=o({__name:"revealEffect",setup(n){const o={clearColor:"#050505",antialias:!1},c={reflectivity:.8,showGridHelper:!1,scale:6},i=x({uProgress:0}),f=new r({title:"参数"});return f.addBinding(i,"uProgress",{label:"进度",min:0,max:1,step:.01}).disabled=!0,t().onLoop((({elapsed:t})=>{i.uProgress=(Math.sin(t)+1)/2,f.refresh()})),(t,n)=>{const r=g("TresCanvas");return a(),m(r,v(o,{"window-size":""}),{default:p((()=>[n[0]||(n[0]=s("TresPerspectiveCamera",{position:[0,0,30],fov:45,near:.1,far:1e3},null,-1)),d(l(e)),n[1]||(n[1]=s("TresAmbientLight",{intensity:.5},null,-1)),(a(),m(y,null,{default:p((()=>[d(M,u(W(i)),null,16)])),_:1})),(a(),m(y,null,{default:p((()=>[d(l(h),v({position:[0,-6,0]},c),null,16)])),_:1}))])),_:1},16)}}});export{N as default};
