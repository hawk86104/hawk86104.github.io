import{P as t}from"./tweakpane.yHWGBmom1735866388381.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.Mjj7uMI31735866388381.js";import{_ as r}from"./heatmap.js-fix.O5HscpFZ1735866388381.js";import{h as i,_ as c,cz as s,B as u}from"./three.Rja0AEnA1735866388381.js";import{r as a}from"./utils.B-Lr6Pag1735866388381.js";import{d as p}from"./pinia.U7dsyb111735866388381.js";import{b as f,d as l,a1 as h,o as d,D as m,J as g,u as y,F as v,q as b,U as w,N as I,P as _,H as j,L as x,a4 as S,r as D,j as R,g as Z,m as z}from"./@vue.yG49nQHr1735866388381.js";import{c as A,d as B,a as E}from"./three-mesh-bvh.uuNiUzrn1735866388381.js";import{_ as M}from"./@fesjs.u6K5q1hz1735866388381.js";import"./@tresjs.FlKhQDQ71735866388381.js";import"./@vueuse.YI3Exu6_1735866388381.js";import"./three-custom-shader-material.elUDwR4r1735866388381.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735866388381.js";import"./@amap.B1QlzV1D1735866388381.js";import"./vue-demi.C4xddsk91735866388381.js";import"./vue-router.9bMbssc81735866388381.js";import"./lodash-es.kYt-_xTG1735866388381.js";import"./@qlin.yHhFDldE1735866388381.js";import"./@floating-ui.BPbuo5Gx1735866388381.js";import"./@juggle.7yjBMqoW1735866388381.js";!function(t,n){const e=k,o=F();for(;;)try{if(401989===-parseInt(e(508))/1*(-parseInt(e(489))/2)+-parseInt(e(528))/3*(-parseInt(e(513))/4)+parseInt(e(522))/5+parseInt(e(518))/6+parseInt(e(515))/7*(-parseInt(e(488))/8)+-parseInt(e(520))/9*(parseInt(e(480))/10)+-parseInt(e(503))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(507)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=k,n=new RegExp(t(524)),e=new RegExp(t(479),"i"),o=H(t(531));n[t(492)](o+t(478))&&e[t(492)](o+t(482))?H():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(507)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=k;let n;try{n=Function(t(485)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(532)]=n[t(532)]||{},o=[t(497),t(504),t(506),t(527),t(486),t(491),t(525)];for(let i=0;i<o[t(505)];i++){const n=P[t(498)][t(493)][t(523)](P),r=o[i],c=e[r]||n;n.__proto__=P[t(523)](P),n.toString=c.toString[t(523)](c),e[r]=n}}))();const U=(t,n)=>t[k(500)](n)+-10;function k(t,n){const e=F();return(k=function(t,n){return e[t-=478]})(t,n)}function F(){const t=["19710QZQUZT","_config","input","debu","top","return (function() ","exception","rgb(0,0,255)","128nQQNAr","37450BjPOtH","style","table","test","prototype","push","body","height","log","constructor","absolute","getValueAt","position","width","12618463siCXhW","warn","length","info","apply","30DIpZUp","setData","rgb(255,0,0)","rgb(0,255,0)","createElement","32fACAxb","call","75355BFEtUY","stateObject","action","105612lHDkJN","gger","936jZCtRq","none","3536530fvjBIy","bind","function *\\( *\\)","trace","randInt","error","239883AoZfOk","display","yellow","init","console","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(F=function(){return t})()}function H(t){function n(t){const e=k;if("string"==typeof t)return function(t){}[e(498)]("while (true) {}")[e(507)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(498)](e(483)+e(519))[e(514)](e(517)):function(){return!1}[e(498)](e(483)+e(519))[e(507)](e(516)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function O(t,n){const e=Q();return(O=function(t,n){return e[t-=395]})(t,n)}!function(t,n){const e=O,o=Q();for(;;)try{if(960159===-parseInt(e(407))/1*(parseInt(e(421))/2)+parseInt(e(400))/3+parseInt(e(401))/4*(-parseInt(e(399))/5)+parseInt(e(403))/6+-parseInt(e(415))/7+parseInt(e(395))/8*(parseInt(e(412))/9)+-parseInt(e(420))/10*(parseInt(e(418))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(397)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=O,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(419),"i"),o=V(t(430));n[t(413)](o+t(416))&&e.test(o+t(424))?V():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(397)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["warn",'{}.constructor("return this")( )',"console","constructor","init","action","error","8drQVTr","debu","apply","table","2865140VfhujE","3069126URhoNF","4WHVZjJ","info","10834428nWllRY","return (function() ","while (true) {}","call","97CWbBDK","string","__proto__","gger","toString","4496958SfgBSg","test","log","9322740KRqsNo","chain","bind","22fzchPT","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","456230aFErzs","7674ZTyFzd","length","trace","input","value"];return(Q=function(){return t})()}N(void 0,(function(){const t=O,n=function(){const t=O;let n;try{n=Function(t(404)+t(427)+");")()}catch(e){n=window}return n}(),e=n[t(428)]=n[t(428)]||{},o=[t(414),t(426),t(402),t(432),"exception",t(398),t(423)];for(let r=0;r<o[t(422)];r++){const n=N[t(429)].prototype[t(417)](N),i=o[r],c=e[i]||n;n[t(409)]=N[t(417)](N),n[t(411)]=c.toString.bind(c),e[i]=n}}))();const $=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[O(425)]=n},setTemperature:function(t){n[O(425)]=t}}}));function V(t){function n(t){const e=O;if(typeof t===e(408))return function(t){}.constructor(e(405)).apply("counter");1!==(""+t/t)[e(422)]||t%20==0?function(){return!0}.constructor(e(396)+"gger")[e(406)](e(431)):function(){return!1}[e(429)](e(396)+e(410))[e(397)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=L;function L(t,n){const e=J();return(L=function(t,n){return e[t-=303]})(t,n)}function J(){const t=["2751753NrBSid","rotation-x","table","121aivemt","value","stateObject","toString","162hodzYQ","DoubleSide","prototype","gger","trace","3006pQdHrA","buildingsHeatmap","applyMatrix4","clone","setShowDiv","attributes","counter","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","数值———：","canvas","city","_config","306urULLU","10986kKTGXz","$patch","1975670BRfZQA","Matrix4","exception","disposeBoundsTree","land",'{}.constructor("return this")( )',"opacity","数值：","4785090vWnere","while (true) {}","__proto__","1307092cBRmBk","geometry","ShaderMaterial","computeBoundsTree","log","object","setTemperature","needsUpdate","function *\\( *\\)","BufferGeometry","warn","69544uSgTHP","call","bind","apply","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","uOpacity","makeRotationX","input","info","Texture","chain","length","constructor","2023wphxkN","primitive","debu","Mesh","console","matrix","model","test","_renderer","normal"];return(J=function(){return t})()}!function(t,n){const e=L,o=J();for(;;)try{if(615852===-parseInt(e(353))/1*(parseInt(e(358))/2)+-parseInt(e(346))/3+parseInt(e(310))/4+-parseInt(e(307))/5+-parseInt(e(371))/6*(-parseInt(e(336))/7)+-parseInt(e(321))/8*(parseInt(e(370))/9)+parseInt(e(373))/10*(parseInt(e(349))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(324)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=L,n=new RegExp(t(318)),e=new RegExp(t(326),"i"),o=tt(t(327));n[t(343)](o+t(333))&&e.test(o+t(330))?tt():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(324)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();q(void 0,(function(){const t=L;let n;try{n=Function(t(325)+t(304)+");")()}catch(r){n=window}const e=n[t(340)]=n[t(340)]||{},o=[t(314),t(320),t(331),"error",t(375),t(348),t(357)];for(let i=0;i<o[t(334)];i++){const n=q[t(335)][t(355)][t(323)](q),r=o[i],c=e[r]||n;n[t(309)]=q.bind(q),n[t(352)]=c.toString[t(323)](c),e[r]=n}}))();const K=[W(315),W(347)],Y=[W(315)],G=l({__name:W(359),props:{model:{},opacity:{default:1}},setup(t){const n=W;(()=>{const t=L;u[t(355)][t(313)]=A,c[t(319)][t(355)][t(376)]=B,c[t(339)][t(355)].raycast=E})();const e=t,o=((t=250,n=250,e=!0)=>{const o=k,i=document[o(512)]("heatmap-canvas");return i[o(490)][o(501)]=o(499),!e&&(i[o(490)][o(529)]=o(521)),i[o(490)][o(484)]="0",i.style.left="0",document[o(495)].appendChild(i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(487),.55:o(511),.85:o(530),1:o(510)}})})();((t,n)=>{const e=k;if(!n){let o=0;for(n=[];o<1e3;)n[e(494)]({x:i.randInt(1,t[e(481)][e(502)]),y:i[e(526)](1,t[e(481)][e(496)]),value:i[e(526)](-10,36)}),o++}t[e(509)]({max:36,min:-10,data:n})})(o);const p=new(c[n(332)])(o[n(344)][n(367)]);p[n(317)]=!0;const f=e[n(342)][n(368)][n(361)]();delete f[n(311)][n(363)][n(345)],delete f.geometry[n(363)].uv;const l=f[n(311)][n(361)]()[n(360)](f.matrix),b=e.model[n(303)][n(361)]();delete b[n(311)][n(363)][n(345)];const w=b.geometry[n(361)]().applyMatrix4(b[n(341)]),I=s([l,w]);I.applyMatrix4((new(c[n(374)]))[n(329)](Math.PI/2)),a(I),I[n(313)]();const _=(t=>{const o=n;return new(c[o(312)])({vertexShader:o(365),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(305)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(354)]})})(p),j=new(c[n(339)])(I,_);h((()=>{const t=n;e.opacity&&(_.uniforms[t(328)][t(350)]=e[t(305)])}));const x=$(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(369)].width,y:(1-t.uv.y)*o[e(369)].height};console.log(e(306),t),console[e(314)](e(366),U(o,n)),x[e(316)](U(o,n))}},D=t=>{t&&x[n(372)]({showDiv:!0})},R=t=>{t&&x[n(362)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g("primitive",{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:D,onPointerLeave:R},null,40,K),g(r(337),{object:e[r(342)][r(342)].children[0][r(361)]()},null,8,Y)],64)}}});function tt(t){function n(t){const e=L;if("string"==typeof t)return function(t){}[e(335)](e(308))[e(324)](e(364));1!==(""+t/t)[e(334)]||t%20==0?function(){return!0}[e(335)](e(338)+e(356))[e(322)]("action"):function(){return!1}.constructor(e(338)+e(356))[e(324)](e(351)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=M({__name:"dataDiv",setup(t){const n=$(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=rt;!function(t,n){const e=rt,o=ct();for(;;)try{if(489452===parseInt(e(286))/1*(-parseInt(e(290))/2)+parseInt(e(318))/3+parseInt(e(310))/4+-parseInt(e(309))/5*(-parseInt(e(295))/6)+-parseInt(e(296))/7+-parseInt(e(311))/8+parseInt(e(317))/9*(parseInt(e(307))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[rt(292)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function rt(t,n){const e=ct();return(rt=function(t,n){return e[t-=281]})(t,n)}!function(){ot(this,(function(){const t=rt,n=new RegExp(t(300)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ut("init");n[t(284)](o+"chain")&&e[t(284)](o+t(319))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[rt(292)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["length",'{}.constructor("return this")( )',"test","info","8133CxAfDP","builds","gger","model","174HdpKDT","counter","apply","table","log","1844412voFWXN","677901HNQCgL","error","透明度","trace","function *\\( *\\)","string","warn","value","heatmap2","return (function() ","constructor","160970ynzPzR","prototype","5GEkJub","414712lDVyuZ","4328592tTJiev","debu","call","bind","console","stateObject","594cbaVrU","1084374dboVBd","input","exception","while (true) {}","toString"];return(ct=function(){return t})()}it(void 0,(function(){const t=rt,n=function(){const t=rt;let n;try{n=Function(t(305)+t(283)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(315)]||{},o=[t(294),t(302),t(285),t(297),t(320),t(293),t(299)];for(let r=0;r<o[t(282)];r++){const n=it.constructor[t(308)][t(314)](it),i=o[r],c=e[i]||n;n.__proto__=it[t(314)](it),n.toString=c[t(281)][t(314)](c),e[i]=n}}))();const st=l({__name:et(304),async setup(r){const i=et;let c,s;const u=f(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u[i(303)]=!0;const p=D({width:1,color:"#000",opacity:1,show:!0}),l=D({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,"opacity",{label:i(298),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:Z((()=>[R(G,z({model:y(a)},l),null,16,[r(289)]),R(n,z(p,{builds:y(a).city}),null,16,[r(287)])])),_:1}),R(nt)],64)}}});function ut(t){function n(t){const e=rt;if(typeof t===e(301))return function(t){}.constructor(e(321)).apply(e(291));1!==(""+t/t)[e(282)]||t%20==0?function(){return!0}.constructor(e(312)+"gger")[e(313)]("action"):function(){return!1}[e(306)](e(312)+e(288))[e(292)](e(316)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
