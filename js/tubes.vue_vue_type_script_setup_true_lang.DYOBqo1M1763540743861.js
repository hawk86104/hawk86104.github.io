import{_ as t}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as e,w as r,H as o,o as n,F as s,X as i,J as a,m as l}from"./@vue.Co_gxueH1763540743861.js";import{V as v,l as m,b8 as u,ae as d}from"./three.rXKzP9fQ1763540743861.js";const f={scale:10},c=["args"],p=e({__name:"tubes",props:{brainCurves:{default:null,type:Array},color:{default:"#194ED8",type:String}},setup(e){const p=e,g={uniforms:{time:{value:0},color:{value:new m(p.color)},mouse:{value:new v(0,0,0)}},vertexShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tuniform float time;\n\t\t\tuniform vec3 mouse;\n\t\t\tvarying float vProgress;\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tvProgress = smoothstep(-1.,1.,sin(vUv.x*8. + time*3.));\n\t\t\t\t\n\t\t\t\tvec3 p = position;\n\t\t\t\tfloat maxDist = 0.05;\n\t\t\t\tfloat dist = length(mouse - p);\n\t\t\t\tif(dist < maxDist){\n\t\t\t\t\tvec3 dir = normalize(mouse - p);\n\t\t\t\t\tdir*= (1.-dist/maxDist);\n\t\t\t\t\tp -= dir*0.03;\n\t\t\t\t}\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0);\n\t\t\t}\n\t\t",fragmentShader:"\n\t\t\tuniform float time;\n\t\t\tuniform vec3 color;\n\t\t\tvarying vec2 vUv;\n\t\t\tvarying float vProgress;\n\t\t\tvoid main() {\n\t\t\t\tvec3 finalColor = mix(color, color*0.25, vProgress);\n\t\t\t\tfloat hideCorners = smoothstep(1.,0.9,vUv.x);\n\t\t\t\tfloat hideCorners1 = smoothstep(0.,0.1,vUv.x);\n\t\t\t\t// gl_FragColor = vec4(vec3(vProgress),1.);\n\t\t\t\tgl_FragColor = vec4(finalColor,hideCorners*hideCorners1);\n\t\t\t}\n\t\t",transparent:!0,depthTest:!1,depthWrite:!1,side:d,blending:u},{onBeforeRender:h}=t();return h(({elapsed:t})=>{g.uniforms.time.value=t}),window.addEventListener("mousemove",t=>{g.uniforms.mouse.value.x=t.clientX/window.innerWidth-.5,g.uniforms.mouse.value.y=-(t.clientY/window.innerHeight-.5)}),r(()=>p.color,()=>{g.uniforms.color.value.set(p.color)}),(t,e)=>(n(),o("TresGroup",f,[(n(!0),o(s,null,i(p.brainCurves,t=>(n(),o("TresMesh",{key:t.uuid},[a("TresTubeGeometry",{args:[t,64,.001,2,!1]},null,8,c),a("TresShaderMaterial",l({ref_for:!0},g),null,16)]))),128))]))}});export{p as _};
