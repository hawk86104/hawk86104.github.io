import{B as o,Q as e}from"./three.quarks.C2UVk62d1758524188831.js";import{i as s}from"./Resource.DxdCIUkg1758524188831.js";import"./@fesjs.C0vFiD6Z1758524188831.js";import{e as r,a as t}from"./@tresjs.BL1sBIDK1758524188831.js";/* empty css                                                                             */import{l as a}from"./yangyangLoading.cPq95vdS1758524188831.js";import"./three-mesh-ui.module.CE9rtod61758524188831.js";import"./global.B9GyzW9k1758524188831.js";/* empty css                                                              */import{P as i}from"./tweakpane.C0HtAJSg1758524188831.js";import"./OimoPhysicsBuffer.CcBMdMc41758524188831.js";import{_ as l}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.0p0XW2Cf1758524188831.js";import"./vanilla.esm.5.5.0.UWCjMdOF1758524188831.js";import"./PackedMipMapGenerator.7JJE-1Hp1758524188831.js";import{d as n,w as p,G as m,o as c,F as u,I as j,u as d,r as f,h,j as g,f as _,e as y,H as v,m as M,a5 as b}from"./@vue.pEDXJ_3Z1758524188831.js";import{f as w,C as T,t as k}from"./three.CC50Wz7a1758524188831.js";import{a as C}from"./quarks.core.Xz3FZi7v1758524188831.js";import"./vue-router.DFx_OtVs1758524188831.js";import"./lodash-es.C7pWAXPe1758524188831.js";import"./pinia.DVrvLNCY1758524188831.js";import"./@qlin.q6OWdsQV1758524188831.js";import"./@babel.BPq7uOAK1758524188831.js";import"./@floating-ui.BFjFSAYt1758524188831.js";import"./@juggle.CcBCnTIR1758524188831.js";import"./postprocessing.DYlQqnRh1758524188831.js";import"./@vueuse.C-O_6is-1758524188831.js";import"./utils.PgMvYI3o1758524188831.js";import"./color.D9QGz8GJ1758524188831.js";import"./@amap.CGUF9xH41758524188831.js";import"./color-string.BDbH6wEP1758524188831.js";import"./color-name.BQ5IbGbl1758524188831.js";import"./simple-swizzle.Bkblhu7y1758524188831.js";import"./is-arrayish.CLsR9Wfx1758524188831.js";import"./color-convert.P-wMblBM1758524188831.js";import"./lodash.iw1WOawC1758524188831.js";import"./oimophysics.BBtHVm4j1758524188831.js";import"./dither.glsl.tNAdkJUa1758524188831.js";import"./Reflector.hbefUijb1758524188831.js";import"./vite-plugin-qiankun.B06WoCqG1758524188831.js";import"./object-hash.COWhg4aZ1758524188831.js";import"./jszip.BzP0QdiD1758524188831.js";import"./three-stdlib.CYvtwvCB1758524188831.js";const B=["object"],P=["object","position","scale","rotation"],G=n({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(e){const t=e,a=o=>{const e=new T(t.color),s=new k(e.r,e.g,e.b,o);return new C(s)},i=new o,l=new w,n=s.getItem("CartoonMagicZone.json").clone(!0);n.traverse((o=>{if("ParticleEmitter"===o.type){"BasicZoneRedEmitter"===o.name&&o.rotation.set(Math.PI/2,0,0);const e=o.system;e.startColor=a(e.startColor.color.w),i.addSystem(e)}})),"ParticleEmitter"===n.type&&i.addSystem(n.system),l.add(n);const{onLoop:f}=r();return f((({delta:o})=>{i.update(o)})),p((()=>[t.color]),(([o])=>{i.systemToBatchIndex.forEach(((o,e)=>{e.startColor=a(e.startColor.color.w)}))})),(o,e)=>(c(),m(u,null,[j("primitive",{object:d(l)},null,8,B),j("primitive",{object:d(i),position:o.position,scale:o.scale,rotation:o.rotation},null,8,P)],64))}}),L=n({__name:"customLoading",setup(o){const r=f({reflectivity:.1,showGridHelper:!0,scale:1}),n=f({color:"#ffffff",scale:1});s.loaderMapping.QuarksLoader=e,s.loadResources([{functionName:"QuarksLoader",url:"./plugins/floor/json/CartoonMagicZone.json"}]);const p=new i;return p.addBinding(n,"color",{label:"颜色"}),p.addBinding(n,"scale",{label:"大小",min:.1,max:3,step:.1}),(o,e)=>{const i=h("TresCanvas");return c(),m(u,null,[g(d(a),{useResourceManager:""}),g(i,{clearColor:"#201919","window-size":""},{default:_((()=>[e[0]||(e[0]=j("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(d(t),{enableDamping:""}),d(s).hasAllFinished.value?(c(),y(G,M({key:0},n,{position:[0,0,0]}),null,16)):v("",!0),d(s).hasAllFinished.value?(c(),y(G,{key:1,color:"red",position:[3,0,0],rotation:[-Math.PI,1,45]},null,8,["rotation"])):v("",!0),d(s).hasAllFinished.value?(c(),y(G,{key:2,color:"green",position:[-2,0,0]})):v("",!0),e[1]||(e[1]=j("TresMesh",{position:[3,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"red"})],-1)),e[2]||(e[2]=j("TresMesh",{position:[-2,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"green"})],-1)),e[3]||(e[3]=j("TresMesh",{position:[0,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"white"})],-1)),(c(),y(b,null,{default:_((()=>[g(d(l),M({position:[0,-.5,0]},r),null,16)])),_:1}))])),_:1})],64)}}});export{L as default};
