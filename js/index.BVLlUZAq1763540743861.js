import"./axios.BTiLLHcy1763540743861.js";import{n as e,o as t,p as r}from"./global.BBGVMLjY1763540743861.js";import{t as a}from"./lodash.CybtBilg1763540743861.js";import{u as o}from"./useChartDataFetch.hook.DFkwif_P1763540743861.js";import"./echarts.1o70n-tX1763540743861.js";import{u as n}from"./chartEditStore.CHAh6jvI1763540743861.js";import{a0 as i,d as s,W as l,dq as A,L as h,ay as c,o as u,n as g,V as p,x as d,ae as m,G as w,bc as f,dr as v,Q as y,j as C,ds as x,b1 as D,a$ as B,k as P,l as E,i as G,m as b,$ as I,q as Q,aw as z,ax as S,am as F}from"./three.rXKzP9fQ1763540743861.js";import{g as M}from"./gsap.CY1N3EIL1763540743861.js";import{d as H,a as L,x as Y,w as K,q as k,H as V,o as J}from"./@vue.Co_gxueH1763540743861.js";class R{constructor(e){this.dom=e,this.initScenes(),this.setControls()}initScenes(){this.scene=new i,this.camera=new s(45,window.innerWidth/window.innerHeight,1,1e5),this.camera.position.set(0,30,-250),this.renderer=new l({alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.dom.appendChild(this.renderer.domElement)}setControls(){this.controls=new A(this.camera,this.renderer.domElement),this.controls.autoRotateSpeed=3,this.controls.enableDamping=!0,this.controls.dampingFactor=.05,this.controls.enableZoom=!0,this.controls.minDistance=100,this.controls.maxDistance=300,this.controls.enablePan=!1}}const N=Object.freeze(Object.defineProperty({__proto__:null,default:"data:image/png;base64,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"},Symbol.toStringTag,{value:"Module"})),X=""+new URL("../png/label.Bw8EM3gb1763540743861.png",import.meta.url).href,O=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"})),U=""+new URL("../png/earth.D2KMPLFV1763540743861.png",import.meta.url).href,q=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),T=""+new URL("../png/glow.C3LQWEwD1763540743861.png",import.meta.url).href,W=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),Z=Object.freeze(Object.defineProperty({__proto__:null,default:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAASFBMVEVHcEz///////////////////////////////////////////////////////////////////////////////////////////8FevL4AAAAF3RSTlMAuoLY6MTP/O/2ZFXgc0aPr5o3pSgZDC0CTJMAABUlSURBVHja7F2LdqO4EpzED4HjxHEyMf//pxtAj+qXAIONmHtFJjuZ2d1zqlRd3Wpk6c+f/49Vxq1/4tfv8z8CO4wfeNovP/5ZIgL0X7xx/O2e/lv3qx09Gf8WDwR6h9oYiRsvh38GvZ/xML7a56v71Y3+h+4vkIntkxCxh0lPmNvxwf7p2RAkbB49IP9oHxxv5KeWiw8visTCBkkI4Mm0I+o3MQgVKIYNcoDww7xH7MODstBKoUsRW6HAo09TL5CfzPF24iwkJfxsgwMx9wiewX1vn/7r96FMYFQgB4VTECc/gWfYW7y5AUygFLYhgyR9il6D/vr+iuO9/dJ4iBx8BRKKpUDAV8G/MuRyJCJINFAZlEcBwv8g8CN4hH55vVy6b2G89g9n4QQsBBmUSAGEfkSPUx+wI+TL5ar+kGiILNBYKI8CdD4i/aB6iv16uZoDSAksUA4gFFoKinH+NPsUfVB8wJ7G9/U7jvYHQgPhQKcgqKAU+H/T7Iu5J+ARuDoYC0BC4AApWDsOvPrZ7HPwAXscn9+fyvj9Y8YCkhA5CIZYQhwQ70P07xE9w/6pjheVhz4uEgfFURCD/4PBj5OP4BNaewATKAUqAxIIK1oBUT8X/4XBV7Ef+qf9xolAEqQMEgUrigC938OPsx/QI/iXTwSujhekQuXg1aDg+Qx488fgF5OP6C3kR/iORJCICBx0RYJGwfNFIOGfAD5BL7D/oj3q43BEKjwNSQgoA0/BWiIA/DT2EX6aeph4iXqnEhFI0DlQKOhF8Dz5B/MX6kf4YfL9xHPgOzIoE4wDGgk9BSoDt1Xkn4N/YPA5bjGQCKGDAQqewkDAb8Nn0k/Y0zi3T//lv3WPQgPXgaCAMfDwMCDyT+ZHZx+Vz+e9RZwbwAONBknBK6UgeOHz5h/hX/jsg+Ul8HTs4dFJ8EKArOApSG5IRPBwI+Duj9Nvzj6f+A6xPggTVAdcBVIETzAChp9Ef4IvwO8A+qiR4UCj4FkMmPIn8BN+JnwCseofMlQSQjRoFDAGTr0RtGHwGAZs/BD8cfYt8BT2vv/Vf3EWfEDsFApUEbwFBh6igTT/Ifx7+RvqT3Hf6j4yUI0bUggaBXoY9MlgeQYo/jD9V8TPxE/Dngu+bp/f4b/9PnkOIgUYB4ECoYHFGcD5PxH8BnwqfQ49AU/f/UAmWG7gFGhOkKxwWQbM+Sf4KXwBPiElkAF79xcoh30lZBAo6EXQl0UdAzwZLMiANv/B/Zn5Ce1TxevIDTqoEFJOAApCGDANLB0FfP6p+3P4Ozn7dUWhu/aho/9DQB8Z2CMFigg+0QhAA8vlAj7/BL8+/Qw9Ad/jdT0Jdfqt86QwIWAkaBQwBt5TLliKARX/NeHPwkf0ASWffNRB95d1p4dgCxgIJgPfyMBpUQ3Y+FP4e/wAf8/wp9keHoEDJgP0AkKBZAAqomXWvzz+AT+b/t77PHqQfT0OO2OhZjKIOREYeDn4bIDJYDkGugSQmX91+j38Kga9BN8owzUmB8kRQQSBgWQEigbmBkHA/0Hwh9rfh3+cfmX2GfoAtUXLnsb/bZ4CYgVoBKiB02Ia6A1Anf8Xjl9TfwhoIKDHqs1/42kRrmhQsIsUYDJYVAPEAGH+vxX5d/hzs09wNnoMpN9SEigDVYYBpoF5EgADjPUfn39f+qbpT0UPB+8s4NILCAuYFaIGznsSBhgFsSL6mMmAjp/OP4Y/UT+AdxPAMxYgIGhl5MNgh0ZAnbBfG84KAkwA2vwn/Sf3E8bfBAruGO1/3ChpMaoAs8GLxsAsGwgGGBPAJSQAPv8MPin1m7mD+CFYAWVAaACN8L4gYAEACRDnn8jfBz8J/bunHz2T22FlM/CdGJhphCb+T5h/xO8rHzL58wXQ/z8csQKsihQnvCYGZgSBagBZ/HT6Y72zCAUucBCrAs/AWWfgMpuBEABvyQBiAkD8An4dnN8tA154AQ+Ds8EANcLJQUAFoOA/cv0L+S8Ln5QFaYVkRgEa4R0SwBKYGaCN3zH5Lz+ICDonaKtCpgGSCu6UQB8AfQYkBgAJUMFfp3r/IfAb5gSGE7YMxFXBfQzoAUALAG7/Eb57EH6yVkqLA64BNQg+pgUBD4C8AXr49WOC36yL8hqYFwQxA7zxAFATANpf0zyWAsiHMReQdYFpAxMkkA2AAfyPV0BQQagISDbUJICZYHIJ0GcAWgFF/BX3/8Y1zVMoABH0uWDRIIgCOHEBUPzP1z9jAEsizoAMgvESuGkOiAbg2z9i/p+En7QJNA2ITNA3R8ZKgAigL4FiBjiyAKDlX/PUQRbIwEAmCEb54C0vAAX/k9xPrwh6H+jqARIEQQNpTTBWAnEVnAsAXwCQ3kfTPF0BWirAXKhK4B4BYAYUBlCvAp85YTUiCMZJwDuAHQA7LQCejx+yIWjgDAyENcFECUgBfAsBJPz9+qdZAz+GAZHAzgyCMRKAFGA5oLICXgs+rQfABsAHJ0rAEsCBC4AmgPUooGvjqIF7JZARAMMPDDQrDpeTwAFS4chyMCuAUAK0mx+I/5VAAVSEnoF7JDBNAG5dB2ALIyaBHa+GkgtkCfjLcqBwwDMzwGZtBTRyYYj1IEhguB6GIigjgH0QQP/ir1l3GBJgQUBdwJSALIKIAFgJUD95BWgroCEdMpYKowTazshAJkQL1AVwZilwffgxClgmIKmQ9gXMGGgjgFugJoAYAGvWgEYUiPZYlMCITMgt0BJAVEAZ09/AwriqeSpk5WA2BkIEkBzoVwF8EeRKigBSDJBy8GjZoBYDMgKMGqCQEmCkC7QSGBcDPAeICEgCiBmgKAI6DfhaoHMB6I+KavA2KgKoBZ5ZBDTFUODCqoikwokxIMtgVQArd0GGCsIUAntaDLFqUKmFOgLiOigWAQdmga3R+jZIUfAbLgG7GjTygFIGf6YcwBuhRUUAdQGMgZ0WAx9qDPgcoFpgXAezIrgsBRAJyFWxL4fNGKA5IBYBWAXGPkCJAmB9ga4WIKXAUC1kRIAog9fuA46hwMgDV5YHBpKgmQPKc0BWD4+IAcUEfnIWIFYBRVKguEAvgVgMZmLAtIAjzwFFw0+NEdYaG0yEwgLkOgDL4KYpmwJWCqjrAZ0AxQI0CywSv9Ia420RuxrWqgD6OigIoFAP1OthyAPfKQaUziCWQVoSFDmgzAjAHQOsLTJgAhkLgB0RZbwMGkwDTosBWgmYBAxaQGGdIE0BUA2SSoAR8JUjQFkJFtsKGVUJyCUxc0HWDeMLgcIXgooEIA8KE9Dej8gyiFgAT4JFKwDzAMSAdEEgINWBbCXUlkEbqQLmpYHYDdKTQPLAelsKkH0xnYDQDqNJYHMWEPvj1pJYLAhzSSDTCygYPpGA6IuZK2JJQN8OlL2AdbcETXlDkkxAbw0jAbQfmC2Ey3aARrwpN1yQ58EfYyUg6sC6cAdoeAjsWTFMeiKRAHMpJJLANhRQi0IgdoX0PJgpA5SGeNkKiHmg4nnwM5MH4aXQcDekcPiN3hJ4kcshCAGlDqLvhDamgG6vxJRKiHYDrqwOwnbQRhTgSGc0NYVSISA9QNRBRhlQvAR4IaBXQowAqQBaBvQMbCECyEYBpgAzBPRK+CW1xKuNKcDVeQW8s8WAtRQ4bq0QtHoi80NgM4XgGA94FctBOwR221RArfSEJAF/J4VADYvBZlMecM6thxUCWEMMt8cV/VJovAeMD4EDhMCmFFAjAbuJCrCyQLVBD9hP9IB/Jgvk64DXeQooXAOaBxyVQmhEHWC3BLdVB4zKAj/2m8GNNUSkB+zGrAXG9AOqTSyHdQ845EvhP7ndAbg5YCsKYFsEjsNrAdYUVV8MbUgBda12hL6zPcGvAQVUW1KA7ArTpijbKphpix/j9oiCN4mK9wI1vBegO+WM9+M/5pshrSvsSp5/tk3I2CDAd4znVkNba4vnFoPi1dikHTLbeTtM2gHZSvg2sEfquM39AUNlwLtCgLZD5GDvkiteAdVwGTBMgPJysHbbUgD3wGtuj9CX8XJQ9IRKtsFWArWrmQIO+ZfDmR0S+ruhwneJ6R8ayW+Tk5WQ3CRUb2SnKF8L2hsl6U7R3IJYbJJypSugmr5VNrdPjlcC5XdD6vxS6E1uls5skaCbZApeD7mhOtDeLo/rwXf9U4ObqAXFHrGxn5q66R+Z4T2Rquxa0DXqHrkRm8Xv+MRE8TlA3R9zyX1oKvuxOXZ4QMGfGhtpAV+ZD04alUBV+EeHG+UIAeMQCe3T06NMAEsht5UcoDUDlE+OZk2g8BNUUi9IP0PiZcyHp82Pzx/NFaEr0QLgAAHz4/P6OTL6p6c3IwFHd8pXEyMgf4SGeohMcSZAzhrnK0FxhIZUwIQjJEqsBrUz9XbZJHjLHKPzKo7R0aphVx4BtXl+xPAxOn9GHKREi6Gyq6C9eqRg5nRhOxEerLPUShNAnVsHXAdP1czHgPp6wJUrgMEIuFnH6b2NOU6vsFToL2aEjSGqBb4OnK+tnilrHKhY0orANdonRs+TD1QcPlCQN4ZcUQEgHIA2w0YcqflHuVpA2GCBn51w9KW4ca7umENV6bG6WQmUtSomRbB1iBTJAfcerHyOtyuF5qgrIwPCGfszDlbWz5XNnqta2DJQcwBNALeRp+tfNQnww7VdOQ6YE8BAEZA/Xv+QP1rXra1/5WRx62z1gUs2BiSgvSRaOwzI/YsjBJC/Y+OuGxZWVIBr+EU78paVKQLQrlnKXjNVwA0T/F3AvEtWcvcsHbWCeF0fxNs3q2qZa3Zu7LLJq3nRUsVvWlx1ETxGAG9j7tqS14xYPrjSVYN5A2D4P6dfuDd42Zp608Y6RuDkbWvzL1ubdN3emufLOb4GVEqAz3tuXBx74eL++RfOmk0gceXkkVy6+T7pwkW7FmA+yK5cfC5+1yiXD58XuXKzawvkL13N3rr7/B5QNEDTAd+nXbo65drdtS6dxGvoK3wTYgtgys3LugT0i5efrwFH4OMda+eFbh+3r94+kCt3Wh+o6dWrT2qANTIB7MXl41e4cnaSAEQ1NOLy9ZQKHq4CR64cVm5dltcuBwecQEA+CPLXbz+lAwr+R24c1gLgNC0ABu+fF/ePExt4uARI/iNXqtBFMAmA0SnQqIa0IDA14B7ufpj/1Zvn5zigLoF2WZgYiBrg5UD9aBWQ66ZrHb8eAJMEgEuCYRswfMAtPv145bw9/wT/fQGQgqDPBDkGkhGQbPCIOEjydzp+2wCmBoAMgjwDFVzE+5DFkYPmjwz/NP8+AUgDmCyAJAEIApYKWBTUzAqX4yClvtT+6ey/2ofbxiEB6AEwWQDIwCnPAEuHHQWwmdDNj/2mL7Ei/IR/L+Zfwf91F/4UBGxVxBggVsgT4mw7dKT5WSv2xwog1QDuCICcDRgMgBEsGQcY/Cz8afy/LI6f24DKgJ4MGAd3RYJj1ge139D8xwrAr4F+7sMf1gSyIlQ0AEaQVIAcTKGAYFfUj/CV+Af89xsAXxXxmtgzwKzQiyCqgClgjBLiv+Fcw2Y/zv8+pX9F/8wA7w4AsS5MDNB6IBrBmYrA8UBwd6R9nvoh+kH+af61BDADf+iPfTEGIAp4GDARcA5ScqRiiH8mlA+zH5OfCP/M/P/Mwc9sAMuBqIH/2jEXpTSCIIqKgoKiyPP/PzXsTD/u7eldU5GFxTiaVHxVec693bOkMUD3QbIMMhXpMfaSfn3pk4//ePzZVfAYDfSV4AsH0IBEgWT/AuHL8kN+eP0T+P/9CXDQQLsHdBHoLuQ5+JseJOwYPt18Pv0x/ib/jv97CxDXQGJgHy4DKwEMQve7O0mVsPqKfoWj7+EvLf3uP38h/sH8v88PVwEZgFXYlIAVrNCB0hUPKy68vrXhZ/GH8Q/8u29fgL0deA8G0hKgAhyFF7YANrT3L0iPix+Gn+P36w/zvyA/XIZpB9BAUwJ9PqZRoKlYUeah+HDz0+6D+DP+3WX5kz2g12GugByYhLAVew/SS/hSfmp/s/78+ffj0vzJHoDLAAx4C+qdmPSgSlj2k0P0LX3Eh/GP/MeL8tfLMHQAx4AUQAnyGixXyduS8TX8dUi/id/qT/N/YX7eA7wKe0rQOGALw8d+ZD3n9EP8PP7y/Hf5/oc9AKsQx8AUgAOR4D34wsLc0a36GT7G367/Ufh5E4YxCAqeEwXreTgsYh7QGb7SEz5Pf6z/GPz+yogXgZWgVfAUHOA4DB37fske0o/tx/qPm38zBXkJZr4LsAbuYFDCGtgle3/qpfQ7/Jx/vPytA80Y1BLAHNAkqAOQoCbgLRz9mZq9l1+GP8ZP19+I/Nkq5BKwAtmH7kAeEAbPE0Wv4Vv61H7Y/lL/kfl7x0AUUAvEgUlwDVUEuKgfw3nWs6DwAZ/if3P+h7HPCVchlwBb8Jko6JqAFrLzHNlD+DD8PP3jrr+eRdCUoFVgDtxC14XnFN3hLfoa/izHZ/7jlfjPHYglCAp4GZwdzFoJ/Wfh0UP1h/CvNf7pGAwowB5YE0TEoqEunwR0iZ6734Nf4j9eDd8M1DH4MAM9CtwBWqgm5B3RO3YofqXX8As+Lb/rx98qeGsVRAf9EvhY8Bp9i/8e8G/DDwaGFJADkyAiVMZssZjx0R8w+DT9G8Y/rKBcijYKIsEsyONyej5n/l31pyx7o9fhp+m/CX81YMswKmh60EkADVWF/d2iQ/RMT/iH2+E3JSAF0cF2vzUJQQOgGzzSD+PflN9K4HNQFNRl4OtAJXQWoA5iQ/5t6Arvc++bD/B3E8DXB0NugTt4l1+fLchUbPdMvdcvbSz5zSOHP0X8s4BBBeZALGxJQzwbO5p8zR67j+WfAn8YBHYgPVALpkErsUkPwUP2iq+7byr4+vIgKkAH1oREg3Fv/FsI3ukl/cm0f0gBOjAJqAF84FF0LX4b/tTSbxRwDdSBShARQUX5lLML+usb009u9tNdoA4+oAhuAT2kR3PX5K363v2p4rc1QAUuQUS8OnJ5xwPJe/Yd/cTxXUFwABbIQ3sEXZP37A93Qa8PBuxAJZiFaqL8eZU3P4Ze2TH7u8DXGhQHRYJYMA1nwsIZj5Nr72v0d1L9PgcHdAAWes5O0R3+dLo/et4Hx4NocA/dHVHuifKu1Mxekr+z6qf7oEpQB52GQ0fZHiM/Cyvox3tGb8ZBPICI5Bw19nsufq+DasFElNE4GnPBVvKfhJ54KCZOgixG9CsPPxceN0NZDg8CXD98+A/Af8/vmd75AxTYygsKV1lfAAAAAElFTkSuQmCC"},Symbol.toStringTag,{value:"Module"})),j=""+new URL("../png/label-old.CoHbZMIG1763540743861.png",import.meta.url).href,_=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),$=""+new URL("../png/label.Bw8EM3gb1763540743861.png",import.meta.url).href,ee=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),te=Object.freeze(Object.defineProperty({__proto__:null,default:"data:image/png;base64,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"},Symbol.toStringTag,{value:"Module"})),re=""+new URL("../png/redCircle.CMlqDPR-1763540743861.png",import.meta.url).href,ae=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"})),oe=[],ne=Object.assign({"../../images/earth/aircraft.png":N,"../../images/earth/aperture.png":O,"../../images/earth/earth.png":q,"../../images/earth/glow.png":W,"../../images/earth/gradient.png":Z,"../../images/earth/label-old.png":_,"../../images/earth/label.png":ee,"../../images/earth/light_column.png":te,"../../images/earth/redCircle.png":ae});for(let fe in ne){const e=fe.split("/").pop();e&&oe.push({name:e.split(".")[0],url:ne[fe].default})}const ie={textures:oe};class se{constructor(e){this.callback=e,this.textures={},this.setLoadingManager(),this.loadResources()}setLoadingManager(){this.manager=new h,this.manager.onStart=()=>{e()},this.manager.onLoad=()=>{this.callback()},this.manager.onProgress=e=>{t()},this.manager.onError=e=>{r(),window.$message.error("数据加载失败，请刷新重试！")}}loadResources(){this.textureLoader=new c(this.manager),ie.textures?.forEach(e=>{this.textureLoader.load(e.url,t=>{this.textures[e.name]=t})})}}const le=(e,t,r)=>{let a=t*Math.PI/180;const o=r*Math.PI/180;a=-a;const n=e*Math.cos(o)*Math.cos(a),i=e*Math.sin(o),s=e*Math.cos(o)*Math.sin(a);return new p(n,i,s)},Ae=e=>{const t=new u(1,1),r=e.textures.aperture,a=new d({color:15310696,map:r,transparent:!0,opacity:1,depthWrite:!1}),o=new g(t,a),n=le(1.001*e.radius,e.lon,e.lat),i=.12*e.radius;o.scale.set(i,i,i),o.userData.size=i,o.userData.scale=1*Math.random(),o.position.set(n.x,n.y,n.z);const s=new p(n.x,n.y,n.z).normalize(),l=new p(0,0,1);return o.quaternion.setFromUnitVectors(l,s),o},he=e=>{const t=.3*e.radius,r=new u(.05*e.radius,t);r.rotateX(Math.PI/2),r.translate(0,0,t/2);const a=new d({map:e.textures.light_column,color:0==e.index?e.punctuation.lightColumn.startColor:e.punctuation.lightColumn.endColor,transparent:!0,side:m,depthWrite:!1}),o=new g(r,a),n=new w;n.add(o,o.clone().rotateZ(Math.PI/2));const i=le(e.radius,e.lon,e.lat);n.position.set(i.x,i.y,i.z);const s=new p(i.x,i.y,i.z).normalize(),l=new p(0,0,1);return n.quaternion.setFromUnitVectors(l,s),n},ce=e=>{const t=new u(1,1),r=new g(t,e.material),a=le(1.001*e.radius,e.lon,e.lat),o=.05*e.radius;r.scale.set(o,o,o),r.position.set(a.x,a.y,a.z);const n=new p(a.x,a.y,a.z).normalize(),i=new p(0,0,1);return r.quaternion.setFromUnitVectors(i,n),r};function ue(e,t,r,a,o,n){const i=le(e,t,r),s=new p(i.x,i.y,i.z),l=le(e,a,o),A=function(e,t){const r=new p(0,0,0),a=e.clone().sub(r),o=t.clone().sub(r),n=a.clone().cross(o).normalize(),i=new p(0,0,1),s=(new y).setFromUnitVectors(n,i),l=e.clone().applyQuaternion(s),A=t.clone().applyQuaternion(s),h=l.clone().add(A).multiplyScalar(.5).clone().sub(r).normalize(),c=new p(0,1,0),u=(new y).setFromUnitVectors(h,c),g=l.clone().applyQuaternion(u),d=A.clone().applyQuaternion(u);return{quaternion:s.clone().invert().multiply(u.clone().invert()),startPoint:g,endPoint:d}}(s,new p(l.x,l.y,l.z)),h=function(e,t,r,a){const o=(new p).addVectors(t,r).multiplyScalar(.5).clone().normalize(),n=ge(t,r,new p(0,0,0)),i=o.multiplyScalar(e+n*e*.2),s=function(e,t,r){const a=e.lengthSq(),o=t.lengthSq(),n=r.lengthSq(),i=e.x,s=e.y,l=t.x,A=t.y,h=r.x,c=r.y,u=i*A+l*c+h*s-i*c-l*s-h*A;return new p((o*c+a*A+n*s-o*s-n*A-a*c)/u/2,(n*l+o*i+a*h-a*l-o*h-n*i)/u/2,0)}(t,r,i),l=Math.abs(s.y-i.y),A=ge(t,new p(0,-1,0),s),h=-Math.PI/2+A,c=Math.PI-h,u=function(e,t,r,a,o,n){const i=new C,s=new x(e,t,r,a,o,!1),l=s.getSpacedPoints(80);i.setFromPoints(l);const A=new D({color:n||13731143});return new B(i,A)}(s.x,s.y,l,h,c,a.color);u.center=s,u.topCoord=i;const g=(c-h)/7,d=function(e,t,r,a){const o=new C,n=new x(0,0,e,t,r,!1).getSpacedPoints(100);o.setFromPoints(n);const i=[];for(let c=0;c<n.length;c++)i.push(c/n.length);const s=new P(new Float32Array(i),1);o.attributes.percent=s;const l=[];for(let c=0;c<n.length;c++){const e=new E(15503171),t=new E(15969910),r=e.lerp(t,c/n.length);l.push(r.r,r.g,r.b)}o.attributes.color=new P(new Float32Array(l),3);const A=new G({size:1.3,transparent:!0,depthWrite:!1});A.onBeforeCompile=function(e){e.vertexShader=e.vertexShader.replace("void main() {",["attribute float percent;","void main() {"].join("\n")),e.vertexShader=e.vertexShader.replace("gl_PointSize = size;",["gl_PointSize = percent * size;"].join("\n"))};const h=new b(o,A);return A.color=new E(a),h.name="飞行线",h}(l,h,h+g,a.flyLineColor);return d.position.y=s.y,u.add(d),d.flyEndAngle=c-h-g,d.startAngle=h,d.AngleZ=u.flyEndAngle*Math.random(),u.userData.flyLine=d,u}(e,A.startPoint,A.endPoint,n);return h.quaternion.multiply(A.quaternion),h}function ge(e,t,r){const a=e.clone().sub(r).normalize(),o=t.clone().sub(r).normalize(),n=a.clone().dot(o);return Math.acos(n)}class pe{constructor(e){this.options=e,this.group=new w,this.group.name="group",this.group.scale.set(0,0,0),this.earthGroup=new w,this.group.add(this.earthGroup),this.earthGroup.name="EarthGroup",this.markupPoint=new w,this.markupPoint.name="markupPoint",this.waveMeshArr=[],this.circleLineList=[],this.circleList=[],this.x=0,this.n=0,this.isRotation=this.options.earth.isRotation,this.timeValue=200,this.uniforms={glowColor:{value:new E(840171)},scale:{type:"f",value:-1},bias:{type:"f",value:1},power:{type:"f",value:3.3},time:{type:"f",value:this.timeValue},isHover:{value:!1},map:{value:void 0}}}async init(){return new Promise(e=>{(async()=>{this.createEarth(),this.createEarthGlow(),this.createEarthAperture(),await this.createMarkupPoint(),this.createAnimateCircle(),this.createFlyLine(),this.show(),e()})()})}createEarth(){const e=new I(this.options.earth.radius,50,50),t=new I(this.options.earth.radius+10,60,60),r=new G({color:8519679,transparent:!0,sizeAttenuation:!0,opacity:.1,vertexColors:!1,size:.2}),a=new b(t,r);this.earthGroup.add(a),this.uniforms.map.value=this.options.textures.earth;const o=new Q({uniforms:this.uniforms,vertexShader:"\nvarying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vp;\nvarying vec3 vPositionNormal;\nvoid main(void){\n  vUv = uv;\n  vNormal = normalize( normalMatrix * normal ); // 转换到视图空间\n  vp = position;\n  vPositionNormal = normalize(( modelViewMatrix * vec4(position, 1.0) ).xyz);\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform vec3 glowColor;\nuniform float bias;\nuniform float power;\nuniform float time;\nvarying vec3 vp;\nvarying vec3 vNormal;\nvarying vec3 vPositionNormal;\nuniform float scale;\n// 获取纹理\nuniform sampler2D map;\n// 纹理坐标\nvarying vec2 vUv;\n\nvoid main(void){\n  float a = pow( bias + scale * abs(dot(vNormal, vPositionNormal)), power );\n  if(vp.y > time && vp.y < time + 20.0) {\n    float t =  smoothstep(0.0, 0.8,  (1.0 - abs(0.5 - (vp.y - time) / 20.0)) / 3.0  );\n    gl_FragColor = mix(gl_FragColor, vec4(glowColor, 1.0), t * t );\n  }\n  gl_FragColor = mix(gl_FragColor, vec4( glowColor, 1.0 ), a);\n  float b = 0.8;\n  gl_FragColor = gl_FragColor + texture2D( map, vUv );\n}"});o.needsUpdate=!0,this.earth=new g(e,o),this.earth.name="earth",this.earthGroup.add(this.earth)}createEarthGlow(){const e=this.options.earth.radius,t=this.options.textures.glow,r=new z({map:t,color:4427985,transparent:!0,opacity:.7,depthWrite:!1}),a=new S(r);a.scale.set(3*e,3*e,1),this.earthGroup.add(a)}createEarthAperture(){const e=["varying vec3\tvVertexWorldPosition;","varying vec3\tvVertexNormal;","varying vec4\tvFragColor;","void main(){","\tvVertexNormal\t= normalize(normalMatrix * normal);","\tvVertexWorldPosition\t= (modelMatrix * vec4(position, 1.0)).xyz;","\t// set gl_Position","\tgl_Position\t= projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),t={uniforms:{coeficient:{type:"f",value:1},power:{type:"f",value:3},glowColor:{type:"c",value:new E(4427985)}},vertexShader:e,fragmentShader:["uniform vec3\tglowColor;","uniform float\tcoeficient;","uniform float\tpower;","varying vec3\tvVertexNormal;","varying vec3\tvVertexWorldPosition;","varying vec4\tvFragColor;","void main(){","\tvec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;","\tvec3 viewCameraToVertex\t= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;","\tviewCameraToVertex= normalize(viewCameraToVertex);","\tfloat intensity\t= pow(coeficient + dot(vVertexNormal, viewCameraToVertex), power);","\tgl_FragColor = vec4(glowColor, intensity);","}"].join("\n")},r=new Q({uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,blending:F,transparent:!0,depthWrite:!1}),a=new I(this.options.earth.radius+0,50,50),o=new g(a,r);this.earthGroup.add(o)}async createMarkupPoint(){await Promise.all(this.options.data.map(async e=>{const t=this.options.earth.radius,r=e.startArray.E,a=e.startArray.N;this.punctuationMaterial=new d({color:this.options.punctuation.circleColor,map:this.options.textures.label,transparent:!0,depthWrite:!1});const o=ce({radius:t,lon:r,lat:a,material:this.punctuationMaterial});this.markupPoint.add(o);const n=he({radius:this.options.earth.radius,lon:r,lat:a,index:0,textures:this.options.textures,punctuation:this.options.punctuation});this.markupPoint.add(n);const i=Ae({radius:t,lon:r,lat:a,textures:this.options.textures});this.markupPoint.add(i),this.waveMeshArr.push(i),await Promise.all(e.endArray.map(e=>{const r=e.E,a=e.N,o=ce({radius:t,lon:r,lat:a,material:this.punctuationMaterial});this.markupPoint.add(o);const n=he({radius:this.options.earth.radius,lon:r,lat:a,index:1,textures:this.options.textures,punctuation:this.options.punctuation});this.markupPoint.add(n);const i=Ae({radius:t,lon:r,lat:a,textures:this.options.textures});this.markupPoint.add(i),this.waveMeshArr.push(i)})),this.earthGroup.add(this.markupPoint)}))}createAnimateCircle(){const e=(e=>{const t=[];for(let r=0;r<2*Math.PI-.1;r+=2*Math.PI/e.number)t.push([parseFloat((Math.cos(r)*(e.radius||10)).toFixed(2)),0,parseFloat((Math.sin(r)*(e.radius||10)).toFixed(2))]);return t.push(t[0]),t})({radius:this.options.earth.radius+15,number:150}),t=(e=>{const t=[];e.pointList.forEach(e=>t.push(new p(e[0],e[1],e[2])));const r=new f(t),a=new v(r,e.number||50,e.radius||1,e.radialSegments);return new g(a,e.material)})({pointList:e,material:new d({color:"#0c3172",transparent:!0,opacity:.4,side:m}),number:100,radius:.1});this.earthGroup.add(t);const r=t.clone();r.scale.set(1.2,1.2,1.2),r.rotateZ(Math.PI/6),this.earthGroup.add(r);const a=t.clone();a.scale.set(.8,.8,.8),a.rotateZ(-Math.PI/6),this.earthGroup.add(a);const o=new g(new I(this.options.satellite.size,32,32),new d({color:"#e0b187"})),n=new g(new I(this.options.satellite.size,32,32),new d({color:"#628fbb"})),i=new g(new I(this.options.satellite.size,32,32),new d({color:"#806bdf"}));this.circleLineList.push(t,r,a),o.name=n.name=i.name="卫星";for(let s=0;s<this.options.satellite.number;s++){const i=o.clone(),l=Math.floor(e.length/this.options.satellite.number);i.position.set(1*e[l*(s+1)][0],1*e[l*(s+1)][1],1*e[l*(s+1)][2]),t.add(i);const A=n.clone(),h=Math.floor(e.length/this.options.satellite.number);A.position.set(1*e[h*(s+1)][0],1*e[h*(s+1)][1],1*e[h*(s+1)][2]),r.add(A);const c=n.clone(),u=Math.floor(e.length/this.options.satellite.number);c.position.set(1*e[u*(s+1)][0],1*e[u*(s+1)][1],1*e[u*(s+1)][2]),a.add(c)}}createFlyLine(){this.flyLineArcGroup=new w,this.flyLineArcGroup.userData.flyLineArray=[],this.earthGroup.add(this.flyLineArcGroup),this.options.data.forEach(e=>{e.endArray.forEach(t=>{const r=ue(this.options.earth.radius,e.startArray.E,e.startArray.N,t.E,t.N,this.options.flyLine);this.flyLineArcGroup.add(r),this.flyLineArcGroup.userData.flyLineArray.push(r.userData.flyLine)})})}show(){M.to(this.group.scale,{x:1,y:1,z:1,duration:2,ease:"Quadratic"})}render(){this.flyLineArcGroup?.userData.flyLineArray?.forEach(e=>{e.rotation.z+=this.options.flyLine.speed,e.rotation.z>=e.flyEndAngle&&(e.rotation.z=0)}),this.isRotation&&(this.earthGroup.rotation.y+=this.options.earth.rotateSpeed),this.circleLineList.forEach(e=>{e.rotateY(this.options.satellite.rotateSpeed)}),this.uniforms.time.value=this.uniforms.time.value<-this.timeValue?this.timeValue:this.uniforms.time.value-1,this.waveMeshArr.length&&this.waveMeshArr.forEach(e=>{e.userData.scale+=.007,e.scale.set(e.userData.size*e.userData.scale,e.userData.size*e.userData.scale,e.userData.size*e.userData.scale),e.userData.scale<=1.5?e.material.opacity=2*(e.userData.scale-1):e.userData.scale>1.5&&e.userData.scale<=2?e.material.opacity=1-2*(e.userData.scale-1.5):e.userData.scale=1})}}class de{constructor(e){this.option=e,this.basic=new R(e.dom),this.scene=this.basic.scene,this.renderer=this.basic.renderer,this.controls=this.basic.controls,this.camera=this.basic.camera,this.updateSize(),this.resources=new se(async()=>{await this.createEarth(),this.render()})}async createEarth(e){this.earth=new pe({data:e||this.option.data,dom:this.option.dom,textures:this.resources.textures,earth:{radius:50,rotateSpeed:.002,isRotation:!0},satellite:{show:!0,rotateSpeed:-.01,size:1,number:2},punctuation:{circleColor:3707647,lightColumn:{startColor:14942335,endColor:16777215}},flyLine:{color:15969910,flyLineColor:16742164,speed:.004}}),this.scene.add(this.earth.group),await this.earth.init()}render(){requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera),this.controls&&this.controls.update(),this.earth&&this.earth.render()}updateSize(e,t){let r=e||this.option.width,a=t||this.option.height;r<a?a=r:r=a,this.renderer.setSize(r,a),this.camera.aspect=r/a,this.camera.updateProjectionMatrix()}updateData(e){this.earth.group&&(this.scene.remove(this.earth.group),this.earth.group.traverse(e=>{"Mesh"===e.type&&(e.geometry.dispose(),e.material.dispose())}),this.createEarth(e))}}const me=H({__name:"index",props:{chartConfig:{type:Object,required:!0}},setup(e){const t=e,r=n(),i=L(),{w:s,h:l}=Y(t.chartConfig.attr);let A;const h=e=>{try{A.updateData(e)}catch(t){console.log(t)}};return K(()=>[s.value,l.value],a(([e],[t])=>{A.updateSize(e,t)},100)),K(()=>t.chartConfig.option.dataset,e=>{h(e)},{deep:!1}),k(()=>{try{if(navigator.userAgent.indexOf("Chrome")<-1||navigator.userAgent.indexOf("Edg")<-1)return window.$message.error("三维地图组件仅在【谷歌】浏览器上能正常展示！"),void r.removeComponentList(void 0,!1);(()=>{const e=i.value;e&&(A=new de({dom:e,data:t.chartConfig.option.dataset,width:s.value,height:l.value}))})()}catch(e){console.log(e)}}),o(t.chartConfig,n,h),(e,t)=>(J(),V("div",{ref_key:"chartRef",ref:i},null,512))}}),we=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{we as _};
