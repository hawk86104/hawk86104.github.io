import{P as t}from"./tweakpane.yHWGBmom1726740218347.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.sWTY8Kgg1726740218347.js";import{_ as r}from"./heatmap.js-fix.mpKlGXOy1726740218347.js";import{h as i,Y as s,co as c,_ as u,B as a,s as p}from"./three.MbBECAu81726740218347.js";import{r as f}from"./utils.1Hk3NnjC1726740218347.js";import{d as l}from"./pinia.WcGzyH851726740218347.js";import{b as h,d,a3 as m,o as g,E as y,L as v,u as I,F as b,q as w,V as _,O as j,Q as x,I as D,M as R,a4 as E,r as S,j as A,g as Z,m as M}from"./@vue.JNsx1iN61726740218347.js";import{c as k,d as z,a as B}from"./three-mesh-bvh.AV9Efypw1726740218347.js";import{_ as O}from"./@fesjs.Dr_-7VFL1726740218347.js";import"./@tresjs.C5O8roW51726740218347.js";import"./@vueuse.18lbrd2F1726740218347.js";import"./three-custom-shader-material.hw4Mip3d1726740218347.js";import"./object-hash.rW_XvzOw1726740218347.js";import"./@amap.bfr68PX11726740218347.js";import"./jszip.Axb7QGa61726740218347.js";import"./glsl-tokenizer.37TL9LuE1726740218347.js";import"./glsl-token-string.AVYfh4t_1726740218347.js";import"./glsl-token-functions.cO5bFsqa1726740218347.js";import"./vue-router.PDZMxRoR1726740218347.js";import"./lodash-es.kYt-_xTG1726740218347.js";import"./@qlin.yHhFDldE1726740218347.js";import"./@floating-ui.BPbuo5Gx1726740218347.js";import"./@juggle.7yjBMqoW1726740218347.js";function U(t,n){const e=P();return(U=function(t,n){return e[t-=286]})(t,n)}function P(){const t=["42448HKkALH","setData","499747BFADaT","rgb(255,0,0)","bind",'{}.constructor("return this")( )',"create","prototype","__proto__","exception","init","string","function *\\( *\\)","constructor","height","debu","test","getValueAt","2917986bddpae","2119530ryVcps","4765671aofEFv","heatmap-canvas","apply","3544SInKvl","chain","log","gger","10493cReNRY","display","2146374ltbwHy","yellow","action","_config","appendChild","createElement","stateObject","position","error","toString","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","push","input","10wvuipx","while (true) {}","counter","width","style","top","40EmXiBe","info","body","console","none","randInt"];return(P=function(){return t})()}!function(t,n){const e=U,o=P();for(;;)try{if(636701===-parseInt(e(335))/1+parseInt(e(296))/2+-parseInt(e(306))/3+parseInt(e(333))/4*(parseInt(e(327))/5)+-parseInt(e(295))/6+parseInt(e(304))/7*(parseInt(e(300))/8)+parseInt(e(297))/9*(parseInt(e(321))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(299)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=U,n=new RegExp(t(289)),e=new RegExp(t(317),"i"),o=F(t(287));n[t(293)](o+t(301))&&e[t(293)](o+t(320))?F():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(299)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();$(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function("return (function() "+t(338)+");")()}catch(e){n=window}return n}(),e=n[t(330)]=n[t(330)]||{},o=[t(302),"warn",t(328),t(314),t(286),t(316),t(318)];for(let r=0;r<o.length;r++){const n=$[t(290)][t(340)][t(337)]($),i=o[r],s=e[i]||n;n[t(341)]=$.bind($),n.toString=s[t(315)].bind(s),e[i]=n}}))();const C=(t,n)=>t[U(294)](n)+-10;function F(t){function n(t){const e=U;if(typeof t===e(288))return function(t){}[e(290)](e(322))[e(299)](e(323));1!==(""+t/t).length||t%20==0?function(){return!0}[e(290)](e(292)+e(303)).call(e(308)):function(){return!1}[e(290)](e(292)+e(303))[e(299)](e(312)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function L(){const t=["4231860zlTcRK","constructor","input","1KHdygC","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","call","507ooWuCX","64qXbkQN","7356ZQCqjA","table",'{}.constructor("return this")( )',"4nvWUhQ","exception","string","842230fBCZhk","stateObject","error","trace","bind","634060mMHzsZ","console","length","gger","action","value","buildingsHeatmap","apply","debu","test","11dURzlk","info","toString","chain","2035sYIRKB","732361sLlYyE","while (true) {}","18SbpAmg","return (function() ","init","function *\\( *\\)","__proto__","438357VIGMnD","22430bsIpaI"];return(L=function(){return t})()}const V=q;!function(t,n){const e=q,o=L();for(;;)try{if(503517===-parseInt(e(267))/1*(parseInt(e(279))/2)+parseInt(e(262))/3*(parseInt(e(276))/4)+parseInt(e(254))/5*(-parseInt(e(273))/6)+parseInt(e(255))/7*(-parseInt(e(272))/8)+parseInt(e(257))/9*(-parseInt(e(263))/10)+parseInt(e(294))/11*(parseInt(e(264))/12)+parseInt(e(271))/13*(parseInt(e(284))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(291)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=q,n=new RegExp(t(260)),e=new RegExp(t(268),"i"),o=X(t(259));n[t(293)](o+t(253))&&e[t(293)](o+t(266))?X():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(291)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=L();return(q=function(t,n){return e[t-=251]})(t,n)}Y(void 0,(function(){const t=q;let n;try{n=Function(t(258)+t(275)+");")()}catch(r){n=window}const e=n.console=n[t(285)]||{},o=["log","warn",t(251),t(281),t(277),t(274),t(282)];for(let i=0;i<o[t(286)];i++){const n=Y.constructor[t(269)][t(283)](Y),r=o[i],s=e[r]||n;n[t(261)]=Y[t(283)](Y),n[t(252)]=s.toString[t(283)](s),e[r]=n}}))();const H=l(V(290),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[q(289)]=n},setTemperature:function(t){n[q(289)]=t}}}));function X(t){function n(t){const e=q;if(typeof t===e(278))return function(t){}.constructor(e(256))[e(291)]("counter");1!==(""+t/t)[e(286)]||t%20==0?function(){return!0}.constructor(e(292)+e(287))[e(270)](e(288)):function(){return!1}[e(265)](e(292)+e(287))[e(291)](e(280)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=tt;!function(t,n){const e=tt,o=et();for(;;)try{if(197589===-parseInt(e(455))/1*(parseInt(e(436))/2)+-parseInt(e(459))/3*(parseInt(e(433))/4)+parseInt(e(400))/5+-parseInt(e(410))/6+-parseInt(e(456))/7*(parseInt(e(401))/8)+-parseInt(e(458))/9*(parseInt(e(446))/10)+parseInt(e(447))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=tt,n=new RegExp(t(445)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ot(t(444));n[t(425)](o+"chain")&&e[t(425)](o+t(460))?ot():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=tt;let n;try{n=Function(t(450)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(415)]=n[t(415)]||{},o=[t(439),t(423),t(442),"error",t(426),t(404),t(449)];for(let i=0;i<o[t(461)];i++){const n=Q.constructor[t(427)][t(406)](Q),r=o[i],s=e[r]||n;n[t(414)]=Q[t(406)](Q),n[t(463)]=s[t(463)].bind(s),e[r]=n}}))();const G=[J(418),J(464)],W=[J(418)];function tt(t,n){const e=et();return(tt=function(t,n){return e[t-=400]})(t,n)}const nt=d({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=J;(()=>{const t=tt;u[t(411)][t(427)][t(457)]=k,a[t(427)][t(403)]=z,p.prototype.raycast=B})();const e=t,o=((t=250,n=250,e=!0)=>{const o=U,i=document[o(311)](o(298));return i[o(325)][o(313)]="absolute",!e&&(i[o(325)][o(305)]=o(331)),i[o(325)][o(326)]="0",i[o(325)].left="0",document[o(329)][o(310)](i),r[o(339)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:o(307),1:o(336)}})})();((t,n)=>{const e=U;if(!n){let o=0;for(n=[];o<1e3;)n[e(319)]({x:i[e(332)](1,t._config[e(324)]),y:i[e(332)](1,t[e(309)][e(291)]),value:i[e(332)](-10,36)}),o++}t[e(334)]({max:36,min:-10,data:n})})(o);const l=new s(o[n(402)][n(408)]);l.needsUpdate=!0;const h=e[n(412)][n(424)].clone();delete h.geometry.attributes.normal,delete h[n(428)][n(416)].uv;const d=h[n(428)][n(443)]()[n(405)](h.matrix),w=e[n(412)][n(437)].clone();delete w[n(428)].attributes.normal;const _=w[n(428)][n(443)]()[n(405)](w[n(448)]),j=c([d,_]);j[n(405)]((new(u[n(454)]))[n(421)](Math.PI/2)),f(j),j[n(457)]();const x=(t=>{const o=n;return new(u[o(438)])({vertexShader:o(430),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(451)]})})(l),D=new(u[n(440)])(j,x);m((()=>{const t=n;e[t(409)]&&(x.uniforms[t(420)][t(413)]=e[t(409)])}));const R=H(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(453)][e(417)],y:(1-t.uv.y)*o[e(453)].height};console[e(439)](e(465),t),console.log(e(452),C(o,n)),R.setTemperature(C(o,n))}},S=t=>{t&&R[n(422)]({showDiv:!0})},A=t=>{t&&R.setShowDiv(!1)};return(t,o)=>{const r=n;return g(),y(b,null,[v(r(407),{object:I(D),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:S,onPointerLeave:A},null,40,G),v(r(407),{object:e[r(412)].model[r(429)][0][r(443)]()},null,8,W)],64)}}});function et(){const t=["table","applyMatrix4","bind","primitive","canvas","opacity","1498962rfduys","BufferGeometry","model","value","__proto__","console","attributes","width","object","stateObject","uOpacity","makeRotationX","$patch","warn","city","test","exception","prototype","geometry","children","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","string","apply","32itqnqf","while (true) {}","debu","2oxDAph","land","ShaderMaterial","log","Mesh","action","info","clone","init","function *\\( *\\)","1394480XNCGpK","8541280irJNtA","matrix","trace","return (function() ","DoubleSide","数值———：","_config","Matrix4","289887PPTnnm","91JOTjYi","computeBoundsTree","18kjNuuD","210JFjIbr","input","length","call","toString","rotation-x","数值：","constructor","counter","1324180KRdhct","15112wlDZdO","_renderer","disposeBoundsTree"];return(et=function(){return t})()}function ot(t){function n(t){const e=tt;if(typeof t===e(431))return function(t){}[e(466)](e(434))[e(432)](e(467));1!==(""+t/t)[e(461)]||t%20==0?function(){return!0}[e(466)](e(435)+"gger")[e(462)](e(441)):function(){return!1}.constructor("debugger")[e(432)](e(419)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=O({__name:"dataDiv",setup(t){const n=H(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:R(e.value)},"温度："+D(I(n).temperature)+"℃ ",5)),[[x,I(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=at;!function(t,n){const e=at,o=ut();for(;;)try{if(754134===-parseInt(e(296))/1+parseInt(e(317))/2*(parseInt(e(308))/3)+-parseInt(e(307))/4*(parseInt(e(315))/5)+parseInt(e(311))/6+-parseInt(e(309))/7+parseInt(e(325))/8*(-parseInt(e(322))/9)+-parseInt(e(335))/10*(-parseInt(e(326))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(314)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){st(this,(function(){const t=at,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(324),"i"),o=ft(t(334));n[t(302)](o+t(295))&&e.test(o+"input")?ft():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(314)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(){const t=["透明度","3158778UZRehT","return (function() ","bind","apply","3310hdyZyq","opacity","1778974BrpEEj","log","addBinding","__proto__","table","9UYYLdB","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","10926248cGSBbJ","38027RjuDeC","value","builds","model","exception","city","heatmap2","length","init","11910IUAfeL","warn",'{}.constructor("return this")( )',"chain","1458403DLtwJX","console","info","debu","constructor","gger","test","prototype","stateObject","call","toString","5308ZViPnD","3VDKVDw","7535115WOuwVd"];return(ut=function(){return t})()}function at(t,n){const e=ut();return(at=function(t,n){return e[t-=294]})(t,n)}ct(void 0,(function(){const t=at,n=function(){const t=at;let n;try{n=Function(t(312)+t(294)+");")()}catch(e){n=window}return n}(),e=n[t(297)]=n[t(297)]||{},o=[t(318),t(336),t(298),"error",t(330),t(321),"trace"];for(let r=0;r<o[t(333)];r++){const n=ct[t(300)][t(303)][t(313)](ct),i=o[r],s=e[i]||n;n[t(320)]=ct[t(313)](ct),n[t(306)]=s[t(306)][t(313)](s),e[i]=n}}))();const pt=d({__name:it(332),async setup(r){const i=it;let s,c;const u=h(!1),a=([s,c]=E((()=>o())),s=await s,c(),s);u[i(327)]=!0;const p=S({width:1,color:"#000",opacity:1,show:!0}),f=S({opacity:.9});return new t({title:"参数",expanded:!0})[i(319)](f,i(316),{label:i(310),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(b,null,[A(e,{showBuildings:!1,autoRotate:!1},{ability:Z((()=>[A(nt,M({model:I(a)},f),null,16,[r(329)]),A(n,M(p,{builds:I(a)[r(331)]}),null,16,[r(328)])])),_:1}),A(rt)],64)}}});function ft(t){function n(t){const e=at;if("string"==typeof t)return function(t){}[e(300)](e(323))[e(314)]("counter");1!==(""+t/t)[e(333)]||t%20==0?function(){return!0}.constructor(e(299)+e(301))[e(305)]("action"):function(){return!1}[e(300)](e(299)+e(301))[e(314)](e(304)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
