import{a as t,r as n,$ as e,d as r}from"./@tresjs.aawOCoPx1718698100638.js";import{_ as o}from"./index.zufnDZCk1718698100638.js";import{a as s}from"./index.eYkSz4SJ1718698100638.js";import{a6 as i,a5 as c,M as a,V as u,cA as l}from"./three.erXpfL-r1718698100638.js";import{P as p}from"./tweakpane.qqn77PB81718698100638.js";import{I as f,C as g,N as h,c as m,d,a as y}from"./three-mesh-bvh.TtuCaJyf1718698100638.js";import{d as w,a3 as j,b as I,a2 as b,o as v,D as _,J as x,u as A,F as C,r as M,e as S,j as T,g as z,m as k,f as O,al as R}from"./@vue.CpOXM7bB1718698100638.js";import"./@vueuse.TW6-TkVF1718698100638.js";import"./default.vue_vue_type_script_setup_true_lang.VZrRZxph1718698100638.js";import"./@fesjs.IcRnDBLi1718698100638.js";import"./vue-router.hw3iClIt1718698100638.js";import"./lodash-es.nFpJXAf-1718698100638.js";import"./@qlin.yHhFDldE1718698100638.js";import"./pinia.3_1_BhfV1718698100638.js";import"./@floating-ui.BPbuo5Gx1718698100638.js";import"./@juggle.7yjBMqoW1718698100638.js";import"./three-stdlib.Jy3o-bPq1718698100638.js";import"./@pmndrs.ZdH7ThqA1718698100638.js";import"./object-hash.SpRbwitp1718698100638.js";import"./@amap.TW6HTmRb1718698100638.js";import"./jszip.KspeudHJ1718698100638.js";function B(t,n){const e=Z();return(B=function(t,n){return e[t-=464]})(t,n)}!function(t,n){const e=B,r=Z();for(;;)try{if(828685===-parseInt(e(467))/1+-parseInt(e(469))/2*(-parseInt(e(485))/3)+-parseInt(e(512))/4*(-parseInt(e(484))/5)+parseInt(e(503))/6*(-parseInt(e(504))/7)+parseInt(e(466))/8*(-parseInt(e(505))/9)+parseInt(e(481))/10*(parseInt(e(501))/11)+-parseInt(e(516))/12*(parseInt(e(515))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(477)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(478),"i"),r=Y(t(494));n.test(r+t(475))&&e[t(472)](r+t(506))?Y():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(477)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Z(){const t=["pointermove","info","init","while (true) {}","gger","warn","exception","constructor","toString","44awUcvS","counter","6ngScoC","4919579hhRMuV","5786442OVXaqs","input","pointerType","log","stateObject","pointerup",'{}.constructor("return this")( )',"64iCYEko","button","clientY","3337503Ofvscs","24TtFCzY","bind","prototype","8UOSAFo","1114898zEWpqP","intersectObject","32OKpzoZ","action","value","test","setFromCamera","error","chain","pointerdown","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","firstHitOnly","3729950BGBlqQ","innerWidth","call","476660nactUB","147279wJWbMo","console","length","clientX","addEventListener","string","table"];return(Z=function(){return t})()}F(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function("return (function() "+t(511)+");")()}catch(e){n=window}return n}(),e=n[t(486)]=n[t(486)]||{},r=[t(508),t(497),t(493),t(474),t(498),t(491),"trace"];for(let o=0;o<r[t(487)];o++){const n=F.constructor[t(465)][t(464)](F),s=r[o],i=e[s]||n;n.__proto__=F[t(464)](F),n[t(500)]=i[t(500)][t(464)](i),e[s]=n}}))();function Y(t){function n(t){const e=B;if(typeof t===e(490))return function(t){}[e(499)](e(495)).apply(e(502));1!==(""+t/t)[e(487)]||t%20==0?function(){return!0}[e(499)](e(479)+e(496))[e(483)](e(470)):function(){return!1}[e(499)](e(479)+e(496))[e(477)](e(509)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=W;!function(t,n){const e=W,r=K();for(;;)try{if(508131===-parseInt(e(375))/1*(-parseInt(e(314))/2)+-parseInt(e(333))/3+parseInt(e(318))/4*(parseInt(e(319))/5)+parseInt(e(307))/6*(parseInt(e(337))/7)+-parseInt(e(353))/8*(-parseInt(e(339))/9)+-parseInt(e(369))/10*(parseInt(e(374))/11)+parseInt(e(342))/12*(parseInt(e(352))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=W,n=new RegExp(t(351)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=H("init");n[t(298)](r+"chain")&&e[t(298)](r+t(338))?H():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(371)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();X(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(294)+t(325)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(360)]||{},r=[t(355),t(295),t(372),"error",t(322),t(304),t(373)];for(let o=0;o<r[t(306)];o++){const n=X.constructor[t(362)][t(328)](X),s=r[o],i=e[s]||n;n.__proto__=X[t(328)](X),n[t(346)]=i[t(346)].bind(i),e[s]=n}}))();const $=[P(370),P(380)],V=[x(P(363),{args:[1,40,40]},null,-1),x(P(327),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],q=["geometry"],G=[x("TresMeshStandardMaterial",{color:P(354),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function K(){const t=["Mesh","visible","console","normal","prototype","TresSphereGeometry","active","enabled","getZ","point","DynamicDrawUsage","5883310afVNZT","geometry","apply","info","trace","11ZMYESv","148819CjkhCl","call","while (true) {}","getX","controls","material","applyMatrix4","index","点击按钮","return (function() ","warn","stateObject","needsUpdate","test","raycast","setAttribute","Vector2","invert","MeshStandardMaterial","table","computeBoundsTree","length","6mOvhqW","debu","brushMesh","position","gger","containsPoint","setUsage","2wsjRjK","push","setX","counter","556vIQyhz","1035CugrAD","disposeBoundsTree","constructor","exception","BufferGeometry","intersectsBox",'{}.constructor("return this")( )',"BufferAttribute","TresMeshStandardMaterial","bind","shapecast","model","count","value","1733781yhntrR","radius","copy","targetMesh","3458819FVgEFG","input","9CXdLAs","matrixWorld","生成模型","4211292xPRjvp","Sphere","scale","attributes","toString","TresMesh","intersectsSphere","setScalar","click","function *\\( *\\)","13fjipGR","5213912MktbsP","#023249","log","intersectObject","targetMesh.value init"];return(K=function(){return t})()}function W(t,n){const e=K();return(W=function(t,n){return e[t-=291]})(t,n)}const D=w({__name:P(330),props:{controls:{}},async setup(r){const o=P;let s,w;const M=r;(()=>{const t=W;c[t(323)][t(362)][t(305)]=m,c[t(323)].prototype[t(320)]=d,c[t(358)][t(362)][t(299)]=y})();const S=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),T=new(c[o(303)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),z=new Uint8Array(3*S[o(345)].position[o(331)]);z.fill(255);const k=new(c[o(326)])(z,3,!0);k[o(313)](c[o(368)]),S[o(300)]("color",k);const O=I(null),R=I(null),E=I(!1),F=I(-1),Z=I(.2),Y=new(c[o(301)]),{camera:U,raycaster:X}=t(),K=15/255,D=78/255,H=85/255;let J=null;b((()=>{const t=o;O.value&&(console[t(355)](t(357),O.value),O.value[t(370)][t(305)](),J=S.boundsTree,((t,n,e,r,o,s)=>{const c=B;window[c(489)](c(492),(e=>{const r=c;t.x=e[r(488)]/window[r(482)]*2-1,t.y=-e[r(514)]/window.innerHeight*2+1,n.value=!0})),window[c(489)](c(476),(a=>{const u=c;t.x=a[u(488)]/window[u(482)]*2-1,t.y=-a.clientY/window.innerHeight*2+1,r[u(471)]=a[u(513)];const l=new i;l[u(473)](t,e[u(471)]),l[u(480)]=!0;const p=l[u(468)](o[u(471)],!0);n.value=!0,s.enabled=0===p[u(487)]}),!0),window[c(489)](c(510),(t=>{const e=c;r[e(471)]=-1,"touch"===t[e(507)]&&(n[e(471)]=!1)}),!0)})(Y,E,U,F,O,M[t(379)].value))}));const{onLoop:L}=n();L((()=>{const t=o,n=S[t(292)];if(R[t(332)])if(M[t(379)][t(332)][t(364)]||!E.value)R[t(332)][t(359)]=!1;else{R[t(332)][t(344)][t(349)](Z[t(332)]),X.value.setFromCamera(Y,U[t(332)]),X[t(332)].firstHitOnly=!0;const e=X[t(332)][t(356)](O[t(332)],!0);if(e[t(306)]){R.value[t(310)][t(335)](e[0][t(367)]),M[t(379)][t(332)][t(365)]=!1,R[t(332)][t(359)]=!0;const r=new a;r[t(335)](O[t(332)][t(340)])[t(302)]();const o=new(c[t(343)]);o.center[t(335)](R[t(332)].position)[t(291)](r),o[t(334)]=100*Z[t(332)];const s=[],i=new u;if(null==J||J[t(329)]({intersectsBounds:n=>{const e=t,r=o[e(324)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i.set(0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(312)](i))return f;return g}return r?f:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(348)](o)){const t=3*e;s[i(315)](t,t+1,t+2)}return!1}}),0===F[t(332)]||2===F.value){let e=1,r=1,o=1;0===F[t(332)]&&(e=K,r=D,o=H);for(let i=0,c=s[t(306)];i<c;i++){const c=n.getX(s[i]);k[t(316)](c,e),k.setY(c,r),k.setZ(c,o)}k[t(297)]=!0}}else R[t(332)][t(359)]=!1,M[t(379)][t(332)].enabled=!0}}));const N=(new p).addButton({title:o(293),label:o(341)}),Q=new(c[o(323)]);return N.on(o(350),(()=>{const t=o,n=[],e=[];for(let o=0;o<k[t(331)];o++)k[t(378)](o)===K&&k.getY(o)===D&&k[t(366)](o)===H&&(n[t(315)](S[t(345)].position[t(378)](o),S[t(345)].position.getY(o),S[t(345)].position[t(366)](o)),e.push(S.attributes[t(361)][t(378)](o),S[t(345)][t(361)].getY(o),S[t(345)].normal[t(366)](o)));const r=new Float32Array(n);Q[t(300)](t(310),new(c[t(326)])(r,3)),Q[t(300)]("normal",new(c[t(326)])(r,3))})),(t,n)=>{const e=o;return v(),_(C,null,[x(e(347),{ref_key:e(336),ref:O,geometry:A(S),scale:.005,material:A(T)},null,8,$),x(e(347),{ref_key:e(309),ref:R,visible:!1},V,512),x(e(347),{geometry:A(Q),position:[-2,-2,2],scale:.005},G,8,q)],64)}}});function H(t){function n(t){const e=W;if("string"==typeof t)return function(t){}[e(321)](e(377)).apply(e(317));1!==(""+t/t)[e(306)]||t%20==0?function(){return!0}[e(321)]("debu"+e(311))[e(376)]("action"):function(){return!1}[e(321)](e(308)+"gger").apply(e(296)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=N;!function(t,n){const e=N,r=tt();for(;;)try{if(660263===-parseInt(e(371))/1*(parseInt(e(360))/2)+-parseInt(e(396))/3*(parseInt(e(366))/4)+-parseInt(e(397))/5+parseInt(e(359))/6+parseInt(e(411))/7+parseInt(e(414))/8*(-parseInt(e(401))/9)+-parseInt(e(379))/10*(-parseInt(e(393))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(361)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(t,n){const e=tt();return(N=function(t,n){return e[t-=359]})(t,n)}!function(){L(this,(function(){const t=N,n=new RegExp(t(404)),e=new RegExp(t(364),"i"),r=ot(t(399));n[t(385)](r+t(375))&&e[t(385)](r+t(391))?ot():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function tt(){const t=["log","call","test","gger","TresCanvas","neg-x.jpg","pos-z.jpg","counter","input","warn","198YmYIIs","pos-y.jpg","debu","3459972jAtApK","2261220reCdXZ","TresPerspectiveCamera","init","length","9IJaKAI","value","error","function *\\( *\\)","console","stateObject","table","neg-y.jpg","while (true) {}","action","2280985TSmPgf","collectTriangles","bind","898088mkIgcU","7453590fdlXKC","769412VumgPf","apply","controlsRef","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","4SKBOza","#999999","return (function() ","constructor","neg-z.jpg","1pSokTE","pos-x.jpg","trace","files","chain","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","toString","TresAmbientLight","663710alGwtO",'{}.constructor("return this")( )',"info","controls"];return(tt=function(){return t})()}Q(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function(t(368)+t(380)+");")()}catch(e){n=window}return n}(),e=n[t(405)]=n[t(405)]||{},r=[t(383),t(392),t(381),t(403),t(365),t(407),t(373)];for(let o=0;o<r[t(400)];o++){const n=Q[t(369)].prototype.bind(Q),s=r[o],i=e[s]||n;n.__proto__=Q[t(413)](Q),n[t(377)]=i.toString[t(413)](i),e[s]=n}}))();const nt=x(J(398),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),et=x(J(378),{intensity:1},null,-1),rt=w({__name:J(412),setup(t){const n=J,e=M({clearColor:n(367),antialias:!0}),i=M({autoRotate:!1}),c=I(null);return(t,a)=>{const u=n,l=S(u(387));return v(),_(C,null,[T(A(o)),T(l,k(e,{"window-size":""}),{default:z((()=>[nt,T(A(r),k({ref_key:u(362),ref:c},i),null,16),et,(v(),O(R,null,{default:z((()=>[T(D,{controls:c[u(402)]},null,8,[u(382)])])),_:1})),(v(),O(R,null,{default:z((()=>[T(A(s),{background:!1,files:[u(372),u(388),u(394),u(408),u(389),u(370)],path:u(376)},null,8,[u(374)])])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=N;if(typeof t===e(363))return function(t){}[e(369)](e(409)).apply(e(390));1!==(""+t/t)[e(400)]||t%20==0?function(){return!0}[e(369)](e(395)+e(386))[e(384)](e(410)):function(){return!1}[e(369)](e(395)+e(386))[e(361)](e(406)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
