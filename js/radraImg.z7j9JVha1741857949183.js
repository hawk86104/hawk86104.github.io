import{a as t,m as n,o as e}from"./@tresjs.8SAr0PX_1741857949183.js";import{_ as o,b as r}from"./three.Gi_-4zeu1741857949183.js";import{_ as i,h as s}from"./three-tile.BR1Hgr_Q1741857949183.js";import{s as a,c,_ as u}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.fI0WncLg1741857949183.js";import{d as p,a3 as l,w as f,o as m,H as h,N as g,u as d,r as y,b as w,f as I,g as _,j as b,m as x,al as j,F as v,e as S,aj as T,ak as M}from"./@vue.NRI7TcgI1741857949183.js";import{P as z}from"./tweakpane.yDiyAAkA1741857949183.js";import{_ as D}from"./informationDiv.7n7GcOQ21741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./@fesjs._GqZBaJ41741857949183.js";import"./vue-router.vV-TPEpQ1741857949183.js";import"./lodash-es.pklfUAS51741857949183.js";import"./@qlin.yHhFDldE1741857949183.js";import"./pinia.m-1lhBPB1741857949183.js";import"./@floating-ui.BPbuo5Gx1741857949183.js";import"./@juggle.7yjBMqoW1741857949183.js";const k=Z;!function(t,n){const e=Z,o=F();for(;;)try{if(474244===parseInt(e(192))/1*(parseInt(e(224))/2)+-parseInt(e(206))/3*(parseInt(e(211))/4)+-parseInt(e(179))/5*(parseInt(e(188))/6)+-parseInt(e(230))/7+-parseInt(e(215))/8+-parseInt(e(186))/9+parseInt(e(237))/10*(parseInt(e(196))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(223)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=Z,n=new RegExp(t(235)),e=new RegExp(t(207),"i"),o=A(t(229));n[t(182)](o+t(191))&&e.test(o+t(219))?A():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(223)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(t,n){const e=F();return(Z=function(t,n){return e[t-=177]})(t,n)}P(void 0,(function(){const t=Z;let n;try{n=Function(t(221)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(216)]=n.console||{},o=[t(205),t(184),"info",t(190),t(198),t(233),t(178)];for(let i=0;i<o[t(189)];i++){const n=P[t(234)][t(195)].bind(P),r=o[i],s=e[r]||n;n[t(217)]=P[t(238)](P),n[t(213)]=s.toString[t(238)](s),e[r]=n}}))();const L=[k(185)],B=["scale",k(208),k(181),"position-y"];function F(){const t=["push","apply","364454qMJJlJ","debu","onBeforeCompile","radraImgShow","TresGroup","init","3163825myZfxJ","replace","uniform sampler2D map;\n\t","table","constructor","function *\\( *\\)","color","3930laaZtn","bind","opacity","stateObject","trace","55NsjTkx","needsUpdate","rotateX","test","height","warn","position","4788963msrvct","action","102462NucxOE","length","error","chain","1LaPDLr","while (true) {}","map","prototype","65934dlFRcs","geo2pos","exception","TresMesh","applyMatrix4","DoubleSide","40.png","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","gger","log","6tpneMw","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","material","vertexShader","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","1362076mSwVNt","#include <displacementmap_vertex>","toString","Texture","1685264OvIRYZ","console","__proto__","TresPlaneGeometry","input","MeshPhongMaterial","return (function() "];return(F=function(){return t})()}const R=p({__name:k(227),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=k;let i,s;const c=n,u=new(o[e(220)])({displacementMap:new(o[e(214)]),transparent:!0,side:o[e(201)],opacity:c[e(239)],displacementScale:.5,displacementBias:0});u[e(226)]=t=>{const n=e;t.vertexShader=n(232)+t.vertexShader,t[n(209)]=t[n(209)][n(231)](n(212),n(203))};const p=c.map[e(197)](new r(105,34,0));p[e(200)](c.map.matrix);const y=a(c.map,{x:67,y:11},{x:140,y:57},c[e(183)]),w=[];for(let t=0;t<9;t++)w[e(222)](e(210)+t+e(202));let I=0;const _=([i,s]=l((()=>t(w))),i=await i,s(),i);u[e(194)]=_[I],f((()=>[c[e(236)],c[e(239)]]),(([t,n])=>{u[e(239)]=n}));let b=null,x=!1;return x?(clearInterval(b),b=null,x=!1):(b=setInterval((()=>{const t=Z;I=I<w[t(189)]-1?I+1:0,u[t(194)]=_[I],u[t(180)]=!0,console[t(205)](I)}),1e3),x=!0),(t,n)=>{const o=e;return m(),h(o(228),{position:[...d(p)]},[g(o(199),{scale:[d(y).x,d(y).y,t[o(183)]],material:d(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(183)]/5},n[0]||(n[0]=[g(o(218),{args:[1,1,529,420]},null,-1)]),8,B)],8,L)}}});function A(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}.constructor(e(193)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(234)](e(225)+e(204)).call(e(187)):function(){return!1}[e(234)](e(225)+e(204)).apply(e(177)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=G;!function(t,n){const e=G,o=H();for(;;)try{if(668428===-parseInt(e(464))/1*(-parseInt(e(425))/2)+parseInt(e(433))/3+-parseInt(e(420))/4+-parseInt(e(442))/5+parseInt(e(431))/6+parseInt(e(454))/7*(-parseInt(e(422))/8)+parseInt(e(409))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(458)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=G,n=new RegExp(t(441)),e=new RegExp(t(460),"i"),o=J(t(407));n[t(439)](o+t(453))&&e[t(439)](o+t(430))?J():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(458)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();W(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(429)+t(435)+");")()}catch(e){n=window}return n}(),e=n[t(437)]=n[t(437)]||{},o=[t(410),"warn",t(456),t(405),t(457),t(455),t(445)];for(let r=0;r<o[t(440)];r++){const n=W[t(428)][t(446)][t(418)](W),i=o[r],s=e[i]||n;n.__proto__=W[t(418)](W),n[t(415)]=s.toString[t(418)](s),e[i]=n}}))();const C=["object"];function H(){const t=["localToWorld","toString","gger","debu","bind","domElement","3815044mzQMwH","height","456lsOUFX","opacity","透明度","145884QwBKWw","showLocation","value","constructor","return (function() ","input","719862CoPgxK","TileMap","564483PEWLQh","string",'{}.constructor("return this")( )',"addBinding","console","target","test","length","function *\\( *\\)","1600355hVDpfy","primitive","mapbox.satellite","trace","prototype","position","MapBoxSource","while (true) {}","image","Vector3","map","chain","35441XRSHKe","table","info","exception","apply","rotateX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","GDSource","tdLight","counter","16MoEqLH","mapBoxShow3","mapbox.terrain-rgb","error","terrain-rgb","init","plugin","6800769TSESdf","log","call","action","copy"];return(H=function(){return t})()}const Q="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",X=p({__name:N(403),setup(t){const e=N,r=y({height:200,opacity:1}),a=new z({title:"参数"});a[e(436)](r,e(421),{label:"高度",min:10,max:300,step:1}),a.addBinding(r,e(423),{label:e(424),min:0,max:1,step:.1}),new(i[e(408)][e(448)])({token:Q,dataType:e(450),style:e(444)});const p=new(i[e(408)][e(448)])({token:Q,dataType:e(406),style:e(404),maxLevel:15}),l=new(i[e(432)])({imgSource:[new(i[e(408)][e(461)])({style:"6"}),new(s[e(461)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});l[e(459)](-Math.PI/2);const S=new(o[e(451)])(105,34,0),T=new(o[e(451)])(110,0,1e4),M=l[e(414)](l.geo2pos(S)),D=l.localToWorld(l.geo2pos(T)),k=w(),{camera:E,controls:P,scene:Z,renderer:L}=n();return E[e(427)]&&E[e(427)][e(447)][e(413)](D),f((()=>P[e(427)]),(t=>{const n=e;t&&(t[n(438)].copy(M),c(t,E[n(427)],Z[n(427)]))})),f((()=>k[e(427)]),(t=>{const n=e;t&&t[n(438)][n(447)].copy(M)})),u[e(426)](E[e(427)],L[e(427)][e(419)],l),(t,n)=>{const o=e;return m(),h(v,null,[g("TresDirectionalLight",{ref_key:o(462),ref:k,position:[0,2e3,1e3],intensity:1},null,512),g(o(443),{object:d(l)},null,8,C),(m(),I(j,null,{default:_((()=>[b(R,x({map:d(l)},r),null,16,[o(452)])])),_:1}))],64)}}});function G(t,n){const e=H();return(G=function(t,n){return e[t-=403]})(t,n)}function J(t){function n(t){const e=G;if(typeof t===e(434))return function(t){}[e(428)](e(449))[e(458)](e(463));1!==(""+t/t).length||t%20==0?function(){return!0}[e(428)]("debu"+e(416))[e(411)](e(412)):function(){return!1}[e(428)](e(417)+e(416))[e(458)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=q;!function(t,n){const e=q,o=U();for(;;)try{if(805518===-parseInt(e(225))/1*(parseInt(e(208))/2)+-parseInt(e(205))/3*(parseInt(e(221))/4)+-parseInt(e(201))/5*(-parseInt(e(215))/6)+parseInt(e(218))/7*(parseInt(e(199))/8)+parseInt(e(224))/9+parseInt(e(196))/10+-parseInt(e(222))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(214)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=U();return(q=function(t,n){return e[t-=193]})(t,n)}!function(){$(this,(function(){const t=q,n=new RegExp(t(211)),e=new RegExp(t(217),"i"),o=tt(t(207));n.test(o+"chain")&&e[t(227)](o+t(223))?tt():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(214)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["function *\\( *\\)","constructor","length","apply","3002334wEilhs","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4735955VxzhgT","return (function() ","bind","911576zmhJzp","4874111Vavdsa","input","12382011wNCudi","1aCpVWg","error","test","TresPerspectiveCamera","prototype","log","gger","#dbf0ff","console","1550310PxZewe","call","trace","16wYzMQZ","radraImg","5KYoDIT","info","stateObject","TresAmbientLight","9OXUhHN","highp","init","2904056KZqXSf","string","debu"];return(U=function(){return t})()}K(void 0,(function(){const t=q;let n;try{n=Function(t(219)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(195)]=n[t(195)]||{},o=[t(230),t(216),t(202),t(226),"exception","table",t(198)];for(let i=0;i<o[t(213)];i++){const n=K.constructor[t(229)][t(220)](K),r=o[i],s=e[r]||n;n.__proto__=K.bind(K),n.toString=s.toString[t(220)](s),e[r]=n}}))();const Y=p({__name:V(200),setup(t){const n=V,o=y({clearColor:n(194),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(206)}),r=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,a=S("TresCanvas");return m(),h(v,null,[b(a,x(o,{"window-size":""}),{default:_((()=>[i[0]||(i[0]=g(s(228),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(d(e),T(M(r)),null,16),i[1]||(i[1]=g(s(204),{intensity:1},null,-1)),b(X)])),_:1},16),b(D)],64)}}});function tt(t){function n(t){const e=q;if(typeof t===e(209))return function(t){}[e(212)]("while (true) {}")[e(214)]("counter");1!==(""+t/t)[e(213)]||t%20==0?function(){return!0}[e(212)](e(210)+"gger")[e(197)]("action"):function(){return!1}[e(212)](e(210)+e(193))[e(214)](e(203)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
