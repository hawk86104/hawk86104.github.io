{"version":3,"file":"displace.vue_vue_type_script_setup_true_lang.DClcUU_f1767105581793.js","sources":["../../src/plugins/basic/components/forCientos/LayerMaterial/material.ts","../../src/plugins/basic/components/forCientos/LayerMaterial/component.vue","../../src/plugins/basic/components/forCientos/LayerMaterial/color.vue","../../src/plugins/basic/components/forCientos/LayerMaterial/depth.vue"],"sourcesContent":["/*\n * @Description:\n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-04-03 16:58:21\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-17 16:55:03\n */\nimport { LayerMaterial, Depth, Color, Fresnel, Gradient, Noise, Matcap, Texture, Displace, Normal } from 'lamina/vanilla'\n\ntype LayerMaterialParameters = any\ntype ColorProps = any\ntype DepthProps = any\ntype FresnelProps = any\ntype GradientProps = any\ntype NoiseProps = any\ntype MatcapProps = any\ntype TextureProps = any\ntype DisplaceProps = any\ntype NormalProps = any\n\nclass LayerMaterialCom extends LayerMaterial {\n    constructor(parameters: LayerMaterialParameters = {}) {\n        super(parameters)\n    }\n    init() {\n        // const keysWithPrefix = Object.keys(this).filter((key) => key.startsWith('layercoms_'))\n        // const valuesWithPrefix = keysWithPrefix.map((key: any) => this[key])\n        // this.layers = valuesWithPrefix\n        // @ts-ignore\n        this.__tres.objects.forEach((obj: any) => {\n            if (obj.attach.startsWith) {\n                obj.attach.startsWith('layercoms_')\n                this.layers.push(obj)\n            }\n        })\n        this.refresh()\n    }\n}\nclass MatcapCom extends Matcap {\n    attach = 'layercoms_matcap_'\n    constructor(parameters: MatcapProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass TextureCom extends Texture {\n    attach = 'layercoms_texture_'\n    constructor(parameters: TextureProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass DisplaceCom extends Displace {\n    attach = 'layercoms_displace_'\n    constructor(parameters: DisplaceProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass DepthCom extends Depth {\n    attach = 'layercoms_depth_'\n    constructor(parameters: DepthProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass NormalCom extends Normal {\n    attach = 'layercoms_normal_'\n    constructor(parameters: NormalProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass ColorCom extends Color {\n    attach = 'layercoms_color_'\n    constructor(parameters: ColorProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass FresnelCom extends Fresnel {\n    attach = 'layercoms_fresnel_'\n    constructor(parameters: FresnelProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass GradientCom extends Gradient {\n    attach = 'layercoms_gradient_'\n    constructor(parameters: GradientProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\nclass NoiseCom extends Noise {\n    attach = 'layercoms_noise_'\n    constructor(parameters: NoiseProps = {}) {\n        super(parameters)\n        this.attach += this.uuid.substring(this.uuid.length - 12)\n    }\n}\n\nexport {\n    LayerMaterialCom,\n    ColorCom as Color,\n    DepthCom as Depth,\n    FresnelCom as Fresnel,\n    GradientCom as Gradient,\n    NoiseCom as Noise,\n    MatcapCom as Matcap,\n    TextureCom as Texture,\n    DisplaceCom as Displace,\n    NormalCom as Normal,\n}\n","<!--\n * @Description: <TresMeshToonMaterial color=\"#FBB03B\" />\n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-04-02 15:07:33\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-17 16:57:46\n-->\n<script setup lang=\"ts\">\nimport { shallowRef, onMounted } from 'vue'\nimport { useTresContext } from '@tresjs/core'\nimport { LayerMaterialCom } from './material'\n\nconst props = defineProps<{ [key: string]: any }>()\nconst LayerMaterialClass = shallowRef()\nconst { extend } = useTresContext()\n\nextend({ LayerMaterialCom })\n\ndefineExpose({ LayerMaterialClass })\nonMounted(() => {\n    LayerMaterialClass.value.init()\n})\n</script>\n\n<template>\n    <TresLayerMaterialCom ref=\"LayerMaterialClass\" :args=\"[props]\">\n        <slot />\n    </TresLayerMaterialCom>\n</template>\n","<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-04-02 18:51:33\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-17 16:57:51\n-->\n<script setup lang=\"ts\">\nimport { defineProps, watchEffect, ref } from 'vue'\nimport { useTresContext } from '@tresjs/core'\nimport { Color } from './material'\nconst props = defineProps<{ [key: string]: any }>()\nconst { extend } = useTresContext()\nextend({ Color })\n\nconst colorRef = ref<any>()\nwatchEffect(() => {\n    if (colorRef.value) {\n        if (props.color) {\n            colorRef.value.color.setStyle(props.color).convertLinearToSRGB() // 注意 material.color.set('#444') 如果值不同 请 convertLinearToSRGB()\n        }\n        if (props.alpha) {\n            colorRef.value.alpha = props.alpha\n        }\n    }\n})\n</script>\n<template>\n    <TresColor ref=\"colorRef\" :args=\"[props]\" :visible=\"true\" />\n</template>\n","<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2024-04-02 21:09:18\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-17 16:57:17\n-->\n<script setup lang=\"ts\">\nimport { defineProps, ref, watchEffect } from 'vue'\nimport { useTresContext } from '@tresjs/core'\nimport { Depth } from './material'\n\nconst props = defineProps<{ [key: string]: any }>()\nconst { extend } = useTresContext()\nextend({ Depth })\n\nconst instanceRef = ref<any>()\nwatchEffect(() => {\n\tif (instanceRef.value) {\n\t\tif (props.colorA) {\n\t\t\tinstanceRef.value.colorA.set(props.colorA)//.convertLinearToSRGB()\n\t\t}\n\t\tif (props.colorB) {\n\t\t\tinstanceRef.value.colorB.set(props.colorB)//.convertLinearToSRGB()\n\t\t}\n\t\tif (props.alpha) {\n\t\t\tinstanceRef.value.alpha = props.alpha\n\t\t}\n\t\tif (props.near) {\n\t\t\tinstanceRef.value.near = props.near\n\t\t}\n\t\tif (props.far) {\n\t\t\tinstanceRef.value.far = props.far\n\t\t}\n\t}\n})\n</script>\n<template>\n\t<TresDepth ref=\"instanceRef\" :args=\"[props]\" :visible=\"true\" />\n</template>\n"],"names":["LayerMaterial","Depth","Color","useTresContext","_createElementBlock","watchEffect","ref"],"mappings":"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"}