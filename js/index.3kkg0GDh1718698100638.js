var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.5Mxe9wyc1718698100638.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.sS7BPjbz1718698100638.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.q9lKgk461718698100638.js";import{j as o,U as s,C as l,k as c,W as u,ba as p,h as f,a5 as x,a7 as v,V as m,aj as w}from"./three.erXpfL-r1718698100638.js";import{a as h,r as g}from"./@tresjs.aawOCoPx1718698100638.js";import{u as d}from"./index.eYkSz4SJ1718698100638.js";import{F as y,C as S}from"./three-stdlib.Jy3o-bPq1718698100638.js";import{d as P}from"./@vue.CpOXM7bB1718698100638.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.Cm8BYm5T1718698100638.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.qDBlx9GX1718698100638.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.lgnn57Ui1718698100638.js";const _=E;function z(){const t=["exception","1002912mvEOaW","warn","log","table","input","toString","debu","gger","1405336IHaSTh","4359342gcmhUi",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"14328549ZRnBzg","5PpaUfy","counter","bind","call","2307200lRLzqQ","console","test","apply",'{}.constructor("return this")( )',"init","error","chain","1344833CylJsY","254ZjURkG","length","3711qQmzKP","constructor"];return(z=function(){return t})()}!function(t,e){const n=E,i=z();for(;;)try{if(890967===parseInt(n(272))/1+-parseInt(n(273))/2*(-parseInt(n(275))/3)+-parseInt(n(278))/4+parseInt(n(290))/5*(parseInt(n(287))/6)+parseInt(n(294))/7+parseInt(n(286))/8+-parseInt(n(289))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=E,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=A(t(269));e[t(296)](i+t(271))&&n[t(296)](i+t(282))?A():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(267)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();I(void 0,(function(){const t=E;let e;try{e=Function("return (function() "+t(268)+");")()}catch(r){e=window}const n=e[t(295)]=e[t(295)]||{},i=[t(280),t(279),"info",t(270),t(277),t(281),"trace"];for(let a=0;a<i.length;a++){const e=I.constructor.prototype[t(292)](I),r=i[a],o=n[r]||e;e.__proto__=I.bind(I),e[t(283)]=o[t(283)][t(292)](o),n[r]=e}}))();const M=_(288);function E(t,e){const n=z();return(E=function(t,e){return n[t-=267]})(t,e)}function A(t){function e(t){const n=E;if("string"==typeof t)return function(t){}[n(276)]("while (true) {}")[n(267)](n(291));1!==(""+t/t)[n(274)]||t%20==0?function(){return!0}[n(276)](n(284)+n(285))[n(293)]("action"):function(){return!1}[n(276)](n(284)+n(285))[n(267)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=D;!function(t,e){const n=D,i=R();for(;;)try{if(284559===-parseInt(n(261))/1*(-parseInt(n(252))/2)+parseInt(n(246))/3+parseInt(n(249))/4+-parseInt(n(236))/5+parseInt(n(245))/6+parseInt(n(247))/7*(parseInt(n(243))/8)+-parseInt(n(235))/9*(parseInt(n(234))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[D(233)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){T(this,(function(){const t=D,e=new RegExp(t(242)),n=new RegExp(t(263),"i"),i=V(t(232));e[t(257)](i+"chain")&&n[t(257)](i+t(231))?V():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[D(233)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function D(t,e){const n=R();return(D=function(t,e){return n[t-=231]})(t,e)}function O(t){const e=D,n=a({},t);return e(267)in t&&(n[e(267)]=a({},t.defines)),e(264)in t&&(n[e(264)]=s.clone(t[e(264)])),n}U(void 0,(function(){const t=D,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e[t(259)]=e[t(259)]||{},i=[t(244),"warn",t(260),"error",t(237),"table",t(239)];for(let r=0;r<i[t(265)];r++){const e=U[t(251)][t(238)][t(262)](U),a=i[r],o=n[a]||e;e[t(248)]=U[t(262)](U),e.toString=o[t(256)][t(262)](o),n[a]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(254),fragmentShader:L(266)+M+"\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t"};function V(t){function e(t){const n=D;if(typeof t===n(240))return function(t){}[n(251)](n(250))[n(233)](n(258));1!==(""+t/t)[n(265)]||t%20==0?function(){return!0}[n(251)](n(255)+n(253)).call(n(241)):function(){return!1}[n(251)](n(255)+"gger")[n(233)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function R(){const t=["log","1674300FHqije","408561iosslm","20307AVwrpK","__proto__","2060348PZjcyy","while (true) {}","constructor","35094QLSFzl","gger","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","debu","toString","test","counter","console","info","14frkmAM","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniforms","length","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","defines","input","init","apply","10ZwnQQO","6609051NxRURz","1612205EhOtOF","exception","prototype","trace","string","action","function *\\( *\\)","456McdqJF"];return(R=function(){return t})()}const k=F;!function(t,e){const n=F,i=Q();for(;;)try{if(483854===-parseInt(n(402))/1+-parseInt(n(387))/2*(parseInt(n(418))/3)+parseInt(n(429))/4+-parseInt(n(399))/5+parseInt(n(385))/6*(parseInt(n(433))/7)+parseInt(n(392))/8*(-parseInt(n(419))/9)+parseInt(n(396))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(384)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){C(this,(function(){const t=F,e=new RegExp(t(431)),n=new RegExp(t(408),"i"),i=Z("init");e[t(420)](i+"chain")&&n[t(420)](i+"input")?Z():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function F(t,e){const n=Q();return(F=function(t,e){return n[t-=361]})(t,e)}W(void 0,(function(){const t=F,e=function(){const t=F;let e;try{e=Function("return (function() "+t(424)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(405)]||{},i=["log","warn","info","error",t(407),t(366),t(391)];for(let r=0;r<i[t(361)];r++){const e=W.constructor.prototype.bind(W),a=i[r],o=n[a]||e;e[t(377)]=W[t(374)](W),e[t(388)]=o.toString.bind(o),n[a]=e}}))();const N=new l;class H{constructor(t){const e=F;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=O(j);n[e(382)]=n[e(382)][e(410)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0][e(401)][e(432)]=0,i[0].defines[e(373)]=0,i[1]=new c(O(n)),i[1][e(401)].X_IS_EVEN=1,i[1].defines[e(373)]=0,i[2]=new c(O(n)),i[2].defines.X_IS_EVEN=0,i[2][e(401)][e(373)]=1,i[3]=new c(O(n)),i[3][e(401)][e(432)]=1,i[3].defines[e(373)]=1;const r=new u;r[e(364)][e(370)]=p,r[e(364)].magFilter=p,this[e(400)]=r,this[e(380)]=new y(new c(S)),this[e(381)]=new y(null),this[e(422)]=i}[k(386)](t,e,n,i=!1){const r=k;t[r(371)]&&(t=t[r(364)]);const o=n[r(383)],s=n[r(368)](),l=n[r(393)]();n[r(390)](N);const c=this[r(380)],u=this[r(381)],p=this._swapTarget,x=this[r(422)];let v,m;i?(v=f[r(369)](t[r(430)][r(426)]),m=f.floorPowerOfTwo(t[r(430)][r(404)])):(v=Math[r(389)](t[r(430)].width),m=Math.floor(t.image[r(404)]));const w=Math[r(389)](1.5*v),h=Math[r(389)](m);e[r(417)](w,h),p.texture[r(421)]!==e[r(364)][r(421)]?(p[r(423)](),p[r(411)](e),p[r(364)][r(430)]=a({},p.texture[r(430)])):p[r(417)](w,h),n[r(383)]=!1,n.setClearColor(0),n[r(416)](),c.material.uniforms[r(403)][r(365)]=t,c.camera[r(415)](v,m,0,0,w,h),n.setRenderTarget(e),n[r(395)](),c[r(376)](n),n[r(379)](p),n[r(395)](),c[r(376)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(397)][r(363)][r(365)]=p[r(364)],t[r(397)][r(428)][r(365)]=y,t[r(397)].parentMapSize.value[r(367)](g,d),t[r(397)][r(427)][r(365)][r(367)](v,m),u[r(412)]=t,g=Math[r(389)](g/2),d=Math[r(389)](d/2);const i=h-2*d;n[r(379)](e),u[r(362)].setViewOffset(g,d,-v,-i,w,h),u[r(376)](n),n[r(379)](p),t[r(397)][r(363)][r(365)]=e.texture,u.render(n),y++}return n[r(379)](l),n[r(416)](s),n[r(372)](N),n.autoClear=o,y+1}[k(423)](){const t=k;this._swapTarget[t(423)](),this[t(381)][t(423)](),this[t(380)].dispose(),this[t(422)][t(398)]((e=>e[t(423)]()))}}function Q(){const t=["width","originalMapSize","parentLevel","1180144gwwvTm","image","function *\\( *\\)","X_IS_EVEN","177562fTOJTE","length","camera","map","texture","value","table","set","getClearAlpha","floorPowerOfTwo","minFilter","isWebGLRenderTarget","setClearColor","Y_IS_EVEN","bind","gger","render","__proto__","constructor","setRenderTarget","_copyQuad","_mipQuad","fragmentShader","autoClear","apply","18Vxydjq","update","2uTWsne","toString","floor","getClearColor","trace","14888thUosn","getRenderTarget","while (true) {}","clear","14794490PzrsMy","uniforms","forEach","2161500OsYFwC","_swapTarget","defines","624115eORabm","tDiffuse","height","console","string","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","replace","copy","material","action","debu","setViewOffset","setClearAlpha","setSize","355893rWSGlO","927LoRYIv","test","type","_mipMaterials","dispose",'{}.constructor("return this")( )',"call"];return(Q=function(){return t})()}function Z(t){function e(t){const n=F;if(typeof t===n(406))return function(t){}.constructor(n(394))[n(384)](n(409));1!==(""+t/t)[n(361)]||t%20==0?function(){return!0}[n(378)](n(414)+n(375))[n(425)](n(413)):function(){return!1}[n(378)](n(414)+n(375))[n(384)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function X(t,e){const n=B();return(X=function(t,e){return n[t-=470]})(t,e)}const Y=X;!function(t,e){const n=X,i=B();for(;;)try{if(561772===parseInt(n(506))/1+-parseInt(n(541))/2+parseInt(n(491))/3*(-parseInt(n(499))/4)+-parseInt(n(524))/5+parseInt(n(514))/6+parseInt(n(509))/7+parseInt(n(518))/8*(parseInt(n(497))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(521)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){G(this,(function(){const t=X,e=new RegExp(t(526)),n=new RegExp(t(482),"i"),i=J(t(519));e[t(492)](i+t(486))&&n[t(492)](i+t(479))?J():i("0")}))()}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(521)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function B(){const t=["matrixWorldInverse","elements","chain","toString","forEach","error","value","12xZzBfo","test","resolution","reflectorMipMap","sub","Quaternion","22023IGgYor","add","943380mMJQXW",'{}.constructor("return this")( )',"depth","info","warn","applyQuaternion","console","1054638dooTBT","length","visible","5136383FLiQub","applyMatrix4","getWorldQuaternion","multiplyScalar","buffers","1278288oiiYet","position","sign","debu","1928HyAXjK","init","exception","apply","reflect","negate","5401425WLevtA","string","function *\\( *\\)","copy","normal","Matrix4","Vector3","gger","ignoreObjects","multiply","Plane","texture","parent","projectionMatrix","set","clone","log","11490TCEwQG","call","dot","getWorldPosition","autoClear","UnsignedByteType","action","constructor","Vector4","updateMatrixWorld","constant","input","counter","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","state"];return(B=function(){return t})()}$(void 0,(function(){const t=X,e=function(){const t=X;let e;try{e=Function("return (function() "+t(500)+");")()}catch(n){e=window}return e}(),n=e[t(505)]=e[t(505)]||{},i=[t(540),t(503),t(502),t(489),t(520),"table","trace"];for(let r=0;r<i.length;r++){const e=$[t(475)].prototype.bind($),a=i[r],o=n[a]||e;e.__proto__=$.bind($),e[t(487)]=o[t(487)][t(481)](o),n[a]=e}}))();const q=P({__name:Y(494),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(534)]),a=new(x[n(529)]),o=new v,s=new H,l=d({width:i[n(493)],height:i[n(493)],settings:{type:x[n(473)]}}),c=d({width:i[n(493)],height:i[n(493)],settings:{type:x[n(473)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(490)])return;r.set(new(x[t(530)])(0,1,0),0),r[t(510)](i[t(536)].matrixWorld),o[t(527)](u.value);const e=new(x[t(530)])(0,0,1)[t(539)]()[t(523)](),s=u.value[t(471)](new m);e[t(522)](r[t(528)]);const c=new(x[t(530)]);r.projectPoint(s,c);const v=c.clone();v[t(495)](s),v[t(498)](c),o[t(515)][t(527)](v);const h=new m(0,0,-1);h[t(504)](u[t(490)][t(511)](new(x[t(496)]))),h[t(498)](s);const g=new(x[t(530)]);i[t(536)][t(471)](g),g[t(495)](h),g[t(522)](r[t(528)])[t(523)](),g[t(498)](i[t(536)].getWorldPosition(new(x[t(530)]))),o.up[t(538)](0,1,0),o.applyQuaternion(u[t(490)][t(511)](new(x[t(496)]))),o.up.reflect(r[t(528)]),o.lookAt(g),o[t(477)]();const d=new(x[t(529)]);d[t(538)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(533)](o[t(537)]),d.multiply(o[t(484)]),a.copy(d),r[t(510)](o.matrixWorldInverse);const y=new(x[t(476)])(r[t(528)].x,r[t(528)].y,r.normal.z,r[t(478)]),S=o[t(537)],P=new w;P.x=(Math[t(516)](y.x)+S[t(485)][8])/S[t(485)][0],P.y=(Math[t(516)](y.y)+S[t(485)][9])/S[t(485)][5],P.z=-1,P.w=(1+S[t(485)][10])/S[t(485)][14],y[t(512)](2/y[t(470)](P)),S[t(485)][2]=y.x,S[t(485)][6]=y.y,S[t(485)][10]=y.z+1,S[t(485)][14]=y.w;const _=p.value.getRenderTarget();p[t(490)].setRenderTarget(l[t(490)]),p.value[t(483)][t(513)][t(501)].setMask(!0),!1===p[t(490)][t(472)]&&p[t(490)].clear(),i[t(532)][t(488)]((e=>e[t(508)]=!1)),p.value.render(f.value,o),i.ignoreObjects.forEach((t=>t.visible=!0)),p.value.setRenderTarget(_)})(),l[t(490)]&&c[t(490)]&&p[t(490)]&&s.update(l.value[t(535)],c[t(490)],p[t(490)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(t){function e(t){const n=X;if(typeof t===n(525))return function(t){}[n(475)]("while (true) {}").apply(n(480));1!==(""+t/t)[n(507)]||t%20==0?function(){return!0}[n(475)](n(517)+n(531))[n(542)](n(474)):function(){return!1}[n(475)](n(517)+"gger")[n(521)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function K(){var t=["table","constructor","while (true) {}","return (function() ","164540awMYBr","toString","1356402ougLSX","info","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","init","431142cEfUgt","__proto__","gger","input","521738NXauoD","bind","test","debu","1MNMpVO","apply","string","console","stateObject","286966rFvMhI","exception","5176896wjcCcU","646825vESKMb","trace","counter"];return(K=function(){return t})()}!function(t,e){for(var n=nt,i=K();;)try{if(120152===parseInt(n(225))/1*(-parseInt(n(230))/2)+-parseInt(n(248))/3+parseInt(n(240))/4+-parseInt(n(233))/5+-parseInt(n(242))/6+parseInt(n(252))/7+parseInt(n(232))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(226)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){tt(this,(function(){var t=nt,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(245),"i"),i=it(t(247));e[t(254)](i+"chain")&&n[t(254)](i+t(251))?it():i("0")}))()}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function nt(t,e){var n=K();return(nt=function(t,e){return n[t-=225]})(t,e)}function it(t){function e(t){var n=nt;if(typeof t===n(227))return function(t){}[n(237)](n(238)).apply(n(235));1!==(""+t/t).length||t%20==0?function(){return!0}[n(237)](n(255)+n(250)).call("action"):function(){return!1}[n(237)](n(255)+n(250))[n(226)](n(229)),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){var t,e=nt;try{t=Function(e(239)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t[e(228)]=t[e(228)]||{},i=["log",e(246),e(243),"error",e(231),e(236),e(234)],r=0;r<i[e(244)];r++){var a=et[e(237)].prototype.bind(et),o=i[r],s=n[o]||a;a[e(249)]=et[e(253)](et),a[e(241)]=s[e(241)][e(253)](s),n[o]=a}}))();export{q as _};
