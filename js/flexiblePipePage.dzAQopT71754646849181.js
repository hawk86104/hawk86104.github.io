import{e,a}from"./@tresjs.EkZ_QTfE1754646849181.js";import{_ as t}from"./index.rnDGZAT_1754646849181.js";import"./index.BL0PJNsY1754646849181.js";import{P as n}from"./tweakpane.C0HtAJSg1754646849181.js";import{i}from"./index.qnYdS7XQ1754646849181.js";import{d as s,b as l,w as o,G as r,o as d,I as p,r as u,h as m,e as g,f,j as h,u as c,a7 as x,a8 as y,a5 as j,m as v}from"./@vue.BzMISRrV1754646849181.js";import{ao as _,V as b,b as w,ap as L,aL as M,a3 as P}from"./three.BWo_6did1754646849181.js";import{_ as T}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.IrZ7oDO01754646849181.js";import{_ as A}from"./component.vue_vue_type_script_setup_true_lang.D_p_8agW1754646849181.js";import"./postprocessing.DILjcRc91754646849181.js";import"./@vueuse.uWD-2GR_1754646849181.js";import"./object-hash.CF3M2KlU1754646849181.js";import"./@amap.CGUF9xH41754646849181.js";import"./jszip.CenSxAo51754646849181.js";import"./all.three.CnMxAR7X1754646849181.js";import"./oimophysics.BBtHVm4j1754646849181.js";import"./reflectorDiffuse.B0sfT4xb1754646849181.js";import"./vite-plugin-qiankun.B06WoCqG1754646849181.js";import"./three-stdlib.D1p2J-HX1754646849181.js";import"./whiteFloor.CDQv-BDE1754646849181.js";const B={renderOrder:9999},I=["args"],S=["color","side","map"],R=s({__name:"flexiblePipe",props:{color:{default:"0xff0000"},radius:{default:.1},bodyLength:{default:2},headLength:{default:1},headAngle:{default:0},radialSegments:{default:16},tailAngle:{default:0},tailLength:{default:.5},speed:{default:.01}},setup(a){const t=a,n=l(new _);o((()=>[t.bodyLength,t.headLength,t.headAngle,t.tailAngle,t.tailLength]),(([e,a,t,i,s])=>{const l=e/2,o=new b(0,0,-l),r=new b(0,0,l),d=w.degToRad(t),p=new b(Math.cos(d),Math.sin(d),0),u=r.clone().add(p.multiplyScalar(a)),m=w.degToRad(i),g=new b(Math.cos(m),Math.sin(m),0),f=o.clone().add(g.multiplyScalar(s));n.value=new _,n.value.add(new L(f,o)),n.value.add(new L(o,r)),n.value.add(new L(r,u))}),{immediate:!0}),i.getResource("TextureLoader","./plugins/digitalCity/image/line.png","line.png");const s=i.getReactiveItem("line.png"),u=l(null);o(s,(e=>{e?.isTexture&&(u.value=e.clone(),u.value.wrapS=u.value.wrapT=M,u.value.needsUpdate=!0)}),{immediate:!0});const m=l(null),{onLoop:g}=e();return g((()=>{u.value&&(u.value.offset.x-=t.speed)})),(e,a)=>(d(),r("TresMesh",B,[p("TresTubeGeometry",{args:[n.value,64,e.radius,e.radialSegments,!1]},null,8,I),p("TresMeshStandardMaterial",{ref_key:"tmsmRef",ref:m,color:e.color,metalness:.3,roughness:.5,side:P,transparent:"",map:u.value?u.value:null},null,8,S)]))}}),C=s({__name:"flexiblePipePage",setup(e){const i={clearColor:"#15151a",antialias:!1,logarithmicDepthBuffer:!0},s={autoRotate:!0},l=u({color:"#ff0000",radius:.1,bodyLength:2,headLength:1,tailLength:.5,headAngle:0,radialSegments:16,tailAngle:0,speed:.01}),o=new n({title:"参数"});return o.addBinding(l,"color",{label:"颜色"}),o.addBinding(l,"radius",{label:"管道粗细",min:.001,max:1,step:.001}),o.addBinding(l,"bodyLength",{label:"中间长度",min:.1,max:10,step:.1}),o.addBinding(l,"headLength",{label:"前段长度",min:0,max:10,step:.1}),o.addBinding(l,"headAngle",{label:"前段角度",min:0,max:359,step:1}),o.addBinding(l,"tailLength",{label:"后段长度",min:0,max:10,step:.1}),o.addBinding(l,"tailAngle",{label:"后段角度",min:0,max:359,step:1}),o.addBinding(l,"radialSegments",{label:"管平滑",min:2,max:16,step:1}),o.addBinding(l,"speed",{label:"速度",min:-.1,max:.1,step:.001}),(e,n)=>{const o=m("TresCanvas");return d(),g(o,v(i,{"window-size":""}),{default:f((()=>[n[0]||(n[0]=p("TresPerspectiveCamera",{position:[0,10,15],fov:25,near:.1,far:1e4},null,-1)),h(c(a),x(y(s)),null,16),n[1]||(n[1]=p("TresAmbientLight",{color:"#ffffff",intensity:2},null,-1)),(d(),g(j,null,{default:f((()=>[h(c(T),{position:[0,-1.562,0],reflectivity:2.6,showGridHelper:!1,scale:1.5})])),_:1})),h(R,x(y(l)),null,16),(d(),g(j,null,{default:f((()=>[h(c(A),{resolution:512},{default:f((()=>[h(c(t),{intensity:2,position:[0,1,3],scale:[10,1,1]}),h(c(t),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,-6],scale:[10,1,1]},null,8,["rotation-x"]),h(c(t),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,-3],scale:[10,1,1]},null,8,["rotation-x"]),h(c(t),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,0],scale:[10,1,1]},null,8,["rotation-x"]),h(c(t),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,3],scale:[10,1,1]},null,8,["rotation-x"]),h(c(t),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,6],scale:[10,1,1]},null,8,["rotation-x"]),h(c(t),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,9],scale:[10,1,1]},null,8,["rotation-x"]),h(c(t),{intensity:2,"rotation-y":Math.PI/2,position:[-50,2,0],scale:[100,2,1]},null,8,["rotation-y"]),h(c(t),{intensity:2,"rotation-y":-Math.PI/2,position:[50,2,0],scale:[100,2,1]},null,8,["rotation-y"]),h(c(t),{form:"ring",color:"red",intensity:10,scale:2,position:[10,5,10]})])),_:1})])),_:1}))])),_:1},16)}}});export{C as default};
