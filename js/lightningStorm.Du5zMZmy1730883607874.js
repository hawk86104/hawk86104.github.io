import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.BsjY64hW1730883607874.js";import{B as i,V as s,cr as n,ad as e,X as r,h as o,an as a,$ as h,s as c,_ as u}from"./three.fIUcjaNz1730883607874.js";import{e as l,f as d,F as p}from"./@tresjs.C3WO4ZW41730883607874.js";import{c as m}from"./simplex-noise.CIkl0Oqx1730883607874.js";import{d as f,a3 as g,o as y,D as b,u as w,r as x,j as S,g as I,m as v,F as P}from"./@vue.Cfu43fwq1730883607874.js";import{f as M}from"./index.D3-O3Ya61730883607874.js";import"./three-custom-shader-material.DD5mBNmu1730883607874.js";import"./@vueuse.BSum2YDk1730883607874.js";import"./@fesjs.DQmvwjPe1730883607874.js";import"./vue-router.BDLCs4Ld1730883607874.js";import"./lodash-es.BBTWvufR1730883607874.js";import"./@qlin.BIlp8Yi21730883607874.js";import"./pinia.DKpn0rzI1730883607874.js";import"./vue-demi.Dq6ymT-81730883607874.js";import"./@babel.BBWsvBIa1730883607874.js";import"./@floating-ui.B75jtkXD1730883607874.js";import"./@juggle.BnTvdTVm1730883607874.js";import"./chalk.B3MNILV41730883607874.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1730883607874.js";import"./@iconify.CkmZGMLx1730883607874.js";import"./dompurify.MwRjsY0L1730883607874.js";import"./oimophysics.B0i2NtyE1730883607874.js";import"./three-stdlib.oW8T3I_Q1730883607874.js";import"./@pmndrs.CQZPv3U_1730883607874.js";import"./object-hash.c-ODBdIv1730883607874.js";import"./@amap.CXRRqiLY1730883607874.js";import"./jszip.V4H7zZUl1730883607874.js";import"./three.quarks.BwNiiDXj1730883607874.js";import"./quarks.core.C7CDonSm1730883607874.js";import"./tweakpane.BCjFYDHx1730883607874.js";const j=A;!function(t,i){const s=A,n=R();for(;;)try{if(180040===-parseInt(s(454))/1+parseInt(s(447))/2*(parseInt(s(356))/3)+parseInt(s(333))/4+-parseInt(s(406))/5*(parseInt(s(483))/6)+-parseInt(s(387))/7*(-parseInt(s(438))/8)+parseInt(s(490))/9+-parseInt(s(493))/10*(parseInt(s(345))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[A(444)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){T(this,(function(){const t=A,i=new RegExp(t(393)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=C(t(372));i[t(459)](n+t(477))&&s[t(459)](n+t(330))?C():n("0")}))()}();const _=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[A(444)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function R(){const t=["225bAdnCU","currentIndex","pow","setIndex","isLightningStrike","vertices","visible","fraction0","min","update","clone","info","sub","onDecideSubrayCreation","counter","subrayConePosition","init","currentSegmentIndex","recursionProbability","updateMesh","RAY_EXTINGUISHED","randomGenerator","timeFraction","fraction1","createSegment","needsUpdate","seedGenerator","numSubrays","positionVariationFactor","getNewSegment","linPos0","142289lwwEIr","crossVectors","fractalRay","forwards","sourceOffset","currentVertex","function *\\( *\\)","subrays","recursion","currentSubray","simplexZ","cos","currentSegmentCallback","middlePos","currentCreateTriangleVertices","generateUVs","RAY_VANISHING","drawRange","log","3100IDvMaV","currentUVCoordinate","radius1Factor","middleLinPos","seed","currentSeed","destOffset","push","createTriangleVerticesWithoutUVs","exception","sin","fillMesh","position","subrayProbability","createDefaultSubrayCreationCallbacks","isEternal","RAY_UNBORN","bind","createSubray","vPos","beginVanishingTime","uvs","linPos1","deathTime","array","vanishingTimeFactor","action","constructor","side","uvsAttribute","propagationTimeFactor","onSubrayCreation","24zgtEUK","COS30DEG","rayParameters","RAY_INITIALIZED","max","copyParameters","apply","subrayPeriod","createPrismFaces","6688uvhsDe","noiseSeed","up1","pos1","setAttribute","SIN30DEG","console","241528LMiSNY","usage","down","call","createPrism","test","forwardsFill","simplexY","subVectors","maxIterations","addNewSubray","add","timeScale","toString","straightness",'{}.constructor("return this")( )',"set","count","setSeed","radius0","positionAttribute","normalize","ramification","chain","time","RAY_STEADY","ceil","subrayCylinderPosition","maxRaySegments","150orwUmn","length","trace","iteration","createRandomGenerator","warn","table","3156372kgwUwq","radius0Factor","createMesh","7930ziRHon","pos0","state","random","type","raySegments","multiplyScalar","lerpVectors","up0","debu","birthTime","input","indices","prototype","287816xIxWvl","gger","while (true) {}","index","roughness","radius1","fractalRayRecursive","lerp","floor","endPropagationTime","return (function() ","newPos","4125Wjtrzk","maxSubrays","maxSubrayRecursion","cross1","__proto__","initSubray","currentCoordinate","copy","subrayDutyCycle","minRadius","isStatic"];return(R=function(){return t})()}_(void 0,(function(){const t=A;let i;try{i=Function(t(343)+t(469)+");")()}catch(e){i=window}const s=i[t(453)]=i.console||{},n=[t(405),t(488),t(367),"error",t(415),t(489),t(485)];for(let r=0;r<n[t(484)];r++){const i=_.constructor[t(332)][t(423)](_),e=n[r],o=s[e]||i;i[t(349)]=_[t(423)](_),i[t(467)]=o[t(467)][t(423)](o),s[e]=i}}))();class V extends i{constructor(t={}){const i=A;super(),this[i(360)]=!0,this[i(323)]="LightningStrike",this[i(372)](V[i(443)](t,t)),this[i(492)]()}static createRandomGenerator(){const t=A,i=2053,s=[];for(let e=0;e<i;e++)s[t(413)](Math[t(322)]());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(411)]];return n[e(411)]=(n.currentSeed+1)%i,r},getSeed:function(){return n[t(411)]/i},setSeed:function(s){const e=t;n.currentSeed=Math[e(341)](s*i)%i}};return n}static copyParameters(t={},i={}){const n=A,e=function(s){return i===t?s:s[A(366)]()};return t[n(391)]=void 0!==i[n(391)]?e(i[n(391)]):new s(0,100,0),t.destOffset=void 0!==i[n(412)]?e(i.destOffset):new s(0,0,0),t.timeScale=void 0!==i[n(466)]?i[n(466)]:1,t.roughness=void 0!==i[n(337)]?i[n(337)]:.9,t.straightness=void 0!==i[n(468)]?i[n(468)]:.7,t[n(327)]=void 0!==i[n(327)]?e(i[n(327)]):new s(0,0,1),t[n(449)]=void 0!==i[n(449)]?e(i[n(449)]):new s(0,0,1),t[n(473)]=void 0!==i[n(473)]?i[n(473)]:1,t.radius1=void 0!==i.radius1?i[n(338)]:1,t.radius0Factor=void 0!==i[n(491)]?i.radius0Factor:.5,t[n(408)]=void 0!==i[n(408)]?i[n(408)]:.2,t[n(354)]=void 0!==i[n(354)]?i[n(354)]:.2,t[n(421)]=void 0!==i[n(421)]?i.isEternal:void 0===i[n(329)]||void 0===i.deathTime,t[n(329)]=i.birthTime,t[n(429)]=i[n(429)],t.propagationTimeFactor=void 0!==i.propagationTimeFactor?i[n(436)]:.1,t.vanishingTimeFactor=void 0!==i[n(431)]?i[n(431)]:.9,t[n(445)]=void 0!==i.subrayPeriod?i[n(445)]:4,t[n(353)]=void 0!==i[n(353)]?i.subrayDutyCycle:.6,t.maxIterations=void 0!==i[n(463)]?i[n(463)]:9,t[n(355)]=void 0!==i[n(355)]&&i.isStatic,t[n(476)]=void 0!==i.ramification?i[n(476)]:5,t.maxSubrayRecursion=void 0!==i.maxSubrayRecursion?i[n(347)]:3,t[n(374)]=void 0!==i[n(374)]?i.recursionProbability:.6,t[n(402)]=void 0!==i[n(402)]&&i.generateUVs,t.randomGenerator=i[n(377)],t[n(448)]=i[n(448)],t[n(369)]=i[n(369)],t[n(437)]=i[n(437)],t}[j(365)](t){const i=j;this[i(355)]||(this[i(440)][i(421)]||this.rayParameters[i(329)]<=t&&t<=this[i(440)][i(429)]?(this[i(375)](t),t<this.subrays[0][i(342)]?this[i(321)]=V.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this[i(321)]=V[i(403)]:this[i(321)]=V.RAY_STEADY,this[i(362)]=!0):(this[i(362)]=!1,t<this[i(440)][i(329)]?this.state=V[i(422)]:this[i(321)]=V[i(376)]))}[j(372)](t){const i=j;this.rayParameters=t,this[i(463)]=void 0!==t[i(463)]?Math[i(341)](t.maxIterations):9,t[i(463)]=this[i(463)],this[i(355)]=void 0!==t.isStatic&&t.isStatic,t.isStatic=this[i(355)],this[i(476)]=void 0!==t[i(476)]?Math.floor(t[i(476)]):5,t.ramification=this[i(476)],this[i(347)]=void 0!==t.maxSubrayRecursion?Math.floor(t[i(347)]):3,t[i(347)]=this[i(347)],this[i(374)]=void 0!==t[i(374)]?t[i(374)]:.6,t.recursionProbability=this[i(374)],this[i(402)]=void 0!==t[i(402)]&&t[i(402)],t[i(402)]=this[i(402)],void 0!==t[i(377)]?(this[i(377)]=t[i(377)],this.seedGenerator=t[i(377)],void 0!==t[i(448)]&&this[i(382)][i(472)](t.noiseSeed)):(this[i(377)]=V[i(487)](),this[i(382)]=Math),void 0!==t.onDecideSubrayCreation?this[i(369)]=t[i(369)]:(this[i(420)](),void 0!==t.onSubrayCreation&&(this[i(437)]=t.onSubrayCreation)),this[i(321)]=V[i(441)],this[i(346)]=Math[i(480)](1+Math[i(358)](this[i(476)],Math[i(442)](0,this.maxSubrayRecursion-1))),t[i(346)]=this[i(346)],this.maxRaySegments=2*(1<<this.maxIterations),this[i(394)]=[];for(let s=0;s<this[i(346)];s++)this[i(394)][i(413)](this[i(424)]());this.raySegments=[];for(let s=0;s<this[i(482)];s++)this[i(324)].push(this[i(380)]());this[i(478)]=0,this.timeFraction=0,this.currentSegmentCallback=null,this[i(401)]=this[i(402)]?this.createTriangleVerticesWithUVs:this[i(414)],this[i(383)]=0,this[i(396)]=null,this[i(373)]=0,this.isInitialSegment=!1,this[i(419)]=0,this[i(392)]=0,this[i(357)]=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this[i(427)]=null,this[i(331)]=null,this[i(474)]=null,this[i(435)]=null,this.simplexX=m(this.seedGenerator[i(322)]),this[i(461)]=m(this[i(382)].random),this[i(397)]=m(this.seedGenerator.random),this[i(390)]=new s,this.forwardsFill=new s,this.side=new s,this[i(456)]=new s,this.middlePos=new s,this[i(409)]=new s,this[i(344)]=new s,this[i(425)]=new s,this.cross1=new s}[j(492)](){const t=j,i=1<<this[t(463)],s=3*(i+1)*this[t(346)],o=18*i*this[t(346)];this.vertices=new Float32Array(3*s),this.indices=new Uint32Array(o),this[t(402)]&&(this[t(427)]=new Float32Array(2*s)),this.fillMesh(0),this[t(359)](new n(this[t(331)],1)),this[t(474)]=new e(this[t(361)],3),this[t(451)](t(418),this[t(474)]),this[t(402)]&&(this[t(435)]=new e(new Float32Array(this[t(427)]),2),this[t(451)]("uv",this[t(435)])),!this[t(355)]&&(this[t(336)][t(455)]=r,this[t(474)][t(455)]=r,this.generateUVs&&(this.uvsAttribute.usage=r)),this[t(361)]=this[t(474)].array,this.indices=this[t(336)][t(430)],this.generateUVs&&(this.uvs=this[t(435)].array)}[j(375)](t){const i=j;this[i(417)](t),this[i(404)][i(471)]=this[i(357)],this[i(336)][i(381)]=!0,this[i(474)][i(381)]=!0,this[i(402)]&&(this[i(435)][i(381)]=!0)}fillMesh(t){const i=j,s=this;this.currentVertex=0,this[i(357)]=0,this.currentCoordinate=0,this[i(407)]=0,this[i(389)](t,(function(n){const e=i,r=s[e(396)];t<r[e(329)]||(this.rayParameters[e(421)]&&0==s[e(396)][e(395)]?(s.createPrism(n),s[e(369)](n,s)):t<r[e(342)]?s[e(378)]>=n[e(363)]*r[e(436)]&&(s.createPrism(n),s[e(369)](n,s)):t<r.beginVanishingTime?(s[e(458)](n),s[e(369)](n,s)):(s[e(378)]<=r[e(431)]+n.fraction1*(1-r[e(431)])&&s[e(458)](n),s[e(369)](n,s)))}))}[j(464)](){const t=j;return this[t(394)][this[t(383)]++]}[j(350)](t,i){const s=j;t[s(494)].copy(i[s(391)]),t[s(450)][s(352)](i[s(412)]),t[s(327)].copy(i.up0),t[s(449)][s(352)](i[s(449)]),t[s(473)]=i[s(473)],t.radius1=i.radius1,t[s(329)]=i[s(329)],t[s(429)]=i[s(429)],t[s(466)]=i[s(466)],t[s(337)]=i[s(337)],t[s(468)]=i[s(468)],t[s(436)]=i.propagationTimeFactor,t[s(431)]=i.vanishingTimeFactor,t[s(463)]=this[s(463)],t[s(410)]=void 0!==i[s(448)]?i.noiseSeed:0,t[s(395)]=0}[j(389)](t,i){const s=j;this[s(478)]=t,this[s(399)]=i,this[s(383)]=0,this.initSubray(this.addNewSubray(),this[s(440)]);for(let n=0;n<this.numSubrays;n++){const i=this.subrays[n];this[s(396)]=i,this.randomGenerator[s(472)](i[s(410)]),i.endPropagationTime=o[s(340)](i[s(329)],i[s(429)],i[s(436)]),i[s(426)]=o.lerp(i[s(429)],i.birthTime,1-i[s(431)]);const e=this[s(377)][s(322)];i[s(386)][s(470)](e(),e(),e()).multiplyScalar(1e3),i.linPos1[s(470)](e(),e(),e())[s(325)](1e3),this[s(378)]=(t-i[s(329)])/(i[s(429)]-i[s(329)]),this[s(373)]=0,this.isInitialSegment=!0;const r=this[s(385)]();r[s(486)]=0,r[s(494)].copy(i[s(494)]),r[s(450)][s(352)](i[s(450)]),r[s(386)][s(352)](i[s(386)]),r.linPos1[s(352)](i[s(428)]),r[s(327)][s(352)](i[s(327)]),r.up1[s(352)](i.up1),r.radius0=i[s(473)],r[s(338)]=i[s(338)],r[s(363)]=0,r[s(379)]=1,r[s(384)]=1-i.straightness,this[s(419)]=this[s(476)]*Math[s(358)](this[s(374)],i.recursion)/(1<<i[s(463)]),this[s(339)](r)}this[s(399)]=null,this[s(396)]=null}[j(339)](t){const i=j;if(t[i(486)]>=this[i(396)].maxIterations)return void this[i(399)](t);this.forwards[i(462)](t[i(450)],t[i(494)]);let s=this[i(390)][i(484)]();s<1e-6&&(this[i(390)][i(470)](0,0,.01),s=this[i(390)].length());const n=.5*(t[i(473)]+t[i(338)]),e=.5*(t[i(363)]+t[i(379)]),r=this[i(478)]*this[i(396)][i(466)]*Math.pow(2,t[i(486)]);this[i(400)].lerpVectors(t[i(494)],t[i(450)],.5),this[i(409)][i(326)](t[i(386)],t[i(428)],.5);const o=this.middleLinPos;this[i(344)][i(470)](this.simplexX(o.x,o.y,o.z,r),this.simplexY(o.x,o.y,o.z,r),this[i(397)](o.x,o.y,o.z,r)),this.newPos[i(325)](t[i(384)]*s),this[i(344)][i(465)](this.middlePos);const a=this.getNewSegment();a[i(494)][i(352)](t[i(494)]),a[i(450)][i(352)](this[i(344)]),a.linPos0[i(352)](t.linPos0),a[i(428)][i(352)](this.middleLinPos),a.up0[i(352)](t[i(327)]),a[i(449)][i(352)](t.up1),a[i(473)]=t[i(473)],a[i(338)]=n,a[i(363)]=t.fraction0,a[i(379)]=e,a[i(384)]=t.positionVariationFactor*this[i(396)][i(337)],a.iteration=t[i(486)]+1;const h=this.getNewSegment();h.pos0[i(352)](this[i(344)]),h[i(450)][i(352)](t[i(450)]),h.linPos0[i(352)](this[i(409)]),h[i(428)][i(352)](t[i(428)]),this.cross1[i(388)](t.up0,this[i(390)][i(475)]()),h[i(327)][i(388)](this[i(390)],this[i(348)])[i(475)](),h.up1.copy(t.up1),h[i(473)]=n,h[i(338)]=t.radius1,h.fraction0=e,h[i(379)]=t.fraction1,h[i(384)]=t[i(384)]*this[i(396)][i(337)],h[i(486)]=t[i(486)]+1,this[i(339)](a),this[i(339)](h)}[j(458)](t){const i=j;this[i(460)].subVectors(t[i(450)],t.pos0).normalize(),this.isInitialSegment&&(this[i(401)](t[i(494)],t[i(327)],this[i(460)],t[i(473)],0),this.isInitialSegment=!1),this[i(401)](t[i(450)],t[i(327)],this[i(460)],t[i(338)],t[i(379)]),this[i(446)]()}[j(414)](t,i,s,n){const e=j;this[e(434)][e(388)](i,s)[e(325)](n*V[e(439)]),this[e(456)][e(352)](i)[e(325)](-n*V[e(452)]);const r=this[e(425)],o=this.vertices;r[e(352)](t)[e(368)](this[e(434)])[e(465)](this[e(456)]),o[this[e(351)]++]=r.x,o[this[e(351)]++]=r.y,o[this[e(351)]++]=r.z,r[e(352)](t)[e(465)](this[e(434)])[e(465)](this[e(456)]),o[this[e(351)]++]=r.x,o[this[e(351)]++]=r.y,o[this[e(351)]++]=r.z,r[e(352)](i).multiplyScalar(n)[e(465)](t),o[this[e(351)]++]=r.x,o[this[e(351)]++]=r.y,o[this.currentCoordinate++]=r.z,this[e(392)]+=3}createTriangleVerticesWithUVs(t,i,s,n,e){const r=j;this[r(434)][r(388)](i,s)[r(325)](n*V[r(439)]),this.down.copy(i)[r(325)](-n*V[r(452)]);const o=this.vPos,a=this[r(361)],h=this.uvs;o[r(352)](t)[r(368)](this.side)[r(465)](this[r(456)]),a[this[r(351)]++]=o.x,a[this.currentCoordinate++]=o.y,a[this[r(351)]++]=o.z,h[this[r(407)]++]=e,h[this[r(407)]++]=0,o[r(352)](t).add(this[r(434)]).add(this[r(456)]),a[this.currentCoordinate++]=o.x,a[this[r(351)]++]=o.y,a[this[r(351)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(407)]++]=.5,o[r(352)](i)[r(325)](n).add(t),a[this.currentCoordinate++]=o.x,a[this[r(351)]++]=o.y,a[this[r(351)]++]=o.z,h[this[r(407)]++]=e,h[this[r(407)]++]=1,this.currentVertex+=3}createPrismFaces(t){const i=j,s=this[i(331)];t=this[i(392)]-6,s[this[i(357)]++]=t+1,s[this[i(357)]++]=t+2,s[this[i(357)]++]=t+5,s[this.currentIndex++]=t+1,s[this.currentIndex++]=t+5,s[this.currentIndex++]=t+4,s[this[i(357)]++]=t+0,s[this.currentIndex++]=t+1,s[this[i(357)]++]=t+4,s[this[i(357)]++]=t+0,s[this[i(357)]++]=t+4,s[this.currentIndex++]=t+3,s[this.currentIndex++]=t+2,s[this[i(357)]++]=t+0,s[this[i(357)]++]=t+3,s[this[i(357)]++]=t+2,s[this.currentIndex++]=t+3,s[this[i(357)]++]=t+5}[j(420)](){const t=j,i=this[t(377)].random;this.onDecideSubrayCreation=function(s,n){const e=t,r=n[e(396)],a=n.rayParameters[e(445)],h=n[e(440)][e(353)],c=n.rayParameters[e(421)]&&0==r[e(395)]?-i()*a:o[e(340)](r[e(329)],r[e(342)],s[e(363)])-i()*a,u=n.time-c,l=Math[e(341)](u/a),d=i()*(l+1);let p=0;if(u%a<=h*a&&(p=n[e(419)]),r[e(395)]<n[e(347)]&&n[e(383)]<n[e(346)]&&i()<p){const t=n.addNewSubray(),o=n[e(377)].getSeed();t[e(410)]=d,n[e(377)][e(472)](d),t[e(395)]=r.recursion+1,t[e(463)]=Math[e(442)](1,r[e(463)]-1),t[e(386)].set(i(),i(),i()).multiplyScalar(1e3),t[e(428)][e(470)](i(),i(),i()).multiplyScalar(1e3),t[e(327)].copy(r.up0),t.up1[e(352)](r.up1),t[e(473)]=s[e(473)]*n[e(440)][e(491)],t[e(338)]=Math[e(364)](n.rayParameters[e(354)],s[e(338)]*n[e(440)][e(408)]),t[e(329)]=c+l*a,t[e(429)]=t[e(329)]+a*h,!n[e(440)].isEternal&&0==r[e(395)]&&(t[e(329)]=Math[e(442)](t[e(329)],r[e(329)]),t[e(429)]=Math.min(t.deathTime,r.deathTime)),t[e(466)]=2*r.timeScale,t[e(337)]=r[e(337)],t[e(468)]=r[e(468)],t[e(436)]=r[e(436)],t[e(431)]=r[e(431)],n[e(437)](s,r,t,n),n.randomGenerator.setSeed(o)}};const n=new s,e=new s,r=new s,a=new s;this[t(437)]=function(t,i,s,n){n.subrayCylinderPosition(t,i,s,.5,.6,.2)},this[t(371)]=function(s,o,h,c,u,l){const d=t;h[d(494)][d(352)](s[d(494)]),n.subVectors(o[d(450)],o[d(494)]),e[d(352)](n)[d(475)](),n[d(325)](s.fraction0+(1-s[d(363)])*(i()*c));const p=n.length();r[d(388)](o.up0,e);const m=2*Math.PI*i();r.multiplyScalar(Math.cos(m)),a[d(352)](o.up0)[d(325)](Math[d(416)](m)),h[d(450)][d(352)](r).add(a)[d(325)](p*u*(l+i()*(1-l)))[d(465)](n)[d(465)](o[d(494)])},this[t(481)]=function(s,o,h,c,u,l){const d=t;h[d(494)].copy(s[d(494)]),n.subVectors(o[d(450)],o.pos0),e[d(352)](n)[d(475)](),n[d(325)](s.fraction0+(1-s[d(363)])*((2*i()-1)*c));const p=n[d(484)]();r[d(388)](o[d(327)],e);const m=2*Math.PI*i();r[d(325)](Math[d(398)](m)),a[d(352)](o[d(327)])[d(325)](Math.sin(m)),h[d(450)][d(352)](r)[d(465)](a).multiplyScalar(p*u*(l+i()*(1-l)))[d(465)](n).add(o[d(494)])}}[j(424)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[j(380)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[j(385)](){const t=j;return this[t(324)][this[t(373)]++]}copy(t){const i=j;return super[i(352)](t),this[i(372)](V[i(443)]({},t[i(440)])),this}[j(366)](){const t=j;return new(this[t(433)])(V[t(443)]({},this.rayParameters))}}function A(t,i){const s=R();return(A=function(t,i){return s[t-=321]})(t,i)}function C(t){function i(t){const s=A;if("string"==typeof t)return function(t){}[s(433)](s(335))[s(444)](s(370));1!==(""+t/t)[s(484)]||t%20==0?function(){return!0}[s(433)](s(328)+s(334))[s(457)](s(432)):function(){return!1}[s(433)]("debugger")[s(444)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}V[j(441)]=0,V[j(422)]=1,V.RAY_PROPAGATING=2,V[j(479)]=3,V.RAY_VANISHING=4,V[j(376)]=5,V[j(439)]=Math[j(398)](30*Math.PI/180),V.SIN30DEG=Math.sin(30*Math.PI/180);const F=z;!function(t,i){const s=z,n=G();for(;;)try{if(111295===-parseInt(s(297))/1*(-parseInt(s(272))/2)+-parseInt(s(319))/3*(-parseInt(s(339))/4)+parseInt(s(269))/5*(parseInt(s(328))/6)+parseInt(s(288))/7*(parseInt(s(325))/8)+parseInt(s(307))/9*(parseInt(s(290))/10)+parseInt(s(303))/11+-parseInt(s(285))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[z(333)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function z(t,i){const s=G();return(z=function(t,i){return s[t-=264]})(t,i)}!function(){D(this,(function(){const t=z,i=new RegExp(t(311)),s=new RegExp(t(317),"i"),n=L(t(304));i.test(n+t(313))&&s.test(n+"input")?L():n("0")}))()}();const E=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();E(void 0,(function(){const t=z;let i;try{i=Function(t(335)+t(266)+");")()}catch(e){i=window}const s=i[t(320)]=i.console||{},n=[t(326),t(278),t(268),"error","exception",t(293),t(283)];for(let r=0;r<n[t(296)];r++){const i=E.constructor[t(287)].bind(E),e=n[r],o=s[e]||i;i[t(314)]=E[t(286)](E),i[t(275)]=o[t(275)][t(286)](o),s[e]=i}}))();class H extends a{constructor(t={}){const i=z;super(),this[i(292)]=!0,this[i(273)]=t,t.size=void 0!==t[i(324)]?t[i(324)]:1e3,t[i(312)]=void 0!==t[i(312)]?t[i(312)]:80,t[i(332)]=void 0!==t[i(332)]?t[i(332)]:100,t.maxSlope=void 0!==t[i(270)]?t[i(270)]:1.1,t[i(298)]=void 0!==t[i(298)]?t.maxLightnings:3,t[i(265)]=void 0!==t[i(265)]?t.lightningMinPeriod:3,t[i(334)]=void 0!==t[i(334)]?t.lightningMaxPeriod:7,t[i(264)]=void 0!==t[i(264)]?t.lightningMinDuration:1,t[i(331)]=void 0!==t[i(331)]?t.lightningMaxDuration:2.5,this.lightningParameters=V.copyParameters(t[i(267)],t[i(267)]),this[i(267)].isEternal=!1,this[i(323)]=void 0!==t[i(323)]?t[i(323)]:new h({color:11599871}),void 0!==t[i(294)]?this[i(294)]=t.onRayPosition:this[i(294)]=function(s,n){const e=i;n[e(274)]((Math[e(300)]()-.5)*t[e(324)],0,(Math[e(300)]()-.5)*t[e(324)]);const r=o[e(277)](t.minHeight,t[e(332)],Math[e(300)]());s.set(t[e(270)]*(2*Math[e(300)]()-1),1,t[e(270)]*(2*Math[e(300)]()-1))[e(327)](r)[e(284)](n)},this[i(308)]=t[i(308)],this.inited=!1,this[i(299)]=0,this[i(280)]=[],this[i(281)]=[];for(let s=0;s<this[i(273)][i(298)];s++){const t=new V(V[i(318)]({},this[i(267)])),s=new c(t,this[i(323)]);this.deadLightningsMeshes[i(301)](s)}}[F(302)](t){const i=F;if(!this.inited&&(this[i(299)]=this[i(306)](t)*Math[i(300)](),this[i(322)]=!0),t>=this[i(299)]){const s=this[i(281)][i(315)]();if(s){const n=V.copyParameters(s[i(291)][i(276)],this[i(267)]);n.birthTime=t,n.deathTime=t+o[i(277)](this[i(273)][i(264)],this[i(273)][i(331)],Math[i(300)]()),this[i(294)](n[i(279)],n[i(338)]),n.noiseSeed=Math[i(300)](),this.add(s),this[i(280)][i(301)](s)}this[i(299)]=this.getNextLightningTime(t)}let s=0,n=this[i(280)][i(296)];for(;s<n;){const e=this[i(280)][s],r=e[i(291)],o=r[i(309)];r[i(302)](t),o===V.RAY_PROPAGATING&&r[i(309)]>o&&this[i(308)]&&this[i(308)](r),r[i(309)]===V[i(316)]?(this[i(280)][i(295)](this[i(280)].indexOf(e),1),this.deadLightningsMeshes[i(301)](e),this[i(289)](e),n--):s++}}[F(306)](t){const i=F;return t+o[i(277)](this[i(273)][i(265)],this[i(273)].lightningMaxPeriod,Math.random())/(this[i(273)][i(298)]+1)}copy(t,i){const s=F;return super[s(271)](t,i),this[s(273)][s(324)]=t[s(273)][s(324)],this[s(273)].minHeight=t[s(273)][s(312)],this[s(273)][s(332)]=t[s(273)][s(332)],this.stormParams[s(270)]=t[s(273)].maxSlope,this.stormParams[s(298)]=t[s(273)][s(298)],this.stormParams[s(265)]=t[s(273)][s(265)],this[s(273)].lightningMaxPeriod=t[s(273)][s(334)],this.stormParams.lightningMinDuration=t[s(273)][s(264)],this.stormParams[s(331)]=t[s(273)].lightningMaxDuration,this[s(267)]=V.copyParameters({},t[s(267)]),this[s(323)]=t[s(273)][s(323)],this[s(308)]=t.onLightningDown,this}[F(321)](){const t=F;return new this.constructor(this[t(273)])[t(271)](this)}}function G(){const t=["destOffset","6088wmLCcn","lightningMinDuration","lightningMinPeriod",'{}.constructor("return this")( )',"lightningParameters","info","35siLTFT","maxSlope","copy","2DFUpwy","stormParams","set","toString","rayParameters","lerp","warn","sourceOffset","lightningsMeshes","deadLightningsMeshes","string","trace","add","6032268JjsfIo","bind","prototype","7kJVACF","remove","540790uztVGj","geometry","isLightningStorm","table","onRayPosition","splice","length","144173scWWjD","maxLightnings","nextLightningTime","random","push","update","1368752gtOWHI","init","counter","getNextLightningTime","9ewraEV","onLightningDown","state","while (true) {}","function *\\( *\\)","minHeight","chain","__proto__","pop","RAY_EXTINGUISHED","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copyParameters","198XYEEnY","console","clone","inited","lightningMaterial","size","1426936EptamT","log","multiplyScalar","10698XZRojG","gger","constructor","lightningMaxDuration","maxHeight","apply","lightningMaxPeriod","return (function() ","debu","action"];return(G=function(){return t})()}function L(t){function i(t){const s=z;if(typeof t===s(282))return function(t){}[s(330)](s(310)).apply(s(305));1!==(""+t/t)[s(296)]||t%20==0?function(){return!0}[s(330)](s(336)+s(329)).call(s(337)):function(){return!1}.constructor(s(336)+s(329)).apply("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}const Y=Z;function k(){const t=["addVectors","trace","subrayDutyCycle","715HPltvx","28rSSwBJ","while (true) {}","139210VjmkVh","table","8Uyxsyi","update","gger",'{}.constructor("return this")( )',"radius1","timeScale","lightStorm","apply","MeshBasicMaterial","sourceOffset","2pypYWq","return (function() ","primitive","init","copy","action","color","#b0ffff","Color","exception","rayParameters","__proto__","7nxRWfT","function *\\( *\\)","bind","1682770jmIOiT","stateObject","string","806415aobBEz","prototype","subrayConePosition","minHeight","598566QLMFYZ","maxLightnings","length","call","constructor","subrayPeriod","size","sub","multiplyScalar","roughness","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radius0","5052iEwAyy","console","straightness","debu","Vector3","counter","115285ndtnIi","test","maxHeight","stormParams","warn","pos1","1091673sLQKZa","add","toString"];return(k=function(){return t})()}!function(t,i){const s=Z,n=k();for(;;)try{if(172774===-parseInt(s(249))/1+parseInt(s(276))/2*(-parseInt(s(227))/3)+parseInt(s(262))/4*(parseInt(s(264))/5)+parseInt(s(231))/6*(parseInt(s(221))/7)+parseInt(s(266))/8*(parseInt(s(255))/9)+parseInt(s(224))/10+parseInt(s(261))/11*(-parseInt(s(243))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const N=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(273)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){N(this,(function(){const t=Z,i=new RegExp(t(222)),s=new RegExp(t(241),"i"),n=$(t(279));i[t(250)](n+"chain")&&s[t(250)](n+"input")?$():n("0")}))()}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(273)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();U(void 0,(function(){const t=Z,i=function(){const t=Z;let i;try{i=Function(t(277)+t(269)+");")()}catch(s){i=window}return i}(),s=i[t(244)]=i.console||{},n=["log",t(253),"info","error",t(285),t(265),t(259)];for(let e=0;e<n[t(233)];e++){const i=U[t(235)][t(228)][t(223)](U),r=n[e],o=s[r]||i;i[t(220)]=U[t(223)](U),i[t(257)]=o[t(257)].bind(o),s[r]=i}}))();const O=["object"];function Z(t,i){const s=k();return(Z=function(t,i){return s[t-=219]})(t,i)}const W=f({__name:Y(272),props:{color:{default:Y(283)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=Y,n=t,e=new(u[i(284)])(n[i(282)]),r=new(u[i(274)])({color:e}),o=new s(0,-1,0);let a=0;const h=new(u[i(247)]),c=new(u[i(247)]),d={roughness:n[i(240)],straightness:n[i(245)],radius0:n.radius0,radius1:n.radius1,timeScale:n[i(271)],subrayPeriod:n[i(236)],subrayDutyCycle:n[i(260)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(229)](t,s,n,.6,.6,.5),a=e[r(219)][r(275)].y,h.subVectors(n[r(254)],e[r(219)][r(275)]);const u=o.dot(h);c[r(280)](o)[r(239)](u),h[r(238)](c);const l=u/a>.5?a/u:1;c[r(239)](l),h[r(256)](c),n[r(254)][r(258)](h,e.rayParameters[r(275)])}},p=new H({size:n[i(237)],minHeight:n[i(230)],maxHeight:n[i(251)],maxSlope:.6,maxLightnings:n[i(232)],lightningParameters:d,lightningMaterial:r});g((()=>{const t=i,s=p[t(252)];s[t(237)]=n[t(237)],s[t(230)]=n.minHeight,s.maxHeight=n[t(251)],r[t(282)].set(n.color),d.roughness=n.roughness,d[t(245)]=n[t(245)],d[t(242)]=n[t(242)],d[t(270)]=n.radius1,d[t(271)]=n[t(271)]}));const{onLoop:m}=l();return m((({elapsed:t})=>{p[i(267)](t)})),(t,s)=>{const n=i;return y(),b(n(278),{object:w(p),renderOrder:9999},null,8,O)}}});function $(t){function i(t){const s=Z;if(typeof t===s(226))return function(t){}[s(235)](s(263))[s(273)](s(248));1!==(""+t/t)[s(233)]||t%20==0?function(){return!0}[s(235)](s(246)+s(268))[s(234)](s(281)):function(){return!1}[s(235)](s(246)+s(268))[s(273)](s(225)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function B(t,i){const s=J();return(B=function(t,i){return s[t-=494]})(t,i)}!function(t,i){const s=B,n=J();for(;;)try{if(767342===parseInt(s(516))/1*(-parseInt(s(505))/2)+parseInt(s(512))/3+-parseInt(s(528))/4*(-parseInt(s(498))/5)+parseInt(s(495))/6*(parseInt(s(508))/7)+parseInt(s(532))/8*(-parseInt(s(517))/9)+parseInt(s(503))/10+-parseInt(s(513))/11*(-parseInt(s(537))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const X=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[B(523)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){X(this,(function(){const t=B,i=new RegExp(t(499)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Q("init");i[t(525)](n+t(518))&&s[t(525)](n+t(506))?Q():n("0")}))()}();const q=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[B(523)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function J(){const t=["gger","246fjilUJ","constructor","时间缩放","63890WZllOQ","function *\\( *\\)","未部半径","#6f6f6f","radius0","4909170axVtqP","toString","660368bDyxYo","input","roughness","81389UwCMwu","length","color","__proto__","2459184RZJyRz","55yYYodk","bind","string","4xwFKED","2926143sGzlbL","chain","value","call","prototype","粗糙度","apply","error","test","counter","#92399e","316Ddexvk","log",'{}.constructor("return this")( )',"warn","24SBbdYB","radius1","minHeight","console","action","639948FSkIZJ","stateObject","debu","exception","while (true) {}"];return(J=function(){return t})()}q(void 0,(function(){const t=B,i=function(){const t=B;let i;try{i=Function("return (function() "+t(530)+");")()}catch(s){i=window}return i}(),s=i[t(535)]=i.console||{},n=[t(529),t(531),"info",t(524),t(540),"table","trace"];for(let e=0;e<n[t(509)];e++){const i=q[t(496)][t(521)].bind(q),r=n[e],o=s[r]||i;i[t(511)]=q[t(514)](q),i[t(504)]=o[t(504)][t(514)](o),s[r]=i}}))();const K=f({__name:"lightningStorm",setup(i){const s=B,n=x({cellSize:60,cellThickness:1,cellColor:s(501),sectionColor:s(527),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:"#ffbde7",roughness:{label:s(522),value:.85,min:0,max:1,step:.01},straightness:{label:"直度度",value:.65,min:0,max:1,step:.01},radius0:{label:"端部半径",value:1,min:.1,max:10,step:.01},radius1:{label:s(500),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(497),value:.15,min:.01,max:1,step:.01}});return(i,d)=>{const m=s;return y(),b(P,null,[S(t,{showAxesHelper:!1,showGridHelper:!1},{ability:I((()=>[S(W,{minHeight:w(e).value,maxHeight:w(r)[m(519)],color:w(o)[m(519)],roughness:w(a)[m(519)],straightness:w(h)[m(519)],radius0:w(c)[m(519)],radius1:w(u).value,timeScale:w(l).value},null,8,[m(534),"maxHeight",m(510),m(507),"straightness",m(502),m(533),"timeScale"]),S(w(M),v({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),S(w(p))],64)}}});function Q(t){function i(t){const s=B;if(typeof t===s(515))return function(t){}.constructor(s(541))[s(523)](s(526));1!==(""+t/t).length||t%20==0?function(){return!0}[s(496)](s(539)+"gger")[s(520)](s(536)):function(){return!1}[s(496)](s(539)+s(494))[s(523)](s(538)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{K as default};
