import{b as t,_ as n,b7 as e,a as o}from"./three.8y0_KTxz1741594518249.js";import{m as a}from"./@tresjs.gjafZgVK1741594518249.js";import{d as r,P as s}from"./@pmndrs.0VhNBP751741594518249.js";import{d as i,b as c,w as u,a2 as l,o as f,H as p,N as d,aj as h,ak as m}from"./@vue.NRI7TcgI1741594518249.js";const w=x;!function(t,n){const e=x,o=M();for(;;)try{if(339217===parseInt(e(507))/1+-parseInt(e(459))/2*(parseInt(e(441))/3)+-parseInt(e(458))/4+parseInt(e(474))/5+-parseInt(e(467))/6*(-parseInt(e(435))/7)+-parseInt(e(493))/8+-parseInt(e(476))/9)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const b=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=x,n=new RegExp(t(502)),e=new RegExp(t(500),"i"),o=I(t(489));n[t(495)](o+t(477))&&e.test(o+t(462))?I():o("0")}))()}();const y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[x(463)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["rotate-x","exception","clear","1257368zkVYRq","206BsQLXZ","length","prepare","input","apply","color","gger","randFloatSpread","6ilLOQv","console","shadow","Group","camera","while (true) {}","TresPlaneGeometry","1574380aJmxyt","counter","1127781LWUDqt","chain","acos","update","set","call","children","value","TresSoftShadowMaterial","alphaTest","string","ambient","position","init","shadows render start","texture",'{}.constructor("return this")( )',"387040TwZBzG","opacity","test","bottom","near","right","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","function *\\( *\\)","accumulativeShadowsCom","bind","TresMesh","height","521326yAyNHs","far","intensity","debu","random","MathUtils","sin","top","size","amount","error","constructor","blend","castShadow","gPlane","4601471kouLnf","material","trace","mapSize","shadows plm update","finish","19407QODXvJ","warn","lightPosition","info","configure","return (function() ","cos","frames","radius","log","width","shadows render end","blendWindow","add"];return(M=function(){return t})()}y(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(446)+t(492)+");")()}catch(e){n=window}return n}(),e=n[t(468)]=n[t(468)]||{},o=[t(450),t(442),t(444),t(430),t(456),"table",t(437)];for(let a=0;a<o[t(460)];a++){const n=y[t(431)].prototype[t(504)](y),r=o[a],s=e[r]||n;n[t(499)]=y[t(504)](y),n.toString=s[t(501)][t(504)](s),e[r]=n}}))();const g=[w(455)];function x(t,n){const e=M();return(x=function(t,n){return e[t-=422]})(t,n)}const z=i({__name:w(503),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(i){const b=w,y=i;let M=c();const{extend:x,scene:z,renderer:I,camera:S}=a();x({SoftShadowMaterial:r});const v={position:(new t)[b(480)](y[b(443)].x,y[b(443)].y,y[b(443)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},_=new s(I[b(483)],z.value,v[b(438)]),P={map:_.progressiveLightMap2[b(491)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:y[b(432)],alphaTest:y[b(485)],opacity:y[b(494)],color:y.color},T=new(n[b(470)]);for(let t=0;t<v[b(429)];t++){const t=new e(16777215,v[b(422)]/v[b(429)]);t[b(433)]=!0,t[b(469)].bias=v.bias,t[b(469)][b(471)].near=v[b(497)],t.shadow[b(471)][b(508)]=v[b(508)],t[b(469)][b(471)][b(498)]=v[b(428)]/2,t[b(469)].camera.left=-v.size/2,t.shadow[b(471)][b(427)]=v[b(428)]/2,t.shadow[b(471)][b(496)]=-v[b(428)]/2,t[b(469)][b(438)][b(451)]=v[b(438)],t[b(469)][b(438)][b(506)]=v[b(438)],T[b(454)](t)}const j=()=>{const t=b,e=v[t(488)][t(460)]();for(let a=0;a<T[t(482)][t(460)];a++){const r=T.children[a];if(Math[t(424)]()>y[t(487)])r[t(488)][t(480)](v[t(488)].x+o[t(466)](v[t(449)]),v[t(488)].y+o[t(466)](v[t(449)]),v[t(488)].z+n[t(425)].randFloatSpread(v[t(449)]));else{let n=Math[t(478)](2*Math[t(424)]()-1)-Math.PI/2,o=2*Math.PI*Math[t(424)]();r.position.set(Math[t(447)](n)*Math[t(447)](o)*e,Math.abs(Math[t(447)](n)*Math[t(426)](o)*e),Math[t(426)](n)*e)}}},k=(t=1)=>{const n=b;z.value[n(454)](T),_[n(461)]();for(let e=0;e<t;e++)j(),_[n(479)](S[n(483)],y[n(453)]),console[n(450)](n(439),e);z[n(483)].remove(T),_[n(440)]()};u((()=>M[b(483)]),(t=>{const n=b;t&&(_[n(445)](t),_[n(457)](),console[n(450)](n(490)),k(y[n(448)]),console[n(450)](n(452)))}));const L=()=>{_[b(457)](),k(y.frames)};return l((()=>{const t=b;M[t(483)]&&(y[t(494)]&&(M[t(483)][t(436)].opacity=y[t(494)]),y[t(485)]&&(M[t(483)][t(436)].alphaTest=y[t(485)]),y[t(464)]&&M[t(483)][t(436)][t(464)][t(480)](y[t(464)]),y[t(432)]&&(M[t(483)][t(436)][t(432)]=y.blend))})),u((()=>y[b(443)]),(t=>{const n=b;t&&(console[n(450)](y.lightPosition),v[n(488)][n(480)](t.x,t.y,t.z),L())}),{deep:!0}),u((()=>[y[b(448)],y[b(453)],y[b(487)]]),(()=>{L()})),(t,n)=>{const e=b;return f(),p(e(505),{"receive-shadow":"",ref_key:e(434),ref:M,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=d(e(473),{args:[1,1]},null,-1)),d(e(484),h(m(P)),null,16)],8,g)}}});function I(t){function n(t){const e=x;if(typeof t===e(486))return function(t){}[e(431)](e(472))[e(463)](e(475));1!==(""+t/t)[e(460)]||t%20==0?function(){return!0}.constructor("debu"+e(465))[e(481)]("action"):function(){return!1}[e(431)](e(423)+e(465))[e(463)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{z as _};
