import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.Q4_KYO2a1739444016646.js";import{_ as s}from"./index.mVT87Le01739444016646.js";import{a8 as i,_ as c,B as u,cx as a}from"./three.W6GmiHfn1739444016646.js";import{P as l}from"./tweakpane.yDiyAAkA1739444016646.js";import{I as p,C as f,N as d,c as h,d as m,a as g}from"./three-mesh-bvh.QFDNi-ac1739444016646.js";import{d as y,a3 as w,b,a2 as j,o as v,H as _,N as I,u as x,F as M,r as R,e as k,j as A,g as T,m as C,f as E,al as S}from"./@vue.NRI7TcgI1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";import"./index.3br9JbVw1739444016646.js";import"./@fesjs.sJn9--0s1739444016646.js";import"./vue-router.AC2Dribr1739444016646.js";import"./lodash-es.pklfUAS51739444016646.js";import"./@qlin.yHhFDldE1739444016646.js";import"./pinia.yh3RXIKV1739444016646.js";import"./@floating-ui.BPbuo5Gx1739444016646.js";import"./@juggle.7yjBMqoW1739444016646.js";import"./chalk.9FGrMJNn1739444016646.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1739444016646.js";import"./@iconify.dt4P0LGS1739444016646.js";import"./dompurify.rQUea5mq1739444016646.js";import"./utils.vvysvyOt1739444016646.js";import"./default.vue_vue_type_script_setup_true_lang.5vPwGY0u1739444016646.js";import"./three-mesh-ui.module.nOGP5fPP1739444016646.js";!function(t,n){const e=B,r=F();for(;;)try{if(426586===parseInt(e(462))/1+parseInt(e(477))/2+-parseInt(e(452))/3+-parseInt(e(474))/4+parseInt(e(479))/5+-parseInt(e(450))/6+parseInt(e(475))/7)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){z(this,(function(){const t=B,n=new RegExp(t(457)),e=new RegExp(t(458),"i"),r=H(t(464));n[t(495)](r+t(483))&&e[t(495)](r+t(489))?H():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(492)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(){const t=["addEventListener","action","2693772AaWXan","5400451SXiAmE","clientY","266488ZsUuHV","trace","34430LGbnWO","gger","length","toString","chain","exception","call","prototype","value","constructor","input","debu","pointerType","apply","console","pointermove","test","stateObject","2018544FJWHdN","touch","116133GkCdeq","log","error","button","__proto__","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","pointerdown","info","563541vQErQi","innerWidth","init","while (true) {}","clientX","bind","pointerup","table",'{}.constructor("return this")( )',"innerHeight"];return(F=function(){return t})()}function B(t,n){const e=F();return(B=function(t,n){return e[t-=449]})(t,n)}Z(void 0,(function(){const t=B;let n;try{n=Function("return (function() "+t(470)+");")()}catch(o){n=window}const e=n[t(493)]=n.console||{},r=[t(453),"warn",t(461),t(454),t(484),t(469),t(478)];for(let s=0;s<r[t(481)];s++){const n=Z[t(488)][t(486)].bind(Z),o=r[s],i=e[o]||n;n[t(456)]=Z[t(467)](Z),n[t(482)]=i.toString.bind(i),e[o]=n}}))();function H(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(488)](e(465))[e(492)](e(459));1!==(""+t/t)[e(481)]||t%20==0?function(){return!0}.constructor(e(490)+"gger")[e(485)](e(473)):function(){return!1}.constructor(e(490)+e(480))[e(492)](e(449)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=L;!function(t,n){const e=L,r=V();for(;;)try{if(807726===parseInt(e(541))/1+-parseInt(e(500))/2+parseInt(e(532))/3+parseInt(e(519))/4+parseInt(e(538))/5*(parseInt(e(515))/6)+parseInt(e(554))/7*(-parseInt(e(501))/8)+-parseInt(e(529))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(480)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(t,n){const e=V();return(L=function(t,n){return e[t-=466]})(t,n)}!function(){X(this,(function(){const t=L,n=new RegExp(t(466)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=q(t(553));n[t(505)](r+t(472))&&e[t(505)](r+"input")?q():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(480)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=L;let n;try{n=Function(t(542)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(504)]=n[t(504)]||{},r=[t(470),"warn",t(551),t(491),"exception",t(475),t(510)];for(let s=0;s<r[t(522)];s++){const n=Q[t(525)][t(473)].bind(Q),o=r[s],i=e[o]||n;n[t(474)]=Q[t(527)](Q),n[t(492)]=i[t(492)][t(527)](i),e[o]=n}}))();const G=["geometry",O(530)],P=[O(544)];function V(){const t=["boundsTree","chain","prototype","__proto__","table","Matrix4","computeBoundsTree","brushMesh","debu","apply","copy","DynamicDrawUsage","visible","Mesh","setAttribute","TresMeshStandardMaterial","containsPoint","model","disposeBoundsTree","stateObject","error","toString","Vector3","matrixWorld","BufferGeometry","Sphere","TresSphereGeometry","Vector2","getX","1505744XnEnDM","566624wobKKR","firstHitOnly","targetMesh.value init","console","test","setFromCamera","gger","click","intersectObject","trace","#023249","controls","while (true) {}","setScalar","535974dnRnih","radius","applyMatrix4","enabled","5357504DjGkgP","MeshStandardMaterial","string","length","counter","value","constructor","call","bind","setUsage","10656153rjrRLQ","material","point","1920507ltWqQi","position","TresMesh","shapecast","scale","instance","25baywaL","push","点击按钮","814221MTHIhv","return (function() ","生成模型","geometry","index","fill","setY","intersectsBox","getZ","getY","info","raycast","init","49vOFVpx","setX","addButton","normal","function *\\( *\\)","BufferAttribute","targetMesh","attributes","log"];return(V=function(){return t})()}const W=y({__name:O(488),props:{controls:{}},async setup(r){const o=O;let s,y;const R=r;(()=>{const t=L;u[t(473)][t(477)]=h,c[t(495)][t(473)][t(489)]=m,c[t(484)][t(473)][t(552)]=g})();const k=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),A=new(c[o(520)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),T=new Uint8Array(3*k.attributes.position.count);T[o(546)](255);const C=new(c[o(467)])(T,3,!0);C[o(528)](c[o(482)]),k[o(485)]("color",C);const E=b(null),S=b(null),z=b(!1),Z=b(-1),F=b(.2),H=new(c[o(498)]),{camera:X,raycaster:Q}=t(),V=15/255,W=78/255,q=85/255;let U=null;j((()=>{const t=o;E[t(524)]&&(console[t(470)](t(503),E[t(524)]),E[t(524)][t(544)][t(477)](),U=k[t(471)],((t,n,e,r,o,s)=>{const c=B;window[c(472)](c(494),(e=>{const r=c;t.x=e[r(466)]/window[r(463)]*2-1,t.y=-e[r(476)]/window.innerHeight*2+1,n[r(487)]=!0})),window.addEventListener(c(460),(u=>{const a=c;t.x=u[a(466)]/window.innerWidth*2-1,t.y=-u[a(476)]/window[a(471)]*2+1,r[a(487)]=u[a(455)];const l=new i;l.setFromCamera(t,e[a(487)]),l.firstHitOnly=!0;const p=l.intersectObject(o[a(487)],!0);n[a(487)]=!0,s.enabled=0===p.length}),!0),window[c(472)](c(468),(t=>{const e=c;r.value=-1,t[e(491)]===e(451)&&(n[e(487)]=!1)}),!0)})(H,z,X,Z,E,R.controls.instance))}));const{onLoop:Y}=n();Y((()=>{const t=o,n=k[t(545)];if(S.value)if(R[t(512)].instance.active||!z[t(524)])S.value.visible=!1;else{S[t(524)][t(536)][t(514)](F.value),Q[t(524)][t(506)](H,X.value),Q[t(524)][t(502)]=!0;const e=Q.value[t(509)](E[t(524)],!0);if(e[t(522)]){S[t(524)].position[t(481)](e[0][t(531)]),R[t(512)][t(537)][t(518)]=!1,S[t(524)][t(483)]=!0;const r=new(c[t(476)]);r[t(481)](E[t(524)][t(494)]).invert();const o=new(c[t(496)]);o.center.copy(S.value[t(533)])[t(517)](r),o[t(516)]=100*F[t(524)];const s=[],i=new(c[t(493)]);if(null==U||U[t(535)]({intersectsBounds:n=>{const e=t,r=o[e(548)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i.set(0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(487)](i))return p;return f}return r?p:d},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(539)](t,t+1,t+2)}return!1}}),0===Z[t(524)]||2===Z[t(524)]){let e=1,r=1,o=1;0===Z[t(524)]&&(e=V,r=W,o=q);for(let i=0,c=s[t(522)];i<c;i++){const c=n[t(499)](s[i]);C[t(555)](c,e),C[t(547)](c,r),C.setZ(c,o)}C.needsUpdate=!0}}else S[t(524)].visible=!1,R.controls[t(537)][t(518)]=!0}}));const $=(new l)[o(556)]({title:o(540),label:o(543)}),K=new(c[o(495)]);return $.on(o(508),(()=>{const t=o,n=[],e=[];for(let o=0;o<C.count;o++)C[t(499)](o)===V&&C.getY(o)===W&&C[t(549)](o)===q&&(n.push(k[t(469)][t(533)][t(499)](o),k[t(469)][t(533)][t(550)](o),k[t(469)][t(533)].getZ(o)),e.push(k[t(469)].normal[t(499)](o),k[t(469)][t(557)][t(550)](o),k[t(469)][t(557)][t(549)](o)));const r=new Float32Array(n);K[t(485)](t(533),new(c[t(467)])(r,3)),K[t(485)]("normal",new(c[t(467)])(r,3))})),(t,n)=>{const e=o;return v(),_(M,null,[I(e(534),{ref_key:e(468),ref:E,geometry:x(k),scale:.005,material:x(A)},null,8,G),I(e(534),{ref_key:e(478),ref:S,visible:!1},n[0]||(n[0]=[I(e(497),{args:[1,40,40]},null,-1),I(e(486),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),I(e(534),{geometry:x(K),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[I("TresMeshStandardMaterial",{color:e(511),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,P)],64)}}});function q(t){function n(t){const e=L;if(typeof t===e(521))return function(t){}[e(525)](e(513))[e(480)](e(523));1!==(""+t/t)[e(522)]||t%20==0?function(){return!0}.constructor(e(479)+e(507))[e(526)]("action"):function(){return!1}[e(525)](e(479)+e(507)).apply(e(490)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=N;!function(t,n){const e=N,r=K();for(;;)try{if(727714===parseInt(e(534))/1*(parseInt(e(511))/2)+-parseInt(e(522))/3+parseInt(e(518))/4*(parseInt(e(533))/5)+-parseInt(e(521))/6*(parseInt(e(501))/7)+-parseInt(e(512))/8*(-parseInt(e(503))/9)+-parseInt(e(527))/10*(-parseInt(e(508))/11)+-parseInt(e(515))/12*(parseInt(e(513))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(520)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=N,n=new RegExp(t(495)),e=new RegExp(t(493),"i"),r=J(t(502));n[t(497)](r+t(528))&&e.test(r+t(523))?J():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(520)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function K(){const t=["pos-z.jpg","prototype","toString","1840619QPucxP","TresCanvas","call","1152746dKtXCw","11588464NkjsKi","220441oRGEyR","log","1308YXCiSV","TresAmbientLight","neg-x.jpg","5084tZVKpQ","pos-y.jpg","apply","60gdoHlv","1137060hAULEZ","input","string","TresPerspectiveCamera","while (true) {}","10lvqHXR","chain","collectTriangles","value","constructor","__proto__","4835dQRzyd","1FaLCIb","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","function *\\( *\\)","length","test","table","return (function() ","#999999","326389jpkVNQ","init","9yYoaPr","pos-x.jpg"];return(K=function(){return t})()}function N(t,n){const e=K();return(N=function(t,n){return e[t-=493]})(t,n)}$(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function(t(499)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(535)]=n[t(535)]||{},r=[t(514),"warn","info","error","exception",t(498),"trace"];for(let o=0;o<r[t(496)];o++){const n=$[t(531)][t(506)].bind($),s=r[o],i=e[s]||n;n[t(532)]=$.bind($),n[t(507)]=i[t(507)].bind(i),e[s]=n}}))();const D=y({__name:U(529),setup(t){const n=U,e=R({clearColor:n(500),antialias:!0}),i=R({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=k(a(509));return v(),_(M,null,[A(x(s)),A(l,C(e,{"window-size":""}),{default:T((()=>[u[0]||(u[0]=I(a(525),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),A(x(r),C({ref_key:"controlsRef",ref:c},i),null,16),u[1]||(u[1]=I(a(516),{intensity:1},null,-1)),(v(),E(S,null,{default:T((()=>[A(W,{controls:c[a(530)]},null,8,["controls"])])),_:1})),(v(),E(S,null,{default:T((()=>[A(x(o),{background:!1,files:[a(504),a(517),a(519),"neg-y.jpg",a(505),"neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function J(t){function n(t){const e=N;if(typeof t===e(524))return function(t){}[e(531)](e(526))[e(520)]("counter");1!==(""+t/t)[e(496)]||t%20==0?function(){return!0}[e(531)]("debu"+e(494))[e(510)]("action"):function(){return!1}.constructor("debugger")[e(520)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
