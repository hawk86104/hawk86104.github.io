import{a6 as t,ct as n,C as e,V as o}from"./three.ej3u8izI1722217438692.js";import{P as r}from"./tweakpane.yHWGBmom1722217438692.js";import{_ as s}from"./@tweenjs.F-UCJBA91722217438692.js";import{p as i,$ as a}from"./@tresjs.vs5lCFs11722217438692.js";import{P as c,b as u,c as p,M as l,T as f,a as m,d as g}from"./index.A3O9F0QP1722217438692.js";import{d as h,a1 as d,w as j,o as b,D as w,u as x,X as y,r as v,e as I,j as _,g as z,f as C,al as M,m as S,F as k}from"./@vue.Q1VpS3901722217438692.js";import{_ as B}from"./raycasterEvent.Ogh2Qiry1722217438692.js";import{a as R}from"./utils.dLERzDmy1722217438692.js";import"./@vueuse.mG9rDBoo1722217438692.js";import"./@mapbox.F4zCr7tg1722217438692.js";import"./@amap.FTf_Qzi31722217438692.js";import"./three-mesh-bvh.iDyulXMj1722217438692.js";import"./three-custom-shader-material.KBQJQbKq1722217438692.js";import"./object-hash.H_vbRcKd1722217438692.js";import"./jszip.FHAQs96M1722217438692.js";import"./glsl-tokenizer.BRlB_-gZ1722217438692.js";import"./glsl-token-string.R7dCM80c1722217438692.js";import"./glsl-token-functions.DFHfxlmC1722217438692.js";import"./@fesjs.oJOSvSTI1722217438692.js";import"./vue-router.K-gJhGrY1722217438692.js";import"./lodash-es.nFpJXAf-1722217438692.js";import"./@qlin.yHhFDldE1722217438692.js";import"./pinia.iyC53SMr1722217438692.js";import"./@floating-ui.BPbuo5Gx1722217438692.js";import"./@juggle.7yjBMqoW1722217438692.js";import"./http.EkRmp_-K1722217438692.js";import"./axios.FVFoCDiv1722217438692.js";import"./color.LQeIpqbp1722217438692.js";import"./color-string.QxxPhLsF1722217438692.js";import"./color-name.ptuFlZuQ1722217438692.js";import"./simple-swizzle.IxtY8mtf1722217438692.js";import"./is-arrayish.yxHwyjv-1722217438692.js";import"./color-convert.0rZWCu5M1722217438692.js";import"./lodash.zrw4T3aE1722217438692.js";import"./utils.UPkeWItR1722217438692.js";import"./d3-geo.bMzlOSe41722217438692.js";import"./d3-array.AhNJy1f41722217438692.js";function T(t,n){const e=Z();return(T=function(t,n){return e[t-=338]})(t,n)}const W=T;function Z(){const t=["provider","target","14CgIion","counter","genBright","string","constructor","dampingFactor","__proto__","prototype","tileMapMesh","console","table","Vector3","error","enableDamping","input","innerWidth","far","monochrome","isMonochrome","position0","stateObject",'{}.constructor("return this")( )',"apply","coordType","filter","592569FuFCcp","PerspectiveCamera","opposite","return (function() ","function *\\( *\\)","mapCenter","genContrast","showBoundingBox","position","minDistance","151553WjMIyk","toString","useStandardMaterial","15cStBVK","21319821ITwewB","abs","Color","gger","5730844anuyWj","render","updateProjectionMatrix","set","rotation","10oddSXd","source","camera","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","lookAt","genSaturation","log","1336188dmdgkD","info","exception","bind","value","debu","wireframe","call","chain","primitive","init","trace","innerHeight","maxZoom","while (true) {}","bbox","3284352zDztfh","action","warn","showTileNo","update","541836OmNWvo","object","#fff","length","useWorker","test"];return(Z=function(){return t})()}!function(t,n){const e=T,o=Z();for(;;)try{if(985988===-parseInt(e(383))/1*(parseInt(e(348))/2)+-parseInt(e(373))/3+parseInt(e(340))/4+parseInt(e(386))/5*(-parseInt(e(403))/6)+parseInt(e(391))/7+-parseInt(e(419))/8+-parseInt(e(387))/9*(-parseInt(e(396))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(370)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=T,n=new RegExp(t(377)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=D(t(413));n[t(345)](o+t(411))&&e[t(345)](o+t(362))?D():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(370)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(376)+t(369)+");")()}catch(e){n=window}return n}(),e=n[t(357)]=n[t(357)]||{},o=[t(402),t(421),t(404),t(360),t(405),t(358),t(414)];for(let r=0;r<o[t(343)];r++){const n=E.constructor[t(355)][t(406)](E),s=o[r],i=e[s]||n;n[t(354)]=E.bind(E),n[t(384)]=i[t(384)][t(406)](i),e[s]=n}}))();const F=[W(341),W(395)],A=h({__name:W(356),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:W(342)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(o,{expose:r}){const g=W,h=o,{renderer:y,scene:v}=i();(new c)[g(371)]=u;const I=new p;I[g(397)]=g(399),I[g(371)]=u;const _=new l;_[g(397)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",_[g(338)]=!1,_[g(344)]=!0;const z=new f(I,_);if(z[g(380)]=!1,z[g(409)]=!1,z.flatShading=!1,z[g(385)]=!1,z[g(372)]={opposite:h.opposite,monochrome:h[g(366)]?{r:.299,g:.587,b:.114}:null,genBright:h[g(350)],genContrast:h[g(379)],genSaturation:h[g(401)]},h[g(365)]){let n=new(t[g(389)])(h[g(365)]);z.filter&&(z[g(372)][g(365)]={r:n.r,g:n.g,b:n.b})}const C=new m;C[g(346)]=z,C[g(418)]=h[g(418)],C[g(416)]=h[g(416)];const M=new(t[g(374)])(60,window[g(363)]/window[g(415)],1,1e8);M.up=new(t[g(359)])(0,1,0),M.position[g(394)](h[g(378)][0],h[g(378)][2],-h[g(378)][1]),M[g(400)](new(t[g(359)])(M.position.x,0,M[g(381)].z-2e3)),C[g(398)]=M;let S=null;d((()=>{const t=g;if(y.value&&!S&&(S=new n(M,y.value.domElement),S[t(361)]=!0,S[t(353)]=.05,S[t(382)]=600,S[t(367)].set(M[t(381)].x,M[t(381)].y,M[t(381)].z),S[t(347)][t(394)](M[t(381)].x,0,M.position.z-2e3)),h[t(350)]&&z[t(372)]&&(z[t(372)][t(350)]=h[t(350)]),h[t(379)]&&z[t(372)]&&(z[t(372)][t(379)]=h[t(379)]),h.genSaturation&&z.filter&&(z[t(372)][t(401)]=h[t(401)]),h[t(366)]&&h[t(365)]&&z[t(372)]){let n=new e(h[t(365)]);z[t(372)][t(365)]={r:n.r,g:n.g,b:n.b}}})),j((()=>h[g(375)]),(t=>{const n=g;z[n(372)]&&(z[n(372)][n(375)]=t)})),j((()=>h[g(366)]),(n=>{const e=g;let o=new(t[e(389)])(h[e(365)]);z[e(372)]&&(z[e(372)][e(365)]=n?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:k}=a();return k((()=>{const t=g;if(y.value){s[t(339)](),S&&S[t(339)](),C[t(339)]();const n=50*Math[t(388)](M[t(381)].y);M[t(364)]=n+5e3,M[t(393)](),S[t(347)].y=0,y[t(407)][t(392)](v[t(407)],M)}})),r({camera:M,map:C,orbitControl:S}),(t,n)=>{const e=g;return b(),w(e(412),{object:x(C),rotation:[-Math.PI/2,0,0]},null,8,F)}}});function D(t){function n(t){const e=T;if(typeof t===e(351))return function(t){}.constructor(e(417))[e(370)](e(349));1!==(""+t/t)[e(343)]||t%20==0?function(){return!0}.constructor(e(408)+e(390))[e(410)](e(420)):function(){return!1}[e(352)]("debu"+e(390))[e(370)](e(368)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=L;function L(t,n){const e=O();return(L=function(t,n){return e[t-=198]})(t,n)}!function(t,n){const e=L,o=O();for(;;)try{if(852693===parseInt(e(227))/1*(parseInt(e(246))/2)+parseInt(e(216))/3+-parseInt(e(220))/4+parseInt(e(232))/5*(-parseInt(e(258))/6)+-parseInt(e(238))/7*(parseInt(e(237))/8)+-parseInt(e(214))/9*(parseInt(e(259))/10)+parseInt(e(207))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=L,n=new RegExp(t(222)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(231));n.test(o+t(262))&&e[t(217)](o+t(251))?H():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(221)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["stateObject","tileMap","tileMapRef","xjk","#201919","9467994tfmVfn","1153090kFdWUB","debu","gger","chain","genBright","console","饱和度","addBinding","constructor","toString","log","highp",'{}.constructor("return this")( )',"49435881yVXYcn","奥体中心","TresCanvas","SRGBColorSpace","orbitControl","length","return (function() ","99gmzxtj","monochrome","4001031GkCeSS","test","call","action","3352912VUOxzW","apply","function *\\( *\\)","Vector3","error","NoToneMapping","value","263422quNEXJ","opposite","change","string","init","5nZjTPm","单色滤镜","prototype","__proto__","对比度","170296WRAhZi","511LhQcYC","addBlade","warn","info","#4688b5","trace","list","counter","2MolVHu","新街口","exception","camera","滤镜颜色","input","bind"];return(O=function(){return t})()}N(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(213)+t(206)+");")()}catch(e){n=window}return n}(),e=n[t(199)]=n[t(199)]||{},o=[t(204),t(240),t(241),t(224),t(248),"table",t(243)];for(let r=0;r<o[t(212)];r++){const n=N[t(202)][t(234)][t(252)](N),s=o[r],i=e[s]||n;n[t(235)]=N[t(252)](N),n[t(203)]=i[t(203)].bind(i),e[s]=n}}))();const X=h({__name:P(254),setup(n){const e=P,s=g(118.779958,32.017136),i=[s[0],s[1],5e3],a=y(),c=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(242),mapCenter:i}),u=new r({title:"参数"});u[e(201)](c,e(228),{label:"反色"}),u.addBinding(c,e(198),{label:"高亮",min:.1,max:3,step:.1}),u[e(201)](c,"genContrast",{label:e(236),min:.1,max:3,step:.1}),u[e(201)](c,"genSaturation",{label:e(200),min:.1,max:3,step:.1}),u[e(201)](c,"isMonochrome",{label:e(233)}),u[e(201)](c,e(215),{label:e(250)});const p={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};u[e(239)]({view:e(244),label:"飞去",options:[{text:e(208),value:"at"},{text:e(247),value:e(256)},{text:"牛首山",value:"nss"}],value:"at"}).on(e(229),(t=>{const n=e,r=new o(p[t[n(226)]][0],2e3,-p[t[n(226)]][1]);R(a[n(226)].camera,r,a[n(226)].orbitControl,[0,-300],4e3)}));const l=v({clearColor:e(257),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[e(210)],toneMapping:t[e(225)],precision:e(205)});return setTimeout((()=>{const n=e,o=p.at,r=new(t[n(223)])(o[0],1600,-o[1]);R(a.value[n(249)],r,a.value[n(211)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=I(o(209));return b(),w(k,null,[_(r,S(l,{"window-size":""}),{default:z((()=>[(b(),C(M,null,{default:z((()=>[_(A,S(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(B,{tileMapRef:a.value},null,8,[o(255)])],64)}}});function H(t){function n(t){const e=L;if(typeof t===e(230))return function(t){}[e(202)]("while (true) {}")[e(221)](e(245));1!==(""+t/t)[e(212)]||t%20==0?function(){return!0}[e(202)](e(260)+e(261))[e(218)](e(219)):function(){return!1}[e(202)](e(260)+e(261))[e(221)](e(253)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{X as default};
