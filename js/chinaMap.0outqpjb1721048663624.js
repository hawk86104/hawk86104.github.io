import{r as t,d as e}from"./@tresjs.Xiq_TH801721048663624.js";import{l as n}from"./utils.gFXkBUyz1721048663624.js";import{av as o,B as r,r as s,ck as a}from"./three.HEgnMaTu1721048663624.js";import{c as i,d as c,a as p}from"./three-mesh-bvh.wAcaRjKH1721048663624.js";import{m as l}from"./d3-geo.EkPiQVK-1721048663624.js";import{a3 as u,b as f,a2 as d,o as m,D as h,F as y,V as g,J as j,d as b,r as v,e as w,f as I,g as _,j as x,u as E,aj as T,ak as k,al as D,m as M}from"./@vue.ApkyOKE71721048663624.js";import"./@vueuse.2IVIyoVR1721048663624.js";import"./tweakpane.yHWGBmom1721048663624.js";import"./@fesjs.vljLn8mq1721048663624.js";import"./vue-router.v6lvLH0N1721048663624.js";import"./lodash-es.nFpJXAf-1721048663624.js";import"./@qlin.yHhFDldE1721048663624.js";import"./pinia.gP9-G6bs1721048663624.js";import"./@floating-ui.BPbuo5Gx1721048663624.js";import"./@juggle.7yjBMqoW1721048663624.js";import"./d3-array.AhNJy1f41721048663624.js";const P=["properties","renderOrder"],z=["args"],C=j("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),B={__name:"chinaMapMesh",async setup(e){let b,v;r.prototype.computeBoundsTree=i,r.prototype.disposeBoundsTree=c,s.prototype.raycast=p;const w=l().center([104,37.5]).translate([0,0]),I=([b,v]=u((()=>n("./plugins/simpleGIS/json/china.json","features"))),b=await b,v(),b),_={depth:10,bevelEnabled:!1},x=[];I.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[o,r]=w(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}x.push({shape:n,properties:t.properties})}))}))}));const E=new o({color:"#3480C4",linewidth:1,linecap:"round"}),T=f();d((()=>{T.value&&T.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,E];t.material=e}))}));let k=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),k=t})();const D=(t,e)=>{t.object.material[0].color.set(16711680),k.innerText=t.object.properties.name,k.style.visibility="visible"},M=(t,e)=>{console.log("pointer-leave",t,e),t.material[0].color.set(3010559),k.style.visibility="hidden"},B=(t,e)=>{k.style.left="".concat(e.clientX+6,"px"),k.style.top="".concat(e.clientY+6,"px")},{onLoop:G}=t();return G((()=>{})),(t,e)=>(m(),h("TresGroup",{ref_key:"tgRef",ref:T},[(m(),h(y,null,g(x,((t,e)=>j("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:D,onPointerLeave:M,onPointerMove:B},[j("TresExtrudeGeometry",{args:[t.shape,_]},null,8,z),C],40,P))),64))],512))}},G=X;function R(){const t=["TresPerspectiveCamera","trace","165164SZtyFR","1448scKVLo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"string","162UXXszn","gger","45gIbcHK","apply","init","102984GXEgDD","debu","TresCanvas","8309VUAgrD","error","length","90ukXDtP","call","2301123uVPhGz","173pPiQUC","1200990vYqUub","380394EHDxRN","bind","function *\\( *\\)","info","prototype","counter","console","table","chinaMap","#201919","12lKSnUN","exception","constructor","input","test","toString","warn"];return(R=function(){return t})()}!function(t,e){const n=X,o=R();for(;;)try{if(251627===parseInt(n(323))/1*(parseInt(n(309))/2)+parseInt(n(314))/3+parseInt(n(304))/4*(-parseInt(n(311))/5)+parseInt(n(324))/6+-parseInt(n(317))/7*(parseInt(n(305))/8)+parseInt(n(325))/9*(parseInt(n(320))/10)+parseInt(n(322))/11*(parseInt(n(335))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[X(312)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=X,e=new RegExp(t(327)),n=new RegExp(t(306),"i"),o=L(t(313));e.test(o+"chain")&&n[t(339)](o+t(338))?L():o("0")}))()}();const U=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[X(312)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function X(t,e){const n=R();return(X=function(t,e){return n[t-=303]})(t,e)}U(void 0,(function(){const t=X;let e;try{e=Function("return (function() "+t(307)+");")()}catch(r){e=window}const n=e[t(331)]=e[t(331)]||{},o=["log",t(341),t(328),t(318),t(336),t(332),t(303)];for(let s=0;s<o[t(319)];s++){const e=U[t(337)][t(329)][t(326)](U),r=o[s],a=n[r]||e;e.__proto__=U[t(326)](U),e[t(340)]=a[t(340)][t(326)](a),n[r]=e}}))();const F=j(G(342),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1),K=b({__name:G(333),setup(n){const o=G,r=v({clearColor:o(334)}),s=v({enableDamping:!0,dampingFactor:.05}),{onLoop:a}=t();return a((()=>{})),d((()=>{})),(t,n)=>{const a=w(o(316));return m(),I(a,M(r,{"window-size":""}),{default:_((()=>[F,x(E(e),T(k(s)),null,16),(m(),I(D,null,{default:_((()=>[x(B)])),_:1}))])),_:1},16)}}});function L(t){function e(t){const n=X;if(typeof t===n(308))return function(t){}.constructor("while (true) {}")[n(312)](n(330));1!==(""+t/t)[n(319)]||t%20==0?function(){return!0}.constructor("debugger")[n(321)]("action"):function(){return!1}[n(337)](n(315)+n(310))[n(312)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{K as default};
