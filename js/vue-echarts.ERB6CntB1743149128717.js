import{t as e,n as t}from"./echarts.hdVpp9_Q1743149128717.js";import{d as n,v as s,i as o,y as a,a as i,p as l,w as r,a2 as u,q as c,B as p,S as d,G as f,u as v,s as h}from"./@vue.L-brCdZe1743149128717.js";const g=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function m(e){return function(){const t=Object.create(null);return g.forEach((n=>{t[n]=function(t){return(...n)=>{if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[t].apply(e.value,n)}}(n)})),t}()}const O={autoresize:[Boolean,Object]},_=/^on[^a-z]/,E=e=>_.test(e);function b(e,t){const n=f(e)?v(e):e;return n&&"object"==typeof n&&"value"in n?n.value||t:n||t}const y={loading:Boolean,loadingOptions:Object};let j=null;const x="x-vue-echarts";document.head.appendChild(document.createElement("style")).textContent="x-vue-echarts{display:block;width:100%;height:100%;min-width:0}\n";const L=function(){if(null!=j)return j;if("undefined"==typeof HTMLElement||"undefined"==typeof customElements)return j=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(x)}catch(e){return j=!1}return j=!0}(),w=/(^&?~?!?)native:/;var z=n({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...O,...y},emits:{},inheritAttrs:!1,setup(n,{attrs:d}){const f=s(),v=s(),g=s(),O=o("ecTheme",null),_=o("ecInitOptions",null),y=o("ecUpdateOptions",null),{autoresize:j,manualUpdate:x,loading:z,loadingOptions:C}=a(n),A=i((()=>g.value||n.option||null)),U=i((()=>n.theme||b(O,{}))),D=i((()=>n.initOptions||b(_,{}))),k=i((()=>n.updateOptions||b(y,{}))),H=i((()=>function(e){const t={};for(const n in e)E(n)||(t[n]=e[n]);return t}(d))),$={},B=l().proxy.$listeners,R={};function T(e){if(!f.value)return;const s=v.value=t(f.value,U.value,D.value);function o(){const t=e||A.value;t&&s.setOption(t,k.value)}n.group&&(s.group=n.group),Object.keys(R).forEach((e=>{let t=R[e];if(!t)return;let n=e.toLowerCase();"~"===n.charAt(0)&&(n=n.substring(1),t.__once__=!0);let o=s;if(0===n.indexOf("zr:")&&(o=s.getZr(),n=n.substring(3)),t.__once__){delete t.__once__;const e=t;t=(...s)=>{e(...s),o.off(n,t)}}o.on(n,t)})),j.value?h((()=>{s&&!s.isDisposed()&&s.resize(),o()})):o()}function M(){v.value&&(v.value.dispose(),v.value=void 0)}B?Object.keys(B).forEach((e=>{w.test(e)?$[e.replace(w,"$1")]=B[e]:R[e]=B[e]})):Object.keys(d).filter((e=>E(e))).forEach((e=>{let t=e.charAt(2).toLowerCase()+e.slice(3);if(0!==t.indexOf("native:"))"Once"===t.substring(t.length-4)&&(t=`~${t.substring(0,t.length-4)}`),R[t]=d[e];else{const n=`on${t.charAt(7).toUpperCase()}${t.slice(8)}`;$[n]=d[e]}}));let P=null;r(x,(e=>{"function"==typeof P&&(P(),P=null),e||(P=r((()=>n.option),((e,t)=>{e&&(v.value?v.value.setOption(e,{notMerge:e!==t,...k.value}):T())}),{deep:!0}))}),{immediate:!0}),r([U,D],(()=>{M(),T()}),{deep:!0}),u((()=>{n.group&&v.value&&(v.value.group=n.group)}));const S=m(v);return function(e,t,n){const s=o("ecLoadingOptions",{}),a=i((()=>({...b(s,{}),...n?.value})));u((()=>{const n=e.value;n&&(t.value?n.showLoading(a.value):n.hideLoading())}))}(v,z,C),function(t,n,s){r([s,t,n],(([t,n,s],o,a)=>{let i=null;if(t&&n&&s){const{offsetWidth:o,offsetHeight:a}=t,l=!0===s?{}:s,{throttle:r=100,onResize:u}=l;let c=!1;const p=()=>{n.resize(),u?.()},d=r?e(p,r):p;i=new ResizeObserver((()=>{(c||(c=!0,t.offsetWidth!==o||t.offsetHeight!==a))&&d()})),i.observe(t)}a((()=>{i&&(i.disconnect(),i=null)}))}))}(v,j,f),c((()=>{T()})),p((()=>{L&&f.value?f.value.__dispose=M:M()})),{chart:v,root:f,setOption:function(e,t){n.manualUpdate&&(g.value=e),v.value?v.value.setOption(e,t||{}):T(e)},nonEventAttrs:H,nativeListeners:$,...S}},render(){const e={...this.nonEventAttrs,...this.nativeListeners};return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",d(x,e)}});export{z as E};
