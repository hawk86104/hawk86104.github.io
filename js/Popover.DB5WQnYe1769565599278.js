import{importShared as e}from"./3d-tiles-renderer.6uaxtGOi1769565599278.js";import{isBrowser as t,modalBodyInjectionKey as o,drawerBodyInjectionKey as r,popoverBodyInjectionKey as n,getSlot as a,getFirstVNode as l,LazyTeleport as i,zindexable as s,clickoutside as d,FocusTrap as u,getFirstSlotVNode as c,keep as p}from"./keep.B2u3CTdV1769565599278.js";import{baseFor as f,createInjectionKey as h,CssRender as v,useSsrAdapter as g,createTheme as m,derived as w,c as b,cB as y,cNotM as $,cE as x,cM as S,cCB as M,useConfig as C,useTheme as B,useThemeClass as z,isSlotEmpty as T,resolveWrappedSlot as j,call as O}from"./light.CXu-NDfz1769565599278.js";import{Stack as R,baseIsEqual as E,isObject as k,keys as A,isKey as P,toKey as I,get as W,hasIn as N,baseGet as F,identity as _,isArray as D,isArrayLike as L,arrayMap as X}from"./index.CG-C7MIu1769565599278.js";import{useMemo as Y,isMounted as H,useRtl as U}from"./use-rtl.CHCHW8Kp1769565599278.js";import{on as V,off as K,useMergedState as q}from"./use-merged-state.CIFB9VgX1769565599278.js";import{formatLength as Q}from"./format-length.Dt8AJc6V1769565599278.js";import{scrollbarLight as G,getPreciseEventTarget as J,XScrollbar as Z}from"./Scrollbar.BltyFO_T1769565599278.js";import{useCompitable as ee}from"./use-compitable.BfIEUB-U1769565599278.js";function te(e){return e==e&&!k(e)}function oe(e,t){return function(o){return null!=o&&(o[e]===t&&(void 0!==t||e in Object(o)))}}function re(e){var t=function(e){for(var t=A(e),o=t.length;o--;){var r=t[o],n=e[r];t[o]=[r,n,te(n)]}return t}(e);return 1==t.length&&t[0][2]?oe(t[0][0],t[0][1]):function(o){return o===e||function(e,t,o,r){var n=o.length,a=n;if(null==e)return!a;for(e=Object(e);n--;){var l=o[n];if(l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<a;){var i=(l=o[n])[0],s=e[i],d=l[1];if(l[2]){if(void 0===s&&!(i in e))return!1}else{var u=new R;if(!E(d,s,3,r,u))return!1}}return!0}(o,0,t)}}function ne(e){return P(e)?(t=I(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return F(t,e)}}(e);var t}function ae(e){return"function"==typeof e?e:null==e?_:"object"==typeof e?D(e)?(t=e[0],o=e[1],P(t)&&te(o)?oe(I(t),o):function(e){var r=W(e,t);return void 0===r&&r===o?N(e,t):E(o,r,3)}):re(e):ne(e);var t,o}function le(e,t){return e&&f(e,t,A)}var ie,se=(ie=le,function(e,t){if(null==e)return e;if(!L(e))return ie(e,t);for(var o=e.length,r=-1,n=Object(e);++r<o&&!1!==t(n[r],r,n););return e});function de(e,t){var o=-1,r=L(e)?Array(e.length):[];return se(e,function(e,n,a){r[++o]=t(e,n,a)}),r}let ue=[];const ce=new WeakMap;function pe(){ue.forEach(e=>e(...ce.get(e))),ue=[]}function fe(e,...t){ce.set(e,t),ue.includes(e)||1===ue.push(e)&&requestAnimationFrame(pe)}const{onMounted:he,onBeforeUnmount:ve}=await e("vue");let ge,me;var we,be;function ye(e){if(me)return;let t=!1;he(()=>{me||null==ge||ge.then(()=>{t||e()})}),ve(()=>{t=!0})}ge=t?null===(be=null===(we=document)||void 0===we?void 0:we.fonts)||void 0===be?void 0:be.ready:void 0,me=!1,void 0!==ge?ge.then(()=>{me=!0}):me=!0;const $e=h("n-internal-select-menu"),xe=h("n-internal-select-menu-body"),{inject:Se,onBeforeUnmount:Me,onMounted:Ce,ref:Be}=await e("vue"),ze="__disabled__";function Te(e){const t=Se(o,null),a=Se(r,null),l=Se(n,null),i=Se(xe,null),s=Be();if("undefined"!=typeof document){s.value=document.fullscreenElement;const e=()=>{s.value=document.fullscreenElement};Ce(()=>{V("fullscreenchange",document,e)}),Me(()=>{K("fullscreenchange",document,e)})}return Y(()=>{var o;const{to:r}=e;return void 0!==r?!1===r?ze:!0===r?s.value||"body":r:(null==t?void 0:t.value)?null!==(o=t.value.$el)&&void 0!==o?o:t.value:(null==a?void 0:a.value)?a.value:(null==l?void 0:l.value)?l.value:(null==i?void 0:i.value)?i.value:null!=r?r:s.value||"body"})}Te.tdkey=ze,Te.propTo={type:[String,Object,Boolean],default:void 0};let je=null;function Oe(){if(null===je&&(je=document.getElementById("v-binder-view-measurer"),null===je)){je=document.createElement("div"),je.id="v-binder-view-measurer";const{style:e}=je;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(je)}return je.getBoundingClientRect()}function Re(e){const t=e.getBoundingClientRect(),o=Oe();return{left:t.left-o.left,top:t.top-o.top,bottom:o.height+o.top-t.bottom,right:o.width+o.left-t.right,width:t.width,height:t.height}}function Ee(e){if(null===e)return null;const t=function(e){return 9===e.nodeType?null:e.parentNode}(e);if(null===t)return null;if(9===t.nodeType)return document;if(1===t.nodeType){const{overflow:e,overflowX:o,overflowY:r}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+r+o))return t}return Ee(t)}const{defineComponent:ke,provide:Ae,ref:Pe,inject:Ie,getCurrentInstance:We,onBeforeUnmount:Ne}=await e("vue"),Fe=ke({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;Ae("VBinder",null===(t=We())||void 0===t?void 0:t.proxy);const o=Ie("VBinder",null),r=Pe(null);let n=[];const a=()=>{for(const e of n)K("scroll",e,i,!0);n=[]},l=new Set,i=()=>{fe(s)},s=()=>{l.forEach(e=>e())},d=new Set,u=()=>{d.forEach(e=>e())};return Ne(()=>{K("resize",window,u),a()}),{targetRef:r,setTargetRef:t=>{r.value=t,o&&e.syncTargetWithParent&&o.setTargetRef(t)},addScrollListener:e=>{0===l.size&&(()=>{let e=r.value;for(;e=Ee(e),null!==e;)n.push(e);for(const t of n)V("scroll",t,i,!0)})(),l.has(e)||l.add(e)},removeScrollListener:e=>{l.has(e)&&l.delete(e),0===l.size&&a()},addResizeListener:e=>{0===d.size&&V("resize",window,u),d.has(e)||d.add(e)},removeResizeListener:e=>{d.has(e)&&d.delete(e),0===d.size&&K("resize",window,u)}}},render(){return a("binder",this.$slots)}}),{defineComponent:_e,inject:De,withDirectives:Le}=await e("vue"),Xe=_e({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=De("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?Le(l("follower",this.$slots),[[t]]):l("follower",this.$slots)}}),Ye="@@mmoContext",He={mounted(e,{value:t}){e[Ye]={handler:void 0},"function"==typeof t&&(e[Ye].handler=t,V("mousemoveoutside",e,t))},updated(e,{value:t}){const o=e[Ye];"function"==typeof t?o.handler?o.handler!==t&&(K("mousemoveoutside",e,o.handler),o.handler=t,V("mousemoveoutside",e,t)):(e[Ye].handler=t,V("mousemoveoutside",e,t)):o.handler&&(K("mousemoveoutside",e,o.handler),o.handler=void 0)},unmounted(e){const{handler:t}=e[Ye];t&&K("mousemoveoutside",e,t),e[Ye].handler=void 0}},{c:Ue}=v(),Ve="vueuc-style",Ke={top:"bottom",bottom:"top",left:"right",right:"left"},qe={start:"end",center:"center",end:"start"},Qe={top:"height",bottom:"height",left:"width",right:"width"},Ge={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Je={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Ze={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},et={top:!0,bottom:!1,left:!0,right:!1},tt={top:"end",bottom:"start",left:"end",right:"start"};const{h:ot,defineComponent:rt,inject:nt,nextTick:at,watch:lt,toRef:it,ref:st,onMounted:dt,onBeforeUnmount:ut,withDirectives:ct}=await e("vue"),pt=Ue([Ue(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Ue(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Ue("> *",{pointerEvents:"all"})])]),ft=rt({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=nt("VBinder"),o=Y(()=>void 0!==e.enabled?e.enabled:e.show),r=st(null),n=st(null),a=()=>{const{syncTrigger:o}=e;o.includes("scroll")&&t.addScrollListener(s),o.includes("resize")&&t.addResizeListener(s)},l=()=>{t.removeScrollListener(s),t.removeResizeListener(s)};dt(()=>{o.value&&(s(),a())});const i=g();pt.mount({id:"vueuc/binder",head:!0,anchorMetaName:Ve,ssr:i}),ut(()=>{l()}),ye(()=>{o.value&&s()});const s=()=>{if(!o.value)return;const a=r.value;if(null===a)return;const l=t.targetRef,{x:i,y:s,overlap:d}=e,u=void 0!==i&&void 0!==s?function(e,t){const o=Oe();return{top:t,left:e,height:0,width:0,right:o.width-e,bottom:o.height-t}}(i,s):Re(l);a.style.setProperty("--v-target-width",`${Math.round(u.width)}px`),a.style.setProperty("--v-target-height",`${Math.round(u.height)}px`);const{width:c,minWidth:p,placement:f,internalShift:h,flip:v}=e;a.setAttribute("v-placement",f),d?a.setAttribute("v-overlap",""):a.removeAttribute("v-overlap");const{style:g}=a;g.width="target"===c?`${u.width}px`:void 0!==c?c:"",g.minWidth="target"===p?`${u.width}px`:void 0!==p?p:"";const m=Re(a),w=Re(n.value),{left:b,top:y,placement:$}=function(e,t,o,r,n,a){if(!n||a)return{placement:e,top:0,left:0};const[l,i]=e.split("-");let s=null!=i?i:"center",d={top:0,left:0};const u=(e,n,a)=>{let l=0,i=0;const s=o[e]-t[n]-t[e];return s>0&&r&&(a?i=et[n]?s:-s:l=et[n]?s:-s),{left:l,top:i}},c="left"===l||"right"===l;if("center"!==s){const r=Ze[e],n=Ke[r],a=Qe[r];if(o[a]>t[a]){if(t[r]+t[a]<o[a]){const e=(o[a]-t[a])/2;t[r]<e||t[n]<e?t[r]<t[n]?(s=qe[i],d=u(a,n,c)):d=u(a,r,c):s="center"}}else o[a]<t[a]&&t[n]<0&&t[r]>t[n]&&(s=qe[i])}else{const e="bottom"===l||"top"===l?"left":"top",r=Ke[e],n=Qe[e],a=(o[n]-t[n])/2;(t[e]<a||t[r]<a)&&(t[e]>t[r]?(s=tt[e],d=u(n,e,c)):(s=tt[r],d=u(n,r,c)))}let p=l;return t[l]<o[Qe[l]]&&t[l]<t[Ke[l]]&&(p=Ke[l]),{placement:"center"!==s?`${p}-${s}`:p,left:d.left,top:d.top}}(f,u,m,h,v,d),x=function(e,t){return t?Je[e]:Ge[e]}($,d),{left:S,top:M,transform:C}=function(e,t,o,r,n,a){if(a)switch(e){case"bottom-start":case"left-end":return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":case"right-end":return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":case"left-start":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left)}px`,transform:""};case"top-end":case"right-start":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%)"};case"top":return{top:`${Math.round(o.top-t.top)}px`,left:`${Math.round(o.left-t.left+o.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(o.top-t.top+o.height/2)}px`,left:`${Math.round(o.left-t.left+o.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(o.top-t.top+o.height/2)}px`,left:`${Math.round(o.left-t.left)}px`,transform:"translateY(-50%)"};default:return{top:`${Math.round(o.top-t.top+o.height)}px`,left:`${Math.round(o.left-t.left+o.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(o.top-t.top+o.height+r)}px`,left:`${Math.round(o.left-t.left+n)}px`,transform:""};case"bottom-end":return{top:`${Math.round(o.top-t.top+o.height+r)}px`,left:`${Math.round(o.left-t.left+o.width+n)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(o.top-t.top+r)}px`,left:`${Math.round(o.left-t.left+n)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(o.top-t.top+r)}px`,left:`${Math.round(o.left-t.left+o.width+n)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(o.top-t.top+r)}px`,left:`${Math.round(o.left-t.left+o.width+n)}px`,transform:""};case"right-end":return{top:`${Math.round(o.top-t.top+o.height+r)}px`,left:`${Math.round(o.left-t.left+o.width+n)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(o.top-t.top+r)}px`,left:`${Math.round(o.left-t.left+n)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(o.top-t.top+o.height+r)}px`,left:`${Math.round(o.left-t.left+n)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(o.top-t.top+r)}px`,left:`${Math.round(o.left-t.left+o.width/2+n)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(o.top-t.top+o.height/2+r)}px`,left:`${Math.round(o.left-t.left+o.width+n)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(o.top-t.top+o.height/2+r)}px`,left:`${Math.round(o.left-t.left+n)}px`,transform:"translateY(-50%) translateX(-100%)"};default:return{top:`${Math.round(o.top-t.top+o.height+r)}px`,left:`${Math.round(o.left-t.left+o.width/2+n)}px`,transform:"translateX(-50%)"}}}($,w,u,y,b,d);a.setAttribute("v-placement",$),a.style.setProperty("--v-offset-left",`${Math.round(b)}px`),a.style.setProperty("--v-offset-top",`${Math.round(y)}px`),a.style.transform=`translateX(${S}) translateY(${M}) ${C}`,a.style.setProperty("--v-transform-origin",x),a.style.transformOrigin=x};lt(o,e=>{e?(a(),d()):l()});const d=()=>{at().then(s).catch(e=>console.error(e))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(t=>{lt(it(e,t),s)}),["teleportDisabled"].forEach(t=>{lt(it(e,t),d)}),lt(it(e,"syncTrigger"),e=>{e.includes("resize")?t.addResizeListener(s):t.removeResizeListener(s),e.includes("scroll")?t.addScrollListener(s):t.removeScrollListener(s)});const u=H(),c=Y(()=>{const{to:t}=e;if(void 0!==t)return t;u.value});return{VBinder:t,mergedEnabled:o,offsetContainerRef:n,followerRef:r,mergedTo:c,syncPosition:s}},render(){return ot(i,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const o=ot("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[ot("div",{class:"v-binder-follower-content",ref:"followerRef"},null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e))]);return this.zindexable?ct(o,[[s,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):o}})}});let ht;const vt={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};function gt(e){const{boxShadow2:t,popoverColor:o,textColor2:r,borderRadius:n,fontSize:a,dividerColor:l}=e;return Object.assign(Object.assign({},vt),{fontSize:a,borderRadius:n,color:o,dividerColor:l,textColor:r,boxShadow:t})}const mt=m({name:"Popover",common:w,peers:{Scrollbar:G},self:gt}),wt={top:"bottom",bottom:"top",left:"right",right:"left"},bt="var(--n-arrow-height) * 1.414",yt=b([y("popover","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n position: relative;\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n box-shadow: var(--n-box-shadow);\n word-break: break-word;\n ",[b(">",[y("scrollbar","\n height: inherit;\n max-height: inherit;\n ")]),$("raw","\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n ",[$("scrollable",[$("show-header-or-footer","padding: var(--n-padding);")])]),x("header","\n padding: var(--n-padding);\n border-bottom: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),x("footer","\n padding: var(--n-padding);\n border-top: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),S("scrollable, show-header-or-footer",[x("content","\n padding: var(--n-padding);\n ")])]),y("popover-shared","\n transform-origin: inherit;\n ",[y("popover-arrow-wrapper","\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n ",[y("popover-arrow",`\n transition: background-color .3s var(--n-bezier);\n position: absolute;\n display: block;\n width: calc(${bt});\n height: calc(${bt});\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--n-color);\n pointer-events: all;\n `)]),b("&.popover-transition-enter-from, &.popover-transition-leave-to","\n opacity: 0;\n transform: scale(.85);\n "),b("&.popover-transition-enter-to, &.popover-transition-leave-from","\n transform: scale(1);\n opacity: 1;\n "),b("&.popover-transition-enter-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-out),\n transform .15s var(--n-bezier-ease-out);\n "),b("&.popover-transition-leave-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-in),\n transform .15s var(--n-bezier-ease-in);\n ")]),Mt("top-start",`\n top: calc(${bt} / -2);\n left: calc(${St("top-start")} - var(--v-offset-left));\n `),Mt("top",`\n top: calc(${bt} / -2);\n transform: translateX(calc(${bt} / -2)) rotate(45deg);\n left: 50%;\n `),Mt("top-end",`\n top: calc(${bt} / -2);\n right: calc(${St("top-end")} + var(--v-offset-left));\n `),Mt("bottom-start",`\n bottom: calc(${bt} / -2);\n left: calc(${St("bottom-start")} - var(--v-offset-left));\n `),Mt("bottom",`\n bottom: calc(${bt} / -2);\n transform: translateX(calc(${bt} / -2)) rotate(45deg);\n left: 50%;\n `),Mt("bottom-end",`\n bottom: calc(${bt} / -2);\n right: calc(${St("bottom-end")} + var(--v-offset-left));\n `),Mt("left-start",`\n left: calc(${bt} / -2);\n top: calc(${St("left-start")} - var(--v-offset-top));\n `),Mt("left",`\n left: calc(${bt} / -2);\n transform: translateY(calc(${bt} / -2)) rotate(45deg);\n top: 50%;\n `),Mt("left-end",`\n left: calc(${bt} / -2);\n bottom: calc(${St("left-end")} + var(--v-offset-top));\n `),Mt("right-start",`\n right: calc(${bt} / -2);\n top: calc(${St("right-start")} - var(--v-offset-top));\n `),Mt("right",`\n right: calc(${bt} / -2);\n transform: translateY(calc(${bt} / -2)) rotate(45deg);\n top: 50%;\n `),Mt("right-end",`\n right: calc(${bt} / -2);\n bottom: calc(${St("right-end")} + var(--v-offset-top));\n `),...($t={top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},xt=(e,t)=>{const o=["right","left"].includes(t),r=o?"width":"height";return e.map(e=>{const n="end"===e.split("-")[1],a=`calc((var(--v-target-${r}, 0px) - ${bt}) / 2)`,l=St(e);return b(`[v-placement="${e}"] >`,[y("popover-shared",[S("center-arrow",[y("popover-arrow",`${t}: calc(max(${a}, ${l}) ${n?"+":"-"} var(--v-offset-${o?"left":"top"}));`)])])])})},(D($t)?X:de)($t,ae(xt)))]);var $t,xt;function St(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function Mt(e,t){const o=e.split("-")[0],r=["top","bottom"].includes(o)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return b(`[v-placement="${e}"] >`,[y("popover-shared",`\n margin-${wt[o]}: var(--n-space);\n `,[S("show-arrow",`\n margin-${wt[o]}: var(--n-space-arrow);\n `),S("overlap","\n margin: 0;\n "),M("popover-arrow-wrapper",`\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ${o}: 100%;\n ${wt[o]}: auto;\n ${r}\n `,[y("popover-arrow",t)])])])}const{computed:Ct,defineComponent:Bt,Fragment:zt,h:Tt,inject:jt,mergeProps:Ot,onBeforeUnmount:Rt,provide:Et,ref:kt,toRef:At,Transition:Pt,vShow:It,watch:Wt,watchEffect:Nt,withDirectives:Ft}=await e("vue"),_t=Object.assign(Object.assign({},B.props),{to:Te.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function Dt({arrowClass:e,arrowStyle:t,arrowWrapperClass:o,arrowWrapperStyle:r,clsPrefix:n}){return Tt("div",{key:"__popover-arrow__",style:r,class:[`${n}-popover-arrow-wrapper`,o]},Tt("div",{class:[`${n}-popover-arrow`,e],style:t}))}const Lt=Bt({name:"PopoverBody",inheritAttrs:!1,props:_t,setup(e,{slots:t,attrs:a}){const{namespaceRef:l,mergedClsPrefixRef:i,inlineThemeDisabled:s,mergedRtlRef:c}=C(e),p=B("Popover","-popover",yt,mt,e,i),f=U("Popover",c,i),h=kt(null),v=jt("NPopover"),g=kt(null),m=kt(e.show),w=kt(!1);Nt(()=>{const{show:t}=e;!t||(void 0===ht&&(ht=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),ht)||e.internalDeactivateImmediately||(w.value=!0)});const b=Ct(()=>{const{trigger:t,onClickoutside:o}=e,r=[],{positionManuallyRef:{value:n}}=v;return n||("click"!==t||o||r.push([d,R,void 0,{capture:!0}]),"hover"===t&&r.push([He,O])),o&&r.push([d,R,void 0,{capture:!0}]),("show"===e.displayDirective||e.animated&&w.value)&&r.push([It,e.show]),r}),y=Ct(()=>{const{common:{cubicBezierEaseInOut:e,cubicBezierEaseIn:t,cubicBezierEaseOut:o},self:{space:r,spaceArrow:n,padding:a,fontSize:l,textColor:i,dividerColor:s,color:d,boxShadow:u,borderRadius:c,arrowHeight:f,arrowOffset:h,arrowOffsetVertical:v}}=p.value;return{"--n-box-shadow":u,"--n-bezier":e,"--n-bezier-ease-in":t,"--n-bezier-ease-out":o,"--n-font-size":l,"--n-text-color":i,"--n-color":d,"--n-divider-color":s,"--n-border-radius":c,"--n-arrow-height":f,"--n-arrow-offset":h,"--n-arrow-offset-vertical":v,"--n-padding":a,"--n-space":r,"--n-space-arrow":n}}),$=Ct(()=>{const t="trigger"===e.width?void 0:Q(e.width),o=[];t&&o.push({width:t});const{maxWidth:r,minWidth:n}=e;return r&&o.push({maxWidth:Q(r)}),n&&o.push({maxWidth:Q(n)}),s||o.push(y.value),o}),x=s?z("popover",void 0,y,e):void 0;function S(t){"hover"===e.trigger&&e.keepAliveOnHover&&e.show&&v.handleMouseEnter(t)}function M(t){"hover"===e.trigger&&e.keepAliveOnHover&&v.handleMouseLeave(t)}function O(t){"hover"!==e.trigger||E().contains(J(t))||v.handleMouseMoveOutside(t)}function R(t){("click"===e.trigger&&!E().contains(J(t))||e.onClickoutside)&&v.handleClickOutside(t)}function E(){return v.getTriggerElement()}return v.setBodyInstance({syncPosition:function(){var e;null===(e=h.value)||void 0===e||e.syncPosition()}}),Rt(()=>{v.setBodyInstance(null)}),Wt(At(e,"show"),t=>{e.animated||(m.value=!!t)}),Et(n,g),Et(r,null),Et(o,null),{displayed:w,namespace:l,isMounted:v.isMountedRef,zIndex:v.zIndexRef,followerRef:h,adjustedTo:Te(e),followerEnabled:m,renderContentNode:function(){if(null==x||x.onRender(),!("show"===e.displayDirective||e.show||e.animated&&w.value))return null;let o;const r=v.internalRenderBodyRef.value,{value:n}=i;if(r)o=r([`${n}-popover-shared`,(null==f?void 0:f.value)&&`${n}-popover--rtl`,null==x?void 0:x.themeClass.value,e.overlap&&`${n}-popover-shared--overlap`,e.showArrow&&`${n}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${n}-popover-shared--center-arrow`],g,$.value,S,M);else{const{value:r}=v.extraClassRef,{internalTrapFocus:l}=e,i=!T(t.header)||!T(t.footer),s=()=>{var o,r;const a=i?Tt(zt,null,j(t.header,t=>t?Tt("div",{class:[`${n}-popover__header`,e.headerClass],style:e.headerStyle},t):null),j(t.default,o=>o?Tt("div",{class:[`${n}-popover__content`,e.contentClass],style:e.contentStyle},t):null),j(t.footer,t=>t?Tt("div",{class:[`${n}-popover__footer`,e.footerClass],style:e.footerStyle},t):null)):e.scrollable?null===(o=t.default)||void 0===o?void 0:o.call(t):Tt("div",{class:[`${n}-popover__content`,e.contentClass],style:e.contentStyle},t);return[e.scrollable?Tt(Z,{themeOverrides:p.value.peerOverrides.Scrollbar,theme:p.value.peers.Scrollbar,contentClass:i?void 0:`${n}-popover__content ${null!==(r=e.contentClass)&&void 0!==r?r:""}`,contentStyle:i?void 0:e.contentStyle},{default:()=>a}):a,e.showArrow?Dt({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:n}):null]};o=Tt("div",Ot({class:[`${n}-popover`,`${n}-popover-shared`,(null==f?void 0:f.value)&&`${n}-popover--rtl`,null==x?void 0:x.themeClass.value,r.map(e=>`${n}-${e}`),{[`${n}-popover--scrollable`]:e.scrollable,[`${n}-popover--show-header-or-footer`]:i,[`${n}-popover--raw`]:e.raw,[`${n}-popover-shared--overlap`]:e.overlap,[`${n}-popover-shared--show-arrow`]:e.showArrow,[`${n}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:g,style:$.value,onKeydown:v.handleKeydown,onMouseenter:S,onMouseleave:M},a),l?Tt(u,{active:e.show,autoFocus:!0},{default:s}):s())}return Ft(o,b.value)}}},render(){return Tt(ft,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:"trigger"===this.width?"target":void 0,teleportDisabled:this.adjustedTo===Te.tdkey},{default:()=>this.animated?Tt(Pt,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;null===(e=this.internalOnAfterLeave)||void 0===e||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),{cloneVNode:Xt,computed:Yt,defineComponent:Ht,h:Ut,provide:Vt,ref:Kt,Text:qt,toRef:Qt,watchEffect:Gt,withDirectives:Jt}=await e("vue"),Zt=Object.keys(_t),eo={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};const to={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Te.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},oo=Object.assign(Object.assign(Object.assign({},B.props),to),{internalOnAfterLeave:Function,internalRenderBody:Function}),ro=Ht({name:"Popover",inheritAttrs:!1,props:oo,slots:Object,__popover__:!0,setup(e){const t=H(),o=Kt(null),r=Yt(()=>e.show),n=Kt(e.defaultShow),a=q(r,n),l=Y(()=>!e.disabled&&a.value),i=()=>{if(e.disabled)return!0;const{getDisabled:t}=e;return!!(null==t?void 0:t())},s=()=>!i()&&a.value,d=ee(e,["arrow","showArrow"]),u=Yt(()=>!e.overlap&&d.value);let c=null;const p=Kt(null),f=Kt(null),h=Y(()=>void 0!==e.x&&void 0!==e.y);function v(t){const{"onUpdate:show":o,onUpdateShow:r,onShow:a,onHide:l}=e;n.value=t,o&&O(o,t),r&&O(r,t),t&&a&&O(a,!0),t&&l&&O(l,!1)}function g(){const{value:e}=p;e&&(window.clearTimeout(e),p.value=null)}function m(){const{value:e}=f;e&&(window.clearTimeout(e),f.value=null)}function w(){const t=i();if("hover"===e.trigger&&!t){if(m(),null!==p.value)return;if(s())return;const t=()=>{v(!0),p.value=null},{delay:o}=e;0===o?t():p.value=window.setTimeout(t,o)}}function b(){const t=i();if("hover"===e.trigger&&!t){if(g(),null!==f.value)return;if(!s())return;const t=()=>{v(!1),f.value=null},{duration:o}=e;0===o?t():f.value=window.setTimeout(t,o)}}Vt("NPopover",{getTriggerElement:function(){var e;return null===(e=o.value)||void 0===e?void 0:e.targetRef},handleKeydown:function(t){e.internalTrapFocus&&"Escape"===t.key&&(g(),m(),v(!1))},handleMouseEnter:w,handleMouseLeave:b,handleClickOutside:function(t){var o;s()&&("click"===e.trigger&&(g(),m(),v(!1)),null===(o=e.onClickoutside)||void 0===o||o.call(e,t))},handleMouseMoveOutside:function(){b()},setBodyInstance:function(e){c=e},positionManuallyRef:h,isMountedRef:t,zIndexRef:Qt(e,"zIndex"),extraClassRef:Qt(e,"internalExtraClass"),internalRenderBodyRef:Qt(e,"internalRenderBody")}),Gt(()=>{a.value&&i()&&v(!1)});return{binderInstRef:o,positionManually:h,mergedShowConsideringDisabledProp:l,uncontrolledShow:n,mergedShowArrow:u,getMergedShow:s,setShow:function(e){n.value=e},handleClick:function(){if("click"===e.trigger&&!i()){g(),m();v(!s())}},handleMouseEnter:w,handleMouseLeave:b,handleFocus:function(){const t=i();if("focus"===e.trigger&&!t){if(s())return;v(!0)}},handleBlur:function(){const t=i();if("focus"===e.trigger&&!t){if(!s())return;v(!1)}},syncPosition:function(){c&&c.syncPosition()}}},render(){var e;const{positionManually:t,$slots:o}=this;let r,n=!1;if(!t&&(r=c(o,"trigger"),r)){r=Xt(r),r=r.type===qt?Ut("span",[r]):r;const o={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(null===(e=r.type)||void 0===e?void 0:e.__popover__)n=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[o,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[o];else{const{internalInheritedEventHandlers:e}=this,n=[o,...e],s={onBlur:e=>{n.forEach(t=>{t.onBlur(e)})},onFocus:e=>{n.forEach(t=>{t.onFocus(e)})},onClick:e=>{n.forEach(t=>{t.onClick(e)})},onMouseenter:e=>{n.forEach(t=>{t.onMouseenter(e)})},onMouseleave:e=>{n.forEach(t=>{t.onMouseleave(e)})}};a=r,l=e?"nested":t?"manual":this.trigger,i=s,eo[l].forEach(e=>{a.props?a.props=Object.assign({},a.props):a.props={};const t=a.props[e],o=i[e];a.props[e]=t?(...e)=>{t(...e),o(...e)}:o})}}var a,l,i;return Ut(Fe,{ref:"binderInstRef",syncTarget:!n,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const e=this.getMergedShow();return[this.internalTrapFocus&&e?Jt(Ut("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[s,{enabled:e,zIndex:this.zIndex}]]):null,t?null:Ut(Xe,null,{default:()=>r}),Ut(Lt,p(this.$props,Zt,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:e})),{default:()=>{var e,t;return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)},header:()=>{var e,t;return null===(t=(e=this.$slots).header)||void 0===t?void 0:t.call(e)},footer:()=>{var e,t;return null===(t=(e=this.$slots).footer)||void 0===t?void 0:t.call(e)}})]}})}});export{Fe as Binder,ro as NPopover,ft as VFollower,Xe as VTarget,se as baseEach,le as baseForOwn,ae as baseIteratee,fe as beforeNextFrameOnce,Ue as c,Ve as cssrAnchorMetaName,xe as internalSelectionMenuBodyInjectionKey,$e as internalSelectionMenuInjectionKey,ye as onFontsReady,to as popoverBaseProps,mt as popoverLight,oo as popoverProps,Dt as renderArrow,gt as self,Te as useAdjustedTo};
