import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.sbQzkb7M1743149128717.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.8hkhq6hK1743149128717.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.UEeH8PAo1743149128717.js";import{V as t,K as e,C as n,n as i,u as r,aY as a,a as o,_ as s,U as l,b as c}from"./three.hBhj0ayh1743149128717.js";import{m as u,e as p}from"./@tresjs.GCV-1VTd1743149128717.js";import{u as f}from"./index.PmOAufZy1743149128717.js";import{F as x,C as v}from"./three-stdlib.WxcFbdsf1743149128717.js";import{d as m}from"./@vue.L-brCdZe1743149128717.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.9oOcJ0Ay1743149128717.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.xndDvmMk1743149128717.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.xvuN9ipv1743149128717.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.dbyAXyPH1743149128717.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.vQz40eJV1743149128717.js";const h=g;!function(t,e){const n=g,i=y();for(;;)try{if(703184===-parseInt(n(389))/1*(-parseInt(n(381))/2)+-parseInt(n(394))/3+-parseInt(n(377))/4*(parseInt(n(401))/5)+-parseInt(n(403))/6+-parseInt(n(380))/7*(-parseInt(n(395))/8)+parseInt(n(376))/9+parseInt(n(387))/10*(parseInt(n(404))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const w=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[g(400)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function g(t,e){const n=y();return g=function(t,e){return n[t-=366]},g(t,e)}!function(){w(this,(function(){const t=g,e=new RegExp(t(393)),n=new RegExp(t(370),"i"),i=_(t(402));e[t(366)](i+t(382))&&n[t(366)](i+t(390))?_():i("0")}))()}();const d=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function y(){const t=["stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","log","info","gger","length","9037035awQipb","652orKdmC","action",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"7WFgcXp","22SDNUKM","chain","constructor","console","__proto__","bind","5930DYNJNr","warn","101969DaXcle","input","call","debu","function *\\( *\\)","3264513ssXlKX","2942656nedPlI","counter","table","trace","return (function() ","apply","3715FhKdub","init","3622056DpeVlN","418ZGRRPH","test",'{}.constructor("return this")( )',"string"];return(y=function(){return t})()}d(void 0,(function(){const t=g,e=function(){const t=g;let e;try{e=Function(t(399)+t(367)+");")()}catch(n){e=window}return e}(),n=e[t(384)]=e[t(384)]||{},i=[t(372),t(388),t(373),"error","exception",t(397),t(398)];for(let r=0;r<i[t(375)];r++){const e=d[t(383)].prototype.bind(d),a=i[r],o=n[a]||e;e[t(385)]=d[t(386)](d),e[t(371)]=o[t(371)][t(386)](o),n[a]=e}}))();const S=h(379);function _(t){function e(t){const n=g;if(typeof t===n(368))return function(t){}[n(383)]("while (true) {}")[n(400)](n(396));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(392)+n(374))[n(391)](n(378)):function(){return!1}[n(383)](n(392)+n(374)).apply(n(369)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const P=b;!function(t,e){const n=b,i=M();for(;;)try{if(527127===parseInt(n(179))/1+parseInt(n(188))/2*(parseInt(n(206))/3)+-parseInt(n(191))/4+parseInt(n(204))/5+-parseInt(n(174))/6*(parseInt(n(171))/7)+-parseInt(n(192))/8*(parseInt(n(183))/9)+-parseInt(n(198))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=b,e=new RegExp(t(196)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=D(t(187));e[t(193)](i+t(202))&&n.test(i+t(176))?D():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(182)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function b(t,e){const n=M();return b=function(t,e){return n[t-=171]},b(t,e)}function E(t){const n=b,i={...t};return"defines"in t&&(i.defines={...t[n(178)]}),n(172)in t&&(i.uniforms=e[n(181)](t.uniforms)),i}function M(){const t=["test","trace","gger","function *\\( *\\)","warn","6163110DKybag","toString","while (true) {}","info","chain","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","1923590Zjszzu","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","3TGLlEm","stateObject","error","call",'{}.constructor("return this")( )',"return (function() ","string","28ukBsui","uniforms","exception","148542UVIOas","prototype","input","table","defines","904427PEPQFf","constructor","clone","apply","909jvAOlv","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","bind","length","init","1390332tKxHLJ","debu","console","2360572FlnQSY","12016bBtIsP"];return(M=function(){return t})()}I(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(211)+t(210)+");")()}catch(n){e=window}return e}(),n=e[t(190)]=e.console||{},i=["log",t(197),t(201),t(208),t(173),t(177),t(194)];for(let r=0;r<i[t(186)];r++){const e=I[t(180)][t(175)][t(185)](I),a=i[r],o=n[a]||e;e.__proto__=I[t(185)](I),e[t(199)]=o.toString[t(185)](o),n[a]=e}}))();const A={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new t},parentMapSize:{value:new t},parentLevel:{value:0}},vertexShader:P(205),fragmentShader:P(184)+S+P(203)};function D(t){function e(t){const n=b;if(typeof t===n(212))return function(t){}[n(180)](n(200))[n(182)]("counter");1!==(""+t/t)[n(186)]||t%20==0?function(){return!0}[n(180)]("debu"+n(195))[n(209)]("action"):function(){return!1}.constructor(n(189)+n(195))[n(182)](n(207)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=O;function U(){const t=["material","611700Oedrub","originalMapSize","getRenderTarget","43533hEcpew","warn","trace","setClearColor","function *\\( *\\)","_mipQuad","clear","constructor","floor","floorPowerOfTwo","gger","init","debu","length","isWebGLRenderTarget","test","magFilter","prototype","toString","2096aHQeKI","X_IS_EVEN","_copyQuad","_swapTarget","771254FQdxse","table","_mipMaterials","552RUhpaE","tDiffuse","stateObject","getClearColor","bind","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","type","counter","10WILFfV","dispose","exception","34600beKPeJ","camera","setViewOffset","image","apply","info","texture","uniforms","error","setSize","render","3233556aHWfSt","action","parentMapSize","console","defines","1071048FfouiV","20yugIzL","parentLevel","map","getClearAlpha","width","setClearAlpha","input","value","autoClear","height","fragmentShader","setRenderTarget","Y_IS_EVEN","266awySSA"];return(U=function(){return t})()}!function(t,e){const n=O,i=U();for(;;)try{if(218489===-parseInt(n(424))/1*(-parseInt(n(448))/2)+-parseInt(n(426))/3+parseInt(n(411))/4*(-parseInt(n(466))/5)+parseInt(n(410))/6+-parseInt(n(429))/7*(-parseInt(n(455))/8)+-parseInt(n(405))/9*(parseInt(n(463))/10)+-parseInt(n(452))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const V=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(398)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){V(this,(function(){const t=O,e=new RegExp(t(433)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=N(t(440));e[t(444)](i+"chain")&&n[t(444)](i+t(417))?N():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(398)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(t,e){const n=U();return O=function(t,e){return n[t-=397]},O(t,e)}T(void 0,(function(){const t=O;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(408)]=e.console||{},i=["log",t(430),t(399),t(402),t(465),t(453),t(431)];for(let a=0;a<i[t(442)];a++){const e=T[t(436)][t(446)][t(459)](T),r=i[a],o=n[r]||e;e.__proto__=T.bind(T),e[t(447)]=o[t(447)][t(459)](o),n[r]=e}}))();const R=new n;class j{constructor(t){const e=O;!t&&(t=e(460));const n=E(A);n[e(421)]=n[e(421)].replace(/<mipmap_logic>/g,t);const o=new Array(4);o[0]=new i(E(n)),o[0][e(409)].X_IS_EVEN=0,o[0][e(409)][e(423)]=0,o[1]=new i(E(n)),o[1][e(409)][e(449)]=1,o[1][e(409)].Y_IS_EVEN=0,o[2]=new i(E(n)),o[2][e(409)].X_IS_EVEN=0,o[2][e(409)][e(423)]=1,o[3]=new i(E(n)),o[3][e(409)][e(449)]=1,o[3][e(409)][e(423)]=1;const s=new r;s[e(400)].minFilter=a,s.texture[e(445)]=a,this[e(451)]=s,this[e(450)]=new x(new i(v)),this[e(434)]=new x(null),this[e(454)]=o}update(t,e,n,i=!1){const r=O;t[r(443)]&&(t=t[r(400)]);const a=n.autoClear,s=n[r(414)](),l=n[r(428)]();n[r(458)](R);const c=this._copyQuad,u=this[r(434)],p=this[r(451)],f=this[r(454)];let x,v;i?(x=o[r(438)](t.image[r(415)]),v=o[r(438)](t[r(397)][r(420)])):(x=Math[r(437)](t.image.width),v=Math[r(437)](t[r(397)][r(420)]));const m=Math[r(437)](1.5*x),h=Math[r(437)](v);e[r(403)](m,h),p[r(400)][r(461)]!==e[r(400)][r(461)]?(p[r(464)](),p.copy(e),p[r(400)][r(397)]={...p.texture[r(397)]}):p[r(403)](m,h),n[r(419)]=!1,n[r(432)](0),n[r(416)](),c[r(425)][r(401)][r(456)][r(418)]=t,c[r(467)][r(468)](x,v,0,0,m,h),n[r(422)](e),n[r(435)](),c[r(404)](n),n[r(422)](p),n[r(435)](),c.render(n);let w=x,g=v,d=0;for(;w>1&&g>1;){const t=f[(w%2==0?1:0)|(g%2==0?2:0)];t.uniforms[r(413)].value=p.texture,t.uniforms[r(412)][r(418)]=d,t[r(401)][r(407)][r(418)].set(w,g),t[r(401)][r(427)][r(418)].set(x,v),u[r(425)]=t,w=Math[r(437)](w/2),g=Math.floor(g/2);const i=h-2*g;n.setRenderTarget(e),u[r(467)].setViewOffset(w,g,-x,-i,m,h),u[r(404)](n),n[r(422)](p),t[r(401)][r(413)][r(418)]=e[r(400)],u[r(404)](n),d++}return n.setRenderTarget(l),n[r(416)](s),n.setClearColor(R),n[r(419)]=a,d+1}[L(464)](){const t=L;this[t(451)][t(464)](),this[t(434)][t(464)](),this[t(450)][t(464)](),this[t(454)].forEach((e=>e[t(464)]()))}}function N(t){function e(t){const n=O;if("string"==typeof t)return function(t){}[n(436)]("while (true) {}")[n(398)](n(462));1!==(""+t/t)[n(442)]||t%20==0?function(){return!0}.constructor("debu"+n(439)).call(n(406)):function(){return!1}[n(436)](n(441)+n(439))[n(398)](n(457)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function k(){const t=["60OuDtwI","5395424EExPmu","updateMatrixWorld","ignoreObjects","projectPoint","value","test","Vector4","getWorldQuaternion","parent","trace","render","log","Quaternion","50yLNDqC","Plane","counter","depth","info","applyQuaternion","multiply","3372102lsxLTk","multiplyScalar","matrixWorld","applyMatrix4","function *\\( *\\)","return (function() ","exception","UnsignedByteType","setMask","update","input","reflect","copy","debu","warn","reflectorMipMap","1332635RNJcJb","sign","sub","getWorldPosition","console","resolution","matrixWorldInverse","clone","4XgrnZZ","add","autoClear","forEach","toString","prototype","table","gger","PerspectiveCamera","401065BvvJpm","length","getRenderTarget","apply","bind","__proto__","negate","Matrix4","constant","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","lookAt","elements","while (true) {}","stateObject","set","normal","164212elhJaT","57168tRVcRH",'{}.constructor("return this")( )',"constructor","init","error","setRenderTarget","action","889181OSsMHb","visible","projectionMatrix","Vector3"];return(k=function(){return t})()}const C=W;!function(t,e){const n=W,i=k();for(;;)try{if(553154===-parseInt(n(380))/1+-parseInt(n(372))/2+parseInt(n(373))/3+parseInt(n(347))/4*(-parseInt(n(339))/5)+-parseInt(n(384))/6*(-parseInt(n(356))/7)+-parseInt(n(385))/8+parseInt(n(405))/9*(parseInt(n(398))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){F(this,(function(){const t=W,e=new RegExp(t(327)),n=new RegExp(t(365),"i"),i=Q(t(376));e[t(390)](i+"chain")&&n[t(390)](i+t(333))?Q():i("0")}))()}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(359)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function W(t,e){const n=k();return W=function(t,e){return n[t-=326]},W(t,e)}H(void 0,(function(){const t=W,e=function(){const t=W;let e;try{e=Function(t(328)+t(374)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(343)]||{},i=[t(396),t(337),t(402),t(377),t(329),t(353),t(394)];for(let r=0;r<i[t(357)];r++){const e=H[t(375)][t(352)][t(360)](H),a=i[r],o=n[a]||e;e[t(361)]=H[t(360)](H),e.toString=o[t(351)][t(360)](o),n[a]=e}}))();const Z=m({__name:C(338),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=C,i=t,r=new(s[n(399)]),a=new(s[n(363)]),o=new(s[n(355)]),x=new j,v=f({width:i[n(344)],height:i[n(344)],settings:{type:s[n(330)]}}),m=f({width:i.resolution,height:i[n(344)],settings:{type:l}}),{camera:h,renderer:w,scene:g}=u(),{onBeforeLoop:d}=p();return d((()=>{const t=n;(()=>{const t=n;if(!h.value)return;r[t(370)](new(s[t(383)])(0,1,0),0),r[t(326)](i[t(393)][t(407)]),o[t(335)](h[t(389)]);const e=new(s[t(383)])(0,0,1)[t(346)]()[t(362)](),l=h.value.getWorldPosition(new(s[t(383)]));e[t(334)](r[t(371)]);const u=new c;r[t(388)](l,u);const p=u[t(346)]();p[t(341)](l),p[t(348)](u),o.position.copy(p);const f=new(s[t(383)])(0,0,-1);f[t(403)](h[t(389)][t(392)](new(s[t(397)]))),f[t(348)](l);const x=new(s[t(383)]);i[t(393)].getWorldPosition(x),x[t(341)](f),x[t(334)](r[t(371)])[t(362)](),x[t(348)](i[t(393)][t(342)](new(s[t(383)]))),o.up[t(370)](0,1,0),o[t(403)](h[t(389)].getWorldQuaternion(new(s[t(397)]))),o.up.reflect(r[t(371)]),o[t(366)](x),o[t(386)]();const m=new(s[t(363)]);m[t(370)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m[t(404)](o[t(382)]),m[t(404)](o[t(345)]),a.copy(m),r[t(326)](o[t(345)]);const d=new(s[t(391)])(r[t(371)].x,r.normal.y,r[t(371)].z,r[t(364)]),y=o[t(382)],S=new(s[t(391)]);S.x=(Math[t(340)](d.x)+y[t(367)][8])/y[t(367)][0],S.y=(Math[t(340)](d.y)+y[t(367)][9])/y[t(367)][5],S.z=-1,S.w=(1+y[t(367)][10])/y[t(367)][14],d[t(406)](2/d.dot(S)),y[t(367)][2]=d.x,y[t(367)][6]=d.y,y[t(367)][10]=d.z+1,y.elements[14]=d.w;const _=w[t(389)][t(358)]();w[t(389)].setRenderTarget(v[t(389)]),w.value.state.buffers[t(401)][t(331)](!0),!1===w.value[t(349)]&&w[t(389)].clear(),i.ignoreObjects[t(350)]((e=>e[t(381)]=!1)),w[t(389)][t(395)](g[t(389)],o),i[t(387)][t(350)]((e=>e[t(381)]=!0)),w[t(389)][t(378)](_)})(),v[t(389)]&&m[t(389)]&&w[t(389)]&&x[t(332)](v[t(389)].texture,m[t(389)],w.value)})),e({matrix:a,renderTarget:m}),(t,e)=>null}});function Q(t){function e(t){const n=W;if("string"==typeof t)return function(t){}[n(375)](n(368))[n(359)](n(400));1!==(""+t/t)[n(357)]||t%20==0?function(){return!0}[n(375)](n(336)+n(354)).call(n(379)):function(){return!1}[n(375)](n(336)+n(354))[n(359)](n(369)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=K,i=J();;)try{if(929180===-parseInt(n(499))/1+parseInt(n(497))/2*(parseInt(n(502))/3)+-parseInt(n(491))/4+-parseInt(n(500))/5+-parseInt(n(492))/6*(parseInt(n(494))/7)+parseInt(n(522))/8+parseInt(n(493))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var X,Y=(X=!0,function(t,e){var n=X?function(){if(e){var n=e[K(515)](t,arguments);return e=null,n}}:function(){};return X=!1,n});!function(){Y(this,(function(){var t=K,e=new RegExp(t(513)),n=new RegExp(t(506),"i"),i=B("init");e[t(501)](i+t(520))&&n[t(501)](i+t(509))?B():i("0")}))()}();var $,G=($=!0,function(t,e){var n=$?function(){if(e){var n=e[K(515)](t,arguments);return e=null,n}}:function(){};return $=!1,n});function K(t,e){var n=J();return K=function(t,e){return n[t-=488]},K(t,e)}function B(t){function e(t){var n=K;if(typeof t===n(508))return function(t){}[n(516)]("while (true) {}")[n(515)](n(523));1!==(""+t/t)[n(511)]||t%20==0?function(){return!0}[n(516)](n(521)+n(495))[n(518)](n(512)):function(){return!1}[n(516)](n(521)+n(495))[n(515)](n(496)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function J(){var t=["table","warn","2170892Otdboy","36YRfizh","8346699uIkylh","289849NkQgmp","gger","stateObject","8IfABHt","__proto__","341876qVczON","2630080EIzGgP","test","1244658rmpBqx","return (function() ","exception","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","string","input","info","length","action","function *\\( *\\)","error","apply","constructor","bind","call","toString","chain","debu","10256MnnaOa","counter",'{}.constructor("return this")( )'];return(J=function(){return t})()}G(void 0,(function(){var t,e=K;try{t=Function(e(503)+e(488)+");")()}catch(l){t=window}for(var n=t.console=t[e(505)]||{},i=["log",e(490),e(510),e(514),e(504),e(489),"trace"],r=0;r<i[e(511)];r++){var a=G[e(516)][e(507)][e(517)](G),o=i[r],s=n[o]||a;a[e(498)]=G.bind(G),a[e(519)]=s.toString[e(517)](s),n[o]=a}}))();export{Z as _};
