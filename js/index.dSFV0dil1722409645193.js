var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.Rr9HPxcG1722409645193.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.L-WtQKek1722409645193.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.0McortQS1722409645193.js";import{j as o,U as s,C as l,k as c,W as u,bb as p,h as f,a6 as x,M as v,Q as m}from"./three.6E5muTWJ1722409645193.js";import{p as h,$ as w}from"./@tresjs.qmCJ68Vp1722409645193.js";import{u as g}from"./index.mNcWtqYh1722409645193.js";import{F as d,C as y}from"./three-stdlib.lGHJYkjv1722409645193.js";import{d as S}from"./@vue.9bHx4gg21722409645193.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.-poSRcmS1722409645193.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.7_Kqrz6V1722409645193.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.qhp2OAK41722409645193.js";!function(t,e){const n=_,i=z();for(;;)try{if(597846===-parseInt(n(274))/1*(parseInt(n(254))/2)+parseInt(n(276))/3+parseInt(n(275))/4+-parseInt(n(267))/5+-parseInt(n(258))/6+parseInt(n(273))/7+parseInt(n(265))/8*(parseInt(n(283))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const P=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[_(263)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function _(t,e){const n=z();return(_=function(t,e){return n[t-=253]})(t,e)}function z(){const t=["gger","7108434wogbSA","__proto__","toString","counter","return (function() ","apply","console","9700080JhkNRY","exception","62025shMqzF","constructor","trace","action","length","function *\\( *\\)","2426235Mdughl","262USNDPk","133024HjYWcj","2679753YFrRkT",'{}.constructor("return this")( )',"string","table","stateObject","bind","prototype","9pKlWQQ","log","test","chain","5272ZNQgfl","info","init"];return(z=function(){return t})()}!function(){P(this,(function(){const t=_,e=new RegExp(t(272)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=I(t(256));e[t(285)](i+t(253))&&n.test(i+"input")?I():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[_(263)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();b(void 0,(function(){const t=_,e=function(){const t=_;let e;try{e=Function(t(262)+t(277)+");")()}catch(n){e=window}return e}(),n=e[t(264)]=e.console||{},i=[t(284),"warn",t(255),"error",t(266),t(279),t(269)];for(let r=0;r<i[t(271)];r++){const e=b.constructor[t(282)][t(281)](b),a=i[r],o=n[a]||e;e[t(259)]=b[t(281)](b),e[t(260)]=o[t(260)][t(281)](o),n[a]=e}}))();function I(t){function e(t){const n=_;if(typeof t===n(278))return function(t){}[n(268)]("while (true) {}")[n(263)](n(261));1!==(""+t/t)[n(271)]||t%20==0?function(){return!0}[n(268)]("debu"+n(257)).call(n(270)):function(){return!1}[n(268)]("debugger")[n(263)](n(280)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function E(t,e){const n=L();return(E=function(t,e){return n[t-=149]})(t,e)}const M=E;!function(t,e){const n=E,i=L();for(;;)try{if(805330===-parseInt(n(163))/1*(parseInt(n(178))/2)+parseInt(n(154))/3*(-parseInt(n(175))/4)+-parseInt(n(151))/5+-parseInt(n(188))/6+parseInt(n(156))/7*(-parseInt(n(159))/8)+-parseInt(n(161))/9*(-parseInt(n(184))/10)+parseInt(n(183))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(169)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){A(this,(function(){const t=E,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=O("init");e[t(180)](i+t(155))&&n[t(180)](i+t(177))?O():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(169)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(){const t=["apply","clone","info","counter","debu","return (function() ","1940XhpqjW","toString","input","10ULflNj","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","test","prototype","defines","34691448hnDZKS","10UqFkNw","constructor","length","exception","2028024uyxjnJ",'{}.constructor("return this")( )',"error","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","5526535vxiNBR","trace","uniforms","1515XQJcZh","chain","14QfCUzG","warn","bind","4565272BueSky","__proto__","13418829pxCgrI","stateObject","201973dqpWdM","call","gger","while (true) {}","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","console"];return(L=function(){return t})()}function U(t){const e=E,n=a({},t);return e(182)in t&&(n.defines=a({},t[e(182)])),"uniforms"in t&&(n[e(153)]=s[e(170)](t[e(153)])),n}D(void 0,(function(){const t=E;let e;try{e=Function(t(174)+t(189)+");")()}catch(r){e=window}const n=e.console=e[t(168)]||{},i=["log",t(157),t(171),t(149),t(187),"table",t(152)];for(let a=0;a<i[t(186)];a++){const e=D.constructor[t(181)].bind(D),r=i[a],o=n[r]||e;e[t(160)]=D[t(158)](D),e[t(176)]=o[t(176)][t(158)](o),n[r]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:M(179),fragmentShader:M(150)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n'+M(167)};function O(t){function e(t){const n=E;if("string"==typeof t)return function(t){}[n(185)](n(166))[n(169)](n(172));1!==(""+t/t)[n(186)]||t%20==0?function(){return!0}[n(185)](n(173)+n(165))[n(164)]("action"):function(){return!1}[n(185)](n(173)+n(165))[n(169)](n(162)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=C;!function(t,e){const n=C,i=V();for(;;)try{if(850104===-parseInt(n(243))/1+parseInt(n(234))/2+parseInt(n(256))/3*(-parseInt(n(279))/4)+parseInt(n(265))/5*(parseInt(n(257))/6)+-parseInt(n(290))/7+parseInt(n(291))/8+-parseInt(n(284))/9*(-parseInt(n(254))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(236)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function V(){const t=["2028258raVXNf","image","apply","setViewOffset","toString","set","defines","table","__proto__","501111rEknXO","test","console","setClearColor","parentMapSize","magFilter","uniforms","input","gger","floor","string","12930NkQlfo","floorPowerOfTwo","3StPkKL","272616PWwDkE","length","update","dispose","isWebGLRenderTarget","getClearColor","forEach","constructor","110NpREXZ","replace","map","originalMapSize","height",'{}.constructor("return this")( )',"debu","Y_IS_EVEN","material","setClearAlpha","fragmentShader","_copyQuad","trace","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","6168080JhhKDr","warn","tDiffuse","init","getRenderTarget","9909EYaPcc","texture","render","value","return (function() ","_mipQuad","11836356XkGlWx","9174632LRVlma","_swapTarget","prototype","camera","counter","clear","while (true) {}","X_IS_EVEN","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setSize","width","setRenderTarget","type","chain","minFilter","autoClear","action","_mipMaterials","call","bind"];return(V=function(){return t})()}!function(){T(this,(function(){const t=C,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(300),"i"),i=H(t(282));e.test(i+t(305))&&n[t(244)](i+t(250))?H():i("0")}))()}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(236)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();N(void 0,(function(){const t=C,e=function(){const t=C;let e;try{e=Function(t(288)+t(270)+");")()}catch(n){e=window}return e}(),n=e[t(245)]=e[t(245)]||{},i=[t(299),t(280),"info","error","exception",t(241),t(277)];for(let r=0;r<i[t(258)];r++){const e=N[t(264)][t(293)][t(233)](N),a=i[r],o=n[a]||e;e[t(242)]=N[t(233)](N),e.toString=o[t(238)].bind(o),n[a]=e}}))();const R=new l;class W{constructor(t){const e=C;!t&&(t=e(278));const n=U(j);n[e(275)]=n.fragmentShader[e(266)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(U(n)),i[0][e(240)][e(298)]=0,i[0].defines[e(272)]=0,i[1]=new c(U(n)),i[1][e(240)][e(298)]=1,i[1].defines[e(272)]=0,i[2]=new c(U(n)),i[2][e(240)][e(298)]=0,i[2][e(240)].Y_IS_EVEN=1,i[3]=new c(U(n)),i[3][e(240)][e(298)]=1,i[3][e(240)][e(272)]=1;const r=new u;r[e(285)][e(228)]=p,r[e(285)][e(248)]=p,this[e(292)]=r,this[e(276)]=new d(new c(y)),this[e(289)]=new d(null),this._mipMaterials=i}[k(259)](t,e,n,i=!1){const r=k;t[r(261)]&&(t=t[r(285)]);const o=n[r(229)],s=n.getClearAlpha(),l=n[r(283)]();n[r(262)](R);const c=this[r(276)],u=this[r(289)],p=this[r(292)],x=this._mipMaterials;let v,m;i?(v=f.floorPowerOfTwo(t[r(235)][r(302)]),m=f[r(255)](t[r(235)][r(269)])):(v=Math[r(252)](t[r(235)][r(302)]),m=Math[r(252)](t.image[r(269)]));const h=Math[r(252)](1.5*v),w=Math.floor(m);e[r(301)](h,w),p.texture.type!==e[r(285)][r(304)]?(p[r(260)](),p.copy(e),p[r(285)][r(235)]=a({},p.texture[r(235)])):p[r(301)](h,w),n[r(229)]=!1,n[r(246)](0),n.setClearAlpha(),c[r(273)][r(249)][r(281)][r(287)]=t,c[r(294)][r(237)](v,m,0,0,h,w),n[r(303)](e),n[r(296)](),c[r(286)](n),n[r(303)](p),n.clear(),c[r(286)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(249)][r(267)].value=p[r(285)],t[r(249)].parentLevel[r(287)]=y,t[r(249)][r(247)].value[r(239)](g,d),t.uniforms[r(268)][r(287)][r(239)](v,m),u[r(273)]=t,g=Math.floor(g/2),d=Math.floor(d/2);const i=w-2*d;n[r(303)](e),u[r(294)].setViewOffset(g,d,-v,-i,h,w),u[r(286)](n),n[r(303)](p),t[r(249)][r(267)][r(287)]=e.texture,u[r(286)](n),y++}return n[r(303)](l),n[r(274)](s),n.setClearColor(R),n.autoClear=o,y+1}[k(260)](){const t=k;this._swapTarget.dispose(),this[t(289)][t(260)](),this[t(276)].dispose(),this[t(231)][t(263)]((e=>e[t(260)]()))}}function C(t,e){const n=V();return(C=function(t,e){return n[t-=228]})(t,e)}function H(t){function e(t){const n=C;if(typeof t===n(253))return function(t){}.constructor(n(297))[n(236)](n(295));1!==(""+t/t)[n(258)]||t%20==0?function(){return!0}[n(264)](n(271)+n(251))[n(232)](n(230)):function(){return!1}[n(264)](n(271)+n(251))[n(236)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function F(t,e){const n=Q();return(F=function(t,e){return n[t-=152]})(t,e)}const X=F;!function(t,e){const n=F,i=Q();for(;;)try{if(374748===parseInt(n(197))/1+parseInt(n(209))/2+-parseInt(n(208))/3*(parseInt(n(161))/4)+parseInt(n(220))/5+-parseInt(n(186))/6*(-parseInt(n(202))/7)+parseInt(n(174))/8+-parseInt(n(165))/9*(parseInt(n(211))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(168)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Z(this,(function(){const t=F,e=new RegExp(t(214)),n=new RegExp(t(225),"i"),i=G(t(155));e[t(169)](i+t(172))&&n[t(169)](i+t(175))?G():i("0")}))()}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Q(){const t=["visible","85494OvHRhH","sign",'{}.constructor("return this")( )',"render","return (function() ","projectPoint","multiply","forEach","matrixWorldInverse","call","action","724492ppkSoi","sub","parent","toString","clone","28LhExDj","set","Vector3","update","normal","add","661083owQMPy","1093686IyXiNE","dot","660yztSuY","Quaternion","reflectorMipMap","function *\\( *\\)","gger","Plane","matrixWorld","texture","copy","3089500kcBfJz","resolution","value","reflect","autoClear","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getWorldQuaternion","setRenderTarget","getRenderTarget","debu","init","constant","getWorldPosition","PerspectiveCamera","constructor","projectionMatrix","12TkftYm","position","elements","applyMatrix4","140274YnqxaE","__proto__","length","apply","test","Vector4","ignoreObjects","chain","UnsignedByteType","946208BOfnPn","input","multiplyScalar","error","warn","while (true) {}","buffers","negate","applyQuaternion","info","bind"];return(Q=function(){return t})()}Y(void 0,(function(){const t=F;let e;try{e=Function(t(190)+t(188)+");")()}catch(r){e=window}const n=e.console=e.console||{},i=["log",t(178),t(183),t(177),"exception","table","trace"];for(let a=0;a<i[t(167)];a++){const e=Y.constructor.prototype[t(184)](Y),r=i[a],o=n[r]||e;e[t(166)]=Y[t(184)](Y),e[t(200)]=o[t(200)].bind(o),n[r]=e}}))();const $=S({__name:X(213),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,i=t,r=new(x[n(216)]),a=new v,o=new(x[n(158)]),s=new W,l=g({width:i[n(221)],height:i[n(221)],settings:{type:x[n(173)]}}),c=g({width:i[n(221)],height:i[n(221)],settings:{type:x[n(173)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:d}=w();return d((()=>{const t=n;(()=>{const t=n;if(!u[t(222)])return;r.set(new(x[t(204)])(0,1,0),0),r[t(164)](i[t(199)][t(217)]),o[t(219)](u.value);const e=new(x[t(204)])(0,0,1)[t(201)]()[t(181)](),s=u[t(222)].getWorldPosition(new(x[t(204)]));e.reflect(r.normal);const c=new(x[t(204)]);r[t(191)](s,c);const h=c[t(201)]();h.sub(s),h[t(207)](c),o[t(162)][t(219)](h);const w=new(x[t(204)])(0,0,-1);w[t(182)](u[t(222)][t(226)](new(x[t(212)]))),w[t(207)](s);const g=new(x[t(204)]);i[t(199)].getWorldPosition(g),g[t(198)](w),g[t(223)](r[t(206)]).negate(),g[t(207)](i[t(199)][t(157)](new(x[t(204)]))),o.up.set(0,1,0),o[t(182)](u[t(222)][t(226)](new m)),o.up.reflect(r[t(206)]),o.lookAt(g),o.updateMatrixWorld();const d=new v;d[t(203)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(192)](o[t(160)]),d[t(192)](o[t(194)]),a[t(219)](d),r.applyMatrix4(o[t(194)]);const y=new(x[t(170)])(r[t(206)].x,r[t(206)].y,r[t(206)].z,r[t(156)]),S=o[t(160)],P=new(x[t(170)]);P.x=(Math[t(187)](y.x)+S[t(163)][8])/S[t(163)][0],P.y=(Math[t(187)](y.y)+S[t(163)][9])/S[t(163)][5],P.z=-1,P.w=(1+S[t(163)][10])/S[t(163)][14],y[t(176)](2/y[t(210)](P)),S[t(163)][2]=y.x,S[t(163)][6]=y.y,S[t(163)][10]=y.z+1,S[t(163)][14]=y.w;const _=p[t(222)][t(153)]();p.value[t(152)](l[t(222)]),p[t(222)].state[t(180)].depth.setMask(!0),!1===p[t(222)][t(224)]&&p[t(222)].clear(),i[t(171)].forEach((e=>e[t(185)]=!1)),p[t(222)][t(189)](f.value,o),i[t(171)][t(193)]((e=>e[t(185)]=!0)),p[t(222)][t(152)](_)})(),l.value&&c[t(222)]&&p[t(222)]&&s[t(205)](l[t(222)][t(218)],c[t(222)],p[t(222)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function G(t){function e(t){const n=F;if("string"==typeof t)return function(t){}[n(159)](n(179))[n(168)]("counter");1!==(""+t/t)[n(167)]||t%20==0?function(){return!0}[n(159)](n(154)+n(215))[n(195)](n(196)):function(){return!1}[n(159)](n(154)+n(215))[n(168)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function q(){var t=["input","395dawntU","1116846PZCUNn","stateObject","3894261hHJUTE","20274293tXidNq",'{}.constructor("return this")( )',"toString","chain","__proto__","console","apply","3404GcOkeh","exception","string","length","while (true) {}","1105907FCyZya","24zTbrSx","debu","return (function() ","table","3lnMNgV","gger","bind","trace","417HRPPoX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","20886hROkaW","8LfxTyd","init","test","338652jPHFSi","40tFmyWm","error","constructor"];return(q=function(){return t})()}!function(t,e){for(var n=J,i=q();;)try{if(361460===-parseInt(n(413))/1*(-parseInt(n(399))/2)+-parseInt(n(409))/3*(-parseInt(n(420))/4)+-parseInt(n(388))/5*(-parseInt(n(416))/6)+parseInt(n(391))/7*(parseInt(n(417))/8)+parseInt(n(389))/9*(parseInt(n(421))/10)+parseInt(n(404))/11*(-parseInt(n(405))/12)+-parseInt(n(392))/13)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var B=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[J(398)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(t,e){var n=q();return(J=function(t,e){return n[t-=388]})(t,e)}!function(){B(this,(function(){var t=J,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(414),"i"),i=tt(t(418));e[t(419)](i+t(395))&&n[t(419)](i+t(424))?tt():i("0")}))()}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(t){function e(t){var n=J;if(typeof t===n(401))return function(t){}[n(423)](n(403)).apply("counter");1!==(""+t/t)[n(402)]||t%20==0?function(){return!0}[n(423)]("debu"+n(410)).call("action"):function(){return!1}[n(423)](n(406)+n(410))[n(398)](n(390)),e(++t)}try{if(t)return e;e(0)}catch(n){}}K(void 0,(function(){var t,e=J;try{t=Function(e(407)+e(393)+");")()}catch(l){t=window}for(var n=t[e(397)]=t.console||{},i=["log",e(415),"info",e(422),e(400),e(408),e(412)],r=0;r<i[e(402)];r++){var a=K.constructor.prototype[e(411)](K),o=i[r],s=n[o]||a;a[e(396)]=K[e(411)](K),a[e(394)]=s[e(394)].bind(s),n[o]=a}}))();export{$ as _};
