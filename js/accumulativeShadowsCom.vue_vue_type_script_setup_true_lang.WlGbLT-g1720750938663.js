import{a5 as t,c as n,h as e}from"./three.c_4mN3mZ1720750938663.js";import{a as o}from"./@tresjs.toBU36DO1720750938663.js";import{d as a,P as r}from"./@pmndrs.PBnvUkpX1720750938663.js";import{d as s,b as i,w as c,a2 as u,o as l,D as f,J as p,aj as h,ak as d}from"./@vue.ApkyOKE71720750938663.js";const m=z;!function(t,n){const e=z,o=y();for(;;)try{if(721925===-parseInt(e(465))/1+parseInt(e(464))/2+-parseInt(e(457))/3+parseInt(e(517))/4*(parseInt(e(466))/5)+parseInt(e(470))/6+parseInt(e(474))/7*(-parseInt(e(459))/8)+parseInt(e(533))/9)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(513)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=z,n=new RegExp(t(520)),e=new RegExp(t(490),"i"),o=P("init");n[t(475)](o+t(504))&&e.test(o+t(482))?P():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(513)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function y(){const t=["mapSize","gPlane","Vector3","clear","bind","frames","castShadow","accumulativeShadowsCom","3012750lAyyoE","gger","acos","amount","constructor","height","2747766HuyLjN","table","24emWZRb","left","position","set","sin","2468974zWMqdL","1401824BzNaru","2193115cvUnBP","rotate-x","bottom","TresSoftShadowMaterial","7362252FWZydF","color","log","shadows render start","455539zCJgKD","test","right","trace","string","value","ambient","size","input","blend","lightPosition","finish","console","update","far","add","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","prepare","progressiveLightMap2","material","children","alphaTest","remove","random","toString","opacity","randFloatSpread","bias","DirectionalLight","chain",'{}.constructor("return this")( )',"shadows render end","stateObject","call","blendWindow","abs","debu","shadows plm update","apply","TresMesh","cos","#000000","4PkRjdj","length","__proto__","function *\\( *\\)","MathUtils","shadow","counter","camera"];return(y=function(){return t})()}w(void 0,(function(){const t=z;let n;try{n=Function("return (function() "+t(505)+");")()}catch(a){n=window}const e=n.console=n[t(486)]||{},o=[t(472),"warn","info","error","exception",t(458),t(477)];for(let r=0;r<o.length;r++){const n=w.constructor.prototype[t(529)](w),a=o[r],s=e[a]||n;n[t(519)]=w[t(529)](w),n[t(499)]=s[t(499)][t(529)](s),e[a]=n}}))();const M=[m(467)],b=p("TresPlaneGeometry",{args:[1,1]},null,-1);function z(t,n){const e=y();return(z=function(t,n){return e[t-=456]})(t,n)}const I=s({__name:m(532),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(516)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const g=m,w=s;let y=i();const{extend:z,scene:I,renderer:P,camera:x}=o();z({SoftShadowMaterial:a});const j={position:(new(t[g(527)])).set(w[g(484)].x,w.lightPosition.y,w[g(484)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},S=new r(P[g(479)],I[g(479)],j[g(525)]),_={map:S[g(493)].texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[g(483)],alphaTest:w[g(496)],opacity:w[g(500)],color:w.color},v=new n;for(let n=0;n<j[g(536)];n++){const n=new(t[g(503)])(16777215,j.intensity/j.amount);n[g(531)]=!0,n[g(522)][g(502)]=j[g(502)],n[g(522)][g(524)].near=j.near,n[g(522)][g(524)].far=j[g(488)],n[g(522)].camera[g(476)]=j[g(481)]/2,n[g(522)][g(524)][g(460)]=-j[g(481)]/2,n.shadow.camera.top=j[g(481)]/2,n[g(522)].camera[g(468)]=-j[g(481)]/2,n[g(522)][g(525)].width=j[g(525)],n[g(522)][g(525)][g(456)]=j[g(525)],v[g(489)](n)}const T=()=>{const n=g,o=j[n(461)][n(518)]();for(let a=0;a<v[n(495)][n(518)];a++){const r=v[n(495)][a];if(Math[n(498)]()>w[n(480)])r.position[n(462)](j.position.x+t[n(521)][n(501)](j.radius),j[n(461)].y+e[n(501)](j.radius),j[n(461)].z+t[n(521)][n(501)](j.radius));else{let t=Math[n(535)](2*Math[n(498)]()-1)-Math.PI/2,e=2*Math.PI*Math.random();r[n(461)][n(462)](Math[n(515)](t)*Math[n(515)](e)*o,Math[n(510)](Math.cos(t)*Math[n(463)](e)*o),Math[n(463)](t)*o)}}},W=(t=1)=>{const n=g;I[n(479)][n(489)](v),S[n(492)]();for(let e=0;e<t;e++)T(),S[n(487)](x[n(479)],w[n(509)]),console[n(472)](n(512),e);I[n(479)][n(497)](v),S[n(485)]()};c((()=>y[g(479)]),(t=>{const n=g;t&&(S.configure(t),S.clear(),console[n(472)](n(473)),W(w[n(530)]),console[n(472)](n(506)))}));const k=()=>{const t=g;S[t(528)](),W(w[t(530)])};return u((()=>{const t=g;y[t(479)]&&(w.opacity&&(y[t(479)][t(494)][t(500)]=w[t(500)]),w[t(496)]&&(y[t(479)][t(494)].alphaTest=w.alphaTest),w.color&&y[t(479)].material[t(471)].set(w[t(471)]),w[t(483)]&&(y[t(479)].material[t(483)]=w[t(483)]))})),c((()=>w.lightPosition),(t=>{const n=g;t&&(console[n(472)](w[n(484)]),j[n(461)][n(462)](t.x,t.y,t.z),k())}),{deep:!0}),c((()=>[w.frames,w[g(509)],w.ambient]),(()=>{k()})),(t,n)=>{const e=g;return l(),f(e(514),{"receive-shadow":"",ref_key:e(526),ref:y,scale:10,"rotate-x":-Math.PI/2},[b,p(e(469),h(d(_)),null,16)],8,M)}}});function P(t){function n(t){const e=z;if(typeof t===e(478))return function(t){}[e(537)](e(491)).apply(e(523));1!==(""+t/t)[e(518)]||t%20==0?function(){return!0}[e(537)](e(511)+"gger")[e(508)]("action"):function(){return!1}[e(537)]("debu"+e(534))[e(513)](e(507)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
