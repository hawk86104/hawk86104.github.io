import{a as t,U as n}from"./@tresjs.g7tJPOCI1736493808390.js";import{P as e}from"./tweakpane.yHWGBmom1736493808390.js";import{Y as o,_ as r,a,ak as s,al as i}from"./three.lAfZYOpc1736493808390.js";import{_ as c}from"./heatmap.js-fix.1c6nFUMb1736493808390.js";import{d as u,a4 as p,a1 as l,o as f,D as d,u as h,r as g,e as m,f as y,g as v,J as b,j as w,al as I,aj as x,ak as _,m as j}from"./@vue.-Mz_IXfk1736493808390.js";import"./@vueuse.kU-N6GoC1736493808390.js";import"./@amap.nSU5n3nL1736493808390.js";const C=D;function D(t,n){const e=M();return(D=function(t,n){return e[t-=441]})(t,n)}!function(t,n){const e=D,o=M();for(;;)try{if(745674===-parseInt(e(457))/1*(parseInt(e(453))/2)+parseInt(e(450))/3*(parseInt(e(476))/4)+-parseInt(e(445))/5*(parseInt(e(465))/6)+parseInt(e(485))/7*(parseInt(e(506))/8)+-parseInt(e(454))/9*(parseInt(e(441))/10)+-parseInt(e(492))/11+parseInt(e(511))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["primitive","trace","mesh_0","1030190PblCEF","canvas","return (function() ","stateObject","815blOqwc","show2dCanvas","_renderer","appendChild","debu","1581vyDyLV","needsUpdate","style","2182YHDjgE","9uvLOgI","1px solid #5384ff","table","257zFRmdY","count","init","geometry","top","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","onclick","40px","13674OSZobD","console","layerX","absolute","create","material","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","action","push","bind","position","5108sHXSMY","computeBoundingBox","border","radius","error","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","setScalar","string","chain","2965634UANuEB","scale","function *\\( *\\)","./draco/","while (true) {}","toString","getZ","15718637qjYydd","exception","constructor","test","attributes","gger","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","left","heatmapClickCom","boundingBox",'{}.constructor("return this")( )',"ShaderMaterial","log","__proto__","16sVxXaL","apply","DoubleSide","display","input","16910652kkhjzI","object"];return(M=function(){return t})()}!function(){k(this,(function(){const t=D,n=new RegExp(t(487)),e=new RegExp(t(462),"i"),o=A(t(459));n[t(495)](o+t(484))&&e.test(o+t(510))?A():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(507)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=D;let n;try{n=Function(t(443)+t(502)+");")()}catch(r){n=window}const e=n.console=n[t(466)]||{},o=[t(504),"warn","info",t(480),t(493),t(456),t(514)];for(let a=0;a<o.length;a++){const n=S[t(494)].prototype[t(474)](S),r=o[a],s=e[r]||n;n[t(505)]=S[t(474)](S),n[t(490)]=s[t(490)][t(474)](s),e[r]=n}}))();const Z=[C(512)],z=u({__name:C(500),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const u=n,{nodes:g}=([s,i]=p((()=>t(e(481),{draco:!0,decoderPath:e(488)}))),s=await s,i(),s);g[e(515)][e(475)].set(-5088.96,-3.08,39374.7),g[e(515)][e(486)][e(482)](.01);let m=null,y=null,v=null;y=new o((()=>{const t=e;return v=document.createElement("heatmap-canvas"),v.style.position=t(468),v.style[t(461)]=t(464),v[t(452)][t(499)]="0",document.body[t(448)](v),m=c[t(469)]({container:v,width:256,height:256,blur:"0.8",radius:u[t(479)]}),m[t(447)][t(442)].style[t(478)]=t(455),m[t(447)][t(442)][t(463)]=function(n){const e=t;m.addData({x:n[e(467)],y:n.layerY,value:1,radius:u[e(479)]}),m.setDataMax(1),y&&(y[e(451)]=!0)},m})()[e(447)].canvas);const b={vertexShader:e(471),fragmentShader:e(498),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(508)]},w=new(r[e(503)])(b);g[e(515)][e(470)]=w;return(t=>{const n=e;t[n(477)]();const{max:o,min:r}=t[n(501)];t.deleteAttribute("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(496)][n(475)][n(458)];e++)c[n(473)]((t.attributes[n(475)].getX(e)-r.x)/s),c[n(473)]((t[n(496)].position[n(491)](e)-r.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new a(u,2))})(g[e(515)][e(460)]),l((()=>{const t=e;v[t(452)][t(509)]=u[t(446)]?"block":"none"})),(t,n)=>{const o=e;return f(),d(o(513),{object:h(g)[o(515)]},null,8,Z)}}});function A(t){function n(t){const e=D;if(typeof t===e(483))return function(t){}[e(494)](e(489)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(494)](e(449)+"gger").call(e(472)):function(){return!1}[e(494)](e(449)+e(497)).apply(e(444)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=Y,o=E();for(;;)try{if(294001===-parseInt(e(127))/1*(parseInt(e(148))/2)+-parseInt(e(119))/3*(parseInt(e(122))/4)+parseInt(e(152))/5+parseInt(e(137))/6*(-parseInt(e(164))/7)+parseInt(e(124))/8*(parseInt(e(149))/9)+-parseInt(e(155))/10*(-parseInt(e(134))/11)+parseInt(e(125))/12*(parseInt(e(141))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(140)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=Y,n=new RegExp(t(154)),e=new RegExp(t(121),"i"),o=R(t(145));n[t(138)](o+t(144))&&e[t(138)](o+t(161))?R():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=E();return(Y=function(t,n){return e[t-=116]})(t,n)}function E(){const t=["toString","apply","221QQMqJM","info","debu","chain","init","action","exception","2aAjPoB","2331162ZWAypY","显示二维图",'{}.constructor("return this")( )',"855485gUkWDU","error","function *\\( *\\)","50XVZphs","trace","table","圆圈的大小","while (true) {}","gger","input","__proto__","call","21ilaDtY","TresGridHelper","constructor","warn","624gjdRsi","show2dCanvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8844gGTmiV","bind","8ZXmhHc","523104TiFDah","prototype","542863gZJsqV","TresCanvas","TresDirectionalLight","addBinding","length","console","return (function() ","477521QvCViZ","TresPerspectiveCamera","addButton","182964DYrmkb","test"];return(E=function(){return t})()}U(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(133)+t(151)+");")()}catch(e){n=window}return n}(),e=n[t(132)]=n[t(132)]||{},o=["log",t(118),t(142),t(153),t(147),t(157),t(156)];for(let r=0;r<o.length;r++){const n=U[t(117)][t(126)].bind(U),a=o[r],s=e[a]||n;n[t(162)]=U[t(123)](U),n[t(139)]=s[t(139)].bind(s),e[a]=n}}))();const O=u({__name:"heatmapClick",setup(t){const o=Y,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=g({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(130)](a,o(120),{label:o(150)}),c.addBinding(a,"radius",{label:o(158),min:.1,max:30,step:.1}),c[o(136)]({title:"点击左侧蓝色画框"}),(t,e)=>{const s=o,i=m(s(128));return f(),y(i,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=b(s(135),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(s(129),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=b(s(116),{args:[50,25]},null,-1)),(f(),y(I,null,{default:v((()=>[w(z,x(_(a)),null,16)])),_:1}))])),_:1},16)}}});function R(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(117)](e(159))[e(140)]("counter");1!==(""+t/t)[e(131)]||t%20==0?function(){return!0}[e(117)]("debu"+e(160))[e(163)](e(146)):function(){return!1}[e(117)](e(143)+e(160)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
