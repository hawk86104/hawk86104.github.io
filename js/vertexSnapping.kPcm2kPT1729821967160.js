import{_ as t,ai as n}from"./three.x4oqFJNT1729821967160.js";import{q as o,Y as i,L as e}from"./@tresjs.QjD7q5YC1729821967160.js";import{a as r,b as s}from"./index.rr4JiF8d1729821967160.js";import{P as u}from"./tweakpane.yHWGBmom1729821967160.js";import{d as c,$ as a,w as p,o as l,E as f,a4 as m,u as d,r as g,f as h,g as v,j as I,L as S,al as y,m as b}from"./@vue.JNsx1iN61729821967160.js";import"./@vueuse.HMG_JnUD1729821967160.js";import"./three-stdlib.7oc1T0_b1729821967160.js";import"./@pmndrs.Bb7jBcbP1729821967160.js";import"./object-hash.nNsVfdic1729821967160.js";import"./@amap.Y4sQVtej1729821967160.js";import"./jszip.tCm-hQZR1729821967160.js";const P=w;!function(t,n){const o=w,i=x();for(;;)try{if(744125===-parseInt(o(206))/1*(-parseInt(o(202))/2)+parseInt(o(215))/3+-parseInt(o(209))/4*(parseInt(o(184))/5)+-parseInt(o(214))/6*(-parseInt(o(181))/7)+-parseInt(o(216))/8+-parseInt(o(195))/9*(parseInt(o(186))/10)+parseInt(o(187))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[w(173)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function x(){const t=["40925gkOFmS","action","3506700eQfAhM","34127929KeqLnk","info","init","debu","input","exception","constructor","uniforms","18hWhQtR","#include <project_vertex>","onBeforeCompile","com","bind","prototype","chain","162GiwMub","MeshStandardMaterial","table","return (function() ","6469bfvEjF","warn","counter","692zTurrV","toString","log","__proto__","console","1231206rjXIWo","565020KmzZwg","9268792eQjOSY","while (true) {}","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","call","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","string","apply","vertexShader","srcMaterial","test","uSnappingResolution","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","replace","trace","7JPPoah","length","function *\\( *\\)"];return(x=function(){return t})()}!function(){_(this,(function(){const t=w,n=new RegExp(t(183)),o=new RegExp(t(178),"i"),i=T(t(189));n[t(176)](i+t(201))&&o[t(176)](i+t(191))?T():i("0")}))()}();const R=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[w(173)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function w(t,n){const o=x();return(w=function(t,n){return o[t-=173]})(t,n)}R(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(205)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(213)]=n.console||{},i=[t(211),t(207),t(188),"error",t(192),t(204),t(180)];for(let e=0;e<i[t(182)];e++){const n=R.constructor[t(200)][t(199)](R),r=i[e],s=o[r]||n;n[t(212)]=R.bind(R),n[t(210)]=s[t(210)][t(199)](s),o[r]=n}}))();const j=["object"],M=c({__name:P(198),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[P(203)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=P,o=t,i=a(o[n(177)]);return o.srcMaterial[n(197)]=t=>{const o=n;t[o(194)][o(177)]=i,t[o(174)]=t[o(174)].replace("#include <common>",o(220)),t[o(174)]=t[o(174)][o(179)](o(196),o(218))},p((()=>o[n(177)]),(t=>{i.value=t})),(t,o)=>{const i=n;return l(),f("primitive",{object:t[i(175)]},null,8,j)}}});function T(t){function n(t){const o=w;if(typeof t===o(221))return function(t){}[o(193)](o(217))[o(173)](o(208));1!==(""+t/t)[o(182)]||t%20==0?function(){return!0}[o(193)](o(190)+"gger")[o(219)](o(185)):function(){return!1}[o(193)](o(190)+"gger")[o(173)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function A(){const t=["253624piyWEW","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","gger","208PUlUCn","uSnappingResolution","return (function() ","init","2778JEvDTO","8780040rYquGv","replace","toString","vertexShader","__proto__","#include <common>","chain","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","apply","655mBtDun","console",'{}.constructor("return this")( )',"33vsuKJx","test","bind","debu","while (true) {}","trace","stateObject","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","430935hitKNH","1255492flxNLX","prototype","length","48cQoBVV","349584ZyQPas","counter","info","5207010McJsAJ","table","constructor","6VyRnTB","uniforms","function *\\( *\\)","action"];return(A=function(){return t})()}!function(t,n){const o=N,i=A();for(;;)try{if(504712===-parseInt(o(324))/1*(-parseInt(o(314))/2)+-parseInt(o(348))/3*(parseInt(o(338))/4)+parseInt(o(337))/5*(parseInt(o(341))/6)+-parseInt(o(307))/7*(-parseInt(o(310))/8)+-parseInt(o(315))/9+-parseInt(o(345))/10+-parseInt(o(327))/11*(-parseInt(o(342))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const E=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){E(this,(function(){const t=N,n=new RegExp(t(305)),o=new RegExp(t(335),"i"),i=C(t(313));n[t(328)](i+t(321))&&o[t(328)](i+"input")?C():i("0")}))()}();const z=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function N(t,n){const o=A();return(N=function(t,n){return o[t-=305]})(t,n)}function C(t){function n(t){const o=N;if("string"==typeof t)return function(t){}.constructor(o(331))[o(323)](o(343));1!==(""+t/t)[o(340)]||t%20==0?function(){return!0}.constructor(o(330)+o(309))[o(334)](o(306)):function(){return!1}[o(347)](o(330)+o(309))[o(323)](o(333)),n(++t)}try{if(t)return n;n(0)}catch(o){}}z(void 0,(function(){const t=N;let n;try{n=Function(t(312)+t(326)+");")()}catch(e){n=window}const o=n[t(325)]=n.console||{},i=["log",t(336),t(344),"error","exception",t(346),t(332)];for(let r=0;r<i[t(340)];r++){const n=z[t(347)][t(339)][t(329)](z),e=i[r],s=o[e]||n;n[t(319)]=z.bind(z),n[t(317)]=s.toString[t(329)](s),o[e]=n}}))();const Z=$;!function(t,n){const o=$,i=F();for(;;)try{if(923820===parseInt(o(177))/1+-parseInt(o(166))/2+parseInt(o(155))/3+parseInt(o(154))/4+-parseInt(o(159))/5*(-parseInt(o(161))/6)+parseInt(o(176))/7+-parseInt(o(190))/8)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const k=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[$(171)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=$,n=new RegExp(t(194)),o=new RegExp(t(169),"i"),i=W(t(156));n[t(170)](i+"chain")&&o[t(170)](i+"input")?W():i("0")}))()}();const B=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[$(171)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();B(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(157)+t(174)+");")()}catch(o){n=window}return n}(),o=n[t(186)]=n[t(186)]||{},i=[t(162),t(189),t(158),t(180),t(160),t(165),"trace"];for(let e=0;e<i[t(164)];e++){const n=B[t(163)][t(153)].bind(B),r=i[e],s=o[r]||n;n[t(172)]=B[t(179)](B),n.toString=s[t(192)][t(179)](s),o[r]=n}}))();const G=[Z(188)];function $(t,n){const o=F();return($=function(t,n){return o[t-=153]})(t,n)}function F(){const t=["log","constructor","length","table","1439138RYpsAF","push","values","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","apply","__proto__","counter",'{}.constructor("return this")( )',"while (true) {}","8286887xQneIV","274166YSjKTD","gger","bind","error","action","value","uSnappingResolution","./draco/","forEach","console","model","object","warn","19148168kBawGG","debu","toString","stateObject","function *\\( *\\)","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","prototype","1493600CPFRqg","1570809WMqpWr","init","return (function() ","info","12100fNcjot","exception","4170jYcVNT"];return(F=function(){return t})()}const O=c({__name:Z(187),props:{uSnappingResolution:{default:6}},async setup(t){const n=Z;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o(n(195),{draco:!0,decoderPath:n(184)}))),i=await i,e(),i),c=[];return Object[n(168)](u)[n(185)]((t=>{const o=n;c[o(167)](function(t,n=6){const o={value:n};return t.onBeforeCompile=t=>{const n=N;t[n(349)][n(311)]=o,t[n(318)]=t.vertexShader[n(316)](n(320),n(308)),t[n(318)]=t.vertexShader[n(316)]("#include <project_vertex>",n(322))},o}(t,r[o(183)]))})),p((()=>r[n(183)]),(t=>{const o=n;c[o(185)]((n=>{n[o(182)]=t}))})),(t,n)=>(l(),f("primitive",{object:d(s),scale:5,position:[0,-2,0]},null,8,G))}});function W(t){function n(t){const o=$;if("string"==typeof t)return function(t){}.constructor(o(175)).apply(o(173));1!==(""+t/t)[o(164)]||t%20==0?function(){return!0}[o(163)](o(191)+o(178)).call(o(181)):function(){return!1}[o(163)]("debu"+o(178))[o(171)](o(193)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const Y=X;!function(t,n){const o=X,i=J();for(;;)try{if(712696===parseInt(o(179))/1*(parseInt(o(155))/2)+-parseInt(o(156))/3+parseInt(o(182))/4*(-parseInt(o(178))/5)+-parseInt(o(195))/6*(-parseInt(o(199))/7)+-parseInt(o(174))/8+parseInt(o(193))/9+-parseInt(o(162))/10*(-parseInt(o(164))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const q=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[X(157)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function J(){const t=["addBinding","TresDirectionalLight","24pUbTuf","圆环扭结-分辨率","__proto__","length","toString","TresCylinderGeometry","stateObject","TresTorusKnotGeometry",'{}.constructor("return this")( )',"chain","table","1376154CfyRMP","cube","6laoSrh","console","input","prototype","304871NmcStD","TresMeshStandardMaterial","trace","TresPerspectiveCamera","gger","counter","circle","2195532tJnhos","3140250NWYdYW","apply","bind","rotation-x","function *\\( *\\)","string","2760360IrANXP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","77lpfymq","action","info","自行车模型-分辨率","debu","return (function() ","constructor","uSnappingResolution","while (true) {}","warn","787016dkMNjD","error","rotation-y","test","1140545uSpeJM","1ZzrIjh"];return(J=function(){return t})()}!function(){q(this,(function(){const t=X,n=new RegExp(t(160)),o=new RegExp(t(163),"i"),i=nt("init");n[t(177)](i+t(191))&&o[t(177)](i+t(197))?nt():i("0")}))()}();const U=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[X(157)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();U(void 0,(function(){const t=X;let n;try{n=Function(t(169)+t(190)+");")()}catch(e){n=window}const o=n[t(196)]=n[t(196)]||{},i=["log",t(173),t(166),t(175),"exception",t(192),t(201)];for(let r=0;r<i[t(185)];r++){const n=U.constructor[t(198)][t(158)](U),e=i[r],s=o[e]||n;n[t(184)]=U[t(158)](U),n.toString=s[t(186)][t(158)](s),o[e]=n}}))();const D=S(Y(202),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1),K=S("TresAmbientLight",{intensity:.5},null,-1),L=S(Y(181),{position:[7,10,-5.5],intensity:5},null,-1),Q=S("TresMesh",{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:Y(194)},[S(Y(187),{args:[1.5,1.5,2]}),S(Y(200),{color:16737826,roughness:0,metalness:0})],-1),V={position:[5,.9,-5],name:"torus"},H=S(Y(189),{args:[1,.35,100,32]},null,-1);function X(t,n){const o=J();return(X=function(t,n){return o[t-=152]})(t,n)}const tt=c({__name:"vertexSnapping",setup(t){const o=Y,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p.addBinding(a,o(171),{label:o(183),min:0,max:20,step:.01}),p[o(180)](a,"modelSnappingResolution",{label:o(167),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(d(e),b(c,{"window-size":""}),{default:v((()=>[D,I(d(i)),K,L,Q,S("TresMesh",V,[H,I(M,{uSnappingResolution:a[u(171)]},null,8,["uSnappingResolution"])]),(l(),h(y,null,{default:v((()=>[I(O,{uSnappingResolution:a.modelSnappingResolution},null,8,["uSnappingResolution"])])),_:1})),(l(),h(y,null,{default:v((()=>[I(d(s),{resolution:256,blur:1,background:""},{default:v((()=>[I(d(r),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),I(d(r),{intensity:2,form:u(154),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(159)]),I(d(r),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(176)]),I(d(r),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(176)])])),_:1})])),_:1}))])),_:1},16)}}});function nt(t){function n(t){const o=X;if(typeof t===o(161))return function(t){}.constructor(o(172))[o(157)](o(153));1!==(""+t/t)[o(185)]||t%20==0?function(){return!0}[o(170)](o(168)+o(152)).call(o(165)):function(){return!1}[o(170)]("debu"+o(152))[o(157)](o(188)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{tt as default};
