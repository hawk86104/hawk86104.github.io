import{_ as t,bO as n,a3 as o,U as r,C as e}from"./three.sBrYSCgq1741007821308.js";import{a as s}from"./@tresjs.u6hJLBm41741007821308.js";import{d as a,b as c,a3 as u,w as i,o as f,H as l,N as p,aj as h,ak as d}from"./@vue.NRI7TcgI1741007821308.js";function g(t,n){const o=w();return(g=function(t,n){return o[t-=164]})(t,n)}!function(t,n){const o=g,r=w();for(;;)try{if(301343===parseInt(o(199))/1*(-parseInt(o(181))/2)+parseInt(o(172))/3*(parseInt(o(190))/4)+parseInt(o(175))/5*(-parseInt(o(204))/6)+-parseInt(o(216))/7*(-parseInt(o(164))/8)+-parseInt(o(167))/9+parseInt(o(188))/10*(parseInt(o(177))/11)+parseInt(o(191))/12)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(178)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(206),"i"),r=x("init");n.test(r+t(166))&&o[t(183)](r+t(186))?x():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(178)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function w(){const t=["chain","4110030bHnhbi","gger","return (function() ","error","log","69ICaZcu","action","beginnormal_vertex","9855Mgwkbt","shadowmask_pars_fragment","17149RbZdvO","apply","trace","console","174lHNYGc","__proto__","test","shadowmap_pars_fragment","ShaderChunk","input","warn","1780mSWvst","constructor","34316zWbSrl","5568432lTxiyX","begin_vertex","defaultnormal_vertex","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","packing","common","\n\t ","while (true) {}","1150LdGOrp","lights_pars_begin","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n          ","debu","432rxNYgp","worldpos_vertex","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","counter","\n       varying vec2 vUv;\n\t\t\t \t","exception","info","stateObject","bsdfs",'{}.constructor("return this")( )',"call","213920mCjDoQ","bind","\n      \t","string","prototype","16KjsIQX","table"];return(w=function(){return t})()}v(void 0,(function(){const t=g;let n;try{n=Function(t(169)+t(214)+");")()}catch(e){n=window}const o=n.console=n[t(180)]||{},r=[t(171),t(187),t(211),t(170),t(210),t(165),t(179)];for(let s=0;s<r[t(207)];s++){const n=v.constructor[t(220)].bind(v),e=r[s],a=o[e]||n;n[t(182)]=v[t(217)](v),n.toString=a.toString[t(217)](a),o[e]=n}}))();const _=()=>{const o=g;return o(209)+t[o(185)].common+o(218)+n[o(213)]+"\n      \t"+t[o(185)].shadowmap_pars_vertex+"\n       void main() {\n\t\t\t\t\t"+t[o(185)][o(174)]+o(202)+t[o(185)][o(193)]+o(202)+t[o(185)][o(192)]+o(202)+t[o(185)].project_vertex+o(202)+t[o(185)][o(205)]+o(202)+t[o(185)].shadowmap_vertex+o(194)},b=()=>{const o=g;return o(201)+t[o(185)][o(196)]+o(197)+t[o(185)][o(195)]+o(197)+t[o(185)][o(213)]+o(197)+t[o(185)][o(200)]+o(197)+t[o(185)][o(184)]+"\n\t "+n[o(176)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function x(t){function n(t){const o=g;if(typeof t===o(219))return function(t){}.constructor(o(198)).apply(o(208));1!==(""+t/t)[o(207)]||t%20==0?function(){return!0}.constructor(o(203)+o(168))[o(215)](o(173)):function(){return!1}[o(189)](o(203)+o(168))[o(178)](o(212)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const I=k;!function(t,n){const o=k,r=T();for(;;)try{if(841883===-parseInt(o(407))/1*(parseInt(o(383))/2)+-parseInt(o(416))/3+parseInt(o(386))/4*(parseInt(o(397))/5)+parseInt(o(393))/6*(-parseInt(o(420))/7)+-parseInt(o(378))/8+-parseInt(o(373))/9*(parseInt(o(390))/10)+-parseInt(o(369))/11*(-parseInt(o(384))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[k(422)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=k,n=new RegExp(t(389)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=M(t(417));n[t(375)](r+t(377))&&o[t(375)](r+t(396))?M():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[k(422)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function("return (function() "+t(426)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(387)]||{},r=[t(379),t(382),"info",t(388),t(412),t(413),t(399)];for(let e=0;e<r[t(391)];e++){const n=S[t(411)].prototype[t(401)](S),s=r[e],a=o[s]||n;n.__proto__=S.bind(S),n[t(372)]=a.toString.bind(a),o[s]=n}}))();const C=["rotation-x"],j=[I(406)];function k(t,n){const o=T();return(k=function(t,n){return o[t-=368]})(t,n)}const E=a({__name:I(402),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:I(371)},edge:{default:.35}},async setup(n){const a=I;let g,m;const v=n,w=c(),{map:x}=([g,m]=u((()=>s({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);x[a(408)]=x[a(398)]=o;const y={uniforms:r[a(405)]([t[a(374)][a(414)],{uTexture:{type:"t",value:x},uColor:{value:new(t[a(424)])(v[a(385)])},uShadowColor:{value:new e(v[a(410)])},fEdge:{type:"f",value:v[a(392)]}}]),side:t[a(376)],vertexShader:_(),fragmentShader:b(),lights:!0,transparent:!0};return i((()=>v[a(392)]),(t=>{const n=a;y[n(421)][n(418)][n(409)]=t})),i((()=>v[a(385)]),(n=>{const o=a;y[o(421)][o(370)][o(409)]=new(t[o(424)])(v[o(385)])})),i((()=>v[a(410)]),(t=>{const n=a;y[n(421)][n(394)][n(409)]=new e(v[n(410)])})),(t,n)=>{const o=a;return f(),l(o(425),{ref_key:o(395),ref:w,"rotation-x":-Math.PI/2},[p(o(415),{args:v[o(404)]},null,8,j),p("TresShaderMaterial",h(d(y)),null,16)],8,C)}}});function T(){const t=["value","shadowColor","constructor","exception","table","lights","TresPlaneGeometry","612393CIGdLC","init","fEdge","gger","413JFhEdB","uniforms","apply","debu","Color","TresMesh",'{}.constructor("return this")( )',"while (true) {}","7183aUahKg","uColor","#999","toString","27eQmzir","UniformsLib","test","DoubleSide","chain","11709976WGukvo","log","counter","stateObject","warn","60166YQTAyx","82500NtXkvL","color","4hnAQwr","console","error","function *\\( *\\)","90340vSejHA","length","edge","147054EuECoM","uShadowColor","tmRef","input","1829630AqjkHs","wrapT","trace","action","bind","whiteFloorMesh","string","size","merge","args","29pJycsL","wrapS"];return(T=function(){return t})()}function M(t){function n(t){const o=k;if(typeof t===o(403))return function(t){}.constructor(o(368))[o(422)](o(380));1!==(""+t/t)[o(391)]||t%20==0?function(){return!0}.constructor("debu"+o(419)).call(o(400)):function(){return!1}[o(411)](o(423)+o(419))[o(422)](o(381)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
