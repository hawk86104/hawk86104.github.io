import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.NxYvETXi1743066865732.js";import{_ as i,a$ as s,C as a,a2 as c,cu as u}from"./three.qSkR4_5R1743066865732.js";import{P as l}from"./tweakpane.ivGeiIdz1743066865732.js";import{L as f}from"./three-subdivide.pm6MMzuC1743066865732.js";import{d as p,b as d,a2 as m,w as g,o as h,H as v,N as y,aj as b,ak as w,a3 as I,r as M,e as _,f as x,g as S,j,u as B,m as T,M as k}from"./@vue.L-brCdZe1743066865732.js";import"./postprocessing.ncQBP5me1743066865732.js";import"./@vueuse.2gpu5LGS1743066865732.js";const A=E;!function(n,t){const e=E,r=F();for(;;)try{if(989639===-parseInt(e(142))/1+-parseInt(e(160))/2*(parseInt(e(148))/3)+-parseInt(e(144))/4*(parseInt(e(187))/5)+parseInt(e(140))/6+parseInt(e(166))/7*(-parseInt(e(154))/8)+parseInt(e(176))/9+parseInt(e(141))/10*(parseInt(e(163))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(177)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){C(this,(function(){const n=E,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(159),"i"),r=N(n(181));t[n(134)](r+"chain")&&e[n(134)](r+"input")?N():r("0")}))()}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(177)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function F(){const n=["Color","return (function() ","modify","test","scale","subVectors","while (true) {}","Vector3","bind","3655770isdcCi","1097450APaSBT","1621151wCEXhk","warn","508604JPDBrr","#ffff00","value","table","9ukBvID","trace","blending","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","constructor","viewVector","24fNEyjU","log","uniforms","FrontSide","srcMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","336378rvmRka","side","gger","363GQQQds","subdivision","color","126448HiKVXp","glowColor","exception","info","action","debu","__proto__","prototype","length","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","4180329AukMAZ","apply","material","position","geometry","init","call","counter","attributes","TresMesh","error","60cqZDgK","console","TSGref","stateObject","clone","copy"];return(F=function(){return n})()}z(void 0,(function(){const n=E,t=function(){const n=E;let t;try{t=Function(n(194)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t[n(188)]||{},r=[n(155),n(143),n(169),n(186),n(168),n(147),n(149)];for(let o=0;o<r[n(174)];o++){const t=z[n(152)][n(173)][n(139)](z),i=r[o],s=e[i]||t;t[n(172)]=z.bind(z),t.toString=s.toString[n(139)](s),e[i]=t}}))();const R=[A(135)],V=p({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:A(145)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[A(157)]},blending:{default:s}},setup(e){const r=A,o=e,s=d(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(193)])(o.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(175),fragmentShader:r(151),side:o[r(161)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};m((()=>{const n=r;if(o[n(158)]&&s[n(146)]&&!s[n(146)][n(180)][n(184)].position){let t=o[n(158)].geometry[n(191)]();o.subdivision&&(t=f.modify(t,2)),s.value[n(180)]=t,s[n(146)][n(179)][n(192)](o[n(158)][n(179)])}o[n(165)]&&(c[n(156)][n(167)][n(146)]=new a(o[n(165)])),o.c&&(c.uniforms.c[n(146)]=o.c),o.p&&(c[n(156)].p.value=o.p)})),g((()=>o[r(164)]),(n=>{const t=r;let e=o[t(158)][t(180)][t(191)]();n&&(e=f[t(133)](e,2)),s[t(146)][t(180)]=e})),g((()=>o[r(161)]),(n=>{const t=r;s[t(146)][t(178)][t(161)]=n})),g((()=>o[r(150)]),(n=>{s.value.material.blending=n}));const{onLoop:u}=n(),{camera:l}=t();return u((()=>{const n=r;l.value&&s[n(146)]&&(c[n(156)][n(153)][n(146)]=(new(i[n(138)]))[n(136)](l[n(146)][n(179)],s[n(146)][n(179)]))})),(n,t)=>{const e=r;return h(),v(e(185),{ref_key:e(189),ref:s,scale:o[e(135)]},[y("TresShaderMaterial",b(w(c)),null,16)],8,R)}}});function E(n,t){const e=F();return E=function(n,t){return e[n-=133]},E(n,t)}function N(n){function t(n){const e=E;if("string"==typeof n)return function(n){}[e(152)](e(137)).apply(e(183));1!==(""+n/n)[e(174)]||n%20==0?function(){return!0}[e(152)](e(171)+e(162))[e(182)](e(170)):function(){return!1}[e(152)](e(171)+e(162))[e(177)](e(190)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Z=q;!function(n,t){const e=q,r=D();for(;;)try{if(776178===-parseInt(e(292))/1+-parseInt(e(309))/2+parseInt(e(308))/3*(-parseInt(e(262))/4)+parseInt(e(272))/5*(-parseInt(e(279))/6)+-parseInt(e(294))/7*(parseInt(e(274))/8)+parseInt(e(321))/9*(-parseInt(e(273))/10)+-parseInt(e(293))/11*(-parseInt(e(286))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[q(303)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){P(this,(function(){const n=q,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=H(n(302));t[n(261)](r+n(317))&&e[n(261)](r+n(280))?H():r("0")}))()}();const Q=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[q(303)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Q(void 0,(function(){const n=q;let t;try{t=Function(n(295)+n(275)+");")()}catch(o){t=window}const e=t.console=t[n(283)]||{},r=["log","warn",n(282),n(305),n(288),n(310),n(301)];for(let i=0;i<r[n(287)];i++){const t=Q.constructor[n(312)][n(311)](Q),o=r[i],s=e[o]||t;t[n(319)]=Q[n(311)](Q),t[n(278)]=s.toString[n(311)](s),e[o]=t}}))();const G=[Z(267)],K=["map"];function D(){const n=["side","instance","srcMesh","DoubleSide","map","gger","TresMeshRefB","FrontSide","constructor","271885KrQaIU","8223630ezACFt","24YUoXQI",'{}.constructor("return this")( )',"color","#00dfff","toString","6jRFFdN","input","action","info","console","shader","BackSide","132FhPoMi","length","exception","value","stateObject","TresPerspectiveCamera","303873lxVgaS","3472579IKQEqK","2392103QjWsXz","return (function() ","blending","addBinding","TresGridHelper","TresAmbientLight","AdditiveBlending","trace","init","apply","#222","error","subdivision","TresMeshBasicMaterial","31413wqlcsm","750840mZPWdG","table","bind","prototype","TresBoxGeometry","debu","call","while (true) {}","chain","TresSphereGeometry","__proto__","TresMesh","9HpKgZu","边缘处理","test","44xBqaUs"];return(D=function(){return n})()}const $=p({__name:Z(284),async setup(n){const t=Z;let s,a;const f={clearColor:t(304)},p=d(),m=d(),g=d(),v=([s,a]=I((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),s=await s,a(),s),b=M({scale:1.6,color:t(277),subdivision:!0,c:1.1,p:1.4,side:i[t(270)],blending:i[t(300)]}),w=new l({title:"参数",expanded:!0});return w.addBinding(b,t(276),{label:"颜色"}),w.addBinding(b,"scale",{label:"大小",min:1,max:3,step:.2}),w[t(297)](b,t(306),{label:t(322)}),w[t(297)](b,"c",{label:"c",min:0,max:2,step:.1}),w[t(297)](b,"p",{label:"p",min:0,max:8,step:.2}),w[t(297)](b,t(263),{options:{FrontSide:c,BackSide:i[t(285)],DoubleSide:i[t(266)]}}),w[t(297)](b,t(296),{options:{AdditiveBlending:i[t(300)],NormalBlending:u}}),(n,o)=>{const i=t,s=_("TresCanvas");return h(),x(s,T(f,{"window-size":""}),{default:S((()=>[o[2]||(o[2]=y(i(291),{position:[5,5,5]},null,-1)),o[3]||(o[3]=y(i(299),{intensity:1},null,-1)),j(B(e)),o[4]||(o[4]=y(i(298),{args:[10,10]},null,-1)),y(i(320),{ref_key:"TresMeshRefA",ref:p,position:[-2,1,0]},[o[0]||(o[0]=y(i(318),{args:[1,32,16]},null,-1)),y("TresMeshBasicMaterial",{map:B(v)[0]},null,8,G)],512),j(V,T({srcMesh:p[i(289)]},b),null,16,[i(265)]),j(B(r),{ref_key:"TreBoxRef",ref:g,args:[1,1,1],position:[2,1,0]},{default:S((()=>[y(i(307),{map:B(v)[1]},null,8,K)])),_:1},512),g[i(289)]&&g.value[i(264)]?(h(),x(V,T({key:0,srcMesh:g.value[i(264)]},b),null,16,[i(265)])):k("",!0),y("TresMesh",{ref_key:i(269),ref:m,position:[0,1,-2]},o[1]||(o[1]=[y(i(313),{args:[1,1,1,1,1]},null,-1),y("TresMeshBasicMaterial",{color:"#0ff"},null,-1)]),512),j(V,T({srcMesh:m[i(289)]},b),null,16,[i(265)])])),_:1},16)}}});function q(n,t){const e=D();return q=function(n,t){return e[n-=261]},q(n,t)}function H(n){function t(n){const e=q;if("string"==typeof n)return function(n){}[e(271)](e(316))[e(303)]("counter");1!==(""+n/n)[e(287)]||n%20==0?function(){return!0}[e(271)]("debu"+e(268))[e(315)](e(281)):function(){return!1}.constructor(e(314)+e(268))[e(303)](e(290)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
