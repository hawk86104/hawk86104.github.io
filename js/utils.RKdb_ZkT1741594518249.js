import{c as t,B as n,r as e,c7 as o,C as r,V as s,a0 as c}from"./three.8y0_KTxz1741594518249.js";import{w as i}from"./@fesjs._tIE6C7-1741594518249.js";import{a}from"./@tresjs.gjafZgVK1741594518249.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.BGX00vVS1741594518249.js";!function(t,n){const e=y,o=h();for(;;)try{if(199295===-parseInt(e(482))/1+-parseInt(e(508))/2*(parseInt(e(471))/3)+parseInt(e(499))/4*(-parseInt(e(520))/5)+parseInt(e(492))/6+parseInt(e(525))/7+parseInt(e(529))/8*(-parseInt(e(481))/9)+parseInt(e(538))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(480)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(528),"i"),o=_(t(518));n[t(478)](o+t(539))&&e[t(478)](o+t(493))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(){const t=["reflectivity","toString","4338330boHkIm","chain","constructor","negate","while (true) {}","push",'{}.constructor("return this")( )',"material","computeBoundsTree","Box3","getSize","min","15fJKKJO","count","depthWrite","counter","exception","transparent","stateObject","test","position","apply","1116153StNvbC","144683sDcaiF","copy","applyMatrix4","getCenter","console","divideScalar","get","string","setFromObject","set","1619148cDkwYC","input","config","action","attributes","features","length","4AsRKFJ","then","trace","warn","depthTest","call","side","setY","return (function() ","42034hyeWuc","getX","debu","deleteAttribute","value","__proto__","Vector3","error","gger","info","init","children","1488335ukZOcO","bind","table","uniforms","sub","2037511mdnfDf","setAttribute","expandByObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","16nPVTpF","disposeBoundsTree","getY","prototype","catch","boundingBox","clone"];return(h=function(){return t})()}g(void 0,(function(){const t=y;let n;try{n=Function(t(507)+t(465)+");")()}catch(r){n=window}const e=n[t(486)]=n[t(486)]||{},o=["log",t(502),t(517),t(515),t(475),t(522),t(501)];for(let s=0;s<o[t(498)];s++){const n=g[t(540)].prototype[t(521)](g),r=o[s],c=e[r]||n;n[t(513)]=g[t(521)](g),n[t(537)]=c.toString[t(521)](c),e[r]=n}}))();const m=(n,e=!1)=>{const o=y;n.computeBoundingBox();const{max:r,min:s}=n.boundingBox;n[o(511)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(496)].position[o(472)];t++)e?(a[o(543)]((n.attributes.position[o(509)](t)-(s.x+r.x)/2)/c),a[o(543)]((n[o(496)][o(479)][o(531)](t)-(s.y+r.y)/2)/i)):(a.push((n[o(496)][o(479)][o(509)](t)-s.x)/c),a.push((n[o(496)][o(479)][o(531)](t)-s.y)/i));const u=new Float32Array(a);n[o(526)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=y;i(t,{},{method:r(488),mergeRequest:!0,responseType:"json"})[r(500)]((t=>{const o=r;n&&e(t[n]),e(t[o(497)])}))[r(533)]((t=>{console[r(515)](t),o(t)}))}));function y(t,n){const e=h();return(y=function(t,n){return e[t-=465]})(t,n)}const w=t=>{const n=y,e=(new(THREE[n(468)]))[n(490)](t),o=new(THREE[n(514)]);e.getCenter(o),t[n(519)].forEach((t=>{const e=n;t[e(479)][e(524)](o)})),t[n(479)][n(483)](o[n(541)]())},x=()=>{const t=y;n[t(532)].computeBoundsTree=u,n[t(532)][t(530)]=p,e[t(532)].raycast=f},b=async t=>{const n=y,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(535)]();m(i),i[n(467)]();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(466)][n(476)]=!0,u.material[n(473)]=!0,u[n(466)][n(503)]=!0,u[n(466)][n(505)]=c,u[n(466)][n(523)][n(494)][n(512)].w=20,u[n(466)][n(523)][n(536)][n(512)]=.46,u};function j(t){const n=y,e=[];for(let r=0;r<t.length;r++)e[n(543)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(498)];r++)o.add(e[r]);o[n(487)](e[n(498)]);for(let r=0;r<e.length;r++)e[r][n(524)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=y;if(typeof t===e(489))return function(t){}[e(540)](e(542)).apply(e(474));1!==(""+t/t)[e(498)]||t%20==0?function(){return!0}[e(540)](e(510)+e(516))[e(504)](e(495)):function(){return!1}[e(540)](e(510)+"gger")[e(480)](e(477)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,d as l,m as r,b as s};
