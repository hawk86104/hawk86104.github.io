import{b$ as t,a3 as e,s as n,t as r}from"./three.-yu4716U1728613889935.js";import{z as o}from"./@tresjs.BSMy0VpY1728613889935.js";import{R as s,b as i}from"./all.three.McWlzrjQ1728613889935.js";import{d as c,a4 as a,a3 as u,w as f,o as l,E as p,L as d,u as h}from"./@vue.JNsx1iN61728613889935.js";const m=v;!function(t,e){const n=v,r=g();for(;;)try{if(835149===parseInt(n(432))/1*(-parseInt(n(394))/2)+parseInt(n(377))/3*(-parseInt(n(426))/4)+parseInt(n(421))/5+parseInt(n(398))/6*(parseInt(n(412))/7)+parseInt(n(434))/8*(parseInt(n(378))/9)+-parseInt(n(376))/10*(-parseInt(n(379))/11)+parseInt(n(430))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(401)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=v,e=new RegExp(t(382)),n=new RegExp(t(420),"i"),r=R(t(422));e[t(391)](r+"chain")&&n[t(391)](r+t(437))?R():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function g(){const t=["texture","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6337460LmEbhf","init","renderTarget","object","renderTargetUniform","24QFxaCU","reflectorDUDV","update","length","10829268xaocuP","TresGroup","1zYoGvK","constructor","124280JuBrZK","add","table","input","while (true) {}","onBeforeRender","log","isMesh","126870jiVMie","680046WjFsYA","333DTlFLY","528qYgYTS","bind","scale","function *\\( *\\)",'{}.constructor("return this")( )',"wrapS","uMatrix","repeat","info","uniforms","visible","value","test","__proto__","reflectivity","2504126GDYdyA","warn","tReflect","showGridHelper","12WknXRv","textureMatrixUniform","rotation","apply","console","tReflectBlur","debu","stateObject","toString","ignoreObjects","forEach","prototype","call","mapUrl","327607tkVRgC","exception","wrapT","primitive","gger","action","size"];return(g=function(){return t})()}function v(t,e){const n=g();return(v=function(t,e){return n[t-=374]})(t,e)}b(void 0,(function(){const t=v;let e;try{e=Function("return (function() "+t(383)+");")()}catch(o){e=window}const n=e.console=e[t(402)]||{},r=[t(374),t(395),t(387),"error",t(413),t(436),"trace"];for(let s=0;s<r.length;s++){const e=b[t(433)][t(409)][t(380)](b),o=r[s],i=n[o]||e;e[t(392)]=b[t(380)](b),e[t(406)]=i[t(406)].bind(i),n[o]=e}}))();const y=[m(381)],j=[m(424)],I=[m(424)],x=c({__name:m(427),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const b=m;let g,v;const x=c,R=new s,_=new t(x[b(418)][0]-.5,x[b(418)][1]);_.visible=x[b(397)];const{map:z}=([g,v]=a((()=>o({map:x[b(411)]}))),g=await g,v(),g);z[b(384)]=e,z[b(414)]=e,z[b(386)].set(6,3);const G=new i({map:z,reflectivity:x.reflectivity});G[b(388)][b(396)]={value:R[b(423)][b(419)]},G[b(388)][b(403)]=R[b(425)],G[b(388)][b(385)]=R[b(399)];const M=new n(new r(x[b(418)][0],x.size[1]),G);return M[b(400)].x=-Math.PI/2,M[b(435)](R),M[b(439)]=(t,e,n)=>{const r=b;M[r(389)]=!1,x[r(407)][r(408)]((t=>{const e=r;t.isMesh&&(t[e(389)]=!1),t[e(390)]&&t[e(390)][e(375)]&&(t[e(390)][e(389)]=!1)})),R[r(428)](t,e,n),x[r(407)][r(408)]((t=>{const e=r;t[e(375)]&&(t.visible=!0),t[e(390)]&&t[e(390)][e(375)]&&(t[e(390)][e(389)]=!0)})),M[r(389)]=!0},u((()=>{const t=b;x.reflectivity&&(G.uniforms.uReflectivity[t(390)]=x[t(393)])})),f((()=>x.showGridHelper),(t=>{_[b(389)]=t})),w({reflector:R}),(t,e)=>{const n=b;return l(),p(n(431),{scale:x[n(381)]},[d("primitive",{object:h(M),"position-y":-.01},null,8,j),d(n(415),{object:h(_)},null,8,I)],8,y)}}});function R(t){function e(t){const n=v;if("string"==typeof t)return function(t){}[n(433)](n(438)).apply("counter");1!==(""+t/t)[n(429)]||t%20==0?function(){return!0}[n(433)]("debu"+n(416))[n(410)](n(417)):function(){return!1}[n(433)](n(404)+n(416))[n(401)](n(405)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
