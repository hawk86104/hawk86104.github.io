import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.fCqPNEAw1735275234726.js";import{_ as i,az as s,ck as a}from"./three.jpi2UCEx1735275234726.js";import{P as c}from"./tweakpane.yHWGBmom1735275234726.js";import{L as u}from"./three-subdivide.6aGNbSaV1735275234726.js";import{d as l,b as f,a3 as p,w as d,o as g,D as h,J as m,aj as v,ak as y,a6 as w,r as b,e as M,f as I,g as _,j as x,u as S,m as B,I as T}from"./@vue.u2cBPEWn1735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";const j=z;!function(n,t){const e=z,r=A();for(;;)try{if(609366===-parseInt(e(243))/1*(parseInt(e(226))/2)+-parseInt(e(231))/3*(parseInt(e(241))/4)+parseInt(e(244))/5+-parseInt(e(239))/6*(-parseInt(e(240))/7)+-parseInt(e(249))/8+parseInt(e(257))/9+-parseInt(e(253))/10*(-parseInt(e(252))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(){const n=["TresMesh","bind","action","input","__proto__","Vector3",'{}.constructor("return this")( )',"length","string","init","subVectors","call","AdditiveBlending","table","scale","subdivision","log","console","geometry","1080298wgKxDh","color","constructor","gger","blending","3729fBZAbi","trace","function *\\( *\\)","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","prototype","toString","while (true) {}","stateObject","2898102FEuuWb","7VwWcGu","3892dsfznr","clone","1NIncAR","4344895SOkjDU","modify","position","#ffff00","warn","2312944oMtcsB","side","Color","117557lhRVEt","760FweyEh","TresShaderMaterial","shineShader","material","4354776GfStLv","FrontSide","return (function() ","info","value","glowColor","srcMesh","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","debu","chain","test"];return(A=function(){return n})()}function z(n,t){const e=A();return(z=function(n,t){return e[n-=202]})(n,t)}!function(){k(this,(function(){const n=z,t=new RegExp(n(233)),e=new RegExp(n(202),"i"),r=F(n(216));t[n(206)](r+n(205))&&e[n(206)](r+n(210))?F():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[z(203)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();V(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(259)+n(213)+");")()}catch(e){t=window}return t}(),e=t[n(224)]=t[n(224)]||{},r=[n(223),n(248),n(260),"error","exception",n(220),n(232)];for(let o=0;o<r[n(214)];o++){const t=V[n(228)][n(235)][n(208)](V),i=r[o],s=e[i]||t;t[n(211)]=V[n(208)](V),t.toString=s[n(236)][n(208)](s),e[i]=t}}))();const C=["scale"],D=l({__name:j(255),props:{srcMesh:{},scale:{default:1.2},color:{default:j(247)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(258)]},blending:{default:i[j(219)]}},setup(e){const r=j,o=e,s=f(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(251)])(o[r(227)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(234),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o[r(250)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(230)]};p((()=>{const n=r;if(o[n(263)]&&s.value&&!s.value[n(225)].attributes[n(246)]){let t=o.srcMesh[n(225)][n(242)]();o[n(222)]&&(t=u[n(245)](t,2)),s[n(261)][n(225)]=t,s.value[n(246)].copy(o[n(263)][n(246)])}o.color&&(a.uniforms[n(262)].value=new(i[n(251)])(o[n(227)])),o.c&&(a.uniforms.c.value=o.c),o.p&&(a[n(264)].p.value=o.p)})),d((()=>o[r(222)]),(n=>{const t=r;let e=o.srcMesh[t(225)][t(242)]();n&&(e=u[t(245)](e,2)),s.value.geometry=e})),d((()=>o[r(250)]),(n=>{const t=r;s.value[t(256)][t(250)]=n})),d((()=>o[r(230)]),(n=>{const t=r;s[t(261)][t(256)][t(230)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=r;l.value&&s[n(261)]&&(a[n(264)].viewVector[n(261)]=(new(i[n(212)]))[n(217)](l.value.position,s.value[n(246)]))})),(n,t)=>{const e=r;return g(),h(e(207),{ref_key:"TSGref",ref:s,scale:o[e(221)]},[m(e(254),v(y(a)),null,16)],8,C)}}});function F(n){function t(n){const e=z;if(typeof n===e(215))return function(n){}[e(228)](e(237))[e(203)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(204)+e(229))[e(218)](e(209)):function(){return!1}[e(228)](e(204)+e(229))[e(203)](e(238)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=G;!function(n,t){const e=G,r=L();for(;;)try{if(764143===-parseInt(e(510))/1+parseInt(e(534))/2*(-parseInt(e(500))/3)+parseInt(e(548))/4+-parseInt(e(518))/5+parseInt(e(545))/6*(parseInt(e(508))/7)+-parseInt(e(547))/8*(parseInt(e(528))/9)+parseInt(e(538))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[G(530)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){E(this,(function(){const n=G,t=new RegExp(n(488)),e=new RegExp(n(522),"i"),r=U(n(549));t[n(517)](r+n(540))&&e[n(517)](r+n(493))?U():r("0")}))()}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[G(530)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function G(n,t){const e=L();return(G=function(n,t){return e[n-=488]})(n,t)}N(void 0,(function(){const n=G;let t;try{t=Function(n(524)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(514)]=t[n(514)]||{},r=[n(527),n(543),n(532),n(507),n(520),n(513),n(525)];for(let i=0;i<r[n(515)];i++){const t=N[n(541)][n(552)][n(526)](N),o=r[i],s=e[o]||t;t.__proto__=N[n(526)](N),t.toString=s[n(491)][n(526)](s),e[o]=t}}))();const P=[R(512)],Z=["map"];function L(){const n=["action","toString","边缘处理","input","debu","subdivision","gger","#222","TresCanvas","TresMesh","786606AAAAZz","TresAmbientLight","string","color","TresGridHelper","counter","DoubleSide","error","84dPjCJg","srcMesh","498743PDLIVU","side","map","table","console","length","call","test","6239190gUqeeP","stateObject","exception","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","shader","return (function() ","trace","bind","log","495477uyqiNF","blending","apply","TreBoxRef","info","instance","2HvOkMD","addBinding","BackSide","TresMeshBasicMaterial","22167200Qendbr","value","chain","constructor","TresBoxGeometry","warn","#0ff","112704dMgiQi","TresSphereGeometry","8KDfMiD","1543404dVtItw","init","TresMeshRefB","#00dfff","prototype","function *\\( *\\)","FrontSide"];return(L=function(){return n})()}const O=l({__name:R(523),async setup(n){const t=R;let u,l;const p={clearColor:t(497)},d=f(),h=f(),v=f(),y=([u,l]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),u=await u,l(),u),j=b({scale:1.6,color:t(551),subdivision:!0,c:1.1,p:1.4,side:i[t(489)],blending:s}),k=new c({title:"参数",expanded:!0});return k[t(535)](j,t(503),{label:"颜色"}),k[t(535)](j,"scale",{label:"大小",min:1,max:3,step:.2}),k[t(535)](j,t(495),{label:t(492)}),k.addBinding(j,"c",{label:"c",min:0,max:2,step:.1}),k[t(535)](j,"p",{label:"p",min:0,max:8,step:.2}),k.addBinding(j,t(511),{options:{FrontSide:i[t(489)],BackSide:i[t(536)],DoubleSide:i[t(506)]}}),k.addBinding(j,t(529),{options:{AdditiveBlending:s,NormalBlending:a}}),(n,o)=>{const i=t,s=M(i(498));return g(),I(s,B(p,{"window-size":""}),{default:_((()=>[o[2]||(o[2]=m(i(521),{position:[5,5,5]},null,-1)),o[3]||(o[3]=m(i(501),{intensity:1},null,-1)),x(S(e)),o[4]||(o[4]=m(i(504),{args:[10,10]},null,-1)),m(i(499),{ref_key:"TresMeshRefA",ref:d,position:[-2,1,0]},[o[0]||(o[0]=m(i(546),{args:[1,32,16]},null,-1)),m(i(537),{map:S(y)[0]},null,8,P)],512),x(D,B({srcMesh:d[i(539)]},j),null,16,[i(509)]),x(S(r),{ref_key:i(531),ref:v,args:[1,1,1],position:[2,1,0]},{default:_((()=>[m("TresMeshBasicMaterial",{map:S(y)[1]},null,8,Z)])),_:1},512),v[i(539)]&&v[i(539)][i(533)]?(g(),I(D,B({key:0,srcMesh:v.value[i(533)]},j),null,16,["srcMesh"])):T("",!0),m("TresMesh",{ref_key:i(550),ref:h,position:[0,1,-2]},o[1]||(o[1]=[m(i(542),{args:[1,1,1,1,1]},null,-1),m(i(537),{color:i(544)},null,-1)]),512),x(D,B({srcMesh:h[i(539)]},j),null,16,[i(509)])])),_:1},16)}}});function U(n){function t(n){const e=G;if(typeof n===e(502))return function(n){}[e(541)]("while (true) {}")[e(530)](e(505));1!==(""+n/n)[e(515)]||n%20==0?function(){return!0}[e(541)](e(494)+e(496))[e(516)](e(490)):function(){return!1}[e(541)](e(494)+e(496))[e(530)](e(519)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{O as default};
