import{_ as t,bQ as n}from"./three.1FILWcBb1734746792122.js";import{b as r}from"./@tresjs.vA_UT8oy1734746792122.js";import{d as o,b as e,a6 as a,w as s,o as i,D as u,J as c,aj as f,ak as l}from"./@vue.-THQH3GC1734746792122.js";function p(){const t=["30drwAsg","return (function() ","\n       varying vec2 vUv;\n\t\t\t \t","apply","\n          ","length","while (true) {}","log","error","lights_pars_begin","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","exception","ShaderChunk","trace","__proto__","268749hRkJqt","packing","test","begin_vertex","warn","328748Himthk","toString","table","console","shadowmap_pars_vertex","767955CQZrPL","218460Uvpecq","96vULAlY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","common","563CIgEMM","\n\t ","8146920nNluuk","action","counter","constructor","init","1225965erQtWT","chain","bind","\n       void main() {\n\t\t\t\t\t","debu","project_vertex","bsdfs","prototype","740yTmEcn","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","gger","shadowmap_vertex","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","call","worldpos_vertex","input"];return(p=function(){return t})()}!function(t,n){const r=m,o=p();for(;;)try{if(213679===-parseInt(r(427))/1*(parseInt(r(442))/2)+parseInt(r(434))/3+-parseInt(r(422))/4+-parseInt(r(421))/5+parseInt(r(450))/6*(-parseInt(r(416))/7)+-parseInt(r(423))/8*(parseInt(r(411))/9)+parseInt(r(429))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const h=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[m(453)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){h(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(424),"i"),o=w(t(433));n[t(413)](o+t(435))&&r.test(o+t(449))?w():o("0")}))()}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[m(453)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();d(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(451)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(419)]=n[t(419)]||{},o=[t(403),t(415),"info",t(404),t(407),t(418),t(409)];for(let e=0;e<o[t(455)];e++){const n=d[t(432)][t(441)][t(436)](d),a=o[e],s=r[a]||n;n[t(410)]=d[t(436)](d),n[t(417)]=s.toString.bind(s),r[a]=n}}))();const g=()=>{const r=m;return r(452)+t[r(408)][r(426)]+"\n      \t"+t[r(408)][r(440)]+"\n      \t"+n[r(420)]+r(437)+t[r(408)].beginnormal_vertex+r(454)+t[r(408)].defaultnormal_vertex+"\n          "+n[r(414)]+"\n          "+t[r(408)][r(439)]+r(454)+t[r(408)][r(448)]+r(454)+t[r(408)][r(445)]+r(446)};function m(t,n){const r=p();return(m=function(t,n){return r[t-=403]})(t,n)}const v=()=>{const n=m;return n(443)+t[n(408)].common+n(428)+t[n(408)][n(412)]+n(428)+t[n(408)][n(440)]+n(428)+t[n(408)][n(405)]+"\n\t "+t[n(408)].shadowmap_pars_fragment+n(428)+t[n(408)].shadowmask_pars_fragment+n(406)};function w(t){function n(t){const r=m;if("string"==typeof t)return function(t){}[r(432)](r(456))[r(453)](r(431));1!==(""+t/t)[r(455)]||t%20==0?function(){return!0}[r(432)](r(438)+r(444))[r(447)](r(430)):function(){return!1}.constructor(r(438)+r(444)).apply(r(425)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const _=b;function x(){const t=["6IrmnFs","24232VsGvoV","tmRef","rotation-x","TresPlaneGeometry","gger","fEdge","8520940RakJxh","while (true) {}","log","1618290BvuLFZ","length","10GjPMdr","6268297HsfkCI","args","wrapS","warn","1953sFaPoB","test","Color","uShadowColor","table","size","DoubleSide","error","29012357JJwOxK","toString","console","358XjFyYi","counter","string","exception","edge","debu","UniformsLib","shadowColor","111JIZnyW","TresShaderMaterial","value","bind","apply","#990","UniformsUtils","1748372kYuWPu","init","#999","uniforms","RepeatWrapping","12NSxIBr","wrapT","call","color","trace","prototype","action","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor"];return(x=function(){return t})()}!function(t,n){const r=b,o=x();for(;;)try{if(587254===-parseInt(r(476))/1*(-parseInt(r(468))/2)+-parseInt(r(450))/3+-parseInt(r(483))/4*(-parseInt(r(452))/5)+parseInt(r(440))/6*(-parseInt(r(453))/7)+-parseInt(r(441))/8*(parseInt(r(457))/9)+-parseInt(r(447))/10+parseInt(r(465))/11*(parseInt(r(430))/12))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){I(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(438),"i"),o=j(t(484));n[t(458)](o+"chain")&&r[t(458)](o+t(437))?j():o("0")}))()}();const y=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[b(480)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function b(t,n){const r=x();return(b=function(t,n){return r[t-=430]})(t,n)}y(void 0,(function(){const t=b,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n[t(467)]=n[t(467)]||{},o=[t(449),t(456),"info",t(464),t(471),t(461),t(434)];for(let e=0;e<o[t(451)];e++){const n=y[t(439)][t(435)][t(479)](y),a=o[e],s=r[a]||n;n.__proto__=y[t(479)](y),n.toString=s[t(466)].bind(s),r[a]=n}}))();const S=[_(443)],C=[_(454)],k=o({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:_(481)},shadowColor:{default:_(485)},edge:{default:.35}},async setup(n){const o=_;let p,h;const d=n,m=e(),{map:w}=([p,h]=a((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,h(),p);w[o(455)]=w[o(431)]=t[o(487)];const x={uniforms:t[o(482)].merge([t[o(474)].lights,{uTexture:{type:"t",value:w},uColor:{value:new(t[o(459)])(d[o(433)])},uShadowColor:{value:new(t[o(459)])(d.shadowColor)},fEdge:{type:"f",value:d[o(472)]}}]),side:t[o(463)],vertexShader:g(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>d[o(472)]),(t=>{const n=o;x[n(486)][n(446)][n(478)]=t})),s((()=>d[o(433)]),(n=>{const r=o;x.uniforms.uColor[r(478)]=new(t[r(459)])(d[r(433)])})),s((()=>d[o(475)]),(n=>{const r=o;x[r(486)][r(460)][r(478)]=new(t[r(459)])(d.shadowColor)})),(t,n)=>{const r=o;return i(),u("TresMesh",{ref_key:r(442),ref:m,"rotation-x":-Math.PI/2},[c(r(444),{args:d[r(462)]},null,8,C),c(r(477),f(l(x)),null,16)],8,S)}}});function j(t){function n(t){const r=b;if(typeof t===r(470))return function(t){}[r(439)](r(448))[r(480)](r(469));1!==(""+t/t).length||t%20==0?function(){return!0}[r(439)](r(473)+r(445))[r(432)](r(436)):function(){return!1}[r(439)](r(473)+r(445)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{k as _};
