import{_ as t,cm as e,d as i,a as s,bT as n,V as o,at as r,C as a,h as c,k as h}from"./three.ZWd_rX7H1726563592429.js";const u=d;!function(t,e){const i=d,s=p();for(;;)try{if(334323===-parseInt(i(637))/1+-parseInt(i(461))/2*(parseInt(i(641))/3)+parseInt(i(470))/4+parseInt(i(533))/5*(parseInt(i(464))/6)+-parseInt(i(782))/7+-parseInt(i(371))/8*(parseInt(i(636))/9)+parseInt(i(438))/10)break;s.push(s.shift())}catch(n){s.push(s.shift())}}();const l=function(){let t=!0;return function(e,i){const s=t?function(){if(i){const t=i[d(504)](e,arguments);return i=null,t}}:function(){};return t=!1,s}}();!function(){l(this,(function(){const t=d,e=new RegExp(t(517)),i=new RegExp(t(583),"i"),s=y(t(741));e.test(s+t(576))&&i.test(s+t(523))?y():s("0")}))()}();const f=function(){let t=!0;return function(e,i){const s=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,s}}();function p(){const t=["vec3 unpackColor( in float hex ) {","_updateAttributeUpdateRange","forceFetchingFunctions","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","339666Xcfpnw","shaderChunks","distribution","844458JjptdA","float getWiggle() {","Vector4","spe","attribute vec4 params;","interpolateArray","2464360NSmdbj","SHOULD_ROTATE_TEXTURE","attribute vec4 angle;","   }","static","textureFrames","rotationCenter","TypedArrayHelper","           unpackColor( color.w )","number","grow","updateMin","vec3 getAcceleration( in float age ) {","resetDynamic","    vec4 rotatedTexture = texture2D( tex, vUv );","      translated = rotationCenter - pos;","randomColorAsHex","ShaderAttribute","Emitter already belongs to another group. Will not add to requested group.","    highp float positionInTime = (age / maxAge);","float or(float a, float b) {","logdepthbuf_vertex","ShaderMaterial","        float wiggleSin = isAlive * sin( wiggleAmount );","    varying float vAngle;","_assignParamsValue","size","setMat3","emitters","       float oc = 1.0 - c;","splice","scale","deltaTime","attribute vec4 color;","apply","blending","alphaTest","updateMax","randomVector3","_decrementParticleCount","float getMaxAge() {","flagUpdate","#ifdef SHOULD_ROTATE_PARTICLES","getPool","AdditiveBlending","count","       if ( vColor.w < float(ALPHATEST) ) discard;","function *\\( *\\)","_updateDefines","fog_pars_fragment","Emitter does not exist in this group. Will not remove.","        pos = getRotation( pos, positionInTime );","    #endif","input","bufferUpdateRanges","age","shrink","setFromArray","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","Color","attributeEnd","getPackedRotationAxis","indexOffset","20uxARFU","    return value;","attribute vec4 rotation;","    vec3 pos = vec3( position );","_assignValue","      vec3 translated;","normalize","    #else","ensureArrayTypedArg","  return 1.0 - when_lt(x, y);","unshift","activationIndex","    vec3 outgoingLight = vColor.xyz;","_radiusScale","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","add","remove","#endif","    }","fog_vertex","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","isStatic","   return params.z;","float when_gt(float x, float y) {","particlesPerSecond","    #ifdef COLORIZE","        pos.z += wiggleSin;","call","setDrawRange","        vSpriteSheet.w = rowNorm;","Group","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","defineProperty","        float wiggleAmount = positionInTime * getWiggle();","lerpTypeAgnostic","ensureValueOverLifetimeCompliance","TypedArray is already of size:","    float shouldApplyValue = 0.0;","_assignForceValue","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","defines","        float framesY = vSpriteSheet.y;","removeEmitter","chain","min","depthWrite","           unpackColor( color.z ),","prototype","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","uniform float runTime;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","Vector3","       float c = cos( -vAngle );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","LINE","uuid","_attributesNeedDynamicReset","        float column = floor(mod( frameNumber, framesX ));","uniform float scale;","dynamicBuffer","      if( rotation.y == 0.0 ) {","random","rotateTexture","_triggerSingleEmitter","           return pos;","addPool","_onRemove","ensureInstanceOf","   return modelViewMatrix * vec4( position, 1.0 );","setVec3Components","float and(float a, float b) {","warn","color","    #ifdef SHOULD_ROTATE_TEXTURE","ensureTypedArg","Vector2","abs","_assignAbsLifetimeValue","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","particleCount","_distribution","generateUUID","       float x = gl_PointCoord.x - 0.5;","acceleration","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","randomVector3OnLine","randomVector3OnSphere","    ","maxParticleCount","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","spreadClamp","    #ifdef HAS_PERSPECTIVE","        float rowNorm = vSpriteSheet.w;","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","distributionClamp","function","drag","unpackColor","    highp float isAlive = when_gt( alive, 0.0 );","typedArray","fixedTimeStep","Texture","18MneqYq","368568QxMNnq","attribute vec3 velocity;","offset","setVec2","9rVkfSi","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","maxAge","void main() {","       float s = sin(angle);","BOX","attribute vec3 rotationCenter;","MathUtils","bufferUpdateCount","updateMap","_value","group","#define PACKED_COLOR_SIZE 256.0","_createNewWhenPoolEmpty","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   c.b = b / PACKED_COLOR_DIVISOR;","        float perspective = 1.0;","SHOULD_ROTATE_PARTICLES","setRGB","        float totalFrames = textureAnimation.z;","isArray","trace","BOOLEAN","    highp float alive = getAlive();","types","attribute vec4 opacity;","shaders","_incrementParticleCount","DynamicDrawUsage","SPE.Group: maxParticleCount exceeded. Requesting","varying vec4 vColor;","usage","float when_eq( float x, float y ) {","center","    #ifdef SHOULD_CALCULATE_SPRITE","setMat4","_radius","Emitter does not belong to a group, cannot remove.","    highp float value = 0.0;","exports","frameCount","       vec3 c = isAlive * getColorOverLifetime(","attributeOffset","loop","StaticDrawUsage","uniform vec4 textureAnimation;","        float perspective = scale / length( mvPosition.xyz );","_calculatePPSValue","uniform float deltaTime;","clamp","undefined","copy","activeMultiplier","disable","distributions","logdepthbuf_pars_vertex","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    vec3 value = vec3( 0.0 );","Emitter","BufferGeometry","Points","   return c;","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","triggerPoolEmitter","getValueAtIndex","    vec3 accel = getAcceleration( age );","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","_angle","updateCounts","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","updateFlags","transparent","setVec4Components","    #ifdef ALPHATEST","   return params.y;","paramFetchingFunctions","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","_ensureTypedArray","max","valueOverLifetimeLength","_createGetterSetters","paramsArray","duration","NEGATIVE_INFINITY","#ifdef SHOULD_CALCULATE_SPRITE","SHOULD_WIGGLE_PARTICLES","_assignPositionValue","attributeKeys","rotation","value","   c.r = r / PACKED_COLOR_DIVISOR;","runTime","randomFloat","      float angle = 0.0;","_axisSpread","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","direction","reset","   return params.x;","dispose","init","params","      rotationMatrix = getRotationMatrix( axis, angle );","resetUpdateRange","resetFlags","setUpdateRange","   return velocity * age;","randomDirectionVector3OnDisc","TypedArrayConstructor","texture","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","activationEnd","textureLoop","    float fIndex = 0.0;","clone","float when_ge(float x, float y) {","   c.g = g / PACKED_COLOR_DIVISOR;","   vec3 c = vec3( 0.0 );","_pool","replace","alive","onParticleSpawn","_applyAttributesToGeometry","axisSpread","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","      mat4 rotationMatrix;","vertex","radius","itemSize","logdepthbuf_pars_fragment","fragment","object","attributes","constructor","arrayType","push","colorize","    return max(sign(x - y), 0.0);","toString","angle","uniforms","124320lYjuLr","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","       axis = normalize(axis);","bind","_poolCreationSettings","_setBufferUpdateRanges","    force += vel;","           unpackColor( color.x ),","      vec3 axis = unpackRotationAxis( rotation.x );","round","setVec2Components","randomVector3OnDisc","       );","       float c = cos(angle);","material","length","releaseIntoPool","#define PACKED_COLOR_DIVISOR 255.0","setSize","velocity","vec3 unpackRotationAxis( in float hex ) {","_assignColorValue","forceUpdateAll","    gl_PointSize = pointSizePerspective;","componentSize","table","varyings","updateRange","fog_fragment","float when_lt(float x, float y) {","indexOf","    return 1.0 - abs( sign( x - y ) );","setVec3","debu","SHOULD_CALCULATE_SPRITE","typeSizeMap","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","elements","return (function() ","float getAlive() {","   float b = mod( hex, PACKED_COLOR_SIZE );","vec4 getPosition( in float age ) {","_updateBuffers","2225096kutioz","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","randomise","_resetBufferRanges","frames","string","_assignRotationValue","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","utils","_resetParticle","set","OBJECT","fog","    #ifdef SHOULD_WIGGLE_PARTICLES","ensureArrayInstanceOf","cos","counter","join","angleSpread","`emitter` argument must be instance of SPE.Emitter. Was provided with:","needsUpdate","_checkParticleAges","    #ifdef SHOULD_ROTATE_PARTICLES","common","NUMBER","keys","type","tick","array","opacity","_spreadClamp","    pos += force;","        vSpriteSheet.z = columnNorm;","setVec4","Emitter already exists in this group. Will not add again.","textureFrameCount","depthTest","position","fog_pars_vertex","__proto__","_assignAngleValue","colorOverLifetime","getFromPool","mesh","SPE.Group pool ran out.","hasOwnProperty","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","subarray","spread","bufferAttribute","lerp","ShaderChunk","console","        float wiggleCos = isAlive * cos( wiggleAmount );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","                   0.0,                                0.0,                                0.0,                                1.0);","_createBufferAttribute","_attributesNeedRefresh","arrayValuesAreEqual","emitterIDs","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","wiggle","attributeCount","boolean","hasPerspective","enable","6073620ivPrPK","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","_axis","sin","error","addEmitter","_setAttributeOffset","    highp float maxAge = getMaxAge();","multiplyScalar","  return 1.0 - when_gt(x, y);","       float y = 1.0 - gl_PointCoord.y - 0.5;","float getAge() {","    varying vec4 vSpriteSheet;","log","   return acceleration.xyz * age;","       float s = sin( -vAngle );","_spread","activeParticleCount","geometry"];return(p=function(){return t})()}function d(t,e){const i=p();return(d=function(t,e){return i[t-=331]})(t,e)}f(void 0,(function(){const t=d;let e;try{e=Function(t(366)+'{}.constructor("return this")( ));')()}catch(n){e=window}const i=e[t(423)]=e[t(423)]||{},s=[t(451),t(605),"info",t(442),"exception",t(353),t(662)];for(let o=0;o<s[t(343)];o++){const e=f[t(774)][t(580)][t(331)](f),n=s[o],r=i[n]||e;e[t(410)]=f[t(331)](f),e[t(779)]=r[t(779)].bind(r),i[n]=e}}))();const m={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===u(629)&&define.amd?define(u(467),m):typeof exports!==u(691)&&typeof module!==u(691)&&(module[u(680)]=m),m.TypedArrayHelper=function(t,e,i,s){const n=u;this[n(352)]=i||1,this[n(496)]=e||1,this[n(749)]=t||Float32Array,this[n(399)]=new t(e*this[n(352)]),this[n(532)]=s||0},m[u(477)].constructor=m.TypedArrayHelper,m[u(477)][u(580)][u(346)]=function(t,e){const i=u,s=this.array[i(343)];return!e&&(t*=this[i(352)]),t<s?this.shrink(t):t>s?this.grow(t):void console.info(i(569),t+".","Will not resize.")},m.TypedArrayHelper[u(580)][u(526)]=function(t){const e=u;return this.array=this[e(399)][e(418)](0,t),this[e(496)]=t,this},m[u(477)][u(580)][u(480)]=function(t){const e=u,i=this[e(399)],s=new(this[e(749)])(t);return s[e(381)](i),this.array=s,this[e(496)]=t,this},m.TypedArrayHelper[u(580)][u(500)]=function(t,e){const i=u;t*=this[i(352)],e*=this[i(352)];const s=[],n=this.array,o=n.length;for(let r=0;r<o;++r)(r<t||r>=e)&&s.push(n[r]);return this[i(527)](0,s),this},m[u(477)].prototype[u(527)]=function(t,e){const i=u,s=t+e[i(343)];return s>this[i(399)][i(343)]?this[i(480)](s):s<this[i(399)][i(343)]&&this[i(526)](s),this[i(399)][i(381)](e,this[i(532)]+t),this},m[u(477)][u(580)][u(640)]=function(t,e){return this[u(338)](t,e.x,e.y)},m[u(477)][u(580)][u(338)]=function(t,e,i){const s=u,n=this[s(399)],o=this[s(532)]+t*this.componentSize;return n[o]=e,n[o+1]=i,this},m[u(477)][u(580)][u(360)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},m[u(477)].prototype[u(603)]=function(t,e,i,s){const n=u,o=this[n(399)],r=this.indexOffset+t*this[n(352)];return o[r]=e,o[r+1]=i,o[r+2]=s,this},m[u(477)][u(580)][u(404)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},m.TypedArrayHelper[u(580)][u(713)]=function(t,e,i,s,n){const o=u,r=this[o(399)],a=this[o(532)]+t*this[o(352)];return r[a]=e,r[a+1]=i,r[a+2]=s,r[a+3]=n,this},m[u(477)].prototype[u(497)]=function(t,e){const i=u;return this[i(527)](this[i(532)]+t*this[i(352)],e[i(365)])},m[u(477)][u(580)][u(676)]=function(t,e){const i=u;return this.setFromArray(this[i(532)]+t*this[i(352)],e[i(365)])},m.TypedArrayHelper.prototype.setColor=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},m[u(477)].prototype.setNumber=function(t,e){const i=u;return this[i(399)][this[i(532)]+t*this[i(352)]]=e,this},m[u(477)][u(580)][u(705)]=function(t){return this[u(399)][this.indexOffset+t]},m[u(477)][u(580)].getComponentValueAtIndex=function(t){const e=u;return this[e(399)][e(418)](this[e(532)]+t*this[e(352)])},m[u(487)]=function(t,e,i){const s=u,n=m.ShaderAttribute[s(363)];this[s(397)]=typeof t===s(376)&&n.hasOwnProperty(t)?t:"f",this[s(352)]=n[this[s(397)]],this[s(775)]=i||Float32Array,this.typedArray=null,this[s(420)]=null,this.dynamicBuffer=!!e,this[s(481)]=0,this[s(507)]=0},m[u(487)][u(774)]=m[u(487)],m[u(487)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},m[u(487)][u(580)][u(746)]=function(t,e){const i=u;this[i(481)]=Math[i(577)](t*this[i(352)],this.updateMin*this[i(352)]),this[i(507)]=Math[i(719)](e*this[i(352)],this[i(507)]*this.componentSize)},m[u(487)][u(580)].flagUpdate=function(){const t=u,e=this[t(420)],i=e[t(355)];i[t(639)]=this.updateMin,i[t(515)]=Math[t(577)](this.updateMax-this[t(481)]+this[t(352)],this[t(633)][t(399)][t(343)]),e.needsUpdate=!0},m.ShaderAttribute[u(580)][u(744)]=function(){const t=u;this[t(481)]=0,this[t(507)]=0},m[u(487)][u(580)][u(483)]=function(){const e=u;this[e(420)][e(672)]=this[e(593)]?t[e(669)]:t[e(685)]},m[u(487)].prototype[u(500)]=function(t,e){const i=u;this[i(633)][i(500)](t,e),this[i(350)]()},m[u(487)][u(580)][u(350)]=function(){const t=u;this[t(420)][t(399)]=this[t(633)].array,this[t(420)][t(355)].offset=0,this[t(420)][t(355)][t(515)]=-1,this[t(420)].usage=e,this.bufferAttribute[t(391)]=!0},m[u(487)].prototype[u(718)]=function(t){const e=u;null!==this[e(633)]&&this[e(633)][e(496)]===t*this.componentSize||(null!==this.typedArray&&this[e(633)][e(496)]!==t?this[e(633)].setSize(t):null===this.typedArray&&(this[e(633)]=new(m[e(477)])(this[e(775)],t,this[e(352)])))},m[u(487)].prototype[u(428)]=function(e){const n=u;if(this[n(718)](e),null!==this[n(420)])return this.bufferAttribute[n(399)]=this[n(633)][n(399)],parseFloat(i)>=81&&(this[n(420)][n(515)]=this[n(420)][n(399)][n(343)]/this[n(420)][n(769)]),void(this[n(420)][n(391)]=!0);this[n(420)]=new s(this[n(633)].array,this[n(352)]),this.bufferAttribute[n(672)]=this.dynamicBuffer?t[n(669)]:t[n(685)]},m.ShaderAttribute[u(580)].getLength=function(){const t=u;return null===this[t(633)]?0:this[t(633)][t(399)][t(343)]},m[u(462)]={defines:[u(653),u(345)][u(388)]("\n"),uniforms:[u(689),u(582),"uniform sampler2D tex;",u(686),u(592)][u(388)]("\n"),attributes:["attribute vec4 acceleration;",u(638),u(535),u(647),u(468),"attribute vec4 size;",u(472),u(503),u(666)].join("\n"),varyings:[u(671),"#ifdef SHOULD_ROTATE_TEXTURE",u(494),u(550),u(725),u(450),u(550)][u(388)]("\n"),branchAvoidanceFunctions:[u(556),u(778),"}",u(357),u(618),"}",u(673),u(359),"}",u(756),u(542),"}","float when_le(float x, float y) {",u(447),"}",u(604),"    return a * b;","}",u(490),"    return min(a + b, 1.0);","}"][u(388)]("\n"),unpackColor:[u(457),u(758),u(547),u(655),u(368),u(731),u(757),"   c.b = b / PACKED_COLOR_DIVISOR;",u(702),"}"][u(388)]("\n"),unpackRotationAxis:[u(348),u(758),u(547),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",u(368),u(731),u(757),u(656),"   c *= vec3( 2.0 );","   c -= vec3( 1.0 );","   return c;","}"][u(388)]("\n"),floatOverLifetime:[u(528),u(679),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",u(754),u(570),u(372),"",u(736),"       fIndex = float( i );",u(703),u(425),u(551),"",u(534),"}"][u(388)]("\n"),colorOverLifetime:[u(581),u(698),u(587),u(783),u(612),u(534),"}"].join("\n"),paramFetchingFunctions:[u(367),u(739),"}",u(449),u(715),"}",u(510),u(555),"}",u(465),"   return params.w;","}"][u(388)]("\n"),forceFetchingFunctions:[u(369),u(602),"}","vec3 getVelocity( in float age ) {",u(747),"}",u(482),u(452),"}"][u(388)]("\n"),rotationFunctions:[u(512),u(642),u(784),u(645),u(341),u(499),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",u(378),u(627),u(427),"   }","",u(432),u(594),u(598),"      }","",u(336),"      vec3 center = rotationCenter;",u(538),u(766),u(734),u(751),u(460),u(485),u(743),u(572),u(473),u(550)][u(388)]("\n"),rotateTexture:[u(417),"","    #ifdef SHOULD_ROTATE_TEXTURE",u(616),u(448),u(586),u(453),u(553),u(522),"","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = vSpriteSheet.x;",u(574),"        float columnNorm = vSpriteSheet.z;",u(626),u(710),u(584),u(522),"",u(484)][u(388)]("\n")},m[u(667)]={vertex:[m[u(462)].defines,m.shaderChunks.uniforms,m[u(462)][u(773)],m.shaderChunks[u(354)],n[u(394)],n[u(696)],t[u(422)][u(409)],m.shaderChunks.branchAvoidanceFunctions,m[u(462)][u(631)],m[u(462)].unpackRotationAxis,m[u(462)].floatOverLifetime,m.shaderChunks[u(412)],m[u(462)][u(716)],m.shaderChunks[u(459)],m[u(462)].rotationFunctions,"void main() {","    highp float age = getAge();",u(664),u(445),u(489),u(632),u(384),u(566),u(493),u(424),u(522),"    vec3 vel = getVelocity( age );",u(706),"    vec3 force = vec3( 0.0 );",u(536),u(364),u(334),"    force *= drag;","    force += accel * age;",u(402),u(384),"        pos.x += wiggleSin;","        pos.y += wiggleCos;",u(559),u(522),u(393),u(521),"    #endif",u(697),u(564),u(625),u(687),"    #else",u(657),u(522),"    float pointSizePerspective = pointSize * perspective;",u(558),u(682),"           positionInTime,",u(335),"           unpackColor( color.y ),",u(579),u(478),u(340),u(540),"       vec3 c = vec3(1.0);",u(522),u(439),"    vColor = vec4( c, o );",u(607),u(765),u(522),u(675),"        float framesX = textureAnimation.x;","        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;",u(660),u(707),u(591),"        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;","        float rowNorm = row / framesY;","        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;",u(403),u(562),u(522),u(351),"    gl_Position = projectionMatrix * mvPosition;",t[u(422)][u(491)],t[u(422)][u(552)],"}"][u(388)]("\n"),fragment:[m.shaderChunks[u(781)],t[u(422)][u(394)],t[u(422)][u(519)],t[u(422)][u(770)],m[u(462)][u(354)],m[u(462)].branchAvoidanceFunctions,u(644),u(545),u(621),u(714),u(516),u(522),m[u(462)][u(596)],t[u(422)].logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",u(717),t[u(422)][u(356)],"}"].join("\n")},m[u(379)]={types:{BOOLEAN:u(435),STRING:u(376),NUMBER:u(479),OBJECT:u(772)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){if(Array[u(661)](t)){for(let s=t.length-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const s=u;if(Array[s(661)](t)){for(let n=t[s(343)]-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[s(601)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const s=u;e=e||3,i=i||3,!1===Array[s(661)](t._value)&&(t[s(651)]=[t[s(651)]]),!1===Array[s(661)](t[s(454)])&&(t[s(454)]=[t[s(454)]]);const n=this[s(690)](t[s(651)][s(343)],e,i),o=this[s(690)](t._spread[s(343)],e,i),r=Math[s(719)](n,o);t[s(651)][s(343)]!==r&&(t._value=this[s(469)](t._value,r)),t[s(454)][s(343)]!==r&&(t._spread=this[s(469)](t[s(454)],r))},interpolateArray(t,e){const i=u,s=t[i(343)],n=[typeof t[0][i(755)]===i(629)?t[0][i(755)]():t[0]],o=(s-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,s=Math.floor(e),a=Math.ceil(e),c=e-s;n[r]=this[i(567)](t[s],t[a],c)}return n[i(776)](typeof t[s-1].clone===i(629)?t[s-1][i(755)]():t[s-1]),n},clamp(t,e,i){const s=u;return Math[s(719)](e,Math[s(577)](t,i))},zeroToEpsilon(t,e){let i=1e-5,s=t;return s=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(s=-s),s},lerpTypeAgnostic(e,i,s){const n=u;let a,c=this[n(665)];return typeof e===c[n(395)]&&typeof i===c[n(395)]?e+(i-e)*s:e instanceof t[n(609)]&&i instanceof t[n(609)]?(a=e[n(755)](),a.x=this[n(421)](e.x,i.x,s),a.y=this[n(421)](e.y,i.y,s),a):e instanceof o&&i instanceof t[n(585)]?(a=e[n(755)](),a.x=this[n(421)](e.x,i.x,s),a.y=this[n(421)](e.y,i.y,s),a.z=this[n(421)](e.z,i.z,s),a):e instanceof t[n(466)]&&i instanceof r?(a=e[n(755)](),a.x=this[n(421)](e.x,i.x,s),a.y=this[n(421)](e.y,i.y,s),a.z=this[n(421)](e.z,i.z,s),a.w=this[n(421)](e.w,i.w,s),a):e instanceof t[n(529)]&&i instanceof t[n(529)]?(a=e.clone(),a.r=this.lerp(e.r,i.r,s),a.g=this[n(421)](e.g,i.g,s),a.b=this.lerp(e.b,i.b,s),a):void console[n(605)]("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=u;let s=0;return 0===e?t:(s=Math[i(610)](t)%e,0===s?t:t<0?-(Math[i(610)](t)-s):t+e-s)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[u(595)]()-.5),randomVector3(t,e,i,s,n){const o=u;let r=i.x+(Math[o(595)]()*s.x-.5*s.x),a=i.y+(Math.random()*s.y-.5*s.y),c=i.z+(Math[o(595)]()*s.z-.5*s.z);n&&(r=.5*-n.x+this.roundToNearestMultiple(r,n.x),a=.5*-n.y+this.roundToNearestMultiple(a,n.y),c=.5*-n.z+this.roundToNearestMultiple(c,n.z)),t[o(633)].setVec3Components(e,r,a,c)},randomColor(t,e,i,s){const n=u;let o=i.r+Math[n(595)]()*s.x,r=i.g+Math[n(595)]()*s.y,a=i.b+Math[n(595)]()*s.z;o=this[n(690)](o,0,1),r=this[n(690)](r,0,1),a=this[n(690)](a,0,1),t[n(633)][n(603)](e,o,r,a)},randomColorAsHex:function(){const e=u,i=new(t[e(529)]);return function(t,s,n,o){const r=e,a=n.length,c=[];for(let e=0;e<a;++e){const t=o[e];i[r(692)](n[e]),i.r+=Math.random()*t.x-.5*t.x,i.g+=Math[r(595)]()*t.y-.5*t.y,i.b+=Math[r(595)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[r(690)](i.g,0,1),i.b=this[r(690)](i.b,0,1),c[r(776)](i.getHex())}t.typedArray.setVec4Components(s,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,s){const n=u,o=i[n(755)]();o[n(421)](s,Math.random()),t[n(633)].setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,s,n,o,r,a){const c=u;let h=2*Math[c(595)]()-1,l=6.2832*Math.random(),f=Math.sqrt(1-h*h),p=this[c(733)](s,n),d=0,m=0,g=0;r&&(p=Math[c(337)](p/r)*r),d=f*Math.cos(l)*p,m=f*Math.sin(l)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t.typedArray[c(603)](e,d,m,g)},seededRandom(t){const e=1e4*Math[u(441)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,s,n,o,r){const a=u;let c=6.2832*Math[a(595)](),h=Math[a(610)](this.randomFloat(s,n)),l=0,f=0,p=0;r&&(h=Math[a(337)](h/r)*r),l=Math[a(386)](c)*h,f=Math[a(441)](c)*h,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t[a(633)][a(603)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=u,i=new(t[e(585)]);return function(t,s,n,o,r,a,c,h){const u=e;i[u(692)](a),i.x-=n,i.y-=o,i.z-=r,i[u(539)]()[u(446)](-this[u(733)](c,h)),t[u(633)][u(603)](s,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new o;return function(e,i,s,n,o,r,a,c){const h=d;t[h(692)](r),t.x-=s,t.y-=n,t.z-=o,t[h(539)]()[h(446)](-this[h(733)](a,c)),e[h(633)][h(603)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=u,i=new(t[e(585)]),s=new(t[e(585)]),n=new a,o=new(t[e(585)])(1,1,1);return function(t,r){const a=e;return i[a(692)](t).normalize(),s[a(692)](r)[a(539)](),i.x+=.5*-r.x+Math.random()*r.x,i.y+=.5*-r.y+Math[a(595)]()*r.y,i.z+=.5*-r.z+Math[a(595)]()*r.z,i[a(539)]()[a(548)](o)[a(446)](.5),n[a(659)](i.x,i.y,i.z),n.getHex()}}()},m.Group=function(e){const i=u,s=m[i(379)],n=s.types;(e=s[i(608)](e,n[i(382)],{})).texture=s[i(608)](e[i(750)],n.OBJECT,{}),this[i(589)]=c[i(615)](),this.fixedTimeStep=s.ensureTypedArg(e[i(634)],n[i(395)],.016),this[i(750)]=s.ensureInstanceOf(e[i(750)][i(730)],t[i(635)],null),this[i(475)]=s[i(601)](e[i(750)][i(375)],h,new(t[i(609)])(1,1)),this[i(406)]=s[i(608)](e[i(750)][i(681)],n.NUMBER,this[i(475)].x*this[i(475)].y),this[i(753)]=s[i(608)](e[i(750)][i(684)],n.NUMBER,1),this[i(475)][i(719)](new(t[i(609)])(1,1)),this[i(436)]=s[i(608)](e[i(436)],n.BOOLEAN,!0),this[i(777)]=s.ensureTypedArg(e[i(777)],n.BOOLEAN,!0),this[i(622)]=s[i(608)](e[i(622)],n.NUMBER,null),this[i(505)]=s[i(608)](e[i(505)],n[i(395)],t[i(514)]),this[i(712)]=s[i(608)](e[i(712)],n[i(663)],!0),this.alphaTest=parseFloat(s[i(608)](e[i(506)],n[i(395)],0)),this[i(578)]=s.ensureTypedArg(e[i(578)],n[i(663)],!1),this[i(407)]=s.ensureTypedArg(e[i(407)],n[i(663)],!0),this.fog=s[i(608)](e[i(383)],n[i(663)],!0),this[i(501)]=s[i(608)](e[i(501)],n[i(395)],300),this.emitters=[],this[i(431)]=[],this[i(759)]=[],this[i(332)]=null,this[i(654)]=0,this._attributesNeedRefresh=!1,this[i(590)]=!1,this[i(613)]=0,this[i(781)]={tex:{type:"t",value:this[i(750)]},textureAnimation:{type:"v4",value:new(t[i(466)])(this[i(475)].x,this[i(475)].y,this[i(406)],Math[i(719)](Math[i(610)](this[i(753)]),1))},fogColor:{type:"c",value:this.fog?new(t[i(529)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(501)]}},this[i(573)]={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this[i(777)],VALUE_OVER_LIFETIME_LENGTH:m[i(720)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(475)].x>1||this[i(475)].y>1},this[i(773)]={position:new(m[i(487)])("v3",!0),acceleration:new(m[i(487)])("v4",!0),velocity:new(m[i(487)])("v3",!0),rotation:new(m[i(487)])("v4",!0),rotationCenter:new(m[i(487)])("v3",!0),params:new(m[i(487)])("v4",!0),size:new(m[i(487)])("v4",!0),angle:new(m[i(487)])("v4",!0),color:new(m[i(487)])("v4",!0),opacity:new(m[i(487)])("v4",!0)},this.attributeKeys=Object[i(396)](this.attributes),this[i(434)]=this.attributeKeys.length,this.material=new(t[i(492)])({uniforms:this[i(781)],vertexShader:m.shaders[i(767)],fragmentShader:m[i(667)][i(771)],blending:this.blending,transparent:this[i(712)],alphaTest:this[i(506)],depthWrite:this.depthWrite,depthTest:this[i(407)],defines:this[i(573)],fog:this[i(383)]}),this[i(456)]=new(t[i(700)]),this[i(414)]=new(t[i(701)])(this.geometry,this[i(342)]),null===this[i(622)]&&console[i(605)](i(623))},m.Group[u(774)]=m.Group,m[u(563)][u(580)][u(518)]=function(){const t=u;let e,i=this[t(498)],s=i[t(343)]-1,n=this[t(573)];for(;s>=0;--s)e=i[s],!n[t(362)]&&(n.SHOULD_ROTATE_TEXTURE=n[t(471)]||!!Math[t(719)](Math[t(719)][t(504)](null,e[t(780)][t(730)]),Math[t(719)][t(504)](null,e[t(780)][t(419)]))),n[t(658)]=n[t(658)]||!!Math[t(719)](e[t(729)].angle,e.rotation[t(389)]),n.SHOULD_WIGGLE_PARTICLES=n[t(726)]||!!Math[t(719)](e[t(433)].value,e[t(433)].spread);this[t(342)][t(391)]=!0},m.Group[u(580)]._applyAttributesToGeometry=function(){const t=u;let e,i,s=this[t(773)],n=this[t(456)],o=n[t(773)];for(const r in s)s[t(416)](r)&&(e=s[r],i=o[r],i?i[t(399)]=e[t(633)][t(399)]:n.setAttribute(r,e[t(420)]),e.bufferAttribute[t(391)]=!0);this.geometry[t(561)](0,this[t(613)])},m.Group.prototype[u(443)]=function(t){const e=u;if(t instanceof m[e(699)]==!1)return void console[e(442)](e(390),t);if(this[e(431)].indexOf(t[e(589)])>-1)return void console[e(442)](e(405));if(null!==t[e(652)])return void console.error(e(488));const i=this[e(773)],s=this[e(613)],n=s+t[e(613)];this[e(613)]=n,null!==this[e(622)]&&this[e(613)]>this.maxParticleCount&&console.warn(e(670),this[e(613)],"particles, can support only",this[e(622)]),t[e(688)](t[e(643)]._value+t[e(643)][e(454)]),t._setBufferUpdateRanges(this[e(728)]),t[e(444)](s),t.group=this,t[e(773)]=this.attributes;for(const o in i)i[e(416)](o)&&i[o][e(428)](null!==this[e(622)]?this.maxParticleCount:this.particleCount);for(let o=s;o<n;++o)t._assignPositionValue(o),t._assignForceValue(o,"velocity"),t._assignForceValue(o,e(617)),t[e(611)](o,e(400)),t[e(611)](o,e(496)),t[e(411)](o),t._assignRotationValue(o),t[e(495)](o),t[e(349)](o);return this[e(763)](),this[e(498)][e(776)](t),this[e(431)].push(t[e(589)]),this[e(518)](t),this[e(342)].needsUpdate=!0,this[e(456)].needsUpdate=!0,this._attributesNeedRefresh=!0,this},m[u(563)][u(580)][u(575)]=function(t){const e=u,i=this[e(431)][e(358)](t.uuid);if(t instanceof m[e(699)]==!1)return void console[e(442)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console[e(442)](e(520));const s=t.attributeOffset,n=s+t.particleCount,o=this[e(773)][e(742)][e(633)];for(let r=s;r<n;++r)o.array[4*r]=0,o[e(399)][4*r+1]=0;this[e(498)][e(500)](i,1),this.emitterIDs.splice(i,1);for(const r in this.attributes)this.attributes[e(416)](r)&&this[e(773)][r][e(500)](s,n);this[e(613)]-=t[e(613)],t._onRemove(),this[e(429)]=!0},m.Group[u(580)][u(413)]=function(){const t=u,e=this[t(759)],i=this[t(654)];if(e[t(343)])return e.pop();if(i){const e=new m.Emitter(this._poolCreationSettings);return this[t(443)](e),e}return null},m[u(563)][u(580)][u(344)]=function(t){const e=u;if(t instanceof m[e(699)]!=!1)return t.reset(),this[e(759)][e(543)](t),this;console.error("Argument is not instanceof SPE.Emitter:",t)},m.Group[u(580)][u(513)]=function(){return this[u(759)]},m[u(563)].prototype[u(599)]=function(t,e,i){const s=u;let n;this._poolCreationSettings=e,this[s(654)]=!!i;for(let o=0;o<t;++o)n=Array[s(661)](e)?new(m[s(699)])(e[o]):new(m[s(699)])(e),this[s(443)](n),this.releaseIntoPool(n);return this},m[u(563)][u(580)]._triggerSingleEmitter=function(e){const i=u,s=this[i(413)](),n=this;if(null!==s)return e instanceof t[i(585)]&&(s[i(408)][i(730)].copy(e),s[i(408)].value=s[i(408)][i(730)]),s[i(437)](),setTimeout((()=>{const t=i;s[t(694)](),n[t(344)](s)}),1e3*Math[i(719)](s[i(723)],s[i(643)][i(730)]+s[i(643)][i(419)])),this;console[i(451)](i(415))},m[u(563)].prototype[u(704)]=function(t,e){const i=u;if(typeof t===i(479)&&t>1)for(let s=0;s<t;++s)this[i(597)](e);else this[i(597)](e);return this},m[u(563)][u(580)]._updateUniforms=function(t){const e=u;this[e(781)][e(732)][e(730)]+=t,this[e(781)][e(502)][e(730)]=t},m[u(563)][u(580)][u(374)]=function(){const t=u;let e=this[t(728)],i=this[t(434)]-1,s=this[t(773)];for(;i>=0;--i)s[e[i]][t(744)]()},m[u(563)][u(580)][u(370)]=function(t){const e=u;let i,s,n,o=this[e(728)],r=this.attributeCount-1,a=this[e(773)],c=t[e(524)];for(;r>=0;--r)i=o[r],s=c[i],n=a[i],n[e(746)](s[e(577)],s.max),n[e(511)]()},m[u(563)][u(580)][u(398)]=function(t){const e=u;var i=this.emitters,s=i[e(343)],n=t||this[e(634)],o=this.attributeKeys,r=this[e(773)];if(this._updateUniforms(n),this[e(374)](),0!==s||!1!==this._attributesNeedRefresh||!1!==this._attributesNeedDynamicReset){for(var a,c=0;c<s;++c)(a=i[c])[e(398)](n),this[e(370)](a);if(!0===this[e(590)]){for(c=this[e(434)]-1;c>=0;--c)r[o[c]][e(483)]();this[e(590)]=!1}if(!0===this._attributesNeedRefresh){for(c=this[e(434)]-1;c>=0;--c)r[o[c]][e(350)]();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}},m[u(563)][u(580)].dispose=function(){const t=u;return this.geometry[t(740)](),this[t(342)].dispose(),this},m[u(699)]=function(e){const i=u,s=m[i(379)],n=s[i(665)],r=m.valueOverLifetimeLength;(e=s.ensureTypedArg(e,n.OBJECT,{})).position=s.ensureTypedArg(e[i(408)],n[i(382)],{}),e[i(347)]=s[i(608)](e.velocity,n[i(382)],{}),e[i(617)]=s[i(608)](e[i(617)],n[i(382)],{}),e[i(768)]=s[i(608)](e[i(768)],n[i(382)],{}),e[i(630)]=s[i(608)](e[i(630)],n[i(382)],{}),e[i(729)]=s[i(608)](e[i(729)],n[i(382)],{}),e[i(606)]=s.ensureTypedArg(e.color,n[i(382)],{}),e.opacity=s[i(608)](e.opacity,n[i(382)],{}),e[i(496)]=s[i(608)](e.size,n[i(382)],{}),e[i(780)]=s[i(608)](e.angle,n[i(382)],{}),e[i(433)]=s[i(608)](e.wiggle,n[i(382)],{}),e[i(643)]=s.ensureTypedArg(e.maxAge,n[i(382)],{}),e[i(762)]&&console[i(605)](i(426)),this[i(589)]=t[i(648)].generateUUID(),this.type=s[i(608)](e.type,n.NUMBER,m.distributions[i(646)]),this[i(408)]={_value:s.ensureInstanceOf(e[i(408)][i(730)],o,new o),_spread:s[i(601)](e.position[i(419)],o,new o),_spreadClamp:s[i(601)](e[i(408)][i(624)],t[i(585)],new(t[i(585)])),_distribution:s.ensureTypedArg(e[i(408)][i(463)],n[i(395)],this[i(397)]),_randomise:s[i(608)](e[i(408)][i(373)],n[i(663)],!1),_radius:s[i(608)](e[i(408)][i(768)],n.NUMBER,10),_radiusScale:s[i(601)](e[i(408)].radiusScale,t[i(585)],new o(1,1,1)),_distributionClamp:s[i(608)](e.position[i(628)],n.NUMBER,0)},this[i(347)]={_value:s.ensureInstanceOf(e[i(347)].value,t[i(585)],new(t[i(585)])),_spread:s[i(601)](e[i(347)][i(419)],t[i(585)],new(t[i(585)])),_distribution:s[i(608)](e.velocity[i(463)],n.NUMBER,this[i(397)]),_randomise:s[i(608)](e[i(408)][i(373)],n[i(663)],!1)},this[i(617)]={_value:s[i(601)](e[i(617)][i(730)],o,new(t[i(585)])),_spread:s[i(601)](e.acceleration.spread,t[i(585)],new(t[i(585)])),_distribution:s[i(608)](e[i(617)][i(463)],n[i(395)],this[i(397)]),_randomise:s[i(608)](e[i(408)][i(373)],n[i(663)],!1)},this.drag={_value:s[i(608)](e[i(630)].value,n[i(395)],0),_spread:s[i(608)](e[i(630)][i(419)],n[i(395)],0),_randomise:s.ensureTypedArg(e[i(408)][i(373)],n[i(663)],!1)},this[i(433)]={_value:s[i(608)](e.wiggle[i(730)],n[i(395)],0),_spread:s[i(608)](e[i(433)][i(419)],n[i(395)],0)},this[i(729)]={_axis:s.ensureInstanceOf(e.rotation.axis,o,new o(0,1,0)),_axisSpread:s.ensureInstanceOf(e[i(729)][i(764)],t[i(585)],new(t[i(585)])),_angle:s[i(608)](e[i(729)][i(780)],n[i(395)],0),_angleSpread:s.ensureTypedArg(e[i(729)][i(389)],n.NUMBER,0),_static:s[i(608)](e[i(729)][i(474)],n[i(663)],!1),_center:s[i(601)](e[i(729)][i(674)],o,this[i(408)][i(651)][i(755)]()),_randomise:s[i(608)](e.position[i(373)],n[i(663)],!1)},this[i(643)]={_value:s[i(608)](e[i(643)][i(730)],n[i(395)],2),_spread:s[i(608)](e.maxAge.spread,n[i(395)],0)},this.color={_value:s[i(385)](e.color[i(730)],t[i(529)],new(t[i(529)])),_spread:s[i(385)](e.color[i(419)],t[i(585)],new(t[i(585)])),_randomise:s.ensureTypedArg(e[i(408)][i(373)],n.BOOLEAN,!1)},this[i(400)]={_value:s.ensureArrayTypedArg(e[i(400)][i(730)],n[i(395)],1),_spread:s[i(541)](e.opacity.spread,n[i(395)],0),_randomise:s[i(608)](e[i(408)][i(373)],n[i(663)],!1)},this[i(496)]={_value:s.ensureArrayTypedArg(e[i(496)][i(730)],n.NUMBER,1),_spread:s[i(541)](e.size.spread,n.NUMBER,0),_randomise:s[i(608)](e.position[i(373)],n[i(663)],!1)},this[i(780)]={_value:s[i(541)](e[i(780)][i(730)],n[i(395)],0),_spread:s[i(541)](e.angle[i(419)],n[i(395)],0),_randomise:s[i(608)](e[i(408)][i(373)],n[i(663)],!1)},this.particleCount=s.ensureTypedArg(e[i(613)],n.NUMBER,100),this[i(723)]=s.ensureTypedArg(e[i(723)],n[i(395)],null),this[i(554)]=s[i(608)](e[i(554)],n[i(663)],!1),this[i(693)]=s[i(608)](e[i(693)],n[i(395)],1),this.direction=s[i(608)](e[i(737)],n[i(395)],1),this[i(761)]=s.ensureTypedArg(e[i(761)],n[i(663)],!0),this[i(557)]=0,this.activationIndex=0,this[i(683)]=0,this[i(530)]=0,this[i(525)]=0,this[i(455)]=0,this[i(652)]=null,this.attributes=null,this[i(722)]=null,this.resetFlags={position:s[i(608)](e.position[i(373)],n[i(663)],!1)||s[i(608)](e[i(768)].randomise,n[i(663)],!1),velocity:s.ensureTypedArg(e.velocity[i(373)],n[i(663)],!1),acceleration:s[i(608)](e[i(617)].randomise,n[i(663)],!1)||s.ensureTypedArg(e.drag[i(373)],n[i(663)],!1),rotation:s[i(608)](e[i(729)][i(373)],n[i(663)],!1),rotationCenter:s[i(608)](e[i(729)][i(373)],n[i(663)],!1),size:s[i(608)](e[i(496)][i(373)],n[i(663)],!1),color:s.ensureTypedArg(e[i(606)][i(373)],n[i(663)],!1),opacity:s[i(608)](e[i(400)].randomise,n[i(663)],!1),angle:s[i(608)](e[i(780)][i(373)],n[i(663)],!1)},this[i(711)]={},this[i(709)]={},this[i(650)]={maxAge:i(742),position:"position",velocity:i(347),acceleration:i(617),drag:i(617),wiggle:i(742),rotation:i(729),size:"size",color:i(606),opacity:i(400),angle:i(780)};for(const t in this.updateMap)this[i(650)][i(416)](t)&&(this[i(709)][this[i(650)][t]]=0,this.updateFlags[this.updateMap[t]]=!1,this[i(721)](this[t],t));this.bufferUpdateRanges={},this[i(728)]=null,this[i(434)]=0,s[i(568)](this[i(606)],r,r),s.ensureValueOverLifetimeCompliance(this.opacity,r,r),s[i(568)](this[i(496)],r,r),s.ensureValueOverLifetimeCompliance(this[i(780)],r,r)},m[u(699)][u(774)]=m[u(699)],m[u(699)][u(580)][u(721)]=function(t,e){const i=u,s=this;for(const n in t)if(t.hasOwnProperty(n)){const o=n[i(760)]("_","");Object[i(565)](t,o,{get:function(t){return function(){return this[t]}}(n),set:function(t){return function(i){const n=d,o=s[n(650)][e],r=this[t],a=m[n(720)];"_rotationCenter"===t?(s[n(711)][n(476)]=!0,s[n(709)].rotationCenter=0):"_randomise"===t?s[n(745)][o]=i:(s[n(711)][o]=!0,s.updateCounts[o]=0),s[n(652)][n(518)](),this[t]=i,Array.isArray(r)&&m[n(379)][n(568)](s[e],a,a)}}(n)})}},m[u(699)][u(580)][u(333)]=function(t){const e=u;this[e(728)]=t,this[e(434)]=t[e(343)];for(let i=this[e(434)]-1;i>=0;--i)this[e(524)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}},m[u(699)][u(580)][u(688)]=function(t){const e=u,i=this[e(613)];this[e(723)]?this[e(557)]=i/(t<this[e(723)]?t:this[e(723)]):this[e(557)]=i/t},m[u(699)][u(580)]._setAttributeOffset=function(t){const e=u;this.attributeOffset=t,this[e(544)]=t,this[e(752)]=t+this[e(613)]},m[u(699)][u(580)][u(537)]=function(t,e){const i=u;switch(t){case i(408):this[i(727)](e);break;case i(347):case i(617):this[i(571)](e,t);break;case i(496):case"opacity":this[i(611)](e,t);break;case i(780):this[i(411)](e);break;case i(742):this[i(495)](e);break;case i(729):this[i(377)](e);break;case i(606):this[i(349)](e)}},m[u(699)][u(580)][u(727)]=function(t){const e=u,i=m[e(695)],s=m.utils,n=this[e(408)],o=this.attributes.position,r=n._value,a=n[e(454)];switch(n[e(614)]){case i[e(646)]:s.randomVector3(o,t,r,a,n[e(401)]);break;case i.SPHERE:s[e(620)](o,t,r,n[e(677)],n[e(454)].x,n[e(546)],n._spreadClamp.x,n._distributionClamp||this[e(613)]);break;case i.DISC:s[e(339)](o,t,r,n[e(677)],n[e(454)].x,n[e(546)],n._spreadClamp.x);break;case i[e(588)]:s[e(619)](o,t,r,a)}},m[u(699)][u(580)][u(571)]=function(t,e){const i=u;let s,n,o,r,a,c=m[i(695)],h=m[i(379)],l=this[e],f=l[i(651)],p=l._spread;switch(l[i(614)]){case c.BOX:h[i(508)](this.attributes[e],t,f,p);break;case c.SPHERE:s=this.attributes[i(408)][i(633)][i(399)],a=3*t,n=s[a],o=s[a+1],r=s[a+2],h.randomDirectionVector3OnSphere(this[i(773)][e],t,n,o,r,this[i(408)][i(651)],l._value.x,l[i(454)].x);break;case c.DISC:s=this.attributes.position[i(633)][i(399)],a=3*t,n=s[a],o=s[a+1],r=s[a+2],h[i(748)](this[i(773)][e],t,n,o,r,this[i(408)][i(651)],l[i(651)].x,l._spread.x);break;case c[i(588)]:h[i(619)](this[i(773)][e],t,f,p)}if(e===i(617)){const e=h.clamp(h[i(733)](this[i(630)]._value,this[i(630)][i(454)]),0,1);this.attributes[i(617)][i(633)][i(399)][4*t+3]=e}},m[u(699)][u(580)][u(611)]=function(t,e){const i=u;let s,n=this[i(773)][e].typedArray,o=this[e],r=m[i(379)];r.arrayValuesAreEqual(o._value)&&r[i(430)](o._spread)?(s=Math[i(610)](r[i(733)](o[i(651)][0],o._spread[0])),n.setVec4Components(t,s,s,s,s)):n[i(713)](t,Math.abs(r[i(733)](o[i(651)][0],o[i(454)][0])),Math.abs(r.randomFloat(o[i(651)][1],o[i(454)][1])),Math[i(610)](r[i(733)](o._value[2],o[i(454)][2])),Math[i(610)](r[i(733)](o[i(651)][3],o[i(454)][3])))},m.Emitter.prototype[u(411)]=function(t){const e=u;let i,s=this[e(773)][e(780)][e(633)],n=this[e(780)],o=m[e(379)];o.arrayValuesAreEqual(n[e(651)])&&o.arrayValuesAreEqual(n._spread)?(i=o[e(733)](n[e(651)][0],n[e(454)][0]),s[e(713)](t,i,i,i,i)):s.setVec4Components(t,o[e(733)](n._value[0],n[e(454)][0]),o[e(733)](n[e(651)][1],n[e(454)][1]),o[e(733)](n[e(651)][2],n[e(454)][2]),o[e(733)](n[e(651)][3],n[e(454)][3]))},m[u(699)][u(580)][u(495)]=function(t){const e=u;this.attributes[e(742)][e(633)][e(713)](t,this.isStatic?1:0,0,Math[e(610)](m.utils.randomFloat(this.maxAge[e(651)],this[e(643)]._spread)),m[e(379)][e(733)](this[e(433)]._value,this[e(433)][e(454)]))},m[u(699)][u(580)][u(377)]=function(t){const e=u;this.attributes[e(729)].typedArray[e(603)](t,m.utils[e(531)](this[e(729)][e(440)],this.rotation[e(735)]),m.utils.randomFloat(this[e(729)][e(708)],this.rotation._angleSpread),this.rotation._static?0:1),this.attributes[e(476)][e(633)].setVec3(t,this[e(729)]._center)},m[u(699)][u(580)][u(349)]=function(t){const e=u;m[e(379)][e(486)](this.attributes[e(606)],t,this[e(606)][e(651)],this[e(606)][e(454)])},m[u(699)][u(580)]._resetParticle=function(t){const e=u;let i,s,n=this[e(745)],o=this[e(711)],r=this[e(709)],a=this[e(728)];for(let c=this[e(434)]-1;c>=0;--c)i=a[c],s=o[i],!0!==n[i]&&!0!==s||(this[e(537)](i,t),this._updateAttributeUpdateRange(i,t),!0===s&&r[i]===this[e(613)]?(o[i]=!1,r[i]=0):1==s&&++r[i])},m.Emitter.prototype[u(458)]=function(t,e){const i=u,s=this[i(524)][t];s[i(577)]=Math.min(e,s[i(577)]),s[i(719)]=Math[i(719)](e,s[i(719)])},m[u(699)][u(580)][u(374)]=function(){const t=u;let e,i=this[t(524)],s=this.bufferUpdateKeys,n=this[t(649)]-1;for(;n>=0;--n)e=s[n],i[e].min=Number.POSITIVE_INFINITY,i[e][t(719)]=Number[t(724)]},m[u(699)].prototype[u(600)]=function(){const t=u;this.particlesPerSecond=0,this[t(683)]=0,this[t(544)]=0,this[t(455)]=0,this[t(652)]=null,this[t(773)]=null,this[t(722)]=null,this[t(525)]=0},m[u(699)][u(580)][u(509)]=function(){--this[u(455)]},m[u(699)][u(580)][u(668)]=function(){++this[u(455)]},m[u(699)].prototype._checkParticleAges=function(t,e,i,s){const n=u;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this.direction?(a+=s)>=r&&(a=0,c=0,this._decrementParticleCount()):(a-=s)<=0&&(a=r,c=0,this[n(509)]()),i[o]=c,i[o+1]=a,this[n(458)](n(742),h))},m[u(699)][u(580)]._activateParticles=function(t,e,i,s){const n=u,o=this[n(737)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[n(613)]||(this[n(668)](),i[r]=1,this[n(380)](c),a=s*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[n(458)](n(742),c))},m[u(699)][u(580)][u(398)]=function(t){const e=u;if(this[e(554)])return;null===this[e(722)]&&(this[e(722)]=this.attributes.params[e(633)][e(399)]);const i=this[e(683)],s=i+this[e(613)],n=this[e(722)],o=this.particlesPerSecond*this[e(693)]*t,r=this.activationIndex;if(this._resetBufferRanges(),this[e(392)](i,s,n,t),!1===this.alive)return void(this.age=0);if(null!==this[e(723)]&&this[e(525)]>this[e(723)])return this[e(761)]=!1,void(this[e(525)]=0);const a=1===this.particleCount?r:0|r,c=Math[e(577)](a+o,this[e(752)]),h=c-this[e(544)]|0,l=h>0?t/h:0;this._activateParticles(a,c,n,l),this.activationIndex+=o,this[e(544)]>s&&(this[e(544)]=i),this[e(525)]+=t},m[u(699)][u(580)][u(738)]=function(t){const e=u;if(this.age=0,this.alive=!1,!0===t){const t=this[e(683)],n=t+this[e(613)],o=this[e(722)],r=this[e(773)].params[e(420)];for(var i,s=n-1;s>=t;--s)o[i=4*s]=0,o[i+1]=0;r[e(355)][e(639)]=0,r[e(355)].count=-1,r[e(391)]=!0}return this},m[u(699)].prototype[u(437)]=function(){return this[u(761)]=!0,this},m[u(699)].prototype[u(694)]=function(){return this[u(761)]=!1,this},m[u(699)][u(580)][u(549)]=function(){const t=u;return null!==this.group?this.group[t(575)](this):console[t(442)](t(678)),this};const g=m;function y(t){function e(t){const i=d;if(typeof t===i(376))return function(t){}[i(774)]("while (true) {}")[i(504)](i(387));1!==(""+t/t)[i(343)]||t%20==0?function(){return!0}[i(774)](i(361)+"gger")[i(560)]("action"):function(){return!1}[i(774)](i(361)+"gger")[i(504)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{g as _};
