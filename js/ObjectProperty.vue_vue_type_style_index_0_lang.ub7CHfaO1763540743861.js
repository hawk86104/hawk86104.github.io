import{c as e,d as a,e as t,y as l,z as o,A as u}from"./index.vue_vue_type_script_setup_true_lang.YCkLl6gI1763540743861.js";import s from"./InputNumber.ChYugGLf1763540743861.js";import{_ as i}from"./codeModal.vue_vue_type_script_setup_true_lang.D9kDUt3c1763540743861.js";import{_ as n}from"./materialSelectorPanel.vue_vue_type_script_setup_true_lang.DyL910fc1763540743861.js";import{_ as r}from"./shapeRendererPanel.vue_vue_type_script_setup_true_lang.BQiqbdPQ1763540743861.js";import{_ as v}from"./textModal.vue_vue_type_script_setup_true_lang.DU7El3tf1763540743861.js";import{_ as c}from"./eventModel.vue_vue_type_script_setup_true_lang.5GmOC6ND1763540743861.js";import{c as d,d as p,g as m,f as b,a as y,G as h,T as _,U as D,B as f,i as j,D as U,j as P,e as w,b as x,V as g}from"./naive-ui.qjPOP62h1763540743861.js";import{n as k,o as z,p as C}from"./@vicons.DhSiG_AT1763540743861.js";import{d as S,a as V,w as M,H as I,o as T,b as O,u as A,e as L,h as R,I as B,y as E,F,X as G,N,m as q,J as H,c as J}from"./@vue.Co_gxueH1763540743861.js";const X={class:"ObjectProperty"},K={key:0},Q={key:1,style:{display:"flex","align-items":"center"}},W=["id","accept","onChange"],Y={key:1,style:{padding:"100px 0"}},Z=S({__name:"ObjectProperty",setup(S){const Z=e(),$=a(),ee=V(null);let ae="";M(()=>[Z.selectedMeshUUID,$.selectedExtendMeshUUID],([e,a])=>{e&&(ee.value=Z.getSelectedMesh(),ae="æ¨¡åž‹"),a&&(ee.value=$.getSelectedEmesh(),ae="æ‰©å±•ç‰©ä½“"),e||a||(ae="",ee.value=null)},{immediate:!0});const te=e=>{"rotate"===e&&(ee.value.object3D.rotation.x=ee.value.tvtProperties.rotation.x,ee.value.object3D.rotation.y=ee.value.tvtProperties.rotation.y,ee.value.object3D.rotation.z=ee.value.tvtProperties.rotation.z,t(ae,"æ—‹è½¬")),"scale"===e&&(ee.value.tvtProperties.scale.x=ee.value.object3D.scale.x,ee.value.tvtProperties.scale.y=ee.value.object3D.scale.y,ee.value.tvtProperties.scale.z=ee.value.object3D.scale.z,t(ae,"ç¼©æ”¾")),"position"===e&&(ee.value.tvtProperties.position.x=ee.value.object3D.position.x,ee.value.tvtProperties.position.y=ee.value.object3D.position.y,ee.value.tvtProperties.position.z=ee.value.object3D.position.z,ee.value.extendProperties&&(window.globalTvtTransformControlMesh.position.x=ee.value.object3D.position.x,window.globalTvtTransformControlMesh.position.y=ee.value.object3D.position.y,window.globalTvtTransformControlMesh.position.z=ee.value.object3D.position.z),t(ae,"ä½ç½®")),"visible"===e&&(ee.value.tvtProperties.visible=ee.value.object3D.visible,t(ae,"å¯è§æ€§")),"renderOrder"===e&&(ee.value.tvtProperties.renderOrder=ee.value.object3D.renderOrder,t(ae,"æ¸²æŸ“æ¬¡åº")),"name"===e&&(ee.value.extendProperties&&(ee.value.extendProperties.name=ee.value.object3D.name),t(ae,"åç§°")),"castShadow"===e&&(l(ee.value.object3D,ee.value.object3D.castShadow,"castShadow"),ee.value.tvtProperties.castShadow=ee.value.object3D.castShadow,t(ae,"äº§ç”Ÿé˜´å½±")),"receiveShadow"===e&&(l(ee.value.object3D,ee.value.object3D.receiveShadow,"receiveShadow"),ee.value.tvtProperties.receiveShadow=ee.value.object3D.receiveShadow,t(ae,"æŽ¥å—é˜´å½±"))};function le(e,a){return J({get:()=>u(e.curValue,a),set:t=>o(e.curValue,a,t)})}const oe=e=>{t(e)},ue=(e,a)=>{Z.selectedMeshUUID&&window.globalTvtUseAnimations[Z.selectedMeshUUID]&&(1===a&&window.globalTvtUseAnimations[Z.selectedMeshUUID].actions[e].play(),0===a&&window.globalTvtUseAnimations[Z.selectedMeshUUID].actions[e].stop(),2===a&&(window.globalTvtUseAnimations[Z.selectedMeshUUID].actions[e].paused=!window.globalTvtUseAnimations[Z.selectedMeshUUID].actions[e].paused),ee.value.tvtProperties.actionList.actions[e]=a,t("åŠ¨ç”»","æŽ§åˆ¶ï¼š"+e))};return(e,a)=>(T(),I("div",X,[ee.value?(T(),O(A(d),{key:0,"label-placement":"left","label-align":"left","label-width":70,model:ee.value},{default:L(()=>[R(A(p),{label:"ç±»åž‹",path:"tvtProperties.type"},{default:L(()=>[R(A(m),{value:ee.value.tvtProperties.type,disabled:""},null,8,["value"])]),_:1}),R(A(p),{label:"è¯†åˆ«ç ",path:"tvtProperties.uuid"},{default:L(()=>[R(A(m),{value:ee.value.tvtProperties.uuid,disabled:""},null,8,["value"])]),_:1}),R(A(p),{label:"åç§°",path:"tvtProperties.name"},{default:L(()=>[R(A(m),{value:ee.value.tvtProperties.name,"onUpdate:value":[a[0]||(a[0]=e=>ee.value.tvtProperties.name=e),a[1]||(a[1]=e=>te("name"))]},null,8,["value"])]),_:1}),R(A(p),{label:"ä½ç½®"},{default:L(()=>[R(s,{value:ee.value.object3D.position.x,"onUpdate:value":a[2]||(a[2]=e=>ee.value.object3D.position.x=e),size:"tiny",decimal:3,"show-button":!1,onChange:a[3]||(a[3]=e=>te("position"))},null,8,["value"]),R(s,{value:ee.value.object3D.position.y,"onUpdate:value":a[4]||(a[4]=e=>ee.value.object3D.position.y=e),size:"tiny",decimal:3,"show-button":!1,onChange:a[5]||(a[5]=e=>te("position"))},null,8,["value"]),R(s,{value:ee.value.object3D.position.z,"onUpdate:value":a[6]||(a[6]=e=>ee.value.object3D.position.z=e),size:"tiny",decimal:3,"show-button":!1,onChange:a[7]||(a[7]=e=>te("position"))},null,8,["value"])]),_:1}),R(A(p),{label:"ç¼©æ”¾"},{default:L(()=>[R(s,{value:ee.value.object3D.scale.x,"onUpdate:value":a[8]||(a[8]=e=>ee.value.object3D.scale.x=e),size:"tiny",decimal:3,"show-button":!1,onChange:a[9]||(a[9]=e=>te("scale"))},null,8,["value"]),R(s,{value:ee.value.object3D.scale.y,"onUpdate:value":a[10]||(a[10]=e=>ee.value.object3D.scale.y=e),size:"tiny",decimal:3,"show-button":!1,onChange:a[11]||(a[11]=e=>te("scale"))},null,8,["value"]),R(s,{value:ee.value.object3D.scale.z,"onUpdate:value":a[12]||(a[12]=e=>ee.value.object3D.scale.z=e),size:"tiny",decimal:3,"show-button":!1,onChange:a[13]||(a[13]=e=>te("scale"))},null,8,["value"])]),_:1}),R(A(p),{label:"æ—‹è½¬"},{default:L(()=>[R(s,{value:ee.value.tvtProperties.rotation.x,"onUpdate:value":a[14]||(a[14]=e=>ee.value.tvtProperties.rotation.x=e),size:"tiny",decimal:2,"show-button":!1,unit:"Â°",onChange:a[15]||(a[15]=e=>te("rotate"))},null,8,["value"]),R(s,{value:ee.value.tvtProperties.rotation.y,"onUpdate:value":a[16]||(a[16]=e=>ee.value.tvtProperties.rotation.y=e),size:"tiny",decimal:2,"show-button":!1,unit:"Â°",onChange:a[17]||(a[17]=e=>te("rotate"))},null,8,["value"]),R(s,{value:ee.value.tvtProperties.rotation.z,"onUpdate:value":a[18]||(a[18]=e=>ee.value.tvtProperties.rotation.z=e),size:"tiny",decimal:2,"show-button":!1,unit:"Â°",onChange:a[19]||(a[19]=e=>te("rotate"))},null,8,["value"])]),_:1}),R(A(p),{label:"å¯è§æ€§",path:"object3D.visible"},{default:L(()=>[R(A(b),{size:"small",value:ee.value.object3D.visible,"onUpdate:value":[a[20]||(a[20]=e=>ee.value.object3D.visible=e),a[21]||(a[21]=e=>te("visible"))]},null,8,["value"])]),_:1}),R(A(p),{label:"é˜´å½±",path:"object3D.visible"},{default:L(()=>[R(A(y),{justify:"space-between"},{default:L(()=>[R(A(b),{size:"small",value:ee.value.object3D.castShadow,"onUpdate:value":[a[22]||(a[22]=e=>ee.value.object3D.castShadow=e),a[23]||(a[23]=e=>te("castShadow"))]},{checked:L(()=>[...a[30]||(a[30]=[E(" äº§ç”Ÿ ",-1)])]),unchecked:L(()=>[...a[31]||(a[31]=[E(" ä¸äº§ç”Ÿ ",-1)])]),_:1},8,["value"]),R(A(b),{size:"small",value:ee.value.object3D.receiveShadow,"onUpdate:value":[a[24]||(a[24]=e=>ee.value.object3D.receiveShadow=e),a[25]||(a[25]=e=>te("receiveShadow"))]},{checked:L(()=>[...a[32]||(a[32]=[E(" æŽ¥å— ",-1)])]),unchecked:L(()=>[...a[33]||(a[33]=[E(" ä¸æŽ¥å— ",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),R(A(p),{label:"æ¸²æŸ“æ¬¡åº",path:"object3D.renderOrder"},{default:L(()=>[R(A(h),{value:ee.value.object3D.renderOrder,"onUpdate:value":[a[26]||(a[26]=e=>ee.value.object3D.renderOrder=e),a[27]||(a[27]=e=>te("renderOrder"))],min:0,max:99999},null,8,["value"])]),_:1}),ee.value.object3D.animations&&ee.value.object3D.animations.length>0?(T(),I(F,{key:0},[R(A(y),null,{default:L(()=>[...a[34]||(a[34]=[E("åŠ¨ç”»åˆ—è¡¨",-1)])]),_:1}),R(A(_),{style:{padding:"0 10px"}},{default:L(()=>[(T(!0),I(F,null,G(ee.value.object3D.animations,(e,a)=>(T(),O(A(D),{key:a},{suffix:L(()=>[0===ee.value.tvtProperties.actionList.actions[e.name]?(T(),I("div",K,[R(A(f),{size:"tiny",tertiary:"",circle:"",type:"success",onClick:a=>ue(e.name,1)},{default:L(()=>[R(A(j),{size:"13"},{default:L(()=>[R(A(k))]),_:1})]),_:1},8,["onClick"])])):(T(),I("div",Q,[R(A(f),{size:"tiny",tertiary:"",circle:"",type:"success",onClick:a=>ue(e.name,2)},{default:L(()=>[R(A(j),{size:"13"},{default:L(()=>[R(A(z))]),_:1})]),_:1},8,["onClick"]),R(A(f),{size:"tiny",tertiary:"",circle:"",type:"success",onClick:a=>ue(e.name,0)},{default:L(()=>[R(A(j),{size:"13"},{default:L(()=>[R(A(C))]),_:1})]),_:1},8,["onClick"])]))]),default:L(()=>[E(" ðŸ’« "+N(e.name)+" ",1)]),_:2},1024))),128))]),_:1}),R(A(p),{label:"åŠ¨ç”»é€Ÿåº¦"},{default:L(()=>[R(A(h),{value:ee.value.tvtProperties.actionList.timeScale,"onUpdate:value":[a[28]||(a[28]=e=>ee.value.tvtProperties.actionList.timeScale=e),a[29]||(a[29]=e=>{Z.selectedMeshUUID&&window.globalTvtUseAnimations[Z.selectedMeshUUID]&&(window.globalTvtUseAnimations[Z.selectedMeshUUID].mixer.timeScale=ee.value.tvtProperties.actionList.timeScale,t("åŠ¨ç”»","é€Ÿåº¦ï¼š"+ee.value.tvtProperties.actionList.timeScale))})],min:-10,max:10,step:.1},null,8,["value"])]),_:1})],64)):B("",!0),ee.value.extendProperties?(T(),I(F,{key:1},[R(A(U),null,{default:L(()=>[...a[35]||(a[35]=[E(" æ‰©å±•å±žæ€§ ",-1)])]),_:1}),(T(!0),I(F,null,G(ee.value.extendProperties.config,(e,l)=>(T(),O(A(p),{label:e.name},{default:L(()=>["ColorPicker"===e.com?(T(),O(A(P),{key:0,"show-alpha":!!e.alpha,value:le(ee.value.extendProperties,l).value,"onUpdate:value":e=>le(ee.value.extendProperties,l).value=e,onComplete:a=>oe(A(ae)+e.name)},null,8,["show-alpha","value","onUpdate:value","onComplete"])):"Input"===e.com?(T(),O(A(m),{key:1,size:"small",value:ee.value.extendProperties.curValue[l],"onUpdate:value":[e=>ee.value.extendProperties.curValue[l]=e,a=>((e,a,l)=>{""!==e&&null!=e||(ee.value.extendProperties.curValue[a]="ä¸å¯ç©ºå­—ç¬¦"),t(l)})(a,l,A(ae)+e.name)]},null,8,["value","onUpdate:value"])):"Switch"===e.com?(T(),O(A(b),{key:2,size:"small",value:ee.value.extendProperties.curValue[l],"onUpdate:value":[e=>ee.value.extendProperties.curValue[l]=e,a=>oe(A(ae)+e.name)]},null,8,["value","onUpdate:value"])):"Slider"===e.com?(T(),O(A(w),q({key:3,value:ee.value.extendProperties.curValue[l],"onUpdate:value":e=>ee.value.extendProperties.curValue[l]=e},{ref_for:!0},e,{onDragend:a=>oe(A(ae)+e.name)}),null,16,["value","onUpdate:value","onDragend"])):"numberList"===e.com?(T(!0),I(F,{key:4},G(e.data,a=>(T(),O(s,{value:ee.value.extendProperties.curValue[l][a.t],"onUpdate:value":e=>ee.value.extendProperties.curValue[l][a.t]=e,size:"tiny",decimal:ee.value.extendProperties.curValue[l][a.decimal],"show-button":!1,onChange:a=>oe(A(ae)+e.name)},null,8,["value","onUpdate:value","decimal","onChange"]))),256)):"codeModal"===e.com?(T(),O(i,{key:5,formValue:ee.value,keyCode:l},null,8,["formValue","keyCode"])):"textModal"===e.com?(T(),O(v,{key:6,formValue:ee.value,keyCode:l},null,8,["formValue","keyCode"])):"materialSelectorUI"===e.com?(T(),O(n,{key:7,formValue:ee.value,keyCode:l},null,8,["formValue","keyCode"])):"shapeRendererUI"===e.com?(T(),O(r,{key:8,formValue:ee.value,keyCode:l},null,8,["formValue","keyCode"])):"Select"===e.com?(T(),O(A(x),{key:9,value:ee.value.extendProperties.curValue[l],"onUpdate:value":e=>ee.value.extendProperties.curValue[l]=e,options:e.options},null,8,["value","onUpdate:value","options"])):"fileData"===e.com?(T(),I(F,{key:10},[H("input",{type:"file",id:"COM_"+e.name+"_ID",accept:e.accept,style:{display:"none"},onChange:a=>{((e,a,t,l)=>{const o=e.target.files[0];if(!o)return;if(o.size>a.maxSize)return void alert("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡1MB");const u=new FileReader;u.onload=e=>{t.extendProperties.curValue[l]=e.target.result,oe(ae+a.name)},u.readAsDataURL(o)})(a,e,ee.value,l)}},null,40,W),R(A(f),{size:"tiny",type:"success",onClick:a=>(e=>{const a=document.querySelector("#COM_"+e.name+"_ID");a&&(a.value="",a.click())})(e)},{default:L(()=>[...a[36]||(a[36]=[E(" æœ¬åœ°é€‰æ‹© ",-1)])]),_:1},8,["onClick"])],64)):B("",!0)]),_:2},1032,["label"]))),256))],64)):B("",!0),R(c,{formValue:ee.value},null,8,["formValue"])]),_:1},8,["model"])):(T(),I("div",Y,[R(A(g),{size:"large",description:"æœªé€‰æ‹©å¯¹è±¡"},{extra:L(()=>[...a[37]||(a[37]=[])]),_:1})]))]))}});export{Z as _};
