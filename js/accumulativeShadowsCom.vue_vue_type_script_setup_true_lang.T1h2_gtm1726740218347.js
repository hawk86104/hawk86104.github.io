import{_ as t,h as n}from"./three.MbBECAu81726740218347.js";import{p as e}from"./@tresjs.C5O8roW51726740218347.js";import{d as o,P as a}from"./@pmndrs.WMHo6lO61726740218347.js";import{d as r,b as s,w as i,a3 as c,o as u,E as l,L as p,aj as d,ak as h}from"./@vue.JNsx1iN61726740218347.js";const f=g;!function(t,n){const e=g,o=y();for(;;)try{if(225337===parseInt(e(486))/1+-parseInt(e(525))/2+-parseInt(e(554))/3*(-parseInt(e(501))/4)+-parseInt(e(553))/5+-parseInt(e(496))/6+parseInt(e(539))/7+-parseInt(e(552))/8)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=g,n=new RegExp(t(558)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=S(t(545));n[t(505)](o+t(562))&&e[t(505)](o+"input")?S():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=y();return(g=function(t,n){return e[t-=481]})(t,n)}w(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(527)+t(506)+");")()}catch(e){n=window}return n}(),e=n[t(556)]=n[t(556)]||{},o=[t(561),t(549),t(524),"error","exception","table","trace"];for(let a=0;a<o[t(513)];a++){const n=w[t(522)][t(484)][t(559)](w),r=o[a],s=e[r]||n;n[t(529)]=w[t(559)](w),n[t(488)]=s[t(488)][t(559)](s),e[r]=n}}))();const b=[f(535)],M=p(f(550),{args:[1,1]},null,-1);function y(){const t=["393858EueYEJ","remove","toString","left","shadows render end","gPlane","opacity","update","TresSoftShadowMaterial","Vector3","1064700OdUnDa","size","counter","sin","ambient","1340468Ecgyxa","set","camera","call","test",'{}.constructor("return this")( )',"lightPosition","shadow","abs","texture","prepare","accumulativeShadowsCom","length","castShadow","amount","height","alphaTest","intensity","cos","randFloatSpread","width","constructor","blend","info","641260XaZFzp","clear","return (function() ","material","__proto__","DirectionalLight","MathUtils","blendWindow","color","right","rotate-x","radius","position","random","2506133nruGDZ","near","children","acos","string","Group","init","apply","add","while (true) {}","warn","TresPlaneGeometry","gger","955704izSoAh","1220570ivBnYn","3lMTvPn","shadows plm update","console","mapSize","function *\\( *\\)","bind","frames","log","chain","bottom","top","debu","prototype","value"];return(y=function(){return t})()}const z=r({__name:f(512),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=f,w=r;let g=s();const{extend:y,scene:z,renderer:S,camera:x}=e();y({SoftShadowMaterial:o});const I={position:(new(t[m(495)]))[m(502)](w[m(507)].x,w[m(507)].y,w[m(507)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new a(S[m(485)],z.value,I[m(557)]),_={map:P.progressiveLightMap2[m(510)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[m(523)],alphaTest:w.alphaTest,opacity:w[m(492)],color:w[m(533)]},v=new(t[m(544)]);for(let n=0;n<I[m(515)];n++){const n=new(t[m(530)])(16777215,I[m(518)]/I.amount);n[m(514)]=!0,n[m(508)].bias=I.bias,n[m(508)].camera[m(540)]=I[m(540)],n[m(508)][m(503)].far=I.far,n.shadow[m(503)][m(534)]=I.size/2,n[m(508)][m(503)][m(489)]=-I[m(497)]/2,n.shadow[m(503)][m(482)]=I[m(497)]/2,n.shadow[m(503)][m(481)]=-I[m(497)]/2,n.shadow[m(557)][m(521)]=I[m(557)],n.shadow.mapSize[m(516)]=I[m(557)],v[m(547)](n)}const T=()=>{const e=m,o=I.position[e(513)]();for(let a=0;a<v.children.length;a++){const r=v[e(541)][a];if(Math[e(538)]()>w[e(500)])r[e(537)][e(502)](I.position.x+t[e(531)][e(520)](I[e(536)]),I.position.y+n.randFloatSpread(I[e(536)]),I[e(537)].z+t[e(531)].randFloatSpread(I[e(536)]));else{let t=Math[e(542)](2*Math.random()-1)-Math.PI/2,n=2*Math.PI*Math[e(538)]();r[e(537)][e(502)](Math[e(519)](t)*Math.cos(n)*o,Math[e(509)](Math[e(519)](t)*Math.sin(n)*o),Math[e(499)](t)*o)}}},j=(t=1)=>{const n=m;z[n(485)].add(v),P[n(511)]();for(let e=0;e<t;e++)T(),P[n(493)](x[n(485)],w[n(532)]),console[n(561)](n(555),e);z[n(485)][n(487)](v),P.finish()};i((()=>g[m(485)]),(t=>{const n=m;t&&(P.configure(t),P[n(526)](),console[n(561)]("shadows render start"),j(w[n(560)]),console.log(n(490)))}));const E=()=>{const t=m;P[t(526)](),j(w[t(560)])};return c((()=>{const t=m;g[t(485)]&&(w[t(492)]&&(g[t(485)].material[t(492)]=w[t(492)]),w[t(517)]&&(g[t(485)][t(528)].alphaTest=w[t(517)]),w[t(533)]&&g[t(485)][t(528)].color[t(502)](w[t(533)]),w.blend&&(g[t(485)][t(528)].blend=w[t(523)]))})),i((()=>w[m(507)]),(t=>{const n=m;t&&(console[n(561)](w.lightPosition),I[n(537)][n(502)](t.x,t.y,t.z),E())}),{deep:!0}),i((()=>[w[m(560)],w[m(532)],w.ambient]),(()=>{E()})),(t,n)=>{const e=m;return u(),l("TresMesh",{"receive-shadow":"",ref_key:e(491),ref:g,scale:10,"rotate-x":-Math.PI/2},[M,p(e(494),d(h(_)),null,16)],8,b)}}});function S(t){function n(t){const e=g;if(typeof t===e(543))return function(t){}[e(522)](e(548))[e(546)](e(498));1!==(""+t/t)[e(513)]||t%20==0?function(){return!0}.constructor(e(483)+e(551))[e(504)]("action"):function(){return!1}[e(522)](e(483)+"gger")[e(546)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{z as _};
