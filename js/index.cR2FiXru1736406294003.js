var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,f as u,s as a,F as f,V as h,M as l,B as p,Y as g,t as d,a as w,ak as v,aP as I,$ as b,cx as y}from"./three.jaHX2_hY1736406294003.js";import{t as m}from"./@mapbox.o6EaGFMR1736406294003.js";import{c as x,d as M,a as _}from"./three-mesh-bvh.H0JQq-uA1736406294003.js";import{z as j}from"./three-custom-shader-material.XndQbWGF1736406294003.js";const R=A;!function(t,n){const r=A,e=O();for(;;)try{if(481501===-parseInt(r(259))/1+parseInt(r(233))/2+-parseInt(r(213))/3+parseInt(r(248))/4+-parseInt(r(263))/5*(parseInt(r(255))/6)+parseInt(r(230))/7*(parseInt(r(268))/8)+-parseInt(r(222))/9*(parseInt(r(235))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[A(221)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Z(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(262),"i"),e=C(t(228));n[t(242)](e+t(260))&&r[t(242)](e+t(245))?C():e("0")}))()}();const k=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[A(221)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function A(t,n){const r=O();return(A=function(t,n){return r[t-=205]})(t,n)}k(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function("return (function() "+t(267)+");")()}catch(r){n=window}return n}(),r=n[t(239)]=n.console||{},e=[t(218),t(240),"info",t(249),"exception","table",t(244)];for(let o=0;o<e[t(211)];o++){const n=k[t(252)][t(256)].bind(k),i=e[o],s=r[i]||n;n[t(234)]=k[t(225)](k),n[t(261)]=s[t(261)][t(225)](s),r[i]=n}}))();class E extends c{constructor(){const t=A;super(),this[t(243)]=!1,this[t(238)]=!1,this[t(223)]=[],this.boundingBoxWorld=new u}[R(228)](t,n,r){const e=R;this[e(251)]=t,Object.freeze(this[e(251)]),this[e(208)]=n,this[e(237)]=r,this[e(210)]=!1,this[e(231)]=t[2],this[e(220)]()}async[R(220)](){const t=R;if(this.content=await this[t(208)].provider[t(209)](this.tileNo),!this.isDisposed){if(this[t(241)](this.content),this[t(216)][t(264)](this.content)[t(229)](this[t(217)].makeRotationX(-Math.PI/2)),this[t(208)].add(this),this[t(210)]=!0,this[t(238)]=!0,this[t(237)]){const n=this[t(237)][t(223)];let r=0;for(let t=0;t<n.length;t++)n[t].isReady&&r++;4===r&&(this[t(237)].visible=!1)}this[t(219)]()}}[R(219)](){const t=R;if(!this[t(238)]||this[t(243)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(208)];if(!n[t(246)](this[t(216)]))return void this[t(257)]();this[t(207)]instanceof a&&this.map[t(226)][t(224)]&&(this[t(207)][t(265)][t(214)][t(206)][t(247)]=this.map[t(226)][t(269)]());let e=this[t(216)][t(236)](r);const o=this.tileNo[2];e/=Math.pow(2,this.map[t(226)][t(212)]-o),e<60&&this[t(205)](),e>80&&this[t(257)]();this[t(223)][t(254)](((n,e)=>n.boundingBoxWorld[t(236)](r)-e[t(216)][t(236)](r)))[t(253)]((n=>n[t(219)]()))}subdivide(){const t=R,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(211)]>0||i>=e[t(212)])return;m.getChildren(r)[t(253)]((t=>{const n=new E;n.init(t,e,this),o.push(n)}))}simplify(){const t=R;this[t(223)][t(253)]((t=>t.dispose())),this[t(223)]=[],this[t(210)]=!0}dispose(){const t=R;this[t(208)].remove(this),this[t(208)][t(226)][t(232)](this[t(251)]),this[t(223)][t(253)]((n=>n[t(215)]())),this.childrenTiles=[],this[t(237)]=void 0,this.content&&(this[t(208)][t(226)][t(215)](this[t(251)],this.content),this.content=void 0),this[t(243)]=!0}}function O(){const t=["__proto__","3090knohXX","distanceToPoint","parentTile","isReady","console","warn","add","test","isDisposed","trace","input","intersectsBox","value","1001280gsekwr","error","while (true) {}","tileNo","constructor","forEach","sort","1878504eRRqjR","prototype","simplify","action","209132LjJUXx","chain","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5oJHOXb","setFromObject","material","string",'{}.constructor("return this")( )',"184geOdSS","getTranMatrix","debu","subdivide","t_Matrix","content","map","getTile","visible","length","maxZoom","1963644pACOjf","uniforms","dispose","boundingBoxWorld","matrixWorld","log","update","ready","apply","5661bdcbLO","childrenTiles","filter","bind","provider","call","init","applyMatrix4","248731OhKmcN","renderOrder","abort","1570094ibUZeE"];return(O=function(){return t})()}function C(t){function n(t){const r=A;if(typeof t===r(266))return function(t){}[r(252)](r(250))[r(221)]("counter");1!==(""+t/t)[r(211)]||t%20==0?function(){return!0}[r(252)](r(270)+"gger")[r(227)](r(258)):function(){return!1}[r(252)]("debugger")[r(221)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const F=P;!function(t,n){const r=P,e=T();for(;;)try{if(899306===parseInt(r(320))/1+parseInt(r(329))/2*(parseInt(r(318))/3)+-parseInt(r(316))/4+parseInt(r(352))/5*(parseInt(r(308))/6)+parseInt(r(309))/7*(parseInt(r(359))/8)+parseInt(r(336))/9+-parseInt(r(305))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const S=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){S(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(319),"i"),e=B(t(326));n[t(323)](e+t(341))&&r.test(e+t(340))?B():e("0")}))()}();const z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[P(324)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function T(){const t=["cameraFrustum","bbox","238632gTmKsh","49462EiBGTs","[Map.regenerate] Method not implemented.","warn","forEach","rootForward needs to be 0 - 3.","dispose","exception","5467036jBwnta","error","156KLkukK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","173587KCzDmN","gger","now","test","apply","camera","init","console",'{}.constructor("return this")( )',"39460brGQsj","projectionMatrix","disposeBoundsTree","debu","maxZoom","lastCameraProjectionMatrix","constructor","1889010phhoMV","__proto__","rootForward","update","input","chain","copy","while (true) {}","length","lastCameraWorldPosition","push","info","getWorldPosition","counter","cameraProjectionMatrix","toString","95AfHhMl","prototype","multiplyMatrices","call","lastUpdateTime","return (function() ","computeBoundsTree","208djomsL","rootTiles","bind","initRootTiles","cameraWorldPosition","matrixWorldInverse","827560lrOZLo"];return(T=function(){return t})()}function P(t,n){const r=T();return(P=function(t,n){return r[t-=304]})(t,n)}z(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(357)+t(328)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(327)]||{},e=["log",t(311),t(347),t(317),t(315),"table","trace"];for(let o=0;o<e.length;o++){const n=z[t(335)][t(353)][t(361)](z),i=e[o],s=r[i]||n;n[t(337)]=z.bind(z),n[t(351)]=s.toString[t(361)](s),r[i]=n}}))();let W=class extends c{constructor(){const t=P;super(),this[t(307)]=[74.390592,6.900905,134.071423,54.318199],this[t(333)]=20,this[t(338)]=0,this[t(306)]=new f,this.cameraWorldPosition=new h,this[t(350)]=new l,this[t(334)]=new l,this[t(345)]=new h,this[t(360)]=[],this[t(356)]=0,!p[t(353)].computeBoundsTree&&(p.prototype[t(358)]=x),!p[t(353)][t(331)]&&(p[t(353)][t(331)]=M),a.prototype.raycast=_}[F(362)](){const t=F;this[t(338)]>3&&(console.warn(t(313)),this[t(338)]=3),this[t(338)]<0&&(console[t(311)](t(313)),this[t(338)]=0);const n=[];let r=[m.bboxToTile(this.bbox)],e=this.rootForward;for(;e>0;){const n=[...r];r=[],n[t(312)]((t=>{const n=m.getChildren(t);r.push(...n)})),e--}n[t(346)](...r),n[t(312)]((n=>{const r=t,e=new E;e[r(326)](n,this),this[r(360)][r(346)](e)}))}update(){const t=F;if(!this.visible||!this[t(325)])return;const n=Date[t(322)]();n-this[t(356)]<300||(0!==this[t(360)][t(344)]?(this.camera[t(348)](this[t(363)]),this.cameraProjectionMatrix[t(354)](this[t(325)][t(330)],this[t(325)][t(304)]),this[t(363)].equals(this.lastCameraWorldPosition)&&this[t(350)].equals(this[t(334)])||(this.cameraFrustum.setFromProjectionMatrix(this[t(350)]),this[t(360)][t(312)]((n=>n[t(339)]())),this[t(334)].copy(this.cameraProjectionMatrix),this[t(345)][t(342)](this[t(363)]),this.lastUpdateTime=n)):this.initRootTiles())}[F(314)](){throw new Error("[Map.dispose] Method not implemented.")}regenerate(){throw new Error(F(310))}};function B(t){function n(t){const r=P;if("string"==typeof t)return function(t){}.constructor(r(343))[r(324)](r(349));1!==(""+t/t)[r(344)]||t%20==0?function(){return!0}[r(335)](r(332)+r(321))[r(355)]("action"):function(){return!1}[r(335)]("debu"+r(321))[r(324)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function U(t,n){const r=D();return(U=function(t,n){return r[t-=190]})(t,n)}function D(){const t=["test","4447360Hoqjoz","input","414804ACfMum","has","ready","length","then","bind","promise","__proto__","112386BjlGvd","111FaUfbd","4048330iXtNmi","trace","while (true) {}","constructor","string","function *\\( *\\)","counter","debu","catch","warn","info","User abort.","_controller","exception","fetch","stateObject","clone","init","16132SCDWvy","493352nWbQYw","url","toString","prototype","reject","105RzhiyD","log","console","listeners","resolve","abort","1004934zFkMjp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","apply","get","pendings","18MYUeLw","add","delete"];return(D=function(){return t})()}const N=U;!function(t,n){const r=U,e=D();for(;;)try{if(728647===parseInt(r(234))/1+-parseInt(r(194))/2+-parseInt(r(203))/3*(parseInt(r(222))/4)+parseInt(r(192))/5+-parseInt(r(202))/6*(parseInt(r(228))/7)+parseInt(r(223))/8*(-parseInt(r(240))/9)+-parseInt(r(204))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[U(237)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){$(this,(function(){const t=U,n=new RegExp(t(209)),r=new RegExp(t(235),"i"),e=q("init");n[t(191)](e+"chain")&&r[t(191)](e+t(193))?q():e("0")}))()}();const X=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[U(237)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();X(void 0,(function(){const t=U,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n[t(230)]=n[t(230)]||{},e=[t(229),t(213),t(214),"error",t(217),"table",t(205)];for(let o=0;o<e.length;o++){const n=X[t(207)][t(226)][t(199)](X),i=e[o],s=r[i]||n;n[t(201)]=X.bind(X),n.toString=s[t(225)].bind(s),r[i]=n}}))();const L=class t{constructor(){this[U(216)]=new AbortController,this.listeners=new Set}[N(218)](c,u={}){const a=N;var f,h;t.pendings[a(195)](c)||(t[a(239)].set(c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this._controller.signal},n(f,r(h))))[a(198)]((t=>{const n=a;this[n(231)].forEach((r=>r[n(232)](t[n(220)]())))}))[a(212)]((t=>{const n=a;this[n(231)].forEach((r=>r[n(227)](t)))})).finally((()=>{t.pendings.delete(c)})))}[N(233)](){const t=N;this[t(216)][t(233)]()}};L.pendings=new Map;let K=L;class J{constructor(t,n){const r=N;this.url=t,this.init=n,this[r(200)]=new Promise(((t,n)=>{const e=r;this.resolve=t,this[e(227)]=n}))}[N(196)](){const t=N;let n=K[t(239)][t(238)](this[t(224)]);return!n&&(n=new K,n[t(218)](this.url,this[t(221)])),n[t(231)][t(241)](this),this.promise}[N(233)](){const t=N;this.reject(t(215));const n=K[t(239)].get(this.url);n&&(n[t(231)][t(190)](this),0===n[t(231)].size&&n.abort())}}function q(t){function n(t){const r=U;if(typeof t===r(208))return function(t){}.constructor(r(206))[r(237)](r(210));1!==(""+t/t)[r(197)]||t%20==0?function(){return!0}[r(207)](r(211)+r(236)).call("action"):function(){return!1}[r(207)](r(211)+r(236))[r(237)](r(219)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=H,e=Y();for(;;)try{if(541906===-parseInt(r(268))/1*(parseInt(r(274))/2)+parseInt(r(281))/3+parseInt(r(286))/4+-parseInt(r(296))/5+parseInt(r(277))/6*(-parseInt(r(273))/7)+-parseInt(r(276))/8+parseInt(r(310))/9*(parseInt(r(301))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const G=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[H(300)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){G(this,(function(){const t=H,n=new RegExp(t(302)),r=new RegExp(t(307),"i"),e=tt(t(308));n[t(314)](e+t(271))&&r[t(314)](e+t(299))?tt():e("0")}))()}();const Q=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[H(300)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Y(){const t=["prototype","string","debu","400527DoEvyA","ready","console","action","log","3534232qjnZve","font","info","return (function() ","bind","getContext","#44FF44","blob","stroke","while (true) {}","1991140yhPPyN","error","fillStyle","input","apply","420780znxCFG","function *\\( *\\)","table","strokeStyle","flipY",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","constructor","333BZdUEa","gger","#FF4444","length","test","__proto__","trace","363jIkowe","stateObject","#66AAFF","chain","counter","1421czNWtc","4016WElhTO","fillText","6831696EgDRDZ","1506nOmMWB"];return(Y=function(){return t})()}let V;function H(t,n){const r=Y();return(H=function(t,n){return r[t-=268]})(t,n)}function tt(t){function n(t){const r=H;if(typeof t===r(279))return function(t){}[r(309)](r(295))[r(300)](r(272));1!==(""+t/t)[r(313)]||t%20==0?function(){return!0}[r(309)](r(280)+r(311)).call(r(284)):function(){return!1}.constructor("debugger")[r(300)](r(269)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Q(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(289)+t(306)+");")()}catch(r){n=window}return n}(),r=n[t(283)]=n[t(283)]||{},e=[t(285),"warn",t(288),t(297),"exception",t(303),t(316)];for(let o=0;o<e[t(313)];o++){const n=Q[t(309)][t(278)].bind(Q),i=e[o],s=r[i]||n;n[t(315)]=Q[t(290)](Q),n.toString=s.toString[t(290)](s),r[i]=n}}))();const nt=it;!function(t,n){const r=it,e=et();for(;;)try{if(481517===-parseInt(r(502))/1*(-parseInt(r(490))/2)+parseInt(r(498))/3*(parseInt(r(512))/4)+parseInt(r(473))/5+-parseInt(r(511))/6+-parseInt(r(475))/7*(-parseInt(r(492))/8)+parseInt(r(514))/9+-parseInt(r(515))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function et(){const t=["chain","1799WhWFzO","error","set","table","data","return (function() ",'{}.constructor("return this")( )',"__proto__","get","init","counter","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","onMessage","map","30oavpnh","apply","7024CFnNxK","toString","function *\\( *\\)","input","test","constructor","1871433NKvPcB","console","prototype","postMessage","63415KDVRiZ","exception","call","length","string","while (true) {}","terminated","info","gger","5068908AUlJhF","4QSRihr","clear","7832097fCDntx","18276860bLtNKQ","trace","debu","bind","worker","onmessage","2415530bDDSKM"];return(et=function(){return t})()}!function(){rt(this,(function(){const t=it,n=new RegExp(t(494)),r=new RegExp(t(487),"i"),e=ct(t(484));n.test(e+t(474))&&r[t(496)](e+t(495))?ct():e("0")}))()}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[it(491)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function it(t,n){const r=et();return(it=function(t,n){return r[t-=468]})(t,n)}ot(void 0,(function(){const t=it;let n;try{n=Function(t(480)+t(481)+");")()}catch(o){n=window}const r=n[t(499)]=n[t(499)]||{},e=["log",t(486),t(509),t(476),t(503),t(478),t(468)];for(let i=0;i<e[t(505)];i++){const n=ot[t(497)][t(500)][t(470)](ot),o=e[i],s=r[o]||n;n[t(482)]=ot.bind(ot),n[t(493)]=s.toString[t(470)](s),r[o]=n}}))();class st{constructor(t){const n=it;this[n(508)]=!0,this[n(489)]=new Map,this[n(471)]=new t,this[n(471)][n(472)]=this[n(488)][n(470)](this),this[n(508)]=!1}async[nt(501)](t){const n=nt;if(!this[n(508)])return this[n(471)][n(501)](t),new Promise(((r,e)=>{const o=n;this[o(489)][o(477)](t.id,r)}))}[nt(488)](t){const n=nt,{id:r,error:e}=t[n(479)],o=this[n(489)][n(483)](r);o&&!e&&o(t.data),this[n(489)].delete(r)}terminate(){const t=nt;this.worker[t(472)]=null,this[t(471)].terminate(),this[t(508)]=!0,this[t(489)][t(513)]()}}function ct(t){function n(t){const r=it;if(typeof t===r(506))return function(t){}[r(497)](r(507)).apply(r(485));1!==(""+t/t)[r(505)]||t%20==0?function(){return!0}[r(497)](r(469)+r(510))[r(504)]("action"):function(){return!1}[r(497)](r(469)+"gger")[r(491)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=ft;function ft(t,n){const r=pt();return(ft=function(t,n){return r[t-=444]})(t,n)}!function(t,n){const r=ft,e=pt();for(;;)try{if(495639===-parseInt(r(489))/1*(parseInt(r(453))/2)+-parseInt(r(483))/3+parseInt(r(462))/4*(parseInt(r(476))/5)+-parseInt(r(452))/6+-parseInt(r(471))/7*(-parseInt(r(451))/8)+parseInt(r(461))/9*(parseInt(r(502))/10)+parseInt(r(494))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ft(487)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ht(this,(function(){const t=ft,n=new RegExp(t(499)),r=new RegExp(t(469),"i"),e=dt(t(503));n[t(463)](e+t(474))&&r[t(463)](e+"input")?dt():e("0")}))()}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function pt(){const t=["error","__proto__","gger","length","27sxOMQt","4vQFjyX","test","postMessage","getId","[x]","abort","terminate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","useWorker","14KZspIw","dispose","while (true) {}","chain","source","1245230TkjJEL","trace","exception","info","{x}","toString","stateObject","2160909cPfyiS","delete","image","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","apply","_worker","61JASsZt","console","showTileNo","fetching","get","12788864uECfaB","cors","string","getUrl","join","function *\\( *\\)","warn","set","2153750mbyDjf","init","constructor","bind","_useWorker","prototype","replace",'{}.constructor("return this")( )',"maxZoom","2590384CRvAeA","4408908HzVRjJ","24742JuSdvw","debu","{y}","log"];return(pt=function(){return t})()}lt(void 0,(function(){const t=ft,n=function(){const t=ft;let n;try{n=Function("return (function() "+t(449)+");")()}catch(r){n=window}return n}(),r=n[t(490)]=n[t(490)]||{},e=[t(456),t(500),t(479),t(457),t(478),"table",t(477)];for(let o=0;o<e[t(460)];o++){const n=lt[t(444)][t(447)].bind(lt),i=e[o],s=r[i]||n;n[t(458)]=lt[t(445)](lt),n.toString=s[t(481)][t(445)](s),r[i]=n}}))();class gt{constructor(){const t=ft;this[t(450)]=20,this[t(475)]=t(486),this[t(491)]=!1,this._useWorker=!1,this.fetching=new Map}set[at(470)](t){var n;const r=at;this[r(446)]=t,!this._useWorker&&(null==(n=this[r(488)])||n[r(468)](),this[r(488)]=void 0)}get[at(470)](){return this._useWorker}async getTile(t){const n=at,r=this[n(497)](t),e=new g;if(this[n(446)]){!this[n(488)]&&(this._worker=new st(ut));const o=this[n(465)](t),i=await this[n(488)][n(464)]({id:o,tileNo:t,url:r,debug:this.showTileNo});e[n(485)]=i.bitmap}else{const o=new J(r,{cache:"force-cache",mode:n(495)});this[n(492)][n(501)](t,o);try{e.image=await async function(t,n,r=!1){const e=H,o=await n[e(282)](),i=await o[e(293)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(305)});if(!r)return s;!V&&(V=new OffscreenCanvas(256,256));const c=V[e(291)]("2d");if(!c)throw new Error('Offscreencanvas.getContext("2d") error!');const{width:u,height:a}=V;return c.drawImage(s,0,0),c.rect(0,0,u,a),c[e(304)]="#00FFFF",c[e(287)]="20px Arial",c[e(294)](),c[e(298)]=e(312),c[e(275)](""+t[0],10,30),c[e(298)]=e(292),c[e(275)](""+t[1],10,55),c[e(298)]=e(270),c.fillText(""+t[2],10,80),await createImageBitmap(V,{imageOrientation:e(305)})}(t,o,this.showTileNo)}finally{this.fetching[n(484)](t)}}return e.needsUpdate=!0,e.anisotropy=4,e}abort(t){var n;const r=at;if(this._useWorker)null==(n=this[r(488)])||n[r(464)]({id:this[r(465)](t),abort:!0});else{const n=this[r(492)][r(493)](t);n&&n[r(467)](),this[r(492)].delete(t)}}[at(472)](t,n){n[at(472)]()}[at(465)](t){return t[at(498)]("-")}[at(497)](t){const n=at,[r,e,o]=t;return-1===this[n(475)].indexOf(n(466))?this[n(475)][n(448)](n(480),r+"")[n(448)](n(455),e+"")[n(448)]("{z}",o+""):this[n(475)][n(448)](n(466),r+"")[n(448)]("[y]",e+"")[n(448)]("[z]",o+"")}}function dt(t){function n(t){const r=ft;if(typeof t===r(496))return function(t){}[r(444)](r(473))[r(487)]("counter");1!==(""+t/t)[r(460)]||t%20==0?function(){return!0}[r(444)](r(454)+"gger").call("action"):function(){return!1}[r(444)](r(454)+r(459)).apply(r(482)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const wt=kt;!function(t,n){const r=kt,e=bt();for(;;)try{if(819266===parseInt(r(215))/1*(parseInt(r(190))/2)+-parseInt(r(182))/3*(parseInt(r(199))/4)+-parseInt(r(211))/5+parseInt(r(194))/6+parseInt(r(170))/7*(parseInt(r(210))/8)+-parseInt(r(214))/9+parseInt(r(202))/10*(parseInt(r(186))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const vt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[kt(208)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){vt(this,(function(){const t=kt,n=new RegExp(t(195)),r=new RegExp(t(166),"i"),e=Ft(t(206));n[t(181)](e+t(198))&&r[t(181)](e+t(172))?Ft():e("0")}))()}();const It=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[kt(208)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function bt(){const t=["gger","toString","table","test","135732XJaKkM","return (function() ","sqrt","tanh","6677Ltldoz","while (true) {}","__proto__","latitude ‘","2hrtwcn","bind","action","exp","7173006FVUoGo","function *\\( *\\)","debu","toFixed","chain","20EODJeD","abs","tan","7880jXxdJs","’ outside UTM limits",'{}.constructor("return this")( )',"atanh","init","log","apply","floor","363016ABsQMo","2704975ODVmoL","charAt","sinh","6252876tipZry","562051loqYLa","stateObject","asinh","info","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","CDEFGHJKLMNPQRSTUVWXX","sin","console","7YZufUZ","atan2","input","warn","cosh","cos","atan","constructor"];return(bt=function(){return t})()}It(void 0,(function(){const t=kt,n=function(){const t=kt;let n;try{n=Function(t(183)+t(204)+");")()}catch(r){n=window}return n}(),r=n[t(169)]=n[t(169)]||{},e=["log",t(173),t(218),"error","exception",t(180),t(219)];for(let o=0;o<e.length;o++){const n=It[t(177)].prototype.bind(It),i=e[o],s=r[i]||n;n[t(188)]=It.bind(It),n[t(179)]=s[t(179)][t(191)](s),r[i]=n}}))();const yt="utm",mt="merc",xt=6378137,Mt=Math.PI/180;function _t(t,n){const r=kt;return[xt*t*Mt,xt*Math[r(207)](Math[r(201)](.25*Math.PI+n*Mt*.5))]}function jt(t,n){const r=kt;let e=t/(xt*Math.PI)*180,o=n/(xt*Math.PI)*180;return o=180/Math.PI*(2*Math[r(176)](Math[r(193)](o*Math.PI/180))-Math.PI/2),[e,o]}function Rt(t){return t*Math.PI/180}function Zt(t){return 180*t/Math.PI}function kt(t,n){const r=bt();return(kt=function(t,n){return r[t-=166]})(t,n)}const At={a:6378137,b:6356752.314245,f:1/298.257223563},Et=wt(167);function Ot(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError(e(189)+n+e(203));let o=r||Math[e(209)]((t+180)/6)+1,i=Rt(6*(o-1)-180+3);const s=Et[e(212)](Math.floor(n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Rt(6)):32===o&&"X"===s&&t<9?(o--,i-=Rt(6)):32===o&&"X"===s&&t>=9?(o++,i+=Rt(6)):34===o&&"X"===s&&t<21?(o--,i-=Rt(6)):34===o&&"X"===s&&t>=21?(o++,i+=Rt(6)):36===o&&"X"===s&&t<33?(o--,i-=Rt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Rt(6));const c=Rt(n),u=Rt(t)-i,{a:a,f:f}=At,h=.9996,l=Math[e(184)](f*(2-f)),p=f/(2-f),g=p*p,d=p*g,w=p*d,v=p*w,I=p*v,b=Math[e(175)](u),y=Math[e(168)](u),m=Math[e(201)](c),x=Math[e(213)](l*Math.atanh(l*m/Math[e(184)](1+m*m))),M=m*Math[e(184)](1+x*x)-x*Math[e(184)](1+m*m),_=Math.atan2(M,b),j=Math[e(217)](y/Math[e(184)](M*M+b*b)),R=a/(1+p)*(1+1/4*g+1/64*w+1/256*I),Z=[null,.5*p-2/3*g+5/16*d+41/180*w-127/288*v+7891/37800*I,13/48*g-.6*d+557/1440*w+281/630*v-1983433/1935360*I,61/240*d-103/140*w+15061/26880*v+167603/181440*I,49561/161280*w-179/168*v+6601661/7257600*I,34729/80640*v-3418889/1995840*I,.6650675310896665*I];let k=_;for(let C=1;C<=6;C++)k+=Z[C]*Math[e(168)](2*C*_)*Math[e(174)](2*C*j);let A=j;for(let C=1;C<=6;C++)A+=Z[C]*Math[e(175)](2*C*_)*Math.sinh(2*C*j);let E=h*R*A,O=h*R*k;return E+=5e5,O<0&&(O+=1e7),[E,O]}function Ct(t,n,r){const e=wt,o=r||50,{a:i,f:s}=At,c=.9996,u=t-5e5,a=n,f=Math[e(184)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,w=h*d,v=i/(1+h)*(1+1/4*l+1/64*g+1/256*w),I=u/(c*v),b=a/(c*v),y=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*w,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*w,17/480*p-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=b;for(let T=1;T<=6;T++)m-=y[T]*Math[e(168)](2*T*b)*Math[e(174)](2*T*I);let x=I;for(let T=1;T<=6;T++)x-=y[T]*Math[e(175)](2*T*b)*Math.sinh(2*T*I);const M=Math.sinh(x),_=Math.sin(m),j=Math[e(175)](m),R=_/Math[e(184)](M*M+j*j);let Z=null,k=R;do{const t=Math.sinh(f*Math[e(205)](f*k/Math.sqrt(1+k*k))),n=k*Math.sqrt(1+t*t)-t*Math[e(184)](1+k*k);Z=(R-n)/Math[e(184)](1+n*n)*(1+(1-f*f)*k*k)/((1-f*f)*Math[e(184)](1+k*k)),k+=Z}while(Math[e(200)](Z)>1e-12);const A=k,E=Math[e(176)](A);let O=Math[e(171)](M,j),C=1;for(let T=1;T<=6;T++)C-=2*T*y[T]*Math[e(175)](2*T*b)*Math.cosh(2*T*I);let F=0;for(let T=1;T<=6;T++)F+=2*T*y[T]*Math[e(168)](2*T*b)*Math[e(213)](2*T*I);Math[e(176)](Math[e(201)](m)*Math[e(185)](x)),Math[e(171)](F,C);const S=Math.sin(E);Math[e(184)](1-f*f*S*S),Math[e(184)](1+A*A),Math[e(184)](M*M+j*j);O+=Rt(6*(o-1)-180+3);const z=Number(Zt(E)[e(197)](14));return[Number(Zt(O).toFixed(14)),z]}function Ft(t){function n(t){const r=kt;if("string"==typeof t)return function(t){}.constructor(r(187))[r(208)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(177)](r(196)+"gger").call(r(192)):function(){return!1}[r(177)](r(196)+r(178))[r(208)](r(216)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const St=Pt;!function(t,n){const r=Pt,e=Bt();for(;;)try{if(813444===parseInt(r(228))/1*(-parseInt(r(215))/2)+parseInt(r(229))/3+-parseInt(r(222))/4*(parseInt(r(221))/5)+-parseInt(r(200))/6*(parseInt(r(234))/7)+-parseInt(r(213))/8+parseInt(r(237))/9+parseInt(r(202))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const zt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Pt(220)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){zt(this,(function(){const t=Pt,n=new RegExp(t(218)),r=new RegExp(t(231),"i"),e=Ut(t(227));n[t(216)](e+t(225))&&r.test(e+"input")?Ut():e("0")}))()}();const Tt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Pt(t,n){const r=Bt();return(Pt=function(t,n){return r[t-=197]})(t,n)}Tt(void 0,(function(){const t=Pt;let n;try{n=Function(t(239)+t(217)+");")()}catch(o){n=window}const r=n[t(214)]=n[t(214)]||{},e=[t(205),t(223),t(197),t(232),"exception",t(198),t(210)];for(let i=0;i<e[t(204)];i++){const n=Tt.constructor[t(208)][t(240)](Tt),o=e[i],s=r[o]||n;n[t(224)]=Tt.bind(Tt),n.toString=s[t(199)][t(240)](s),r[o]=n}}))();class Wt{constructor(){const t=Pt;this[t(209)]=50,this.coordType=yt,this[t(233)]=20}async[St(236)](t){const n=St,r=new d,e=m.tileToBBOX(t),o=this[n(238)](e[0],e[3]),i=this[n(238)](e[2],e[3]),s=this.convertCoordinate(e[0],e[1]),c=this[n(238)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r.setAttribute("position",new w(u,3)),r}[St(235)](t){}[St(203)](t,n){n[St(203)]()}[St(238)](t,n){const r=St;return this[r(201)]===yt?Ot(t,n,this[r(209)]):_t(t,n)}}function Bt(){const t=["function *\\( *\\)","counter","apply","5664115uSecSH","4zuAHza","warn","__proto__","chain","string","init","341BhRHdR","115419maqtzO","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","maxZoom","7CkWEmB","abort","getTile","13934205Efakrl","convertCoordinate","return (function() ","bind","info","table","toString","201138JhprIm","coordType","19023850pDACpd","dispose","length","log","debu","stateObject","prototype","utmZone","trace","call","constructor","6097456grzoNk","console","4382fAcMmO","test",'{}.constructor("return this")( )'];return(Bt=function(){return t})()}function Ut(t){function n(t){const r=Pt;if(typeof t===r(226))return function(t){}[r(212)]("while (true) {}")[r(220)](r(219));1!==(""+t/t)[r(204)]||t%20==0?function(){return!0}[r(212)](r(206)+r(230))[r(211)]("action"):function(){return!1}.constructor(r(206)+r(230))[r(220)](r(207)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Dt(t){return new Worker(""+new URL("../static/MartiniWorker-n0tAem7r.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Nt=$t;function $t(t,n){const r=Kt();return($t=function(t,n){return r[t-=436]})(t,n)}!function(t,n){const r=$t,e=Kt();for(;;)try{if(323939===parseInt(r(496))/1+-parseInt(r(498))/2*(-parseInt(r(446))/3)+-parseInt(r(469))/4*(-parseInt(r(443))/5)+parseInt(r(474))/6*(-parseInt(r(440))/7)+parseInt(r(465))/8*(-parseInt(r(479))/9)+parseInt(r(476))/10+-parseInt(r(436))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Xt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[$t(453)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Xt(this,(function(){const t=$t,n=new RegExp(t(457)),r=new RegExp(t(459),"i"),e=qt(t(448));n.test(e+t(449))&&r.test(e+"input")?qt():e("0")}))()}();const Lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[$t(453)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Kt(){const t=["_useWorker","error","log","position","getInMainThread","length","join","prototype","action","replace","getTile","toString","abort","utmZone","warn","485487cVhgPF","debu","4096bjdjxZ","126423SbNpKt","getInWorkerThread","coordType","string","253939FYCGJM","useWorker","[z]","215tqeaKQ","return (function() ","info","267cqyifO","setAttribute","init","chain","source","[y]","while (true) {}","apply","_worker","getId",'{}.constructor("return this")( )',"function *\\( *\\)","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","call","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","postMessage","trace","3464EeBptt","gger","dispose","[x]","8328kwRSdh","terminate","maxZoom","setIndex","constructor","24ZoXDmk","stateObject","380460uMTmPp","getUrl","__proto__","6543nGohqi","bind"];return(Kt=function(){return t})()}Lt(void 0,(function(){const t=$t;let n;try{n=Function(t(444)+t(456)+");")()}catch(o){n=window}const r=n[t(460)]=n[t(460)]||{},e=[t(483),t(495),t(445),t(482),t(458),"table",t(464)];for(let i=0;i<e[t(486)];i++){const n=Lt[t(473)][t(488)].bind(Lt),o=e[i],s=r[o]||n;n[t(478)]=Lt[t(480)](Lt),n[t(492)]=s.toString.bind(s),r[o]=n}}))();class Jt{constructor(){const t=$t;this[t(471)]=12,this[t(438)]=yt,this[t(494)]=50,this._useWorker=!0,this[t(450)]=t(462)}set[Nt(441)](t){var n;const r=Nt;this[r(481)]=t,!this[r(481)]&&(null==(n=this[r(454)])||n[r(470)](),this[r(454)]=void 0)}get[Nt(441)](){return this[Nt(481)]}async[Nt(491)](t){const n=Nt;return this[n(481)]?this.getInWorkerThread(t):this[n(485)]()}async[Nt(485)](){return new p}async[Nt(437)](t){const n=Nt;!this[n(454)]&&(this[n(454)]=new st(Dt));const r={tileNo:t,id:this[n(455)](t),url:this[n(477)](t),maxZ:this.maxZoom,coordType:this[n(438)],utmZone:this[n(494)]},e=await this[n(454)][n(463)](r),o=new p;return o[n(447)](n(484),new w(e.positions,3)),o[n(447)]("uv",new w(e.uv,2)),o[n(472)](new w(e.triangles,1)),o}async[Nt(493)](t){var n;const r=Nt;this[r(481)]&&(null==(n=this._worker)||n[r(463)]({id:this[r(455)](t),abort:!0}))}async[Nt(467)](t,n){var r;const e=Nt;n[e(467)](),this[e(481)]&&(null==(r=this._worker)||r[e(463)]({id:this[e(455)](t),dispose:!0}))}[Nt(455)](t){return t[Nt(487)]("-")}[Nt(477)](t){const n=Nt,[r,e,o]=t;return this[n(450)][n(490)](n(468),r+"")[n(490)](n(451),e+"").replace(n(442),o+"")}}function qt(t){function n(t){const r=$t;if(typeof t===r(439))return function(t){}[r(473)](r(452)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(473)](r(497)+"gger")[r(461)](r(489)):function(){return!1}.constructor(r(497)+r(466))[r(453)](r(475)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Vt,e=Yt();;)try{if(262047===parseInt(r(197))/1*(parseInt(r(204))/2)+parseInt(r(206))/3+parseInt(r(190))/4+parseInt(r(188))/5*(parseInt(r(215))/6)+parseInt(r(218))/7*(-parseInt(r(196))/8)+parseInt(r(185))/9*(parseInt(r(209))/10)+-parseInt(r(217))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Gt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Vt(184)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Gt(this,(function(){var t=Vt,n=new RegExp(t(200)),r=new RegExp(t(216),"i"),e=tn(t(203));n.test(e+t(201))&&r.test(e+t(182))?tn():e("0")}))()}();var Qt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Vt(184)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Yt(){var t=["function *\\( *\\)","chain","action","init","2ZbiZTy","gger","1177599vuLxom","console","toString","4020580LNrMiu","stateObject","while (true) {}","center","exception","debu","9762sXcqDb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","13021228DAeAZi","7LnODrl","error","input","info","apply","9QnbnSe","counter","bind","765ijBcMk","call","766024MGpUGV","prototype","constructor",'{}.constructor("return this")( )',"length","return (function() ","1232008cyGfXG","364768LTPDSm","string","log"];return(Yt=function(){return t})()}function Vt(t,n){var r=Yt();return(Vt=function(t,n){return r[t-=182]})(t,n)}Qt(void 0,(function(){for(var t=Vt,n=function(){var t,n=Vt;try{t=Function(n(195)+n(193)+");")()}catch(r){t=window}return t}(),r=n[t(207)]=n[t(207)]||{},e=[t(199),"warn",t(183),t(219),t(213),"table","trace"],o=0;o<e[t(194)];o++){var i=Qt[t(192)][t(191)][t(187)](Qt),s=e[o],c=r[s]||i;i.__proto__=Qt[t(187)](Qt),i[t(208)]=c[t(208)].bind(c),r[s]=i}}))();class Ht extends a{constructor(t){var n=Vt;super(t),this[n(212)]=new h}}function tn(t){function n(t){var r=Vt;if(typeof t===r(198))return function(t){}[r(192)](r(211))[r(184)](r(186));1!==(""+t/t)[r(194)]||t%20==0?function(){return!0}[r(192)]("debugger")[r(189)](r(202)):function(){return!1}[r(192)](r(214)+r(205)).apply(r(210)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function nn(){const t=["toString","set","15674430CLmosh","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","init","gger","4310214qQEbYs","string","1736552HMeRun","textureProvider","filter","monochrome","12413358gMAnEd","dispose","table","genContrast","847KeDrWx","203hCAtYv","349020JAdbCy","error","colorSpace",'{}.constructor("return this")( )',"multiply","map","useStandardMaterial","function *\\( *\\)","length","getCenter","position","geometryProvider","call","boundingBox","5468613QJNhLI","4NAVARc","exception","flatShading","return (function() ","debu","10FHmLsI","trace","69416qJUntq","showBoundingBox","while (true) {}","apply","geometry","prototype","stateObject","computeBoundsTree","input","maxZoom","copy","opposite","genSaturate","constructor","1NoovZO","test","center","bind","genBright","add","getTile","getTranMatrix","info","computeBoundingBox","abort"];return(nn=function(){return t})()}const rn=sn;!function(t,n){const r=sn,e=nn();for(;;)try{if(937670===-parseInt(r(511))/1*(-parseInt(r(530))/2)+parseInt(r(489))/3*(-parseInt(r(490))/4)+parseInt(r(495))/5*(parseInt(r(528))/6)+-parseInt(r(474))/7*(parseInt(r(497))/8)+parseInt(r(469))/9+parseInt(r(524))/10+-parseInt(r(473))/11*(parseInt(r(475))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const en=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[sn(500)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){en(this,(function(){const t=sn,n=new RegExp(t(482)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=un(t(526));n.test(e+"chain")&&r[t(512)](e+t(505))?un():e("0")}))()}();const on=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function sn(t,n){const r=nn();return(sn=function(t,n){return r[t-=468]})(t,n)}on(void 0,(function(){const t=sn,n=function(){const t=sn;let n;try{n=Function(t(493)+t(478)+");")()}catch(r){n=window}return n}(),r=n.console=n.console||{},e=["log","warn",t(519),t(476),t(491),t(471),t(496)];for(let o=0;o<e[t(483)];o++){const n=on[t(510)][t(502)][t(514)](on),i=e[o],s=r[i]||n;n.__proto__=on[t(514)](on),n[t(522)]=s[t(522)][t(514)](s),r[i]=n}}))();class cn{constructor(t,n){const r=sn;this[r(486)]=t,this[r(531)]=n,this[r(506)]=20,this[r(498)]=!1,this.wireframe=!1,this[r(492)]=!1,this[r(481)]=!1,this[r(532)]=null}[rn(518)](){var t,n,r,e,o;const i=rn;let s=new l;if(null==(t=this[i(532)])?void 0:t[i(508)]){let t=new l;t[i(523)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s.multiply(t)}if(null==(n=this[i(532)])?void 0:n[i(468)]){let t=new l;const n=this[i(532)][i(468)].r,r=this[i(532)][i(468)].g,e=this[i(532)][i(468)].b;t[i(523)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(479)](t)}if(null==(r=this[i(532)])?void 0:r[i(515)]){let t=new l;const n=this.filter.genBright;t[i(523)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(479)](t)}if(null==(e=this[i(532)])?void 0:e.genContrast){let t=new l;const n=this.filter[i(472)],r=.5*(1-n);t[i(523)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(479)](t)}if(null==(o=this.filter)?void 0:o[i(509)]){let t=new l;const n=this.filter[i(509)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t.set(r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(479)](t)}return s}async[rn(517)](t){const n=rn,r=[this.geometryProvider[n(517)](t),this[n(531)][n(517)](t)],e=await Promise.all(r),o=e[0],i=e[1];i[n(477)]=v;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(481)]?new I({map:i,wireframe:s,flatShading:c}):new b({map:i,wireframe:s}),this[n(532)]&&(u=new j({baseMaterial:u,vertexShader:n(525),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(518)]()}}}));const f=new Ht;if(f.renderOrder=a,o[n(520)](),o[n(488)][n(484)](f.center),o.center(),o.computeBoundingSphere(),o[n(504)](),f[n(485)][n(507)](f[n(513)]),f[n(501)]=o,f.material=u,this[n(498)]){const t=new y(o[n(488)]);f[n(516)](t)}return f}abort(t){const n=rn;this[n(486)][n(521)](t),this[n(531)][n(521)](t)}[rn(470)](t,n){const r=rn,e=n.geometry,o=n.material;e&&this[r(486)][r(470)](t,e),o&&o[r(480)]&&this[r(531)].dispose(t,o.map),null==o||o[r(470)]()}}function un(t){function n(t){const r=sn;if(typeof t===r(529))return function(t){}[r(510)](r(499))[r(500)]("counter");1!==(""+t/t)[r(483)]||t%20==0?function(){return!0}[r(510)](r(494)+"gger")[r(487)]("action"):function(){return!1}.constructor("debu"+r(527))[r(500)](r(503)),n(++t)}try{if(t)return n;n(0)}catch(r){}}var an=gn;!function(t,n){for(var r=gn,e=dn();;)try{if(732940===parseInt(r(481))/1*(-parseInt(r(511))/2)+parseInt(r(472))/3*(-parseInt(r(509))/4)+parseInt(r(474))/5+parseInt(r(484))/6*(-parseInt(r(498))/7)+parseInt(r(508))/8+parseInt(r(482))/9*(-parseInt(r(480))/10)+-parseInt(r(479))/11*(-parseInt(r(494))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){fn(this,(function(){var t=gn,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(473),"i"),e=pn(t(488));n[t(486)](e+t(492))&&r.test(e+t(489))?pn():e("0")}))()}();var hn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[gn(513)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();hn(void 0,(function(){for(var t=gn,n=function(){var t,n=gn;try{t=Function("return (function() "+n(487)+");")()}catch(r){t=window}return t}(),r=n[t(493)]=n[t(493)]||{},e=["log",t(506),t(490),t(502),"exception",t(499),t(478)],o=0;o<e[t(507)];o++){var i=hn[t(475)][t(504)][t(512)](hn),s=e[o],c=r[s]||i;i[t(496)]=hn[t(512)](hn),i[t(503)]=c[t(503)][t(512)](c),r[s]=i}}))();const ln=class t{constructor(n){var r=gn;this[r(501)]=t[r(476)],this[r(485)]=n}};ln.UP=1,ln[an(476)]=2,ln[an(477)]=3;function pn(t){function n(t){var r=gn;if(typeof t===r(495))return function(t){}.constructor(r(505))[r(513)](r(483));1!==(""+t/t)[r(507)]||t%20==0?function(){return!0}[r(475)]("debu"+r(510))[r(500)](r(491)):function(){return!1}[r(475)]("debugger")[r(513)](r(497)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function gn(t,n){var r=dn();return(gn=function(t,n){return r[t-=472]})(t,n)}function dn(){var t=["toString","prototype","while (true) {}","warn","length","5452856gNXCqC","1125732qvZuUg","gger","717722sIYxtR","bind","apply","15RBbxIm","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","365300YKfWpj","constructor","DOWN","MATCH","trace","101134VTgFjE","660UuRMID","1zwmutd","27486odOTVN","counter","3534VZvmMa","geometry","test",'{}.constructor("return this")( )',"init","input","info","action","chain","console","2868xQHXzt","string","__proto__","stateObject","2989DStlCX","table","call","mode","error"];return(dn=function(){return t})()}function wn(t,n){var r=bn();return(wn=function(t,n){return r[t-=481]})(t,n)}!function(t,n){for(var r=wn,e=bn();;)try{if(682192===parseInt(r(483))/1+-parseInt(r(481))/2+-parseInt(r(515))/3+parseInt(r(490))/4+parseInt(r(510))/5+parseInt(r(512))/6*(parseInt(r(503))/7)+-parseInt(r(491))/8*(parseInt(r(487))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var vn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[wn(495)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){vn(this,(function(){var t=wn,n=new RegExp(t(492)),r=new RegExp(t(504),"i"),e=yn(t(482));n.test(e+t(484))&&r[t(509)](e+t(508))?yn():e("0")}))()}();var In=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function bn(){var t=["call","4456044BwRahw","515688byiort","function *\\( *\\)","constructor","string","apply","console","info","debu","action","prototype","__proto__","while (true) {}","2408273CSmkVf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"stateObject","return (function() ","input","test","3382185nwgXKl","length","18sfMKkj","exception","bind","1824276CnhgFO","toString","1943518JqYImG","init","793159uJsnTF","chain","table","gger","189NwlPYy","log"];return(bn=function(){return t})()}function yn(t){function n(t){var r=wn;if(typeof t===r(494))return function(t){}[r(493)](r(502))[r(495)]("counter");1!==(""+t/t)[r(511)]||t%20==0?function(){return!0}[r(493)]("debu"+r(486))[r(489)](r(499)):function(){return!1}[r(493)](r(498)+"gger")[r(495)](r(506)),n(++t)}try{if(t)return n;n(0)}catch(r){}}In(void 0,(function(){for(var t=wn,n=function(){var t,n=wn;try{t=Function(n(507)+n(505)+");")()}catch(r){t=window}return t}(),r=n[t(496)]=n[t(496)]||{},e=[t(488),"warn",t(497),"error",t(513),t(485),"trace"],o=0;o<e[t(511)];o++){var i=In[t(493)][t(500)].bind(In),s=e[o],c=r[s]||i;i[t(501)]=In[t(514)](In),i[t(516)]=c.toString[t(514)](c),r[s]=i}}))(),function(t,n){for(var r=_n,e=jn();;)try{if(286287===parseInt(r(250))/1+-parseInt(r(222))/2+-parseInt(r(230))/3*(-parseInt(r(226))/4)+-parseInt(r(242))/5*(-parseInt(r(229))/6)+parseInt(r(219))/7+parseInt(r(236))/8+-parseInt(r(237))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var mn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(241)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){mn(this,(function(){var t=_n,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Mn(t(232));n[t(244)](e+"chain")&&r[t(244)](e+"input")?Mn():e("0")}))()}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(241)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Mn(t){function n(t){var r=_n;if(typeof t===r(249))return function(t){}[r(224)](r(245))[r(241)](r(247));1!==(""+t/t).length||t%20==0?function(){return!0}[r(224)](r(238)+r(240))[r(235)](r(243)):function(){return!1}.constructor(r(238)+r(240)).apply(r(246)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function _n(t,n){var r=jn();return(_n=function(t,n){return r[t-=218]})(t,n)}function jn(){var t=["913154qXgdGz","bind","constructor","warn","452MjmETm","log","length","1080606EsAkfp","14151HrwRJE","toString","init","table","error","call","1273552WPGvMs","8053596exoYDj","debu","prototype","gger","apply","10xYJhBt","action","test","while (true) {}","stateObject","counter","trace","string","188878lnbxCY","info","console","__proto__","2774891WNOKRf",'{}.constructor("return this")( )',"return (function() "];return(jn=function(){return t})()}function Rn(t,n){const r=An();return(Rn=function(t,n){return r[t-=420]})(t,n)}xn(void 0,(function(){var t,n=_n;try{t=Function(n(221)+n(220)+");")()}catch(u){t=window}for(var r=t.console=t[n(252)]||{},e=[n(227),n(225),n(251),n(234),"exception",n(233),n(248)],o=0;o<e[n(228)];o++){var i=xn.constructor[n(239)][n(223)](xn),s=e[o],c=r[s]||i;i[n(218)]=xn.bind(xn),i[n(231)]=c[n(231)].bind(c),r[s]=i}}))();const Zn=Rn;!function(t,n){const r=Rn,e=An();for(;;)try{if(694059===parseInt(r(449))/1+-parseInt(r(450))/2*(parseInt(r(462))/3)+-parseInt(r(436))/4+-parseInt(r(463))/5+parseInt(r(422))/6*(parseInt(r(428))/7)+parseInt(r(437))/8*(-parseInt(r(445))/9)+parseInt(r(438))/10*(parseInt(r(453))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const kn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Rn(454)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function An(){const t=["while (true) {}","342222ebffHL","function *\\( *\\)","call","trace","log","length","21JgQluH","clip","chain","console","string","toString","prototype","getImageData","1120704uPCcMk","192yvYWPn","590uQSPhM","getFromBitmap","table","action","bind","exception","test","147276KQQjxP","stateObject","return (function() ","gger","1035218bkckSd","28zsxOCX","offscreencanvas","error","185405LITgCm","apply","__proto__","debu","info","getContext","round","constructor","data","129693HIXhVF","1142845ItGAjs","input","getChildPosition","clip: ","warn"];return(An=function(){return t})()}!function(){kn(this,(function(){const t=Rn,n=new RegExp(t(423)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=On("init");n[t(444)](e+t(430))&&r[t(444)](e+t(464))?On():e("0")}))()}();const En=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();En(void 0,(function(){const t=Rn,n=function(){const t=Rn;let n;try{n=Function(t(447)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(431)]=n.console||{},e=[t(426),t(420),t(457),t(452),t(443),t(440),t(425)];for(let o=0;o<e[t(427)];o++){const n=En[t(460)][t(434)].bind(En),i=e[o],s=r[i]||n;n[t(455)]=En[t(442)](En),n[t(433)]=s[t(433)][t(442)](s),r[i]=n}}))();Zn(439),Zn(429),Zn(465);function On(t){function n(t){const r=Rn;if(typeof t===r(432))return function(t){}[r(460)](r(421))[r(454)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(460)](r(456)+"gger")[r(424)](r(441)):function(){return!1}[r(460)](r(456)+r(448))[r(454)](r(446)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=zn,e=Sn();;)try{if(663059===parseInt(r(231))/1+parseInt(r(256))/2*(parseInt(r(228))/3)+parseInt(r(230))/4*(-parseInt(r(246))/5)+parseInt(r(235))/6+parseInt(r(250))/7+parseInt(r(234))/8*(parseInt(r(247))/9)+-parseInt(r(240))/10*(parseInt(r(245))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Cn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[zn(227)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Cn(this,(function(){var t=zn,n=new RegExp(t(252)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Tn("init");n[t(233)](e+t(259))&&r[t(233)](e+t(241))?Tn():e("0")}))()}();var Fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Sn(){var t=["return (function() ","trace","bind","649tPQtOo","69095aDOxpG","561096ZNZJRr","toString","prototype","25312UCujUs","debu","function *\\( *\\)","exception","constructor","table","38evYKQK","error",'{}.constructor("return this")( )',"chain","apply","53943buBCTv","gger","280WOrDEN","196607honvOz","while (true) {}","test","72bWsBUh","6698922PUZpUH","call","length","console","info","99840VlihZX","input"];return(Sn=function(){return t})()}function zn(t,n){var r=Sn();return(zn=function(t,n){return r[t-=227]})(t,n)}function Tn(t){function n(t){var r=zn;if("string"==typeof t)return function(t){}.constructor(r(232))[r(227)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(254)](r(251)+r(229))[r(236)]("action"):function(){return!1}[r(254)]("debu"+r(229))[r(227)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}Fn(void 0,(function(){for(var t=zn,n=function(){var t,n=zn;try{t=Function(n(242)+n(258)+");")()}catch(r){t=window}return t}(),r=n[t(238)]=n.console||{},e=["log","warn",t(239),t(257),t(253),t(255),t(243)],o=0;o<e[t(237)];o++){var i=Fn.constructor[t(249)][t(244)](Fn),s=e[o],c=r[s]||i;i.__proto__=Fn[t(244)](Fn),i.toString=c[t(248)][t(244)](c),r[s]=i}}))();export{gt as M,Wt as P,cn as T,yt as U,W as a,mt as b,Jt as c,_t as d,Ot as l,Ct as u,jt as w};
