import{c as t,B as n,r as e,c6 as o,C as r,V as s,a0 as i}from"./three.sXv6UbbL1740621336114.js";import{w as c}from"./@fesjs.LqZjJP5K1740621336114.js";import{a}from"./@tresjs.Td0X-dew1740621336114.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.C_z0wpFH1740621336114.js";function l(){const t=["741386YvWABO","setAttribute","bind",'{}.constructor("return this")( )',"copy","attributes","setFromObject","deleteAttribute","set","random","catch","getCenter","json","computeBoundsTree","position","config","boundingBox","negate","252zgBKhA","geometry","stateObject","debu","getY","140HIiLRq","apply","3978nifenP","side","get","getSize","expandByObject","counter","table","add","setY","center","computeBoundingBox","__proto__","applyMatrix4","children","test","Vector3","972444bmVdZi","value","prototype","return (function() ","call","material","chain","2PpQzMk","47406UFrzuk","features","min","constructor","forEach","getX","3741084eXfeox","toString","info","transparent","depthWrite","uniforms","215AqaOtA","error","push","max","then","15936JIbJHT","gger","count","depthTest","console","divideScalar","length","8150ZXsWJv","Box3","clone","162136JyYfAM","string"];return(l=function(){return t})()}function g(t,n){const e=l();return(g=function(t,n){return e[t-=213]})(t,n)}!function(t,n){const e=g,o=l();for(;;)try{if(432396===parseInt(e(214))/1*(parseInt(e(262))/2)+parseInt(e(232))/3*(-parseInt(e(280))/4)+-parseInt(e(275))/5*(parseInt(e(263))/6)+parseInt(e(237))/7*(parseInt(e(290))/8)+-parseInt(e(239))/9*(-parseInt(e(287))/10)+-parseInt(e(255))/11+-parseInt(e(269))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(238)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=j("init");n[t(253)](o+t(261))&&e[t(253)](o+"input")?j():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(238)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();h(void 0,(function(){const t=g;let n;try{n=Function(t(258)+t(217)+");")()}catch(r){n=window}const e=n[t(284)]=n[t(284)]||{},o=["log","warn",t(271),t(276),"exception",t(245),"trace"];for(let s=0;s<o.length;s++){const n=h[t(266)][t(257)].bind(h),r=o[s],i=e[r]||n;n[t(250)]=h[t(216)](h),n[t(270)]=i[t(270)][t(216)](i),e[r]=n}}))();const d=(n,e=!1)=>{const o=g;n[o(249)]();const{max:r,min:s}=n.boundingBox;n[o(221)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(219)][o(228)].count;t++)e?(a[o(277)]((n.attributes[o(228)].getX(t)-(s.x+r.x)/2)/i),a[o(277)]((n[o(219)].position[o(236)](t)-(s.y+r.y)/2)/c)):(a[o(277)]((n[o(219)][o(228)][o(268)](t)-s.x)/i),a[o(277)]((n[o(219)].position.getY(t)-s.y)/c));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=g;c(t,{},{method:r(241),mergeRequest:!0,responseType:r(226)})[r(279)]((t=>{const o=r;n&&e(t[n]),e(t[o(264)])}))[r(224)]((t=>{console[r(276)](t),o(t)}))})),w=t=>{const n=g,e=(new(THREE[n(288)]))[n(220)](t),o=new(THREE[n(254)]);e[n(225)](o),t[n(252)][n(267)]((t=>{t[n(228)].sub(o)})),t[n(228)][n(218)](o[n(231)]())},b=()=>{const t=g;n.prototype[t(227)]=u,n[t(257)].disposeBoundsTree=p,e[t(257)].raycast=f},x=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(233)][n(289)]();d(c),c[n(227)]();const u=new o(c,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(260)][n(272)]=!0,u[n(260)][n(273)]=!0,u[n(260)][n(283)]=!0,u.material[n(240)]=i,u[n(260)][n(274)][n(229)][n(256)].w=20,u[n(260)][n(274)].reflectivity[n(256)]=.46,u};function I(t){const n=g,e=[];for(let r=0;r<t[n(286)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(286)];r++)o[n(246)](e[r]);o[n(285)](e[n(286)]);for(let r=0;r<e[n(286)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=g;if(typeof t===e(213))return function(t){}[e(266)]("while (true) {}").apply(e(244));1!==(""+t/t)[e(286)]||t%20==0?function(){return!0}.constructor("debu"+e(281))[e(259)]("action"):function(){return!1}[e(266)](e(235)+"gger")[e(238)](e(234)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,I as g,b as i,y as l,d as r,x as s};
