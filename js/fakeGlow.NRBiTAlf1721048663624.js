import{d as n,H as t}from"./@tresjs.Xiq_TH801721048663624.js";import{k as o,b9 as e,C as r,aK as i,Z as a,a5 as s,y as l}from"./three.HEgnMaTu1721048663624.js";import{P as c}from"./tweakpane.yHWGBmom1721048663624.js";import{d as u,r as f,a2 as p,e as g,o as d,f as m,g as v,j as w,u as h,J as y,al as I}from"./@vue.ApkyOKE71721048663624.js";import"./@vueuse.2IVIyoVR1721048663624.js";!function(n,t){for(var o=x,e=_();;)try{if(713914===-parseInt(o(415))/1*(-parseInt(o(370))/2)+parseInt(o(398))/3*(parseInt(o(390))/4)+parseInt(o(394))/5*(-parseInt(o(368))/6)+parseInt(o(393))/7+parseInt(o(379))/8*(parseInt(o(402))/9)+-parseInt(o(395))/10+parseInt(o(411))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var b=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function x(n,t){var o=_();return(x=function(n,t){return o[n-=368]})(n,t)}!function(){b(this,(function(){var n=x,t=new RegExp(n(409)),o=new RegExp(n(413),"i"),e=C(n(408));t[n(372)](e+n(401))&&o.test(e+"input")?C():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(371)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(){var n=["opacity","setValues","depthTest","stateObject","6243354kwtbZx","log","8RStPfm","apply","test","fragmentShader","warn","trace","constructor","return (function() ","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","68248uXnZWa","counter","blendMode","error","while (true) {}","glowColor","side","transparent","console","__proto__","info","5220JWczIL","uniforms","toString","9874746fwtGZr","5Rzrmaj","12370750DCAtKv","prototype","falloff","2811vWnDJi","bind","gger","chain","18uNcXFT","debu","glowInternalRadius","length","#00d5ff","exception","init","function *\\( *\\)","table","812845ylmwbt","vertexShader","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","66782uxhAxo","string"];return(_=function(){return n})()}j(void 0,(function(){var n,t=x;try{n=Function(t(377)+'{}.constructor("return this")( ));')()}catch(l){n=window}for(var o=n[t(387)]=n[t(387)]||{},e=[t(369),t(374),t(389),t(382),t(407),t(410),t(375)],r=0;r<e[t(405)];r++){var i=j[t(376)][t(396)][t(399)](j),a=e[r],s=o[a]||i;i[t(388)]=j[t(399)](j),i.toString=s[t(392)][t(399)](s),o[a]=i}}))();const S=class extends o{constructor(n={}){var t=x;super(),this[t(412)]="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this[t(373)]=t(378),this[t(391)]={opacity:new e(void 0!==n.opacity?n[t(417)]:1),glowInternalRadius:new e(void 0!==n[t(404)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n.glowSharpness?n.glowSharpness:.5),falloff:new e(void 0!==n[t(397)]?n[t(397)]:.1),glowColor:new e(void 0!==n[t(384)]?new r(n[t(384)]):new r(t(406)))},this[t(418)](n),this[t(419)]=void 0!==n.depthTest&&n[t(419)],this.blending=void 0!==n[t(381)]?n[t(381)]:i,this[t(386)]=!0,this[t(385)]=void 0!==n[t(385)]?n[t(385)]:a}};function C(n){function t(n){var o=x;if(typeof n===o(416))return function(n){}[o(376)](o(383)).apply(o(380));1!==(""+n/n)[o(405)]||n%20==0?function(){return!0}.constructor("debugger")[o(414)]("action"):function(){return!1}[o(376)](o(403)+o(400))[o(371)](o(420)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const T=Z;!function(n,t){const o=Z,e=z();for(;;)try{if(403964===-parseInt(o(186))/1*(parseInt(o(183))/2)+parseInt(o(181))/3*(parseInt(o(156))/4)+-parseInt(o(140))/5+-parseInt(o(154))/6+parseInt(o(146))/7+-parseInt(o(175))/8*(parseInt(o(129))/9)+parseInt(o(130))/10*(parseInt(o(197))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[Z(151)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function z(){const n=["while (true) {}","addBinding","FrontSide","toString","49115lonmqe","pos-y.jpg","TresAmbientLight","170964azaTbK","1990JGMIKO","trace","pos-x.jpg","glowInternalRadius","Color","error","input","test","return (function() ","side","463260jglYVC","DoubleSide","length","bind","fakeGlow","Mesh","1666847EWgZIA","opacity","blue","glowSharpness","debu","apply","辉光参数","falloff","3130170HNLvQv","内半径","52QXCKHh","#a058c1","neg-z.jpg","TresPerspectiveCamera","primitive","counter","glowColor","TresMesh","chain",'{}.constructor("return this")( )',"TresCanvas","table","log","neg-x.jpg","function *\\( *\\)","TorusKnotGeometry","init","value","stateObject","104kfgMCm","材质面","neg-y.jpg","warn","TresGroup","call","174819ClAKOA","object","124nFJFoD","prototype","TresTorusKnotGeometry","9983zkKqgO","console","uniforms","gger","TresGridHelper","constructor","files"];return(z=function(){return n})()}!function(){k(this,(function(){const n=Z,t=new RegExp(n(170)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=B(n(172));t[n(137)](e+n(164))&&o[n(137)](e+n(136))?B():e("0")}))()}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[Z(151)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();R(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function(n(138)+n(165)+");")()}catch(o){t=window}return t}(),o=t[n(187)]=t[n(187)]||{},e=[n(168),n(178),"info",n(135),"exception",n(167),n(131)];for(let r=0;r<e[n(142)];r++){const t=R[n(191)][n(184)][n(143)](R),i=e[r],a=o[i]||t;t.__proto__=R.bind(R),t[n(196)]=a.toString[n(143)](a),o[i]=t}}))();const P=y(T(159),{position:[0,25,25],near:.1,fov:65},null,-1),G=y(T(128),{intensity:1.5},null,-1),M=y("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1),A=y(T(190),{args:[20,10]},null,-1),F={position:[0,6,0]},K=y(T(163),null,[y(T(185),{args:[4,.5,128,128]}),y("TresMeshPhysicalMaterial",{color:T(148),roughness:.2,clearcoat:1})],-1),N=[T(182)];function Z(n,t){const o=z();return(Z=function(n,t){return o[n-=128]})(n,t)}const D=u({__name:T(144),setup(o){const e=T,r=new c({title:e(152),expanded:!0}),i=f({glowColor:e(157),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(195)],depthTest:!1}),a=new S,u=new(s[e(145)])(new(s[e(171)])(4,3.8,128,128),a);return r[e(194)](i,e(162),{label:"颜色"}),r.addBinding(i,e(153),{label:"衰减",min:0,max:10,step:.1}),r[e(194)](i,e(133),{label:e(155),min:-5,max:5,step:.1}),r.addBinding(i,e(149),{label:"清晰度",min:0,max:10,step:.1}),r[e(194)](i,"opacity",{label:"透明",min:0,max:1,step:.1}),r[e(194)](i,e(139),{label:e(176),options:{FrontSide:s[e(195)],BackSide:l,DoubleSide:s[e(141)]}}),p((()=>{const n=e;a.uniforms[n(153)][n(173)]=i.falloff,a[n(188)][n(162)][n(173)]=new(s[n(134)])(i[n(162)]),a[n(188)].glowInternalRadius[n(173)]=i[n(133)],a[n(188)][n(149)].value=i.glowSharpness,a[n(188)][n(147)][n(173)]=i[n(147)],a[n(139)]=i.side})),(o,r)=>{const i=e,a=g(i(166));return d(),m(a,{"window-size":""},{default:v((()=>[P,G,M,w(h(n),{autoRotate:""}),A,y(i(179),F,[K,y(i(160),{object:h(u)},null,8,N)]),(d(),m(I,null,{default:v((()=>[w(h(t),{files:[i(132),i(169),i(198),i(177),"pos-z.jpg",i(158)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"},null,8,[i(192)])])),_:1}))])),_:1})}}});function B(n){function t(n){const o=Z;if("string"==typeof n)return function(n){}[o(191)](o(193))[o(151)](o(161));1!==(""+n/n)[o(142)]||n%20==0?function(){return!0}[o(191)](o(150)+o(189))[o(180)]("action"):function(){return!1}[o(191)](o(150)+o(189))[o(151)](o(174)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{D as default};
