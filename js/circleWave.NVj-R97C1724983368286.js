import{$ as n,N as t,d as e}from"./@tresjs.OrqGCbtj1724983368286.js";import{P as o}from"./tweakpane.yHWGBmom1724983368286.js";import{_ as r}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.dR_Md0ZD1724983368286.js";import{a0 as a,a6 as c,Z as s,aN as i}from"./three.p-9BQwc31724983368286.js";import{d as u,b as l,a4 as f,r as p,a1 as v,o as d,D as m,J as g,aj as h,ak as w,e as k,f as y,g as S,j as _,u as I,al as C,m as b}from"./@vue.Q1VpS3901724983368286.js";import"./@vueuse.n6I5WvfU1724983368286.js";import"./all.three.RQy00bw_1724983368286.js";import"./oimophysics.x0jH7fze1724983368286.js";const x=T;!function(n,t){const e=T,o=j();for(;;)try{if(501260===parseInt(e(103))/1*(-parseInt(e(149))/2)+parseInt(e(144))/3+parseInt(e(138))/4+-parseInt(e(129))/5*(parseInt(e(126))/6)+-parseInt(e(122))/7+parseInt(e(148))/8*(-parseInt(e(102))/9)+-parseInt(e(157))/10*(-parseInt(e(117))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function j(){const n=["trace","string","3127168jAjyTq","wrapT","warn","table","stateObject","chain","953361pwiDOC","RepeatWrapping","gger","#000000","3128112UOYhOC","883022APKdkT","input","scale","tmRef","info","debu","length","return (function() ","530dprScA","18HSvaQt","1NzlCeV","\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n","exception","TresMesh","uScanColor","material","uTime",'{}.constructor("return this")( )',"init","colorDark","toString","prototype","uniforms","counter","372119MydmGs","Color","log","bind","console","6332949hktOXC","test","while (true) {}","shaderCircleWave","180NlXIpP","color","action","43835pbAQgq","TresShaderMaterial","__proto__","uScanColorDark","TresPlaneGeometry","constructor","value"];return(j=function(){return n})()}function T(n,t){const e=j();return(T=function(n,t){return e[n-=102]})(n,t)}!function(){M(this,(function(){const n=T,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(n(111));t.test(o+n(143))&&e[n(123)](o+n(150))?W():o("0")}))()}();const P=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();P(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(156)+n(110)+");")()}catch(e){t=window}return t}(),e=t[n(121)]=t[n(121)]||{},o=[n(119),n(140),n(153),"error",n(105),n(141),n(136)];for(let r=0;r<o[n(155)];r++){const t=P[n(134)][n(114)].bind(P),a=o[r],c=e[a]||t;t[n(131)]=P[n(120)](P),t.toString=c[n(113)][n(120)](c),e[a]=t}}))();const D=["rotation-x",x(151)],O=g(x(133),{args:[1,1]},null,-1),R=u({__name:x(125),props:{color:{default:"#ffffff"},colorDark:{default:x(147)},speed:{default:1},scale:{default:2}},async setup(e){const o=x;let r,u;const k=e,y=l(),{onLoop:S}=n();S((({delta:n})=>{const t=T;y.value&&(y[t(135)][t(108)][t(115)][t(109)][t(135)]+=n*k.speed)}));const _=([r,u]=f((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,u(),r);_.wrapS=a,_[o(139)]=c[o(145)];const I=p({side:s,transparent:!0,blending:i,flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:_},uScanColor:{type:"v3",value:new(c[o(118)])(k[o(127)])},uScanColorDark:{type:"v3",value:new(c[o(118)])(k[o(112)])}},vertexShader:"\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n",fragmentShader:o(104)});return v((()=>{const n=o;y[n(135)]&&(y.value[n(108)].uniforms[n(107)][n(135)]=new(c[n(118)])(k[n(127)]),y[n(135)][n(108)][n(115)][n(132)].value=new(c[n(118)])(k[n(112)]))})),(n,t)=>{const e=o;return d(),m(e(106),{ref_key:e(152),ref:y,"rotation-x":-Math.PI/2,scale:n[e(151)]},[O,g(e(130),h(w(I)),null,16)],8,D)}}});function W(n){function t(n){const e=T;if(typeof n===e(137))return function(n){}[e(134)](e(124)).apply(e(116));1!==(""+n/n)[e(155)]||n%20==0?function(){return!0}[e(134)](e(154)+e(146)).call(e(128)):function(){return!1}[e(134)](e(154)+e(146)).apply(e(142)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function A(n,t){const e=E();return(A=function(n,t){return e[n-=308]})(n,t)}const U=A;!function(n,t){const e=A,o=E();for(;;)try{if(648481===-parseInt(e(312))/1+parseInt(e(343))/2*(parseInt(e(322))/3)+parseInt(e(337))/4*(-parseInt(e(313))/5)+-parseInt(e(310))/6*(parseInt(e(349))/7)+-parseInt(e(335))/8+parseInt(e(352))/9+parseInt(e(333))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(354)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=A,t=new RegExp(n(342)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(n(325));t[n(330)](o+n(345))&&e[n(330)](o+n(311))?$():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(354)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();z(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(321)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t[n(346)]||{},o=[n(347),n(351),"info",n(344),"exception","table",n(315)];for(let r=0;r<o[n(334)];r++){const t=z[n(341)][n(320)][n(331)](z),a=o[r],c=e[a]||t;t[n(316)]=z[n(331)](z),t[n(332)]=c[n(332)].bind(c),e[a]=t}}))();const G=g("TresPerspectiveCamera",{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1),N=g(U(308),{intensity:6},null,-1);function E(){const n=["1856455hUUlwo","stateObject","trace","__proto__","圈渐变色","string","gger","prototype","return (function() ","12YtAGuG","#000000","debu","init","while (true) {}","circleWave","call","color","test","bind","toString","16449500zJOeNj","length","7160608DaMvaH","scale","8NJZwQc","#ffffff","action","colorDark","constructor","function *\\( *\\)","380896sMEaZF","error","chain","console","log","TresCanvas","7OTOHub","shaderCircleWave地面","warn","9426726BdWZFV","addBinding","apply","TresAmbientLight","圈颜色","5308458oXGBmg","input","283274UKGPQl"];return(E=function(){return n})()}const F=u({__name:U(327),setup(n){const t=U,a=p({reflectivity:.1,showGridHelper:!1,scale:1}),c=p({color:t(338),colorDark:t(323),speed:1,scale:2}),s=new o({title:t(350),expanded:!0});return s[t(353)](c,t(329),{label:t(309)}),s[t(353)](c,t(340),{label:t(317)}),s[t(353)](c,"speed",{label:"速度",min:.1,max:5,step:.1}),s[t(353)](c,t(336),{label:"大小",min:.1,max:10,step:.1}),(n,o)=>{const s=k(t(348));return d(),y(s,{clearColor:"#201919","window-size":""},{default:S((()=>[G,_(I(e),{enableDamping:""}),N,(d(),y(C,null,{default:S((()=>[_(R,h(w(c)),null,16)])),_:1})),(d(),y(C,null,{default:S((()=>[_(r,b({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function $(n){function t(n){const e=A;if(typeof n===e(318))return function(n){}[e(341)](e(326))[e(354)]("counter");1!==(""+n/n)[e(334)]||n%20==0?function(){return!0}[e(341)](e(324)+e(319))[e(328)](e(339)):function(){return!1}[e(341)](e(324)+"gger")[e(354)](e(314)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{F as default};
