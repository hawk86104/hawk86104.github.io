import{m as e,D as a,o as s}from"./@tresjs.zc7faK4J1743660816268.js";import{_ as o}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.0Y8GW8SD1743660816268.js";import"./index.T-vY6kZg1743660816268.js";import{g as t,b as r}from"./three.2wx8FU0g1743660816268.js";import{_ as i}from"./cloudPoints.vue_vue_type_script_setup_true_lang.0ttWFCZx1743660816268.js";import{P as n}from"./tweakpane.ivGeiIdz1743660816268.js";import{d as l,a4 as m,o as c,H as p,N as u,u as d,j as f,F as _,r as j,v as g,a2 as v,e as h,g as b,f as w,al as y,aj as S,ak as C}from"./@vue.B5PFBfKs1743660816268.js";import{_ as k}from"./randomLoading.vue_vue_type_script_setup_true_lang.HuXlgv2z1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./utils.J8F9Jo-01743660816268.js";import"./@fesjs.9AUNBPBQ1743660816268.js";import"./vue-router.K4ys0Z-O1743660816268.js";import"./lodash-es.IJc9G_SW1743660816268.js";import"./@qlin.o0hjOMCg1743660816268.js";import"./pinia.0dYyFDku1743660816268.js";import"./@floating-ui.HzHndBae1743660816268.js";import"./@juggle.4EyLec-41743660816268.js";import"./three-mesh-ui.module._G62nyeC1743660816268.js";import"./starLoading.cJyZWFHa1743660816268.js";import"./cssLoaders.bhHKUWvv1743660816268.js";import"./bubbleLoading.rC3bW8Z-1743660816268.js";import"./yangyangLoading.yRjR1R_U1743660816268.js";const L=["object"],P=l({__name:"planeClipping",async setup(s){let o,l;const{renderer:j}=e();j.value.localClippingEnabled=!0;const{nodes:g}=([o,l]=m((()=>a("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf",{draco:!0,decoderPath:"./draco/"}))),o=await o,l(),o);console.log(g);g.Sketchfab_model.getObjectByName("Floor").removeFromParent();const v=g.Sketchfab_model.getObjectByName("Cube006_Avion_0");v.castShadow=!0;const h=[new t(new r(1,0,0),0),new t(new r(0,0,-1),0)];v.material.clipIntersection=!0,v.material.clippingPlanes=h;const b=g.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");b.material.clipIntersection=!0,b.material.clippingPlanes=h;const w=g.Sketchfab_model.getObjectByName("CS_Black_0"),y=new n({title:"裁剪参数",expanded:!0});return y.addBinding(h[0],"constant",{label:"x",min:-200,max:200,step:1}),y.addBinding(h[1],"constant",{label:"y",min:-200,max:250,step:1}),(e,a)=>(c(),p(_,null,[u("primitive",{object:d(g).Sketchfab_model},null,8,L),f(i,{isRemoveSrc:"",model:d(w),color:"#fff"},null,8,["model"])],64))}}),B=l({__name:"planeClipping",setup(e){const a=j({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),t=g();return v((()=>{t.value&&(t.value.shadow.mapSize.set(1e3,1e3),t.value.shadow.camera.near=.1,t.value.shadow.camera.far=5e3,t.value.shadow.camera.top=200,t.value.shadow.camera.right=200,t.value.shadow.camera.left=-200,t.value.shadow.camera.bottom=-200,t.value.shadow.radius=10)})),(e,r)=>{const i=h("TresCanvas");return c(),p(_,null,[f(d(k)),f(i,{clearColor:"#333",shadows:"","window-size":""},{default:b((()=>[r[0]||(r[0]=u("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),f(d(s)),r[1]||(r[1]=u("TresAmbientLight",{color:"#ffffff",intensity:"1"},null,-1)),u("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:t,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(c(),w(y,null,{default:b((()=>[f(P)])),_:1})),f(o,S(C(a)),null,16)])),_:1})],64)}}});export{B as default};
