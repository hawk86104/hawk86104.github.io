import{_ as t,bR as n,K as o,bY as r}from"./three.qSkR4_5R1743066865732.js";import{a as e}from"./@tresjs.NxYvETXi1743066865732.js";import{d as a,b as s,a3 as c,w as i,o as u,H as f,N as l,aj as p,ak as h}from"./@vue.L-brCdZe1743066865732.js";!function(t,n){const o=m,r=w();for(;;)try{if(106817===-parseInt(o(225))/1*(-parseInt(o(222))/2)+parseInt(o(210))/3+-parseInt(o(218))/4*(parseInt(o(213))/5)+-parseInt(o(217))/6*(parseInt(o(240))/7)+parseInt(o(219))/8*(parseInt(o(233))/9)+-parseInt(o(238))/10*(-parseInt(o(215))/11)+parseInt(o(251))/12*(parseInt(o(258))/13))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(243)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp(t(257)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=b(t(237));n[t(211)](r+t(234))&&o[t(211)](r+t(214))?b():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(243)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=w();return m=function(t,n){return o[t-=208]},m(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function("return (function() "+t(216)+");")()}catch(o){n=window}return n}(),o=n[t(252)]=n.console||{},r=[t(235),t(220),"info","error",t(227),"table",t(250)];for(let e=0;e<r[t(246)];e++){const n=g[t(208)][t(230)].bind(g),a=r[e],s=o[a]||n;n[t(223)]=g[t(255)](g),n[t(256)]=s.toString[t(255)](s),o[a]=n}}))();const v=()=>{const o=m;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(247)][o(254)]+o(244)+n[o(248)]+o(244)+n[o(249)]+"\n       void main() {\n\t\t\t\t\t"+n.beginnormal_vertex+o(239)+t[o(247)].defaultnormal_vertex+o(239)+t[o(247)][o(242)]+"\n          "+t[o(247)][o(221)]+o(239)+t[o(247)][o(224)]+o(239)+t[o(247)][o(241)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"};function w(){const t=["\n      \t","string","length","ShaderChunk","bsdfs","shadowmap_pars_vertex","trace","732DJRjho","console","shadowmap_pars_fragment","common","bind","toString","function *\\( *\\)","6981kejrol","action","constructor","gger","581247ajlAOM","test","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","10bHclnX","input","768086MzwLsp",'{}.constructor("return this")( )',"6jRTDZS","413684zVPSfZ","8XpYiCD","warn","project_vertex","52706bphuQa","__proto__","worldpos_vertex","1ZlmICP","stateObject","exception","lights_pars_begin","\n\t ","prototype","packing","while (true) {}","62793svzMPa","chain","log","debu","init","20FaoeXs","\n          ","600803jPViIS","shadowmap_vertex","begin_vertex","apply"];return(w=function(){return t})()}const _=()=>{const o=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[o(254)]+o(229)+n[o(231)]+o(229)+t[o(247)][o(248)]+o(229)+t[o(247)][o(228)]+o(229)+t[o(247)][o(253)]+o(229)+t[o(247)].shadowmask_pars_fragment+o(212)};function b(t){function n(t){const o=m;if(typeof t===o(245))return function(t){}[o(208)](o(232))[o(243)]("counter");1!==(""+t/t)[o(246)]||t%20==0?function(){return!0}[o(208)](o(236)+o(209)).call(o(259)):function(){return!1}[o(208)](o(236)+o(209))[o(243)](o(226)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=M;!function(t,n){const o=M,r=j();for(;;)try{if(278704===parseInt(o(281))/1+-parseInt(o(329))/2*(-parseInt(o(300))/3)+parseInt(o(282))/4+-parseInt(o(297))/5+-parseInt(o(309))/6+parseInt(o(314))/7*(parseInt(o(318))/8)+-parseInt(o(280))/9*(-parseInt(o(324))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[M(287)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=M,n=new RegExp(t(306)),o=new RegExp(t(316),"i"),r=T(t(304));n[t(311)](r+t(326))&&o[t(311)](r+t(294))?T():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=M;let n;try{n=Function(t(319)+t(296)+");")()}catch(e){n=window}const o=n.console=n.console||{},r=[t(317),"warn",t(308),"error",t(323),"table",t(298)];for(let a=0;a<r[t(290)];a++){const n=S[t(325)][t(320)][t(285)](S),e=r[a],s=o[e]||n;n[t(332)]=S[t(285)](S),n[t(283)]=s.toString.bind(s),o[e]=n}}))();const y=[x(291)],C=[x(284)];function j(){const t=["whiteFloorMesh","exception","541810NbcslA","constructor","chain","RepeatWrapping","debu","130XQbfsJ","TresMesh","#990","__proto__","uColor","stateObject","45mjbMMS","223185EepCaT","368704WlyJxg","toString","args","bind","value","apply","shadowColor","TresPlaneGeometry","length","rotation-x","uShadowColor","wrapS","input","call",'{}.constructor("return this")( )',"1453535BZQUyc","trace","merge","1203AwQRgp","color","Color","gger","init","edge","function *\\( *\\)","string","info","2273922gBqnuE","DoubleSide","test","fEdge","uniforms","7YzEqBS","lights","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","2688536CJtpQF","return (function() ","prototype","while (true) {}"];return(j=function(){return t})()}function M(t,n){const o=j();return M=function(t,n){return o[t-=280]},M(t,n)}const E=a({__name:x(322),props:{size:{default:[20,20]},color:{default:x(331)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const a=x;let d,g;const m=n,w=s(),{map:b}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);b[a(293)]=b.wrapT=t[a(327)];const I={uniforms:o[a(299)]([r[a(315)],{uTexture:{type:"t",value:b},uColor:{value:new(t[a(302)])(m[a(301)])},uShadowColor:{value:new(t[a(302)])(m[a(288)])},fEdge:{type:"f",value:m[a(305)]}}]),side:t[a(310)],vertexShader:v(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>m[a(305)]),(t=>{const n=a;I.uniforms[n(312)].value=t})),i((()=>m.color),(n=>{const o=a;I.uniforms[o(333)].value=new(t[o(302)])(m[o(301)])})),i((()=>m[a(288)]),(n=>{const o=a;I[o(313)][o(292)][o(286)]=new(t[o(302)])(m[o(288)])})),(t,n)=>{const o=a;return u(),f(o(330),{ref_key:"tmRef",ref:w,"rotation-x":-Math.PI/2},[l(o(289),{args:m.size},null,8,C),l("TresShaderMaterial",p(h(I)),null,16)],8,y)}}});function T(t){function n(t){const o=M;if(typeof t===o(307))return function(t){}[o(325)](o(321))[o(287)]("counter");1!==(""+t/t)[o(290)]||t%20==0?function(){return!0}[o(325)](o(328)+o(303))[o(295)]("action"):function(){return!1}[o(325)]("debu"+o(303))[o(287)](o(334)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
