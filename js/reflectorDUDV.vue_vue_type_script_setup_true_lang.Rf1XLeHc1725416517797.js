import{b_ as t,a0 as n,q as e,r}from"./three.VTQVqxMx1725416517797.js";import{N as o}from"./@tresjs.5lh7VmqZ1725416517797.js";import{R as s,b as i}from"./all.three.uEDUuufF1725416517797.js";import{d as c,a5 as u,a2 as a,w as f,o as l,E as p,L as d,u as h}from"./@vue._6MD2XyK1725416517797.js";const m=j;function w(){const t=["action","ignoreObjects","update","function *\\( *\\)","console","reflectivity","call","12EEQYTj","484430tpmECs","while (true) {}","primitive","forEach","22VpSYgJ","warn","renderTargetUniform","value","renderTarget","textureMatrixUniform","__proto__","1535280BWjAMn","1469230OCHyBL","apply","toString","905536eaCMae","showGridHelper","constructor","TresGroup","test",'{}.constructor("return this")( )',"visible","reflectorDUDV","table","tReflectBlur","input","uMatrix","568cillrm","wrapS","isMesh","log","info","debu","counter","trace","975114BuMunT","prototype","gger","repeat","6749980OXbBdQ","string","bind","834qhdeAI","uniforms","size","18lnUJQu","wrapT","scale","exception","length","object","return (function() ","texture"];return(w=function(){return t})()}!function(t,n){const e=j,r=w();for(;;)try{if(194016===-parseInt(e(347))/1*(parseInt(e(362))/2)+-parseInt(e(355))/3+-parseInt(e(331))/4+parseInt(e(320))/5*(-parseInt(e(319))/6)+parseInt(e(332))/7+parseInt(e(335))/8*(-parseInt(e(365))/9)+-parseInt(e(359))/10*(-parseInt(e(324))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=j,n=new RegExp(t(315)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_("init");n[t(339)](r+"chain")&&e[t(339)](r+t(345))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[j(333)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function j(t,n){const e=w();return(j=function(t,n){return e[t-=309]})(t,n)}g(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(310)+t(340)+");")()}catch(e){n=window}return n}(),e=n[t(316)]=n[t(316)]||{},r=[t(350),t(325),t(351),"error",t(368),t(343),t(354)];for(let o=0;o<r[t(369)];o++){const n=g[t(337)][t(356)].bind(g),s=r[o],i=e[s]||n;n[t(330)]=g[t(361)](g),n[t(334)]=i[t(334)][t(361)](i),e[s]=n}}))();const y=[m(367)],v=[m(309)],I=["object"],x=c({__name:m(342),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:w}){const b=m;let g,j;const x=c,_=new s,M=new t(x[b(364)][0]-.5,x[b(364)][1]);M[b(341)]=x.showGridHelper;const{map:B}=([g,j]=u((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),g=await g,j(),g);B[b(348)]=n,B[b(366)]=n,B[b(358)].set(6,3);const E=new i({map:B,reflectivity:x[b(317)]});E[b(363)].tReflect={value:_[b(328)][b(311)]},E[b(363)][b(344)]=_[b(326)],E.uniforms[b(346)]=_[b(329)];const R=new e(new r(x[b(364)][0],x[b(364)][1]),E);return R.rotation.x=-Math.PI/2,R.add(_),R.onBeforeRender=(t,n,e)=>{const r=b;R[r(341)]=!1,x[r(313)][r(323)]((t=>{const n=r;t.isMesh&&(t.visible=!1),t[n(327)]&&t[n(327)][n(349)]&&(t[n(327)][n(341)]=!1)})),_[r(314)](t,n,e),x[r(313)][r(323)]((t=>{const n=r;t[n(349)]&&(t.visible=!0),t[n(327)]&&t[n(327)][n(349)]&&(t[n(327)][n(341)]=!0)})),R[r(341)]=!0},a((()=>{const t=b;x[t(317)]&&(E[t(363)].uReflectivity[t(327)]=x[t(317)])})),f((()=>x[b(336)]),(t=>{M[b(341)]=t})),w({reflector:_}),(t,n)=>{const e=b;return l(),p(e(338),{scale:x[e(367)]},[d(e(322),{object:h(R),"position-y":-.01},null,8,v),d("primitive",{object:h(M)},null,8,I)],8,y)}}});function _(t){function n(t){const e=j;if(typeof t===e(360))return function(t){}[e(337)](e(321))[e(333)](e(353));1!==(""+t/t)[e(369)]||t%20==0?function(){return!0}.constructor(e(352)+e(357))[e(318)](e(312)):function(){return!1}[e(337)](e(352)+e(357))[e(333)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
