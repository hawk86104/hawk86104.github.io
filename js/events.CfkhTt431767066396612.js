import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{K as a}from"./@tresjs.B1f7s3pS1767066396612.js";import{q as t}from"./vite-plugin-qiankun.B06WoCqG1767066396612.js";import{u as o}from"./index.CaSXR_Vo1767066396612.js";const{defineComponent:n}=await e("vue"),{createElementVNode:r,unref:l,normalizeProps:i,guardReactiveProps:s,createVNode:u,resolveComponent:m,mergeProps:c,withCtx:p,openBlock:h,createElementBlock:d,createCommentVNode:f,Fragment:w}=await e("vue"),v=["rotation"],g={key:0,class:"text-center text-white w-full absolute"},{SRGBColorSpace:P,BasicShadowMap:T,NoToneMapping:M}=await e("three"),{reactive:S,ref:y,onMounted:_,shallowRef:b,watchEffect:x}=await e("vue"),k=n({__name:"events",setup(e){const n=S({clearColor:"#201919",shadows:!0,alpha:!1,shadowMapType:T,outputColorSpace:P,toneMapping:M,windowSize:!t.__POWERED_BY_QIANKUN__}),k=S({enableDamping:!0,dampingFactor:.05,enableZoom:!0,autoRotate:!1,autoRotateSpeed:2,maxPolarAngle:Math.PI,minPolarAngle:0,maxAzimuthAngle:Math.PI,minAzimuthAngle:-Math.PI,enablePan:!0,keyPanSpeed:7,maxDistance:100,minDistance:0,minZoom:0,maxZoom:100,zoomSpeed:1,enableRotate:!0,rotateSpeed:1}),I=y(),j=b(),A=o();let C=0;const R=({elapsed:e})=>{I.value&&A.floatMove&&(C++,I.value.position.y=4+3*Math.sin(C/60))};function D(e){e&&"ffff40"!==e.object.material.color.getHexString()&&(window.qiankunProps?.setGlobalState({mouseInState:!0,curType:"mouseIn"}),e.object.material.color.set("#ffFF40"))}function N(e){e&&"006060"!==e.object.material.color.getHexString()&&(window.qiankunProps?.setGlobalState({mouseInState:!1,curType:"mouseIn"}),e.eventObject.material.color.set("#006060"))}x(()=>{j.value&&(j.value.shadow.mapSize.set(1e3,1e3),j.value.shadow.camera.near=.5,j.value.shadow.camera.far=5e4,j.value.shadow.camera.top=20,j.value.shadow.camera.right=20,j.value.shadow.camera.left=-20,j.value.shadow.camera.bottom=-20)});const E=y("auto");return _(()=>{I.value.position.y=4;const e=document.querySelector(".app-main");e&&(E.value=`${e.clientHeight}px`)}),(e,o)=>{const P=m("TresCanvas");return h(),d(w,null,[u(P,c(n,{style:{height:E.value},onLoop:R}),{default:p(()=>[o[2]||(o[2]=r("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),u(l(a),i(s(k)),null,16),o[3]||(o[3]=r("TresAmbientLight",{intensity:.5},null,-1)),r("TresMesh",{ref_key:"sphereRef",ref:I,position:[0,4,0],"cast-shadow":"",onPointerenter:D,onPointerleave:N},[...o[0]||(o[0]=[r("TresSphereGeometry",{args:[2,32,32]},null,-1),r("TresMeshToonMaterial",{color:"#006060"},null,-1)])],544),r("TresMesh",{rotation:[-Math.PI/2,0,0],"receive-shadow":""},[...o[1]||(o[1]=[r("TresPlaneGeometry",{args:[20,20,20,20]},null,-1),r("TresMeshToonMaterial",null,null,-1)])],8,v),r("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:j,position:[10,8,4],intensity:1,"cast-shadow":""},null,512),o[4]||(o[4]=r("TresDirectionalLight",{position:[10,2,4],intensity:1,"cast-shadow":""},null,-1)),o[5]||(o[5]=r("TresGridHelper",null,null,-1))]),_:1},16,["style"]),l(t).__POWERED_BY_QIANKUN__?f("",!0):(h(),d("h1",g,"请通过qiankun主程序访问此页面"))],64)}}});export{k as default};
