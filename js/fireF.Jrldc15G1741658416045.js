var t,e,s,n,i,r,a,o,c,h,l,u=Object.defineProperty,p=(t,e,s)=>(((t,e,s)=>{e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as f}from"./pagesShow.vue_vue_type_script_setup_true_lang.6Bo5lrOF1741658416045.js";import{_ as d,b as m,h as w,e as g,M as S,an as y,c as v,X as x,r as I,ar as P,l as A,a2 as F,V as b,C as z}from"./three.FyUEtfsR1741658416045.js";import{m as T,e as E}from"./@tresjs.W3PFJhMo1741658416045.js";import{d as R,b as O,a2 as V,o as C,f as q,g as M,j as N}from"./@vue.NRI7TcgI1741658416045.js";import"./three-custom-shader-material.irEwOpzM1741658416045.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";const _=it;!function(t,e){const s=it,n=Rt();for(;;)try{if(239313===parseInt(s(874))/1+parseInt(s(673))/2*(parseInt(s(528))/3)+-parseInt(s(889))/4*(parseInt(s(849))/5)+parseInt(s(830))/6+parseInt(s(813))/7+-parseInt(s(812))/8+parseInt(s(789))/9)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const j=class{constructor(t){this.name=t}};t=_(571),p(j,"Time",new j(_(754))),p(j,t,new j(_(571)));let B=j;class U{constructor(){this.init()}[_(721)](){const t=_;this[t(764)]=B[t(754)],this[t(636)]=1,this.age=0,this[t(542)]=new(d[t(505)]),this[t(791)]=new m,this[t(923)]=new(d[t(666)]),this.acceleration=new(d[t(666)]),this[t(450)]=new(d[t(666)]),this.rotation=0,this[t(724)]=0,this.size=new(d[t(658)]),this.color=new(d[t(778)]),this.alpha=1,this[t(831)]=new(d[t(658)]),this[t(635)]=new(d[t(778)]),this[t(917)]=1}[_(632)](t,e,s,n,i,r,a,o,c,h,l,u,p,f,d,m){const w=_;this.progressType=t,this[w(636)]=e,this[w(647)]=s,this[w(542)][w(665)](n),this[w(791)][w(665)](i),this[w(923)][w(665)](r),this.acceleration[w(665)](a),this.normal[w(665)](o),this[w(641)]=c,this.rotationalSpeed=h,this[w(740)]=l,this[w(858)][w(665)](u),this[w(851)]=p,this[w(831)][w(665)](f),this.initialColor[w(665)](d),this.initialAlpha=m}[_(810)](t){const e=_;t[e(632)](this.progressType,this[e(636)],this.age,this[e(542)],this[e(791)],this[e(923)],this[e(803)],this[e(450)],this[e(641)],this[e(724)],this.size,this[e(858)],this[e(851)],this[e(831)],this[e(635)],this[e(917)])}copy(t){const e=_;this[e(632)](t[e(764)],t[e(636)],t.age,t[e(542)],t[e(791)],t[e(923)],t[e(803)],t[e(450)],t[e(641)],t.rotationalSpeed,t[e(740)],t[e(858)],t.alpha,t[e(831)],t.initialColor,t[e(917)])}}class X{constructor(){p(this,e,function(){const t=_,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[it(713)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=it,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(887),"i"),n=qt(t(721));e[t(770)](n+"chain")&&s.test(n+t(489))?qt():n("0")}))()}();const s=new(d[t(666)]);return function(e=new w,n=null){const i=t,r=e.min,a=e[i(755)];for(let t=0;t<this.activeParticleCount;t++){const e=this[i(535)](t);let o=e.position;n&&(s.copy(o),s.applyMatrix4(n),o=s);const c=Math.max(e[i(740)].x,e.size.y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,f=o.z-c,d=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=f),(0==t||o.z>a.z)&&(a.z=d)}return e}}()),p(this,s,function(){const t=_,e=new m,s=new(d[t(666)]),n=new(d[t(666)]);return function(i=new(d[t(530)]),r=null){const a=t;let o=0;for(let t=0;t<this[a(859)];t++){const i=this.getState(t);let c=i[a(791)];r&&(n.copy(c),n[a(829)](r),c=n);const h=Math[a(755)](i.size.x,i[a(740)].y);if(0==t)e.copy(c),o=h;else{s[a(665)](c).sub(e);const t=s[a(475)]()+h;if(t>o){const n=(t-o)/2;s.normalize()[a(506)](n),e.add(s),o+=n}}}return i[a(584)][a(665)](e),i[a(737)]=o,i}}());const t=_;this[t(618)]=0,this[t(859)]=0,this[t(716)]=[]}[_(721)](t){this[_(696)](t)}[_(696)](t){const e=_;this[e(618)]!=t&&(this[e(634)](),this.allocate(t)),this[e(618)]=t}[_(765)](t){this[_(859)]=t}[_(492)](t){const e=_;this[e(716)]=[],this[e(618)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new U}[_(634)](){}[_(486)](){return this[_(618)]}[_(854)](){}[_(913)](t,e){const s=_;if(t>=this.particleCount)throw new Error(s(738));if(e>=this[s(618)])throw new Error(s(539));const n=this.particleStates[t],i=this[s(716)][e];n.copyTo(i)}[_(861)](t,e){const s=_;if(t>=this.particleCount)throw new Error(s(879));return this[s(716)][t][s(665)](e)}[_(535)](t){const e=_;if(t>=this[e(618)])throw new Error(e(640));return this[e(716)][t]}}e=_(553),s=_(470);class W{constructor(t,e,s=0){const n=_;this[n(736)]=t,this[n(475)]=e,this.id=s}}class D{constructor(){const t=_;this[t(518)]={},this[t(750)]=[]}addSequence(t,e,s){const n=_;if(this[n(497)](s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new W(t,e,s);return this[n(518)][s]=i,this[n(750)][n(855)](s),i}[_(768)](t){const e=_;if(!this[e(497)](t))throw new Error(e(501));return this.sequences[t]}[_(689)](){return this.ids}[_(497)](t){return!!this.sequences[t]}}class Y{constructor(){}initializeState(t){const e=_;t.initialColor[e(642)](1,1,1),t[e(831)][e(642)](1,1),t.initialAlpha=1,t[e(764)]=B[e(754)],t[e(636)]=0,t[e(647)]=0,t[e(542)][e(642)](0,0,0,0),t.position[e(642)](0,0,0),t[e(923)][e(642)](0,0,0),t[e(803)][e(642)](0,0,0),t.normal[e(642)](0,0,1),t[e(641)]=0,t[e(724)]=0,t[e(740)][e(665)](t[e(831)]),t[e(858)][e(665)](t.initialColor),t[e(851)]=1}}class J extends Y{constructor(){super()}[_(825)](t){super[_(825)](t)}}class L{constructor(){}[_(698)](){}}class Z extends L{constructor(){const t=_;super(),this[t(533)]=new(d[t(666)]),this[t(522)]=new(d[t(666)]),this.stateAcceleration=new(d[t(666)]),this[t(495)]=new m}[_(698)](t,e){const s=_;return super[s(698)](t,e),this[s(727)][s(665)](t[s(803)]),this[s(522)].copy(this[s(727)]),this[s(522)][s(506)](e),t[s(923)][s(602)](this.timeScaledAcceleration),this[s(495)][s(665)](t[s(923)]),this.timeScaledVelocity[s(665)](this.stateVelocity),this[s(533)][s(506)](e),t[s(791)][s(602)](this[s(533)]),t.age=t[s(647)]+e,t[s(641)]=t[s(641)]+e*t[s(724)],!0}}class G{static[_(920)](t,e,s){const n=_;return Math.min(Math[n(755)](t,e),s)}static[_(556)](){return performance.now()/1e3}}class k{constructor(){this[_(796)]=[]}[_(600)](t){this[_(796)].push(t)}[_(521)](t,e){const s=_;for(const n of this[s(796)])n[s(521)](t,e)}[_(615)](t){const e=_;if(t>=this[e(796)][e(475)])throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(796)][t]}}const H=class{constructor(t){this[_(646)]=t}};n=_(579),p(H,"NotStarted",new H("NotStarted")),p(H,"Running",new H("Running")),p(H,"Paused",new H("Paused")),p(H,n,new H(_(579)));let $=H;class K{constructor(t,e){p(this,i,function(){const t=new S;return function(){const e=it;let s=null;this[e(663)]&&(s=t,s.copy(this[e(675)][e(481)])[e(567)]()),this[e(748)][e(575)]()?(this[e(716)].computeBoundingBox(this[e(549)],s),this[e(748)][e(537)](this[e(549)])):(this[e(716)][e(470)](this[e(871)],s),this.particleSystemRenderer.setBoundingSphere(this[e(871)]))}}());const s=_;this.owner=t,this[s(675)].visible=!1,this.visible=!0,this[s(748)]=e,this[s(651)]=!1,this[s(811)]=0,this[s(859)]=0,this[s(607)]=!0,this[s(499)]=!1,this[s(895)]=null,this[s(452)]=new k,this[s(471)]=[],this[s(592)]=[],this[s(716)]=null,this[s(708)]=$[s(664)],this[s(517)]=new D,this[s(631)]=null,this.transformInitialDirectionInWorldSpace=!0,this.boundingBox=new w,this[s(871)]=new g}init(t){const e=_;if(this[e(651)])throw new Error(e(688));this[e(811)]=t,this.particleSystemRenderer?(this.particleSystemRenderer.setOwner(this[e(675)]),this[e(748)][e(721)](this[e(811)],this[e(607)]),this[e(748)][e(847)](this.simulateInWorldSpace),this.particleStates=this[e(748)][e(605)]()):(this[e(716)]=new X,this[e(716)].init(this[e(811)])),this[e(619)](new J),this[e(763)](new Z),this[e(651)]=!0}[_(892)](){return this[_(745)]}setVisibile(t){return this.visible=t}[_(815)](t){this.onUpdateCallback=t}[_(521)](t,e){const s=_;if(this[s(708)]==$[s(775)]){if(this.owner[s(515)](!0),t=null==t||null==t?G[s(556)]():t,e=null==e||null==e?t-this[s(706)]:e,this[s(499)]&&this[s(708)]==$[s(775)]){const t=this[s(895)].update(e);t>0&&this[s(795)](t),this[s(585)](e),this.onUpdateCallback&&this[s(631)](this[s(859)]),this[s(702)]()}this[s(452)][s(521)](t,e),this[s(706)]=t}}[_(767)](t,e){const s=_;if(this[s(892)]()&&this[s(748)]){const n=t[s(620)];t.autoClear=!1,this.owner[s(745)]=!0,this[s(675)][s(648)]=!0,this[s(748)][s(767)](this[s(675)],t,e),this[s(675)][s(745)]=!1,t[s(620)]=n}}[_(736)](){const t=_;this[t(708)]!=$[t(664)]&&this.systemState!=$[t(730)]||(this[t(708)]=$.Running,this.startTime=G[t(556)](),this[t(706)]=this.startTime)}[_(682)](){const t=_;this[t(708)]==$[t(775)]&&(this[t(708)]=$[t(730)])}[_(925)](){}[_(624)](){return this[_(708)]}[_(712)](t){const e=_;return this[e(895)]=t,this[e(895)][e(811)]=this[e(811)],this[e(499)]=!0,this[e(895)]}[_(600)](t){const e=_;this[e(452)][e(600)](t)}[_(615)](t){const e=_;return this[e(452)][e(615)](t)}[_(619)](t){const e=_;return this.particleStateInitializers[e(855)](t),t}getParticleStateInitializerCount(){const t=_;return this[t(471)][t(475)]}[_(637)](t){const e=_;if(t>=this[e(471)].length)throw new Error(e(622));return this.particleStateInitializers[t]}addParticleStateOperator(t){const e=_;return this.particleStateOperators[e(855)](t),t}[_(814)](){return this.particleStateOperators.length}[_(907)](t){const e=_;if(t>=this[e(592)][e(475)])throw new Error(e(902));return this[e(592)][t]}[_(643)](){return this[_(811)]}[_(852)](){return this[_(859)]}getParticleState(t){const e=_;if(t>=this[e(859)])throw new Error(e(906));return this[e(716)].getState(t)}[_(779)](){return this[_(716)]}[_(457)](){return this[_(748)]}[_(558)](){return this.simulateInWorldSpace}[_(847)](t){const e=_;this[e(607)]=t,this[e(748)]&&this.particleSystemRenderer[e(847)](this.simulateInWorldSpace)}setTransformInitialDirectionInWorldSpace(t){this.transformInitialDirectionInWorldSpace=t}[_(649)](t,e,s=0){this[_(517)].addSequence(t,e,s)}[_(480)](){return this[_(517)]}[_(781)](){return this.particleEmitter}activateParticles(t){const e=_;if(this.systemState==$[e(775)]){const s=G[e(920)](this[e(859)]+t,0,this[e(811)]);for(let t=this[e(859)];t<s;t++)this[e(519)](t);this[e(859)]=s,this[e(716)][e(765)](this[e(859)])}}[(i=_(702),_(519))](t){const e=_;if(this[e(708)]==$[e(775)]){const s=this[e(716)][e(535)](t);s[e(647)]=0;for(let t=0;t<this.particleStateInitializers[e(475)];t++){this[e(471)][t][e(825)](s)}if(this[e(607)]){s[e(791)][e(829)](this[e(675)].matrixWorld);const t=s[e(923)].length();if(this[e(663)]){s[e(923)].transformDirection(this.owner.matrixWorld).multiplyScalar(t);const n=s.acceleration[e(475)]();s[e(803)][e(589)](this[e(675)][e(481)])[e(506)](n)}}this.particleStates[e(854)](t)}}[_(585)](t){const e=_;if(this.systemState==$.Running){let s=0;for(;s<this[e(859)];){this.advanceActiveParticle(s,t)?s++:(s<this[e(859)]-1&&this[e(604)](this.activeParticleCount-1,s),this[e(859)]--)}this[e(716)][e(765)](this[e(859)])}}advanceActiveParticle(t,e){const s=_;if(this[s(708)]==$[s(775)]){const n=this[s(716)][s(535)](t);for(let t=0;t<this[s(592)][s(475)];t++){const i=this[s(592)][t].updateState(n,e),r=n.lifetime;if(!i||0!=r&&n[s(647)]>=r)return!1}return this[s(716)].flushParticleStateToBuffers(t),!0}return!1}copyParticleInArray(t,e){const s=_;this[s(716)][s(913)](t,e),this[s(716)][s(854)](e)}static[_(782)](t,e,s){const n=_,i=(t,e,s)=>{const n=it;e(t);for(const r in t)if(t[n(680)](r)){const s=t[r];typeof s===n(717)&&i(s,e)}};i(t,(t=>{const s=it;t.type&&(t[s(777)]=e[s(909)](t[s(777)]))}));const r=t[n(674)],a=t[n(607)],o=t[n(560)],c=o.type[n(782)](o[n(554)]),h=new y,l=new K(h,c,s);l[n(721)](r),l[n(847)](a);const u=t[n(805)],p=u[n(777)][n(782)](u[n(554)]);if(l[n(712)](p),t[n(518)])for(const f of t[n(518)])l[n(649)](f[n(736)],f[n(475)],f.id);if(t.initializers)for(const f of t.initializers)l[n(619)](f[n(777)][n(782)](l,f[n(554)]));if(t[n(459)])for(const f of t.operators){const t=l[n(763)](f[n(777)].fromJSON(l,f[n(554)]));f[n(671)]&&t[n(701)](f[n(671)])}return[l,h]}[_(587)](t){const e=_,s=this[e(457)](),n=this[e(781)](),i=this[e(480)](),r=i.getSequenceIDs()[e(742)]((t=>{const s=e,n=i[s(768)](t);return{id:t,start:n[s(736)],length:n.length}})),a=[],o=this.getParticleStateInitializerCount();for(let l=0;l<o;l++){const s=this[e(637)](l);s[e(733)]!==J&&a[e(855)]({type:t[e(878)](s[e(733)]),params:s.toJSON(t)})}const c=[],h=this[e(814)]();for(let l=0;l<h;l++){const s=this[e(907)](l);if(s[e(733)]!==Z){const n=s[e(587)](t),i=n[e(554)]||n,r=n[e(554)]?n.elements:null,a={type:t[e(878)](s[e(733)]),params:i};r&&(a[e(671)]=r),c[e(855)](a)}}return{maxParticleCount:this[e(643)](),simulateInWorldSpace:this[e(558)](),renderer:{type:t[e(878)](s[e(733)]),params:s[e(587)]()},emitter:{type:t[e(878)](n[e(733)]),params:n.toJSON()},sequences:r,initializers:a,operators:c}}}class Q{constructor(){const t=_;this[t(864)]=[],this.startupTime=performance[t(630)]()/1e3,this[t(706)]=this[t(790)],this[t(452)]=new k}update(){const t=_,e=G[t(556)](),s=e-this[t(706)];for(const n of this[t(864)])n[t(521)](e,s);this[t(452)][t(521)](e,s),this.lastUpdateTime=e}[_(767)](t,e){const s=_;for(const n of this[s(864)])n.render(t,e)}[_(490)](t){const e=_;this.particleSystems[e(855)](t)}[_(600)](t){this[_(452)].addComponent(t)}getComponent(t){return this[_(452)].getComponent(t)}}class tt{constructor(){const t=_;this[t(651)]=!1,this.particleCount=0,this[t(675)]=null,this.simulateInWorldSpace=!1}setSimulateInWorldSpace(t){this[_(607)]=t}[_(605)](){}setOwner(t){this[_(675)]=t}init(t){const e=_;if(this.particleCount=t,!this.initialized)return this[e(651)]=!0,!0;throw new Error(e(677))}render(){}}class et extends X{constructor(){const t=_;super(),this[t(804)]=null,this[t(608)]=null,this[t(692)]=null,this[t(808)]=null,this[t(719)]=null,this[t(915)]=null,this[t(780)]=null,this.accelerations=null,this[t(503)]=null,this[t(700)]=null,this[t(520)]=null,this.sizes=null,this[t(653)]=null,this[t(905)]=null,this.initialColors=null,this[t(846)]=!1,this.verticesPerParticle=6}[_(721)](t,e=!1){const s=_;this[s(846)]=e,this[s(846)]?this.verticesPerParticle=1:this[s(922)]=6,super[s(721)](t),this[s(492)](t)}setParticleCount(t){super.setParticleCount(t)}[_(765)](t){const e=_;super[e(765)](t),t>0?this.instanced?this[e(804)].instanceCount=t:this[e(804)].setDrawRange(0,this.verticesPerParticle*t):this.instanced?this[e(804)][e(536)]=0:this[e(804)][e(794)](0,0)}flushParticleStateToBuffers(t){const e=_;if(t>=this[e(618)])throw new Error(e(833));const s=this[e(535)](t),n=t*this[e(922)];for(let i=0;i<this[e(922)];i++)this[e(692)][e(683)](n+i,s.lifetime),this.lifetimes[e(563)]=!0,this[e(808)][e(683)](n+i,s[e(647)]),this[e(808)].needsUpdate=!0,this[e(719)][e(678)](n+i,s[e(542)].x,s[e(542)].y,s.sequenceElement.z,s.sequenceElement.w),this[e(719)][e(563)]=!0,this[e(915)][e(581)](n+i,s[e(791)].x,s[e(791)].y,s.position.z),this[e(915)].needsUpdate=!0,this[e(780)].setXYZ(n+i,s.velocity.x,s.velocity.y,s[e(923)].z),this[e(780)][e(563)]=!0,this[e(577)].setXYZ(n+i,s[e(803)].x,s[e(803)].y,s.acceleration.z),this[e(577)][e(563)]=!0,this[e(503)][e(581)](n+i,s[e(450)].x,s.normal.y,s.normal.z),this[e(503)].needsUpdate=!0,this[e(700)][e(683)](n+i,s[e(641)]),this[e(700)].needsUpdate=!0,this[e(520)][e(683)](n+i,s.rotationalSpeed),this.rotationalSpeeds[e(563)]=!0,this.sizes.setXY(n+i,s.size.x,s[e(740)].y),this.sizes[e(563)]=!0,this[e(653)].setXYZ(n+i,s[e(858)].r,s[e(858)].g,s[e(858)].b),this[e(653)][e(563)]=!0,this[e(447)][e(683)](n+i,s[e(851)]),this[e(447)][e(563)]=!0,this.initialSizes[e(593)](n+i,s[e(831)].x,s.initialSize.y),this[e(905)][e(563)]=!0,this[e(516)][e(683)](n+i,s[e(917)]),this[e(516)][e(563)]=!0}[_(913)](t,e){const s=_;super[s(913)](t,e),this[s(854)](e)}[_(861)](t,e){const s=_;if(t>=this.particleCount)throw new Error(s(555));super[s(861)](t,e),this[s(854)](t)}[_(842)](){return this.positions}[_(828)](){return this[_(472)]}[_(757)](){return this[_(700)]}[_(872)](){return this[_(719)]}[_(774)](){return this[_(653)]}[_(463)](){return this[_(804)]}[_(492)](t){const e=_;super[e(492)](t);const s=(t,s)=>{const n=e;return this[n(846)]?new(d[n(841)])(t,s):new(d[n(904)])(t,s)},n=this.verticesPerParticle*this[e(618)];if(this[e(846)]){const t=new(d[e(483)]),s=new Float32Array(18);this.basePositions=new(d[e(904)])(s,3),t[e(926)](e(791),this[e(912)]),this[e(912)][e(563)]=!0,this[e(912)][e(581)](0,-1,1,0),this[e(912)][e(581)](1,-1,-1,0),this[e(912)][e(581)](2,1,1,0),this[e(912)][e(581)](3,-1,-1,0),this[e(912)][e(581)](4,1,-1,0),this[e(912)][e(581)](5,1,1,0);const n=new Float32Array(12);this[e(848)]=new(d[e(904)])(n,2),t.setAttribute(e(728),this[e(848)]),this[e(848)][e(563)]=!0,this[e(848)][e(593)](0,0,1),this[e(848)][e(593)](1,0,0),this[e(848)][e(593)](2,1,1),this[e(848)][e(593)](3,0,0),this[e(848)][e(593)](4,1,0),this.baseUVs[e(593)](5,1,1);const i=new Float32Array(6);this.customIndexes=new v(i,1),t[e(926)](e(583),this[e(465)]),this[e(465)][e(563)]=!0,this.customIndexes[e(683)](0,0),this[e(465)].setX(1,1),this[e(465)][e(683)](2,3),this.customIndexes.setX(3,1),this[e(465)].setX(4,2),this[e(465)][e(683)](5,3),this[e(804)]=(new(d[e(496)]))[e(665)](t),this[e(804)].instanceCount=0}else{this[e(804)]=new(d[e(483)]);const t=new Float32Array(n);this[e(465)]=new(d[e(904)])(t,1),this[e(804)][e(926)](e(583),this[e(465)]),this[e(465)].needsUpdate=!0;for(let s=0;s<this.particleCount;s++){const t=s*this[e(922)];this[e(465)][e(683)](t,0),this[e(465)][e(683)](t+1,1),this[e(465)][e(683)](t+2,3),this[e(465)][e(683)](t+3,1),this[e(465)][e(683)](t+4,2),this[e(465)][e(683)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),f=new Float32Array(2*n),m=new Float32Array(3*n),w=new Float32Array(n),g=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(915)]=s(o,3),this[e(915)][e(467)](d[e(625)]),this.geometry[e(926)](e(610),this[e(915)]),this[e(692)]=s(i,1),this[e(692)].setUsage(d[e(625)]),this.geometry[e(926)](e(636),this[e(692)]),this[e(808)]=s(r,1),this[e(808)][e(467)](d[e(625)]),this[e(804)][e(926)](e(647),this[e(808)]),this[e(719)]=s(a,4),this[e(719)][e(467)](x),this.geometry.setAttribute(e(542),this[e(719)]),this[e(780)]=s(c,3),this.velocities.setUsage(d[e(625)]),this.geometry[e(926)](e(923),this.velocities),this[e(577)]=s(h,3),this[e(577)][e(467)](d[e(625)]),this.geometry.setAttribute("acceleration",this[e(577)]),this[e(503)]=s(l,3),this[e(503)][e(467)](d[e(625)]),this[e(804)][e(926)](e(450),this[e(503)]),this.rotations=s(u,1),this[e(700)][e(467)](d[e(625)]),this[e(804)].setAttribute("rotation",this[e(700)]),this[e(520)]=s(p,1),this[e(520)][e(467)](d[e(625)]),this[e(804)].setAttribute(e(724),this[e(520)]),this[e(472)]=s(f,2),this[e(472)][e(467)](d[e(625)]),this.geometry[e(926)](e(740),this[e(472)]),this[e(653)]=s(m,3),this.colors[e(467)](d[e(625)]),this[e(804)][e(926)](e(858),this.colors),this[e(447)]=s(w,1),this[e(447)][e(467)](d[e(625)]),this[e(804)].setAttribute(e(851),this.alphas),this[e(905)]=s(g,2),this[e(905)][e(467)](x),this[e(804)][e(926)](e(831),this[e(905)]),this[e(802)]=s(S,3),this[e(802)][e(467)](d[e(625)]),this[e(804)].setAttribute(e(635),this[e(802)]),this[e(516)]=s(y,1),this.initialAlphas[e(467)](d[e(625)]),this[e(804)][e(926)](e(917),this[e(516)])}dispose(){const t=_;super[t(634)](),this[t(804)]&&(this[t(804)][t(634)](),this[t(804)]=null)}}class st{constructor(t,e,s,n,i){const r=_;this.length=t,this.x=e,this.y=s,this[r(639)]=n,this[r(466)]=i}}class nt{constructor(t,e){const s=_;this[s(843)]=t,this[s(526)]=e,this[s(527)]=[]}[_(759)](){return this[_(843)]}[_(597)](){return this[_(526)]}getFrameSetCount(){const t=_;return this[t(527)][t(475)]}[_(509)](t,e,s,n,i){this[_(527)].push(new st(t,e,s,n,i))}getFrameSet(t){const e=_;if(t>=this[e(527)].length)throw new Error(e(873));return this.frameSets[t]}}function it(t,e){const s=Rt();return(it=function(t,e){return s[t-=446]})(t,e)}const rt=class t extends tt{constructor(t,e,s=!1,n=d[_(694)],i=!0,r){const a=_;super(),p(this,"updateMeshBounds",function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[it(713)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();t(this,(function(){const e=it,s=function(){const t=it;let e;try{e=Function(t(853)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),n=s[e(464)]=s[e(464)]||{},i=["log","warn","info",e(478),"exception",e(523),e(870)];for(let r=0;r<i[e(475)];r++){const s=t[e(733)][e(493)][e(835)](t),a=i[r],o=n[a]||s;s[e(568)]=t[e(835)](t),s[e(720)]=o[e(720)][e(835)](o),n[a]=s}}))();const e=new m;return function(){const t=it,s=this[t(623)][t(463)]();if(this[t(598)]){s[t(549)]||(s.boundingBox=new(d[t(638)])),s[t(549)][t(665)](this[t(549)]),!s[t(871)]&&(s[t(871)]=new(d[t(530)])),e.x=(this[t(549)].min.x+this.boundingBox.max.x)/2,e.y=(this[t(549)][t(629)].y+this[t(549)][t(755)].y)/2,e.z=(this[t(549)][t(629)].z+this[t(549)][t(755)].z)/2;const n=this[t(549)][t(755)].x-e.x,i=this.boundingBox[t(755)].y-e.y,r=this[t(549)][t(755)].z-e.z,a=Math[t(755)](Math[t(755)](n,i),r);s.boundingSphere[t(584)][t(665)](e),s[t(871)].radius=Math.sqrt(2*a*a)}else s[t(871)]||(s[t(871)]=new g),s.boundingSphere.copy(this.boundingSphere)}}()),this[a(846)]=t,this.particleStateArray=null,this[a(591)]=null,this.mesh=null,this[a(687)]=e,this[a(529)]=s,this[a(546)]=n,this[a(549)]=new(d[a(638)]),this.boundingSphere=new g,this[a(598)]=i,this.renderOrder=r}setOwner(t){super[_(695)](t)}getParticleStateArray(){return this[_(623)]}setSimulateInWorldSpace(t){const e=_;super[e(847)](t),this.material&&(this.material.uniforms[e(607)][e(734)]=t?1:0,this[e(591)][e(799)]=!0)}[_(575)](){return this[_(598)]}[_(537)](t){const e=_;this[e(549)][e(665)](t),this[e(562)]&&this[e(484)]()}setBoundingSphere(t){const e=_;this[e(871)].copy(t),this[e(562)]&&this[e(484)]()}render(t,e,s){e[_(767)](t,s)}[_(721)](t){const e=_;super[e(721)](t)&&(this[e(623)]=new et,this.particleStateArray[e(721)](t,this[e(846)]),this[e(591)]=this.createMaterial(null,null,null,!0,!1),this[e(591)].blending=this[e(546)],this.mesh=new I(this[e(623)][e(463)](),this[e(591)]),this[e(562)][e(477)]=!0,void 0!==this[e(797)]&&(this[e(562)][e(797)]=this.renderOrder),this[e(484)](),this.owner[e(602)](this.mesh))}[_(634)](){const t=_;this.particleStateArray[t(634)]()}[_(633)](e,s,n,i,r){const a=_,o=[...Array(16).keys()][a(742)]((t=>new(d[a(505)])));if(this[a(687)])for(let t=0;t<this[a(687)][a(888)]();t++){const e=this[a(687)][a(482)](t);o[t]=new P(e.x,e.y,e.width,e.height)}const c=this[a(687)]?this.atlas[a(759)]():null,h=this.interpolateAtlasFrames,l=this[a(607)],u=this[a(846)]?1:0,p={atlasFrameSet:{type:"v4v",value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(d[a(658)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(612)](n,p),e=e||t.Shader[a(679)](r),s=s||t[a(722)][a(876)](i,r),new A({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:d[a(694)],blendDstAlpha:d[a(476)],blendSrcAlpha:d[a(900)],depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=_,n=e[s(687)],i=(new F).load(n[s(526)]),r=new nt(i,n[s(526)]),a=n[s(588)];for(const t of a)r[s(509)](t[s(475)],t.x,t.y,t[s(639)],t[s(466)]);const o=new t(e[s(846)],r,n[s(703)]);return e[s(546)]==s(746)?o[s(546)]=d[s(818)]:o[s(546)]=d[s(694)],o}[(r=_(722),_(587))](t){const e=_;t=t||(t=>{const e=it;if(t[e(526)])return t.texturePath;const s=t[e(759)]()[e(856)];if(s){const t=s[e(606)];if(t){const s=t[e(882)],n=t[e(644)];return n[e(491)](s)>=0?n.substr(s[e(475)],n[e(475)]-s[e(475)]):n}}});const s=[];for(let i=0;i<this[e(687)][e(888)]();i++){const t=this[e(687)][e(482)](i);s[e(855)](t)}let n=e(786);this.material.blending===d[e(818)]&&(n=e(746));return{instanced:this[e(846)],blending:n,atlas:{interpolateFrames:this[e(529)],texturePath:t(this[e(687)]),framesets:s}}}};p(rt,r,{get VertexVars(){const t=_;return[t(690),t(667),t(454),t(662),t(832),t(512),t(544),t(655),t(621),t(741),t(725),t(614),t(822),t(704),t(507),t(744),t(616),t(650)][t(580)]("\n")},get FragmentVars(){const t=_;return[t(454),t(868),t(670),t(704),"varying vec2 vUV2;\n",t(744),t(616),t(863)][t(580)]("\n")},getVertexShader(t){const e=_;let s=[e(801),this[e(534)]][e(580)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n",e(711),e(817),e(809),"   float atlasFrameY = atlasFrames.y; \n",e(681),"   int maxRowSections = int(1.0 / atlasFrameWidth); \n",e(839),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(446),e(684),e(752),e(798),e(865),e(771),e(924),e(766),e(456),"} \n","void main()\n","{\n",e(498),e(911),e(451),"   const vec2 down = vec2(0.0, -1.0);\n",e(693),e(792),"   const vec2 dLeft = vec2(-1.0, -1.0);\n",e(785),e(461),"   if (simulateInWorldSpace == 1) { \n",e(769),e(697),e(826),e(838),"   float sequenceElementF = sequenceElement.x;\n",e(908),e(449),e(903),"   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n",e(910),"   vec2 uv2; \n",e(500),e(749),e(603),e(707),e(564),e(739),e(838),"   float atlasFrameWidth = atlasFrames.z; \n","   float atlasFrameHeight = atlasFrames.w; \n",e(453),e(729),e(510),e(594),e(574),e(800),e(540),e(762),e(565),"       rightSide = baseUV.x; \n",e(525),e(838),e(857),e(881),e(628),"   if (instanced != 1) { \n","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(723),e(844),"       float uRightV = rotVecStep.z; \n","       float dRightV = rotVecStep.w - rotVecStep.z; \n",e(557),e(565),"       rotVec = position.xy; \n ",e(838),e(735),"   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n",e(753),e(578),e(705)][e(580)]("\n"),t&&(s+=e(823)),s+=e(460),s},getFragmentShader(t,e){const s=_;let n="#include <common> \n"+this[s(821)]+"\n";return e&&(n+=s(710)),n+=s(816),e&&(n+=s(751)),n+=t?[s(897),s(761),s(573),s(626),s(921)].join("\n"):[s(541),s(761),s(573),s(626),"   gl_FragColor.a *= vFragAlpha; \n"].join("\n"),n+="}\n",n}});let at=rt;class ot{constructor(){const t=_;this[t(685)]=0,this[t(894)]=0,this[t(586)]=0,this.age=0,this[t(660)]=0,this.activeCount=0,this[t(811)]=0}[_(521)](t){return this[_(487)](t),0}[_(487)](t){const e=_;return this[e(647)]+=t,this[e(660)]=Math.max(this[e(647)]-this[e(685)],0),this[e(647)]>=this.emissionRelativeStartTime&&(0==this[e(894)]||this.timeActive<=emissionDuration)}updateEmitCount(t){this[_(586)]+=t}}class ct extends ot{constructor(){const t=_;super(),this[t(840)]=0,this[t(617)]=0}}class ht extends ct{constructor(t=0){super(),this.emissionRate=t}[_(521)](t){const e=_;if(this[e(487)](t)){const t=this.emissionRate*this.timeActive-this.emitCount;if(t>=1){const s=Math[e(513)](t);return this.updateEmitCount(s),s}}return 0}static fromJSON(t){const e=_,s=new ht;return s[e(590)]=t[e(590)]||0,s}[_(587)](){return{emissionRate:this[_(590)]}}}const lt=class t{constructor(t){this[_(646)]=t}static[(a=_(691),o=_(666),c=_(778),_(760))](e){const s=_;let n=t[s(691)];return e===b?n=t.Vector2:e===d[s(666)]?n=t[s(666)]:e===d[s(505)]?n=t[s(505)]:e===d[s(778)]&&(n=t[s(778)]),n}static loadJSONParameter(t,e){const s=_;switch(e){case d[s(658)]:return(new(d[s(658)]))[s(576)](t);case m:return(new(d[s(666)]))[s(576)](t);case d[s(505)]:return(new(d[s(505)])).fromArray(t);case d[s(778)]:return(new(d[s(778)])).fromArray(t)}return t}};p(lt,a,new lt(_(691))),p(lt,"Vector2",new lt(_(658))),p(lt,o,new lt(_(666))),p(lt,"Vector4",new lt(_(505))),p(lt,c,new lt(_(778)));let ut=lt;class pt{constructor(t){const e=_;this[e(566)]=t,this[e(743)]=ut[e(760)](t)}}class ft extends pt{constructor(t,e,s,n,i,r){const a=_;super(t),this[a(732)]=e,this.offset=s,this[a(806)]=n,this.uniformOffset=i,this[a(672)]=r}[_(654)](t){const e=_,s=Math.random()*this[e(806)];switch(this[e(743)]){case ut[e(691)]:t=Math[e(645)]()*this[e(732)]+this[e(504)],this[e(672)]&&(t=t<0?-1:1);break;case ut[e(658)]:t.set(this[e(468)](s,"x"),this[e(468)](s,"y"));break;case ut[e(666)]:t[e(642)](this[e(468)](s,"x"),this[e(468)](s,"y"),this[e(468)](s,"z"));break;case ut[e(505)]:t[e(642)](this[e(468)](s,"x"),this.generateForElement(s,"y"),this[e(468)](s,"z"),this[e(468)](s,"w"))}return this[e(672)]&&t[e(672)](),t}[_(468)](t,e){const s=_;return t+Math[s(645)]()*this[s(732)][e]+this.offset[e]+this.uniformOffset}[_(916)](){const t=_;return new ft(this[t(566)],this[t(732)],this.offset,this[t(806)],this[t(511)],this[t(672)])}static[_(788)](t){const e=_;return t instanceof d[e(658)]||t instanceof d[e(666)]||t instanceof d[e(505)]||t instanceof d[e(778)]?t[e(561)]():t}static[_(782)](t){const e=_;return new ft(t[e(777)],ut[e(891)](t[e(732)],t[e(777)]),ut[e(891)](t[e(504)],t[e(777)]),t[e(806)]||0,t.uniformOffset||0,t.normalize)}[_(587)](t){const e=_,s={range:ft[e(788)](this[e(732)]),offset:ft[e(788)](this[e(504)]),uniformRange:this.uniformRange,uniformOffset:this[e(511)]},n=t[e(878)](this[e(732)][e(733)]);return null!=n&&(s[e(777)]=n),{type:t.getTypePath(ft),params:s}}}class dt extends Y{constructor(t,e,s,n,i){const r=_;super(),this[r(732)]=t,this[r(504)]=e,this[r(806)]=s,this.uniformOffset=n,this[r(672)]=i,this[r(714)]=new ft(0,this[r(732)],this[r(504)],this[r(806)],this[r(511)],this.normalize)}initializeState(t){const e=_;t[e(636)]=this.generator[e(654)]()}static fromJSON(t,e){const s=_;return new dt(e.range,e.offset,e[s(806)],e[s(511)],e[s(672)])}[_(587)](){const t=_;return{range:this[t(732)],offset:this[t(504)],uniformRange:this[t(806)],uniformOffset:this.uniformOffset,normalize:this[t(672)]}}}class mt extends Y{constructor(t){const e=_;super(),this[e(714)]=t[e(916)]()}initializeState(t){const e=_;t[e(641)]=this[e(714)].generate(t.rotation)}static fromJSON(t,e){const s=_,n=e.generator[s(777)][s(782)](e[s(714)][s(554)]);return new mt(n)}[_(587)](t){const e=_;return{generator:this[e(714)][e(587)](t)}}}class wt extends Y{constructor(t,e,s,n,i){const r=_;super(),this[r(732)]=t,this[r(504)]=e,this[r(806)]=s,this[r(511)]=n,this[r(672)]=i,this[r(714)]=new ft(0,this.range,this[r(504)],this.uniformRange,this[r(511)],this[r(672)])}initializeState(t){const e=_;t.rotationalSpeed=this[e(714)][e(654)]()}static[_(782)](t,e){const s=_;return new wt(e[s(732)],e.offset,e[s(806)],e[s(511)],e[s(672)])}[_(587)](){const t=_;return{range:this.range,offset:this[t(504)],uniformRange:this.uniformRange,uniformOffset:this[t(511)],normalize:this[t(672)]}}}class gt extends Y{constructor(t,e){const s=_;super(),this.randomGenerator=new ft(d[s(666)],t,e,0,0,!1)}[_(825)](t){const e=_;this[e(543)][e(654)](t[e(791)])}static fromJSON(t,e){const s=_;return new gt((new(d[s(666)]))[s(576)](e[s(732)]),(new(d[s(666)]))[s(576)](e[s(504)]))}[_(587)](){const t=_;return{range:this[t(543)][t(732)][t(561)](),offset:this.randomGenerator[t(504)][t(561)]()}}}class St extends Y{constructor(t){const e=_;super(),this[e(714)]=t[e(916)]()}initializeState(t){const e=_;this[e(714)][e(654)](t.size),t[e(831)][e(665)](t[e(740)])}static fromJSON(t,e){const s=_,n=e[s(714)][s(777)][s(782)](e[s(714)].params);return new St(n)}[_(587)](t){return{generator:this[_(714)].toJSON(t)}}}class yt extends Y{constructor(t,e,s,n,i=!0){const r=_;super(),this[r(914)]=new ft(d[r(666)],t,e,0,0,!0),this[r(572)]=new ft(0,s,n,0,0,!1),this[r(867)]=i}[_(825)](t){const e=_;this[e(914)][e(654)](t[e(923)]),this[e(867)]&&t[e(923)][e(672)](),t[e(923)].multiplyScalar(this[e(572)][e(654)]())}static[_(782)](t,e){const s=_;return new yt((new(d[s(666)]))[s(576)](e[s(732)]),(new(d[s(666)]))[s(576)](e[s(504)]),e[s(545)],e.speedOffset)}[_(587)](){const t=_;return{range:this[t(914)].range[t(561)](),offset:this.directionGenerator[t(504)][t(561)](),speedRange:this[t(572)].range,speedOffset:this[t(572)][t(504)]}}}class vt extends Y{constructor(t,e=!1){const s=_;super(),this.setParticleSequences(t),this[s(473)]=e}[_(559)](t){this.particleSequences=t}[_(825)](t){const e=_,s=this.particleSequences[e(689)](),n=s[e(475)]*Math[e(645)](),i=s[Math[e(513)](n)],r=this.particleSequences[e(768)](i),a=t[e(542)];this[e(473)]?a.x=r[e(475)]-1:a.x=r[e(736)],a.y=r.id,a.z=r.start,a.w=r[e(475)],t[e(764)]=B[e(571)]}static[_(782)](t,e){const s=_;return new vt(t[s(480)](),e[s(473)])}[_(587)](){return{reverse:this[_(473)]}}}class xt extends L{constructor(t,e,s=!1,n=!1){const i=_;super(),this.particleSequences=t,this.speed=e,this[i(919)]=s,this.reverse=n}[_(698)](t,e){const s=_,n=t[s(542)],i=this[s(517)][s(768)](n.y),r=e/this[s(880)];if(this.reverse){if(n.x-=r,n.x<i[s(736)]&&(n.x=i.start+i[s(475)],!this[s(919)]))return!1}else if(n.x+=r,n.x>=i[s(736)]+i.length&&(n.x=i.start,!this[s(919)]))return!1;return!0}static[_(782)](t,e){const s=_;return new xt(t[s(480)](),e.speed,e[s(919)],e[s(473)])}[_(587)](){const t=_;return{speed:this[t(880)],loop:this[t(919)],reverse:this.reverse}}}const It=class t{constructor(e,s){p(this,h,function(){const e=_,s={lowerIndex:0,upperIndex:0,localT:0},n=new(d[e(658)]),i=new m,r=new(d[e(505)]),a=new(d[e(778)]),o=n=>(i,r,a,o)=>{const c=e;t.getInterpolationValuesForTValue(a,i,s),n[c(665)](r[s.upperIndex])[c(506)](s[c(901)]),o.copy(r[s[c(836)]])[c(506)](1-s[c(901)])[c(602)](n)};return function(c){const h=e;switch(c){case ut[h(691)]:return(e,n,i)=>{const r=h;return t[r(709)](i,e,s),(1-s[r(901)])*n[s[r(836)]]+s[r(901)]*n[s[r(462)]]};case ut[h(658)]:return o(n);case ut[h(666)]:return o(i);case ut[h(505)]:return o(r);case ut[h(778)]:return o(a)}}}());const n=_;this[n(671)]=[],this[n(538)]=[],this[n(756)]=ut[n(760)](e),this[n(875)]=s||this[n(469)](this[n(756)])}*[Symbol[_(837)]](){const t=_;let e=0;for(;e<this[t(845)]();)yield{element:this.elements[e],tValue:this[t(538)][e]},e++}[_(845)](){return this[_(671)].length}[_(627)](t){const e=_;if(t>=this[e(845)]())throw new Error(e(884));return this[e(671)][t]}getTValue(t){const e=_;if(t>=this[e(845)]())throw new Error(e(502));return this[e(538)][t]}[_(893)](t,e){const s=_;this[s(671)][s(855)](t),this[s(538)][s(855)](e)}[_(458)](t,e){const s=_;return this[s(875)](t,this.elements,this[s(538)],e)}static getInterpolationValuesForTValue(t,e,s){const n=_,i=t[n(475)];if(0===i)return s[n(836)]=-1,s[n(462)]=-1,void(s[n(901)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s.lowerIndex=G.clamp(a,0,i-1),s.upperIndex=G[n(920)](o,0,i-1);const c=t[a],h=t[o];s[n(901)]=(e-c)/(h-c)}};h=_(469);let Pt=It;class At extends L{constructor(t,e=!1){super(),this.relativeToInitialValue=e,this.interpolationElements=new Pt(t)}[_(893)](t,e){const s=_;this[s(659)][s(893)](t,e)}addElements(t){const e=_;for(const s of t)this[e(659)].addElement(s[0],s[1])}addElementsFromElementClassAndParameters(t,e){const s=_;for(const n of e){const[...e]=n[0];this.interpolationElements[s(893)](new t(...e),n[1])}}getInterpolatedValue(t,e){const s=_;let n=0;switch(t[s(764)]){case B.Time:n=0!=t.lifetime?t.age/t.lifetime:t[s(647)];break;case B[s(571)]:n=t.sequenceElement.x/t[s(542)].w}return this[s(659)][s(458)](n,e)}}class Ft extends At{constructor(t=!1){super(0,t)}[_(701)](t){super.addElements(t)}updateState(t){const e=_;return this[e(609)]?t[e(851)]=t.initialAlpha*this[e(715)](t,t[e(851)]):t.alpha=this.getInterpolatedValue(t,t[e(851)]),!0}static[_(782)](t,e){return new Ft(e[_(609)])}[_(587)](){const t=_;return{params:{relativeToInitialValue:this[t(609)]},elements:[...this.interpolationElements][t(742)]((e=>[e[t(601)],e.tValue]))}}}class bt extends At{constructor(t=!1){super(b,t),p(this,"updateState",function(){const t=_,e=new(d[t(658)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this.relativeToInitialValue?s.size[n(642)](s[n(831)].x*e.x,s.initialSize.y*e.y):s.size[n(665)](e),!0}}())}[_(701)](t){const e=_;super[e(866)](d[e(658)],t)}static[_(782)](t,e){return new bt(e[_(609)])}[_(587)](){const t=_;return{params:{relativeToInitialValue:this[t(609)]},elements:[...this[t(659)]][t(742)]((e=>[e[t(601)][t(561)](),e.tValue]))}}}class zt extends At{constructor(t=!1){super(z,t),p(this,l,function(){const t=new z;return function(e){const s=it;return this.getInterpolatedValue(e,t),this.relativeToInitialValue?e[s(858)][s(611)](e[s(635)].r*t.r,e[s(635)].g*t.g,e[s(635)].b*t.b):e[s(858)][s(665)](t),!0}}())}addElementsFromParameters(t){const e=_;super[e(866)](d[e(778)],t)}static[(l=_(698),_(782))](t,e){return new zt(e.relativeToInitialValue)}[_(587)](){const t=_;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this.interpolationElements][t(742)]((e=>[e[t(601)].toArray(),e[t(869)]]))}}}class Tt extends L{constructor(t){const e=_;super(),this[e(714)]=t.clone()}[_(701)](t){const e=_;super.addElementsFromElementClassAndParameters(THREE[e(666)],t)}[_(698)](t){return this.generator.generate(t.acceleration),!0}static[_(782)](t,e){const s=e[_(714)].type.fromJSON(e.generator.params);return new Tt(s)}toJSON(t){const e=_;return{generator:this.generator[e(587)](t)}}}class Et extends pt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=_;super(d[p(666)]),this[p(827)]=t,this[p(485)]=e,this.rangePhi=s,this[p(656)]=n,this[p(569)]=i,this[p(850)]=r,this[p(548)]=a,this.scaleY=o,this[p(552)]=c,this[p(531)]=h,this[p(596)]=l,this[p(898)]=u,this[p(508)]=(new m).set(0,1,0)}[_(654)](t){const e=_;this[e(508)][e(642)](0,1,0);const s=Math[e(645)]()*this[e(827)]+this[e(485)],n=Math[e(645)]()*this[e(661)]+this[e(656)],i=Math[e(793)](s),r=Math[e(860)](s),a=Math[e(793)](n),o=Math.sin(n);t[e(642)](i,0,-r),t.multiplyScalar(a),this[e(508)][e(506)](o),t.add(this.tempUp),t[e(672)]();const c=Math[e(645)]()*this[e(569)]+this[e(850)];t[e(506)](c),t.x*=this[e(548)],t.y*=this[e(918)],t.z*=this[e(552)],t.x+=this[e(531)],t.y+=this[e(596)],t.z+=this.offsetZ}[_(916)](){const t=_;return new Et(this[t(827)],this[t(485)],this[t(661)],this.offsetPhi,this.rangeRadius,this.offsetRadius,this[t(548)],this.scaleY,this[t(552)],this[t(531)],this[t(596)],this[t(898)])}static fromJSON(t){const e=_;return new Et(t[e(827)],t[e(485)],t[e(661)],t[e(656)],t[e(569)],t[e(850)],t[e(548)],t[e(918)],t[e(552)],t.offsetX,t[e(596)],t[e(898)])}[_(587)](t){const e=_;return{type:t.getTypePath(Et),params:{rangeTheta:this[e(827)],offsetTheta:this[e(485)],rangePhi:this[e(661)],offsetPhi:this[e(656)],rangeRadius:this[e(569)],offsetRadius:this[e(850)],scaleX:this[e(548)],scaleY:this[e(918)],scaleZ:this[e(552)],offsetX:this[e(531)],offsetY:this[e(596)],offsetZ:this[e(898)]}}}}function Rt(){const t=["getTypeNames","attribute vec3 color;\n","getComponent","varying float vFragAlpha;\n","emissionMaximum","particleCount","addParticleStateInitializer","autoClear","attribute float rotation;\n",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"particleStateArray","getSystemState","DynamicDrawUsage","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","getElement","   vec2 rotVec; \n","min","now","onUpdateCallback","setAll","createMaterial","dispose","initialColor","lifetime","getParticleStateInitializer","Box3","width",'ParticleStateArray::getState() -> "index" is out of range.',"rotation","set","getMaximumActiveParticles","currentSrc","random","name","age","matrixWorldNeedsUpdate","addParticleSequence","varying float vSequenceElementT; \n","initialized","lastPositionFlickerTime","colors","generate","attribute vec4 particlePosition;\n","offsetPhi","Object3D","Vector2","interpolationElements","timeActive","rangePhi","uniform int simulateInWorldSpace; \n","transformInitialDirectionInWorldSpace","NotStarted","copy","Vector3","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","near","addType","uniform vec2 uvOffset;\n","elements","normalize","258JPlwxu","maxParticleCount","owner","intensity","Renderer::init() -> trying to intialize more than once.","setXYZW","getVertexShader","hasOwnProperty","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","pause","setX","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","emissionRelativeStartTime","mapSize","atlas","ParticleSystem::init() -> trying to intialize more than once.","getSequenceIDs","const int MAX_ATLAS_FRAME_SETS = 16; \n","Default","lifetimes","   const vec2 uRight = vec2(1.0, 1.0);\n","NormalBlending","setOwner","setParticleCount","   } else { \n","updateState","PointLight","rotations","addElementsFromParameters","updateBounds","interpolateFrames","varying vec2 vUV1;\n","   vFragAlpha = alpha; \n","lastUpdateTime","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","systemState","getInterpolationValuesForTValue","  \n #include <logdepthbuf_pars_fragment> \n","   float atlasFrameWidth = atlasFrames.z; \n","setEmitter","apply","generator","getInterpolatedValue","particleStates","object","debu","sequenceElements","toString","init","Shader","       float uLeftV = rotVecStep.x; \n","rotationalSpeed","attribute vec4 sequenceElement;\n","typeName","stateAcceleration","baseUV","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","Paused","positionAdjuster","range","constructor","value","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","start","radius",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","size","attribute vec2 size;\n","map","outTypeID","varying vec3 vFragColor;\n","visible","Additive","addNamespace","particleSystemRenderer","   int firstSequenceElement = int(sequenceElementF); \n","ids","    \n  #include <logdepthbuf_fragment> \n","   int nRowYTile = int(SNOverHS);\n","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","Time","max","elementTypeID","getRotations","lastIntensityFlickerTime","getTexture","getTypeID","   vec4 color2 = color1; \n","       upperSide = upperSideStep.x + upperSideStep.y;\n","addParticleStateOperator","progressType","setActiveParticleCount","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","render","getSequence","       viewPosition = viewMatrix * particlePosition;\n","test","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","JSONTypeStore::addNamespace() -> namespace already exists","checkAndAddTypeName","getColors","Running","getLight","type","Color","getParticleStates","velocities","getEmitter","fromJSON","parent","jsonTypes","   const vec2 dRight = vec2(1.0, -1.0);\n","Normal","JSONTypeStore::getType() -> typeName does not exist","getParameterJSON","1580571BGVTqI","startupTime","position","   const vec2 uLeft = vec2(-1.0, 1.0);\n","cos","setDrawRange","activateParticles","components","renderOrder","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","uniformsNeedUpdate","       rightSide = step(2.0, customIndex); \n","#include <common>","initialColors","acceleration","geometry","emitter","uniformRange","JSONTypeStore::addTypeToNamespace() -> typeName already exists","ages","   float atlasFrameX = atlasFrames.x; \n","copyTo","maximumActiveParticles","2616600Psarqy","2262015gnpaHg","getParticleStateOperatorCount","onUpdate","void main() { \n","   float atlasFrameHeight = atlasFrames.w; \n","AdditiveBlending","light","distance","FragmentVars","attribute float alpha;\n","   \n  #include <logdepthbuf_vertex> \n","decay","initializeState","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","rangeTheta","getSizes","applyMatrix4","1890354MZWiju","initialSize","uniform int instanced; \n",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"remove","bind","lowerIndex","iterator","   } \n","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","emissionMinimum","InstancedBufferAttribute","getPositions","texture","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","getElementCount","instanced","setSimulateInWorldSpace","baseUVs","30iHOXqd","offsetRadius","alpha","getActiveParticleCount","return (function() ","flushParticleStateToBuffers","push","source","   float uvXOffset = atlasFrameWidth * rightSide; \n","color","activeParticleCount","sin","setState","jsonTypeNames","varying float vSequenceElementT;\n","particleSystems","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","addElementsFromElementClassAndParameters","normalizeDirection","uniform sampler2D atlasTexture;\n","tValue","trace","boundingSphere","getSequenceElements",'Atlas::getFrameSet -> "index" is out of range.',"19058iTKdaz","interpolator","getFragmentShader","nextIntensityAdjuster","getTypePath",'ParticleStateArray::setState() -> "index" is out of range.',"speed","   float uvYOffset = atlasFrameHeight * upperSide; \n","baseURI","castShadow",'ContinuousArray::getElement() -> "index" is out of bounds.',"action","getType","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getFrameSetCount","178780cnZkMf","shadow","loadJSONParameter","getVisible","addElement","emissionDuration","particleEmitter","typeIDGen","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","offsetZ","parseNamespaceAndTypename","SrcAlphaFactor","localT",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"   int sequenceLength = int(sequenceElement.w);\n","BufferAttribute","initialSizes",'ParticleSystem::getParticleState() -> "index" is out of range.',"getParticleStateOperator","   int sequenceNumber = int(sequenceElement.y);\n","parseTypeString","   vec2 uv1; \n","   const vec2 up = vec2(0.0, 1.0);\n","basePositions","copyState","directionGenerator","positions","clone","initialAlpha","scaleY","loop","clamp","   gl_FragColor.a *= vFragAlpha; \n","verticesPerParticle","velocity","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","stop","setAttribute","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","alphas","splice","   int sequenceStart = int(sequenceElement.z);\n","normal","   const vec2 left = vec2(-1.0, 0.0);\n","componentContainer","   float rotMag = rotation; \n","uniform int interpolateAtlasFrames; \n","counter","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","getParticleSystemRenderer","getInterpolatedElement","operators","} \n","   vec4 viewPosition; \n","upperIndex","getGeometry","console","customIndexes","height","setUsage","generateForElement","getInterpolatorForTypeID","computeBoundingSphere","particleStateInitializers","sizes","reverse","lastIntensityAdjuster","length","OneMinusSrcAlphaFactor","frustumCulled","error","lastPositionAdjuster","getParticleSequences","matrixWorld","getFrameSet","BufferGeometry","updateMeshBounds","offsetTheta","getParticleCount","internalUpdate","gger","input","addParticleSystem","indexOf","allocate","prototype","split","stateVelocity","InstancedBufferGeometry","hasID","   const vec2 right = vec2(1.0, 0.0);\n","emitterInitialized","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","ParticleSequenceGroup::getSequence -> Invalid ID.",'ContinuousArray::getTValue() -> "index" is out of bounds.',"normals","offset","Vector4","multiplyScalar","varying vec2 vUV2;\n","tempUp","addFrameSet","   float rightSide; \n","uniformOffset","attribute vec2 baseUV;\n","floor","cameraFar","updateWorldMatrix","initialAlphas","particleSequences","sequences","activateParticle","rotationalSpeeds","update","timeScaledAcceleration","table","camera","       upperSide = baseUV.y; \n","texturePath","frameSets","39PpODor","interpolateAtlasFrames","Sphere","offsetX","stateObject","timeScaledVelocity","VertexVars","getState","instanceCount","setBoundingBox","tValues",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","sequenceElement","randomGenerator","attribute float customIndex;\n","speedRange","blending","cameraNear","scaleX","boundingBox","___photonsTypeID","setIntensity","scaleZ","computeBoundingBox","params",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"currentTime","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","getSimulateInWorldSpace","setParticleSequences","renderer","toArray","mesh","needsUpdate","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","   }  else { \n","outType","invert","__proto__","rangeRadius","intensityFlux","Sequence","speedGenerator","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   if (instanced != 1) { \n","calculatingBoundingSphereFromBox","fromArray","accelerations","   vFragColor = color; \n","Done","join","setXYZ","bias","customIndex","center","advanceActiveParticles","emitCount","toJSON","framesets","transformDirection","emissionRate","material","particleStateOperators","setXY","   float upperSide; \n","namespace","offsetY","getTexturePath","calculateBoundingSphereFromBox","addTypeToNamespace","addComponent","element","add","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","copyParticleInArray","getParticleStateArray","data","simulateInWorldSpace","progressTypes","relativeToInitialValue","particlePosition","setRGB","assign"];return(Rt=function(){return t})()}class Ot{constructor(){}}class Vt extends Ot{constructor(t,e,s,n,i,r,a=void 0){const o=_;super(),this.owner=null,this[o(819)]=null,this[o(706)]=performance.now()/1e3,this[o(758)]=this[o(706)],this[o(652)]=this[o(706)],this[o(474)]=1,this.nextIntensityAdjuster=1,this[o(479)]=new m,this.positionAdjuster=new(d[o(666)]),this[o(676)]=1,this[o(570)]=2,this[o(783)]=t,this[o(721)](t,e,s,n,i,r,a)}[_(721)](t,e,s,n,i,r,a=void 0){const o=_;this[o(675)]=new(d[o(657)]),t[o(602)](this[o(675)]),n=n||new(d[o(778)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(819)]=new(d[o(699)])(16777215,2,0,1),this[o(819)].color[o(665)](n),this[o(819)][o(820)]=i,this[o(819)][o(824)]=r,this.light[o(883)]=c,c&&(this[o(819)][o(890)][o(686)].width=a[o(686)]||512,this[o(819)][o(890)][o(686)][o(466)]=a.mapSize||512,this[o(819)][o(890)][o(524)][o(668)]=a[o(547)]||.5,this[o(819)].shadow[o(524)].far=a[o(514)]||500,this[o(819)][o(890)][o(582)]=a[o(582)]||1e-4,this[o(819)][o(890)][o(737)]=a.edgeRadius||1),this[o(675)][o(602)](this[o(819)]),this[o(676)]=e,this[o(570)]=s,this[o(819)]}[_(634)](){const t=_;this[t(783)][t(834)](this[t(675)])}[_(776)](){return this[_(819)]}[_(551)](t){this[_(676)]=t}[_(521)](t){const e=_,s=t-this[e(758)],n=1/8,i=this[e(570)];if(s>n){this[e(758)]=t;let s=1+2*(Math[e(645)]()-.5)*i*n;const r=s-this.lastIntensityAdjuster;s=this.lastIntensityAdjuster+r,this.lastIntensityAdjuster=this.nextIntensityAdjuster,this[e(877)]=G[e(920)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(474)]+t*this[e(877)];this[e(819)][e(676)]=i*this[e(676)]}if(t-this[e(652)]>.0625){this[e(652)]=t;const s=t-this.lastUpdateTime;this.positionAdjuster[e(642)](Math.random()-.5,Math[e(645)]()-.5,Math.random()-.5),this[e(731)][e(506)](s),this[e(731)][e(602)](this.lastPositionAdjuster),this[e(731)][e(506)](.5),this[e(675)][e(791)][e(665)](this.positionAdjuster),this.lastPositionAdjuster[e(665)](this[e(731)]),this[e(706)]=t}}}class Ct{constructor(){const t=_;this.jsonTypes={default:{}},this[t(862)]={},this[t(896)]=0}[_(669)](t,e){this[_(599)]("default",t,e)}[_(599)](t,e,s){const n=_;if(!this[n(784)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this.jsonTypes[t][e])throw new Error(n(807));this[n(773)](s,e,t)&&(this[n(784)][t][e]=s)}[_(747)](t,e){const s=_;if(this[s(784)][t])throw new Error(s(772));this[s(784)][t]=e;for(const n in e)if(!e[s(680)]||e.hasOwnProperty(n)){const i=e[n];this[s(773)](i,n,t)}}checkAndAddTypeName(t,e,s){const n=_;if("function"==typeof t){const i=this[n(896)]++;t[n(550)]=i,this[n(862)][i]={namespace:s,typeName:e}}}[_(886)](t,e){const s=_;if(!this[s(784)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(784)][t][e])throw new Error(s(787));return this[s(784)][t][e]}getTypeNames(t){const e=_;return this[e(862)][t[e(550)]]}getTypePath(t){const e=_,s=this[e(613)](t);if(s)return s[e(595)]+"."+s[e(726)]}[_(899)](t){const e=_,s=t[e(494)]("."),n=s[0];s[e(448)](0,1);return{namespace:n,typeName:s[e(580)](".")}}[_(909)](t){const e=_,{namespace:s,typeName:n}=this[e(899)](t);return this[e(886)](s,n)}}function qt(t){function e(t){const s=it;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply(s(455));1!==(""+t/t)[s(475)]||t%20==0?function(){return!0}[s(733)]("debu"+s(488)).call(s(885)):function(){return!1}[s(733)](s(718)+"gger").apply(s(532)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Mt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Tt,AnimatedSpriteRenderer:at,Atlas:nt,BaseParticleStateInitializer:J,BaseParticleStateOperator:Z,BoxPositionInitializer:gt,ColorInterpolatorOperator:zt,ConstantParticleEmitter:ht,FlickerLight:Vt,JSONTypeStore:Ct,LifetimeInitializer:dt,Manager:Q,OpacityInterpolatorOperator:Ft,ParticleStateArray:X,ParticleSystem:K,ParticleSystemState:$,RandomGenerator:ft,RandomVelocityInitializer:yt,Renderer:tt,RotationInitializer:mt,RotationalSpeedInitializer:wt,SequenceInitializer:vt,SequenceOperator:xt,SizeInitializer:St,SizeInterpolatorOperator:bt,SphereRandomGenerator:Et},Symbol.toStringTag,{value:"Module"})),Nt=Bt;!function(t,e){const s=Bt,n=Wt();for(;;)try{if(729255===-parseInt(s(150))/1*(-parseInt(s(173))/2)+parseInt(s(198))/3*(-parseInt(s(174))/4)+parseInt(s(180))/5*(parseInt(s(195))/6)+parseInt(s(181))/7+-parseInt(s(127))/8*(-parseInt(s(145))/9)+parseInt(s(152))/10*(-parseInt(s(147))/11)+-parseInt(s(178))/12)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const _t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Bt(130)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){_t(this,(function(){const t=Bt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(160),"i"),n=Xt(t(188));e.test(n+t(189))&&s[t(193)](n+t(132))?Xt():n("0")}))()}();const jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Bt(130)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Bt(t,e){const s=Wt();return(Bt=function(t,e){return s[t-=118]})(t,e)}jt(void 0,(function(){const t=Bt;let e;try{e=Function(t(166)+'{}.constructor("return this")( ));')()}catch(i){e=window}const s=e.console=e[t(119)]||{},n=["log","warn",t(138),"error",t(143),t(131),t(199)];for(let r=0;r<n[t(153)];r++){const e=jt.constructor[t(201)][t(161)](jt),i=n[r],a=s[i]||e;e[t(187)]=jt[t(161)](jt),e[t(137)]=a.toString[t(161)](a),s[i]=e}}))();const Ut=R({__name:Nt(122),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Nt,s=t,n=new Q,i=new Ct;i.addNamespace(e(154),d),i[e(157)](e(156),Mt);const{renderer:r,camera:a,scene:o}=T(),c=new m(...s.position);n[e(126)](((t,s)=>{const n=e,i=new y;i[n(135)][n(179)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(d[n(133)]))[n(185)](a),c=new(Mt[n(140)])(o,a);c[n(124)](1,0,0,1,1);const h=new(Mt[n(197)])(!0,c,!0,d[n(186)]),l=new K(i,h,r[n(162)]);l[n(188)](150),l[n(139)](new(Mt[n(169)])(6));const u=new ft(d[n(191)],new(d[n(191)])(0,0),new(d[n(191)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new dt(3,1,0,0,!1)),l[n(163)](new St(u)),l[n(163)](new(Mt[n(155)])(new(d[n(172)])(.05*t,0,.05*t),new m(-.025*t,0,-.025*t))),l[n(163)](new yt(new(d[n(172)])(.4*t,.5*t,.4*t),new(d[n(172)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(194)](new(Mt[n(142)]))[n(129)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new(Mt[n(200)])(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Mt[n(196)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(194)](new(Mt[n(151)])(p)),l[n(136)](!0),l[n(146)](),l})(s.scale,c)),n.addParticleSystem(((t,s)=>{const n=e,i=new y;i[n(135)].copy(s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new F)[n(185)](a),c=new(Mt[n(140)])(o,a);c.addFrameSet(18,0,0,.125,.25);const h=new(Mt[n(197)])(!0,c,!0),l=new(Mt[n(158)])(i,h,r[n(162)]);l[n(188)](50),l.setEmitter(new(Mt[n(169)])(10)),l[n(177)](0,18);const u=l[n(118)]();l[n(163)](new(Mt[n(141)])(0,0,0,0,!1)),l.addParticleStateInitializer(new(Mt[n(190)])(new ft(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new wt(1,-1,0,0,!1)),l[n(163)](new St(new ft(d[n(191)],new(d[n(191)])(.25*t,.25*t),new(d[n(191)])(.5*t,.5*t),0,0,!1))),l[n(163)](new gt(new(d[n(172)])(.05*t,0,.05*t),new(d[n(172)])(-.025*t,0,-.025*t))),l[n(163)](new(Mt[n(164)])(new(d[n(172)])(.05*t,.4*t,.05*t),new(d[n(172)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(163)](new(Mt[n(149)])(u)),l[n(194)](new(Mt[n(120)])(u,.07,!1));l[n(194)](new Ft)[n(129)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(194)](new(Mt[n(148)])(!0))[n(176)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(194)](new zt(!0))[n(176)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l.addParticleStateOperator(new(Mt[n(151)])(new(Mt[n(128)])(d[n(172)],new(d[n(172)])(0,0,0),new(d[n(172)])(0,1.5*t,0),0,0,!1))),l[n(136)](!0),l[n(146)](),l})(s[e(182)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(d[n(192)]);i[n(135)][n(179)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new F)[n(185)](a),c=new(Mt[n(140)])(o,a);c[n(124)](16,0,0,212/1024,.25);const h=new(Mt[n(197)])(!0,c,!0),l=new K(i,h,r[n(162)]);l[n(188)](20),l[n(139)](new(Mt[n(169)])(5)),l[n(177)](0,16);const u=l.getParticleSequences();l[n(163)](new(Mt[n(141)])(0,0,0,0,!1)),l[n(163)](new(Mt[n(190)])(new ft(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(163)](new(Mt[n(183)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(163)](new(Mt[n(144)])(new ft(d[n(191)],new(d[n(191)])(0,0),new(d[n(191)])(0,0),.2*t,.65*t,!1))),l[n(163)](new(Mt[n(155)])(new(d[n(172)])(.1*t,0,.1*t),new m(-.05*t,0,-.05*t))),l[n(163)](new(Mt[n(164)])(new m(.02*t,.4*t,.02*t),new m(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(163)](new(Mt[n(149)])(u)),l.addParticleStateOperator(new(Mt[n(120)])(u,.1,!1));l[n(194)](new(Mt[n(142)]))[n(129)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l.addParticleStateOperator(new(Mt[n(148)])(!0))[n(176)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(194)](new zt(!0))[n(176)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(194)](new(Mt[n(151)])(new(Mt[n(128)])(d[n(172)],new(d[n(172)])(0,0,0),new(d[n(172)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(146)](),l})(s[e(182)],c)),n[e(123)](((t,s=10)=>{const n=e,i=new(d[n(192)]);o[n(162)][n(159)](i),i[n(135)][n(179)](t);return new Vt(i,s,2,(new(d[n(125)]))[n(168)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=E();return h((()=>{const t=e;n[t(175)](),n[t(171)](r[t(162)],a.value)})),(t,e)=>null}});function Xt(t){function e(t){const s=Bt;if("string"==typeof t)return function(t){}.constructor(s(167))[s(130)](s(170));1!==(""+t/t)[s(153)]||t%20==0?function(){return!0}[s(184)]("debu"+s(121)).call(s(165)):function(){return!1}[s(184)]("debu"+s(121)).apply(s(134)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Wt(){const t=["start","3232493efDciA","SizeInterpolatorOperator","SequenceInitializer","26tveepO","AccelerationOperator","40pGcNwr","length","THREE","BoxPositionInitializer","Photons","addNamespace","ParticleSystem","add","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","value","addParticleStateInitializer","RandomVelocityInitializer","action","return (function() ","while (true) {}","setRGB","ConstantParticleEmitter","counter","render","Vector3","18918McBjKZ","4ToqoKL","update","addElementsFromParameters","addParticleSequence","1550520SRhRuk","copy","15xUbxZP","2225741vExmgc","scale","RotationalSpeedInitializer","constructor","load","AdditiveBlending","__proto__","init","chain","RotationInitializer","Vector2","Object3D","test","addParticleStateOperator","2391294earYui","SphereRandomGenerator","AnimatedSpriteRenderer","1510335lhGZKr","trace","ColorInterpolatorOperator","prototype","getParticleSequences","console","SequenceOperator","gger","fireF","addComponent","addFrameSet","Color","addParticleSystem","3111272XctpbX","RandomGenerator","addElements","apply","table","input","TextureLoader","stateObject","position","setSimulateInWorldSpace","toString","info","setEmitter","Atlas","LifetimeInitializer","OpacityInterpolatorOperator","exception","SizeInitializer","18tfLHWz"];return(Wt=function(){return t})()}!function(t,e){const s=Yt,n=Jt();for(;;)try{if(834817===parseInt(s(317))/1+parseInt(s(352))/2+-parseInt(s(347))/3+parseInt(s(329))/4*(parseInt(s(325))/5)+parseInt(s(343))/6*(-parseInt(s(322))/7)+-parseInt(s(332))/8*(parseInt(s(357))/9)+parseInt(s(333))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Dt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Yt(t,e){const s=Jt();return(Yt=function(t,e){return s[t-=314]})(t,e)}function Jt(){const t=["context","5684032kFXONS","32205160UlKKAJ","tcRef","set","warn","debu","function *\\( *\\)","value","error","apply","table","6MtxIxD","perspectiveCameraRef",'{}.constructor("return this")( )',"bind","2363676IfEjLf","console","stateObject","$refs","trace","673712WLTpZM","toString","__proto__","chain","prototype","18xrVhQQ","test","constructor","while (true) {}","log","return (function() ","204408TlbCCl","gger","string","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","9836799tNsQvx","length","pagesShowRef","5CtjqXX","position","input","exception","2748776NVslGu","counter"];return(Jt=function(){return t})()}!function(){Dt(this,(function(){const t=Yt,e=new RegExp(t(338)),s=new RegExp(t(321),"i"),n=Gt("init");e[t(358)](n+t(355))&&s[t(358)](n+t(327))?Gt():n("0")}))()}();const Lt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Yt(341)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Lt(void 0,(function(){const t=Yt;let e;try{e=Function(t(316)+t(345)+");")()}catch(i){e=window}const s=e[t(348)]=e[t(348)]||{},n=[t(315),t(336),t(320),t(340),t(328),t(342),t(351)];for(let r=0;r<n[t(323)];r++){const e=Lt[t(359)][t(356)][t(346)](Lt),i=n[r],a=s[i]||e;e[t(354)]=Lt[t(346)](Lt),e.toString=a[t(353)][t(346)](a),s[i]=e}}))();const Zt=R({__name:"fireF",setup(t){const e=O();return V((()=>{const t=Yt;e[t(339)]&&(e.value[t(350)].tcRef?e.value[t(350)][t(334)][t(331)].camera.value.position[t(335)](580,360,500):e[t(339)][t(350)][t(344)]&&e[t(339)][t(350)][t(344)][t(326)][t(335)](580,360,500))})),(t,s)=>{const n=Yt;return C(),q(f,{ref_key:n(324),ref:e},{ability:M((()=>[N(Ut,{position:[0,20,10],scale:40})])),_:1},512)}}});function Gt(t){function e(t){const s=Yt;if(typeof t===s(319))return function(t){}[s(359)](s(314))[s(341)](s(330));1!==(""+t/t).length||t%20==0?function(){return!0}[s(359)](s(337)+"gger").call("action"):function(){return!1}[s(359)]("debu"+s(318))[s(341)](s(349)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Zt as default};
