import{a as t,B as n,q as e,bZ as o,C as r,j as s,Z as c}from"./three.6E5muTWJ1722409645193.js";import{x as i}from"./@fesjs.QnrTigdw1722409645193.js";import{N as a}from"./@tresjs.qmCJ68Vp1722409645193.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.7hCYy4D71722409645193.js";!function(t,n){const e=b,o=g();for(;;)try{if(873756===parseInt(e(395))/1+-parseInt(e(445))/2*(parseInt(e(404))/3)+parseInt(e(403))/4*(parseInt(e(385))/5)+parseInt(e(429))/6*(parseInt(e(431))/7)+parseInt(e(420))/8+-parseInt(e(421))/9+-parseInt(e(409))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(413)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(438),"i"),o=I("init");n[t(417)](o+t(424))&&e[t(417)](o+"input")?I():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=b;let n;try{n=Function(t(426)+t(382)+");")()}catch(r){n=window}const e=n[t(374)]=n.console||{},o=[t(422),t(428),t(434),t(383),t(389),t(378),t(377)];for(let s=0;s<o[t(437)];s++){const n=m.constructor[t(432)][t(371)](m),r=o[s],c=e[r]||n;n.__proto__=m[t(371)](m),n[t(400)]=c[t(400)][t(371)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=b;n[o(393)]();const{max:r,min:s}=n[o(443)];n[o(381)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(392)].position.count;t++)e?(a[o(406)]((n[o(392)].position[o(412)](t)-(s.x+r.x)/2)/c),a[o(406)]((n[o(392)][o(391)][o(372)](t)-(s.y+r.y)/2)/i)):(a[o(406)]((n[o(392)][o(391)][o(412)](t)-s.x)/c),a.push((n[o(392)][o(391)][o(372)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))};function g(){const t=["count","min","toString","getSize","setY","1415416trvhRG","3048231stqiIJ","side","push","applyMatrix4","copy","10737640RoEaSk","string","then","getX","apply","value","catch","geometry","test","reflectivity","computeBoundsTree","2078592FjGjGI","6059880iHqmvn","log","add","chain","sub","return (function() ","gger","warn","3282cYUNGD","Vector3","11886QeZIyd","prototype","debu","info","expandByObject","get","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","setAttribute","setFromObject","getCenter","boundingBox","Box3","2sKosuu","negate","while (true) {}","bind","getY","constructor","console","depthTest","material","trace","table","call","children","deleteAttribute",'{}.constructor("return this")( )',"error","action","10bNUzaL","random","stateObject","depthWrite","exception","divideScalar","position","attributes","computeBoundingBox","center","1740579QEsDBR","max","raycast"];return(g=function(){return t})()}const d=(t,n)=>new Promise(((e,o)=>{const r=b;i(t,{},{method:r(436),mergeRequest:!0})[r(411)]((t=>{n&&e(t[n]),e(t.features)}))[r(415)]((t=>{console.error(t),o(t)}))})),y=t=>{const n=b,e=(new(THREE[n(444)]))[n(441)](t),o=new(THREE[n(430)]);e[n(442)](o),t[n(380)].forEach((t=>{t[n(391)].sub(o)})),t[n(391)][n(408)](o.negate())},w=()=>{const t=b;n[t(432)][t(419)]=u,n[t(432)].disposeBoundsTree=p,e[t(432)][t(397)]=f},x=async t=>{const n=b,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(416)].clone();h(i),i[n(419)]();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(376)].transparent=!0,u[n(376)][n(388)]=!0,u[n(376)][n(375)]=!0,u[n(376)][n(405)]=c,u.material.uniforms.config[n(414)].w=20,u[n(376)].uniforms[n(418)][n(414)]=.46,u};function b(t,n){const e=g();return(b=function(t,n){return e[t-=370]})(t,n)}function j(t){const n=b,e=[];for(let r=0;r<t[n(437)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(437)];r++)o[n(423)](e[r]);o[n(390)](e[n(437)]);for(let r=0;r<e[n(437)];r++)e[r][n(425)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=b;if(typeof t===e(410))return function(t){}[e(373)](e(370)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(433)+e(427))[e(379)](e(384)):function(){return!1}[e(373)]("debu"+e(427)).apply(e(387)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,w as i,d as l,h as r,x as s};
