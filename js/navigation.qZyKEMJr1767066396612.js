import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{N as t,K as n}from"./@tresjs.B1f7s3pS1767066396612.js";import{ad as a}from"./three.BD1hRFgo1767066396612.js";import{_ as o}from"./@fesjs.BK66sTPr1767066396612.js";const{defineComponent:i}=await e("vue"),{openBlock:s,createElementBlock:l}=await e("vue"),r={id:"containerNav"},{onMounted:c,watchEffect:m}=await e("vue"),d=await e("three"),u=o(i({__name:"navigation",props:{message:{}},setup(e){const t=e;let n=null,o=null,i=null,u=null,f=null,p=()=>{let e=[];return["右","左","上","下","前","后"].forEach(function(t){var n=document.createElement("canvas");n.width=256,n.height=256;var a=n.getContext("2d");a.fillStyle="#f6fcff",a.fillRect(0,0,n.width,n.height),a.fillStyle="black",a.font="bold 100px arial",a.textAlign="center",a.textBaseline="middle",a.fillText(t,n.width/2,n.height/2);var o=new d.Texture(n);o.needsUpdate=!0;var i=new d.MeshStandardMaterial({map:o,color:16777215,emissive:0,side:d.DoubleSide});e.push(i)}),e},v=e=>{var t=new d.Raycaster,n=new d.Vector2;i.domElement.addEventListener("click",function(a){n.x=a.offsetX/u.clientWidth*2-1,n.y=-a.offsetY/u.clientHeight*2+1,t.setFromCamera(n,o);for(var i=t.intersectObjects([f]),s=0;s<e.length;s++)e[s].emissive.set(0);if(i.length>0){let t=i[0].face.materialIndex;g(t),e[t].emissive.set("#eb780a")}},!1)},g=e=>{console.log("message",t.message);let n=50;4==e?t.message.position.set(0,0,n):5==e?t.message.position.set(0,0,-50):1==e?t.message.position.set(-50,0,0):0==e?t.message.position.set(n,0,0):3==e?t.message.position.set(0,-50,0):2==e&&t.message.position.set(0,n,0),t.message.lookAt(new d.Vector3(0,0,0))};return c(()=>{(()=>{u=document.getElementById("containerNav"),n=new d.Scene,n.background=new d.Color("#f7f7f9"),o=new d.PerspectiveCamera(75,u.clientWidth/u.clientHeight,.1,1e4),o.position.z=2500,i=new d.WebGLRenderer({antialias:!0,canvas:u}),i.setSize(u.clientWidth,u.clientHeight),i.setPixelRatio(window.devicePixelRatio);var e=new d.AmbientLight(16777215);n.add(e);var t=new d.DirectionalLight(16777215,1);t.position.set(1,1,1).normalize(),n.add(t);const s=new a(o,i.domElement);s.enableDamping=!0,s.dampingFactor=.05,s.enabled=!0,s.enableZoom=!0,s.enableRotate=!0,s.enablePan=!1;const l=new d.AxesHelper(5);n.add(l),function e(){requestAnimationFrame(e),i.render(n,o)}()})(),(()=>{let e=new d.BoxGeometry(1800,1800,1800),t=p();f=new d.Mesh(e,t),f.position.set(0,0,0),n.add(f),v(t)})()}),m(()=>{}),(e,t)=>(s(),l("canvas",r))}}),[["__scopeId","data-v-67395f0d"]]),{withAsyncContext:f,defineComponent:p}=await e("vue"),{unref:v,openBlock:g,createElementBlock:w,createCommentVNode:h}=await e("vue"),b=["object"],{onMounted:k,watchEffect:x}=await e("vue"),C=p({__name:"navScene",async setup(e){let n,a;const{state:o}=([n,a]=f(()=>t("https://opensource.cdn.icegl.cn/model/operationTool/湖中小亭/湖中小亭.gltf")),n=await n,a(),n);return k(()=>{}),x(()=>{}),(e,t)=>v(o)?(g(),w("primitive",{key:0,object:v(o)?.scene},null,8,b)):h("",!0)}}),{defineComponent:E}=await e("vue"),{createElementVNode:_,unref:y,normalizeProps:B,guardReactiveProps:S,createVNode:j,Suspense:P,withCtx:R,openBlock:A,createBlock:N,resolveComponent:T,mergeProps:z,createElementBlock:D}=await e("vue"),{reactive:L,ref:M}=await e("vue"),V=E({__name:"navigation",setup(e){const t=M(null),a=L({windowSize:!0,alpha:!0,antialias:!0}),o=L({enableDamping:!0,enableZoom:!0,enablePan:!0,enableRotate:!0,makeDefault:!0});return(e,i)=>{const s=T("TresCanvas");return A(),D("div",null,[j(s,z({clearColor:"#201919"},a),{default:R(()=>[_("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,0,50],"look-at":[0,0,0],ref_key:"navSceneCamera",ref:t},null,512),i[0]||(i[0]=_("TresAmbientLight",{intensity:2},null,-1)),j(y(n),B(S(o)),null,16),(A(),N(P,null,{default:R(()=>[j(C)]),_:1}))]),_:1},16),j(u,{message:t.value},null,8,["message"])])}}});export{V as default};
