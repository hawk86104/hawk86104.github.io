import{P as t}from"./tweakpane.yHWGBmom1736251016080.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.t0sISogd1736251016080.js";import{_ as r}from"./heatmap.js-fix.WrG-fR7W1736251016080.js";import{h as i,_ as c,c2 as s,B as u}from"./three.RuuDeeIf1736251016080.js";import{r as a}from"./utils.2pE-dga51736251016080.js";import{d as p}from"./pinia.PKDK8ItA1736251016080.js";import{b as f,d as l,a1 as h,o as d,D as m,J as g,u as y,F as v,q as w,U as I,N as b,P as _,H as x,L as j,a4 as M,r as S,j as D,g as A,m as E}from"./@vue.-Mz_IXfk1736251016080.js";import{c as O,d as P,a as R}from"./three-mesh-bvh.-gqSJxGX1736251016080.js";import{_ as k}from"./@fesjs.SlXnoRjV1736251016080.js";import"./@tresjs.8C7OKmBm1736251016080.js";import"./@vueuse.HhUha1mw1736251016080.js";import"./three-custom-shader-material.zkLsy8Lq1736251016080.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736251016080.js";import"./@amap.RhAVlD5U1736251016080.js";import"./vue-demi.C4xddsk91736251016080.js";import"./vue-router.JOEPJWPi1736251016080.js";import"./lodash-es.guXTxyfJ1736251016080.js";import"./@qlin.yHhFDldE1736251016080.js";import"./@floating-ui.BPbuo5Gx1736251016080.js";import"./@juggle.7yjBMqoW1736251016080.js";!function(t,n){const e=T,o=F();for(;;)try{if(885238===parseInt(e(258))/1*(parseInt(e(263))/2)+-parseInt(e(255))/3+parseInt(e(275))/4*(-parseInt(e(244))/5)+-parseInt(e(252))/6*(parseInt(e(234))/7)+parseInt(e(247))/8+parseInt(e(231))/9*(-parseInt(e(269))/10)+-parseInt(e(242))/11*(-parseInt(e(260))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(238)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=T,n=new RegExp(t(233)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H("init");n[t(261)](o+"chain")&&e[t(261)](o+t(257))?H():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(238)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=F();return(T=function(t,n){return e[t-=220]})(t,n)}B(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(224)+t(246)+");")()}catch(e){n=window}return n}(),e=n[t(240)]=n[t(240)]||{},o=[t(239),t(245),t(228),"error",t(266),t(230),t(254)];for(let r=0;r<o.length;r++){const n=B[t(251)][t(220)][t(259)](B),i=o[r],c=e[i]||n;n.__proto__=B[t(259)](B),n[t(232)]=c[t(232)][t(259)](c),e[i]=n}}))();const Y=(t,n)=>t[T(248)](n)+-10;function F(){const t=["apply","log","console","action","19294uONrxr","heatmap-canvas","5LhkPQK","warn",'{}.constructor("return this")( )',"3401088fNPmvW","getValueAt","create","body","constructor","2282916oHDHSI","gger","trace","2591631UHtqTl","top","input","8dIpyIi","bind","20844XwhDAB","test","rgb(255,0,0)","339162WRADiD","display","counter","exception","rgb(0,0,255)","left","14123470JKGmio","setData","_config","none","while (true) {}","debu","5146136FrkutJ","prototype","rgb(0,255,0)","string","createElement","return (function() ","height","style","call","info","randInt","table","9azxfLY","toString","function *\\( *\\)","7zpTHQW","width","length","push"];return(F=function(){return t})()}function H(t){function n(t){const e=T;if(typeof t===e(222))return function(t){}.constructor(e(273)).apply(e(265));1!==(""+t/t)[e(236)]||t%20==0?function(){return!0}[e(251)](e(274)+e(253))[e(227)](e(241)):function(){return!1}.constructor("debu"+e(253))[e(238)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=X;!function(t,n){const e=X,o=J();for(;;)try{if(437075===-parseInt(e(398))/1*(parseInt(e(396))/2)+parseInt(e(411))/3*(parseInt(e(412))/4)+-parseInt(e(408))/5*(parseInt(e(410))/6)+parseInt(e(402))/7+-parseInt(e(414))/8*(-parseInt(e(420))/9)+-parseInt(e(392))/10+parseInt(e(397))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(409)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(t,n){const e=J();return(X=function(t,n){return e[t-=389]})(t,n)}!function(){U(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(422),"i"),o=q(t(418));n.test(o+"chain")&&e[t(403)](o+t(394))?q():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(409)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=X;let n;try{n=Function("return (function() "+t(416)+");")()}catch(r){n=window}const e=n.console=n[t(413)]||{},o=["log",t(417),t(424),"error",t(395),t(405),t(415)];for(let i=0;i<o[t(390)];i++){const n=Z[t(399)].prototype[t(393)](Z),r=o[i],c=e[r]||n;n[t(400)]=Z[t(393)](Z),n[t(404)]=c[t(404)][t(393)](c),e[r]=n}}))();const $=p(L(407),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[X(389)]=t}}}));function J(){const t=["trace",'{}.constructor("return this")( )',"warn","init","stateObject","5013mcTLhW","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","info","value","length","string","2530330lEuKdY","bind","input","exception","158anvqMy","6991303CRTUks","8113AlkIMt","constructor","__proto__","counter","2693159Ixhwuo","test","toString","table","call","buildingsHeatmap","1612770lwAkfB","apply","6IXAuOM","91890XFyBxO","24YUnfai","console","6456YceBhX"];return(J=function(){return t})()}function q(t){function n(t){const e=X;if(typeof t===e(391))return function(t){}[e(399)]("while (true) {}")[e(409)](e(401));1!==(""+t/t)[e(390)]||t%20==0?function(){return!0}[e(399)](e(421)+e(423))[e(406)]("action"):function(){return!1}[e(399)](e(421)+e(423))[e(409)](e(419)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=tt;!function(t,n){const e=tt,o=N();for(;;)try{if(760530===parseInt(e(249))/1*(-parseInt(e(225))/2)+parseInt(e(228))/3+-parseInt(e(245))/4+-parseInt(e(218))/5*(parseInt(e(247))/6)+-parseInt(e(207))/7*(-parseInt(e(242))/8)+parseInt(e(195))/9*(-parseInt(e(216))/10)+parseInt(e(211))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=tt,n=new RegExp(t(230)),e=new RegExp(t(202),"i"),o=nt(t(252));n[t(209)](o+t(254))&&e[t(209)](o+"input")?nt():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["return (function() ","needsUpdate","console","rotation-x","value","raycast","bind","counter","children","error","stateObject","model","199989nUAuYj","width","makeRotationX","info","height","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","attributes","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","setTemperature","buildingsHeatmap","数值———：","140hNtcwM","warn","test","string","47250126YoMDoQ","ShaderMaterial","canvas","_config","land","640pHqzkH","disposeBoundsTree","8715PLQIdh","BufferGeometry","_renderer","Texture","normal","mergeGeometries","exception","12XKFdex","$patch","DoubleSide","1425555XlOuPw","opacity","function *\\( *\\)","clone","log","gger","geometry","constructor","trace","computeBoundsTree","applyMatrix4","debu","uOpacity","Matrix4","15608sVTcus","Mesh","prototype","1990292fBFLlJ","length","3876hcJoPo","primitive","167241jSslfi","object","call","init","matrix","chain","__proto__",'{}.constructor("return this")( )'];return(N=function(){return t})()}W(void 0,(function(){const t=tt;let n;try{n=Function(t(257)+t(256)+");")()}catch(r){n=window}const e=n[t(259)]=n[t(259)]||{},o=[t(232),t(208),t(198),t(192),t(224),"table",t(236)];for(let i=0;i<o[t(246)];i++){const n=W[t(235)][t(244)][t(263)](W),r=o[i],c=e[r]||n;n[t(255)]=W[t(263)](W),n.toString=c.toString[t(263)](c),e[r]=n}}))();const C=[K(250),K(260)],G=[K(250)],Q=l({__name:K(205),props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=tt;u.prototype.computeBoundsTree=O,c[t(219)][t(244)][t(217)]=P,c[t(243)].prototype[t(262)]=R})();const e=t,o=((t=250,n=250,e=!0)=>{const o=T,i=document[o(223)](o(243));return i.style.position="absolute",!e&&(i[o(226)][o(264)]=o(272)),i.style[o(256)]="0",i[o(226)][o(268)]="0",document[o(250)].appendChild(i),r[o(249)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(267),.55:o(221),.85:"yellow",1:o(262)}})})();((t,n)=>{const e=T;if(!n){let o=0;for(n=[];o<1e3;)n[e(237)]({x:i[e(229)](1,t[e(271)][e(235)]),y:i.randInt(1,t[e(271)][e(225)]),value:i[e(229)](-10,36)}),o++}t[e(270)]({max:36,min:-10,data:n})})(o);const p=new(c[n(221)])(o[n(220)][n(213)]);p[n(258)]=!0;const f=e.model.city.clone();delete f[n(234)][n(201)][n(222)],delete f[n(234)][n(201)].uv;const l=f[n(234)][n(231)]().applyMatrix4(f[n(253)]),w=e[n(194)][n(215)].clone();delete w[n(234)].attributes[n(222)];const I=w.geometry.clone()[n(238)](w[n(253)]),b=s[n(223)]([l,I]);b[n(238)]((new(c[n(241)]))[n(197)](Math.PI/2)),a(b),b[n(237)]();const _=(t=>{const o=n;return new(c[o(212)])({vertexShader:o(203),fragmentShader:o(200),uniforms:{uOpacity:{value:e[o(229)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(227)]})})(p),x=new(c[n(243)])(b,_);h((()=>{const t=n;e[t(229)]&&(_.uniforms[t(240)][t(261)]=e[t(229)])}));const j=$(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(196)],y:(1-t.uv.y)*o[e(214)][e(199)]};console[e(232)]("数值：",t),console[e(232)](e(206),Y(o,n)),j[e(204)](Y(o,n))}},S=t=>{t&&j[n(226)]({showDiv:!0})},D=t=>{t&&j.setShowDiv(!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(248),{object:y(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:S,onPointerLeave:D},null,40,C),g(r(248),{object:e.model[r(194)][r(191)][0][r(231)]()},null,8,G)],64)}}});function tt(t,n){const e=N();return(tt=function(t,n){return e[t-=190]})(t,n)}function nt(t){function n(t){const e=tt;if(typeof t===e(210))return function(t){}[e(235)]("while (true) {}").apply(e(190));1!==(""+t/t).length||t%20==0?function(){return!0}[e(235)](e(239)+e(233))[e(251)]("action"):function(){return!1}.constructor(e(239)+e(233)).apply(e(193)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=k({__name:"dataDiv",setup(t){const n=$(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>b((d(),m("div",{class:"title",style:j(e.value)},"温度："+x(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=it,o=ct();for(;;)try{if(212035===-parseInt(e(329))/1*(-parseInt(e(359))/2)+parseInt(e(347))/3+-parseInt(e(335))/4*(parseInt(e(355))/5)+-parseInt(e(348))/6+-parseInt(e(342))/7+-parseInt(e(337))/8+parseInt(e(351))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(339)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=it,n=new RegExp(t(353)),e=new RegExp(t(333),"i"),o=ut("init");n[t(344)](o+t(327))&&e[t(344)](o+t(338))?ut():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=ct();return(it=function(t,n){return e[t-=323]})(t,n)}function ct(){const t=["value","model","2630859qSbbYK","call","test","length","trace","3816MNwVju","655782aLKGoX","stateObject","table","6729606YibbYJ","gger","function *\\( *\\)","return (function() ","287670XHezqV",'{}.constructor("return this")( )',"bind","#000","389734EOoRYh","while (true) {}","info","string","debu","chain","prototype","1laVfgJ","log","addBinding","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","8KgujZY","toString","1053088JclMgt","input","apply"];return(ct=function(){return t})()}rt(void 0,(function(){const t=it;let n;try{n=Function(t(354)+t(356)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(330),t(334),t(324),"error","exception",t(350),t(346)];for(let i=0;i<o[t(345)];i++){const n=rt.constructor[t(328)][t(357)](rt),r=o[i],c=e[r]||n;n.__proto__=rt[t(357)](rt),n.toString=c[t(336)][t(357)](c),e[r]=n}}))();const st=l({__name:"heatmap2",async setup(r){const i=it;let c,s;const u=f(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u[i(340)]=!0;const p=S({width:1,color:i(358),opacity:1,show:!0}),l=S({opacity:.9});return new t({title:"参数",expanded:!0})[i(331)](l,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[D(e,{showBuildings:!1,autoRotate:!1},{ability:A((()=>[D(Q,E({model:y(a)},l),null,16,[r(341)]),D(n,E(p,{builds:y(a).city}),null,16,["builds"])])),_:1}),D(et)],64)}}});function ut(t){function n(t){const e=it;if(typeof t===e(325))return function(t){}[e(332)](e(323))[e(339)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(332)](e(326)+e(352))[e(343)]("action"):function(){return!1}[e(332)](e(326)+e(352)).apply(e(349)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
