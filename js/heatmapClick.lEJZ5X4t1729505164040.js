import{q as t,Y as n}from"./@tresjs.IsKybBdF1729505164040.js";import{P as e}from"./tweakpane.yHWGBmom1729505164040.js";import{Y as r,_ as o,a,ak as s,al as i}from"./three.YREzp-_G1729505164040.js";import{_ as c}from"./heatmap.js-fix.SYqTo-YW1729505164040.js";import{d as u,a4 as p,a3 as l,o as f,E as d,u as h,r as m,e as g,f as y,g as v,j as w,al as b,aj as x,ak as _,m as I,L as j}from"./@vue.JNsx1iN61729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";import"./@amap.-tZv8Pyx1729505164040.js";const C=S;!function(t,n){const e=S,r=R();for(;;)try{if(459368===-parseInt(e(415))/1+parseInt(e(356))/2*(-parseInt(e(368))/3)+parseInt(e(418))/4+parseInt(e(373))/5+parseInt(e(360))/6+-parseInt(e(382))/7*(-parseInt(e(357))/8)+-parseInt(e(405))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(362)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function R(){const t=["mesh_0","call","canvas","1729885HFmmCR","table","position","DoubleSide","layerX","_renderer","createElement","stateObject","show2dCanvas","2947uBWIDN","display","0.8","count","counter","set","object","radius","return (function() ","block","none","constructor","boundingBox","info","exception","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","deleteAttribute","addData","attributes","push","scale","test","debu","1133433RJKQRW","chain","needsUpdate","console","setDataMax","./draco/","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","material","741305hIEcXK","top","function *\\( *\\)","11808GakdXO","geometry","input","error","getX","string","action","init","heatmap-canvas","40px","length","getZ","style","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","toString","layerY","2VAnRGn","12888VwXLXK","heatmapClickCom","primitive","5284482pxKmvN","warn","apply","bind","log","border","trace","while (true) {}","1743891UnxXms","ShaderMaterial"];return(R=function(){return t})()}!function(){k(this,(function(){const t=S,n=new RegExp(t(417)),e=new RegExp(t(412),"i"),r=X(t(347));n.test(r+t(406))&&e[t(403)](r+t(420))?X():r("0")}))()}();const z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function S(t,n){const e=R();return(S=function(t,n){return e[t-=344]})(t,n)}z(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(390)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(408)]=n[t(408)]||{},r=[t(364),t(361),t(395),t(421),t(396),t(374),t(366)];for(let o=0;o<r[t(350)];o++){const n=z.constructor[t(411)][t(363)](z),a=r[o],s=e[a]||n;n.__proto__=z[t(363)](z),n[t(354)]=s[t(354)][t(363)](s),e[a]=n}}))();const M=[C(388)],U=u({__name:C(358),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const u=n,{nodes:m}=([s,i]=p((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(410)}))),s=await s,i(),s);m[e(370)][e(375)][e(387)](-5088.96,-3.08,39374.7),m[e(370)][e(402)].setScalar(.01);let g=null,y=null,v=null;y=new r((()=>{const t=e;return v=document[t(379)](t(348)),v.style[t(375)]="absolute",v[t(352)][t(416)]=t(349),v[t(352)].left="0",document.body.appendChild(v),g=c.create({container:v,width:256,height:256,blur:t(384),radius:u.radius}),g[t(378)][t(372)][t(352)][t(365)]="1px solid #5384ff",g[t(378)][t(372)].onclick=function(n){const e=t;g[e(399)]({x:n[e(377)],y:n[e(355)],value:1,radius:u[e(389)]}),g[e(409)](1),y&&(y[e(407)]=!0)},g})()[e(378)][e(372)]);const w={vertexShader:e(397),fragmentShader:e(353),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(376)]},b=new(o[e(369)])(w);m[e(370)][e(414)]=b;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:o}=t[n(394)];t[n(398)]("uv");const s=r.x-o.x,i=r.z-o.z,c=[];for(let e=0;e<t[n(400)][n(375)][n(385)];e++)c.push((t[n(400)][n(375)][n(344)](e)-o.x)/s),c[n(401)]((t.attributes[n(375)][n(351)](e)-o.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new a(u,2))})(m[e(370)][e(419)]),l((()=>{const t=e;v[t(352)][t(383)]=""+(u[t(381)]?t(391):t(392))})),(t,n)=>{const r=e;return f(),d(r(359),{object:h(m)[r(370)]},null,8,M)}}});function X(t){function n(t){const e=S;if(typeof t===e(345))return function(t){}[e(393)](e(367))[e(362)](e(386));1!==(""+t/t)[e(350)]||t%20==0?function(){return!0}[e(393)](e(404)+e(413))[e(371)](e(346)):function(){return!1}.constructor(e(404)+"gger").apply(e(380)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=T;!function(t,n){const e=T,r=K();for(;;)try{if(221778===parseInt(e(503))/1+parseInt(e(479))/2*(-parseInt(e(506))/3)+-parseInt(e(511))/4+parseInt(e(495))/5*(-parseInt(e(510))/6)+parseInt(e(480))/7*(parseInt(e(487))/8)+-parseInt(e(505))/9*(parseInt(e(501))/10)+parseInt(e(484))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=T,n=new RegExp(t(523)),e=new RegExp(t(520),"i"),r=L(t(526));n[t(486)](r+"chain")&&e[t(486)](r+t(507))?L():r("0")}))()}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[T(513)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();A(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(509)+");")()}catch(e){n=window}return n}(),e=n[t(492)]=n[t(492)]||{},r=[t(496),t(489),t(481),t(512),"exception",t(485),"trace"];for(let o=0;o<r[t(500)];o++){const n=A.constructor[t(498)][t(497)](A),a=r[o],s=e[a]||n;n[t(483)]=A[t(497)](A),n.toString=s.toString[t(497)](s),e[a]=n}}))();const D=j("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),E=j("TresDirectionalLight",{position:[5,10,7.5],color:B(490),intensity:5},null,-1),F=j(B(482),{args:[50,25]},null,-1);function K(){const t=["点击左侧蓝色画框","string","function *\\( *\\)","counter","TresCanvas","init","action","6tKXCSR","5614cgIqmC","info","TresGridHelper","__proto__","5155458gXGKaU","table","test","88VrranO","while (true) {}","warn","#ffffff","show2dCanvas","console","call","addBinding","411760FmhUNg","log","bind","prototype","gger","length","178210VOXtJm","addButton","374533UJMCDs","stateObject","9tBOufF","139737bBkzqQ","input","debu",'{}.constructor("return this")( )',"24ukhdzM","573156PJZRzr","error","apply","显示二维图","constructor","radius","#030311","heatmapClick","圆圈的大小","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(K=function(){return t})()}function T(t,n){const e=K();return(T=function(t,n){return e[t-=479]})(t,n)}const Z=u({__name:B(518),setup(t){const r=B,o={clearColor:r(517),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[r(494)](a,r(491),{label:r(514)}),c[r(494)](a,r(516),{label:r(519),min:.1,max:30,step:.1}),c[r(502)]({title:r(521)}),(t,e)=>{const s=g(r(525));return f(),y(s,I(o,{"window-size":""}),{default:v((()=>[D,w(h(n),{autoRotate:!1,autoRotateSpeed:2}),E,F,(f(),y(b,null,{default:v((()=>[w(U,x(_(a)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=T;if(typeof t===e(522))return function(t){}[e(515)](e(488)).apply(e(524));1!==(""+t/t)[e(500)]||t%20==0?function(){return!0}.constructor(e(508)+e(499))[e(493)](e(527)):function(){return!1}[e(515)](e(508)+"gger").apply(e(504)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
