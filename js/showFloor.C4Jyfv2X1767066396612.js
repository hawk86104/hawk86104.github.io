import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{z as t,K as o}from"./@tresjs.B1f7s3pS1767066396612.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DS9PWjZT1767066396612.js";import"./index.vue_vue_type_script_setup_true_lang.iYOGhvYh1767066396612.js";import{u as r}from"./index.Y8o_qofm1767066396612.js";import{R as a,a as n}from"./OimoPhysicsController.DV_wbu041767066396612.js";import{m as i}from"./three.BD1hRFgo1767066396612.js";const{withAsyncContext:s,defineComponent:l}=await e("vue"),{unref:m,openBlock:p,createElementBlock:c}=await e("vue"),u=["rotation-x","object"],{Vector2:f,Color:d,Mesh:M,Matrix4:h}=await e("three"),w=l({__name:"sciFiModular",async setup(e){let o,l;const{scene:w}=t(),{nodes:_}=([o,l]=s(()=>r("https://opensource.cdn.icegl.cn/model/floor/modelDraco.glb")),o=await o,l(),o),x=_.Cube016__0,v=x.geometry,g=i([v.clone(),v.clone().applyMatrix4((new h).makeRotationZ(-Math.PI/2)),v.clone().applyMatrix4((new h).makeRotationZ(Math.PI/2)),v.clone().applyMatrix4((new h).makeRotationZ(-Math.PI))]),y=new a,C=new n({reflectivity:6,mirror:.1,mixStrength:3,color:new d("#fff"),map:x.material.map.clone(),normalMap:x.material.normalMap.clone(),normalScale:new f(1,1),fog:w.fog,dithering:!0});C.uniforms.tReflect=y.renderTargetUniform,C.uniforms.uMatrix=y.textureMatrixUniform;const j=new M(g,C);return j.add(y),j.onBeforeRender=(e,t,o)=>{j.visible=!1,y.update(e,t,o),j.visible=!0},(e,t)=>(p(),c("primitive",{"rotation-x":-Math.PI/2,object:m(j)},null,8,u))}}),{defineComponent:_}=await e("vue"),{createElementVNode:x,unref:v,createVNode:g,Suspense:y,withCtx:C,openBlock:j,createBlock:T,resolveComponent:b}=await e("vue"),k=_({__name:"showFloor",setup:e=>(e,t)=>{const r=b("TresCanvas");return j(),T(r,{clearColor:"#201919","window-size":""},{default:C(()=>[t[0]||(t[0]=x("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1)),g(v(o),{enableDamping:""}),t[1]||(t[1]=x("TresAmbientLight",{intensity:10},null,-1)),t[2]||(t[2]=x("TresMesh",{position:[3,2,0]},[x("TresBoxGeometry",{args:[2,2,2]}),x("TresMeshNormalMaterial",{wireframe:!0})],-1)),t[3]||(t[3]=x("TresMesh",{position:[0,1.2,0]},[x("TresBoxGeometry",{args:[1,1,1]}),x("TresMeshNormalMaterial")],-1)),(j(),T(y,null,{default:C(()=>[g(w)]),_:1}))]),_:1})}});export{k as default};
