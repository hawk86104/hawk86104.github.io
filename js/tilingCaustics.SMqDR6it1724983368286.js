var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(n,e,o)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,i=(t,i)=>{for(var s in i||(i={}))e.call(i,s)&&r(t,s,i[s]);if(n)for(var s of n(i))o.call(i,s)&&r(t,s,i[s]);return t};import{$ as s,d as c}from"./@tresjs.OrqGCbtj1724983368286.js";import{C as a,a6 as u,Z as l}from"./three.p-9BQwc31724983368286.js";import{d as f,w as p,o as d,D as v,J as g,aj as h,ak as m,r as b,e as y,f as w,g as x,j as I,u as _,m as S}from"./@vue.Q1VpS3901724983368286.js";import{P as T}from"./tweakpane.yHWGBmom1724983368286.js";import"./@vueuse.n6I5WvfU1724983368286.js";const j=C;!function(t,n){const e=C,o=E();for(;;)try{if(899406===-parseInt(e(154))/1*(parseInt(e(160))/2)+parseInt(e(128))/3+-parseInt(e(125))/4*(-parseInt(e(119))/5)+parseInt(e(136))/6*(parseInt(e(155))/7)+-parseInt(e(116))/8+parseInt(e(151))/9*(parseInt(e(148))/10)+-parseInt(e(123))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(163)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=C,n=new RegExp(t(115)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=P(t(146));n.test(o+t(132))&&e[t(117)](o+t(126))?P():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(163)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(t,n){const e=E();return(C=function(t,n){return e[t-=115]})(t,n)}function E(){const t=["uniforms","action","296SHczho","tilingCaustics","rotation-x","apply","function *\\( *\\)","4869624bCFXIH","test","warn","5zyvfAr","prototype","flowSpeed","TresMesh","18221698MnvwLX","string","4356716tSwnhO","input","time","2858439ZhcmVV","backgroundColor","speed","error","chain","gger","return (function() ","console","8244450QFZvFc","TresShaderMaterial","stateObject","value","Color","color","brightness","__proto__","toString","table","init","exception","640zsnpyj","debu","trace","157698iJgyJU","constructor","counter","9276lJtlvH","7SHIdyD","bind","log"];return(E=function(){return t})()}k(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(134)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(135)]=n[t(135)]||{},o=[t(157),t(118),"info",t(131),t(147),t(145),t(150)];for(let r=0;r<o.length;r++){const n=k[t(152)][t(120)][t(156)](k),i=o[r],s=e[i]||n;n[t(143)]=k[t(156)](k),n.toString=s[t(144)].bind(s),e[i]=n}}))();const M=[j(162)],O=g("TresPlaneGeometry",{args:[10,10]},null,-1),z=f({__name:j(161),props:{speed:{default:.478},backgroundColor:{},color:{default:"#fff"},flowSpeed:{default:{x:.01,y:.01}},brightness:{default:1.5}},setup(t){const n=j,e=t,o={uniforms:{resolution:{type:"v2",value:{x:1,y:1}},backgroundColor:{type:"c",value:new a(e[n(141)])},color:{type:"c",value:new(u[n(140)])("#fff")},speed:{type:"f",value:e[n(130)]},flowSpeed:{type:"v2",value:e[n(121)]},brightness:{type:"f",value:e.brightness},time:{type:"f",value:.1}},vertexShader:"// Examples of variables passed from vertex to fragment shader\nvarying vec2 vUv;\n\nvoid main(){\n\t// To pass variables to the fragment shader, you assign them here in the\n\t// main function. Traditionally you name the varying with vAttributeName\n\tvUv=uv;\n\t\n\t// This sets the position of the vertex in 3d space. The correct math is\n\t// provided below to take into account camera and object data.\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"#define TAU 6.28318530718\n#define MAX_ITER 5\n\nuniform vec2 resolution;\nuniform vec3 backgroundColor;\nuniform vec3 color;\nuniform float speed;\nuniform vec2 flowSpeed;\nuniform float brightness;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(){\n\tvec2 uv=(vUv.xy+(time*flowSpeed))*resolution;\n\t\n\tvec2 p=mod(uv*TAU,TAU)-250.;\n\tvec2 i=vec2(p);\n\t\n\tfloat c=1.;\n\tfloat inten=.005;\n\t\n\tfor(int n=0;n<MAX_ITER;n++){\n\t\tfloat t=time*speed*(1.-(3.5/float(n+1)));\n\t\ti=p+vec2(cos(t-i.x)+sin(t+i.y),sin(t-i.y)+cos(t+i.x));\n\t\tc+=1./length(vec2(p.x/(sin(i.x+t)/inten),p.y/(cos(i.y+t)/inten)));\n\t}\n\t\n\tc/=float(MAX_ITER);\n\tc=1.17-pow(c,brightness);\n\t\n\tvec3 rgb=vec3(pow(abs(c),8.));\n\t\n\tgl_FragColor=vec4(rgb*color+backgroundColor,length(rgb)+.1);\n}",side:l,transparent:!0,depthWrite:!1,depthTest:!0},{onLoop:r}=s();return r((({delta:t})=>{const e=n;o[e(158)][e(127)][e(139)]+=t})),p((()=>e),(()=>{const t=n;o[t(158)][t(130)].value=e.speed,o[t(158)].brightness[t(139)]=e[t(142)],o[t(158)][t(129)][t(139)]=new(u[t(140)])(e[t(141)])}),{deep:!0}),(t,e)=>{const r=n;return d(),v(r(122),{"rotation-x":-Math.PI/2,"position-y":1},[O,g(r(137),h(m(o)),null,16)],8,M)}}});function P(t){function n(t){const e=C;if(typeof t===e(124))return function(t){}.constructor("while (true) {}").apply(e(153));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(149)+e(133)).call(e(159)):function(){return!1}.constructor(e(149)+"gger")[e(163)](e(138)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=X;!function(t,n){const e=X,o=F();for(;;)try{if(454156===parseInt(e(410))/1*(-parseInt(e(383))/2)+parseInt(e(406))/3+-parseInt(e(413))/4+-parseInt(e(399))/5+-parseInt(e(408))/6+-parseInt(e(404))/7+parseInt(e(407))/8*(parseInt(e(387))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(390)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(395),"i"),o=D(t(377));n[t(378)](o+"chain")&&e[t(378)](o+t(402))?D():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(390)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(){const t=["492BNOwEz","trace","#222","brightness","22680720oQExMK","length","TresAmbientLight","apply","log","prototype","exception","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","#fff","流动速度","2642850KTKekW","gger","debu","input","console","106547odpPMn","table","315639DnSGhh","8BAghAk","1269096qDvRaJ","call","3167pHyQEM","TresPerspectiveCamera","addBinding","2546992vdcJKO","bind","TresCanvas","speed","return (function() ","error","flowSpeed","toString","info",'{}.constructor("return this")( )',"init","test","counter","stateObject","constructor","TresGridHelper"];return(F=function(){return t})()}Z(void 0,(function(){const t=X;let n;try{n=Function(t(417)+t(376)+");")()}catch(r){n=window}const e=n[t(403)]=n[t(403)]||{},o=[t(391),"warn",t(375),t(418),t(393),t(405),t(384)];for(let i=0;i<o[t(388)];i++){const n=Z.constructor[t(392)][t(414)](Z),r=o[i],s=e[r]||n;n[t(396)]=Z[t(414)](Z),n.toString=s[t(420)].bind(s),e[r]=n}}))();const H=g(R(411),{position:[10,10,10]},null,-1),J=g(R(389),{intensity:1},null,-1),B=g(R(382),{args:[10,10]},null,-1);function X(t,n){const e=F();return(X=function(t,n){return e[t-=375]})(t,n)}const $=f({__name:"tilingCaustics",setup(t){const n=R,e={clearColor:n(385)},o=b({color:n(397),speed:.1,brightness:1.5,flowSpeed:{x:.01,y:.01}}),r=new T({title:"参数",expanded:!0});return r[n(412)](o,"color",{label:"颜色"}),r[n(412)](o,n(416),{label:"速度",min:.1,max:1,step:.1}),r.addBinding(o,n(386),{label:"亮度",min:.1,max:2,step:.1}),r.addBinding(o,n(419),{label:n(398),picker:"inline",expanded:!0,x:{min:.01,step:.02,max:.6,inverted:!0},y:{min:.01,step:.02,max:.6,inverted:!0}}),(t,r)=>{const s=y(n(415));return d(),w(s,S(e,{"window-size":""}),{default:x((()=>[H,J,I(_(c)),B,I(z,h(m(i({},o))),null,16)])),_:1},16)}}});function D(t){function n(t){const e=X;if("string"==typeof t)return function(t){}[e(381)]("while (true) {}")[e(390)](e(379));1!==(""+t/t)[e(388)]||t%20==0?function(){return!0}[e(381)](e(401)+e(400))[e(409)](e(394)):function(){return!1}.constructor("debugger")[e(390)](e(380)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{$ as default};
