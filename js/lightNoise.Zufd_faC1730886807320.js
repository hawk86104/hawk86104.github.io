import{_ as n,$ as t,ac as e,q as o,t as r,b_ as i,bY as s,bZ as a,c8 as c}from"./three._P_a_E_Z1730886807320.js";import{e as l,m as u,U as f}from"./@tresjs.iUmyNPdW1730886807320.js";import{d as p,o as v,D as d,J as g,u as m,F as h,w as b,j as x,x as y,e as w,g as _,aj as I,ak as T}from"./@vue.-THQH3GC1730886807320.js";import{_ as U}from"./@fesjs.rCnyFuNL1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./vue-router.QnjVwwup1730886807320.js";import"./lodash-es.kYt-_xTG1730886807320.js";import"./@qlin.yHhFDldE1730886807320.js";import"./pinia.ZAQpp9No1730886807320.js";import"./vue-demi.C4xddsk91730886807320.js";import"./@floating-ui.BPbuo5Gx1730886807320.js";import"./@juggle.7yjBMqoW1730886807320.js";var S="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const D=z;!function(n,t){const e=z,o=B();for(;;)try{if(560726===-parseInt(e(243))/1+-parseInt(e(231))/2*(-parseInt(e(179))/3)+parseInt(e(208))/4*(parseInt(e(218))/5)+parseInt(e(221))/6*(-parseInt(e(227))/7)+parseInt(e(176))/8*(parseInt(e(203))/9)+-parseInt(e(217))/10+-parseInt(e(182))/11*(parseInt(e(195))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(249)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=B();return(z=function(n,t){return e[n-=172]})(n,t)}!function(){N(this,(function(){const n=z,t=new RegExp(n(185)),e=new RegExp(n(238),"i"),o=G(n(215));t[n(206)](o+n(183))&&e[n(206)](o+n(175))?G():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(249)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();E(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(212)+n(248)+");")()}catch(e){t=window}return t}(),e=t[n(252)]=t[n(252)]||{},o=[n(232),n(202),n(233),"error",n(180),n(181),"trace"];for(let r=0;r<o[n(220)];r++){const t=E[n(191)][n(237)].bind(E),i=o[r],s=e[i]||t;t[n(187)]=E[n(229)](E),t[n(200)]=s[n(200)].bind(s),e[i]=t}}))();const j=[D(188),D(186)],C=["material"],F=[D(177)],M=100;function B(){const n=["\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","vertexShader","input","1649672oZgwCz","rotateX","push","21sgVREw","exception","table","8136579NdSgaL","chain","Vector4","function *\\( *\\)","material","__proto__","geometry","TresPlaneGeometry","MeshBasicMaterial","constructor","randFloat","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","sin","12jRMCMC","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","fragmentShader","InstancedBufferGeometry","attributes","toString","TresMesh","warn","18YdWAzx","#include <dithering_fragment>","noiseTex","test","call","4QopGXD","gger","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","return (function() ","counter","\n    ","init","replace","2755700NgFilH","5430505mDkvxK","randFloatSpread","length","123990RNvYtO","stateObject","instData","setAttribute","noise","globalBloom","84vVwkSb","debu","bind","#include <fog_fragment>","160222gxnoVz","log","info","#include <begin_vertex>","InstancedBufferAttribute","globalUniforms","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","uniforms","MathUtils","MeshLambertMaterial","235331JlWrgP","cos","luces","needsUpdate","setY",'{}.constructor("return this")( )',"apply","while (true) {}","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","console","SphereGeometry"];return(B=function(){return n})()}const P=p({__name:"lucesPlane",props:{globalUniforms:{}},setup(t){const e=D,o=t,r=[],i=[],s=new(n[e(172)])(1,36,18),a=(new(n[e(198)])).copy(s);a.instanceCount=M;const c=[];for(let l=0;l<M;l++){let t=n[e(241)][e(219)](49),o=n[e(241)][e(219)](49),s=n[e(241)].randFloat(.0625,.125),a=n[e(241)][e(192)](1,3);c.push(t,o,s),i[e(178)](new(n[e(184)])(t,o,a,n[e(241)][e(192)](1,2))),r[e(178)](new(n[e(184)])(t,o,s,a))}a[e(224)](e(223),new(n[e(235)])(new Float32Array(c),3));const u=new(n[e(190)])({color:16720418,onBeforeCompile:n=>{const t=e;n[t(240)][t(205)]=o[t(236)][t(225)],n[t(174)]=(t(211)+n[t(174)]+t(214))[t(216)](t(234),"#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ")}}),f={luces:{value:r}},p=new(n[e(242)])({color:2363940,onBeforeCompile:n=>{const t=e;n.uniforms[t(245)]=f[t(245)],n[t(240)][t(226)]=o[t(236)][t(226)],n[t(240)][t(205)]=o.globalUniforms[t(225)],n[t(174)]=(t(173)+n[t(174)]+t(214))[t(216)]("#include <begin_vertex>",t(251)),n.fragmentShader=("\n      uniform vec4 luces["+M+t(193)+n[t(197)]+t(214))[t(216)](t(230),t(210)+M+t(196))[t(216)](t(204),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:b}=l();return b((({elapsed:n})=>{const t=e;for(let e=0;e<M;e++){const o=i[e];let s=(o.y+n+25)%50-25;r[e].y=s,r[e].w=(Math[t(194)](n*o.w*(e%3+1))*Math[t(244)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,a[t(199)][t(223)][t(247)](e,s)}a.attributes.instData[t(246)]=!0})),(n,t)=>{const o=e;return v(),d(h,null,[g(o(201),{geometry:m(a),material:m(u)},null,8,j),g("TresMesh",{material:m(p)},[g(o(189),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,F)],8,C)],64)}}});function G(n){function t(n){const e=z;if(typeof n===e(239))return function(n){}[e(191)](e(250))[e(249)](e(213));1!==(""+n/n)[e(220)]||n%20==0?function(){return!0}[e(191)]("debu"+e(209))[e(207)]("action"):function(){return!1}[e(191)](e(228)+e(209))[e(249)](e(222)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function k(){const n=["bind","while (true) {}","uniforms","input","defines","exception","99536ViwPZZ","vec4 diffuseColor = vec4( diffuse, opacity );","globalUniforms","197061bFQPDH","trace","stateObject","error","\n    ","return (function() ","apply","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","fragmentShader","360zNhDCr","globalBloom","toString","gger","call",'{}.constructor("return this")( )',"376525McRkQD","counter","247721JNtyHN","function *\\( *\\)","test","constructor","2XkYYpI","log","473235oUjvDN","time","#include <dithering_fragment>","prototype","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","TresMesh","info","1017240JXBJOh","table","1414530YBqtFW","replace","chain","init","portal","warn","debu"];return(k=function(){return n})()}const A=W;!function(n,t){const e=W,o=k();for(;;)try{if(162883===parseInt(e(502))/1+parseInt(e(506))/2*(parseInt(e(535))/3)+parseInt(e(517))/4+-parseInt(e(500))/5+parseInt(e(519))/6+-parseInt(e(508))/7+parseInt(e(532))/8*(-parseInt(e(494))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(541)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){R(this,(function(){const n=W,t=new RegExp(n(503)),e=new RegExp(n(513),"i"),o=$(n(522));t[n(504)](o+n(521))&&e[n(504)](o+n(529))?$():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(541)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function W(n,t){const e=k();return(W=function(n,t){return e[n-=493]})(n,t)}Z(void 0,(function(){const n=W;let t;try{t=Function(n(540)+n(499)+");")()}catch(r){t=window}const e=t[n(512)]=t[n(512)]||{},o=[n(507),n(524),n(516),n(538),n(531),n(518),n(536)];for(let i=0;i<o[n(514)];i++){const t=Z[n(505)][n(511)][n(526)](Z),r=o[i],s=e[r]||t;t.__proto__=Z[n(526)](Z),t[n(496)]=s.toString[n(526)](s),e[r]=t}}))();const L=["material"],V=p({__name:A(523),props:{globalUniforms:{}},setup(n){const e=A,o=n,r=new t({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=W;n[t(528)].time=o[t(534)][t(509)],n[t(528)][t(495)]=o.globalUniforms[t(495)],n[t(493)]=("\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      "+S+t(542)+n.fragmentShader+t(539))[t(520)](t(533),"\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ").replace(t(510),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ")}});return r[e(530)]={USE_UV:""},(n,t)=>{const o=e;return v(),d(o(515),{material:m(r),position:[0,3.75,-12]},t[0]||(t[0]=[g("TresPlaneGeometry",{args:[5,5]},null,-1)]),8,L)}}});function $(n){function t(n){const e=W;if("string"==typeof n)return function(n){}[e(505)](e(527))[e(541)](e(501));1!==(""+n/n)[e(514)]||n%20==0?function(){return!0}[e(505)](e(525)+e(497))[e(498)]("action"):function(){return!1}[e(505)](e(525)+e(497))[e(541)](e(537)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const H=K;function K(n,t){const e=Y();return(K=function(n,t){return e[n-=307]})(n,t)}!function(n,t){const e=K,o=Y();for(;;)try{if(966964===parseInt(e(362))/1*(-parseInt(e(370))/2)+-parseInt(e(323))/3*(-parseInt(e(310))/4)+-parseInt(e(308))/5*(-parseInt(e(363))/6)+-parseInt(e(312))/7*(-parseInt(e(364))/8)+-parseInt(e(366))/9+parseInt(e(338))/10+-parseInt(e(349))/11*(parseInt(e(317))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[K(314)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Y(){const n=["action","position","log","exception","155EKinvM","18JGsViu","8KwEtEw","input","13052547ouFfTG","toString","TresLineSegments","MathUtils","10042hEOtQG","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","2066570CKongO","Float32BufferAttribute","4364CDxhsP","gEnds","12286141rrFzaQ","fragmentShader","apply","replace","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","132jfxixK",'{}.constructor("return this")( )',"globalUniforms","bind","init","warn","5271DITEZr","constructor","debu","vec4 diffuseColor = vec4( diffuse, opacity );","error","#include <begin_vertex>","randFloat","BufferGeometry","push","while (true) {}","trace","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","gger","vertexShader","14121630LXZFMJ","noiseTex","length","test","noise","uniforms","setAttribute","\n      ","drops","randFloatSpread","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3128653xyvSdK","prototype","call","info","console","time","material","globalBloom","geometry"];return(Y=function(){return n})()}!function(){O(this,(function(){const n=K,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(348),"i"),o=Q(n(321));t[n(341)](o+"chain")&&e[n(341)](o+n(365))?Q():o("0")}))()}();const J=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();J(void 0,(function(){const n=K;let t;try{t=Function("return (function() "+n(318)+");")()}catch(r){t=window}const e=t[n(353)]=t[n(353)]||{},o=[n(360),n(322),n(352),n(327),n(361),"table",n(333)];for(let i=0;i<o[n(340)];i++){const t=J[n(324)][n(350)][n(320)](J),r=o[i],s=e[r]||t;t.__proto__=J[n(320)](J),t.toString=s[n(367)].bind(s),e[r]=t}}))();const X=[H(355),H(357)],q=p({__name:H(346),props:{globalUniforms:{}},setup(t){const o=H,r=t,i=[],s=[];for(let e=0;e<2e4;e++){const t=n[o(369)][o(347)](35),e=n[o(369)][o(329)](-5,10),r=n[o(369)].randFloatSpread(35),a=n[o(369)][o(329)](.25,.5);i[o(331)](t,e,r,t,e,r),s[o(331)](0,a,1,a)}const a=new(n[o(330)]);a[o(344)](o(359),new(n[o(309)])(i,3)),a[o(344)](o(311),new(n[o(309)])(s,2));const c=new e({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n.uniforms[t(354)]=r[t(319)][t(354)],n[t(343)][t(339)]=r.globalUniforms[t(342)],n[t(343)][t(356)]=r[t(319)][t(356)],n[t(337)]=(t(335)+n[t(337)]+"\n    ").replace(t(328),t(334)),n[t(313)]=(t(307)+S+t(345)+n[t(313)]+"\n    ")[t(315)](t(326),t(316))}});return(n,t)=>{const e=o;return v(),d(e(368),{material:m(c),geometry:m(a)},null,8,X)}}});function Q(n){function t(n){const e=K;if("string"==typeof n)return function(n){}[e(324)](e(332))[e(314)]("counter");1!==(""+n/n)[e(340)]||n%20==0?function(){return!0}[e(324)](e(325)+e(336))[e(351)](e(358)):function(){return!1}[e(324)](e(325)+e(336))[e(314)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=on,o=en();for(;;)try{if(421547===-parseInt(e(436))/1+parseInt(e(420))/2*(-parseInt(e(444))/3)+parseInt(e(409))/4+-parseInt(e(460))/5+parseInt(e(437))/6+parseInt(e(427))/7*(parseInt(e(438))/8)+-parseInt(e(414))/9*(-parseInt(e(450))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const nn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){nn(this,(function(){const n=on,t=new RegExp(n(455)),e=new RegExp(n(417),"i"),o=sn("init");t[n(433)](o+n(421))&&e.test(o+n(392))?sn():o("0")}))()}();const tn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[on(395)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function en(){const n=["while (true) {}","uniforms","313641EFdDwz","constructor","needsSwap","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","width","time","10WGWazB","chain","background","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","bind","action","globalBloom","3409rYNHpf","Vector2","warn",'{}.constructor("return this")( )',"color","trace","test","texture","addPass","15171IGWtKv","1858752yGCPLV","1144EsHedZ","Color","stateObject","console","\n      ","Camera","158481arLSoq","gger","table","set","\n    ","Fog","70JEwyKa","render","noise","return (function() ","renderTarget2","function *\\( *\\)","ShaderMaterial","near","setRenderTarget","WebGLRenderTarget","1534775GannAx","debu","fog","defines","input","MeshBasicMaterial","__proto__","apply","target","info","renderToScreen","fragmentShader","exception","Mesh","\n      uniform float time;\n      ","length","value","log","string","prototype","toString","1537728orGwsG","baseTexture","counter"];return(en=function(){return n})()}function on(n,t){const e=en();return(on=function(n,t){return e[n-=391]})(n,t)}tn(void 0,(function(){const n=on,t=function(){const n=on;let t;try{t=Function(n(453)+n(430)+");")()}catch(e){t=window}return t}(),e=t[n(441)]=t[n(441)]||{},o=[n(405),n(429),n(397),"error",n(400),n(446),n(432)];for(let r=0;r<o[n(403)];r++){const t=tn[n(415)][n(407)].bind(tn),i=o[r],s=e[i]||t;t[n(394)]=tn[n(424)](tn),t[n(408)]=s[n(408)][n(424)](s),e[i]=t}}))();const rn=p({__name:"fboRender",setup(t){const e=on,f={time:{value:0},globalBloom:{value:0},noise:{value:null}},p=new(n[e(459)])(512,512),g=new o,m=new(n[e(443)]),y=new r(2,2),w=new(n[e(393)])({onBeforeCompile:n=>{const t=e;n[t(413)][t(419)]=f[t(419)],n[t(399)]=(t(402)+S+t(442)+n.fragmentShader+t(448)).replace("vec4 diffuseColor = vec4( diffuse, opacity );",t(423))}});w[e(391)]={USE_UV:""};const _=new(n[e(401)])(y,w);g.add(_),f[e(452)][e(404)]=p.texture;const{camera:I,renderer:T,scene:U,sizes:D,controls:N}=u();b((()=>N[e(404)]),(t=>{const o=e;null==t||t[o(396)].set(0,2,0),!U.value[o(422)]&&(U[o(404)][o(422)]=new(n[o(439)])(6706534))}));const z=new i(T[e(404)]),E=new i(T[e(404)]),j=new s(U[e(404)],I.value),C=new a(new(n[e(428)])(D[e(418)][e(404)],D.height[e(404)]),1.2,.5,0);z[e(398)]=!1,z[e(435)](j),z[e(435)](C);const F=new c(new(n[e(456)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:z[e(454)][e(434)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),e(410));F[e(416)]=!0,E[e(435)](j),E[e(435)](F),U.value[e(462)]=new(n[e(449)])(6706534,1,25);const{onLoop:M}=l();return M((({elapsed:n})=>{var t,o;const r=e;f.time[r(404)]=n,T.value&&(T[r(404)].setRenderTarget(p),T[r(404)][r(451)](g,m),T[r(404)][r(458)](null),f[r(426)][r(404)]=1.2,U[r(404)][r(462)][r(431)][r(447)](0),U[r(404)][r(462)].near=15,null==(t=U[r(404)][r(422)])||t[r(447)](0),z[r(451)](),f[r(426)][r(404)]=0,U[r(404)].fog[r(431)].set(6706534),U[r(404)][r(462)][r(457)]=10,null==(o=U[r(404)].background)||o[r(447)](6706534),E.render())})),(n,t)=>(v(),d(h,null,[x(P,{globalUniforms:f}),x(V,{globalUniforms:f}),x(q,{globalUniforms:f})],64))}});function sn(n){function t(n){const e=on;if(typeof n===e(406))return function(n){}.constructor(e(412))[e(395)](e(411));1!==(""+n/n)[e(403)]||n%20==0?function(){return!0}[e(415)](e(461)+e(445)).call(e(425)):function(){return!1}[e(415)](e(461)+e(445))[e(395)](e(440)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const an={class:"text"};const cn=U({},[["render",function(n,t){return v(),d("div",an,t[0]||(t[0]=[g("span",{class:"retro noselect"},[g("span",{style:{color:"#eae"}},"光"),y("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),ln=pn;!function(n,t){const e=pn,o=gn();for(;;)try{if(990367===parseInt(e(456))/1*(-parseInt(e(469))/2)+-parseInt(e(489))/3+parseInt(e(488))/4*(-parseInt(e(460))/5)+-parseInt(e(465))/6+parseInt(e(455))/7+parseInt(e(478))/8+-parseInt(e(450))/9*(-parseInt(e(458))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const un=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[pn(483)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){un(this,(function(){const n=pn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(472),"i"),o=dn(n(467));t[n(487)](o+n(449))&&e[n(487)](o+n(463))?dn():o("0")}))()}();const fn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[pn(483)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function pn(n,t){const e=gn();return(pn=function(n,t){return e[n-=446]})(n,t)}fn(void 0,(function(){const n=pn,t=function(){const n=pn;let t;try{t=Function(n(459)+n(475)+");")()}catch(e){t=window}return t}(),e=t[n(482)]=t[n(482)]||{},o=[n(466),n(481),n(464),n(448),n(471),"table",n(446)];for(let r=0;r<o[n(486)];r++){const t=fn[n(474)][n(485)][n(468)](fn),i=o[r],s=e[i]||t;t[n(479)]=fn[n(468)](fn),t.toString=s[n(454)].bind(s),e[i]=t}}))();const vn=p({__name:ln(477),setup(t){const e=ln,o={windowSize:!0,antialias:!0,renderMode:e(457)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(476)][e(447)],maxPolarAngle:90*n[e(476)][e(447)],makeDefault:!0};return(n,t)=>{const i=e,s=w(i(490));return v(),d(h,null,[x(cn),x(s,I(T(o)),{default:_((()=>[t[0]||(t[0]=g(i(452),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),x(m(f),I(T(r)),null,16),t[1]||(t[1]=g(i(461),{intensity:.5},null,-1)),t[2]||(t[2]=g(i(451),{position:[0,3,-12],intensity:1},null,-1)),x(rn)])),_:1},16)],64)}}});function dn(n){function t(n){const e=pn;if(typeof n===e(480))return function(n){}[e(474)]("while (true) {}")[e(483)]("counter");1!==(""+n/n)[e(486)]||n%20==0?function(){return!0}[e(474)](e(473)+e(470))[e(462)](e(453)):function(){return!1}[e(474)]("debu"+e(470))[e(483)](e(484)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function gn(){const n=["205070elSeWh","return (function() ","10KzKPpn","TresAmbientLight","call","input","info","5536392MHesoL","log","init","bind","2NYpSgN","gger","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","constructor",'{}.constructor("return this")( )',"MathUtils","lightNoise","6203472wMxTWW","__proto__","string","warn","console","apply","stateObject","prototype","length","test","40660eUmfjr","1880721feuoUD","TresCanvas","trace","DEG2RAD","error","chain","1008mVOxfG","TresDirectionalLight","TresPerspectiveCamera","action","toString","1984416gTtdlf","795370nUfqWk","manual"];return(gn=function(){return n})()}export{vn as default};
