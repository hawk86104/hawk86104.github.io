import{F as e,_ as a}from"./@tresjs.BCHtwiaC1763540743861.js";import{o as t}from"./index.Crdf3MNx1763540743861.js";import{g as n}from"./gsap.CY1N3EIL1763540743861.js";import{P as o}from"./tweakpane.CqZAnw7f1763540743861.js";import{a as i,a8 as s,r,q as u,W as l,H as d,o as m,J as p,u as v}from"./@vue.Co_gxueH1763540743861.js";import{aF as c,az as f,f as g,V as h,E as j,ae as x}from"./three.rXKzP9fQ1763540743861.js";import"./postprocessing.51l5tmA-1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";import"./@fesjs.BEMFm_yJ1763540743861.js";import"./vue-router.BxG8XxK11763540743861.js";import"./lodash-es.B7GkVYRo1763540743861.js";import"./pinia.CEQ6XgE61763540743861.js";import"./@qlin.y-0Z8WnK1763540743861.js";import"./@babel.BPq7uOAK1763540743861.js";import"./@floating-ui.Bhq4ibgf1763540743861.js";import"./@juggle.Vc7cP4_P1763540743861.js";import"./chalk.BHLFMujs1763540743861.js";/* empty css                                 */import"./iconify-icon.1JyQPtAK1763540743861.js";import"./@iconify.DDuAktjw1763540743861.js";import"./vite-plugin-qiankun.B06WoCqG1763540743861.js";import"./dompurify.C4MEnGDh1763540743861.js";import"./oimophysics.CfVKSiAm1763540743861.js";import"./three-stdlib.DJsODJ8R1763540743861.js";import"./@pmndrs.C5SFDEDA1763540743861.js";import"./object-hash.DlZNhpf61763540743861.js";import"./@amap.D8CfaEsq1763540743861.js";import"./crypto-js.CLP5yTup1763540743861.js";import"./naive-ui.qjPOP62h1763540743861.js";import"./date-fns.eh-WGDI81763540743861.js";import"./@css-render.DtSd-BuN1763540743861.js";import"./css-render.Dlx27V_T1763540743861.js";import"./@emotion.DFFAhID71763540743861.js";import"./seemly.D2hUckm91763540743861.js";import"./vooks.CVMU_ROE1763540743861.js";import"./evtd.C4K_ichY1763540743861.js";import"./vueuc.CEvnhvIm1763540743861.js";import"./vdirs.DlTVi7SG1763540743861.js";import"./treemate.Qc8YxXqZ1763540743861.js";import"./date-fns-tz.CIz1xaH61763540743861.js";import"./async-validator.DJtlKCAR1763540743861.js";const S=["args"],y=["vertex-shader","fragment-shader","uniforms","side"],M=2.5,b={__name:"mapModel",async setup(b){let F,T;const{sizes:w}=e(),B=i(null),P=w.width.value/w.height.value,N=x,O=([F,T]=s(()=>t("./plugins/heroSection/img/chart.png")),F=await F,T(),F);O.minFilter=c,O.magFilter=c,O.wrapS=f,O.wrapT=f,O.repeat.set(1,1);const C=r({uTexture:{value:O},uFadeStart:{value:0},uMaxDistance:{value:.32},uStrength:{value:1},uTime:{value:0},uOffset:{value:new g(0,0)},uNoiseStrength:{value:.02},uNoiseSpeed:{value:.5},uMoveSpeed:{value:1}}),D=i(new h(-.11,-.2,.75)),I=i(new j(-.75,0,0)),U=i(null);const{onBeforeRender:_}=a();return _(({elapsed:e})=>{C.uTime.value=e,B.value&&(B.value.position.copy(D.value),B.value.rotation.copy(I.value))}),u(()=>{n.timeline().to(C.uFadeStart,{value:.32,duration:1.25,ease:"power2.inOut"}).to(C.uFadeStart,{value:0,duration:1.25,ease:"power2.inOut"}),n.to(C.uMaxDistance,{value:1,duration:M,ease:"power2.inOut"}),n.to(C.uStrength,{value:1.5,duration:M,ease:"power2.inOut"}),function(){U.value=new o({title:"Earth Map Settings",expanded:!1}),U.value.containerElem_.style.zIndex=999999999;const e=U.value.addFolder({title:"Position",expanded:!1});e.addBinding(D.value,"x",{label:"Position X",min:-10,max:10,step:.01}).on("change",()=>{B.value&&B.value.position.copy(D.value)}),e.addBinding(D.value,"y",{label:"Position Y",min:-10,max:10,step:.01}).on("change",()=>{B.value&&B.value.position.copy(D.value)}),e.addBinding(D.value,"z",{label:"Position Z",min:-10,max:10,step:.01}).on("change",()=>{B.value&&B.value.position.copy(D.value)});const a=U.value.addFolder({title:"Rotation",expanded:!1});a.addBinding(I.value,"x",{label:"Rotation X",min:-Math.PI,max:Math.PI,step:.01}).on("change",()=>{B.value&&B.value.rotation.copy(I.value)}),a.addBinding(I.value,"y",{label:"Rotation Y",min:-Math.PI,max:Math.PI,step:.01}).on("change",()=>{B.value&&B.value.rotation.copy(I.value)}),a.addBinding(I.value,"z",{label:"Rotation Z",min:-Math.PI,max:Math.PI,step:.01}).on("change",()=>{B.value&&B.value.rotation.copy(I.value)});const t=U.value.addFolder({title:"Material",expanded:!0});t.addBinding(C.uFadeStart,"value",{label:"Fade Start",min:0,max:1,step:.01}),t.addBinding(C.uMaxDistance,"value",{label:"Max Distance",min:0,max:1,step:.01}),t.addBinding(C.uStrength,"value",{label:"Strength",min:0,max:2,step:.01}),t.addBinding(C.uNoiseStrength,"value",{label:"Noise Strength",min:0,max:.1,step:.001}),t.addBinding(C.uNoiseSpeed,"value",{label:"Noise Speed",min:0,max:4,step:.1}),t.addBinding(C.uMoveSpeed,"value",{label:"Move Speed",min:0,max:5,step:.1})}()}),l(()=>{U.value&&U.value.dispose()}),(e,a)=>(m(),d("TresMesh",{ref_key:"meshRef",ref:B},[p("TresPlaneGeometry",{args:[2*P,2]},null,8,S),p("TresShaderMaterial",{"vertex-shader":v("varying vec2 vUv;\nvoid main() {\n    vUv = uv;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"),"fragment-shader":v("uniform sampler2D uTexture;\nuniform float uTime;\nuniform float uFadeStart;\nuniform float uMaxDistance;\nuniform float uStrength;\nuniform float uNoiseStrength;  \nuniform float uNoiseSpeed;     \nuniform float uMoveSpeed;      \n\nvarying vec2 vUv;\n\nfloat random(vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n}\n\nvoid main() {\n        \n    float baseOffsetX = uTime * uMoveSpeed * -0.1;\n\n    \n    vec2 noiseCoord = vUv * 10.0 + uTime * uNoiseSpeed*1.0;\n    float noiseX = random(floor(noiseCoord + 0.5));\n    float noiseY = random(floor(noiseCoord - 0.5));\n\n    \n    vec2 offset = vec2(\n        baseOffsetX + (noiseX - 0.5) * uNoiseStrength,\n        (noiseY - 0.5) * uNoiseStrength * 0.5  \n    );\n\n    \n    vec2 offsetUv = vUv + offset;\n    \n    vec4 textureColor = texture2D(uTexture, offsetUv);\n    \n    float distanceToCenter = distance(vUv, vec2(0.5, 0.0));\n\n    \n    float alpha = 1.0 - smoothstep(uFadeStart, uMaxDistance, distanceToCenter);\n\n    \n    gl_FragColor = vec4(textureColor.rgb*uStrength, alpha);\n}"),uniforms:C,transparent:!0,side:v(N)},null,8,y)],512))}};export{b as default};
