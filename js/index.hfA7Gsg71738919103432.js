var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.yQma6UMj1738919103432.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.o3nTi6uT1738919103432.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.v_xqALTW1738919103432.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,g as x,_ as v,A as m,b as h,Q as w}from"./three.CYhYNU4g1738919103432.js";import{m as g,e as y}from"./@tresjs.G4idgyWs1738919103432.js";import{u as d}from"./index.7_Uppa3d1738919103432.js";import{F as S,C as _}from"./three-stdlib.YzLG7rkK1738919103432.js";import{d as P}from"./@vue.NRI7TcgI1738919103432.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.1tI5NGFj1738919103432.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.px6S-9lm1738919103432.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.A1tPdDnd1738919103432.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.UpXxe6aB1738919103432.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Omkg9vD61738919103432.js";function z(t,e){const n=I();return(z=function(t,e){return n[t-=144]})(t,e)}!function(t,e){const n=z,i=I();for(;;)try{if(590115===parseInt(n(169))/1*(-parseInt(n(151))/2)+-parseInt(n(161))/3*(parseInt(n(163))/4)+-parseInt(n(155))/5*(-parseInt(n(144))/6)+-parseInt(n(150))/7*(-parseInt(n(156))/8)+parseInt(n(168))/9+parseInt(n(145))/10*(-parseInt(n(147))/11)+parseInt(n(166))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(){const t=["8202864lzbgMs","constructor","152460PooEzL","1133NIcFTV","stateObject","__proto__","prototype","apply","gger","trace","length","12gcSsav","14690NfDETV","table","1100gzZrop","console","debu","3604685ppSrQt","1654cEZxRh","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","2287865DVZTOX","8IzofgJ","error","exception","info","bind","1369821FBVSAh","action","4BOmQLK","function *\\( *\\)","test"];return(I=function(){return t})()}!function(){b(this,(function(){const t=z,e=new RegExp(t(164)),n=new RegExp(t(153),"i"),i=M("init");e[t(165)](i+"chain")&&n.test(i+"input")?M():i("0")}))()}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(173)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();E(void 0,(function(){const t=z,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e[t(148)]=e[t(148)]||{},i=["log",t(152),t(159),t(157),t(158),t(146),t(175)];for(let r=0;r<i[t(176)];r++){const e=E[t(167)][t(172)][t(160)](E),a=i[r],o=n[a]||e;e[t(171)]=E[t(160)](E),e[t(154)]=o.toString.bind(o),n[a]=e}}))();function M(t){function e(t){const n=z;if("string"==typeof t)return function(t){}[n(167)]("while (true) {}")[n(173)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(167)](n(149)+n(174)).call(n(162)):function(){return!1}[n(167)](n(149)+"gger").apply(n(170)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=U;!function(t,e){const n=U,i=O();for(;;)try{if(395348===-parseInt(n(387))/1*(parseInt(n(383))/2)+-parseInt(n(391))/3+-parseInt(n(402))/4+-parseInt(n(404))/5*(-parseInt(n(381))/6)+parseInt(n(411))/7+-parseInt(n(414))/8+parseInt(n(378))/9*(parseInt(n(405))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){D(this,(function(){const t=U,e=new RegExp(t(412)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=j("init");e[t(382)](i+t(393))&&n[t(382)](i+t(406))?j():i("0")}))()}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(t,e){const n=O();return(U=function(t,e){return n[t-=378]})(t,e)}function T(t){const e=U,n=a({},t);return e(396)in t&&(n[e(396)]=a({},t[e(396)])),e(384)in t&&(n[e(384)]=s[e(394)](t.uniforms)),n}L(void 0,(function(){const t=U,e=function(){const t=U;let e;try{e=Function(t(388)+t(397)+");")()}catch(n){e=window}return e}(),n=e[t(413)]=e.console||{},i=[t(399),t(379),"info",t(417),t(389),t(380),"trace"];for(let r=0;r<i[t(385)];r++){const e=L[t(400)][t(409)][t(386)](L),a=i[r],o=n[a]||e;e[t(408)]=L[t(386)](L),e[t(415)]=o.toString.bind(o),n[a]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:A(398),fragmentShader:A(401)+'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n'+A(410)};function O(){const t=["2615290qpNydP","input","while (true) {}","__proto__","prototype","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","3016356zwbCSA","function *\\( *\\)","console","4724440Mnicvm","toString","apply","error","action","36yWcXoE","warn","table","4687698dSlBPR","test","1524dIKFRJ","uniforms","length","bind","632RKUnjZ","return (function() ","exception","counter","1114524oATkEv","stateObject","chain","clone","gger","defines",'{}.constructor("return this")( )',"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","log","constructor","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","1677248iwxEZm","debu","5WMZQRO"];return(O=function(){return t})()}function j(t){function e(t){const n=U;if("string"==typeof t)return function(t){}[n(400)](n(407)).apply(n(390));1!==(""+t/t)[n(385)]||t%20==0?function(){return!0}[n(400)](n(403)+n(395)).call(n(418)):function(){return!1}[n(400)]("debu"+n(395))[n(416)](n(392)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=C;!function(t,e){const n=C,i=W();for(;;)try{if(679183===parseInt(n(168))/1*(-parseInt(n(211))/2)+-parseInt(n(199))/3+parseInt(n(181))/4*(-parseInt(n(190))/5)+-parseInt(n(200))/6+-parseInt(n(163))/7*(parseInt(n(184))/8)+parseInt(n(217))/9+parseInt(n(204))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(198)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(t,e){const n=W();return(C=function(t,e){return n[t-=146]})(t,e)}!function(){k(this,(function(){const t=C,e=new RegExp(t(176)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Q(t(172));e[t(159)](i+t(209))&&n[t(159)](i+t(173))?Q():i("0")}))()}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(198)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function W(){const t=["parentLevel","texture","dispose","apply","3690006GpRVaO","5406216oFHrWd","gger","clear","minFilter","46091210EHskKb","warn","width","value","tDiffuse","chain","setRenderTarget","11916koqsxM","setViewOffset","material","_copyQuad","setClearAlpha","parentMapSize","3769434jpQnPL","setSize","_mipMaterials","info","constructor","_swapTarget","X_IS_EVEN","return (function() ","autoClear","camera","error","copy","table","render","getClearAlpha","originalMapSize","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","test","call","debu","map","367143egdllh","isWebGLRenderTarget","height","_mipQuad","uniforms","167toeAJU","log","console","getRenderTarget","init","input","forEach","fragmentShader","function *\\( *\\)","magFilter","string","image","defines","4068Diiqtf","setClearColor","bind","144SbOToM","trace",'{}.constructor("return this")( )',"floorPowerOfTwo","length","exception","1370RTuuGZ","Y_IS_EVEN","floor","type","stateObject"];return(W=function(){return t})()}N(void 0,(function(){const t=C;let e;try{e=Function(t(149)+t(186)+");")()}catch(r){e=window}const n=e[t(170)]=e[t(170)]||{},i=[t(169),t(205),t(220),t(152),t(189),t(154),t(185)];for(let a=0;a<i[t(188)];a++){const e=N.constructor.prototype[t(183)](N),r=i[a],o=n[r]||e;e.__proto__=N[t(183)](N),e.toString=o.toString[t(183)](o),n[r]=e}}))();const Z=new l;class F{constructor(t){const e=C;!t&&(t=e(158));const n=T(V);n[e(175)]=n[e(175)].replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0].defines[e(148)]=0,i[0][e(180)][e(191)]=0,i[1]=new c(T(n)),i[1][e(180)][e(148)]=1,i[1][e(180)][e(191)]=0,i[2]=new c(T(n)),i[2][e(180)].X_IS_EVEN=0,i[2][e(180)][e(191)]=1,i[3]=new c(T(n)),i[3][e(180)].X_IS_EVEN=1,i[3][e(180)][e(191)]=1;const r=new u;r[e(196)][e(203)]=p,r[e(196)][e(177)]=p,this[e(147)]=r,this._copyQuad=new S(new c(_)),this[e(166)]=new S(null),this[e(219)]=i}update(t,e,n,i=!1){const r=C;t[r(164)]&&(t=t[r(196)]);const o=n.autoClear,s=n[r(156)](),l=n[r(171)]();n.getClearColor(Z);const c=this._copyQuad,u=this._mipQuad,p=this[r(147)],x=this[r(219)];let v,m;i?(v=f[r(187)](t.image[r(206)]),m=f[r(187)](t[r(179)][r(165)])):(v=Math[r(192)](t[r(179)][r(206)]),m=Math[r(192)](t[r(179)][r(165)]));const h=Math[r(192)](1.5*v),w=Math.floor(m);e[r(218)](h,w),p.texture[r(193)]!==e.texture[r(193)]?(p[r(197)](),p[r(153)](e),p[r(196)][r(179)]=a({},p[r(196)][r(179)])):p.setSize(h,w),n[r(150)]=!1,n[r(182)](0),n.setClearAlpha(),c[r(213)].uniforms[r(208)][r(207)]=t,c[r(151)][r(212)](v,m,0,0,h,w),n[r(210)](e),n[r(202)](),c[r(155)](n),n[r(210)](p),n.clear(),c[r(155)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t[r(167)].map[r(207)]=p[r(196)],t[r(167)][r(195)].value=d,t.uniforms[r(216)][r(207)].set(g,y),t[r(167)][r(157)][r(207)].set(v,m),u[r(213)]=t,g=Math.floor(g/2),y=Math[r(192)](y/2);const i=w-2*y;n[r(210)](e),u[r(151)][r(212)](g,y,-v,-i,h,w),u[r(155)](n),n[r(210)](p),t[r(167)][r(162)][r(207)]=e[r(196)],u[r(155)](n),d++}return n[r(210)](l),n[r(215)](s),n.setClearColor(Z),n[r(150)]=o,d+1}[R(197)](){const t=R;this[t(147)][t(197)](),this[t(166)].dispose(),this[t(214)][t(197)](),this[t(219)][t(174)]((e=>e[t(197)]()))}}function Q(t){function e(t){const n=C;if(typeof t===n(178))return function(t){}.constructor("while (true) {}")[n(198)]("counter");1!==(""+t/t)[n(188)]||t%20==0?function(){return!0}[n(146)](n(161)+n(201))[n(160)]("action"):function(){return!1}[n(146)](n(161)+n(201))[n(198)](n(194)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const H=$;!function(t,e){const n=$,i=K();for(;;)try{if(639682===-parseInt(n(206))/1*(-parseInt(n(201))/2)+-parseInt(n(234))/3+parseInt(n(242))/4*(parseInt(n(205))/5)+-parseInt(n(225))/6+parseInt(n(267))/7*(parseInt(n(224))/8)+-parseInt(n(257))/9*(-parseInt(n(253))/10)+parseInt(n(241))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){G(this,(function(){const t=$,e=new RegExp(t(230)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=q(t(198));e.test(i+"chain")&&n[t(248)](i+t(256))?q():i("0")}))()}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(t,e){const n=K();return($=function(t,e){return n[t-=194]})(t,e)}function K(){const t=["table","multiplyScalar","matrixWorldInverse","clone","autoClear","UnsignedByteType","812592XnDhMl","24atyDgh","ignoreObjects","elements","negate","error","sign","test","applyQuaternion","applyMatrix4","getWorldQuaternion","prototype","11975710uZAerK","info","projectionMatrix","input","9woBlae","parent","bind","matrixWorld","update","length","normal","projectPoint","__proto__","set","3591763kazlGe","Matrix4","reflectorMipMap","console","Quaternion","updateMatrixWorld","Vector3","Vector4","init","toString","buffers","1302ultEvu","constant","action","PerspectiveCamera","10885XsFmrj","245oTDhqZ",'{}.constructor("return this")( )',"return (function() ","apply","visible","resolution","debu","setRenderTarget","reflect","getWorldPosition","forEach","exception","add","warn","constructor","value","sub","call","8QmVGfu","6659040eDdlNb","position","trace","multiply","depth","function *\\( *\\)","copy","string","dot","622761aDEocL"];return(K=function(){return t})()}X(void 0,(function(){const t=$;let e;try{e=Function(t(208)+t(207)+");")()}catch(r){e=window}const n=e[t(270)]=e[t(270)]||{},i=["log",t(219),t(254),t(246),t(217),t(235),t(227)];for(let a=0;a<i[t(262)];a++){const e=X.constructor[t(252)][t(259)](X),r=i[a],o=n[r]||e;e[t(265)]=X[t(259)](X),e[t(199)]=o[t(199)][t(259)](o),n[r]=e}}))();const B=P({__name:H(269),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=H,i=t,r=new x,a=new(v[n(268)]),o=new(v[n(204)]),s=new F,l=d({width:i.resolution,height:i[n(211)],settings:{type:m}}),c=d({width:i[n(211)],height:i[n(211)],settings:{type:v[n(240)]}}),{camera:u,renderer:p,scene:f}=g(),{onBeforeLoop:S}=y();return S((()=>{const t=n;(()=>{const t=n;if(!u[t(221)])return;r[t(266)](new(v[t(196)])(0,1,0),0),r[t(250)](i[t(258)][t(260)]),o[t(231)](u[t(221)]);const e=new h(0,0,1).clone()[t(245)](),s=u[t(221)].getWorldPosition(new(v[t(196)]));e[t(214)](r.normal);const c=new h;r[t(264)](s,c);const x=c[t(238)]();x.sub(s),x[t(218)](c),o[t(226)][t(231)](x);const m=new(v[t(196)])(0,0,-1);m.applyQuaternion(u[t(221)].getWorldQuaternion(new(v[t(194)]))),m.add(s);const g=new h;i[t(258)].getWorldPosition(g),g[t(222)](m),g[t(214)](r[t(263)])[t(245)](),g[t(218)](i[t(258)][t(215)](new(v[t(196)]))),o.up[t(266)](0,1,0),o[t(249)](u.value[t(251)](new w)),o.up[t(214)](r.normal),o.lookAt(g),o[t(195)]();const y=new(v[t(268)]);y[t(266)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(228)](o[t(255)]),y[t(228)](o[t(237)]),a[t(231)](y),r.applyMatrix4(o[t(237)]);const d=new(v[t(197)])(r.normal.x,r[t(263)].y,r[t(263)].z,r[t(202)]),S=o[t(255)],_=new(v[t(197)]);_.x=(Math[t(247)](d.x)+S[t(244)][8])/S[t(244)][0],_.y=(Math.sign(d.y)+S[t(244)][9])/S[t(244)][5],_.z=-1,_.w=(1+S[t(244)][10])/S[t(244)][14],d[t(236)](2/d[t(233)](_)),S[t(244)][2]=d.x,S[t(244)][6]=d.y,S.elements[10]=d.z+1,S[t(244)][14]=d.w;const P=p[t(221)].getRenderTarget();p[t(221)][t(213)](l[t(221)]),p[t(221)].state[t(200)][t(229)].setMask(!0),!1===p[t(221)][t(239)]&&p[t(221)].clear(),i[t(243)].forEach((e=>e[t(210)]=!1)),p.value.render(f[t(221)],o),i.ignoreObjects[t(216)]((e=>e[t(210)]=!0)),p[t(221)][t(213)](P)})(),l[t(221)]&&c.value&&p[t(221)]&&s[t(261)](l[t(221)].texture,c.value,p[t(221)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function q(t){function e(t){const n=$;if(typeof t===n(232))return function(t){}[n(220)]("while (true) {}")[n(209)]("counter");1!==(""+t/t)[n(262)]||t%20==0?function(){return!0}[n(220)]("debugger")[n(223)](n(203)):function(){return!1}[n(220)](n(212)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=et,i=tt();;)try{if(763357===parseInt(n(282))/1*(-parseInt(n(305))/2)+parseInt(n(280))/3+-parseInt(n(286))/4*(-parseInt(n(295))/5)+-parseInt(n(294))/6+parseInt(n(296))/7*(-parseInt(n(297))/8)+-parseInt(n(288))/9+parseInt(n(301))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var Y=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(304)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){var t=et,e=new RegExp(t(290)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=nt(t(300));e[t(306)](i+"chain")&&n[t(306)](i+t(302))?nt():i("0")}))()}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(304)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(){var t=["4TRnVzL","log","8159688QnOckg","debu","function *\\( *\\)","stateObject","length","trace","2345136PxUmHL","5752115UGajKm","84ihgcRV","662776JVETiq","bind","info","init","24336960fdaASC","input","counter","apply","2GjyoCf","test","toString","return (function() ","__proto__",'{}.constructor("return this")( )',"error","prototype","console","while (true) {}","2557443KpHRDF","action","1381591qkTtlx","constructor","warn","exception"];return(tt=function(){return t})()}function et(t,e){var n=tt();return(et=function(t,e){return n[t-=276]})(t,e)}function nt(t){function e(t){var n=et;if("string"==typeof t)return function(t){}.constructor(n(279))[n(304)](n(303));1!==(""+t/t)[n(292)]||t%20==0?function(){return!0}.constructor(n(289)+"gger").call(n(281)):function(){return!1}[n(283)](n(289)+"gger")[n(304)](n(291)),e(++t)}try{if(t)return e;e(0)}catch(n){}}J(void 0,(function(){var t,e=et;try{t=Function(e(308)+e(310)+");")()}catch(l){t=window}for(var n=t[e(278)]=t[e(278)]||{},i=[e(287),e(284),e(299),e(276),e(285),"table",e(293)],r=0;r<i[e(292)];r++){var a=J.constructor[e(277)][e(298)](J),o=i[r],s=n[o]||a;a[e(309)]=J[e(298)](J),a[e(307)]=s[e(307)][e(298)](s),n[o]=a}}))();export{B as _};
