import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.tqalU7S21741683274763.js";import{_ as i,C as s,K as a,aX as c}from"./three.3wvNjL8W1741683274763.js";import{P as u}from"./tweakpane.yDiyAAkA1741683274763.js";import{L as l}from"./three-subdivide.vrqvhB211741683274763.js";import{d as f,b as p,a2 as d,w as g,o as m,H as h,N as v,aj as y,ak as b,a3 as w,r as _,e as M,f as x,g as I,j as T,u as j,m as B,M as S}from"./@vue.NRI7TcgI1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";const k=F;!function(n,t){const e=F,o=A();for(;;)try{if(968648===parseInt(e(417))/1+parseInt(e(434))/2+-parseInt(e(444))/3*(-parseInt(e(429))/4)+-parseInt(e(441))/5+parseInt(e(430))/6*(parseInt(e(466))/7)+parseInt(e(450))/8+parseInt(e(432))/9*(-parseInt(e(439))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(448)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){N(this,(function(){const n=F,t=new RegExp(n(428)),e=new RegExp(n(423),"i"),o=G(n(433));t[n(414)](o+n(457))&&e.test(o+"input")?G():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(448)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(){const n=["636582dvKsTx","log","call","blending","info","341720auWNZY",'{}.constructor("return this")( )',"6951700LHIaDt","console","constructor","8103kxLtyS","subVectors","exception","error","apply","modify","8578152CFtVVV","material","Vector3","AdditiveBlending","toString","length","copy","chain","color","#ffff00","table","action","FrontSide","subdivision","stateObject","counter","1235227YRyQRU","srcMesh","scale","gger","clone","TresMesh","warn","while (true) {}","uniforms","TresShaderMaterial","bind","test","value","debu","725557XjqUxl","geometry","position","attributes","trace","viewVector","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","side","Color","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","function *\\( *\\)","2072cTqHyd","6AWZTdK","shineShader","351GcCXgG","init"];return(A=function(){return n})()}C(void 0,(function(){const n=F;let t;try{t=Function(n(424)+n(440)+");")()}catch(r){t=window}const e=t[n(442)]=t[n(442)]||{},o=[n(435),n(472),n(438),n(447),n(446),n(460),n(421)];for(let i=0;i<o.length;i++){const t=C[n(443)].prototype[n(413)](C),r=o[i],s=e[r]||t;t.__proto__=C.bind(C),t[n(454)]=s[n(454)].bind(s),e[r]=t}}))();const V=[k(468)],R=f({__name:k(431),props:{srcMesh:{},scale:{default:1.2},color:{default:k(459)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(462)]},blending:{default:i[k(453)]}},setup(e){const o=k,r=e,a=p(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new s(r[o(458)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(427),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(425)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(437)]};d((()=>{const n=o;if(r[n(467)]&&a[n(415)]&&!a.value[n(418)][n(420)][n(419)]){let t=r[n(467)][n(418)][n(470)]();r[n(463)]&&(t=l[n(449)](t,2)),a[n(415)][n(418)]=t,a[n(415)][n(419)][n(456)](r.srcMesh.position)}r[n(458)]&&(c.uniforms.glowColor[n(415)]=new(i[n(426)])(r[n(458)])),r.c&&(c[n(411)].c[n(415)]=r.c),r.p&&(c.uniforms.p[n(415)]=r.p)})),g((()=>r.subdivision),(n=>{const t=o;let e=r[t(467)][t(418)][t(470)]();n&&(e=l[t(449)](e,2)),a[t(415)].geometry=e})),g((()=>r[o(425)]),(n=>{const t=o;a[t(415)][t(451)][t(425)]=n})),g((()=>r.blending),(n=>{const t=o;a[t(415)][t(451)][t(437)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=o;f.value&&a.value&&(c[n(411)][n(422)].value=(new(i[n(452)]))[n(445)](f.value.position,a[n(415)][n(419)]))})),(n,t)=>{const e=o;return m(),h(e(471),{ref_key:"TSGref",ref:a,scale:r[e(468)]},[v(e(412),y(b(c)),null,16)],8,V)}}});function F(n,t){const e=A();return(F=function(n,t){return e[n-=410]})(n,t)}function G(n){function t(n){const e=F;if("string"==typeof n)return function(n){}[e(443)](e(410)).apply(e(465));1!==(""+n/n)[e(455)]||n%20==0?function(){return!0}[e(443)](e(416)+"gger")[e(436)](e(461)):function(){return!1}[e(443)]("debu"+e(469))[e(448)](e(464)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const z=q;!function(n,t){const e=q,o=H();for(;;)try{if(564148===parseInt(e(401))/1*(-parseInt(e(421))/2)+parseInt(e(412))/3+-parseInt(e(418))/4+parseInt(e(424))/5+-parseInt(e(396))/6+parseInt(e(388))/7+parseInt(e(411))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=q,t=new RegExp(n(427)),e=new RegExp(n(426),"i"),o=$(n(417));t.test(o+n(387))&&e[n(392)](o+n(394))?$():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function q(n,t){const e=H();return(q=function(n,t){return e[n-=385]})(n,t)}E(void 0,(function(){const n=q;let t;try{t=Function("return (function() "+n(399)+");")()}catch(r){t=window}const e=t[n(389)]=t[n(389)]||{},o=[n(405),n(409),n(408),"error",n(390),"table","trace"];for(let i=0;i<o.length;i++){const t=E[n(413)][n(440)][n(391)](E),r=o[i],s=e[r]||t;t[n(431)]=E.bind(E),t[n(398)]=s[n(398)][n(391)](s),e[r]=t}}))();const L=[z(422)],D=[z(422)];function H(){const n=['{}.constructor("return this")( )',"length","466874NGWDtF","NormalBlending","stateObject","addBinding","log","TreBoxRef","TresMesh","info","warn","#222","9226584ZNhBiN","996939dgjhEN","constructor","value","logo.png","TresBoxGeometry","init","2401952JINqys","TresMeshBasicMaterial","AdditiveBlending","4gnfgkw","map","DoubleSide","1748825FVqUfQ","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","instance","action","TresMeshRefA","__proto__","srcMesh","call","color","TresSphereGeometry","counter","apply","FrontSide","while (true) {}","prototype","TresAmbientLight","边缘处理","TresMeshRefB","blending","chain","2158296JkfvZi","console","exception","bind","test","string","input","shader","272070qGJeGR","#00dfff","toString"];return(H=function(){return n})()}const W=f({__name:z(395),async setup(n){const t=z;let s,l;const f={clearColor:t(410)},d=p(),g=p(),h=p(),y=([s,l]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(415)]))),s=await s,l(),s),b=_({scale:1.6,color:t(397),subdivision:!0,c:1.1,p:1.4,side:i[t(438)],blending:i[t(420)]}),k=new u({title:"参数",expanded:!0});return k[t(404)](b,t(434),{label:"颜色"}),k[t(404)](b,"scale",{label:"大小",min:1,max:3,step:.2}),k.addBinding(b,"subdivision",{label:t(442)}),k[t(404)](b,"c",{label:"c",min:0,max:2,step:.1}),k[t(404)](b,"p",{label:"p",min:0,max:8,step:.2}),k[t(404)](b,"side",{options:{FrontSide:i[t(438)],BackSide:a,DoubleSide:i[t(423)]}}),k.addBinding(b,t(386),{options:{AdditiveBlending:c,NormalBlending:i[t(402)]}}),(n,r)=>{const i=t,s=M("TresCanvas");return m(),x(s,B(f,{"window-size":""}),{default:I((()=>[r[2]||(r[2]=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=v(i(441),{intensity:1},null,-1)),T(j(e)),r[4]||(r[4]=v("TresGridHelper",{args:[10,10]},null,-1)),v(i(407),{ref_key:i(430),ref:d,position:[-2,1,0]},[r[0]||(r[0]=v(i(435),{args:[1,32,16]},null,-1)),v(i(419),{map:j(y)[0]},null,8,L)],512),T(R,B({srcMesh:d[i(414)]},b),null,16,[i(432)]),T(j(o),{ref_key:i(406),ref:h,args:[1,1,1],position:[2,1,0]},{default:I((()=>[v(i(419),{map:j(y)[1]},null,8,D)])),_:1},512),h.value&&h[i(414)][i(428)]?(m(),x(R,B({key:0,srcMesh:h[i(414)][i(428)]},b),null,16,["srcMesh"])):S("",!0),v("TresMesh",{ref_key:i(385),ref:g,position:[0,1,-2]},r[1]||(r[1]=[v(i(416),{args:[1,1,1,1,1]},null,-1),v("TresMeshBasicMaterial",{color:"#0ff"},null,-1)]),512),T(R,B({srcMesh:g[i(414)]},b),null,16,[i(432)])])),_:1},16)}}});function $(n){function t(n){const e=q;if(typeof n===e(393))return function(n){}[e(413)](e(439)).apply(e(436));1!==(""+n/n)[e(400)]||n%20==0?function(){return!0}[e(413)](e(425)+"gger")[e(433)](e(429)):function(){return!1}.constructor(e(425)+"gger")[e(437)](e(403)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{W as default};
