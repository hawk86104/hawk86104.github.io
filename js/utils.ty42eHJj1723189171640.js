import{a as t,B as n,q as e,bZ as o,C as r,j as s,Z as c}from"./three.5MXJ6W7w1723189171640.js";import{x as i}from"./@fesjs.92jMy6FJ1723189171640.js";import{N as a}from"./@tresjs.LTwFwASm1723189171640.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.DYOnGaSM1723189171640.js";function l(t,n){const e=w();return(l=function(t,n){return e[t-=132]})(t,n)}!function(t,n){const e=l,o=w();for(;;)try{if(606366===parseInt(e(173))/1*(-parseInt(e(190))/2)+parseInt(e(203))/3+-parseInt(e(202))/4+-parseInt(e(162))/5+-parseInt(e(163))/6+parseInt(e(183))/7*(-parseInt(e(156))/8)+-parseInt(e(170))/9*(-parseInt(e(182))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=l,n=new RegExp(t(136)),e=new RegExp(t(196),"i"),o=_(t(207));n.test(o+t(204))&&e[t(132)](o+t(165))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=l;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(148)]=n[t(148)]||{},o=["log",t(137),t(208),t(191),t(197),t(189),"trace"];for(let s=0;s<o[t(133)];s++){const n=m[t(184)][t(194)][t(161)](m),r=o[s],c=e[r]||n;n[t(169)]=m[t(161)](m),n[t(135)]=c.toString[t(161)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=l;n[o(174)]();const{max:r,min:s}=n[o(193)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(145)][o(201)].count;t++)e?(a.push((n[o(145)][o(201)].getX(t)-(s.x+r.x)/2)/c),a[o(168)]((n[o(145)].position[o(200)](t)-(s.y+r.y)/2)/i)):(a[o(168)]((n.attributes[o(201)][o(138)](t)-s.x)/c),a[o(168)]((n.attributes[o(201)][o(200)](t)-s.y)/i));const u=new Float32Array(a);n[o(139)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=l;i(t,{},{method:r(144),mergeRequest:!0}).then((t=>{const o=r;n&&e(t[n]),e(t[o(188)])}))[r(171)]((t=>{console[r(191)](t),o(t)}))}));function w(){const t=["gger","center","push","__proto__","21789OhFBlI","catch","action","238803LEKMeN","computeBoundingBox","expandByObject","debu","reflectivity","value","while (true) {}","getSize","uniforms","17590DjNBxC","3677373HVlFdg","constructor","transparent","forEach","min","features","table","10NWzqPF","error","geometry","boundingBox","prototype","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","config","children","getY","position","1805056lDLgPF","1242969PBdzro","chain","stateObject","sub","init","info","string","test","length","random","toString","function *\\( *\\)","warn","getX","setAttribute","negate","set","copy","max","get","attributes","clone","#fff","console","count","raycast","applyMatrix4","apply","disposeBoundsTree","call","depthTest","8kiJwWu","material","getCenter","setY","computeBoundsTree","bind","4590790cXsMFe","5866320gbMHlm","depthWrite","input"];return(w=function(){return t})()}const x=t=>{const n=l,e=(new THREE.Box3).setFromObject(t),o=new THREE.Vector3;e[n(158)](o),t[n(199)][n(186)]((t=>{t[n(201)].sub(o)})),t[n(201)][n(142)](o[n(140)]())},y=()=>{const t=l;n[t(194)][t(160)]=u,n[t(194)][t(153)]=f,e.prototype[t(150)]=p},b=async t=>{const n=l,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(192)][n(146)]();h(i),i[n(160)]();const u=new o(i,{color:new r(n(147)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(157)][n(185)]=!0,u[n(157)][n(164)]=!0,u.material[n(155)]=!0,u[n(157)].side=c,u[n(157)][n(181)][n(198)][n(178)].w=20,u[n(157)].uniforms[n(177)][n(178)]=.46,u};function j(t){const n=l,e=[];for(let r=0;r<t[n(133)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(133)];r++)o.add(e[r]);o.divideScalar(e[n(133)]);for(let r=0;r<e[n(133)];r++)e[r][n(206)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=l;if(typeof t===e(209))return function(t){}.constructor(e(179))[e(152)](e(195));1!==(""+t/t)[e(133)]||t%20==0?function(){return!0}[e(184)](e(176)+e(166))[e(154)](e(172)):function(){return!1}[e(184)](e(176)+"gger")[e(152)](e(205)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,y as i,d as l,h as r,b as s};
