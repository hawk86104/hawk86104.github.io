import{a6 as t,cj as e,N as i,bR as n,h as s,k as r,b as o,V as a}from"./three.LOnTLfxo1723628107012.js";const c=f;!function(t,e){const i=f,n=d();for(;;)try{if(251208===parseInt(i(122))/1*(parseInt(i(546))/2)+-parseInt(i(148))/3+parseInt(i(128))/4+-parseInt(i(222))/5+parseInt(i(164))/6*(-parseInt(i(439))/7)+parseInt(i(509))/8+parseInt(i(465))/9)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(504)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){h(this,(function(){const t=f,e=new RegExp(t(421)),i=new RegExp(t(519),"i"),n=m(t(152));e.test(n+"chain")&&i[t(376)](n+t(188))?m():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=f,e=function(){const t=f;let e;try{e=Function("return (function() "+t(359)+");")()}catch(i){e=window}return e}(),i=e[t(154)]=e.console||{},n=[t(382),"warn",t(539),t(395),t(263),t(320),t(463)];for(let s=0;s<n.length;s++){const e=l[t(533)][t(262)][t(250)](l),r=n[s],o=i[r]||e;e[t(490)]=l[t(250)](l),e[t(529)]=o.toString[t(250)](o),i[r]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function f(t,e){const i=d();return(f=function(t,e){return i[t-=105]})(t,e)}"function"==typeof define&&define[c(272)]?define("spe",u):typeof exports!==c(403)&&"undefined"!=typeof module&&(module[c(512)]=u),u[c(246)]=function(t,e,i,n){const s=c;this[s(435)]=i||1,this.size=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(110)]=new t(e*this.componentSize),this[s(141)]=n||0},u.TypedArrayHelper.constructor=u.TypedArrayHelper,u[c(246)][c(262)][c(410)]=function(t,e){const i=c,n=this.array[i(532)];return!e&&(t*=this.componentSize),t<n?this[i(203)](t):t>n?this[i(467)](t):void console[i(539)](i(145),t+".",i(266))},u.TypedArrayHelper[c(262)].shrink=function(t){const e=c;return this.array=this[e(110)][e(185)](0,t),this.size=t,this},u.TypedArrayHelper[c(262)][c(467)]=function(t){const e=c,i=this[e(110)],n=new(this[e(503)])(t);return n[e(267)](i),this[e(110)]=n,this[e(384)]=t,this},u.TypedArrayHelper[c(262)].splice=function(t,e){const i=c;t*=this[i(435)],e*=this[i(435)];const n=[],s=this[i(110)],r=s[i(532)];for(let o=0;o<r;++o)(o<t||o>=e)&&n[i(135)](s[o]);return this[i(548)](0,n),this},u[c(246)][c(262)][c(548)]=function(t,e){const i=c,n=t+e.length;return n>this[i(110)][i(532)]?this[i(467)](n):n<this[i(110)][i(532)]&&this.shrink(n),this[i(110)][i(267)](e,this.indexOffset+t),this},u.TypedArrayHelper[c(262)][c(237)]=function(t,e){return this[c(206)](t,e.x,e.y)},u[c(246)][c(262)][c(206)]=function(t,e,i){const n=c,s=this[n(110)],r=this.indexOffset+t*this[n(435)];return s[r]=e,s[r+1]=i,this},u[c(246)].prototype[c(432)]=function(t,e){return this[c(538)](t,e.x,e.y,e.z)},u.TypedArrayHelper[c(262)][c(538)]=function(t,e,i,n){const s=this.array,r=this.indexOffset+t*this.componentSize;return s[r]=e,s[r+1]=i,s[r+2]=n,this},u[c(246)][c(262)][c(273)]=function(t,e){return this[c(556)](t,e.x,e.y,e.z,e.w)},u.TypedArrayHelper[c(262)][c(556)]=function(t,e,i,n,s){const r=c,o=this[r(110)],a=this[r(141)]+t*this[r(435)];return o[a]=e,o[a+1]=i,o[a+2]=n,o[a+3]=s,this},u[c(246)][c(262)][c(412)]=function(t,e){return this.setFromArray(this.indexOffset+t*this.componentSize,e.elements)},u[c(246)][c(262)][c(500)]=function(t,e){const i=c;return this.setFromArray(this.indexOffset+t*this[i(435)],e[i(455)])},u.TypedArrayHelper[c(262)].setColor=function(t,e){return this[c(538)](t,e.r,e.g,e.b)},u[c(246)][c(262)].setNumber=function(t,e){const i=c;return this[i(110)][this[i(141)]+t*this.componentSize]=e,this},u.TypedArrayHelper[c(262)][c(288)]=function(t){return this.array[this.indexOffset+t]},u.TypedArrayHelper[c(262)][c(289)]=function(t){const e=c;return this[e(110)][e(185)](this[e(141)]+t*this.componentSize)},u[c(414)]=function(t,e,i){const n=c,s=u[n(414)].typeSizeMap;this[n(301)]="string"==typeof t&&s[n(438)](t)?t:"f",this[n(435)]=s[this[n(301)]],this[n(344)]=i||Float32Array,this[n(514)]=null,this[n(560)]=null,this[n(426)]=!!e,this.updateMin=0,this[n(167)]=0},u[c(414)].constructor=u[c(414)],u[c(414)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[c(414)][c(262)][c(160)]=function(t,e){const i=c;this[i(230)]=Math[i(190)](t*this[i(435)],this[i(230)]*this[i(435)]),this[i(167)]=Math[i(558)](e*this[i(435)],this[i(167)]*this.componentSize)},u.ShaderAttribute[c(262)][c(515)]=function(){const t=c,e=this[t(560)],i=e[t(131)];i[t(486)]=this[t(230)],i[t(213)]=Math.min(this[t(167)]-this.updateMin+this[t(435)],this[t(514)][t(110)][t(532)]),e[t(215)]=!0},u[c(414)][c(262)][c(422)]=function(){const t=c;this[t(230)]=0,this[t(167)]=0},u[c(414)][c(262)].resetDynamic=function(){const e=c;this[e(560)][e(375)]=this.dynamicBuffer?t[e(409)]:t[e(165)]},u[c(414)][c(262)].splice=function(t,e){const i=c;this.typedArray[i(261)](t,e),this.forceUpdateAll()},u[c(414)][c(262)][c(495)]=function(){const t=c;this[t(560)][t(110)]=this[t(514)].array,this.bufferAttribute.updateRange.offset=0,this[t(560)][t(131)].count=-1,this[t(560)][t(375)]=e,this[t(560)][t(215)]=!0},u.ShaderAttribute[c(262)][c(545)]=function(t){const e=c;null!==this[e(514)]&&this[e(514)].size===t*this[e(435)]||(null!==this[e(514)]&&this[e(514)][e(384)]!==t?this[e(514)][e(410)](t):null===this[e(514)]&&(this[e(514)]=new(u[e(246)])(this[e(344)],t,this.componentSize)))},u[c(414)][c(262)]._createBufferAttribute=function(e){const n=c;if(this[n(545)](e),null!==this[n(560)])return this.bufferAttribute.array=this.typedArray[n(110)],parseFloat(t[n(281)])>=81&&(this.bufferAttribute[n(213)]=this.bufferAttribute[n(110)][n(532)]/this[n(560)][n(307)]),void(this[n(560)][n(215)]=!0);this[n(560)]=new(t[n(561)])(this[n(514)][n(110)],this[n(435)]),this[n(560)].usage=this[n(426)]?i:t[n(165)]},u[c(414)][c(262)].getLength=function(){const t=c;return null===this[t(514)]?0:this[t(514)][t(110)][t(532)]},u[c(330)]={defines:[c(402),"#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:[c(170),c(516),c(211),c(507),c(477)].join("\n"),attributes:[c(249),c(523),"attribute vec4 rotation;",c(284),"attribute vec4 params;",c(179),"attribute vec4 angle;",c(530),c(258)].join("\n"),varyings:[c(294),c(183),"    varying float vAngle;",c(293),c(352),c(452),c(293)][c(105)]("\n"),branchAvoidanceFunctions:[c(531),"    return max(sign(x - y), 0.0);","}",c(365),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",c(232),c(280),"}",c(247),c(201),"}",c(191),c(292),"}",c(468),c(496),"}",c(241),c(323),"}"][c(105)]("\n"),unpackColor:[c(236),c(417),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",c(445),c(313),c(392),"   c.g = g / PACKED_COLOR_DIVISOR;",c(447),"   return c;","}"].join("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {",c(417),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",c(313),"   c.r = r / PACKED_COLOR_DIVISOR;",c(197),c(447),c(518),c(116),c(161),"}"][c(105)]("\n"),floatOverLifetime:[c(223),c(411),c(377),c(513),c(393),c(482),"",c(334),c(551),"       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",c(466),c(199),"","    return value;","}"][c(105)]("\n"),colorOverLifetime:[c(229),c(462),c(235),c(457),"    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"].join("\n"),paramFetchingFunctions:[c(454),c(510),"}",c(349),c(480),"}","float getMaxAge() {",c(112),"}",c(390),c(126),"}"][c(105)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",c(277),"}","vec3 getVelocity( in float age ) {",c(505),"}",c(111),"   return acceleration.xyz * age;","}"][c(105)]("\n"),rotationFunctions:[c(440),c(109),c(453),c(137),c(245),c(364),"",c(279),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",c(534),c(285),c(336),"",c(537),"      if( rotation.y == 0.0 ) {",c(226),c(501),"",c(186),c(540),"      vec3 translated;",c(172),c(155),c(370),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",c(355),"      rotationMatrix = getRotationMatrix( axis, angle );",c(295),c(336),c(293)][c(105)]("\n"),rotateTexture:[c(343),"",c(171),"       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;",c(491),"       float s = sin( -vAngle );",c(193),c(362),"","    #ifdef SHOULD_CALCULATE_SPRITE",c(166),"        float framesY = vSpriteSheet.y;",c(363),"        float rowNorm = vSpriteSheet.w;",c(424),c(305),c(362),"","    vec4 rotatedTexture = texture2D( tex, vUv );"][c(105)]("\n")},u[c(441)]={vertex:[u.shaderChunks[c(407)],u.shaderChunks.uniforms,u.shaderChunks.attributes,u[c(330)].varyings,t[c(361)][c(549)],n[c(473)],t[c(361)][c(419)],u.shaderChunks.branchAvoidanceFunctions,u[c(330)][c(316)],u.shaderChunks[c(356)],u[c(330)][c(120)],u.shaderChunks.colorOverLifetime,u[c(330)].paramFetchingFunctions,u[c(330)][c(259)],u[c(330)][c(169)],c(358),"    highp float age = getAge();",c(522),c(198),c(494),"    highp float isAlive = when_gt( alive, 0.0 );",c(379),c(329),"        float wiggleSin = isAlive * sin( wiggleAmount );","        float wiggleCos = isAlive * cos( wiggleAmount );",c(362),c(175),c(474),c(153),c(181),c(389),c(168),"    force *= drag;",c(398),c(372),c(379),"        pos.x += wiggleSin;",c(319),c(182),"    #endif","    #ifdef SHOULD_ROTATE_PARTICLES",c(265),c(362),c(526),c(448),c(520),"        float perspective = scale / length( mvPosition.xyz );","    #else","        float perspective = 1.0;",c(362),c(536),c(451),c(464),c(242),"           unpackColor( color.x ),",c(204),c(478),c(326),c(240),c(373),c(133),c(362),"    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );",c(184),c(171),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    #endif",c(180),c(508),c(459),c(476),"        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );",c(298),c(270),"        vSpriteSheet.x = 1.0 / framesX;",c(147),"        vSpriteSheet.z = columnNorm;",c(460),c(362),c(469),c(386),t[c(361)][c(347)],t[c(361)][c(470)],"}"][c(105)]("\n"),fragment:[u[c(330)].uniforms,n[c(549)],n.fog_pars_fragment,n[c(332)],u[c(330)][c(158)],u[c(330)][c(276)],c(358),c(404),c(139),c(427),c(140),c(362),u[c(330)][c(399)],n[c(200)],c(511),c(367),t[c(361)].fog_fragment,"}"][c(105)]("\n")},u.utils={types:{BOOLEAN:"boolean",STRING:c(525),NUMBER:c(557),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){if(Array[c(255)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=c;if(Array[n(255)](t)){for(let s=t[n(532)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=c;e=e||3,i=i||3,!1===Array[n(255)](t[n(321)])&&(t[n(321)]=[t[n(321)]]),!1===Array[n(255)](t[n(312)])&&(t._spread=[t._spread]);const s=this[n(248)](t[n(321)][n(532)],e,i),r=this[n(248)](t[n(312)][n(532)],e,i),o=Math.max(s,r);t[n(321)].length!==o&&(t._value=this[n(324)](t[n(321)],o)),t[n(312)][n(532)]!==o&&(t[n(312)]=this[n(324)](t[n(312)],o))},interpolateArray(t,e){const i=c,n=t[i(532)],s=["function"==typeof t[0][i(351)]?t[0].clone():t[0]],r=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*r,n=Math[i(269)](e),a=Math[i(121)](e),c=e-n;s[o]=this[i(357)](t[n],t[a],c)}return s.push(typeof t[n-1].clone===i(374)?t[n-1][i(351)]():t[n-1]),s},clamp:(t,e,i)=>Math[c(558)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[c(309)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=c;let r,o=this[s(333)];return typeof e===o.NUMBER&&typeof i===o[s(302)]?e+(i-e)*n:e instanceof t[s(308)]&&i instanceof t[s(308)]?(r=e.clone(),r.x=this[s(297)](e.x,i.x,n),r.y=this.lerp(e.y,i.y,n),r):e instanceof t[s(310)]&&i instanceof t[s(310)]?(r=e.clone(),r.x=this[s(297)](e.x,i.x,n),r.y=this[s(297)](e.y,i.y,n),r.z=this[s(297)](e.z,i.z,n),r):e instanceof t[s(413)]&&i instanceof t[s(413)]?(r=e.clone(),r.x=this[s(297)](e.x,i.x,n),r.y=this[s(297)](e.y,i.y,n),r.z=this.lerp(e.z,i.z,n),r.w=this[s(297)](e.w,i.w,n),r):e instanceof t[s(416)]&&i instanceof t[s(416)]?(r=e[s(351)](),r.r=this[s(297)](e.r,i.r,n),r.g=this[s(297)](e.g,i.g,n),r.b=this.lerp(e.b,i.b,n),r):void console[s(456)](s(483),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=c;let n=0;return 0===e?t:(n=Math[i(244)](t)%e,0===n?t:t<0?-(Math[i(244)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[c(309)]()-.5),randomVector3(t,e,i,n,s){const r=c;let o=i.x+(Math[r(309)]()*n.x-.5*n.x),a=i.y+(Math[r(309)]()*n.y-.5*n.y),h=i.z+(Math[r(309)]()*n.z-.5*n.z);s&&(o=.5*-s.x+this[r(391)](o,s.x),a=.5*-s.y+this.roundToNearestMultiple(a,s.y),h=.5*-s.z+this.roundToNearestMultiple(h,s.z)),t.typedArray[r(538)](e,o,a,h)},randomColor(t,e,i,n){const s=c;let r=i.r+Math[s(309)]()*n.x,o=i.g+Math[s(309)]()*n.y,a=i.b+Math[s(309)]()*n.z;r=this[s(248)](r,0,1),o=this[s(248)](o,0,1),a=this.clamp(a,0,1),t[s(514)].setVec3Components(e,r,o,a)},randomColorAsHex:function(){const e=c,i=new(t[e(416)]);return function(t,n,s,r){const o=e,a=s[o(532)],c=[];for(let e=0;e<a;++e){const t=r[e];i[o(387)](s[e]),i.r+=Math[o(309)]()*t.x-.5*t.x,i.g+=Math[o(309)]()*t.y-.5*t.y,i.b+=Math[o(309)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this[o(248)](i.b,0,1),c[o(135)](i[o(150)]())}t[o(514)][o(556)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=c,r=i.clone();r[s(297)](n,Math[s(309)]()),t.typedArray[s(538)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,s,r,o,a){const h=c;let l=2*Math[h(309)]()-1,u=6.2832*Math[h(309)](),f=Math[h(450)](1-l*l),p=this[h(125)](n,s),d=0,m=0,g=0;o&&(p=Math.round(p/o)*o),d=f*Math[h(238)](u)*p,m=f*Math[h(196)](u)*p,g=l*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t[h(514)][h(538)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,r,o){const a=c;let h=6.2832*Math[a(309)](),l=Math[a(244)](this[a(125)](n,s)),u=0,f=0,p=0;o&&(l=Math[a(550)](l/o)*o),u=Math[a(238)](h)*l,f=Math[a(196)](h)*l,u*=r.x,f*=r.y,u+=i.x,f+=i.y,p+=i.z,t[a(514)].setVec3Components(e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=c,i=new(t[e(310)]);return function(t,n,s,r,o,a,c,h){const l=e;i.copy(a),i.x-=s,i.y-=r,i.z-=o,i[l(366)]().multiplyScalar(-this.randomFloat(c,h)),t[l(514)][l(538)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=c,i=new(t[e(310)]);return function(t,n,s,r,o,a,c,h){const l=e;i[l(387)](a),i.x-=s,i.y-=r,i.z-=o,i[l(366)]()[l(394)](-this.randomFloat(c,h)),t.typedArray[l(538)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=c,i=new(t[e(310)]),n=new(t[e(310)]),s=new(t[e(416)]),r=new(t[e(310)])(1,1,1);return function(t,o){const a=e;return i[a(387)](t)[a(366)](),n[a(387)](o).normalize(),i.x+=.5*-o.x+Math.random()*o.x,i.y+=.5*-o.y+Math.random()*o.y,i.z+=.5*-o.z+Math[a(309)]()*o.z,i.normalize()[a(521)](r)[a(394)](.5),s.setRGB(i.x,i.y,i.z),s[a(150)]()}}()},u[c(114)]=function(e){const i=c,n=u[i(543)],a=n.types;(e=n[i(487)](e,a.OBJECT,{}))[i(252)]=n[i(487)](e.texture,a[i(311)],{}),this.uuid=s[i(517)](),this[i(471)]=n[i(487)](e.fixedTimeStep,a[i(302)],.016),this[i(252)]=n.ensureInstanceOf(e.texture[i(174)],t[i(106)],null),this[i(461)]=n[i(342)](e[i(252)][i(350)],t[i(308)],new(t[i(308)])(1,1)),this.textureFrameCount=n[i(487)](e[i(252)][i(113)],a[i(302)],this[i(461)].x*this[i(461)].y),this[i(254)]=n[i(487)](e[i(252)][i(123)],a[i(302)],1),this[i(461)].max(new(t[i(308)])(1,1)),this[i(136)]=n[i(487)](e[i(136)],a[i(360)],!0),this[i(369)]=n.ensureTypedArg(e.colorize,a[i(360)],!0),this[i(408)]=n.ensureTypedArg(e[i(408)],a[i(302)],null),this.blending=n[i(487)](e[i(117)],a[i(302)],t[i(337)]),this[i(127)]=n[i(487)](e[i(127)],a[i(360)],!0),this[i(176)]=parseFloat(n[i(487)](e.alphaTest,a[i(302)],0)),this[i(157)]=n[i(487)](e.depthWrite,a[i(360)],!1),this.depthTest=n[i(487)](e[i(156)],a[i(360)],!0),this[i(264)]=n[i(487)](e.fog,a[i(360)],!0),this[i(225)]=n[i(487)](e.scale,a[i(302)],300),this[i(388)]=[],this[i(138)]=[],this[i(418)]=[],this[i(282)]=null,this[i(346)]=0,this[i(485)]=!1,this[i(118)]=!1,this[i(535)]=0,this.uniforms={tex:{type:"t",value:this[i(252)]},textureAnimation:{type:"v4",value:new(t[i(413)])(this[i(461)].x,this[i(461)].y,this[i(378)],Math[i(558)](Math[i(244)](this[i(254)]),1))},fogColor:{type:"c",value:this[i(264)]?new(t[i(416)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(225)]}},this[i(407)]={HAS_PERSPECTIVE:this[i(136)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:u[i(434)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(461)].x>1||this[i(461)].y>1},this[i(239)]={position:new(u[i(414)])("v3",!0),acceleration:new(u[i(414)])("v4",!0),velocity:new(u[i(414)])("v3",!0),rotation:new u.ShaderAttribute("v4",!0),rotationCenter:new(u[i(414)])("v3",!0),params:new(u[i(414)])("v4",!0),size:new(u[i(414)])("v4",!0),angle:new(u[i(414)])("v4",!0),color:new(u[i(414)])("v4",!0),opacity:new(u[i(414)])("v4",!0)},this[i(221)]=Object[i(524)](this[i(239)]),this[i(134)]=this[i(221)][i(532)],this[i(340)]=new r({uniforms:this.uniforms,vertexShader:u[i(441)][i(278)],fragmentShader:u[i(441)][i(472)],blending:this[i(117)],transparent:this[i(127)],alphaTest:this[i(176)],depthWrite:this[i(157)],depthTest:this[i(156)],defines:this[i(407)],fog:this[i(264)]}),this[i(458)]=new(t[i(479)]),this[i(194)]=new o(this[i(458)],this[i(340)]),null===this[i(408)]&&console[i(456)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},u[c(114)][c(533)]=u[c(114)],u[c(114)][c(262)][c(498)]=function(){const t=c;let e,i=this[t(388)],n=i[t(532)]-1,s=this[t(407)];for(;n>=0;--n)e=i[n],!s[t(489)]&&(s.SHOULD_ROTATE_TEXTURE=s.SHOULD_ROTATE_TEXTURE||!!Math.max(Math[t(558)][t(504)](null,e[t(353)][t(174)]),Math[t(558)][t(504)](null,e.angle[t(228)]))),s.SHOULD_ROTATE_PARTICLES=s[t(130)]||!!Math[t(558)](e[t(314)][t(353)],e[t(314)].angleSpread),s[t(547)]=s[t(547)]||!!Math.max(e[t(327)].value,e[t(327)][t(228)]);this.material[t(215)]=!0},u[c(114)].prototype._applyAttributesToGeometry=function(){const t=c;let e,i,n=this[t(239)],s=this[t(458)],r=s[t(239)];for(const o in n)n.hasOwnProperty(o)&&(e=n[o],i=r[o],i?i[t(110)]=e[t(514)].array:s.setAttribute(o,e.bufferAttribute),e[t(560)][t(215)]=!0);this[t(458)][t(401)](0,this[t(535)])},u[c(114)][c(262)][c(559)]=function(t){const e=c;if(t instanceof u[e(430)]==!1)return void console[e(395)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(138)][e(481)](t[e(381)])>-1)return void console[e(395)](e(306));if(null!==t[e(216)])return void console[e(395)](e(449));const i=this.attributes,n=this[e(535)],s=n+t[e(535)];this[e(535)]=s,null!==this[e(408)]&&this[e(535)]>this.maxParticleCount&&console[e(456)](e(406),this[e(535)],e(108),this.maxParticleCount),t[e(345)](t[e(143)][e(321)]+t[e(143)][e(312)]),t[e(552)](this.attributeKeys),t[e(385)](n),t[e(216)]=this,t[e(239)]=this[e(239)];for(const r in i)i.hasOwnProperty(r)&&i[r][e(286)](null!==this[e(408)]?this[e(408)]:this[e(535)]);for(let r=n;r<s;++r)t._assignPositionValue(r),t._assignForceValue(r,"velocity"),t[e(322)](r,e(268)),t[e(132)](r,e(400)),t._assignAbsLifetimeValue(r,e(384)),t[e(151)](r),t[e(488)](r),t[e(177)](r),t[e(415)](r);return this[e(493)](),this[e(388)].push(t),this[e(138)].push(t[e(381)]),this[e(498)](t),this[e(340)][e(215)]=!0,this[e(458)][e(215)]=!0,this._attributesNeedRefresh=!0,this},u[c(114)][c(262)][c(159)]=function(t){const e=c,i=this.emitterIDs[e(481)](t[e(381)]);if(t instanceof u[e(430)]==!1)return void console[e(395)](e(429),t);if(-1===i)return void console[e(395)](e(271));const n=t.attributeOffset,s=n+t[e(535)],r=this[e(239)][e(178)].typedArray;for(let o=n;o<s;++o)r[e(110)][4*o]=0,r.array[4*o+1]=0;this.emitters[e(261)](i,1),this[e(138)][e(261)](i,1);for(const o in this.attributes)this.attributes[e(438)](o)&&this[e(239)][o][e(261)](n,s);this[e(535)]-=t[e(535)],t._onRemove(),this[e(485)]=!0},u[c(114)][c(262)][c(107)]=function(){const t=c,e=this[t(418)],i=this[t(346)];if(e[t(532)])return e.pop();if(i){const e=new(u[t(430)])(this[t(282)]);return this.addEmitter(e),e}return null},u[c(114)][c(262)][c(144)]=function(t){const e=c;if(t instanceof u[e(430)]!=!1)return t[e(129)](),this._pool.unshift(t),this;console[e(395)](e(253),t)},u[c(114)][c(262)][c(423)]=function(){return this[c(418)]},u.Group[c(262)][c(192)]=function(t,e,i){const n=c;let s;this[n(282)]=e,this[n(346)]=!!i;for(let r=0;r<t;++r)s=Array[n(255)](e)?new(u[n(430)])(e[r]):new(u[n(430)])(e),this[n(559)](s),this[n(144)](s);return this},u[c(114)][c(262)][c(119)]=function(t){const e=c,i=this[e(107)](),n=this;if(null!==i)return t instanceof a&&(i[e(220)][e(174)][e(387)](t),i[e(220)].value=i[e(220)][e(174)]),i[e(146)](),setTimeout((()=>{const t=e;i[t(446)](),n[t(144)](i)}),1e3*Math[e(558)](i[e(210)],i[e(143)][e(174)]+i.maxAge.spread)),this;console[e(382)](e(371))},u[c(114)].prototype[c(283)]=function(t,e){const i=c;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(119)](e);else this._triggerSingleEmitter(e);return this},u[c(114)][c(262)]._updateUniforms=function(t){const e=c;this.uniforms[e(420)][e(174)]+=t,this.uniforms[e(554)][e(174)]=t},u[c(114)][c(262)]._resetBufferRanges=function(){const t=c;let e=this[t(221)],i=this[t(134)]-1,n=this.attributes;for(;i>=0;--i)n[e[i]].resetUpdateRange()},u[c(114)].prototype[c(218)]=function(t){const e=c;let i,n,s,r=this.attributeKeys,o=this[e(134)]-1,a=this[e(239)],h=t[e(162)];for(;o>=0;--o)i=r[o],n=h[i],s=a[i],s[e(160)](n[e(190)],n[e(558)]),s[e(515)]()},u.Group[c(262)].tick=function(t){const e=c;var i=this.emitters,n=i[e(532)],s=t||this[e(471)],r=this.attributeKeys,o=this[e(239)];if(this[e(208)](s),this[e(397)](),0!==n||!1!==this[e(485)]||!1!==this[e(118)]){for(var a,h=0;h<n;++h)(a=i[h])[e(173)](s),this[e(218)](a);if(!0===this[e(118)]){for(h=this[e(134)]-1;h>=0;--h)o[r[h]].resetDynamic();this[e(118)]=!1}if(!0===this[e(485)]){for(h=this[e(134)]-1;h>=0;--h)o[r[h]][e(495)]();this[e(485)]=!1,this[e(118)]=!0}}},u[c(114)].prototype[c(205)]=function(){const t=c;return this[t(458)].dispose(),this[t(340)].dispose(),this},u[c(430)]=function(e){const i=c,n=u[i(543)],r=n[i(333)],o=u[i(434)];(e=n[i(487)](e,r[i(311)],{})).position=n[i(487)](e[i(220)],r[i(311)],{}),e.velocity=n[i(487)](e[i(433)],r.OBJECT,{}),e.acceleration=n[i(487)](e[i(268)],r[i(311)],{}),e.radius=n[i(487)](e[i(233)],r.OBJECT,{}),e[i(275)]=n[i(487)](e[i(275)],r[i(311)],{}),e.rotation=n[i(487)](e[i(314)],r[i(311)],{}),e.color=n[i(487)](e.color,r[i(311)],{}),e.opacity=n[i(487)](e[i(400)],r[i(311)],{}),e[i(384)]=n.ensureTypedArg(e[i(384)],r[i(311)],{}),e[i(353)]=n[i(487)](e[i(353)],r.OBJECT,{}),e[i(327)]=n[i(487)](e[i(327)],r.OBJECT,{}),e[i(143)]=n.ensureTypedArg(e.maxAge,r[i(311)],{}),e[i(224)]&&console[i(456)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this[i(381)]=s[i(517)](),this[i(301)]=n[i(487)](e.type,r[i(302)],u[i(331)][i(296)]),this[i(220)]={_value:n[i(342)](e[i(220)][i(174)],t[i(310)],new(t[i(310)])),_spread:n.ensureInstanceOf(e[i(220)][i(228)],a,new(t[i(310)])),_spreadClamp:n[i(342)](e.position.spreadClamp,a,new a),_distribution:n.ensureTypedArg(e[i(220)][i(475)],r[i(302)],this[i(301)]),_randomise:n.ensureTypedArg(e.position[i(405)],r[i(360)],!1),_radius:n[i(487)](e[i(220)].radius,r[i(302)],10),_radiusScale:n[i(342)](e[i(220)][i(195)],a,new(t[i(310)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(220)].distributionClamp,r.NUMBER,0)},this[i(433)]={_value:n[i(342)](e[i(433)][i(174)],t[i(310)],new(t[i(310)])),_spread:n.ensureInstanceOf(e[i(433)][i(228)],t[i(310)],new a),_distribution:n.ensureTypedArg(e.velocity[i(475)],r[i(302)],this.type),_randomise:n[i(487)](e[i(220)].randomise,r.BOOLEAN,!1)},this[i(268)]={_value:n[i(342)](e[i(268)][i(174)],t[i(310)],new(t[i(310)])),_spread:n.ensureInstanceOf(e.acceleration[i(228)],t[i(310)],new(t[i(310)])),_distribution:n[i(487)](e[i(268)].distribution,r[i(302)],this[i(301)]),_randomise:n[i(487)](e[i(220)].randomise,r[i(360)],!1)},this[i(275)]={_value:n[i(487)](e[i(275)].value,r[i(302)],0),_spread:n.ensureTypedArg(e.drag[i(228)],r[i(302)],0),_randomise:n.ensureTypedArg(e.position[i(405)],r[i(360)],!1)},this.wiggle={_value:n[i(487)](e.wiggle.value,r[i(302)],0),_spread:n[i(487)](e[i(327)][i(228)],r[i(302)],0)},this[i(314)]={_axis:n[i(342)](e[i(314)][i(257)],t[i(310)],new a(0,1,0)),_axisSpread:n[i(342)](e[i(314)].axisSpread,a,new(t[i(310)])),_angle:n[i(487)](e[i(314)][i(353)],r[i(302)],0),_angleSpread:n[i(487)](e.rotation[i(317)],r[i(302)],0),_static:n[i(487)](e[i(314)][i(328)],r[i(360)],!1),_center:n.ensureInstanceOf(e[i(314)][i(304)],t[i(310)],this[i(220)][i(321)][i(351)]()),_randomise:n.ensureTypedArg(e[i(220)][i(405)],r.BOOLEAN,!1)},this[i(143)]={_value:n[i(487)](e[i(143)][i(174)],r[i(302)],2),_spread:n[i(487)](e.maxAge[i(228)],r[i(302)],0)},this[i(303)]={_value:n.ensureArrayInstanceOf(e[i(303)][i(174)],t[i(416)],new(t[i(416)])),_spread:n[i(542)](e[i(303)][i(228)],t[i(310)],new a),_randomise:n.ensureTypedArg(e.position.randomise,r[i(360)],!1)},this[i(400)]={_value:n[i(227)](e.opacity.value,r[i(302)],1),_spread:n.ensureArrayTypedArg(e[i(400)][i(228)],r[i(302)],0),_randomise:n.ensureTypedArg(e[i(220)][i(405)],r[i(360)],!1)},this[i(384)]={_value:n[i(227)](e[i(384)][i(174)],r.NUMBER,1),_spread:n[i(227)](e[i(384)][i(228)],r.NUMBER,0),_randomise:n[i(487)](e.position[i(405)],r[i(360)],!1)},this[i(353)]={_value:n.ensureArrayTypedArg(e[i(353)].value,r[i(302)],0),_spread:n[i(227)](e[i(353)][i(228)],r[i(302)],0),_randomise:n[i(487)](e[i(220)].randomise,r[i(360)],!1)},this[i(535)]=n[i(487)](e[i(535)],r[i(302)],100),this.duration=n[i(487)](e.duration,r.NUMBER,null),this[i(318)]=n.ensureTypedArg(e.isStatic,r[i(360)],!1),this[i(339)]=n.ensureTypedArg(e[i(339)],r.NUMBER,1),this.direction=n[i(487)](e[i(492)],r.NUMBER,1),this.alive=n[i(487)](e[i(251)],r.BOOLEAN,!0),this[i(541)]=0,this[i(506)]=0,this[i(274)]=0,this[i(443)]=0,this[i(553)]=0,this[i(142)]=0,this[i(216)]=null,this[i(239)]=null,this[i(338)]=null,this[i(437)]={position:n[i(487)](e[i(220)][i(405)],r[i(360)],!1)||n[i(487)](e[i(233)][i(405)],r[i(360)],!1),velocity:n[i(487)](e.velocity[i(405)],r.BOOLEAN,!1),acceleration:n[i(487)](e[i(268)][i(405)],r[i(360)],!1)||n.ensureTypedArg(e[i(275)][i(405)],r.BOOLEAN,!1),rotation:n[i(487)](e[i(314)].randomise,r[i(360)],!1),rotationCenter:n.ensureTypedArg(e[i(314)][i(405)],r.BOOLEAN,!1),size:n.ensureTypedArg(e[i(384)][i(405)],r[i(360)],!1),color:n.ensureTypedArg(e.color[i(405)],r[i(360)],!1),opacity:n[i(487)](e[i(400)][i(405)],r[i(360)],!1),angle:n[i(487)](e.angle[i(405)],r[i(360)],!1)},this.updateFlags={},this[i(212)]={},this[i(499)]={maxAge:"params",position:i(220),velocity:"velocity",acceleration:"acceleration",drag:i(268),wiggle:"params",rotation:i(314),size:"size",color:"color",opacity:i(400),angle:i(353)};for(const t in this[i(499)])this.updateMap[i(438)](t)&&(this[i(212)][this.updateMap[t]]=0,this[i(431)][this.updateMap[t]]=!1,this[i(348)](this[t],t));this[i(162)]={},this.attributeKeys=null,this[i(134)]=0,n.ensureValueOverLifetimeCompliance(this.color,o,o),n[i(335)](this[i(400)],o,o),n.ensureValueOverLifetimeCompliance(this[i(384)],o,o),n[i(335)](this[i(353)],o,o)},u[c(430)].constructor=u[c(430)],u[c(430)][c(262)]._createGetterSetters=function(t,e){const i=c,n=this;for(const s in t)if(t[i(438)](s)){const r=s[i(528)]("_","");Object[i(207)](t,r,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=f,r=n[s(499)][e],o=this[t],a=u.valueOverLifetimeLength;t===s(315)?(n[s(431)][s(214)]=!0,n[s(212)][s(214)]=0):t===s(299)?n[s(437)][r]=i:(n[s(431)][r]=!0,n[s(212)][r]=0),n.group._updateDefines(),this[t]=i,Array.isArray(o)&&u[s(543)][s(335)](n[e],a,a)}}(s)})}},u.Emitter.prototype._setBufferUpdateRanges=function(t){const e=c;this[e(221)]=t,this[e(134)]=t.length;for(let i=this[e(134)]-1;i>=0;--i)this[e(162)][t[i]]={min:Number[e(149)],max:Number.NEGATIVE_INFINITY}},u.Emitter[c(262)][c(345)]=function(t){const e=c,i=this[e(535)];this.duration?this.particlesPerSecond=i/(t<this.duration?t:this[e(210)]):this.particlesPerSecond=i/t},u[c(430)][c(262)][c(385)]=function(t){const e=c;this[e(274)]=t,this[e(506)]=t,this[e(497)]=t+this[e(535)]},u.Emitter[c(262)][c(527)]=function(t,e){const i=c;switch(t){case i(220):this._assignPositionValue(e);break;case i(433):case"acceleration":this[i(322)](e,t);break;case i(384):case i(400):this[i(132)](e,t);break;case i(353):this[i(151)](e);break;case i(178):this._assignParamsValue(e);break;case i(314):this._assignRotationValue(e);break;case"color":this[i(415)](e)}},u.Emitter[c(262)][c(189)]=function(t){const e=c,i=u[e(331)],n=u.utils,s=this[e(220)],r=this[e(239)][e(220)],o=s[e(321)],a=s[e(312)];switch(s[e(217)]){case i[e(296)]:n.randomVector3(r,t,o,a,s._spreadClamp);break;case i[e(484)]:n[e(442)](r,t,o,s[e(368)],s._spread.x,s[e(219)],s[e(209)].x,s._distributionClamp||this[e(535)]);break;case i[e(256)]:n[e(231)](r,t,o,s[e(368)],s[e(312)].x,s[e(219)],s[e(209)].x);break;case i[e(383)]:n[e(444)](r,t,o,a)}},u[c(430)].prototype[c(322)]=function(t,e){const i=c;let n,s,r,o,a,h=u[i(331)],l=u[i(543)],f=this[e],p=f[i(321)],d=f[i(312)];switch(f[i(217)]){case h[i(296)]:l[i(187)](this.attributes[e],t,p,d);break;case h[i(484)]:n=this.attributes.position[i(514)].array,a=3*t,s=n[a],r=n[a+1],o=n[a+2],l[i(436)](this[i(239)][e],t,s,r,o,this[i(220)]._value,f._value.x,f[i(312)].x);break;case h.DISC:n=this[i(239)].position[i(514)][i(110)],a=3*t,s=n[a],r=n[a+1],o=n[a+2],l[i(202)](this[i(239)][e],t,s,r,o,this[i(220)][i(321)],f._value.x,f[i(312)].x);break;case h[i(383)]:l[i(444)](this[i(239)][e],t,p,d)}if(e===i(268)){const e=l.clamp(l[i(125)](this.drag._value,this[i(275)][i(312)]),0,1);this.attributes[i(268)].typedArray.array[4*t+3]=e}},u[c(430)][c(262)][c(132)]=function(t,e){const i=c;let n,s=this[i(239)][e][i(514)],r=this[e],o=u[i(543)];o.arrayValuesAreEqual(r[i(321)])&&o[i(555)](r._spread)?(n=Math[i(244)](o[i(125)](r._value[0],r[i(312)][0])),s[i(556)](t,n,n,n,n)):s[i(556)](t,Math.abs(o[i(125)](r[i(321)][0],r._spread[0])),Math[i(244)](o.randomFloat(r[i(321)][1],r[i(312)][1])),Math.abs(o[i(125)](r[i(321)][2],r._spread[2])),Math[i(244)](o[i(125)](r[i(321)][3],r._spread[3])))},u.Emitter[c(262)][c(151)]=function(t){const e=c;let i,n=this[e(239)][e(353)][e(514)],s=this[e(353)],r=u[e(543)];r[e(555)](s[e(321)])&&r.arrayValuesAreEqual(s[e(312)])?(i=r.randomFloat(s._value[0],s[e(312)][0]),n[e(556)](t,i,i,i,i)):n[e(556)](t,r.randomFloat(s._value[0],s._spread[0]),r[e(125)](s._value[1],s._spread[1]),r[e(125)](s[e(321)][2],s[e(312)][2]),r[e(125)](s[e(321)][3],s._spread[3]))},u[c(430)][c(262)]._assignParamsValue=function(t){const e=c;this[e(239)][e(178)][e(514)][e(556)](t,this[e(318)]?1:0,0,Math.abs(u[e(543)][e(125)](this[e(143)][e(321)],this[e(143)][e(312)])),u[e(543)][e(125)](this[e(327)][e(321)],this[e(327)][e(312)]))},u.Emitter.prototype[c(488)]=function(t){const e=c;this[e(239)].rotation[e(514)][e(538)](t,u.utils[e(234)](this[e(314)]._axis,this[e(314)][e(380)]),u.utils[e(125)](this[e(314)][e(291)],this[e(314)]._angleSpread),this.rotation._static?0:1),this[e(239)].rotationCenter[e(514)][e(432)](t,this.rotation._center)},u[c(430)][c(262)][c(415)]=function(t){const e=c;u[e(543)].randomColorAsHex(this[e(239)].color,t,this[e(303)][e(321)],this[e(303)][e(312)])},u[c(430)][c(262)]._resetParticle=function(t){const e=c;let i,n,s=this[e(437)],r=this[e(431)],o=this[e(212)],a=this[e(221)];for(let c=this[e(134)]-1;c>=0;--c)i=a[c],n=r[i],!0!==s[i]&&!0!==n||(this[e(527)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&o[i]===this[e(535)]?(r[i]=!1,o[i]=0):1==n&&++o[i])},u[c(430)][c(262)][c(341)]=function(t,e){const i=c,n=this[i(162)][t];n[i(190)]=Math[i(190)](e,n[i(190)]),n[i(558)]=Math[i(558)](e,n[i(558)])},u[c(430)].prototype[c(397)]=function(){const t=c;let e,i=this.bufferUpdateRanges,n=this[t(396)],s=this.bufferUpdateCount-1;for(;s>=0;--s)e=n[s],i[e][t(190)]=Number[t(149)],i[e][t(558)]=Number.NEGATIVE_INFINITY},u.Emitter[c(262)][c(163)]=function(){const t=c;this[t(541)]=0,this.attributeOffset=0,this[t(506)]=0,this[t(142)]=0,this.group=null,this[t(239)]=null,this[t(338)]=null,this[t(553)]=0},u[c(430)].prototype[c(243)]=function(){--this[c(142)]},u[c(430)][c(262)]._incrementParticleCount=function(){++this[c(142)]},u[c(430)][c(262)][c(115)]=function(t,e,i,n){const s=c;for(var r,o,a,h,l=e-1;l>=t;--l)0!==(h=i[r=4*l])&&(a=i[r+1],o=i[r+2],1===this[s(492)]?(a+=n)>=o&&(a=0,h=0,this[s(243)]()):(a-=n)<=0&&(a=o,h=0,this[s(243)]()),i[r]=h,i[r+1]=a,this[s(341)]("params",l))},u[c(430)][c(262)][c(425)]=function(t,e,i,n){const s=c,r=this[s(492)];for(var o,a,h=t;h<e;++h)0!=i[o=4*h]&&1!==this[s(535)]||(this[s(290)](),i[o]=1,this[s(502)](h),a=n*(h-t),i[o+1]=-1===r?i[o+2]-a:a,this[s(341)](s(178),h))},u[c(430)].prototype[c(173)]=function(t){const e=c;if(this[e(318)])return;null===this.paramsArray&&(this[e(338)]=this[e(239)][e(178)].typedArray.array);const i=this[e(274)],n=i+this.particleCount,s=this[e(338)],r=this[e(541)]*this[e(339)]*t,o=this[e(506)];if(this._resetBufferRanges(),this[e(115)](i,n,s,t),!1===this[e(251)])return void(this[e(553)]=0);if(null!==this[e(210)]&&this.age>this.duration)return this[e(251)]=!1,void(this.age=0);const a=1===this[e(535)]?o:0|o,h=Math.min(a+r,this[e(497)]),l=h-this.activationIndex|0,u=l>0?t/l:0;this[e(425)](a,h,s,u),this[e(506)]+=r,this[e(506)]>n&&(this[e(506)]=i),this.age+=t},u[c(430)][c(262)].reset=function(t){const e=c;if(this.age=0,this[e(251)]=!1,!0===t){const t=this[e(274)],s=t+this[e(535)],r=this[e(338)],o=this[e(239)][e(178)][e(560)];for(var i,n=s-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;o[e(131)][e(486)]=0,o[e(131)].count=-1,o[e(215)]=!0}return this},u[c(430)][c(262)].enable=function(){return this.alive=!0,this},u.Emitter.prototype[c(446)]=function(){return this[c(251)]=!1,this},u[c(430)][c(262)][c(544)]=function(){const t=c;return null!==this[t(216)]?this[t(216)][t(159)](this):console[t(395)](t(287)),this};const p=u;function d(){const t=["   vec3 c = vec3( 0.0 );","_pool","fog_pars_vertex","runTime","function *\\( *\\)","resetUpdateRange","getPool","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","_activateParticles","dynamicBuffer","    #ifdef ALPHATEST","debu","`emitter` argument must be instance of SPE.Emitter. Was provided with:","Emitter","updateFlags","setVec3","velocity","valueOverLifetimeLength","componentSize","randomDirectionVector3OnSphere","resetFlags","hasOwnProperty","44009vWQYZx","#ifdef SHOULD_ROTATE_PARTICLES","shaders","randomVector3OnSphere","attributeEnd","randomVector3OnLine","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","disable","   c.b = b / PACKED_COLOR_DIVISOR;","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","Emitter already belongs to another group. Will not add to requested group.","sqrt","    #ifdef COLORIZE","    varying vec4 vSpriteSheet;","       axis = normalize(axis);","float getAlive() {","elements","warn","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","geometry","        float framesY = textureAnimation.y;","        vSpriteSheet.w = rowNorm;","textureFrames","    vec3 value = vec3( 0.0 );","trace","       vec3 c = isAlive * getColorOverLifetime(","6579117gXfljN","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","grow","float and(float a, float b) {","    gl_PointSize = pointSizePerspective;","fog_vertex","fixedTimeStep","fragment","logdepthbuf_pars_vertex","    vec3 accel = getAcceleration( age );","distribution","        float loopCount = textureAnimation.w;","uniform float scale;","           unpackColor( color.z ),","BufferGeometry","   return params.y;","indexOf","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","Invalid argument types, or argument types do not match:","SPHERE","_attributesNeedRefresh","offset","ensureTypedArg","_assignRotationValue","SHOULD_CALCULATE_SPRITE","__proto__","       float c = cos( -vAngle );","direction","_applyAttributesToGeometry","    highp float positionInTime = (age / maxAge);","forceUpdateAll","    return a * b;","activationEnd","_updateDefines","updateMap","setMat4","      }","_resetParticle","TypedArrayConstructor","apply","   return velocity * age;","activationIndex","uniform vec4 textureAnimation;","        float framesX = textureAnimation.x;","1167272TGhmjN","   return params.x;","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","exports","    float fIndex = 0.0;","typedArray","flagUpdate","uniform float runTime;","generateUUID","   c *= vec3( 2.0 );","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","    #ifdef HAS_PERSPECTIVE","add","    highp float alive = getAlive();","attribute vec3 velocity;","keys","string","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","_assignValue","replace","toString","attribute vec4 color;","float when_gt(float x, float y) {","length","constructor","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","particleCount","    float pointSizePerspective = pointSize * perspective;","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","setVec3Components","info","      vec3 center = rotationCenter;","particlesPerSecond","ensureArrayInstanceOf","utils","remove","_ensureTypedArray","2JYssro","SHOULD_WIGGLE_PARTICLES","setFromArray","common","round","       fIndex = float( i );","_setBufferUpdateRanges","age","deltaTime","arrayValuesAreEqual","setVec4Components","number","max","addEmitter","bufferAttribute","BufferAttribute","join","Texture","getFromPool","particles, can support only","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","array","vec3 getAcceleration( in float age ) {","   return params.z;","frameCount","Group","_checkParticleAges","   c -= vec3( 1.0 );","blending","_attributesNeedDynamicReset","_triggerSingleEmitter","floatOverLifetime","ceil","243876APqtIf","loop","action","randomFloat","   return params.w;","transparent","227628leaLlH","reset","SHOULD_ROTATE_PARTICLES","updateRange","_assignAbsLifetimeValue","       vec3 c = vec3(1.0);","attributeCount","push","hasPerspective","       float s = sin(angle);","emitterIDs","    ","       if ( vColor.w < float(ALPHATEST) ) discard;","indexOffset","activeParticleCount","maxAge","releaseIntoPool","TypedArray is already of size:","enable","        vSpriteSheet.y = 1.0 / framesY;","916917ErqzXz","POSITIVE_INFINITY","getHex","_assignAngleValue","init","    vec3 force = vec3( 0.0 );","console","      float angle = 0.0;","depthTest","depthWrite","varyings","removeEmitter","setUpdateRange","   return c;","bufferUpdateRanges","_onRemove","138jhkhgc","StaticDrawUsage","        float framesX = vSpriteSheet.x;","updateMax","    force += vel;","rotationFunctions","uniform float deltaTime;","    #ifdef SHOULD_ROTATE_TEXTURE","      mat4 rotationMatrix;","tick","value","    vec3 vel = getVelocity( age );","alphaTest","_assignParamsValue","params","attribute vec4 size;","    #ifdef SHOULD_CALCULATE_SPRITE","    vec3 pos = vec3( position );","        pos.z += wiggleSin;","#ifdef SHOULD_ROTATE_TEXTURE","    vColor = vec4( c, o );","subarray","      vec3 axis = unpackRotationAxis( rotation.x );","randomVector3","input","_assignPositionValue","min","float when_le(float x, float y) {","addPool","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","mesh","radiusScale","sin","   c.g = g / PACKED_COLOR_DIVISOR;","    highp float maxAge = getMaxAge();","    }","logdepthbuf_fragment","  return 1.0 - when_lt(x, y);","randomDirectionVector3OnDisc","shrink","           unpackColor( color.y ),","dispose","setVec2Components","defineProperty","_updateUniforms","_spreadClamp","duration","uniform sampler2D tex;","updateCounts","count","rotationCenter","needsUpdate","group","_distribution","_updateBuffers","_radiusScale","position","attributeKeys","2381285kWYvLl","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","onParticleSpawn","scale","           return pos;","ensureArrayTypedArg","spread","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","updateMin","randomVector3OnDisc","float when_eq( float x, float y ) {","radius","getPackedRotationAxis","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","vec3 unpackColor( in float hex ) {","setVec2","cos","attributes","       );","float or(float a, float b) {","           positionInTime,","_decrementParticleCount","abs","       float c = cos(angle);","TypedArrayHelper","float when_ge(float x, float y) {","clamp","attribute vec4 acceleration;","bind","alive","texture","Argument is not instanceof SPE.Emitter:","textureLoop","isArray","DISC","axis","attribute vec4 opacity;","forceFetchingFunctions","gger","splice","prototype","exception","fog","        pos = getRotation( pos, positionInTime );","Will not resize.","set","acceleration","floor","        float rowNorm = row / framesY;","Emitter does not exist in this group. Will not remove.","amd","setVec4","attributeOffset","drag","branchAvoidanceFunctions","   return modelViewMatrix * vec4( position, 1.0 );","vertex","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","    return 1.0 - abs( sign( x - y ) );","REVISION","_poolCreationSettings","triggerPoolEmitter","attribute vec3 rotationCenter;","                   0.0,                                0.0,                                0.0,                                1.0);","_createBufferAttribute","Emitter does not belong to a group, cannot remove.","getValueAtIndex","getComponentValueAtIndex","_incrementParticleCount","_angle","  return 1.0 - when_gt(x, y);","#endif","varying vec4 vColor;","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","BOX","lerp","        float columnNorm = column / framesX;","_randomise","counter","type","NUMBER","color","center","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","Emitter already exists in this group. Will not add again.","itemSize","Vector2","random","Vector3","OBJECT","_spread","   float b = mod( hex, PACKED_COLOR_SIZE );","rotation","_rotationCenter","unpackColor","angleSpread","isStatic","        pos.y += wiggleCos;","table","_value","_assignForceValue","    return min(a + b, 1.0);","interpolateArray","call","           unpackColor( color.w )","wiggle","static","        float wiggleAmount = positionInTime * getWiggle();","shaderChunks","distributions","logdepthbuf_pars_fragment","types","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","ensureValueOverLifetimeCompliance","   }","AdditiveBlending","paramsArray","activeMultiplier","material","_updateAttributeUpdateRange","ensureInstanceOf","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","arrayType","_calculatePPSValue","_createNewWhenPoolEmpty","logdepthbuf_vertex","_createGetterSetters","float getAge() {","frames","clone","#ifdef SHOULD_CALCULATE_SPRITE","angle","while (true) {}","      translated = rotationCenter - pos;","unpackRotationAxis","lerpTypeAgnostic","void main() {",'{}.constructor("return this")( )',"BOOLEAN","ShaderChunk","    #endif","        float columnNorm = vSpriteSheet.z;","       float oc = 1.0 - c;","float when_lt(float x, float y) {","normalize","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","_radius","colorize","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","SPE.Group pool ran out.","    pos += force;","    #else","function","usage","test","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","textureFrameCount","    #ifdef SHOULD_WIGGLE_PARTICLES","_axisSpread","uuid","log","LINE","size","_setAttributeOffset","    gl_Position = projectionMatrix * mvPosition;","copy","emitters","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","float getWiggle() {","roundToNearestMultiple","   c.r = r / PACKED_COLOR_DIVISOR;","    float shouldApplyValue = 0.0;","multiplyScalar","error","bufferUpdateKeys","_resetBufferRanges","    force += accel * age;","rotateTexture","opacity","setDrawRange","#define PACKED_COLOR_SIZE 256.0","undefined","    vec3 outgoingLight = vColor.xyz;","randomise","SPE.Group: maxParticleCount exceeded. Requesting","defines","maxParticleCount","DynamicDrawUsage","setSize","    highp float value = 0.0;","setMat3","Vector4","ShaderAttribute","_assignColorValue","Color"];return(d=function(){return t})()}function m(t){function e(t){const i=f;if("string"==typeof t)return function(t){}[i(533)](i(354))[i(504)](i(300));1!==(""+t/t).length||t%20==0?function(){return!0}[i(533)](i(428)+i(260))[i(325)](i(124)):function(){return!1}[i(533)]("debu"+i(260))[i(504)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{p as _};
