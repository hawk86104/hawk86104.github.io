import{P as t}from"./tweakpane.yDiyAAkA1741309500666.js";import{e,h as n,a as o,o as r}from"./@tresjs.yaBKiR-I1741309500666.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.LKUM8RMn1741309500666.js";import{_ as a,C as s}from"./three.8tDGqmLF1741309500666.js";import{d as l,a6 as u,a3 as c,w as f,o as m,H as p,N as d,u as h,j as g,r as v,e as I,f as x,g as w,al as y,m as S}from"./@vue.NRI7TcgI1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";import"./all.three.jR47vo8H1741309500666.js";import"./oimophysics.x0jH7fze1741309500666.js";const b=T;!function(t,e){const n=T,o=U();for(;;)try{if(563504===-parseInt(n(124))/1+parseInt(n(148))/2*(-parseInt(n(110))/3)+-parseInt(n(140))/4+parseInt(n(121))/5+-parseInt(n(144))/6*(-parseInt(n(132))/7)+-parseInt(n(145))/8*(-parseInt(n(160))/9)+-parseInt(n(130))/10*(-parseInt(n(129))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[T(134)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function T(t,e){const n=U();return(T=function(t,e){return n[t-=108]})(t,e)}function U(){const t=["position","height","2QaZyLb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresPoints","counter","aNormal","input","map","array","value","#409eff","while (true) {}","BufferGeometry","2021364oBtTyM","__proto__","toString","call","floor","table","uHeight","uScale","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","test","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","EllipseCurve","prototype","console","1012587uFuMyo","AdditiveBlending","push","speed","chain","info","stateObject","uTime","getPoints","color","PointsMaterial","39965bOpZGc","debu","return (function() ","157048JxIZio",'{}.constructor("return this")( )',"rotateX","setFromPoints","scale","1100eZTeFg","39280teJzfm","init","1029539YuYbnd","trace","apply","length","gger","bind","constructor","lineMagicZone","1552692ZzhEeo","exception","baseMaterial","log","6ozJdhI","32qSCGji"];return(U=function(){return t})()}!function(){_(this,(function(){const t=T,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(149),"i"),o=O(t(131));e[t(169)](o+t(114))&&n[t(169)](o+t(153))?O():o("0")}))()}();const N=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=T,e=function(){const t=T;let e;try{e=Function(t(123)+t(125)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(109)]||{},o=[t(143),"warn",t(115),"error",t(141),t(165),t(133)];for(let r=0;r<o.length;r++){const e=N[t(138)][t(108)][t(137)](N),i=o[r],a=n[i]||e;e[t(161)]=N[t(137)](N),e[t(162)]=a[t(162)][t(137)](a),n[i]=e}}))();const C=[b(126)],P=["position","aIndex",b(152)],M=b(170),j=b(168),z=l({__name:b(139),props:{height:{default:1.6},speed:{default:1},color:{default:"#90ee90"}},async setup(t){const r=b;let i,l;const v=u(),I=t,x=([i,l]=c((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,l(),i),w=new(a[r(171)])(0,0,8,8,0,2*Math.PI,!1,0),y=[];for(let e=0;e<5;e++)y[r(112)](...w[r(118)](719)),w.xRadius+=.2,w.yRadius+=.2;const S=new Float32Array(y[r(154)](((t,e)=>e))),_=(new(a[r(159)]))[r(127)](y).getAttribute(r(146))[r(155)],T=new Float32Array(_[r(135)]);for(let e=0;e<_.length/3;e++){const t=3*e;_[t+1]+=.15*Math[r(164)](e/720);const n=e%720*3,o=3*(e%720+2880);T[t]=_[o]-_[n],T[t+1]=_[o+1]-_[n+1],T[t+2]=_[o+2]-_[n+2]}const U={uTime:{value:0},uScale:{value:v.scale?v[r(128)]:1},uHeight:{value:I[r(147)]},uPerlinTexture:{value:x[1]},baseColor:{value:new s(I[r(119)])}},{onLoop:N}=e();return N((()=>{const t=r;U[t(117)].value+=.01*I[t(113)]})),f((()=>[I[r(119)],v[r(128)],I[r(147)]]),(([t,e,n])=>{const o=r;U.baseColor[o(156)].set(t),U[o(167)][o(156)]=e,U[o(166)][o(156)]=n})),(t,e)=>{const o=r;return m(),p("TresGroup",null,[d(o(150),{rotateX:-Math.PI/2,scale:.1},[d("TresBufferGeometry",{position:[h(_),3],aIndex:[h(S),1],aNormal:[h(T),3]},null,8,P),g(h(n),{baseMaterial:a[o(120)],vertexShader:M,fragmentShader:j,uniforms:U,map:h(x)[0],alphaMap:h(x)[0],transparent:"",depthWrite:!1,blending:a[o(111)],color:o(157),size:.1},null,8,[o(142),o(154),"alphaMap","blending"])],8,C)])}}});function O(t){function e(t){const n=T;if("string"==typeof t)return function(t){}[n(138)](n(158)).apply(n(151));1!==(""+t/t)[n(135)]||t%20==0?function(){return!0}[n(138)](n(122)+n(136))[n(163)]("action"):function(){return!1}[n(138)](n(122)+n(136))[n(134)](n(116)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const W=E;!function(t,e){const n=E,o=Z();for(;;)try{if(662073===parseInt(n(202))/1*(parseInt(n(209))/2)+parseInt(n(238))/3*(-parseInt(n(239))/4)+parseInt(n(244))/5*(parseInt(n(231))/6)+-parseInt(n(210))/7+parseInt(n(205))/8+parseInt(n(215))/9+-parseInt(n(218))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=E,e=new RegExp(t(226)),n=new RegExp(t(233),"i"),o=L("init");e[t(220)](o+t(227))&&n[t(220)](o+t(247))?L():o("0")}))()}();const R=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["call","gger","input","color","scale","3339OgBeib","string","info","8634776EbqCHi","counter","#ff0000",'{}.constructor("return this")( )',"706tdyMce","8934898QPepTC","error","debu","trace","height","3989412NzxgwE","stateObject","warn","5134560nrtDhF","#201919","test","TresAmbientLight","TresPerspectiveCamera","toString","while (true) {}","__proto__","function *\\( *\\)","chain","console","lineMagicZone","return (function() ","7278ndCiXh","TresCanvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","addBinding","table","bind","6IwyUlP","1456948UcqmGQ","prototype","length","constructor","apply","1975TMQRed"];return(Z=function(){return t})()}function E(t,e){const n=Z();return(E=function(t,e){return n[t-=202]})(t,e)}R(void 0,(function(){const t=E,e=function(){const t=E;let e;try{e=Function(t(230)+t(208)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(228)]||{},o=["log",t(217),t(204),t(211),t(234),t(236),t(213)];for(let r=0;r<o.length;r++){const e=R[t(242)][t(240)][t(237)](R),i=o[r],a=n[i]||e;e[t(225)]=R[t(237)](R),e[t(223)]=a[t(223)].bind(a),n[i]=e}}))();const A=l({__name:W(229),setup(e){const n=W,o=v({reflectivity:.1,showGridHelper:!0,scale:1}),a=v({color:n(207),scale:1.8,height:2.4,speed:1}),s=new t;return s[n(235)](a,n(248),{label:"颜色"}),s[n(235)](a,n(249),{label:"大小",min:.1,max:3,step:.1}),s.addBinding(a,n(214),{label:"高度",min:.1,max:3,step:.1}),s[n(235)](a,"speed",{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=I(s(232));return m(),x(l,{clearColor:s(219),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:w((()=>[e[0]||(e[0]=d(s(222),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(h(r),{enableDamping:""}),e[1]||(e[1]=d(s(221),{intensity:2},null,-1)),(m(),x(y,null,{default:w((()=>[g(z,S({position:[3,0,0]},a),null,16)])),_:1})),(m(),x(y,null,{default:w((()=>[g(z,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(m(),x(y,null,{default:w((()=>[g(i,S({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function L(t){function e(t){const n=E;if(typeof t===n(203))return function(t){}[n(242)](n(224))[n(243)](n(206));1!==(""+t/t)[n(241)]||t%20==0?function(){return!0}.constructor(n(212)+n(246))[n(245)]("action"):function(){return!1}[n(242)](n(212)+n(246)).apply(n(216)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{A as default};
