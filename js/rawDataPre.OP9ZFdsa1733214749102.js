import{U as t,c as n}from"./@tresjs.lftldzUe1733214749102.js";import{a as e,u as r,_ as a}from"./colorList.QFGfHosv1733214749102.js";import{z as o,x as s,a6 as u,a7 as i,a8 as c,N as l,a9 as p,aa as f,t as m,$ as d,ab as g,v as h,_ as y}from"./@fesjs.Of4PiCSw1733214749102.js";import{d as x,b,u as w,o as v,D as _,j as I,g as j,J as T,x as R,F as k,V as A,f as E,H as z,I as D,a as V,w as U,aj as F,ak as S,r as C,m as B}from"./@vue.-THQH3GC1733214749102.js";import{a$ as O,cc as q,_ as P,bg as L,K as $}from"./three.aWgA1gea1733214749102.js";import{r as Z,a as J}from"./rawData.sjiB-Y091733214749102.js";import{P as W}from"./tweakpane.yHWGBmom1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./pinia.YZvRaeWc1733214749102.js";import"./vue-demi.C4xddsk91733214749102.js";import"./vue-router.lCq72hq_1733214749102.js";import"./lodash-es.kYt-_xTG1733214749102.js";import"./@qlin.yHhFDldE1733214749102.js";import"./@floating-ui.BPbuo5Gx1733214749102.js";import"./@juggle.7yjBMqoW1733214749102.js";const X=K;!function(t,n){const e=K,r=Y();for(;;)try{if(856162===-parseInt(e(348))/1*(parseInt(e(378))/2)+parseInt(e(368))/3+-parseInt(e(340))/4+-parseInt(e(398))/5+-parseInt(e(344))/6+-parseInt(e(347))/7*(parseInt(e(359))/8)+-parseInt(e(385))/9*(-parseInt(e(363))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(393)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=K,n=new RegExp(t(354)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=N("init");n[t(332)](r+"chain")&&e[t(332)](r+t(386))?N():r("0")}))()}();const M=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(393)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(){const t=["zExtent","div","raw","return (function() ","setArrayBuffer","bind","9joWEOU","input","while (true) {}","300px","error","xExtent","importRawUI","10px","apply","10px auto -3px","image/x-panasonic-raw","call","gger","1266595CVTAUU","11px","test","value","[change] param:"," y轴长度： "," z轴长度： ","fileList","请正确选择rawData文件","warn","195640qSSopT","byteArray","table","onload","1093764jTXJWX","removeFile","debu","7061159bCOqkT","738pMblaX","文件类型必须为:'image/x-panasonic-raw'","card-wrapper","toString","trace","2.8em","function *\\( *\\)","请正确输入数值","block","log","constructor","8RRusXA","__proto__",'{}.constructor("return this")( )',"yExtent","20962310fOsxtu","warning"," 演示参考龙虾🦞RawData数据,下载 : "," 点击或者拖拽rawData文件到此区域 ","selectDataType","2727819cWqvqm","uploadRef","string","读取Raw原始数据","2.4em","target"," x轴长度： ","modelValue","stateObject","length","1778PXltVT"];return(Y=function(){return t})()}M(void 0,(function(){const t=K;let n;try{n=Function(t(382)+t(361)+");")()}catch(a){n=window}const e=n.console=n.console||{},r=[t(357),t(339),"info",t(389),"exception",t(342),t(352)];for(let o=0;o<r[t(377)];o++){const n=M[t(358)].prototype[t(384)](M),a=r[o],s=e[a]||n;n[t(360)]=M.bind(M),n.toString=s[t(351)][t(384)](s),e[a]=n}}))();const H={key:0,class:X(350)};function K(t,n){const e=Y();return(K=function(t,n){return e[t-=331]})(t,n)}function N(t){function n(t){const e=K;if(typeof t===e(370))return function(t){}[e(358)](e(387))[e(393)]("counter");1!==(""+t/t)[e(377)]||t%20==0?function(){return!0}[e(358)](e(346)+"gger")[e(396)]("action"):function(){return!1}[e(358)](e(346)+e(397))[e(393)](e(376)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=y(x({__name:X(391),setup(t){const n=X,r=e();r[n(390)]=301,r[n(362)]=324,r[n(379)]=56;const a=b(null),y=b([]),x=t=>{const e=n;console[e(357)](e(334),t)},V=()=>{var t;const e=n;y[e(333)][e(377)]>1&&(null==(t=a[e(333)])||t[e(345)](y.value[0]))},U=()=>{const t=n;if(1!=y[t(333)][t(377)])return h.warning(t(338)),!1;if(r.xExtent<=0||r.yExtent<=0||r[t(379)]<=0)return h[t(364)](t(355)),!1;if(y.value[0].raw.type!==t(395))return h.warning(t(349)),!1;const e=new FileReader;return e[t(343)]=function(n){const e=t,a=n[e(373)].result;r[e(383)](a)},e.readAsArrayBuffer(y[t(333)][0][t(381)]),!0};return(t,e)=>{const h=n;return w(r)[h(341)]?D("",!0):(v(),_(h(380),H,[I(w(g),{header:h(371)},{default:j((()=>[e[10]||(e[10]=T(h(380),{style:{"margin-bottom":h(331)}},[R(h(365)),T("a",{href:"./plugins/tvtVolumeRendering/rawData/lobster_301x324x56_uint8.raw"},"lobster_301x324x56_uint8.raw")],-1)),I(w(o),{style:{"min-height":"2.8em"}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":h(372)}},{default:j((()=>e[5]||(e[5]=[R(h(374))]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(u),{precision:0,modelValue:w(r)[h(390)],"onUpdate:modelValue":e[0]||(e[0]=t=>w(r)[h(390)]=t),autofocus:""},null,8,[h(375)])])),_:1})])),_:1}),I(w(o),{style:{"min-height":"2.8em"}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":"2.4em"}},{default:j((()=>e[6]||(e[6]=[R(h(335))]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(u),{precision:0,modelValue:w(r)[h(362)],"onUpdate:modelValue":e[1]||(e[1]=t=>w(r)[h(362)]=t),autofocus:""},null,8,[h(375)])])),_:1})])),_:1}),I(w(o),{style:{"min-height":h(353)}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":h(372)}},{default:j((()=>e[7]||(e[7]=[R(h(336))]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(u),{precision:0,modelValue:w(r)[h(379)],"onUpdate:modelValue":e[2]||(e[2]=t=>w(r)[h(379)]=t),autofocus:""},null,8,[h(375)])])),_:1})])),_:1}),I(w(i),{modelValue:w(r).selectDataType,"onUpdate:modelValue":e[3]||(e[3]=t=>w(r)[h(367)]=t),style:{"margin-bottom":h(392)}},{default:j((()=>[(v(!0),_(k,null,A(w(r).dataType,((t,n)=>{const e=h;return v(),E(w(c),{key:n,value:n},{default:j((()=>[I(w(l),{style:{"max-width":e(388)}},{default:j((()=>[R(z(t.title),1)])),_:2},1024)])),_:2},1032,[e(333)])})),128))])),_:1},8,[h(375)]),I(w(p),{ref_key:h(369),ref:a,fileList:y[h(333)],"onUpdate:fileList":e[4]||(e[4]=t=>y.value=t),onChange:x,httpRequest:V},{default:j((()=>[I(w(f),null,{default:j((()=>e[8]||(e[8]=[R(h(366))]))),_:1})])),_:1},8,[h(337)]),I(w(m),{style:{display:h(356),margin:h(394)},onClick:U},{icon:j((()=>[I(w(d))])),default:j((()=>[e[9]||(e[9]=R(" 预览体数据"))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-306b37f6"]]),tt=st;!function(t,n){const e=st,r=ot();for(;;)try{if(166220===parseInt(e(303))/1+-parseInt(e(322))/2+parseInt(e(246))/3+parseInt(e(278))/4+parseInt(e(249))/5+parseInt(e(300))/6+parseInt(e(296))/7*(-parseInt(e(286))/8))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const nt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[st(280)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){nt(this,(function(){const t=st,n=new RegExp(t(270)),e=new RegExp(t(276),"i"),r=it(t(268));n[t(269)](r+t(279))&&e[t(269)](r+t(281))?it():r("0")}))()}();const et=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[st(280)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();et(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function(t(321)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(292)]=n[t(292)]||{},r=[t(259),t(324),t(264),t(299),t(305),t(262),"trace"];for(let a=0;a<r.length;a++){const n=et[t(320)][t(314)][t(287)](et),o=r[a],s=e[o]||n;n.__proto__=et.bind(et),n[t(250)]=s[t(250)][t(287)](s),e[o]=n}}))();const rt=[tt(312),tt(255)],at=["object"];function ot(){const t=["return (function() ","596020BBbDaQ","TresShaderMaterial","warn","uniforms","primitive","149967fYremO","minFilter","TresBoxGeometry","312065EkjRQP","toString","LineBasicMaterial","yExtent","清空体数据","colorTexture","visible","updateTransferFunction","addBinding","y轴缩放","log","maximumIntensity","call","table","colorsStops","info","action","format","change","init","test","function *\\( *\\)","while (true) {}","体积采样率","TresGroup","alphaScale","thresholding","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMesh","1001944pJCYrP","chain","apply","input","list","gger","composeType","debu","8CiLfNW","bind","value","是否反色","BoxGeometry","ClampToEdgeWrapping","console","emissionAbsorption","显示边框","透明度","3663450wdABqg","RedFormat","magFilter","error","1955520Dczsds","getThreeType","type","298772HJoRkD","x轴缩放","exception","stateObject","zExtent","invertColor","samplingRate","counter","LinearFilter","scale","dispose","prototype","z轴缩放","Data3DTexture","wrapR","xExtent","string","constructor"];return(ot=function(){return t})()}function st(t,n){const e=ot();return(st=function(t,n){return e[t-=246]})(t,n)}const ut=x({__name:"scene",setup(t){const n=tt,a=e(),o=r(),s=new O(new q(new(P[n(290)])(1,1,1)),new(P[n(251)])({color:10066329})),u=b(1),i=b(a[n(252)]/a[n(318)]),c=b(a[n(307)]/a[n(318)]),l=V((()=>{const t=n;return!(u[t(288)]<=.01&&u[t(288)]>=-.01)&&(!(i.value<=.01&&i[t(288)]>=-.01)&&!(c.value<=.01&&c[t(288)]>=-.01))})),p=new(P[n(316)])(a.byteArray,a[n(318)],a[n(252)],a.zExtent);p[n(266)]=P[n(297)],p[n(302)]=a[n(301)](),p[n(247)]=P[n(311)],p[n(298)]=P[n(311)],p.wrapS=P[n(291)],p.wrapT=L,p[n(317)]=L,p.needsUpdate=!0;const f={uniforms:{dataTexture:{value:p},colorTexture:{value:o.updateTransferFunction()},samplingRate:{value:1},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!0},composeType:{value:3}},vertexShader:Z,fragmentShader:J,side:$,transparent:!0},m=b(!0),d=new W;return d[n(257)](u,n(288),{label:n(304),min:-2,max:2,step:.01}),d[n(257)](i,n(288),{label:n(258),min:-2,max:2,step:.01}),d[n(257)](c,n(288),{label:n(315),min:-2,max:2,step:.01}),d.addBlade({view:n(282),label:"模式",options:[{text:n(260),value:1},{text:n(275),value:2},{text:n(293),value:3}],value:f[n(325)].composeType.value}).on(n(267),(t=>{const e=n;f[e(325)][e(284)].value=t[e(288)]})),d[n(257)](f[n(325)][n(309)],"value",{label:n(272),min:0,max:4,step:.01}),d[n(257)](f[n(325)].threshold,n(288),{label:"体绘制的阈值",min:0,max:1,step:.01}),d[n(257)](f[n(325)][n(274)],n(288),{label:n(295),min:0,max:1,step:.01}),d[n(257)](f[n(325)][n(308)],"value",{label:n(289)}),d[n(257)](m,"value",{label:n(294)}),d.addButton({title:n(253),label:"点击"}).on("click",(()=>{const t=n;a.byteArray=null,d[t(313)]()})),U((()=>o[n(263)]),(()=>{const t=n;f.uniforms[t(254)][t(288)]=o[t(256)]()}),{deep:!0,immediate:!0}),(t,e)=>{const r=n;return v(),_(r(273),null,[T(r(277),{scale:[u.value,i[r(288)],c.value],visible:l.value},[e[0]||(e[0]=T(r(248),{args:[1,1,1]},null,-1)),T(r(323),F(S(f)),null,16),m[r(288)]?(v(),_(r(326),{key:0,object:w(s)},null,8,at)):D("",!0)],8,rt)])}}});function it(t){function n(t){const e=st;if(typeof t===e(319))return function(t){}[e(320)](e(271))[e(280)](e(310));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(285)+"gger")[e(261)](e(265)):function(){return!1}.constructor(e(285)+e(283)).apply(e(306)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ct(){const t=["toString","byteArray","133778ZwdwHm","console","action","rgba(102, 0, 250, 1)","1542vikePp","chain","call","rgba(242, 242, 0, 0.99)","input","init","2848900OJYgUe","apply","rawDataPre","warn","table","2485690aeidVc","rgba(242, 242, 0, 0)","__proto__","3lvzxlA","length","rgba(255, 0, 0, 1)","gger","101344OAkDFk","stateObject","11253KqEzqk","13258PmDjrg","364IYduOx","string","TresPerspectiveCamera",'{}.constructor("return this")( )',"info","constructor","bind","16404102KhmRrU","9vUdGnV","function *\\( *\\)","#201919"];return(ct=function(){return t})()}const lt=pt;function pt(t,n){const e=ct();return(pt=function(t,n){return e[t-=292]})(t,n)}!function(t,n){const e=pt,r=ct();for(;;)try{if(368501===parseInt(e(322))/1*(parseInt(e(304))/2)+-parseInt(e(328))/3*(-parseInt(e(330))/4)+parseInt(e(314))/5+parseInt(e(308))/6*(parseInt(e(329))/7)+parseInt(e(326))/8+-parseInt(e(299))/9*(-parseInt(e(319))/10)+-parseInt(e(298))/11)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const ft=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[pt(315)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ft(this,(function(){const t=pt,n=new RegExp(t(300)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=gt(t(313));n.test(r+t(309))&&e.test(r+t(312))?gt():r("0")}))()}();const mt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();mt(void 0,(function(){const t=pt,n=function(){const t=pt;let n;try{n=Function("return (function() "+t(294)+");")()}catch(e){n=window}return n}(),e=n[t(305)]=n[t(305)]||{},r=["log",t(317),t(295),"error","exception",t(318),"trace"];for(let a=0;a<r[t(323)];a++){const n=mt[t(296)].prototype[t(297)](mt),o=r[a],s=e[o]||n;n[t(321)]=mt[t(297)](mt),n[t(302)]=s[t(302)][t(297)](s),e[o]=n}}))();const dt=x({__name:lt(316),setup(r){const o=lt,s=C({clearColor:o(301),antialias:!0}),u=e();return(e,r)=>{const i=o;return v(),_(k,null,[w(u).byteArray?(v(),E(a,{key:0,curColorList:[[i(307),.587],[i(324),.7],[i(311),.84],["rgba(242, 242, 0, 0.2)",.88],[i(320),1]]})):D("",!0),I(w(n),B(s,{"window-size":""}),{default:j((()=>[r[0]||(r[0]=T(i(293),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),I(w(t)),w(u)[i(303)]?(v(),E(ut,{key:0})):D("",!0)])),_:1},16),I(Q)],64)}}});function gt(t){function n(t){const e=pt;if(typeof t===e(292))return function(t){}[e(296)]("while (true) {}")[e(315)]("counter");1!==(""+t/t)[e(323)]||t%20==0?function(){return!0}[e(296)]("debu"+e(325))[e(310)](e(306)):function(){return!1}[e(296)]("debu"+e(325)).apply(e(327)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{dt as default};
