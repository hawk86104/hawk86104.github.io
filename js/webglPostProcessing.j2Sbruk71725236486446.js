import{i as n}from"./ice-utils.ouEgO-cA1725236486446.js";import{m as t,_ as e}from"./gl-matrix.aWmMz91p1725236486446.js";import{P as o}from"./tweakpane.yHWGBmom1725236486446.js";import{d as r,r as i,q as a,o as c,D as s,J as u,u as f}from"./@vue.9bHx4gg21725236486446.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=g;function E(){const n=["info","while (true) {}","call","getElementById","blendFunc","bindBuffer","offset_right_top","webgl","test","1142632atmWDV","#canvaswebgl","lookAt","enableVertexAttribArray","translate","uniformMatrix4fv","height","constructor","none","ELEMENT_ARRAY_BUFFER","1822835REnFVG","clear","FLOAT","STATIC_DRAW","stateObject","UNSIGNED_BYTE","ONE_MINUS_SRC_ALPHA","offset_left_top","texParameteri","RGBA","TEXTURE_WRAP_S","clearColor","47210XjUHZh","createBuffer","uView","canvas","offset_left_bottom","warn","656IHwmEv","console","6eJhrfG","exception","TEXTURE_2D","1047801rAJqAe","useProgram","mat4","COLOR_BUFFER_BIT","vertexAttribPointer","texImage2D","change","toString","drawElements","action","offset_right_bottom","innerWidth","ortho","bufferData","table","value","bindFramebuffer","79794munzFK","uniform1f","create","517HNYCuB","FRAMEBUFFER","TEXTURE_WRAP_T","hidden","ARRAY_BUFFER","createTexture","164408YkGmXB","width","是否后处理","innerHeight","CLAMP_TO_EDGE","TEXTURE_MAG_FILTER","uModel","TEXTURE_MIN_FILTER","chain","NEAREST","length","slider","bind","addBlade","30wHSZKQ","apply","init","webglPostProcessing","debu","inline","BYTES_PER_ELEMENT","canvaswebgl","bindTexture","getContext","TRIANGLES","input","color","framebufferTexture2D","logo-texture","prototype","25501620tnDvUK","string","addBinding","src","SRC_ALPHA","error","function *\\( *\\)","gger","getUniformLocation","25FPFaxq","BLEND"];return(E=function(){return n})()}!function(n,t){const e=g,o=E();for(;;)try{if(656688===parseInt(e(230))/1+parseInt(e(260))/2*(parseInt(e(263))/3)+-parseInt(e(180))/4*(parseInt(e(219))/5)+parseInt(e(194))/6*(parseInt(e(240))/7)+parseInt(e(258))/8*(-parseInt(e(280))/9)+parseInt(e(252))/10*(parseInt(e(283))/11)+-parseInt(e(210))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const d=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[g(195)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){d(this,(function(){const n=g,t=new RegExp(n(216)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=T(n(196));t[n(229)](o+n(188))&&e[n(229)](o+n(205))?T():o("0")}))()}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[g(195)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function g(n,t){const e=E();return(g=function(n,t){return e[n-=175]})(n,t)}x(void 0,(function(){const n=g;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(259)]=t[n(259)]||{},o=["log",n(257),n(221),n(215),n(261),n(277),"trace"];for(let i=0;i<o[n(190)];i++){const t=x[n(237)][n(209)][n(192)](x),r=o[i],a=e[r]||t;t.__proto__=x[n(192)](x),t[n(270)]=a[n(270)].bind(a),e[r]=t}}))();const p={id:_(201)},R=[_(213)],A=r({__name:_(197),setup(r){const E=_;let d,x,g,A,T,F,b,y,h,v,B,P,w;const C=1,I=.71,U=.76,D=new o({title:"参数"}),L=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});D[E(193)]({view:E(191),label:"颜色",min:0,max:1,value:.5}).on("change",(n=>{const t=E;Y(),x[t(281)](P,n[t(278)])}));let S=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);D[E(212)](L,E(177),{label:E(182)}),D[E(212)](L,"offset_right_top",{picker:E(199),x:{min:0,max:1},y:{min:0,max:1}}).on("change",(n=>{const t=E;S[0]=L.offset_right_top.x,S[1]=L[t(227)].y,Y()})),D.addBinding(L,E(273),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(269),(n=>{const t=E;S[5]=L[t(273)].x,S[6]=L[t(273)].y,Y()})),D.addBinding(L,"offset_left_bottom",{picker:E(199),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(n=>{const t=E;S[10]=L[t(256)].x,S[11]=L[t(256)].y,Y()})),D[E(212)](L,E(247),{picker:E(199),x:{min:-1,max:1},y:{min:-1,max:1}}).on(E(269),(n=>{const t=E;S[15]=L[t(247)].x,S[16]=L[t(247)].y,Y()})),a((()=>{M()}));const M=function(){const t=E;d=document.querySelector(t(231)),d[t(181)]=window[t(274)],d[t(236)]=window[t(183)],x=d[t(203)](t(228)),x&&(function(){const t=E,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);A=j(e,o),g=n(x,l,m),h=x[t(218)](g,"uProjection"),v=x.getUniformLocation(g,t(254)),B=x[t(218)](g,t(186)),w=G(document[t(224)](t(208)))}(),Y(),x.enable(x[t(220)]),x[t(225)](x[t(214)],x[t(246)]),N())};function N(){const n=E;x[n(279)](x[n(175)],b),x[n(251)](C,I,U,1),x[n(241)](x[n(266)]),function(){const n=E;x[n(264)](g),x.bindBuffer(x.ARRAY_BUFFER,A);const o=t[n(282)]();e[n(265)][n(275)](o,0,d[n(181)],d[n(236)],0,.1,100),x[n(235)](h,!1,o);const r=e[n(265)][n(282)]();e[n(265)][n(232)](r,[0,0,1],[0,0,0],[0,1,0]),x[n(235)](v,!1,r),O(w,600,600),O(w,400,400)}(),x.bindFramebuffer(x.FRAMEBUFFER,null),L.hidden&&(x[n(241)](x.COLOR_BUFFER_BIT),x[n(251)](0,0,1,1),x.bindBuffer(x.ARRAY_BUFFER,T),x[n(264)](F),x[n(202)](x[n(262)],y)),x[n(271)](x[n(204)],6,x[n(245)],0),requestAnimationFrame(N)}function O(n,o,r){const i=E;let a=e[i(265)][i(282)]();t[i(234)](a,a,[o,r,0]),e[i(265)].scale(a,a,[250,250,0]),x[i(235)](B,!1,a),x[i(202)](x[i(262)],n),x[i(271)](x[i(204)],6,x[i(245)],0)}function Y(){const t=E,e=new Uint8Array([0,1,2,0,2,3]);T=j(S,e),F=n(x,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),P=x[t(218)](F,"mixParam"),x[t(218)](F,t(206)),function(){const n=E;y=G(d),b=x.createFramebuffer(),x[n(279)](x[n(175)],b),x[n(207)](x[n(175)],x.COLOR_ATTACHMENT0,x[n(262)],y,0),x[n(279)](x.FRAMEBUFFER,null)}()}function G(n){const t=E,e=x[t(179)]();return x.bindTexture(x[t(262)],e),n instanceof HTMLImageElement?x.texImage2D(x[t(262)],0,x.RGBA,x[t(249)],x[t(245)],n):x[t(268)](x.TEXTURE_2D,0,x[t(249)],n[t(181)],n[t(236)],0,x[t(249)],x.UNSIGNED_BYTE,null),x[t(248)](x.TEXTURE_2D,x[t(187)],x[t(189)]),x[t(248)](x[t(262)],x[t(185)],x[t(189)]),x.texParameteri(x[t(262)],x[t(250)],x.CLAMP_TO_EDGE),x[t(248)](x[t(262)],x[t(176)],x[t(184)]),e}function j(n,t){const e=E,o=x[e(253)]();x[e(226)](x.ARRAY_BUFFER,o),x[e(276)](x[e(178)],n,x[e(243)]);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array[e(200)];x[e(267)](0,3,x[e(242)],!1,r,0),x.enableVertexAttribArray(0),x[e(267)](1,2,x.FLOAT,!1,r,3*Float32Array.BYTES_PER_ELEMENT),x[e(233)](1);const i=x[e(253)]();return x[e(226)](x.ELEMENT_ARRAY_BUFFER,i),x[e(276)](x[e(239)],t,x[e(243)]),x[e(226)](x[e(178)],null),o}return(n,t)=>{const e=E;return c(),s(e(255),p,[u("img",{id:e(208),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(238)}},null,8,R)])}}});function T(n){function t(n){const e=g;if(typeof n===e(211))return function(n){}.constructor(e(222)).apply("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(237)](e(198)+e(217))[e(223)](e(272)):function(){return!1}.constructor(e(198)+"gger")[e(195)](e(244)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{A as default};
