import{X as t,_ as e,bN as i,C as n,a as s,b as r}from"./three.WgQSjl1J1738818486026.js";const o=f;!function(t,e){const i=f,n=p();for(;;)try{if(207865===-parseInt(i(578))/1+-parseInt(i(697))/2+-parseInt(i(635))/3*(parseInt(i(495))/4)+-parseInt(i(918))/5*(parseInt(i(834))/6)+parseInt(i(589))/7*(parseInt(i(682))/8)+parseInt(i(611))/9*(-parseInt(i(509))/10)+parseInt(i(749))/11)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const a=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){a(this,(function(){const t=f,e=new RegExp(t(819)),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=u(t(517));e[t(541)](n+"chain")&&i[t(541)](n+t(604))?u():n("0")}))()}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();c(void 0,(function(){const t=f;let e;try{e=Function("return (function() "+t(519)+");")()}catch(s){e=window}const i=e[t(733)]=e[t(733)]||{},n=[t(673),t(788),t(852),"error",t(684),"table","trace"];for(let r=0;r<n[t(783)];r++){const e=c.constructor[t(486)][t(678)](c),s=n[r],o=i[s]||e;e[t(466)]=c.bind(c),e[t(659)]=o[t(659)][t(678)](o),i[s]=e}}))();const h={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===o(513)&&define.amd?define(o(742),h):typeof exports!==o(806)&&typeof module!==o(806)&&(module[o(534)]=h),h[o(675)]=function(t,e,i,n){const s=o;this[s(561)]=i||1,this.size=e||1,this[s(612)]=t||Float32Array,this[s(644)]=new t(e*this[s(561)]),this[s(863)]=n||0},h[o(675)].constructor=h[o(675)],h[o(675)][o(486)].setSize=function(t,e){const i=o,n=this[i(644)].length;return!e&&(t*=this[i(561)]),t<n?this.shrink(t):t>n?this[i(518)](t):void console[i(852)](i(787),t+".","Will not resize.")},h.TypedArrayHelper[o(486)][o(577)]=function(t){return this.array=this.array.subarray(0,t),this.size=t,this},h[o(675)][o(486)][o(518)]=function(t){const e=o,i=this[e(644)],n=new this.TypedArrayConstructor(t);return n[e(528)](i),this[e(644)]=n,this.size=t,this},h[o(675)][o(486)].splice=function(t,e){const i=o;t*=this[i(561)],e*=this[i(561)];const n=[],s=this[i(644)],r=s[i(783)];for(let o=0;o<r;++o)(o<t||o>=e)&&n[i(536)](s[o]);return this[i(472)](0,n),this},h[o(675)][o(486)][o(472)]=function(t,e){const i=o,n=t+e[i(783)];return n>this[i(644)].length?this[i(518)](n):n<this[i(644)][i(783)]&&this[i(577)](n),this[i(644)][i(528)](e,this[i(863)]+t),this},h[o(675)][o(486)][o(696)]=function(t,e){return this[o(895)](t,e.x,e.y)},h.TypedArrayHelper.prototype.setVec2Components=function(t,e,i){const n=o,s=this[n(644)],r=this[n(863)]+t*this[n(561)];return s[r]=e,s[r+1]=i,this},h[o(675)][o(486)].setVec3=function(t,e){return this[o(460)](t,e.x,e.y,e.z)},h[o(675)][o(486)][o(460)]=function(t,e,i,n){const s=o,r=this.array,a=this[s(863)]+t*this[s(561)];return r[a]=e,r[a+1]=i,r[a+2]=n,this},h[o(675)].prototype[o(674)]=function(t,e){return this[o(862)](t,e.x,e.y,e.z,e.w)},h[o(675)][o(486)][o(862)]=function(t,e,i,n,s){const r=o,a=this[r(644)],c=this[r(863)]+t*this[r(561)];return a[c]=e,a[c+1]=i,a[c+2]=n,a[c+3]=s,this},h[o(675)][o(486)][o(597)]=function(t,e){const i=o;return this[i(472)](this[i(863)]+t*this[i(561)],e[i(540)])},h[o(675)].prototype[o(740)]=function(t,e){const i=o;return this[i(472)](this.indexOffset+t*this[i(561)],e.elements)},h.TypedArrayHelper[o(486)][o(817)]=function(t,e){return this[o(460)](t,e.r,e.g,e.b)},h[o(675)].prototype[o(606)]=function(t,e){const i=o;return this.array[this[i(863)]+t*this[i(561)]]=e,this},h.TypedArrayHelper[o(486)][o(622)]=function(t){const e=o;return this[e(644)][this[e(863)]+t]},h[o(675)][o(486)][o(892)]=function(t){const e=o;return this.array[e(603)](this[e(863)]+t*this[e(561)])},h[o(645)]=function(t,e,i){const n=o,s=h[n(645)].typeSizeMap;this[n(538)]=typeof t===n(475)&&s[n(774)](t)?t:"f",this[n(561)]=s[this[n(538)]],this[n(575)]=i||Float32Array,this[n(726)]=null,this[n(885)]=null,this.dynamicBuffer=!!e,this[n(896)]=0,this.updateMax=0},h.ShaderAttribute.constructor=h.ShaderAttribute,h[o(645)][o(802)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},h[o(645)][o(486)][o(867)]=function(t,e){const i=o;this[i(896)]=Math.min(t*this[i(561)],this[i(896)]*this[i(561)]),this[i(559)]=Math[i(761)](e*this[i(561)],this[i(559)]*this.componentSize)},h[o(645)][o(486)][o(497)]=function(){const t=o,e=this[t(885)];!e[t(641)]&&(e.updateRange={});const i=e[t(641)];i[t(881)]=this[t(896)],i[t(584)]=Math[t(860)](this[t(559)]-this[t(896)]+this[t(561)],this.typedArray[t(644)][t(783)]),e[t(619)]=!0},h[o(645)][o(486)][o(730)]=function(){const t=o;this[t(896)]=0,this[t(559)]=0},h.ShaderAttribute[o(486)].resetDynamic=function(){const i=o;this.bufferAttribute[i(779)]=this.dynamicBuffer?t:e[i(503)]},h.ShaderAttribute[o(486)][o(689)]=function(t,e){const i=o;this[i(726)].splice(t,e),this[i(473)]()},h[o(645)][o(486)].forceUpdateAll=function(){const t=o;this[t(885)][t(644)]=this[t(726)][t(644)],this[t(885)][t(641)][t(881)]=0,this[t(885)].updateRange[t(584)]=-1,this.bufferAttribute[t(779)]=e[t(503)],this[t(885)][t(619)]=!0},h[o(645)].prototype[o(646)]=function(t){const e=o;null!==this[e(726)]&&this[e(726)][e(812)]===t*this[e(561)]||(null!==this.typedArray&&this[e(726)].size!==t?this[e(726)].setSize(t):null===this[e(726)]&&(this[e(726)]=new h.TypedArrayHelper(this[e(575)],t,this.componentSize)))},h.ShaderAttribute[o(486)]._createBufferAttribute=function(t){const i=o;if(this._ensureTypedArray(t),null!==this[i(885)])return this[i(885)][i(644)]=this[i(726)][i(644)],parseFloat(e[i(832)])>=81&&(this[i(885)][i(584)]=this.bufferAttribute[i(644)][i(783)]/this.bufferAttribute.itemSize),void(this[i(885)].needsUpdate=!0);this[i(885)]=new(e[i(904)])(this[i(726)][i(644)],this.componentSize),this[i(885)][i(779)]=this[i(459)]?e[i(485)]:e[i(503)]},h[o(645)][o(486)].getLength=function(){const t=o;return null===this.typedArray?0:this.typedArray[t(644)][t(783)]},h[o(657)]={defines:[o(662),"#define PACKED_COLOR_DIVISOR 255.0"][o(731)]("\n"),uniforms:[o(913),o(545),o(544),o(522),o(691)].join("\n"),attributes:["attribute vec4 acceleration;","attribute vec3 velocity;","attribute vec4 rotation;","attribute vec3 rotationCenter;",o(478),o(667),o(738),o(620),o(709)].join("\n"),varyings:[o(658),o(796),o(660),o(564),"#ifdef SHOULD_CALCULATE_SPRITE",o(854),"#endif"][o(731)]("\n"),branchAvoidanceFunctions:[o(898),o(861),"}",o(808),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {",o(652),"}",o(488),o(824),"}","float when_le(float x, float y) {",o(636),"}",o(900),o(804),"}",o(607),o(549),"}"].join("\n"),unpackColor:[o(813),"   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",o(769),o(729),o(838),"   c.g = g / PACKED_COLOR_DIVISOR;",o(552),o(572),"}"][o(731)]("\n"),unpackRotationAxis:[o(594),o(911),o(785),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",o(729),"   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;",o(552),o(908),"   c -= vec3( 1.0 );",o(572),"}"][o(731)]("\n"),floatOverLifetime:[o(734),o(866),o(523),o(531),o(489),o(490),"",o(463),o(745),o(558),"       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );",o(853),"",o(671),"}"][o(731)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );",o(698),o(841),o(671),"}"][o(731)]("\n"),paramFetchingFunctions:["float getAlive() {",o(492),"}",o(799),"   return params.y;","}","float getMaxAge() {",o(798),"}",o(814),o(827),"}"].join("\n"),forceFetchingFunctions:[o(791),"   return modelViewMatrix * vec4( position, 1.0 );","}",o(565),o(846),"}","vec3 getAcceleration( in float age ) {",o(507),"}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES",o(891),o(590),o(592),o(829),o(623),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",o(735),o(713),o(560),"",o(511),"      if( rotation.y == 0.0 ) {",o(543),"      }","",o(703),"      vec3 center = rotationCenter;",o(613),"      mat4 rotationMatrix;",o(714),o(676),o(608),o(672),o(793),o(858),"   }","#endif"][o(731)]("\n"),rotateTexture:[o(760),"",o(650),o(626),o(567),"       float c = cos( -vAngle );",o(757),o(818),o(628),"",o(506),o(816),o(637),o(722),o(504),o(664),o(764),o(628),"",o(723)][o(731)]("\n")},h[o(586)]={vertex:[h[o(657)][o(765)],h[o(657)][o(555)],h[o(657)][o(810)],h[o(657)].varyings,e[o(583)][o(521)],e[o(583)].logdepthbuf_pars_vertex,e[o(583)][o(512)],h[o(657)][o(782)],h.shaderChunks[o(500)],h.shaderChunks[o(872)],h[o(657)][o(916)],h[o(657)][o(532)],h.shaderChunks[o(651)],h[o(657)][o(587)],h[o(657)][o(633)],o(481),o(878),o(542),o(874),"    highp float positionInTime = (age / maxAge);",o(868),o(615),o(571),o(809),"        float wiggleCos = isAlive * cos( wiggleAmount );",o(628),o(685),o(877),"    vec3 force = vec3( 0.0 );",o(469),o(535),o(822),"    force *= drag;",o(470),o(880),o(615),o(602),o(831),o(476),"    #endif",o(482),"        pos = getRotation( pos, positionInTime );",o(628),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",o(835),o(800),o(820),o(618),o(784),o(628),o(704),o(539),o(865),o(797),o(768),"           unpackColor( color.y ),",o(688),o(483),"       );","    #else","       vec3 c = vec3(1.0);",o(628),o(465),"    vColor = vec4( c, o );",o(650),o(844),o(628),o(506),o(525),"        float framesY = textureAnimation.y;",o(815),o(690),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",o(617),o(756),o(687),o(487),o(601),o(464),o(739),o(706),o(628),o(655),"    gl_Position = projectionMatrix * mvPosition;",e[o(583)][o(795)],i[o(710)],"}"][o(731)]("\n"),fragment:[h[o(657)][o(555)],e[o(583)][o(521)],i[o(705)],e[o(583)].logdepthbuf_pars_fragment,h[o(657)][o(888)],h[o(657)].branchAvoidanceFunctions,o(481),o(616),"    ",o(843),o(574),o(628),h[o(657)][o(741)],e[o(583)].logdepthbuf_fragment,o(855),o(879),e[o(583)][o(537)],"}"][o(731)]("\n")},h[o(595)]={types:{BOOLEAN:o(805),STRING:o(475),NUMBER:o(653),OBJECT:o(759)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=o;if(Array[n(857)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(718)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=o;if(Array[n(857)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[n(909)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=o;e=e||3,i=i||3,!1===Array.isArray(t[n(700)])&&(t[n(700)]=[t[n(700)]]),!1===Array.isArray(t._spread)&&(t._spread=[t[n(869)]]);const s=this[n(550)](t._value[n(783)],e,i),r=this.clamp(t[n(869)][n(783)],e,i),a=Math[n(761)](s,r);t[n(700)][n(783)]!==a&&(t[n(700)]=this[n(631)](t[n(700)],a)),t[n(869)][n(783)]!==a&&(t[n(869)]=this[n(631)](t[n(869)],a))},interpolateArray(t,e){const i=o,n=t[i(783)],s=[typeof t[0].clone===i(513)?t[0][i(767)]():t[0]],r=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*r,n=Math[i(692)](e),a=Math[i(837)](e),c=e-n;s[o]=this[i(533)](t[n],t[a],c)}return s[i(536)](typeof t[n-1][i(767)]===i(513)?t[n-1][i(767)]():t[n-1]),s},clamp(t,e,i){const n=o;return Math[n(761)](e,Math[n(860)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[o(498)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,n){const s=o;let r,a=this[s(494)];return typeof t===a[s(638)]&&typeof i===a[s(638)]?t+(i-t)*n:t instanceof e[s(807)]&&i instanceof e[s(807)]?(r=t[s(767)](),r.x=this[s(516)](t.x,i.x,n),r.y=this.lerp(t.y,i.y,n),r):t instanceof e[s(711)]&&i instanceof e[s(711)]?(r=t[s(767)](),r.x=this[s(516)](t.x,i.x,n),r.y=this[s(516)](t.y,i.y,n),r.z=this[s(516)](t.z,i.z,n),r):t instanceof e[s(907)]&&i instanceof e[s(907)]?(r=t[s(767)](),r.x=this[s(516)](t.x,i.x,n),r.y=this[s(516)](t.y,i.y,n),r.z=this.lerp(t.z,i.z,n),r.w=this.lerp(t.w,i.w,n),r):t instanceof e[s(663)]&&i instanceof e[s(663)]?(r=t[s(767)](),r.r=this.lerp(t.r,i.r,n),r.g=this[s(516)](t.g,i.g,n),r.b=this[s(516)](t.b,i.b,n),r):void console[s(788)](s(717),t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=o;let n=0;return 0===e?t:(n=Math[i(914)](t)%e,0===n?t:t<0?-(Math[i(914)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[o(498)]()-.5),randomVector3(t,e,i,n,s){const r=o;let a=i.x+(Math[r(498)]()*n.x-.5*n.x),c=i.y+(Math[r(498)]()*n.y-.5*n.y),h=i.z+(Math[r(498)]()*n.z-.5*n.z);s&&(a=.5*-s.x+this[r(752)](a,s.x),c=.5*-s.y+this[r(752)](c,s.y),h=.5*-s.z+this[r(752)](h,s.z)),t[r(726)][r(460)](e,a,c,h)},randomColor(t,e,i,n){const s=o;let r=i.r+Math.random()*n.x,a=i.g+Math[s(498)]()*n.y,c=i.b+Math[s(498)]()*n.z;r=this[s(550)](r,0,1),a=this[s(550)](a,0,1),c=this[s(550)](c,0,1),t[s(726)][s(460)](e,r,a,c)},randomColorAsHex:function(){const t=new n;return function(e,i,n,s){const r=f,o=n.length,a=[];for(let c=0;c<o;++c){const e=s[c];t[r(887)](n[c]),t.r+=Math.random()*e.x-.5*e.x,t.g+=Math.random()*e.y-.5*e.y,t.b+=Math.random()*e.z-.5*e.z,t.r=this[r(550)](t.r,0,1),t.g=this[r(550)](t.g,0,1),t.b=this[r(550)](t.b,0,1),a[r(536)](t[r(568)]())}e.typedArray[r(862)](i,a[0],a[1],a[2],a[3])}}(),randomVector3OnLine(t,e,i,n){const s=o,r=i[s(767)]();r[s(516)](n,Math[s(498)]()),t[s(726)][s(460)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,s,r,a,c){const h=o;let l=2*Math[h(498)]()-1,u=6.2832*Math[h(498)](),f=Math[h(501)](1-l*l),p=this.randomFloat(n,s),d=0,m=0,g=0;a&&(p=Math[h(499)](p/a)*a),d=f*Math[h(803)](u)*p,m=f*Math.sin(u)*p,g=l*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t[h(726)][h(460)](e,d,m,g)},seededRandom(t){const e=1e4*Math[o(883)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,r,a){const c=o;let h=6.2832*Math[c(498)](),l=Math[c(914)](this[c(702)](n,s)),u=0,f=0,p=0;a&&(l=Math.round(l/a)*a),u=Math[c(803)](h)*l,f=Math[c(883)](h)*l,u*=r.x,f*=r.y,u+=i.x,f+=i.y,p+=i.z,t[c(726)][c(460)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const t=o,i=new(e[t(711)]);return function(e,n,s,r,o,a,c,h){const l=t;i[l(887)](a),i.x-=s,i.y-=r,i.z-=o,i.normalize()[l(546)](-this[l(702)](c,h)),e[l(726)].setVec3Components(n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=o,i=new(e[t(711)]);return function(e,n,s,r,o,a,c,h){const l=t;i[l(887)](a),i.x-=s,i.y-=r,i.z-=o,i[l(556)]()[l(546)](-this[l(702)](c,h)),e[l(726)][l(460)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const t=o,i=new(e[t(711)]),n=new(e[t(711)]),s=new(e[t(663)]),r=new(e[t(711)])(1,1,1);return function(e,o){const a=t;return i[a(887)](e)[a(556)](),n[a(887)](o)[a(556)](),i.x+=.5*-o.x+Math[a(498)]()*o.x,i.y+=.5*-o.y+Math[a(498)]()*o.y,i.z+=.5*-o.z+Math[a(498)]()*o.z,i.normalize()[a(582)](r)[a(546)](.5),s[a(677)](i.x,i.y,i.z),s[a(568)]()}}()},h[o(748)]=function(t){const i=o,n=h[i(595)],r=n[i(494)];(t=n[i(718)](t,r[i(849)],{}))[i(569)]=n.ensureTypedArg(t.texture,r[i(849)],{}),this[i(707)]=s.generateUUID(),this[i(811)]=n[i(718)](t[i(811)],r[i(638)],.016),this.texture=n[i(909)](t.texture[i(665)],e[i(647)],null),this[i(649)]=n.ensureInstanceOf(t[i(569)].frames,e[i(807)],new(e[i(807)])(1,1)),this.textureFrameCount=n[i(718)](t[i(569)].frameCount,r[i(638)],this.textureFrames.x*this[i(649)].y),this.textureLoop=n[i(718)](t.texture.loop,r[i(638)],1),this[i(649)][i(761)](new(e[i(807)])(1,1)),this[i(751)]=n[i(718)](t[i(751)],r[i(514)],!0),this[i(715)]=n[i(718)](t[i(715)],r[i(514)],!0),this[i(790)]=n[i(718)](t[i(790)],r[i(638)],null),this[i(905)]=n[i(718)](t[i(905)],r.NUMBER,e[i(639)]),this.transparent=n[i(718)](t.transparent,r[i(514)],!0),this[i(640)]=parseFloat(n.ensureTypedArg(t.alphaTest,r[i(638)],0)),this[i(912)]=n.ensureTypedArg(t[i(912)],r.BOOLEAN,!1),this[i(728)]=n[i(718)](t[i(728)],r.BOOLEAN,!0),this[i(828)]=n[i(718)](t[i(828)],r.BOOLEAN,!0),this[i(920)]=n[i(718)](t.scale,r[i(638)],300),this[i(825)]=[],this[i(716)]=[],this[i(625)]=[],this[i(753)]=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this[i(848)]=!1,this[i(629)]=0,this.uniforms={tex:{type:"t",value:this[i(569)]},textureAnimation:{type:"v4",value:new(e[i(907)])(this[i(649)].x,this[i(649)].y,this[i(727)],Math.max(Math[i(914)](this[i(876)]),1))},fogColor:{type:"c",value:this[i(828)]?new(e[i(663)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(920)]}},this[i(765)]={HAS_PERSPECTIVE:this[i(751)],COLORIZE:this[i(715)],VALUE_OVER_LIFETIME_LENGTH:h[i(580)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(649)].x>1||this[i(649)].y>1},this[i(810)]={position:new(h[i(645)])("v3",!0),acceleration:new(h[i(645)])("v4",!0),velocity:new h.ShaderAttribute("v3",!0),rotation:new(h[i(645)])("v4",!0),rotationCenter:new(h[i(645)])("v3",!0),params:new(h[i(645)])("v4",!0),size:new h.ShaderAttribute("v4",!0),angle:new(h[i(645)])("v4",!0),color:new(h[i(645)])("v4",!0),opacity:new(h[i(645)])("v4",!0)},this[i(777)]=Object[i(670)](this[i(810)]),this[i(720)]=this[i(777)][i(783)],this[i(599)]=new(e[i(897)])({uniforms:this[i(555)],vertexShader:h[i(586)].vertex,fragmentShader:h[i(586)][i(922)],blending:this[i(905)],transparent:this[i(479)],alphaTest:this[i(640)],depthWrite:this[i(912)],depthTest:this[i(728)],defines:this[i(765)],fog:this[i(828)]}),this[i(679)]=new(e[i(694)]),this.mesh=new(e[i(648)])(this[i(679)],this[i(599)]),null===this[i(790)]&&console[i(788)](i(529))},h[o(748)].constructor=h[o(748)],h[o(748)][o(486)][o(570)]=function(){const t=o;let e,i=this[t(825)],n=i[t(783)]-1,s=this[t(765)];for(;n>=0;--n)e=i[n],!s[t(510)]&&(s[t(724)]=s[t(724)]||!!Math.max(Math[t(761)].apply(null,e.angle[t(665)]),Math.max[t(661)](null,e.angle.spread))),s[t(548)]=s[t(548)]||!!Math[t(761)](e.rotation.angle,e[t(792)][t(856)]),s[t(458)]=s[t(458)]||!!Math.max(e[t(763)][t(665)],e.wiggle[t(840)]);this[t(599)][t(619)]=!0},h[o(748)].prototype._applyAttributesToGeometry=function(){const t=o;let e,i,n=this[t(810)],s=this[t(679)],r=s[t(810)];for(const o in n)n[t(774)](o)&&(e=n[o],i=r[o],i?i[t(644)]=e[t(726)][t(644)]:s[t(894)](o,e[t(885)]),e.bufferAttribute[t(619)]=!0);this[t(679)][t(576)](0,this[t(629)])},h[o(748)][o(486)][o(755)]=function(t){const e=o;if(t instanceof h[e(579)]==!1)return void console.error(e(701),t);if(this[e(716)][e(919)](t.uuid)>-1)return void console[e(634)]("Emitter already exists in this group. Will not add again.");if(null!==t[e(882)])return void console.error(e(468));const i=this[e(810)],n=this[e(629)],s=n+t.particleCount;this.particleCount=s,null!==this[e(790)]&&this.particleCount>this[e(790)]&&console[e(788)](e(915),this[e(629)],e(624),this.maxParticleCount),t._calculatePPSValue(t.maxAge._value+t.maxAge._spread),t[e(775)](this[e(777)]),t[e(923)](n),t[e(882)]=this,t[e(810)]=this[e(810)];for(const r in i)i[e(774)](r)&&i[r][e(596)](null!==this[e(790)]?this[e(790)]:this[e(629)]);for(let r=n;r<s;++r)t[e(754)](r),t._assignForceValue(r,e(515)),t[e(875)](r,"acceleration"),t._assignAbsLifetimeValue(r,e(890)),t[e(780)](r,e(812)),t[e(776)](r),t._assignRotationValue(r),t[e(527)](r),t[e(758)](r);return this._applyAttributesToGeometry(),this[e(825)][e(536)](t),this.emitterIDs[e(536)](t.uuid),this[e(570)](t),this[e(599)].needsUpdate=!0,this.geometry[e(619)]=!0,this[e(744)]=!0,this},h[o(748)].prototype[o(903)]=function(t){const e=o,i=this[e(716)][e(919)](t.uuid);if(t instanceof h.Emitter==!1)return void console[e(634)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console[e(634)](e(721));const n=t[e(605)],s=n+t[e(629)],r=this[e(810)].params[e(726)];for(let o=n;o<s;++o)r[e(644)][4*o]=0,r[e(644)][4*o+1]=0;this.emitters[e(689)](i,1),this[e(716)][e(689)](i,1);for(const o in this[e(810)])this[e(810)].hasOwnProperty(o)&&this[e(810)][o].splice(n,s);this[e(629)]-=t[e(629)],t[e(893)](),this._attributesNeedRefresh=!0},h[o(748)][o(486)][o(471)]=function(){const t=o,e=this[t(625)],i=this[t(859)];if(e[t(783)])return e[t(666)]();if(i){const e=new h.Emitter(this[t(753)]);return this.addEmitter(e),e}return null},h[o(748)][o(486)][o(461)]=function(t){const e=o;if(t instanceof h[e(579)]!=!1)return t[e(884)](),this._pool[e(642)](t),this;console[e(634)](e(746),t)},h[o(748)][o(486)][o(839)]=function(){return this[o(625)]},h[o(748)][o(486)][o(845)]=function(t,e,i){const n=o;let s;this[n(753)]=e,this[n(859)]=!!i;for(let r=0;r<t;++r)s=Array.isArray(e)?new(h[n(579)])(e[r]):new h.Emitter(e),this.addEmitter(s),this[n(461)](s);return this},h[o(748)][o(486)][o(826)]=function(t){const i=o,n=this.getFromPool(),s=this;if(null!==n)return t instanceof e[i(711)]&&(n[i(669)].value[i(887)](t),n[i(669)].value=n.position[i(665)]),n[i(563)](),setTimeout((()=>{n[i(778)](),s.releaseIntoPool(n)}),1e3*Math[i(761)](n[i(902)],n.maxAge.value+n[i(588)][i(840)])),this;console[i(673)]("SPE.Group pool ran out.")},h.Group.prototype[o(598)]=function(t,e){const i=o;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(826)](e);else this[i(826)](e);return this},h[o(748)][o(486)][o(609)]=function(t){const e=o;this.uniforms.runTime[e(665)]+=t,this.uniforms[e(699)][e(665)]=t},h.Group.prototype[o(547)]=function(){const t=o;let e=this[t(777)],i=this.attributeCount-1,n=this[t(810)];for(;i>=0;--i)n[e[i]][t(730)]()},h[o(748)][o(486)][o(725)]=function(t){const e=o;let i,n,s,r=this[e(777)],a=this[e(720)]-1,c=this.attributes,h=t[e(610)];for(;a>=0;--a)i=r[a],n=h[i],s=c[i],s[e(867)](n.min,n[e(761)]),s.flagUpdate()},h[o(748)][o(486)][o(889)]=function(t){const e=o;var i=this[e(825)],n=i[e(783)],s=t||this.fixedTimeStep,r=this[e(777)],a=this[e(810)];if(this._updateUniforms(s),this[e(547)](),0!==n||!1!==this[e(744)]||!1!==this._attributesNeedDynamicReset){for(var c,h=0;h<n;++h)(c=i[h])[e(889)](s),this._updateBuffers(c);if(!0===this._attributesNeedDynamicReset){for(h=this[e(720)]-1;h>=0;--h)a[r[h]][e(906)]();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(h=this[e(720)]-1;h>=0;--h)a[r[h]][e(473)]();this[e(744)]=!1,this[e(848)]=!0}}},h[o(748)][o(486)].dispose=function(){const t=o;return this[t(679)][t(886)](),this.material[t(886)](),this},h.Emitter=function(t){const i=o,n=h.utils,s=n[i(494)],a=h.valueOverLifetimeLength;(t=n.ensureTypedArg(t,s[i(849)],{}))[i(669)]=n[i(718)](t[i(669)],s[i(849)],{}),t.velocity=n.ensureTypedArg(t[i(515)],s.OBJECT,{}),t[i(573)]=n[i(718)](t.acceleration,s[i(849)],{}),t[i(708)]=n[i(718)](t.radius,s[i(849)],{}),t[i(551)]=n.ensureTypedArg(t[i(551)],s.OBJECT,{}),t.rotation=n.ensureTypedArg(t.rotation,s[i(849)],{}),t[i(520)]=n[i(718)](t[i(520)],s[i(849)],{}),t[i(890)]=n.ensureTypedArg(t[i(890)],s[i(849)],{}),t.size=n[i(718)](t.size,s[i(849)],{}),t[i(830)]=n[i(718)](t[i(830)],s[i(849)],{}),t.wiggle=n[i(718)](t[i(763)],s[i(849)],{}),t[i(588)]=n[i(718)](t[i(588)],s[i(849)],{}),t[i(474)]&&console[i(788)](i(502)),this[i(707)]=e[i(585)].generateUUID(),this[i(538)]=n.ensureTypedArg(t[i(538)],s[i(638)],h[i(630)][i(554)]),this[i(669)]={_value:n[i(909)](t.position[i(665)],r,new r),_spread:n.ensureInstanceOf(t[i(669)][i(840)],r,new(e[i(711)])),_spreadClamp:n.ensureInstanceOf(t[i(669)].spreadClamp,e[i(711)],new(e[i(711)])),_distribution:n[i(718)](t[i(669)][i(683)],s[i(638)],this[i(538)]),_randomise:n.ensureTypedArg(t[i(669)].randomise,s[i(514)],!1),_radius:n[i(718)](t[i(669)][i(708)],s[i(638)],10),_radiusScale:n[i(909)](t.position[i(493)],e[i(711)],new(e[i(711)])(1,1,1)),_distributionClamp:n[i(718)](t[i(669)][i(593)],s[i(638)],0)},this.velocity={_value:n.ensureInstanceOf(t[i(515)][i(665)],r,new(e[i(711)])),_spread:n[i(909)](t[i(515)][i(840)],e[i(711)],new(e[i(711)])),_distribution:n[i(718)](t.velocity[i(683)],s.NUMBER,this[i(538)]),_randomise:n.ensureTypedArg(t[i(669)][i(614)],s.BOOLEAN,!1)},this[i(573)]={_value:n.ensureInstanceOf(t[i(573)][i(665)],e[i(711)],new(e[i(711)])),_spread:n[i(909)](t[i(573)].spread,e[i(711)],new(e[i(711)])),_distribution:n[i(718)](t[i(573)][i(683)],s[i(638)],this[i(538)]),_randomise:n[i(718)](t.position[i(614)],s[i(514)],!1)},this.drag={_value:n.ensureTypedArg(t.drag[i(665)],s[i(638)],0),_spread:n[i(718)](t[i(551)][i(840)],s.NUMBER,0),_randomise:n.ensureTypedArg(t.position.randomise,s[i(514)],!1)},this[i(763)]={_value:n[i(718)](t[i(763)][i(665)],s.NUMBER,0),_spread:n[i(718)](t[i(763)].spread,s[i(638)],0)},this[i(792)]={_axis:n.ensureInstanceOf(t[i(792)][i(627)],r,new r(0,1,0)),_axisSpread:n.ensureInstanceOf(t[i(792)][i(910)],r,new r),_angle:n[i(718)](t[i(792)][i(830)],s[i(638)],0),_angleSpread:n[i(718)](t[i(792)][i(856)],s[i(638)],0),_static:n[i(718)](t[i(792)][i(823)],s.BOOLEAN,!1),_center:n.ensureInstanceOf(t[i(792)][i(737)],e[i(711)],this[i(669)]._value.clone()),_randomise:n[i(718)](t[i(669)][i(614)],s[i(514)],!1)},this.maxAge={_value:n.ensureTypedArg(t.maxAge[i(665)],s[i(638)],2),_spread:n[i(718)](t[i(588)][i(840)],s[i(638)],0)},this.color={_value:n.ensureArrayInstanceOf(t[i(520)][i(665)],e[i(663)],new(e[i(663)])),_spread:n[i(921)](t[i(520)].spread,r,new r),_randomise:n[i(718)](t.position[i(614)],s[i(514)],!1)},this[i(890)]={_value:n.ensureArrayTypedArg(t[i(890)].value,s[i(638)],1),_spread:n[i(643)](t[i(890)][i(840)],s.NUMBER,0),_randomise:n[i(718)](t[i(669)][i(614)],s.BOOLEAN,!1)},this[i(812)]={_value:n[i(643)](t[i(812)][i(665)],s[i(638)],1),_spread:n[i(643)](t[i(812)][i(840)],s.NUMBER,0),_randomise:n[i(718)](t[i(669)][i(614)],s.BOOLEAN,!1)},this[i(830)]={_value:n.ensureArrayTypedArg(t.angle[i(665)],s[i(638)],0),_spread:n.ensureArrayTypedArg(t[i(830)][i(840)],s[i(638)],0),_randomise:n[i(718)](t[i(669)].randomise,s[i(514)],!1)},this[i(629)]=n[i(718)](t[i(629)],s[i(638)],100),this.duration=n[i(718)](t[i(902)],s[i(638)],null),this[i(508)]=n.ensureTypedArg(t[i(508)],s[i(514)],!1),this[i(870)]=n[i(718)](t[i(870)],s[i(638)],1),this[i(505)]=n[i(718)](t.direction,s[i(638)],1),this.alive=n[i(718)](t.alive,s[i(514)],!0),this[i(901)]=0,this[i(526)]=0,this[i(605)]=0,this[i(736)]=0,this.age=0,this[i(762)]=0,this[i(882)]=null,this[i(810)]=null,this.paramsArray=null,this.resetFlags={position:n[i(718)](t[i(669)].randomise,s[i(514)],!1)||n[i(718)](t[i(708)][i(614)],s[i(514)],!1),velocity:n[i(718)](t[i(515)].randomise,s.BOOLEAN,!1),acceleration:n[i(718)](t[i(573)][i(614)],s[i(514)],!1)||n[i(718)](t[i(551)].randomise,s[i(514)],!1),rotation:n[i(718)](t[i(792)][i(614)],s[i(514)],!1),rotationCenter:n[i(718)](t[i(792)].randomise,s.BOOLEAN,!1),size:n[i(718)](t.size[i(614)],s[i(514)],!1),color:n[i(718)](t.color.randomise,s.BOOLEAN,!1),opacity:n.ensureTypedArg(t.opacity[i(614)],s[i(514)],!1),angle:n[i(718)](t[i(830)][i(614)],s[i(514)],!1)},this[i(766)]={},this[i(771)]={},this[i(917)]={maxAge:i(873),position:"position",velocity:i(515),acceleration:"acceleration",drag:i(573),wiggle:i(873),rotation:"rotation",size:i(812),color:i(520),opacity:i(890),angle:i(830)};for(const e in this[i(917)])this[i(917)][i(774)](e)&&(this[i(771)][this[i(917)][e]]=0,this[i(766)][this[i(917)][e]]=!1,this[i(695)](this[e],e));this[i(610)]={},this[i(777)]=null,this[i(720)]=0,n[i(654)](this[i(520)],a,a),n[i(654)](this[i(890)],a,a),n.ensureValueOverLifetimeCompliance(this[i(812)],a,a),n.ensureValueOverLifetimeCompliance(this[i(830)],a,a)},h[o(579)][o(668)]=h.Emitter,h.Emitter.prototype[o(695)]=function(t,e){const i=o,n=this;for(const s in t)if(t.hasOwnProperty(s)){const r=s[i(750)]("_","");Object[i(462)](t,r,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=f,r=n.updateMap[e],o=this[t],a=h.valueOverLifetimeLength;t===s(836)?(n[s(766)][s(480)]=!0,n[s(771)][s(480)]=0):t===s(467)?n.resetFlags[r]=i:(n[s(766)][r]=!0,n[s(771)][r]=0),n[s(882)]._updateDefines(),this[t]=i,Array[s(857)](o)&&h[s(595)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},h[o(579)][o(486)][o(775)]=function(t){const e=o;this[e(777)]=t,this.attributeCount=t.length;for(let i=this[e(720)]-1;i>=0;--i)this[e(610)][t[i]]={min:Number[e(484)],max:Number.NEGATIVE_INFINITY}},h[o(579)][o(486)][o(864)]=function(t){const e=o,i=this[e(629)];this[e(902)]?this[e(901)]=i/(t<this.duration?t:this.duration):this[e(901)]=i/t},h[o(579)][o(486)][o(923)]=function(t){const e=o;this[e(605)]=t,this[e(526)]=t,this[e(491)]=t+this[e(629)]},h[o(579)][o(486)][o(747)]=function(t,e){const i=o;switch(t){case i(669):this[i(754)](e);break;case"velocity":case i(573):this[i(875)](e,t);break;case i(812):case i(890):this[i(780)](e,t);break;case i(830):this[i(776)](e);break;case i(873):this[i(527)](e);break;case i(792):this._assignRotationValue(e);break;case i(520):this._assignColorValue(e)}},h[o(579)][o(486)][o(754)]=function(t){const e=o,i=h[e(630)],n=h.utils,s=this[e(669)],r=this[e(810)][e(669)],a=s[e(700)],c=s._spread;switch(s[e(786)]){case i[e(554)]:n.randomVector3(r,t,a,c,s[e(553)]);break;case i[e(719)]:n[e(456)](r,t,a,s[e(530)],s[e(869)].x,s[e(566)],s[e(553)].x,s[e(871)]||this[e(629)]);break;case i[e(732)]:n.randomVector3OnDisc(r,t,a,s[e(530)],s[e(869)].x,s._radiusScale,s[e(553)].x);break;case i[e(632)]:n[e(477)](r,t,a,c)}},h.Emitter[o(486)][o(875)]=function(t,e){const i=o;let n,s,r,a,c,l=h[i(630)],u=h[i(595)],f=this[e],p=f[i(700)],d=f._spread;switch(f[i(786)]){case l[i(554)]:u[i(681)](this.attributes[e],t,p,d);break;case l[i(719)]:n=this[i(810)][i(669)][i(726)].array,c=3*t,s=n[c],r=n[c+1],a=n[c+2],u[i(562)](this[i(810)][e],t,s,r,a,this.position._value,f._value.x,f[i(869)].x);break;case l.DISC:n=this.attributes.position.typedArray[i(644)],c=3*t,s=n[c],r=n[c+1],a=n[c+2],u[i(842)](this.attributes[e],t,s,r,a,this[i(669)][i(700)],f[i(700)].x,f._spread.x);break;case l.LINE:u[i(477)](this[i(810)][e],t,p,d)}if(e===i(573)){const e=u[i(550)](u[i(702)](this[i(551)][i(700)],this.drag._spread),0,1);this[i(810)][i(573)][i(726)][i(644)][4*t+3]=e}},h[o(579)].prototype[o(780)]=function(t,e){const i=o;let n,s=this[i(810)][e][i(726)],r=this[e],a=h[i(595)];a[i(693)](r[i(700)])&&a.arrayValuesAreEqual(r[i(869)])?(n=Math[i(914)](a[i(702)](r[i(700)][0],r[i(869)][0])),s[i(862)](t,n,n,n,n)):s[i(862)](t,Math[i(914)](a.randomFloat(r[i(700)][0],r[i(869)][0])),Math[i(914)](a[i(702)](r._value[1],r[i(869)][1])),Math[i(914)](a[i(702)](r[i(700)][2],r._spread[2])),Math[i(914)](a[i(702)](r[i(700)][3],r[i(869)][3])))},h.Emitter[o(486)][o(776)]=function(t){const e=o;let i,n=this.attributes[e(830)][e(726)],s=this[e(830)],r=h[e(595)];r[e(693)](s[e(700)])&&r[e(693)](s[e(869)])?(i=r[e(702)](s[e(700)][0],s[e(869)][0]),n[e(862)](t,i,i,i,i)):n[e(862)](t,r[e(702)](s._value[0],s._spread[0]),r[e(702)](s[e(700)][1],s._spread[1]),r[e(702)](s._value[2],s[e(869)][2]),r[e(702)](s[e(700)][3],s[e(869)][3]))},h.Emitter[o(486)][o(527)]=function(t){const e=o;this[e(810)][e(873)][e(726)][e(862)](t,this[e(508)]?1:0,0,Math.abs(h[e(595)].randomFloat(this[e(588)][e(700)],this.maxAge[e(869)])),h.utils.randomFloat(this.wiggle[e(700)],this.wiggle._spread))},h[o(579)].prototype[o(656)]=function(t){const e=o;this[e(810)][e(792)][e(726)][e(460)](t,h.utils.getPackedRotationAxis(this[e(792)][e(591)],this.rotation[e(686)]),h[e(595)][e(702)](this[e(792)]._angle,this[e(792)][e(850)]),this[e(792)][e(781)]?0:1),this[e(810)].rotationCenter[e(726)][e(524)](t,this[e(792)]._center)},h.Emitter[o(486)][o(758)]=function(t){const e=o;h[e(595)][e(821)](this.attributes[e(520)],t,this.color[e(700)],this.color[e(869)])},h[o(579)][o(486)][o(457)]=function(t){const e=o;let i,n,s=this[e(581)],r=this[e(766)],a=this[e(771)],c=this.attributeKeys;for(let o=this[e(720)]-1;o>=0;--o)i=c[o],n=r[i],!0!==s[i]&&!0!==n||(this[e(747)](i,t),this[e(772)](i,t),!0===n&&a[i]===this.particleCount?(r[i]=!1,a[i]=0):1==n&&++a[i])},h.Emitter[o(486)][o(772)]=function(t,e){const i=o,n=this[i(610)][t];n.min=Math[i(860)](e,n.min),n[i(761)]=Math[i(761)](e,n.max)},h[o(579)][o(486)][o(547)]=function(){const t=o;let e,i=this[t(610)],n=this[t(496)],s=this[t(794)]-1;for(;s>=0;--s)e=n[s],i[e].min=Number[t(484)],i[e][t(761)]=Number[t(743)]},h[o(579)][o(486)][o(893)]=function(){const t=o;this[t(901)]=0,this[t(605)]=0,this[t(526)]=0,this[t(762)]=0,this.group=null,this[t(810)]=null,this[t(557)]=null,this[t(801)]=0},h[o(579)][o(486)][o(773)]=function(){--this.activeParticleCount},h[o(579)].prototype[o(833)]=function(){++this[o(762)]},h[o(579)][o(486)]._checkParticleAges=function(t,e,i,n){const s=o;for(var r,a,c,h,l=e-1;l>=t;--l)0!==(h=i[r=4*l])&&(c=i[r+1],a=i[r+2],1===this.direction?(c+=n)>=a&&(c=0,h=0,this[s(773)]()):(c-=n)<=0&&(c=a,h=0,this._decrementParticleCount()),i[r]=h,i[r+1]=c,this[s(772)](s(873),l))},h.Emitter[o(486)][o(600)]=function(t,e,i,n){const s=o,r=this[s(505)];for(var a,c,h=t;h<e;++h)0!=i[a=4*h]&&1!==this[s(629)]||(this._incrementParticleCount(),i[a]=1,this[s(457)](h),c=n*(h-t),i[a+1]=-1===r?i[a+2]-c:c,this[s(772)](s(873),h))},h[o(579)].prototype[o(889)]=function(t){const e=o;if(this[e(508)])return;null===this[e(557)]&&(this[e(557)]=this[e(810)].params[e(726)].array);const i=this.attributeOffset,n=i+this[e(629)],s=this[e(557)],r=this[e(901)]*this[e(870)]*t,a=this[e(526)];if(this[e(547)](),this[e(899)](i,n,s,t),!1===this[e(847)])return void(this[e(801)]=0);if(null!==this[e(902)]&&this[e(801)]>this[e(902)])return this[e(847)]=!1,void(this[e(801)]=0);const c=1===this.particleCount?a:0|a,h=Math.min(c+r,this[e(491)]),l=h-this[e(526)]|0,u=l>0?t/l:0;this._activateParticles(c,h,s,u),this[e(526)]+=r,this.activationIndex>n&&(this[e(526)]=i),this[e(801)]+=t},h[o(579)][o(486)][o(884)]=function(t){const e=o;if(this[e(801)]=0,this[e(847)]=!1,!0===t){const t=this.attributeOffset,s=t+this[e(629)],r=this[e(557)],o=this.attributes[e(873)][e(885)];for(var i,n=s-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;o[e(641)].offset=0,o[e(641)].count=-1,o.needsUpdate=!0}return this},h[o(579)][o(486)][o(563)]=function(){return this[o(847)]=!0,this},h.Emitter.prototype[o(778)]=function(){return this[o(847)]=!1,this},h[o(579)][o(486)][o(712)]=function(){const t=o;return null!==this[t(882)]?this[t(882)][t(903)](this):console[t(634)](t(770)),this};const l=h;function u(t){function e(t){const i=f;if(typeof t===i(475))return function(t){}[i(668)](i(680)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[i(668)]("debu"+i(789))[i(455)](i(851)):function(){return!1}[i(668)]("debu"+i(789)).apply(i(621)),e(++t)}try{if(t)return e;e(0)}catch(i){}}function f(t,e){const i=p();return(f=function(t,e){return i[t-=455]})(t,e)}function p(){const t=["attributeKeys","disable","usage","_assignAbsLifetimeValue","_static","branchAvoidanceFunctions","length","        float perspective = 1.0;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","_distribution","TypedArray is already of size:","warn","gger","maxParticleCount","vec4 getPosition( in float age ) {","rotation","      rotationMatrix = getRotationMatrix( axis, angle );","bufferUpdateCount","logdepthbuf_vertex","#ifdef SHOULD_ROTATE_TEXTURE","           positionInTime,","   return params.z;","float getAge() {","    #ifdef HAS_PERSPECTIVE","age","typeSizeMap","cos","    return a * b;","boolean","undefined","Vector2","float when_lt(float x, float y) {","        float wiggleSin = isAlive * sin( wiggleAmount );","attributes","fixedTimeStep","size","vec3 unpackColor( in float hex ) {","float getWiggle() {","        float loopCount = textureAnimation.w;","        float framesX = vSpriteSheet.x;","setColor","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","function *\\( *\\)","        float perspective = scale / length( mvPosition.xyz );","randomColorAsHex","    force += vel;","static","  return 1.0 - when_lt(x, y);","emitters","_triggerSingleEmitter","   return params.w;","fog","       float c = cos(angle);","angle","        pos.y += wiggleCos;","REVISION","_incrementParticleCount","16446xauCzq","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","_rotationCenter","ceil","   c.r = r / PACKED_COLOR_DIVISOR;","getPool","spread","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","randomDirectionVector3OnDisc","    #ifdef ALPHATEST","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","addPool","   return velocity * age;","alive","_attributesNeedDynamicReset","OBJECT","_angleSpread","action","info","    }","    varying vec4 vSpriteSheet;","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","angleSpread","isArray","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","_createNewWhenPoolEmpty","min","    return max(sign(x - y), 0.0);","setVec4Components","indexOffset","_calculatePPSValue","       vec3 c = isAlive * getColorOverLifetime(","    highp float value = 0.0;","setUpdateRange","    highp float isAlive = when_gt( alive, 0.0 );","_spread","activeMultiplier","_distributionClamp","unpackRotationAxis","params","    highp float maxAge = getMaxAge();","_assignForceValue","textureLoop","    vec3 accel = getAcceleration( age );","    highp float age = getAge();","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","    pos += force;","offset","group","sin","reset","bufferAttribute","dispose","copy","varyings","tick","opacity","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","getComponentValueAtIndex","_onRemove","setAttribute","setVec2Components","updateMin","ShaderMaterial","float when_gt(float x, float y) {","_checkParticleAges","float and(float a, float b) {","particlesPerSecond","duration","removeEmitter","BufferAttribute","blending","resetDynamic","Vector4","   c *= vec3( 2.0 );","ensureInstanceOf","axisSpread","   vec3 c = vec3( 0.0 );","depthWrite","uniform float deltaTime;","abs","SPE.Group: maxParticleCount exceeded. Requesting","floatOverLifetime","updateMap","535mGYKeo","indexOf","scale","ensureArrayInstanceOf","fragment","_setAttributeOffset","call","randomVector3OnSphere","_resetParticle","SHOULD_WIGGLE_PARTICLES","dynamicBuffer","setVec3Components","releaseIntoPool","defineProperty","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","        vSpriteSheet.y = 1.0 / framesY;","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","__proto__","_randomise","Emitter already belongs to another group. Will not add to requested group.","    vec3 pos = vec3( position );","    force += accel * age;","getFromPool","setFromArray","forceUpdateAll","onParticleSpawn","string","        pos.z += wiggleSin;","randomVector3OnLine","attribute vec4 params;","transparent","rotationCenter","void main() {","    #ifdef SHOULD_ROTATE_PARTICLES","           unpackColor( color.w )","POSITIVE_INFINITY","DynamicDrawUsage","prototype","        float rowNorm = row / framesY;","float when_ge(float x, float y) {","    float shouldApplyValue = 0.0;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","activationEnd","   return params.x;","radiusScale","types","121544WjVXaf","bufferUpdateKeys","flagUpdate","random","round","unpackColor","sqrt","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","StaticDrawUsage","        float rowNorm = vSpriteSheet.w;","direction","    #ifdef SHOULD_CALCULATE_SPRITE","   return acceleration.xyz * age;","isStatic","1321660VsvWZA","SHOULD_CALCULATE_SPRITE","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","fog_pars_vertex","function","BOOLEAN","velocity","lerp","init","grow",'{}.constructor("return this")( )',"color","common","uniform vec4 textureAnimation;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","setVec3","        float framesX = textureAnimation.x;","activationIndex","_assignParamsValue","set","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","_radius","    float fIndex = 0.0;","colorOverLifetime","lerpTypeAgnostic","exports","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","push","fog_fragment","type","    #ifdef COLORIZE","elements","test","    highp float alive = getAlive();","           return pos;","uniform sampler2D tex;","uniform float runTime;","multiplyScalar","_resetBufferRanges","SHOULD_ROTATE_PARTICLES","    return min(a + b, 1.0);","clamp","drag","   c.b = b / PACKED_COLOR_DIVISOR;","_spreadClamp","BOX","uniforms","normalize","paramsArray","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","updateMax","   }","componentSize","randomDirectionVector3OnSphere","enable","#endif","vec3 getVelocity( in float age ) {","_radiusScale","       float y = 1.0 - gl_PointCoord.y - 0.5;","getHex","texture","_updateDefines","        float wiggleAmount = positionInTime * getWiggle();","   return c;","acceleration","       if ( vColor.w < float(ALPHATEST) ) discard;","arrayType","setDrawRange","shrink","288835gvDLbx","Emitter","valueOverLifetimeLength","resetFlags","add","ShaderChunk","count","MathUtils","shaders","forceFetchingFunctions","maxAge","21lTDAqY","       axis = normalize(axis);","_axis","       float s = sin(angle);","distributionClamp","vec3 unpackRotationAxis( in float hex ) {","utils","_createBufferAttribute","setMat3","triggerPoolEmitter","material","_activateParticles","        vSpriteSheet.x = 1.0 / framesX;","        pos.x += wiggleSin;","subarray","input","attributeOffset","setNumber","float or(float a, float b) {","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","_updateUniforms","bufferUpdateRanges","9fWhlTl","TypedArrayConstructor","      vec3 translated;","randomise","    #ifdef SHOULD_WIGGLE_PARTICLES","    vec3 outgoingLight = vColor.xyz;","        float column = floor(mod( frameNumber, framesX ));","    #else","needsUpdate","attribute vec4 color;","stateObject","getValueAtIndex","       float oc = 1.0 - c;","particles, can support only","_pool","       float x = gl_PointCoord.x - 0.5;","axis","    #endif","particleCount","distributions","interpolateArray","LINE","rotationFunctions","error","6DjqOCZ","  return 1.0 - when_gt(x, y);","        float framesY = vSpriteSheet.y;","NUMBER","AdditiveBlending","alphaTest","updateRange","unshift","ensureArrayTypedArg","array","ShaderAttribute","_ensureTypedArray","Texture","Points","textureFrames","    #ifdef SHOULD_ROTATE_TEXTURE","paramFetchingFunctions","    return 1.0 - abs( sign( x - y ) );","number","ensureValueOverLifetimeCompliance","    gl_PointSize = pointSizePerspective;","_assignRotationValue","shaderChunks","varying vec4 vColor;","toString","    varying float vAngle;","apply","#define PACKED_COLOR_SIZE 256.0","Color","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","value","pop","attribute vec4 size;","constructor","position","keys","    return value;","      translated = rotationCenter - pos;","log","setVec4","TypedArrayHelper","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","setRGB","bind","geometry","while (true) {}","randomVector3","1176qlkpEM","distribution","exception","    vec3 vel = getVelocity( age );","_axisSpread","        float columnNorm = column / framesX;","           unpackColor( color.z ),","splice","        float totalFrames = textureAnimation.z;","uniform float scale;","floor","arrayValuesAreEqual","BufferGeometry","_createGetterSetters","setVec2","686838ZrmePV","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","deltaTime","_value","`emitter` argument must be instance of SPE.Emitter. Was provided with:","randomFloat","      vec3 axis = unpackRotationAxis( rotation.x );","    float pointSizePerspective = pointSize * perspective;","fog_pars_fragment","        vSpriteSheet.w = rowNorm;","uuid","radius","attribute vec4 opacity;","fog_vertex","Vector3","remove","                   0.0,                                0.0,                                0.0,                                1.0);","      float angle = 0.0;","colorize","emitterIDs","Invalid argument types, or argument types do not match:","ensureTypedArg","SPHERE","attributeCount","Emitter does not exist in this group. Will not remove.","        float columnNorm = vSpriteSheet.z;","    vec4 rotatedTexture = texture2D( tex, vUv );","SHOULD_ROTATE_TEXTURE","_updateBuffers","typedArray","textureFrameCount","depthTest","   float b = mod( hex, PACKED_COLOR_SIZE );","resetUpdateRange","join","DISC","console","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","attributeEnd","center","attribute vec4 angle;","        vSpriteSheet.z = columnNorm;","setMat4","rotateTexture","spe","NEGATIVE_INFINITY","_attributesNeedRefresh","       fIndex = float( i );","Argument is not instanceof SPE.Emitter:","_assignValue","Group","14584933HgPrqX","replace","hasPerspective","roundToNearestMultiple","_poolCreationSettings","_assignPositionValue","addEmitter","        float row = floor( (frameNumber - column) / framesX );","       float s = sin( -vAngle );","_assignColorValue","object","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","max","activeParticleCount","wiggle","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","defines","updateFlags","clone","           unpackColor( color.x ),","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","Emitter does not belong to a group, cannot remove.","updateCounts","_updateAttributeUpdateRange","_decrementParticleCount","hasOwnProperty","_setBufferUpdateRanges","_assignAngleValue"];return(p=function(){return t})()}export{l as _};
