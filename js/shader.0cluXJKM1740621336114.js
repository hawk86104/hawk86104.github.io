import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.Td0X-dew1740621336114.js";import{_ as s,b as i,y as a,a0 as c,aX as u}from"./three.sXv6UbbL1740621336114.js";import{P as l}from"./tweakpane.yDiyAAkA1740621336114.js";import{L as f}from"./three-subdivide.86jXJFpm1740621336114.js";import{d as p,b as d,a2 as g,w as m,o as h,H as v,N as y,aj as b,ak as w,a3 as I,r as _,e as M,f as x,g as T,j,u as S,m as B,M as C}from"./@vue.NRI7TcgI1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";const k=N;!function(n,t){const e=N,r=F();for(;;)try{if(948187===parseInt(e(175))/1*(-parseInt(e(180))/2)+parseInt(e(190))/3*(-parseInt(e(170))/4)+parseInt(e(148))/5*(-parseInt(e(169))/6)+-parseInt(e(188))/7+-parseInt(e(155))/8+-parseInt(e(182))/9*(parseInt(e(151))/10)+parseInt(e(153))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(157)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){A(this,(function(){const n=N,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=R("init");t[n(174)](r+n(146))&&e.test(r+n(150))?R():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(157)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function N(n,t){const e=F();return(N=function(n,t){return e[n-=137]})(n,t)}E(void 0,(function(){const n=N;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(181)]=t.console||{},r=[n(166),n(138),n(149),n(193),"exception",n(158),n(164)];for(let s=0;s<r.length;s++){const t=E[n(162)].prototype.bind(E),o=r[s],i=e[o]||t;t[n(141)]=E[n(187)](E),t[n(178)]=i.toString[n(187)](i),e[o]=t}}))();const z=[k(186)];function F(){const n=["glowColor","log","stateObject","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","6surxaX","5620CYwHYr","blending","clone","attributes","test","390695FdqLjm","call","viewVector","toString","Color","2NArYEo","console","1017DuXEZD","debu","color","position","scale","bind","3442621WKanli","subdivision","3987VhCOGK","action","uniforms","error","value","modify","shineShader","warn","srcMesh","counter","__proto__","side","FrontSide","material","#ffff00","chain","TresShaderMaterial","6464055eYGqtn","info","input","119160oSVpAt","geometry","72057854EMTJNL","AdditiveBlending","1707720cxcBtz","copy","apply","table","length","gger","while (true) {}","constructor","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","trace"];return(F=function(){return n})()}const V=p({__name:k(137),props:{srcMesh:{},scale:{default:1.2},color:{default:k(145)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[k(143)]},blending:{default:s[k(154)]}},setup(e){const r=k,o=e,a=d(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(179)])(o[r(184)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(168),fragmentShader:r(163),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(171)]};g((()=>{const n=r;if(o[n(139)]&&a[n(194)]&&!a[n(194)][n(152)][n(173)][n(185)]){let t=o[n(139)][n(152)][n(172)]();o[n(189)]&&(t=f[n(195)](t,2)),a[n(194)].geometry=t,a.value.position[n(156)](o.srcMesh[n(185)])}o.color&&(c[n(192)][n(165)].value=new(s[n(179)])(o.color)),o.c&&(c[n(192)].c[n(194)]=o.c),o.p&&(c.uniforms.p.value=o.p)})),m((()=>o[r(189)]),(n=>{const t=r;let e=o[t(139)][t(152)][t(172)]();n&&(e=f[t(195)](e,2)),a[t(194)][t(152)]=e})),m((()=>o[r(142)]),(n=>{const t=r;a.value[t(144)].side=n})),m((()=>o[r(171)]),(n=>{const t=r;a[t(194)][t(144)][t(171)]=n}));const{onLoop:u}=n(),{camera:l}=t();return u((()=>{const n=r;l[n(194)]&&a[n(194)]&&(c[n(192)][n(177)].value=(new i).subVectors(l[n(194)][n(185)],a[n(194)].position))})),(n,t)=>{const e=r;return h(),v("TresMesh",{ref_key:"TSGref",ref:a,scale:o[e(186)]},[y(e(147),b(w(c)),null,16)],8,z)}}});function R(n){function t(n){const e=N;if("string"==typeof n)return function(n){}[e(162)](e(161))[e(157)](e(140));1!==(""+n/n)[e(159)]||n%20==0?function(){return!0}[e(162)]("debugger")[e(176)](e(191)):function(){return!1}.constructor(e(183)+e(160))[e(157)](e(167)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=O;!function(n,t){const e=O,r=H();for(;;)try{if(471997===parseInt(e(268))/1*(parseInt(e(313))/2)+-parseInt(e(287))/3+-parseInt(e(284))/4*(parseInt(e(269))/5)+-parseInt(e(285))/6*(parseInt(e(283))/7)+-parseInt(e(286))/8*(-parseInt(e(310))/9)+-parseInt(e(298))/10+-parseInt(e(273))/11*(-parseInt(e(261))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Z(this,(function(){const n=O,t=new RegExp(n(296)),e=new RegExp(n(311),"i"),r=$(n(300));t[n(289)](r+"chain")&&e.test(r+n(292))?$():r("0")}))()}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[O(270)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function O(n,t){const e=H();return(O=function(n,t){return e[n-=256]})(n,t)}L(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function("return (function() "+n(305)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(315)]||{},r=[n(294),n(303),n(263),n(276),n(304),n(317),"trace"];for(let o=0;o<r[n(266)];o++){const t=L.constructor[n(291)].bind(L),s=r[o],i=e[s]||t;t[n(295)]=L.bind(L),t[n(258)]=i.toString.bind(i),e[s]=t}}))();const D=["map"],Y=[G(271)];function H(){const n=["map","TresMeshRefB","11aFjxFw","string","addBinding","error","shader","TresBoxGeometry","constructor","logo.png","TresCanvas","TreBoxRef","784RThorO","1927472uXEmld","762wnOsOS","24TSbQYQ","2153946hjEiCR","#222","test","TresMesh","prototype","input","value","log","__proto__","function *\\( *\\)","action","500420BFIFLD","stateObject","init","TresSphereGeometry","instance","warn","exception",'{}.constructor("return this")( )',"blending","#0ff","AdditiveBlending","BackSide","384723ZgfmGi","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","2NjEZcV","side","console","TresMeshRefA","table","debu","scale","call","toString","TresGridHelper","TresPerspectiveCamera","14051868HzkDpy","NormalBlending","info","srcMesh","gger","length","边缘处理","436883GZrlUI","5VCJNfr","apply"];return(H=function(){return n})()}const X=p({__name:G(277),async setup(n){const t=G;let i,f;const p={clearColor:t(288)},g=d(),m=d(),v=d(),b=([i,f]=I((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(280)]))),i=await i,f(),i),w=_({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:a,blending:s[t(308)]}),k=new l({title:"参数",expanded:!0});return k[t(275)](w,"color",{label:"颜色"}),k[t(275)](w,t(256),{label:"大小",min:1,max:3,step:.2}),k[t(275)](w,"subdivision",{label:t(267)}),k[t(275)](w,"c",{label:"c",min:0,max:2,step:.1}),k[t(275)](w,"p",{label:"p",min:0,max:8,step:.2}),k[t(275)](w,t(314),{options:{FrontSide:a,BackSide:s[t(309)],DoubleSide:c}}),k[t(275)](w,t(306),{options:{AdditiveBlending:u,NormalBlending:s[t(262)]}}),(n,o)=>{const s=t,i=M(s(281));return h(),x(i,B(p,{"window-size":""}),{default:T((()=>[o[2]||(o[2]=y(s(260),{position:[5,5,5]},null,-1)),o[3]||(o[3]=y("TresAmbientLight",{intensity:1},null,-1)),j(S(e)),o[4]||(o[4]=y(s(259),{args:[10,10]},null,-1)),y(s(290),{ref_key:s(316),ref:g,position:[-2,1,0]},[o[0]||(o[0]=y(s(301),{args:[1,32,16]},null,-1)),y("TresMeshBasicMaterial",{map:S(b)[0]},null,8,D)],512),j(V,B({srcMesh:g[s(293)]},w),null,16,[s(264)]),j(S(r),{ref_key:s(282),ref:v,args:[1,1,1],position:[2,1,0]},{default:T((()=>[y("TresMeshBasicMaterial",{map:S(b)[1]},null,8,Y)])),_:1},512),v.value&&v[s(293)].instance?(h(),x(V,B({key:0,srcMesh:v[s(293)][s(302)]},w),null,16,[s(264)])):C("",!0),y(s(290),{ref_key:s(272),ref:m,position:[0,1,-2]},o[1]||(o[1]=[y(s(278),{args:[1,1,1,1,1]},null,-1),y("TresMeshBasicMaterial",{color:s(307)},null,-1)]),512),j(V,B({srcMesh:m.value},w),null,16,[s(264)])])),_:1},16)}}});function $(n){function t(n){const e=O;if(typeof n===e(274))return function(n){}[e(279)](e(312))[e(270)]("counter");1!==(""+n/n)[e(266)]||n%20==0?function(){return!0}.constructor(e(318)+e(265))[e(257)](e(297)):function(){return!1}[e(279)](e(318)+"gger")[e(270)](e(299)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{X as default};
