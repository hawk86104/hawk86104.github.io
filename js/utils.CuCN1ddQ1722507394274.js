import{a as t,B as n,q as e,c1 as o,C as r,j as s,Z as i}from"./three.Brogx0uK1722507394274.js";import{x as c}from"./@fesjs.HUfyfxyE1722507394274.js";import{N as a}from"./@tresjs.bNNpPzYW1722507394274.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.1z_sibLA1722507394274.js";!function(t,n){const e=h,o=w();for(;;)try{if(382171===-parseInt(e(452))/1+-parseInt(e(427))/2+parseInt(e(455))/3+-parseInt(e(441))/4*(-parseInt(e(423))/5)+-parseInt(e(464))/6+-parseInt(e(433))/7*(-parseInt(e(458))/8)+-parseInt(e(440))/9*(parseInt(e(430))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(442)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(t,n){const e=w();return(h=function(t,n){return e[t-=404]})(t,n)}!function(){l(this,(function(){const t=h,n=new RegExp(t(435)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=_(t(411));n[t(416)](o+t(467))&&e.test(o+"input")?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(442)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=h;let n;try{n=Function(t(461)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(420)]=n.console||{},o=[t(404),t(449),t(478),t(447),t(419),t(473),t(445)];for(let s=0;s<o[t(471)];s++){const n=m[t(432)][t(453)][t(409)](m),r=o[s],i=e[r]||n;n[t(462)]=m.bind(m),n[t(412)]=i.toString.bind(i),e[r]=n}}))();const g=(n,e=!1)=>{const o=h;n[o(477)]();const{max:r,min:s}=n.boundingBox;n[o(451)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(448)][o(482)][o(434)];t++)e?(a[o(463)]((n[o(448)][o(482)][o(469)](t)-(s.x+r.x)/2)/i),a.push((n.attributes[o(482)].getY(t)-(s.y+r.y)/2)/c)):(a.push((n.attributes.position[o(469)](t)-s.x)/i),a.push((n[o(448)][o(482)][o(481)](t)-s.y)/c));const u=new Float32Array(a);n[o(456)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=h;c(t,{},{method:r(454),mergeRequest:!0})[r(439)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[r(447)](t),o(t)}))}));function w(){const t=["depthTest","8SAWUtK","string","children","return (function() ","__proto__","push","2249154pnqqiN","copy","debu","chain","uniforms","getX","raycast","length","stateObject","table","while (true) {}","add","action","computeBoundingBox","info","divideScalar","boundingBox","getY","position","log","negate","side","set","applyMatrix4","bind","min","init","toString","setFromObject","disposeBoundsTree","depthWrite","test","getCenter","gger","exception","console","max","reflectivity","2987875zapGhM","computeBoundsTree","material","config","1131376FcMxHt","geometry","#fff","1517290cHOIdU","center","constructor","3204691OkSUvk","count","function *\\( *\\)","getSize","value","call","then","9rhCmAO","4ajhZHv","apply","sub","forEach","trace","Vector3","error","attributes","warn","random","deleteAttribute","145920iCOyiO","prototype","get","1694937WKmddC","setAttribute"];return(w=function(){return t})()}const x=t=>{const n=h,e=(new THREE.Box3)[n(413)](t),o=new(THREE[n(446)]);e.getCenter(o),t[n(460)][n(444)]((t=>{t.position.sub(o)})),t[n(482)][n(465)](o[n(405)]())},y=()=>{const t=h;n[t(453)][t(424)]=u,n[t(453)][t(414)]=f,e[t(453)][t(470)]=p},b=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(428)].clone();g(c),c[n(424)]();const u=new o(c,{color:new r(n(429)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material.transparent=!0,u.material[n(415)]=!0,u[n(425)][n(457)]=!0,u.material[n(406)]=i,u[n(425)].uniforms[n(426)][n(437)].w=20,u[n(425)][n(468)][n(422)].value=.46,u};function j(t){const n=h,e=[];for(let r=0;r<t[n(471)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(471)];r++)o[n(475)](e[r]);o[n(479)](e[n(471)]);for(let r=0;r<e.length;r++)e[r][n(443)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=h;if(typeof t===e(459))return function(t){}[e(432)](e(474))[e(442)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(466)+e(418))[e(438)](e(476)):function(){return!1}.constructor(e(466)+e(418))[e(442)](e(472)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,y as i,d as l,g as r,b as s};
