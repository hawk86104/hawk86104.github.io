import{B as e,Q as o}from"./three.quarks.CLwMcEax1752457528298.js";import{i as s}from"./index.28NlFPHI1752457528298.js";import"./index.CEkoY90U1752457528298.js";import{e as r,a as t}from"./@tresjs.CutcgRLX1752457528298.js";import{P as a}from"./tweakpane.C0HtAJSg1752457528298.js";import"./index.C3O8lKBd1752457528298.js";import{d as i,w as n,G as l,o as p,F as m,I as c,u,r as d,h as j,j as f,f as h,e as g,H as y,m as v,a4 as M}from"./@vue.CcDZ19ef1752457528298.js";import{f as w,C as b,t as _}from"./three.DOaOWaa_1752457528298.js";import{a as T}from"./quarks.core.Xz3FZi7v1752457528298.js";import{l as C}from"./yangyangLoading.BBO92wuf1752457528298.js";import{_ as k}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.B1ti03Dd1752457528298.js";import"./utils.BMJFJ69p1752457528298.js";import"./@fesjs.t5OnzKcQ1752457528298.js";import"./vue-router.8pdmj1nv1752457528298.js";import"./lodash-es.C7pWAXPe1752457528298.js";import"./@qlin.q6OWdsQV1752457528298.js";import"./pinia.D2lIig6I1752457528298.js";import"./@babel.BPq7uOAK1752457528298.js";import"./@floating-ui.BFjFSAYt1752457528298.js";import"./@juggle.CcBCnTIR1752457528298.js";import"./three-mesh-ui.module.BXFGKuQq1752457528298.js";import"./postprocessing.BhLg8VAN1752457528298.js";import"./@vueuse.D5pFWdqo1752457528298.js";import"./all.three.DW_Kslxn1752457528298.js";import"./oimophysics.BBtHVm4j1752457528298.js";import"./reflectorDiffuse.Ydsz-YFH1752457528298.js";import"./vite-plugin-qiankun.B06WoCqG1752457528298.js";import"./index.BK5326_A1752457528298.js";import"./object-hash.i0UzGAXb1752457528298.js";import"./@amap.CGUF9xH41752457528298.js";import"./jszip.D2VcMNWo1752457528298.js";import"./three-stdlib.ck7BW5PC1752457528298.js";import"./whiteFloor.Cg9_B5fp1752457528298.js";const B=["object"],x=["object","position","scale","rotation"],P=i({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(o){const t=o,a=e=>{const o=new b(t.color),s=new _(o.r,o.g,o.b,e);return new T(s)},i=new e,d=new w,j=s.getItem("CartoonMagicZone.json").clone(!0);j.traverse((e=>{if("ParticleEmitter"===e.type){"BasicZoneRedEmitter"===e.name&&e.rotation.set(Math.PI/2,0,0);const o=e.system;o.startColor=a(o.startColor.color.w),i.addSystem(o)}})),"ParticleEmitter"===j.type&&i.addSystem(j.system),d.add(j);const{onLoop:f}=r();return f((({delta:e})=>{i.update(e)})),n((()=>[t.color]),(([e])=>{i.systemToBatchIndex.forEach(((e,o)=>{o.startColor=a(o.startColor.color.w)}))})),(e,o)=>(p(),l(m,null,[c("primitive",{object:u(d)},null,8,B),c("primitive",{object:u(i),position:e.position,scale:e.scale,rotation:e.rotation},null,8,x)],64))}}),q=i({__name:"customLoading",setup(e){const r=d({reflectivity:.1,showGridHelper:!0,scale:1}),i=d({color:"#ffffff",scale:1});s.loaderMapping.QuarksLoader=o,s.loadResources([{functionName:"QuarksLoader",url:"./plugins/floor/json/CartoonMagicZone.json"}]);const n=new a;return n.addBinding(i,"color",{label:"颜色"}),n.addBinding(i,"scale",{label:"大小",min:.1,max:3,step:.1}),(e,o)=>{const a=j("TresCanvas");return p(),l(m,null,[f(u(C),{useResourceManager:""}),f(a,{clearColor:"#201919","window-size":""},{default:h((()=>[o[0]||(o[0]=c("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),f(u(t),{enableDamping:""}),u(s).hasAllFinished.value?(p(),g(P,v({key:0},i,{position:[0,0,0]}),null,16)):y("",!0),u(s).hasAllFinished.value?(p(),g(P,{key:1,color:"red",position:[3,0,0],rotation:[-Math.PI,1,45]},null,8,["rotation"])):y("",!0),u(s).hasAllFinished.value?(p(),g(P,{key:2,color:"green",position:[-2,0,0]})):y("",!0),o[1]||(o[1]=c("TresMesh",{position:[3,0,0]},[c("TresSphereGeometry",{args:[1,32,32]}),c("TresMeshBasicMaterial",{color:"red"})],-1)),o[2]||(o[2]=c("TresMesh",{position:[-2,0,0]},[c("TresSphereGeometry",{args:[1,32,32]}),c("TresMeshBasicMaterial",{color:"green"})],-1)),o[3]||(o[3]=c("TresMesh",{position:[0,0,0]},[c("TresSphereGeometry",{args:[1,32,32]}),c("TresMeshBasicMaterial",{color:"white"})],-1)),(p(),g(M,null,{default:h((()=>[f(u(k),v({position:[0,-.5,0]},r),null,16)])),_:1}))])),_:1})],64)}}});export{q as default};
