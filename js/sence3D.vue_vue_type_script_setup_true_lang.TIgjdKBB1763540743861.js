import{bX as e,z as a,cS as s}from"./three.rXKzP9fQ1763540743861.js";import{K as o,o as t}from"./@tresjs.BCHtwiaC1763540743861.js";import"./index.CJ5-9CVy1763540743861.js";import{i as r}from"./index.Crdf3MNx1763540743861.js";import{_ as l}from"./machine.vue_vue_type_script_setup_true_lang.CGK7L3Lt1763540743861.js";import{_ as u}from"./gear.vue_vue_type_script_setup_true_lang.DaJTbWPP1763540743861.js";import{_ as i}from"./effect.vue_vue_type_script_setup_true_lang.DSKb2fYC1763540743861.js";import{_ as n}from"./room.vue_vue_type_script_setup_true_lang.BLNrRewo1763540743861.js";import{_ as m}from"./people.vue_vue_type_script_setup_true_lang.CjDSFJaG1763540743861.js";import{_ as p}from"./env.vue_vue_type_script_setup_true_lang.MxaOew-r1763540743861.js";import c from"./button.tDNr6u8A1763540743861.js";import v from"./yangyangLoading.cHvVsM8o1763540743861.js";import{d as _,r as d,a as g,w as f,H as h,o as y,F as T,h as I,u as L,e as M,J as b,b as F,I as P,ac as j,ao as D,ad as w,m as A}from"./@vue.Co_gxueH1763540743861.js";const R=_({__name:"sence3D",setup(_){const R=d({clearColor:"#888888",alpha:!0,shadows:!0,shadowMapType:s,outputColorSpace:a,toneMapping:e,renderMode:"manual"}),k=d({enableDamping:!0,dampingFactor:.05,enableZoom:!0,makeDefault:!0,maxPolarAngle:2.5*Math.PI/6,minPolarAngle:2*Math.PI/6,maxAzimuthAngle:4*Math.PI/6,minAzimuthAngle:1*-Math.PI/6,maxDistance:18,minDistance:6});r.loadResources([{functionName:"GLTFLoader",url:"./plugins/eMRIscan/model/mriScaner/扫描部分.glb",resourceID:"扫描部分"},{functionName:"GLTFLoader",url:"./plugins/eMRIscan/model/mriScaner/床底.glb",resourceID:"床底"},{functionName:"GLTFLoader",url:"./plugins/eMRIscan/model/mriScaner/上床.glb",resourceID:"上床"},{functionName:"GLTFLoader",url:"./plugins/eMRIscan/model/gear-v1.glb",resourceID:"gear"},{functionName:"GLTFLoader",url:"./plugins/eMRIscan/model/sci-fi_interior_room.glb",resourceID:"room"},{functionName:"GLTFLoader",url:"./plugins/eMRIscan/model/people/p.gltf",resourceID:"people"},{functionName:"TextureLoader",url:"./plugins/eMRIscan/images/envmap.jpg",resourceID:"envmap"}]);const S=g("stopped"),x=g(),N=g(),G=g(),z=g();f(z,e=>{e&&(e.shadow.mapSize.set(1e3,1e3),e.shadow.camera.near=.5,e.shadow.camera.far=5e4,e.shadow.camera.top=2,e.shadow.camera.right=2,e.shadow.camera.left=-2,e.shadow.camera.bottom=-2)}),f(()=>r.hasAllFinished.value,e=>{e&&setTimeout(()=>{G?.value?.senceStarted()},100)});const C=()=>{"stopped"===S.value&&(S.value="start",x?.value?.positivePlay(),setTimeout(()=>{N?.value?.positivePlay(),x?.value?.positiveMove(),setTimeout(()=>{N?.value?.toFaden(),setTimeout(()=>{G?.value?.positivePlay(),G?.value?.cFlyTo(),setTimeout(()=>{x?.value?.scanPlay(),S.value="started"},600)},800)},5100)},6600))},B=()=>{"started"===S.value&&(S.value="stopp",x?.value?.scanPause(),G?.value?.negativePlay(),setTimeout(()=>{N?.value?.toShow(),G?.value?.cFlyOut(),setTimeout(()=>{N?.value?.negativePlay(),x?.value?.negativeMove(),setTimeout(()=>{x?.value?.negativePlay(),setTimeout(()=>{S.value="stopped"},6600)},5100)},800)},3100))};return(e,a)=>(y(),h(T,null,[I(L(v),{useResourceManager:""}),I(L(t),A(R,{"window-size":""}),{default:M(()=>[a[0]||(a[0]=b("TresPerspectiveCamera",{position:[1,12,28],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),I(L(o),j(D(k)),null,16),a[1]||(a[1]=b("TresAmbientLight",{intensity:20},null,-1)),a[2]||(a[2]=b("TresDirectionalLight",{position:[8,6,0],intensity:3},null,-1)),a[3]||(a[3]=b("TresDirectionalLight",{position:[0,6,8],intensity:3},null,-1)),b("TresDirectionalLight",{ref_key:"rdLight",ref:z,position:[3,6,8],intensity:1,color:"#99cc",castShadow:""},null,512),L(r).hasAllFinished.value?(y(),F(u,{key:0,ref_key:"gearRef",ref:G},null,512)):P("",!0),L(r).hasAllFinished.value?(y(),F(l,{key:1,ref_key:"machineRef",ref:N},null,512)):P("",!0),L(r).hasAllFinished.value?(y(),F(n,{key:2})):P("",!0),L(r).hasAllFinished.value?(y(),F(m,{key:3,ref_key:"peopleRef",ref:x},null,512)):P("",!0),I(i),(y(),F(w,null,{default:M(()=>[I(p)]),_:1}))]),_:1},16),I(c,{fun:{goPlay:C,goStop:B},curMode:S.value},null,8,["fun","curMode"])],64))}});export{R as _};
