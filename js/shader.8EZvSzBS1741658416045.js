import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.W3PFJhMo1741658416045.js";import{_ as i,aX as s,C as a,K as c}from"./three.FyUEtfsR1741658416045.js";import{P as u}from"./tweakpane.yDiyAAkA1741658416045.js";import{L as l}from"./three-subdivide.sJx-RpC71741658416045.js";import{d as f,b as p,a2 as d,w as m,o as g,H as h,N as v,aj as y,ak as b,a3 as w,r as _,e as M,f as x,g as T,j as I,u as j,m as S,M as k}from"./@vue.NRI7TcgI1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";const B=V;!function(n,t){const e=V,o=C();for(;;)try{if(356242===-parseInt(e(301))/1+-parseInt(e(257))/2*(parseInt(e(279))/3)+-parseInt(e(276))/4*(-parseInt(e(271))/5)+-parseInt(e(288))/6+parseInt(e(283))/7+parseInt(e(259))/8+parseInt(e(254))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(290)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function C(){const n=["counter","#ffff00","3218490XUXEMk","uniforms","apply","log","test","gger","modify","scale","warn","toString","init","table","error","529630UsTrHo","position","Vector3","blending","trace","FrontSide","side","TresMesh","material","console","debu","shineShader","9345420PIVNFw","length","stateObject","2CCjSxD","exception","1070504JjhgtK","clone","srcMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","chain","constructor","while (true) {}","bind","input","function *\\( *\\)","call","1343445ngzzxT","geometry","viewVector","prototype","value","4dATjAo","subdivision","attributes","1001184ebWwkd","color","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","__proto__","2205931mQWypx",'{}.constructor("return this")( )',"action"];return(C=function(){return n})()}!function(){A(this,(function(){const n=V,t=new RegExp(n(269)),e=new RegExp(n(262),"i"),o=G(n(298));t[n(292)](o+n(264))&&e[n(292)](o+n(268))?G():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(290)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();z(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function("return (function() "+n(284)+");")()}catch(e){t=window}return t}(),e=t[n(310)]=t.console||{},o=[n(291),n(296),"info",n(300),n(258),n(299),n(305)];for(let r=0;r<o[n(255)];r++){const t=z.constructor[n(274)][n(267)](z),i=o[r],s=e[i]||t;t[n(282)]=z.bind(z),t[n(297)]=s[n(297)][n(267)](s),e[i]=t}}))();const N=[B(295)];function V(n,t){const e=C();return(V=function(n,t){return e[n-=252]})(n,t)}const F=f({__name:B(253),props:{srcMesh:{},scale:{default:1.2},color:{default:B(287)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(306)]},blending:{default:s}},setup(e){const o=B,r=e,s=p(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new a(r[o(280)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:o(281),side:r[o(307)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};d((()=>{const n=o;if(r[n(261)]&&s[n(275)]&&!s[n(275)][n(272)][n(278)][n(302)]){let t=r[n(261)].geometry[n(260)]();r[n(277)]&&(t=l[n(294)](t,2)),s[n(275)].geometry=t,s[n(275)][n(302)].copy(r[n(261)][n(302)])}r[n(280)]&&(c[n(289)].glowColor.value=new a(r[n(280)])),r.c&&(c[n(289)].c[n(275)]=r.c),r.p&&(c[n(289)].p[n(275)]=r.p)})),m((()=>r[o(277)]),(n=>{const t=o;let e=r[t(261)][t(272)][t(260)]();n&&(e=l.modify(e,2)),s.value[t(272)]=e})),m((()=>r[o(307)]),(n=>{s[o(275)].material.side=n})),m((()=>r[o(304)]),(n=>{const t=o;s[t(275)][t(309)][t(304)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=o;f[n(275)]&&s[n(275)]&&(c[n(289)][n(273)].value=(new(i[n(303)])).subVectors(f.value[n(302)],s.value[n(302)]))})),(n,t)=>{const e=o;return g(),h(e(308),{ref_key:"TSGref",ref:s,scale:r.scale},[v("TresShaderMaterial",y(b(c)),null,16)],8,N)}}});function G(n){function t(n){const e=V;if(typeof n===e(263))return function(n){}[e(265)](e(266))[e(290)](e(286));1!==(""+n/n)[e(255)]||n%20==0?function(){return!0}[e(265)](e(252)+e(293))[e(270)](e(285)):function(){return!1}[e(265)](e(252)+e(293)).apply(e(256)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=X;!function(n,t){const e=X,o=Z();for(;;)try{if(575731===-parseInt(e(159))/1+-parseInt(e(160))/2+parseInt(e(157))/3*(parseInt(e(167))/4)+-parseInt(e(174))/5*(-parseInt(e(137))/6)+parseInt(e(182))/7+parseInt(e(138))/8+-parseInt(e(144))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(180)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function X(n,t){const e=Z();return(X=function(n,t){return e[n-=131]})(n,t)}function Z(){const n=["value","string","TresSphereGeometry","instance","color","TresMesh","logo.png","constructor","1032582swwITf","2376296uBLGdk","console","addBinding","call","input","init","12048696FySLWQ","TresCanvas","toString","table","__proto__","exception","TresMeshRefB","prototype","DoubleSide","error","AdditiveBlending","srcMesh","info","2982423pNGBbk","边缘处理","136520SqXpXm","1106548qqoWoS","TresMeshBasicMaterial","debu","test","FrontSide","counter","warn","4OkrGXu","length","scale","#222","TresMeshRefA","TresGridHelper","TresAmbientLight","5tnbZVK","side","#00dfff","shader","blending","gger","apply","map","7986958gZbMAy","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TreBoxRef","NormalBlending","function *\\( *\\)","action","stateObject"];return(Z=function(){return n})()}!function(){E(this,(function(){const n=X,t=new RegExp(n(187)),e=new RegExp(n(184),"i"),o=q(n(143));t[n(163)](o+"chain")&&e[n(163)](o+n(142))?q():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(180)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();L(void 0,(function(){const n=X;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(139)]=t[n(139)]||{},o=["log",n(166),n(156),n(153),n(149),n(147),"trace"];for(let i=0;i<o[n(168)];i++){const t=L[n(136)][n(151)].bind(L),r=o[i],s=e[r]||t;t[n(148)]=L[n(183)](L),t[n(146)]=s[n(146)][n(183)](s),e[r]=t}}))();const W=[R(181)],P=["map"],$=f({__name:R(177),async setup(n){const t=R;let s,a;const l={clearColor:t(170)},f=p(),d=p(),m=p(),h=([s,a]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(135)]))),s=await s,a(),s),y=_({scale:1.6,color:t(176),subdivision:!0,c:1.1,p:1.4,side:i[t(164)],blending:i[t(154)]}),b=new u({title:"参数",expanded:!0});return b[t(140)](y,t(133),{label:"颜色"}),b[t(140)](y,t(169),{label:"大小",min:1,max:3,step:.2}),b.addBinding(y,"subdivision",{label:t(158)}),b[t(140)](y,"c",{label:"c",min:0,max:2,step:.1}),b[t(140)](y,"p",{label:"p",min:0,max:8,step:.2}),b[t(140)](y,t(175),{options:{FrontSide:i[t(164)],BackSide:c,DoubleSide:i[t(152)]}}),b.addBinding(y,t(178),{options:{AdditiveBlending:i[t(154)],NormalBlending:i[t(186)]}}),(n,r)=>{const i=t,s=M(i(145));return g(),x(s,S(l,{"window-size":""}),{default:T((()=>[r[2]||(r[2]=v("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=v(i(173),{intensity:1},null,-1)),I(j(e)),r[4]||(r[4]=v(i(172),{args:[10,10]},null,-1)),v("TresMesh",{ref_key:i(171),ref:f,position:[-2,1,0]},[r[0]||(r[0]=v(i(131),{args:[1,32,16]},null,-1)),v(i(161),{map:j(h)[0]},null,8,W)],512),I(F,S({srcMesh:f[i(190)]},y),null,16,["srcMesh"]),I(j(o),{ref_key:i(185),ref:m,args:[1,1,1],position:[2,1,0]},{default:T((()=>[v("TresMeshBasicMaterial",{map:j(h)[1]},null,8,P)])),_:1},512),m[i(190)]&&m[i(190)][i(132)]?(g(),x(F,S({key:0,srcMesh:m[i(190)].instance},y),null,16,[i(155)])):k("",!0),v(i(134),{ref_key:i(150),ref:d,position:[0,1,-2]},r[1]||(r[1]=[v("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),v(i(161),{color:"#0ff"},null,-1)]),512),I(F,S({srcMesh:d[i(190)]},y),null,16,[i(155)])])),_:1},16)}}});function q(n){function t(n){const e=X;if(typeof n===e(191))return function(n){}[e(136)]("while (true) {}")[e(180)](e(165));1!==(""+n/n)[e(168)]||n%20==0?function(){return!0}[e(136)](e(162)+e(179))[e(141)](e(188)):function(){return!1}[e(136)](e(162)+e(179))[e(180)](e(189)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
