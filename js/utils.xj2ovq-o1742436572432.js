import{c as t,B as n,r as e,c7 as o,C as r,V as s,a0 as c}from"./three.RUAk_tvU1742436572432.js";import{w as i}from"./@fesjs.40Mt4LlK1742436572432.js";import{a}from"./@tresjs.Uh9iM8du1742436572432.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.OK1RUacG1742436572432.js";!function(t,n){const e=h,o=y();for(;;)try{if(464390===-parseInt(e(180))/1*(-parseInt(e(222))/2)+-parseInt(e(166))/3*(parseInt(e(205))/4)+-parseInt(e(191))/5+parseInt(e(161))/6+-parseInt(e(188))/7+-parseInt(e(182))/8*(-parseInt(e(179))/9)+-parseInt(e(230))/10*(-parseInt(e(176))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=h,n=new RegExp(t(171)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=I("init");n.test(o+t(233))&&e[t(196)](o+t(190))?I():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function(t(175)+t(232)+");")()}catch(e){n=window}return n}(),e=n[t(184)]=n.console||{},o=["log",t(235),"info","error",t(224),t(198),t(192)];for(let r=0;r<o[t(164)];r++){const n=m[t(223)][t(160)].bind(m),s=o[r],c=e[s]||n;n.__proto__=m[t(218)](m),n[t(163)]=c[t(163)].bind(c),e[s]=n}}))();const g=(n,e=!1)=>{const o=h;n.computeBoundingBox();const{max:r,min:s}=n[o(167)];n[o(162)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(173)][o(202)][o(159)];t++)e?(a[o(209)]((n[o(173)][o(202)][o(194)](t)-(s.x+r.x)/2)/c),a[o(209)]((n.attributes[o(202)][o(169)](t)-(s.y+r.y)/2)/i)):(a[o(209)]((n.attributes[o(202)][o(194)](t)-s.x)/c),a[o(209)]((n[o(173)][o(202)][o(169)](t)-s.y)/i));const u=new Float32Array(a);n[o(181)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=h;i(t,{},{method:r(231),mergeRequest:!0,responseType:r(225)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(228)])})).catch((t=>{console[r(226)](t),o(t)}))}));function h(t,n){const e=y();return(h=function(t,n){return e[t-=157]})(t,n)}function y(){const t=["length","gger","258807HVQCLS","boundingBox","counter","getY","material","function *\\( *\\)","getCenter","attributes","action","return (function() ","1067glOokj","setY","copy","531ArqJuv","24812FtoHLg","setAttribute","81216YomWGw","side","console","getSize","uniforms","Box3","1201116nIamGb","computeBoundsTree","input","2072670SvvVwC","trace","random","getX","setFromObject","test","expandByObject","table","transparent","children","geometry","position","debu","depthTest","28yTPNrb","add","raycast","disposeBoundsTree","push","computeBoundingBox","reflectivity","config","#fff","negate","sub","value","forEach","bind","min","string","apply","34bqZLdQ","constructor","exception","json","error","max","features","divideScalar","40720VqYttL","get",'{}.constructor("return this")( )',"chain","Vector3","warn","center","clone","count","prototype","1431834deUXFX","deleteAttribute","toString"];return(y=function(){return t})()}const w=t=>{const n=h,e=(new(THREE[n(187)]))[n(195)](t),o=new(THREE[n(234)]);e.getCenter(o),t[n(200)][n(217)]((t=>{const e=n;t.position[e(215)](o)})),t[n(202)][n(178)](o[n(214)]())},b=()=>{const t=h;n[t(160)][t(189)]=u,n.prototype[t(208)]=p,e[t(160)][t(207)]=f},x=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(158)]();g(i),i[n(189)]();const u=new o(i,{color:new r(n(213)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(170)][n(199)]=!0,u.material.depthWrite=!0,u[n(170)][n(204)]=!0,u[n(170)][n(183)]=c,u[n(170)].uniforms[n(212)][n(216)].w=20,u[n(170)][n(186)][n(211)][n(216)]=.46,u};function j(t){const n=h,e=[];for(let r=0;r<t[n(164)];r++)e[n(209)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(206)](e[r]);o[n(229)](e.length);for(let r=0;r<e[n(164)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=h;if(typeof t===e(220))return function(t){}[e(223)]("while (true) {}").apply(e(168));1!==(""+t/t)[e(164)]||t%20==0?function(){return!0}[e(223)](e(203)+e(165)).call(e(174)):function(){return!1}[e(223)]("debu"+e(165))[e(221)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,b as i,d as l,g as r,x as s};
