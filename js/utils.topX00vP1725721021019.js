import{a as t,B as n,q as e,bZ as r,C as o,j as s,Z as c}from"./three.a9V66irq1725721021019.js";import{x as i}from"./@fesjs.ozYBrZAq1725721021019.js";import{N as a}from"./@tresjs.bIWdfO9a1725721021019.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.ysdIJ9eS1725721021019.js";!function(t,n){const e=m,r=w();for(;;)try{if(693125===parseInt(e(281))/1*(parseInt(e(270))/2)+parseInt(e(250))/3*(-parseInt(e(252))/4)+parseInt(e(290))/5*(parseInt(e(266))/6)+-parseInt(e(259))/7*(parseInt(e(249))/8)+parseInt(e(256))/9+parseInt(e(304))/10*(-parseInt(e(278))/11)+parseInt(e(246))/12*(-parseInt(e(296))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[m(277)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=m,n=new RegExp(t(282)),e=new RegExp(t(261),"i"),r=I(t(242));n[t(269)](r+"chain")&&e[t(269)](r+t(264))?I():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function m(t,n){const e=w();return(m=function(t,n){return e[t-=232]})(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(307)+t(233)+");")()}catch(e){n=window}return n}(),e=n[t(251)]=n[t(251)]||{},r=["log",t(262),t(240),t(306),t(280),t(273),"trace"];for(let o=0;o<r.length;o++){const n=g.constructor[t(272)][t(300)](g),s=r[o],c=e[s]||n;n.__proto__=g[t(300)](g),n.toString=c[t(263)][t(300)](c),e[s]=n}}))();const h=(n,e=!1)=>{const r=m;n[r(286)]();const{max:o,min:s}=n[r(254)];n[r(247)]("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n[r(268)].position[r(267)];t++)e?(a[r(276)]((n[r(268)][r(253)][r(243)](t)-(s.x+o.x)/2)/c),a.push((n[r(268)][r(253)].getY(t)-(s.y+o.y)/2)/i)):(a[r(276)]((n[r(268)][r(253)].getX(t)-s.x)/c),a[r(276)]((n[r(268)].position[r(235)](t)-s.y)/i));const u=new Float32Array(a);n[r(299)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=m;i(t,{},{method:o(303),mergeRequest:!0})[o(301)]((t=>{n&&e(t[n]),e(t.features)}))[o(283)]((t=>{console[o(306)](t),r(t)}))}));function w(){const t=["min","getCenter","negate",'{}.constructor("return this")( )',"value","getY","clone","uniforms","geometry","setY","info","copy","init","getX","random","Box3","12CZtSxi","deleteAttribute","counter","8pDwrbt","272667drxPao","console","28RtbmVN","position","boundingBox","config","6667839jjCynR","transparent","side","5027897sjUQoR","raycast","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","toString","input","center","1587162xKDDri","count","attributes","test","482tOaRra","string","prototype","table","children","disposeBoundsTree","push","apply","11bDkMyM","sub","exception","5362HbkVUj","function *\\( *\\)","catch","setFromObject","call","computeBoundingBox","gger","material","constructor","20XgMZho","length","add","depthWrite","applyMatrix4","max","7751159KrSYgX","while (true) {}","#fff","setAttribute","bind","then","Vector3","get","4473590nPrwoU","getSize","error","return (function() "];return(w=function(){return t})()}const x=t=>{const n=m,e=(new(THREE[n(245)]))[n(284)](t),r=new(THREE[n(302)]);e[n(309)](r),t[n(274)].forEach((t=>{const e=n;t[e(253)][e(279)](r)})),t[n(253)][n(241)](r[n(232)]())},y=()=>{const t=m;n[t(272)].computeBoundsTree=u,n[t(272)][t(275)]=f,e[t(272)][t(260)]=p},b=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(238)][n(236)]();h(i),i.computeBoundsTree();const u=new r(i,{color:new o(n(298)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(288)][n(257)]=!0,u[n(288)][n(293)]=!0,u[n(288)].depthTest=!0,u[n(288)][n(258)]=c,u[n(288)][n(237)][n(255)].value.w=20,u[n(288)].uniforms.reflectivity[n(234)]=.46,u};function j(t){const n=m,e=[];for(let o=0;o<t[n(291)];o++)e[n(276)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(291)];o++)r[n(292)](e[o]);r.divideScalar(e[n(291)]);for(let o=0;o<e[n(291)];o++)e[o][n(279)](r);return{points:e,centerPoint:r}}function I(t){function n(t){const e=m;if(typeof t===e(271))return function(t){}[e(289)](e(297))[e(277)](e(248));1!==(""+t/t).length||t%20==0?function(){return!0}[e(289)]("debu"+e(287))[e(285)]("action"):function(){return!1}[e(289)]("debu"+e(287))[e(277)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,y as i,d as l,h as r,b as s};
