import"./@fesjs.mYnJ5o7u1742205305014.js";import{_ as t}from"./jszip.SZt2c-at1742205305014.js";import{F as n}from"./file-saver.VcB1Owas1742205305014.js";import{_ as e,aG as s,aH as o}from"./three.LxxvsMJG1742205305014.js";const a=m;!function(t,n){const e=m,s=c();for(;;)try{if(837513===-parseInt(e(144))/1+-parseInt(e(106))/2+-parseInt(e(104))/3*(-parseInt(e(171))/4)+-parseInt(e(160))/5*(-parseInt(e(146))/6)+-parseInt(e(180))/7+parseInt(e(117))/8*(-parseInt(e(195))/9)+parseInt(e(116))/10*(parseInt(e(193))/11))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[m(196)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function c(){const t=[".json","generateAsync","error","50214791AroAMZ","message","7794756gLPChS","apply","JPEG","json","get","image/webp","function *\\( *\\)","FileLoader","GIF","3cLEiQC",'{}.constructor("return this")( )',"1083444idyhgj","data","app.json","push","uuid","startsWith","readAsDataURL","url:images/","bind","非标准文件：不存在 app.json","10ghmVIp","8ckCJoL","table","__proto__","substring","async","toString","PNG","files","scene","data:image/GIF;base64,","data:image/PNG;base64,","init","gger","split","BufferGeometry","pop","file","onerror","test","type","action","console","while (true) {}","load","WEBP","toLowerCase","data:image/png;base64,","1127385vKVHzB","then","1066074tyqfsb","blob","setResponseType","data:image/jpeg;base64,","endsWith","url:","enabled","length","catch","image/png","trace","folder","loadAsync","warn","5LkqggO","data:image/webp;base64,","application/octet-stream","stringify","parse","url","data:image/gif;base64,","string","prototype","images","data:image/WEBP;base64,","391336lYYahO","slice",";base64,","input","exception","geometries","image/jpeg","constructor","debu","10274530WNvito","stateObject","Unknown","Cache","config.zip","chain","image/bmp","forEach","image/gif","onloadend"];return(c=function(){return t})()}!function(){r(this,(function(){const t=m,n=new RegExp(t(201)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=y(t(128));n[t(135)](s+t(185))&&e[t(135)](s+t(174))?y():s("0")}))()}();const i=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[m(196)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function u(t){const n=new o;return new Promise(((e,s)=>{const o=m;n.load(t,(t=>e(JSON[o(164)](t))),void 0,(t=>s(t)))}))}i(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function("return (function() "+t(105)+");")()}catch(e){n=window}return n}(),e=n[t(138)]=n.console||{},s=["log",t(159),"info",t(192),t(175),t(118),t(156)];for(let o=0;o<s[t(153)];o++){const n=i[t(178)][t(168)][t(114)](i),a=s[o],r=e[a]||n;n[t(119)]=i[t(114)](i),n[t(122)]=r[t(122)].bind(r),e[a]=n}}))(),e[a(183)][a(152)]=!0;class l extends s{constructor(t){super(t)}load(t,n,s,o){const r=a,c=new(e[r(202)])(this.manager);c[r(148)](r(198)),c[r(140)](t,(t=>n&&n(t)),s,o)}}async function p(t){const n=a,s=new(e[n(202)]);return new Promise(((e,o)=>{const r=n;s[r(148)](r(147)),s[r(140)](t,(n=>{const s=r,c=new FileReader;c[s(189)]=()=>{const n=s,o=function(t){const n=a,e=t[n(130)](".")[n(132)]()[n(142)]();return{jpg:n(177),jpeg:n(177),png:n(155),gif:n(188),bmp:n(186),webp:n(200)}[e]||n(162)}(t),r=c.result[n(130)](",")[1];e("data:"+o+n(173)+r)},c[s(134)]=t=>{o(t)},c[s(112)](n)}),void 0,(t=>o(t)))}))}class f extends s{constructor(t){super(t)}[a(140)](n,s,o,r){const c=a,i=new(e[c(202)])(this.manager);i[c(148)](c(147)),i[c(140)](n,(async n=>{const e=c;try{const o=await t[e(158)](n);s&&s(o)}catch(o){r&&r(o)}}),o,r)}}const g=t=>{const n=a,e=t[n(120)](0,15),s=n(149),o=n(143),r=n(127),c=n(166),i=n(126),u=n(161),l=n(170);return s[n(111)](e)||"data:image/JPEG;base64,"[n(111)](e)?n(197):o[n(111)](e)||r[n(111)](e)?n(123):c[n(111)](e)||i[n(111)](e)?n(203):u[n(111)](e||l[n(111)](e))?n(141):n(182)},d=e=>{const s=a,o=[];e[s(125)][s(176)]&&e[s(125)].geometries[s(187)]((t=>{const n=s;t[n(136)]===n(131)&&(o[n(109)]({uuid:t[n(110)],data:t.data}),t.data="url:geometries/"+t.uuid+n(190))}));const r=[];e[s(125)][s(169)]&&e[s(125)][s(169)][s(187)]((t=>{const n=s;t.url&&(r[n(109)]({uuid:t[n(110)],url:t[n(165)]}),t[n(165)].type?t[n(165)]="url:images/"+t[n(110)]+"."+t.url[n(136)]+n(190):t[n(165)]=n(113)+t[n(110)]+"."+g(t[n(165)]))}));const c=new t;if(o[s(153)]){const t=c[s(157)]("geometries");o[s(187)]((n=>{const e=s;t.file(n.uuid+e(190),JSON[e(163)](n.data))}))}if(r[s(153)]){const t=c[s(157)](s(169));r[s(187)]((n=>{const e=s;n.url[e(136)]?t[e(133)](n[e(110)]+"."+n.url[e(136)]+".json",JSON.stringify(n[e(165)])):t.file(n[e(110)]+"."+g(n[e(165)]),n[e(165)][e(130)](e(173)).pop(),{base64:!0})}))}const i=JSON[s(163)](e);return c.file(s(108),i),c[s(191)]({type:s(147)})[s(145)]((t=>{const e=s;n.saveAs(t,e(184))}))};function m(t,n){const e=c();return(m=function(t,n){return e[t-=104]})(t,n)}const h=(t,n,e)=>{const s=a;t[s(176)]<=0&&t[s(169)]<=0&&e(n)},b=(n,e)=>{const s=a;let o=null;return t[s(158)](n)[s(145)]((t=>{const n=s;t.files[n(108)]?t[n(124)][n(108)][n(121)](n(167)).then((s=>{var r,c;const i=n;o=JSON[i(164)](s);const u=(t=>{var n,e;const s=a,o={geometries:0,images:0};return null==(n=t[s(125)][s(176)])||n[s(187)]((t=>{const n=s;t.data[n(111)](n(151))&&o[n(176)]++})),null==(e=t[s(125)][s(169)])||e.forEach((t=>{const n=s;t[n(165)][n(111)](n(151))&&o[n(169)]++})),o})(o);h(u,o,e),null==(r=o[i(125)][i(176)])||r[i(187)]((n=>{const s=i;n[s(107)][s(111)]("url:")&&t[s(124)][n[s(107)][s(172)](4)].async(s(167))[s(145)]((t=>{const a=s;n[a(107)]=JSON[a(164)](t),u[a(176)]--,h(u,o,e)}))})),null==(c=o.scene[i(169)])||c[i(187)]((n=>{const s=i;if(n[s(165)][s(111)](s(151))){const a=n[s(165)][s(172)](4);a[s(150)](s(190))?t[s(124)][a][s(121)](s(167))[s(145)]((t=>{const a=s;n[a(165)]=JSON[a(164)](t),u[a(169)]--,h(u,o,e)})):t[s(124)][a][s(121)]("base64")[s(145)]((t=>{const r=s,c=a.split("."),i=c[c[r(153)]-1].toUpperCase();n[r(165)]="data:image/"+i+r(173)+t,u[r(169)]--,h(u,o,e)}))}}))})):console[n(192)](n(115))}),(t=>{const e=s;console[e(192)](n.name+": "+t[e(194)])})),o};function y(t){function n(t){const e=m;if(typeof t===e(167))return function(t){}.constructor(e(139)).apply("counter");1!==(""+t/t)[e(153)]||t%20==0?function(){return!0}[e(178)](e(179)+e(129)).call(e(137)):function(){return!1}[e(178)](e(179)+e(129))[e(196)](e(181)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{l as J,f as Z,p as a,d as e,g,b as i,u as l};
