import{P as t}from"./tweakpane.yDiyAAkA1741583630766.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.LU_e6BD61741583630766.js";import{_ as r}from"./heatmap.js-fix.FFjNWQU51741583630766.js";import{a as c,_ as i,c3 as s,r as u}from"./three.sQDbNBks1741583630766.js";import{r as a}from"./utils.7cjOlduy1741583630766.js";import{d as p}from"./pinia.GzvRmFm31741583630766.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as v,F as y,q as I,W as w,P as _,R as b,L as j,O as x,a3 as M,r as R,j as S,g as E,m as P}from"./@vue.NRI7TcgI1741583630766.js";import{c as T,d as Z,a as O}from"./three-mesh-bvh.uDwO1aPf1741583630766.js";import{_ as k}from"./@fesjs.0Tn1apcA1741583630766.js";import"./@tresjs.ZmhvXhx31741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";import"./three-custom-shader-material.fHkqEbki1741583630766.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741583630766.js";import"./@amap.-0-3lXdo1741583630766.js";import"./vue-router.bRqEeVtN1741583630766.js";import"./lodash-es.pklfUAS51741583630766.js";import"./@qlin.yHhFDldE1741583630766.js";import"./@floating-ui.BPbuo5Gx1741583630766.js";import"./@juggle.7yjBMqoW1741583630766.js";!function(t,n){const e=D,o=B();for(;;)try{if(394419===parseInt(e(430))/1+parseInt(e(407))/2*(parseInt(e(405))/3)+parseInt(e(441))/4+parseInt(e(447))/5+-parseInt(e(412))/6*(-parseInt(e(425))/7)+parseInt(e(433))/8+-parseInt(e(402))/9*(parseInt(e(398))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=D,n=new RegExp(t(408)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=U("init");n[t(417)](o+t(400))&&e.test(o+"input")?U():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(432)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(){const t=["console","debu","prototype","trace","toString",'{}.constructor("return this")( )',"21cufuKR","position","bind","gger","createElement","187172IBXKLz","log","apply","591664ZBvUPo","heatmap-canvas","yellow","display","getValueAt","style","info","length","2355896gVazUh","rgb(0,255,0)","constructor","body","appendChild","counter","1564400pXZNIa","absolute","width","4002420vzAskk","call","chain","rgb(255,0,0)","27mHujau","__proto__","left","442902BGFCmd","top","4BWrLmS","function *\\( *\\)","table","while (true) {}","randInt","273786fIxiLZ","stateObject","_config","exception","setData","test","error"];return(B=function(){return t})()}function D(t,n){const e=B();return(D=function(t,n){return e[t-=397]})(t,n)}A(void 0,(function(){const t=D;let n;try{n=Function("return (function() "+t(424)+");")()}catch(r){n=window}const e=n.console=n[t(419)]||{},o=[t(431),"warn",t(439),t(418),t(415),t(409),t(422)];for(let c=0;c<o[t(440)];c++){const n=A.constructor[t(421)][t(427)](A),r=o[c],i=e[r]||n;n[t(403)]=A[t(427)](A),n[t(423)]=i[t(423)][t(427)](i),e[r]=n}}))();const F=(t,n)=>t[D(437)](n)+-10;function U(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(443)](e(410)).apply(e(446));1!==(""+t/t)[e(440)]||t%20==0?function(){return!0}.constructor("debu"+e(428))[e(399)]("action"):function(){return!1}.constructor(e(420)+e(428))[e(432)](e(413)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=H;!function(t,n){const e=H,o=L();for(;;)try{if(883062===-parseInt(e(216))/1+-parseInt(e(221))/2*(-parseInt(e(207))/3)+-parseInt(e(200))/4+-parseInt(e(220))/5+parseInt(e(223))/6+parseInt(e(202))/7+-parseInt(e(204))/8*(parseInt(e(209))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(193)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=H,n=new RegExp(t(213)),e=new RegExp(t(203),"i"),o=q("init");n.test(o+t(218))&&e[t(195)](o+t(205))?q():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(193)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=L();return(H=function(t,n){return e[t-=193]})(t,n)}function L(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3444824XmaCKT","input","toString","9gTjhxO","stateObject","9nnURAC","gger","__proto__","bind","function *\\( *\\)","counter","table","213276jTZMRz","warn","chain","constructor","3199770wTKIFM","83656cFmCkE","value","8884836DHPwMQ","while (true) {}","return (function() ","buildingsHeatmap","trace","info","apply","length","test",'{}.constructor("return this")( )',"debu","action","console","4330012IrLAcG","prototype","11501756DoBvcM"];return(L=function(){return t})()}C(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(225)+t(196)+");")()}catch(e){n=window}return n}(),e=n[t(199)]=n[t(199)]||{},o=["log",t(217),t(228),"error","exception",t(215),t(227)];for(let r=0;r<o[t(194)];r++){const n=C.constructor[t(201)].bind(C),c=o[r],i=e[c]||n;n[t(211)]=C[t(212)](C),n[t(206)]=i.toString.bind(i),e[c]=n}}))();const G=p(X(226),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[H(222)]=n},setTemperature:function(t){n[H(222)]=t}}}));function q(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(219)](e(224)).apply(e(214));1!==(""+t/t)[e(194)]||t%20==0?function(){return!0}[e(219)](e(197)+e(210)).call(e(198)):function(){return!1}.constructor(e(197)+e(210))[e(193)](e(208)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=Q;!function(t,n){const e=Q,o=J();for(;;)try{if(479207===-parseInt(e(226))/1+parseInt(e(273))/2+-parseInt(e(287))/3*(parseInt(e(244))/4)+parseInt(e(258))/5*(parseInt(e(240))/6)+-parseInt(e(266))/7*(parseInt(e(254))/8)+parseInt(e(235))/9*(-parseInt(e(236))/10)+-parseInt(e(232))/11*(-parseInt(e(253))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Y(this,(function(){const t=Q,n=new RegExp(t(297)),e=new RegExp(t(286),"i"),o=nt(t(248));n.test(o+"chain")&&e[t(245)](o+t(252))?nt():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=Q;let n;try{n=Function(t(269)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(264)]||{},o=[t(239),t(285),t(272),"error",t(276),t(228),"trace"];for(let c=0;c<o[t(299)];c++){const n=N.constructor.prototype[t(282)](N),r=o[c],i=e[r]||n;n.__proto__=N[t(282)](N),n[t(238)]=i.toString[t(282)](i),e[r]=n}}))();const W=[K(270),K(255)],V=["object"];function J(){const t=["action","length","713977MXYnIR","Texture","table","raycast","matrix","constructor","33rZHZrt","attributes","computeBoundsTree","18IgNpqG","456140wlVJla","children","toString","log","6MGNEPo","uniforms","数值———：","while (true) {}","1021652lqYhdT","test","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","normal","init","value","_renderer","primitive","input","3666252dgMZkc","13624vfUFod","rotation-x","opacity","makeRotationX","3935090cwuhmc","gger","setTemperature","city","height","Mesh","console","BufferGeometry","1596jHvbRq","debu","counter","return (function() ","object","数值：","info","959882PSkPjw","applyMatrix4","clone","exception","ShaderMaterial","mergeGeometries","model","_config","DoubleSide","bind","geometry","width","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6PdvMTN","string","uOpacity","prototype","call","disposeBoundsTree","Matrix4","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","land","apply","function *\\( *\\)"];return(J=function(){return t})()}function Q(t,n){const e=J();return(Q=function(t,n){return e[t-=226]})(t,n)}const tt=l({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=Q;i[t(265)][t(290)].computeBoundsTree=T,i[t(265)].prototype[t(292)]=Z,u[t(290)][t(229)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=D,c=document[o(429)](o(434));return c[o(438)][o(426)]=o(448),!e&&(c[o(438)][o(436)]="none"),c[o(438)][o(406)]="0",c[o(438)][o(404)]="0",document[o(444)][o(445)](c),r.create({container:c,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(442),.85:o(435),1:o(401)}})})();((t,n)=>{const e=D;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:c[e(411)](1,t[e(414)][e(397)]),y:c[e(411)](1,t._config.height),value:c.randInt(-10,36)}),o++}t[e(416)]({max:36,min:-10,data:n})})(o);const p=new(i[n(227)])(o[n(250)].canvas);p.needsUpdate=!0;const f=e[n(279)][n(261)].clone();delete f[n(283)][n(233)][n(247)],delete f[n(283)][n(233)].uv;const l=f[n(283)][n(275)]()[n(274)](f.matrix),I=e[n(279)][n(295)][n(275)]();delete I[n(283)][n(233)][n(247)];const w=I[n(283)][n(275)]()[n(274)](I[n(230)]),_=s[n(278)]([l,w]);_.applyMatrix4((new(i[n(293)]))[n(257)](Math.PI/2)),a(_),_[n(234)]();const b=(t=>{const o=n;return new(i[o(277)])({vertexShader:o(246),fragmentShader:o(294),uniforms:{uOpacity:{value:e[o(256)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:i[o(281)]})})(p),j=new(i[n(263)])(_,b);h((()=>{const t=n;e[t(256)]&&(b[t(241)][t(289)][t(249)]=e[t(256)])}));const x=G(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(280)][e(284)],y:(1-t.uv.y)*o[e(280)][e(262)]};console[e(239)](e(271),t),console[e(239)](e(242),F(o,n)),x[e(260)](F(o,n))}},R=t=>{t&&x.$patch({showDiv:!0})},S=t=>{t&&x.setShowDiv(!1)};return(t,o)=>{const r=n;return d(),m(y,null,[g("primitive",{object:v(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:R,onPointerLeave:S},null,40,W),g(r(251),{object:e[r(279)][r(279)][r(237)][0][r(275)]()},null,8,V)],64)}}});function nt(t){function n(t){const e=Q;if(typeof t===e(288))return function(t){}[e(231)](e(243))[e(296)](e(268));1!==(""+t/t)[e(299)]||t%20==0?function(){return!0}[e(231)](e(267)+e(259))[e(291)](e(298)):function(){return!1}.constructor(e(267)+e(259))[e(296)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=k({__name:"dataDiv",setup(t){const n=G(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(v(n).temperature)+"℃ ",5)),[[b,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);function ot(t,n){const e=ut();return(ot=function(t,n){return e[t-=495]})(t,n)}const rt=ot;!function(t,n){const e=ot,o=ut();for(;;)try{if(156519===parseInt(e(514))/1*(-parseInt(e(535))/2)+parseInt(e(524))/3*(-parseInt(e(526))/4)+parseInt(e(506))/5+-parseInt(e(538))/6+parseInt(e(495))/7*(parseInt(e(510))/8)+parseInt(e(533))/9*(parseInt(e(539))/10)+-parseInt(e(505))/11*(-parseInt(e(507))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(502)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ct(this,(function(){const t=ot,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(525),"i"),o=at(t(518));n[t(498)](o+"chain")&&e[t(498)](o+t(512))?at():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(502)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();it(void 0,(function(){const t=ot,n=function(){const t=ot;let n;try{n=Function(t(536)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(496)]=n[t(496)]||{},o=[t(520),"warn",t(530),t(528),t(503),t(517),t(523)];for(let r=0;r<o.length;r++){const n=it[t(500)][t(516)][t(501)](it),c=o[r],i=e[c]||n;n[t(532)]=it[t(501)](it),n[t(529)]=i[t(529)][t(501)](i),e[c]=n}}))();const st=l({__name:rt(519),async setup(r){const c=rt;let i,s;const u=f(!1),a=([i,s]=M((()=>o())),i=await i,s(),i);u[c(527)]=!0;const p=R({width:1,color:c(537),opacity:1,show:!0}),l=R({opacity:.9});return new t({title:"参数",expanded:!0})[c(497)](l,c(515),{label:c(513),min:0,max:1,step:.1}),(t,o)=>{const r=c;return d(),m(y,null,[S(e,{showBuildings:!1,autoRotate:!1},{ability:E((()=>[S(tt,P({model:v(a)},l),null,16,["model"]),S(n,P(p,{builds:v(a)[r(504)]}),null,16,[r(521)])])),_:1}),S(et)],64)}}});function ut(){const t=["bind","apply","exception","city","75702aavmQX","240145qTjPJH","336BvKnKe","action","while (true) {}","88584frjgvj","gger","input","透明度","484ckpYdM","opacity","prototype","table","init","heatmap2","log","builds","counter","trace","3nrRfEI","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","456884jGWuUT","value","error","toString","info","string","__proto__","908154TROmCX","stateObject","926YoecSI","return (function() ","#000","1088922OMniRP","30yFvUYz","84aOxIXO","console","addBinding","test","debu","constructor"];return(ut=function(){return t})()}function at(t){function n(t){const e=ot;if(typeof t===e(531))return function(t){}[e(500)](e(509)).apply(e(522));1!==(""+t/t).length||t%20==0?function(){return!0}[e(500)](e(499)+"gger").call(e(508)):function(){return!1}.constructor(e(499)+e(511))[e(502)](e(534)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
