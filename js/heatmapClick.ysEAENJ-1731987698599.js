import{a as t,U as n}from"./@tresjs.juy9qkLz1731987698599.js";import{P as e}from"./tweakpane.yHWGBmom1731987698599.js";import{Y as o,_ as r,ak as a,al as s}from"./three.3RwiW87x1731987698599.js";import{_ as i}from"./heatmap.js-fix.gYg95Hem1731987698599.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as y,J as v,j as b,al as w,aj as I,ak as x,m as _}from"./@vue.-THQH3GC1731987698599.js";import"./@vueuse.R8VPJfVr1731987698599.js";import"./@amap.8HDR-twf1731987698599.js";const j=k;!function(t,n){const e=k,o=A();for(;;)try{if(580737===-parseInt(e(530))/1*(-parseInt(e(507))/2)+-parseInt(e(495))/3+parseInt(e(535))/4+parseInt(e(502))/5+-parseInt(e(542))/6*(-parseInt(e(498))/7)+-parseInt(e(500))/8*(-parseInt(e(543))/9)+-parseInt(e(510))/10*(parseInt(e(509))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(527)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(t,n){const e=A();return(k=function(t,n){return e[t-=484]})(t,n)}!function(){C(this,(function(){const t=k,n=new RegExp(t(511)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=M("init");n.test(o+t(497))&&e[t(531)](o+"input")?M():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(537)+t(533)+");")()}catch(e){n=window}return n}(),e=n[t(486)]=n[t(486)]||{},o=["log",t(496),"info",t(545),t(544),t(526),t(540)];for(let r=0;r<o[t(521)];r++){const n=B[t(525)].prototype[t(491)](B),a=o[r],s=e[a]||n;n[t(550)]=B.bind(B),n[t(489)]=s[t(489)][t(491)](s),e[a]=n}}))();const z=[j(551)];function A(){const t=["body","scale","__proto__","object","setScalar","deleteAttribute","string","boundingBox","0.8","console","40px","create","toString","stateObject","bind","layerX","action","absolute","621123INPDyI","warn","chain","24374ZBhafj","mesh_0","247832aLQPzv","push","955420CmFUWa","radius","none","position","layerY","48VchJUu","computeBoundingBox","1812349eHpfDT","10MIaifW","function *\\( *\\)","getX","BufferAttribute","attributes","style","createElement","call","needsUpdate","border","ShaderMaterial","length","display","count","./draco/","constructor","table","apply","DoubleSide","top","7858gsfKYC","test","gger",'{}.constructor("return this")( )',"geometry","1820764wViJem","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","return (function() ","_renderer","setAttribute","trace","primitive","96AFleyp","18KuNHpT","exception","error","canvas","addData"];return(A=function(){return t})()}const D=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(524)}))),a=await a,s(),a);h[e(499)][e(505)].set(-5088.96,-3.08,39374.7),h[e(499)][e(549)][e(552)](.01);let m=null,g=null,y=null;g=new o((()=>{const t=e;return y=document[t(516)]("heatmap-canvas"),y[t(515)][t(505)]=t(494),y.style[t(529)]=t(487),y[t(515)].left="0",document[t(548)].appendChild(y),m=i[t(488)]({container:y,width:256,height:256,blur:t(485),radius:c[t(503)]}),m._renderer[t(546)][t(515)][t(519)]="1px solid #5384ff",m[t(538)][t(546)].onclick=function(n){const e=t;m[e(547)]({x:n[e(492)],y:n[e(506)],value:1,radius:c.radius}),m.setDataMax(1),g&&(g[e(518)]=!0)},m})()[e(538)][e(546)]);const v={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(536),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(528)]},b=new(r[e(520)])(v);h[e(499)].material=b;return(t=>{const n=e;t[n(508)]();const{max:o,min:a}=t[n(484)];t[n(553)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(514)].position[n(523)];e++)c[n(501)]((t.attributes[n(505)][n(512)](e)-a.x)/s),c.push((t[n(514)][n(505)].getZ(e)-a.z)/i);const u=new Float32Array(c);t[n(539)]("uv",new(r[n(513)])(u,2))})(h[e(499)][e(534)]),l((()=>{const t=e;y[t(515)][t(522)]=""+(c.show2dCanvas?"block":t(504))})),(t,n)=>{const o=e;return p(),f(o(541),{object:d(h)[o(499)]},null,8,z)}}});function M(t){function n(t){const e=k;if(typeof t===e(554))return function(t){}[e(525)]("while (true) {}")[e(527)]("counter");1!==(""+t/t)[e(521)]||t%20==0?function(){return!0}.constructor("debu"+e(532))[e(517)](e(493)):function(){return!1}[e(525)]("debu"+e(532))[e(527)](e(490)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const S=R;!function(t,n){const e=R,o=P();for(;;)try{if(793059===parseInt(e(495))/1+-parseInt(e(503))/2+parseInt(e(485))/3*(-parseInt(e(496))/4)+parseInt(e(492))/5+-parseInt(e(463))/6*(parseInt(e(486))/7)+parseInt(e(476))/8*(parseInt(e(510))/9)+parseInt(e(501))/10*(parseInt(e(475))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(472)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=R,n=new RegExp(t(489)),e=new RegExp(t(484),"i"),o=E(t(470));n[t(464)](o+t(504))&&e[t(464)](o+t(497))?E():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(472)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=["addButton","36262KqJhEk","293516kmRPxo","input","TresPerspectiveCamera","console","action","28870tJyBBC","TresCanvas","1914176oXyDtO","chain","addBinding","bind","length","radius","#ffffff","3759498HAimLe","stateObject","heatmapClick","50790XyZzWX","test","点击左侧蓝色画框","log","exception","counter","error","init","debu","apply","显示二维图","prototype","10329PJbrfC","16BtklEJ","toString",'{}.constructor("return this")( )',"show2dCanvas","while (true) {}","call","info","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","57vtIqIG","658kJXTIm","圆圈的大小","string","function *\\( *\\)","gger","TresDirectionalLight","1787295ylXRBM","__proto__"];return(P=function(){return t})()}function R(t,n){const e=P();return(R=function(t,n){return e[t-=462]})(t,n)}J(void 0,(function(){const t=R;let n;try{n=Function("return (function() "+t(478)+");")()}catch(r){n=window}const e=n[t(499)]=n[t(499)]||{},o=[t(466),"warn",t(482),t(469),t(467),"table","trace"];for(let a=0;a<o[t(507)];a++){const n=J.constructor[t(474)].bind(J),r=o[a],s=e[r]||n;n[t(493)]=J[t(506)](J),n.toString=s[t(477)][t(506)](s),e[r]=n}}))();const U=c({__name:S(462),setup(t){const o=S,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(505)](i,o(479),{label:o(473)}),c[o(505)](i,o(508),{label:o(487),min:.1,max:30,step:.1}),c[o(494)]({title:o(465)}),(t,e)=>{const a=o,s=m(a(502));return p(),g(s,_(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=v(a(498),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v(a(491),{position:[5,10,7.5],color:a(509),intensity:5},null,-1)),e[2]||(e[2]=v("TresGridHelper",{args:[50,25]},null,-1)),(p(),g(w,null,{default:y((()=>[b(D,I(x(i)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=R;if(typeof t===e(488))return function(t){}[e(483)](e(480))[e(472)](e(468));1!==(""+t/t)[e(507)]||t%20==0?function(){return!0}.constructor(e(471)+e(490))[e(481)](e(500)):function(){return!1}.constructor(e(471)+e(490))[e(472)](e(511)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
