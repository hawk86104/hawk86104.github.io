import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.j5vdYITq1725245456099.js";import{x as i,a6 as s}from"./three.KG2-8r0_1725245456099.js";import{P as a}from"./tweakpane.yHWGBmom1725245456099.js";import{L as c}from"./three-subdivide.gRDLF-Fe1725245456099.js";import{d as u,b as l,a1 as f,w as p,o as d,D as m,J as h,aj as g,ak as v,a4 as y,r as b,e as w,f as _,g as x,j as I,u as M,m as B}from"./@vue.Q1VpS3901725245456099.js";import"./@vueuse.whMtq_7M1725245456099.js";const T=k;!function(n,t){const e=k,r=A();for(;;)try{if(974895===-parseInt(e(516))/1*(-parseInt(e(500))/2)+-parseInt(e(490))/3*(-parseInt(e(527))/4)+-parseInt(e(511))/5*(parseInt(e(518))/6)+parseInt(e(543))/7+parseInt(e(498))/8*(-parseInt(e(491))/9)+parseInt(e(536))/10*(parseInt(e(531))/11)+-parseInt(e(542))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const j=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(512)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){j(this,(function(){const n=k,t=new RegExp(n(503)),e=new RegExp(n(509),"i"),r=R(n(513));t[n(495)](r+n(504))&&e[n(495)](r+n(545))?R():r("0")}))()}();const S=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(512)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();S(void 0,(function(){const n=k;let t;try{t=Function(n(502)+n(508)+");")()}catch(o){t=window}const e=t.console=t[n(525)]||{},r=["log","warn",n(494),n(505),"exception",n(532),n(548)];for(let i=0;i<r[n(507)];i++){const t=S[n(493)].prototype.bind(S),o=r[i],s=e[o]||t;t[n(496)]=S.bind(S),t[n(529)]=s[n(529)][n(546)](s),e[o]=t}}))();const N=[T(530)];function k(n,t){const e=A();return(k=function(n,t){return e[n-=488]})(n,t)}function A(){const n=["error","geometry","length",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","blending","28670hcdhpi","apply","init","stateObject","uniforms","76CZfjQE","subdivision","804SseDMg","material","side","color","#ffff00","srcMesh","subVectors","console","value","12GTNRcl","attributes","toString","scale","826595URVZTB","table","shineShader","debu","clone","180Ylancd","string","Color","TresMesh","position","modify","13167528cycdqH","2043062LMvnxg","AdditiveBlending","input","bind","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","trace","TresShaderMaterial","copy","746481EltVxr","243JEBfhR","call","constructor","info","test","__proto__","counter","16064NOQqUu","Vector3","13258tjiPAw","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","return (function() ","function *\\( *\\)","chain"];return(A=function(){return n})()}const C=u({__name:T(533),props:{srcMesh:{},scale:{default:1.2},color:{default:T(522)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i},blending:{default:s[T(544)]}},setup(e){const r=T,o=e,i=l(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(538)])(o.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(501),fragmentShader:r(547),side:o[r(520)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(510)]};f((()=>{const n=r;if(o[n(523)]&&!i.value[n(506)][n(528)][n(540)]){let t=o[n(523)][n(506)].clone();o[n(517)]&&(t=c.modify(t,2)),i[n(526)][n(506)]=t,i[n(526)].position[n(489)](o[n(523)][n(540)])}o[n(521)]&&(a[n(515)].glowColor[n(526)]=new(s[n(538)])(o[n(521)])),o.c&&(a.uniforms.c[n(526)]=o.c),o.p&&(a[n(515)].p[n(526)]=o.p)})),p((()=>o.subdivision),(n=>{const t=r;let e=o[t(523)][t(506)][t(535)]();n&&(e=c[t(541)](e,2)),i.value.geometry=e})),p((()=>o[r(520)]),(n=>{i[r(526)].material.side=n})),p((()=>o[r(510)]),(n=>{const t=r;i[t(526)][t(519)][t(510)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=r;y[n(526)]&&i[n(526)]&&(a.uniforms.viewVector[n(526)]=(new(s[n(499)]))[n(524)](y[n(526)][n(540)],i[n(526)][n(540)]))})),(n,t)=>{const e=r;return d(),m(e(539),{ref_key:"TSGref",ref:i,scale:o[e(530)]},[h(e(488),g(v(a)),null,16)],8,N)}}});function R(n){function t(n){const e=k;if(typeof n===e(537))return function(n){}[e(493)]("while (true) {}")[e(512)](e(497));1!==(""+n/n)[e(507)]||n%20==0?function(){return!0}[e(493)](e(534)+"gger")[e(492)]("action"):function(){return!1}[e(493)](e(534)+"gger").apply(e(514)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=P;!function(n,t){const e=P,r=Z();for(;;)try{if(614996===-parseInt(e(368))/1*(-parseInt(e(373))/2)+parseInt(e(341))/3+-parseInt(e(375))/4*(parseInt(e(349))/5)+-parseInt(e(336))/6*(parseInt(e(342))/7)+-parseInt(e(371))/8+-parseInt(e(331))/9+parseInt(e(366))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[P(322)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=P,t=new RegExp(n(355)),e=new RegExp(n(351),"i"),r=Q(n(319));t.test(r+n(360))&&e[n(364)](r+"input")?Q():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[P(322)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Z(){const n=["bind","12KWyufS","subdivision","error","5737072yxKJwC","addBinding","137050EFODXd","logo.png","3176oZmobj","scale","TresMeshBasicMaterial","TresMeshRefB","init","#0ff","constructor","apply","TresBoxGeometry","info","debu","FrontSide",'{}.constructor("return this")( )',"#222","side","return (function() ","1617597cudrbK","map","value","DoubleSide","TreBoxRef","4152iOpleU","BackSide","NormalBlending","TresGridHelper","color","556668pBNXBf","9506QXBINK","__proto__","TresMesh","gger","TresAmbientLight","#00dfff","AdditiveBlending","500NuGFhW","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","exception","console","function *\\( *\\)","TresCanvas","边缘处理","blending","TresPerspectiveCamera","chain","toString","srcMesh","TresSphereGeometry","test","trace","15231430ljtrZN"];return(Z=function(){return n})()}E(void 0,(function(){const n=P,t=function(){const n=P;let t;try{t=Function(n(330)+n(327)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(354)]||{},r=["log","warn",n(324),n(370),n(353),n(350),n(365)];for(let o=0;o<r.length;o++){const t=E[n(321)].prototype[n(367)](E),i=r[o],s=e[i]||t;t[n(343)]=E[n(367)](E),t[n(361)]=s[n(361)].bind(s),e[i]=t}}))();const F=h(V(359),{position:[5,5,5]},null,-1),G=h(V(346),{intensity:1},null,-1),D=h(V(339),{args:[10,10]},null,-1),O=h(V(363),{args:[1,32,16]},null,-1),$=[V(332)],K=["map"],L=[h(V(323),{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:V(320)},null,-1)];function P(n,t){const e=Z();return(P=function(n,t){return e[n-=316]})(n,t)}const J=u({__name:"shader",async setup(n){const t=V;let i,c;const u={clearColor:t(328)},f=l(),p=l(),m=l(),g=([i,c]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(374)]))),i=await i,c(),i),v=b({scale:1.6,color:t(347),subdivision:!0,c:1.1,p:1.4,side:s[t(326)],blending:s[t(348)]}),T=new a({title:"参数",expanded:!0});return T[t(372)](v,t(340),{label:"颜色"}),T.addBinding(v,t(316),{label:"大小",min:1,max:3,step:.2}),T[t(372)](v,t(369),{label:t(357)}),T[t(372)](v,"c",{label:"c",min:0,max:2,step:.1}),T[t(372)](v,"p",{label:"p",min:0,max:8,step:.2}),T[t(372)](v,t(329),{options:{FrontSide:s[t(326)],BackSide:s[t(337)],DoubleSide:s[t(334)]}}),T[t(372)](v,t(358),{options:{AdditiveBlending:s[t(348)],NormalBlending:s[t(338)]}}),(n,o)=>{const i=t,s=w(i(356));return d(),_(s,B(u,{"window-size":""}),{default:x((()=>[F,G,I(M(e)),D,h(i(344),{ref_key:"TresMeshRefA",ref:f,position:[-2,1,0]},[O,h(i(317),{map:M(g)[0]},null,8,$)],512),I(C,B({srcMesh:f[i(333)]},v),null,16,[i(362)]),I(M(r),{ref_key:i(335),ref:m,args:[1,1,1],position:[2,1,0]},{default:x((()=>[h(i(317),{map:M(g)[1]},null,8,K)])),_:1},512),I(C,B({srcMesh:m[i(333)]&&m.value[i(333)]},v),null,16,["srcMesh"]),h("TresMesh",{ref_key:i(318),ref:p,position:[0,1,-2]},L,512),I(C,B({srcMesh:p.value},v),null,16,[i(362)])])),_:1},16)}}});function Q(n){function t(n){const e=P;if(typeof n===e(352))return function(n){}[e(321)]("while (true) {}")[e(322)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(321)](e(325)+e(345)).call("action"):function(){return!1}[e(321)](e(325)+e(345))[e(322)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{J as default};
