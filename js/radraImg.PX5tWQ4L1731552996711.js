import{b as t,m as n,U as e}from"./@tresjs.01P8tiuF1731552996711.js";import{_ as o}from"./three.KG0QRRig1731552996711.js";import{_ as r,n as i}from"./three-tile.rGySB-KI1731552996711.js";import{s as a,c as s,_ as c}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.lehZ6kAb1731552996711.js";import{d as u,a6 as p,w as l,o as f,D as m,J as h,u as d,r as g,b as y,f as I,g as b,j as _,m as v,al as w,F as j,e as x,aj as S,ak as T}from"./@vue.-THQH3GC1731552996711.js";import{P as D}from"./tweakpane.yHWGBmom1731552996711.js";import{_ as M}from"./informationDiv.mw0m0NNc1731552996711.js";import"./@vueuse.YduQ9gvc1731552996711.js";import"./@fesjs.ffiiLppw1731552996711.js";import"./vue-router.4ictOE9I1731552996711.js";import"./lodash-es.kYt-_xTG1731552996711.js";import"./@qlin.yHhFDldE1731552996711.js";import"./pinia.Yf0ZNVo31731552996711.js";import"./vue-demi.C4xddsk91731552996711.js";import"./@floating-ui.BPbuo5Gx1731552996711.js";import"./@juggle.7yjBMqoW1731552996711.js";const k=z;function z(t,n){const e=Q();return(z=function(t,n){return e[t-=109]})(t,n)}!function(t,n){const e=z,o=Q();for(;;)try{if(158811===parseInt(e(144))/1*(parseInt(e(168))/2)+-parseInt(e(147))/3+-parseInt(e(132))/4+-parseInt(e(145))/5+-parseInt(e(136))/6*(parseInt(e(110))/7)+parseInt(e(123))/8*(-parseInt(e(133))/9)+-parseInt(e(152))/10*(-parseInt(e(146))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(163)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(139));n.test(o+"chain")&&e.test(o+t(153))?H():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(130)+t(138)+");")()}catch(e){n=window}return n}(),e=n[t(113)]=n.console||{},o=[t(142),t(116),t(165),"error",t(159),t(167),t(122)];for(let r=0;r<o[t(151)];r++){const n=P[t(162)][t(115)][t(155)](P),i=o[r],a=e[i]||n;n[t(120)]=P.bind(P),n[t(137)]=a[t(137)][t(155)](a),e[i]=n}}))();const A=[k(161)],E=[k(169),"material",k(164),k(166)],F=u({__name:k(109),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=k;let r,i;const s=n,c=new(o[e(156)])({displacementMap:new(o[e(148)]),transparent:!0,side:o[e(124)],opacity:s[e(158)],displacementScale:.5,displacementBias:0});c.onBeforeCompile=t=>{const n=e;t.vertexShader=n(111)+t.vertexShader,t[n(154)]=t[n(154)][n(112)]("#include <displacementmap_vertex>","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const u=s[e(134)][e(118)](new(o[e(157)])(105,34,0));u[e(149)](s[e(134)][e(131)]);const g=a(s[e(134)],{x:67,y:11},{x:140,y:57},s[e(117)]),y=[];for(let t=0;t<9;t++)y[e(141)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(114));let I=0;const b=([r,i]=p((()=>t(y))),r=await r,i(),r);c[e(134)]=b[I],l((()=>[s[e(143)],s[e(158)]]),(([t,n])=>{c.opacity=n}));let _=null,v=!1;return v?(clearInterval(_),_=null,v=!1):(_=setInterval((()=>{const t=z;I=I<y.length-1?I+1:0,c[t(134)]=b[I],c[t(119)]=!0,console[t(142)](I)}),1e3),v=!0),(t,n)=>{const o=e;return f(),m(o(127),{position:[...d(u)]},[h(o(128),{scale:[d(g).x,d(g).y,t.height],material:d(c),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[h(o(126),{args:[1,1,529,420]},null,-1)]),8,E)],8,A)}}});function Q(){const t=["Texture","applyMatrix4","string","length","12126470ZMchnO","input","vertexShader","bind","MeshPhongMaterial","Vector3","opacity","exception","gger","position","constructor","apply","rotateX","info","position-y","table","6782xcCqlh","scale","radraImgShow","7TCEoQv","uniform sampler2D map;\n\t","replace","console","40.png","prototype","warn","height","geo2pos","needsUpdate","__proto__","call","trace","5744tkDtbl","DoubleSide","while (true) {}","TresPlaneGeometry","TresGroup","TresMesh","debu","return (function() ","matrix","1249944oZJkQb","1638lvatSx","map","stateObject","270942oyGHSr","toString",'{}.constructor("return this")( )',"init","action","push","log","color","1zHScHt","1404695gQLuvt","11HFwVsR","863907jABvzy"];return(Q=function(){return t})()}function H(t){function n(t){const e=z;if(typeof t===e(150))return function(t){}.constructor(e(125))[e(163)]("counter");1!==(""+t/t)[e(151)]||t%20==0?function(){return!0}.constructor(e(129)+e(160))[e(121)](e(140)):function(){return!1}[e(162)](e(129)+e(160)).apply(e(135)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=N;!function(t,n){const e=N,o=W();for(;;)try{if(501156===parseInt(e(179))/1*(parseInt(e(156))/2)+-parseInt(e(148))/3*(parseInt(e(137))/4)+-parseInt(e(167))/5*(parseInt(e(139))/6)+-parseInt(e(174))/7*(-parseInt(e(131))/8)+parseInt(e(129))/9*(-parseInt(e(130))/10)+-parseInt(e(140))/11*(parseInt(e(170))/12)+parseInt(e(150))/13)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(t,n){const e=W();return(N=function(t,n){return e[t-=128]})(t,n)}!function(){C(this,(function(){const t=N,n=new RegExp(t(147)),e=new RegExp(t(168),"i"),o=G(t(185));n.test(o+t(154))&&e[t(186)](o+"input")?G():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=N;let n;try{n=Function(t(157)+t(173)+");")()}catch(r){n=window}const e=n[t(128)]=n[t(128)]||{},o=[t(151),t(180),t(188),t(182),t(184),t(177),t(166)];for(let i=0;i<o[t(158)];i++){const n=O[t(175)].prototype.bind(O),r=o[i],a=e[r]||n;n[t(160)]=O[t(153)](O),n[t(142)]=a[t(142)].bind(a),e[r]=n}}))();const R=["object"];function W(){const t=["70AGfVeI","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","98292uHIYga","showLocation","position",'{}.constructor("return this")( )',"14ObnbjO","constructor","tdLight","table","action","3QXFlXP","warn","while (true) {}","error","copy","exception","init","test","addBinding","info","gger","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","mapBoxShow3","console","269046OoPvFv","100BpQPTD","465336TCedgB","opacity","terrain-rgb","height","透明度","image","4WMHqQm","debu","26148mLfMNg","77DtxzJU","geo2pos","toString","MapBoxSource","mapbox.terrain-rgb","value","TresDirectionalLight","function *\\( *\\)","1305669yyLJkx","localToWorld","14487356EPcull","log","TileMap","bind","chain","stateObject","81948AjIDra","return (function() ","length","Vector3","__proto__","plugin","string","apply","rotateX","target","trace"];return(W=function(){return t})()}const Z=L(190),U=u({__name:L(191),setup(t){const e=L,a=g({height:200,opacity:1}),u=new D({title:"参数"});u[e(187)](a,e(134),{label:"高度",min:10,max:300,step:1}),u[e(187)](a,e(132),{label:e(135),min:0,max:1,step:.1});const p=new(r[e(161)][e(143)])({token:Z,dataType:e(136),style:"mapbox.satellite"}),x=new(i[e(143)])({token:Z,dataType:e(133),style:e(144),maxLevel:15}),S=new(r[e(152)])({imgSource:p,demSource:x,lon0:90,minLevel:2,maxLevel:20});S[e(164)](-Math.PI/2);const T=new(o[e(159)])(105,34,0),M=new(o[e(159)])(110,0,1e4),k=S[e(149)](S[e(141)](T)),z=S.localToWorld(S[e(141)](M)),B=y(),{camera:P,controls:A,scene:E,renderer:Q}=n();return P.value&&P[e(145)][e(172)][e(183)](z),l((()=>A.value),(t=>{const n=e;t&&(t[n(165)][n(183)](k),s(t,P[n(145)],E[n(145)]))})),l((()=>B[e(145)]),(t=>{const n=e;t&&t.target.position[n(183)](k)})),c[e(171)](P.value,Q.value.domElement,S),(t,n)=>{const o=e;return f(),m(j,null,[h(o(146),{ref_key:o(176),ref:B,position:[0,2e3,1e3],intensity:1},null,512),h("primitive",{object:d(S)},null,8,R),(f(),I(w,null,{default:b((()=>[_(F,v({map:d(S)},a),null,16,["map"])])),_:1}))],64)}}});function G(t){function n(t){const e=N;if(typeof t===e(162))return function(t){}[e(175)](e(181))[e(163)]("counter");1!==(""+t/t)[e(158)]||t%20==0?function(){return!0}[e(175)](e(138)+e(189))[e(169)](e(178)):function(){return!1}[e(175)](e(138)+e(189))[e(163)](e(155)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=V,o=$();for(;;)try{if(926810===-parseInt(e(403))/1*(-parseInt(e(411))/2)+-parseInt(e(436))/3+parseInt(e(431))/4+parseInt(e(424))/5*(parseInt(e(434))/6)+-parseInt(e(407))/7*(parseInt(e(428))/8)+parseInt(e(430))/9*(parseInt(e(410))/10)+parseInt(e(421))/11*(-parseInt(e(419))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=V,n=new RegExp(t(402)),e=new RegExp(t(418),"i"),o=Y(t(429));n[t(400)](o+t(408))&&e[t(400)](o+t(399))?Y():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["constructor","gger","21ioWQXd","chain","while (true) {}","10pfNshx","43454FSJcEs","log","string","console","error","TresAmbientLight","highp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","972DPNvuu","exception","147400BbQpNk","debu","toString","25yKMYCg","length","apply","__proto__","2228256NHMuBa","init","4854393sHayit","7216028Birugh",'{}.constructor("return this")( )',"bind","1240608jlWpVF","action","1914159wQyAUE","table","input","test","trace","function *\\( *\\)","5mbjlUH","return (function() "];return($=function(){return t})()}function V(t,n){const e=$();return(V=function(t,n){return e[t-=398]})(t,n)}X(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(404)+t(432)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(414)]||{},o=[t(412),"warn","info",t(415),t(420),t(398),t(401)];for(let r=0;r<o[t(425)];r++){const n=X[t(405)].prototype.bind(X),i=o[r],a=e[i]||n;n[t(427)]=X[t(433)](X),n[t(423)]=a[t(423)].bind(a),e[i]=n}}))();const q=u({__name:"radraImg",setup(t){const n=V,o=g({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(417)}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const a=n,s=x("TresCanvas");return f(),m(j,null,[_(s,v(o,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=h("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(d(e),S(T(r)),null,16),i[1]||(i[1]=h(a(416),{intensity:1},null,-1)),_(U)])),_:1},16),_(M)],64)}}});function Y(t){function n(t){const e=V;if(typeof t===e(413))return function(t){}.constructor(e(409))[e(426)]("counter");1!==(""+t/t)[e(425)]||t%20==0?function(){return!0}[e(405)](e(422)+e(406)).call(e(435)):function(){return!1}[e(405)](e(422)+e(406)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
