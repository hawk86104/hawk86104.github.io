import{e as a,b as e,a as t,J as s}from"./@tresjs.Fe0mFN5V1748945481918.js";import{P as i}from"./tweakpane.C0HtAJSg1748945481918.js";import{m as n,ae as o,db as r,V as l}from"./three.Bg9S6UMF1748945481918.js";import{d as m,a5 as u,a2 as d,G as p,o as c,u as h,r as w,h as f,e as v,f as j,I as x,j as z,am as g,ak as b,al as S,m as _}from"./@vue.C_fjx3FT1748945481918.js";import"./postprocessing.meaIGyM81748945481918.js";import"./@vueuse.C8008KiJ1748945481918.js";const C=["object","rotation-x"],k=m({__name:"threeExampleOcean",props:{size:{default:1},distortionScale:{default:3.7}},async setup(t){let s,i;const m=t,w=new n(1e3,1e3),{map:f}=([s,i]=u((()=>e({map:"./plugins/water/images/waternormals.jpg"}))),s=await s,i(),s);f.wrapS=f.wrapT=o;const v=new r(w,{textureWidth:512,textureHeight:512,waterNormals:f,sunDirection:new l,sunColor:16777215,waterColor:7695,distortionScale:3.7});d((()=>{m.size&&(v.material.uniforms.size.value=m.size),m.distortionScale&&(v.material.uniforms.distortionScale.value=m.distortionScale)}));const{onLoop:j}=a();return j((()=>{v.material.uniforms.time.value+=1/60})),(a,e)=>(c(),p("primitive",{object:h(v),"rotation-x":-Math.PI/2},null,8,C))}}),B=m({__name:"threeExampleOcean",setup(a){const e={clearColor:"#222",shadows:!0,alpha:!1},n=w({size:1,distortionScale:3.7}),o=new i({title:"参数",expanded:!0});o.addBinding(n,"distortionScale",{label:"水变化尺度",min:0,max:8,step:.1}),o.addBinding(n,"size",{label:"水精细度",min:.1,max:10,step:.1});const r=w({elevation:2,azimuth:180});return o.addBinding(r,"elevation",{label:"太阳地平线高",min:.1,max:10,step:.1}),o.addBinding(r,"azimuth",{label:"太阳地方位角",min:0,max:360,step:1}),(a,i)=>{const o=f("TresCanvas");return c(),v(o,_(e,{"window-size":""}),{default:j((()=>[i[0]||(i[0]=x("TresPerspectiveCamera",{position:[30,30,100]},null,-1)),z(h(t)),z(h(s),{turbidity:10,rayleigh:2,mieDirectionalG:.8,elevation:r.elevation,distance:1e4,azimuth:r.azimuth},null,8,["elevation","azimuth"]),(c(),v(g,null,{default:j((()=>[z(k,b(S(n)),null,16)])),_:1}))])),_:1},16)}}});export{B as default};
