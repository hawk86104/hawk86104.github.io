import{r as t,d as e}from"./@tresjs.W42D3qe_1718612273914.js";import{l as n}from"./utils.CJ4f1P4x1718612273914.js";import{ax as r,B as o,r as s,cG as a}from"./three.HHcT7YAr1718612273914.js";import{c as i,d as c,a as p}from"./three-mesh-bvh.EwUvM4mC1718612273914.js";import{m as l}from"./d3-geo.hgdnqE0g1718612273914.js";import{a3 as u,b as f,a2 as d,o as m,D as h,F as y,V as g,J as j,d as b,r as v,e as w,f as x,g as I,j as T,u as _,aj as E,ak as k,al as B,m as M}from"./@vue.CpOXM7bB1718612273914.js";import"./@vueuse.YjRg4c7n1718612273914.js";import"./tweakpane.qqn77PB81718612273914.js";import"./@fesjs.K6L2Ptsw1718612273914.js";import"./vue-router.8CWAXHk21718612273914.js";import"./lodash-es.nFpJXAf-1718612273914.js";import"./@qlin.yHhFDldE1718612273914.js";import"./pinia.Io9o2y5w1718612273914.js";import"./@floating-ui.BPbuo5Gx1718612273914.js";import"./@juggle.7yjBMqoW1718612273914.js";import"./d3-array.E5C1cfJ61718612273914.js";const P=["properties","renderOrder"],C=["args"],z=j("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),D={__name:"chinaMapMesh",async setup(e){let b,v;o.prototype.computeBoundsTree=i,o.prototype.disposeBoundsTree=c,s.prototype.raycast=p;const w=l().center([104,37.5]).translate([0,0]),x=([b,v]=u((()=>n("./plugins/simpleGIS/json/china.json","features"))),b=await b,v(),b),I={depth:10,bevelEnabled:!1},T=[];x.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[r,o]=w(e[t]);0===t&&n.moveTo(r,-o),n.lineTo(r,-o)}T.push({shape:n,properties:t.properties})}))}))}));const _=new r({color:"#3480C4",linewidth:1,linecap:"round"}),E=f();d((()=>{E.value&&E.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,_];t.material=e}))}));let k=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),k=t})();const B=(t,e)=>{t.object.material[0].color.set(16711680),k.innerText=t.object.properties.name,k.style.visibility="visible"},M=(t,e)=>{console.log("pointer-leave",t,e),t.material[0].color.set(3010559),k.style.visibility="hidden"},D=(t,e)=>{k.style.left="".concat(e.clientX+6,"px"),k.style.top="".concat(e.clientY+6,"px")},{onLoop:A}=t();return A((()=>{})),(t,e)=>(m(),h("TresGroup",{ref_key:"tgRef",ref:E},[(m(),h(y,null,g(T,((t,e)=>j("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:B,onPointerLeave:M,onPointerMove:D},[j("TresExtrudeGeometry",{args:[t.shape,I]},null,8,C),z],40,P))),64))],512))}},A=Q;!function(t,e){const n=Q,r=R();for(;;)try{if(919338===-parseInt(n(133))/1*(parseInt(n(142))/2)+parseInt(n(146))/3*(parseInt(n(128))/4)+-parseInt(n(125))/5+parseInt(n(124))/6*(-parseInt(n(149))/7)+-parseInt(n(131))/8*(parseInt(n(122))/9)+parseInt(n(141))/10*(-parseInt(n(130))/11)+parseInt(n(123))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[Q(129)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=Q,e=new RegExp(t(151)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=O(t(144));e[t(150)](r+"chain")&&n[t(150)](r+"input")?O():r("0")}))()}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[Q(129)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function Q(t,e){const n=R();return(Q=function(t,e){return n[t-=118]})(t,e)}function R(){const t=["6uneVEz","6221000PKbgBJ","counter","debu","4639244TVobic","apply","1184909XeQYLs","578904rItxvM","call","573163WzRPDT","bind","exception","action","console","TresPerspectiveCamera","stateObject","warn","30sryeGD","2gfYkAD","prototype","init","constructor","3BxBeuQ","gger","toString","5514726NcLZuo","test","function *\\( *\\)","while (true) {}","return (function() ","length","error","99UPQYal","41806296QCCPAA"];return(R=function(){return t})()}L(void 0,(function(){const t=Q,e=function(){const t=Q;let e;try{e=Function(t(119)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(137)]=e[t(137)]||{},r=["log",t(140),"info",t(121),t(135),"table","trace"];for(let o=0;o<r.length;o++){const e=L[t(145)][t(143)].bind(L),s=r[o],a=n[s]||e;e.__proto__=L.bind(L),e[t(148)]=a[t(148)][t(134)](a),n[s]=e}}))();const Y=j(A(138),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1),F=b({__name:"chinaMap",setup(n){const r=v({clearColor:"#201919"}),o=v({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),d((()=>{})),(t,n)=>{const s=w("TresCanvas");return m(),x(s,M(r,{"window-size":""}),{default:I((()=>[Y,T(_(e),E(k(o)),null,16),(m(),x(B,null,{default:I((()=>[T(D)])),_:1}))])),_:1},16)}}});function O(t){function e(t){const n=Q;if("string"==typeof t)return function(t){}[n(145)](n(118))[n(129)](n(126));1!==(""+t/t)[n(120)]||t%20==0?function(){return!0}.constructor("debugger")[n(132)](n(136)):function(){return!1}[n(145)](n(127)+n(147))[n(129)](n(139)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{F as default};
