import{a as t,B as n,s as e,c6 as o,C as r,k as s,a0 as c}from"./three.RuuDeeIf1736251016080.js";import{w as i}from"./@fesjs.SlXnoRjV1736251016080.js";import{b as a}from"./@tresjs.8C7OKmBm1736251016080.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.-gqSJxGX1736251016080.js";!function(t,n){const e=d,o=m();for(;;)try{if(326246===parseInt(e(176))/1+-parseInt(e(171))/2+parseInt(e(189))/3+parseInt(e(117))/4+-parseInt(e(133))/5+-parseInt(e(156))/6*(parseInt(e(159))/7)+-parseInt(e(179))/8*(parseInt(e(168))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(162)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=d,n=new RegExp(t(165)),e=new RegExp(t(193),"i"),o=_(t(148));n[t(174)](o+t(154))&&e[t(174)](o+t(182))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(162)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["position","while (true) {}","apply","error","children","function *\\( *\\)","getSize","#fff","64233zqYiGV","features","center","70926eorDYV","length","material","test","getY","231781naQXtS","computeBoundingBox",'{}.constructor("return this")( )',"184DxeMLV","deleteAttribute","call","input","counter","computeBoundsTree","setY","action","random","sub","1185024LmllMJ","constructor","console","getCenter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","then","count","attributes","2029216Hcoadr","depthWrite","transparent","prototype","table","setFromObject","add","push","catch","set","string","divideScalar","bind","exception","value","json","2865385JgnNer","Box3","uniforms","geometry","reflectivity","forEach","min","__proto__","copy","info","debu","getX","negate","raycast","expandByObject","init","max","gger","Vector3","setAttribute","side","chain","get","1122kTTNbg","boundingBox","applyMatrix4","1316bibxov"];return(m=function(){return t})()}g(void 0,(function(){const t=d;let n;try{n=Function("return (function() "+t(178)+");")()}catch(r){n=window}const e=n[t(191)]=n[t(191)]||{},o=["log","warn",t(142),t(163),t(130),t(121),"trace"];for(let s=0;s<o.length;s++){const n=g[t(190)].prototype.bind(g),r=o[s],c=e[r]||n;n[t(140)]=g[t(129)](g),n.toString=c.toString.bind(c),e[r]=n}}))();const h=(n,e=!1)=>{const o=d;n[o(177)]();const{max:r,min:s}=n[o(157)];n[o(180)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(116)][o(160)][o(115)];t++)e?(a[o(124)]((n.attributes[o(160)].getX(t)-(s.x+r.x)/2)/c),a[o(124)]((n[o(116)][o(160)][o(175)](t)-(s.y+r.y)/2)/i)):(a[o(124)]((n[o(116)].position[o(144)](t)-s.x)/c),a.push((n[o(116)].position[o(175)](t)-s.y)/i));const u=new Float32Array(a);n[o(152)]("uv",new t(u,2))};function d(t,n){const e=m();return(d=function(t,n){return e[t-=114]})(t,n)}const y=(t,n)=>new Promise(((e,o)=>{const r=d;i(t,{},{method:r(155),mergeRequest:!0,responseType:r(132)})[r(114)]((t=>{const o=r;n&&e(t[n]),e(t[o(169)])}))[r(125)]((t=>{console[r(163)](t),o(t)}))})),w=t=>{const n=d,e=(new(THREE[n(134)]))[n(122)](t),o=new(THREE[n(151)]);e[n(192)](o),t[n(164)][n(138)]((t=>{const e=n;t[e(160)][e(188)](o)})),t[n(160)][n(141)](o.negate())},x=()=>{const t=d;n[t(120)][t(184)]=u,n[t(120)].disposeBoundsTree=p,e[t(120)][t(146)]=f},b=async t=>{const n=d,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(136)].clone();h(i),i[n(184)]();const u=new o(i,{color:new r(n(167)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(119)]=!0,u.material[n(118)]=!0,u[n(173)].depthTest=!0,u[n(173)][n(153)]=c,u[n(173)].uniforms.config.value.w=20,u.material[n(135)][n(137)][n(131)]=.46,u};function j(t){const n=d,e=[];for(let r=0;r<t[n(172)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(172)];r++)o[n(123)](e[r]);o[n(128)](e[n(172)]);for(let r=0;r<e[n(172)];r++)e[r][n(188)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=d;if(typeof t===e(127))return function(t){}.constructor(e(161)).apply(e(183));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(143)+e(150))[e(181)](e(186)):function(){return!1}[e(190)](e(143)+e(150))[e(162)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,y as l,h as r,b as s};
