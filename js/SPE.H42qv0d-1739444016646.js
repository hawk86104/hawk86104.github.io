import{_ as t,bN as e,b as i,C as n,Y as s,l as o}from"./three.W6GmiHfn1739444016646.js";const r=f;!function(t,e){const i=f,n=c();for(;;)try{if(447511===parseInt(i(309))/1*(-parseInt(i(234))/2)+parseInt(i(455))/3*(-parseInt(i(314))/4)+parseInt(i(246))/5*(-parseInt(i(229))/6)+parseInt(i(450))/7+parseInt(i(643))/8*(parseInt(i(354))/9)+-parseInt(i(485))/10*(parseInt(i(540))/11)+parseInt(i(580))/12)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const a=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(369)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function c(){const t=["      }","      vec3 center = rotationCenter;","        pos.y += wiggleCos;","randomVector3","blending","maxAge","    highp float positionInTime = (age / maxAge);","shaderChunks","ShaderChunk","particleCount","void main() {","AdditiveBlending","NEGATIVE_INFINITY","        float row = floor( (frameNumber - column) / framesX );","    #ifdef ALPHATEST","_center","attribute vec4 rotation;","resetFlags","size","BOOLEAN","5863158TFyYmE","  return 1.0 - when_lt(x, y);","    #ifdef COLORIZE","elements","particles, can support only","6BrOOht","      if( rotation.y == 0.0 ) {","amd","random","roundToNearestMultiple","clamp","indexOf","    vec3 pos = vec3( position );","TypedArrayHelper","hasOwnProperty","dispose","BufferAttribute","activeMultiplier","_distributionClamp","    pos += force;","vertex","spread","spreadClamp","_radius","   float b = mod( hex, PACKED_COLOR_SIZE );","SPHERE","    varying vec4 vSpriteSheet;","setUpdateRange","      vec3 translated;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","angle","    float fIndex = 0.0;","        vSpriteSheet.x = 1.0 / framesX;","_resetParticle","deltaTime","2574500nyLfYp","sqrt","paramFetchingFunctions","    vColor = vec4( c, o );","getPackedRotationAxis","gger","attribute vec3 velocity;","resetDynamic","       float s = sin(angle);","       float y = 1.0 - gl_PointCoord.y - 0.5;","#define PACKED_COLOR_DIVISOR 255.0","#ifdef SHOULD_ROTATE_PARTICLES","    float pointSizePerspective = pointSize * perspective;","fog","bufferUpdateCount","_activateParticles","return (function() ","sin","   c.g = g / PACKED_COLOR_DIVISOR;","randomVector3OnLine","count","#ifdef SHOULD_CALCULATE_SPRITE","   return params.x;","           unpackColor( color.z ),","_updateDefines","    #endif","attributeOffset","rotationFunctions","typeSizeMap","colorize","updateFlags","_rotationCenter","_attributesNeedRefresh","   vec3 c = vec3( 0.0 );","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","emitterIDs","       if ( vColor.w < float(ALPHATEST) ) discard;","position","spe","defines","        float rowNorm = row / framesY;","triggerPoolEmitter","SPE.Group: maxParticleCount exceeded. Requesting","velocity","frameCount","alphaTest","randomVector3OnDisc","ensureArrayTypedArg","   return c;","    varying float vAngle;","setMat3","emitters","_triggerSingleEmitter","    force *= drag;","           unpackColor( color.w )","22pYpNMp","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","multiplyScalar","textureLoop","Points","uniform float deltaTime;","   return params.y;","    #else","BufferGeometry","number","color","branchAvoidanceFunctions","Invalid argument types, or argument types do not match:","_resetBufferRanges","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","randomDirectionVector3OnDisc","_value","attributeKeys","       float oc = 1.0 - c;","_updateUniforms","_createNewWhenPoolEmpty","_calculatePPSValue","resetUpdateRange","lerp","textureFrames","MathUtils","stateObject","       vec3 c = vec3(1.0);","addEmitter","#ifdef SHOULD_ROTATE_TEXTURE","boolean","Argument is not instanceof SPE.Emitter:","_ensureTypedArray","      rotationMatrix = getRotationMatrix( axis, angle );","rotationCenter","logdepthbuf_fragment","_assignParamsValue","_updateBuffers","attributes","OBJECT","5195124gUxGta","_createBufferAttribute","StaticDrawUsage","type","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","Vector3","generateUUID","shrink","round","DISC","varyings","    float shouldApplyValue = 0.0;","isArray","join","attribute vec4 params;","setSize","error","_angle","setFromArray","set","usage","        pos.x += wiggleSin;","floatOverLifetime","bufferUpdateKeys","uniform float runTime;","      translated = rotationCenter - pos;","tick","randomFloat","updateRange","activationIndex","setVec3","       float c = cos( -vAngle );","_attributesNeedDynamicReset","normalize","        float framesY = textureAnimation.y;","axis","   return acceleration.xyz * age;","ensureInstanceOf","       vec3 c = isAlive * getColorOverLifetime(","trace","remove","attribute vec4 angle;","ensureTypedArg","           unpackColor( color.y ),","test","SPE.Group pool ran out.","        float framesX = vSpriteSheet.x;","    gl_PointSize = pointSizePerspective;","abs","console","vec3 unpackRotationAxis( in float hex ) {","   return modelViewMatrix * vec4( position, 1.0 );","opacity","    vec4 rotatedTexture = texture2D( tex, vUv );","    }","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","BOX","scale","    highp float age = getAge();","    #ifdef SHOULD_CALCULATE_SPRITE","randomColorAsHex","Color",'{}.constructor("return this")( )',"4871800LBhobz","float when_le(float x, float y) {","disable","acceleration","function","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","texture","#define PACKED_COLOR_SIZE 256.0","fog_pars_vertex","offset","splice","fragment","paramsArray","      vec3 axis = unpackRotationAxis( rotation.x );","_decrementParticleCount","    #ifdef SHOULD_WIGGLE_PARTICLES","removeEmitter","push","_poolCreationSettings","_createGetterSetters","fog_pars_fragment","float or(float a, float b) {","distributionClamp","float getMaxAge() {","activationEnd","min","utils","copy","updateMap","setVec2Components","Emitter already belongs to another group. Will not add to requested group.","    highp float maxAge = getMaxAge();","_axisSpread","randomVector3OnSphere","2386884oeSVKD","_assignValue","exports","flagUpdate","center","2IYYoxF","alive","       );","attribute vec4 opacity;","depthTest","bufferUpdateRanges","componentSize","                   0.0,                                0.0,                                0.0,                                1.0);","randomise","           return pos;","valueOverLifetimeLength","angleSpread","5MxGEfM","keys","Vector4","uniform float scale;","vec3 getVelocity( in float age ) {","direction","attribute vec4 acceleration;","rotateTexture","Group","Will not resize.","array","unpackColor","ensureValueOverLifetimeCompliance","distributions","unshift","   c.b = b / PACKED_COLOR_DIVISOR;","arrayType","colorOverLifetime","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","indexOffset","        float wiggleAmount = positionInTime * getWiggle();","bind","SHOULD_WIGGLE_PARTICLES","`emitter` argument must be instance of SPE.Emitter. Was provided with:","       axis = normalize(axis);","value","call","attribute vec3 rotationCenter;","max","vec3 unpackColor( in float hex ) {","      float angle = 0.0;","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","drag","ShaderAttribute","wiggle","        vSpriteSheet.z = columnNorm;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","log","uuid","_radiusScale","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","float getAlive() {","subarray","   }","age","activeParticleCount","common","material","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","_assignAbsLifetimeValue","SHOULD_ROTATE_TEXTURE","        float column = floor(mod( frameNumber, framesX ));","unpackRotationAxis","types","__proto__","transparent","        float wiggleSin = isAlive * sin( wiggleAmount );","attribute vec4 color;","      mat4 rotationMatrix;","constructor","449511KUEjuQ","needsUpdate","clone","_pool","updateMin","139520lmLSNi","releaseIntoPool","forceUpdateAll","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","float when_eq( float x, float y ) {","radius","_spread","TypedArray is already of size:","#endif","ensureArrayInstanceOf","setVec4Components","function *\\( *\\)","_axis","logdepthbuf_pars_vertex","replace","info","_assignRotationValue","setRGB","isStatic","    highp float value = 0.0;","_incrementParticleCount","   return params.w;","floor","add","_setBufferUpdateRanges","duration","counter","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","particlesPerSecond","params","_assignColorValue","itemSize","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","_updateAttributeUpdateRange","geometry","_assignForceValue","getHex","_setAttributeOffset","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","depthWrite","9QRWdJx","        float perspective = scale / length( mvPosition.xyz );","input","    return a * b;","_assignPositionValue","POSITIVE_INFINITY","hasPerspective","        pos.z += wiggleSin;","_spreadClamp","  return 1.0 - when_gt(x, y);","    vec3 value = vec3( 0.0 );","    return value;","    highp float alive = getAlive();","attributeCount","    return min(a + b, 1.0);","apply","warn","setVec3Components","setColor","length","float getWiggle() {","table","getValueAtIndex","Vector2","radiusScale","undefined","NUMBER","_assignAngleValue","getFromPool","SHOULD_ROTATE_PARTICLES","object","_onRemove","interpolateArray","toString","rotation","Emitter","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","bufferAttribute","float getAge() {","           unpackColor( color.x ),","DynamicDrawUsage","SHOULD_CALCULATE_SPRITE","_checkParticleAges","float when_gt(float x, float y) {","    highp float isAlive = when_gt( alive, 0.0 );","fog_fragment","REVISION","shaders","       float x = gl_PointCoord.x - 0.5;","typedArray","    #ifdef SHOULD_ROTATE_PARTICLES","        float wiggleCos = isAlive * cos( wiggleAmount );","setVec4","updateCounts","_distribution","   return velocity * age;","group","   c *= vec3( 2.0 );","randomDirectionVector3OnSphere","fixedTimeStep","_applyAttributesToGeometry","           positionInTime,","prototype","uniforms","maxParticleCount","reset","grow","dynamicBuffer","arrayValuesAreEqual","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","mesh","TypedArrayConstructor","static","        pos = getRotation( pos, positionInTime );","        float rowNorm = vSpriteSheet.w;","updateMax"];return(c=function(){return t})()}!function(){a(this,(function(){const t=f,e=new RegExp(t(325)),i=new RegExp(t(287),"i"),n=p("init");e[t(624)](n+"chain")&&i[t(624)](n+t(356))?p():n("0")}))()}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();h(void 0,(function(){const t=f;let e;try{e=Function(t(501)+t(642)+");")()}catch(s){e=window}const i=e[t(629)]=e[t(629)]||{},n=[t(284),t(370),t(329),"error","exception",t(375),t(619)];for(let o=0;o<n[t(373)];o++){const e=h[t(308)][t(416)][t(267)](h),s=n[o],r=i[s]||e;e[t(303)]=h[t(267)](h),e[t(387)]=r[t(387)][t(267)](r),i[s]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===r(647)&&define[r(457)]?define(r(523),u):"undefined"!=typeof exports&&typeof module!==r(379)&&(module[r(231)]=u),u[r(463)]=function(t,e,i,n){const s=r;this[s(240)]=i||1,this[s(448)]=e||1,this[s(425)]=t||Float32Array,this[s(256)]=new t(e*this[s(240)]),this.indexOffset=n||0},u[r(463)][r(308)]=u[r(463)],u[r(463)][r(416)][r(595)]=function(t,e){const i=r,n=this[i(256)][i(373)];return!e&&(t*=this[i(240)]),t<n?this[i(587)](t):t>n?this[i(420)](t):void console[i(329)](i(321),t+".",i(255))},u[r(463)][r(416)][r(587)]=function(t){const e=r;return this.array=this.array[e(291)](0,t),this[e(448)]=t,this},u.TypedArrayHelper[r(416)][r(420)]=function(t){const e=r,i=this.array,n=new(this[e(425)])(t);return n[e(599)](i),this[e(256)]=n,this[e(448)]=t,this},u[r(463)][r(416)].splice=function(t,e){const i=r;t*=this.componentSize,e*=this.componentSize;const n=[],s=this.array,o=s[i(373)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(212)](s[r]);return this[i(598)](0,n),this},u.TypedArrayHelper[r(416)][r(598)]=function(t,e){const i=r,n=t+e[i(373)];return n>this.array[i(373)]?this[i(420)](n):n<this[i(256)][i(373)]&&this[i(587)](n),this[i(256)][i(599)](e,this[i(265)]+t),this},u.TypedArrayHelper[r(416)].setVec2=function(t,e){return this.setVec2Components(t,e.x,e.y)},u.TypedArrayHelper.prototype[r(224)]=function(t,e,i){const n=r,s=this[n(256)],o=this[n(265)]+t*this[n(240)];return s[o]=e,s[o+1]=i,this},u[r(463)][r(416)].setVec3=function(t,e){return this[r(371)](t,e.x,e.y,e.z)},u.TypedArrayHelper[r(416)][r(371)]=function(t,e,i,n){const s=r,o=this[s(256)],a=this[s(265)]+t*this[s(240)];return o[a]=e,o[a+1]=i,o[a+2]=n,this},u[r(463)][r(416)][r(406)]=function(t,e){return this[r(324)](t,e.x,e.y,e.z,e.w)},u[r(463)][r(416)][r(324)]=function(t,e,i,n,s){const o=this[r(256)],a=this.indexOffset+t*this.componentSize;return o[a]=e,o[a+1]=i,o[a+2]=n,o[a+3]=s,this},u[r(463)].prototype[r(535)]=function(t,e){const i=r;return this.setFromArray(this[i(265)]+t*this[i(240)],e[i(453)])},u[r(463)][r(416)].setMat4=function(t,e){const i=r;return this.setFromArray(this[i(265)]+t*this[i(240)],e[i(453)])},u[r(463)].prototype[r(372)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},u[r(463)][r(416)].setNumber=function(t,e){const i=r;return this[i(256)][this[i(265)]+t*this[i(240)]]=e,this},u.TypedArrayHelper[r(416)][r(376)]=function(t){return this[r(256)][this.indexOffset+t]},u[r(463)][r(416)].getComponentValueAtIndex=function(t){const e=r;return this.array[e(291)](this.indexOffset+t*this[e(240)])},u[r(279)]=function(t,e,i){const n=r,s=u[n(279)][n(513)];this[n(583)]="string"==typeof t&&s[n(464)](t)?t:"f",this[n(240)]=s[this[n(583)]],this[n(262)]=i||Float32Array,this[n(403)]=null,this[n(391)]=null,this.dynamicBuffer=!!e,this.updateMin=0,this[n(429)]=0},u.ShaderAttribute[r(308)]=u[r(279)],u.ShaderAttribute[r(513)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u.ShaderAttribute[r(416)][r(477)]=function(t,e){const i=r;this.updateMin=Math[i(220)](t*this[i(240)],this.updateMin*this.componentSize),this[i(429)]=Math[i(274)](e*this[i(240)],this[i(429)]*this[i(240)])},u[r(279)][r(416)][r(232)]=function(){const t=r,e=this[t(391)];!e[t(608)]&&(e[t(608)]={});const i=e[t(608)];i[t(204)]=this.updateMin,i[t(505)]=Math[t(220)](this.updateMax-this[t(313)]+this[t(240)],this[t(403)][t(256)][t(373)]),e[t(310)]=!0},u.ShaderAttribute[r(416)].resetUpdateRange=function(){this[r(313)]=0,this.updateMax=0},u[r(279)][r(416)].resetDynamic=function(){const e=r;this[e(391)][e(600)]=this.dynamicBuffer?t[e(394)]:t[e(582)]},u[r(279)][r(416)][r(205)]=function(t,e){const i=r;this[i(403)][i(205)](t,e),this[i(316)]()},u[r(279)][r(416)].forceUpdateAll=function(){const e=r;this[e(391)][e(256)]=this.typedArray[e(256)],this[e(391)].updateRange[e(204)]=0,this[e(391)][e(608)][e(505)]=-1,this.bufferAttribute.usage=t[e(582)],this[e(391)][e(310)]=!0},u.ShaderAttribute[r(416)][r(572)]=function(t){const e=r;null!==this[e(403)]&&this.typedArray[e(448)]===t*this.componentSize||(null!==this.typedArray&&this.typedArray[e(448)]!==t?this[e(403)][e(595)](t):null===this[e(403)]&&(this[e(403)]=new(u[e(463)])(this[e(262)],t,this[e(240)])))},u[r(279)].prototype._createBufferAttribute=function(e){const i=r;if(this._ensureTypedArray(e),null!==this[i(391)])return this[i(391)][i(256)]=this.typedArray[i(256)],parseFloat(t[i(400)])>=81&&(this[i(391)][i(505)]=this[i(391)][i(256)][i(373)]/this[i(391)][i(345)]),void(this[i(391)][i(310)]=!0);this[i(391)]=new(t[i(466)])(this.typedArray[i(256)],this[i(240)]),this[i(391)].usage=this[i(421)]?t[i(394)]:t[i(582)]},u[r(279)].prototype.getLength=function(){const t=r;return null===this[t(403)]?0:this[t(403)].array.length},u[r(437)]={defines:[r(202),r(495)][r(593)]("\n"),uniforms:[r(545),r(604),"uniform sampler2D tex;","uniform vec4 textureAnimation;",r(249)][r(593)]("\n"),attributes:[r(252),r(491),r(446),r(273),r(594),"attribute vec4 size;",r(621),r(306),r(237)].join("\n"),varyings:["varying vec4 vColor;",r(569),r(534),r(322),r(506),r(476),r(322)].join("\n"),branchAvoidanceFunctions:[r(397),"    return max(sign(x - y), 0.0);","}","float when_lt(float x, float y) {",r(200),"}",r(318),"    return 1.0 - abs( sign( x - y ) );","}","float when_ge(float x, float y) {",r(451),"}",r(644),r(363),"}","float and(float a, float b) {",r(357),"}",r(216),r(368),"}"][r(593)]("\n"),unpackColor:[r(275),r(518),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",r(264),r(474),"   c.r = r / PACKED_COLOR_DIVISOR;",r(503),r(261),r(533),"}"].join("\n"),unpackRotationAxis:[r(630),r(518),r(297),r(264),r(474),"   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;",r(261),r(411),"   c -= vec3( 1.0 );",r(533),"}"][r(593)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",r(333),r(390),r(481),r(591),r(288),"",r(283),"       fIndex = float( i );",r(352),r(584),r(634),"",r(365),"}"][r(593)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {",r(364),r(519),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"][r(593)]("\n"),paramFetchingFunctions:[r(290),r(507),"}",r(392),r(546),"}",r(218),"   return params.z;","}",r(374),r(335),"}"][r(593)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",r(631),"}",r(250),r(409),"}","vec3 getAcceleration( in float age ) {",r(616),"}"][r(593)]("\n"),rotationFunctions:[r(496),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {",r(270),r(493),"       float c = cos(angle);",r(558),"",r(554),r(635),r(277),r(241),r(292),"","   vec3 getRotation( in vec3 pos, in float positionInTime ) {",r(456),r(243),r(430),"",r(208),r(431),r(478),r(307),r(276),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",r(541),r(605),r(573),"      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }",r(322)][r(593)]("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","","    #ifdef SHOULD_ROTATE_TEXTURE",r(402),r(494),r(611),"       float s = sin( -vAngle );",r(282),r(510),"",r(639),r(626),"        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;",r(428),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",r(423),r(510),"",r(633)][r(593)]("\n")},u[r(401)]={vertex:[u[r(437)][r(524)],u.shaderChunks.uniforms,u[r(437)][r(578)],u[r(437)][r(590)],e[r(295)],t[r(438)][r(327)],t[r(438)][r(203)],u.shaderChunks[r(551)],u[r(437)][r(257)],u[r(437)][r(301)],u[r(437)][r(602)],u[r(437)][r(263)],u[r(437)][r(487)],u[r(437)].forceFetchingFunctions,u[r(437)][r(512)],r(440),r(638),r(366),r(226),r(436),r(398),r(210),r(266),r(305),r(405),r(510),"    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );",r(462),r(289),"    force += vel;",r(538),"    force += accel * age;",r(469),r(210),r(601),r(432),r(361),r(510),r(404),r(427),r(510),r(317),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    #ifdef HAS_PERSPECTIVE",r(355),r(547),"        float perspective = 1.0;","    #endif",r(497),r(452),r(618),r(415),r(393),r(623),r(508),r(539),r(236),r(547),r(567),r(510),r(341),r(488),"    #ifdef SHOULD_ROTATE_TEXTURE","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",r(510),"    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;",r(614),"        float loopCount = textureAnimation.w;","        float totalFrames = textureAnimation.z;",r(346),r(300),r(443),"        float columnNorm = column / framesX;",r(525),r(482),"        vSpriteSheet.y = 1.0 / framesY;",r(281),"        vSpriteSheet.w = rowNorm;",r(510),r(627),"    gl_Position = projectionMatrix * mvPosition;",t[r(438)].logdepthbuf_vertex,t[r(438)].fog_vertex,"}"][r(593)]("\n"),fragment:[u[r(437)][r(417)],t[r(438)].common,t[r(438)][r(215)],t[r(438)].logdepthbuf_pars_fragment,u[r(437)][r(590)],u[r(437)][r(551)],r(440),"    vec3 outgoingLight = vColor.xyz;","    ",r(444),r(521),r(510),u[r(437)][r(253)],e[r(575)],"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",r(479),e[r(399)],"}"][r(593)]("\n")},u.utils={types:{BOOLEAN:r(570),STRING:"string",NUMBER:"number",OBJECT:r(384)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=r;if(Array[n(592)](t)){for(let s=t[n(373)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(622)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=r;if(Array[n(592)](t)){for(let s=t[n(373)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(617)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=r;e=e||3,i=i||3,!1===Array[n(592)](t._value)&&(t._value=[t[n(556)]]),!1===Array[n(592)](t[n(320)])&&(t._spread=[t[n(320)]]);const s=this[n(460)](t._value[n(373)],e,i),o=this[n(460)](t._spread[n(373)],e,i),a=Math[n(274)](s,o);t[n(556)][n(373)]!==a&&(t[n(556)]=this[n(386)](t[n(556)],a)),t[n(320)].length!==a&&(t._spread=this[n(386)](t._spread,a))},interpolateArray(t,e){const i=r,n=t[i(373)],s=["function"==typeof t[0][i(311)]?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(336)](e),a=Math.ceil(e),c=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return s[i(212)]("function"==typeof t[n-1][i(311)]?t[n-1][i(311)]():t[n-1]),s},clamp(t,e,i){const n=r;return Math[n(274)](e,Math[n(220)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[r(458)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,s,o){const a=r;let c,h=this[a(302)];return typeof e===h.NUMBER&&typeof s===h.NUMBER?e+(s-e)*o:e instanceof t[a(377)]&&s instanceof t[a(377)]?(c=e[a(311)](),c.x=this[a(563)](e.x,s.x,o),c.y=this[a(563)](e.y,s.y,o),c):e instanceof i&&s instanceof t[a(585)]?(c=e[a(311)](),c.x=this[a(563)](e.x,s.x,o),c.y=this[a(563)](e.y,s.y,o),c.z=this.lerp(e.z,s.z,o),c):e instanceof t[a(248)]&&s instanceof t[a(248)]?(c=e[a(311)](),c.x=this[a(563)](e.x,s.x,o),c.y=this[a(563)](e.y,s.y,o),c.z=this[a(563)](e.z,s.z,o),c.w=this[a(563)](e.w,s.w,o),c):e instanceof n&&s instanceof t[a(641)]?(c=e[a(311)](),c.r=this.lerp(e.r,s.r,o),c.g=this[a(563)](e.g,s.g,o),c.b=this.lerp(e.b,s.b,o),c):void console[a(370)](a(552),e,s)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=r;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(628)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=r;for(let i=0;i<t[e(373)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[r(458)]()-.5),randomVector3(t,e,i,n,s){const o=r;let a=i.x+(Math[o(458)]()*n.x-.5*n.x),c=i.y+(Math[o(458)]()*n.y-.5*n.y),h=i.z+(Math[o(458)]()*n.z-.5*n.z);s&&(a=.5*-s.x+this.roundToNearestMultiple(a,s.x),c=.5*-s.y+this[o(459)](c,s.y),h=.5*-s.z+this[o(459)](h,s.z)),t.typedArray.setVec3Components(e,a,c,h)},randomColor(t,e,i,n){const s=r;let o=i.r+Math.random()*n.x,a=i.g+Math.random()*n.y,c=i.b+Math[s(458)]()*n.z;o=this[s(460)](o,0,1),a=this.clamp(a,0,1),c=this[s(460)](c,0,1),t[s(403)].setVec3Components(e,o,a,c)},randomColorAsHex:function(){const e=r,i=new(t[e(641)]);return function(t,n,s,o){const r=e,a=s[r(373)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(222)](s[e]),i.r+=Math[r(458)]()*t.x-.5*t.x,i.g+=Math[r(458)]()*t.y-.5*t.y,i.b+=Math[r(458)]()*t.z-.5*t.z,i.r=this[r(460)](i.r,0,1),i.g=this[r(460)](i.g,0,1),i.b=this[r(460)](i.b,0,1),c[r(212)](i[r(350)]())}t[r(403)][r(324)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=r,o=i[s(311)]();o[s(563)](n,Math[s(458)]()),t[s(403)][s(371)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,a,c){const h=r;let u=2*Math[h(458)]()-1,l=6.2832*Math[h(458)](),f=Math[h(486)](1-u*u),p=this[h(607)](n,s),d=0,m=0,g=0;a&&(p=Math[h(588)](p/a)*a),d=f*Math.cos(l)*p,m=f*Math[h(502)](l)*p,g=u*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[h(403)][h(371)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,a){const c=r;let h=6.2832*Math.random(),u=Math[c(628)](this.randomFloat(n,s)),l=0,f=0,p=0;a&&(u=Math[c(588)](u/a)*a),l=Math.cos(h)*u,f=Math.sin(h)*u,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t[c(403)][c(371)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=r,i=new(t[e(585)]);return function(t,n,s,o,r,a,c,h){const u=e;i[u(222)](a),i.x-=s,i.y-=o,i.z-=r,i[u(613)]()[u(542)](-this[u(607)](c,h)),t[u(403)][u(371)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=r,i=new(t[e(585)]);return function(t,n,s,o,r,a,c,h){const u=e;i[u(222)](a),i.x-=s,i.y-=o,i.z-=r,i[u(613)]()[u(542)](-this[u(607)](c,h)),t[u(403)][u(371)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=r,n=new(t[e(585)]),s=new i,o=new(t[e(641)]),a=new i(1,1,1);return function(t,i){const r=e;return n[r(222)](t)[r(613)](),s.copy(i).normalize(),n.x+=.5*-i.x+Math[r(458)]()*i.x,n.y+=.5*-i.y+Math.random()*i.y,n.z+=.5*-i.z+Math.random()*i.z,n[r(613)]()[r(337)](a)[r(542)](.5),o[r(331)](n.x,n.y,n.z),o[r(350)]()}}()},u[r(254)]=function(e){const i=r,n=u[i(221)],a=n[i(302)];(e=n[i(622)](e,a[i(579)],{}))[i(201)]=n[i(622)](e[i(201)],a[i(579)],{}),this[i(285)]=t[i(565)][i(586)](),this[i(413)]=n[i(622)](e[i(413)],a[i(380)],.016),this[i(201)]=n.ensureInstanceOf(e[i(201)].value,s,null),this[i(564)]=n.ensureInstanceOf(e[i(201)].frames,t[i(377)],new(t[i(377)])(1,1)),this.textureFrameCount=n[i(622)](e[i(201)][i(529)],a[i(380)],this.textureFrames.x*this[i(564)].y),this[i(543)]=n[i(622)](e[i(201)].loop,a.NUMBER,1),this[i(564)][i(274)](new(t[i(377)])(1,1)),this.hasPerspective=n[i(622)](e[i(360)],a.BOOLEAN,!0),this[i(514)]=n[i(622)](e[i(514)],a[i(449)],!0),this.maxParticleCount=n[i(622)](e[i(418)],a[i(380)],null),this[i(434)]=n[i(622)](e.blending,a[i(380)],t[i(441)]),this[i(304)]=n[i(622)](e.transparent,a[i(449)],!0),this[i(530)]=parseFloat(n[i(622)](e[i(530)],a[i(380)],0)),this[i(353)]=n[i(622)](e[i(353)],a.BOOLEAN,!1),this.depthTest=n[i(622)](e[i(238)],a[i(449)],!0),this[i(498)]=n[i(622)](e[i(498)],a[i(449)],!0),this.scale=n.ensureTypedArg(e[i(637)],a.NUMBER,300),this.emitters=[],this[i(520)]=[],this[i(312)]=[],this._poolCreationSettings=null,this[i(560)]=0,this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!1,this[i(439)]=0,this.uniforms={tex:{type:"t",value:this[i(201)]},textureAnimation:{type:"v4",value:new(t[i(248)])(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math[i(274)](Math[i(628)](this[i(543)]),1))},fogColor:{type:"c",value:this[i(498)]?new(t[i(641)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(637)]}},this[i(524)]={HAS_PERSPECTIVE:this[i(360)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:u[i(244)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(564)].x>1||this[i(564)].y>1},this[i(578)]={position:new(u[i(279)])("v3",!0),acceleration:new u.ShaderAttribute("v4",!0),velocity:new(u[i(279)])("v3",!0),rotation:new(u[i(279)])("v4",!0),rotationCenter:new(u[i(279)])("v3",!0),params:new(u[i(279)])("v4",!0),size:new(u[i(279)])("v4",!0),angle:new(u[i(279)])("v4",!0),color:new(u[i(279)])("v4",!0),opacity:new(u[i(279)])("v4",!0)},this[i(557)]=Object[i(247)](this[i(578)]),this[i(367)]=this[i(557)].length,this[i(296)]=new o({uniforms:this.uniforms,vertexShader:u[i(401)][i(470)],fragmentShader:u[i(401)][i(206)],blending:this.blending,transparent:this[i(304)],alphaTest:this[i(530)],depthWrite:this.depthWrite,depthTest:this[i(238)],defines:this[i(524)],fog:this[i(498)]}),this[i(348)]=new(t[i(548)]),this[i(424)]=new(t[i(544)])(this[i(348)],this[i(296)]),null===this[i(418)]&&console[i(370)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},u[r(254)][r(308)]=u.Group,u[r(254)][r(416)][r(509)]=function(){const t=r;let e,i=this[t(536)],n=i[t(373)]-1,s=this.defines;for(;n>=0;--n)e=i[n],!s[t(395)]&&(s[t(299)]=s[t(299)]||!!Math[t(274)](Math.max[t(369)](null,e[t(480)][t(271)]),Math[t(274)][t(369)](null,e.angle[t(471)]))),s[t(383)]=s[t(383)]||!!Math[t(274)](e[t(388)].angle,e[t(388)].angleSpread),s[t(268)]=s[t(268)]||!!Math.max(e[t(280)][t(271)],e[t(280)][t(471)]);this[t(296)][t(310)]=!0},u[r(254)][r(416)][r(414)]=function(){const t=r;let e,i,n=this[t(578)],s=this[t(348)],o=s.attributes;for(const r in n)n[t(464)](r)&&(e=n[r],i=o[r],i?i.array=e[t(403)][t(256)]:s.setAttribute(r,e[t(391)]),e[t(391)][t(310)]=!0);this.geometry.setDrawRange(0,this.particleCount)},u.Group[r(416)][r(568)]=function(t){const e=r;if(t instanceof u[e(389)]==!1)return void console[e(596)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this.emitterIDs[e(461)](t[e(285)])>-1)return void console[e(596)]("Emitter already exists in this group. Will not add again.");if(null!==t[e(410)])return void console[e(596)](e(225));const i=this[e(578)],n=this[e(439)],s=n+t[e(439)];this.particleCount=s,null!==this[e(418)]&&this[e(439)]>this[e(418)]&&console[e(370)](e(527),this[e(439)],e(454),this.maxParticleCount),t[e(561)](t.maxAge._value+t[e(435)][e(320)]),t[e(338)](this.attributeKeys),t[e(351)](n),t[e(410)]=this,t[e(578)]=this[e(578)];for(const o in i)i[e(464)](o)&&i[o][e(581)](null!==this[e(418)]?this[e(418)]:this[e(439)]);for(let o=n;o<s;++o)t[e(358)](o),t[e(349)](o,e(528)),t[e(349)](o,e(646)),t[e(298)](o,e(632)),t[e(298)](o,e(448)),t[e(381)](o),t[e(330)](o),t[e(576)](o),t._assignColorValue(o);return this[e(414)](),this[e(536)][e(212)](t),this[e(520)][e(212)](t.uuid),this[e(509)](t),this[e(296)][e(310)]=!0,this[e(348)].needsUpdate=!0,this[e(517)]=!0,this},u[r(254)][r(416)][r(211)]=function(t){const e=r,i=this[e(520)].indexOf(t[e(285)]);if(t instanceof u.Emitter==!1)return void console[e(596)](e(269),t);if(-1===i)return void console[e(596)]("Emitter does not exist in this group. Will not remove.");const n=t.attributeOffset,s=n+t[e(439)],o=this[e(578)][e(343)][e(403)];for(let r=n;r<s;++r)o[e(256)][4*r]=0,o[e(256)][4*r+1]=0;this[e(536)].splice(i,1),this.emitterIDs.splice(i,1);for(const r in this[e(578)])this.attributes.hasOwnProperty(r)&&this.attributes[r][e(205)](n,s);this[e(439)]-=t.particleCount,t[e(385)](),this[e(517)]=!0},u[r(254)][r(416)][r(382)]=function(){const t=r,e=this[t(312)],i=this[t(560)];if(e[t(373)])return e.pop();if(i){const e=new u.Emitter(this[t(213)]);return this[t(568)](e),e}return null},u[r(254)].prototype.releaseIntoPool=function(t){const e=r;if(t instanceof u[e(389)]!=!1)return t[e(419)](),this[e(312)][e(260)](t),this;console[e(596)](e(571),t)},u[r(254)].prototype.getPool=function(){return this[r(312)]},u[r(254)][r(416)].addPool=function(t,e,i){const n=r;let s;this[n(213)]=e,this[n(560)]=!!i;for(let o=0;o<t;++o)s=Array[n(592)](e)?new u.Emitter(e[o]):new(u[n(389)])(e),this.addEmitter(s),this.releaseIntoPool(s);return this},u[r(254)][r(416)][r(537)]=function(e){const i=r,n=this[i(382)](),s=this;if(null!==n)return e instanceof t[i(585)]&&(n[i(522)][i(271)].copy(e),n.position.value=n.position[i(271)]),n.enable(),setTimeout((()=>{const t=i;n[t(645)](),s[t(315)](n)}),1e3*Math.max(n[i(339)],n[i(435)][i(271)]+n[i(435)][i(471)])),this;console.log(i(625))},u.Group[r(416)][r(526)]=function(t,e){const i=r;if(typeof t===i(549)&&t>1)for(let n=0;n<t;++n)this[i(537)](e);else this._triggerSingleEmitter(e);return this},u[r(254)][r(416)][r(559)]=function(t){const e=r;this.uniforms.runTime.value+=t,this[e(417)][e(484)][e(271)]=t},u[r(254)][r(416)][r(553)]=function(){const t=r;let e=this.attributeKeys,i=this[t(367)]-1,n=this[t(578)];for(;i>=0;--i)n[e[i]][t(562)]()},u[r(254)][r(416)]._updateBuffers=function(t){const e=r;let i,n,s,o=this[e(557)],a=this.attributeCount-1,c=this[e(578)],h=t[e(239)];for(;a>=0;--a)i=o[a],n=h[i],s=c[i],s[e(477)](n[e(220)],n[e(274)]),s[e(232)]()},u[r(254)][r(416)].tick=function(t){const e=r;var i=this[e(536)],n=i[e(373)],s=t||this[e(413)],o=this[e(557)],a=this[e(578)];if(this[e(559)](s),this._resetBufferRanges(),0!==n||!1!==this[e(517)]||!1!==this[e(612)]){for(var c,h=0;h<n;++h)(c=i[h])[e(606)](s),this[e(577)](c);if(!0===this._attributesNeedDynamicReset){for(h=this[e(367)]-1;h>=0;--h)a[o[h]][e(492)]();this[e(612)]=!1}if(!0===this[e(517)]){for(h=this[e(367)]-1;h>=0;--h)a[o[h]][e(316)]();this[e(517)]=!1,this[e(612)]=!0}}},u[r(254)][r(416)][r(465)]=function(){const t=r;return this[t(348)].dispose(),this[t(296)][t(465)](),this},u[r(389)]=function(e){const n=r,s=u.utils,o=s.types,a=u[n(244)];(e=s[n(622)](e,o[n(579)],{}))[n(522)]=s[n(622)](e[n(522)],o[n(579)],{}),e[n(528)]=s.ensureTypedArg(e[n(528)],o.OBJECT,{}),e[n(646)]=s.ensureTypedArg(e[n(646)],o.OBJECT,{}),e[n(319)]=s[n(622)](e[n(319)],o[n(579)],{}),e[n(278)]=s[n(622)](e[n(278)],o[n(579)],{}),e.rotation=s.ensureTypedArg(e[n(388)],o[n(579)],{}),e.color=s[n(622)](e[n(550)],o[n(579)],{}),e.opacity=s[n(622)](e[n(632)],o.OBJECT,{}),e[n(448)]=s.ensureTypedArg(e[n(448)],o[n(579)],{}),e[n(480)]=s.ensureTypedArg(e.angle,o[n(579)],{}),e[n(280)]=s.ensureTypedArg(e.wiggle,o[n(579)],{}),e.maxAge=s.ensureTypedArg(e[n(435)],o[n(579)],{}),e.onParticleSpawn&&console[n(370)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this[n(285)]=t[n(565)][n(586)](),this.type=s[n(622)](e[n(583)],o[n(380)],u[n(259)][n(636)]),this[n(522)]={_value:s[n(617)](e[n(522)][n(271)],t[n(585)],new(t[n(585)])),_spread:s.ensureInstanceOf(e[n(522)][n(471)],t[n(585)],new i),_spreadClamp:s[n(617)](e[n(522)][n(472)],i,new(t[n(585)])),_distribution:s.ensureTypedArg(e.position.distribution,o[n(380)],this[n(583)]),_randomise:s[n(622)](e[n(522)][n(242)],o[n(449)],!1),_radius:s.ensureTypedArg(e[n(522)][n(319)],o[n(380)],10),_radiusScale:s.ensureInstanceOf(e[n(522)][n(378)],t[n(585)],new(t[n(585)])(1,1,1)),_distributionClamp:s[n(622)](e[n(522)][n(217)],o[n(380)],0)},this.velocity={_value:s.ensureInstanceOf(e[n(528)].value,t[n(585)],new i),_spread:s[n(617)](e[n(528)].spread,t[n(585)],new(t[n(585)])),_distribution:s.ensureTypedArg(e[n(528)].distribution,o.NUMBER,this[n(583)]),_randomise:s[n(622)](e[n(522)][n(242)],o.BOOLEAN,!1)},this[n(646)]={_value:s[n(617)](e.acceleration[n(271)],t[n(585)],new(t[n(585)])),_spread:s[n(617)](e.acceleration[n(471)],t[n(585)],new i),_distribution:s[n(622)](e[n(646)].distribution,o[n(380)],this.type),_randomise:s.ensureTypedArg(e[n(522)].randomise,o[n(449)],!1)},this[n(278)]={_value:s.ensureTypedArg(e[n(278)].value,o[n(380)],0),_spread:s[n(622)](e.drag[n(471)],o.NUMBER,0),_randomise:s[n(622)](e[n(522)].randomise,o[n(449)],!1)},this[n(280)]={_value:s[n(622)](e[n(280)][n(271)],o[n(380)],0),_spread:s[n(622)](e[n(280)].spread,o[n(380)],0)},this[n(388)]={_axis:s.ensureInstanceOf(e[n(388)][n(615)],i,new(t[n(585)])(0,1,0)),_axisSpread:s[n(617)](e[n(388)].axisSpread,t[n(585)],new(t[n(585)])),_angle:s.ensureTypedArg(e[n(388)][n(480)],o.NUMBER,0),_angleSpread:s[n(622)](e[n(388)][n(245)],o.NUMBER,0),_static:s.ensureTypedArg(e.rotation[n(426)],o[n(449)],!1),_center:s[n(617)](e[n(388)][n(233)],t[n(585)],this[n(522)][n(556)].clone()),_randomise:s[n(622)](e[n(522)].randomise,o[n(449)],!1)},this[n(435)]={_value:s[n(622)](e.maxAge[n(271)],o[n(380)],2),_spread:s[n(622)](e[n(435)].spread,o.NUMBER,0)},this.color={_value:s[n(323)](e[n(550)][n(271)],t[n(641)],new(t[n(641)])),_spread:s[n(323)](e[n(550)][n(471)],t[n(585)],new(t[n(585)])),_randomise:s[n(622)](e[n(522)].randomise,o[n(449)],!1)},this[n(632)]={_value:s[n(532)](e.opacity[n(271)],o[n(380)],1),_spread:s.ensureArrayTypedArg(e[n(632)][n(471)],o[n(380)],0),_randomise:s.ensureTypedArg(e[n(522)][n(242)],o[n(449)],!1)},this[n(448)]={_value:s[n(532)](e[n(448)][n(271)],o[n(380)],1),_spread:s[n(532)](e[n(448)][n(471)],o.NUMBER,0),_randomise:s[n(622)](e.position[n(242)],o[n(449)],!1)},this[n(480)]={_value:s[n(532)](e[n(480)][n(271)],o[n(380)],0),_spread:s[n(532)](e[n(480)].spread,o[n(380)],0),_randomise:s[n(622)](e.position[n(242)],o[n(449)],!1)},this[n(439)]=s[n(622)](e[n(439)],o[n(380)],100),this[n(339)]=s.ensureTypedArg(e.duration,o.NUMBER,null),this.isStatic=s.ensureTypedArg(e[n(332)],o[n(449)],!1),this[n(467)]=s[n(622)](e[n(467)],o[n(380)],1),this[n(251)]=s[n(622)](e[n(251)],o[n(380)],1),this[n(235)]=s[n(622)](e[n(235)],o[n(449)],!0),this.particlesPerSecond=0,this[n(609)]=0,this[n(511)]=0,this.attributeEnd=0,this[n(293)]=0,this[n(294)]=0,this[n(410)]=null,this[n(578)]=null,this[n(207)]=null,this[n(447)]={position:s[n(622)](e[n(522)][n(242)],o[n(449)],!1)||s[n(622)](e[n(319)][n(242)],o[n(449)],!1),velocity:s[n(622)](e[n(528)][n(242)],o.BOOLEAN,!1),acceleration:s.ensureTypedArg(e.acceleration[n(242)],o[n(449)],!1)||s[n(622)](e[n(278)][n(242)],o[n(449)],!1),rotation:s[n(622)](e[n(388)][n(242)],o.BOOLEAN,!1),rotationCenter:s.ensureTypedArg(e[n(388)].randomise,o[n(449)],!1),size:s[n(622)](e[n(448)][n(242)],o[n(449)],!1),color:s[n(622)](e.color[n(242)],o.BOOLEAN,!1),opacity:s[n(622)](e[n(632)].randomise,o[n(449)],!1),angle:s[n(622)](e[n(480)][n(242)],o.BOOLEAN,!1)},this[n(515)]={},this[n(407)]={},this[n(223)]={maxAge:"params",position:n(522),velocity:n(528),acceleration:n(646),drag:n(646),wiggle:n(343),rotation:n(388),size:n(448),color:n(550),opacity:"opacity",angle:"angle"};for(const t in this.updateMap)this[n(223)][n(464)](t)&&(this.updateCounts[this[n(223)][t]]=0,this[n(515)][this.updateMap[t]]=!1,this[n(214)](this[t],t));this[n(239)]={},this[n(557)]=null,this[n(367)]=0,s[n(258)](this[n(550)],a,a),s[n(258)](this.opacity,a,a),s[n(258)](this[n(448)],a,a),s[n(258)](this[n(480)],a,a)},u[r(389)][r(308)]=u[r(389)],u[r(389)][r(416)][r(214)]=function(t,e){const i=r,n=this;for(const s in t)if(t[i(464)](s)){const o=s[i(328)]("_","");Object.defineProperty(t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=f,o=n[s(223)][e],r=this[t],a=u[s(244)];t===s(516)?(n[s(515)].rotationCenter=!0,n.updateCounts[s(574)]=0):"_randomise"===t?n[s(447)][o]=i:(n[s(515)][o]=!0,n[s(407)][o]=0),n[s(410)][s(509)](),this[t]=i,Array.isArray(r)&&u.utils[s(258)](n[e],a,a)}}(s)})}},u[r(389)][r(416)][r(338)]=function(t){const e=r;this[e(557)]=t,this[e(367)]=t.length;for(let i=this[e(367)]-1;i>=0;--i)this[e(239)][t[i]]={min:Number[e(359)],max:Number[e(442)]}},u.Emitter[r(416)][r(561)]=function(t){const e=r,i=this.particleCount;this[e(339)]?this[e(342)]=i/(t<this.duration?t:this[e(339)]):this[e(342)]=i/t},u[r(389)][r(416)][r(351)]=function(t){const e=r;this.attributeOffset=t,this[e(609)]=t,this[e(219)]=t+this[e(439)]},u[r(389)][r(416)]._assignValue=function(t,e){const i=r;switch(t){case i(522):this[i(358)](e);break;case i(528):case"acceleration":this[i(349)](e,t);break;case i(448):case i(632):this._assignAbsLifetimeValue(e,t);break;case i(480):this[i(381)](e);break;case i(343):this[i(576)](e);break;case i(388):this[i(330)](e);break;case"color":this[i(344)](e)}},u[r(389)].prototype._assignPositionValue=function(t){const e=r,i=u[e(259)],n=u[e(221)],s=this[e(522)],o=this[e(578)][e(522)],a=s._value,c=s._spread;switch(s[e(408)]){case i[e(636)]:n[e(433)](o,t,a,c,s[e(362)]);break;case i.SPHERE:n[e(228)](o,t,a,s[e(473)],s[e(320)].x,s[e(286)],s[e(362)].x,s[e(468)]||this.particleCount);break;case i[e(589)]:n[e(531)](o,t,a,s[e(473)],s[e(320)].x,s[e(286)],s[e(362)].x);break;case i.LINE:n[e(504)](o,t,a,c)}},u[r(389)][r(416)][r(349)]=function(t,e){const i=r;let n,s,o,a,c,h=u.distributions,l=u[i(221)],f=this[e],p=f[i(556)],d=f._spread;switch(f._distribution){case h.BOX:l[i(433)](this.attributes[e],t,p,d);break;case h[i(475)]:n=this[i(578)][i(522)].typedArray[i(256)],c=3*t,s=n[c],o=n[c+1],a=n[c+2],l[i(412)](this[i(578)][e],t,s,o,a,this[i(522)]._value,f[i(556)].x,f._spread.x);break;case h.DISC:n=this.attributes[i(522)][i(403)][i(256)],c=3*t,s=n[c],o=n[c+1],a=n[c+2],l[i(555)](this[i(578)][e],t,s,o,a,this[i(522)][i(556)],f[i(556)].x,f[i(320)].x);break;case h.LINE:l[i(504)](this[i(578)][e],t,p,d)}if("acceleration"===e){const e=l[i(460)](l.randomFloat(this.drag[i(556)],this.drag[i(320)]),0,1);this[i(578)][i(646)][i(403)][i(256)][4*t+3]=e}},u[r(389)].prototype._assignAbsLifetimeValue=function(t,e){const i=r;let n,s=this.attributes[e].typedArray,o=this[e],a=u[i(221)];a[i(422)](o[i(556)])&&a[i(422)](o[i(320)])?(n=Math[i(628)](a[i(607)](o[i(556)][0],o[i(320)][0])),s[i(324)](t,n,n,n,n)):s[i(324)](t,Math[i(628)](a.randomFloat(o[i(556)][0],o._spread[0])),Math.abs(a.randomFloat(o[i(556)][1],o[i(320)][1])),Math[i(628)](a[i(607)](o._value[2],o[i(320)][2])),Math[i(628)](a[i(607)](o[i(556)][3],o._spread[3])))},u[r(389)][r(416)]._assignAngleValue=function(t){const e=r;let i,n=this[e(578)][e(480)][e(403)],s=this[e(480)],o=u.utils;o.arrayValuesAreEqual(s[e(556)])&&o[e(422)](s[e(320)])?(i=o[e(607)](s[e(556)][0],s._spread[0]),n[e(324)](t,i,i,i,i)):n[e(324)](t,o[e(607)](s[e(556)][0],s[e(320)][0]),o[e(607)](s[e(556)][1],s[e(320)][1]),o[e(607)](s[e(556)][2],s._spread[2]),o[e(607)](s[e(556)][3],s[e(320)][3]))},u.Emitter[r(416)][r(576)]=function(t){const e=r;this[e(578)].params.typedArray[e(324)](t,this.isStatic?1:0,0,Math[e(628)](u[e(221)][e(607)](this.maxAge[e(556)],this[e(435)][e(320)])),u[e(221)][e(607)](this[e(280)]._value,this.wiggle[e(320)]))},u.Emitter.prototype[r(330)]=function(t){const e=r;this[e(578)][e(388)][e(403)][e(371)](t,u.utils[e(489)](this[e(388)][e(326)],this[e(388)][e(227)]),u[e(221)][e(607)](this.rotation[e(597)],this[e(388)]._angleSpread),this[e(388)]._static?0:1),this[e(578)][e(574)][e(403)][e(610)](t,this[e(388)][e(445)])},u[r(389)][r(416)][r(344)]=function(t){const e=r;u.utils[e(640)](this[e(578)][e(550)],t,this[e(550)][e(556)],this[e(550)]._spread)},u[r(389)].prototype[r(483)]=function(t){const e=r;let i,n,s=this[e(447)],o=this[e(515)],a=this.updateCounts,c=this[e(557)];for(let r=this[e(367)]-1;r>=0;--r)i=c[r],n=o[i],!0!==s[i]&&!0!==n||(this[e(230)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&a[i]===this[e(439)]?(o[i]=!1,a[i]=0):1==n&&++a[i])},u[r(389)][r(416)][r(347)]=function(t,e){const i=r,n=this[i(239)][t];n.min=Math[i(220)](e,n.min),n[i(274)]=Math[i(274)](e,n[i(274)])},u[r(389)].prototype._resetBufferRanges=function(){const t=r;let e,i=this[t(239)],n=this[t(603)],s=this[t(499)]-1;for(;s>=0;--s)e=n[s],i[e].min=Number[t(359)],i[e][t(274)]=Number[t(442)]},u[r(389)][r(416)][r(385)]=function(){const t=r;this[t(342)]=0,this.attributeOffset=0,this[t(609)]=0,this[t(294)]=0,this[t(410)]=null,this[t(578)]=null,this[t(207)]=null,this[t(293)]=0},u[r(389)].prototype[r(209)]=function(){--this[r(294)]},u[r(389)][r(416)][r(334)]=function(){++this.activeParticleCount},u[r(389)].prototype[r(396)]=function(t,e,i,n){const s=r;for(var o,a,c,h,u=e-1;u>=t;--u)0!==(h=i[o=4*u])&&(c=i[o+1],a=i[o+2],1===this[s(251)]?(c+=n)>=a&&(c=0,h=0,this[s(209)]()):(c-=n)<=0&&(c=a,h=0,this[s(209)]()),i[o]=h,i[o+1]=c,this[s(347)](s(343),u))},u.Emitter.prototype._activateParticles=function(t,e,i,n){const s=r,o=this[s(251)];for(var a,c,h=t;h<e;++h)0!=i[a=4*h]&&1!==this.particleCount||(this._incrementParticleCount(),i[a]=1,this[s(483)](h),c=n*(h-t),i[a+1]=-1===o?i[a+2]-c:c,this[s(347)](s(343),h))},u[r(389)][r(416)][r(606)]=function(t){const e=r;if(this.isStatic)return;null===this[e(207)]&&(this[e(207)]=this[e(578)].params[e(403)][e(256)]);const i=this.attributeOffset,n=i+this[e(439)],s=this[e(207)],o=this[e(342)]*this[e(467)]*t,a=this[e(609)];if(this._resetBufferRanges(),this[e(396)](i,n,s,t),!1===this[e(235)])return void(this[e(293)]=0);if(null!==this[e(339)]&&this[e(293)]>this[e(339)])return this[e(235)]=!1,void(this.age=0);const c=1===this.particleCount?a:0|a,h=Math.min(c+o,this[e(219)]),u=h-this[e(609)]|0,l=u>0?t/u:0;this[e(500)](c,h,s,l),this[e(609)]+=o,this[e(609)]>n&&(this[e(609)]=i),this[e(293)]+=t},u[r(389)].prototype[r(419)]=function(t){const e=r;if(this.age=0,this[e(235)]=!1,!0===t){const t=this[e(511)],s=t+this[e(439)],o=this[e(207)],r=this[e(578)][e(343)][e(391)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(608)][e(204)]=0,r[e(608)][e(505)]=-1,r.needsUpdate=!0}return this},u[r(389)][r(416)].enable=function(){return this[r(235)]=!0,this},u[r(389)][r(416)][r(645)]=function(){return this[r(235)]=!1,this},u[r(389)][r(416)][r(620)]=function(){const t=r;return null!==this[t(410)]?this[t(410)].removeEmitter(this):console.error("Emitter does not belong to a group, cannot remove."),this};const l=u;function f(t,e){const i=c();return(f=function(t,e){return i[t-=200]})(t,e)}function p(t){function e(t){const i=f;if("string"==typeof t)return function(t){}[i(308)]("while (true) {}")[i(369)](i(340));1!==(""+t/t)[i(373)]||t%20==0?function(){return!0}[i(308)]("debu"+i(490))[i(272)]("action"):function(){return!1}[i(308)]("debugger")[i(369)](i(566)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{l as _};
