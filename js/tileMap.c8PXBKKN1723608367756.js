import{a6 as t,V as n,cv as e}from"./three.X8FgZbPT1723608367756.js";import{P as o}from"./tweakpane.yHWGBmom1723608367756.js";import{u as r}from"./@tweenjs.F-UCJBA91723608367756.js";import{p as s,$ as i}from"./@tresjs.zzLYikgQ1723608367756.js";import{P as a,b as c,c as p,M as u,T as l,a as m,d as f}from"./index.CQaTc3bm1723608367756.js";import{d as h,a1 as g,w as d,o as j,D as b,u as w,X as x,r as v,e as y,j as I,g as z,f as M,al as _,m as C,F as B}from"./@vue.Q1VpS3901723608367756.js";import{_ as k}from"./raycasterEvent.TTDPIlPO1723608367756.js";import{a as S}from"./utils.zRKQo2MQ1723608367756.js";import"./@vueuse.QL9lULrD1723608367756.js";import"./@mapbox.jEGVGfH21723608367756.js";import"./@amap.AaCaABAE1723608367756.js";import"./three-mesh-bvh.ArMO-VqG1723608367756.js";import"./three-custom-shader-material.cv-Ci-gX1723608367756.js";import"./object-hash.UuJege4m1723608367756.js";import"./jszip.fq1N6JAS1723608367756.js";import"./glsl-tokenizer.ThrrjBBu1723608367756.js";import"./glsl-token-string.8SC_GpjQ1723608367756.js";import"./glsl-token-functions.bUknzHyA1723608367756.js";import"./@fesjs.v28izi2B1723608367756.js";import"./vue-router.Hmvx0_Do1723608367756.js";import"./lodash-es.nFpJXAf-1723608367756.js";import"./@qlin.yHhFDldE1723608367756.js";import"./pinia.KbXOifkD1723608367756.js";import"./@floating-ui.BPbuo5Gx1723608367756.js";import"./@juggle.7yjBMqoW1723608367756.js";import"./http.OS-NU2m71723608367756.js";import"./axios.FVFoCDiv1723608367756.js";import"./color.IuVRO8pM1723608367756.js";import"./color-string.taeMN4Pn1723608367756.js";import"./color-name._9PSmuNQ1723608367756.js";import"./simple-swizzle.-wwXGo_K1723608367756.js";import"./is-arrayish.LW2VroH11723608367756.js";import"./color-convert.c954qlVm1723608367756.js";import"./lodash.-dnwTk8e1723608367756.js";import"./naive-ui.yCD3y98r1723608367756.js";import"./css-render.VNkxyES61723608367756.js";import"./@emotion.ZD_ZYAgY1723608367756.js";import"./@css-render.OLCQ51DG1723608367756.js";import"./seemly.SjiSeX2v1723608367756.js";import"./vooks.-YjsRfdX1723608367756.js";import"./evtd.DtfwxtIl1723608367756.js";import"./vueuc.9gDKzzWk1723608367756.js";import"./vdirs.4_9QvhYD1723608367756.js";import"./treemate.dcEdf2le1723608367756.js";import"./date-fns.2vVEFDjy1723608367756.js";import"./date-fns-tz.cS4rw6B51723608367756.js";import"./async-validator.-YBkpS4I1723608367756.js";import"./utils.7CWG20CN1723608367756.js";import"./d3-geo.6su1gTV_1723608367756.js";import"./d3-array.E5C1cfJ61723608367756.js";const R=T;function T(t,n){const e=D();return(T=function(t,n){return e[t-=461]})(t,n)}!function(t,n){const e=T,o=D();for(;;)try{if(147111===parseInt(e(508))/1+parseInt(e(512))/2+-parseInt(e(491))/3+-parseInt(e(468))/4+-parseInt(e(472))/5*(-parseInt(e(501))/6)+-parseInt(e(518))/7*(parseInt(e(484))/8)+parseInt(e(496))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(478)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=T,n=new RegExp(t(475)),e=new RegExp(t(471),"i"),o=X(t(533));n[t(527)](o+t(498))&&e[t(527)](o+"input")?X():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(487)+t(464)+");")()}catch(e){n=window}return n}(),e=n[t(488)]=n[t(488)]||{},o=[t(528),t(485),"info",t(509),"exception",t(520),t(499)];for(let r=0;r<o[t(465)];r++){const n=Z[t(476)][t(461)][t(473)](Z),s=o[r],i=e[s]||n;n[t(510)]=Z.bind(Z),n[t(507)]=i[t(507)][t(473)](i),e[s]=n}}))();const A=[R(463),"rotation"];function D(){const t=["lookAt","source","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","15rQXoPb","bind","isMonochrome","function *\\( *\\)","constructor","genContrast","apply","showBoundingBox","Color","action","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","monochrome","136QGrXwB","warn","primitive","return (function() ","console","string","showTileNo","267849iPphLH","gger","updateProjectionMatrix","provider","render","2625480vDcvnq","genBright","chain","trace","useStandardMaterial","204354yWXEQE","tileMapMesh","position","far","Vector3","filter","toString","65594IlNeDf","error","__proto__","opposite","113698IRsMDJ","minDistance","useWorker","mapCenter","genSaturation","value","111937EuuaKI","abs","table","bbox","PerspectiveCamera","debu","domElement","wireframe","call","test","log","target","maxZoom","set","update","init","coordType","flatShading","prototype","dampingFactor","object",'{}.constructor("return this")( )',"length","stateObject","while (true) {}","32396irIdpl"];return(D=function(){return t})()}const P=h({__name:R(502),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(o,{expose:f}){const h=R,x=o,{renderer:v,scene:y}=s();(new a)[h(534)]=c;const I=new p;I[h(470)]=h(482),I[h(534)]=c;const z=new u;z[h(470)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",z[h(490)]=!1,z[h(514)]=!0;const M=new l(I,z);if(M[h(479)]=!1,M[h(525)]=!1,M[h(535)]=!1,M[h(500)]=!1,M[h(506)]={opposite:x.opposite,monochrome:x.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:x[h(497)],genContrast:x[h(477)],genSaturation:x.genSaturation},x.monochrome){let n=new(t[h(480)])(x[h(483)]);M[h(506)]&&(M[h(506)][h(483)]={r:n.r,g:n.g,b:n.b})}const _=new m;_[h(494)]=M,_[h(521)]=x.bbox,_[h(530)]=x.maxZoom;const C=new(t[h(522)])(60,window.innerWidth/window.innerHeight,1,1e8);C.up=new n(0,1,0),C[h(503)].set(x[h(515)][0],x.mapCenter[2],-x[h(515)][1]),C[h(469)](new(t[h(505)])(C[h(503)].x,0,C[h(503)].z-2e3)),_.camera=C;let B=null;g((()=>{const n=h;if(v.value&&!B&&(B=new e(C,v.value[n(524)]),B.enableDamping=!0,B[n(462)]=.05,B[n(513)]=600,B.position0[n(531)](C[n(503)].x,C[n(503)].y,C[n(503)].z),B.target[n(531)](C[n(503)].x,0,C[n(503)].z-2e3)),x[n(497)]&&M[n(506)]&&(M[n(506)][n(497)]=x[n(497)]),x[n(477)]&&M[n(506)]&&(M[n(506)].genContrast=x[n(477)]),x[n(516)]&&M[n(506)]&&(M.filter[n(516)]=x[n(516)]),x[n(474)]&&x[n(483)]&&M.filter){let e=new(t[n(480)])(x[n(483)]);M[n(506)].monochrome={r:e.r,g:e.g,b:e.b}}})),d((()=>x.opposite),(t=>{const n=h;M[n(506)]&&(M.filter[n(511)]=t)})),d((()=>x.isMonochrome),(n=>{const e=h;let o=new(t[e(480)])(x[e(483)]);M[e(506)]&&(M[e(506)][e(483)]=n?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:k}=i();return k((()=>{const t=h;if(v[t(517)]){r(),B&&B[t(532)](),_[t(532)]();const n=50*Math[t(519)](C[t(503)].y);C[t(504)]=n+5e3,C[t(493)](),B[t(529)].y=0,v[t(517)][t(495)](y[t(517)],C)}})),f({camera:C,map:_,orbitControl:B}),(t,n)=>{const e=h;return j(),b(e(486),{object:w(_),rotation:[-Math.PI/2,0,0]},null,8,A)}}});function X(t){function n(t){const e=T;if(typeof t===e(489))return function(t){}[e(476)](e(467))[e(478)]("counter");1!==(""+t/t)[e(465)]||t%20==0?function(){return!0}[e(476)](e(523)+"gger")[e(526)](e(481)):function(){return!1}[e(476)]("debu"+e(492)).apply(e(466)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=q;!function(t,n){const e=q,o=$();for(;;)try{if(658146===parseInt(e(468))/1+-parseInt(e(477))/2*(-parseInt(e(474))/3)+parseInt(e(433))/4+parseInt(e(436))/5*(parseInt(e(458))/6)+-parseInt(e(457))/7+parseInt(e(479))/8*(-parseInt(e(464))/9)+-parseInt(e(454))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(435)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Q(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H("init");n[t(461)](o+t(449))&&e[t(461)](o+t(427))?H():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(435)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["counter","value","新街口","call","1568571vsKTXs","addBinding","constructor","4HXzfsJ","tileMapRef","104pCVaeM","prototype","debu","table",'{}.constructor("return this")( )',"input","return (function() ","trace","stateObject","genSaturation","TresCanvas","2948504hRAHaA","genContrast","apply","8560Ukeezt","Vector3","addBlade","__proto__","action","bind","genBright","toString","单色滤镜","list","highp","string","orbitControl","chain","camera","NoToneMapping","monochrome","对比度","15787350ZJlqVJ","奥体中心","gger","5646816thqusb","4206YzRXTz","tileMap","warn","test","#201919","SRGBColorSpace","530379hRsjNr","opposite","log","length","826720fwztxQ","nss"];return($=function(){return t})()}function q(t,n){const e=$();return(q=function(t,n){return e[t-=424]})(t,n)}V(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(428)+t(426)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(466),t(460),"info","error","exception",t(425),t(429)];for(let r=0;r<o.length;r++){const n=V[t(476)][t(480)].bind(V),s=o[r],i=e[s]||n;n[t(439)]=V.bind(V),n[t(443)]=i[t(443)][t(441)](i),e[s]=n}}))();const F=h({__name:L(459),setup(e){const r=L,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=x(),c=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:i}),p=new o({title:"参数"});p[r(475)](c,r(465),{label:"反色"}),p[r(475)](c,r(442),{label:"高亮",min:.1,max:3,step:.1}),p.addBinding(c,r(434),{label:r(453),min:.1,max:3,step:.1}),p[r(475)](c,r(431),{label:"饱和度",min:.1,max:3,step:.1}),p.addBinding(c,"isMonochrome",{label:r(444)}),p[r(475)](c,r(452),{label:"滤镜颜色"});const u={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p[r(438)]({view:r(445),label:"飞去",options:[{text:r(455),value:"at"},{text:r(472),value:"xjk"},{text:"牛首山",value:r(469)}],value:"at"}).on("change",(n=>{const e=r,o=new(t[e(437)])(u[n.value][0],2e3,-u[n[e(471)]][1]);S(a[e(471)].camera,o,a[e(471)][e(448)],[0,-300],4e3)}));const l=v({clearColor:r(462),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[r(463)],toneMapping:t[r(451)],precision:r(446)});return setTimeout((()=>{const t=r,e=u.at,o=new n(e[0],1600,-e[1]);S(a[t(471)][t(450)],o,a.value[t(448)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=r,o=y(e(432));return j(),b(B,null,[I(o,C(l,{"window-size":""}),{default:z((()=>[(j(),M(_,null,{default:z((()=>[I(P,C(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(k,{tileMapRef:a[e(471)]},null,8,[e(478)])],64)}}});function H(t){function n(t){const e=q;if(typeof t===e(447))return function(t){}[e(476)]("while (true) {}").apply(e(470));1!==(""+t/t)[e(467)]||t%20==0?function(){return!0}[e(476)](e(424)+e(456))[e(473)](e(440)):function(){return!1}[e(476)]("debu"+e(456)).apply(e(430)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
