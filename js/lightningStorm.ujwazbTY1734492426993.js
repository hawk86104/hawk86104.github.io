import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.aZYcMjV11734492426993.js";import{B as i,V as s,cA as n,ab as e,X as r,h as o,an as a,$ as h,s as c,_ as u}from"./three.-W-Avfc61734492426993.js";import{e as l,g as p,F as d}from"./@tresjs.WiFlZbqU1734492426993.js";import{c as m}from"./simplex-noise.Yx8GBgKo1734492426993.js";import{d as f,a3 as g,o as y,D as b,u as w,r as v,j as S,g as _,m as x,F as P}from"./@vue.-THQH3GC1734492426993.js";import"./index.bjrbQKEI1734492426993.js";import{_ as I}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.lZil-L1T1734492426993.js";import"./three-custom-shader-material.5sc6Ku_Y1734492426993.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.ZKvR8GT61734492426993.js";import"./all.three.-35MVhE11734492426993.js";import"./oimophysics.x0jH7fze1734492426993.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.ccUiRlDO1734492426993.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.uRMaWgid1734492426993.js";import"./index.GoKrQvrO1734492426993.js";import"./three-stdlib.JXmeYOx_1734492426993.js";import"./@pmndrs.2S_aDSAC1734492426993.js";import"./object-hash.jUbfcDFp1734492426993.js";import"./@amap.VVwFehhA1734492426993.js";import"./jszip.h2xC22IC1734492426993.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.5xJfj9Ef1734492426993.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.tc-Hu1OP1734492426993.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.65ISCpqJ1734492426993.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.8IXPc8DG1734492426993.js";const M=R;!function(t,i){const s=R,n=V();for(;;)try{if(172222===-parseInt(s(452))/1+parseInt(s(527))/2*(-parseInt(s(532))/3)+-parseInt(s(460))/4+parseInt(s(569))/5+-parseInt(s(435))/6+parseInt(s(426))/7*(parseInt(s(579))/8)+parseInt(s(549))/9*(parseInt(s(482))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function R(t,i){const s=V();return(R=function(t,i){return s[t-=406]})(t,i)}!function(){T(this,(function(){const t=R,i=new RegExp(t(467)),s=new RegExp(t(412),"i"),n=j(t(424));i[t(456)](n+t(469))&&s.test(n+t(576))?j():n("0")}))()}();const A=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[R(476)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();A(void 0,(function(){const t=R,i=function(){const t=R;let i;try{i=Function(t(494)+t(449)+");")()}catch(s){i=window}return i}(),s=i.console=i.console||{},n=[t(564),t(496),t(463),t(543),t(533),t(565),t(545)];for(let e=0;e<n[t(431)];e++){const i=A[t(546)][t(453)][t(465)](A),r=n[e],o=s[r]||i;i[t(487)]=A[t(465)](A),i.toString=o[t(517)][t(465)](o),s[r]=i}}))();class C extends i{constructor(t={}){const i=R;super(),this.isLightningStrike=!0,this[i(411)]=i(442),this[i(424)](C[i(466)](t,t)),this.createMesh()}static[M(438)](){const t=M,i=2053,s=[];for(let e=0;e<i;e++)s.push(Math[t(566)]());const n={currentSeed:0,random:function(){const e=s[n[t(519)]];return n.currentSeed=(n.currentSeed+1)%i,e},getSeed:function(){return n[t(519)]/i},setSeed:function(s){const e=t;n.currentSeed=Math[e(514)](s*i)%i}};return n}static[M(466)](t={},i={}){const n=M,e=function(s){return i===t?s:s.clone()};return t[n(473)]=void 0!==i[n(473)]?e(i[n(473)]):new s(0,100,0),t[n(459)]=void 0!==i.destOffset?e(i[n(459)]):new s(0,0,0),t[n(416)]=void 0!==i[n(416)]?i[n(416)]:1,t[n(535)]=void 0!==i[n(535)]?i[n(535)]:.9,t[n(427)]=void 0!==i[n(427)]?i.straightness:.7,t[n(479)]=void 0!==i[n(479)]?e(i[n(479)]):new s(0,0,1),t.up1=void 0!==i.up1?e(i[n(522)]):new s(0,0,1),t[n(450)]=void 0!==i.radius0?i[n(450)]:1,t.radius1=void 0!==i[n(489)]?i[n(489)]:1,t[n(475)]=void 0!==i[n(475)]?i[n(475)]:.5,t.radius1Factor=void 0!==i[n(448)]?i[n(448)]:.2,t[n(444)]=void 0!==i.minRadius?i[n(444)]:.2,t[n(409)]=void 0!==i[n(409)]?i[n(409)]:void 0===i.birthTime||void 0===i[n(432)],t[n(504)]=i[n(504)],t[n(432)]=i[n(432)],t.propagationTimeFactor=void 0!==i[n(577)]?i[n(577)]:.1,t.vanishingTimeFactor=void 0!==i.vanishingTimeFactor?i[n(563)]:.9,t[n(520)]=void 0!==i[n(520)]?i[n(520)]:4,t[n(446)]=void 0!==i[n(446)]?i[n(446)]:.6,t.maxIterations=void 0!==i[n(471)]?i[n(471)]:9,t.isStatic=void 0!==i[n(418)]&&i[n(418)],t.ramification=void 0!==i[n(503)]?i[n(503)]:5,t[n(541)]=void 0!==i[n(541)]?i[n(541)]:3,t[n(451)]=void 0!==i[n(451)]?i[n(451)]:.6,t[n(552)]=void 0!==i[n(552)]&&i.generateUVs,t[n(526)]=i[n(526)],t[n(415)]=i[n(415)],t[n(562)]=i[n(562)],t.onSubrayCreation=i[n(555)],t}[M(485)](t){const i=M;this[i(418)]||(this.rayParameters[i(409)]||this[i(477)].birthTime<=t&&t<=this[i(477)][i(432)]?(this[i(470)](t),t<this[i(483)][0][i(570)]?this[i(554)]=C.RAY_PROPAGATING:t>this[i(483)][0][i(501)]?this[i(554)]=C.RAY_VANISHING:this[i(554)]=C[i(518)],this.visible=!0):(this.visible=!1,t<this[i(477)][i(504)]?this[i(554)]=C.RAY_UNBORN:this[i(554)]=C[i(410)]))}[M(424)](t){const i=M;this.rayParameters=t,this[i(471)]=void 0!==t[i(471)]?Math[i(514)](t.maxIterations):9,t[i(471)]=this[i(471)],this.isStatic=void 0!==t[i(418)]&&t[i(418)],t[i(418)]=this[i(418)],this[i(503)]=void 0!==t[i(503)]?Math[i(514)](t[i(503)]):5,t.ramification=this[i(503)],this[i(541)]=void 0!==t[i(541)]?Math[i(514)](t[i(541)]):3,t[i(541)]=this[i(541)],this[i(451)]=void 0!==t.recursionProbability?t[i(451)]:.6,t[i(451)]=this.recursionProbability,this[i(552)]=void 0!==t.generateUVs&&t.generateUVs,t[i(552)]=this[i(552)],void 0!==t[i(526)]?(this[i(526)]=t[i(526)],this.seedGenerator=t[i(526)],void 0!==t[i(415)]&&this[i(529)][i(468)](t.noiseSeed)):(this.randomGenerator=C[i(438)](),this[i(529)]=Math),void 0!==t[i(562)]?this.onDecideSubrayCreation=t[i(562)]:(this[i(539)](),void 0!==t[i(555)]&&(this[i(555)]=t[i(555)])),this.state=C[i(510)],this[i(506)]=Math[i(560)](1+Math.pow(this.ramification,Math[i(408)](0,this[i(541)]-1))),t.maxSubrays=this[i(506)],this[i(443)]=2*(1<<this[i(471)]),this.subrays=[];for(let s=0;s<this[i(506)];s++)this.subrays[i(462)](this[i(530)]());this[i(528)]=[];for(let s=0;s<this[i(443)];s++)this[i(528)][i(462)](this[i(556)]());this[i(499)]=0,this[i(495)]=0,this[i(455)]=null,this.currentCreateTriangleVertices=this[i(552)]?this[i(440)]:this[i(481)],this[i(547)]=0,this[i(578)]=null,this[i(507)]=0,this[i(439)]=!1,this[i(490)]=0,this[i(575)]=0,this[i(497)]=0,this[i(557)]=0,this[i(493)]=0,this[i(457)]=null,this[i(437)]=null,this[i(447)]=null,this[i(500)]=null,this[i(484)]=null,this[i(429)]=m(this.seedGenerator.random),this[i(464)]=m(this[i(529)].random),this[i(524)]=m(this[i(529)].random),this[i(548)]=new s,this[i(502)]=new s,this.side=new s,this[i(406)]=new s,this[i(531)]=new s,this.middleLinPos=new s,this[i(550)]=new s,this[i(540)]=new s,this[i(521)]=new s}[M(534)](){const t=M,i=1<<this[t(471)],s=3*(i+1)*this[t(506)],o=18*i*this[t(506)];this.vertices=new Float32Array(3*s),this[t(447)]=new Uint32Array(o),this.generateUVs&&(this[t(437)]=new Float32Array(2*s)),this[t(498)](0),this[t(551)](new n(this[t(447)],1)),this[t(500)]=new e(this[t(457)],3),this[t(492)](t(441),this[t(500)]),this[t(552)]&&(this.uvsAttribute=new e(new Float32Array(this.uvs),2),this[t(492)]("uv",this[t(484)])),!this[t(418)]&&(this.index[t(433)]=r,this[t(500)][t(433)]=r,this[t(552)]&&(this[t(484)][t(433)]=r)),this[t(457)]=this.positionAttribute[t(454)],this[t(447)]=this[t(537)][t(454)],this[t(552)]&&(this[t(437)]=this.uvsAttribute.array)}[M(470)](t){const i=M;this[i(498)](t),this[i(572)].count=this[i(497)],this[i(537)][i(538)]=!0,this.positionAttribute[i(538)]=!0,this.generateUVs&&(this[i(484)][i(538)]=!0)}[M(498)](t){const i=M,s=this;this[i(575)]=0,this.currentIndex=0,this[i(557)]=0,this[i(493)]=0,this.fractalRay(t,(function(n){const e=i,r=s.currentSubray;t<r.birthTime||(this[e(477)][e(409)]&&0==s[e(578)][e(525)]?(s[e(515)](n),s[e(562)](n,s)):t<r[e(570)]?s[e(495)]>=n[e(508)]*r[e(577)]&&(s[e(515)](n),s[e(562)](n,s)):t<r.beginVanishingTime?(s[e(515)](n),s[e(562)](n,s)):(s[e(495)]<=r[e(563)]+n[e(461)]*(1-r[e(563)])&&s[e(515)](n),s[e(562)](n,s)))}))}[M(474)](){return this[M(483)][this.numSubrays++]}initSubray(t,i){const s=M;t[s(571)].copy(i[s(473)]),t.pos1.copy(i[s(459)]),t[s(479)].copy(i[s(479)]),t.up1[s(486)](i[s(522)]),t[s(450)]=i.radius0,t[s(489)]=i[s(489)],t[s(504)]=i.birthTime,t.deathTime=i[s(432)],t.timeScale=i[s(416)],t[s(535)]=i[s(535)],t[s(427)]=i[s(427)],t.propagationTimeFactor=i[s(577)],t[s(563)]=i[s(563)],t[s(471)]=this[s(471)],t.seed=void 0!==i[s(415)]?i[s(415)]:0,t[s(525)]=0}fractalRay(t,i){const s=M;this[s(499)]=t,this[s(455)]=i,this[s(547)]=0,this[s(436)](this[s(474)](),this[s(477)]);for(let n=0;n<this[s(547)];n++){const i=this[s(483)][n];this[s(578)]=i,this.randomGenerator[s(468)](i[s(568)]),i[s(570)]=o[s(553)](i[s(504)],i[s(432)],i[s(577)]),i[s(501)]=o[s(553)](i[s(432)],i.birthTime,1-i[s(563)]);const e=this[s(526)][s(566)];i[s(421)][s(434)](e(),e(),e()).multiplyScalar(1e3),i[s(413)][s(434)](e(),e(),e())[s(458)](1e3),this[s(495)]=(t-i[s(504)])/(i.deathTime-i[s(504)]),this[s(507)]=0,this.isInitialSegment=!0;const r=this[s(544)]();r[s(445)]=0,r[s(571)][s(486)](i[s(571)]),r[s(511)].copy(i.pos1),r.linPos0[s(486)](i[s(421)]),r[s(413)].copy(i.linPos1),r.up0[s(486)](i[s(479)]),r.up1[s(486)](i[s(522)]),r[s(450)]=i[s(450)],r[s(489)]=i[s(489)],r[s(508)]=0,r[s(461)]=1,r.positionVariationFactor=1-i[s(427)],this[s(490)]=this[s(503)]*Math.pow(this[s(451)],i[s(525)])/(1<<i[s(471)]),this[s(558)](r)}this.currentSegmentCallback=null,this[s(578)]=null}[M(558)](t){const i=M;if(t[i(445)]>=this[i(578)][i(471)])return void this[i(455)](t);this.forwards.subVectors(t[i(511)],t.pos0);let s=this[i(548)][i(431)]();s<1e-6&&(this[i(548)].set(0,0,.01),s=this[i(548)].length());const n=.5*(t[i(450)]+t.radius1),e=.5*(t.fraction0+t.fraction1),r=this[i(499)]*this[i(578)].timeScale*Math.pow(2,t[i(445)]);this[i(531)][i(407)](t[i(571)],t[i(511)],.5),this[i(512)][i(407)](t[i(421)],t[i(413)],.5);const o=this[i(512)];this.newPos[i(434)](this[i(429)](o.x,o.y,o.z,r),this[i(464)](o.x,o.y,o.z,r),this.simplexZ(o.x,o.y,o.z,r)),this[i(550)][i(458)](t[i(509)]*s),this[i(550)][i(574)](this.middlePos);const a=this[i(544)]();a[i(571)][i(486)](t[i(571)]),a[i(511)][i(486)](this[i(550)]),a[i(421)][i(486)](t[i(421)]),a[i(413)].copy(this[i(512)]),a.up0.copy(t[i(479)]),a.up1.copy(t[i(522)]),a[i(450)]=t[i(450)],a[i(489)]=n,a[i(508)]=t[i(508)],a[i(461)]=e,a[i(509)]=t.positionVariationFactor*this[i(578)][i(535)],a[i(445)]=t[i(445)]+1;const h=this.getNewSegment();h[i(571)][i(486)](this.newPos),h.pos1[i(486)](t[i(511)]),h.linPos0[i(486)](this[i(512)]),h[i(413)].copy(t[i(413)]),this[i(521)].crossVectors(t[i(479)],this[i(548)][i(417)]()),h[i(479)].crossVectors(this[i(548)],this[i(521)])[i(417)](),h[i(522)][i(486)](t[i(522)]),h.radius0=n,h.radius1=t[i(489)],h[i(508)]=e,h[i(461)]=t[i(461)],h[i(509)]=t.positionVariationFactor*this.currentSubray[i(535)],h[i(445)]=t[i(445)]+1,this[i(558)](a),this[i(558)](h)}[M(515)](t){const i=M;this[i(502)][i(523)](t[i(511)],t[i(571)])[i(417)](),this[i(439)]&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this[i(502)],t[i(450)],0),this[i(439)]=!1),this.currentCreateTriangleVertices(t.pos1,t[i(479)],this[i(502)],t[i(489)],t[i(461)]),this.createPrismFaces()}[M(481)](t,i,s,n){const e=M;this[e(425)][e(480)](i,s)[e(458)](n*C[e(559)]),this[e(406)][e(486)](i)[e(458)](-n*C[e(414)]);const r=this[e(540)],o=this[e(457)];r.copy(t).sub(this[e(425)]).add(this[e(406)]),o[this[e(557)]++]=r.x,o[this[e(557)]++]=r.y,o[this.currentCoordinate++]=r.z,r[e(486)](t).add(this[e(425)])[e(574)](this[e(406)]),o[this[e(557)]++]=r.x,o[this[e(557)]++]=r.y,o[this.currentCoordinate++]=r.z,r.copy(i).multiplyScalar(n)[e(574)](t),o[this[e(557)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this.currentCoordinate++]=r.z,this[e(575)]+=3}[M(440)](t,i,s,n,e){const r=M;this[r(425)][r(480)](i,s).multiplyScalar(n*C[r(559)]),this.down[r(486)](i)[r(458)](-n*C.SIN30DEG);const o=this[r(540)],a=this[r(457)],h=this[r(437)];o[r(486)](t)[r(536)](this[r(425)])[r(574)](this.down),a[this[r(557)]++]=o.x,a[this[r(557)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(493)]++]=e,h[this[r(493)]++]=0,o[r(486)](t)[r(574)](this[r(425)])[r(574)](this.down),a[this[r(557)]++]=o.x,a[this.currentCoordinate++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(493)]++]=e,h[this[r(493)]++]=.5,o[r(486)](i)[r(458)](n)[r(574)](t),a[this[r(557)]++]=o.x,a[this[r(557)]++]=o.y,a[this[r(557)]++]=o.z,h[this[r(493)]++]=e,h[this[r(493)]++]=1,this.currentVertex+=3}createPrismFaces(t){const i=M,s=this[i(447)];t=this[i(575)]-6,s[this[i(497)]++]=t+1,s[this[i(497)]++]=t+2,s[this[i(497)]++]=t+5,s[this[i(497)]++]=t+1,s[this[i(497)]++]=t+5,s[this.currentIndex++]=t+4,s[this[i(497)]++]=t+0,s[this.currentIndex++]=t+1,s[this[i(497)]++]=t+4,s[this[i(497)]++]=t+0,s[this.currentIndex++]=t+4,s[this[i(497)]++]=t+3,s[this[i(497)]++]=t+2,s[this[i(497)]++]=t+0,s[this[i(497)]++]=t+3,s[this[i(497)]++]=t+2,s[this[i(497)]++]=t+3,s[this[i(497)]++]=t+5}[M(539)](){const t=M,i=this.randomGenerator[t(566)];this[t(562)]=function(s,n){const e=t,r=n[e(578)],a=n.rayParameters[e(520)],h=n[e(477)][e(446)],c=n[e(477)][e(409)]&&0==r[e(525)]?-i()*a:o[e(553)](r[e(504)],r[e(570)],s[e(508)])-i()*a,u=n.time-c,l=Math.floor(u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(490)]),r[e(525)]<n.maxSubrayRecursion&&n.numSubrays<n[e(506)]&&i()<d){const t=n.addNewSubray(),o=n[e(526)][e(505)]();t[e(568)]=p,n[e(526)][e(468)](p),t[e(525)]=r[e(525)]+1,t[e(471)]=Math[e(408)](1,r[e(471)]-1),t[e(421)][e(434)](i(),i(),i())[e(458)](1e3),t[e(413)][e(434)](i(),i(),i())[e(458)](1e3),t[e(479)][e(486)](r[e(479)]),t[e(522)].copy(r[e(522)]),t.radius0=s[e(450)]*n.rayParameters[e(475)],t.radius1=Math[e(472)](n[e(477)].minRadius,s[e(489)]*n.rayParameters[e(448)]),t[e(504)]=c+l*a,t[e(432)]=t[e(504)]+a*h,!n[e(477)][e(409)]&&0==r[e(525)]&&(t[e(504)]=Math[e(408)](t[e(504)],r[e(504)]),t[e(432)]=Math[e(472)](t.deathTime,r.deathTime)),t[e(416)]=2*r[e(416)],t[e(535)]=r[e(535)],t[e(427)]=r[e(427)],t[e(577)]=r.propagationTimeFactor,t[e(563)]=r[e(563)],n.onSubrayCreation(s,r,t,n),n.randomGenerator.setSeed(o)}};const n=new s,e=new s,r=new s,a=new s;this[t(555)]=function(t,i,s,n){n.subrayCylinderPosition(t,i,s,.5,.6,.2)},this[t(478)]=function(s,o,h,c,u,l){const p=t;h[p(571)].copy(s[p(571)]),n[p(523)](o[p(511)],o[p(571)]),e[p(486)](n)[p(417)](),n[p(458)](s[p(508)]+(1-s[p(508)])*(i()*c));const d=n[p(431)]();r[p(480)](o[p(479)],e);const m=2*Math.PI*i();r[p(458)](Math[p(423)](m)),a[p(486)](o[p(479)])[p(458)](Math.sin(m)),h.pos1[p(486)](r)[p(574)](a)[p(458)](d*u*(l+i()*(1-l))).add(n).add(o[p(571)])},this[t(428)]=function(s,o,h,c,u,l){const p=t;h.pos0.copy(s[p(571)]),n[p(523)](o[p(511)],o[p(571)]),e.copy(n)[p(417)](),n.multiplyScalar(s[p(508)]+(1-s.fraction0)*((2*i()-1)*c));const d=n[p(431)]();r[p(480)](o[p(479)],e);const m=2*Math.PI*i();r.multiplyScalar(Math[p(423)](m)),a[p(486)](o[p(479)])[p(458)](Math[p(516)](m)),h[p(511)][p(486)](r)[p(574)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(574)](n).add(o[p(571)])}}[M(530)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[M(556)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[M(544)](){const t=M;return this[t(528)][this[t(507)]++]}[M(486)](t){const i=M;return super.copy(t),this[i(424)](C[i(466)]({},t[i(477)])),this}[M(542)](){const t=M;return new(this[t(546)])(C.copyParameters({},this[t(477)]))}}function V(){const t=["setSeed","chain","updateMesh","maxIterations","min","sourceOffset","addNewSubray","radius0Factor","apply","rayParameters","subrayConePosition","up0","crossVectors","createTriangleVerticesWithoutUVs","310zewgKZ","subrays","uvsAttribute","update","copy","__proto__","call","radius1","subrayProbability","RAY_UNBORN","setAttribute","currentUVCoordinate","return (function() ","timeFraction","warn","currentIndex","fillMesh","time","positionAttribute","beginVanishingTime","forwardsFill","ramification","birthTime","getSeed","maxSubrays","currentSegmentIndex","fraction0","positionVariationFactor","RAY_INITIALIZED","pos1","middleLinPos","action","floor","createPrism","sin","toString","RAY_STEADY","currentSeed","subrayPeriod","cross1","up1","subVectors","simplexZ","recursion","randomGenerator","6RFnqOm","raySegments","seedGenerator","createSubray","middlePos","8034CoUUut","exception","createMesh","roughness","sub","index","needsUpdate","createDefaultSubrayCreationCallbacks","vPos","maxSubrayRecursion","clone","error","getNewSegment","trace","constructor","numSubrays","forwards","115353LIGXqh","newPos","setIndex","generateUVs","lerp","state","onSubrayCreation","createSegment","currentCoordinate","fractalRayRecursive","COS30DEG","ceil","debu","onDecideSubrayCreation","vanishingTimeFactor","log","table","random","while (true) {}","seed","777795EmjFrh","endPropagationTime","pos0","drawRange","counter","add","currentVertex","input","propagationTimeFactor","currentSubray","1448CRSCPj","down","lerpVectors","max","isEternal","RAY_EXTINGUISHED","type","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","linPos1","SIN30DEG","noiseSeed","timeScale","normalize","isStatic","gger","stateObject","linPos0","string","cos","init","side","1169LYTQCR","straightness","subrayCylinderPosition","simplexX","RAY_VANISHING","length","deathTime","usage","set","1099596yRbBCN","initSubray","uvs","createRandomGenerator","isInitialSegment","createTriangleVerticesWithUVs","position","LightningStrike","maxRaySegments","minRadius","iteration","subrayDutyCycle","indices","radius1Factor",'{}.constructor("return this")( )',"radius0","recursionProbability","21902krlTbx","prototype","array","currentSegmentCallback","test","vertices","multiplyScalar","destOffset","790756wvrGAR","fraction1","push","info","simplexY","bind","copyParameters","function *\\( *\\)"];return(V=function(){return t})()}function j(t){function i(t){const s=R;if(typeof t===s(422))return function(t){}.constructor(s(567))[s(476)](s(573));1!==(""+t/t)[s(431)]||t%20==0?function(){return!0}[s(546)](s(561)+s(419))[s(488)](s(513)):function(){return!1}[s(546)](s(561)+s(419))[s(476)](s(420)),i(++t)}try{if(t)return i;i(0)}catch(s){}}C.RAY_INITIALIZED=0,C[M(491)]=1,C.RAY_PROPAGATING=2,C[M(518)]=3,C[M(430)]=4,C[M(410)]=5,C[M(559)]=Math.cos(30*Math.PI/180),C.SIN30DEG=Math[M(516)](30*Math.PI/180);const F=D;function z(){const t=["string","rayParameters","function *\\( *\\)","toString","random","log","prototype","input","6059nsmhYf","lightningMinPeriod","counter","maxLightnings","onLightningDown","11YfJIoa","onRayPosition","785060CQsxrN","update","push","copy","geometry","clone","2591073ITBzMv","constructor","lightningMaxPeriod","remove","maxHeight","minHeight","bind","copyParameters","debu","return (function() ","isLightningStorm","lightningParameters","946236bQhkPQ","chain","trace","size","length","inited","splice","31394NldwjZ","1690716keJzil","state","lightningsMeshes","getNextLightningTime","5wbumHn","test","lightningMaterial","stormParams","lightningMinDuration","multiplyScalar","sourceOffset","RAY_EXTINGUISHED","isEternal","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","noiseSeed","RAY_PROPAGATING","set","maxSlope","nextLightningTime","init","pop","console","add","lerp","__proto__","lightningMaxDuration","63CbZTuw","8aGtYVs","destOffset","apply","1141399ZrIrpq",'{}.constructor("return this")( )',"deadLightningsMeshes"];return(z=function(){return t})()}!function(t,i){const s=D,n=z();for(;;)try{if(228221===parseInt(s(439))/1+-parseInt(s(395))/2*(-parseInt(s(424))/3)+parseInt(s(396))/4*(parseInt(s(400))/5)+-parseInt(s(388))/6+-parseInt(s(428))/7+parseInt(s(425))/8*(-parseInt(s(452))/9)+-parseInt(s(446))/10*(-parseInt(s(444))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[D(427)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){H(this,(function(){const t=D,i=new RegExp(t(433)),s=new RegExp(t(410),"i"),n=E(t(417));i[t(401)](n+t(389))&&s[t(401)](n+t(438))?E():n("0")}))()}();const G=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[D(427)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();G(void 0,(function(){const t=D,i=function(){const t=D;let i;try{i=Function(t(385)+t(429)+");")()}catch(s){i=window}return i}(),s=i[t(419)]=i[t(419)]||{},n=[t(436),"warn","info","error","exception",t(411),t(390)];for(let e=0;e<n[t(392)];e++){const i=G.constructor[t(437)].bind(G),r=n[e],o=s[r]||i;i[t(422)]=G[t(382)](G),i[t(434)]=o[t(434)][t(382)](o),s[r]=i}}))();class N extends a{constructor(t={}){const i=D;super(),this[i(386)]=!0,this[i(403)]=t,t[i(391)]=void 0!==t[i(391)]?t.size:1e3,t.minHeight=void 0!==t[i(381)]?t.minHeight:80,t[i(380)]=void 0!==t[i(380)]?t[i(380)]:100,t.maxSlope=void 0!==t.maxSlope?t.maxSlope:1.1,t[i(442)]=void 0!==t[i(442)]?t[i(442)]:3,t[i(440)]=void 0!==t[i(440)]?t[i(440)]:3,t[i(454)]=void 0!==t[i(454)]?t[i(454)]:7,t[i(404)]=void 0!==t[i(404)]?t[i(404)]:1,t[i(423)]=void 0!==t.lightningMaxDuration?t[i(423)]:2.5,this[i(387)]=C[i(383)](t.lightningParameters,t[i(387)]),this.lightningParameters[i(408)]=!1,this[i(402)]=void 0!==t[i(402)]?t.lightningMaterial:new h({color:11599871}),void 0!==t.onRayPosition?this[i(445)]=t[i(445)]:this.onRayPosition=function(s,n){const e=i;n[e(414)]((Math[e(435)]()-.5)*t[e(391)],0,(Math[e(435)]()-.5)*t[e(391)]);const r=o[e(421)](t[e(381)],t.maxHeight,Math[e(435)]());s[e(414)](t[e(415)]*(2*Math[e(435)]()-1),1,t[e(415)]*(2*Math[e(435)]()-1))[e(405)](r)[e(420)](n)},this[i(443)]=t.onLightningDown,this.inited=!1,this[i(416)]=0,this[i(398)]=[],this[i(430)]=[];for(let s=0;s<this.stormParams[i(442)];s++){const t=new C(C[i(383)]({},this.lightningParameters)),s=new c(t,this[i(402)]);this[i(430)][i(448)](s)}}[F(447)](t){const i=F;if(!this[i(393)]&&(this[i(416)]=this[i(399)](t)*Math[i(435)](),this[i(393)]=!0),t>=this[i(416)]){const s=this.deadLightningsMeshes[i(418)]();if(s){const n=C.copyParameters(s[i(450)][i(432)],this[i(387)]);n.birthTime=t,n.deathTime=t+o.lerp(this[i(403)][i(404)],this[i(403)].lightningMaxDuration,Math[i(435)]()),this.onRayPosition(n[i(406)],n[i(426)]),n[i(412)]=Math[i(435)](),this[i(420)](s),this.lightningsMeshes.push(s)}this[i(416)]=this[i(399)](t)}let s=0,n=this[i(398)][i(392)];for(;s<n;){const e=this[i(398)][s],r=e[i(450)],o=r[i(397)];r[i(447)](t),o===C[i(413)]&&r.state>o&&this[i(443)]&&this.onLightningDown(r),r[i(397)]===C[i(407)]?(this.lightningsMeshes[i(394)](this[i(398)].indexOf(e),1),this[i(430)][i(448)](e),this[i(455)](e),n--):s++}}[F(399)](t){const i=F;return t+o[i(421)](this.stormParams[i(440)],this[i(403)][i(454)],Math.random())/(this.stormParams.maxLightnings+1)}[F(449)](t,i){const s=F;return super[s(449)](t,i),this[s(403)][s(391)]=t[s(403)][s(391)],this.stormParams[s(381)]=t[s(403)][s(381)],this[s(403)][s(380)]=t[s(403)][s(380)],this.stormParams.maxSlope=t.stormParams[s(415)],this.stormParams[s(442)]=t[s(403)][s(442)],this[s(403)][s(440)]=t[s(403)][s(440)],this[s(403)][s(454)]=t.stormParams[s(454)],this[s(403)][s(404)]=t[s(403)][s(404)],this.stormParams[s(423)]=t[s(403)][s(423)],this.lightningParameters=C[s(383)]({},t.lightningParameters),this[s(402)]=t[s(403)][s(402)],this[s(443)]=t.onLightningDown,this}[F(451)](){const t=F;return new this.constructor(this[t(403)])[t(449)](this)}}function D(t,i){const s=z();return(D=function(t,i){return s[t-=380]})(t,i)}function E(t){function i(t){const s=D;if(typeof t===s(431))return function(t){}[s(453)]("while (true) {}")[s(427)](s(441));1!==(""+t/t)[s(392)]||t%20==0?function(){return!0}[s(453)](s(384)+s(409)).call("action"):function(){return!1}[s(453)](s(384)+s(409)).apply("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}const L=O;function O(t,i){const s=k();return(O=function(t,i){return s[t-=297]})(t,i)}!function(t,i){const s=O,n=k();for(;;)try{if(835742===parseInt(s(348))/1*(-parseInt(s(327))/2)+parseInt(s(316))/3*(parseInt(s(318))/4)+-parseInt(s(353))/5+-parseInt(s(335))/6+parseInt(s(325))/7*(-parseInt(s(328))/8)+parseInt(s(310))/9+parseInt(s(306))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const Y=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[O(323)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Y(this,(function(){const t=O,i=new RegExp(t(334)),s=new RegExp(t(307),"i"),n=$(t(352));i.test(n+t(304))&&s[t(317)](n+"input")?$():n("0")}))()}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[O(323)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();U(void 0,(function(){const t=O;let i;try{i=Function(t(338)+'{}.constructor("return this")( ));')()}catch(e){i=window}const s=i[t(324)]=i[t(324)]||{},n=[t(313),"warn",t(320),t(302),"exception",t(339),"trace"];for(let r=0;r<n[t(329)];r++){const i=U[t(337)][t(312)][t(332)](U),e=n[r],o=s[e]||i;i[t(301)]=U.bind(U),i[t(300)]=o.toString[t(332)](o),s[e]=i}}))();const Z=[L(305)];function k(){const t=["1397790AJMwZK","add","prototype","log","radius1","stateObject","3316251GzWWOh","test","4ojHvpC","#b0ffff","info","subrayConePosition","minHeight","apply","console","63EcHnww","sub","4HZyVJs","79592HzngKP","length","action","pos1","bind","multiplyScalar","function *\\( *\\)","2169072GXbUXT","primitive","constructor","return (function() ","table","timeScale","lightStorm","gger","straightness","Vector3","update","roughness","subrayDutyCycle","812698oEvBeq","rayParameters","sourceOffset","Color","init","7076525myXNfQ","while (true) {}","call","debu","maxHeight","subrayPeriod","color","maxLightnings","toString","__proto__","error","radius0","chain","object","30667690rxxMws","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stormParams","size"];return(k=function(){return t})()}const W=f({__name:L(341),props:{color:{default:L(319)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=L,s=t,n=new(u[i(351)])(s[i(298)]),e=new h({color:n}),r=new(u[i(344)])(0,-1,0);let o=0;const a=new(u[i(344)]),c=new(u[i(344)]),p={roughness:s[i(346)],straightness:s.straightness,radius0:s[i(303)],radius1:s[i(314)],timeScale:s[i(340)],subrayPeriod:s[i(297)],subrayDutyCycle:s[i(347)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const h=i;e[h(321)](t,s,n,.6,.6,.5),o=e[h(349)][h(350)].y,a.subVectors(n[h(331)],e[h(349)][h(350)]);const u=r.dot(a);c.copy(r)[h(333)](u),a[h(326)](c);const l=u/o>.5?o/u:1;c[h(333)](l),a[h(311)](c),n.pos1.addVectors(a,e[h(349)][h(350)])}},d=new N({size:s[i(309)],minHeight:s.minHeight,maxHeight:s[i(357)],maxSlope:.6,maxLightnings:s[i(299)],lightningParameters:p,lightningMaterial:e});g((()=>{const t=i,n=d[t(308)];n[t(309)]=s[t(309)],n[t(322)]=s[t(322)],n[t(357)]=s[t(357)],e[t(298)].set(s[t(298)]),p[t(346)]=s[t(346)],p[t(343)]=s[t(343)],p[t(303)]=s[t(303)],p[t(314)]=s[t(314)],p[t(340)]=s[t(340)]}));const{onLoop:m}=l();return m((({elapsed:t})=>{d[i(345)](t)})),(t,s)=>{const n=i;return y(),b(n(336),{object:w(d),renderOrder:9999},null,8,Z)}}});function $(t){function i(t){const s=O;if("string"==typeof t)return function(t){}[s(337)](s(354))[s(323)]("counter");1!==(""+t/t)[s(329)]||t%20==0?function(){return!0}[s(337)]("debu"+s(342))[s(355)](s(330)):function(){return!1}[s(337)](s(356)+s(342)).apply(s(315)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const X=q;!function(t,i){const s=q,n=K();for(;;)try{if(465242===parseInt(s(427))/1*(-parseInt(s(445))/2)+parseInt(s(435))/3*(-parseInt(s(453))/4)+-parseInt(s(460))/5*(-parseInt(s(439))/6)+parseInt(s(443))/7*(parseInt(s(446))/8)+parseInt(s(420))/9+-parseInt(s(456))/10+parseInt(s(438))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const B=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[q(440)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){B(this,(function(){const t=q,i=new RegExp(t(442)),s=new RegExp(t(447),"i"),n=tt(t(434));i.test(n+t(419))&&s.test(n+"input")?tt():n("0")}))()}();const J=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function q(t,i){const s=K();return(q=function(t,i){return s[t-=416]})(t,i)}J(void 0,(function(){const t=q;let i;try{i=Function(t(441)+t(457)+");")()}catch(e){i=window}const s=i.console=i[t(431)]||{},n=["log",t(418),t(416),t(433),t(437),t(452),"trace"];for(let r=0;r<n.length;r++){const i=J.constructor.prototype[t(422)](J),e=n[r],o=s[e]||i;i[t(428)]=J[t(422)](J),i.toString=o.toString.bind(o),s[e]=i}}))();const Q=f({__name:X(458),setup(i){const s=X,n=v({cellSize:60,cellThickness:1,cellColor:s(450),sectionColor:s(461),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=p({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:"#ffbde7",roughness:{label:"粗糙度",value:.85,min:0,max:1,step:.01},straightness:{label:"直度度",value:.65,min:0,max:1,step:.01},radius0:{label:"端部半径",value:1,min:.1,max:10,step:.01},radius1:{label:s(429),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(425),value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const m=s;return y(),b(P,null,[S(t,{showAxesHelper:!1,showGridHelper:!1},{ability:_((()=>[S(W,{minHeight:w(e)[m(448)],maxHeight:w(r)[m(448)],color:w(o)[m(448)],roughness:w(a)[m(448)],straightness:w(h)[m(448)],radius0:w(c).value,radius1:w(u)[m(448)],timeScale:w(l)[m(448)]},null,8,[m(449),m(426),m(459),m(423),m(455),m(430),m(444),m(424)]),S(w(I),x({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),S(w(d))],64)}}});function K(){const t=["radius1","2394wWxExW","1767448mJCAdg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","minHeight","#6f6f6f","action","table","94088kCNxEf","gger","straightness","1887760xkXmyW",'{}.constructor("return this")( )',"lightningStorm","color","13285MWpgMI","#92399e","info","constructor","warn","chain","6467202zBgYzV","length","bind","roughness","timeScale","时间缩放","maxHeight","335HePNqL","__proto__","未部半径","radius0","console","counter","error","init","42tSPGMn","call","exception","4308392MLPruW","120BbFWpH","apply","return (function() ","function *\\( *\\)","7JhVLXE"];return(K=function(){return t})()}function tt(t){function i(t){const s=q;if("string"==typeof t)return function(t){}[s(417)]("while (true) {}")[s(440)](s(432));1!==(""+t/t)[s(421)]||t%20==0?function(){return!0}[s(417)]("debu"+s(454))[s(436)](s(451)):function(){return!1}[s(417)]("debu"+s(454)).apply("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{Q as default};
