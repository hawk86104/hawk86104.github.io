import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.8axf5yqM1738810638719.js";import{_ as s,aX as i}from"./three.6w8Allze1738810638719.js";import{P as c}from"./tweakpane.yDiyAAkA1738810638719.js";import{L as a}from"./three-subdivide.6SXp_3sm1738810638719.js";import{d as l,b as u,a2 as f,w as p,o as d,H as g,N as m,aj as h,ak as v,a3 as b,r as y,e as w,f as M,g as _,j as I,u as x,m as T,M as S}from"./@vue.NRI7TcgI1738810638719.js";import"./@vueuse.hJpps2zM1738810638719.js";const j=k;function k(n,t){const e=A();return(k=function(n,t){return e[n-=441]})(n,t)}!function(n,t){const e=k,r=A();for(;;)try{if(172776===parseInt(e(485))/1*(parseInt(e(489))/2)+parseInt(e(500))/3+parseInt(e(476))/4+-parseInt(e(459))/5+parseInt(e(471))/6*(parseInt(e(456))/7)+parseInt(e(468))/8+-parseInt(e(492))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[k(502)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){B(this,(function(){const n=k,t=new RegExp(n(446)),e=new RegExp(n(461),"i"),r=N(n(469));t[n(472)](r+"chain")&&e.test(r+n(497))?N():r("0")}))()}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();C(void 0,(function(){const n=k;let t;try{t=Function("return (function() "+n(454)+");")()}catch(o){t=window}const e=t[n(488)]=t.console||{},r=[n(463),n(465),n(450),n(447),n(473),n(457),n(449)];for(let s=0;s<r[n(464)];s++){const t=C.constructor[n(498)][n(495)](C),o=r[s],i=e[o]||t;t[n(443)]=C[n(495)](C),t[n(466)]=i[n(466)][n(495)](i),e[o]=t}}))();const V=[j(481)];function A(){const n=["info","TresMesh","debu","Vector3",'{}.constructor("return this")( )',"geometry","7wgfdTL","table","color","1648190TorNbC","position","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","FrontSide","log","length","warn","toString","srcMesh","899632SsrceI","init","material","1833066PhIyMG","test","exception","glowColor","viewVector","138152VHcbFg","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","value","subdivision","string","scale","uniforms","Color","gger","74909UKmmqC","counter","clone","console","2LoJaEt","attributes","AdditiveBlending","3288951JjwkkC","shineShader","TresShaderMaterial","bind","constructor","input","prototype","blending","1021323lZOQjc","#ffff00","apply","side","copy","modify","__proto__","action","while (true) {}","function *\\( *\\)","error","stateObject","trace"];return(A=function(){return n})()}const z=l({__name:j(493),props:{srcMesh:{},scale:{default:1.2},color:{default:j(501)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[j(462)]},blending:{default:s[j(491)]}},setup(e){const r=j,o=e,i=u(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(483)])(o[r(458)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(477),side:o[r(503)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};f((()=>{const n=r;if(o[n(467)]&&i[n(478)]&&!i[n(478)][n(455)][n(490)][n(460)]){let t=o.srcMesh[n(455)][n(487)]();o[n(479)]&&(t=a[n(442)](t,2)),i.value[n(455)]=t,i[n(478)].position[n(441)](o.srcMesh[n(460)])}o[n(458)]&&(c[n(482)][n(474)][n(478)]=new(s[n(483)])(o.color)),o.c&&(c[n(482)].c[n(478)]=o.c),o.p&&(c[n(482)].p.value=o.p)})),p((()=>o[r(479)]),(n=>{const t=r;let e=o[t(467)][t(455)][t(487)]();n&&(e=a[t(442)](e,2)),i[t(478)].geometry=e})),p((()=>o[r(503)]),(n=>{const t=r;i.value[t(470)].side=n})),p((()=>o.blending),(n=>{const t=r;i[t(478)].material[t(499)]=n}));const{onLoop:l}=n(),{camera:b}=t();return l((()=>{const n=r;b.value&&i[n(478)]&&(c[n(482)][n(475)][n(478)]=(new(s[n(453)])).subVectors(b[n(478)][n(460)],i[n(478)][n(460)]))})),(n,t)=>{const e=r;return d(),g(e(451),{ref_key:"TSGref",ref:i,scale:o.scale},[m(e(494),h(v(c)),null,16)],8,V)}}});function N(n){function t(n){const e=k;if(typeof n===e(480))return function(n){}.constructor(e(445))[e(502)](e(486));1!==(""+n/n).length||n%20==0?function(){return!0}[e(496)]("debu"+e(484)).call(e(444)):function(){return!1}[e(496)](e(452)+e(484))[e(502)](e(448)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const E=H;function F(){const n=["side","#0ff","2KtHVGn","chain","prototype","subdivision","DoubleSide","warn","function *\\( *\\)","#222","2650528bwikwQ","input","log",'{}.constructor("return this")( )',"FrontSide","#00dfff","9xbVSlp","error","TresPerspectiveCamera","TresMeshRefB","TresGridHelper","test","init","map","32bzxXml","apply","toString","340522GBCtVQ","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","BackSide","logo.png","13675VbskIr","TresMesh","return (function() ","addBinding","constructor","color","44Krbtgd","TresCanvas","trace","instance","scale","while (true) {}","TresMeshBasicMaterial","22083hYOvgT","AdditiveBlending","blending","table","NormalBlending","bind","action","value","debu","length","gger","console","TresSphereGeometry","TresMeshRefA","counter","9246732ZYrNZW","TresAmbientLight","1913506ksMerm","string","info","TresBoxGeometry","858TMePtQ","srcMesh","195320XEConj"];return(F=function(){return n})()}!function(n,t){const e=H,r=F();for(;;)try{if(233908===parseInt(e(210))/1*(-parseInt(e(235))/2)+-parseInt(e(254))/3*(-parseInt(e(232))/4)+parseInt(e(241))/5*(-parseInt(e(205))/6)+-parseInt(e(201))/7+parseInt(e(218))/8*(parseInt(e(224))/9)+parseInt(e(207))/10*(parseInt(e(247))/11)+parseInt(e(199))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){G(this,(function(){const n=H,t=new RegExp(n(216)),e=new RegExp(n(237),"i"),r=O(n(230));t[n(229)](r+n(211))&&e[n(229)](r+n(219))?O():r("0")}))()}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[H(233)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();R(void 0,(function(){const n=H;let t;try{t=Function(n(243)+n(221)+");")()}catch(o){t=window}const e=t[n(195)]=t[n(195)]||{},r=[n(220),n(215),n(203),n(225),"exception",n(257),n(249)];for(let s=0;s<r[n(193)];s++){const t=R.constructor[n(212)][n(259)](R),o=r[s],i=e[o]||t;t[n(236)]=R.bind(R),t[n(234)]=i.toString[n(259)](i),e[o]=t}}))();const Z=["map"],L=[E(231)],P=l({__name:"shader",async setup(n){const t=E;let a,l;const f={clearColor:t(217)},p=u(),g=u(),h=u(),v=([a,l]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(240)]))),a=await a,l(),a),j=y({scale:1.6,color:t(223),subdivision:!0,c:1.1,p:1.4,side:s[t(222)],blending:i}),k=new c({title:"参数",expanded:!0});return k[t(244)](j,t(246),{label:"颜色"}),k[t(244)](j,t(251),{label:"大小",min:1,max:3,step:.2}),k[t(244)](j,t(213),{label:"边缘处理"}),k[t(244)](j,"c",{label:"c",min:0,max:2,step:.1}),k[t(244)](j,"p",{label:"p",min:0,max:8,step:.2}),k[t(244)](j,t(208),{options:{FrontSide:s[t(222)],BackSide:s[t(239)],DoubleSide:s[t(214)]}}),k.addBinding(j,t(256),{options:{AdditiveBlending:s[t(255)],NormalBlending:s[t(258)]}}),(n,o)=>{const s=t,i=w(s(248));return d(),M(i,T(f,{"window-size":""}),{default:_((()=>[o[2]||(o[2]=m(s(226),{position:[5,5,5]},null,-1)),o[3]||(o[3]=m(s(200),{intensity:1},null,-1)),I(x(e)),o[4]||(o[4]=m(s(228),{args:[10,10]},null,-1)),m(s(242),{ref_key:s(197),ref:p,position:[-2,1,0]},[o[0]||(o[0]=m(s(196),{args:[1,32,16]},null,-1)),m(s(253),{map:x(v)[0]},null,8,Z)],512),I(z,T({srcMesh:p[s(261)]},j),null,16,[s(206)]),I(x(r),{ref_key:"TreBoxRef",ref:h,args:[1,1,1],position:[2,1,0]},{default:_((()=>[m("TresMeshBasicMaterial",{map:x(v)[1]},null,8,L)])),_:1},512),h[s(261)]&&h[s(261)][s(250)]?(d(),M(z,T({key:0,srcMesh:h[s(261)][s(250)]},j),null,16,[s(206)])):S("",!0),m(s(242),{ref_key:s(227),ref:g,position:[0,1,-2]},o[1]||(o[1]=[m(s(204),{args:[1,1,1,1,1]},null,-1),m(s(253),{color:s(209)},null,-1)]),512),I(z,T({srcMesh:g[s(261)]},j),null,16,["srcMesh"])])),_:1},16)}}});function H(n,t){const e=F();return(H=function(n,t){return e[n-=193]})(n,t)}function O(n){function t(n){const e=H;if(typeof n===e(202))return function(n){}[e(245)](e(252))[e(233)](e(198));1!==(""+n/n)[e(193)]||n%20==0?function(){return!0}[e(245)](e(262)+e(194)).call(e(260)):function(){return!1}.constructor(e(262)+e(194))[e(233)](e(238)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{P as default};
