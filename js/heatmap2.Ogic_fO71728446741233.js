import{P as t}from"./tweakpane.yHWGBmom1728446741233.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.WF5R5NTj1728446741233.js";import{_ as r}from"./heatmap.js-fix.TCJX7Rdd1728446741233.js";import{h as i,_ as s,cp as c,s as u,B as a}from"./three.GKtOCofD1728446741233.js";import{r as f}from"./utils.ZLU7JzO61728446741233.js";import{d as p}from"./pinia.xS8D_FkU1728446741233.js";import{b as l,d as h,a3 as d,o as m,E as g,L as y,u as v,F as b,q as w,V as I,O as _,Q as j,I as x,M,a4 as S,r as z,j as O,g as D,m as E}from"./@vue.JNsx1iN61728446741233.js";import{c as R,d as B,a as Z}from"./three-mesh-bvh.1uNND2ZS1728446741233.js";import{_ as k}from"./@fesjs.tvRFRo261728446741233.js";import"./@tresjs.2zzrlbpQ1728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";import"./three-custom-shader-material.TfREIiYm1728446741233.js";import"./object-hash.0ofIFoz61728446741233.js";import"./@amap.Qg_J860p1728446741233.js";import"./jszip.tq9nBV5m1728446741233.js";import"./glsl-tokenizer.3GIgb7Lk1728446741233.js";import"./glsl-token-string.OiBTr1Jd1728446741233.js";import"./glsl-token-functions.FTbn13l-1728446741233.js";import"./vue-router.GYb5A3dV1728446741233.js";import"./lodash-es.kYt-_xTG1728446741233.js";import"./@qlin.yHhFDldE1728446741233.js";import"./@floating-ui.BPbuo5Gx1728446741233.js";import"./@juggle.7yjBMqoW1728446741233.js";function A(){const t=["body","7tzyIRG","error","push","constructor","top","randInt","stateObject","_config","console","length","width","warn","176032KRyebw","debu","left","rgb(255,0,0)","init","yellow","10fhziiM","table","height","test","apply","2691500cYlaGt","createElement","call","45LNdEzD","appendChild","display","string","8324952chBphe","create","style","input","position","60422cTaRtK","log","1842894oNesvS","action","4959438JFxzpM","absolute","rgb(0,0,255)","rgb(0,255,0)","getValueAt","while (true) {}","1321194xBjbiC","none","exception","bind","gger","info","return (function() ","36DpTXyM"];return(A=function(){return t})()}!function(t,n){const e=$,o=A();for(;;)try{if(662440===parseInt(e(440))/1*(parseInt(e(421))/2)+parseInt(e(412))/3*(parseInt(e(398))/4)+parseInt(e(409))/5+-parseInt(e(438))/6*(parseInt(e(431))/7)+parseInt(e(416))/8+-parseInt(e(423))/9*(parseInt(e(404))/10)+-parseInt(e(425))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(408)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=$,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(402));n[t(407)](o+"chain")&&e[t(407)](o+t(419))?H():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(408)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();F(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(437)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(448)]=n.console||{},o=[t(422),t(397),t(436),t(441),t(433),t(405),"trace"];for(let r=0;r<o[t(449)];r++){const n=F.constructor.prototype.bind(F),i=o[r],s=e[i]||n;n.__proto__=F[t(434)](F),n.toString=s.toString.bind(s),e[i]=n}}))();const P=(t,n)=>t[$(429)](n)+-10;function $(t,n){const e=A();return($=function(t,n){return e[t-=396]})(t,n)}function H(t){function n(t){const e=$;if(typeof t===e(415))return function(t){}[e(443)](e(430))[e(408)]("counter");1!==(""+t/t)[e(449)]||t%20==0?function(){return!0}.constructor(e(399)+e(435))[e(411)](e(424)):function(){return!1}[e(443)](e(399)+e(435))[e(408)](e(446)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=K,o=N();for(;;)try{if(706736===parseInt(e(251))/1+-parseInt(e(229))/2+-parseInt(e(218))/3*(parseInt(e(247))/4)+parseInt(e(220))/5+-parseInt(e(234))/6*(-parseInt(e(250))/7)+parseInt(e(245))/8+-parseInt(e(223))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(244)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=K,n=new RegExp(t(231)),e=new RegExp(t(226),"i"),o=W(t(235));n[t(230)](o+t(232))&&e[t(230)](o+t(221))?W():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(t,n){const e=N();return(K=function(t,n){return e[t-=218]})(t,n)}function N(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","trace","2604684KOJujF","test","function *\\( *\\)","chain","error","348jBPJOa","init","gger","string","table","value","console","debu",'{}.constructor("return this")( )',"stateObject","apply","5891056gsssdu","bind","28WZCXxb","length","__proto__","23429pHmfhW","960566NFoHHK","constructor","call","while (true) {}","26988IwOjVW","counter","1278270yfZOEA","input","action","672102yINxAe","exception","warn"];return(N=function(){return t})()}L(void 0,(function(){const t=K;let n;try{n=Function("return (function() "+t(242)+");")()}catch(r){n=window}const e=n.console=n[t(240)]||{},o=["log",t(225),"info",t(233),t(224),t(238),t(228)];for(let i=0;i<o[t(248)];i++){const n=L[t(252)].prototype[t(246)](L),r=o[i],s=e[r]||n;n[t(249)]=L.bind(L),n[t(227)]=s.toString[t(246)](s),e[r]=n}}))();const V=p("buildingsHeatmap",(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[K(239)]=n},setTemperature:function(t){n[K(239)]=t}}}));function W(t){function n(t){const e=K;if(typeof t===e(237))return function(t){}[e(252)](e(254))[e(244)](e(219));1!==(""+t/t)[e(248)]||t%20==0?function(){return!0}[e(252)](e(241)+e(236))[e(253)](e(222)):function(){return!1}[e(252)](e(241)+e(236))[e(244)](e(243)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=C;!function(t,n){const e=C,o=tt();for(;;)try{if(556929===-parseInt(e(416))/1+parseInt(e(383))/2+-parseInt(e(404))/3*(parseInt(e(428))/4)+parseInt(e(437))/5+parseInt(e(435))/6+-parseInt(e(390))/7*(parseInt(e(427))/8)+-parseInt(e(440))/9*(parseInt(e(393))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(414)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=C,n=new RegExp(t(401)),e=new RegExp(t(426),"i"),o=nt(t(420));n.test(o+t(423))&&e[t(398)](o+t(441))?nt():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(414)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(t,n){const e=tt();return(C=function(t,n){return e[t-=373]})(t,n)}J(void 0,(function(){const t=C;let n;try{n=Function("return (function() "+t(429)+");")()}catch(r){n=window}const e=n.console=n[t(433)]||{},o=[t(384),t(397),t(388),t(392),"exception",t(419),"trace"];for(let i=0;i<o[t(443)];i++){const n=J[t(436)][t(399)][t(415)](J),r=o[i],s=e[r]||n;n[t(431)]=J.bind(J),n.toString=s.toString[t(415)](s),e[r]=n}}))();const G=[X(406),X(381)],Q=[X(406)],Y=h({__name:X(374),props:{model:{},opacity:{default:1}},setup(t){const n=X;(()=>{const t=C;s[t(439)][t(399)][t(413)]=R,a[t(399)].disposeBoundsTree=B,s[t(418)][t(399)][t(386)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=$,i=document[o(410)]("heatmap-canvas");return i[o(418)][o(420)]=o(426),!e&&(i[o(418)][o(414)]=o(432)),i[o(418)][o(444)]="0",i[o(418)][o(400)]="0",document[o(439)][o(413)](i),r[o(417)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(427),.55:o(428),.85:o(403),1:o(401)}})})();((t,n)=>{const e=$;if(!n){let o=0;for(n=[];o<1e3;)n[e(442)]({x:i[e(445)](1,t[e(447)][e(396)]),y:i.randInt(1,t._config[e(406)]),value:i.randInt(-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const p=new(s[n(376)])(o[n(387)].canvas);p.needsUpdate=!0;const l=e[n(373)][n(396)][n(385)]();delete l[n(407)][n(421)][n(379)],delete l[n(407)].attributes.uv;const h=l[n(407)].clone()[n(403)](l[n(391)]),w=e[n(373)][n(377)][n(385)]();delete w[n(407)][n(421)].normal;const I=w[n(407)].clone()[n(403)](w[n(391)]),_=c[n(395)]([h,I]);_[n(403)]((new(s[n(380)]))[n(432)](Math.PI/2)),f(_),_[n(413)]();const j=(t=>{const o=n;return new(s[o(425)])({vertexShader:o(382),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(430)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:s[o(410)]})})(p),x=new u(_,j);d((()=>{const t=n;e[t(430)]&&(j[t(434)][t(400)].value=e[t(430)])}));const M=V(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(445)][e(424)],y:(1-t.uv.y)*o[e(445)][e(442)]};console[e(384)](e(412),t),console.log(e(417),P(o,n)),M[e(422)](P(o,n))}},z=t=>{t&&M[n(402)]({showDiv:!0})},O=t=>{t&&M.setShowDiv(!1)};return(t,o)=>{const r=n;return m(),g(b,null,[y(r(389),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:z,onPointerLeave:O},null,40,G),y(r(389),{object:e[r(373)][r(373)][r(444)][0].clone()},null,8,Q)],64)}}});function tt(){const t=["数值———：","Mesh","table","init","attributes","setTemperature","chain","width","ShaderMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8kKWkVf","1493332fobOHM",'{}.constructor("return this")( )',"opacity","__proto__","makeRotationX","console","uniforms","6493014XnPrwo","constructor","1333395SvtXFa","stateObject","BufferGeometry","35307IafBZt","input","height","length","children","_config","model","buildingsHeatmap","debu","Texture","land","string","normal","Matrix4","rotation-x","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","1800962zBgTOO","log","clone","raycast","_renderer","info","primitive","4971113yxIoyw","matrix","error","70JqZrNi","while (true) {}","mergeGeometries","city","warn","test","prototype","uOpacity","function *\\( *\\)","$patch","applyMatrix4","3HhRDmz","counter","object","geometry","gger","action","DoubleSide","call","数值：","computeBoundsTree","apply","bind","581447LWHYHD"];return(tt=function(){return t})()}function nt(t){function n(t){const e=C;if(typeof t===e(378))return function(t){}[e(436)](e(394))[e(414)](e(405));1!==(""+t/t)[e(443)]||t%20==0?function(){return!0}[e(436)]("debu"+e(408))[e(411)](e(409)):function(){return!1}[e(436)](e(375)+e(408))[e(414)](e(438)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=k({__name:"dataDiv",setup(t){const n=V(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:M(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=it,o=ct();for(;;)try{if(293931===-parseInt(e(255))/1+-parseInt(e(252))/2*(-parseInt(e(245))/3)+parseInt(e(259))/4+-parseInt(e(280))/5+parseInt(e(260))/6+-parseInt(e(254))/7+parseInt(e(250))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(263)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=it,n=new RegExp(t(275)),e=new RegExp(t(264),"i"),o=ut(t(257));n[t(276)](o+"chain")&&e[t(276)](o+t(270))?ut():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(263)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=ct();return(it=function(t,n){return e[t-=240]})(t,n)}rt(void 0,(function(){const t=it,n=function(){const t=it;let n;try{n=Function(t(240)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(246)]||{},o=[t(261),t(247),t(278),t(262),t(273),t(267),t(272)];for(let r=0;r<o[t(265)];r++){const n=rt[t(249)][t(268)][t(242)](rt),i=o[r],s=e[i]||n;n[t(244)]=rt.bind(rt),n[t(266)]=s[t(266)][t(242)](s),e[i]=n}}))();const st=h({__name:"heatmap2",async setup(r){const i=it;let s,c;const u=l(!1),a=([s,c]=S((()=>o())),s=await s,c(),s);u.value=!0;const f=z({width:1,color:i(251),opacity:1,show:!0}),p=z({opacity:.9});return new t({title:"参数",expanded:!0})[i(271)](p,"opacity",{label:i(241),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(b,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[O(Y,E({model:v(a)},p),null,16,[r(256)]),O(n,E(f,{builds:v(a)[r(279)]}),null,16,["builds"])])),_:1}),O(et)],64)}}});function ct(){const t=["stateObject","3425198xRBJiQ","172580NuvyqT","model","init","gger","2048044gOUyQo","985524fUSsyB","log","error","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","toString","table","prototype","call","input","addBinding","trace","exception","counter","function *\\( *\\)","test","while (true) {}","info","city","618275tAstPT","return (function() ","透明度","bind","debu","__proto__","4614VLqDjK","console","warn","string","constructor","432712DuozxI","#000","454prMkjx"];return(ct=function(){return t})()}function ut(t){function n(t){const e=it;if(typeof t===e(248))return function(t){}[e(249)](e(277)).apply(e(274));1!==(""+t/t).length||t%20==0?function(){return!0}[e(249)](e(243)+"gger")[e(269)]("action"):function(){return!1}[e(249)](e(243)+e(258)).apply(e(253)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
