import{c1 as t,a3 as e,s as n,t as r}from"./three.x4oqFJNT1729821967160.js";import{z as o}from"./@tresjs.QjD7q5YC1729821967160.js";import{R as s,b as i}from"./all.three.x-72c36p1729821967160.js";import{d as c,a4 as a,a3 as u,w as f,o as l,E as p,L as d,u as h}from"./@vue.JNsx1iN61729821967160.js";const m=w;!function(t,e){const n=w,r=I();for(;;)try{if(118388===-parseInt(n(369))/1*(-parseInt(n(315))/2)+-parseInt(n(345))/3*(parseInt(n(324))/4)+parseInt(n(326))/5*(-parseInt(n(316))/6)+parseInt(n(309))/7*(parseInt(n(344))/8)+parseInt(n(337))/9+parseInt(n(311))/10*(parseInt(n(323))/11)+-parseInt(n(367))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(370)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function w(t,e){const n=I();return(w=function(t,e){return n[t-=308]})(t,e)}!function(){b(this,(function(){const t=w,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(368),"i"),r=M("init");e.test(r+t(352))&&n[t(325)](r+t(354))?M():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(370)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=w;let e;try{e=Function(t(341)+t(342)+");")()}catch(o){e=window}const n=e.console=e[t(317)]||{},r=[t(353),t(339),t(327),t(360),t(371),t(328),t(335)];for(let s=0;s<r.length;s++){const e=g[t(364)][t(308)].bind(g),o=r[s],i=n[o]||e;e[t(319)]=g[t(357)](g),e[t(361)]=i[t(361)][t(357)](i),n[o]=e}}))();const v=[m(314)],y=[m(349)],j=[m(349)];function I(){const t=["ignoreObjects","constructor","textureMatrixUniform","debu","1049496fkHWBd","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","7ddnGhG","apply","exception","size","uniforms","prototype","7MYWmat","wrapS","22430qpIOKW","gger","mapUrl","scale","33544DcabLM","12072GczrbV","console","showGridHelper","__proto__","repeat","forEach","rotation","737QkSVyT","6632EykCRT","test","240oOlSOk","info","table","visible","counter","tReflect","TresGroup","length","while (true) {}","trace","isMesh","1945134TXfiDL","value","warn","primitive","return (function() ",'{}.constructor("return this")( )',"tReflectBlur","366056QVgvmY","411DiFpfM","reflectivity","texture","wrapT","object","update","uMatrix","chain","log","input","set","stateObject","bind","call","reflectorDUDV","error","toString","onBeforeRender"];return(I=function(){return t})()}const x=c({__name:m(359),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:b}){const w=m;let g,I;const x=c,M=new s,_=new t(x[w(372)][0]-.5,x[w(372)][1]);_[w(329)]=x.showGridHelper;const{map:R}=([g,I]=a((()=>o({map:x[w(313)]}))),g=await g,I(),g);R[w(310)]=e,R[w(348)]=e,R[w(320)][w(355)](6,3);const z=new i({map:R,reflectivity:x[w(346)]});z.uniforms[w(331)]={value:M.renderTarget[w(347)]},z[w(373)][w(343)]=M.renderTargetUniform,z.uniforms[w(351)]=M[w(365)];const G=new n(new r(x[w(372)][0],x.size[1]),z);return G[w(322)].x=-Math.PI/2,G.add(M),G[w(362)]=(t,e,n)=>{const r=w;G.visible=!1,x[r(363)][r(321)]((t=>{const e=r;t[e(336)]&&(t.visible=!1),t[e(338)]&&t.value.isMesh&&(t[e(338)][e(329)]=!1)})),M[r(350)](t,e,n),x.ignoreObjects.forEach((t=>{const e=r;t.isMesh&&(t[e(329)]=!0),t[e(338)]&&t[e(338)][e(336)]&&(t[e(338)].visible=!0)})),G[r(329)]=!0},u((()=>{const t=w;x[t(346)]&&(z[t(373)].uReflectivity.value=x[t(346)])})),f((()=>x[w(318)]),(t=>{_[w(329)]=t})),b({reflector:M}),(t,e)=>{const n=w;return l(),p(n(332),{scale:x.scale},[d("primitive",{object:h(G),"position-y":-.01},null,8,y),d(n(340),{object:h(_)},null,8,j)],8,v)}}});function M(t){function e(t){const n=w;if("string"==typeof t)return function(t){}[n(364)](n(334))[n(370)](n(330));1!==(""+t/t)[n(333)]||t%20==0?function(){return!0}[n(364)](n(366)+n(312))[n(358)]("action"):function(){return!1}.constructor(n(366)+n(312))[n(370)](n(356)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
