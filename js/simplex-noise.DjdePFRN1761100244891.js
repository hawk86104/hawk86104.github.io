const t=Math.sqrt(3),n=Math.sqrt(5),e=.5*(t-1),o=(3-t)/6,r=(n-1)/4,a=(5-n)/20,l=t=>0|Math.floor(t),s=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),c=new Float64Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function f(t=Math.random){const n=u(t),r=new Float64Array(n).map(t=>s[t%12*2]),a=new Float64Array(n).map(t=>s[t%12*2+1]);return function(t,s){let c=0,f=0,i=0;const u=(t+s)*e,w=l(t+u),y=l(s+u),A=(w+y)*o,m=t-(w-A),F=s-(y-A);let p,h;m>F?(p=1,h=0):(p=0,h=1);const M=m-p+o,d=F-h+o,q=m-1+2*o,x=F-1+2*o,U=255&w,b=255&y;let g=.5-m*m-F*F;if(g>=0){const t=U+n[b];g*=g,c=g*g*(r[t]*m+a[t]*F)}let j=.5-M*M-d*d;if(j>=0){const t=U+p+n[b+h];j*=j,f=j*j*(r[t]*M+a[t]*d)}let k=.5-q*q-x*x;if(k>=0){const t=U+1+n[b+1];k*=k,i=k*k*(r[t]*q+a[t]*x)}return 70*(c+f+i)}}function i(t=Math.random){const n=u(t),e=new Float64Array(n).map(t=>c[t%32*4]),o=new Float64Array(n).map(t=>c[t%32*4+1]),s=new Float64Array(n).map(t=>c[t%32*4+2]),f=new Float64Array(n).map(t=>c[t%32*4+3]);return function(t,c,i,u){let w,y,A,m,F;const p=(t+c+i+u)*r,h=l(t+p),M=l(c+p),d=l(i+p),q=l(u+p),x=(h+M+d+q)*a,U=t-(h-x),b=c-(M-x),g=i-(d-x),j=u-(q-x);let k=0,v=0,z=0,B=0;U>b?k++:v++,U>g?k++:z++,U>j?k++:B++,b>g?v++:z++,b>j?v++:B++,g>j?z++:B++;const C=k>=3?1:0,D=v>=3?1:0,E=z>=3?1:0,G=B>=3?1:0,H=k>=2?1:0,I=v>=2?1:0,J=z>=2?1:0,K=B>=2?1:0,L=k>=1?1:0,N=v>=1?1:0,O=z>=1?1:0,P=B>=1?1:0,Q=U-C+a,R=b-D+a,S=g-E+a,T=j-G+a,V=U-H+2*a,W=b-I+2*a,X=g-J+2*a,Y=j-K+2*a,Z=U-L+3*a,$=b-N+3*a,_=g-O+3*a,tt=j-P+3*a,nt=U-1+4*a,et=b-1+4*a,ot=g-1+4*a,rt=j-1+4*a,at=255&h,lt=255&M,st=255&d,ct=255&q;let ft=.6-U*U-b*b-g*g-j*j;if(ft<0)w=0;else{const t=at+n[lt+n[st+n[ct]]];ft*=ft,w=ft*ft*(e[t]*U+o[t]*b+s[t]*g+f[t]*j)}let it=.6-Q*Q-R*R-S*S-T*T;if(it<0)y=0;else{const t=at+C+n[lt+D+n[st+E+n[ct+G]]];it*=it,y=it*it*(e[t]*Q+o[t]*R+s[t]*S+f[t]*T)}let ut=.6-V*V-W*W-X*X-Y*Y;if(ut<0)A=0;else{const t=at+H+n[lt+I+n[st+J+n[ct+K]]];ut*=ut,A=ut*ut*(e[t]*V+o[t]*W+s[t]*X+f[t]*Y)}let wt=.6-Z*Z-$*$-_*_-tt*tt;if(wt<0)m=0;else{const t=at+L+n[lt+N+n[st+O+n[ct+P]]];wt*=wt,m=wt*wt*(e[t]*Z+o[t]*$+s[t]*_+f[t]*tt)}let yt=.6-nt*nt-et*et-ot*ot-rt*rt;if(yt<0)F=0;else{const t=at+1+n[lt+1+n[st+1+n[ct+1]]];yt*=yt,F=yt*yt*(e[t]*nt+o[t]*et+s[t]*ot+f[t]*rt)}return 27*(w+y+A+m+F)}}function u(t){const n=512,e=new Uint8Array(n);for(let o=0;o<256;o++)e[o]=o;for(let o=0;o<255;o++){const n=o+~~(t()*(256-o)),r=e[o];e[o]=e[n],e[n]=r}for(let o=256;o<n;o++)e[o]=e[o-256];return e}export{i as a,f as c};
