import{_ as t,ai as n}from"./three.lAfZYOpc1736493808390.js";import{a as o,U as i,c as e}from"./@tresjs.g7tJPOCI1736493808390.js";import{a as r,b as s}from"./index.QSC3gk6Q1736493808390.js";import{P as u}from"./tweakpane.yHWGBmom1736493808390.js";import{d as c,_ as a,w as p,o as l,D as f,a4 as m,u as d,r as g,f as h,g as I,J as v,j as S,al as y,m as x}from"./@vue.-Mz_IXfk1736493808390.js";import"./@vueuse.kU-N6GoC1736493808390.js";import"./three-stdlib.fsyd4aYS1736493808390.js";import"./@pmndrs.oxz-0pU-1736493808390.js";import"./object-hash.DG5huwqG1736493808390.js";import"./@amap.nSU5n3nL1736493808390.js";import"./jszip.NJRHV3NU1736493808390.js";const b=P;!function(t,n){const o=P,i=R();for(;;)try{if(691166===parseInt(o(304))/1*(-parseInt(o(306))/2)+parseInt(o(272))/3*(parseInt(o(292))/4)+parseInt(o(281))/5*(-parseInt(o(314))/6)+parseInt(o(313))/7+-parseInt(o(296))/8+-parseInt(o(279))/9+parseInt(o(305))/10*(parseInt(o(283))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[P(302)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){_(this,(function(){const t=P,n=new RegExp(t(274)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=E("init");n[t(284)](i+t(303))&&o[t(284)](i+t(271))?E():i("0")}))()}();const w=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[P(302)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function P(t,n){const o=R();return(P=function(t,n){return o[t-=264]})(t,n)}function R(){const t=["warn","6444063wSNgBi","exception","580ABLWPl","object","605rTwGOt","test","console","action","debu","replace","vertexShader","return (function() ","#include <common>","28eDyufe","info","string","stateObject","4162128mVwYxX","srcMaterial","com","prototype","onBeforeCompile","trace","apply","chain","107IkHsNj","374720NsOneV","21946FoBhTk","bind","log","error","MeshStandardMaterial","toString","while (true) {}","9187101bNhQiS","46674Vdwhun","#include <project_vertex>","__proto__",'{}.constructor("return this")( )',"counter","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","gger","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","input","270219RruVPo","length","function *\\( *\\)","call","uSnappingResolution","constructor"];return(R=function(){return t})()}w(void 0,(function(){const t=P;let n;try{n=Function(t(290)+t(266)+");")()}catch(e){n=window}const o=n[t(285)]=n[t(285)]||{},i=[t(308),t(278),t(293),t(309),t(280),"table",t(301)];for(let r=0;r<i[t(273)];r++){const n=w[t(277)][t(299)][t(307)](w),e=i[r],s=o[e]||n;n[t(265)]=w[t(307)](w),n[t(311)]=s[t(311)][t(307)](s),o[e]=n}}))();const j=[b(282)],M=c({__name:b(298),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[b(310)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=b,o=t,i=a(o[n(276)]);return o[n(297)][n(300)]=t=>{const o=n;t.uniforms[o(276)]=i,t.vertexShader=t[o(289)][o(288)](o(291),o(270)),t[o(289)]=t.vertexShader[o(288)](o(264),o(268))},p((()=>o[n(276)]),(t=>{i.value=t})),(t,o)=>{const i=n;return l(),f("primitive",{object:t[i(297)]},null,8,j)}}});function E(t){function n(t){const o=P;if(typeof t===o(294))return function(t){}[o(277)](o(312))[o(302)](o(267));1!==(""+t/t)[o(273)]||t%20==0?function(){return!0}.constructor(o(287)+o(269))[o(275)](o(286)):function(){return!1}.constructor(o(287)+"gger").apply(o(295)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=C,i=O();for(;;)try{if(777598===-parseInt(o(492))/1*(parseInt(o(473))/2)+parseInt(o(478))/3*(-parseInt(o(479))/4)+parseInt(o(469))/5+-parseInt(o(511))/6*(parseInt(o(505))/7)+-parseInt(o(494))/8*(-parseInt(o(490))/9)+-parseInt(o(474))/10*(-parseInt(o(471))/11)+parseInt(o(496))/12)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const A=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[C(502)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){A(this,(function(){const t=C,n=new RegExp(t(486)),o=new RegExp(t(484),"i"),i=k(t(512));n.test(i+t(497))&&o[t(500)](i+t(498))?k():i("0")}))()}();const T=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[C(502)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function C(t,n){const o=O();return(C=function(t,n){return o[t-=468]})(t,n)}function O(){const t=["chain","input","bind","test","prototype","apply","warn","exception","7ELnFoI","string","constructor","trace","gger","table","1285698CrEOmm","init","info","7236485HWITBC","#include <project_vertex>","2783YfcADY","replace","2QpINkw","35580oEZPwS","__proto__","stateObject","counter","6JkxpyI","2397572gmKdLf","log","debu","while (true) {}","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","vertexShader","function *\\( *\\)","console","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t",'{}.constructor("return this")( )',"1958238YNCVIY","error","1506983YOpcxL","toString","8AzXnAR","onBeforeCompile","13591164jcyOeO"];return(O=function(){return t})()}function k(t){function n(t){const o=C;if(typeof t===o(506))return function(t){}[o(507)](o(482))[o(502)](o(477));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(481)+o(509)).call("action"):function(){return!1}[o(507)](o(481)+o(509))[o(502)](o(476)),n(++t)}try{if(t)return n;n(0)}catch(o){}}T(void 0,(function(){const t=C;let n;try{n=Function("return (function() "+t(489)+");")()}catch(e){n=window}const o=n.console=n[t(487)]||{},i=[t(480),t(503),t(468),t(491),t(504),t(510),t(508)];for(let r=0;r<i.length;r++){const n=T[t(507)][t(501)].bind(T),e=i[r],s=o[e]||n;n[t(475)]=T[t(499)](T),n.toString=s[t(493)][t(499)](s),o[e]=n}}))();const z=G;!function(t,n){const o=G,i=Z();for(;;)try{if(868692===parseInt(o(319))/1*(-parseInt(o(336))/2)+-parseInt(o(330))/3+parseInt(o(315))/4*(-parseInt(o(327))/5)+parseInt(o(339))/6*(-parseInt(o(353))/7)+parseInt(o(341))/8*(-parseInt(o(328))/9)+-parseInt(o(324))/10+-parseInt(o(350))/11*(-parseInt(o(323))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const N=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function Z(){const t=["info","length","6223TryAHK","constructor","bind","toString","object","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1647544tuMHiV","push","primitive","while (true) {}","1dgGtlr","forEach","apply","gger","44364cdiHqE","10203790iCLGXM","test","action","5SSapxb","18GYbHtt","table","1340307zPLnvq","stateObject","counter","input","./draco/","uSnappingResolution","1629794ZKeLeY","return (function() ","values","10596qLREBZ","string","4298664XLYVVP","trace","debu","warn","exception",'{}.constructor("return this")( )',"console","__proto__","model","18469ZxkUkl"];return(Z=function(){return t})()}!function(){N(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(314),"i"),i=Y("init");n[t(325)](i+"chain")&&o[t(325)](i+t(333))?Y():i("0")}))()}();const B=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[G(321)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();B(void 0,(function(){const t=G;let n;try{n=Function(t(337)+t(346)+");")()}catch(e){n=window}const o=n[t(347)]=n[t(347)]||{},i=["log",t(344),t(351),"error",t(345),t(329),t(342)];for(let r=0;r<i.length;r++){const n=B[t(354)].prototype[t(355)](B),e=i[r],s=o[e]||n;n[t(348)]=B[t(355)](B),n[t(356)]=s[t(356)][t(355)](s),o[e]=n}}))();const L=[z(357)];function G(t,n){const o=Z();return(G=function(t,n){return o[t-=313]})(t,n)}const H=c({__name:z(349),props:{uSnappingResolution:{default:6}},async setup(t){const n=z;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb",{draco:!0,decoderPath:n(334)}))),i=await i,e(),i),c=[];return Object[n(338)](u)[n(320)]((t=>{const o=n;c[o(316)](function(t,n=6){const o=C,i={value:n};return t[o(495)]=t=>{const n=o;t.uniforms.uSnappingResolution=i,t[n(485)]=t[n(485)][n(472)]("#include <common>",n(488)),t[n(485)]=t[n(485)][n(472)](n(470),n(483))},i}(t,r[o(335)]))})),p((()=>r[n(335)]),(t=>{const o=n;c[o(320)]((n=>{n[o(313)]=t}))})),(t,o)=>{const i=n;return l(),f(i(317),{object:d(s),scale:5,position:[0,-2,0]},null,8,L)}}});function Y(t){function n(t){const o=G;if(typeof t===o(340))return function(t){}[o(354)](o(318)).apply(o(332));1!==(""+t/t)[o(352)]||t%20==0?function(){return!0}.constructor(o(343)+o(322)).call(o(326)):function(){return!1}.constructor("debu"+o(322))[o(321)](o(331)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const $=V;function V(t,n){const o=U();return(V=function(t,n){return o[t-=222]})(t,n)}!function(t,n){const o=V,i=U();for(;;)try{if(133526===-parseInt(o(261))/1*(-parseInt(o(229))/2)+-parseInt(o(238))/3+-parseInt(o(230))/4*(-parseInt(o(269))/5)+-parseInt(o(234))/6+-parseInt(o(262))/7+parseInt(o(224))/8*(-parseInt(o(271))/9)+parseInt(o(244))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const F=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[V(266)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function U(){const t=["1004052kOKHkr","return (function() ","rotation-y","torus","apply","debu","TresAmbientLight","473500nomEei","uSnappingResolution","749862BNSjOZ","TresCylinderGeometry","while (true) {}","action","8fCHcfS","cube","info","console","TresTorusKnotGeometry","38098DWsOAI","4vyXTlX","call","input","vertexSnapping","105420FxOfxh","circle","counter","string","77679mCQJYT","test","TresMesh","TresPerspectiveCamera","addBinding","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1566510EUCRoo","bind",'{}.constructor("return this")( )',"rotation-x","function *\\( *\\)","TresMeshStandardMaterial","length","toString","gger","log","init","TresDirectionalLight","exception","error","constructor","modelSnappingResolution","chain","8yEQZKm"];return(U=function(){return t})()}!function(){F(this,(function(){const t=V,n=new RegExp(t(248)),o=new RegExp(t(243),"i"),i=q(t(254));n[t(239)](i+t(260))&&o[t(239)](i+t(232))?q():i("0")}))()}();const K=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[V(266)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();K(void 0,(function(){const t=V;let n;try{n=Function(t(263)+t(246)+");")()}catch(e){n=window}const o=n.console=n[t(227)]||{},i=[t(253),"warn",t(226),t(257),t(256),"table","trace"];for(let r=0;r<i[t(250)];r++){const n=K[t(258)].prototype[t(245)](K),e=i[r],s=o[e]||n;n.__proto__=K.bind(K),n[t(251)]=s.toString[t(245)](s),o[e]=n}}))();const X={position:[5,.9,-5],name:$(265)},D=c({__name:$(233),setup(t){const o=$,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(242)](a,o(270),{label:"圆环扭结-分辨率",min:0,max:20,step:.01}),p.addBinding(a,o(259),{label:"自行车模型-分辨率",min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(d(e),x(c,{"window-size":""}),{default:I((()=>[n[1]||(n[1]=v(u(241),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(d(i)),n[2]||(n[2]=v(u(268),{intensity:.5},null,-1)),n[3]||(n[3]=v(u(255),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=v(u(240),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(225)},[v(u(272),{args:[1.5,1.5,2]}),v(u(249),{color:16737826,roughness:0,metalness:0})],-1)),v("TresMesh",X,[n[0]||(n[0]=v(u(228),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a[u(270)]},null,8,["uSnappingResolution"])]),(l(),h(y,null,{default:I((()=>[S(H,{uSnappingResolution:a[u(259)]},null,8,[u(270)])])),_:1})),(l(),h(y,null,{default:I((()=>[S(d(r),{resolution:256,blur:1,background:""},{default:I((()=>[S(d(s),{intensity:2,form:u(235),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),S(d(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(247)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(264)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,["rotation-y"])])),_:1})])),_:1}))])),_:1},16)}}});function q(t){function n(t){const o=V;if(typeof t===o(237))return function(t){}[o(258)](o(222))[o(266)](o(236));1!==(""+t/t)[o(250)]||t%20==0?function(){return!0}[o(258)]("debu"+o(252))[o(231)](o(223)):function(){return!1}[o(258)](o(267)+o(252))[o(266)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{D as default};
