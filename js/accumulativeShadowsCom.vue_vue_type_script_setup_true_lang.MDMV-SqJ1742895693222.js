import{_ as t,a as n}from"./three.DqHgeVY11742895693222.js";import{m as e}from"./@tresjs.xCsT8yve1742895693222.js";import{d as o,P as a}from"./@pmndrs.hpTTkqV81742895693222.js";import{d as r,b as s,w as i,a2 as c,o as u,H as l,N as p,aj as f,ak as h}from"./@vue.C4dqouNn1742895693222.js";const d=g;!function(t,n){const e=g,o=b();for(;;)try{if(929288===-parseInt(e(365))/1+parseInt(e(359))/2+parseInt(e(379))/3*(parseInt(e(372))/4)+-parseInt(e(432))/5+parseInt(e(384))/6*(-parseInt(e(389))/7)+-parseInt(e(423))/8+parseInt(e(425))/9)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(386)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=b();return g=function(t,n){return e[t-=356]},g(t,n)}!function(){m(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=v("init");n.test(o+t(421))&&e[t(395)](o+t(405))?v():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(386)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function b(){const t=["exception","shadows render start","sin","1053033lPrTmR","gger","near","remove","configure","8664216XNabhY","error","apply","camera","debu","7vPosHY","alphaTest","TresSoftShadowMaterial","__proto__","update","finish","test","length","log","width","call","counter","randFloatSpread","lightPosition","action","blendWindow","input","size","shadows render end","position","DirectionalLight","clear","material","while (true) {}","color","progressiveLightMap2","constructor","frames","right","bind","rotate-x","left","chain","stateObject","11077736vMSkuf","radius","31429629glvGHc","Vector3","height","children","shadows plm update","mapSize","bias","7410490vnRWeh","accumulativeShadowsCom","TresMesh","castShadow","ambient","blend","cos","2467838XAzgPT","opacity","trace","value","add","Group","890005nOgEAT","console","MathUtils","random","far","gPlane","texture","16LaoAmp","set","shadow","toString"];return(b=function(){return t})()}w(void 0,(function(){const t=g,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(366)]=n[t(366)]||{},o=["log","warn","info",t(385),t(376),"table",t(361)];for(let a=0;a<o[t(396)];a++){const n=w[t(415)].prototype[t(418)](w),r=o[a],s=e[r]||n;n[t(392)]=w[t(418)](w),n[t(375)]=s[t(375)][t(418)](s),e[r]=n}}))();const y=[d(419)],M=r({__name:d(433),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=d,g=r;let w=s();const{extend:b,scene:M,renderer:v,camera:I}=e();b({SoftShadowMaterial:o});const x={position:(new(t[m(426)]))[m(373)](g[m(402)].x,g[m(402)].y,g[m(402)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new a(v.value,M[m(362)],x[m(430)]),P={map:z[m(414)][m(371)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[m(357)],alphaTest:g[m(390)],opacity:g.opacity,color:g[m(413)]},S=new(t[m(364)]);for(let n=0;n<x.amount;n++){const n=new(t[m(409)])(16777215,x.intensity/x.amount);n[m(435)]=!0,n[m(374)][m(431)]=x[m(431)],n.shadow[m(387)].near=x[m(381)],n[m(374)][m(387)].far=x[m(369)],n[m(374)][m(387)][m(417)]=x[m(406)]/2,n[m(374)][m(387)][m(420)]=-x.size/2,n[m(374)][m(387)].top=x[m(406)]/2,n[m(374)][m(387)].bottom=-x[m(406)]/2,n.shadow[m(430)][m(398)]=x[m(430)],n[m(374)][m(430)][m(427)]=x[m(430)],S[m(363)](n)}const _=()=>{const e=m,o=x[e(408)][e(396)]();for(let a=0;a<S[e(428)].length;a++){const r=S[e(428)][a];if(Math.random()>g[e(356)])r.position[e(373)](x.position.x+t[e(367)][e(401)](x[e(424)]),x[e(408)].y+n[e(401)](x.radius),x.position.z+t[e(367)][e(401)](x[e(424)]));else{let t=Math.acos(2*Math[e(368)]()-1)-Math.PI/2,n=2*Math.PI*Math[e(368)]();r[e(408)][e(373)](Math[e(358)](t)*Math[e(358)](n)*o,Math.abs(Math[e(358)](t)*Math[e(378)](n)*o),Math.sin(t)*o)}}},T=(t=1)=>{const n=m;M[n(362)][n(363)](S),z.prepare();for(let e=0;e<t;e++)_(),z[n(393)](I[n(362)],g[n(404)]),console[n(397)](n(429),e);M[n(362)][n(382)](S),z[n(394)]()};i((()=>w.value),(t=>{const n=m;t&&(z[n(383)](t),z[n(410)](),console[n(397)](n(377)),T(g[n(416)]),console[n(397)](n(407)))}));const j=()=>{const t=m;z[t(410)](),T(g[t(416)])};return c((()=>{const t=m;w[t(362)]&&(g[t(360)]&&(w[t(362)][t(411)].opacity=g.opacity),g[t(390)]&&(w[t(362)][t(411)][t(390)]=g[t(390)]),g[t(413)]&&w[t(362)][t(411)].color[t(373)](g[t(413)]),g.blend&&(w[t(362)][t(411)].blend=g[t(357)]))})),i((()=>g[m(402)]),(t=>{const n=m;t&&(console[n(397)](g[n(402)]),x[n(408)][n(373)](t.x,t.y,t.z),j())}),{deep:!0}),i((()=>[g[m(416)],g[m(404)],g.ambient]),(()=>{j()})),(t,n)=>{const e=m;return u(),l(e(434),{"receive-shadow":"",ref_key:e(370),ref:w,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=p("TresPlaneGeometry",{args:[1,1]},null,-1)),p(e(391),f(h(P)),null,16)],8,y)}}});function v(t){function n(t){const e=g;if("string"==typeof t)return function(t){}[e(415)](e(412)).apply(e(400));1!==(""+t/t)[e(396)]||t%20==0?function(){return!0}[e(415)](e(388)+"gger")[e(399)](e(403)):function(){return!1}[e(415)](e(388)+e(380))[e(386)](e(422)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
