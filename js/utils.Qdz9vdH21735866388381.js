import"./@fesjs.u6K5q1hz1735866388381.js";import{_ as t}from"./jszip.LS64v-ne1735866388381.js";import{F as n}from"./file-saver.EJBoP0BI1735866388381.js";import{_ as e,aN as s}from"./three.Rja0AEnA1735866388381.js";const o=i;!function(t,n){const e=i,s=c();for(;;)try{if(962072===-parseInt(e(449))/1*(-parseInt(e(453))/2)+-parseInt(e(523))/3*(parseInt(e(501))/4)+parseInt(e(506))/5*(-parseInt(e(484))/6)+parseInt(e(499))/7*(-parseInt(e(500))/8)+-parseInt(e(433))/9*(-parseInt(e(421))/10)+-parseInt(e(450))/11*(-parseInt(e(464))/12)+parseInt(e(437))/13)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[i(498)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=i,n=new RegExp(t(456)),e=new RegExp(t(435),"i"),s=b(t(503));n[t(483)](s+t(486))&&e[t(483)](s+"input")?b():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[i(498)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function i(t,n){const e=c();return(i=function(t,n){return e[t-=421]})(t,n)}function c(){const t=["substring","data:image/GIF;base64,","length","forEach","file","url:geometries/","blob","counter","parse","data:image/JPEG;base64,","onloadend","data:image/WEBP;base64,","data:image/jpeg;base64,","async","37299UmzYvc",".json","6524390tVGQUu","gger","enabled","folder","table","push","info","slice","readAsDataURL","return (function() ","BufferGeometry","type","18cXCfrd","toUpperCase","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","pop","30552847vhnmQZ","constructor","toString","stringify",";base64,","Unknown","setResponseType","GIF","FileLoader","url","config.zip","image/png","3FZyeGR","17149biOYpX","Cache","application/octet-stream","804654JCxjQf","data","scene","function *\\( *\\)","PNG","result","name","while (true) {}","call","trace","image/jpeg","4188BKixlR","__proto__","WEBP","split","action","非标准文件：不存在 app.json","data:image/png;base64,","debu","get","data:image/gif;base64,","toLowerCase","then","data:image/","geometries","generateAsync","string","data:image/webp;base64,","data:image/PNG;base64,","error","test","6rCBoiZ","endsWith","chain","startsWith","JPEG","console","onerror","url:","catch","url:images/","files","load","stateObject","app.json","apply","7aoUOIY","11773896mmTeeR","348rOzfVz","base64","init","uuid","data:","9453445LOyJOm","loadAsync","images"];return(c=function(){return t})()}async function u(t){const n=new s;return new Promise(((e,s)=>{const o=i;n[o(495)](t,(t=>e(JSON[o(517)](t))),void 0,(t=>s(t)))}))}async function f(t){const n=new s;return new Promise(((e,s)=>{const r=i;n[r(443)]("blob"),n[r(495)](t,(n=>{const a=r,i=new FileReader;i[a(519)]=()=>{const n=a,s=function(t){const n=o,e=t[n(467)](".")[n(436)]()[n(474)]();return{jpg:n(463),jpeg:n(463),png:n(448),gif:"image/gif",bmp:"image/bmp",webp:"image/webp"}[e]||n(452)}(t),r=i[n(458)].split(",")[1];e(n(505)+s+n(441)+r)},i[a(490)]=t=>{s(t)},i[a(429)](n)}),void 0,(t=>s(t)))}))}a(void 0,(function(){const t=i,n=function(){const t=i;let n;try{n=Function(t(430)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(489)]||{},s=["log","warn",t(427),t(482),"exception",t(425),t(462)];for(let o=0;o<s.length;o++){const n=a[t(438)].prototype.bind(a),r=s[o],i=e[r]||n;n[t(465)]=a.bind(a),n.toString=i[t(439)].bind(i),e[r]=n}}))(),e[o(451)][o(423)]=!0;const p=n=>{const s=o,r=new(e[s(445)]);return r[s(443)](s(515)),new Promise(((e,s)=>{r.load(n,(async n=>{const s=i;e(await t[s(507)](n))}),void 0,(t=>s(t)))}))},l=t=>{const n=o,e=t[n(509)](0,15),s=n(521),r=n(518),a=n(470),i=n(481),c=n(473),u=n(510),f=n(480),p=n(520);return s[n(487)](e)||r.startsWith(e)?n(488):a[n(487)](e)||i[n(487)](e)?n(457):c[n(487)](e)||u[n(487)](e)?n(444):f[n(487)](e||p[n(487)](e))?n(466):n(442)},g=e=>{const s=o,r=[];e[s(455)][s(477)]&&e[s(455)][s(477)].forEach((t=>{const n=s;t[n(432)]===n(431)&&(r[n(426)]({uuid:t[n(504)],data:t.data}),t[n(454)]=n(514)+t.uuid+".json")}));const a=[];e[s(455)].images&&e[s(455)].images[s(512)]((t=>{const n=s;t[n(446)]&&(a[n(426)]({uuid:t[n(504)],url:t.url}),t[n(446)][n(432)]?t[n(446)]=n(493)+t[n(504)]+"."+t[n(446)][n(432)]+n(524):t[n(446)]="url:images/"+t.uuid+"."+l(t[n(446)]))}));const i=new t;if(r.length){const t=i[s(424)]("geometries");r.forEach((n=>{const e=s;t[e(513)](n[e(504)]+e(524),JSON[e(440)](n.data))}))}if(a[s(511)]){const t=i[s(424)](s(508));a[s(512)]((n=>{const e=s;n[e(446)][e(432)]?t[e(513)](n[e(504)]+"."+n[e(446)][e(432)]+e(524),JSON.stringify(n[e(446)])):t[e(513)](n[e(504)]+"."+l(n[e(446)]),n.url[e(467)](e(441))[e(436)](),{base64:!0})}))}const c=JSON.stringify(e);return i.file("app.json",c),i[s(478)]({type:s(515)})[s(475)]((t=>{const e=s;n.saveAs(t,e(447))}))},m=(t,n,e)=>{const s=o;t[s(477)]<=0&&t[s(508)]<=0&&e(n)},d=(n,e)=>{const s=o;let r=null;return t[s(507)](n)[s(475)]((t=>{const n=s;t[n(494)][n(497)]?t.files[n(497)].async("string").then((s=>{var a,i;const c=n;r=JSON.parse(s);const u=(t=>{var n,e;const s=o,r={geometries:0,images:0};return null==(n=t[s(455)][s(477)])||n[s(512)]((t=>{const n=s;t[n(454)][n(487)](n(491))&&r[n(477)]++})),null==(e=t[s(455)][s(508)])||e[s(512)]((t=>{const n=s;t[n(446)].startsWith(n(491))&&r[n(508)]++})),r})(r);m(u,r,e),null==(a=r[c(455)][c(477)])||a.forEach((n=>{const s=c;n[s(454)][s(487)](s(491))&&t[s(494)][n[s(454)].slice(4)].async(s(479))[s(475)]((t=>{const o=s;n.data=JSON[o(517)](t),u.geometries--,m(u,r,e)}))})),null==(i=r[c(455)][c(508)])||i.forEach((n=>{const s=c;if(n[s(446)][s(487)](s(491))){const o=n[s(446)][s(428)](4);o[s(485)](s(524))?t.files[o][s(522)]("string")[s(475)]((t=>{const o=s;n[o(446)]=JSON[o(517)](t),u.images--,m(u,r,e)})):t[s(494)][o][s(522)](s(502)).then((t=>{const a=s,i=o.split("."),c=i[i[a(511)]-1][a(434)]();n.url=a(476)+c+a(441)+t,u[a(508)]--,m(u,r,e)}))}}))})):console[n(482)](n(469))}),(t=>{const e=s;console[e(482)](n[e(459)]+": "+t.message)})),r};function b(t){function n(t){const e=i;if(typeof t===e(479))return function(t){}[e(438)](e(460))[e(498)](e(516));1!==(""+t/t)[e(511)]||t%20==0?function(){return!0}.constructor(e(471)+e(422))[e(461)](e(468)):function(){return!1}[e(438)](e(471)+e(422))[e(498)](e(496)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,f as b,g as e,l as g,d as i,u as l};
