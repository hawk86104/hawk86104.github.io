var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.vanHuc-L1731641201182.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.IEUTuzCl1731641201182.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.ntCXpMdE1731641201182.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,e as x,_ as v,V as m,Q as h,M as g,as as w}from"./three.-z-VOBM71731641201182.js";import{m as d,e as y}from"./@tresjs.b88d4FZI1731641201182.js";import{u as S}from"./index.PIaASH-_1731641201182.js";import{F as _,C as P}from"./three-stdlib.azfEeGDS1731641201182.js";import{d as z}from"./@vue.-THQH3GC1731641201182.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.PYS-6uz51731641201182.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.Wf_eoJPI1731641201182.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.2GUL6dDN1731641201182.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.D_V6lSTs1731641201182.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Gw2k3f7L1731641201182.js";function b(){const t=["6837066RlBTkO","console","10070900xMKEuA","exception","bind","apply","error","while (true) {}","trace","2188782QElhDj","22676DeJgJM","length","prototype","string","__proto__",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"1994985aVPmdh","debu","return (function() ","8UzBqlH","gger","370tLvSkW","input","chain","581806bqRyOB","constructor","log","counter","4rmMQxg","warn","call","function *\\( *\\)","729278IzQskc","test","50tTetqr","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","info"];return(b=function(){return t})()}const I=M;function M(t,e){const n=b();return(M=function(t,e){return n[t-=179]})(t,e)}!function(t,e){const n=M,i=b();for(;;)try{if(724830===-parseInt(n(189))/1*(-parseInt(n(185))/2)+-parseInt(n(215))/3+-parseInt(n(209))/4*(parseInt(n(182))/5)+-parseInt(n(208))/6+parseInt(n(201))/7+-parseInt(n(180))/8*(parseInt(n(199))/9)+-parseInt(n(195))/10*(-parseInt(n(193))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[M(204)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){E(this,(function(){const t=M,e=new RegExp(t(192)),n=new RegExp(t(196),"i"),i=D("init");e[t(194)](i+t(184))&&n.test(i+t(183))?D():i("0")}))()}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[M(204)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();A(void 0,(function(){const t=M,e=function(){const t=M;let e;try{e=Function(t(179)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(200)]=e[t(200)]||{},i=[t(187),t(190),t(198),t(205),t(202),"table",t(207)];for(let r=0;r<i[t(210)];r++){const e=A.constructor[t(211)][t(203)](A),a=i[r],o=n[a]||e;e[t(213)]=A.bind(A),e[t(197)]=o[t(197)].bind(o),n[a]=e}}))();const L=I(214);function D(t){function e(t){const n=M;if(typeof t===n(212))return function(t){}[n(186)](n(206))[n(204)](n(188));1!==(""+t/t)[n(210)]||t%20==0?function(){return!0}[n(186)]("debugger")[n(191)]("action"):function(){return!1}[n(186)](n(216)+n(181)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const U=R;function j(){const t=["debu","string","action","clone","639570mxHGSH","constructor","70424zmBSBy","trace","bind","22253obwrMk","prototype","1265679qMbKLO","gger","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","36232mJngZs","call","apply","63730IqAhYt","2240lnPoIr","info","stateObject","console","counter","log","42OggOkh","error","4FiCbFq","input","defines","27557jzmebW","uniforms","chain","toString","test","length","119UxtGTe","while (true) {}"];return(j=function(){return t})()}!function(t,e){const n=R,i=j();for(;;)try{if(115227===parseInt(n(209))/1*(-parseInt(n(206))/2)+parseInt(n(204))/3*(parseInt(n(231))/4)+-parseInt(n(197))/5+-parseInt(n(221))/6+parseInt(n(215))/7*(-parseInt(n(223))/8)+-parseInt(n(228))/9+-parseInt(n(198))/10*(-parseInt(n(226))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[R(233)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){O(this,(function(){const t=R,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=H("init");e.test(i+t(211))&&n[t(213)](i+t(207))?H():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function V(t){const e=R,n=a({},t);return e(208)in t&&(n.defines=a({},t[e(208)])),"uniforms"in t&&(n[e(210)]=s[e(220)](t[e(210)])),n}function R(t,e){const n=j();return(R=function(t,e){return n[t-=197]})(t,e)}T(void 0,(function(){const t=R;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e[t(201)]||{},i=[t(203),"warn",t(199),t(205),"exception","table",t(224)];for(let a=0;a<i[t(214)];a++){const e=T[t(222)][t(227)][t(225)](T),r=i[a],o=n[r]||e;e.__proto__=T.bind(T),e[t(212)]=o[t(212)].bind(o),n[r]=e}}))();const k={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:U(230),fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+L+"\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t"};function H(t){function e(t){const n=R;if(typeof t===n(218))return function(t){}[n(222)](n(216))[n(233)](n(202));1!==(""+t/t)[n(214)]||t%20==0?function(){return!0}[n(222)](n(217)+n(229))[n(232)](n(219)):function(){return!1}[n(222)]("debugger")[n(233)](n(200)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const C=Z;!function(t,e){const n=Z,i=N();for(;;)try{if(898752===-parseInt(n(373))/1*(-parseInt(n(344))/2)+parseInt(n(363))/3+parseInt(n(323))/4*(parseInt(n(326))/5)+parseInt(n(340))/6+-parseInt(n(369))/7+-parseInt(n(351))/8*(parseInt(n(346))/9)+-parseInt(n(327))/10*(parseInt(n(389))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(350)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){F(this,(function(){const t=Z,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=B(t(352));e[t(343)](i+t(324))&&n[t(343)](i+"input")?B():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(350)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(){const t=["constructor","return (function() ","set","length","_swapTarget","texture","exception","setClearAlpha","replace","map","2482674CgGXyI","setViewOffset","type","Y_IS_EVEN","_copyQuad","counter","3710861qYJHlS","material","originalMapSize","value","1dJQxka","image","fragmentShader","while (true) {}","update","stateObject","setSize","table","setClearColor","getRenderTarget","floor","dispose","autoClear","console","defines","string","11ehOtcF","width","warn","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","floorPowerOfTwo","_mipMaterials","260eHJIpB","chain","getClearAlpha","97230QPMdgN","21048210FYzija","height","log","render","clear","parentMapSize","forEach","uniforms","debu",'{}.constructor("return this")( )',"error","setRenderTarget","prototype","2212950uXYwgS","gger","action","test","2848786bggRHC","camera","18pBqgAR","X_IS_EVEN","_mipQuad","bind","apply","1404280NjOhye","init"];return(N=function(){return t})()}W(void 0,(function(){const t=Z,e=function(){const t=Z;let e;try{e=Function(t(354)+t(336)+");")()}catch(n){e=window}return e}(),n=e[t(386)]=e.console||{},i=[t(329),t(391),"info",t(337),t(359),t(380),"trace"];for(let r=0;r<i[t(356)];r++){const e=W[t(353)][t(339)].bind(W),a=i[r],o=n[a]||e;e.__proto__=W.bind(W),e.toString=o.toString[t(349)](o),n[a]=e}}))();const Q=new l;function Z(t,e){const n=N();return(Z=function(t,e){return n[t-=322]})(t,e)}class Y{constructor(t){const e=Z;!t&&(t=e(392));const n=V(k);n[e(375)]=n[e(375)][e(361)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(V(n)),i[0][e(387)][e(347)]=0,i[0][e(387)][e(366)]=0,i[1]=new c(V(n)),i[1][e(387)][e(347)]=1,i[1].defines[e(366)]=0,i[2]=new c(V(n)),i[2].defines[e(347)]=0,i[2][e(387)][e(366)]=1,i[3]=new c(V(n)),i[3].defines.X_IS_EVEN=1,i[3][e(387)][e(366)]=1;const r=new u;r[e(358)].minFilter=p,r[e(358)].magFilter=p,this[e(357)]=r,this[e(367)]=new _(new c(P)),this[e(348)]=new _(null),this[e(322)]=i}[C(377)](t,e,n,i=!1){const r=C;t.isWebGLRenderTarget&&(t=t.texture);const o=n.autoClear,s=n[r(325)](),l=n[r(382)]();n.getClearColor(Q);const c=this[r(367)],u=this._mipQuad,p=this._swapTarget,x=this._mipMaterials;let v,m;i?(v=f[r(393)](t[r(374)].width),m=f[r(393)](t[r(374)].height)):(v=Math[r(383)](t.image[r(390)]),m=Math.floor(t[r(374)][r(328)]));const h=Math[r(383)](1.5*v),g=Math.floor(m);e[r(379)](h,g),p[r(358)][r(365)]!==e.texture[r(365)]?(p.dispose(),p.copy(e),p[r(358)][r(374)]=a({},p[r(358)][r(374)])):p[r(379)](h,g),n[r(385)]=!1,n[r(381)](0),n[r(360)](),c[r(370)][r(334)].tDiffuse[r(372)]=t,c[r(345)][r(364)](v,m,0,0,h,g),n[r(338)](e),n.clear(),c[r(330)](n),n.setRenderTarget(p),n[r(331)](),c.render(n);let w=v,d=m,y=0;for(;w>1&&d>1;){const t=x[(w%2==0?1:0)|(d%2==0?2:0)];t[r(334)][r(362)][r(372)]=p[r(358)],t[r(334)].parentLevel.value=y,t[r(334)][r(332)][r(372)][r(355)](w,d),t[r(334)][r(371)].value[r(355)](v,m),u[r(370)]=t,w=Math.floor(w/2),d=Math[r(383)](d/2);const i=g-2*d;n.setRenderTarget(e),u[r(345)][r(364)](w,d,-v,-i,h,g),u[r(330)](n),n[r(338)](p),t[r(334)][r(362)][r(372)]=e[r(358)],u[r(330)](n),y++}return n.setRenderTarget(l),n[r(360)](s),n.setClearColor(Q),n.autoClear=o,y+1}dispose(){const t=C;this[t(357)][t(384)](),this[t(348)][t(384)](),this[t(367)][t(384)](),this[t(322)][t(333)]((e=>e[t(384)]()))}}function B(t){function e(t){const n=Z;if(typeof t===n(388))return function(t){}[n(353)](n(376))[n(350)](n(368));1!==(""+t/t)[n(356)]||t%20==0?function(){return!0}[n(353)](n(335)+n(341)).call(n(342)):function(){return!1}[n(353)](n(335)+n(341))[n(350)](n(378)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const q=$;!function(t,e){const n=$,i=J();for(;;)try{if(337184===-parseInt(n(255))/1*(-parseInt(n(234))/2)+-parseInt(n(277))/3+parseInt(n(210))/4*(-parseInt(n(290))/5)+parseInt(n(289))/6*(parseInt(n(233))/7)+parseInt(n(215))/8+-parseInt(n(243))/9*(-parseInt(n(280))/10)+-parseInt(n(249))/11*(parseInt(n(286))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(238)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){G(this,(function(){const t=$,e=new RegExp(t(264)),n=new RegExp(t(214),"i"),i=tt(t(251));e[t(232)](i+"chain")&&n[t(232)](i+t(244))?tt():i("0")}))()}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(t,e){const n=J();return($=function(t,e){return n[t-=209]})(t,e)}function J(){const t=["1173011xoIwzo","30318qaQGAy","copy","counter","reflectorMipMap","apply","applyMatrix4","console","call","constructor","29718zdbbRH","input","Quaternion","return (function() ","action","visible","341yKIefx","error","init","setRenderTarget","sub","reflect","41zjfdDR","clear","clone","getWorldPosition","constant","applyQuaternion","depth","toString","prototype","function *\\( *\\)","autoClear","normal","dot","buffers","__proto__","sign","render","bind","texture","exception","resolution","ignoreObjects","235170FYBzlL","stateObject","length","610SZbrEx","lookAt","Vector3","forEach","Matrix4","multiplyScalar","399084WqJZwn","update","set","12DciFvz","505hevEUr","gger","trace","UnsignedByteType","13416YzPXUD","position","updateMatrixWorld","negate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5017664eHLrlI",'{}.constructor("return this")( )',"matrixWorldInverse","string","PerspectiveCamera","elements","multiply","state","projectionMatrix","parent","projectPoint","while (true) {}","matrixWorld","getRenderTarget","Vector4","log","value","test"];return(J=function(){return t})()}X(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function(t(246)+t(216)+");")()}catch(n){e=window}return e}(),n=e[t(240)]=e[t(240)]||{},i=[t(230),"warn","info",t(250),t(274),"table",t(292)];for(let r=0;r<i[t(279)];r++){const e=X[t(242)][t(263)][t(272)](X),a=i[r],o=n[a]||e;e[t(269)]=X.bind(X),e[t(262)]=o[t(262)][t(272)](o),n[a]=e}}))();const K=z({__name:q(237),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=q,i=t,r=new x,a=new(v[n(284)]),o=new(v[n(219)]),s=new Y,l=S({width:i[n(275)],height:i[n(275)],settings:{type:v[n(209)]}}),c=S({width:i[n(275)],height:i[n(275)],settings:{type:v[n(209)]}}),{camera:u,renderer:p,scene:f}=d(),{onBeforeLoop:_}=y();return _((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r[t(288)](new m(0,1,0),0),r[t(239)](i.parent[t(227)]),o[t(235)](u.value);const e=new(v[t(282)])(0,0,1).clone()[t(213)](),s=u[t(231)][t(258)](new m);e[t(254)](r[t(266)]);const c=new(v[t(282)]);r[t(225)](s,c);const x=c[t(257)]();x[t(253)](s),x.add(c),o[t(211)][t(235)](x);const d=new(v[t(282)])(0,0,-1);d[t(260)](u.value.getWorldQuaternion(new(v[t(245)]))),d.add(s);const y=new(v[t(282)]);i[t(224)][t(258)](y),y.sub(d),y[t(254)](r.normal).negate(),y.add(i[t(224)][t(258)](new(v[t(282)]))),o.up[t(288)](0,1,0),o[t(260)](u[t(231)].getWorldQuaternion(new h)),o.up[t(254)](r[t(266)]),o[t(281)](y),o[t(212)]();const S=new g;S[t(288)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(o[t(223)]),S[t(221)](o.matrixWorldInverse),a[t(235)](S),r[t(239)](o[t(217)]);const _=new w(r[t(266)].x,r[t(266)].y,r.normal.z,r[t(259)]),P=o[t(223)],z=new(v[t(229)]);z.x=(Math[t(270)](_.x)+P.elements[8])/P.elements[0],z.y=(Math[t(270)](_.y)+P[t(220)][9])/P[t(220)][5],z.z=-1,z.w=(1+P[t(220)][10])/P[t(220)][14],_[t(285)](2/_[t(267)](z)),P[t(220)][2]=_.x,P[t(220)][6]=_.y,P[t(220)][10]=_.z+1,P[t(220)][14]=_.w;const b=p[t(231)][t(228)]();p[t(231)][t(252)](l[t(231)]),p[t(231)][t(222)][t(268)][t(261)].setMask(!0),!1===p[t(231)][t(265)]&&p[t(231)][t(256)](),i[t(276)][t(283)]((e=>e[t(248)]=!1)),p[t(231)][t(271)](f.value,o),i[t(276)][t(283)]((e=>e[t(248)]=!0)),p[t(231)][t(252)](b)})(),l.value&&c[t(231)]&&p[t(231)]&&s[t(287)](l.value[t(273)],c[t(231)],p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function tt(t){function e(t){const n=$;if(typeof t===n(218))return function(t){}[n(242)](n(226)).apply(n(236));1!==(""+t/t).length||t%20==0?function(){return!0}[n(242)]("debugger")[n(241)](n(247)):function(){return!1}[n(242)]("debu"+n(291))[n(238)](n(278)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function et(){var t=["exception","constructor","debu","string","table","78cqjtBx","prototype","__proto__","apply","error","6407128JZERVY","6388895sLehTE","180038zyrpgH","action","counter","toString","console","test","1414688VrKfpu","info","bind",'{}.constructor("return this")( )',"15NLKgux","gger","27bgchbw","10808860ojwBrT","call","length","while (true) {}","log","function *\\( *\\)","trace","146209DAAIzI","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","chain","2494194YnfxeZ","stateObject"];return(et=function(){return t})()}!function(t,e){for(var n=rt,i=et();;)try{if(727242===-parseInt(n(404))/1*(parseInt(n(394))/2)+parseInt(n(380))/3+parseInt(n(400))/4+-parseInt(n(393))/5+parseInt(n(387))/6*(-parseInt(n(414))/7)+-parseInt(n(392))/8+parseInt(n(406))/9*(parseInt(n(407))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[rt(390)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){nt(this,(function(){var t=rt,e=new RegExp(t(412)),n=new RegExp(t(415),"i"),i=at(t(378));e[t(399)](i+t(379))&&n.test(i+"input")?at():i("0")}))()}();var it=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[rt(390)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function rt(t,e){var n=et();return(rt=function(t,e){return n[t-=378]})(t,e)}function at(t){function e(t){var n=rt;if(typeof t===n(385))return function(t){}[n(383)](n(410)).apply(n(396));1!==(""+t/t).length||t%20==0?function(){return!0}[n(383)](n(384)+"gger")[n(408)](n(395)):function(){return!1}.constructor(n(384)+n(405)).apply(n(381)),e(++t)}try{if(t)return e;e(0)}catch(n){}}it(void 0,(function(){var t,e=rt;try{t=Function("return (function() "+e(403)+");")()}catch(l){t=window}for(var n=t[e(398)]=t[e(398)]||{},i=[e(411),"warn",e(401),e(391),e(382),e(386),e(413)],r=0;r<i[e(409)];r++){var a=it[e(383)][e(388)].bind(it),o=i[r],s=n[o]||a;a[e(389)]=it[e(402)](it),a[e(397)]=s[e(397)][e(402)](s),n[o]=a}}))();export{K as _};
