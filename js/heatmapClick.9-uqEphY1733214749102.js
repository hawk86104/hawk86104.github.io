import{a as t,U as n}from"./@tresjs.lftldzUe1733214749102.js";import{P as e}from"./tweakpane.yHWGBmom1733214749102.js";import{_ as o,a0 as r,m as a,ak as s,al as i}from"./three.aWgA1gea1733214749102.js";import{_ as c}from"./heatmap.js-fix.v0UqDVBt1733214749102.js";import{d as u,a6 as l,a3 as p,o as f,D as d,u as h,r as m,e as g,f as v,g as y,J as b,j as w,al as _,aj as x,ak as I,m as j}from"./@vue.-THQH3GC1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./@amap.ICsgtrgy1733214749102.js";function C(){const t=["init","699534PlnrZc","object","display","prototype","Texture","__proto__","mesh_0","debu","input","log","warn","canvas","block","6356BWLKpM","set","radius","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","deleteAttribute","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","1px solid #5384ff","needsUpdate","info","count","heatmapClickCom","test","3547334JRooXY","position","18LMJaMV","absolute","apply","setDataMax","getZ","counter","constructor","436bGbZWa","getX","while (true) {}","_renderer","onclick","push","attributes","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","material","appendChild","boundingBox","1389105CkirZX","action","4790TqTDWi","body","function *\\( *\\)","console","return (function() ","scale","5196wQWJCr","276PqpuNx","40px",'{}.constructor("return this")( )',"create","toString","bind","trace","chain","addData","72aGATQv","537249VQaqlU","length","gger","layerX","exception","3203430rTfKoU","BufferAttribute","style","left","createElement","computeBoundingBox","geometry"];return(C=function(){return t})()}const T=A;!function(t,n){const e=A,o=C();for(;;)try{if(824083===parseInt(e(271))/1*(parseInt(e(290))/2)+-parseInt(e(224))/3+parseInt(e(250))/4*(parseInt(e(284))/5)+-parseInt(e(264))/6*(-parseInt(e(262))/7)+parseInt(e(223))/8*(-parseInt(e(282))/9)+-parseInt(e(229))/10+-parseInt(e(237))/11*(parseInt(e(291))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(266)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=A,n=new RegExp(t(286)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Z(t(236));n[t(261)](o+t(221))&&e[t(261)](o+t(245))?Z():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(266)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(288)+t(293)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(287)]||{},o=[t(246),t(247),t(258),"error",t(228),"table",t(220)];for(let r=0;r<o[t(225)];r++){const n=M[t(270)][t(240)].bind(M),a=o[r],s=e[a]||n;n[t(242)]=M[t(219)](M),n.toString=s[t(218)][t(219)](s),e[a]=n}}))();const S=[T(238)];function A(t,n){const e=C();return(A=function(t,n){return e[t-=217]})(t,n)}const U=u({__name:T(260),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=T;let s,i;const u=n,{nodes:m}=([s,i]=l((()=>t(e(278),{draco:!0,decoderPath:"./draco/"}))),s=await s,i(),s);m.mesh_0.position[e(251)](-5088.96,-3.08,39374.7),m.mesh_0[e(289)].setScalar(.01);let g=null,v=null,y=null;v=new(o[e(241)])((()=>{const t=e;return y=document[t(233)]("heatmap-canvas"),y.style[t(263)]=t(265),y[t(231)].top=t(292),y[t(231)][t(232)]="0",document[t(285)][t(280)](y),g=c[t(217)]({container:y,width:256,height:256,blur:"0.8",radius:u[t(252)]}),g._renderer[t(248)][t(231)].border=t(256),g[t(274)].canvas[t(275)]=function(n){const e=t;g[e(222)]({x:n[e(227)],y:n.layerY,value:1,radius:u.radius}),g[e(267)](1),v&&(v[e(257)]=!0)},g})()[e(274)][e(248)]);const b={vertexShader:e(253),fragmentShader:e(255),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},w=new a(b);m[e(243)][e(279)]=w;return(t=>{const n=e;t[n(234)]();const{max:r,min:a}=t[n(281)];t[n(254)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(277)][n(263)][n(259)];e++)c[n(276)]((t.attributes.position[n(272)](e)-a.x)/s),c[n(276)]((t[n(277)][n(263)][n(268)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(230)])(u,2))})(m.mesh_0[e(235)]),p((()=>{const t=e;y.style[t(239)]=""+(u.show2dCanvas?t(249):"none")})),(t,n)=>{const o=e;return f(),d("primitive",{object:h(m)[o(243)]},null,8,S)}}});function Z(t){function n(t){const e=A;if("string"==typeof t)return function(t){}[e(270)](e(273))[e(266)](e(269));1!==(""+t/t)[e(225)]||t%20==0?function(){return!0}[e(270)](e(244)+"gger").call(e(283)):function(){return!1}.constructor(e(244)+e(226))[e(266)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=D,o=L();for(;;)try{if(978426===-parseInt(e(242))/1+-parseInt(e(273))/2+-parseInt(e(243))/3*(parseInt(e(259))/4)+parseInt(e(277))/5+-parseInt(e(270))/6+parseInt(e(256))/7+parseInt(e(268))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(257),"i"),o=E(t(271));n[t(253)](o+t(279))&&e[t(253)](o+t(265))?E():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=L();return(D=function(t,n){return e[t-=242]})(t,n)}B(void 0,(function(){const t=D;let n;try{n=Function(t(275)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=[t(280),t(284),"info","error",t(274),t(248),t(258)];for(let a=0;a<o.length;a++){const n=B[t(267)][t(246)][t(252)](B),r=o[a],s=e[r]||n;n[t(255)]=B.bind(B),n[t(261)]=s[t(261)][t(252)](s),e[r]=n}}))();const R=u({__name:"heatmapClick",setup(t){const o=D,r={clearColor:o(286),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(283)](a,o(285),{label:o(276)}),c[o(283)](a,o(249),{label:o(266),min:.1,max:30,step:.1}),c.addButton({title:o(272)}),(t,e)=>{const s=o,i=g(s(263));return f(),v(i,j(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=b(s(250),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(s(251),{position:[5,10,7.5],color:s(247),intensity:5},null,-1)),e[2]||(e[2]=b(s(260),{args:[50,25]},null,-1)),(f(),v(_,null,{default:y((()=>[w(U,x(I(a)),null,16)])),_:1}))])),_:1},16)}}});function L(){const t=["input","圆圈的大小","constructor","11301328CdEDSN","string","6302580FQpMct","init","点击左侧蓝色画框","2308582SRmHgh","exception","return (function() ","显示二维图","2175835GgCkLF","length","chain","log","gger","while (true) {}","addBinding","warn","show2dCanvas","#030311","551169btiLtf","141pgOnhZ","stateObject","apply","prototype","#ffffff","table","radius","TresPerspectiveCamera","TresDirectionalLight","bind","test","counter","__proto__","13663020pKcvUe","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","5564ubapTV","TresGridHelper","toString","debu","TresCanvas","call"];return(L=function(){return t})()}function E(t){function n(t){const e=D;if(typeof t===e(269))return function(t){}[e(267)](e(282))[e(245)](e(254));1!==(""+t/t)[e(278)]||t%20==0?function(){return!0}[e(267)](e(262)+e(281))[e(264)]("action"):function(){return!1}[e(267)]("debu"+e(281))[e(245)](e(244)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
