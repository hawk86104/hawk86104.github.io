{"version":3,"file":"staticWater.vue_vue_type_script_setup_true_lang.4m35QlAa1767105581793.js","sources":["../../src/plugins/water/components/staticWater.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2025-06-05 08:42:12\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-06-10 11:43:36\n-->\n<template>\n    <TresGroup>\n        <primitive v-if=\"modelScene\" :object=\"toRaw(modelScene)\" />\n    </TresGroup>\n</template>\n<script lang=\"ts\" setup>\nimport { watch, ref, toRaw } from 'vue'\nimport { Resource } from 'PLS/resourceManager'\n\nconst props = withDefaults(\n    defineProps<{\n        waterColor?: string\n        metalness?: number\n        roughness?: number\n    }>(),\n    {\n        waterColor: '#52a7f7',\n        metalness: 0.64,\n        roughness: 0,\n    },\n)\nconst lateWatchProp = () => {\n    if (modelScene.value) {\n        ;(modelScene.value.children[1] as any).material.color.set(props.waterColor)\n        ;(modelScene.value.children[1] as any).material.metalness = props.metalness\n        ;(modelScene.value.children[1] as any).material.roughness = props.roughness\n    }\n}\n\nResource.getResource('GLTFLoader', './plugins/water/model/staticWater.glb', 'staticWater.glb')\nconst modelR = Resource.getReactiveItem('staticWater.glb') as any\nconst modelScene = ref(null)\nwatch(\n    modelR,\n    (model) => {\n        if (model) {\n            modelScene.value = toRaw(model.scene).clone()\n            if (modelScene.value) {\n                modelScene.value.children[1].material = modelScene.value.children[1].material.clone()\n                modelScene.value.scale.set(0.2, 0.2, 0.2)\n                lateWatchProp()\n            }\n        }\n    },\n    { immediate: true },\n)\n\nwatch(\n    () => [props.waterColor, props.metalness, props.roughness],\n    () => {\n        lateWatchProp()\n    },\n    { immediate: true },\n)\n</script>\n"],"names":["Resource"],"mappings":"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"}