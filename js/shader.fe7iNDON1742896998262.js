import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.KzbsBNvc1742896998262.js";import{_ as i,a$ as s}from"./three.0CcRceKb1742896998262.js";import{P as a}from"./tweakpane.ivGeiIdz1742896998262.js";import{L as c}from"./three-subdivide.cPUXMZCG1742896998262.js";import{d as l,b as u,a2 as f,w as p,o as d,H as m,N as g,aj as h,ak as v,a3 as y,r as b,e as w,f as I,g as M,j as _,u as j,m as S,M as x}from"./@vue.L-brCdZe1742896998262.js";import"./postprocessing.JNDZZkh81742896998262.js";import"./@vueuse.AtktgvWs1742896998262.js";const B=T;function T(n,t){const e=A();return T=function(n,t){return e[n-=306]},T(n,t)}!function(n,t){const e=T,r=A();for(;;)try{if(673071===-parseInt(e(313))/1*(parseInt(e(320))/2)+-parseInt(e(322))/3*(parseInt(e(324))/4)+parseInt(e(359))/5*(-parseInt(e(340))/6)+-parseInt(e(335))/7*(parseInt(e(326))/8)+parseInt(e(316))/9+parseInt(e(347))/10+-parseInt(e(312))/11*(-parseInt(e(364))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[T(368)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(){const n=["__proto__","TSGref","init","function *\\( *\\)","srcMesh","console","toString","7VZzHej","info","Vector3","glowColor","FrontSide","6DycRUv","viewVector","constructor","blending","bind","error","input","9835580lmFhBH","modify","value","Color","gger","#ffff00","call","material","exception","clone","TresMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3025240juhIBC",'{}.constructor("return this")( )',"while (true) {}","debu","stateObject","40575372EmDYaj","prototype","geometry","chain","apply","string","attributes","color","subdivision","side","counter","warn","11WEoZNW","1291102bJgJYD","test","position","2752452IiDFJX","uniforms","shineShader","log","2GVCliA","length","3BpLkDA","copy","4538024RhRetj","scale","7735520LEAhLb","subVectors"];return(A=function(){return n})()}!function(){k(this,(function(){const n=T,t=new RegExp(n(331)),e=new RegExp(n(358),"i"),r=V(n(330));t[n(314)](r+n(367))&&e[n(314)](r+n(346))?V():r("0")}))()}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();C(void 0,(function(){const n=T;let t;try{t=Function("return (function() "+n(360)+");")()}catch(o){t=window}const e=t[n(333)]=t[n(333)]||{},r=[n(319),n(311),n(336),n(345),n(355),"table","trace"];for(let i=0;i<r[n(321)];i++){const t=C[n(342)][n(365)][n(344)](C),o=r[i],s=e[o]||t;t[n(328)]=C[n(344)](C),t[n(334)]=s[n(334)][n(344)](s),e[o]=t}}))();const R=[B(325)],z=l({__name:B(318),props:{srcMesh:{},scale:{default:1.2},color:{default:B(352)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(339)]},blending:{default:s}},setup(e){const r=B,o=e,s=u(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(350)])(o.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(343)]};f((()=>{const n=r;if(o[n(332)]&&s[n(349)]&&!s[n(349)].geometry[n(306)][n(315)]){let t=o[n(332)][n(366)][n(356)]();o[n(308)]&&(t=c[n(348)](t,2)),s[n(349)][n(366)]=t,s[n(349)][n(315)][n(323)](o[n(332)][n(315)])}o[n(307)]&&(a[n(317)][n(338)][n(349)]=new(i[n(350)])(o[n(307)])),o.c&&(a[n(317)].c[n(349)]=o.c),o.p&&(a[n(317)].p[n(349)]=o.p)})),p((()=>o.subdivision),(n=>{const t=r;let e=o.srcMesh[t(366)].clone();n&&(e=c[t(348)](e,2)),s.value[t(366)]=e})),p((()=>o[r(309)]),(n=>{const t=r;s[t(349)][t(354)][t(309)]=n})),p((()=>o[r(343)]),(n=>{const t=r;s.value[t(354)][t(343)]=n}));const{onLoop:l}=n(),{camera:y}=t();return l((()=>{const n=r;y[n(349)]&&s[n(349)]&&(a[n(317)][n(341)][n(349)]=(new(i[n(337)]))[n(327)](y[n(349)][n(315)],s[n(349)][n(315)]))})),(n,t)=>{const e=r;return d(),m(e(357),{ref_key:e(329),ref:s,scale:o[e(325)]},[g("TresShaderMaterial",h(v(a)),null,16)],8,R)}}});function V(n){function t(n){const e=T;if(typeof n===e(369))return function(n){}[e(342)](e(361)).apply(e(310));1!==(""+n/n)[e(321)]||n%20==0?function(){return!0}[e(342)](e(362)+e(351))[e(353)]("action"):function(){return!1}.constructor(e(362)+e(351))[e(368)](e(363)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const E=F;!function(n,t){const e=F,r=L();for(;;)try{if(208813===-parseInt(e(457))/1+parseInt(e(469))/2+-parseInt(e(414))/3+parseInt(e(432))/4*(parseInt(e(428))/5)+parseInt(e(421))/6*(-parseInt(e(463))/7)+-parseInt(e(461))/8*(-parseInt(e(429))/9)+parseInt(e(418))/10*(parseInt(e(462))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function F(n,t){const e=L();return F=function(n,t){return e[n-=411]},F(n,t)}!function(){Z(this,(function(){const n=F,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=$(n(415));t[n(443)](r+n(424))&&e.test(r+n(435))?$():r("0")}))()}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[F(449)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();N(void 0,(function(){const n=F;let t;try{t=Function("return (function() "+n(453)+");")()}catch(o){t=window}const e=t[n(411)]=t[n(411)]||{},r=[n(448),"warn",n(439),n(431),n(452),n(420),"trace"];for(let i=0;i<r[n(446)];i++){const t=N[n(427)][n(450)].bind(N),o=r[i],s=e[o]||t;t.__proto__=N[n(440)](N),t.toString=s[n(464)][n(440)](s),e[o]=t}}))();const D=[E(434)],G=["map"];function L(){const n=["srcMesh","chain","TreBoxRef","BackSide","constructor","8565ttyyBZ","45RhfKlE","TresMeshBasicMaterial","error","436MbJdGi","DoubleSide","map","input","stateObject","instance","TresBoxGeometry","info","bind","#0ff","logo.png","test","addBinding","debu","length","TresMeshRefB","log","apply","prototype","TresSphereGeometry","exception",'{}.constructor("return this")( )',"NormalBlending","value","TresMesh","252891ypPVPl","gger","TresMeshRefA","#00dfff","234920wouzhM","11KLbgZQ","2179821vMoySb","toString","FrontSide","TresPerspectiveCamera","while (true) {}","AdditiveBlending","153362wbXppS","console","TresCanvas","subdivision","15450prYiZc","init","#222","color","3680340pCweiS","scale","table","6MWdXaG","TresAmbientLight"];return(L=function(){return n})()}const P=l({__name:"shader",async setup(n){const t=E;let c,l;const f={clearColor:t(416)},p=u(),m=u(),h=u(),v=([c,l]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(442)]))),c=await c,l(),c),B=b({scale:1.6,color:t(460),subdivision:!0,c:1.1,p:1.4,side:i[t(465)],blending:i[t(468)]}),T=new a({title:"参数",expanded:!0});return T[t(444)](B,t(417),{label:"颜色"}),T[t(444)](B,t(419),{label:"大小",min:1,max:3,step:.2}),T[t(444)](B,t(413),{label:"边缘处理"}),T[t(444)](B,"c",{label:"c",min:0,max:2,step:.1}),T[t(444)](B,"p",{label:"p",min:0,max:8,step:.2}),T[t(444)](B,"side",{options:{FrontSide:i[t(465)],BackSide:i[t(426)],DoubleSide:i[t(433)]}}),T[t(444)](B,"blending",{options:{AdditiveBlending:s,NormalBlending:i[t(454)]}}),(n,o)=>{const i=t,s=w(i(412));return d(),I(s,S(f,{"window-size":""}),{default:M((()=>[o[2]||(o[2]=g(i(466),{position:[5,5,5]},null,-1)),o[3]||(o[3]=g(i(422),{intensity:1},null,-1)),_(j(e)),o[4]||(o[4]=g("TresGridHelper",{args:[10,10]},null,-1)),g(i(456),{ref_key:i(459),ref:p,position:[-2,1,0]},[o[0]||(o[0]=g(i(451),{args:[1,32,16]},null,-1)),g("TresMeshBasicMaterial",{map:j(v)[0]},null,8,D)],512),_(z,S({srcMesh:p.value},B),null,16,[i(423)]),_(j(r),{ref_key:i(425),ref:h,args:[1,1,1],position:[2,1,0]},{default:M((()=>[g(i(430),{map:j(v)[1]},null,8,G)])),_:1},512),h[i(455)]&&h.value[i(437)]?(d(),I(z,S({key:0,srcMesh:h.value[i(437)]},B),null,16,[i(423)])):x("",!0),g(i(456),{ref_key:i(447),ref:m,position:[0,1,-2]},o[1]||(o[1]=[g(i(438),{args:[1,1,1,1,1]},null,-1),g(i(430),{color:i(441)},null,-1)]),512),_(z,S({srcMesh:m[i(455)]},B),null,16,[i(423)])])),_:1},16)}}});function $(n){function t(n){const e=F;if("string"==typeof n)return function(n){}[e(427)](e(467)).apply("counter");1!==(""+n/n)[e(446)]||n%20==0?function(){return!0}[e(427)](e(445)+e(458)).call("action"):function(){return!1}.constructor(e(445)+"gger")[e(449)](e(436)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{P as default};
