import{_ as t,m as n,c as e}from"./gl-matrix.AFK4LjqA1735275234726.js";import{i as r,r as o,d as i}from"./ice-utils.qMMZoxdD1735275234726.js";import{d as a,q as c,o as u,D as s}from"./@vue.u2cBPEWn1735275234726.js";const f=T;function _(){const t=["46qrhXwh","CULL_FACE","268015lIPKrY","info","drawArrays","COLOR_BUFFER_BIT","stateObject","70MoQOEz","#canvaswebgl","TRIANGLES","\nprecision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\nvoid main(){\n\tgl_FragColor=texture2D(u_texture, v_texcoord.xy);\n}\n","console","44DtXEGa","gger","FRAMEBUFFER","__proto__","uniformMatrix4fv","return (function() ","action","STATIC_DRAW","\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\nuniform mat4 u_matrix;\nvarying vec2 v_texcoord;\nvoid main() {\n  gl_Position = u_matrix * a_position;\n  v_texcoord = a_texcoord;\n}","querySelector","a_texcoord","init","NEAREST","870365OPtOpN","TEXTURE_2D","toString","1428234AHmASW","28130nCwXJz","getContext","7GGyDnY","call","framebufferTexture2D","TEXTURE_WRAP_T","clearColor","u_matrix","create","createTexture","string","TEXTURE_MIN_FILTER","debu","canvaswebgl","getUniformLocation","TEXTURE_WRAP_S","1668hZDQCX","RGBA",'{}.constructor("return this")( )',"pixelStorei","DEPTH_TEST","UNSIGNED_BYTE","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","perspective","createBuffer","viewport","apply","mat4","LINEAR","CLAMP_TO_EDGE","FLOAT","chain","texParameteri","length","prototype","a_position","bind","bindBuffer","bindTexture","9995496BNYMvy","input","canvas","clientHeight","u_texture","bufferData","error","1493334prRRrN","clear","bindFramebuffer","texImage2D","counter","lookAt","828108kbEoyB","multiply","500px","constructor","vertexAttribPointer","enable","while (true) {}","DEPTH_BUFFER_BIT","log","rotate","enableVertexAttribArray","ARRAY_BUFFER","clientWidth","width"];return(_=function(){return t})()}!function(t,n){const e=T,r=_();for(;;)try{if(961218===parseInt(e(329))/1*(parseInt(e(300))/2)+parseInt(e(376))/3+parseInt(e(312))/4*(-parseInt(e(325))/5)+parseInt(e(328))/6+parseInt(e(331))/7*(-parseInt(e(369))/8)+-parseInt(e(286))/9*(parseInt(e(307))/10)+parseInt(e(302))/11*(parseInt(e(345))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[T(356)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(351),"i"),r=x(t(323));n[t(352)](r+t(361))&&e[t(352)](r+t(370))?x():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[T(356)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function T(t,n){const e=_();return(T=function(t,n){return e[t-=285]})(t,n)}E(void 0,(function(){const t=T;let n;try{n=Function(t(317)+t(347)+");")()}catch(o){n=window}const e=n.console=n[t(311)]||{},r=[t(294),"warn",t(303),t(375),"exception","table","trace"];for(let i=0;i<r[t(363)];i++){const n=E[t(289)][t(364)][t(366)](E),o=r[i],a=e[o]||n;n[t(315)]=E[t(366)](E),n[t(327)]=a[t(327)][t(366)](a),e[o]=n}}))();const m={id:f(342),style:{height:f(288),width:f(288)}},p=f(320),A=f(310),R=a({__name:"webglFrameBuffer",setup(a){const f=function(){const a=T,c=document[a(321)](a(308)),u=null==c?void 0:c[a(330)]("webgl");if(!u)return;var s=r(u,p,A),f=u.getAttribLocation(s,a(365)),_=u.getAttribLocation(s,a(322)),l=u[a(343)](s,a(336)),E=u.getUniformLocation(s,a(373)),m=u[a(354)]();u[a(367)](u.ARRAY_BUFFER,m),function(t){const n=T;var e=new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5]);t.bufferData(t[n(297)],e,t[n(319)])}(u);var R=u[a(354)]();u[a(367)](u[a(297)],R),function(t){const n=T;t[n(374)](t[n(297)],new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1]),t[n(319)])}(u);var x=u.createTexture();u[a(368)](u.TEXTURE_2D,x);{const t=0,n=u[a(346)],e=1,r=1,o=0,i=u.RGBA,c=u[a(350)],s=new Uint8Array([255,255,0,255]),f=1;u[a(348)](u.UNPACK_ALIGNMENT,f),u[a(379)](u.TEXTURE_2D,t,n,e,r,o,i,c,s),u[a(362)](u[a(326)],u[a(340)],u.NEAREST),u.texParameteri(u[a(326)],u.TEXTURE_MAG_FILTER,u[a(324)]),u[a(362)](u[a(326)],u[a(344)],u.CLAMP_TO_EDGE),u[a(362)](u[a(326)],u[a(334)],u[a(359)])}const v=u[a(338)]();u.bindTexture(u[a(326)],v);{const t=0,n=u[a(346)],e=0,r=u.RGBA,o=u[a(350)],i=null;u[a(379)](u[a(326)],t,n,256,256,e,r,o,i),u.texParameteri(u[a(326)],u[a(340)],u[a(358)]),u.texParameteri(u.TEXTURE_2D,u[a(344)],u.CLAMP_TO_EDGE),u.texParameteri(u[a(326)],u[a(334)],u[a(359)])}const b=u.createFramebuffer();u[a(378)](u.FRAMEBUFFER,b);const d=u.COLOR_ATTACHMENT0;u[a(333)](u[a(314)],d,u.TEXTURE_2D,v,0);var F=i(0),g=0;function I(r){const o=a;u.useProgram(s),u[o(296)](f),u.bindBuffer(u[o(297)],m);var i=3,c=u[o(360)],T=!1,p=0,A=0;u[o(290)](f,i,c,T,p,A),u[o(296)](_),u[o(367)](u[o(297)],R);i=2,c=u[o(360)],T=!1,p=0,A=0;u[o(290)](_,i,c,T,p,A);var x=t[o(357)][o(337)]();n[o(353)](x,-30,r,.1,1e4);let v=t[o(357)][o(337)]();v=n[o(295)](v,v,F,[0,1,0]);var b=t[o(357)][o(337)]();t[o(357)][o(285)](b,[0,0,2],[0,0,0],[0,1,0]);let d=e();t[o(357)][o(287)](d,b,v);var g=t[o(357)].create();t[o(357)].multiply(g,x,d),u[o(316)](l,!1,g),u.uniform1i(E,0),u[o(304)](u[o(309)],0,36)}requestAnimationFrame((function t(n){const e=a;var r=(n*=.001)-g;g=n,F+=-.4*r,o(u[e(371)]),u[e(291)](u[e(301)]),u[e(291)](u[e(349)]);u[e(378)](u[e(314)],b),u.bindTexture(u[e(326)],x),u[e(355)](0,0,256,256),u[e(335)](0,1,0,1),u.clear(u[e(305)]|u[e(293)]);I(1);u.bindFramebuffer(u[e(314)],null),u.bindTexture(u[e(326)],v),u.viewport(0,0,u[e(371)][e(299)],u[e(371)].height),u[e(335)](1,1,1,1),u[e(377)](u.COLOR_BUFFER_BIT|u[e(293)]);I(u.canvas[e(298)]/u[e(371)][e(372)]);requestAnimationFrame(t)}))};return c((()=>{f()})),(t,n)=>{const e=T;return u(),s(e(371),m)}}});function x(t){function n(t){const e=T;if(typeof t===e(339))return function(t){}[e(289)](e(292))[e(356)](e(380));1!==(""+t/t)[e(363)]||t%20==0?function(){return!0}[e(289)](e(341)+e(313))[e(332)](e(318)):function(){return!1}[e(289)](e(341)+e(313))[e(356)](e(306)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
