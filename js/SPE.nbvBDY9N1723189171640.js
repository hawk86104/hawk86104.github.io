import{a6 as t,d as e,N as i,cj as n,bR as s,al as o,C as r,h as a,T as c,j as h,V as u}from"./three.5MXJ6W7w1723189171640.js";const l=d;!function(t,e){const i=d,n=m();for(;;)try{if(872618===-parseInt(i(330))/1*(parseInt(i(324))/2)+-parseInt(i(478))/3+-parseInt(i(606))/4+parseInt(i(289))/5*(-parseInt(i(378))/6)+parseInt(i(390))/7*(-parseInt(i(222))/8)+-parseInt(i(252))/9+parseInt(i(494))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[d(581)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){f(this,(function(){const t=d,e=new RegExp(t(407)),i=new RegExp(t(196),"i"),n=v(t(396));e[t(236)](n+t(450))&&i[t(236)](n+t(621))?v():n("0")}))()}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[d(581)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function d(t,e){const i=m();return(d=function(t,e){return i[t-=171]})(t,e)}function m(){const t=["array","direction","textureFrames","_createNewWhenPoolEmpty","randomFloat","    varying vec4 vSpriteSheet;","setMat4","       vec3 c = isAlive * getColorOverLifetime(","gger","_axis","addEmitter","59264230aaAHmp","    #endif","splice","Emitter","_resetParticle","bufferAttribute","setVec4Components","        float row = floor( (frameNumber - column) / framesX );","resetUpdateRange","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","_setBufferUpdateRanges","setVec4","        float loopCount = textureAnimation.w;","function","updateMap","OBJECT","    highp float value = 0.0;","alphaTest","  return 1.0 - when_gt(x, y);","    varying float vAngle;","TypedArray is already of size:","    vColor = vec4( c, o );","    float shouldApplyValue = 0.0;","fog_pars_fragment","setVec3","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","particles, can support only","    float pointSizePerspective = pointSize * perspective;","           unpackColor( color.w )","sqrt","min","       float oc = 1.0 - c;","randomise","while (true) {}","      }","SPE.Group pool ran out.","bufferUpdateRanges","SHOULD_WIGGLE_PARTICLES","NUMBER","    return 1.0 - abs( sign( x - y ) );","   c.g = g / PACKED_COLOR_DIVISOR;","SHOULD_ROTATE_TEXTURE","shrink","vertex","    #ifdef SHOULD_ROTATE_TEXTURE","vec3 getVelocity( in float age ) {","color","unpackRotationAxis","emitters","   }","ShaderChunk","attribute vec4 opacity;","object","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","hasPerspective","getPool","shaders","_updateUniforms","    return value;","   return modelViewMatrix * vec4( position, 1.0 );","_createGetterSetters","        float columnNorm = column / framesX;","AdditiveBlending","fog_pars_vertex","Color","StaticDrawUsage","Vector2","uniforms","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","ensureArrayTypedArg","size","lerpTypeAgnostic","releaseIntoPool","_assignValue","getLength","fog_fragment","distributions","        float rowNorm = row / framesY;","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","    #ifdef SHOULD_WIGGLE_PARTICLES","ShaderAttribute","floor","_angle","float when_eq( float x, float y ) {","    #ifdef SHOULD_ROTATE_PARTICLES","Emitter does not belong to a group, cannot remove.","bufferUpdateCount","apply","branchAvoidanceFunctions","common","resetDynamic","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","fog","pop","forceUpdateAll","#ifdef SHOULD_ROTATE_TEXTURE","DynamicDrawUsage","velocity","MathUtils","particlesPerSecond","uniform sampler2D tex;","frameCount","    vec3 vel = getVelocity( age );","arrayType","   c.b = b / PACKED_COLOR_DIVISOR;","_spreadClamp","resetFlags","scale","enable","    #else","BOOLEAN","_assignAngleValue","6746420cxgryR","_radiusScale","_rotationCenter","        float wiggleCos = isAlive * cos( wiggleAmount );","           unpackColor( color.y ),","rotationCenter","transparent","        vSpriteSheet.w = rowNorm;","setFromArray","   return c;","Group","    #ifdef HAS_PERSPECTIVE","maxParticleCount","float when_lt(float x, float y) {","utils","input","activeParticleCount","distribution","float when_le(float x, float y) {","    #ifdef ALPHATEST","unshift","        float wiggleAmount = positionInTime * getWiggle();","acceleration","getComponentValueAtIndex","depthWrite","   return params.z;","      vec3 axis = unpackRotationAxis( rotation.x );","randomVector3","       fIndex = float( i );","_static","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","NEGATIVE_INFINITY","getValueAtIndex","removeEmitter","TypedArrayConstructor","toString","dynamicBuffer","   float b = mod( hex, PACKED_COLOR_SIZE );","fragment","randomDirectionVector3OnSphere","    #ifdef SHOULD_CALCULATE_SPRITE","uuid","error","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","multiplyScalar","_assignPositionValue","spread","typedArray","prototype","spreadClamp","usage","_triggerSingleEmitter","indexOf","logdepthbuf_pars_vertex","    highp float positionInTime = (age / maxAge);","   return params.x;","Argument is not instanceof SPE.Emitter:","duration","group","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","_attributesNeedRefresh","_assignAbsLifetimeValue","_center","call","float getAlive() {","    ","params","exports","componentSize","8OvXHkO","textureLoop","log","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","setVec2","`emitter` argument must be instance of SPE.Emitter. Was provided with:","_resetBufferRanges","    force += vel;","setAttribute","bind","    gl_PointSize = pointSizePerspective;","abs","alive","defineProperty","test","subarray","position","isArray","    return a * b;","setNumber","angle","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","paramFetchingFunctions","float getWiggle() {","setUpdateRange","_assignParamsValue","   return params.y;","        pos.z += wiggleSin;","       axis = normalize(axis);","8336088CEzeyL","dispose","number","disable","setDrawRange","      if( rotation.y == 0.0 ) {","random","lerp","SPE.Group: maxParticleCount exceeded. Requesting","isStatic","count","getFromPool","LINE","_updateDefines","axisSpread","       float s = sin(angle);","age","#endif","updateMin","TypedArrayHelper","maxAge","    vec4 rotatedTexture = texture2D( tex, vUv );","attributeOffset","vec3 getAcceleration( in float age ) {","_pool","        float framesX = vSpriteSheet.x;","_poolCreationSettings","_distributionClamp","textureFrameCount","rotationFunctions","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","_updateAttributeUpdateRange","angleSpread","    vec3 force = vec3( 0.0 );","paramsArray","Vector3","float and(float a, float b) {","6478540iVYBuP","logdepthbuf_vertex","updateRange","uniform vec4 textureAnimation;","colorize","randomVector3OnLine","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","    float fIndex = 0.0;","addPool","tick","trace","   return acceleration.xyz * age;","           unpackColor( color.x ),","activationEnd","BOX","POSITIVE_INFINITY","reset","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","fixedTimeStep","_calculatePPSValue","defines","loop","set","center","    force += accel * age;","attributes","    force *= drag;","bufferUpdateKeys","_assignRotationValue","attribute vec3 rotationCenter;","emitterIDs","randomDirectionVector3OnDisc","radius","sin","ensureArrayInstanceOf","65944ukqOdZ","_updateBuffers","attributeKeys","updateFlags","_distribution","      float angle = 0.0;","2EkGSxV","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","uniform float runTime;","float getMaxAge() {","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","interpolateArray","setVec3Components","offset","value","console","vec3 unpackRotationAxis( in float hex ) {","_randomise","undefined","constructor","_createBufferAttribute","        float framesY = vSpriteSheet.y;",'{}.constructor("return this")( )',"activationIndex","float or(float a, float b) {","indexOffset","        vSpriteSheet.y = 1.0 / framesY;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","attribute vec4 angle;","varyings","    highp float maxAge = getMaxAge();","types","max","_checkParticleAges","#ifdef SHOULD_ROTATE_PARTICLES","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","attribute vec4 acceleration;","normalize","_spread","   vec3 c = vec3( 0.0 );","type","needsUpdate","_ensureTypedArray","BufferGeometry","_value","Points","arrayValuesAreEqual","float when_gt(float x, float y) {","ensureInstanceOf","hasOwnProperty","Emitter already exists in this group. Will not add again.","material","Emitter already belongs to another group. Will not add to requested group.","ensureTypedArg","6aIJWZu","action","Invalid argument types, or argument types do not match:","flagUpdate","DISC","SPHERE","        pos = getRotation( pos, positionInTime );","           unpackColor( color.z ),","setRGB","    vec3 pos = vec3( position );","varying vec4 vColor;","round","1754179BtJpRA","axis","_assignColorValue","updateCounts","#ifdef SHOULD_CALCULATE_SPRITE","exception","init","attribute vec3 velocity;","      rotationMatrix = getRotationMatrix( axis, angle );","string","           positionInTime,","   c.r = r / PACKED_COLOR_DIVISOR;","length","    highp float isAlive = when_gt( alive, 0.0 );","valueOverLifetimeLength","ensureValueOverLifetimeCompliance","boolean","function *\\( *\\)","_axisSpread","_radius","rotation","floatOverLifetime","warn","        float framesY = textureAnimation.y;","      translated = rotationCenter - pos;","_onRemove","texture","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","randomVector3OnDisc","copy","unpackColor","keys","_decrementParticleCount","deltaTime","_setAttributeOffset","generateUUID","float when_ge(float x, float y) {","getPackedRotationAxis","BufferAttribute","shaderChunks","particleCount","        float rowNorm = vSpriteSheet.w;","clamp","attribute vec4 size;","typeSizeMap","_attributesNeedDynamicReset","distributionClamp","attribute vec4 rotation;","cos","ShaderMaterial","void main() {","__proto__","activeMultiplier","grow","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","drag","table","   return params.w;","   c *= vec3( 2.0 );","SHOULD_ROTATE_PARTICLES","chain","wiggle","Will not resize.","    gl_Position = projectionMatrix * mvPosition;","updateMax","clone","    }","roundToNearestMultiple","return (function() ","debu","getHex","    return min(a + b, 1.0);","   c -= vec3( 1.0 );","remove","  return 1.0 - when_lt(x, y);","blending","setSize","geometry","push","        vSpriteSheet.z = columnNorm;","join","vec3 unpackColor( in float hex ) {","_assignForceValue","setVec2Components","opacity","attributeCount","#define PACKED_COLOR_SIZE 256.0","    return max(sign(x - y), 0.0);","2486157KkACrJ","        pos.x += wiggleSin;","elements","depthTest","vec4 getPosition( in float age ) {"];return(m=function(){return t})()}p(void 0,(function(){const t=d,e=function(){const t=d;let e;try{e=Function(t(458)+t(346)+");")()}catch(i){e=window}return e}(),i=e[t(339)]=e[t(339)]||{},n=[t(224),t(412),"info","error",t(395),t(446),t(299)];for(let s=0;s<n[t(402)];s++){const e=p[t(343)][t(201)][t(231)](p),o=n[s],r=i[o]||e;e[t(441)]=p[t(231)](p),e[t(186)]=r.toString.bind(r),i[o]=e}}))();const g={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};"function"==typeof define&&define.amd?define("spe",g):typeof exports!==l(342)&&typeof module!==l(342)&&(module[l(220)]=g),g[l(271)]=function(t,e,i,n){const s=l;this[s(221)]=i||1,this[s(564)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(483)]=new t(e*this.componentSize),this[s(349)]=n||0},g.TypedArrayHelper[l(343)]=g[l(271)],g.TypedArrayHelper[l(201)][l(466)]=function(t,e){const i=l,n=this[i(483)][i(402)];return!e&&(t*=this[i(221)]),t<n?this[i(536)](t):t>n?this[i(443)](t):void console.info(i(514),t+".",i(452))},g.TypedArrayHelper[l(201)][l(536)]=function(t){const e=l;return this[e(483)]=this[e(483)][e(237)](0,t),this.size=t,this},g[l(271)].prototype[l(443)]=function(t){const e=l,i=this[e(483)],n=new(this[e(185)])(t);return n[e(311)](i),this[e(483)]=n,this[e(564)]=t,this},g[l(271)].prototype[l(496)]=function(t,e){const i=l;t*=this.componentSize,e*=this[i(221)];const n=[],s=this[i(483)],o=s[i(402)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(468)](s[r]);return this[i(614)](0,n),this},g[l(271)][l(201)][l(614)]=function(t,e){const i=l,n=t+e[i(402)];return n>this[i(483)][i(402)]?this.grow(n):n<this.array[i(402)]&&this[i(536)](n),this.array[i(311)](e,this[i(349)]+t),this},g[l(271)][l(201)][l(226)]=function(t,e){return this[l(473)](t,e.x,e.y)},g[l(271)][l(201)][l(473)]=function(t,e,i){const n=l,s=this[n(483)],o=this[n(349)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},g[l(271)][l(201)][l(518)]=function(t,e){return this[l(336)](t,e.x,e.y,e.z)},g[l(271)].prototype[l(336)]=function(t,e,i,n){const s=l,o=this[s(483)],r=this[s(349)]+t*this[s(221)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},g.TypedArrayHelper.prototype[l(505)]=function(t,e){return this[l(500)](t,e.x,e.y,e.z,e.w)},g[l(271)][l(201)][l(500)]=function(t,e,i,n,s){const o=l,r=this[o(483)],a=this.indexOffset+t*this[o(221)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},g.TypedArrayHelper[l(201)].setMat3=function(t,e){const i=l;return this[i(614)](this[i(349)]+t*this[i(221)],e[i(480)])},g[l(271)][l(201)][l(489)]=function(t,e){const i=l;return this[i(614)](this[i(349)]+t*this.componentSize,e[i(480)])},g[l(271)][l(201)].setColor=function(t,e){return this[l(336)](t,e.r,e.g,e.b)},g[l(271)][l(201)][l(241)]=function(t,e){const i=l;return this[i(483)][this[i(349)]+t*this[i(221)]]=e,this},g.TypedArrayHelper[l(201)][l(183)]=function(t){return this[l(483)][this.indexOffset+t]},g[l(271)][l(201)][l(174)]=function(t){const e=l;return this[e(483)][e(237)](this[e(349)]+t*this.componentSize)},g[l(574)]=function(t,e,i){const n=l,s=g.ShaderAttribute.typeSizeMap;this[n(364)]="string"==typeof t&&s[n(373)](t)?t:"f",this.componentSize=s[this[n(364)]],this[n(597)]=i||Float32Array,this[n(200)]=null,this[n(499)]=null,this[n(187)]=!!e,this[n(270)]=0,this.updateMax=0},g[l(574)][l(343)]=g[l(574)],g.ShaderAttribute[l(434)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},g[l(574)][l(201)][l(247)]=function(t,e){const i=l;this[i(270)]=Math[i(524)](t*this[i(221)],this.updateMin*this[i(221)]),this[i(454)]=Math[i(356)](e*this[i(221)],this[i(454)]*this[i(221)])},g[l(574)].prototype[l(381)]=function(){const t=l,e=this[t(499)],i=e[t(291)];i.offset=this[t(270)],i.count=Math.min(this.updateMax-this.updateMin+this.componentSize,this.typedArray[t(483)].length),e[t(365)]=!0},g[l(574)][l(201)][l(502)]=function(){this[l(270)]=0,this.updateMax=0},g[l(574)].prototype[l(584)]=function(){const e=l;this[e(499)][e(203)]=this.dynamicBuffer?t[e(590)]:t[e(559)]},g[l(574)][l(201)][l(496)]=function(t,e){const i=l;this[i(200)][i(496)](t,e),this[i(588)]()},g[l(574)][l(201)][l(588)]=function(){const e=l;this.bufferAttribute[e(483)]=this[e(200)].array,this[e(499)][e(291)][e(337)]=0,this[e(499)][e(291)].count=-1,this[e(499)][e(203)]=t[e(559)],this.bufferAttribute.needsUpdate=!0},g[l(574)].prototype[l(366)]=function(t){const e=l;null!==this[e(200)]&&this[e(200)][e(564)]===t*this[e(221)]||(null!==this[e(200)]&&this.typedArray[e(564)]!==t?this[e(200)][e(466)](t):null===this[e(200)]&&(this[e(200)]=new(g[e(271)])(this[e(597)],t,this[e(221)])))},g[l(574)][l(201)]._createBufferAttribute=function(s){const o=l;if(this[o(366)](s),null!==this.bufferAttribute)return this[o(499)].array=this[o(200)][o(483)],parseFloat(e)>=81&&(this[o(499)].count=this[o(499)][o(483)].length/this.bufferAttribute.itemSize),void(this.bufferAttribute.needsUpdate=!0);this[o(499)]=new(t[o(428)])(this[o(200)][o(483)],this[o(221)]),this.bufferAttribute[o(203)]=this[o(187)]?i:n},g[l(574)].prototype[l(568)]=function(){const t=l;return null===this[t(200)]?0:this[t(200)].array[t(402)]},g[l(429)]={defines:[l(476),"#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:["uniform float deltaTime;",l(332),l(594),l(292),"uniform float scale;"][l(470)]("\n"),attributes:[l(360),l(397),l(437),l(318),"attribute vec4 params;",l(433),l(352),"attribute vec4 color;",l(545)][l(470)]("\n"),varyings:[l(388),l(589),l(513),"#endif",l(394),l(488),l(269)].join("\n"),branchAvoidanceFunctions:[l(371),l(477),"}",l(619),l(243),"}",l(577),l(533),"}",l(426),l(464),"}",l(624),l(512),"}",l(288),l(240),"}",l(348),l(461),"}"][l(470)]("\n"),unpackColor:[l(471),l(363),l(585),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",l(188),l(401),l(534),l(598),l(615),"}"].join("\n"),unpackRotationAxis:[l(340),l(363),l(585),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",l(188),"   c.r = r / PACKED_COLOR_DIVISOR;",l(534),l(598),l(448),l(462),l(615),"}"][l(470)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",l(510),l(351),l(296),l(516),"    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","",l(295),l(179),"       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",l(282),l(456),"",l(552),"}"][l(470)]("\n"),colorOverLifetime:[l(359),"    vec3 value = vec3( 0.0 );",l(417),l(194),l(225),l(552),"}"].join("\n"),paramFetchingFunctions:[l(217),l(208),"}","float getAge() {",l(249),"}",l(333),l(176),"}",l(246),l(447),"}"][l(470)]("\n"),forceFetchingFunctions:[l(482),l(553),"}",l(539),"   return velocity * age;","}",l(275),l(300),"}"].join("\n"),rotationFunctions:[l(358),l(562),l(251),l(267),"       float c = cos(angle);",l(525),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",l(547),"                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","                   0.0,                                0.0,                                0.0,                                1.0);",l(543),"",l(331),l(257),"           return pos;",l(528),"",l(177),"      vec3 center = rotationCenter;","      vec3 translated;","      mat4 rotationMatrix;",l(329),l(334),l(503),l(414),l(398),"      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }","#endif"][l(470)]("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","",l(538),"       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;","       float c = cos( -vAngle );","       float s = sin( -vAngle );",l(306),l(495),"",l(191),l(277),l(345),"        float columnNorm = vSpriteSheet.z;",l(431),l(212),"        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);",l(495),"",l(273)][l(470)]("\n")},g.shaders={vertex:[g[l(429)][l(309)],g.shaderChunks[l(561)],g[l(429)].attributes,g[l(429)].varyings,t[l(544)][l(583)],t[l(544)][l(206)],s[l(557)],g.shaderChunks[l(582)],g[l(429)][l(420)],g[l(429)][l(541)],g[l(429)][l(411)],g[l(429)].colorOverLifetime,g[l(429)][l(245)],g.shaderChunks.forceFetchingFunctions,g[l(429)][l(281)],l(440),"    highp float age = getAge();","    highp float alive = getAlive();",l(354),l(207),l(403),l(573),l(172),"        float wiggleSin = isAlive * sin( wiggleAmount );",l(609),"    #endif",l(596),"    vec3 accel = getAcceleration( age );",l(285),l(387),l(195),l(229),l(315),l(313),"    pos += force;",l(573),l(479),"        pos.y += wiggleCos;",l(250),l(495),l(578),l(384),l(495),l(519),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;",l(617),"        float perspective = scale / length( mvPosition.xyz );",l(603),"        float perspective = 1.0;",l(495),l(521),"    #ifdef COLORIZE",l(490),l(400),l(301),l(610),l(385),l(522),"       );",l(603),"       vec3 c = vec3(1.0);","    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );",l(515),l(538),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","    #endif",l(191),"        float framesX = textureAnimation.x;",l(413),l(506),"        float totalFrames = textureAnimation.z;",l(244),"        float column = floor(mod( frameNumber, framesX ));",l(501),l(555),l(571),"        vSpriteSheet.x = 1.0 / framesX;",l(350),l(469),l(613),"    #endif",l(232),l(453),t[l(544)][l(290)],t[l(544)].fog_vertex,"}"][l(470)]("\n"),fragment:[g[l(429)][l(561)],t[l(544)].common,t[l(544)][l(517)],s.logdepthbuf_pars_fragment,g[l(429)][l(353)],g[l(429)][l(582)],l(440),"    vec3 outgoingLight = vColor.xyz;",l(218),l(625),"       if ( vColor.w < float(ALPHATEST) ) discard;","    #endif",g.shaderChunks.rotateTexture,s.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",l(444),t[l(544)][l(569)],"}"][l(470)]("\n")},g[l(620)]={types:{BOOLEAN:l(406),STRING:l(399),NUMBER:l(254),OBJECT:l(546)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=l;if(Array[n(239)](t)){for(let s=t[n(402)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(377)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=l;if(Array[n(239)](t)){for(let s=t[n(402)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(372)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=l;e=e||3,i=i||3,!1===Array[n(239)](t[n(368)])&&(t[n(368)]=[t._value]),!1===Array.isArray(t[n(362)])&&(t[n(362)]=[t[n(362)]]);const s=this[n(432)](t[n(368)][n(402)],e,i),o=this[n(432)](t[n(362)][n(402)],e,i),r=Math[n(356)](s,o);t._value[n(402)]!==r&&(t._value=this[n(335)](t[n(368)],r)),t[n(362)][n(402)]!==r&&(t[n(362)]=this[n(335)](t._spread,r))},interpolateArray(t,e){const i=l,n=t[i(402)],s=[typeof t[0][i(455)]===i(507)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(575)](e),a=Math.ceil(e),c=e-n;s[r]=this[i(565)](t[n],t[a],c)}return s.push(typeof t[n-1][i(455)]===i(507)?t[n-1][i(455)]():t[n-1]),s},clamp(t,e,i){const n=l;return Math[n(356)](e,Math[n(524)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[l(258)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=l;let a,c=this[s(355)];return typeof e===c[s(532)]&&typeof i===c[s(532)]?e+(i-e)*n:e instanceof t[s(560)]&&i instanceof t[s(560)]?(a=e[s(455)](),a.x=this[s(259)](e.x,i.x,n),a.y=this[s(259)](e.y,i.y,n),a):e instanceof t[s(287)]&&i instanceof t[s(287)]?(a=e[s(455)](),a.x=this[s(259)](e.x,i.x,n),a.y=this[s(259)](e.y,i.y,n),a.z=this[s(259)](e.z,i.z,n),a):e instanceof o&&i instanceof o?(a=e.clone(),a.x=this[s(259)](e.x,i.x,n),a.y=this[s(259)](e.y,i.y,n),a.z=this[s(259)](e.z,i.z,n),a.w=this[s(259)](e.w,i.w,n),a):e instanceof t[s(558)]&&i instanceof r?(a=e[s(455)](),a.r=this[s(259)](e.r,i.r,n),a.g=this.lerp(e.g,i.g,n),a.b=this[s(259)](e.b,i.b,n),a):void console[s(412)](s(380),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=l;let n=0;return 0===e?t:(n=Math[i(233)](t)%e,0===n?t:t<0?-(Math[i(233)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[l(258)]()-.5),randomVector3(t,e,i,n,s){const o=l;let r=i.x+(Math[o(258)]()*n.x-.5*n.x),a=i.y+(Math.random()*n.y-.5*n.y),c=i.z+(Math.random()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(457)](r,s.x),a=.5*-s.y+this.roundToNearestMultiple(a,s.y),c=.5*-s.z+this[o(457)](c,s.z)),t[o(200)][o(336)](e,r,a,c)},randomColor(t,e,i,n){const s=l;let o=i.r+Math.random()*n.x,r=i.g+Math.random()*n.y,a=i.b+Math[s(258)]()*n.z;o=this[s(432)](o,0,1),r=this[s(432)](r,0,1),a=this.clamp(a,0,1),t[s(200)][s(336)](e,o,r,a)},randomColorAsHex:function(){const e=l,i=new(t[e(558)]);return function(t,n,s,o){const r=e,a=s[r(402)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(419)](s[e]),i.r+=Math[r(258)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math[r(258)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[r(432)](i.g,0,1),i.b=this[r(432)](i.b,0,1),c[r(468)](i[r(460)]())}t[r(200)][r(500)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=l,o=i[s(455)]();o[s(259)](n,Math[s(258)]()),t[s(200)][s(336)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=l;let h=2*Math[c(258)]()-1,u=6.2832*Math[c(258)](),f=Math[c(523)](1-h*h),p=this[c(487)](n,s),d=0,m=0,g=0;r&&(p=Math[c(389)](p/r)*r),d=f*Math[c(438)](u)*p,m=f*Math[c(322)](u)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t.typedArray[c(336)](e,d,m,g)},seededRandom(t){const e=1e4*Math[l(322)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=l;let c=6.2832*Math.random(),h=Math[a(233)](this[a(487)](n,s)),u=0,f=0,p=0;r&&(h=Math[a(389)](h/r)*r),u=Math[a(438)](c)*h,f=Math[a(322)](c)*h,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t.typedArray[a(336)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=l,i=new(t[e(287)]);return function(t,n,s,o,r,a,c,h){const u=e;i[u(419)](a),i.x-=s,i.y-=o,i.z-=r,i[u(361)]().multiplyScalar(-this[u(487)](c,h)),t[u(200)][u(336)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=l,i=new(t[e(287)]);return function(t,n,s,o,r,a,c,h){const u=e;i[u(419)](a),i.x-=s,i.y-=o,i.z-=r,i[u(361)]()[u(197)](-this[u(487)](c,h)),t[u(200)][u(336)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=l,i=new(t[e(287)]),n=new(t[e(287)]),s=new(t[e(558)]),o=new(t[e(287)])(1,1,1);return function(t,r){const a=e;return i[a(419)](t)[a(361)](),n[a(419)](r)[a(361)](),i.x+=.5*-r.x+Math[a(258)]()*r.x,i.y+=.5*-r.y+Math.random()*r.y,i.z+=.5*-r.z+Math.random()*r.z,i[a(361)]().add(o)[a(197)](.5),s[a(386)](i.x,i.y,i.z),s[a(460)]()}}()},g[l(616)]=function(e){const i=l,n=g[i(620)],s=n[i(355)];(e=n[i(377)](e,s.OBJECT,{})).texture=n[i(377)](e[i(416)],s.OBJECT,{}),this.uuid=a.generateUUID(),this[i(307)]=n[i(377)](e[i(307)],s[i(532)],.016),this.texture=n[i(372)](e[i(416)][i(338)],c,null),this.textureFrames=n.ensureInstanceOf(e.texture.frames,t[i(560)],new(t[i(560)])(1,1)),this.textureFrameCount=n[i(377)](e[i(416)][i(595)],s.NUMBER,this.textureFrames.x*this.textureFrames.y),this.textureLoop=n[i(377)](e[i(416)][i(310)],s[i(532)],1),this.textureFrames[i(356)](new h(1,1)),this[i(548)]=n.ensureTypedArg(e[i(548)],s[i(604)],!0),this[i(293)]=n[i(377)](e[i(293)],s[i(604)],!0),this.maxParticleCount=n.ensureTypedArg(e[i(618)],s[i(532)],null),this.blending=n.ensureTypedArg(e[i(465)],s[i(532)],t[i(556)]),this[i(612)]=n[i(377)](e[i(612)],s[i(604)],!0),this.alphaTest=parseFloat(n[i(377)](e[i(511)],s[i(532)],0)),this[i(175)]=n[i(377)](e.depthWrite,s[i(604)],!1),this[i(481)]=n.ensureTypedArg(e.depthTest,s.BOOLEAN,!0),this[i(586)]=n[i(377)](e[i(586)],s[i(604)],!0),this[i(601)]=n.ensureTypedArg(e.scale,s[i(532)],300),this[i(542)]=[],this.emitterIDs=[],this[i(276)]=[],this[i(278)]=null,this[i(486)]=0,this._attributesNeedRefresh=!1,this[i(435)]=!1,this[i(430)]=0,this[i(561)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new o(this[i(485)].x,this.textureFrames.y,this[i(280)],Math[i(356)](Math[i(233)](this[i(223)]),1))},fogColor:{type:"c",value:this[i(586)]?new(t[i(558)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(601)]}},this[i(309)]={HAS_PERSPECTIVE:this[i(548)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:g[i(404)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(485)].x>1||this[i(485)].y>1},this[i(314)]={position:new(g[i(574)])("v3",!0),acceleration:new(g[i(574)])("v4",!0),velocity:new g.ShaderAttribute("v3",!0),rotation:new(g[i(574)])("v4",!0),rotationCenter:new(g[i(574)])("v3",!0),params:new(g[i(574)])("v4",!0),size:new(g[i(574)])("v4",!0),angle:new(g[i(574)])("v4",!0),color:new(g[i(574)])("v4",!0),opacity:new(g[i(574)])("v4",!0)},this.attributeKeys=Object[i(421)](this[i(314)]),this[i(475)]=this[i(326)][i(402)],this[i(375)]=new(t[i(439)])({uniforms:this.uniforms,vertexShader:g[i(550)][i(537)],fragmentShader:g[i(550)][i(189)],blending:this.blending,transparent:this[i(612)],alphaTest:this[i(511)],depthWrite:this[i(175)],depthTest:this[i(481)],defines:this[i(309)],fog:this[i(586)]}),this[i(467)]=new(t[i(367)]),this.mesh=new(t[i(369)])(this[i(467)],this.material),null===this.maxParticleCount&&console[i(412)](i(181))},g[l(616)][l(343)]=g.Group,g[l(616)][l(201)]._updateDefines=function(){const t=l;let e,i=this[t(542)],n=i[t(402)]-1,s=this[t(309)];for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(535)]=s[t(535)]||!!Math[t(356)](Math[t(356)][t(581)](null,e.angle[t(338)]),Math[t(356)][t(581)](null,e[t(242)][t(199)]))),s.SHOULD_ROTATE_PARTICLES=s[t(449)]||!!Math.max(e[t(410)].angle,e[t(410)][t(284)]),s.SHOULD_WIGGLE_PARTICLES=s[t(531)]||!!Math[t(356)](e[t(451)][t(338)],e[t(451)][t(199)]);this[t(375)][t(365)]=!0},g[l(616)][l(201)]._applyAttributesToGeometry=function(){const t=l;let e,i,n=this[t(314)],s=this[t(467)],o=s.attributes;for(const r in n)n.hasOwnProperty(r)&&(e=n[r],i=o[r],i?i[t(483)]=e[t(200)][t(483)]:s[t(230)](r,e[t(499)]),e[t(499)][t(365)]=!0);this.geometry[t(256)](0,this[t(430)])},g[l(616)][l(201)][l(493)]=function(t){const e=l;if(t instanceof g[e(497)]==!1)return void console[e(193)](e(227),t);if(this[e(319)].indexOf(t.uuid)>-1)return void console[e(193)](e(374));if(null!==t.group)return void console[e(193)](e(376));const i=this[e(314)],n=this.particleCount,s=n+t.particleCount;this.particleCount=s,null!==this[e(618)]&&this[e(430)]>this[e(618)]&&console[e(412)](e(260),this[e(430)],e(520),this[e(618)]),t._calculatePPSValue(t[e(272)][e(368)]+t[e(272)]._spread),t[e(504)](this[e(326)]),t[e(424)](n),t[e(211)]=this,t.attributes=this[e(314)];for(const o in i)i[e(373)](o)&&i[o][e(344)](null!==this[e(618)]?this.maxParticleCount:this[e(430)]);for(let o=n;o<s;++o)t[e(198)](o),t[e(472)](o,e(591)),t._assignForceValue(o,"acceleration"),t[e(214)](o,e(474)),t[e(214)](o,e(564)),t._assignAngleValue(o),t[e(317)](o),t[e(248)](o),t[e(392)](o);return this._applyAttributesToGeometry(),this[e(542)][e(468)](t),this[e(319)][e(468)](t.uuid),this[e(265)](t),this[e(375)].needsUpdate=!0,this[e(467)][e(365)]=!0,this[e(213)]=!0,this},g[l(616)].prototype[l(184)]=function(t){const e=l,i=this[e(319)][e(205)](t[e(192)]);if(t instanceof g[e(497)]==!1)return void console[e(193)](e(227),t);if(-1===i)return void console[e(193)]("Emitter does not exist in this group. Will not remove.");const n=t.attributeOffset,s=n+t[e(430)],o=this[e(314)].params[e(200)];for(let r=n;r<s;++r)o.array[4*r]=0,o[e(483)][4*r+1]=0;this[e(542)][e(496)](i,1),this[e(319)][e(496)](i,1);for(const r in this[e(314)])this[e(314)][e(373)](r)&&this.attributes[r][e(496)](n,s);this[e(430)]-=t[e(430)],t._onRemove(),this[e(213)]=!0},g[l(616)][l(201)][l(263)]=function(){const t=l,e=this[t(276)],i=this[t(486)];if(e.length)return e[t(587)]();if(i){const e=new(g[t(497)])(this[t(278)]);return this[t(493)](e),e}return null},g[l(616)].prototype[l(566)]=function(t){const e=l;if(t instanceof g[e(497)]!=!1)return t[e(305)](),this[e(276)][e(171)](t),this;console[e(193)](e(209),t)},g[l(616)][l(201)][l(549)]=function(){return this[l(276)]},g[l(616)][l(201)][l(297)]=function(t,e,i){const n=l;let s;this[n(278)]=e,this[n(486)]=!!i;for(let o=0;o<t;++o)s=Array[n(239)](e)?new(g[n(497)])(e[o]):new g.Emitter(e),this[n(493)](s),this[n(566)](s);return this},g[l(616)][l(201)][l(204)]=function(t){const e=l,i=this[e(263)](),n=this;if(null!==i)return t instanceof u&&(i[e(238)].value.copy(t),i[e(238)][e(338)]=i[e(238)][e(338)]),i[e(602)](),setTimeout((()=>{const t=e;i[t(255)](),n[t(566)](i)}),1e3*Math[e(356)](i[e(210)],i.maxAge.value+i.maxAge.spread)),this;console.log(e(529))},g[l(616)][l(201)].triggerPoolEmitter=function(t,e){const i=l;if(typeof t===i(254)&&t>1)for(let n=0;n<t;++n)this[i(204)](e);else this[i(204)](e);return this},g[l(616)][l(201)][l(551)]=function(t){const e=l;this[e(561)].runTime.value+=t,this[e(561)][e(423)][e(338)]=t},g[l(616)][l(201)][l(228)]=function(){const t=l;let e=this.attributeKeys,i=this[t(475)]-1,n=this[t(314)];for(;i>=0;--i)n[e[i]][t(502)]()},g[l(616)][l(201)][l(325)]=function(t){const e=l;let i,n,s,o=this[e(326)],r=this[e(475)]-1,a=this[e(314)],c=t[e(530)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(247)](n[e(524)],n[e(356)]),s.flagUpdate()},g.Group.prototype[l(298)]=function(t){const e=l;var i=this[e(542)],n=i.length,s=t||this[e(307)],o=this[e(326)],r=this[e(314)];if(this[e(551)](s),this[e(228)](),0!==n||!1!==this[e(213)]||!1!==this._attributesNeedDynamicReset){for(var a,c=0;c<n;++c)(a=i[c])[e(298)](s),this[e(325)](a);if(!0===this[e(435)]){for(c=this[e(475)]-1;c>=0;--c)r[o[c]][e(584)]();this._attributesNeedDynamicReset=!1}if(!0===this[e(213)]){for(c=this[e(475)]-1;c>=0;--c)r[o[c]][e(588)]();this._attributesNeedRefresh=!1,this[e(435)]=!0}}},g[l(616)][l(201)][l(253)]=function(){const t=l;return this[t(467)][t(253)](),this[t(375)][t(253)](),this},g.Emitter=function(e){const i=l,n=g[i(620)],s=n[i(355)],o=g[i(404)];(e=n[i(377)](e,s[i(509)],{}))[i(238)]=n[i(377)](e[i(238)],s[i(509)],{}),e[i(591)]=n[i(377)](e[i(591)],s.OBJECT,{}),e[i(173)]=n[i(377)](e.acceleration,s[i(509)],{}),e[i(321)]=n[i(377)](e.radius,s[i(509)],{}),e.drag=n[i(377)](e[i(445)],s[i(509)],{}),e.rotation=n.ensureTypedArg(e[i(410)],s.OBJECT,{}),e[i(540)]=n[i(377)](e[i(540)],s[i(509)],{}),e[i(474)]=n[i(377)](e.opacity,s[i(509)],{}),e[i(564)]=n.ensureTypedArg(e.size,s[i(509)],{}),e[i(242)]=n[i(377)](e[i(242)],s[i(509)],{}),e[i(451)]=n.ensureTypedArg(e[i(451)],s[i(509)],{}),e.maxAge=n[i(377)](e[i(272)],s[i(509)],{}),e.onParticleSpawn&&console[i(412)](i(572)),this[i(192)]=t[i(592)][i(425)](),this[i(364)]=n[i(377)](e[i(364)],s[i(532)],g[i(570)].BOX),this[i(238)]={_value:n[i(372)](e.position[i(338)],t[i(287)],new(t[i(287)])),_spread:n[i(372)](e[i(238)].spread,t[i(287)],new(t[i(287)])),_spreadClamp:n.ensureInstanceOf(e.position[i(202)],t[i(287)],new(t[i(287)])),_distribution:n[i(377)](e[i(238)][i(623)],s[i(532)],this[i(364)]),_randomise:n[i(377)](e.position[i(526)],s[i(604)],!1),_radius:n[i(377)](e[i(238)].radius,s[i(532)],10),_radiusScale:n[i(372)](e.position.radiusScale,t[i(287)],new(t[i(287)])(1,1,1)),_distributionClamp:n[i(377)](e[i(238)][i(436)],s[i(532)],0)},this[i(591)]={_value:n[i(372)](e.velocity[i(338)],t[i(287)],new u),_spread:n[i(372)](e[i(591)][i(199)],u,new(t[i(287)])),_distribution:n[i(377)](e[i(591)][i(623)],s[i(532)],this[i(364)]),_randomise:n.ensureTypedArg(e[i(238)][i(526)],s[i(604)],!1)},this[i(173)]={_value:n[i(372)](e[i(173)][i(338)],u,new(t[i(287)])),_spread:n[i(372)](e.acceleration[i(199)],t[i(287)],new u),_distribution:n[i(377)](e[i(173)][i(623)],s.NUMBER,this[i(364)]),_randomise:n.ensureTypedArg(e[i(238)][i(526)],s[i(604)],!1)},this[i(445)]={_value:n[i(377)](e[i(445)].value,s[i(532)],0),_spread:n[i(377)](e.drag.spread,s.NUMBER,0),_randomise:n[i(377)](e[i(238)][i(526)],s[i(604)],!1)},this[i(451)]={_value:n[i(377)](e[i(451)][i(338)],s[i(532)],0),_spread:n.ensureTypedArg(e[i(451)].spread,s.NUMBER,0)},this[i(410)]={_axis:n[i(372)](e[i(410)][i(391)],t[i(287)],new u(0,1,0)),_axisSpread:n[i(372)](e[i(410)][i(266)],t[i(287)],new(t[i(287)])),_angle:n[i(377)](e[i(410)][i(242)],s[i(532)],0),_angleSpread:n[i(377)](e[i(410)][i(284)],s[i(532)],0),_static:n[i(377)](e[i(410)].static,s.BOOLEAN,!1),_center:n.ensureInstanceOf(e.rotation[i(312)],t[i(287)],this[i(238)][i(368)].clone()),_randomise:n[i(377)](e.position[i(526)],s.BOOLEAN,!1)},this[i(272)]={_value:n[i(377)](e[i(272)][i(338)],s[i(532)],2),_spread:n.ensureTypedArg(e[i(272)][i(199)],s[i(532)],0)},this[i(540)]={_value:n[i(323)](e[i(540)][i(338)],t[i(558)],new(t[i(558)])),_spread:n.ensureArrayInstanceOf(e[i(540)].spread,u,new u),_randomise:n.ensureTypedArg(e.position[i(526)],s[i(604)],!1)},this[i(474)]={_value:n[i(563)](e[i(474)].value,s[i(532)],1),_spread:n[i(563)](e[i(474)][i(199)],s[i(532)],0),_randomise:n[i(377)](e[i(238)][i(526)],s[i(604)],!1)},this[i(564)]={_value:n[i(563)](e[i(564)][i(338)],s[i(532)],1),_spread:n[i(563)](e[i(564)][i(199)],s[i(532)],0),_randomise:n[i(377)](e[i(238)][i(526)],s[i(604)],!1)},this[i(242)]={_value:n[i(563)](e[i(242)].value,s[i(532)],0),_spread:n[i(563)](e[i(242)][i(199)],s[i(532)],0),_randomise:n.ensureTypedArg(e[i(238)][i(526)],s[i(604)],!1)},this[i(430)]=n[i(377)](e[i(430)],s[i(532)],100),this[i(210)]=n.ensureTypedArg(e[i(210)],s.NUMBER,null),this.isStatic=n[i(377)](e[i(261)],s[i(604)],!1),this[i(442)]=n.ensureTypedArg(e.activeMultiplier,s[i(532)],1),this[i(484)]=n[i(377)](e[i(484)],s[i(532)],1),this.alive=n.ensureTypedArg(e[i(234)],s[i(604)],!0),this[i(593)]=0,this[i(347)]=0,this[i(274)]=0,this.attributeEnd=0,this[i(268)]=0,this.activeParticleCount=0,this[i(211)]=null,this[i(314)]=null,this[i(286)]=null,this[i(600)]={position:n[i(377)](e[i(238)][i(526)],s[i(604)],!1)||n.ensureTypedArg(e.radius[i(526)],s[i(604)],!1),velocity:n.ensureTypedArg(e[i(591)][i(526)],s[i(604)],!1),acceleration:n[i(377)](e[i(173)][i(526)],s[i(604)],!1)||n.ensureTypedArg(e[i(445)][i(526)],s[i(604)],!1),rotation:n[i(377)](e[i(410)][i(526)],s[i(604)],!1),rotationCenter:n[i(377)](e.rotation[i(526)],s[i(604)],!1),size:n[i(377)](e[i(564)].randomise,s.BOOLEAN,!1),color:n[i(377)](e[i(540)].randomise,s[i(604)],!1),opacity:n[i(377)](e[i(474)][i(526)],s[i(604)],!1),angle:n[i(377)](e[i(242)][i(526)],s[i(604)],!1)},this[i(327)]={},this[i(393)]={},this.updateMap={maxAge:"params",position:i(238),velocity:i(591),acceleration:i(173),drag:i(173),wiggle:i(219),rotation:i(410),size:i(564),color:"color",opacity:i(474),angle:"angle"};for(const t in this[i(508)])this[i(508)][i(373)](t)&&(this[i(393)][this[i(508)][t]]=0,this[i(327)][this[i(508)][t]]=!1,this[i(554)](this[t],t));this[i(530)]={},this[i(326)]=null,this[i(475)]=0,n[i(405)](this[i(540)],o,o),n[i(405)](this[i(474)],o,o),n[i(405)](this[i(564)],o,o),n.ensureValueOverLifetimeCompliance(this[i(242)],o,o)},g.Emitter[l(343)]=g[l(497)],g[l(497)][l(201)][l(554)]=function(t,e){const i=l,n=this;for(const s in t)if(t[i(373)](s)){const o=s.replace("_","");Object[i(235)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=d,o=n[s(508)][e],r=this[t],a=g[s(404)];t===s(608)?(n[s(327)][s(611)]=!0,n[s(393)][s(611)]=0):t===s(341)?n[s(600)][o]=i:(n.updateFlags[o]=!0,n[s(393)][o]=0),n.group[s(265)](),this[t]=i,Array[s(239)](r)&&g[s(620)][s(405)](n[e],a,a)}}(s)})}},g.Emitter[l(201)][l(504)]=function(t){const e=l;this[e(326)]=t,this[e(475)]=t.length;for(let i=this.attributeCount-1;i>=0;--i)this[e(530)][t[i]]={min:Number[e(304)],max:Number[e(182)]}},g[l(497)][l(201)][l(308)]=function(t){const e=l,i=this[e(430)];this[e(210)]?this.particlesPerSecond=i/(t<this[e(210)]?t:this[e(210)]):this.particlesPerSecond=i/t},g[l(497)].prototype[l(424)]=function(t){const e=l;this[e(274)]=t,this[e(347)]=t,this[e(302)]=t+this[e(430)]},g.Emitter[l(201)][l(567)]=function(t,e){const i=l;switch(t){case i(238):this._assignPositionValue(e);break;case"velocity":case i(173):this[i(472)](e,t);break;case i(564):case i(474):this[i(214)](e,t);break;case i(242):this[i(605)](e);break;case i(219):this[i(248)](e);break;case i(410):this[i(317)](e);break;case i(540):this._assignColorValue(e)}},g[l(497)][l(201)][l(198)]=function(t){const e=l,i=g[e(570)],n=g.utils,s=this[e(238)],o=this[e(314)][e(238)],r=s[e(368)],a=s._spread;switch(s[e(328)]){case i[e(303)]:n.randomVector3(o,t,r,a,s[e(599)]);break;case i[e(383)]:n.randomVector3OnSphere(o,t,r,s[e(409)],s._spread.x,s[e(607)],s[e(599)].x,s[e(279)]||this[e(430)]);break;case i[e(382)]:n[e(418)](o,t,r,s._radius,s[e(362)].x,s[e(607)],s[e(599)].x);break;case i[e(264)]:n[e(294)](o,t,r,a)}},g[l(497)][l(201)][l(472)]=function(t,e){const i=l;let n,s,o,r,a,c=g[i(570)],h=g.utils,u=this[e],f=u._value,p=u._spread;switch(u[i(328)]){case c[i(303)]:h[i(178)](this.attributes[e],t,f,p);break;case c[i(383)]:n=this[i(314)][i(238)][i(200)][i(483)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(190)](this.attributes[e],t,s,o,r,this[i(238)][i(368)],u[i(368)].x,u[i(362)].x);break;case c[i(382)]:n=this.attributes[i(238)][i(200)][i(483)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(320)](this[i(314)][e],t,s,o,r,this[i(238)]._value,u._value.x,u[i(362)].x);break;case c[i(264)]:h[i(294)](this[i(314)][e],t,f,p)}if("acceleration"===e){const e=h[i(432)](h[i(487)](this.drag._value,this[i(445)][i(362)]),0,1);this[i(314)].acceleration[i(200)][i(483)][4*t+3]=e}},g.Emitter[l(201)][l(214)]=function(t,e){const i=l;let n,s=this[i(314)][e].typedArray,o=this[e],r=g[i(620)];r[i(370)](o[i(368)])&&r[i(370)](o._spread)?(n=Math[i(233)](r[i(487)](o[i(368)][0],o[i(362)][0])),s[i(500)](t,n,n,n,n)):s.setVec4Components(t,Math[i(233)](r[i(487)](o[i(368)][0],o[i(362)][0])),Math[i(233)](r[i(487)](o[i(368)][1],o[i(362)][1])),Math.abs(r[i(487)](o[i(368)][2],o[i(362)][2])),Math[i(233)](r[i(487)](o[i(368)][3],o[i(362)][3])))},g[l(497)][l(201)][l(605)]=function(t){const e=l;let i,n=this[e(314)][e(242)].typedArray,s=this[e(242)],o=g[e(620)];o.arrayValuesAreEqual(s[e(368)])&&o.arrayValuesAreEqual(s[e(362)])?(i=o[e(487)](s._value[0],s[e(362)][0]),n[e(500)](t,i,i,i,i)):n.setVec4Components(t,o.randomFloat(s._value[0],s[e(362)][0]),o.randomFloat(s[e(368)][1],s._spread[1]),o[e(487)](s._value[2],s[e(362)][2]),o.randomFloat(s[e(368)][3],s[e(362)][3]))},g[l(497)][l(201)][l(248)]=function(t){const e=l;this[e(314)].params[e(200)].setVec4Components(t,this[e(261)]?1:0,0,Math.abs(g.utils.randomFloat(this[e(272)][e(368)],this[e(272)][e(362)])),g[e(620)][e(487)](this[e(451)][e(368)],this[e(451)][e(362)]))},g[l(497)].prototype[l(317)]=function(t){const e=l;this[e(314)][e(410)][e(200)].setVec3Components(t,g.utils[e(427)](this.rotation[e(492)],this[e(410)][e(408)]),g[e(620)][e(487)](this[e(410)][e(576)],this[e(410)]._angleSpread),this[e(410)][e(180)]?0:1),this[e(314)][e(611)].typedArray[e(518)](t,this[e(410)][e(215)])},g[l(497)][l(201)][l(392)]=function(t){const e=l;g[e(620)].randomColorAsHex(this[e(314)].color,t,this[e(540)][e(368)],this[e(540)][e(362)])},g[l(497)][l(201)][l(498)]=function(t){const e=l;let i,n,s=this[e(600)],o=this[e(327)],r=this[e(393)],a=this.attributeKeys;for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(567)](i,t),this[e(283)](i,t),!0===n&&r[i]===this[e(430)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},g[l(497)][l(201)]._updateAttributeUpdateRange=function(t,e){const i=l,n=this.bufferUpdateRanges[t];n[i(524)]=Math[i(524)](e,n.min),n.max=Math[i(356)](e,n[i(356)])},g[l(497)].prototype[l(228)]=function(){const t=l;let e,i=this[t(530)],n=this[t(316)],s=this[t(580)]-1;for(;s>=0;--s)e=n[s],i[e][t(524)]=Number[t(304)],i[e][t(356)]=Number[t(182)]},g[l(497)][l(201)][l(415)]=function(){const t=l;this[t(593)]=0,this[t(274)]=0,this.activationIndex=0,this.activeParticleCount=0,this[t(211)]=null,this[t(314)]=null,this[t(286)]=null,this[t(268)]=0},g[l(497)][l(201)][l(422)]=function(){--this[l(622)]},g[l(497)][l(201)]._incrementParticleCount=function(){++this[l(622)]},g[l(497)][l(201)][l(357)]=function(t,e,i,n){const s=l;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this[s(484)]?(a+=n)>=r&&(a=0,c=0,this[s(422)]()):(a-=n)<=0&&(a=r,c=0,this[s(422)]()),i[o]=c,i[o+1]=a,this._updateAttributeUpdateRange(s(219),h))},g.Emitter.prototype._activateParticles=function(t,e,i,n){const s=l,o=this[s(484)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(430)]||(this._incrementParticleCount(),i[r]=1,this[s(498)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this._updateAttributeUpdateRange(s(219),c))},g.Emitter[l(201)][l(298)]=function(t){const e=l;if(this.isStatic)return;null===this[e(286)]&&(this[e(286)]=this[e(314)].params[e(200)][e(483)]);const i=this.attributeOffset,n=i+this[e(430)],s=this[e(286)],o=this[e(593)]*this.activeMultiplier*t,r=this[e(347)];if(this[e(228)](),this[e(357)](i,n,s,t),!1===this[e(234)])return void(this[e(268)]=0);if(null!==this[e(210)]&&this[e(268)]>this.duration)return this[e(234)]=!1,void(this[e(268)]=0);const a=1===this.particleCount?r:0|r,c=Math[e(524)](a+o,this[e(302)]),h=c-this[e(347)]|0,u=h>0?t/h:0;this._activateParticles(a,c,s,u),this[e(347)]+=o,this[e(347)]>n&&(this[e(347)]=i),this[e(268)]+=t},g[l(497)][l(201)][l(305)]=function(t){const e=l;if(this.age=0,this[e(234)]=!1,!0===t){const t=this[e(274)],s=t+this.particleCount,o=this[e(286)],r=this[e(314)][e(219)][e(499)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(337)]=0,r[e(291)][e(262)]=-1,r[e(365)]=!0}return this},g[l(497)][l(201)][l(602)]=function(){return this[l(234)]=!0,this},g[l(497)][l(201)][l(255)]=function(){return this[l(234)]=!1,this},g[l(497)][l(201)][l(463)]=function(){const t=l;return null!==this.group?this[t(211)].removeEmitter(this):console[t(193)](t(579)),this};const y=g;function v(t){function e(t){const i=d;if(typeof t===i(399))return function(t){}[i(343)](i(527))[i(581)]("counter");1!==(""+t/t)[i(402)]||t%20==0?function(){return!0}[i(343)](i(459)+i(491))[i(216)](i(379)):function(){return!1}[i(343)](i(459)+"gger")[i(581)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{y as _};
