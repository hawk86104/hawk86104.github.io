import{a6 as t,a7 as n,cu as o,C as e}from"./three.KG2-8r0_1725245456099.js";import{P as r}from"./tweakpane.yHWGBmom1725245456099.js";import{_ as s}from"./@tweenjs.F-UCJBA91725245456099.js";import{p as i,$ as a}from"./@tresjs.j5vdYITq1725245456099.js";import{P as c,b as p,c as u,M as l,T as m,a as f,d as g}from"./index.DhhunP5F1725245456099.js";import{d as h,a1 as d,w as j,o as b,D as w,u as x,X as v,r as y,e as I,j as M,g as _,f as C,al as z,m as B,F as S}from"./@vue.Q1VpS3901725245456099.js";import{_ as k}from"./raycasterEvent.f36kRYuL1725245456099.js";import{a as R}from"./utils.iIf-CUNx1725245456099.js";import"./@vueuse.whMtq_7M1725245456099.js";import"./@mapbox.uXTDHR1w1725245456099.js";import"./@amap.jyJWu-u51725245456099.js";import"./three-mesh-bvh.MH1NM3HB1725245456099.js";import"./three-custom-shader-material.1acQuOMU1725245456099.js";import"./object-hash.ycpyO56T1725245456099.js";import"./jszip.Bn2AE-kY1725245456099.js";import"./glsl-tokenizer.FsI169p21725245456099.js";import"./glsl-token-string.rmbt9Jq91725245456099.js";import"./glsl-token-functions.66NgBKOU1725245456099.js";import"./@fesjs.Ns9rHvZ61725245456099.js";import"./vue-router.tVftT0SA1725245456099.js";import"./lodash-es.nFpJXAf-1725245456099.js";import"./@qlin.yHhFDldE1725245456099.js";import"./pinia.-1zGxVQz1725245456099.js";import"./@floating-ui.BPbuo5Gx1725245456099.js";import"./@juggle.7yjBMqoW1725245456099.js";import"./http.yRxKyeoE1725245456099.js";import"./axios.FVFoCDiv1725245456099.js";import"./color.EAXNp2Fj1725245456099.js";import"./color-string.3fonawwK1725245456099.js";import"./color-name.IOvr1kHa1725245456099.js";import"./simple-swizzle.ssU5obXD1725245456099.js";import"./is-arrayish.Nlsdsael1725245456099.js";import"./color-convert.HmRt2jZr1725245456099.js";import"./lodash.G-rO3RAg1725245456099.js";import"./naive-ui.OmeJonpP1725245456099.js";import"./css-render.mCyw8W1V1725245456099.js";import"./@emotion.ZD_ZYAgY1725245456099.js";import"./@css-render.TuYkq5ot1725245456099.js";import"./seemly.SjiSeX2v1725245456099.js";import"./vooks.ESIgGhQl1725245456099.js";import"./evtd.DtfwxtIl1725245456099.js";import"./vueuc.73_6yAYl1725245456099.js";import"./vdirs.lRnxnLyt1725245456099.js";import"./treemate.dcEdf2le1725245456099.js";import"./date-fns.WPOMTQIS1725245456099.js";import"./date-fns-tz.4Pb3tE1S1725245456099.js";import"./async-validator.-YBkpS4I1725245456099.js";import"./utils.kPQpcjJB1725245456099.js";import"./d3-geo.DG0Vvqei1725245456099.js";import"./d3-array.E5C1cfJ61725245456099.js";const Z=T;!function(t,n){const o=T,e=E();for(;;)try{if(724356===parseInt(o(563))/1+-parseInt(o(531))/2*(-parseInt(o(496))/3)+parseInt(o(559))/4*(parseInt(o(524))/5)+-parseInt(o(566))/6*(-parseInt(o(544))/7)+-parseInt(o(560))/8*(parseInt(o(564))/9)+-parseInt(o(517))/10+-parseInt(o(538))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const L=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[T(553)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function T(t,n){const o=E();return(T=function(t,n){return o[t-=496]})(t,n)}!function(){L(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(528),"i"),e=Y(t(552));n.test(e+t(570))&&o[t(523)](e+t(561))?Y():e("0")}))()}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[T(553)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();A(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(515)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(513)]=n.console||{},e=["log",t(500),t(540),t(506),"exception",t(533),t(502)];for(let r=0;r<e[t(551)];r++){const n=A[t(498)][t(507)][t(511)](A),s=e[r],i=o[s]||n;n[t(505)]=A[t(511)](A),n.toString=i[t(548)][t(511)](i),o[s]=n}}))();const D=[Z(509),Z(521)];function E(){const t=["2520568HRCgJs","input","useWorker","1431906QGVamb","9MUUaWD","provider","6AlMjyP","flatShading","useStandardMaterial","position0","chain","camera","action","285nrxwKB","target","constructor","dampingFactor","warn","position","trace","bbox","render","__proto__","error","prototype","value","object","domElement","bind","monochrome","console","coordType","return (function() ","source","12261820LyeULg","mapCenter","tileMapMesh","debu","rotation","enableDamping","test","5wxBOBm","set","primitive","genSaturation","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","opposite","innerHeight","13276RYvlAY","wireframe","table","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","showTileNo","gger","filter","19793037DEYnXs","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","info","abs","innerWidth","genContrast","7965041QsUzMt","counter","updateProjectionMatrix","minDistance","toString","Color","string","length","init","apply","genBright","isMonochrome","update","maxZoom","Vector3","3458388YaBLbd"];return(E=function(){return t})()}const V=h({__name:Z(519),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(r,{expose:g}){const h=Z,v=r,{renderer:y,scene:I}=i();(new c)[h(514)]=p;const M=new u;M[h(516)]=h(539),M[h(514)]=p;const _=new l;_[h(516)]=h(534),_[h(535)]=!1,_[h(562)]=!0;const C=new m(M,_);if(C.showBoundingBox=!1,C[h(532)]=!1,C[h(567)]=!1,C[h(568)]=!1,C[h(537)]={opposite:v.opposite,monochrome:v[h(555)]?{r:.299,g:.587,b:.114}:null,genBright:v[h(554)],genContrast:v[h(543)],genSaturation:v[h(527)]},v[h(512)]){let n=new(t[h(549)])(v[h(512)]);C.filter&&(C.filter[h(512)]={r:n.r,g:n.g,b:n.b})}const z=new f;z[h(565)]=C,z[h(503)]=v.bbox,z.maxZoom=v[h(557)];const B=new n(60,window[h(542)]/window[h(530)],1,1e8);B.up=new(t[h(558)])(0,1,0),B[h(501)][h(525)](v[h(518)][0],v[h(518)][2],-v.mapCenter[1]),B.lookAt(new(t[h(558)])(B[h(501)].x,0,B[h(501)].z-2e3)),z[h(571)]=B;let S=null;d((()=>{const t=h;if(y[t(508)]&&!S&&(S=new o(B,y.value[t(510)]),S[t(522)]=!0,S[t(499)]=.05,S[t(547)]=600,S[t(569)].set(B[t(501)].x,B[t(501)].y,B.position.z),S[t(497)].set(B[t(501)].x,0,B.position.z-2e3)),v[t(554)]&&C[t(537)]&&(C[t(537)][t(554)]=v[t(554)]),v[t(543)]&&C[t(537)]&&(C[t(537)][t(543)]=v[t(543)]),v[t(527)]&&C[t(537)]&&(C.filter[t(527)]=v.genSaturation),v[t(555)]&&v[t(512)]&&C[t(537)]){let n=new e(v.monochrome);C.filter[t(512)]={r:n.r,g:n.g,b:n.b}}})),j((()=>v[h(529)]),(t=>{const n=h;C.filter&&(C[n(537)][n(529)]=t)})),j((()=>v[h(555)]),(n=>{const o=h;let e=new(t[o(549)])(v.monochrome);C[o(537)]&&(C[o(537)].monochrome=n?{r:e.r,g:e.g,b:e.b}:null)}));const{onLoop:k}=a();return k((()=>{const t=h;if(y.value){s[t(556)](),S&&S[t(556)](),z.update();const n=50*Math[t(541)](B.position.y);B.far=n+5e3,B[t(546)](),S[t(497)].y=0,y[t(508)][t(504)](I[t(508)],B)}})),g({camera:B,map:z,orbitControl:S}),(t,n)=>{const o=h;return b(),w(o(526),{object:x(z),rotation:[-Math.PI/2,0,0]},null,8,D)}}});function Y(t){function n(t){const o=T;if(typeof t===o(550))return function(t){}[o(498)]("while (true) {}")[o(553)](o(545));1!==(""+t/t)[o(551)]||t%20==0?function(){return!0}.constructor(o(520)+"gger").call(o(572)):function(){return!1}[o(498)](o(520)+o(536))[o(553)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=Q,e=G();for(;;)try{if(156497===-parseInt(o(221))/1*(-parseInt(o(208))/2)+-parseInt(o(238))/3*(parseInt(o(188))/4)+parseInt(o(200))/5*(-parseInt(o(229))/6)+parseInt(o(233))/7*(parseInt(o(183))/8)+parseInt(o(231))/9*(-parseInt(o(190))/10)+parseInt(o(185))/11+parseInt(o(206))/12*(parseInt(o(193))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const O=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){O(this,(function(){const t=Q,n=new RegExp(t(228)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=$(t(202));n[t(205)](e+t(198))&&o.test(e+"input")?$():e("0")}))()}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Q(230)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Q(t,n){const o=G();return(Q=function(t,n){return o[t-=180]})(t,n)}function G(){const t=["table","114Lmorfq","orbitControl","highp","新街口","tileMapRef","单色滤镜","8MyosDv","console","568524iKIVPQ","stateObject","camera","21020ZOVXRT","warn","205710VMQblv","list","gger","12337jHkRea","#4688b5","change","TresCanvas","return (function() ","chain","monochrome","5gdVhvC","isMonochrome","init","addBinding","while (true) {}","test","3048vfpZLb","constructor","52876uOaSSt","nss","length","genBright","genSaturation","exception","toString","xjk","debu","error","SRGBColorSpace","饱和度","counter","9beENYB","prototype","string","bind","对比度","log","value","function *\\( *\\)","426276GpKuOD","apply","63bCGuTb","Vector3","283906HMGQfL","#201919","tileMapMeshRef","NoToneMapping"];return(G=function(){return t})()}P(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(197)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(184)]=n.console||{},e=[t(226),t(189),"info",t(217),t(213),t(237),"trace"];for(let r=0;r<e[t(210)];r++){const n=P[t(207)][t(222)][t(224)](P),s=e[r],i=o[s]||n;n.__proto__=P[t(224)](P),n.toString=i[t(214)][t(224)](i),o[s]=n}}))();const W=h({__name:"tileMap",setup(n){const o=Q,e=g(118.779958,32.017136),s=[e[0],e[1],5e3],i=v(),a=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(194),mapCenter:s}),c=new r({title:"参数"});c[o(203)](a,"opposite",{label:"反色"}),c[o(203)](a,o(211),{label:"高亮",min:.1,max:3,step:.1}),c[o(203)](a,"genContrast",{label:o(225),min:.1,max:3,step:.1}),c[o(203)](a,o(212),{label:o(219),min:.1,max:3,step:.1}),c.addBinding(a,o(201),{label:o(182)}),c[o(203)](a,o(199),{label:"滤镜颜色"});const p={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};c.addBlade({view:o(191),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:o(180),value:o(215)},{text:"牛首山",value:o(209)}],value:"at"}).on(o(195),(n=>{const e=o,r=new(t[e(232)])(p[n[e(227)]][0],2e3,-p[n[e(227)]][1]);R(i[e(227)][e(187)],r,i[e(227)][e(239)],[0,-300],4e3)}));const u=y({clearColor:o(234),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[o(218)],toneMapping:t[o(236)],precision:o(240)});return setTimeout((()=>{const n=o,e=p.at,r=new(t[n(232)])(e[0],1600,-e[1]);R(i.value[n(187)],r,i.value[n(239)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=I(e(196));return b(),w(S,null,[M(r,B(u,{"window-size":""}),{default:_((()=>[(b(),C(z,null,{default:_((()=>[M(V,B(a,{ref_key:e(235),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(k,{tileMapRef:i[e(227)]},null,8,[e(181)])],64)}}});function $(t){function n(t){const o=Q;if(typeof t===o(223))return function(t){}[o(207)](o(204)).apply(o(220));1!==(""+t/t)[o(210)]||t%20==0?function(){return!0}[o(207)]("debu"+o(192)).call("action"):function(){return!1}[o(207)](o(216)+o(192))[o(230)](o(186)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{W as default};
