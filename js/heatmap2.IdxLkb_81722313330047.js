import{P as t}from"./tweakpane.yHWGBmom1722313330047.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.W9U2B9L51722313330047.js";import{_ as r}from"./heatmap.js-fix.qrxJ_Yar1722313330047.js";import{h as i,T as s,bV as c,M as u,a6 as a,B as p}from"./three.0L1oP_mX1722313330047.js";import{r as f}from"./utils.kZzAVceA1722313330047.js";import{d as l}from"./pinia.YMTINUAO1722313330047.js";import{b as h,d,a1 as m,o as g,D as y,J as v,u as b,F as w,q as I,U as _,N as j,P as x,H as E,L as z,a4 as A,r as D,j as M,g as O,m as R}from"./@vue.Q1VpS3901722313330047.js";import{c as S,d as T,a as Z}from"./three-mesh-bvh.Q4SF0_jl1722313330047.js";import{_ as k}from"./@fesjs.Tyv7j4eO1722313330047.js";import"./@tresjs.Q03Md-En1722313330047.js";import"./@vueuse.UFv615y21722313330047.js";import"./three-custom-shader-material.rXUjQmJB1722313330047.js";import"./object-hash.aoN2vIR61722313330047.js";import"./@amap.cDim55ZW1722313330047.js";import"./jszip.49pgsWkw1722313330047.js";import"./glsl-tokenizer.pGV5rb2g1722313330047.js";import"./glsl-token-string.u6gBgKVD1722313330047.js";import"./glsl-token-functions.VQWPL_na1722313330047.js";import"./vue-router.jRikjQi41722313330047.js";import"./lodash-es.nFpJXAf-1722313330047.js";import"./@qlin.yHhFDldE1722313330047.js";import"./@floating-ui.BPbuo5Gx1722313330047.js";import"./@juggle.7yjBMqoW1722313330047.js";function B(t,n){const e=L();return(B=function(t,n){return e[t-=114]})(t,n)}!function(t,n){const e=B,o=L();for(;;)try{if(500481===-parseInt(e(133))/1+parseInt(e(168))/2*(parseInt(e(166))/3)+parseInt(e(165))/4+parseInt(e(167))/5*(parseInt(e(143))/6)+-parseInt(e(119))/7+parseInt(e(144))/8+parseInt(e(117))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(129)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["test","input","setData","rgb(0,255,0)","height","exception","create","heatmap-canvas","body","debu","2045152RqIlAf","100125hOIwnu","5hGLiWw","2aKLedZ","randInt","__proto__","constructor","4208490SjBgPE","error","5772634RnsFVK","counter","rgb(0,0,255)","toString","return (function() ","stateObject","log","absolute","table","string","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"getValueAt","597681GEnWfZ","chain","bind","function *\\( *\\)","trace","gger","init","none","createElement","yellow","85182qUQVHj","7170832SjfqFR","call","console","info","length","action","style","appendChild","_config","while (true) {}","display"];return(L=function(){return t})()}!function(){F(this,(function(){const t=B,n=new RegExp(t(136)),e=new RegExp(t(130),"i"),o=$(t(139));n[t(155)](o+t(134))&&e[t(155)](o+t(156))?$():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(129)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=B;let n;try{n=Function(t(123)+t(131)+");")()}catch(r){n=window}const e=n.console=n[t(146)]||{},o=[t(125),"warn",t(147),t(118),t(160),t(127),t(137)];for(let i=0;i<o.length;i++){const n=P[t(116)].prototype[t(135)](P),r=o[i],s=e[r]||n;n[t(115)]=P[t(135)](P),n[t(122)]=s[t(122)][t(135)](s),e[r]=n}}))();const U=(t,n)=>t[B(132)](n)+-10;function $(t){function n(t){const e=B;if(typeof t===e(128))return function(t){}[e(116)](e(153))[e(129)](e(120));1!==(""+t/t)[e(148)]||t%20==0?function(){return!0}.constructor(e(164)+e(138))[e(145)](e(149)):function(){return!1}[e(116)](e(164)+e(138))[e(129)](e(124)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=C;function C(t,n){const e=N();return(C=function(t,n){return e[t-=200]})(t,n)}!function(t,n){const e=C,o=N();for(;;)try{if(121714===-parseInt(e(226))/1+-parseInt(e(209))/2*(parseInt(e(208))/3)+parseInt(e(222))/4+parseInt(e(224))/5*(-parseInt(e(212))/6)+parseInt(e(200))/7*(-parseInt(e(228))/8)+-parseInt(e(220))/9+-parseInt(e(207))/10*(-parseInt(e(214))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=C,n=new RegExp(t(215)),e=new RegExp(t(203),"i"),o=H(t(229));n[t(221)](o+t(206))&&e[t(221)](o+"input")?H():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(211)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=C,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(225)]=n[t(225)]||{},o=[t(201),"warn",t(223),t(204),"exception","table","trace"];for(let r=0;r<o[t(202)];r++){const n=V[t(227)][t(232)].bind(V),i=o[r],s=e[i]||n;n.__proto__=V[t(217)](V),n[t(219)]=s[t(219)].bind(s),e[i]=n}}))();const Y=l(q(205),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[C(231)]=n},setTemperature:function(t){n.value=t}}}));function H(t){function n(t){const e=C;if(typeof t===e(216))return function(t){}[e(227)](e(218))[e(211)](e(210));1!==(""+t/t)[e(202)]||t%20==0?function(){return!0}[e(227)](e(230)+e(213)).call("action"):function(){return!1}[e(227)](e(230)+"gger")[e(211)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function N(){const t=["while (true) {}","toString","582759ObGpoI","test","102816AnIXtp","info","10ZtMfYk","console","112026QUxNKC","constructor","59728sbIZTv","init","debu","value","prototype","91WuFuaL","log","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","buildingsHeatmap","chain","10TyiBEd","6mgCVHJ","87082ZzeIss","counter","apply","2814iCEdzn","gger","5036515CgABwT","function *\\( *\\)","string","bind"];return(N=function(){return t})()}const X=W;function J(){const t=["string","warn","call","applyMatrix4","ShaderMaterial","setTemperature","_config","4249565fNjhBc","$patch","needsUpdate","bind","counter","rotation-x","init","function *\\( *\\)","setShowDiv","450903oTdEzi","2638424vYjsdu","4iOOyFR","constructor","computeBoundsTree","matrix","1288263dMHDZX","width","mergeGeometries","toString","Mesh","opacity","normal","prototype","apply","数值———：","land","error","attributes","debu","action","value","log","trace","table","2106630TzQzJD","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","27XgYbtU","clone","stateObject","disposeBoundsTree","object","test","buildingsHeatmap","height","makeRotationX","return (function() ","canvas","info","4584153WJsIrN","length","geometry","raycast","uOpacity","DoubleSide","primitive","数值：","BufferGeometry","while (true) {}","console",'{}.constructor("return this")( )',"exception","gger","model","1937968YEDhrs","uniforms"];return(J=function(){return t})()}function W(t,n){const e=J();return(W=function(t,n){return e[t-=400]})(t,n)}!function(t,n){const e=W,o=J();for(;;)try{if(664360===-parseInt(e(435))/1+parseInt(e(411))/2+-parseInt(e(429))/3*(-parseInt(e(431))/4)+parseInt(e(420))/5+-parseInt(e(454))/6+-parseInt(e(468))/7+-parseInt(e(430))/8*(-parseInt(e(456))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(443)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=W,n=new RegExp(t(427)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ot(t(426));n[t(461)](o+"chain")&&e[t(461)](o+"input")?ot():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(443)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=W;let n;try{n=Function(t(465)+t(407)+");")()}catch(r){n=window}const e=n[t(406)]=n.console||{},o=["log",t(414),t(467),t(446),t(408),t(453),t(452)];for(let i=0;i<o[t(469)];i++){const n=Q[t(432)][t(442)][t(423)](Q),r=o[i],s=e[r]||n;n.__proto__=Q[t(423)](Q),n[t(438)]=s[t(438)][t(423)](s),e[r]=n}}))();const tt=[X(460),X(425)],nt=["object"],et=d({__name:X(462),props:{model:{},opacity:{default:1}},setup(t){const n=X;(()=>{const t=W;p[t(442)][t(433)]=S,a[t(404)][t(442)][t(459)]=T,a[t(439)][t(442)][t(471)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(141)](o(162));return i[o(150)].position=o(126),!e&&(i[o(150)][o(154)]=o(140)),i[o(150)].top="0",i[o(150)].left="0",document[o(163)][o(151)](i),r[o(161)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(121),.55:o(158),.85:o(142),1:"rgb(255,0,0)"}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(114)](1,t._config.width),y:i[e(114)](1,t[e(152)][e(159)]),value:i[e(114)](-10,36)}),o++}t[e(157)]({max:36,min:-10,data:n})})(o);const l=new s(o._renderer[n(466)]);l[n(422)]=!0;const h=e[n(410)].city.clone();delete h[n(470)].attributes[n(441)],delete h[n(470)][n(447)].uv;const d=h.geometry[n(457)]()[n(416)](h[n(434)]),I=e.model[n(445)][n(457)]();delete I[n(470)][n(447)].normal;const _=I.geometry[n(457)]()[n(416)](I[n(434)]),j=c[n(437)]([d,_]);j[n(416)]((new u)[n(464)](Math.PI/2)),f(j),j[n(433)]();const x=(t=>{const o=n;return new(a[o(417)])({vertexShader:o(455),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a[o(401)]})})(l),E=new(a[n(439)])(j,x);m((()=>{const t=n;e[t(440)]&&(x[t(412)][t(400)][t(450)]=e[t(440)])}));const z=Y(),A=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(436)],y:(1-t.uv.y)*o[e(419)][e(463)]};console[e(451)](e(403),t),console[e(451)](e(444),U(o,n)),z[e(418)](U(o,n))}},D=t=>{t&&z[n(421)]({showDiv:!0})},M=t=>{t&&z[n(428)](!1)};return(t,o)=>{const r=n;return g(),y(w,null,[v(r(402),{object:b(E),"rotation-x":-Math.PI/2,onPointerMove:A,onPointerEnter:D,onPointerLeave:M},null,40,tt),v("primitive",{object:e[r(410)][r(410)].children[0].clone()},null,8,nt)],64)}}});function ot(t){function n(t){const e=W;if(typeof t===e(413))return function(t){}.constructor(e(405))[e(443)](e(424));1!==(""+t/t)[e(469)]||t%20==0?function(){return!0}.constructor(e(448)+e(409))[e(415)](e(449)):function(){return!1}[e(432)](e(448)+e(409))[e(443)](e(458)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=k({__name:"dataDiv",setup(t){const n=Y(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:z(e.value)},"温度："+E(b(n).temperature)+"℃ ",5)),[[x,b(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=at;!function(t,n){const e=at,o=ut();for(;;)try{if(761665===-parseInt(e(442))/1*(parseInt(e(476))/2)+parseInt(e(437))/3*(-parseInt(e(446))/4)+parseInt(e(467))/5+parseInt(e(480))/6+-parseInt(e(473))/7*(parseInt(e(451))/8)+parseInt(e(462))/9+-parseInt(e(474))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){st(this,(function(){const t=at,n=new RegExp(t(445)),e=new RegExp(t(438),"i"),o=ft(t(444));n.test(o+"chain")&&e[t(477)](o+t(443))?ft():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(441)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(){const t=["init","function *\\( *\\)","44IdmtLO","stateObject","heatmap2","length","console","1000gqyohs","value","counter","opacity","addBinding","constructor",'{}.constructor("return this")( )',"bind","while (true) {}","toString","debu","5889771BdyOTD","trace","__proto__","string","city","6261375xrMncT","call","model","warn","builds","透明度","16394yTqyoy","10440260gANLuh","exception","18xGbkAC","test","return (function() ","log","7035978YJYqib","prototype","152721OoCAjl","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#000","gger","apply","46771wxGrpX","input"];return(ut=function(){return t})()}function at(t,n){const e=ut();return(at=function(t,n){return e[t-=437]})(t,n)}ct(void 0,(function(){const t=at;let n;try{n=Function(t(478)+t(457)+");")()}catch(r){n=window}const e=n[t(450)]=n[t(450)]||{},o=[t(479),t(470),"info","error",t(475),"table",t(463)];for(let i=0;i<o[t(449)];i++){const n=ct[t(456)][t(481)][t(458)](ct),r=o[i],s=e[r]||n;n[t(464)]=ct[t(458)](ct),n.toString=s[t(460)][t(458)](s),e[r]=n}}))();const pt=d({__name:it(448),async setup(r){const i=it;let s,c;const u=h(!1),a=([s,c]=A((()=>o())),s=await s,c(),s);u[i(452)]=!0;const p=D({width:1,color:i(439),opacity:1,show:!0}),f=D({opacity:.9});return new t({title:"参数",expanded:!0})[i(455)](f,i(454),{label:i(472),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(w,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:O((()=>[M(et,R({model:b(a)},f),null,16,[r(469)]),M(n,R(p,{builds:b(a)[r(466)]}),null,16,[r(471)])])),_:1}),M(rt)],64)}}});function ft(t){function n(t){const e=at;if(typeof t===e(465))return function(t){}[e(456)](e(459)).apply(e(453));1!==(""+t/t).length||t%20==0?function(){return!0}[e(456)](e(461)+e(440))[e(468)]("action"):function(){return!1}[e(456)](e(461)+e(440))[e(441)](e(447)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
