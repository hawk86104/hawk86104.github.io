import{r as t,N as e,d as n}from"./@tresjs.Xiq_TH801721048663624.js";import{P as r}from"./tweakpane.yHWGBmom1721048663624.js";import"./index.2meXtSIP1721048663624.js";import{a5 as s}from"./three.HEgnMaTu1721048663624.js";import{d as o,a3 as i,w as a,o as u,D as c,J as p,u as l,r as f,e as m,f as d,g as j,j as g,al as _,aj as h,ak as y,m as v}from"./@vue.ApkyOKE71721048663624.js";import{g as w}from"./utils.GKPbTxZF1721048663624.js";import{_ as b}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.V9wWavgb1721048663624.js";import"./@vueuse.2IVIyoVR1721048663624.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.ssr8PtJY1721048663624.js";import"./all.three.iV40_XbL1721048663624.js";import"./oimophysics.x0jH7fze1721048663624.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.5DNz-lxG1721048663624.js";import"./index.3f2gHe7y1721048663624.js";import"./three-stdlib.Bcxn6yVp1721048663624.js";import"./@pmndrs.jxJ3fman1721048663624.js";import"./object-hash.E5Z0NA4F1721048663624.js";import"./@amap.IXBtourJ1721048663624.js";import"./jszip.PK6xEuxJ1721048663624.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.yyF0hivw1721048663624.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.p7_2B-jb1721048663624.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.L9CntHVE1721048663624.js";import"./http.8GS5XwEw1721048663624.js";import"./axios.o4dqSy1c1721048663624.js";import"./pinia.gP9-G6bs1721048663624.js";import"./@fesjs.vljLn8mq1721048663624.js";import"./vue-router.v6lvLH0N1721048663624.js";import"./lodash-es.nFpJXAf-1721048663624.js";import"./@qlin.yHhFDldE1721048663624.js";import"./@floating-ui.BPbuo5Gx1721048663624.js";import"./@juggle.7yjBMqoW1721048663624.js";import"./color.HyAFK39s1721048663624.js";import"./color-string.J39Oaa8l1721048663624.js";import"./color-name.xgOPEjZu1721048663624.js";import"./simple-swizzle.qhrB0-mQ1721048663624.js";import"./is-arrayish.cNFFivA01721048663624.js";import"./color-convert.TWRrKmie1721048663624.js";import"./lodash.AYUmLz4U1721048663624.js";import"./naive-ui.uGEUBptd1721048663624.js";import"./css-render.NazKD5tP1721048663624.js";import"./@emotion.ZD_ZYAgY1721048663624.js";import"./@css-render.cyJIoW-Z1721048663624.js";import"./seemly.SjiSeX2v1721048663624.js";import"./vooks.mXCU6U_T1721048663624.js";import"./evtd.DtfwxtIl1721048663624.js";import"./vueuc.3qF0ch5S1721048663624.js";import"./vdirs.7ttRIEVn1721048663624.js";import"./date-fns.SY8n0yRO1721048663624.js";import"./treemate.dcEdf2le1721048663624.js";import"./date-fns-tz.YNK5w3a_1721048663624.js";import"./async-validator.-YBkpS4I1721048663624.js";import"./@tweenjs._ZWCNGal1721048663624.js";import"./utils.gFXkBUyz1721048663624.js";import"./three-mesh-bvh.wAcaRjKH1721048663624.js";import"./d3-geo.EkPiQVK-1721048663624.js";import"./d3-array.AhNJy1f41721048663624.js";function I(){const t=["44089720wuFyze","string","apply","return (function() ","116151vkziRo","closed","action","fewNum","TresMeshBasicMaterial","RepeatWrapping","stateObject","console","debu","args","init","repeat","toString","581338nFPQze","NearestFilter","#2bc4dc","color","217025IdRuHs","prototype","10669312eGfUcW","map","streamLine","length","bind","push","log","constructor","speed","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8737821ybpptZ","2xSEypf","table","offset","DoubleSide","call","function *\\( *\\)","trace","counter","test","error","wrapT","magFilter","set","gger","4058304KHfVLV","blending","clockwise","CatmullRomCurve3","534vZMvef","Vector3","info","3edlYjb","input","exception","AdditiveBlending","generateMipmaps"];return(I=function(){return t})()}const S=x;function x(t,e){const n=I();return(x=function(t,e){return n[t-=217]})(t,e)}!function(t,e){const n=x,r=I();for(;;)try{if(930081===-parseInt(n(226))/1*(parseInt(n(269))/2)+-parseInt(n(247))/3*(parseInt(n(240))/4)+-parseInt(n(273))/5+parseInt(n(244))/6*(-parseInt(n(256))/7)+-parseInt(n(275))/8+parseInt(n(225))/9+parseInt(n(252))/10)break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const z=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[x(254)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){z(this,(function(){const t=x,e=new RegExp(t(231)),n=new RegExp(t(224),"i"),r=B(t(266));e.test(r+t(223))&&n[t(234)](r+t(248))?B():r("0")}))()}();const k=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();k(void 0,(function(){const t=x,e=function(){const t=x;let e;try{e=Function(t(255)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(263)]=e[t(263)]||{},r=[t(220),"warn",t(246),t(235),t(249),t(227),t(232)];for(let s=0;s<r[t(217)];s++){const e=k[t(221)][t(274)][t(218)](k),o=r[s],i=n[o]||e;e.__proto__=k.bind(k),e[t(268)]=i.toString[t(218)](i),n[o]=e}}))();const C=[S(265)],M=[S(241),S(276),"side","alphaMap","color"],Z=o({__name:S(277),props:{color:{default:S(271)},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(n){const r=S;let o,f;const m=n,{map:d}=([o,f]=i((()=>e({map:"./plugins/digitalCity/image/line2.png"}))),o=await o,f(),o);d.needsUpdate=!0,d.wrapS=d[r(236)]=s[r(261)],d[r(267)][r(238)](m[r(259)],1),d.rotation=m[r(242)]?0:Math.PI,d[r(251)]=!1,d[r(237)]=s[r(270)];let j=[];m.linesList.forEach((t=>{const e=r;j[e(219)]((new(s[e(245)])).fromArray(t))}));const g=new(s[r(243)])(j),{onLoop:_}=t();return _((()=>{const t=r;d[t(228)].x+=.002*m[t(222)]})),a((()=>[m.clockwise,m[r(259)]]),(([t,e])=>{d.rotation=t?0:Math.PI,d.repeat.set(e,1)})),(t,e)=>{const n=r;return u(),c("TresMesh",null,[p("TresTubeGeometry",{args:[l(g),m.tubularSegments,m.radius,m.radialSegments,m[n(257)]]},null,8,C),p(n(260),{blending:s[n(250)],map:l(d),side:s[n(229)],alphaMap:l(d),transparent:!0,color:m[n(272)]},null,8,M)])}}});function B(t){function e(t){const n=x;if(typeof t===n(253))return function(t){}.constructor("while (true) {}")[n(254)](n(233));1!==(""+t/t).length||t%20==0?function(){return!0}[n(221)]("debugger")[n(230)](n(258)):function(){return!1}[n(221)](n(264)+n(239))[n(254)](n(262)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function L(){const t=["call","闭合管道","test","管道路径平滑","return (function() ","apply","373785ZBPpCC","console","function *\\( *\\)","speed","fewNum","36ACzZkI","顺时针流动","管道半径","clockwise","while (true) {}","string","1332232BOWBQn","closed","linesList","4DCyZcK","bind","流光颜色","radialSegments","length","color","552oCvWOs","addBinding","log","173110bNCEUB","376414YZwvva","exception","#201919","344XjcNsq","chain","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tubularSegments","58303aypaSf","120Eezsyz","warn","387DdZyrh","#bd01ff","TresCanvas","管道壁圆润","debu","trace","gger","table",'{}.constructor("return this")( )',"601406WocaOf","toString","prototype","10077pLRgJg","error"];return(L=function(){return t})()}!function(t,e){const n=D,r=L();for(;;)try{if(384406===parseInt(n(376))/1*(-parseInt(n(366))/2)+-parseInt(n(344))/3*(parseInt(n(379))/4)+-parseInt(n(352))/5*(-parseInt(n(357))/6)+parseInt(n(384))/7*(parseInt(n(372))/8)+parseInt(n(387))/9*(parseInt(n(375))/10)+parseInt(n(363))/11+-parseInt(n(385))/12*(parseInt(n(341))/13))break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const R=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[D(351)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=D,e=new RegExp(t(354)),n=new RegExp(t(382),"i"),r=N("init");e[t(348)](r+t(380))&&n.test(r+"input")?N():r("0")}))()}();const F=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[D(351)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();F(void 0,(function(){const t=D,e=function(){const t=D;let e;try{e=Function(t(350)+t(340)+");")()}catch(n){e=window}return e}(),n=e[t(353)]=e[t(353)]||{},r=[t(374),t(386),"info",t(345),t(377),t(339),t(337)];for(let s=0;s<r[t(370)];s++){const e=F.constructor[t(343)][t(367)](F),o=r[s],i=n[o]||e;e.__proto__=F[t(367)](F),e.toString=i[t(342)][t(367)](i),n[o]=e}}))();const A=p("TresPerspectiveCamera",{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1);function D(t,e){const n=L();return(D=function(t,e){return n[t-=334]})(t,e)}const E=o({__name:"streamLines",async setup(t){const e=D;let s,o;const a=f({reflectivity:.1,showGridHelper:!1,scale:5}),c=f({color:e(388),radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),p=new r;p[e(373)](c,e(371),{label:e(368)}),p[e(373)](c,"radius",{label:e(359),min:.01,max:1,step:.01}),p[e(373)](c,e(355),{label:"跑动速度",min:.1,max:10,step:.1}),p[e(373)](c,e(383),{label:e(349),min:1,max:100,step:1}),p[e(373)](c,e(369),{label:e(335),min:1,max:20,step:1}),p[e(373)](c,e(364),{label:e(347)}),p[e(373)](c,e(360),{label:e(358)}),p[e(373)](c,e(356),{label:"流线数量",min:1,max:10,step:1});const I=([s,o]=i((()=>w("./plugins/simpleGIS/json/320000_full.json"))),s=await s,o(),s);return(t,r)=>{const s=e,o=m(s(334));return u(),d(o,{clearColor:s(378),"window-size":""},{default:j((()=>[A,g(l(n),{enableDamping:"",autoRotate:""}),(u(),d(_,null,{default:j((()=>[g(Z,h(y(c)),null,16)])),_:1})),(u(),d(_,null,{default:j((()=>[g(Z,{linesList:l(I),position:[0,0,-4]},null,8,[s(365)])])),_:1})),(u(),d(_,null,{default:j((()=>[g(l(b),v({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function N(t){function e(t){const n=D;if(typeof t===n(362))return function(t){}[n(381)](n(361))[n(351)]("counter");1!==(""+t/t)[n(370)]||t%20==0?function(){return!0}[n(381)](n(336)+"gger")[n(346)]("action"):function(){return!1}[n(381)](n(336)+n(338))[n(351)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{E as default};
