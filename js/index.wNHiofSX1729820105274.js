var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.jjdbWlPE1729820105274.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.g4sCMavA1729820105274.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.51jynS3S1729820105274.js";import{k as o,U as s,C as l,m as c,W as u,bb as p,h as f,_ as x,M as v,V as m,Q as w,at as h}from"./three.0W5n8UBO1729820105274.js";import{p as g,U as y}from"./@tresjs.S6PXiQcG1729820105274.js";import{u as d}from"./index.WOSC_0fE1729820105274.js";import{F as S,C as _}from"./three-stdlib.ilpWY7x61729820105274.js";import{d as P}from"./@vue.bvMz0l_u1729820105274.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.ZKQvw9Gu1729820105274.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.oxHBkpj61729820105274.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.g9i3ADAy1729820105274.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.qtLf76RD1729820105274.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Qi9BNCp81729820105274.js";const z=I;!function(t,e){const n=I,r=M();for(;;)try{if(569382===-parseInt(n(197))/1*(parseInt(n(168))/2)+parseInt(n(173))/3*(parseInt(n(187))/4)+parseInt(n(175))/5+parseInt(n(202))/6*(-parseInt(n(183))/7)+parseInt(n(171))/8*(parseInt(n(176))/9)+-parseInt(n(203))/10+parseInt(n(181))/11*(parseInt(n(167))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function I(t,e){const n=M();return(I=function(t,e){return n[t-=167]})(t,e)}!function(){b(this,(function(){const t=I,e=new RegExp(t(170)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=L(t(194));e[t(200)](r+t(198))&&n.test(r+t(182))?L():r("0")}))()}();const E=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function M(){const t=["return (function() ","warn","length","69208OswBVv","action","stateObject","call","gger","console","trace","init","toString","log","1XLAJar","chain","constructor","test","info","4926396zxpaRw","782500zHdTwS","192CLfQIb","803948rznwxw","bind","function *\\( *\\)","32Zvsnpf","exception","30dFIQNV","apply","335180vWXAGU","1461006bVaVpV","debu",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"__proto__","error","674630gWdOHE","input","7bKtxms"];return(M=function(){return t})()}E(void 0,(function(){const t=I;let e;try{e=Function(t(184)+'{}.constructor("return this")( ));')()}catch(i){e=window}const n=e[t(192)]=e[t(192)]||{},r=[t(196),t(185),t(201),t(180),t(172),"table",t(193)];for(let a=0;a<r.length;a++){const e=E.constructor.prototype[t(169)](E),i=r[a],o=n[i]||e;e[t(179)]=E.bind(E),e[t(195)]=o.toString[t(169)](o),n[i]=e}}))();const A=z(178);function L(t){function e(t){const n=I;if("string"==typeof t)return function(t){}[n(199)]("while (true) {}")[n(174)]("counter");1!==(""+t/t)[n(186)]||t%20==0?function(){return!0}.constructor(n(177)+n(191))[n(190)](n(188)):function(){return!1}.constructor(n(177)+n(191))[n(174)](n(189)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const D=j;!function(t,e){const n=j,r=V();for(;;)try{if(468332===parseInt(n(411))/1*(-parseInt(n(415))/2)+-parseInt(n(402))/3+-parseInt(n(396))/4+-parseInt(n(404))/5+parseInt(n(384))/6*(-parseInt(n(399))/7)+parseInt(n(376))/8*(-parseInt(n(395))/9)+-parseInt(n(413))/10*(-parseInt(n(387))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const U=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(408)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function V(){const t=["constructor","action","init","8EbAoHy","return (function() ","exception","warn","length","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","__proto__","trace","315162MwDjEQ","function *\\( *\\)","counter","2442FMpiZu","string",'{}.constructor("return this")( )',"chain","console","test","while (true) {}","stateObject","1869471wPVgda","835392MGHFLP","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","49cULHSH","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","log","2781624MGzsWC","call","1546835zWEGRZ","toString","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","debu","apply","uniforms","info","1ZeRPAi","table","133310IqOigW","input","940638Nzkcnn","defines"];return(V=function(){return t})()}!function(){U(this,(function(){const t=j,e=new RegExp(t(385)),n=new RegExp(t(398),"i"),r=W(t(375));e[t(392)](r+t(390))&&n[t(392)](r+t(414))?W():r("0")}))()}();const O=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(408)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function j(t,e){const n=V();return(j=function(t,e){return n[t-=373]})(t,e)}function T(t){const e=j,n=a({},t);return e(416)in t&&(n[e(416)]=a({},t[e(416)])),"uniforms"in t&&(n[e(409)]=s.clone(t[e(409)])),n}O(void 0,(function(){const t=j,e=function(){const t=j;let e;try{e=Function(t(377)+t(389)+");")()}catch(n){e=window}return e}(),n=e[t(391)]=e.console||{},r=[t(401),t(379),t(410),"error",t(378),t(412),t(383)];for(let i=0;i<r[t(380)];i++){const e=O[t(373)].prototype[t(397)](O),a=r[i],o=n[a]||e;e[t(382)]=O.bind(O),e[t(405)]=o.toString[t(397)](o),n[a]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:D(406),fragmentShader:D(381)+A+D(400)};function W(t){function e(t){const n=j;if(typeof t===n(388))return function(t){}[n(373)](n(393))[n(408)](n(386));1!==(""+t/t)[n(380)]||t%20==0?function(){return!0}[n(373)](n(407)+"gger")[n(403)](n(374)):function(){return!1}.constructor(n(407)+"gger")[n(408)](n(394)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function C(t,e){const n=G();return(C=function(t,e){return n[t-=165]})(t,e)}const H=C;!function(t,e){const n=C,r=G();for(;;)try{if(942513===parseInt(n(201))/1*(parseInt(n(190))/2)+parseInt(n(187))/3+-parseInt(n(196))/4*(parseInt(n(221))/5)+parseInt(n(208))/6*(-parseInt(n(200))/7)+-parseInt(n(234))/8+-parseInt(n(195))/9*(parseInt(n(228))/10)+parseInt(n(180))/11)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const k=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){k(this,(function(){const t=C,e=new RegExp(t(197)),n=new RegExp(t(206),"i"),r=Q(t(168));e[t(194)](r+t(166))&&n.test(r+t(199))?Q():r("0")}))()}();const N=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(207)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();N(void 0,(function(){const t=C,e=function(){const t=C;let e;try{e=Function(t(167)+t(211)+");")()}catch(n){e=window}return e}(),n=e[t(193)]=e.console||{},r=["log","warn",t(215),t(224),t(227),t(212),"trace"];for(let i=0;i<r[t(203)];i++){const e=N[t(182)][t(226)][t(236)](N),a=r[i],o=n[a]||e;e.__proto__=N.bind(N),e[t(169)]=o.toString[t(236)](o),n[a]=e}}))();const F=new l;class Z{constructor(t){const e=C;!t&&(t=e(170));const n=T(R);n.fragmentShader=n.fragmentShader[e(223)](/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(T(n)),r[0][e(216)][e(230)]=0,r[0][e(216)][e(183)]=0,r[1]=new c(T(n)),r[1][e(216)][e(230)]=1,r[1][e(216)][e(183)]=0,r[2]=new c(T(n)),r[2][e(216)][e(230)]=0,r[2][e(216)][e(183)]=1,r[3]=new c(T(n)),r[3][e(216)].X_IS_EVEN=1,r[3][e(216)][e(183)]=1;const i=new u;i.texture.minFilter=p,i[e(186)][e(184)]=p,this._swapTarget=i,this[e(220)]=new S(new c(_)),this._mipQuad=new S(null),this[e(213)]=r}[H(177)](t,e,n,r=!1){const i=H;t.isWebGLRenderTarget&&(t=t[i(186)]);const o=n.autoClear,s=n.getClearAlpha(),l=n[i(225)]();n[i(185)](F);const c=this[i(220)],u=this[i(218)],p=this[i(235)],x=this[i(213)];let v,m;r?(v=f[i(188)](t[i(209)][i(205)]),m=f[i(188)](t[i(209)][i(173)])):(v=Math.floor(t[i(209)][i(205)]),m=Math[i(204)](t[i(209)][i(173)]));const w=Math[i(204)](1.5*v),h=Math[i(204)](m);e[i(239)](w,h),p[i(186)].type!==e.texture.type?(p[i(219)](),p.copy(e),p[i(186)][i(209)]=a({},p[i(186)][i(209)])):p[i(239)](w,h),n[i(189)]=!1,n.setClearColor(0),n[i(214)](),c.material[i(179)][i(202)][i(210)]=t,c.camera.setViewOffset(v,m,0,0,w,h),n[i(192)](e),n[i(191)](),c[i(181)](n),n[i(192)](p),n[i(191)](),c[i(181)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t[i(179)].map[i(210)]=p.texture,t[i(179)][i(238)][i(210)]=d,t[i(179)][i(237)][i(210)][i(176)](g,y),t[i(179)][i(240)][i(210)][i(176)](v,m),u[i(165)]=t,g=Math[i(204)](g/2),y=Math[i(204)](y/2);const r=h-2*y;n[i(192)](e),u[i(217)][i(231)](g,y,-v,-r,w,h),u[i(181)](n),n[i(192)](p),t[i(179)][i(222)].value=e[i(186)],u[i(181)](n),d++}return n.setRenderTarget(l),n[i(214)](s),n[i(171)](F),n[i(189)]=o,d+1}[H(219)](){const t=H;this[t(235)].dispose(),this[t(218)][t(219)](),this._copyQuad[t(219)](),this[t(213)][t(232)]((e=>e[t(219)]()))}}function G(){const t=["setViewOffset","forEach","counter","14378280iVWSff","_swapTarget","bind","parentMapSize","parentLevel","setSize","originalMapSize","material","chain","return (function() ","init","toString","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","setClearColor","call","height","stateObject","action","set","update","while (true) {}","uniforms","59177305WSUfCv","render","constructor","Y_IS_EVEN","magFilter","getClearColor","texture","1806798PfILYD","floorPowerOfTwo","autoClear","14YHGaOO","clear","setRenderTarget","console","test","697104eYfsSL","74428TiztLY","function *\\( *\\)","gger","input","14HCDWuw","9319nztEnR","tDiffuse","length","floor","width","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","5254206oPaBZd","image","value",'{}.constructor("return this")( )',"table","_mipMaterials","setClearAlpha","info","defines","camera","_mipQuad","dispose","_copyQuad","210EFORFm","map","replace","error","getRenderTarget","prototype","exception","100EmIlaG","string","X_IS_EVEN"];return(G=function(){return t})()}function Q(t){function e(t){const n=C;if(typeof t===n(229))return function(t){}[n(182)](n(178))[n(207)](n(233));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debugger")[n(172)](n(175)):function(){return!1}[n(182)]("debu"+n(198))[n(207)](n(174)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function Y(){const t=["counter","stateObject","buffers","lookAt","update","visible","474604veUVRj","clone","reflect","16335ZcyYRT","gger","negate","add","length","3pXIyOI","resolution","4146359BxqufR","constructor","debu","ignoreObjects","Vector4","depth","738975saLtlk","test","set","getWorldQuaternion","bind","updateMatrixWorld","getRenderTarget","283016VRKNod","sign","call","copy","console","while (true) {}","exception","2345058Tatili","render","elements","applyQuaternion","Matrix4","forEach","parent","setRenderTarget","normal","clear","Quaternion","2272938kRtQJG","trace","state","apply","matrixWorld","applyMatrix4","matrixWorldInverse","function *\\( *\\)",'{}.constructor("return this")( )',"UnsignedByteType","sub","PerspectiveCamera","getWorldPosition","toString","projectionMatrix","value","369GqHDyx","autoClear","return (function() ","Vector3","warn","init","multiply","input","projectPoint","error","prototype","chain","Plane","action","__proto__"];return(Y=function(){return t})()}function X(t,e){const n=Y();return(X=function(t,e){return n[t-=299]})(t,e)}!function(t,e){const n=X,r=Y();for(;;)try{if(632031===-parseInt(n(327))/1+-parseInt(n(341))/2+parseInt(n(319))/3*(parseInt(n(311))/4)+parseInt(n(314))/5+parseInt(n(352))/6+parseInt(n(321))/7+-parseInt(n(334))/8*(-parseInt(n(368))/9))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const $=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){$(this,(function(){const t=X,e=new RegExp(t(359)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=K(t(373));e[t(328)](r+t(301))&&n.test(r+t(375))?K():r("0")}))()}();const B=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[X(355)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();B(void 0,(function(){const t=X,e=function(){const t=X;let e;try{e=Function(t(370)+t(360)+");")()}catch(n){e=window}return e}(),n=e[t(338)]=e[t(338)]||{},r=["log",t(372),"info",t(299),t(340),"table",t(353)];for(let i=0;i<r[t(318)];i++){const e=B[t(322)][t(300)][t(331)](B),a=r[i],o=n[a]||e;e[t(304)]=B[t(331)](B),e[t(365)]=o.toString[t(331)](o),n[a]=e}}))();const J=P({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,r=t,i=new(x[n(302)]),a=new v,o=new(x[n(363)]),s=new Z,l=d({width:r[n(320)],height:r[n(320)],settings:{type:x[n(361)]}}),c=d({width:r.resolution,height:r.resolution,settings:{type:x[n(361)]}}),{camera:u,renderer:p,scene:f}=g(),{onBeforeLoop:S}=y();return S((()=>{const t=n;(()=>{const t=n;if(!u[t(367)])return;i[t(329)](new(x[t(371)])(0,1,0),0),i[t(357)](r[t(347)][t(356)]),o[t(337)](u.value);const e=new m(0,0,1)[t(312)]()[t(316)](),s=u.value[t(364)](new(x[t(371)]));e.reflect(i[t(349)]);const c=new(x[t(371)]);i[t(376)](s,c);const v=c[t(312)]();v.sub(s),v[t(317)](c),o.position[t(337)](v);const g=new(x[t(371)])(0,0,-1);g.applyQuaternion(u.value[t(330)](new w)),g[t(317)](s);const y=new(x[t(371)]);r[t(347)][t(364)](y),y[t(362)](g),y.reflect(i.normal)[t(316)](),y[t(317)](r.parent[t(364)](new(x[t(371)]))),o.up[t(329)](0,1,0),o[t(344)](u[t(367)][t(330)](new(x[t(351)]))),o.up[t(313)](i.normal),o[t(308)](y),o[t(332)]();const d=new(x[t(345)]);d[t(329)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(374)](o[t(366)]),d[t(374)](o[t(358)]),a[t(337)](d),i.applyMatrix4(o.matrixWorldInverse);const S=new h(i[t(349)].x,i[t(349)].y,i.normal.z,i.constant),_=o[t(366)],P=new(x[t(325)]);P.x=(Math.sign(S.x)+_[t(343)][8])/_[t(343)][0],P.y=(Math[t(335)](S.y)+_.elements[9])/_.elements[5],P.z=-1,P.w=(1+_[t(343)][10])/_[t(343)][14],S.multiplyScalar(2/S.dot(P)),_[t(343)][2]=S.x,_.elements[6]=S.y,_[t(343)][10]=S.z+1,_[t(343)][14]=S.w;const z=p[t(367)][t(333)]();p[t(367)][t(348)](l[t(367)]),p[t(367)][t(354)][t(307)][t(326)].setMask(!0),!1===p.value[t(369)]&&p[t(367)][t(350)](),r[t(324)][t(346)]((e=>e[t(310)]=!1)),p[t(367)][t(342)](f[t(367)],o),r[t(324)][t(346)]((e=>e[t(310)]=!0)),p[t(367)][t(348)](z)})(),l.value&&c[t(367)]&&p.value&&s[t(309)](l.value.texture,c.value,p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function K(t){function e(t){const n=X;if("string"==typeof t)return function(t){}.constructor(n(339)).apply(n(305));1!==(""+t/t)[n(318)]||t%20==0?function(){return!0}[n(322)](n(323)+n(315))[n(336)](n(303)):function(){return!1}[n(322)](n(323)+n(315))[n(355)](n(306)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=nt,r=et();;)try{if(984051===-parseInt(n(268))/1+-parseInt(n(274))/2*(parseInt(n(287))/3)+parseInt(n(270))/4*(-parseInt(n(272))/5)+parseInt(n(269))/6+-parseInt(n(271))/7+parseInt(n(267))/8*(-parseInt(n(280))/9)+parseInt(n(276))/10*(parseInt(n(283))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var q=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[nt(289)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){var t=nt,e=new RegExp(t(275)),n=new RegExp(t(273),"i"),r=rt(t(294));e[t(288)](r+"chain")&&n[t(288)](r+"input")?rt():r("0")}))()}();var tt=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[nt(289)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function et(){var t=["82BNEWyb","function *\\( *\\)","25550KHGonx","string","length","bind","9QmjFoZ","counter","call","18667ZeDENI","prototype","console","while (true) {}","36210mNNMON","test","apply","gger","constructor","debu","warn","init","return (function() ","error","info","toString","trace","action","13819144ejWtul","361621ToBBaL","4952184WFGijf","450764tpJkCh","7997500EhEceJ","20TRVtQP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(et=function(){return t})()}function nt(t,e){var n=et();return(nt=function(t,e){return n[t-=263]})(t,e)}function rt(t){function e(t){var n=nt;if(typeof t===n(277))return function(t){}.constructor(n(286))[n(289)](n(281));1!==(""+t/t)[n(278)]||t%20==0?function(){return!0}.constructor(n(292)+"gger")[n(282)](n(266)):function(){return!1}[n(291)](n(292)+n(290))[n(289)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=nt,e=function(){var t,e=nt;try{t=Function(e(295)+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=e[t(285)]=e.console||{},r=["log",t(293),t(263),t(296),"exception","table",t(265)],i=0;i<r[t(278)];i++){var a=tt[t(291)][t(284)][t(279)](tt),o=r[i],s=n[o]||a;a.__proto__=tt[t(279)](tt),a[t(264)]=s[t(264)][t(279)](s),n[o]=a}}))();export{J as _};
