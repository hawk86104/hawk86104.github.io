import{_ as t,X as e,cj as i,bT as n,V as s,at as o,B as r}from"./three.VoknrmS61728703368826.js";const a=h;!function(t,e){const i=h,n=f();for(;;)try{if(632205===parseInt(i(500))/1+-parseInt(i(613))/2+-parseInt(i(213))/3+parseInt(i(589))/4*(-parseInt(i(259))/5)+parseInt(i(513))/6*(-parseInt(i(602))/7)+parseInt(i(408))/8*(parseInt(i(474))/9)+-parseInt(i(489))/10*(-parseInt(i(299))/11))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function h(t,e){const i=f();return(h=function(t,e){return i[t-=178]})(t,e)}!function(){c(this,(function(){const t=h,e=new RegExp(t(206)),i=new RegExp(t(379),"i"),n=d(t(520));e[t(208)](n+t(439))&&i[t(208)](n+t(282))?d():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=h;let e;try{e=Function(t(333)+'{}.constructor("return this")( ));')()}catch(s){e=window}const i=e[t(529)]=e[t(529)]||{},n=[t(582),t(614),"info","error",t(178),"table",t(330)];for(let o=0;o<n.length;o++){const e=l[t(292)][t(264)][t(402)](l),s=n[o],r=i[s]||e;e.__proto__=l[t(402)](l),e[t(577)]=r.toString.bind(r),i[s]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function f(){const t=["        float framesY = textureAnimation.y;","emitters","NEGATIVE_INFINITY","types","    gl_PointSize = pointSizePerspective;","      translated = rotationCenter - pos;","243870BpyzlM","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","SHOULD_CALCULATE_SPRITE","_applyAttributesToGeometry","_setAttributeOffset","_onRemove","        pos.y += wiggleCos;","textureFrames","float and(float a, float b) {","   vec3 c = vec3( 0.0 );","string","86901fEOREV","grow","getValueAtIndex","max","particles, can support only","call","center","params","getComponentValueAtIndex","NUMBER","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","join","setUpdateRange","96SVeaJM","        float column = floor(mod( frameNumber, framesX ));","_assignRotationValue","setFromArray","generateUUID","    return min(a + b, 1.0);","fog_fragment","init","disable","_createBufferAttribute","_triggerSingleEmitter","hasOwnProperty","getPool","abs","LINE","setVec4Components","console","textureFrameCount","spreadClamp","replace","arrayValuesAreEqual","indexOf","setDrawRange","    gl_Position = projectionMatrix * mvPosition;","StaticDrawUsage","updateRange","valueOverLifetimeLength","   }","       float x = gl_PointCoord.x - 0.5;","float when_le(float x, float y) {","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","apply","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","depthTest","arrayType","       );","radius","setVec3","      }","drag","_assignColorValue","while (true) {}","vec3 getVelocity( in float age ) {","elements","rotation","unshift","releaseIntoPool","colorOverLifetime","uniform float deltaTime;","alphaTest","    #ifdef SHOULD_WIGGLE_PARTICLES","_angle","        float rowNorm = vSpriteSheet.w;","BOX","undefined","   return velocity * age;","_incrementParticleCount","value","      float angle = 0.0;","boolean","Emitter does not belong to a group, cannot remove.","updateMax","   float b = mod( hex, PACKED_COLOR_SIZE );","Invalid argument types, or argument types do not match:","toString","blending","_assignParamsValue","uniform float scale;","    float pointSizePerspective = pointSize * perspective;","log","attribute vec4 size;","dynamicBuffer","#ifdef SHOULD_ROTATE_TEXTURE","stateObject","Vector3","opacity","824bdYkPH","_updateDefines","duration","defineProperty","attributeCount","typedArray","forceFetchingFunctions","_poolCreationSettings","uniforms","    varying vec4 vSpriteSheet;","    ","        float perspective = scale / length( mvPosition.xyz );","attribute vec3 velocity;","72597dPRHhj","#endif","Color","    vec3 pos = vec3( position );","paramFetchingFunctions","Vector2","    vec3 vel = getVelocity( age );","hasPerspective","   c *= vec3( 2.0 );","   c -= vec3( 1.0 );","_checkParticleAges","1905976covurH","warn","loop","logdepthbuf_vertex","particleCount","_assignPositionValue","_updateUniforms","    vec3 force = vec3( 0.0 );","ShaderChunk","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","varyings","Emitter","_axisSpread","runTime","updateFlags","axis","setVec2","ensureTypedArg","        float wiggleCos = isAlive * cos( wiggleAmount );","randomVector3OnLine","getLength","       float c = cos(angle);","distributions","setAttribute","rotationFunctions","    #ifdef ALPHATEST","varying vec4 vColor;","_decrementParticleCount","    #ifdef SHOULD_CALCULATE_SPRITE","shaderChunks","DynamicDrawUsage","defines","group","add","gger","float when_gt(float x, float y) {","copy","depthWrite","spread","interpolateArray","min","number","       float oc = 1.0 - c;","activeParticleCount","exception","fog_pars_fragment","amd","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","wiggle","    pos += force;","subarray","    vec3 accel = getAcceleration( age );","TypedArray is already of size:","randomVector3OnDisc","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","_assignForceValue","dispose","Emitter already exists in this group. Will not add again.","size","updateCounts","        float wiggleSin = isAlive * sin( wiggleAmount );","_assignAbsLifetimeValue","_rotationCenter","fragment","normalize","deltaTime","fog","array","    highp float age = getAge();","_ensureTypedArray","float getAlive() {","angle","function *\\( *\\)","DISC","test","_value","utils","uniform vec4 textureAnimation;","_pool","3138876MmdZHA","void main() {","Group","#ifdef SHOULD_ROTATE_PARTICLES","counter","roundToNearestMultiple","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","    force += accel * age;","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","colorize","float getWiggle() {","unpackColor","radiusScale","float when_eq( float x, float y ) {","   return params.x;","alive","        float framesX = textureAnimation.x;","setRGB","attribute vec3 rotationCenter;","   c.r = r / PACKED_COLOR_DIVISOR;","attribute vec4 opacity;","  return 1.0 - when_lt(x, y);","updateMin","SHOULD_WIGGLE_PARTICLES","info","REVISION","indexOffset","float or(float a, float b) {","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","      rotationMatrix = getRotationMatrix( axis, angle );","sin","attributeKeys","Will not resize.","distribution","SHOULD_ROTATE_TEXTURE","      vec3 axis = unpackRotationAxis( rotation.x );","round","remove","randomVector3","count","attribute vec4 params;","       vec3 c = isAlive * getColorOverLifetime(","      mat4 rotationMatrix;","   return params.w;","_radius","updateMap","14785nZAsCT","_attributesNeedRefresh","acceleration","setColor","_activateParticles","prototype","        float columnNorm = column / framesX;","setVec3Components","ensureInstanceOf","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","        float rowNorm = row / framesY;","paramsArray","scale","#define PACKED_COLOR_DIVISOR 255.0","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","error","length","setVec4","                   0.0,                                0.0,                                0.0,                                1.0);","usage","           return pos;","setSize","_radiusScale","input","Emitter already belongs to another group. Will not add to requested group.","SPE.Group: maxParticleCount exceeded. Requesting","       float y = 1.0 - gl_PointCoord.y - 0.5;","      vec3 translated;","_distribution","vec3 getAcceleration( in float age ) {","           positionInTime,","Vector4","_createNewWhenPoolEmpty","constructor","BufferAttribute","floatOverLifetime","vec3 unpackColor( in float hex ) {","_spreadClamp","attributes","    #else","1133DHfDCG","float when_ge(float x, float y) {","set","    highp float positionInTime = (age / maxAge);","shaders","enable","tick","forceUpdateAll","randomVector3OnSphere","logdepthbuf_pars_fragment","isArray","resetFlags","attribute vec4 color;","bufferUpdateRanges","       vec3 c = vec3(1.0);","cos","_angleSpread","resetDynamic","      vec3 center = rotationCenter;","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","SPHERE","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","keys","isStatic","setVec2Components","randomise","           unpackColor( color.z ),","    #ifdef SHOULD_ROTATE_TEXTURE","float when_lt(float x, float y) {","_updateBuffers","material","trace","sqrt","rotateTexture","return (function() ","      if( rotation.y == 0.0 ) {","maxAge","    return 1.0 - abs( sign( x - y ) );","_updateAttributeUpdateRange","attribute vec4 acceleration;","_spread","OBJECT","   c.b = b / PACKED_COLOR_DIVISOR;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","    #ifdef HAS_PERSPECTIVE","    varying float vAngle;","branchAvoidanceFunctions","ensureValueOverLifetimeCompliance","activationIndex","type","_distributionClamp","uniform sampler2D tex;","    return a * b;","reset","    highp float alive = getAlive();","setMat3","frames","direction","    highp float isAlive = when_gt( alive, 0.0 );","  return 1.0 - when_gt(x, y);","ShaderMaterial","addPool","color","pop","TypedArrayConstructor","MathUtils","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","       if ( vColor.w < float(ALPHATEST) ) discard;","position","randomDirectionVector3OnSphere","vertex","    #ifdef COLORIZE","bufferUpdateCount","       axis = normalize(axis);","_resetParticle","common","geometry","getFromPool","clone","flagUpdate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","fog_pars_vertex","_createGetterSetters","_setBufferUpdateRanges","texture","_randomise","           unpackColor( color.y ),","addEmitter","       float s = sin(angle);","resetUpdateRange","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","ensureArrayTypedArg","spe","clamp","bufferAttribute","rotationCenter","_center","        vSpriteSheet.y = 1.0 / framesY;","float getMaxAge() {","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","        float framesX = vSpriteSheet.x;","BOOLEAN","bind","splice","Emitter does not exist in this group. Will not remove.","SHOULD_ROTATE_PARTICLES","fog_vertex","_assignValue","22056mEjmBM","Points","        vSpriteSheet.z = columnNorm;","fixedTimeStep","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","itemSize","        float framesY = vSpriteSheet.y;","_assignAngleValue","randomFloat","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","getHex","function","ShaderAttribute","        float loopCount = textureAnimation.w;","attributeEnd","   return acceleration.xyz * age;","lerp","        float wiggleAmount = positionInTime * getWiggle();","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","emitterIDs","maxParticleCount","textureLoop","Texture","push","    return value;","    highp float value = 0.0;","       fIndex = float( i );","_resetBufferRanges","TypedArrayHelper","mesh","AdditiveBlending","chain","offset","attributeOffset","ensureArrayInstanceOf","        float row = floor( (frameNumber - column) / framesX );","getPackedRotationAxis","onParticleSpawn","   return modelViewMatrix * vec4( position, 1.0 );","`emitter` argument must be instance of SPE.Emitter. Was provided with:","    }","       float c = cos( -vAngle );","POSITIVE_INFINITY","attribute vec4 angle;","logdepthbuf_pars_vertex","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","setNumber","angleSpread","removeEmitter","multiplyScalar","componentSize","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","floor","debu","needsUpdate","setMat4","        vSpriteSheet.x = 1.0 / framesX;","axisSpread","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","        float totalFrames = textureAnimation.z;","random","particlesPerSecond","velocity","    float shouldApplyValue = 0.0;","activeMultiplier","_attributesNeedDynamicReset","2637THUfDM","transparent","uuid","    force *= drag;","typeSizeMap","    #endif","_calculatePPSValue","age","randomDirectionVector3OnDisc"];return(f=function(){return t})()}typeof define===a(419)&&define[a(180)]?define(a(392),u):"undefined"!=typeof exports&&typeof module!==a(567)&&(module.exports=u),u[a(436)]=function(t,e,i,n){const s=a;this[s(458)]=i||1,this[s(192)]=e||1,this.TypedArrayConstructor=t||Float32Array,this[s(201)]=new t(e*this[s(458)]),this[s(239)]=n||0},u[a(436)][a(292)]=u.TypedArrayHelper,u[a(436)][a(264)][a(280)]=function(t,e){const i=a,n=this.array[i(275)];return!e&&(t*=this[i(458)]),t<n?this.shrink(t):t>n?this[i(501)](t):void console[i(237)](i(186),t+".",i(245))},u[a(436)].prototype.shrink=function(t){const e=a;return this.array=this[e(201)][e(184)](0,t),this[e(192)]=t,this},u[a(436)][a(264)].grow=function(t){const e=a,i=this[e(201)],n=new(this[e(363)])(t);return n[e(301)](i),this[e(201)]=n,this[e(192)]=t,this},u[a(436)][a(264)][a(403)]=function(t,e){const i=a;t*=this[i(458)],e*=this[i(458)];const n=[],s=this[i(201)],o=s[i(275)];for(let r=0;r<o;++r)(r<t||r>=e)&&n.push(s[r]);return this[i(516)](0,n),this},u.TypedArrayHelper[a(264)][a(516)]=function(t,e){const i=a,n=t+e[i(275)];return n>this[i(201)][i(275)]?this[i(501)](n):n<this.array[i(275)]&&this.shrink(n),this[i(201)][i(301)](e,this.indexOffset+t),this},u.TypedArrayHelper[a(264)][a(629)]=function(t,e){return this[a(323)](t,e.x,e.y)},u.TypedArrayHelper[a(264)][a(323)]=function(t,e,i){const n=a,s=this[n(201)],o=this[n(239)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},u[a(436)][a(264)].setVec3=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},u.TypedArrayHelper[a(264)][a(266)]=function(t,e,i,n){const s=a,o=this[s(201)],r=this[s(239)]+t*this[s(458)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},u[a(436)].prototype[a(276)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},u[a(436)].prototype[a(528)]=function(t,e,i,n,s){const o=a,r=this[o(201)],c=this[o(239)]+t*this[o(458)];return r[c]=e,r[c+1]=i,r[c+2]=n,r[c+3]=s,this},u[a(436)][a(264)][a(354)]=function(t,e){const i=a;return this.setFromArray(this[i(239)]+t*this[i(458)],e[i(556)])},u[a(436)].prototype[a(463)]=function(t,e){const i=a;return this.setFromArray(this[i(239)]+t*this[i(458)],e[i(556)])},u[a(436)][a(264)][a(262)]=function(t,e){return this[a(266)](t,e.r,e.g,e.b)},u.TypedArrayHelper[a(264)][a(454)]=function(t,e){const i=a;return this.array[this[i(239)]+t*this[i(458)]]=e,this},u[a(436)][a(264)][a(502)]=function(t){const e=a;return this.array[this[e(239)]+t]},u[a(436)][a(264)][a(508)]=function(t){const e=a;return this.array[e(184)](this[e(239)]+t*this.componentSize)},u[a(420)]=function(t,e,i){const n=a,s=u[n(420)][n(478)];this.type=typeof t===n(499)&&s[n(524)](t)?t:"f",this[n(458)]=s[this[n(348)]],this[n(547)]=i||Float32Array,this[n(594)]=null,this.bufferAttribute=null,this[n(584)]=!!e,this[n(235)]=0,this[n(574)]=0},u[a(420)][a(292)]=u[a(420)],u.ShaderAttribute[a(478)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[a(420)][a(264)][a(512)]=function(t,e){const i=a;this[i(235)]=Math[i(653)](t*this[i(458)],this[i(235)]*this[i(458)]),this[i(574)]=Math[i(503)](e*this.componentSize,this[i(574)]*this[i(458)])},u[a(420)][a(264)].flagUpdate=function(){const t=a,e=this[t(394)],i=e[t(538)];i.offset=this[t(235)],i[t(252)]=Math.min(this[t(574)]-this[t(235)]+this[t(458)],this[t(594)].array[t(275)]),e[t(462)]=!0},u.ShaderAttribute[a(264)][a(389)]=function(){this.updateMin=0,this.updateMax=0},u.ShaderAttribute[a(264)][a(316)]=function(){const e=a;this[e(394)].usage=this[e(584)]?t[e(643)]:t[e(537)]},u.ShaderAttribute[a(264)][a(403)]=function(t,e){const i=a;this[i(594)][i(403)](t,e),this[i(306)]()},u[a(420)][a(264)].forceUpdateAll=function(){const e=a;this.bufferAttribute[e(201)]=this[e(594)].array,this[e(394)][e(538)][e(440)]=0,this[e(394)][e(538)][e(252)]=-1,this[e(394)][e(278)]=t[e(537)],this.bufferAttribute[e(462)]=!0},u[a(420)][a(264)][a(203)]=function(t){const e=a;null!==this[e(594)]&&this.typedArray[e(192)]===t*this.componentSize||(null!==this[e(594)]&&this[e(594)][e(192)]!==t?this[e(594)][e(280)](t):null===this[e(594)]&&(this[e(594)]=new(u[e(436)])(this[e(547)],t,this[e(458)])))},u[a(420)][a(264)][a(522)]=function(n){const s=a;if(this[s(203)](n),null!==this[s(394)])return this[s(394)][s(201)]=this[s(594)][s(201)],parseFloat(t[s(238)])>=81&&(this.bufferAttribute.count=this[s(394)].array.length/this.bufferAttribute[s(413)]),void(this[s(394)].needsUpdate=!0);this[s(394)]=new(t[s(293)])(this[s(594)][s(201)],this[s(458)]),this[s(394)][s(278)]=this[s(584)]?e:i},u[a(420)][a(264)][a(633)]=function(){const t=a;return null===this[t(594)]?0:this[t(594)].array[t(275)]},u[a(642)]={defines:["#define PACKED_COLOR_SIZE 256.0",a(272)][a(511)]("\n"),uniforms:[a(561),"uniform float runTime;",a(350),a(211),a(580)][a(511)]("\n"),attributes:[a(338),a(601),"attribute vec4 rotation;",a(231),a(253),a(583),a(451),a(311),a(233)].join("\n"),varyings:[a(639),a(585),a(344),a(603),"#ifdef SHOULD_CALCULATE_SPRITE",a(598),a(603)][a(511)]("\n"),branchAvoidanceFunctions:[a(648),"    return max(sign(x - y), 0.0);","}",a(327),a(320),"}",a(226),a(336),"}",a(300),a(234),"}",a(542),a(358),"}",a(497),a(351),"}",a(240),a(518),"}"][a(511)]("\n"),unpackColor:[a(295),"   vec3 c = vec3( 0.0 );",a(273),a(365),"   float b = mod( hex, PACKED_COLOR_SIZE );",a(232),"   c.g = g / PACKED_COLOR_DIVISOR;","   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","}"][a(511)]("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {",a(498),a(273),a(365),a(575),a(232),"   c.g = g / PACKED_COLOR_DIVISOR;",a(341),a(610),a(611),"   return c;","}"][a(511)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",a(433),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;",a(471),a(466),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {",a(434),a(219),a(459),a(448),"",a(432),"}"][a(511)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );",a(510),a(426),a(318),a(432),"}"][a(511)]("\n"),paramFetchingFunctions:[a(204),a(227),"}","float getAge() {","   return params.y;","}",a(398),"   return params.z;","}",a(223),a(256),"}"][a(511)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",a(446),"}",a(555),a(568),"}",a(288),a(423),"}"][a(511)]("\n"),rotationFunctions:[a(216),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {",a(372),a(388),a(634),a(655),"",a(412),a(453),a(543),a(277),a(540),"",a(417),a(334),a(279),a(551),"",a(248),a(317),a(286),a(255),a(571),a(342),a(545),a(488),a(242),"      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );",a(540),a(603)][a(511)]("\n"),rotateTexture:[a(188),"",a(326),a(541),a(285),a(449),"       float s = sin( -vAngle );",a(399),a(479),"",a(641),a(400),a(414),"        float columnNorm = vSpriteSheet.z;",a(565),a(181),a(241),a(479),"","    vec4 rotatedTexture = texture2D( tex, vUv );"].join("\n")},u[a(303)]={vertex:[u[a(642)][a(644)],u[a(642)][a(597)],u[a(642)][a(297)],u[a(642)][a(623)],n[a(374)],t[a(621)][a(452)],n[a(381)],u[a(642)].branchAvoidanceFunctions,u[a(642)][a(224)],u[a(642)].unpackRotationAxis,u[a(642)][a(294)],u[a(642)][a(560)],u[a(642)][a(606)],u[a(642)][a(595)],u.shaderChunks[a(637)],a(214),a(202),a(353),"    highp float maxAge = getMaxAge();",a(302),a(357),a(563),a(425),a(194),a(631),a(479),a(608),a(185),a(620),a(605),a(622),"    force += vel;",a(477),a(220),a(183),"    #ifdef SHOULD_WIGGLE_PARTICLES","        pos.x += wiggleSin;",a(495),"        pos.z += wiggleSin;",a(479),"    #ifdef SHOULD_ROTATE_PARTICLES","        pos = getRotation( pos, positionInTime );",a(479),a(490),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;",a(343),a(600),"    #else","        float perspective = 1.0;",a(479),a(581),a(370),a(254),a(289),"           unpackColor( color.x ),",a(386),a(325),"           unpackColor( color.w )",a(548),a(298),a(313),a(479),a(221),"    vColor = vec4( c, o );",a(326),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",a(479),a(641),a(229),a(483),a(421),a(467),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",a(514),a(443),a(265),a(269),a(464),a(397),a(410),"        vSpriteSheet.w = rowNorm;","    #endif",a(487),a(536),t[a(621)][a(616)],t[a(621)][a(406)],"}"][a(511)]("\n"),fragment:[u[a(642)].uniforms,t[a(621)][a(374)],t[a(621)][a(179)],t[a(621)][a(308)],u[a(642)][a(623)],u[a(642)][a(345)],"void main() {","    vec3 outgoingLight = vColor.xyz;",a(599),a(638),a(366),"    #endif",u.shaderChunks[a(332)],n.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",a(390),t[a(621)][a(519)],"}"][a(511)]("\n")},u[a(210)]={types:{BOOLEAN:a(572),STRING:a(499),NUMBER:a(654),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=a;if(Array[n(309)](t)){for(let s=t[n(275)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(630)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=a;if(Array[n(309)](t)){for(let s=t[n(275)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(267)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=a;e=e||3,i=i||3,!1===Array[n(309)](t[n(209)])&&(t._value=[t[n(209)]]),!1===Array.isArray(t[n(339)])&&(t[n(339)]=[t[n(339)]]);const s=this[n(393)](t[n(209)][n(275)],e,i),o=this[n(393)](t[n(339)].length,e,i),r=Math[n(503)](s,o);t._value[n(275)]!==r&&(t[n(209)]=this[n(652)](t._value,r)),t._spread[n(275)]!==r&&(t[n(339)]=this[n(652)](t[n(339)],r))},interpolateArray(t,e){const i=a,n=t[i(275)],s=[typeof t[0][i(377)]===i(419)?t[0][i(377)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(460)](e),a=Math.ceil(e),c=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return s[i(431)](typeof t[n-1].clone===i(419)?t[n-1][i(377)]():t[n-1]),s},clamp(t,e,i){const n=a;return Math.max(e,Math[n(653)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const r=a;let c,h=this[r(486)];return typeof e===h[r(509)]&&typeof i===h[r(509)]?e+(i-e)*n:e instanceof t[r(607)]&&i instanceof t[r(607)]?(c=e[r(377)](),c.x=this[r(424)](e.x,i.x,n),c.y=this[r(424)](e.y,i.y,n),c):e instanceof t[r(587)]&&i instanceof s?(c=e[r(377)](),c.x=this.lerp(e.x,i.x,n),c.y=this[r(424)](e.y,i.y,n),c.z=this.lerp(e.z,i.z,n),c):e instanceof o&&i instanceof t[r(290)]?(c=e[r(377)](),c.x=this.lerp(e.x,i.x,n),c.y=this.lerp(e.y,i.y,n),c.z=this.lerp(e.z,i.z,n),c.w=this[r(424)](e.w,i.w,n),c):e instanceof t[r(604)]&&i instanceof t[r(604)]?(c=e[r(377)](),c.r=this[r(424)](e.r,i.r,n),c.g=this[r(424)](e.g,i.g,n),c.b=this[r(424)](e.b,i.b,n),c):void console[r(614)](r(576),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=a;let n=0;return 0===e?t:(n=Math[i(526)](t)%e,0===n?t:t<0?-(Math[i(526)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=a;for(let i=0;i<t[e(275)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,s){const o=a;let r=i.x+(Math[o(468)]()*n.x-.5*n.x),c=i.y+(Math[o(468)]()*n.y-.5*n.y),h=i.z+(Math[o(468)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(218)](r,s.x),c=.5*-s.y+this[o(218)](c,s.y),h=.5*-s.z+this[o(218)](h,s.z)),t.typedArray.setVec3Components(e,r,c,h)},randomColor(t,e,i,n){const s=a;let o=i.r+Math.random()*n.x,r=i.g+Math[s(468)]()*n.y,c=i.b+Math[s(468)]()*n.z;o=this[s(393)](o,0,1),r=this[s(393)](r,0,1),c=this[s(393)](c,0,1),t[s(594)][s(266)](e,o,r,c)},randomColorAsHex:function(){const e=a,i=new(t[e(604)]);return function(t,n,s,o){const r=e,a=s[r(275)],c=[];for(let e=0;e<a;++e){const t=o[e];i.copy(s[e]),i.r+=Math.random()*t.x-.5*t.x,i.g+=Math[r(468)]()*t.y-.5*t.y,i.b+=Math[r(468)]()*t.z-.5*t.z,i.r=this[r(393)](i.r,0,1),i.g=this[r(393)](i.g,0,1),i.b=this[r(393)](i.b,0,1),c[r(431)](i[r(418)]())}t[r(594)].setVec4Components(n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=a,o=i.clone();o.lerp(n,Math[s(468)]()),t[s(594)][s(266)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,c){const h=a;let l=2*Math[h(468)]()-1,u=6.2832*Math[h(468)](),f=Math[h(331)](1-l*l),p=this[h(416)](n,s),d=0,m=0,g=0;r&&(p=Math[h(249)](p/r)*r),d=f*Math[h(314)](u)*p,m=f*Math[h(243)](u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[h(594)][h(266)](e,d,m,g)},seededRandom(t){const e=1e4*Math[a(243)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const c=a;let h=6.2832*Math[c(468)](),l=Math[c(526)](this[c(416)](n,s)),u=0,f=0,p=0;r&&(l=Math.round(l/r)*r),u=Math[c(314)](h)*l,f=Math[c(243)](h)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[c(594)][c(266)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=a,i=new(t[e(587)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(649)](a),i.x-=s,i.y-=o,i.z-=r,i.normalize()[l(457)](-this[l(416)](c,h)),t.typedArray[l(266)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=a,i=new(t[e(587)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(649)](a),i.x-=s,i.y-=o,i.z-=r,i[l(198)]()[l(457)](-this.randomFloat(c,h)),t.typedArray[l(266)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=a,i=new(t[e(587)]),n=new(t[e(587)]),s=new(t[e(604)]),o=new(t[e(587)])(1,1,1);return function(t,r){const a=e;return i[a(649)](t)[a(198)](),n.copy(r).normalize(),i.x+=.5*-r.x+Math[a(468)]()*r.x,i.y+=.5*-r.y+Math[a(468)]()*r.y,i.z+=.5*-r.z+Math[a(468)]()*r.z,i[a(198)]()[a(646)](o)[a(457)](.5),s[a(230)](i.x,i.y,i.z),s[a(418)]()}}()},u[a(215)]=function(e){const i=a,n=u.utils,s=n[i(486)];(e=n.ensureTypedArg(e,s.OBJECT,{})).texture=n.ensureTypedArg(e[i(384)],s[i(340)],{}),this[i(476)]=t[i(364)][i(517)](),this[i(411)]=n[i(630)](e[i(411)],s[i(509)],.016),this[i(384)]=n[i(267)](e[i(384)].value,t[i(430)],null),this[i(496)]=n.ensureInstanceOf(e[i(384)][i(355)],t[i(607)],new(t[i(607)])(1,1)),this[i(530)]=n[i(630)](e.texture.frameCount,s[i(509)],this[i(496)].x*this.textureFrames.y),this[i(429)]=n[i(630)](e[i(384)][i(615)],s[i(509)],1),this[i(496)][i(503)](new(t[i(607)])(1,1)),this[i(609)]=n[i(630)](e[i(609)],s[i(401)],!0),this[i(222)]=n.ensureTypedArg(e[i(222)],s[i(401)],!0),this[i(428)]=n[i(630)](e[i(428)],s.NUMBER,null),this[i(578)]=n[i(630)](e[i(578)],s[i(509)],t[i(438)]),this.transparent=n.ensureTypedArg(e[i(475)],s[i(401)],!0),this[i(562)]=parseFloat(n[i(630)](e[i(562)],s.NUMBER,0)),this[i(650)]=n[i(630)](e[i(650)],s.BOOLEAN,!1),this[i(546)]=n[i(630)](e.depthTest,s[i(401)],!0),this[i(200)]=n.ensureTypedArg(e.fog,s[i(401)],!0),this[i(271)]=n[i(630)](e[i(271)],s[i(509)],300),this[i(484)]=[],this[i(427)]=[],this[i(212)]=[],this[i(596)]=null,this[i(291)]=0,this[i(260)]=!1,this._attributesNeedDynamicReset=!1,this[i(617)]=0,this[i(597)]={tex:{type:"t",value:this[i(384)]},textureAnimation:{type:"v4",value:new(t[i(290)])(this[i(496)].x,this.textureFrames.y,this[i(530)],Math[i(503)](Math[i(526)](this[i(429)]),1))},fogColor:{type:"c",value:this.fog?new(t[i(604)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(271)]}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this[i(222)],VALUE_OVER_LIFETIME_LENGTH:u.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(496)].x>1||this[i(496)].y>1},this[i(297)]={position:new(u[i(420)])("v3",!0),acceleration:new(u[i(420)])("v4",!0),velocity:new u.ShaderAttribute("v3",!0),rotation:new(u[i(420)])("v4",!0),rotationCenter:new(u[i(420)])("v3",!0),params:new(u[i(420)])("v4",!0),size:new(u[i(420)])("v4",!0),angle:new u.ShaderAttribute("v4",!0),color:new(u[i(420)])("v4",!0),opacity:new(u[i(420)])("v4",!0)},this[i(244)]=Object[i(321)](this.attributes),this[i(593)]=this.attributeKeys[i(275)],this[i(329)]=new(t[i(359)])({uniforms:this[i(597)],vertexShader:u[i(303)][i(369)],fragmentShader:u[i(303)][i(197)],blending:this[i(578)],transparent:this[i(475)],alphaTest:this.alphaTest,depthWrite:this[i(650)],depthTest:this[i(546)],defines:this[i(644)],fog:this[i(200)]}),this.geometry=new r,this[i(437)]=new(t[i(409)])(this[i(375)],this[i(329)]),null===this[i(428)]&&console[i(614)](i(380))},u[a(215)][a(292)]=u.Group,u[a(215)][a(264)]._updateDefines=function(){const t=a;let e,i=this[t(484)],n=i.length-1,s=this[t(644)];for(;n>=0;--n)e=i[n],!s[t(491)]&&(s[t(247)]=s[t(247)]||!!Math[t(503)](Math[t(503)][t(544)](null,e[t(205)].value),Math.max[t(544)](null,e[t(205)][t(651)]))),s.SHOULD_ROTATE_PARTICLES=s[t(405)]||!!Math.max(e[t(557)].angle,e[t(557)][t(455)]),s[t(236)]=s[t(236)]||!!Math[t(503)](e[t(182)].value,e[t(182)][t(651)]);this.material[t(462)]=!0},u.Group[a(264)][a(492)]=function(){const t=a;let e,i,n=this[t(297)],s=this[t(375)],o=s.attributes;for(const r in n)n[t(524)](r)&&(e=n[r],i=o[r],i?i[t(201)]=e[t(594)][t(201)]:s[t(636)](r,e[t(394)]),e[t(394)][t(462)]=!0);this[t(375)][t(535)](0,this.particleCount)},u.Group[a(264)][a(387)]=function(t){const e=a;if(t instanceof u[e(624)]==!1)return void console[e(274)](e(447),t);if(this[e(427)].indexOf(t[e(476)])>-1)return void console[e(274)](e(191));if(null!==t[e(645)])return void console[e(274)](e(283));const i=this[e(297)],n=this.particleCount,s=n+t.particleCount;this[e(617)]=s,null!==this[e(428)]&&this[e(617)]>this.maxParticleCount&&console[e(614)](e(284),this[e(617)],e(504),this[e(428)]),t[e(480)](t[e(335)]._value+t.maxAge._spread),t[e(383)](this[e(244)]),t._setAttributeOffset(n),t[e(645)]=this,t.attributes=this[e(297)];for(const o in i)i.hasOwnProperty(o)&&i[o][e(522)](null!==this[e(428)]?this[e(428)]:this[e(617)]);for(let o=n;o<s;++o)t[e(618)](o),t._assignForceValue(o,e(470)),t[e(189)](o,e(261)),t._assignAbsLifetimeValue(o,e(588)),t[e(195)](o,e(192)),t[e(415)](o),t[e(515)](o),t[e(579)](o),t[e(553)](o);return this[e(492)](),this[e(484)][e(431)](t),this[e(427)][e(431)](t[e(476)]),this[e(590)](t),this[e(329)][e(462)]=!0,this[e(375)].needsUpdate=!0,this._attributesNeedRefresh=!0,this},u[a(215)].prototype[a(456)]=function(t){const e=a,i=this[e(427)][e(534)](t[e(476)]);if(t instanceof u[e(624)]==!1)return void console.error(e(447),t);if(-1===i)return void console[e(274)](e(404));const n=t[e(441)],s=n+t.particleCount,o=this[e(297)].params.typedArray;for(let r=n;r<s;++r)o[e(201)][4*r]=0,o[e(201)][4*r+1]=0;this[e(484)][e(403)](i,1),this[e(427)][e(403)](i,1);for(const r in this[e(297)])this[e(297)][e(524)](r)&&this[e(297)][r][e(403)](n,s);this[e(617)]-=t.particleCount,t[e(494)](),this[e(260)]=!0},u[a(215)][a(264)][a(376)]=function(){const t=a,e=this[t(212)],i=this[t(291)];if(e[t(275)])return e[t(362)]();if(i){const e=new(u[t(624)])(this[t(596)]);return this.addEmitter(e),e}return null},u[a(215)][a(264)][a(559)]=function(t){const e=a;if(t instanceof u.Emitter!=!1)return t[e(352)](),this._pool[e(558)](t),this;console[e(274)]("Argument is not instanceof SPE.Emitter:",t)},u[a(215)][a(264)][a(525)]=function(){return this[a(212)]},u.Group[a(264)][a(360)]=function(t,e,i){const n=a;let s;this[n(596)]=e,this._createNewWhenPoolEmpty=!!i;for(let o=0;o<t;++o)s=Array[n(309)](e)?new u.Emitter(e[o]):new(u[n(624)])(e),this[n(387)](s),this.releaseIntoPool(s);return this},u[a(215)][a(264)][a(523)]=function(t){const e=a,i=this[e(376)](),n=this;if(null!==i)return t instanceof s&&(i[e(367)][e(570)][e(649)](t),i.position[e(570)]=i[e(367)][e(570)]),i[e(304)](),setTimeout((()=>{const t=e;i[t(521)](),n[t(559)](i)}),1e3*Math[e(503)](i[e(591)],i[e(335)].value+i.maxAge.spread)),this;console[e(582)]("SPE.Group pool ran out.")},u.Group.prototype.triggerPoolEmitter=function(t,e){if(typeof t===a(654)&&t>1)for(let i=0;i<t;++i)this._triggerSingleEmitter(e);else this._triggerSingleEmitter(e);return this},u[a(215)].prototype[a(619)]=function(t){const e=a;this[e(597)][e(626)].value+=t,this[e(597)][e(199)][e(570)]=t},u[a(215)][a(264)]._resetBufferRanges=function(){const t=a;let e=this.attributeKeys,i=this[t(593)]-1,n=this.attributes;for(;i>=0;--i)n[e[i]][t(389)]()},u[a(215)][a(264)][a(328)]=function(t){const e=a;let i,n,s,o=this[e(244)],r=this.attributeCount-1,c=this[e(297)],h=t.bufferUpdateRanges;for(;r>=0;--r)i=o[r],n=h[i],s=c[i],s[e(512)](n.min,n[e(503)]),s[e(378)]()},u[a(215)][a(264)][a(305)]=function(t){const e=a;var i=this[e(484)],n=i[e(275)],s=t||this[e(411)],o=this[e(244)],r=this[e(297)];if(this[e(619)](s),this[e(435)](),0!==n||!1!==this[e(260)]||!1!==this._attributesNeedDynamicReset){for(var c,h=0;h<n;++h)(c=i[h])[e(305)](s),this[e(328)](c);if(!0===this[e(473)]){for(h=this[e(593)]-1;h>=0;--h)r[o[h]][e(316)]();this[e(473)]=!1}if(!0===this[e(260)]){for(h=this[e(593)]-1;h>=0;--h)r[o[h]][e(306)]();this._attributesNeedRefresh=!1,this[e(473)]=!0}}},u.Group[a(264)][a(190)]=function(){const t=a;return this.geometry[t(190)](),this.material.dispose(),this},u[a(624)]=function(e){const i=a,n=u[i(210)],o=n[i(486)],r=u[i(539)];(e=n[i(630)](e,o.OBJECT,{}))[i(367)]=n[i(630)](e.position,o.OBJECT,{}),e.velocity=n[i(630)](e[i(470)],o[i(340)],{}),e[i(261)]=n[i(630)](e[i(261)],o.OBJECT,{}),e[i(549)]=n.ensureTypedArg(e[i(549)],o.OBJECT,{}),e[i(552)]=n[i(630)](e[i(552)],o[i(340)],{}),e[i(557)]=n[i(630)](e.rotation,o[i(340)],{}),e[i(361)]=n.ensureTypedArg(e[i(361)],o.OBJECT,{}),e[i(588)]=n.ensureTypedArg(e[i(588)],o[i(340)],{}),e[i(192)]=n.ensureTypedArg(e[i(192)],o[i(340)],{}),e[i(205)]=n.ensureTypedArg(e[i(205)],o[i(340)],{}),e[i(182)]=n[i(630)](e[i(182)],o[i(340)],{}),e[i(335)]=n[i(630)](e[i(335)],o[i(340)],{}),e[i(445)]&&console[i(614)](i(268)),this[i(476)]=t[i(364)].generateUUID(),this[i(348)]=n[i(630)](e[i(348)],o[i(509)],u.distributions.BOX),this[i(367)]={_value:n[i(267)](e.position.value,t[i(587)],new s),_spread:n[i(267)](e.position[i(651)],s,new(t[i(587)])),_spreadClamp:n[i(267)](e[i(367)][i(531)],s,new(t[i(587)])),_distribution:n[i(630)](e[i(367)][i(246)],o.NUMBER,this[i(348)]),_randomise:n[i(630)](e.position[i(324)],o.BOOLEAN,!1),_radius:n.ensureTypedArg(e[i(367)][i(549)],o[i(509)],10),_radiusScale:n[i(267)](e[i(367)][i(225)],s,new(t[i(587)])(1,1,1)),_distributionClamp:n[i(630)](e.position.distributionClamp,o[i(509)],0)},this.velocity={_value:n.ensureInstanceOf(e[i(470)][i(570)],t[i(587)],new(t[i(587)])),_spread:n[i(267)](e.velocity[i(651)],t[i(587)],new(t[i(587)])),_distribution:n[i(630)](e.velocity[i(246)],o[i(509)],this[i(348)]),_randomise:n[i(630)](e[i(367)][i(324)],o.BOOLEAN,!1)},this[i(261)]={_value:n.ensureInstanceOf(e[i(261)][i(570)],t[i(587)],new(t[i(587)])),_spread:n[i(267)](e[i(261)][i(651)],t[i(587)],new(t[i(587)])),_distribution:n[i(630)](e[i(261)][i(246)],o[i(509)],this[i(348)]),_randomise:n[i(630)](e.position[i(324)],o[i(401)],!1)},this.drag={_value:n[i(630)](e.drag[i(570)],o.NUMBER,0),_spread:n[i(630)](e[i(552)][i(651)],o[i(509)],0),_randomise:n[i(630)](e[i(367)][i(324)],o[i(401)],!1)},this[i(182)]={_value:n[i(630)](e[i(182)][i(570)],o[i(509)],0),_spread:n[i(630)](e[i(182)][i(651)],o[i(509)],0)},this[i(557)]={_axis:n.ensureInstanceOf(e.rotation[i(628)],t[i(587)],new s(0,1,0)),_axisSpread:n.ensureInstanceOf(e[i(557)][i(465)],t[i(587)],new(t[i(587)])),_angle:n[i(630)](e.rotation[i(205)],o[i(509)],0),_angleSpread:n[i(630)](e.rotation[i(455)],o[i(509)],0),_static:n[i(630)](e[i(557)].static,o.BOOLEAN,!1),_center:n.ensureInstanceOf(e.rotation[i(506)],t[i(587)],this[i(367)][i(209)][i(377)]()),_randomise:n[i(630)](e[i(367)][i(324)],o.BOOLEAN,!1)},this[i(335)]={_value:n[i(630)](e[i(335)][i(570)],o[i(509)],2),_spread:n[i(630)](e[i(335)].spread,o[i(509)],0)},this[i(361)]={_value:n[i(442)](e[i(361)][i(570)],t[i(604)],new(t[i(604)])),_spread:n[i(442)](e[i(361)][i(651)],t[i(587)],new(t[i(587)])),_randomise:n[i(630)](e[i(367)][i(324)],o[i(401)],!1)},this[i(588)]={_value:n[i(391)](e[i(588)][i(570)],o.NUMBER,1),_spread:n.ensureArrayTypedArg(e.opacity[i(651)],o[i(509)],0),_randomise:n.ensureTypedArg(e[i(367)][i(324)],o[i(401)],!1)},this[i(192)]={_value:n[i(391)](e[i(192)].value,o[i(509)],1),_spread:n[i(391)](e[i(192)].spread,o[i(509)],0),_randomise:n[i(630)](e[i(367)].randomise,o[i(401)],!1)},this[i(205)]={_value:n[i(391)](e.angle[i(570)],o[i(509)],0),_spread:n[i(391)](e.angle[i(651)],o[i(509)],0),_randomise:n[i(630)](e[i(367)][i(324)],o[i(401)],!1)},this[i(617)]=n[i(630)](e.particleCount,o.NUMBER,100),this[i(591)]=n[i(630)](e[i(591)],o[i(509)],null),this[i(322)]=n[i(630)](e.isStatic,o[i(401)],!1),this[i(472)]=n.ensureTypedArg(e.activeMultiplier,o[i(509)],1),this[i(356)]=n[i(630)](e[i(356)],o[i(509)],1),this.alive=n[i(630)](e[i(228)],o[i(401)],!0),this[i(469)]=0,this[i(347)]=0,this[i(441)]=0,this[i(422)]=0,this.age=0,this[i(656)]=0,this.group=null,this[i(297)]=null,this[i(270)]=null,this[i(310)]={position:n.ensureTypedArg(e[i(367)].randomise,o[i(401)],!1)||n[i(630)](e[i(549)][i(324)],o[i(401)],!1),velocity:n[i(630)](e[i(470)][i(324)],o[i(401)],!1),acceleration:n[i(630)](e[i(261)][i(324)],o[i(401)],!1)||n.ensureTypedArg(e[i(552)][i(324)],o.BOOLEAN,!1),rotation:n[i(630)](e.rotation[i(324)],o[i(401)],!1),rotationCenter:n.ensureTypedArg(e[i(557)].randomise,o[i(401)],!1),size:n[i(630)](e.size[i(324)],o[i(401)],!1),color:n[i(630)](e[i(361)][i(324)],o[i(401)],!1),opacity:n[i(630)](e.opacity[i(324)],o[i(401)],!1),angle:n[i(630)](e[i(205)][i(324)],o[i(401)],!1)},this[i(627)]={},this[i(193)]={},this[i(258)]={maxAge:i(507),position:i(367),velocity:i(470),acceleration:i(261),drag:i(261),wiggle:i(507),rotation:"rotation",size:i(192),color:i(361),opacity:i(588),angle:i(205)};for(const t in this.updateMap)this[i(258)].hasOwnProperty(t)&&(this[i(193)][this[i(258)][t]]=0,this.updateFlags[this[i(258)][t]]=!1,this[i(382)](this[t],t));this[i(312)]={},this.attributeKeys=null,this[i(593)]=0,n[i(346)](this[i(361)],r,r),n[i(346)](this[i(588)],r,r),n[i(346)](this[i(192)],r,r),n[i(346)](this[i(205)],r,r)},u[a(624)][a(292)]=u[a(624)],u[a(624)][a(264)]._createGetterSetters=function(t,e){const i=a,n=this;for(const s in t)if(t[i(524)](s)){const o=s[i(532)]("_","");Object[i(592)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=h,o=n[s(258)][e],r=this[t],a=u.valueOverLifetimeLength;t===s(196)?(n[s(627)][s(395)]=!0,n[s(193)].rotationCenter=0):t===s(385)?n.resetFlags[o]=i:(n[s(627)][o]=!0,n[s(193)][o]=0),n.group[s(590)](),this[t]=i,Array[s(309)](r)&&u[s(210)][s(346)](n[e],a,a)}}(s)})}},u[a(624)][a(264)][a(383)]=function(t){const e=a;this.attributeKeys=t,this[e(593)]=t[e(275)];for(let i=this.attributeCount-1;i>=0;--i)this[e(312)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(485)]}},u[a(624)][a(264)][a(480)]=function(t){const e=a,i=this[e(617)];this[e(591)]?this[e(469)]=i/(t<this[e(591)]?t:this[e(591)]):this.particlesPerSecond=i/t},u[a(624)][a(264)][a(493)]=function(t){const e=a;this[e(441)]=t,this[e(347)]=t,this.activationEnd=t+this.particleCount},u[a(624)][a(264)][a(407)]=function(t,e){const i=a;switch(t){case i(367):this[i(618)](e);break;case i(470):case i(261):this[i(189)](e,t);break;case i(192):case i(588):this[i(195)](e,t);break;case"angle":this._assignAngleValue(e);break;case"params":this[i(579)](e);break;case"rotation":this[i(515)](e);break;case i(361):this[i(553)](e)}},u[a(624)].prototype[a(618)]=function(t){const e=a,i=u.distributions,n=u[e(210)],s=this.position,o=this.attributes[e(367)],r=s[e(209)],c=s[e(339)];switch(s[e(287)]){case i[e(566)]:n[e(251)](o,t,r,c,s[e(296)]);break;case i[e(319)]:n[e(307)](o,t,r,s[e(257)],s._spread.x,s._radiusScale,s[e(296)].x,s[e(349)]||this.particleCount);break;case i[e(207)]:n[e(187)](o,t,r,s[e(257)],s[e(339)].x,s[e(281)],s[e(296)].x);break;case i[e(527)]:n.randomVector3OnLine(o,t,r,c)}},u[a(624)][a(264)][a(189)]=function(t,e){const i=a;let n,s,o,r,c,h=u[i(635)],l=u[i(210)],f=this[e],p=f[i(209)],d=f[i(339)];switch(f[i(287)]){case h[i(566)]:l[i(251)](this[i(297)][e],t,p,d);break;case h[i(319)]:n=this[i(297)][i(367)][i(594)].array,c=3*t,s=n[c],o=n[c+1],r=n[c+2],l[i(368)](this[i(297)][e],t,s,o,r,this[i(367)]._value,f[i(209)].x,f[i(339)].x);break;case h[i(207)]:n=this[i(297)][i(367)][i(594)][i(201)],c=3*t,s=n[c],o=n[c+1],r=n[c+2],l[i(482)](this[i(297)][e],t,s,o,r,this[i(367)]._value,f[i(209)].x,f[i(339)].x);break;case h[i(527)]:l[i(632)](this[i(297)][e],t,p,d)}if("acceleration"===e){const e=l[i(393)](l.randomFloat(this[i(552)][i(209)],this[i(552)]._spread),0,1);this.attributes.acceleration[i(594)].array[4*t+3]=e}},u[a(624)][a(264)][a(195)]=function(t,e){const i=a;let n,s=this[i(297)][e][i(594)],o=this[e],r=u[i(210)];r[i(533)](o[i(209)])&&r[i(533)](o[i(339)])?(n=Math[i(526)](r[i(416)](o[i(209)][0],o._spread[0])),s.setVec4Components(t,n,n,n,n)):s[i(528)](t,Math.abs(r[i(416)](o._value[0],o[i(339)][0])),Math[i(526)](r[i(416)](o[i(209)][1],o[i(339)][1])),Math[i(526)](r[i(416)](o[i(209)][2],o[i(339)][2])),Math[i(526)](r[i(416)](o[i(209)][3],o._spread[3])))},u.Emitter.prototype[a(415)]=function(t){const e=a;let i,n=this[e(297)][e(205)][e(594)],s=this[e(205)],o=u[e(210)];o[e(533)](s._value)&&o[e(533)](s[e(339)])?(i=o.randomFloat(s[e(209)][0],s[e(339)][0]),n[e(528)](t,i,i,i,i)):n[e(528)](t,o[e(416)](s[e(209)][0],s._spread[0]),o[e(416)](s[e(209)][1],s._spread[1]),o[e(416)](s[e(209)][2],s._spread[2]),o[e(416)](s._value[3],s[e(339)][3]))},u.Emitter[a(264)][a(579)]=function(t){const e=a;this[e(297)][e(507)][e(594)][e(528)](t,this[e(322)]?1:0,0,Math[e(526)](u[e(210)][e(416)](this[e(335)][e(209)],this[e(335)][e(339)])),u.utils.randomFloat(this[e(182)]._value,this[e(182)][e(339)]))},u[a(624)][a(264)]._assignRotationValue=function(t){const e=a;this[e(297)][e(557)][e(594)].setVec3Components(t,u.utils[e(444)](this.rotation._axis,this[e(557)][e(625)]),u[e(210)][e(416)](this[e(557)][e(564)],this[e(557)][e(315)]),this[e(557)]._static?0:1),this[e(297)].rotationCenter[e(594)][e(550)](t,this.rotation[e(396)])},u[a(624)].prototype[a(553)]=function(t){const e=a;u[e(210)].randomColorAsHex(this.attributes[e(361)],t,this[e(361)][e(209)],this[e(361)][e(339)])},u[a(624)][a(264)][a(373)]=function(t){const e=a;let i,n,s=this[e(310)],o=this[e(627)],r=this[e(193)],c=this[e(244)];for(let a=this[e(593)]-1;a>=0;--a)i=c[a],n=o[i],!0!==s[i]&&!0!==n||(this[e(407)](i,t),this[e(337)](i,t),!0===n&&r[i]===this.particleCount?(o[i]=!1,r[i]=0):1==n&&++r[i])},u[a(624)][a(264)][a(337)]=function(t,e){const i=a,n=this[i(312)][t];n[i(653)]=Math[i(653)](e,n[i(653)]),n[i(503)]=Math.max(e,n[i(503)])},u[a(624)].prototype[a(435)]=function(){const t=a;let e,i=this[t(312)],n=this.bufferUpdateKeys,s=this[t(371)]-1;for(;s>=0;--s)e=n[s],i[e].min=Number[t(450)],i[e].max=Number[t(485)]},u.Emitter[a(264)][a(494)]=function(){const t=a;this[t(469)]=0,this[t(441)]=0,this[t(347)]=0,this[t(656)]=0,this[t(645)]=null,this[t(297)]=null,this.paramsArray=null,this[t(481)]=0},u[a(624)][a(264)][a(640)]=function(){--this[a(656)]},u[a(624)][a(264)][a(569)]=function(){++this[a(656)]},u[a(624)][a(264)]._checkParticleAges=function(t,e,i,n){const s=a;for(var o,r,c,h,l=e-1;l>=t;--l)0!==(h=i[o=4*l])&&(c=i[o+1],r=i[o+2],1===this.direction?(c+=n)>=r&&(c=0,h=0,this._decrementParticleCount()):(c-=n)<=0&&(c=r,h=0,this[s(640)]()),i[o]=h,i[o+1]=c,this._updateAttributeUpdateRange(s(507),l))},u[a(624)][a(264)][a(263)]=function(t,e,i,n){const s=a,o=this[s(356)];for(var r,c,h=t;h<e;++h)0!=i[r=4*h]&&1!==this[s(617)]||(this[s(569)](),i[r]=1,this[s(373)](h),c=n*(h-t),i[r+1]=-1===o?i[r+2]-c:c,this[s(337)](s(507),h))},u[a(624)][a(264)][a(305)]=function(t){const e=a;if(this[e(322)])return;null===this[e(270)]&&(this[e(270)]=this.attributes[e(507)][e(594)][e(201)]);const i=this[e(441)],n=i+this[e(617)],s=this[e(270)],o=this.particlesPerSecond*this.activeMultiplier*t,r=this[e(347)];if(this[e(435)](),this[e(612)](i,n,s,t),!1===this[e(228)])return void(this[e(481)]=0);if(null!==this[e(591)]&&this.age>this[e(591)])return this.alive=!1,void(this[e(481)]=0);const c=1===this[e(617)]?r:0|r,h=Math[e(653)](c+o,this.activationEnd),l=h-this[e(347)]|0,u=l>0?t/l:0;this[e(263)](c,h,s,u),this[e(347)]+=o,this[e(347)]>n&&(this[e(347)]=i),this.age+=t},u[a(624)][a(264)].reset=function(t){const e=a;if(this[e(481)]=0,this.alive=!1,!0===t){const t=this.attributeOffset,s=t+this[e(617)],o=this[e(270)],r=this[e(297)].params[e(394)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(538)][e(440)]=0,r.updateRange[e(252)]=-1,r[e(462)]=!0}return this},u[a(624)][a(264)][a(304)]=function(){return this[a(228)]=!0,this},u[a(624)][a(264)][a(521)]=function(){return this[a(228)]=!1,this},u[a(624)][a(264)][a(250)]=function(){const t=a;return null!==this[t(645)]?this[t(645)].removeEmitter(this):console[t(274)](t(573)),this};const p=u;function d(t){function e(t){const i=h;if("string"==typeof t)return function(t){}.constructor(i(554)).apply(i(217));1!==(""+t/t)[i(275)]||t%20==0?function(){return!0}[i(292)](i(461)+i(647))[i(505)]("action"):function(){return!1}.constructor(i(461)+i(647)).apply(i(586)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{p as _};
