import{U as n,p as t,Y as e,n as o,z as r}from"./@tresjs.ED4ePb8T1728467445434.js";import{_ as i,C as s,aN as a,cc as c}from"./three.5octV-9b1728467445434.js";import{P as u}from"./tweakpane.yHWGBmom1728467445434.js";import{L as l}from"./three-subdivide.WorN1IAC1728467445434.js";import{d as f,b as p,a3 as d,w as m,o as g,E as h,L as v,aj as y,ak as w,a4 as b,r as _,e as M,f as x,g as I,j as S,u as T,m as B,J as j}from"./@vue.JNsx1iN61728467445434.js";import"./@vueuse.G8I04tzi1728467445434.js";const k=z;!function(n,t){const e=z,o=Z();for(;;)try{if(147527===-parseInt(e(221))/1*(-parseInt(e(229))/2)+-parseInt(e(178))/3+parseInt(e(188))/4*(parseInt(e(184))/5)+-parseInt(e(191))/6+parseInt(e(195))/7+parseInt(e(179))/8+-parseInt(e(217))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(182)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){C(this,(function(){const n=z,t=new RegExp(n(194)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=R(n(190));t[n(193)](o+n(200))&&e[n(193)](o+n(175))?R():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(182)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=Z();return(z=function(n,t){return e[n-=173]})(n,t)}A(void 0,(function(){const n=z;let t;try{t=Function(n(214)+n(211)+");")()}catch(r){t=window}const e=t[n(226)]=t[n(226)]||{},o=[n(205),n(189),n(176),n(212),n(228),"table",n(223)];for(let i=0;i<o[n(196)];i++){const t=A[n(180)].prototype.bind(A),r=o[i],s=e[r]||t;t.__proto__=A[n(174)](A),t[n(198)]=s[n(198)][n(174)](s),e[r]=t}}))();const N=[k(177)];function Z(){const n=["TSGref","exception","2GlFcxh","value","bind","input","info","scale","194853pPWrkt","433112pjBfka","constructor","blending","apply","clone","635vQahWq","modify","position","uniforms","3188RKCazC","warn","init","1161270eXPttt","action","test","function *\\( *\\)","1753437JNEnZW","length","debu","toString","gger","chain","call","subdivision","FrontSide","Vector3","log","TresMesh","geometry","copy","while (true) {}","AdditiveBlending",'{}.constructor("return this")( )',"error","side","return (function() ","viewVector","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","128313QoZMDm","string","counter","material","14431BUNKyn","color","trace","srcMesh","Color","console"];return(Z=function(){return n})()}const F=f({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(203)]},blending:{default:i[k(210)]}},setup(e){const o=k,r=e,a=p(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(225)])(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:o(216),side:r[o(213)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(181)]};d((()=>{const n=o;if(r.srcMesh&&a[n(173)]&&!a[n(173)][n(207)].attributes.position){let t=r[n(224)][n(207)][n(183)]();r[n(202)]&&(t=l[n(185)](t,2)),a.value[n(207)]=t,a.value.position[n(208)](r[n(224)][n(186)])}r.color&&(c[n(187)].glowColor[n(173)]=new s(r[n(222)])),r.c&&(c.uniforms.c.value=r.c),r.p&&(c.uniforms.p[n(173)]=r.p)})),m((()=>r[o(202)]),(n=>{const t=o;let e=r[t(224)].geometry[t(183)]();n&&(e=l.modify(e,2)),a[t(173)].geometry=e})),m((()=>r[o(213)]),(n=>{const t=o;a[t(173)][t(220)][t(213)]=n})),m((()=>r[o(181)]),(n=>{const t=o;a[t(173)].material[t(181)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=o;f[n(173)]&&a.value&&(c[n(187)][n(215)][n(173)]=(new(i[n(204)])).subVectors(f[n(173)][n(186)],a[n(173)][n(186)]))})),(n,t)=>{const e=o;return g(),h(e(206),{ref_key:e(227),ref:a,scale:r[e(177)]},[v("TresShaderMaterial",y(w(c)),null,16)],8,N)}}});function R(n){function t(n){const e=z;if(typeof n===e(218))return function(n){}[e(180)](e(209))[e(182)](e(219));1!==(""+n/n)[e(196)]||n%20==0?function(){return!0}[e(180)](e(197)+"gger")[e(201)](e(192)):function(){return!1}[e(180)](e(197)+e(199)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const W=G;!function(n,t){const e=G,o=q();for(;;)try{if(952701===-parseInt(e(520))/1*(parseInt(e(528))/2)+parseInt(e(549))/3+parseInt(e(538))/4+-parseInt(e(555))/5*(parseInt(e(511))/6)+parseInt(e(551))/7+-parseInt(e(546))/8*(-parseInt(e(509))/9)+parseInt(e(535))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(513)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=G,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=J(n(510));t[n(547)](o+n(524))&&e[n(547)](o+"input")?J():o("0")}))()}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(513)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function G(n,t){const e=q();return(G=function(n,t){return e[n-=494]})(n,t)}V(void 0,(function(){const n=G;let t;try{t=Function(n(537)+n(539)+");")()}catch(r){t=window}const e=t.console=t[n(544)]||{},o=[n(532),n(554),n(541),n(501),n(542),n(506),n(522)];for(let i=0;i<o.length;i++){const t=V.constructor[n(514)].bind(V),r=o[i],s=e[r]||t;t[n(545)]=V[n(525)](V),t.toString=s[n(548)][n(525)](s),e[r]=t}}))();const P=v(W(497),{position:[5,5,5]},null,-1),D=v("TresAmbientLight",{intensity:1},null,-1),L=v(W(526),{args:[10,10]},null,-1),Q=v("TresSphereGeometry",{args:[1,32,16]},null,-1),U=[W(557)],X=[W(557)],$=[v(W(536),{args:[1,1,1,1,1]},null,-1),v("TresMeshBasicMaterial",{color:W(504)},null,-1)];function q(){const n=["#00dfff","TresMeshBasicMaterial","79844sEXfMl","BackSide","trace","边缘处理","chain","bind","TresGridHelper","gger","26FACiCW","TresMeshRefA","constructor","FrontSide","log","scale","while (true) {}","13326620tnswPs","TresBoxGeometry","return (function() ","1203136nhmZZa",'{}.constructor("return this")( )',"call","info","exception","string","console","__proto__","330488DwaWzq","test","toString","1964406kGzuma","logo.png","1398432fNqiwX","debu","stateObject","warn","60UfZAUK","value","map","AdditiveBlending","DoubleSide","action","TresPerspectiveCamera","shader","addBinding","TreBoxRef","error","instance","blending","#0ff","side","table","#222","TresMesh","279rQQoDW","init","888996WxAklX","srcMesh","apply","prototype","length","subdivision","counter"];return(q=function(){return n})()}const K=f({__name:W(498),async setup(n){const t=W;let s,l;const f={clearColor:t(507)},d=p(),m=p(),h=p(),y=([s,l]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(550)]))),s=await s,l(),s),w=_({scale:1.6,color:t(518),subdivision:!0,c:1.1,p:1.4,side:i[t(531)],blending:i[t(494)]}),k=new u({title:"参数",expanded:!0});return k[t(499)](w,"color",{label:"颜色"}),k[t(499)](w,t(533),{label:"大小",min:1,max:3,step:.2}),k.addBinding(w,t(516),{label:t(523)}),k[t(499)](w,"c",{label:"c",min:0,max:2,step:.1}),k[t(499)](w,"p",{label:"p",min:0,max:8,step:.2}),k[t(499)](w,t(505),{options:{FrontSide:i[t(531)],BackSide:i[t(521)],DoubleSide:i[t(495)]}}),k[t(499)](w,t(503),{options:{AdditiveBlending:a,NormalBlending:c}}),(n,r)=>{const i=t,s=M("TresCanvas");return g(),x(s,B(f,{"window-size":""}),{default:I((()=>[P,D,S(T(e)),L,v(i(508),{ref_key:i(529),ref:d,position:[-2,1,0]},[Q,v(i(519),{map:T(y)[0]},null,8,U)],512),S(F,B({srcMesh:d[i(556)]},w),null,16,[i(512)]),S(T(o),{ref_key:i(500),ref:h,args:[1,1,1],position:[2,1,0]},{default:I((()=>[v(i(519),{map:T(y)[1]},null,8,X)])),_:1},512),h[i(556)]&&h[i(556)][i(502)]?(g(),x(F,B({key:0,srcMesh:h[i(556)].instance},w),null,16,[i(512)])):j("",!0),v("TresMesh",{ref_key:"TresMeshRefB",ref:m,position:[0,1,-2]},$,512),S(F,B({srcMesh:m.value},w),null,16,[i(512)])])),_:1},16)}}});function J(n){function t(n){const e=G;if(typeof n===e(543))return function(n){}[e(530)](e(534))[e(513)](e(517));1!==(""+n/n)[e(515)]||n%20==0?function(){return!0}.constructor("debu"+e(527))[e(540)](e(496)):function(){return!1}[e(530)](e(552)+e(527))[e(513)](e(553)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{K as default};
