import{_ as t,bN as n,U as o}from"./three.HaMTRCf61740450466561.js";import{a as r}from"./@tresjs.9lmhsV6t1740450466561.js";import{d as e,b as a,a3 as s,w as c,o as i,H as u,N as f,aj as l,ak as p}from"./@vue.NRI7TcgI1740450466561.js";function h(){const t=["constructor","482tsdqhw","project_vertex","10309523CqnLjO","ShaderChunk","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defaultnormal_vertex","string","\n\t ","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","stateObject","__proto__","while (true) {}","counter","toString","call","\n      \t","gger","apply","input","error","lights_pars_begin","6533556ECXvcs","debu","length","307077UKnXtT","shadowmap_vertex","\n          ","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","7022koUkaS","trace","shadowmask_pars_fragment","return (function() ","beginnormal_vertex","\n       varying vec2 vUv;\n\t\t\t \t","init","info","bsdfs","shadowmap_pars_fragment","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","8IQhXyq","\n       void main() {\n\t\t\t\t\t","7549632HfSUKh","table","8649210iFYbTa",'{}.constructor("return this")( )',"warn","193440UjumVn","console","packing","shadowmap_pars_vertex","test"];return(h=function(){return t})()}!function(t,n){const o=m,r=h();for(;;)try{if(865344===parseInt(o(350))/1*(parseInt(o(379))/2)+-parseInt(o(375))/3+-parseInt(o(372))/4+parseInt(o(344))/5+-parseInt(o(341))/6+parseInt(o(352))/7*(parseInt(o(337))/8)+parseInt(o(339))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(368)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(355),"i"),r=_(t(332));n.test(r+"chain")&&o[t(348)](r+t(369))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(368)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=h();return(m=function(t,n){return o[t-=327]})(t,n)}g(void 0,(function(){const t=m;let n;try{n=Function(t(329)+t(342)+");")()}catch(e){n=window}const o=n.console=n[t(345)]||{},r=["log",t(343),t(333),t(370),"exception",t(340),t(327)];for(let a=0;a<r[t(374)];a++){const n=g[t(349)].prototype[t(354)](g),e=r[a],s=o[e]||n;n[t(361)]=g[t(354)](g),n.toString=s[t(364)][t(354)](s),o[e]=n}}))();const v=()=>{const o=m;return o(331)+t[o(353)].common+o(366)+t[o(353)][o(334)]+"\n      \t"+n[o(347)]+o(338)+t[o(353)][o(330)]+"\n          "+t[o(353)][o(356)]+o(377)+t[o(353)].begin_vertex+o(377)+t[o(353)][o(351)]+o(377)+t[o(353)].worldpos_vertex+o(377)+t[o(353)][o(376)]+o(359)},w=()=>{const n=m;return n(336)+t[n(353)].common+"\n\t "+t[n(353)][n(346)]+"\n\t "+t[n(353)][n(334)]+n(358)+t[n(353)][n(371)]+n(358)+t[n(353)][n(335)]+n(358)+t[n(353)][n(328)]+n(378)};function _(t){function n(t){const o=m;if(typeof t===o(357))return function(t){}.constructor(o(362))[o(368)](o(363));1!==(""+t/t)[o(374)]||t%20==0?function(){return!0}[o(349)](o(373)+o(367))[o(365)]("action"):function(){return!1}[o(349)]("debu"+o(367))[o(368)](o(360)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=y;!function(t,n){const o=y,r=U();for(;;)try{if(999669===-parseInt(o(192))/1+parseInt(o(204))/2*(-parseInt(o(183))/3)+-parseInt(o(216))/4*(parseInt(o(177))/5)+parseInt(o(206))/6+parseInt(o(171))/7+parseInt(o(196))/8+parseInt(o(184))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(189)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(t,n){const o=U();return(y=function(t,n){return o[t-=168]})(t,n)}!function(){b(this,(function(){const t=y,n=new RegExp(t(214)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=j(t(200));n[t(205)](r+t(211))&&o[t(205)](r+t(207))?j():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function("return (function() "+t(182)+");")()}catch(o){n=window}return n}(),o=n[t(215)]=n[t(215)]||{},r=[t(212),t(169),"info","error","exception","table",t(187)];for(let e=0;e<r[t(193)];e++){const n=S[t(191)][t(208)][t(195)](S),a=r[e],s=o[a]||n;n.__proto__=S[t(195)](S),n[t(173)]=s[t(173)][t(195)](s),o[a]=n}}))();const I=[x(194)],C=[x(170)],T=e({__name:x(181),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:x(197)},edge:{default:.35}},async setup(n){const e=x;let h,d;const g=n,m=a(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(175)]=_[e(186)]=t[e(190)];const b={uniforms:o[e(174)]([t[e(198)].lights,{uTexture:{type:"t",value:_},uColor:{value:new(t[e(201)])(g[e(179)])},uShadowColor:{value:new(t[e(201)])(g.shadowColor)},fEdge:{type:"f",value:g[e(188)]}}]),side:t[e(180)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>g[e(188)]),(t=>{const n=e;b[n(209)].fEdge[n(210)]=t})),c((()=>g[e(179)]),(n=>{const o=e;b[o(209)][o(199)][o(210)]=new(t[o(201)])(g.color)})),c((()=>g.shadowColor),(n=>{const o=e;b[o(209)][o(213)][o(210)]=new(t[o(201)])(g.shadowColor)})),(t,n)=>{const o=e;return i(),u(o(202),{ref_key:"tmRef",ref:m,"rotation-x":-Math.PI/2},[f(o(168),{args:g.size},null,8,C),f(o(176),l(p(b)),null,16)],8,I)}}});function j(t){function n(t){const o=y;if(typeof t===o(185))return function(t){}[o(191)]("while (true) {}")[o(189)](o(217));1!==(""+t/t).length||t%20==0?function(){return!0}[o(191)](o(178)+"gger")[o(172)](o(203)):function(){return!1}[o(191)](o(178)+"gger")[o(189)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function U(){const t=["log","uShadowColor","function *\\( *\\)","console","32332dYYdCO","counter","TresPlaneGeometry","warn","args","6642566ZVgSet","call","toString","merge","wrapS","TresShaderMaterial","780nNYTeE","debu","color","DoubleSide","whiteFloorMesh",'{}.constructor("return this")( )',"5862uZGUBm","2270214tLPTJs","string","wrapT","trace","edge","apply","RepeatWrapping","constructor","220169SzRmeH","length","rotation-x","bind","11192872GOXKeO","#999","UniformsLib","uColor","init","Color","TresMesh","action","1574ZnXxHx","test","8509746rELwih","input","prototype","uniforms","value","chain"];return(U=function(){return t})()}export{T as _};
