import{q as t,Y as n}from"./@tresjs.BFyWuCYn1726273176332.js";import{P as e}from"./tweakpane.yHWGBmom1726273176332.js";import{_ as o,a0 as r,ak as a,al as s}from"./three.874nNzAX1726273176332.js";import{_ as i}from"./heatmap.js-fix.IWhE33pF1726273176332.js";import{d as u,a4 as c,a3 as l,o as p,E as f,u as d,r as h,e as m,f as g,g as v,j as y,al as w,aj as b,ak as _,m as x,L as j}from"./@vue.JNsx1iN61726273176332.js";import"./@vueuse.NxhkGURn1726273176332.js";import"./@amap.5r4w7xpt1726273176332.js";const I=Z;!function(t,n){const e=Z,o=k();for(;;)try{if(951195===parseInt(e(262))/1+-parseInt(e(221))/2+-parseInt(e(242))/3+-parseInt(e(215))/4*(-parseInt(e(256))/5)+parseInt(e(231))/6+-parseInt(e(211))/7+parseInt(e(266))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(259)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(269),"i"),o=S(t(257));n[t(253)](o+t(236))&&e[t(253)](o+t(213))?S():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(259)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();z(void 0,(function(){const t=Z;let n;try{n=Function(t(239)+t(255)+");")()}catch(r){n=window}const e=n.console=n[t(254)]||{},o=[t(223),t(237),"info",t(207),"exception","table",t(220)];for(let a=0;a<o[t(245)];a++){const n=z[t(217)][t(249)][t(205)](z),r=o[a],s=e[r]||n;n[t(241)]=z[t(205)](z),n[t(233)]=s.toString.bind(s),e[r]=n}}))();const M=["object"];function Z(t,n){const e=k();return(Z=function(t,n){return e[t-=205]})(t,n)}function k(){const t=["Texture","setScalar","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","canvas","style","874812jaeJMU","boundingBox","toString","computeBoundingBox","absolute","chain","warn","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","return (function() ","gger","__proto__","1105671JYFrNC","onclick","material","length","layerX","geometry","1px solid #5384ff","prototype","border","setAttribute","string","test","console",'{}.constructor("return this")( )',"325wXZXep","init","mesh_0","apply","stateObject","none","1175883iwCtqF","appendChild","action","attributes","11050824teEtun","show2dCanvas","createElement","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","block","count","heatmap-canvas","left","bind","deleteAttribute","error","debu","needsUpdate","BufferAttribute","10366846OoWJTO","setDataMax","input","display","15248uoFDqZ","heatmapClickCom","constructor","position","radius","trace","300176jgYSNA","set","log","ShaderMaterial","addData"];return(k=function(){return t})()}const A=u({__name:I(216),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const u=n,{nodes:h}=([a,s]=c((()=>t(e(228),{draco:!0,decoderPath:"./draco/"}))),a=await a,s(),a);h.mesh_0[e(218)][e(222)](-5088.96,-3.08,39374.7),h[e(258)].scale[e(227)](.01);let m=null,g=null,v=null;g=new(o[e(226)])((()=>{const t=e;return v=document[t(268)](t(273)),v[t(230)][t(218)]=t(235),v[t(230)].top="40px",v.style[t(274)]="0",document.body[t(263)](v),m=i.create({container:v,width:256,height:256,blur:"0.8",radius:u[t(219)]}),m._renderer[t(229)].style[t(250)]=t(248),m._renderer.canvas[t(243)]=function(n){const e=t;m[e(225)]({x:n[e(246)],y:n.layerY,value:1,radius:u[e(219)]}),m[e(212)](1),g&&(g[e(209)]=!0)},m})()._renderer[e(229)]);const y={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(238),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},w=new(o[e(224)])(y);h.mesh_0[e(244)]=w;return(t=>{const n=e;t[n(234)]();const{max:r,min:a}=t[n(232)];t[n(206)]("uv");const s=r.x-a.x,i=r.z-a.z,u=[];for(let e=0;e<t[n(265)][n(218)][n(272)];e++)u.push((t.attributes[n(218)].getX(e)-a.x)/s),u.push((t[n(265)][n(218)].getZ(e)-a.z)/i);const c=new Float32Array(u);t[n(251)]("uv",new(o[n(210)])(c,2))})(h[e(258)][e(247)]),l((()=>{const t=e;v[t(230)][t(214)]=""+(u[t(267)]?t(271):t(261))})),(t,n)=>(p(),f("primitive",{object:d(h).mesh_0},null,8,M))}});function S(t){function n(t){const e=Z;if(typeof t===e(252))return function(t){}[e(217)]("while (true) {}")[e(259)]("counter");1!==(""+t/t)[e(245)]||t%20==0?function(){return!0}[e(217)](e(208)+e(240))[e(270)](e(264)):function(){return!1}[e(217)](e(208)+e(240))[e(259)](e(260)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=q;!function(t,n){const e=q,o=D();for(;;)try{if(490236===parseInt(e(438))/1*(-parseInt(e(448))/2)+parseInt(e(413))/3+-parseInt(e(451))/4+parseInt(e(417))/5+parseInt(e(427))/6*(-parseInt(e(447))/7)+-parseInt(e(445))/8+-parseInt(e(410))/9*(-parseInt(e(416))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(428)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=q,n=new RegExp(t(425)),e=new RegExp(t(412),"i"),o=R("init");n[t(421)](o+t(440))&&e[t(421)](o+"input")?R():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(428)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=q,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(457)]=n.console||{},o=[t(422),t(444),t(453),t(456),t(429),t(415),t(452)];for(let r=0;r<o[t(450)];r++){const n=T[t(434)].prototype[t(432)](T),a=o[r],s=e[a]||n;n[t(430)]=T[t(432)](T),n[t(420)]=s[t(420)].bind(s),e[a]=n}}))();const U=j(F(446),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),B=j(F(411),{position:[5,10,7.5],color:F(424),intensity:5},null,-1),E=j(F(455),{args:[50,25]},null,-1);function q(t,n){const e=D();return(q=function(t,n){return e[t-=409]})(t,n)}function D(){const t=["576260ryfNTz","圆圈的大小","debu","toString","test","log","addButton","#ffffff","function *\\( *\\)","while (true) {}","18744pHKZUe","apply","exception","__proto__","显示二维图","bind","show2dCanvas","constructor","点击左侧蓝色画框","addBinding","string","1vtMApO","gger","chain","radius","#030311","heatmapClick","warn","1993032hnGnnO","TresPerspectiveCamera","1862dPPYrp","444342nZtZaF","action","length","2318012hzzCZu","trace","info","stateObject","TresGridHelper","error","console","call","45UYIkxq","TresDirectionalLight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","717048nuFMqu","counter","table","4035510CdgNQd"];return(D=function(){return t})()}const P=u({__name:F(443),setup(t){const o=F,r={clearColor:o(442),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(436)](i,o(433),{label:o(431)}),u[o(436)](i,o(441),{label:o(418),min:.1,max:30,step:.1}),u[o(423)]({title:o(435)}),(t,e)=>{const o=m("TresCanvas");return p(),g(o,x(r,{"window-size":""}),{default:v((()=>[U,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),B,E,(p(),g(w,null,{default:v((()=>[y(A,b(_(i)),null,16)])),_:1}))])),_:1},16)}}});function R(t){function n(t){const e=q;if(typeof t===e(437))return function(t){}.constructor(e(426))[e(428)](e(414));1!==(""+t/t).length||t%20==0?function(){return!0}[e(434)](e(419)+"gger")[e(409)](e(449)):function(){return!1}[e(434)](e(419)+e(439))[e(428)](e(454)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{P as default};
