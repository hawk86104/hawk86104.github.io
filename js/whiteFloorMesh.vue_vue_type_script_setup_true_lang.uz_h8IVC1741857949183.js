import{bO as t,_ as n}from"./three.Gi_-4zeu1741857949183.js";import{a as o}from"./@tresjs.8SAr0PX_1741857949183.js";import{d as e,b as r,a3 as a,w as s,o as i,H as u,N as c,aj as f,ak as l}from"./@vue.NRI7TcgI1741857949183.js";function p(t,n){const o=g();return(p=function(t,n){return o[t-=315]})(t,n)}!function(t,n){const o=p,e=g();for(;;)try{if(422922===parseInt(o(351))/1*(parseInt(o(328))/2)+parseInt(o(369))/3*(-parseInt(o(327))/4)+-parseInt(o(338))/5*(parseInt(o(332))/6)+-parseInt(o(340))/7+parseInt(o(368))/8*(parseInt(o(336))/9)+-parseInt(o(324))/10*(parseInt(o(356))/11)+parseInt(o(358))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const h=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[p(357)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){h(this,(function(){const t=p,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(320),"i"),e=w(t(345));n[t(323)](e+t(353))&&o.test(e+t(343))?w():e("0")}))()}();const d=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function g(){const t=["while (true) {}","shadowmap_pars_vertex","lights_pars_begin","\n\t ","beginnormal_vertex","\n          ","return (function() ","\n      \t","8nTsASt","216561wCnalx","gger","console","ShaderChunk","debu","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n       void main() {\n\t\t\t\t\t","prototype","test","10SxqxoX","shadowmask_pars_fragment","project_vertex","28nxsmPK","166tOxJzy","\n       varying vec2 vUv;\n\t\t\t \t","packing","warn","56466UWIWUM","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","defaultnormal_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","1437921ogiRDa","worldpos_vertex","65RGLoid","error","811524kahDCI","bsdfs","action","input","__proto__","init","shadowmap_pars_fragment","constructor","trace","counter","info","7018sIMaqb","call","chain","common","shadowmap_vertex","1703603wPoDnL","apply","6949392zHTBtt","toString"];return(g=function(){return t})()}d(void 0,(function(){const t=p;let n;try{n=Function(t(366)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n[t(316)]=n[t(316)]||{},e=["log",t(331),t(350),t(339),"exception","table",t(348)];for(let a=0;a<e.length;a++){const n=d[t(347)][t(322)].bind(d),r=e[a],s=o[r]||n;n[t(344)]=d[t(319)](d),n[t(359)]=s[t(359)][t(319)](s),o[r]=n}}))();const m=()=>{const o=p;return o(329)+t[o(354)]+o(367)+n[o(317)][o(341)]+o(367)+n[o(317)][o(361)]+o(321)+n[o(317)][o(364)]+o(365)+t[o(334)]+o(365)+n[o(317)].begin_vertex+o(365)+n[o(317)][o(326)]+o(365)+n[o(317)][o(337)]+"\n          "+t[o(355)]+o(333)},v=()=>{const o=p;return o(335)+t.common+o(363)+n[o(317)][o(330)]+o(363)+t[o(341)]+"\n\t "+n[o(317)][o(362)]+"\n\t "+n[o(317)][o(346)]+"\n\t "+n[o(317)][o(325)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function w(t){function n(t){const o=p;if("string"==typeof t)return function(t){}.constructor(o(360))[o(357)](o(349));1!==(""+t/t).length||t%20==0?function(){return!0}[o(347)](o(318)+o(315))[o(352)](o(342)):function(){return!1}[o(347)]("debugger")[o(357)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const _=b;!function(t,n){const o=b,e=T();for(;;)try{if(644578===-parseInt(o(248))/1*(-parseInt(o(292))/2)+-parseInt(o(267))/3+-parseInt(o(243))/4*(-parseInt(o(260))/5)+parseInt(o(259))/6*(-parseInt(o(299))/7)+-parseInt(o(286))/8*(-parseInt(o(244))/9)+parseInt(o(249))/10*(parseInt(o(275))/11)+-parseInt(o(269))/12*(parseInt(o(289))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const x=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[b(264)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){x(this,(function(){const t=b,n=new RegExp(t(247)),o=new RegExp(t(274),"i"),e=M(t(288));n[t(254)](e+t(293))&&o[t(254)](e+t(295))?M():e("0")}))()}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[b(264)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function b(t,n){const o=T();return(b=function(t,n){return o[t-=241]})(t,n)}I(void 0,(function(){const t=b;let n;try{n=Function(t(280)+'{}.constructor("return this")( ));')()}catch(r){n=window}const o=n.console=n[t(291)]||{},e=[t(262),t(250),t(287),t(245),t(300),t(257),"trace"];for(let a=0;a<e.length;a++){const n=I[t(251)].prototype[t(256)](I),r=e[a],s=o[r]||n;n.__proto__=I[t(256)](I),n[t(253)]=s[t(253)].bind(s),o[r]=n}}))();const y=[_(268)],S=[_(283)],C=e({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:"#999"},edge:{default:.35}},async setup(t){const e=_;let p,h;const d=t,g=r(),{map:w}=([p,h]=a((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,h(),p);w[e(261)]=w[e(290)]=n[e(246)];const x={uniforms:n[e(294)][e(285)]([n[e(278)][e(266)],{uTexture:{type:"t",value:w},uColor:{value:new(n[e(241)])(d[e(298)])},uShadowColor:{value:new(n[e(241)])(d[e(252)])},fEdge:{type:"f",value:d.edge}}]),side:n[e(272)],vertexShader:m(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>d[e(282)]),(t=>{x.uniforms.fEdge.value=t})),s((()=>d.color),(t=>{const o=e;x.uniforms[o(255)].value=new(n[o(241)])(d[o(298)])})),s((()=>d[e(252)]),(t=>{const o=e;x[o(258)][o(284)].value=new(n[o(241)])(d[o(252)])})),(t,n)=>{const o=e;return i(),u(o(242),{ref_key:o(277),ref:g,"rotation-x":-Math.PI/2},[c(o(279),{args:d[o(263)]},null,8,S),c("TresShaderMaterial",f(l(x)),null,16)],8,y)}}});function M(t){function n(t){const o=b;if("string"==typeof t)return function(t){}[o(251)](o(296))[o(264)](o(281));1!==(""+t/t)[o(265)]||t%20==0?function(){return!0}[o(251)](o(273)+o(271))[o(270)](o(276)):function(){return!1}[o(251)]("debugger")[o(264)](o(297)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function T(){const t=["while (true) {}","stateObject","color","7zpjNeS","exception","Color","TresMesh","4fYPbEH","496062JMBoQt","error","RepeatWrapping","function *\\( *\\)","673NxkxQM","10hVUTbI","warn","constructor","shadowColor","toString","test","uColor","bind","table","uniforms","369114pOWMzl","5869745Brwbii","wrapS","log","size","apply","length","lights","699693cHewZj","rotation-x","28906068RzQUAO","call","gger","DoubleSide","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6971833SosdDE","action","tmRef","UniformsLib","TresPlaneGeometry","return (function() ","counter","edge","args","uShadowColor","merge","168TLFXnB","info","init","13fCRLNw","wrapT","console","1138hHVJNa","chain","UniformsUtils","input"];return(T=function(){return t})()}export{C as _};
