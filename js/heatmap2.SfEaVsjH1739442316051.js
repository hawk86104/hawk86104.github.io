import{P as t}from"./tweakpane.yDiyAAkA1739442316051.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.GIguzfce1739442316051.js";import{_ as r}from"./heatmap.js-fix.LQ751B041739442316051.js";import{a as i,_ as c,c2 as s,B as u}from"./three.OosFxi571739442316051.js";import{r as a}from"./utils.jKidLUsI1739442316051.js";import{d as p}from"./pinia.ptJyy4pp1739442316051.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as w,W as b,P as _,R as I,L as j,O as x,a3 as S,r as D,j as R,g as E,m as M}from"./@vue.NRI7TcgI1739442316051.js";import{c as T,d as B,a as P}from"./three-mesh-bvh.ZvwtLaXH1739442316051.js";import{_ as Z}from"./@fesjs.DgjXCZoG1739442316051.js";import"./@tresjs.4XV_x0mI1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./three-custom-shader-material.d7b09qIZ1739442316051.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1739442316051.js";import"./@amap.VoZ91NZx1739442316051.js";import"./vue-router.bqZmV3c61739442316051.js";import"./lodash-es.pklfUAS51739442316051.js";import"./@qlin.yHhFDldE1739442316051.js";import"./@floating-ui.BPbuo5Gx1739442316051.js";import"./@juggle.7yjBMqoW1739442316051.js";!function(t,n){const e=F,o=z();for(;;)try{if(595072===parseInt(e(398))/1+-parseInt(e(424))/2+parseInt(e(416))/3+parseInt(e(392))/4+parseInt(e(400))/5*(parseInt(e(383))/6)+parseInt(e(410))/7*(parseInt(e(431))/8)+-parseInt(e(427))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(391)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=F,n=new RegExp(t(423)),e=new RegExp(t(425),"i"),o=V(t(429));n[t(421)](o+t(405))&&e[t(421)](o+t(419))?V():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(391)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function("return (function() "+t(413)+");")()}catch(e){n=window}return n}(),e=n[t(412)]=n[t(412)]||{},o=[t(385),t(415),t(403),t(411),"exception","table",t(397)];for(let r=0;r<o[t(414)];r++){const n=O[t(428)][t(417)][t(432)](O),i=o[r],c=e[i]||n;n[t(387)]=O[t(432)](O),n[t(401)]=c[t(401)][t(432)](c),e[i]=n}}))();const k=(t,n)=>t[F(420)](n)+-10;function z(){const t=["toString","create","info","heatmap-canvas","chain","display","appendChild","while (true) {}","randInt","21KZjvPK","error","console",'{}.constructor("return this")( )',"length","warn","833586eVsOub","prototype","createElement","input","getValueAt","test","position","function *\\( *\\)","905846ETkDAB","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","15597891hkovQD","constructor","init","rgb(255,0,0)","1415240ywRSIX","bind","54nrTaSS","stateObject","log","style","__proto__","none","push","_config","apply","3327680kdLlNr","width","rgb(0,0,255)","counter","action","trace","542394VGxTYK","yellow","332335scFqhB"];return(z=function(){return t})()}function F(t,n){const e=z();return(F=function(t,n){return e[t-=383]})(t,n)}function V(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(428)](e(408))[e(391)](e(395));1!==(""+t/t)[e(414)]||t%20==0?function(){return!0}.constructor("debugger").call(e(396)):function(){return!1}.constructor("debu"+e(426))[e(391)](e(384)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=W,o=q();for(;;)try{if(515953===parseInt(e(175))/1*(-parseInt(e(151))/2)+parseInt(e(159))/3*(-parseInt(e(160))/4)+-parseInt(e(156))/5+-parseInt(e(158))/6*(parseInt(e(176))/7)+parseInt(e(167))/8+parseInt(e(148))/9*(-parseInt(e(157))/10)+parseInt(e(164))/11*(parseInt(e(162))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(179)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(){const t=["2873680opSYsw","40BiSNqT","42EBVWcv","15891dutcgz","384uUsVPl","trace","10113276dGmBko","constructor","33vvVXdi","string","bind","6425928AhdDXW","table","prototype","length","info","gger","input","log","6722doTcnj","829171GSebND","value","exception","apply","console","toString","debu",'{}.constructor("return this")( )',"return (function() ","test","1669185JovJsq","call","while (true) {}","48eKBojy","warn","init","chain","stateObject"];return(q=function(){return t})()}!function(){$(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y(t(153));n[t(147)](o+t(154))&&e[t(147)](o+t(173))?Y():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(179)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=q();return(W=function(t,n){return e[t-=147]})(t,n)}U(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(184)+t(183)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(180)]||{},o=[t(174),t(152),t(171),"error",t(178),t(168),t(161)];for(let r=0;r<o[t(170)];r++){const n=U[t(163)][t(169)][t(166)](U),i=o[r],c=e[i]||n;n.__proto__=U[t(166)](U),n[t(181)]=c[t(181)][t(166)](c),e[i]=n}}))();const L=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[W(177)]=n},setTemperature:function(t){n[W(177)]=t}}}));function Y(t){function n(t){const e=W;if(typeof t===e(165))return function(t){}[e(163)](e(150))[e(179)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(182)+"gger")[e(149)]("action"):function(){return!1}.constructor(e(182)+e(172))[e(179)](e(155)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=H;!function(t,n){const e=H,o=Q();for(;;)try{if(514121===parseInt(e(531))/1+parseInt(e(505))/2*(-parseInt(e(472))/3)+-parseInt(e(519))/4+-parseInt(e(501))/5*(-parseInt(e(499))/6)+parseInt(e(476))/7+-parseInt(e(489))/8+parseInt(e(491))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=H,n=new RegExp(t(528)),e=new RegExp(t(543),"i"),o=tt(t(522));n[t(500)](o+t(481))&&e[t(500)](o+"input")?tt():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(483)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(478)+t(540)+");")()}catch(e){n=window}return n}(),e=n[t(541)]=n[t(541)]||{},o=[t(498),"warn",t(539),t(493),t(520),t(469),t(534)];for(let r=0;r<o[t(468)];r++){const n=N.constructor.prototype[t(524)](N),i=o[r],c=e[i]||n;n[t(471)]=N[t(524)](N),n.toString=c[t(495)].bind(c),e[i]=n}}))();const X=[G(536),G(473)],C=[G(536)];function H(t,n){const e=Q();return(H=function(t,n){return e[t-=468]})(t,n)}function Q(){const t=["stateObject","11780892qWdRhS","counter","error","primitive","toString","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","constructor","log","29748yWMSRj","test","690LpKRYz","_config","disposeBoundsTree","while (true) {}","4RcQdUQ","uniforms","BufferGeometry","computeBoundsTree","geometry","action","string","applyMatrix4","opacity","model","数值———：","Texture","city","gger","1026888bOyIrP","exception","needsUpdate","init","setTemperature","bind","matrix","DoubleSide","land","function *\\( *\\)","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","children","633484qeyPgx","Mesh","normal","trace","value","object","call","debu","info",'{}.constructor("return this")( )',"console","Matrix4","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","table","buildingsHeatmap","__proto__","1524819swMZRf","rotation-x","setShowDiv","mergeGeometries","469098SZawrN","prototype","return (function() ","attributes","makeRotationX","chain","数值：","apply","ShaderMaterial","$patch","canvas","clone","height","7250408tqnDsD"];return(Q=function(){return t})()}const J=l({__name:G(470),props:{model:{},opacity:{default:1}},setup(t){const n=G;(()=>{const t=H;c[t(507)][t(477)].computeBoundsTree=T,u[t(477)][t(503)]=B,c[t(532)][t(477)].raycast=P})();const e=t,o=((t=250,n=250,e=!0)=>{const o=F,i=document[o(418)](o(404));return i[o(386)][o(422)]="absolute",!e&&(i.style[o(406)]=o(388)),i[o(386)].top="0",i[o(386)].left="0",document.body[o(407)](i),r[o(402)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(394),.55:"rgb(0,255,0)",.85:o(399),1:o(430)}})})();((t,n)=>{const e=F;if(!n){let o=0;for(n=[];o<1e3;)n[e(389)]({x:i[e(409)](1,t[e(390)][e(393)]),y:i[e(409)](1,t._config.height),value:i.randInt(-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const p=new(c[n(516)])(o._renderer[n(486)]);p[n(521)]=!0;const f=e[n(514)][n(517)][n(487)]();delete f.geometry[n(479)].normal,delete f[n(509)][n(479)].uv;const l=f[n(509)][n(487)]()[n(512)](f[n(525)]),w=e[n(514)][n(527)][n(487)]();delete w.geometry[n(479)][n(533)];const b=w.geometry[n(487)]()[n(512)](w[n(525)]),_=s[n(475)]([l,b]);_.applyMatrix4((new(c[n(542)]))[n(480)](Math.PI/2)),a(_),_[n(508)]();const I=(t=>{const o=n;return new(c[o(484)])({vertexShader:o(529),fragmentShader:o(496),uniforms:{uOpacity:{value:e[o(513)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(526)]})})(p),j=new(c[n(532)])(_,I);h((()=>{const t=n;e[t(513)]&&(I[t(506)].uOpacity[t(535)]=e[t(513)])}));const x=L(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o._config.width,y:(1-t.uv.y)*o[e(502)][e(488)]};console[e(498)](e(482),t),console[e(498)](e(515),k(o,n)),x[e(523)](k(o,n))}},D=t=>{t&&x[n(485)]({showDiv:!0})},R=t=>{t&&x[n(474)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g("primitive",{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:D,onPointerLeave:R},null,40,X),g(r(494),{object:e[r(514)][r(514)][r(530)][0][r(487)]()},null,8,C)],64)}}});function tt(t){function n(t){const e=H;if(typeof t===e(511))return function(t){}[e(497)](e(504)).apply(e(492));1!==(""+t/t)[e(468)]||t%20==0?function(){return!0}.constructor(e(538)+e(518))[e(537)](e(510)):function(){return!1}[e(497)]("debu"+e(518))[e(483)](e(490)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=Z({__name:"dataDiv",setup(t){const n=L(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[I,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=ot;function ot(t,n){const e=rt();return(ot=function(t,n){return e[t-=401]})(t,n)}function rt(){const t=["city","string","#000","prototype","toString","1457024PeEgYT","constructor","action","init","debu","__proto__","opacity","trace","gger","error","heatmap2","addBinding","builds","info","value","table","25corEwf","test","透明度",'{}.constructor("return this")( )',"1758468gTPFfp","544274IKmhYj","12696ZghDGs","function *\\( *\\)","chain","console","apply","warn","1017Lwetlr","58568FWZYfU","bind","4873065vhpyTw","594377xDyevB","input","length","return (function() ","counter"];return(rt=function(){return t})()}!function(t,n){const e=ot,o=rt();for(;;)try{if(835679===-parseInt(e(424))/1+-parseInt(e(403))/2+parseInt(e(434))/3+-parseInt(e(432))/4*(parseInt(e(419))/5)+parseInt(e(423))/6+parseInt(e(435))/7+-parseInt(e(425))/8*(-parseInt(e(431))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(429)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=ot,n=new RegExp(t(426)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ut(t(406));n[t(420)](o+t(427))&&e[t(420)](o+t(436))?ut():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(429)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();ct(void 0,(function(){const t=ot;let n;try{n=Function(t(438)+t(422)+");")()}catch(r){n=window}const e=n[t(428)]=n[t(428)]||{},o=["log",t(430),t(416),t(412),"exception",t(418),t(410)];for(let i=0;i<o.length;i++){const n=ct[t(404)][t(401)][t(433)](ct),r=o[i],c=e[r]||n;n[t(408)]=ct[t(433)](ct),n[t(402)]=c[t(402)][t(433)](c),e[r]=n}}))();const st=l({__name:et(413),async setup(r){const i=et;let c,s;const u=f(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u[i(417)]=!0;const p=D({width:1,color:i(442),opacity:1,show:!0}),l=D({opacity:.9});return new t({title:"参数",expanded:!0})[i(414)](l,i(409),{label:i(421),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:E((()=>[R(J,M({model:y(a)},l),null,16,["model"]),R(n,M(p,{builds:y(a)[r(440)]}),null,16,[r(415)])])),_:1}),R(nt)],64)}}});function ut(t){function n(t){const e=ot;if(typeof t===e(441))return function(t){}[e(404)]("while (true) {}")[e(429)](e(439));1!==(""+t/t)[e(437)]||t%20==0?function(){return!0}[e(404)](e(407)+e(411)).call(e(405)):function(){return!1}[e(404)]("debu"+e(411))[e(429)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
