import{P as t}from"./tweakpane.yDiyAAkA1742436572432.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.5K_nrXAQ1742436572432.js";import{_ as r}from"./heatmap.js-fix.i2oWYOnT1742436572432.js";import{a as i,_ as c,c3 as s,M as u}from"./three.RUAk_tvU1742436572432.js";import{r as a}from"./utils.xj2ovq-o1742436572432.js";import{d as p}from"./pinia.9br8mKkJ1742436572432.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as w,W as b,P as _,R as I,L as x,O as j,a3 as M,r as S,j as E,g as R,m as z}from"./@vue.deO5D3Lf1742436572432.js";import{c as A,d as F,a as T}from"./three-mesh-bvh.OK1RUacG1742436572432.js";import{_ as D}from"./@fesjs.40Mt4LlK1742436572432.js";import"./@tresjs.Uh9iM8du1742436572432.js";import"./postprocessing.5QD_59xS1742436572432.js";import"./@vueuse.F4UpVCIS1742436572432.js";import"./three-custom-shader-material.BcjKDN_X1742436572432.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742436572432.js";import"./@amap.NCZycnIs1742436572432.js";import"./vue-router.EzCcHFzL1742436572432.js";import"./lodash-es.p1wj6C0b1742436572432.js";import"./@qlin.yHhFDldE1742436572432.js";import"./@floating-ui.BPbuo5Gx1742436572432.js";import"./@juggle.7yjBMqoW1742436572432.js";function P(t,n){const e=q();return(P=function(t,n){return e[t-=225]})(t,n)}!function(t,n){const e=P,o=q();for(;;)try{if(273439===-parseInt(e(257))/1*(parseInt(e(270))/2)+parseInt(e(278))/3+parseInt(e(260))/4+-parseInt(e(230))/5*(-parseInt(e(265))/6)+-parseInt(e(241))/7*(-parseInt(e(249))/8)+-parseInt(e(273))/9+-parseInt(e(227))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(274)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=P,n=new RegExp(t(259)),e=new RegExp(t(268),"i"),o=k(t(266));n.test(o+t(258))&&e.test(o+t(240))?k():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(274)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=P;let n;try{n=Function("return (function() "+t(271)+");")()}catch(r){n=window}const e=n[t(262)]=n[t(262)]||{},o=[t(237),t(269),t(235),"error","exception",t(272),t(250)];for(let i=0;i<o[t(253)];i++){const n=O.constructor.prototype[t(226)](O),r=o[i],c=e[r]||n;n[t(247)]=O[t(226)](O),n.toString=c[t(276)].bind(c),e[r]=n}}))();const V=(t,n)=>t.getValueAt(n)+-10;function k(t){function n(t){const e=P;if(typeof t===e(245))return function(t){}.constructor(e(231))[e(274)](e(234));1!==(""+t/t)[e(253)]||t%20==0?function(){return!0}[e(256)](e(246)+e(225))[e(275)](e(254)):function(){return!1}[e(256)](e(246)+e(225))[e(274)](e(232)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function q(){const t=["call","toString","position","1370868ikAMhp","width","gger","bind","6107420KiiWup","push","height","65QehClx","while (true) {}","stateObject","display","counter","info","left","log","yellow","createElement","input","1453669qvixBB","create","top","randInt","string","debu","__proto__","setData","8qvnwBs","trace","rgb(0,0,255)","_config","length","action","appendChild","constructor","10PeoRTa","chain","function *\\( *\\)","2122428mHzsyC","style","console","heatmap-canvas","absolute","87312zTfigI","init","rgb(255,0,0)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","81058XQOoer",'{}.constructor("return this")( )',"table","854415EWMNZZ","apply"];return(q=function(){return t})()}const L=B;function B(t,n){const e=C();return(B=function(t,n){return e[t-=404]})(t,n)}!function(t,n){const e=B,o=C();for(;;)try{if(614939===parseInt(e(411))/1*(parseInt(e(423))/2)+-parseInt(e(427))/3+-parseInt(e(417))/4+parseInt(e(407))/5*(-parseInt(e(414))/6)+-parseInt(e(415))/7*(-parseInt(e(424))/8)+parseInt(e(437))/9+-parseInt(e(431))/10*(-parseInt(e(429))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["table","5LWchSX","chain","prototype","buildingsHeatmap","9xVVLNT",'{}.constructor("return this")( )',"gger","7363092HkTLGJ","35TaxEaV","length","2532628GQoJVY","bind","debu","exception","__proto__","constructor","216998oLRfXl","1125736zyPqzF","function *\\( *\\)","return (function() ","945537CHPIAx","input","11FMOSse","string","1962460FMFfZy","value","apply","console","while (true) {}","call","8227215ezfjnV","toString","log"];return(C=function(){return t})()}!function(){$(this,(function(){const t=B,n=new RegExp(t(425)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H("init");n.test(o+t(408))&&e.test(o+t(428))?H():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(433)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(426)+t(412)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(434)]||{},o=[t(405),"warn","info","error",t(420),t(406),"trace"];for(let r=0;r<o[t(416)];r++){const n=G.constructor[t(409)][t(418)](G),i=o[r],c=e[i]||n;n[t(421)]=G[t(418)](G),n[t(404)]=c[t(404)][t(418)](c),e[i]=n}}))();const W=p(L(410),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[B(432)]=t}}}));function H(t){function n(t){const e=B;if(typeof t===e(430))return function(t){}[e(422)](e(435))[e(433)]("counter");1!==(""+t/t)[e(416)]||t%20==0?function(){return!0}[e(422)](e(419)+e(413))[e(436)]("action"):function(){return!1}[e(422)](e(419)+e(413)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=tt;!function(t,n){const e=tt,o=J();for(;;)try{if(804480===-parseInt(e(295))/1+parseInt(e(277))/2+-parseInt(e(319))/3+-parseInt(e(273))/4+parseInt(e(305))/5+-parseInt(e(326))/6+parseInt(e(317))/7*(parseInt(e(327))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(291)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=tt,n=new RegExp(t(284)),e=new RegExp(t(315),"i"),o=nt("init");n[t(289)](o+"chain")&&e[t(289)](o+t(316))?nt():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=tt,n=function(){const t=tt;let n;try{n=Function(t(281)+t(288)+");")()}catch(e){n=window}return n}(),e=n[t(270)]=n[t(270)]||{},o=[t(296),"warn",t(320),t(299),t(283),t(294),"trace"];for(let r=0;r<o[t(290)];r++){const n=X[t(321)].prototype[t(297)](X),i=o[r],c=e[i]||n;n.__proto__=X.bind(X),n[t(265)]=c[t(265)][t(297)](c),e[i]=n}}))();const N=["object",K(278)],Q=[K(329)];function J(){const t=["length","apply","needsUpdate","raycast","table","1546460YryiCR","log","bind","BufferGeometry","error","model","uOpacity","mergeGeometries","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","3605880axKunE","computeBoundsTree","action","debu","_config","buildingsHeatmap","counter","setShowDiv","disposeBoundsTree","matrix","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","14VTUuFl","stateObject","1233120ADJQbS","info","constructor","gger","ShaderMaterial","Texture","makeRotationX","3272424VrLtxv","7467944qmmKnR","string","object","city","opacity","toString","$patch","geometry","canvas","width","console","applyMatrix4","height","2314704qGGQtR","clone","数值———：","DoubleSide","2595796FfxAqi","rotation-x","prototype","attributes","return (function() ","_renderer","exception","function *\\( *\\)","数值：","primitive","Mesh",'{}.constructor("return this")( )',"test"];return(J=function(){return t})()}const Y=l({__name:K(310),props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=tt;c[t(298)][t(279)][t(306)]=A,c[t(298)][t(279)][t(313)]=F,c[t(287)][t(279)][t(293)]=T})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document[o(239)](o(263));return i.style[o(277)]=o(264),!e&&(i[o(261)][o(233)]="none"),i.style[o(243)]="0",i[o(261)][o(236)]="0",document.body[o(255)](i),r[o(242)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(251),.55:"rgb(0,255,0)",.85:o(238),1:o(267)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n[e(228)]({x:i[e(244)](1,t[e(252)][e(279)]),y:i[e(244)](1,t[e(252)][e(229)]),value:i[e(244)](-10,36)}),o++}t[e(248)]({max:36,min:-10,data:n})})(o);const p=new(c[n(324)])(o[n(282)][n(268)]);p[n(292)]=!0;const f=e.model[n(263)].clone();delete f[n(267)][n(280)].normal,delete f[n(267)][n(280)].uv;const l=f[n(267)][n(274)]()[n(271)](f[n(314)]),w=e.model.land[n(274)]();delete w[n(267)][n(280)].normal;const b=w[n(267)][n(274)]()[n(271)](w[n(314)]),_=s[n(302)]([l,b]);_[n(271)]((new u)[n(325)](Math.PI/2)),a(_),_[n(306)]();const I=(t=>{const o=n;return new(c[o(323)])({vertexShader:o(303),fragmentShader:o(304),uniforms:{uOpacity:{value:e[o(264)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(276)]})})(p),x=new(c[n(287)])(_,I);h((()=>{const t=n;e.opacity&&(I.uniforms[t(301)].value=e[t(264)])}));const j=W(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(309)][e(269)],y:(1-t.uv.y)*o._config[e(272)]};console[e(296)](e(285),t),console.log(e(275),V(o,n)),j.setTemperature(V(o,n))}},S=t=>{t&&j[n(266)]({showDiv:!0})},E=t=>{t&&j[n(312)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(286),{object:y(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:S,onPointerLeave:E},null,40,N),g(r(286),{object:e.model[r(300)].children[0][r(274)]()},null,8,Q)],64)}}});function tt(t,n){const e=J();return(tt=function(t,n){return e[t-=263]})(t,n)}function nt(t){function n(t){const e=tt;if(typeof t===e(328))return function(t){}[e(321)]("while (true) {}")[e(291)](e(311));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(308)+e(322)).call(e(307)):function(){return!1}.constructor(e(308)+e(322))[e(291)](e(318)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=D({__name:"dataDiv",setup(t){const n=W(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:j(e.value)},"温度："+x(y(n).temperature)+"℃ ",5)),[[I,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=ut;!function(t,n){const e=ut,o=ct();for(;;)try{if(291969===-parseInt(e(462))/1+-parseInt(e(458))/2+-parseInt(e(470))/3*(-parseInt(e(465))/4)+parseInt(e(469))/5*(-parseInt(e(495))/6)+-parseInt(e(487))/7+-parseInt(e(473))/8*(-parseInt(e(467))/9)+parseInt(e(485))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ut,n=new RegExp(t(481)),e=new RegExp(t(489),"i"),o=at(t(483));n[t(496)](o+t(471))&&e[t(496)](o+"input")?at():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(472)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["info","log","length","call","306TvzNPr","test","return (function() ","prototype","189356SkVENa","__proto__","string","warn","40993qWGlfl","value","opacity","332356mFMmKA","#000","9MZLTDt","model","39040uRlKIq","3cwXnJI","chain","apply","3220216hgliDB","bind","heatmap2","builds",'{}.constructor("return this")( )',"trace","stateObject","gger","function *\\( *\\)","console","init","counter","8329290pFpoPK","debu","3448879uinjVp","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","透明度"];return(ct=function(){return t})()}it(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(497)+t(477)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(482)]||{},o=[t(492),t(461),t(491),"error","exception","table",t(478)];for(let r=0;r<o.length;r++){const n=it[t(488)][t(498)][t(474)](it),i=o[r],c=e[i]||n;n[t(459)]=it[t(474)](it),n.toString=c.toString[t(474)](c),e[i]=n}}))();const st=l({__name:ot(475),async setup(r){const i=ot;let c,s;const u=f(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u[i(463)]=!0;const p=S({width:1,color:i(466),opacity:1,show:!0}),l=S({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,i(464),{label:i(490),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[E(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[E(Y,z({model:y(a)},l),null,16,[r(468)]),E(n,z(p,{builds:y(a).city}),null,16,[r(476)])])),_:1}),E(et)],64)}}});function ut(t,n){const e=ct();return(ut=function(t,n){return e[t-=458]})(t,n)}function at(t){function n(t){const e=ut;if(typeof t===e(460))return function(t){}[e(488)]("while (true) {}")[e(472)](e(484));1!==(""+t/t)[e(493)]||t%20==0?function(){return!0}[e(488)](e(486)+"gger")[e(494)]("action"):function(){return!1}[e(488)]("debu"+e(480)).apply(e(479)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
