import{U as t,Y as e}from"./@tresjs.2zzrlbpQ1728446741233.js";import{l as n}from"./utils.ZLU7JzO61728446741233.js";import{ac as r,B as o,s,cO as a}from"./three.GKtOCofD1728446741233.js";import{m as i}from"./d3-geo.6bptgC3a1728446741233.js";import{a4 as c,b as p,a3 as l,o as u,E as f,F as d,W as m,L as h,d as y,r as j,e as g,f as b,g as v,j as w,u as I,aj as x,ak as E,al as _,m as T}from"./@vue.JNsx1iN61728446741233.js";import{c as M,d as B,a as A}from"./three-mesh-bvh.1uNND2ZS1728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";import"./@fesjs.tvRFRo261728446741233.js";import"./vue-router.GYb5A3dV1728446741233.js";import"./lodash-es.kYt-_xTG1728446741233.js";import"./@qlin.yHhFDldE1728446741233.js";import"./pinia.xS8D_FkU1728446741233.js";import"./@floating-ui.BPbuo5Gx1728446741233.js";import"./@juggle.7yjBMqoW1728446741233.js";import"./d3-array.E5C1cfJ61728446741233.js";const C=["properties","renderOrder"],F=["args"],O=h("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),P={__name:"chinaMapMesh",async setup(e){let y,j;o.prototype.computeBoundsTree=M,o.prototype.disposeBoundsTree=B,s.prototype.raycast=A;const g=i().center([104,37.5]).translate([0,0]),b=([y,j]=c((()=>n("./plugins/simpleGIS/json/china.json","features"))),y=await y,j(),y),v={depth:10,bevelEnabled:!1},w=[];b.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[r,o]=g(e[t]);0===t&&n.moveTo(r,-o),n.lineTo(r,-o)}w.push({shape:n,properties:t.properties})}))}))}));const I=new r({color:"#3480C4",linewidth:1,linecap:"round"}),x=p();l((()=>{x.value&&x.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,I];t.material=e}))}));let E=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),E=t})();const _=t=>{t.object.material[0].color.set(16711680),E.innerText=t.object.properties.name,E.style.visibility="visible"},T=t=>{t.eventObject.material[0].color.set(3010559),E.style.visibility="hidden"},P=t=>{E.style.left="".concat(t.clientX+6,"px"),E.style.top="".concat(t.clientY+6,"px")},{onLoop:k}=t();return k((()=>{})),(t,e)=>(u(),f("TresGroup",{ref_key:"tgRef",ref:x},[(u(),f(d,null,m(w,((t,e)=>h("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:_,onPointerLeave:T,onPointerMove:P},[h("TresExtrudeGeometry",{args:[t.shape,v]},null,8,F),O],40,C))),64))],512))}},k=H;function G(){const t=["prototype","call",'{}.constructor("return this")( )',"120yAsdHE","bind","return (function() ","while (true) {}","chain","function *\\( *\\)","string","table","1820308pXNHoK","trace","action","TresPerspectiveCamera","input","console","gger","#201919","110077KirEZA","9444KQIwwi","exception","2yFBddm","404298mVFGbc","__proto__","constructor","5631ASfPPJ","test","info","2100565MMBHOz","1378UAZuDI","191994NGbWxM","apply","error","length","toString","warn","48CNhHeM","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chinaMap","12lJLJBH","debu","TresCanvas","232lFpDco"];return(G=function(){return t})()}function H(t,e){const n=G();return(H=function(t,e){return n[t-=167]})(t,e)}!function(t,e){const n=H,r=G();for(;;)try{if(724899===parseInt(n(199))/1*(parseInt(n(202))/2)+parseInt(n(206))/3*(-parseInt(n(179))/4)+parseInt(n(209))/5*(parseInt(n(176))/6)+-parseInt(n(191))/7+parseInt(n(173))/8*(parseInt(n(203))/9)+-parseInt(n(183))/10*(parseInt(n(167))/11)+parseInt(n(200))/12*(parseInt(n(210))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[H(168)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){L(this,(function(){const t=H,e=new RegExp(t(188)),n=new RegExp(t(174),"i"),r=Z("init");e[t(207)](r+t(187))&&n[t(207)](r+t(195))?Z():r("0")}))()}();const z=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[H(168)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();z(void 0,(function(){const t=H,e=function(){const t=H;let e;try{e=Function(t(185)+t(182)+");")()}catch(n){e=window}return e}(),n=e[t(196)]=e[t(196)]||{},r=["log",t(172),t(208),t(169),t(201),t(190),t(192)];for(let o=0;o<r.length;o++){const e=z.constructor[t(180)][t(184)](z),s=r[o],a=n[s]||e;e[t(204)]=z[t(184)](z),e[t(171)]=a[t(171)][t(184)](a),n[s]=e}}))();const N=h(k(194),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1),S=y({__name:k(175),setup(n){const r=k,o=j({clearColor:r(198)}),s=j({enableDamping:!0,dampingFactor:.05}),{onLoop:a}=t();return a((()=>{})),l((()=>{})),(t,n)=>{const a=g(r(178));return u(),b(a,T(o,{"window-size":""}),{default:v((()=>[N,w(I(e),x(E(s)),null,16),(u(),b(_,null,{default:v((()=>[w(P)])),_:1}))])),_:1},16)}}});function Z(t){function e(t){const n=H;if(typeof t===n(189))return function(t){}[n(205)](n(186))[n(168)]("counter");1!==(""+t/t)[n(170)]||t%20==0?function(){return!0}[n(205)](n(177)+n(197))[n(181)](n(193)):function(){return!1}[n(205)]("debugger")[n(168)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{S as default};
