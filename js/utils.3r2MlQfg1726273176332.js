import{a as t,B as n,s as e,b_ as o,C as r,k as s,a0 as i}from"./three.874nNzAX1726273176332.js";import{x as a}from"./@fesjs.Le0G27v81726273176332.js";import{z as c}from"./@tresjs.BFyWuCYn1726273176332.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.qZ1iQe8O1726273176332.js";!function(t,n){const e=g,o=h();for(;;)try{if(929283===parseInt(e(245))/1+parseInt(e(259))/2*(parseInt(e(265))/3)+parseInt(e(251))/4*(parseInt(e(280))/5)+parseInt(e(232))/6*(-parseInt(e(249))/7)+parseInt(e(260))/8*(-parseInt(e(247))/9)+parseInt(e(264))/10+-parseInt(e(273))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(234)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=g,n=new RegExp(t(226)),e=new RegExp(t(274),"i"),o=_("init");n.test(o+t(229))&&e[t(270)](o+t(236))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(234)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=h();return(g=function(t,n){return e[t-=207]})(t,n)}function h(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","position","error","value",'{}.constructor("return this")( )',"710AAbkRH","Vector3","depthTest","table","console","__proto__","debu","expandByObject","attributes","Box3","setAttribute","getY","counter","getX","constructor","info","push","computeBoundsTree","clone","getCenter","function *\\( *\\)","uniforms","boundingBox","chain","copy","forEach","11358qtqZEg","stateObject","apply","side","input","random","exception","gger","getSize","count","get","trace","log","1686735ZnNODd","toString","9RFHtHs","min","1631HPZOKB","#fff","24EbjyrO","computeBoundingBox","material","config","negate","geometry","setY","features","1559462VxPqOQ","9687032ACmeDl","warn","bind","length","9674790CioAAW","3CtyPzt","children","max","then","sub","test","call","divideScalar","9389226oVQdXN"];return(h=function(){return t})()}m(void 0,(function(){const t=g;let n;try{n=Function("return (function() "+t(279)+");")()}catch(r){n=window}const e=n[t(210)]=n[t(210)]||{},o=[t(244),t(261),t(221),"error",t(238),t(209),t(243)];for(let s=0;s<o[t(263)];s++){const n=m[t(220)].prototype[t(262)](m),r=o[s],i=e[r]||n;n[t(211)]=m[t(262)](m),n.toString=i[t(246)][t(262)](i),e[r]=n}}))();const d=(n,e=!1)=>{const o=g;n[o(252)]();const{max:r,min:s}=n[o(228)];n.deleteAttribute("uv");const i=r.x-s.x,a=r.y-s.y,c=[];for(let t=0;t<n.attributes.position[o(241)];t++)e?(c[o(222)]((n[o(214)][o(276)].getX(t)-(s.x+r.x)/2)/i),c.push((n[o(214)][o(276)].getY(t)-(s.y+r.y)/2)/a)):(c.push((n[o(214)][o(276)][o(219)](t)-s.x)/i),c.push((n.attributes[o(276)][o(217)](t)-s.y)/a));const u=new Float32Array(c);n[o(216)]("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=g;a(t,{},{method:r(242),mergeRequest:!0})[r(268)]((t=>{const o=r;n&&e(t[n]),e(t[o(258)])})).catch((t=>{console[r(277)](t),o(t)}))})),w=t=>{const n=g,e=(new(THREE[n(215)])).setFromObject(t),o=new(THREE[n(207)]);e[n(225)](o),t[n(266)][n(231)]((t=>{const e=n;t[e(276)][e(269)](o)})),t[n(276)][n(230)](o.negate())},x=()=>{const t=g;n[t(275)][t(223)]=u,n.prototype.disposeBoundsTree=p,e.prototype.raycast=f},b=async t=>{const n=g,e=await c(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t.geometry[n(224)]();d(a),a.computeBoundsTree();const u=new o(a,{color:new r(n(250)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(253)].transparent=!0,u.material.depthWrite=!0,u.material[n(208)]=!0,u[n(253)][n(235)]=i,u[n(253)][n(227)][n(254)][n(278)].w=20,u.material.uniforms.reflectivity.value=.46,u};function j(t){const n=g,e=[];for(let r=0;r<t[n(263)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(263)];r++)o.add(e[r]);o[n(272)](e.length);for(let r=0;r<e.length;r++)e[r][n(269)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=g;if("string"==typeof t)return function(t){}[e(220)]("while (true) {}").apply(e(218));1!==(""+t/t)[e(263)]||t%20==0?function(){return!0}[e(220)](e(212)+e(239))[e(271)]("action"):function(){return!1}[e(220)](e(212)+e(239))[e(234)](e(233)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,y as l,d as r,b as s};
