import{_ as t,bO as n,C as r}from"./three.LxxvsMJG1742205305014.js";import{a as o}from"./@tresjs.nk0nhZ9a1742205305014.js";import{d as e,b as a,a3 as u,w as s,o as i,H as c,N as f,aj as l,ak as p}from"./@vue.NRI7TcgI1742205305014.js";!function(t,n){const r=g,o=v();for(;;)try{if(190907===-parseInt(r(322))/1*(-parseInt(r(320))/2)+-parseInt(r(314))/3+-parseInt(r(315))/4*(parseInt(r(291))/5)+parseInt(r(296))/6+-parseInt(r(299))/7+-parseInt(r(317))/8*(-parseInt(r(309))/9)+parseInt(r(331))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const h=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[g(328)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){h(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=_(t(305));n.test(o+t(301))&&r[t(307)](o+t(304))?_():o("0")}))()}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[g(328)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function g(t,n){const r=v();return(g=function(t,n){return r[t-=286]})(t,n)}d(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(316)+t(310)+");")()}catch(r){n=window}return n}(),r=n[t(308)]=n[t(308)]||{},o=["log",t(327),"info",t(290),t(298),"table",t(325)];for(let e=0;e<o[t(306)];e++){const n=d[t(302)][t(329)][t(333)](d),a=o[e],u=r[a]||n;n.__proto__=d[t(333)](d),n[t(312)]=u[t(312)][t(333)](u),r[a]=n}}))();const m=()=>{const r=g;return r(303)+t[r(335)][r(300)]+r(334)+t[r(335)][r(318)]+r(334)+t[r(335)][r(326)]+r(330)+t[r(335)][r(289)]+r(313)+n[r(332)]+"\n          "+t[r(335)][r(297)]+r(313)+t[r(335)][r(323)]+r(313)+t[r(335)].worldpos_vertex+r(313)+t[r(335)][r(293)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"};function v(){const t=["input","init","length","test","console","9AQLYbM",'{}.constructor("return this")( )',"debu","toString","\n          ","583794qAIhiP","9172Dwuygi","return (function() ","237560NeWErJ","bsdfs","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","34ewIztY","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","263laHFGg","project_vertex","call","trace","shadowmap_pars_vertex","warn","apply","prototype","\n       void main() {\n\t\t\t\t\t","4699450ifdLFa","defaultnormal_vertex","bind","\n      \t","ShaderChunk","\n\t ","lights_pars_begin","counter","beginnormal_vertex","error","705TjoIpZ","shadowmask_pars_fragment","shadowmap_vertex","gger","while (true) {}","1689708VfIQXb","begin_vertex","exception","538377IZhONO","common","chain","constructor","\n       varying vec2 vUv;\n\t\t\t \t"];return(v=function(){return t})()}const w=()=>{const r=g;return r(321)+t[r(335)][r(300)]+r(286)+n.packing+r(286)+t[r(335)][r(318)]+r(286)+n[r(287)]+"\n\t "+t[r(335)].shadowmap_pars_fragment+r(286)+t[r(335)][r(292)]+r(319)};function _(t){function n(t){const r=g;if("string"==typeof t)return function(t){}[r(302)](r(295))[r(328)](r(288));1!==(""+t/t)[r(306)]||t%20==0?function(){return!0}[r(302)]("debu"+r(294))[r(324)]("action"):function(){return!1}[r(302)](r(311)+r(294))[r(328)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const I=x;function x(t,n){const r=b();return(x=function(t,n){return r[t-=144]})(t,n)}function b(){const t=["debu","return (function() ","color","2257178VEDxhT","Color","uShadowColor","fEdge","table","action","log","UniformsLib","uniforms","merge","prototype","#999","chain","18nRZFFI","wrapT","DoubleSide","__proto__","TresPlaneGeometry","7747048luCkPp","RepeatWrapping","394616LUfnGm","constructor","stateObject","size","console","while (true) {}","7lEBrVF","UniformsUtils","function *\\( *\\)","TresMesh","toString","6815358GglHAt","rotation-x","7717850CnsNTg","11YnyBow","info","2722116uGcYtR","counter","error","shadowColor","tmRef","apply","string","gger","edge","exception","value","3pNEMQr","bind","call","29365930NuKqPe","wrapS","test","input"];return(b=function(){return t})()}!function(t,n){const r=x,o=b();for(;;)try{if(970327===-parseInt(r(180))/1*(-parseInt(r(174))/2)+-parseInt(r(144))/3*(parseInt(r(190))/4)+-parseInt(r(187))/5+parseInt(r(185))/6+-parseInt(r(154))/7+parseInt(r(172))/8*(-parseInt(r(167))/9)+-parseInt(r(147))/10*(-parseInt(r(188))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const y=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[x(195)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){y(this,(function(){const t=x,n=new RegExp(t(182)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=j("init");n[t(149)](o+t(166))&&r[t(149)](o+t(150))?j():o("0")}))()}();const C=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(152)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(178)]=n[t(178)]||{},o=[t(160),"warn",t(189),t(192),t(199),t(158),"trace"];for(let e=0;e<o.length;e++){const n=C[t(175)][t(164)][t(145)](C),a=o[e],u=r[a]||n;n[t(170)]=C[t(145)](C),n[t(184)]=u[t(184)][t(145)](u),r[a]=n}}))();const S=[I(186)],E=["args"],T=e({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:I(165)},edge:{default:.35}},async setup(n){const e=I;let h,d;const g=n,v=a(),{map:_}=([h,d]=u((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(148)]=_[e(168)]=t[e(173)];const x={uniforms:t[e(181)][e(163)]([t[e(161)].lights,{uTexture:{type:"t",value:_},uColor:{value:new(t[e(155)])(g[e(153)])},uShadowColor:{value:new r(g[e(193)])},fEdge:{type:"f",value:g[e(198)]}}]),side:t[e(169)],vertexShader:m(),fragmentShader:w(),lights:!0,transparent:!0};return s((()=>g[e(198)]),(t=>{const n=e;x[n(162)][n(157)].value=t})),s((()=>g.color),(n=>{const r=e;x[r(162)].uColor.value=new(t[r(155)])(g[r(153)])})),s((()=>g[e(193)]),(n=>{const r=e;x[r(162)][r(156)][r(200)]=new(t[r(155)])(g[r(193)])})),(t,n)=>{const r=e;return i(),c(r(183),{ref_key:r(194),ref:v,"rotation-x":-Math.PI/2},[f(r(171),{args:g[r(177)]},null,8,E),f("TresShaderMaterial",l(p(x)),null,16)],8,S)}}});function j(t){function n(t){const r=x;if(typeof t===r(196))return function(t){}[r(175)](r(179))[r(195)](r(191));1!==(""+t/t).length||t%20==0?function(){return!0}[r(175)](r(151)+r(197))[r(146)](r(159)):function(){return!1}[r(175)](r(151)+r(197))[r(195)](r(176)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{T as _};
