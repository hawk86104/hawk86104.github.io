import{a6 as t,ci as e,bR as i,V as n,al as o,C as s,h as r,aN as a,b as c}from"./three.0L1oP_mX1722313330047.js";const h=u;function u(t,e){const i=d();return(u=function(t,e){return i[t-=331]})(t,e)}!function(t,e){const i=u,n=d();for(;;)try{if(880318===-parseInt(i(347))/1*(parseInt(i(796))/2)+-parseInt(i(464))/3+parseInt(i(380))/4+parseInt(i(547))/5*(parseInt(i(792))/6)+parseInt(i(453))/7*(-parseInt(i(397))/8)+-parseInt(i(407))/9*(-parseInt(i(652))/10)+parseInt(i(639))/11)break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[u(492)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){l(this,(function(){const t=u,e=new RegExp("function *\\( *\\)"),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=g(t(574));e.test(n+t(383))&&i[t(620)](n+t(609))?g():n("0")}))()}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();f(void 0,(function(){const t=u;let e;try{e=Function(t(598)+'{}.constructor("return this")( ));')()}catch(o){e=window}const i=e[t(352)]=e.console||{},n=[t(368),t(731),t(348),t(333),t(391),t(725),t(554)];for(let s=0;s<n[t(502)];s++){const e=f.constructor[t(630)][t(618)](f),o=n[s],r=i[o]||e;e[t(417)]=f[t(618)](f),e[t(495)]=r[t(495)].bind(r),i[o]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function d(){const t=["duration","depthWrite","bind","rotationCenter","test","updateMin","position","indexOffset","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","attributeCount","center","DISC","uniform float scale;","attributeKeys","prototype","fragment","releaseIntoPool","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","unpackRotationAxis","particles, can support only","floor","emitters","   }","11361438mknOfI","_spread","SPE.Group pool ran out.","_resetParticle","setAttribute","_decrementParticleCount","attribute vec4 params;","mesh","OBJECT","spe","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","ensureArrayInstanceOf","_radius","7295710qxzdKJ","alphaTest","rotationFunctions","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","axisSpread","removeEmitter","logdepthbuf_pars_vertex","blending","      vec3 translated;","setSize","attributeOffset","       float oc = 1.0 - c;","min","texture","   return params.w;","randomVector3","        vSpriteSheet.x = 1.0 / framesX;","   c.r = r / PACKED_COLOR_DIVISOR;","particleCount","logdepthbuf_vertex","float when_gt(float x, float y) {","arrayType","paramFetchingFunctions","setNumber","   return params.y;","Color","   c *= vec3( 2.0 );","floatOverLifetime","Argument is not instanceof SPE.Emitter:","push","isArray","ensureTypedArg","number","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","   vec3 c = vec3( 0.0 );","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","_distribution","bufferAttribute","    #ifdef SHOULD_ROTATE_TEXTURE","        vSpriteSheet.w = rowNorm;","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","hasPerspective","componentSize","setUpdateRange","textureFrames","uuid","    highp float age = getAge();","      if( rotation.y == 0.0 ) {","BOOLEAN","_assignForceValue","updateRange","    return 1.0 - abs( sign( x - y ) );","add","wiggle","value","rotation","stateObject","    float fIndex = 0.0;","   c -= vec3( 1.0 );","        pos.z += wiggleSin;","distributionClamp","       axis = normalize(axis);","maxParticleCount","_setBufferUpdateRanges","triggerPoolEmitter","_updateAttributeUpdateRange","uniform float deltaTime;","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","BufferGeometry","action","reset","`emitter` argument must be instance of SPE.Emitter. Was provided with:","table","randomise","resetDynamic","float when_lt(float x, float y) {","_updateUniforms","SHOULD_WIGGLE_PARTICLES","warn","common","       if ( vColor.w < float(ALPHATEST) ) discard;","angle","float getAge() {","    highp float positionInTime = (age / maxAge);","   return modelViewMatrix * vec4( position, 1.0 );","_value","acceleration","dispose","arrayValuesAreEqual","updateFlags","randomColorAsHex","   c.b = b / PACKED_COLOR_DIVISOR;","    #ifdef SHOULD_CALCULATE_SPRITE","_ensureTypedArray","attribute vec4 acceleration;","spread","_distributionClamp","set","getHex","TypedArrayHelper","        float rowNorm = row / framesY;","_center","normalize","multiplyScalar","setVec4Components","_axis","       float y = 1.0 - gl_PointCoord.y - 0.5;","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","        float wiggleCos = isAlive * cos( wiggleAmount );","grow","age","_createGetterSetters","#ifdef SHOULD_ROTATE_PARTICLES","random","opacity","type","_assignParamsValue","_calculatePPSValue","REVISION","resetFlags","      mat4 rotationMatrix;","enable","        float rowNorm = vSpriteSheet.w;","emitterIDs","deltaTime","        float column = floor(mod( frameNumber, framesX ));","call","textureFrameCount","SHOULD_ROTATE_TEXTURE","    force += vel;","loop","tick","runTime","undefined","Emitter does not exist in this group. Will not remove.","subarray","usage","ShaderAttribute","attributes","5361114XgYMLI","    vec3 value = vec3( 0.0 );","_attributesNeedDynamicReset","vec3 getAcceleration( in float age ) {","332372FxlsRE","        float columnNorm = vSpriteSheet.z;","resetUpdateRange","   return acceleration.xyz * age;","error","colorize","utils","       float x = gl_PointCoord.x - 0.5;","           positionInTime,","_assignPositionValue","Vector2","flagUpdate","uniform sampler2D tex;","unshift","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","                   0.0,                                0.0,                                0.0,                                1.0);","   float b = mod( hex, PACKED_COLOR_SIZE );","updateMax","3IMoGhr","info","_assignAbsLifetimeValue","typeSizeMap","    vec3 accel = getAcceleration( age );","console","alive","_pool","valueOverLifetimeLength","geometry","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","Invalid argument types, or argument types do not match:","_angle","#define PACKED_COLOR_DIVISOR 255.0","onParticleSpawn","_static","elements","shaderChunks","    highp float maxAge = getMaxAge();","shrink","_incrementParticleCount","log","cos","       float c = cos( -vAngle );","radius","bufferUpdateCount","        pos.y += wiggleCos;","NUMBER","varying vec4 vColor;","direction","scale","keys","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","2320776TWftwt","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","    vec3 pos = vec3( position );","chain","Vector4","    varying float vAngle;","ShaderMaterial","_radiusScale","logdepthbuf_fragment","group","       vec3 c = vec3(1.0);","exception","BOX","float getAlive() {","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","textureLoop","randomVector3OnSphere","6472eCUqKH","    highp float isAlive = when_gt( alive, 0.0 );","replace","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","TypedArrayConstructor","        float wiggleSin = isAlive * sin( wiggleAmount );","indexOf","paramsArray","colorOverLifetime","Emitter does not belong to a group, cannot remove.","9VCdYlD","_activateParticles","        float framesY = textureAnimation.y;","randomDirectionVector3OnDisc","        float row = floor( (frameNumber - column) / framesX );","updateMap","_spreadClamp","setVec3Components","    highp float value = 0.0;","      rotationMatrix = getRotationMatrix( axis, angle );","__proto__","setRGB","generateUUID","_onRemove","setDrawRange","Vector3","        float loopCount = textureAnimation.w;","attribute vec3 velocity;","SPHERE","getLength","    highp float alive = getAlive();","randomFloat","NEGATIVE_INFINITY","debu","activeMultiplier","depthTest","Texture","disable","        float totalFrames = textureAnimation.z;","setColor","max","attribute vec4 size;","DynamicDrawUsage","dynamicBuffer","    vColor = vec4( c, o );","        pos = getRotation( pos, positionInTime );","TypedArray is already of size:","_assignAngleValue","vec3 unpackColor( in float hex ) {","uniform vec4 textureAnimation;","spreadClamp","float getMaxAge() {","getFromPool","isStatic","vec4 getPosition( in float age ) {","SPE.Group: maxParticleCount exceeded. Requesting","3388dztBjA","abs","addEmitter","exports","    return value;","activationEnd","typedArray","activationIndex","_setAttributeOffset","    #ifdef ALPHATEST","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","4397130iaxmfz","setMat3","vec3 getVelocity( in float age ) {","Group","splice","attribute vec4 color;","POSITIVE_INFINITY","_assignColorValue","SHOULD_ROTATE_PARTICLES","ceil","    float shouldApplyValue = 0.0;","velocity","setVec2Components","needsUpdate","_attributesNeedRefresh","activeParticleCount","varyings","drag","float when_le(float x, float y) {","attribute vec4 rotation;","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    pos += force;","bufferUpdateKeys","fog","ensureInstanceOf","float and(float a, float b) {","setVec2","StaticDrawUsage","apply","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","   c.g = g / PACKED_COLOR_DIVISOR;","toString","maxAge","setFromArray","addPool","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","lerp","_assignRotationValue","length","    return max(sign(x - y), 0.0);","        float perspective = scale / length( mvPosition.xyz );","_checkParticleAges","getComponentValueAtIndex","string","size","        float wiggleAmount = positionInTime * getWiggle();","_updateDefines","ensureValueOverLifetimeCompliance","_axisSpread","    #ifdef HAS_PERSPECTIVE","branchAvoidanceFunctions","Will not resize.","pop","ShaderChunk","count","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","function","particlesPerSecond","copy","frameCount","_createBufferAttribute","_createNewWhenPoolEmpty","#endif","       float s = sin(angle);","updateCounts","gger","void main() {","_applyAttributesToGeometry","sqrt","    vec3 force = vec3( 0.0 );","randomVector3OnLine","color","clamp","roundToNearestMultiple","rotateTexture","interpolateArray","distribution","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","#define PACKED_COLOR_SIZE 256.0","        float framesX = vSpriteSheet.x;","logdepthbuf_pars_fragment","_assignValue","hasOwnProperty","5kvjBCT","        float columnNorm = column / framesX;","  return 1.0 - when_gt(x, y);","           unpackColor( color.w )","forceUpdateAll","shaders","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","trace","   return c;","           unpackColor( color.y ),","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","fixedTimeStep","    #endif","       float s = sin( -vAngle );","params","clone","    force += accel * age;","distributions","getValueAtIndex","    vec3 vel = getVelocity( age );","LINE","while (true) {}","    vec4 rotatedTexture = texture2D( tex, vUv );","_poolCreationSettings","#ifdef SHOULD_ROTATE_TEXTURE","ensureArrayTypedArg","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","init","material","_triggerSingleEmitter","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","sin","angleSpread","offset","uniforms","constructor","#ifdef SHOULD_CALCULATE_SPRITE","Emitter","join","BufferAttribute","    force *= drag;","    return a * b;","amd","bufferUpdateRanges","vec3 unpackRotationAxis( in float hex ) {","_resetBufferRanges","           unpackColor( color.x ),","    #ifdef SHOULD_WIGGLE_PARTICLES","_angleSpread","transparent","_updateBuffers","return (function() ","    return min(a + b, 1.0);","axis","    #else","_rotationCenter","_randomise","array","fog_pars_vertex","   return velocity * age;","types","defines","input","frames","    #ifdef COLORIZE","radiusScale","SHOULD_CALCULATE_SPRITE","        vSpriteSheet.y = 1.0 / framesY;","randomVector3OnDisc"];return(d=function(){return t})()}typeof define===h(520)&&define[h(589)]?define(h(648),p):typeof exports!==h(786)&&"undefined"!=typeof module&&(module[h(456)]=p),p.TypedArrayHelper=function(t,e,i,n){const o=h;this.componentSize=i||1,this.size=e||1,this[o(401)]=t||Float32Array,this[o(604)]=new t(e*this[o(694)]),this[o(623)]=n||0},p[h(752)][h(582)]=p[h(752)],p[h(752)][h(630)][h(661)]=function(t,e){const i=h,n=this[i(604)].length;return!e&&(t*=this.componentSize),t<n?this.shrink(t):t>n?this[i(762)](t):void console[i(348)](i(443),t+".",i(515))},p[h(752)][h(630)][h(366)]=function(t){const e=h;return this[e(604)]=this[e(604)][e(788)](0,t),this[e(508)]=t,this},p[h(752)].prototype.grow=function(t){const e=h,i=this[e(604)],n=new(this[e(401)])(t);return n[e(750)](i),this.array=n,this[e(508)]=t,this},p[h(752)][h(630)][h(468)]=function(t,e){const i=h;t*=this.componentSize,e*=this[i(694)];const n=[],o=this[i(604)],s=o[i(502)];for(let r=0;r<s;++r)(r<t||r>=e)&&n[i(681)](o[r]);return this[i(497)](0,n),this},p[h(752)].prototype.setFromArray=function(t,e){const i=h,n=t+e[i(502)];return n>this[i(604)].length?this[i(762)](n):n<this.array.length&&this[i(366)](n),this[i(604)][i(750)](e,this[i(623)]+t),this},p[h(752)][h(630)][h(490)]=function(t,e){return this.setVec2Components(t,e.x,e.y)},p[h(752)][h(630)][h(476)]=function(t,e,i){const n=this[h(604)],o=this.indexOffset+t*this.componentSize;return n[o]=e,n[o+1]=i,this},p.TypedArrayHelper[h(630)].setVec3=function(t,e){return this[h(414)](t,e.x,e.y,e.z)},p[h(752)][h(630)][h(414)]=function(t,e,i,n){const o=h,s=this.array,r=this[o(623)]+t*this[o(694)];return s[r]=e,s[r+1]=i,s[r+2]=n,this},p[h(752)][h(630)].setVec4=function(t,e){return this[h(757)](t,e.x,e.y,e.z,e.w)},p[h(752)][h(630)][h(757)]=function(t,e,i,n,o){const s=h,r=this[s(604)],a=this[s(623)]+t*this[s(694)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=o,this},p[h(752)][h(630)][h(465)]=function(t,e){const i=h;return this[i(497)](this[i(623)]+t*this.componentSize,e[i(363)])},p[h(752)][h(630)].setMat4=function(t,e){const i=h;return this[i(497)](this.indexOffset+t*this[i(694)],e[i(363)])},p[h(752)][h(630)][h(436)]=function(t,e){return this[h(414)](t,e.r,e.g,e.b)},p[h(752)][h(630)][h(675)]=function(t,e){const i=h;return this.array[this[i(623)]+t*this[i(694)]]=e,this},p[h(752)][h(630)][h(565)]=function(t){return this[h(604)][this.indexOffset+t]},p[h(752)].prototype[h(506)]=function(t){const e=h;return this[e(604)].subarray(this[e(623)]+t*this[e(694)])},p[h(790)]=function(t,e,i){const n=h,o=p[n(790)][n(350)];this[n(768)]="string"==typeof t&&o[n(546)](t)?t:"f",this[n(694)]=o[this[n(768)]],this[n(673)]=i||Float32Array,this[n(459)]=null,this[n(689)]=null,this[n(440)]=!!e,this[n(621)]=0,this[n(346)]=0},p.ShaderAttribute[h(582)]=p.ShaderAttribute,p[h(790)][h(350)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p[h(790)][h(630)][h(695)]=function(t,e){const i=h;this[i(621)]=Math[i(664)](t*this[i(694)],this.updateMin*this[i(694)]),this[i(346)]=Math[i(437)](e*this.componentSize,this.updateMax*this.componentSize)},p[h(790)][h(630)][h(340)]=function(){const t=h,e=this[t(689)],i=e[t(702)];i.offset=this.updateMin,i.count=Math[t(664)](this[t(346)]-this[t(621)]+this.componentSize,this[t(459)].array[t(502)]),e[t(477)]=!0},p[h(790)][h(630)][h(331)]=function(){this[h(621)]=0,this.updateMax=0},p.ShaderAttribute[h(630)][h(727)]=function(){const e=h;this.bufferAttribute[e(789)]=this[e(440)]?t[e(439)]:t[e(491)]},p.ShaderAttribute[h(630)][h(468)]=function(t,e){const i=h;this[i(459)][i(468)](t,e),this[i(551)]()},p[h(790)][h(630)][h(551)]=function(){const t=h;this.bufferAttribute[t(604)]=this.typedArray[t(604)],this[t(689)][t(702)][t(580)]=0,this[t(689)][t(702)].count=-1,this[t(689)][t(789)]=e,this[t(689)][t(477)]=!0},p[h(790)][h(630)][h(746)]=function(t){const e=h;null!==this[e(459)]&&this[e(459)].size===t*this.componentSize||(null!==this[e(459)]&&this[e(459)][e(508)]!==t?this.typedArray[e(661)](t):null===this[e(459)]&&(this[e(459)]=new(p[e(752)])(this[e(673)],t,this[e(694)])))},p[h(790)][h(630)][h(524)]=function(i){const n=h;if(this._ensureTypedArray(i),null!==this[n(689)])return this[n(689)].array=this[n(459)][n(604)],parseFloat(t[n(771)])>=81&&(this[n(689)][n(518)]=this[n(689)][n(604)][n(502)]/this[n(689)].itemSize),void(this[n(689)][n(477)]=!0);this[n(689)]=new(t[n(586)])(this[n(459)][n(604)],this.componentSize),this[n(689)].usage=this[n(440)]?t[n(439)]:e},p[h(790)].prototype[h(426)]=function(){const t=h;return null===this.typedArray?0:this[t(459)].array.length},p[h(364)]={defines:[h(542),h(360)].join("\n"),uniforms:[h(718),"uniform float runTime;",h(341),h(446),h(628)][h(585)]("\n"),attributes:[h(747),h(424),h(483),"attribute vec3 rotationCenter;",h(645),h(438),"attribute vec4 angle;",h(469),"attribute vec4 opacity;"][h(585)]("\n"),varyings:[h(375),h(571),h(385),"#endif",h(583),"    varying vec4 vSpriteSheet;",h(526)][h(585)]("\n"),branchAvoidanceFunctions:[h(672),h(503),"}",h(728),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}","float when_eq( float x, float y ) {",h(703),"}","float when_ge(float x, float y) {","  return 1.0 - when_lt(x, y);","}",h(482),h(549),"}",h(489),h(588),"}","float or(float a, float b) {",h(599),"}"][h(585)]("\n"),unpackColor:[h(445),h(686),h(499),h(381),h(345),"   c.r = r / PACKED_COLOR_DIVISOR;",h(494),h(744),h(555),"}"][h(585)]("\n"),unpackRotationAxis:[h(591),h(686),h(499),h(381),h(345),h(669),h(494),h(744),h(678),h(710),"   return c;","}"].join("\n"),floatOverLifetime:[h(557),h(415),h(484),h(709),h(474),h(685),"",h(343),"       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    }","",h(457),"}"][h(585)]("\n"),colorOverLifetime:[h(649),h(793),h(394),h(633),"    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );",h(457),"}"][h(585)]("\n"),paramFetchingFunctions:[h(393),"   return params.x;","}",h(735),h(676),"}",h(448),"   return params.z;","}","float getWiggle() {",h(666),"}"].join("\n"),forceFetchingFunctions:[h(451),h(737),"}",h(466),h(606),"}",h(795),h(332),"}"][h(585)]("\n"),rotationFunctions:[h(765),h(493),h(713),h(527),"       float c = cos(angle);",h(663),"",h(577),h(463),h(720),h(344),h(638),"",h(719),h(699),"           return pos;","      }","","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;",h(660),h(773),"      float angle = 0.0;","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",h(692),"      translated = rotationCenter - pos;",h(416),h(379),h(638),h(526)][h(585)]("\n"),rotateTexture:[h(553),"",h(690),h(336),h(759),h(370),h(560),h(400),h(559),"",h(745),h(543),"        float framesY = vSpriteSheet.y;",h(797),h(775),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",h(687),h(559),"",h(569)][h(585)]("\n")},p[h(552)]={vertex:[p[h(364)].defines,p[h(364)].uniforms,p.shaderChunks.attributes,p[h(364)].varyings,t[h(517)][h(732)],i[h(658)],t[h(517)][h(605)],p[h(364)][h(514)],p.shaderChunks.unpackColor,p[h(364)][h(634)],p[h(364)][h(679)],p[h(364)][h(405)],p[h(364)][h(674)],p.shaderChunks.forceFetchingFunctions,p[h(364)][h(654)],h(530),h(698),h(427),h(365),h(736),h(398),h(594),h(509),h(402),h(761),h(559),h(566),h(351),h(533),h(382),h(541),h(782),h(587),h(563),h(485),h(594),"        pos.x += wiggleSin;",h(373),h(711),h(559),"    #ifdef SHOULD_ROTATE_PARTICLES",h(442),h(559),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",h(760),h(513),h(504),h(601),"        float perspective = 1.0;",h(559),"    float pointSizePerspective = pointSize * perspective;",h(611),"       vec3 c = isAlive * getColorOverLifetime(",h(337),h(593),h(556),"           unpackColor( color.z ),",h(550),"       );",h(601),h(390),h(559),h(655),h(441),h(690),h(624),h(559),h(745),"        float framesX = textureAnimation.x;",h(409),h(423),h(435),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",h(778),h(411),h(548),h(753),h(668),h(614),"        vSpriteSheet.z = columnNorm;",h(691),h(559),"    gl_PointSize = pointSizePerspective;","    gl_Position = projectionMatrix * mvPosition;",t[h(517)][h(671)],t[h(517)].fog_vertex,"}"][h(585)]("\n"),fragment:[p[h(364)][h(581)],t[h(517)].common,t[h(517)].fog_pars_fragment,t[h(517)][h(544)],p[h(364)][h(480)],p[h(364)].branchAvoidanceFunctions,h(530),"    vec3 outgoingLight = vColor.xyz;","    ",h(462),h(733),h(559),p[h(364)][h(538)],t[h(517)][h(388)],h(357),h(519),t[h(517)].fog_fragment,"}"][h(585)]("\n")},p[h(335)]={types:{BOOLEAN:"boolean",STRING:h(507),NUMBER:h(684),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array.isArray(t)){for(let o=t[n(502)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this[n(683)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array.isArray(t)){for(let o=t[n(502)]-1;o>=0;--o)if(void 0!==e&&t[o]instanceof e==!1)return i;return t}return this[n(488)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(682)](t[n(738)])&&(t[n(738)]=[t[n(738)]]),!1===Array[n(682)](t[n(640)])&&(t[n(640)]=[t[n(640)]]);const o=this[n(536)](t[n(738)][n(502)],e,i),s=this[n(536)](t._spread.length,e,i),r=Math[n(437)](o,s);t._value[n(502)]!==r&&(t[n(738)]=this[n(539)](t[n(738)],r)),t[n(640)][n(502)]!==r&&(t._spread=this[n(539)](t[n(640)],r))},interpolateArray(t,e){const i=h,n=t.length,o=[typeof t[0][i(562)]===i(520)?t[0][i(562)]():t[0]],s=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*s,n=Math[i(636)](e),a=Math[i(473)](e),c=e-n;o[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return o.push(typeof t[n-1][i(562)]===i(520)?t[n-1][i(562)]():t[n-1]),o},clamp(t,e,i){const n=h;return Math[n(437)](e,Math[n(664)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(766)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,r){const a=h;let c,u=this[a(607)];return typeof e===u[a(374)]&&typeof i===u[a(374)]?e+(i-e)*r:e instanceof t[a(339)]&&i instanceof t[a(339)]?(c=e[a(562)](),c.x=this.lerp(e.x,i.x,r),c.y=this[a(500)](e.y,i.y,r),c):e instanceof n&&i instanceof n?(c=e[a(562)](),c.x=this.lerp(e.x,i.x,r),c.y=this.lerp(e.y,i.y,r),c.z=this.lerp(e.z,i.z,r),c):e instanceof o&&i instanceof t[a(384)]?(c=e.clone(),c.x=this[a(500)](e.x,i.x,r),c.y=this[a(500)](e.y,i.y,r),c.z=this.lerp(e.z,i.z,r),c.w=this[a(500)](e.w,i.w,r),c):e instanceof s&&i instanceof t[a(677)]?(c=e[a(562)](),c.r=this[a(500)](e.r,i.r,r),c.g=this[a(500)](e.g,i.g,r),c.b=this[a(500)](e.b,i.b,r),c):void console[a(731)](a(358),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(454)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(502)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(766)]()-.5),randomVector3(t,e,i,n,o){const s=h;let r=i.x+(Math.random()*n.x-.5*n.x),a=i.y+(Math[s(766)]()*n.y-.5*n.y),c=i.z+(Math[s(766)]()*n.z-.5*n.z);o&&(r=.5*-o.x+this[s(537)](r,o.x),a=.5*-o.y+this[s(537)](a,o.y),c=.5*-o.z+this[s(537)](c,o.z)),t[s(459)].setVec3Components(e,r,a,c)},randomColor(t,e,i,n){const o=h;let s=i.r+Math[o(766)]()*n.x,r=i.g+Math[o(766)]()*n.y,a=i.b+Math[o(766)]()*n.z;s=this.clamp(s,0,1),r=this[o(536)](r,0,1),a=this[o(536)](a,0,1),t[o(459)][o(414)](e,s,r,a)},randomColorAsHex:function(){const e=h,i=new(t[e(677)]);return function(t,n,o,s){const r=e,a=o[r(502)],c=[];for(let e=0;e<a;++e){const t=s[e];i[r(522)](o[e]),i.r+=Math[r(766)]()*t.x-.5*t.x,i.g+=Math[r(766)]()*t.y-.5*t.y,i.b+=Math[r(766)]()*t.z-.5*t.z,i.r=this[r(536)](i.r,0,1),i.g=this[r(536)](i.g,0,1),i.b=this[r(536)](i.b,0,1),c[r(681)](i[r(751)]())}t[r(459)][r(757)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const o=h,s=i[o(562)]();s[o(500)](n,Math.random()),t[o(459)][o(414)](e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,o,s,r,a){const c=h;let u=2*Math[c(766)]()-1,l=6.2832*Math.random(),f=Math[c(532)](1-u*u),p=this[c(428)](n,o),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math[c(369)](l)*p,m=f*Math[c(578)](l)*p,g=u*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t.typedArray[c(414)](e,d,m,g)},seededRandom(t){const e=1e4*Math[h(578)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,s,r){const a=h;let c=6.2832*Math[a(766)](),u=Math[a(454)](this[a(428)](n,o)),l=0,f=0,p=0;r&&(u=Math.round(u/r)*r),l=Math[a(369)](c)*u,f=Math[a(578)](c)*u,l*=s.x,f*=s.y,l+=i.x,f+=i.y,p+=i.z,t.typedArray[a(414)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=h,i=new(t[e(422)]);return function(t,n,o,s,r,a,c,h){const u=e;i[u(522)](a),i.x-=o,i.y-=s,i.z-=r,i[u(755)]()[u(756)](-this[u(428)](c,h)),t[u(459)][u(414)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new n;return function(e,i,n,o,s,r,a,c){const h=u;t.copy(r),t.x-=n,t.y-=o,t.z-=s,t.normalize()[h(756)](-this.randomFloat(a,c)),e[h(459)][h(414)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new n,o=new n,s=new(t[e(677)]),r=new n(1,1,1);return function(t,n){const a=e;return i[a(522)](t)[a(755)](),o[a(522)](n)[a(755)](),i.x+=.5*-n.x+Math[a(766)]()*n.x,i.y+=.5*-n.y+Math.random()*n.y,i.z+=.5*-n.z+Math[a(766)]()*n.z,i[a(755)]()[a(704)](r).multiplyScalar(.5),s[a(418)](i.x,i.y,i.z),s[a(751)]()}}()},p[h(467)]=function(e){const i=h,n=p.utils,o=n.types;(e=n[i(683)](e,o.OBJECT,{})).texture=n[i(683)](e[i(665)],o[i(647)],{}),this.uuid=r[i(419)](),this.fixedTimeStep=n[i(683)](e[i(558)],o[i(374)],.016),this[i(665)]=n[i(488)](e[i(665)].value,t[i(433)],null),this.textureFrames=n[i(488)](e.texture[i(610)],t[i(339)],new(t[i(339)])(1,1)),this[i(780)]=n[i(683)](e[i(665)][i(523)],o[i(374)],this[i(696)].x*this[i(696)].y),this[i(395)]=n.ensureTypedArg(e[i(665)][i(783)],o[i(374)],1),this[i(696)][i(437)](new(t[i(339)])(1,1)),this[i(693)]=n.ensureTypedArg(e[i(693)],o[i(700)],!0),this[i(334)]=n[i(683)](e.colorize,o.BOOLEAN,!0),this.maxParticleCount=n[i(683)](e[i(714)],o[i(374)],null),this.blending=n[i(683)](e[i(659)],o.NUMBER,a),this.transparent=n.ensureTypedArg(e[i(596)],o[i(700)],!0),this[i(653)]=parseFloat(n[i(683)](e[i(653)],o[i(374)],0)),this[i(617)]=n.ensureTypedArg(e[i(617)],o[i(700)],!1),this.depthTest=n[i(683)](e[i(432)],o[i(700)],!0),this[i(487)]=n[i(683)](e[i(487)],o[i(700)],!0),this[i(377)]=n.ensureTypedArg(e[i(377)],o[i(374)],300),this[i(637)]=[],this[i(776)]=[],this[i(354)]=[],this[i(570)]=null,this[i(525)]=0,this[i(478)]=!1,this._attributesNeedDynamicReset=!1,this[i(670)]=0,this[i(581)]={tex:{type:"t",value:this[i(665)]},textureAnimation:{type:"v4",value:new(t[i(384)])(this[i(696)].x,this[i(696)].y,this[i(780)],Math[i(437)](Math.abs(this[i(395)]),1))},fogColor:{type:"c",value:this[i(487)]?new(t[i(677)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(377)]}},this[i(608)]={HAS_PERSPECTIVE:this[i(693)],COLORIZE:this[i(334)],VALUE_OVER_LIFETIME_LENGTH:p[i(355)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this[i(696)].y>1},this[i(791)]={position:new(p[i(790)])("v3",!0),acceleration:new p.ShaderAttribute("v4",!0),velocity:new(p[i(790)])("v3",!0),rotation:new(p[i(790)])("v4",!0),rotationCenter:new(p[i(790)])("v3",!0),params:new(p[i(790)])("v4",!0),size:new p.ShaderAttribute("v4",!0),angle:new(p[i(790)])("v4",!0),color:new(p[i(790)])("v4",!0),opacity:new(p[i(790)])("v4",!0)},this[i(629)]=Object[i(378)](this.attributes),this[i(625)]=this.attributeKeys[i(502)],this[i(575)]=new(t[i(386)])({uniforms:this[i(581)],vertexShader:p.shaders.vertex,fragmentShader:p[i(552)][i(631)],blending:this.blending,transparent:this[i(596)],alphaTest:this[i(653)],depthWrite:this[i(617)],depthTest:this.depthTest,defines:this[i(608)],fog:this[i(487)]}),this[i(356)]=new(t[i(721)]),this[i(646)]=new c(this[i(356)],this[i(575)]),null===this.maxParticleCount&&console[i(731)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},p[h(467)][h(582)]=p.Group,p.Group.prototype[h(510)]=function(){const t=h;let e,i=this[t(637)],n=i[t(502)]-1,o=this[t(608)];for(;n>=0;--n)e=i[n],!o[t(613)]&&(o.SHOULD_ROTATE_TEXTURE=o[t(781)]||!!Math.max(Math[t(437)].apply(null,e[t(734)][t(706)]),Math[t(437)][t(492)](null,e.angle.spread))),o.SHOULD_ROTATE_PARTICLES=o[t(472)]||!!Math[t(437)](e[t(707)].angle,e[t(707)][t(579)]),o[t(730)]=o.SHOULD_WIGGLE_PARTICLES||!!Math[t(437)](e[t(705)][t(706)],e[t(705)][t(748)]);this[t(575)][t(477)]=!0},p.Group[h(630)][h(531)]=function(){const t=h;let e,i,n=this[t(791)],o=this.geometry,s=o[t(791)];for(const r in n)n.hasOwnProperty(r)&&(e=n[r],i=s[r],i?i[t(604)]=e[t(459)][t(604)]:o[t(643)](r,e.bufferAttribute),e[t(689)].needsUpdate=!0);this.geometry[t(421)](0,this[t(670)])},p.Group[h(630)].addEmitter=function(t){const e=h;if(t instanceof p.Emitter==!1)return void console[e(333)](e(724),t);if(this.emitterIDs[e(403)](t[e(697)])>-1)return void console[e(333)]("Emitter already exists in this group. Will not add again.");if(null!==t[e(389)])return void console[e(333)]("Emitter already belongs to another group. Will not add to requested group.");const i=this.attributes,n=this[e(670)],o=n+t[e(670)];this[e(670)]=o,null!==this.maxParticleCount&&this.particleCount>this[e(714)]&&console[e(731)](e(452),this[e(670)],e(635),this[e(714)]),t[e(770)](t[e(496)][e(738)]+t[e(496)][e(640)]),t._setBufferUpdateRanges(this[e(629)]),t[e(461)](n),t[e(389)]=this,t[e(791)]=this[e(791)];for(const s in i)i.hasOwnProperty(s)&&i[s][e(524)](null!==this[e(714)]?this[e(714)]:this.particleCount);for(let s=n;s<o;++s)t[e(338)](s),t[e(701)](s,e(475)),t[e(701)](s,e(739)),t._assignAbsLifetimeValue(s,"opacity"),t[e(349)](s,"size"),t[e(444)](s),t[e(501)](s),t[e(769)](s),t._assignColorValue(s);return this[e(531)](),this[e(637)][e(681)](t),this.emitterIDs.push(t.uuid),this._updateDefines(t),this[e(575)][e(477)]=!0,this[e(356)][e(477)]=!0,this[e(478)]=!0,this},p[h(467)][h(630)][h(657)]=function(t){const e=h,i=this[e(776)][e(403)](t[e(697)]);if(t instanceof p[e(584)]==!1)return void console.error(e(724),t);if(-1===i)return void console[e(333)](e(787));const n=t.attributeOffset,o=n+t[e(670)],s=this[e(791)][e(561)][e(459)];for(let r=n;r<o;++r)s[e(604)][4*r]=0,s.array[4*r+1]=0;this[e(637)][e(468)](i,1),this[e(776)][e(468)](i,1);for(const r in this[e(791)])this[e(791)][e(546)](r)&&this[e(791)][r].splice(n,o);this.particleCount-=t[e(670)],t[e(420)](),this[e(478)]=!0},p[h(467)][h(630)][h(449)]=function(){const t=h,e=this[t(354)],i=this[t(525)];if(e[t(502)])return e[t(516)]();if(i){const e=new(p[t(584)])(this[t(570)]);return this[t(455)](e),e}return null},p[h(467)][h(630)][h(632)]=function(t){const e=h;if(t instanceof p[e(584)]!=!1)return t[e(723)](),this._pool[e(342)](t),this;console[e(333)](e(680),t)},p[h(467)][h(630)].getPool=function(){return this[h(354)]},p[h(467)][h(630)][h(498)]=function(t,e,i){const n=h;let o;this._poolCreationSettings=e,this[n(525)]=!!i;for(let s=0;s<t;++s)o=Array[n(682)](e)?new(p[n(584)])(e[s]):new(p[n(584)])(e),this[n(455)](o),this[n(632)](o);return this},p.Group[h(630)]._triggerSingleEmitter=function(e){const i=h,n=this.getFromPool(),o=this;if(null!==n)return e instanceof t[i(422)]&&(n[i(622)][i(706)].copy(e),n[i(622)][i(706)]=n[i(622)].value),n[i(774)](),setTimeout((()=>{const t=i;n[t(434)](),o[t(632)](n)}),1e3*Math[i(437)](n[i(616)],n[i(496)][i(706)]+n[i(496)][i(748)])),this;console[i(368)](i(641))},p.Group[h(630)][h(716)]=function(t,e){const i=h;if(typeof t===i(684)&&t>1)for(let n=0;n<t;++n)this[i(576)](e);else this[i(576)](e);return this},p[h(467)][h(630)][h(729)]=function(t){const e=h;this[e(581)][e(785)][e(706)]+=t,this[e(581)][e(777)].value=t},p.Group[h(630)][h(592)]=function(){const t=h;let e=this[t(629)],i=this.attributeCount-1,n=this[t(791)];for(;i>=0;--i)n[e[i]][t(331)]()},p[h(467)][h(630)][h(597)]=function(t){const e=h;let i,n,o,s=this[e(629)],r=this[e(625)]-1,a=this[e(791)],c=t[e(590)];for(;r>=0;--r)i=s[r],n=c[i],o=a[i],o[e(695)](n.min,n[e(437)]),o[e(340)]()},p.Group[h(630)][h(784)]=function(t){const e=h;var i=this[e(637)],n=i[e(502)],o=t||this[e(558)],s=this[e(629)],r=this[e(791)];if(this[e(729)](o),this[e(592)](),0!==n||!1!==this[e(478)]||!1!==this[e(794)]){for(var a,c=0;c<n;++c)(a=i[c])[e(784)](o),this[e(597)](a);if(!0===this._attributesNeedDynamicReset){for(c=this[e(625)]-1;c>=0;--c)r[s[c]][e(727)]();this[e(794)]=!1}if(!0===this[e(478)]){for(c=this.attributeCount-1;c>=0;--c)r[s[c]][e(551)]();this[e(478)]=!1,this[e(794)]=!0}}},p.Group[h(630)][h(740)]=function(){const t=h;return this[t(356)][t(740)](),this[t(575)][t(740)](),this},p[h(584)]=function(e){const i=h,o=p[i(335)],s=o[i(607)],a=p[i(355)];(e=o.ensureTypedArg(e,s[i(647)],{}))[i(622)]=o[i(683)](e.position,s.OBJECT,{}),e[i(475)]=o.ensureTypedArg(e.velocity,s[i(647)],{}),e[i(739)]=o[i(683)](e[i(739)],s[i(647)],{}),e[i(371)]=o[i(683)](e[i(371)],s[i(647)],{}),e[i(481)]=o.ensureTypedArg(e[i(481)],s[i(647)],{}),e[i(707)]=o[i(683)](e[i(707)],s[i(647)],{}),e[i(535)]=o[i(683)](e[i(535)],s[i(647)],{}),e[i(767)]=o[i(683)](e[i(767)],s.OBJECT,{}),e[i(508)]=o[i(683)](e[i(508)],s[i(647)],{}),e.angle=o[i(683)](e[i(734)],s[i(647)],{}),e[i(705)]=o[i(683)](e[i(705)],s.OBJECT,{}),e[i(496)]=o[i(683)](e.maxAge,s[i(647)],{}),e[i(361)]&&console[i(731)](i(573)),this.uuid=r[i(419)](),this.type=o.ensureTypedArg(e.type,s[i(374)],p[i(564)][i(392)]),this[i(622)]={_value:o[i(488)](e[i(622)][i(706)],t[i(422)],new(t[i(422)])),_spread:o[i(488)](e[i(622)][i(748)],n,new(t[i(422)])),_spreadClamp:o[i(488)](e[i(622)][i(447)],t[i(422)],new(t[i(422)])),_distribution:o.ensureTypedArg(e[i(622)][i(540)],s[i(374)],this.type),_randomise:o.ensureTypedArg(e[i(622)][i(726)],s[i(700)],!1),_radius:o[i(683)](e.position[i(371)],s[i(374)],10),_radiusScale:o[i(488)](e[i(622)][i(612)],t[i(422)],new(t[i(422)])(1,1,1)),_distributionClamp:o[i(683)](e.position[i(712)],s[i(374)],0)},this[i(475)]={_value:o[i(488)](e[i(475)][i(706)],t[i(422)],new n),_spread:o[i(488)](e[i(475)][i(748)],t[i(422)],new n),_distribution:o[i(683)](e[i(475)].distribution,s.NUMBER,this[i(768)]),_randomise:o[i(683)](e[i(622)][i(726)],s.BOOLEAN,!1)},this[i(739)]={_value:o[i(488)](e[i(739)][i(706)],t[i(422)],new(t[i(422)])),_spread:o[i(488)](e.acceleration[i(748)],t[i(422)],new(t[i(422)])),_distribution:o[i(683)](e[i(739)][i(540)],s[i(374)],this[i(768)]),_randomise:o[i(683)](e[i(622)][i(726)],s[i(700)],!1)},this[i(481)]={_value:o.ensureTypedArg(e[i(481)][i(706)],s.NUMBER,0),_spread:o[i(683)](e.drag[i(748)],s.NUMBER,0),_randomise:o[i(683)](e[i(622)][i(726)],s.BOOLEAN,!1)},this[i(705)]={_value:o[i(683)](e[i(705)][i(706)],s[i(374)],0),_spread:o[i(683)](e[i(705)].spread,s[i(374)],0)},this[i(707)]={_axis:o.ensureInstanceOf(e.rotation[i(600)],t[i(422)],new(t[i(422)])(0,1,0)),_axisSpread:o.ensureInstanceOf(e[i(707)][i(656)],t[i(422)],new n),_angle:o[i(683)](e.rotation[i(734)],s.NUMBER,0),_angleSpread:o[i(683)](e[i(707)].angleSpread,s[i(374)],0),_static:o[i(683)](e[i(707)].static,s[i(700)],!1),_center:o.ensureInstanceOf(e[i(707)][i(626)],t[i(422)],this[i(622)][i(738)].clone()),_randomise:o.ensureTypedArg(e[i(622)][i(726)],s[i(700)],!1)},this[i(496)]={_value:o[i(683)](e[i(496)].value,s[i(374)],2),_spread:o[i(683)](e.maxAge.spread,s[i(374)],0)},this.color={_value:o[i(650)](e[i(535)][i(706)],t[i(677)],new(t[i(677)])),_spread:o[i(650)](e[i(535)].spread,t[i(422)],new(t[i(422)])),_randomise:o[i(683)](e[i(622)][i(726)],s.BOOLEAN,!1)},this[i(767)]={_value:o[i(572)](e[i(767)][i(706)],s[i(374)],1),_spread:o[i(572)](e.opacity[i(748)],s.NUMBER,0),_randomise:o[i(683)](e.position[i(726)],s[i(700)],!1)},this.size={_value:o[i(572)](e.size.value,s[i(374)],1),_spread:o[i(572)](e[i(508)].spread,s[i(374)],0),_randomise:o[i(683)](e[i(622)].randomise,s[i(700)],!1)},this[i(734)]={_value:o[i(572)](e[i(734)].value,s[i(374)],0),_spread:o[i(572)](e[i(734)][i(748)],s[i(374)],0),_randomise:o[i(683)](e[i(622)][i(726)],s[i(700)],!1)},this[i(670)]=o.ensureTypedArg(e[i(670)],s.NUMBER,100),this[i(616)]=o[i(683)](e[i(616)],s[i(374)],null),this[i(450)]=o[i(683)](e[i(450)],s[i(700)],!1),this[i(431)]=o.ensureTypedArg(e[i(431)],s[i(374)],1),this[i(376)]=o.ensureTypedArg(e[i(376)],s.NUMBER,1),this[i(353)]=o[i(683)](e[i(353)],s.BOOLEAN,!0),this[i(521)]=0,this[i(460)]=0,this[i(662)]=0,this.attributeEnd=0,this.age=0,this[i(479)]=0,this[i(389)]=null,this[i(791)]=null,this.paramsArray=null,this[i(772)]={position:o[i(683)](e[i(622)][i(726)],s[i(700)],!1)||o.ensureTypedArg(e.radius[i(726)],s.BOOLEAN,!1),velocity:o[i(683)](e[i(475)].randomise,s[i(700)],!1),acceleration:o.ensureTypedArg(e[i(739)][i(726)],s[i(700)],!1)||o[i(683)](e[i(481)][i(726)],s[i(700)],!1),rotation:o[i(683)](e.rotation[i(726)],s.BOOLEAN,!1),rotationCenter:o[i(683)](e.rotation.randomise,s[i(700)],!1),size:o.ensureTypedArg(e.size[i(726)],s[i(700)],!1),color:o[i(683)](e[i(535)][i(726)],s[i(700)],!1),opacity:o[i(683)](e[i(767)][i(726)],s[i(700)],!1),angle:o.ensureTypedArg(e[i(734)][i(726)],s.BOOLEAN,!1)},this[i(742)]={},this[i(528)]={},this[i(412)]={maxAge:i(561),position:"position",velocity:i(475),acceleration:"acceleration",drag:"acceleration",wiggle:i(561),rotation:i(707),size:i(508),color:i(535),opacity:i(767),angle:i(734)};for(const t in this[i(412)])this[i(412)][i(546)](t)&&(this[i(528)][this.updateMap[t]]=0,this[i(742)][this[i(412)][t]]=!1,this[i(764)](this[t],t));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,o[i(511)](this.color,a,a),o.ensureValueOverLifetimeCompliance(this[i(767)],a,a),o[i(511)](this.size,a,a),o[i(511)](this[i(734)],a,a)},p.Emitter.constructor=p.Emitter,p[h(584)][h(630)][h(764)]=function(t,e){const i=h,n=this;for(const o in t)if(t[i(546)](o)){const s=o[i(399)]("_","");Object.defineProperty(t,s,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=u,s=n[o(412)][e],r=this[t],a=p[o(355)];t===o(602)?(n.updateFlags[o(619)]=!0,n[o(528)].rotationCenter=0):t===o(603)?n[o(772)][s]=i:(n.updateFlags[s]=!0,n.updateCounts[s]=0),n[o(389)]._updateDefines(),this[t]=i,Array.isArray(r)&&p[o(335)][o(511)](n[e],a,a)}}(o)})}},p.Emitter[h(630)][h(715)]=function(t){const e=h;this.attributeKeys=t,this.attributeCount=t.length;for(let i=this[e(625)]-1;i>=0;--i)this[e(590)][t[i]]={min:Number[e(470)],max:Number[e(429)]}},p[h(584)].prototype[h(770)]=function(t){const e=h,i=this[e(670)];this[e(616)]?this[e(521)]=i/(t<this[e(616)]?t:this[e(616)]):this.particlesPerSecond=i/t},p.Emitter[h(630)][h(461)]=function(t){const e=h;this.attributeOffset=t,this[e(460)]=t,this[e(458)]=t+this[e(670)]},p.Emitter.prototype[h(545)]=function(t,e){const i=h;switch(t){case"position":this._assignPositionValue(e);break;case i(475):case i(739):this[i(701)](e,t);break;case i(508):case"opacity":this[i(349)](e,t);break;case i(734):this[i(444)](e);break;case i(561):this[i(769)](e);break;case"rotation":this._assignRotationValue(e);break;case"color":this[i(471)](e)}},p[h(584)][h(630)][h(338)]=function(t){const e=h,i=p[e(564)],n=p[e(335)],o=this[e(622)],s=this[e(791)][e(622)],r=o[e(738)],a=o[e(640)];switch(o[e(688)]){case i.BOX:n[e(667)](s,t,r,a,o[e(413)]);break;case i[e(425)]:n[e(396)](s,t,r,o[e(651)],o._spread.x,o[e(387)],o._spreadClamp.x,o[e(749)]||this[e(670)]);break;case i.DISC:n[e(615)](s,t,r,o[e(651)],o[e(640)].x,o._radiusScale,o[e(413)].x);break;case i[e(567)]:n[e(534)](s,t,r,a)}},p[h(584)][h(630)][h(701)]=function(t,e){const i=h;let n,o,s,r,a,c=p[i(564)],u=p[i(335)],l=this[e],f=l[i(738)],d=l[i(640)];switch(l[i(688)]){case c[i(392)]:u[i(667)](this[i(791)][e],t,f,d);break;case c[i(425)]:n=this[i(791)][i(622)][i(459)][i(604)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],u.randomDirectionVector3OnSphere(this[i(791)][e],t,o,s,r,this[i(622)][i(738)],l._value.x,l[i(640)].x);break;case c[i(627)]:n=this[i(791)].position.typedArray.array,a=3*t,o=n[a],s=n[a+1],r=n[a+2],u[i(410)](this[i(791)][e],t,o,s,r,this.position._value,l._value.x,l[i(640)].x);break;case c[i(567)]:u[i(534)](this[i(791)][e],t,f,d)}if(e===i(739)){const e=u[i(536)](u[i(428)](this[i(481)]._value,this[i(481)][i(640)]),0,1);this[i(791)].acceleration[i(459)][i(604)][4*t+3]=e}},p[h(584)].prototype[h(349)]=function(t,e){const i=h;let n,o=this.attributes[e][i(459)],s=this[e],r=p[i(335)];r[i(741)](s[i(738)])&&r[i(741)](s[i(640)])?(n=Math.abs(r[i(428)](s[i(738)][0],s[i(640)][0])),o.setVec4Components(t,n,n,n,n)):o[i(757)](t,Math[i(454)](r[i(428)](s._value[0],s[i(640)][0])),Math.abs(r.randomFloat(s[i(738)][1],s[i(640)][1])),Math[i(454)](r[i(428)](s[i(738)][2],s[i(640)][2])),Math[i(454)](r[i(428)](s._value[3],s[i(640)][3])))},p[h(584)][h(630)][h(444)]=function(t){const e=h;let i,n=this[e(791)][e(734)][e(459)],o=this[e(734)],s=p[e(335)];s.arrayValuesAreEqual(o[e(738)])&&s.arrayValuesAreEqual(o[e(640)])?(i=s[e(428)](o[e(738)][0],o[e(640)][0]),n[e(757)](t,i,i,i,i)):n[e(757)](t,s[e(428)](o[e(738)][0],o._spread[0]),s[e(428)](o[e(738)][1],o[e(640)][1]),s[e(428)](o[e(738)][2],o._spread[2]),s[e(428)](o[e(738)][3],o[e(640)][3]))},p[h(584)][h(630)][h(769)]=function(t){const e=h;this.attributes[e(561)][e(459)][e(757)](t,this[e(450)]?1:0,0,Math[e(454)](p[e(335)][e(428)](this[e(496)][e(738)],this[e(496)]._spread)),p[e(335)].randomFloat(this[e(705)][e(738)],this[e(705)][e(640)]))},p[h(584)][h(630)]._assignRotationValue=function(t){const e=h;this[e(791)].rotation[e(459)][e(414)](t,p[e(335)].getPackedRotationAxis(this[e(707)][e(758)],this.rotation[e(512)]),p[e(335)].randomFloat(this.rotation[e(359)],this[e(707)][e(595)]),this[e(707)][e(362)]?0:1),this.attributes[e(619)][e(459)].setVec3(t,this[e(707)][e(754)])},p[h(584)][h(630)][h(471)]=function(t){const e=h;p[e(335)][e(743)](this[e(791)].color,t,this.color[e(738)],this[e(535)][e(640)])},p[h(584)].prototype[h(642)]=function(t){const e=h;let i,n,o=this[e(772)],s=this.updateFlags,r=this[e(528)],a=this[e(629)];for(let c=this[e(625)]-1;c>=0;--c)i=a[c],n=s[i],!0!==o[i]&&!0!==n||(this._assignValue(i,t),this[e(717)](i,t),!0===n&&r[i]===this.particleCount?(s[i]=!1,r[i]=0):1==n&&++r[i])},p[h(584)][h(630)][h(717)]=function(t,e){const i=h,n=this[i(590)][t];n[i(664)]=Math[i(664)](e,n.min),n[i(437)]=Math.max(e,n.max)},p[h(584)].prototype[h(592)]=function(){const t=h;let e,i=this.bufferUpdateRanges,n=this[t(486)],o=this[t(372)]-1;for(;o>=0;--o)e=n[o],i[e].min=Number.POSITIVE_INFINITY,i[e][t(437)]=Number[t(429)]},p[h(584)][h(630)][h(420)]=function(){const t=h;this[t(521)]=0,this[t(662)]=0,this[t(460)]=0,this[t(479)]=0,this[t(389)]=null,this[t(791)]=null,this[t(404)]=null,this.age=0},p[h(584)][h(630)][h(644)]=function(){--this[h(479)]},p[h(584)][h(630)][h(367)]=function(){++this.activeParticleCount},p[h(584)].prototype[h(505)]=function(t,e,i,n){const o=h;for(var s,r,a,c,u=e-1;u>=t;--u)0!==(c=i[s=4*u])&&(a=i[s+1],r=i[s+2],1===this.direction?(a+=n)>=r&&(a=0,c=0,this[o(644)]()):(a-=n)<=0&&(a=r,c=0,this._decrementParticleCount()),i[s]=c,i[s+1]=a,this._updateAttributeUpdateRange(o(561),u))},p.Emitter[h(630)]._activateParticles=function(t,e,i,n){const o=h,s=this.direction;for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[o(670)]||(this[o(367)](),i[r]=1,this._resetParticle(c),a=n*(c-t),i[r+1]=-1===s?i[r+2]-a:a,this[o(717)](o(561),c))},p[h(584)][h(630)][h(784)]=function(t){const e=h;if(this[e(450)])return;null===this[e(404)]&&(this[e(404)]=this[e(791)][e(561)][e(459)][e(604)]);const i=this[e(662)],n=i+this[e(670)],o=this[e(404)],s=this[e(521)]*this[e(431)]*t,r=this[e(460)];if(this[e(592)](),this._checkParticleAges(i,n,o,t),!1===this.alive)return void(this[e(763)]=0);if(null!==this[e(616)]&&this.age>this[e(616)])return this[e(353)]=!1,void(this[e(763)]=0);const a=1===this[e(670)]?r:0|r,c=Math.min(a+s,this[e(458)]),u=c-this[e(460)]|0,l=u>0?t/u:0;this[e(408)](a,c,o,l),this[e(460)]+=s,this[e(460)]>n&&(this[e(460)]=i),this[e(763)]+=t},p.Emitter.prototype.reset=function(t){const e=h;if(this[e(763)]=0,this.alive=!1,!0===t){const t=this.attributeOffset,o=t+this.particleCount,s=this[e(404)],r=this[e(791)][e(561)].bufferAttribute;for(var i,n=o-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;r.updateRange.offset=0,r.updateRange[e(518)]=-1,r[e(477)]=!0}return this},p[h(584)][h(630)].enable=function(){return this[h(353)]=!0,this},p.Emitter[h(630)][h(434)]=function(){return this[h(353)]=!1,this},p[h(584)][h(630)].remove=function(){const t=h;return null!==this[t(389)]?this[t(389)][t(657)](this):console.error(t(406)),this};const m=p;function g(t){function e(t){const i=u;if(typeof t===i(507))return function(t){}[i(582)](i(568))[i(492)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debugger")[i(779)](i(722)):function(){return!1}[i(582)](i(430)+i(529))[i(492)](i(708)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
