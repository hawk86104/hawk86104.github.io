import{P as t}from"./tweakpane.yDiyAAkA1739442316051.js";import{e,h as n,a as o,o as r}from"./@tresjs.4XV_x0mI1739442316051.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.yYVd8oDx1739442316051.js";import{_ as a,B as s}from"./three.OosFxi571739442316051.js";import{d as l,a6 as u,a3 as c,w as f,o as m,H as d,N as p,u as h,j as g,r as v,e as x,f as I,g as w,al as S,m as b}from"./@vue.NRI7TcgI1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./all.three.RcJo9D5E1739442316051.js";import"./oimophysics.x0jH7fze1739442316051.js";const y=z;!function(t,e){const n=z,o=T();for(;;)try{if(761425===parseInt(n(187))/1*(parseInt(n(158))/2)+parseInt(n(195))/3*(parseInt(n(210))/4)+-parseInt(n(154))/5+parseInt(n(192))/6+-parseInt(n(172))/7+parseInt(n(188))/8*(parseInt(n(174))/9)+-parseInt(n(185))/10*(parseInt(n(175))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function T(){const t=["log",'{}.constructor("return this")( )',"string","baseMaterial","yRadius","getAttribute","debu","bind","constructor","TresPoints","call","13696EwTbQH","value","while (true) {}","position","AdditiveBlending","console","map","prototype","set","191745xWKaIE","alphaMap","aIndex","apply","1918IHsbFo","height","test","color","push","return (function() ","init","setFromPoints","PointsMaterial","info","#90ee90","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","EllipseCurve","speed","6478780sdvlwK","scale","9aIvOUQ","22jdbyFY","blending","warn","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","function *\\( *\\)","chain","gger","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","length","Color","7806030merlhO","uHeight","1513GNnFzT","11546648tRHmHm","#409eff","uTime","toString","1449396pecaci","counter","getPoints","132QbxLUi","__proto__","uScale","rotateX"];return(T=function(){return t})()}!function(){_(this,(function(){const t=z,e=new RegExp(t(179)),n=new RegExp(t(169),"i"),o=M(t(164));e[t(160)](o+t(180))&&n[t(160)](o+"input")?M():o("0")}))()}();const U=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(157)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=z;let e;try{e=Function(t(163)+t(200)+");")()}catch(r){e=window}const n=e.console=e[t(150)]||{},o=[t(199),t(177),t(167),"error","exception","table","trace"];for(let i=0;i<o[t(183)];i++){const e=U[t(207)][t(152)][t(206)](U),r=o[i],a=n[r]||e;e[t(196)]=U.bind(U),e[t(191)]=a.toString[t(206)](a),n[r]=e}}))();const N=[y(198)],C=["position",y(156),"aNormal"],P=y(178),j=y(182),W=l({__name:"lineMagicZone",props:{height:{default:1.6},speed:{default:1},color:{default:y(168)}},async setup(t){const r=y;let i,l;const v=u(),x=t,I=([i,l]=c((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,l(),i),w=new(a[r(170)])(0,0,8,8,0,2*Math.PI,!1,0),S=[];for(let e=0;e<5;e++)S[r(162)](...w[r(194)](719)),w.xRadius+=.2,w[r(203)]+=.2;const b=new Float32Array(S[r(151)](((t,e)=>e))),_=(new s)[r(165)](S)[r(204)](r(148)).array,T=new Float32Array(_.length);for(let e=0;e<_[r(183)]/3;e++){const t=3*e;_[t+1]+=.15*Math.floor(e/720);const n=e%720*3,o=3*(e%720+2880);T[t]=_[o]-_[n],T[t+1]=_[o+1]-_[n+1],T[t+2]=_[o+2]-_[n+2]}const U={uTime:{value:0},uScale:{value:v[r(173)]?v[r(173)]:1},uHeight:{value:x[r(159)]},uPerlinTexture:{value:I[1]},baseColor:{value:new(a[r(184)])(x[r(161)])}},{onLoop:W}=e();return W((()=>{const t=r;U[t(190)][t(146)]+=.01*x[t(171)]})),f((()=>[x[r(161)],v[r(173)],x[r(159)]]),(([t,e,n])=>{const o=r;U.baseColor.value[o(153)](t),U[o(197)][o(146)]=e,U[o(186)][o(146)]=n})),(t,e)=>{const o=r;return m(),d("TresGroup",null,[p(o(208),{rotateX:-Math.PI/2,scale:.1},[p("TresBufferGeometry",{position:[h(_),3],aIndex:[h(b),1],aNormal:[h(T),3]},null,8,C),g(h(n),{baseMaterial:a[o(166)],vertexShader:P,fragmentShader:j,uniforms:U,map:h(I)[0],alphaMap:h(I)[0],transparent:"",depthWrite:!1,blending:a[o(149)],color:o(189),size:.1},null,8,[o(202),o(151),o(155),o(176)])],8,N)])}}});function z(t,e){const n=T();return(z=function(t,e){return n[t-=146]})(t,e)}function M(t){function e(t){const n=z;if(typeof t===n(201))return function(t){}[n(207)](n(147))[n(157)](n(193));1!==(""+t/t)[n(183)]||t%20==0?function(){return!0}[n(207)](n(205)+n(181))[n(209)]("action"):function(){return!1}.constructor("debugger")[n(157)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){const n=F,o=R();for(;;)try{if(247666===-parseInt(n(279))/1+-parseInt(n(272))/2*(-parseInt(n(296))/3)+parseInt(n(290))/4+parseInt(n(294))/5+parseInt(n(300))/6+-parseInt(n(293))/7+-parseInt(n(284))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=F,e=new RegExp(t(283)),n=new RegExp(t(298),"i"),o=A(t(285));e.test(o+"chain")&&n.test(o+"input")?A():o("0")}))()}();const D=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[F(273)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function F(t,e){const n=R();return(F=function(t,e){return n[t-=270]})(t,e)}D(void 0,(function(){const t=F,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e.console=e[t(274)]||{},o=["log",t(282),t(277),t(286),"exception","table",t(292)];for(let r=0;r<o[t(304)];r++){const e=D[t(276)][t(278)].bind(D),i=o[r],a=n[i]||e;e.__proto__=D[t(271)](D),e[t(303)]=a[t(303)].bind(a),n[i]=e}}))();const H=l({__name:"lineMagicZone",setup(e){const n=F,o=v({reflectivity:.1,showGridHelper:!0,scale:1}),a=v({color:n(299),scale:1.8,height:2.4,speed:1}),s=new t;return s[n(280)](a,n(301),{label:"颜色"}),s.addBinding(a,n(297),{label:"大小",min:.1,max:3,step:.1}),s[n(280)](a,"height",{label:"高度",min:.1,max:3,step:.1}),s.addBinding(a,n(289),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=x(s(281));return m(),I(l,{clearColor:"#201919","window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:w((()=>[e[0]||(e[0]=p(s(295),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(h(r),{enableDamping:""}),e[1]||(e[1]=p("TresAmbientLight",{intensity:2},null,-1)),(m(),I(S,null,{default:w((()=>[g(W,b({position:[3,0,0]},a),null,16)])),_:1})),(m(),I(S,null,{default:w((()=>[g(W,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(m(),I(S,null,{default:w((()=>[g(i,b({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function R(){const t=["#ff0000","244026cnBgnu","color","while (true) {}","toString","length","action","bind","4elFzSE","apply","console","gger","constructor","info","prototype","153021duvshv","addBinding","TresCanvas","warn","function *\\( *\\)","4777760QAeKJK","init","error","debu","counter","speed","1411644FmfiXn","call","trace","76636fKoeCG","1098095GxOLFL","TresPerspectiveCamera","593481SQjdBK","scale","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(R=function(){return t})()}function A(t){function e(t){const n=F;if("string"==typeof t)return function(t){}[n(276)](n(302))[n(273)](n(288));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(287)+n(275))[n(291)](n(270)):function(){return!1}[n(276)](n(287)+n(275))[n(273)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{H as default};
