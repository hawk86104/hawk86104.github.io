import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.Uh9iM8du1742436572432.js";import{_ as s,C as i,K as c}from"./three.RUAk_tvU1742436572432.js";import{P as a}from"./tweakpane.yDiyAAkA1742436572432.js";import{L as u}from"./three-subdivide.bl_ctaJi1742436572432.js";import{d as l,b as f,a2 as p,w as d,o as m,H as g,N as h,aj as v,ak as y,a3 as w,r as b,e as _,f as I,g as M,j as x,u as S,m as B,M as T}from"./@vue.deO5D3Lf1742436572432.js";import"./postprocessing.5QD_59xS1742436572432.js";import"./@vueuse.F4UpVCIS1742436572432.js";const j=N;!function(n,t){const e=N,o=F();for(;;)try{if(860886===parseInt(e(170))/1+parseInt(e(198))/2+parseInt(e(199))/3+parseInt(e(164))/4*(-parseInt(e(196))/5)+-parseInt(e(175))/6*(parseInt(e(165))/7)+parseInt(e(179))/8+parseInt(e(177))/9*(-parseInt(e(204))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(216)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=N,t=new RegExp(n(207)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z(n(163));t[n(161)](o+n(219))&&e[n(161)](o+n(166))?z():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(216)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=N,t=function(){const n=N;let t;try{t=Function(n(210)+n(173)+");")()}catch(e){t=window}return t}(),e=t[n(212)]=t[n(212)]||{},o=["log",n(214),n(185),n(180),"exception",n(206),n(195)];for(let r=0;r<o[n(162)];r++){const t=A[n(208)][n(188)].bind(A),s=o[r],i=e[s]||t;t[n(184)]=A[n(178)](A),t[n(169)]=i[n(169)][n(178)](i),e[s]=t}}))();const R=[j(205)];function F(){const n=["material","Vector3","50uSFGAk","scale","table","function *\\( *\\)","constructor","clone","return (function() ","counter","console","call","warn","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","apply","value","attributes","chain","subdivision","test","length","init","628XcgWqR","196kuBmLg","input","uniforms","#ffff00","toString","1634373SkFVIK","side","blending",'{}.constructor("return this")( )',"color","87960zVPuap","viewVector","1607283AMByKU","bind","463456kSrBow","error","FrontSide","modify","subVectors","__proto__","info","TresMesh","stateObject","prototype","gger","geometry","AdditiveBlending","copy","position","glowColor","trace","3495Lvmwre","action","148806zARBVR","1522008lFMtBb","srcMesh","Color"];return(F=function(){return n})()}function N(n,t){const e=F();return(N=function(n,t){return e[n-=160]})(n,t)}const V=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:j(168)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[j(181)]},blending:{default:s[j(191)]}},setup(e){const o=j,r=e,c=f(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new i(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(215),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(171)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};p((()=>{const n=o;if(r[n(200)]&&c[n(217)]&&!c[n(217)][n(190)][n(218)][n(193)]){let t=r.srcMesh[n(190)][n(209)]();r[n(160)]&&(t=u[n(182)](t,2)),c[n(217)][n(190)]=t,c[n(217)].position[n(192)](r.srcMesh[n(193)])}r[n(174)]&&(a[n(167)][n(194)][n(217)]=new(s[n(201)])(r[n(174)])),r.c&&(a.uniforms.c.value=r.c),r.p&&(a[n(167)].p[n(217)]=r.p)})),d((()=>r[o(160)]),(n=>{const t=o;let e=r[t(200)].geometry[t(209)]();n&&(e=u.modify(e,2)),c[t(217)][t(190)]=e})),d((()=>r[o(171)]),(n=>{const t=o;c[t(217)][t(202)][t(171)]=n})),d((()=>r[o(172)]),(n=>{const t=o;c[t(217)].material[t(172)]=n}));const{onLoop:l}=n(),{camera:w}=t();return l((()=>{const n=o;w[n(217)]&&c[n(217)]&&(a[n(167)][n(176)][n(217)]=(new(s[n(203)]))[n(183)](w[n(217)][n(193)],c[n(217)][n(193)]))})),(n,t)=>{const e=o;return m(),g(e(186),{ref_key:"TSGref",ref:c,scale:r[e(205)]},[h("TresShaderMaterial",v(y(a)),null,16)],8,R)}}});function z(n){function t(n){const e=N;if("string"==typeof n)return function(n){}[e(208)]("while (true) {}")[e(216)](e(211));1!==(""+n/n)[e(162)]||n%20==0?function(){return!0}[e(208)]("debu"+e(189))[e(213)](e(197)):function(){return!1}.constructor("debugger")[e(216)](e(187)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const C=G;function G(n,t){const e=W();return(G=function(n,t){return e[n-=389]})(n,t)}!function(n,t){const e=G,o=W();for(;;)try{if(881197===parseInt(e(443))/1*(parseInt(e(425))/2)+parseInt(e(433))/3*(-parseInt(e(431))/4)+parseInt(e(420))/5+-parseInt(e(438))/6+-parseInt(e(424))/7*(-parseInt(e(397))/8)+-parseInt(e(435))/9*(-parseInt(e(426))/10)+-parseInt(e(403))/11*(parseInt(e(422))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(410)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){L(this,(function(){const n=G,t=new RegExp(n(415)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=U(n(432));t[n(442)](o+n(406))&&e[n(442)](o+n(391))?U():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(410)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();E(void 0,(function(){const n=G;let t;try{t=Function("return (function() "+n(401)+");")()}catch(r){t=window}const e=t[n(408)]=t.console||{},o=[n(414),n(400),"info",n(393),n(440),n(402),"trace"];for(let s=0;s<o[n(404)];s++){const t=E[n(396)][n(429)][n(395)](E),r=o[s],i=e[r]||t;t.__proto__=E[n(395)](E),t[n(445)]=i[n(445)][n(395)](i),e[r]=t}}))();const D=[C(407)],P=["map"];function W(){const n=["addBinding","641544vFoGwW","call","exception","TreBoxRef","test","17SySvot","TresMesh","toString","NormalBlending","side","input","TresSphereGeometry","error","shader","bind","constructor","10154096NNQVnI","#222","TresMeshRefB","warn",'{}.constructor("return this")( )',"table","50589fXQYbD","length","FrontSide","chain","map","console","color","apply","srcMesh","debu","scale","log","function *\\( *\\)","TresBoxGeometry","string","stateObject","gger","5979325aTvGWL","AdditiveBlending","1716wPomsR","TresMeshRefA","7oDJxMF","35250cLRWOU","2370ghBDNY","TresMeshBasicMaterial","TresAmbientLight","prototype","DoubleSide","16xAuucm","init","875847KYupJE","#0ff","1854UmYuNU","value"];return(W=function(){return n})()}const K=l({__name:C(394),async setup(n){const t=C;let i,u;const l={clearColor:t(398)},p=f(),d=f(),g=f(),v=([i,u]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),i=await i,u(),i),y=b({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:s[t(405)],blending:s[t(421)]}),j=new a({title:"参数",expanded:!0});return j[t(437)](y,t(409),{label:"颜色"}),j[t(437)](y,t(413),{label:"大小",min:1,max:3,step:.2}),j[t(437)](y,"subdivision",{label:"边缘处理"}),j.addBinding(y,"c",{label:"c",min:0,max:2,step:.1}),j[t(437)](y,"p",{label:"p",min:0,max:8,step:.2}),j[t(437)](y,t(390),{options:{FrontSide:s[t(405)],BackSide:c,DoubleSide:s[t(430)]}}),j[t(437)](y,"blending",{options:{AdditiveBlending:s[t(421)],NormalBlending:s[t(389)]}}),(n,r)=>{const s=t,i=_("TresCanvas");return m(),I(i,B(l,{"window-size":""}),{default:M((()=>[r[2]||(r[2]=h("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),r[3]||(r[3]=h(s(428),{intensity:1},null,-1)),x(S(e)),r[4]||(r[4]=h("TresGridHelper",{args:[10,10]},null,-1)),h("TresMesh",{ref_key:s(423),ref:p,position:[-2,1,0]},[r[0]||(r[0]=h(s(392),{args:[1,32,16]},null,-1)),h(s(427),{map:S(v)[0]},null,8,D)],512),x(V,B({srcMesh:p[s(436)]},y),null,16,[s(411)]),x(S(o),{ref_key:s(441),ref:g,args:[1,1,1],position:[2,1,0]},{default:M((()=>[h(s(427),{map:S(v)[1]},null,8,P)])),_:1},512),g[s(436)]&&g.value.instance?(m(),I(V,B({key:0,srcMesh:g[s(436)].instance},y),null,16,[s(411)])):T("",!0),h(s(444),{ref_key:s(399),ref:d,position:[0,1,-2]},r[1]||(r[1]=[h(s(416),{args:[1,1,1,1,1]},null,-1),h(s(427),{color:s(434)},null,-1)]),512),x(V,B({srcMesh:d[s(436)]},y),null,16,[s(411)])])),_:1},16)}}});function U(n){function t(n){const e=G;if(typeof n===e(417))return function(n){}[e(396)]("while (true) {}")[e(410)]("counter");1!==(""+n/n)[e(404)]||n%20==0?function(){return!0}[e(396)](e(412)+"gger")[e(439)]("action"):function(){return!1}[e(396)](e(412)+e(419))[e(410)](e(418)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{K as default};
