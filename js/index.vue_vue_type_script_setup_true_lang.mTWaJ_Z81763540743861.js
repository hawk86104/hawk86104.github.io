import{_ as t}from"./text.vue_vue_type_script_setup_true_lang.Ct-wFV9_1763540743861.js";import{_ as e}from"./underLine.vue_vue_type_script_setup_true_lang.D0bu_J7v1763540743861.js";import{d as a,a as o,q as n,w as i,H as s,o as r,J as l,F as u,X as c,h as p}from"./@vue.Co_gxueH1763540743861.js";import{af as d,V as h,B as f}from"./three.rXKzP9fQ1763540743861.js";const g=["rotation"],m=["position-x"],_=["position"],v=["geometry"],x=["color"],y=a({__name:"index",props:{data:{default:[{value:43,title:"%",color:"#5072c4"},{value:24,title:"%",color:"#92cb79"},{value:12,title:"%",color:"#fcc660"},{value:39,title:"%",color:"#f8285b"},{value:14,title:"%",color:"#70c1dd"}]},spacing:{default:0},distribution:{default:"proportional"},width:{default:4/3},titleSize:{default:.8}},setup(a){const y=a;let w=[];const M=()=>{w.splice(0,w.length);const t=y.data.map(t=>t.value).reduce((t,e)=>t+e);y.data.forEach(e=>{const a=e.value/t*4/3,o=new d(a,.2,.4);o.translate(0,.1,0),w.push(o)})};M();const S=[],b=()=>{S.splice(0,S.length);const t=(()=>{let t=[];if("uniform"===y.distribution){const e=(y.width-y.spacing*(y.data.length+1))/y.data.length;t=new Array(y.data.length).fill(e)}else{const e=y.data.map(t=>t.value).reduce((t,e)=>t+e);y.data.forEach(a=>{t.push(a.value/e*y.width)})}return t})();let e=0;y.data.forEach((a,o)=>{const n=(y.spacing+t[o])/2;e+=n;let i=0;if(w[o]){w[o].computeBoundingBox();const t=w[o].boundingBox;if(t){const e=new h;t.getSize(e),i=e.y}}S.push({x:e,y:i,data:a,geometry:w[o]}),e+=n})};b();const j=o(null),z=o(0),I=()=>{const t=(new f).setFromObject(j.value);z.value=-(t.max.x+t.min.x)/2};return n(()=>{I()}),i(()=>[y.titleSize,y.width,y.spacing,y.distribution],()=>{M(),b(),I()}),(a,o)=>(r(),s("TresGroup",{rotation:[0,Math.PI/2,0]},[l("TresGroup",{"position-x":z.value,ref_key:"tgroup",ref:j},[(r(),s(u,null,c(S,(o,n)=>l("TresGroup",{position:[o.x,.001,0],key:n},[l("TresMesh",{geometry:o.geometry,castShadow:""},[l("TresMeshStandardMaterial",{color:o.data.color,transparent:""},null,8,x)],8,v),p(t,{rotation:[-Math.PI/2,0,-Math.PI/2],textContent:`${o.data.value}${o.data.title}`,fontSize:a.titleSize,position:[.05,.01,.4]},null,8,["rotation","textContent","fontSize"]),p(e,{length:.3,position:[0,.011,.24],rotation:[-Math.PI/2,0,-Math.PI/2]},null,8,["rotation"])],8,_)),64))],8,m)],8,g))}});export{y as _};
