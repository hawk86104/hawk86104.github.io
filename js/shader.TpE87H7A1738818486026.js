import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.ZGxFoQtw1738818486026.js";import{_ as i,C as s}from"./three.WgQSjl1J1738818486026.js";import{P as a}from"./tweakpane.yDiyAAkA1738818486026.js";import{L as c}from"./three-subdivide.xTtTV4TQ1738818486026.js";import{d as u,b as l,a2 as f,w as p,o as d,H as g,N as m,aj as h,ak as v,a3 as y,r as b,e as w,f as _,g as M,j as x,u as I,m as S,M as T}from"./@vue.NRI7TcgI1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";const B=C;!function(n,t){const e=C,r=A();for(;;)try{if(424142===parseInt(e(218))/1*(parseInt(e(225))/2)+parseInt(e(250))/3+parseInt(e(235))/4+-parseInt(e(205))/5+-parseInt(e(193))/6+-parseInt(e(195))/7*(-parseInt(e(249))/8)+parseInt(e(221))/9*(-parseInt(e(239))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const j=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(206)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){j(this,(function(){const n=C,t=new RegExp(n(234)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=F(n(204));t.test(r+n(200))&&e[n(244)](r+n(245))?F():r("0")}))()}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(206)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();k(void 0,(function(){const n=C;let t;try{t=Function("return (function() "+n(247)+");")()}catch(o){t=window}const e=t[n(203)]=t[n(203)]||{},r=[n(216),"warn",n(242),n(240),n(199),n(248),n(246)];for(let i=0;i<r[n(215)];i++){const t=k[n(197)][n(226)].bind(k),o=r[i],s=e[o]||t;t.__proto__=k.bind(k),t[n(231)]=s.toString[n(207)](s),e[o]=t}}))();const z=[B(243)];function C(n,t){const e=A();return(C=function(n,t){return e[n-=193]})(n,t)}function A(){const n=["FrontSide","uniforms","console","init","1046840qHgDyd","apply","bind","color","side","debu","gger","#ffff00","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","copy","length","log","attributes","1889eouKQq","value","modify","1011735wkHuHx","material","TresShaderMaterial","while (true) {}","706rGAFtI","prototype","shineShader","clone","geometry","Vector3","toString","Color","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","function *\\( *\\)","1182588XQqDvi","subVectors","stateObject","action","70PiumHV","error","blending","info","scale","test","input","trace",'{}.constructor("return this")( )',"table","920nCGzMK","1829211rKZzJC","srcMesh","position","3519606ulikOX","TresMesh","26467qEJKeg","AdditiveBlending","constructor","string","exception","chain"];return(A=function(){return n})()}const H=u({__name:B(227),props:{srcMesh:{},scale:{default:1.2},color:{default:B(212)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[B(201)]},blending:{default:i[B(196)]}},setup(e){const r=B,o=e,a=l(),u={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new s(o[r(208)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(213),fragmentShader:r(233),side:o[r(209)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};f((()=>{const n=r;if(o[n(251)]&&a[n(219)]&&!a[n(219)][n(229)][n(217)][n(252)]){let t=o[n(251)][n(229)].clone();o.subdivision&&(t=c[n(220)](t,2)),a[n(219)].geometry=t,a.value[n(252)][n(214)](o.srcMesh.position)}o[n(208)]&&(u.uniforms.glowColor[n(219)]=new(i[n(232)])(o.color)),o.c&&(u[n(202)].c[n(219)]=o.c),o.p&&(u.uniforms.p.value=o.p)})),p((()=>o.subdivision),(n=>{const t=r;let e=o[t(251)][t(229)][t(228)]();n&&(e=c.modify(e,2)),a[t(219)][t(229)]=e})),p((()=>o[r(209)]),(n=>{const t=r;a.value.material[t(209)]=n})),p((()=>o.blending),(n=>{const t=r;a.value[t(222)][t(241)]=n}));const{onLoop:y}=n(),{camera:b}=t();return y((()=>{const n=r;b[n(219)]&&a.value&&(u[n(202)].viewVector[n(219)]=(new(i[n(230)]))[n(236)](b[n(219)].position,a[n(219)][n(252)]))})),(n,t)=>{const e=r;return d(),g(e(194),{ref_key:"TSGref",ref:a,scale:o[e(243)]},[m(e(223),h(v(u)),null,16)],8,z)}}});function F(n){function t(n){const e=C;if(typeof n===e(198))return function(n){}[e(197)](e(224))[e(206)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(197)]("debugger").call(e(238)):function(){return!1}[e(197)](e(210)+e(211))[e(206)](e(237)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=E;!function(n,t){const e=E,r=D();for(;;)try{if(652019===-parseInt(e(132))/1+-parseInt(e(138))/2+-parseInt(e(180))/3+parseInt(e(124))/4+-parseInt(e(171))/5+parseInt(e(141))/6*(parseInt(e(125))/7)+parseInt(e(176))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){V(this,(function(){const n=E,t=new RegExp(n(151)),e=new RegExp(n(136),"i"),r=P(n(157));t.test(r+n(127))&&e.test(r+"input")?P():r("0")}))()}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();G(void 0,(function(){const n=E,t=function(){const n=E;let t;try{t=Function(n(137)+n(173)+");")()}catch(e){t=window}return t}(),e=t[n(142)]=t[n(142)]||{},r=["log","warn",n(150),"error",n(129),n(170),n(168)];for(let o=0;o<r[n(165)];o++){const t=G.constructor[n(164)][n(148)](G),i=r[o],s=e[i]||t;t.__proto__=G[n(148)](G),t[n(126)]=s[n(126)][n(148)](s),e[i]=t}}))();const K=[N(178)],R=[N(178)];function D(){const n=['{}.constructor("return this")( )',"TresCanvas","BackSide","4007616xDFdtz","#0ff","map","value","529371nbDtTK","TresMeshRefB","TresBoxGeometry","3318204gKnJSn","427YHdzrH","toString","chain","DoubleSide","exception","TresPerspectiveCamera","stateObject","181098ZtzhkB","constructor","TreBoxRef","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","969030wpHhgc","TresGridHelper","NormalBlending","109194mPeGKr","console","shader","addBinding","call","TresAmbientLight","instance","bind","#00dfff","info","function *\\( *\\)","action","side","apply","string","#222","init","counter","TresSphereGeometry","AdditiveBlending","TresMeshRefA","FrontSide","blending","prototype","length","TresMeshBasicMaterial","srcMesh","trace","gger","table","4732765sdvNYk","logo.png"];return(D=function(){return n})()}function E(n,t){const e=D();return(E=function(n,t){return e[n-=123]})(n,t)}const Z=u({__name:N(143),async setup(n){const t=N;let s,c;const u={clearColor:t(156)},f=l(),p=l(),g=l(),h=([s,c]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(172)]))),s=await s,c(),s),v=b({scale:1.6,color:t(149),subdivision:!0,c:1.1,p:1.4,side:i[t(162)],blending:i[t(160)]}),B=new a({title:"参数",expanded:!0});return B[t(144)](v,"color",{label:"颜色"}),B[t(144)](v,"scale",{label:"大小",min:1,max:3,step:.2}),B[t(144)](v,"subdivision",{label:"边缘处理"}),B[t(144)](v,"c",{label:"c",min:0,max:2,step:.1}),B.addBinding(v,"p",{label:"p",min:0,max:8,step:.2}),B[t(144)](v,t(153),{options:{FrontSide:i[t(162)],BackSide:i[t(175)],DoubleSide:i[t(128)]}}),B[t(144)](v,t(163),{options:{AdditiveBlending:i[t(160)],NormalBlending:i[t(140)]}}),(n,o)=>{const i=t,s=w(i(174));return d(),_(s,S(u,{"window-size":""}),{default:M((()=>[o[2]||(o[2]=m(i(130),{position:[5,5,5]},null,-1)),o[3]||(o[3]=m(i(146),{intensity:1},null,-1)),x(I(e)),o[4]||(o[4]=m(i(139),{args:[10,10]},null,-1)),m("TresMesh",{ref_key:i(161),ref:f,position:[-2,1,0]},[o[0]||(o[0]=m(i(159),{args:[1,32,16]},null,-1)),m(i(166),{map:I(h)[0]},null,8,K)],512),x(H,S({srcMesh:f[i(179)]},v),null,16,["srcMesh"]),x(I(r),{ref_key:i(134),ref:g,args:[1,1,1],position:[2,1,0]},{default:M((()=>[m(i(166),{map:I(h)[1]},null,8,R)])),_:1},512),g.value&&g[i(179)][i(147)]?(d(),_(H,S({key:0,srcMesh:g[i(179)][i(147)]},v),null,16,[i(167)])):T("",!0),m("TresMesh",{ref_key:i(181),ref:p,position:[0,1,-2]},o[1]||(o[1]=[m(i(123),{args:[1,1,1,1,1]},null,-1),m("TresMeshBasicMaterial",{color:i(177)},null,-1)]),512),x(H,S({srcMesh:p[i(179)]},v),null,16,[i(167)])])),_:1},16)}}});function P(n){function t(n){const e=E;if(typeof n===e(155))return function(n){}[e(133)]("while (true) {}").apply(e(158));1!==(""+n/n)[e(165)]||n%20==0?function(){return!0}[e(133)](e(135)+e(169))[e(145)](e(152)):function(){return!1}[e(133)](e(135)+"gger")[e(154)](e(131)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Z as default};
