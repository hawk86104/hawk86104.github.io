import{e as n,a as t,U as o}from"./@tresjs.C3WO4ZW41730883607874.js";import{P as e}from"./tweakpane.BCjFYDHx1730883607874.js";import{a as r}from"./index.D3-O3Ya61730883607874.js";import{_ as a,a3 as i}from"./three.fIUcjaNz1730883607874.js";import{d as s,b as c,a6 as u,r as l,a3 as f,o as p,D as m,J as d,aj as v,ak as h,e as g,f as j,g as k,j as w,u as y,al as S,m as b}from"./@vue.Cfu43fwq1730883607874.js";import"./@vueuse.BSum2YDk1730883607874.js";import"./@fesjs.DQmvwjPe1730883607874.js";import"./vue-router.BDLCs4Ld1730883607874.js";import"./lodash-es.BBTWvufR1730883607874.js";import"./@qlin.BIlp8Yi21730883607874.js";import"./pinia.DKpn0rzI1730883607874.js";import"./vue-demi.Dq6ymT-81730883607874.js";import"./@babel.BBWsvBIa1730883607874.js";import"./@floating-ui.B75jtkXD1730883607874.js";import"./@juggle.BnTvdTVm1730883607874.js";import"./chalk.B3MNILV41730883607874.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1730883607874.js";import"./@iconify.CkmZGMLx1730883607874.js";import"./dompurify.MwRjsY0L1730883607874.js";import"./oimophysics.B0i2NtyE1730883607874.js";import"./three-stdlib.oW8T3I_Q1730883607874.js";import"./@pmndrs.CQZPv3U_1730883607874.js";import"./object-hash.c-ODBdIv1730883607874.js";import"./@amap.CXRRqiLY1730883607874.js";import"./jszip.V4H7zZUl1730883607874.js";import"./three-custom-shader-material.DD5mBNmu1730883607874.js";import"./three.quarks.BwNiiDXj1730883607874.js";import"./quarks.core.C7CDonSm1730883607874.js";const x=R;function I(){const n=["warn","chain","164982sPxJQy","uniforms","toString","return (function() ","35660YmofyF","error","stateObject","AdditiveBlending",'{}.constructor("return this")( )',"call","debu","56hlBMOk","init","console","scale","info","TresMesh","action","TresShaderMaterial","\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n","150913RKsPUp","material","value","Color","4uBeLJF","while (true) {}","367640MDcAkl","function *\\( *\\)","#ffffff","5472378LIRFEA","counter","string","RepeatWrapping","prototype","exception","uScanColor","uTime","bind","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","gger","constructor","wrapT","DoubleSide","log","1890588FVOvOh","length","apply","table","186513YhAkgz","shaderCircleWave"];return(I=function(){return n})()}!function(n,t){const o=R,e=I();for(;;)try{if(230172===-parseInt(o(321))/1+parseInt(o(293))/2+-parseInt(o(317))/3*(-parseInt(o(291))/4)+parseInt(o(325))/5+-parseInt(o(313))/6+parseInt(o(287))/7*(-parseInt(o(332))/8)+parseInt(o(296))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const _=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(315)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){_(this,(function(){const n=R,t=new RegExp(n(294)),o=new RegExp(n(306),"i"),e=D(n(333));t[n(305)](e+n(320))&&o[n(305)](e+"input")?D():e("0")}))()}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();C(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(324)+n(329)+");")()}catch(o){t=window}return t}(),o=t[n(334)]=t[n(334)]||{},e=[n(312),n(319),n(282),n(326),n(301),n(316),n(307)];for(let r=0;r<e[n(314)];r++){const t=C.constructor[n(300)][n(304)](C),a=e[r],i=o[a]||t;t.__proto__=C[n(304)](C),t[n(323)]=i.toString.bind(i),o[a]=t}}))();const M=["rotation-x",x(335)];function R(n,t){const o=I();return(R=function(n,t){return o[n-=282]})(n,t)}const T=s({__name:x(318),props:{color:{default:x(295)},colorDark:{default:"#000000"},speed:{default:1},scale:{default:2}},async setup(o){const e=x;let r,s;const g=o,j=c(),{onLoop:k}=n();k((({delta:n})=>{const t=R;j[t(289)]&&(j[t(289)].material[t(322)][t(303)].value+=n*g.speed)}));const w=([r,s]=u((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,s(),r);w.wrapS=a[e(299)],w[e(310)]=i;const y=l({side:a[e(311)],transparent:!0,blending:a[e(328)],flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:w},uScanColor:{type:"v3",value:new(a[e(290)])(g.color)},uScanColorDark:{type:"v3",value:new(a[e(290)])(g.colorDark)}},vertexShader:e(286),fragmentShader:"\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n"});return f((()=>{const n=e;j[n(289)]&&(j[n(289)][n(288)][n(322)][n(302)][n(289)]=new(a[n(290)])(g.color),j[n(289)][n(288)][n(322)].uScanColorDark[n(289)]=new(a[n(290)])(g.colorDark))})),(n,t)=>{const o=e;return p(),m(o(283),{ref_key:"tmRef",ref:j,"rotation-x":-Math.PI/2,scale:n[o(335)]},[t[0]||(t[0]=d("TresPlaneGeometry",{args:[1,1]},null,-1)),d(o(285),v(h(y)),null,16)],8,M)}}});function D(n){function t(n){const o=R;if(typeof n===o(298))return function(n){}[o(309)](o(292))[o(315)](o(297));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debu"+o(308))[o(330)](o(284)):function(){return!1}[o(309)](o(331)+"gger")[o(315)](o(327)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const P=U;!function(n,t){const o=U,e=z();for(;;)try{if(512227===parseInt(o(432))/1+parseInt(o(436))/2*(-parseInt(o(429))/3)+-parseInt(o(433))/4+-parseInt(o(442))/5+parseInt(o(441))/6+-parseInt(o(431))/7+parseInt(o(428))/8*(parseInt(o(424))/9))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const O=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){O(this,(function(){const n=U,t=new RegExp(n(435)),o=new RegExp(n(440),"i"),e=F(n(411));t[n(446)](e+n(412))&&o.test(e+"input")?F():e("0")}))()}();const W=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[U(445)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();W(void 0,(function(){const n=U,t=function(){const n=U;let t;try{t=Function(n(434)+n(423)+");")()}catch(o){t=window}return t}(),o=t[n(449)]=t.console||{},e=[n(448),"warn",n(419),"error",n(410),"table",n(418)];for(let r=0;r<e[n(450)];r++){const t=W[n(451)][n(416)].bind(W),a=e[r],i=o[a]||t;t[n(430)]=W[n(438)](W),t[n(421)]=i[n(421)][n(438)](i),o[a]=t}}))();const A=s({__name:P(425),setup(n){const t=P,a=l({reflectivity:.1,showGridHelper:!1,scale:1}),i=l({color:"#ffffff",colorDark:t(420),speed:1,scale:2}),s=new e({title:t(426),expanded:!0});return s[t(452)](i,t(437),{label:t(444)}),s[t(452)](i,t(453),{label:t(409)}),s[t(452)](i,"speed",{label:"速度",min:.1,max:5,step:.1}),s.addBinding(i,t(427),{label:"大小",min:.1,max:10,step:.1}),(n,e)=>{const s=t,c=g(s(443));return p(),j(c,{clearColor:"#201919","window-size":""},{default:k((()=>[e[0]||(e[0]=d("TresPerspectiveCamera",{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1)),w(y(o),{enableDamping:""}),e[1]||(e[1]=d(s(415),{intensity:6},null,-1)),(p(),j(S,null,{default:k((()=>[w(T,v(h(i)),null,16)])),_:1})),(p(),j(S,null,{default:k((()=>[w(r,b({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function z(){const n=["458khYoYb","color","bind","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5919126lvWdao","2567390zRahZB","TresCanvas","圈颜色","apply","test","action","log","console","length","constructor","addBinding","colorDark","while (true) {}","圈渐变色","exception","init","chain","stateObject","counter","TresAmbientLight","prototype","debu","trace","info","#000000","toString","gger",'{}.constructor("return this")( )',"306fxxhUR","circleWave","shaderCircleWave地面","scale","431880gOdUGE","12885GqwLTR","__proto__","3402322XeCntR","186jOxouI","1307564GmOisK","return (function() ","function *\\( *\\)"];return(z=function(){return n})()}function U(n,t){const o=z();return(U=function(n,t){return o[n-=409]})(n,t)}function F(n){function t(n){const o=U;if("string"==typeof n)return function(n){}.constructor(o(454))[o(445)](o(414));1!==(""+n/n)[o(450)]||n%20==0?function(){return!0}[o(451)](o(417)+o(422))[o(439)](o(447)):function(){return!1}[o(451)](o(417)+o(422))[o(445)](o(413)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{A as default};
