import{q as t,Y as n}from"./@tresjs.JhHPALEY1728703368826.js";import{P as e}from"./tweakpane.yHWGBmom1728703368826.js";import{_ as o,m as r,a,ak as s,al as i}from"./three.VoknrmS61728703368826.js";import{_ as c}from"./heatmap.js-fix.93457T1x1728703368826.js";import{d as u,a4 as l,a3 as p,o as f,E as d,u as h,r as m,e as g,f as y,g as v,j as b,al as w,aj as x,ak as _,m as I,L as j}from"./@vue.JNsx1iN61728703368826.js";import"./@vueuse.yeA714RM1728703368826.js";import"./@amap.LlG4vVLC1728703368826.js";const C=A;function S(){const t=["object","radius","1px solid #5384ff","./draco/","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","block","64335CHovTM","Texture","mesh_0","error","primitive","5369175qiDgmd","createElement","needsUpdate","log","5094072JRjhrr","86qSVAyM","set","__proto__","action","chain","layerY","length","getZ","trace","counter","55jDaDpY","deleteAttribute","geometry","heatmap-canvas","constructor",'{}.constructor("return this")( )',"position","onclick","init","top","heatmapClickCom","stateObject","canvas","table","8WSnatJ","display","exception","console","40px","warn","bind","815005IylsEn","setAttribute","function *\\( *\\)","0.8","DoubleSide","addData","appendChild","apply","body","call","8402919kWWMgL","182604NAFtJn","input","absolute","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5794630HpociF","scale","none","attributes","border","style","string","getX","prototype","_renderer","layerX"];return(S=function(){return t})()}!function(t,n){const e=A,o=S();for(;;)try{if(797338===-parseInt(e(469))/1+parseInt(e(438))/2*(-parseInt(e(501))/3)+-parseInt(e(480))/4*(-parseInt(e(448))/5)+parseInt(e(437))/6+parseInt(e(479))/7+-parseInt(e(462))/8*(parseInt(e(506))/9)+parseInt(e(484))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){M(this,(function(){const t=A,n=new RegExp(t(471)),e=new RegExp(t(483),"i"),o=D(t(456));n.test(o+t(442))&&e.test(o+t(481))?D():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function("return (function() "+t(453)+");")()}catch(e){n=window}return n}(),e=n[t(465)]=n[t(465)]||{},o=[t(509),t(467),"info",t(504),t(464),t(461),t(446)];for(let r=0;r<o[t(444)];r++){const n=T.constructor[t(492)][t(468)](T),a=o[r],s=e[a]||n;n[t(440)]=T[t(468)](T),n.toString=s.toString.bind(s),e[a]=n}}))();const k=[C(495)];function A(t,n){const e=S();return(A=function(t,n){return e[t-=437]})(t,n)}const B=u({__name:C(458),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const u=n,{nodes:m}=([s,i]=l((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(498)}))),s=await s,i(),s);m[e(503)][e(454)][e(439)](-5088.96,-3.08,39374.7),m[e(503)][e(485)].setScalar(.01);let g=null,y=null,v=null;y=new(o[e(502)])((()=>{const t=e;return v=document[t(507)](t(451)),v[t(489)][t(454)]=t(482),v.style[t(457)]=t(466),v[t(489)].left="0",document[t(477)][t(475)](v),g=c.create({container:v,width:256,height:256,blur:t(472),radius:u[t(496)]}),g._renderer[t(460)][t(489)][t(488)]=t(497),g._renderer[t(460)][t(455)]=function(n){const e=t;g[e(474)]({x:n[e(494)],y:n[e(443)],value:1,radius:u[e(496)]}),g.setDataMax(1),y&&(y[e(508)]=!0)},g})()[e(493)][e(460)]);const b={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(499),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(473)]},w=new r(b);m[e(503)].material=w;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:r}=t.boundingBox;t[n(449)]("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(487)].position.count;e++)c.push((t[n(487)][n(454)][n(491)](e)-r.x)/s),c.push((t.attributes[n(454)][n(445)](e)-r.z)/i);const u=new Float32Array(c);t[n(470)]("uv",new a(u,2))})(m.mesh_0[e(450)]),p((()=>{const t=e;v[t(489)][t(463)]=""+(u.show2dCanvas?t(500):t(486))})),(t,n)=>{const o=e;return f(),d(o(505),{object:h(m)[o(503)]},null,8,k)}}});function D(t){function n(t){const e=A;if(typeof t===e(490))return function(t){}.constructor("while (true) {}")[e(476)](e(447));1!==(""+t/t)[e(444)]||t%20==0?function(){return!0}[e(452)]("debugger")[e(478)](e(441)):function(){return!1}.constructor("debugger")[e(476)](e(459)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=W;function E(){const t=["table","TresGridHelper","trace","27dTKTwI","log","__proto__","toString","697415EPIoZr","#ffffff","heatmapClick","prototype","test","console","#030311","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","error","warn","TresCanvas","constructor","198558jdUrtc","action","gger","addButton","点击左侧蓝色画框","init","TresDirectionalLight","显示二维图","53024pWsXou","return (function() ","call","debu","while (true) {}","1790488IuyxlM","495140lLQasn","8750QgLuGm","show2dCanvas","info","apply","TresPerspectiveCamera","3SNoomW","length","addBinding","stateObject","3377QnJfHT","405384XBsxZA","12NBjyYU","input"];return(E=function(){return t})()}!function(t,n){const e=W,o=E();for(;;)try{if(141685===parseInt(e(195))/1+-parseInt(e(155))/2+-parseInt(e(167))/3*(parseInt(e(161))/4)+-parseInt(e(182))/5*(parseInt(e(173))/6)+parseInt(e(160))/7+parseInt(e(172))/8*(-parseInt(e(178))/9)+parseInt(e(162))/10*(parseInt(e(171))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(165)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=W,n=new RegExp(t(190)),e=new RegExp(t(189),"i"),o=P(t(200));n.test(o+"chain")&&e[t(186)](o+t(174))?P():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(165)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(156)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(187)]=n[t(187)]||{},o=[t(179),t(192),t(164),t(191),"exception",t(175),t(177)];for(let r=0;r<o[t(168)];r++){const n=L.constructor[t(185)].bind(L),a=o[r],s=e[a]||n;n[t(180)]=L.bind(L),n[t(181)]=s[t(181)].bind(s),e[a]=n}}))();const R=j(z(166),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),Z=j(z(153),{position:[5,10,7.5],color:z(183),intensity:5},null,-1),F=j(z(176),{args:[50,25]},null,-1);function W(t,n){const e=E();return(W=function(t,n){return e[t-=153]})(t,n)}const O=u({__name:z(184),setup(t){const o=z,r={clearColor:o(188),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(169)](a,o(163),{label:o(154)}),c.addBinding(a,"radius",{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(198)]({title:o(199)}),(t,e)=>{const s=g(o(193));return f(),y(s,I(r,{"window-size":""}),{default:v((()=>[R,b(h(n),{autoRotate:!1,autoRotateSpeed:2}),Z,F,(f(),y(w,null,{default:v((()=>[b(B,x(_(a)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=W;if("string"==typeof t)return function(t){}[e(194)](e(159))[e(165)]("counter");1!==(""+t/t)[e(168)]||t%20==0?function(){return!0}[e(194)](e(158)+e(197))[e(157)](e(196)):function(){return!1}[e(194)](e(158)+"gger").apply(e(170)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
