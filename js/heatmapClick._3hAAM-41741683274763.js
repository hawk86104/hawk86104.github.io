import{D as t,o as n}from"./@tresjs.tqalU7S21741683274763.js";import{P as e}from"./tweakpane.yDiyAAkA1741683274763.js";import{_ as o,ak as r,al as a}from"./three.3wvNjL8W1741683274763.js";import{_ as s}from"./heatmap.js-fix.xN5-aGwA1741683274763.js";import{d as i,a3 as c,a2 as u,o as l,H as p,u as f,r as d,e as h,f as m,g,N as y,j as v,al as w,aj as b,ak as x,m as _}from"./@vue.NRI7TcgI1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";import"./@amap.H2801npL1741683274763.js";const j=M;!function(t,n){const e=M,o=D();for(;;)try{if(470747===-parseInt(e(277))/1+-parseInt(e(304))/2+-parseInt(e(313))/3*(parseInt(e(338))/4)+parseInt(e(307))/5+parseInt(e(296))/6+parseInt(e(312))/7+-parseInt(e(314))/8*(-parseInt(e(292))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(303)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){I(this,(function(){const t=M,n=new RegExp(t(318)),e=new RegExp(t(287),"i"),o=A(t(308));n.test(o+"chain")&&e[t(331)](o+t(345))?A():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(303)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=M;let n;try{n=Function("return (function() "+t(272)+");")()}catch(r){n=window}const e=n[t(288)]=n[t(288)]||{},o=[t(275),"warn",t(327),t(306),t(299),"table",t(290)];for(let a=0;a<o.length;a++){const n=k[t(295)][t(325)][t(329)](k),r=o[a],s=e[r]||n;n[t(336)]=k[t(329)](k),n[t(276)]=s.toString[t(329)](s),e[r]=n}}))();const C=[j(283)];function M(t,n){const e=D();return(M=function(t,n){return e[t-=269]})(t,n)}function D(){const t=["primitive","display","object","computeBoundingBox","scale","heatmap-canvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","style","trace","1px solid #5384ff","9kicVjt","call","gger","constructor","836940pqWkRM","length","radius","exception","needsUpdate","set","getX","apply","244524tuclkC","Texture","error","1762140atGSeO","init","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","geometry","top","1301489OWdUka","891774tMjaOZ","4220576CFMKsQ","push","./draco/","createElement","function *\\( *\\)","onclick","setDataMax","attributes","debu","show2dCanvas","ShaderMaterial","prototype","heatmapClickCom","info","addData","bind","none","test","0.8","appendChild","block","absolute","__proto__","mesh_0","4CIsJDy","layerY","canvas","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","BufferAttribute","_renderer","border","input","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","while (true) {}","stateObject","counter",'{}.constructor("return this")( )',"setScalar","DoubleSide","log","toString","315150kfBkym","body","40px","position"];return(D=function(){return t})()}const S=i({__name:j(326),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t(e(341),{draco:!0,decoderPath:e(316)}))),r=await r,a(),r);d[e(337)][e(280)][e(301)](-5088.96,-3.08,39374.7),d[e(337)][e(285)][e(273)](.01);let h=null,m=null,g=null;m=new(o[e(305)])((()=>{const t=e;return g=document[t(317)](t(286)),g[t(289)][t(280)]=t(335),g.style[t(311)]=t(279),g.style.left="0",document[t(278)][t(333)](g),h=s.create({container:g,width:256,height:256,blur:t(332),radius:i[t(298)]}),h[t(343)][t(340)][t(289)][t(344)]=t(291),h[t(343)][t(340)][t(319)]=function(n){const e=t;h[e(328)]({x:n.layerX,y:n[e(339)],value:1,radius:i[e(298)]}),h[e(320)](1),m&&(m[e(300)]=!0)},h})()._renderer[e(340)]);const y={vertexShader:e(309),fragmentShader:e(346),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(274)]},v=new(o[e(324)])(y);d[e(337)].material=v;return(t=>{const n=e;t[n(284)]();const{max:r,min:a}=t.boundingBox;t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(321)].position.count;e++)c[n(315)]((t[n(321)].position[n(302)](e)-a.x)/s),c[n(315)]((t[n(321)][n(280)].getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(342)])(u,2))})(d[e(337)][e(310)]),u((()=>{const t=e;g[t(289)][t(282)]=""+(i[t(323)]?t(334):t(330))})),(t,n)=>{const o=e;return l(),p(o(281),{object:f(d)[o(337)]},null,8,C)}}});function A(t){function n(t){const e=M;if("string"==typeof t)return function(t){}[e(295)](e(269))[e(303)](e(271));1!==(""+t/t)[e(297)]||t%20==0?function(){return!0}[e(295)](e(322)+"gger")[e(293)]("action"):function(){return!1}[e(295)](e(322)+e(294)).apply(e(270)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=z;function z(t,n){const e=R();return(z=function(t,n){return e[t-=171]})(t,n)}!function(t,n){const e=z,o=R();for(;;)try{if(332603===-parseInt(e(198))/1*(-parseInt(e(189))/2)+parseInt(e(173))/3+-parseInt(e(188))/4*(-parseInt(e(196))/5)+parseInt(e(175))/6+parseInt(e(187))/7+-parseInt(e(199))/8*(-parseInt(e(174))/9)+-parseInt(e(184))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(210)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(){const t=["table","heatmapClick","info","return (function() ","input","addBinding","20555790QwXvfh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","3545297QEMnQD","627176hmEAgm","2KkwHQt","stateObject","function *\\( *\\)","init","点击左侧蓝色画框","test","bind","15wULrgV","圆圈的大小","522573qumfsZ","232PQsnnJ","toString","显示二维图","action","log","__proto__","addButton","while (true) {}","console","TresCanvas","counter","apply","error","string","call","exception","954945vvDTJZ","5157xUnGeR","3322944DLOyik","length","#ffffff"];return(R=function(){return t})()}!function(){B(this,(function(){const t=z,n=new RegExp(t(191)),e=new RegExp(t(185),"i"),o=Z(t(192));n[t(194)](o+"chain")&&e[t(194)](o+t(182))?Z():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=z;let n;try{n=Function(t(181)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(207)]=n.console||{},o=[t(203),"warn",t(180),t(211),t(172),t(178),"trace"];for(let a=0;a<o.length;a++){const n=T[t(186)].prototype[t(195)](T),r=o[a],s=e[r]||n;n[t(204)]=T[t(195)](T),n[t(200)]=s[t(200)][t(195)](s),e[r]=n}}))();const U=i({__name:O(179),setup(t){const o=O,s={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(183)](i,"show2dCanvas",{label:o(201)}),c[o(183)](i,"radius",{label:o(197),min:.1,max:30,step:.1}),c[o(205)]({title:o(193)}),(t,e)=>{const r=o,a=h(r(208));return l(),m(a,_(s,{"window-size":""}),{default:g((()=>[e[0]||(e[0]=y("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),v(f(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y("TresDirectionalLight",{position:[5,10,7.5],color:r(177),intensity:5},null,-1)),e[2]||(e[2]=y("TresGridHelper",{args:[50,25]},null,-1)),(l(),m(w,null,{default:g((()=>[v(S,b(x(i)),null,16)])),_:1}))])),_:1},16)}}});function Z(t){function n(t){const e=z;if(typeof t===e(212))return function(t){}[e(186)](e(206))[e(210)](e(209));1!==(""+t/t)[e(176)]||t%20==0?function(){return!0}[e(186)]("debugger")[e(171)](e(202)):function(){return!1}[e(186)]("debugger").apply(e(190)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
