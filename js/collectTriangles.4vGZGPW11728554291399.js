import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.IlQvaTJ91728554291399.js";import{_ as s}from"./index.J02s6ynY1728554291399.js";import{_ as i,aP as c,B as u,cA as a}from"./three.YiCjTDWq1728554291399.js";import{P as l}from"./tweakpane.yHWGBmom1728554291399.js";import{I as p,C as f,N as g,c as h,d as m,a as d}from"./three-mesh-bvh.MFGQK1iS1728554291399.js";import{d as y,a4 as w,b,a3 as j,o as v,E as _,L as I,u as x,F as A,r as T,e as R,j as z,g as M,m as S,f as C,al as k}from"./@vue.JNsx1iN61728554291399.js";import"./@vueuse.nb-8z3af1728554291399.js";import"./index.hFfGmqS91728554291399.js";import"./@fesjs.GdZzFg1i1728554291399.js";import"./vue-router.NPtXaYpe1728554291399.js";import"./lodash-es.kYt-_xTG1728554291399.js";import"./@qlin.yHhFDldE1728554291399.js";import"./pinia.puw_7oLs1728554291399.js";import"./@floating-ui.BPbuo5Gx1728554291399.js";import"./@juggle.7yjBMqoW1728554291399.js";import"./chalk.sAH7iSuz1728554291399.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1728554291399.js";import"./@iconify.eRzdeG3K1728554291399.js";import"./utils.7lNkKeRF1728554291399.js";import"./default.vue_vue_type_script_setup_true_lang.Q78lnyWx1728554291399.js";import"./three-mesh-ui.module.Du0NJGxJ1728554291399.js";!function(t,n){const e=Z,r=B();for(;;)try{if(879818===-parseInt(e(319))/1*(-parseInt(e(326))/2)+parseInt(e(330))/3+-parseInt(e(335))/4+parseInt(e(341))/5*(-parseInt(e(318))/6)+-parseInt(e(322))/7+-parseInt(e(304))/8+parseInt(e(311))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(340)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Z(t,n){const e=B();return(Z=function(t,n){return e[t-=300]})(t,n)}!function(){O(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(313),"i"),r=F(t(314));n[t(327)](r+t(336))&&e[t(327)](r+t(321))?F():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(340)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(){const t=["toString","pointerdown","constructor","clientY","enabled","trace","setFromCamera","firstHitOnly","value","12494128SMQsaC","innerHeight","button","Raycaster","gger","info","bind","17336601BeUCtF","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init",'{}.constructor("return this")( )',"__proto__","console","18bDoGpA","35680MVuOPK","addEventListener","input","7483273wegaZT","exception","counter","length","30PgPVPy","test","debu","intersectObject","5261244QtRZXH","pointerType","pointerup","clientX","while (true) {}","689332wdJgPF","chain","prototype","action","error","apply","887135lxhWQY","innerWidth","stateObject"];return(B=function(){return t})()}E(void 0,(function(){const t=Z;let n;try{n=Function("return (function() "+t(315)+");")()}catch(o){n=window}const e=n[t(317)]=n[t(317)]||{},r=["log","warn",t(309),t(339),t(323),"table",t(300)];for(let s=0;s<r.length;s++){const n=E[t(346)][t(337)][t(310)](E),o=r[s],i=e[o]||n;n[t(316)]=E[t(310)](E),n[t(344)]=i.toString[t(310)](i),e[o]=n}}))();function F(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}.constructor(e(334))[e(340)](e(324));1!==(""+t/t)[e(325)]||t%20==0?function(){return!0}.constructor("debu"+e(308))[e(312)](e(338)):function(){return!1}[e(346)](e(328)+e(308))[e(340)](e(343)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=H;!function(t,n){const e=H,r=N();for(;;)try{if(214724===parseInt(e(291))/1*(parseInt(e(324))/2)+parseInt(e(260))/3+parseInt(e(268))/4*(parseInt(e(344))/5)+-parseInt(e(272))/6*(parseInt(e(290))/7)+parseInt(e(300))/8*(-parseInt(e(323))/9)+-parseInt(e(330))/10*(-parseInt(e(299))/11)+parseInt(e(292))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function H(t,n){const e=N();return(H=function(t,n){return e[t-=257]})(t,n)}!function(){U(this,(function(){const t=H,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(329),"i"),r=D(t(345));n.test(r+t(343))&&e[t(302)](r+t(298))?D():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();V(void 0,(function(){const t=H;let n;try{n=Function(t(335)+t(278)+");")()}catch(o){n=window}const e=n.console=n[t(322)]||{},r=[t(304),t(332),"info",t(312),t(279),t(325),"trace"];for(let s=0;s<r[t(316)];s++){const n=V[t(273)][t(276)].bind(V),o=r[s],i=e[o]||n;n[t(282)]=V[t(293)](V),n.toString=i[t(289)][t(293)](i),e[o]=n}}))();const X=[P(318),P(267)],Y=[I(P(309),{args:[1,40,40]},null,-1),I("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],q=["geometry"],W=[I(P(275),{color:P(261),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],$=y({__name:P(338),props:{controls:{}},async setup(r){const o=P;let s,y;const T=r;(()=>{const t=H;i[t(283)].prototype[t(336)]=h,u.prototype.disposeBoundsTree=m,i[t(258)][t(276)][t(263)]=d})();const R=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),z=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*R.attributes[o(296)].count);M[o(340)](255);const S=new(i[o(308)])(M,3,!0);S.setUsage(i[o(310)]),R[o(297)](o(331),S);const C=b(null),k=b(null),O=b(!1),E=b(-1),B=b(.2),F=new(i[o(328)]),{camera:U,raycaster:V}=t(),$=15/255,D=78/255,N=85/255;let G=null;j((()=>{const t=o;C[t(288)]&&(console[t(304)](t(313),C[t(288)]),C[t(288)][t(318)][t(336)](),G=R[t(265)],((t,n,e,r,o,s)=>{const c=Z;window[c(320)]("pointermove",(e=>{const r=c;t.x=e[r(333)]/window.innerWidth*2-1,t.y=-e[r(347)]/window[r(305)]*2+1,n.value=!0})),window[c(320)](c(345),(u=>{const a=c;t.x=u.clientX/window[a(342)]*2-1,t.y=-u[a(347)]/window.innerHeight*2+1,r.value=u[a(306)];const l=new(i[a(307)]);l[a(301)](t,e[a(303)]),l[a(302)]=!0;const p=l[a(329)](o.value,!0);n.value=!0,s[a(348)]=0===p[a(325)]}),!0),window[c(320)](c(332),(t=>{const e=c;r[e(303)]=-1,"touch"===t[e(331)]&&(n.value=!1)}),!0)})(F,O,U,E,C,T.controls[t(347)]))}));const{onLoop:L}=n();L((()=>{const t=o,n=R.index;if(k[t(288)])if(T[t(264)].instance.active||!O[t(288)])k.value.visible=!1;else{k[t(288)][t(346)][t(280)](B[t(288)]),V[t(288)][t(321)](F,U[t(288)]),V[t(288)][t(270)]=!0;const e=V.value.intersectObject(C.value,!0);if(e[t(316)]){k.value[t(296)][t(326)](e[0][t(274)]),T[t(264)][t(347)][t(317)]=!1,k[t(288)][t(314)]=!0;const r=new(i[t(285)]);r[t(326)](C[t(288)][t(333)]).invert();const o=new(i[t(342)]);o[t(301)][t(326)](k[t(288)][t(296)])[t(306)](r),o[t(339)]=100*B[t(288)];const s=[],c=new(i[t(334)]);if(null==G||G.shapecast({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(305)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(311)](c))return p;return f}return r?p:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(303)](o)){const t=3*e;s[i(287)](t,t+1,t+2)}return!1}}),0===E[t(288)]||2===E[t(288)]){let e=1,r=1,o=1;0===E[t(288)]&&(e=$,r=D,o=N);for(let i=0,c=s.length;i<c;i++){const c=n.getX(s[i]);S[t(257)](c,e),S[t(307)](c,r),S[t(271)](c,o)}S.needsUpdate=!0}}else k[t(288)][t(314)]=!1,T.controls[t(347)][t(317)]=!0}}));const Q=(new l)[o(281)]({title:"点击按钮",label:o(337)}),J=new(i[o(283)]);return Q.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<S[t(320)];o++)S[t(327)](o)===$&&S[t(259)](o)===D&&S[t(269)](o)===N&&(n[t(287)](R.attributes[t(296)][t(327)](o),R[t(294)][t(296)][t(259)](o),R.attributes[t(296)].getZ(o)),e[t(287)](R[t(294)][t(315)][t(327)](o),R[t(294)].normal[t(259)](o),R[t(294)][t(315)][t(269)](o)));const r=new Float32Array(n);J[t(297)](t(296),new(i[t(308)])(r,3)),J[t(297)](t(315),new(i[t(308)])(r,3))})),(t,n)=>{const e=o;return v(),_(A,null,[I(e(284),{ref_key:"targetMesh",ref:C,geometry:x(R),scale:.005,material:x(z)},null,8,X),I(e(284),{ref_key:"brushMesh",ref:k,visible:!1},Y,512),I(e(284),{geometry:x(J),position:[-2,-2,2],scale:.005},W,8,q)],64)}}});function D(t){function n(t){const e=H;if(typeof t===e(295))return function(t){}.constructor(e(266)).apply(e(319));1!==(""+t/t)[e(316)]||t%20==0?function(){return!0}[e(273)](e(286)+"gger")[e(349)](e(277)):function(){return!1}[e(273)](e(286)+e(262))[e(348)](e(341)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function N(){const t=["863091kUhzsq","#023249","gger","raycast","controls","boundsTree","while (true) {}","material","67624vxRInt","getZ","firstHitOnly","setZ","2296038bAAlZF","constructor","point","TresMeshStandardMaterial","prototype","action",'{}.constructor("return this")( )',"exception","setScalar","addButton","__proto__","BufferGeometry","TresMesh","Matrix4","debu","push","value","toString","7ONObRv","1ReETcm","3419976VtjgtY","bind","attributes","string","position","setAttribute","input","1859ydAOZl","10072HAdxXq","center","test","intersectsSphere","log","set","applyMatrix4","setY","BufferAttribute","TresSphereGeometry","DynamicDrawUsage","containsPoint","error","targetMesh.value init","visible","normal","length","enabled","geometry","counter","count","setFromCamera","console","162waOfqN","43678yhHVAS","table","copy","getX","Vector2","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","510CUjylK","color","warn","matrixWorld","Vector3","return (function() ","computeBoundsTree","生成模型","model","radius","fill","stateObject","Sphere","chain","5CYoEao","init","scale","instance","apply","call","setX","Mesh","getY"];return(N=function(){return t})()}const G=K;!function(t,n){const e=K,r=J();for(;;)try{if(753044===-parseInt(e(142))/1+-parseInt(e(132))/2+parseInt(e(102))/3+parseInt(e(143))/4*(-parseInt(e(105))/5)+parseInt(e(123))/6+parseInt(e(135))/7*(parseInt(e(145))/8)+parseInt(e(128))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(131)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){L(this,(function(){const t=K,n=new RegExp(t(115)),e=new RegExp(t(116),"i"),r=rt(t(114));n[t(126)](r+"chain")&&e[t(126)](r+t(124))?rt():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(){const t=["log","neg-y.jpg","constructor","counter","warn","collectTriangles","8280042cdzRkY","input","return (function() ","test","call","14979681vRzdDz","gger","exception","apply","2167572pCASAt",'{}.constructor("return this")( )',"__proto__","6645310vMWGsI","console","TresCanvas","error","pos-y.jpg","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","#999999","792867Hnnyga","1340fpEbSV","stateObject","8DbVsQX","table","debu","203223TeUNPc","string","pos-x.jpg","21370JthjEI","bind","controls","neg-x.jpg","while (true) {}","action","prototype","toString","TresPerspectiveCamera","init","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(J=function(){return t})()}function K(t,n){const e=J();return(K=function(t,n){return e[t-=101]})(t,n)}Q(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(125)+t(133)+");")()}catch(e){n=window}return n}(),e=n[t(136)]=n[t(136)]||{},r=[t(117),t(121),"info",t(138),t(130),t(146),"trace"];for(let o=0;o<r.length;o++){const n=Q.constructor[t(111)][t(106)](Q),s=r[o],i=e[s]||n;n[t(134)]=Q[t(106)](Q),n[t(112)]=i[t(112)][t(106)](i),e[s]=n}}))();const tt=I(G(113),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),nt=I("TresAmbientLight",{intensity:1},null,-1),et=y({__name:G(122),setup(t){const n=G,e=T({clearColor:n(141),antialias:!0}),i=T({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=R(a(137));return v(),_(A,null,[z(x(s)),z(l,S(e,{"window-size":""}),{default:M((()=>[tt,z(x(r),S({ref_key:"controlsRef",ref:c},i),null,16),nt,(v(),C(k,null,{default:M((()=>[z($,{controls:c.value},null,8,[a(107)])])),_:1})),(v(),C(k,null,{default:M((()=>[z(x(o),{background:!1,files:[a(104),a(108),a(139),a(118),"pos-z.jpg","neg-z.jpg"],path:a(140)})])),_:1}))])),_:1},16)],64)}}});function rt(t){function n(t){const e=K;if(typeof t===e(103))return function(t){}[e(119)](e(109))[e(131)](e(120));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(101)+e(129))[e(127)](e(110)):function(){return!1}.constructor(e(101)+e(129))[e(131)](e(144)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
