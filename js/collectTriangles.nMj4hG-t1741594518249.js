import{m as t,e as n,l as e,o,J as r}from"./@tresjs.gjafZgVK1741594518249.js";import{_ as s}from"./index.5uL9VHhl1741594518249.js";import{a8 as i,aI as c,c as u,_ as a,B as l,cC as p}from"./three.8y0_KTxz1741594518249.js";import{P as f}from"./tweakpane.yDiyAAkA1741594518249.js";import{c as m,d as g,a as h,I as d,C as y,N as w}from"./three-mesh-bvh.BGX00vVS1741594518249.js";import{d as j,a3 as b,b as v,a2 as I,o as _,H as x,N as k,u as T,F as z,r as B,e as A,j as C,g as M,m as R,f as E,al as O}from"./@vue.NRI7TcgI1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./index.VBwWZdua1741594518249.js";import"./@fesjs._tIE6C7-1741594518249.js";import"./vue-router.qtZNKV811741594518249.js";import"./lodash-es.pklfUAS51741594518249.js";import"./@qlin.yHhFDldE1741594518249.js";import"./pinia.3XPyh4eK1741594518249.js";import"./@floating-ui.BPbuo5Gx1741594518249.js";import"./@juggle.7yjBMqoW1741594518249.js";import"./chalk.9FGrMJNn1741594518249.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1741594518249.js";import"./@iconify.dt4P0LGS1741594518249.js";import"./dompurify.rQUea5mq1741594518249.js";import"./utils.9hS315WF1741594518249.js";import"./default.vue_vue_type_script_setup_true_lang.eEJtyQ911741594518249.js";import"./three-mesh-ui.module.acUjWfag1741594518249.js";!function(t,n){const e=Y,o=F();for(;;)try{if(716932===parseInt(e(276))/1+parseInt(e(255))/2+-parseInt(e(267))/3*(-parseInt(e(266))/4)+parseInt(e(248))/5+-parseInt(e(277))/6*(parseInt(e(269))/7)+-parseInt(e(291))/8*(-parseInt(e(268))/9)+-parseInt(e(287))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(259)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=Y,n=new RegExp(t(278)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(279));n[t(294)](o+"chain")&&e.test(o+t(286))?H():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(259)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(290)+t(265)+");")()}catch(e){n=window}return n}(),e=n[t(280)]=n[t(280)]||{},o=[t(261),"warn",t(282),t(250),t(283),"table","trace"];for(let r=0;r<o[t(288)];r++){const n=Z.constructor[t(293)][t(249)](Z),s=o[r],i=e[s]||n;n[t(271)]=Z[t(249)](Z),n.toString=i[t(256)][t(249)](i),e[s]=n}}))();function Y(t,n){const e=F();return(Y=function(t,n){return e[t-=245]})(t,n)}function F(){const t=["bind","error","pointermove","constructor","while (true) {}","call","497910thHNaK","toString","setFromCamera","enabled","apply","touch","log","value","firstHitOnly","action",'{}.constructor("return this")( )',"4cnnHwf","3995679Nqncbw","9iAXcaU","1107911MOvNot","stateObject","__proto__","pointerType","debu","button","innerHeight","330022UkNbxO","6ZEKKgt","function *\\( *\\)","init","console","gger","info","exception","innerWidth","clientX","input","28861640cLssdD","length","pointerup","return (function() ","11235736kzHBvw","addEventListener","prototype","test","intersectObject","clientY","counter","2230160gYtvmu"];return(F=function(){return t})()}function H(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(252)](e(253)).apply(e(247));1!==(""+t/t)[e(288)]||t%20==0?function(){return!0}[e(252)](e(273)+e(281))[e(254)](e(264)):function(){return!1}[e(252)](e(273)+e(281))[e(259)](e(270)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=L;!function(t,n){const e=L,o=D();for(;;)try{if(269181===-parseInt(e(251))/1+parseInt(e(239))/2*(parseInt(e(259))/3)+parseInt(e(275))/4*(-parseInt(e(240))/5)+parseInt(e(270))/6+parseInt(e(290))/7*(-parseInt(e(306))/8)+-parseInt(e(253))/9*(parseInt(e(297))/10)+parseInt(e(247))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(257)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(269),"i"),o=P(t(293));n[t(294)](o+t(303))&&e[t(294)](o+t(234))?P():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(257)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=L,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(232)]=n[t(232)]||{},o=[t(302),"warn",t(271),t(230),t(236),t(226),"trace"];for(let r=0;r<o[t(272)];r++){const n=N[t(252)][t(248)][t(299)](N),s=o[r],i=e[s]||n;n.__proto__=N[t(299)](N),n[t(223)]=i[t(223)][t(299)](i),e[s]=n}}))();const U=[X(295),X(233)],q=["geometry"];function D(){const t=["active","TresMeshStandardMaterial","toString","intersectsBox","brushMesh","table","setFromCamera","Sphere","DynamicDrawUsage","error","BufferAttribute","console","material","input","click","exception","invert","Matrix4","569474CmyktI","5ZhyDiL","debu","index","targetMesh.value init","color","needsUpdate","visible","8324514EPdVdC","prototype","setUsage","computeBoundsTree","260438vHkxSe","constructor","3123vGQxTo","radius","intersectObject","position","apply","getZ","3GBuuGQ","生成模型","value","Mesh","setAttribute","setX","Vector3","intersectsSphere","gger","setZ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2096562aOYkxb","info","length","targetMesh","stateObject","1354236kxPFcw","getY","point","normal","fill","shapecast","addButton","attributes","controls","setScalar","string","count","action","call","disposeBoundsTree","30541SIUsCZ","copy","getX","init","test","geometry","BufferGeometry","9910elTiBE","instance","bind","#023249","TresMesh","log","chain","center","Vector2","328RRzAmK","while (true) {}","push","raycast","applyMatrix4"];return(D=function(){return t})()}const J=j({__name:"model",props:{controls:{}},async setup(o){const r=X;let s,j;const B=o;(()=>{const t=L;a[t(296)].prototype[t(250)]=m,l.prototype[t(289)]=g,a[t(262)][t(248)][t(219)]=h})();const A=([s,j]=b((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,j(),s),C=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*A.attributes.position.count);M[r(279)](255);const R=new u(M,3,!0);R[r(249)](a[r(229)]),A[r(263)](r(244),R);const E=v(null),O=v(null),S=v(!1),Z=v(-1),F=v(.2),H=new(a[r(305)]),{camera:K,raycaster:N}=t(),D=15/255,J=78/255,P=85/255;let $=null;I((()=>{const t=r;E[t(261)]&&(console[t(302)](t(243),E[t(261)]),E[t(261)][t(295)].computeBoundsTree(),$=A.boundsTree,((t,n,e,o,r,s)=>{const c=Y;window[c(292)](c(251),(e=>{const o=c;t.x=e[o(285)]/window[o(284)]*2-1,t.y=-e[o(246)]/window[o(275)]*2+1,n[o(262)]=!0})),window[c(292)]("pointerdown",(u=>{const a=c;t.x=u[a(285)]/window.innerWidth*2-1,t.y=-u[a(246)]/window[a(275)]*2+1,o[a(262)]=u[a(274)];const l=new i;l[a(257)](t,e[a(262)]),l[a(263)]=!0;const p=l[a(245)](r[a(262)],!0);n[a(262)]=!0,s[a(258)]=0===p.length}),!0),window.addEventListener(c(289),(t=>{const e=c;o[e(262)]=-1,t[e(272)]===e(260)&&(n.value=!1)}),!0)})(H,S,K,Z,E,B[t(283)].instance))}));const{onLoop:G}=n();G((()=>{const t=r,n=A[t(242)];if(O[t(261)])if(B[t(283)][t(298)][t(221)]||!S[t(261)])O[t(261)][t(246)]=!1;else{O[t(261)].scale[t(284)](F.value),N[t(261)][t(227)](H,K.value),N[t(261)].firstHitOnly=!0;const e=N[t(261)][t(255)](E[t(261)],!0);if(e.length){O.value.position[t(291)](e[0][t(277)]),B[t(283)][t(298)].enabled=!1,O[t(261)][t(246)]=!0;const o=new(a[t(238)]);o.copy(E[t(261)].matrixWorld)[t(237)]();const r=new(a[t(228)]);r[t(304)][t(291)](O[t(261)][t(256)])[t(220)](o),r[t(254)]=100*F.value;const s=[],i=new(a[t(265)]);if(null==$||$[t(280)]({intersectsBounds:n=>{const e=r[t(224)](n),{min:o,max:s}=n;if(e){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let e=0;e<=1;e++)if(i.set(0===t?o.x:s.x,0===n?o.y:s.y,0===e?o.z:s.z),!r.containsPoint(i))return d;return y}return e?d:w},intersectsTriangle:(n,e,o)=>{const i=t;if(o||n[i(266)](r)){const t=3*e;s[i(218)](t,t+1,t+2)}return!1}}),0===Z[t(261)]||2===Z.value){let e=1,o=1,r=1;0===Z[t(261)]&&(e=D,o=J,r=P);for(let i=0,c=s[t(272)];i<c;i++){const c=n[t(292)](s[i]);R[t(264)](c,e),R.setY(c,o),R[t(268)](c,r)}R[t(245)]=!0}}else O[t(261)][t(246)]=!1,B.controls[t(298)].enabled=!0}}));const V=(new f)[r(281)]({title:"点击按钮",label:r(260)}),W=new(a[r(296)]);return V.on(r(235),(()=>{const t=r,n=[],e=[];for(let r=0;r<R[t(286)];r++)R.getX(r)===D&&R[t(276)](r)===J&&R[t(258)](r)===P&&(n[t(218)](A.attributes.position[t(292)](r),A[t(282)][t(256)].getY(r),A[t(282)][t(256)][t(258)](r)),e[t(218)](A[t(282)].normal.getX(r),A[t(282)].normal[t(276)](r),A[t(282)][t(278)][t(258)](r)));const o=new Float32Array(n);W[t(263)](t(256),new(a[t(231)])(o,3)),W[t(263)]("normal",new u(o,3))})),(t,n)=>{const e=r;return _(),x(z,null,[k("TresMesh",{ref_key:e(273),ref:E,geometry:T(A),scale:.005,material:T(C)},null,8,U),k(e(301),{ref_key:e(225),ref:O,visible:!1},n[0]||(n[0]=[k("TresSphereGeometry",{args:[1,40,40]},null,-1),k(e(222),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),k(e(301),{geometry:T(W),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[k(e(222),{color:e(300),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,q)],64)}}});function L(t,n){const e=D();return(L=function(t,n){return e[t-=218]})(t,n)}function P(t){function n(t){const e=L;if(typeof t===e(285))return function(t){}[e(252)](e(307))[e(257)]("counter");1!==(""+t/t)[e(272)]||t%20==0?function(){return!0}.constructor(e(241)+e(267))[e(288)](e(287)):function(){return!1}[e(252)](e(241)+"gger")[e(257)](e(274)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=V;!function(t,n){const e=V,o=tt();for(;;)try{if(564702===-parseInt(e(134))/1+parseInt(e(146))/2*(-parseInt(e(143))/3)+parseInt(e(125))/4+parseInt(e(124))/5*(-parseInt(e(159))/6)+parseInt(e(137))/7*(parseInt(e(127))/8)+parseInt(e(149))/9*(parseInt(e(160))/10)+-parseInt(e(150))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(153)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=tt();return(V=function(t,n){return e[t-=121]})(t,n)}!function(){G(this,(function(){const t=V,n=new RegExp(t(142)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt(t(121));n[t(138)](o+"chain")&&e.test(o+t(162))?nt():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();W(void 0,(function(){const t=V;let n;try{n=Function(t(129)+t(139)+");")()}catch(r){n=window}const e=n[t(126)]=n[t(126)]||{},o=["log","warn",t(147),t(165),t(152),t(144),"trace"];for(let s=0;s<o[t(131)];s++){const n=W.constructor.prototype[t(132)](W),r=o[s],i=e[r]||n;n[t(141)]=W[t(132)](W),n.toString=i[t(161)].bind(i),e[r]=n}}))();const Q=j({__name:$(164),setup(t){const n=$,e=B({clearColor:n(157),antialias:!0}),i=B({autoRotate:!1}),c=v(null);return(t,u)=>{const a=n,l=A(a(158));return _(),x(z,null,[C(T(s)),C(l,R(e,{"window-size":""}),{default:M((()=>[u[0]||(u[0]=k(a(148),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),C(T(o),R({ref_key:a(166),ref:c},i),null,16),u[1]||(u[1]=k(a(135),{intensity:1},null,-1)),(_(),E(O,null,{default:M((()=>[C(J,{controls:c[a(133)]},null,8,[a(123)])])),_:1})),(_(),E(O,null,{default:M((()=>[C(T(r),{background:!1,files:[a(154),"neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg",a(151)],path:a(130)})])),_:1}))])),_:1},16)],64)}}});function tt(){const t=["toString","input","call","collectTriangles","error","controlsRef","string","init","while (true) {}","controls","15BCwHMd","1775104vcjXhX","console","72oVxRsf","gger","return (function() ","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","length","bind","value","174236Jykzcb","TresAmbientLight","debu","55125TqfyiZ","test",'{}.constructor("return this")( )',"constructor","__proto__","function *\\( *\\)","58791lEsNiJ","table","counter","12RqBRiY","info","TresPerspectiveCamera","139104jKnOYY","3268111aDdjda","neg-z.jpg","exception","apply","pos-x.jpg","stateObject","action","#999999","TresCanvas","669516xMvzwq","630KEPxtJ"];return(tt=function(){return t})()}function nt(t){function n(t){const e=V;if(typeof t===e(167))return function(t){}[e(140)](e(122))[e(153)](e(145));1!==(""+t/t).length||t%20==0?function(){return!0}[e(140)]("debu"+e(128))[e(163)](e(156)):function(){return!1}.constructor(e(136)+e(128))[e(153)](e(155)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
