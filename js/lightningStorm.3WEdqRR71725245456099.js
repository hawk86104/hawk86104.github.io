import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.iWusBP1G1725245456099.js";import{B as i,V as s,ck as n,aB as e,N as r,h as o,ae as a,Y as h,q as c,a6 as u}from"./three.KG2-8r0_1725245456099.js";import{$ as l,D as d,j as p}from"./@tresjs.j5vdYITq1725245456099.js";import{c as m}from"./simplex-noise.MycypUyu1725245456099.js";import{d as f,a1 as g,o as y,D as b,u as v,r as w,j as S,g as x,m as I,F as P}from"./@vue.Q1VpS3901725245456099.js";import"./index.Buxaly2d1725245456099.js";import{_}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.0buMYIOH1725245456099.js";import"./three-custom-shader-material.1acQuOMU1725245456099.js";import"./object-hash.ycpyO56T1725245456099.js";import"./@amap.jyJWu-u51725245456099.js";import"./jszip.Bn2AE-kY1725245456099.js";import"./glsl-tokenizer.FsI169p21725245456099.js";import"./glsl-token-string.rmbt9Jq91725245456099.js";import"./glsl-token-functions.66NgBKOU1725245456099.js";import"./tweakpane.yHWGBmom1725245456099.js";import"./@vueuse.whMtq_7M1725245456099.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.8gYs8-ac1725245456099.js";import"./all.three.SEgg-d4C1725245456099.js";import"./oimophysics.x0jH7fze1725245456099.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.o-V9XzAX1725245456099.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.4IunBFYl1725245456099.js";import"./index.qrmSQE1-1725245456099.js";import"./three-stdlib.7palOSci1725245456099.js";import"./@pmndrs.Ip0yUZ_e1725245456099.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.2Ls4HXo91725245456099.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.Z9jLXgNg1725245456099.js";const M=R;!function(t,i){const s=R,n=V();for(;;)try{if(526782===-parseInt(s(268))/1*(-parseInt(s(342))/2)+-parseInt(s(328))/3+parseInt(s(290))/4+parseInt(s(221))/5*(parseInt(s(244))/6)+-parseInt(s(186))/7+parseInt(s(284))/8*(-parseInt(s(263))/9)+-parseInt(s(308))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[R(248)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function R(t,i){const s=V();return(R=function(t,i){return s[t-=181]})(t,i)}!function(){T(this,(function(){const t=R,i=new RegExp(t(231)),s=new RegExp(t(259),"i"),n=D("init");i[t(317)](n+t(307))&&s.test(n+t(181))?D():n("0")}))()}();const C=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[R(248)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();C(void 0,(function(){const t=R;let i;try{i=Function(t(331)+t(335)+");")()}catch(e){i=window}const s=i[t(246)]=i.console||{},n=["log","warn",t(245),t(344),t(191),t(210),t(187)];for(let r=0;r<n[t(348)];r++){const i=C.constructor[t(217)][t(291)](C),e=n[r],o=s[e]||i;i.__proto__=C.bind(C),i[t(312)]=o[t(312)][t(291)](o),s[e]=i}}))();class A extends i{constructor(t={}){const i=R;super(),this.isLightningStrike=!0,this[i(228)]=i(190),this[i(276)](A[i(216)](t,t)),this[i(252)]()}static[M(353)](){const t=2053,i=[];for(let n=0;n<t;n++)i.push(Math.random());const s={currentSeed:0,random:function(){const n=R,e=i[s[n(292)]];return s[n(292)]=(s[n(292)]+1)%t,e},getSeed:function(){return s[R(292)]/t},setSeed:function(i){const n=R;s[n(292)]=Math[n(329)](i*t)%t}};return s}static[M(216)](t={},i={}){const n=M,e=function(s){return i===t?s:s[R(265)]()};return t[n(266)]=void 0!==i[n(266)]?e(i.sourceOffset):new s(0,100,0),t.destOffset=void 0!==i[n(299)]?e(i[n(299)]):new s(0,0,0),t[n(253)]=void 0!==i[n(253)]?i.timeScale:1,t[n(264)]=void 0!==i[n(264)]?i[n(264)]:.9,t[n(224)]=void 0!==i[n(224)]?i[n(224)]:.7,t[n(300)]=void 0!==i[n(300)]?e(i.up0):new s(0,0,1),t.up1=void 0!==i[n(309)]?e(i[n(309)]):new s(0,0,1),t.radius0=void 0!==i[n(295)]?i[n(295)]:1,t[n(294)]=void 0!==i[n(294)]?i.radius1:1,t[n(192)]=void 0!==i[n(192)]?i[n(192)]:.5,t[n(206)]=void 0!==i[n(206)]?i[n(206)]:.2,t[n(243)]=void 0!==i.minRadius?i.minRadius:.2,t[n(256)]=void 0!==i[n(256)]?i[n(256)]:void 0===i.birthTime||void 0===i[n(201)],t.birthTime=i[n(297)],t[n(201)]=i.deathTime,t.propagationTimeFactor=void 0!==i.propagationTimeFactor?i[n(237)]:.1,t[n(249)]=void 0!==i[n(249)]?i[n(249)]:.9,t[n(196)]=void 0!==i[n(196)]?i[n(196)]:4,t.subrayDutyCycle=void 0!==i.subrayDutyCycle?i[n(225)]:.6,t[n(200)]=void 0!==i.maxIterations?i[n(200)]:9,t.isStatic=void 0!==i[n(285)]&&i[n(285)],t.ramification=void 0!==i[n(270)]?i[n(270)]:5,t[n(208)]=void 0!==i[n(208)]?i[n(208)]:3,t[n(286)]=void 0!==i.recursionProbability?i[n(286)]:.6,t[n(261)]=void 0!==i.generateUVs&&i.generateUVs,t[n(240)]=i[n(240)],t.noiseSeed=i[n(327)],t[n(218)]=i[n(218)],t[n(271)]=i.onSubrayCreation,t}[M(184)](t){const i=M;this[i(285)]||(this.rayParameters[i(256)]||this[i(257)].birthTime<=t&&t<=this[i(257)][i(201)]?(this.updateMesh(t),t<this[i(254)][0][i(349)]?this[i(333)]=A.RAY_PROPAGATING:t>this[i(254)][0][i(185)]?this[i(333)]=A[i(302)]:this.state=A.RAY_STEADY,this[i(188)]=!0):(this[i(188)]=!1,t<this[i(257)][i(297)]?this.state=A[i(267)]:this.state=A.RAY_EXTINGUISHED))}[M(276)](t){const i=M;this[i(257)]=t,this[i(200)]=void 0!==t[i(200)]?Math[i(329)](t.maxIterations):9,t[i(200)]=this[i(200)],this.isStatic=void 0!==t[i(285)]&&t[i(285)],t[i(285)]=this[i(285)],this[i(270)]=void 0!==t[i(270)]?Math[i(329)](t.ramification):5,t[i(270)]=this[i(270)],this[i(208)]=void 0!==t[i(208)]?Math[i(329)](t.maxSubrayRecursion):3,t[i(208)]=this[i(208)],this[i(286)]=void 0!==t[i(286)]?t[i(286)]:.6,t[i(286)]=this[i(286)],this[i(261)]=void 0!==t[i(261)]&&t[i(261)],t.generateUVs=this[i(261)],void 0!==t.randomGenerator?(this[i(240)]=t.randomGenerator,this[i(195)]=t.randomGenerator,void 0!==t.noiseSeed&&this.seedGenerator[i(211)](t[i(327)])):(this.randomGenerator=A[i(353)](),this[i(195)]=Math),void 0!==t[i(218)]?this.onDecideSubrayCreation=t[i(218)]:(this[i(343)](),void 0!==t[i(271)]&&(this.onSubrayCreation=t[i(271)])),this[i(333)]=A[i(242)],this.maxSubrays=Math[i(324)](1+Math[i(278)](this[i(270)],Math[i(296)](0,this.maxSubrayRecursion-1))),t[i(215)]=this[i(215)],this[i(337)]=2*(1<<this.maxIterations),this[i(254)]=[];for(let s=0;s<this[i(215)];s++)this[i(254)][i(354)](this[i(182)]());this[i(304)]=[];for(let s=0;s<this.maxRaySegments;s++)this.raySegments[i(354)](this[i(247)]());this.time=0,this[i(207)]=0,this[i(260)]=null,this[i(340)]=this[i(261)]?this.createTriangleVerticesWithUVs:this[i(310)],this[i(314)]=0,this[i(193)]=null,this[i(319)]=0,this[i(204)]=!1,this[i(320)]=0,this[i(197)]=0,this.currentIndex=0,this[i(338)]=0,this[i(321)]=0,this[i(183)]=null,this.uvs=null,this[i(280)]=null,this[i(277)]=null,this.uvsAttribute=null,this.simplexX=m(this[i(195)][i(258)]),this[i(341)]=m(this[i(195)][i(258)]),this[i(262)]=m(this.seedGenerator[i(258)]),this[i(235)]=new s,this[i(279)]=new s,this[i(223)]=new s,this.down=new s,this[i(301)]=new s,this.middleLinPos=new s,this[i(241)]=new s,this[i(332)]=new s,this[i(347)]=new s}[M(252)](){const t=M,i=1<<this.maxIterations,s=3*(i+1)*this[t(215)],o=18*i*this.maxSubrays;this.vertices=new Float32Array(3*s),this.indices=new Uint32Array(o),this[t(261)]&&(this.uvs=new Float32Array(2*s)),this[t(239)](0),this[t(275)](new n(this[t(280)],1)),this[t(277)]=new e(this.vertices,3),this.setAttribute("position",this[t(277)]),this[t(261)]&&(this[t(212)]=new e(new Float32Array(this[t(222)]),2),this[t(323)]("uv",this.uvsAttribute)),!this.isStatic&&(this[t(322)][t(311)]=r,this.positionAttribute[t(311)]=r,this[t(261)]&&(this.uvsAttribute[t(311)]=r)),this[t(183)]=this[t(277)][t(287)],this[t(280)]=this[t(322)][t(287)],this.generateUVs&&(this[t(222)]=this[t(212)][t(287)])}updateMesh(t){const i=M;this.fillMesh(t),this[i(213)][i(345)]=this.currentIndex,this[i(322)][i(351)]=!0,this[i(277)][i(351)]=!0,this[i(261)]&&(this[i(212)][i(351)]=!0)}fillMesh(t){const i=M,s=this;this.currentVertex=0,this.currentIndex=0,this[i(338)]=0,this[i(321)]=0,this[i(289)](t,(function(n){const e=i,r=s[e(193)];t<r[e(297)]||(this.rayParameters[e(256)]&&0==s[e(193)].recursion?(s[e(293)](n),s[e(218)](n,s)):t<r[e(349)]?s[e(207)]>=n.fraction0*r[e(237)]&&(s.createPrism(n),s.onDecideSubrayCreation(n,s)):t<r[e(185)]?(s[e(293)](n),s[e(218)](n,s)):(s[e(207)]<=r[e(249)]+n[e(281)]*(1-r[e(249)])&&s[e(293)](n),s[e(218)](n,s)))}))}addNewSubray(){const t=M;return this[t(254)][this[t(314)]++]}[M(274)](t,i){const s=M;t[s(205)][s(339)](i[s(266)]),t.pos1.copy(i[s(299)]),t[s(300)][s(339)](i[s(300)]),t[s(309)][s(339)](i[s(309)]),t[s(295)]=i.radius0,t[s(294)]=i.radius1,t.birthTime=i.birthTime,t[s(201)]=i[s(201)],t[s(253)]=i[s(253)],t[s(264)]=i[s(264)],t[s(224)]=i[s(224)],t[s(237)]=i.propagationTimeFactor,t.vanishingTimeFactor=i[s(249)],t.maxIterations=this[s(200)],t[s(303)]=void 0!==i[s(327)]?i.noiseSeed:0,t.recursion=0}[M(289)](t,i){const s=M;this[s(250)]=t,this[s(260)]=i,this[s(314)]=0,this.initSubray(this[s(202)](),this[s(257)]);for(let n=0;n<this[s(314)];n++){const i=this[s(254)][n];this[s(193)]=i,this[s(240)][s(211)](i[s(303)]),i[s(349)]=o[s(334)](i[s(297)],i[s(201)],i[s(237)]),i[s(185)]=o[s(334)](i[s(201)],i[s(297)],1-i[s(249)]);const e=this[s(240)][s(258)];i.linPos0.set(e(),e(),e())[s(238)](1e3),i[s(255)][s(269)](e(),e(),e())[s(238)](1e3),this[s(207)]=(t-i[s(297)])/(i[s(201)]-i[s(297)]),this[s(319)]=0,this[s(204)]=!0;const r=this[s(189)]();r.iteration=0,r[s(205)][s(339)](i[s(205)]),r.pos1[s(339)](i[s(346)]),r.linPos0[s(339)](i.linPos0),r[s(255)].copy(i[s(255)]),r[s(300)][s(339)](i[s(300)]),r[s(309)][s(339)](i.up1),r[s(295)]=i[s(295)],r[s(294)]=i.radius1,r[s(251)]=0,r[s(281)]=1,r[s(336)]=1-i[s(224)],this[s(320)]=this[s(270)]*Math[s(278)](this.recursionProbability,i[s(272)])/(1<<i[s(200)]),this[s(313)](r)}this[s(260)]=null,this[s(193)]=null}[M(313)](t){const i=M;if(t[i(199)]>=this[i(193)].maxIterations)return void this.currentSegmentCallback(t);this[i(235)][i(229)](t[i(346)],t.pos0);let s=this[i(235)][i(348)]();s<1e-6&&(this[i(235)][i(269)](0,0,.01),s=this[i(235)].length());const n=.5*(t[i(295)]+t.radius1),e=.5*(t[i(251)]+t[i(281)]),r=this[i(250)]*this[i(193)][i(253)]*Math[i(278)](2,t[i(199)]);this[i(301)].lerpVectors(t[i(205)],t[i(346)],.5),this[i(233)][i(283)](t[i(288)],t.linPos1,.5);const o=this[i(233)];this[i(241)][i(269)](this[i(298)](o.x,o.y,o.z,r),this[i(341)](o.x,o.y,o.z,r),this[i(262)](o.x,o.y,o.z,r)),this[i(241)][i(238)](t[i(336)]*s),this.newPos[i(226)](this[i(301)]);const a=this.getNewSegment();a.pos0[i(339)](t[i(205)]),a[i(346)][i(339)](this.newPos),a.linPos0[i(339)](t[i(288)]),a[i(255)][i(339)](this.middleLinPos),a[i(300)][i(339)](t[i(300)]),a.up1[i(339)](t[i(309)]),a[i(295)]=t[i(295)],a[i(294)]=n,a[i(251)]=t[i(251)],a[i(281)]=e,a[i(336)]=t[i(336)]*this[i(193)].roughness,a[i(199)]=t.iteration+1;const h=this[i(189)]();h[i(205)][i(339)](this[i(241)]),h[i(346)][i(339)](t[i(346)]),h.linPos0[i(339)](this.middleLinPos),h[i(255)][i(339)](t[i(255)]),this[i(347)][i(305)](t[i(300)],this[i(235)][i(232)]()),h[i(300)].crossVectors(this[i(235)],this[i(347)])[i(232)](),h[i(309)][i(339)](t[i(309)]),h[i(295)]=n,h[i(294)]=t[i(294)],h[i(251)]=e,h[i(281)]=t[i(281)],h[i(336)]=t.positionVariationFactor*this[i(193)].roughness,h[i(199)]=t.iteration+1,this.fractalRayRecursive(a),this.fractalRayRecursive(h)}[M(293)](t){const i=M;this.forwardsFill[i(229)](t[i(346)],t[i(205)])[i(232)](),this[i(204)]&&(this[i(340)](t.pos0,t[i(300)],this[i(279)],t[i(295)],0),this[i(204)]=!1),this.currentCreateTriangleVertices(t[i(346)],t[i(300)],this.forwardsFill,t.radius1,t.fraction1),this[i(230)]()}createTriangleVerticesWithoutUVs(t,i,s,n){const e=M;this[e(223)].crossVectors(i,s)[e(238)](n*A[e(198)]),this[e(316)][e(339)](i)[e(238)](-n*A.SIN30DEG);const r=this[e(332)],o=this[e(183)];r[e(339)](t).sub(this[e(223)])[e(226)](this[e(316)]),o[this[e(338)]++]=r.x,o[this[e(338)]++]=r.y,o[this[e(338)]++]=r.z,r[e(339)](t)[e(226)](this[e(223)]).add(this.down),o[this[e(338)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(338)]++]=r.z,r[e(339)](i)[e(238)](n)[e(226)](t),o[this.currentCoordinate++]=r.x,o[this[e(338)]++]=r.y,o[this[e(338)]++]=r.z,this[e(197)]+=3}[M(282)](t,i,s,n,e){const r=M;this[r(223)][r(305)](i,s)[r(238)](n*A.COS30DEG),this[r(316)].copy(i).multiplyScalar(-n*A[r(273)]);const o=this[r(332)],a=this[r(183)],h=this[r(222)];o[r(339)](t).sub(this.side)[r(226)](this.down),a[this.currentCoordinate++]=o.x,a[this[r(338)]++]=o.y,a[this[r(338)]++]=o.z,h[this[r(321)]++]=e,h[this[r(321)]++]=0,o.copy(t).add(this[r(223)])[r(226)](this[r(316)]),a[this[r(338)]++]=o.x,a[this[r(338)]++]=o.y,a[this[r(338)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this.currentUVCoordinate++]=.5,o[r(339)](i)[r(238)](n)[r(226)](t),a[this[r(338)]++]=o.x,a[this[r(338)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(321)]++]=e,h[this[r(321)]++]=1,this[r(197)]+=3}[M(230)](t){const i=M,s=this[i(280)];t=this.currentVertex-6,s[this[i(318)]++]=t+1,s[this[i(318)]++]=t+2,s[this.currentIndex++]=t+5,s[this.currentIndex++]=t+1,s[this[i(318)]++]=t+5,s[this.currentIndex++]=t+4,s[this.currentIndex++]=t+0,s[this[i(318)]++]=t+1,s[this[i(318)]++]=t+4,s[this[i(318)]++]=t+0,s[this[i(318)]++]=t+4,s[this[i(318)]++]=t+3,s[this[i(318)]++]=t+2,s[this[i(318)]++]=t+0,s[this[i(318)]++]=t+3,s[this[i(318)]++]=t+2,s[this.currentIndex++]=t+3,s[this[i(318)]++]=t+5}createDefaultSubrayCreationCallbacks(){const t=M,i=this[t(240)][t(258)];this[t(218)]=function(s,n){const e=t,r=n[e(193)],a=n[e(257)][e(196)],h=n[e(257)][e(225)],c=n[e(257)][e(256)]&&0==r.recursion?-i()*a:o.lerp(r[e(297)],r[e(349)],s[e(251)])-i()*a,u=n[e(250)]-c,l=Math[e(329)](u/a),d=i()*(l+1);let p=0;if(u%a<=h*a&&(p=n[e(320)]),r[e(272)]<n[e(208)]&&n[e(314)]<n[e(215)]&&i()<p){const t=n[e(202)](),o=n[e(240)][e(352)]();t[e(303)]=d,n.randomGenerator[e(211)](d),t.recursion=r.recursion+1,t[e(200)]=Math[e(296)](1,r[e(200)]-1),t[e(288)].set(i(),i(),i())[e(238)](1e3),t[e(255)][e(269)](i(),i(),i())[e(238)](1e3),t[e(300)][e(339)](r.up0),t[e(309)][e(339)](r[e(309)]),t[e(295)]=s.radius0*n.rayParameters[e(192)],t.radius1=Math[e(350)](n[e(257)].minRadius,s.radius1*n.rayParameters[e(206)]),t[e(297)]=c+l*a,t[e(201)]=t[e(297)]+a*h,!n[e(257)][e(256)]&&0==r.recursion&&(t[e(297)]=Math[e(296)](t.birthTime,r[e(297)]),t[e(201)]=Math[e(350)](t.deathTime,r[e(201)])),t[e(253)]=2*r[e(253)],t.roughness=r[e(264)],t[e(224)]=r.straightness,t.propagationTimeFactor=r[e(237)],t[e(249)]=r[e(249)],n[e(271)](s,r,t,n),n[e(240)][e(211)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(271)]=function(i,s,n,e){e[t(209)](i,s,n,.5,.6,.2)},this[t(234)]=function(s,o,h,c,u,l){const d=t;h[d(205)][d(339)](s.pos0),n[d(229)](o[d(346)],o[d(205)]),e[d(339)](n)[d(232)](),n[d(238)](s.fraction0+(1-s.fraction0)*(i()*c));const p=n[d(348)]();r.crossVectors(o[d(300)],e);const m=2*Math.PI*i();r.multiplyScalar(Math[d(236)](m)),a.copy(o[d(300)])[d(238)](Math[d(330)](m)),h[d(346)][d(339)](r)[d(226)](a).multiplyScalar(p*u*(l+i()*(1-l))).add(n)[d(226)](o[d(205)])},this.subrayCylinderPosition=function(s,o,h,c,u,l){const d=t;h[d(205)][d(339)](s[d(205)]),n[d(229)](o.pos1,o[d(205)]),e.copy(n).normalize(),n[d(238)](s.fraction0+(1-s[d(251)])*((2*i()-1)*c));const p=n[d(348)]();r[d(305)](o.up0,e);const m=2*Math.PI*i();r.multiplyScalar(Math[d(236)](m)),a[d(339)](o.up0)[d(238)](Math[d(330)](m)),h.pos1[d(339)](r).add(a)[d(238)](p*u*(l+i()*(1-l)))[d(226)](n).add(o[d(205)])}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[M(189)](){const t=M;return this[t(304)][this[t(319)]++]}[M(339)](t){const i=M;return super[i(339)](t),this[i(276)](A[i(216)]({},t.rayParameters)),this}[M(265)](){const t=M;return new this.constructor(A[t(216)]({},this[t(257)]))}}function D(t){function i(t){const s=R;if("string"==typeof t)return function(t){}[s(306)](s(214)).apply(s(203));1!==(""+t/t)[s(348)]||t%20==0?function(){return!0}.constructor("debu"+s(315))[s(219)](s(227)):function(){return!1}[s(306)]("debugger")[s(248)](s(220)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function V(){const t=["recursionProbability","array","linPos0","fractalRay","3459040kBMbxD","bind","currentSeed","createPrism","radius1","radius0","max","birthTime","simplexX","destOffset","up0","middlePos","RAY_VANISHING","seed","raySegments","crossVectors","constructor","chain","3124930PMYtpq","up1","createTriangleVerticesWithoutUVs","usage","toString","fractalRayRecursive","numSubrays","gger","down","test","currentIndex","currentSegmentIndex","subrayProbability","currentUVCoordinate","index","setAttribute","ceil","RAY_STEADY","RAY_PROPAGATING","noiseSeed","2552826EvfFHC","floor","sin","return (function() ","vPos","state","lerp",'{}.constructor("return this")( )',"positionVariationFactor","maxRaySegments","currentCoordinate","copy","currentCreateTriangleVertices","simplexY","8tFBPQi","createDefaultSubrayCreationCallbacks","error","count","pos1","cross1","length","endPropagationTime","min","needsUpdate","getSeed","createRandomGenerator","push","input","createSubray","vertices","update","beginVanishingTime","181895badkBE","trace","visible","getNewSegment","LightningStrike","exception","radius0Factor","currentSubray","RAY_EXTINGUISHED","seedGenerator","subrayPeriod","currentVertex","COS30DEG","iteration","maxIterations","deathTime","addNewSubray","counter","isInitialSegment","pos0","radius1Factor","timeFraction","maxSubrayRecursion","subrayCylinderPosition","table","setSeed","uvsAttribute","drawRange","while (true) {}","maxSubrays","copyParameters","prototype","onDecideSubrayCreation","call","stateObject","15hixepw","uvs","side","straightness","subrayDutyCycle","add","action","type","subVectors","createPrismFaces","function *\\( *\\)","normalize","middleLinPos","subrayConePosition","forwards","cos","propagationTimeFactor","multiplyScalar","fillMesh","randomGenerator","newPos","RAY_INITIALIZED","minRadius","2001690XhKfiL","info","console","createSegment","apply","vanishingTimeFactor","time","fraction0","createMesh","timeScale","subrays","linPos1","isEternal","rayParameters","random","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","currentSegmentCallback","generateUVs","simplexZ","6400395vlUCjO","roughness","clone","sourceOffset","RAY_UNBORN","140438kfyDOd","set","ramification","onSubrayCreation","recursion","SIN30DEG","initSubray","setIndex","init","positionAttribute","pow","forwardsFill","indices","fraction1","createTriangleVerticesWithUVs","lerpVectors","8dVoQMZ","isStatic"];return(V=function(){return t})()}A[M(242)]=0,A.RAY_UNBORN=1,A[M(326)]=2,A[M(325)]=3,A[M(302)]=4,A[M(194)]=5,A[M(198)]=Math[M(236)](30*Math.PI/180),A[M(273)]=Math[M(330)](30*Math.PI/180);const j=k;!function(t,i){const s=k,n=H();for(;;)try{if(236670===parseInt(s(395))/1*(-parseInt(s(405))/2)+parseInt(s(411))/3+parseInt(s(435))/4*(parseInt(s(427))/5)+-parseInt(s(417))/6*(-parseInt(s(415))/7)+parseInt(s(445))/8*(-parseInt(s(440))/9)+parseInt(s(455))/10*(parseInt(s(448))/11)+-parseInt(s(459))/12*(-parseInt(s(465))/13))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const F=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){F(this,(function(){const t=k,i=new RegExp(t(418)),s=new RegExp(t(410),"i"),n=O(t(468));i[t(432)](n+"chain")&&s[t(432)](n+"input")?O():n("0")}))()}();const z=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[k(460)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function H(){const t=["remove","665418FVYvNh","getNextLightningTime","lightningMaterial","init","stateObject","253qlyGnD","console","lightningsMeshes","noiseSeed","call","gger","bind","lerp","clone","isEternal","2648soNtjb","set","lightningMinPeriod","random","lightningMinDuration","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","985104YazHgM","copyParameters","stormParams","lightningMaxDuration","3269OQdOFJ","state","942gXvHeQ","function *\\( *\\)","sourceOffset","string","length","splice","add","debu","maxSlope","indexOf","15bcDyuM","return (function() ","warn","nextLightningTime","__proto__","test","update","counter","207212pDTbeZ","prototype","deadLightningsMeshes","trace","maxHeight","28701vuchfJ","push","RAY_PROPAGATING","size","lightningMaxPeriod","688JWzBHy","maxLightnings","constructor","19030LDwBsT","onRayPosition","rayParameters","inited","action","geometry","toString","190OsVBww","copy","lightningParameters","onLightningDown","60iHYbIX","apply","table","minHeight","birthTime"];return(H=function(){return t})()}z(void 0,(function(){const t=k;let i;try{i=Function(t(428)+'{}.constructor("return this")( ));')()}catch(e){i=window}const s=i[t(396)]=i[t(396)]||{},n=["log",t(429),"info","error","exception",t(461),t(438)];for(let r=0;r<n[t(421)];r++){const i=z[t(447)][t(436)][t(401)](z),e=n[r],o=s[e]||i;i[t(431)]=z[t(401)](z),i[t(454)]=o[t(454)].bind(o),s[e]=i}}))();class G extends a{constructor(t={}){const i=k;super(),this.isLightningStorm=!0,this[i(413)]=t,t[i(443)]=void 0!==t.size?t[i(443)]:1e3,t.minHeight=void 0!==t[i(462)]?t[i(462)]:80,t[i(439)]=void 0!==t.maxHeight?t[i(439)]:100,t[i(425)]=void 0!==t[i(425)]?t[i(425)]:1.1,t[i(446)]=void 0!==t[i(446)]?t.maxLightnings:3,t.lightningMinPeriod=void 0!==t[i(407)]?t[i(407)]:3,t[i(444)]=void 0!==t[i(444)]?t[i(444)]:7,t[i(409)]=void 0!==t[i(409)]?t.lightningMinDuration:1,t[i(414)]=void 0!==t[i(414)]?t[i(414)]:2.5,this[i(457)]=A[i(412)](t.lightningParameters,t[i(457)]),this[i(457)][i(404)]=!1,this[i(467)]=void 0!==t.lightningMaterial?t[i(467)]:new h({color:11599871}),void 0!==t[i(449)]?this[i(449)]=t[i(449)]:this[i(449)]=function(s,n){const e=i;n[e(406)]((Math[e(408)]()-.5)*t[e(443)],0,(Math[e(408)]()-.5)*t.size);const r=o[e(402)](t.minHeight,t.maxHeight,Math[e(408)]());s[e(406)](t[e(425)]*(2*Math[e(408)]()-1),1,t.maxSlope*(2*Math[e(408)]()-1)).multiplyScalar(r).add(n)},this[i(458)]=t.onLightningDown,this[i(451)]=!1,this[i(430)]=0,this[i(397)]=[],this[i(437)]=[];for(let s=0;s<this.stormParams[i(446)];s++){const t=new A(A[i(412)]({},this[i(457)])),s=new c(t,this[i(467)]);this[i(437)][i(441)](s)}}update(t){const i=k;if(!this.inited&&(this[i(430)]=this[i(466)](t)*Math[i(408)](),this[i(451)]=!0),t>=this[i(430)]){const s=this[i(437)].pop();if(s){const n=A[i(412)](s.geometry[i(450)],this[i(457)]);n[i(463)]=t,n.deathTime=t+o[i(402)](this[i(413)][i(409)],this[i(413)][i(414)],Math[i(408)]()),this[i(449)](n[i(419)],n.destOffset),n[i(398)]=Math[i(408)](),this[i(423)](s),this[i(397)][i(441)](s)}this[i(430)]=this[i(466)](t)}let s=0,n=this.lightningsMeshes.length;for(;s<n;){const e=this[i(397)][s],r=e[i(453)],o=r[i(416)];r[i(433)](t),o===A[i(442)]&&r.state>o&&this[i(458)]&&this[i(458)](r),r[i(416)]===A.RAY_EXTINGUISHED?(this[i(397)][i(422)](this.lightningsMeshes[i(426)](e),1),this[i(437)][i(441)](e),this[i(464)](e),n--):s++}}[j(466)](t){const i=j;return t+o[i(402)](this[i(413)][i(407)],this[i(413)][i(444)],Math.random())/(this[i(413)][i(446)]+1)}[j(456)](t,i){const s=j;return super.copy(t,i),this[s(413)][s(443)]=t.stormParams[s(443)],this.stormParams[s(462)]=t[s(413)][s(462)],this.stormParams[s(439)]=t[s(413)][s(439)],this[s(413)][s(425)]=t[s(413)][s(425)],this.stormParams.maxLightnings=t[s(413)][s(446)],this[s(413)][s(407)]=t[s(413)][s(407)],this[s(413)][s(444)]=t[s(413)][s(444)],this.stormParams.lightningMinDuration=t[s(413)][s(409)],this.stormParams[s(414)]=t[s(413)].lightningMaxDuration,this.lightningParameters=A.copyParameters({},t[s(457)]),this[s(467)]=t[s(413)].lightningMaterial,this.onLightningDown=t.onLightningDown,this}[j(403)](){const t=j;return new this.constructor(this[t(413)])[t(456)](this)}}function k(t,i){const s=H();return(k=function(t,i){return s[t-=394]})(t,i)}function O(t){function i(t){const s=k;if(typeof t===s(420))return function(t){}[s(447)]("while (true) {}").apply(s(434));1!==(""+t/t)[s(421)]||t%20==0?function(){return!0}[s(447)](s(424)+s(400))[s(399)](s(452)):function(){return!1}.constructor(s(424)+s(400))[s(460)](s(394)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const E=Z;!function(t,i){const s=Z,n=X();for(;;)try{if(330290===parseInt(s(236))/1+-parseInt(s(251))/2*(parseInt(s(259))/3)+-parseInt(s(249))/4*(parseInt(s(243))/5)+-parseInt(s(273))/6*(parseInt(s(230))/7)+parseInt(s(282))/8+parseInt(s(262))/9*(-parseInt(s(278))/10)+parseInt(s(237))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(277)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){U(this,(function(){const t=Z,i=new RegExp(t(235)),s=new RegExp(t(245),"i"),n=B(t(279));i[t(223)](n+t(255))&&s.test(n+t(260))?B():n("0")}))()}();const L=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(277)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();L(void 0,(function(){const t=Z,i=function(){const t=Z;let i;try{i=Function(t(247)+t(285)+");")()}catch(s){i=window}return i}(),s=i[t(250)]=i[t(250)]||{},n=[t(280),t(248),t(226),t(253),t(228),t(264),"trace"];for(let e=0;e<n.length;e++){const i=L[t(274)][t(231)].bind(L),r=n[e],o=s[r]||i;i.__proto__=L[t(272)](L),i.toString=o[t(242)].bind(o),s[r]=i}}))();const N=[E(240)],Y=f({__name:E(265),props:{color:{default:"#b0ffff"},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=E,n=t,e=new(u[i(254)])(n[i(233)]),r=new(u[i(246)])({color:e}),o=new s(0,-1,0);let a=0;const h=new(u[i(224)]),c=new(u[i(224)]),d={roughness:n[i(239)],straightness:n[i(276)],radius0:n.radius0,radius1:n[i(284)],timeScale:n.timeScale,subrayPeriod:n[i(244)],subrayDutyCycle:n[i(252)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e.subrayConePosition(t,s,n,.6,.6,.5),a=e.rayParameters.sourceOffset.y,h.subVectors(n[r(222)],e[r(241)][r(271)]);const u=o[r(229)](h);c[r(281)](o).multiplyScalar(u),h.sub(c);const l=u/a>.5?a/u:1;c[r(221)](l),h.add(c),n[r(222)][r(283)](h,e.rayParameters[r(271)])}},p=new G({size:n[i(257)],minHeight:n[i(238)],maxHeight:n[i(234)],maxSlope:.6,maxLightnings:n[i(270)],lightningParameters:d,lightningMaterial:r});g((()=>{const t=i,s=p[t(225)];s[t(257)]=n[t(257)],s[t(238)]=n.minHeight,s[t(234)]=n[t(234)],r.color[t(266)](n[t(233)]),d.roughness=n[t(239)],d[t(276)]=n[t(276)],d[t(275)]=n.radius0,d[t(284)]=n.radius1,d[t(232)]=n[t(232)]}));const{onLoop:m}=l();return m((({elapsed:t})=>{p[i(267)](t)})),(t,s)=>{const n=i;return y(),b(n(268),{object:v(p),renderOrder:9999},null,8,N)}}});function B(t){function i(t){const s=Z;if(typeof t===s(261))return function(t){}[s(274)](s(258)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(s(227)+s(263)).call(s(269)):function(){return!1}.constructor(s(227)+"gger").apply(s(256)),i(++t)}try{if(t)return i;i(0)}catch(s){}}function Z(t,i){const s=X();return(Z=function(t,i){return s[t-=221]})(t,i)}function X(){const t=["1707744fVIVzp","addVectors","radius1",'{}.constructor("return this")( )',"multiplyScalar","pos1","test","Vector3","stormParams","info","debu","exception","dot","175RpCCOe","prototype","timeScale","color","maxHeight","function *\\( *\\)","290414ngikoK","5476229IvTkXo","minHeight","roughness","object","rayParameters","toString","175NikQyK","subrayPeriod","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MeshBasicMaterial","return (function() ","warn","19252UayETM","console","1096JKcCkk","subrayDutyCycle","error","Color","chain","stateObject","size","while (true) {}","648dRjwAh","input","string","1383597rAWabQ","gger","table","lightStorm","set","update","primitive","action","maxLightnings","sourceOffset","bind","55410TUhgYd","constructor","radius0","straightness","apply","10qUKrYr","init","log","copy"];return(X=function(){return t})()}function $(t,i){const s=q();return($=function(t,i){return s[t-=444]})(t,i)}const Q=$;!function(t,i){const s=$,n=q();for(;;)try{if(117322===-parseInt(s(487))/1*(parseInt(s(458))/2)+-parseInt(s(476))/3+-parseInt(s(469))/4*(-parseInt(s(471))/5)+parseInt(s(478))/6+parseInt(s(494))/7+-parseInt(s(466))/8*(-parseInt(s(483))/9)+-parseInt(s(492))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const K=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){K(this,(function(){const t=$,i=new RegExp(t(485)),s=new RegExp(t(490),"i"),n=tt(t(477));i.test(n+t(482))&&s.test(n+t(452))?tt():n("0")}))()}();const W=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[$(465)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function q(){const t=["value","端部半径","prototype","action","toString","bind",'{}.constructor("return this")( )',"input","table","stateObject","constructor","minHeight","log","30yFvmDP","lightningStorm","__proto__","#ffbde7","call","while (true) {}","console","apply","163616BozCKo","radius0","timeScale","22580DQTPiP","trace","115GeBuXk","gger","radius1","#6f6f6f","color","230256GdfUUL","init","398064PfojNg","粗糙度","return (function() ","直度度","chain","27dZciSR","roughness","function *\\( *\\)","string","697ClmAlH","length","#92399e","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","1002390kzXwRg","warn","330631leOTTq","时间缩放"];return(q=function(){return t})()}W(void 0,(function(){const t=$;let i;try{i=Function(t(480)+t(451)+");")()}catch(e){i=window}const s=i.console=i[t(464)]||{},n=[t(457),t(493),"info","error","exception",t(453),t(470)];for(let r=0;r<n[t(488)];r++){const i=W[t(455)][t(447)][t(450)](W),e=n[r],o=s[e]||i;i[t(460)]=W[t(450)](W),i.toString=o[t(449)][t(450)](o),s[e]=i}}))();const J=f({__name:Q(459),setup(i){const s=Q,n=w({cellSize:60,cellThickness:1,cellColor:s(474),sectionColor:s(489),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(461),roughness:{label:s(479),value:.85,min:0,max:1,step:.01},straightness:{label:s(481),value:.65,min:0,max:1,step:.01},radius0:{label:s(446),value:1,min:.1,max:10,step:.01},radius1:{label:"未部半径",value:.5,min:.1,max:10,step:.01},timeScale:{label:s(444),value:.15,min:.01,max:1,step:.01}});return(i,d)=>{const m=s;return y(),b(P,null,[S(t,{showAxesHelper:!1,showGridHelper:!1},{ability:x((()=>[S(Y,{minHeight:v(e).value,maxHeight:v(r).value,color:v(o)[m(445)],roughness:v(a)[m(445)],straightness:v(h).value,radius0:v(c)[m(445)],radius1:v(u)[m(445)],timeScale:v(l)[m(445)]},null,8,[m(456),"maxHeight",m(475),m(484),"straightness",m(467),m(473),m(468)]),S(v(_),I({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),S(v(p))],64)}}});function tt(t){function i(t){const s=$;if(typeof t===s(486))return function(t){}[s(455)](s(463))[s(465)](s(491));1!==(""+t/t).length||t%20==0?function(){return!0}[s(455)]("debu"+s(472))[s(462)](s(448)):function(){return!1}[s(455)]("debu"+s(472))[s(465)](s(454)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{J as default};
