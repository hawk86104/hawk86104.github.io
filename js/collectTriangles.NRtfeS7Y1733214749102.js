import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.lftldzUe1733214749102.js";import{_ as s}from"./index.74-na2cO1733214749102.js";import{a8 as i,aP as c,_ as u,cp as a}from"./three.aWgA1gea1733214749102.js";import{P as l}from"./tweakpane.yHWGBmom1733214749102.js";import{I as p,C as f,N as g,c as m,d as h,a as d}from"./three-mesh-bvh.MzT5vGt_1733214749102.js";import{d as y,a6 as w,b,a3 as j,o as v,D as _,J as I,u as x,F as M,r as T,e as z,j as A,g as C,m as k,f as E,al as S}from"./@vue.-THQH3GC1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./index.QIUOoTqi1733214749102.js";import"./@fesjs.Of4PiCSw1733214749102.js";import"./vue-router.lCq72hq_1733214749102.js";import"./lodash-es.kYt-_xTG1733214749102.js";import"./@qlin.yHhFDldE1733214749102.js";import"./pinia.YZvRaeWc1733214749102.js";import"./vue-demi.C4xddsk91733214749102.js";import"./@floating-ui.BPbuo5Gx1733214749102.js";import"./@juggle.7yjBMqoW1733214749102.js";import"./chalk.sAH7iSuz1733214749102.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1733214749102.js";import"./@iconify.3mYF4lU71733214749102.js";import"./dompurify.rQUea5mq1733214749102.js";import"./utils.9GNUCXO-1733214749102.js";import"./default.vue_vue_type_script_setup_true_lang.fjhJFz7j1733214749102.js";import"./three-mesh-ui.module.25X9ejCt1733214749102.js";function O(){const t=["return (function() ","chain","12084237ZRhMoM","5464304PGtqSL","toString","table","6LoXFyB","pointerup","addEventListener","info","button","string","intersectObject","test","constructor","trace","while (true) {}","innerWidth","834qzGKgM","length","debu","input","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","apply","warn","5PigLDC","bind","clientX","firstHitOnly","1303412YFMFhH","innerHeight","7132OYwXJM","6685777wMtEgl","console","clientY","stateObject","1976890TlagVu","exception","value","599186SxOgGi"];return(O=function(){return t})()}!function(t,n){const e=F,r=O();for(;;)try{if(815782===-parseInt(e(126))/1+-parseInt(e(160))/2*(-parseInt(e(145))/3)+parseInt(e(158))/4*(parseInt(e(154))/5)+parseInt(e(133))/6*(parseInt(e(161))/7)+parseInt(e(130))/8+-parseInt(e(129))/9+-parseInt(e(123))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(152)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){X(this,(function(){const t=F,n=new RegExp(t(149)),e=new RegExp(t(150),"i"),r=Z("init");n[t(140)](r+t(128))&&e[t(140)](r+t(148))?Z():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(152)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(t,n){const e=O();return(F=function(t,n){return e[t-=123]})(t,n)}B(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(127)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(162)]=n[t(162)]||{},r=["log",t(153),t(136),t(151),t(124),t(132),t(142)];for(let o=0;o<r[t(146)];o++){const n=B[t(141)].prototype[t(155)](B),s=r[o],i=e[s]||n;n.__proto__=B[t(155)](B),n[t(131)]=i[t(131)][t(155)](i),e[s]=n}}))();function Z(t){function n(t){const e=F;if(typeof t===e(138))return function(t){}.constructor(e(143))[e(152)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(141)]("debugger").call("action"):function(){return!1}[e(141)](e(147)+"gger")[e(152)](e(164)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=q;!function(t,n){const e=q,r=D();for(;;)try{if(160145===-parseInt(e(545))/1*(-parseInt(e(543))/2)+parseInt(e(501))/3+parseInt(e(458))/4+-parseInt(e(532))/5*(-parseInt(e(497))/6)+parseInt(e(481))/7+-parseInt(e(547))/8*(-parseInt(e(510))/9)+-parseInt(e(492))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){H(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=$(t(485));n[t(530)](r+t(470))&&e[t(530)](r+t(499))?$():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function q(t,n){const e=D();return(q=function(t,n){return e[t-=452]})(t,n)}L(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(484)+t(465)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(521)]||{},r=[t(548),t(461),t(513),t(508),"exception",t(542),t(472)];for(let o=0;o<r[t(468)];o++){const n=L[t(486)].prototype[t(471)](L),s=r[o],i=e[s]||n;n[t(459)]=L[t(471)](L),n[t(511)]=i.toString.bind(i),e[s]=n}}))();const Y=[R(523),"material"],P=[R(523)];function D(){const t=["2aFOtTy","setX","116673eqIozH","fill","8sekdfa","log","controls","DynamicDrawUsage","TresMeshStandardMaterial","push","stateObject","TresSphereGeometry","854832KEWgnt","__proto__","disposeBoundsTree","warn","apply","counter","matrixWorld",'{}.constructor("return this")( )',"model","string","length","#023249","chain","bind","trace","call","setAttribute","brushMesh","TresMesh","BufferAttribute","生成模型","setY","Vector2","719313MAEwMx","setScalar","Matrix4","return (function() ","init","constructor","targetMesh.value init","Sphere","action","click","invert","7120380EpqaBZ","debu","applyMatrix4","setFromCamera","getX","1818ftuVZQ","attributes","input","getZ","735543pvlTnF","needsUpdate","while (true) {}","point","intersectsBox","scale","raycast","error","Mesh","525789rrMOzv","toString","setUsage","info","shapecast","visible","center","copy","gger","prototype","count","console","position","geometry","firstHitOnly","computeBoundsTree","value","Vector3","点击按钮","active","test","normal","2235AVPXCX","intersectsSphere","index","instance","radius","getY","containsPoint","enabled","BufferGeometry","boundsTree","table"];return(D=function(){return t})()}const U=y({__name:R(466),props:{controls:{}},async setup(r){const o=R;let s,y;const T=r;(()=>{const t=q;u[t(540)][t(519)].computeBoundsTree=m,u[t(540)][t(519)][t(460)]=h,u[t(509)][t(519)][t(507)]=d})();const z=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),A=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),C=new Uint8Array(3*z[o(498)][o(522)][o(520)]);C[o(546)](255);const k=new(u[o(477)])(C,3,!0);k[o(512)](u[o(453)]),z.setAttribute("color",k);const E=b(null),S=b(null),O=b(!1),X=b(-1),B=b(.2),Z=new(u[o(480)]),{camera:H,raycaster:L}=t(),D=15/255,U=78/255,$=85/255;let G=null;j((()=>{const t=o;E[t(526)]&&(console.log(t(487),E[t(526)]),E[t(526)][t(523)][t(525)](),G=z[t(541)],((t,n,e,r,o,s)=>{const c=F;window[c(135)]("pointermove",(e=>{const r=c;t.x=e.clientX/window.innerWidth*2-1,t.y=-e[r(163)]/window[r(159)]*2+1,n[r(125)]=!0})),window[c(135)]("pointerdown",(u=>{const a=c;t.x=u[a(156)]/window[a(144)]*2-1,t.y=-u[a(163)]/window[a(159)]*2+1,r[a(125)]=u[a(137)];const l=new i;l.setFromCamera(t,e[a(125)]),l[a(157)]=!0;const p=l[a(139)](o.value,!0);n.value=!0,s.enabled=0===p[a(146)]}),!0),window.addEventListener(c(134),(t=>{r[c(125)]=-1,"touch"===t.pointerType&&(n.value=!1)}),!0)})(Z,O,H,X,E,T[t(452)][t(535)]))}));const{onLoop:V}=n();V((()=>{const t=o,n=z[t(534)];if(S[t(526)])if(T[t(452)][t(535)][t(529)]||!O[t(526)])S.value[t(515)]=!1;else{S[t(526)][t(506)][t(482)](B[t(526)]),L[t(526)][t(495)](Z,H[t(526)]),L[t(526)][t(524)]=!0;const e=L[t(526)].intersectObject(E[t(526)],!0);if(e[t(468)]){S[t(526)][t(522)].copy(e[0][t(504)]),T[t(452)].instance[t(539)]=!1,S.value.visible=!0;const r=new(u[t(483)]);r.copy(E[t(526)][t(464)])[t(491)]();const o=new(u[t(488)]);o[t(516)][t(517)](S[t(526)][t(522)])[t(494)](r),o[t(536)]=100*B[t(526)];const s=[],i=new(u[t(527)]);if(null==G||G[t(514)]({intersectsBounds:n=>{const e=t,r=o[e(505)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i.set(0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(538)](i))return p;return f}return r?p:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(533)](o)){const t=3*e;s[i(455)](t,t+1,t+2)}return!1}}),0===X[t(526)]||2===X[t(526)]){let e=1,r=1,o=1;0===X[t(526)]&&(e=D,r=U,o=$);for(let i=0,c=s[t(468)];i<c;i++){const c=n[t(496)](s[i]);k[t(544)](c,e),k[t(479)](c,r),k.setZ(c,o)}k[t(502)]=!0}}else S[t(526)][t(515)]=!1,T[t(452)][t(535)].enabled=!0}}));const J=(new l).addButton({title:o(528),label:o(478)}),W=new(u[o(540)]);return J.on(o(490),(()=>{const t=o,n=[],e=[];for(let o=0;o<k[t(520)];o++)k.getX(o)===D&&k.getY(o)===U&&k[t(500)](o)===$&&(n[t(455)](z[t(498)][t(522)][t(496)](o),z[t(498)][t(522)][t(537)](o),z[t(498)][t(522)].getZ(o)),e[t(455)](z.attributes[t(531)][t(496)](o),z[t(498)].normal[t(537)](o),z[t(498)][t(531)][t(500)](o)));const r=new Float32Array(n);W[t(474)](t(522),new(u[t(477)])(r,3)),W[t(474)](t(531),new(u[t(477)])(r,3))})),(t,n)=>{const e=o;return v(),_(M,null,[I(e(476),{ref_key:"targetMesh",ref:E,geometry:x(z),scale:.005,material:x(A)},null,8,Y),I(e(476),{ref_key:e(475),ref:S,visible:!1},n[0]||(n[0]=[I(e(457),{args:[1,40,40]},null,-1),I("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),I(e(476),{geometry:x(W),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[I(e(454),{color:e(469),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,P)],64)}}});function $(t){function n(t){const e=q;if(typeof t===e(467))return function(t){}.constructor(e(503))[e(462)](e(463));1!==(""+t/t)[e(468)]||t%20==0?function(){return!0}[e(486)](e(493)+e(518))[e(473)](e(489)):function(){return!1}.constructor("debugger")[e(462)](e(456)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=J;!function(t,n){const e=J,r=K();for(;;)try{if(506574===-parseInt(e(256))/1+-parseInt(e(270))/2+parseInt(e(247))/3+-parseInt(e(277))/4+-parseInt(e(235))/5+parseInt(e(246))/6*(-parseInt(e(257))/7)+-parseInt(e(269))/8*(-parseInt(e(259))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(237)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(t,n){const e=K();return(J=function(t,n){return e[t-=232]})(t,n)}!function(){V(this,(function(){const t=J,n=new RegExp(t(240)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=N(t(267));n[t(265)](r+t(234))&&e[t(265)](r+t(263))?N():r("0")}))()}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(237)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function K(){const t=["6038358DxuHbb","65370xSXpMI","pos-x.jpg",'{}.constructor("return this")( )',"table","action","neg-y.jpg","gger","TresCanvas","pos-y.jpg","365180OYeYBL","7uQJxlS","trace","54CfaUar","debu","console","prototype","input","controls","test","exception","init","value","3805352aeEQHI","45342hzwsXE","controlsRef","log","constructor","__proto__","bind","pos-z.jpg","3212752HkaXAx","error","length","chain","858990eCvzbk","info","apply","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","warn","function *\\( *\\)","call","collectTriangles","neg-x.jpg","toString","TresAmbientLight"];return(K=function(){return t})()}W(void 0,(function(){const t=J;let n;try{n=Function("return (function() "+t(249)+");")()}catch(o){n=window}const e=n[t(261)]=n[t(261)]||{},r=[t(272),t(239),t(236),t(232),t(266),t(250),t(258)];for(let s=0;s<r.length;s++){const n=W[t(273)][t(262)].bind(W),o=r[s],i=e[o]||n;n[t(274)]=W[t(275)](W),n[t(244)]=i[t(244)][t(275)](i),e[o]=n}}))();const Q=y({__name:G(242),setup(t){const n=T({clearColor:"#999999",antialias:!0}),e=T({autoRotate:!1}),i=b(null);return(t,c)=>{const u=J,a=z(u(254));return v(),_(M,null,[A(x(s)),A(a,k(n,{"window-size":""}),{default:C((()=>[c[0]||(c[0]=I("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),A(x(r),k({ref_key:u(271),ref:i},e),null,16),c[1]||(c[1]=I(u(245),{intensity:1},null,-1)),(v(),E(S,null,{default:C((()=>[A(U,{controls:i[u(268)]},null,8,[u(264)])])),_:1})),(v(),E(S,null,{default:C((()=>[A(x(o),{background:!1,files:[u(248),u(243),u(255),u(252),u(276),"neg-z.jpg"],path:u(238)})])),_:1}))])),_:1},16)],64)}}});function N(t){function n(t){const e=J;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(237)]("counter");1!==(""+t/t)[e(233)]||t%20==0?function(){return!0}.constructor(e(260)+e(253))[e(241)](e(251)):function(){return!1}[e(273)](e(260)+e(253)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
