import{_ as n,cj as t}from"./three.DqHgeVY11742895693222.js";import{e as o,D as e,a as r,o as a}from"./@tresjs.xCsT8yve1742895693222.js";import{P as s}from"./tweakpane.ivGeiIdz1742895693222.js";import{d as i,a3 as c,r as u,b as l,w as f,o as p,H as m,N as v,aj as g,ak as d,u as x,e as y,f as h,g as w,j as b,al as I}from"./@vue.C4dqouNn1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";const C=A;!function(n,t){const o=A,e=_();for(;;)try{if(591059===-parseInt(o(265))/1*(parseInt(o(289))/2)+-parseInt(o(245))/3*(-parseInt(o(273))/4)+-parseInt(o(234))/5+parseInt(o(238))/6*(-parseInt(o(269))/7)+-parseInt(o(223))/8*(parseInt(o(285))/9)+-parseInt(o(277))/10+parseInt(o(219))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[A(295)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){z(this,(function(){const n=A,t=new RegExp(n(227)),o=new RegExp(n(288),"i"),e=D("init");t[n(228)](e+n(287))&&o.test(e+"input")?D():e("0")}))()}();const P=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[A(295)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(){const n=["BufferAttribute","refresh","89226SaVOvY","prototype","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1117020vjyuMN","TresMesh","颜色1st","warn","uniforms","table","apply","scene","/model/eCommerce/guanYu.glb","42547857NlWRcF","setAttribute","push","gger","672BjnXKW","counter","position","disabled","function *\\( *\\)","test","tangent","Color","constructor","log","mergeGeometries","2967630SbBDiA","console","m1Color","return (function() ","1248834sjfAEP","count","traverse","divideScalar","toNonIndexed","addBinding","geometry","3669koLInq","sin","Mesh","#ffc0fa","stateObject","deleteAttribute","bind","aCenter","resource.cos",'{}.constructor("return this")( )',"Vector3","u_progress","set","attributes","__proto__","translate","fragmentModelCom","string","./draco/","array","1iFJeTX","action","error","https://opensource.cdn.icegl.cn","28GomFYz","aRandom","TresShaderMaterial","random","1908EzjUDN","onLoop","value","info","10429310lIofIA","rotateX","children","clone","length","while (true) {}"];return(_=function(){return n})()}P(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(237)+n(254)+");")()}catch(o){t=window}return t}(),o=t[n(235)]=t[n(235)]||{},e=["log",n(292),n(276),n(267),"exception",n(294),"trace"];for(let r=0;r<e.length;r++){const t=P[n(231)][n(286)][n(251)](P),a=e[r],s=o[a]||t;t[n(259)]=P[n(251)](P),t.toString=s.toString[n(251)](s),o[a]=t}}))();const j=[C(244)];function A(n,t){const o=_();return A=function(n,t){return o[n-=217]},A(n,t)}const M=i({__name:C(261),async setup(a){const i=C;let y,h;const w=o=>{const e=A,r=[];return o[e(240)]((t=>{const o=e;t instanceof n[o(247)]&&(t[o(244)][o(250)]("uv"),t[o(244)].deleteAttribute(o(229)),r[o(221)](t[o(244)]))})),t[e(233)](r)},b=w(([y,h]=c((()=>e(i(268)+i(218),{draco:!0,decoderPath:i(263)}))),y=await y,h(),y)[i(217)][i(279)][0]);b.rotateX(Math.PI/2),b[i(260)](0,-.9,0);const I=b[i(280)]()[i(242)](),z=w(([y,h]=c((()=>e("./plugins/industry4/model/modelDraco.glb",{draco:!0,decoderPath:i(263)}))),y=await y,h(),y)[i(217)][i(279)][0]);z[i(278)](-Math.PI/2),z.rotateY(Math.PI/3);const P=z[i(280)]().toNonIndexed(),_=I[i(258)][i(225)][i(264)],M=I.attributes[i(225)][i(239)],D=P[i(258)][i(225)].array,N=P.attributes.normal[i(264)],R=P[i(258)][i(225)][i(239)],S=new Float32Array(M),F=new Float32Array(3*(M+2)),V=new Float32Array(3*(M+2)),E=new Float32Array(3*(M+2));for(let t=0;t<M;t+=3){const o=1*Math[i(272)](),e=t%R;S[t]=o,S[t+1]=o,S[t+2]=o;const r=3*t,a=_[r],s=_[r+1],c=_[r+2],u=_[r+3],l=_[r+4],f=_[r+5],p=_[r+6],m=_[r+7],v=_[r+8],g=new(n[i(255)])(a+u+p,s+l+m,c+f+v)[i(241)](3);F[i(257)]([g.x,g.y,g.z],3*t),F.set([g.x,g.y,g.z],3*(t+1)),F[i(257)]([g.x,g.y,g.z],3*(t+2));const d=(n,t,o)=>{const e=i,r=3*o;for(let a=0;a<3;a++){const s=r+3*a;t[e(257)]([n[s],n[s+1],n[s+2]],3*(o+a))}};d(D,V,e),d(N,E,e)}I.setAttribute(i(270),new(n[i(283)])(S,1)),I[i(220)](i(252),new(n[i(283)])(F,3)),I[i(220)]("toPosition",new(n[i(283)])(V,3)),I[i(220)]("toNormal",new(n[i(283)])(E,3)),console[i(232)](I[i(258)]);const T=([y,h]=c((()=>r(["./plugins/visualArts/image/fragment512px.png"]))),y=await y,h(),y),k={uniforms:{u_progress:{value:-.1},matcap1:{value:T},m1Color:{type:"v3",value:new(n[i(230)])(i(248))},matcap2:{value:T},m2Color:{type:"v3",value:new(n[i(230)])("#bcd4ff")}},vertexShader:"varying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\n\nattribute vec3 aCenter;\nattribute vec3 toPosition;\nattribute vec3 toNormal;\nattribute float aRandom;\n\nuniform float u_progress;\n\n#include <common>\n\nmat4 rotation3d(vec3 axis, float angle) {\n  axis = normalize(axis);\n  float s = sin(angle);\n  float c = cos(angle);\n  float oc = 1.0 - c;\n\n  return mat4(\n      oc * axis.x * axis.x + c, oc * axis.x * axis.y - axis.z * s,\n      oc * axis.z * axis.x + axis.y * s, 0.0, oc * axis.x * axis.y + axis.z * s,\n      oc * axis.y * axis.y + c, oc * axis.y * axis.z - axis.x * s, 0.0,\n      oc * axis.z * axis.x - axis.y * s, oc * axis.y * axis.z + axis.x * s,\n      oc * axis.z * axis.z + c, 0.0, 0.0, 0.0, 0.0, 1.0);\n}\n\nvoid main() {\n  vUv = uv;\n\n  float progress = u_progress;\n  float sinProgress = sin(progress * PI);\n\n  vec3 pos = mix(position, toPosition, progress);\n  vec3 nor = mix(normal, toNormal, progress);\n\n  vNormal = normalMatrix * normalize(nor);\n\n  float prog = ((pos.y + 1.) / 2.) * 1.1;\n\n  float locprog = clamp((sinProgress - 0.9 * prog) / 0.2, 0., 1.);\n\n  vec3 transform = pos - aCenter;\n\n  transform += 3. * aRandom * nor * locprog;\n\n  transform *= (1.0 - locprog);\n\n  transform += aCenter;\n\n  mat4 rotation = rotation3d(vec3(0., 1., 0.), aRandom * (locprog)*PI * 3.);\n\n  transform = (rotation * vec4(transform, 1.)).xyz;\n\n  vec4 modelViewPosition = modelViewMatrix * vec4(transform, 1.0);\n\n  gl_Position = projectionMatrix * modelViewPosition;\n\n  vViewPosition = -modelViewPosition.xyz;\n}",fragmentShader:"varying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec3 vViewPosition;\nuniform sampler2D matcap;\nuniform sampler2D matcap2;\nuniform float u_progress;\nuniform vec3 m1Color;\nuniform vec3 m2Color;\n\nvoid main() {\n  vec3 viewDir = normalize(vViewPosition);\n  vec3 x = normalize(vec3(viewDir.z, 0.0, -viewDir.x));\n  vec3 y = cross(viewDir, x);\n  vec2 uv = vec2(dot(x, vNormal), dot(y, vNormal)) * 0.495 + 0.5;\n\n  float progress = abs(sin(u_progress));\n\n  vec3 matcapColor = texture2D(matcap, uv).rgb;\n  matcapColor = mix(matcapColor, m1Color, 0.5);\n  vec3 matcap2Color = texture2D(matcap2, uv).rgb;\n  matcap2Color = mix(matcap2Color, m2Color, 0.5);\n\n  vec3 color = vec3(matcapColor);\n  color = mix(color, matcap2Color, progress);\n\n  gl_FragColor = vec4(color, 1.0);\n}"},L=u({c1:i(248),c2:"#bcd4ff"}),Z=l(.5),B=new s({title:"参数"});return B.addBinding(k[i(293)][i(256)],i(275),{label:"变化量",min:-.1,max:1,step:.001})[i(226)]=!0,B[i(243)](L,"c1",{label:i(291)}),B[i(243)](L,"c2",{label:"颜色2rd"}),B[i(243)](Z,"value",{label:"速度",min:.001,max:1,step:.001}),f(L,(n=>{const t=i;k[t(293)][t(236)][t(275)][t(257)](n.c1),k[t(293)].m2Color.value[t(257)](n.c2)}),{deep:!0}),o()[i(274)]((({elapsed:n})=>{const t=i;k[t(293)][t(256)][t(275)]=(Math[t(246)](n*Z[t(275)])+1)/2,B[t(284)]()})),(n,t)=>{const o=i;return p(),m(o(290),{geometry:x(I)},[v(o(271),g(d(k)),null,16)],8,j)}}});function D(n){function t(n){const o=A;if(typeof n===o(262))return function(n){}[o(231)](o(282))[o(295)](o(224));1!==(""+n/n)[o(281)]||n%20==0?function(){return!0}[o(231)]("debugger").call(o(266)):function(){return!1}[o(231)]("debu"+o(222))[o(295)](o(249)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const N=F;!function(n,t){const o=F,e=V();for(;;)try{if(912168===-parseInt(o(433))/1+parseInt(o(446))/2*(-parseInt(o(453))/3)+parseInt(o(431))/4+parseInt(o(437))/5+-parseInt(o(443))/6*(-parseInt(o(444))/7)+parseInt(o(434))/8*(parseInt(o(425))/9)+parseInt(o(439))/10*(-parseInt(o(422))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[F(430)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){R(this,(function(){const n=F,t=new RegExp(n(438)),o=new RegExp(n(452),"i"),e=T(n(426));t[n(429)](e+n(441))&&o[n(429)](e+"input")?T():e("0")}))()}();const S=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function F(n,t){const o=V();return F=function(n,t){return o[n-=422]},F(n,t)}function V(){const n=["apply","4982816IHlLLd","TresCanvas","208156RWtDoE","8CPZCtm","constructor","__proto__","7646295KMxrCi","function *\\( *\\)","12260xTvQPX","trace","chain","gger","56874LfzlVd","35PUnvBM","bind","1612zmhjUr","log","debu","error","ACESFilmicToneMapping","TresPerspectiveCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","639gtXZwG","call","warn",'{}.constructor("return this")( )',"TresAmbientLight","25685smuLnR","info","action","11991186wGtkAE","init","fragmentModel","#000000","test"];return(V=function(){return n})()}S(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function("return (function() "+n(456)+");")()}catch(o){t=window}return t}(),o=t.console=t.console||{},e=[n(447),n(455),n(423),n(449),"exception","table",n(440)];for(let r=0;r<e.length;r++){const t=S[n(435)].prototype.bind(S),a=e[r],s=o[a]||t;t[n(436)]=S[n(445)](S),t.toString=s.toString[n(445)](s),o[a]=t}}))();const E=i({__name:N(427),setup(t){const o=N,e=u({enableDamping:!0,enableZoom:!0,autoRotate:!0,enablePan:!0,enableRotate:!0}),r={clearColor:o(428),windowSize:!0,toneMapping:n[o(450)],toneMappingExposure:.8};return(n,t)=>{const s=o,i=y(s(432));return p(),h(i,g(d(r)),{default:w((()=>[t[0]||(t[0]=v(s(451),{position:[0,2,8],fov:45,near:.1,far:1e3},null,-1)),b(x(a),g(d(e)),null,16),t[1]||(t[1]=v(s(457),{intensity:2},null,-1)),(p(),h(I,null,{default:w((()=>[b(M)])),_:1}))])),_:1},16)}}});function T(n){function t(n){const o=F;if("string"==typeof n)return function(n){}[o(435)]("while (true) {}")[o(430)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[o(435)]("debu"+o(442))[o(454)](o(424)):function(){return!1}[o(435)](o(448)+o(442))[o(430)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{E as default};
