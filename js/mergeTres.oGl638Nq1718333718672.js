import{A as _}from"./index.n9Qb7Nba1718333718672.js";import{an as h,ah as p,a5 as S,ab as C,o as g,c as y,_ as M,ao as w,aa as x}from"./vendor.V7oUbPUv1718333718672.js";const i=h("mapStore",()=>{const n=p(null),o=p(null),e=p(null);return{aMap:n,mapHandle:o,cameraState:e}}),k={id:"mapContainer"},$=S({__name:"mapContainer",props:{center:{default:[0,0]},zoom:{default:14},pitch:{default:50},mapStyle:{default:"normal"}},setup(n){const o=n,e=i();let r=null;return C(async()=>{await _.load({key:"0c7222955570f1b434c4adfcc1e955e8",version:"2.0"}).then(a=>{r=new a.Map("mapContainer",{center:o.center,zooms:[1,20],viewMode:"3D",zoom:o.zoom,pitch:o.pitch,mapStyle:"amap://styles/"+o.mapStyle}),r.on("click",t=>{const s="您在 [ ".concat(t.lnglat.getLng(),",").concat(t.lnglat.getLat()," ] 的位置单击了地图！");console.log(s)}),e.$patch({aMap:a}),e.$patch({mapHandle:r})}).catch(a=>{console.log(a)})}),(a,t)=>(g(),y("div",k))}}),H=M($,[["__scopeId","data-v-e1a7e2c4"]]),A={__name:"mergeTres",props:{center:{default:[0,0]}},setup(n){const o=n,{camera:e,scene:r,renderer:a}=w(),t=i();let s=null,m=null;return x(()=>{t.aMap&&(s=t.mapHandle.customCoords,m=new t.aMap.CustomLayer(a.value.domElement,{zIndex:10,render:()=>{a.value.resetState(),s.setCenter(o.center);const{near:l,far:c,fov:u,up:f,lookAt:v,position:d}=s.getCameraParams();e.value.near=l,e.value.far=c,e.value.fov=u,t.$patch({cameraState:{near:l,far:c,fov:u,position:d}}),e.value.position.set(...d),e.value.up.set(...f),e.value.lookAt(...v),e.value.updateProjectionMatrix(),a.value.render(r.value,e.value),a.value.resetState()},alwaysRender:!0}),t.mapHandle.add(m))}),(l,c)=>null}};export{A as _,H as m,i as u};
