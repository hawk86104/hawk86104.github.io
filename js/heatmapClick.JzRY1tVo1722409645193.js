import{a as t,d as n}from"./@tresjs.qmCJ68Vp1722409645193.js";import{P as e}from"./tweakpane.yHWGBmom1722409645193.js";import{T as o,a6 as r,ab as a,ac as s}from"./three.6E5muTWJ1722409645193.js";import{_ as i}from"./heatmap.js-fix.U2cqa0Gf1722409645193.js";import{d as c,a4 as u,a1 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as v,j as y,al as b,aj as w,ak as x,m as _,J as I}from"./@vue.9bHx4gg21722409645193.js";import"./@vueuse.NFOCyQQL1722409645193.js";import"./@amap.VDWlHANn1722409645193.js";const j=M;!function(t,n){const e=M,o=C();for(;;)try{if(905641===parseInt(e(413))/1*(parseInt(e(364))/2)+parseInt(e(430))/3+parseInt(e(429))/4+-parseInt(e(366))/5*(-parseInt(e(412))/6)+-parseInt(e(391))/7+parseInt(e(373))/8+parseInt(e(423))/9*(-parseInt(e(381))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(420)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["BufferAttribute","1070HVPWxZ","heatmap-canvas","style","stateObject","bind","string","console","__proto__","setScalar","attributes","4996649tQUQot","counter","constructor","test","none","action","while (true) {}","call","layerY","debu","return (function() ","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","toString","count","computeBoundingBox","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","primitive","onclick","position","_renderer","6EFShLY","35QWFVWY","heatmapClickCom","block","1px solid #5384ff","absolute","body","push","apply","show2dCanvas","deleteAttribute","333828uSMuvb","info","log","border","prototype","init","6851876bEOGaa","4421652VHSQoF","getX","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",'{}.constructor("return this")( )',"DoubleSide","length","mesh_0","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","51602RzwIVK","ShaderMaterial","4145735WbSykT","chain","trace","left","setDataMax","error","gger","5354056lsFCIR","geometry","getZ","function *\\( *\\)","0.8","radius","canvas"];return(C=function(){return t})()}!function(){S(this,(function(){const t=M,n=new RegExp(t(376)),e=new RegExp(t(406),"i"),o=A(t(428));n[t(394)](o+t(367))&&e[t(394)](o+"input")?A():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(420)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=M;let n;try{n=Function(t(401)+t(433)+");")()}catch(r){n=window}const e=n[t(387)]=n[t(387)]||{},o=[t(425),"warn",t(424),t(371),"exception","table",t(368)];for(let a=0;a<o[t(435)];a++){const n=k[t(393)][t(427)][t(385)](k),r=o[a],s=e[r]||n;n[t(388)]=k.bind(k),n[t(403)]=s[t(403)].bind(s),e[r]=n}}))();const B=["object"];function M(t,n){const e=C();return(M=function(t,n){return e[t-=364]})(t,n)}const z=c({__name:j(414),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(437),{draco:!0,decoderPath:"./draco/"}))),a=await a,s(),a);h[e(436)][e(410)][e(407)](-5088.96,-3.08,39374.7),h[e(436)].scale[e(389)](.01);let m=null,g=null,v=null;g=new o((()=>{const t=e;return v=document.createElement(t(382)),v[t(383)][t(410)]=t(417),v[t(383)].top="40px",v.style[t(369)]="0",document[t(418)].appendChild(v),m=i.create({container:v,width:256,height:256,blur:t(377),radius:c[t(378)]}),m[t(411)][t(379)][t(383)][t(426)]=t(416),m[t(411)][t(379)][t(409)]=function(n){const e=t;m.addData({x:n.layerX,y:n[e(399)],value:1,radius:c.radius}),m[e(370)](1),g&&(g.needsUpdate=!0)},m})()[e(411)].canvas);const y={vertexShader:e(432),fragmentShader:e(402),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(434)]},b=new(r[e(365)])(y);h.mesh_0.material=b;return(t=>{const n=e;t[n(405)]();const{max:o,min:a}=t.boundingBox;t[n(422)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(390)][n(410)][n(404)];e++)c.push((t[n(390)][n(410)][n(431)](e)-a.x)/s),c[n(419)]((t[n(390)][n(410)][n(375)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(r[n(380)])(u,2))})(h[e(436)][e(374)]),l((()=>{const t=e;v[t(383)].display=""+(c[t(421)]?t(415):t(395))})),(t,n)=>{const o=e;return p(),f(o(408),{object:d(h)[o(436)]},null,8,B)}}});function A(t){function n(t){const e=M;if(typeof t===e(386))return function(t){}.constructor(e(397))[e(420)](e(392));1!==(""+t/t)[e(435)]||t%20==0?function(){return!0}[e(393)](e(400)+e(372))[e(398)](e(396)):function(){return!1}[e(393)](e(400)+e(372))[e(420)](e(384)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=U;function F(){const t=["#ffffff","322275EhfwyB","TresGridHelper","warn","console","log","6aHHqmv","TresPerspectiveCamera","prototype","input","104428KbFxcw","8549559vvrEhO","counter","toString","heatmapClick","3955920HwGjWI","__proto__","info","TresCanvas","20BODeSX","test","点击左侧蓝色画框","debu","init","bind","4163208rwsxMU","radius",'{}.constructor("return this")( )',"constructor","string","apply","addBinding","exception","addButton","table","747247HfKAti","显示二维图","1299298GNsJIr","stateObject","while (true) {}","show2dCanvas","chain","gger","TresDirectionalLight","trace","call","length"];return(F=function(){return t})()}!function(t,n){const e=U,o=F();for(;;)try{if(434315===-parseInt(e(360))/1+parseInt(e(335))/2*(-parseInt(e(331))/3)+-parseInt(e(344))/4*(-parseInt(e(326))/5)+parseInt(e(350))/6+-parseInt(e(362))/7+-parseInt(e(340))/8+parseInt(e(336))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(355)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=W(t(348));n[t(345)](o+t(366))&&e.test(o+t(334))?W():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function("return (function() "+t(352)+");")()}catch(e){n=window}return n}(),e=n[t(329)]=n[t(329)]||{},o=[t(330),t(328),t(342),"error",t(357),t(359),t(369)];for(let r=0;r<o[t(371)];r++){const n=O[t(353)][t(333)][t(349)](O),a=o[r],s=e[a]||n;n[t(341)]=O[t(349)](O),n.toString=s[t(338)].bind(s),e[a]=n}}))();const R=I(E(332),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),T=I(E(368),{position:[5,10,7.5],color:E(325),intensity:5},null,-1),H=I(E(327),{args:[50,25]},null,-1);function U(t,n){const e=F();return(U=function(t,n){return e[t-=325]})(t,n)}const V=c({__name:E(339),setup(t){const o=E,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,o(365),{label:o(361)}),c[o(356)](i,o(351),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(358)]({title:o(346)}),(t,e)=>{const a=m(o(343));return p(),g(a,_(r,{"window-size":""}),{default:v((()=>[R,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),T,H,(p(),g(b,null,{default:v((()=>[y(z,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function W(t){function n(t){const e=U;if(typeof t===e(354))return function(t){}.constructor(e(364))[e(355)](e(337));1!==(""+t/t)[e(371)]||t%20==0?function(){return!0}[e(353)](e(347)+e(367))[e(370)]("action"):function(){return!1}.constructor(e(347)+e(367))[e(355)](e(363)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
