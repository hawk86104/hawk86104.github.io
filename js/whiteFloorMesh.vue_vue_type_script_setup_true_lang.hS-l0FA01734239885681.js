import{_ as t,bQ as n,U as o}from"./three.NPKhDGTA1734239885681.js";import{b as r}from"./@tresjs.qWeugQU61734239885681.js";import{d as e,b as a,a6 as s,w as c,o as i,D as u,J as f,aj as l,ak as p}from"./@vue.-THQH3GC1734239885681.js";function h(){const t=["common","lights_pars_begin","bind","defaultnormal_vertex","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","bsdfs","log","315426QkNOvl","1830575qUdEIo","debu","\n          ","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmask_pars_fragment","2697480FAcuPw","1453408DQoZbp","call","length","input","745642ijOZcw","gger","21lxYJld","packing","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","warn","function *\\( *\\)","error","ShaderChunk","project_vertex","console","action","test","\n\t ",'{}.constructor("return this")( )',"beginnormal_vertex","962354WzcWXi","apply","\n      \t","counter","prototype","trace","constructor","init","691821VntXEO","stateObject","shadowmap_vertex"];return(h=function(){return t})()}!function(t,n){const o=m,r=h();for(;;)try{if(392978===parseInt(o(296))/1+parseInt(o(312))/2+parseInt(o(320))/3+-parseInt(o(291))/4+-parseInt(o(285))/5+parseInt(o(284))/6*(parseInt(o(298))/7)+-parseInt(o(292))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp(t(302)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_(t(319));n[t(308)](r+"chain")&&o[t(308)](r+t(295))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(313)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=h();return(m=function(t,n){return o[t-=281]})(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function("return (function() "+t(310)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(306)]||{},r=[t(283),t(301),"info",t(303),"exception","table",t(317)];for(let e=0;e<r.length;e++){const n=g[t(318)][t(316)][t(325)](g),a=r[e],s=o[a]||n;n.__proto__=g[t(325)](g),n.toString=s.toString[t(325)](s),o[a]=n}}))();const v=()=>{const o=m;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(304)][o(323)]+"\n      \t"+n.bsdfs+o(314)+t[o(304)][o(289)]+"\n       void main() {\n\t\t\t\t\t"+t[o(304)][o(311)]+o(287)+n[o(326)]+"\n          "+t[o(304)].begin_vertex+o(287)+t[o(304)][o(305)]+"\n          "+t[o(304)].worldpos_vertex+"\n          "+t[o(304)][o(322)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},w=()=>{const o=m;return o(300)+n.common+o(309)+t[o(304)][o(299)]+"\n\t "+t[o(304)][o(282)]+o(309)+t[o(304)][o(324)]+o(309)+t[o(304)][o(288)]+"\n\t "+t[o(304)][o(290)]+o(281)};function _(t){function n(t){const o=m;if("string"==typeof t)return function(t){}[o(318)]("while (true) {}")[o(313)](o(315));1!==(""+t/t)[o(294)]||t%20==0?function(){return!0}[o(318)](o(286)+o(297))[o(293)](o(307)):function(){return!1}.constructor("debu"+o(297))[o(313)](o(321)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function x(){const t=["3352184AKiWXM","459040xKISmk","size","stateObject","uColor","bind","init","chain","rotation-x","147054pMXTkw","9256CnhlDY","RepeatWrapping","Color","wrapT","console","TresPlaneGeometry","280URlsqC","action","__proto__","37cMoauz","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","lights","counter","#990","uniforms","UniformsLib","TresMesh","10CyDtdo","warn","return (function() ","tmRef","table","call","fEdge","color","test","whiteFloorMesh","edge","175650nHxTGg","20qBVfSw","#999","2611134VARBxw","input","DoubleSide","function *\\( *\\)","shadowColor","toString","error","string","length","apply","while (true) {}","13582JoZvet","debu","uShadowColor","value","merge","constructor","TresShaderMaterial"];return(x=function(){return t})()}const b=j;!function(t,n){const o=j,r=x();for(;;)try{if(148543===-parseInt(o(167))/1*(-parseInt(o(201))/2)+-parseInt(o(187))/3+parseInt(o(149))/4+parseInt(o(188))/5*(-parseInt(o(157))/6)+-parseInt(o(164))/7*(parseInt(o(158))/8)+-parseInt(o(190))/9*(-parseInt(o(176))/10)+-parseInt(o(148))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(199)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=j,n=new RegExp(t(193)),o=new RegExp(t(168),"i"),r=M(t(154));n[t(184)](r+t(155))&&o.test(r+t(191))?M():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(199)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=j;let n;try{n=Function(t(178)+'{}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(162)]=n[t(162)]||{},r=["log",t(177),"info",t(196),"exception",t(180),"trace"];for(let a=0;a<r[t(198)];a++){const n=y[t(206)].prototype[t(153)](y),e=r[a],s=o[e]||n;n[t(166)]=y[t(153)](y),n.toString=s[t(195)][t(153)](s),o[e]=n}}))();const S=[b(156)],C=["args"];function j(t,n){const o=x();return(j=function(t,n){return o[t-=147]})(t,n)}const k=e({__name:b(185),props:{size:{default:[20,20]},color:{default:b(172)},shadowColor:{default:b(189)},edge:{default:.35}},async setup(n){const e=b;let h,d;const g=n,m=a(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_.wrapS=_[e(161)]=t[e(159)];const x={uniforms:o[e(205)]([t[e(174)][e(170)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(160)])(g[e(183)])},uShadowColor:{value:new(t[e(160)])(g.shadowColor)},fEdge:{type:"f",value:g[e(186)]}}]),side:t[e(192)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>g[e(186)]),(t=>{const n=e;x.uniforms[n(182)][n(204)]=t})),c((()=>g[e(183)]),(n=>{const o=e;x[o(173)][o(152)][o(204)]=new(t[o(160)])(g[o(183)])})),c((()=>g[e(194)]),(n=>{const o=e;x.uniforms[o(203)].value=new(t[o(160)])(g[o(194)])})),(t,n)=>{const o=e;return i(),u(o(175),{ref_key:o(179),ref:m,"rotation-x":-Math.PI/2},[f(o(163),{args:g[o(150)]},null,8,C),f(o(147),l(p(x)),null,16)],8,S)}}});function M(t){function n(t){const o=j;if(typeof t===o(197))return function(t){}[o(206)](o(200))[o(199)](o(171));1!==(""+t/t).length||t%20==0?function(){return!0}[o(206)](o(202)+o(169))[o(181)](o(165)):function(){return!1}[o(206)]("debugger")[o(199)](o(151)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{k as _};
