import{_ as n,c as t,l as o,c6 as r}from"./three.XuMWWlrU1743039954535.js";import{e,D as a,a as s,o as i}from"./@tresjs.05J-Im0t1743039954535.js";import{P as c}from"./tweakpane.ivGeiIdz1743039954535.js";import{d as u,a3 as l,r as p,b as f,w as m,o as g,H as v,N as d,aj as x,ak as y,u as h,e as b,f as w,g as C,j as _,al as z}from"./@vue.C4dqouNn1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";const I=M;!function(n,t){const o=M,r=j();for(;;)try{if(143007===parseInt(o(129))/1+parseInt(o(199))/2+-parseInt(o(183))/3+-parseInt(o(165))/4*(parseInt(o(204))/5)+parseInt(o(169))/6*(-parseInt(o(186))/7)+-parseInt(o(185))/8+parseInt(o(126))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const P=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o[M(203)](t,arguments);return o=null,n}}:function(){};return n=!1,r}}();!function(){P(this,(function(){const n=M,t=new RegExp(n(175)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=R(n(130));t[n(184)](r+n(188))&&o[n(184)](r+n(193))?R():r("0")}))()}();const A=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o[M(203)](t,arguments);return o=null,n}}:function(){};return n=!1,r}}();function M(n,t){const o=j();return M=function(n,t){return o[n-=125]},M(n,t)}function j(){const n=["apply","55jGwSet","/model/eCommerce/guanYu.glb","Color","4558059bBALlv","traverse","prototype","98719JxkMsL","init","addBinding","position","uniforms","constructor","while (true) {}","m1Color","toNonIndexed","__proto__","颜色2rd","TresMesh","warn","scene","push","translate","attributes","count","length","aRandom","./draco/","exception","u_progress","return (function() ","onLoop","toNormal","toString","m2Color","resource.cos","call","string","aCenter","fragmentModelCom","stateObject",'{}.constructor("return this")( )',"BufferAttribute","30188QGQwNn","error","tangent","rotateY","1344SAxXct","bind","info","#ffc0fa","toPosition","mergeGeometries","function *\\( *\\)","rotateX","#bcd4ff","clone","value","debu","setAttribute","normal","229368baMHyB","test","809768QRGigl","7966mMetoi","deleteAttribute","chain","divideScalar","array","https://opensource.cdn.icegl.cn","set","input","action","geometry","counter","console","children","106886mikCpq","trace","disabled","Vector3"];return(j=function(){return n})()}A(void 0,(function(){const n=M,t=function(){const n=M;let t;try{t=Function(n(152)+n(163)+");")()}catch(o){t=window}return t}(),o=t[n(197)]=t[n(197)]||{},r=["log",n(141),n(171),n(166),n(150),"table",n(200)];for(let e=0;e<r[n(147)];e++){const t=A[n(134)][n(128)][n(170)](A),a=r[e],s=o[a]||t;t[n(138)]=A[n(170)](A),t[n(155)]=s[n(155)][n(170)](s),o[a]=t}}))();const D=["geometry"],N=u({__name:I(161),async setup(i){const u=I;let b,w;const C=n=>{const t=M,e=[];return n[t(127)]((n=>{const r=t;n instanceof o&&(n.geometry[r(187)]("uv"),n[r(195)].deleteAttribute(r(167)),e[r(143)](n[r(195)]))})),r[t(174)](e)},_=C(([b,w]=l((()=>a(u(191)+u(205),{draco:!0,decoderPath:u(149)}))),b=await b,w(),b)[u(142)][u(198)][0]);_.rotateX(Math.PI/2),_[u(144)](0,-.9,0);const z=_[u(178)]()[u(137)](),P=C(([b,w]=l((()=>a("./plugins/industry4/model/modelDraco.glb",{draco:!0,decoderPath:u(149)}))),b=await b,w(),b)[u(142)][u(198)][0]);P[u(176)](-Math.PI/2),P[u(168)](Math.PI/3);const A=P[u(178)]()[u(137)](),j=z[u(145)][u(132)][u(190)],N=z.attributes.position.count,R=A.attributes[u(132)].array,S=A[u(145)][u(182)].array,k=A[u(145)][u(132)][u(146)],V=new Float32Array(N),F=new Float32Array(3*(N+2)),T=new Float32Array(3*(N+2)),B=new Float32Array(3*(N+2));for(let t=0;t<N;t+=3){const o=1*Math.random(),r=t%k;V[t]=o,V[t+1]=o,V[t+2]=o;const e=3*t,a=j[e],s=j[e+1],i=j[e+2],c=j[e+3],l=j[e+4],p=j[e+5],f=j[e+6],m=j[e+7],g=j[e+8],v=new(n[u(202)])(a+c+f,s+l+m,i+p+g)[u(189)](3);F[u(192)]([v.x,v.y,v.z],3*t),F[u(192)]([v.x,v.y,v.z],3*(t+1)),F.set([v.x,v.y,v.z],3*(t+2));const d=(n,t,o)=>{const r=u,e=3*o;for(let a=0;a<3;a++){const s=e+3*a;t[r(192)]([n[s],n[s+1],n[s+2]],3*(o+a))}};d(R,T,r),d(S,B,r)}z.setAttribute(u(148),new(n[u(164)])(V,1)),z.setAttribute(u(160),new t(F,3)),z[u(181)](u(173),new(n[u(164)])(T,3)),z[u(181)](u(154),new(n[u(164)])(B,3)),console.log(z.attributes);const E=([b,w]=l((()=>s(["./plugins/visualArts/image/fragment512px.png"]))),b=await b,w(),b),Z={uniforms:{u_progress:{value:-.1},matcap1:{value:E},m1Color:{type:"v3",value:new(n[u(125)])(u(172))},matcap2:{value:E},m2Color:{type:"v3",value:new(n[u(125)])(u(177))}},vertexShader:"varying vec2 vUv;\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\n\nattribute vec3 aCenter;\nattribute vec3 toPosition;\nattribute vec3 toNormal;\nattribute float aRandom;\n\nuniform float u_progress;\n\n#include <common>\n\nmat4 rotation3d(vec3 axis, float angle) {\n  axis = normalize(axis);\n  float s = sin(angle);\n  float c = cos(angle);\n  float oc = 1.0 - c;\n\n  return mat4(\n      oc * axis.x * axis.x + c, oc * axis.x * axis.y - axis.z * s,\n      oc * axis.z * axis.x + axis.y * s, 0.0, oc * axis.x * axis.y + axis.z * s,\n      oc * axis.y * axis.y + c, oc * axis.y * axis.z - axis.x * s, 0.0,\n      oc * axis.z * axis.x - axis.y * s, oc * axis.y * axis.z + axis.x * s,\n      oc * axis.z * axis.z + c, 0.0, 0.0, 0.0, 0.0, 1.0);\n}\n\nvoid main() {\n  vUv = uv;\n\n  float progress = u_progress;\n  float sinProgress = sin(progress * PI);\n\n  vec3 pos = mix(position, toPosition, progress);\n  vec3 nor = mix(normal, toNormal, progress);\n\n  vNormal = normalMatrix * normalize(nor);\n\n  float prog = ((pos.y + 1.) / 2.) * 1.1;\n\n  float locprog = clamp((sinProgress - 0.9 * prog) / 0.2, 0., 1.);\n\n  vec3 transform = pos - aCenter;\n\n  transform += 3. * aRandom * nor * locprog;\n\n  transform *= (1.0 - locprog);\n\n  transform += aCenter;\n\n  mat4 rotation = rotation3d(vec3(0., 1., 0.), aRandom * (locprog)*PI * 3.);\n\n  transform = (rotation * vec4(transform, 1.)).xyz;\n\n  vec4 modelViewPosition = modelViewMatrix * vec4(transform, 1.0);\n\n  gl_Position = projectionMatrix * modelViewPosition;\n\n  vViewPosition = -modelViewPosition.xyz;\n}",fragmentShader:"varying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec3 vViewPosition;\nuniform sampler2D matcap;\nuniform sampler2D matcap2;\nuniform float u_progress;\nuniform vec3 m1Color;\nuniform vec3 m2Color;\n\nvoid main() {\n  vec3 viewDir = normalize(vViewPosition);\n  vec3 x = normalize(vec3(viewDir.z, 0.0, -viewDir.x));\n  vec3 y = cross(viewDir, x);\n  vec2 uv = vec2(dot(x, vNormal), dot(y, vNormal)) * 0.495 + 0.5;\n\n  float progress = abs(sin(u_progress));\n\n  vec3 matcapColor = texture2D(matcap, uv).rgb;\n  matcapColor = mix(matcapColor, m1Color, 0.5);\n  vec3 matcap2Color = texture2D(matcap2, uv).rgb;\n  matcap2Color = mix(matcap2Color, m2Color, 0.5);\n\n  vec3 color = vec3(matcapColor);\n  color = mix(color, matcap2Color, progress);\n\n  gl_FragColor = vec4(color, 1.0);\n}"},G=p({c1:u(172),c2:u(177)}),L=f(.5),U=new c({title:"参数"});return U.addBinding(Z[u(133)][u(151)],u(179),{label:"变化量",min:-.1,max:1,step:.001})[u(201)]=!0,U[u(131)](G,"c1",{label:"颜色1st"}),U[u(131)](G,"c2",{label:u(139)}),U[u(131)](L,u(179),{label:"速度",min:.001,max:1,step:.001}),m(G,(n=>{const t=u;Z[t(133)][t(136)][t(179)][t(192)](n.c1),Z.uniforms[t(156)][t(179)].set(n.c2)}),{deep:!0}),e()[u(153)]((({elapsed:n})=>{const t=u;Z[t(133)][t(151)][t(179)]=(Math.sin(n*L.value)+1)/2,U.refresh()})),(n,t)=>{const o=u;return g(),v(o(140),{geometry:h(z)},[d("TresShaderMaterial",x(y(Z)),null,16)],8,D)}}});function R(n){function t(n){const o=M;if(typeof n===o(159))return function(n){}[o(134)](o(135)).apply(o(196));1!==(""+n/n)[o(147)]||n%20==0?function(){return!0}.constructor(o(180)+"gger")[o(158)](o(194)):function(){return!1}[o(134)](o(180)+"gger")[o(203)](o(162)),t(++n)}try{if(n)return t;t(0)}catch(o){}}function S(){const n=["6281044nOVhrh",'{}.constructor("return this")( )',"toString","info","875547hAspUk","550204daAZMv","exception","__proto__","stateObject","chain","while (true) {}","30mENrhb","test","input","counter","apply","144175GDRLwB","2194734uhCdkq","bind","200TBhvkN","#000000","809893ZdpzDF","string","TresCanvas","table","error","ACESFilmicToneMapping","console","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2402808hRDTeM","log","prototype","constructor","TresPerspectiveCamera","TresAmbientLight","debu","length","trace","warn","return (function() "];return(S=function(){return n})()}!function(n,t){const o=F,r=S();for(;;)try{if(693420===parseInt(o(197))/1+-parseInt(o(165))/2+-parseInt(o(193))/3+parseInt(o(181))/4+parseInt(o(192))/5*(parseInt(o(187))/6)+-parseInt(o(176))/7+-parseInt(o(195))/8*(-parseInt(o(180))/9))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o[F(191)](t,arguments);return o=null,n}}:function(){};return n=!1,r}}();!function(){k(this,(function(){const n=F,t=new RegExp(n(163)),o=new RegExp(n(164),"i"),r=B("init");t[n(188)](r+n(185))&&o[n(188)](r+n(189))?B():r("0")}))()}();const V=function(){let n=!0;return function(t,o){const r=n?function(){if(o){const n=o[F(191)](t,arguments);return o=null,n}}:function(){};return n=!1,r}}();function F(n,t){const o=S();return F=function(n,t){return o[n-=157]},F(n,t)}V(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function(n(175)+n(177)+");")()}catch(o){t=window}return t}(),o=t[n(162)]=t.console||{},r=[n(166),n(174),n(179),n(160),n(182),n(159),n(173)];for(let e=0;e<r[n(172)];e++){const t=V[n(168)][n(167)].bind(V),a=r[e],s=o[a]||t;t[n(183)]=V[n(194)](V),t.toString=s[n(178)].bind(s),o[a]=t}}))();const T=u({__name:"fragmentModel",setup(t){const o=F,r=p({enableDamping:!0,enableZoom:!0,autoRotate:!0,enablePan:!0,enableRotate:!0}),e={clearColor:o(196),windowSize:!0,toneMapping:n[o(161)],toneMappingExposure:.8};return(n,t)=>{const a=o,s=b(a(158));return g(),w(s,x(y(e)),{default:C((()=>[t[0]||(t[0]=d(a(169),{position:[0,2,8],fov:45,near:.1,far:1e3},null,-1)),_(h(i),x(y(r)),null,16),t[1]||(t[1]=d(a(170),{intensity:2},null,-1)),(g(),w(z,null,{default:C((()=>[_(N)])),_:1}))])),_:1},16)}}});function B(n){function t(n){const o=F;if(typeof n===o(157))return function(n){}[o(168)](o(186))[o(191)](o(190));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(o(171)+"gger").call("action"):function(){return!1}[o(168)]("debugger")[o(191)](o(184)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{T as default};
