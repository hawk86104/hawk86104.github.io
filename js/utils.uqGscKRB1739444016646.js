import{c as t,B as n,r as e,c6 as o,C as r,V as s,a0 as c}from"./three.W6GmiHfn1739444016646.js";import{w as i}from"./@fesjs.sJn9--0s1739444016646.js";import{a}from"./@tresjs.Q4_KYO2a1739444016646.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.QFDNi-ac1739444016646.js";!function(t,n){const e=w,o=m();for(;;)try{if(167356===-parseInt(e(428))/1+-parseInt(e(446))/2+-parseInt(e(413))/3*(parseInt(e(416))/4)+parseInt(e(394))/5*(-parseInt(e(430))/6)+parseInt(e(398))/7+parseInt(e(440))/8+parseInt(e(423))/9*(parseInt(e(450))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(435)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=w,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=_(t(437));n[t(415)](o+t(393))&&e[t(415)](o+t(405))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(435)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["console","center","position","raycast","setAttribute","input","getX","count","return (function() ","boundingBox","material","value","warn","3441vTAPXj","bind","test","548PsvtKc","set","debu","push","random","copy","children","4991967UoPAcw","setFromObject","deleteAttribute","get","add","12691lljkzz","prototype","77904fqjtiV","Box3","geometry","reflectivity","min","apply","gger","init","log","max","89192SrXxkH","Vector3","getY","toString","uniforms","info","477824ZYDolD","divideScalar","transparent","attributes","10kplmqJ","trace","constructor","stateObject","features","call","sub","then","forEach","while (true) {}","action","computeBoundingBox","depthTest","negate","setY","json","getCenter","chain","105AQUHEs","length","__proto__","error","1980650suYbVt","computeBoundsTree"];return(m=function(){return t})()}g(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(408)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(400)]=n.console||{},o=[t(438),t(412),t(445),t(397),"exception","table",t(451)];for(let r=0;r<o.length;r++){const n=g[t(452)][t(429)][t(414)](g),s=o[r],c=e[s]||n;n[t(396)]=g[t(414)](g),n[t(443)]=c.toString[t(414)](c),e[s]=n}}))();const h=(n,e=!1)=>{const o=w;n[o(461)]();const{max:r,min:s}=n[o(409)];n[o(425)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(449)][o(402)].count;t++)e?(a[o(419)]((n[o(449)][o(402)][o(406)](t)-(s.x+r.x)/2)/c),a[o(419)]((n.attributes[o(402)][o(442)](t)-(s.y+r.y)/2)/i)):(a[o(419)]((n[o(449)][o(402)][o(406)](t)-s.x)/c),a.push((n[o(449)][o(402)].getY(t)-s.y)/i));const u=new Float32Array(a);n[o(404)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=w;i(t,{},{method:r(426),mergeRequest:!0,responseType:r(391)})[r(457)]((t=>{const o=r;n&&e(t[n]),e(t[o(454)])})).catch((t=>{console[r(397)](t),o(t)}))}));function w(t,n){const e=m();return(w=function(t,n){return e[t-=391]})(t,n)}const y=t=>{const n=w,e=(new(THREE[n(431)]))[n(424)](t),o=new(THREE[n(441)]);e[n(392)](o),t[n(422)][n(458)]((t=>{const e=n;t[e(402)][e(456)](o)})),t[n(402)][n(421)](o.negate())},x=()=>{const t=w;n[t(429)].computeBoundsTree=u,n[t(429)].disposeBoundsTree=f,e.prototype[t(403)]=p},b=async t=>{const n=w,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(432)].clone();h(i),i[n(399)]();const u=new o(i,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(410)][n(448)]=!0,u[n(410)].depthWrite=!0,u[n(410)][n(462)]=!0,u.material.side=c,u[n(410)][n(444)].config[n(411)].w=20,u[n(410)][n(444)][n(433)][n(411)]=.46,u};function j(t){const n=w,e=[];for(let r=0;r<t[n(395)];r++)e[n(419)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(427)](e[r]);o[n(447)](e.length);for(let r=0;r<e.length;r++)e[r][n(456)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=w;if("string"==typeof t)return function(t){}[e(452)](e(459))[e(435)]("counter");1!==(""+t/t)[e(395)]||t%20==0?function(){return!0}[e(452)](e(418)+"gger")[e(455)](e(460)):function(){return!1}[e(452)](e(418)+e(436)).apply(e(453)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,d as l,h as r,b as s};
