import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.CPptAKz41731055558423.js";import{B as i,V as s,ct as n,ab as e,X as r,h as o,an as a,$ as h,s as c,C as u,_ as l}from"./three.3b9CEYeV1731055558423.js";import{e as p,f as d,F as m}from"./@tresjs.KsuCtVXf1731055558423.js";import{c as g}from"./simplex-noise.Yx8GBgKo1731055558423.js";import{d as f,a3 as y,o as b,D as v,u as x,r as w,j as S,g as _,m as I,F as P}from"./@vue.u2cBPEWn1731055558423.js";import"./index.yQc7Eo1_1731055558423.js";import{_ as M}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.Fsq3VeOw1731055558423.js";import"./three-custom-shader-material.JEUeb9V91731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.7YyvCYch1731055558423.js";import"./all.three.JusmaqcJ1731055558423.js";import"./oimophysics.x0jH7fze1731055558423.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.knjSAXhm1731055558423.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.deNl1w3R1731055558423.js";import"./index.4qvnjoNo1731055558423.js";import"./three-stdlib.l7tW0NL21731055558423.js";import"./@pmndrs.3lOkADtW1731055558423.js";import"./object-hash.Aye5eUi-1731055558423.js";import"./@amap.Gx_2STAs1731055558423.js";import"./jszip.rU4UDkEH1731055558423.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.yTH5pbBI1731055558423.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.1KgNZ1AG1731055558423.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.5o6GzX_j1731055558423.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.uPyyf0YI1731055558423.js";const T=V;!function(t,i){const s=V,n=j();for(;;)try{if(643991===parseInt(s(499))/1*(-parseInt(s(514))/2)+-parseInt(s(540))/3*(-parseInt(s(444))/4)+-parseInt(s(521))/5+-parseInt(s(478))/6*(parseInt(s(480))/7)+parseInt(s(578))/8+parseInt(s(516))/9*(parseInt(s(496))/10)+parseInt(s(520))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const F=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){F(this,(function(){const t=V,i=new RegExp(t(494)),s=new RegExp(t(526),"i"),n=C(t(534));i[t(506)](n+t(594))&&s[t(506)](n+t(435))?C():n("0")}))()}();const R=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[V(598)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function V(t,i){const s=j();return(V=function(t,i){return s[t-=435]})(t,i)}R(void 0,(function(){const t=V;let i;try{i=Function(t(559)+t(517)+");")()}catch(e){i=window}const s=i[t(455)]=i[t(455)]||{},n=[t(524),t(538),t(556),t(568),"exception",t(460),t(448)];for(let r=0;r<n.length;r++){const i=R[t(519)][t(483)][t(557)](R),e=n[r],o=s[e]||i;i[t(440)]=R.bind(R),i[t(599)]=o[t(599)].bind(o),s[e]=i}}))();class A extends i{constructor(t={}){const i=V;super(),this[i(566)]=!0,this[i(525)]="LightningStrike",this[i(534)](A.copyParameters(t,t)),this[i(583)]()}static[T(554)](){const t=T,i=2053,s=[];for(let e=0;e<i;e++)s.push(Math[t(470)]());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(539)]];return n[e(539)]=(n.currentSeed+1)%i,r},getSeed:function(){return n[t(539)]/i},setSeed:function(s){const e=t;n.currentSeed=Math[e(523)](s*i)%i}};return n}static[T(607)](t={},i={}){const n=T,e=function(s){return i===t?s:s[V(589)]()};return t[n(548)]=void 0!==i[n(548)]?e(i[n(548)]):new s(0,100,0),t[n(558)]=void 0!==i[n(558)]?e(i[n(558)]):new s(0,0,0),t.timeScale=void 0!==i[n(565)]?i[n(565)]:1,t[n(461)]=void 0!==i[n(461)]?i[n(461)]:.9,t[n(446)]=void 0!==i.straightness?i[n(446)]:.7,t[n(541)]=void 0!==i.up0?e(i.up0):new s(0,0,1),t.up1=void 0!==i[n(601)]?e(i[n(601)]):new s(0,0,1),t[n(452)]=void 0!==i[n(452)]?i[n(452)]:1,t[n(453)]=void 0!==i[n(453)]?i.radius1:1,t[n(509)]=void 0!==i.radius0Factor?i[n(509)]:.5,t.radius1Factor=void 0!==i[n(501)]?i.radius1Factor:.2,t[n(451)]=void 0!==i[n(451)]?i[n(451)]:.2,t[n(467)]=void 0!==i[n(467)]?i[n(467)]:void 0===i[n(469)]||void 0===i[n(487)],t[n(469)]=i.birthTime,t[n(487)]=i[n(487)],t.propagationTimeFactor=void 0!==i.propagationTimeFactor?i[n(579)]:.1,t.vanishingTimeFactor=void 0!==i.vanishingTimeFactor?i.vanishingTimeFactor:.9,t[n(497)]=void 0!==i.subrayPeriod?i[n(497)]:4,t[n(512)]=void 0!==i[n(512)]?i[n(512)]:.6,t.maxIterations=void 0!==i[n(472)]?i[n(472)]:9,t[n(475)]=void 0!==i[n(475)]&&i[n(475)],t[n(545)]=void 0!==i[n(545)]?i[n(545)]:5,t.maxSubrayRecursion=void 0!==i[n(484)]?i[n(484)]:3,t[n(530)]=void 0!==i[n(530)]?i[n(530)]:.6,t[n(552)]=void 0!==i[n(552)]&&i.generateUVs,t[n(507)]=i[n(507)],t[n(532)]=i[n(532)],t[n(479)]=i[n(479)],t[n(437)]=i[n(437)],t}[T(489)](t){const i=T;this[i(475)]||(this[i(500)].isEternal||this[i(500)].birthTime<=t&&t<=this[i(500)][i(487)]?(this.updateMesh(t),t<this.subrays[0][i(518)]?this[i(584)]=A.RAY_PROPAGATING:t>this[i(447)][0][i(587)]?this[i(584)]=A[i(468)]:this[i(584)]=A[i(486)],this.visible=!0):(this[i(605)]=!1,t<this.rayParameters[i(469)]?this[i(584)]=A[i(505)]:this.state=A[i(441)]))}[T(534)](t){const i=T;this.rayParameters=t,this[i(472)]=void 0!==t[i(472)]?Math[i(523)](t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=void 0!==t[i(475)]&&t[i(475)],t[i(475)]=this[i(475)],this[i(545)]=void 0!==t.ramification?Math[i(523)](t.ramification):5,t[i(545)]=this[i(545)],this[i(484)]=void 0!==t.maxSubrayRecursion?Math.floor(t[i(484)]):3,t[i(484)]=this[i(484)],this[i(530)]=void 0!==t[i(530)]?t.recursionProbability:.6,t[i(530)]=this[i(530)],this[i(552)]=void 0!==t.generateUVs&&t[i(552)],t[i(552)]=this[i(552)],void 0!==t[i(507)]?(this[i(507)]=t[i(507)],this.seedGenerator=t[i(507)],void 0!==t[i(532)]&&this.seedGenerator[i(491)](t[i(532)])):(this[i(507)]=A[i(554)](),this[i(456)]=Math),void 0!==t[i(479)]?this[i(479)]=t[i(479)]:(this[i(611)](),void 0!==t.onSubrayCreation&&(this[i(437)]=t.onSubrayCreation)),this.state=A[i(454)],this.maxSubrays=Math[i(550)](1+Math[i(597)](this[i(545)],Math.max(0,this[i(484)]-1))),t[i(515)]=this[i(515)],this.maxRaySegments=2*(1<<this[i(472)]),this[i(447)]=[];for(let s=0;s<this[i(515)];s++)this[i(447)][i(604)](this[i(490)]());this.raySegments=[];for(let s=0;s<this[i(438)];s++)this.raySegments[i(604)](this[i(443)]());this[i(592)]=0,this.timeFraction=0,this[i(553)]=null,this.currentCreateTriangleVertices=this[i(552)]?this[i(544)]:this[i(600)],this[i(462)]=0,this[i(576)]=null,this[i(463)]=0,this[i(436)]=!1,this[i(488)]=0,this[i(563)]=0,this[i(569)]=0,this[i(581)]=0,this[i(610)]=0,this[i(603)]=null,this.uvs=null,this[i(485)]=null,this[i(551)]=null,this[i(439)]=null,this[i(609)]=g(this[i(456)][i(470)]),this.simplexY=g(this.seedGenerator[i(470)]),this[i(464)]=g(this[i(456)].random),this.forwards=new s,this.forwardsFill=new s,this[i(593)]=new s,this[i(450)]=new s,this[i(457)]=new s,this[i(571)]=new s,this[i(561)]=new s,this[i(449)]=new s,this.cross1=new s}[T(583)](){const t=T,i=1<<this[t(472)],s=3*(i+1)*this[t(515)],o=18*i*this[t(515)];this.vertices=new Float32Array(3*s),this[t(485)]=new Uint32Array(o),this[t(552)]&&(this[t(567)]=new Float32Array(2*s)),this[t(537)](0),this[t(582)](new n(this.indices,1)),this[t(551)]=new e(this.vertices,3),this[t(546)](t(572),this[t(551)]),this[t(552)]&&(this[t(439)]=new e(new Float32Array(this[t(567)]),2),this[t(546)]("uv",this[t(439)])),!this[t(475)]&&(this.index[t(595)]=r,this[t(551)].usage=r,this[t(552)]&&(this[t(439)].usage=r)),this[t(603)]=this[t(551)][t(473)],this[t(485)]=this[t(549)][t(473)],this[t(552)]&&(this[t(567)]=this[t(439)][t(473)])}updateMesh(t){const i=T;this[i(537)](t),this[i(580)][i(445)]=this[i(569)],this[i(549)].needsUpdate=!0,this[i(551)][i(527)]=!0,this[i(552)]&&(this[i(439)][i(527)]=!0)}fillMesh(t){const i=T,s=this;this[i(563)]=0,this[i(569)]=0,this[i(581)]=0,this[i(610)]=0,this[i(560)](t,(function(n){const e=i,r=s.currentSubray;t<r[e(469)]||(this[e(500)].isEternal&&0==s[e(576)][e(555)]?(s[e(606)](n),s[e(479)](n,s)):t<r[e(518)]?s.timeFraction>=n[e(482)]*r[e(579)]&&(s[e(606)](n),s[e(479)](n,s)):t<r[e(587)]?(s[e(606)](n),s[e(479)](n,s)):(s[e(442)]<=r[e(510)]+n.fraction1*(1-r.vanishingTimeFactor)&&s[e(606)](n),s[e(479)](n,s)))}))}[T(543)](){const t=T;return this[t(447)][this[t(462)]++]}[T(522)](t,i){const s=T;t[s(529)][s(547)](i.sourceOffset),t[s(528)].copy(i[s(558)]),t.up0[s(547)](i[s(541)]),t[s(601)][s(547)](i[s(601)]),t[s(452)]=i.radius0,t.radius1=i.radius1,t[s(469)]=i.birthTime,t[s(487)]=i.deathTime,t[s(565)]=i[s(565)],t.roughness=i.roughness,t[s(446)]=i[s(446)],t[s(579)]=i[s(579)],t.vanishingTimeFactor=i[s(510)],t.maxIterations=this[s(472)],t.seed=void 0!==i[s(532)]?i[s(532)]:0,t[s(555)]=0}[T(560)](t,i){const s=T;this[s(592)]=t,this[s(553)]=i,this.numSubrays=0,this.initSubray(this[s(543)](),this[s(500)]);for(let n=0;n<this[s(462)];n++){const i=this[s(447)][n];this[s(576)]=i,this[s(507)][s(491)](i.seed),i.endPropagationTime=o[s(612)](i[s(469)],i[s(487)],i[s(579)]),i[s(587)]=o[s(612)](i.deathTime,i[s(469)],1-i[s(510)]);const e=this[s(507)].random;i.linPos0[s(588)](e(),e(),e())[s(477)](1e3),i[s(492)][s(588)](e(),e(),e())[s(477)](1e3),this.timeFraction=(t-i.birthTime)/(i[s(487)]-i[s(469)]),this[s(463)]=0,this[s(436)]=!0;const r=this[s(535)]();r[s(498)]=0,r[s(529)].copy(i[s(529)]),r[s(528)][s(547)](i[s(528)]),r[s(465)][s(547)](i[s(465)]),r[s(492)][s(547)](i.linPos1),r.up0.copy(i[s(541)]),r.up1[s(547)](i[s(601)]),r[s(452)]=i[s(452)],r[s(453)]=i[s(453)],r[s(482)]=0,r[s(471)]=1,r[s(458)]=1-i[s(446)],this[s(488)]=this.ramification*Math[s(597)](this.recursionProbability,i.recursion)/(1<<i[s(472)]),this.fractalRayRecursive(r)}this[s(553)]=null,this.currentSubray=null}[T(608)](t){const i=T;if(t.iteration>=this[i(576)].maxIterations)return void this.currentSegmentCallback(t);this[i(596)][i(531)](t[i(528)],t[i(529)]);let s=this[i(596)][i(513)]();s<1e-6&&(this[i(596)][i(588)](0,0,.01),s=this[i(596)][i(513)]());const n=.5*(t[i(452)]+t[i(453)]),e=.5*(t[i(482)]+t[i(471)]),r=this[i(592)]*this.currentSubray[i(565)]*Math[i(597)](2,t[i(498)]);this[i(457)][i(508)](t[i(529)],t[i(528)],.5),this[i(571)][i(508)](t[i(465)],t[i(492)],.5);const o=this[i(571)];this[i(561)][i(588)](this.simplexX(o.x,o.y,o.z,r),this.simplexY(o.x,o.y,o.z,r),this[i(464)](o.x,o.y,o.z,r)),this.newPos[i(477)](t.positionVariationFactor*s),this[i(561)][i(474)](this.middlePos);const a=this.getNewSegment();a[i(529)].copy(t.pos0),a[i(528)][i(547)](this[i(561)]),a[i(465)][i(547)](t.linPos0),a[i(492)][i(547)](this[i(571)]),a.up0[i(547)](t[i(541)]),a[i(601)][i(547)](t[i(601)]),a.radius0=t[i(452)],a.radius1=n,a.fraction0=t[i(482)],a[i(471)]=e,a[i(458)]=t[i(458)]*this[i(576)][i(461)],a.iteration=t[i(498)]+1;const h=this.getNewSegment();h.pos0[i(547)](this[i(561)]),h[i(528)][i(547)](t[i(528)]),h.linPos0[i(547)](this.middleLinPos),h[i(492)][i(547)](t[i(492)]),this[i(575)][i(542)](t[i(541)],this.forwards[i(585)]()),h.up0[i(542)](this.forwards,this[i(575)])[i(585)](),h[i(601)].copy(t[i(601)]),h[i(452)]=n,h[i(453)]=t.radius1,h[i(482)]=e,h.fraction1=t.fraction1,h[i(458)]=t[i(458)]*this.currentSubray[i(461)],h[i(498)]=t[i(498)]+1,this[i(608)](a),this[i(608)](h)}[T(606)](t){const i=T;this[i(466)].subVectors(t[i(528)],t[i(529)])[i(585)](),this.isInitialSegment&&(this[i(476)](t[i(529)],t[i(541)],this[i(466)],t[i(452)],0),this[i(436)]=!1),this.currentCreateTriangleVertices(t[i(528)],t[i(541)],this.forwardsFill,t[i(453)],t[i(471)]),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,i,s,n){const e=T;this[e(593)][e(542)](i,s)[e(477)](n*A[e(577)]),this[e(450)][e(547)](i)[e(477)](-n*A[e(590)]);const r=this[e(449)],o=this.vertices;r.copy(t)[e(459)](this[e(593)])[e(474)](this.down),o[this[e(581)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(581)]++]=r.z,r[e(547)](t)[e(474)](this[e(593)])[e(474)](this[e(450)]),o[this[e(581)]++]=r.x,o[this[e(581)]++]=r.y,o[this[e(581)]++]=r.z,r[e(547)](i)[e(477)](n)[e(474)](t),o[this[e(581)]++]=r.x,o[this[e(581)]++]=r.y,o[this.currentCoordinate++]=r.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,i,s,n,e){const r=T;this[r(593)][r(542)](i,s)[r(477)](n*A.COS30DEG),this[r(450)][r(547)](i)[r(477)](-n*A[r(590)]);const o=this[r(449)],a=this.vertices,h=this.uvs;o[r(547)](t).sub(this.side)[r(474)](this.down),a[this[r(581)]++]=o.x,a[this.currentCoordinate++]=o.y,a[this[r(581)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(610)]++]=0,o[r(547)](t).add(this.side)[r(474)](this[r(450)]),a[this[r(581)]++]=o.x,a[this[r(581)]++]=o.y,a[this[r(581)]++]=o.z,h[this[r(610)]++]=e,h[this[r(610)]++]=.5,o[r(547)](i)[r(477)](n).add(t),a[this.currentCoordinate++]=o.x,a[this[r(581)]++]=o.y,a[this.currentCoordinate++]=o.z,h[this[r(610)]++]=e,h[this[r(610)]++]=1,this.currentVertex+=3}[T(502)](t){const i=T,s=this[i(485)];t=this[i(563)]-6,s[this[i(569)]++]=t+1,s[this[i(569)]++]=t+2,s[this.currentIndex++]=t+5,s[this[i(569)]++]=t+1,s[this.currentIndex++]=t+5,s[this[i(569)]++]=t+4,s[this.currentIndex++]=t+0,s[this[i(569)]++]=t+1,s[this[i(569)]++]=t+4,s[this[i(569)]++]=t+0,s[this[i(569)]++]=t+4,s[this.currentIndex++]=t+3,s[this[i(569)]++]=t+2,s[this.currentIndex++]=t+0,s[this[i(569)]++]=t+3,s[this[i(569)]++]=t+2,s[this[i(569)]++]=t+3,s[this.currentIndex++]=t+5}[T(611)](){const t=T,i=this.randomGenerator[t(470)];this[t(479)]=function(s,n){const e=t,r=n[e(576)],a=n[e(500)][e(497)],h=n[e(500)][e(512)],c=n[e(500)][e(467)]&&0==r.recursion?-i()*a:o[e(612)](r[e(469)],r[e(518)],s[e(482)])-i()*a,u=n.time-c,l=Math[e(523)](u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(488)]),r.recursion<n[e(484)]&&n[e(462)]<n[e(515)]&&i()<d){const t=n[e(543)](),o=n[e(507)].getSeed();t[e(573)]=p,n.randomGenerator[e(491)](p),t[e(555)]=r.recursion+1,t.maxIterations=Math[e(586)](1,r.maxIterations-1),t[e(465)][e(588)](i(),i(),i()).multiplyScalar(1e3),t[e(492)].set(i(),i(),i())[e(477)](1e3),t.up0[e(547)](r.up0),t[e(601)][e(547)](r[e(601)]),t[e(452)]=s[e(452)]*n.rayParameters.radius0Factor,t[e(453)]=Math[e(564)](n[e(500)][e(451)],s[e(453)]*n[e(500)][e(501)]),t[e(469)]=c+l*a,t.deathTime=t.birthTime+a*h,!n[e(500)][e(467)]&&0==r[e(555)]&&(t.birthTime=Math[e(586)](t.birthTime,r[e(469)]),t[e(487)]=Math[e(564)](t[e(487)],r.deathTime)),t[e(565)]=2*r[e(565)],t[e(461)]=r.roughness,t.straightness=r[e(446)],t[e(579)]=r.propagationTimeFactor,t.vanishingTimeFactor=r[e(510)],n[e(437)](s,r,t,n),n.randomGenerator[e(491)](o)}};const n=new s,e=new s,r=new s,a=new s;this.onSubrayCreation=function(i,s,n,e){e[t(511)](i,s,n,.5,.6,.2)},this.subrayConePosition=function(s,o,h,c,u,l){const p=t;h[p(529)].copy(s[p(529)]),n[p(531)](o.pos1,o[p(529)]),e[p(547)](n)[p(585)](),n[p(477)](s[p(482)]+(1-s[p(482)])*(i()*c));const d=n[p(513)]();r.crossVectors(o[p(541)],e);const m=2*Math.PI*i();r[p(477)](Math.cos(m)),a.copy(o[p(541)])[p(477)](Math[p(504)](m)),h[p(528)].copy(r).add(a).multiplyScalar(d*u*(l+i()*(1-l)))[p(474)](n)[p(474)](o.pos0)},this[t(511)]=function(s,o,h,c,u,l){const p=t;h[p(529)].copy(s[p(529)]),n[p(531)](o[p(528)],o[p(529)]),e[p(547)](n)[p(585)](),n.multiplyScalar(s[p(482)]+(1-s[p(482)])*((2*i()-1)*c));const d=n[p(513)]();r[p(542)](o[p(541)],e);const m=2*Math.PI*i();r[p(477)](Math[p(533)](m)),a[p(547)](o[p(541)])[p(477)](Math[p(504)](m)),h[p(528)][p(547)](r).add(a).multiplyScalar(d*u*(l+i()*(1-l))).add(n)[p(474)](o[p(529)])}}[T(490)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){const t=T;return this[t(574)][this[t(463)]++]}[T(547)](t){const i=T;return super[i(547)](t),this[i(534)](A.copyParameters({},t.rayParameters)),this}[T(589)](){const t=T;return new(this[t(519)])(A[t(607)]({},this[t(500)]))}}function j(){const t=["currentSegmentCallback","createRandomGenerator","recursion","info","bind","destOffset","return (function() ","fractalRay","newPos","gger","currentVertex","min","timeScale","isLightningStrike","uvs","error","currentIndex","debu","middleLinPos","position","seed","raySegments","cross1","currentSubray","COS30DEG","2606416BZylYQ","propagationTimeFactor","drawRange","currentCoordinate","setIndex","createMesh","state","normalize","max","beginVanishingTime","set","clone","SIN30DEG","counter","time","side","chain","usage","forwards","pow","apply","toString","createTriangleVerticesWithoutUVs","up1","stateObject","vertices","push","visible","createPrism","copyParameters","fractalRayRecursive","simplexX","currentUVCoordinate","createDefaultSubrayCreationCallbacks","lerp","input","isInitialSegment","onSubrayCreation","maxRaySegments","uvsAttribute","__proto__","RAY_EXTINGUISHED","timeFraction","createSegment","216yQELtU","count","straightness","subrays","trace","vPos","down","minRadius","radius0","radius1","RAY_INITIALIZED","console","seedGenerator","middlePos","positionVariationFactor","sub","table","roughness","numSubrays","currentSegmentIndex","simplexZ","linPos0","forwardsFill","isEternal","RAY_VANISHING","birthTime","random","fraction1","maxIterations","array","add","isStatic","currentCreateTriangleVertices","multiplyScalar","837384wEzhUp","onDecideSubrayCreation","7Kxhuxu","while (true) {}","fraction0","prototype","maxSubrayRecursion","indices","RAY_STEADY","deathTime","subrayProbability","update","createSubray","setSeed","linPos1","RAY_PROPAGATING","function *\\( *\\)","action","964540gmsWTM","subrayPeriod","iteration","1hHVjfr","rayParameters","radius1Factor","createPrismFaces","call","sin","RAY_UNBORN","test","randomGenerator","lerpVectors","radius0Factor","vanishingTimeFactor","subrayCylinderPosition","subrayDutyCycle","length","140066zsazJY","maxSubrays","27aVqqjw",'{}.constructor("return this")( )',"endPropagationTime","constructor","8879497sDMmtZ","5013195yGOLfm","initSubray","floor","log","type","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","needsUpdate","pos1","pos0","recursionProbability","subVectors","noiseSeed","cos","init","getNewSegment","string","fillMesh","warn","currentSeed","24102OMQegg","up0","crossVectors","addNewSubray","createTriangleVerticesWithUVs","ramification","setAttribute","copy","sourceOffset","index","ceil","positionAttribute","generateUVs"];return(j=function(){return t})()}function C(t){function i(t){const s=V;if(typeof t===s(536))return function(t){}[s(519)](s(481))[s(598)](s(591));1!==(""+t/t)[s(513)]||t%20==0?function(){return!0}[s(519)](s(570)+"gger")[s(503)](s(495)):function(){return!1}[s(519)]("debu"+s(562))[s(598)](s(602)),i(++t)}try{if(t)return i;i(0)}catch(s){}}A[T(454)]=0,A.RAY_UNBORN=1,A[T(493)]=2,A.RAY_STEADY=3,A[T(468)]=4,A[T(441)]=5,A[T(577)]=Math[T(533)](30*Math.PI/180),A[T(590)]=Math.sin(30*Math.PI/180);const z=H;function L(){const t=["minHeight","set","__proto__","6258wJRVku","error","copy","stormParams","onLightningDown","onRayPosition","random","gger","isLightningStorm","lightningsMeshes","noiseSeed","trace","exception","isEternal","debu","bind","geometry","390sUHcnt","log","deadLightningsMeshes","2055AAxfuZ","4209rpsXkB","lightningMaterial","push","2eoZLfK","test","lightningMinDuration","inited","table","deathTime","6288534hcSuAg","RAY_EXTINGUISHED","copyParameters","constructor","maxSlope","splice","maxHeight","2513920iYaDzb","add","indexOf","call","getNextLightningTime","update","lightningParameters","stateObject","string","console","size","toString","lerp","chain","774883ghBeJy","lightningMaxDuration","input","apply","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","length","pop","nextLightningTime","return (function() ","function *\\( *\\)","215352cuQeQo","186129UjOobH","RAY_PROPAGATING","clone","maxLightnings","lightningMinPeriod","state","lightningMaxPeriod","warn","2739YypDFR","2260bUlizM","action"];return(L=function(){return t})()}!function(t,i){const s=H,n=L();for(;;)try{if(453142===-parseInt(s(302))/1*(parseInt(s(275))/2)+parseInt(s(272))/3*(-parseInt(s(324))/4)+-parseInt(s(271))/5*(parseInt(s(251))/6)+-parseInt(s(281))/7+-parseInt(s(288))/8+-parseInt(s(315))/9*(parseInt(s(268))/10)+parseInt(s(323))/11*(parseInt(s(314))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[H(305)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){D(this,(function(){const t=H,i=new RegExp(t(313)),s=new RegExp(t(307),"i"),n=N("init");i[t(276)](n+t(301))&&s[t(276)](n+t(304))?N():n("0")}))()}();const G=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[H(305)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function H(t,i){const s=L();return(H=function(t,i){return s[t-=247]})(t,i)}G(void 0,(function(){const t=H,i=function(){const t=H;let i;try{i=Function(t(312)+'{}.constructor("return this")( ));')()}catch(s){i=window}return i}(),s=i.console=i[t(297)]||{},n=[t(269),t(322),t(308),t(252),t(263),t(279),t(262)];for(let e=0;e<n[t(309)];e++){const i=G[t(284)].prototype.bind(G),r=n[e],o=s[r]||i;i[t(250)]=G.bind(G),i.toString=o[t(299)][t(266)](o),s[r]=i}}))();class E extends a{constructor(t={}){const i=H;super(),this[i(259)]=!0,this[i(254)]=t,t[i(298)]=void 0!==t[i(298)]?t[i(298)]:1e3,t[i(248)]=void 0!==t[i(248)]?t[i(248)]:80,t[i(287)]=void 0!==t[i(287)]?t.maxHeight:100,t[i(285)]=void 0!==t[i(285)]?t.maxSlope:1.1,t[i(318)]=void 0!==t[i(318)]?t[i(318)]:3,t[i(319)]=void 0!==t[i(319)]?t[i(319)]:3,t[i(321)]=void 0!==t[i(321)]?t[i(321)]:7,t[i(277)]=void 0!==t.lightningMinDuration?t[i(277)]:1,t.lightningMaxDuration=void 0!==t[i(303)]?t[i(303)]:2.5,this[i(294)]=A[i(283)](t[i(294)],t[i(294)]),this[i(294)][i(264)]=!1,this[i(273)]=void 0!==t[i(273)]?t[i(273)]:new h({color:11599871}),void 0!==t[i(256)]?this.onRayPosition=t.onRayPosition:this.onRayPosition=function(s,n){const e=i;n[e(249)]((Math.random()-.5)*t[e(298)],0,(Math.random()-.5)*t.size);const r=o[e(300)](t.minHeight,t[e(287)],Math.random());s[e(249)](t[e(285)]*(2*Math[e(257)]()-1),1,t[e(285)]*(2*Math[e(257)]()-1)).multiplyScalar(r).add(n)},this[i(255)]=t[i(255)],this[i(278)]=!1,this[i(311)]=0,this.lightningsMeshes=[],this.deadLightningsMeshes=[];for(let s=0;s<this[i(254)].maxLightnings;s++){const t=new A(A[i(283)]({},this.lightningParameters)),s=new c(t,this[i(273)]);this[i(270)][i(274)](s)}}[z(293)](t){const i=z;if(!this[i(278)]&&(this[i(311)]=this[i(292)](t)*Math[i(257)](),this[i(278)]=!0),t>=this[i(311)]){const s=this[i(270)][i(310)]();if(s){const n=A.copyParameters(s.geometry.rayParameters,this[i(294)]);n.birthTime=t,n[i(280)]=t+o[i(300)](this[i(254)][i(277)],this[i(254)].lightningMaxDuration,Math.random()),this[i(256)](n.sourceOffset,n.destOffset),n[i(261)]=Math.random(),this[i(289)](s),this[i(260)][i(274)](s)}this.nextLightningTime=this.getNextLightningTime(t)}let s=0,n=this.lightningsMeshes.length;for(;s<n;){const e=this[i(260)][s],r=e[i(267)],o=r[i(320)];r[i(293)](t),o===A[i(316)]&&r[i(320)]>o&&this[i(255)]&&this[i(255)](r),r[i(320)]===A[i(282)]?(this[i(260)][i(286)](this.lightningsMeshes[i(290)](e),1),this[i(270)][i(274)](e),this.remove(e),n--):s++}}getNextLightningTime(t){const i=z;return t+o[i(300)](this[i(254)].lightningMinPeriod,this[i(254)][i(321)],Math.random())/(this[i(254)].maxLightnings+1)}[z(253)](t,i){const s=z;return super[s(253)](t,i),this[s(254)].size=t[s(254)][s(298)],this[s(254)][s(248)]=t[s(254)][s(248)],this[s(254)][s(287)]=t[s(254)][s(287)],this[s(254)][s(285)]=t.stormParams[s(285)],this.stormParams.maxLightnings=t[s(254)][s(318)],this[s(254)].lightningMinPeriod=t[s(254)][s(319)],this.stormParams[s(321)]=t[s(254)][s(321)],this.stormParams[s(277)]=t[s(254)][s(277)],this[s(254)][s(303)]=t.stormParams.lightningMaxDuration,this[s(294)]=A[s(283)]({},t[s(294)]),this[s(273)]=t[s(254)].lightningMaterial,this.onLightningDown=t.onLightningDown,this}[z(317)](){const t=z;return new(this[t(284)])(this.stormParams)[t(253)](this)}}function N(t){function i(t){const s=H;if(typeof t===s(296))return function(t){}[s(284)](s(306)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[s(284)](s(265)+s(258))[s(291)](s(247)):function(){return!1}[s(284)](s(265)+"gger").apply(s(295)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const O=U;function U(t,i){const s=Y();return(U=function(t,i){return s[t-=385]})(t,i)}function Y(){const t=["string","init","info","color","test","update","toString","multiplyScalar","stateObject","subrayPeriod","7uguPpq","Vector3","5lTsLbP","8957238yzXLUi","input","chain","warn","apply","sourceOffset","107mVecrt","trace","call","table","4740120VfmLsj","6470544TNpLhd","subVectors","timeScale","sub","maxHeight","67520etnhJk","gger","pos1","lightStorm","copy","size","14838lqBfBQ","subrayDutyCycle","length","function *\\( *\\)","MeshBasicMaterial","while (true) {}",'{}.constructor("return this")( )',"addVectors","radius1","constructor","error","maxLightnings","prototype","7564012kgtmcQ","stormParams","minHeight","128922zwtLQx","set","4895vFCrVA","radius0","rayParameters","bind","add","exception","roughness","return (function() ","console"];return(Y=function(){return t})()}!function(t,i){const s=U,n=Y();for(;;)try{if(963875===-parseInt(s(385))/1*(parseInt(s(401))/2)+parseInt(s(417))/3+parseInt(s(414))/4*(parseInt(s(440))/5)+-parseInt(s(441))/6*(-parseInt(s(438))/7)+parseInt(s(390))/8+parseInt(s(389))/9+parseInt(s(395))/10*(-parseInt(s(419))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const k=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){k(this,(function(){const t=U,i=new RegExp(t(404)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=X(t(429));i[t(432)](n+t(443))&&s[t(432)](n+t(442))?X():n("0")}))()}();const B=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();B(void 0,(function(){const t=U,i=function(){const t=U;let i;try{i=Function(t(426)+t(407)+");")()}catch(s){i=window}return i}(),s=i[t(427)]=i[t(427)]||{},n=["log",t(444),t(430),t(411),t(424),t(388),t(386)];for(let e=0;e<n[t(403)];e++){const i=B[t(410)][t(413)][t(422)](B),r=n[e],o=s[r]||i;i.__proto__=B.bind(B),i[t(434)]=o[t(434)].bind(o),s[r]=i}}))();const Z=["object"],Q=f({__name:O(398),props:{color:{default:"#b0ffff"},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=O,n=t,e=new u(n[i(431)]),r=new(l[i(405)])({color:e}),o=new(l[i(439)])(0,-1,0);let a=0;const h=new(l[i(439)]),c=new s,d={roughness:n[i(425)],straightness:n.straightness,radius0:n[i(420)],radius1:n[i(409)],timeScale:n[i(392)],subrayPeriod:n[i(437)],subrayDutyCycle:n[i(402)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e.subrayConePosition(t,s,n,.6,.6,.5),a=e[r(421)][r(446)].y,h[r(391)](n[r(397)],e[r(421)][r(446)]);const u=o.dot(h);c[r(399)](o)[r(435)](u),h[r(393)](c);const l=u/a>.5?a/u:1;c.multiplyScalar(l),h[r(423)](c),n.pos1[r(408)](h,e[r(421)].sourceOffset)}},m=new E({size:n[i(400)],minHeight:n[i(416)],maxHeight:n[i(394)],maxSlope:.6,maxLightnings:n[i(412)],lightningParameters:d,lightningMaterial:r});y((()=>{const t=i,s=m[t(415)];s.size=n[t(400)],s.minHeight=n[t(416)],s[t(394)]=n[t(394)],r.color[t(418)](n.color),d[t(425)]=n.roughness,d.straightness=n.straightness,d[t(420)]=n[t(420)],d[t(409)]=n.radius1,d[t(392)]=n.timeScale}));const{onLoop:g}=p();return g((({elapsed:t})=>{m[i(433)](t)})),(t,i)=>(b(),v("primitive",{object:x(m),renderOrder:9999},null,8,Z))}});function X(t){function i(t){const s=U;if(typeof t===s(428))return function(t){}[s(410)](s(406))[s(445)]("counter");1!==(""+t/t)[s(403)]||t%20==0?function(){return!0}[s(410)]("debu"+s(396))[s(387)]("action"):function(){return!1}[s(410)]("debu"+s(396))[s(445)](s(436)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const $=K;!function(t,i){const s=K,n=J();for(;;)try{if(177573===parseInt(s(284))/1*(parseInt(s(309))/2)+parseInt(s(300))/3*(-parseInt(s(283))/4)+-parseInt(s(277))/5+-parseInt(s(308))/6+-parseInt(s(265))/7+-parseInt(s(297))/8*(-parseInt(s(304))/9)+parseInt(s(269))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const q=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(311)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){q(this,(function(){const t=K,i=new RegExp(t(298)),s=new RegExp(t(271),"i"),n=it("init");i[t(263)](n+t(264))&&s.test(n+"input")?it():n("0")}))()}();const W=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function J(){const t=["bind","radius0","8vPwvkh","123238BBkQvd","warn","timeScale","color","未部半径","#ffbde7","error","console","info","counter","log","时间缩放","粗糙度","29504qCBGnq","function *\\( *\\)","call","355926syXBRP","__proto__","constructor","trace","666BUbXNB","radius1","action","exception","241266oYqKRQ","2LoWuFt","return (function() ","apply",'{}.constructor("return this")( )',"test","chain","1825012VpbpRD","prototype","maxHeight","straightness","3727910hoCGes","roughness","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","table","minHeight","lightningStorm","gger","265785xYvvZI","length","toString","value"];return(J=function(){return t})()}function K(t,i){const s=J();return(K=function(t,i){return s[t-=263]})(t,i)}W(void 0,(function(){const t=K,i=function(){const t=K;let i;try{i=Function(t(310)+t(312)+");")()}catch(s){i=window}return i}(),s=i[t(291)]=i[t(291)]||{},n=[t(294),t(285),t(292),t(290),t(307),t(273),t(303)];for(let e=0;e<n[t(278)];e++){const i=W[t(302)][t(266)][t(281)](W),r=n[e],o=s[r]||i;i[t(301)]=W[t(281)](W),i[t(279)]=o[t(279)][t(281)](o),s[r]=i}}))();const tt=f({__name:$(275),setup(i){const s=$,n=w({cellSize:60,cellThickness:1,cellColor:"#6f6f6f",sectionColor:"#92399e",sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(289),roughness:{label:s(296),value:.85,min:0,max:1,step:.01},straightness:{label:"直度度",value:.65,min:0,max:1,step:.01},radius0:{label:"端部半径",value:1,min:.1,max:10,step:.01},radius1:{label:s(288),value:.5,min:.1,max:10,step:.01},timeScale:{label:s(295),value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const d=s;return b(),v(P,null,[S(t,{showAxesHelper:!1,showGridHelper:!1},{ability:_((()=>[S(Q,{minHeight:x(e).value,maxHeight:x(r).value,color:x(o)[d(280)],roughness:x(a)[d(280)],straightness:x(h)[d(280)],radius0:x(c)[d(280)],radius1:x(u)[d(280)],timeScale:x(l)[d(280)]},null,8,[d(274),d(267),d(287),d(270),d(268),d(282),d(305),d(286)]),S(x(M),I({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),S(x(m))],64)}}});function it(t){function i(t){const s=K;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[s(311)](s(293));1!==(""+t/t)[s(278)]||t%20==0?function(){return!0}[s(302)](s(272)+s(276))[s(299)](s(306)):function(){return!1}[s(302)]("debu"+s(276))[s(311)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{tt as default};
