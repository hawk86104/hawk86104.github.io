import{c8 as t,a3 as n,s as e,t as r}from"./three.1FILWcBb1734746792122.js";import{b as o}from"./@tresjs.vA_UT8oy1734746792122.js";import{R as s,b as i}from"./all.three.EfBg0caK1734746792122.js";import{d as c,a6 as a,a3 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.-THQH3GC1734746792122.js";function w(t,n){const e=y();return(w=function(t,n){return e[t-=170]})(t,n)}const m=w;!function(t,n){const e=w,r=y();for(;;)try{if(769905===parseInt(e(174))/1*(-parseInt(e(219))/2)+parseInt(e(198))/3*(parseInt(e(183))/4)+-parseInt(e(229))/5*(parseInt(e(177))/6)+parseInt(e(204))/7+-parseInt(e(191))/8*(parseInt(e(189))/9)+parseInt(e(228))/10*(parseInt(e(182))/11)+parseInt(e(197))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(193)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function y(){const t=["reflectivity","144468sNmsCo","warn","112BANlRh","debu","apply","tReflectBlur","tReflect","value","3602604YETnzH","3qXAuZU","__proto__",'{}.constructor("return this")( )',"onBeforeRender","console","uReflectivity","7908481UfFnfy","isMesh","visible","primitive","mapUrl","add","forEach","scale","renderTargetUniform","function *\\( *\\)","constructor","input","size","bind","texture","4jANIvn","TresGroup","uniforms","test","log","prototype","set","showGridHelper","length","60JfnWPr","2102735JkehXg","object","exception","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uMatrix","renderTarget","reflectorDUDV","table","chain","440971xwyYid","error","gger","6WiKyVc","textureMatrixUniform","init","stateObject","ignoreObjects","1171896JlsUcq","911624EJwwxR","string","repeat","call","action"];return(y=function(){return t})()}!function(){g(this,(function(){const t=w,n=new RegExp(t(213)),e=new RegExp(t(233),"i"),r=R(t(179));n[t(222)](r+t(173))&&e[t(222)](r+t(215))?R():r("0")}))()}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();b(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(232)+t(200)+");")()}catch(e){n=window}return n}(),e=n[t(202)]=n[t(202)]||{},r=[t(223),t(190),"info",t(175),t(231),t(172),"trace"];for(let o=0;o<r.length;o++){const n=b[t(214)][t(224)][t(217)](b),s=r[o],i=e[s]||n;n[t(199)]=b.bind(b),n.toString=i.toString[t(217)](i),e[s]=n}}))();const v=[m(211)],I=[m(230)],j=[m(230)],x=c({__name:m(171),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const g=m;let y,b;const x=c,R=new s,_=new t(x.size[0]-.5,x[g(216)][1]);_[g(206)]=x[g(226)];const{map:U}=([y,b]=a((()=>o({map:x[g(208)]}))),y=await y,b(),y);U.wrapS=n,U.wrapT=n,U[g(185)][g(225)](6,3);const z=new i({map:U,reflectivity:x[g(188)]});z[g(221)][g(195)]={value:R[g(170)][g(218)]},z[g(221)][g(194)]=R[g(212)],z[g(221)][g(234)]=R[g(178)];const T=new e(new r(x[g(216)][0],x[g(216)][1]),z);return T.rotation.x=-Math.PI/2,T[g(209)](R),T[g(201)]=(t,n,e)=>{const r=g;T[r(206)]=!1,x[r(181)][r(210)]((t=>{const n=r;t[n(205)]&&(t.visible=!1),t[n(196)]&&t.value[n(205)]&&(t[n(196)][n(206)]=!1)})),R.update(t,n,e),x[r(181)][r(210)]((t=>{const n=r;t[n(205)]&&(t.visible=!0),t[n(196)]&&t[n(196)][n(205)]&&(t[n(196)][n(206)]=!0)})),T[r(206)]=!0},u((()=>{const t=g;x[t(188)]&&(z.uniforms[t(203)][t(196)]=x.reflectivity)})),f((()=>x.showGridHelper),(t=>{_[g(206)]=t})),w({reflector:R}),(t,n)=>{const e=g;return l(),p(e(220),{scale:x[e(211)]},[d(e(207),{object:h(T),"position-y":-.01},null,8,I),d(e(207),{object:h(_)},null,8,j)],8,v)}}});function R(t){function n(t){const e=w;if(typeof t===e(184))return function(t){}[e(214)]("while (true) {}")[e(193)]("counter");1!==(""+t/t)[e(227)]||t%20==0?function(){return!0}[e(214)](e(192)+e(176))[e(186)](e(187)):function(){return!1}[e(214)](e(192)+e(176))[e(193)](e(180)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
