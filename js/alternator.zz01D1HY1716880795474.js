var M=Object.defineProperty;var P=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var L=(t,e,o)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,C=(t,e)=>{for(var o in e||(e={}))N.call(e,o)&&L(t,o,e[o]);if(P)for(var o of P(e))U.call(e,o)&&L(t,o,e[o]);return t};import{ea as K,bm as J,a1 as w,o as _,c as g,Y as n,G as E,ak as T,eb as R,aD as h,a7 as W,L as l,a as b,a9 as B,v as F,$ as Z,Z as G,cL as I,_ as V,a2 as H,l as q,w as A,E as k,aa as Y,ab as Q,b4 as X,ac as x,x as ee,ag as te}from"./vendor.9G8CKric1716880795474.js";import{l as oe,a as $}from"./utils.yc-MnZuE1716880795474.js";/* empty css                                                                                 */import{l as ne}from"./cssLoaders.mROknNSH1716880795474.js";import{n as ie,u as se,a as re,b as ce,c as ae,P as le,d as z,g as pe,e as de,f as ue}from"./index.s0o6lBUH1716880795474.js";import"./_commonjsHelpers.5-cIlDoe1716880795474.js";import"./_commonjs-dynamic-modules.h-SxKiO41716880795474.js";import"./index.HCo4Abnh1716880795474.js";import"./index.25xkV9lJ1716880795474.js";import"./index.2tEw-nFV1716880795474.js";import"./OrbitControls.JrIu5iro1716880795474.js";import"./index.A-uui1DV1716880795474.js";import"./axios.hy2BcW2f1716880795474.js";window.THREE=K;const u={scene:null,renderer:null,camera:null,sizes:null},c={get renderer(){var t;return(t=u.renderer)==null?void 0:t.value},loader:new J,get scene(){var t;return(t=u.scene)==null?void 0:t.value},get camera(){var t;return(t=u.camera)==null?void 0:t.value},get width(){var t,e;return(e=(t=u.sizes)==null?void 0:t.width)==null?void 0:e.value},get height(){var t,e;return(e=(t=u.sizes)==null?void 0:t.height)==null?void 0:e.value},get dom(){var t;return(t=u.renderer)==null?void 0:t.value.domElement.parentElement},get canvas(){var t;return(t=u.renderer)==null?void 0:t.value.domElement},events:{},init(t,e,o,i){u.scene=t,u.renderer=e,u.camera=o,u.sizes=i},load(t){const e={};this.events={init:[],start:[],stop:[],keydown:[],keyup:[],pointerdown:[],pointerup:[],pointermove:[],update:[]};let o="player,renderer,scene,camera";const i={};for(const a in this.events)o+=",".concat(a),i[a]=a;const j=JSON.stringify(i).replace(/\"/g,"");for(const a in e){let m=a;a===t.uuid&&(m=this.scene.uuid);const v=this.scene.getObjectByProperty("uuid",m,!0);if(v===void 0){console.warn("player: Script without object.",m);continue}const p=e[a];for(let r=0;r<p.length;r++){const y=p[r],d=new Function(o,"".concat(y.source,"\nreturn ").concat(j,";")).bind(v)(this,this.renderer,this.scene,this.camera);for(const s in d)if(d[s]!==void 0){if(this.events[s]===void 0){console.warn("player: Event type not supported (",s,")");continue}this.events[s].push(d[s].bind(v))}}this.dispatch(this.events.init,arguments)}},dispatch(t,e){for(let o=0,i=t.length;o<i;o++)t[o](e)},setCamera(t){console.warn("暂时不考虑摄像机的设置函数",t)},setScene(t){console.warn("暂时不考虑场景的设置函数",t)},setPixelRatio(t){console.warn("暂时不考虑像素比的设置函数",t)},setSize(t){console.warn("暂时不考虑尺寸的设置函数",t)},dispose(){console.warn("暂时不考虑释放资源的函数")},onKeyDown(t){c.dispatch(c.events.keydown,t)},onKeyUp(t){c.dispatch(c.events.keyup,t)},onPointerDown(t){c.dispatch(c.events.pointerdown,t)},onPointerUp(t){c.dispatch(c.events.pointerup,t)},onPointerMove(t){c.dispatch(c.events.pointermove,t)},play(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("pointerdown",this.onPointerDown),document.addEventListener("pointerup",this.onPointerUp),document.addEventListener("pointermove",this.onPointerMove),this.dispatch(this.events.start,null)},stop(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("pointerdown",this.onPointerDown),document.removeEventListener("pointerup",this.onPointerUp),document.removeEventListener("pointermove",this.onPointerMove),this.dispatch(this.events.stop,arguments)},render(t,e){this.dispatch(this.events.update,{time:t,delta:e})}},me=["object"],be=w({__name:"firstLevel-86e5869a71b5",props:{object:{}},setup(t){return(e,o)=>(_(),g("primitive",{object:e.object[0]},null,8,me))}}),je=["object"],ve=["object"],he=["object"],_e=["object"],fe=["object"],ge=["object"],we=["object"],ye=["object"],Ce=["object"],Ee=["object"],Se=["object"],Pe=["object"],Le=["object"],ke=["object"],$e=["object"],ze=["object"],Re=["object"],Oe=["object"],De=["object"],Me=["object"],Ne=["object"],Ue=["object"],Ke=["object"],Je=["object"],Te=["object"],We=["object"],Be=["object"],Fe=["object"],Ze=["object"],Ge=["object"],Ie=["object"],Ve=w({__name:"firstLevel-da662feb67b1",props:{object:{}},setup(t){return(e,o)=>(_(),g(E,null,[n("primitive",{object:e.object[0]},null,8,je),n("primitive",{object:e.object[1]},null,8,ve),n("primitive",{object:e.object[2]},null,8,he),n("primitive",{object:e.object[3]},null,8,_e),n("primitive",{object:e.object[4]},null,8,fe),n("primitive",{object:e.object[5]},null,8,ge),n("primitive",{object:e.object[6]},null,8,we),n("primitive",{object:e.object[7]},null,8,ye),n("primitive",{object:e.object[8]},null,8,Ce),n("primitive",{object:e.object[9]},null,8,Ee),n("primitive",{object:e.object[10]},null,8,Se),n("primitive",{object:e.object[11]},null,8,Pe),n("primitive",{object:e.object[12]},null,8,Le),n("primitive",{object:e.object[13]},null,8,ke),n("primitive",{object:e.object[14]},null,8,$e),n("primitive",{object:e.object[15]},null,8,ze),n("primitive",{object:e.object[16]},null,8,Re),n("primitive",{object:e.object[17]},null,8,Oe),n("primitive",{object:e.object[18]},null,8,De),n("primitive",{object:e.object[19]},null,8,Me),n("primitive",{object:e.object[20]},null,8,Ne),n("primitive",{object:e.object[21]},null,8,Ue),n("primitive",{object:e.object[22]},null,8,Ke),n("primitive",{object:e.object[23]},null,8,Je),n("primitive",{object:e.object[24]},null,8,Te),n("primitive",{object:e.object[25]},null,8,We),n("primitive",{object:e.object[26]},null,8,Be),n("primitive",{object:e.object[27]},null,8,Fe),n("primitive",{object:e.object[28]},null,8,Ze),n("primitive",{object:e.object[29]},null,8,Ge),n("primitive",{object:e.object[30]},null,8,Ie)],64))}}),He=["object"],qe=["object"],Ae=["object"],Ye=["object"],Qe=w({__name:"scene",async setup(t){let e,o;const{scene:i,renderer:j,camera:a,sizes:m}=T();c.init(i,j,a,m);const v=new R,p=([e,o]=h(()=>oe("./plugins/industry4/alternator/json/scene.json")),e=await e,o(),e);if(p.geometries){const d=([e,o]=h(()=>$("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/alternator/geometries.zip")),e=await e,o(),e);for(const s of p.geometries)if(s.data&&s.data.startsWith("url:")){let f=s.data.slice(4);s.data=JSON.parse(([e,o]=h(()=>d.files[f].async("string")),e=await e,o(),e))}}if(p.images){const d=([e,o]=h(()=>$("./plugins/industry4/alternator/images.zip")),e=await e,o(),e);for(const s of p.images)if(s.url&&s.url.startsWith("url:")){let f=s.url.slice(4);if(f.endsWith(".json"))s.url=JSON.parse(([e,o]=h(()=>d.files[f].async("string")),e=await e,o(),e));else{const O=([e,o]=h(()=>d.files[f].async("base64")),e=await e,o(),e),S=f.split("."),D=S[S.length-1].toUpperCase();s.url="data:image/".concat(D,";base64,").concat(O)}}}const r=v.parse(p);W(()=>{i.value.background=r.background,i.value.environment=r.environment,i.value.fog=r.fog,c.load(r),c.play()});const{onLoop:y}=B();return y(({delta:d,elapsed:s})=>{c.renderer&&c.render(s*1e3,d*1e3)}),(d,s)=>(_(),g(E,null,[n("primitive",{object:l(r).children[0]},null,8,He),n("primitive",{object:l(r).children[1]},[b(be,{object:l(r).children[1].children},null,8,["object"])],8,qe),n("primitive",{object:l(r).children[2]},[b(Ve,{object:l(r).children[2].children},null,8,["object"])],8,Ae),n("primitive",{object:l(r).children[3]},null,8,Ye)],64))}}),Xe=w({__name:"airportChart",async setup(t){let e,o;window.$vue.use(ie),[e,o]=h(()=>pe()),await e,o();const i=se(),j=F(()=>C(C({overflow:"hidden"},de(i.editCanvasConfig)),ue(i.editCanvasConfig)));re(i);const{previewRef:a}=ce(i),{show:m}=ae(i);return(v,p)=>(_(),g("div",{class:I("go-preview ".concat(l(i).editCanvasConfig.previewScaleType)),style:{"pointer-events":"none"},onMousedown:p[0]||(p[0]=(...r)=>l(z)&&l(z)(...r))},[n("div",{ref_key:"previewRef",ref:a,class:"go-preview-scale"},[l(m)?(_(),g("div",{key:0,style:Z(j.value)},[b(l(le))],4)):G("",!0)],512)],34))}}),xe=V(Xe,[["__scopeId","data-v-a6ff08e1"]]),bt=w({__name:"alternator",setup(t){const e=H({clearColor:"#201919",windowSize:!0,antialias:!0,shadows:!0,shadowMapType:1,toneMapping:4,toneMappingExposure:1}),o={metadata:{version:4.6,type:"Object",generator:"Object3D.toJSON"},object:{type:"PerspectiveCamera",name:"Camera",layers:1,matrix:[.913136019977033,-13877787807814457e-33,.4076550122597582,0,.14727121903745338,.9324634451239355,-.3298834817792847,0,-.3801233971537743,.3612643402103247,.851465959054543,0,-3.2597835600761362,3.636647435981188,6.776103699335103,1],up:[0,1,0],fov:50,zoom:1,near:.01,far:1e3,focus:10,aspect:1.262730627306273,filmGauge:35,filmOffset:0}},j=new R().parse(o),a=q(null);return A(()=>a.value,m=>{m.copy(j)}),(m,v)=>(_(),g(E,null,[b(l(ne)),b(l(X),Y(Q(e)),{default:k(()=>[b(l(x)),n("TresPerspectiveCamera",{ref_key:"cameraRef",ref:a,uuid:"1c22773e-eb46-4708-b3bd-2baf29ac5cb3",name:"Camera"},null,512),(_(),ee(te,null,{default:k(()=>[b(Qe)]),_:1}))]),_:1},16),b(xe)],64))}});export{bt as default};
