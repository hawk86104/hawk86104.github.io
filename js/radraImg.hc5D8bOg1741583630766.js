import{a as t,m as n,o as e}from"./@tresjs.ZmhvXhx31741583630766.js";import{_ as o,Y as r,b as i}from"./three.sQDbNBks1741583630766.js";import{h as s,_ as c}from"./three-tile.WkCIxCrw1741583630766.js";import{_ as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.tnaqcoD-1741583630766.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as g,r as d,b as y,f as b,g as I,j as w,m as _,al as j,F as v,e as x,aj as S,ak as T}from"./@vue.NRI7TcgI1741583630766.js";import{P as D}from"./tweakpane.yDiyAAkA1741583630766.js";import{_ as M}from"./informationDiv.Pghl_Oqt1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";import"./@fesjs.0Tn1apcA1741583630766.js";import"./vue-router.bRqEeVtN1741583630766.js";import"./lodash-es.pklfUAS51741583630766.js";import"./@qlin.yHhFDldE1741583630766.js";import"./pinia.GzvRmFm31741583630766.js";import"./@floating-ui.BPbuo5Gx1741583630766.js";import"./@juggle.7yjBMqoW1741583630766.js";function z(){const t=["bind","map","stateObject","applyMatrix4","input","toString","action","geo2pos","console","function *\\( *\\)","table","2373010ODDbJB","DoubleSide","14mAgjzI","position-y","matrix","test","call","18ARNQZn","gger","init","apply","info","10hBUqPU","height","chain","debu","11022894daamou","TresGroup","exception","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","log","670079BzVcTY",'{}.constructor("return this")( )',"replace","5617728LLGNTq","constructor","color","2477320tvXVgz","length","107157jaYbyF","opacity","push","812568YyabBD","scaleImg","material","error","string","needsUpdate","vertexShader","TresPlaneGeometry","scale","warn","__proto__","#include <displacementmap_vertex>","radraImgShow","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MeshPhongMaterial"];return(z=function(){return t})()}const A=R;!function(t,n){const e=R,o=z();for(;;)try{if(515372===-parseInt(e(194))/1+parseInt(e(180))/2*(parseInt(e(202))/3)+-parseInt(e(205))/4+-parseInt(e(173))/5+parseInt(e(197))/6+-parseInt(e(175))/7*(parseInt(e(200))/8)+parseInt(e(189))/9*(parseInt(e(185))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=R,n=new RegExp(t(171)),e=new RegExp(t(160),"i"),o=G(t(182));n[t(178)](o+t(187))&&e.test(o+t(166))?G():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(183)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=R;let n;try{n=Function("return (function() "+t(195)+");")()}catch(r){n=window}const e=n[t(170)]=n.console||{},o=[t(193),t(156),t(184),t(208),t(191),t(172),"trace"];for(let i=0;i<o[t(201)];i++){const n=B.constructor.prototype[t(162)](B),r=o[i],s=e[r]||n;n[t(157)]=B[t(162)](B),n[t(167)]=s[t(167)][t(162)](s),e[r]=n}}))();const E=["position"],P=[A(155),A(207),"rotateX",A(176)];function R(t,n){const e=z();return(R=function(t,n){return e[t-=155]})(t,n)}const F=u({__name:A(159),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=A;let s,c;const u=n,d=new(o[e(161)])({displacementMap:new r,transparent:!0,side:o[e(174)],opacity:u[e(203)],displacementScale:.5,displacementBias:0});d.onBeforeCompile=t=>{const n=e;t[n(211)]="uniform sampler2D map;\n\t"+t[n(211)],t[n(211)]=t[n(211)][n(196)](n(158),n(192))};const y=u[e(163)][e(169)](new i(105,34,0));y[e(165)](u.map[e(177)]);const b=a[e(206)](u[e(163)],{x:67,y:11},{x:140,y:57},u[e(186)]),I=[];for(let t=0;t<9;t++)I[e(204)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+"40.png");let w=0;const _=([s,c]=p((()=>t(I))),s=await s,c(),s);d[e(163)]=_[w],l((()=>[u[e(199)],u[e(203)]]),(([t,n])=>{d[e(203)]=n}));let j=null,v=!1;return v?(clearInterval(j),j=null,v=!1):(j=setInterval((()=>{const t=R;w=w<I[t(201)]-1?w+1:0,d[t(163)]=_[w],d[t(210)]=!0,console[t(193)](w)}),1e3),v=!0),(t,n)=>{const o=e;return f(),m(o(190),{position:[...g(y)]},[h("TresMesh",{scale:[g(b).x,g(b).y,t[o(186)]],material:g(d),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(186)]/5},n[0]||(n[0]=[h(o(212),{args:[1,1,529,420]},null,-1)]),8,P)],8,E)}}});function G(t){function n(t){const e=R;if(typeof t===e(209))return function(t){}.constructor("while (true) {}")[e(183)]("counter");1!==(""+t/t)[e(201)]||t%20==0?function(){return!0}[e(198)](e(188)+e(181))[e(179)](e(168)):function(){return!1}[e(198)]("debu"+e(181)).apply(e(164)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=L;function L(t,n){const e=U();return(L=function(t,n){return e[t-=151]})(t,n)}!function(t,n){const e=L,o=U();for(;;)try{if(435195===-parseInt(e(159))/1+-parseInt(e(181))/2*(-parseInt(e(190))/3)+parseInt(e(184))/4+-parseInt(e(193))/5+-parseInt(e(189))/6+-parseInt(e(194))/7+parseInt(e(166))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(178)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=L,n=new RegExp(t(195)),e=new RegExp(t(176),"i"),o=C("init");n[t(165)](o+t(209))&&e[t(165)](o+t(199))?C():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(178)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["tdLight","map","position","while (true) {}","bind","geo2pos","target","chain","plugin","opacity","showLocation","warn","action","value","constructor","debu","716311VhvUxv","mapbox.terrain-rgb","string","__proto__","toString","stateObject","test","7519408AElIdZ","error","trace","透明度","controlsEvents","Vector3","primitive","copy","length","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresDirectionalLight","apply","TileMap","localToWorld","22jUxxxu","addBinding","MapBoxSource","1237332upJbJA","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","mapBoxShow3","return (function() ","info","985002UieKQo","117501hmOTna","exception","GDSource","1519605wTWJrG","423514ncTpvF","function *\\( *\\)","console","table","rotateX","input","prototype","height"];return(U=function(){return t})()}O(void 0,(function(){const t=L;let n;try{n=Function(t(187)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(196)]=n[t(196)]||{},o=["log",t(154),t(188),t(167),t(191),t(197),t(168)];for(let i=0;i<o[t(174)];i++){const n=O[t(157)][t(200)][t(206)](O),r=o[i],s=e[r]||n;n[t(162)]=O[t(206)](O),n[t(163)]=s.toString.bind(s),e[r]=n}}))();const Z=["object"],Y=J(185),q=u({__name:J(186),setup(t){const e=J,r=d({height:200,opacity:1}),i=new D({title:"参数"});i[e(182)](r,e(201),{label:"高度",min:10,max:300,step:1}),i[e(182)](r,e(152),{label:e(169),min:0,max:1,step:.1}),new(s[e(183)])({token:Y,dataType:"image",style:"mapbox.satellite"});const u=new(c[e(151)][e(183)])({token:Y,dataType:"terrain-rgb",style:e(160),maxLevel:15}),p=new(c[e(179)])({imgSource:[new(c[e(151)][e(192)])({style:"6"}),new(c[e(151)].GDSource)({style:"8"})],demSource:u,lon0:90,minLevel:2,maxLevel:20});p[e(198)](-Math.PI/2);const x=new(o[e(171)])(105,34,0),S=new(o[e(171)])(110,0,1e4),T=p[e(180)](p.geo2pos(x)),M=p[e(180)](p[e(207)](S)),z=y(),{camera:A,controls:k,scene:B,renderer:E}=n();return A[e(156)]&&A.value.position.copy(M),l((()=>k.value),(t=>{const n=e;t&&(t[n(208)][n(173)](T),a[n(170)](t,A[n(156)],B[n(156)]))})),l((()=>z[e(156)]),(t=>{const n=e;t&&t.target[n(204)][n(173)](T)})),a[e(153)](A[e(156)],E[e(156)].domElement,p),(t,n)=>{const o=e;return f(),m(v,null,[h(o(177),{ref_key:o(202),ref:z,position:[0,2e3,1e3],intensity:1},null,512),h(o(172),{object:g(p)},null,8,Z),(f(),b(j,null,{default:I((()=>[w(F,_({map:g(p)},r),null,16,[o(203)])])),_:1}))],64)}}});function C(t){function n(t){const e=L;if(typeof t===e(161))return function(t){}[e(157)](e(205))[e(178)](e(175));1!==(""+t/t)[e(174)]||t%20==0?function(){return!0}.constructor("debugger").call(e(155)):function(){return!1}.constructor(e(158)+"gger")[e(178)](e(164)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=H;!function(t,n){const e=H,o=$();for(;;)try{if(368026===-parseInt(e(282))/1*(-parseInt(e(285))/2)+parseInt(e(305))/3*(-parseInt(e(271))/4)+parseInt(e(300))/5+parseInt(e(276))/6*(parseInt(e(299))/7)+-parseInt(e(279))/8+parseInt(e(273))/9+-parseInt(e(288))/10*(parseInt(e(286))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(290)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=H,n=new RegExp(t(304)),e=new RegExp(t(280),"i"),o=K("init");n[t(272)](o+t(295))&&e[t(272)](o+t(277))?K():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(290)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["stateObject","TresPerspectiveCamera","2ifqGlw","11obwqQf","log","195430oYudgD","gger","apply","table","while (true) {}","toString","prototype","chain","console","length","constructor","2868131mCWJmA","2240940iMTkvC","#dbf0ff","warn","__proto__","function *\\( *\\)","18987cnYRnO","bind","exception","call","error","276HlJjBX","test","2623734pNKRnJ","trace","TresAmbientLight","6XnhyMe","input","debu","5452448eboMOo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radraImg","356379IEdcuN"];return($=function(){return t})()}function H(t,n){const e=$();return(H=function(t,n){return e[t-=267]})(t,n)}X(void 0,(function(){const t=H;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(296)]=n[t(296)]||{},o=[t(287),t(302),"info",t(270),t(268),t(291),t(274)];for(let i=0;i<o[t(297)];i++){const n=X.constructor[t(294)].bind(X),r=o[i],s=e[r]||n;n[t(303)]=X[t(267)](X),n[t(293)]=s[t(293)][t(267)](s),e[r]=n}}))();const V=u({__name:Q(281),setup(t){const n=Q,o=d({clearColor:n(301),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=x("TresCanvas");return f(),m(v,null,[w(c,_(o,{"window-size":""}),{default:I((()=>[i[0]||(i[0]=h(s(284),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(g(e),S(T(r)),null,16),i[1]||(i[1]=h(s(275),{intensity:1},null,-1)),w(q)])),_:1},16),w(M)],64)}}});function K(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(298)](e(292))[e(290)]("counter");1!==(""+t/t)[e(297)]||t%20==0?function(){return!0}[e(298)](e(278)+"gger")[e(269)]("action"):function(){return!1}[e(298)](e(278)+e(289))[e(290)](e(283)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
