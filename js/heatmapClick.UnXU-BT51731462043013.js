import{a as t,U as n}from"./@tresjs.xlnLF3O61731462043013.js";import{P as e}from"./tweakpane.yHWGBmom1731462043013.js";import{_ as o,a0 as r,ak as a,al as s}from"./three.wKRaqyB-1731462043013.js";import{_ as i}from"./heatmap.js-fix.r-zoTPMH1731462043013.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as v,J as y,j as w,al as b,aj as x,ak as _,m as I}from"./@vue.-THQH3GC1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";import"./@amap.r7GlLHCm1731462043013.js";const j=A;!function(t,n){const e=A,o=B();for(;;)try{if(942491===-parseInt(e(366))/1*(-parseInt(e(352))/2)+-parseInt(e(310))/3+parseInt(e(293))/4+parseInt(e(311))/5*(parseInt(e(336))/6)+parseInt(e(324))/7*(parseInt(e(361))/8)+parseInt(e(338))/9*(parseInt(e(355))/10)+parseInt(e(315))/11*(-parseInt(e(305))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(301),"i"),o=F(t(308));n.test(o+t(314))&&e[t(342)](o+t(363))?F():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(322)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=B();return(A=function(t,n){return e[t-=293]})(t,n)}k(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(364)+t(359)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(296)]||{},o=[t(347),"warn",t(369),"error",t(317),t(340),t(341)];for(let r=0;r<o[t(297)];r++){const n=k.constructor[t(327)][t(321)](k),a=o[r],s=e[a]||n;n[t(298)]=k[t(321)](k),n[t(333)]=s[t(333)][t(321)](s),e[a]=n}}))();const S=[j(368)],z=c({__name:j(371),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(309),{draco:!0,decoderPath:e(365)}))),a=await a,s(),a);h[e(307)].position[e(337)](-5088.96,-3.08,39374.7),h[e(307)][e(348)].setScalar(.01);let m=null,g=null,v=null;g=new(o[e(344)])((()=>{const t=e;return v=document[t(312)](t(294)),v[t(345)][t(306)]="absolute",v[t(345)][t(346)]=t(313),v[t(345)][t(328)]="0",document[t(316)][t(330)](v),m=i[t(354)]({container:v,width:256,height:256,blur:"0.8",radius:c[t(303)]}),m[t(339)][t(331)][t(345)][t(304)]=t(318),m[t(339)][t(331)][t(335)]=function(n){const e=t;m[e(334)]({x:n[e(360)],y:n[e(323)],value:1,radius:c[e(303)]}),m.setDataMax(1),g&&(g[e(299)]=!0)},m})()[e(339)][e(331)]);const y={vertexShader:e(370),fragmentShader:e(356),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},w=new(o[e(325)])(y);h[e(307)][e(353)]=w;return(t=>{const n=e;t[n(373)]();const{max:r,min:a}=t[n(350)];t[n(329)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t.attributes.position[n(358)];e++)c[n(302)]((t[n(343)][n(306)][n(300)](e)-a.x)/s),c[n(302)]((t.attributes[n(306)].getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(332)])(u,2))})(h[e(307)].geometry),l((()=>{const t=e;v[t(345)][t(351)]=""+(c[t(357)]?"block":t(362))})),(t,n)=>{const o=e;return p(),f(o(295),{object:d(h).mesh_0},null,8,S)}}});function B(){const t=["https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","5188908jjSGTw","211300Lkhyod","createElement","40px","chain","22ehhbFF","body","exception","1px solid #5384ff","stateObject","constructor","bind","apply","layerY","42lqjMqo","ShaderMaterial","action","prototype","left","deleteAttribute","appendChild","canvas","BufferAttribute","toString","addData","onclick","66lsYvrp","set","9JhFaLf","_renderer","table","trace","test","attributes","Texture","style","top","log","scale","debu","boundingBox","display","1486126LlYYLc","material","create","3125270GkdHPF","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","show2dCanvas","count",'{}.constructor("return this")( )',"layerX","537192vSNsGX","none","input","return (function() ","./draco/","1KQvwYk","while (true) {}","object","info","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","heatmapClickCom","gger","computeBoundingBox","6436748sfdKRF","heatmap-canvas","primitive","console","length","__proto__","needsUpdate","getX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","push","radius","border","5162424KLuBIB","position","mesh_0","init"];return(B=function(){return t})()}function F(t){function n(t){const e=A;if("string"==typeof t)return function(t){}.constructor(e(367)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(320)](e(349)+e(372)).call(e(326)):function(){return!1}[e(320)](e(349)+e(372)).apply(e(319)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const M=T;!function(t,n){const e=T,o=R();for(;;)try{if(403845===-parseInt(e(469))/1+-parseInt(e(489))/2+parseInt(e(488))/3+parseInt(e(454))/4+-parseInt(e(460))/5*(-parseInt(e(486))/6)+-parseInt(e(461))/7+-parseInt(e(497))/8*(-parseInt(e(470))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(455),"i"),o=P(t(487));n.test(o+t(467))&&e[t(495)](o+t(493))?P():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(498)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(){const t=["call","error","37416EmswxI","init","217587ywlXfz","33524FccfbM","console","点击左侧蓝色画框","counter","input","return (function() ","test","toString","8AXaUzB","apply","warn","addBinding","TresGridHelper","761712QELnxC","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","radius","bind","log","35vXCUSZ","869897AEyuKA","trace","while (true) {}","table","addButton","TresDirectionalLight","chain","圆圈的大小","400268hPAfbi","5746833wPqRfI","prototype","__proto__","TresCanvas","stateObject","info","gger","show2dCanvas","显示二维图",'{}.constructor("return this")( )',"constructor","heatmapClick","debu","length"];return(R=function(){return t})()}function T(t,n){const e=R();return(T=function(t,n){return e[t-=451]})(t,n)}E(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(494)+t(479)+");")()}catch(e){n=window}return n}(),e=n[t(490)]=n[t(490)]||{},o=[t(459),t(451),t(475),t(485),"exception",t(464),t(462)];for(let r=0;r<o[t(483)];r++){const n=E[t(480)][t(471)][t(458)](E),a=o[r],s=e[a]||n;n[t(472)]=E[t(458)](E),n[t(496)]=s[t(496)][t(458)](s),e[a]=n}}))();const U=c({__name:M(481),setup(t){const o=M,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(452)](i,o(477),{label:o(478)}),c[o(452)](i,o(457),{label:o(468),min:.1,max:30,step:.1}),c[o(465)]({title:o(491)}),(t,e)=>{const a=o,s=m(a(473));return p(),g(s,I(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(466),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=y(a(453),{args:[50,25]},null,-1)),(p(),g(b,null,{default:v((()=>[w(z,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=T;if(typeof t===e(456))return function(t){}[e(480)](e(463)).apply(e(492));1!==(""+t/t)[e(483)]||t%20==0?function(){return!0}[e(480)](e(482)+e(476))[e(484)]("action"):function(){return!1}.constructor(e(482)+e(476))[e(498)](e(474)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
