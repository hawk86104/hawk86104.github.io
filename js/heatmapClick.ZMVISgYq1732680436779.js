import{a as t,U as n}from"./@tresjs.ozxSQdlw1732680436779.js";import{P as e}from"./tweakpane.yHWGBmom1732680436779.js";import{_ as o,a0 as r,ak as a,al as s}from"./three.HQIWXjA-1732680436779.js";import{_ as i}from"./heatmap.js-fix.tfgsXRki1732680436779.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as v,J as y,j as w,al as b,aj as x,ak as _,m as j}from"./@vue.u2cBPEWn1732680436779.js";import"./@vueuse.OVEejUj91732680436779.js";import"./@amap.jmLgXK4f1732680436779.js";const I=B;function C(){const t=["constructor","geometry","canvas","position","_renderer","9jbGvSE","top","exception","519594wjZQFZ","97159rTslNe","console","test","border","call","27414STmrNB","layerX","chain","boundingBox","0.8","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","set","debu","length","counter","display","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","5124640elBgwQ","40px","bind","7NEqROO","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","132OVFKDx","stateObject","mesh_0","string","attributes","create","heatmap-canvas","computeBoundingBox","createElement","__proto__","getX","apply","layerY","prototype","primitive","setAttribute","push","setScalar","4176510UrXOwp","onclick","input","return (function() ","absolute","ShaderMaterial","Texture","5568650PGJrJX","object","gger","error","style","log","info","heatmapClickCom","while (true) {}","material","warn","needsUpdate",'{}.constructor("return this")( )',"getZ","toString","radius","setDataMax","1971390hHANzS","BufferAttribute","trace","left"];return(C=function(){return t})()}!function(t,n){const e=B,o=C();for(;;)try{if(357008===parseInt(e(304))/1+-parseInt(e(303))/2+-parseInt(e(309))/3*(-parseInt(e(326))/4)+-parseInt(e(291))/5+-parseInt(e(267))/6*(-parseInt(e(324))/7)+-parseInt(e(321))/8+-parseInt(e(300))/9*(-parseInt(e(274))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(260)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=T("init");n[t(306)](o+t(311))&&e[t(306)](o+t(269))?T():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=B;let n;try{n=Function(t(270)+t(286)+");")()}catch(r){n=window}const e=n.console=n[t(305)]||{},o=[t(279),t(284),t(280),t(277),t(302),"table",t(293)];for(let a=0;a<o[t(317)];a++){const n=S[t(295)][t(262)][t(323)](S),r=o[a],s=e[r]||n;n[t(258)]=S.bind(S),n[t(288)]=s[t(288)][t(323)](s),e[r]=n}}))();const Z=[I(275)];function B(t,n){const e=C();return(B=function(t,n){return e[t-=257]})(t,n)}const O=c({__name:I(281),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(314),{draco:!0,decoderPath:"./draco/"}))),a=await a,s(),a);h[e(328)][e(298)][e(315)](-5088.96,-3.08,39374.7),h.mesh_0.scale[e(266)](.01);let m=null,g=null,v=null;g=new(o[e(273)])((()=>{const t=e;return v=document[t(257)](t(332)),v[t(278)][t(298)]=t(271),v[t(278)][t(301)]=t(322),v[t(278)][t(294)]="0",document.body.appendChild(v),m=i[t(331)]({container:v,width:256,height:256,blur:t(313),radius:c.radius}),m[t(299)][t(297)].style[t(307)]="1px solid #5384ff",m[t(299)][t(297)][t(268)]=function(n){const e=t;m.addData({x:n[e(310)],y:n[e(261)],value:1,radius:c[e(289)]}),m[e(290)](1),g&&(g[e(285)]=!0)},m})()[e(299)][e(297)]);const y={vertexShader:e(325),fragmentShader:e(320),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},w=new(o[e(272)])(y);h[e(328)][e(283)]=w;return(t=>{const n=e;t[n(333)]();const{max:r,min:a}=t[n(312)];t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(330)].position.count;e++)c[n(265)]((t.attributes.position[n(259)](e)-a.x)/s),c[n(265)]((t[n(330)][n(298)][n(287)](e)-a.z)/i);const u=new Float32Array(c);t[n(264)]("uv",new(o[n(292)])(u,2))})(h[e(328)][e(296)]),l((()=>{const t=e;v[t(278)][t(319)]=c.show2dCanvas?"block":"none"})),(t,n)=>{const o=e;return p(),f(o(263),{object:d(h)[o(328)]},null,8,Z)}}});function T(t){function n(t){const e=B;if(typeof t===e(329))return function(t){}.constructor(e(282))[e(260)](e(318));1!==(""+t/t).length||t%20==0?function(){return!0}[e(295)](e(316)+e(276))[e(308)]("action"):function(){return!1}[e(295)](e(316)+"gger")[e(260)](e(327)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const k=A;function A(t,n){const e=E();return(A=function(t,n){return e[t-=351]})(t,n)}!function(t,n){const e=A,o=E();for(;;)try{if(413436===parseInt(e(391))/1+parseInt(e(381))/2*(-parseInt(e(356))/3)+-parseInt(e(361))/4*(parseInt(e(370))/5)+parseInt(e(383))/6+parseInt(e(360))/7*(parseInt(e(377))/8)+-parseInt(e(390))/9+-parseInt(e(372))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(354)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=A,n=new RegExp(t(396)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=R(t(378));n[t(371)](o+"chain")&&e.test(o+t(358))?R():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(354)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function("return (function() "+t(393)+");")()}catch(e){n=window}return n}(),e=n[t(385)]=n[t(385)]||{},o=[t(389),"warn",t(386),t(387),t(352),"table",t(364)];for(let r=0;r<o[t(382)];r++){const n=M[t(351)][t(395)][t(366)](M),a=o[r],s=e[a]||n;n[t(359)]=M[t(366)](M),n[t(388)]=s[t(388)][t(366)](s),e[a]=n}}))();const U=c({__name:k(362),setup(t){const o=k,r={clearColor:o(365),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,"show2dCanvas",{label:o(392)}),c[o(353)](i,o(363),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(376)]({title:o(374)}),(t,e)=>{const a=o,s=m("TresCanvas");return p(),g(s,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(379),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y("TresDirectionalLight",{position:[5,10,7.5],color:a(355),intensity:5},null,-1)),e[2]||(e[2]=y(a(357),{args:[50,25]},null,-1)),(p(),g(b,null,{default:v((()=>[w(O,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function E(){const t=["4622976ZtnobX","call","console","info","error","toString","log","1881891NTzRls","579103SZOZZz","显示二维图",'{}.constructor("return this")( )',"action","prototype","function *\\( *\\)","constructor","exception","addBinding","apply","#ffffff","3uMEQff","TresGridHelper","input","__proto__","175YsjIPu","4xGFixB","heatmapClick","radius","trace","#030311","bind","debu","counter","string","2597765yUJoeg","test","3311460VyzDgC","stateObject","点击左侧蓝色画框","while (true) {}","addButton","132240ZaDyLC","init","TresPerspectiveCamera","gger","579230QOWeUN","length"];return(E=function(){return t})()}function R(t){function n(t){const e=A;if(typeof t===e(369))return function(t){}[e(351)](e(375))[e(354)](e(368));1!==(""+t/t)[e(382)]||t%20==0?function(){return!0}[e(351)](e(367)+e(380))[e(384)](e(394)):function(){return!1}[e(351)](e(367)+e(380))[e(354)](e(373)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
