import{bR as t,a6 as n,a0 as o,am as r,Z as e}from"./three.a9V66irq1725721021019.js";import{N as a}from"./@tresjs.bIWdfO9a1725721021019.js";import{d as s,b as c,a5 as u,w as i,o as f,E as l,L as p,aj as h,ak as d}from"./@vue._6MD2XyK1725721021019.js";!function(t,n){const o=v,r=m();for(;;)try{if(146542===parseInt(o(343))/1+parseInt(o(366))/2+-parseInt(o(347))/3*(parseInt(o(365))/4)+parseInt(o(348))/5*(-parseInt(o(375))/6)+-parseInt(o(369))/7+parseInt(o(382))/8+parseInt(o(378))/9*(parseInt(o(386))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(352)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(){const t=["shadowmap_vertex","104955xykFiv","gger","\n      \t","beginnormal_vertex","3pnzOJA","931665LMjeLY","ShaderChunk","error","\n          ","apply","constructor","info","shadowmap_pars_vertex","\n       void main() {\n\t\t\t\t\t","function *\\( *\\)","test","warn","bsdfs","lights_pars_begin","length","chain","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","698468OYotTA","105490NVfZqO","__proto__","project_vertex","1732248OvyOpQ","init","table","counter","exception","while (true) {}","6IEtZMM","stateObject","trace","18TCrKvP","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","shadowmask_pars_fragment","common","263152YcpmVW","string","shadowmap_pars_fragment","bind","2821810AfDneD","defaultnormal_vertex","call","console","worldpos_vertex","\n\t ","toString","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","action"];return(m=function(){return t})()}function v(t,n){const o=m();return(v=function(t,n){return o[t-=332]})(t,n)}!function(){g(this,(function(){const t=v,n=new RegExp(t(357)),o=new RegExp(t(339),"i"),r=b(t(370));n[t(358)](r+t(363))&&o[t(358)](r+t(338))?b():r("0")}))()}();const w=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(352)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=v,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n.console=n[t(333)]||{},r=["log",t(359),t(354),t(350),t(373),t(371),t(377)];for(let e=0;e<r[t(362)];e++){const n=w[t(353)].prototype[t(385)](w),a=r[e],s=o[a]||n;n[t(367)]=w[t(385)](w),n[t(336)]=s[t(336)][t(385)](s),o[a]=n}}))();const _=()=>{const o=v;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(381)]+o(345)+n[o(349)].bsdfs+o(345)+n[o(349)][o(355)]+o(356)+t[o(346)]+o(351)+n[o(349)][o(387)]+o(351)+n[o(349)].begin_vertex+o(351)+n[o(349)][o(368)]+o(351)+n[o(349)][o(334)]+o(351)+t[o(342)]+o(364)},x=()=>{const t=v;return t(337)+n[t(349)][t(381)]+t(335)+n[t(349)].packing+t(335)+n[t(349)][t(360)]+t(335)+n[t(349)][t(361)]+t(335)+n[t(349)][t(384)]+t(335)+n[t(349)][t(380)]+t(379)};function b(t){function n(t){const o=v;if(typeof t===o(383))return function(t){}[o(353)](o(374)).apply(o(372));1!==(""+t/t)[o(362)]||t%20==0?function(){return!0}[o(353)](o(340)+o(344))[o(332)](o(341)):function(){return!1}[o(353)](o(340)+o(344)).apply(o(376)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const y=S;!function(t,n){const o=S,r=j();for(;;)try{if(418862===-parseInt(o(385))/1+parseInt(o(360))/2+-parseInt(o(389))/3*(parseInt(o(339))/4)+parseInt(o(363))/5*(parseInt(o(381))/6)+parseInt(o(386))/7+parseInt(o(380))/8+-parseInt(o(347))/9*(parseInt(o(387))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(348)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(349),"i"),r=k("init");n[t(366)](r+"chain")&&o[t(366)](r+t(376))?k():r("0")}))()}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[S(348)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(t,n){const o=j();return(S=function(t,n){return o[t-=336]})(t,n)}function j(){const t=["shadowColor","#990","test","color","constructor","value","table",'{}.constructor("return this")( )',"stateObject","rotation-x","wrapS","TresPlaneGeometry","input","length","tmRef","while (true) {}","4047368BEVpCg","2919882ntMTnf","exception","__proto__","error","292997FmgrYk","702786QxIGLj","1780540bzABVJ","UniformsUtils","3vdORAX","uShadowColor","lights","#999","wrapT","Color","TresShaderMaterial","uniforms","689168uOPald","call","gger","warn","action","debu","console","size","18byqrjl","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","edge","bind","args","return (function() ","toString","counter","TresMesh","info","uColor","string","294586HzoMvo","fEdge","prototype","5oCDKYl"];return(j=function(){return t})()}C(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(353)+t(371)+");")()}catch(o){n=window}return n}(),o=n[t(345)]=n[t(345)]||{},r=["log",t(342),t(357),t(384),t(382),t(370),"trace"];for(let e=0;e<r.length;e++){const n=C[t(368)][t(362)][t(351)](C),a=r[e],s=o[a]||n;n[t(383)]=C.bind(C),n[t(354)]=s[t(354)].bind(s),o[a]=n}}))();const M=[y(373)],T=[y(352)],E=s({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:y(365)},shadowColor:{default:y(392)},edge:{default:.35}},async setup(t){const s=y;let g,m;const v=t,w=c(),{map:b}=([g,m]=u((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);b[s(374)]=b[s(393)]=o;const I={uniforms:n[s(388)].merge([r[s(391)],{uTexture:{type:"t",value:b},uColor:{value:new(n[s(336)])(v[s(367)])},uShadowColor:{value:new(n[s(336)])(v[s(364)])},fEdge:{type:"f",value:v[s(350)]}}]),side:e,vertexShader:_(),fragmentShader:x(),lights:!0,transparent:!0};return i((()=>v[s(350)]),(t=>{const n=s;I[n(338)][n(361)][n(369)]=t})),i((()=>v[s(367)]),(t=>{const o=s;I[o(338)][o(358)][o(369)]=new(n[o(336)])(v.color)})),i((()=>v[s(364)]),(t=>{const o=s;I[o(338)][o(390)][o(369)]=new(n[o(336)])(v[o(364)])})),(t,n)=>{const o=s;return f(),l(o(356),{ref_key:o(378),ref:w,"rotation-x":-Math.PI/2},[p(o(375),{args:v[o(346)]},null,8,T),p(o(337),h(d(I)),null,16)],8,M)}}});function k(t){function n(t){const o=S;if(typeof t===o(359))return function(t){}.constructor(o(379))[o(348)](o(355));1!==(""+t/t)[o(377)]||t%20==0?function(){return!0}.constructor(o(344)+o(341))[o(340)](o(343)):function(){return!1}[o(368)]("debugger")[o(348)](o(372)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
