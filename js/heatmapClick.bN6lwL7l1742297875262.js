import{D as t,o as n}from"./@tresjs.oW7bfow21742297875262.js";import{P as e}from"./tweakpane.yDiyAAkA1742297875262.js";import{_ as o,l as r,c as a,ak as s,al as i}from"./three.N4lg2KsY1742297875262.js";import{_ as c}from"./heatmap.js-fix.1FAuX-Sh1742297875262.js";import{d as u,a3 as l,a2 as p,o as f,H as d,u as h,r as m,e as g,f as y,g as v,N as w,j as b,al as x,aj as _,ak as j,m as I}from"./@vue.NRI7TcgI1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";import"./@amap.PUMXk6JR1742297875262.js";function C(t,n){const e=S();return(C=function(t,n){return e[t-=104]})(t,n)}const k=C;!function(t,n){const e=C,o=S();for(;;)try{if(354904===-parseInt(e(142))/1+parseInt(e(158))/2+-parseInt(e(124))/3*(-parseInt(e(113))/4)+-parseInt(e(112))/5+-parseInt(e(104))/6+parseInt(e(165))/7*(-parseInt(e(119))/8)+parseInt(e(168))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(128)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function S(){const t=["__proto__","material","push","14836GLiWja","geometry","0.8","none","DoubleSide","block","console","canvas","create","Texture","resource.cos",'{}.constructor("return this")( )',"debu","absolute","getZ","/model/heatmap/test.glb","1369850Zrycth","constructor","onclick","action","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com","test","top","455dyPWas","_renderer","heatmapClickCom","1500102Fttguf","show2dCanvas","radius","./draco/","prototype","createElement","mesh_0","init","border","getX","body","894438hPJybr","set","chain","log","attributes","toString","bind","setAttribute","2876360PgqCOh","4ISVuKx","1px solid #5384ff","setScalar","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","primitive","38920tLpLGw","40px","position","addData","info","1676121HhIcqo","deleteAttribute","string","trace","apply","setDataMax","length","error","needsUpdate","display","return (function() ","object","left","stateObject","style"];return(S=function(){return t})()}!function(){L(this,(function(){const t=C,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(116),"i"),o=M(t(175));n[t(163)](o+t(106))&&e[t(163)](o+"input")?M():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=C;let n;try{n=Function(t(134)+t(153)+");")()}catch(r){n=window}const e=n[t(148)]=n[t(148)]||{},o=[t(107),"warn",t(123),t(131),"exception","table",t(127)];for(let a=0;a<o[t(130)];a++){const n=T[t(159)][t(172)][t(110)](T),r=o[a],s=e[r]||n;n[t(139)]=T[t(110)](T),n[t(109)]=s[t(109)][t(110)](s),e[r]=n}}))();const z=[k(135)],D=u({__name:k(167),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=k;let s,i;const u=n,{nodes:m}=([s,i]=l((()=>t(e(162)+e(157),{draco:!0,decoderPath:e(171)}))),s=await s,i(),s);m[e(174)][e(121)][e(105)](-5088.96,-3.08,39374.7),m[e(174)].scale[e(115)](.01);let g=null,y=null,v=null;y=new(o[e(151)])((()=>{const t=e;return v=document[t(173)]("heatmap-canvas"),v[t(138)][t(121)]=t(155),v[t(138)][t(164)]=t(120),v[t(138)][t(136)]="0",document[t(178)].appendChild(v),g=c[t(150)]({container:v,width:256,height:256,blur:t(144),radius:u[t(170)]}),g[t(166)][t(149)].style[t(176)]=t(114),g[t(166)][t(149)][t(160)]=function(n){const e=t;g[e(122)]({x:n.layerX,y:n.layerY,value:1,radius:u[e(170)]}),g[e(129)](1),y&&(y[e(132)]=!0)},g})()._renderer[e(149)]);const w={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(146)]},b=new r(w);m[e(174)][e(140)]=b;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:r}=t.boundingBox;t[n(125)]("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(108)][n(121)].count;e++)c[n(141)]((t.attributes.position[n(177)](e)-r.x)/s),c[n(141)]((t[n(108)][n(121)][n(156)](e)-r.z)/i);const u=new Float32Array(c);t[n(111)]("uv",new a(u,2))})(m[e(174)][e(143)]),p((()=>{const t=e;v[t(138)][t(133)]=""+(u[t(169)]?t(147):t(145))})),(t,n)=>{const o=e;return f(),d(o(118),{object:h(m)[o(174)]},null,8,z)}}});function M(t){function n(t){const e=C;if(typeof t===e(126))return function(t){}[e(159)](e(117)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(159)](e(154)+"gger").call(e(161)):function(){return!1}[e(159)](e(154)+"gger")[e(128)](e(137)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=R;function R(t,n){const e=A();return(R=function(t,n){return e[t-=348]})(t,n)}!function(t,n){const e=R,o=A();for(;;)try{if(977954===parseInt(e(360))/1+-parseInt(e(390))/2+-parseInt(e(377))/3+parseInt(e(385))/4*(-parseInt(e(378))/5)+-parseInt(e(355))/6+-parseInt(e(361))/7*(-parseInt(e(362))/8)+parseInt(e(349))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(384)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["圆圈的大小","bind","1014368OlKMWL","7taHWEy","4399552OFwsTh","#ffffff","constructor","exception",'{}.constructor("return this")( )',"warn","prototype","counter","TresPerspectiveCamera","stateObject","call","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","heatmapClick","点击左侧蓝色画框","2494068mrJEnZ","440LdjRjV","toString","__proto__","info","TresGridHelper","TresDirectionalLight","apply","1588GxKXKy","while (true) {}","trace","log","console","2192402RqmqpW","function *\\( *\\)","27246375opDLeW","table","test","gger","length","addBinding","9907440vyTuKc","debu","string"];return(A=function(){return t})()}!function(){W(this,(function(){const t=R,n=new RegExp(t(348)),e=new RegExp(t(374),"i"),o=Z(t(373));n[t(351)](o+"chain")&&e[t(351)](o+"input")?Z():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(384)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function("return (function() "+t(366)+");")()}catch(e){n=window}return n}(),e=n[t(389)]=n.console||{},o=[t(388),t(367),t(381),"error",t(365),t(350),t(387)];for(let r=0;r<o[t(353)];r++){const n=E.constructor[t(368)][t(359)](E),a=o[r],s=e[a]||n;n[t(380)]=E[t(359)](E),n[t(379)]=s[t(379)][t(359)](s),e[a]=n}}))();const P=u({__name:O(375),setup(t){const o=O,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(354)](a,"show2dCanvas",{label:"显示二维图"}),c[o(354)](a,"radius",{label:o(358),min:.1,max:30,step:.1}),c.addButton({title:o(376)}),(t,e)=>{const s=o,i=g("TresCanvas");return f(),y(i,I(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=w(s(370),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w(s(383),{position:[5,10,7.5],color:s(363),intensity:5},null,-1)),e[2]||(e[2]=w(s(382),{args:[50,25]},null,-1)),(f(),y(x,null,{default:v((()=>[b(D,_(j(a)),null,16)])),_:1}))])),_:1},16)}}});function Z(t){function n(t){const e=R;if(typeof t===e(357))return function(t){}.constructor(e(386))[e(384)](e(369));1!==(""+t/t)[e(353)]||t%20==0?function(){return!0}[e(364)](e(356)+e(352))[e(372)]("action"):function(){return!1}[e(364)](e(356)+"gger")[e(384)](e(371)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{P as default};
