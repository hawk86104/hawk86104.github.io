import{e as n,m as t,U as e,s as o,b as r}from"./@tresjs.pA0fT6uQ1736128832096.js";import{z as s,_ as i,K as a,a0 as c,az as u}from"./three.8H01GNxA1736128832096.js";import{P as l}from"./tweakpane.yHWGBmom1736128832096.js";import{L as f}from"./three-subdivide.kTDr-fa31736128832096.js";import{d as p,b as d,a1 as g,w as m,o as h,D as v,J as y,aj as b,ak as w,a4 as _,r as I,e as x,f as M,g as T,j,u as B,m as z,I as A}from"./@vue.yG49nQHr1736128832096.js";import"./@vueuse.iB8cUOAP1736128832096.js";const S=V;!function(n,t){const e=V,o=F();for(;;)try{if(978914===-parseInt(e(268))/1*(-parseInt(e(224))/2)+-parseInt(e(226))/3+-parseInt(e(238))/4+parseInt(e(235))/5+parseInt(e(246))/6+-parseInt(e(245))/7+-parseInt(e(258))/8*(parseInt(e(255))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=V,t=new RegExp(n(220)),e=new RegExp(n(272),"i"),o=E(n(249));t[n(236)](o+n(243))&&e[n(236)](o+n(219))?E():o("0")}))()}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();R(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function(n(241)+n(267)+");")()}catch(e){t=window}return t}(),e=t[n(261)]=t[n(261)]||{},o=["log","warn",n(250),n(256),n(239),n(229),n(254)];for(let r=0;r<o.length;r++){const t=R.constructor[n(233)].bind(R),s=o[r],i=e[s]||t;t.__proto__=R.bind(R),t[n(247)]=i[n(247)][n(260)](i),e[s]=t}}))();const N=[S(223)],C=p({__name:S(225),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s},blending:{default:i[S(264)]}},setup(e){const o=S,r=e,s=d(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(248)])(r[o(265)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:o(257),side:r[o(218)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(253)]};g((()=>{const n=o;if(r[n(269)]&&s.value&&!s.value[n(271)][n(234)][n(217)]){let t=r[n(269)][n(271)].clone();r[n(222)]&&(t=f[n(244)](t,2)),s[n(262)][n(271)]=t,s.value[n(217)][n(237)](r.srcMesh.position)}r.color&&(a.uniforms[n(273)][n(262)]=new(i[n(248)])(r[n(265)])),r.c&&(a[n(221)].c[n(262)]=r.c),r.p&&(a[n(221)].p.value=r.p)})),m((()=>r[o(222)]),(n=>{const t=o;let e=r[t(269)][t(271)][t(230)]();n&&(e=f[t(244)](e,2)),s[t(262)].geometry=e})),m((()=>r.side),(n=>{const t=o;s[t(262)][t(252)][t(218)]=n})),m((()=>r[o(253)]),(n=>{const t=o;s[t(262)][t(252)][t(253)]=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=o;u.value&&s.value&&(a[n(221)][n(231)][n(262)]=(new(i[n(263)]))[n(240)](u[n(262)][n(217)],s[n(262)][n(217)]))})),(n,t)=>{const e=o;return h(),v(e(216),{ref_key:e(266),ref:s,scale:r[e(223)]},[y("TresShaderMaterial",b(w(a)),null,16)],8,N)}}});function E(n){function t(n){const e=V;if(typeof n===e(232))return function(n){}.constructor(e(227))[e(259)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(251)](e(242)+e(228)).call(e(270)):function(){return!1}[e(251)](e(242)+"gger")[e(259)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function V(n,t){const e=F();return(V=function(n,t){return e[n-=216]})(n,t)}function F(){const n=["8094506TtaROh","9466158PEkNqM","toString","Color","init","info","constructor","material","blending","trace","508527EhgvJR","error","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","184LdYfhE","apply","bind","console","value","Vector3","AdditiveBlending","color","TSGref",'{}.constructor("return this")( )',"1mLBoLt","srcMesh","action","geometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","glowColor","TresMesh","position","side","input","function *\\( *\\)","uniforms","subdivision","scale","3170282BlTORv","shineShader","444330IsjQiE","while (true) {}","gger","table","clone","viewVector","string","prototype","attributes","5224395oldirp","test","copy","2499048iPVxzz","exception","subVectors","return (function() ","debu","chain","modify"];return(F=function(){return n})()}const L=D;!function(n,t){const e=D,o=Z();for(;;)try{if(863017===-parseInt(e(398))/1+-parseInt(e(374))/2*(-parseInt(e(358))/3)+parseInt(e(385))/4*(parseInt(e(344))/5)+-parseInt(e(390))/6+parseInt(e(369))/7+-parseInt(e(378))/8*(parseInt(e(396))/9)+parseInt(e(375))/10*(-parseInt(e(366))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[D(391)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){G(this,(function(){const n=D,t=new RegExp(n(381)),e=new RegExp(n(351),"i"),o=q("init");t[n(389)](o+n(384))&&e[n(389)](o+n(349))?q():o("0")}))()}();const P=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[D(391)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function D(n,t){const e=Z();return(D=function(n,t){return e[n-=340]})(n,t)}P(void 0,(function(){const n=D;let t;try{t=Function(n(360)+n(383)+");")()}catch(r){t=window}const e=t[n(386)]=t[n(386)]||{},o=[n(368),"warn","info","error",n(357),n(377),n(355)];for(let s=0;s<o[n(359)];s++){const t=P[n(341)][n(371)][n(392)](P),r=o[s],i=e[r]||t;t.__proto__=P[n(392)](P),t[n(365)]=i[n(365)][n(392)](i),e[r]=t}}))();const O=[L(364)],J=[L(364)];function Z(){const n=["counter","addBinding","map","toString","16555715UJlotB","logo.png","log","7386365qOHxWV","TresMeshBasicMaterial","prototype","NormalBlending","stateObject","10712sGDbzs","10aNKoNe","while (true) {}","table","832tAwiER","TresAmbientLight","边缘处理","function *\\( *\\)","#222",'{}.constructor("return this")( )',"chain","72nNDLty","console","scale","TresMesh","test","977796yqApsP","apply","bind","TresMeshRefB","srcMesh","color","11493kDyeUu","FrontSide","677637YXQRpQ","blending","gger","TresGridHelper","constructor","call","#0ff","352405JfAGXc","AdditiveBlending","debu","instance","shader","input","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","TreBoxRef","TresPerspectiveCamera","trace","TresMeshRefA","exception","570IXMFIF","length","return (function() ","action"];return(Z=function(){return n})()}const $=p({__name:L(348),async setup(n){const t=L;let f,p;const g={clearColor:t(382)},m=d(),v=d(),b=d(),w=([f,p]=_((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(367)]))),f=await f,p(),f),S=I({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(397)],blending:i[t(345)]}),k=new l({title:"参数",expanded:!0});return k[t(363)](S,t(395),{label:"颜色"}),k[t(363)](S,t(387),{label:"大小",min:1,max:3,step:.2}),k[t(363)](S,"subdivision",{label:t(380)}),k[t(363)](S,"c",{label:"c",min:0,max:2,step:.1}),k[t(363)](S,"p",{label:"p",min:0,max:8,step:.2}),k[t(363)](S,"side",{options:{FrontSide:s,BackSide:a,DoubleSide:c}}),k.addBinding(S,t(399),{options:{AdditiveBlending:u,NormalBlending:i[t(372)]}}),(n,r)=>{const s=t,i=x("TresCanvas");return h(),M(i,z(g,{"window-size":""}),{default:T((()=>[r[2]||(r[2]=y(s(354),{position:[5,5,5]},null,-1)),r[3]||(r[3]=y(s(379),{intensity:1},null,-1)),j(B(e)),r[4]||(r[4]=y(s(340),{args:[10,10]},null,-1)),y(s(388),{ref_key:s(356),ref:m,position:[-2,1,0]},[r[0]||(r[0]=y("TresSphereGeometry",{args:[1,32,16]},null,-1)),y(s(370),{map:B(w)[0]},null,8,O)],512),j(C,z({srcMesh:m[s(352)]},S),null,16,[s(394)]),j(B(o),{ref_key:s(353),ref:b,args:[1,1,1],position:[2,1,0]},{default:T((()=>[y(s(370),{map:B(w)[1]},null,8,J)])),_:1},512),b[s(352)]&&b[s(352)][s(347)]?(h(),M(C,z({key:0,srcMesh:b.value.instance},S),null,16,[s(394)])):A("",!0),y("TresMesh",{ref_key:s(393),ref:v,position:[0,1,-2]},r[1]||(r[1]=[y("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),y(s(370),{color:s(343)},null,-1)]),512),j(C,z({srcMesh:v.value},S),null,16,[s(394)])])),_:1},16)}}});function q(n){function t(n){const e=D;if(typeof n===e(350))return function(n){}.constructor(e(376))[e(391)](e(362));1!==(""+n/n).length||n%20==0?function(){return!0}[e(341)](e(346)+e(400))[e(342)](e(361)):function(){return!1}[e(341)](e(346)+e(400))[e(391)](e(373)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
