var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{ae as c,f as u,q as a,F as f,V as h,M as l,B as p,T as g,r as d,a as w,ab as I,aP as v,Y as y,ck as b}from"./three.ej3u8izI1722217438692.js";import{t as m}from"./@mapbox.F4zCr7tg1722217438692.js";import{c as x,d as M,a as _}from"./three-mesh-bvh.iDyulXMj1722217438692.js";import{C as j}from"./three-custom-shader-material.KBQJQbKq1722217438692.js";import"./object-hash.H_vbRcKd1722217438692.js";import"./@amap.FTf_Qzi31722217438692.js";import"./glsl-tokenizer.BRlB_-gZ1722217438692.js";const k=A;!function(t,n){const r=A,e=z();for(;;)try{if(676632===parseInt(r(238))/1+parseInt(r(241))/2*(-parseInt(r(245))/3)+parseInt(r(256))/4*(parseInt(r(204))/5)+parseInt(r(225))/6*(-parseInt(r(222))/7)+parseInt(r(203))/8+-parseInt(r(260))/9*(-parseInt(r(230))/10)+-parseInt(r(216))/11*(parseInt(r(250))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const E=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){E(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=F("init");n[t(219)](e+t(262))&&r.test(e+"input")?F():e("0")}))()}();const Z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[A(266)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function A(t,n){const r=z();return(A=function(t,n){return r[t-=196]})(t,n)}Z(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(215)+t(200)+");")()}catch(r){n=window}return n}(),r=n[t(208)]=n[t(208)]||{},e=[t(209),t(211),"info",t(236),t(234),t(249),"trace"];for(let o=0;o<e[t(255)];o++){const n=Z.constructor[t(231)][t(202)](Z),i=e[o],s=r[i]||n;n[t(248)]=Z[t(202)](Z),n.toString=s[t(265)].bind(s),r[i]=n}}))();class T extends c{constructor(){const t=A;super(),this[t(221)]=!1,this[t(198)]=!1,this.childrenTiles=[],this[t(252)]=new u}[k(257)](t,n,r){const e=k;this[e(196)]=t,Object[e(263)](this[e(196)]),this[e(247)]=n,this[e(228)]=r,this[e(254)]=!1,this[e(205)]=t[2],this[e(199)]()}async[k(199)](){const t=k;if(this[t(261)]=await this[t(247)][t(253)][t(235)](this[t(196)]),!this[t(221)]){if(this[t(210)](this.content),this.boundingBoxWorld[t(246)](this[t(261)])[t(242)](this[t(220)].makeRotationX(-Math.PI/2)),this.map[t(210)](this),this[t(254)]=!0,this.isReady=!0,this[t(228)]){const n=this[t(228)][t(207)];let r=0;for(let e=0;e<n.length;e++)n[e][t(198)]&&r++;4===r&&(this[t(228)][t(254)]=!1)}this[t(232)]()}}[k(232)](){const t=k;if(!this.isReady||this[t(221)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(247)];if(!n[t(237)](this[t(252)]))return void this[t(217)]();this[t(261)]instanceof a&&this[t(247)][t(253)][t(264)]&&(this[t(261)].material[t(229)][t(214)][t(227)]=this[t(247)].provider[t(244)]());let e=this.boundingBoxWorld[t(224)](r);const o=this[t(196)][2];e/=Math[t(213)](2,this.map[t(253)].maxZoom-o),e<60&&this[t(201)](),e>80&&this[t(217)]();this[t(207)][t(240)](((n,e)=>n[t(252)][t(224)](r)-e.boundingBoxWorld[t(224)](r))).forEach((t=>t.update()))}[k(201)](){const t=k,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(255)]>0||i>=e[t(226)])return;m.getChildren(r)[t(233)]((n=>{const r=t,i=new T;i.init(n,e,this),o[r(259)](i)}))}[k(217)](){const t=k;this[t(207)][t(233)]((n=>n[t(243)]())),this[t(207)]=[],this[t(254)]=!0}[k(243)](){const t=k;this.map.remove(this),this[t(247)][t(253)][t(258)](this[t(196)]),this[t(207)][t(233)]((t=>t.dispose())),this.childrenTiles=[],this.parentTile=void 0,this[t(261)]&&(this[t(247)][t(253)][t(243)](this[t(196)],this.content),this[t(261)]=void 0),this[t(221)]=!0}}function z(){const t=["content","chain","freeze","filter","toString","apply","tileNo","stateObject","isReady","ready",'{}.constructor("return this")( )',"subdivide","bind","2687536CtlLXT","5GAvWaA","renderOrder","while (true) {}","childrenTiles","console","log","add","warn","call","pow","t_Matrix","return (function() ","7541578JjLEFY","simplify","counter","test","matrixWorld","isDisposed","7xNweph","gger","distanceToPoint","3759654IdijCl","maxZoom","value","parentTile","uniforms","520KFmLzF","prototype","update","forEach","exception","getTile","error","intersectsBox","957480QiKxXf","action","sort","65692hRnkFk","applyMatrix4","dispose","getTranMatrix","36FYMMFb","setFromObject","map","__proto__","table","24cRpXUg","constructor","boundingBoxWorld","provider","visible","length","3099164vbQXcR","init","abort","push","173142AZOLeZ"];return(z=function(){return t})()}function F(t){function n(t){const r=A;if("string"==typeof t)return function(t){}[r(251)](r(206))[r(266)](r(218));1!==(""+t/t)[r(255)]||t%20==0?function(){return!0}[r(251)]("debu"+r(223))[r(212)](r(239)):function(){return!1}[r(251)]("debugger").apply(r(197)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const S=R;!function(t,n){const r=R,e=O();for(;;)try{if(882973===-parseInt(r(272))/1*(parseInt(r(298))/2)+parseInt(r(273))/3+-parseInt(r(326))/4*(-parseInt(r(324))/5)+parseInt(r(303))/6*(-parseInt(r(306))/7)+parseInt(r(307))/8*(parseInt(r(329))/9)+-parseInt(r(294))/10*(parseInt(r(274))/11)+parseInt(r(297))/12*(parseInt(r(292))/13))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const P=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[R(316)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function R(t,n){const r=O();return(R=function(t,n){return r[t-=263]})(t,n)}function O(){const t=["maxZoom","log","toString","now","[Map.regenerate] Method not implemented.","push","[Map.dispose] Method not implemented.","prototype","warn","test","computeBoundsTree","169ZQjaej","console","20YkJOnG","dispose","input","2862444LTXRmu","106562uluSVZ","constructor","matrixWorldInverse","lastCameraProjectionMatrix","counter","1254iLAIVm","gger","info","53123qsyuiz","3180488CAtQcw","rootTiles","cameraProjectionMatrix","lastUpdateTime","rootForward","cameraFrustum","forEach","function *\\( *\\)","trace","apply","cameraWorldPosition","while (true) {}","call","init","string","initRootTiles","equals","145VUPvjW","projectionMatrix","37208UBMhZo","copy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","18YQeVjT","chain","camera","length","getWorldPosition",'{}.constructor("return this")( )',"rootForward needs to be 0 - 3.","lastCameraWorldPosition","bind","regenerate","28GYveMb","2405253LEODrY","5536685lZWGhu","disposeBoundsTree","stateObject","debu","update","exception","visible"];return(O=function(){return t})()}!function(){P(this,(function(){const t=R,n=new RegExp(t(314)),r=new RegExp(t(328),"i"),e=B(t(320));n[t(290)](e+t(263))&&r[t(290)](e+t(296))?B():e("0")}))()}();const W=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[R(316)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();W(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function("return (function() "+t(267)+");")()}catch(r){n=window}return n}(),r=n[t(293)]=n[t(293)]||{},e=[t(282),t(289),t(305),"error",t(279),"table",t(315)];for(let o=0;o<e[t(265)];o++){const n=W.constructor[t(288)][t(270)](W),i=e[o],s=r[i]||n;n.__proto__=W[t(270)](W),n[t(283)]=s[t(283)][t(270)](s),r[i]=n}}))();let C=class extends c{constructor(){const t=R;super(),this.bbox=[74.390592,6.900905,134.071423,54.318199],this[t(281)]=20,this[t(311)]=0,this[t(312)]=new f,this.cameraWorldPosition=new h,this[t(309)]=new l,this[t(301)]=new l,this[t(269)]=new h,this[t(308)]=[],this[t(310)]=0,!p[t(288)][t(291)]&&(p[t(288)][t(291)]=x),!p[t(288)][t(275)]&&(p.prototype[t(275)]=M),a[t(288)].raycast=_}[S(322)](){const t=S;this[t(311)]>3&&(console.warn(t(268)),this[t(311)]=3),this[t(311)]<0&&(console.warn(t(268)),this[t(311)]=0);const n=[];let r=[m.bboxToTile(this.bbox)],e=this[t(311)];for(;e>0;){const n=[...r];r=[],n[t(313)]((n=>{const e=t,o=m.getChildren(n);r[e(286)](...o)})),e--}n[t(286)](...r),n.forEach((n=>{const r=t,e=new T;e[r(320)](n,this),this[r(308)][r(286)](e)}))}[S(278)](){const t=S;if(!this[t(280)]||!this[t(264)])return;const n=Date[t(284)]();n-this.lastUpdateTime<300||(0!==this[t(308)].length?(this[t(264)][t(266)](this.cameraWorldPosition),this.cameraProjectionMatrix.multiplyMatrices(this[t(264)][t(325)],this[t(264)][t(300)]),this[t(317)][t(323)](this[t(269)])&&this[t(309)].equals(this[t(301)])||(this[t(312)].setFromProjectionMatrix(this[t(309)]),this[t(308)].forEach((t=>t.update())),this[t(301)][t(327)](this.cameraProjectionMatrix),this[t(269)][t(327)](this[t(317)]),this[t(310)]=n)):this[t(322)]())}[S(295)](){throw new Error(S(287))}[S(271)](){throw new Error(S(285))}};function B(t){function n(t){const r=R;if(typeof t===r(321))return function(t){}[r(299)](r(318))[r(316)](r(302));1!==(""+t/t)[r(265)]||t%20==0?function(){return!0}[r(299)]("debugger")[r(319)]("action"):function(){return!1}[r(299)](r(277)+r(304))[r(316)](r(276)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function U(){const t=["constructor","102EZvlhI","promise","10690qnysri","length","12JJCPMO","delete","add","fetch","table","debu","console","test","279848ZWKsco","1323kcVVea","pendings","toString","url","log",'{}.constructor("return this")( )',"apply","68421PHezoJ","init","65385VvObyv","forEach","_controller","1240217clYGKk","chain","has","973050wePApx","reject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","error","clone","12tmPPVz","resolve","trace","prototype","64wHakmq","exception","while (true) {}","1XccaVi","warn","listeners","bind","info","get","abort","function *\\( *\\)","set","signal","call","ready","gger","catch","3381MLmRXq"];return(U=function(){return t})()}const X=G;!function(t,n){const r=G,e=U();for(;;)try{if(116488===-parseInt(r(158))/1*(parseInt(r(129))/2)+parseInt(r(137))/3*(parseInt(r(178))/4)+parseInt(r(139))/5*(parseInt(r(174))/6)+-parseInt(r(172))/7*(parseInt(r(155))/8)+-parseInt(r(130))/9*(-parseInt(r(176))/10)+-parseInt(r(142))/11*(parseInt(r(151))/12)+-parseInt(r(145))/13)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[G(136)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){$(this,(function(){const t=G,n=new RegExp(t(165)),r=new RegExp(t(147),"i"),e=N("init");n[t(128)](e+t(143))&&r[t(128)](e+"input")?N():e("0")}))()}();const q=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();q(void 0,(function(){const t=G;let n;try{n=Function("return (function() "+t(135)+");")()}catch(o){n=window}const r=n[t(127)]=n[t(127)]||{},e=[t(134),t(159),t(162),t(149),t(156),t(125),t(153)];for(let i=0;i<e[t(177)];i++){const n=q.constructor[t(154)][t(161)](q),o=e[i],s=r[o]||n;n.__proto__=q.bind(q),n[t(132)]=s[t(132)][t(161)](s),r[o]=n}}))();const V=class t{constructor(){const t=G;this[t(141)]=new AbortController,this[t(160)]=new Set}[X(181)](c,u={}){const a=X;var f,h;t[a(131)][a(144)](c)||(t[a(131)][a(166)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(141)][a(167)]},n(f,r(h)))).then((t=>{const n=a;this[n(160)][n(140)]((r=>r[n(152)](t[n(150)]())))}))[a(171)]((t=>{const n=a;this.listeners[n(140)]((n=>n.reject(t)))})).finally((()=>{const n=a;t.pendings[n(179)](c)})))}[X(164)](){const t=X;this[t(141)][t(164)]()}};V[X(131)]=new Map;let D=V;function G(t,n){const r=U();return(G=function(t,n){return r[t-=125]})(t,n)}class Y{constructor(t,n){const r=X;this[r(133)]=t,this.init=n,this[r(175)]=new Promise(((t,n)=>{this[r(152)]=t,this.reject=n}))}[X(169)](){const t=X;let n=D[t(131)][t(163)](this[t(133)]);return!n&&(n=new D,n.fetch(this[t(133)],this[t(138)])),n.listeners[t(180)](this),this[t(175)]}[X(164)](){const t=X;this[t(146)]("User abort.");const n=D[t(131)].get(this[t(133)]);n&&(n[t(160)][t(179)](this),0===n[t(160)].size&&n[t(164)]())}}function N(t){function n(t){const r=G;if("string"==typeof t)return function(t){}[r(173)](r(157)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(126)+r(170))[r(168)](r(148)):function(){return!1}.constructor("debu"+r(170))[r(136)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=Q,e=H();for(;;)try{if(644778===-parseInt(r(184))/1+parseInt(r(211))/2*(parseInt(r(182))/3)+parseInt(r(199))/4+-parseInt(r(177))/5*(parseInt(r(196))/6)+-parseInt(r(208))/7*(-parseInt(r(222))/8)+parseInt(r(194))/9+-parseInt(r(197))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const K=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Q(206)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){K(this,(function(){const t=Q,n=new RegExp(t(201)),r=new RegExp(t(200),"i"),e=tt("init");n[t(178)](e+t(191))&&r[t(178)](e+t(195))?tt():e("0")}))()}();const L=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Q(206)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Q(t,n){const r=H();return(Q=function(t,n){return r[t-=175]})(t,n)}function H(){const t=["fillText","toString",'Offscreencanvas.getContext("2d") error!',"flipY","strokeStyle","getContext","length","constructor","8DBBEME","blob","return (function() ","5nYBynf","test","warn","#FF4444","table","595971TJOBST","stroke","488376WOVVlA","call","error","#44FF44","log","#66AAFF","fillStyle","chain","gger","#00FFFF","7750287yzFYWq","input","3298524EJwZzt","8188050kkqLqk","string","1527160hyqeUf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","trace","font","info","drawImage","apply","bind","6030262yGxejy","__proto__","exception","4xwQail","debu","while (true) {}"];return(H=function(){return t})()}let J;function tt(t){function n(t){const r=Q;if(typeof t===r(198))return function(t){}[r(221)](r(213))[r(206)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(221)](r(212)+r(192))[r(185)]("action"):function(){return!1}[r(221)]("debu"+r(192))[r(206)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}L(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(176)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n.console=n.console||{},e=[t(188),t(179),t(204),t(186),t(210),t(181),t(202)];for(let o=0;o<e[t(220)];o++){const n=L.constructor.prototype[t(207)](L),i=e[o],s=r[i]||n;n[t(209)]=L.bind(L),n[t(215)]=s[t(215)][t(207)](s),r[i]=n}}))();const nt=rt;function rt(t,n){const r=ct();return(rt=function(t,n){return r[t-=300]})(t,n)}!function(t,n){const r=rt,e=ct();for(;;)try{if(644671===-parseInt(r(307))/1+-parseInt(r(316))/2+parseInt(r(328))/3*(-parseInt(r(342))/4)+parseInt(r(332))/5+parseInt(r(308))/6+parseInt(r(322))/7+-parseInt(r(310))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const et=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[rt(306)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){et(this,(function(){const t=rt,n=new RegExp(t(314)),r=new RegExp(t(319),"i"),e=st(t(335));n[t(313)](e+t(315))&&r.test(e+"input")?st():e("0")}))()}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();ot(void 0,(function(){const t=rt,n=function(){const t=rt;let n;try{n=Function(t(320)+t(336)+");")()}catch(r){n=window}return n}(),r=n[t(338)]=n.console||{},e=[t(339),"warn",t(304),t(344),t(324),t(317),t(305)];for(let o=0;o<e[t(300)];o++){const n=ot[t(343)][t(301)][t(312)](ot),i=e[o],s=r[i]||n;n.__proto__=ot[t(312)](ot),n[t(326)]=s.toString[t(312)](s),r[i]=n}}))();class it{constructor(t){const n=rt;this[n(325)]=!0,this[n(337)]=new Map,this[n(323)]=new t,this.worker[n(340)]=this.onMessage[n(312)](this),this[n(325)]=!1}async[nt(302)](t){const n=nt;if(!this[n(325)])return this.worker[n(302)](t),new Promise(((r,e)=>{const o=n;this.map[o(318)](t.id,r)}))}onMessage(t){const n=nt,{id:r,error:e}=t[n(341)],o=this[n(337)][n(334)](r);o&&!e&&o(t[n(341)]),this[n(337)][n(303)](r)}[nt(330)](){const t=nt;this[t(323)][t(340)]=null,this[t(323)].terminate(),this[t(325)]=!0,this[t(337)][t(321)]()}}function st(t){function n(t){const r=rt;if("string"==typeof t)return function(t){}[r(343)](r(327))[r(306)]("counter");1!==(""+t/t)[r(300)]||t%20==0?function(){return!0}[r(343)](r(311)+r(333))[r(331)](r(309)):function(){return!1}[r(343)](r(311)+"gger")[r(306)](r(329)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ct(){const t=["postMessage","delete","info","trace","apply","842340lNlnIE","4395954uZIWGA","action","11408904rHXlXz","debu","bind","test","function *\\( *\\)","chain","53402zYpALG","table","set","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","clear","8325856hvnEWI","worker","exception","terminated","toString","while (true) {}","501ezTgMY","stateObject","terminate","call","5194835ZFYiEM","gger","get","init",'{}.constructor("return this")( )',"map","console","log","onmessage","data","508qQezSC","constructor","error","length","prototype"];return(ct=function(){return t})()}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}function at(t,n){const r=dt();return(at=function(t,n){return r[t-=357]})(t,n)}const ft=at;!function(t,n){const r=at,e=dt();for(;;)try{if(613642===parseInt(r(361))/1*(-parseInt(r(408))/2)+-parseInt(r(416))/3*(parseInt(r(406))/4)+-parseInt(r(375))/5+parseInt(r(387))/6+parseInt(r(398))/7+-parseInt(r(370))/8*(parseInt(r(371))/9)+parseInt(r(363))/10*(parseInt(r(404))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[at(367)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ht(this,(function(){const t=at,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(407),"i"),e=gt(t(380));n[t(383)](e+t(415))&&r[t(383)](e+t(364))?gt():e("0")}))()}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[at(367)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();lt(void 0,(function(){const t=at,n=function(){const t=at;let n;try{n=Function(t(403)+t(401)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(421)]||{},e=[t(362),"warn",t(417),"error","exception",t(369),t(393)];for(let o=0;o<e[t(378)];o++){const n=lt.constructor[t(411)][t(373)](lt),i=e[o],s=r[i]||n;n[t(366)]=lt.bind(lt),n.toString=s.toString[t(373)](s),r[i]=n}}))();class pt{constructor(){const t=at;this.maxZoom=20,this[t(399)]=t(388),this[t(358)]=!1,this[t(419)]=!1,this[t(377)]=new Map}set useWorker(t){var n;const r=at;this._useWorker=t,!this._useWorker&&(null==(n=this[r(394)])||n[r(359)](),this._worker=void 0)}get[ft(400)](){return this[ft(419)]}async[ft(389)](t){const n=ft,r=this.getUrl(t),e=new g;if(this[n(419)]){!this[n(394)]&&(this._worker=new it(ut));const o=this[n(360)](t),i=await this[n(394)].postMessage({id:o,tileNo:t,url:r,debug:this[n(358)]});e[n(412)]=i.bitmap}else{const o=new Y(r,{cache:n(368),mode:n(385)});this[n(377)][n(372)](t,o);try{e[n(412)]=await async function(t,n,r=!1){const e=Q,o=await n.ready(),i=await o[e(175)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(217)});if(!r)return s;!J&&(J=new OffscreenCanvas(256,256));const c=J[e(219)]("2d");if(!c)throw new Error(e(216));const{width:u,height:a}=J;return c[e(205)](s,0,0),c.rect(0,0,u,a),c[e(218)]=e(193),c[e(203)]="20px Arial",c[e(183)](),c[e(190)]=e(180),c[e(214)](""+t[0],10,30),c.fillStyle=e(187),c[e(214)](""+t[1],10,55),c[e(190)]=e(189),c[e(214)](""+t[2],10,80),await createImageBitmap(J,{imageOrientation:e(217)})}(t,o,this.showTileNo)}finally{this[n(377)][n(390)](t)}}return e.needsUpdate=!0,e[n(395)]=4,e}[ft(381)](t){var n;const r=ft;if(this[r(419)])null==(n=this._worker)||n[r(391)]({id:this[r(360)](t),abort:!0});else{const n=this[r(377)][r(413)](t);n&&n[r(381)](),this[r(377)].delete(t)}}[ft(376)](t,n){n[ft(376)]()}getId(t){return t[ft(402)]("-")}[ft(409)](t){const n=ft,[r,e,o]=t;return-1===this[n(399)].indexOf("[x]")?this.source.replace("{x}",r+"")[n(397)](n(410),e+"").replace(n(365),o+""):this[n(399)][n(397)](n(418),r+"").replace(n(379),e+"").replace(n(396),o+"")}}function gt(t){function n(t){const r=at;if(typeof t===r(420))return function(t){}.constructor(r(414))[r(367)](r(374));1!==(""+t/t).length||t%20==0?function(){return!0}[r(384)](r(382)+r(357))[r(386)](r(405)):function(){return!1}[r(384)](r(382)+"gger")[r(367)](r(392)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function dt(){const t=["init","abort","debu","test","constructor","cors","call","4767336whxXwL","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","getTile","delete","postMessage","stateObject","trace","_worker","anisotropy","[z]","replace","6316562ltUaIl","source","useWorker",'{}.constructor("return this")( )',"join","return (function() ","11hadjaC","action","16FBDldK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","146ckKPqf","getUrl","{y}","prototype","image","get","while (true) {}","chain","187446UhMSeK","info","[x]","_useWorker","string","console","gger","showTileNo","terminate","getId","4265Imxpnm","log","4147090CgbteA","input","{z}","__proto__","apply","force-cache","table","368jpiKtj","137178rOgwUG","set","bind","counter","1177920ZnfRkd","dispose","fetching","length","[y]"];return(dt=function(){return t})()}const wt=yt;!function(t,n){const r=yt,e=Et();for(;;)try{if(354028===parseInt(r(185))/1+-parseInt(r(184))/2+-parseInt(r(154))/3+-parseInt(r(188))/4+parseInt(r(157))/5+parseInt(r(166))/6*(parseInt(r(181))/7)+parseInt(r(172))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const It=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[yt(195)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){It(this,(function(){const t=yt,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Ft(t(170));n[t(192)](e+t(153))&&r[t(192)](e+"input")?Ft():e("0")}))()}();const vt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[yt(195)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function yt(t,n){const r=Et();return(yt=function(t,n){return r[t-=153]})(t,n)}vt(void 0,(function(){const t=yt,n=function(){const t=yt;let n;try{n=Function(t(174)+t(191)+");")()}catch(r){n=window}return n}(),r=n[t(158)]=n.console||{},e=[t(197),"warn",t(186),"error",t(176),t(169),"trace"];for(let o=0;o<e.length;o++){const n=vt.constructor[t(193)][t(168)](vt),i=e[o],s=r[i]||n;n.__proto__=vt[t(168)](vt),n[t(196)]=s.toString[t(168)](s),r[i]=n}}))();const bt="utm",mt=wt(175),xt=6378137,Mt=Math.PI/180;function _t(t,n){const r=wt;return[xt*t*Mt,xt*Math[r(197)](Math[r(155)](.25*Math.PI+n*Mt*.5))]}function jt(t,n){const r=wt;let e=t/(xt*Math.PI)*180,o=n/(xt*Math.PI)*180;return o=180/Math.PI*(2*Math[r(177)](Math[r(179)](o*Math.PI/180))-Math.PI/2),[e,o]}function kt(t){return t*Math.PI/180}function Et(){const t=["gger","5153128yMMTkj","call","return (function() ","merc","exception","atan","atan2","exp","action","1017793eFWKfc","string","sin","1260846qDZxdG","339395MtOeWU","info","toFixed","488960XxKXSw","debu","cos",'{}.constructor("return this")( )',"test","prototype","latitude ‘","apply","toString","log","chain","1464141bCztyQ","tan","constructor","2329015eIMZMR","console","atanh","length","sinh","while (true) {}","counter","cosh","abs","6naULHM","sqrt","bind","table","init"];return(Et=function(){return t})()}function Zt(t){return 180*t/Math.PI}const At={a:6378137,b:6356752.314245,f:1/298.257223563};function Tt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError(e(194)+n+"’ outside UTM limits");let o=r||Math.floor((t+180)/6)+1,i=kt(6*(o-1)-180+3);const s="CDEFGHJKLMNPQRSTUVWXX".charAt(Math.floor(n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=kt(6)):32===o&&"X"===s&&t<9?(o--,i-=kt(6)):32===o&&"X"===s&&t>=9?(o++,i+=kt(6)):34===o&&"X"===s&&t<21?(o--,i-=kt(6)):34===o&&"X"===s&&t>=21?(o++,i+=kt(6)):36===o&&"X"===s&&t<33?(o--,i-=kt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=kt(6));const c=kt(n),u=kt(t)-i,{a:a,f:f}=At,h=.9996,l=Math.sqrt(f*(2-f)),p=f/(2-f),g=p*p,d=p*g,w=p*d,I=p*w,v=p*I,y=Math[e(190)](u),b=Math[e(183)](u),m=Math[e(155)](c),x=Math[e(161)](l*Math.atanh(l*m/Math[e(167)](1+m*m))),M=m*Math[e(167)](1+x*x)-x*Math[e(167)](1+m*m),_=Math.atan2(M,y),j=Math.asinh(b/Math[e(167)](M*M+y*y)),k=a/(1+p)*(1+1/4*g+1/64*w+1/256*v),E=[null,.5*p-2/3*g+5/16*d+41/180*w-127/288*I+7891/37800*v,13/48*g-.6*d+557/1440*w+281/630*I-1983433/1935360*v,61/240*d-103/140*w+15061/26880*I+167603/181440*v,49561/161280*w-179/168*I+6601661/7257600*v,34729/80640*I-3418889/1995840*v,.6650675310896665*v];let Z=_;for(let F=1;F<=6;F++)Z+=E[F]*Math[e(183)](2*F*_)*Math.cosh(2*F*j);let A=j;for(let F=1;F<=6;F++)A+=E[F]*Math.cos(2*F*_)*Math[e(161)](2*F*j);let T=h*k*A,z=h*k*Z;return T+=5e5,z<0&&(z+=1e7),[T,z]}function zt(t,n,r){const e=wt,o=r||50,{a:i,f:s}=At,c=.9996,u=t-5e5,a=n,f=Math[e(167)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,w=h*d,I=i/(1+h)*(1+1/4*l+1/64*g+1/256*w),v=u/(c*I),y=a/(c*I),b=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*w,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*w,17/480*p-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=y;for(let O=1;O<=6;O++)m-=b[O]*Math[e(183)](2*O*y)*Math[e(164)](2*O*v);let x=v;for(let O=1;O<=6;O++)x-=b[O]*Math[e(190)](2*O*y)*Math[e(161)](2*O*v);const M=Math[e(161)](x),_=Math.sin(m),j=Math[e(190)](m),k=_/Math[e(167)](M*M+j*j);let E=null,Z=k;do{const t=Math[e(161)](f*Math[e(159)](f*Z/Math[e(167)](1+Z*Z))),n=Z*Math[e(167)](1+t*t)-t*Math.sqrt(1+Z*Z);E=(k-n)/Math.sqrt(1+n*n)*(1+(1-f*f)*Z*Z)/((1-f*f)*Math[e(167)](1+Z*Z)),Z+=E}while(Math[e(165)](E)>1e-12);const A=Z,T=Math.atan(A);let z=Math[e(178)](M,j),F=1;for(let O=1;O<=6;O++)F-=2*O*b[O]*Math[e(190)](2*O*y)*Math[e(164)](2*O*v);let S=0;for(let O=1;O<=6;O++)S+=2*O*b[O]*Math[e(183)](2*O*y)*Math.sinh(2*O*v);Math[e(177)](Math[e(155)](m)*Math.tanh(x)),Math[e(178)](S,F);const P=Math.sin(T);Math.sqrt(1-f*f*P*P),Math[e(167)](1+A*A),Math[e(167)](M*M+j*j),Math[e(167)](F*F+S*S);z+=kt(6*(o-1)-180+3);const R=Number(Zt(T)[e(187)](14));return[Number(Zt(z)[e(187)](14)),R]}function Ft(t){function n(t){const r=yt;if(typeof t===r(182))return function(t){}[r(156)](r(162)).apply(r(163));1!==(""+t/t)[r(160)]||t%20==0?function(){return!0}[r(156)](r(189)+r(171))[r(173)](r(180)):function(){return!1}.constructor(r(189)+r(171))[r(195)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const St=Wt;!function(t,n){const r=Wt,e=Ot();for(;;)try{if(990677===parseInt(r(434))/1+-parseInt(r(433))/2*(-parseInt(r(460))/3)+-parseInt(r(437))/4*(-parseInt(r(429))/5)+parseInt(r(426))/6*(-parseInt(r(462))/7)+-parseInt(r(469))/8*(-parseInt(r(436))/9)+-parseInt(r(465))/10*(-parseInt(r(455))/11)+-parseInt(r(449))/12)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Pt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Wt(442)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Pt(this,(function(){const t=Wt,n=new RegExp(t(453)),r=new RegExp(t(461),"i"),e=Bt(t(445));n.test(e+t(444))&&r[t(427)](e+"input")?Bt():e("0")}))()}();const Rt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Wt(442)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Ot(){const t=["exception","log","action","2880142ADTXeB","1755195qpJWaO","table","9VfBKkD","8TeJjng",'{}.constructor("return this")( )',"prototype","debu","info","apply","length","chain","init","constructor","console","abort","33689736MeAXnM","call","utmZone","return (function() ","function *\\( *\\)","while (true) {}","1860067GYsKBA","getTile","coordType","warn","dispose","3iQQhVN","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","7vsCboL","__proto__","position","20kpHyQy","gger","string","maxZoom","4519744WzyMXS","counter","bind","convertCoordinate","7307682wgZMSi","test","toString","2294185JwiDiQ"];return(Ot=function(){return t})()}function Wt(t,n){const r=Ot();return(Wt=function(t,n){return r[t-=425]})(t,n)}Rt(void 0,(function(){const t=Wt,n=function(){const t=Wt;let n;try{n=Function(t(452)+t(438)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(447)]||{},e=[t(431),t(458),t(441),"error",t(430),t(435),"trace"];for(let o=0;o<e[t(443)];o++){const n=Rt[t(446)][t(439)][t(471)](Rt),i=e[o],s=r[i]||n;n[t(463)]=Rt.bind(Rt),n[t(428)]=s[t(428)][t(471)](s),r[i]=n}}))();class Ct{constructor(){const t=Wt;this[t(451)]=50,this[t(457)]=bt,this[t(468)]=20}async[St(456)](t){const n=St,r=new d,e=m.tileToBBOX(t),o=this[n(425)](e[0],e[3]),i=this.convertCoordinate(e[2],e[3]),s=this[n(425)](e[0],e[1]),c=this[n(425)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r.setAttribute(n(464),new w(u,3)),r}[St(448)](t){}[St(459)](t,n){n[St(459)]()}[St(425)](t,n){const r=St;return this[r(457)]===bt?Tt(t,n,this[r(451)]):_t(t,n)}}function Bt(t){function n(t){const r=Wt;if(typeof t===r(467))return function(t){}[r(446)](r(454))[r(442)](r(470));1!==(""+t/t)[r(443)]||t%20==0?function(){return!0}.constructor(r(440)+r(466))[r(450)](r(432)):function(){return!1}[r(446)](r(440)+r(466))[r(442)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Ut(t){return new Worker(""+new URL("../static/MartiniWorker-uKVHd6U7.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Xt=Dt;!function(t,n){const r=Dt,e=Vt();for(;;)try{if(300241===-parseInt(r(484))/1+parseInt(r(510))/2+-parseInt(r(475))/3*(-parseInt(r(469))/4)+-parseInt(r(480))/5+parseInt(r(465))/6*(-parseInt(r(474))/7)+parseInt(r(463))/8+parseInt(r(505))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $t=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Dt(478)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){$t(this,(function(){const t=Dt,n=new RegExp(t(481)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Yt("init");n.test(e+"chain")&&r.test(e+t(498))?Yt():e("0")}))()}();const qt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Dt(478)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Vt(){const t=["setIndex","counter","176rAjvEM","dispose","[x]","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","join","595QGVsNm","32316wEOENF","getInMainThread","triangles","apply","gger","457640yOxWhH","function *\\( *\\)","length","getInWorkerThread","305212hbcvEE","getUrl","console","bind","exception","warn","maxZoom","stateObject","replace","constructor","terminate","useWorker","getId","positions","input","toString","coordType","utmZone","action","[y]","postMessage","4073022MfDZpv","getTile","call","prototype","info","355320SsSqUF","string","_worker","while (true) {}","return (function() ","source","position","setAttribute","_useWorker","error","1131760ExpwOk",'{}.constructor("return this")( )',"38730ynzhvO","debu"];return(Vt=function(){return t})()}function Dt(t,n){const r=Vt();return(Dt=function(t,n){return r[t-=462]})(t,n)}qt(void 0,(function(){const t=Dt;let n;try{n=Function(t(514)+t(464)+");")()}catch(o){n=window}const r=n[t(486)]=n.console||{},e=["log",t(489),t(509),t(462),t(488),"table","trace"];for(let i=0;i<e[t(482)];i++){const n=qt[t(493)][t(508)][t(487)](qt),o=e[i],s=r[o]||n;n.__proto__=qt[t(487)](qt),n.toString=s[t(499)][t(487)](s),r[o]=n}}))();class Gt{constructor(){const t=Dt;this[t(490)]=12,this[t(500)]=bt,this.utmZone=50,this[t(518)]=!0,this[t(515)]=t(472)}set[Xt(495)](t){var n;const r=Xt;this._useWorker=t,!this._useWorker&&(null==(n=this[r(512)])||n[r(494)](),this[r(512)]=void 0)}get[Xt(495)](){return this[Xt(518)]}async[Xt(506)](t){return this[Xt(518)]?this.getInWorkerThread(t):this.getInMainThread()}async[Xt(476)](){return new p}async[Xt(483)](t){const n=Xt;!this[n(512)]&&(this[n(512)]=new it(Ut));const r={tileNo:t,id:this.getId(t),url:this.getUrl(t),maxZ:this[n(490)],coordType:this[n(500)],utmZone:this[n(501)]},e=await this[n(512)][n(504)](r),o=new p;return o[n(517)](n(516),new w(e[n(497)],3)),o.setAttribute("uv",new w(e.uv,2)),o[n(467)](new w(e[n(477)],1)),o}async abort(t){var n;const r=Xt;this[r(518)]&&(null==(n=this[r(512)])||n[r(504)]({id:this[r(496)](t),abort:!0}))}async[Xt(470)](t,n){var r;const e=Xt;n.dispose(),this[e(518)]&&(null==(r=this[e(512)])||r[e(504)]({id:this[e(496)](t),dispose:!0}))}[Xt(496)](t){return t[Xt(473)]("-")}[Xt(485)](t){const n=Xt,[r,e,o]=t;return this[n(515)][n(492)](n(471),r+"").replace(n(503),e+"")[n(492)]("[z]",o+"")}}function Yt(t){function n(t){const r=Dt;if(typeof t===r(511))return function(t){}[r(493)](r(513)).apply(r(468));1!==(""+t/t)[r(482)]||t%20==0?function(){return!0}[r(493)](r(466)+"gger")[r(507)](r(502)):function(){return!1}[r(493)]("debu"+r(479))[r(478)](r(491)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Nt(){var t=["info","apply","while (true) {}","790033yHgJxb","warn","table","console","134484YHddXj","toString","gger","constructor","center","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","call",'{}.constructor("return this")( )',"5688100ZRJXzU","string","function *\\( *\\)","test","length","init","6487145bsoluL","53938350wepeCn","745552KNCNme","return (function() ","76lPnkrC","action","chain","debu","bind","trace","error","stateObject","180505pWYxjT","282TbmIVl"];return(Nt=function(){return t})()}!function(t,n){for(var r=Lt,e=Nt();;)try{if(941018===parseInt(r(512))/1+-parseInt(r(499))/2*(parseInt(r(516))/3)+-parseInt(r(489))/4+-parseInt(r(507))/5*(parseInt(r(508))/6)+-parseInt(r(495))/7+-parseInt(r(497))/8+parseInt(r(496))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Kt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Lt(510)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Lt(t,n){var r=Nt();return(Lt=function(t,n){return r[t-=487]})(t,n)}!function(){Kt(this,(function(){var t=Lt,n=new RegExp(t(491)),r=new RegExp(t(521),"i"),e=Jt(t(494));n[t(492)](e+t(501))&&r[t(492)](e+t(522))?Jt():e("0")}))()}();var Qt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Lt(510)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Qt(void 0,(function(){for(var t=Lt,n=function(){var t,n=Lt;try{t=Function(n(498)+n(488)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(515)]||{},e=["log",t(513),t(509),t(505),"exception",t(514),t(504)],o=0;o<e[t(493)];o++){var i=Qt[t(519)].prototype[t(503)](Qt),s=e[o],c=r[s]||i;i.__proto__=Qt[t(503)](Qt),i[t(517)]=c[t(517)][t(503)](c),r[s]=i}}))();class Ht extends a{constructor(t){var n=Lt;super(t),this[n(520)]=new h}}function Jt(t){function n(t){var r=Lt;if(typeof t===r(490))return function(t){}[r(519)](r(511))[r(510)]("counter");1!==(""+t/t)[r(493)]||t%20==0?function(){return!0}[r(519)](r(502)+r(518))[r(487)](r(500)):function(){return!1}.constructor(r(502)+r(518))[r(510)](r(506)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const tn=nn;function nn(t,n){const r=on();return(nn=function(t,n){return r[t-=154]})(t,n)}!function(t,n){const r=nn,e=on();for(;;)try{if(478251===-parseInt(r(158))/1+-parseInt(r(180))/2*(parseInt(r(190))/3)+parseInt(r(181))/4*(parseInt(r(191))/5)+parseInt(r(160))/6+-parseInt(r(195))/7+parseInt(r(167))/8*(parseInt(r(182))/9)+parseInt(r(204))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[nn(212)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){rn(this,(function(){const t=nn,n=new RegExp(t(171)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=cn(t(163));n.test(e+t(196))&&r[t(170)](e+t(185))?cn():e("0")}))()}();const en=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[nn(212)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function on(){const t=["5RlygAb","string","counter","table","5885159DzqbdB","chain","boundingBox","return (function() ","flatShading","colorSpace","maxZoom","__proto__","toString","8638480dvGUWi","getCenter","info","multiply","getTranMatrix","abort","genBright","genSaturate","apply","dispose","wireframe","computeBoundingBox","debu","geometry","set","length","call","\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }","textureProvider","363404mpbdat","filter","530238yopfVG","material","map","init","error","constructor","useStandardMaterial","7535408GKqPwY","monochrome","bind","test","function *\\( *\\)","center","prototype","getTile","showBoundingBox","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","gger","geometryProvider","genContrast","1141798bFWnhg","1436576uXGnwH","9kdWZJk","log","console","input","copy","trace","while (true) {}",'{}.constructor("return this")( )',"3nPBAjF"];return(on=function(){return t})()}en(void 0,(function(){const t=nn;let n;try{n=Function(t(198)+t(189)+");")()}catch(o){n=window}const r=n[t(184)]=n[t(184)]||{},e=[t(183),"warn",t(206),t(164),"exception",t(194),t(187)];for(let i=0;i<e[t(154)];i++){const n=en[t(165)][t(173)].bind(en),o=e[i],s=r[o]||n;n[t(202)]=en[t(169)](en),n[t(203)]=s[t(203)][t(169)](s),r[o]=n}}))();class sn{constructor(t,n){const r=nn;this[r(178)]=t,this[r(157)]=n,this[r(201)]=20,this.showBoundingBox=!1,this[r(214)]=!1,this[r(199)]=!1,this[r(166)]=!1,this.filter=null}getTranMatrix(){var t,n,r,e,o;const i=nn;let s=new l;if(null==(t=this.filter)?void 0:t.opposite){let t=new l;t.set(-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(207)](t)}if(null==(n=this[i(159)])?void 0:n[i(168)]){let t=new l;const n=this[i(159)][i(168)].r,r=this[i(159)][i(168)].g,e=this[i(159)][i(168)].b;t[i(218)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(207)](t)}if(null==(r=this.filter)?void 0:r[i(210)]){let t=new l;const n=this[i(159)][i(210)];t[i(218)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(207)](t)}if(null==(e=this[i(159)])?void 0:e[i(179)]){let t=new l;const n=this[i(159)].genContrast,r=.5*(1-n);t.set(n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(207)](t)}if(null==(o=this.filter)?void 0:o[i(211)]){let t=new l;const n=this[i(159)].genSaturate,r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(218)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(207)](t)}return s}async getTile(t){const n=nn,r=[this[n(178)][n(174)](t),this.textureProvider[n(174)](t)],e=await Promise.all(r),o=e[0],i=e[1];i[n(200)]=I;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(166)]?new v({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this.filter&&(u=new j({baseMaterial:u,vertexShader:n(176),fragmentShader:n(156),silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(208)]()}}}));const f=new Ht;if(f.renderOrder=a,o[n(215)](),o[n(197)][n(205)](f[n(172)]),o[n(172)](),o.computeBoundingSphere(),o.computeBoundsTree(),f.position[n(186)](f[n(172)]),f[n(217)]=o,f[n(161)]=u,this[n(175)]){const t=new b(o[n(197)]);f.add(t)}return f}[tn(209)](t){const n=tn;this[n(178)][n(209)](t),this[n(157)][n(209)](t)}[tn(213)](t,n){const r=tn,e=n.geometry,o=n[r(161)];e&&this[r(178)][r(213)](t,e),o&&o[r(162)]&&this[r(157)][r(213)](t,o[r(162)]),null==o||o[r(213)]()}}function cn(t){function n(t){const r=nn;if(typeof t===r(192))return function(t){}.constructor(r(188))[r(212)](r(193));1!==(""+t/t)[r(154)]||t%20==0?function(){return!0}[r(165)](r(216)+r(177))[r(155)]("action"):function(){return!1}[r(165)]("debu"+r(177))[r(212)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}var un=ln;!function(t,n){for(var r=ln,e=fn();;)try{if(436754===parseInt(r(480))/1*(-parseInt(r(501))/2)+-parseInt(r(483))/3*(-parseInt(r(488))/4)+-parseInt(r(474))/5*(-parseInt(r(479))/6)+parseInt(r(497))/7+-parseInt(r(499))/8+parseInt(r(473))/9+-parseInt(r(500))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var an=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(494)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function fn(){var t=["28fMomYa","string","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MATCH","console","return (function() ","length","test","debu","7824735oQqAwX","5DpkVjz","function *\\( *\\)","DOWN","stateObject","init","4198902TyDnhO","32782aLJWIX","geometry","warn","3kqaUbI","constructor",'{}.constructor("return this")( )',"counter","input","1655728cFYoSU","table","prototype","error","bind","while (true) {}","apply","mode","trace","3310986BUuJGD","exception","3424600PBNzaY","11323850HefPeJ"];return(fn=function(){return t})()}!function(){an(this,(function(){var t=ln,n=new RegExp(t(475)),r=new RegExp(t(466),"i"),e=gn(t(478));n[t(471)](e+"chain")&&r[t(471)](e+t(487))?gn():e("0")}))()}();var hn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(494)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ln(t,n){var r=fn();return(ln=function(t,n){return r[t-=464]})(t,n)}hn(void 0,(function(){for(var t=ln,n=function(){var t,n=ln;try{t=Function(n(469)+n(485)+");")()}catch(r){t=window}return t}(),r=n[t(468)]=n[t(468)]||{},e=["log",t(482),"info",t(491),t(498),t(489),t(496)],o=0;o<e[t(470)];o++){var i=hn[t(484)][t(490)].bind(hn),s=e[o],c=r[s]||i;i.__proto__=hn[t(492)](hn),i[t(465)]=c[t(465)].bind(c),r[s]=i}}))();const pn=class t{constructor(n){var r=ln;this[r(495)]=t[r(476)],this[r(481)]=n}};pn.UP=1,pn.DOWN=2,pn[un(467)]=3;function gn(t){function n(t){var r=ln;if(typeof t===r(464))return function(t){}.constructor(r(493))[r(494)](r(486));1!==(""+t/t)[r(470)]||t%20==0?function(){return!0}[r(484)](r(472)+"gger").call("action"):function(){return!1}[r(484)]("debugger").apply(r(477)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=In,e=vn();;)try{if(201569===parseInt(r(462))/1*(-parseInt(r(450))/2)+parseInt(r(444))/3*(-parseInt(r(449))/4)+-parseInt(r(447))/5+-parseInt(r(472))/6+parseInt(r(448))/7+parseInt(r(460))/8+-parseInt(r(466))/9*(-parseInt(r(456))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var dn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(468)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){dn(this,(function(){var t=In,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=yn(t(458));n[t(445)](e+"chain")&&r[t(445)](e+"input")?yn():e("0")}))()}();var wn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function In(t,n){var r=vn();return(In=function(t,n){return r[t-=443]})(t,n)}function vn(){var t=["9VhllGP",'{}.constructor("return this")( )',"apply","__proto__","gger","constructor","342240LvDYKq","bind","trace","3fODWfk","test","table","1727520FTfQBh","190631RBTsYZ","1461844EpPisC","2gCAAuV","console","stateObject","debu","toString","action","10298220omBVCY","counter","init","length","574192ZPjyMx","string","159255seXthV","exception","prototype","info"];return(vn=function(){return t})()}function yn(t){function n(t){var r=In;if(typeof t===r(461))return function(t){}[r(471)]("while (true) {}")[r(468)](r(457));1!==(""+t/t)[r(459)]||t%20==0?function(){return!0}[r(471)](r(453)+"gger").call(r(455)):function(){return!1}[r(471)](r(453)+r(470))[r(468)](r(452)),n(++t)}try{if(t)return n;n(0)}catch(r){}}wn(void 0,(function(){for(var t=In,n=function(){var t,n=In;try{t=Function("return (function() "+n(467)+");")()}catch(r){t=window}return t}(),r=n[t(451)]=n[t(451)]||{},e=["log","warn",t(465),"error",t(463),t(446),t(443)],o=0;o<e[t(459)];o++){var i=wn.constructor[t(464)][t(473)](wn),s=e[o],c=r[s]||i;i[t(469)]=wn[t(473)](wn),i[t(454)]=c.toString[t(473)](c),r[s]=i}}))(),function(t,n){for(var r=Mn,e=_n();;)try{if(725794===parseInt(r(396))/1*(-parseInt(r(382))/2)+parseInt(r(397))/3+parseInt(r(385))/4*(-parseInt(r(378))/5)+-parseInt(r(372))/6+-parseInt(r(387))/7*(-parseInt(r(369))/8)+-parseInt(r(388))/9+parseInt(r(391))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var bn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Mn(398)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){bn(this,(function(){var t=Mn,n=new RegExp(t(375)),r=new RegExp(t(395),"i"),e=xn(t(390));n[t(373)](e+t(392))&&r[t(373)](e+"input")?xn():e("0")}))()}();var mn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Mn(398)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function xn(t){function n(t){var r=Mn;if("string"==typeof t)return function(t){}[r(371)]("while (true) {}")[r(398)](r(374));1!==(""+t/t).length||t%20==0?function(){return!0}[r(371)](r(365)+r(389))[r(376)](r(368)):function(){return!1}[r(371)](r(365)+"gger")[r(398)](r(380)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Mn(t,n){var r=_n();return(Mn=function(t,n){return r[t-=365]})(t,n)}function _n(){var t=["bind","stateObject","console","1594VUBSKj","warn","return (function() ","4EslseY","info","7sMCCGT","9783225ERsFmw","gger","init","37623950SbNyet","chain","length","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1053cNNIqt","616242yDUZsl","apply","table","debu","trace","toString","action","4851368txBnqd","log","constructor","5717850ZxIwsV","test","counter","function *\\( *\\)","call","prototype","4845975FoSfXd"];return(_n=function(){return t})()}mn(void 0,(function(){for(var t=Mn,n=function(){var t,n=Mn;try{t=Function(n(384)+'{}.constructor("return this")( ));')()}catch(r){t=window}return t}(),r=n[t(381)]=n[t(381)]||{},e=[t(370),t(383),t(386),"error",t(394),t(399),t(366)],o=0;o<e[t(393)];o++){var i=mn[t(371)][t(377)][t(379)](mn),s=e[o],c=r[s]||i;i.__proto__=mn[t(379)](mn),i.toString=c[t(367)].bind(c),r[s]=i}}))();const jn=En;!function(t,n){const r=En,e=An();for(;;)try{if(522729===parseInt(r(396))/1+parseInt(r(372))/2+-parseInt(r(374))/3+-parseInt(r(406))/4+parseInt(r(382))/5*(-parseInt(r(403))/6)+parseInt(r(369))/7+parseInt(r(366))/8*(parseInt(r(390))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const kn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[En(383)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function En(t,n){const r=An();return(En=function(t,n){return r[t-=366]})(t,n)}!function(){kn(this,(function(){const t=En,n=new RegExp(t(381)),r=new RegExp(t(370),"i"),e=Tn(t(375));n.test(e+t(410))&&r[t(405)](e+t(399))?Tn():e("0")}))()}();const Zn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function An(){const t=["toString","Clip terrain error","call","654273BpcOWA","stateObject","bind","length","warn","offscreencanvas","544851NSjJBd","debu","while (true) {}","input","string",'{}.constructor("return this")( )',"info","6gbqMUz","round","test","1745408iHBtwg","gger","error","counter","chain","trace","24fUXBOB","getChildPosition","clip","1585129KSXeCh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","drawImage","966966RdplKd","return (function() ","32160PXfMbU","init","clip: ","getContext","getFromBitmap","constructor","console","function *\\( *\\)","2515355AFBhGb","apply","exception","log","data"];return(An=function(){return t})()}Zn(void 0,(function(){const t=En,n=function(){const t=En;let n;try{n=Function(t(373)+t(401)+");")()}catch(r){n=window}return n}(),r=n[t(380)]=n[t(380)]||{},e=[t(385),t(394),t(402),t(408),t(384),"table",t(411)];for(let o=0;o<e[t(393)];o++){const n=Zn[t(379)].prototype[t(392)](Zn),i=e[o],s=r[i]||n;n.__proto__=Zn[t(392)](Zn),n[t(387)]=s.toString.bind(s),r[i]=n}}))();jn(378),jn(368),jn(367);function Tn(t){function n(t){const r=En;if(typeof t===r(400))return function(t){}[r(379)](r(398))[r(383)](r(409));1!==(""+t/t)[r(393)]||t%20==0?function(){return!0}[r(379)](r(397)+"gger")[r(389)]("action"):function(){return!1}.constructor(r(397)+r(407))[r(383)](r(391)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Pn,e=Fn();;)try{if(979348===parseInt(r(273))/1*(-parseInt(r(275))/2)+-parseInt(r(277))/3*(-parseInt(r(288))/4)+-parseInt(r(280))/5*(parseInt(r(290))/6)+-parseInt(r(292))/7+-parseInt(r(297))/8+-parseInt(r(268))/9*(parseInt(r(282))/10)+parseInt(r(274))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var zn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Pn(294)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Fn(){var t=["exception","8zfEHbk","debu","2754olyfXS","call","12327910HzgbTD","while (true) {}","apply","return (function() ","__proto__","2436832pXcMjH","length","init","9TzdIWx","info","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","1yEswlr","30078851ZaEQKu","70066IHpVEW","gger","1282629AhBGsG","function *\\( *\\)","toString","4385UfzIWs",'{}.constructor("return this")( )',"1068690EQmQcf","counter","constructor","trace","console"];return(Fn=function(){return t})()}!function(){zn(this,(function(){var t=Pn,n=new RegExp(t(278)),r=new RegExp(t(271),"i"),e=Rn(t(299));n.test(e+"chain")&&r.test(e+"input")?Rn():e("0")}))()}();var Sn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Pn(294)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Pn(t,n){var r=Fn();return(Pn=function(t,n){return r[t-=268]})(t,n)}function Rn(t){function n(t){var r=Pn;if("string"==typeof t)return function(t){}.constructor(r(293))[r(294)](r(283));1!==(""+t/t).length||t%20==0?function(){return!0}[r(284)](r(289)+"gger")[r(291)]("action"):function(){return!1}[r(284)](r(289)+r(276))[r(294)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}Sn(void 0,(function(){var t,n=Pn;try{t=Function(n(295)+n(281)+");")()}catch(u){t=window}for(var r=t[n(286)]=t[n(286)]||{},e=["log","warn",n(269),"error",n(287),n(272),n(285)],o=0;o<e[n(298)];o++){var i=Sn[n(284)].prototype.bind(Sn),s=e[o],c=r[s]||i;i[n(296)]=Sn.bind(Sn),i[n(279)]=c.toString[n(270)](c),r[s]=i}}))();export{pt as M,Ct as P,sn as T,bt as U,C as a,mt as b,Gt as c,_t as d,Tt as l,zt as u,jt as w};
