import{e as t,b as e,U as n}from"./@tresjs.FlKhQDQ71735866388381.js";import{P as r}from"./tweakpane.yHWGBmom1735866388381.js";import"./index._KC2sCXH1735866388381.js";import{_ as s,aB as o,a0 as i}from"./three.Rja0AEnA1735866388381.js";import{d as a,a4 as u,w as c,o as p,D as l,J as f,u as m,r as d,e as j,f as _,g,j as h,al as v,aj as w,ak as b,m as y}from"./@vue.yG49nQHr1735866388381.js";import{g as I}from"./utils.QBJNzx1E1735866388381.js";import{_ as x}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.KbXI9glQ1735866388381.js";import"./@vueuse.YI3Exu6_1735866388381.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.cIDWrYX71735866388381.js";import"./all.three.XOVNFju71735866388381.js";import"./oimophysics.x0jH7fze1735866388381.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.QLVCW5Vm1735866388381.js";import"./index.id5kPtm81735866388381.js";import"./three-stdlib.ljGSSKXp1735866388381.js";import"./@pmndrs.IQpkozJe1735866388381.js";import"./object-hash.ne_nEdig1735866388381.js";import"./@amap.B1QlzV1D1735866388381.js";import"./jszip.LS64v-ne1735866388381.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.dm0bgwtl1735866388381.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.eP-ga2N11735866388381.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.fLu_QM1L1735866388381.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.pU4oP8vp1735866388381.js";import"./imgFloor.vue_vue_type_script_setup_true_lang._NaZfJ6Z1735866388381.js";import"./@tweenjs.zdhk2VeU1735866388381.js";import"./utils.B-Lr6Pag1735866388381.js";import"./@fesjs.u6K5q1hz1735866388381.js";import"./vue-router.9bMbssc81735866388381.js";import"./lodash-es.kYt-_xTG1735866388381.js";import"./@qlin.yHhFDldE1735866388381.js";import"./pinia.U7dsyb111735866388381.js";import"./vue-demi.C4xddsk91735866388381.js";import"./@floating-ui.BPbuo5Gx1735866388381.js";import"./@juggle.7yjBMqoW1735866388381.js";import"./three-mesh-bvh.uuNiUzrn1735866388381.js";import"./d3-geo.JmGzCcHN1735866388381.js";import"./d3-array.AhNJy1f41735866388381.js";import"./http.f7YBFSyA1735866388381.js";import"./axios.Ng308AU61735866388381.js";import"./color.T-Bh928g1735866388381.js";import"./color-string.drXZrNlH1735866388381.js";import"./color-name.FVTnsJP11735866388381.js";import"./simple-swizzle.ZXpCwuBr1735866388381.js";import"./is-arrayish.X-QrWn8l1735866388381.js";import"./color-convert.8xPj8PCF1735866388381.js";import"./lodash.ZSScUBRq1735866388381.js";import"./naive-ui.VtDguVQe1735866388381.js";import"./date-fns.dsKIdits1735866388381.js";import"./@css-render.Gl2F3FCs1735866388381.js";import"./seemly.SjiSeX2v1735866388381.js";import"./css-render.3D4HNwI11735866388381.js";import"./@emotion.ZD_ZYAgY1735866388381.js";import"./vooks.sUFc9dFX1735866388381.js";import"./evtd.DtfwxtIl1735866388381.js";import"./vueuc.o37XoGp51735866388381.js";import"./vdirs.RMmCayM31735866388381.js";import"./treemate.dcEdf2le1735866388381.js";import"./date-fns-tz.9EXgaR-11735866388381.js";import"./async-validator.-YBkpS4I1735866388381.js";const M=C;!function(t,e){const n=C,r=L();for(;;)try{if(155689===-parseInt(n(497))/1+-parseInt(n(516))/2*(parseInt(n(504))/3)+-parseInt(n(512))/4+parseInt(n(511))/5+-parseInt(n(469))/6*(parseInt(n(506))/7)+parseInt(n(521))/8*(parseInt(n(529))/9)+parseInt(n(482))/10)break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const S=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(476)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=C,e=new RegExp(t(489)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=D(t(472));e.test(r+t(475))&&n[t(499)](r+t(487))?D():r("0")}))()}();const z=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(476)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();z(void 0,(function(){const t=C,e=function(){const t=C;let e;try{e=Function(t(501)+t(505)+");")()}catch(n){e=window}return e}(),n=e[t(473)]=e[t(473)]||{},r=["log",t(527),t(495),t(524),t(470),t(508),t(526)];for(let s=0;s<r[t(471)];s++){const e=z.constructor[t(515)][t(480)](z),o=r[s],i=n[o]||e;e[t(494)]=z.bind(z),e.toString=i[t(507)][t(480)](i),n[o]=e}}))();const k=[M(485)],B=["blending",M(481),M(519),"alphaMap",M(483)];function L(){const t=["repeat","args","closed","input","push","function *\\( *\\)","fewNum","constructor","streamLine","wrapT","__proto__","info","debu","237590dNrnzJ","needsUpdate","test","stateObject","return (function() ","generateMipmaps","set","377799HugWMe",'{}.constructor("return this")( )',"35DvjnNY","toString","table","RepeatWrapping","counter","1009995SUMjXo","205696zniXvD","radius","TresMeshBasicMaterial","prototype","2ZLnXFb","TresMesh","tubularSegments","side","string","8YseKnT","clockwise","radialSegments","error","linesList","trace","warn","call","912663swatTr","fromArray","75834YnxQfe","exception","length","init","console","NearestFilter","chain","apply","gger","Vector3","CatmullRomCurve3","bind","map","3304250QRBQNC","color"];return(L=function(){return t})()}const T=a({__name:M(492),props:{color:{default:"#2bc4dc"},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(n){const r=M;let a,d;const j=n,{map:_}=([a,d]=u((()=>e({map:"./plugins/digitalCity/image/line2.png"}))),a=await a,d(),a);_[r(498)]=!0,_.wrapS=_[r(493)]=s[r(509)],_.repeat[r(503)](j[r(490)],1),_.rotation=j.clockwise?0:Math.PI,_[r(502)]=!1,_.magFilter=s[r(474)];let g=[];j[r(525)].forEach((t=>{const e=r;g[e(488)]((new(s[e(478)]))[e(468)](t))}));const h=new(s[r(479)])(g),{onLoop:v}=t();return v((()=>{_.offset.x+=.002*j.speed})),c((()=>[j[r(522)],j[r(490)]]),(([t,e])=>{const n=r;_.rotation=t?0:Math.PI,_[n(484)][n(503)](e,1)})),(t,e)=>{const n=r;return p(),l(n(517),null,[f("TresTubeGeometry",{args:[m(h),j[n(518)],j[n(513)],j[n(523)],j[n(486)]]},null,8,k),f(n(514),{blending:o,map:m(_),side:i,alphaMap:m(_),transparent:!0,color:j[n(483)]},null,8,B)])}}});function C(t,e){const n=L();return(C=function(t,e){return n[t-=468]})(t,e)}function D(t){function e(t){const n=C;if(typeof t===n(520))return function(t){}[n(491)]("while (true) {}")[n(476)](n(510));1!==(""+t/t)[n(471)]||t%20==0?function(){return!0}[n(491)](n(496)+n(477))[n(528)]("action"):function(){return!1}[n(491)]("debu"+n(477))[n(476)](n(500)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function N(){const t=["管道壁圆润","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","流线数量","radius","table","action","linesList","fewNum","41512cGOqJm","管道半径","call","clockwise","8477763vfazfd","input","chain","function *\\( *\\)","657HLPhfn","gger","43074070vOWBRW","__proto__","stateObject","error","color","console","bind","跑动速度","test","init","流光颜色","2XlIOod","apply","3529647rMByVw","683341MMDMAW","toString","string","#bd01ff","exception","380562AcOnCT","TresPerspectiveCamera","debu","radialSegments","TresCanvas","顺时针流动",'{}.constructor("return this")( )',"#201919","info","addBinding","trace","闭合管道","prototype","4OCNKzg","counter","7503845DIkvyb","length","constructor"];return(N=function(){return t})()}!function(t,e){const n=F,r=N();for(;;)try{if(786951===parseInt(n(264))/1*(parseInt(n(261))/2)+-parseInt(n(263))/3+parseInt(n(282))/4*(-parseInt(n(284))/5)+parseInt(n(269))/6+-parseInt(n(244))/7+-parseInt(n(240))/8*(parseInt(n(248))/9)+parseInt(n(250))/10)break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const R=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[F(262)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=F,e=new RegExp(t(247)),n=new RegExp(t(288),"i"),r=P(t(259));e[t(258)](r+t(246))&&n[t(258)](r+t(245))?P():r("0")}))()}();const A=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[F(262)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function F(t,e){const n=N();return(F=function(t,e){return n[t-=235]})(t,e)}A(void 0,(function(){const t=F,e=function(){const t=F;let e;try{e=Function("return (function() "+t(275)+");")()}catch(n){e=window}return e}(),n=e[t(255)]=e[t(255)]||{},r=["log","warn",t(277),t(253),t(268),t(236),t(279)];for(let s=0;s<r[t(285)];s++){const e=A[t(286)][t(281)].bind(A),o=r[s],i=n[o]||e;e[t(251)]=A[t(256)](A),e[t(265)]=i.toString[t(256)](i),n[o]=e}}))();const O=a({__name:"streamLines",async setup(t){const e=F;let s,o;const i=d({reflectivity:.1,showGridHelper:!1,scale:5}),a=d({color:e(267),radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),c=new r;c.addBinding(a,e(254),{label:e(260)}),c.addBinding(a,e(235),{label:e(241),min:.01,max:1,step:.01}),c[e(278)](a,"speed",{label:e(257),min:.1,max:10,step:.1}),c[e(278)](a,"tubularSegments",{label:"管道路径平滑",min:1,max:100,step:1}),c[e(278)](a,e(272),{label:e(287),min:1,max:20,step:1}),c[e(278)](a,"closed",{label:e(280)}),c[e(278)](a,e(243),{label:e(274)}),c[e(278)](a,e(239),{label:e(289),min:1,max:10,step:1});const l=([s,o]=u((()=>I("./plugins/simpleGIS/json/320000_full.json"))),s=await s,o(),s);return(t,r)=>{const s=e,o=j(s(273));return p(),_(o,{clearColor:s(276),"window-size":""},{default:g((()=>[r[0]||(r[0]=f(s(270),{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1)),h(m(n),{enableDamping:"",autoRotate:""}),(p(),_(v,null,{default:g((()=>[h(T,w(b(a)),null,16)])),_:1})),(p(),_(v,null,{default:g((()=>[h(T,{linesList:m(l),position:[0,0,-4]},null,8,[s(238)])])),_:1})),(p(),_(v,null,{default:g((()=>[h(m(x),y({position:[0,-.5,0]},i),null,16)])),_:1}))])),_:1})}}});function P(t){function e(t){const n=F;if(typeof t===n(266))return function(t){}[n(286)]("while (true) {}")[n(262)](n(283));1!==(""+t/t)[n(285)]||t%20==0?function(){return!0}[n(286)](n(271)+"gger")[n(242)](n(237)):function(){return!1}[n(286)](n(271)+n(249))[n(262)](n(252)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{O as default};
