import{_ as t,bN as n,U as o,C as r}from"./three.CYhYNU4g1738919103432.js";import{a as e}from"./@tresjs.G4idgyWs1738919103432.js";import{d as a,b as s,a3 as i,w as c,o as u,H as f,N as l,aj as p,ak as h}from"./@vue.NRI7TcgI1738919103432.js";!function(t,n){const o=g,r=x();for(;;)try{if(807540===-parseInt(o(202))/1+parseInt(o(223))/2*(parseInt(o(174))/3)+parseInt(o(176))/4*(-parseInt(o(206))/5)+-parseInt(o(214))/6+parseInt(o(212))/7+parseInt(o(215))/8+parseInt(o(192))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(190)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(t,n){const o=x();return(g=function(t,n){return o[t-=173]})(t,n)}!function(){d(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(209),"i"),r=_("init");n[t(183)](r+t(224))&&o[t(183)](r+t(213))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(190)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=g;let n;try{n=Function(t(189)+t(208)+");")()}catch(e){n=window}const o=n[t(184)]=n[t(184)]||{},r=[t(185),t(182),t(187),"error",t(179),t(199),t(194)];for(let a=0;a<r[t(186)];a++){const n=m[t(193)][t(200)][t(204)](m),e=r[a],s=o[e]||n;n[t(216)]=m[t(204)](m),n[t(195)]=s[t(195)][t(204)](s),o[e]=n}}))();const v=()=>{const o=g;return o(196)+t[o(210)][o(207)]+o(191)+n[o(178)]+"\n      \t"+t[o(210)][o(203)]+"\n       void main() {\n\t\t\t\t\t"+n[o(222)]+o(205)+t[o(210)][o(177)]+o(205)+t[o(210)].begin_vertex+"\n          "+t[o(210)][o(219)]+"\n          "+t[o(210)][o(181)]+o(205)+t[o(210)][o(220)]+o(175)},w=()=>{const n=g;return n(218)+t[n(210)][n(207)]+n(217)+t[n(210)][n(198)]+n(217)+t[n(210)][n(178)]+n(217)+t[n(210)][n(173)]+n(217)+t[n(210)][n(188)]+n(217)+t[n(210)][n(197)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=g;if("string"==typeof t)return function(t){}[o(193)]("while (true) {}")[o(190)](o(201));1!==(""+t/t)[o(186)]||t%20==0?function(){return!0}[o(193)](o(221)+"gger")[o(180)]("action"):function(){return!1}[o(193)](o(221)+o(211))[o(190)](o(225)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function x(){const t=["prototype","counter","932659VgtxJm","shadowmap_pars_vertex","bind","\n          ","283310aYdOWC","common",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ShaderChunk","gger","4634812tpVpSm","input","8598012KPSwuY","3526256ZypFyl","__proto__","\n\t ","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","project_vertex","shadowmap_vertex","debu","beginnormal_vertex","192jBNBmy","chain","stateObject","lights_pars_begin","32130tydiZj","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","68AyDGIF","defaultnormal_vertex","bsdfs","exception","call","worldpos_vertex","warn","test","console","log","length","info","shadowmap_pars_fragment","return (function() ","apply","\n      \t","18048573lLwGnW","constructor","trace","toString","\n       varying vec2 vUv;\n\t\t\t \t","shadowmask_pars_fragment","packing","table"];return(x=function(){return t})()}const y=C;!function(t,n){const o=C,r=I();for(;;)try{if(694036===parseInt(o(362))/1*(parseInt(o(358))/2)+parseInt(o(354))/3+-parseInt(o(338))/4*(parseInt(o(361))/5)+parseInt(o(356))/6+parseInt(o(350))/7+-parseInt(o(369))/8+parseInt(o(317))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(363)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function I(){const t=["debu","20icyFJf","49aetlIx","apply","TresMesh","whiteFloorMesh","constructor","DoubleSide","Color","3605808gBxhTs","info","uniforms","input","#999","function *\\( *\\)","637038pIiILD","wrapT","while (true) {}","bind","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","merge","lights","test","exception","fEdge","error","trace","init","TresPlaneGeometry","size","args","table","call","RepeatWrapping","log","1364248zsWaTb","shadowColor","gger","UniformsLib","edge","chain","stateObject","length",'{}.constructor("return this")( )',"tmRef","color","wrapS","5133639nOKiHr","rotation-x","value","return (function() ","829986xPOsSU","uShadowColor","391230nasUzo","warn","55632WDUawg","console"];return(I=function(){return t})()}!function(){b(this,(function(){const t=C,n=new RegExp(t(316)),o=new RegExp(t(322),"i"),r=k(t(330));n.test(r+t(343))&&o[t(325)](r+t(372))?k():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(363)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function C(t,n){const o=I();return(C=function(t,n){return o[t-=315]})(t,n)}S(void 0,(function(){const t=C;let n;try{n=Function(t(353)+t(346)+");")()}catch(e){n=window}const o=n[t(359)]=n[t(359)]||{},r=[t(337),t(357),t(370),t(328),t(326),t(334),t(329)];for(let a=0;a<r[t(345)];a++){const n=S.constructor.prototype.bind(S),e=r[a],s=o[e]||n;n.__proto__=S.bind(S),n[t(321)]=s[t(321)][t(320)](s),o[e]=n}}))();const j=[y(351)],T=[y(333)],U=a({__name:y(365),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:y(315)},edge:{default:.35}},async setup(n){const a=y;let d,g;const m=n,_=s(),{map:x}=([d,g]=i((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(349)]=x[a(318)]=t[a(336)];const b={uniforms:o[a(323)]([t[a(341)][a(324)],{uTexture:{type:"t",value:x},uColor:{value:new(t[a(368)])(m[a(348)])},uShadowColor:{value:new(t[a(368)])(m[a(339)])},fEdge:{type:"f",value:m[a(342)]}}]),side:t[a(367)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>m[a(342)]),(t=>{const n=a;b[n(371)][n(327)][n(352)]=t})),c((()=>m[a(348)]),(n=>{const o=a;b.uniforms.uColor[o(352)]=new(t[o(368)])(m.color)})),c((()=>m[a(339)]),(t=>{const n=a;b[n(371)][n(355)][n(352)]=new r(m[n(339)])})),(t,n)=>{const o=a;return u(),f(o(364),{ref_key:o(347),ref:_,"rotation-x":-Math.PI/2},[l(o(331),{args:m[o(332)]},null,8,T),l("TresShaderMaterial",p(h(b)),null,16)],8,j)}}});function k(t){function n(t){const o=C;if("string"==typeof t)return function(t){}[o(366)](o(319))[o(363)]("counter");1!==(""+t/t)[o(345)]||t%20==0?function(){return!0}[o(366)](o(360)+"gger")[o(335)]("action"):function(){return!1}.constructor(o(360)+o(340))[o(363)](o(344)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{U as _};
