import{P as t}from"./tweakpane.yHWGBmom1723608367756.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.4Qe_mPtI1723608367756.js";import{_ as r}from"./heatmap.js-fix.9LeHBL-a1723608367756.js";import{h as i,T as c,bV as s,a6 as u,Z as a}from"./three.X8FgZbPT1723608367756.js";import{r as p}from"./utils.7CWG20CN1723608367756.js";import{d as f}from"./pinia.KbXOifkD1723608367756.js";import{b as l,d as h,a1 as m,o as d,D as g,J as y,u as v,F as b,q as w,U as I,N as _,P as j,H as x,L as D,a4 as E,r as M,j as k,g as S,m as z}from"./@vue.Q1VpS3901723608367756.js";import{c as A,d as R,a as O}from"./three-mesh-bvh.ArMO-VqG1723608367756.js";import{_ as U}from"./@fesjs.v28izi2B1723608367756.js";import"./@tresjs.zzLYikgQ1723608367756.js";import"./@vueuse.QL9lULrD1723608367756.js";import"./three-custom-shader-material.cv-Ci-gX1723608367756.js";import"./object-hash.UuJege4m1723608367756.js";import"./@amap.AaCaABAE1723608367756.js";import"./jszip.fq1N6JAS1723608367756.js";import"./glsl-tokenizer.ThrrjBBu1723608367756.js";import"./glsl-token-string.8SC_GpjQ1723608367756.js";import"./glsl-token-functions.bUknzHyA1723608367756.js";import"./vue-router.Hmvx0_Do1723608367756.js";import"./lodash-es.nFpJXAf-1723608367756.js";import"./@qlin.yHhFDldE1723608367756.js";import"./@floating-ui.BPbuo5Gx1723608367756.js";import"./@juggle.7yjBMqoW1723608367756.js";!function(t,n){const e=W,o=P();for(;;)try{if(527662===-parseInt(e(326))/1+parseInt(e(294))/2+-parseInt(e(299))/3+parseInt(e(307))/4+parseInt(e(319))/5+-parseInt(e(296))/6+-parseInt(e(339))/7)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(334)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=["heatmap-canvas","action","console","style","counter","display","apply","input","while (true) {}","call","top","3200183xxXOwB","bind","body","gger","create","width","1475298qzHtdQ","length","5057262QBnoVH","test","warn","2010576CvmWGN","rgb(255,0,0)","position","getValueAt","yellow","randInt","return (function() ","none","3606412LOHsKZ","setData","rgb(0,255,0)","constructor","_config",'{}.constructor("return this")( )',"chain","table","left","toString","appendChild","height","4993510UIrVGx","createElement","debu","log","stateObject","info","function *\\( *\\)","140054FMjtWx","rgb(0,0,255)"];return(P=function(){return t})()}!function(){B(this,(function(){const t=W,n=new RegExp(t(325)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=G("init");n[t(297)](o+t(313))&&e[t(297)](o+t(335))?G():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(334)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=P();return(W=function(t,n){return e[t-=289]})(t,n)}V(void 0,(function(){const t=W;let n;try{n=Function(t(305)+t(312)+");")()}catch(r){n=window}const e=n[t(330)]=n[t(330)]||{},o=[t(322),t(298),t(324),"error","exception",t(314),"trace"];for(let i=0;i<o[t(295)];i++){const n=V[t(310)].prototype[t(289)](V),r=o[i],c=e[r]||n;n.__proto__=V[t(289)](V),n.toString=c[t(316)][t(289)](c),e[r]=n}}))();const Z=(t,n)=>t[W(302)](n)+-10;function G(t){function n(t){const e=W;if("string"==typeof t)return function(t){}[e(310)](e(336))[e(334)](e(332));1!==(""+t/t)[e(295)]||t%20==0?function(){return!0}[e(310)]("debu"+e(291))[e(337)](e(329)):function(){return!1}[e(310)](e(321)+e(291))[e(334)](e(323)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=T;!function(t,n){const e=T,o=Q();for(;;)try{if(536843===-parseInt(e(472))/1+-parseInt(e(470))/2+-parseInt(e(471))/3*(-parseInt(e(450))/4)+-parseInt(e(441))/5+parseInt(e(442))/6*(parseInt(e(457))/7)+parseInt(e(465))/8*(-parseInt(e(443))/9)+-parseInt(e(467))/10*(-parseInt(e(449))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(440)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=T,n=new RegExp(t(439)),e=new RegExp(t(458),"i"),o=q(t(444));n[t(474)](o+t(462))&&e[t(474)](o+t(454))?q():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(440)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["521429JpDfGK","log","test","error","function *\\( *\\)","apply","327650lcoPXG","228522eVecnh","9IDyUGk","init","bind","warn","action","call","7513uVBspr","4DqnVaJ","constructor",'{}.constructor("return this")( )',"exception","input","return (function() ","length","28SwYVYK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","while (true) {}","toString","chain","gger","value","28616EYoBbI","console","13270IQdAsi","trace","buildingsHeatmap","453080SCwywS","885690BQtkyg"];return(Q=function(){return t})()}function T(t,n){const e=Q();return(T=function(t,n){return e[t-=439]})(t,n)}L(void 0,(function(){const t=T;let n;try{n=Function(t(455)+t(452)+");")()}catch(r){n=window}const e=n[t(466)]=n[t(466)]||{},o=[t(473),t(446),"info",t(475),t(453),"table",t(468)];for(let i=0;i<o.length;i++){const n=L.constructor.prototype[t(445)](L),r=o[i],c=e[r]||n;n.__proto__=L[t(445)](L),n[t(461)]=c[t(461)].bind(c),e[r]=n}}))();const $=f(H(469),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[T(464)]=t}}}));function q(t){function n(t){const e=T;if("string"==typeof t)return function(t){}[e(451)](e(460)).apply("counter");1!==(""+t/t)[e(456)]||t%20==0?function(){return!0}.constructor(e(459)+e(463))[e(448)](e(447)):function(){return!1}.constructor(e(459)+e(463)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=J;function J(t,n){const e=tt();return(J=function(t,n){return e[t-=432]})(t,n)}!function(t,n){const e=J,o=tt();for(;;)try{if(458552===-parseInt(e(454))/1+-parseInt(e(467))/2*(parseInt(e(433))/3)+-parseInt(e(455))/4*(parseInt(e(457))/5)+-parseInt(e(462))/6+parseInt(e(489))/7+parseInt(e(482))/8+-parseInt(e(490))/9*(-parseInt(e(440))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(488)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Y(this,(function(){const t=J,n=new RegExp(t(502)),e=new RegExp(t(498),"i"),o=et(t(484));n[t(487)](o+t(449))&&e[t(487)](o+"input")?et():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(488)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(468)+t(445)+");")()}catch(e){n=window}return n}(),e=n[t(447)]=n[t(447)]||{},o=[t(443),t(436),"info",t(458),t(497),t(474),t(450)];for(let r=0;r<o.length;r++){const n=C[t(495)][t(494)].bind(C),i=o[r],c=e[i]||n;n.__proto__=C[t(476)](C),n[t(461)]=c[t(461)].bind(c),e[i]=n}}))();const N=[F(500),F(451)],X=["object"];function tt(){const t=["trace","rotation-x","uniforms","Mesh","769640OJYqdz","183324DkWynn","while (true) {}","75HbDQQy","error","raycast","canvas","toString","4387158MLoKJT","ShaderMaterial","geometry","$patch","uOpacity","4YyKixE","return (function() ","model","normal","BufferGeometry","city","matrix","table","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","bind","string","action","debu","gger","width","6513432rQmbDu","Matrix4","init","primitive","mergeGeometries","test","apply","955787xqUHWL","99CKaEWR","height","opacity","stateObject","prototype","constructor","disposeBoundsTree","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","applyMatrix4","object","computeBoundsTree","function *\\( *\\)","length","1037031WXDkWN","makeRotationX","clone","warn","_renderer","_config","land","2170440ALlLfk","counter","数值———：","log","attributes",'{}.constructor("return this")( )',"数值：","console","children","chain"];return(tt=function(){return t})()}const nt=h({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=F;(()=>{const t=J;u[t(471)][t(494)][t(501)]=A,u[t(471)][t(494)][t(496)]=R,u[t(453)][t(494)][t(459)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=W,i=document[o(320)](o(328));return i.style[o(301)]="absolute",!e&&(i[o(331)][o(333)]=o(306)),i[o(331)][o(338)]="0",i[o(331)][o(315)]="0",document[o(290)][o(317)](i),r[o(292)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(327),.55:o(309),.85:o(303),1:o(300)}})})();((t,n)=>{const e=W;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(304)](1,t._config[e(293)]),y:i[e(304)](1,t[e(311)][e(318)]),value:i[e(304)](-10,36)}),o++}t[e(308)]({max:36,min:-10,data:n})})(o);const f=new c(o[n(437)][n(460)]);f.needsUpdate=!0;const l=e[n(469)][n(472)][n(435)]();delete l[n(464)].attributes.normal,delete l.geometry[n(444)].uv;const h=l[n(464)][n(435)]()[n(499)](l.matrix),w=e[n(469)][n(439)][n(435)]();delete w[n(464)].attributes[n(470)];const I=w.geometry[n(435)]().applyMatrix4(w[n(473)]),_=s[n(486)]([h,I]);_.applyMatrix4((new(u[n(483)]))[n(434)](Math.PI/2)),p(_),_[n(501)]();const j=(t=>{const o=n;return new(u[o(463)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(475),uniforms:{uOpacity:{value:e[o(492)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),x=new(u[n(453)])(_,j);m((()=>{const t=n;e[t(492)]&&(j[t(452)][t(466)].value=e[t(492)])}));const D=$(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(438)][e(481)],y:(1-t.uv.y)*o[e(438)][e(491)]};console[e(443)](e(446),t),console.log(e(442),Z(o,n)),D.setTemperature(Z(o,n))}},M=t=>{t&&D[n(465)]({showDiv:!0})},k=t=>{t&&D.setShowDiv(!1)};return(t,o)=>{const r=n;return d(),g(b,null,[y("primitive",{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:M,onPointerLeave:k},null,40,N),y(r(485),{object:e[r(469)][r(469)][r(448)][0].clone()},null,8,X)],64)}}});function et(t){function n(t){const e=J;if(typeof t===e(477))return function(t){}.constructor(e(456)).apply(e(441));1!==(""+t/t)[e(432)]||t%20==0?function(){return!0}[e(495)](e(479)+e(480)).call(e(478)):function(){return!1}[e(495)](e(479)+"gger")[e(488)](e(493)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=U({__name:"dataDiv",setup(t){const n=$(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),g("div",{class:"title",style:D(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=st;!function(t,n){const e=st,o=ut();for(;;)try{if(595922===-parseInt(e(422))/1+-parseInt(e(420))/2*(-parseInt(e(407))/3)+-parseInt(e(426))/4*(parseInt(e(412))/5)+-parseInt(e(404))/6+parseInt(e(427))/7+-parseInt(e(432))/8+parseInt(e(413))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(421),"i"),o=pt(t(406));n[t(400)](o+"chain")&&e[t(400)](o+t(409))?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(411)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=ut();return(st=function(t,n){return e[t-=393]})(t,n)}function ut(){const t=["call","action","counter","constructor",'{}.constructor("return this")( )',"info","2UEtcfA","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1006506IGKWnA","stateObject","warn","builds","43516eyaftG","4480168RaRQNQ","string","value","toString","trace","7874256jrjgAy","return (function() ","bind","console","table","gger","opacity","addBinding","city","test","error","while (true) {}","debu","1316940JdeUPD","heatmap2","init","1232475jwKKmr","prototype","input","length","apply","205HzWIIq","19812510pItzNq"];return(ut=function(){return t})()}ct(void 0,(function(){const t=st;let n;try{n=Function(t(433)+t(418)+");")()}catch(r){n=window}const e=n[t(394)]=n[t(394)]||{},o=["log",t(424),t(419),t(401),"exception",t(395),t(431)];for(let i=0;i<o[t(410)];i++){const n=ct.constructor[t(408)][t(393)](ct),r=o[i],c=e[r]||n;n.__proto__=ct[t(393)](ct),n[t(430)]=c[t(430)][t(393)](c),e[r]=n}}))();const at=h({__name:rt(405),async setup(r){const i=rt;let c,s;const u=l(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(429)]=!0;const p=M({width:1,color:"#000",opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(398)](f,i(397),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),g(b,null,[k(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[k(nt,z({model:v(a)},f),null,16,["model"]),k(n,z(p,{builds:v(a)[r(399)]}),null,16,[r(425)])])),_:1}),k(ot)],64)}}});function pt(t){function n(t){const e=st;if(typeof t===e(428))return function(t){}.constructor(e(402))[e(411)](e(416));1!==(""+t/t)[e(410)]||t%20==0?function(){return!0}[e(417)](e(403)+e(396))[e(414)](e(415)):function(){return!1}[e(417)]("debugger")[e(411)](e(423)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
