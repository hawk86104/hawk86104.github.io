import{a as t,B as n,s as e,c0 as o,C as r,k as s,a0 as c}from"./three.x4oqFJNT1729821967160.js";import{x as i}from"./@fesjs.RBYJGevJ1729821967160.js";import{z as a}from"./@tresjs.QjD7q5YC1729821967160.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.llAbMY1c1729821967160.js";function l(t,n){const e=h();return(l=function(t,n){return e[t-=240]})(t,n)}!function(t,n){const e=l,o=h();for(;;)try{if(734112===-parseInt(e(259))/1+-parseInt(e(280))/2+parseInt(e(285))/3*(parseInt(e(295))/4)+-parseInt(e(269))/5*(-parseInt(e(262))/6)+parseInt(e(314))/7*(parseInt(e(274))/8)+parseInt(e(290))/9*(parseInt(e(281))/10)+parseInt(e(315))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(286)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=l,n=new RegExp(t(257)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=I(t(242));n[t(311)](o+"chain")&&e.test(o+t(265))?I():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(){const t=["input","random","applyMatrix4","setFromObject","154680YUwDje","console","setY","expandByObject","raycast","2641680AIRSbf","material","setAttribute","getCenter","while (true) {}","table","2184142vcbROZ","90tsnAEU","computeBoundsTree","getY","min","21ugAdNe","apply","constructor","error","trace","1199745bROMAE","computeBoundingBox",'{}.constructor("return this")( )',"negate","action","760896lQOItV","__proto__","push","Vector3","getX","uniforms","reflectivity","config","get","depthTest","geometry","info","value","#fff","boundingBox","sub","test","debu","deleteAttribute","7gltEaq","383559tnbmQX","log","getSize","attributes","prototype","stateObject","init","then","disposeBoundsTree","bind","copy","max","toString","position","string","children","Box3","length","counter","count","depthWrite","function *\\( *\\)","catch","1286761GlxmqF","features","gger","42UrFKlc","divideScalar","transparent"];return(h=function(){return t})()}m(void 0,(function(){const t=l,n=function(){const t=l;let n;try{n=Function("return (function() "+t(292)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(270)]||{},o=[t(316),"warn",t(306),t(288),"exception",t(279),t(289)];for(let r=0;r<o.length;r++){const n=m.constructor[t(240)][t(245)](m),s=o[r],c=e[s]||n;n[t(296)]=m[t(245)](m),n[t(248)]=c[t(248)][t(245)](c),e[s]=n}}))();const d=(n,e=!1)=>{const o=l;n[o(291)]();const{max:r,min:s}=n.boundingBox;n[o(313)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(318)].position[o(255)];t++)e?(a.push((n[o(318)][o(249)].getX(t)-(s.x+r.x)/2)/c),a[o(297)]((n.attributes[o(249)].getY(t)-(s.y+r.y)/2)/i)):(a[o(297)]((n.attributes[o(249)][o(299)](t)-s.x)/c),a[o(297)]((n[o(318)].position[o(283)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},b=(t,n)=>new Promise(((e,o)=>{const r=l;i(t,{},{method:r(303),mergeRequest:!0})[r(243)]((t=>{const o=r;n&&e(t[n]),e(t[o(260)])}))[r(258)]((t=>{console[r(288)](t),o(t)}))})),w=t=>{const n=l,e=(new(THREE[n(252)]))[n(268)](t),o=new(THREE[n(298)]);e[n(277)](o),t[n(251)].forEach((t=>{const e=n;t.position[e(310)](o)})),t[n(249)][n(246)](o[n(293)]())},x=()=>{const t=l;n.prototype[t(282)]=u,n[t(240)][t(244)]=f,e[t(240)][t(273)]=p},y=async t=>{const n=l,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(305)].clone();d(i),i[n(282)]();const u=new o(i,{color:new r(n(308)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(275)][n(264)]=!0,u[n(275)][n(256)]=!0,u[n(275)][n(304)]=!0,u.material.side=c,u[n(275)][n(300)][n(302)][n(307)].w=20,u.material[n(300)][n(301)][n(307)]=.46,u};function j(t){const n=l,e=[];for(let r=0;r<t[n(253)];r++)e[n(297)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(253)];r++)o.add(e[r]);o[n(263)](e[n(253)]);for(let r=0;r<e[n(253)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=l;if(typeof t===e(250))return function(t){}[e(287)](e(278))[e(286)](e(254));1!==(""+t/t)[e(253)]||t%20==0?function(){return!0}[e(287)](e(312)+e(261)).call(e(294)):function(){return!1}[e(287)]("debu"+e(261))[e(286)](e(241)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,b as l,d as r,y as s};
