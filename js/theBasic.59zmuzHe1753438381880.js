import{N as e,_ as a,ce as s}from"./three.0XnumNGx1753438381880.js";import{e as t,a as o,H as n}from"./@tresjs.CL21cZKR1753438381880.js";import{W as r,N as i,S as l,B as p,M as u,P as c,C as h}from"./cannon-es.CGH4Ax-71753438381880.js";import{d,r as m,b as f,v as w,a2 as y,G as v,o as T,j as M,I as g,f as _,e as b,H as C,u as S,a7 as j,a8 as k,m as B,x,F as G}from"./@vue.BzMISRrV1753438381880.js";import"./postprocessing.Bts7n4b31753438381880.js";import"./@vueuse.B7eBfla_1753438381880.js";const L=d({__name:"theBasicCannon",props:{sphere:{default:null},sphere2:{default:null},plane:{default:null}},setup(e){const a=e,s=new r;s.gravity.set(0,-9.82,0),s.broadphase=new i,s.defaultContactMaterial.contactEquationRelaxation=5,s.defaultContactMaterial.contactEquationStiffness=1e7;const o=a.sphere.geometry.parameters.radius,n=new l(o),d=new p({mass:10});d.addShape(n),d.position.copy(a.sphere.position),d.material=new u({restitution:10});const m=new p({mass:10});m.addShape(n),m.position.copy(a.sphere2.position),m.material=new u({restitution:1});const f=new c,w=new p({mass:0});w.addShape(f),w.position.copy(a.plane.position),w.quaternion.set(...a.plane.quaternion.toArray()),w.material=new u;const y=new h(w.material,d.material,{friction:0,restitution:.7}),v=new h(w.material,m.material,{friction:0,restitution:.9});s.addContactMaterial(y),s.addContactMaterial(v),s.addBody(d),s.addBody(m),s.addBody(w);const{onLoop:T}=t();return T((({delta:e})=>{s.step(1/120,e),a.sphere.position.copy(d.position),a.sphere2.position.copy(m.position)})),(e,a)=>null}}),P=["rotation"],R=d({__name:"theBasic",setup(t){const r=m({clearColor:"#201919",shadows:!0,alpha:!1,shadowMapType:s,outputColorSpace:a,toneMapping:e}),i=m({enableDamping:!0,dampingFactor:.05,enableZoom:!0,autoRotate:!1}),l=f(),p=f(),u=f(),c=w();return y((()=>{c.value&&(c.value.shadow.mapSize.set(1e3,1e3),c.value.shadow.camera.near=.5,c.value.shadow.camera.far=5e4,c.value.shadow.camera.top=20,c.value.shadow.camera.right=20,c.value.shadow.camera.left=-20,c.value.shadow.camera.bottom=-20)})),(e,a)=>(T(),v(G,null,[M(S(n),B(r,{"window-size":""}),{default:_((()=>[a[3]||(a[3]=g("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),M(S(o),j(k(i)),null,16),a[4]||(a[4]=g("TresAmbientLight",{intensity:.5},null,-1)),g("TresMesh",{ref_key:"sphereRef",ref:l,position:[0,6,0],"cast-shadow":""},a[0]||(a[0]=[g("TresSphereGeometry",{args:[1.5,32,32]},null,-1),g("TresMeshToonMaterial",{color:"#006060"},null,-1)]),512),g("TresMesh",{ref_key:"sphereRef2",ref:p,position:[4,6,0],"cast-shadow":""},a[1]||(a[1]=[g("TresSphereGeometry",{args:[1.5,32,32]},null,-1),g("TresMeshToonMaterial",{color:"#ff6060"},null,-1)]),512),g("TresMesh",{ref_key:"planeRef",ref:u,rotation:[-Math.PI/2,0,0],position:[0,-.01,0],"receive-shadow":""},a[2]||(a[2]=[g("TresPlaneGeometry",{args:[20,20,20,20]},null,-1),g("TresMeshToonMaterial",null,null,-1)]),8,P),u.value?(T(),b(L,{key:0,sphere:l.value,sphere2:p.value,plane:u.value},null,8,["sphere","sphere2","plane"])):C("",!0),g("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:c,position:[10,8,4],intensity:1,"cast-shadow":""},null,512),a[5]||(a[5]=g("TresDirectionalLight",{position:[10,2,4],intensity:1,"cast-shadow":""},null,-1)),a[6]||(a[6]=g("TresGridHelper",null,null,-1))])),_:1},16),a[7]||(a[7]=g("h1",{class:"text-center text-white w-full absolute"},[x(" 使用cannon-es库 API详见:"),g("a",{target:"_black",href:"https://pmndrs.github.io/cannon-es/docs/"},"cannon-es/docs")],-1))],64))}});export{R as default};
