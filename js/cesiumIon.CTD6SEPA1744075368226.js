import{m as e,e as s,a as r}from"./@tresjs.DYJWvbJh1744075368226.js";import{S as o,V as a,Q as t,cf as n}from"./three.Cqu7jvck1744075368226.js";import{T as i,C as u,G as l}from"./3d-tiles-renderer.IhNE9ZXK1744075368226.js";import{d as c,a3 as p,H as m,o as d,J as w,u as g,h as j,j as v,f as I,F as f}from"./@vue.DK6ok9LJ1744075368226.js";import"./postprocessing.BQUpsS8o1744075368226.js";import"./@vueuse.3dpzNfMJ1744075368226.js";const x=["object"],h=c({__name:"cesiumIon3DTile",setup(r){const{camera:c,renderer:j,sizes:v}=e();const I=new i;I.registerPlugin(new u({apiToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhM2RlZDE0YS03NWNlLTQ2ZmItODFmZi0zMDQyZGMxZjdjNzQiLCJpZCI6NDYzMzQsImlhdCI6MTYxNjA1MjY2Nn0.3BRsxy7UmJgW0LemXo6cMsD7xwe7YvUDITeQ3RLxOHI",assetId:"354759"})),I.addEventListener("load-tile-set",(()=>{const e=new o;I.getBoundingSphere(e);const s=e.center.clone(),r=s.length(),n=function(e,s){const r=new t,o=(new a).crossVectors(e,s);return r.x=o.x,r.y=o.y,r.z=o.z,r.w=1+e.clone().dot(s),r.normalize(),r}(s.normalize(),new a(0,1,0));I.group.quaternion.x=n.x,I.group.quaternion.y=n.y,I.group.quaternion.z=n.z,I.group.quaternion.w=n.w,I.group.position.y=-r})),I.fetchOptions.mode="cors",I.registerPlugin(new l({dracoLoader:(new n).setDecoderPath("./draco/")})),p((()=>{v.width.value&&(I.setCamera(c.value),I.setResolutionFromRenderer(c.value,j.value))}));const{onBeforeLoop:f}=s();return f((()=>{c.value&&v.width.value&&I&&(c.value.updateMatrixWorld(),I.update())})),(e,s)=>(d(),m("TresGroup",null,[w("primitive",{object:g(I).group},null,8,x)]))}}),z=c({__name:"cesiumIon",setup:e=>(e,s)=>{const o=j("TresCanvas");return d(),m(f,null,[v(o,{clearColor:"#201919","window-size":"",antialias:""},{default:I((()=>[s[0]||(s[0]=w("TresPerspectiveCamera",{position:[1e3,1e3,-100],fov:60,near:1,far:1e4},null,-1)),v(g(r),{enableDamping:""}),v(h),s[1]||(s[1]=w("TresAxesHelper",{args:[100]},null,-1))])),_:1}),s[2]||(s[2]=w("h1",{class:"text-center text-white w-full absolute"},"若没加载成功，请更换自己的Cesium-Key",-1))],64)}});export{z as default};
