import{_ as t,bT as n,au as o,a0 as r}from"./three.VoknrmS61728703368826.js";import{z as e}from"./@tresjs.JhHPALEY1728703368826.js";import{d as a,b as s,a4 as c,w as u,o as i,E as f,L as l,aj as p,ak as h}from"./@vue.JNsx1iN61728703368826.js";function d(t,n){const o=v();return(d=function(t,n){return o[t-=397]})(t,n)}!function(t,n){const o=d,r=v();for(;;)try{if(652372===-parseInt(o(440))/1+parseInt(o(451))/2*(parseInt(o(441))/3)+-parseInt(o(429))/4*(-parseInt(o(427))/5)+-parseInt(o(409))/6+-parseInt(o(426))/7*(parseInt(o(436))/8)+-parseInt(o(408))/9*(-parseInt(o(425))/10)+-parseInt(o(404))/11*(-parseInt(o(399))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=d,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(434),"i"),r=x("init");n[t(445)](r+t(449))&&o[t(445)](r+"input")?x():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(){const t=["2aXOACc","prototype","\n       void main() {\n\t\t\t\t\t","624KoRGKS","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","shadowmap_pars_fragment","shadowmask_pars_fragment","stateObject","62315wVcZeY","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","console","warn","39213Gqqquy","4639692gPZVMg","info","beginnormal_vertex","constructor","debu","log","table","call","worldpos_vertex","length","\n      \t","while (true) {}","toString","packing","shadowmap_vertex","shadowmap_pars_vertex","1600xuPYqF","123431vlSKTe","4645pBdHfh","ShaderChunk","2336SsvLpu","\n          ","apply","return (function() ","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","lights_pars_begin","40TJhuyN","gger","__proto__","trace","885108annswI","2594073wmWRpE","begin_vertex","string","common","test","bind","bsdfs",'{}.constructor("return this")( )',"chain","\n\t "];return(v=function(){return t})()}m(void 0,(function(){const t=d;let n;try{n=Function(t(432)+t(448)+");")()}catch(e){n=window}const o=n[t(406)]=n.console||{},r=[t(414),t(407),t(410),"error","exception",t(415),t(439)];for(let a=0;a<r[t(418)];a++){const n=m.constructor[t(397)][t(446)](m),e=r[a],s=o[e]||n;n[t(438)]=m[t(446)](m),n[t(421)]=s[t(421)][t(446)](s),o[e]=n}}))();const w=()=>{const o=d;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(428)][o(444)]+o(419)+n[o(447)]+"\n      \t"+t[o(428)][o(424)]+o(398)+t[o(428)][o(411)]+o(430)+t[o(428)].defaultnormal_vertex+o(430)+t[o(428)][o(442)]+o(430)+t[o(428)].project_vertex+o(430)+t[o(428)][o(417)]+"\n          "+t[o(428)][o(423)]+o(433)},_=()=>{const o=d;return o(405)+t[o(428)].common+"\n\t "+t[o(428)][o(422)]+o(450)+t[o(428)].bsdfs+o(450)+n[o(435)]+"\n\t "+t[o(428)][o(401)]+"\n\t "+t[o(428)][o(402)]+o(400)};function x(t){function n(t){const o=d;if(typeof t===o(443))return function(t){}.constructor(o(420))[o(431)]("counter");1!==(""+t/t)[o(418)]||t%20==0?function(){return!0}[o(412)](o(413)+"gger")[o(416)]("action"):function(){return!1}.constructor(o(413)+o(437))[o(431)](o(403)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const y=j;!function(t,n){const o=j,r=T();for(;;)try{if(692664===parseInt(o(253))/1*(parseInt(o(233))/2)+-parseInt(o(254))/3*(-parseInt(o(241))/4)+parseInt(o(238))/5+-parseInt(o(226))/6+-parseInt(o(209))/7*(-parseInt(o(244))/8)+parseInt(o(236))/9+-parseInt(o(215))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=j,n=new RegExp(t(213)),o=new RegExp(t(212),"i"),r=R("init");n.test(r+t(210))&&o[t(221)](r+t(211))?R():r("0")}))()}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(224)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();b(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(234)+t(249)+");")()}catch(o){n=window}return n}(),o=n[t(245)]=n.console||{},r=[t(220),t(227),"info",t(229),t(225),t(228),t(214)];for(let e=0;e<r[t(231)];e++){const n=b[t(208)][t(219)].bind(b),a=r[e],s=o[a]||n;n[t(251)]=b[t(259)](b),n[t(237)]=s[t(237)][t(259)](s),o[a]=n}}))();const S=[y(258)],C=[y(261)];function j(t,n){const o=T();return(j=function(t,n){return o[t-=207]})(t,n)}function T(){const t=["RepeatWrapping","206DHhOJA","return (function() ","wrapT","4481415hKPKYe","toString","5033525jnSJBl","merge","fEdge","3464meThfV","shadowColor","string","104Qnlcoz","console","value","call","lights",'{}.constructor("return this")( )',"debu","__proto__","while (true) {}","3886RQbUir","2766WlyRwY","action","TresShaderMaterial","gger","rotation-x","bind","TresPlaneGeometry","args","UniformsUtils","edge","constructor","413861KUuZXR","chain","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","trace","22228210qSvLeK","counter","color","#990","prototype","log","test","tmRef","Color","apply","exception","3338784jttrEL","warn","table","error","uniforms","length"];return(T=function(){return t})()}const E=a({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:y(218)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const a=y;let d,g;const m=n,v=s(),{map:x}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x.wrapS=x[a(235)]=t[a(232)];const I={uniforms:t[a(262)][a(239)]([o[a(248)],{uTexture:{type:"t",value:x},uColor:{value:new(t[a(223)])(m[a(217)])},uShadowColor:{value:new(t[a(223)])(m[a(242)])},fEdge:{type:"f",value:m[a(207)]}}]),side:r,vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>m[a(207)]),(t=>{const n=a;I[n(230)][n(240)][n(246)]=t})),u((()=>m.color),(n=>{const o=a;I[o(230)].uColor[o(246)]=new(t[o(223)])(m[o(217)])})),u((()=>m[a(242)]),(n=>{const o=a;I[o(230)].uShadowColor[o(246)]=new(t[o(223)])(m[o(242)])})),(t,n)=>{const o=a;return i(),f("TresMesh",{ref_key:o(222),ref:v,"rotation-x":-Math.PI/2},[l(o(260),{args:m.size},null,8,C),l(o(256),p(h(I)),null,16)],8,S)}}});function R(t){function n(t){const o=j;if(typeof t===o(243))return function(t){}[o(208)](o(252))[o(224)](o(216));1!==(""+t/t)[o(231)]||t%20==0?function(){return!0}[o(208)](o(250)+o(257))[o(247)](o(255)):function(){return!1}[o(208)](o(250)+o(257))[o(224)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
