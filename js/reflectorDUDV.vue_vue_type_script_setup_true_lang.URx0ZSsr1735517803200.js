import{c7 as t,a3 as e,s as n,t as r}from"./three.-uH5I3Xp1735517803200.js";import{b as o}from"./@tresjs.0qL_P2CE1735517803200.js";import{R as s,b as c}from"./all.three.OiQSAkvz1735517803200.js";import{d as i,a6 as a,a3 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.-THQH3GC1735517803200.js";const w=j;!function(t,e){const n=j,r=b();for(;;)try{if(782197===parseInt(n(303))/1+-parseInt(n(336))/2*(parseInt(n(328))/3)+-parseInt(n(316))/4*(parseInt(n(342))/5)+parseInt(n(349))/6+-parseInt(n(313))/7+parseInt(n(301))/8+-parseInt(n(299))/9*(-parseInt(n(304))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(324)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function b(){const t=["prototype","warn","stateObject","wrapS","while (true) {}","length","size","action","2297817PxQExE","isMesh","3769272PvplxT","return (function() ","205334Xyxdbo","120Axkyie","gger","uMatrix","info","visible","input","uniforms","reflectorDUDV","renderTarget","8268890fFbZNR","value","showGridHelper","4999132jiSIcw","console","forEach","bind","chain","debu","counter","tReflect","apply","uReflectivity","set","log","6gwGKEH","function *\\( *\\)","tReflectBlur","constructor","mapUrl",'{}.constructor("return this")( )',"ignoreObjects","object","1469222xoZVfI","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","test","call","5IrykyD","renderTargetUniform","reflectivity","primitive","table","texture","scale","5653338MEUYHN"];return(b=function(){return t})()}!function(){m(this,(function(){const t=j,e=new RegExp(t(329)),n=new RegExp(t(338),"i"),r=_(t(337));e.test(r+t(320))&&n[t(340)](r+t(309))?_():r("0")}))()}();const y=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=j;let e;try{e=Function(t(302)+t(333)+");")()}catch(o){e=window}const n=e.console=e[t(317)]||{},r=[t(327),t(351),t(307),t(339),"exception",t(346),"trace"];for(let s=0;s<r[t(296)];s++){const e=y[t(331)][t(350)][t(319)](y),o=r[s],c=n[o]||e;e.__proto__=y[t(319)](y),e.toString=c.toString.bind(c),n[o]=e}}))();const g=[w(348)],v=["object"],x=[w(335)];function j(t,e){const n=b();return(j=function(t,e){return n[t-=294]})(t,e)}const I=i({__name:w(311),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:m}){const b=w;let y,j;const I=i,_=new s,E=new t(I[b(297)][0]-.5,I[b(297)][1]);E[b(308)]=I.showGridHelper;const{map:R}=([y,j]=a((()=>o({map:I[b(332)]}))),y=await y,j(),y);R[b(294)]=e,R.wrapT=e,R.repeat[b(326)](6,3);const M=new c({map:R,reflectivity:I[b(344)]});M[b(310)][b(323)]={value:_[b(312)][b(347)]},M[b(310)][b(330)]=_[b(343)],M.uniforms[b(306)]=_.textureMatrixUniform;const U=new n(new r(I[b(297)][0],I[b(297)][1]),M);return U.rotation.x=-Math.PI/2,U.add(_),U.onBeforeRender=(t,e,n)=>{const r=b;U[r(308)]=!1,I[r(334)].forEach((t=>{const e=r;t.isMesh&&(t[e(308)]=!1),t.value&&t[e(314)][e(300)]&&(t.value[e(308)]=!1)})),_.update(t,e,n),I[r(334)][r(318)]((t=>{const e=r;t.isMesh&&(t.visible=!0),t[e(314)]&&t.value[e(300)]&&(t[e(314)][e(308)]=!0)})),U[r(308)]=!0},u((()=>{const t=b;I[t(344)]&&(M[t(310)][t(325)][t(314)]=I[t(344)])})),f((()=>I[b(315)]),(t=>{E[b(308)]=t})),m({reflector:_}),(t,e)=>{const n=b;return l(),p("TresGroup",{scale:I.scale},[d(n(345),{object:h(U),"position-y":-.01},null,8,v),d(n(345),{object:h(E)},null,8,x)],8,g)}}});function _(t){function e(t){const n=j;if("string"==typeof t)return function(t){}[n(331)](n(295))[n(324)](n(322));1!==(""+t/t)[n(296)]||t%20==0?function(){return!0}[n(331)](n(321)+n(305))[n(341)](n(298)):function(){return!1}.constructor(n(321)+n(305))[n(324)](n(352)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
