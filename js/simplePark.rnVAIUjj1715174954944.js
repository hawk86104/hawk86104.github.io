import{a1 as I,aD as j,aE as k,ak as O,ap as W,aH as F,aR as V,bR as R,l as D,a6 as G,o as v,c as S,Y as t,L as n,a as h,E as w,al as A,G as T,aw as Y,az as L,cl as q,b3 as y,aa as $,ab as z,a9 as H,b5 as X,bw as J,a2 as E,ad as K,r as Q,ac as U,b1 as Z,x as M,ag as C}from"./vendor.-IAgWGvB1715174954944.js";/* empty css                                                                                 */import{_ as ee}from"./randomLoading.vue_vue_type_script_setup_true_lang.A6gNPLYi1715174954944.js";import"./vanilla.yPvkhmVv1715174954944.js";import{_ as te}from"./skyBoxDmesh.vue_vue_type_script_setup_true_lang.Dd1zPD6e1715174954944.js";import{g as x}from"./index.A-uui1DV1715174954944.js";import{m as oe}from"./BufferGeometryUtils._eYQEz9D1715174954944.js";import"./index.vue_vue_type_script_setup_true_lang.tkc-VwFT1715174954944.js";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang.mCuum0JT1715174954944.js";import"./starLoading.qcUXpydl1715174954944.js";import"./bubbleLoading.ix4BlUNb1715174954944.js";import"./vanilla.YNpis2-J1715174954944.js";import"./_commonjsHelpers.5-cIlDoe1715174954944.js";import"./index.toIhEMDa1715174954944.js";import"./MeshTransmissionMaterial.8txm7xGc1715174954944.js";import"./MeshDiscardMaterial.ngk9eo0d1715174954944.js";import"./shaderMaterial.wfSm5hlj1715174954944.js";const se=["object","rotation-y"],re=["rotation","geometry","material"],ne=t("h1",{class:"text-xs p-0.5 rounded -mt-10 text-white font-bold",style:{"font-size":"78rem",width:"5em","text-align":"center","margin-top":"1em",scale:"0.7 1.5"}}," 楼宇分层 ",-1),ie=I({__name:"officeBuild",async setup(P){let o,i;const{scene:s}=([o,i]=j(()=>k("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/digitalPark/officeBuild.glb",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o),{scene:g,raycaster:r,camera:p}=O();s.traverse(e=>{e.isMesh&&(e.frustumCulled=!1,e.material.side=W,e.castShadow=!0,e.receiveShadow=!0,e.material.emissive=e.material.color,e.material.emissiveMap=e.material.map,e.material.emissiveIntensity=.8,e.material.envmap=g.value.background)});const m=s.clone();let b="";const _=()=>{var e;(e=s.getObjectByName(b))==null||e.traverse(l=>{l.isMesh&&(l.material=m.getObjectByName(l.name).material,l.castShadow=!0,l.receiveShadow=!0)})};window.addEventListener("pointermove",e=>{const l=new F;l.x=e.clientX/window.innerWidth*2-1,l.y=-(e.clientY/window.innerHeight)*2+1,r.value.setFromCamera(l,p.value);const u=r.value.intersectObject(s,!0);if(u.length>0&&u[0]&&u[0].object&&u[0].object.parent){if(b===u[0].object.parent.name)return;_(),u[0].object.parent.traverse(B=>{B.isMesh&&(B.material=new V({color:"#00d1ff",transparent:!0,opacity:.7,emissiveMap:B.material.map,emissiveIntensity:2}),B.castShadow=!1,B.receiveShadow=!1)}),b=u[0].object.parent.name}else b&&(_(),b="")});let a="";window.addEventListener("click",e=>{const l=new F;l.x=e.clientX/window.innerWidth*2-1,l.y=-(e.clientY/window.innerHeight)*2+1,r.value.setFromCamera(l,p.value);const u=r.value.intersectObject(s,!0);if(u.length>0&&u[0]&&u[0].object&&u[0].object.parent){if(a==="runing")return;if(a===u[0].object.parent.name){x.to(u[0].object.parent.position,{z:m.getObjectByName(a).position.z,duration:2,ease:"power1.inOut",onComplete:()=>{a=""}}),a="runing";return}a&&x.to(s.getObjectByName(a).position,{z:m.getObjectByName(a).position.z,duration:2,ease:"power1.inOut",onComplete:()=>{a=""}}),x.to(u[0].object.parent.position,{z:m.getObjectByName(u[0].object.parent.name).position.z-40,duration:2,ease:"power1.inOut",onComplete:()=>{a=u[0].object.parent.name}}),a="runing"}});const f=new R({roughness:.3,metalness:.05,color:"#3a4f75",envMapIntensity:.75,clearcoatRoughness:0,clearcoat:1}),{scene:c}=([o,i]=j(()=>k("./plugins/digitalPark/model/arctic_tooltip.glb",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o),d=D(null);return G(()=>{d.value&&x.to(d.value.rotation,{y:Math.PI*2.5,duration:3,ease:"power1.inOut",repeat:-1,yoyo:!0})}),(e,l)=>(v(),S(T,null,[t("primitive",{object:n(s),"cast-shadow":"","receive-shadow":"",position:[13.5,0,-45],scale:[.2,.3,.2],name:"办公大厅","rotation-y":Math.PI},null,8,se),t("TresMesh",{ref_key:"tooltipRef",ref:d,scale:[.05,.02,.004],rotation:[0,Math.PI/2,0],position:[12,25,-35],geometry:n(c).getObjectByName("Arctic_Tooltip_lambert4_0").geometry,material:n(f)},[h(n(A),{center:!0,transform:""},{default:w(()=>[ne]),_:1})],8,re)],64))}}),ce=["object","rotation-y"],le=["rotation","geometry","material"],me=t("h1",{class:"text-xs p-0.5 rounded -mt-10 text-white font-bold",style:{"font-size":"78rem",width:"4em","text-align":"center","margin-top":"1em"}},"实验楼",-1),ue={__name:"laboratoryBuild",async setup(P){let o,i;const{scene:s}=([o,i]=j(()=>k("./plugins/digitalPark/model/laboratoryBuild.gltf",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o),{scene:g}=O(),r=[],p=[];s.traverse(c=>{c.updateMatrixWorld(!0),c.isMesh&&(c.geometry.applyMatrix4(c.matrixWorld),r.push(c.geometry),c.material.emissive=c.material.color,c.material.emissiveMap=c.material.map,c.material.emissiveIntensity=.1,c.material.envmap=g.value.background,p.push(c.material))});const m=oe(r,!0),b=new Y(m,p),{scene:_}=([o,i]=j(()=>k("./plugins/digitalPark/model/arctic_tooltip.glb",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o),a=new R({roughness:.3,metalness:.05,color:"#b07560",envMapIntensity:.75,clearcoatRoughness:0,clearcoat:1}),f=D(null);return G(()=>{f.value&&x.to(f.value.rotation,{y:Math.PI*2.5,duration:3,ease:"power1.inOut",repeat:-1,yoyo:!0})}),(c,d)=>(v(),S(T,null,[t("primitive",{object:n(b),"cast-shadow":"","receive-shadow":"",position:[-33,0,7],scale:[.7,1.2,.7],name:"实验楼","rotation-y":Math.PI/2},null,8,ce),t("TresMesh",{ref_key:"tooltipRef",ref:f,scale:[.03,.02,.004],rotation:[0,Math.PI/2,0],position:[-32,27,12],geometry:n(_).getObjectByName("Arctic_Tooltip_lambert4_0").geometry,material:n(a)},[h(n(A),{center:!0,transform:""},{default:w(()=>[me]),_:1})],8,le)],64))}},pe=["object","rotation"],_e=["rotation","geometry"],de=t("h1",{class:"text-xs p-0.5 rounded -mt-10 text-#ffff99 font-bold",style:{"font-size":"78rem",width:"4em","text-align":"center","margin-top":"1em"}}," 别追我 ",-1),N=6e-4,he={__name:"car",async setup(P){let o,i;const s={color:"#ffda99",roughness:.21,reflectivity:1,attenuationColor:"#ffda35",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:.1,distortion:1.8,temporalDistortion:0,backside:!1,thickness:1,backsideThickness:.5},{scene:g}=O(),{scene:r,nodes:p,materials:m}=([o,i]=j(()=>k("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/lambo.glb",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o);p.glass_003.scale.setScalar(2.7),m.FrameBlack.roughness=0,m.FrameBlack.metalness=.75,m.Chrome.metalness=1,m.Chrome.roughness=0,m.BreakDiscs.metalness=.2,m.BreakDiscs.roughness=.2,m.TiresGum.metalness=0,m.TiresGum.roughness=.4,m.GreyElements.metalness=0,p.yellow_WhiteCar_0.material=new R({roughness:.3,metalness:.05,color:"#ffda35",envMapIntensity:.75,clearcoatRoughness:0,clearcoat:1}),Object.values(p).forEach(e=>{e.isMesh&&(e.name.startsWith("glass")&&e.geometry.computeVertexNormals(),e.name==="silver_001_BreakDiscs_0"&&(e.material=m.BreakDiscs.clone(),e.material.color=new L("#ddd")),e.castShadow=!0,e.receiveShadow=!0,e.material.emissive=e.material.color,e.material.emissiveMap=e.material.map,e.material.emissiveIntensity=.1,e.material.envmap=g.value.background)});const{scene:b}=([o,i]=j(()=>k("./plugins/digitalPark/model/arctic_tooltip.glb",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o),_=new q([new y(10,1.5,35),new y(35,1.5,35),new y(35,1.5,-80),new y(47,1.5,-80),new y(47,1.5,35),new y(100,1.5,35),new y(100,1.5,47),new y(-100,1.5,47),new y(-100,1.5,35)]);_.curveType="catmullrom",_.closed=!0,_.tension=.2;const a=D(null);let f=0;const c=()=>{if(_)if(f<=1-N){const e=_.getPointAt(f),l=_.getPointAt(f+N);e&&l&&(a.value.position.set(e.x,e.y+6,e.z),r.position.set(e.x,e.y,e.z),r.lookAt(l.x,l.y,l.z)),f+=N}else f=0};G(()=>{a.value&&x.to(a.value.rotation,{y:Math.PI*2.5,duration:3,ease:"power1.inOut",repeat:-1,yoyo:!0})});const{onLoop:d}=H();return d(()=>{c()}),(e,l)=>(v(),S(T,null,[t("primitive",{object:n(r),scale:.02,rotation:[0,Math.PI/2,0],position:[10,1.5,35]},null,8,pe),t("TresMesh",{ref_key:"tooltipRef",ref:a,scale:[.03,.02,.004],rotation:[0,Math.PI/2,0],position:[10,6,35],geometry:n(b).getObjectByName("Arctic_Tooltip_lambert4_0").geometry},[h(n(A),{center:!0,transform:""},{default:w(()=>[de]),_:1}),h(n(ae),$(z(s)),null,16)],8,_e)],64))}},fe=["object"],be=I({__name:"sculpture",async setup(P){let o,i;const{scene:s}=([o,i]=j(()=>k("./plugins/digitalPark/model/vr_sculpture_park/scene.gltf",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o),{scene:g}=O();return s.traverse(async r=>{r.isMesh&&(r.material.emissive=r.material.color,r.material.emissiveMap=r.material.map,r.material.emissiveIntensity=.6,r.material.envmap=g.value.background,r.castShadow=!0,r.receiveShadow=!0,r.frustumCulled=!1),r.isObject3D&&(r.frustumCulled=!1,r.castShadow=!0,r.receiveShadow=!0)}),(r,p)=>(v(),S("primitive",{"cast-shadow":"","receive-shadow":"",object:n(s),name:"主场景"},null,8,fe))}}),ve={position:[10,0,0]},ge={position:[-33*4,0,40.4]},we=["object"],ye={position:[-33*3,0,40.4]},je=["object"],ke={position:[-33*2,0,40.4]},Me=["object"],Ce={position:[-33,0,40.4]},xe=["object"],Se={position:[0,0,40.4]},Pe=["object"],Be={position:[33*2-5.5,0,40.4]},Te=["object"],Oe={position:[33*3-5.5,0,40.4]},Ge=["object"],Ne={position:[-3.3,-.2,18]},$e={position:[0,0,0]},ze=["object"],Ie={position:[0,0,33*1]},Re=["object"],De={position:[0,0,33*2]},Ae=["object"],Fe={position:[0,0,33*3]},Ee=["object"],Le={position:[0,0,33*5-6]},We=["object"],Ve={position:[0,0,33*6-6]},Ye=["object"],qe={__name:"street",async setup(P){let o,i;const{nodes:s}=([o,i]=j(()=>k("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/digitalPark/low_poly_street_v3.glb",{draco:!0,decoderPath:"./draco/"})),o=await o,i(),o),g=s.Sketchfab_model.getObjectByName("Cube497_530");g.children[0].receiveShadow=!0;const r=s.Sketchfab_model.getObjectByName("Cube549_582");r.children[0].receiveShadow=!0;const p=s.Sketchfab_model.getObjectByName("Cube550_583");p.children[0].receiveShadow=!0;const m=s.Sketchfab_model.getObjectByName("Cube551_854");m.children[0].receiveShadow=!0;const b=s.Sketchfab_model.getObjectByName("Cube552_855");b.children[0].receiveShadow=!0;const _=s.Sketchfab_model.getObjectByName("Cube553_856");_.children[0].receiveShadow=!0;const a=new X;a.add(g,r,p,m,b,_),a.scale.setScalar(.83),a.rotation.set(0,.008,0);const f=new J().setFromObject(a),c=new y;f.getCenter(c),a.position.x=-c.x,a.position.y=-c.y,a.position.z=-c.z;const d=a.clone();return d.rotateY(Math.PI/2),(e,l)=>(v(),S(T,null,[t("TresGroup",ve,[t("TresGroup",ge,[t("primitive",{object:n(a).clone()},null,8,we)]),t("TresGroup",ye,[t("primitive",{object:n(a).clone()},null,8,je)]),t("TresGroup",ke,[t("primitive",{object:n(a).clone()},null,8,Me)]),t("TresGroup",Ce,[t("primitive",{object:n(a).clone()},null,8,xe)]),t("TresGroup",Se,[t("primitive",{object:n(a).clone()},null,8,Pe)]),t("TresGroup",Be,[t("primitive",{object:n(a).clone()},null,8,Te)]),t("TresGroup",Oe,[t("primitive",{object:n(a).clone()},null,8,Ge)])]),t("TresGroup",Ne,[t("TresGroup",$e,[t("primitive",{object:n(d).clone()},null,8,ze)]),t("TresGroup",Ie,[t("primitive",{object:n(d).clone()},null,8,Re)]),t("TresGroup",De,[t("primitive",{object:n(d).clone()},null,8,Ae)]),t("TresGroup",Fe,[t("primitive",{object:n(d).clone()},null,8,Ee)]),t("TresGroup",Le,[t("primitive",{object:n(d).clone()},null,8,We)]),t("TresGroup",Ve,[t("primitive",{object:n(d).clone()},null,8,Ye)])])],64))}},He=t("TresPerspectiveCamera",{position:[40,30,82],fov:45,near:.1,far:1e3},null,-1),ut=I({__name:"simplePark",setup(P){const o=E({shadows:!0,windowSize:!0}),i=E({enableDamping:!0,dampingFactor:.05}),s=K();return G(()=>{s.value&&(s.value.shadow.mapSize.set(1024*5,1024*5),s.value.shadow.bias=-1e-5,s.value.shadow.color=new L(0),s.value.shadow.camera.near=.5,s.value.shadow.camera.far=5e4,s.value.shadow.camera.top=300,s.value.shadow.camera.right=300,s.value.shadow.camera.left=-300,s.value.shadow.camera.bottom=-300)}),(g,r)=>{const p=Q("TresCanvas");return v(),S(T,null,[h(n(ee)),h(p,$(z(o)),{default:w(()=>[He,h(n(U),$(z(i)),null,16),h(n(Z),null,{default:w(()=>[t("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:s,position:[80,80,-8],intensity:3,castShadow:!0},null,512)]),_:1}),(v(),M(C,null,{default:w(()=>[h(ie)]),_:1})),(v(),M(C,null,{default:w(()=>[h(ue)]),_:1})),(v(),M(C,null,{default:w(()=>[h(qe)]),_:1})),(v(),M(C,null,{default:w(()=>[h(be)]),_:1})),(v(),M(C,null,{default:w(()=>[h(he)]),_:1})),(v(),M(C,null,{default:w(()=>[h(n(te),{environment:!1,texture:"https://cdn.polyhaven.com/asset_img/primary/kloofendal_48d_partly_cloudy_puresky.png?width=1920"})]),_:1}))]),_:1},16)],64)}}});export{ut as default};
