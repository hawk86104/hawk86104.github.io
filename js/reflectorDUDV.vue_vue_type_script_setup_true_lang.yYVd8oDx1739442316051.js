import{c7 as t,a3 as e,r as n,s as r}from"./three.OosFxi571739442316051.js";import{a as o}from"./@tresjs.4XV_x0mI1739442316051.js";import{R as s,b as i}from"./all.three.RcJo9D5E1739442316051.js";import{d as c,a3 as a,a2 as u,w as f,o as l,H as p,N as m,u as h}from"./@vue.NRI7TcgI1739442316051.js";const d=v;function w(){const t=["uMatrix","test","isMesh","1513048DIiMwP","info","stateObject","length","apply","4744936jqxWTk","prototype","35QQxEcj","scale","counter","warn","function *\\( *\\)","__proto__","10659609hpyceo","wrapS","size","chain","ignoreObjects","console","showGridHelper","gger","bind","constructor","renderTargetUniform","primitive","uniforms","value","debu","42085483kXXsxz","tReflectBlur","set","9783EtblnJ","update","4SjsbGQ","trace","return (function() ","814lpPOwL","texture","table","reflectorDUDV","1627175LQPeAs","renderTarget","add","exception","object","input","toString",'{}.constructor("return this")( )',"TresGroup","visible","forEach","1766778WKsiJZ","10VCaAMK"];return(w=function(){return t})()}!function(t,e){const n=v,r=w();for(;;)try{if(965446===-parseInt(n(254))/1+-parseInt(n(234))/2*(parseInt(n(229))/3)+-parseInt(n(231))/4*(parseInt(n(238))/5)+-parseInt(n(249))/6*(parseInt(n(205))/7)+parseInt(n(203))/8+parseInt(n(211))/9+-parseInt(n(250))/10*(-parseInt(n(226))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const y=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function v(t,e){const n=w();return(v=function(t,e){return n[t-=202]})(t,e)}!function(){y(this,(function(){const t=v,e=new RegExp(t(209)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_("init");e.test(r+t(214))&&n[t(252)](r+t(243))?_():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(202)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();b(void 0,(function(){const t=v,e=function(){const t=v;let e;try{e=Function(t(233)+t(245)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(216)]||{},r=["log",t(208),t(255),"error",t(241),t(236),t(232)];for(let o=0;o<r[t(257)];o++){const e=b[t(220)][t(204)][t(219)](b),s=r[o],i=n[s]||e;e[t(210)]=b[t(219)](b),e[t(244)]=i[t(244)][t(219)](i),n[s]=e}}))();const g=[d(206)],j=[d(242)],x=[d(242)],I=c({__name:d(237),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const y=d;let v,b;const I=c,_=new s,M=new t(I[y(213)][0]-.5,I.size[1]);M[y(247)]=I[y(217)];const{map:R}=([v,b]=a((()=>o({map:I.mapUrl}))),v=await v,b(),v);R[y(212)]=e,R.wrapT=e,R.repeat[y(228)](6,3);const z=new i({map:R,reflectivity:I.reflectivity});z.uniforms.tReflect={value:_[y(239)][y(235)]},z[y(223)][y(227)]=_[y(221)],z.uniforms[y(251)]=_.textureMatrixUniform;const E=new n(new r(I[y(213)][0],I[y(213)][1]),z);return E.rotation.x=-Math.PI/2,E[y(240)](_),E.onBeforeRender=(t,e,n)=>{const r=y;E.visible=!1,I[r(215)][r(248)]((t=>{const e=r;t.isMesh&&(t[e(247)]=!1),t[e(224)]&&t.value[e(253)]&&(t[e(224)][e(247)]=!1)})),_[r(230)](t,e,n),I[r(215)][r(248)]((t=>{const e=r;t[e(253)]&&(t[e(247)]=!0),t[e(224)]&&t[e(224)].isMesh&&(t[e(224)][e(247)]=!0)})),E[r(247)]=!0},u((()=>{const t=y;I.reflectivity&&(z.uniforms.uReflectivity[t(224)]=I.reflectivity)})),f((()=>I[y(217)]),(t=>{M[y(247)]=t})),w({reflector:_}),(t,e)=>{const n=y;return l(),p(n(246),{scale:I[n(206)]},[m("primitive",{object:h(E),"position-y":-.01},null,8,j),m(n(222),{object:h(M)},null,8,x)],8,g)}}});function _(t){function e(t){const n=v;if("string"==typeof t)return function(t){}[n(220)]("while (true) {}")[n(202)](n(207));1!==(""+t/t)[n(257)]||t%20==0?function(){return!0}[n(220)](n(225)+n(218)).call("action"):function(){return!1}[n(220)](n(225)+n(218))[n(202)](n(256)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
