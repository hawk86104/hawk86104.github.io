import{importShared as e}from"./3d-tiles-renderer.COLnOnaF1767661981680.js";import{_sfc_main$6 as t}from"./generalFont.vue_vue_type_script_setup_true_lang.BBpUI_2D1767661981680.js";import"./default.vue_vue_type_script_setup_true_lang.DdVqAvAG1767661981680.js";import"./three-mesh-ui.module.cGhEEHxU1767661981680.js";import"./domPanel.vue_vue_type_style_index_0_lang.CrCeRUDG1767661981680.js";import{useGLTF as o,Text3D_default as a,useLoop as r,OrbitControls_default as n}from"./index.DJAV0vsW1767661981680.js";import{_sfc_main as l}from"./model.vue_vue_type_script_setup_true_lang.hZq6QBXX1767661981680.js";const{defineComponent:i}=await e("vue"),{unref:s,openBlock:c,createElementBlock:d,createCommentVNode:u,mergeProps:m,createVNode:p,Suspense:h,withCtx:f,createBlock:v}=await e("vue"),_=["rotate-x"],w=["object"],{watch:g}=await e("vue"),R=i({__name:"floorText",setup(e){let t=null;const{state:r,nodes:n}=o("https://opensource.cdn.icegl.cn/model/floor/redTextFloor/scene.gltf",{draco:!0,decoderPath:"./draco/"});g(()=>n.value,e=>{e&&(t=e.Sketchfab_model.getObjectByName("floor_grid_07_-_Default_0"))});const l={size:16,height:3,curveSegments:5,bevelEnabled:!0,bevelThickness:.05,bevelSize:.12,bevelOffset:.2,bevelSegments:4};return(e,o)=>(c(),d("TresGroup",{"rotate-x":-Math.PI/2},[s(r)?(c(),d("primitive",{key:0,object:s(t),scale:3,"receive-shadow":""},null,8,w)):u("",!0),(c(),v(h,null,{default:f(()=>[p(s(a),m({text:"DFS 230A-1 新型滑翔机",position:[-145,-265,2]},l,{"cast-shadow":"",font:"https://opensource.cdn.icegl.cn/fonts/FZLanTingHeiS-UL-GB_Regular.json",center:""}),null,16,["font"])]),_:1}))],8,_))}}),{defineComponent:S}=await e("vue"),{unref:x,createElementVNode:b,mergeProps:z,withCtx:N,createVNode:P,Suspense:j,openBlock:C,createBlock:M,createElementBlock:k,createCommentVNode:T}=await e("vue"),y={key:0},B=["object","position-z","rotation-z"],I=["object","position-z","rotation-y","rotation-z"],E=["color","emissive"],{Color:F}=await e("three"),{ref:L,watch:V}=await e("vue"),D=S({__name:"arrow2.5D",props:{textRotation:{default:[0,0,0]},text:{default:"文本"},zRoom:{default:5},arrScale:{default:[2,2,.8]},color:{default:"#9a7a4d"}},setup(e){const t=e,{state:n,nodes:l}=o("./plugins/UIdemo/model/arrowWhite2.5d.glb");V(()=>l.value,e=>{e&&(console.log(e.RootNode.value),e.RootNode.scale.set(t.arrScale[0],t.arrScale[1],t.arrScale[2]),e.RootNode.children[0].children[0].material.color=new F(t.color),e.RootNode.children[0].children[0].material.emissive=new F(t.color),e.RootNode.children[0].children[0].castShadow=!0,e.RootNode.children[0].children[0].roughness=0,e.RootNode.children[1].children[0].material.color=new F(t.color),e.RootNode.children[1].children[0].material.emissive=new F(t.color),e.RootNode.children[1].children[0].castShadow=!0,e.RootNode.children[1].children[0].roughness=0)});const i={size:.7,height:.1,curveSegments:5,bevelEnabled:!0,bevelThickness:.05,bevelSize:.006,bevelOffset:.02,bevelSegments:4};let s=L(0);const{onRender:c}=r();return c(({delta:e})=>{s.value+=2*e}),(e,o)=>x(n)?(C(),k("TresGroup",y,[b("primitive",{object:x(l).RootNode,"position-z":t.zRoom,"rotation-z":x(s)},null,8,B),b("primitive",{object:x(l).RootNode.clone(),"position-z":-t.zRoom,"rotation-y":-Math.PI,"rotation-z":x(s)},null,8,I),(C(),M(j,null,{default:N(()=>[P(x(a),z({text:t.text,position:[0,.2,0]},i,{"cast-shadow":"",rotation:t.textRotation,font:"https://opensource.cdn.icegl.cn/fonts/FZLanTingHeiS-UL-GB_Regular.json",center:""}),{default:N(()=>[b("TresMeshStandardMaterial",{color:t.color,emissive:t.color},null,8,E)]),_:1},16,["text","rotation","font"])]),_:1}))])):T("",!0)}}),{defineComponent:G}=await e("vue"),{unref:A,createVNode:O,createElementVNode:U,normalizeProps:Z,guardReactiveProps:H,resolveComponent:W,withCtx:$,Fragment:q,openBlock:J,createElementBlock:K}=await e("vue"),Q=await e("three"),{shallowRef:X,watchEffect:Y}=await e("vue"),ee=G({__name:"sizeMark",setup(e){const o=X();Y(()=>{o.value&&(o.value.shadow.mapSize.set(2048,2048),o.value.shadow.camera.near=.1,o.value.shadow.camera.far=5e3,o.value.shadow.camera.top=500,o.value.shadow.camera.right=500,o.value.shadow.camera.left=-500,o.value.shadow.camera.bottom=-500,o.value.shadow.radius=2)});const a={enableDamping:!0,dampingFactor:.05,autoRotate:!0,autoRotateSpeed:2},r={clearColor:"#999",outputColorSpace:Q.SRGBColorSpace,toneMapping:Q.ACESFilmicToneMapping,toneMappingExposure:1.8,windowSize:!0,powerPreference:"high-performance",shadows:!0};return(e,i)=>{const s=W("TresCanvas");return J(),K(q,null,[O(A(t)),O(s,Z(H(r)),{default:$(()=>[i[0]||(i[0]=U("TresPerspectiveCamera",{position:[-100,800,500],fov:50,near:.1,far:1e4},null,-1)),O(A(n),Z(H(a)),null,16),i[1]||(i[1]=U("TresAmbientLight",{color:"#ffffff",intensity:2},null,-1)),U("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:o,color:"#ffffff",position:[260,260,350],intensity:6,"cast-shadow":""},null,512),O(l),O(R),O(D,{position:[230,10,0],scale:30,text:"长:86m",textRotation:[-Math.PI/5,0,0]},null,8,["textRotation"]),O(D,{position:[0,10,230],scale:30,text:"宽:62m",rotation:[0,-Math.PI/2,Math.PI/5],zRoom:3,textRotation:[-Math.PI/5,Math.PI/2,Math.PI/5],arrScale:[2,2,.4]},null,8,["rotation","textRotation"]),O(D,{position:[-230,96,0],scale:30,text:"高:46m",rotation:[Math.PI/2,0,0],zRoom:2,arrScale:[2,2,.4],textRotation:[-Math.PI/1.5,0,0]},null,8,["rotation","textRotation"])]),_:1},16)],64)}}});export{ee as default};
