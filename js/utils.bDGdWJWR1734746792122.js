import{a as t,B as n,s as e,c7 as o,C as r,k as s,a0 as c}from"./three.1FILWcBb1734746792122.js";import{w as i}from"./@fesjs.Y0rSBxCv1734746792122.js";import{b as a}from"./@tresjs.vA_UT8oy1734746792122.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.VBrofT861734746792122.js";!function(t,n){const e=g,o=m();for(;;)try{if(850531===parseInt(e(146))/1+parseInt(e(124))/2*(parseInt(e(121))/3)+-parseInt(e(164))/4+parseInt(e(137))/5+-parseInt(e(131))/6*(parseInt(e(177))/7)+-parseInt(e(126))/8+parseInt(e(161))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(133)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=g,n=new RegExp(t(147)),e=new RegExp(t(167),"i"),o=_(t(169));n.test(o+"chain")&&e[t(176)](o+t(178))?_():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(133)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["side","6WSNzyZ","#fff","apply","Box3","setFromObject","string","2031195HJNkGc","getX","max","forEach","catch","applyMatrix4","table","count","children","428143FBnrHh","function *\\( *\\)","sub","boundingBox","reflectivity","value","counter","divideScalar","log","geometry","setAttribute","add","get","random","set","21635019Rewwdx","setY","toString","6474840hqJMBo","call","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","init","depthTest","getCenter","computeBoundingBox","transparent","position","return (function() ","test","5121907rroZiP","input","constructor","features","console","deleteAttribute","depthWrite","getSize","bind","Vector3","then","exception","push","material","raycast","length","attributes","negate","debu","__proto__","while (true) {}","uniforms","disposeBoundsTree","3QtECKw","prototype","gger","1694158krhLDO","computeBoundsTree","7075280jbmhKQ","getY","config","json"];return(m=function(){return t})()}function g(t,n){const e=m();return(g=function(t,n){return e[t-=109]})(t,n)}h(void 0,(function(){const t=g;let n;try{n=Function(t(175)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(181)]||{},o=[t(154),t(168),"info","error",t(109),t(143),"trace"];for(let s=0;s<o[t(113)];s++){const n=h[t(179)][t(122)][t(185)](h),r=o[s],c=e[r]||n;n[t(117)]=h[t(185)](h),n[t(163)]=c[t(163)][t(185)](c),e[r]=n}}))();const d=(n,e=!1)=>{const o=g;n[o(172)]();const{max:r,min:s}=n[o(149)];n[o(182)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n.attributes[o(174)][o(144)];t++)e?(a[o(110)]((n.attributes[o(174)].getX(t)-(s.x+r.x)/2)/c),a[o(110)]((n[o(114)][o(174)][o(127)](t)-(s.y+r.y)/2)/i)):(a.push((n[o(114)][o(174)][o(138)](t)-s.x)/c),a[o(110)]((n[o(114)][o(174)][o(127)](t)-s.y)/i));const u=new Float32Array(a);n[o(156)]("uv",new t(u,2))},w=(t,n)=>new Promise(((e,o)=>{const r=g;i(t,{},{method:r(158),mergeRequest:!0,responseType:r(129)})[r(187)]((t=>{const o=r;n&&e(t[n]),e(t[o(180)])}))[r(141)]((t=>{console.error(t),o(t)}))})),y=t=>{const n=g,e=(new(THREE[n(134)]))[n(135)](t),o=new(THREE[n(186)]);e[n(171)](o),t[n(145)][n(140)]((t=>{const e=n;t.position[e(148)](o)})),t[n(174)].copy(o[n(115)]())},x=()=>{const t=g;n.prototype[t(125)]=u,n[t(122)][t(120)]=f,e[t(122)][t(112)]=p},b=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(155)].clone();d(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(132)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(111)][n(173)]=!0,u[n(111)][n(183)]=!0,u[n(111)][n(170)]=!0,u.material[n(130)]=c,u[n(111)][n(119)][n(128)][n(151)].w=20,u.material.uniforms[n(150)].value=.46,u};function j(t){const n=g,e=[];for(let r=0;r<t.length;r++)e[n(110)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(157)](e[r]);o[n(153)](e.length);for(let r=0;r<e.length;r++)e[r][n(148)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=g;if(typeof t===e(136))return function(t){}[e(179)](e(118))[e(133)](e(152));1!==(""+t/t)[e(113)]||t%20==0?function(){return!0}.constructor("debu"+e(123))[e(165)]("action"):function(){return!1}[e(179)](e(116)+e(123))[e(133)](e(166)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,w as l,d as r,b as s};
