import{a5 as t,V as n,cw as o,C as e}from"./three.HEgnMaTu1721048663624.js";import{P as r}from"./tweakpane.yHWGBmom1721048663624.js";import{u as s}from"./@tweenjs._ZWCNGal1721048663624.js";import{a as i,r as a}from"./@tresjs.Xiq_TH801721048663624.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d as g}from"./index.6HzFgKU41721048663624.js";import{d,a2 as h,w as j,o as b,D as w,u as v,X as x,r as y,e as M,j as I,g as S,f as _,al as C,m as z,F as B}from"./@vue.ApkyOKE71721048663624.js";import{_ as k}from"./raycasterEvent.wzyoe0na1721048663624.js";import{a as A}from"./utils.GKPbTxZF1721048663624.js";import"./@vueuse.2IVIyoVR1721048663624.js";import"./@mapbox.v9FuJbPF1721048663624.js";import"./@amap.IXBtourJ1721048663624.js";import"./three-mesh-bvh.wAcaRjKH1721048663624.js";import"./three-custom-shader-material.AmV1WVUo1721048663624.js";import"./object-hash.E5Z0NA4F1721048663624.js";import"./jszip.PK6xEuxJ1721048663624.js";import"./glsl-tokenizer.bhImRDDx1721048663624.js";import"./glsl-token-string.fSxiDrag1721048663624.js";import"./glsl-token-functions.tTTlKCMK1721048663624.js";import"./@fesjs.vljLn8mq1721048663624.js";import"./vue-router.v6lvLH0N1721048663624.js";import"./lodash-es.nFpJXAf-1721048663624.js";import"./@qlin.yHhFDldE1721048663624.js";import"./pinia.gP9-G6bs1721048663624.js";import"./@floating-ui.BPbuo5Gx1721048663624.js";import"./@juggle.7yjBMqoW1721048663624.js";import"./http.8GS5XwEw1721048663624.js";import"./axios.o4dqSy1c1721048663624.js";import"./color.HyAFK39s1721048663624.js";import"./color-string.J39Oaa8l1721048663624.js";import"./color-name.xgOPEjZu1721048663624.js";import"./simple-swizzle.qhrB0-mQ1721048663624.js";import"./is-arrayish.cNFFivA01721048663624.js";import"./color-convert.TWRrKmie1721048663624.js";import"./lodash.AYUmLz4U1721048663624.js";import"./naive-ui.uGEUBptd1721048663624.js";import"./css-render.NazKD5tP1721048663624.js";import"./@emotion.ZD_ZYAgY1721048663624.js";import"./@css-render.cyJIoW-Z1721048663624.js";import"./seemly.SjiSeX2v1721048663624.js";import"./vooks.mXCU6U_T1721048663624.js";import"./evtd.DtfwxtIl1721048663624.js";import"./vueuc.3qF0ch5S1721048663624.js";import"./vdirs.7ttRIEVn1721048663624.js";import"./date-fns.SY8n0yRO1721048663624.js";import"./treemate.dcEdf2le1721048663624.js";import"./date-fns-tz.YNK5w3a_1721048663624.js";import"./async-validator.-YBkpS4I1721048663624.js";import"./utils.gFXkBUyz1721048663624.js";import"./d3-geo.EkPiQVK-1721048663624.js";import"./d3-array.AhNJy1f41721048663624.js";const E=D;!function(t,n){const o=D,e=Z();for(;;)try{if(836897===parseInt(o(469))/1*(parseInt(o(467))/2)+-parseInt(o(436))/3+parseInt(o(461))/4*(parseInt(o(397))/5)+-parseInt(o(463))/6*(parseInt(o(450))/7)+parseInt(o(399))/8+-parseInt(o(455))/9+-parseInt(o(396))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){R(this,(function(){const t=D,n=new RegExp(t(404)),o=new RegExp(t(438),"i"),e=V(t(419));n.test(e+t(411))&&o[t(416)](e+t(403))?V():e("0")}))()}();const T=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[D(402)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();T(void 0,(function(){const t=D;let n;try{n=Function("return (function() "+t(417)+");")()}catch(r){n=window}const o=n[t(432)]=n[t(432)]||{},e=[t(434),t(420),t(471),t(408),t(401),t(452),t(465)];for(let s=0;s<e[t(424)];s++){const n=T[t(407)].prototype.bind(T),r=e[s],i=o[r]||n;n[t(470)]=T[t(429)](T),n[t(412)]=i.toString[t(429)](i),o[r]=n}}))();const F=["object",E(426)];function D(t,n){const o=Z();return(D=function(t,n){return o[t-=395]})(t,n)}const N=d({__name:E(462),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:E(458)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(r,{expose:g}){const d=E,x=r,{renderer:y,scene:M}=i();(new c).coordType=u;const I=new p;I[d(418)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",I[d(447)]=u;const S=new l;S[d(418)]=d(428),S[d(437)]=!1,S[d(431)]=!0;const _=new m(I,S);if(_.showBoundingBox=!1,_.wireframe=!1,_[d(457)]=!1,_[d(422)]=!1,_[d(468)]={opposite:x[d(427)],monochrome:x[d(440)]?{r:.299,g:.587,b:.114}:null,genBright:x[d(409)],genContrast:x.genContrast,genSaturation:x[d(441)]},x[d(446)]){let n=new(t[d(425)])(x[d(446)]);_.filter&&(_[d(468)].monochrome={r:n.r,g:n.g,b:n.b})}const C=new f;C[d(413)]=_,C[d(444)]=x.bbox,C[d(430)]=x[d(430)];const z=new(t[d(405)])(60,window.innerWidth/window[d(415)],1,1e8);z.up=new(t[d(439)])(0,1,0),z[d(414)][d(449)](x[d(435)][0],x[d(435)][2],-x[d(435)][1]),z[d(456)](new n(z[d(414)].x,0,z[d(414)].z-2e3)),C[d(395)]=z;let B=null;h((()=>{const t=d;if(y.value&&!B&&(B=new o(z,y[t(442)][t(421)]),B.enableDamping=!0,B[t(454)]=.05,B.minDistance=600,B[t(451)][t(449)](z.position.x,z.position.y,z[t(414)].z),B[t(453)][t(449)](z.position.x,0,z[t(414)].z-2e3)),x[t(409)]&&_.filter&&(_[t(468)][t(409)]=x[t(409)]),x[t(460)]&&_[t(468)]&&(_[t(468)].genContrast=x[t(460)]),x.genSaturation&&_[t(468)]&&(_.filter[t(441)]=x.genSaturation),x.isMonochrome&&x[t(446)]&&_[t(468)]){let n=new e(x[t(446)]);_[t(468)][t(446)]={r:n.r,g:n.g,b:n.b}}})),j((()=>x.opposite),(t=>{const n=d;_[n(468)]&&(_[n(468)][n(427)]=t)})),j((()=>x[d(440)]),(t=>{const n=d;let o=new e(x[n(446)]);_.filter&&(_[n(468)][n(446)]=t?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:k}=a();return k((()=>{const t=d;if(y.value){s(),B&&B[t(398)](),C.update();const n=50*Math[t(445)](z[t(414)].y);z.far=n+5e3,z[t(459)](),B.target.y=0,y[t(442)][t(433)](M[t(442)],z)}})),g({camera:z,map:C,orbitControl:B}),(t,n)=>{const o=d;return b(),w(o(410),{object:v(C),rotation:[-Math.PI/2,0,0]},null,8,F)}}});function Z(){const t=["init","warn","domElement","useStandardMaterial","gger","length","Color","rotation","opposite","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","bind","maxZoom","useWorker","console","render","log","mapCenter","2469120FueiuU","showTileNo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","isMonochrome","genSaturation","value","stateObject","bbox","abs","monochrome","coordType","counter","set","87878vpoKAV","position0","table","target","dampingFactor","7012404gMDJEo","lookAt","flatShading","#fff","updateProjectionMatrix","genContrast","5178904FEAAjy","tileMapMesh","390gSEKcZ","call","trace","action","283506sWdCOq","filter","6tovRUD","__proto__","info","camera","649720jXtDcB","5mUtBSM","update","9398648cTDtNv","debu","exception","apply","input","function *\\( *\\)","PerspectiveCamera","string","constructor","error","genBright","primitive","chain","toString","provider","position","innerHeight","test",'{}.constructor("return this")( )',"source"];return(Z=function(){return t})()}function V(t){function n(t){const o=D;if(typeof t===o(406))return function(t){}[o(407)]("while (true) {}")[o(402)](o(448));1!==(""+t/t).length||t%20==0?function(){return!0}[o(407)]("debu"+o(423))[o(464)](o(466)):function(){return!1}[o(407)](o(400)+o(423))[o(402)](o(443)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const X=W;!function(t,n){const o=W,e=K();for(;;)try{if(435404===parseInt(o(189))/1*(-parseInt(o(204))/2)+-parseInt(o(159))/3*(-parseInt(o(218))/4)+-parseInt(o(176))/5+parseInt(o(219))/6+-parseInt(o(188))/7+parseInt(o(187))/8+-parseInt(o(198))/9*(-parseInt(o(217))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){P(this,(function(){const t=W,n=new RegExp(t(179)),o=new RegExp(t(203),"i"),e=$("init");n[t(210)](e+t(212))&&o[t(210)](e+t(192))?$():e("0")}))()}();const U=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[W(177)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function W(t,n){const o=K();return(W=function(t,n){return o[t-=157]})(t,n)}U(void 0,(function(){const t=W;let n;try{n=Function(t(197)+t(174)+");")()}catch(r){n=window}const o=n[t(202)]=n[t(202)]||{},e=[t(190),t(181),"info","error",t(180),t(196),t(182)];for(let s=0;s<e[t(209)];s++){const n=U.constructor[t(191)][t(171)](U),r=e[s],i=o[r]||n;n.__proto__=U[t(171)](U),n[t(173)]=i.toString[t(171)](i),o[r]=n}}))();const Y=d({__name:X(158),setup(n){const o=X,e=g(118.779958,32.017136),s=[e[0],e[1],5e3],i=x(),a=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(161),mapCenter:s}),c=new r({title:"参数"});c[o(172)](a,"opposite",{label:"反色"}),c[o(172)](a,"genBright",{label:"高亮",min:.1,max:3,step:.1}),c[o(172)](a,o(163),{label:o(183),min:.1,max:3,step:.1}),c.addBinding(a,o(220),{label:o(169),min:.1,max:3,step:.1}),c[o(172)](a,o(186),{label:"单色滤镜"}),c.addBinding(a,o(175),{label:o(201)});const u={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};c.addBlade({view:o(165),label:"飞去",options:[{text:o(205),value:"at"},{text:o(170),value:o(167)},{text:"牛首山",value:o(206)}],value:"at"}).on(o(184),(n=>{const e=o,r=new(t[e(214)])(u[n.value][0],2e3,-u[n[e(208)]][1]);A(i.value[e(160)],r,i[e(208)][e(194)],[0,-300],4e3)}));const p=y({clearColor:o(211),antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[o(164)],toneMapping:t[o(200)],precision:o(199)});return setTimeout((()=>{const n=o,e=u.at,r=new(t[n(214)])(e[0],1600,-e[1]);A(i[n(208)][n(160)],r,i[n(208)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=M(e(166));return b(),w(B,null,[I(r,z(p,{"window-size":""}),{default:S((()=>[(b(),_(C,null,{default:S((()=>[I(N,z(a,{ref_key:e(207),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(k,{tileMapRef:i.value},null,8,[e(213)])],64)}}});function $(t){function n(t){const o=W;if(typeof t===o(157))return function(t){}[o(178)](o(168))[o(177)](o(162));1!==(""+t/t)[o(209)]||t%20==0?function(){return!0}[o(178)](o(185)+o(215))[o(195)](o(193)):function(){return!1}.constructor(o(185)+"gger")[o(177)](o(216)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function K(){const t=["prototype","input","action","orbitControl","call","table","return (function() ","103023NXYENE","highp","NoToneMapping","滤镜颜色","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","54XFBRRH","奥体中心","nss","tileMapMeshRef","value","length","test","#201919","chain","tileMapRef","Vector3","gger","stateObject","50eNSqKa","12436fYYAaN","923508ITlSXd","genSaturation","string","tileMap","669uWAkdr","camera","#4688b5","counter","genContrast","SRGBColorSpace","list","TresCanvas","xjk","while (true) {}","饱和度","新街口","bind","addBinding","toString",'{}.constructor("return this")( )',"monochrome","2739910gRtkVV","apply","constructor","function *\\( *\\)","exception","warn","trace","对比度","change","debu","isMonochrome","2882872LJAUMM","1862112XtEEFY","571ShEAAe","log"];return(K=function(){return t})()}export{Y as default};
