import{z as o}from"./three-custom-shader-material.ZTle5C8_1754646849181.js";import"./HeightCorrection.Bq98L9tL1754646849181.js";import"./three-tile.DD8OENTF1754646849181.js";import"./@tweenjs.CL1bcu711754646849181.js";/* empty css                                                                                    */import"./utils.wJL4ghJ31754646849181.js";import{l as e,U as t,P as r,M as n,T as i,a,r as s}from"./raycasterEvent.Cm9tGsgY1754646849181.js";import"./index.DIUXGDb01754646849181.js";import{_ as u,a as l}from"./radraB.vue_vue_type_script_setup_true_lang.CK1Cg4hb1754646849181.js";import{_ as c}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.DRHafBQB1754646849181.js";import{_ as p}from"./fireA.vue_vue_type_script_setup_true_lang.BibYQilR1754646849181.js";import{_ as f}from"./fireB.vue_vue_type_script_setup_true_lang.SYija5hx1754646849181.js";import{_ as m}from"./smokeA.vue_vue_type_script_setup_true_lang.XP44qeas1754646849181.js";import{_ as d}from"./precipitation.vue_vue_type_script_setup_true_lang.DS8m1mM-1754646849181.js";import{_ as v}from"./cloudMesh.vue_vue_type_script_setup_true_lang.CoE20Zu01754646849181.js";import{_ as h}from"./rippleMesh.vue_vue_type_script_setup_true_lang.866IPp8M1754646849181.js";import{e as _,b as W,m as g}from"./@tresjs.EkZ_QTfE1754646849181.js";import{aL as x,V as y,cG as w,a9 as C,g as b,S as j,M as P,Q as M,az as k,cC as S,cD as T,cE as z,a3 as D,C as R,bI as G,cW as B,N as H,_ as L,ce as I,q as N}from"./three.BWo_6did1754646849181.js";import{l as O}from"./utils.Bh3RUp4I1754646849181.js";import{d as q,aa as E,G as V,o as J,F as Z,W as U,I as Q,u as X,b as Y,a2 as A,j as F,e as K,f as $,a5 as oo,v as eo,r as to,h as ro,m as no}from"./@vue.BzMISRrV1754646849181.js";import{T as io}from"./3d-tiles-renderer.DpJ5LGEL1754646849181.js";import"./axios.C7i8mwvS1754646849181.js";import"./axios.DLTVXJci1754646849181.js";import"./pinia.C_jiKjvU1754646849181.js";import"./@fesjs.C_xmqVvB1754646849181.js";import"./vue-router.bKRZXZZg1754646849181.js";import"./lodash-es.C7pWAXPe1754646849181.js";import"./@qlin.q6OWdsQV1754646849181.js";import"./@babel.BPq7uOAK1754646849181.js";import"./@floating-ui.BFjFSAYt1754646849181.js";import"./@juggle.CcBCnTIR1754646849181.js";import"./color.BmVbVZpZ1754646849181.js";import"./@amap.CGUF9xH41754646849181.js";import"./color-string.BPXgFzIf1754646849181.js";import"./color-name.BQ5IbGbl1754646849181.js";import"./simple-swizzle.D-O-9opJ1754646849181.js";import"./is-arrayish.CLsR9Wfx1754646849181.js";import"./color-convert.CKjR_qem1754646849181.js";import"./lodash.Tpa5brJ81754646849181.js";import"./d3-geo.D1lTtF8X1754646849181.js";import"./d3-array.DtK5BhF11754646849181.js";import"./@mapbox.B8uYRbGC1754646849181.js";import"./three-mesh-bvh.CqL5lyhn1754646849181.js";import"./index.rnDGZAT_1754646849181.js";import"./object-hash.CF3M2KlU1754646849181.js";import"./jszip.CenSxAo51754646849181.js";import"./SPE.BYU31wyC1754646849181.js";import"./postprocessing.DILjcRc91754646849181.js";import"./@vueuse.uWD-2GR_1754646849181.js";const ao={renderOrder:3e3},so=["args"],uo=["map","side","color"],lo=q({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(o){let t,r;const n=o,{map:i}=([t,r]=E((()=>W({map:"./plugins/digitalCity/image/line.png"}))),t=await t,r(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=x,i.repeat.set(1,1);const a=([t,r]=E((()=>O(n.geoJson))),t=await t,r(),t);let s=[];for(var u=0;u<a.length;u++){const o=a[u],t=[];o.geometry.coordinates.forEach((o=>{const r=e(o[0],o[1],50);t.push(new y(r[0],0,-r[1]))}));let r=n.color;r="primary"===o.properties.highway?"#7eff10":"tertiary"===o.properties.highway?"#0eeeee":"secondary"===o.properties.highway?"#ffffff":"#ff0ffe",s.push({cr3:new w(t),color:r})}const{onLoop:l}=_();return l((()=>{i.offset.x-=Math.random()/20*n.speed})),(o,e)=>(J(),V("TresGroup",null,[(J(!0),V(Z,null,U(X(s),(o=>(J(),V("TresMesh",ao,[Q("TresTubeGeometry",{args:[o.cr3,64,n.radius,20,!1]},null,8,so),Q("TresMeshBasicMaterial",{map:X(i),side:X(C),transparent:!0,color:o.color},null,8,uo)])))),256))]))}}),co=o=>{o.onLoadTileSet=e=>{const t=new b,r=new j,n=new P;let i=null,a=0;o.getOrientedBounds(t,n)?(i=(new y).setFromMatrixPosition(n),a=i.length()):o.getBoundingSphere(r)&&(i=r.center.clone(),a=i.length());const s=i?.normalize(),u=((o,e)=>{const t=new M,r=(new y).crossVectors(o,e);return t.x=r.x,t.y=r.y,t.z=r.z,t.w=1+o.clone().dot(e),t.normalize(),t})(s,new y(0,1,0));o.group.quaternion.x=u.x,o.group.quaternion.y=u.y,o.group.quaternion.z=u.z,o.group.quaternion.w=u.w,o.group.position.z=-a}},po=["object","rotation"],fo=q({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(e){const t=e,r=Y(0),n=new io("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");n.errorTarget=2,n.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{if(e.isMesh){(e=>{const{geometry:n}=e;n.computeBoundingBox(),n.computeBoundingSphere();const{max:i,min:a}=n.boundingBox,s=new o({baseMaterial:new G,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new R(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new R("#ffffff")},uTopColor:{value:new R(t.topColor)},uTime:r,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:D});e.material.dispose(),e.material=s})(e),e.receiveShadow=!1,e.castShadow=!1;const n=new k(e.geometry.clone());let i=(new S).fromEdgesGeometry(n),a=new T({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const s=new z(i,a);s.applyMatrix4(e.matrix.clone()),e.parent.add(s)}}));const i=new b,a=new j;n.getBoundingBox(i)?(i.getCenter(n.group.position),n.group.position.multiplyScalar(-1)):n.getBoundingSphere(a)&&(n.group.position.copy(a.center),n.group.position.multiplyScalar(-1))})),co(n);const{renderer:i,sizes:a}=g();A((()=>{a.width.value&&(n.setCamera(t.camera),n.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:s}=_();return s((({delta:o})=>{r.value+=2*o,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),n.update())})),(o,e)=>(J(),V("TresGroup",null,[Q("primitive",{object:X(n).group,rotation:[-Math.PI/2,0,0]},null,8,po)]))}}),mo=["object","rotation"],vo=q({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(o,{expose:e}){const s=o,{renderer:u,scene:l}=g(),c=new r;c.coordType=t;const p=new n;p.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",p.showTileNo=!1,p.useWorker=!0;const f=new i(c,p);f.showBoundingBox=!1,f.wireframe=!1,f.flatShading=!1,f.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let m=new R("#4688b5");f.filter.monochrome={r:m.r,g:m.g,b:m.b};const d=new a;d.provider=f,d.bbox=s.bbox,d.maxZoom=s.maxZoom,s.camera.up=new y(0,1,0),s.camera.position.set(s.mapCenter[0],s.mapCenter[2],2e3-s.mapCenter[1]),s.camera.lookAt(new y(s.camera.position.x,0,s.camera.position.z-3e3)),d.camera=s.camera;let v=null;A((()=>{u.value&&(v=new B(s.camera,u.value.domElement),v.enableDamping=!0,v.dampingFactor=.05,v.minDistance=600,v.position0.set(s.camera.position.x,s.camera.position.y,s.camera.position.z),v.target.set(s.camera.position.x,0,s.camera.position.z-2e3))}));const{onLoop:h}=_();return h((()=>{if(u.value){const o=50*Math.abs(s.camera.position.y);s.camera.far=o+5e3,s.camera.updateProjectionMatrix(),v&&(v.update(),v.target.y=0),d.update(),u.value.render(l.value,s.camera)}})),e({camera:s.camera,map:d}),(o,e)=>(J(),V("primitive",{object:X(d),rotation:[-Math.PI/2,0,0]},null,8,mo))}});function ho(){var o=["W6SFbgpcPYiwFL1UWPHuW7rNW5tcVtaxaCkWhSofkmoWWR9/WQDuWRhdJKNdNa","pbuAW7uK","ySocWPxcUHy","BhXxWR9a","WQJcMCo6guzk","gCorDH/cS8kDmmobfbD7k8kn","W6RcU8oUW68","WOPJWQvGWQ0aW60o","WRWWW4TwEa","ErH6W5Sb","amoiWPvjtsBcMmkZ","gCoyCHddTmohESo8gbK","owtdHLVdL8k1q8ot","WOtcKmkBWOSR","W6pdICkPwXvLW7VcN8k2W7NcVa","W6yzyhVcMG","W5mirf/cSCkM","jCkmv8o3EYZdGXOJm3TB","CSoLldvreL/dUSo0","BSoleCkQjhFcNvb8Dsi","DIFcJ0FcJWlcNCkf","E3GtW78WW7eC","WPRdKunsW54Zo8kehH/cRmoqW5e","W4xdSseDkG","cN5hWOJcM11UeerbW65h","W53cJMStWR1b","W4/cGCo4WRy","v8odWPZcLsi","eaVcTSkaDq","WRNcLCo1dW","tSkqju3dSmoyyCo9iW","aCo4sSkpW6P/wrxdICorW5PBWPZdI8olqd9mWP0","WQdcGCk1cePmW7/cRSkNW77cQL/dRCkPxmktWP3cNWHtyCkffNlcTXbttSkLW7rAWQu","oN03W6WzW6mTneO","qKTDWPTMtW","W6dcQM0oWQC","WRtcRmoTgCkihtrbWP/dH8kO","ECo3uwFcHHqvWQJdIq","e0r1W63cMW","W4NcHSoXWRBcGa","CmoYnZrmcaBcOSo3rSkYWRXeACo9W6G4kI4","WQpcRmoqhSkobI9f","WPDRWRv7WPa","zspcVqhcJSo1bSkDWP7dNvxcPa","B2T3WQFdVG","j0yHWOXJW6imWObIfCosW7xcGG","W6a1W6VcJ0aqfaG","aH7cP8kEBZe","WP7dMmkRW6/dOINcRd4xW6uDzG","W5JcPqmUWQG","WPNdLKnsWPTSE8kmjWG","ychcSLC","W7GYCYldSq","WPVcQmoOkmk1","pCokW5RcG8ko","AmkZhCo2WRNcQSofEG","pSoGW54","eZRcHuC","jCoLESkYWOlcK8okAN4q","WQvRWOZdIqTkqH/dPMhcJmkyeW","WO7dTmkubmo7qmkjWOxdS1/dK8oA","xaHHcvFdKSo3","r8kRcmooWQKNd07dPmomW7fb","D1DJWPHu","W75iqCo3WRlcJ8k3FWbXWRZdLmoN","DYfCWQtcJaWm"];return(ho=function(){return o})()}function _o(o,e){var t=ho();return _o=function(e,r){var n=t[e-=413];if(void 0===_o.JDWxZa){var i=function(o){for(var e,t,r="",n="",a=r+i,s=0,u=0;t=o.charAt(u++);~t&&(e=s%4?64*e+t:t,s++%4)?r+=a.charCodeAt(u+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var l=0,c=r.length;l<c;l++)n+="%"+("00"+r.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(n)};_o.GBzIdD=function(o,e){var t,r,n=[],a=0,s="";for(o=i(o),r=0;r<256;r++)n[r]=r;for(r=0;r<256;r++)a=(a+n[r]+e.charCodeAt(r%e.length))%256,t=n[r],n[r]=n[a],n[a]=t;r=0,a=0;for(var u=0;u<o.length;u++)a=(a+n[r=(r+1)%256])%256,t=n[r],n[r]=n[a],n[a]=t,s+=String.fromCharCode(o.charCodeAt(u)^n[(n[r]+n[a])%256]);return s},o=arguments,_o.JDWxZa=!0}var a=e+t[0],s=o[a];if(s)n=s;else{if(void 0===_o.ZVWvwo){var u=function(o){this.NOUXad=o,this.bVsYkx=[1,0,0],this.YYhJvP=function(){return"newState"},this.HyzVlb="\\w+ *\\(\\) *{\\w+ *",this.bUhFlz="['|\"].+['|\"];? *}"};u.prototype.fglNUZ=function(){var o=new RegExp(this.HyzVlb+this.bUhFlz).test(this.YYhJvP.toString())?--this.bVsYkx[1]:--this.bVsYkx[0];return this.ihueWR(o)},u.prototype.ihueWR=function(o){return Boolean(~o)?this.WXcxlM(this.NOUXad):o},u.prototype.WXcxlM=function(o){for(var e=0,t=this.bVsYkx.length;e<t;e++)this.bVsYkx.push(Math.round(Math.random())),t=this.bVsYkx.length;return o(this.bVsYkx[0])},new u(_o).fglNUZ(),_o.ZVWvwo=!0}n=_o.GBzIdD(n,r),o[a]=n}return n},_o(o,e)}!function(){var o,e,t=ho();function r(o,e,t,r,n){return _o(t-560,n)}function n(o,e,t,r,n){return _o(t-349,o)}function i(o,e,t,r,n){return _o(e-668,r)}for(;;)try{if(613291===-parseInt(i(0,1114,0,"fEuZ"))/1*(parseInt(i(0,1086,0,"uEGD"))/2)+parseInt(n("DRGa",0,772))/3+-parseInt(r(0,0,981,0,"WK77"))/4+parseInt(n("Mw1&",0,788))/5+parseInt(i(0,1117,0,"1wwv"))/6+-parseInt((o=-456,e="%PgX",_o(o- -873,e)))/7*(-parseInt(i(0,1143,0,"tUWX"))/8)+-parseInt(r(0,0,1007,0,"tUWX"))/9)break;t.push(t.shift())}catch(a){t.push(t.shift())}}();var Wo,go=(Wo=!0,function(o,e){function t(o,e,t,r,n){return _o(n- -669,t)}function r(o,e,t,r,n){return _o(t-922,r)}function n(o,e,t,r,n){return _o(n-506,t)}if(n(0,0,"WZSm",0,933)!==n(0,0,"FD7G",0,928)){var i=Wo?function(){function t(o,e,t,n,i){return r(0,0,o- -271,t)}if("FtEVH"!==t(1091,0,"qn&v")){var i=_0x4d5d98.apply(_0x50ea7f,arguments);return _0x379781=null,i}if(e){if("grCoC"!==t(1114,0,"HWuh")){var a=e.apply(o,arguments);return e=null,a}var s;try{s=_0x419f4f(n(0,0,"WK77",0,962)+r(0,0,1379,"Mw1&")+");")()}catch(u){s=_0x3d81f8}return s}}:function(){};return Wo=!1,i}return _0x334dbf[r(0,0,1354,"9U*8")]()[(a=1426,s="qn&v",_o(a-985,s))](t(0,0,"*jG*",0,-201))[n(0,0,"y9k3",0,972)]().constructor(_0x7cb812)[t(0,0,"Kv8E",0,-197)](_o(419,"XE32"));var a,s})(void 0,(function(){function o(o,e,t,r,n){return _o(e-892,o)}function e(o,e,t,r,n){return _o(n-149,e)}return go[e(0,"rx9f",0,0,584)]()[o("AuHI",1342)](e(0,"H]D0",0,0,591))[(n=1067,i="uEGD",_o(n-596,i))]()[o("H]D0",1336)](go)[(t="Mw1&",r=540,_o(r-111,t))](_o(1116-674,"H]D0"));var t,r,n,i}));go();var xo,yo=(xo=!0,function(o,e){function t(o,e,t,r,n){return _o(e-136,n)}function r(o,e,t,r,n){return _o(o- -622,r)}if(t(0,596,0,0,"AuHI")!==t(0,584,0,0,"XjKE")){var n=xo?function(){function n(o,e,t,n,i){return r(i-1148,0,0,e)}function i(o,e,t,n,i){return r(o-644,0,0,e)}if(n(0,"8n3z",0,0,960)!==r(-158,0,0,"Kh15")){if(_0x2d09bc){var a=_0x967c80[(u=761,l="@xqd",t(0,u-187,0,0,l))](_0x50c645,arguments);return _0x3f2028=null,a}}else if(e){if(n(0,"WZSm",0,0,978)===i(450,"FD7G")){var s=e[i(491,"yxad")](o,arguments);return e=null,s}_0x36fcd1=_0x552e2c}var u,l}:function(){};return xo=!1,n}var i,a,s,u,l=_0x200b63[t(0,597,0,0,"y9k3")][(s="fEuZ",u=902,_o(u-444,s))].bind(_0x3e74d8),c=_0x1ffe98[_0x4ce9df],p=_0x4b78f9[c]||l;l.__proto__=_0x218089.bind(_0x5c8ce8),l[r(-208,0,0,"%PgX")]=p[(i=355,a="3Ivx",_o(i- -90,a))][r(-146,0,0,"3Ivx")](p),_0x3a55e4[c]=l});yo(void 0,(function(){function o(o,e,t,r,n){return _o(n- -214,r)}var e=function(){function o(o,e,t,r,n){return _o(r-357,o)}function e(o,e,t,r,n){return _o(o-409,t)}if(e(822,0,"li&L")===o("tUWX",0,0,831)){var t=_0x4987c4?function(){if(_0x596f69){var e=_0x4bce47[(t=448,r="Kv8E",o(r,0,0,t- -362))](_0x2c8145,arguments);return _0x1531dc=null,e}var t,r}:function(){};return _0x48d04c=!1,t}var r;try{if("LlTuN"===_o(1371-945,"dRe%")){var n=_0x2aa306?function(){if(_0x30c63e){var o=_0x422777.apply(_0x4d5f60,arguments);return _0x16b978=null,o}}:function(){};return _0x40ab6a=!1,n}r=Function(e(874,0,"v9uW")+e(834,0,"tj7d")+");")()}catch(a){if("iGJkY"===_o(536-69,"9U*8")){var i=_0x274260.apply(_0x30d99f,arguments);return _0x35991c=null,i}r=window}return r}(),t=e[o(0,0,0,"n)Ux",206)]=e.console||{};function r(o,e,t,r,n){return _o(n-502,r)}function n(o,e,t,r,n){return _o(n-38,o)}function i(o,e,t,r,n){return _o(e- -479,t)}for(var a,s,u=[r(0,0,0,"li&L",917),"warn",r(0,0,0,"Kh15",953),"error",(a="n02X",s=-321,_o(s- -776,a)),"table","trace"],l=0;l<u[o(0,0,0,"FD7G",245)];l++)if(n("lae*",0,0,0,471)===i(0,-1,"y9k3")){if(_0x5edf39){var c=_0x35d75c[n("#DIs",0,0,0,515)](_0x1dfef9,arguments);return _0x44643f=null,c}}else{var p=yo[n("H]D0",0,0,0,482)][o(0,0,0,"v9uW",229)][r(0,0,0,"HD8e",918)](yo),f=u[l],m=t[f]||p;p[i(0,-17,"$EF4")]=yo[r(0,0,0,"Mw1&",956)](yo),p.toString=m[i(0,-42,"*jG*")][o(0,0,0,"QD1k",217)](m),t[f]=p}}))();const wo=q({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(o){const t=e(113.9456,22.5385,50),r=e(113.9498,22.5364,50);return(o,e)=>(J(),V(Z,null,[F(X(u),{color:"#00c0ff",radius:300,size:300,position:[o.cPosition[0],8,-o.cPosition[1]]},null,8,["position"]),(J(),K(oo,null,{default:$((()=>[F(X(c),{position:[o.cPosition[0],8,-o.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),F(X(l),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(J(),K(oo,null,{default:$((()=>[F(X(c),{position:[o.cPosition[0]+700,10,300-o.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(J(),K(oo,null,{default:$((()=>[F(X(p),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[o.cPosition[0]+280,1,120-o.cPosition[1]]},null,8,["position"])])),_:1})),(J(),K(oo,null,{default:$((()=>[F(X(f),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(J(),K(oo,null,{default:$((()=>[F(X(m),{position:[o.cPosition[0]+388,6,330-o.cPosition[1]]},null,8,["position"])])),_:1})),(J(),K(oo,null,{default:$((()=>[F(X(d),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[o.cPosition[0],300,-o.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(J(),K(oo,null,{default:$((()=>[F(X(v),{cPosition:[o.cPosition[0],600,-o.cPosition[1]]},null,8,["cPosition"])])),_:1})),F(X(h),{"position-y":6,positionSrc:[{x:X(t)[0],y:-X(t)[1]},{x:X(t)[0],y:-X(r)[1]},{x:X(r)[0],y:-X(r)[1]},{x:X(r)[0],y:-X(t)[1]},{x:X(t)[0],y:-X(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(J(),K(oo,null,{default:$((()=>[F(X(lo),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),Co=q({__name:"mapBuildings",setup(o){const t=e(113.942639739199,22.53171672540276,50),r=eo(),n=to({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:I,outputColorSpace:L,toneMapping:H}),i=[t[0],t[1],1700],a=new N(60,window.innerWidth/window.innerHeight,1,1e8);return(o,e)=>{const u=ro("TresCanvas");return J(),V(Z,null,[F(u,no(n,{"window-size":""}),{default:$((()=>[e[0]||(e[0]=Q("TresAmbientLight",{color:"#ffffff"},null,-1)),e[1]||(e[1]=Q("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),F(X(fo),{position:[X(t)[0],1,228-X(t)[1]],camera:X(a)},null,8,["position","camera"]),(J(),K(oo,null,{default:$((()=>[F(X(vo),{ref_key:"tileMapBuildingsMeshRef",ref:r,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:X(a)},null,8,["camera"])])),_:1})),(J(),K(oo,null,{default:$((()=>[F(wo,{cPosition:X(t)},null,8,["cPosition"])])),_:1})),e[2]||(e[2]=Q("TresGridHelper",{args:[1e4,10]},null,-1)),e[3]||(e[3]=Q("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),F(s,{tileMapRef:r.value},null,8,["tileMapRef"])],64)}}});export{Co as default};
