import{e as t,o as e}from"./@tresjs.oW7bfow21742297875262.js";import{l as n}from"./utils.4kjShNCV1742297875262.js";import{m as o}from"./d3-geo.-Vv8Qdf41742297875262.js";import{a3 as r,b as s,a2 as i,o as a,H as c,F as l,X as p,N as u,d as f,r as d,e as m,f as h,g as y,j,u as g,aj as b,ak as v,al as T,m as w}from"./@vue.NRI7TcgI1742297875262.js";import{ac as _,B as x,r as E,cX as I}from"./three.N4lg2KsY1742297875262.js";import{c as M,d as k,a as C}from"./three-mesh-bvh.MBlJRBu_1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";import"./@fesjs.5gYNbdbo1742297875262.js";import"./vue-router.voBLX0XL1742297875262.js";import"./lodash-es.pklfUAS51742297875262.js";import"./@qlin.yHhFDldE1742297875262.js";import"./pinia.qX8pw0bq1742297875262.js";import"./@floating-ui.BPbuo5Gx1742297875262.js";import"./@juggle.7yjBMqoW1742297875262.js";import"./d3-array.AhNJy1f41742297875262.js";const P=["properties","renderOrder"],S=["args"],q={__name:"chinaMapMesh",async setup(e){let f,d;x.prototype.computeBoundsTree=M,x.prototype.disposeBoundsTree=k,E.prototype.raycast=C;const m=o().center([104,37.5]).translate([0,0]),h=([f,d]=r((()=>n("./plugins/simpleGIS/json/china.json","features"))),f=await f,d(),f),y={depth:10,bevelEnabled:!1},j=[];h.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new I;for(let t=0;t<e.length;t++){const[o,r]=m(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}j.push({shape:n,properties:t.properties})}))}))}));const g=new _({color:"#3480C4",linewidth:1,linecap:"round"}),b=s();i((()=>{b.value&&b.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,g];t.material=e}))}));let v=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),v=t})();const T=t=>{t.object.material[0].color.set(16711680),v.innerText=t.object.properties.name,v.style.visibility="visible"},w=t=>{t.eventObject.material[0].color.set(3010559),v.style.visibility="hidden"},q=t=>{v.style.left="".concat(t.clientX+6,"px"),v.style.top="".concat(t.clientY+6,"px")},{onLoop:z}=t();return z((()=>{})),(t,e)=>(a(),c("TresGroup",{ref_key:"tgRef",ref:b},[(a(),c(l,null,p(j,((t,n)=>u("TresMesh",{key:"".concat(n),properties:t.properties,renderOrder:n,onPointerEnter:T,onPointerLeave:w,onPointerMove:q},[u("TresExtrudeGeometry",{args:[t.shape,y]},null,8,S),e[0]||(e[0]=u("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1))],40,P))),64))],512))}},z=N;!function(t,e){const n=N,o=O();for(;;)try{if(175782===parseInt(n(285))/1*(parseInt(n(281))/2)+parseInt(n(264))/3+-parseInt(n(284))/4+-parseInt(n(265))/5+-parseInt(n(290))/6+parseInt(n(266))/7+-parseInt(n(279))/8*(parseInt(n(288))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[N(296)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function O(){const t=["bind","console","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","TresCanvas","16jOYqqM","gger","26674YXhsHE",'{}.constructor("return this")( )',"counter","615932STTrqq","14VfUmTV","return (function() ","length","183699sDzSKP","constructor","8304PVHDJT","warn","log","action","TresPerspectiveCamera","string","apply","while (true) {}","table","chinaMap","233124ibeTYo","35270lNNenX","802193SxntKC","stateObject","chain","test","toString","init","call"];return(O=function(){return t})()}!function(){B(this,(function(){const t=N,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(276),"i"),o=D(t(271));e[t(269)](o+t(268))&&n.test(o+"input")?D():o("0")}))()}();const X=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[N(296)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function N(t,e){const n=O();return(N=function(t,e){return n[t-=264]})(t,e)}X(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function(t(286)+t(282)+");")()}catch(n){e=window}return e}(),n=e[t(274)]=e.console||{},o=[t(292),t(291),"info","error","exception",t(298),"trace"];for(let r=0;r<o[t(287)];r++){const e=X[t(289)][t(275)][t(273)](X),s=o[r],i=n[s]||e;e.__proto__=X[t(273)](X),e[t(270)]=i[t(270)].bind(i),n[s]=e}}))();const Y=f({__name:z(299),setup(n){const o=d({clearColor:"#201919"}),r=d({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),i((()=>{})),(t,n)=>{const s=N,i=m(s(278));return a(),h(i,w(o,{"window-size":""}),{default:y((()=>[n[0]||(n[0]=u(s(294),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),j(g(e),b(v(r)),null,16),(a(),h(T,null,{default:y((()=>[j(q)])),_:1}))])),_:1},16)}}});function D(t){function e(t){const n=N;if(typeof t===n(295))return function(t){}[n(289)](n(297))[n(296)](n(283));1!==(""+t/t).length||t%20==0?function(){return!0}[n(289)]("debu"+n(280))[n(272)](n(293)):function(){return!1}[n(289)](n(277)+"gger")[n(296)](n(267)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{Y as default};
