import{o as n,J as t}from"./@tresjs.9lmhsV6t1740450466561.js";import{l as o,a_ as e,C as r,aX as i,a0 as a,_ as s}from"./three.HaMTRCf61740450466561.js";import{P as l}from"./tweakpane.yDiyAAkA1740450466561.js";import{d as c,r as u,a2 as f,e as p,o as d,f as g,g as v,N as m,j as w,u as h,al as y}from"./@vue.NRI7TcgI1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";function b(n,t){var o=x();return(b=function(n,t){return o[n-=474]})(n,t)}!function(n,t){for(var o=b,e=x();;)try{if(509621===parseInt(o(516))/1+parseInt(o(490))/2*(parseInt(o(519))/3)+-parseInt(o(511))/4*(-parseInt(o(509))/5)+-parseInt(o(505))/6*(-parseInt(o(506))/7)+-parseInt(o(485))/8+-parseInt(o(475))/9+parseInt(o(493))/10*(-parseInt(o(483))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){var n=b,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(482),"i"),e=S(n(520));t.test(e+n(478))&&o[n(502)](e+"input")?S():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[b(495)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function x(){var n=["string","trace","opacity","vertexShader","falloff","test","stateObject","uniforms","30ewZMRd","1115548yAgCxT","glowColor","info","3209915QKLCOP","log","4lNcCxY","side","fragmentShader","prototype","length","107240MNzYNq","constructor","bind","39pKgzzc","init",'{}.constructor("return this")( )',"console","exception","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","4465728sXglWF","transparent","glowInternalRadius","chain","return (function() ","setValues","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","105919ZVSnZs","blendMode","2465880doDVQw","depthTest","table","while (true) {}","debu","47266NKtclu","toString","warn","560yDTKcW","counter","apply","glowSharpness"];return(x=function(){return n})()}j(void 0,(function(){for(var n=b,t=function(){var n,t=b;try{n=Function(t(479)+t(521)+");")()}catch(o){n=window}return n}(),o=t[n(522)]=t[n(522)]||{},e=[n(510),n(492),n(508),"error",n(523),n(487),n(498)],r=0;r<e[n(515)];r++){var i=j.constructor[n(514)].bind(j),a=e[r],s=o[a]||i;i.__proto__=j[n(518)](j),i[n(491)]=s[n(491)].bind(s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=b;super(),this[t(500)]=t(474),this[t(513)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[t(504)]={opacity:new e(void 0!==n.opacity?n[t(499)]:1),glowInternalRadius:new e(void 0!==n[t(477)]?n[t(477)]:6),glowSharpness:new e(void 0!==n[t(496)]?n.glowSharpness:.5),falloff:new e(void 0!==n[t(501)]?n.falloff:.1),glowColor:new e(void 0!==n.glowColor?new r(n[t(507)]):new r("#00d5ff"))},this[t(480)](n),this[t(486)]=void 0!==n.depthTest&&n[t(486)],this.blending=void 0!==n[t(484)]?n[t(484)]:i,this[t(476)]=!0,this[t(512)]=void 0!==n[t(512)]?n.side:a}};function S(n){function t(n){var o=b;if(typeof n===o(497))return function(n){}[o(517)](o(488))[o(495)](o(494));1!==(""+n/n)[o(515)]||n%20==0?function(){return!0}.constructor(o(489)+o(481)).call("action"):function(){return!1}[o(517)](o(489)+o(481))[o(495)](o(503)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const T=z;function z(n,t){const o=k();return(z=function(n,t){return o[n-=452]})(n,t)}!function(n,t){const o=z,e=k();for(;;)try{if(251780===parseInt(o(482))/1*(-parseInt(o(509))/2)+parseInt(o(518))/3*(parseInt(o(492))/4)+-parseInt(o(515))/5*(parseInt(o(508))/6)+-parseInt(o(457))/7*(-parseInt(o(475))/8)+parseInt(o(495))/9+parseInt(o(497))/10+-parseInt(o(501))/11*(parseInt(o(484))/12))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(519)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){C(this,(function(){const n=z,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(511),"i"),e=F(n(506));t[n(481)](e+n(514))&&o[n(481)](e+n(489))?F():e("0")}))()}();const N=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(519)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();N(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(472)+n(470)+");")()}catch(o){t=window}return t}(),o=t[n(516)]=t[n(516)]||{},e=[n(507),n(464),n(455),"error",n(517),n(463),n(454)];for(let r=0;r<e[n(496)];r++){const t=N[n(460)][n(478)][n(503)](N),i=e[r],a=o[i]||t;t.__proto__=N[n(503)](N),t[n(474)]=a.toString[n(503)](a),o[i]=t}}))();const R={position:[0,6,0]},P=[T(488)];function k(){const n=["falloff","2688MQGYWn","BackSide","TresMesh","DoubleSide","object","input","uniforms","pos-x.jpg","8qcXbqV","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","neg-x.jpg","4516506LmcbEN","length","1038990FpRnlp","内半径","glowColor","stateObject","1474meYjSF","gger","bind","TresGroup","FrontSide","init","log","889806mzjuAs","140ntebtZ","TorusKnotGeometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","blue","TresPerspectiveCamera","chain","5EplvLT","console","exception","23466TNwlkT","apply","glowInternalRadius","清晰度","trace","info","材质面","12635aZYbIT","TresDirectionalLight","neg-z.jpg","constructor","side","value","table","warn","action","addBinding","primitive","pos-y.jpg","glowSharpness",'{}.constructor("return this")( )',"debu","return (function() ","opacity","toString","1216Xejzhp","pos-z.jpg","Mesh","prototype","TresGridHelper","counter","test","6652TSaHOO"];return(k=function(){return n})()}const M=c({__name:"fakeGlow",setup(o){const e=T,i=new l({title:"辉光参数",expanded:!0}),a=u({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(505)],depthTest:!1}),c=new _,b=new(s[e(477)])(new(s[e(510)])(4,3.8,128,128),c);return i.addBinding(a,e(499),{label:"颜色"}),i.addBinding(a,e(483),{label:"衰减",min:0,max:10,step:.1}),i[e(466)](a,e(452),{label:e(498),min:-5,max:5,step:.1}),i[e(466)](a,e(469),{label:e(453),min:0,max:10,step:.1}),i[e(466)](a,e(473),{label:"透明",min:0,max:1,step:.1}),i[e(466)](a,e(461),{label:e(456),options:{FrontSide:s[e(505)],BackSide:s[e(485)],DoubleSide:s[e(487)]}}),f((()=>{const n=e;c[n(490)][n(483)].value=a[n(483)],c[n(490)][n(499)].value=new r(a.glowColor),c.uniforms[n(452)].value=a.glowInternalRadius,c[n(490)][n(469)][n(462)]=a.glowSharpness,c[n(490)][n(473)][n(462)]=a[n(473)],c[n(461)]=a[n(461)]})),(o,r)=>{const i=e,a=p("TresCanvas");return d(),g(a,{"window-size":""},{default:v((()=>[r[1]||(r[1]=m(i(513),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=m("TresAmbientLight",{intensity:1.5},null,-1)),r[3]||(r[3]=m(i(458),{position:[100,100,60],intensity:20},null,-1)),w(h(n),{autoRotate:""}),r[4]||(r[4]=m(i(479),{args:[20,10]},null,-1)),m(i(504),R,[r[0]||(r[0]=m(i(486),null,[m("TresTorusKnotGeometry",{args:[4,.5,128,128]}),m("TresMeshPhysicalMaterial",{color:i(512),roughness:.2,clearcoat:1})],-1)),m(i(467),{object:h(b)},null,8,P)]),(d(),g(y,null,{default:v((()=>[w(h(t),{files:[i(491),i(494),i(468),"neg-y.jpg",i(476),i(459)],path:i(493)})])),_:1}))])),_:1})}}});function F(n){function t(n){const o=z;if("string"==typeof n)return function(n){}[o(460)]("while (true) {}")[o(519)](o(480));1!==(""+n/n)[o(496)]||n%20==0?function(){return!0}[o(460)](o(471)+o(502)).call(o(465)):function(){return!1}[o(460)]("debu"+o(502))[o(519)](o(500)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{M as default};
