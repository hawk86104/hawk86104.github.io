import{$ as n,N as t,d as o}from"./@tresjs.bNNpPzYW1722507394274.js";import{P as e}from"./tweakpane.BCjFYDHx1722507394274.js";import{a as r}from"./index.DifwtWix1722507394274.js";import{a6 as a}from"./three.Brogx0uK1722507394274.js";import{d as s,b as i,a4 as c,r as u,a1 as l,o as f,D as p,J as m,aj as v,ak as d,e as g,f as h,g as j,j as k,u as w,al as y,m as S}from"./@vue.CFXy4cc91722507394274.js";import"./@vueuse.CY5GWLAn1722507394274.js";import"./@fesjs.HUfyfxyE1722507394274.js";import"./vue-router.B7QAPA1N1722507394274.js";import"./lodash-es.X8SAORSL1722507394274.js";import"./@qlin.BIlp8Yi21722507394274.js";import"./pinia.CScY4tX71722507394274.js";import"./vue-demi.Dq6ymT-81722507394274.js";import"./@babel.DOgRMOv71722507394274.js";import"./@amap.B-BVafMU1722507394274.js";import"./@floating-ui.B75jtkXD1722507394274.js";import"./@juggle.BnTvdTVm1722507394274.js";import"./chalk.B3MNILV41722507394274.js";/* empty css                                 */import"./iconify-icon.DK1S_nhj1722507394274.js";import"./@iconify.FaZrwldm1722507394274.js";import"./oimophysics.B0i2NtyE1722507394274.js";import"./three-stdlib.Da22DAq01722507394274.js";import"./@pmndrs.D9AmSQDC1722507394274.js";import"./object-hash.rImj7O_Q1722507394274.js";import"./jszip.BxDgYeH81722507394274.js";import"./three-custom-shader-material.CeVv8ptL1722507394274.js";import"./glsl-tokenizer.D7fhDZQE1722507394274.js";import"./glsl-token-string.Bg9nzJXZ1722507394274.js";import"./glsl-token-functions.B8rjVA3n1722507394274.js";import"./three.quarks.DzFhgNNR1722507394274.js";import"./quarks.core.C7CDonSm1722507394274.js";const b=M;function x(){const n=["apply","9321560GnBcHv","prototype","DoubleSide","rotation-x","input","test","debu","#ffffff","init","console","tmRef","AdditiveBlending","function *\\( *\\)","189798qwwgBb","stateObject","material","constructor","5351085QKjYQT","exception","toString","4512093kbSgZR","uTime","bind","wrapT","uScanColor","chain","counter","uniforms","action","call","speed","1523521FMOFnq","error","warn","color","2xPmYDs","Color","TresPlaneGeometry","\nvarying vec2 vUv;\nvarying vec3 vPosition;\nvoid main(){\n\tvUv=uv;\n\tvPosition=position;\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}\n","colorDark","105KTQLHM","#000000","value","414784RMbVfd","gger","return (function() ","wrapS","TresMesh","info","RepeatWrapping","3606858qMhgaq"];return(x=function(){return n})()}!function(n,t){const o=M,e=x();for(;;)try{if(822103===parseInt(o(189))/1+-parseInt(o(193))/2*(-parseInt(o(230))/3)+parseInt(o(201))/4+-parseInt(o(227))/5+parseInt(o(223))/6*(-parseInt(o(198))/7)+-parseInt(o(210))/8+parseInt(o(208))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const I=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[M(209)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function M(n,t){const o=x();return(M=function(n,t){return o[n-=181]})(n,t)}!function(){I(this,(function(){const n=M,t=new RegExp(n(222)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=D(n(218));t[n(215)](e+n(183))&&o[n(215)](e+n(214))?D():e("0")}))()}();const _=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[M(209)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();_(void 0,(function(){const n=M;let t;try{t=Function(n(203)+'{}.constructor("return this")( ));')()}catch(r){t=window}const o=t[n(219)]=t[n(219)]||{},e=["log",n(191),n(206),n(190),n(228),"table","trace"];for(let a=0;a<e.length;a++){const t=_[n(226)][n(211)][n(232)](_),r=e[a],s=o[r]||t;t.__proto__=_.bind(_),t[n(229)]=s[n(229)][n(232)](s),o[r]=t}}))();const C=[b(213),"scale"],T=m(b(195),{args:[1,1]},null,-1),P=s({__name:"shaderCircleWave",props:{color:{default:b(217)},colorDark:{default:b(199)},speed:{default:1},scale:{default:2}},async setup(o){const e=b;let r,s;const g=o,h=i(),{onLoop:j}=n();j((({delta:n})=>{const t=M;h.value&&(h[t(200)][t(225)][t(185)][t(231)][t(200)]+=n*g[t(188)])}));const k=([r,s]=c((()=>t(["./plugins/floor/image/scan.png"]))),r=await r,s(),r);k[e(204)]=a[e(207)],k[e(181)]=a[e(207)];const w=u({side:a[e(212)],transparent:!0,blending:a[e(221)],flatShading:!0,depthTest:!1,uniforms:{uTime:{type:"f",value:0},uScanTex:{type:"t",value:k},uScanColor:{type:"v3",value:new(a[e(194)])(g[e(192)])},uScanColorDark:{type:"v3",value:new(a[e(194)])(g[e(197)])}},vertexShader:e(196),fragmentShader:"\n#define uScanOrigin vec3(0.,0.,0.)\n#define uScanWaveRatio1 3.2\n#define uScanWaveRatio2 2.8\n\nuniform float uTime;\nuniform sampler2D uScanTex;\nvarying vec2 vUv;\nvarying vec3 vPosition;\nuniform vec3 uScanColor;\nuniform vec3 uScanColorDark;\n\nfloat circleWave(vec3 p,vec3 origin,float distRatio){\n    float t=uTime;\n    float dist=distance(p,origin)*distRatio;\n    float radialMove=fract(dist-t);\n    float fadeOutMask=1.-smoothstep(1.,3.,dist);\n    radialMove*=fadeOutMask;\n    float cutInitialMask=1.-step(t,dist);\n    radialMove*=cutInitialMask;\n    return radialMove;\n}\n\nvec3 getScanColor(vec3 worldPos,vec2 uv,vec3 col){\n    // mask\n    float scanMask=texture(uScanTex,uv).r;\n    // waves\n    float cw=circleWave(worldPos,uScanOrigin,uScanWaveRatio1);\n    float cw2=circleWave(worldPos,uScanOrigin,uScanWaveRatio2);\n    // scan\n    float mask1=smoothstep(.3,0.,1.-cw);\n    mask1*=(1.+scanMask*.7);\n    \n    float mask2=smoothstep(.07,0.,1.-cw2)*.8;\n    mask1+=mask2;\n    \n    float mask3=smoothstep(.09,0.,1.-cw)*1.5;\n    mask1+=mask3;\n\n    // color\n    vec3 scanCol=mix(uScanColorDark,uScanColor,mask1);\n    col=mix(col,scanCol,mask1);\n    \n    return col;\n\t\t// return vec3(cw);\n\t\t// return vec3(scanMask);\n\t\t// return worldPos;\n\t\t// return vec3(mask1);\n\t\t// return scanCol;\n}\n\nvoid main()\n{\n    vec3 col=vec3(0.);\n    col=getScanColor(vPosition,vUv*10.0,col);\n    gl_FragColor=vec4(col,1.);\n}\n"});return l((()=>{const n=e;h.value&&(h[n(200)][n(225)][n(185)][n(182)][n(200)]=new(a[n(194)])(g[n(192)]),h.value[n(225)][n(185)].uScanColorDark[n(200)]=new(a[n(194)])(g[n(197)]))})),(n,t)=>{const o=e;return f(),p(o(205),{ref_key:o(220),ref:h,"rotation-x":-Math.PI/2,scale:n.scale},[T,m("TresShaderMaterial",v(d(w)),null,16)],8,C)}}});function D(n){function t(n){const o=M;if("string"==typeof n)return function(n){}[o(226)]("while (true) {}")[o(209)](o(184));1!==(""+n/n).length||n%20==0?function(){return!0}[o(226)](o(216)+o(202))[o(187)](o(186)):function(){return!1}[o(226)](o(216)+o(202)).apply(o(224)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const R=U;!function(n,t){const o=U,e=O();for(;;)try{if(898074===-parseInt(o(153))/1*(-parseInt(o(161))/2)+parseInt(o(188))/3*(-parseInt(o(175))/4)+-parseInt(o(183))/5+-parseInt(o(184))/6*(parseInt(o(173))/7)+-parseInt(o(170))/8*(parseInt(o(166))/9)+-parseInt(o(156))/10*(parseInt(o(150))/11)+parseInt(o(169))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const W=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[U(185)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function U(n,t){const o=O();return(U=function(n,t){return o[n-=149]})(n,t)}!function(){W(this,(function(){const n=U,t=new RegExp(n(181)),o=new RegExp(n(159),"i"),e=A(n(187));t[n(182)](e+n(162))&&o[n(182)](e+n(155))?A():e("0")}))()}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();z(void 0,(function(){const n=U;let t;try{t=Function("return (function() "+n(192)+");")()}catch(r){t=window}const o=t[n(178)]=t[n(178)]||{},e=[n(180),"warn",n(179),"error",n(158),"table",n(186)];for(let a=0;a<e.length;a++){const t=z.constructor[n(152)].bind(z),r=e[a],s=o[r]||t;t[n(176)]=z.bind(z),t[n(157)]=s.toString.bind(s),o[r]=t}}))();const B=m(R(193),{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1),F=m(R(177),{intensity:6},null,-1);function O(){const n=["prototype","37xFTskx","call","input","6703070mULBIt","toString","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","color","18294XhnFDB","chain","scale","while (true) {}","gger","4996989rDhPVb","counter","debu","59157720QxEzwY","24pocERJ","圈颜色","constructor","9093BMFoyu","#ffffff","584owCgJP","__proto__","TresAmbientLight","console","info","log","function *\\( *\\)","test","1156455rdmwBu","7608GnIzXn","apply","trace","init","3201UrlUSg","圈渐变色","shaderCircleWave地面","TresCanvas",'{}.constructor("return this")( )',"TresPerspectiveCamera","addBinding","circleWave","11UpUuMo","colorDark"];return(O=function(){return n})()}const q=s({__name:R(149),setup(n){const t=R,a=u({reflectivity:.1,showGridHelper:!1,scale:1}),s=u({color:t(174),colorDark:"#000000",speed:1,scale:2}),i=new e({title:t(190),expanded:!0});return i[t(194)](s,t(160),{label:t(171)}),i[t(194)](s,t(151),{label:t(189)}),i[t(194)](s,"speed",{label:"速度",min:.1,max:5,step:.1}),i[t(194)](s,t(163),{label:"大小",min:.1,max:10,step:.1}),(n,e)=>{const i=g(t(191));return f(),h(i,{clearColor:"#201919","window-size":""},{default:j((()=>[B,k(w(o),{enableDamping:""}),F,(f(),h(y,null,{default:j((()=>[k(P,v(d(s)),null,16)])),_:1})),(f(),h(y,null,{default:j((()=>[k(r,S({position:[0,-.5,0]},a),null,16)])),_:1}))])),_:1})}}});function A(n){function t(n){const o=U;if("string"==typeof n)return function(n){}[o(172)](o(164)).apply(o(167));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(o(168)+o(165))[o(154)]("action"):function(){return!1}[o(172)](o(168)+o(165))[o(185)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{q as default};
