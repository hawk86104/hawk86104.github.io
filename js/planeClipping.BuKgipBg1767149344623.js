import{importShared as e}from"./3d-tiles-renderer.de6b_qgz1767149344623.js";import{Fs as t,Kk as a}from"./index.Btae5S5d1767149344623.js";import{_sfc_main as o}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.Gu1V8hJn1767149344623.js";import{_sfc_main$6 as n}from"./generalFont.vue_vue_type_script_setup_true_lang.HBTMxPpG1767149344623.js";import"./default.vue_vue_type_script_setup_true_lang.Ci1f-gQB1767149344623.js";import"./three-mesh-ui.module.HfSEvVD61767149344623.js";import"./domPanel.vue_vue_type_style_index_0_lang.Copj1fnF1767149344623.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.C_pYeFAB1767149344623.js";import"./index.vue_vue_type_script_setup_true_lang.C9DbtXj-1767149344623.js";import{useGLTF as r}from"./index.zGefaP3R1767149344623.js";import{_sfc_main as i}from"./cloudPoints.vue_vue_type_script_setup_true_lang.2pS9U9Wp1767149344623.js";import{Pane as l}from"./tweakpane.BbuIEN141767149344623.js";const{withAsyncContext:s,defineComponent:c}=await e("vue"),{unref:m,createElementVNode:u,createVNode:p,Fragment:_,openBlock:d,createElementBlock:f}=await e("vue"),v=["object"],{toRaw:w}=await e("vue"),{Plane:h,Vector3:g}=await e("three"),j=c({__name:"planeClipping",async setup(e){let a,o;const{renderer:n}=t();n.localClippingEnabled=!0;const{nodes:c}=([a,o]=s(()=>r("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf")),a=await a,o(),a);c.Sketchfab_model.getObjectByName("Floor").removeFromParent();const j=c.Sketchfab_model.getObjectByName("Cube006_Avion_0");j.castShadow=!0;const y=[new h(new g(1,0,0),0),new h(new g(0,0,-1),0)];j.material.clipIntersection=!0,j.material.clippingPlanes=y;const b=c.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");b.material.clipIntersection=!0,b.material.clippingPlanes=y;const C=c.Sketchfab_model.getObjectByName("CS_Black_0"),k=new l({title:"裁剪参数",expanded:!0});return k.addBinding(y[0],"constant",{label:"x",min:-200,max:200,step:1}),k.addBinding(y[1],"constant",{label:"y",min:-200,max:250,step:1}),(e,t)=>(d(),f(_,null,[u("primitive",{object:w(m(c).Sketchfab_model)},null,8,v),p(i,{isRemoveSrc:"",model:w(m(C)),color:"#fff"},null,8,["model"])],64))}}),{defineComponent:y}=await e("vue"),{unref:b,createVNode:C,createElementVNode:k,Suspense:B,withCtx:S,openBlock:x,createBlock:P,normalizeProps:N,guardReactiveProps:E,resolveComponent:z,Fragment:F,createElementBlock:T}=await e("vue"),{shallowRef:V,watchEffect:A,reactive:L}=await e("vue"),M=y({__name:"planeClipping",setup(e){const t=L({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),r=V();return A(()=>{r.value&&(r.value.shadow.mapSize.set(1e3,1e3),r.value.shadow.camera.near=.1,r.value.shadow.camera.far=5e3,r.value.shadow.camera.top=200,r.value.shadow.camera.right=200,r.value.shadow.camera.left=-200,r.value.shadow.camera.bottom=-200,r.value.shadow.radius=10)}),(e,i)=>{const l=z("TresCanvas");return x(),T(F,null,[C(b(n)),C(l,{clearColor:"#333",shadows:"","window-size":""},{default:S(()=>[i[0]||(i[0]=k("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),C(b(a)),i[1]||(i[1]=k("TresAmbientLight",{color:"#ffffff",intensity:1},null,-1)),k("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:r,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(x(),P(B,null,{default:S(()=>[C(j)]),_:1})),C(o,N(E(t)),null,16)]),_:1})],64)}}});export{M as default};
