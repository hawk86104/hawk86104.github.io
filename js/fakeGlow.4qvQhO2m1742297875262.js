import{o as n,J as t}from"./@tresjs.oW7bfow21742297875262.js";import{l as o,a_ as e,C as r,aX as i,a0 as a,_ as s}from"./three.N4lg2KsY1742297875262.js";import{P as l}from"./tweakpane.yDiyAAkA1742297875262.js";import{d as c,r as u,a2 as f,e as p,o as g,f as d,g as v,N as m,j as w,u as h,al as y}from"./@vue.NRI7TcgI1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";function I(n,t){var o=_();return(I=function(n,t){return o[n-=142]})(n,t)}!function(n,t){for(var o=I,e=_();;)try{if(141310===parseInt(o(150))/1*(parseInt(o(174))/2)+-parseInt(o(168))/3*(parseInt(o(173))/4)+parseInt(o(189))/5*(parseInt(o(145))/6)+-parseInt(o(154))/7+-parseInt(o(161))/8*(-parseInt(o(165))/9)+-parseInt(o(183))/10*(-parseInt(o(180))/11)+-parseInt(o(153))/12*(parseInt(o(188))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var b=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[I(155)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){b(this,(function(){var n=I,t=new RegExp(n(163)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=S("init");t[n(164)](e+n(151))&&o.test(e+n(190))?S():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[I(155)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();x(void 0,(function(){var n,t=I;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(l){n=window}for(var o=n.console=n[t(159)]||{},e=["log",t(175),"info",t(184),t(171),t(191),t(148)],r=0;r<e.length;r++){var i=x[t(160)].prototype[t(193)](x),a=e[r],s=o[a]||i;i[t(142)]=x[t(193)](x),i.toString=s.toString[t(193)](s),o[a]=i}}))();const j=class extends o{constructor(n={}){var t=I;super(),this[t(176)]=t(156),this[t(144)]=t(152),this[t(181)]={opacity:new e(void 0!==n[t(186)]?n[t(186)]:1),glowInternalRadius:new e(void 0!==n[t(166)]?n[t(166)]:6),glowSharpness:new e(void 0!==n[t(177)]?n[t(177)]:.5),falloff:new e(void 0!==n[t(192)]?n[t(192)]:.1),glowColor:new e(void 0!==n[t(182)]?new r(n[t(182)]):new r(t(179)))},this[t(143)](n),this[t(147)]=void 0!==n[t(147)]&&n.depthTest,this[t(172)]=void 0!==n[t(187)]?n[t(187)]:i,this[t(178)]=!0,this[t(170)]=void 0!==n.side?n[t(170)]:a}};function _(){var n=["side","exception","blending","184wwcIsa","2KiRSnD","warn","vertexShader","glowSharpness","transparent","#00d5ff","1615845UBPKjd","uniforms","glowColor","10xDOpgK","error","debu","opacity","blendMode","131001GFTEly","5hiRLLo","input","table","falloff","bind","__proto__","setValues","fragmentShader","158874WCOyLz","string","depthTest","trace","stateObject","153413RlCIXb","chain","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","72TFDgWA","153279dHCFcU","apply","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","gger","counter","console","constructor","119656PRZNrU","action","function *\\( *\\)","test","18xaKBGj","glowInternalRadius","while (true) {}","8676IqlTOW","call"];return(_=function(){return n})()}function S(n){function t(n){var o=I;if(typeof n===o(146))return function(n){}[o(160)](o(167))[o(155)](o(158));1!==(""+n/n).length||n%20==0?function(){return!0}[o(160)](o(185)+o(157))[o(169)](o(162)):function(){return!1}[o(160)](o(185)+o(157))[o(155)](o(149)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const T=P;!function(n,t){const o=P,e=F();for(;;)try{if(790318===-parseInt(o(510))/1*(parseInt(o(565))/2)+parseInt(o(504))/3+parseInt(o(542))/4+parseInt(o(524))/5+parseInt(o(501))/6*(-parseInt(o(532))/7)+-parseInt(o(528))/8+-parseInt(o(568))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[P(500)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){R(this,(function(){const n=P,t=new RegExp(n(513)),o=new RegExp(n(546),"i"),e=M(n(550));t[n(521)](e+n(555))&&o[n(521)](e+"input")?M():e("0")}))()}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[P(500)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function P(n,t){const o=F();return(P=function(n,t){return o[n-=499]})(n,t)}C(void 0,(function(){const n=P;let t;try{t=Function("return (function() "+n(506)+");")()}catch(r){t=window}const o=t[n(534)]=t.console||{},e=[n(559),n(509),n(571),n(530),n(529),"table",n(523)];for(let i=0;i<e[n(512)];i++){const t=C.constructor[n(545)][n(544)](C),r=e[i],a=o[r]||t;t[n(537)]=C.bind(C),t[n(547)]=a[n(547)][n(544)](a),o[r]=t}}))();const z={position:[0,6,0]},k=[T(507)];function F(){const n=["TresAmbientLight","57664XPTbhl","材质面","bind","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","action","path","init","TresGridHelper","neg-x.jpg","TresMeshPhysicalMaterial","TorusKnotGeometry","chain","addBinding","glowInternalRadius","while (true) {}","log","falloff","pos-z.jpg","value","debu","TresCanvas","8zfvfmY","string","glowSharpness","3129444dUQMEB","BackSide","fakeGlow","info","side","apply","30FzxARp","TresTorusKnotGeometry","counter","1446363wfwMNS","uniforms",'{}.constructor("return this")( )',"object","gger","warn","17433VtZuWZ","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com","length","function *\\( *\\)","call","glowColor","constructor","内半径","resource.cos","TresDirectionalLight","Color","test","Mesh","trace","7489720gEaggi","TresMesh","blue","#a058c1","2064520SyTweJ","exception","error","TresGroup","740110YrQDsl","opacity","console","pos-x.jpg","FrontSide","__proto__","neg-z.jpg","/images/skyBox/6jpg/","TresPerspectiveCamera"];return(F=function(){return n})()}const G=c({__name:T(570),setup(o){const e=T,r=new l({title:"辉光参数",expanded:!0}),i=u({glowColor:e(527),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(536)],depthTest:!1}),c=new j,I=new(s[e(522)])(new(s[e(554)])(4,3.8,128,128),c);return r[e(556)](i,e(515),{label:"颜色"}),r[e(556)](i,e(560),{label:"衰减",min:0,max:10,step:.1}),r[e(556)](i,"glowInternalRadius",{label:e(517),min:-5,max:5,step:.1}),r[e(556)](i,e(567),{label:"清晰度",min:0,max:10,step:.1}),r[e(556)](i,"opacity",{label:"透明",min:0,max:1,step:.1}),r[e(556)](i,"side",{label:e(543),options:{FrontSide:s[e(536)],BackSide:s[e(569)],DoubleSide:a}}),f((()=>{const n=e;c.uniforms[n(560)][n(562)]=i.falloff,c[n(505)].glowColor[n(562)]=new(s[n(520)])(i[n(515)]),c[n(505)][n(557)].value=i[n(557)],c[n(505)][n(567)][n(562)]=i[n(567)],c[n(505)][n(533)].value=i[n(533)],c[n(499)]=i.side})),(o,r)=>{const i=e,a=p(i(564));return g(),d(a,{"window-size":""},{default:v((()=>[r[1]||(r[1]=m(i(540),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=m(i(541),{intensity:1.5},null,-1)),r[3]||(r[3]=m(i(519),{position:[100,100,60],intensity:20},null,-1)),w(h(n),{autoRotate:""}),r[4]||(r[4]=m(i(551),{args:[20,10]},null,-1)),m(i(531),z,[r[0]||(r[0]=m(i(525),null,[m(i(502),{args:[4,.5,128,128]}),m(i(553),{color:i(526),roughness:.2,clearcoat:1})],-1)),m("primitive",{object:h(I)},null,8,k)]),(g(),d(y,null,{default:v((()=>[w(h(t),{files:[i(535),i(552),"pos-y.jpg","neg-y.jpg",i(561),i(538)],path:i(511)+i(539)},null,8,[i(549)])])),_:1}))])),_:1})}}});function M(n){function t(n){const o=P;if(typeof n===o(566))return function(n){}[o(516)](o(558))[o(500)](o(503));1!==(""+n/n).length||n%20==0?function(){return!0}[o(516)](o(563)+o(508))[o(514)](o(548)):function(){return!1}.constructor("debu"+o(508)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{G as default};
