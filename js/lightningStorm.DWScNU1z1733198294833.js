import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.U2W0FijZ1733198294833.js";import{B as i,V as s,cq as n,ab as e,X as r,h as o,an as a,$ as h,s as c,_ as u}from"./three.8iJMi2lU1733198294833.js";import{e as l,f as p,F as d}from"./@tresjs.sklxXn0u1733198294833.js";import{c as g}from"./simplex-noise.Yx8GBgKo1733198294833.js";import{d as m,a3 as f,o as y,D as b,u as v,r as S,j as w,g as x,m as _,F as P}from"./@vue.-THQH3GC1733198294833.js";import"./index.VnJC1qLV1733198294833.js";import{_ as I}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.Iz_9ONM61733198294833.js";import"./three-custom-shader-material.GYlVajj-1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang._VAWZGSx1733198294833.js";import"./all.three.F4gaiqjm1733198294833.js";import"./oimophysics.x0jH7fze1733198294833.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.7Zke6a8I1733198294833.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.4JUlVHcB1733198294833.js";import"./index.8Rx_x_Ij1733198294833.js";import"./three-stdlib.IR1PgtX51733198294833.js";import"./@pmndrs.D5ZkFGQo1733198294833.js";import"./object-hash.GOIeDp-W1733198294833.js";import"./@amap.DgFRMjnW1733198294833.js";import"./jszip.eQOVOH091733198294833.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.YVfDahJh1733198294833.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.VrIohuzf1733198294833.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.da2uWVIH1733198294833.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.T5OoQH_41733198294833.js";const M=j;!function(t,i){const s=j,n=R();for(;;)try{if(107883===-parseInt(s(410))/1*(-parseInt(s(520))/2)+-parseInt(s(393))/3*(-parseInt(s(449))/4)+parseInt(s(409))/5*(parseInt(s(544))/6)+-parseInt(s(402))/7*(-parseInt(s(490))/8)+-parseInt(s(401))/9*(-parseInt(s(492))/10)+parseInt(s(465))/11+-parseInt(s(400))/12)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const T=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){T(this,(function(){const t=j,i=new RegExp(t(408)),s=new RegExp(t(399),"i"),n=z("init");i[t(430)](n+"chain")&&s[t(430)](n+t(403))?z():n("0")}))()}();const A=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[j(407)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();A(void 0,(function(){const t=j,i=function(){const t=j;let i;try{i=Function("return (function() "+t(546)+");")()}catch(s){i=window}return i}(),s=i[t(522)]=i.console||{},n=["log","warn","info","error",t(532),t(457),t(414)];for(let e=0;e<n.length;e++){const i=A[t(486)][t(441)][t(423)](A),r=n[e],o=s[r]||i;i.__proto__=A[t(423)](A),i[t(529)]=o[t(529)][t(423)](o),s[r]=i}}))();class F extends i{constructor(t={}){const i=j;super(),this[i(425)]=!0,this.type="LightningStrike",this[i(542)](F[i(405)](t,t)),this.createMesh()}static createRandomGenerator(){const t=j,i=2053,s=[];for(let e=0;e<i;e++)s[t(390)](Math[t(548)]());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(540)]];return n[e(540)]=(n[e(540)]+1)%i,r},getSeed:function(){return n[t(540)]/i},setSeed:function(s){const e=t;n[e(540)]=Math[e(461)](s*i)%i}};return n}static[M(405)](t={},i={}){const n=M,e=function(s){return i===t?s:s.clone()};return t[n(489)]=void 0!==i[n(489)]?e(i.sourceOffset):new s(0,100,0),t[n(451)]=void 0!==i[n(451)]?e(i[n(451)]):new s(0,0,0),t.timeScale=void 0!==i[n(549)]?i.timeScale:1,t[n(453)]=void 0!==i[n(453)]?i.roughness:.9,t.straightness=void 0!==i[n(526)]?i[n(526)]:.7,t[n(494)]=void 0!==i[n(494)]?e(i[n(494)]):new s(0,0,1),t[n(524)]=void 0!==i[n(524)]?e(i[n(524)]):new s(0,0,1),t[n(538)]=void 0!==i[n(538)]?i.radius0:1,t[n(404)]=void 0!==i[n(404)]?i[n(404)]:1,t.radius0Factor=void 0!==i[n(467)]?i.radius0Factor:.5,t[n(475)]=void 0!==i[n(475)]?i[n(475)]:.2,t[n(488)]=void 0!==i[n(488)]?i.minRadius:.2,t.isEternal=void 0!==i[n(436)]?i[n(436)]:void 0===i[n(435)]||void 0===i.deathTime,t[n(435)]=i.birthTime,t[n(471)]=i[n(471)],t.propagationTimeFactor=void 0!==i[n(431)]?i.propagationTimeFactor:.1,t[n(487)]=void 0!==i[n(487)]?i[n(487)]:.9,t[n(426)]=void 0!==i[n(426)]?i.subrayPeriod:4,t[n(420)]=void 0!==i[n(420)]?i[n(420)]:.6,t[n(531)]=void 0!==i[n(531)]?i.maxIterations:9,t[n(469)]=void 0!==i.isStatic&&i.isStatic,t[n(519)]=void 0!==i[n(519)]?i[n(519)]:5,t[n(481)]=void 0!==i[n(481)]?i[n(481)]:3,t[n(456)]=void 0!==i[n(456)]?i[n(456)]:.6,t[n(411)]=void 0!==i.generateUVs&&i[n(411)],t[n(541)]=i[n(541)],t.noiseSeed=i[n(500)],t[n(495)]=i[n(495)],t.onSubrayCreation=i[n(498)],t}update(t){const i=M;this[i(469)]||(this.rayParameters[i(436)]||this.rayParameters[i(435)]<=t&&t<=this[i(514)][i(471)]?(this[i(387)](t),t<this.subrays[0][i(534)]?this.state=F[i(503)]:t>this[i(506)][0][i(502)]?this[i(523)]=F[i(463)]:this[i(523)]=F.RAY_STEADY,this.visible=!0):(this[i(455)]=!1,t<this[i(514)][i(435)]?this.state=F[i(444)]:this[i(523)]=F[i(518)]))}init(t){const i=M;this.rayParameters=t,this[i(531)]=void 0!==t[i(531)]?Math[i(461)](t.maxIterations):9,t[i(531)]=this[i(531)],this[i(469)]=void 0!==t[i(469)]&&t[i(469)],t.isStatic=this[i(469)],this[i(519)]=void 0!==t[i(519)]?Math[i(461)](t[i(519)]):5,t[i(519)]=this[i(519)],this[i(481)]=void 0!==t[i(481)]?Math.floor(t[i(481)]):3,t[i(481)]=this.maxSubrayRecursion,this[i(456)]=void 0!==t[i(456)]?t[i(456)]:.6,t[i(456)]=this[i(456)],this[i(411)]=void 0!==t[i(411)]&&t[i(411)],t.generateUVs=this.generateUVs,void 0!==t.randomGenerator?(this[i(541)]=t[i(541)],this[i(510)]=t.randomGenerator,void 0!==t.noiseSeed&&this[i(510)].setSeed(t[i(500)])):(this[i(541)]=F[i(428)](),this[i(510)]=Math),void 0!==t[i(495)]?this[i(495)]=t[i(495)]:(this[i(396)](),void 0!==t[i(498)]&&(this[i(498)]=t[i(498)])),this[i(523)]=F[i(419)],this[i(391)]=Math[i(479)](1+Math[i(537)](this[i(519)],Math[i(527)](0,this[i(481)]-1))),t[i(391)]=this[i(391)],this[i(458)]=2*(1<<this[i(531)]),this[i(506)]=[];for(let s=0;s<this[i(391)];s++)this.subrays.push(this[i(517)]());this[i(450)]=[];for(let s=0;s<this[i(458)];s++)this.raySegments.push(this[i(485)]());this[i(551)]=0,this[i(417)]=0,this[i(442)]=null,this[i(418)]=this[i(411)]?this[i(397)]:this[i(460)],this.numSubrays=0,this[i(511)]=null,this[i(464)]=0,this[i(484)]=!1,this[i(392)]=0,this[i(406)]=0,this[i(429)]=0,this[i(434)]=0,this[i(477)]=0,this[i(443)]=null,this.uvs=null,this.indices=null,this[i(452)]=null,this[i(513)]=null,this.simplexX=g(this[i(510)][i(548)]),this.simplexY=g(this[i(510)][i(548)]),this.simplexZ=g(this[i(510)][i(548)]),this[i(552)]=new s,this[i(438)]=new s,this[i(446)]=new s,this[i(535)]=new s,this[i(385)]=new s,this[i(412)]=new s,this.newPos=new s,this.vPos=new s,this[i(509)]=new s}[M(466)](){const t=M,i=1<<this[t(531)],s=3*(i+1)*this[t(391)],o=18*i*this[t(391)];this[t(443)]=new Float32Array(3*s),this.indices=new Uint32Array(o),this[t(411)]&&(this[t(440)]=new Float32Array(2*s)),this[t(480)](0),this[t(433)](new n(this[t(521)],1)),this[t(452)]=new e(this.vertices,3),this.setAttribute("position",this.positionAttribute),this[t(411)]&&(this.uvsAttribute=new e(new Float32Array(this[t(440)]),2),this[t(459)]("uv",this[t(513)])),!this[t(469)]&&(this.index[t(528)]=r,this[t(452)][t(528)]=r,this[t(411)]&&(this[t(513)][t(528)]=r)),this[t(443)]=this.positionAttribute.array,this[t(521)]=this[t(432)][t(525)],this.generateUVs&&(this[t(440)]=this.uvsAttribute[t(525)])}updateMesh(t){const i=M;this[i(480)](t),this[i(427)][i(476)]=this[i(429)],this[i(432)][i(493)]=!0,this[i(452)].needsUpdate=!0,this[i(411)]&&(this[i(513)][i(493)]=!0)}[M(480)](t){const i=M,s=this;this[i(406)]=0,this[i(429)]=0,this[i(434)]=0,this[i(477)]=0,this[i(501)](t,(function(n){const e=i,r=s.currentSubray;t<r[e(435)]||(this[e(514)].isEternal&&0==s[e(511)][e(394)]?(s[e(507)](n),s[e(495)](n,s)):t<r.endPropagationTime?s.timeFraction>=n[e(470)]*r[e(431)]&&(s.createPrism(n),s[e(495)](n,s)):t<r[e(502)]?(s.createPrism(n),s.onDecideSubrayCreation(n,s)):(s[e(417)]<=r[e(487)]+n[e(398)]*(1-r[e(487)])&&s.createPrism(n),s[e(495)](n,s)))}))}addNewSubray(){const t=M;return this[t(506)][this[t(454)]++]}[M(533)](t,i){const s=M;t[s(482)][s(474)](i.sourceOffset),t.pos1[s(474)](i[s(451)]),t[s(494)][s(474)](i[s(494)]),t[s(524)][s(474)](i[s(524)]),t.radius0=i[s(538)],t[s(404)]=i[s(404)],t[s(435)]=i.birthTime,t[s(471)]=i.deathTime,t.timeScale=i[s(549)],t[s(453)]=i.roughness,t[s(526)]=i.straightness,t[s(431)]=i[s(431)],t[s(487)]=i[s(487)],t[s(531)]=this[s(531)],t.seed=void 0!==i[s(500)]?i[s(500)]:0,t[s(394)]=0}[M(501)](t,i){const s=M;this[s(551)]=t,this[s(442)]=i,this[s(454)]=0,this[s(533)](this[s(415)](),this.rayParameters);for(let n=0;n<this[s(454)];n++){const i=this[s(506)][n];this[s(511)]=i,this[s(541)].setSeed(i[s(416)]),i[s(534)]=o[s(516)](i[s(435)],i[s(471)],i[s(431)]),i[s(502)]=o.lerp(i[s(471)],i[s(435)],1-i[s(487)]);const e=this[s(541)][s(548)];i[s(478)].set(e(),e(),e())[s(424)](1e3),i[s(395)][s(422)](e(),e(),e()).multiplyScalar(1e3),this[s(417)]=(t-i[s(435)])/(i[s(471)]-i[s(435)]),this.currentSegmentIndex=0,this[s(484)]=!0;const r=this.getNewSegment();r.iteration=0,r.pos0[s(474)](i.pos0),r[s(515)][s(474)](i[s(515)]),r[s(478)][s(474)](i[s(478)]),r[s(395)].copy(i.linPos1),r.up0[s(474)](i[s(494)]),r[s(524)][s(474)](i.up1),r[s(538)]=i.radius0,r[s(404)]=i[s(404)],r[s(470)]=0,r[s(398)]=1,r.positionVariationFactor=1-i.straightness,this[s(392)]=this.ramification*Math.pow(this[s(456)],i[s(394)])/(1<<i[s(531)]),this[s(472)](r)}this[s(442)]=null,this[s(511)]=null}[M(472)](t){const i=M;if(t.iteration>=this[i(511)][i(531)])return void this.currentSegmentCallback(t);this[i(552)][i(499)](t[i(515)],t.pos0);let s=this[i(552)][i(389)]();s<1e-6&&(this[i(552)][i(422)](0,0,.01),s=this.forwards[i(389)]());const n=.5*(t[i(538)]+t.radius1),e=.5*(t[i(470)]+t[i(398)]),r=this[i(551)]*this.currentSubray[i(549)]*Math[i(537)](2,t[i(473)]);this[i(385)][i(508)](t[i(482)],t[i(515)],.5),this.middleLinPos[i(508)](t[i(478)],t[i(395)],.5);const o=this.middleLinPos;this[i(491)][i(422)](this.simplexX(o.x,o.y,o.z,r),this[i(413)](o.x,o.y,o.z,r),this.simplexZ(o.x,o.y,o.z,r)),this[i(491)].multiplyScalar(t[i(545)]*s),this[i(491)][i(483)](this[i(385)]);const a=this[i(539)]();a[i(482)][i(474)](t[i(482)]),a[i(515)].copy(this.newPos),a[i(478)].copy(t[i(478)]),a[i(395)][i(474)](this.middleLinPos),a[i(494)][i(474)](t.up0),a.up1[i(474)](t[i(524)]),a.radius0=t[i(538)],a.radius1=n,a.fraction0=t[i(470)],a[i(398)]=e,a.positionVariationFactor=t[i(545)]*this.currentSubray[i(453)],a[i(473)]=t[i(473)]+1;const h=this[i(539)]();h[i(482)][i(474)](this[i(491)]),h[i(515)][i(474)](t[i(515)]),h[i(478)][i(474)](this.middleLinPos),h[i(395)][i(474)](t[i(395)]),this.cross1[i(437)](t[i(494)],this[i(552)][i(530)]()),h[i(494)].crossVectors(this[i(552)],this.cross1)[i(530)](),h[i(524)][i(474)](t[i(524)]),h.radius0=n,h[i(404)]=t[i(404)],h[i(470)]=e,h[i(398)]=t[i(398)],h[i(545)]=t.positionVariationFactor*this[i(511)][i(453)],h[i(473)]=t[i(473)]+1,this[i(472)](a),this.fractalRayRecursive(h)}createPrism(t){const i=M;this[i(438)][i(499)](t[i(515)],t[i(482)])[i(530)](),this[i(484)]&&(this.currentCreateTriangleVertices(t.pos0,t[i(494)],this[i(438)],t[i(538)],0),this[i(484)]=!1),this.currentCreateTriangleVertices(t[i(515)],t[i(494)],this.forwardsFill,t.radius1,t[i(398)]),this.createPrismFaces()}[M(460)](t,i,s,n){const e=M;this.side.crossVectors(i,s)[e(424)](n*F[e(386)]),this[e(535)][e(474)](i)[e(424)](-n*F[e(543)]);const r=this[e(497)],o=this[e(443)];r[e(474)](t).sub(this[e(446)])[e(483)](this[e(535)]),o[this[e(434)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(434)]++]=r.z,r.copy(t)[e(483)](this[e(446)])[e(483)](this[e(535)]),o[this[e(434)]++]=r.x,o[this[e(434)]++]=r.y,o[this[e(434)]++]=r.z,r.copy(i).multiplyScalar(n).add(t),o[this.currentCoordinate++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(434)]++]=r.z,this[e(406)]+=3}[M(397)](t,i,s,n,e){const r=M;this[r(446)][r(437)](i,s)[r(424)](n*F.COS30DEG),this.down[r(474)](i).multiplyScalar(-n*F[r(543)]);const o=this[r(497)],a=this.vertices,h=this[r(440)];o[r(474)](t).sub(this[r(446)]).add(this[r(535)]),a[this.currentCoordinate++]=o.x,a[this[r(434)]++]=o.y,a[this[r(434)]++]=o.z,h[this[r(477)]++]=e,h[this[r(477)]++]=0,o[r(474)](t)[r(483)](this[r(446)])[r(483)](this.down),a[this[r(434)]++]=o.x,a[this[r(434)]++]=o.y,a[this[r(434)]++]=o.z,h[this.currentUVCoordinate++]=e,h[this[r(477)]++]=.5,o[r(474)](i)[r(424)](n)[r(483)](t),a[this.currentCoordinate++]=o.x,a[this[r(434)]++]=o.y,a[this[r(434)]++]=o.z,h[this[r(477)]++]=e,h[this[r(477)]++]=1,this[r(406)]+=3}[M(505)](t){const i=M,s=this[i(521)];t=this.currentVertex-6,s[this[i(429)]++]=t+1,s[this[i(429)]++]=t+2,s[this.currentIndex++]=t+5,s[this.currentIndex++]=t+1,s[this.currentIndex++]=t+5,s[this[i(429)]++]=t+4,s[this[i(429)]++]=t+0,s[this[i(429)]++]=t+1,s[this[i(429)]++]=t+4,s[this[i(429)]++]=t+0,s[this[i(429)]++]=t+4,s[this[i(429)]++]=t+3,s[this[i(429)]++]=t+2,s[this.currentIndex++]=t+0,s[this[i(429)]++]=t+3,s[this.currentIndex++]=t+2,s[this.currentIndex++]=t+3,s[this[i(429)]++]=t+5}[M(396)](){const t=M,i=this[t(541)][t(548)];this[t(495)]=function(s,n){const e=t,r=n[e(511)],a=n.rayParameters[e(426)],h=n.rayParameters[e(420)],c=n[e(514)][e(436)]&&0==r[e(394)]?-i()*a:o.lerp(r[e(435)],r.endPropagationTime,s.fraction0)-i()*a,u=n.time-c,l=Math[e(461)](u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(392)]),r[e(394)]<n[e(481)]&&n[e(454)]<n[e(391)]&&i()<d){const t=n[e(415)](),o=n[e(541)].getSeed();t[e(416)]=p,n[e(541)][e(504)](p),t[e(394)]=r[e(394)]+1,t[e(531)]=Math[e(527)](1,r[e(531)]-1),t[e(478)][e(422)](i(),i(),i())[e(424)](1e3),t[e(395)].set(i(),i(),i())[e(424)](1e3),t[e(494)][e(474)](r.up0),t[e(524)][e(474)](r[e(524)]),t[e(538)]=s[e(538)]*n[e(514)].radius0Factor,t[e(404)]=Math[e(448)](n[e(514)][e(488)],s[e(404)]*n[e(514)].radius1Factor),t[e(435)]=c+l*a,t[e(471)]=t[e(435)]+a*h,!n[e(514)][e(436)]&&0==r[e(394)]&&(t[e(435)]=Math[e(527)](t[e(435)],r[e(435)]),t[e(471)]=Math[e(448)](t[e(471)],r.deathTime)),t[e(549)]=2*r.timeScale,t.roughness=r[e(453)],t[e(526)]=r[e(526)],t.propagationTimeFactor=r[e(431)],t[e(487)]=r[e(487)],n.onSubrayCreation(s,r,t,n),n.randomGenerator[e(504)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(498)]=function(t,i,s,n){n.subrayCylinderPosition(t,i,s,.5,.6,.2)},this[t(547)]=function(s,o,h,c,u,l){const p=t;h[p(482)][p(474)](s[p(482)]),n[p(499)](o[p(515)],o[p(482)]),e.copy(n)[p(530)](),n[p(424)](s[p(470)]+(1-s[p(470)])*(i()*c));const d=n[p(389)]();r[p(437)](o[p(494)],e);const g=2*Math.PI*i();r[p(424)](Math[p(496)](g)),a[p(474)](o[p(494)])[p(424)](Math[p(536)](g)),h.pos1[p(474)](r)[p(483)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(483)](n)[p(483)](o[p(482)])},this[t(447)]=function(s,o,h,c,u,l){const p=t;h.pos0[p(474)](s[p(482)]),n[p(499)](o[p(515)],o[p(482)]),e[p(474)](n).normalize(),n[p(424)](s[p(470)]+(1-s[p(470)])*((2*i()-1)*c));const d=n[p(389)]();r[p(437)](o[p(494)],e);const g=2*Math.PI*i();r[p(424)](Math.cos(g)),a[p(474)](o.up0)[p(424)](Math[p(536)](g)),h[p(515)][p(474)](r)[p(483)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(483)](n)[p(483)](o.pos0)}}[M(517)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[M(539)](){return this[M(450)][this.currentSegmentIndex++]}[M(474)](t){const i=M;return super[i(474)](t),this[i(542)](F[i(405)]({},t[i(514)])),this}[M(388)](){const t=M;return new(this[t(486)])(F[t(405)]({},this[t(514)]))}}function j(t,i){const s=R();return(j=function(t,i){return s[t-=385]})(t,i)}function R(){const t=["destOffset","positionAttribute","roughness","numSubrays","visible","recursionProbability","table","maxRaySegments","setAttribute","createTriangleVerticesWithoutUVs","floor","while (true) {}","RAY_VANISHING","currentSegmentIndex","405867pIDiOD","createMesh","radius0Factor","action","isStatic","fraction0","deathTime","fractalRayRecursive","iteration","copy","radius1Factor","count","currentUVCoordinate","linPos0","ceil","fillMesh","maxSubrayRecursion","pos0","add","isInitialSegment","createSegment","constructor","vanishingTimeFactor","minRadius","sourceOffset","422336elYhge","newPos","682090ryXyDy","needsUpdate","up0","onDecideSubrayCreation","cos","vPos","onSubrayCreation","subVectors","noiseSeed","fractalRay","beginVanishingTime","RAY_PROPAGATING","setSeed","createPrismFaces","subrays","createPrism","lerpVectors","cross1","seedGenerator","currentSubray","debu","uvsAttribute","rayParameters","pos1","lerp","createSubray","RAY_EXTINGUISHED","ramification","116dDNTum","indices","console","state","up1","array","straightness","max","usage","toString","normalize","maxIterations","exception","initSubray","endPropagationTime","down","sin","pow","radius0","getNewSegment","currentSeed","randomGenerator","init","SIN30DEG","942ICaIPo","positionVariationFactor",'{}.constructor("return this")( )',"subrayConePosition","random","timeScale","gger","time","forwards","middlePos","COS30DEG","updateMesh","clone","length","push","maxSubrays","subrayProbability","105QdOXzl","recursion","linPos1","createDefaultSubrayCreationCallbacks","createTriangleVerticesWithUVs","fraction1","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8809104kIpwvq","18YbgKWi","28qKzmyA","input","radius1","copyParameters","currentVertex","apply","function *\\( *\\)","3565dBpPtZ","3617AzujLx","generateUVs","middleLinPos","simplexY","trace","addNewSubray","seed","timeFraction","currentCreateTriangleVertices","RAY_INITIALIZED","subrayDutyCycle","stateObject","set","bind","multiplyScalar","isLightningStrike","subrayPeriod","drawRange","createRandomGenerator","currentIndex","test","propagationTimeFactor","index","setIndex","currentCoordinate","birthTime","isEternal","crossVectors","forwardsFill","string","uvs","prototype","currentSegmentCallback","vertices","RAY_UNBORN","RAY_STEADY","side","subrayCylinderPosition","min","15516FqMIAz","raySegments"];return(R=function(){return t})()}function z(t){function i(t){const s=j;if(typeof t===s(439))return function(t){}[s(486)](s(462))[s(407)]("counter");1!==(""+t/t)[s(389)]||t%20==0?function(){return!0}[s(486)](s(512)+s(550)).call(s(468)):function(){return!1}[s(486)]("debugger")[s(407)](s(421)),i(++t)}try{if(t)return i;i(0)}catch(s){}}F[M(419)]=0,F[M(444)]=1,F[M(503)]=2,F[M(445)]=3,F[M(463)]=4,F[M(518)]=5,F[M(386)]=Math.cos(30*Math.PI/180),F[M(543)]=Math.sin(30*Math.PI/180);const C=V;!function(t,i){const s=V,n=L();for(;;)try{if(551161===parseInt(s(349))/1*(parseInt(s(367))/2)+-parseInt(s(330))/3+parseInt(s(363))/4*(parseInt(s(338))/5)+parseInt(s(325))/6+-parseInt(s(340))/7*(parseInt(s(362))/8)+parseInt(s(329))/9*(-parseInt(s(357))/10)+parseInt(s(374))/11*(parseInt(s(376))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[V(343)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function V(t,i){const s=L();return(V=function(t,i){return s[t-=318]})(t,i)}function L(){const t=["lightningMinPeriod","geometry","trace","length","set","sourceOffset","lightningMaxDuration","RAY_EXTINGUISHED","init","lightningMinDuration","size","copy","debu","lightningMaterial",'{}.constructor("return this")( )',"899052HVNJxM","isLightningStorm","log","inited","4220460JNxiJE","2776605sXqWyK","push","copyParameters","toString","update","while (true) {}","indexOf","lightningsMeshes","1132265ExtyKA","__proto__","520457Agpdug","birthTime","onLightningDown","apply","stateObject","counter","constructor","string","deadLightningsMeshes","1523goSsLS","function *\\( *\\)","table","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","noiseSeed","maxSlope","maxHeight","20PBuROp","test","error","lightningParameters","console","88hyqqUz","16GvgOPm","getNextLightningTime","random","nextLightningTime","982nKhMQs","exception","stormParams","remove","onRayPosition","maxLightnings","add","330FMasYq","chain","571596NtUsjb","lerp","input","gger","state","minHeight","splice","clone","lightningMaxPeriod"];return(L=function(){return t})()}!function(){D(this,(function(){const t=V,i=new RegExp(t(350)),s=new RegExp(t(353),"i"),n=E(t(318));i[t(358)](n+t(375))&&s.test(n+t(378))?E():n("0")}))()}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();H(void 0,(function(){const t=V;let i;try{i=Function("return (function() "+t(324)+");")()}catch(e){i=window}const s=i[t(361)]=i[t(361)]||{},n=[t(327),"warn","info",t(359),t(368),t(351),t(387)];for(let r=0;r<n[t(388)];r++){const i=H[t(346)].prototype[t(352)](H),e=n[r],o=s[e]||i;i[t(339)]=H.bind(H),i[t(333)]=o[t(333)].bind(o),s[e]=i}}))();class O extends a{constructor(t={}){const i=V;super(),this[i(326)]=!0,this.stormParams=t,t[i(320)]=void 0!==t.size?t[i(320)]:1e3,t[i(381)]=void 0!==t[i(381)]?t[i(381)]:80,t[i(356)]=void 0!==t[i(356)]?t[i(356)]:100,t[i(355)]=void 0!==t[i(355)]?t[i(355)]:1.1,t[i(372)]=void 0!==t[i(372)]?t.maxLightnings:3,t[i(385)]=void 0!==t[i(385)]?t[i(385)]:3,t.lightningMaxPeriod=void 0!==t.lightningMaxPeriod?t[i(384)]:7,t[i(319)]=void 0!==t.lightningMinDuration?t.lightningMinDuration:1,t.lightningMaxDuration=void 0!==t[i(391)]?t[i(391)]:2.5,this[i(360)]=F[i(332)](t[i(360)],t[i(360)]),this[i(360)].isEternal=!1,this[i(323)]=void 0!==t[i(323)]?t[i(323)]:new h({color:11599871}),void 0!==t[i(371)]?this[i(371)]=t[i(371)]:this[i(371)]=function(s,n){const e=i;n[e(389)]((Math[e(365)]()-.5)*t.size,0,(Math[e(365)]()-.5)*t[e(320)]);const r=o[e(377)](t[e(381)],t[e(356)],Math[e(365)]());s.set(t[e(355)]*(2*Math[e(365)]()-1),1,t[e(355)]*(2*Math[e(365)]()-1)).multiplyScalar(r)[e(373)](n)},this[i(342)]=t[i(342)],this.inited=!1,this[i(366)]=0,this[i(337)]=[],this.deadLightningsMeshes=[];for(let s=0;s<this[i(369)][i(372)];s++){const t=new F(F[i(332)]({},this[i(360)])),s=new c(t,this[i(323)]);this[i(348)][i(331)](s)}}[C(334)](t){const i=C;if(!this[i(328)]&&(this[i(366)]=this[i(364)](t)*Math[i(365)](),this.inited=!0),t>=this[i(366)]){const s=this[i(348)].pop();if(s){const n=F.copyParameters(s[i(386)].rayParameters,this[i(360)]);n[i(341)]=t,n.deathTime=t+o[i(377)](this[i(369)][i(319)],this[i(369)].lightningMaxDuration,Math[i(365)]()),this[i(371)](n[i(390)],n.destOffset),n[i(354)]=Math.random(),this[i(373)](s),this[i(337)][i(331)](s)}this[i(366)]=this[i(364)](t)}let s=0,n=this[i(337)].length;for(;s<n;){const e=this[i(337)][s],r=e.geometry,o=r[i(380)];r.update(t),o===F.RAY_PROPAGATING&&r[i(380)]>o&&this.onLightningDown&&this.onLightningDown(r),r[i(380)]===F[i(392)]?(this[i(337)][i(382)](this[i(337)][i(336)](e),1),this.deadLightningsMeshes[i(331)](e),this[i(370)](e),n--):s++}}[C(364)](t){const i=C;return t+o.lerp(this[i(369)][i(385)],this[i(369)][i(384)],Math[i(365)]())/(this[i(369)].maxLightnings+1)}[C(321)](t,i){const s=C;return super[s(321)](t,i),this[s(369)].size=t[s(369)][s(320)],this[s(369)][s(381)]=t[s(369)].minHeight,this[s(369)].maxHeight=t.stormParams[s(356)],this[s(369)][s(355)]=t.stormParams[s(355)],this[s(369)].maxLightnings=t[s(369)][s(372)],this[s(369)].lightningMinPeriod=t[s(369)].lightningMinPeriod,this.stormParams.lightningMaxPeriod=t[s(369)][s(384)],this[s(369)].lightningMinDuration=t[s(369)].lightningMinDuration,this.stormParams[s(391)]=t[s(369)][s(391)],this[s(360)]=F.copyParameters({},t.lightningParameters),this.lightningMaterial=t[s(369)].lightningMaterial,this.onLightningDown=t[s(342)],this}[C(383)](){const t=C;return new(this[t(346)])(this[t(369)])[t(321)](this)}}function E(t){function i(t){const s=V;if(typeof t===s(347))return function(t){}[s(346)](s(335))[s(343)](s(345));1!==(""+t/t).length||t%20==0?function(){return!0}[s(346)](s(322)+s(379)).call("action"):function(){return!1}[s(346)](s(322)+"gger").apply(s(344)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const G=Z;function N(){const t=["838616YyFyxH","exception","update","#b0ffff","14897570ipmzwv","lightStorm","8499477znvTFp","__proto__","117onlSaR","470957LfgOOp","action","length","9TswAaD","counter","while (true) {}",'{}.constructor("return this")( )',"sourceOffset","addVectors","MeshBasicMaterial","info","string","radius0","subrayDutyCycle","timeScale","constructor","size","debu","dot","pos1","sub","input","radius1","error","function *\\( *\\)","multiplyScalar","return (function() ","6BBcuDN","minHeight","subrayConePosition","toString","copy","color","trace","test","2736020BOzjQo","Vector3","89482gTGDQs","warn","table","maxLightnings","bind","console","rayParameters","prototype","subrayPeriod","chain","7744356SASFTI","add","roughness","straightness","Color","maxHeight","apply","object"];return(N=function(){return t})()}!function(t,i){const s=Z,n=N();for(;;)try{if(978246===-parseInt(s(505))/1+-parseInt(s(478))/2*(parseInt(s(508))/3)+-parseInt(s(488))/4+parseInt(s(540))/5*(-parseInt(s(532))/6)+parseInt(s(502))/7+parseInt(s(496))/8*(parseInt(s(504))/9)+parseInt(s(500))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(494)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){U(this,(function(){const t=Z,i=new RegExp(t(529)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=B("init");i[t(539)](n+t(487))&&s[t(539)](n+t(526))?B():n("0")}))()}();const Y=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(494)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Z(t,i){const s=N();return(Z=function(t,i){return s[t-=477]})(t,i)}Y(void 0,(function(){const t=Z;let i;try{i=Function(t(531)+t(511)+");")()}catch(e){i=window}const s=i[t(483)]=i.console||{},n=["log",t(479),t(515),t(528),t(497),t(480),t(538)];for(let r=0;r<n.length;r++){const i=Y[t(520)][t(485)].bind(Y),e=n[r],o=s[e]||i;i[t(503)]=Y[t(482)](Y),i.toString=o[t(535)][t(482)](o),s[e]=i}}))();const k=[G(495)],$=m({__name:G(501),props:{color:{default:G(499)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=G,n=t,e=new(u[i(492)])(n.color),r=new(u[i(514)])({color:e}),o=new(u[i(477)])(0,-1,0);let a=0;const h=new s,c=new(u[i(477)]),p={roughness:n[i(490)],straightness:n[i(491)],radius0:n[i(517)],radius1:n[i(527)],timeScale:n.timeScale,subrayPeriod:n[i(486)],subrayDutyCycle:n[i(518)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const r=i;e[r(534)](t,s,n,.6,.6,.5),a=e[r(484)].sourceOffset.y,h.subVectors(n[r(524)],e[r(484)][r(512)]);const u=o[r(523)](h);c[r(536)](o).multiplyScalar(u),h[r(525)](c);const l=u/a>.5?a/u:1;c[r(530)](l),h[r(489)](c),n[r(524)][r(513)](h,e[r(484)][r(512)])}},d=new O({size:n[i(521)],minHeight:n[i(533)],maxHeight:n[i(493)],maxSlope:.6,maxLightnings:n[i(481)],lightningParameters:p,lightningMaterial:r});f((()=>{const t=i,s=d.stormParams;s[t(521)]=n.size,s[t(533)]=n[t(533)],s[t(493)]=n[t(493)],r[t(537)].set(n.color),p[t(490)]=n[t(490)],p[t(491)]=n[t(491)],p[t(517)]=n[t(517)],p[t(527)]=n[t(527)],p.timeScale=n[t(519)]}));const{onLoop:g}=l();return g((({elapsed:t})=>{d[i(498)](t)})),(t,i)=>(y(),b("primitive",{object:v(d),renderOrder:9999},null,8,k))}});function B(t){function i(t){const s=Z;if(typeof t===s(516))return function(t){}[s(520)](s(510))[s(494)](s(509));1!==(""+t/t)[s(507)]||t%20==0?function(){return!0}[s(520)](s(522)+"gger").call(s(506)):function(){return!1}[s(520)](s(522)+"gger")[s(494)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}const X=K;!function(t,i){const s=K,n=J();for(;;)try{if(801106===parseInt(s(147))/1+-parseInt(s(170))/2*(-parseInt(s(135))/3)+parseInt(s(137))/4*(-parseInt(s(162))/5)+parseInt(s(149))/6+-parseInt(s(156))/7+-parseInt(s(155))/8+parseInt(s(161))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const q=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(164)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){q(this,(function(){const t=K,i=new RegExp(t(171)),s=new RegExp(t(159),"i"),n=tt("init");i[t(177)](n+t(180))&&s[t(177)](n+t(145))?tt():n("0")}))()}();const W=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[K(164)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function K(t,i){const s=J();return(K=function(t,i){return s[t-=134]})(t,i)}function J(){const t=["radius1","timeScale","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","4507146aiPZkh","173390Hbjnlm","stateObject","apply",'{}.constructor("return this")( )',"端部半径","call","while (true) {}","return (function() ","55606epZeoM","function *\\( *\\)","radius0","counter","console","maxHeight","直度度","test","straightness","lightningStorm","chain","未部半径","162waJozW","#92399e","24Hahuln","bind","warn","string","color","gger","info","debu","input","table","756058VRggCy","error","3013752vwCyla","constructor","exception","action","prototype","value","6065944ELfBVn","10451623hkmPxl"];return(J=function(){return t})()}W(void 0,(function(){const t=K,i=function(){const t=K;let i;try{i=Function(t(169)+t(165)+");")()}catch(s){i=window}return i}(),s=i.console=i[t(174)]||{},n=["log",t(139),t(143),t(148),t(151),t(146),"trace"];for(let e=0;e<n.length;e++){const i=W.constructor[t(153)][t(138)](W),r=n[e],o=s[r]||i;i.__proto__=W.bind(W),i.toString=o.toString[t(138)](o),s[r]=i}}))();const Q=m({__name:X(179),setup(i){const s=X,n=S({cellSize:60,cellThickness:1,cellColor:"#6f6f6f",sectionColor:s(136),sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=p({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:"#ffbde7",roughness:{label:"粗糙度",value:.85,min:0,max:1,step:.01},straightness:{label:s(176),value:.65,min:0,max:1,step:.01},radius0:{label:s(166),value:1,min:.1,max:10,step:.01},radius1:{label:s(134),value:.5,min:.1,max:10,step:.01},timeScale:{label:"时间缩放",value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const g=s;return y(),b(P,null,[w(t,{showAxesHelper:!1,showGridHelper:!1},{ability:x((()=>[w($,{minHeight:v(e)[g(154)],maxHeight:v(r)[g(154)],color:v(o).value,roughness:v(a)[g(154)],straightness:v(h)[g(154)],radius0:v(c)[g(154)],radius1:v(u)[g(154)],timeScale:v(l)[g(154)]},null,8,["minHeight",g(175),g(141),"roughness",g(178),g(172),g(157),g(158)]),w(v(I),_({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),w(v(d))],64)}}});function tt(t){function i(t){const s=K;if(typeof t===s(140))return function(t){}[s(150)](s(168)).apply(s(173));1!==(""+t/t)[s(160)]||t%20==0?function(){return!0}[s(150)]("debu"+s(142))[s(167)](s(152)):function(){return!1}[s(150)](s(144)+s(142))[s(164)](s(163)),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{Q as default};
