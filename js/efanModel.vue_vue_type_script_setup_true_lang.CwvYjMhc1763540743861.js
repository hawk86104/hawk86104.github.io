import{H as e,y as t,a1 as a}from"./@tresjs.BCHtwiaC1763540743861.js";import{u as o}from"./index.Crdf3MNx1763540743861.js";import{d as s,a8 as r,i as c,w as n,H as i,o as l,F as m,h as b,u as d,e as f,J as j,a9 as p}from"./@vue.Co_gxueH1763540743861.js";const u=["object"],_=s({__name:"efanModel",props:{color:{type:String,required:!0}},async setup(s){let _,y;const O=s,{nodes:g,animations:h}=([_,y]=r(()=>o("https://opensource.cdn.icegl.cn/model/eCommerce/eFan/nFan.gltf")),_=await _,y(),_),F=e=>g.Sketchfab_model.getObjectByName(e).geometry.attributes.uv.array,w={Object_4:new Float32Array(F("Object_4")),Object_8:new Float32Array(F("Object_8")),Object_6:new Float32Array(F("Object_6")),Object_6001:new Float32Array(F("Object_6001"))},A=g.Sketchfab_model.getObjectByName("Object_6001"),{actions:S}=e(h,g.Sketchfab_model),k=S.Animation,v=c("animationPlay");return n(()=>O.color,e=>{(e=>{const t={"#ff8b04":0,"#999999":.04,"#d3ac10":.19,"#ffbec4":-.06,"#d0d5c6":.55};for(const[a,o]of Object.entries(w)){for(let s=0;s<F(a).length;s++)F(a)[s]=o[s]+t[e];g.Sketchfab_model.getObjectByName(a).geometry.getAttribute("uv").needsUpdate=!0}})(e)},{immediate:!0}),n(()=>v.value,e=>{e?(k.reset().play(),A?.rotateY(-Math.PI)):(k.fadeOut(.6).paused=!0,A?.rotateY(Math.PI))},{immediate:!0}),(e,o)=>(l(),i(m,null,[b(d(t),{range:[-.5,-.5],speed:2},{default:f(()=>[j("primitive",{position:[-2,0,0],object:p(d(g).Sketchfab_model),scale:3},null,8,u)]),_:1}),b(d(a),{opacity:.3,blur:2.6,position:[0,-2,0]})],64))}});export{_};
