import{a as t,B as n,q as e,bZ as r,C as o,j as s,Z as c}from"./three.LOnTLfxo1723628107012.js";import{x as i}from"./@fesjs.BuhZYZEQ1723628107012.js";import{N as a}from"./@tresjs.SUe87xao1723628107012.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.-U140OdV1723628107012.js";!function(t,n){const e=x,r=h();for(;;)try{if(436163===parseInt(e(385))/1*(-parseInt(e(429))/2)+parseInt(e(424))/3+-parseInt(e(441))/4+-parseInt(e(389))/5*(-parseInt(e(383))/6)+-parseInt(e(433))/7+parseInt(e(434))/8+-parseInt(e(398))/9*(parseInt(e(436))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(377)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=x,n=new RegExp(t(426)),e=new RegExp(t(390),"i"),r=_(t(372));n[t(416)](r+t(387))&&e[t(416)](r+t(370))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function h(){const t=["computeBoundingBox","then","setFromObject","clone","getSize","input","center","init","get","max","getY","warn","apply","divideScalar","uniforms","bind","transparent","constructor","12DWlVuh","error","6pKercs","gger","chain","#fff","1543070VvhmhX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","negate","value","table","boundingBox","set","applyMatrix4","string","90LPTzJk","debu","forEach","count","setAttribute","children","material","attributes","push","expandByObject","reflectivity","min","console","sub","depthWrite","log","while (true) {}","getCenter","test","geometry","raycast","info","depthTest","getX","exception","__proto__","2598453mcCdQs","toString","function *\\( *\\)","side","position","103568qHDSsV","setY","copy","counter","637889UOtuBF","2012704usPBrG","prototype","104990ZRzXXW","random","length","Vector3","computeBoundsTree","3167932hGZFWH","trace",'{}.constructor("return this")( )'];return(h=function(){return t})()}m(void 0,(function(){const t=x;let n;try{n=Function("return (function() "+t(443)+");")()}catch(o){n=window}const e=n[t(410)]=n[t(410)]||{},r=[t(413),t(376),t(419),"error",t(422),t(393),t(442)];for(let s=0;s<r[t(438)];s++){const n=m[t(382)][t(435)][t(380)](m),o=r[s],c=e[o]||n;n[t(423)]=m[t(380)](m),n[t(425)]=c[t(425)][t(380)](c),e[o]=n}}))();const g=(n,e=!1)=>{const r=x;n[r(365)]();const{max:o,min:s}=n[r(394)];n.deleteAttribute("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n.attributes.position[r(401)];t++)e?(a[r(406)]((n.attributes[r(428)][r(421)](t)-(s.x+o.x)/2)/c),a.push((n[r(405)][r(428)][r(375)](t)-(s.y+o.y)/2)/i)):(a.push((n[r(405)][r(428)][r(421)](t)-s.x)/c),a[r(406)]((n[r(405)].position[r(375)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=x;i(t,{},{method:o(373),mergeRequest:!0})[o(366)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[o(384)](t),r(t)}))})),y=t=>{const n=x,e=(new THREE.Box3)[n(367)](t),r=new(THREE[n(439)]);e[n(415)](r),t[n(403)][n(400)]((t=>{const e=n;t[e(428)][e(411)](r)})),t[n(428)][n(431)](r[n(391)]())},w=()=>{const t=x;n[t(435)].computeBoundsTree=u,n[t(435)].disposeBoundsTree=p,e[t(435)][t(418)]=f};function x(t,n){const e=h();return(x=function(t,n){return e[t-=365]})(t,n)}const b=async t=>{const n=x,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(417)][n(368)]();g(i),i[n(440)]();const u=new r(i,{color:new o(n(388)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(404)][n(381)]=!0,u.material[n(412)]=!0,u[n(404)][n(420)]=!0,u[n(404)][n(427)]=c,u.material[n(379)].config.value.w=20,u[n(404)].uniforms[n(408)][n(392)]=.46,u};function j(t){const n=x,e=[];for(let o=0;o<t[n(438)];o++)e[n(406)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(438)];o++)r.add(e[o]);r[n(378)](e[n(438)]);for(let o=0;o<e[n(438)];o++)e[o][n(411)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=x;if(typeof t===e(397))return function(t){}[e(382)](e(414))[e(377)](e(432));1!==(""+t/t).length||t%20==0?function(){return!0}[e(382)]("debu"+e(386)).call("action"):function(){return!1}[e(382)](e(399)+e(386)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,w as i,d as l,g as r,b as s};
