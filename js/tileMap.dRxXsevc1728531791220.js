import{_ as t,V as n,cB as e}from"./three.QbUqWzuy1728531791220.js";import{P as o}from"./tweakpane.yHWGBmom1728531791220.js";import{p as r,U as s}from"./@tresjs.TFxw2EXb1728531791220.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.uyDJyGhc1728531791220.js";import{d as f,a3 as d,w as g,o as h,E as j,u as b,Y as w,r as x,e as v,j as y,g as I,f as M,al as _,m as z,F as C}from"./@vue.bvMz0l_u1728531791220.js";import{_ as S}from"./raycasterEvent.Js-yJS-J1728531791220.js";import{a as B}from"./utils.AGRjMn8d1728531791220.js";import"./@vueuse.MmMw6bXQ1728531791220.js";import"./@mapbox.QOB1r4iW1728531791220.js";import"./@amap.OnfPw1bC1728531791220.js";import"./three-mesh-bvh.AYIyC3ZD1728531791220.js";import"./three-custom-shader-material._Yy71uo31728531791220.js";import"./object-hash.lBPFZZ1y1728531791220.js";import"./jszip.v4-zSwTx1728531791220.js";import"./glsl-tokenizer.jsOyVPm91728531791220.js";import"./glsl-token-string.fnhoLvhE1728531791220.js";import"./glsl-token-functions.41nYPUTK1728531791220.js";import"./@fesjs.AIUeUkBK1728531791220.js";import"./vue-router.2bmjA1xE1728531791220.js";import"./lodash-es.guXTxyfJ1728531791220.js";import"./@qlin.yHhFDldE1728531791220.js";import"./pinia.K-WG64zG1728531791220.js";import"./@floating-ui.BPbuo5Gx1728531791220.js";import"./@juggle.7yjBMqoW1728531791220.js";import"./@tweenjs.J1BAvmPw1728531791220.js";import"./utils.POXIUlUG1728531791220.js";import"./d3-geo._AZWZ_1Q1728531791220.js";import"./d3-array.AhNJy1f41728531791220.js";import"./http.krl5KMbe1728531791220.js";import"./axios.Ng308AU61728531791220.js";import"./color.3ijveZYf1728531791220.js";import"./color-string.k7n16M6s1728531791220.js";import"./color-name.-cSc4wuG1728531791220.js";import"./simple-swizzle.fANinXvl1728531791220.js";import"./is-arrayish.g28kdXLb1728531791220.js";import"./color-convert.paRUsGWn1728531791220.js";import"./lodash._ngP4vue1728531791220.js";import"./naive-ui.HFFsShXA1728531791220.js";import"./date-fns.c5RXa_Mk1728531791220.js";import"./@css-render.yVz8KGXa1728531791220.js";import"./seemly.SjiSeX2v1728531791220.js";import"./css-render.NGMHMGtH1728531791220.js";import"./@emotion.ZD_ZYAgY1728531791220.js";import"./vooks.ldlTwHis1728531791220.js";import"./evtd.DtfwxtIl1728531791220.js";import"./vueuc.NUYrwF-D1728531791220.js";import"./vdirs.3S6eFUn11728531791220.js";import"./treemate.dcEdf2le1728531791220.js";import"./date-fns-tz.3oMGVojC1728531791220.js";import"./async-validator.-YBkpS4I1728531791220.js";const k=E;!function(t,n){const e=E,o=Z();for(;;)try{if(765849===-parseInt(e(300))/1+parseInt(e(282))/2*(parseInt(e(318))/3)+parseInt(e(271))/4+parseInt(e(265))/5+-parseInt(e(274))/6+parseInt(e(273))/7+parseInt(e(280))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(279)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=E,n=new RegExp(t(308)),e=new RegExp(t(325),"i"),o=A(t(335));n[t(305)](o+t(262))&&e[t(305)](o+t(286))?A():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(279)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function("return (function() "+t(266)+");")()}catch(e){n=window}return n}(),e=n[t(297)]=n.console||{},o=[t(278),t(333),"info",t(292),"exception",t(303),t(313)];for(let r=0;r<o.length;r++){const n=T[t(283)].prototype.bind(T),s=o[r],i=e[s]||n;n[t(329)]=T[t(319)](T),n[t(304)]=i[t(304)][t(319)](i),e[s]=n}}))();const N=[k(272),k(336)];function Z(){const t=["coordType","update","lookAt","innerWidth","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","position0","value","primitive","__proto__","minDistance","bbox","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","warn","genSaturation","init","rotation","tweenInstance","chain","innerHeight","provider","4868035ogNRUT",'{}.constructor("return this")( )',"isMonochrome","gger","Vector3","enableDamping","2598080jySnyG","object","6923112tfGUaF","8423298Ddqnwi","action","stateObject","genContrast","log","apply","257312eWstJW","far","32878VMjtSk","constructor","abs","filter","input","updateProjectionMatrix","dampingFactor","monochrome","target","showBoundingBox","error","call","domElement","set","useStandardMaterial","console","source","flatShading","540331TQmkNN","showTileNo","opposite","table","toString","test","camera","position","function *\\( *\\)","tileMapMesh","PerspectiveCamera","Color","mapCenter","trace","render","maxZoom","string","genBright","12QXuCYf","bind"];return(Z=function(){return t})()}function E(t,n){const e=Z();return(E=function(t,n){return e[t-=261]})(t,n)}const W=f({__name:k(309),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:m}){const f=k,w=o,{renderer:x,scene:v}=r();(new i).coordType=a;const y=new c;y[f(298)]=f(332),y[f(320)]=a;const I=new u;I[f(298)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",I[f(301)]=!1,I.useWorker=!0;const M=new p(y,I);if(M[f(291)]=!1,M.wireframe=!1,M[f(299)]=!1,M[f(296)]=!1,M.filter={opposite:w[f(302)],monochrome:w[f(267)]?{r:.299,g:.587,b:.114}:null,genBright:w[f(317)],genContrast:w.genContrast,genSaturation:w.genSaturation},w[f(289)]){let n=new(t[f(311)])(w[f(289)]);M[f(285)]&&(M.filter.monochrome={r:n.r,g:n.g,b:n.b})}const _=new l;_[f(264)]=M,_[f(331)]=w.bbox,_[f(315)]=w[f(315)];const z=new(t[f(310)])(60,window[f(323)]/window[f(263)],1,1e8);z.up=new n(0,1,0),z[f(307)].set(w[f(312)][0],w[f(312)][2],-w[f(312)][1]),z[f(322)](new(t[f(269)])(z[f(307)].x,0,z[f(307)].z-2e3)),_[f(306)]=z;let C=null;d((()=>{const t=f;x[t(327)]&&!C&&(C=new e(z,x.value[t(294)]),C[t(270)]=!0,C[t(288)]=.05,C[t(330)]=600,C[t(326)][t(295)](z[t(307)].x,z[t(307)].y,z[t(307)].z),C[t(290)][t(295)](z[t(307)].x,0,z[t(307)].z-2e3))})),g((()=>[w.opposite,w.isMonochrome,w[f(289)]]),(([n,e,o])=>{const r=f;if(M[r(285)]){let s=new(t[r(311)])(o);M[r(285)][r(302)]=n,M[r(285)].monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[w[f(317)],w[f(277)],w[f(334)]]),(([t,n,e])=>{const o=f;M[o(285)]&&(M[o(285)][o(317)]=t,M[o(285)][o(277)]=n,M[o(285)][o(334)]=e)}));const{onLoop:S}=s();return S((()=>{var t;const n=f;if(x[n(327)]){null==(t=w[n(261)])||t[n(321)](),C&&C.update(),_[n(321)]();const e=50*Math[n(284)](z[n(307)].y);z[n(281)]=e+5e3,z[n(287)](),x[n(327)][n(314)](v.value,z)}})),m({camera:z,map:_,orbitControl:C}),(t,n)=>{const e=f;return h(),j(e(328),{object:b(_),rotation:[-Math.PI/2,0,0]},null,8,N)}}});function A(t){function n(t){const e=E;if(typeof t===e(316))return function(t){}[e(283)]("while (true) {}")[e(279)](e(324));1!==(""+t/t).length||t%20==0?function(){return!0}[e(283)]("debu"+e(268))[e(293)](e(275)):function(){return!1}[e(283)]("debu"+e(268))[e(279)](e(276)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=H;!function(t,n){const e=H,o=Q();for(;;)try{if(949677===-parseInt(e(238))/1+-parseInt(e(243))/2*(parseInt(e(283))/3)+parseInt(e(270))/4+-parseInt(e(275))/5*(parseInt(e(258))/6)+-parseInt(e(251))/7*(parseInt(e(249))/8)+parseInt(e(244))/9*(parseInt(e(254))/10)+parseInt(e(256))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(290)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=H,n=new RegExp(t(247)),e=new RegExp(t(267),"i"),o=$(t(252));n[t(286)](o+t(274))&&e[t(286)](o+t(246))?$():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(290)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=Q();return(H=function(t,n){return e[t-=235]})(t,n)}function Q(){const t=["log","牛首山","tweenInstance","apply","length","stateObject","orbitControl","addBinding","monochrome","value","tileMapMeshRef","bind","660510yuhpbg","debu","tileMap","action","滤镜颜色","6NzqgxZ","545328cjzsIC","xjk","input","function *\\( *\\)","#201919","8oPpwBq","genBright","6273673ggXZNr","init","counter","40cnaQTm","Vector3","18568946ccWUHI","exception","6iBVHHE","addBlade","对比度","camera","饱和度","warn","change","manual","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","SRGBColorSpace","7343184omWWNN","console","opposite","toString","chain","3436205RCKpoy","NoToneMapping","#4688b5","constructor","gger","genContrast","info","奥体中心","572583dTdUaM","error","list","test"];return(Q=function(){return t})()}F(void 0,(function(){const t=H;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(271)]||{},o=[t(287),t(263),t(281),t(284),t(257),"table","trace"];for(let s=0;s<o[t(291)];s++){const n=F[t(278)].prototype.bind(F),r=o[s],i=e[r]||n;n.__proto__=F[t(237)](F),n[t(273)]=i.toString.bind(i),e[r]=n}}))();const V=f({__name:P(240),setup(n){const e=P,r=m(118.779958,32.017136),s=[r[0],r[1],5e3],i=w(),a=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(277),mapCenter:s,tweenInstance:null}),c=new o({title:"参数"});c[e(294)](a,e(272),{label:"反色"}),c[e(294)](a,e(250),{label:"高亮",min:.1,max:3,step:.1}),c[e(294)](a,e(280),{label:e(260),min:.1,max:3,step:.1}),c[e(294)](a,"genSaturation",{label:e(262),min:.1,max:3,step:.1}),c[e(294)](a,"isMonochrome",{label:"单色滤镜"}),c.addBinding(a,e(295),{label:e(242)});const u={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c[e(259)]({view:e(285),label:"飞去",options:[{text:e(282),value:"at"},{text:"新街口",value:e(245)},{text:e(288),value:"nss"}],value:"at"}).on(e(264),(n=>{const o=e,r=new(t[o(255)])(u[n[o(235)]][0],2e3,-u[n[o(235)]][1]);a[o(289)]=B(i.value[o(261)],r,i[o(235)][o(293)],[0,-300],4e3)}));const p=x({clearColor:e(248),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(265),outputColorSpace:t[e(269)],toneMapping:t[e(276)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(255)])(o[0],1600,-o[1]);a[n(289)]=B(i[n(235)][n(261)],r,i.value[n(293)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v("TresCanvas");return h(),j(C,null,[y(r,z(p,{"window-size":""}),{default:I((()=>[(h(),M(_,null,{default:I((()=>[y(W,z(a,{ref_key:o(236),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),y(S,{tileMapRef:i.value},null,8,["tileMapRef"])],64)}}});function $(t){function n(t){const e=H;if(typeof t===e(268))return function(t){}[e(278)](e(266))[e(290)](e(253));1!==(""+t/t)[e(291)]||t%20==0?function(){return!0}[e(278)](e(239)+e(279)).call(e(241)):function(){return!1}[e(278)](e(239)+e(279))[e(290)](e(292)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
