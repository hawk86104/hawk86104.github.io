import{c8 as t,a3 as e,s as n,t as r}from"./three.jaHX2_hY1736406294003.js";import{b as o}from"./@tresjs.AACxYGk_1736406294003.js";import{R as s,b as i}from"./all.three.PHlVv3xt1736406294003.js";import{d as c,a4 as a,a1 as u,w as f,o as l,D as p,J as d,u as h}from"./@vue.yG49nQHr1736406294003.js";const m=y;!function(t,e){const n=y,r=I();for(;;)try{if(246882===-parseInt(n(206))/1*(-parseInt(n(159))/2)+-parseInt(n(183))/3*(-parseInt(n(148))/4)+-parseInt(n(187))/5+parseInt(n(180))/6*(-parseInt(n(185))/7)+parseInt(n(146))/8*(parseInt(n(173))/9)+parseInt(n(204))/10+parseInt(n(161))/11*(-parseInt(n(186))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[y(203)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=y,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=M("init");e[t(155)](r+"chain")&&n[t(155)](r+t(169))?M():r("0")}))()}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=y;let e;try{e=Function(t(167)+t(172)+");")()}catch(o){e=window}const n=e[t(179)]=e[t(179)]||{},r=[t(198),t(150),t(164),t(178),t(157),t(196),t(151)];for(let s=0;s<r.length;s++){const e=w[t(205)][t(160)][t(193)](w),o=r[s],i=n[o]||e;e[t(181)]=w[t(193)](w),e[t(171)]=i[t(171)][t(193)](i),n[o]=e}}))();const g=[m(152)],j=["object"],v=[m(197)];function y(t,e){const n=I();return(y=function(t,e){return n[t-=146]})(t,e)}const x=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:b}){const w=m;let y,x;const I=c,M=new s,_=new t(I[w(192)][0]-.5,I[w(192)][1]);_.visible=I[w(201)];const{map:R}=([y,x]=a((()=>o({map:I.mapUrl}))),y=await y,x(),y);R[w(200)]=e,R[w(158)]=e,R[w(191)][w(189)](6,3);const G=new i({map:R,reflectivity:I[w(162)]});G.uniforms[w(177)]={value:M[w(149)][w(182)]},G[w(166)][w(184)]=M.renderTargetUniform,G[w(166)][w(208)]=M[w(163)];const U=new n(new r(I[w(192)][0],I.size[1]),G);return U[w(202)].x=-Math.PI/2,U[w(195)](M),U.onBeforeRender=(t,e,n)=>{const r=w;U[r(199)]=!1,I[r(188)][r(168)]((t=>{const e=r;t[e(154)]&&(t.visible=!1),t[e(165)]&&t[e(165)].isMesh&&(t[e(165)].visible=!1)})),M[r(207)](t,e,n),I[r(188)][r(168)]((t=>{const e=r;t[e(154)]&&(t[e(199)]=!0),t[e(165)]&&t[e(165)][e(154)]&&(t[e(165)][e(199)]=!0)})),U[r(199)]=!0},u((()=>{const t=w;I[t(162)]&&(G[t(166)][t(175)][t(165)]=I[t(162)])})),f((()=>I[w(201)]),(t=>{_[w(199)]=t})),b({reflector:M}),(t,e)=>{const n=w;return l(),p("TresGroup",{scale:I.scale},[d("primitive",{object:h(U),"position-y":-.01},null,8,j),d(n(194),{object:h(_)},null,8,v)],8,g)}}});function I(){const t=["showGridHelper","rotation","apply","2610540DajkQH","constructor","1018ZPbxyu","update","uMatrix","64YOQjlH","while (true) {}","32664ujysCb","renderTarget","warn","trace","scale","stateObject","isMesh","test","counter","exception","wrapT","314MkSsFE","prototype","5422747jKSKxx","reflectivity","textureMatrixUniform","info","value","uniforms","return (function() ","forEach","input","gger","toString",'{}.constructor("return this")( )',"427995MGxAZR","length","uReflectivity","debu","tReflect","error","console","38886ALJwFv","__proto__","texture","48kMbDhc","tReflectBlur","140eGdeOr","12LZcCkM","312485GKVHGn","ignoreObjects","set","string","repeat","size","bind","primitive","add","table","object","log","visible","wrapS"];return(I=function(){return t})()}function M(t){function e(t){const n=y;if(typeof t===n(190))return function(t){}[n(205)](n(147))[n(203)](n(156));1!==(""+t/t)[n(174)]||t%20==0?function(){return!0}[n(205)](n(176)+"gger").call("action"):function(){return!1}[n(205)](n(176)+n(170))[n(203)](n(153)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
