import{U as n,p as t,z as e,Y as o,n as r}from"./@tresjs.CmAaFQUS1729762363846.js";import{_ as i,z as s}from"./three.CQvcOG671729762363846.js";import{P as a}from"./tweakpane.BCjFYDHx1729762363846.js";import{L as c}from"./three-subdivide.CLLvrFSa1729762363846.js";import{d as u,b as l,a2 as f,w as p,o as d,E as g,L as m,aj as h,ak as v,a5 as y,r as b,e as w,f as _,g as I,j as x,u as M,m as S,J as B}from"./@vue.n8X62v121729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";const j=z;function T(){const n=["9OlKxHJ","value","geometry","constructor","TSGref","Color","warn","chain","attributes","side","Vector3","TresShaderMaterial",'{}.constructor("return this")( )',"function *\\( *\\)","trace","975112agLFcn","clone","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","3067340JePytd","glowColor","1042pwhssX","480036KgBJot","error","2453030vmiFlG","modify","action","counter","uniforms","return (function() ","AdditiveBlending","toString","call","material","table","bind","log","__proto__","6979qkMntV","copy","console","color","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","740427oiWzqK","blending","string","gger","info","103VzYqjy","FrontSide","position","debu","618dNlDGJ","exception","scale","srcMesh"];return(T=function(){return n})()}!function(n,t){const e=z,o=T();for(;;)try{if(345137===-parseInt(e(231))/1*(-parseInt(e(259))/2)+parseInt(e(226))/3+-parseInt(e(260))/4+parseInt(e(262))/5+-parseInt(e(235))/6*(-parseInt(e(220))/7)+-parseInt(e(254))/8*(parseInt(e(239))/9)+-parseInt(e(257))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(224)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=T();return(z=function(n,t){return e[n-=209]})(n,t)}!function(){k(this,(function(){const n=z,t=new RegExp(n(252)),e=new RegExp(n(225),"i"),o=N("init");t.test(o+n(246))&&e.test(o+"input")?N():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[z(224)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=z;let t;try{t=Function(n(211)+n(251)+");")()}catch(r){t=window}const e=t[n(222)]=t[n(222)]||{},o=[n(218),n(245),n(230),n(261),n(236),n(216),n(253)];for(let i=0;i<o.length;i++){const t=A[n(242)].prototype[n(217)](A),r=o[i],s=e[r]||t;t[n(219)]=A.bind(A),t[n(213)]=s[n(213)].bind(s),e[r]=t}}))();const F=[j(237)],C=u({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(232)]},blending:{default:i[j(212)]}},setup(e){const o=j,r=e,s=l(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(244)])(r[o(223)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(256),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(227)]};f((()=>{const n=o;if(r[n(238)]&&s[n(240)]&&!s[n(240)][n(241)][n(247)][n(233)]){let t=r[n(238)][n(241)][n(255)]();r.subdivision&&(t=c[n(263)](t,2)),s[n(240)][n(241)]=t,s[n(240)].position[n(221)](r.srcMesh.position)}r[n(223)]&&(a.uniforms[n(258)][n(240)]=new(i[n(244)])(r[n(223)])),r.c&&(a.uniforms.c[n(240)]=r.c),r.p&&(a[n(210)].p[n(240)]=r.p)})),p((()=>r.subdivision),(n=>{const t=o;let e=r.srcMesh[t(241)].clone();n&&(e=c[t(263)](e,2)),s.value.geometry=e})),p((()=>r[o(248)]),(n=>{const t=o;s.value[t(215)].side=n})),p((()=>r[o(227)]),(n=>{const t=o;s.value[t(215)][t(227)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=o;y[n(240)]&&s.value&&(a[n(210)].viewVector.value=(new(i[n(249)])).subVectors(y[n(240)].position,s.value[n(233)]))})),(n,t)=>{const e=o;return d(),g("TresMesh",{ref_key:e(243),ref:s,scale:r.scale},[m(e(250),h(v(a)),null,16)],8,F)}}});function N(n){function t(n){const e=z;if(typeof n===e(228))return function(n){}[e(242)]("while (true) {}")[e(224)](e(209));1!==(""+n/n).length||n%20==0?function(){return!0}[e(242)](e(234)+e(229))[e(214)](e(264)):function(){return!1}[e(242)](e(234)+e(229))[e(224)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=E;!function(n,t){const e=E,o=J();for(;;)try{if(638654===parseInt(e(138))/1+parseInt(e(155))/2+parseInt(e(168))/3*(-parseInt(e(148))/4)+parseInt(e(158))/5+-parseInt(e(156))/6+-parseInt(e(163))/7*(-parseInt(e(161))/8)+-parseInt(e(159))/9*(parseInt(e(185))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(147)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){R(this,(function(){const n=E,t=new RegExp(n(182)),e=new RegExp(n(132),"i"),o=$(n(187));t.test(o+n(172))&&e[n(176)](o+n(169))?$():o("0")}))()}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function J(){const n=["while (true) {}","debu","DoubleSide","info","log","304329dJnvZK","console","BackSide","counter","blending","TresMeshRefA","TresSphereGeometry","TresMeshRefB","logo.png","apply","19088QEiGQN","constructor","exception","addBinding",'{}.constructor("return this")( )',"length","scale","2472182mICWWx","6854496LSksRu","table","3172590jgWrIn","3510NXuGFz","TresMesh","970544NmtzGe","toString","56JqvBFy","TresMeshBasicMaterial","TresCanvas","call","TreBoxRef","108PAlOiX","input","bind","error","chain","TresAmbientLight","#222","prototype","test","instance","FrontSide","trace","gger","map","function *\\( *\\)","subdivision","#0ff","30580FYJERY","边缘处理","init","AdditiveBlending","return (function() ","value","action","NormalBlending","TresPerspectiveCamera","srcMesh","TresGridHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(J=function(){return n})()}function E(n,t){const e=J();return(E=function(n,t){return e[n-=131]})(n,t)}V(void 0,(function(){const n=E;let t;try{t=Function(n(189)+n(152)+");")()}catch(r){t=window}const e=t[n(139)]=t[n(139)]||{},o=[n(137),"warn",n(136),n(171),n(150),n(157),n(179)];for(let i=0;i<o[n(153)];i++){const t=V[n(149)][n(175)].bind(V),r=o[i],s=e[r]||t;t.__proto__=V[n(170)](V),t[n(162)]=s.toString[n(170)](s),e[r]=t}}))();const L=m(G(193),{position:[5,5,5]},null,-1),P=m(G(173),{intensity:1},null,-1),W=m(G(131),{args:[10,10]},null,-1),Z=m(G(144),{args:[1,32,16]},null,-1),q=[G(181)],K=[G(181)],O=[m("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),m(G(164),{color:G(184)},null,-1)],Y=u({__name:"shader",async setup(n){const t=G;let c,u;const f={clearColor:t(174)},p=l(),g=l(),h=l(),v=([c,u]=y((()=>e(["./plugins/earthSample/image/earthA/earth.jpg",t(146)]))),c=await c,u(),c),j=b({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:s,blending:i[t(188)]}),T=new a({title:"参数",expanded:!0});return T.addBinding(j,"color",{label:"颜色"}),T.addBinding(j,t(154),{label:"大小",min:1,max:3,step:.2}),T[t(151)](j,t(183),{label:t(186)}),T[t(151)](j,"c",{label:"c",min:0,max:2,step:.1}),T[t(151)](j,"p",{label:"p",min:0,max:8,step:.2}),T[t(151)](j,"side",{options:{FrontSide:i[t(178)],BackSide:i[t(140)],DoubleSide:i[t(135)]}}),T[t(151)](j,t(142),{options:{AdditiveBlending:i[t(188)],NormalBlending:i[t(192)]}}),(n,e)=>{const i=t,s=w(i(165));return d(),_(s,S(f,{"window-size":""}),{default:I((()=>[L,P,x(M(o)),W,m(i(160),{ref_key:i(143),ref:p,position:[-2,1,0]},[Z,m(i(164),{map:M(v)[0]},null,8,q)],512),x(C,S({srcMesh:p[i(190)]},j),null,16,["srcMesh"]),x(M(r),{ref_key:i(167),ref:h,args:[1,1,1],position:[2,1,0]},{default:I((()=>[m(i(164),{map:M(v)[1]},null,8,K)])),_:1},512),h[i(190)]&&h[i(190)][i(177)]?(d(),_(C,S({key:0,srcMesh:h[i(190)][i(177)]},j),null,16,[i(194)])):B("",!0),m(i(160),{ref_key:i(145),ref:g,position:[0,1,-2]},O,512),x(C,S({srcMesh:g[i(190)]},j),null,16,[i(194)])])),_:1},16)}}});function $(n){function t(n){const e=E;if("string"==typeof n)return function(n){}[e(149)](e(133))[e(147)](e(141));1!==(""+n/n).length||n%20==0?function(){return!0}[e(149)](e(134)+e(180))[e(166)](e(191)):function(){return!1}[e(149)](e(134)+e(180))[e(147)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{Y as default};
