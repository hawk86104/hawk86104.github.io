import{P as t}from"./tweakpane.yHWGBmom1735275234726.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.j3OCtvG31735275234726.js";import{_ as r}from"./heatmap.js-fix.PWhjb2_L1735275234726.js";import{h as i,Y as c,cy as s,_ as u,s as a}from"./three.jpi2UCEx1735275234726.js";import{r as p}from"./utils.kAQQYNep1735275234726.js";import{d as f}from"./pinia.BXllYoho1735275234726.js";import{b as l,d as h,a3 as d,o as m,D as g,J as y,u as v,F as b,q as w,U as I,N as _,P as j,H as x,L as M,a6 as S,r as D,j as E,g as A,m as q}from"./@vue.u2cBPEWn1735275234726.js";import{c as P,d as R,a as Z}from"./three-mesh-bvh.4sDkzARF1735275234726.js";import{_ as z}from"./@fesjs.Okr_vpx41735275234726.js";import"./@tresjs.fCqPNEAw1735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";import"./three-custom-shader-material.6yZB66Qf1735275234726.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735275234726.js";import"./@amap.Ndko9EDY1735275234726.js";import"./vue-demi.C4xddsk91735275234726.js";import"./vue-router.bq4JfoTS1735275234726.js";import"./lodash-es.guXTxyfJ1735275234726.js";import"./@qlin.yHhFDldE1735275234726.js";import"./@floating-ui.BPbuo5Gx1735275234726.js";import"./@juggle.7yjBMqoW1735275234726.js";!function(t,n){const e=J,o=k();for(;;)try{if(169906===parseInt(e(270))/1*(-parseInt(e(298))/2)+-parseInt(e(289))/3*(-parseInt(e(285))/4)+parseInt(e(282))/5*(parseInt(e(322))/6)+-parseInt(e(281))/7+-parseInt(e(320))/8*(parseInt(e(275))/9)+parseInt(e(304))/10*(parseInt(e(296))/11)+parseInt(e(301))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(284),"i"),o=$(t(271));n[t(312)](o+t(302))&&e[t(312)](o+t(287))?$():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(308)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["heatmap-canvas","while (true) {}","9Zltapq","toString","display","info","rgb(255,0,0)","yellow","2182845eDqRCJ","1725bemChP","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","611836qqTOmc","appendChild","input","getValueAt","3fyzLTM","_config","length","style","left","console","absolute","11DPwvVy","action","248932yVoyEK","rgb(0,255,0)","createElement","4054320rJkvRQ","chain","exception","1607810ZydKgN","gger",'{}.constructor("return this")( )',"width","apply","body","bind","trace","test","randInt","setData","top","prototype","counter","rgb(0,0,255)","table","531504XSplfz","constructor","366MjDBJO","warn","call","1lcbHqV","init","create"];return(k=function(){return t})()}function J(t,n){const e=k();return(J=function(t,n){return e[t-=269]})(t,n)}T(void 0,(function(){const t=J;let n;try{n=Function(t(283)+t(306)+");")()}catch(r){n=window}const e=n[t(294)]=n[t(294)]||{},o=["log",t(323),t(278),"error",t(303),t(319),t(311)];for(let i=0;i<o[t(291)];i++){const n=T[t(321)][t(316)][t(310)](T),r=o[i],c=e[r]||n;n.__proto__=T[t(310)](T),n[t(276)]=c[t(276)][t(310)](c),e[r]=n}}))();const O=(t,n)=>t[J(288)](n)+-10;function $(t){function n(t){const e=J;if("string"==typeof t)return function(t){}.constructor(e(274))[e(308)](e(317));1!==(""+t/t)[e(291)]||t%20==0?function(){return!0}.constructor("debugger")[e(269)](e(297)):function(){return!1}[e(321)]("debu"+e(305))[e(308)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=V;function U(){const t=["231thhYQT","input","2343216NKafAQ","122193eAOYSN","value","220MJnjDB","call","gger","bind","1266NnLGac","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","661892GsoIDM","prototype","info","889292UoZAXC","362Bpcgql",'{}.constructor("return this")( )',"constructor","105108VEqheF","toString","5305wIaBBu","counter","3ANUASB","buildingsHeatmap","log","debu","length","apply","function *\\( *\\)","table","while (true) {}","1GouEzj","return (function() ","trace"];return(U=function(){return t})()}function V(t,n){const e=U();return(V=function(t,n){return e[t-=468]})(t,n)}!function(t,n){const e=V,o=U();for(;;)try{if(234966===parseInt(e(480))/1*(parseInt(e(499))/2)+parseInt(e(471))/3*(-parseInt(e(498))/4)+parseInt(e(469))/5*(-parseInt(e(492))/6)+-parseInt(e(495))/7+parseInt(e(485))/8+parseInt(e(486))/9*(parseInt(e(488))/10)+-parseInt(e(483))/11*(-parseInt(e(502))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=V,n=new RegExp(t(477)),e=new RegExp(t(493),"i"),o=N("init");n.test(o+"chain")&&e.test(o+t(484))?N():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=V;let n;try{n=Function(t(481)+t(500)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(473),"warn",t(497),"error","exception",t(478),t(482)];for(let i=0;i<o[t(475)];i++){const n=H[t(501)][t(496)].bind(H),r=o[i],c=e[r]||n;n[t(494)]=H[t(491)](H),n[t(468)]=c[t(468)].bind(c),e[r]=n}}))();const L=f(C(472),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[V(487)]=n},setTemperature:function(t){n.value=t}}}));function N(t){function n(t){const e=V;if("string"==typeof t)return function(t){}[e(501)](e(479)).apply(e(470));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(490))[e(489)]("action"):function(){return!1}[e(501)](e(474)+e(490))[e(476)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=W;!function(t,n){const e=W,o=tt();for(;;)try{if(648558===-parseInt(e(155))/1+-parseInt(e(139))/2*(-parseInt(e(191))/3)+parseInt(e(181))/4*(parseInt(e(153))/5)+parseInt(e(182))/6+parseInt(e(186))/7+parseInt(e(180))/8*(parseInt(e(201))/9)+parseInt(e(146))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(151)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(187),"i"),o=et(t(145));n[t(154)](o+t(202))&&e.test(o+t(198))?et():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(168)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(165)]=n[t(165)]||{},o=[t(161),"warn",t(148),"error",t(204),t(193),t(172)];for(let r=0;r<o.length;r++){const n=Q[t(149)].prototype[t(163)](Q),i=o[r],c=e[i]||n;n.__proto__=Q[t(163)](Q),n.toString=c[t(142)][t(163)](c),e[i]=n}}))();const X=[Y(141),Y(197)],G=[Y(141)];function W(t,n){const e=tt();return(W=function(t,n){return e[t-=138]})(t,n)}function tt(){const t=["chain","opacity","exception","model","10TACEpd","attributes","object","toString","setShowDiv","_renderer","init","3405610TuBfhs","canvas","info","constructor","length","apply","ShaderMaterial","445ydPzmk","test","555188KtTzkP","city","string","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","DoubleSide","raycast","log","action","bind","computeBoundsTree","console","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","disposeBoundsTree","return (function() ","width","geometry","stateObject","trace","Matrix4","uniforms","clone","buildingsHeatmap","debu","applyMatrix4","value","8YRweGM","2292VSoSZE","660912QiymJE","数值———：","primitive","while (true) {}","3282482rqJqXb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Mesh","_config","gger","7653IdICDd","prototype","table","counter","height","matrix","rotation-x","input","uOpacity","BufferGeometry","1983195cZYuWQ"];return(tt=function(){return t})()}const nt=h({__name:Y(176),props:{model:{},opacity:{default:1}},setup(t){const n=Y;(()=>{const t=W;u[t(200)][t(192)][t(164)]=P,u[t(200)][t(192)][t(167)]=R,u[t(188)][t(192)][t(160)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=J,i=document[o(300)](o(273));return i[o(292)].position=o(295),!e&&(i[o(292)][o(277)]="none"),i[o(292)][o(315)]="0",i[o(292)][o(293)]="0",document[o(309)][o(286)](i),r[o(272)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(318),.55:o(299),.85:o(280),1:o(279)}})})();((t,n)=>{const e=J;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(313)](1,t[e(290)][e(307)]),y:i[e(313)](1,t._config.height),value:i[e(313)](-10,36)}),o++}t[e(314)]({max:36,min:-10,data:n})})(o);const f=new c(o[n(144)][n(147)]);f.needsUpdate=!0;const l=e[n(138)][n(156)].clone();delete l.geometry[n(140)].normal,delete l[n(170)].attributes.uv;const h=l.geometry[n(175)]()[n(178)](l[n(196)]),w=e[n(138)].land[n(175)]();delete w[n(170)][n(140)].normal;const I=w[n(170)][n(175)]()[n(178)](w[n(196)]),_=s([h,I]);_.applyMatrix4((new(u[n(173)])).makeRotationX(Math.PI/2)),p(_),_[n(164)]();const j=(t=>{const o=n;return new(u[o(152)])({vertexShader:o(166),fragmentShader:o(158),uniforms:{uOpacity:{value:e[o(203)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(159)]})})(f),x=new a(_,j);d((()=>{const t=n;e[t(203)]&&(j[t(174)][t(199)][t(179)]=e[t(203)])}));const M=L(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(189)][e(169)],y:(1-t.uv.y)*o[e(189)][e(195)]};console[e(161)]("数值：",t),console[e(161)](e(183),O(o,n)),M.setTemperature(O(o,n))}},D=t=>{t&&M.$patch({showDiv:!0})},E=t=>{t&&M[n(143)](!1)};return(t,o)=>{const r=n;return m(),g(b,null,[y(r(184),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:D,onPointerLeave:E},null,40,X),y(r(184),{object:e.model[r(138)].children[0][r(175)]()},null,8,G)],64)}}});function et(t){function n(t){const e=W;if(typeof t===e(157))return function(t){}[e(149)](e(185)).apply(e(194));1!==(""+t/t)[e(150)]||t%20==0?function(){return!0}[e(149)]("debu"+e(190)).call(e(162)):function(){return!1}[e(149)](e(177)+e(190))[e(151)](e(171)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=z({__name:"dataDiv",setup(t){const n=L(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:M(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=ut;!function(t,n){const e=ut,o=st();for(;;)try{if(454071===-parseInt(e(391))/1*(parseInt(e(399))/2)+-parseInt(e(394))/3+-parseInt(e(407))/4+parseInt(e(404))/5*(-parseInt(e(405))/6)+-parseInt(e(406))/7+-parseInt(e(376))/8+parseInt(e(386))/9*(parseInt(e(409))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=ut,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(380),"i"),o=pt(t(392));n[t(401)](o+t(396))&&e[t(401)](o+t(389))?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["#000","error","7208464xHkLsu","call","apply","city","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","heatmap2","toString","trace","__proto__","console","8983737bRxpZq","string","warn","input","counter","95843fylnly","init","exception","443697syoJPW","info","chain","length","log","14KukqNJ","addBinding","test","action","bind","4147755JHQdvd","6jDAXme","4797751rdYwJT","1215596KuHMob","model","40StSlMi","constructor","opacity",'{}.constructor("return this")( )',"builds","table","debu"];return(st=function(){return t})()}function ut(t,n){const e=st();return(ut=function(t,n){return e[t-=370]})(t,n)}ct(void 0,(function(){const t=ut;let n;try{n=Function("return (function() "+t(370)+");")()}catch(r){n=window}const e=n[t(385)]=n[t(385)]||{},o=[t(398),t(388),t(395),t(375),t(393),t(372),t(383)];for(let i=0;i<o[t(397)];i++){const n=ct.constructor.prototype[t(403)](ct),r=o[i],c=e[r]||n;n[t(384)]=ct[t(403)](ct),n[t(382)]=c[t(382)][t(403)](c),e[r]=n}}))();const at=h({__name:rt(381),async setup(r){const i=rt;let c,s;const u=l(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u.value=!0;const p=D({width:1,color:i(374),opacity:1,show:!0}),f=D({opacity:.9});return new t({title:"参数",expanded:!0})[i(400)](f,i(411),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(b,null,[E(e,{showBuildings:!1,autoRotate:!1},{ability:A((()=>[E(nt,q({model:v(a)},f),null,16,[r(408)]),E(n,q(p,{builds:v(a)[r(379)]}),null,16,[r(371)])])),_:1}),E(ot)],64)}}});function pt(t){function n(t){const e=ut;if(typeof t===e(387))return function(t){}[e(410)]("while (true) {}")[e(378)](e(390));1!==(""+t/t)[e(397)]||t%20==0?function(){return!0}.constructor(e(373)+"gger")[e(377)](e(402)):function(){return!1}[e(410)](e(373)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
