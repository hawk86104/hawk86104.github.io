import{d as n,H as t}from"./@tresjs.aawOCoPx1718698100638.js";import{k as o,b9 as e,C as r,aM as i,Z as a,a5 as s,y as l}from"./three.erXpfL-r1718698100638.js";import{P as c}from"./tweakpane.qqn77PB81718698100638.js";import{d as u,r as f,a2 as p,e as d,o as g,f as v,g as m,j as h,u as w,J as y,al as b}from"./@vue.CpOXM7bB1718698100638.js";import"./@vueuse.TW6-TkVF1718698100638.js";!function(n,t){for(var o=j,e=k();;)try{if(706668===parseInt(o(233))/1+parseInt(o(195))/2+parseInt(o(224))/3*(-parseInt(o(238))/4)+parseInt(o(213))/5+-parseInt(o(198))/6*(-parseInt(o(220))/7)+parseInt(o(231))/8*(parseInt(o(228))/9)+-parseInt(o(217))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(221)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){var n=j,t=new RegExp(n(208)),o=new RegExp(n(202),"i"),e=S(n(210));t[n(232)](e+n(201))&&o[n(232)](e+"input")?S():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(221)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();x(void 0,(function(){var n,t=j;try{n=Function("return (function() "+t(214)+");")()}catch(l){n=window}for(var o=n.console=n.console||{},e=[t(200),t(216),t(204),t(196),t(188),t(193),"trace"],r=0;r<e[t(215)];r++){var i=x[t(223)][t(192)][t(203)](x),a=e[r],s=o[a]||i;i[t(230)]=x.bind(x),i.toString=s[t(225)][t(203)](s),o[a]=i}}))();function j(n,t){var o=k();return(j=function(n,t){return o[n-=188]})(n,t)}const _=class extends o{constructor(n={}){var t=j;super(),this[t(222)]=t(209),this[t(211)]=t(205),this[t(197)]={opacity:new e(void 0!==n.opacity?n.opacity:1),glowInternalRadius:new e(void 0!==n[t(218)]?n[t(218)]:6),glowSharpness:new e(void 0!==n[t(207)]?n.glowSharpness:.5),falloff:new e(void 0!==n[t(234)]?n[t(234)]:.1),glowColor:new e(void 0!==n[t(189)]?new r(n[t(189)]):new r(t(235)))},this[t(229)](n),this[t(191)]=void 0!==n[t(191)]&&n[t(191)],this[t(212)]=void 0!==n[t(194)]?n[t(194)]:i,this[t(226)]=!0,this[t(199)]=void 0!==n[t(199)]?n.side:a}};function S(n){function t(n){var o=j;if(typeof n===o(219))return function(n){}[o(223)]("while (true) {}")[o(221)]("counter");1!==(""+n/n)[o(215)]||n%20==0?function(){return!0}.constructor(o(236)+o(237))[o(190)](o(227)):function(){return!1}[o(223)]("debu"+o(237))[o(221)](o(206)),t(++n)}try{if(n)return t;t(0)}catch(o){}}function k(){var n=["function *\\( *\\)","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","init","fragmentShader","blending","6328560hAnGrQ",'{}.constructor("return this")( )',"length","warn","34283420chyrJv","glowInternalRadius","string","287sTvvkQ","apply","vertexShader","constructor","1989501nvmdEY","toString","transparent","action","406206PMSzkR","setValues","__proto__","216YauJAd","test","346682wdMGYb","falloff","#00d5ff","debu","gger","4hHeGIj","exception","glowColor","call","depthTest","prototype","table","blendMode","1127388XucsKq","error","uniforms","205386XfOlge","side","log","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","info","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","stateObject","glowSharpness"];return(k=function(){return n})()}function T(n,t){const o=K();return(T=function(n,t){return o[n-=295]})(n,t)}const M=T;!function(n,t){const o=T,e=K();for(;;)try{if(928772===parseInt(o(307))/1*(-parseInt(o(345))/2)+parseInt(o(338))/3*(-parseInt(o(325))/4)+-parseInt(o(316))/5+-parseInt(o(302))/6*(-parseInt(o(328))/7)+-parseInt(o(300))/8*(parseInt(o(347))/9)+-parseInt(o(344))/10+parseInt(o(322))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(326)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){P(this,(function(){const n=T,t=new RegExp(n(336)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Y(n(297));t[n(355)](e+"chain")&&o[n(355)](e+n(332))?Y():e("0")}))()}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();z(void 0,(function(){const n=T;let t;try{t=Function(n(321)+'{}.constructor("return this")( ));')()}catch(r){t=window}const o=t[n(350)]=t.console||{},e=["log",n(303),n(353),n(319),n(334),n(354),"trace"];for(let i=0;i<e[n(296)];i++){const t=z.constructor.prototype[n(305)](z),r=e[i],a=o[r]||t;t.__proto__=z[n(305)](z),t[n(348)]=a.toString[n(305)](a),o[r]=t}}))();const C=y(M(351),{position:[0,25,25],near:.1,fov:65},null,-1),G=y("TresAmbientLight",{intensity:1.5},null,-1),R=y(M(342),{position:[100,100,60],intensity:20},null,-1),A=y("TresGridHelper",{args:[20,10]},null,-1),B={position:[0,6,0]},F=y(M(314),null,[y(M(304),{args:[4,.5,128,128]}),y(M(301),{color:M(310),roughness:.2,clearcoat:1})],-1),N=[M(343)],E=u({__name:M(333),setup(o){const e=M,i=new c({title:e(317),expanded:!0}),a=f({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(352)],depthTest:!1}),u=new _,I=new(s[e(311)])(new(s[e(335)])(4,3.8,128,128),u);return i[e(298)](a,e(356),{label:"颜色"}),i[e(298)](a,e(309),{label:"衰减",min:0,max:10,step:.1}),i[e(298)](a,e(327),{label:e(346),min:-5,max:5,step:.1}),i[e(298)](a,e(357),{label:e(341),min:0,max:10,step:.1}),i.addBinding(a,e(324),{label:"透明",min:0,max:1,step:.1}),i.addBinding(a,e(315),{label:"材质面",options:{FrontSide:s[e(352)],BackSide:l,DoubleSide:s[e(349)]}}),p((()=>{const n=e;u[n(323)][n(309)].value=a.falloff,u.uniforms[n(356)][n(295)]=new r(a[n(356)]),u[n(323)][n(327)][n(295)]=a[n(327)],u[n(323)][n(357)][n(295)]=a[n(357)],u.uniforms[n(324)][n(295)]=a[n(324)],u.side=a[n(315)]})),(o,r)=>{const i=e,a=d(i(313));return g(),v(a,{"window-size":""},{default:m((()=>[C,G,R,h(w(n),{autoRotate:""}),A,y(i(299),B,[F,y("primitive",{object:w(I)},null,8,N)]),(g(),v(b,null,{default:m((()=>[h(w(t),{files:["pos-x.jpg","neg-x.jpg",i(337),i(331),"pos-z.jpg",i(329)],path:i(308)},null,8,["files"])])),_:1}))])),_:1})}}});function K(){const n=["while (true) {}","清晰度","TresDirectionalLight","object","16650600AymMBK","11250eJHlBw","内半径","21834mmNKkX","toString","DoubleSide","console","TresPerspectiveCamera","FrontSide","info","table","test","glowColor","glowSharpness","value","length","init","addBinding","TresGroup","3384VfYYLt","TresMeshPhysicalMaterial","9510uBwvhh","warn","TresTorusKnotGeometry","bind","constructor","229YoKHhA","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","falloff","blue","Mesh","action","TresCanvas","TresMesh","side","3070465xbvmff","辉光参数","call","error","gger","return (function() ","65956847hUhECJ","uniforms","opacity","156wipqWp","apply","glowInternalRadius","399iCqFXb","neg-z.jpg","debu","neg-y.jpg","input","fakeGlow","exception","TorusKnotGeometry","function *\\( *\\)","pos-y.jpg","43398oleovf","string"];return(K=function(){return n})()}function Y(n){function t(n){const o=T;if(typeof n===o(339))return function(n){}[o(306)](o(340)).apply("counter");1!==(""+n/n)[o(296)]||n%20==0?function(){return!0}.constructor(o(330)+"gger")[o(318)](o(312)):function(){return!1}[o(306)](o(330)+o(320))[o(326)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{E as default};
