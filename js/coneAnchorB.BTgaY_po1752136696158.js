import{P as e}from"./tweakpane.C0HtAJSg1752136696158.js";import"./index.B6VCaV6n1752136696158.js";import{b as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.D7JCF23W1752136696158.js";import{e as t,k as r,b as a}from"./@tresjs.DLq12syC1752136696158.js";import{d as s,a3 as l,w as i,b as p,G as n,o as f,I as d,u as m,r as h,e as c,f as u,am as j,j as g,m as b}from"./@vue.BInVSO3Q1752136696158.js";import{ae as C}from"./three.BNH6wr6-1752136696158.js";import"./index.B9Z9A2ny1752136696158.js";import"./object-hash.AYVzxFSg1752136696158.js";import"./@amap.CGUF9xH41752136696158.js";import"./jszip.Dfvg2heu1752136696158.js";import"./SPE.CATlsBk71752136696158.js";import"./utils.BJvnV8Nv1752136696158.js";import"./@fesjs.CApmwxMx1752136696158.js";import"./vue-router.qYamoiMP1752136696158.js";import"./lodash-es.C7pWAXPe1752136696158.js";import"./@qlin.q6OWdsQV1752136696158.js";import"./pinia.CsLPLp3A1752136696158.js";import"./@babel.BPq7uOAK1752136696158.js";import"./@floating-ui.BFjFSAYt1752136696158.js";import"./@juggle.CcBCnTIR1752136696158.js";import"./three-mesh-bvh.CSLfwXOa1752136696158.js";import"./HeightCorrection.Bq98L9tL1752136696158.js";import"./three-custom-shader-material.BehP6bsv1752136696158.js";import"./buildingsCustomShaderMaterial.DyBo--wu1752136696158.js";import"./postprocessing.CPr5BoQh1752136696158.js";import"./@vueuse.BmvRw4vU1752136696158.js";const S=["rotateX"],T=["object"],_=["args"],w=["color","depthTest","map"],v=s({__name:"coneAnchorMeshB",props:{anchorColor:{default:"#b0ffff"},rotateSpeed:{default:.05},depthTest:{type:Boolean,default:!0},floorSize:{default:12},floorColor:{default:"#b0ffff"},floorSpeed:{default:.6}},async setup(e){let o,s;const h=e,{scene:c}=([o,s]=l((()=>r("./plugins/digitalCity/model/coneAnchorB.glb",{draco:!0,decoderPath:"./draco/"}))),o=await o,s(),o),u=c.clone(),j=u.children[0].material.clone();j.color.set(h.anchorColor),j.metalness=0,j.roughness=.5,j.transparent=!0,j.opacity=1,j.depthTest=h.depthTest,u.children[0].renderOrder=0,u.children[0].material=j;const{map:g}=([o,s]=l((()=>a({map:"./plugins/digitalCity/image/waveCircle.png"}))),o=await o,s(),o),{width:b,height:v}=g.image;g.wrapS=g.wrapT=C,g.repeat.set(1/(b/v),1),i((()=>[h.anchorColor,h.depthTest]),(([e,o])=>{j.color.set(e),j.depthTest=o}));const y=p(null),{onLoop:B}=t();let x=0;return B((()=>{y.value?.children[0].rotateZ(h.rotateSpeed),g&&(x+=h.floorSpeed,g.offset.x=Math.floor(x)/(g.image.width/g.image.height))})),(e,o)=>(f(),n("TresGroup",null,[d("TresGroup",{rotateX:-Math.PI/2,ref_key:"coneGroup",ref:y},[d("primitive",{object:m(u)},null,8,T),d("TresMesh",null,[d("TresCircleGeometry",{args:[e.floorSize,32]},null,8,_),d("TresMeshStandardMaterial",{color:e.floorColor,metalness:0,roughness:.6,transparent:"",opacity:.8,depthTest:h.depthTest,depthWrite:!1,map:m(g)},null,8,w)])],8,S)]))}}),y=s({__name:"coneAnchorB",setup(t){const r=new e({expanded:!0}),a=h({anchorColor:"#0059ff",rotateSpeed:.05,floorSize:12,floorColor:"#0059ff",floorSpeed:.6,depthTest:!0});return r.addBinding(a,"anchorColor",{label:"浮标颜色"}),r.addBinding(a,"rotateSpeed",{label:"旋转速度",min:-.2,max:.2,step:.001}),r.addBinding(a,"floorColor",{label:"波浪颜色"}),r.addBinding(a,"floorSize",{label:"波浪大小",min:.1,max:20,step:.1}),r.addBinding(a,"floorSpeed",{label:"波浪速度",min:-2,max:3,step:.1}),r.addBinding(a,"depthTest",{label:"是否遮挡"}),(e,t)=>(f(),c(o,{ref:"pagesShowRef"},{ability:u((()=>[(f(),c(j,null,{default:u((()=>[g(m(v),b({position:[60,19,0],scale:6},a),null,16)])),_:1})),(f(),c(j,null,{default:u((()=>[g(m(v),{position:[319,19,119],scale:3,anchorColor:"#ffffff",floorColor:"#ffffff",depthTest:!1})])),_:1})),(f(),c(j,null,{default:u((()=>[g(m(v),{position:[-319,19,619],scale:5,anchorColor:"#ff0000",floorColor:"#ffff00"})])),_:1})),(f(),c(j,null,{default:u((()=>[g(m(v),{position:[-319,19,-619],scale:8,anchorColor:"#ffff00",floorColor:"#ffff00"})])),_:1}))])),_:1},512))}});export{y as default};
