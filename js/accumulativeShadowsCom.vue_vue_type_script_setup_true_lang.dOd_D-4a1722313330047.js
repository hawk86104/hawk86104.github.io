import{a6 as t,c as n,h as e}from"./three.0L1oP_mX1722313330047.js";import{p as o}from"./@tresjs.Q03Md-En1722313330047.js";import{d as a,P as r}from"./@pmndrs.B3pPHFpB1722313330047.js";import{d as s,b as c,w as i,a1 as l,o as u,D as f,J as p,aj as d,ak as h}from"./@vue.Q1VpS3901722313330047.js";const m=b;!function(t,n){const e=b,o=v();for(;;)try{if(523894===parseInt(e(458))/1*(-parseInt(e(454))/2)+-parseInt(e(418))/3+parseInt(e(468))/4+parseInt(e(476))/5*(-parseInt(e(426))/6)+-parseInt(e(448))/7+parseInt(e(404))/8*(-parseInt(e(430))/9)+parseInt(e(457))/10)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){w(this,(function(){const t=b,n=new RegExp(t(416)),e=new RegExp(t(470),"i"),o=x(t(436));n[t(434)](o+t(471))&&e[t(434)](o+t(475))?x():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function b(t,n){const e=v();return(b=function(t,n){return e[t-=400]})(t,n)}g(void 0,(function(){const t=b;let n;try{n=Function(t(406)+t(452)+");")()}catch(a){n=window}const e=n.console=n[t(472)]||{},o=[t(419),t(401),t(478),"error",t(428),"table",t(481)];for(let r=0;r<o.length;r++){const n=g.constructor.prototype[t(432)](g),a=o[r],s=e[a]||n;n[t(400)]=g[t(432)](g),n[t(464)]=s[t(464)][t(432)](s),e[a]=n}}))();const M=[m(484)],y=p(m(451),{args:[1,1]},null,-1),I=s({__name:m(415),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,g=s;let b=c();const{extend:I,scene:x,renderer:v,camera:S}=o();I({SoftShadowMaterial:a});const z={position:(new(t[w(445)]))[w(446)](g[w(412)].x,g[w(412)].y,g[w(412)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},j=new r(v[w(466)],x.value,z[w(447)]),_={map:j[w(407)][w(463)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[w(474)],alphaTest:g[w(483)],opacity:g[w(443)],color:g[w(480)]},P=new n;for(let n=0;n<z[w(455)];n++){const n=new(t[w(425)])(16777215,z.intensity/z[w(455)]);n[w(431)]=!0,n[w(414)][w(423)]=z.bias,n[w(414)][w(460)][w(439)]=z[w(439)],n.shadow.camera[w(485)]=z[w(485)],n[w(414)].camera[w(456)]=z[w(440)]/2,n[w(414)][w(460)].left=-z[w(440)]/2,n[w(414)][w(460)].top=z[w(440)]/2,n[w(414)][w(460)].bottom=-z[w(440)]/2,n[w(414)][w(447)][w(435)]=z[w(447)],n[w(414)][w(447)][w(459)]=z.mapSize,P[w(422)](n)}const T=()=>{const n=w,o=z[n(477)][n(442)]();for(let a=0;a<P[n(473)][n(442)];a++){const r=P[n(473)][a];if(Math[n(467)]()>g[n(469)])r.position.set(z[n(477)].x+t[n(444)][n(479)](z[n(420)]),z[n(477)].y+e[n(479)](z[n(420)]),z[n(477)].z+t[n(444)][n(479)](z.radius));else{let t=Math[n(410)](2*Math.random()-1)-Math.PI/2,e=2*Math.PI*Math[n(467)]();r.position[n(446)](Math.cos(t)*Math[n(405)](e)*o,Math.abs(Math.cos(t)*Math.sin(e)*o),Math.sin(t)*o)}}},W=(t=1)=>{const n=w;x[n(466)][n(422)](P),j[n(409)]();for(let e=0;e<t;e++)T(),j.update(S.value,g.blendWindow),console.log(n(408),e);x.value[n(417)](P),j[n(461)]()};i((()=>b.value),(t=>{const n=w;t&&(j[n(433)](t),j.clear(),console[n(419)](n(462)),W(g.frames),console[n(419)](n(437)))}));const F=()=>{const t=w;j.clear(),W(g[t(421)])};return l((()=>{const t=w;b[t(466)]&&(g.opacity&&(b[t(466)][t(449)][t(443)]=g[t(443)]),g[t(483)]&&(b.value.material[t(483)]=g[t(483)]),g.color&&b[t(466)][t(449)][t(480)][t(446)](g.color),g.blend&&(b[t(466)].material[t(474)]=g.blend))})),i((()=>g[w(412)]),(t=>{const n=w;t&&(console.log(g[n(412)]),z[n(477)][n(446)](t.x,t.y,t.z),F())}),{deep:!0}),i((()=>[g[w(421)],g[w(438)],g[w(469)]]),(()=>{F()})),(t,n)=>{const e=w;return u(),f(e(450),{"receive-shadow":"",ref_key:e(402),ref:b,scale:10,"rotate-x":-Math.PI/2},[y,p(e(427),d(h(_)),null,16)],8,M)}}});function x(t){function n(t){const e=b;if(typeof t===e(441))return function(t){}[e(424)](e(413))[e(482)](e(465));1!==(""+t/t)[e(442)]||t%20==0?function(){return!0}.constructor(e(403)+e(429))[e(411)]("action"):function(){return!1}.constructor(e(403)+e(429))[e(482)](e(453)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function v(){const t=["gger","1841175FiAFRc","castShadow","bind","configure","test","width","init","shadows render end","blendWindow","near","size","string","length","opacity","MathUtils","Vector3","set","mapSize","2250087OvINeR","material","TresMesh","TresPlaneGeometry",'{}.constructor("return this")( )',"stateObject","21946wUfJjX","amount","right","11510180QRCmwM","29NWCJak","height","camera","finish","shadows render start","texture","toString","counter","value","random","3874500clxoZd","ambient","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","console","children","blend","input","5wdFuUt","position","info","randFloatSpread","color","trace","apply","alphaTest","rotate-x","far","__proto__","warn","gPlane","debu","8drxsWH","cos","return (function() ","progressiveLightMap2","shadows plm update","prepare","acos","call","lightPosition","while (true) {}","shadow","accumulativeShadowsCom","function *\\( *\\)","remove","1257645gnZmmj","log","radius","frames","add","bias","constructor","DirectionalLight","1993806lwghSB","TresSoftShadowMaterial","exception"];return(v=function(){return t})()}export{I as _};
