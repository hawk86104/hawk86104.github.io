import{_ as t,c as n,m as r,a as e}from"./gl-matrix.EID00hSp1726800306729.js";import{i as o,r as a,d as i}from"./ice-utils.-xzYnWwf1726800306729.js";import{d as c,q as u,o as s,E as f}from"./@vue.bvMz0l_u1726800306729.js";const E=T;!function(t,n){const r=T,e=l();for(;;)try{if(763168===parseInt(r(465))/1+parseInt(r(429))/2*(parseInt(r(439))/3)+-parseInt(r(490))/4+-parseInt(r(420))/5+parseInt(r(489))/6*(-parseInt(r(437))/7)+-parseInt(r(474))/8*(parseInt(r(426))/9)+parseInt(r(478))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[T(496)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function T(t,n){const r=l();return(T=function(t,n){return r[t-=415]})(t,n)}!function(){_(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(456),"i"),e=p(t(463));n[t(485)](e+"chain")&&r[t(485)](e+"input")?p():e("0")}))()}();const R=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[T(496)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();R(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(484)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(415)]=n[t(415)]||{},e=[t(416),t(423),t(499),t(449),t(440),t(453),t(443)];for(let o=0;o<e[t(467)];o++){const n=R.constructor[t(436)][t(504)](R),a=e[o],i=r[a]||n;n[t(483)]=R[t(504)](R),n[t(445)]=i[t(445)][t(504)](i),r[a]=n}}))();const A={id:"canvaswebgl",style:{height:E(441),width:E(441)}};function l(){const t=["\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\nuniform mat4 u_matrix;\nvarying vec2 v_texcoord;\nvoid main() {\n  gl_Position = u_matrix * a_position;\n  v_texcoord = a_texcoord;\n}","u_texture","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","DEPTH_BUFFER_BIT","STATIC_DRAW","TEXTURE_MAG_FILTER","clearColor","rotate","bufferData","init","vertexAttribPointer","137293ONPsvL","uniformMatrix4fv","length","bindFramebuffer","mat4","createBuffer","uniform1i","constructor","FLOAT","11272JzeUpY","drawArrays","enableVertexAttribArray","while (true) {}","20532380cmnEJB","getContext","LINEAR","u_matrix","perspective","__proto__","return (function() ","test","create","debu","getUniformLocation","234qqdwQa","4741048QVAClj","bindTexture","clientWidth","TEXTURE_2D","FRAMEBUFFER","string","apply","lookAt","viewport","info","TEXTURE_WRAP_T","createTexture","bindBuffer","canvas","bind","clear","console","log","ARRAY_BUFFER","webgl","counter","144435gvCPQT","RGBA","clientHeight","warn","texParameteri","UNPACK_ALIGNMENT","7731uqhFUI","DEPTH_TEST","COLOR_ATTACHMENT0","2167082IkVBia","texImage2D","stateObject","enable","call","NEAREST","TEXTURE_MIN_FILTER","prototype","15512JNTtbA","gger","3oOKAEQ","exception","500px","COLOR_BUFFER_BIT","trace","action","toString","UNSIGNED_BYTE","framebufferTexture2D","getAttribLocation","error","CLAMP_TO_EDGE","CULL_FACE","multiply","table"];return(l=function(){return t})()}const F=E(454),m=c({__name:"webglFrameBuffer",setup(c){const E=function(){const c=T,u=document.querySelector("#canvaswebgl"),s=null==u?void 0:u[c(479)](c(418));if(!s)return;var f=o(s,F,"\nprecision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\nvoid main(){\n\tgl_FragColor=texture2D(u_texture, v_texcoord.xy);\n}\n"),E=s[c(448)](f,"a_position"),_=s[c(448)](f,"a_texcoord"),R=s[c(488)](f,c(481)),A=s[c(488)](f,c(455)),l=s[c(470)]();s[c(502)](s[c(417)],l),function(t){const n=T;var r=new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5]);t[n(462)](t[n(417)],r,t[n(458)])}(s);var m=s[c(470)]();s.bindBuffer(s.ARRAY_BUFFER,m),function(t){const n=T;t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1]),t[n(458)])}(s);var p=s[c(501)]();s.bindTexture(s.TEXTURE_2D,p);{const t=0,n=s.RGBA,r=1,e=1,o=0,a=s.RGBA,i=s[c(446)],u=new Uint8Array([255,255,0,255]),f=1;s.pixelStorei(s[c(425)],f),s[c(430)](s[c(493)],t,n,r,e,o,a,i,u),s.texParameteri(s[c(493)],s[c(435)],s[c(434)]),s[c(424)](s.TEXTURE_2D,s[c(459)],s.NEAREST),s[c(424)](s[c(493)],s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s[c(493)],s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE)}const v=s[c(501)]();s[c(491)](s.TEXTURE_2D,v);{const t=0,n=s[c(421)],r=0,e=s[c(421)],o=s[c(446)],a=null;s[c(430)](s.TEXTURE_2D,t,n,256,256,r,e,o,a),s.texParameteri(s[c(493)],s.TEXTURE_MIN_FILTER,s[c(480)]),s[c(424)](s[c(493)],s.TEXTURE_WRAP_S,s[c(450)]),s[c(424)](s[c(493)],s[c(500)],s[c(450)])}const x=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,x);const b=s[c(428)];s[c(447)](s[c(494)],b,s[c(493)],v,0);var d=i(0),U=0;function g(o){const a=c;s.useProgram(f),s[a(476)](E),s[a(502)](s.ARRAY_BUFFER,l);var i=3,u=s[a(473)],T=!1,F=0,p=0;s.vertexAttribPointer(E,i,u,T,F,p),s.enableVertexAttribArray(_),s[a(502)](s.ARRAY_BUFFER,m);i=2,u=s.FLOAT,T=!1,F=0,p=0;s[a(464)](_,i,u,T,F,p);var v=t[a(469)][a(486)]();t[a(469)][a(482)](v,-30,o,.1,1e4);let x=n();x=r[a(461)](x,x,d,[0,1,0]);var b=t[a(469)].create();t[a(469)][a(497)](b,[0,0,2],[0,0,0],[0,1,0]);let U=t[a(469)][a(486)]();r[a(452)](U,b,x);var g=t[a(469)].create();e(g,v,U),s[a(466)](R,!1,g),s[a(471)](A,0),s[a(475)](s.TRIANGLES,0,36)}requestAnimationFrame((function t(n){const r=c;var e=(n*=.001)-U;U=n,d+=-.4*e,a(s.canvas),s[r(432)](s[r(451)]),s[r(432)](s[r(427)]);s[r(468)](s.FRAMEBUFFER,x),s[r(491)](s.TEXTURE_2D,p),s[r(498)](0,0,256,256),s[r(460)](0,1,0,1),s[r(505)](s[r(442)]|s.DEPTH_BUFFER_BIT);g(1);s.bindFramebuffer(s.FRAMEBUFFER,null),s[r(491)](s[r(493)],v),s[r(498)](0,0,s.canvas.width,s.canvas.height),s[r(460)](1,1,1,1),s.clear(s[r(442)]|s[r(457)]);g(s[r(503)][r(492)]/s[r(503)][r(422)]);requestAnimationFrame(t)}))};return u((()=>{E()})),(t,n)=>{const r=T;return s(),f(r(503),A)}}});function p(t){function n(t){const r=T;if(typeof t===r(495))return function(t){}[r(472)](r(477))[r(496)](r(419));1!==(""+t/t)[r(467)]||t%20==0?function(){return!0}[r(472)](r(487)+r(438))[r(433)](r(444)):function(){return!1}[r(472)](r(487)+r(438))[r(496)](r(431)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{m as default};
