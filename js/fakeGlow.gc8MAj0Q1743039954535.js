import{o as n,J as t}from"./@tresjs.05J-Im0t1743039954535.js";import{n as o,b1 as e,C as r,a$ as i,ab as a,_ as s,l}from"./three.XuMWWlrU1743039954535.js";import{P as c}from"./tweakpane.ivGeiIdz1743039954535.js";import{d as u,r as f,a2 as p,e as d,o as g,f as v,g as m,N as w,j as h,u as y,al as b}from"./@vue.C4dqouNn1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";function I(){var n=["falloff","test","10599912iCNdth","8IDUpHH","side","call","console","action","1755880ezJviq","628392mSVSdS","2650095XFfJJs","string","function *\\( *\\)","init","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","table","length","7117284QFiMbW","vertexShader","exception","opacity","prototype","counter","5277990qziPPa","debu","log","constructor","trace","error","blending","#00d5ff","input","blendMode","glowInternalRadius","depthTest","16BYmVfV","info","bind","glowColor","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","chain","glowSharpness","1182745ADmxUE","apply","gger","fragmentShader","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__"];return(I=function(){return n})()}!function(n,t){for(var o=z,e=I();;)try{if(875802===parseInt(o(256))/1+parseInt(o(298))/2*(-parseInt(o(272))/3)+parseInt(o(271))/4+-parseInt(o(286))/5+parseInt(o(280))/6+parseInt(o(273))/7*(-parseInt(o(266))/8)+parseInt(o(265))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x,S=(x=!0,function(n,t){var o=x?function(){if(t){var o=t.apply(n,arguments);return t=null,o}}:function(){};return x=!1,o});!function(){S(this,(function(){var n=z,t=new RegExp(n(275)),o=new RegExp(n(261),"i"),e=P(n(276));t[n(264)](e+n(254))&&o.test(e+n(294))?P():e("0")}))()}();var j,_=(j=!0,function(n,t){var o=j?function(){if(t){var o=t[z(257)](n,arguments);return t=null,o}}:function(){};return j=!1,o});function z(n,t){var o=I();return z=function(n,t){return o[n-=252]},z(n,t)}_(void 0,(function(){var n,t=z;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(l){n=window}for(var o=n[t(269)]=n[t(269)]||{},e=[t(288),"warn",t(299),t(291),t(282),t(278),t(290)],r=0;r<e[t(279)];r++){var i=_.constructor[t(284)].bind(_),a=e[r],s=o[a]||i;i[t(262)]=_[t(300)](_),i.toString=s[t(260)][t(300)](s),o[a]=i}}))();const C=class extends o{constructor(n={}){var t=z;super(),this[t(281)]=t(253),this[t(259)]=t(277),this.uniforms={opacity:new e(void 0!==n[t(283)]?n[t(283)]:1),glowInternalRadius:new e(void 0!==n[t(296)]?n[t(296)]:6),glowSharpness:new e(void 0!==n[t(255)]?n[t(255)]:.5),falloff:new e(void 0!==n.falloff?n[t(263)]:.1),glowColor:new e(void 0!==n.glowColor?new r(n[t(252)]):new r(t(293)))},this.setValues(n),this[t(297)]=void 0!==n[t(297)]&&n.depthTest,this[t(292)]=void 0!==n[t(295)]?n[t(295)]:i,this.transparent=!0,this.side=void 0!==n[t(267)]?n[t(267)]:a}};function P(n){function t(n){var o=z;if(typeof n===o(274))return function(n){}[o(289)]("while (true) {}")[o(257)](o(285));1!==(""+n/n)[o(279)]||n%20==0?function(){return!0}[o(289)](o(287)+o(258))[o(268)](o(270)):function(){return!1}[o(289)](o(287)+"gger")[o(257)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const T=R;function k(){const n=["uniforms","TresGroup","bind","TresMeshPhysicalMaterial","function *\\( *\\)","chain","length","resource.cos","TresAmbientLight","__proto__","glowSharpness","FrontSide","BackSide","test","TorusKnotGeometry","stateObject","string","TresDirectionalLight","pos-z.jpg","error","TresPerspectiveCamera","5360424HvdEew","value","gger","pos-y.jpg","DoubleSide","primitive","3560669ZuzdOs","2GJauQa","object","Color","call","#a058c1","counter","constructor","path","opacity","trace","材质面","TresGridHelper","neg-y.jpg","debu","TresTorusKnotGeometry","808JdKFCy","info","neg-z.jpg","glowColor","3879627jHPkMH",'{}.constructor("return this")( )',"glowInternalRadius","console","辉光参数","2010065vQoGiW","input","1649443SYpixz","12FvTlEe","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","falloff","log","31799030IKqviG","TresMesh","side","pos-x.jpg","return (function() ","apply","84600ouEeBu","prototype","fakeGlow","addBinding","blue","action"];return(k=function(){return n})()}!function(n,t){const o=R,e=k();for(;;)try{if(878627===-parseInt(o(215))/1*(parseInt(o(261))/2)+-parseInt(o(280))/3+-parseInt(o(216))/4*(-parseInt(o(213))/5)+parseInt(o(254))/6+-parseInt(o(260))/7+-parseInt(o(276))/8*(parseInt(o(227))/9)+parseInt(o(221))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const G=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(226)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){G(this,(function(){const n=R,t=new RegExp(n(237)),o=new RegExp(n(218),"i"),e=E("init");t[n(246)](e+n(238))&&o[n(246)](e+n(214))?E():e("0")}))()}();const F=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[R(226)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function R(n,t){const o=k();return R=function(n,t){return o[n-=212]},R(n,t)}F(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(225)+n(281)+");")()}catch(o){t=window}return t}(),o=t[n(283)]=t[n(283)]||{},e=[n(220),"warn",n(277),n(252),"exception",n(217),n(270)];for(let r=0;r<e[n(239)];r++){const t=F[n(267)][n(228)].bind(F),i=e[r],a=o[i]||t;t[n(242)]=F[n(235)](F),t.toString=a.toString.bind(a),o[i]=t}}))();const B={position:[0,6,0]},M=[T(262)],N=u({__name:T(229),setup(o){const e=T,r=new c({title:e(212),expanded:!0}),i=f({glowColor:e(265),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(244)],depthTest:!1}),a=new C,u=new l(new(s[e(247)])(4,3.8,128,128),a);return r[e(230)](i,e(279),{label:"颜色"}),r.addBinding(i,"falloff",{label:"衰减",min:0,max:10,step:.1}),r.addBinding(i,e(282),{label:"内半径",min:-5,max:5,step:.1}),r.addBinding(i,e(243),{label:"清晰度",min:0,max:10,step:.1}),r[e(230)](i,e(269),{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,"side",{label:e(271),options:{FrontSide:s[e(244)],BackSide:s[e(245)],DoubleSide:s[e(258)]}}),p((()=>{const n=e;a[n(233)].falloff.value=i[n(219)],a[n(233)][n(279)].value=new(s[n(263)])(i.glowColor),a[n(233)][n(282)][n(255)]=i[n(282)],a[n(233)].glowSharpness.value=i.glowSharpness,a[n(233)][n(269)][n(255)]=i[n(269)],a[n(223)]=i[n(223)]})),(o,r)=>{const i=e,a=d("TresCanvas");return g(),v(a,{"window-size":""},{default:m((()=>[r[1]||(r[1]=w(i(253),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=w(i(241),{intensity:1.5},null,-1)),r[3]||(r[3]=w(i(250),{position:[100,100,60],intensity:20},null,-1)),h(y(n),{autoRotate:""}),r[4]||(r[4]=w(i(272),{args:[20,10]},null,-1)),w(i(234),B,[r[0]||(r[0]=w(i(222),null,[w(i(275),{args:[4,.5,128,128]}),w(i(236),{color:i(231),roughness:.2,clearcoat:1})],-1)),w(i(259),{object:y(u)},null,8,M)]),(g(),v(b,null,{default:m((()=>[h(y(t),{files:[i(224),"neg-x.jpg",i(257),i(273),i(251),i(278)],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,[i(268)])])),_:1}))])),_:1})}}});function E(n){function t(n){const o=R;if(typeof n===o(249))return function(n){}.constructor("while (true) {}")[o(226)](o(266));1!==(""+n/n)[o(239)]||n%20==0?function(){return!0}.constructor(o(274)+"gger")[o(264)](o(232)):function(){return!1}.constructor(o(274)+o(256)).apply(o(248)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{N as default};
