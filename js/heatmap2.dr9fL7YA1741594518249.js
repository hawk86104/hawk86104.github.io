import{P as t}from"./tweakpane.yDiyAAkA1741594518249.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.KQMNCWkC1741594518249.js";import{_ as r}from"./heatmap.js-fix.nNFfKmuX1741594518249.js";import{a as i,_ as c,c3 as s,B as u,l as a}from"./three.8y0_KTxz1741594518249.js";import{r as p}from"./utils.RKdb_ZkT1741594518249.js";import{d as f}from"./pinia.3XPyh4eK1741594518249.js";import{b as l,d,a2 as h,o as m,H as g,N as y,u as v,F as b,q as I,W as w,P as _,R as j,L as x,O as z,a3 as B,r as S,j as M,g as R,m as D}from"./@vue.NRI7TcgI1741594518249.js";import{c as E,d as O,a as Z}from"./three-mesh-bvh.BGX00vVS1741594518249.js";import{_ as A}from"./@fesjs._tIE6C7-1741594518249.js";import"./@tresjs.gjafZgVK1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./three-custom-shader-material.Bah0Myv81741594518249.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741594518249.js";import"./@amap.gPFcnYXF1741594518249.js";import"./vue-router.qtZNKV811741594518249.js";import"./lodash-es.pklfUAS51741594518249.js";import"./@qlin.yHhFDldE1741594518249.js";import"./@floating-ui.BPbuo5Gx1741594518249.js";import"./@juggle.7yjBMqoW1741594518249.js";function P(t,n){const e=q();return(P=function(t,n){return e[t-=484]})(t,n)}!function(t,n){const e=P,o=q();for(;;)try{if(539649===-parseInt(e(511))/1+parseInt(e(492))/2*(parseInt(e(501))/3)+-parseInt(e(522))/4*(-parseInt(e(491))/5)+parseInt(e(537))/6*(-parseInt(e(507))/7)+-parseInt(e(536))/8*(-parseInt(e(518))/9)+parseInt(e(495))/10*(parseInt(e(502))/11)+-parseInt(e(499))/12*(parseInt(e(524))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(533)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(){const t=["body","271043IKqqHW","bind","width","chain","absolute","gger","rgb(0,255,0)","3051NcAJzd","style","yellow","display","354668cWTosB","call","52ySjmnS","table","setData","prototype","height","test","push","position","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","createElement","log","10120PBfzXv","30lmfYON","debu","toString","while (true) {}","input","error","length","rgb(255,0,0)","_config","console","info","function *\\( *\\)","10tPjXyz","2ggnJgH","randInt","left","10QSbusl","__proto__","init","return (function() ","2903916qRxxjb","trace","3126351xmjjNA","11338393fBzyhM","counter","constructor","string","create","1260539HsJiSO","action","appendChild"];return(q=function(){return t})()}!function(){T(this,(function(){const t=P,n=new RegExp(t(490)),e=new RegExp(t(532),"i"),o=H(t(497));n[t(529)](o+t(514))&&e[t(529)](o+t(541))?H():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(533)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();F(void 0,(function(){const t=P;let n;try{n=Function(t(498)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(488)]=n[t(488)]||{},o=[t(535),"warn",t(489),t(484),"exception",t(525),t(500)];for(let i=0;i<o[t(485)];i++){const n=F[t(504)][t(527)].bind(F),r=o[i],c=e[r]||n;n[t(496)]=F[t(512)](F),n[t(539)]=c[t(539)].bind(c),e[r]=n}}))();const k=(t,n)=>t.getValueAt(n)+-10;function H(t){function n(t){const e=P;if(typeof t===e(505))return function(t){}[e(504)](e(540))[e(533)](e(503));1!==(""+t/t)[e(485)]||t%20==0?function(){return!0}[e(504)](e(538)+"gger")[e(523)](e(508)):function(){return!1}[e(504)](e(538)+e(516))[e(533)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=U;!function(t,n){const e=U,o=W();for(;;)try{if(728989===-parseInt(e(246))/1+-parseInt(e(277))/2+parseInt(e(274))/3*(-parseInt(e(262))/4)+parseInt(e(251))/5*(-parseInt(e(259))/6)+parseInt(e(272))/7+parseInt(e(267))/8*(-parseInt(e(265))/9)+parseInt(e(273))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(255)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=U,n=new RegExp(t(250)),e=new RegExp(t(263),"i"),o=J(t(261));n[t(256)](o+t(245))&&e[t(256)](o+t(279))?J():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(255)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["44610690uIBdvs","100545iqNZxo","bind","gger","2602750hYBxPd","constructor","input","length","warn","chain","686872sovARK","console","__proto__","info","function *\\( *\\)","2317195DJyBtp","buildingsHeatmap","error","debu","apply","test","while (true) {}","prototype","18wUwNyt","return (function() ","init","4lvjIgd","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"27mqoznZ","value","3079304PnKYTB","exception","string","counter","toString","5843166yWyplm"];return(W=function(){return t})()}function U(t,n){const e=W();return(U=function(t,n){return e[t-=245]})(t,n)}N(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(260)+t(264)+");")()}catch(e){n=window}return n}(),e=n[t(247)]=n[t(247)]||{},o=["log",t(281),t(249),t(253),t(268),"table","trace"];for(let r=0;r<o[t(280)];r++){const n=N.constructor[t(258)].bind(N),i=o[r],c=e[i]||n;n[t(248)]=N[t(275)](N),n[t(271)]=c[t(271)].bind(c),e[i]=n}}))();const L=f(Y(252),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[U(266)]=n},setTemperature:function(t){n.value=t}}}));function J(t){function n(t){const e=U;if(typeof t===e(269))return function(t){}[e(278)](e(257)).apply(e(270));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(254)+e(276)).call("action"):function(){return!1}.constructor(e(254)+e(276))[e(255)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=G;!function(t,n){const e=G,o=X();for(;;)try{if(485785===-parseInt(e(346))/1*(parseInt(e(311))/2)+-parseInt(e(347))/3+parseInt(e(345))/4*(-parseInt(e(322))/5)+parseInt(e(376))/6+parseInt(e(352))/7*(-parseInt(e(327))/8)+-parseInt(e(361))/9+parseInt(e(343))/10*(parseInt(e(367))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(365)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["computeBoundsTree","3840012TVhQGU","chain","raycast",'{}.constructor("return this")( )',"table","rotation-x","30lFBerp","matrix","action","object","applyMatrix4","log","Matrix4","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","bind","stateObject","$patch","15Xyjneg","counter","gger","test","debu","8ByWwzY","opacity","info","uOpacity","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","Texture","primitive","uniforms","width","normal","attributes","clone","warn","_renderer","30yxxIxY","toString","496388RwJjFp","28649yPnkMK","183450SjyYmb","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","geometry","while (true) {}","land","5051242yTSsrO","children","return (function() ","value","数值：","call","console","needsUpdate","disposeBoundsTree","8067276TQqbzq","_config","DoubleSide","setTemperature","apply","Mesh","8532073diKTLY","BufferGeometry","setShowDiv","makeRotationX","model","prototype","city","constructor"];return(X=function(){return t})()}!function(){V(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(332),"i"),o=et("init");n[t(325)](o+t(377))&&e[t(325)](o+"input")?et():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(365)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(t,n){const e=X();return(G=function(t,n){return e[t-=307]})(t,n)}C(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(354)+t(308)+");")()}catch(e){n=window}return n}(),e=n[t(358)]=n[t(358)]||{},o=["log",t(341),t(329),"error","exception",t(309),"trace"];for(let r=0;r<o[t(333)];r++){const n=C[t(374)].prototype.bind(C),i=o[r],c=e[i]||n;n.__proto__=C[t(319)](C),n[t(344)]=c[t(344)].bind(c),e[i]=n}}))();const Q=[K(314),K(310)],tt=[K(314)],nt=d({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=G;u.prototype[t(375)]=E,c[t(368)][t(372)][t(360)]=O,c[t(366)][t(372)][t(307)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document[o(534)]("heatmap-canvas");return i[o(519)][o(531)]=o(515),!e&&(i[o(519)][o(521)]="none"),i.style.top="0",i[o(519)][o(494)]="0",document[o(510)][o(509)](i),r[o(506)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(517),.85:o(520),1:o(486)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n[e(530)]({x:i.randInt(1,t[e(487)][e(513)]),y:i[e(493)](1,t[e(487)][e(528)]),value:i.randInt(-10,36)}),o++}t[e(526)]({max:36,min:-10,data:n})})(o);const f=new(c[n(334)])(o[n(342)].canvas);f[n(359)]=!0;const l=e[n(371)][n(373)].clone();delete l[n(349)][n(339)][n(338)],delete l.geometry[n(339)].uv;const d=l[n(349)][n(340)]()[n(315)](l[n(312)]),I=e[n(371)][n(351)].clone();delete I[n(349)].attributes.normal;const w=I[n(349)][n(340)]()[n(315)](I[n(312)]),_=s([d,w]);_.applyMatrix4((new(c[n(317)]))[n(370)](Math.PI/2)),p(_),_.computeBoundsTree();const j=(t=>{const o=n;return new a({vertexShader:o(318),fragmentShader:o(348),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(363)]})})(f),x=new(c[n(366)])(_,j);h((()=>{const t=n;e[t(328)]&&(j[t(336)][t(330)][t(355)]=e.opacity)}));const z=L(),B=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(362)][e(337)],y:(1-t.uv.y)*o._config.height};console[e(316)](e(356),t),console.log("数值———：",k(o,n)),z[e(364)](k(o,n))}},S=t=>{t&&z[n(321)]({showDiv:!0})},M=t=>{t&&z[n(369)](!1)};return(t,o)=>{const r=n;return m(),g(b,null,[y(r(335),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:B,onPointerEnter:S,onPointerLeave:M},null,40,Q),y(r(335),{object:e.model.model[r(353)][0][r(340)]()},null,8,tt)],64)}}});function et(t){function n(t){const e=G;if(typeof t===e(331))return function(t){}[e(374)](e(350))[e(365)](e(323));1!==(""+t/t)[e(333)]||t%20==0?function(){return!0}.constructor("debugger")[e(357)](e(313)):function(){return!1}[e(374)](e(326)+e(324))[e(365)](e(320)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=A({__name:"dataDiv",setup(t){const n=L(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:z(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=st;!function(t,n){const e=st,o=at();for(;;)try{if(788698===-parseInt(e(410))/1+-parseInt(e(430))/2+-parseInt(e(419))/3*(parseInt(e(437))/4)+parseInt(e(411))/5*(parseInt(e(439))/6)+-parseInt(e(406))/7*(-parseInt(e(435))/8)+parseInt(e(414))/9+parseInt(e(440))/10*(parseInt(e(441))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(431)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=st,n=new RegExp(t(433)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=pt(t(429));n[t(417)](o+t(416))&&e.test(o+t(447))?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(431)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=at();return(st=function(t,n){return e[t-=405]})(t,n)}ct(void 0,(function(){const t=st;let n;try{n=Function(t(427)+t(421)+");")()}catch(r){n=window}const e=n[t(446)]=n.console||{},o=["log",t(422),t(423),"error",t(408),t(420),t(449)];for(let i=0;i<o[t(418)];i++){const n=ct[t(405)][t(445)][t(425)](ct),r=o[i],c=e[r]||n;n[t(438)]=ct[t(425)](ct),n[t(428)]=c[t(428)][t(425)](c),e[r]=n}}))();const ut=d({__name:rt(424),async setup(r){const i=rt;let c,s;const u=l(!1),a=([c,s]=B((()=>o())),c=await c,s(),c);u[i(413)]=!0;const p=S({width:1,color:i(426),opacity:1,show:!0}),f=S({opacity:.9});return new t({title:"参数",expanded:!0})[i(409)](f,i(412),{label:i(443),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(b,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[M(nt,D({model:v(a)},f),null,16,[r(434)]),M(n,D(p,{builds:v(a)[r(444)]}),null,16,[r(432)])])),_:1}),M(ot)],64)}}});function at(){const t=["table",'{}.constructor("return this")( )',"warn","info","heatmap2","bind","#000","return (function() ","toString","init","1486018ZqdeHl","apply","builds","function *\\( *\\)","model","25552ZADtzk","gger","284SRMujw","__proto__","78biRGqy","190BYrDyy","1299111zWDuFx","counter","透明度","city","prototype","console","input","stateObject","trace","constructor","28zERpfc","action","exception","addBinding","1487688ojFOqd","245710iZVNhO","opacity","value","6259275zoMBVt","call","chain","test","length","24153HLHNdy"];return(at=function(){return t})()}function pt(t){function n(t){const e=st;if("string"==typeof t)return function(t){}[e(405)]("while (true) {}")[e(431)](e(442));1!==(""+t/t).length||t%20==0?function(){return!0}[e(405)]("debu"+e(436))[e(415)](e(407)):function(){return!1}[e(405)]("debu"+e(436))[e(431)](e(448)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
