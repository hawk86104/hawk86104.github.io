import{U as n,C as t}from"./@tresjs.XlmHwCPa1735906732968.js";import{m as o,ba as e,C as r,aB as i,a0 as a,_ as s}from"./three.VhLXWX0H1735906732968.js";import{P as l}from"./tweakpane.yHWGBmom1735906732968.js";import{d as c,r as u,a1 as f,e as p,o as g,f as d,g as m,J as v,j as w,u as h,al as y}from"./@vue.yG49nQHr1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";function x(n,t){var o=I();return(x=function(n,t){return o[n-=231]})(n,t)}function I(){var n=['{}.constructor("return this")( )',"input","1726920TIZsXN","function *\\( *\\)","falloff","opacity","746184wTShff","return (function() ","prototype","glowSharpness","gger","apply","36429VRUYFT","init","log","1156qxxskA","blending","bind","depthTest","transparent","fragmentShader","uniforms","2qCyHxI","trace","info","toString","error","3730ICxPWM","glowInternalRadius","blendMode","counter","58982bQHYVG","table","glowColor","side","call","7049430AEEnkl","chain","test","exception","166367gcMrKb","stateObject","length","action","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","114gfhIjf","constructor","debu"];return(I=function(){return n})()}!function(n,t){for(var o=x,e=I();;)try{if(110122===parseInt(o(247))/1*(parseInt(o(277))/2)+-parseInt(o(267))/3+-parseInt(o(270))/4*(-parseInt(o(234))/5)+parseInt(o(252))/6*(parseInt(o(238))/7)+parseInt(o(261))/8+parseInt(o(257))/9+-parseInt(o(243))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var b=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(266)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){b(this,(function(){var n=x,t=new RegExp(n(258)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=S(n(268));t[n(245)](e+n(244))&&o[n(245)](e+n(256))?S():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(266)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();j(void 0,(function(){for(var n=x,t=function(){var n,t=x;try{n=Function(t(262)+t(255)+");")()}catch(o){n=window}return n}(),o=t.console=t.console||{},e=[n(269),"warn",n(231),n(233),n(246),n(239),n(278)],r=0;r<e[n(249)];r++){var i=j[n(253)][n(263)][n(272)](j),a=e[r],s=o[a]||i;i.__proto__=j[n(272)](j),i[n(232)]=s[n(232)][n(272)](s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=x;super(),this.vertexShader="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this[t(275)]=t(251),this[t(276)]={opacity:new e(void 0!==n[t(260)]?n[t(260)]:1),glowInternalRadius:new e(void 0!==n[t(235)]?n[t(235)]:6),glowSharpness:new e(void 0!==n[t(264)]?n[t(264)]:.5),falloff:new e(void 0!==n[t(259)]?n[t(259)]:.1),glowColor:new e(void 0!==n.glowColor?new r(n[t(240)]):new r("#00d5ff"))},this.setValues(n),this[t(273)]=void 0!==n[t(273)]&&n[t(273)],this[t(271)]=void 0!==n[t(236)]?n[t(236)]:i,this[t(274)]=!0,this[t(241)]=void 0!==n.side?n.side:a}};function S(n){function t(n){var o=x;if("string"==typeof n)return function(n){}[o(253)]("while (true) {}").apply(o(237));1!==(""+n/n)[o(249)]||n%20==0?function(){return!0}[o(253)](o(254)+o(265))[o(242)](o(250)):function(){return!1}[o(253)](o(254)+o(265)).apply(o(248)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const C=k;!function(n,t){const o=k,e=P();for(;;)try{if(366046===parseInt(o(366))/1+-parseInt(o(331))/2+-parseInt(o(314))/3*(parseInt(o(339))/4)+parseInt(o(340))/5+-parseInt(o(350))/6+-parseInt(o(323))/7+parseInt(o(334))/8*(parseInt(o(312))/9))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[k(328)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){T(this,(function(){const n=k,t=new RegExp(n(344)),o=new RegExp(n(329),"i"),e=N(n(358));t[n(315)](e+n(351))&&o.test(e+n(330))?N():e("0")}))()}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[k(328)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function k(n,t){const o=P();return(k=function(n,t){return o[n-=312]})(n,t)}function P(){const n=["TresAmbientLight","365034huYNDN","chain","toString","TorusKnotGeometry","blue","bind","falloff","TresDirectionalLight","init","glowSharpness","primitive","neg-z.jpg","TresMeshPhysicalMaterial","TresGroup","constructor","FrontSide","626658GlOdqA","#a058c1","return (function() ","prototype","内半径","while (true) {}","action","log","pos-x.jpg","debu","console","Mesh","材质面","length","addBinding","call","uniforms","side","清晰度","864cRsquO","TresGridHelper","3JObEPx","test","Color","gger","warn","DoubleSide","neg-y.jpg","BackSide","counter","3341779VSFWJC","object","string","TresCanvas","__proto__","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","838838JHBtAk","opacity","value","23296LRATHD","stateObject","TresMesh","fakeGlow","table","1130004zxNaRK","3499960eeXtgf","glowColor","TresTorusKnotGeometry","pos-y.jpg","function *\\( *\\)","glowInternalRadius","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","TresPerspectiveCamera","error"];return(P=function(){return n})()}R(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function(n(368)+'{}.constructor("return this")( ));')()}catch(o){t=window}return t}(),o=t[n(376)]=t.console||{},e=[n(373),n(318),"info",n(348),"exception",n(338),"trace"];for(let r=0;r<e[n(379)];r++){const t=R[n(364)][n(369)][n(355)](R),i=e[r],a=o[i]||t;t[n(327)]=R[n(355)](R),t.toString=a[n(352)][n(355)](a),o[i]=t}}))();const z={position:[0,6,0]},G=[C(324)],M=c({__name:C(337),setup(o){const e=C,r=new l({title:"辉光参数",expanded:!0}),i=u({glowColor:e(367),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(365)],depthTest:!1}),a=new _,c=new(s[e(377)])(new(s[e(353)])(4,3.8,128,128),a);return r[e(380)](i,"glowColor",{label:"颜色"}),r[e(380)](i,e(356),{label:"衰减",min:0,max:10,step:.1}),r[e(380)](i,e(345),{label:e(370),min:-5,max:5,step:.1}),r[e(380)](i,"glowSharpness",{label:e(384),min:0,max:10,step:.1}),r[e(380)](i,e(332),{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,"side",{label:e(378),options:{FrontSide:s[e(365)],BackSide:s[e(321)],DoubleSide:s[e(319)]}}),f((()=>{const n=e;a.uniforms[n(356)][n(333)]=i.falloff,a[n(382)][n(341)][n(333)]=new(s[n(316)])(i.glowColor),a[n(382)][n(345)][n(333)]=i[n(345)],a.uniforms[n(359)][n(333)]=i.glowSharpness,a.uniforms[n(332)][n(333)]=i[n(332)],a.side=i[n(383)]})),(o,r)=>{const i=e,a=p(i(326));return g(),d(a,{"window-size":""},{default:m((()=>[r[1]||(r[1]=v(i(347),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=v(i(349),{intensity:1.5},null,-1)),r[3]||(r[3]=v(i(357),{position:[100,100,60],intensity:20},null,-1)),w(h(n),{autoRotate:""}),r[4]||(r[4]=v(i(313),{args:[20,10]},null,-1)),v(i(363),z,[r[0]||(r[0]=v(i(336),null,[v(i(342),{args:[4,.5,128,128]}),v(i(362),{color:i(354),roughness:.2,clearcoat:1})],-1)),v(i(360),{object:h(c)},null,8,G)]),(g(),d(y,null,{default:m((()=>[w(h(t),{files:[i(374),"neg-x.jpg",i(343),i(320),"pos-z.jpg",i(361)],path:i(346)})])),_:1}))])),_:1})}}});function N(n){function t(n){const o=k;if(typeof n===o(325))return function(n){}[o(364)](o(371))[o(328)](o(322));1!==(""+n/n)[o(379)]||n%20==0?function(){return!0}[o(364)](o(375)+o(317))[o(381)](o(372)):function(){return!1}.constructor(o(375)+o(317))[o(328)](o(335)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{M as default};
