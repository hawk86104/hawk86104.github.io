import{_ as t,bO as n,C as o}from"./three.RUAk_tvU1742436572432.js";import{a as r}from"./@tresjs.Uh9iM8du1742436572432.js";import{d as e,b as a,a3 as c,w as s,o as i,H as u,N as f,aj as l,ak as p}from"./@vue.deO5D3Lf1742436572432.js";!function(t,n){const o=d,r=_();for(;;)try{if(922148===parseInt(o(418))/1*(-parseInt(o(405))/2)+-parseInt(o(422))/3*(-parseInt(o(410))/4)+-parseInt(o(391))/5+-parseInt(o(414))/6*(parseInt(o(435))/7)+-parseInt(o(429))/8*(parseInt(o(417))/9)+parseInt(o(406))/10*(parseInt(o(395))/11)+parseInt(o(426))/12)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(400)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function d(t,n){const o=_();return(d=function(t,n){return o[t-=389]})(t,n)}!function(){h(this,(function(){const t=d,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=w(t(389));n[t(394)](r+t(424))&&o[t(394)](r+t(427))?w():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(400)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=d,n=function(){const t=d;let n;try{n=Function("return (function() "+t(397)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(416)]||{},r=[t(409),t(413),t(420),t(434),t(436),"table",t(421)];for(let e=0;e<r[t(423)];e++){const n=g[t(415)][t(433)][t(432)](g),a=r[e],c=o[a]||n;n[t(438)]=g[t(432)](g),n[t(439)]=c[t(439)].bind(c),o[a]=n}}))();const m=()=>{const n=d;return n(390)+t[n(407)].common+n(404)+t[n(407)][n(412)]+n(404)+t[n(407)][n(419)]+n(408)+t[n(407)][n(441)]+"\n          "+t[n(407)][n(440)]+n(401)+t[n(407)][n(425)]+n(401)+t[n(407)].project_vertex+n(401)+t[n(407)][n(403)]+n(401)+t[n(407)].shadowmap_vertex+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},v=()=>{const o=d;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[o(396)]+o(443)+t[o(407)][o(402)]+"\n\t "+n.bsdfs+o(443)+t[o(407)][o(399)]+o(443)+n[o(428)]+o(443)+t[o(407)][o(411)]+o(431)};function w(t){function n(t){const o=d;if(typeof t===o(393))return function(t){}[o(415)](o(442))[o(400)](o(430));1!==(""+t/t)[o(423)]||t%20==0?function(){return!0}.constructor(o(398)+o(437))[o(392)]("action"):function(){return!1}.constructor(o(398)+o(437)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function _(){const t=["test","7491EaZIyN","common",'{}.constructor("return this")( )',"debu","lights_pars_begin","apply","\n          ","packing","worldpos_vertex","\n      \t","2fjNKfK","9010cbycqY","ShaderChunk","\n       void main() {\n\t\t\t\t\t","log","496GccawF","shadowmask_pars_fragment","bsdfs","warn","64248twhKxa","constructor","console","504cYXDCe","549169UHQDSZ","shadowmap_pars_vertex","info","trace","21999QCChXp","length","chain","begin_vertex","27686112YKnFzf","input","shadowmap_pars_fragment","105312LLMqLJ","counter","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","bind","prototype","error","847umDyfy","exception","gger","__proto__","toString","defaultnormal_vertex","beginnormal_vertex","while (true) {}","\n\t ","init","\n       varying vec2 vUv;\n\t\t\t \t","1629400QSTGkd","call","string"];return(_=function(){return t})()}const y=j;!function(t,n){const o=j,r=I();for(;;)try{if(479225===-parseInt(o(431))/1*(-parseInt(o(433))/2)+parseInt(o(474))/3*(-parseInt(o(490))/4)+-parseInt(o(473))/5+-parseInt(o(461))/6+parseInt(o(448))/7*(-parseInt(o(455))/8)+-parseInt(o(450))/9+parseInt(o(454))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(482)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function I(){const t=['{}.constructor("return this")( )',"color","RepeatWrapping","while (true) {}","4321080xiyoCf","uColor","gger","toString","UniformsLib","error","fEdge","Color","wrapT","args","exception","input","1786540HNcLRk","3gjTtCO","#999","prototype","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","wrapS","return (function() ","apply","init","__proto__","function *\\( *\\)","tmRef","uniforms","console","constructor","2815944wOrJOx","rotation-x","71916TBVWyD","edge","10YrhyHN","size","stateObject","length","uShadowColor","merge","log","value","shadowColor","bind","warn","#990","TresMesh","TresPlaneGeometry","TresShaderMaterial","671734SezJZW","DoubleSide","5590602JiFIKZ","debu","counter","UniformsUtils","30021070hWDasg","40ZyYnhZ","test"];return(I=function(){return t})()}!function(){x(this,(function(){const t=j,n=new RegExp(t(485)),o=new RegExp(t(478),"i"),r=k(t(483));n.test(r+"chain")&&o[t(456)](r+t(472))?k():r("0")}))()}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();b(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(481)+t(457)+");")()}catch(o){n=window}return n}(),o=n[t(488)]=n[t(488)]||{},r=[t(439),t(443),"info",t(466),t(471),"table","trace"];for(let e=0;e<r[t(436)];e++){const n=b.constructor[t(476)][t(442)](b),a=r[e],c=o[a]||n;n[t(484)]=b[t(442)](b),n.toString=c[t(464)][t(442)](c),o[a]=n}}))();const C=[y(430)],S=[y(470)];function j(t,n){const o=I();return(j=function(t,n){return o[t-=430]})(t,n)}const T=e({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:y(444)},shadowColor:{default:y(475)},edge:{default:.35}},async setup(n){const e=y;let h,d;const g=n,w=a(),{map:_}=([h,d]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(480)]=_[e(469)]=t[e(459)];const x={uniforms:t[e(453)][e(438)]([t[e(465)].lights,{uTexture:{type:"t",value:_},uColor:{value:new(t[e(468)])(g[e(458)])},uShadowColor:{value:new o(g[e(441)])},fEdge:{type:"f",value:g[e(432)]}}]),side:t[e(449)],vertexShader:m(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>g.edge),(t=>{const n=e;x.uniforms[n(467)][n(440)]=t})),s((()=>g[e(458)]),(n=>{const o=e;x[o(487)][o(462)].value=new(t[o(468)])(g[o(458)])})),s((()=>g[e(441)]),(n=>{const o=e;x[o(487)][o(437)][o(440)]=new(t[o(468)])(g.shadowColor)})),(t,n)=>{const o=e;return i(),u(o(445),{ref_key:o(486),ref:w,"rotation-x":-Math.PI/2},[f(o(446),{args:g[o(434)]},null,8,S),f(o(447),l(p(x)),null,16)],8,C)}}});function k(t){function n(t){const o=j;if("string"==typeof t)return function(t){}.constructor(o(460))[o(482)](o(452));1!==(""+t/t)[o(436)]||t%20==0?function(){return!0}[o(489)](o(451)+o(463))[o(477)](o(479)):function(){return!1}[o(489)](o(451)+o(463))[o(482)](o(435)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
