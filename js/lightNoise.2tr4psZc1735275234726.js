import{_ as n,h as t,N as e,ab as o,W as r,c5 as i,c3 as s,c4 as a,cf as c,m as l}from"./three.jpi2UCEx1735275234726.js";import{e as u,m as f,U as p}from"./@tresjs.fCqPNEAw1735275234726.js";import{d as v,o as m,D as g,J as d,u as h,F as b,w as y,j as x,x as w,e as _,g as I,aj as T,ak as U}from"./@vue.u2cBPEWn1735275234726.js";import{_ as S}from"./@fesjs.Okr_vpx41735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";import"./vue-router.bq4JfoTS1735275234726.js";import"./lodash-es.guXTxyfJ1735275234726.js";import"./@qlin.yHhFDldE1735275234726.js";import"./pinia.BXllYoho1735275234726.js";import"./vue-demi.C4xddsk91735275234726.js";import"./@floating-ui.BPbuo5Gx1735275234726.js";import"./@juggle.7yjBMqoW1735275234726.js";var B="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const D=A;!function(n,t){const e=A,o=z();for(;;)try{if(194924===parseInt(e(372))/1*(parseInt(e(346))/2)+-parseInt(e(385))/3*(parseInt(e(353))/4)+-parseInt(e(338))/5*(parseInt(e(395))/6)+parseInt(e(350))/7+-parseInt(e(397))/8+parseInt(e(362))/9+-parseInt(e(386))/10*(parseInt(e(361))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(328)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){j(this,(function(){const n=A,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(339),"i"),o=R(n(337));t[n(390)](o+n(348))&&e[n(390)](o+"input")?R():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(328)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(){const n=["warn","globalUniforms","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","apply","instanceCount","push","toString","Vector4","length","bind","debu","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","init","115DjcWdo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MeshBasicMaterial","\n      uniform vec4 luces[","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","#include <dithering_fragment>","string","table","722sbILLo","material","chain","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","2363949LPUNmY","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","info","832fDwTyz","exception","vertexShader","replace","MathUtils","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","globalBloom","geometry","11lDNRWZ","2074320oRSmcg","#include <begin_vertex>","setAttribute","\n    ","InstancedBufferGeometry","stateObject","SphereGeometry","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","cos",'{}.constructor("return this")( )',"89IpYqMH","while (true) {}","console","uniforms","log","fragmentShader","prototype","trace","constructor","TresPlaneGeometry","InstancedBufferAttribute","rotateX","noiseTex","12zjmmOv","7550yKJvTk","attributes","instData","call","test","TresMesh","error","copy","counter","47808gTCdqs","gger","1764328uByrPT","randFloat","luces"];return(z=function(){return n})()}function A(n,t){const e=z();return(A=function(n,t){return e[n-=327]})(n,t)}N(void 0,(function(){const n=A;let t;try{t=Function("return (function() "+n(371)+");")()}catch(r){t=window}const e=t[n(374)]=t[n(374)]||{},o=[n(376),n(400),n(352),n(392),n(354),n(345),n(379)];for(let i=0;i<o[n(333)];i++){const t=N[n(380)][n(378)].bind(N),r=o[i],s=e[r]||t;t.__proto__=N[n(334)](N),t[n(331)]=s.toString[n(334)](s),e[r]=t}}))();const C=[D(360),D(347)],E=[D(347)],P=[D(383)],M=100,F=v({__name:"lucesPlane",props:{globalUniforms:{}},setup(o){const r=D,i=o,s=[],a=[],c=new(n[r(368)])(1,36,18),l=(new(n[r(366)]))[r(393)](c);l[r(329)]=M;const f=[];for(let e=0;e<M;e++){let e=t.randFloatSpread(49),o=n[r(357)].randFloatSpread(49),i=n[r(357)][r(398)](.0625,.125),c=t[r(398)](1,3);f[r(330)](e,o,i),a[r(330)](new(n[r(332)])(e,o,c,n[r(357)][r(398)](1,2))),s.push(new(n[r(332)])(e,o,i,c))}l[r(364)](r(388),new(n[r(382)])(new Float32Array(f),3));const p=new(n[r(340)])({color:16720418,onBeforeCompile:n=>{const t=r;n[t(375)][t(384)]=i[t(401)].noise,n.vertexShader=(t(342)+n[t(355)]+t(365))[t(356)](t(363),t(336))}}),v={luces:{value:s}},y=new e({color:2363940,onBeforeCompile:n=>{const t=r;n.uniforms.luces=v[t(399)],n[t(375)][t(359)]=i[t(401)][t(359)],n[t(375)][t(384)]=i[t(401)].noise,n[t(355)]=(t(327)+n[t(355)]+t(365))[t(356)](t(363),t(358)),n.fragmentShader=(t(341)+M+"];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      "+n[t(377)]+t(365))[t(356)]("#include <fog_fragment>",t(369)+M+t(349)).replace(t(343),t(351))}}),{onLoop:x}=u();return x((({elapsed:n})=>{const t=r;for(let e=0;e<M;e++){const o=a[e];let r=(o.y+n+25)%50-25;s[e].y=r,s[e].w=(Math.sin(n*o.w*(e%3+1))*Math[t(370)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,l[t(387)][t(388)].setY(e,r)}l[t(387)][t(388)].needsUpdate=!0})),(n,t)=>{const e=r;return m(),g(b,null,[d(e(391),{geometry:h(l),material:h(p)},null,8,C),d(e(391),{material:h(y)},[d(e(381),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,P)],8,E)],64)}}});function R(n){function t(n){const e=A;if(typeof n===e(344))return function(n){}[e(380)](e(373))[e(328)](e(394));1!==(""+n/n)[e(333)]||n%20==0?function(){return!0}[e(380)]("debu"+e(396))[e(389)]("action"):function(){return!1}[e(380)](e(335)+e(396)).apply(e(367)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function k(n,t){const e=O();return(k=function(n,t){return e[n-=317]})(n,t)}const G=k;!function(n,t){const e=k,o=O();for(;;)try{if(786911===-parseInt(e(335))/1*(-parseInt(e(333))/2)+parseInt(e(361))/3*(-parseInt(e(338))/4)+parseInt(e(340))/5+-parseInt(e(322))/6*(parseInt(e(320))/7)+-parseInt(e(357))/8+-parseInt(e(345))/9*(-parseInt(e(350))/10)+parseInt(e(337))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(328)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=k,t=new RegExp(n(324)),e=new RegExp(n(329),"i"),o=$(n(321));t[n(331)](o+"chain")&&e[n(331)](o+n(364))?$():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(328)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function O(){const n=["624052LKAgVw","time","7657845crppBf","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","bind","MeshBasicMaterial","constructor","27esanyJ","warn","counter","TresPlaneGeometry","trace","4407630WyreXI","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","gger","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","prototype","portal","11590360fGdDce","vec4 diffuseColor = vec4( diffuse, opacity );","replace","length","12GVsmfT","globalBloom","globalUniforms","input","material","fragmentShader","while (true) {}","info","5165111nXjypu","init","12pZzUAb","log","function *\\( *\\)","debu","\n    ","uniforms","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","test","exception","8oEJAFx","stateObject","319883jxFxXU","TresMesh","2223254Rlawvu"];return(O=function(){return n})()}L(void 0,(function(){const n=k,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t.console=t.console||{},o=[n(323),n(346),n(319),"error",n(332),"table",n(349)];for(let r=0;r<o[n(360)];r++){const t=L.constructor[n(355)].bind(L),i=o[r],s=e[i]||t;t.__proto__=L[n(342)](L),t.toString=s[n(330)].bind(s),e[i]=t}}))();const V=[G(365)],X=v({__name:G(356),props:{globalUniforms:{}},setup(t){const e=G,o=t,r=new(n[e(343)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(327)].time=o.globalUniforms[t(339)],n[t(327)][t(362)]=o[t(363)][t(362)],n.fragmentShader=(t(353)+B+t(341)+n[t(317)]+t(326))[t(359)](t(358),t(354))[t(359)]("#include <dithering_fragment>",t(351))}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return m(),g(o(336),{material:h(r),position:[0,3.75,-12]},t[0]||(t[0]=[d(o(348),{args:[5,5]},null,-1)]),8,V)}}});function $(n){function t(n){const e=k;if("string"==typeof n)return function(n){}[e(344)](e(318))[e(328)](e(347));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debu"+e(352)).call("action"):function(){return!1}[e(344)](e(325)+e(352))[e(328)](e(334)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Y=J;!function(n,t){const e=J,o=q();for(;;)try{if(870403===-parseInt(e(265))/1+parseInt(e(282))/2+parseInt(e(296))/3+parseInt(e(311))/4*(parseInt(e(299))/5)+parseInt(e(276))/6*(-parseInt(e(304))/7)+parseInt(e(259))/8*(-parseInt(e(292))/9)+parseInt(e(287))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[J(263)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){H(this,(function(){const n=J,t=new RegExp(n(308)),e=new RegExp(n(284),"i"),o=nn(n(277));t.test(o+n(261))&&e[n(289)](o+n(274))?nn():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[J(263)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function J(n,t){const e=q();return(J=function(n,t){return e[n-=255]})(n,t)}K(void 0,(function(){const n=J,t=function(){const n=J;let t;try{t=Function(n(293)+n(271)+");")()}catch(e){t=window}return t}(),e=t.console=t.console||{},o=[n(281),"warn",n(302),n(298),n(283),n(270),"trace"];for(let r=0;r<o.length;r++){const t=K[n(280)].prototype[n(294)](K),i=o[r],s=e[i]||t;t[n(269)]=K[n(294)](K),t.toString=s[n(257)][n(294)](s),e[i]=t}}))();const W=["material",Y(314)];function q(){const n=["noiseTex","522XvXPTL","init","debu","drops","constructor","log","405780Qfprus","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#include <begin_vertex>","LineBasicMaterial","3624280jLfKzK","fragmentShader","test","BufferGeometry","Float32BufferAttribute","9ouipxB","return (function() ","bind","noise","4326696eteMbD","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","error","4897390marAEg","position","replace","info","globalBloom","124495ADOvBH","setAttribute","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","action","function *\\( *\\)","\n      ","TresLineSegments","4xUPNVm","call","randFloatSpread","geometry","counter","uniforms","gger","toString","vertexShader","3965496OBRsXK","MathUtils","chain","stateObject","apply","while (true) {}","73643oIAOxL","push","randFloat","\n    ","__proto__","table",'{}.constructor("return this")( )',"time","length","input"];return(q=function(){return n})()}const Q=v({__name:Y(279),props:{globalUniforms:{}},setup(e){const r=Y,i=e,s=[],a=[];for(let o=0;o<2e4;o++){const e=t[r(313)](35),o=n[r(260)][r(267)](-5,10),i=n[r(260)][r(313)](35),c=t[r(267)](.25,.5);s[r(266)](e,o,i,e,o,i),a[r(266)](0,c,1,c)}const c=new(n[r(290)]);c[r(305)](r(300),new o(s,3)),c[r(305)]("gEnds",new(n[r(291)])(a,2));const l=new(n[r(286)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=r;n[t(255)][t(272)]=i.globalUniforms.time,n[t(255)][t(275)]=i.globalUniforms[t(295)],n[t(255)][t(303)]=i.globalUniforms[t(303)],n[t(258)]=(t(297)+n.vertexShader+t(268))[t(301)](t(285),t(306)),n[t(288)]=("\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      "+B+t(309)+n[t(288)]+t(268))[t(301)]("vec4 diffuseColor = vec4( diffuse, opacity );","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ")}});return(n,t)=>{const e=r;return m(),g(e(310),{material:h(l),geometry:h(c)},null,8,W)}}});function nn(n){function t(n){const e=J;if("string"==typeof n)return function(n){}[e(280)](e(264))[e(263)](e(315));1!==(""+n/n)[e(273)]||n%20==0?function(){return!0}.constructor(e(278)+"gger")[e(312)](e(307)):function(){return!1}[e(280)](e(278)+e(256))[e(263)](e(262)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const tn=rn;!function(n,t){const e=rn,o=sn();for(;;)try{if(255976===-parseInt(e(229))/1+parseInt(e(252))/2*(-parseInt(e(248))/3)+parseInt(e(254))/4*(parseInt(e(227))/5)+-parseInt(e(244))/6*(parseInt(e(217))/7)+parseInt(e(245))/8+parseInt(e(247))/9+-parseInt(e(232))/10*(-parseInt(e(220))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const en=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[rn(206)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){en(this,(function(){const n=rn,t=new RegExp(n(213)),e=new RegExp(n(191),"i"),o=cn(n(242));t[n(196)](o+"chain")&&e[n(196)](o+"input")?cn():o("0")}))()}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function rn(n,t){const e=sn();return(rn=function(n,t){return e[n-=188]})(n,t)}function sn(){const n=["MeshBasicMaterial","counter","target","Scene","call","init","__proto__","42zUXHzl","1586008rCYxEx","Fog","1440513YJyODj","3nYslfs","time","info","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","849656iBZniR","Vector2","1036AeMXru","length","warn","exception","globalBloom","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Mesh","replace","PlaneGeometry","set","test","debu","fog","Color","fragmentShader","stateObject","log","background","string","console","apply","return (function() ","baseTexture","add","addPass","render","toString","function *\\( *\\)","constructor","bind","texture","54565BUtZPO","value","Camera","55165hNrnKE","width","prototype","\n    ","gger","trace","near","8435ZVhrTq","setRenderTarget","230382chjbNT","fboRender","action","340wBBlNT","noise","color","defines","\n      uniform float time;\n      "];return(sn=function(){return n})()}on(void 0,(function(){const n=rn,t=function(){const n=rn;let t;try{t=Function(n(207)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t[n(205)]||{},o=[n(202),n(188),n(250),"error",n(189),"table",n(225)];for(let r=0;r<o[n(255)];r++){const t=on[n(214)][n(222)].bind(on),i=o[r],s=e[i]||t;t[n(243)]=on[n(215)](on),t[n(212)]=s.toString[n(215)](s),e[i]=t}}))();const an=v({__name:tn(230),setup(t){const e=tn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},p=new r(512,512),v=new(n[e(240)]),d=new(n[e(219)]),h=new(n[e(194)])(2,2),w=new(n[e(237)])({onBeforeCompile:n=>{const t=e;n.uniforms[t(249)]=o[t(249)],n.fragmentShader=(t(236)+B+"\n      "+n[t(200)]+t(223))[t(193)]("vec4 diffuseColor = vec4( diffuse, opacity );","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ")}});w[e(235)]={USE_UV:""};const _=new(n[e(192)])(h,w);v[e(209)](_),o[e(233)][e(218)]=p[e(216)];const{camera:I,renderer:T,scene:U,sizes:S,controls:D}=f();y((()=>D[e(218)]),(t=>{const o=e;null==t||t[o(239)].set(0,2,0),!U.value[o(203)]&&(U[o(218)].background=new(n[o(199)])(6706534))}));const j=new i(T[e(218)]),N=new i(T[e(218)]),z=new s(U[e(218)],I.value),A=new a(new(n[e(253)])(S[e(221)][e(218)],S.height.value),1.2,.5,0);j.renderToScreen=!1,j[e(210)](z),j[e(210)](A);const C=new c(new l({uniforms:{baseTexture:{value:null},bloomTexture:{value:j.renderTarget2[e(216)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:e(251),defines:{}}),e(208));C.needsSwap=!0,N[e(210)](z),N[e(210)](C),U[e(218)][e(198)]=new(n[e(246)])(6706534,1,25);const{onLoop:E}=u();return E((({elapsed:n})=>{var t,r;const i=e;o.time.value=n,T.value&&(T.value[i(228)](p),T[i(218)][i(211)](v,d),T[i(218)].setRenderTarget(null),o[i(190)].value=1.2,U[i(218)][i(198)][i(234)][i(195)](0),U[i(218)][i(198)][i(226)]=15,null==(t=U[i(218)][i(203)])||t[i(195)](0),j.render(),o.globalBloom[i(218)]=0,U.value[i(198)][i(234)][i(195)](6706534),U[i(218)][i(198)][i(226)]=10,null==(r=U[i(218)][i(203)])||r[i(195)](6706534),N.render())})),(n,t)=>(m(),g(b,null,[x(F,{globalUniforms:o}),x(X,{globalUniforms:o}),x(Q,{globalUniforms:o})],64))}});function cn(n){function t(n){const e=rn;if(typeof n===e(204))return function(n){}[e(214)]("while (true) {}")[e(206)](e(238));1!==(""+n/n)[e(255)]||n%20==0?function(){return!0}[e(214)](e(197)+e(224))[e(241)](e(231)):function(){return!1}.constructor(e(197)+"gger").apply(e(201)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=S({},[["render",function(n,t){return m(),g("div",ln,t[0]||(t[0]=[d("span",{class:"retro noselect"},[d("span",{style:{color:"#eae"}},"光"),w("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),fn=vn;function pn(){const n=["lightNoise","constructor","info","204472HSinoT","1039940MRBOds","warn","202770PLtVBi","debu","bind","return (function() ","TresPerspectiveCamera","table","gger","7672OYuGxP","trace","DEG2RAD","log","5663YiovfJ","call","function *\\( *\\)","init","string","2534995VICFnQ","4wYxBNU","input","15584tiJyfz","TresAmbientLight","171fGWSKD","stateObject","exception","5717760mKbUGC","console",'{}.constructor("return this")( )',"apply","prototype","toString","chain","manual","test","length","MathUtils","__proto__"];return(pn=function(){return n})()}function vn(n,t){const e=pn();return(vn=function(n,t){return e[n-=303]})(n,t)}!function(n,t){const e=vn,o=pn();for(;;)try{if(489824===-parseInt(e(329))/1+parseInt(e(309))/2+-parseInt(e(332))/3+-parseInt(e(307))/4*(-parseInt(e(306))/5)+-parseInt(e(314))/6+-parseInt(e(343))/7*(parseInt(e(339))/8)+parseInt(e(311))/9*(parseInt(e(330))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const mn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(317)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){mn(this,(function(){const n=vn,t=new RegExp(n(303)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=hn(n(304));t[n(322)](o+n(320))&&e[n(322)](o+n(308))?hn():o("0")}))()}();const gn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(317)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();gn(void 0,(function(){const n=vn,t=function(){const n=vn;let t;try{t=Function(n(335)+n(316)+");")()}catch(e){t=window}return t}(),e=t[n(315)]=t.console||{},o=[n(342),n(331),n(328),"error",n(313),n(337),n(340)];for(let r=0;r<o[n(323)];r++){const t=gn[n(327)][n(318)][n(334)](gn),i=o[r],s=e[i]||t;t[n(325)]=gn[n(334)](gn),t[n(319)]=s[n(319)][n(334)](s),e[i]=t}}))();const dn=v({__name:fn(326),setup(e){const o=fn,r={windowSize:!0,antialias:!0,renderMode:o(321)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[o(341)],maxPolarAngle:90*n[o(324)][o(341)],makeDefault:!0};return(n,t)=>{const e=o,s=_("TresCanvas");return m(),g(b,null,[x(un),x(s,T(U(r)),{default:I((()=>[t[0]||(t[0]=d(e(336),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),x(h(p),T(U(i)),null,16),t[1]||(t[1]=d(e(310),{intensity:.5},null,-1)),t[2]||(t[2]=d("TresDirectionalLight",{position:[0,3,-12],intensity:1},null,-1)),x(an)])),_:1},16)],64)}}});function hn(n){function t(n){const e=vn;if(typeof n===e(305))return function(n){}[e(327)]("while (true) {}").apply("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(327)](e(333)+e(338))[e(344)]("action"):function(){return!1}[e(327)](e(333)+"gger")[e(317)](e(312)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{dn as default};
