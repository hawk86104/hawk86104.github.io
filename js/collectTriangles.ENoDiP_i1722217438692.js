import{p as t,$ as n,W as e,d as r}from"./@tresjs.vs5lCFs11722217438692.js";import{_ as o}from"./index.byhbbwDx1722217438692.js";import{a as s}from"./index.DTwgDyGF1722217438692.js";import{a6 as i,N as c,j as u,M as a,V as l,B as p,a as f,cz as m}from"./three.ej3u8izI1722217438692.js";import{P as g}from"./tweakpane.yHWGBmom1722217438692.js";import{I as d,C as h,N as y,c as w,d as b,a as j}from"./three-mesh-bvh.iDyulXMj1722217438692.js";import{d as v,a4 as I,b as _,a1 as x,o as T,D as z,J as M,u as k,F as B,r as A,e as F,j as R,g as S,m as H,f as E,al as C}from"./@vue.Q1VpS3901722217438692.js";import"./@vueuse.mG9rDBoo1722217438692.js";import"./default.vue_vue_type_script_setup_true_lang.OB2u4qdb1722217438692.js";import"./@fesjs.oJOSvSTI1722217438692.js";import"./vue-router.K-gJhGrY1722217438692.js";import"./lodash-es.nFpJXAf-1722217438692.js";import"./@qlin.yHhFDldE1722217438692.js";import"./pinia.iyC53SMr1722217438692.js";import"./@floating-ui.BPbuo5Gx1722217438692.js";import"./@juggle.7yjBMqoW1722217438692.js";import"./three-stdlib.lHRu5jBh1722217438692.js";import"./@pmndrs.NGMcpQ2E1722217438692.js";import"./object-hash.H_vbRcKd1722217438692.js";import"./@amap.FTf_Qzi31722217438692.js";import"./jszip.FHAQs96M1722217438692.js";function G(t,n){const e=L();return(G=function(t,n){return e[t-=256]})(t,n)}function L(){const t=["firstHitOnly","counter","function *\\( *\\)","string","console",'{}.constructor("return this")( )',"table","innerHeight","5224370nLFZIp","2vkQpip","Raycaster","pointerdown","apply","30mbfyVX","311238EGUaqq","chain","debu","info","6154794HFMupN","clientY","toString","warn","clientX","1244831hmETrn","1039845vwsHnS","init","addEventListener","exception","intersectObject","input","button","log","innerWidth","value","8lUVKNi","gger","constructor","116704fHNYQB","touch","pointerType","action","test","4304748UqRcQW","44LmHlvw","length","error","bind","return (function() ","stateObject","prototype","trace"];return(L=function(){return t})()}!function(t,n){const e=G,r=L();for(;;)try{if(383460===-parseInt(e(299))/1*(parseInt(e(304))/2)+-parseInt(e(263))/3+-parseInt(e(276))/4*(-parseInt(e(303))/5)+-parseInt(e(281))/6+-parseInt(e(262))/7*(-parseInt(e(273))/8)+-parseInt(e(257))/9+-parseInt(e(298))/10*(-parseInt(e(282))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(302)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=G,n=new RegExp(t(292)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Z(t(264));n.test(r+t(305))&&e[t(280)](r+t(268))?Z():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(302)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Y(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(286)+t(295)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(294)]||{},r=[t(270),t(260),t(256),t(284),t(266),t(296),t(289)];for(let o=0;o<r[t(283)];o++){const n=Y.constructor[t(288)].bind(Y),s=r[o],i=e[s]||n;n.__proto__=Y.bind(Y),n.toString=i[t(259)][t(285)](i),e[s]=n}}))();function Z(t){function n(t){const e=G;if(typeof t===e(293))return function(t){}.constructor("while (true) {}")[e(302)](e(291));1!==(""+t/t).length||t%20==0?function(){return!0}[e(275)](e(306)+"gger").call(e(279)):function(){return!1}[e(275)](e(306)+e(274))[e(302)](e(287)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=O;function O(t,n){const e=J();return(O=function(t,n){return e[t-=421]})(t,n)}!function(t,n){const e=O,r=J();for(;;)try{if(807031===-parseInt(e(495))/1+parseInt(e(442))/2*(-parseInt(e(504))/3)+-parseInt(e(425))/4+parseInt(e(464))/5+-parseInt(e(484))/6+-parseInt(e(454))/7*(-parseInt(e(485))/8)+parseInt(e(486))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(505)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=O,n=new RegExp(t(482)),e=new RegExp(t(461),"i"),r=D(t(431));n[t(502)](r+t(499))&&e[t(502)](r+t(475))?D():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(505)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();$(void 0,(function(){const t=O;let n;try{n=Function(t(458)+t(490)+");")()}catch(o){n=window}const e=n[t(441)]=n[t(441)]||{},r=[t(473),t(424),t(459),t(506),t(477),t(469),t(508)];for(let s=0;s<r[t(468)];s++){const n=$[t(474)][t(512)].bind($),o=r[s],i=e[o]||n;n[t(429)]=$[t(480)]($),n[t(451)]=i[t(451)].bind(i),e[o]=n}}))();const N=[W(511),W(492)],q=[M(W(428),{args:[1,40,40]},null,-1),M(W(448),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],X=["geometry"],P=[M(W(448),{color:W(465),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function J(){const t=["exception","scale","active","bind","targetMesh","function *\\( *\\)","intersectObject","2377308vgcxzd","637960ZuRuiw","34771770UfVxMs","attributes","controls","call",'{}.constructor("return this")( )',"intersectsBox","material","intersectsSphere","getX","1520834GLzzyG","setZ","BufferAttribute","生成模型","chain","brushMesh","Mesh","test","fill","1181031BRmEeo","apply","error","Sphere","trace","push","getZ","geometry","prototype","TresMesh","counter","firstHitOnly","raycast","warn","6322788isFnXd","disposeBoundsTree","count","TresSphereGeometry","__proto__","addButton","init","radius","visible","copy","string","point","while (true) {}","setY","setFromCamera","normal","console","6CeVpHk","center","needsUpdate","containsPoint","position","click","TresMeshStandardMaterial","setAttribute","BufferGeometry","toString","shapecast","setX","14damYGW","index","value","点击按钮","return (function() ","info","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","MeshStandardMaterial","7313955nLWBaL","#023249","computeBoundsTree","boundsTree","length","table","matrixWorld","getY","gger","log","constructor","input","enabled"];return(J=function(){return t})()}const Q=v({__name:"model",props:{controls:{}},async setup(r){const o=W;let s,v;const A=r;(()=>{const t=O;i[t(450)][t(512)].computeBoundsTree=w,i[t(450)].prototype[t(426)]=b,i[t(501)].prototype[t(423)]=j})();const F=([s,v]=I((()=>e(m,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,v(),s),R=new(i[o(463)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),S=new Uint8Array(3*F[o(487)][o(446)][o(427)]);S[o(503)](255);const H=new(i[o(497)])(S,3,!0);H.setUsage(c),F[o(449)]("color",H);const E=_(null),C=_(null),L=_(!1),U=_(-1),Y=_(.2),Z=new u,{camera:V,raycaster:$}=t(),J=15/255,Q=78/255,D=85/255;let K=null;x((()=>{const t=o;E[t(456)]&&(console[t(473)]("targetMesh.value init",E[t(456)]),E.value.geometry[t(466)](),K=F[t(467)],((t,n,e,r,o,s)=>{const c=G;window[c(265)]("pointermove",(e=>{const r=c;t.x=e[r(261)]/window[r(271)]*2-1,t.y=-e[r(258)]/window[r(297)]*2+1,n[r(272)]=!0})),window[c(265)](c(301),(u=>{const a=c;t.x=u[a(261)]/window[a(271)]*2-1,t.y=-u[a(258)]/window[a(297)]*2+1,r[a(272)]=u[a(269)];const l=new(i[a(300)]);l.setFromCamera(t,e[a(272)]),l[a(290)]=!0;const p=l[a(267)](o[a(272)],!0);n[a(272)]=!0,s.enabled=0===p[a(283)]}),!0),window[c(265)]("pointerup",(t=>{const e=c;r.value=-1,t[e(278)]===e(277)&&(n[e(272)]=!1)}),!0)})(Z,L,V,U,E,A.controls.value))}));const{onLoop:tt}=n();tt((()=>{const t=o,n=F[t(455)];if(C[t(456)])if(A[t(488)][t(456)][t(479)]||!L.value)C[t(456)][t(433)]=!1;else{C[t(456)][t(478)].setScalar(Y[t(456)]),$[t(456)][t(439)](Z,V.value),$[t(456)][t(422)]=!0;const e=$[t(456)][t(483)](E[t(456)],!0);if(e[t(468)]){C[t(456)][t(446)][t(434)](e[0][t(436)]),A[t(488)][t(456)].enabled=!1,C.value[t(433)]=!0;const r=new a;r[t(434)](E[t(456)][t(470)]).invert();const o=new(i[t(507)]);o[t(443)].copy(C.value[t(446)]).applyMatrix4(r),o[t(432)]=100*Y[t(456)];const s=[],c=new l;if(null==K||K[t(452)]({intersectsBounds:n=>{const e=t,r=o[e(491)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c.set(0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(445)](c))return d;return h}return r?d:y},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(493)](o)){const t=3*e;s[i(509)](t,t+1,t+2)}return!1}}),0===U[t(456)]||2===U.value){let e=1,r=1,o=1;0===U.value&&(e=J,r=Q,o=D);for(let i=0,c=s[t(468)];i<c;i++){const c=n[t(494)](s[i]);H[t(453)](c,e),H[t(438)](c,r),H[t(496)](c,o)}H[t(444)]=!0}}else C[t(456)][t(433)]=!1,A[t(488)].value[t(476)]=!0}}));const nt=(new g)[o(430)]({title:o(457),label:o(498)}),et=new p;return nt.on(o(447),(()=>{const t=o,n=[],e=[];for(let o=0;o<H.count;o++)H[t(494)](o)===J&&H.getY(o)===Q&&H[t(510)](o)===D&&(n[t(509)](F[t(487)][t(446)][t(494)](o),F[t(487)][t(446)].getY(o),F[t(487)].position[t(510)](o)),e[t(509)](F[t(487)].normal[t(494)](o),F[t(487)][t(440)][t(471)](o),F.attributes.normal[t(510)](o)));const r=new Float32Array(n);et[t(449)](t(446),new f(r,3)),et[t(449)]("normal",new(i[t(497)])(r,3))})),(t,n)=>{const e=o;return T(),z(B,null,[M(e(513),{ref_key:e(481),ref:E,geometry:k(F),scale:.005,material:k(R)},null,8,N),M("TresMesh",{ref_key:e(500),ref:C,visible:!1},q,512),M(e(513),{geometry:k(et),position:[-2,-2,2],scale:.005},P,8,X)],64)}}});function D(t){function n(t){const e=O;if(typeof t===e(435))return function(t){}[e(474)](e(437)).apply(e(421));1!==(""+t/t).length||t%20==0?function(){return!0}[e(474)](e(460)+e(472))[e(489)]("action"):function(){return!1}.constructor("debugger")[e(505)](e(462)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=it;function tt(){const t=["pos-z.jpg","879685VUkLTe","323015YWbsAU","string","test","107821oGGyvH","exception","toString","4106432pEWoTH","TresCanvas","init","call","prototype","gger","table","80722TGSlLH","TresPerspectiveCamera","neg-z.jpg","357350VpjWyu","collectTriangles","#999999","bind","pos-x.jpg","6SFYyzH","constructor","function *\\( *\\)","neg-y.jpg","apply","__proto__","controlsRef","debu","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","value","length","15nFNyrJ","8IYInFt","console","trace","160080vBGyTM","warn","info","return (function() ",'{}.constructor("return this")( )',"18xriseD"];return(tt=function(){return t})()}!function(t,n){const e=it,r=tt();for(;;)try{if(118086===parseInt(e(281))/1+-parseInt(e(291))/2*(parseInt(e(266))/3)+parseInt(e(270))/4+parseInt(e(277))/5*(-parseInt(e(253))/6)+-parseInt(e(278))/7*(-parseInt(e(267))/8)+-parseInt(e(275))/9*(parseInt(e(294))/10)+parseInt(e(284))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const nt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){nt(this,(function(){const t=it,n=new RegExp(t(255)),e=new RegExp(t(262),"i"),r=ct(t(286));n[t(280)](r+"chain")&&e[t(280)](r+"input")?ct():r("0")}))()}();const et=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[it(257)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();et(void 0,(function(){const t=it;let n;try{n=Function(t(273)+t(274)+");")()}catch(o){n=window}const e=n.console=n[t(268)]||{},r=[t(261),t(271),t(272),"error",t(282),t(290),t(269)];for(let s=0;s<r[t(265)];s++){const n=et[t(254)][t(288)][t(297)](et),o=r[s],i=e[o]||n;n[t(258)]=et[t(297)](et),n[t(283)]=i[t(283)][t(297)](i),e[o]=n}}))();const rt=M(K(292),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),ot=M("TresAmbientLight",{intensity:1},null,-1),st=v({__name:K(295),setup(t){const n=K,e=A({clearColor:n(296),antialias:!0}),i=A({autoRotate:!1}),c=_(null);return(t,u)=>{const a=n,l=F(a(285));return T(),z(B,null,[R(k(o)),R(l,H(e,{"window-size":""}),{default:S((()=>[rt,R(k(r),H({ref_key:a(259),ref:c},i),null,16),ot,(T(),E(C,null,{default:S((()=>[R(Q,{controls:c[a(264)]},null,8,["controls"])])),_:1})),(T(),E(C,null,{default:S((()=>[R(k(s),{background:!1,files:[a(252),"neg-x.jpg","pos-y.jpg",a(256),a(276),a(293)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function it(t,n){const e=tt();return(it=function(t,n){return e[t-=252]})(t,n)}function ct(t){function n(t){const e=it;if(typeof t===e(279))return function(t){}[e(254)]("while (true) {}")[e(257)](e(263));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(260)+e(289))[e(287)]("action"):function(){return!1}[e(254)]("debu"+e(289))[e(257)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
