import{importShared as e}from"./3d-tiles-renderer.qyEDeaaW1769484739493.js";import{_sfc_main as a}from"./earth.vue_vue_type_script_setup_true_lang.DOILJpbR1769484739493.js";import{useLoop as n,OrbitControls_default as o}from"./index.CuW8EyFk1769484739493.js";import{Pane as r}from"./tweakpane.BbuIEN141769484739493.js";const{defineComponent:t}=await e("vue"),{createElementVNode:i,normalizeProps:l,guardReactiveProps:u,openBlock:s,createElementBlock:c}=await e("vue"),p=await e("three"),{watch:m}=await e("vue"),v=t({__name:"highlightScan",props:{color:{default:"#FFFFFF"},opacity:{default:1},speed:{default:1}},setup(e){const a=e,o={uniforms:{uTime:{value:0},pointNum:{value:new p.Vector2(32,16)},uColor:{value:new p.Color(a.color)},uOpacity:{value:a.opacity}},transparent:!0,vertexShader:"\nvarying vec2 vUv;\n\nvoid main(){\n    vUv=uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",fragmentShader:"\nfloat PI = acos(-1.0);\nuniform vec3 uColor;\nuniform float uOpacity;\nuniform float uTime;\nvarying vec2 vUv;\n\nvoid main(){\n    vec2 uv = vUv+ vec2(0.0, uTime);\n    float current = abs(sin(uv.y * PI));\n    gl_FragColor.rgb = uColor;\n    gl_FragColor.a = mix(1.0, 0.0, current);\n    gl_FragColor.a = gl_FragColor.a * uOpacity;\n}"};m(()=>[a.color,a.opacity],([e,a])=>{o.uniforms.uColor.value=new p.Color(e),o.uniforms.uOpacity.value=a});const{onBeforeRender:r}=n();return r(({delta:e})=>{o.uniforms.uTime.value+=.1*e*a.speed}),(e,a)=>(s(),c("TresMesh",null,[a[0]||(a[0]=i("TresSphereGeometry",{args:[1,32,32]},null,-1)),i("TresShaderMaterial",l(u(o)),null,16)]))}}),{defineComponent:d}=await e("vue"),{createElementVNode:f,unref:g,createVNode:_,Suspense:w,withCtx:C,openBlock:h,createBlock:y,normalizeProps:x,guardReactiveProps:F,resolveComponent:T}=await e("vue"),{reactive:B}=await e("vue"),b=d({__name:"highlightScan",setup(e){const n=B({color:"#9affea",opacity:.58,speed:4.8,scale:1.1}),t=new r;return t.addBinding(n,"color",{label:"颜色"}),t.addBinding(n,"opacity",{label:"透明度",min:0,max:1,step:.01}),t.addBinding(n,"speed",{label:"速度",min:.1,max:5,step:.1}),t.addBinding(n,"scale",{label:"大小",min:1.01,max:2,step:.01}),(e,r)=>{const t=T("TresCanvas");return h(),y(t,{clearColor:"#201919","window-size":""},{default:C(()=>[r[0]||(r[0]=f("TresPerspectiveCamera",{position:[3,3,0],fov:45,near:.1,far:1e4},null,-1)),_(g(o),{enableDamping:""}),r[1]||(r[1]=f("TresAmbientLight",{intensity:3},null,-1)),(h(),y(w,null,{default:C(()=>[_(a)]),_:1})),(h(),y(w,null,{default:C(()=>[_(v,x(F(n)),null,16)]),_:1}))]),_:1})}}});export{b as default};
