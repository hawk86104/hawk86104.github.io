import{aH as n,_ as t,N as e,h as o,B as r,c5 as i,c3 as s,c4 as a,cf as c,C as l}from"./three.RuuDeeIf1736251016080.js";import{e as u,m as f,U as p}from"./@tresjs.8C7OKmBm1736251016080.js";import{d as v,o as m,D as d,J as g,u as h,F as b,w as y,j as x,x as w,e as _,g as I,aj as T,ak as U}from"./@vue.-Mz_IXfk1736251016080.js";import{_ as S}from"./@fesjs.SlXnoRjV1736251016080.js";import"./@vueuse.HhUha1mw1736251016080.js";import"./vue-router.JOEPJWPi1736251016080.js";import"./lodash-es.guXTxyfJ1736251016080.js";import"./@qlin.yHhFDldE1736251016080.js";import"./pinia.PKDK8ItA1736251016080.js";import"./vue-demi.C4xddsk91736251016080.js";import"./@floating-ui.BPbuo5Gx1736251016080.js";import"./@juggle.7yjBMqoW1736251016080.js";var D="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const E=j;function j(n,t){const e=z();return(j=function(n,t){return e[n-=393]})(n,t)}function z(){const n=["table","Vector4","noiseTex","material","push","gger","MeshBasicMaterial","replace","#include <begin_vertex>","randFloatSpread","279DpWHuK","attributes","trace","436241GTguRp","TresPlaneGeometry","action","prototype","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","noise","vertexShader","while (true) {}","#include <dithering_fragment>","info","5YuVJCn","72544vKGzKW","111376hJLdcR","MathUtils","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","sin","uniforms","bind","rotateX","apply","TresMesh","30SbZjRU","cos","length","constructor","204SbbVYG","string","console","globalBloom","fragmentShader","geometry","\n      uniform vec4 luces[","init","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","120424hrMFMP","446546DImxJa","lucesPlane","error","instanceCount","counter","\n    ","InstancedBufferGeometry","toString","luces","input","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","copy","15870lJTktm","log","exception","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","globalUniforms","chain","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","instData","149065XiZwxE","randFloat","#include <fog_fragment>","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","913MPmhER","InstancedBufferAttribute","3OiVTSb"];return(z=function(){return n})()}!function(n,t){const e=j,o=z();for(;;)try{if(234264===-parseInt(e(425))/1+parseInt(e(449))/2*(parseInt(e(399))/3)+-parseInt(e(448))/4*(parseInt(e(424))/5)+parseInt(e(435))/6*(parseInt(e(393))/7)+parseInt(e(426))/8*(-parseInt(e(410))/9)+parseInt(e(461))/10*(-parseInt(e(397))/11)+parseInt(e(439))/12*(parseInt(e(413))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=j,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(428),"i"),o=R(n(446));t.test(o+n(466))&&e.test(o+n(458))?R():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=j;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(441)]=t[n(441)]||{},o=[n(462),"warn",n(423),n(451),n(463),n(400),n(412)];for(let i=0;i<o[n(437)];i++){const t=N[n(438)][n(416)].bind(N),r=o[i],s=e[r]||t;t.__proto__=N.bind(N),t[n(456)]=s.toString[n(431)](s),e[r]=t}}))();const F=[E(444),E(403)],M=[E(403)],C=[E(432)],A=100,P=v({__name:E(450),props:{globalUniforms:{}},setup(o){const r=E,i=o,s=[],a=[],c=new n(1,36,18),l=(new(t[r(455)]))[r(460)](c);l[r(452)]=A;const f=[];for(let n=0;n<A;n++){let n=t[r(427)][r(409)](49),e=t[r(427)].randFloatSpread(49),o=t[r(427)][r(394)](.0625,.125),i=t[r(427)][r(394)](1,3);f[r(404)](n,e,o),a[r(404)](new(t[r(401)])(n,e,i,t[r(427)].randFloat(1,2))),s[r(404)](new(t[r(401)])(n,e,o,i))}l.setAttribute("instData",new(t[r(398)])(new Float32Array(f),3));const p=new(t[r(406)])({color:16720418,onBeforeCompile:n=>{const t=r;n[t(430)][t(402)]=i[t(465)][t(419)],n[t(420)]=("\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      "+n[t(420)]+t(454))[t(407)](t(408),t(396))}}),v={luces:{value:s}},y=new e({color:2363940,onBeforeCompile:n=>{const t=r;n[t(430)][t(457)]=v[t(457)],n[t(430)][t(442)]=i[t(465)].globalBloom,n[t(430)][t(402)]=i.globalUniforms[t(419)],n[t(420)]=(t(459)+n[t(420)]+"\n    ")[t(407)](t(408),t(447)),n[t(443)]=(t(445)+A+t(467)+n.fragmentShader+t(454)).replace(t(395),t(417)+A+t(464))[t(407)](t(422),t(418))}}),{onLoop:x}=u();return x((({elapsed:n})=>{const t=r;for(let e=0;e<A;e++){const o=a[e];let r=(o.y+n+25)%50-25;s[e].y=r,s[e].w=(Math[t(429)](n*o.w*(e%3+1))*Math[t(436)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,l[t(411)].instData.setY(e,r)}l[t(411)][t(468)].needsUpdate=!0})),(n,t)=>{const e=r;return m(),d(b,null,[g(e(434),{geometry:h(l),material:h(p)},null,8,F),g(e(434),{material:h(y)},[g(e(414),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,C)],8,M)],64)}}});function R(n){function t(n){const e=j;if(typeof n===e(440))return function(n){}[e(438)](e(421))[e(433)](e(453));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debu"+e(405)).call(e(415)):function(){return!1}[e(438)]("debu"+e(405))[e(433)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function k(n,t){const e=V();return(k=function(n,t){return e[n-=258]})(n,t)}const Z=k;!function(n,t){const e=k,o=V();for(;;)try{if(469838===parseInt(e(280))/1*(parseInt(e(303))/2)+parseInt(e(295))/3*(parseInt(e(287))/4)+-parseInt(e(271))/5+-parseInt(e(281))/6*(parseInt(e(267))/7)+parseInt(e(270))/8*(parseInt(e(311))/9)+-parseInt(e(275))/10*(parseInt(e(263))/11)+parseInt(e(292))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(288)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){G(this,(function(){const n=k,t=new RegExp(n(282)),e=new RegExp(n(293),"i"),o=$(n(266));t.test(o+n(310))&&e[n(298)](o+n(312))?$():o("0")}))()}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(288)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();O(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function(n(286)+n(289)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(305)]||{},o=[n(264),n(307),n(265),n(268),n(300),n(261),n(306)];for(let r=0;r<o[n(297)];r++){const t=O.constructor[n(291)][n(276)](O),i=o[r],s=e[i]||t;t[n(277)]=O[n(276)](O),t[n(299)]=s.toString[n(276)](s),e[i]=t}}))();const L=[Z(290)];function V(){const n=["stateObject","\n    ","24778ZfsNSs","TresPlaneGeometry","console","trace","warn","defines","TresMesh","chain","18ZTzgmb","input","#include <dithering_fragment>","replace","debu","table","MeshBasicMaterial","55VPxsnI","log","info","init","69482vOThLF","error","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","2398984TRKEZj","2023840QbhSKa","globalBloom","counter","action","452130uSiulu","bind","__proto__","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","globalUniforms","21KnXHWE","528lIukOd","function *\\( *\\)","constructor","time","gger","return (function() ","3123048izcNUv","apply",'{}.constructor("return this")( )',"material","prototype","4001784rmufru","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","fragmentShader","3xMamzb","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","length","test","toString","exception"];return(V=function(){return n})()}const W=v({__name:"portal",props:{globalUniforms:{}},setup(n){const e=Z,o=n,r=new(t[e(262)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms[t(284)]=o[t(279)][t(284)],n.uniforms[t(272)]=o[t(279)][t(272)],n.fragmentShader=(t(278)+D+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n[t(294)]+t(302)).replace("vec4 diffuseColor = vec4( diffuse, opacity );",t(296))[t(259)](t(258),t(269))}});return r[e(308)]={USE_UV:""},(n,t)=>{const o=e;return m(),d(o(309),{material:h(r),position:[0,3.75,-12]},t[0]||(t[0]=[g(o(304),{args:[5,5]},null,-1)]),8,L)}}});function $(n){function t(n){const e=k;if("string"==typeof n)return function(n){}[e(283)]("while (true) {}").apply(e(273));1!==(""+n/n)[e(297)]||n%20==0?function(){return!0}.constructor(e(260)+e(285)).call(e(274)):function(){return!1}[e(283)](e(260)+e(285)).apply(e(301)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const J=Q;!function(n,t){const e=Q,o=X();for(;;)try{if(586234===-parseInt(e(537))/1*(parseInt(e(501))/2)+-parseInt(e(507))/3*(parseInt(e(523))/4)+-parseInt(e(502))/5*(parseInt(e(528))/6)+parseInt(e(527))/7*(-parseInt(e(533))/8)+-parseInt(e(524))/9+parseInt(e(485))/10+parseInt(e(536))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Q(526)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){K(this,(function(){const n=Q,t=new RegExp(n(497)),e=new RegExp(n(511),"i"),o=nn(n(484));t[n(538)](o+n(494))&&e.test(o+n(489))?nn():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function X(){const n=["globalUniforms","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#include <begin_vertex>","\n    ","globalBloom","fragmentShader","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","setAttribute","counter","while (true) {}","noiseTex","MathUtils","action","1824292EXOqfD","690849BfrCaN","time","apply","1727222nIOubF","3217224isdhib","push","bind","constructor","gEnds","8wedmqe","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","length","28197037lpmfTc","2647tYlaAr","test","gger","console","stateObject","randFloat","randFloatSpread","init","594240nEIQNl","warn","LineBasicMaterial","call","input","drops","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","trace","uniforms","chain",'{}.constructor("return this")( )',"replace","function *\\( *\\)","Float32BufferAttribute","TresLineSegments","log","200kCvMdw","5uiMuGK","exception","__proto__","noise","string","6Aqyypj","debu"];return(X=function(){return n})()}H(void 0,(function(){const n=Q;let t;try{t=Function("return (function() "+n(495)+");")()}catch(r){t=window}const e=t[n(540)]=t[n(540)]||{},o=[n(500),n(486),"info",n(510),n(503),"table",n(492)];for(let i=0;i<o[n(535)];i++){const t=H.constructor.prototype.bind(H),r=o[i],s=e[r]||t;t[n(504)]=H[n(530)](H),t.toString=s.toString[n(530)](s),e[r]=t}}))();const q=["material","geometry"],Y=v({__name:J(490),props:{globalUniforms:{}},setup(n){const e=J,i=n,s=[],a=[];for(let r=0;r<2e4;r++){const n=t[e(521)][e(483)](35),r=o[e(542)](-5,10),i=o[e(483)](35),c=t[e(521)][e(542)](.25,.5);s[e(529)](n,r,i,n,r,i),a[e(529)](0,c,1,c)}const c=new r;c[e(517)]("position",new(t[e(498)])(s,3)),c[e(517)](e(532),new(t[e(498)])(a,2));const l=new(t[e(487)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(493)][t(525)]=i[t(509)].time,n[t(493)][t(520)]=i[t(509)][t(505)],n[t(493)][t(514)]=i.globalUniforms.globalBloom,n.vertexShader=(t(491)+n.vertexShader+t(513))[t(496)](t(512),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(515)]=(t(534)+D+"\n      "+n[t(515)]+t(513)).replace("vec4 diffuseColor = vec4( diffuse, opacity );",t(516))}});return(n,t)=>{const o=e;return m(),d(o(499),{material:h(l),geometry:h(c)},null,8,q)}}});function Q(n,t){const e=X();return(Q=function(n,t){return e[n-=483]})(n,t)}function nn(n){function t(n){const e=Q;if(typeof n===e(506))return function(n){}[e(531)](e(519))[e(526)](e(518));1!==(""+n/n)[e(535)]||n%20==0?function(){return!0}.constructor(e(508)+e(539))[e(488)](e(522)):function(){return!1}[e(531)](e(508)+e(539))[e(526)](e(541)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const tn=on;!function(n,t){const e=on,o=sn();for(;;)try{if(863533===parseInt(e(479))/1+parseInt(e(503))/2*(parseInt(e(514))/3)+-parseInt(e(527))/4+parseInt(e(474))/5+-parseInt(e(473))/6+-parseInt(e(476))/7+-parseInt(e(471))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const en=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[on(504)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function on(n,t){const e=sn();return(on=function(n,t){return e[n-=467]})(n,t)}!function(){en(this,(function(){const n=on,t=new RegExp(n(500)),e=new RegExp(n(522),"i"),o=cn("init");t[n(502)](o+n(536))&&e[n(502)](o+n(524))?cn():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[on(504)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(){const n=["2332296yeiypI","prototype","6795168EtrlZz","6618060diwWOg","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","2530948tsyjJj","Fog","exception","432750mtLScD","debu","set","height","\n      uniform float time;\n      ","stateObject","console","noise","globalBloom","call","gger","string","replace","baseTexture","trace","Mesh","bind","MeshBasicMaterial","Camera","addPass","renderToScreen","function *\\( *\\)","texture","test","2aSFrFF","apply","fog","constructor","color","renderTarget2","log","defines","width","return (function() ","time","4430007NhawkA","PlaneGeometry","\n    ","error","\n      ","uniforms","toString","setRenderTarget","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","input","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","value","2335476PAlbUa","WebGLRenderTarget","background","add","Scene","needsSwap","near","ShaderMaterial","info","chain","render","fboRender","fragmentShader","while (true) {}","Vector2","counter"];return(sn=function(){return n})()}rn(void 0,(function(){const n=on;let t;try{t=Function(n(512)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(485)]=t[n(485)]||{},o=[n(509),n(523),n(535),n(517),n(478),"table",n(493)];for(let i=0;i<o.length;i++){const t=rn[n(506)][n(472)][n(495)](rn),r=o[i],s=e[r]||t;t.__proto__=rn[n(495)](rn),t[n(520)]=s[n(520)][n(495)](s),e[r]=t}}))();const an=v({__name:tn(538),setup(n){const e=tn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(t[e(528)])(512,512),p=new(t[e(531)]),v=new(t[e(497)]),g=new(t[e(515)])(2,2),h=new(t[e(496)])({onBeforeCompile:n=>{const t=e;n[t(519)].time=o[t(513)],n[t(467)]=(t(483)+D+t(518)+n[t(467)]+t(516))[t(491)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(475))}});h[e(510)]={USE_UV:""};const w=new(t[e(494)])(g,h);p[e(530)](w),o[e(486)][e(526)]=r.texture;const{camera:_,renderer:I,scene:T,sizes:U,controls:S}=f();y((()=>S[e(526)]),(n=>{const t=e;null==n||n.target[t(481)](0,2,0),!T[t(526)][t(529)]&&(T.value[t(529)]=new l(6706534))}));const E=new i(I[e(526)]),j=new i(I[e(526)]),z=new s(T[e(526)],_.value),B=new a(new(t[e(469)])(U[e(511)][e(526)],U[e(482)].value),1.2,.5,0);E[e(499)]=!1,E[e(498)](z),E[e(498)](B);const N=new c(new(t[e(534)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:E[e(508)][e(501)]}},vertexShader:e(525),fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),e(492));N[e(532)]=!0,j[e(498)](z),j[e(498)](N),T[e(526)][e(505)]=new(t[e(477)])(6706534,1,25);const{onLoop:F}=u();return F((({elapsed:n})=>{var t,i;const s=e;o[s(513)][s(526)]=n,I.value&&(I[s(526)][s(521)](r),I[s(526)][s(537)](p,v),I[s(526)][s(521)](null),o[s(487)].value=1.2,T[s(526)].fog[s(507)][s(481)](0),T[s(526)][s(505)][s(533)]=15,null==(t=T[s(526)][s(529)])||t[s(481)](0),E.render(),o.globalBloom[s(526)]=0,T[s(526)][s(505)][s(507)][s(481)](6706534),T[s(526)][s(505)][s(533)]=10,null==(i=T[s(526)][s(529)])||i[s(481)](6706534),j[s(537)]())})),(n,t)=>(m(),d(b,null,[x(P,{globalUniforms:o}),x(W,{globalUniforms:o}),x(Y,{globalUniforms:o})],64))}});function cn(n){function t(n){const e=on;if(typeof n===e(490))return function(n){}.constructor(e(468))[e(504)](e(470));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(480)+e(489))[e(488)]("action"):function(){return!1}.constructor(e(480)+"gger").apply(e(484)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=S({},[["render",function(n,t){return m(),d("div",ln,t[0]||(t[0]=[g("span",{class:"retro noselect"},[g("span",{style:{color:"#eae"}},"光"),w("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);function fn(n,t){const e=mn();return(fn=function(n,t){return e[n-=387]})(n,t)}!function(n,t){const e=fn,o=mn();for(;;)try{if(193020===-parseInt(e(407))/1+parseInt(e(387))/2+-parseInt(e(408))/3*(-parseInt(e(414))/4)+parseInt(e(392))/5+parseInt(e(404))/6*(parseInt(e(412))/7)+parseInt(e(403))/8+-parseInt(e(411))/9*(parseInt(e(420))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[fn(389)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){pn(this,(function(){const n=fn,t=new RegExp(n(400)),e=new RegExp(n(388),"i"),o=gn(n(424));t[n(416)](o+n(423))&&e[n(416)](o+n(417))?gn():o("0")}))()}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[fn(389)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function mn(){const n=["trace","return (function() ","function *\\( *\\)","TresAmbientLight","length","2368064cDrEGN","75798OzsVWa","TresCanvas","exception","186901lqRrVP","15JzDZbi","action","TresDirectionalLight","12897DUIbAx","203tSwKdd","warn","56204tJmgxb","toString","test","input","gger","TresPerspectiveCamera","5110WLRvfW","bind","info","chain","init","manual","prototype","constructor","error","call","string","21730yyFUto","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","while (true) {}","debu","1843495UTXuCF","DEG2RAD","log","MathUtils",'{}.constructor("return this")( )',"__proto__"];return(mn=function(){return n})()}vn(void 0,(function(){const n=fn;let t;try{t=Function(n(399)+n(396)+");")()}catch(r){t=window}const e=t.console=t.console||{},o=[n(394),n(413),n(422),n(428),n(406),"table",n(398)];for(let i=0;i<o[n(402)];i++){const t=vn.constructor[n(426)][n(421)](vn),r=o[i],s=e[r]||t;t[n(397)]=vn[n(421)](vn),t[n(415)]=s.toString[n(421)](s),e[r]=t}}))();const dn=v({__name:"lightNoise",setup(n){const e=fn,r={windowSize:!0,antialias:!0,renderMode:e(425)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[e(395)].DEG2RAD,maxPolarAngle:90*o[e(393)],makeDefault:!0};return(n,t)=>{const o=e,s=_(o(405));return m(),d(b,null,[x(un),x(s,T(U(r)),{default:I((()=>[t[0]||(t[0]=g(o(419),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),x(h(p),T(U(i)),null,16),t[1]||(t[1]=g(o(401),{intensity:.5},null,-1)),t[2]||(t[2]=g(o(410),{position:[0,3,-12],intensity:1},null,-1)),x(an)])),_:1},16)],64)}}});function gn(n){function t(n){const e=fn;if(typeof n===e(430))return function(n){}.constructor(e(390))[e(389)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(427)]("debu"+e(418))[e(429)](e(409)):function(){return!1}[e(427)](e(391)+"gger")[e(389)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{dn as default};
