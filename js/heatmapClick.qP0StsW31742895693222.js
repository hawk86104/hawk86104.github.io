import{D as t,o as n}from"./@tresjs.xCsT8yve1742895693222.js";import{P as e}from"./tweakpane.ivGeiIdz1742895693222.js";import{_ as o,ar as r,as as s}from"./three.DqHgeVY11742895693222.js";import{_ as a}from"./heatmap.js-fix.gZbntUHw1742895693222.js";import{d as i,a3 as c,a2 as u,o as l,H as p,u as f,r as d,e as h,f as g,g as m,N as v,j as y,al as b,aj as w,ak as x,m as j}from"./@vue.C4dqouNn1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";import"./@amap.hJQcpQRT1742895693222.js";function I(){const t=["left","getZ","body","canvas","16028qdYdoS","push","radius","set","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","1526120QktBHj","table","position","primitive","resource.cos","display","scale","_renderer","exception","attributes","heatmapClickCom","111SVsNEK","__proto__","9MHCmAb","onclick","1825175BwWgdc","6GfWXgs","constructor","DoubleSide","trace","getX","log","init","setDataMax","gger","mesh_0","call","console","style","Texture","BufferAttribute","1px solid #5384ff","while (true) {}","1SxxGmw",'{}.constructor("return this")( )',"./draco/","counter","debu","create","none","length","bind","layerX","apply","boundingBox","error","object","action","507773jINqSi","stateObject","count","toString","1200088wImnhN","40px","top","test","border","79262rcUWhj","material","0.8","105760VjxCuh","info","needsUpdate","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","ShaderMaterial","prototype"];return(I=function(){return t})()}const _=A;!function(t,n){const e=A,o=I();for(;;)try{if(111285===parseInt(e(121))/1*(parseInt(e(145))/2)+parseInt(e(174))/3*(-parseInt(e(158))/4)+-parseInt(e(148))/5*(parseInt(e(179))/6)+parseInt(e(136))/7+parseInt(e(140))/8*(-parseInt(e(176))/9)+parseInt(e(163))/10+parseInt(e(178))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(131)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=M(t(185));n[t(143)](o+"chain")&&e.test(o+"input")?M():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=A;let n;try{n=Function("return (function() "+t(122)+");")()}catch(r){n=window}const e=n.console=n[t(190)]||{},o=[t(184),"warn",t(149),t(133),t(171),t(164),t(182)];for(let s=0;s<o[t(128)];s++){const n=S[t(180)][t(153)][t(129)](S),r=o[s],a=e[r]||n;n[t(175)]=S[t(129)](S),n[t(139)]=a.toString.bind(a),e[r]=n}}))();const k=[_(134)];function A(t,n){const e=I();return A=function(t,n){return e[t-=118]},A(t,n)}const B=i({__name:_(173),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=_;let r,s;const i=n,{nodes:d}=([r,s]=c((()=>t("https://opensource.cdn.icegl.cn/model/heatmap/test.glb",{draco:!0,decoderPath:e(123)}))),r=await r,s(),r);d[e(188)].position[e(161)](-5088.96,-3.08,39374.7),d[e(188)][e(169)].setScalar(.01);let h=null,g=null,m=null;g=new(o[e(192)])((()=>{const t=e;return m=document.createElement("heatmap-canvas"),m.style[t(165)]="absolute",m[t(191)][t(142)]=t(141),m.style[t(154)]="0",document[t(156)].appendChild(m),h=a[t(126)]({container:m,width:256,height:256,blur:t(147),radius:i[t(160)]}),h[t(170)][t(157)].style[t(144)]=t(119),h[t(170)].canvas[t(177)]=function(n){const e=t;h.addData({x:n[e(130)],y:n.layerY,value:1,radius:i.radius}),h[e(186)](1),g&&(g[e(150)]=!0)},h})()[e(170)].canvas);const v={vertexShader:e(162),fragmentShader:e(151),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(181)]},y=new(o[e(152)])(v);d[e(188)][e(146)]=y;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:s}=t[n(132)];t.deleteAttribute("uv");const a=r.x-s.x,i=r.z-s.z,c=[];for(let e=0;e<t.attributes[n(165)][n(138)];e++)c[n(159)]((t[n(172)].position[n(183)](e)-s.x)/a),c[n(159)]((t[n(172)].position[n(155)](e)-s.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(118)])(u,2))})(d.mesh_0.geometry),u((()=>{const t=e;m[t(191)][t(168)]=""+(i.show2dCanvas?"block":t(127))})),(t,n)=>{const o=e;return l(),p(o(166),{object:f(d)[o(188)]},null,8,k)}}});function M(t){function n(t){const e=A;if("string"==typeof t)return function(t){}.constructor(e(120))[e(131)](e(124));1!==(""+t/t).length||t%20==0?function(){return!0}[e(180)](e(125)+"gger")[e(189)](e(135)):function(){return!1}[e(180)](e(125)+e(187)).apply(e(137)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=R;!function(t,n){const e=R,o=D();for(;;)try{if(204899===-parseInt(e(137))/1+parseInt(e(140))/2+-parseInt(e(158))/3+parseInt(e(145))/4*(parseInt(e(136))/5)+-parseInt(e(129))/6+parseInt(e(149))/7*(parseInt(e(124))/8)+-parseInt(e(121))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(147)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["1992948NjfbOc","show2dCanvas","return (function() ","string","prototype","counter","debu","170kFQXym","45817leneSb","function *\\( *\\)","console","419648RsipIl","log","info","bind","chain","43376EcyKuv","stateObject","apply","#030311","217CgQQet","warn","test","TresPerspectiveCamera","table","input","显示二维图","#ffffff","__proto__","518922TckYnq","length","gger","call","constructor","trace","TresGridHelper","TresDirectionalLight","toString","1440963okjtIl","action","heatmapClick","87080rAgIGv","addBinding","点击左侧蓝色画框","TresCanvas","addButton"];return(D=function(){return t})()}!function(){T(this,(function(){const t=R,n=new RegExp(t(138)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=U("init");n[t(151)](o+t(144))&&e[t(151)](o+t(154))?U():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(t,n){const e=D();return R=function(t,n){return e[t-=121]},R(t,n)}E(void 0,(function(){const t=R;let n;try{n=Function(t(131)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(139)]||{},o=[t(141),t(150),t(142),"error","exception",t(153),t(163)];for(let s=0;s<o[t(159)];s++){const n=E[t(162)][t(133)][t(143)](E),r=o[s],a=e[r]||n;n[t(157)]=E[t(143)](E),n[t(166)]=a[t(166)][t(143)](a),e[r]=n}}))();const O=i({__name:z(123),setup(t){const o=z,a={clearColor:o(148),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(125)](i,o(130),{label:o(155)}),c[o(125)](i,"radius",{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(128)]({title:o(126)}),(t,e)=>{const r=o,s=h(r(127));return l(),g(s,j(a,{"window-size":""}),{default:m((()=>[e[0]||(e[0]=v(r(152),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),y(f(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v(r(165),{position:[5,10,7.5],color:r(156),intensity:5},null,-1)),e[2]||(e[2]=v(r(164),{args:[50,25]},null,-1)),(l(),g(b,null,{default:m((()=>[y(B,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function U(t){function n(t){const e=R;if(typeof t===e(132))return function(t){}.constructor("while (true) {}").apply(e(134));1!==(""+t/t)[e(159)]||t%20==0?function(){return!0}[e(162)](e(135)+e(160))[e(161)](e(122)):function(){return!1}.constructor(e(135)+"gger")[e(147)](e(146)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
