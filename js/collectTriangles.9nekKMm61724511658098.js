import{p as t,$ as n,W as e,d as r}from"./@tresjs.6SjGVF2a1724511658098.js";import{_ as o}from"./index.B58Un1ud1724511658098.js";import{a as s}from"./index.HtCYeuim1724511658098.js";import{a6 as i,g as c,V as u,B as a,q as l,cB as p}from"./three.6cxCQsIj1724511658098.js";import{P as f}from"./tweakpane.yHWGBmom1724511658098.js";import{I as m,C as g,N as h,c as d,d as y,a as w}from"./three-mesh-bvh.ePC05_bs1724511658098.js";import{d as j,a4 as v,b,a1 as _,o as I,D as x,J as M,u as k,F as A,r as z,e as T,j as R,g as S,m as X,f as B,al as C}from"./@vue.Q1VpS3901724511658098.js";import"./@vueuse.rsVLbIR91724511658098.js";import"./index.CoSlN9z41724511658098.js";import"./@fesjs.OLRUJJVs1724511658098.js";import"./vue-router.LcUeGvdC1724511658098.js";import"./lodash-es.nFpJXAf-1724511658098.js";import"./@qlin.yHhFDldE1724511658098.js";import"./pinia.NmL3PGxA1724511658098.js";import"./@floating-ui.BPbuo5Gx1724511658098.js";import"./@juggle.7yjBMqoW1724511658098.js";import"./chalk.w3XuUwyA1724511658098.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1724511658098.js";import"./@iconify.9PoCakEb1724511658098.js";import"./utils.-xSU0-pR1724511658098.js";import"./default.vue_vue_type_script_setup_true_lang.2nZo2Ln21724511658098.js";import"./three-mesh-ui.module.IX95LHu51724511658098.js";import"./three-stdlib.eSyESjZu1724511658098.js";import"./@pmndrs.ZvP486_R1724511658098.js";import"./object-hash.Ic9VzAZ81724511658098.js";import"./@amap.T3VNXNvb1724511658098.js";import"./jszip.GTkatbFy1724511658098.js";!function(t,n){const e=K,r=Z();for(;;)try{if(965219===-parseInt(e(513))/1+parseInt(e(502))/2*(-parseInt(e(524))/3)+-parseInt(e(525))/4*(parseInt(e(480))/5)+parseInt(e(497))/6+parseInt(e(477))/7*(parseInt(e(483))/8)+-parseInt(e(515))/9*(parseInt(e(516))/10)+parseInt(e(518))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(522)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function K(t,n){const e=Z();return(K=function(t,n){return e[t-=476]})(t,n)}!function(){E(this,(function(){const t=K,n=new RegExp(t(509)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=D(t(492));n[t(485)](r+t(506))&&e[t(485)](r+t(479))?D():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[K(522)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Z(){const t=["innerWidth","87536SvVjAM","table","test","call","intersectObject",'{}.constructor("return this")( )',"enabled","touch","button","init","toString","while (true) {}","return (function() ","trace","7842546vcDrKY","setFromCamera","firstHitOnly","pointerup","bind","18XNCGWI","prototype","stateObject","error","chain","pointermove","string","function *\\( *\\)","console","value","gger","435491yglMDM","constructor","2915991pfmQUi","30AgVyOg","log","38554384HHEisQ","length","debu","__proto__","apply","clientY","384447znoGmf","63964HVpjwb","addEventListener","231JmpXYk","Raycaster","input","515SgKQKD","pointerType"];return(Z=function(){return t})()}O(void 0,(function(){const t=K;let n;try{n=Function(t(495)+t(488)+");")()}catch(o){n=window}const e=n[t(510)]=n.console||{},r=[t(517),"warn","info",t(505),"exception",t(484),t(496)];for(let s=0;s<r[t(519)];s++){const n=O.constructor[t(503)][t(501)](O),o=r[s],i=e[o]||n;n[t(521)]=O[t(501)](O),n[t(493)]=i[t(493)][t(501)](i),e[o]=n}}))();function D(t){function n(t){const e=K;if(typeof t===e(508))return function(t){}[e(514)](e(494))[e(522)]("counter");1!==(""+t/t)[e(519)]||t%20==0?function(){return!0}.constructor(e(520)+e(512))[e(486)]("action"):function(){return!1}[e(514)](e(520)+e(512))[e(522)](e(504)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=H;function H(t,n){const e=Y();return(H=function(t,n){return e[t-=435]})(t,n)}!function(t,n){const e=H,r=Y();for(;;)try{if(739998===parseInt(e(486))/1+-parseInt(e(498))/2*(parseInt(e(504))/3)+-parseInt(e(488))/4+parseInt(e(467))/5+parseInt(e(519))/6*(-parseInt(e(459))/7)+parseInt(e(439))/8+parseInt(e(491))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(443)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Q(this,(function(){const t=H,n=new RegExp(t(495)),e=new RegExp(t(437),"i"),r=L(t(448));n[t(450)](r+t(510))&&e[t(450)](r+t(496))?L():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();U(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(466)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(485)]=n[t(485)]||{},r=[t(494),t(517),"info","error",t(442),t(446),"trace"];for(let o=0;o<r[t(436)];o++){const n=U.constructor[t(479)][t(435)](U),s=r[o],i=e[s]||n;n[t(518)]=U[t(435)](U),n[t(473)]=i[t(473)][t(435)](i),e[s]=n}}))();const $=["geometry",F(457)],q=[M(F(484),{args:[1,40,40]},null,-1),M(F(474),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],V=[F(470)],G=[M(F(474),{color:F(480),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function Y(){const t=["TresMesh","DynamicDrawUsage","return (function() ","6798915QQoRUj","active","Vector2","geometry","while (true) {}","value","toString","TresMeshStandardMaterial","setZ","getZ","push","intersectsSphere","prototype","#023249","getY","attributes","enabled","TresSphereGeometry","console","719548ChaJzK","setUsage","5725136GEnhIJ","call","color","6609915uSweiD","point","shapecast","log","function *\\( *\\)","input","model","2746XNornc","computeBoundsTree","applyMatrix4","setY","gger","containsPoint","1857cNmoIy","visible","debu","点击按钮","normal","count","chain","invert","fill","radius","getX","constructor","BufferAttribute","warn","__proto__","149208ykxGUr","MeshStandardMaterial","controls","生成模型","intersectsBox","scale","bind","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","8224376xDmqvR","copy","disposeBoundsTree","exception","apply","Matrix4","brushMesh","table","addButton","init","position","test","BufferGeometry","boundsTree","setScalar","action","setAttribute","string","material","targetMesh.value init","231nkSfVv","click","center","stateObject","raycast"];return(Y=function(){return t})()}const J=j({__name:F(497),props:{controls:{}},async setup(r){const o=F;let s,j;const z=r;(()=>{const t=H;i[t(451)][t(479)][t(499)]=d,i[t(451)][t(479)][t(441)]=y,l.prototype[t(463)]=w})();const T=([s,j]=v((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,j(),s),R=new(i[o(520)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),S=new Uint8Array(3*T[o(482)].position[o(509)]);S[o(512)](255);const X=new(i[o(516)])(S,3,!0);X[o(487)](i[o(465)]),T[o(455)](o(490),X);const B=b(null),C=b(null),E=b(!1),O=b(-1),Z=b(.2),D=new(i[o(469)]),{camera:Q,raycaster:U}=t(),Y=15/255,J=78/255,L=85/255;let N=null;_((()=>{const t=o;B[t(472)]&&(console.log(t(458),B[t(472)]),B.value[t(470)][t(499)](),N=T[t(452)],((t,n,e,r,o,s)=>{const c=K;window[c(476)](c(507),(e=>{const r=c;t.x=e.clientX/window[r(482)]*2-1,t.y=-e[r(523)]/window.innerHeight*2+1,n[r(511)]=!0})),window.addEventListener("pointerdown",(u=>{const a=c;t.x=u.clientX/window[a(482)]*2-1,t.y=-u[a(523)]/window.innerHeight*2+1,r[a(511)]=u[a(491)];const l=new(i[a(478)]);l[a(498)](t,e.value),l[a(499)]=!0;const p=l[a(487)](o[a(511)],!0);n[a(511)]=!0,s[a(489)]=0===p.length}),!0),window[c(476)](c(500),(t=>{const e=c;r.value=-1,t[e(481)]===e(490)&&(n.value=!1)}),!0)})(D,E,Q,O,B,z[t(521)][t(472)]))}));const{onLoop:P}=n();P((()=>{const t=o,n=T.index;if(C[t(472)])if(z[t(521)].value[t(468)]||!E.value)C.value.visible=!1;else{C[t(472)][t(524)][t(453)](Z[t(472)]),U[t(472)].setFromCamera(D,Q[t(472)]),U.value.firstHitOnly=!0;const e=U.value.intersectObject(B[t(472)],!0);if(e[t(436)]){C[t(472)].position[t(440)](e[0][t(492)]),z[t(521)][t(472)][t(483)]=!1,C[t(472)][t(505)]=!0;const r=new(i[t(444)]);r[t(440)](B.value.matrixWorld)[t(511)]();const o=new c;o[t(461)].copy(C[t(472)][t(449)])[t(500)](r),o[t(513)]=100*Z.value;const s=[],a=new u;if(null==N||N[t(493)]({intersectsBounds:n=>{const e=t,r=o[e(523)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(a[e(438)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(503)](a))return m;return g}return r?m:h},intersectsTriangle:(n,e,r)=>{if(r||n[t(478)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===O[t(472)]||2===O[t(472)]){let e=1,r=1,o=1;0===O[t(472)]&&(e=Y,r=J,o=L);for(let i=0,c=s.length;i<c;i++){const c=n.getX(s[i]);X.setX(c,e),X[t(501)](c,r),X[t(475)](c,o)}X.needsUpdate=!0}}else C.value[t(505)]=!1,z[t(521)].value.enabled=!0}}));const W=(new f)[o(447)]({title:o(507),label:o(522)}),tt=new a;return W.on(o(460),(()=>{const t=o,n=[],e=[];for(let o=0;o<X.count;o++)X[t(514)](o)===Y&&X[t(481)](o)===J&&X[t(476)](o)===L&&(n[t(477)](T[t(482)][t(449)][t(514)](o),T[t(482)][t(449)].getY(o),T.attributes.position[t(476)](o)),e.push(T.attributes[t(508)][t(514)](o),T[t(482)][t(508)][t(481)](o),T[t(482)][t(508)][t(476)](o)));const r=new Float32Array(n);tt[t(455)](t(449),new(i[t(516)])(r,3)),tt.setAttribute(t(508),new(i[t(516)])(r,3))})),(t,n)=>{const e=o;return I(),x(A,null,[M(e(464),{ref_key:"targetMesh",ref:B,geometry:k(T),scale:.005,material:k(R)},null,8,$),M("TresMesh",{ref_key:e(445),ref:C,visible:!1},q,512),M(e(464),{geometry:k(tt),position:[-2,-2,2],scale:.005},G,8,V)],64)}}});function L(t){function n(t){const e=H;if(typeof t===e(456))return function(t){}[e(515)](e(471))[e(443)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(515)](e(506)+e(502))[e(489)](e(454)):function(){return!1}.constructor(e(506)+"gger")[e(443)](e(462)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=nt;!function(t,n){const e=nt,r=W();for(;;)try{if(523692===-parseInt(e(512))/1+parseInt(e(521))/2*(-parseInt(e(535))/3)+-parseInt(e(505))/4+-parseInt(e(510))/5*(parseInt(e(540))/6)+parseInt(e(541))/7+-parseInt(e(523))/8*(-parseInt(e(502))/9)+parseInt(e(520))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(503)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(){const t=["neg-y.jpg","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","neg-x.jpg","2859LmXuMu","warn","info","input","#999999","4779732mQjyyK","2099251BePitP","while (true) {}","string","chain","exception","debu","toString","console","319437KHuMKb","apply","TresCanvas","2516464bqKowd","test","trace","value","counter","5wzFytN","collectTriangles","540040yAgmZj","function *\\( *\\)",'{}.constructor("return this")( )',"length","bind","action","pos-y.jpg","gger","20345200TQoUQy","196qlvtmE","table","56mVkqKX","log","return (function() ","constructor","TresPerspectiveCamera","pos-x.jpg","error","TresAmbientLight","init"];return(W=function(){return t})()}!function(){P(this,(function(){const t=nt,n=new RegExp(t(513)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=st(t(531));n[t(506)](r+t(544))&&e[t(506)](r+t(538))?st():r("0")}))()}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function nt(t,n){const e=W();return(nt=function(t,n){return e[t-=498]})(t,n)}tt(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(525)+t(514)+");")()}catch(e){n=window}return n}(),e=n[t(501)]=n[t(501)]||{},r=[t(524),t(536),t(537),t(529),t(498),t(522),t(507)];for(let o=0;o<r[t(515)];o++){const n=tt[t(526)].prototype[t(516)](tt),s=r[o],i=e[s]||n;n.__proto__=tt.bind(tt),n[t(500)]=i[t(500)].bind(i),e[s]=n}}))();const et=M(N(527),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),rt=M(N(530),{intensity:1},null,-1),ot=j({__name:N(511),setup(t){const n=N,e=z({clearColor:n(539),antialias:!0}),i=z({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=T(a(504));return I(),x(A,null,[R(k(o)),R(l,X(e,{"window-size":""}),{default:S((()=>[et,R(k(r),X({ref_key:"controlsRef",ref:c},i),null,16),rt,(I(),B(C,null,{default:S((()=>[R(J,{controls:c[a(508)]},null,8,["controls"])])),_:1})),(I(),B(C,null,{default:S((()=>[R(k(s),{background:!1,files:[a(528),a(534),a(518),a(532),"pos-z.jpg","neg-z.jpg"],path:a(533)})])),_:1}))])),_:1},16)],64)}}});function st(t){function n(t){const e=nt;if(typeof t===e(543))return function(t){}[e(526)](e(542)).apply(e(509));1!==(""+t/t)[e(515)]||t%20==0?function(){return!0}.constructor(e(499)+"gger").call(e(517)):function(){return!1}.constructor(e(499)+e(519))[e(503)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ot as default};
