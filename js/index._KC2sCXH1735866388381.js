var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.cIDWrYX71735866388381.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.KbXI9glQ1735866388381.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.QLVCW5Vm1735866388381.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,A as v}from"./three.Rja0AEnA1735866388381.js";import{m,e as h}from"./@tresjs.FlKhQDQ71735866388381.js";import{u as w}from"./index.id5kPtm81735866388381.js";import{F as g,C as d}from"./three-stdlib.ljGSSKXp1735866388381.js";import{d as y}from"./@vue.yG49nQHr1735866388381.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.dm0bgwtl1735866388381.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.eP-ga2N11735866388381.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.fLu_QM1L1735866388381.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.pU4oP8vp1735866388381.js";import"./imgFloor.vue_vue_type_script_setup_true_lang._NaZfJ6Z1735866388381.js";const S=b;!function(t,e){const n=b,i=P();for(;;)try{if(448133===parseInt(n(223))/1*(-parseInt(n(207))/2)+-parseInt(n(226))/3+parseInt(n(234))/4+parseInt(n(235))/5*(-parseInt(n(202))/6)+parseInt(n(222))/7*(-parseInt(n(215))/8)+parseInt(n(225))/9+parseInt(n(230))/10*(parseInt(n(214))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const _=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function P(){const t=["log","4036554MZErkw","2402427uhoEqi","init","debu","action","10XOQMLp","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","1016524wumqVq","9245oMUGAP",'{}.constructor("return this")( )','\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"1596HtFKww","apply","gger","return (function() ","constructor","78BHwNWd","input","length","__proto__","error","function *\\( *\\)","table","23216699lbdAuT","22968MwfsIB","chain","toString","stateObject","call","string","test","1743MOgwrz","9169Dtvhla"];return(P=function(){return t})()}!function(){_(this,(function(){const t=b,e=new RegExp(t(212)),n=new RegExp(t(232),"i"),i=M(t(227));e[t(221)](i+t(216))&&n[t(221)](i+t(208))?M():i("0")}))()}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(203)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function b(t,e){const n=P();return(b=function(t,e){return n[t-=200]})(t,e)}z(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(205)+t(200)+");")()}catch(n){e=window}return e}(),n=e[t(231)]=e[t(231)]||{},i=[t(224),"warn","info",t(211),"exception",t(213),"trace"];for(let r=0;r<i[t(209)];r++){const e=z[t(206)].prototype.bind(z),a=i[r],o=n[a]||e;e[t(210)]=z[t(233)](z),e[t(217)]=o[t(217)][t(233)](o),n[a]=e}}))();const I=S(201);function M(t){function e(t){const n=b;if(typeof t===n(220))return function(t){}[n(206)]("while (true) {}")[n(203)]("counter");1!==(""+t/t)[n(209)]||t%20==0?function(){return!0}[n(206)](n(228)+n(204))[n(219)](n(229)):function(){return!1}[n(206)](n(228)+n(204))[n(203)](n(218)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=V;function A(){const t=["135VBaURW","clone","1850WMKAfm","14010831weWrND","test","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","call","apply","36vRyYfE",'{}.constructor("return this")( )',"6308AhMfoM","159607sdcLyw","prototype","while (true) {}","trace","string","defines","exception","info","27533reeQGP","6ILPQHF","154pnKhlV","gger","debu","591916EmlExa","warn","table","11310663SuWTEz","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","input","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","return (function() ","length","console","uniforms","272LVpank","110748QaYMTx"];return(A=function(){return t})()}!function(t,e){const n=V,i=A();for(;;)try{if(873019===parseInt(n(443))/1*(parseInt(n(432))/2)+parseInt(n(442))/3*(-parseInt(n(446))/4)+-parseInt(n(422))/5*(-parseInt(n(421))/6)+parseInt(n(433))/7*(parseInt(n(420))/8)+parseInt(n(425))/9+parseInt(n(424))/10*(parseInt(n(441))/11)+parseInt(n(430))/12*(-parseInt(n(449))/13))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(429)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){L(this,(function(){const t=V,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(453),"i"),i=O("init");e.test(i+"chain")&&n[t(426)](i+t(451))?O():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function D(t){const e=V,n=a({},t);return e(438)in t&&(n[e(438)]=a({},t[e(438)])),e(458)in t&&(n[e(458)]=s[e(423)](t[e(458)])),n}U(void 0,(function(){const t=V;let e;try{e=Function(t(455)+t(431)+");")()}catch(r){e=window}const n=e[t(457)]=e[t(457)]||{},i=["log",t(447),t(440),"error",t(439),t(448),t(436)];for(let a=0;a<i[t(456)];a++){const e=U[t(454)][t(434)].bind(U),r=i[a],o=n[r]||e;e.__proto__=U.bind(U),e[t(452)]=o.toString.bind(o),n[r]=e}}))();const T={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:E(427),fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+I+E(450)};function V(t,e){const n=A();return(V=function(t,e){return n[t-=420]})(t,e)}function O(t){function e(t){const n=V;if(typeof t===n(437))return function(t){}[n(454)](n(435))[n(429)]("counter");1!==(""+t/t)[n(456)]||t%20==0?function(){return!0}[n(454)](n(445)+n(444))[n(428)]("action"):function(){return!1}[n(454)](n(445)+n(444))[n(429)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const j=k;!function(t,e){const n=k,i=C();for(;;)try{if(781082===parseInt(n(245))/1+-parseInt(n(228))/2*(parseInt(n(239))/3)+-parseInt(n(278))/4*(parseInt(n(233))/5)+-parseInt(n(240))/6+-parseInt(n(265))/7*(-parseInt(n(221))/8)+-parseInt(n(235))/9+parseInt(n(217))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(267)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function k(t,e){const n=C();return(k=function(t,e){return n[t-=208]})(t,e)}!function(){R(this,(function(){const t=k,e=new RegExp(t(275)),n=new RegExp(t(273),"i"),i=Z("init");e[t(214)](i+"chain")&&n[t(214)](i+t(230))?Z():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(267)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(){const t=["warn","autoClear","getRenderTarget","texture","544814zrslsJ","tDiffuse","input","width","constructor","345485rhGIUq","height","5619861pwshSd","__proto__","value","log","15HlVTMb","2146764JhqfvB","material","error","render","length","1025482uMPsPZ","bind","image","dispose","_swapTarget","counter","setClearAlpha","_mipMaterials","toString","_copyQuad","minFilter","gger","X_IS_EVEN","while (true) {}","clear","action","setClearColor","forEach","setRenderTarget","copy","513905tBtGJs","stateObject","apply","floorPowerOfTwo","setSize","magFilter","defines","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","function *\\( *\\)","debu","parentLevel","4ucdKBU","getClearAlpha","Y_IS_EVEN","string","uniforms","isWebGLRenderTarget","exception","trace","getClearColor","return (function() ","map","test","camera","console","20955400tlciGk","replace","parentMapSize","floor","8bnPtxp","_mipQuad","update"];return(C=function(){return t})()}W(void 0,(function(){const t=k;let e;try{e=Function(t(212)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(216)]=e[t(216)]||{},i=[t(238),t(224),"info",t(242),t(209),"table",t(210)];for(let a=0;a<i[t(244)];a++){const e=W[t(232)][t(272)][t(246)](W),r=i[a],o=n[r]||e;e[t(236)]=W[t(246)](W),e[t(253)]=o.toString.bind(o),n[r]=e}}))();const F=new l;class N{constructor(t){const e=k;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=D(T);n.fragmentShader=n.fragmentShader[e(218)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(D(n)),i[0].defines[e(257)]=0,i[0].defines[e(280)]=0,i[1]=new c(D(n)),i[1][e(271)][e(257)]=1,i[1][e(271)].Y_IS_EVEN=0,i[2]=new c(D(n)),i[2].defines.X_IS_EVEN=0,i[2][e(271)][e(280)]=1,i[3]=new c(D(n)),i[3][e(271)][e(257)]=1,i[3][e(271)][e(280)]=1;const r=new u;r.texture[e(255)]=p,r[e(227)][e(270)]=p,this[e(249)]=r,this[e(254)]=new g(new c(d)),this[e(222)]=new g(null),this[e(252)]=i}[j(223)](t,e,n,i=!1){const r=j;t[r(208)]&&(t=t[r(227)]);const o=n[r(225)],s=n[r(279)](),l=n[r(226)]();n[r(211)](F);const c=this[r(254)],u=this[r(222)],p=this[r(249)],x=this._mipMaterials;let v,m;i?(v=f[r(268)](t[r(247)][r(231)]),m=f.floorPowerOfTwo(t.image[r(234)])):(v=Math[r(220)](t[r(247)].width),m=Math.floor(t[r(247)].height));const h=Math[r(220)](1.5*v),w=Math.floor(m);e.setSize(h,w),p.texture.type!==e[r(227)].type?(p[r(248)](),p[r(264)](e),p[r(227)][r(247)]=a({},p.texture[r(247)])):p[r(269)](h,w),n.autoClear=!1,n[r(261)](0),n[r(251)](),c.material[r(282)][r(229)][r(237)]=t,c[r(215)].setViewOffset(v,m,0,0,h,w),n[r(263)](e),n[r(259)](),c[r(243)](n),n[r(263)](p),n.clear(),c[r(243)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(282)].map.value=p[r(227)],t[r(282)][r(277)][r(237)]=y,t[r(282)][r(219)][r(237)][r(274)](g,d),t[r(282)].originalMapSize[r(237)].set(v,m),u[r(241)]=t,g=Math[r(220)](g/2),d=Math[r(220)](d/2);const i=w-2*d;n.setRenderTarget(e),u[r(215)].setViewOffset(g,d,-v,-i,h,w),u[r(243)](n),n.setRenderTarget(p),t.uniforms[r(213)][r(237)]=e.texture,u.render(n),y++}return n[r(263)](l),n[r(251)](s),n.setClearColor(F),n[r(225)]=o,y+1}[j(248)](){const t=j;this[t(249)][t(248)](),this[t(222)][t(248)](),this._copyQuad[t(248)](),this[t(252)][t(262)]((e=>e[t(248)]()))}}function Z(t){function e(t){const n=k;if(typeof t===n(281))return function(t){}[n(232)](n(258))[n(267)](n(250));1!==(""+t/t)[n(244)]||t%20==0?function(){return!0}[n(232)](n(276)+n(256)).call(n(260)):function(){return!1}[n(232)](n(276)+n(256))[n(267)](n(266)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const H=B;function B(t,e){const n=Y();return(B=function(t,e){return n[t-=326]})(t,e)}!function(t,e){const n=B,i=Y();for(;;)try{if(275719===-parseInt(n(376))/1+parseInt(n(375))/2*(-parseInt(n(339))/3)+parseInt(n(401))/4+-parseInt(n(390))/5+-parseInt(n(347))/6+-parseInt(n(370))/7*(-parseInt(n(362))/8)+parseInt(n(369))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){X(this,(function(){const t=B,e=new RegExp(t(330)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=$("init");e[t(354)](i+t(388))&&n.test(i+t(346))?$():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Y(){const t=["input","682962AdIBUV","exception","return (function() ","parent","elements","update","resolution","test","set","constructor","reflectorMipMap","call","reflect","projectionMatrix","Quaternion","8PiZhlU","__proto__","depth","info","warn","getRenderTarget","length","2328921zqypTN","2071237TPYlYI","forEach","multiply","UnsignedByteType","multiplyScalar","584AsGIZb","256532BBovAo","Plane","projectPoint","log","setMask","toString","setRenderTarget","matrixWorld","updateMatrixWorld","sign","clone","bind","chain","apply","566580TeFMgW","action","copy","getWorldPosition","lookAt","Vector3","ignoreObjects","gger","getWorldQuaternion","dot","sub","1557112VIUpZs","prototype","console","matrixWorldInverse","negate","normal","position","debu","applyQuaternion","function *\\( *\\)","constant","error","applyMatrix4","table","autoClear","stateObject","clear","Matrix4","1896bsknwI","PerspectiveCamera","Vector4","add","while (true) {}","value","string"];return(Y=function(){return t})()}G(void 0,(function(){const t=B,e=function(){const t=B;let e;try{e=Function(t(349)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(403)]=e[t(403)]||{},i=[t(379),t(366),t(365),t(332),t(348),t(334),"trace"];for(let r=0;r<i[t(368)];r++){const e=G.constructor[t(402)][t(387)](G),a=i[r],o=n[a]||e;e[t(363)]=G.bind(G),e.toString=o[t(381)].bind(o),n[a]=e}}))();const Q=y({__name:H(357),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=H,i=t,r=new(x[n(377)]),a=new(x[n(338)]),o=new(x[n(340)]),s=new N,l=w({width:i.resolution,height:i.resolution,settings:{type:x[n(373)]}}),c=w({width:i[n(353)],height:i.resolution,settings:{type:v}}),{camera:u,renderer:p,scene:f}=m(),{onBeforeLoop:g}=h();return g((()=>{const t=n;(()=>{const t=n;if(!u[t(344)])return;r[t(355)](new(x[t(395)])(0,1,0),0),r[t(333)](i[t(350)][t(383)]),o[t(392)](u[t(344)]);const e=new(x[t(395)])(0,0,1)[t(386)]()[t(405)](),s=u[t(344)][t(393)](new(x[t(395)]));e[t(359)](r[t(326)]);const c=new(x[t(395)]);r[t(378)](s,c);const v=c[t(386)]();v[t(400)](s),v.add(c),o[t(327)].copy(v);const m=new(x[t(395)])(0,0,-1);m[t(329)](u[t(344)][t(398)](new(x[t(361)]))),m[t(342)](s);const h=new(x[t(395)]);i.parent[t(393)](h),h[t(400)](m),h[t(359)](r[t(326)])[t(405)](),h[t(342)](i[t(350)][t(393)](new(x[t(395)]))),o.up[t(355)](0,1,0),o[t(329)](u[t(344)][t(398)](new(x[t(361)]))),o.up[t(359)](r[t(326)]),o[t(394)](h),o[t(384)]();const w=new(x[t(338)]);w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(o[t(360)]),w[t(372)](o.matrixWorldInverse),a[t(392)](w),r[t(333)](o[t(404)]);const g=new(x[t(341)])(r.normal.x,r.normal.y,r[t(326)].z,r[t(331)]),d=o.projectionMatrix,y=new(x[t(341)]);y.x=(Math[t(385)](g.x)+d[t(351)][8])/d[t(351)][0],y.y=(Math[t(385)](g.y)+d[t(351)][9])/d[t(351)][5],y.z=-1,y.w=(1+d[t(351)][10])/d[t(351)][14],g[t(374)](2/g[t(399)](y)),d[t(351)][2]=g.x,d[t(351)][6]=g.y,d[t(351)][10]=g.z+1,d[t(351)][14]=g.w;const S=p.value[t(367)]();p[t(344)][t(382)](l.value),p[t(344)].state.buffers[t(364)][t(380)](!0),!1===p[t(344)][t(335)]&&p[t(344)][t(337)](),i[t(396)][t(371)]((t=>t.visible=!1)),p[t(344)].render(f.value,o),i[t(396)].forEach((t=>t.visible=!0)),p[t(344)][t(382)](S)})(),l[t(344)]&&c[t(344)]&&p[t(344)]&&s[t(352)](l[t(344)].texture,c[t(344)],p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(t){function e(t){const n=B;if(typeof t===n(345))return function(t){}[n(356)](n(343))[n(389)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(356)](n(328)+n(397))[n(358)](n(391)):function(){return!1}[n(356)](n(328)+n(397)).apply(n(336)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=K();;)try{if(592769===parseInt(n(172))/1*(-parseInt(n(179))/2)+-parseInt(n(180))/3*(-parseInt(n(158))/4)+-parseInt(n(160))/5+-parseInt(n(151))/6+parseInt(n(159))/7+-parseInt(n(150))/8*(parseInt(n(171))/9)+parseInt(n(163))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(166)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){var t=tt,e=new RegExp(t(178)),n=new RegExp(t(148),"i"),i=et(t(176));e.test(i+t(168))&&n[t(161)](i+"input")?et():i("0")}))()}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(166)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function K(){var t=["gger","toString","init","bind","function *\\( *\\)","122EwMtLW","9TdSTQO","constructor","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","11728XFUFfN","6328218FaXrrB","action","log","console","counter","error","warn","598820sbHTlX","3617509GBBqbT","3861015BZaCRh","test","length","29501640WtARXX","exception","string","apply","call","chain","prototype","info","6039hJvjXA","8405hZaDhl","while (true) {}"];return(K=function(){return t})()}function tt(t,e){var n=K();return(tt=function(t,e){return n[t-=146]})(t,e)}function et(t){function e(t){var n=tt;if(typeof t===n(165))return function(t){}[n(146)](n(173))[n(166)](n(155));1!==(""+t/t)[n(162)]||t%20==0?function(){return!0}.constructor("debu"+n(174))[n(167)](n(152)):function(){return!1}[n(146)]("debu"+n(174))[n(166)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}J(void 0,(function(){var t,e=tt;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t.console=t[e(154)]||{},i=[e(153),e(157),e(170),e(156),e(164),e(147),"trace"],r=0;r<i.length;r++){var a=J.constructor[e(169)].bind(J),o=i[r],s=n[o]||a;a[e(149)]=J.bind(J),a[e(175)]=s[e(175)][e(177)](s),n[o]=a}}))();export{Q as _};
