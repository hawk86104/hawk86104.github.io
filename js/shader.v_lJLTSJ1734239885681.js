import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.qWeugQU61734239885681.js";import{_ as i,C as s,aB as c,cm as a}from"./three.NPKhDGTA1734239885681.js";import{P as u}from"./tweakpane.yHWGBmom1734239885681.js";import{L as l}from"./three-subdivide.z2hU5jxW1734239885681.js";import{d as f,b as p,a3 as d,w as m,o as g,D as h,J as v,aj as y,ak as b,a6 as w,r as I,e as _,f as x,g as M,j as S,u as B,m as T,I as j}from"./@vue.-THQH3GC1734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";const k=C;!function(n,t){const e=C,r=F();for(;;)try{if(891992===parseInt(e(367))/1*(parseInt(e(329))/2)+parseInt(e(368))/3*(-parseInt(e(343))/4)+-parseInt(e(371))/5+parseInt(e(369))/6*(parseInt(e(332))/7)+-parseInt(e(352))/8*(-parseInt(e(373))/9)+-parseInt(e(362))/10+-parseInt(e(359))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=F();return(C=function(n,t){return e[n-=323]})(n,t)}!function(){A(this,(function(){const n=C,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(355),"i"),r=N(n(340));t.test(r+"chain")&&e[n(357)](r+n(365))?N():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(356)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function F(){const n=["4DJwVJn","TresMesh","warn","side","subdivision","info","Vector3","console","shineShader","7120gRmfcB","geometry","FrontSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","test","debu","9364949xQiOjO","viewVector","scale","4780990UQBFkm","action","modify","input","position","3143gPtVZM","2358933xhVoDJ","738txSsKN","clone","2964615BikEaI","length","14742pHrFef","#ffff00","AdditiveBlending","toString","call","constructor","while (true) {}","exception","prototype","error","value","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","return (function() ","gger","498WtNudQ","color","bind","77413njFTCN","log","attributes","srcMesh","blending","TSGref","trace","glowColor","init","stateObject","uniforms"];return(F=function(){return n})()}V(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function(n(327)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(350)]=t[n(350)]||{},r=[n(333),n(345),n(348),n(324),n(380),"table",n(338)];for(let o=0;o<r[n(372)];o++){const t=V.constructor[n(323)][n(331)](V),i=r[o],s=e[i]||t;t.__proto__=V[n(331)](V),t.toString=s[n(376)][n(331)](s),e[i]=t}}))();const R=[k(361)],z=f({__name:k(351),props:{srcMesh:{},scale:{default:1.2},color:{default:k(374)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(354)]},blending:{default:i[k(375)]}},setup(e){const r=k,o=e,c=p(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new s(o[r(330)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(326),side:o[r(346)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};d((()=>{const n=r;if(o.srcMesh&&c[n(325)]&&!c[n(325)].geometry[n(334)][n(366)]){let t=o[n(335)][n(353)][n(370)]();o[n(347)]&&(t=l[n(364)](t,2)),c.value[n(353)]=t,c[n(325)][n(366)].copy(o[n(335)].position)}o[n(330)]&&(a[n(342)][n(339)][n(325)]=new s(o[n(330)])),o.c&&(a.uniforms.c[n(325)]=o.c),o.p&&(a[n(342)].p[n(325)]=o.p)})),m((()=>o[r(347)]),(n=>{const t=r;let e=o[t(335)][t(353)].clone();n&&(e=l.modify(e,2)),c[t(325)].geometry=e})),m((()=>o.side),(n=>{const t=r;c[t(325)].material[t(346)]=n})),m((()=>o[r(336)]),(n=>{const t=r;c.value.material[t(336)]=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=r;f.value&&c[n(325)]&&(a.uniforms[n(360)][n(325)]=(new(i[n(349)])).subVectors(f[n(325)][n(366)],c[n(325)][n(366)]))})),(n,t)=>{const e=r;return g(),h(e(344),{ref_key:e(337),ref:c,scale:o[e(361)]},[v("TresShaderMaterial",y(b(a)),null,16)],8,R)}}});function N(n){function t(n){const e=C;if("string"==typeof n)return function(n){}[e(378)](e(379))[e(356)]("counter");1!==(""+n/n)[e(372)]||n%20==0?function(){return!0}.constructor("debu"+e(328))[e(377)](e(363)):function(){return!1}[e(378)](e(358)+e(328))[e(356)](e(341)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function D(){const n=["while (true) {}","map","TresMeshRefA","20rLpNaC","stateObject",'{}.constructor("return this")( )',"TresSphereGeometry","addBinding","srcMesh","side","return (function() ","counter","704437upyRWU","FrontSide","init","49344XYFElo","TresMesh","6272376IiRUpz","string","instance","chain","DoubleSide","apply","console","#222","1677785ZVwCqI","TresCanvas","prototype","logo.png","边缘处理","table","shader","subdivision","constructor","1029GVgzkL","test","AdditiveBlending","toString","call","__proto__","input","action","warn","42936SIYHGs","TresGridHelper","gger","bind","TresPerspectiveCamera","TresBoxGeometry","TresMeshBasicMaterial","exception","TresMeshRefB","scale","length","2890226ABUnIf","BackSide","18DXTqAO","value","5419090SqcRFi"];return(D=function(){return n})()}const E=U;!function(n,t){const e=U,r=D();for(;;)try{if(874159===parseInt(e(203))/1+parseInt(e(245))/2+-parseInt(e(234))/3*(parseInt(e(253))/4)+-parseInt(e(216))/5+-parseInt(e(208))/6+parseInt(e(225))/7*(-parseInt(e(206))/8)+-parseInt(e(247))/9*(-parseInt(e(249))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[U(213)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){G(this,(function(){const n=U,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=J(n(205));t[n(226)](r+n(211))&&e[n(226)](r+n(231))?J():r("0")}))()}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[U(213)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Z(void 0,(function(){const n=U,t=function(){const n=U;let t;try{t=Function(n(260)+n(255)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(214)]||{},r=["log",n(233),"info","error",n(241),n(221),"trace"];for(let o=0;o<r[n(244)];o++){const t=Z[n(224)][n(218)][n(237)](Z),i=r[o],s=e[i]||t;t[n(230)]=Z[n(237)](Z),t[n(228)]=s.toString.bind(s),e[i]=t}}))();const L=[E(251)],O=[E(251)];function U(n,t){const e=D();return(U=function(n,t){return e[n-=202]})(n,t)}const q=f({__name:E(222),async setup(n){const t=E;let s,l;const f={clearColor:t(215)},d=p(),m=p(),h=p(),y=([s,l]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(219)]))),s=await s,l(),s),b=I({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(204)],blending:i[t(227)]}),k=new u({title:"参数",expanded:!0});return k.addBinding(b,"color",{label:"颜色"}),k[t(257)](b,t(243),{label:"大小",min:1,max:3,step:.2}),k[t(257)](b,t(223),{label:t(220)}),k.addBinding(b,"c",{label:"c",min:0,max:2,step:.1}),k[t(257)](b,"p",{label:"p",min:0,max:8,step:.2}),k[t(257)](b,t(259),{options:{FrontSide:i[t(204)],BackSide:i[t(246)],DoubleSide:i[t(212)]}}),k.addBinding(b,"blending",{options:{AdditiveBlending:c,NormalBlending:a}}),(n,o)=>{const i=t,s=_(i(217));return g(),x(s,T(f,{"window-size":""}),{default:M((()=>[o[2]||(o[2]=v(i(238),{position:[5,5,5]},null,-1)),o[3]||(o[3]=v("TresAmbientLight",{intensity:1},null,-1)),S(B(e)),o[4]||(o[4]=v(i(235),{args:[10,10]},null,-1)),v(i(207),{ref_key:i(252),ref:d,position:[-2,1,0]},[o[0]||(o[0]=v(i(256),{args:[1,32,16]},null,-1)),v(i(240),{map:B(y)[0]},null,8,L)],512),S(z,T({srcMesh:d[i(248)]},b),null,16,["srcMesh"]),S(B(r),{ref_key:"TreBoxRef",ref:h,args:[1,1,1],position:[2,1,0]},{default:M((()=>[v(i(240),{map:B(y)[1]},null,8,O)])),_:1},512),h.value&&h[i(248)][i(210)]?(g(),x(z,T({key:0,srcMesh:h[i(248)][i(210)]},b),null,16,[i(258)])):j("",!0),v("TresMesh",{ref_key:i(242),ref:m,position:[0,1,-2]},o[1]||(o[1]=[v(i(239),{args:[1,1,1,1,1]},null,-1),v(i(240),{color:"#0ff"},null,-1)]),512),S(z,T({srcMesh:m[i(248)]},b),null,16,[i(258)])])),_:1},16)}}});function J(n){function t(n){const e=U;if(typeof n===e(209))return function(n){}[e(224)](e(250))[e(213)](e(202));1!==(""+n/n).length||n%20==0?function(){return!0}[e(224)]("debu"+e(236))[e(229)](e(232)):function(){return!1}.constructor("debu"+e(236))[e(213)](e(254)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{q as default};
