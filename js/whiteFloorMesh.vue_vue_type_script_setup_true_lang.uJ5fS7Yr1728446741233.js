import{bT as t,_ as n,U as o,au as r,C as e}from"./three.GKtOCofD1728446741233.js";import{z as a}from"./@tresjs.2zzrlbpQ1728446741233.js";import{d as s,b as c,a4 as u,w as i,o as f,E as l,L as p,aj as h,ak as g}from"./@vue.JNsx1iN61728446741233.js";!function(t,n){const o=m,r=w();for(;;)try{if(444758===-parseInt(o(396))/1+parseInt(o(379))/2+-parseInt(o(424))/3*(parseInt(o(390))/4)+parseInt(o(384))/5*(parseInt(o(407))/6)+-parseInt(o(400))/7+-parseInt(o(414))/8+parseInt(o(409))/9*(parseInt(o(397))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(411)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=w();return(m=function(t,n){return o[t-=378]})(t,n)}!function(){d(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(412),"i"),r=I("init");n[t(420)](r+t(392))&&o[t(420)](r+t(418))?I():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(411)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function w(){const t=["stateObject","log","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","101982YgFpMY","10jQUyAI","\n          ","action","198520GReQMV","bind","constructor","shadowmap_pars_vertex","ShaderChunk",'{}.constructor("return this")( )',"beginnormal_vertex","20562lHAtKe","string","12361698mJjmeY","counter","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n      \t","5585408MLSMjF","warn","project_vertex","toString","input","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","test","return (function() ","gger","console","2433hoaGEX","call","\n\t ","common","__proto__","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","defaultnormal_vertex","debu","lights_pars_begin","48404FMQxQv","info","bsdfs","while (true) {}","packing","965xibjTw","\n       void main() {\n\t\t\t\t\t","worldpos_vertex","trace","shadowmap_pars_fragment","length","3876xTnOtw","begin_vertex","chain"];return(w=function(){return t})()}v(void 0,(function(){const t=m;let n;try{n=Function(t(421)+t(405)+");")()}catch(e){n=window}const o=n[t(423)]=n[t(423)]||{},r=[t(394),t(415),t(380),"error","exception","table",t(387)];for(let a=0;a<r.length;a++){const n=v[t(402)].prototype[t(401)](v),e=r[a],s=o[e]||n;n[t(428)]=v[t(401)](v),n.toString=s[t(417)][t(401)](s),o[e]=n}}))();const _=()=>{const o=m;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(427)]+o(413)+n[o(404)][o(381)]+o(413)+n[o(404)][o(403)]+o(385)+n[o(404)][o(406)]+o(398)+t[o(430)]+o(398)+n[o(404)][o(391)]+o(398)+n[o(404)][o(416)]+o(398)+n[o(404)][o(386)]+"\n          "+t.shadowmap_vertex+o(429)},x=()=>{const o=m;return o(419)+n[o(404)][o(427)]+o(426)+n[o(404)][o(383)]+o(426)+n[o(404)].bsdfs+o(426)+t[o(378)]+o(426)+n[o(404)][o(388)]+o(426)+n[o(404)].shadowmask_pars_fragment+o(395)};function I(t){function n(t){const o=m;if(typeof t===o(408))return function(t){}[o(402)](o(382))[o(411)](o(410));1!==(""+t/t)[o(389)]||t%20==0?function(){return!0}[o(402)](o(431)+o(422))[o(425)](o(399)):function(){return!1}.constructor(o(431)+"gger")[o(411)](o(393)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=E;!function(t,n){const o=E,r=T();for(;;)try{if(384068===parseInt(o(347))/1*(parseInt(o(325))/2)+-parseInt(o(352))/3*(parseInt(o(323))/4)+-parseInt(o(339))/5*(parseInt(o(368))/6)+-parseInt(o(362))/7+parseInt(o(348))/8+-parseInt(o(317))/9*(-parseInt(o(353))/10)+parseInt(o(371))/11*(parseInt(o(367))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[E(377)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=E,n=new RegExp(t(376)),o=new RegExp(t(356),"i"),r=A(t(341));n.test(r+t(334))&&o[t(345)](r+t(354))?A():r("0")}))()}();const j=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[E(377)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();j(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(321)+t(344)+");")()}catch(o){n=window}return n}(),o=n[t(346)]=n[t(346)]||{},r=[t(369),t(316),t(366),t(355),t(378),t(322),"trace"];for(let e=0;e<r[t(374)];e++){const n=j[t(358)].prototype[t(364)](j),a=r[e],s=o[a]||n;n[t(343)]=j[t(364)](j),n[t(372)]=s.toString[t(364)](s),o[a]=n}}))();const y=[b(331)],C=[b(360)];function T(){const t=["__proto__",'{}.constructor("return this")( )',"test","console","7741AvJjJQ","5120616AHbmST","edge","Color","DoubleSide","2262213EIjTDF","159730LdVTXe","input","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","constructor","counter","args","uColor","4020226mwqOHQ","uShadowColor","bind","#999","info","12XDADOf","575214evtnaK","log","shadowColor","7845079ZEWlNK","toString","wrapS","length","tmRef","function *\\( *\\)","apply","exception","warn","297gqSxzB","gger","debu","string","return (function() ","table","4nNsrKX","whiteFloorMesh","130vjXRJj","merge","RepeatWrapping","wrapT","#990","color","rotation-x","TresMesh","uniforms","chain","lights","call","while (true) {}","fEdge","35WDHrjB","value","init","TresPlaneGeometry"];return(T=function(){return t})()}const M=s({__name:b(324),props:{size:{default:[20,20]},color:{default:b(329)},shadowColor:{default:b(365)},edge:{default:.35}},async setup(t){const s=b;let d,m;const v=t,w=c(),{map:I}=([d,m]=u((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,m(),d);I[s(373)]=I[s(328)]=n[s(327)];const S={uniforms:o[s(326)]([r[s(335)],{uTexture:{type:"t",value:I},uColor:{value:new(n[s(350)])(v[s(330)])},uShadowColor:{value:new e(v[s(370)])},fEdge:{type:"f",value:v[s(349)]}}]),side:n[s(351)],vertexShader:_(),fragmentShader:x(),lights:!0,transparent:!0};return i((()=>v[s(349)]),(t=>{const n=s;S[n(333)][n(338)][n(340)]=t})),i((()=>v[s(330)]),(t=>{const o=s;S.uniforms[o(361)][o(340)]=new(n[o(350)])(v[o(330)])})),i((()=>v.shadowColor),(t=>{const o=s;S[o(333)][o(363)][o(340)]=new(n[o(350)])(v.shadowColor)})),(t,n)=>{const o=s;return f(),l(o(332),{ref_key:o(375),ref:w,"rotation-x":-Math.PI/2},[p(o(342),{args:v.size},null,8,C),p("TresShaderMaterial",h(g(S)),null,16)],8,y)}}});function E(t,n){const o=T();return(E=function(t,n){return o[t-=316]})(t,n)}function A(t){function n(t){const o=E;if(typeof t===o(320))return function(t){}[o(358)](o(337))[o(377)](o(359));1!==(""+t/t)[o(374)]||t%20==0?function(){return!0}[o(358)](o(319)+o(318))[o(336)](o(357)):function(){return!1}[o(358)](o(319)+"gger")[o(377)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as _};
