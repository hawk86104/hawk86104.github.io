import{m as t,e as n,j as e,o as r,J as o}from"./@tresjs.Uh9iM8du1742436572432.js";import{_ as s}from"./index.bPaOdh6w1742436572432.js";import{_ as i,V as c,M as u,e as a,c8 as l}from"./three.RUAk_tvU1742436572432.js";import{P as p}from"./tweakpane.yDiyAAkA1742436572432.js";import{I as f,C as g,N as h,c as d,d as m,a as y}from"./three-mesh-bvh.OK1RUacG1742436572432.js";import{d as w,a3 as b,b as v,a2 as j,o as I,H as _,N as x,u as A,F as T,r as S,e as M,j as z,g as E,m as O,f as R,al as k}from"./@vue.deO5D3Lf1742436572432.js";import"./postprocessing.5QD_59xS1742436572432.js";import"./@vueuse.F4UpVCIS1742436572432.js";import"./utils.E1gCcUz51742436572432.js";import"./@fesjs.40Mt4LlK1742436572432.js";import"./vue-router.EzCcHFzL1742436572432.js";import"./lodash-es.p1wj6C0b1742436572432.js";import"./@qlin.yHhFDldE1742436572432.js";import"./pinia.9br8mKkJ1742436572432.js";import"./@floating-ui.BPbuo5Gx1742436572432.js";import"./@juggle.7yjBMqoW1742436572432.js";import"./default.vue_vue_type_script_setup_true_lang.IT3PbSiS1742436572432.js";import"./three-mesh-ui.module.5Tbrkk941742436572432.js";!function(t,n){const e=F,r=B();for(;;)try{if(722257===-parseInt(e(404))/1*(parseInt(e(409))/2)+-parseInt(e(413))/3+parseInt(e(384))/4+parseInt(e(416))/5*(-parseInt(e(396))/6)+-parseInt(e(405))/7*(-parseInt(e(407))/8)+parseInt(e(381))/9+-parseInt(e(400))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(388)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(){const t=["clientY","touch","test","enabled","7451208hHJFQG","bind","innerHeight","1095984bkvbNH","chain","trace","constructor","apply","pointermove","firstHitOnly","action","pointerup","Raycaster","table","input","2136042meUOwW","init","pointerType","intersectObject","587090rQgGOS","__proto__",'{}.constructor("return this")( )',"setFromCamera","1447TDEpiS","35WNAcqz","exception","2242688trYNTO","debu","298sQiiPh","console","counter","innerWidth","3453036tZJXvV","toString","stateObject","5PAgvEi","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","clientX","prototype","length","pointerdown","return (function() ","log"];return(B=function(){return t})()}function F(t,n){const e=B();return(F=function(t,n){return e[t-=377]})(t,n)}!function(){C(this,(function(){const t=F,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(417),"i"),r=Z(t(397));n[t(379)](r+t(385))&&e[t(379)](r+t(395))?Z():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(388)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();H(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(423)+t(402)+");")()}catch(e){n=window}return n}(),e=n[t(410)]=n[t(410)]||{},r=[t(424),"warn","info","error",t(406),t(394),t(386)];for(let o=0;o<r[t(421)];o++){const n=H.constructor[t(420)][t(382)](H),s=r[o],i=e[s]||n;n[t(401)]=H[t(382)](H),n[t(414)]=i[t(414)][t(382)](i),e[s]=n}}))();function Z(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(387)]("while (true) {}")[e(388)](e(411));1!==(""+t/t).length||t%20==0?function(){return!0}[e(387)](e(408)+"gger").call(e(391)):function(){return!1}[e(387)](e(408)+"gger")[e(388)](e(415)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=W;function W(t,n){const e=Y();return(W=function(t,n){return e[t-=320]})(t,n)}!function(t,n){const e=W,r=Y();for(;;)try{if(716953===-parseInt(e(369))/1*(parseInt(e(361))/2)+parseInt(e(364))/3*(parseInt(e(342))/4)+-parseInt(e(357))/5*(-parseInt(e(362))/6)+-parseInt(e(404))/7*(-parseInt(e(328))/8)+-parseInt(e(373))/9*(parseInt(e(396))/10)+parseInt(e(341))/11+-parseInt(e(402))/12*(parseInt(e(348))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(379),"i"),r=V(t(378));n[t(338)](r+t(335))&&e[t(338)](r+t(383))?V():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(351)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(){const t=["brushMesh","value","chain","targetMesh","__proto__","test","controls","getX","11013299MhlVSQ","72cWzDSj","computeBoundsTree","log","exception","getY","addButton","117CvwRiM","setAttribute","intersectObject","apply","targetMesh.value init","MeshStandardMaterial","BufferAttribute","attributes","setZ","255yAUkKH","bind","geometry","count","41334ZOyBDf","37428EuneIB","while (true) {}","223341WJfavE","needsUpdate","DynamicDrawUsage","TresMesh","toString","63xfuxTi","#023249","push","constructor","9xQhJOX","applyMatrix4","radius","index","normal","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setFromCamera","gger","Mesh","input","TresSphereGeometry","debu","active","table","instance","visible","shapecast","position","console","setUsage","setX","length","12246430fnReYW","set","生成模型","BufferGeometry","scale","intersectsBox","729804bmvoWM","matrixWorld","344393CFpXSt","warn","error","enabled","Vector3","setY","copy","color",'{}.constructor("return this")( )',"disposeBoundsTree","material","TresMeshStandardMaterial","setScalar","184gAYghG","getZ","prototype","string","点击按钮"];return(Y=function(){return t})()}J(void 0,(function(){const t=W;let n;try{n=Function("return (function() "+t(323)+");")()}catch(o){n=window}const e=n[t(392)]=n[t(392)]||{},r=[t(344),t(405),"info",t(406),t(345),t(387),"trace"];for(let s=0;s<r.length;s++){const n=J[t(372)][t(330)][t(358)](J),o=r[s],i=e[o]||n;n[t(337)]=J[t(358)](J),n[t(368)]=i.toString.bind(i),e[o]=n}}))();const X=[U(359),U(325)],L=[U(359)],N=w({__name:"model",props:{controls:{}},async setup(r){const o=U;let s,w;const S=r;(()=>{const t=W;i[t(399)][t(330)][t(343)]=d,i[t(399)].prototype[t(324)]=m,i[t(382)][t(330)].raycast=y})();const M=([s,w]=b((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),z=new(i[o(353)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),E=new Uint8Array(3*M.attributes[o(391)].count);E.fill(255);const O=new(i[o(354)])(E,3,!0);O[o(393)](i[o(366)]),M.setAttribute(o(322),O);const R=v(null),k=v(null),C=v(!1),B=v(-1),H=v(.2),Z=new c,{camera:G,raycaster:J}=t(),Y=15/255,N=78/255,V=85/255;let $=null;j((()=>{const t=o;R[t(334)]&&(console.log(t(352),R.value),R[t(334)][t(359)].computeBoundsTree(),$=M.boundsTree,((t,n,e,r,o,s)=>{const c=F;window.addEventListener(c(389),(e=>{const r=c;t.x=e[r(419)]/window[r(412)]*2-1,t.y=-e[r(377)]/window[r(383)]*2+1,n.value=!0})),window.addEventListener(c(422),(u=>{const a=c;t.x=u[a(419)]/window[a(412)]*2-1,t.y=-u[a(377)]/window.innerHeight*2+1,r[a(418)]=u.button;const l=new(i[a(393)]);l[a(403)](t,e[a(418)]),l[a(390)]=!0;const p=l[a(399)](o[a(418)],!0);n[a(418)]=!0,s[a(380)]=0===p[a(421)]}),!0),window.addEventListener(c(392),(t=>{const e=c;r[e(418)]=-1,t[e(398)]===e(378)&&(n.value=!1)}),!0)})(Z,C,G,B,R,S[t(339)].instance))}));const{onLoop:q}=n();q((()=>{const t=o,n=M[t(376)];if(k.value)if(S[t(339)].instance[t(386)]||!C[t(334)])k[t(334)][t(389)]=!1;else{k[t(334)][t(400)][t(327)](H.value),J.value[t(380)](Z,G[t(334)]),J.value.firstHitOnly=!0;const e=J[t(334)][t(350)](R[t(334)],!0);if(e[t(395)]){k[t(334)].position.copy(e[0].point),S[t(339)][t(388)][t(407)]=!1,k[t(334)][t(389)]=!0;const r=new u;r.copy(R[t(334)][t(403)]).invert();const o=new a;o.center[t(321)](k[t(334)][t(391)])[t(374)](r),o[t(375)]=100*H.value;const s=[],c=new(i[t(408)]);if(null==$||$[t(390)]({intersectsBounds:n=>{const e=t,r=o[e(401)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(397)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return f;return g}return r?f:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(371)](t,t+1,t+2)}return!1}}),0===B[t(334)]||2===B[t(334)]){let e=1,r=1,o=1;0===B[t(334)]&&(e=Y,r=N,o=V);for(let i=0,c=s[t(395)];i<c;i++){const c=n[t(340)](s[i]);O[t(394)](c,e),O[t(320)](c,r),O[t(356)](c,o)}O[t(365)]=!0}}else k[t(334)][t(389)]=!1,S[t(339)].instance[t(407)]=!0}}));const D=(new p)[o(347)]({title:o(332),label:o(398)}),P=new(i[o(399)]);return D.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<O[t(360)];o++)O[t(340)](o)===Y&&O[t(346)](o)===N&&O[t(329)](o)===V&&(n[t(371)](M.attributes.position[t(340)](o),M[t(355)].position[t(346)](o),M[t(355)][t(391)][t(329)](o)),e[t(371)](M[t(355)].normal[t(340)](o),M[t(355)][t(377)][t(346)](o),M[t(355)][t(377)][t(329)](o)));const r=new Float32Array(n);P.setAttribute(t(391),new(i[t(354)])(r,3)),P[t(349)](t(377),new(i[t(354)])(r,3))})),(t,n)=>{const e=o;return I(),_(T,null,[x(e(367),{ref_key:e(336),ref:R,geometry:A(M),scale:.005,material:A(z)},null,8,X),x("TresMesh",{ref_key:e(333),ref:k,visible:!1},n[0]||(n[0]=[x(e(384),{args:[1,40,40]},null,-1),x(e(326),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(367),{geometry:A(P),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(326),{color:e(370),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,L)],64)}}});function V(t){function n(t){const e=W;if(typeof t===e(331))return function(t){}[e(372)](e(363)).apply("counter");1!==(""+t/t)[e(395)]||t%20==0?function(){return!0}[e(372)](e(385)+e(381)).call("action"):function(){return!1}.constructor(e(385)+"gger")[e(351)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=Q;!function(t,n){const e=Q,r=P();for(;;)try{if(596641===parseInt(e(407))/1*(parseInt(e(372))/2)+-parseInt(e(394))/3*(-parseInt(e(377))/4)+parseInt(e(396))/5*(-parseInt(e(408))/6)+parseInt(e(391))/7+-parseInt(e(393))/8+-parseInt(e(409))/9*(-parseInt(e(365))/10)+parseInt(e(374))/11*(-parseInt(e(410))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){const t=Q,n=new RegExp(t(373)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=tt(t(371));n[t(400)](r+"chain")&&e[t(400)](r+t(404))?tt():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(){const t=['{}.constructor("return this")( )',"pos-z.jpg","debu","init","674sGqduR","function *\\( *\\)","78727KqUwAa","string","constructor","712CTqYgf","neg-x.jpg","neg-z.jpg","resource.cos","collectTriangles","prototype","console","call","apply","info","toString","while (true) {}","stateObject","table","128450UYHSbs","value","886304LyaVCS","1173zOJHVG","__proto__","5ijNexx","trace","controls","length","test","path","bind","TresPerspectiveCamera","input","error","neg-y.jpg","1406UcHxdh","4698228FrfmWr","8744751XZjGeE","72utKunR","/images/skyBox/6jpg/","return (function() ","10ccimoU","warn","https://opensource.cdn.icegl.cn"];return(P=function(){return t})()}function Q(t,n){const e=P();return(Q=function(t,n){return e[t-=365]})(t,n)}D(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(412)+t(368)+");")()}catch(e){n=window}return n}(),e=n[t(383)]=n[t(383)]||{},r=["log",t(366),t(386),t(405),"exception",t(390),t(397)];for(let o=0;o<r[t(399)];o++){const n=D[t(376)][t(382)][t(402)](D),s=r[o],i=e[s]||n;n[t(395)]=D.bind(D),n.toString=i[t(387)].bind(i),e[s]=n}}))();const K=w({__name:$(381),setup(t){const n=S({clearColor:"#999999",antialias:!0}),e=S({autoRotate:!1}),i=v(null);return(t,c)=>{const u=Q,a=M("TresCanvas");return I(),_(T,null,[z(A(s)),z(a,O(n,{"window-size":""}),{default:E((()=>[c[0]||(c[0]=x(u(403),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),z(A(r),O({ref_key:"controlsRef",ref:i},e),null,16),c[1]||(c[1]=x("TresAmbientLight",{intensity:1},null,-1)),(I(),R(k,null,{default:E((()=>[z(N,{controls:i[u(392)]},null,8,[u(398)])])),_:1})),(I(),R(k,null,{default:E((()=>[z(A(o),{background:!1,files:["pos-x.jpg",u(378),"pos-y.jpg",u(406),u(369),u(379)],path:u(367)+u(411)},null,8,[u(401)])])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=Q;if(typeof t===e(375))return function(t){}[e(376)](e(388)).apply("counter");1!==(""+t/t)[e(399)]||t%20==0?function(){return!0}[e(376)](e(370)+"gger")[e(384)]("action"):function(){return!1}[e(376)](e(370)+"gger")[e(385)](e(389)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
