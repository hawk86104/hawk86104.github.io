import{_ as t,bR as n,ae as o}from"./three.XuMWWlrU1743039954535.js";import{a as r}from"./@tresjs.05J-Im0t1743039954535.js";import{d as e,b as a,a3 as c,w as s,o as u,H as i,N as f,aj as l,ak as p}from"./@vue.C4dqouNn1743039954535.js";!function(t,n){const o=g,r=_();for(;;)try{if(846389===-parseInt(o(362))/1*(-parseInt(o(365))/2)+-parseInt(o(401))/3*(-parseInt(o(373))/4)+-parseInt(o(389))/5+parseInt(o(352))/6+parseInt(o(393))/7*(parseInt(o(369))/8)+parseInt(o(375))/9+parseInt(o(388))/10*(-parseInt(o(368))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(392)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(t,n){const o=_();return g=function(t,n){return o[t-=350]},g(t,n)}!function(){h(this,(function(){const t=g,n=new RegExp(t(402)),o=new RegExp(t(376),"i"),r=w("init");n.test(r+t(379))&&o[t(391)](r+t(406))?w():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();d(void 0,(function(){const t=g;let n;try{n=Function(t(382)+t(407)+");")()}catch(e){n=window}const o=n.console=n[t(386)]||{},r=[t(360),t(381),t(363),t(396),t(357),t(395),t(367)];for(let a=0;a<r[t(387)];a++){const n=d.constructor[t(405)][t(397)](d),e=r[a],c=o[e]||n;n[t(359)]=d[t(397)](d),n[t(394)]=c[t(394)][t(397)](c),o[e]=n}}))();const m=()=>{const o=g;return o(380)+t[o(403)][o(385)]+"\n      \t"+t[o(403)][o(364)]+o(383)+n[o(390)]+o(372)+t[o(403)].beginnormal_vertex+"\n          "+t[o(403)][o(408)]+o(361)+t[o(403)][o(384)]+"\n          "+t[o(403)][o(404)]+"\n          "+t[o(403)][o(356)]+"\n          "+n.shadowmap_vertex+o(366)},v=()=>{const o=g;return o(409)+t[o(403)][o(385)]+o(370)+n[o(398)]+o(370)+t[o(403)][o(364)]+o(370)+t[o(403)][o(354)]+o(370)+t[o(403)].shadowmap_pars_fragment+o(370)+n[o(353)]+o(358)};function w(t){function n(t){const o=g;if(typeof t===o(351))return function(t){}[o(374)](o(378))[o(392)](o(399));1!==(""+t/t)[o(387)]||t%20==0?function(){return!0}[o(374)](o(355)+o(350))[o(400)](o(377)):function(){return!1}[o(374)](o(355)+"gger").apply(o(371)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function _(){const t=["return (function() ","\n      \t","begin_vertex","common","console","length","32330HeSIIa","4322065qTVLnX","shadowmap_pars_vertex","test","apply","231dtNGxN","toString","table","error","bind","packing","counter","call","3ZoPZnC","function *\\( *\\)","ShaderChunk","project_vertex","prototype","input",'{}.constructor("return this")( )',"defaultnormal_vertex","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","gger","string","6491802CEqAOR","shadowmask_pars_fragment","lights_pars_begin","debu","worldpos_vertex","exception","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","__proto__","log","\n          ","3929kpIalV","info","bsdfs","228MjcWDa","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","trace","15103Fempgf","357648XucjoX","\n\t ","stateObject","\n       void main() {\n\t\t\t\t\t","5934128sekkcl","constructor","14949072WbQtcv","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","while (true) {}","chain","\n       varying vec2 vUv;\n\t\t\t \t","warn"];return(_=function(){return t})()}const x=y;!function(t,n){const o=y,r=j();for(;;)try{if(266517===-parseInt(o(531))/1+-parseInt(o(498))/2+parseInt(o(511))/3*(-parseInt(o(532))/4)+parseInt(o(538))/5+-parseInt(o(502))/6*(-parseInt(o(495))/7)+-parseInt(o(504))/8+-parseInt(o(526))/9*(-parseInt(o(509))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(503)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=y,n=new RegExp(t(510)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=k("init");n[t(536)](r+"chain")&&o[t(536)](r+t(497))?k():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[y(503)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(t,n){const o=j();return y=function(t,n){return o[t-=493]},y(t,n)}I(void 0,(function(){const t=y,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n[t(506)]=n[t(506)]||{},r=[t(539),"warn","info",t(518),t(514),t(545),t(524)];for(let e=0;e<r.length;e++){const n=I[t(534)][t(516)].bind(I),a=r[e],c=o[a]||n;n[t(527)]=I[t(523)](I),n.toString=c[t(500)][t(523)](c),o[a]=n}}))();const S=[x(530)],C=["args"];function j(){const t=["toString","UniformsUtils","30258ILFAYg","apply","2649440TqRyxr","#990","console","DoubleSide","TresShaderMaterial","2126290SsWncb","function *\\( *\\)","126pCacEx","size","string","exception","TresPlaneGeometry","prototype","UniformsLib","error","wrapS","Color","debu","gger","bind","trace","uShadowColor","63lndbjZ","__proto__","uColor","merge","rotation-x","479407QpfHmO","31972vERqlR","uniforms","constructor","action","test","color","357920tjRJDg","log","fEdge","edge","value","whiteFloorMesh","length","table","stateObject","shadowColor","TresMesh","497ZiFMWR","call","input","1010460Bgfeph","counter"];return(j=function(){return t})()}const R=e({__name:x(543),props:{size:{default:[20,20]},color:{default:x(505)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const e=x;let h,g;const d=n,w=a(),{map:_}=([h,g]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,g(),h);_[e(519)]=_.wrapT=o;const b={uniforms:t[e(501)][e(529)]([t[e(517)].lights,{uTexture:{type:"t",value:_},uColor:{value:new(t[e(520)])(d[e(537)])},uShadowColor:{value:new(t[e(520)])(d[e(493)])},fEdge:{type:"f",value:d.edge}}]),side:t[e(507)],vertexShader:m(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>d[e(541)]),(t=>{const n=e;b[n(533)][n(540)][n(542)]=t})),s((()=>d[e(537)]),(n=>{const o=e;b[o(533)][o(528)].value=new(t[o(520)])(d[o(537)])})),s((()=>d[e(493)]),(n=>{const o=e;b.uniforms[o(525)][o(542)]=new(t[o(520)])(d[o(493)])})),(t,n)=>{const o=e;return u(),i(o(494),{ref_key:"tmRef",ref:w,"rotation-x":-Math.PI/2},[f(o(515),{args:d[o(512)]},null,8,C),f(o(508),l(p(b)),null,16)],8,S)}}});function k(t){function n(t){const o=y;if(typeof t===o(513))return function(t){}.constructor("while (true) {}")[o(503)](o(499));1!==(""+t/t)[o(544)]||t%20==0?function(){return!0}.constructor("debugger")[o(496)](o(535)):function(){return!1}[o(534)](o(521)+o(522)).apply(o(546)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{R as _};
