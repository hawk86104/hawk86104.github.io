import{P as t}from"./tweakpane.ivGeiIdz1742896998262.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.CXSzGukN1742896998262.js";import{_ as r}from"./heatmap.js-fix.dFCpZKQN1742896998262.js";import{a as i,_ as c,c6 as s,l as u,B as a,ab as p}from"./three.0CcRceKb1742896998262.js";import{r as f}from"./utils.8ZAEjuox1742896998262.js";import{d as l}from"./pinia.c7Udjcar1742896998262.js";import{b as h,d,a2 as m,o as g,H as v,N as y,u as w,F as b,q as I,W as _,P as j,R as x,L as M,O as S,a3 as z,r as F,j as O,g as D,m as E}from"./@vue.L-brCdZe1742896998262.js";import{c as A,d as R,a as X}from"./three-mesh-bvh.gH28GZxM1742896998262.js";import{_ as P}from"./@fesjs.ATKJ6WD31742896998262.js";import"./@tresjs.KzbsBNvc1742896998262.js";import"./postprocessing.JNDZZkh81742896998262.js";import"./@vueuse.AtktgvWs1742896998262.js";import"./three-custom-shader-material.IukAW29E1742896998262.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742896998262.js";import"./@amap.tIvpdqPe1742896998262.js";import"./vue-router.Nr9hetwf1742896998262.js";import"./lodash-es.pklfUAS51742896998262.js";import"./@qlin.o0hjOMCg1742896998262.js";import"./@floating-ui.HzHndBae1742896998262.js";import"./@juggle.4EyLec-41742896998262.js";!function(t,n){const e=Z,o=C();for(;;)try{if(519217===-parseInt(e(389))/1*(parseInt(e(397))/2)+-parseInt(e(371))/3*(parseInt(e(412))/4)+-parseInt(e(419))/5*(parseInt(e(415))/6)+parseInt(e(402))/7*(parseInt(e(391))/8)+-parseInt(e(418))/9+parseInt(e(385))/10+parseInt(e(372))/11*(parseInt(e(424))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(393)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["createElement","return (function() ","body","prototype","744ZjVjcF","gger","trace","heatmap-canvas","yellow","position","display","setData","rgb(0,255,0)","1800042PFrDFc","266629MNPOVk","counter",'{}.constructor("return this")( )',"create","appendChild","log","height","init","table","chain","action","push","_config","5712200QrpOfz","function *\\( *\\)","width","rgb(255,0,0)","759969NXzjMM","debu","80oVbzba","style","apply","toString","info","length","2xcGtDG","test","__proto__","absolute","string","208124ctiqOK","while (true) {}","console","bind","none","stateObject","warn","rgb(0,0,255)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","4oBVPmf","top","randInt","25458WDYqdM","error","getValueAt","1527210tXSNNF","380KSUWvX"];return(C=function(){return t})()}function Z(t,n){const e=C();return Z=function(t,n){return e[t-=363]},Z(t,n)}!function(){T(this,(function(){const t=Z,n=new RegExp(t(386)),e=new RegExp(t(410),"i"),o=L(t(379));n[t(398)](o+t(381))&&e[t(398)](o+"input")?L():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(421)+t(374)+");")()}catch(e){n=window}return n}(),e=n[t(404)]=n[t(404)]||{},o=[t(377),t(408),t(395),t(416),"exception",t(380),t(364)];for(let r=0;r<o[t(396)];r++){const n=k[t(411)][t(423)].bind(k),i=o[r],c=e[i]||n;n[t(399)]=k[t(405)](k),n[t(394)]=c[t(394)][t(405)](c),e[i]=n}}))();const B=(t,n)=>t[Z(417)](n)+-10;function L(t){function n(t){const e=Z;if(typeof t===e(401))return function(t){}[e(411)](e(403))[e(393)](e(373));1!==(""+t/t)[e(396)]||t%20==0?function(){return!0}.constructor(e(390)+e(363)).call(e(382)):function(){return!1}[e(411)](e(390)+"gger")[e(393)](e(407)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=W;function W(t,n){const e=H();return W=function(t,n){return e[t-=355]},W(t,n)}!function(t,n){const e=W,o=H();for(;;)try{if(420764===-parseInt(e(382))/1+parseInt(e(367))/2*(parseInt(e(368))/3)+-parseInt(e(389))/4+-parseInt(e(380))/5*(-parseInt(e(361))/6)+-parseInt(e(359))/7*(parseInt(e(373))/8)+parseInt(e(371))/9*(parseInt(e(385))/10)+parseInt(e(369))/11*(parseInt(e(370))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=W,n=new RegExp(t(381)),e=new RegExp(t(379),"i"),o=K("init");n[t(355)](o+t(357))&&e.test(o+t(363))?K():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(356)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(372)+t(383)+");")()}catch(e){n=window}return n}(),e=n[t(375)]=n[t(375)]||{},o=[t(390),t(378),"info",t(388),"exception","table",t(376)];for(let r=0;r<o[t(387)];r++){const n=G[t(365)].prototype[t(384)](G),i=o[r],c=e[i]||n;n.__proto__=G[t(384)](G),n.toString=c.toString[t(384)](c),e[i]=n}}))();const U=l(V(364),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[W(362)]=n},setTemperature:function(t){n.value=t}}}));function H(){const t=["length","error","241856FtHrJA","log","test","apply","chain","while (true) {}","92239gvCivG","gger","1554MsvVFe","value","input","buildingsHeatmap","constructor","counter","18138vsZzJY","249ugolhE","176jxKLwk","48420wOVkbm","9SivnSG","return (function() ","80ERCTBx","action","console","trace","debu","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3495WUJARX","function *\\( *\\)","449357vDYTQQ",'{}.constructor("return this")( )',"bind","640270ZXyCMF","string"];return(H=function(){return t})()}function K(t){function n(t){const e=W;if(typeof t===e(386))return function(t){}[e(365)](e(358))[e(356)](e(366));1!==(""+t/t)[e(387)]||t%20==0?function(){return!0}[e(365)](e(377)+"gger").call(e(374)):function(){return!1}.constructor(e(377)+e(360)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=nt;!function(t,n){const e=nt,o=ot();for(;;)try{if(334785===parseInt(e(518))/1*(parseInt(e(505))/2)+parseInt(e(493))/3*(-parseInt(e(536))/4)+parseInt(e(501))/5+-parseInt(e(527))/6+-parseInt(e(481))/7+parseInt(e(508))/8*(parseInt(e(512))/9)+parseInt(e(487))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=nt,n=new RegExp(t(500)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=et(t(490));n.test(o+t(509))&&e[t(494)](o+"input")?et():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[nt(514)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Y(void 0,(function(){const t=nt;let n;try{n=Function(t(524)+t(488)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(540),t(510),t(477),t(517),"exception",t(529),"trace"];for(let i=0;i<o[t(476)];i++){const n=Y[t(499)][t(497)][t(496)](Y),r=o[i],c=e[r]||n;n.__proto__=Y[t(496)](Y),n[t(538)]=c[t(538)][t(496)](c),e[r]=n}}))();const q=[J(484),J(504)],Q=["object"],tt=d({__name:J(507),props:{model:{},opacity:{default:1}},setup(t){const n=J;(()=>{const t=nt;a[t(497)][t(486)]=A,c[t(532)][t(497)][t(547)]=R,c[t(506)][t(497)][t(542)]=X})();const e=t,o=((t=250,n=250,e=!0)=>{const o=Z,i=document[o(420)](o(365));return i[o(392)][o(367)]=o(400),!e&&(i.style[o(368)]=o(406)),i.style[o(413)]="0",i[o(392)].left="0",document[o(422)][o(376)](i),r[o(375)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(409),.55:o(370),.85:o(366),1:o(388)}})})();((t,n)=>{const e=Z;if(!n){let o=0;for(n=[];o<1e3;)n[e(383)]({x:i[e(414)](1,t[e(384)][e(387)]),y:i[e(414)](1,t[e(384)][e(378)]),value:i[e(414)](-10,36)}),o++}t[e(369)]({max:36,min:-10,data:n})})(o);const l=new(c[n(482)])(o._renderer.canvas);l[n(531)]=!0;const h=e[n(537)][n(535)][n(489)]();delete h[n(543)][n(485)].normal,delete h[n(543)][n(485)].uv;const d=h[n(543)][n(489)]().applyMatrix4(h[n(526)]),I=e.model[n(516)][n(489)]();delete I[n(543)][n(485)][n(525)];const _=I[n(543)].clone().applyMatrix4(I[n(526)]),j=s[n(503)]([d,_]);j[n(528)]((new(c[n(546)]))[n(523)](Math.PI/2)),f(j),j.computeBoundsTree();const x=(t=>{const o=n;return new(c[o(522)])({vertexShader:o(483),fragmentShader:o(479),uniforms:{uOpacity:{value:e[o(545)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:p})})(l),M=new u(j,x);m((()=>{const t=n;e[t(545)]&&(x[t(515)][t(533)][t(539)]=e.opacity)}));const S=U(),z=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(498)][e(511)],y:(1-t.uv.y)*o._config[e(502)]};console.log(e(519),t),console[e(540)](e(544),B(o,n)),S[e(521)](B(o,n))}},F=t=>{t&&S[n(480)]({showDiv:!0})},O=t=>{t&&S[n(491)](!1)};return(t,o)=>{const r=n;return g(),v(b,null,[y(r(513),{object:w(M),"rotation-x":-Math.PI/2,onPointerMove:z,onPointerEnter:F,onPointerLeave:O},null,40,q),y("primitive",{object:e[r(537)][r(537)][r(520)][0][r(489)]()},null,8,Q)],64)}}});function nt(t,n){const e=ot();return nt=function(t,n){return e[t-=476]},nt(t,n)}function et(t){function n(t){const e=nt;if(typeof t===e(530))return function(t){}[e(499)](e(541))[e(514)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(499)](e(495)+"gger")[e(534)]("action"):function(){return!1}[e(499)](e(495)+e(492)).apply(e(478)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ot(){const t=["539038VaAzEu","Mesh","buildingsHeatmap","250696GXaerF","chain","warn","width","36OcrAHm","primitive","apply","uniforms","land","error","1JljzwT","数值：","children","setTemperature","ShaderMaterial","makeRotationX","return (function() ","normal","matrix","2801382YdLKvc","applyMatrix4","table","string","needsUpdate","BufferGeometry","uOpacity","call","city","64XLizjw","model","toString","value","log","while (true) {}","raycast","geometry","数值———：","opacity","Matrix4","disposeBoundsTree","length","info","stateObject","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","$patch","1102437HgWwRE","Texture","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","object","attributes","computeBoundsTree","5962580LCPhDn",'{}.constructor("return this")( )',"clone","init","setShowDiv","gger","91992uLKObW","test","debu","bind","prototype","_config","constructor","function *\\( *\\)","2293360KzJFpC","height","mergeGeometries","rotation-x"];return(ot=function(){return t})()}const rt=P({__name:"dataDiv",setup(t){const n=U(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),v("div",{class:"title",style:S(e.value)},"温度："+M(w(n).temperature)+"℃ ",5)),[[x,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=pt;!function(t,n){const e=pt,o=st();for(;;)try{if(949246===-parseInt(e(325))/1*(-parseInt(e(322))/2)+-parseInt(e(307))/3*(-parseInt(e(304))/4)+-parseInt(e(308))/5*(-parseInt(e(309))/6)+-parseInt(e(310))/7*(-parseInt(e(314))/8)+-parseInt(e(334))/9+-parseInt(e(302))/10+-parseInt(e(312))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[pt(299)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["return (function() ","32hrzrxJ","gger","string","heatmap2","debu","builds","exception","console","18gsTodg","info","opacity","30859SFjiel","prototype","init","toString","warn","error","function *\\( *\\)","__proto__","action","12183615Cgmcvv","while (true) {}","input","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","bind","city","length","value","apply","trace","chain","2723990tVOPbB","model","1748jhXFTN","test","counter","10383KaXXCL","5rWaCjo","4694214TpOHUS","387681DmXljD","log","2405799WadwAX"];return(st=function(){return t})()}!function(){ct(this,(function(){const t=pt,n=new RegExp(t(331)),e=new RegExp(t(293),"i"),o=ft(t(327));n[t(305)](o+t(301))&&e[t(305)](o+t(291))?ft():o("0")}))()}();const ut=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[pt(299)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();ut(void 0,(function(){const t=pt;let n;try{n=Function(t(313)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(321)]=n[t(321)]||{},o=[t(311),t(329),t(323),t(330),t(320),"table",t(300)];for(let i=0;i<o[t(297)];i++){const n=ut[t(292)][t(326)].bind(ut),r=o[i],c=e[r]||n;n[t(332)]=ut[t(295)](ut),n[t(328)]=c[t(328)][t(295)](c),e[r]=n}}))();const at=d({__name:it(317),async setup(r){const i=it;let c,s;const u=h(!1),a=([c,s]=z((()=>o())),c=await c,s(),c);u[i(298)]=!0;const p=F({width:1,color:"#000",opacity:1,show:!0}),f=F({opacity:.9});return new t({title:"参数",expanded:!0})[i(294)](f,i(324),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),v(b,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[O(tt,E({model:w(a)},f),null,16,[r(303)]),O(n,E(p,{builds:w(a)[r(296)]}),null,16,[r(319)])])),_:1}),O(rt)],64)}}});function pt(t,n){const e=st();return pt=function(t,n){return e[t-=290]},pt(t,n)}function ft(t){function n(t){const e=pt;if(typeof t===e(316))return function(t){}[e(292)](e(290))[e(299)](e(306));1!==(""+t/t)[e(297)]||t%20==0?function(){return!0}[e(292)](e(318)+e(315)).call(e(333)):function(){return!1}.constructor("debu"+e(315))[e(299)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
