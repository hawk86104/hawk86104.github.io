import{aJ as t,ab as n}from"./three.rmsIv-u_1736160428509.js";import{a as o,U as i,c as e}from"./@tresjs.8MtVPQyb1736160428509.js";import{a as r,b as s}from"./index.er1mwMyA1736160428509.js";import{P as u}from"./tweakpane.yHWGBmom1736160428509.js";import{d as c,_ as a,w as p,o as l,D as f,a6 as m,u as g,r as d,f as h,g as v,J as I,j as y,al as S,m as b}from"./@vue.4u_eOGex1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./three-stdlib.MDmepMCW1736160428509.js";import"./@pmndrs.4WMPGHRZ1736160428509.js";import"./object-hash.6_ROEVvk1736160428509.js";import"./@amap.uuGbEc9W1736160428509.js";import"./jszip.gYriRClA1736160428509.js";const w=j;!function(t,n){const o=j,i=T();for(;;)try{if(481855===-parseInt(o(379))/1*(parseInt(o(377))/2)+-parseInt(o(356))/3+-parseInt(o(347))/4*(parseInt(o(349))/5)+parseInt(o(374))/6+parseInt(o(360))/7+parseInt(o(382))/8*(parseInt(o(362))/9)+parseInt(o(337))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[j(343)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){_(this,(function(){const t=j,n=new RegExp(t(345)),o=new RegExp(t(351),"i"),i=M("init");n[t(342)](i+t(363))&&o[t(342)](i+t(367))?M():i("0")}))()}();const P=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();P(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(339)+t(383)+");")()}catch(o){n=window}return n}(),o=n[t(365)]=n[t(365)]||{},i=[t(346),t(366),t(357),t(372),t(338),t(350),t(376)];for(let e=0;e<i[t(340)];e++){const n=P.constructor[t(344)].bind(P),r=i[e],s=o[r]||n;n.__proto__=P.bind(P),n[t(380)]=s.toString.bind(s),o[r]=n}}))();const R=[w(371)],x=c({__name:w(355),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new t({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=w,o=t,i=a(o[n(361)]);return o[n(353)].onBeforeCompile=t=>{const o=n;t.uniforms[o(361)]=i,t[o(373)]=t[o(373)][o(369)](o(368),"\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"),t[o(373)]=t[o(373)][o(369)](o(358),o(354))},p((()=>o.uSnappingResolution),(t=>{i[n(378)]=t})),(t,o)=>{const i=n;return l(),f(i(370),{object:t[i(353)]},null,8,R)}}});function j(t,n){const o=T();return(j=function(t,n){return o[t-=336]})(t,n)}function M(t){function n(t){const o=j;if(typeof t===o(336))return function(t){}.constructor(o(341))[o(343)](o(364));1!==(""+t/t)[o(340)]||t%20==0?function(){return!0}[o(375)](o(359)+"gger")[o(348)]("action"):function(){return!1}[o(375)](o(359)+o(381)).apply(o(352)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function T(){const t=["primitive","object","error","vertexShader","554172XMUwuJ","constructor","trace","1326ZtSMsd","value","566oiQYSr","toString","gger","14680CjaNft",'{}.constructor("return this")( )',"string","17178930yActLo","exception","return (function() ","length","while (true) {}","test","apply","prototype","function *\\( *\\)","log","3656432VlGYsv","call","5mgKJMY","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","srcMaterial","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","com","1364097BDlouw","info","#include <project_vertex>","debu","1817830hQyvyJ","uSnappingResolution","765WKHHqw","chain","counter","console","warn","input","#include <common>","replace"];return(T=function(){return t})()}function z(t,n){const o=C();return(z=function(t,n){return o[t-=469]})(t,n)}!function(t,n){const o=z,i=C();for(;;)try{if(697169===parseInt(o(492))/1*(parseInt(o(483))/2)+-parseInt(o(484))/3*(parseInt(o(493))/4)+parseInt(o(481))/5*(-parseInt(o(496))/6)+parseInt(o(470))/7+parseInt(o(499))/8*(-parseInt(o(502))/9)+parseInt(o(476))/10*(-parseInt(o(469))/11)+parseInt(o(507))/12)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const E=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(509)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){E(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(510),"i"),i=Z(t(490));n[t(475)](i+t(504))&&o[t(475)](i+"input")?Z():i("0")}))()}();const A=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(509)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function C(){const t=["constructor","toString","init","action","1sYOaVT","44qzfRLI","bind","error","174eVJfTa","trace","vertexShader","488ybaBQX","while (true) {}","#include <project_vertex>","141597wVWixl","replace","chain","gger","uniforms","24405756NkRVId","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","return (function() ","__proto__","warn","11ZqtXzZ","7483749uTwdza","#include <common>","exception","prototype","info","test","6214300ijGJav",'{}.constructor("return this")( )',"console","call","string","118905NWyIUO","debu","330286oUZRIg","81846vNZrHM","log","stateObject","length"];return(C=function(){return t})()}function Z(t){function n(t){const o=z;if(typeof t===o(480))return function(t){}[o(488)](o(500)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+o(505))[o(479)](o(491)):function(){return!1}.constructor(o(482)+o(505))[o(509)](o(486)),n(++t)}try{if(t)return n;n(0)}catch(o){}}A(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(512)+t(477)+");")()}catch(o){n=window}return n}(),o=n[t(478)]=n[t(478)]||{},i=[t(485),t(514),t(474),t(495),t(472),"table",t(497)];for(let e=0;e<i[t(487)];e++){const n=A[t(488)][t(473)][t(494)](A),r=i[e],s=o[r]||n;n[t(513)]=A[t(494)](A),n[t(489)]=s[t(489)][t(494)](s),o[r]=n}}))();const N=J;!function(t,n){const o=J,i=U();for(;;)try{if(311891===parseInt(o(130))/1+parseInt(o(139))/2+parseInt(o(141))/3+parseInt(o(115))/4*(parseInt(o(134))/5)+parseInt(o(138))/6+parseInt(o(143))/7+-parseInt(o(137))/8)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const k=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[J(149)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function U(){const t=["5shwCNx","return (function() ","length","14481520EhntZE","3217512UCcWbm","670808ifKPve","init","942708FHbQnh","table","4086649PgMnLn","action","bind","console","log","prototype","apply","warn","call","toString","info","model","uSnappingResolution","549468iYamPz","value","debu","values","push","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","gger","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","function *\\( *\\)","stateObject","constructor",'{}.constructor("return this")( )',"exception","215015ouAqsi","while (true) {}","chain","error"];return(U=function(){return t})()}function J(t,n){const o=U();return(J=function(t,n){return o[t-=112]})(t,n)}!function(){k(this,(function(){const t=J,n=new RegExp(t(125)),o=new RegExp(t(123),"i"),i=$(t(140));n[t(124)](i+t(132))&&o[t(124)](i+"input")?$():i("0")}))()}();const B=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[J(149)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();B(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(135)+t(128)+");")()}catch(o){n=window}return n}(),o=n[t(146)]=n.console||{},i=[t(147),t(150),t(112),t(133),t(129),t(142),"trace"];for(let e=0;e<i[t(136)];e++){const n=B[t(127)][t(148)][t(145)](B),r=i[e],s=o[r]||n;n[t(122)]=B[t(145)](B),n[t(152)]=s[t(152)][t(145)](s),o[r]=n}}))();const G=["object"],O=c({__name:N(113),props:{uSnappingResolution:{default:6}},async setup(t){const n=N;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o(n(120),{draco:!0,decoderPath:"./draco/"}))),i=await i,e(),i),c=[];return Object[n(118)](u).forEach((t=>{const o=n;c[o(119)](function(t,n=6){const o={value:n};return t.onBeforeCompile=t=>{const n=z;t[n(506)].uSnappingResolution=o,t[n(498)]=t[n(498)].replace(n(471),n(508)),t[n(498)]=t[n(498)][n(503)](n(501),n(511))},o}(t,r[o(114)]))})),p((()=>r[n(114)]),(t=>{c.forEach((n=>{n[J(116)]=t}))})),(t,n)=>(l(),f("primitive",{object:g(s),scale:5,position:[0,-2,0]},null,8,G))}});function $(t){function n(t){const o=J;if("string"==typeof t)return function(t){}[o(127)](o(131)).apply("counter");1!==(""+t/t)[o(136)]||t%20==0?function(){return!0}[o(127)](o(117)+o(121))[o(151)](o(144)):function(){return!1}[o(127)](o(117)+o(121))[o(149)](o(126)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const V=K;!function(t,n){const o=K,i=F();for(;;)try{if(237168===parseInt(o(187))/1+parseInt(o(173))/2+-parseInt(o(200))/3+-parseInt(o(212))/4*(-parseInt(o(208))/5)+-parseInt(o(174))/6*(parseInt(o(209))/7)+-parseInt(o(199))/8*(-parseInt(o(194))/9)+-parseInt(o(196))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const Y=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[K(165)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){const t=K,n=new RegExp(t(205)),o=new RegExp(t(169),"i"),i=D("init");n[t(211)](i+t(198))&&o[t(211)](i+t(177))?D():i("0")}))()}();const H=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function K(t,n){const o=F();return(K=function(t,n){return o[t-=164]})(t,n)}H(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(203)+t(164)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(206)]||{},i=["log",t(188),t(175),t(202),t(171),"table",t(183)];for(let e=0;e<i[t(179)];e++){const n=H[t(167)][t(181)][t(201)](H),r=i[e],s=o[r]||n;n.__proto__=H[t(201)](H),n[t(176)]=s[t(176)][t(201)](s),o[r]=n}}))();const Q={position:[5,.9,-5],name:V(170)},q=c({__name:"vertexSnapping",setup(t){const o=V,c=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=d({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p.addBinding(a,o(185),{label:o(195),min:0,max:20,step:.01}),p[o(166)](a,o(207),{label:o(204),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(g(e),b(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(186),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),y(g(i)),n[2]||(n[2]=I("TresAmbientLight",{intensity:.5},null,-1)),n[3]||(n[3]=I("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(178),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(192)},[I(u(197),{args:[1.5,1.5,2]}),I(u(213),{color:16737826,roughness:0,metalness:0})],-1)),I(u(178),Q,[n[0]||(n[0]=I(u(172),{args:[1,.35,100,32]},null,-1)),y(x,{uSnappingResolution:a.uSnappingResolution},null,8,[u(185)])]),(l(),h(S,null,{default:v((()=>[y(O,{uSnappingResolution:a[u(207)]},null,8,["uSnappingResolution"])])),_:1})),(l(),h(S,null,{default:v((()=>[y(g(s),{resolution:256,blur:1,background:""},{default:v((()=>[y(g(r),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(182)]),y(g(r),{intensity:2,form:u(190),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(182)]),y(g(r),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(180)]),y(g(r),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(180)])])),_:1})])),_:1}))])),_:1},16)}}});function D(t){function n(t){const o=K;if(typeof t===o(168))return function(t){}[o(167)](o(184))[o(165)](o(193));1!==(""+t/t)[o(179)]||t%20==0?function(){return!0}[o(167)](o(189)+o(210)).call("action"):function(){return!1}[o(167)]("debu"+o(210))[o(165)](o(191)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function F(){const t=["uSnappingResolution","TresPerspectiveCamera","302078gOrghC","warn","debu","circle","stateObject","cube","counter","16011QPYbUQ","圆环扭结-分辨率","3590240krTMVY","TresCylinderGeometry","chain","192JlVjjK","106947JcTcUw","bind","error","return (function() ","自行车模型-分辨率","function *\\( *\\)","console","modelSnappingResolution","64695kencTk","58219yAJKxl","gger","test","116uOIDEi","TresMeshStandardMaterial",'{}.constructor("return this")( )',"apply","addBinding","constructor","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","torus","exception","TresTorusKnotGeometry","505666DReewo","246hGSyCj","info","toString","input","TresMesh","length","rotation-y","prototype","rotation-x","trace","while (true) {}"];return(F=function(){return t})()}export{q as default};
