import{U as t,Y as e}from"./@tresjs.IlQvaTJ91728554291399.js";import{l as n}from"./utils.w9BqHULq1728554291399.js";import{ac as o,B as r,s,cK as a}from"./three.YiCjTDWq1728554291399.js";import{m as i}from"./d3-geo.nzA_Z2mb1728554291399.js";import{a4 as c,b as u,a3 as l,o as p,E as f,F as d,W as m,L as h,d as y,r as j,e as v,f as b,g,j as w,u as E,aj as _,ak as x,al as T,m as I}from"./@vue.JNsx1iN61728554291399.js";import{c as B,d as P,a as M}from"./three-mesh-bvh.MFGQK1iS1728554291399.js";import"./@vueuse.nb-8z3af1728554291399.js";import"./@fesjs.GdZzFg1i1728554291399.js";import"./vue-router.NPtXaYpe1728554291399.js";import"./lodash-es.kYt-_xTG1728554291399.js";import"./@qlin.yHhFDldE1728554291399.js";import"./pinia.puw_7oLs1728554291399.js";import"./@floating-ui.BPbuo5Gx1728554291399.js";import"./@juggle.7yjBMqoW1728554291399.js";import"./d3-array.AhNJy1f41728554291399.js";const O=["properties","renderOrder"],R=["args"],k=h("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),C={__name:"chinaMapMesh",async setup(e){let y,j;r.prototype.computeBoundsTree=B,r.prototype.disposeBoundsTree=P,s.prototype.raycast=M;const v=i().center([104,37.5]).translate([0,0]),b=([y,j]=c((()=>n("./plugins/simpleGIS/json/china.json","features"))),y=await y,j(),y),g={depth:10,bevelEnabled:!1},w=[];b.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[o,r]=v(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}w.push({shape:n,properties:t.properties})}))}))}));const E=new o({color:"#3480C4",linewidth:1,linecap:"round"}),_=u();l((()=>{_.value&&_.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,E];t.material=e}))}));let x=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),x=t})();const T=t=>{t.object.material[0].color.set(16711680),x.innerText=t.object.properties.name,x.style.visibility="visible"},I=t=>{t.eventObject.material[0].color.set(3010559),x.style.visibility="hidden"},C=t=>{x.style.left="".concat(t.clientX+6,"px"),x.style.top="".concat(t.clientY+6,"px")},{onLoop:S}=t();return S((()=>{})),(t,e)=>(p(),f("TresGroup",{ref_key:"tgRef",ref:_},[(p(),f(d,null,m(w,((t,e)=>h("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:T,onPointerLeave:I,onPointerMove:C},[h("TresExtrudeGeometry",{args:[t.shape,g]},null,8,R),k],40,O))),64))],512))}},S=z;function z(t,e){const n=G();return(z=function(t,e){return n[t-=143]})(t,e)}function G(){const t=["876430dDJEKP","54816iPBlvW","warn","test","15567QNRAQX",'{}.constructor("return this")( )',"TresPerspectiveCamera","counter","prototype","3231vNaZGE","constructor","log","5069994cmtvyz","length","bind","trace","toString","2314552uBRcPd","input","function *\\( *\\)","string","158IPbaDm","table","chain","console","stateObject","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","4408780OwVRSO","TresCanvas","gger","init","1033403vjBNXS","while (true) {}"];return(G=function(){return t})()}!function(t,e){const n=z,o=G();for(;;)try{if(483997===-parseInt(n(145))/1+parseInt(n(166))/2*(-parseInt(n(149))/3)+-parseInt(n(162))/4+parseInt(n(174))/5+-parseInt(n(157))/6+-parseInt(n(143))/7+parseInt(n(146))/8*(parseInt(n(154))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(171)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=z,e=new RegExp(t(164)),n=new RegExp(t(172),"i"),o=F(t(177));e[t(148)](o+t(168))&&n.test(o+t(163))?F():o("0")}))()}();const N=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(171)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function("return (function() "+t(150)+");")()}catch(n){e=window}return e}(),n=e[t(169)]=e[t(169)]||{},o=[t(156),t(147),"info","error","exception",t(167),t(160)];for(let r=0;r<o[t(158)];r++){const e=N[t(155)][t(153)].bind(N),s=o[r],a=n[s]||e;e.__proto__=N[t(159)](N),e[t(161)]=a[t(161)][t(159)](a),n[s]=e}}))();const A=h(S(151),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1),D=y({__name:"chinaMap",setup(n){const o=j({clearColor:"#201919"}),r=j({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),l((()=>{})),(t,n)=>{const s=v(z(175));return p(),b(s,I(o,{"window-size":""}),{default:g((()=>[A,w(E(e),_(x(r)),null,16),(p(),b(T,null,{default:g((()=>[w(C)])),_:1}))])),_:1},16)}}});function F(t){function e(t){const n=z;if(typeof t===n(165))return function(t){}.constructor(n(144))[n(171)](n(152));1!==(""+t/t)[n(158)]||t%20==0?function(){return!0}[n(155)](n(173)+n(176)).call("action"):function(){return!1}[n(155)](n(173)+n(176))[n(171)](n(170)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{D as default};
