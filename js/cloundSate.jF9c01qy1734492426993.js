import{b as t,m as n,U as e}from"./@tresjs.WiFlZbqU1734492426993.js";import{_ as o}from"./three.-W-Avfc61734492426993.js";import{n as r,_ as c}from"./three-tile.aZFEED7i1734492426993.js";import{_ as i}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.D_G10Gv21734492426993.js";import{d as s,a6 as a,w as u,o as p,D as l,J as f,u as m,r as g,b as h,f as d,g as _,j as y,m as I,al as S,F as w,e as b,aj as v,ak as j}from"./@vue.-THQH3GC1734492426993.js";import{P as x}from"./tweakpane.yHWGBmom1734492426993.js";import{i as D}from"./informationDiv.4YxlzEz81734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";import"./@fesjs.-ojmPQ0_1734492426993.js";import"./vue-router.XKFr-7ni1734492426993.js";import"./lodash-es.kYt-_xTG1734492426993.js";import"./@qlin.yHhFDldE1734492426993.js";import"./pinia.21wZrGqi1734492426993.js";import"./vue-demi.C4xddsk91734492426993.js";import"./@floating-ui.BPbuo5Gx1734492426993.js";import"./@juggle.7yjBMqoW1734492426993.js";const M=F;function F(t,n){const e=G();return(F=function(t,n){return e[t-=384]})(t,n)}!function(t,n){const e=F,o=G();for(;;)try{if(836818===-parseInt(e(392))/1*(parseInt(e(407))/2)+parseInt(e(389))/3*(-parseInt(e(390))/4)+-parseInt(e(411))/5+-parseInt(e(444))/6*(-parseInt(e(414))/7)+parseInt(e(441))/8*(-parseInt(e(427))/9)+parseInt(e(437))/10+-parseInt(e(404))/11*(-parseInt(e(397))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=F,n=new RegExp(t(431)),e=new RegExp(t(400),"i"),o=E(t(425));n[t(405)](o+t(447))&&e[t(405)](o+t(449))?E():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function G(){const t=["needsUpdate","function *\\( *\\)","scaleImg","string","bind","length","MeshPhongMaterial","4888030nFcCKC","log","prototype","applyMatrix4","8XftmCT","TresGroup","gger","6MOSJQc","call","info","chain","action","input","map","replace","constructor","debu","counter","stateObject","uniform sampler2D map;\n\t\t","position-y","DoubleSide","1456053fGumry","8bvrxJq","Vector3","4oeEBot","cloundSateShow","geo2pos","return (function() ","vertexShader","420dSorAf","toString","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","exception","TresMesh","1050720ALvvlO","test","opacity","122466bxgFaV","#include <alphamap_fragment>","scale","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","5208955InQdho","color","Color","5699253ckVPXF","height","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","warn","fragmentShader","apply","trace","position","console",'{}.constructor("return this")( )',"Texture","init","material","13967451iAFLVX","__proto__","setStyle"];return(G=function(){return t})()}A(void 0,(function(){const t=F;let n;try{n=Function(t(395)+t(423)+");")()}catch(r){n=window}const e=n[t(422)]=n.console||{},o=[t(438),t(417),t(446),"error",t(402),t(399),t(420)];for(let c=0;c<o[t(435)];c++){const n=A[t(452)][t(439)][t(434)](A),r=o[c],i=e[r]||n;n[t(428)]=A.bind(A),n[t(398)]=i.toString[t(434)](i),e[r]=n}}))();const L=[M(421)],k=[M(409),M(426),"rotateX",M(387)],B=s({__name:M(393),props:{map:{},height:{default:100},color:{default:"#cccccc"},opacity:{default:.6}},async setup(n){const e=M;let r,c;const s=n,g=new(o[e(436)])({displacementMap:new(o[e(424)]),transparent:!0,side:o[e(388)],opacity:s[e(406)],color:new(o[e(413)])(s[e(412)])});g.onBeforeCompile=t=>{const n=e;t[n(396)]=n(386)+t.vertexShader,t[n(396)]=t.vertexShader[n(451)]("#include <displacementmap_vertex>","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );"),t[n(418)]=t[n(418)][n(451)](n(408),n(401))};const h=s[e(450)][e(394)](new(o[e(391)])(105,34,0));h[e(440)](s[e(450)].matrix);const d=i[e(432)](s.map,{x:67,y:11},{x:140,y:57},s[e(415)]),_=[e(416),"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png",e(410),"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png"];let y=0;const I=([r,c]=a((()=>t(_))),r=await r,c(),r);g[e(450)]=I[y],u((()=>[s[e(412)],s[e(406)]]),(([t,n])=>{const o=e;g[o(412)][o(429)](t),g[o(406)]=n}));let S=null,w=!1;return w?(clearInterval(S),S=null,w=!1):(S=setInterval((()=>{const t=F;y=y<_[t(435)]-1?y+1:0,g.map=I[y],g[t(430)]=!0,console.log(y)}),1e3),w=!0),(t,n)=>{const o=e;return p(),l(o(442),{position:[...m(h)]},[f(o(403),{scale:[m(d).x,m(d).y,t[o(415)]],material:m(g),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(415)]/5},n[0]||(n[0]=[f("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,k)],8,L)}}});function E(t){function n(t){const e=F;if(typeof t===e(433))return function(t){}[e(452)]("while (true) {}")[e(419)](e(384));1!==(""+t/t)[e(435)]||t%20==0?function(){return!0}[e(452)](e(453)+e(443))[e(445)](e(448)):function(){return!1}[e(452)](e(453)+"gger")[e(419)](e(385)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=R,o=C();for(;;)try{if(288707===-parseInt(e(531))/1+parseInt(e(502))/2+-parseInt(e(513))/3+parseInt(e(529))/4*(-parseInt(e(508))/5)+-parseInt(e(497))/6*(parseInt(e(490))/7)+-parseInt(e(538))/8+parseInt(e(493))/9*(parseInt(e(539))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(527)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=R,n=new RegExp(t(506)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=N(t(537));n[t(518)](o+t(507))&&e[t(518)](o+"input")?N():o("0")}))()}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(527)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["MapBoxSource","init","1579768qfnLeA","620wHgrmw","primitive","color","196fHOSRf","domElement","gger","209736DbpRVB","TileMap","length","constructor","49584cSUlLN","while (true) {}","exception","bind","debu","88946GBjbXw","localToWorld","log","plugin","function *\\( *\\)","chain","5NciBqA","height","stateObject","value","counter","1237269GXJelO","controlsEvents","GDSource","map","Vector3","test","copy","call","geo2pos","addBinding","TresDirectionalLight",'{}.constructor("return this")( )',"mapbox.terrain-rgb","console","apply","toString","36416EsGNzq","string","350224iJBcCv","rotateX","info","opacity","showLocation"];return(C=function(){return t})()}z(void 0,(function(){const t=R;let n;try{n=Function("return (function() "+t(524)+");")()}catch(r){n=window}const e=n[t(526)]=n[t(526)]||{},o=[t(504),"warn",t(533),"error",t(499),"table","trace"];for(let c=0;c<o[t(495)];c++){const n=z[t(496)].prototype[t(500)](z),r=o[c],i=e[r]||n;n.__proto__=z[t(500)](z),n[t(528)]=i[t(528)][t(500)](i),e[r]=n}}))();const O=["object"];function R(t,n){const e=C();return(R=function(t,n){return e[t-=488]})(t,n)}const W=s({__name:"mapBoxShow2",setup(t){const e=R,s=g({height:500,color:"#cccccc",opacity:.6}),a=new x({title:"参数"});a[e(522)](s,e(489),{label:"颜色"}),a.addBinding(s,e(509),{label:"高度",min:10,max:5e3,step:10}),a[e(522)](s,e(534),{label:"透明度",min:0,max:1,step:.1});const b=new(r[e(536)])({token:"pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",dataType:"terrain-rgb",style:e(525),maxLevel:15}),v=new(c[e(494)])({imgSource:[new(c[e(505)][e(515)])({style:"6"}),new(c[e(505)][e(515)])({style:"8"})],demSource:b,lon0:90,minLevel:2,maxLevel:20});v[e(532)](-Math.PI/2);const j=new(o[e(517)])(105,34,0),D=new(o[e(517)])(110,0,1e4),M=v[e(503)](v[e(521)](j)),F=v[e(503)](v.geo2pos(D)),T=h(),{camera:A,controls:G,scene:L,renderer:k}=n();return A[e(511)]&&A[e(511)].position[e(519)](F),u((()=>G[e(511)]),(t=>{const n=e;t&&(t.target[n(519)](M),i[n(514)](t,A.value,L.value))})),u((()=>T[e(511)]),(t=>{const n=e;t&&t.target.position[n(519)](M)})),i[e(535)](A[e(511)],k[e(511)][e(491)],v),(t,n)=>{const o=e;return p(),l(w,null,[f(o(523),{ref_key:"tdLight",ref:T,position:[0,2e3,1e3],intensity:1},null,512),f(o(488),{object:m(v)},null,8,O),(p(),d(S,null,{default:_((()=>[y(B,I({map:m(v)},s),null,16,[o(516)])])),_:1}))],64)}}});function N(t){function n(t){const e=R;if(typeof t===e(530))return function(t){}.constructor(e(498))[e(527)](e(512));1!==(""+t/t)[e(495)]||t%20==0?function(){return!0}.constructor(e(501)+e(492))[e(520)]("action"):function(){return!1}[e(496)](e(501)+e(492)).apply(e(510)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=J;function P(){const t=["__proto__","TresCanvas","function *\\( *\\)","info","debu","return (function() ","table","length","exception","42047LcGEwe","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1321788zdiylK","string","#dbf0ff","action","116541WYGSkw","constructor","837477wTMHsq","highp","bind","call","30PkJNqV","7fdpaDX","error","69292OrkWks","apply","TresPerspectiveCamera","cloundSate","input","console","10JqeZwC","init","gger","2513720SmrLcU","counter","TresAmbientLight","test","warn","844624WUrQWR","while (true) {}","110Sbkopi"];return(P=function(){return t})()}!function(t,n){const e=J,o=P();for(;;)try{if(240482===-parseInt(e(183))/1*(parseInt(e(163))/2)+parseInt(e(192))/3+-parseInt(e(157))/4*(-parseInt(e(173))/5)+parseInt(e(186))/6+-parseInt(e(155))/7*(parseInt(e(166))/8)+-parseInt(e(190))/9*(parseInt(e(154))/10)+-parseInt(e(171))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(158)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(t,n){const e=P();return(J=function(t,n){return e[t-=152]})(t,n)}!function(){H(this,(function(){const t=J,n=new RegExp(t(176)),e=new RegExp(t(185),"i"),o=Z(t(164));n[t(169)](o+"chain")&&e[t(169)](o+t(161))?Z():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(179)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(162)]=n[t(162)]||{},o=["log",t(170),t(177),t(156),t(182),t(180),"trace"];for(let r=0;r<o[t(181)];r++){const n=X.constructor.prototype[t(152)](X),c=o[r],i=e[c]||n;n[t(174)]=X[t(152)](X),n[t(184)]=i.toString[t(152)](i),e[c]=n}}))();const U=s({__name:V(160),setup(t){const n=V,o=g({clearColor:n(188),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(193)}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const i=n,s=b(i(175));return p(),l(w,null,[y(s,I(o,{"window-size":""}),{default:_((()=>[c[0]||(c[0]=f(i(159),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),y(m(e),v(j(r)),null,16),c[1]||(c[1]=f(i(168),{intensity:1},null,-1)),y(W)])),_:1},16),y(D)],64)}}});function Z(t){function n(t){const e=J;if(typeof t===e(187))return function(t){}[e(191)](e(172))[e(158)](e(167));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(178)+e(165))[e(153)](e(189)):function(){return!1}[e(191)]("debu"+e(165)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
