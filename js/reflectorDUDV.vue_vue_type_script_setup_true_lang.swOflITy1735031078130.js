import{c8 as t,a3 as e,s as n,t as r}from"./three.bc6MLGU_1735031078130.js";import{b as o}from"./@tresjs.dTM0HLnZ1735031078130.js";import{R as s,b as i}from"./all.three.dnINst5u1735031078130.js";import{d as c,a6 as a,a3 as u,w as f,o as l,D as p,J as d,u as b}from"./@vue.-THQH3GC1735031078130.js";const m=g;!function(t,e){const n=g,r=I();for(;;)try{if(869550===parseInt(n(380))/1*(parseInt(n(406))/2)+-parseInt(n(349))/3*(-parseInt(n(372))/4)+-parseInt(n(346))/5+parseInt(n(364))/6*(parseInt(n(389))/7)+parseInt(n(376))/8*(parseInt(n(403))/9)+parseInt(n(347))/10+-parseInt(n(385))/11*(parseInt(n(369))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const h=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[g(392)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=g,e=new RegExp(t(373)),n=new RegExp(t(367),"i"),r=_(t(363));e[t(374)](r+t(388))&&n[t(374)](r+t(350))?_():r("0")}))()}();const v=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[g(392)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=g,e=function(){const t=g;let e;try{e=Function(t(395)+t(377)+");")()}catch(n){e=window}return e}(),n=e[t(401)]=e[t(401)]||{},r=["log",t(405),t(368),t(378),"exception",t(361),t(365)];for(let o=0;o<r[t(384)];o++){const e=v[t(386)][t(360)][t(399)](v),s=r[o],i=n[s]||e;e.__proto__=v.bind(v),e[t(356)]=i[t(356)][t(399)](i),n[s]=e}}))();const w=[m(394)],y=["object"],j=[m(351)];function g(t,e){const n=I();return(g=function(t,e){return n[t-=346]})(t,e)}function I(){const t=["uMatrix","primitive","3429385GsruVz","15868020rRHoIm","string","9747HZNVIJ","input","object","set","size","renderTarget","mapUrl","toString","reflectorDUDV","uniforms","forEach","prototype","table","visible","init","6EwyPPJ","trace","wrapS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","1068baVAZq","showGridHelper","add","596OUiDQW","function *\\( *\\)","test","TresGroup","184eszCyB",'{}.constructor("return this")( )',"error","texture","10KEjcxI","wrapT","action","ignoreObjects","length","203687AYKyod","constructor","stateObject","chain","5544763xJYjxc","isMesh","tReflect","apply","debu","scale","return (function() ","reflectivity","onBeforeRender","call","bind","rotation","console","gger","75654AoOiqz","while (true) {}","warn","29418bajXxW","value","repeat"];return(I=function(){return t})()}const x=c({__name:m(357),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:h}){const v=m;let g,I;const x=c,_=new s,R=new t(x[v(353)][0]-.5,x[v(353)][1]);R[v(362)]=x[v(370)];const{map:z}=([g,I]=a((()=>o({map:x[v(355)]}))),g=await g,I(),g);z[v(366)]=e,z[v(381)]=e,z[v(408)][v(352)](6,3);const U=new i({map:z,reflectivity:x[v(396)]});U[v(358)][v(391)]={value:_[v(354)][v(379)]},U.uniforms.tReflectBlur=_.renderTargetUniform,U[v(358)][v(409)]=_.textureMatrixUniform;const O=new n(new r(x[v(353)][0],x[v(353)][1]),U);return O[v(400)].x=-Math.PI/2,O[v(371)](_),O[v(397)]=(t,e,n)=>{const r=v;O[r(362)]=!1,x.ignoreObjects[r(359)]((t=>{const e=r;t[e(390)]&&(t.visible=!1),t.value&&t[e(407)][e(390)]&&(t.value[e(362)]=!1)})),_.update(t,e,n),x[r(383)][r(359)]((t=>{const e=r;t[e(390)]&&(t.visible=!0),t[e(407)]&&t[e(407)][e(390)]&&(t[e(407)].visible=!0)})),O[r(362)]=!0},u((()=>{const t=v;x.reflectivity&&(U[t(358)].uReflectivity.value=x.reflectivity)})),f((()=>x.showGridHelper),(t=>{R[v(362)]=t})),h({reflector:_}),(t,e)=>{const n=v;return l(),p(n(375),{scale:x[n(394)]},[d(n(410),{object:b(O),"position-y":-.01},null,8,y),d("primitive",{object:b(R)},null,8,j)],8,w)}}});function _(t){function e(t){const n=g;if(typeof t===n(348))return function(t){}[n(386)](n(404))[n(392)]("counter");1!==(""+t/t)[n(384)]||t%20==0?function(){return!0}.constructor("debu"+n(402))[n(398)](n(382)):function(){return!1}.constructor(n(393)+n(402))[n(392)](n(387)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
