import{m as t,e as n,j as e,o as r,J as o}from"./@tresjs.GCV-1VTd1743149128717.js";import{_ as s}from"./index.82zLpFqx1743149128717.js";import{o as i,_ as c,c as u,e as a,B as l,l as p,cb as f}from"./three.hBhj0ayh1743149128717.js";import{P as d}from"./tweakpane.ivGeiIdz1743149128717.js";import{I as g,C as h,N as m,c as y,d as w,a as b}from"./three-mesh-bvh.LR6BWBbo1743149128717.js";import{d as j,a3 as I,b as _,a2 as v,o as x,H as M,N as T,u as A,F as C,r as k,e as z,j as O,g as B,m as E,f as R,al as Z}from"./@vue.L-brCdZe1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";import"./utils.ESYmb1jF1743149128717.js";import"./@fesjs.w7aAWifr1743149128717.js";import"./vue-router.2RdbTeKA1743149128717.js";import"./lodash-es.pklfUAS51743149128717.js";import"./@qlin.o0hjOMCg1743149128717.js";import"./pinia.Vg5gtfOZ1743149128717.js";import"./@floating-ui.HzHndBae1743149128717.js";import"./@juggle.4EyLec-41743149128717.js";import"./default.vue_vue_type_script_setup_true_lang.OTtaMjrt1743149128717.js";import"./three-mesh-ui.module.FcFE7VzN1743149128717.js";function S(){const t=["bind","while (true) {}","init","exception","action",'{}.constructor("return this")( )',"call","67910jpTKPq","trace","constructor","innerWidth","__proto__","apply","table","clientX","toString","console","chain","pointerType","pointerup","error","intersectObject","2xLyHEP","innerHeight","228055QPlzOh","1623824RSYcKM","clientY","stateObject","length","button","66385nWfycm","enabled","pointermove","3641qDbWFJ","addEventListener","pointerdown","log","prototype","setFromCamera","debu","148sCfibl","value","test","42utEoqo","13292892MfdHxa","4566093GoVxpQ","touch","counter","9072318lDOfrk"];return(S=function(){return t})()}function W(t,n){const e=S();return W=function(t,n){return e[t-=209]},W(t,n)}!function(t,n){const e=W,r=S();for(;;)try{if(875741===parseInt(e(229))/1+-parseInt(e(221))/2*(parseInt(e(244))/3)+parseInt(e(239))/4*(-parseInt(e(223))/5)+parseInt(e(247))/6+parseInt(e(242))/7*(-parseInt(e(224))/8)+parseInt(e(243))/9+parseInt(e(255))/10*(parseInt(e(232))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(211)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=H(t(250));n[t(241)](r+t(216))&&e[t(241)](r+"input")?H():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(211)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();F(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function("return (function() "+t(253)+");")()}catch(e){n=window}return n}(),e=n[t(215)]=n[t(215)]||{},r=[t(235),"warn","info",t(219),t(251),t(212),t(256)];for(let o=0;o<r[t(227)];o++){const n=F[t(257)][t(236)].bind(F),s=r[o],i=e[s]||n;n[t(210)]=F[t(248)](F),n[t(214)]=i[t(214)][t(248)](i),e[s]=n}}))();function H(t){function n(t){const e=W;if("string"==typeof t)return function(t){}[e(257)](e(249))[e(211)](e(246));1!==(""+t/t)[e(227)]||t%20==0?function(){return!0}[e(257)](e(238)+"gger")[e(254)](e(252)):function(){return!1}[e(257)]("debugger").apply(e(226)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=U;!function(t,n){const e=U,r=q();for(;;)try{if(121969===-parseInt(e(360))/1+parseInt(e(409))/2*(parseInt(e(367))/3)+-parseInt(e(344))/4+parseInt(e(342))/5*(parseInt(e(419))/6)+-parseInt(e(426))/7*(parseInt(e(391))/8)+-parseInt(e(414))/9+-parseInt(e(376))/10*(-parseInt(e(377))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){J(this,(function(){const t=U,n=new RegExp(t(354)),e=new RegExp(t(386),"i"),r=D("init");n[t(423)](r+t(394))&&e[t(423)](r+t(411))?D():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(t,n){const e=q();return U=function(t,n){return e[t-=337]},U(t,n)}Q(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(421)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(396)]=n[t(396)]||{},r=[t(400),t(417),"info",t(398),t(429),t(351),"trace"];for(let o=0;o<r[t(374)];o++){const n=Q.constructor[t(350)][t(339)](Q),s=r[o],i=e[s]||n;n.__proto__=Q[t(339)](Q),n[t(363)]=i.toString[t(339)](i),e[s]=n}}))();const X=["geometry",L(343)],Y=[L(341)],$=j({__name:L(379),props:{controls:{}},async setup(r){const o=L;let s,j;const k=r;(()=>{const t=U;l.prototype[t(348)]=y,c[t(402)].prototype[t(345)]=w,p[t(350)][t(431)]=b})();const z=([s,j]=I((()=>e(f,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,j(),s),O=new(c[o(378)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),B=new Uint8Array(3*z[o(352)][o(373)].count);B[o(362)](255);const E=new u(B,3,!0);E[o(358)](c[o(404)]),z[o(412)](o(382),E);const R=_(null),Z=_(null),S=_(!1),P=_(-1),F=_(.2),H=new(c[o(388)]),{camera:J,raycaster:Q}=t(),$=15/255,q=78/255,D=85/255;let K=null;v((()=>{const t=o;R[t(397)]&&(console.log(t(364),R.value),R[t(397)].geometry[t(348)](),K=z[t(380)],((t,n,e,r,o,s)=>{const c=W;window.addEventListener(c(231),(e=>{const r=c;t.x=e.clientX/window[r(209)]*2-1,t.y=-e[r(225)]/window[r(222)]*2+1,n.value=!0})),window.addEventListener(c(234),(u=>{const a=c;t.x=u[a(213)]/window.innerWidth*2-1,t.y=-u[a(225)]/window[a(222)]*2+1,r[a(240)]=u[a(228)];const l=new i;l[a(237)](t,e.value),l.firstHitOnly=!0;const p=l[a(220)](o[a(240)],!0);n[a(240)]=!0,s[a(230)]=0===p[a(227)]}),!0),window[c(233)](c(218),(t=>{const e=c;r[e(240)]=-1,t[e(217)]===e(245)&&(n[e(240)]=!1)}),!0)})(H,S,J,P,R,k[t(369)][t(413)]))}));const{onLoop:V}=n();V((()=>{const t=o,n=z[t(368)];if(Z[t(397)])if(k[t(369)][t(413)][t(407)]||!S[t(397)])Z[t(397)][t(420)]=!1;else{Z[t(397)].scale[t(401)](F[t(397)]),Q[t(397)][t(385)](H,J[t(397)]),Q.value[t(338)]=!0;const e=Q[t(397)][t(381)](R[t(397)],!0);if(e.length){Z[t(397)].position.copy(e[0][t(347)]),k.controls[t(413)][t(399)]=!1,Z[t(397)][t(420)]=!0;const r=new(c[t(370)]);r[t(387)](R[t(397)].matrixWorld)[t(418)]();const o=new a;o[t(366)].copy(Z.value[t(373)])[t(389)](r),o[t(433)]=100*F[t(397)];const s=[],i=new(c[t(384)]);if(K?.[t(425)]({intersectsBounds:n=>{const e=t,r=o[e(365)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i[e(415)](0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o[e(416)](i))return g;return h}return r?g:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(403)](t,t+1,t+2)}return!1}}),0===P[t(397)]||2===P[t(397)]){let e=1,r=1,o=1;0===P[t(397)]&&(e=$,r=q,o=D);for(let i=0,c=s[t(374)];i<c;i++){const c=n.getX(s[i]);E[t(337)](c,e),E.setY(c,r),E[t(395)](c,o)}E[t(410)]=!0}}else Z.value.visible=!1,k[t(369)][t(413)].enabled=!0}}));const G=(new d)[o(390)]({title:o(359),label:o(361)}),N=new(c[o(402)]);return G.on(o(349),(()=>{const t=o,n=[],e=[];for(let o=0;o<E[t(353)];o++)E.getX(o)===$&&E[t(406)](o)===q&&E[t(355)](o)===D&&(n.push(z[t(352)].position[t(372)](o),z[t(352)].position[t(406)](o),z[t(352)][t(373)].getZ(o)),e[t(403)](z[t(352)][t(424)][t(372)](o),z[t(352)][t(424)].getY(o),z.attributes[t(424)][t(355)](o)));const r=new Float32Array(n);N[t(412)](t(373),new(c[t(356)])(r,3)),N[t(412)](t(424),new u(r,3))})),(t,n)=>{const e=o;return x(),M(C,null,[T(e(405),{ref_key:e(393),ref:R,geometry:A(z),scale:.005,material:A(O)},null,8,X),T(e(405),{ref_key:e(357),ref:Z,visible:!1},n[0]||(n[0]=[T(e(383),{args:[1,40,40]},null,-1),T(e(427),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),T(e(405),{geometry:A(N),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[T(e(427),{color:e(375),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,Y)],64)}}});function q(){const t=["getZ","BufferAttribute","brushMesh","setUsage","点击按钮","212086iqiJtB","生成模型","fill","toString","targetMesh.value init","intersectsBox","center","3fBWcnW","index","controls","Matrix4","string","getX","position","length","#023249","50bpblyY","960025doPcmV","MeshStandardMaterial","model","boundsTree","intersectObject","color","TresSphereGeometry","Vector3","setFromCamera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copy","Vector2","applyMatrix4","addButton","8CQJCai","action","targetMesh","chain","setZ","console","value","error","enabled","log","setScalar","BufferGeometry","push","DynamicDrawUsage","TresMesh","getY","active","debu","204896eyihgr","needsUpdate","input","setAttribute","instance","260811TOWyCW","set","containsPoint","warn","invert","6WGyKUZ","visible","return (function() ","counter","test","normal","shapecast","1122569IhnnLk","TresMeshStandardMaterial","apply","exception","call","raycast","gger","radius","setX","firstHitOnly","bind","while (true) {}","geometry","52160xTJQQM","material","103416CnHuzm","disposeBoundsTree","constructor","point","computeBoundsTree","click","prototype","table","attributes","count","function *\\( *\\)"];return(q=function(){return t})()}function D(t){function n(t){const e=U;if(typeof t===e(371))return function(t){}[e(346)](e(340)).apply(e(422));1!==(""+t/t)[e(374)]||t%20==0?function(){return!0}[e(346)](e(408)+e(432))[e(430)](e(392)):function(){return!1}.constructor(e(408)+e(432))[e(428)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=N;!function(t,n){const e=N,r=et();for(;;)try{if(105304===parseInt(e(510))/1+parseInt(e(509))/2*(-parseInt(e(482))/3)+-parseInt(e(492))/4*(-parseInt(e(494))/5)+-parseInt(e(476))/6+parseInt(e(495))/7*(parseInt(e(504))/8)+-parseInt(e(488))/9+-parseInt(e(497))/10*(parseInt(e(505))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(484)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=N,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(513),"i"),r=nt("init");n[t(506)](r+"chain")&&e[t(506)](r+t(521))?nt():r("0")}))()}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(484)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(t,n){const e=et();return N=function(t,n){return e[t-=475]},N(t,n)}G(void 0,(function(){const t=N;let n;try{n=Function(t(522)+t(486)+");")()}catch(o){n=window}const e=n[t(485)]=n.console||{},r=[t(517),t(500),"info",t(519),t(515),"table",t(498)];for(let s=0;s<r[t(523)];s++){const n=G[t(499)][t(524)].bind(G),o=r[s],i=e[o]||n;n[t(490)]=G.bind(G),n[t(501)]=i[t(501)][t(518)](i),e[o]=n}}))();const tt=j({__name:K(489),setup(t){const n=K,e=k({clearColor:n(491),antialias:!0}),i=k({autoRotate:!1}),c=_(null);return(t,u)=>{const a=n,l=z(a(502));return x(),M(C,null,[O(A(s)),O(l,E(e,{"window-size":""}),{default:B((()=>[u[0]||(u[0]=T(a(487),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),O(A(r),E({ref_key:a(483),ref:c},i),null,16),u[1]||(u[1]=T("TresAmbientLight",{intensity:1},null,-1)),(x(),R(Z,null,{default:B((()=>[O($,{controls:c.value},null,8,[a(477)])])),_:1})),(x(),R(Z,null,{default:B((()=>[O(A(o),{background:!1,files:[a(525),a(511),a(475),a(503),a(508),a(493)],path:a(479)+a(496)},null,8,[a(514)])])),_:1}))])),_:1},16)],64)}}});function nt(t){function n(t){const e=N;if(typeof t===e(507))return function(t){}[e(499)](e(520))[e(484)](e(481));1!==(""+t/t)[e(523)]||t%20==0?function(){return!0}[e(499)](e(516)+e(480))[e(478)]("action"):function(){return!1}[e(499)](e(516)+e(480))[e(484)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function et(){const t=["#999999","11608rBCtrd","neg-z.jpg","310JMVeEy","266301xfmftm","/images/skyBox/6jpg/","10yexUmh","trace","constructor","warn","toString","TresCanvas","neg-y.jpg","32XpAQbc","225291ZAdpah","test","string","pos-z.jpg","22AROrdP","104804vcUmnK","neg-x.jpg","resource.cos","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","path","exception","debu","log","bind","error","while (true) {}","input","return (function() ","length","prototype","pos-x.jpg","pos-y.jpg","136410iPyQbR","controls","call","https://opensource.cdn.icegl.cn","gger","counter","21246ebegOh","controlsRef","apply","console",'{}.constructor("return this")( )',"TresPerspectiveCamera","1894302uIdpDx","collectTriangles","__proto__"];return(et=function(){return t})()}export{tt as default};
