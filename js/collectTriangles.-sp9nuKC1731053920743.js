import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.hJVQLtpa1731053920743.js";import{_ as s}from"./index.a1vF_YUF1731053920743.js";import{_ as i,a as c,k as u,V as a,B as l,s as p,cB as f}from"./three.eGpwEcxC1731053920743.js";import{P as m}from"./tweakpane.yHWGBmom1731053920743.js";import{I as d,C as g,N as h,c as y,d as w,a as b}from"./three-mesh-bvh.TTgO3_lh1731053920743.js";import{d as j,a6 as I,b as v,a3 as _,o as x,D as T,J as k,u as M,F as C,r as A,e as Z,j as R,g as F,m as S,f as z,al as B}from"./@vue.u2cBPEWn1731053920743.js";import"./@vueuse.weJ7f3dz1731053920743.js";import"./index.TaiDJY-F1731053920743.js";import"./@fesjs.jcfJqFb-1731053920743.js";import"./vue-router.VZFAJYMT1731053920743.js";import"./lodash-es.guXTxyfJ1731053920743.js";import"./@qlin.yHhFDldE1731053920743.js";import"./pinia.OLC9kXJl1731053920743.js";import"./vue-demi.C4xddsk91731053920743.js";import"./@floating-ui.BPbuo5Gx1731053920743.js";import"./@juggle.7yjBMqoW1731053920743.js";import"./chalk.sAH7iSuz1731053920743.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1731053920743.js";import"./@iconify.3mYF4lU71731053920743.js";import"./dompurify.rQUea5mq1731053920743.js";import"./utils.ceZQdLuD1731053920743.js";import"./default.vue_vue_type_script_setup_true_lang.Q0eTlkM91731053920743.js";import"./three-mesh-ui.module.aqkEqj3k1731053920743.js";!function(t,n){const e=Y,r=E();for(;;)try{if(930785===parseInt(e(344))/1+-parseInt(e(327))/2+parseInt(e(337))/3+parseInt(e(355))/4+-parseInt(e(317))/5*(-parseInt(e(324))/6)+-parseInt(e(315))/7+parseInt(e(314))/8*(-parseInt(e(352))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(340)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){H(this,(function(){const t=Y,n=new RegExp(t(310)),e=new RegExp(t(350),"i"),r=X("init");n[t(333)](r+t(334))&&e.test(r+t(332))?X():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(340)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(t,n){const e=E();return(Y=function(t,n){return e[t-=306]})(t,n)}O(void 0,(function(){const t=Y;let n;try{n=Function(t(330)+t(336)+");")()}catch(o){n=window}const e=n[t(319)]=n[t(319)]||{},r=[t(307),t(322),"info",t(339),t(338),"table",t(345)];for(let s=0;s<r[t(342)];s++){const n=O.constructor[t(328)].bind(O),o=r[s],i=e[o]||n;n[t(346)]=O[t(351)](O),n[t(312)]=i[t(312)].bind(i),e[o]=n}}))();function E(){const t=["chain","Raycaster",'{}.constructor("return this")( )',"5176677fQHJSf","exception","error","apply","action","length","pointerType","249667TMYyZS","trace","__proto__","intersectObject","setFromCamera","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","9IZpVGt","debu","while (true) {}","1363744KcukDU","pointerup","log","innerWidth","clientY","function *\\( *\\)","clientX","toString","touch","11719208TRoGlp","9476565FKjdbs","innerHeight","5ECmyDl","addEventListener","console","string","constructor","warn","pointermove","10912614UsRJPi","gger","button","770900lsHHEY","prototype","value","return (function() ","enabled","input","test"];return(E=function(){return t})()}function X(t){function n(t){const e=Y;if(typeof t===e(320))return function(t){}[e(321)](e(354)).apply("counter");1!==(""+t/t)[e(342)]||t%20==0?function(){return!0}[e(321)](e(353)+e(325)).call(e(341)):function(){return!1}[e(321)]("debugger").apply(e(349)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=q;!function(t,n){const e=q,r=U();for(;;)try{if(981239===parseInt(e(114))/1+parseInt(e(126))/2*(parseInt(e(151))/3)+parseInt(e(162))/4*(-parseInt(e(101))/5)+parseInt(e(178))/6+-parseInt(e(131))/7+parseInt(e(133))/8+-parseInt(e(144))/9*(parseInt(e(111))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(160)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(156),"i"),r=$(t(113));n.test(r+"chain")&&e[t(140)](r+t(109))?$():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=q;let n;try{n=Function(t(137)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n.console||{},r=["log","warn","info",t(154),t(167),"table",t(142)];for(let s=0;s<r[t(168)];s++){const n=J[t(175)][t(153)][t(119)](J),o=r[s],i=e[o]||n;n[t(120)]=J[t(119)](J),n[t(170)]=i[t(170)].bind(i),e[o]=n}}))();const N=[G(132),G(180)],P=[G(132)];function U(){const t=["containsPoint","exception","length","setFromCamera","toString","boundsTree","setUsage","setAttribute","index","constructor","TresMesh","#023249","5016210OskvxT","brushMesh","material","生成模型","点击按钮","count","getX","intersectsSphere","intersectObject","while (true) {}","7423795TqJmNu","needsUpdate","BufferGeometry","gger","debu","setScalar","counter","MeshStandardMaterial","input","getY","4370HThvMy","fill","init","729530yWtXNx","BufferAttribute","setZ","Sphere","attributes","bind","__proto__","normal","getZ","value","addButton","position","50gctogI","matrixWorld","visible","TresMeshStandardMaterial","disposeBoundsTree","1264158SOsqSY","geometry","15494600ZaYgri","controls","instance","call","return (function() ","setY","model","test","applyMatrix4","trace","DynamicDrawUsage","47961eFxPom","string","center","Matrix4","radius","copy","setX","176757HRgXDJ","computeBoundsTree","prototype","error","push","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","active","raycast","targetMesh","apply","scale","4xwVCZd","point","firstHitOnly","TresSphereGeometry"];return(U=function(){return t})()}function q(t,n){const e=U();return(q=function(t,n){return e[t-=101]})(t,n)}const W=j({__name:G(139),props:{controls:{}},async setup(r){const o=G;let s,j;const A=r;(()=>{const t=q;l[t(153)][t(152)]=y,i[t(103)].prototype[t(130)]=w,p[t(153)][t(158)]=b})();const Z=([s,j]=I((()=>e(f,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,j(),s),R=new(i[o(108)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),F=new Uint8Array(3*Z[o(118)].position.count);F[o(112)](255);const S=new c(F,3,!0);S[o(172)](i[o(143)]),Z[o(173)]("color",S);const z=v(null),B=v(null),H=v(!1),O=v(-1),E=v(.2),X=new u,{camera:D,raycaster:J}=t(),U=15/255,W=78/255,$=85/255;let V=null;_((()=>{const t=o;z.value&&(console.log("targetMesh.value init",z[t(123)]),z[t(123)][t(132)][t(152)](),V=Z[t(171)],((t,n,e,r,o,s)=>{const c=Y;window[c(318)](c(323),(e=>{const r=c;t.x=e.clientX/window[r(308)]*2-1,t.y=-e[r(309)]/window.innerHeight*2+1,n[r(329)]=!0})),window[c(318)]("pointerdown",(u=>{const a=c;t.x=u[a(311)]/window.innerWidth*2-1,t.y=-u[a(309)]/window[a(316)]*2+1,r[a(329)]=u[a(326)];const l=new(i[a(335)]);l[a(348)](t,e[a(329)]),l.firstHitOnly=!0;const p=l[a(347)](o.value,!0);n[a(329)]=!0,s[a(331)]=0===p[a(342)]}),!0),window[c(318)](c(306),(t=>{const e=c;r[e(329)]=-1,t[e(343)]===e(313)&&(n.value=!1)}),!0)})(X,H,D,O,z,A[t(134)][t(135)]))}));const{onLoop:L}=n();L((()=>{const t=o,n=Z[t(174)];if(B[t(123)])if(A[t(134)][t(135)][t(157)]||!H.value)B[t(123)][t(128)]=!1;else{B.value[t(161)][t(106)](E[t(123)]),J[t(123)][t(169)](X,D[t(123)]),J[t(123)][t(164)]=!0;const e=J[t(123)][t(186)](z.value,!0);if(e[t(168)]){B[t(123)].position[t(149)](e[0][t(163)]),A[t(134)].instance.enabled=!1,B[t(123)][t(128)]=!0;const r=new(i[t(147)]);r.copy(z[t(123)][t(127)]).invert();const o=new(i[t(117)]);o[t(146)][t(149)](B[t(123)][t(125)])[t(141)](r),o[t(148)]=100*E[t(123)];const s=[],c=new a;if(null==V||V.shapecast({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c.set(0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(166)](c))return d;return g}return r?d:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(185)](o)){const t=3*e;s[i(155)](t,t+1,t+2)}return!1}}),0===O.value||2===O[t(123)]){let e=1,r=1,o=1;0===O.value&&(e=U,r=W,o=$);for(let i=0,c=s[t(168)];i<c;i++){const c=n[t(184)](s[i]);S[t(150)](c,e),S[t(138)](c,r),S[t(116)](c,o)}S[t(102)]=!0}}else B[t(123)][t(128)]=!1,A[t(134)][t(135)].enabled=!0}}));const Q=(new m)[o(124)]({title:o(182),label:o(181)}),K=new l;return Q.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<S[t(183)];o++)S.getX(o)===U&&S[t(110)](o)===W&&S[t(122)](o)===$&&(n[t(155)](Z[t(118)][t(125)][t(184)](o),Z[t(118)][t(125)][t(110)](o),Z.attributes[t(125)][t(122)](o)),e[t(155)](Z.attributes[t(121)][t(184)](o),Z[t(118)][t(121)].getY(o),Z.attributes[t(121)][t(122)](o)));const r=new Float32Array(n);K.setAttribute("position",new(i[t(115)])(r,3)),K[t(173)](t(121),new(i[t(115)])(r,3))})),(t,n)=>{const e=o;return x(),T(C,null,[k("TresMesh",{ref_key:e(159),ref:z,geometry:M(Z),scale:.005,material:M(R)},null,8,N),k(e(176),{ref_key:e(179),ref:B,visible:!1},n[0]||(n[0]=[k(e(165),{args:[1,40,40]},null,-1),k(e(129),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),k(e(176),{geometry:M(K),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[k(e(129),{color:e(177),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,P)],64)}}});function $(t){function n(t){const e=q;if(typeof t===e(145))return function(t){}[e(175)](e(187))[e(160)](e(107));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(104))[e(136)]("action"):function(){return!1}.constructor(e(105)+e(104)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=L,r=tt();for(;;)try{if(715059===-parseInt(e(234))/1*(-parseInt(e(230))/2)+parseInt(e(220))/3+parseInt(e(200))/4*(-parseInt(e(201))/5)+parseInt(e(223))/6*(parseInt(e(199))/7)+-parseInt(e(229))/8*(-parseInt(e(233))/9)+-parseInt(e(231))/10*(-parseInt(e(213))/11)+-parseInt(e(198))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(216)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function L(t,n){const e=tt();return(L=function(t,n){return e[t-=194]})(t,n)}!function(){V(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(227),"i"),r=nt(t(225));n[t(222)](r+t(219))&&e.test(r+t(206))?nt():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(216)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=L;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(235)]=n[t(235)]||{},r=["log","warn","info",t(218),"exception",t(205),"trace"];for(let s=0;s<r[t(202)];s++){const n=Q[t(196)].prototype[t(208)](Q),o=r[s],i=e[o]||n;n[t(228)]=Q[t(208)](Q),n[t(221)]=i[t(221)].bind(i),e[o]=n}}))();const K=j({__name:"collectTriangles",setup(t){const n=A({clearColor:"#999999",antialias:!0}),e=A({autoRotate:!1}),i=v(null);return(t,c)=>{const u=L,a=Z(u(217));return x(),T(C,null,[R(M(s)),R(a,S(n,{"window-size":""}),{default:F((()=>[c[0]||(c[0]=k(u(212),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),R(M(r),S({ref_key:"controlsRef",ref:i},e),null,16),c[1]||(c[1]=k(u(215),{intensity:1},null,-1)),(x(),z(B,null,{default:F((()=>[R(W,{controls:i.value},null,8,[u(214)])])),_:1})),(x(),z(B,null,{default:F((()=>[R(M(o),{background:!1,files:[u(197),u(226),u(194),u(207),u(195),"neg-z.jpg"],path:u(203)})])),_:1}))])),_:1},16)],64)}}});function tt(){const t=["pos-z.jpg","constructor","pos-x.jpg","13344372PbsGIV","1149477FFCkIW","1070436bZjkPI","25bWiHTY","length","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","string","table","input","neg-y.jpg","bind","counter","debu","while (true) {}","TresPerspectiveCamera","5284719GCrcyk","controls","TresAmbientLight","apply","TresCanvas","error","chain","2322651CaJxNY","toString","test","18XpdrMl","stateObject","init","neg-x.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","232imQMyM","357662neaqGc","10aNFINe","gger","384525ReQiks","1GZZANF","console","pos-y.jpg"];return(tt=function(){return t})()}function nt(t){function n(t){const e=L;if(typeof t===e(204))return function(t){}[e(196)](e(211)).apply(e(209));1!==(""+t/t)[e(202)]||t%20==0?function(){return!0}.constructor(e(210)+e(232)).call("action"):function(){return!1}[e(196)](e(210)+e(232)).apply(e(224)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
