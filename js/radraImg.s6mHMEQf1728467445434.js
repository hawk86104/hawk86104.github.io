import{z as t,p as n,Y as e}from"./@tresjs.ED4ePb8T1728467445434.js";import{bn as o,_ as r}from"./three.5octV-9b1728467445434.js";import{n as i,_ as c}from"./three-tile.rGySB-KI1728467445434.js";import{_ as s,a}from"./informationDiv.vnjWp7aB1728467445434.js";import{d as u,a4 as p,w as l,o as f,E as m,L as h,u as d,r as g,b as I,f as y,g as b,j as w,m as x,al as _,F as j,e as v,aj as S,ak as z}from"./@vue.JNsx1iN61728467445434.js";import{P as M}from"./tweakpane.yHWGBmom1728467445434.js";import"./@vueuse.G8I04tzi1728467445434.js";import"./@fesjs.BZc1KM0D1728467445434.js";import"./vue-router.2EyA_Lnc1728467445434.js";import"./lodash-es.kYt-_xTG1728467445434.js";import"./@qlin.yHhFDldE1728467445434.js";import"./pinia.Y0XmpKlm1728467445434.js";import"./@floating-ui.BPbuo5Gx1728467445434.js";import"./@juggle.7yjBMqoW1728467445434.js";function k(){const t=["40.png","672162vdxAKt","function *\\( *\\)","call","exception","push","counter","505989sWJnxj","TresGroup","warn","456188bIdeIW","gger","onBeforeCompile","console","material",'{}.constructor("return this")( )',"applyMatrix4","uniform sampler2D map;\n\t","scaleImg","table","return (function() ","radraImgShow","apply","TresPlaneGeometry","Texture","4627540MHIMOa","1605499droZhP","while (true) {}","TresMesh","info","5598XzVyFQ","geo2pos","log","replace","height","map","Vector3","length","action","rotateX","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","error","1384dXhobI","input","matrix","3764CEpSlg","constructor","10GVebRJ","test","color","position-y","scale","init","chain","needsUpdate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","position","DoubleSide","bind","186gMtSzs","vertexShader","opacity","prototype","debu","__proto__"];return(k=function(){return t})()}const T=B;!function(t,n){const e=B,o=k();for(;;)try{if(184291===parseInt(e(525))/1*(parseInt(e(511))/2)+-parseInt(e(473))/3+-parseInt(e(476))/4+-parseInt(e(513))/5*(parseInt(e(467))/6)+-parseInt(e(492))/7+parseInt(e(508))/8*(parseInt(e(496))/9)+parseInt(e(491))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(488)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=B,n=new RegExp(t(468)),e=new RegExp(t(521),"i"),o=F(t(518));n[t(514)](o+t(519))&&e[t(514)](o+t(509))?F():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(488)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=B;let n;try{n=Function(t(486)+t(481)+");")()}catch(r){n=window}const e=n[t(479)]=n.console||{},o=["log",t(475),t(495),t(507),t(470),t(485),"trace"];for(let i=0;i<o[t(503)];i++){const n=D[t(512)][t(528)][t(524)](D),r=o[i],c=e[r]||n;n[t(465)]=D.bind(D),n.toString=c.toString[t(524)](c),e[r]=n}}))();const E=[T(522)],R=[T(517),T(480),T(505),T(516)],P=[h(T(489),{args:[1,1,529,420]},null,-1)];function B(t,n){const e=k();return(B=function(t,n){return e[t-=465]})(t,n)}const L=u({__name:T(487),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=T;let i,c;const a=n,u=new o({displacementMap:new(r[e(490)]),transparent:!0,side:r[e(523)],opacity:a[e(527)],displacementScale:.5,displacementBias:0});u[e(478)]=t=>{const n=e;t[n(526)]=n(483)+t[n(526)],t.vertexShader=t[n(526)][n(499)]("#include <displacementmap_vertex>","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const g=a[e(501)][e(497)](new(r[e(502)])(105,34,0));g[e(482)](a[e(501)][e(510)]);const I=s[e(484)](a.map,{x:67,y:11},{x:140,y:57},a[e(500)]),y=[];for(let t=0;t<9;t++)y[e(471)](e(506)+t+e(466));let b=0;const w=([i,c]=p((()=>t(y))),i=await i,c(),i);u[e(501)]=w[b],l((()=>[a[e(515)],a[e(527)]]),(([t,n])=>{u[e(527)]=n}));let x=null,_=!1;return _?(clearInterval(x),x=null,_=!1):(x=setInterval((()=>{const t=B;b=b<y[t(503)]-1?b+1:0,u[t(501)]=w[b],u[t(520)]=!0,console[t(498)](b)}),1e3),_=!0),(t,n)=>{const o=e;return f(),m(o(474),{position:[...d(g)]},[h(o(494),{scale:[d(I).x,d(I).y,t[o(500)]],material:d(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(500)]/5},P,8,R)],8,E)}}});function F(t){function n(t){const e=B;if("string"==typeof t)return function(t){}.constructor(e(493))[e(488)](e(472));1!==(""+t/t)[e(503)]||t%20==0?function(){return!0}[e(512)]("debu"+e(477))[e(469)](e(504)):function(){return!1}.constructor(e(529)+e(477))[e(488)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=G;!function(t,n){const e=G,o=C();for(;;)try{if(439563===-parseInt(e(362))/1*(-parseInt(e(323))/2)+-parseInt(e(327))/3*(-parseInt(e(350))/4)+-parseInt(e(318))/5+-parseInt(e(325))/6*(parseInt(e(351))/7)+parseInt(e(339))/8+-parseInt(e(320))/9*(-parseInt(e(319))/10)+-parseInt(e(341))/11*(-parseInt(e(353))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["controlsEvents","MapBoxSource","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","call","2691480ISYxLx","3746880zHWAya","18hXbsbQ","length","position","40036eURoFV","counter","30xYIOdL","string","3PCOhlS","warn","Vector3","domElement","showLocation","primitive","exception","copy","image","chain","target","geo2pos","2472080lcnqDa","test","11MIUDID","constructor","bind","gger","tdLight","TresDirectionalLight","console","while (true) {}","height","413992hyKiSM","1212148vBpMtz","apply","5779380AiQxbP","localToWorld","mapBoxShow3","TileMap","rotateX","opacity","init","debu","mapbox.satellite","10cvGoHo","log","value","pk.eyJ1IjoidG9tYWNoIiwiYSI6ImNrbnR6d3psMzA4YWgydnBzeGhrNW1mdDgifQ.zq6mWEop1OTBrQ24R0SdlA","error","mapbox.terrain-rgb","__proto__","prototype","addBinding"];return(C=function(){return t})()}!function(){W(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(373),"i"),o=V(t(359));n[t(340)](o+t(336))&&e[t(340)](o+"input")?V():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[G(352)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=G,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(347)]=n.console||{},o=[t(363),t(328),"info",t(366),t(333),"table","trace"];for(let r=0;r<o[t(321)];r++){const n=Q[t(342)][t(369)][t(343)](Q),i=o[r],c=e[i]||n;n[t(368)]=Q[t(343)](Q),n[t(374)]=c.toString[t(343)](c),e[i]=n}}))();const Z=["object"];function G(t,n){const e=C();return(G=function(t,n){return e[t-=318]})(t,n)}const X=O(365),Y=u({__name:O(355),setup(t){const e=O,o=g({height:200,opacity:1}),a=new M({title:"参数"});a[e(370)](o,e(349),{label:"高度",min:10,max:300,step:1}),a.addBinding(o,e(358),{label:"透明度",min:0,max:1,step:.1});const u=new(i[e(372)])({token:X,dataType:e(335),style:e(361)}),p=new(i[e(372)])({token:X,dataType:"terrain-rgb",style:e(367),maxLevel:15}),v=new(c[e(356)])({imgSource:u,demSource:p,lon0:90,minLevel:2,maxLevel:20});v[e(357)](-Math.PI/2);const S=new(r[e(329)])(105,34,0),z=new(r[e(329)])(110,0,1e4),k=v.localToWorld(v[e(338)](S)),T=v[e(354)](v[e(338)](z)),A=I(),{camera:D,controls:E,scene:R,renderer:P}=n();return D[e(364)]&&D[e(364)][e(322)].copy(T),l((()=>E.value),(t=>{const n=e;t&&(t[n(337)][n(334)](k),s[n(371)](t,D[n(364)],R[n(364)]))})),l((()=>A[e(364)]),(t=>{const n=e;t&&t[n(337)][n(322)][n(334)](k)})),s[e(331)](D.value,P[e(364)][e(330)],v),(t,n)=>{const r=e;return f(),m(j,null,[h(r(346),{ref_key:r(345),ref:A,position:[0,2e3,1e3],intensity:1},null,512),h(r(332),{object:d(v)},null,8,Z),(f(),y(_,null,{default:b((()=>[w(L,x({map:d(v)},o),null,16,["map"])])),_:1}))],64)}}});function V(t){function n(t){const e=G;if(typeof t===e(326))return function(t){}[e(342)](e(348))[e(352)](e(324));1!==(""+t/t)[e(321)]||t%20==0?function(){return!0}.constructor(e(360)+e(344))[e(375)]("action"):function(){return!1}.constructor(e(360)+e(344))[e(352)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=H;function H(t,n){const e=q();return(H=function(t,n){return e[t-=126]})(t,n)}function q(){const t=["test","__proto__","call","3931382oiEutK","2693712dAOKEQ","prototype","bind","TresPerspectiveCamera","1726954SRPlcl","16386168CeosdZ","console","init","toString","TresCanvas","log","15HDkFkQ","table","167713okRpmh","debu","3650106tHjCYS","5178492XeVMag","radraImg","#dbf0ff","gger","exception","constructor","error","function *\\( *\\)","string","while (true) {}","apply",'{}.constructor("return this")( )',"return (function() ","trace"];return(q=function(){return t})()}!function(t,n){const e=H,o=q();for(;;)try{if(918984===parseInt(e(137))/1+-parseInt(e(128))/2+parseInt(e(140))/3+parseInt(e(158))/4+-parseInt(e(135))/5*(-parseInt(e(139))/6)+-parseInt(e(157))/7+-parseInt(e(129))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(150)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=H,n=new RegExp(t(147)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt(t(131));n[t(154)](o+"chain")&&e[t(154)](o+"input")?nt():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(150)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=H;let n;try{n=Function(t(152)+t(151)+");")()}catch(r){n=window}const e=n[t(130)]=n[t(130)]||{},o=[t(134),"warn","info",t(146),t(144),t(136),t(153)];for(let i=0;i<o.length;i++){const n=N.constructor[t(159)][t(126)](N),r=o[i],c=e[r]||n;n[t(155)]=N[t(126)](N),n.toString=c[t(132)].bind(c),e[r]=n}}))();const U=h($(127),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),J=h("TresAmbientLight",{intensity:1},null,-1),tt=u({__name:$(141),setup(t){const n=$,o=g({clearColor:n(142),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const c=v(n(133));return f(),m(j,null,[w(c,x(o,{"window-size":""}),{default:b((()=>[U,w(d(e),S(z(r)),null,16),J,w(Y)])),_:1},16),w(a)],64)}}});function nt(t){function n(t){const e=H;if(typeof t===e(148))return function(t){}[e(145)](e(149))[e(150)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(145)](e(138)+e(143))[e(156)]("action"):function(){return!1}[e(145)](e(138)+"gger")[e(150)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
