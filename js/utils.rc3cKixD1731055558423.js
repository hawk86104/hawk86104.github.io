import"./@fesjs.yotB665w1731055558423.js";import{_ as t}from"./jszip.rU4UDkEH1731055558423.js";import{F as n}from"./file-saver.x_iJ_jba1731055558423.js";import{_ as e}from"./three.3b9CEYeV1731055558423.js";const s=r;function o(){const t=["exception","message","test","string","14854959qZwnPf","2171421BYlRVL","image/jpeg","get","Unknown","file","blob","data:image/","folder","constructor","data:image/webp;base64,","type","error","pop","forEach","url","slice",".json","PNG","onerror","image/bmp","image/gif","data","1178886yUKRNG","readAsDataURL","12033488yrtEFx","split","prototype","GIF","data:image/JPEG;base64,","image/png","data:","action","call","then","loadAsync","bind","async","onloadend","setResponseType","images","push","非标准文件：不存在 app.json","stringify","length","endsWith","Cache","input","apply","data:image/png;base64,","function *\\( *\\)","startsWith","parse","5897160QCcAsm","log","28QDPAAA","gger","url:images/","console","application/octet-stream","WEBP","data:image/PNG;base64,","1703514zPYXoe","4oIpWYI","JPEG","image/webp","uuid","scene","chain","data:image/WEBP;base64,","enabled","files",'{}.constructor("return this")( )',"result","6605895dUzYxq","url:","load","toString","toUpperCase","data:image/jpeg;base64,",";base64,","app.json","geometries","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","while (true) {}","init","FileLoader","BufferGeometry","config.zip"];return(o=function(){return t})()}function r(t,n){const e=o();return(r=function(t,n){return e[t-=364]})(t,n)}!function(t,n){const e=r,s=o();for(;;)try{if(760550===parseInt(e(457))/1+-parseInt(e(403))/2*(-parseInt(e(435))/3)+parseInt(e(393))/4+-parseInt(e(414))/5+parseInt(e(402))/6*(parseInt(e(395))/7)+-parseInt(e(365))/8+-parseInt(e(434))/9)break;s.push(s.shift())}catch(a){s.push(s.shift())}}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[r(388)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){a(this,(function(){const t=r,n=new RegExp(t(390)),e=new RegExp(t(423),"i"),s=m(t(426));n[t(432)](s+t(408))&&e[t(432)](s+t(387))?m():s("0")}))()}();const c=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[r(388)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function i(t){const n=s,o=new(e[n(427)]);return new Promise(((e,s)=>{const r=n;o[r(416)](t,(t=>e(JSON[r(392)](t))),void 0,(t=>s(t)))}))}async function u(t){const n=s,o=new(e[n(427)]);return new Promise(((e,a)=>{const c=n;o[c(379)](c(440)),o[c(416)](t,(n=>{const o=c,i=new FileReader;i.onloadend=()=>{const n=r,o=function(t){const n=s,e=t[n(366)](".")[n(447)]().toLowerCase();return{jpg:n(436),jpeg:n(436),png:n(370),gif:n(455),bmp:n(454),webp:n(405)}[e]||n(399)}(t),a=i.result[n(366)](",")[1];e(n(371)+o+n(420)+a)},i.onerror=t=>{a(t)},i[o(364)](n)}),void 0,(t=>a(t)))}))}c(void 0,(function(){const t=r;let n;try{n=Function("return (function() "+t(412)+");")()}catch(o){n=window}const e=n[t(398)]=n[t(398)]||{},s=[t(394),"warn","info",t(446),t(430),"table","trace"];for(let r=0;r<s[t(384)];r++){const n=c.constructor[t(367)][t(376)](c),o=s[r],a=e[o]||n;n.__proto__=c[t(376)](c),n[t(417)]=a[t(417)][t(376)](a),e[o]=n}}))(),e[s(386)][s(410)]=!0;const p=n=>{const o=s,r=new(e[o(427)]);return r[o(379)](o(440)),new Promise(((e,s)=>{r[o(416)](n,(async n=>{e(await t.loadAsync(n))}),void 0,(t=>s(t)))}))},l=t=>{const n=s,e=t.substring(0,15),o=n(419),r=n(369),a=n(389),c=n(401),i=n(444),u=n(409);return o.startsWith(e)||r[n(391)](e)?n(404):a[n(391)](e)||c[n(391)](e)?n(452):"data:image/gif;base64,"[n(391)](e)||"data:image/GIF;base64,".startsWith(e)?n(368):i[n(391)](e||u[n(391)](e))?n(400):n(438)},f=e=>{const o=s,r=[];e[o(407)].geometries&&e[o(407)].geometries[o(448)]((t=>{const n=o;t[n(445)]===n(428)&&(r[n(381)]({uuid:t[n(406)],data:t[n(456)]}),t.data="url:geometries/"+t[n(406)]+n(451))}));const a=[];e[o(407)][o(380)]&&e[o(407)][o(380)][o(448)]((t=>{const n=o;t.url&&(a[n(381)]({uuid:t[n(406)],url:t[n(449)]}),t[n(449)].type?t[n(449)]=n(397)+t[n(406)]+"."+t[n(449)][n(445)]+n(451):t[n(449)]=n(397)+t[n(406)]+"."+l(t[n(449)]))}));const c=new t;if(r[o(384)]){const t=c[o(442)](o(422));r.forEach((n=>{const e=o;t[e(439)](n.uuid+e(451),JSON[e(383)](n[e(456)]))}))}if(a[o(384)]){const t=c.folder(o(380));a[o(448)]((n=>{const e=o;n[e(449)][e(445)]?t[e(439)](n[e(406)]+"."+n[e(449)].type+e(451),JSON[e(383)](n[e(449)])):t[e(439)](n.uuid+"."+l(n[e(449)]),n[e(449)][e(366)](";base64,").pop(),{base64:!0})}))}const i=JSON[o(383)](e);return c.file(o(421),i),c.generateAsync({type:o(440)}).then((t=>{const e=o;n.saveAs(t,e(429))}))},g=(t,n,e)=>{const o=s;t[o(422)]<=0&&t[o(380)]<=0&&e(n)},d=(n,e)=>{const o=s;let r=null;return t[o(375)](n)[o(374)]((t=>{const n=o;t[n(411)]["app.json"]?t[n(411)][n(421)][n(377)](n(433))[n(374)]((o=>{var a,c;const i=n;r=JSON[i(392)](o);const u=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t[o(407)][o(422)])||n[o(448)]((t=>{const n=o;t[n(456)].startsWith("url:")&&r[n(422)]++})),null==(e=t.scene[o(380)])||e.forEach((t=>{const n=o;t[n(449)][n(391)](n(415))&&r.images++})),r})(r);g(u,r,e),null==(a=r[i(407)][i(422)])||a[i(448)]((n=>{const s=i;n[s(456)][s(391)](s(415))&&t[s(411)][n[s(456)][s(450)](4)][s(377)](s(433))[s(374)]((t=>{const o=s;n[o(456)]=JSON[o(392)](t),u[o(422)]--,g(u,r,e)}))})),null==(c=r[i(407)][i(380)])||c[i(448)]((n=>{const s=i;if(n[s(449)].startsWith(s(415))){const o=n.url[s(450)](4);o[s(385)](s(451))?t[s(411)][o][s(377)](s(433))[s(374)]((t=>{const o=s;n[o(449)]=JSON[o(392)](t),u[o(380)]--,g(u,r,e)})):t[s(411)][o][s(377)]("base64")[s(374)]((t=>{const a=s,c=o[a(366)]("."),i=c[c.length-1][a(418)]();n.url=a(441)+i+a(420)+t,u[a(380)]--,g(u,r,e)}))}}))})):console[n(446)](n(382))}),(t=>{const e=o;console[e(446)](n.name+": "+t[e(431)])})),r};function m(t){function n(t){const e=r;if(typeof t===e(433))return function(t){}[e(443)](e(425))[e(388)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(443)](e(424)+e(396))[e(373)](e(372)):function(){return!1}[e(443)]("debu"+e(396)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,u as b,f as e,l as g,d as i,i as l};
