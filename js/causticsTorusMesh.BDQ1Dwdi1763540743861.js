import{F as s,_ as a}from"./@tresjs.BCHtwiaC1763540743861.js";import{C as e}from"./@pmndrs.C5SFDEDA1763540743861.js";import{d as o,a6 as r,w as t,H as i,o as n,J as l,u,F as c}from"./@vue.Co_gxueH1763540743861.js";import{dc as d,aD as p,n as m,V as f}from"./three.rXKzP9fQ1763540743861.js";import"./postprocessing.51l5tmA-1763540743861.js";import"./@vueuse.CfFJ-iFV1763540743861.js";const y=["object"],j=["object"],R=o({__name:"causticsTorusMesh",props:{color:{default:"#ffffff"},ior:{default:1.1},backsideIOR:{default:1.1},far:{default:15},worldRadius:{default:.3},intensity:{default:.05},causticsOnly:{type:Boolean,default:!1},lightSource:{default:{x:1,y:1,z:1}}},setup(o){const R=o,b=new d(3,1,100,32),h=new p({transmission:1,roughness:0});h.color.setHSL(Math.random(),1,.5),h.thickness=2;const w=new m(b,h);w.position.set(0,6,0);const{renderer:g}=s(),v=e(g.value,{frames:1/0,resolution:1024,worldRadius:R.worldRadius});v.params.backside=!0,v.scene.add(w);const{onBeforeRender:O}=a();return O(({elapsed:s})=>{w.rotation.x=s,w.rotation.y=s,v.update()}),r(()=>{R.color&&v.params.color.set(R.color),R.ior&&(v.params.ior=R.ior),R.backsideIOR&&(v.params.backsideIOR=R.backsideIOR),R.far&&(v.params.far=R.far),R.worldRadius&&(v.params.worldRadius=R.worldRadius),R.intensity&&(v.params.intensity=R.intensity)}),t(()=>R.causticsOnly,s=>{v.params.causticsOnly=s}),t(()=>R.lightSource,s=>{s&&v.params.lightSource instanceof f&&v.params.lightSource.set(s.x,s.y,s.z)},{deep:!0}),(s,a)=>(n(),i(c,null,[l("primitive",{object:u(v).group,position:[0,.003,0]},null,8,y),l("primitive",{object:u(v).helper,visible:!1},null,8,j)],64))}});export{R as default};
