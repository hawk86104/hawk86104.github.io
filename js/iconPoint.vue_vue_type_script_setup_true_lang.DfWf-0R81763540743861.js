import{_ as e,F as t}from"./@tresjs.BCHtwiaC1763540743861.js";import{l as s}from"./iconify-icon.1JyQPtAK1763540743861.js";import{i as a,a as o,r as i}from"./@iconify.DDuAktjw1763540743861.js";import{C as r}from"./canvg.6M0Q0v7H1763540743861.js";import{d as n,a as f,H as l,o as c,J as p,u as m}from"./@vue.Co_gxueH1763540743861.js";import{cU as d,V as h,ae as u}from"./three.rXKzP9fQ1763540743861.js";const g=["map","side"],v=n({__name:"iconPoint",props:{showName:{default:"名称"},icon:{default:""},iconColor:{default:"#ffffff"}},setup(n){const v=n,y=document.createElement("canvas");y.width=150,y.height=150;const P=y.getContext("2d");P.fillStyle="#00000000",P.fillRect(0,0,y.width,y.height),P.fillStyle="#ffffff",P.beginPath(),P.arc(75,75,75,0,2*Math.PI,!1),P.closePath(),P.fill(),P.beginPath(),P.fillStyle="#000000",P.arc(75,75,68,0,2*Math.PI,!1),P.closePath(),P.fill();const j=new d(y);v.icon&&s(v.icon).then(async e=>{const t=a(e,{width:"96px",height:"96px"}),s={...t.attributes,color:"#ffffff"},n=o(i(t.body),s);(await r.fromString(P,n)).render({ignoreClear:!0,ignoreDimensions:!0,offsetX:25,offsetY:25}),j.needsUpdate=!0});const w=f(),{onBeforeRender:x}=e(),{camera:S}=t();return x(({elapsed:e})=>{if(w.value&&S.value){const t=new h;t.setFromMatrixPosition(w.value.matrixWorld);const s=t.distanceTo(S.value.position);w.value.scale.set(s/30,s/30,1),w.value.position.z+=.001*Math.sin(2*e)}}),(e,t)=>(c(),l("TresGroup",null,[p("TresSprite",{renderOrder:999,center:[.1,.1],ref_key:"spriteRef",ref:w},[p("TresSpriteMaterial",{map:m(j),transparent:"",side:u,depthTest:!1},null,8,g)],512)]))}});export{v as _};
