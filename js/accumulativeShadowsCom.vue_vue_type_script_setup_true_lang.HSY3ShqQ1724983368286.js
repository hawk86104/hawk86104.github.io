import{a6 as t,h as n}from"./three.p-9BQwc31724983368286.js";import{p as e}from"./@tresjs.OrqGCbtj1724983368286.js";import{d as o,P as a}from"./@pmndrs.OCGdGm_L1724983368286.js";import{d as r,b as s,w as i,a1 as c,o as u,D as l,J as p,aj as f,ak as d}from"./@vue.Q1VpS3901724983368286.js";const h=w;!function(t,n){const e=w,o=y();for(;;)try{if(229011===parseInt(e(334))/1+-parseInt(e(378))/2*(-parseInt(e(343))/3)+parseInt(e(388))/4*(-parseInt(e(389))/5)+-parseInt(e(391))/6+parseInt(e(347))/7+-parseInt(e(399))/8*(-parseInt(e(369))/9)+parseInt(e(398))/10*(-parseInt(e(330))/11))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(368)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=w,n=new RegExp(t(356)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=P(t(404));n[t(402)](o+t(385))&&e[t(402)](o+"input")?P():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(368)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function w(t,n){const e=y();return(w=function(t,n){return e[t-=327]})(t,n)}g(void 0,(function(){const t=w;let n;try{n=Function(t(390)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n[t(359)]=n.console||{},o=[t(401),t(407),t(350),"error","exception",t(362),t(332)];for(let r=0;r<o[t(395)];r++){const n=g[t(380)].prototype[t(396)](g),a=o[r],s=e[a]||n;n[t(344)]=g[t(396)](g),n[t(413)]=s.toString[t(396)](s),e[a]=n}}))();const b=[h(379)],M=p(h(410),{args:[1,1]},null,-1);function y(){const t=["bottom","value","lightPosition","Vector3","bias","frames","near","34708IdkaLP","rotate-x","constructor","intensity","width","acos","set","chain","size","right","1252kiEgWt","3160CTfFuV","return (function() ","2058240Netkrg","left","ambient","castShadow","length","bind","counter","250270fjQhpu","713768JUdiTP","abs","log","test","cos","init","clear","DirectionalLight","warn","material","gPlane","TresPlaneGeometry","shadows render end","gger","toString","add","randFloatSpread","children","66VwsgfA","position","trace","TresSoftShadowMaterial","419836yxZQst","#000000","update","MathUtils","camera","amount","prepare","shadow","finish","39StAqWC","__proto__","radius","stateObject","48496TrtCPV","action","progressiveLightMap2","info","accumulativeShadowsCom","alphaTest","mapSize","blend","far","function *\\( *\\)","random","sin","console","debu","color","table","opacity","blendWindow","Group","height","shadows render start","apply","27nvuPVj","call"];return(y=function(){return t})()}const I=r({__name:h(351),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(335)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=h,g=r;let w=s();const{extend:y,scene:I,renderer:P,camera:S}=e();y({SoftShadowMaterial:o});const x={position:(new(t[m(374)])).set(g.lightPosition.x,g.lightPosition.y,g[m(373)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},v=new a(P[m(372)],I.value,x[m(353)]),z={map:v[m(349)].texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[m(354)],alphaTest:g[m(352)],opacity:g[m(363)],color:g[m(361)]},j=new(t[m(365)]);for(let n=0;n<x[m(339)];n++){const n=new(t[m(406)])(16777215,x[m(381)]/x.amount);n[m(394)]=!0,n.shadow[m(375)]=x[m(375)],n[m(341)][m(338)][m(377)]=x[m(377)],n[m(341)][m(338)][m(355)]=x.far,n[m(341)][m(338)][m(387)]=x[m(386)]/2,n[m(341)].camera[m(392)]=-x[m(386)]/2,n[m(341)][m(338)].top=x.size/2,n[m(341)][m(338)][m(371)]=-x[m(386)]/2,n[m(341)][m(353)][m(382)]=x[m(353)],n[m(341)].mapSize[m(366)]=x[m(353)],j[m(327)](n)}const T=()=>{const e=m,o=x[e(331)][e(395)]();for(let a=0;a<j[e(329)][e(395)];a++){const r=j[e(329)][a];if(Math[e(357)]()>g[e(393)])r.position[e(384)](x.position.x+n[e(328)](x[e(345)]),x[e(331)].y+t[e(337)].randFloatSpread(x[e(345)]),x[e(331)].z+t[e(337)].randFloatSpread(x[e(345)]));else{let t=Math[e(383)](2*Math.random()-1)-Math.PI/2,n=2*Math.PI*Math[e(357)]();r[e(331)][e(384)](Math.cos(t)*Math.cos(n)*o,Math[e(400)](Math[e(403)](t)*Math[e(358)](n)*o),Math[e(358)](t)*o)}}},_=(t=1)=>{const n=m;I[n(372)][n(327)](j),v[n(340)]();for(let e=0;e<t;e++)T(),v[n(336)](S[n(372)],g[n(364)]),console[n(401)]("shadows plm update",e);I[n(372)].remove(j),v[n(342)]()};i((()=>w.value),(t=>{const n=m;t&&(v.configure(t),v[n(405)](),console[n(401)](n(367)),_(g[n(376)]),console.log(n(411)))}));const k=()=>{const t=m;v[t(405)](),_(g[t(376)])};return c((()=>{const t=m;w[t(372)]&&(g[t(363)]&&(w[t(372)][t(408)][t(363)]=g[t(363)]),g[t(352)]&&(w.value[t(408)][t(352)]=g.alphaTest),g[t(361)]&&w[t(372)].material[t(361)][t(384)](g[t(361)]),g.blend&&(w.value[t(408)].blend=g[t(354)]))})),i((()=>g[m(373)]),(t=>{const n=m;t&&(console.log(g[n(373)]),x[n(331)][n(384)](t.x,t.y,t.z),k())}),{deep:!0}),i((()=>[g.frames,g[m(364)],g[m(393)]]),(()=>{k()})),(t,n)=>{const e=m;return u(),l("TresMesh",{"receive-shadow":"",ref_key:e(409),ref:w,scale:10,"rotate-x":-Math.PI/2},[M,p(e(333),f(d(z)),null,16)],8,b)}}});function P(t){function n(t){const e=w;if("string"==typeof t)return function(t){}[e(380)]("while (true) {}").apply(e(397));1!==(""+t/t).length||t%20==0?function(){return!0}[e(380)]("debu"+e(412))[e(370)](e(348)):function(){return!1}[e(380)](e(360)+e(412))[e(368)](e(346)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
