var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,f as u,s as a,F as f,V as h,M as l,B as p,Y as g,t as d,a as w,ak as v,aP as I,$ as y,cn as b}from"./three.-z-VOBM71731641201182.js";import{t as m}from"./@mapbox.UEb0hH5A1731641201182.js";import{c as x,d as M,a as _}from"./three-mesh-bvh.cO6YqTc81731641201182.js";import{z as j}from"./three-custom-shader-material.h_zYovtn1731641201182.js";const E=R;function R(t,n){const r=T();return(R=function(t,n){return r[t-=385]})(t,n)}!function(t,n){const r=R,e=T();for(;;)try{if(501971===parseInt(r(438))/1+parseInt(r(389))/2+parseInt(r(404))/3+parseInt(r(418))/4*(parseInt(r(440))/5)+parseInt(r(422))/6*(-parseInt(r(444))/7)+-parseInt(r(416))/8+parseInt(r(401))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const k=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){k(this,(function(){const t=R,n=new RegExp(t(390)),r=new RegExp(t(415),"i"),e=Z(t(449));n.test(e+t(431))&&r[t(397)](e+t(426))?Z():e("0")}))()}();const A=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();A(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(413)+t(424)+");")()}catch(r){n=window}return n}(),r=n[t(395)]=n[t(395)]||{},e=[t(399),t(400),t(393),"error","exception","table",t(407)];for(let o=0;o<e[t(410)];o++){const n=A[t(388)][t(405)].bind(A),i=e[o],s=r[i]||n;n[t(448)]=A[t(391)](A),n[t(385)]=s[t(385)][t(391)](s),r[i]=n}}))();class P extends c{constructor(){const t=R;super(),this[t(402)]=!1,this[t(427)]=!1,this[t(435)]=[],this.boundingBoxWorld=new u}init(t,n,r){const e=R;this[e(445)]=t,Object.freeze(this[e(445)]),this.map=n,this.parentTile=r,this[e(430)]=!1,this[e(446)]=t[2],this.ready()}async[E(411)](){const t=E;if(this[t(386)]=await this.map.provider[t(398)](this.tileNo),!this[t(402)]){if(this[t(442)](this[t(386)]),this[t(443)].setFromObject(this[t(386)])[t(417)](this[t(387)][t(429)](-Math.PI/2)),this[t(441)][t(442)](this),this[t(430)]=!0,this[t(427)]=!0,this[t(433)]){const n=this.parentTile[t(435)];let r=0;for(let e=0;e<n[t(410)];e++)n[e][t(427)]&&r++;4===r&&(this[t(433)][t(430)]=!1)}this[t(392)]()}}[E(392)](){const t=E;if(!this[t(427)]||this[t(402)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(441)];if(!n.intersectsBox(this[t(443)]))return void this[t(419)]();this[t(386)]instanceof a&&this[t(441)].provider[t(396)]&&(this.content[t(436)][t(439)].t_Matrix[t(403)]=this[t(441)][t(423)][t(450)]());let e=this[t(443)][t(420)](r);const o=this[t(445)][2];e/=Math[t(437)](2,this[t(441)][t(423)][t(408)]-o),e<60&&this[t(409)](),e>80&&this[t(419)]();this[t(435)].sort(((t,n)=>t.boundingBoxWorld.distanceToPoint(r)-n.boundingBoxWorld.distanceToPoint(r)))[t(432)]((n=>n[t(392)]()))}subdivide(){const t=E,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(410)]>0||i>=e[t(408)])return;m.getChildren(r)[t(432)]((n=>{const r=t,i=new P;i.init(n,e,this),o[r(428)](i)}))}[E(419)](){const t=E;this[t(435)][t(432)]((t=>t.dispose())),this[t(435)]=[],this[t(430)]=!0}[E(412)](){const t=E;this[t(441)][t(394)](this),this[t(441)].provider.abort(this[t(445)]),this.childrenTiles[t(432)]((n=>n[t(412)]())),this[t(435)]=[],this[t(433)]=void 0,this.content&&(this[t(441)].provider[t(412)](this[t(445)],this[t(386)]),this[t(386)]=void 0),this[t(402)]=!0}}function T(){const t=["init","getTranMatrix","call","toString","content","matrixWorld","constructor","208072VftNAu","function *\\( *\\)","bind","update","info","remove","console","filter","test","getTile","log","warn","887949whgqtj","isDisposed","value","2215719OkoNfw","prototype","while (true) {}","trace","maxZoom","subdivide","length","ready","dispose","return (function() ","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3363120rorzqC","applyMatrix4","722752rvGcVT","simplify","distanceToPoint","string","155244eAlKBn","provider",'{}.constructor("return this")( )',"debu","input","isReady","push","makeRotationX","visible","chain","forEach","parentTile","counter","childrenTiles","material","pow","499001DbRsDJ","uniforms","5HGBSYq","map","add","boundingBoxWorld","189HWtjuH","tileNo","renderOrder","action","__proto__"];return(T=function(){return t})()}function Z(t){function n(t){const r=R;if(typeof t===r(421))return function(t){}[r(388)](r(406)).apply(r(434));1!==(""+t/t)[r(410)]||t%20==0?function(){return!0}[r(388)](r(425)+"gger")[r(451)](r(447)):function(){return!1}.constructor(r(425)+"gger")[r(414)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const F=z;!function(t,n){const r=z,e=B();for(;;)try{if(211e3===parseInt(r(365))/1+-parseInt(r(331))/2*(parseInt(r(316))/3)+parseInt(r(353))/4*(-parseInt(r(351))/5)+-parseInt(r(329))/6+-parseInt(r(338))/7*(-parseInt(r(339))/8)+parseInt(r(315))/9+parseInt(r(367))/10*(parseInt(r(333))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const W=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[z(363)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){W(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=C(t(311));n[t(332)](e+"chain")&&r.test(e+t(366))?C():e("0")}))()}();const S=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[z(363)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function z(t,n){const r=B();return(z=function(t,n){return r[t-=310]})(t,n)}S(void 0,(function(){const t=z;let n;try{n=Function(t(371)+t(356)+");")()}catch(o){n=window}const r=n[t(314)]=n[t(314)]||{},e=[t(357),"warn",t(322),t(350),"exception","table","trace"];for(let i=0;i<e[t(321)];i++){const n=S[t(318)][t(360)][t(369)](S),o=e[i],s=r[o]||n;n[t(370)]=S[t(369)](S),n[t(346)]=s[t(346)][t(369)](s),r[o]=n}}))();let O=class extends c{constructor(){const t=z;super(),this[t(328)]=[74.390592,6.900905,134.071423,54.318199],this[t(335)]=20,this[t(343)]=0,this[t(368)]=new f,this[t(337)]=new h,this[t(352)]=new l,this[t(325)]=new l,this[t(347)]=new h,this[t(312)]=[],this[t(345)]=0,!p[t(360)][t(317)]&&(p[t(360)].computeBoundsTree=x),!p[t(360)][t(341)]&&(p[t(360)].disposeBoundsTree=M),a[t(360)][t(340)]=_}[F(358)](){const t=F;this[t(343)]>3&&(console[t(334)](t(310)),this[t(343)]=3),this[t(343)]<0&&(console[t(334)](t(310)),this[t(343)]=0);const n=[];let r=[m.bboxToTile(this[t(328)])],e=this[t(343)];for(;e>0;){const n=[...r];r=[],n[t(320)]((n=>{const e=t,o=m.getChildren(n);r[e(330)](...o)})),e--}n[t(330)](...r),n[t(320)]((n=>{const r=t,e=new P;e.init(n,this),this[r(312)][r(330)](e)}))}[F(349)](){const t=F;if(!this.visible||!this[t(361)])return;const n=Date[t(323)]();n-this[t(345)]<300||(0!==this[t(312)][t(321)]?(this[t(361)][t(313)](this[t(337)]),this[t(352)].multiplyMatrices(this[t(361)][t(327)],this.camera[t(319)]),this[t(337)][t(364)](this[t(347)])&&this.cameraProjectionMatrix[t(364)](this.lastCameraProjectionMatrix)||(this[t(368)][t(362)](this[t(352)]),this[t(312)].forEach((n=>n[t(349)]())),this[t(325)][t(342)](this[t(352)]),this[t(347)][t(342)](this.cameraWorldPosition),this[t(345)]=n)):this[t(358)]())}dispose(){throw new Error(F(355))}[F(324)](){throw new Error("[Map.regenerate] Method not implemented.")}};function B(){const t=["input","880tobWJa","cameraFrustum","bind","__proto__","return (function() ","rootForward needs to be 0 - 3.","init","rootTiles","getWorldPosition","console","890577qKaHmx","6bAjnaO","computeBoundsTree","constructor","matrixWorldInverse","forEach","length","info","now","regenerate","lastCameraProjectionMatrix","counter","projectionMatrix","bbox","342372hRBVyg","push","123028IYfnrX","test","42922ZIIrzZ","warn","maxZoom","debu","cameraWorldPosition","248458fXymzm","16IAFLoh","raycast","disposeBoundsTree","copy","rootForward","string","lastUpdateTime","toString","lastCameraWorldPosition","stateObject","update","error","12505ybyMYB","cameraProjectionMatrix","516nEwtfs","gger","[Map.dispose] Method not implemented.",'{}.constructor("return this")( )',"log","initRootTiles","while (true) {}","prototype","camera","setFromProjectionMatrix","apply","equals","200402widGOR"];return(B=function(){return t})()}function C(t){function n(t){const r=z;if(typeof t===r(344))return function(t){}[r(318)](r(359))[r(363)](r(326));1!==(""+t/t)[r(321)]||t%20==0?function(){return!0}[r(318)](r(336)+r(354)).call("action"):function(){return!1}.constructor(r(336)+r(354)).apply(r(348)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const U=q;function N(){const t=["string","pendings","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","clone","2CodPeK","12994304tPiTJu","bind","add","constructor","2330034ggyIDi","gger","call","abort","signal","debu","3441402SbiZKI","input","resolve","10351236UIfCZr","prototype","catch","promise","15165kQJepA","listeners","counter","ready","get","exception","has","toString","function *\\( *\\)","url","User abort.","while (true) {}","reject","size","trace","1041846qcRIjU","forEach","init","668FBYQYe","delete","length","__proto__","apply","_controller","log","972241mvMPEb","set","finally","error"];return(N=function(){return t})()}!function(t,n){const r=q,e=N();for(;;)try{if(963446===-parseInt(r(462))/1*(-parseInt(r(472))/2)+parseInt(r(452))/3+-parseInt(r(455))/4*(parseInt(r(437))/5)+parseInt(r(433))/6+-parseInt(r(477))/7+-parseInt(r(473))/8+parseInt(r(430))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[q(459)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){$(this,(function(){const t=q,n=new RegExp(t(445)),r=new RegExp(t(469),"i"),e=H(t(454));n.test(e+"chain")&&r.test(e+t(431))?H():e("0")}))()}();const Y=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Y(void 0,(function(){const t=q,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n.console=n[t(468)]||{},e=[t(461),t(470),"info",t(465),t(442),"table",t(451)];for(let o=0;o<e[t(457)];o++){const n=Y[t(476)][t(434)][t(474)](Y),i=e[o],s=r[i]||n;n[t(458)]=Y[t(474)](Y),n[t(444)]=s[t(444)][t(474)](s),r[i]=n}}))();const D=class t{constructor(){this._controller=new AbortController,this.listeners=new Set}fetch(c,u={}){const a=U;var f,h;t.pendings[a(443)](c)||(t[a(467)][a(463)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(460)][a(428)]},n(f,r(h)))).then((t=>{const n=a;this[n(438)][n(453)]((r=>r[n(432)](t[n(471)]())))}))[a(435)]((t=>{const n=a;this[n(438)][n(453)]((r=>r[n(449)](t)))}))[a(464)]((()=>{const n=a;t[n(467)][n(456)](c)})))}[U(480)](){const t=U;this[t(460)][t(480)]()}};D[U(467)]=new Map;let Q=D;class V{constructor(t,n){const r=U;this[r(446)]=t,this[r(454)]=n,this.promise=new Promise(((t,n)=>{const e=r;this[e(432)]=t,this[e(449)]=n}))}[U(440)](){const t=U;let n=Q[t(467)][t(441)](this[t(446)]);return!n&&(n=new Q,n.fetch(this[t(446)],this[t(454)])),n.listeners[t(475)](this),this[t(436)]}abort(){const t=U;this.reject(t(447));const n=Q[t(467)][t(441)](this[t(446)]);n&&(n[t(438)][t(456)](this),0===n[t(438)][t(450)]&&n[t(480)]())}}function q(t,n){const r=N();return(q=function(t,n){return r[t-=428]})(t,n)}function H(t){function n(t){const r=q;if(typeof t===r(466))return function(t){}[r(476)](r(448))[r(459)](r(439));1!==(""+t/t)[r(457)]||t%20==0?function(){return!0}[r(476)]("debu"+r(478))[r(479)]("action"):function(){return!1}[r(476)](r(429)+r(478))[r(459)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function G(t,n){const r=K();return(G=function(t,n){return r[t-=304]})(t,n)}!function(t,n){const r=G,e=K();for(;;)try{if(741294===parseInt(r(336))/1*(-parseInt(r(304))/2)+-parseInt(r(339))/3*(parseInt(r(344))/4)+-parseInt(r(328))/5*(-parseInt(r(308))/6)+-parseInt(r(306))/7*(parseInt(r(340))/8)+-parseInt(r(323))/9*(parseInt(r(309))/10)+parseInt(r(332))/11*(parseInt(r(311))/12)+-parseInt(r(316))/13*(-parseInt(r(315))/14))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const J=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[G(318)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function K(){const t=["console","strokeStyle","drawImage","fillText","call","bind","stateObject","warn","62dRpnjG","log","2583WjEodb","#FF4444","6050526KpbjyH","31490AFoHCI","blob","2784JSVAjU","font","toString","while (true) {}","140cFqNyO","1983280ekQEwU","length","apply","info","string",'{}.constructor("return this")( )',"chain","162NCGNNm","trace","gger","#44FF44","ready","5WYaYuI","20px Arial","debu","fillStyle","17754TUOPtW","#66AAFF","return (function() ","input","17571ithgPz","constructor","error","23937CBcicU","4712fyIjMZ","test","init","prototype","676ZmMhHn"];return(K=function(){return t})()}!function(){J(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=tt(t(342));n[t(341)](e+t(322))&&r.test(e+t(335))?tt():e("0")}))()}();const X=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[G(318)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();let L;function tt(t){function n(t){const r=G;if(typeof t===r(320))return function(t){}.constructor(r(314)).apply("counter");1!==(""+t/t)[r(317)]||t%20==0?function(){return!0}[r(337)](r(330)+r(325))[r(349)]("action"):function(){return!1}.constructor(r(330)+r(325))[r(318)](r(351)),n(++t)}try{if(t)return n;n(0)}catch(r){}}X(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(334)+t(321)+");")()}catch(r){n=window}return n}(),r=n[t(345)]=n[t(345)]||{},e=[t(305),t(352),t(319),t(338),"exception","table",t(324)];for(let o=0;o<e[t(317)];o++){const n=X[t(337)][t(343)][t(350)](X),i=e[o],s=r[i]||n;n.__proto__=X[t(350)](X),n[t(313)]=s[t(313)][t(350)](s),r[i]=n}}))();const nt=st;!function(t,n){const r=st,e=ct();for(;;)try{if(722758===-parseInt(r(369))/1+-parseInt(r(351))/2*(parseInt(r(347))/3)+-parseInt(r(346))/4+parseInt(r(354))/5*(-parseInt(r(339))/6)+-parseInt(r(329))/7+parseInt(r(357))/8+parseInt(r(335))/9*(parseInt(r(360))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[st(352)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){rt(this,(function(){const t=st,n=new RegExp(t(327)),r=new RegExp(t(370),"i"),e=it(t(361));n.test(e+"chain")&&r[t(356)](e+t(345))?it():e("0")}))()}();const et=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[st(352)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();et(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function(t(350)+t(353)+");")()}catch(r){n=window}return n}(),r=n.console=n.console||{},e=[t(366),t(349),t(328),t(358),t(325),"table","trace"];for(let o=0;o<e[t(348)];o++){const n=et[t(331)].prototype[t(362)](et),i=e[o],s=r[i]||n;n[t(332)]=et[t(362)](et),n[t(344)]=s[t(344)][t(362)](s),r[i]=n}}))();class ot{constructor(t){const n=st;this[n(368)]=!0,this[n(337)]=new Map,this[n(342)]=new t,this[n(342)][n(359)]=this[n(330)][n(362)](this),this[n(368)]=!1}async[nt(343)](t){const n=nt;if(!this.terminated)return this.worker[n(343)](t),new Promise(((r,e)=>{const o=n;this[o(337)][o(340)](t.id,r)}))}[nt(330)](t){const n=nt,{id:r,error:e}=t[n(367)],o=this[n(337)].get(r);o&&!e&&o(t[n(367)]),this[n(337)][n(326)](r)}[nt(364)](){const t=nt;this[t(342)][t(359)]=null,this.worker.terminate(),this[t(368)]=!0,this[t(337)][t(336)]()}}function it(t){function n(t){const r=st;if(typeof t===r(363))return function(t){}[r(331)](r(355))[r(352)](r(333));1!==(""+t/t).length||t%20==0?function(){return!0}[r(331)](r(341)+r(365))[r(334)](r(338)):function(){return!1}[r(331)](r(341)+r(365))[r(352)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function st(t,n){const r=ct();return(st=function(t,n){return r[t-=325]})(t,n)}function ct(){const t=["worker","postMessage","toString","input","2538692qWtmWu","391236YHkpsQ","length","warn","return (function() ","22eBwhAa","apply",'{}.constructor("return this")( )',"11320UhlLBe","while (true) {}","test","5000304NJEuLK","error","onmessage","820eWqbpI","init","bind","string","terminate","gger","log","data","terminated","409624iGpDGI","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","delete","function *\\( *\\)","info","8468607gJpHly","onMessage","constructor","__proto__","counter","call","446139Okcnxy","clear","map","action","738sHgOgB","set","debu"];return(ct=function(){return t})()}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=pt;!function(t,n){const r=pt,e=lt();for(;;)try{if(873895===parseInt(r(470))/1+parseInt(r(496))/2+parseInt(r(486))/3+parseInt(r(498))/4*(-parseInt(r(500))/5)+-parseInt(r(485))/6+parseInt(r(464))/7+-parseInt(r(492))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ft=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[pt(507)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ft(this,(function(){const t=pt,n=new RegExp(t(488)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=dt(t(519));n[t(506)](e+t(508))&&r[t(506)](e+t(480))?dt():e("0")}))()}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[pt(507)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function lt(){const t=["7073031qFQilc","force-cache","info","prototype","fetching","debu","36988pjvdPE","join","console","toString","gger","{z}","getUrl","getId","source","abort","input","constructor","stateObject",'{}.constructor("return this")( )',"warn","1282956gjYBfm","332400DukBvf","bitmap","function *\\( *\\)","anisotropy","bind","table","2372256tTAunJ","replace","image","string","2065474CkcuDn","while (true) {}","20OaiIPM","exception","806705GIMorC","showTileNo","return (function() ","_useWorker","trace","[y]","test","apply","chain","indexOf","useWorker","delete","_worker","postMessage","error","{x}","dispose","__proto__","maxZoom","init"];return(lt=function(){return t})()}function pt(t,n){const r=lt();return(pt=function(t,n){return r[t-=464]})(t,n)}ht(void 0,(function(){const t=pt;let n;try{n=Function(t(502)+t(483)+");")()}catch(o){n=window}const r=n[t(472)]=n[t(472)]||{},e=["log",t(484),t(466),t(514),t(499),t(491),t(504)];for(let i=0;i<e.length;i++){const n=ht[t(481)][t(467)][t(490)](ht),o=e[i],s=r[o]||n;n[t(517)]=ht[t(490)](ht),n.toString=s[t(473)][t(490)](s),r[o]=n}}))();class gt{constructor(){const t=pt;this[t(518)]=20,this[t(478)]="https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]",this[t(501)]=!1,this._useWorker=!1,this[t(468)]=new Map}set[at(510)](t){var n;const r=at;this[r(503)]=t,!this._useWorker&&(null==(n=this[r(512)])||n.terminate(),this[r(512)]=void 0)}get useWorker(){return this[at(503)]}async getTile(t){const n=at,r=this[n(476)](t),e=new g;if(this._useWorker){!this[n(512)]&&(this[n(512)]=new ot(ut));const o=this[n(477)](t),i=await this[n(512)][n(513)]({id:o,tileNo:t,url:r,debug:this[n(501)]});e[n(494)]=i[n(487)]}else{const o=new V(r,{cache:n(465),mode:"cors"});this[n(468)].set(t,o);try{e[n(494)]=await async function(t,n,r=!1){const e=G,o=await n[e(327)](),i=await o[e(310)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:"flipY"});if(!r)return s;!L&&(L=new OffscreenCanvas(256,256));const c=L.getContext("2d");if(!c)throw new Error('Offscreencanvas.getContext("2d") error!');const{width:u,height:a}=L;return c[e(347)](s,0,0),c.rect(0,0,u,a),c[e(346)]="#00FFFF",c[e(312)]=e(329),c.stroke(),c.fillStyle=e(307),c[e(348)](""+t[0],10,30),c[e(331)]=e(326),c[e(348)](""+t[1],10,55),c[e(331)]=e(333),c[e(348)](""+t[2],10,80),await createImageBitmap(L,{imageOrientation:"flipY"})}(t,o,this.showTileNo)}finally{this.fetching.delete(t)}}return e.needsUpdate=!0,e[n(489)]=4,e}[at(479)](t){var n;const r=at;if(this._useWorker)null==(n=this[r(512)])||n.postMessage({id:this[r(477)](t),abort:!0});else{const n=this[r(468)].get(t);n&&n.abort(),this.fetching[r(511)](t)}}[at(516)](t,n){n.dispose()}[at(477)](t){return t[at(471)]("-")}[at(476)](t){const n=at,[r,e,o]=t;return-1===this[n(478)][n(509)]("[x]")?this[n(478)][n(493)](n(515),r+"")[n(493)]("{y}",e+"")[n(493)](n(475),o+""):this[n(478)][n(493)]("[x]",r+"")[n(493)](n(505),e+"")[n(493)]("[z]",o+"")}}function dt(t){function n(t){const r=pt;if(typeof t===r(495))return function(t){}[r(481)](r(497))[r(507)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(481)](r(469)+r(474)).call("action"):function(){return!1}.constructor(r(469)+r(474))[r(507)](r(482)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const wt=Mt;!function(t,n){const r=Mt,e=_t();for(;;)try{if(373462===parseInt(r(108))/1+parseInt(r(129))/2*(parseInt(r(117))/3)+-parseInt(r(107))/4+-parseInt(r(149))/5+parseInt(r(153))/6+parseInt(r(137))/7+-parseInt(r(141))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const vt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Mt(105)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){vt(this,(function(){const t=Mt,n=new RegExp(t(133)),r=new RegExp(t(118),"i"),e=Zt("init");n.test(e+t(121))&&r.test(e+t(112))?Zt():e("0")}))()}();const It=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Mt(105)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();It(void 0,(function(){const t=Mt,n=function(){const t=Mt;let n;try{n=Function(t(154)+t(123)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(122)]||{},e=[t(147),t(106),t(132),"error",t(104),t(146),t(152)];for(let o=0;o<e.length;o++){const n=It[t(148)][t(131)][t(126)](It),i=e[o],s=r[i]||n;n[t(130)]=It[t(126)](It),n[t(145)]=s[t(145)][t(126)](s),r[i]=n}}))();const yt=wt(110),bt=wt(140),mt=6378137,xt=Math.PI/180;function Mt(t,n){const r=_t();return(Mt=function(t,n){return r[t-=102]})(t,n)}function _t(){const t=["asinh","tanh","4OyvQQe","__proto__","prototype","info","function *\\( *\\)","call","debu","charAt","1069061wkkTfs","atan2","while (true) {}","merc","5663160SQFTmR","sin","tan","cosh","toString","table","log","constructor","2316855CGKqQM","gger","atanh","trace","1759314EZYZhd","return (function() ","cos","sqrt","exception","apply","warn","644984ccksyu","690756Kbmarm","toFixed","utm","atan","input","’ outside UTM limits","abs","latitude ‘","length","853914faaiip","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","floor","chain","console",'{}.constructor("return this")( )',"counter","sinh","bind"];return(_t=function(){return t})()}function jt(t,n){const r=wt;return[mt*t*xt,mt*Math[r(147)](Math[r(143)](.25*Math.PI+n*xt*.5))]}function Et(t,n){let r=t/(mt*Math.PI)*180,e=n/(mt*Math.PI)*180;return e=180/Math.PI*(2*Math.atan(Math.exp(e*Math.PI/180))-Math.PI/2),[r,e]}function Rt(t){return t*Math.PI/180}function kt(t){return 180*t/Math.PI}const At={a:6378137,b:6356752.314245,f:1/298.257223563};function Pt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError(e(115)+n+e(113));let o=r||Math[e(120)]((t+180)/6)+1,i=Rt(6*(o-1)-180+3);const s="CDEFGHJKLMNPQRSTUVWXX"[e(136)](Math[e(120)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Rt(6)):32===o&&"X"===s&&t<9?(o--,i-=Rt(6)):32===o&&"X"===s&&t>=9?(o++,i+=Rt(6)):34===o&&"X"===s&&t<21?(o--,i-=Rt(6)):34===o&&"X"===s&&t>=21?(o++,i+=Rt(6)):36===o&&"X"===s&&t<33?(o--,i-=Rt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Rt(6));const c=Rt(n),u=Rt(t)-i,{a:a,f:f}=At,h=.9996,l=Math[e(103)](f*(2-f)),p=f/(2-f),g=p*p,d=p*g,w=p*d,v=p*w,I=p*v,y=Math[e(102)](u),b=Math.sin(u),m=Math[e(143)](c),x=Math.sinh(l*Math[e(151)](l*m/Math[e(103)](1+m*m))),M=m*Math[e(103)](1+x*x)-x*Math[e(103)](1+m*m),_=Math[e(138)](M,y),j=Math[e(127)](b/Math.sqrt(M*M+y*y)),E=a/(1+p)*(1+1/4*g+1/64*w+1/256*I),R=[null,.5*p-2/3*g+5/16*d+41/180*w-127/288*v+7891/37800*I,13/48*g-.6*d+557/1440*w+281/630*v-1983433/1935360*I,61/240*d-103/140*w+15061/26880*v+167603/181440*I,49561/161280*w-179/168*v+6601661/7257600*I,34729/80640*v-3418889/1995840*I,.6650675310896665*I];let k=_;for(let Z=1;Z<=6;Z++)k+=R[Z]*Math.sin(2*Z*_)*Math.cosh(2*Z*j);let A=j;for(let Z=1;Z<=6;Z++)A+=R[Z]*Math[e(102)](2*Z*_)*Math[e(125)](2*Z*j);let P=h*E*A,T=h*E*k;return P+=5e5,T<0&&(T+=1e7),[P,T]}function Tt(t,n,r){const e=wt,o=r||50,{a:i,f:s}=At,c=.9996,u=t-5e5,a=n,f=Math[e(103)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,w=h*d,v=i/(1+h)*(1+1/4*l+1/64*g+1/256*w),I=u/(c*v),y=a/(c*v),b=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*w,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*w,17/480*p-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=y;for(let z=1;z<=6;z++)m-=b[z]*Math[e(142)](2*z*y)*Math[e(144)](2*z*I);let x=I;for(let z=1;z<=6;z++)x-=b[z]*Math[e(102)](2*z*y)*Math.sinh(2*z*I);const M=Math[e(125)](x),_=Math[e(142)](m),j=Math[e(102)](m),E=_/Math[e(103)](M*M+j*j);let R=null,k=E;do{const t=Math[e(125)](f*Math.atanh(f*k/Math.sqrt(1+k*k))),n=k*Math[e(103)](1+t*t)-t*Math[e(103)](1+k*k);R=(E-n)/Math.sqrt(1+n*n)*(1+(1-f*f)*k*k)/((1-f*f)*Math[e(103)](1+k*k)),k+=R}while(Math[e(114)](R)>1e-12);const A=k,P=Math[e(111)](A);let T=Math[e(138)](M,j),Z=1;for(let z=1;z<=6;z++)Z-=2*z*b[z]*Math[e(102)](2*z*y)*Math[e(144)](2*z*I);let F=0;for(let z=1;z<=6;z++)F+=2*z*b[z]*Math[e(142)](2*z*y)*Math[e(125)](2*z*I);Math[e(111)](Math[e(143)](m)*Math[e(128)](x)),Math[e(138)](F,Z);const W=Math.sin(P);Math[e(103)](1-f*f*W*W),Math.sqrt(1+A*A),Math[e(103)](M*M+j*j),Math[e(103)](Z*Z+F*F);T+=Rt(6*(o-1)-180+3);const S=Number(kt(P)[e(109)](14));return[Number(kt(T)[e(109)](14)),S]}function Zt(t){function n(t){const r=Mt;if("string"==typeof t)return function(t){}.constructor(r(139))[r(105)](r(124));1!==(""+t/t)[r(116)]||t%20==0?function(){return!0}[r(148)](r(135)+r(150))[r(134)]("action"):function(){return!1}[r(148)](r(135)+r(150)).apply(r(119)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Ft=zt;!function(t,n){const r=zt,e=Bt();for(;;)try{if(964387===-parseInt(r(150))/1*(parseInt(r(170))/2)+-parseInt(r(143))/3*(-parseInt(r(168))/4)+parseInt(r(180))/5+parseInt(r(166))/6+-parseInt(r(177))/7+-parseInt(r(152))/8*(parseInt(r(167))/9)+parseInt(r(172))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Wt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[zt(155)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Wt(this,(function(){const t=zt,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Ct(t(153));n[t(140)](e+t(151))&&r.test(e+t(179))?Ct():e("0")}))()}();const St=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function zt(t,n){const r=Bt();return(zt=function(t,n){return r[t-=140]})(t,n)}St(void 0,(function(){const t=zt,n=function(){const t=zt;let n;try{n=Function(t(158)+t(163)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(144)]||{},e=[t(159),"warn",t(156),"error","exception",t(157),t(169)];for(let o=0;o<e[t(175)];o++){const n=St.constructor[t(173)][t(161)](St),i=e[o],s=r[i]||n;n[t(147)]=St[t(161)](St),n.toString=s[t(164)].bind(s),r[i]=n}}))();class Ot{constructor(){const t=zt;this[t(148)]=50,this.coordType=yt,this[t(160)]=20}async[Ft(181)](t){const n=Ft,r=new d,e=m.tileToBBOX(t),o=this.convertCoordinate(e[0],e[3]),i=this.convertCoordinate(e[2],e[3]),s=this.convertCoordinate(e[0],e[1]),c=this[n(176)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r[n(174)]("position",new w(u,3)),r}[Ft(154)](t){}[Ft(146)](t,n){n[Ft(146)]()}[Ft(176)](t,n){const r=Ft;return this.coordType===yt?Pt(t,n,this[r(148)]):jt(t,n)}}function Bt(){const t=["call","dispose","__proto__","utmZone","constructor","11YjJRES","chain","1560peczoU","init","abort","apply","info","table","return (function() ","log","maxZoom","bind","while (true) {}",'{}.constructor("return this")( )',"toString","string","2758458aKaqUx","83682yyVpiI","12YMqiVQ","trace","239062wAGcRL","action","14769600hXYinQ","prototype","setAttribute","length","convertCoordinate","2453409uCNBYF","stateObject","input","7374975MmNZYJ","getTile","gger","test","counter","debu","1031127QraHBl","console"];return(Bt=function(){return t})()}function Ct(t){function n(t){const r=zt;if(typeof t===r(165))return function(t){}[r(149)](r(162)).apply(r(141));1!==(""+t/t)[r(175)]||t%20==0?function(){return!0}.constructor(r(142)+"gger")[r(145)](r(171)):function(){return!1}.constructor(r(142)+r(182))[r(155)](r(178)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Ut(t){return new Worker(""+new URL("../static/MartiniWorker-n0tAem7r.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Nt=Qt;!function(t,n){const r=Qt,e=Dt();for(;;)try{if(348956===parseInt(r(501))/1*(-parseInt(r(520))/2)+-parseInt(r(533))/3*(-parseInt(r(480))/4)+parseInt(r(510))/5+parseInt(r(519))/6+-parseInt(r(491))/7*(parseInt(r(521))/8)+parseInt(r(475))/9+-parseInt(r(529))/10*(parseInt(r(528))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $t=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){$t(this,(function(){const t=Qt,n=new RegExp(t(496)),r=new RegExp(t(505),"i"),e=qt(t(522));n[t(499)](e+"chain")&&r.test(e+t(504))?qt():e("0")}))()}();const Yt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Dt(){const t=["call","utmZone","test","[x]","207795gIoNdn","debu","constructor","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getInMainThread","gger","bind","_worker","1102090EgESxK","info","positions","getId","setIndex","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","console","dispose","abort","1982520IaYbkZ","2yyRFip","16ujoAaj","init","postMessage","apply","_useWorker","toString","getInWorkerThread","715TqlNmW","46470euVLQK","getUrl","position","setAttribute","6VYDogP","__proto__","log","replace","3821652JENDNO","exception","action","[z]","error","296364MYRtVs","stateObject","prototype","useWorker",'{}.constructor("return this")( )',"string","coordType","getTile","length","source","counter","926947WElmzl","terminate","triangles","maxZoom","table","function *\\( *\\)"];return(Dt=function(){return t})()}function Qt(t,n){const r=Dt();return(Qt=function(t,n){return r[t-=475]})(t,n)}Yt(void 0,(function(){const t=Qt;let n;try{n=Function("return (function() "+t(484)+");")()}catch(o){n=window}const r=n[t(516)]=n[t(516)]||{},e=[t(535),"warn",t(511),t(479),t(476),t(495),"trace"];for(let i=0;i<e[t(488)];i++){const n=Yt[t(503)][t(482)][t(508)](Yt),o=e[i],s=r[o]||n;n[t(534)]=Yt[t(508)](Yt),n.toString=s[t(526)].bind(s),r[o]=n}}))();class Vt{constructor(){const t=Qt;this[t(494)]=12,this[t(486)]=yt,this[t(498)]=50,this[t(525)]=!0,this[t(489)]=t(515)}set[Nt(483)](t){var n;const r=Nt;this._useWorker=t,!this[r(525)]&&(null==(n=this[r(509)])||n[r(492)](),this[r(509)]=void 0)}get[Nt(483)](){return this[Nt(525)]}async[Nt(487)](t){const n=Nt;return this[n(525)]?this.getInWorkerThread(t):this[n(506)]()}async[Nt(506)](){return new p}async[Nt(527)](t){const n=Nt;!this[n(509)]&&(this[n(509)]=new ot(Ut));const r={tileNo:t,id:this.getId(t),url:this[n(530)](t),maxZ:this[n(494)],coordType:this[n(486)],utmZone:this[n(498)]},e=await this[n(509)][n(523)](r),o=new p;return o[n(532)](n(531),new w(e[n(512)],3)),o.setAttribute("uv",new w(e.uv,2)),o[n(514)](new w(e[n(493)],1)),o}async[Nt(518)](t){var n;const r=Nt;this[r(525)]&&(null==(n=this[r(509)])||n[r(523)]({id:this[r(513)](t),abort:!0}))}async[Nt(517)](t,n){var r;const e=Nt;n[e(517)](),this[e(525)]&&(null==(r=this[e(509)])||r[e(523)]({id:this[e(513)](t),dispose:!0}))}getId(t){return t.join("-")}[Nt(530)](t){const n=Nt,[r,e,o]=t;return this[n(489)][n(536)](n(500),r+"")[n(536)]("[y]",e+"")[n(536)](n(478),o+"")}}function qt(t){function n(t){const r=Qt;if(typeof t===r(485))return function(t){}[r(503)]("while (true) {}").apply(r(490));1!==(""+t/t)[r(488)]||t%20==0?function(){return!0}.constructor("debu"+r(507))[r(497)](r(477)):function(){return!1}.constructor(r(502)+r(507))[r(524)](r(481)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Kt,e=Gt();;)try{if(590367===parseInt(r(341))/1*(-parseInt(r(347))/2)+-parseInt(r(338))/3*(-parseInt(r(345))/4)+parseInt(r(351))/5+parseInt(r(354))/6+-parseInt(r(344))/7+parseInt(r(343))/8+-parseInt(r(357))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Ht=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Gt(){var t=["6536421DSVCpz","error","toString","return (function() ","apply",'{}.constructor("return this")( )',"input","function *\\( *\\)","warn","debu","exception","console","init","action","trace","while (true) {}","center","5367qVvmyk","bind","prototype","13JIlEqu","table","4315496mARrCe","7312984HWlTgP","1132rPHRhg","string","36906DDytEE","info","gger","constructor","2297985mvTVLQ","length","counter","6575496chwwqt","log","test"];return(Gt=function(){return t})()}!function(){Ht(this,(function(){var t=Kt,n=new RegExp(t(364)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Lt(t(369));n[t(356)](e+"chain")&&r[t(356)](e+t(363))?Lt():e("0")}))()}();var Jt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Kt(t,n){var r=Gt();return(Kt=function(t,n){return r[t-=337]})(t,n)}Jt(void 0,(function(){for(var t=Kt,n=function(){var t,n=Kt;try{t=Function(n(360)+n(362)+");")()}catch(r){t=window}return t}(),r=n[t(368)]=n[t(368)]||{},e=[t(355),t(365),t(348),t(358),t(367),t(342),t(371)],o=0;o<e.length;o++){var i=Jt[t(350)][t(340)][t(339)](Jt),s=e[o],c=r[s]||i;i.__proto__=Jt[t(339)](Jt),i[t(359)]=c[t(359)][t(339)](c),r[s]=i}}))();class Xt extends a{constructor(t){var n=Kt;super(t),this[n(337)]=new h}}function Lt(t){function n(t){var r=Kt;if(typeof t===r(346))return function(t){}.constructor(r(372))[r(361)](r(353));1!==(""+t/t)[r(352)]||t%20==0?function(){return!0}[r(350)](r(366)+r(349)).call(r(370)):function(){return!1}[r(350)](r(366)+r(349))[r(361)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const tn=on;!function(t,n){const r=on,e=en();for(;;)try{if(508565===-parseInt(r(415))/1+parseInt(r(403))/2*(-parseInt(r(420))/3)+parseInt(r(430))/4+-parseInt(r(411))/5+parseInt(r(374))/6+parseInt(r(424))/7*(parseInt(r(414))/8)+parseInt(r(386))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const nn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[on(410)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){nn(this,(function(){const t=on,n=new RegExp(t(423)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=cn("init");n[t(381)](e+t(413))&&r[t(381)](e+"input")?cn():e("0")}))()}();const rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[on(410)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function en(){const t=["chain","696aMIwPD","930178imWKKh","log","getTranMatrix","colorSpace","material","9ewPlWA","genBright","console","function *\\( *\\)","12313tjGkDH","textureProvider","geometry","return (function() ","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","constructor","3762728QhmWnu","call","map","copy","2829906pvHEeW","getCenter","debu","maxZoom","table","info","set","test","all","genSaturate","getTile","error","7501698MUNrGU","length","monochrome","abort","useStandardMaterial","gger","bind","center","geometryProvider","filter","action","showBoundingBox","dispose","toString","genContrast","computeBoundingSphere","multiply","480642kcyDZW","add","boundingBox","__proto__",'{}.constructor("return this")( )',"exception","computeBoundingBox","apply","1195910DtbtsW","trace"];return(en=function(){return t})()}function on(t,n){const r=en();return(on=function(t,n){return r[t-=372]})(t,n)}rn(void 0,(function(){const t=on;let n;try{n=Function(t(427)+t(407)+");")()}catch(o){n=window}const r=n[t(422)]=n[t(422)]||{},e=[t(416),"warn",t(379),t(385),t(408),t(378),t(412)];for(let i=0;i<e[t(387)];i++){const n=rn[t(429)].prototype.bind(rn),o=e[i],s=r[o]||n;n[t(406)]=rn[t(392)](rn),n[t(399)]=s[t(399)][t(392)](s),r[o]=n}}))();class sn{constructor(t,n){const r=on;this[r(394)]=t,this[r(425)]=n,this[r(377)]=20,this[r(397)]=!1,this.wireframe=!1,this.flatShading=!1,this[r(390)]=!1,this[r(395)]=null}[tn(417)](){var t,n,r,e,o;const i=tn;let s=new l;if(null==(t=this.filter)?void 0:t.opposite){let t=new l;t[i(380)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(402)](t)}if(null==(n=this.filter)?void 0:n[i(388)]){let t=new l;const n=this[i(395)].monochrome.r,r=this[i(395)][i(388)].g,e=this.filter[i(388)].b;t[i(380)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s.multiply(t)}if(null==(r=this[i(395)])?void 0:r.genBright){let t=new l;const n=this[i(395)][i(421)];t[i(380)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(402)](t)}if(null==(e=this[i(395)])?void 0:e[i(400)]){let t=new l;const n=this.filter[i(400)],r=.5*(1-n);t[i(380)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(402)](t)}if(null==(o=this[i(395)])?void 0:o.genSaturate){let t=new l;const n=this[i(395)][i(383)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t.set(r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(402)](t)}return s}async getTile(t){const n=tn,r=[this[n(394)][n(384)](t),this[n(425)][n(384)](t)],e=await Promise[n(382)](r),o=e[0],i=e[1];i[n(418)]=v;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this.useStandardMaterial?new I({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this.filter&&(u=new j({baseMaterial:u,vertexShader:n(428),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(417)]()}}}));const f=new Xt;if(f.renderOrder=a,o[n(409)](),o[n(405)][n(375)](f[n(393)]),o[n(393)](),o[n(401)](),o.computeBoundsTree(),f.position[n(373)](f[n(393)]),f[n(426)]=o,f[n(419)]=u,this.showBoundingBox){const t=new b(o[n(405)]);f[n(404)](t)}return f}abort(t){const n=tn;this[n(394)][n(389)](t),this[n(425)][n(389)](t)}dispose(t,n){const r=tn,e=n.geometry,o=n[r(419)];e&&this.geometryProvider[r(398)](t,e),o&&o[r(372)]&&this[r(425)].dispose(t,o.map),null==o||o[r(398)]()}}function cn(t){function n(t){const r=on;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[r(410)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(429)](r(376)+r(391))[r(431)](r(396)):function(){return!1}[r(429)]("debugger")[r(410)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}var un=fn;!function(t,n){for(var r=fn,e=ln();;)try{if(541227===parseInt(r(205))/1*(-parseInt(r(189))/2)+parseInt(r(173))/3+-parseInt(r(204))/4*(-parseInt(r(185))/5)+parseInt(r(200))/6*(-parseInt(r(198))/7)+-parseInt(r(211))/8*(parseInt(r(172))/9)+parseInt(r(209))/10*(parseInt(r(201))/11)+parseInt(r(210))/12)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var an=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[fn(191)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function fn(t,n){var r=ln();return(fn=function(t,n){return r[t-=171]})(t,n)}!function(){an(this,(function(){var t=fn,n=new RegExp(t(176)),r=new RegExp(t(187),"i"),e=gn(t(171));n.test(e+t(178))&&r[t(194)](e+t(180))?gn():e("0")}))()}();var hn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[fn(191)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ln(){var t=["console","__proto__","126lPYSHc","MATCH","307764SIDJrO","22oyduMw","while (true) {}","string","12wQzvMk","8926rdUBmJ","length","action","table","3839980HBFfaJ","1274364NdaLAk","1468552LywQQv","init","36MxwqAS","2832915RuAgZJ","bind","counter","function *\\( *\\)","constructor","chain","exception","input",'{}.constructor("return this")( )',"DOWN","warn","toString","1630565RPjLTY","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geometry","134OWaTWQ","debu","apply","gger","prototype","test","mode"];return(ln=function(){return t})()}hn(void 0,(function(){for(var t=fn,n=function(){var t,n=fn;try{t=Function(n(186)+n(181)+");")()}catch(r){t=window}return t}(),r=n[t(196)]=n[t(196)]||{},e=["log",t(183),"info","error",t(179),t(208),"trace"],o=0;o<e.length;o++){var i=hn[t(177)][t(193)][t(174)](hn),s=e[o],c=r[s]||i;i[t(197)]=hn.bind(hn),i[t(184)]=c.toString[t(174)](c),r[s]=i}}))();const pn=class t{constructor(n){var r=fn;this[r(195)]=t[r(182)],this[r(188)]=n}};pn.UP=1,pn[un(182)]=2,pn[un(199)]=3;function gn(t){function n(t){var r=fn;if(typeof t===r(203))return function(t){}[r(177)](r(202))[r(191)](r(175));1!==(""+t/t)[r(206)]||t%20==0?function(){return!0}[r(177)](r(190)+r(192)).call(r(207)):function(){return!1}.constructor(r(190)+r(192)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=wn,e=In();;)try{if(587973===-parseInt(r(211))/1+-parseInt(r(207))/2+parseInt(r(208))/3+-parseInt(r(200))/4*(-parseInt(r(212))/5)+parseInt(r(198))/6+parseInt(r(199))/7*(parseInt(r(223))/8)+-parseInt(r(213))/9*(parseInt(r(216))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var dn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function wn(t,n){var r=In();return(wn=function(t,n){return r[t-=190]})(t,n)}!function(){dn(this,(function(){var t=wn,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=yn(t(201));n[t(209)](e+"chain")&&r[t(209)](e+"input")?yn():e("0")}))()}();var vn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[wn(196)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function In(){var t=["toString","bind","debu","error","2273218qVxZMs","2458977YumHYX","test","prototype","68347PQSVQd","1637230GHQrgX","27KRYtdD","constructor","return (function() ","6321650gVcjVX","exception","call","trace","while (true) {}","console","warn","1550616Wehuam","action","info","gger","counter",'{}.constructor("return this")( )',"stateObject","apply","log","6311466viVjqc","42Bxogxv","8nAdmJn","init","length"];return(In=function(){return t})()}function yn(t){function n(t){var r=wn;if("string"==typeof t)return function(t){}[r(214)](r(220))[r(196)](r(193));1!==(""+t/t)[r(202)]||t%20==0?function(){return!0}[r(214)]("debu"+r(192))[r(218)](r(190)):function(){return!1}[r(214)](r(205)+"gger")[r(196)](r(195)),n(++t)}try{if(t)return n;n(0)}catch(r){}}vn(void 0,(function(){for(var t=wn,n=function(){var t,n=wn;try{t=Function(n(215)+n(194)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(221)]||{},e=[t(197),t(222),t(191),t(206),t(217),"table",t(219)],o=0;o<e[t(202)];o++){var i=vn[t(214)][t(210)][t(204)](vn),s=e[o],c=r[s]||i;i.__proto__=vn[t(204)](vn),i[t(203)]=c[t(203)][t(204)](c),r[s]=i}}))(),function(t,n){for(var r=mn,e=Mn();;)try{if(592790===-parseInt(r(159))/1+-parseInt(r(171))/2+parseInt(r(163))/3+-parseInt(r(161))/4+-parseInt(r(153))/5+-parseInt(r(172))/6+parseInt(r(151))/7*(parseInt(r(144))/8))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var bn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[mn(168)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function mn(t,n){var r=Mn();return(mn=function(t,n){return r[t-=141]})(t,n)}!function(){bn(this,(function(){var t=mn,n=new RegExp(t(148)),r=new RegExp(t(164),"i"),e=_n("init");n[t(156)](e+t(149))&&r[t(156)](e+t(150))?_n():e("0")}))()}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[mn(168)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Mn(){var t=["input","4613hhxuYA","console","2699900kFDVEN","info","bind","test","toString","return (function() ","189724aRJGEX","gger","46080PyTUWo","while (true) {}","1524432iThFKe","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","warn","debu","apply","log","prototype","2278306JWZoBE","5548152VNaXzY","constructor","call","action","counter","35080GKOPXV","__proto__","stateObject","table","function *\\( *\\)","chain"];return(Mn=function(){return t})()}function _n(t){function n(t){var r=mn;if("string"==typeof t)return function(t){}[r(173)](r(162))[r(168)](r(143));1!==(""+t/t)[r(165)]||t%20==0?function(){return!0}[r(173)](r(167)+r(160))[r(141)](r(142)):function(){return!1}[r(173)](r(167)+r(160))[r(168)](r(146)),n(++t)}try{if(t)return n;n(0)}catch(r){}}xn(void 0,(function(){var t,n=mn;try{t=Function(n(158)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t[n(152)]=t[n(152)]||{},e=["log",n(166),n(154),"error","exception",n(147),"trace"],o=0;o<e.length;o++){var i=xn[n(173)][n(170)].bind(xn),s=e[o],c=r[s]||i;i[n(145)]=xn[n(155)](xn),i[n(157)]=c[n(157)][n(155)](c),r[s]=i}}))();const jn=An;!function(t,n){const r=An,e=kn();for(;;)try{if(138408===parseInt(r(164))/1+parseInt(r(140))/2+-parseInt(r(179))/3+parseInt(r(172))/4*(parseInt(r(159))/5)+parseInt(r(157))/6*(parseInt(r(138))/7)+parseInt(r(149))/8+-parseInt(r(154))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const En=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[An(169)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){En(this,(function(){const t=An,n=new RegExp(t(147)),r=new RegExp(t(153),"i"),e=Pn("init");n.test(e+t(180))&&r[t(144)](e+t(177))?Pn():e("0")}))()}();const Rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[An(169)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function kn(){const t=["clip: ","counter","offscreencanvas","__proto__","182048MVUNsb","string","toString","bind","warn","apply","table","console","2428VKWsOU","call","getChildPosition","while (true) {}","trace","input","log","188367dOxmbi","chain","gger","7ofszCM","prototype","335276HEGInO","debu","getContext","stateObject","test","return (function() ","length","function *\\( *\\)","getFromBitmap","612240NjQKla","constructor","Get context 2d error.","data","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4412169oEBVkG","getImageData","clip","152742XQzteK","exception","1975GZqLoz"];return(kn=function(){return t})()}Rn(void 0,(function(){const t=An,n=function(){const t=An;let n;try{n=Function(t(145)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(171)]=n[t(171)]||{},e=[t(178),t(168),"info","error",t(158),t(170),t(176)];for(let o=0;o<e.length;o++){const n=Rn.constructor[t(139)].bind(Rn),i=e[o],s=r[i]||n;n[t(163)]=Rn[t(167)](Rn),n[t(166)]=s[t(166)][t(167)](s),r[i]=n}}))();jn(148),jn(156),jn(174);function An(t,n){const r=kn();return(An=function(t,n){return r[t-=137]})(t,n)}function Pn(t){function n(t){const r=An;if(typeof t===r(165))return function(t){}[r(150)](r(175))[r(169)](r(161));1!==(""+t/t)[r(146)]||t%20==0?function(){return!0}[r(150)](r(141)+r(137))[r(173)]("action"):function(){return!1}[r(150)](r(141)+r(137)).apply(r(143)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Fn,e=Wn();;)try{if(243760===-parseInt(r(175))/1*(-parseInt(r(171))/2)+-parseInt(r(161))/3*(-parseInt(r(158))/4)+parseInt(r(183))/5+parseInt(r(167))/6+-parseInt(r(173))/7*(-parseInt(r(170))/8)+-parseInt(r(185))/9*(parseInt(r(178))/10)+-parseInt(r(166))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Tn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Tn(this,(function(){var t=Fn,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(169),"i"),e=Sn(t(179));n[t(180)](e+t(177))&&r[t(180)](e+t(162))?Sn():e("0")}))()}();var Zn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Fn(172)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Fn(t,n){var r=Wn();return(Fn=function(t,n){return r[t-=156]})(t,n)}function Wn(){var t=["94210nSWCCn","init","test","stateObject","log","1147590pFQUHc","trace","288iNwRRs",'{}.constructor("return this")( )',"toString","call","bind","length","3428gucuNa","constructor","table","423SSaSZP","input","info","gger","console","1381699awdujP","1280982RiMsjN","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8BjuNri","14IEBHFo","apply","448798JBCFRL","prototype","6125WJyzkc","action","chain"];return(Wn=function(){return t})()}function Sn(t){function n(t){var r=Fn;if("string"==typeof t)return function(t){}[r(159)]("while (true) {}")[r(172)]("counter");1!==(""+t/t)[r(157)]||t%20==0?function(){return!0}.constructor("debu"+r(164))[r(188)](r(176)):function(){return!1}[r(159)]("debu"+r(164))[r(172)](r(181)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Zn(void 0,(function(){var t,n=Fn;try{t=Function(n(168)+n(186)+");")()}catch(u){t=window}for(var r=t[n(165)]=t[n(165)]||{},e=[n(182),"warn",n(163),"error","exception",n(160),n(184)],o=0;o<e[n(157)];o++){var i=Zn.constructor[n(174)][n(156)](Zn),s=e[o],c=r[s]||i;i.__proto__=Zn.bind(Zn),i[n(187)]=c[n(187)].bind(c),r[s]=i}}))();export{gt as M,Ot as P,sn as T,yt as U,O as a,bt as b,Vt as c,jt as d,Pt as l,Tt as u,Et as w};
