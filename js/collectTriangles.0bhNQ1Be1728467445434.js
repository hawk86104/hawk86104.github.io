import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.ED4ePb8T1728467445434.js";import{_ as s}from"./index.B9U9sNIJ1728467445434.js";import{_ as i,X as c,g as u,B as a,cC as l}from"./three.5octV-9b1728467445434.js";import{P as p}from"./tweakpane.yHWGBmom1728467445434.js";import{I as f,C as g,N as m,c as h,d,a as y}from"./three-mesh-bvh.tsDD7Nj61728467445434.js";import{d as w,a4 as b,b as j,a3 as I,o as v,E as _,L as x,u as T,F as C,r as E,e as k,j as A,g as M,m as R,f as Z,al as z}from"./@vue.JNsx1iN61728467445434.js";import"./@vueuse.G8I04tzi1728467445434.js";import"./index.gcLCY9MH1728467445434.js";import"./@fesjs.BZc1KM0D1728467445434.js";import"./vue-router.2EyA_Lnc1728467445434.js";import"./lodash-es.kYt-_xTG1728467445434.js";import"./@qlin.yHhFDldE1728467445434.js";import"./pinia.Y0XmpKlm1728467445434.js";import"./@floating-ui.BPbuo5Gx1728467445434.js";import"./@juggle.7yjBMqoW1728467445434.js";import"./chalk.w3XuUwyA1728467445434.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1728467445434.js";import"./@iconify.eRzdeG3K1728467445434.js";import"./utils.yxYZ8xaG1728467445434.js";import"./default.vue_vue_type_script_setup_true_lang.zMB7pub_1728467445434.js";import"./three-mesh-ui.module.6S76I0qT1728467445434.js";function U(){const t=["init","3519837WuWrDC","4789436eXSEeD","3AROZsf","call","4961055ZYoarO","innerHeight","chain","warn","179963rmmEQt","return (function() ","table","function *\\( *\\)","string","pointerup","clientY","intersectObject","toString",'{}.constructor("return this")( )',"160326DLHQur","322KvRQCr","stateObject","info","error","trace","2475630YUsHsD","pointerType","enabled","apply","clientX","debu","8Zpvqou","firstHitOnly","button","length","constructor","value","test","gger","innerWidth","log","addEventListener","6365960FUHIVT","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","console","while (true) {}","Raycaster","pointerdown","bind"];return(U=function(){return t})()}!function(t,n){const e=B,r=U();for(;;)try{if(633929===-parseInt(e(478))/1+-parseInt(e(494))/2+-parseInt(e(472))/3*(parseInt(e(471))/4)+parseInt(e(474))/5+parseInt(e(488))/6*(parseInt(e(489))/7)+-parseInt(e(450))/8*(-parseInt(e(470))/9)+parseInt(e(461))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(497)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(t,n){const e=U();return(B=function(t,n){return e[t-=450]})(t,n)}!function(){X(this,(function(){const t=B,n=new RegExp(t(481)),e=new RegExp(t(462),"i"),r=S(t(469));n[t(456)](r+t(476))&&e[t(456)](r+"input")?S():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(497)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();O(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(479)+t(487)+");")()}catch(e){n=window}return n}(),e=n[t(464)]=n[t(464)]||{},r=[t(459),t(477),t(491),t(492),t(463),t(480),t(493)];for(let o=0;o<r.length;o++){const n=O.constructor.prototype[t(468)](O),s=r[o],i=e[s]||n;n.__proto__=O[t(468)](O),n[t(486)]=i[t(486)].bind(i),e[s]=n}}))();function S(t){function n(t){const e=B;if(typeof t===e(482))return function(t){}.constructor(e(465)).apply("counter");1!==(""+t/t)[e(453)]||t%20==0?function(){return!0}[e(454)](e(499)+e(457))[e(473)]("action"):function(){return!1}[e(454)](e(499)+e(457))[e(497)](e(490)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=D;function D(t,n){const e=$();return(D=function(t,n){return e[t-=283]})(t,n)}!function(t,n){const e=D,r=$();for(;;)try{if(953402===-parseInt(e(357))/1*(-parseInt(e(364))/2)+parseInt(e(351))/3+-parseInt(e(324))/4+parseInt(e(307))/5*(-parseInt(e(315))/6)+parseInt(e(285))/7+parseInt(e(338))/8+parseInt(e(361))/9*(-parseInt(e(368))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(353)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){F(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(314),"i"),r=V(t(333));n.test(r+t(310))&&e.test(r+t(292))?V():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(287)+t(289)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(348)]||{},r=[t(367),t(350),"info",t(349),t(360),t(336),t(297)];for(let o=0;o<r[t(302)];o++){const n=Q.constructor[t(301)][t(325)](Q),s=r[o],i=e[s]||n;n[t(312)]=Q[t(325)](Q),n[t(340)]=i[t(340)][t(325)](i),e[s]=n}}))();const q=[Y(326),Y(370)],H=[x(Y(369),{args:[1,40,40]},null,-1),x(Y(306),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],G=["geometry"],W=[x(Y(306),{color:Y(331),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function $(){const t=["radius","11777038ZfTbQK","string","return (function() ","click",'{}.constructor("return this")( )',"position","TresMesh","input","getY","shapecast","point","computeBoundsTree","trace","applyMatrix4","center","controls","prototype","length","index","点击按钮","Mesh","TresMeshStandardMaterial","2295875CCxTew","setAttribute","normal","chain","color","__proto__","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","12EoMYdb","constructor","targetMesh.value init","MeshStandardMaterial","setScalar","BufferAttribute","addButton","visible","invert","3754884tRIZtu","bind","geometry","targetMesh","matrixWorld","fill","raycast","#023249","copy","init","attributes","getZ","table","call","1085056fXXUEq","push","toString","intersectObject","action","生成模型","BufferGeometry","instance","Vector2","counter","console","error","warn","3286248jxQqDI","count","apply","stateObject","enabled","setFromCamera","6Ipkikn","Vector3","getX","exception","2038347kGwaUi","gger","intersectsBox","41158SDXpYU","value","Matrix4","log","10YXGnIT","TresSphereGeometry","material","set"];return($=function(){return t})()}const L=w({__name:"model",props:{controls:{}},async setup(r){const o=Y;let s,w;const E=r;(()=>{const t=D;i[t(344)][t(301)].computeBoundsTree=h,a[t(301)].disposeBoundsTree=d,i[t(305)][t(301)][t(330)]=y})();const k=([s,w]=b((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),A=new(i[o(318)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*k[o(334)][o(290)].count);M[o(329)](255);const R=new(i[o(320)])(M,3,!0);R.setUsage(c),k[o(308)](o(311),R);const Z=j(null),z=j(null),U=j(!1),X=j(-1),O=j(.2),S=new(i[o(346)]),{camera:F,raycaster:Q}=t(),$=15/255,L=78/255,V=85/255;let N=null;I((()=>{const t=o;Z[t(365)]&&(console[t(367)](t(317),Z.value),Z[t(365)].geometry[t(296)](),N=k.boundsTree,((t,n,e,r,o,s)=>{const c=B;window[c(460)]("pointermove",(e=>{const r=c;t.x=e.clientX/window[r(458)]*2-1,t.y=-e[r(484)]/window[r(475)]*2+1,n[r(455)]=!0})),window[c(460)](c(467),(u=>{const a=c;t.x=u[a(498)]/window[a(458)]*2-1,t.y=-u[a(484)]/window[a(475)]*2+1,r[a(455)]=u[a(452)];const l=new(i[a(466)]);l.setFromCamera(t,e[a(455)]),l[a(451)]=!0;const p=l[a(485)](o[a(455)],!0);n[a(455)]=!0,s[a(496)]=0===p[a(453)]}),!0),window[c(460)](c(483),(t=>{const e=c;r.value=-1,"touch"===t[e(495)]&&(n[e(455)]=!1)}),!0)})(S,U,F,X,Z,E[t(300)].instance))}));const{onLoop:P}=n();P((()=>{const t=o,n=k[t(303)];if(z[t(365)])if(E[t(300)][t(345)].active||!U.value)z.value[t(322)]=!1;else{z[t(365)].scale[t(319)](O[t(365)]),Q[t(365)][t(356)](S,F[t(365)]),Q.value.firstHitOnly=!0;const e=Q.value[t(341)](Z[t(365)],!0);if(e[t(302)]){z[t(365)].position.copy(e[0][t(295)]),E[t(300)][t(345)].enabled=!1,z[t(365)][t(322)]=!0;const r=new(i[t(366)]);r[t(332)](Z.value[t(328)])[t(323)]();const o=new u;o[t(299)][t(332)](z[t(365)].position)[t(298)](r),o[t(284)]=100*O[t(365)];const s=[],c=new(i[t(358)]);if(null==N||N[t(294)]({intersectsBounds:n=>{const e=t,r=o[e(363)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(283)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return f;return g}return r?f:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(339)](t,t+1,t+2)}return!1}}),0===X[t(365)]||2===X[t(365)]){let e=1,r=1,o=1;0===X[t(365)]&&(e=$,r=L,o=V);for(let t=0,i=s.length;t<i;t++){const i=n.getX(s[t]);R.setX(i,e),R.setY(i,r),R.setZ(i,o)}R.needsUpdate=!0}}else z[t(365)][t(322)]=!1,E[t(300)][t(345)][t(355)]=!0}}));const J=(new p)[o(321)]({title:o(304),label:o(343)}),K=new(i[o(344)]);return J.on(o(288),(()=>{const t=o,n=[],e=[];for(let o=0;o<R[t(352)];o++)R[t(359)](o)===$&&R.getY(o)===L&&R.getZ(o)===V&&(n[t(339)](k[t(334)][t(290)][t(359)](o),k.attributes[t(290)][t(293)](o),k[t(334)][t(290)][t(335)](o)),e.push(k[t(334)][t(309)][t(359)](o),k[t(334)][t(309)][t(293)](o),k.attributes[t(309)][t(335)](o)));const r=new Float32Array(n);K[t(308)](t(290),new(i[t(320)])(r,3)),K.setAttribute(t(309),new(i[t(320)])(r,3))})),(t,n)=>{const e=o;return v(),_(C,null,[x(e(291),{ref_key:e(327),ref:Z,geometry:T(k),scale:.005,material:T(A)},null,8,q),x("TresMesh",{ref_key:"brushMesh",ref:z,visible:!1},H,512),x(e(291),{geometry:T(K),position:[-2,-2,2],scale:.005},W,8,G)],64)}}});function V(t){function n(t){const e=D;if(typeof t===e(286))return function(t){}[e(316)]("while (true) {}")[e(353)](e(347));1!==(""+t/t)[e(302)]||t%20==0?function(){return!0}[e(316)](e(313)+e(362))[e(337)](e(342)):function(){return!1}.constructor("debugger")[e(353)](e(354)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=nt;!function(t,n){const e=nt,r=ot();for(;;)try{if(915680===parseInt(e(416))/1*(parseInt(e(418))/2)+-parseInt(e(453))/3+-parseInt(e(440))/4*(parseInt(e(434))/5)+-parseInt(e(419))/6+parseInt(e(409))/7+-parseInt(e(425))/8+parseInt(e(420))/9*(parseInt(e(427))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=nt,n=new RegExp(t(430)),e=new RegExp(t(452),"i"),r=rt(t(429));n[t(443)](r+"chain")&&e[t(443)](r+"input")?rt():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(414)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=nt;let n;try{n=Function(t(449)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(441)]=n[t(441)]||{},r=[t(417),t(432),t(423),t(455),t(450),t(433),t(439)];for(let s=0;s<r[t(415)];s++){const n=J.constructor.prototype[t(424)](J),o=r[s],i=e[o]||n;n[t(428)]=J[t(424)](J),n[t(447)]=i[t(447)][t(424)](i),e[o]=n}}))();const K=x(N(456),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=x(N(442),{intensity:1},null,-1);function nt(t,n){const e=ot();return(nt=function(t,n){return e[t-=409]})(t,n)}const et=w({__name:"collectTriangles",setup(t){const n=N,e=E({clearColor:n(446),antialias:!0}),i=E({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=k(a(413));return v(),_(C,null,[A(T(s)),A(l,R(e,{"window-size":""}),{default:M((()=>[K,A(T(r),R({ref_key:a(444),ref:c},i),null,16),tt,(v(),Z(z,null,{default:M((()=>[A(L,{controls:c[a(422)]},null,8,[a(435)])])),_:1})),(v(),Z(z,null,{default:M((()=>[A(T(o),{background:!1,files:[a(454),"neg-x.jpg",a(421),a(431),a(448),a(438)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function rt(t){function n(t){const e=nt;if(typeof t===e(426))return function(t){}.constructor("while (true) {}").apply(e(412));1!==(""+t/t)[e(415)]||t%20==0?function(){return!0}[e(411)](e(437)+e(445))[e(436)](e(410)):function(){return!1}[e(411)](e(437)+e(445))[e(414)](e(451)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ot(){const t=["warn","table","1280peEcJz","controls","call","debu","neg-z.jpg","trace","6852UJTvQt","console","TresAmbientLight","test","controlsRef","gger","#999999","toString","pos-z.jpg","return (function() ","exception","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3629379IlGTPT","pos-x.jpg","error","TresPerspectiveCamera","10545143EUGbFC","action","constructor","counter","TresCanvas","apply","length","51dvCciV","log","14854pCjQsy","6426966VNNgxa","2511DDIIWn","pos-y.jpg","value","info","bind","11204256EQvngR","string","112920KHvDaI","__proto__","init","function *\\( *\\)","neg-y.jpg"];return(ot=function(){return t})()}export{et as default};
