{"version":3,"file":"digitalBrainFloor.BFn6_cMY1767105581793.js","sources":["../../src/plugins/medical/pages/digitalBrainFloor.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2023-11-10 16:13:11\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-29 11:38:56\n-->\n<template>\n\t<loading />\n\t<TresCanvas v-bind=\"state\" window-size>\n\t\t<TresPerspectiveCamera :position=\"[100, 400, 500]\" :fov=\"45\" :near=\"0.1\" :far=\"10000\" :look-at=\"[0, 0, 0]\" />\n\t\t<OrbitControls v-bind=\"controlsState\" />\n\t\t<TresAmbientLight :intensity=\"0.5\" />\n\t\t<TresGroup :position=\"[0, 120, 0]\">\n\t\t\t<cloudPoints v-if=\"cloudPointsState.show\" :model=\"model\" v-bind=\"cloudPointsState\"></cloudPoints>\n\t\t\t<xRayEffect v-if=\"xRayState.show\" :model=\"model\" v-bind=\"xRayState\" />\n\t\t\t<bubblesEffect v-if=\"bubblesState.show\" :model=\"model\" v-bind=\"bubblesState\" />\n\t\t</TresGroup>\n\t\t<reflectorMesh v-bind=\"configState\" />\n\t</TresCanvas>\n</template>\n\n\n<script setup lang=\"ts\">\nimport { SRGBColorSpace, BasicShadowMap, NoToneMapping } from 'three'\nimport { reactive } from 'vue'\n\nimport { OrbitControls } from '@tresjs/cientos'\nimport { OBJLoader } from 'three/addons/loaders/OBJLoader.js'\nimport { Pane } from 'tweakpane'\nimport reflectorMesh from 'PLS/floor/components/reflectorMesh.vue'\nimport { randomLoading as loading } from 'PLS/UIdemo'\nimport { loadOBJ } from '../common/util'\nimport cloudPoints from '../components/cloudPoints.vue'\nimport xRayEffect from '../components/xRayEffect.vue'\nimport bubblesEffect from '../components/bubblesEffect.vue'\n\nconst configState = reactive({\n\tmirrorSize: 500,\n\tgridSize: 490,\n\tmirrorColor: '#efefef',\n\tdivisions: 10,\t\t\t\t\t\t\t\t//网格密度\t\t\t\t\t\t\t 初始化时设置\n\tcolorCenterLine: \"#444444\",\t\t//网格颜色 中心的XZ轴\t\t  初始化时设置\n\tcolorGrid: \"#888888\"\t\t\t\t\t//网格颜色\t\t\t\t\t\t\t 初始化时设置\n})\n\nconst cloudPointsState = reactive({\n\tcolor: '#fff',\n\tshow: true,\n\topacity: 1.0\n})\nconst paneControl = new Pane({ title: '参数', })\npaneControl.addBinding(cloudPointsState, 'show', { label: '点云显示' })\npaneControl.addBinding(cloudPointsState, 'color', { label: '点云颜色' })\npaneControl.addBinding(cloudPointsState, 'opacity', {\n\tlabel: '点云透明度', min: 0,\n\tmax: 1,\n\tstep: 0.1,\n})\nconst xRayState = reactive({\n\tcolor: '#84ccff',\n\tshow: true,\n\topacity: 1.0\n})\npaneControl.addBinding(xRayState, 'show', { label: '脑轮廓显示' })\npaneControl.addBinding(xRayState, 'color', { label: '脑轮廓颜色' })\npaneControl.addBinding(xRayState, 'opacity', {\n\tlabel: '脑轮廓透明度', min: 0,\n\tmax: 1,\n\tstep: 0.1,\n})\n\nconst bubblesState = reactive({\n\tcolor: '#9e00af',\n\tshow: true,\n\topacity: 1.0\n})\npaneControl.addBinding(bubblesState, 'show', { label: '脑组织显示' })\npaneControl.addBinding(bubblesState, 'color', { label: '脑组织颜色' })\npaneControl.addBinding(bubblesState, 'opacity', {\n\tlabel: '脑组织透明度', min: 0,\n\tmax: 1,\n\tstep: 0.1,\n})\n\nconst path = `${process.env.NODE_ENV === 'development' ? 'resource.cos' : 'https://opensource.cdn.icegl.cn'  }/model/medical/brainparts.OBJ`\nconst loader = new OBJLoader()\nconst model = await loadOBJ(path, loader)\nconst state = reactive({\n\tclearColor: '#201919',\n\tshadows: true,\n\talpha: false,\n\tshadowMapType: BasicShadowMap,\n\toutputColorSpace: SRGBColorSpace,\n\ttoneMapping: NoToneMapping,\n})\nconst controlsState = reactive({\n\tautoRotate: true,\n\tautoRotateSpeed: 2,\n})\n</script>"],"names":["loading","cloudPoints","xRayEffect","bubblesEffect","reflectorMesh"],"mappings":"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"}