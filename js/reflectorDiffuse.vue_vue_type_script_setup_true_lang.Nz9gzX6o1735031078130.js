import{c8 as t,a3 as n,C as e,k as r}from"./three.bc6MLGU_1735031078130.js";import{b as o}from"./@tresjs.dTM0HLnZ1735031078130.js";import{R as c}from"./all.three.dnINst5u1735031078130.js";import{d as i,b as a,a6 as u,a3 as s,o as l,D as f,J as p,m,u as d}from"./@vue.-THQH3GC1735031078130.js";function v(t,n){const e=g();return(v=function(t,n){return e[t-=276]})(t,n)}!function(t,n){const e=v,r=g();for(;;)try{if(745919===-parseInt(e(299))/1+-parseInt(e(304))/2*(-parseInt(e(288))/3)+-parseInt(e(297))/4+parseInt(e(296))/5+-parseInt(e(319))/6+parseInt(e(315))/7+-parseInt(e(308))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(286)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(){const t=["counter","call","#include <project_vertex>","test","console","function *\\( *\\)","constructor","return (function() ","info","input","toString","string","apply","\n\t\tuniform mat4 textureMatrix;\n\t\tout vec4 vCoord;\n\t\tout vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","1503PRibqF","chain","table","gger","\n\t\tuniform sampler2D reflectMap;\n\t\tuniform float mirror;\n\t\tuniform float mixStrength;\n\t\tin vec4 vCoord;\n\t\tin vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","#include <emissivemap_fragment>","__proto__","log","4322425tcylAh","5794332yQhRdW","replace","257342hUEkfa","prototype","warn","fragmentShader","init","5282MpVaqy","\n\t\t#include <project_vertex>\n\n\t\tvCoord = textureMatrix * vec4(transformed, 1.0);\n\t\tvToEye = cameraPosition - (modelMatrix * vec4(transformed, 1.0)).xyz;\n\t\t","vertexShader","bind","7241856MxmtBn","void main() {","\n\t\t#include <emissivemap_fragment>\n\n\t\tvec4 normalColor = texture2D(normalMap, vNormalMapUv * normalScale);\n\t\tvec3 reflectNormal = normalize(vec3(normalColor.r * 2.0 - 1.0, normalColor.b, normalColor.g * 2.0 - 1.0));\n\t\tvec3 reflectCoord = vCoord.xyz / vCoord.w;\n\t\tvec2 reflectUv = reflectCoord.xy + reflectCoord.z * reflectNormal.xz * 0.05;\n\t\tvec4 reflectColor = texture2D(reflectMap, reflectUv);\n\n\t\t// Fresnel term\n\t\tvec3 toEye = normalize(vToEye);\n\t\tfloat theta = max(dot(toEye, normal), 0.0);\n\t\tfloat reflectance = pow((1.0 - theta), 5.0);\n\n\t\treflectColor = mix(vec4(0), reflectColor, reflectance);\n\n\t\tdiffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + reflectColor.rgb * mixStrength);\n\t\t","while (true) {}","trace","exception",'{}.constructor("return this")( )',"9660630qFoXSg","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","1263840YfCfXD"];return(g=function(){return t})()}!function(){h(this,(function(){const t=v,n=new RegExp(t(279)),e=new RegExp(t(317),"i"),r=y(t(303));n[t(277)](r+t(289))&&e[t(277)](r+t(283))?y():r("0")}))()}();const x=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(286)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();x(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(281)+t(314)+");")()}catch(e){n=window}return n}(),e=n[t(278)]=n[t(278)]||{},r=[t(295),t(301),t(282),t(316),t(313),t(290),t(312)];for(let o=0;o<r.length;o++){const n=x.constructor[t(300)][t(307)](x),c=r[o],i=e[c]||n;n[t(294)]=x[t(307)](x),n[t(284)]=i[t(284)][t(307)](i),e[c]=n}}))();function y(t){function n(t){const e=v;if(typeof t===e(285))return function(t){}.constructor(e(311))[e(286)](e(320));1!==(""+t/t)[e(318)]||t%20==0?function(){return!0}.constructor("debugger")[e(321)]("action"):function(){return!1}[e(280)]("debu"+e(291))[e(286)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const b=w;!function(t,n){const e=w,r=j();for(;;)try{if(803385===-parseInt(e(243))/1+parseInt(e(215))/2*(-parseInt(e(207))/3)+parseInt(e(194))/4+parseInt(e(221))/5+-parseInt(e(216))/6*(parseInt(e(202))/7)+parseInt(e(233))/8*(parseInt(e(199))/9)+parseInt(e(229))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const _=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(238)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){_(this,(function(){const t=w,n=new RegExp(t(206)),e=new RegExp(t(237),"i"),r=R(t(251));n[t(234)](r+t(235))&&e.test(r+t(223))?R():r("0")}))()}();const M=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function w(t,n){const e=j();return(w=function(t,n){return e[t-=192]})(t,n)}M(void 0,(function(){const t=w;let n;try{n=Function(t(248)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(245)]||{},r=[t(236),t(227),"info",t(208),"exception",t(200),"trace"];for(let c=0;c<r[t(205)];c++){const n=M[t(218)].prototype.bind(M),o=r[c],i=e[o]||n;n[t(217)]=M[t(197)](M),n[t(240)]=i[t(240)].bind(i),e[o]=n}}))();const C=[b(225)],I=["object",b(193)],S=i({__name:b(213),props:{mirror:{default:1},mixStrength:{default:10},showGridHelper:{type:Boolean,default:!0},color:{default:b(228)}},async setup(i){const h=b;let g,x;const y=i,_=new t(9.5,10),M=a(),w=a(),S=a(),j=new c,R={mirror:{value:y.mirror},mixStrength:{value:y[h(211)]}},E=([g,x]=u((()=>o(["./plugins/floor/image/polished_concrete_basecolor.jpg","./plugins/floor/image/polished_concrete_normal.jpg","./plugins/floor/image/polished_concrete_orm.jpg"]))),g=await g,x(),g);for(var T=0;T<3;T++)E[T].wrapS=n,E[T][h(222)]=n,E[T][h(192)][h(198)](16,16);const z={color:new e("#444"),metalness:1,roughness:1,map:E[0],metalnessMap:E[2],roughnessMap:E[2],aoMap:E[2],aoMapIntensity:1,normalMap:E[1],normalScale:new r(3,3)},k=t=>{const n=h;t[n(201)][n(226)]=j[n(242)],t[n(201)][n(196)]=j[n(232)],t[n(201)]=Object.assign(t[n(201)],R),(t=>{const n=v;t.vertexShader=t[n(306)][n(298)](n(309),n(287)),t.vertexShader=t.vertexShader[n(298)](n(276),n(305))})(t),(t=>{const n=v;t[n(302)]=t[n(302)][n(298)]("void main() {",n(292)),t[n(302)]=t[n(302)].replace(n(293),n(310))})(t)};return s((()=>{const t=h;M[t(230)]&&(M.value[t(203)][t(250)]=M.value[t(203)].uv),S[t(230)]&&(S.value.aoMap[t(212)]=1,S[t(230)].onBeforeCompile=k),w[t(230)]&&(w[t(230)].add(j),w[t(230)][t(246)]=(n,e,r)=>{j[t(195)](n,e,r)}),y[t(214)]&&S[t(230)]&&(S.value.color=new e(y[t(214)]))})),(t,n)=>{const e=h;return l(),f(e(249),null,[p("TresMesh",{ref_key:e(210),ref:w,"rotation-x":-Math.PI/2,"position-y":-.1},[p(e(231),{ref_key:"tpgRef",ref:M,args:[10,10]},null,512),p("TresMeshStandardMaterial",m({ref_key:e(220),ref:S},z),null,16)],8,C),p(e(224),{object:d(_),visible:t[e(241)]},null,8,I)])}}});function j(){const t=["debu","length","function *\\( *\\)","287052DccKRm","error","string","tmRef","mixStrength","channel","reflectorDiffuse","color","14DFsGPx","122322IdKZrL","__proto__","constructor","gger","tmsmRef","7257745VSEFOi","wrapT","input","primitive","rotation-x","reflectMap","warn","#ffffff","2220870tFMkbS","value","TresPlaneGeometry","textureMatrixUniform","40JObRau","test","chain","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","call","toString","showGridHelper","renderTargetUniform","67431lpcbqk","stateObject","console","onBeforeRender","action","return (function() ","TresGroup","uv1","init","repeat","visible","2515124QxBMTX","update","textureMatrix","bind","set","1344285ARjMrO","table","uniforms","518ZxtWAn","attributes"];return(j=function(){return t})()}function R(t){function n(t){const e=w;if(typeof t===e(209))return function(t){}[e(218)]("while (true) {}").apply("counter");1!==(""+t/t)[e(205)]||t%20==0?function(){return!0}[e(218)](e(204)+e(219))[e(239)](e(247)):function(){return!1}.constructor("debu"+e(219))[e(238)](e(244)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{S as _};
