import{V as e,cV as n,B as o,af as t,be as s,b1 as a,bL as r,G as i,j as l,a$ as c,ac as u,x as w,n as d,dJ as y}from"./three.rXKzP9fQ1763540743861.js";import{z as p}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as m,a as x,a8 as f,H as h,o as z,J as g,F as M}from"./@vue.Co_gxueH1763540743861.js";const b=m({__name:"tagging",async setup(m){let b,v;const{scene:q}=p(),F=x(),P=x();let T=null;const j=([b,v]=f(()=>{return e="https://opensource.cdn.icegl.cn/fonts/FZLanTingHeiS-UL-GB_Regular.json",new Promise((o,t)=>{(new n).load(e,e=>o(e),void 0,e=>t(e))});var e}),b=await b,v(),b),I=function(n,o,t){const s=(new e).addVectors(n,o).multiplyScalar(.5),r=(new e).subVectors(o,n).normalize(),p=((n,o,t)=>{const s=new i,r=(new l).setFromPoints([n,o]),y=new c(r,new a({color:"green"})),p=new u(1,3,8),m=new w({color:"green"}),x=new d(p,m);x.type="Raycone",x.position.copy(n);const f=new d(p,m);f.type="Raycone",f.position.copy(o);const h=new e(1,0,0),z=new e(0,1,0),g=new e(0,0,1);return t.equals(h)?(x.rotation.set(0,0,Math.PI/2),f.rotation.set(0,0,-Math.PI/2)):t.equals(z)?x.rotation.set(0,0,Math.PI):t.equals(g)&&(x.rotation.set(-Math.PI/2,0,0),f.rotation.set(Math.PI/2,0,0)),s.add(y),s.add(x),s.add(f),s})(n,o,r);q.value.add(p);const m=((n,o,t)=>{const s=new y(n,{font:j,size:3,depth:1,height:.2,curveSegments:12,bevelEnabled:!1}),a=new w({color:65280}),r=new d(s,a);r.position.copy(o);const i=new e(1,0,0),l=new e(-1,0,0),c=new e(0,1,0),u=new e(0,-1,0),p=new e(0,0,1),m=new e(0,0,-1);return t.equals(i)||t.equals(l)||(t.equals(c)||t.equals(u)?r.rotation.set(0,0,Math.PI/2):(t.equals(p)||t.equals(m))&&r.rotation.set(0,Math.PI/2,0)),r})(t,s,r);q.value.add(m)},_=function(n){const{size:i,boxCenter:l}=function(n){T=(new o).setFromObject(n);const t=new e;T.getSize(t);const s=new e;return T.getCenter(s),{size:t,boxCenter:s}}(n);!function(e,n){const o=new t(e.x,e.y,e.z),i=new s(o),l=new a({color:"red"}),c=new r(i,l);c.position.copy(n),q.value.add(c)}(i,l);const c=T.min,u=T.max,w=Number(i.z.toFixed(2))+10,d=Number(i.z.toFixed(2))+16;I(new e(c.x,c.y,c.z+w),new e(u.x,c.y,c.z+w),`长: ${i.x.toFixed(2)}`),I(new e(c.x,c.y,c.z+d),new e(c.x,u.y,c.z+d),`高: ${i.y.toFixed(2)}`),I(new e(c.x-10,c.y,c.z),new e(c.x-10,c.y,u.z),`宽: ${i.z.toFixed(2)}`)};return(e,n)=>(z(),h(M,null,[g("TresMesh",{ref_key:"torusref",ref:F,position:[-100,0,0],onClick:n[0]||(n[0]=e=>_(F.value))},[...n[2]||(n[2]=[g("TresTorusGeometry",{args:[50,5,128,128]},null,-1),g("TresMeshBasicMaterial",{color:"orange"},null,-1)])],512),g("TresMesh",{ref_key:"boxref",ref:P,position:[100,0,0],onClick:n[1]||(n[1]=e=>_(P.value))},[...n[3]||(n[3]=[g("TresBoxGeometry",{args:[80,100,20]},null,-1),g("TresMeshNormalMaterial",null,null,-1)])],512)],64))}});export{b as _};
