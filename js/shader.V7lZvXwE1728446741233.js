import{U as n,p as t,Y as e,n as r,z as o}from"./@tresjs.2zzrlbpQ1728446741233.js";import{_ as i,C as s,a0 as a}from"./three.GKtOCofD1728446741233.js";import{P as c}from"./tweakpane.yHWGBmom1728446741233.js";import{L as u}from"./three-subdivide.xR4klnBn1728446741233.js";import{d as l,b as f,a3 as p,w as d,o as g,E as m,L as h,aj as v,ak as y,a4 as b,r as w,e as I,f as x,g as _,j as M,u as T,m as S,J as j}from"./@vue.JNsx1iN61728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";function B(){const n=["side","exception","init","length","subdivision","chain","bind","trace","position","FrontSide","copy","log","shineShader","TresShaderMaterial","material","gger","glowColor","table","function *\\( *\\)","call","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","273470bIjlIO","value","clone","stateObject","geometry","apply","5464753BofUWT","680526nAWegm","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","6QyHCKg","blending","28967994yPssGv","input","110emxMEF","srcMesh","warn","modify","error","2900972ObgNhT","uniforms","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",'{}.constructor("return this")( )',"viewVector","constructor","6VRbxtj","color","console","TSGref","AdditiveBlending","5sJIoCR","attributes","counter","11736iHbJZa","Vector3","test","toString","subVectors","4664400anItaN","debu"];return(B=function(){return n})()}const k=C;function C(n,t){const e=B();return(C=function(n,t){return e[n-=111]})(n,t)}!function(n,t){const e=C,r=B();for(;;)try{if(423858===parseInt(e(123))/1+-parseInt(e(116))/2*(-parseInt(e(126))/3)+-parseInt(e(135))/4*(-parseInt(e(146))/5)+parseInt(e(141))/6*(parseInt(e(122))/7)+parseInt(e(154))/8+parseInt(e(149))/9*(parseInt(e(130))/10)+-parseInt(e(128))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(121)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=C,t=new RegExp(n(113)),e=new RegExp(n(124),"i"),r=N(n(158));t[n(151)](r+n(161))&&e[n(151)](r+n(129))?N():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(121)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();A(void 0,(function(){const n=C;let t;try{t=Function("return (function() "+n(138)+");")()}catch(o){t=window}const e=t[n(143)]=t[n(143)]||{},r=[n(167),n(132),"info",n(134),n(157),n(112),n(163)];for(let i=0;i<r[n(159)];i++){const t=A[n(140)][n(125)][n(162)](A),o=r[i],s=e[o]||t;t.__proto__=A[n(162)](A),t[n(152)]=s[n(152)][n(162)](s),e[o]=t}}))();const F=["scale"],V=l({__name:k(168),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(165)]},blending:{default:i[k(145)]}},setup(e){const r=k,o=e,a=f(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new s(o.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(137),fragmentShader:r(115),side:o[r(156)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};p((()=>{const n=r;if(o.srcMesh&&a[n(117)]&&!a[n(117)][n(120)][n(147)].position){let t=o[n(131)][n(120)][n(118)]();o[n(160)]&&(t=u[n(133)](t,2)),a[n(117)][n(120)]=t,a[n(117)][n(164)][n(166)](o[n(131)][n(164)])}o[n(142)]&&(c[n(136)][n(111)][n(117)]=new s(o[n(142)])),o.c&&(c[n(136)].c.value=o.c),o.p&&(c.uniforms.p[n(117)]=o.p)})),d((()=>o.subdivision),(n=>{const t=r;let e=o[t(131)][t(120)].clone();n&&(e=u[t(133)](e,2)),a[t(117)].geometry=e})),d((()=>o.side),(n=>{const t=r;a[t(117)][t(170)][t(156)]=n})),d((()=>o[r(127)]),(n=>{const t=r;a[t(117)][t(170)][t(127)]=n}));const{onLoop:l}=n(),{camera:b}=t();return l((()=>{const n=r;b[n(117)]&&a[n(117)]&&(c[n(136)][n(139)][n(117)]=(new(i[n(150)]))[n(153)](b.value[n(164)],a.value[n(164)]))})),(n,t)=>{const e=r;return g(),m("TresMesh",{ref_key:e(144),ref:a,scale:o.scale},[h(e(169),v(y(c)),null,16)],8,F)}}});function N(n){function t(n){const e=C;if("string"==typeof n)return function(n){}[e(140)]("while (true) {}")[e(121)](e(148));1!==(""+n/n).length||n%20==0?function(){return!0}[e(140)](e(155)+e(171))[e(114)]("action"):function(){return!1}.constructor("debu"+e(171)).apply(e(119)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=J;!function(n,t){const e=J,r=G();for(;;)try{if(906818===parseInt(e(224))/1+parseInt(e(214))/2+parseInt(e(221))/3*(parseInt(e(201))/4)+-parseInt(e(234))/5*(parseInt(e(210))/6)+-parseInt(e(202))/7*(parseInt(e(191))/8)+-parseInt(e(243))/9*(parseInt(e(200))/10)+-parseInt(e(220))/11*(-parseInt(e(211))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[J(217)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){W(this,(function(){const n=J,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(247),"i"),r=Y(n(222));t[n(231)](r+n(245))&&e.test(r+n(244))?Y():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function J(n,t){const e=G();return(J=function(n,t){return e[n-=187]})(n,t)}function G(){const n=["TresAmbientLight","TresBoxGeometry","debu","2184LsJWbD","468glyuTh","BackSide","FrontSide","3468594qqWHQY","return (function() ","color","apply","counter","scale","749903YMmNJF","23196xJwDrz","init","string","96720ViCdcx","length","AdditiveBlending","TresPerspectiveCamera","value","prototype","TresCanvas","test","trace","call","22075yUneUp","info","side","gger","TresMesh","logo.png","边缘处理","TreBoxRef","map","9ziHxVF","input","chain","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","#222","exception","#00dfff","NormalBlending","table","toString","2696iUWtcN","srcMesh","stateObject","TresMeshRefB","constructor","instance","TresMeshBasicMaterial","addBinding","console","17591230kpkhgI","228oCPWSm","13657VaxFlF","TresSphereGeometry","shader","TresGridHelper","warn"];return(G=function(){return n})()}E(void 0,(function(){const n=J;let t;try{t=Function(n(215)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(199)]=t[n(199)]||{},r=["log",n(206),n(235),"error",n(250),n(189),n(232)];for(let i=0;i<r[n(225)];i++){const t=E.constructor[n(229)][n(248)](E),o=r[i],s=e[o]||t;t.__proto__=E[n(248)](E),t.toString=s[n(190)][n(248)](s),e[o]=t}}))();const H=h(R(227),{position:[5,5,5]},null,-1),L=h(R(207),{intensity:1},null,-1),P=h(R(205),{args:[10,10]},null,-1),U=h(R(203),{args:[1,32,16]},null,-1),Z=[R(242)],O=[R(242)],$=[h(R(208),{args:[1,1,1,1,1]},null,-1),h(R(197),{color:"#0ff"},null,-1)],D=l({__name:R(204),async setup(n){const t=R;let s,u;const l={clearColor:t(249)},p=f(),d=f(),m=f(),v=([s,u]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(239)]))),s=await s,u(),s),y=w({scale:1.6,color:t(187),subdivision:!0,c:1.1,p:1.4,side:i[t(213)],blending:i[t(226)]}),B=new c({title:"参数",expanded:!0});return B.addBinding(y,t(216),{label:"颜色"}),B[t(198)](y,t(219),{label:"大小",min:1,max:3,step:.2}),B[t(198)](y,"subdivision",{label:t(240)}),B.addBinding(y,"c",{label:"c",min:0,max:2,step:.1}),B[t(198)](y,"p",{label:"p",min:0,max:8,step:.2}),B[t(198)](y,t(236),{options:{FrontSide:i[t(213)],BackSide:i[t(212)],DoubleSide:a}}),B[t(198)](y,"blending",{options:{AdditiveBlending:i[t(226)],NormalBlending:i[t(188)]}}),(n,o)=>{const i=t,s=I(i(230));return g(),x(s,S(l,{"window-size":""}),{default:_((()=>[H,L,M(T(e)),P,h(i(238),{ref_key:"TresMeshRefA",ref:p,position:[-2,1,0]},[U,h(i(197),{map:T(v)[0]},null,8,Z)],512),M(V,S({srcMesh:p.value},y),null,16,["srcMesh"]),M(T(r),{ref_key:i(241),ref:m,args:[1,1,1],position:[2,1,0]},{default:_((()=>[h(i(197),{map:T(v)[1]},null,8,O)])),_:1},512),m[i(228)]&&m.value[i(196)]?(g(),x(V,S({key:0,srcMesh:m[i(228)].instance},y),null,16,[i(192)])):j("",!0),h(i(238),{ref_key:i(194),ref:d,position:[0,1,-2]},$,512),M(V,S({srcMesh:d[i(228)]},y),null,16,[i(192)])])),_:1},16)}}});function Y(n){function t(n){const e=J;if(typeof n===e(223))return function(n){}[e(195)](e(246))[e(217)](e(218));1!==(""+n/n)[e(225)]||n%20==0?function(){return!0}[e(195)](e(209)+e(237))[e(233)]("action"):function(){return!1}[e(195)](e(209)+e(237)).apply(e(193)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{D as default};
