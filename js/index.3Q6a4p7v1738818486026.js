var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.BloZioTm1738818486026.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.jxYzR0JC1738818486026.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.22j6u6rm1738818486026.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,_ as x,A as v,b as m}from"./three.WgQSjl1J1738818486026.js";import{m as h,e as w}from"./@tresjs.ZGxFoQtw1738818486026.js";import{u as g}from"./index.Mut38q0v1738818486026.js";import{F as d,C as y}from"./three-stdlib.9mw3NDon1738818486026.js";import{d as S}from"./@vue.NRI7TcgI1738818486026.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.hqHnabz21738818486026.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.JwxyH3nB1738818486026.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.WZYidSc01738818486026.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.GhkPKVVr1738818486026.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.zZ9i_81t1738818486026.js";const _=I;function P(){const t=["action","99515ebRbVA","console","error","861162STCzrW","while (true) {}","gger","info","bind","warn","call","__proto__","input","7xJNxkR","toString","536472czFLmN","apply","52vsXqtb","length","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5802rahoPc","table","constructor","302357YMfCml","170082lhEapU","9iTxpVS","27BpolVw","10ehmguA","trace","function *\\( *\\)","stateObject","chain","debu","log",'{}.constructor("return this")( )','\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"3455xXOzWa","504MLKIus","counter"];return(P=function(){return t})()}!function(t,e){const n=I,i=P();for(;;)try{if(120985===-parseInt(n(218))/1+-parseInt(n(214))/2*(-parseInt(n(219))/3)+-parseInt(n(210))/4*(parseInt(n(190))/5)+parseInt(n(197))/6*(parseInt(n(206))/7)+parseInt(n(208))/8*(-parseInt(n(220))/9)+parseInt(n(221))/10*(parseInt(n(217))/11)+parseInt(n(191))/12*(parseInt(n(194))/13))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(209)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=I,e=new RegExp(t(223)),n=new RegExp(t(213),"i"),i=E("init");e[t(212)](i+t(185))&&n[t(212)](i+t(205))?E():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(209)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(t,e){const n=P();return(I=function(t,e){return n[t-=184]})(t,e)}b(void 0,(function(){const t=I,e=function(){const t=I;let e;try{e=Function("return (function() "+t(188)+");")()}catch(n){e=window}return e}(),n=e[t(195)]=e[t(195)]||{},i=[t(187),t(202),t(200),t(196),"exception",t(215),t(222)];for(let r=0;r<i.length;r++){const e=b.constructor.prototype[t(201)](b),a=i[r],o=n[a]||e;e[t(204)]=b[t(201)](b),e[t(207)]=o[t(207)][t(201)](o),n[a]=e}}))();const M=_(189);function E(t){function e(t){const n=I;if("string"==typeof t)return function(t){}[n(216)](n(198)).apply(n(192));1!==(""+t/t)[n(211)]||t%20==0?function(){return!0}[n(216)](n(186)+n(199))[n(203)](n(193)):function(){return!1}[n(216)](n(186)+n(199)).apply(n(184)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=U;function L(){const t=["constructor","info","function *\\( *\\)","init","23450930vXsTcr","counter","12dtkMUi","8pvoLUN","325329VWgLKE","bind","22ZeXVwp","defines","while (true) {}","12369497CLmxpU","184040xWfUAZ","console","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","7063805qBqqvy","uniforms","toString","trace","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","table","44DpLjaD","length","call","test","__proto__","apply","error","action",'{}.constructor("return this")( )',"9979896LJtXKr","debu","stateObject","5227902YvCzLc","input","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","log","gger"];return(L=function(){return t})()}!function(t,e){const n=U,i=L();for(;;)try{if(956325===parseInt(n(505))/1*(-parseInt(n(513))/2)+parseInt(n(507))/3*(-parseInt(n(522))/4)+parseInt(n(516))/5+-parseInt(n(531))/6+parseInt(n(512))/7*(-parseInt(n(506))/8)+parseInt(n(534))/9+parseInt(n(503))/10*(parseInt(n(509))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(527)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(t,e){const n=L();return(U=function(t,e){return n[t-=496]})(t,e)}!function(){D(this,(function(){const t=U,e=new RegExp(t(501)),n=new RegExp(t(537),"i"),i=T(t(502));e[t(525)](i+"chain")&&n.test(i+t(535))?T():i("0")}))()}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(527)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function V(t){const e=U,n=a({},t);return e(510)in t&&(n.defines=a({},t[e(510)])),"uniforms"in t&&(n.uniforms=s.clone(t[e(517)])),n}O(void 0,(function(){const t=U;let e;try{e=Function(t(536)+t(530)+");")()}catch(r){e=window}const n=e.console=e[t(514)]||{},i=[t(497),"warn",t(500),t(528),t(496),t(521),t(519)];for(let a=0;a<i[t(523)];a++){const e=O.constructor.prototype[t(508)](O),r=i[a],o=n[r]||e;e[t(526)]=O.bind(O),e[t(518)]=o[t(518)].bind(o),n[r]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:A(520),fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+M+A(515)};function T(t){function e(t){const n=U;if("string"==typeof t)return function(t){}[n(499)](n(511))[n(527)](n(504));1!==(""+t/t)[n(523)]||t%20==0?function(){return!0}[n(499)](n(532)+"gger")[n(524)](n(529)):function(){return!1}.constructor(n(532)+n(498))[n(527)](n(533)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=N;function N(t,e){const n=C();return(N=function(t,e){return n[t-=241]})(t,e)}!function(t,e){const n=N,i=C();for(;;)try{if(199968===parseInt(n(305))/1*(-parseInt(n(261))/2)+-parseInt(n(291))/3+-parseInt(n(272))/4+-parseInt(n(274))/5+parseInt(n(262))/6*(-parseInt(n(242))/7)+-parseInt(n(280))/8*(-parseInt(n(296))/9)+parseInt(n(250))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(282)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=N,e=new RegExp(t(302)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=F("init");e[t(254)](i+t(245))&&n[t(254)](i+"input")?F():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(282)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(){const t=["map","image","setViewOffset","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","parentLevel","109042WmYDul","306BLwTbA","prototype","return (function() ","width","_mipMaterials","height","_swapTarget","floor","call","render","938772VMxJkQ","update","899585GZDwNO","originalMapSize","console","exception","getRenderTarget","table","559424ukNkAN","constructor","apply","X_IS_EVEN","isWebGLRenderTarget","value","length","type","setClearColor","toString","getClearColor","222474nNUYpR","uniforms","camera","floorPowerOfTwo","autoClear","9xWkMzL","_mipQuad","action","setSize","set","fragmentShader","function *\\( *\\)","dispose","setClearAlpha","3qBOtvs","forEach","bind","Y_IS_EVEN","info","setRenderTarget","48734Kqhbqw","material","defines","chain","texture","tDiffuse","debu","_copyQuad","11374330RyKkID","log","magFilter",'{}.constructor("return this")( )',"test","parentMapSize"];return(C=function(){return t})()}W(void 0,(function(){const t=N,e=function(){const t=N;let e;try{e=Function(t(264)+t(253)+");")()}catch(n){e=window}return e}(),n=e[t(276)]=e[t(276)]||{},i=[t(251),"warn",t(309),"error",t(277),t(279),"trace"];for(let r=0;r<i[t(286)];r++){const e=W[t(281)][t(263)][t(307)](W),a=i[r],o=n[a]||e;e.__proto__=W[t(307)](W),e[t(289)]=o[t(289)].bind(o),n[a]=e}}))();const H=new l;class X{constructor(t){const e=N;!t&&(t=e(259));const n=V(j);n[e(301)]=n.fragmentShader.replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(V(n)),i[0][e(244)][e(283)]=0,i[0][e(244)][e(308)]=0,i[1]=new c(V(n)),i[1][e(244)][e(283)]=1,i[1][e(244)].Y_IS_EVEN=0,i[2]=new c(V(n)),i[2].defines.X_IS_EVEN=0,i[2][e(244)].Y_IS_EVEN=1,i[3]=new c(V(n)),i[3][e(244)][e(283)]=1,i[3][e(244)][e(308)]=1;const r=new u;r[e(246)].minFilter=p,r[e(246)][e(252)]=p,this[e(268)]=r,this[e(249)]=new d(new c(y)),this[e(297)]=new d(null),this._mipMaterials=i}[k(273)](t,e,n,i=!1){const r=k;t[r(284)]&&(t=t[r(246)]);const o=n.autoClear,s=n.getClearAlpha(),l=n[r(278)]();n[r(290)](H);const c=this[r(249)],u=this[r(297)],p=this[r(268)],x=this[r(266)];let v,m;i?(v=f[r(294)](t.image[r(265)]),m=f[r(294)](t[r(257)].height)):(v=Math[r(269)](t[r(257)][r(265)]),m=Math[r(269)](t[r(257)][r(267)]));const h=Math.floor(1.5*v),w=Math[r(269)](m);e[r(299)](h,w),p[r(246)][r(287)]!==e.texture[r(287)]?(p[r(303)](),p.copy(e),p[r(246)][r(257)]=a({},p[r(246)].image)):p.setSize(h,w),n[r(295)]=!1,n[r(288)](0),n[r(304)](),c.material[r(292)][r(247)][r(285)]=t,c[r(293)][r(258)](v,m,0,0,h,w),n[r(241)](e),n.clear(),c[r(271)](n),n[r(241)](p),n.clear(),c[r(271)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(256)].value=p[r(246)],t[r(292)][r(260)][r(285)]=y,t[r(292)][r(255)][r(285)][r(300)](g,d),t[r(292)][r(275)][r(285)][r(300)](v,m),u[r(243)]=t,g=Math[r(269)](g/2),d=Math[r(269)](d/2);const i=w-2*d;n[r(241)](e),u[r(293)][r(258)](g,d,-v,-i,h,w),u.render(n),n[r(241)](p),t[r(292)][r(256)][r(285)]=e[r(246)],u[r(271)](n),y++}return n[r(241)](l),n[r(304)](s),n[r(288)](H),n[r(295)]=o,y+1}[k(303)](){const t=k;this[t(268)].dispose(),this._mipQuad[t(303)](),this[t(249)][t(303)](),this[t(266)][t(306)]((t=>t.dispose()))}}function F(t){function e(t){const n=N;if("string"==typeof t)return function(t){}[n(281)]("while (true) {}")[n(282)]("counter");1!==(""+t/t)[n(286)]||t%20==0?function(){return!0}[n(281)](n(248)+"gger")[n(270)](n(298)):function(){return!1}[n(281)](n(248)+"gger")[n(282)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=$;!function(t,e){const n=$,i=Q();for(;;)try{if(129258===parseInt(n(267))/1+-parseInt(n(225))/2*(-parseInt(n(275))/3)+-parseInt(n(222))/4+parseInt(n(248))/5*(-parseInt(n(220))/6)+-parseInt(n(231))/7+parseInt(n(250))/8+parseInt(n(208))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(278)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Z(this,(function(){const t=$,e=new RegExp(t(272)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=G(t(263));e.test(i+"chain")&&n[t(282)](i+t(218))?G():i("0")}))()}();const q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(278)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();q(void 0,(function(){const t=$;let e;try{e=Function(t(209)+t(246)+");")()}catch(r){e=window}const n=e[t(212)]=e[t(212)]||{},i=[t(276),"warn",t(235),"error",t(229),"table",t(223)];for(let a=0;a<i[t(207)];a++){const e=q[t(284)][t(249)][t(274)](q),r=i[a],o=n[r]||e;e[t(227)]=q.bind(q),e[t(265)]=o.toString.bind(o),n[r]=e}}))();const B=S({__name:Y(236),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(273)]),a=new(x[n(254)]),o=new(x[n(247)]),s=new X,l=g({width:i[n(256)],height:i.resolution,settings:{type:x[n(266)]}}),c=g({width:i[n(256)],height:i[n(256)],settings:{type:v}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:d}=w();return d((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r[t(269)](new(x[t(205)])(0,1,0),0),r[t(224)](i[t(281)][t(253)]),o[t(234)](u[t(226)]);const e=new(x[t(205)])(0,0,1)[t(279)]()[t(215)](),s=u.value.getWorldPosition(new(x[t(205)]));e[t(242)](r[t(262)]);const c=new(x[t(205)]);r[t(237)](s,c);const v=c[t(279)]();v[t(228)](s),v[t(217)](c),o[t(216)][t(234)](v);const h=new(x[t(205)])(0,0,-1);h[t(244)](u.value[t(239)](new(x[t(232)]))),h[t(217)](s);const w=new(x[t(205)]);i[t(281)][t(233)](w),w[t(228)](h),w[t(242)](r[t(262)]).negate(),w[t(217)](i.parent[t(233)](new m)),o.up.set(0,1,0),o[t(244)](u[t(226)][t(239)](new(x[t(232)]))),o.up[t(242)](r[t(262)]),o[t(258)](w),o[t(261)]();const g=new(x[t(254)]);g[t(269)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g[t(260)](o[t(214)]),g[t(260)](o[t(243)]),a[t(234)](g),r[t(224)](o[t(243)]);const d=new(x[t(210)])(r[t(262)].x,r.normal.y,r[t(262)].z,r.constant),y=o[t(214)],S=new(x[t(210)]);S.x=(Math[t(270)](d.x)+y[t(255)][8])/y[t(255)][0],S.y=(Math[t(270)](d.y)+y[t(255)][9])/y[t(255)][5],S.z=-1,S.w=(1+y.elements[10])/y[t(255)][14],d[t(245)](2/d[t(251)](S)),y[t(255)][2]=d.x,y[t(255)][6]=d.y,y[t(255)][10]=d.z+1,y[t(255)][14]=d.w;const _=p.value[t(238)]();p.value[t(252)](l.value),p[t(226)].state[t(240)][t(213)][t(221)](!0),!1===p[t(226)].autoClear&&p[t(226)][t(264)](),i[t(257)].forEach((e=>e[t(211)]=!1)),p[t(226)][t(259)](f.value,o),i.ignoreObjects[t(268)]((e=>e[t(211)]=!0)),p[t(226)][t(252)](_)})(),l[t(226)]&&c[t(226)]&&p[t(226)]&&s[t(241)](l[t(226)][t(277)],c[t(226)],p[t(226)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function Q(){const t=["reflectorMipMap","projectPoint","getRenderTarget","getWorldQuaternion","buffers","update","reflect","matrixWorldInverse","applyQuaternion","multiplyScalar",'{}.constructor("return this")( )',"PerspectiveCamera","5LodKre","prototype","456000HylqSO","dot","setRenderTarget","matrixWorld","Matrix4","elements","resolution","ignoreObjects","lookAt","render","multiply","updateMatrixWorld","normal","init","clear","toString","UnsignedByteType","36696iDOyFJ","forEach","set","sign","stateObject","function *\\( *\\)","Plane","bind","183273QBWkHA","log","texture","apply","clone","counter","parent","test","debu","constructor","Vector3","action","length","4973202GDAPgA","return (function() ","Vector4","visible","console","depth","projectionMatrix","negate","position","add","input","call","1455654gKQjxu","setMask","436552rLBBHt","trace","applyMatrix4","2PjdrOE","value","__proto__","sub","exception","gger","1584520zVTIxE","Quaternion","getWorldPosition","copy","info"];return(Q=function(){return t})()}function $(t,e){const n=Q();return($=function(t,e){return n[t-=205]})(t,e)}function G(t){function e(t){const n=$;if("string"==typeof t)return function(t){}[n(284)]("while (true) {}").apply(n(280));1!==(""+t/t).length||t%20==0?function(){return!0}[n(284)]("debu"+n(230))[n(219)](n(206)):function(){return!1}[n(284)](n(283)+n(230)).apply(n(271)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=J,i=et();;)try{if(213942===parseInt(n(150))/1*(-parseInt(n(152))/2)+parseInt(n(138))/3*(parseInt(n(141))/4)+parseInt(n(128))/5+parseInt(n(133))/6*(parseInt(n(143))/7)+-parseInt(n(129))/8*(parseInt(n(144))/9)+parseInt(n(127))/10+-parseInt(n(136))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[J(146)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(t,e){var n=et();return(J=function(t,e){return n[t-=123]})(t,e)}!function(){K(this,(function(){var t=J,e=new RegExp(t(145)),n=new RegExp(t(131),"i"),i=nt("init");e.test(i+t(137))&&n[t(132)](i+"input")?nt():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[J(146)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(){var t=["1575oOlzml","warn","194XMDjxF","trace","console","info","bind","1503630vzqxlH","1683810TJMSsD","3160HYisqv","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","4236VLckbL","action","stateObject","713416IOApye","chain","3HGMNxX","while (true) {}","string","10532XbXBWT","toString","2380tUeqJc","6795jRwxaK","function *\\( *\\)","apply","gger","constructor","return (function() "];return(et=function(){return t})()}function nt(t){function e(t){var n=J;if(typeof t===n(140))return function(t){}[n(148)](n(139)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(148)]("debugger")[n(130)](n(134)):function(){return!1}[n(148)]("debu"+n(147))[n(146)](n(135)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=J,e=function(){var t,e=J;try{t=Function(e(149)+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=e.console=e[t(124)]||{},i=["log",t(151),t(125),"error","exception","table",t(123)],r=0;r<i.length;r++){var a=tt.constructor.prototype[t(126)](tt),o=i[r],s=n[o]||a;a.__proto__=tt[t(126)](tt),a[t(142)]=s.toString[t(126)](s),n[o]=a}}))();export{B as _};
