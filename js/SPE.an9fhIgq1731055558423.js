import{_ as t,X as e,bI as i,C as n,V as s,B as r}from"./three.3b9CEYeV1731055558423.js";const o=a;function a(t,e){const i=p();return(a=function(t,e){return i[t-=306]})(t,e)}!function(t,e){const i=a,n=p();for(;;)try{if(615657===-parseInt(i(337))/1+parseInt(i(435))/2*(-parseInt(i(320))/3)+-parseInt(i(447))/4+-parseInt(i(375))/5*(parseInt(i(597))/6)+-parseInt(i(425))/7*(-parseInt(i(434))/8)+-parseInt(i(620))/9*(parseInt(i(766))/10)+-parseInt(i(552))/11*(-parseInt(i(452))/12))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(403)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){c(this,(function(){const t=a,e=new RegExp(t(502)),i=new RegExp(t(667),"i"),n=f(t(760));e[t(528)](n+t(559))&&i[t(528)](n+t(378))?f():n("0")}))()}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(403)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();h(void 0,(function(){const t=a;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(s){e=window}const i=e[t(636)]=e[t(636)]||{},n=[t(398),t(758),t(659),t(681),t(729),t(570),t(672)];for(let r=0;r<n[t(617)];r++){const e=h[t(529)][t(490)][t(311)](h),s=n[r],o=i[s]||e;e[t(367)]=h[t(311)](h),e[t(466)]=o[t(466)][t(311)](o),i[s]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};"function"==typeof define&&define[o(644)]?define(o(455),u):typeof exports!==o(582)&&"undefined"!=typeof module&&(module.exports=u),u.TypedArrayHelper=function(t,e,i,n){const s=o;this[s(472)]=i||1,this[s(317)]=e||1,this[s(433)]=t||Float32Array,this[s(577)]=new t(e*this[s(472)]),this[s(566)]=n||0},u.TypedArrayHelper[o(529)]=u[o(657)],u[o(657)][o(490)][o(748)]=function(t,e){const i=o,n=this[i(577)].length;return!e&&(t*=this[i(472)]),t<n?this[i(673)](t):t>n?this[i(694)](t):void console[i(659)](i(648),t+".","Will not resize.")},u[o(657)][o(490)][o(673)]=function(t){const e=o;return this[e(577)]=this[e(577)].subarray(0,t),this.size=t,this},u[o(657)][o(490)][o(694)]=function(t){const e=o,i=this[e(577)],n=new this.TypedArrayConstructor(t);return n[e(670)](i),this[e(577)]=n,this[e(317)]=t,this},u[o(657)][o(490)][o(477)]=function(t,e){const i=o;t*=this.componentSize,e*=this[i(472)];const n=[],s=this[i(577)],r=s[i(617)];for(let o=0;o<r;++o)(o<t||o>=e)&&n[i(333)](s[o]);return this[i(522)](0,n),this},u[o(657)][o(490)][o(522)]=function(t,e){const i=o,n=t+e[i(617)];return n>this[i(577)][i(617)]?this[i(694)](n):n<this.array.length&&this.shrink(n),this[i(577)][i(670)](e,this.indexOffset+t),this},u[o(657)].prototype.setVec2=function(t,e){return this[o(306)](t,e.x,e.y)},u[o(657)][o(490)].setVec2Components=function(t,e,i){const n=this.array,s=this.indexOffset+t*this.componentSize;return n[s]=e,n[s+1]=i,this},u.TypedArrayHelper.prototype.setVec3=function(t,e){return this[o(624)](t,e.x,e.y,e.z)},u[o(657)][o(490)][o(624)]=function(t,e,i,n){const s=this[o(577)],r=this.indexOffset+t*this.componentSize;return s[r]=e,s[r+1]=i,s[r+2]=n,this},u[o(657)][o(490)][o(584)]=function(t,e){return this[o(573)](t,e.x,e.y,e.z,e.w)},u[o(657)][o(490)][o(573)]=function(t,e,i,n,s){const r=o,a=this.array,c=this[r(566)]+t*this[r(472)];return a[c]=e,a[c+1]=i,a[c+2]=n,a[c+3]=s,this},u[o(657)].prototype[o(523)]=function(t,e){const i=o;return this.setFromArray(this.indexOffset+t*this[i(472)],e[i(633)])},u[o(657)][o(490)][o(623)]=function(t,e){const i=o;return this.setFromArray(this[i(566)]+t*this.componentSize,e[i(633)])},u.TypedArrayHelper[o(490)].setColor=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},u[o(657)].prototype[o(690)]=function(t,e){const i=o;return this[i(577)][this[i(566)]+t*this[i(472)]]=e,this},u[o(657)][o(490)][o(312)]=function(t){return this.array[this.indexOffset+t]},u[o(657)][o(490)][o(392)]=function(t){const e=o;return this[e(577)][e(628)](this[e(566)]+t*this[e(472)])},u.ShaderAttribute=function(t,e,i){const n=o,s=u[n(354)][n(684)];this[n(532)]=typeof t===n(600)&&s[n(735)](t)?t:"f",this[n(472)]=s[this[n(532)]],this[n(707)]=i||Float32Array,this[n(492)]=null,this[n(462)]=null,this[n(486)]=!!e,this.updateMin=0,this[n(408)]=0},u[o(354)].constructor=u[o(354)],u[o(354)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u.ShaderAttribute[o(490)][o(346)]=function(t,e){const i=o;this[i(591)]=Math[i(467)](t*this[i(472)],this[i(591)]*this[i(472)]),this[i(408)]=Math.max(e*this.componentSize,this[i(408)]*this[i(472)])},u[o(354)][o(490)][o(372)]=function(){const t=o,e=this.bufferAttribute,i=e[t(420)];i[t(685)]=this[t(591)],i[t(368)]=Math[t(467)](this[t(408)]-this.updateMin+this[t(472)],this.typedArray[t(577)].length),e[t(701)]=!0},u[o(354)][o(490)][o(445)]=function(){const t=o;this.updateMin=0,this[t(408)]=0},u.ShaderAttribute[o(490)].resetDynamic=function(){const e=o;this[e(462)][e(453)]=this[e(486)]?t[e(443)]:t[e(541)]},u[o(354)][o(490)][o(477)]=function(t,e){const i=o;this[i(492)].splice(t,e),this[i(393)]()},u[o(354)][o(490)][o(393)]=function(){const e=o;this.bufferAttribute[e(577)]=this[e(492)][e(577)],this[e(462)].updateRange[e(685)]=0,this[e(462)].updateRange.count=-1,this[e(462)][e(453)]=t[e(541)],this[e(462)][e(701)]=!0},u[o(354)][o(490)][o(727)]=function(t){const e=o;null!==this[e(492)]&&this[e(492)].size===t*this[e(472)]||(null!==this.typedArray&&this.typedArray[e(317)]!==t?this[e(492)][e(748)](t):null===this[e(492)]&&(this[e(492)]=new(u[e(657)])(this[e(707)],t,this[e(472)])))},u[o(354)][o(490)][o(747)]=function(i){const n=o;if(this[n(727)](i),null!==this.bufferAttribute)return this[n(462)][n(577)]=this.typedArray.array,parseFloat(t[n(460)])>=81&&(this.bufferAttribute.count=this[n(462)][n(577)][n(617)]/this[n(462)][n(497)]),void(this[n(462)].needsUpdate=!0);this[n(462)]=new(t[n(665)])(this[n(492)].array,this[n(472)]),this[n(462)][n(453)]=this[n(486)]?e:t[n(541)]},u[o(354)][o(490)][o(340)]=function(){const t=o;return null===this.typedArray?0:this.typedArray[t(577)][t(617)]},u[o(442)]={defines:[o(348),"#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:[o(737),o(401),o(740),"uniform vec4 textureAnimation;",o(664)][o(661)]("\n"),attributes:["attribute vec4 acceleration;","attribute vec3 velocity;",o(387),o(652),o(709),o(470),o(771),o(654),o(345)][o(661)]("\n"),varyings:[o(581),o(422),o(571),o(533),"#ifdef SHOULD_CALCULATE_SPRITE",o(331),o(533)][o(661)]("\n"),branchAvoidanceFunctions:[o(397),o(431),"}",o(551),o(480),"}",o(476),"    return 1.0 - abs( sign( x - y ) );","}",o(353),o(722),"}",o(587),o(510),"}",o(520),"    return a * b;","}","float or(float a, float b) {",o(675),"}"].join("\n"),unpackColor:[o(495),"   vec3 c = vec3( 0.0 );",o(521),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",o(330),"   c.r = r / PACKED_COLOR_DIVISOR;",o(666),o(542),"   return c;","}"].join("\n"),unpackRotationAxis:[o(357),o(450),o(521),"   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",o(330),"   c.r = r / PACKED_COLOR_DIVISOR;",o(666),o(542),o(637),"   c -= vec3( 1.0 );",o(324),"}"].join("\n"),floatOverLifetime:[o(349),o(515),o(417),o(484),o(438),o(594),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {",o(730),"       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",o(356),o(396),"","    return value;","}"][o(661)]("\n"),colorOverLifetime:["vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {",o(365),o(557),o(763),"    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    return value;","}"][o(661)]("\n"),paramFetchingFunctions:[o(416),o(556),"}",o(716),"   return params.y;","}","float getMaxAge() {",o(632),"}",o(563),"   return params.w;","}"][o(661)]("\n"),forceFetchingFunctions:[o(609),o(725),"}",o(641),"   return velocity * age;","}",o(326),o(710),"}"].join("\n"),rotationFunctions:[o(753),o(692),o(518),o(482),o(412),"       float oc = 1.0 - c;","",o(656),o(585),o(343),"                   0.0,                                0.0,                                0.0,                                1.0);",o(503),"",o(336),o(485),o(383),o(611),"","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;",o(524),o(627),o(738),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",o(770),o(590),o(650),o(550),o(503),o(533)][o(661)]("\n"),rotateTexture:[o(651),"",o(671),o(535),"       float y = 1.0 - gl_PointCoord.y - 0.5;",o(418),o(545),o(376),o(454),"",o(736),"        float framesX = vSpriteSheet.x;",o(749),o(309),o(706),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",o(323),o(454),"",o(697)][o(661)]("\n")},u[o(642)]={vertex:[u.shaderChunks[o(669)],u[o(442)][o(629)],u.shaderChunks[o(419)],u.shaderChunks[o(310)],t[o(468)][o(415)],i[o(645)],i.fog_pars_vertex,u.shaderChunks.branchAvoidanceFunctions,u[o(442)][o(708)],u[o(442)][o(679)],u[o(442)].floatOverLifetime,u[o(442)][o(496)],u[o(442)][o(574)],u[o(442)][o(721)],u[o(442)][o(366)],o(446),o(714),o(483),o(407),o(517),o(603),"    #ifdef SHOULD_WIGGLE_PARTICLES",o(335),"        float wiggleSin = isAlive * sin( wiggleAmount );",o(479),o(454),o(744),o(700),o(703),o(498),o(640),o(406),o(389),o(347),o(404),o(381),o(537),o(583),o(601),"    #endif",o(390),"        pos = getRotation( pos, positionInTime );",o(454),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    #ifdef HAS_PERSPECTIVE",o(539),"    #else",o(548),o(454),o(436),o(772),o(718),o(731),o(715),"           unpackColor( color.y ),",o(362),o(386),o(308),o(325),"       vec3 c = vec3(1.0);",o(454),o(399),o(750),o(671),o(759),o(454),o(736),"        float framesX = textureAnimation.x;",o(764),o(761),"        float totalFrames = textureAnimation.z;","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",o(680),o(457),"        float columnNorm = column / framesX;",o(463),o(344),"        vSpriteSheet.y = 1.0 / framesY;",o(596),o(355),"    #endif","    gl_PointSize = pointSizePerspective;",o(444),i[o(643)],t[o(468)][o(394)],"}"][o(661)]("\n"),fragment:[u[o(442)][o(629)],i[o(415)],t[o(468)][o(516)],i[o(561)],u[o(442)][o(310)],u[o(442)][o(316)],"void main() {","    vec3 outgoingLight = vColor.xyz;",o(459),o(638),o(626),"    #endif",u[o(442)].rotateTexture,t[o(468)].logdepthbuf_fragment,o(432),o(547),i[o(686)],"}"][o(661)]("\n")},u[o(506)]={types:{BOOLEAN:"boolean",STRING:o(600),NUMBER:o(360),OBJECT:o(699)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=o;if(Array[n(576)](t)){for(let s=t[n(617)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=o;if(Array[n(576)](t)){for(let s=t[n(617)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(471)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=o;e=e||3,i=i||3,!1===Array[n(576)](t[n(695)])&&(t[n(695)]=[t[n(695)]]),!1===Array.isArray(t._spread)&&(t._spread=[t[n(405)]]);const s=this[n(578)](t[n(695)][n(617)],e,i),r=this.clamp(t._spread[n(617)],e,i),a=Math[n(332)](s,r);t[n(695)][n(617)]!==a&&(t[n(695)]=this[n(678)](t[n(695)],a)),t[n(405)][n(617)]!==a&&(t._spread=this[n(678)](t[n(405)],a))},interpolateArray(t,e){const i=o,n=t[i(617)],s=[typeof t[0][i(719)]===i(507)?t[0][i(719)]():t[0]],r=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*r,i=Math.floor(e),n=Math.ceil(e),a=e-i;s[o]=this.lerpTypeAgnostic(t[i],t[n],a)}return s[i(333)]("function"==typeof t[n-1][i(719)]?t[n-1][i(719)]():t[n-1]),s},clamp(t,e,i){const n=o;return Math.max(e,Math[n(467)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[o(732)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,s){const r=o;let a,c=this.types;return typeof e===c[r(449)]&&typeof i===c[r(449)]?e+(i-e)*s:e instanceof t[r(677)]&&i instanceof t[r(677)]?(a=e[r(719)](),a.x=this.lerp(e.x,i.x,s),a.y=this[r(361)](e.y,i.y,s),a):e instanceof t[r(525)]&&i instanceof t[r(525)]?(a=e[r(719)](),a.x=this[r(361)](e.x,i.x,s),a.y=this.lerp(e.y,i.y,s),a.z=this[r(361)](e.z,i.z,s),a):e instanceof t[r(402)]&&i instanceof t[r(402)]?(a=e[r(719)](),a.x=this.lerp(e.x,i.x,s),a.y=this[r(361)](e.y,i.y,s),a.z=this.lerp(e.z,i.z,s),a.w=this[r(361)](e.w,i.w,s),a):e instanceof n&&i instanceof t[r(369)]?(a=e[r(719)](),a.r=this.lerp(e.r,i.r,s),a.g=this[r(361)](e.g,i.g,s),a.b=this[r(361)](e.b,i.b,s),a):void console[r(758)](r(639),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){let i=0;return 0===e?t:(i=Math[o(616)](t)%e,0===i?t:t<0?-(Math.abs(t)-i):t+e-i)},arrayValuesAreEqual(t){const e=o;for(let i=0;i<t[e(617)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[o(732)]()-.5),randomVector3(t,e,i,n,s){const r=o;let a=i.x+(Math[r(732)]()*n.x-.5*n.x),c=i.y+(Math[r(732)]()*n.y-.5*n.y),h=i.z+(Math[r(732)]()*n.z-.5*n.z);s&&(a=.5*-s.x+this.roundToNearestMultiple(a,s.x),c=.5*-s.y+this.roundToNearestMultiple(c,s.y),h=.5*-s.z+this[r(439)](h,s.z)),t[r(492)][r(624)](e,a,c,h)},randomColor(t,e,i,n){const s=o;let r=i.r+Math.random()*n.x,a=i.g+Math[s(732)]()*n.y,c=i.b+Math[s(732)]()*n.z;r=this[s(578)](r,0,1),a=this[s(578)](a,0,1),c=this.clamp(c,0,1),t[s(492)].setVec3Components(e,r,a,c)},randomColorAsHex:function(){const e=o,i=new(t[e(369)]);return function(t,n,s,r){const o=e,a=s.length,c=[];for(let e=0;e<a;++e){const t=r[e];i[o(713)](s[e]),i.r+=Math[o(732)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math[o(732)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this[o(578)](i.b,0,1),c[o(333)](i[o(530)]())}t.typedArray[o(573)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=o,r=i[s(719)]();r[s(361)](n,Math[s(732)]()),t.typedArray[s(624)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,s,r,a,c){const h=o;let u=2*Math[h(732)]()-1,l=6.2832*Math.random(),f=Math.sqrt(1-u*u),p=this[h(414)](n,s),d=0,m=0,g=0;a&&(p=Math.round(p/a)*a),d=f*Math[h(469)](l)*p,m=f*Math[h(606)](l)*p,g=u*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t[h(492)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[o(606)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,r,a){const c=o;let h=6.2832*Math[c(732)](),u=Math[c(616)](this[c(414)](n,s)),l=0,f=0,p=0;a&&(u=Math.round(u/a)*a),l=Math[c(469)](h)*u,f=Math[c(606)](h)*u,l*=r.x,f*=r.y,l+=i.x,f+=i.y,p+=i.z,t[c(492)][c(624)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=o,i=new(t[e(525)]);return function(t,n,s,r,o,a,c,h){const u=e;i[u(713)](a),i.x-=s,i.y-=r,i.z-=o,i[u(564)]()[u(334)](-this[u(414)](c,h)),t.typedArray[u(624)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=o,i=new(t[e(525)]);return function(t,n,s,r,o,a,c,h){const u=e;i[u(713)](a),i.x-=s,i.y-=r,i.z-=o,i.normalize()[u(334)](-this[u(414)](c,h)),t[u(492)][u(624)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=o,i=new(t[e(525)]),n=new s,r=new(t[e(369)]),a=new s(1,1,1);return function(t,s){const o=e;return i[o(713)](t)[o(564)](),n.copy(s)[o(564)](),i.x+=.5*-s.x+Math.random()*s.x,i.y+=.5*-s.y+Math.random()*s.y,i.z+=.5*-s.z+Math[o(732)]()*s.z,i[o(564)]()[o(720)](a)[o(334)](.5),r[o(363)](i.x,i.y,i.z),r[o(530)]()}}()},u[o(380)]=function(e){const i=o,n=u.utils,s=n[i(540)];(e=n.ensureTypedArg(e,s[i(536)],{}))[i(631)]=n[i(702)](e[i(631)],s.OBJECT,{}),this.uuid=t[i(743)][i(572)](),this[i(607)]=n[i(702)](e[i(607)],s.NUMBER,.016),this[i(631)]=n[i(471)](e.texture[i(474)],t[i(598)],null),this[i(660)]=n[i(471)](e[i(631)][i(663)],t[i(677)],new(t[i(677)])(1,1)),this[i(371)]=n[i(702)](e[i(631)][i(385)],s.NUMBER,this[i(660)].x*this[i(660)].y),this[i(676)]=n[i(702)](e[i(631)][i(527)],s[i(449)],1),this[i(660)][i(332)](new(t[i(677)])(1,1)),this[i(437)]=n[i(702)](e.hasPerspective,s[i(593)],!0),this[i(410)]=n[i(702)](e[i(410)],s.BOOLEAN,!0),this[i(456)]=n[i(702)](e.maxParticleCount,s[i(449)],null),this[i(373)]=n[i(702)](e[i(373)],s.NUMBER,t[i(619)]),this.transparent=n[i(702)](e[i(488)],s[i(593)],!0),this[i(580)]=parseFloat(n[i(702)](e[i(580)],s[i(449)],0)),this.depthWrite=n[i(702)](e[i(765)],s[i(593)],!1),this[i(534)]=n[i(702)](e.depthTest,s[i(593)],!0),this[i(734)]=n.ensureTypedArg(e.fog,s[i(593)],!0),this[i(342)]=n[i(702)](e[i(342)],s[i(449)],300),this[i(549)]=[],this[i(487)]=[],this[i(359)]=[],this[i(341)]=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this[i(662)]=!1,this.particleCount=0,this[i(629)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(t[i(402)])(this[i(660)].x,this[i(660)].y,this[i(371)],Math[i(332)](Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:this[i(734)]?new(t[i(369)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(342)]}},this[i(669)]={HAS_PERSPECTIVE:this[i(437)],COLORIZE:this[i(410)],VALUE_OVER_LIFETIME_LENGTH:u[i(565)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(660)].x>1||this[i(660)].y>1},this[i(419)]={position:new(u[i(354)])("v3",!0),acceleration:new(u[i(354)])("v4",!0),velocity:new u.ShaderAttribute("v3",!0),rotation:new(u[i(354)])("v4",!0),rotationCenter:new u.ShaderAttribute("v3",!0),params:new(u[i(354)])("v4",!0),size:new(u[i(354)])("v4",!0),angle:new(u[i(354)])("v4",!0),color:new u.ShaderAttribute("v4",!0),opacity:new(u[i(354)])("v4",!0)},this[i(562)]=Object[i(358)](this.attributes),this[i(728)]=this[i(562)][i(617)],this.material=new(t[i(327)])({uniforms:this[i(629)],vertexShader:u[i(642)][i(543)],fragmentShader:u[i(642)][i(370)],blending:this[i(373)],transparent:this[i(488)],alphaTest:this.alphaTest,depthWrite:this[i(765)],depthTest:this[i(534)],defines:this[i(669)],fog:this.fog}),this[i(647)]=new r,this[i(762)]=new(t[i(409)])(this.geometry,this[i(768)]),null===this[i(456)]&&console.warn(i(328))},u[o(380)][o(529)]=u[o(380)],u[o(380)][o(490)]._updateDefines=function(){const t=o;let e,i=this[t(549)],n=i[t(617)]-1,s=this[t(669)];for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(655)]=s[t(655)]||!!Math[t(332)](Math[t(332)][t(403)](null,e[t(741)].value),Math[t(332)][t(403)](null,e[t(741)][t(464)]))),s[t(635)]=s.SHOULD_ROTATE_PARTICLES||!!Math[t(332)](e[t(595)][t(741)],e[t(595)].angleSpread),s[t(614)]=s[t(614)]||!!Math.max(e[t(683)][t(474)],e.wiggle[t(464)]);this[t(768)][t(701)]=!0},u[o(380)][o(490)]._applyAttributesToGeometry=function(){const t=o;let e,i,n=this.attributes,s=this[t(647)],r=s.attributes;for(const o in n)n.hasOwnProperty(o)&&(e=n[o],i=r[o],i?i[t(577)]=e[t(492)][t(577)]:s[t(351)](o,e[t(462)]),e[t(462)][t(701)]=!0);this[t(647)][t(615)](0,this.particleCount)},u[o(380)].prototype[o(592)]=function(t){const e=o;if(t instanceof u[e(531)]==!1)return void console[e(681)](e(613),t);if(this.emitterIDs[e(307)](t[e(560)])>-1)return void console[e(681)]("Emitter already exists in this group. Will not add again.");if(null!==t[e(688)])return void console.error(e(612));const i=this[e(419)],n=this[e(752)],s=n+t.particleCount;this[e(752)]=s,null!==this.maxParticleCount&&this[e(752)]>this[e(456)]&&console.warn(e(757),this[e(752)],"particles, can support only",this[e(456)]),t[e(625)](t.maxAge[e(695)]+t.maxAge[e(405)]),t[e(382)](this[e(562)]),t[e(689)](n),t.group=this,t[e(419)]=this[e(419)];for(const r in i)i[e(735)](r)&&i[r][e(747)](null!==this[e(456)]?this.maxParticleCount:this[e(752)]);for(let r=n;r<s;++r)t[e(511)](r),t[e(513)](r,e(687)),t[e(513)](r,e(458)),t[e(395)](r,e(723)),t[e(395)](r,"size"),t[e(608)](r),t[e(379)](r),t[e(544)](r),t[e(421)](r);return this[e(318)](),this[e(549)][e(333)](t),this[e(487)][e(333)](t[e(560)]),this._updateDefines(t),this.material[e(701)]=!0,this[e(647)][e(701)]=!0,this[e(319)]=!0,this},u[o(380)][o(490)][o(339)]=function(t){const e=o,i=this[e(487)][e(307)](t[e(560)]);if(t instanceof u[e(531)]==!1)return void console.error(e(613),t);if(-1===i)return void console[e(681)](e(526));const n=t.attributeOffset,s=n+t[e(752)],r=this[e(419)][e(505)].typedArray;for(let o=n;o<s;++o)r[e(577)][4*o]=0,r.array[4*o+1]=0;this.emitters[e(477)](i,1),this[e(487)].splice(i,1);for(const o in this.attributes)this[e(419)].hasOwnProperty(o)&&this[e(419)][o][e(477)](n,s);this[e(752)]-=t[e(752)],t[e(579)](),this[e(319)]=!0},u.Group[o(490)][o(704)]=function(){const t=o,e=this[t(359)],i=this._createNewWhenPoolEmpty;if(e.length)return e[t(668)]();if(i){const e=new(u[t(531)])(this[t(341)]);return this[t(592)](e),e}return null},u[o(380)].prototype[o(374)]=function(t){const e=o;if(t instanceof u[e(531)]!=!1)return t[e(475)](),this[e(359)][e(411)](t),this;console[e(681)]("Argument is not instanceof SPE.Emitter:",t)},u[o(380)][o(490)][o(622)]=function(){return this._pool},u[o(380)].prototype[o(568)]=function(t,e,i){const n=o;let s;this[n(341)]=e,this[n(649)]=!!i;for(let r=0;r<t;++r)s=Array[n(576)](e)?new u.Emitter(e[r]):new(u[n(531)])(e),this.addEmitter(s),this.releaseIntoPool(s);return this},u[o(380)][o(490)][o(315)]=function(t){const e=o,i=this[e(704)](),n=this;if(null!==i)return t instanceof s&&(i[e(400)][e(474)][e(713)](t),i[e(400)][e(474)]=i[e(400)][e(474)]),i[e(546)](),setTimeout((()=>{i[e(314)](),n.releaseIntoPool(i)}),1e3*Math[e(332)](i[e(767)],i.maxAge[e(474)]+i[e(494)][e(464)])),this;console[e(398)](e(493))},u[o(380)][o(490)].triggerPoolEmitter=function(t,e){if("number"==typeof t&&t>1)for(let i=0;i<t;++i)this._triggerSingleEmitter(e);else this._triggerSingleEmitter(e);return this},u[o(380)][o(490)][o(429)]=function(t){const e=o;this.uniforms.runTime[e(474)]+=t,this[e(629)][e(504)][e(474)]=t},u[o(380)].prototype[o(589)]=function(){const t=o;let e=this[t(562)],i=this[t(728)]-1,n=this.attributes;for(;i>=0;--i)n[e[i]].resetUpdateRange()},u[o(380)][o(490)][o(377)]=function(t){const e=o;let i,n,s,r=this[e(562)],a=this.attributeCount-1,c=this.attributes,h=t[e(491)];for(;a>=0;--a)i=r[a],n=h[i],s=c[i],s[e(346)](n.min,n[e(332)]),s.flagUpdate()},u.Group[o(490)].tick=function(t){const e=o;var i=this[e(549)],n=i[e(617)],s=t||this[e(607)],r=this[e(562)],a=this[e(419)];if(this[e(429)](s),this[e(589)](),0!==n||!1!==this[e(319)]||!1!==this[e(662)]){for(var c,h=0;h<n;++h)(c=i[h]).tick(s),this[e(377)](c);if(!0===this[e(662)]){for(h=this.attributeCount-1;h>=0;--h)a[r[h]].resetDynamic();this[e(662)]=!1}if(!0===this[e(319)]){for(h=this[e(728)]-1;h>=0;--h)a[r[h]][e(393)]();this[e(319)]=!1,this[e(662)]=!0}}},u[o(380)][o(490)][o(693)]=function(){const t=o;return this.geometry[t(693)](),this[t(768)][t(693)](),this},u.Emitter=function(e){const i=o,r=u[i(506)],a=r.types,c=u[i(565)];(e=r[i(702)](e,a[i(536)],{}))[i(400)]=r[i(702)](e[i(400)],a[i(536)],{}),e[i(687)]=r[i(702)](e[i(687)],a[i(536)],{}),e[i(458)]=r[i(702)](e[i(458)],a.OBJECT,{}),e[i(322)]=r.ensureTypedArg(e[i(322)],a[i(536)],{}),e[i(658)]=r[i(702)](e[i(658)],a.OBJECT,{}),e[i(595)]=r.ensureTypedArg(e[i(595)],a[i(536)],{}),e[i(338)]=r[i(702)](e[i(338)],a[i(536)],{}),e.opacity=r[i(702)](e[i(723)],a.OBJECT,{}),e[i(317)]=r.ensureTypedArg(e[i(317)],a[i(536)],{}),e[i(741)]=r[i(702)](e[i(741)],a[i(536)],{}),e.wiggle=r[i(702)](e.wiggle,a[i(536)],{}),e[i(494)]=r[i(702)](e[i(494)],a[i(536)],{}),e.onParticleSpawn&&console.warn(i(430)),this[i(560)]=t[i(743)][i(572)](),this.type=r.ensureTypedArg(e[i(532)],a[i(449)],u[i(508)][i(604)]),this[i(400)]={_value:r[i(471)](e.position.value,t[i(525)],new(t[i(525)])),_spread:r[i(471)](e.position[i(464)],t[i(525)],new(t[i(525)])),_spreadClamp:r.ensureInstanceOf(e[i(400)][i(428)],t[i(525)],new(t[i(525)])),_distribution:r[i(702)](e[i(400)].distribution,a[i(449)],this[i(532)]),_randomise:r.ensureTypedArg(e[i(400)][i(554)],a.BOOLEAN,!1),_radius:r.ensureTypedArg(e[i(400)][i(322)],a[i(449)],10),_radiusScale:r[i(471)](e[i(400)][i(427)],s,new(t[i(525)])(1,1,1)),_distributionClamp:r[i(702)](e[i(400)].distributionClamp,a[i(449)],0)},this[i(687)]={_value:r.ensureInstanceOf(e[i(687)].value,s,new s),_spread:r[i(471)](e[i(687)][i(464)],t[i(525)],new(t[i(525)])),_distribution:r[i(702)](e[i(687)].distribution,a[i(449)],this[i(532)]),_randomise:r.ensureTypedArg(e[i(400)][i(554)],a[i(593)],!1)},this[i(458)]={_value:r[i(471)](e[i(458)][i(474)],t[i(525)],new s),_spread:r[i(471)](e[i(458)][i(464)],t[i(525)],new(t[i(525)])),_distribution:r[i(702)](e[i(458)][i(724)],a.NUMBER,this[i(532)]),_randomise:r[i(702)](e[i(400)][i(554)],a[i(593)],!1)},this[i(658)]={_value:r[i(702)](e[i(658)][i(474)],a[i(449)],0),_spread:r[i(702)](e[i(658)][i(464)],a[i(449)],0),_randomise:r[i(702)](e[i(400)][i(554)],a[i(593)],!1)},this[i(683)]={_value:r[i(702)](e[i(683)][i(474)],a[i(449)],0),_spread:r[i(702)](e[i(683)][i(464)],a[i(449)],0)},this.rotation={_axis:r[i(471)](e.rotation[i(586)],t[i(525)],new s(0,1,0)),_axisSpread:r[i(471)](e[i(595)][i(473)],t[i(525)],new s),_angle:r.ensureTypedArg(e[i(595)][i(741)],a[i(449)],0),_angleSpread:r[i(702)](e.rotation[i(441)],a[i(449)],0),_static:r[i(702)](e.rotation[i(553)],a[i(593)],!1),_center:r.ensureInstanceOf(e[i(595)][i(509)],t[i(525)],this[i(400)]._value[i(719)]()),_randomise:r.ensureTypedArg(e[i(400)].randomise,a[i(593)],!1)},this[i(494)]={_value:r[i(702)](e[i(494)][i(474)],a[i(449)],2),_spread:r[i(702)](e.maxAge[i(464)],a[i(449)],0)},this[i(338)]={_value:r.ensureArrayInstanceOf(e[i(338)].value,t[i(369)],new n),_spread:r[i(440)](e[i(338)].spread,t[i(525)],new s),_randomise:r.ensureTypedArg(e[i(400)][i(554)],a[i(593)],!1)},this[i(723)]={_value:r[i(682)](e[i(723)][i(474)],a[i(449)],1),_spread:r[i(682)](e.opacity[i(464)],a[i(449)],0),_randomise:r[i(702)](e[i(400)][i(554)],a[i(593)],!1)},this[i(317)]={_value:r.ensureArrayTypedArg(e[i(317)][i(474)],a[i(449)],1),_spread:r[i(682)](e.size.spread,a[i(449)],0),_randomise:r.ensureTypedArg(e[i(400)][i(554)],a.BOOLEAN,!1)},this[i(741)]={_value:r.ensureArrayTypedArg(e[i(741)][i(474)],a[i(449)],0),_spread:r[i(682)](e[i(741)][i(464)],a[i(449)],0),_randomise:r[i(702)](e[i(400)][i(554)],a[i(593)],!1)},this.particleCount=r.ensureTypedArg(e.particleCount,a[i(449)],100),this[i(767)]=r[i(702)](e[i(767)],a[i(449)],null),this[i(712)]=r[i(702)](e[i(712)],a[i(593)],!1),this[i(618)]=r[i(702)](e[i(618)],a[i(449)],1),this[i(448)]=r[i(702)](e[i(448)],a[i(449)],1),this.alive=r.ensureTypedArg(e[i(717)],a[i(593)],!0),this[i(745)]=0,this.activationIndex=0,this[i(575)]=0,this.attributeEnd=0,this[i(489)]=0,this[i(465)]=0,this[i(688)]=null,this[i(419)]=null,this[i(519)]=null,this.resetFlags={position:r[i(702)](e[i(400)].randomise,a[i(593)],!1)||r[i(702)](e[i(322)][i(554)],a.BOOLEAN,!1),velocity:r[i(702)](e[i(687)].randomise,a[i(593)],!1),acceleration:r.ensureTypedArg(e[i(458)][i(554)],a.BOOLEAN,!1)||r.ensureTypedArg(e.drag[i(554)],a[i(593)],!1),rotation:r[i(702)](e[i(595)][i(554)],a[i(593)],!1),rotationCenter:r.ensureTypedArg(e.rotation[i(554)],a[i(593)],!1),size:r[i(702)](e[i(317)].randomise,a[i(593)],!1),color:r[i(702)](e[i(338)].randomise,a[i(593)],!1),opacity:r[i(702)](e.opacity[i(554)],a.BOOLEAN,!1),angle:r[i(702)](e.angle.randomise,a.BOOLEAN,!1)},this[i(499)]={},this[i(424)]={},this[i(567)]={maxAge:"params",position:i(400),velocity:i(687),acceleration:i(458),drag:i(458),wiggle:i(505),rotation:"rotation",size:"size",color:i(338),opacity:"opacity",angle:i(741)};for(const t in this[i(567)])this[i(567)][i(735)](t)&&(this[i(424)][this[i(567)][t]]=0,this[i(499)][this[i(567)][t]]=!1,this._createGetterSetters(this[t],t));this[i(491)]={},this[i(562)]=null,this.attributeCount=0,r[i(426)](this[i(338)],c,c),r[i(426)](this.opacity,c,c),r[i(426)](this[i(317)],c,c),r.ensureValueOverLifetimeCompliance(this.angle,c,c)},u[o(531)][o(529)]=u[o(531)],u[o(531)].prototype[o(634)]=function(t,e){const i=o,n=this;for(const s in t)if(t[i(735)](s)){const r=s[i(705)]("_","");Object[i(755)](t,r,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=a,r=n[s(567)][e],o=this[t],c=u[s(565)];t===s(558)?(n[s(499)][s(423)]=!0,n.updateCounts[s(423)]=0):t===s(602)?n[s(630)][r]=i:(n[s(499)][r]=!0,n[s(424)][r]=0),n[s(688)][s(501)](),this[t]=i,Array[s(576)](o)&&u.utils.ensureValueOverLifetimeCompliance(n[e],c,c)}}(s)})}},u[o(531)][o(490)][o(382)]=function(t){const e=o;this[e(562)]=t,this.attributeCount=t.length;for(let i=this.attributeCount-1;i>=0;--i)this[e(491)][t[i]]={min:Number[e(350)],max:Number[e(352)]}},u[o(531)].prototype[o(625)]=function(t){const e=o,i=this[e(752)];this[e(767)]?this[e(745)]=i/(t<this[e(767)]?t:this[e(767)]):this[e(745)]=i/t},u[o(531)][o(490)][o(689)]=function(t){const e=o;this[e(575)]=t,this.activationIndex=t,this[e(478)]=t+this.particleCount},u[o(531)][o(490)]._assignValue=function(t,e){const i=o;switch(t){case"position":this[i(511)](e);break;case i(687):case"acceleration":this[i(513)](e,t);break;case"size":case i(723):this[i(395)](e,t);break;case i(741):this._assignAngleValue(e);break;case i(505):this._assignParamsValue(e);break;case i(595):this[i(379)](e);break;case i(338):this[i(421)](e)}},u[o(531)][o(490)][o(511)]=function(t){const e=o,i=u[e(508)],n=u[e(506)],s=this[e(400)],r=this.attributes[e(400)],a=s[e(695)],c=s[e(405)];switch(s[e(711)]){case i.BOX:n[e(756)](r,t,a,c,s._spreadClamp);break;case i[e(653)]:n[e(514)](r,t,a,s._radius,s[e(405)].x,s[e(384)],s[e(769)].x,s[e(538)]||this[e(752)]);break;case i[e(726)]:n[e(646)](r,t,a,s[e(691)],s[e(405)].x,s[e(384)],s[e(769)].x);break;case i[e(746)]:n[e(739)](r,t,a,c)}},u[o(531)][o(490)][o(513)]=function(t,e){const i=o;let n,s,r,a,c,h=u[i(508)],l=u[i(506)],f=this[e],p=f[i(695)],d=f[i(405)];switch(f._distribution){case h[i(604)]:l[i(756)](this[i(419)][e],t,p,d);break;case h.SPHERE:n=this.attributes[i(400)].typedArray[i(577)],c=3*t,s=n[c],r=n[c+1],a=n[c+2],l[i(461)](this[i(419)][e],t,s,r,a,this[i(400)][i(695)],f[i(695)].x,f[i(405)].x);break;case h.DISC:n=this.attributes[i(400)][i(492)].array,c=3*t,s=n[c],r=n[c+1],a=n[c+2],l[i(481)](this.attributes[e],t,s,r,a,this.position._value,f[i(695)].x,f[i(405)].x);break;case h[i(746)]:l[i(739)](this.attributes[e],t,p,d)}if("acceleration"===e){const e=l.clamp(l[i(414)](this[i(658)][i(695)],this[i(658)][i(405)]),0,1);this[i(419)].acceleration.typedArray[i(577)][4*t+3]=e}},u[o(531)].prototype[o(395)]=function(t,e){const i=o;let n,s=this.attributes[e][i(492)],r=this[e],a=u.utils;a[i(742)](r._value)&&a[i(742)](r[i(405)])?(n=Math[i(616)](a[i(414)](r[i(695)][0],r[i(405)][0])),s[i(573)](t,n,n,n,n)):s.setVec4Components(t,Math.abs(a[i(414)](r[i(695)][0],r[i(405)][0])),Math.abs(a[i(414)](r[i(695)][1],r[i(405)][1])),Math.abs(a.randomFloat(r[i(695)][2],r[i(405)][2])),Math[i(616)](a.randomFloat(r[i(695)][3],r[i(405)][3])))},u[o(531)][o(490)][o(608)]=function(t){const e=o;let i,n=this[e(419)][e(741)].typedArray,s=this[e(741)],r=u.utils;r[e(742)](s[e(695)])&&r.arrayValuesAreEqual(s[e(405)])?(i=r[e(414)](s[e(695)][0],s._spread[0]),n.setVec4Components(t,i,i,i,i)):n[e(573)](t,r[e(414)](s[e(695)][0],s[e(405)][0]),r.randomFloat(s._value[1],s[e(405)][1]),r[e(414)](s._value[2],s[e(405)][2]),r[e(414)](s._value[3],s[e(405)][3]))},u[o(531)].prototype._assignParamsValue=function(t){const e=o;this[e(419)][e(505)].typedArray.setVec4Components(t,this[e(712)]?1:0,0,Math[e(616)](u[e(506)][e(414)](this[e(494)][e(695)],this[e(494)]._spread)),u[e(506)][e(414)](this[e(683)][e(695)],this[e(683)][e(405)]))},u[o(531)][o(490)][o(379)]=function(t){const e=o;this.attributes.rotation[e(492)].setVec3Components(t,u[e(506)][e(364)](this[e(595)][e(698)],this[e(595)]._axisSpread),u.utils[e(414)](this[e(595)][e(512)],this[e(595)][e(599)]),this[e(595)][e(500)]?0:1),this[e(419)][e(423)][e(492)][e(754)](t,this[e(595)][e(321)])},u[o(531)][o(490)][o(421)]=function(t){const e=o;u.utils.randomColorAsHex(this[e(419)][e(338)],t,this[e(338)][e(695)],this[e(338)][e(405)])},u.Emitter[o(490)][o(605)]=function(t){const e=o;let i,n,s=this[e(630)],r=this[e(499)],a=this[e(424)],c=this[e(562)];for(let o=this.attributeCount-1;o>=0;--o)i=c[o],n=r[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(555)](i,t),!0===n&&a[i]===this[e(752)]?(r[i]=!1,a[i]=0):1==n&&++a[i])},u.Emitter[o(490)][o(555)]=function(t,e){const i=o,n=this.bufferUpdateRanges[t];n[i(467)]=Math.min(e,n[i(467)]),n[i(332)]=Math[i(332)](e,n[i(332)])},u[o(531)][o(490)][o(589)]=function(){const t=o;let e,i=this[t(491)],n=this[t(451)],s=this[t(313)]-1;for(;s>=0;--s)e=n[s],i[e][t(467)]=Number[t(350)],i[e][t(332)]=Number[t(352)]},u[o(531)][o(490)]._onRemove=function(){const t=o;this[t(745)]=0,this[t(575)]=0,this[t(674)]=0,this[t(465)]=0,this[t(688)]=null,this[t(419)]=null,this.paramsArray=null,this[t(489)]=0},u[o(531)][o(490)][o(569)]=function(){--this.activeParticleCount},u[o(531)][o(490)]._incrementParticleCount=function(){++this[o(465)]},u[o(531)][o(490)][o(588)]=function(t,e,i,n){const s=o;for(var r,a,c,h,u=e-1;u>=t;--u)0!==(h=i[r=4*u])&&(c=i[r+1],a=i[r+2],1===this[s(448)]?(c+=n)>=a&&(c=0,h=0,this[s(569)]()):(c-=n)<=0&&(c=a,h=0,this._decrementParticleCount()),i[r]=h,i[r+1]=c,this._updateAttributeUpdateRange(s(505),u))},u[o(531)][o(490)][o(696)]=function(t,e,i,n){const s=o,r=this[s(448)];for(var a,c,h=t;h<e;++h)0!=i[a=4*h]&&1!==this[s(752)]||(this[s(610)](),i[a]=1,this[s(605)](h),c=n*(h-t),i[a+1]=-1===r?i[a+2]-c:c,this._updateAttributeUpdateRange("params",h))},u[o(531)][o(490)][o(329)]=function(t){const e=o;if(this[e(712)])return;null===this[e(519)]&&(this[e(519)]=this[e(419)][e(505)][e(492)].array);const i=this.attributeOffset,n=i+this[e(752)],s=this.paramsArray,r=this.particlesPerSecond*this[e(618)]*t,a=this[e(674)];if(this[e(589)](),this[e(588)](i,n,s,t),!1===this.alive)return void(this[e(489)]=0);if(null!==this[e(767)]&&this[e(489)]>this[e(767)])return this[e(717)]=!1,void(this[e(489)]=0);const c=1===this[e(752)]?a:0|a,h=Math[e(467)](c+r,this.activationEnd),u=h-this[e(674)]|0,l=u>0?t/u:0;this._activateParticles(c,h,s,l),this[e(674)]+=r,this[e(674)]>n&&(this[e(674)]=i),this[e(489)]+=t},u[o(531)][o(490)][o(475)]=function(t){const e=o;if(this[e(489)]=0,this[e(717)]=!1,!0===t){const t=this[e(575)],s=t+this.particleCount,r=this.paramsArray,o=this[e(419)][e(505)][e(462)];for(var i,n=s-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;o[e(420)][e(685)]=0,o[e(420)].count=-1,o.needsUpdate=!0}return this},u[o(531)][o(490)].enable=function(){return this[o(717)]=!0,this},u[o(531)][o(490)][o(314)]=function(){return this[o(717)]=!1,this},u.Emitter[o(490)].remove=function(){const t=o;return null!==this[t(688)]?this.group[t(339)](this):console.error(t(751)),this};const l=u;function f(t){function e(t){const i=a;if(typeof t===i(600))return function(t){}[i(529)](i(621))[i(403)](i(733));1!==(""+t/t)[i(617)]||t%20==0?function(){return!0}[i(529)](i(391)+i(388)).call(i(413)):function(){return!1}[i(529)](i(391)+i(388))[i(403)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}function p(){const t=["enable","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","        float perspective = 1.0;","emitters","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","float when_lt(float x, float y) {","7799473DJtEym","static","randomise","_updateAttributeUpdateRange","   return params.x;","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","_rotationCenter","chain","uuid","logdepthbuf_pars_fragment","attributeKeys","float getWiggle() {","normalize","valueOverLifetimeLength","indexOffset","updateMap","addPool","_decrementParticleCount","table","    varying float vAngle;","generateUUID","setVec4Components","paramFetchingFunctions","attributeOffset","isArray","array","clamp","_onRemove","alphaTest","varying vec4 vColor;","undefined","        pos.y += wiggleCos;","setVec4","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","axis","float when_le(float x, float y) {","_checkParticleAges","_resetBufferRanges","      translated = rotationCenter - pos;","updateMin","addEmitter","BOOLEAN","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","rotation","        vSpriteSheet.z = columnNorm;","6kxzqRT","Texture","_angleSpread","string","        pos.z += wiggleSin;","_randomise","    highp float isAlive = when_gt( alive, 0.0 );","BOX","_resetParticle","sin","fixedTimeStep","_assignAngleValue","vec4 getPosition( in float age ) {","_incrementParticleCount","      }","Emitter already belongs to another group. Will not add to requested group.","`emitter` argument must be instance of SPE.Emitter. Was provided with:","SHOULD_WIGGLE_PARTICLES","setDrawRange","abs","length","activeMultiplier","AdditiveBlending","99aCiSNe","while (true) {}","getPool","setMat4","setVec3Components","_calculatePPSValue","       if ( vColor.w < float(ALPHATEST) ) discard;","      mat4 rotationMatrix;","subarray","uniforms","resetFlags","texture","   return params.z;","elements","_createGetterSetters","SHOULD_ROTATE_PARTICLES","console","   c *= vec3( 2.0 );","    #ifdef ALPHATEST","Invalid argument types, or argument types do not match:","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","vec3 getVelocity( in float age ) {","shaders","logdepthbuf_vertex","amd","logdepthbuf_pars_vertex","randomVector3OnDisc","geometry","TypedArray is already of size:","_createNewWhenPoolEmpty","      rotationMatrix = getRotationMatrix( axis, angle );","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","attribute vec3 rotationCenter;","SPHERE","attribute vec4 color;","SHOULD_ROTATE_TEXTURE","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","TypedArrayHelper","drag","info","textureFrames","join","_attributesNeedDynamicReset","frames","uniform float scale;","BufferAttribute","   c.g = g / PACKED_COLOR_DIVISOR;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","pop","defines","set","    #ifdef SHOULD_ROTATE_TEXTURE","trace","shrink","activationIndex","    return min(a + b, 1.0);","textureLoop","Vector2","interpolateArray","unpackRotationAxis","        float column = floor(mod( frameNumber, framesX ));","error","ensureArrayTypedArg","wiggle","typeSizeMap","offset","fog_fragment","velocity","group","_setAttributeOffset","setNumber","_radius","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","dispose","grow","_value","_activateParticles","    vec4 rotatedTexture = texture2D( tex, vUv );","_axis","object","    vec3 accel = getAcceleration( age );","needsUpdate","ensureTypedArg","    vec3 force = vec3( 0.0 );","getFromPool","replace","        float rowNorm = vSpriteSheet.w;","arrayType","unpackColor","attribute vec4 params;","   return acceleration.xyz * age;","_distribution","isStatic","copy","    highp float age = getAge();","           unpackColor( color.x ),","float getAge() {","alive","       vec3 c = isAlive * getColorOverLifetime(","clone","add","forceFetchingFunctions","  return 1.0 - when_lt(x, y);","opacity","distribution","   return modelViewMatrix * vec4( position, 1.0 );","DISC","_ensureTypedArray","attributeCount","exception","       fIndex = float( i );","           positionInTime,","random","counter","fog","hasOwnProperty","    #ifdef SHOULD_CALCULATE_SPRITE","uniform float deltaTime;","      float angle = 0.0;","randomVector3OnLine","uniform sampler2D tex;","angle","arrayValuesAreEqual","MathUtils","    vec3 vel = getVelocity( age );","particlesPerSecond","LINE","_createBufferAttribute","setSize","        float framesY = vSpriteSheet.y;","    vColor = vec4( c, o );","Emitter does not belong to a group, cannot remove.","particleCount","#ifdef SHOULD_ROTATE_PARTICLES","setVec3","defineProperty","randomVector3","SPE.Group: maxParticleCount exceeded. Requesting","warn","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","init","        float loopCount = textureAnimation.w;","mesh","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","        float framesY = textureAnimation.y;","depthWrite","862490rOerJf","duration","material","_spreadClamp","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","attribute vec4 angle;","    #ifdef COLORIZE","setVec2Components","indexOf","       );","        float columnNorm = vSpriteSheet.z;","varyings","bind","getValueAtIndex","bufferUpdateCount","disable","_triggerSingleEmitter","branchAvoidanceFunctions","size","_applyAttributesToGeometry","_attributesNeedRefresh","1422LxfIKK","_center","radius","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","   return c;","    #else","vec3 getAcceleration( in float age ) {","ShaderMaterial","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","tick","   float b = mod( hex, PACKED_COLOR_SIZE );","    varying vec4 vSpriteSheet;","max","push","multiplyScalar","        float wiggleAmount = positionInTime * getWiggle();","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","390656RwNNsE","color","removeEmitter","getLength","_poolCreationSettings","scale","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","        vSpriteSheet.x = 1.0 / framesX;","attribute vec4 opacity;","setUpdateRange","    force += accel * age;","#define PACKED_COLOR_SIZE 256.0","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","POSITIVE_INFINITY","setAttribute","NEGATIVE_INFINITY","float when_ge(float x, float y) {","ShaderAttribute","        vSpriteSheet.w = rowNorm;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","vec3 unpackRotationAxis( in float hex ) {","keys","_pool","number","lerp","           unpackColor( color.z ),","setRGB","getPackedRotationAxis","    vec3 value = vec3( 0.0 );","rotationFunctions","__proto__","count","Color","fragment","textureFrameCount","flagUpdate","blending","releaseIntoPool","4057805iEETEM","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","_updateBuffers","input","_assignRotationValue","Group","    #ifdef SHOULD_WIGGLE_PARTICLES","_setBufferUpdateRanges","           return pos;","_radiusScale","frameCount","           unpackColor( color.w )","attribute vec4 rotation;","gger","    force *= drag;","    #ifdef SHOULD_ROTATE_PARTICLES","debu","getComponentValueAtIndex","forceUpdateAll","fog_vertex","_assignAbsLifetimeValue","    }","float when_gt(float x, float y) {","log","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","position","uniform float runTime;","Vector4","apply","    pos += force;","_spread","    force += vel;","    highp float maxAge = getMaxAge();","updateMax","Points","colorize","unshift","       float c = cos(angle);","action","randomFloat","common","float getAlive() {","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","       float c = cos( -vAngle );","attributes","updateRange","_assignColorValue","#ifdef SHOULD_ROTATE_TEXTURE","rotationCenter","updateCounts","49xuyqWQ","ensureValueOverLifetimeCompliance","radiusScale","spreadClamp","_updateUniforms","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","    return max(sign(x - y), 0.0);","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","TypedArrayConstructor","643256LTjQtW","640zQtoLq","    float pointSizePerspective = pointSize * perspective;","hasPerspective","    float shouldApplyValue = 0.0;","roundToNearestMultiple","ensureArrayInstanceOf","angleSpread","shaderChunks","DynamicDrawUsage","    gl_Position = projectionMatrix * mvPosition;","resetUpdateRange","void main() {","4759084EwbqyY","direction","NUMBER","   vec3 c = vec3( 0.0 );","bufferUpdateKeys","60sGfmKP","usage","    #endif","spe","maxParticleCount","        float row = floor( (frameNumber - column) / framesX );","acceleration","    ","REVISION","randomDirectionVector3OnSphere","bufferAttribute","        float rowNorm = row / framesY;","spread","activeParticleCount","toString","min","ShaderChunk","cos","attribute vec4 size;","ensureInstanceOf","componentSize","axisSpread","value","reset","float when_eq( float x, float y ) {","splice","activationEnd","        float wiggleCos = isAlive * cos( wiggleAmount );","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","randomDirectionVector3OnDisc","       float s = sin(angle);","    highp float alive = getAlive();","    float fIndex = 0.0;","      if( rotation.y == 0.0 ) {","dynamicBuffer","emitterIDs","transparent","age","prototype","bufferUpdateRanges","typedArray","SPE.Group pool ran out.","maxAge","vec3 unpackColor( in float hex ) {","colorOverLifetime","itemSize","    vec3 pos = vec3( position );","updateFlags","_static","_updateDefines","function *\\( *\\)","   }","deltaTime","params","utils","function","distributions","center","  return 1.0 - when_gt(x, y);","_assignPositionValue","_angle","_assignForceValue","randomVector3OnSphere","    highp float value = 0.0;","fog_pars_fragment","    highp float positionInTime = (age / maxAge);","       axis = normalize(axis);","paramsArray","float and(float a, float b) {","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","setFromArray","setMat3","      vec3 translated;","Vector3","Emitter does not exist in this group. Will not remove.","loop","test","constructor","getHex","Emitter","type","#endif","depthTest","       float x = gl_PointCoord.x - 0.5;","OBJECT","        pos.x += wiggleSin;","_distributionClamp","        float perspective = scale / length( mvPosition.xyz );","types","StaticDrawUsage","   c.b = b / PACKED_COLOR_DIVISOR;","vertex","_assignParamsValue","       float s = sin( -vAngle );"];return(p=function(){return t})()}export{l as _};
