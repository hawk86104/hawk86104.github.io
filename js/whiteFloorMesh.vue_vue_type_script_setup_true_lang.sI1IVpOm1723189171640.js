import{a6 as t,bR as n,U as o}from"./three.5MXJ6W7w1723189171640.js";import{N as r}from"./@tresjs.LTwFwASm1723189171640.js";import{d as e,b as a,a4 as c,w as s,o as u,D as i,J as f,aj as l,ak as p}from"./@vue.Q1VpS3901723189171640.js";!function(t,n){const o=d,r=m();for(;;)try{if(448911===parseInt(o(275))/1+-parseInt(o(281))/2+-parseInt(o(263))/3+-parseInt(o(291))/4+-parseInt(o(247))/5*(-parseInt(o(260))/6)+-parseInt(o(264))/7*(parseInt(o(243))/8)+-parseInt(o(284))/9*(-parseInt(o(267))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function d(t,n){const o=m();return(d=function(t,n){return o[t-=237]})(t,n)}!function(){h(this,(function(){const t=d,n=new RegExp(t(258)),o=new RegExp(t(277),"i"),r=_(t(278));n[t(250)](r+"chain")&&o[t(250)](r+t(257))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(){const t=["482303FRMShc","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","defaultnormal_vertex","packing","878922TMTWlI","action","begin_vertex","171xmAWku","lights_pars_begin","bind","return (function() ","bsdfs","while (true) {}",'{}.constructor("return this")( )',"810108XjqiaB","apply","call","\n\t ","shadowmap_vertex","\n      \t","__proto__","shadowmask_pars_fragment","ShaderChunk","240gyLMKp","debu","log","stateObject","3345ykpiGA","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","beginnormal_vertex","test","\n       void main() {\n\t\t\t\t\t","console","project_vertex","\n       varying vec2 vUv;\n\t\t\t \t","gger","\n          ","input","function *\\( *\\)","shadowmap_pars_fragment","3576DnwzRa","shadowmap_pars_vertex","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","2329065yqpXEx","99379tDKWeY","counter","length","743230jeFgmI","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","error","common","trace","worldpos_vertex","prototype","toString"];return(m=function(){return t})()}g(void 0,(function(){const t=d,n=function(){const t=d;let n;try{n=Function(t(287)+t(290)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(252)]||{},r=[t(245),"warn","info",t(269),"exception","table",t(271)];for(let e=0;e<r[t(266)];e++){const n=g.constructor[t(273)][t(286)](g),a=r[e],c=o[a]||n;n[t(240)]=g[t(286)](g),n[t(274)]=c[t(274)][t(286)](c),o[a]=n}}))();const w=()=>{const o=d;return o(254)+t[o(242)][o(270)]+o(239)+t[o(242)].bsdfs+o(239)+t[o(242)][o(261)]+o(251)+t[o(242)][o(249)]+o(256)+n[o(279)]+"\n          "+t[o(242)][o(283)]+o(256)+t[o(242)][o(253)]+"\n          "+t[o(242)][o(272)]+o(256)+t[o(242)][o(238)]+o(262)},v=()=>{const n=d;return n(248)+t[n(242)][n(270)]+n(237)+t[n(242)][n(280)]+n(237)+t[n(242)][n(288)]+n(237)+t[n(242)][n(285)]+n(237)+t[n(242)][n(259)]+n(237)+t[n(242)][n(241)]+n(268)};function _(t){function n(t){const o=d;if("string"==typeof t)return function(t){}.constructor(o(289)).apply(o(265));1!==(""+t/t)[o(266)]||t%20==0?function(){return!0}[o(276)](o(244)+"gger")[o(293)](o(282)):function(){return!1}.constructor(o(244)+o(255))[o(292)](o(246)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=C;!function(t,n){const o=C,r=j();for(;;)try{if(227747===parseInt(o(322))/1*(-parseInt(o(337))/2)+-parseInt(o(350))/3+-parseInt(o(329))/4*(-parseInt(o(371))/5)+parseInt(o(363))/6+parseInt(o(362))/7*(-parseInt(o(366))/8)+parseInt(o(334))/9+-parseInt(o(345))/10*(-parseInt(o(370))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=C,n=new RegExp(t(369)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=M(t(341));n[t(340)](r+t(328))&&o[t(340)](r+"input")?M():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(346)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(368)+t(361)+");")()}catch(o){n=window}return n}(),o=n[t(335)]=n[t(335)]||{},r=[t(323),t(331),t(360),t(348),t(359),"table",t(339)];for(let e=0;e<r[t(351)];e++){const n=I[t(326)].prototype[t(319)](I),a=r[e],c=o[a]||n;n[t(342)]=I.bind(I),n[t(330)]=c[t(330)][t(319)](c),o[a]=n}}))();const b=[x(343)],S=[x(321)];function C(t,n){const o=j();return(C=function(t,n){return o[t-=316]})(t,n)}function j(){const t=['{}.constructor("return this")( )',"2592947WJaCIN","2102580Jfwlmu","TresMesh","UniformsLib","8hwWSXj","gger","return (function() ","function *\\( *\\)","495nYJaGE","833230lRFKtp","uShadowColor","call","shadowColor","bind","#990","args","26870PsSEaV","log","size","TresPlaneGeometry","constructor","value","chain","4WcsKvZ","toString","warn","TresShaderMaterial","stateObject","2978811dcxplr","console","fEdge","24VLxczN","while (true) {}","trace","test","init","__proto__","rotation-x","DoubleSide","115950wsiziX","apply","Color","error","lights","1347666WnUEoG","length","wrapT","#999","RepeatWrapping","color","whiteFloorMesh","uniforms","debu","exception","info"];return(j=function(){return t})()}const E=e({__name:x(356),props:{size:{default:[20,20]},color:{default:x(320)},shadowColor:{default:x(353)},edge:{default:.35}},async setup(n){const e=x;let h,d;const g=n,m=a(),{map:_}=([h,d]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_.wrapS=_[e(352)]=t[e(354)];const y={uniforms:o.merge([t[e(365)][e(349)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(347)])(g[e(355)])},uShadowColor:{value:new(t[e(347)])(g[e(318)])},fEdge:{type:"f",value:g.edge}}]),side:t[e(344)],vertexShader:w(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>g.edge),(t=>{const n=e;y[n(357)][n(336)][n(327)]=t})),s((()=>g[e(355)]),(n=>{const o=e;y[o(357)].uColor[o(327)]=new(t[o(347)])(g[o(355)])})),s((()=>g.shadowColor),(n=>{const o=e;y[o(357)][o(316)][o(327)]=new(t[o(347)])(g[o(318)])})),(t,n)=>{const o=e;return u(),i(o(364),{ref_key:"tmRef",ref:m,"rotation-x":-Math.PI/2},[f(o(325),{args:g[o(324)]},null,8,S),f(o(332),l(p(y)),null,16)],8,b)}}});function M(t){function n(t){const o=C;if("string"==typeof t)return function(t){}.constructor(o(338)).apply("counter");1!==(""+t/t)[o(351)]||t%20==0?function(){return!0}[o(326)](o(358)+"gger")[o(317)]("action"):function(){return!1}.constructor(o(358)+o(367))[o(346)](o(333)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
