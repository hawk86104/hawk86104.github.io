var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.7YyvCYch1731055558423.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.knjSAXhm1731055558423.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.deNl1w3R1731055558423.js";import{k as o,U as s,C as l,m as c,W as u,bb as p,h as f,_ as x,M as v,V as m}from"./three.3b9CEYeV1731055558423.js";import{m as w,e as h}from"./@tresjs.KsuCtVXf1731055558423.js";import{u as g}from"./index.4qvnjoNo1731055558423.js";import{F as d,C as y}from"./three-stdlib.l7tW0NL21731055558423.js";import{d as S}from"./@vue.u2cBPEWn1731055558423.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.yTH5pbBI1731055558423.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.Fsq3VeOw1731055558423.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.1KgNZ1AG1731055558423.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.5o6GzX_j1731055558423.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.uPyyf0YI1731055558423.js";const P=_;function _(t,e){const n=I();return(_=function(t,e){return n[t-=113]})(t,e)}!function(t,e){const n=_,r=I();for(;;)try{if(221410===parseInt(n(147))/1*(-parseInt(n(134))/2)+-parseInt(n(130))/3+-parseInt(n(122))/4*(parseInt(n(118))/5)+parseInt(n(135))/6*(parseInt(n(136))/7)+parseInt(n(140))/8+-parseInt(n(114))/9*(-parseInt(n(131))/10)+-parseInt(n(116))/11)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const z=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){z(this,(function(){const t=_,e=new RegExp(t(146)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=E(t(119));e[t(142)](r+t(138))&&n.test(r+t(126))?E():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[_(132)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function I(){const t=['{}.constructor("return this")( )',"test","toString","stateObject","call","function *\\( *\\)","2KqNfpI","exception",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"1053603fygOUf","gger","2180926wjUXYb","prototype","1025xceVBo","init","length","warn","1356TeCDra","while (true) {}","string","counter","input","debu","return (function() ","console","75084MUOPhJ","10iYPdwr","apply","constructor","300366wlCyvp","60yIxTFV","265713ryOmNB","trace","chain","bind","2543264xsgGiY"];return(I=function(){return t})()}b(void 0,(function(){const t=_;let e;try{e=Function(t(128)+t(141)+");")()}catch(i){e=window}const n=e.console=e[t(129)]||{},r=["log",t(121),"info","error",t(148),"table",t(137)];for(let a=0;a<r.length;a++){const e=b[t(133)][t(117)][t(139)](b),i=r[a],o=n[i]||e;e.__proto__=b[t(139)](b),e.toString=o[t(143)][t(139)](o),n[i]=e}}))();const M=P(113);function E(t){function e(t){const n=_;if(typeof t===n(124))return function(t){}[n(133)](n(123))[n(132)](n(125));1!==(""+t/t)[n(120)]||t%20==0?function(){return!0}[n(133)](n(127)+n(115))[n(145)]("action"):function(){return!1}[n(133)](n(127)+"gger").apply(n(144)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=D;function D(t,e){const n=T();return(D=function(t,e){return n[t-=441]})(t,e)}!function(t,e){const n=D,r=T();for(;;)try{if(882127===-parseInt(n(458))/1+parseInt(n(447))/2*(-parseInt(n(478))/3)+parseInt(n(445))/4*(parseInt(n(441))/5)+-parseInt(n(470))/6+parseInt(n(464))/7*(-parseInt(n(474))/8)+-parseInt(n(449))/9*(parseInt(n(460))/10)+parseInt(n(453))/11*(parseInt(n(475))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[D(471)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){L(this,(function(){const t=D,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(481),"i"),r=V(t(479));e[t(442)](r+t(446))&&n[t(442)](r+t(469))?V():r("0")}))()}();const U=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function O(t){const e=D,n=a({},t);return e(466)in t&&(n[e(466)]=a({},t.defines)),e(462)in t&&(n[e(462)]=s.clone(t[e(462)])),n}function T(){const t=["33469942cLCWrE","gger","toString","debu","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","1084725lQqbDt","warn","100TBgdgP","error","uniforms",'{}.constructor("return this")( )',"8810221TOCZli","table","defines","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","log","input","6012336DrotQK","apply","trace","bind","8ZsUYgP","24lQAWWj","exception","info","39mNAQxR","init","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","74215BDHocl","test","length","string","144IXuYLk","chain","119834zHrlly","prototype","1452024IKpKhZ","console","return (function() ","constructor"];return(T=function(){return t})()}U(void 0,(function(){const t=D,e=function(){const t=D;let e;try{e=Function(t(451)+t(463)+");")()}catch(n){e=window}return e}(),n=e[t(450)]=e[t(450)]||{},r=[t(468),t(459),t(477),t(461),t(476),t(465),t(472)];for(let i=0;i<r[t(443)];i++){const e=U[t(452)][t(448)][t(473)](U),a=r[i],o=n[a]||e;e.__proto__=U[t(473)](U),e[t(455)]=o[t(455)][t(473)](o),n[a]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:A(457)+M+A(467)};function V(t){function e(t){const n=D;if(typeof t===n(444))return function(t){}[n(452)]("while (true) {}").apply(n(480));1!==(""+t/t)[n(443)]||t%20==0?function(){return!0}.constructor(n(456)+n(454)).call("action"):function(){return!1}[n(452)](n(456)+n(454))[n(471)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function C(){const t=["warn","image","type","setSize","map",'{}.constructor("return this")( )',"action","getClearAlpha","render","function *\\( *\\)","autoClear","tDiffuse","floor","call","camera","info","copy","while (true) {}","5416DXsZzr","stateObject","_mipQuad","table","counter","fragmentShader","constructor","dispose","update","test","uniforms","setViewOffset","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","floorPowerOfTwo","minFilter","parentLevel","160APwHYB","toString","debu","4149oWZNMl","prototype","__proto__","magFilter","_copyQuad","width","string","_swapTarget","material","clear","setRenderTarget","setClearAlpha","defines","height","originalMapSize","894AkhPNG","getClearColor","setClearColor","isWebGLRenderTarget","bind","exception","_mipMaterials","Y_IS_EVEN","parentMapSize","14298GgaMxD","23183970CPzxff","init","return (function() ","1808880pvfZsl","X_IS_EVEN","set","forEach","value","texture","length","204215dYEvPd","apply","970892dwWFGl","error","49847SGXcLI"];return(C=function(){return t})()}function R(t,e){const n=C();return(R=function(t,e){return n[t-=361]})(t,e)}const k=R;!function(t,e){const n=R,r=C();for(;;)try{if(729022===-parseInt(n(400))/1+parseInt(n(391))/2+-parseInt(n(387))/3*(parseInt(n(437))/4)+parseInt(n(398))/5+-parseInt(n(378))/6*(parseInt(n(402))/7)+-parseInt(n(421))/8*(parseInt(n(363))/9)+parseInt(n(388))/10)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const Z=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[R(399)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=R,e=new RegExp(t(412)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=X(t(389));e[t(430)](r+"chain")&&n.test(r+"input")?X():r("0")}))()}();const N=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[R(399)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();N(void 0,(function(){const t=R,e=function(){const t=R;let e;try{e=Function(t(390)+t(408)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},r=["log",t(403),t(418),t(401),t(383),t(424),"trace"];for(let i=0;i<r[t(397)];i++){const e=N[t(427)][t(364)][t(382)](N),a=r[i],o=n[a]||e;e[t(365)]=N[t(382)](N),e.toString=o[t(361)].bind(o),n[a]=e}}))();const W=new l;class F{constructor(t){const e=R;!t&&(t=e(433));const n=O(j);n.fragmentShader=n[e(426)].replace(/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(O(n)),r[0][e(375)][e(392)]=0,r[0][e(375)].Y_IS_EVEN=0,r[1]=new c(O(n)),r[1][e(375)][e(392)]=1,r[1][e(375)][e(385)]=0,r[2]=new c(O(n)),r[2][e(375)][e(392)]=0,r[2][e(375)][e(385)]=1,r[3]=new c(O(n)),r[3][e(375)][e(392)]=1,r[3][e(375)][e(385)]=1;const i=new u;i.texture[e(435)]=p,i[e(396)][e(366)]=p,this[e(370)]=i,this[e(367)]=new d(new c(y)),this[e(423)]=new d(null),this[e(384)]=r}[k(429)](t,e,n,r=!1){const i=k;t[i(381)]&&(t=t[i(396)]);const o=n.autoClear,s=n[i(410)](),l=n.getRenderTarget();n[i(379)](W);const c=this[i(367)],u=this[i(423)],p=this._swapTarget,x=this[i(384)];let v,m;r?(v=f[i(434)](t[i(404)].width),m=f[i(434)](t.image.height)):(v=Math[i(415)](t[i(404)][i(368)]),m=Math[i(415)](t.image[i(376)]));const w=Math[i(415)](1.5*v),h=Math.floor(m);e[i(406)](w,h),p[i(396)][i(405)]!==e[i(396)][i(405)]?(p[i(428)](),p[i(419)](e),p.texture[i(404)]=a({},p[i(396)].image)):p[i(406)](w,h),n.autoClear=!1,n[i(380)](0),n[i(374)](),c.material.uniforms[i(414)][i(395)]=t,c.camera[i(432)](v,m,0,0,w,h),n.setRenderTarget(e),n[i(372)](),c.render(n),n.setRenderTarget(p),n[i(372)](),c.render(n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[i(407)][i(395)]=p.texture,t[i(431)][i(436)][i(395)]=y,t.uniforms[i(386)][i(395)].set(g,d),t.uniforms[i(377)].value[i(393)](v,m),u[i(371)]=t,g=Math[i(415)](g/2),d=Math.floor(d/2);const r=h-2*d;n[i(373)](e),u[i(417)].setViewOffset(g,d,-v,-r,w,h),u[i(411)](n),n[i(373)](p),t.uniforms.map.value=e[i(396)],u.render(n),y++}return n.setRenderTarget(l),n[i(374)](s),n.setClearColor(W),n[i(413)]=o,y+1}[k(428)](){const t=k;this[t(370)][t(428)](),this[t(423)][t(428)](),this[t(367)].dispose(),this[t(384)][t(394)]((e=>e[t(428)]()))}}function X(t){function e(t){const n=R;if(typeof t===n(369))return function(t){}[n(427)](n(420))[n(399)](n(425));1!==(""+t/t)[n(397)]||t%20==0?function(){return!0}[n(427)](n(362)+"gger")[n(416)](n(409)):function(){return!1}.constructor(n(362)+"gger")[n(399)](n(422)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=G;!function(t,e){const n=G,r=B();for(;;)try{if(432607===parseInt(n(499))/1+-parseInt(n(486))/2*(-parseInt(n(529))/3)+-parseInt(n(494))/4+-parseInt(n(469))/5+parseInt(n(468))/6+-parseInt(n(512))/7+parseInt(n(515))/8*(-parseInt(n(523))/9))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const H=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[G(488)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){H(this,(function(){const t=G,e=new RegExp(t(520)),n=new RegExp(t(474),"i"),r=$(t(476));e.test(r+t(492))&&n[t(489)](r+t(510))?$():r("0")}))()}();const Q=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[G(488)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function G(t,e){const n=B();return(G=function(t,e){return n[t-=460]})(t,e)}function B(){const t=["__proto__","debu","render","4042134BEXLKA","1862015UKrSsX","negate","matrixWorldInverse","visible","elements","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","updateMatrixWorld","init","projectionMatrix","multiplyScalar","getWorldQuaternion","trace","getRenderTarget","getWorldPosition","copy","log","error","3876azpFZM","info","apply","test","applyQuaternion",'{}.constructor("return this")( )',"chain","ignoreObjects","1274700BsIIEU","Vector3","exception","state","dot","48366VzFSvl","counter","resolution","PerspectiveCamera","update","return (function() ","set","bind","clear","gger","forEach","input","while (true) {}","224679aKBwCV","warn","sub","189128wgXGyK","constructor","add","reflectorMipMap","Vector4","function *\\( *\\)","autoClear","projectPoint","9yJdWTX","multiply","Plane","value","normal","Quaternion","708mBOviO","parent","depth","length","table","toString","setRenderTarget","reflect","UnsignedByteType","setMask","call","clone","applyMatrix4"];return(B=function(){return t})()}Q(void 0,(function(){const t=G;let e;try{e=Function(t(504)+t(491)+");")()}catch(i){e=window}const n=e.console=e.console||{},r=[t(484),t(513),t(487),t(485),t(496),t(533),t(480)];for(let a=0;a<r[t(532)];a++){const e=Q.constructor.prototype[t(506)](Q),i=r[a],o=n[i]||e;e[t(465)]=Q.bind(Q),e.toString=o[t(534)][t(506)](o),n[i]=e}}))();const K=S({__name:Y(518),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,r=t,i=new(x[n(525)]),a=new v,o=new(x[n(502)]),s=new F,l=g({width:r.resolution,height:r[n(501)],settings:{type:x[n(460)]}}),c=g({width:r[n(501)],height:r[n(501)],settings:{type:x[n(460)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:d}=h();return d((()=>{const t=n;(()=>{const t=n;if(!u[t(526)])return;i.set(new(x[t(495)])(0,1,0),0),i[t(464)](r.parent.matrixWorld),o[t(483)](u[t(526)]);const e=new(x[t(495)])(0,0,1)[t(463)]()[t(470)](),s=u[t(526)][t(482)](new(x[t(495)]));e[t(536)](i[t(527)]);const c=new m;i[t(522)](s,c);const w=c[t(463)]();w[t(514)](s),w.add(c),o.position[t(483)](w);const h=new m(0,0,-1);h[t(490)](u[t(526)][t(479)](new(x[t(528)]))),h.add(s);const g=new m;r[t(530)][t(482)](g),g[t(514)](h),g[t(536)](i.normal).negate(),g[t(517)](r[t(530)][t(482)](new(x[t(495)]))),o.up[t(505)](0,1,0),o[t(490)](u[t(526)][t(479)](new(x[t(528)]))),o.up.reflect(i[t(527)]),o.lookAt(g),o[t(475)]();const d=new v;d.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(524)](o.projectionMatrix),d.multiply(o[t(471)]),a.copy(d),i.applyMatrix4(o[t(471)]);const y=new(x[t(519)])(i[t(527)].x,i[t(527)].y,i[t(527)].z,i.constant),S=o[t(477)],P=new(x[t(519)]);P.x=(Math.sign(y.x)+S[t(473)][8])/S[t(473)][0],P.y=(Math.sign(y.y)+S.elements[9])/S[t(473)][5],P.z=-1,P.w=(1+S.elements[10])/S.elements[14],y[t(478)](2/y[t(498)](P)),S[t(473)][2]=y.x,S[t(473)][6]=y.y,S.elements[10]=y.z+1,S.elements[14]=y.w;const _=p[t(526)][t(481)]();p[t(526)].setRenderTarget(l[t(526)]),p.value[t(497)].buffers[t(531)][t(461)](!0),!1===p[t(526)][t(521)]&&p[t(526)][t(507)](),r[t(493)][t(509)]((e=>e[t(472)]=!1)),p[t(526)][t(467)](f[t(526)],o),r.ignoreObjects[t(509)]((e=>e[t(472)]=!0)),p[t(526)][t(535)](_)})(),l[t(526)]&&c[t(526)]&&p.value&&s[t(503)](l.value.texture,c.value,p[t(526)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(t){function e(t){const n=G;if("string"==typeof t)return function(t){}[n(516)](n(511))[n(488)](n(500));1!==(""+t/t)[n(532)]||t%20==0?function(){return!0}[n(516)](n(466)+"gger")[n(462)]("action"):function(){return!1}[n(516)]("debu"+n(508))[n(488)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,r=et();;)try{if(362453===-parseInt(n(213))/1*(parseInt(n(212))/2)+parseInt(n(195))/3+parseInt(n(200))/4*(parseInt(n(222))/5)+parseInt(n(221))/6+-parseInt(n(196))/7*(-parseInt(n(201))/8)+parseInt(n(209))/9*(-parseInt(n(217))/10)+-parseInt(n(210))/11*(parseInt(n(228))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var q=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){var t=tt,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(205),"i"),r=nt(t(223));e.test(r+t(199))&&n[t(225)](r+t(204))?nt():r("0")}))()}();var J=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[tt(206)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function tt(t,e){var n=et();return(tt=function(t,e){return n[t-=192]})(t,e)}function et(){var t=["warn","96FAjqRP","constructor","exception","stateObject","667953ukyvbQ","168pMpTZE","gger","prototype","chain","12448rQDYEu","72304oWfPOC","log","counter","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","trace","while (true) {}","54837fSOBCK","756195nUCQnS","call","220QVbZQN","617ZsYLdi","bind","debu",'{}.constructor("return this")( )',"830XEzaCD","return (function() ","toString","length","2264154fihuXF","1075PZMSMC","init","table","test","console"];return(et=function(){return t})()}function nt(t){function e(t){var n=tt;if("string"==typeof t)return function(t){}[n(192)](n(208))[n(206)](n(203));1!==(""+t/t).length||t%20==0?function(){return!0}[n(192)](n(215)+n(197))[n(211)]("action"):function(){return!1}[n(192)](n(215)+n(197))[n(206)](n(194)),e(++t)}try{if(t)return e;e(0)}catch(n){}}J(void 0,(function(){var t,e=tt;try{t=Function(e(218)+e(216)+");")()}catch(l){t=window}for(var n=t.console=t[e(226)]||{},r=[e(202),e(227),"info","error",e(193),e(224),e(207)],i=0;i<r[e(220)];i++){var a=J[e(192)][e(198)][e(214)](J),o=r[i],s=n[o]||a;a.__proto__=J[e(214)](J),a[e(219)]=s[e(219)].bind(s),n[o]=a}}))();export{K as _};
