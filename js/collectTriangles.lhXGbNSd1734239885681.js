import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.qWeugQU61734239885681.js";import{_ as s}from"./index.Aoi7FiU71734239885681.js";import{_ as i,X as c,a as u,B as a,cB as l}from"./three.NPKhDGTA1734239885681.js";import{P as p}from"./tweakpane.yHWGBmom1734239885681.js";import{I as f,C as g,N as m,c as h,d,a as y}from"./three-mesh-bvh.VXqmm2ua1734239885681.js";import{d as w,a6 as j,b,a3 as I,o as _,D as v,J as x,u as T,F as z,r as C,e as M,j as A,g as k,m as B,f as E,al as R}from"./@vue.-THQH3GC1734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./index.ELpkXLrK1734239885681.js";import"./@fesjs.1fC4qdx91734239885681.js";import"./vue-router.KCZH8FnA1734239885681.js";import"./lodash-es.kYt-_xTG1734239885681.js";import"./@qlin.yHhFDldE1734239885681.js";import"./pinia.XvNnwauR1734239885681.js";import"./vue-demi.C4xddsk91734239885681.js";import"./@floating-ui.BPbuo5Gx1734239885681.js";import"./@juggle.7yjBMqoW1734239885681.js";import"./chalk.w3XuUwyA1734239885681.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1734239885681.js";import"./@iconify.3mYF4lU71734239885681.js";import"./dompurify.rQUea5mq1734239885681.js";import"./utils.ec4of7XB1734239885681.js";import"./default.vue_vue_type_script_setup_true_lang.UwRrZJ5a1734239885681.js";import"./three-mesh-ui.module.V3b-st8W1734239885681.js";!function(t,n){const e=O,r=Y();for(;;)try{if(480434===-parseInt(e(267))/1*(parseInt(e(285))/2)+parseInt(e(312))/3+-parseInt(e(274))/4*(parseInt(e(271))/5)+-parseInt(e(310))/6+-parseInt(e(282))/7+-parseInt(e(266))/8*(-parseInt(e(302))/9)+parseInt(e(277))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(270)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(t,n){const e=Y();return(O=function(t,n){return e[t-=263]})(t,n)}!function(){S(this,(function(){const t=O,n=new RegExp(t(292)),e=new RegExp(t(286),"i"),r=Z(t(281));n[t(303)](r+"chain")&&e[t(303)](r+"input")?Z():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(270)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(){const t=["touch","counter","prototype","toString","54jybqPr","test","firstHitOnly","clientY","string","button","debu","log","3805752DqaSYh","stateObject","238611nlyOmc","info","gger","length","876584GhmPej","1xnYGgT","innerHeight","Raycaster","apply","2371865FgwqqY","call","innerWidth","8QfQPpN","clientX","console","22861580UtGlAV","exception",'{}.constructor("return this")( )',"error","init","2816590bVTIBX","bind","addEventListener","1114582CEBkHr","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","setFromCamera","pointermove","warn","table","function *\\( *\\)","value","constructor","pointerdown","return (function() ","pointerup"];return(Y=function(){return t})()}X(void 0,(function(){const t=O,n=function(){const t=O;let n;try{n=Function(t(296)+t(279)+");")()}catch(e){n=window}return n}(),e=n[t(276)]=n[t(276)]||{},r=[t(309),t(290),t(263),t(280),t(278),t(291),"trace"];for(let o=0;o<r[t(265)];o++){const n=X[t(294)][t(300)][t(283)](X),s=r[o],i=e[s]||n;n.__proto__=X.bind(X),n[t(301)]=i[t(301)][t(283)](i),e[s]=n}}))();function Z(t){function n(t){const e=O;if(typeof t===e(306))return function(t){}[e(294)](e(287))[e(270)](e(299));1!==(""+t/t)[e(265)]||t%20==0?function(){return!0}[e(294)](e(308)+"gger")[e(272)]("action"):function(){return!1}[e(294)](e(308)+e(264))[e(270)](e(311)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=L;!function(t,n){const e=L,r=Q();for(;;)try{if(958605===-parseInt(e(322))/1*(-parseInt(e(342))/2)+parseInt(e(369))/3*(parseInt(e(338))/4)+-parseInt(e(320))/5+-parseInt(e(355))/6*(-parseInt(e(361))/7)+parseInt(e(363))/8*(-parseInt(e(362))/9)+parseInt(e(378))/10+parseInt(e(337))/11*(-parseInt(e(357))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(392)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){const t=L,n=new RegExp(t(411)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=U(t(372));n[t(323)](r+t(334))&&e[t(323)](r+"input")?U():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(392)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(){const t=["value","TresMeshStandardMaterial","Sphere",'{}.constructor("return this")( )',"setX","boundsTree","apply","toString","scale","controls","gger","getX","debu","setFromCamera","needsUpdate","center","applyMatrix4","invert","#023249","string","counter","Vector2","index","targetMesh.value init","BufferGeometry","function *\\( *\\)","getZ","BufferAttribute","instance","1150865DfckpW","intersectsBox","1taPJao","test","length","bind","prototype","count","log","setAttribute","geometry","intersectsSphere","radius","addButton","chain","visible","点击按钮","407fryJyN","37868pWungE","生成模型","set","trace","3831918hQxPCm","call","stateObject","model","enabled","intersectObject","Matrix4","fill","__proto__","copy","disposeBoundsTree","console","position","426bTfwpo","push","237324lQiCMG","getY","setScalar","setUsage","12159mgjYSZ","531cCtcps","171984hYwPNw","attributes","normal","brushMesh","point","containsPoint","3fNVMvD","color","exception","init","error","TresSphereGeometry","return (function() ","material","Mesh","11401560XHzzAq","MeshStandardMaterial","matrixWorld","TresMesh","setY","targetMesh","constructor","Vector3"];return(Q=function(){return t})()}F(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(375)+t(389)+");")()}catch(e){n=window}return n}(),e=n[t(353)]=n[t(353)]||{},r=[t(328),"warn","info",t(373),t(371),"table",t(341)];for(let o=0;o<r.length;o++){const n=F[t(384)][t(326)][t(325)](F),s=r[o],i=e[s]||n;n[t(350)]=F[t(325)](F),n[t(393)]=i[t(393)][t(325)](i),e[s]=n}}))();const W=[P(330),P(376)],G=[P(330)],H=w({__name:P(345),props:{controls:{}},async setup(r){const o=P;let s,w;const C=r;(()=>{const t=L;a[t(326)].computeBoundsTree=h,a.prototype[t(352)]=d,i[t(377)][t(326)].raycast=y})();const M=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),A=new(i[o(379)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*M.attributes[o(354)][o(327)]);k[o(349)](255);const B=new(i[o(318)])(k,3,!0);B[o(360)](c),M[o(329)](o(370),B);const E=b(null),R=b(null),S=b(!1),X=b(-1),Y=b(.2),Z=new(i[o(407)]),{camera:q,raycaster:F}=t(),Q=15/255,H=78/255,U=85/255;let $=null;I((()=>{const t=o;E[t(386)]&&(console.log(t(409),E[t(386)]),E[t(386)][t(330)].computeBoundsTree(),$=M[t(391)],((t,n,e,r,o,s)=>{const c=O;window[c(284)](c(289),(e=>{const r=c;t.x=e[r(275)]/window[r(273)]*2-1,t.y=-e[r(305)]/window.innerHeight*2+1,n[r(293)]=!0})),window[c(284)](c(295),(u=>{const a=c;t.x=u.clientX/window[a(273)]*2-1,t.y=-u.clientY/window[a(268)]*2+1,r.value=u[a(307)];const l=new(i[a(269)]);l[a(288)](t,e[a(293)]),l[a(304)]=!0;const p=l.intersectObject(o.value,!0);n[a(293)]=!0,s.enabled=0===p[a(265)]}),!0),window[c(284)](c(297),(t=>{const e=c;r[e(293)]=-1,t.pointerType===e(298)&&(n[e(293)]=!1)}),!0)})(Z,S,q,X,E,C.controls.instance))}));const{onLoop:D}=n();D((()=>{const t=o,n=M[t(408)];if(R[t(386)])if(C.controls[t(319)].active||!S[t(386)])R[t(386)][t(335)]=!1;else{R[t(386)][t(394)][t(359)](Y[t(386)]),F.value[t(399)](Z,q[t(386)]),F[t(386)].firstHitOnly=!0;const e=F[t(386)][t(347)](E[t(386)],!0);if(e[t(324)]){R[t(386)].position[t(351)](e[0][t(367)]),C.controls[t(319)][t(346)]=!1,R[t(386)][t(335)]=!0;const r=new(i[t(348)]);r[t(351)](E[t(386)][t(380)])[t(403)]();const o=new(i[t(388)]);o[t(401)].copy(R[t(386)][t(354)])[t(402)](r),o[t(332)]=100*Y[t(386)];const s=[],c=new(i[t(385)]);if(null==$||$.shapecast({intersectsBounds:n=>{const e=t,r=o[e(321)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(340)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(368)](c))return f;return g}return r?f:m},intersectsTriangle:(n,e,r)=>{if(r||n[t(331)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===X.value||2===X.value){let e=1,r=1,o=1;0===X.value&&(e=Q,r=H,o=U);for(let i=0,c=s[t(324)];i<c;i++){const c=n[t(397)](s[i]);B[t(390)](c,e),B[t(382)](c,r),B.setZ(c,o)}B[t(400)]=!0}}else R[t(386)].visible=!1,C[t(395)][t(319)][t(346)]=!0}}));const J=(new p)[o(333)]({title:o(336),label:o(339)}),N=new(i[o(410)]);return J.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<B[t(327)];o++)B.getX(o)===Q&&B[t(358)](o)===H&&B.getZ(o)===U&&(n[t(356)](M[t(364)][t(354)][t(397)](o),M[t(364)][t(354)][t(358)](o),M[t(364)][t(354)][t(412)](o)),e.push(M.attributes[t(365)].getX(o),M[t(364)][t(365)][t(358)](o),M[t(364)][t(365)][t(412)](o)));const r=new Float32Array(n);N.setAttribute(t(354),new(i[t(318)])(r,3)),N[t(329)]("normal",new u(r,3))})),(t,n)=>{const e=o;return _(),v(z,null,[x(e(381),{ref_key:e(383),ref:E,geometry:T(M),scale:.005,material:T(A)},null,8,W),x(e(381),{ref_key:e(366),ref:R,visible:!1},n[0]||(n[0]=[x(e(374),{args:[1,40,40]},null,-1),x(e(387),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(381),{geometry:T(N),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(387),{color:e(404),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,G)],64)}}});function L(t,n){const e=Q();return(L=function(t,n){return e[t-=318]})(t,n)}function U(t){function n(t){const e=L;if(typeof t===e(405))return function(t){}[e(384)]("while (true) {}")[e(392)](e(406));1!==(""+t/t)[e(324)]||t%20==0?function(){return!0}[e(384)](e(398)+"gger")[e(343)]("action"):function(){return!1}.constructor(e(398)+e(396))[e(392)](e(344)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=N;!function(t,n){const e=N,r=V();for(;;)try{if(180317===-parseInt(e(217))/1*(-parseInt(e(193))/2)+-parseInt(e(199))/3+parseInt(e(210))/4+parseInt(e(224))/5+parseInt(e(188))/6*(-parseInt(e(203))/7)+-parseInt(e(205))/8*(parseInt(e(183))/9)+-parseInt(e(215))/10*(-parseInt(e(197))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(198)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=N,n=new RegExp(t(194)),e=new RegExp(t(219),"i"),r=tt("init");n.test(r+"chain")&&e[t(225)](r+t(211))?tt():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(198)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(t,n){const e=V();return(N=function(t,n){return e[t-=181]})(t,n)}function V(){const t=["trace","neg-y.jpg","137250WtEpeR","test","length","#999999","63kzxKMT","stateObject","action","collectTriangles","call","1362LQOFuc","error","console","constructor","pos-y.jpg","19418iaCXgJ","function *\\( *\\)","warn","controlsRef","34078jEsnAT","apply","122523zOgzyd","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","while (true) {}","gger","9569QLEyWQ","string","287896QovWZn","pos-z.jpg","pos-x.jpg","TresAmbientLight","log","188252CYWYKz","input","bind","value","exception","1630BylhjW","neg-z.jpg","21oLlwMU","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"__proto__"];return(V=function(){return t})()}J(void 0,(function(){const t=N;let n;try{n=Function("return (function() "+t(220)+");")()}catch(o){n=window}const e=n[t(190)]=n[t(190)]||{},r=[t(209),t(195),"info",t(189),t(214),"table",t(222)];for(let s=0;s<r[t(181)];s++){const n=J[t(191)].prototype[t(212)](J),o=r[s],i=e[o]||n;n[t(221)]=J[t(212)](J),n.toString=i.toString[t(212)](i),e[o]=n}}))();const K=w({__name:$(186),setup(t){const n=$,e=C({clearColor:n(182),antialias:!0}),i=C({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=M("TresCanvas");return _(),v(z,null,[A(T(s)),A(l,B(e,{"window-size":""}),{default:k((()=>[u[0]||(u[0]=x("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),A(T(r),B({ref_key:a(196),ref:c},i),null,16),u[1]||(u[1]=x(a(208),{intensity:1},null,-1)),(_(),E(R,null,{default:k((()=>[A(H,{controls:c[a(213)]},null,8,["controls"])])),_:1})),(_(),E(R,null,{default:k((()=>[A(T(o),{background:!1,files:[a(207),"neg-x.jpg",a(192),a(223),a(206),a(216)],path:a(200)})])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=N;if(typeof t===e(204))return function(t){}[e(191)](e(201))[e(198)]("counter");1!==(""+t/t)[e(181)]||t%20==0?function(){return!0}[e(191)]("debu"+e(202))[e(187)](e(185)):function(){return!1}[e(191)](e(218)+"gger")[e(198)](e(184)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
