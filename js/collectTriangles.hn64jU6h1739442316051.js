import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.4XV_x0mI1739442316051.js";import{_ as s}from"./index.peLcCKiz1739442316051.js";import{_ as i,B as c,r as u,cv as a}from"./three.OosFxi571739442316051.js";import{P as l}from"./tweakpane.yDiyAAkA1739442316051.js";import{I as f,C as p,N as g,c as h,d as m,a as d}from"./three-mesh-bvh.ZvwtLaXH1739442316051.js";import{d as y,a3 as w,b,a2 as j,o as v,H as I,N as _,u as x,F as T,r as A,e as B,j as M,g as k,m as z,f as C,al as S}from"./@vue.NRI7TcgI1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./index.0OIxWh-r1739442316051.js";import"./@fesjs.DgjXCZoG1739442316051.js";import"./vue-router.bqZmV3c61739442316051.js";import"./lodash-es.pklfUAS51739442316051.js";import"./@qlin.yHhFDldE1739442316051.js";import"./pinia.ptJyy4pp1739442316051.js";import"./@floating-ui.BPbuo5Gx1739442316051.js";import"./@juggle.7yjBMqoW1739442316051.js";import"./chalk.9FGrMJNn1739442316051.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1739442316051.js";import"./@iconify.dt4P0LGS1739442316051.js";import"./dompurify.rQUea5mq1739442316051.js";import"./utils.dE3llCdc1739442316051.js";import"./default.vue_vue_type_script_setup_true_lang.LiTro9cW1739442316051.js";import"./three-mesh-ui.module.l-OKIKjD1739442316051.js";!function(t,n){const e=Y,r=E();for(;;)try{if(607990===parseInt(e(266))/1*(parseInt(e(271))/2)+-parseInt(e(282))/3*(-parseInt(e(260))/4)+parseInt(e(275))/5+parseInt(e(280))/6+-parseInt(e(281))/7*(-parseInt(e(286))/8)+parseInt(e(245))/9*(parseInt(e(272))/10)+-parseInt(e(254))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(274)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=Y,n=new RegExp(t(265)),e=new RegExp(t(255),"i"),r=F("init");n[t(263)](r+t(284))&&e[t(263)](r+t(291))?F():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(274)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(t,n){const e=E();return(Y=function(t,n){return e[t-=245]})(t,n)}function E(){const t=["setFromCamera","input","counter","while (true) {}","innerWidth","9ucdUaB","bind","stateObject","return (function() ",'{}.constructor("return this")( )',"pointerdown","intersectObject","info","log","31468459MBlZWo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","Raycaster","action","touch","2101208PqITTy","error","clientY","test","debu","function *\\( *\\)","5809GBUiiB","enabled","toString","pointermove","exception","174SXYUfl","8178220fCcAtp","clientX","apply","3114350ENKRKQ","addEventListener","firstHitOnly","prototype","constructor","304620YgKkff","1656571ZByguT","3ihpclO","pointerType","chain","value","32YoANJi","console","gger","button"];return(E=function(){return t})()}O(void 0,(function(){const t=Y;let n;try{n=Function(t(248)+t(249)+");")()}catch(o){n=window}const e=n[t(287)]=n[t(287)]||{},r=[t(253),"warn",t(252),t(261),t(270),"table","trace"];for(let s=0;s<r[t(256)];s++){const n=O.constructor[t(278)].bind(O),o=r[s],i=e[o]||n;n.__proto__=O[t(246)](O),n[t(268)]=i[t(268)].bind(i),e[o]=n}}))();function F(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(279)](e(293)).apply(e(292));1!==(""+t/t)[e(256)]||t%20==0?function(){return!0}[e(279)](e(264)+e(288)).call(e(258)):function(){return!1}[e(279)]("debu"+e(288)).apply(e(247)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function R(t,n){const e=J();return(R=function(t,n){return e[t-=231]})(t,n)}const X=R;!function(t,n){const e=R,r=J();for(;;)try{if(549994===-parseInt(e(233))/1+-parseInt(e(281))/2*(parseInt(e(239))/3)+parseInt(e(316))/4*(parseInt(e(308))/5)+parseInt(e(309))/6*(parseInt(e(288))/7)+-parseInt(e(243))/8*(-parseInt(e(265))/9)+parseInt(e(268))/10*(-parseInt(e(240))/11)+-parseInt(e(256))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(305)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){H(this,(function(){const t=R,n=new RegExp(t(280)),e=new RegExp(t(310),"i"),r=L("init");n[t(318)](r+t(317))&&e[t(318)](r+t(261))?L():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(305)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=R;let n;try{n=Function(t(284)+t(291)+");")()}catch(o){n=window}const e=n[t(298)]=n[t(298)]||{},r=[t(313),"warn",t(299),"error",t(237),"table",t(296)];for(let s=0;s<r[t(311)];s++){const n=Q[t(307)][t(270)][t(250)](Q),o=r[s],i=e[o]||n;n.__proto__=Q[t(250)](Q),n.toString=i[t(258)][t(250)](i),e[o]=n}}))();const U=[X(315),X(245)],G=[X(315)];function J(){const t=["apply","点击按钮","constructor","5OzGMdB","54tuCaTv","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","instance","log","firstHitOnly","geometry","3530420ygKLXV","chain","test","#023249","model","color","attributes","215799CappJw","Sphere","setY","center","exception","BufferGeometry","115647EdPWzf","118437srJLON","normal","call","7683944prFzQq","set","material","controls","scale","disposeBoundsTree","enabled","bind","index","shapecast","setX","value","intersectObject","660024YeQXZk","active","toString","position","getX","input","targetMesh","raycast","intersectsSphere","9KohlQh","fill","containsPoint","540yElMHC","MeshStandardMaterial","prototype","boundsTree","BufferAttribute","getY","while (true) {}","setAttribute","gger","matrixWorld","TresMesh","computeBoundsTree","function *\\( *\\)","56kQGfYn","copy","Matrix4","return (function() ","setZ","string","push","496601IBtYNL","TresMeshStandardMaterial","Vector3",'{}.constructor("return this")( )',"Vector2","setFromCamera","radius","getZ","trace","DynamicDrawUsage","console","info","intersectsBox","setUsage","生成模型","count","debu"];return(J=function(){return t})()}const K=y({__name:X(320),props:{controls:{}},async setup(r){const o=X;let s,y;const A=r;(()=>{const t=R;c[t(270)][t(279)]=h,c[t(270)][t(248)]=m,u[t(270)][t(263)]=d})();const B=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),M=new(i[o(269)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*B[o(232)][o(259)][o(303)]);k[o(266)](255);const z=new(i[o(272)])(k,3,!0);z[o(301)](i[o(297)]),B[o(275)](o(231),z);const C=b(null),S=b(null),Z=b(!1),O=b(-1),E=b(.2),F=new(i[o(292)]),{camera:H,raycaster:Q}=t(),J=15/255,K=78/255,L=85/255;let N=null;j((()=>{const t=o;C[t(254)]&&(console.log("targetMesh.value init",C[t(254)]),C[t(254)][t(315)][t(279)](),N=B[t(271)],((t,n,e,r,o,s)=>{const c=Y;window[c(276)](c(269),(e=>{const r=c;t.x=e.clientX/window[r(294)]*2-1,t.y=-e[r(262)]/window.innerHeight*2+1,n[r(285)]=!0})),window[c(276)](c(250),(u=>{const a=c;t.x=u[a(273)]/window.innerWidth*2-1,t.y=-u[a(262)]/window.innerHeight*2+1,r.value=u[a(289)];const l=new(i[a(257)]);l[a(290)](t,e.value),l[a(277)]=!0;const f=l[a(251)](o[a(285)],!0);n[a(285)]=!0,s[a(267)]=0===f.length}),!0),window[c(276)]("pointerup",(t=>{const e=c;r.value=-1,t[e(283)]===e(259)&&(n.value=!1)}),!0)})(F,Z,H,O,C,A[t(246)].instance))}));const{onLoop:P}=n();P((()=>{const t=o,n=B[t(251)];if(S.value)if(A[t(246)][t(312)][t(257)]||!Z[t(254)])S.value.visible=!1;else{S.value[t(247)].setScalar(E[t(254)]),Q[t(254)][t(293)](F,H[t(254)]),Q[t(254)][t(314)]=!0;const e=Q[t(254)][t(255)](C.value,!0);if(e.length){S[t(254)].position[t(282)](e[0].point),A[t(246)][t(312)][t(249)]=!1,S.value.visible=!0;const r=new(i[t(283)]);r[t(282)](C[t(254)][t(277)]).invert();const o=new(i[t(234)]);o[t(236)][t(282)](S[t(254)][t(259)]).applyMatrix4(r),o[t(294)]=100*E[t(254)];const s=[],c=new(i[t(290)]);if(null==N||N[t(252)]({intersectsBounds:n=>{const e=t,r=o[e(300)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(244)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(267)](c))return f;return p}return r?f:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(264)](o)){const t=3*e;s[i(287)](t,t+1,t+2)}return!1}}),0===O[t(254)]||2===O[t(254)]){let e=1,r=1,o=1;0===O[t(254)]&&(e=J,r=K,o=L);for(let i=0,c=s[t(311)];i<c;i++){const c=n[t(260)](s[i]);z[t(253)](c,e),z[t(235)](c,r),z[t(285)](c,o)}z.needsUpdate=!0}}else S[t(254)].visible=!1,A[t(246)][t(312)][t(249)]=!0}}));const W=(new l).addButton({title:o(306),label:o(302)}),$=new(i[o(238)]);return W.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<z[t(303)];o++)z[t(260)](o)===J&&z[t(273)](o)===K&&z[t(295)](o)===L&&(n[t(287)](B[t(232)].position.getX(o),B[t(232)][t(259)][t(273)](o),B.attributes[t(259)].getZ(o)),e[t(287)](B[t(232)][t(241)][t(260)](o),B.attributes[t(241)].getY(o),B[t(232)][t(241)][t(295)](o)));const r=new Float32Array(n);$[t(275)](t(259),new(i[t(272)])(r,3)),$[t(275)](t(241),new(i[t(272)])(r,3))})),(t,n)=>{const e=o;return v(),I(T,null,[_(e(278),{ref_key:e(262),ref:C,geometry:x(B),scale:.005,material:x(M)},null,8,U),_(e(278),{ref_key:"brushMesh",ref:S,visible:!1},n[0]||(n[0]=[_("TresSphereGeometry",{args:[1,40,40]},null,-1),_(e(289),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),_(e(278),{geometry:x($),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[_("TresMeshStandardMaterial",{color:e(319),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,G)],64)}}});function L(t){function n(t){const e=R;if(typeof t===e(286))return function(t){}[e(307)](e(274))[e(305)]("counter");1!==(""+t/t)[e(311)]||t%20==0?function(){return!0}[e(307)](e(304)+e(276))[e(242)]("action"):function(){return!1}[e(307)](e(304)+"gger")[e(305)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=W;!function(t,n){const e=W,r=q();for(;;)try{if(236112===parseInt(e(113))/1+-parseInt(e(120))/2*(parseInt(e(106))/3)+-parseInt(e(147))/4*(parseInt(e(114))/5)+-parseInt(e(137))/6+parseInt(e(119))/7+parseInt(e(143))/8+parseInt(e(103))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(117)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=q();return(W=function(t,n){return e[t-=103]})(t,n)}!function(){P(this,(function(){const t=W,n=new RegExp(t(109)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=V(t(136));n[t(121)](r+t(127))&&e.test(r+t(116))?V():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(117)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function q(){const t=["string","gger","collectTriangles","1589416VOJfGa","constructor","counter","debu","1295368SeSuxb","value","bind","neg-z.jpg","prototype","4660632hwlUeA","TresAmbientLight","trace","6YzaQIP","toString","info","function *\\( *\\)","warn","call","TresCanvas","227869AFHnHZ","5uXQnAx","while (true) {}","input","apply","exception","868658DkimQF","278770KDCmvM","test",'{}.constructor("return this")( )',"console","pos-z.jpg","neg-y.jpg","TresPerspectiveCamera","chain","log","action","pos-y.jpg","controls","return (function() ","table","controlsRef","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","init","1378584rvrWTY","length","__proto__"];return(q=function(){return t})()}$(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(132)+t(122)+");")()}catch(e){n=window}return n}(),e=n[t(123)]=n[t(123)]||{},r=[t(128),t(110),t(108),"error",t(118),t(133),t(105)];for(let o=0;o<r[t(138)];o++){const n=$[t(144)][t(151)][t(149)]($),s=r[o],i=e[s]||n;n[t(139)]=$[t(149)]($),n[t(107)]=i[t(107)].bind(i),e[s]=n}}))();const D=y({__name:N(142),setup(t){const n=A({clearColor:"#999999",antialias:!0}),e=A({autoRotate:!1}),i=b(null);return(t,c)=>{const u=W,a=B(u(112));return v(),I(T,null,[M(x(s)),M(a,z(n,{"window-size":""}),{default:k((()=>[c[0]||(c[0]=_(u(126),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),M(x(r),z({ref_key:u(134),ref:i},e),null,16),c[1]||(c[1]=_(u(104),{intensity:1},null,-1)),(v(),C(S,null,{default:k((()=>[M(K,{controls:i[u(148)]},null,8,[u(131)])])),_:1})),(v(),C(S,null,{default:k((()=>[M(x(o),{background:!1,files:["pos-x.jpg","neg-x.jpg",u(130),u(125),u(124),u(150)],path:u(135)})])),_:1}))])),_:1},16)],64)}}});function V(t){function n(t){const e=W;if(typeof t===e(140))return function(t){}[e(144)](e(115))[e(117)](e(145));1!==(""+t/t).length||t%20==0?function(){return!0}[e(144)](e(146)+e(141))[e(111)](e(129)):function(){return!1}.constructor(e(146)+"gger")[e(117)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
