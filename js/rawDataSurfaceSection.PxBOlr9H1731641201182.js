var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,o=(t,o)=>{for(var i in o||(o={}))e.call(o,i)&&a(t,i,o[i]);if(n)for(var i of n(o))r.call(o,i)&&a(t,i,o[i]);return t};import{U as i,c as s}from"./@tresjs.b88d4FZI1731641201182.js";import{a as u,u as c,_ as l}from"./rawData.08idXfUF1731641201182.js";import{a$ as p,_ as f,a0 as d,cT as m}from"./three.-z-VOBM71731641201182.js";import{z as h}from"./three-custom-shader-material.h_zYovtn1731641201182.js";import{P as g}from"./tweakpane.yHWGBmom1731641201182.js";import{d as y,b as x,a as w,r as b,w as _,o as v,D as I,J as j,u as z,j as A,g as R,x as E,F as M,V as T,f as D,H as S,I as k,m as V}from"./@vue.-THQH3GC1731641201182.js";import{z as O,x as L,a5 as F,a6 as B,a7 as G,N as U,a8 as C,a9 as H,t as P,$ as Z,aa as $,v as q,_ as K}from"./@fesjs.Y6wvFf_31731641201182.js";import"./@vueuse.XeXqlNFe1731641201182.js";import"./pinia.KbEhbnNi1731641201182.js";import"./vue-demi.C4xddsk91731641201182.js";import"./vue-router.JI-MlJL41731641201182.js";import"./lodash-es.kYt-_xTG1731641201182.js";import"./@qlin.yHhFDldE1731641201182.js";import"./@floating-ui.BPbuo5Gx1731641201182.js";import"./@juggle.7yjBMqoW1731641201182.js";const N=at;!function(t,n){const e=at,r=W();for(;;)try{if(394832===parseInt(e(321))/1+-parseInt(e(378))/2+parseInt(e(317))/3*(-parseInt(e(316))/4)+parseInt(e(349))/5+parseInt(e(313))/6+parseInt(e(308))/7*(-parseInt(e(327))/8)+-parseInt(e(315))/9*(parseInt(e(352))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[at(359)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(){const t=["171QaQpee","2405732UNFGQt","3vWtuEL","console","function *\\( *\\)","material","329772nYArFn","colorsStops","__proto__","warn","yLength","yExtent","47624ehVOgA","xLength","upperThreshold","length","windowLow","primitive","uniforms","windowHigh","min","z剖面","Matrix4","invert","debu","title","mesh","string","error",'{}.constructor("return this")( )',"max","spacing","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3269535kHFxZK","zLength","table","160990mMtdAM","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","y轴缩放","EdgesGeometry","byteArray","computeMinMax","selectDataType","apply","chain","BoxGeometry","index","return (function() ","RASDimensions","exception","prototype","while (true) {}","toString","object","lowerThreshold","test","visible","extractSlice","bind","repaint","eTexture","gger","370510hkyzUp","stateObject","updateTransferFunction","LineBasicMaterial","change","action","scene","log","dataType","addBinding","value","NormalBlending","49txRPtH","inverseMatrix","repaintAllSlices","call","floor","3272358AppamF","z轴缩放"];return(W=function(){return t})()}!function(){Q(this,(function(){const t=at,n=new RegExp(t(319)),e=new RegExp(t(348),"i"),r=it("init");n.test(r+t(360))&&e[t(371)](r+"input")?it():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[at(359)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=at;let n;try{n=Function(t(363)+t(344)+");")()}catch(a){n=window}const e=n[t(318)]=n[t(318)]||{},r=[t(385),t(324),"info",t(343),t(365),t(351),"trace"];for(let o=0;o<r[t(330)];o++){const n=J[t(347)][t(366)][t(374)](J),a=r[o],i=e[a]||n;n[t(323)]=J[t(374)](J),n[t(368)]=i[t(368)].bind(i),e[a]=n}}))();const X=["scale",N(372)],Y=["scale"],tt=[N(369)],nt=[N(369)],et=[N(369)],rt=[N(369)];function at(t,n){const e=W();return(at=function(t,n){return e[t-=306]})(t,n)}const ot=y({__name:N(384),setup(t){const n=N,e=x(-1),r=x(-1),a=x(.6),i=w((()=>{const t=at;return!(e[t(306)]<=.01&&e[t(306)]>=-.01)&&(!(r[t(306)]<=.01&&r[t(306)]>=-.01)&&!(a[t(306)]<=.01&&a[t(306)]>=-.01))})),s=u(),l=c(),y=(t=>{const n=at,e=new m(l.xExtent,l[n(326)],l.zExtent,l[n(386)][l[n(358)]][n(340)],l[n(356)]);e[n(346)]=[1,1,1],e[n(364)]=[Math.floor(e[n(328)]),Math[n(312)](e[n(325)]),Math[n(312)](e[n(350)])],e.matrix=new(f[n(337)]),e[n(309)]=new(f[n(337)]),e.inverseMatrix.copy(e.matrix)[n(338)]();const r=e[n(357)](),a=r[0],o=r[1];return e[n(331)]=a,e[n(334)]=o,e[n(370)]=a,e.upperThreshold=o,e})(l[n(356)]),A=new p(new(f[n(355)])(new(f[n(361)])(y[n(328)],y[n(325)],y.zLength)),new(f[n(381)])({color:6710886})),R=b({x:Math[n(312)](y[n(364)][0]/2),y:Math[n(312)](y[n(364)][1]/2),z:Math[n(312)](y[n(364)][2]/4)});y[n(334)]=136;const E=y[n(373)]("x",R.x),M=y[n(373)]("y",R.y),T=y[n(373)]("z",R.z),D={vertexShader:"\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t",fragmentShader:n(353),uniforms:{eTexture:{value:s[n(380)]()}},silent:!0,flatShading:!0,side:d,transparent:!0,depthTest:!0,depthWrite:!1,blending:f[n(307)]};E.mesh[n(320)]=new h(o({baseMaterial:E[n(341)][n(320)]},D)),M[n(341)][n(320)]=new h(o({baseMaterial:M[n(341)][n(320)]},D)),T.mesh[n(320)]=new h(o({baseMaterial:T[n(341)][n(320)]},D));const S=new g;return S[n(387)](e,n(306),{label:"x轴缩放",min:-2,max:2,step:.01}),S[n(387)](r,n(306),{label:n(354),min:-2,max:2,step:.01}),S.addBinding(a,n(306),{label:n(314),min:-2,max:2,step:.01}),S[n(387)](R,"x",{label:"x剖面",min:0,max:y.RASDimensions[0],step:1}),S.addBinding(R,"y",{label:"y剖面",min:0,max:y[n(364)][1],step:1}),S[n(387)](R,"z",{label:n(336),min:0,max:y[n(364)][2],step:1}),S[n(387)](y,n(370),{label:n(370),min:y.min,max:y[n(345)],step:1}).on(n(382),(()=>{y[n(310)]()})),S.addBinding(y,n(329),{label:n(329),min:y[n(335)],max:y[n(345)],step:1}).on(n(382),(()=>{y.repaintAllSlices()})),S[n(387)](y,n(331),{label:n(331),min:y[n(335)],max:y.max,step:1}).on(n(382),(()=>{y[n(310)]()})),S.addBinding(y,"windowHigh",{label:n(334),min:y[n(335)],max:y[n(345)],step:1}).on(n(382),(()=>{y[n(310)]()})),_((()=>R),(t=>{const e=n;E[e(362)]=t.x,E[e(375)].call(E),M.index=t.y,M[e(375)][e(311)](M),T[e(362)]=t.z,T[e(375)][e(311)](T)}),{deep:!0}),_((()=>s[n(322)]),(()=>{const t=n;E[t(341)][t(320)][t(333)].eTexture[t(306)]=s[t(380)](),M.mesh[t(320)][t(333)][t(376)].value=s[t(380)](),T.mesh[t(320)][t(333)].eTexture.value=s[t(380)]()}),{deep:!0,immediate:!0}),(t,o)=>{const s=n;return v(),I("TresGroup",{scale:[e[s(306)],r[s(306)],a.value],visible:i[s(306)]},[j("TresGroup",{scale:[1/z(y)[s(328)],1/z(y)[s(328)]*z(y).xLength/z(y)[s(325)],1/z(y)[s(328)]*z(y)[s(328)]/z(y)[s(350)]]},[j(s(332),{object:z(E)[s(341)],renderOrder:1},null,8,tt),j(s(332),{object:z(M)[s(341)],renderOrder:2},null,8,nt),j(s(332),{object:z(T)[s(341)],renderOrder:3},null,8,et),j(s(332),{object:z(A)},null,8,rt)],8,Y)],8,X)}}});function it(t){function n(t){const e=at;if(typeof t===e(342))return function(t){}[e(347)](e(367)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(339)+"gger").call(e(383)):function(){return!1}[e(347)](e(339)+e(377))[e(359)](e(379)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function st(t,n){const e=ft();return(st=function(t,n){return e[t-=129]})(t,n)}const ut=st;!function(t,n){const e=st,r=ft();for(;;)try{if(258865===-parseInt(e(139))/1+parseInt(e(182))/2*(-parseInt(e(186))/3)+-parseInt(e(144))/4+parseInt(e(145))/5*(-parseInt(e(165))/6)+-parseInt(e(148))/7*(parseInt(e(177))/8)+-parseInt(e(178))/9*(parseInt(e(187))/10)+parseInt(e(170))/11)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const ct=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[st(167)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ct(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=dt("init");n.test(r+t(151))&&e[t(164)](r+t(188))?dt():r("0")}))()}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[st(167)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();lt(void 0,(function(){const t=st;let n;try{n=Function(t(168)+'{}.constructor("return this")( ));')()}catch(a){n=window}const e=n.console=n[t(192)]||{},r=[t(160),t(131),t(153),t(183),"exception",t(169),"trace"];for(let o=0;o<r[t(193)];o++){const n=lt[t(158)][t(136)][t(190)](lt),a=r[o],i=e[a]||n;n[t(146)]=lt[t(190)](lt),n[t(174)]=i[t(174)].bind(i),e[a]=n}}))();const pt={key:0,class:ut(173)};function ft(){const t=["179022byuPkv","1230hbuoiy","input","yExtent","bind","while (true) {}","console","length","fileList","300px","2.8em","warn","warning","debu"," 面剖体数据","setArrayBuffer","prototype","action","result","218585xrHqkh","string","type"," z轴长度： ","raw","187652lGDkgw","804905LDwlKL","__proto__","2.4em","144403eJUHyg","gger","counter","chain","image/x-panasonic-raw","info","removeFile","uploadRef","call"," x轴长度： ","constructor","title","log","请正确输入数值","target","modelValue","test","6rjGAwK","zExtent","apply","return (function() ","table","16044611xXOruG","selectDataType","div","card-wrapper","toString","value","xExtent","168BlzflF","7416EIqyrQ"," 点击或者拖拽rawData文件到此区域 ","文件类型必须为:'image/x-panasonic-raw'","readAsArrayBuffer","8WNAtSn","error"," y轴长度： ","[change] param:"];return(ft=function(){return t})()}function dt(t){function n(t){const e=st;if(typeof t===e(140))return function(t){}[e(158)](e(191)).apply(e(150));1!==(""+t/t).length||t%20==0?function(){return!0}[e(158)](e(133)+e(149))[e(156)](e(137)):function(){return!1}.constructor("debugger")[e(167)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const mt=K(y({__name:"importRawUI",setup(t){const n=ut,e=c();e[n(176)]=256,e[n(189)]=256,e[n(166)]=109;const r=x(null),a=x([]),o=t=>{const e=n;console[e(160)](e(185),t)},i=()=>{var t;const e=n;a[e(175)].length>1&&(null==(t=r[e(175)])||t[e(154)](a[e(175)][0]))},s=()=>{const t=n;if(1!=a[t(175)][t(193)])return q.warning("请正确选择rawData文件"),!1;if(e[t(176)]<=0||e.yExtent<=0||e[t(166)]<=0)return q[t(132)](t(161)),!1;if(a[t(175)][0][t(143)][t(141)]!==t(152))return q.warning(t(180)),!1;const r=new FileReader;return r.onload=function(n){const r=t,a=n[r(162)][r(138)];e[r(135)](a)},r[t(181)](a.value[0].raw),!0};return(t,u)=>{const c=n;return z(e).byteArray?k("",!0):(v(),I(c(172),pt,[A(z($),{header:"读取Raw原始数据"},{default:R((()=>[u[10]||(u[10]=j(c(172),{style:{"margin-bottom":"11px"}},[E("演示参考头部👨‍🦲RawData数据,下载 : "),j("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},"head_256x256x109_uint8.raw")],-1)),A(z(O),{style:{"min-height":c(130)}},{default:R((()=>[A(z(L),{span:6,style:{"line-height":c(147)}},{default:R((()=>u[5]||(u[5]=[E(c(157))]))),_:1}),A(z(L),{span:18},{default:R((()=>[A(z(F),{precision:0,modelValue:z(e)[c(176)],"onUpdate:modelValue":u[0]||(u[0]=t=>z(e)[c(176)]=t),autofocus:""},null,8,[c(163)])])),_:1})])),_:1}),A(z(O),{style:{"min-height":c(130)}},{default:R((()=>[A(z(L),{span:6,style:{"line-height":c(147)}},{default:R((()=>u[6]||(u[6]=[E(c(184))]))),_:1}),A(z(L),{span:18},{default:R((()=>[A(z(F),{precision:0,modelValue:z(e)[c(189)],"onUpdate:modelValue":u[1]||(u[1]=t=>z(e).yExtent=t),autofocus:""},null,8,[c(163)])])),_:1})])),_:1}),A(z(O),{style:{"min-height":c(130)}},{default:R((()=>[A(z(L),{span:6,style:{"line-height":c(147)}},{default:R((()=>u[7]||(u[7]=[E(c(142))]))),_:1}),A(z(L),{span:18},{default:R((()=>[A(z(F),{precision:0,modelValue:z(e)[c(166)],"onUpdate:modelValue":u[2]||(u[2]=t=>z(e)[c(166)]=t),autofocus:""},null,8,[c(163)])])),_:1})])),_:1}),A(z(B),{modelValue:z(e)[c(171)],"onUpdate:modelValue":u[3]||(u[3]=t=>z(e)[c(171)]=t),style:{"margin-bottom":"10px"}},{default:R((()=>[(v(!0),I(M,null,T(z(e).dataType,((t,n)=>{const e=c;return v(),D(z(G),{key:n,value:n},{default:R((()=>[A(z(U),{style:{"max-width":e(129)}},{default:R((()=>[E(S(t[e(159)]),1)])),_:2},1024)])),_:2},1032,[e(175)])})),128))])),_:1},8,["modelValue"]),A(z(C),{ref_key:c(155),ref:r,fileList:a[c(175)],"onUpdate:fileList":u[4]||(u[4]=t=>a.value=t),onChange:o,httpRequest:i},{default:R((()=>[A(z(H),null,{default:R((()=>u[8]||(u[8]=[E(c(179))]))),_:1})])),_:1},8,[c(194)]),A(z(P),{style:{display:"block",margin:"10px auto -3px"},onClick:s},{icon:R((()=>[A(z(Z))])),default:R((()=>[u[9]||(u[9]=E(c(134)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]),ht=yt;!function(t,n){const e=yt,r=wt();for(;;)try{if(630246===parseInt(e(469))/1*(-parseInt(e(468))/2)+-parseInt(e(473))/3+-parseInt(e(462))/4+parseInt(e(474))/5+parseInt(e(495))/6+parseInt(e(466))/7*(-parseInt(e(489))/8)+-parseInt(e(487))/9*(-parseInt(e(488))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const gt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[yt(483)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function yt(t,n){const e=wt();return(yt=function(t,n){return e[t-=457]})(t,n)}!function(){gt(this,(function(){const t=yt,n=new RegExp(t(479)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_t(t(467));n[t(490)](r+t(477))&&e.test(r+t(492))?_t():r("0")}))()}();const xt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[yt(483)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function wt(){const t=["exception","6819276KtYhGG","bind","return (function() ","rgba(0, 0, 0, 0)","string","byteArray","#201919","stateObject","call","1965064YFjBod","prototype","counter","toString","743659CcpvyZ","init","2OEgDsV","806674RWdtlR","action","rgb(255, 0, 0)","debu","905388XzMmAf","2569470VKyJRM","error","__proto__","chain","log","function *\\( *\\)","rgb(0, 255, 255)","TresPerspectiveCamera","table","apply","console","rawDataSurfaceSection","constructor","45SRnGHN","3071350gqupUn","72XvStqV","test","gger","input","warn"];return(wt=function(){return t})()}xt(void 0,(function(){const t=yt,n=function(){const t=yt;let n;try{n=Function(t(497)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(484)]=n[t(484)]||{},r=[t(478),t(493),"info",t(475),t(494),t(482),"trace"];for(let a=0;a<r.length;a++){const n=xt[t(486)][t(463)][t(496)](xt),o=r[a],i=e[o]||n;n[t(476)]=xt[t(496)](xt),n[t(465)]=i[t(465)].bind(i),e[o]=n}}))();const bt=y({__name:ht(485),setup(t){const n=ht,e=b({clearColor:n(459),antialias:!0}),r=c();return(t,a)=>{const o=n;return v(),I(M,null,[z(r)[o(458)]?(v(),D(l,{key:0,curColorList:[[o(498),0],[o(480),.4],[o(471),1]]})):k("",!0),A(z(s),V(e,{"window-size":""}),{default:R((()=>[a[0]||(a[0]=j(o(481),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),A(z(i)),z(r)[o(458)]?(v(),D(ot,{key:0})):k("",!0)])),_:1},16),A(mt)],64)}}});function _t(t){function n(t){const e=yt;if(typeof t===e(457))return function(t){}[e(486)]("while (true) {}")[e(483)](e(464));1!==(""+t/t).length||t%20==0?function(){return!0}[e(486)](e(472)+"gger")[e(461)](e(470)):function(){return!1}[e(486)](e(472)+e(491))[e(483)](e(460)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{bt as default};
