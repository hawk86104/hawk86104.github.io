import{i as t}from"./ice-utils.rTwr2AF91726563592429.js";import{m as n,_ as e}from"./gl-matrix.AFK4LjqA1726563592429.js";import{P as o}from"./tweakpane.yHWGBmom1726563592429.js";import{d as r,r as i,q as a,o as c,E as s,L as u,u as f}from"./@vue.bvMz0l_u1726563592429.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=T;function x(){const t=["TEXTURE_2D","bufferData","create","change","getUniformLocation","texImage2D","UNSIGNED_BYTE","framebufferTexture2D","constructor","input","TEXTURE_WRAP_S","string","mat4","logo-texture","BYTES_PER_ELEMENT","uView","offset_right_top","none","action","function *\\( *\\)","texParameteri","inline","offset_right_bottom","bind","length","toString","webglPostProcessing","FRAMEBUFFER","createFramebuffer","2608945UTxhzp","canvaswebgl","drawElements","vertexAttribPointer","#canvaswebgl","hidden","34190xsmoGF","canvas","offset_left_top","gger","innerWidth","SRC_ALPHA","153592PRTMGz","1961592wKAXYH","createTexture","useProgram","return (function() ","是否后处理","ortho","warn","ONE_MINUS_SRC_ALPHA","info","value","clearColor","enable","src","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","clear","innerHeight","scale","height","4257TczfBv","width","blendFunc","uniformMatrix4fv","TEXTURE_WRAP_T","COLOR_ATTACHMENT0","bindBuffer","14bZMQUj","counter","getElementById","img","enableVertexAttribArray","378328aVmSsT","lookAt","__proto__","bindFramebuffer","STATIC_DRAW","slider","TRIANGLES","2VRSyUS","bindTexture","console","876927KHqJdO","CLAMP_TO_EDGE","uniform1f","translate","offset_left_bottom","log","ARRAY_BUFFER","mixParam","apply","querySelector","FLOAT","ELEMENT_ARRAY_BUFFER","stateObject","BLEND","uProjection","RGBA","COLOR_BUFFER_BIT","231388ktiSwq","getContext","uModel","NEAREST","addBinding"];return(x=function(){return t})()}!function(t,n){const e=T,o=x();for(;;)try{if(285830===-parseInt(e(433))/1+parseInt(e(471))/2*(-parseInt(e(474))/3)+parseInt(e(491))/4+-parseInt(e(421))/5+-parseInt(e(434))/6+parseInt(e(459))/7*(-parseInt(e(464))/8)+-parseInt(e(452))/9*(-parseInt(e(427))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(482)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=T,n=new RegExp(t(411)),e=new RegExp(t(447),"i"),o=b("init");n.test(o+"chain")&&e.test(o+t(401))?b():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(437)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(473)]=n.console||{},o=[t(479),t(440),t(442),"error","exception","table","trace"];for(let r=0;r<o[t(416)];r++){const n=E[t(400)].prototype[t(415)](E),i=o[r],a=e[i]||n;n[t(466)]=E[t(415)](E),n.toString=a[t(417)][t(415)](a),e[i]=n}}))();const g={id:_(422)},p=[_(446)];function T(t,n){const e=x();return(T=function(t,n){return e[t-=390]})(t,n)}const A=r({__name:_(418),setup(r){const x=_;let d,E,T,A,b,R,y,h,F,v,P,w,C;const I=1,S=.71,U=.76,B=new o({title:"参数"}),M=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});B.addBlade({view:x(469),label:"颜色",min:0,max:1,value:.5}).on("change",(t=>{const n=x;j(),E[n(476)](w,t[n(443)])}));let D=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);B[x(391)](M,x(426),{label:x(438)}),B[x(391)](M,x(408),{picker:"inline",x:{min:0,max:1},y:{min:0,max:1}}).on("change",(t=>{const n=x;D[0]=M[n(408)].x,D[1]=M[n(408)].y,j()})),B[x(391)](M,"offset_right_bottom",{picker:x(413),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(395),(t=>{const n=x;D[5]=M.offset_right_bottom.x,D[6]=M[n(414)].y,j()})),B.addBinding(M,"offset_left_bottom",{picker:x(413),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(395),(t=>{const n=x;D[10]=M[n(478)].x,D[11]=M.offset_left_bottom.y,j()})),B[x(391)](M,x(429),{picker:x(413),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(395),(t=>{const n=x;D[15]=M[n(429)].x,D[16]=M[n(429)].y,j()})),a((()=>{L()}));const L=function(){const n=x;d=document[n(483)](n(425)),d[n(453)]=window[n(431)],d.height=window[n(449)],E=d[n(492)]("webgl"),E&&(function(){const n=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);A=k(e,o),T=t(E,l,m),F=E[n(396)](T,n(488)),v=E[n(396)](T,n(407)),P=E[n(396)](T,n(493)),C=X(document[n(461)](n(405)))}(),j(),E[n(445)](E[n(487)]),E[n(454)](E[n(432)],E[n(441)]),N())};function N(){const t=x;E[t(467)](E.FRAMEBUFFER,y),E[t(444)](I,S,U,1),E[t(448)](E[t(490)]),function(){const t=x;E[t(436)](T),E[t(458)](E[t(480)],A);const o=n[t(394)]();n[t(439)](o,0,d.width,d[t(451)],0,.1,100),E[t(455)](F,!1,o);const r=e[t(404)][t(394)]();n[t(465)](r,[0,0,1],[0,0,0],[0,1,0]),E[t(455)](v,!1,r),O(C,600,600),O(C,400,400)}(),E[t(467)](E.FRAMEBUFFER,null),M[t(426)]&&(E[t(448)](E[t(490)]),E[t(444)](0,0,1,1),E[t(458)](E[t(480)],b),E.useProgram(R),E.bindTexture(E.TEXTURE_2D,h)),E[t(423)](E[t(470)],6,E[t(398)],0),requestAnimationFrame(N)}function O(t,o,r){const i=x;let a=e[i(404)][i(394)]();n[i(477)](a,a,[o,r,0]),e[i(404)][i(450)](a,a,[250,250,0]),E.uniformMatrix4fv(P,!1,a),E.bindTexture(E[i(392)],t),E[i(423)](E[i(470)],6,E[i(398)],0)}function j(){const n=x,e=new Uint8Array([0,1,2,0,2,3]);b=k(D,e),R=t(E,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),w=E[n(396)](R,n(481)),E[n(396)](R,"color"),function(){const t=x;h=X(d),y=E[t(420)](),E.bindFramebuffer(E[t(419)],y),E[t(399)](E[t(419)],E[t(457)],E[t(392)],h,0),E[t(467)](E[t(419)],null)}()}function X(t){const n=x,e=E[n(435)]();return E[n(472)](E.TEXTURE_2D,e),t instanceof HTMLImageElement?E.texImage2D(E[n(392)],0,E[n(489)],E[n(489)],E[n(398)],t):E[n(397)](E[n(392)],0,E[n(489)],t[n(453)],t.height,0,E[n(489)],E[n(398)],null),E[n(412)](E[n(392)],E.TEXTURE_MIN_FILTER,E[n(390)]),E.texParameteri(E[n(392)],E.TEXTURE_MAG_FILTER,E[n(390)]),E[n(412)](E.TEXTURE_2D,E[n(402)],E[n(475)]),E[n(412)](E[n(392)],E[n(456)],E.CLAMP_TO_EDGE),e}function k(t,n){const e=x,o=E.createBuffer();E[e(458)](E.ARRAY_BUFFER,o),E[e(393)](E[e(480)],t,E[e(468)]);const r=3*Float32Array[e(406)]+2*Float32Array[e(406)];E[e(424)](0,3,E[e(484)],!1,r,0),E[e(463)](0),E[e(424)](1,2,E.FLOAT,!1,r,3*Float32Array.BYTES_PER_ELEMENT),E[e(463)](1);const i=E.createBuffer();return E[e(458)](E[e(485)],i),E[e(393)](E[e(485)],n,E.STATIC_DRAW),E[e(458)](E[e(480)],null),o}return(t,n)=>{const e=x;return c(),s(e(428),g,[u(e(462),{id:e(405),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(409)}},null,8,p)])}}});function b(t){function n(t){const e=T;if(typeof t===e(403))return function(t){}[e(400)]("while (true) {}")[e(482)](e(460));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(430)).call(e(410)):function(){return!1}[e(400)]("debu"+e(430))[e(482)](e(486)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{A as default};
