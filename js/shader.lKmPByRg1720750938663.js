import{a as n,r as t,d as e,S as o,N as r}from"./@tresjs.toBU36DO1720750938663.js";import{a5 as i}from"./three.c_4mN3mZ1720750938663.js";import{P as s}from"./tweakpane.yHWGBmom1720750938663.js";import{L as a}from"./three-subdivide.Smm-03Ce1720750938663.js";import{d as c,b as l,a2 as u,w as f,o as p,D as d,J as g,aj as h,ak as m,a3 as v,r as w,e as y,f as b,g as M,j as _,u as I,m as x}from"./@vue.ApkyOKE71720750938663.js";import"./@vueuse.NiHn2U_k1720750938663.js";const S=B;!function(n,t){const e=B,o=A();for(;;)try{if(392661===parseInt(e(118))/1*(-parseInt(e(127))/2)+parseInt(e(125))/3+parseInt(e(147))/4*(-parseInt(e(130))/5)+parseInt(e(108))/6+-parseInt(e(107))/7+-parseInt(e(135))/8*(parseInt(e(117))/9)+parseInt(e(158))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[B(145)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){T(this,(function(){const n=B,t=new RegExp(n(139)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z(n(152));t.test(o+n(123))&&e[n(121)](o+n(156))?z():o("0")}))()}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[B(145)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();j(void 0,(function(){const n=B;let t;try{t=Function(n(162)+n(124)+");")()}catch(r){t=window}const e=t.console=t[n(149)]||{},o=["log",n(122),n(112),n(164),n(159),n(133),"trace"];for(let i=0;i<o[n(157)];i++){const t=j.constructor[n(115)][n(136)](j),r=o[i],s=e[r]||t;t[n(143)]=j[n(136)](j),t[n(138)]=s[n(138)][n(136)](s),e[r]=t}}))();const k=["scale"];function B(n,t){const e=A();return(B=function(n,t){return e[n-=104]})(n,t)}function A(){const n=["geometry","4llEqdo","while (true) {}","console","glowColor","scale","init","Color","value","srcMesh","input","length","18361610TbjccL","exception","debu","clone","return (function() ","#ffff00","error","uniforms","subdivision","TSGref","TresShaderMaterial","3697533nMoGZY","2954214wYAGtE","gger","blending","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","info","position","shineShader","prototype","call","9YHCUwM","113863CaqGui","FrontSide","attributes","test","warn","chain",'{}.constructor("return this")( )',"576351TKhhUR","color","6dBjkAS","subVectors","side","2453195SGDkcl","AdditiveBlending","TresMesh","table","counter","6140312nhfyeO","bind","viewVector","toString","function *\\( *\\)","Vector3","modify","constructor","__proto__","stateObject","apply"];return(A=function(){return n})()}const C=c({__name:S(114),props:{srcMesh:{},scale:{default:1.2},color:{default:S(163)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[S(119)]},blending:{default:i[S(131)]}},setup(e){const o=S,r=e,s=l(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(153)])(r[o(126)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:o(111),side:r.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};u((()=>{const n=o;if(r.srcMesh&&!s.value[n(146)][n(120)][n(113)]){let t=r[n(155)][n(146)][n(161)]();r[n(104)]&&(t=a[n(141)](t,2)),s.value[n(146)]=t,s[n(154)][n(113)].copy(r[n(155)][n(113)])}r[n(126)]&&(c[n(165)][n(150)][n(154)]=new(i[n(153)])(r[n(126)])),r.c&&(c[n(165)].c.value=r.c),r.p&&(c[n(165)].p[n(154)]=r.p)})),f((()=>r[o(104)]),(n=>{const t=o;let e=r.srcMesh[t(146)][t(161)]();n&&(e=a[t(141)](e,2)),s.value[t(146)]=e})),f((()=>r.side),(n=>{const t=o;s.value.material[t(129)]=n})),f((()=>r[o(110)]),(n=>{s[o(154)].material.blending=n}));const{onLoop:v}=t(),{camera:w}=n();return v((()=>{const n=o;w[n(154)]&&s[n(154)]&&(c[n(165)][n(137)][n(154)]=(new(i[n(140)]))[n(128)](w.value.position,s[n(154)].position))})),(n,t)=>{const e=o;return p(),d(e(132),{ref_key:e(105),ref:s,scale:r[e(151)]},[g(e(106),h(m(c)),null,16)],8,k)}}});function z(n){function t(n){const e=B;if("string"==typeof n)return function(n){}[e(142)](e(148)).apply(e(134));1!==(""+n/n).length||n%20==0?function(){return!0}[e(142)](e(160)+e(109))[e(116)]("action"):function(){return!1}[e(142)](e(160)+e(109))[e(145)](e(144)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function V(){const n=["TresPerspectiveCamera","TresBoxGeometry","warn","counter","bind","210wFjAcB","test","BackSide","4nkLXqb","NormalBlending","console","9573ZXcMcI","length","#00dfff","call","exception","2218611WddzHz","function *\\( *\\)","prototype","32JcPgkq","return (function() ","DoubleSide","21150410VvtKta","color","value","blending","table","addBinding","__proto__","map","srcMesh","string",'{}.constructor("return this")( )',"apply","7241706wiPCwi","init","TresMeshBasicMaterial","constructor","action","debu","FrontSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#222","toString","边缘处理","#0ff","info","TresMesh","570346vxwJAk","14108652tcIQkT","chain","7395685YthVfa","subdivision","TresCanvas","log","side","gger","AdditiveBlending"];return(V=function(){return n})()}const G=Y;!function(n,t){const e=Y,o=V();for(;;)try{if(866767===-parseInt(e(522))/1*(-parseInt(e(516))/2)+parseInt(e(527))/3*(-parseInt(e(519))/4)+-parseInt(e(504))/5+parseInt(e(545))/6+parseInt(e(501))/7*(parseInt(e(530))/8)+-parseInt(e(502))/9+parseInt(e(533))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Y(544)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){R(this,(function(){const n=Y,t=new RegExp(n(528)),e=new RegExp(n(494),"i"),o=H(n(546));t[n(517)](o+n(503))&&e[n(517)](o+"input")?H():o("0")}))()}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Y(544)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();F(void 0,(function(){const n=Y;let t;try{t=Function(n(531)+n(543)+");")()}catch(r){t=window}const e=t[n(521)]=t.console||{},o=[n(507),n(513),n(499),"error",n(526),n(537),"trace"];for(let i=0;i<o[n(523)];i++){const t=F[n(548)][n(529)][n(515)](F),r=o[i],s=e[r]||t;t[n(539)]=F[n(515)](F),t.toString=s[n(496)].bind(s),e[r]=t}}))();const N=g(G(511),{position:[5,5,5]},null,-1),E=g("TresAmbientLight",{intensity:1},null,-1),Z=g("TresGridHelper",{args:[10,10]},null,-1),L=g("TresSphereGeometry",{args:[1,32,16]},null,-1),P=[G(540)],q=[G(540)],D=[g(G(512),{args:[1,1,1,1,1]},null,-1),g(G(547),{color:G(498)},null,-1)];function Y(n,t){const e=V();return(Y=function(n,t){return e[n-=491]})(n,t)}const $=c({__name:"shader",async setup(n){const t=G;let a,c;const u={clearColor:t(495)},f=l(),d=l(),h=l(),m=([a,c]=v((()=>r(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),a=await a,c(),a),S=w({scale:1.6,color:t(524),subdivision:!0,c:1.1,p:1.4,side:i[t(493)],blending:i[t(510)]}),T=new s({title:"参数",expanded:!0});return T[t(538)](S,t(534),{label:"颜色"}),T[t(538)](S,"scale",{label:"大小",min:1,max:3,step:.2}),T[t(538)](S,t(505),{label:t(497)}),T.addBinding(S,"c",{label:"c",min:0,max:2,step:.1}),T[t(538)](S,"p",{label:"p",min:0,max:8,step:.2}),T[t(538)](S,t(508),{options:{FrontSide:i[t(493)],BackSide:i[t(518)],DoubleSide:i[t(532)]}}),T[t(538)](S,t(536),{options:{AdditiveBlending:i[t(510)],NormalBlending:i[t(520)]}}),(n,r)=>{const i=t,s=y(i(506));return p(),b(s,x(u,{"window-size":""}),{default:M((()=>[N,E,_(I(e)),Z,g("TresMesh",{ref_key:"TresMeshRefA",ref:f,position:[-2,1,0]},[L,g(i(547),{map:I(m)[0]},null,8,P)],512),_(C,x({srcMesh:f[i(535)]},S),null,16,[i(541)]),_(I(o),{ref_key:"TreBoxRef",ref:h,args:[1,1,1],position:[2,1,0]},{default:M((()=>[g(i(547),{map:I(m)[1]},null,8,q)])),_:1},512),_(C,x({srcMesh:h[i(535)]&&h[i(535)].value},S),null,16,["srcMesh"]),g(i(500),{ref_key:"TresMeshRefB",ref:d,position:[0,1,-2]},D,512),_(C,x({srcMesh:d.value},S),null,16,[i(541)])])),_:1},16)}}});function H(n){function t(n){const e=Y;if(typeof n===e(542))return function(n){}[e(548)]("while (true) {}")[e(544)](e(514));1!==(""+n/n)[e(523)]||n%20==0?function(){return!0}[e(548)]("debu"+e(509))[e(525)](e(491)):function(){return!1}[e(548)](e(492)+"gger").apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
