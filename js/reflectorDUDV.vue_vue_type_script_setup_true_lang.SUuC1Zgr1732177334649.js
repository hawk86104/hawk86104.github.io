import{c0 as t,a3 as e,s as n,t as r}from"./three.rV-MfnQb1732177334649.js";import{b as o}from"./@tresjs.ty5XF8T_1732177334649.js";import{R as s,b as c}from"./all.three.mYbB8mH11732177334649.js";import{d as i,a6 as a,a3 as u,w as l,o as f,D as p,J as d,u as h}from"./@vue.-THQH3GC1732177334649.js";const m=x;!function(t,e){const n=x,r=g();for(;;)try{if(388976===-parseInt(n(302))/1*(-parseInt(n(289))/2)+-parseInt(n(303))/3+parseInt(n(314))/4*(-parseInt(n(318))/5)+-parseInt(n(321))/6*(-parseInt(n(272))/7)+parseInt(n(277))/8*(parseInt(n(270))/9)+-parseInt(n(307))/10+parseInt(n(279))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[x(305)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=x,e=new RegExp(t(297)),n=new RegExp(t(310),"i"),r=_(t(283));e.test(r+t(295))&&n[t(273)](r+t(281))?_():r("0")}))()}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function g(){const t=["length","88xTWkzr","mapUrl","671770VmUoUO","toString","input","ignoreObjects","init",'{}.constructor("return this")( )',"call","onBeforeRender","value","error","50134oNMEuH","TresGroup","while (true) {}","wrapT","visible","update","chain","warn","function *\\( *\\)","constructor","object","textureMatrixUniform","bind","15DQYyoZ","1739292YaSoKR","__proto__","apply","debu","3273120FOeWdV","console","forEach","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","rotation","uniforms","set","1189052lsZMvY","counter","uMatrix","tReflect","10opDDrV","string","size","11892HNqhad","gger","trace","isMesh","stateObject","primitive","scale","texture","reflectivity","return (function() ","568143DLESAr","prototype","2681eGUKxt","test","reflectorDUDV","action"];return(g=function(){return t})()}w(void 0,(function(){const t=x;let e;try{e=Function(t(269)+t(284)+");")()}catch(o){e=window}const n=e[t(308)]=e[t(308)]||{},r=["log",t(296),"info",t(288),"exception","table",t(323)];for(let s=0;s<r[t(276)];s++){const e=w.constructor[t(271)][t(301)](w),o=r[s],c=n[o]||e;e[t(304)]=w.bind(w),e[t(280)]=c.toString[t(301)](c),n[o]=e}}))();const v=[m(327)],y=["object"],j=[m(299)];function x(t,e){const n=g();return(x=function(t,e){return n[t-=268]})(t,e)}const I=i({__name:m(274),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:b}){const w=m;let g,x;const I=i,_=new s,R=new t(I[w(320)][0]-.5,I[w(320)][1]);R[w(293)]=I.showGridHelper;const{map:U}=([g,x]=a((()=>o({map:I[w(278)]}))),g=await g,x(),g);U.wrapS=e,U[w(292)]=e,U.repeat[w(313)](6,3);const D=new c({map:U,reflectivity:I[w(268)]});D[w(312)][w(317)]={value:_.renderTarget[w(328)]},D[w(312)].tReflectBlur=_.renderTargetUniform,D[w(312)][w(316)]=_[w(300)];const M=new n(new r(I[w(320)][0],I[w(320)][1]),D);return M[w(311)].x=-Math.PI/2,M.add(_),M[w(286)]=(t,e,n)=>{const r=w;M.visible=!1,I[r(282)][r(309)]((t=>{const e=r;t[e(324)]&&(t[e(293)]=!1),t.value&&t.value.isMesh&&(t[e(287)][e(293)]=!1)})),_[r(294)](t,e,n),I[r(282)][r(309)]((t=>{const e=r;t[e(324)]&&(t[e(293)]=!0),t[e(287)]&&t[e(287)][e(324)]&&(t[e(287)].visible=!0)})),M.visible=!0},u((()=>{const t=w;I[t(268)]&&(D[t(312)].uReflectivity[t(287)]=I[t(268)])})),l((()=>I.showGridHelper),(t=>{R[w(293)]=t})),b({reflector:_}),(t,e)=>{const n=w;return f(),p(n(290),{scale:I.scale},[d(n(326),{object:h(M),"position-y":-.01},null,8,y),d(n(326),{object:h(R)},null,8,j)],8,v)}}});function _(t){function e(t){const n=x;if(typeof t===n(319))return function(t){}[n(298)](n(291))[n(305)](n(315));1!==(""+t/t).length||t%20==0?function(){return!0}[n(298)]("debu"+n(322))[n(285)](n(275)):function(){return!1}.constructor(n(306)+n(322)).apply(n(325)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
