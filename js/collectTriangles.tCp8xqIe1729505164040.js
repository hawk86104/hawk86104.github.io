import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.IsKybBdF1729505164040.js";import{_ as s}from"./index.oYvY2QaF1729505164040.js";import{_ as i,g as c,B as u,cz as a}from"./three.YREzp-_G1729505164040.js";import{P as l}from"./tweakpane.yHWGBmom1729505164040.js";import{c as p,d as f,a as h,I as d,C as g,N as m}from"./three-mesh-bvh.GSW9toAC1729505164040.js";import{d as y,a4 as w,b as j,a3 as v,o as b,E as I,L as _,u as x,F as k,r as M,e as T,j as z,g as B,m as C,f as R,al as A}from"./@vue.JNsx1iN61729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";import"./index.Giwe0yTk1729505164040.js";import"./@fesjs.ysb1R5mQ1729505164040.js";import"./vue-router.xkfjO_BL1729505164040.js";import"./lodash-es.kYt-_xTG1729505164040.js";import"./@qlin.yHhFDldE1729505164040.js";import"./pinia.LeDA9WVb1729505164040.js";import"./@floating-ui.BPbuo5Gx1729505164040.js";import"./@juggle.7yjBMqoW1729505164040.js";import"./chalk.sAH7iSuz1729505164040.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1729505164040.js";import"./@iconify.eRzdeG3K1729505164040.js";import"./utils.r8L0F7PV1729505164040.js";import"./default.vue_vue_type_script_setup_true_lang.ZaT5kxsq1729505164040.js";import"./three-mesh-ui.module.e6VhGzpt1729505164040.js";!function(t,n){const e=O,r=S();for(;;)try{if(523155===-parseInt(e(229))/1*(parseInt(e(254))/2)+parseInt(e(253))/3*(-parseInt(e(236))/4)+parseInt(e(225))/5*(parseInt(e(247))/6)+parseInt(e(257))/7*(parseInt(e(220))/8)+-parseInt(e(231))/9*(parseInt(e(223))/10)+parseInt(e(235))/11*(parseInt(e(228))/12)+-parseInt(e(264))/13*(-parseInt(e(259))/14))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=O,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(267),"i"),r=W(t(246));n[t(244)](r+t(233))&&e[t(244)](r+t(221))?W():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(t,n){const e=S();return(O=function(t,n){return e[t-=220]})(t,n)}F(void 0,(function(){const t=O,n=function(){const t=O;let n;try{n=Function("return (function() "+t(256)+");")()}catch(e){n=window}return n}(),e=n[t(234)]=n.console||{},r=["log","warn","info","error",t(268),t(265),t(222)];for(let o=0;o<r.length;o++){const n=F.constructor[t(250)][t(224)](F),s=r[o],i=e[s]||n;n.__proto__=F.bind(F),n[t(243)]=i[t(243)][t(224)](i),e[s]=n}}))();function S(){const t=["pointerdown","3MaukDl","2EXKNWj","clientY",'{}.constructor("return this")( )',"189RpaiGn","clientX","865858gVkdCj","apply","pointerType","action","innerWidth","130OGYcRv","table","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","value","pointermove","46568NUwxMr","input","trace","785110DCzdMh","bind","210hWOnZl","length","setFromCamera","456240vsXDaN","759769veTpoD","while (true) {}","36iNTORo","string","chain","console","44ejsyzY","1096276xnmdFr","pointerup","enabled","debu","intersectObject","counter","addEventListener","toString","test","touch","init","134760kUyGif","innerHeight","Raycaster","prototype","gger"];return(S=function(){return t})()}function W(t){function n(t){const e=O;if(typeof t===e(232))return function(t){}.constructor(e(230))[e(260)](e(241));1!==(""+t/t)[e(226)]||t%20==0?function(){return!0}[e(266)](e(239)+e(251)).call(e(262)):function(){return!1}[e(266)]("debu"+e(251)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=Y;!function(t,n){const e=Y,r=N();for(;;)try{if(518708===-parseInt(e(458))/1+-parseInt(e(437))/2*(-parseInt(e(383))/3)+parseInt(e(444))/4*(parseInt(e(411))/5)+parseInt(e(419))/6*(-parseInt(e(455))/7)+parseInt(e(396))/8+-parseInt(e(399))/9*(-parseInt(e(415))/10)+parseInt(e(418))/11*(-parseInt(e(402))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(405)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(t,n){const e=N();return(Y=function(t,n){return e[t-=382]})(t,n)}!function(){X(this,(function(){const t=Y,n=new RegExp(t(423)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=$(t(407));n[t(393)](r+t(443))&&e[t(393)](r+"input")?$():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(405)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Z(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(398)+t(412)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(420)]||{},r=[t(453),t(409),t(434),t(481),t(468),t(459),t(480)];for(let o=0;o<r.length;o++){const n=Z[t(417)][t(446)].bind(Z),s=r[o],i=e[s]||n;n[t(428)]=Z.bind(Z),n.toString=i[t(445)].bind(i),e[s]=n}}))();const q=[U(389),"material"],D=[_(U(478),{args:[1,40,40]},null,-1),_(U(461),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],G=[U(389)],L=[_(U(461),{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function N(){const t=["enabled","matrixWorld","apply","string","init","boundsTree","warn","addButton","2500VHqWAF",'{}.constructor("return this")( )',"Matrix4","raycast","10265650hWntjJ","normal","constructor","55BegTrd","198846qCBkpc","console","push","getX","function *\\( *\\)","point","while (true) {}","copy","TresMesh","__proto__","brushMesh","targetMesh","needsUpdate","containsPoint","invert","info","set","getY","6hBkbSv","attributes","BufferGeometry","DynamicDrawUsage","index","intersectObject","chain","592GuuysV","toString","prototype","controls","setUsage","targetMesh.value init","model","intersectsBox","BufferAttribute","log","setZ","217fOnnhF","counter","scale","387469lcXQds","table","active","TresMeshStandardMaterial","fill","Mesh","instance","MeshStandardMaterial","firstHitOnly","count","exception","setFromCamera","click","action","setScalar","Vector3","debu","call","setAttribute","stateObject","TresSphereGeometry","radius","trace","error","value","449511DCxycm","position","intersectsSphere","shapecast","setY","getZ","geometry","length","生成模型","applyMatrix4","test","setX","color","7551256MDpiHa","Vector2","return (function() ","9VSdgQl","visible","gger","1345044yQwvFj"];return(N=function(){return t})()}const V=y({__name:U(450),props:{controls:{}},async setup(r){const o=U;let s,y;const M=r;(()=>{const t=Y;u[t(446)].computeBoundsTree=p,u[t(446)].disposeBoundsTree=f,i[t(463)][t(446)][t(414)]=h})();const T=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),z=new(i[o(465)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),B=new Uint8Array(3*T.attributes.position[o(467)]);B[o(462)](255);const C=new(i[o(452)])(B,3,!0);C[o(448)](i[o(440)]),T[o(476)](o(395),C);const R=j(null),A=j(null),E=j(!1),F=j(-1),S=j(.2),W=new(i[o(397)]),{camera:X,raycaster:Z}=t(),N=15/255,V=78/255,$=85/255;let H=null;v((()=>{const t=o;R.value&&(console[t(453)](t(449),R[t(382)]),R[t(382)][t(389)].computeBoundsTree(),H=T[t(408)],((t,n,e,r,o,s)=>{const c=O;window.addEventListener(c(270),(e=>{const r=c;t.x=e.clientX/window[r(263)]*2-1,t.y=-e[r(255)]/window[r(248)]*2+1,n.value=!0})),window[c(242)](c(252),(u=>{const a=c;t.x=u[a(258)]/window.innerWidth*2-1,t.y=-u[a(255)]/window[a(248)]*2+1,r[a(269)]=u.button;const l=new(i[a(249)]);l[a(227)](t,e[a(269)]),l.firstHitOnly=!0;const p=l[a(240)](o.value,!0);n[a(269)]=!0,s[a(238)]=0===p[a(226)]}),!0),window[c(242)](c(237),(t=>{const e=c;r[e(269)]=-1,t[e(261)]===e(245)&&(n[e(269)]=!1)}),!0)})(W,E,X,F,R,M[t(447)][t(464)]))}));const{onLoop:Q}=n();Q((()=>{const t=o,n=T[t(441)];if(A.value)if(M[t(447)][t(464)][t(460)]||!E[t(382)])A[t(382)][t(400)]=!1;else{A[t(382)][t(457)][t(472)](S[t(382)]),Z[t(382)][t(469)](W,X.value),Z[t(382)][t(466)]=!0;const e=Z.value[t(442)](R.value,!0);if(e.length){A[t(382)][t(384)][t(426)](e[0][t(424)]),M[t(447)].instance[t(403)]=!1,A[t(382)].visible=!0;const r=new(i[t(413)]);r[t(426)](R[t(382)][t(404)])[t(433)]();const o=new c;o.center[t(426)](A[t(382)][t(384)])[t(392)](r),o[t(479)]=100*S[t(382)];const s=[],u=new(i[t(473)]);if(null==H||H[t(386)]({intersectsBounds:n=>{const e=t,r=o[e(451)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(u[e(435)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(432)](u))return d;return g}return r?d:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(385)](o)){const t=3*e;s[i(421)](t,t+1,t+2)}return!1}}),0===F.value||2===F.value){let e=1,r=1,o=1;0===F[t(382)]&&(e=N,r=V,o=$);for(let i=0,c=s[t(390)];i<c;i++){const c=n[t(422)](s[i]);C[t(394)](c,e),C[t(387)](c,r),C[t(454)](c,o)}C[t(431)]=!0}}else A[t(382)][t(400)]=!1,M[t(447)][t(464)][t(403)]=!0}}));const P=(new l)[o(410)]({title:"点击按钮",label:o(391)}),J=new(i[o(439)]);return P.on(o(470),(()=>{const t=o,n=[],e=[];for(let o=0;o<C[t(467)];o++)C[t(422)](o)===N&&C[t(436)](o)===V&&C[t(388)](o)===$&&(n.push(T.attributes[t(384)].getX(o),T[t(438)][t(384)].getY(o),T.attributes[t(384)][t(388)](o)),e[t(421)](T[t(438)][t(416)].getX(o),T[t(438)].normal[t(436)](o),T[t(438)].normal[t(388)](o)));const r=new Float32Array(n);J[t(476)](t(384),new(i[t(452)])(r,3)),J[t(476)](t(416),new(i[t(452)])(r,3))})),(t,n)=>{const e=o;return b(),I(k,null,[_(e(427),{ref_key:e(430),ref:R,geometry:x(T),scale:.005,material:x(z)},null,8,q),_("TresMesh",{ref_key:e(429),ref:A,visible:!1},D,512),_(e(427),{geometry:x(J),position:[-2,-2,2],scale:.005},L,8,G)],64)}}});function $(t){function n(t){const e=Y;if(typeof t===e(406))return function(t){}[e(417)](e(425))[e(405)](e(456));1!==(""+t/t)[e(390)]||t%20==0?function(){return!0}[e(417)](e(474)+e(401))[e(475)](e(471)):function(){return!1}[e(417)](e(474)+e(401))[e(405)](e(477)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function H(){const t=["test","557886buyYIB","controls","error","init","apply","log","warn","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","598983BlWagu","input","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","pos-y.jpg","124036CLpznr","bind","action","return (function() ","stateObject","#999999","1494860wYftaq","TresPerspectiveCamera","value","TresCanvas","exception","info","toString","neg-z.jpg",'{}.constructor("return this")( )',"gger","call","while (true) {}","length","constructor","function *\\( *\\)","table","__proto__","127665CWiFnQ","pos-z.jpg","8UKrRMx","TresAmbientLight","5LkGqvk","15EjiUqE","2257722gvmkfa","48424RhSkxz","debu"];return(H=function(){return t})()}const Q=nt;!function(t,n){const e=nt,r=H();for(;;)try{if(157543===-parseInt(e(335))/1+-parseInt(e(358))/2+parseInt(e(340))/3*(-parseInt(e(342))/4)+parseInt(e(339))/5*(parseInt(e(345))/6)+parseInt(e(353))/7*(-parseInt(e(337))/8)+parseInt(e(341))/9+parseInt(e(364))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(349)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=nt,n=new RegExp(t(332)),e=new RegExp(t(356),"i"),r=rt(t(348));n[t(344)](r+"chain")&&e.test(r+t(354))?rt():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(361)+t(326)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=[t(350),t(351),t(323),t(347),t(368),t(333),"trace"];for(let o=0;o<r[t(330)];o++){const n=J[t(331)].prototype[t(359)](J),s=r[o],i=e[s]||n;n[t(334)]=J.bind(J),n[t(324)]=i[t(324)][t(359)](i),e[s]=n}}))();const K=_(Q(365),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=_(Q(338),{intensity:1},null,-1);function nt(t,n){const e=H();return(nt=function(t,n){return e[t-=323]})(t,n)}const et=y({__name:"collectTriangles",setup(t){const n=Q,e=M({clearColor:n(363),antialias:!0}),i=M({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=T(a(367));return b(),I(k,null,[z(x(s)),z(l,C(e,{"window-size":""}),{default:B((()=>[K,z(x(r),C({ref_key:"controlsRef",ref:c},i),null,16),tt,(b(),R(A,null,{default:B((()=>[z(V,{controls:c[a(366)]},null,8,[a(346)])])),_:1})),(b(),R(A,null,{default:B((()=>[z(x(o),{background:!1,files:["pos-x.jpg","neg-x.jpg",a(357),"neg-y.jpg",a(336),a(325)],path:a(352)})])),_:1}))])),_:1},16)],64)}}});function rt(t){function n(t){const e=nt;if("string"==typeof t)return function(t){}[e(331)](e(329))[e(349)](e(355));1!==(""+t/t)[e(330)]||t%20==0?function(){return!0}[e(331)](e(343)+e(327))[e(328)](e(360)):function(){return!1}[e(331)](e(343)+e(327))[e(349)](e(362)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
