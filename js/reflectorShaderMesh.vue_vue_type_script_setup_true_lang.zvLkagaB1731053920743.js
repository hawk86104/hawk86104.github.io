import{a3 as t,C as n,k as r,t as e,s as o,c0 as i}from"./three.eGpwEcxC1731053920743.js";import{m as s,b as c}from"./@tresjs.hJVQLtpa1731053920743.js";import{R as a,a as u}from"./all.three.3qiEup3I1731053920743.js";import{d as f,a6 as l,a3 as p,w as m,o as h,D as d,J as g,u as w}from"./@vue.u2cBPEWn1731053920743.js";const b=I;!function(t,n){const r=I,e=S();for(;;)try{if(593424===-parseInt(r(286))/1+parseInt(r(322))/2*(parseInt(r(287))/3)+-parseInt(r(298))/4+-parseInt(r(274))/5*(parseInt(r(291))/6)+-parseInt(r(276))/7+-parseInt(r(303))/8+parseInt(r(309))/9*(parseInt(r(306))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[I(270)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){_(this,(function(){const t=I,n=new RegExp(t(292)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=R(t(300));n[t(288)](e+"chain")&&r.test(e+"input")?R():e("0")}))()}();const j=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[I(270)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();j(void 0,(function(){const t=I;let n;try{n=Function(t(284)+t(311)+");")()}catch(o){n=window}const r=n[t(313)]=n[t(313)]||{},e=["log","warn",t(308),t(269),t(310),t(268),t(295)];for(let i=0;i<e[t(294)];i++){const n=j[t(301)][t(273)].bind(j),o=e[i],s=r[o]||n;n[t(316)]=j[t(307)](j),n[t(293)]=s[t(293)][t(307)](s),r[o]=n}}))();const v=["position",b(279)],x=[b(272)],y=[b(272)];function I(t,n){const r=S();return(I=function(t,n){return r[t-=267]})(t,n)}function S(){const t=["prototype","171795rbMOgY","uMirror","2861579iYQwgG","action","gger","scale","tReflect","uniforms","wrapS","visible","return (function() ","string","358398lXGRjb","325659LofzjX","test","#ffffff","uMatrix","156JcushD","function *\\( *\\)","toString","length","trace","showGridHelper","mirror","822396rEvKtD","mixStrength","init","constructor","textureMatrixUniform","2019528gAjXPY","primitive","reflectorShaderMesh","6950RIPSCi","bind","info","26685CmxkoH","exception",'{}.constructor("return this")( )',"onBeforeRender","console","wrapT","color","__proto__","stateObject","while (true) {}","debu","position","uReflectivity","12CcIhmB","value","uColor","table","error","apply","reflectivity","object"];return(S=function(){return t})()}const M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:b(289)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const _=b;let j,I;const S=f,{scene:M}=s(),R=([j,I]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),j=await j,I(),j);R[0][_(282)]=t,R[0][_(314)]=t,R[1][_(282)]=t,R[1][_(314)]=t;const C=new a,G=new u({reflectivity:S[_(271)],mirror:S[_(297)],mixStrength:S[_(299)],color:new n(S.color),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M.fog,dithering:!0});G[_(281)][_(280)]=C.renderTargetUniform,G[_(281)][_(290)]=C[_(302)];const H=new e(10,10),k=new o(H,G);k.name=_(305),k[_(320)].y=-.01,k.rotation.x=-Math.PI/2,k.add(C),k[_(312)]=(t,n,r)=>{k[_(283)]=!1,C.update(t,n,r),k.visible=!0};const z=new i(9.5,10);return z[_(283)]=S[_(296)],p((()=>{const t=_;S[t(271)]&&(G[t(281)][t(321)].value=S[t(271)]),S[t(297)]&&(G[t(281)][t(275)][t(323)]=S.mirror),S[t(299)]&&(G[t(281)].uMixStrength[t(323)]=S[t(299)]),S.color&&(G.uniforms[t(267)].value=new n(S[t(315)]))})),m((()=>S.showGridHelper),(t=>{z[_(283)]=t})),(t,n)=>{const r=_;return h(),d("TresGroup",{position:S[r(320)],scale:S.scale},[g(r(304),{object:w(k)},null,8,x),g(r(304),{object:w(z)},null,8,y)],8,v)}}});function R(t){function n(t){const r=I;if(typeof t===r(285))return function(t){}.constructor(r(318))[r(270)]("counter");1!==(""+t/t)[r(294)]||t%20==0?function(){return!0}[r(301)](r(319)+r(278)).call(r(277)):function(){return!1}[r(301)]("debu"+r(278))[r(270)](r(317)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
