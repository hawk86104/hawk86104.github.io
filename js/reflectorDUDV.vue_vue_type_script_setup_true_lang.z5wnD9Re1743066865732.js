import{ce as t,ae as e,l as n,m as r}from"./three.qSkR4_5R1743066865732.js";import{a as o}from"./@tresjs.NxYvETXi1743066865732.js";import{R as s,b as i}from"./all.three.-jXJLs_M1743066865732.js";import{d as c,a3 as a,a2 as u,w as f,o as l,H as p,N as d,u as h}from"./@vue.L-brCdZe1743066865732.js";const m=g;function g(t,e){const n=v();return g=function(t,e){return n[t-=382]},g(t,e)}!function(t,e){const n=g,r=v();for(;;)try{if(273592===-parseInt(n(430))/1+-parseInt(n(425))/2*(parseInt(n(423))/3)+-parseInt(n(391))/4*(parseInt(n(442))/5)+parseInt(n(411))/6*(parseInt(n(439))/7)+-parseInt(n(436))/8+parseInt(n(410))/9+-parseInt(n(426))/10*(-parseInt(n(394))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[g(413)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=g,e=new RegExp(t(404)),n=new RegExp(t(421),"i"),r=_("init");e.test(r+t(432))&&n[t(398)](r+"input")?_():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[g(413)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function v(){const t=["apply","object","tReflect","renderTargetUniform","rotation","constructor","prototype","tReflectBlur","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","renderTarget","242709aKAktF","exception","10hGirpg","4888280nPNtPc","wrapS","reflectivity","action","355016hhrPcZ","console","chain","__proto__","counter","table","1464160udlDKi","add","mapUrl","63EQiJWS","isMesh","error","49510rhdtNB","while (true) {}","primitive","value","trace","uniforms","set","string","reflectorDUDV","debu","warn","108nNoATa","length","showGridHelper","22ODwnxo","scale","log","visible","test","forEach","size","update","uMatrix","repeat","function *\\( *\\)","toString","ignoreObjects","bind",'{}.constructor("return this")( )',"return (function() ","329472siXujl","312822ronTAp","info"];return(v=function(){return t})()}b(void 0,(function(){const t=g;let e;try{e=Function(t(409)+t(408)+");")()}catch(o){e=window}const n=e.console=e[t(431)]||{},r=[t(396),t(390),t(412),t(441),t(424),t(435),t(384)];for(let s=0;s<r[t(392)];s++){const e=b[t(418)][t(419)][t(407)](b),o=r[s],i=n[o]||e;e[t(433)]=b[t(407)](b),e[t(405)]=i[t(405)][t(407)](i),n[o]=e}}))();const j=["scale"],y=[m(414)],I=[m(414)],x=c({__name:m(388),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:g}){const w=m;let b,v;const x=c,_=new s,R=new t(x[w(400)][0]-.5,x[w(400)][1]);R[w(397)]=x[w(393)];const{map:z}=([b,v]=a((()=>o({map:x[w(438)]}))),b=await b,v(),b);z[w(427)]=e,z.wrapT=e,z[w(403)][w(386)](6,3);const T=new i({map:z,reflectivity:x[w(428)]});T[w(385)][w(415)]={value:_[w(422)].texture},T[w(385)][w(420)]=_[w(416)],T[w(385)][w(402)]=_.textureMatrixUniform;const A=new n(new r(x.size[0],x.size[1]),T);return A[w(417)].x=-Math.PI/2,A[w(437)](_),A.onBeforeRender=(t,e,n)=>{const r=w;A.visible=!1,x.ignoreObjects[r(399)]((t=>{const e=r;t[e(440)]&&(t[e(397)]=!1),t[e(383)]&&t[e(383)][e(440)]&&(t[e(383)][e(397)]=!1)})),_[r(401)](t,e,n),x[r(406)][r(399)]((t=>{const e=r;t[e(440)]&&(t[e(397)]=!0),t[e(383)]&&t[e(383)][e(440)]&&(t.value[e(397)]=!0)})),A[r(397)]=!0},u((()=>{const t=w;x[t(428)]&&(T[t(385)].uReflectivity[t(383)]=x.reflectivity)})),f((()=>x[w(393)]),(t=>{R[w(397)]=t})),g({reflector:_}),(t,e)=>{const n=w;return l(),p("TresGroup",{scale:x[n(395)]},[d("primitive",{object:h(A),"position-y":-.01},null,8,y),d(n(382),{object:h(R)},null,8,I)],8,j)}}});function _(t){function e(t){const n=g;if(typeof t===n(387))return function(t){}[n(418)](n(443))[n(413)](n(434));1!==(""+t/t)[n(392)]||t%20==0?function(){return!0}[n(418)]("debugger").call(n(429)):function(){return!1}[n(418)](n(389)+"gger")[n(413)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
