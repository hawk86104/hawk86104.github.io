import{a3 as t,C as n,V as r,s as e,r as o,c8 as i}from"./three.FyUEtfsR1741658416045.js";import{m as s,a as c}from"./@tresjs.W3PFJhMo1741658416045.js";import{R as a,a as u}from"./all.three._6CoOIhj1741658416045.js";import{d as f,a3 as l,a2 as p,w as m,o as h,H as g,N as w,u as d}from"./@vue.NRI7TcgI1741658416045.js";const v=S;!function(t,n){const r=S,e=b();for(;;)try{if(666170===-parseInt(r(384))/1+parseInt(r(424))/2*(parseInt(r(387))/3)+-parseInt(r(388))/4+-parseInt(r(393))/5+parseInt(r(372))/6*(-parseInt(r(400))/7)+-parseInt(r(377))/8*(parseInt(r(381))/9)+parseInt(r(394))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const x=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[S(412)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){x(this,(function(){const t=S,n=new RegExp(t(407)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=R(t(376));n[t(411)](e+t(390))&&r[t(411)](e+"input")?R():e("0")}))()}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function b(){const t=["TresGroup","50283nqAXNs","#ffffff","uReflectivity","3MGKtoC","2468196cnYDCl","onBeforeRender","chain","prototype","bind","5220070NAsHHS","39530100CtKUpx","wrapS","action","position","constructor","wrapT","7UQmxDe","length","call","error","uColor",'{}.constructor("return this")( )',"textureMatrixUniform","function *\\( *\\)","toString","renderTargetUniform","uniforms","test","apply","string","add","color","log","object","console","reflectorShaderMesh","showGridHelper","primitive","fog","name","642384ZVAXWs","mirror","visible","tReflect","scale","return (function() ","exception","3678126rqWWIo","info","mixStrength","reflectivity","init","73880vPMvsK","debu","counter","gger","1251wbNxZW","value"];return(b=function(){return t})()}_(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(370)+t(405)+");")()}catch(r){n=window}return n}(),r=n[t(418)]=n[t(418)]||{},e=[t(416),"warn",t(373),t(403),t(371),"table","trace"];for(let o=0;o<e.length;o++){const n=_.constructor[t(391)][t(392)](_),i=e[o],s=r[i]||n;n.__proto__=_[t(392)](_),n.toString=s[t(408)][t(392)](s),r[i]=n}}))();const y=[v(397),v(369)],j=[v(417)],I=["object"];function S(t,n){const r=b();return(S=function(t,n){return r[t-=366]})(t,n)}const M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:v(385)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const x=v;let _,b;const S=f,{scene:M}=s(),R=([_,b]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),_=await _,b(),_);R[0][x(395)]=t,R[0].wrapT=t,R[1][x(395)]=t,R[1][x(399)]=t;const A=new a,C=new u({reflectivity:S[x(375)],mirror:S[x(366)],mixStrength:S[x(374)],color:new n(S[x(415)]),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M[x(422)],dithering:!0});C.uniforms[x(368)]=A[x(409)],C[x(410)].uMatrix=A[x(406)];const H=new e(10,10),G=new o(H,C);G[x(423)]=x(419),G.position.y=-.01,G.rotation.x=-Math.PI/2,G[x(414)](A),G[x(389)]=(t,n,r)=>{const e=x;G[e(367)]=!1,A.update(t,n,r),G[e(367)]=!0};const N=new i(9.5,10);return N.visible=S[x(420)],p((()=>{const t=x;S[t(375)]&&(C[t(410)][t(386)].value=S[t(375)]),S.mirror&&(C[t(410)].uMirror.value=S[t(366)]),S[t(374)]&&(C.uniforms.uMixStrength[t(382)]=S[t(374)]),S[t(415)]&&(C[t(410)][t(404)].value=new n(S[t(415)]))})),m((()=>S[x(420)]),(t=>{N[x(367)]=t})),(t,n)=>{const r=x;return h(),g(r(383),{position:S[r(397)],scale:S[r(369)]},[w("primitive",{object:d(G)},null,8,j),w(r(421),{object:d(N)},null,8,I)],8,y)}}});function R(t){function n(t){const r=S;if(typeof t===r(413))return function(t){}[r(398)]("while (true) {}")[r(412)](r(379));1!==(""+t/t)[r(401)]||t%20==0?function(){return!0}.constructor(r(378)+r(380))[r(402)](r(396)):function(){return!1}[r(398)]("debu"+r(380))[r(412)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
