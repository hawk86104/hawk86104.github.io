var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang._VAWZGSx1733198294833.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.7Zke6a8I1733198294833.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.4JUlVHcB1733198294833.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,e as x,_ as v,V as m,Q as h,as as w}from"./three.8iJMi2lU1733198294833.js";import{m as g,e as d}from"./@tresjs.sklxXn0u1733198294833.js";import{u as y}from"./index.8Rx_x_Ij1733198294833.js";import{F as S,C as _}from"./three-stdlib.IR1PgtX51733198294833.js";import{d as P}from"./@vue.-THQH3GC1733198294833.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.YVfDahJh1733198294833.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.Iz_9ONM61733198294833.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.VrIohuzf1733198294833.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.da2uWVIH1733198294833.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.T5OoQH_41733198294833.js";const z=b;function b(t,e){const n=I();return(b=function(t,e){return n[t-=378]})(t,e)}function I(){const t=["log","4446648VJDfTn","while (true) {}","apply","function *\\( *\\)","exception",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"constructor","toString","2571230ozRBAL","string","911727AIWrES","bind","action","gger","567246kFbIZS","9CQUwxQ","test","counter","length","4MTXbrx","console","trace","error","1454738ionZNO","29412648OXtflS","2934365KsIFHS","init","prototype","__proto__",'{}.constructor("return this")( )',"stateObject","debu","info","return (function() "];return(I=function(){return t})()}!function(t,e){const n=b,i=I();for(;;)try{if(403508===-parseInt(n(393))/1+-parseInt(n(402))/2+-parseInt(n(389))/3+-parseInt(n(398))/4*(parseInt(n(387))/5)+-parseInt(n(379))/6+-parseInt(n(404))/7+-parseInt(n(403))/8*(-parseInt(n(394))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(381)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){E(this,(function(){const t=b,e=new RegExp(t(382)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=L(t(405));e[t(395)](i+"chain")&&n[t(395)](i+"input")?L():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(381)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();M(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(412)+t(408)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(399)]||{},i=[t(378),"warn",t(411),t(401),t(383),"table",t(400)];for(let r=0;r<i[t(397)];r++){const e=M[t(385)][t(406)][t(390)](M),a=i[r],o=n[a]||e;e[t(407)]=M.bind(M),e[t(386)]=o.toString.bind(o),n[a]=e}}))();const A=z(384);function L(t){function e(t){const n=b;if(typeof t===n(388))return function(t){}[n(385)](n(380)).apply(n(396));1!==(""+t/t).length||t%20==0?function(){return!0}[n(385)](n(410)+n(392)).call(n(391)):function(){return!1}[n(385)](n(410)+"gger").apply(n(409)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const D=O;!function(t,e){const n=O,i=R();for(;;)try{if(902573===parseInt(n(124))/1+parseInt(n(130))/2*(parseInt(n(112))/3)+-parseInt(n(137))/4+-parseInt(n(142))/5+-parseInt(n(108))/6+-parseInt(n(109))/7*(parseInt(n(116))/8)+-parseInt(n(123))/9*(-parseInt(n(121))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(t,e){const n=R();return(O=function(t,e){return n[t-=108]})(t,e)}!function(){U(this,(function(){const t=O,e=new RegExp(t(120)),n=new RegExp(t(128),"i"),i=W(t(110));e[t(139)](i+t(136))&&n.test(i+t(135))?W():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(141)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function V(t){const e=O,n=a({},t);return e(118)in t&&(n.defines=a({},t.defines)),e(138)in t&&(n[e(138)]=s[e(143)](t[e(138)])),n}T(void 0,(function(){const t=O;let e;try{e=Function(t(111)+t(145)+");")()}catch(r){e=window}const n=e[t(119)]=e[t(119)]||{},i=["log","warn",t(134),"error",t(131),t(122),t(129)];for(let a=0;a<i[t(126)];a++){const e=T.constructor.prototype[t(133)](T),r=i[a],o=n[r]||e;e[t(114)]=T[t(133)](T),e[t(125)]=o[t(125)][t(133)](o),n[r]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:D(115),fragmentShader:D(127)+A+"\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t"};function R(){const t=["5600215FkWbFY","clone","gger",'{}.constructor("return this")( )',"2054604lyvPtj","10131016aVQRHO","init","return (function() ","388563NqBUWM","counter","__proto__","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","8CgkTbC","stateObject","defines","console","function *\\( *\\)","316490WywNDz","table","1098tnpiAJ","529051uZiqER","toString","length","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","2RmwKhD","exception","debu","bind","info","input","chain","2829648kZuPgW","uniforms","test","constructor","apply"];return(R=function(){return t})()}function W(t){function e(t){const n=O;if("string"==typeof t)return function(t){}[n(140)]("while (true) {}")[n(141)](n(113));1!==(""+t/t)[n(126)]||t%20==0?function(){return!0}[n(140)](n(132)+n(144)).call("action"):function(){return!1}[n(140)](n(132)+"gger")[n(141)](n(117)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function k(t,e){const n=Q();return(k=function(t,e){return n[t-=437]})(t,e)}const C=k;!function(t,e){const n=k,i=Q();for(;;)try{if(397236===parseInt(n(507))/1+-parseInt(n(476))/2*(-parseInt(n(491))/3)+parseInt(n(458))/4*(-parseInt(n(470))/5)+parseInt(n(459))/6*(parseInt(n(478))/7)+-parseInt(n(447))/8+-parseInt(n(479))/9+-parseInt(n(487))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(438)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=k,e=new RegExp(t(485)),n=new RegExp(t(509),"i"),i=X(t(468));e[t(481)](i+t(456))&&n.test(i+t(471))?X():i("0")}))()}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(438)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();N(void 0,(function(){const t=k,e=function(){const t=k;let e;try{e=Function(t(489)+t(504)+");")()}catch(n){e=window}return e}(),n=e[t(463)]=e[t(463)]||{},i=["log","warn",t(474),t(469),"exception",t(450),t(442)];for(let r=0;r<i[t(452)];r++){const e=N.constructor[t(451)][t(506)](N),a=i[r],o=n[a]||e;e.__proto__=N[t(506)](N),e[t(486)]=o[t(486)][t(506)](o),n[a]=e}}))();const F=new l;class Z{constructor(t){const e=k;!t&&(t=e(493));const n=V(j);n.fragmentShader=n[e(495)][e(466)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(V(n)),i[0][e(460)][e(467)]=0,i[0][e(460)][e(477)]=0,i[1]=new c(V(n)),i[1][e(460)][e(467)]=1,i[1][e(460)][e(477)]=0,i[2]=new c(V(n)),i[2][e(460)].X_IS_EVEN=0,i[2][e(460)][e(477)]=1,i[3]=new c(V(n)),i[3][e(460)][e(467)]=1,i[3][e(460)][e(477)]=1;const r=new u;r[e(455)][e(496)]=p,r[e(455)].magFilter=p,this[e(443)]=r,this[e(480)]=new S(new c(_)),this[e(492)]=new S(null),this[e(465)]=i}[C(439)](t,e,n,i=!1){const r=C;t.isWebGLRenderTarget&&(t=t[r(455)]);const o=n.autoClear,s=n[r(445)](),l=n[r(446)]();n[r(437)](F);const c=this[r(480)],u=this[r(492)],p=this[r(443)],x=this[r(465)];let v,m;i?(v=f[r(488)](t[r(503)].width),m=f[r(488)](t[r(503)][r(454)])):(v=Math.floor(t[r(503)].width),m=Math.floor(t.image.height));const h=Math.floor(1.5*v),w=Math[r(457)](m);e[r(441)](h,w),p[r(455)][r(494)]!==e[r(455)][r(494)]?(p[r(482)](),p[r(444)](e),p[r(455)][r(503)]=a({},p[r(455)][r(503)])):p[r(441)](h,w),n[r(510)]=!1,n[r(440)](0),n[r(475)](),c[r(448)].uniforms[r(462)].value=t,c[r(497)][r(473)](v,m,0,0,h,w),n[r(472)](e),n[r(490)](),c[r(500)](n),n[r(472)](p),n[r(490)](),c[r(500)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(502)][r(461)].value=p[r(455)],t[r(502)].parentLevel[r(501)]=y,t[r(502)].parentMapSize[r(501)][r(484)](g,d),t.uniforms.originalMapSize[r(501)].set(v,m),u[r(448)]=t,g=Math[r(457)](g/2),d=Math[r(457)](d/2);const i=w-2*d;n.setRenderTarget(e),u[r(497)].setViewOffset(g,d,-v,-i,h,w),u[r(500)](n),n[r(472)](p),t[r(502)].map[r(501)]=e[r(455)],u.render(n),y++}return n[r(472)](l),n[r(475)](s),n[r(440)](F),n[r(510)]=o,y+1}dispose(){const t=C;this[t(443)].dispose(),this[t(492)][t(482)](),this[t(480)].dispose(),this[t(465)][t(498)]((e=>e[t(482)]()))}}function Q(){const t=["trace","_swapTarget","copy","getClearAlpha","getRenderTarget","5721872PfHIUV","material","while (true) {}","table","prototype","length","constructor","height","texture","chain","floor","4tAgbKc","23052lcfSZA","defines","map","tDiffuse","console","call","_mipMaterials","replace","X_IS_EVEN","init","error","1726825jCzeME","input","setRenderTarget","setViewOffset","info","setClearAlpha","1565934OSQNmV","Y_IS_EVEN","1183bpgbqw","4622094gViCHq","_copyQuad","test","dispose","gger","set","function *\\( *\\)","toString","1934050OfWSRw","floorPowerOfTwo","return (function() ","clear","3gIBjWZ","_mipQuad","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","type","fragmentShader","minFilter","camera","forEach","stateObject","render","value","uniforms","image",'{}.constructor("return this")( )',"string","bind","732541BNbmEa","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","autoClear","getClearColor","apply","update","setClearColor","setSize"];return(Q=function(){return t})()}function X(t){function e(t){const n=k;if(typeof t===n(505))return function(t){}[n(453)](n(449))[n(438)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(453)](n(508)+n(483))[n(464)]("action"):function(){return!1}[n(453)]("debu"+n(483))[n(438)](n(499)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){const n=$,i=B();for(;;)try{if(781184===-parseInt(n(345))/1+-parseInt(n(365))/2*(parseInt(n(313))/3)+-parseInt(n(359))/4*(parseInt(n(310))/5)+parseInt(n(344))/6*(parseInt(n(318))/7)+-parseInt(n(325))/8+parseInt(n(369))/9*(parseInt(n(304))/10)+parseInt(n(331))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(338)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){const t=$,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(342),"i"),i=K(t(308));e[t(323)](i+t(324))&&n[t(323)](i+t(330))?K():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(338)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(t,e){const n=B();return($=function(t,e){return n[t-=300]})(t,e)}function B(){const t=["exception","render","bind","getWorldQuaternion","autoClear","applyMatrix4","add","update","146164FKBWNE","clone","ignoreObjects","projectPoint","string","multiplyScalar","1388MfLYGZ","lookAt","Quaternion","clear","9JLttqu","normal","updateMatrixWorld","sub","Vector4","set","applyQuaternion","constant","multiply","reflect","12389990HfxIoY","return (function() ","texture","elements","init","error","5CYFHGW",'{}.constructor("return this")( )',"counter","6489giiChi","negate","forEach","value","while (true) {}","4452HyBIkt","buffers","length","setMask","parent","test","chain","7457936PmOHsY","UnsignedByteType","projectionMatrix","Matrix4","toString","input","16906439Mtxfaf","resolution","info","getWorldPosition","action","visible","gger","apply","stateObject","constructor","position","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","9090QEmeuc","488399OeNzTT","copy","sign","PerspectiveCamera","Vector3","setRenderTarget"];return(B=function(){return t})()}G(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function(t(305)+t(311)+");")()}catch(n){e=window}return e}(),n=e[t(343)]=e.console||{},i=["log","warn",t(333),t(309),t(351),"table","trace"];for(let r=0;r<i.length;r++){const e=G[t(340)].prototype[t(353)](G),a=i[r],o=n[a]||e;e.__proto__=G[t(353)](G),e[t(329)]=o[t(329)][t(353)](o),n[a]=e}}))();const q=P({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=$,i=t,r=new x,a=new(v[n(328)]),o=new(v[n(348)]),s=new Z,l=y({width:i[n(332)],height:i[n(332)],settings:{type:v[n(326)]}}),c=y({width:i[n(332)],height:i[n(332)],settings:{type:v[n(326)]}}),{camera:u,renderer:p,scene:f}=g(),{onBeforeLoop:S}=d();return S((()=>{const t=n;(()=>{const t=n;if(!u[t(316)])return;r[t(374)](new(v[t(349)])(0,1,0),0),r[t(356)](i.parent.matrixWorld),o[t(346)](u.value);const e=new m(0,0,1)[t(360)]()[t(314)](),s=u[t(316)][t(334)](new(v[t(349)]));e[t(303)](r.normal);const c=new(v[t(349)]);r[t(362)](s,c);const x=c[t(360)]();x[t(372)](s),x.add(c),o[t(341)].copy(x);const g=new(v[t(349)])(0,0,-1);g[t(300)](u[t(316)][t(354)](new h)),g.add(s);const d=new(v[t(349)]);i[t(322)][t(334)](d),d.sub(g),d[t(303)](r[t(370)]).negate(),d[t(357)](i.parent[t(334)](new(v[t(349)]))),o.up.set(0,1,0),o[t(300)](u.value.getWorldQuaternion(new(v[t(367)]))),o.up[t(303)](r[t(370)]),o[t(366)](d),o[t(371)]();const y=new(v[t(328)]);y[t(374)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(302)](o[t(327)]),y[t(302)](o.matrixWorldInverse),a.copy(y),r[t(356)](o.matrixWorldInverse);const S=new(v[t(373)])(r.normal.x,r[t(370)].y,r[t(370)].z,r[t(301)]),_=o[t(327)],P=new w;P.x=(Math[t(347)](S.x)+_[t(307)][8])/_[t(307)][0],P.y=(Math[t(347)](S.y)+_.elements[9])/_[t(307)][5],P.z=-1,P.w=(1+_[t(307)][10])/_.elements[14],S[t(364)](2/S.dot(P)),_.elements[2]=S.x,_[t(307)][6]=S.y,_.elements[10]=S.z+1,_[t(307)][14]=S.w;const z=p[t(316)].getRenderTarget();p[t(316)][t(350)](l[t(316)]),p[t(316)].state[t(319)].depth[t(321)](!0),!1===p[t(316)][t(355)]&&p.value[t(368)](),i[t(361)][t(315)]((t=>t.visible=!1)),p[t(316)][t(352)](f[t(316)],o),i[t(361)][t(315)]((e=>e[t(336)]=!0)),p[t(316)].setRenderTarget(z)})(),l[t(316)]&&c.value&&p[t(316)]&&s[t(358)](l[t(316)][t(306)],c.value,p[t(316)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function K(t){function e(t){const n=$;if(typeof t===n(363))return function(t){}.constructor(n(317))[n(338)](n(312));1!==(""+t/t)[n(320)]||t%20==0?function(){return!0}.constructor("debu"+n(337)).call(n(335)):function(){return!1}[n(340)]("debu"+n(337)).apply(n(339)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=nt,i=et();;)try{if(517053===parseInt(n(205))/1*(-parseInt(n(201))/2)+-parseInt(n(228))/3+-parseInt(n(206))/4+-parseInt(n(203))/5+parseInt(n(211))/6*(-parseInt(n(219))/7)+-parseInt(n(216))/8+parseInt(n(230))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(234)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){J(this,(function(){var t=nt,e=new RegExp(t(223)),n=new RegExp(t(217),"i"),i=it(t(202));e[t(238)](i+t(209))&&n[t(238)](i+t(214))?it():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(234)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(){var t=["trace","info","return (function() ","test","__proto__","1539766eAUHAu","init","1152035njuNRK","toString","1OefQPk","1963536hvgyhH","warn","gger","chain","stateObject","2220OFyRqM","prototype",'{}.constructor("return this")( )',"input","table","4407264giVlWi","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","791gLaGUR","error","call","exception","function *\\( *\\)","bind","debu","log","constructor","1972350UcgZKa","counter","29325555idhXyc","console","while (true) {}","string","apply"];return(et=function(){return t})()}function nt(t,e){var n=et();return(nt=function(t,e){return n[t-=200]})(t,e)}function it(t){function e(t){var n=nt;if(typeof t===n(233))return function(t){}[n(227)](n(232))[n(234)](n(229));1!==(""+t/t)[n(218)]||t%20==0?function(){return!0}[n(227)]("debu"+n(208))[n(221)]("action"):function(){return!1}[n(227)](n(225)+n(208))[n(234)](n(210)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){var t,e=nt;try{t=Function(e(237)+e(213)+");")()}catch(l){t=window}for(var n=t[e(231)]=t[e(231)]||{},i=[e(226),e(207),e(236),e(220),e(222),e(215),e(235)],r=0;r<i[e(218)];r++){var a=tt[e(227)][e(212)][e(224)](tt),o=i[r],s=n[o]||a;a[e(200)]=tt.bind(tt),a[e(204)]=s[e(204)][e(224)](s),n[o]=a}}))();export{q as _};
