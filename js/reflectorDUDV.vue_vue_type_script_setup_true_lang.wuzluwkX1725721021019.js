import{b_ as t,a0 as n,q as e,r}from"./three.a9V66irq1725721021019.js";import{N as o}from"./@tresjs.bIWdfO9a1725721021019.js";import{R as s,b as i}from"./all.three.zkQuGYKz1725721021019.js";import{d as c,a5 as a,a2 as u,w as f,o as l,E as p,L as h,u as d}from"./@vue._6MD2XyK1725721021019.js";const w=j;function b(){const t=["uniforms","uReflectivity","value","textureMatrixUniform","wrapT","debu","3280eonQta","stateObject","warn","apply","function *\\( *\\)","1227vfrWyb","26620IQyqlx","reflectivity","wrapS","__proto__","chain","test","error","action","8JhXTRg","trace","renderTargetUniform","ignoreObjects","10595207TMDTEF","info","length","toString","1WnuHQw","constructor","reflectorDUDV","exception","rotation","table","12Idhgqr","9404595LLDtkj","visible","texture","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","primitive","call","73905nWsYar","TresGroup","isMesh","add","console","3984755vnYdqi","2110258hvDkni",'{}.constructor("return this")( )',"input","tReflectBlur","bind","counter","forEach","object","240HSVOEt","renderTarget","update","log","gger","1492HoilDX","size","string"];return(b=function(){return t})()}!function(t,n){const e=j,r=b();for(;;)try{if(902744===parseInt(e(316))/1*(-parseInt(e(272))/2)+-parseInt(e(299))/3*(-parseInt(e(285))/4)+-parseInt(e(271))/5*(-parseInt(e(258))/6)+-parseInt(e(312))/7*(parseInt(e(308))/8)+parseInt(e(259))/9+parseInt(e(294))/10*(parseInt(e(300))/11)+parseInt(e(280))/12*(-parseInt(e(266))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=j,n=new RegExp(t(298)),e=new RegExp(t(263),"i"),r=_("init");n[t(305)](r+t(304))&&e[t(305)](r+t(274))?_():r("0")}))()}();const v=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[j(297)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function("return (function() "+t(273)+");")()}catch(e){n=window}return n}(),e=n[t(270)]=n[t(270)]||{},r=[t(283),t(296),t(313),t(306),t(319),t(257),t(309)];for(let o=0;o<r[t(314)];o++){const n=v[t(317)][t(262)][t(276)](v),s=r[o],i=e[s]||n;n[t(303)]=v[t(276)](v),n.toString=i[t(315)].bind(i),e[s]=n}}))();const m=["scale"],y=["object"],I=[w(279)];function j(t,n){const e=b();return(j=function(t,n){return e[t-=257]})(t,n)}const x=c({__name:w(318),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:b}){const g=w;let v,j;const x=c,_=new s,M=new t(x.size[0]-.5,x[g(286)][1]);M.visible=x.showGridHelper;const{map:R}=([v,j]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),v=await v,j(),v);R[g(302)]=n,R[g(292)]=n,R.repeat.set(6,3);const T=new i({map:R,reflectivity:x[g(301)]});T[g(288)].tReflect={value:_[g(281)][g(261)]},T[g(288)][g(275)]=_[g(310)],T.uniforms.uMatrix=_[g(291)];const D=new e(new r(x[g(286)][0],x[g(286)][1]),T);return D[g(320)].x=-Math.PI/2,D[g(269)](_),D.onBeforeRender=(t,n,e)=>{const r=g;D[r(260)]=!1,x[r(311)][r(278)]((t=>{const n=r;t.isMesh&&(t.visible=!1),t[n(290)]&&t[n(290)].isMesh&&(t[n(290)][n(260)]=!1)})),_[r(282)](t,n,e),x[r(311)][r(278)]((t=>{const n=r;t[n(268)]&&(t.visible=!0),t[n(290)]&&t.value.isMesh&&(t[n(290)][n(260)]=!0)})),D[r(260)]=!0},u((()=>{const t=g;x[t(301)]&&(T[t(288)][t(289)][t(290)]=x.reflectivity)})),f((()=>x.showGridHelper),(t=>{M[g(260)]=t})),b({reflector:_}),(t,n)=>{const e=g;return l(),p(e(267),{scale:x.scale},[h(e(264),{object:d(D),"position-y":-.01},null,8,y),h(e(264),{object:d(M)},null,8,I)],8,m)}}});function _(t){function n(t){const e=j;if(typeof t===e(287))return function(t){}.constructor("while (true) {}")[e(297)](e(277));1!==(""+t/t).length||t%20==0?function(){return!0}[e(317)](e(293)+e(284))[e(265)](e(307)):function(){return!1}.constructor(e(293)+e(284))[e(297)](e(295)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
