import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.BLxdqB941744075368226.js";import{cu as e,T as s,V as i,t as n,cD as r,C as a,g as o,M as c,c as h,a8 as l,a as u,at as d,ad as p,bq as m}from"./three.Cqu7jvck1744075368226.js";import{m as f,e as w}from"./@tresjs.DYJWvbJh1744075368226.js";import{d as S,b as g,a3 as y,e as v,o as x,f as P,j as I}from"./@vue.DK6ok9LJ1744075368226.js";import"./three-custom-shader-material.Dnty1Adq1744075368226.js";import"./buildingsCustomShaderMaterial.DyBo--wu1744075368226.js";import"./postprocessing.BQUpsS8o1744075368226.js";import"./@vueuse.3dpzNfMJ1744075368226.js";const F=V;!function(){const t=V,e=it();for(;;)try{if(111964===-parseInt(t(711))/1+-parseInt(t(437))/2*(-parseInt(t(750))/3)+parseInt(t(597))/4+parseInt(t(703))/5*(parseInt(t(719))/6)+-parseInt(t(776))/7+-parseInt(t(799))/8+parseInt(t(508))/9)break;e.push(e.shift())}catch(s){e.push(e.shift())}}();class A{static[F(551)]=new A("Time");static[F(458)]=new A(F(458));constructor(t){this.name=t}}class E{constructor(){this[F(909)]()}[F(909)](){const t=F;this[t(864)]=A[t(551)],this[t(714)]=1,this[t(435)]=0,this[t(710)]=new(s[t(454)]),this[t(845)]=new(s[t(610)]),this.velocity=new i,this[t(872)]=new(s[t(610)]),this.normal=new(s[t(610)]),this.rotation=0,this[t(456)]=0,this[t(500)]=new(s[t(873)]),this[t(646)]=new(s[t(760)]),this[t(447)]=1,this[t(526)]=new u,this.initialColor=new a,this[t(618)]=1}[F(737)](t,e,s,i,n,r,a,o,c,h,l,u,d,p,m,f){const w=F;this[w(864)]=t,this[w(714)]=e,this[w(435)]=s,this.sequenceElement[w(539)](i),this.position[w(539)](n),this.velocity.copy(r),this[w(872)][w(539)](a),this[w(488)][w(539)](o),this[w(470)]=c,this[w(456)]=h,this[w(500)]=l,this.color[w(539)](u),this[w(447)]=d,this.initialSize.copy(p),this[w(590)].copy(m),this[w(618)]=f}[F(836)](t){const e=F;t[e(737)](this[e(864)],this[e(714)],this[e(435)],this.sequenceElement,this.position,this.velocity,this[e(872)],this[e(488)],this[e(470)],this[e(456)],this.size,this.color,this[e(447)],this[e(526)],this[e(590)],this[e(618)])}copy(t){const e=F;this[e(737)](t[e(864)],t.lifetime,t[e(435)],t[e(710)],t[e(845)],t[e(575)],t.acceleration,t[e(488)],t[e(470)],t[e(456)],t[e(500)],t[e(646)],t[e(447)],t.initialSize,t[e(590)],t.initialAlpha)}}class T{constructor(){const t=F;this[t(559)]=0,this[t(536)]=0,this[t(444)]=[]}init(t){this[F(822)](t)}setParticleCount(t){const e=F;this[e(559)]!=t&&(this.dispose(),this.allocate(t)),this[e(559)]=t}[F(768)](t){this[F(536)]=t}[F(858)](t){const e=F;this[e(444)]=[],this[e(559)]=t;for(let s=0;s<t;s++)this[e(444)][s]=new E}[F(550)](){}[F(584)](){return this.particleCount}[F(789)](){}[F(522)](t,e){const s=F;if(t>=this[s(559)])throw new Error(s(697));if(e>=this.particleCount)throw new Error(s(443));const i=this[s(444)][t],n=this[s(444)][e];i[s(836)](n)}[F(767)](t,e){const s=F;if(t>=this[s(559)])throw new Error(s(748));return this.particleStates[t][s(539)](e)}[F(862)](t){const e=F;if(t>=this[e(559)])throw new Error(e(591));return this[e(444)][t]}computeBoundingBox=function(){const t=F,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[V(452)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();e(this,(function(){const t=V;let s;try{s=Function(t(871)+t(670)+");")()}catch(r){s=window}const i=s[t(892)]=s.console||{},n=[t(853),t(712),t(744),"error",t(695),t(514),"trace"];for(let a=0;a<n[t(624)];a++){const s=e.constructor.prototype[t(625)](e),r=n[a],o=i[r]||s;s[t(832)]=e[t(625)](e),s[t(528)]=o[t(528)].bind(o),i[r]=s}}))();const n=new i;return function(e=new(s[t(902)]),i=null){const r=t,a=e[r(571)],o=e.max;for(let t=0;t<this.activeParticleCount;t++){const e=this.getState(t);let s=e.position;i&&(n.copy(s),n[r(544)](i),s=n);const c=Math.max(e[r(500)].x,e[r(500)].y),h=s.x-c,l=s.x+c,u=s.y-c,d=s.y+c,p=s.z-c,m=s.z+c;(0==t||s.x<a.x)&&(a.x=h),(0==t||s.x>o.x)&&(o.x=l),(0==t||s.y<a.y)&&(a.y=u),(0==t||s.y>o.y)&&(o.y=d),(0==t||s.z<a.z)&&(a.z=p),(0==t||s.z>o.z)&&(o.z=m)}return e}}();[F(657)]=function(){const t=F,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[V(452)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){e(this,(function(){const t=V,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(859),"i"),i=wt(t(909));e[t(762)](i+"chain")&&s[t(762)](i+t(885))?wt():i("0")}))()}();const n=new(s[t(610)]),r=new i,a=new i;return function(e=new(s[t(903)]),i=null){const o=t;let c=0;for(let t=0;t<this.activeParticleCount;t++){const e=this[o(862)](t);let s=e[o(845)];i&&(a.copy(s),a[o(544)](i),s=a);const h=Math[o(772)](e[o(500)].x,e.size.y);if(0==t)n[o(539)](s),c=h;else{r[o(539)](s)[o(910)](n);const t=r[o(624)]()+h;if(t>c){const e=(t-c)/2;r[o(448)]()[o(603)](e),n[o(552)](r),c+=e}}}return e.center[o(539)](n),e[o(745)]=c,e}}()}class z{constructor(t,e,s=0){const i=F;this.start=t,this[i(624)]=e,this.id=s}}class b{constructor(){const t=F;this[t(678)]={},this[t(453)]=[]}[F(450)](t,e,s){const i=F;if(this[i(611)](s))throw new Error(i(675));const n=new z(t,e,s);return this[i(678)][s]=n,this[i(453)][i(709)](s),n}[F(682)](t){const e=F;if(!this[e(611)](t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this[e(678)][t]}getSequenceIDs(){return this.ids}[F(611)](t){return!!this[F(678)][t]}}class O{constructor(){}initializeState(t){const e=F;t[e(590)][e(638)](1,1,1),t[e(526)][e(638)](1,1),t[e(618)]=1,t[e(864)]=A[e(551)],t[e(714)]=0,t[e(435)]=0,t.sequenceElement[e(638)](0,0,0,0),t[e(845)][e(638)](0,0,0),t[e(575)][e(638)](0,0,0),t[e(872)][e(638)](0,0,0),t.normal[e(638)](0,0,1),t[e(470)]=0,t[e(456)]=0,t[e(500)][e(539)](t[e(526)]),t[e(646)][e(539)](t.initialColor),t[e(447)]=1}}class R extends O{constructor(){super()}[F(911)](t){super[F(911)](t)}}class C{constructor(){}updateState(){}}function V(t,e){const s=it();return(V=function(t,e){return s[t-=434]})(t,e)}class q extends C{constructor(){const t=F;super(),this[t(860)]=new(s[t(610)]),this[t(589)]=new(s[t(610)]),this[t(506)]=new(s[t(610)]),this[t(518)]=new(s[t(610)])}[F(478)](t,e){const s=F;return super[s(478)](t,e),this[s(506)][s(539)](t[s(872)]),this[s(589)][s(539)](this.stateAcceleration),this.timeScaledAcceleration.multiplyScalar(e),t[s(575)][s(552)](this[s(589)]),this[s(518)][s(539)](t[s(575)]),this.timeScaledVelocity[s(539)](this[s(518)]),this[s(860)].multiplyScalar(e),t[s(845)][s(552)](this[s(860)]),t[s(435)]=t.age+e,t[s(470)]=t.rotation+e*t.rotationalSpeed,!0}}class M{static[F(555)](t,e,s){const i=F;return Math[i(571)](Math[i(772)](t,e),s)}static[F(729)](){return performance.now()/1e3}}class N{constructor(){this[F(700)]=[]}addComponent(t){this[F(700)].push(t)}[F(434)](t,e){const s=F;for(const i of this[s(700)])i[s(434)](t,e)}[F(649)](t){const e=F;if(t>=this[e(700)][e(624)])throw new Error(e(886));return this.components[t]}}class U{static NotStarted=new U(F(473));static[F(847)]=new U("Running");static[F(647)]=new U(F(647));static Done=new U(F(677));constructor(t){this[F(889)]=t}}class _{constructor(t,e){const i=F;this[i(467)]=t,this.owner[i(839)]=!1,this[i(839)]=!0,this[i(446)]=e,this[i(464)]=!1,this[i(556)]=0,this[i(536)]=0,this.simulateInWorldSpace=!0,this[i(727)]=!1,this.particleEmitter=null,this[i(474)]=new N,this[i(626)]=[],this[i(741)]=[],this[i(444)]=null,this[i(457)]=U[i(473)],this[i(499)]=new b,this[i(795)]=null,this[i(793)]=!0,this[i(659)]=new o,this[i(600)]=new(s[i(903)])}init(t){const e=F;if(this[e(464)])throw new Error(e(843));this[e(556)]=t,this[e(446)]?(this[e(446)][e(740)](this[e(467)]),this.particleSystemRenderer[e(909)](this[e(556)],this.simulateInWorldSpace),this[e(446)][e(501)](this[e(595)]),this[e(444)]=this[e(446)][e(824)]()):(this[e(444)]=new T,this.particleStates[e(909)](this[e(556)])),this.addParticleStateInitializer(new R),this[e(696)](new q),this.initialized=!0}getVisible(){return this[F(839)]}[F(861)](t){return this[F(839)]=t}[F(869)](t){this[F(795)]=t}[F(434)](t,e){const s=F;if(this.systemState==U.Running){if(this[s(467)][s(651)](!0),t=null==t||null==t?M[s(729)]():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(727)]&&this[s(457)]==U.Running){const t=this.particleEmitter[s(434)](e);t>0&&this[s(781)](t),this[s(818)](e),this.onUpdateCallback&&this[s(795)](this[s(536)]),this[s(901)]()}this[s(474)][s(434)](t,e),this.lastUpdateTime=t}}[F(739)](t,e){const s=F;if(this[s(812)]()&&this[s(446)]){const i=t.autoClear;t[s(660)]=!1,this[s(467)][s(839)]=!0,this[s(467)].matrixWorldNeedsUpdate=!0,this[s(446)][s(739)](this[s(467)],t,e),this[s(467)][s(839)]=!1,t[s(660)]=i}}[F(751)](){const t=F;this[t(457)]!=U[t(473)]&&this[t(457)]!=U.Paused||(this.systemState=U[t(847)],this[t(736)]=M[t(729)](),this[t(846)]=this[t(736)])}[F(530)](){const t=F;this[t(457)]==U[t(847)]&&(this[t(457)]=U[t(647)])}[F(806)](){}[F(833)](){return this[F(457)]}setEmitter(t){const e=F;return this[e(442)]=t,this[e(442)][e(556)]=this.maximumActiveParticles,this[e(727)]=!0,this[e(442)]}addComponent(t){const e=F;this[e(474)][e(856)](t)}[F(649)](t){const e=F;return this.componentContainer[e(649)](t)}addParticleStateInitializer(t){const e=F;return this[e(626)][e(709)](t),t}[F(497)](){const t=F;return this[t(626)][t(624)]}[F(770)](t){const e=F;if(t>=this[e(626)][e(624)])throw new Error(e(692));return this.particleStateInitializers[t]}[F(696)](t){return this.particleStateOperators.push(t),t}getParticleStateOperatorCount(){const t=F;return this[t(741)][t(624)]}[F(570)](t){if(t>=this[F(741)].length)throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this.particleStateOperators[t]}[F(613)](){return this.maximumActiveParticles}[F(639)](){return this[F(536)]}[F(524)](t){const e=F;if(t>=this[e(536)])throw new Error(e(538));return this[e(444)].getState(t)}[F(823)](){return this[F(444)]}[F(567)](){return this[F(446)]}[F(913)](){return this[F(595)]}[F(501)](t){const e=F;this[e(595)]=t,this.particleSystemRenderer&&this[e(446)][e(501)](this[e(595)])}[F(483)](t){this[F(793)]=t}[F(687)](t,e,s=0){const i=F;this[i(499)][i(450)](t,e,s)}[F(891)](){return this[F(499)]}[F(439)](){return this.particleEmitter}[F(901)]=function(){const t=new c;return function(){const e=V;let s=null;this[e(793)]&&(s=t,s[e(539)](this[e(467)][e(689)]).invert()),this.particleSystemRenderer[e(840)]()?(this[e(444)][e(585)](this[e(659)],s),this[e(446)][e(578)](this[e(659)])):(this[e(444)][e(657)](this.boundingSphere,s),this.particleSystemRenderer[e(893)](this.boundingSphere))}}();activateParticles(t){const e=F;if(this[e(457)]==U[e(847)]){const s=M[e(555)](this[e(536)]+t,0,this[e(556)]);for(let t=this.activeParticleCount;t<s;t++)this[e(574)](t);this[e(536)]=s,this[e(444)][e(768)](this[e(536)])}}[F(574)](t){const e=F;if(this[e(457)]==U[e(847)]){const s=this[e(444)][e(862)](t);s.age=0;for(let t=0;t<this[e(626)][e(624)];t++){this[e(626)][t][e(911)](s)}if(this[e(595)]){s[e(845)][e(544)](this.owner.matrixWorld);const t=s.velocity[e(624)]();if(this.transformInitialDirectionInWorldSpace){s[e(575)][e(857)](this[e(467)].matrixWorld)[e(603)](t);const i=s[e(872)].length();s[e(872)].transformDirection(this.owner[e(689)]).multiplyScalar(i)}}this[e(444)][e(789)](t)}}[F(818)](t){const e=F;if(this.systemState==U[e(847)]){let s=0;for(;s<this.activeParticleCount;){this[e(803)](s,t)?s++:(s<this[e(536)]-1&&this.copyParticleInArray(this[e(536)]-1,s),this[e(536)]--)}this[e(444)][e(768)](this.activeParticleCount)}}[F(803)](t,e){const s=F;if(this[s(457)]==U[s(847)]){const i=this[s(444)][s(862)](t);for(let t=0;t<this[s(741)][s(624)];t++){const n=this[s(741)][t].updateState(i,e),r=i.lifetime;if(!n||0!=r&&i[s(435)]>=r)return!1}return this[s(444)][s(789)](t),!0}return!1}[F(642)](t,e){const s=F;this[s(444)].copyState(t,e),this[s(444)][s(789)](e)}static fromJSON(t,e,i){const n=F,r=(t,e,s)=>{e(t);for(const i in t)if(t.hasOwnProperty(i)){const s=t[i];"object"==typeof s&&r(s,e)}};r(t,(t=>{const s=V;t[s(791)]&&(t[s(791)]=e[s(713)](t[s(791)]))}));const a=t[n(607)],o=t.simulateInWorldSpace,c=t[n(794)],h=c[n(791)][n(728)](c[n(576)]),l=new(s[n(684)]),u=new _(l,h,i);u[n(909)](a),u[n(501)](o);const d=t[n(630)],p=d[n(791)][n(728)](d[n(576)]);if(u[n(498)](p),t[n(678)])for(const s of t[n(678)])u[n(687)](s.start,s[n(624)],s.id);if(t.initializers)for(const s of t[n(481)])u.addParticleStateInitializer(s[n(791)][n(728)](u,s[n(576)]));if(t[n(785)])for(const s of t[n(785)]){const t=u[n(696)](s[n(791)][n(728)](u,s[n(576)]));s[n(899)]&&t[n(792)](s.elements)}return[u,l]}[F(850)](t){const e=F,s=this[e(567)](),i=this.getEmitter(),n=this[e(891)](),r=n[e(540)]()[e(867)]((t=>{const s=e,i=n.getSequence(t);return{id:t,start:i.start,length:i[s(624)]}})),a=[],o=this[e(497)]();for(let l=0;l<o;l++){const s=this.getParticleStateInitializer(l);s[e(480)]!==R&&a.push({type:t[e(495)](s[e(480)]),params:s.toJSON(t)})}const c=[],h=this[e(715)]();for(let l=0;l<h;l++){const s=this[e(570)](l);if(s[e(480)]!==q){const i=s[e(850)](t),n=i[e(576)]||i,r=i.params?i.elements:null,a={type:t[e(495)](s[e(480)]),params:n};r&&(a.elements=r),c[e(709)](a)}}return{maxParticleCount:this[e(613)](),simulateInWorldSpace:this[e(913)](),renderer:{type:t[e(495)](s[e(480)]),params:s[e(850)]()},emitter:{type:t[e(495)](i[e(480)]),params:i[e(850)]()},sequences:r,initializers:a,operators:c}}}class B{constructor(){const t=F;this[t(568)]=[],this[t(810)]=performance[t(666)]()/1e3,this.lastUpdateTime=this[t(810)],this.componentContainer=new N}update(){const t=F,e=M[t(729)](),s=e-this[t(846)];for(const i of this[t(568)])i[t(434)](e,s);this[t(474)][t(434)](e,s),this[t(846)]=e}[F(739)](t,e){const s=F;for(const i of this[s(568)])i[s(739)](t,e)}addParticleSystem(t){const e=F;this[e(568)][e(709)](t)}[F(856)](t){const e=F;this[e(474)][e(856)](t)}[F(649)](t){const e=F;return this[e(474)][e(649)](t)}}class D{constructor(){const t=F;this[t(464)]=!1,this[t(559)]=0,this[t(467)]=null,this[t(595)]=!1}[F(501)](t){this[F(595)]=t}[F(824)](){}setOwner(t){this.owner=t}[F(909)](t){const e=F;if(this.particleCount=t,!this[e(464)])return this[e(464)]=!0,!0;throw new Error(e(459))}render(){}}class X extends T{constructor(){const t=F;super(),this[t(705)]=null,this[t(804)]=null,this[t(706)]=null,this[t(648)]=null,this[t(494)]=null,this[t(460)]=null,this[t(485)]=null,this.accelerations=null,this[t(724)]=null,this[t(629)]=null,this[t(676)]=null,this[t(747)]=null,this[t(627)]=null,this.initialSizes=null,this[t(469)]=null,this[t(661)]=!1,this[t(779)]=6}init(t,e=!1){const s=F;this[s(661)]=e,this.instanced?this[s(779)]=1:this[s(779)]=6,super[s(909)](t),this[s(858)](t)}setParticleCount(t){super.setParticleCount(t)}[F(768)](t){const e=F;super[e(768)](t),t>0?this.instanced?this[e(705)][e(816)]=t:this[e(705)][e(548)](0,this.verticesPerParticle*t):this[e(661)]?this[e(705)][e(816)]=0:this[e(705)][e(548)](0,0)}[F(789)](t){const e=F;if(t>=this.particleCount)throw new Error(e(449));const s=this[e(862)](t),i=t*this.verticesPerParticle;for(let n=0;n<this[e(779)];n++)this[e(706)][e(777)](i+n,s.lifetime),this.lifetimes.needsUpdate=!0,this[e(648)][e(777)](i+n,s[e(435)]),this[e(648)][e(665)]=!0,this.sequenceElements[e(617)](i+n,s.sequenceElement.x,s[e(710)].y,s[e(710)].z,s[e(710)].w),this.sequenceElements.needsUpdate=!0,this.positions[e(680)](i+n,s[e(845)].x,s.position.y,s[e(845)].z),this[e(460)].needsUpdate=!0,this[e(485)][e(680)](i+n,s[e(575)].x,s.velocity.y,s[e(575)].z),this[e(485)].needsUpdate=!0,this[e(801)][e(680)](i+n,s[e(872)].x,s.acceleration.y,s[e(872)].z),this[e(801)][e(665)]=!0,this[e(724)].setXYZ(i+n,s[e(488)].x,s[e(488)].y,s[e(488)].z),this[e(724)][e(665)]=!0,this[e(629)][e(777)](i+n,s.rotation),this[e(629)][e(665)]=!0,this[e(676)][e(777)](i+n,s[e(456)]),this[e(676)][e(665)]=!0,this[e(747)].setXY(i+n,s.size.x,s[e(500)].y),this[e(747)].needsUpdate=!0,this[e(627)][e(680)](i+n,s[e(646)].r,s[e(646)].g,s.color.b),this[e(627)].needsUpdate=!0,this[e(733)][e(777)](i+n,s[e(447)]),this[e(733)][e(665)]=!0,this[e(596)][e(852)](i+n,s[e(526)].x,s.initialSize.y),this[e(596)][e(665)]=!0,this[e(628)][e(777)](i+n,s[e(618)]),this.initialAlphas[e(665)]=!0}copyState(t,e){super.copyState(t,e),this.flushParticleStateToBuffers(e)}[F(767)](t,e){const s=F;if(t>=this[s(559)])throw new Error(s(730));super[s(767)](t,e),this[s(789)](t)}getPositions(){return this.positions}getSizes(){return this[F(747)]}[F(753)](){return this.rotations}[F(515)](){return this[F(494)]}[F(484)](){return this[F(627)]}getGeometry(){return this[F(705)]}[F(858)](t){const e=F;super[e(858)](t);const i=(t,i)=>{const n=e;return this[n(661)]?new(s[n(880)])(t,i):new h(t,i)},n=this.verticesPerParticle*this[e(559)];if(this.instanced){const t=new(s[e(609)]),i=new Float32Array(18);this.basePositions=new(s[e(814)])(i,3),t[e(635)]("position",this[e(553)]),this[e(553)].needsUpdate=!0,this[e(553)][e(680)](0,-1,1,0),this[e(553)].setXYZ(1,-1,-1,0),this.basePositions.setXYZ(2,1,1,0),this[e(553)][e(680)](3,-1,-1,0),this.basePositions[e(680)](4,1,-1,0),this[e(553)][e(680)](5,1,1,0);const n=new Float32Array(12);this[e(601)]=new(s[e(814)])(n,2),t[e(635)](e(615),this[e(601)]),this[e(601)].needsUpdate=!0,this[e(601)][e(852)](0,0,1),this[e(601)][e(852)](1,0,0),this[e(601)][e(852)](2,1,1),this[e(601)][e(852)](3,0,0),this.baseUVs[e(852)](4,1,0),this[e(601)][e(852)](5,1,1);const r=new Float32Array(6);this[e(475)]=new h(r,1),t.setAttribute(e(441),this[e(475)]),this[e(475)].needsUpdate=!0,this[e(475)].setX(0,0),this[e(475)][e(777)](1,1),this[e(475)][e(777)](2,3),this[e(475)].setX(3,1),this.customIndexes.setX(4,2),this.customIndexes.setX(5,3),this[e(705)]=(new(s[e(512)])).copy(t),this[e(705)][e(816)]=0}else{this[e(705)]=new(s[e(609)]);const t=new Float32Array(n);this[e(475)]=new(s[e(814)])(t,1),this[e(705)].setAttribute(e(441),this[e(475)]),this.customIndexes[e(665)]=!0;for(let s=0;s<this[e(559)];s++){const t=s*this[e(779)];this.customIndexes[e(777)](t,0),this[e(475)][e(777)](t+1,1),this[e(475)][e(777)](t+2,3),this[e(475)][e(777)](t+3,1),this[e(475)][e(777)](t+4,2),this[e(475)][e(777)](t+5,3)}}const r=new Float32Array(n),a=new Float32Array(n),o=new Float32Array(4*n),c=new Float32Array(3*n),u=new Float32Array(3*n),d=new Float32Array(3*n),p=new Float32Array(3*n),m=new Float32Array(n),f=new Float32Array(n),w=new Float32Array(2*n),S=new Float32Array(3*n),g=new Float32Array(n),y=new Float32Array(2*n),v=new Float32Array(3*n),x=new Float32Array(n);this[e(460)]=i(c,3),this.positions[e(523)](l),this[e(705)][e(635)]("particlePosition",this.positions),this[e(706)]=i(r,1),this[e(706)][e(523)](l),this.geometry[e(635)]("lifetime",this.lifetimes),this[e(648)]=i(a,1),this[e(648)][e(523)](s[e(726)]),this[e(705)][e(635)](e(435),this.ages),this[e(494)]=i(o,4),this[e(494)][e(523)](s[e(726)]),this.geometry[e(635)](e(710),this[e(494)]),this.velocities=i(u,3),this.velocities[e(523)](s[e(726)]),this[e(705)][e(635)](e(575),this[e(485)]),this[e(801)]=i(d,3),this[e(801)][e(523)](s[e(726)]),this[e(705)][e(635)]("acceleration",this[e(801)]),this.normals=i(p,3),this[e(724)][e(523)](s[e(726)]),this[e(705)][e(635)](e(488),this[e(724)]),this[e(629)]=i(m,1),this[e(629)][e(523)](s[e(726)]),this[e(705)][e(635)]("rotation",this[e(629)]),this[e(676)]=i(f,1),this[e(676)].setUsage(s[e(726)]),this[e(705)][e(635)](e(456),this[e(676)]),this[e(747)]=i(w,2),this[e(747)].setUsage(s[e(726)]),this[e(705)].setAttribute(e(500),this[e(747)]),this[e(627)]=i(S,3),this[e(627)][e(523)](s[e(726)]),this[e(705)][e(635)](e(646),this[e(627)]),this[e(733)]=i(g,1),this.alphas.setUsage(s[e(726)]),this[e(705)][e(635)](e(447),this[e(733)]),this[e(596)]=i(y,2),this[e(596)][e(523)](s[e(726)]),this[e(705)][e(635)](e(526),this.initialSizes),this[e(469)]=i(v,3),this[e(469)][e(523)](s[e(726)]),this[e(705)][e(635)](e(590),this[e(469)]),this[e(628)]=i(x,1),this[e(628)].setUsage(s[e(726)]),this[e(705)].setAttribute("initialAlpha",this.initialAlphas)}[F(550)](){const t=F;super.dispose(),this[t(705)]&&(this[t(705)][t(550)](),this[t(705)]=null)}}class W{constructor(t,e,s,i,n){const r=F;this[r(624)]=t,this.x=e,this.y=s,this[r(900)]=i,this[r(879)]=n}}class j{constructor(t,e){const s=F;this[s(614)]=t,this[s(883)]=e,this[s(905)]=[]}[F(463)](){return this.texture}[F(694)](){return this[F(883)]}getFrameSetCount(){const t=F;return this[t(905)][t(624)]}[F(882)](t,e,s,i,n){const r=F;this.frameSets[r(709)](new W(t,e,s,i,n))}[F(720)](t){const e=F;if(t>=this[e(905)][e(624)])throw new Error(e(704));return this[e(905)][t]}}class Y extends D{constructor(t,i,n=!1,r=e,a=!0,o){const c=F;super(),this.instanced=t,this.particleStateArray=null,this[c(679)]=null,this.mesh=null,this.atlas=i,this[c(466)]=n,this[c(633)]=r,this.boundingBox=new(s[c(902)]),this[c(600)]=new(s[c(903)]),this[c(476)]=a,this[c(809)]=o}[F(740)](t){super[F(740)](t)}getParticleStateArray(){return this.particleStateArray}setSimulateInWorldSpace(t){const e=F;super[e(501)](t),this[e(679)]&&(this[e(679)][e(487)].simulateInWorldSpace[e(643)]=t?1:0,this[e(679)][e(479)]=!0)}[F(840)](){return this[F(476)]}[F(578)](t){const e=F;this[e(659)][e(539)](t),this[e(863)]&&this.updateMeshBounds()}[F(893)](t){const e=F;this[e(600)][e(539)](t),this.mesh&&this.updateMeshBounds()}render(t,e,s){e[F(739)](t,s)}[F(906)]=function(){const t=new i;return function(){const e=V,i=this.particleStateArray.getGeometry();if(this[e(476)]){i[e(659)]||(i[e(659)]=new(s[e(902)])),i[e(659)][e(539)](this[e(659)]),!i[e(600)]&&(i.boundingSphere=new(s[e(903)])),t.x=(this[e(659)][e(571)].x+this[e(659)][e(772)].x)/2,t.y=(this[e(659)][e(571)].y+this.boundingBox.max.y)/2,t.z=(this.boundingBox.min.z+this[e(659)][e(772)].z)/2;const n=this[e(659)][e(772)].x-t.x,r=this[e(659)].max.y-t.y,a=this[e(659)][e(772)].z-t.z,o=Math[e(772)](Math[e(772)](n,r),a);i.boundingSphere[e(542)][e(539)](t),i.boundingSphere[e(745)]=Math[e(819)](2*o*o)}else i.boundingSphere||(i.boundingSphere=new(s[e(903)])),i.boundingSphere.copy(this.boundingSphere)}}();[F(909)](t){const e=F;super[e(909)](t)&&(this[e(746)]=new X,this.particleStateArray[e(909)](t,this[e(661)]),this[e(679)]=this.createMaterial(null,null,null,!0,!1),this[e(679)].blending=this[e(633)],this[e(863)]=new(s[e(533)])(this.particleStateArray[e(821)](),this.material),this[e(863)][e(811)]=!0,void 0!==this.renderOrder&&(this.mesh.renderOrder=this[e(809)]),this[e(906)](),this[e(467)][e(552)](this[e(863)]))}[F(550)](){this[F(746)].dispose()}[F(738)](t,e,i,a,o){const c=F,h=[...Array(16)[c(440)]()][c(867)]((t=>new n));if(this.atlas)for(let n=0;n<this[c(735)][c(546)]();n++){const t=this[c(735)].getFrameSet(n);h[n]=new(s[c(454)])(t.x,t.y,t[c(900)],t[c(879)])}const l=this[c(735)]?this[c(735)][c(463)]():null,u=this[c(466)],d=this[c(595)],p=this.instanced?1:0,m={atlasFrameSet:{type:"v4v",value:h},atlasTexture:{type:"t",value:l},interpolateAtlasFrames:{value:u},uvOffset:{type:"v2",value:new(s[c(873)])},simulateInWorldSpace:{value:d},instanced:{value:p}};return i=i||{},Object[c(496)](i,m),t=t||Y[c(468)][c(545)](o),e=e||Y[c(468)][c(784)](a,o),new(s[c(698)])({uniforms:i,vertexShader:t,fragmentShader:e,transparent:!0,alphaTest:1,blending:s[c(656)],blendDstAlpha:r,blendSrcAlpha:s[c(875)],depthTest:!0,depthWrite:!1})}static[F(468)]={get VertexVars(){const t=F;return[t(599),t(489),"uniform int interpolateAtlasFrames; \n",t(780),t(451),t(486),t(849),t(895),t(815),t(686),"attribute vec4 sequenceElement;\n","attribute vec3 color;\n",t(634),"varying vec2 vUV1;\n",t(757),t(831),"varying float vFragAlpha;\n",t(888)][t(541)]("\n")},get FragmentVars(){const t=F;return[t(782),"uniform sampler2D atlasTexture;\n",t(866),t(520),t(757),"varying vec3 vFragColor;\n",t(503),"varying float vSequenceElementT;\n"][t(541)]("\n")},getVertexShader(t){const e=F;let s=["#include <common>",this.VertexVars][e(541)]("\n");return t&&(s+=e(908)),s+=[e(897),"   float atlasFrameWidth = atlasFrames.z; \n",e(855),e(662),e(898),e(915),e(620),e(652),e(734),e(623),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   int nRowYTile = int(SNOverHS);\n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n",e(621),"   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n",e(826),e(535),e(907),"{\n",e(532),"   const vec2 up = vec2(0.0, 1.0);\n","   const vec2 left = vec2(-1.0, 0.0);\n",e(702),e(808),"   const vec2 uLeft = vec2(-1.0, 1.0);\n",e(870),e(842),e(690),e(887),e(717),e(521),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n",e(547),e(529),e(691),e(802),e(743),e(848),"   vec2 uv1; \n",e(876),e(569),e(716),e(632),e(445),e(598),e(914),e(547),e(645),"   float atlasFrameHeight = atlasFrames.w; \n",e(765),"   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n",e(827),e(896),"   if (instanced != 1) { \n","       rightSide = step(2.0, customIndex); \n",e(507),e(510),e(674),e(769),e(749),e(547),e(654),e(708),e(491),"   if (instanced != 1) { \n",e(650),"       float uLeftV = rotVecStep.x; \n",e(829),e(916),e(602),e(482),e(674),e(462),e(547),e(636),e(565),e(773),e(667),e(543)][e(541)]("\n"),t&&(s+="   \n  #include <logdepthbuf_vertex> \n"),s+=e(535),s},getFragmentShader(t,e){const s=F;let i=s(579)+this[s(721)]+"\n";return e&&(i+=s(837)),i+=s(731),e&&(i+="    \n  #include <logdepthbuf_fragment> \n"),i+=t?[s(775),s(878),s(619),s(758),"   gl_FragColor.a *= vFragAlpha; \n"][s(541)]("\n"):[s(830),s(878),s(619),s(758),s(588)][s(541)]("\n"),i+="}\n",i}};static fromJSON(t){const i=F,n=t.atlas,r=(new(s[i(725)]))[i(683)](n[i(883)]),a=new j(r,n[i(883)]),o=n[i(912)];for(const e of o)a[i(882)](e[i(624)],e.x,e.y,e[i(900)],e[i(879)]);const c=new Y(t[i(661)],a,n[i(865)]);return"Additive"==t[i(633)]?c[i(633)]=s[i(841)]:c[i(633)]=e,c}[F(850)](t){const e=F;t=t||(t=>{const e=V;if(t.texturePath)return t[e(883)];const s=t[e(463)]().source;if(s){const t=s[e(583)];if(t){const s=t[e(564)],i=t[e(844)];return i.indexOf(s)>=0?i.substr(s[e(624)],i.length-s[e(624)]):i}}});const i=[];for(let s=0;s<this[e(735)][e(546)]();s++){const t=this[e(735)][e(720)](s);i.push(t)}let n=e(580);this[e(679)][e(633)]===s[e(841)]&&(n=e(699));return{instanced:this.instanced,blending:n,atlas:{interpolateFrames:this[e(466)],texturePath:t(this.atlas),framesets:i}}}}class J{constructor(){const t=F;this.emissionRelativeStartTime=0,this[t(504)]=0,this[t(594)]=0,this[t(435)]=0,this[t(672)]=0,this[t(813)]=0,this[t(556)]=0}update(t){return this[F(790)](t),0}[F(790)](t){const e=F;return this[e(435)]+=t,this[e(672)]=Math.max(this.age-this.emissionRelativeStartTime,0),this[e(435)]>=this[e(707)]&&(0==this.emissionDuration||this.timeActive<=emissionDuration)}[F(612)](t){this[F(594)]+=t}}class L extends J{constructor(){const t=F;super(),this[t(663)]=0,this[t(732)]=0}}class G extends L{constructor(t=0){const e=F;super(),this[e(884)]=t}[F(434)](t){const e=F;if(this[e(790)](t)){const t=this[e(884)]*this.timeActive-this[e(594)];if(t>=1){const s=Math[e(640)](t);return this[e(612)](s),s}}return 0}static[F(728)](t){const e=F,s=new G;return s[e(884)]=t[e(884)]||0,s}toJSON(){return{emissionRate:this[F(884)]}}}class k{static Default=new k(F(517));static[F(873)]=new k(F(873));static[F(610)]=new k(F(610));static[F(454)]=new k(F(454));static[F(760)]=new k(F(760));constructor(t){this[F(889)]=t}static getTypeID(t){const e=F;let i=k[e(517)];return t===s[e(873)]?i=k[e(873)]:t===s[e(610)]?i=k[e(610)]:t===s[e(454)]?i=k[e(454)]:t===s[e(760)]&&(i=k[e(760)]),i}static[F(798)](t,e){const i=F;switch(e){case s[i(873)]:return(new(s[i(873)]))[i(722)](t);case s[i(610)]:return(new(s[i(610)])).fromArray(t);case s[i(454)]:return(new(s[i(454)]))[i(722)](t);case s[i(760)]:return(new(s[i(760)]))[i(722)](t)}return t}}class Z{constructor(t){const e=F;this[e(754)]=t,this[e(671)]=k.getTypeID(t)}}class H extends Z{constructor(t,e,s,i,n,r){const a=F;super(t),this[a(796)]=e,this.offset=s,this[a(894)]=i,this[a(549)]=n,this[a(448)]=r}generate(t){const e=F,s=Math.random()*this[e(894)];switch(this[e(671)]){case k[e(517)]:t=Math[e(509)]()*this.range+this.offset,this[e(448)]&&(t=t<0?-1:1);break;case k[e(873)]:t[e(638)](this[e(881)](s,"x"),this[e(881)](s,"y"));break;case k[e(610)]:t.set(this[e(881)](s,"x"),this[e(881)](s,"y"),this[e(881)](s,"z"));break;case k.Vector4:t.set(this[e(881)](s,"x"),this[e(881)](s,"y"),this[e(881)](s,"z"),this[e(881)](s,"w"))}return this[e(448)]&&t[e(448)](),t}[F(881)](t,e){const s=F;return t+Math[s(509)]()*this[s(796)][e]+this[s(658)][e]+this[s(549)]}[F(525)](){const t=F;return new H(this[t(754)],this[t(796)],this[t(658)],this.uniformRange,this[t(549)],this[t(448)])}static[F(874)](t){const e=F;return t instanceof s[e(873)]||t instanceof s[e(610)]||t instanceof n||t instanceof s[e(760)]?t.toArray():t}static[F(728)](t){const e=F;return new H(t.type,k[e(798)](t.range,t[e(791)]),k[e(798)](t.offset,t[e(791)]),t[e(894)]||0,t.uniformOffset||0,t[e(448)])}[F(850)](t){const e=F,s={range:H[e(874)](this.range),offset:H[e(874)](this[e(658)]),uniformRange:this[e(894)],uniformOffset:this[e(549)]},i=t[e(495)](this[e(796)][e(480)]);return null!=i&&(s[e(791)]=i),{type:t[e(495)](H),params:s}}}class $ extends O{constructor(t,e,s,i,n){const r=F;super(),this.range=t,this[r(658)]=e,this[r(894)]=s,this[r(549)]=i,this[r(448)]=n,this.generator=new H(0,this.range,this[r(658)],this[r(894)],this[r(549)],this.normalize)}[F(911)](t){const e=F;t.lifetime=this[e(752)][e(606)]()}static[F(728)](t,e){const s=F;return new $(e[s(796)],e[s(658)],e[s(894)],e.uniformOffset,e[s(448)])}[F(850)](){const t=F;return{range:this.range,offset:this[t(658)],uniformRange:this[t(894)],uniformOffset:this[t(549)],normalize:this[t(448)]}}}class Q extends O{constructor(t){const e=F;super(),this[e(752)]=t.clone()}initializeState(t){const e=F;t[e(470)]=this.generator[e(606)](t[e(470)])}static fromJSON(t,e){const s=F,i=e[s(752)][s(791)][s(728)](e.generator[s(576)]);return new Q(i)}[F(850)](t){return{generator:this[F(752)].toJSON(t)}}}class K extends O{constructor(t,e,s,i,n){const r=F;super(),this.range=t,this[r(658)]=e,this[r(894)]=s,this[r(549)]=i,this.normalize=n,this[r(752)]=new H(0,this[r(796)],this[r(658)],this[r(894)],this[r(549)],this.normalize)}[F(911)](t){const e=F;t[e(456)]=this[e(752)][e(606)]()}static[F(728)](t,e){const s=F;return new K(e.range,e[s(658)],e[s(894)],e[s(549)],e[s(448)])}[F(850)](){const t=F;return{range:this[t(796)],offset:this.offset,uniformRange:this[t(894)],uniformOffset:this.uniformOffset,normalize:this[t(448)]}}}class tt extends O{constructor(t,e){const i=F;super(),this.randomGenerator=new H(s[i(610)],t,e,0,0,!1)}[F(911)](t){const e=F;this[e(513)][e(606)](t.position)}static[F(728)](t,e){const n=F;return new tt((new(s[n(610)]))[n(722)](e[n(796)]),(new i)[n(722)](e[n(658)]))}toJSON(){const t=F;return{range:this[t(513)][t(796)][t(838)](),offset:this[t(513)].offset[t(838)]()}}}class et extends O{constructor(t){const e=F;super(),this.generator=t[e(525)]()}[F(911)](t){const e=F;this.generator[e(606)](t[e(500)]),t[e(526)][e(539)](t[e(500)])}static[F(728)](t,e){const s=F,i=e[s(752)][s(791)][s(728)](e[s(752)][s(576)]);return new et(i)}[F(850)](t){return{generator:this[F(752)].toJSON(t)}}}class st extends O{constructor(t,e,i,n,r=!0){const a=F;super(),this.directionGenerator=new H(s[a(610)],t,e,0,0,!0),this[a(519)]=new H(0,i,n,0,0,!1),this[a(718)]=r}initializeState(t){const e=F;this[e(492)].generate(t[e(575)]),this[e(718)]&&t[e(575)].normalize(),t[e(575)][e(603)](this[e(519)][e(606)]())}static[F(728)](t,e){const i=F;return new st((new(s[i(610)]))[i(722)](e[i(796)]),(new(s[i(610)]))[i(722)](e[i(658)]),e[i(631)],e.speedOffset)}[F(850)](){const t=F;return{range:this[t(492)][t(796)][t(838)](),offset:this[t(492)][t(658)].toArray(),speedRange:this[t(519)][t(796)],speedOffset:this[t(519)][t(658)]}}}function it(){const t=["getLight","verticesPerParticle","uniform int simulateInWorldSpace; \n","activateParticles","uniform int interpolateAtlasFrames; \n","lastPositionFlickerTime","getFragmentShader","operators","jsonTypes","offsetX","tValue","flushParticleStateToBuffers","internalUpdate","type","addElementsFromParameters","transformInitialDirectionInWorldSpace","renderer","onUpdateCallback","range","addElement","loadJSONParameter","632560NJuQqG","addNamespace","accelerations","   int sequenceStart = int(sequenceElement.z);\n","advanceActiveParticle","progressTypes","intensity","stop","tValues","   const vec2 uRight = vec2(1.0, 1.0);\n","renderOrder","startupTime","frustumCulled","getVisible","activeCount","BufferAttribute","attribute float rotation;\n","instanceCount","getInterpolationValuesForTValue","advanceActiveParticles","sqrt","upperIndex","getGeometry","setParticleCount","getParticleStates","getParticleStateArray","getTValue","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","   float rightSide; \n","castShadow","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","varying vec3 vFragColor;\n","__proto__","getSystemState","reverse","getInterpolatedElement","copyTo","  \n #include <logdepthbuf_pars_fragment> \n","toArray","visible","calculatingBoundingSphereFromBox","AdditiveBlending","   const vec2 dRight = vec2(1.0, -1.0);\n","ParticleSystem::init() -> trying to intialize more than once.","currentSrc","position","lastUpdateTime","Running","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","attribute float customIndex;\n","toJSON","getTypeNames","setXY","log","___photonsTypeID","   float atlasFrameHeight = atlasFrames.w; \n","addComponent","transformDirection","allocate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","timeScaledVelocity","setVisibile","getState","mesh","progressType","interpolateFrames","uniform vec2 uvOffset;\n","map","addElementsFromElementClassAndParameters","onUpdate","   const vec2 dLeft = vec2(-1.0, -1.0);\n","return (function() ","acceleration","Vector2","getParameterJSON","SrcAlphaFactor","   vec2 uv2; \n","bias","   vec4 color2 = color1; \n","height","InstancedBufferAttribute","generateForElement","addFrameSet","texturePath","emissionRate","input",'ComponentContainer::getComponent() -> "index" is out of range.',"   if (simulateInWorldSpace == 1) { \n","varying float vSequenceElementT; \n","name","setRGB","getParticleSequences","console","setBoundingSphere","uniformRange","attribute vec4 particlePosition;\n","   float upperSide; \n","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   float atlasFrameY = atlasFrames.y; \n","elements","width","updateBounds","Box3","Sphere","loop","frameSets","updateMeshBounds","void main()\n","  \n #include <logdepthbuf_pars_vertex> \n","init","sub","initializeState","framesets","getSimulateInWorldSpace","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","       float uRightV = rotVecStep.z; \n","update","age","localT","6ApuMjt","element","getEmitter","keys","customIndex","particleEmitter",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"particleStates","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","particleSystemRenderer","alpha","normalize",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"addSequence","uniform int instanced; \n","apply","ids","Vector4","camera","rotationalSpeed","systemState","Sequence","Renderer::init() -> trying to intialize more than once.","positions","addTypeToNamespace","       rotVec = position.xy; \n ","getTexture","initialized","nextIntensityAdjuster","interpolateAtlasFrames","owner","Shader","initialColors","rotation","stateObject","JSONTypeStore::addNamespace() -> namespace already exists","NotStarted","componentContainer","customIndexes","calculateBoundingSphereFromBox","iterator","updateState","uniformsNeedUpdate","constructor","initializers","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","setTransformInitialDirectionInWorldSpace","getColors","velocities","attribute vec2 baseUV;\n","uniforms","normal","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","namespace","   vec2 rotVec; \n","directionGenerator","tempUp","sequenceElements","getTypePath","assign","getParticleStateInitializerCount","setEmitter","particleSequences","size","setSimulateInWorldSpace","addElements","varying float vFragAlpha;\n","emissionDuration","addType","stateAcceleration","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","669177cNjsdi","random","       upperSide = upperSideStep.x + upperSideStep.y;\n","intensityFlux","InstancedBufferGeometry","randomGenerator","table","getSequenceElements","rangePhi","Default","stateVelocity","speedGenerator","varying vec2 vUV1;\n","   } else { \n","copyState","setUsage","getParticleState","clone","initialSize","setParticleSequences","toString","   float sequenceElementF = sequenceElement.x;\n","pause","positionAdjuster","   const vec2 right = vec2(1.0, 0.0);\n","Mesh","offsetY","} \n","activeParticleCount","elementTypeID",'ParticleSystem::getParticleState() -> "index" is out of range.',"copy","getSequenceIDs","join","center","   vFragAlpha = alpha; \n","applyMatrix4","getVertexShader","getFrameSetCount","   } \n","setDrawRange","uniformOffset","dispose","Time","add","basePositions","offsetPhi","clamp","maximumActiveParticles","lastIntensityFlickerTime","offsetTheta","particleCount","mapSize","default","getElementCount","rangeRadius","baseURI","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","while (true) {}","getParticleSystemRenderer","particleSystems","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","getParticleStateOperator","min",'ContinuousArray::getElement() -> "index" is out of bounds.',"scaleY","activateParticle","velocity","params","interpolationElements","setBoundingBox","#include <common> \n","Normal","lastIntensityAdjuster","typeIDGen","data","getParticleCount","computeBoundingBox","cos","distance","   gl_FragColor.a *= vFragAlpha; \n","timeScaledAcceleration","initialColor",'ParticleStateArray::getState() -> "index" is out of range.',"gger","PointLight","emitCount","simulateInWorldSpace","initialSizes","804592TnKTbL","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","const int MAX_ATLAS_FRAME_SETS = 16; \n","boundingSphere","baseUVs","       float dRightV = rotVecStep.w - rotVecStep.z; \n","multiplyScalar","lowerIndex","getInterpolatorForTypeID","generate","maxParticleCount","scaleZ","BufferGeometry","Vector3","hasID","updateEmitCount","getMaximumActiveParticles","texture","baseUV","scaleX","setXYZW","initialAlpha","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","rangeTheta","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","length","bind","particleStateInitializers","colors","initialAlphas","rotations","emitter","speedRange","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","blending","attribute float alpha;\n","setAttribute","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","decay","set","getActiveParticleCount","floor","getInterpolatedValue","copyParticleInArray","value","lastPositionAdjuster","   float atlasFrameWidth = atlasFrames.z; \n","color","Paused","ages","getComponent","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","updateWorldMatrix","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","action","   float uvXOffset = atlasFrameWidth * rightSide; \n","light","NormalBlending","computeBoundingSphere","offset","boundingBox","autoClear","instanced","   float atlasFrameX = atlasFrames.x; \n","emissionMinimum","getType","needsUpdate","now","   vFragColor = color; \n","far","hasOwnProperty",'{}.constructor("return this")( )',"outTypeID","timeActive","near","   }  else { \n","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","rotationalSpeeds","Done","sequences","material","setXYZ","offsetZ","getSequence","load","Object3D","parent","attribute vec2 size;\n","addParticleSequence","JSONTypeStore::getType() -> namespace does not exist","matrixWorld","   vec4 viewPosition; \n","   int sequenceNumber = int(sequenceElement.y);\n",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"parseNamespaceAndTypename","getTexturePath","exception","addParticleStateOperator",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"ShaderMaterial","Additive","components","interpolator","   const vec2 down = vec2(0.0, -1.0);\n","55745pPhQpX",'Atlas::getFrameSet -> "index" is out of range.',"geometry","lifetimes","emissionRelativeStartTime","   float uvYOffset = atlasFrameHeight * upperSide; \n","push","sequenceElement","223461wPOYYm","warn","parseTypeString","lifetime","getParticleStateOperatorCount","   int firstSequenceElement = int(sequenceElementF); \n","       viewPosition = viewMatrix * particlePosition;\n","normalizeDirection","18WPrHwg","getFrameSet","FragmentVars","fromArray","cameraFar","normals","TextureLoader","DynamicDrawUsage","emitterInitialized","fromJSON","currentTime",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"void main() { \n","emissionMaximum","alphas","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","atlas","startTime","setAll","createMaterial","render","setOwner","particleStateOperators","speed","   int sequenceLength = int(sequenceElement.w);\n","info","radius","particleStateArray","sizes",'ParticleStateArray::setState() -> "index" is out of range.',"       upperSide = baseUV.y; \n","206127avHune","start","generator","getRotations","outType","shadow","sin","varying vec2 vUV2;\n","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","offsetRadius","Color","debu","test","jsonTypeNames","JSONTypeStore::getType() -> typeName does not exist","   float rotMag = rotation; \n","function","setState","setActiveParticleCount","       rightSide = baseUV.x; \n","getParticleStateInitializer","checkAndAddTypeName","max","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","relativeToInitialValue","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","704060IXaIbU","setX"];return(it=function(){return t})()}class nt extends O{constructor(t,e=!1){const s=F;super(),this[s(527)](t),this[s(834)]=e}[F(527)](t){this[F(499)]=t}[F(911)](t){const e=F,s=this[e(499)][e(540)](),i=s[e(624)]*Math[e(509)](),n=s[Math.floor(i)],r=this[e(499)][e(682)](n),a=t[e(710)];this[e(834)]?a.x=r.length-1:a.x=r[e(751)],a.y=r.id,a.z=r[e(751)],a.w=r.length,t.progressType=A[e(458)]}static[F(728)](t,e){const s=F;return new nt(t[s(891)](),e[s(834)])}[F(850)](){return{reverse:this[F(834)]}}}class rt extends C{constructor(t,e,s=!1,i=!1){const n=F;super(),this.particleSequences=t,this.speed=e,this[n(904)]=s,this[n(834)]=i}[F(478)](t,e){const s=F,i=t[s(710)],n=this[s(499)].getSequence(i.y),r=e/this[s(742)];if(this[s(834)]){if(i.x-=r,i.x<n[s(751)]&&(i.x=n.start+n[s(624)],!this[s(904)]))return!1}else if(i.x+=r,i.x>=n[s(751)]+n.length&&(i.x=n[s(751)],!this[s(904)]))return!1;return!0}static[F(728)](t,e){const s=F;return new rt(t[s(891)](),e[s(742)],e[s(904)],e[s(834)])}toJSON(){const t=F;return{speed:this.speed,loop:this.loop,reverse:this[t(834)]}}}class at{constructor(t,e){const s=F;this[s(899)]=[],this.tValues=[],this[s(537)]=k.getTypeID(t),e?this[s(701)]=e:this.interpolator=this[s(605)](this[s(537)])}*[Symbol[F(477)]](){const t=F;let e=0;for(;e<this[t(562)]();)yield{element:this.elements[e],tValue:this[t(807)][e]},e++}getElementCount(){const t=F;return this[t(899)][t(624)]}getElement(t){const e=F;if(t>=this[e(562)]())throw new Error(e(572));return this[e(899)][t]}[F(825)](t){const e=F;if(t>=this[e(562)]())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this[e(807)][t]}[F(797)](t,e){const s=F;this.elements[s(709)](t),this[s(807)].push(e)}[F(835)](t,e){const s=F;return this[s(701)](t,this[s(899)],this.tValues,e)}[F(605)]=function(){const t=F,e={lowerIndex:0,upperIndex:0,localT:0},i=new(s[t(873)]),n=new(s[t(610)]),r=new(s[t(454)]),a=new(s[t(760)]),o=s=>(i,n,r,a)=>{const o=t;at[o(817)](r,i,e),s[o(539)](n[e[o(820)]])[o(603)](e[o(436)]),a.copy(n[e[o(604)]])[o(603)](1-e.localT)[o(552)](s)};return function(s){const c=t;switch(s){case k.Default:return(t,s,i)=>{const n=V;return at[n(817)](i,t,e),(1-e.localT)*s[e[n(604)]]+e.localT*s[e[n(820)]]};case k[c(873)]:return o(i);case k[c(610)]:return o(n);case k[c(454)]:return o(r);case k[c(760)]:return o(a)}}}();static[F(817)](t,e,s){const i=F,n=t[i(624)];if(0===n)return s.lowerIndex=-1,s[i(820)]=-1,void(s[i(436)]=-1);let r=0,a=-1,o=0;for(let l=0;l<n&&(r=t[l],!(r>e));l++)a++,o++;s[i(604)]=M.clamp(a,0,n-1),s[i(820)]=M[i(555)](o,0,n-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class ot extends C{constructor(t,e=!1){super(),this.relativeToInitialValue=e,this.interpolationElements=new at(t)}addElement(t,e){const s=F;this.interpolationElements[s(797)](t,e)}[F(502)](t){const e=F;for(const s of t)this[e(577)].addElement(s[0],s[1])}[F(868)](t,e){const s=F;for(const i of e){const[...e]=i[0];this[s(577)][s(797)](new t(...e),i[1])}}[F(641)](t,e){const s=F;let i=0;switch(t[s(864)]){case A[s(551)]:i=0!=t[s(714)]?t[s(435)]/t[s(714)]:t[s(435)];break;case A[s(458)]:i=t[s(710)].x/t[s(710)].w}return this[s(577)][s(835)](i,e)}}class ct extends ot{constructor(t=!1){super(0,t)}[F(792)](t){super[F(502)](t)}updateState(t){const e=F;return this.relativeToInitialValue?t.alpha=t[e(618)]*this.getInterpolatedValue(t,t[e(447)]):t[e(447)]=this.getInterpolatedValue(t,t[e(447)]),!0}static fromJSON(t,e){return new ct(e[F(774)])}[F(850)](){const t=F;return{params:{relativeToInitialValue:this[t(774)]},elements:[...this[t(577)]][t(867)]((e=>[e.element,e[t(788)]]))}}}class ht extends ot{constructor(t=!1){super(s[F(873)],t)}[F(792)](t){const e=F;super[e(868)](s[e(873)],t)}[F(478)]=function(){const t=F,e=new(s[t(873)]);return function(s){const i=t;return this[i(641)](s,e),this[i(774)]?s[i(500)].set(s[i(526)].x*e.x,s[i(526)].y*e.y):s.size.copy(e),!0}}();static[F(728)](t,e){return new ht(e[F(774)])}toJSON(){const t=F;return{params:{relativeToInitialValue:this[t(774)]},elements:[...this.interpolationElements][t(867)]((e=>[e.element[t(838)](),e[t(788)]]))}}}class lt extends ot{constructor(t=!1){super(a,t)}addElementsFromParameters(t){const e=F;super.addElementsFromElementClassAndParameters(s[e(760)],t)}[F(478)]=function(){const t=new a;return function(e){const s=V;return this[s(641)](e,t),this.relativeToInitialValue?e.color[s(890)](e[s(590)].r*t.r,e[s(590)].g*t.g,e.initialColor.b*t.b):e.color[s(539)](t),!0}}();static[F(728)](t,e){return new lt(e[F(774)])}[F(850)](){const t=F;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this.interpolationElements].map((e=>[e[t(438)][t(838)](),e[t(788)]]))}}}class ut extends C{constructor(t){const e=F;super(),this.generator=t[e(525)]()}[F(792)](t){const e=F;super.addElementsFromElementClassAndParameters(THREE[e(610)],t)}[F(478)](t){const e=F;return this[e(752)][e(606)](t.acceleration),!0}static fromJSON(t,e){const s=F,i=e.generator[s(791)][s(728)](e[s(752)][s(576)]);return new ut(i)}[F(850)](t){const e=F;return{generator:this[e(752)][e(850)](t)}}}class dt extends Z{constructor(t,e,i,n,r,a,o,c,h,l,u,d){const p=F;super(s[p(610)]),this[p(622)]=t,this[p(558)]=e,this[p(516)]=i,this.offsetPhi=n,this[p(563)]=r,this[p(759)]=a,this[p(616)]=o,this[p(573)]=c,this[p(608)]=h,this[p(787)]=l,this.offsetY=u,this[p(681)]=d,this[p(493)]=(new(s[p(610)]))[p(638)](0,1,0)}[F(606)](t){const e=F;this[e(493)].set(0,1,0);const s=Math[e(509)]()*this[e(622)]+this[e(558)],i=Math[e(509)]()*this[e(516)]+this[e(554)],n=Math[e(586)](s),r=Math.sin(s),a=Math[e(586)](i),o=Math[e(756)](i);t.set(n,0,-r),t[e(603)](a),this.tempUp.multiplyScalar(o),t.add(this[e(493)]),t[e(448)]();const c=Math[e(509)]()*this.rangeRadius+this[e(759)];t[e(603)](c),t.x*=this[e(616)],t.y*=this[e(573)],t.z*=this.scaleZ,t.x+=this[e(787)],t.y+=this[e(534)],t.z+=this[e(681)]}[F(525)](){const t=F;return new dt(this.rangeTheta,this[t(558)],this[t(516)],this[t(554)],this[t(563)],this.offsetRadius,this[t(616)],this.scaleY,this[t(608)],this[t(787)],this[t(534)],this[t(681)])}static[F(728)](t){const e=F;return new dt(t.rangeTheta,t[e(558)],t[e(516)],t.offsetPhi,t[e(563)],t.offsetRadius,t[e(616)],t[e(573)],t.scaleZ,t[e(787)],t.offsetY,t.offsetZ)}toJSON(t){const e=F;return{type:t.getTypePath(dt),params:{rangeTheta:this.rangeTheta,offsetTheta:this[e(558)],rangePhi:this[e(516)],offsetPhi:this[e(554)],rangeRadius:this[e(563)],offsetRadius:this[e(759)],scaleX:this.scaleX,scaleY:this[e(573)],scaleZ:this.scaleZ,offsetX:this.offsetX,offsetY:this[e(534)],offsetZ:this[e(681)]}}}}class pt{constructor(){}}class mt extends pt{constructor(t,e,i,n,r,a,o=void 0){const c=F;super(),this[c(467)]=null,this[c(655)]=null,this[c(846)]=performance[c(666)]()/1e3,this[c(557)]=this[c(846)],this[c(783)]=this[c(846)],this[c(581)]=1,this[c(465)]=1,this[c(644)]=new(s[c(610)]),this[c(531)]=new(s[c(610)]),this[c(805)]=1,this[c(511)]=2,this[c(685)]=t,this.init(t,e,i,n,r,a,o)}[F(909)](t,e,i,n,r,a,o=void 0){const c=F;this[c(467)]=new(s[c(684)]),t[c(552)](this[c(467)]),n=n||new(s[c(760)]),r=r||0,null!=a&&null!=a||(a=2);const h=!!o;return this[c(655)]=new(s[c(593)])(16777215,2,0,1),this[c(655)][c(646)][c(539)](n),this[c(655)][c(587)]=r,this[c(655)][c(637)]=a,this[c(655)][c(828)]=h,h&&(this[c(655)][c(755)].mapSize[c(900)]=o[c(560)]||512,this.light[c(755)].mapSize[c(879)]=o.mapSize||512,this[c(655)][c(755)][c(455)][c(673)]=o.cameraNear||.5,this.light[c(755)][c(455)][c(668)]=o[c(723)]||500,this[c(655)][c(755)].bias=o[c(877)]||1e-4,this.light.shadow[c(745)]=o.edgeRadius||1),this.owner[c(552)](this.light),this[c(805)]=e,this[c(511)]=i,this[c(655)]}[F(550)](){const t=F;this.parent.remove(this[t(467)])}[F(778)](){return this.light}setIntensity(t){this[F(805)]=t}[F(434)](t){const e=F,s=t-this[e(557)],i=1/8,n=this[e(511)];if(s>i){this[e(557)]=t;let s=1+2*(Math[e(509)]()-.5)*n*i;const r=s-this[e(581)];s=this[e(581)]+r,this[e(581)]=this[e(465)],this[e(465)]=M.clamp(s,.25,1.5)}else{const t=s/i,n=(1-t)*this[e(581)]+t*this[e(465)];this[e(655)][e(805)]=n*this[e(805)]}if(t-this.lastPositionFlickerTime>.0625){this[e(783)]=t;const s=t-this[e(846)];this.positionAdjuster.set(Math[e(509)]()-.5,Math[e(509)]()-.5,Math[e(509)]()-.5),this.positionAdjuster[e(603)](s),this[e(531)][e(552)](this[e(644)]),this.positionAdjuster.multiplyScalar(.5),this[e(467)][e(845)].copy(this[e(531)]),this[e(644)][e(539)](this[e(531)]),this[e(846)]=t}}}class ft{constructor(){const t=F;this[t(786)]={default:{}},this[t(763)]={},this[t(582)]=0}[F(505)](t,e){const s=F;this[s(461)](s(561),t,e)}[F(461)](t,e,s){const i=F;if(!this[i(786)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[i(786)][t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this[i(771)](s,e,t)&&(this[i(786)][t][e]=s)}[F(800)](t,e){const s=F;if(this[s(786)][t])throw new Error(s(472));this[s(786)][t]=e;for(const i in e)if(!e.hasOwnProperty||e[s(669)](i)){const n=e[i];this[s(771)](n,i,t)}}[F(771)](t,e,s){const i=F;if(typeof t===i(766)){const n=this[i(582)]++;t[i(854)]=n,this[i(763)][n]={namespace:s,typeName:e}}}[F(664)](t,e){const s=F;if(!this.jsonTypes[t])throw new Error(s(688));if(!this[s(786)][t][e])throw new Error(s(764));return this[s(786)][t][e]}[F(851)](t){const e=F;return this[e(763)][t[e(854)]]}[F(495)](t){const e=F,s=this[e(851)](t);if(s)return s[e(490)]+"."+s.typeName}[F(693)](t){const e=F,s=t.split("."),i=s[0];s.splice(0,1);return{namespace:i,typeName:s[e(541)](".")}}[F(713)](t){const e=F,{namespace:s,typeName:i}=this[e(693)](t);return this.getType(s,i)}}function wt(t){function e(t){const s=V;if("string"==typeof t)return function(t){}.constructor(s(566))[s(452)]("counter");1!==(""+t/t)[s(624)]||t%20==0?function(){return!0}[s(480)]("debu"+s(592)).call(s(653)):function(){return!1}[s(480)](s(761)+s(592))[s(452)](s(471)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const St=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:ut,AnimatedSpriteRenderer:Y,Atlas:j,BaseParticleStateInitializer:R,BaseParticleStateOperator:q,BoxPositionInitializer:tt,ColorInterpolatorOperator:lt,ConstantParticleEmitter:G,FlickerLight:mt,JSONTypeStore:ft,LifetimeInitializer:$,Manager:B,OpacityInterpolatorOperator:ct,ParticleStateArray:T,ParticleSystem:_,ParticleSystemState:U,RandomGenerator:H,RandomVelocityInitializer:st,Renderer:D,RotationInitializer:Q,RotationalSpeedInitializer:K,SequenceInitializer:nt,SequenceOperator:rt,SizeInitializer:et,SizeInterpolatorOperator:ht,SphereRandomGenerator:dt},Symbol.toStringTag,{value:"Module"})),gt=S({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=t,n=new B,r=new ft;r.addNamespace("THREE",s),r.addNamespace("Photons",St);const{renderer:o,camera:c,scene:h}=f(),l=new i(...e.position);n.addParticleSystem(((t,e)=>{const s=new d;s.position.copy(e);const n="./plugins/digitalCity/image/fireF/ember.png",r=(new p).load(n),a=new j(r,n);a.addFrameSet(1,0,0,1,1);const c=new Y(!0,a,!0,m),h=new _(s,c,o.value);h.init(150),h.setEmitter(new G(6));const l=new H(u,new u(0,0),new u(.15*t,.15*t),0,0,!1);h.addParticleStateInitializer(new $(3,1,0,0,!1)),h.addParticleStateInitializer(new et(l)),h.addParticleStateInitializer(new tt(new i(.05*t,0,.05*t),new i(-.025*t,0,-.025*t))),h.addParticleStateInitializer(new st(new i(.4*t,.5*t,.4*t),new i(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));h.addParticleStateOperator(new ct).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);h.addParticleStateOperator(new lt(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const f=new dt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return h.addParticleStateOperator(new ut(f)),h.setSimulateInWorldSpace(!0),h.start(),h})(e.scale,l)),n.addParticleSystem(((t,e)=>{const s=new d;s.position.copy(e);const n="./plugins/digitalCity/image/fireF/base_flame.png",r=(new p).load(n),a=new j(r,n);a.addFrameSet(18,0,0,.125,.25);const c=new Y(!0,a,!0),h=new _(s,c,o.value);h.init(50),h.setEmitter(new G(10)),h.addParticleSequence(0,18);const l=h.getParticleSequences();h.addParticleStateInitializer(new $(0,0,0,0,!1)),h.addParticleStateInitializer(new Q(new H(0,Math.PI/2,-Math.PI/2,0,0,!1))),h.addParticleStateInitializer(new K(1,-1,0,0,!1)),h.addParticleStateInitializer(new et(new H(u,new u(.25*t,.25*t),new u(.5*t,.5*t),0,0,!1))),h.addParticleStateInitializer(new tt(new i(.05*t,0,.05*t),new i(-.025*t,0,-.025*t))),h.addParticleStateInitializer(new st(new i(.05*t,.4*t,.05*t),new i(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),h.addParticleStateInitializer(new nt(l)),h.addParticleStateOperator(new rt(l,.07,!1));h.addParticleStateOperator(new ct).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);h.addParticleStateOperator(new ht(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return h.addParticleStateOperator(new lt(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),h.addParticleStateOperator(new ut(new H(i,new i(0,0,0),new i(0,1.5*t,0),0,0,!1))),h.setSimulateInWorldSpace(!0),h.start(),h})(e.scale,l)),n.addParticleSystem(((t,e)=>{const s=new d;s.position.copy(e);const n="./plugins/digitalCity/image/fireF/bright_flame.png",r=(new p).load(n),a=new j(r,n);a.addFrameSet(16,0,0,212/1024,.25);const c=new Y(!0,a,!0),h=new _(s,c,o.value);h.init(20),h.setEmitter(new G(5)),h.addParticleSequence(0,16);const l=h.getParticleSequences();h.addParticleStateInitializer(new $(0,0,0,0,!1)),h.addParticleStateInitializer(new Q(new H(0,Math.PI,-Math.PI/2,0,0,!1))),h.addParticleStateInitializer(new K(Math.PI/2,-Math.PI/4,0,0,!1)),h.addParticleStateInitializer(new et(new H(u,new u(0,0),new u(0,0),.2*t,.65*t,!1))),h.addParticleStateInitializer(new tt(new i(.1*t,0,.1*t),new i(-.05*t,0,-.05*t))),h.addParticleStateInitializer(new st(new i(.02*t,.4*t,.02*t),new i(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),h.addParticleStateInitializer(new nt(l)),h.addParticleStateOperator(new rt(l,.1,!1));h.addParticleStateOperator(new ct).addElements([[0,0],[.6,.2],[.5,.75],[0,1]]);h.addParticleStateOperator(new ht(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return h.addParticleStateOperator(new lt(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),h.addParticleStateOperator(new ut(new H(i,new i(0,0,0),new i(0,1.5*t,0),0,0,!1))),h.setSimulateInWorldSpace(!0),h.start(),h})(e.scale,l)),n.addComponent(((t,e=10)=>{const s=new d;h.value.add(s),s.position.copy(t);return new mt(s,e,2,(new a).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(l,100));const{onBeforeLoop:S}=w();return S((()=>{n.update(),n.render(o.value,c.value)})),(t,e)=>null}}),yt=S({__name:"fireF",setup(e){const s=g();return y((()=>{s.value&&(s.value.$refs.tcRef?s.value.$refs.tcRef.context.camera.value.position.set(580,360,500):s.value.$refs.perspectiveCameraRef&&s.value.$refs.perspectiveCameraRef.position.set(580,360,500))})),(e,i)=>(x(),v(t,{ref_key:"pagesShowRef",ref:s},{ability:P((()=>[I(gt,{position:[0,20,10],scale:40})])),_:1},512))}});export{yt as default};
