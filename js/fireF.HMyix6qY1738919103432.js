var t,e,s,i,n,r,o,a,c,h,l,u,p,f,m=Object.defineProperty,d=(t,e,s)=>(((t,e,s)=>{e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as w}from"./pagesShow.vue_vue_type_script_setup_true_lang.ArRVHI6l1738919103432.js";import{_ as g,b as S,C as y,V as v,e as x,M as I,X as P,cu as A,ar as F,v as T,aX as b,b6 as z,T as R,an as E,a2 as V}from"./three.CYhYNU4g1738919103432.js";import{m as O,e as C}from"./@tresjs.G4idgyWs1738919103432.js";import{d as M,b as q,a2 as N,o as _,f as j,g as U,j as X}from"./@vue.NRI7TcgI1738919103432.js";import"./three-custom-shader-material.Z8kEU4301738919103432.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";const B=D;function D(t,e){const s=tt();return(D=function(t,e){return s[t-=140]})(t,e)}!function(t,e){const s=D,i=tt();for(;;)try{if(517770===parseInt(s(257))/1*(-parseInt(s(183))/2)+parseInt(s(309))/3*(parseInt(s(544))/4)+parseInt(s(436))/5+-parseInt(s(242))/6+parseInt(s(378))/7+-parseInt(s(313))/8*(-parseInt(s(549))/9)+parseInt(s(558))/10*(-parseInt(s(354))/11))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const W=class{constructor(t){this.name=t}};t=B(501),e=B(169),d(W,t,new W("Time")),d(W,e,new W(B(169)));let Y=W;class G{constructor(){this[B(342)]()}[B(342)](){const t=B;this[t(589)]=Y.Time,this[t(528)]=1,this[t(430)]=0,this[t(495)]=new(g[t(368)]),this.position=new(g[t(351)]),this.velocity=new(g[t(351)]),this[t(422)]=new(g[t(351)]),this[t(488)]=new S,this[t(559)]=0,this[t(172)]=0,this.size=new(g[t(394)]),this[t(329)]=new y,this[t(320)]=1,this[t(167)]=new v,this[t(327)]=new y,this[t(260)]=1}setAll(t,e,s,i,n,r,o,a,c,h,l,u,p,f,m,d){const w=B;this[w(589)]=t,this[w(528)]=e,this[w(430)]=s,this[w(495)][w(188)](i),this[w(526)][w(188)](n),this[w(310)][w(188)](r),this[w(422)][w(188)](o),this.normal.copy(a),this.rotation=c,this.rotationalSpeed=h,this[w(142)]=l,this[w(329)][w(188)](u),this[w(320)]=p,this[w(167)][w(188)](f),this.initialColor[w(188)](m),this.initialAlpha=d}[B(507)](t){const e=B;t.setAll(this.progressType,this.lifetime,this[e(430)],this[e(495)],this.position,this[e(310)],this[e(422)],this.normal,this[e(559)],this[e(172)],this[e(142)],this.color,this.alpha,this[e(167)],this[e(327)],this[e(260)])}[B(188)](t){const e=B;this[e(419)](t[e(589)],t[e(528)],t[e(430)],t[e(495)],t[e(526)],t.velocity,t[e(422)],t[e(488)],t[e(559)],t[e(172)],t.size,t[e(329)],t[e(320)],t[e(167)],t.initialColor,t[e(260)])}}class L{constructor(){d(this,s,function(){const t=B,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[D(231)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();e(this,(function(){const t=D,s=function(){const t=D;let e;try{e=Function(t(473)+t(228)+");")()}catch(s){e=window}return e}(),i=s.console=s[t(397)]||{},n=[t(569),t(306),t(287),t(588),t(598),t(401),"trace"];for(let r=0;r<n[t(479)];r++){const s=e[t(302)][t(582)][t(485)](e),o=n[r],a=i[o]||s;s[t(210)]=e[t(485)](e),s[t(603)]=a.toString[t(485)](a),i[o]=s}}))();const s=new(g[t(351)]);return function(e=new(g[t(204)]),i=null){const n=t,r=e[n(461)],o=e[n(259)];for(let t=0;t<this[n(217)];t++){const e=this[n(166)](t);let a=e[n(526)];i&&(s[n(188)](a),s[n(435)](i),a=s);const c=Math[n(259)](e[n(142)].x,e.size.y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,f=a.z-c,m=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=f),(0==t||a.z>o.z)&&(o.z=m)}return e}}()),d(this,"computeBoundingSphere",function(){const t=B,e=new(g[t(351)]),s=new(g[t(351)]),i=new(g[t(351)]);return function(n=new(g[t(530)]),r=null){const o=t;let a=0;for(let t=0;t<this[o(217)];t++){const n=this[o(166)](t);let c=n[o(526)];r&&(i[o(188)](c),i.applyMatrix4(r),c=i);const h=Math[o(259)](n[o(142)].x,n[o(142)].y);if(0==t)e.copy(c),a=h;else{s.copy(c)[o(532)](e);const t=s[o(479)]()+h;if(t>a){const i=(t-a)/2;s.normalize().multiplyScalar(i),e[o(208)](s),a+=i}}}return n[o(412)][o(188)](e),n[o(506)]=a,n}}());const t=B;this.particleCount=0,this[t(217)]=0,this[t(253)]=[]}init(t){this[B(542)](t)}[B(542)](t){const e=B;this[e(197)]!=t&&(this[e(609)](),this[e(580)](t)),this[e(197)]=t}setActiveParticleCount(t){this.activeParticleCount=t}[B(580)](t){const e=B;this.particleStates=[],this[e(197)]=t;for(let s=0;s<t;s++)this[e(253)][s]=new G}[B(609)](){}[B(303)](){return this.particleCount}flushParticleStateToBuffers(){}[B(254)](t,e){const s=B;if(t>=this[s(197)])throw new Error(s(446));if(e>=this[s(197)])throw new Error(s(505));const i=this[s(253)][t],n=this.particleStates[e];i[s(507)](n)}[B(614)](t,e){const s=B;if(t>=this[s(197)])throw new Error('ParticleStateArray::setState() -> "index" is out of range.');return this[s(253)][t].copy(e)}getState(t){const e=B;if(t>=this.particleCount)throw new Error(e(605));return this[e(253)][t]}}s=B(233);class J{constructor(t,e,s=0){const i=B;this.start=t,this[i(479)]=e,this.id=s}}class k{constructor(){this[B(498)]={},this.ids=[]}[B(239)](t,e,s){const i=B;if(this[i(384)](s))throw new Error(i(551));const n=new J(t,e,s);return this[i(498)][s]=n,this[i(444)][i(344)](s),n}[B(238)](t){const e=B;if(!this[e(384)](t))throw new Error(e(285));return this[e(498)][t]}[B(379)](){return this.ids}[B(384)](t){return!!this[B(498)][t]}}class Z{constructor(){}[B(315)](t){const e=B;t.initialColor[e(304)](1,1,1),t[e(167)][e(304)](1,1),t[e(260)]=1,t[e(589)]=Y.Time,t[e(528)]=0,t[e(430)]=0,t[e(495)][e(304)](0,0,0,0),t[e(526)][e(304)](0,0,0),t[e(310)][e(304)](0,0,0),t[e(422)].set(0,0,0),t.normal[e(304)](0,0,1),t.rotation=0,t[e(172)]=0,t.size.copy(t.initialSize),t[e(329)][e(188)](t.initialColor),t[e(320)]=1}}class H extends Z{constructor(){super()}[B(315)](t){super[B(315)](t)}}class ${constructor(){}[B(174)](){}}class Q extends ${constructor(){const t=B;super(),this[t(367)]=new(g[t(351)]),this[t(305)]=new(g[t(351)]),this[t(300)]=new(g[t(351)]),this[t(274)]=new(g[t(351)])}[B(174)](t,e){const s=B;return super[s(174)](t,e),this[s(300)].copy(t[s(422)]),this[s(305)][s(188)](this[s(300)]),this[s(305)].multiplyScalar(e),t[s(310)][s(208)](this[s(305)]),this[s(274)][s(188)](t.velocity),this[s(367)].copy(this.stateVelocity),this[s(367)][s(519)](e),t[s(526)][s(208)](this[s(367)]),t[s(430)]=t[s(430)]+e,t.rotation=t[s(559)]+e*t[s(172)],!0}}class K{static[B(161)](t,e,s){const i=B;return Math[i(461)](Math[i(259)](t,e),s)}static[B(152)](){return performance[B(543)]()/1e3}}function tt(){const t=["setX","setState","operators","componentContainer","cameraFar","particleSystems","jsonTypes","autoClear","size","scaleY","typeIDGen","speedGenerator","       float dRightV = rotVecStep.w - rotVecStep.z; \n","rangePhi","       float uLeftV = rotVecStep.x; \n","texture","       viewPosition = viewMatrix * particlePosition;\n","frameSets","currentTime","getParticleStateArray","string","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","geometry","getElementCount","distance","cos","positionAdjuster","clamp","data","jsonTypeNames","   vec4 color2 = color1; \n","bias","getState","initialSize","addElementsFromParameters","Sequence","particleStateArray","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","rotationalSpeed","default","updateState","width",'Atlas::getFrameSet -> "index" is out of range.',"customIndexes","   vFragAlpha = alpha; \n","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","getRotations","JSONTypeStore::getType() -> namespace does not exist","input","509874XUkAaL","castShadow","getPositions","   const vec2 right = vec2(1.0, 0.0);\n","updateEmitCount","copy","renderOrder","transformDirection","initialAlphas","outTypeID","setOwner","   float rightSide; \n","Shader","getSizes","particleCount","rangeTheta","far","   if (instanced != 1) { \n","params","renderer","needsUpdate","Box3","source","   \n  #include <logdepthbuf_vertex> \n","offsetRadius","add","upperIndex","__proto__","attribute float alpha;\n","void main() { \n","colors","getParticleSequences","boundingSphere","sqrt","activeParticleCount","normalizeDirection","particleSequences","uniformsNeedUpdate","timeActive","splice","lowerIndex","pause","components","TextureLoader","updateBounds",'{}.constructor("return this")( )',"map","transformInitialDirectionInWorldSpace","apply","debu","computeBoundingBox","attribute vec4 sequenceElement;\n","getActiveParticleCount","       upperSide = baseUV.y; \n","positions","getSequence","addSequence","floor","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","5732334MsNAfy","mesh","DynamicDrawUsage","emissionRelativeStartTime","lastIntensityAdjuster","interpolationElements","rangeRadius","lastPositionAdjuster","boundingBox","framesets","getGeometry","particleStates","copyState","setXYZ","typeName","1TIQGAt","   const vec2 up = vec2(0.0, 1.0);\n","max","initialAlpha","edgeRadius","tValues","calculateBoundingSphereFromBox","hasOwnProperty","getColors","setIntensity","baseURI",'ComponentContainer::getComponent() -> "index" is out of range.',"activateParticles","   const vec2 dLeft = vec2(-1.0, -1.0);\n","getParticleSystemRenderer","checkAndAddTypeName","Default","stateVelocity","Paused","directionGenerator","setRGB","emitterInitialized","systemState","simulateInWorldSpace","OneMinusSrcAlphaFactor","getInterpolatedValue","   float atlasFrameX = atlasFrames.x; \n","material","ParticleSequenceGroup::getSequence -> Invalid ID.","gger","info","getParticleStateOperatorCount","addTypeToNamespace","initialized","start","rotationalSpeeds","JSONTypeStore::getType() -> typeName does not exist","normals","varying float vSequenceElementT; \n","name","lifetimes","Running","computeBoundingSphere","stateAcceleration","  \n #include <logdepthbuf_pars_fragment> \n","constructor","getParticleCount","set","timeScaledAcceleration","warn","copyParticleInArray","maxParticleCount","3LwiQVi","velocity","tempUp","baseUVs","8TRTbHP","addElement","initializeState","activeCount","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","sin","scaleX","alpha","Renderer::init() -> trying to intialize more than once.","emissionRate","Object3D","parent","} \n","relativeToInitialValue","initialColor","interpolateAtlasFrames","color","NormalBlending","getParticleState","emissionMaximum","initialSizes","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","height","fromArray","basePositions","InstancedBufferGeometry","   vec2 uv2; \n","nextIntensityAdjuster","stateObject","init","frustumCulled","push","   float uvYOffset = atlasFrameHeight * upperSide; \n","getTypeNames","___photonsTypeID","flushParticleStateToBuffers","addFrameSet","while (true) {}","Vector3","const int MAX_ATLAS_FRAME_SETS = 16; \n","baseUV","2937CNMCCA","emitCount","setTransformInitialDirectionInWorldSpace","Color","load","BufferAttribute","range","offsetZ","setAttribute","   vec2 uv1; \n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","render","getInterpolatorForTypeID","timeScaledVelocity","Vector4","mapSize","instanced","addComponent","particleEmitter","   vec2 rotVec; \n","setEmitter","setSimulateInWorldSpace",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"update","1786603vmPAmS","getSequenceIDs","getMaximumActiveParticles","value","addElements","randomGenerator","hasID","startupTime","normalize","getFrameSet","attribute float rotation;\n","invert","varying float vFragAlpha;\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","clone","addParticleSystem","Vector2","createMaterial","   gl_FragColor.a *= vFragAlpha; \n","console","Normal","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","type","table","onUpdateCallback","generator","   const vec2 uLeft = vec2(-1.0, 1.0);\n","particleStateOperators","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","lastIntensityFlickerTime","addParticleStateInitializer","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","reverse","getTypeID","center","particleSystemRenderer","owner","generate","#include <common>","counter","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","setAll","getComponent","velocities","acceleration","instanceCount","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","advanceActiveParticles","getTexturePath","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","Done","initialColors","age","localT",'ContinuousArray::getTValue() -> "index" is out of bounds.',"elements","getSequenceElements","applyMatrix4","2554020qTHwll","setBoundingSphere","getSystemState","atlas","attribute vec3 color;\n","progressTypes","   vec4 viewPosition; \n","namespace","ids","matrixWorld",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"Additive","remove","intensity","function *\\( *\\)","varying float vSequenceElementT;\n","light","interpolator","getParticleStateOperator","emitter","getParameterJSON","   float rotMag = rotation; \n","element","addNamespace","varying vec3 vFragColor;\n","min","call","getVisible","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","function","addElementsFromElementClassAndParameters","   float atlasFrameWidth = atlasFrames.z; \n","camera","split","sizes",'ContinuousArray::getElement() -> "index" is out of bounds.',"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","return (function() ","getTypePath","test","getSimulateInWorldSpace","customIndex","setDrawRange","length","offsetTheta","   const vec2 uRight = vec2(1.0, 1.0);\n","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","tValue","indexOf","bind","   }  else { \n","getFrameSetCount","normal","   float upperSide; \n","lastUpdateTime","setUsage","setBoundingBox","uniform int interpolateAtlasFrames; \n","   int firstSequenceElement = int(sequenceElementF); \n","sequenceElement","texturePath","internalUpdate","sequences","alphas","offset","Time","   int sequenceNumber = int(sequenceElement.y);\n","uniformRange","uniforms",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"radius","copyTo","varying vec2 vUV2;\n","blending","   const vec2 down = vec2(0.0, -1.0);\n","       rightSide = baseUV.x; \n","getLight","addParticleSequence","getParticleStates","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","updateMeshBounds","loadJSONParameter","toArray","multiplyScalar","random","scaleZ","Mesh","getParticleStateInitializer",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"ShaderMaterial","position","offsetY","lifetime","accelerations","Sphere","activateParticle","sub","NotStarted","speed","void main()\n","maximumActiveParticles","varying vec2 vUV1;\n","verticesPerParticle","getTValue","   const vec2 dRight = vec2(1.0, -1.0);\n","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","setParticleCount","now","2904136DuWhiW","uniform int simulateInWorldSpace; \n","intensityFlux","stop","setActiveParticleCount","6043554VabcNG","setParticleSequences","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","   float uvXOffset = atlasFrameWidth * rightSide; \n","offsetX",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"visible","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","getEmitter","16310aTjbDy","rotation","v4v","action","JSONTypeStore::addTypeToNamespace() -> typeName already exists","addParticleStateOperator","near","   float atlasFrameHeight = atlasFrames.w; \n","       upperSide = upperSideStep.x + upperSideStep.y;\n","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","sequenceElements","log","setXY","join","elementTypeID","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","speedRange","lastPositionFlickerTime","fromJSON","calculatingBoundingSphereFromBox","   } \n","loop","allocate","       float uRightV = rotVecStep.z; \n","prototype","BufferGeometry","shadow","outType","parseTypeString","uniformOffset","error","progressType","toJSON","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","emissionDuration","initializers","setXYZW","particleStateInitializers","rotations","ages","exception","getInterpolationValuesForTValue","generateForElement","startTime","getTexture","toString","getType",'ParticleStateArray::getState() -> "index" is out of range.',"uniform vec2 uvOffset;\n","offsetPhi","addType","dispose","       rightSide = step(2.0, customIndex); \n","uniform int instanced; \n","   } else { \n"];return(tt=function(){return t})()}class et{constructor(){this[B(225)]=[]}[B(371)](t){const e=B;this[e(225)][e(344)](t)}[B(377)](t,e){const s=B;for(const i of this[s(225)])i[s(377)](t,e)}[B(420)](t){const e=B;if(t>=this[e(225)][e(479)])throw new Error(e(268));return this[e(225)][t]}}const st=class{constructor(t){this.name=t}};i=B(298),n=B(428),d(st,"NotStarted",new st("NotStarted")),d(st,i,new st(B(298))),d(st,"Paused",new st("Paused")),d(st,n,new st(B(428)));let it=st;class nt{constructor(t,e){d(this,r,function(){const t=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[D(231)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){t(this,(function(){const t=D,e=new RegExp(t(450)),s=new RegExp(t(424),"i"),i=_t(t(342));e[t(475)](i+"chain")&&s.test(i+t(182))?_t():i("0")}))()}();const e=new I;return function(){const t=D;let s=null;this.transformInitialDirectionInWorldSpace&&(s=e,s[t(188)](this[t(414)][t(445)])[t(389)]()),this.particleSystemRenderer[t(577)]()?(this[t(253)][t(233)](this[t(250)],s),this[t(413)][t(492)](this[t(250)])):(this.particleStates[t(299)](this[t(215)],s),this[t(413)][t(437)](this.boundingSphere))}}());const s=B;this[s(414)]=t,this[s(414)].visible=!1,this[s(555)]=!0,this[s(413)]=e,this[s(290)]=!1,this[s(536)]=0,this[s(217)]=0,this[s(280)]=!0,this[s(278)]=!1,this[s(372)]=null,this[s(616)]=new et,this[s(595)]=[],this[s(405)]=[],this[s(253)]=null,this[s(279)]=it[s(533)],this[s(219)]=new k,this[s(402)]=null,this[s(230)]=!0,this[s(250)]=new(g[s(204)]),this[s(215)]=new x}[B(342)](t){const e=B;if(this[e(290)])throw new Error("ParticleSystem::init() -> trying to intialize more than once.");this[e(536)]=t,this[e(413)]?(this[e(413)][e(193)](this.owner),this[e(413)][e(342)](this[e(536)],this[e(280)]),this.particleSystemRenderer[e(375)](this[e(280)]),this[e(253)]=this[e(413)][e(153)]()):(this[e(253)]=new L,this[e(253)][e(342)](this[e(536)])),this[e(408)](new H),this[e(563)](new Q),this[e(290)]=!0}[B(463)](){return this[B(555)]}setVisibile(t){return this.visible=t}onUpdate(t){this[B(402)]=t}update(t,e){const s=B;if(this[s(279)]==it[s(298)]){if(this[s(414)].updateWorldMatrix(!0),t=null==t||null==t?K.currentTime():t,e=null==e||null==e?t-this[s(490)]:e,this[s(278)]&&this.systemState==it.Running){const t=this.particleEmitter[s(377)](e);t>0&&this[s(269)](t),this[s(425)](e),this.onUpdateCallback&&this[s(402)](this[s(217)]),this.updateBounds()}this[s(616)][s(377)](t,e),this[s(490)]=t}}[B(365)](t,e){const s=B;if(this.getVisible()&&this[s(413)]){const i=t[s(141)];t.autoClear=!1,this[s(414)][s(555)]=!0,this[s(414)].matrixWorldNeedsUpdate=!0,this[s(413)][s(365)](this.owner,t,e),this[s(414)][s(555)]=!1,t[s(141)]=i}}[B(291)](){const t=B;this.systemState!=it[t(533)]&&this[t(279)]!=it[t(275)]||(this.systemState=it.Running,this.startTime=K[t(152)](),this[t(490)]=this[t(601)])}[B(224)](){const t=B;this[t(279)]==it[t(298)]&&(this[t(279)]=it[t(275)])}[B(547)](){}[B(438)](){return this[B(279)]}[B(374)](t){const e=B;return this.particleEmitter=t,this[e(372)][e(536)]=this[e(536)],this[e(278)]=!0,this[e(372)]}[B(371)](t){const e=B;this[e(616)][e(371)](t)}[B(420)](t){const e=B;return this[e(616)][e(420)](t)}[B(408)](t){const e=B;return this.particleStateInitializers[e(344)](t),t}getParticleStateInitializerCount(){const t=B;return this[t(595)][t(479)]}[B(523)](t){const e=B;if(t>=this[e(595)][e(479)])throw new Error(e(554));return this[e(595)][t]}[B(563)](t){const e=B;return this[e(405)][e(344)](t),t}[B(288)](){const t=B;return this[t(405)][t(479)]}[B(454)](t){const e=B;if(t>=this[e(405)][e(479)])throw new Error(e(524));return this.particleStateOperators[t]}getMaximumActiveParticles(){return this[B(536)]}[B(235)](){return this[B(217)]}[B(331)](t){const e=B;if(t>=this.activeParticleCount)throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this.particleStates[e(166)](t)}[B(514)](){return this[B(253)]}getParticleSystemRenderer(){return this.particleSystemRenderer}[B(476)](){return this[B(280)]}[B(375)](t){const e=B;this.simulateInWorldSpace=t,this[e(413)]&&this.particleSystemRenderer[e(375)](this[e(280)])}[B(356)](t){this[B(230)]=t}addParticleSequence(t,e,s=0){const i=B;this[i(219)][i(239)](t,e,s)}[B(214)](){return this[B(219)]}[B(557)](){return this[B(372)]}[(r=B(227),B(269))](t){const e=B;if(this[e(279)]==it[e(298)]){const s=K.clamp(this.activeParticleCount+t,0,this[e(536)]);for(let t=this[e(217)];t<s;t++)this[e(531)](t);this[e(217)]=s,this[e(253)].setActiveParticleCount(this[e(217)])}}[B(531)](t){const e=B;if(this[e(279)]==it[e(298)]){const s=this[e(253)][e(166)](t);s[e(430)]=0;for(let t=0;t<this.particleStateInitializers[e(479)];t++){this[e(595)][t].initializeState(s)}if(this[e(280)]){s[e(526)].applyMatrix4(this[e(414)][e(445)]);const t=s[e(310)][e(479)]();if(this.transformInitialDirectionInWorldSpace){s[e(310)][e(190)](this[e(414)].matrixWorld).multiplyScalar(t);const i=s[e(422)][e(479)]();s[e(422)][e(190)](this[e(414)][e(445)]).multiplyScalar(i)}}this[e(253)][e(348)](t)}}[B(425)](t){const e=B;if(this[e(279)]==it.Running){let s=0;for(;s<this.activeParticleCount;){this.advanceActiveParticle(s,t)?s++:(s<this[e(217)]-1&&this[e(307)](this[e(217)]-1,s),this[e(217)]--)}this[e(253)][e(548)](this.activeParticleCount)}}advanceActiveParticle(t,e){const s=B;if(this[s(279)]==it.Running){const i=this[s(253)][s(166)](t);for(let t=0;t<this.particleStateOperators.length;t++){const n=this[s(405)][t][s(174)](i,e),r=i.lifetime;if(!n||0!=r&&i.age>=r)return!1}return this.particleStates[s(348)](t),!0}return!1}[B(307)](t,e){const s=B;this[s(253)][s(254)](t,e),this[s(253)][s(348)](e)}static[B(576)](t,e,s){const i=B,n=(t,e,s)=>{const i=D;e(t);for(const r in t)if(t[i(264)](r)){const s=t[r];"object"==typeof s&&n(s,e)}};n(t,(t=>{const s=D;t[s(400)]&&(t.type=e[s(586)](t[s(400)]))}));const r=t[i(308)],o=t[i(280)],a=t[i(202)],c=a[i(400)][i(576)](a[i(201)]),h=new(g[i(323)]),l=new nt(h,c,s);l[i(342)](r),l[i(375)](o);const u=t[i(455)],p=u.type[i(576)](u[i(201)]);if(l[i(374)](p),t[i(498)])for(const f of t[i(498)])l[i(513)](f[i(291)],f[i(479)],f.id);if(t[i(593)])for(const f of t.initializers)l[i(408)](f.type[i(576)](l,f[i(201)]));if(t[i(615)])for(const f of t[i(615)]){const t=l[i(563)](f[i(400)][i(576)](l,f[i(201)]));f[i(433)]&&t.addElementsFromParameters(f[i(433)])}return[l,h]}[B(590)](t){const e=B,s=this[e(271)](),i=this[e(557)](),n=this[e(214)](),r=n.getSequenceIDs()[e(229)]((t=>{const s=e,i=n[s(238)](t);return{id:t,start:i[s(291)],length:i.length}})),o=[],a=this.getParticleStateInitializerCount();for(let l=0;l<a;l++){const s=this.getParticleStateInitializer(l);s[e(302)]!==H&&o.push({type:t[e(474)](s[e(302)]),params:s.toJSON(t)})}const c=[],h=this[e(288)]();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s[e(302)]!==Q){const i=s.toJSON(t),n=i.params||i,r=i[e(201)]?i[e(433)]:null,o={type:t[e(474)](s[e(302)]),params:n};r&&(o[e(433)]=r),c[e(344)](o)}}return{maxParticleCount:this[e(380)](),simulateInWorldSpace:this[e(476)](),renderer:{type:t[e(474)](s[e(302)]),params:s[e(590)]()},emitter:{type:t[e(474)](i.constructor),params:i[e(590)]()},sequences:r,initializers:o,operators:c}}}class rt{constructor(){const t=B;this[t(618)]=[],this[t(385)]=performance[t(543)]()/1e3,this[t(490)]=this[t(385)],this[t(616)]=new et}[B(377)](){const t=B,e=K[t(152)](),s=e-this[t(490)];for(const i of this.particleSystems)i[t(377)](e,s);this[t(616)][t(377)](e,s),this[t(490)]=e}[B(365)](t,e){const s=B;for(const i of this[s(618)])i[s(365)](t,e)}[B(393)](t){const e=B;this[e(618)][e(344)](t)}[B(371)](t){const e=B;this[e(616)][e(371)](t)}[B(420)](t){return this[B(616)].getComponent(t)}}class ot{constructor(){const t=B;this[t(290)]=!1,this[t(197)]=0,this.owner=null,this[t(280)]=!1}setSimulateInWorldSpace(t){this[B(280)]=t}[B(153)](){}[B(193)](t){this[B(414)]=t}[B(342)](t){const e=B;if(this[e(197)]=t,!this[e(290)])return this[e(290)]=!0,!0;throw new Error(e(321))}[B(365)](){}}class at extends L{constructor(){const t=B;super(),this.geometry=null,this[t(441)]=null,this[t(297)]=null,this[t(597)]=null,this[t(568)]=null,this[t(237)]=null,this[t(421)]=null,this[t(529)]=null,this[t(294)]=null,this.rotations=null,this[t(292)]=null,this.sizes=null,this[t(213)]=null,this.initialSizes=null,this[t(429)]=null,this[t(370)]=!1,this[t(538)]=6}init(t,e=!1){const s=B;this[s(370)]=e,this[s(370)]?this[s(538)]=1:this[s(538)]=6,super[s(342)](t),this[s(580)](t)}[B(542)](t){super[B(542)](t)}[B(548)](t){const e=B;super.setActiveParticleCount(t),t>0?this[e(370)]?this[e(156)][e(423)]=t:this[e(156)][e(478)](0,this.verticesPerParticle*t):this[e(370)]?this[e(156)].instanceCount=0:this.geometry[e(478)](0,0)}flushParticleStateToBuffers(t){const e=B;if(t>=this[e(197)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this.getState(t),i=t*this[e(538)];for(let n=0;n<this.verticesPerParticle;n++)this.lifetimes[e(613)](i+n,s[e(528)]),this[e(297)][e(203)]=!0,this[e(597)][e(613)](i+n,s.age),this[e(597)][e(203)]=!0,this[e(568)][e(594)](i+n,s[e(495)].x,s[e(495)].y,s[e(495)].z,s[e(495)].w),this[e(568)][e(203)]=!0,this.positions[e(255)](i+n,s[e(526)].x,s[e(526)].y,s[e(526)].z),this[e(237)][e(203)]=!0,this[e(421)].setXYZ(i+n,s[e(310)].x,s.velocity.y,s[e(310)].z),this[e(421)][e(203)]=!0,this[e(529)][e(255)](i+n,s[e(422)].x,s[e(422)].y,s[e(422)].z),this[e(529)][e(203)]=!0,this.normals.setXYZ(i+n,s[e(488)].x,s[e(488)].y,s.normal.z),this.normals[e(203)]=!0,this[e(596)][e(613)](i+n,s.rotation),this[e(596)][e(203)]=!0,this[e(292)].setX(i+n,s[e(172)]),this[e(292)][e(203)]=!0,this[e(470)][e(570)](i+n,s[e(142)].x,s.size.y),this.sizes[e(203)]=!0,this[e(213)][e(255)](i+n,s[e(329)].r,s[e(329)].g,s[e(329)].b),this[e(213)][e(203)]=!0,this[e(499)].setX(i+n,s[e(320)]),this.alphas[e(203)]=!0,this[e(333)].setXY(i+n,s[e(167)].x,s.initialSize.y),this[e(333)][e(203)]=!0,this[e(191)][e(613)](i+n,s[e(260)]),this[e(191)][e(203)]=!0}[B(254)](t,e){const s=B;super[s(254)](t,e),this[s(348)](e)}[B(614)](t,e){const s=B;if(t>=this[s(197)])throw new Error(s(376));super[s(614)](t,e),this[s(348)](t)}[B(185)](){return this[B(237)]}[B(196)](){return this.sizes}[B(180)](){return this[B(596)]}[B(434)](){return this[B(568)]}[B(265)](){return this.colors}[B(252)](){return this[B(156)]}allocate(t){const e=B;super[e(580)](t);const s=(t,s)=>{const i=e;return this[i(370)]?new R(t,s):new(g[i(359)])(t,s)},i=this[e(538)]*this[e(197)];if(this[e(370)]){const t=new(g[e(583)]),s=new Float32Array(18);this[e(337)]=new(g[e(359)])(s,3),t.setAttribute("position",this[e(337)]),this[e(337)][e(203)]=!0,this[e(337)][e(255)](0,-1,1,0),this[e(337)].setXYZ(1,-1,-1,0),this[e(337)].setXYZ(2,1,1,0),this[e(337)][e(255)](3,-1,-1,0),this.basePositions[e(255)](4,1,-1,0),this[e(337)][e(255)](5,1,1,0);const i=new Float32Array(12);this[e(312)]=new(g[e(359)])(i,2),t.setAttribute(e(353),this[e(312)]),this[e(312)][e(203)]=!0,this[e(312)][e(570)](0,0,1),this[e(312)][e(570)](1,0,0),this[e(312)][e(570)](2,1,1),this[e(312)][e(570)](3,0,0),this.baseUVs[e(570)](4,1,0),this[e(312)][e(570)](5,1,1);const n=new Float32Array(6);this[e(177)]=new(g[e(359)])(n,1),t[e(362)]("customIndex",this.customIndexes),this[e(177)][e(203)]=!0,this[e(177)].setX(0,0),this[e(177)][e(613)](1,1),this[e(177)][e(613)](2,3),this[e(177)].setX(3,1),this[e(177)][e(613)](4,2),this[e(177)].setX(5,3),this.geometry=(new(g[e(338)]))[e(188)](t),this[e(156)][e(423)]=0}else{this[e(156)]=new(g[e(583)]);const t=new Float32Array(i);this.customIndexes=new(g[e(359)])(t,1),this[e(156)].setAttribute(e(477),this[e(177)]),this.customIndexes[e(203)]=!0;for(let s=0;s<this[e(197)];s++){const t=s*this[e(538)];this[e(177)].setX(t,0),this[e(177)].setX(t+1,1),this[e(177)][e(613)](t+2,3),this[e(177)].setX(t+3,1),this[e(177)][e(613)](t+4,2),this[e(177)][e(613)](t+5,3)}}const n=new Float32Array(i),r=new Float32Array(i),o=new Float32Array(4*i),a=new Float32Array(3*i),c=new Float32Array(3*i),h=new Float32Array(3*i),l=new Float32Array(3*i),u=new Float32Array(i),p=new Float32Array(i),f=new Float32Array(2*i),m=new Float32Array(3*i),d=new Float32Array(i),w=new Float32Array(2*i),S=new Float32Array(3*i),y=new Float32Array(i);this[e(237)]=s(a,3),this[e(237)][e(491)](g[e(244)]),this[e(156)][e(362)]("particlePosition",this[e(237)]),this[e(297)]=s(n,1),this[e(297)][e(491)](g[e(244)]),this[e(156)][e(362)](e(528),this[e(297)]),this.ages=s(r,1),this.ages[e(491)](P),this[e(156)][e(362)](e(430),this[e(597)]),this[e(568)]=s(o,4),this[e(568)][e(491)](g[e(244)]),this[e(156)].setAttribute("sequenceElement",this[e(568)]),this[e(421)]=s(c,3),this[e(421)][e(491)](g[e(244)]),this[e(156)].setAttribute(e(310),this[e(421)]),this[e(529)]=s(h,3),this[e(529)][e(491)](g[e(244)]),this[e(156)][e(362)](e(422),this[e(529)]),this[e(294)]=s(l,3),this[e(294)][e(491)](g[e(244)]),this[e(156)][e(362)](e(488),this[e(294)]),this.rotations=s(u,1),this[e(596)][e(491)](P),this[e(156)][e(362)](e(559),this[e(596)]),this[e(292)]=s(p,1),this[e(292)][e(491)](g[e(244)]),this[e(156)][e(362)](e(172),this[e(292)]),this[e(470)]=s(f,2),this[e(470)][e(491)](g[e(244)]),this[e(156)].setAttribute(e(142),this[e(470)]),this[e(213)]=s(m,3),this[e(213)][e(491)](g[e(244)]),this[e(156)][e(362)](e(329),this[e(213)]),this[e(499)]=s(d,1),this[e(499)][e(491)](g[e(244)]),this[e(156)].setAttribute(e(320),this[e(499)]),this.initialSizes=s(w,2),this[e(333)][e(491)](g[e(244)]),this.geometry[e(362)](e(167),this[e(333)]),this[e(429)]=s(S,3),this.initialColors[e(491)](g[e(244)]),this[e(156)][e(362)](e(327),this[e(429)]),this[e(191)]=s(y,1),this.initialAlphas.setUsage(P),this[e(156)][e(362)]("initialAlpha",this[e(191)])}[B(609)](){const t=B;super.dispose(),this[t(156)]&&(this.geometry[t(609)](),this[t(156)]=null)}}class ct{constructor(t,e,s,i,n){const r=B;this[r(479)]=t,this.x=e,this.y=s,this[r(175)]=i,this[r(335)]=n}}class ht{constructor(t,e){const s=B;this[s(149)]=t,this[s(496)]=e,this[s(151)]=[]}[B(602)](){return this[B(149)]}[B(426)](){return this[B(496)]}[B(487)](){return this[B(151)].length}addFrameSet(t,e,s,i,n){const r=B;this[r(151)][r(344)](new ct(t,e,s,i,n))}[B(387)](t){const e=B;if(t>=this[e(151)][e(479)])throw new Error(e(176));return this[e(151)][t]}}const lt=class t extends ot{constructor(t,e,s=!1,i=A,n=!0,r){const a=B;super(),d(this,o,function(){const t=B,e=new(g[t(351)]);return function(){const s=t,i=this[s(170)][s(252)]();if(this.calculateBoundingSphereFromBox){i[s(250)]||(i[s(250)]=new(g[s(204)])),i[s(250)][s(188)](this[s(250)]),!i.boundingSphere&&(i[s(215)]=new(g[s(530)])),e.x=(this[s(250)].min.x+this[s(250)][s(259)].x)/2,e.y=(this[s(250)][s(461)].y+this[s(250)].max.y)/2,e.z=(this[s(250)].min.z+this.boundingBox[s(259)].z)/2;const t=this[s(250)].max.x-e.x,n=this[s(250)][s(259)].y-e.y,r=this[s(250)][s(259)].z-e.z,o=Math.max(Math[s(259)](t,n),r);i.boundingSphere[s(412)][s(188)](e),i[s(215)][s(506)]=Math[s(216)](2*o*o)}else i[s(215)]||(i[s(215)]=new(g[s(530)])),i[s(215)][s(188)](this.boundingSphere)}}()),this[a(370)]=t,this[a(170)]=null,this[a(284)]=null,this[a(243)]=null,this[a(439)]=e,this.interpolateAtlasFrames=s,this[a(509)]=i,this[a(250)]=new(g[a(204)]),this[a(215)]=new(g[a(530)]),this.calculateBoundingSphereFromBox=n,this[a(189)]=r}[B(193)](t){super[B(193)](t)}getParticleStateArray(){return this[B(170)]}[B(375)](t){const e=B;super[e(375)](t),this[e(284)]&&(this[e(284)][e(504)].simulateInWorldSpace[e(381)]=t?1:0,this.material[e(220)]=!0)}[B(577)](){return this[B(263)]}[B(492)](t){const e=B;this[e(250)].copy(t),this[e(243)]&&this[e(516)]()}[B(437)](t){const e=B;this[e(215)][e(188)](t),this[e(243)]&&this[e(516)]()}[B(365)](t,e,s){e.render(t,s)}init(t){const e=B;super[e(342)](t)&&(this.particleStateArray=new at,this[e(170)][e(342)](t,this.instanced),this[e(284)]=this[e(395)](null,null,null,!0,!1),this[e(284)][e(509)]=this[e(509)],this[e(243)]=new(g[e(522)])(this[e(170)][e(252)](),this[e(284)]),this[e(243)][e(343)]=!0,void 0!==this.renderOrder&&(this[e(243)][e(189)]=this[e(189)]),this[e(516)](),this[e(414)].add(this.mesh))}dispose(){const t=B;this[t(170)][t(609)]()}createMaterial(e,s,i,n,r){const o=B,a=[...Array(16).keys()].map((t=>new F));if(this.atlas)for(let t=0;t<this[o(439)].getFrameSetCount();t++){const e=this[o(439)].getFrameSet(t);a[t]=new(g[o(368)])(e.x,e.y,e[o(175)],e.height)}const c=this[o(439)]?this[o(439)][o(602)]():null,h=this[o(328)],l=this.simulateInWorldSpace,u=this[o(370)]?1:0,p={atlasFrameSet:{type:o(560),value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(g[o(394)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return i=i||{},Object.assign(i,p),e=e||t[o(195)].getVertexShader(r),s=s||t.Shader.getFragmentShader(n,r),new(g[o(525)])({uniforms:i,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:g[o(330)],blendDstAlpha:g[o(281)],blendSrcAlpha:T,depthTest:!0,depthWrite:!1})}static[(o=B(516),a=B(195),B(576))](e){const s=B,i=e[s(439)],n=(new(g[s(226)]))[s(358)](i.texturePath),r=new ht(n,i.texturePath),o=i[s(251)];for(const t of o)r[s(349)](t[s(479)],t.x,t.y,t[s(175)],t[s(335)]);const a=new t(e[s(370)],r,i.interpolateFrames);return e[s(509)]==s(447)?a[s(509)]=b:a[s(509)]=g[s(330)],a}[B(590)](t){const e=B;t=t||(t=>{const e=D;if(t[e(496)])return t[e(496)];const s=t[e(602)]()[e(205)];if(s){const t=s[e(162)];if(t){const s=t[e(267)],i=t.currentSrc;return i[e(484)](s)>=0?i.substr(s[e(479)],i[e(479)]-s.length):i}}});const s=[];for(let n=0;n<this.atlas[e(487)]();n++){const t=this[e(439)][e(387)](n);s.push(t)}let i=e(398);this[e(284)][e(509)]===b&&(i=e(447));return{instanced:this.instanced,blending:i,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this[e(439)]),framesets:s}}}};d(lt,a,{get VertexVars(){const t=B;return[t(352),t(179),t(493),t(545),t(611),"attribute vec2 baseUV;\n","attribute float customIndex;\n","attribute vec4 particlePosition;\n",t(388),"attribute vec2 size;\n",t(234),t(440),t(211),t(537),t(508),"varying vec3 vFragColor;\n",t(390),t(295)][t(571)]("\n")},get FragmentVars(){const t=B;return[t(493),"uniform sampler2D atlasTexture;\n",t(606),t(537),t(508),t(460),t(390),t(451)].join("\n")},getVertexShader(t){const e=B;let s=[e(416),this.VertexVars][e(571)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n",e(467),e(565),e(283),"   float atlasFrameY = atlasFrames.y; \n",e(155),e(556),e(418),e(464),e(399),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   int nRowYTile = int(SNOverHS);\n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n",e(515),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(391),e(427),e(409),e(325),e(535),"{\n",e(186),e(258),"   const vec2 left = vec2(-1.0, 0.0);\n",e(510),e(481),e(404),e(270),e(540),e(442),"   if (simulateInWorldSpace == 1) { \n",e(150),e(612),e(482),e(578),"   float sequenceElementF = sequenceElement.x;\n",e(502),"   int sequenceStart = int(sequenceElement.z);\n","   int sequenceLength = int(sequenceElement.w);\n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n",e(363),e(339),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(494),"   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n",e(406),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(317),"   } \n",e(467),e(565),e(457),e(334),e(194),e(489),e(200),e(610),e(541),e(566),"   }  else { \n",e(511),e(236),e(578),e(552),e(345),e(373),e(200),e(472),e(148),"       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(581),e(146),e(567),e(486),"       rotVec = position.xy; \n ",e(578),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n",e(364),e(573),"   vFragColor = color; \n",e(178)][e(571)]("\n"),t&&(s+=e(206)),s+=e(325),s},getFragmentShader(t,e){const s=B;let i="#include <common> \n"+this.FragmentVars+"\n";return e&&(i+=s(301)),i+=s(212),e&&(i+="    \n  #include <logdepthbuf_fragment> \n"),i+=t?["   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vec4 color2 = color1; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(591),s(396)][s(571)]("\n"):["   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n",s(164),s(241),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(396)].join("\n"),i+="}\n",i}});let ut=lt;class pt{constructor(){const t=B;this.emissionRelativeStartTime=0,this[t(592)]=0,this[t(355)]=0,this[t(430)]=0,this[t(221)]=0,this[t(316)]=0,this.maximumActiveParticles=0}[B(377)](t){return this[B(497)](t),0}internalUpdate(t){const e=B;return this[e(430)]+=t,this[e(221)]=Math[e(259)](this[e(430)]-this[e(245)],0),this[e(430)]>=this[e(245)]&&(0==this[e(592)]||this[e(221)]<=emissionDuration)}[B(187)](t){this[B(355)]+=t}}class ft extends pt{constructor(){const t=B;super(),this.emissionMinimum=0,this[t(332)]=0}}class mt extends ft{constructor(t=0){const e=B;super(),this[e(322)]=t}update(t){const e=B;if(this[e(497)](t)){const t=this[e(322)]*this[e(221)]-this[e(355)];if(t>=1){const s=Math[e(240)](t);return this[e(187)](s),s}}return 0}static fromJSON(t){const e=B,s=new mt;return s[e(322)]=t[e(322)]||0,s}[B(590)](){return{emissionRate:this[B(322)]}}}const dt=class t{constructor(t){this[B(296)]=t}static[(c=B(273),h=B(394),l=B(368),u=B(357),B(411))](e){const s=B;let i=t[s(273)];return e===v?i=t[s(394)]:e===S?i=t[s(351)]:e===g[s(368)]?i=t[s(368)]:e===g[s(357)]&&(i=t[s(357)]),i}static loadJSONParameter(t,e){const s=B;switch(e){case g[s(394)]:return(new v).fromArray(t);case S:return(new(g[s(351)])).fromArray(t);case g[s(368)]:return(new F).fromArray(t);case g[s(357)]:return(new(g[s(357)]))[s(336)](t)}return t}};d(dt,c,new dt(B(273))),d(dt,h,new dt(B(394))),d(dt,"Vector3",new dt(B(351))),d(dt,l,new dt(B(368))),d(dt,u,new dt(B(357)));let wt=dt;class gt{constructor(t){const e=B;this[e(585)]=t,this[e(192)]=wt[e(411)](t)}}class St extends gt{constructor(t,e,s,i,n,r){const o=B;super(t),this[o(360)]=e,this[o(500)]=s,this[o(503)]=i,this[o(587)]=n,this.normalize=r}[B(415)](t){const e=B,s=Math[e(520)]()*this[e(503)];switch(this.outTypeID){case wt[e(273)]:t=Math[e(520)]()*this.range+this[e(500)],this[e(386)]&&(t=t<0?-1:1);break;case wt.Vector2:t[e(304)](this.generateForElement(s,"x"),this[e(600)](s,"y"));break;case wt[e(351)]:t[e(304)](this.generateForElement(s,"x"),this.generateForElement(s,"y"),this[e(600)](s,"z"));break;case wt[e(368)]:t.set(this[e(600)](s,"x"),this.generateForElement(s,"y"),this[e(600)](s,"z"),this[e(600)](s,"w"))}return this[e(386)]&&t.normalize(),t}[B(600)](t,e){const s=B;return t+Math[s(520)]()*this[s(360)][e]+this[s(500)][e]+this.uniformOffset}[B(392)](){const t=B;return new St(this[t(585)],this[t(360)],this.offset,this[t(503)],this[t(587)],this[t(386)])}static[B(456)](t){const e=B;return t instanceof g[e(394)]||t instanceof g[e(351)]||t instanceof g[e(368)]||t instanceof g[e(357)]?t[e(518)]():t}static fromJSON(t){const e=B;return new St(t.type,wt[e(517)](t[e(360)],t[e(400)]),wt[e(517)](t[e(500)],t.type),t.uniformRange||0,t.uniformOffset||0,t[e(386)])}[B(590)](t){const e=B,s={range:St[e(456)](this[e(360)]),offset:St.getParameterJSON(this[e(500)]),uniformRange:this[e(503)],uniformOffset:this[e(587)]},i=t[e(474)](this[e(360)][e(302)]);return null!=i&&(s.type=i),{type:t.getTypePath(St),params:s}}}class yt extends Z{constructor(t,e,s,i,n){const r=B;super(),this[r(360)]=t,this.offset=e,this[r(503)]=s,this[r(587)]=i,this.normalize=n,this[r(403)]=new St(0,this.range,this[r(500)],this[r(503)],this[r(587)],this.normalize)}[B(315)](t){const e=B;t[e(528)]=this.generator[e(415)]()}static[B(576)](t,e){const s=B;return new yt(e[s(360)],e.offset,e.uniformRange,e[s(587)],e[s(386)])}[B(590)](){const t=B;return{range:this[t(360)],offset:this.offset,uniformRange:this[t(503)],uniformOffset:this[t(587)],normalize:this[t(386)]}}}class vt extends Z{constructor(t){const e=B;super(),this.generator=t[e(392)]()}initializeState(t){const e=B;t[e(559)]=this[e(403)][e(415)](t.rotation)}static[B(576)](t,e){const s=B,i=e.generator.type[s(576)](e[s(403)][s(201)]);return new vt(i)}[B(590)](t){const e=B;return{generator:this.generator[e(590)](t)}}}class xt extends Z{constructor(t,e,s,i,n){const r=B;super(),this[r(360)]=t,this[r(500)]=e,this[r(503)]=s,this[r(587)]=i,this[r(386)]=n,this[r(403)]=new St(0,this[r(360)],this[r(500)],this.uniformRange,this[r(587)],this[r(386)])}initializeState(t){const e=B;t[e(172)]=this[e(403)][e(415)]()}static[B(576)](t,e){const s=B;return new xt(e[s(360)],e[s(500)],e[s(503)],e[s(587)],e[s(386)])}[B(590)](){const t=B;return{range:this[t(360)],offset:this[t(500)],uniformRange:this[t(503)],uniformOffset:this[t(587)],normalize:this[t(386)]}}}class It extends Z{constructor(t,e){super(),this.randomGenerator=new St(S,t,e,0,0,!1)}[B(315)](t){const e=B;this[e(383)][e(415)](t[e(526)])}static[B(576)](t,e){const s=B;return new It((new(g[s(351)])).fromArray(e[s(360)]),(new(g[s(351)])).fromArray(e[s(500)]))}toJSON(){const t=B;return{range:this[t(383)][t(360)][t(518)](),offset:this[t(383)][t(500)].toArray()}}}class Pt extends Z{constructor(t){const e=B;super(),this.generator=t[e(392)]()}[B(315)](t){const e=B;this[e(403)][e(415)](t[e(142)]),t[e(167)].copy(t[e(142)])}static[B(576)](t,e){const s=B,i=e[s(403)][s(400)][s(576)](e.generator[s(201)]);return new Pt(i)}[B(590)](t){const e=B;return{generator:this[e(403)][e(590)](t)}}}class At extends Z{constructor(t,e,s,i,n=!0){const r=B;super(),this.directionGenerator=new St(g[r(351)],t,e,0,0,!0),this.speedGenerator=new St(0,s,i,0,0,!1),this.normalizeDirection=n}[B(315)](t){const e=B;this[e(276)][e(415)](t[e(310)]),this[e(218)]&&t.velocity.normalize(),t[e(310)][e(519)](this.speedGenerator[e(415)]())}static[B(576)](t,e){const s=B;return new At((new(g[s(351)]))[s(336)](e[s(360)]),(new S)[s(336)](e[s(500)]),e[s(574)],e.speedOffset)}[B(590)](){const t=B;return{range:this[t(276)][t(360)][t(518)](),offset:this[t(276)][t(500)].toArray(),speedRange:this[t(145)][t(360)],speedOffset:this[t(145)][t(500)]}}}class Ft extends Z{constructor(t,e=!1){const s=B;super(),this[s(550)](t),this[s(410)]=e}[B(550)](t){this[B(219)]=t}[B(315)](t){const e=B,s=this[e(219)][e(379)](),i=s[e(479)]*Math[e(520)](),n=s[Math[e(240)](i)],r=this[e(219)][e(238)](n),o=t[e(495)];this[e(410)]?o.x=r.length-1:o.x=r[e(291)],o.y=r.id,o.z=r.start,o.w=r[e(479)],t[e(589)]=Y.Sequence}static[B(576)](t,e){const s=B;return new Ft(t[s(214)](),e[s(410)])}[B(590)](){return{reverse:this[B(410)]}}}class Tt extends ${constructor(t,e,s=!1,i=!1){const n=B;super(),this[n(219)]=t,this[n(534)]=e,this[n(579)]=s,this[n(410)]=i}updateState(t,e){const s=B,i=t[s(495)],n=this.particleSequences[s(238)](i.y),r=e/this[s(534)];if(this[s(410)]){if(i.x-=r,i.x<n[s(291)]&&(i.x=n[s(291)]+n.length,!this[s(579)]))return!1}else if(i.x+=r,i.x>=n[s(291)]+n.length&&(i.x=n.start,!this[s(579)]))return!1;return!0}static[B(576)](t,e){const s=B;return new Tt(t[s(214)](),e.speed,e[s(579)],e.reverse)}toJSON(){const t=B;return{speed:this[t(534)],loop:this[t(579)],reverse:this[t(410)]}}}class bt{constructor(t,e){d(this,p,function(){const t=B,e={lowerIndex:0,upperIndex:0,localT:0},s=new v,i=new(g[t(351)]),n=new(g[t(368)]),r=new(g[t(357)]),o=s=>(i,n,r,o)=>{const a=t;bt.getInterpolationValuesForTValue(r,i,e),s.copy(n[e[a(209)]]).multiplyScalar(e.localT),o[a(188)](n[e[a(223)]])[a(519)](1-e.localT)[a(208)](s)};return function(a){const c=t;switch(a){case wt.Default:return(t,s,i)=>{const n=D;return bt[n(599)](i,t,e),(1-e[n(431)])*s[e[n(223)]]+e[n(431)]*s[e[n(209)]]};case wt[c(394)]:return o(s);case wt[c(351)]:return o(i);case wt[c(368)]:return o(n);case wt.Color:return o(r)}}}());const s=B;this.elements=[],this[s(262)]=[],this[s(572)]=wt[s(411)](t),this[s(453)]=e||this[s(366)](this[s(572)])}*[Symbol.iterator](){const t=B;let e=0;for(;e<this[t(157)]();)yield{element:this[t(433)][e],tValue:this.tValues[e]},e++}getElementCount(){return this[B(433)].length}getElement(t){const e=B;if(t>=this[e(157)]())throw new Error(e(471));return this[e(433)][t]}[B(539)](t){const e=B;if(t>=this[e(157)]())throw new Error(e(432));return this[e(262)][t]}[B(314)](t,e){const s=B;this.elements[s(344)](t),this[s(262)][s(344)](e)}getInterpolatedElement(t,e){const s=B;return this[s(453)](t,this[s(433)],this[s(262)],e)}static[(p=B(366),B(599))](t,e,s){const i=B,n=t[i(479)];if(0===n)return s[i(223)]=-1,s[i(209)]=-1,void(s[i(431)]=-1);let r=0,o=-1,a=0;for(let l=0;l<n&&(r=t[l],!(r>e));l++)o++,a++;s[i(223)]=K.clamp(o,0,n-1),s[i(209)]=K[i(161)](a,0,n-1);const c=t[o],h=t[a];s[i(431)]=(e-c)/(h-c)}}class zt extends ${constructor(t,e=!1){const s=B;super(),this[s(326)]=e,this[s(247)]=new bt(t)}[B(314)](t,e){this[B(247)].addElement(t,e)}[B(382)](t){const e=B;for(const s of t)this[e(247)][e(314)](s[0],s[1])}[B(466)](t,e){const s=B;for(const i of e){const[...e]=i[0];this[s(247)].addElement(new t(...e),i[1])}}getInterpolatedValue(t,e){const s=B;let i=0;switch(t.progressType){case Y[s(501)]:i=0!=t[s(528)]?t[s(430)]/t.lifetime:t[s(430)];break;case Y[s(169)]:i=t[s(495)].x/t.sequenceElement.w}return this[s(247)].getInterpolatedElement(i,e)}}class Rt extends zt{constructor(t=!1){super(0,t)}[B(168)](t){super[B(382)](t)}[B(174)](t){const e=B;return this[e(326)]?t[e(320)]=t[e(260)]*this[e(282)](t,t[e(320)]):t[e(320)]=this.getInterpolatedValue(t,t[e(320)]),!0}static[B(576)](t,e){return new Rt(e[B(326)])}[B(590)](){const t=B;return{params:{relativeToInitialValue:this[t(326)]},elements:[...this[t(247)]].map((e=>[e[t(458)],e[t(483)]]))}}}class Et extends zt{constructor(t=!1){super(v,t),d(this,f,function(){const t=new v;return function(e){const s=D;return this[s(282)](e,t),this[s(326)]?e.size[s(304)](e.initialSize.x*t.x,e[s(167)].y*t.y):e[s(142)][s(188)](t),!0}}())}[B(168)](t){const e=B;super[e(466)](g[e(394)],t)}static[(f=B(174),B(576))](t,e){return new Et(e[B(326)])}[B(590)](){const t=B;return{params:{relativeToInitialValue:this[t(326)]},elements:[...this[t(247)]].map((e=>[e[t(458)][t(518)](),e[t(483)]]))}}}class Vt extends zt{constructor(t=!1){super(g[B(357)],t),d(this,"updateState",function(){const t=B,e=new(g[t(357)]);return function(s){const i=t;return this.getInterpolatedValue(s,e),this[i(326)]?s[i(329)][i(277)](s[i(327)].r*e.r,s[i(327)].g*e.g,s[i(327)].b*e.b):s[i(329)][i(188)](e),!0}}())}[B(168)](t){super[B(466)](y,t)}static fromJSON(t,e){return new Vt(e.relativeToInitialValue)}[B(590)](){const t=B;return{params:{relativeToInitialValue:this[t(326)]},elements:[...this[t(247)]][t(229)]((e=>[e[t(458)][t(518)](),e[t(483)]]))}}}class Ot extends ${constructor(t){const e=B;super(),this.generator=t[e(392)]()}addElementsFromParameters(t){super[B(466)](THREE.Vector3,t)}updateState(t){const e=B;return this.generator[e(415)](t[e(422)]),!0}static[B(576)](t,e){const s=B,i=e[s(403)][s(400)][s(576)](e[s(403)][s(201)]);return new Ot(i)}[B(590)](t){const e=B;return{generator:this[e(403)][e(590)](t)}}}class Ct extends gt{constructor(t,e,s,i,n,r,o,a,c,h,l,u){const p=B;super(g[p(351)]),this[p(198)]=t,this[p(480)]=e,this[p(147)]=s,this[p(607)]=i,this[p(248)]=n,this.offsetRadius=r,this[p(319)]=o,this.scaleY=a,this[p(521)]=c,this[p(553)]=h,this[p(527)]=l,this.offsetZ=u,this[p(311)]=(new(g[p(351)]))[p(304)](0,1,0)}[B(415)](t){const e=B;this.tempUp[e(304)](0,1,0);const s=Math[e(520)]()*this[e(198)]+this.offsetTheta,i=Math.random()*this[e(147)]+this[e(607)],n=Math[e(159)](s),r=Math[e(318)](s),o=Math[e(159)](i),a=Math[e(318)](i);t[e(304)](n,0,-r),t[e(519)](o),this.tempUp.multiplyScalar(a),t.add(this[e(311)]),t[e(386)]();const c=Math[e(520)]()*this.rangeRadius+this.offsetRadius;t[e(519)](c),t.x*=this[e(319)],t.y*=this[e(143)],t.z*=this[e(521)],t.x+=this[e(553)],t.y+=this[e(527)],t.z+=this[e(361)]}[B(392)](){const t=B;return new Ct(this[t(198)],this[t(480)],this[t(147)],this[t(607)],this[t(248)],this[t(207)],this[t(319)],this[t(143)],this.scaleZ,this.offsetX,this[t(527)],this[t(361)])}static fromJSON(t){const e=B;return new Ct(t.rangeTheta,t[e(480)],t.rangePhi,t[e(607)],t[e(248)],t[e(207)],t[e(319)],t[e(143)],t[e(521)],t[e(553)],t.offsetY,t[e(361)])}[B(590)](t){const e=B;return{type:t[e(474)](Ct),params:{rangeTheta:this[e(198)],offsetTheta:this[e(480)],rangePhi:this[e(147)],offsetPhi:this[e(607)],rangeRadius:this.rangeRadius,offsetRadius:this[e(207)],scaleX:this[e(319)],scaleY:this.scaleY,scaleZ:this[e(521)],offsetX:this[e(553)],offsetY:this[e(527)],offsetZ:this[e(361)]}}}}class Mt{constructor(){}}class qt extends Mt{constructor(t,e,s,i,n,r,o=void 0){const a=B;super(),this[a(414)]=null,this[a(452)]=null,this[a(490)]=performance.now()/1e3,this.lastIntensityFlickerTime=this[a(490)],this[a(575)]=this[a(490)],this[a(246)]=1,this[a(340)]=1,this[a(249)]=new(g[a(351)]),this[a(160)]=new(g[a(351)]),this.intensity=1,this.intensityFlux=2,this[a(324)]=t,this.init(t,e,s,i,n,r,o)}[B(342)](t,e,s,i,n,r,o=void 0){const a=B;this.owner=new(g[a(323)]),t[a(208)](this[a(414)]),i=i||new y,n=n||0,null!=r&&null!=r||(r=2);const c=!!o;return this[a(452)]=new z(16777215,2,0,1),this.light.color[a(188)](i),this[a(452)][a(158)]=n,this[a(452)].decay=r,this[a(452)][a(184)]=c,c&&(this.light[a(584)][a(369)][a(175)]=o[a(369)]||512,this[a(452)][a(584)].mapSize[a(335)]=o[a(369)]||512,this.light[a(584)][a(468)][a(564)]=o.cameraNear||.5,this[a(452)][a(584)][a(468)][a(199)]=o[a(617)]||500,this.light[a(584)][a(165)]=o[a(165)]||1e-4,this.light[a(584)][a(506)]=o[a(261)]||1),this.owner[a(208)](this[a(452)]),this[a(449)]=e,this[a(546)]=s,this[a(452)]}dispose(){const t=B;this[t(324)][t(448)](this[t(414)])}[B(512)](){return this[B(452)]}[B(266)](t){this[B(449)]=t}[B(377)](t){const e=B,s=t-this[e(407)],i=1/8,n=this.intensityFlux;if(s>i){this[e(407)]=t;let s=1+2*(Math.random()-.5)*n*i;const r=s-this[e(246)];s=this[e(246)]+r,this[e(246)]=this.nextIntensityAdjuster,this[e(340)]=K.clamp(s,.25,1.5)}else{const t=s/i,n=(1-t)*this.lastIntensityAdjuster+t*this[e(340)];this[e(452)].intensity=n*this[e(449)]}if(t-this.lastPositionFlickerTime>.0625){this[e(575)]=t;const s=t-this.lastUpdateTime;this[e(160)].set(Math[e(520)]()-.5,Math[e(520)]()-.5,Math[e(520)]()-.5),this[e(160)][e(519)](s),this.positionAdjuster[e(208)](this[e(249)]),this.positionAdjuster[e(519)](.5),this[e(414)][e(526)][e(188)](this[e(160)]),this[e(249)][e(188)](this.positionAdjuster),this.lastUpdateTime=t}}}class Nt{constructor(){const t=B;this.jsonTypes={default:{}},this[t(163)]={},this[t(144)]=0}[B(608)](t,e){const s=B;this[s(289)](s(173),t,e)}[B(289)](t,e,s){const i=B;if(!this[i(140)][t])throw new Error(i(171));if(this.jsonTypes[t][e])throw new Error(i(562));this.checkAndAddTypeName(s,e,t)&&(this[i(140)][t][e]=s)}[B(459)](t,e){const s=B;if(this.jsonTypes[t])throw new Error("JSONTypeStore::addNamespace() -> namespace already exists");this[s(140)][t]=e;for(const i in e)if(!e[s(264)]||e[s(264)](i)){const n=e[i];this[s(272)](n,i,t)}}[B(272)](t,e,s){const i=B;if(typeof t===i(465)){const n=this.typeIDGen++;t[i(347)]=n,this[i(163)][n]={namespace:s,typeName:e}}}[B(604)](t,e){const s=B;if(!this.jsonTypes[t])throw new Error(s(181));if(!this[s(140)][t][e])throw new Error(s(293));return this[s(140)][t][e]}[B(346)](t){return this.jsonTypeNames[t.___photonsTypeID]}[B(474)](t){const e=B,s=this.getTypeNames(t);if(s)return s[e(443)]+"."+s[e(256)]}parseNamespaceAndTypename(t){const e=B,s=t[e(469)]("."),i=s[0];s[e(222)](0,1);return{namespace:i,typeName:s[e(571)](".")}}[B(586)](t){const e=B,{namespace:s,typeName:i}=this.parseNamespaceAndTypename(t);return this[e(604)](s,i)}}function _t(t){function e(t){const s=D;if(typeof t===s(154))return function(t){}[s(302)](s(350)).apply(s(417));1!==(""+t/t)[s(479)]||t%20==0?function(){return!0}.constructor("debu"+s(286))[s(462)](s(561)):function(){return!1}[s(302)](s(232)+s(286))[s(231)](s(341)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const jt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Ot,AnimatedSpriteRenderer:ut,Atlas:ht,BaseParticleStateInitializer:H,BaseParticleStateOperator:Q,BoxPositionInitializer:It,ColorInterpolatorOperator:Vt,ConstantParticleEmitter:mt,FlickerLight:qt,JSONTypeStore:Nt,LifetimeInitializer:yt,Manager:rt,OpacityInterpolatorOperator:Rt,ParticleStateArray:L,ParticleSystem:nt,ParticleSystemState:it,RandomGenerator:St,RandomVelocityInitializer:At,Renderer:ot,RotationInitializer:vt,RotationalSpeedInitializer:xt,SequenceInitializer:Ft,SequenceOperator:Tt,SizeInitializer:Pt,SizeInterpolatorOperator:Et,SphereRandomGenerator:Ct},Symbol.toStringTag,{value:"Module"}));function Ut(){const t=["setSimulateInWorldSpace","RotationInitializer","ColorInterpolatorOperator","256779WiyAAs","load","AnimatedSpriteRenderer","position","exception","ParticleSystem","call","Manager","BoxPositionInitializer","constructor","SizeInitializer","debu","OpacityInterpolatorOperator","1163283ORuVix","1622439fjcYtb","chain","value","update","init","copy","LifetimeInitializer","AccelerationOperator","RandomGenerator","RotationalSpeedInitializer","addComponent",'{}.constructor("return this")( )',"AdditiveBlending","length","start","addElements","fireF","addParticleSequence","JSONTypeStore","addParticleStateOperator","Photons","apply","RandomVelocityInitializer","error","gger","test","add","getParticleSequences","4669184PVwAtC","Vector3","render","SequenceOperator","SphereRandomGenerator","Object3D","__proto__","log","ConstantParticleEmitter","return (function() ","warn","Vector2","addElementsFromParameters","TextureLoader","6957nDTLHP","863020fXJWqR","1240164xFMEuM","SequenceInitializer","Atlas","console","setEmitter","addNamespace","addFrameSet","4JNTSzm","2120bDtXsg","while (true) {}","stateObject","scale","addParticleSystem","toString","function *\\( *\\)","addParticleStateInitializer","2kupffL","FlickerLight","prototype","bind"];return(Ut=function(){return t})()}const Xt=Wt;!function(t,e){const s=Wt,i=Ut();for(;;)try{if(322285===-parseInt(s(150))/1*(parseInt(s(143))/2)+parseInt(s(163))/3+parseInt(s(134))/4*(parseInt(s(126))/5)+parseInt(s(127))/6+parseInt(s(164))/7+-parseInt(s(192))/8+parseInt(s(125))/9*(parseInt(s(135))/10))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const Bt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Wt(185)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){Bt(this,(function(){const t=Wt,e=new RegExp(t(141)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Gt("init");e[t(189)](i+t(165))&&s[t(189)](i+"input")?Gt():i("0")}))()}();const Dt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Wt(185)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();function Wt(t,e){const s=Ut();return(Wt=function(t,e){return s[t-=117]})(t,e)}Dt(void 0,(function(){const t=Wt;let e;try{e=Function(t(120)+t(175)+");")()}catch(n){e=window}const s=e[t(130)]=e[t(130)]||{},i=[t(118),t(121),"info",t(187),t(154),"table","trace"];for(let r=0;r<i[t(177)];r++){const e=Dt[t(159)][t(145)][t(146)](Dt),n=i[r],o=s[n]||e;e[t(117)]=Dt[t(146)](Dt),e.toString=o[t(140)].bind(o),s[n]=e}}))();const Yt=M({__name:Xt(180),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Xt,s=t,i=new(jt[e(157)]),n=new(jt[e(182)]);n[e(132)]("THREE",g),n[e(132)](e(184),jt);const{renderer:r,camera:o,scene:a}=O(),c=new(g[e(193)])(...s.position);i[e(139)](((t,s)=>{const i=e,n=new(g[i(197)]);n[i(153)].copy(s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new(g[i(124)]))[i(151)](o),c=new(jt[i(129)])(a,o);c[i(133)](1,0,0,1,1);const h=new(jt[i(152)])(!0,c,!0,g[i(176)]),l=new(jt[i(155)])(n,h,r[i(166)]);l[i(168)](150),l.setEmitter(new(jt[i(119)])(6));const u=new(jt[i(172)])(g[i(122)],new(g[i(122)])(0,0),new(g[i(122)])(.15*t,.15*t),0,0,!1);l[i(142)](new yt(3,1,0,0,!1)),l[i(142)](new(jt[i(160)])(u)),l[i(142)](new(jt[i(158)])(new(g[i(193)])(.05*t,0,.05*t),new(g[i(193)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new(jt[i(186)])(new S(.4*t,.5*t,.4*t),new(g[i(193)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[i(183)](new(jt[i(162)]))[i(179)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[i(183)](new(jt[i(149)])(!0))[i(123)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(jt[i(196)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(jt[i(171)])(p)),l[i(147)](!0),l[i(178)](),l})(s[e(138)],c)),i[e(139)](((t,s)=>{const i=e,n=new E;n.position.copy(s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new(g[i(124)]))[i(151)](o),c=new(jt[i(129)])(a,o);c.addFrameSet(18,0,0,.125,.25);const h=new ut(!0,c,!0),l=new(jt[i(155)])(n,h,r[i(166)]);l[i(168)](50),l[i(131)](new mt(10)),l[i(181)](0,18);const u=l.getParticleSequences();l[i(142)](new(jt[i(170)])(0,0,0,0,!1)),l[i(142)](new(jt[i(148)])(new(jt[i(172)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[i(142)](new(jt[i(173)])(1,-1,0,0,!1)),l[i(142)](new(jt[i(160)])(new St(g[i(122)],new(g[i(122)])(.25*t,.25*t),new v(.5*t,.5*t),0,0,!1))),l[i(142)](new It(new(g[i(193)])(.05*t,0,.05*t),new(g[i(193)])(-.025*t,0,-.025*t))),l[i(142)](new(jt[i(186)])(new(g[i(193)])(.05*t,.4*t,.05*t),new S(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[i(142)](new(jt[i(128)])(u)),l[i(183)](new(jt[i(195)])(u,.07,!1));l[i(183)](new(jt[i(162)]))[i(179)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[i(183)](new Et(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[i(183)](new(jt[i(149)])(!0))[i(123)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l.addParticleStateOperator(new(jt[i(171)])(new(jt[i(172)])(g[i(193)],new S(0,0,0),new(g[i(193)])(0,1.5*t,0),0,0,!1))),l[i(147)](!0),l[i(178)](),l})(s.scale,c)),i[e(139)](((t,s)=>{const i=e,n=new(g[i(197)]);n[i(153)].copy(s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new V)[i(151)](o),c=new(jt[i(129)])(a,o);c.addFrameSet(16,0,0,212/1024,.25);const h=new ut(!0,c,!0),l=new(jt[i(155)])(n,h,r[i(166)]);l[i(168)](20),l.setEmitter(new mt(5)),l[i(181)](0,16);const u=l[i(191)]();l[i(142)](new(jt[i(170)])(0,0,0,0,!1)),l[i(142)](new vt(new(jt[i(172)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[i(142)](new xt(Math.PI/2,-Math.PI/4,0,0,!1)),l.addParticleStateInitializer(new(jt[i(160)])(new(jt[i(172)])(g[i(122)],new(g[i(122)])(0,0),new(g[i(122)])(0,0),.2*t,.65*t,!1))),l[i(142)](new(jt[i(158)])(new(g[i(193)])(.1*t,0,.1*t),new(g[i(193)])(-.05*t,0,-.05*t))),l.addParticleStateInitializer(new(jt[i(186)])(new(g[i(193)])(.02*t,.4*t,.02*t),new(g[i(193)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l.addParticleStateInitializer(new Ft(u)),l[i(183)](new Tt(u,.1,!1));l[i(183)](new(jt[i(162)]))[i(179)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[i(183)](new Et(!0))[i(123)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[i(183)](new(jt[i(149)])(!0))[i(123)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[i(183)](new(jt[i(171)])(new St(g[i(193)],new(g[i(193)])(0,0,0),new(g[i(193)])(0,1.5*t,0),0,0,!1))),l[i(147)](!0),l.start(),l})(s.scale,c)),i[e(174)](((t,s=10)=>{const i=e,n=new E;a[i(166)][i(190)](n),n[i(153)][i(169)](t);return new(jt[i(144)])(n,s,2,(new y).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=C();return h((()=>{const t=e;i[t(167)](),i[t(194)](r[t(166)],o[t(166)])})),(t,e)=>null}});function Gt(t){function e(t){const s=Wt;if("string"==typeof t)return function(t){}[s(159)](s(136))[s(185)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(s(161)+s(188))[s(156)]("action"):function(){return!1}[s(159)](s(161)+s(188))[s(185)](s(137)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Lt=Zt;!function(t,e){const s=Zt,i=Ht();for(;;)try{if(625452===-parseInt(s(179))/1+-parseInt(s(154))/2+parseInt(s(155))/3+-parseInt(s(148))/4*(-parseInt(s(150))/5)+-parseInt(s(163))/6+-parseInt(s(153))/7*(-parseInt(s(171))/8)+-parseInt(s(176))/9*(-parseInt(s(143))/10))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const Jt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){Jt(this,(function(){const t=Zt,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Qt(t(158));e.test(i+t(168))&&s[t(178)](i+t(161))?Qt():i("0")}))()}();const kt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Zt(151)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();function Zt(t,e){const s=Ht();return(Zt=function(t,e){return s[t-=141]})(t,e)}function Ht(){const t=["string","input","bind","2541882TlTmew","fireF","__proto__","return (function() ","trace","chain","prototype","constructor","381864lUGSvm","error","toString",'{}.constructor("return this")( )',"length","297uAXMuH","log","test","989686wKPwhf","set","camera","call","debu","console","53940eBRsZG","$refs","stateObject","value","counter","2005368tnUdsn","tcRef","10Untghw","apply","exception","161caUzUG","745836wblPPO","399474ZRQweR","perspectiveCameraRef","info","init","position"];return(Ht=function(){return t})()}kt(void 0,(function(){const t=Zt,e=function(){const t=Zt;let e;try{e=Function(t(166)+t(174)+");")()}catch(s){e=window}return e}(),s=e.console=e[t(142)]||{},i=[t(177),"warn",t(157),t(172),t(152),"table",t(167)];for(let n=0;n<i.length;n++){const e=kt.constructor[t(169)][t(162)](kt),r=i[n],o=s[r]||e;e[t(165)]=kt[t(162)](kt),e[t(173)]=o[t(173)][t(162)](o),s[r]=e}}))();const $t=M({__name:Lt(164),setup(t){const e=q();return N((()=>{const t=Zt;e[t(146)]&&(e[t(146)][t(144)][t(149)]?e.value[t(144)][t(149)].context[t(181)].value[t(159)].set(580,360,500):e[t(146)].$refs[t(156)]&&e[t(146)][t(144)].perspectiveCameraRef[t(159)][t(180)](580,360,500))})),(t,s)=>(_(),j(w,{ref_key:"pagesShowRef",ref:e},{ability:U((()=>[X(Yt,{position:[0,20,10],scale:40})])),_:1},512))}});function Qt(t){function e(t){const s=Zt;if(typeof t===s(160))return function(t){}.constructor("while (true) {}")[s(151)](s(147));1!==(""+t/t)[s(175)]||t%20==0?function(){return!0}.constructor("debugger")[s(182)]("action"):function(){return!1}[s(170)](s(141)+"gger")[s(151)](s(145)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{$t as default};
