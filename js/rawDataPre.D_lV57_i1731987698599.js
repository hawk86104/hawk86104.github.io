import{U as t,c as n}from"./@tresjs.juy9qkLz1731987698599.js";import{u as e,a as r,_ as a}from"./rawData.9KgVtIcM1731987698599.js";import{z as o,x as s,a5 as i,a6 as u,a7 as c,N as l,a8 as p,a9 as f,t as d,$ as m,aa as h,v as g,_ as y}from"./@fesjs.6cRBmkVw1731987698599.js";import{d as x,b,u as w,o as _,D as v,j as I,g as j,J as T,x as R,F as k,V as E,f as S,H as V,I as F,a as A,w as z,aj as B,ak as D,r as L,m as U}from"./@vue.-THQH3GC1731987698599.js";import{a$ as C,_ as N,aF as O,cR as Z,cS as $,n as q,bg as H}from"./three.3RwiW87x1731987698599.js";import{r as J,a as M}from"./rawData.rFVqmQ6Q1731987698599.js";import{P as W}from"./tweakpane.yHWGBmom1731987698599.js";import"./@vueuse.R8VPJfVr1731987698599.js";import"./pinia.qOeBz4jM1731987698599.js";import"./vue-demi.C4xddsk91731987698599.js";import"./vue-router.0Hzo7MDu1731987698599.js";import"./lodash-es.kYt-_xTG1731987698599.js";import"./@qlin.yHhFDldE1731987698599.js";import"./@floating-ui.BPbuo5Gx1731987698599.js";import"./@juggle.7yjBMqoW1731987698599.js";const K=Y;!function(t,n){const e=Y,r=Q();for(;;)try{if(979011===parseInt(e(291))/1+parseInt(e(327))/2+-parseInt(e(309))/3+-parseInt(e(292))/4+-parseInt(e(306))/5*(-parseInt(e(294))/6)+parseInt(e(296))/7*(-parseInt(e(302))/8)+parseInt(e(351))/9*(parseInt(e(300))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=Y,n=new RegExp(t(305)),e=new RegExp(t(326),"i"),r=tt("init");n.test(r+t(346))&&e[t(333)](r+t(316))?tt():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(328)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();X(void 0,(function(){const t=Y;let n;try{n=Function(t(311)+t(303)+");")()}catch(a){n=window}const e=n[t(307)]=n[t(307)]||{},r=[t(341),t(317),t(322),t(347),"exception",t(323),t(331)];for(let o=0;o<r.length;o++){const n=X[t(314)][t(313)][t(310)](X),a=r[o],s=e[a]||n;n[t(339)]=X[t(310)](X),n.toString=s[t(353)][t(310)](s),e[a]=n}}))();const G={key:0,class:K(337)};function Q(){const t=["block","test"," 点击或者拖拽rawData文件到此区域 ","读取Raw原始数据","string","card-wrapper","value","__proto__"," 演示参考龙虾🦞RawData数据,下载 : ","log","counter","xExtent","2.4em","gger","chain","error","yExtent","warning","请正确选择rawData文件","650448TLWRqN","length","toString","zExtent","modelValue"," 预览体数据","div","535444sxXZXe","4863264LTpYJT","300px","1006752HNBVLq","debu","5697979pRWqTr","lobster_301x324x56_uint8.raw"," z轴长度： ","result","410JMueKM","fileList","8BSsBvV",'{}.constructor("return this")( )',"selectDataType","function *\\( *\\)","5MjFjwo","console","type","2980710yoprgO","bind","return (function() ","call","prototype","constructor","raw","input","warn","stateObject","setArrayBuffer","2.8em"," x轴长度： ","info","table","byteArray","10px","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","672012XVASxF","apply","readAsArrayBuffer","dataType","trace"];return(Q=function(){return t})()}function Y(t,n){const e=Q();return(Y=function(t,n){return e[t-=287]})(t,n)}function tt(t){function n(t){const e=Y;if(typeof t===e(336))return function(t){}.constructor("while (true) {}")[e(328)](e(342));1!==(""+t/t).length||t%20==0?function(){return!0}[e(314)](e(295)+e(345))[e(312)]("action"):function(){return!1}[e(314)]("debu"+e(345)).apply(e(318)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=y(x({__name:"importRawUI",setup(t){const n=K,r=e();r[n(343)]=301,r[n(348)]=324,r[n(287)]=56;const a=b(null),y=b([]),x=t=>{console[n(341)]("[change] param:",t)},A=()=>{var t;const e=n;y[e(338)][e(352)]>1&&(null==(t=a[e(338)])||t.removeFile(y[e(338)][0]))},z=()=>{const t=n;if(1!=y[t(338)].length)return g.warning(t(350)),!1;if(r[t(343)]<=0||r[t(348)]<=0||r.zExtent<=0)return g[t(349)]("请正确输入数值"),!1;if("image/x-panasonic-raw"!==y[t(338)][0][t(315)][t(308)])return g[t(349)]("文件类型必须为:'image/x-panasonic-raw'"),!1;const e=new FileReader;return e.onload=function(n){const e=t,a=n.target[e(299)];r[e(319)](a)},e[t(329)](y[t(338)][0][t(315)]),!0};return(t,e)=>{const g=n;return w(r)[g(324)]?F("",!0):(_(),v("div",G,[I(w(h),{header:g(335)},{default:j((()=>[e[10]||(e[10]=T(g(290),{style:{"margin-bottom":"11px"}},[R(g(340)),T("a",{href:"./plugins/tvtVolumeRendering/rawData/lobster_301x324x56_uint8.raw"},g(297))],-1)),I(w(o),{style:{"min-height":g(320)}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":g(344)}},{default:j((()=>e[5]||(e[5]=[R(g(321))]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(i),{precision:0,modelValue:w(r)[g(343)],"onUpdate:modelValue":e[0]||(e[0]=t=>w(r)[g(343)]=t),autofocus:""},null,8,[g(288)])])),_:1})])),_:1}),I(w(o),{style:{"min-height":g(320)}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":"2.4em"}},{default:j((()=>e[6]||(e[6]=[R(" y轴长度： ")]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(i),{precision:0,modelValue:w(r).yExtent,"onUpdate:modelValue":e[1]||(e[1]=t=>w(r)[g(348)]=t),autofocus:""},null,8,[g(288)])])),_:1})])),_:1}),I(w(o),{style:{"min-height":g(320)}},{default:j((()=>[I(w(s),{span:6,style:{"line-height":g(344)}},{default:j((()=>e[7]||(e[7]=[R(g(298))]))),_:1}),I(w(s),{span:18},{default:j((()=>[I(w(i),{precision:0,modelValue:w(r)[g(287)],"onUpdate:modelValue":e[2]||(e[2]=t=>w(r)[g(287)]=t),autofocus:""},null,8,[g(288)])])),_:1})])),_:1}),I(w(u),{modelValue:w(r).selectDataType,"onUpdate:modelValue":e[3]||(e[3]=t=>w(r)[g(304)]=t),style:{"margin-bottom":g(325)}},{default:j((()=>[(_(!0),v(k,null,E(w(r)[g(330)],((t,n)=>{const e=g;return _(),S(w(c),{key:n,value:n},{default:j((()=>[I(w(l),{style:{"max-width":e(293)}},{default:j((()=>[R(V(t.title),1)])),_:2},1024)])),_:2},1032,[e(338)])})),128))])),_:1},8,[g(288)]),I(w(p),{ref_key:"uploadRef",ref:a,fileList:y[g(338)],"onUpdate:fileList":e[4]||(e[4]=t=>y.value=t),onChange:x,httpRequest:A},{default:j((()=>[I(w(f),null,{default:j((()=>e[8]||(e[8]=[R(g(334))]))),_:1})])),_:1},8,[g(301)]),I(w(d),{style:{display:g(332),margin:"10px auto -3px"},onClick:z},{icon:j((()=>[I(w(m))])),default:j((()=>[e[9]||(e[9]=R(g(289)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-306b37f6"]]),et=ut;!function(t,n){const e=ut,r=it();for(;;)try{if(480716===-parseInt(e(430))/1+parseInt(e(407))/2*(parseInt(e(425))/3)+parseInt(e(472))/4*(-parseInt(e(456))/5)+parseInt(e(477))/6+-parseInt(e(441))/7*(-parseInt(e(446))/8)+-parseInt(e(475))/9*(-parseInt(e(439))/10)+-parseInt(e(482))/11*(-parseInt(e(406))/12))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const rt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(450)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){rt(this,(function(){const t=ut,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(408),"i"),r=lt(t(432));n[t(423)](r+t(463))&&e[t(423)](r+t(437))?lt():r("0")}))()}();const at=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ut(450)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();at(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(429)+t(458)+");")()}catch(e){n=window}return n}(),e=n[t(421)]=n[t(421)]||{},r=[t(462),t(454),t(442),t(474),"exception","table",t(431)];for(let a=0;a<r[t(453)];a++){const n=at.constructor.prototype[t(449)](at),o=r[a],s=e[o]||n;n[t(468)]=at[t(449)](at),n.toString=s[t(461)].bind(s),e[o]=n}}))();const ot=[et(415),"visible"],st=[et(424)];function it(){const t=["30kVxTau","清空体数据","getThreeType","yExtent","return (function() ","593402ubwPRr","trace","init","TresMesh","TresBoxGeometry","xExtent","TresGroup","input","gger","285830eVivyk","value","21KxsJJl","info","体绘制的阈值","change","LineBasicMaterial","640656VMUOVs","call","format","bind","apply","LinearFilter","updateTransferFunction","length","warn","wrapS","4557065KBlmPe","EdgesGeometry",'{}.constructor("return this")( )',"ClampToEdgeWrapping","alphaScale","toString","log","chain","composeType","透明度","TresShaderMaterial","stateObject","__proto__","minFilter","scene","x轴缩放","4YNAdLQ","byteArray","error","135FxbiSg","显示边框","764358hcZSQX","list","zExtent","maximumIntensity","click","10694497rcnIUh","addBinding","type","uniforms","12jsxvxo","43384kFJPHW","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBlade","wrapR","z轴缩放","samplingRate","constructor","colorTexture","scale","体积采样率","wrapT","dispose","y轴缩放","magFilter","console","BackSide","test","object"];return(it=function(){return t})()}function ut(t,n){const e=it();return(ut=function(t,n){return e[t-=406]})(t,n)}const ct=x({__name:et(470),setup(t){const n=et,a=e(),o=r(),s=new C(new(N[n(457)])(new O(1,1,1)),new(N[n(445)])({color:10066329})),i=b(1),u=b(a[n(428)]/a[n(435)]),c=b(a[n(479)]/a.xExtent),l=A((()=>{const t=n;return!(i[t(440)]<=.01&&i.value>=-.01)&&(!(u[t(440)]<=.01&&u[t(440)]>=-.01)&&!(c.value<=.01&&c[t(440)]>=-.01))})),p=new Z(a[n(473)],a[n(435)],a.yExtent,a.zExtent);p[n(448)]=$,p[n(484)]=a[n(427)](),p[n(469)]=N[n(451)],p[n(420)]=q,p[n(455)]=N[n(459)],p[n(417)]=H,p[n(410)]=N[n(459)],p.needsUpdate=!0;const f={uniforms:{dataTexture:{value:p},colorTexture:{value:o[n(452)]()},samplingRate:{value:1},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!0},composeType:{value:3}},vertexShader:J,fragmentShader:M,side:N[n(422)],transparent:!0},d=b(!0),m=new W;return m[n(483)](i,n(440),{label:n(471),min:-2,max:2,step:.01}),m[n(483)](u,n(440),{label:n(419),min:-2,max:2,step:.01}),m[n(483)](c,n(440),{label:n(411),min:-2,max:2,step:.01}),m[n(409)]({view:n(478),label:"模式",options:[{text:n(480),value:1},{text:"thresholding",value:2},{text:"emissionAbsorption",value:3}],value:f.uniforms[n(464)].value}).on(n(444),(t=>{const e=n;f.uniforms.composeType[e(440)]=t.value})),m[n(483)](f[n(485)][n(412)],n(440),{label:n(416),min:0,max:4,step:.01}),m[n(483)](f[n(485)].threshold,n(440),{label:n(443),min:0,max:1,step:.01}),m.addBinding(f[n(485)][n(460)],"value",{label:n(465),min:0,max:1,step:.01}),m[n(483)](f[n(485)].invertColor,n(440),{label:"是否反色"}),m[n(483)](d,n(440),{label:n(476)}),m.addButton({title:n(426),label:"点击"}).on(n(481),(()=>{const t=n;a[t(473)]=null,m[t(418)]()})),z((()=>o.colorsStops),(()=>{const t=n;f[t(485)][t(414)].value=o[t(452)]()}),{deep:!0,immediate:!0}),(t,e)=>{const r=n;return _(),v(r(436),null,[T(r(433),{scale:[i.value,u[r(440)],c[r(440)]],visible:l[r(440)]},[e[0]||(e[0]=T(r(434),{args:[1,1,1]},null,-1)),T(r(466),B(D(f)),null,16),d[r(440)]?(_(),v("primitive",{key:0,object:w(s)},null,8,st)):F("",!0)],8,ot)])}}});function lt(t){function n(t){const e=ut;if("string"==typeof t)return function(t){}[e(413)]("while (true) {}")[e(450)]("counter");1!==(""+t/t)[e(453)]||t%20==0?function(){return!0}.constructor("debugger")[e(447)]("action"):function(){return!1}.constructor("debu"+e(438))[e(450)](e(467)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const pt=ht;!function(t,n){const e=ht,r=mt();for(;;)try{if(738476===parseInt(e(282))/1+-parseInt(e(283))/2*(-parseInt(e(274))/3)+parseInt(e(262))/4+-parseInt(e(294))/5*(parseInt(e(267))/6)+parseInt(e(293))/7+parseInt(e(288))/8+-parseInt(e(271))/9*(parseInt(e(272))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const ft=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ht(291)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){ft(this,(function(){const t=ht,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=yt(t(268));n[t(280)](r+"chain")&&e[t(280)](r+"input")?yt():r("0")}))()}();const dt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ht(291)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function mt(){const t=["constructor","120FNHlCN","init","__proto__","error","9kEbkWF","11463910NHiFyA","byteArray","331953fqwrVK","info","log","table","#201919","length","test","rawDataPre","1157601ctJsKs","22OWNHOr",'{}.constructor("return this")( )',"stateObject","return (function() ","TresPerspectiveCamera","2559200qQRLXg","call","debu","apply","while (true) {}","3876096pSoObW","353370RmrakK","bind","counter","rgba(242, 242, 0, 0)","exception","string","199828AalDhd","toString","gger","console"];return(mt=function(){return t})()}function ht(t,n){const e=mt();return(ht=function(t,n){return e[t-=257]})(t,n)}dt(void 0,(function(){const t=ht,n=function(){const t=ht;let n;try{n=Function(t(286)+t(284)+");")()}catch(e){n=window}return n}(),e=n[t(265)]=n[t(265)]||{},r=[t(276),"warn",t(275),t(270),t(260),t(277),"trace"];for(let a=0;a<r[t(279)];a++){const n=dt[t(266)].prototype[t(257)](dt),o=r[a],s=e[o]||n;n[t(269)]=dt[t(257)](dt),n[t(263)]=s[t(263)][t(257)](s),e[o]=n}}))();const gt=x({__name:pt(281),setup(r){const o=pt,s=L({clearColor:o(278),antialias:!0}),i=e();return(e,r)=>{const u=o;return _(),v(k,null,[w(i)[u(273)]?(_(),S(a,{key:0,curColorList:[["rgba(102, 0, 250, 1)",.587],["rgba(255, 0, 0, 1)",.7],["rgba(242, 242, 0, 0.99)",.84],["rgba(242, 242, 0, 0.2)",.88],[u(259),1]]})):F("",!0),I(w(n),U(s,{"window-size":""}),{default:j((()=>[r[0]||(r[0]=T(u(287),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),I(w(t)),w(i)[u(273)]?(_(),S(ct,{key:0})):F("",!0)])),_:1},16),I(nt)],64)}}});function yt(t){function n(t){const e=ht;if(typeof t===e(261))return function(t){}.constructor(e(292))[e(291)](e(258));1!==(""+t/t)[e(279)]||t%20==0?function(){return!0}[e(266)](e(290)+e(264))[e(289)]("action"):function(){return!1}[e(266)](e(290)+e(264)).apply(e(285)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{gt as default};
