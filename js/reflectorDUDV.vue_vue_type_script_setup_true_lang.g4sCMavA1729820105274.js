import{c0 as t,a3 as e,s as n,t as r}from"./three.0W5n8UBO1729820105274.js";import{z as o}from"./@tresjs.S6PXiQcG1729820105274.js";import{R as s,b as i}from"./all.three.btwmjVn11729820105274.js";import{d as c,a4 as a,a3 as u,w as l,o as f,E as p,L as d,u as g}from"./@vue.bvMz0l_u1729820105274.js";const m=j;!function(t,e){const n=j,r=x();for(;;)try{if(380971===parseInt(n(422))/1+-parseInt(n(416))/2+parseInt(n(437))/3+-parseInt(n(411))/4*(parseInt(n(396))/5)+parseInt(n(443))/6*(-parseInt(n(434))/7)+-parseInt(n(448))/8*(parseInt(n(440))/9)+parseInt(n(436))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const h=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(401)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=j,e=new RegExp(t(432)),n=new RegExp(t(398),"i"),r=_(t(427));e[t(433)](r+"chain")&&n[t(433)](r+t(447))?_():r("0")}))()}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=j;let e;try{e=Function(t(391)+t(431)+");")()}catch(o){e=window}const n=e[t(407)]=e[t(407)]||{},r=[t(404),t(399),t(403),"error","exception",t(395),"trace"];for(let s=0;s<r[t(409)];s++){const e=w[t(406)][t(405)][t(419)](w),o=r[s],i=n[o]||e;e.__proto__=w[t(419)](w),e.toString=i[t(393)][t(419)](i),n[o]=e}}))();const v=["scale"],y=[m(435)],b=[m(435)];function j(t,e){const n=x();return(j=function(t,e){return n[t-=390]})(t,e)}function x(){const t=["forEach","input","1867872rjgWAd","uReflectivity","return (function() ","reflectivity","toString","value","table","1765Ocgnas","uMatrix","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","showGridHelper","apply","visible","info","log","prototype","constructor","console","renderTargetUniform","length","mapUrl","1772xEbkFd","action","while (true) {}","gger","wrapT","829508VrQURa","string","repeat","bind","uniforms","textureMatrixUniform","563429dMNogH","set","debu","rotation","call","init","TresGroup","stateObject","add",'{}.constructor("return this")( )',"function *\\( *\\)","test","7ekXALx","object","9244100uKWZoT","1478310SeuADp","size","ignoreObjects","27PwxeYY","wrapS","counter","1968318SGrmTi","primitive","isMesh"];return(x=function(){return t})()}const I=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:h}){const w=m;let j,x;const I=c,_=new s,R=new t(I[w(438)][0]-.5,I[w(438)][1]);R[w(402)]=I[w(400)];const{map:T}=([j,x]=a((()=>o({map:I[w(410)]}))),j=await j,x(),j);T[w(441)]=e,T[w(415)]=e,T[w(418)][w(423)](6,3);const U=new i({map:T,reflectivity:I[w(392)]});U.uniforms.tReflect={value:_.renderTarget.texture},U[w(420)].tReflectBlur=_[w(408)],U[w(420)][w(397)]=_[w(421)];const z=new n(new r(I[w(438)][0],I[w(438)][1]),U);return z[w(425)].x=-Math.PI/2,z[w(430)](_),z.onBeforeRender=(t,e,n)=>{const r=w;z[r(402)]=!1,I[r(439)][r(446)]((t=>{const e=r;t[e(445)]&&(t.visible=!1),t[e(394)]&&t.value[e(445)]&&(t.value.visible=!1)})),_.update(t,e,n),I[r(439)][r(446)]((t=>{const e=r;t[e(445)]&&(t[e(402)]=!0),t[e(394)]&&t[e(394)][e(445)]&&(t[e(394)][e(402)]=!0)})),z[r(402)]=!0},u((()=>{const t=w;I[t(392)]&&(U[t(420)][t(390)].value=I.reflectivity)})),l((()=>I.showGridHelper),(t=>{R[w(402)]=t})),h({reflector:_}),(t,e)=>{const n=w;return f(),p(n(428),{scale:I.scale},[d("primitive",{object:g(z),"position-y":-.01},null,8,y),d(n(444),{object:g(R)},null,8,b)],8,v)}}});function _(t){function e(t){const n=j;if(typeof t===n(417))return function(t){}.constructor(n(413))[n(401)](n(442));1!==(""+t/t).length||t%20==0?function(){return!0}[n(406)](n(424)+"gger")[n(426)](n(412)):function(){return!1}[n(406)](n(424)+n(414))[n(401)](n(429)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
