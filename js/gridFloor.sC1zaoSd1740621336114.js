import{_ as n,ai as t}from"./three.sXv6UbbL1740621336114.js";import{o as r,J as o,f as e}from"./@tresjs.Td0X-dew1740621336114.js";import{P as i}from"./tweakpane.yDiyAAkA1740621336114.js";import{d as s,a2 as c,o as u,H as a,N as l,aj as f,ak as d,r as v,f as g,g as p,j as h,u as C,al as m,m as y}from"./@vue.NRI7TcgI1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";const x=I;!function(n,t){const r=I,o=k();for(;;)try{if(277619===-parseInt(r(436))/1*(parseInt(r(427))/2)+parseInt(r(428))/3*(parseInt(r(426))/4)+parseInt(r(431))/5+parseInt(r(465))/6*(-parseInt(r(464))/7)+-parseInt(r(462))/8*(-parseInt(r(449))/9)+parseInt(r(445))/10*(parseInt(r(444))/11)+parseInt(r(473))/12)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const w=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[I(459)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){w(this,(function(){const n=I,t=new RegExp(n(470)),r=new RegExp(n(452),"i"),o=D("init");t.test(o+n(472))&&r.test(o+"input")?D():o("0")}))()}();const b=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[I(459)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();b(void 0,(function(){const n=I,t=function(){const n=I;let t;try{t=Function("return (function() "+n(443)+");")()}catch(r){t=window}return t}(),r=t[n(481)]=t[n(481)]||{},o=["log",n(438),"info","error",n(455),n(477),n(450)];for(let e=0;e<o[n(448)];e++){const t=b.constructor[n(461)][n(475)](b),i=o[e],s=r[i]||t;t[n(467)]=b[n(475)](b),t[n(476)]=s[n(476)][n(475)](s),r[i]=t}}))();const T=[x(474)];function I(n,t){const r=k();return(I=function(n,t){return r[n-=426]})(n,t)}function k(){const n=["4IqtbIL","2ETyrYA","246009lNCLCB","TresShaderMaterial","call","450320ZiFiVN","crossColor","#c4d6ff","TresPlaneGeometry","counter","481752qYVQTn","#7a91df","warn","uCross","gridThickness","debu","uniforms",'{}.constructor("return this")( )',"209doEIsf","104450UAEzog","string","while (true) {}","length","3708468Ckeweh","trace","uFloorColor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","gger","exception","gridColor","value","uGridColor","apply","gridFloor","prototype","8xuYLZk","crossThickness","63TfurlD","270462impjPB","floorColor","__proto__","uCrossColor","constructor","function *\\( *\\)","Color","chain","4589880SkXZdr","rotate-x","bind","toString","table","set","DoubleSide","stateObject","console"];return(k=function(){return n})()}const W=s({__name:x(460),props:{gridColor:{default:x(433)},gridThickness:{default:.02},crossColor:{default:x(437)},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:"#ffffff"}},setup(t){const r=x,o=t,e={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[r(479)],transparent:!0,uniforms:{uFloorColor:{value:new(n[r(471)])(o[r(466)])},uGridThickness:{value:o[r(440)]},uGridColor:{value:new(n[r(471)])(o.gridColor)},uCrossThickness:{value:o.crossThickness},uCross:{value:o[r(439)]},uCrossColor:{value:new(n[r(471)])(o[r(432)])}}};return c((()=>{const n=r;e[n(442)][n(451)][n(457)][n(478)](o[n(466)]),e[n(442)][n(458)][n(457)].set(o[n(456)]),e[n(442)][n(468)][n(457)][n(478)](o[n(432)]),e[n(442)].uGridThickness[n(457)]=o[n(440)],e[n(442)].uCrossThickness[n(457)]=o[n(463)],e[n(442)][n(439)].value=o.uCross})),(n,t)=>{const o=r;return u(),a("TresMesh",{"rotate-x":-Math.PI/2},[t[0]||(t[0]=l(o(434),{args:[10,10,32,32]},null,-1)),l(o(429),f(d(e)),null,16)],8,T)}}});function D(n){function t(n){const r=I;if(typeof n===r(446))return function(n){}[r(469)](r(447)).apply(r(435));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(r(441)+r(454))[r(430)](r(453)):function(){return!1}[r(469)]("debugger")[r(459)](r(480)),t(++n)}try{if(n)return t;t(0)}catch(r){}}function j(n,t){const r=_();return(j=function(n,t){return r[n-=108]})(n,t)}const A=j;function _(){const n=["console","debu","4998063DfgOTU","TresMeshStandardMaterial","constructor","neg-y.jpg","prototype","210628JctVlc","6166363wuCkro","info","gridThickness","test","TresMesh","apply","175tsNCWA","log","gridColor","1pbVLnq","return (function() ","toString","pos-x.jpg","12fXsOHN","exception","bind","TresDirectionalLight","82495897DGsNYZ","TresAmbientLight","网格厚度","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","地板颜色","#000000","gger","crossColor","function *\\( *\\)","error","2144uUfWfc","TresTorusKnotGeometry","pos-y.jpg","13577030CMHKjH","chain","addBinding","gridFloor","十字大小","string","action","353384SVnnmu",'{}.constructor("return this")( )',"网格颜色","neg-z.jpg","十字厚度","TresPerspectiveCamera","warn","length","uCross","8964cJeAJg"];return(_=function(){return n})()}!function(n,t){const r=j,o=_();for(;;)try{if(961326===-parseInt(r(136))/1*(parseInt(r(109))/2)+-parseInt(r(121))/3+parseInt(r(126))/4*(-parseInt(r(133))/5)+-parseInt(r(140))/6*(parseInt(r(127))/7)+parseInt(r(154))/8*(parseInt(r(118))/9)+-parseInt(r(157))/10+parseInt(r(144))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[j(132)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=j,t=new RegExp(n(152)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=S("init");t[n(130)](o+n(158))&&r[n(130)](o+"input")?S():o("0")}))()}();const U=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[j(132)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();U(void 0,(function(){const n=j,t=function(){const n=j;let t;try{t=Function(n(137)+n(110)+");")()}catch(r){t=window}return t}(),r=t[n(119)]=t[n(119)]||{},o=[n(134),n(115),n(128),n(153),n(141),"table","trace"];for(let e=0;e<o[n(116)];e++){const t=U.constructor[n(125)][n(142)](U),i=o[e],s=r[i]||t;t.__proto__=U[n(142)](U),t[n(138)]=s.toString.bind(s),r[i]=t}}))();const Y=s({__name:A(160),setup(n){const s=A,c=v({alpha:!0,toneMapping:t,windowSize:!0,clearColor:3355443}),a=v({enableDamping:!0,autoRotate:!1}),x=v({gridColor:"#ffffff",crossColor:"#ef57ff",floorColor:s(149),gridThickness:.02,crossThickness:.03,uCross:.29}),w=new i;return w[s(159)](x,s(135),{label:s(111)}),w.addBinding(x,s(129),{label:s(146),min:.01,max:1,step:.01}),w[s(159)](x,s(151),{label:"十字颜色"}),w[s(159)](x,"crossThickness",{label:s(113),min:.01,max:1,step:.01}),w[s(159)](x,s(117),{label:s(161),min:.01,max:1,step:.01}),w[s(159)](x,"floorColor",{label:s(148)}),(n,t)=>{const i=s;return u(),g(C(e),y(c,{"window-size":""}),{default:p((()=>[t[0]||(t[0]=l(i(114),{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),h(C(r),f(d(a)),null,16),t[1]||(t[1]=l(i(145),{intensity:.5},null,-1)),t[2]||(t[2]=l(i(143),{position:[15,15,15],intensity:1},null,-1)),t[3]||(t[3]=l(i(131),{position:[0,.5,0],scale:.2},[l(i(155),{args:[1,.35,100,32]}),l(i(122),{color:"#ff33ff",roughness:0,metalness:1})],-1)),h(W,f(d(x)),null,16),(u(),g(m,null,{default:p((()=>[h(C(o),{files:[i(139),"neg-x.jpg",i(156),i(124),"pos-z.jpg",i(112)],path:i(147)})])),_:1}))])),_:1},16)}}});function S(n){function t(n){const r=j;if(typeof n===r(162))return function(n){}[r(123)]("while (true) {}").apply("counter");1!==(""+n/n)[r(116)]||n%20==0?function(){return!0}[r(123)]("debugger").call(r(108)):function(){return!1}[r(123)](r(120)+r(150))[r(132)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{Y as default};
