import{e,o}from"./@tresjs.zc7faK4J1743660816268.js";import{P as s}from"./tweakpane.ivGeiIdz1743660816268.js";import{_ as t}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.HokDQ1tw1743660816268.js";import{B as r,Q as a}from"./three.quarks.H01G6FD01743660816268.js";import{d as i,w as n,o as l,H as p,N as c,u as m,r as u,e as f,f as d,g as j,j as w,aj as g,ak as h,al as y,m as v}from"./@vue.B5PFBfKs1743660816268.js";import{f as _,C,t as T}from"./three.2wx8FU0g1743660816268.js";import{C as b,a as M}from"./quarks.core.TCS8Grzm1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./all.three.q3DPAGr01743660816268.js";import"./oimophysics.WhCxc1Ho1743660816268.js";import"./vite-plugin-qiankun.DT7p3NC_1743660816268.js";const k=["object"],B=["object","position","scale","rotation"],S=i({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(o){const s=o,t=e=>{const o=new C(s.color),t=new T(o.r,o.g,o.b,e);return new M(t)},i=new r,u=new a;u.setCrossOrigin("");const f=new _;u.load("./plugins/floor/json/CartoonMagicZone2.json",(e=>{e.traverse((e=>{if("ParticleEmitter"===e.type){"BasicZoneRedEmitter"===e.name&&e.rotation.set(Math.PI/2,0,0);const o=e.system;-.25===o.startSpeed.value&&(o.startSpeed=new b(-.5)),o.startColor=t(o.startColor.color.w),i.addSystem(o)}})),"ParticleEmitter"===e.type&&i.addSystem(e.system),f.add(e)}));const{onLoop:d}=e();return d((({delta:e,elapsed:o})=>{i.update(e)})),n((()=>[s.color]),(([e])=>{i.systemToBatchIndex.forEach(((e,o)=>{o.startColor=t(o.startColor.color.w)}))})),(e,o)=>(l(),p("TresGroup",null,[c("primitive",{object:m(f)},null,8,k),c("primitive",{object:m(i),position:e.position,scale:e.scale,rotation:e.rotation},null,8,B)]))}}),P=i({__name:"cartoonMagicZone",setup(e){const r=u({reflectivity:.1,showGridHelper:!0,scale:1}),a=u({color:"#ffffff",scale:1}),i=new s;return i.addBinding(a,"color",{label:"颜色"}),i.addBinding(a,"scale",{label:"大小",min:.1,max:3,step:.1}),(e,s)=>{const i=f("TresCanvas");return l(),d(i,{clearColor:"#201919","window-size":""},{default:j((()=>[s[0]||(s[0]=c("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),w(m(o),{enableDamping:""}),s[1]||(s[1]=c("TresAmbientLight",{intensity:2},null,-1)),w(S,g(h(a)),null,16),w(S,{color:"yellow",scale:1,position:[3,0,0]}),s[2]||(s[2]=c("TresMesh",{position:[3,0,0]},[c("TresSphereGeometry",{args:[1,32,32]}),c("TresMeshBasicMaterial",{color:"yellow"})],-1)),s[3]||(s[3]=c("TresMesh",{position:[0,0,0]},[c("TresSphereGeometry",{args:[1,32,32]}),c("TresMeshBasicMaterial",{color:"white"})],-1)),(l(),d(y,null,{default:j((()=>[w(t,v({position:[0,-.5,0]},r),null,16)])),_:1}))])),_:1})}}});export{P as default};
