import{_ as t,ct as e,bQ as i,k as n,V as s,C as r,m as o}from"./three.1FILWcBb1734746792122.js";const a=c;function c(t,e){const i=u();return(c=function(t,e){return i[t-=417]})(t,e)}!function(t,e){const i=c,n=u();for(;;)try{if(817852===parseInt(i(760))/1+parseInt(i(454))/2+parseInt(i(725))/3+parseInt(i(549))/4*(parseInt(i(508))/5)+-parseInt(i(682))/6*(-parseInt(i(790))/7)+parseInt(i(471))/8*(parseInt(i(672))/9)+-parseInt(i(563))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){h(this,(function(){const t=c,e=new RegExp(t(811)),i=new RegExp(t(644),"i"),n=d(t(739));e[t(756)](n+t(551))&&i[t(756)](n+t(868))?d():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[c(638)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function u(){const t=["_radius","_assignValue","attribute vec4 acceleration;","`emitter` argument must be instance of SPE.Emitter. Was provided with:","_setBufferUpdateRanges","releaseIntoPool","params","return (function() ","randomDirectionVector3OnDisc","#endif","drag","_pool","distribution","dispose","OBJECT","attributeKeys","bufferUpdateRanges","18856TiGaEW","    ","chain","    gl_PointSize = pointSizePerspective;","_calculatePPSValue","      vec3 axis = unpackRotationAxis( rotation.x );","common","vec3 getVelocity( in float age ) {","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","       float y = 1.0 - gl_PointCoord.y - 0.5;","    return max(sign(x - y), 0.0);","   return c;","lerpTypeAgnostic","    vColor = vec4( c, o );","44742800FHlAWr","needsUpdate","    varying vec4 vSpriteSheet;","hasOwnProperty","activeParticleCount","  return 1.0 - when_lt(x, y);","updateMax","unshift","bufferAttribute","       float c = cos( -vAngle );","attributeCount","_createNewWhenPoolEmpty","onParticleSpawn","trace","alphaTest","    vec3 value = vec3( 0.0 );","Argument is not instanceof SPE.Emitter:","addEmitter","NUMBER","float when_eq( float x, float y ) {","getLength","float getAlive() {","float getAge() {","updateMap","textureFrames","resetDynamic","           unpackColor( color.w )","    return min(a + b, 1.0);","setRGB","Texture","action","randomise","duration","mesh","pop","_radiusScale","setVec2Components","types","hasPerspective","count","ceil","      }","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","                   0.0,                                0.0,                                0.0,                                1.0);","floor","radius","float when_lt(float x, float y) {","number","setVec3","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","defineProperty","_angleSpread","BufferGeometry","_assignAbsLifetimeValue","        float row = floor( (frameNumber - column) / framesX );","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","ensureArrayInstanceOf","vec4 getPosition( in float age ) {","    #else","setVec3Components","_attributesNeedRefresh","vec3 unpackRotationAxis( in float hex ) {","debu","_decrementParticleCount","_resetParticle","attribute vec3 rotationCenter;","color","      float angle = 0.0;","        float framesY = vSpriteSheet.y;","        vSpriteSheet.z = columnNorm;","float when_gt(float x, float y) {","_randomise","       float c = cos(angle);","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","apply","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","    force += accel * age;","setMat3","attribute vec4 opacity;","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defines","        pos.x += wiggleSin;","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","max","_value","setAttribute","   float b = mod( hex, PACKED_COLOR_SIZE );","uniforms","uniform float deltaTime;","isStatic","unpackColor","ensureValueOverLifetimeCompliance","group","_attributesNeedDynamicReset","   return modelViewMatrix * vec4( position, 1.0 );","   return velocity * age;","round","enable","    varying float vAngle;","attributes","   return params.y;","    highp float age = getAge();","uniform sampler2D tex;","_assignColorValue","_rotationCenter","BOX","        pos.y += wiggleCos;","164745yMdSdR",'{}.constructor("return this")( )',"   c.g = g / PACKED_COLOR_DIVISOR;","_setAttributeOffset","min","      rotationMatrix = getRotationMatrix( axis, angle );","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","shaderChunks","function","ShaderAttribute","12396yTNGit","clamp","alive","      if( rotation.y == 0.0 ) {","    vec3 vel = getVelocity( age );","particleCount","SHOULD_CALCULATE_SPRITE","offset","position","stateObject","Vector2","rotationCenter","ensureTypedArg","dynamicBuffer","sin","bufferUpdateCount","frames","floatOverLifetime","reset","emitters","_ensureTypedArray","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    #ifdef ALPHATEST","interpolateArray","Vector3","velocity","console","paramsArray","_spread","MathUtils","size","fog_pars_vertex","#define PACKED_COLOR_DIVISOR 255.0","colorize","push","radiusScale","_spreadClamp","    vec4 rotatedTexture = texture2D( tex, vUv );","disable","prototype","center","    return a * b;","shaders","1792716UsmGIj","emitterIDs","_axisSpread","    #ifdef SHOULD_CALCULATE_SPRITE","transparent","setUpdateRange","indexOffset","splice","attribute vec4 rotation;","__proto__","_assignParamsValue","_activateParticles","uniform vec4 textureAnimation;","ensureInstanceOf","init","clone","error","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","randomVector3OnSphere","    vec3 accel = getAcceleration( age );","constructor","acceleration","   c.b = b / PACKED_COLOR_DIVISOR;","LINE","_resetBufferRanges","call","wiggle","table","loop","  return 1.0 - when_gt(x, y);","   c.r = r / PACKED_COLOR_DIVISOR;","test","SHOULD_WIGGLE_PARTICLES","spread","        float column = floor(mod( frameNumber, framesX ));","1220063hcYJtc","roundToNearestMultiple","length","keys","getValueAtIndex","_assignPositionValue","isArray","geometry","Group","randomVector3OnLine","textureLoop","fog_fragment","float getMaxAge() {","        float framesY = textureAnimation.y;","#ifdef SHOULD_CALCULATE_SPRITE","    #endif","        float framesX = textureAnimation.x;","opacity","object","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","    return value;","BOOLEAN","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","maxAge","addPool","       );","        vSpriteSheet.x = 1.0 / framesX;","amd","attribute vec4 angle;","_applyAttributesToGeometry","1463mrhaFa","componentSize","setSize","setVec2","updateFlags","        float wiggleAmount = positionInTime * getWiggle();","#define PACKED_COLOR_SIZE 256.0","      mat4 rotationMatrix;","spe","        float loopCount = textureAnimation.w;","normalize","           positionInTime,","indexOf","getPool","resetUpdateRange","depthTest","Emitter already belongs to another group. Will not add to requested group.","varyings","typeSizeMap","   return params.w;","array","function *\\( *\\)","abs","Emitter does not belong to a group, cannot remove.","POSITIVE_INFINITY","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","bind","randomVector3","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","maxParticleCount","attribute vec4 size;","_updateDefines","NEGATIVE_INFINITY","void main() {","_axis","    vec3 outgoingLight = vColor.xyz;","arrayValuesAreEqual","        float framesX = vSpriteSheet.x;","distributionClamp","_createGetterSetters","subarray","SHOULD_ROTATE_PARTICLES","bufferUpdateKeys","Vector4","_assignAngleValue","   return params.z;","paramFetchingFunctions","spreadClamp","branchAvoidanceFunctions","_center","grow","   vec3 c = vec3( 0.0 );","DynamicDrawUsage","itemSize","resetFlags","toString","updateMin","AdditiveBlending","string","    float pointSizePerspective = pointSize * perspective;","        float perspective = scale / length( mvPosition.xyz );","warn","SPE.Group pool ran out.","_updateUniforms","getHex","TypedArrayConstructor","shrink","counter","particles, can support only","fragment","flagUpdate","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","generateUUID","textureFrameCount","       float s = sin( -vAngle );","remove","arrayType","angleSpread","input","fog_pars_fragment","unpackRotationAxis","setVec4Components","    float fIndex = 0.0;","scale","        vSpriteSheet.w = rowNorm;","vec3 unpackColor( in float hex ) {","        float rowNorm = row / framesY;","_onRemove","    highp float isAlive = when_gt( alive, 0.0 );","    return 1.0 - abs( sign( x - y ) );","       vec3 c = vec3(1.0);","       float oc = 1.0 - c;","info","uuid","forceUpdateAll","   c *= vec3( 2.0 );","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","       vec3 c = isAlive * getColorOverLifetime(","_poolCreationSettings","    #ifdef SHOULD_WIGGLE_PARTICLES","setFromArray","getFromPool","elements","logdepthbuf_pars_vertex","DISC","Emitter","while (true) {}","multiplyScalar","fixedTimeStep","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","blending","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","float and(float a, float b) {","           return pos;","particlesPerSecond","rotation","_triggerSingleEmitter","direction","   return acceleration.xyz * age;","_createBufferAttribute","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","    float shouldApplyValue = 0.0;","join","Points","    #ifdef SHOULD_ROTATE_TEXTURE","updateRange","2460770HlQDRE","        float columnNorm = vSpriteSheet.z;","copy","_distribution","material","logdepthbuf_fragment","_updateAttributeUpdateRange","utils","    #ifdef COLORIZE","       float s = sin(angle);","attributeOffset","setColor","set","ShaderChunk","randomDirectionVector3OnSphere","angle","#ifdef SHOULD_ROTATE_TEXTURE","448xbsEGh","_incrementParticleCount","forceFetchingFunctions","activationEnd","removeEmitter","_angle","_checkParticleAges","Color","typedArray","activeMultiplier","fog","float getWiggle() {","updateCounts","depthWrite","type","rotateTexture","sqrt","SPHERE","    }","        pos.z += wiggleSin;","    vec3 pos = vec3( position );","fog_vertex","REVISION","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","        float wiggleSin = isAlive * sin( wiggleAmount );","tick","           unpackColor( color.x ),","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","        float wiggleCos = isAlive * cos( wiggleAmount );","exports","usage","randomFloat","varying vec4 vColor;","ensureArrayTypedArg","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","cos","835NOBPQN","random","activationIndex","TypedArrayHelper","lerp","exception","value","    pos += force;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","setDrawRange","valueOverLifetimeLength","        float perspective = 1.0;","boolean","BufferAttribute","_assignForceValue","setMat4","SHOULD_ROTATE_TEXTURE","   return params.x;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","texture","age","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","distributions","    vec3 force = vec3( 0.0 );"];return(u=function(){return t})()}l(void 0,(function(){const t=c,e=function(){const t=c;let e;try{e=Function(t(539)+t(673)+");")()}catch(i){e=window}return e}(),i=e[t(708)]=e.console||{},n=[t(643),"warn",t(420),t(741),t(513),t(752),t(576)];for(let s=0;s<n[t(762)];s++){const e=l.constructor.prototype.bind(l),r=n[s],o=i[r]||e;e[t(734)]=l[t(816)](l),e[t(845)]=o.toString.bind(o),i[r]=e}}))();const f={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===a(680)&&define[a(787)]?define(a(798),f):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module[a(501)]=f),f.TypedArrayHelper=function(t,e,i,n){const s=a;this.componentSize=i||1,this[s(712)]=e||1,this[s(855)]=t||Float32Array,this[s(810)]=new t(e*this[s(791)]),this[s(731)]=n||0},f.TypedArrayHelper[a(745)]=f[a(511)],f.TypedArrayHelper[a(721)][a(792)]=function(t,e){const i=a,n=this[i(810)][i(762)];return!e&&(t*=this[i(791)]),t<n?this[i(856)](t):t>n?this[i(840)](t):void console[i(420)]("TypedArray is already of size:",t+".","Will not resize.")},f.TypedArrayHelper[a(721)].shrink=function(t){const e=a;return this[e(810)]=this[e(810)][e(830)](0,t),this[e(712)]=t,this},f.TypedArrayHelper.prototype[a(840)]=function(t){const e=a,i=this[e(810)],n=new(this[e(855)])(t);return n[e(466)](i),this[e(810)]=n,this[e(712)]=t,this},f[a(511)].prototype[a(732)]=function(t,e){const i=a;t*=this[i(791)],e*=this[i(791)];const n=[],s=this[i(810)],r=s[i(762)];for(let o=0;o<r;++o)(o<t||o>=e)&&n[i(716)](s[o]);return this.setFromArray(0,n),this},f[a(511)].prototype[a(428)]=function(t,e){const i=a,n=t+e[i(762)];return n>this.array.length?this[i(840)](n):n<this[i(810)].length&&this.shrink(n),this[i(810)].set(e,this[i(731)]+t),this},f[a(511)].prototype[a(793)]=function(t,e){return this[a(599)](t,e.x,e.y)},f[a(511)].prototype[a(599)]=function(t,e,i){const n=a,s=this[n(810)],r=this.indexOffset+t*this[n(791)];return s[r]=e,s[r+1]=i,this},f.TypedArrayHelper[a(721)][a(611)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},f[a(511)].prototype[a(622)]=function(t,e,i,n){const s=a,r=this[s(810)],o=this.indexOffset+t*this[s(791)];return r[o]=e,r[o+1]=i,r[o+2]=n,this},f[a(511)][a(721)].setVec4=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},f[a(511)][a(721)][a(871)]=function(t,e,i,n,s){const r=a,o=this[r(810)],c=this.indexOffset+t*this[r(791)];return o[c]=e,o[c+1]=i,o[c+2]=n,o[c+3]=s,this},f[a(511)].prototype[a(641)]=function(t,e){const i=a;return this.setFromArray(this[i(731)]+t*this[i(791)],e[i(430)])},f.TypedArrayHelper[a(721)][a(523)]=function(t,e){const i=a;return this[i(428)](this[i(731)]+t*this[i(791)],e[i(430)])},f.TypedArrayHelper.prototype[a(465)]=function(t,e){return this[a(622)](t,e.r,e.g,e.b)},f[a(511)][a(721)].setNumber=function(t,e){const i=a;return this.array[this[i(731)]+t*this[i(791)]]=e,this},f[a(511)].prototype[a(764)]=function(t){const e=a;return this[e(810)][this[e(731)]+t]},f[a(511)].prototype.getComponentValueAtIndex=function(t){const e=a;return this.array[e(830)](this[e(731)]+t*this.componentSize)},f[a(681)]=function(t,e,i){const n=a,s=f[n(681)].typeSizeMap;this[n(485)]="string"==typeof t&&s[n(566)](t)?t:"f",this[n(791)]=s[this[n(485)]],this[n(866)]=i||Float32Array,this[n(479)]=null,this[n(571)]=null,this.dynamicBuffer=!!e,this[n(846)]=0,this[n(569)]=0},f[a(681)][a(745)]=f[a(681)],f[a(681)][a(808)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},f.ShaderAttribute[a(721)][a(730)]=function(t,e){const i=a;this[i(846)]=Math[i(676)](t*this[i(791)],this[i(846)]*this[i(791)]),this[i(569)]=Math.max(e*this[i(791)],this[i(569)]*this[i(791)])},f[a(681)][a(721)][a(860)]=function(){const t=a,e=this.bufferAttribute;!e[t(453)]&&(e[t(453)]={});const i=e[t(453)];i.offset=this[t(846)],i[t(602)]=Math[t(676)](this[t(569)]-this[t(846)]+this[t(791)],this.typedArray.array[t(762)]),e[t(564)]=!0},f.ShaderAttribute.prototype[a(804)]=function(){this[a(846)]=0,this.updateMax=0},f.ShaderAttribute[a(721)][a(588)]=function(){const i=a;this[i(571)][i(502)]=this[i(695)]?t[i(842)]:e},f[a(681)][a(721)][a(732)]=function(t,e){const i=a;this[i(479)][i(732)](t,e),this[i(422)]()},f[a(681)][a(721)][a(422)]=function(){const t=a;this[t(571)][t(810)]=this[t(479)][t(810)],this[t(571)].updateRange[t(689)]=0,this[t(571)][t(453)][t(602)]=-1,this.bufferAttribute[t(502)]=e,this[t(571)].needsUpdate=!0},f[a(681)][a(721)][a(702)]=function(t){const e=a;null!==this[e(479)]&&this[e(479)][e(712)]===t*this[e(791)]||(null!==this.typedArray&&this.typedArray[e(712)]!==t?this[e(479)].setSize(t):null===this[e(479)]&&(this[e(479)]=new(f[e(511)])(this[e(866)],t,this.componentSize)))},f.ShaderAttribute[a(721)]._createBufferAttribute=function(i){const n=a;if(this[n(702)](i),null!==this[n(571)])return this[n(571)][n(810)]=this.typedArray[n(810)],parseFloat(t[n(493)])>=81&&(this[n(571)][n(602)]=this[n(571)][n(810)][n(762)]/this[n(571)][n(843)]),void(this.bufferAttribute[n(564)]=!0);this[n(571)]=new(t[n(521)])(this[n(479)][n(810)],this[n(791)]),this[n(571)][n(502)]=this[n(695)]?t[n(842)]:e},f[a(681)][a(721)][a(583)]=function(){const t=a;return null===this[t(479)]?0:this[t(479)][t(810)][t(762)]},f[a(679)]={defines:[a(796),a(714)][a(450)]("\n"),uniforms:[a(653),"uniform float runTime;",a(667),a(737),"uniform float scale;"][a(450)]("\n"),attributes:[a(534),"attribute vec3 velocity;",a(733),a(628),"attribute vec4 params;",a(820),a(788),"attribute vec4 color;",a(642)][a(450)]("\n"),varyings:[a(504),a(470),a(663),a(541),a(774),a(565),a(541)][a(450)]("\n"),branchAvoidanceFunctions:[a(633),a(559),"}",a(609),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",a(582),a(417),"}","float when_ge(float x, float y) {",a(568),"}","float when_le(float x, float y) {",a(754),"}",a(440),a(723),"}","float or(float a, float b) {",a(590),"}"].join("\n"),unpackColor:[a(875),a(841),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",a(651),a(755),a(674),a(747),"   return c;","}"].join("\n"),unpackRotationAxis:[a(624),a(841),a(499),a(605),"   float b = mod( hex, PACKED_COLOR_SIZE );",a(755),a(674),a(747),a(423),"   c -= vec3( 1.0 );",a(560),"}"][a(450)]("\n"),floatOverLifetime:[a(637),"    highp float value = 0.0;",a(742),a(872),a(449),a(516),"",a(612),"       fIndex = float( i );",a(437),a(861),a(489),"",a(780),"}"][a(450)]("\n"),colorOverLifetime:[a(506),a(578),a(815),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",a(703),a(780),"}"][a(450)]("\n"),paramFetchingFunctions:[a(584),a(525),"}",a(585),a(665),"}",a(772),a(835),"}",a(482),a(809),"}"][a(450)]("\n"),forceFetchingFunctions:[a(620),a(659),"}",a(556),a(660),"}","vec3 getAcceleration( in float age ) {",a(446),"}"][a(450)]("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);",a(463),a(635),a(419),"",a(439),a(495),"                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",a(606),"   }","",a(424),a(685),a(441),a(604),"",a(554),"      vec3 center = rotationCenter;","      vec3 translated;",a(797),a(630),a(639),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      translated = rotationCenter - pos;",a(677),"      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }",a(541)][a(450)]("\n"),rotateTexture:[a(818),"",a(452),"       float x = gl_PointCoord.x - 0.5;",a(558),a(572),a(864),a(526),a(775),"",a(728),a(827),a(631),a(455),"        float rowNorm = vSpriteSheet.w;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;",a(636),a(775),"",a(719)].join("\n")},f[a(724)]={vertex:[f[a(679)][a(645)],f.shaderChunks[a(652)],f[a(679)].attributes,f.shaderChunks[a(807)],t[a(467)].common,t[a(467)][a(431)],t[a(467)][a(713)],f.shaderChunks.branchAvoidanceFunctions,f[a(679)][a(655)],f[a(679)][a(870)],f[a(679)][a(699)],f[a(679)].colorOverLifetime,f.shaderChunks[a(836)],f.shaderChunks[a(473)],f[a(679)].rotationFunctions,a(823),a(666),"    highp float alive = getAlive();","    highp float maxAge = getMaxAge();","    highp float positionInTime = (age / maxAge);",a(878),a(427),a(795),a(496),a(500),a(775),a(686),a(744),a(531),a(491),a(782),"    force += vel;","    force *= drag;",a(640),a(515),a(427),a(646),a(671),a(490),a(775),"    #ifdef SHOULD_ROTATE_PARTICLES","        pos = getRotation( pos, positionInTime );",a(775),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",a(529),"    #ifdef HAS_PERSPECTIVE",a(850),a(621),a(519),a(775),a(849),a(462),a(425),a(801),a(498),"           unpackColor( color.y ),","           unpackColor( color.z ),",a(589),a(785),"    #else",a(418),a(775),a(647),a(562),"    #ifdef SHOULD_ROTATE_TEXTURE",a(494),a(775),a(728),a(776),a(773),a(799),"        float totalFrames = textureAnimation.z;",a(779),a(759),a(617),"        float columnNorm = column / framesX;",a(876),a(786),"        vSpriteSheet.y = 1.0 / framesY;",a(632),a(874),"    #endif",a(552),"    gl_Position = projectionMatrix * mvPosition;",i.logdepthbuf_vertex,t[a(467)][a(492)],"}"][a(450)]("\n"),fragment:[f[a(679)][a(652)],t[a(467)][a(555)],t[a(467)][a(869)],t[a(467)].logdepthbuf_pars_fragment,f[a(679)][a(807)],f[a(679)][a(838)],a(823),a(825),a(550),a(704),"       if ( vColor.w < float(ALPHATEST) ) discard;",a(775),f[a(679)][a(486)],t[a(467)][a(459)],a(557),a(618),t[a(467)][a(771)],"}"][a(450)]("\n")},f[a(461)]={types:{BOOLEAN:a(520),STRING:a(848),NUMBER:a(610),OBJECT:a(778)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=a;if(Array[n(766)](t)){for(let s=t[n(762)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){if(Array[a(766)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=a;e=e||3,i=i||3,!1===Array.isArray(t[n(649)])&&(t[n(649)]=[t[n(649)]]),!1===Array.isArray(t._spread)&&(t._spread=[t._spread]);const s=this[n(683)](t[n(649)][n(762)],e,i),r=this[n(683)](t[n(710)][n(762)],e,i),o=Math.max(s,r);t[n(649)][n(762)]!==o&&(t[n(649)]=this[n(705)](t[n(649)],o)),t[n(710)][n(762)]!==o&&(t._spread=this[n(705)](t[n(710)],o))},interpolateArray(t,e){const i=a,n=t[i(762)],s=[typeof t[0][i(740)]===i(680)?t[0][i(740)]():t[0]],r=(n-1)/(e-1);for(let o=1;o<e-1;++o){const e=o*r,n=Math[i(607)](e),a=Math[i(603)](e),c=e-n;s[o]=this[i(561)](t[n],t[a],c)}return s[i(716)](typeof t[n-1][i(740)]===i(680)?t[n-1][i(740)]():t[n-1]),s},clamp(t,e,i){const n=a;return Math[n(648)](e,Math[n(676)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[a(509)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,o){const c=a;let h,l=this[c(600)];return typeof e===l[c(581)]&&typeof i===l[c(581)]?e+(i-e)*o:e instanceof t[c(692)]&&i instanceof n?(h=e.clone(),h.x=this[c(512)](e.x,i.x,o),h.y=this.lerp(e.y,i.y,o),h):e instanceof t[c(706)]&&i instanceof s?(h=e[c(740)](),h.x=this.lerp(e.x,i.x,o),h.y=this[c(512)](e.y,i.y,o),h.z=this[c(512)](e.z,i.z,o),h):e instanceof t[c(833)]&&i instanceof t[c(833)]?(h=e[c(740)](),h.x=this[c(512)](e.x,i.x,o),h.y=this.lerp(e.y,i.y,o),h.z=this[c(512)](e.z,i.z,o),h.w=this.lerp(e.w,i.w,o),h):e instanceof r&&i instanceof r?(h=e[c(740)](),h.r=this.lerp(e.r,i.r,o),h.g=this[c(512)](e.g,i.g,o),h.b=this[c(512)](e.b,i.b,o),h):void console[c(851)]("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){let i=0;return 0===e?t:(i=Math[a(812)](t)%e,0===i?t:t<0?-(Math.abs(t)-i):t+e-i)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[a(509)]()-.5),randomVector3(t,e,i,n,s){const r=a;let o=i.x+(Math[r(509)]()*n.x-.5*n.x),c=i.y+(Math[r(509)]()*n.y-.5*n.y),h=i.z+(Math.random()*n.z-.5*n.z);s&&(o=.5*-s.x+this.roundToNearestMultiple(o,s.x),c=.5*-s.y+this[r(761)](c,s.y),h=.5*-s.z+this[r(761)](h,s.z)),t[r(479)][r(622)](e,o,c,h)},randomColor(t,e,i,n){const s=a;let r=i.r+Math[s(509)]()*n.x,o=i.g+Math[s(509)]()*n.y,c=i.b+Math[s(509)]()*n.z;r=this[s(683)](r,0,1),o=this[s(683)](o,0,1),c=this[s(683)](c,0,1),t[s(479)][s(622)](e,r,o,c)},randomColorAsHex:function(){const t=new r;return function(e,i,n,s){const r=c,o=n[r(762)],a=[];for(let c=0;c<o;++c){const e=s[c];t[r(456)](n[c]),t.r+=Math[r(509)]()*e.x-.5*e.x,t.g+=Math.random()*e.y-.5*e.y,t.b+=Math[r(509)]()*e.z-.5*e.z,t.r=this[r(683)](t.r,0,1),t.g=this[r(683)](t.g,0,1),t.b=this.clamp(t.b,0,1),a[r(716)](t[r(854)]())}e.typedArray.setVec4Components(i,a[0],a[1],a[2],a[3])}}(),randomVector3OnLine(t,e,i,n){const s=a,r=i.clone();r[s(512)](n,Math.random()),t[s(479)][s(622)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,s,r,o,c){const h=a;let l=2*Math.random()-1,u=6.2832*Math[h(509)](),f=Math[h(487)](1-l*l),p=this[h(503)](n,s),d=0,m=0,g=0;o&&(p=Math[h(661)](p/o)*o),d=f*Math[h(507)](u)*p,m=f*Math[h(696)](u)*p,g=l*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t[h(479)][h(622)](e,d,m,g)},seededRandom(t){const e=1e4*Math[a(696)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,r,o){const c=a;let h=6.2832*Math[c(509)](),l=Math[c(812)](this[c(503)](n,s)),u=0,f=0,p=0;o&&(l=Math[c(661)](l/o)*o),u=Math[c(507)](h)*l,f=Math.sin(h)*l,u*=r.x,f*=r.y,u+=i.x,f+=i.y,p+=i.z,t[c(479)][c(622)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=a,i=new(t[e(706)]);return function(t,n,s,r,o,a,c,h){const l=e;i[l(456)](a),i.x-=s,i.y-=r,i.z-=o,i[l(800)]().multiplyScalar(-this[l(503)](c,h)),t[l(479)][l(622)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=a,i=new(t[e(706)]);return function(t,n,s,r,o,a,c,h){const l=e;i.copy(a),i.x-=s,i.y-=r,i.z-=o,i.normalize().multiplyScalar(-this.randomFloat(c,h)),t[l(479)][l(622)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=a,i=new s,n=new(t[e(706)]),r=new(t[e(478)]),o=new(t[e(706)])(1,1,1);return function(t,s){const a=e;return i.copy(t)[a(800)](),n[a(456)](s)[a(800)](),i.x+=.5*-s.x+Math[a(509)]()*s.x,i.y+=.5*-s.y+Math[a(509)]()*s.y,i.z+=.5*-s.z+Math[a(509)]()*s.z,i[a(800)]().add(o)[a(435)](.5),r[a(591)](i.x,i.y,i.z),r[a(854)]()}}()},f[a(768)]=function(e){const i=a,s=f[i(461)],r=s[i(600)];(e=s.ensureTypedArg(e,r[i(546)],{})).texture=s[i(694)](e[i(527)],r[i(546)],{}),this.uuid=t[i(711)][i(862)](),this.fixedTimeStep=s[i(694)](e.fixedTimeStep,r.NUMBER,.016),this[i(527)]=s[i(738)](e[i(527)][i(514)],t[i(592)],null),this[i(587)]=s.ensureInstanceOf(e[i(527)][i(698)],t[i(692)],new n(1,1)),this[i(863)]=s[i(694)](e.texture.frameCount,r[i(581)],this[i(587)].x*this.textureFrames.y),this[i(770)]=s[i(694)](e.texture[i(753)],r[i(581)],1),this.textureFrames[i(648)](new(t[i(692)])(1,1)),this[i(601)]=s[i(694)](e[i(601)],r[i(781)],!0),this.colorize=s[i(694)](e[i(715)],r.BOOLEAN,!0),this[i(819)]=s.ensureTypedArg(e[i(819)],r[i(581)],null),this.blending=s.ensureTypedArg(e[i(438)],r[i(581)],t[i(847)]),this[i(729)]=s[i(694)](e[i(729)],r.BOOLEAN,!0),this[i(577)]=parseFloat(s[i(694)](e[i(577)],r[i(581)],0)),this[i(484)]=s[i(694)](e[i(484)],r.BOOLEAN,!1),this[i(805)]=s[i(694)](e[i(805)],r[i(781)],!0),this.fog=s[i(694)](e[i(481)],r.BOOLEAN,!0),this[i(873)]=s[i(694)](e[i(873)],r[i(581)],300),this[i(701)]=[],this.emitterIDs=[],this._pool=[],this[i(426)]=null,this[i(574)]=0,this._attributesNeedRefresh=!1,this[i(658)]=!1,this[i(687)]=0,this.uniforms={tex:{type:"t",value:this[i(527)]},textureAnimation:{type:"v4",value:new(t[i(833)])(this[i(587)].x,this.textureFrames.y,this[i(863)],Math.max(Math[i(812)](this[i(770)]),1))},fogColor:{type:"c",value:this[i(481)]?new(t[i(478)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this[i(715)],VALUE_OVER_LIFETIME_LENGTH:f[i(518)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this[i(587)].y>1},this[i(664)]={position:new f.ShaderAttribute("v3",!0),acceleration:new(f[i(681)])("v4",!0),velocity:new(f[i(681)])("v3",!0),rotation:new(f[i(681)])("v4",!0),rotationCenter:new f.ShaderAttribute("v3",!0),params:new(f[i(681)])("v4",!0),size:new(f[i(681)])("v4",!0),angle:new f.ShaderAttribute("v4",!0),color:new(f[i(681)])("v4",!0),opacity:new(f[i(681)])("v4",!0)},this[i(547)]=Object[i(763)](this[i(664)]),this.attributeCount=this[i(547)][i(762)],this[i(458)]=new o({uniforms:this[i(652)],vertexShader:f[i(724)].vertex,fragmentShader:f[i(724)][i(859)],blending:this[i(438)],transparent:this[i(729)],alphaTest:this.alphaTest,depthWrite:this[i(484)],depthTest:this[i(805)],defines:this[i(645)],fog:this[i(481)]}),this[i(767)]=new(t[i(615)]),this[i(596)]=new(t[i(451)])(this[i(767)],this[i(458)]),null===this[i(819)]&&console[i(851)](i(448))},f.Group[a(745)]=f.Group,f.Group[a(721)][a(821)]=function(){const t=a;let e,i=this[t(701)],n=i[t(762)]-1,s=this[t(645)];for(;n>=0;--n)e=i[n],!s[t(688)]&&(s[t(524)]=s[t(524)]||!!Math.max(Math[t(648)][t(638)](null,e.angle[t(514)]),Math[t(648)][t(638)](null,e[t(469)].spread))),s[t(831)]=s[t(831)]||!!Math.max(e[t(443)][t(469)],e[t(443)][t(867)]),s.SHOULD_WIGGLE_PARTICLES=s[t(757)]||!!Math[t(648)](e[t(751)].value,e.wiggle[t(758)]);this[t(458)][t(564)]=!0},f[a(768)][a(721)][a(789)]=function(){const t=a;let e,i,n=this.attributes,s=this[t(767)],r=s.attributes;for(const o in n)n[t(566)](o)&&(e=n[o],i=r[o],i?i[t(810)]=e.typedArray.array:s[t(650)](o,e[t(571)]),e.bufferAttribute[t(564)]=!0);this.geometry[t(517)](0,this[t(687)])},f[a(768)][a(721)][a(580)]=function(t){const e=a;if(t instanceof f[e(433)]==!1)return void console.error(e(535),t);if(this[e(726)][e(802)](t[e(421)])>-1)return void console[e(741)]("Emitter already exists in this group. Will not add again.");if(null!==t.group)return void console.error(e(806));const i=this[e(664)],n=this[e(687)],s=n+t[e(687)];this[e(687)]=s,null!==this.maxParticleCount&&this[e(687)]>this.maxParticleCount&&console[e(851)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(687)],e(858),this[e(819)]),t[e(553)](t[e(783)][e(649)]+t[e(783)][e(710)]),t[e(536)](this[e(547)]),t[e(675)](n),t.group=this,t[e(664)]=this[e(664)];for(const r in i)i[e(566)](r)&&i[r][e(447)](null!==this.maxParticleCount?this[e(819)]:this[e(687)]);for(let r=n;r<s;++r)t._assignPositionValue(r),t[e(522)](r,e(707)),t[e(522)](r,e(746)),t._assignAbsLifetimeValue(r,e(777)),t._assignAbsLifetimeValue(r,"size"),t[e(834)](r),t._assignRotationValue(r),t._assignParamsValue(r),t[e(668)](r);return this[e(789)](),this.emitters[e(716)](t),this[e(726)][e(716)](t.uuid),this[e(821)](t),this.material[e(564)]=!0,this[e(767)][e(564)]=!0,this._attributesNeedRefresh=!0,this},f[a(768)][a(721)][a(475)]=function(t){const e=a,i=this[e(726)][e(802)](t.uuid);if(t instanceof f[e(433)]==!1)return void console[e(741)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console[e(741)]("Emitter does not exist in this group. Will not remove.");const n=t[e(464)],s=n+t.particleCount,r=this[e(664)][e(538)][e(479)];for(let o=n;o<s;++o)r[e(810)][4*o]=0,r[e(810)][4*o+1]=0;this.emitters[e(732)](i,1),this[e(726)][e(732)](i,1);for(const o in this[e(664)])this.attributes[e(566)](o)&&this[e(664)][o][e(732)](n,s);this.particleCount-=t[e(687)],t[e(877)](),this._attributesNeedRefresh=!0},f[a(768)].prototype[a(429)]=function(){const t=a,e=this._pool,i=this[t(574)];if(e[t(762)])return e[t(597)]();if(i){const e=new f.Emitter(this[t(426)]);return this[t(580)](e),e}return null},f[a(768)][a(721)][a(537)]=function(t){const e=a;if(t instanceof f[e(433)]!=!1)return t[e(700)](),this._pool[e(570)](t),this;console.error(e(579),t)},f[a(768)][a(721)][a(803)]=function(){return this[a(543)]},f.Group.prototype[a(784)]=function(t,e,i){const n=a;let s;this[n(426)]=e,this._createNewWhenPoolEmpty=!!i;for(let r=0;r<t;++r)s=Array.isArray(e)?new(f[n(433)])(e[r]):new f.Emitter(e),this.addEmitter(s),this[n(537)](s);return this},f[a(768)][a(721)][a(444)]=function(e){const i=a,n=this[i(429)](),s=this;if(null!==n)return e instanceof t[i(706)]&&(n[i(690)][i(514)].copy(e),n[i(690)][i(514)]=n[i(690)][i(514)]),n[i(662)](),setTimeout((()=>{const t=i;n[t(720)](),s[t(537)](n)}),1e3*Math[i(648)](n[i(595)],n[i(783)][i(514)]+n[i(783)].spread)),this;console[i(643)](i(852))},f.Group.prototype.triggerPoolEmitter=function(t,e){const i=a;if(typeof t===i(610)&&t>1)for(let n=0;n<t;++n)this[i(444)](e);else this[i(444)](e);return this},f.Group[a(721)][a(853)]=function(t){const e=a;this[e(652)].runTime[e(514)]+=t,this[e(652)].deltaTime[e(514)]=t},f[a(768)][a(721)][a(749)]=function(){const t=a;let e=this[t(547)],i=this[t(573)]-1,n=this[t(664)];for(;i>=0;--i)n[e[i]][t(804)]()},f[a(768)][a(721)]._updateBuffers=function(t){const e=a;let i,n,s,r=this.attributeKeys,o=this.attributeCount-1,c=this[e(664)],h=t[e(548)];for(;o>=0;--o)i=r[o],n=h[i],s=c[i],s[e(730)](n[e(676)],n[e(648)]),s[e(860)]()},f[a(768)][a(721)][a(497)]=function(t){const e=a;var i=this.emitters,n=i[e(762)],s=t||this[e(436)],r=this[e(547)],o=this[e(664)];if(this[e(853)](s),this._resetBufferRanges(),0!==n||!1!==this[e(623)]||!1!==this[e(658)]){for(var c,h=0;h<n;++h)(c=i[h]).tick(s),this._updateBuffers(c);if(!0===this[e(658)]){for(h=this.attributeCount-1;h>=0;--h)o[r[h]][e(588)]();this[e(658)]=!1}if(!0===this[e(623)]){for(h=this[e(573)]-1;h>=0;--h)o[r[h]][e(422)]();this[e(623)]=!1,this[e(658)]=!0}}},f[a(768)][a(721)].dispose=function(){const t=a;return this[t(767)][t(545)](),this[t(458)][t(545)](),this},f[a(433)]=function(e){const i=a,n=f.utils,r=n[i(600)],o=f.valueOverLifetimeLength;(e=n.ensureTypedArg(e,r[i(546)],{}))[i(690)]=n[i(694)](e[i(690)],r[i(546)],{}),e[i(707)]=n[i(694)](e[i(707)],r[i(546)],{}),e[i(746)]=n[i(694)](e[i(746)],r[i(546)],{}),e[i(608)]=n.ensureTypedArg(e.radius,r[i(546)],{}),e.drag=n[i(694)](e.drag,r[i(546)],{}),e[i(443)]=n.ensureTypedArg(e[i(443)],r.OBJECT,{}),e[i(629)]=n[i(694)](e[i(629)],r[i(546)],{}),e[i(777)]=n[i(694)](e.opacity,r[i(546)],{}),e[i(712)]=n[i(694)](e[i(712)],r[i(546)],{}),e.angle=n[i(694)](e[i(469)],r[i(546)],{}),e.wiggle=n[i(694)](e[i(751)],r[i(546)],{}),e[i(783)]=n[i(694)](e[i(783)],r.OBJECT,{}),e[i(575)]&&console.warn(i(678)),this[i(421)]=t[i(711)][i(862)](),this[i(485)]=n[i(694)](e[i(485)],r.NUMBER,f[i(530)][i(670)]),this[i(690)]={_value:n.ensureInstanceOf(e[i(690)][i(514)],t[i(706)],new(t[i(706)])),_spread:n[i(738)](e.position[i(758)],t[i(706)],new(t[i(706)])),_spreadClamp:n.ensureInstanceOf(e[i(690)][i(837)],t[i(706)],new(t[i(706)])),_distribution:n[i(694)](e[i(690)][i(544)],r.NUMBER,this[i(485)]),_randomise:n[i(694)](e[i(690)][i(594)],r[i(781)],!1),_radius:n[i(694)](e[i(690)][i(608)],r[i(581)],10),_radiusScale:n[i(738)](e.position[i(717)],t[i(706)],new(t[i(706)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(690)][i(828)],r[i(581)],0)},this.velocity={_value:n[i(738)](e[i(707)][i(514)],t[i(706)],new(t[i(706)])),_spread:n[i(738)](e[i(707)][i(758)],s,new(t[i(706)])),_distribution:n[i(694)](e[i(707)][i(544)],r[i(581)],this[i(485)]),_randomise:n.ensureTypedArg(e[i(690)][i(594)],r[i(781)],!1)},this[i(746)]={_value:n[i(738)](e.acceleration[i(514)],t[i(706)],new s),_spread:n[i(738)](e[i(746)].spread,t[i(706)],new(t[i(706)])),_distribution:n[i(694)](e[i(746)][i(544)],r[i(581)],this.type),_randomise:n.ensureTypedArg(e.position[i(594)],r[i(781)],!1)},this[i(542)]={_value:n[i(694)](e[i(542)][i(514)],r[i(581)],0),_spread:n[i(694)](e[i(542)][i(758)],r.NUMBER,0),_randomise:n[i(694)](e[i(690)].randomise,r[i(781)],!1)},this[i(751)]={_value:n[i(694)](e[i(751)][i(514)],r[i(581)],0),_spread:n[i(694)](e[i(751)][i(758)],r.NUMBER,0)},this[i(443)]={_axis:n[i(738)](e[i(443)].axis,t[i(706)],new(t[i(706)])(0,1,0)),_axisSpread:n[i(738)](e[i(443)].axisSpread,s,new s),_angle:n[i(694)](e[i(443)][i(469)],r.NUMBER,0),_angleSpread:n[i(694)](e[i(443)][i(867)],r[i(581)],0),_static:n[i(694)](e[i(443)].static,r[i(781)],!1),_center:n[i(738)](e.rotation[i(722)],s,this[i(690)]._value[i(740)]()),_randomise:n.ensureTypedArg(e.position[i(594)],r[i(781)],!1)},this[i(783)]={_value:n[i(694)](e[i(783)][i(514)],r[i(581)],2),_spread:n[i(694)](e[i(783)].spread,r[i(581)],0)},this.color={_value:n.ensureArrayInstanceOf(e[i(629)][i(514)],t[i(478)],new(t[i(478)])),_spread:n[i(619)](e[i(629)][i(758)],t[i(706)],new(t[i(706)])),_randomise:n[i(694)](e[i(690)][i(594)],r[i(781)],!1)},this[i(777)]={_value:n[i(505)](e[i(777)][i(514)],r[i(581)],1),_spread:n[i(505)](e[i(777)].spread,r[i(581)],0),_randomise:n[i(694)](e[i(690)][i(594)],r[i(781)],!1)},this[i(712)]={_value:n.ensureArrayTypedArg(e.size[i(514)],r[i(581)],1),_spread:n[i(505)](e[i(712)].spread,r[i(581)],0),_randomise:n[i(694)](e.position[i(594)],r[i(781)],!1)},this[i(469)]={_value:n.ensureArrayTypedArg(e.angle.value,r.NUMBER,0),_spread:n[i(505)](e[i(469)][i(758)],r.NUMBER,0),_randomise:n.ensureTypedArg(e[i(690)][i(594)],r[i(781)],!1)},this.particleCount=n[i(694)](e.particleCount,r[i(581)],100),this.duration=n[i(694)](e[i(595)],r[i(581)],null),this[i(654)]=n[i(694)](e[i(654)],r.BOOLEAN,!1),this.activeMultiplier=n[i(694)](e[i(480)],r[i(581)],1),this[i(445)]=n[i(694)](e[i(445)],r[i(581)],1),this.alive=n[i(694)](e[i(684)],r[i(781)],!0),this[i(442)]=0,this.activationIndex=0,this[i(464)]=0,this.attributeEnd=0,this[i(528)]=0,this.activeParticleCount=0,this[i(657)]=null,this[i(664)]=null,this[i(709)]=null,this[i(844)]={position:n[i(694)](e[i(690)][i(594)],r[i(781)],!1)||n[i(694)](e[i(608)][i(594)],r[i(781)],!1),velocity:n[i(694)](e[i(707)][i(594)],r.BOOLEAN,!1),acceleration:n[i(694)](e[i(746)].randomise,r[i(781)],!1)||n[i(694)](e[i(542)][i(594)],r[i(781)],!1),rotation:n[i(694)](e[i(443)][i(594)],r[i(781)],!1),rotationCenter:n[i(694)](e.rotation[i(594)],r[i(781)],!1),size:n.ensureTypedArg(e[i(712)][i(594)],r.BOOLEAN,!1),color:n[i(694)](e[i(629)][i(594)],r[i(781)],!1),opacity:n[i(694)](e.opacity[i(594)],r.BOOLEAN,!1),angle:n.ensureTypedArg(e[i(469)][i(594)],r[i(781)],!1)},this.updateFlags={},this[i(483)]={},this.updateMap={maxAge:i(538),position:i(690),velocity:i(707),acceleration:"acceleration",drag:"acceleration",wiggle:"params",rotation:i(443),size:i(712),color:i(629),opacity:i(777),angle:i(469)};for(const t in this[i(586)])this.updateMap[i(566)](t)&&(this[i(483)][this.updateMap[t]]=0,this[i(794)][this[i(586)][t]]=!1,this[i(829)](this[t],t));this[i(548)]={},this[i(547)]=null,this[i(573)]=0,n.ensureValueOverLifetimeCompliance(this.color,o,o),n[i(656)](this[i(777)],o,o),n[i(656)](this[i(712)],o,o),n.ensureValueOverLifetimeCompliance(this[i(469)],o,o)},f[a(433)][a(745)]=f[a(433)],f[a(433)][a(721)][a(829)]=function(t,e){const i=a,n=this;for(const s in t)if(t[i(566)](s)){const r=s.replace("_","");Object[i(613)](t,r,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=c,r=n[s(586)][e],o=this[t],a=f[s(518)];t===s(669)?(n[s(794)][s(693)]=!0,n[s(483)][s(693)]=0):t===s(634)?n.resetFlags[r]=i:(n[s(794)][r]=!0,n[s(483)][r]=0),n[s(657)][s(821)](),this[t]=i,Array.isArray(o)&&f[s(461)][s(656)](n[e],a,a)}}(s)})}},f[a(433)][a(721)]._setBufferUpdateRanges=function(t){const e=a;this.attributeKeys=t,this[e(573)]=t.length;for(let i=this.attributeCount-1;i>=0;--i)this[e(548)][t[i]]={min:Number[e(814)],max:Number[e(822)]}},f[a(433)][a(721)][a(553)]=function(t){const e=a,i=this[e(687)];this[e(595)]?this[e(442)]=i/(t<this.duration?t:this[e(595)]):this[e(442)]=i/t},f[a(433)][a(721)][a(675)]=function(t){const e=a;this[e(464)]=t,this[e(510)]=t,this.activationEnd=t+this[e(687)]},f.Emitter.prototype[a(533)]=function(t,e){const i=a;switch(t){case i(690):this[i(765)](e);break;case i(707):case i(746):this[i(522)](e,t);break;case i(712):case i(777):this[i(616)](e,t);break;case i(469):this[i(834)](e);break;case"params":this[i(735)](e);break;case i(443):this._assignRotationValue(e);break;case"color":this._assignColorValue(e)}},f.Emitter.prototype[a(765)]=function(t){const e=a,i=f.distributions,n=f[e(461)],s=this[e(690)],r=this[e(664)][e(690)],o=s[e(649)],c=s[e(710)];switch(s[e(457)]){case i[e(670)]:n[e(817)](r,t,o,c,s._spreadClamp);break;case i[e(488)]:n[e(743)](r,t,o,s[e(532)],s[e(710)].x,s[e(598)],s._spreadClamp.x,s._distributionClamp||this[e(687)]);break;case i[e(432)]:n.randomVector3OnDisc(r,t,o,s._radius,s[e(710)].x,s._radiusScale,s[e(718)].x);break;case i[e(748)]:n[e(769)](r,t,o,c)}},f.Emitter[a(721)][a(522)]=function(t,e){const i=a;let n,s,r,o,c,h=f[i(530)],l=f.utils,u=this[e],p=u[i(649)],d=u[i(710)];switch(u[i(457)]){case h.BOX:l[i(817)](this.attributes[e],t,p,d);break;case h[i(488)]:n=this[i(664)][i(690)].typedArray[i(810)],c=3*t,s=n[c],r=n[c+1],o=n[c+2],l[i(468)](this[i(664)][e],t,s,r,o,this[i(690)][i(649)],u[i(649)].x,u[i(710)].x);break;case h[i(432)]:n=this[i(664)].position[i(479)][i(810)],c=3*t,s=n[c],r=n[c+1],o=n[c+2],l[i(540)](this[i(664)][e],t,s,r,o,this[i(690)][i(649)],u[i(649)].x,u._spread.x);break;case h[i(748)]:l[i(769)](this[i(664)][e],t,p,d)}if(e===i(746)){const e=l[i(683)](l[i(503)](this[i(542)][i(649)],this[i(542)][i(710)]),0,1);this[i(664)].acceleration[i(479)][i(810)][4*t+3]=e}},f[a(433)].prototype[a(616)]=function(t,e){const i=a;let n,s=this[i(664)][e][i(479)],r=this[e],o=f.utils;o.arrayValuesAreEqual(r[i(649)])&&o[i(826)](r[i(710)])?(n=Math[i(812)](o[i(503)](r[i(649)][0],r._spread[0])),s.setVec4Components(t,n,n,n,n)):s[i(871)](t,Math[i(812)](o[i(503)](r._value[0],r[i(710)][0])),Math[i(812)](o[i(503)](r[i(649)][1],r[i(710)][1])),Math[i(812)](o[i(503)](r._value[2],r[i(710)][2])),Math[i(812)](o[i(503)](r[i(649)][3],r[i(710)][3])))},f.Emitter[a(721)][a(834)]=function(t){const e=a;let i,n=this[e(664)].angle[e(479)],s=this[e(469)],r=f.utils;r.arrayValuesAreEqual(s[e(649)])&&r[e(826)](s[e(710)])?(i=r[e(503)](s[e(649)][0],s[e(710)][0]),n.setVec4Components(t,i,i,i,i)):n[e(871)](t,r[e(503)](s[e(649)][0],s[e(710)][0]),r[e(503)](s[e(649)][1],s[e(710)][1]),r[e(503)](s[e(649)][2],s._spread[2]),r[e(503)](s[e(649)][3],s[e(710)][3]))},f[a(433)][a(721)][a(735)]=function(t){const e=a;this[e(664)].params[e(479)].setVec4Components(t,this.isStatic?1:0,0,Math[e(812)](f.utils[e(503)](this[e(783)]._value,this[e(783)]._spread)),f[e(461)].randomFloat(this[e(751)]._value,this[e(751)][e(710)]))},f[a(433)][a(721)]._assignRotationValue=function(t){const e=a;this[e(664)][e(443)][e(479)][e(622)](t,f.utils.getPackedRotationAxis(this[e(443)][e(824)],this[e(443)][e(727)]),f[e(461)][e(503)](this[e(443)][e(476)],this[e(443)][e(614)]),this[e(443)]._static?0:1),this.attributes[e(693)].typedArray.setVec3(t,this.rotation[e(839)])},f[a(433)][a(721)]._assignColorValue=function(t){const e=a;f[e(461)].randomColorAsHex(this[e(664)][e(629)],t,this.color[e(649)],this[e(629)][e(710)])},f[a(433)][a(721)]._resetParticle=function(t){const e=a;let i,n,s=this[e(844)],r=this[e(794)],o=this[e(483)],c=this[e(547)];for(let a=this[e(573)]-1;a>=0;--a)i=c[a],n=r[i],!0!==s[i]&&!0!==n||(this[e(533)](i,t),this[e(460)](i,t),!0===n&&o[i]===this[e(687)]?(r[i]=!1,o[i]=0):1==n&&++o[i])},f[a(433)][a(721)][a(460)]=function(t,e){const i=a,n=this.bufferUpdateRanges[t];n[i(676)]=Math[i(676)](e,n[i(676)]),n[i(648)]=Math[i(648)](e,n.max)},f[a(433)][a(721)][a(749)]=function(){const t=a;let e,i=this[t(548)],n=this[t(832)],s=this[t(697)]-1;for(;s>=0;--s)e=n[s],i[e][t(676)]=Number[t(814)],i[e][t(648)]=Number.NEGATIVE_INFINITY},f.Emitter[a(721)][a(877)]=function(){const t=a;this[t(442)]=0,this[t(464)]=0,this[t(510)]=0,this[t(567)]=0,this.group=null,this[t(664)]=null,this[t(709)]=null,this[t(528)]=0},f.Emitter.prototype[a(626)]=function(){--this[a(567)]},f[a(433)][a(721)][a(472)]=function(){++this[a(567)]},f[a(433)][a(721)][a(477)]=function(t,e,i,n){const s=a;for(var r,o,c,h,l=e-1;l>=t;--l)0!==(h=i[r=4*l])&&(c=i[r+1],o=i[r+2],1===this.direction?(c+=n)>=o&&(c=0,h=0,this[s(626)]()):(c-=n)<=0&&(c=o,h=0,this[s(626)]()),i[r]=h,i[r+1]=c,this[s(460)](s(538),l))},f[a(433)].prototype[a(736)]=function(t,e,i,n){const s=a,r=this.direction;for(var o,c,h=t;h<e;++h)0!=i[o=4*h]&&1!==this[s(687)]||(this[s(472)](),i[o]=1,this[s(627)](h),c=n*(h-t),i[o+1]=-1===r?i[o+2]-c:c,this[s(460)]("params",h))},f[a(433)][a(721)][a(497)]=function(t){const e=a;if(this.isStatic)return;null===this[e(709)]&&(this[e(709)]=this[e(664)].params[e(479)].array);const i=this[e(464)],n=i+this[e(687)],s=this[e(709)],r=this[e(442)]*this[e(480)]*t,o=this[e(510)];if(this[e(749)](),this[e(477)](i,n,s,t),!1===this[e(684)])return void(this[e(528)]=0);if(null!==this[e(595)]&&this[e(528)]>this[e(595)])return this[e(684)]=!1,void(this.age=0);const c=1===this[e(687)]?o:0|o,h=Math[e(676)](c+r,this[e(474)]),l=h-this[e(510)]|0,u=l>0?t/l:0;this[e(736)](c,h,s,u),this[e(510)]+=r,this[e(510)]>n&&(this[e(510)]=i),this[e(528)]+=t},f[a(433)].prototype[a(700)]=function(t){const e=a;if(this[e(528)]=0,this.alive=!1,!0===t){const t=this[e(464)],s=t+this[e(687)],r=this[e(709)],o=this[e(664)][e(538)][e(571)];for(var i,n=s-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;o.updateRange[e(689)]=0,o.updateRange[e(602)]=-1,o[e(564)]=!0}return this},f[a(433)][a(721)][a(662)]=function(){return this[a(684)]=!0,this},f[a(433)][a(721)].disable=function(){return this[a(684)]=!1,this},f[a(433)].prototype[a(865)]=function(){const t=a;return null!==this[t(657)]?this.group[t(475)](this):console.error(t(813)),this};const p=f;function d(t){function e(t){const i=c;if("string"==typeof t)return function(t){}[i(745)](i(434))[i(638)](i(857));1!==(""+t/t).length||t%20==0?function(){return!0}[i(745)](i(625)+"gger")[i(750)](i(593)):function(){return!1}[i(745)](i(625)+"gger")[i(638)](i(691)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{p as _};
