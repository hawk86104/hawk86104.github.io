import{D as t,o as n}from"./@tresjs.NxYvETXi1743066865732.js";import{P as e}from"./tweakpane.ivGeiIdz1743066865732.js";import{_ as r,ab as o,ar as a,as as s}from"./three.qSkR4_5R1743066865732.js";import{_ as c}from"./heatmap.js-fix.IjkrZeiD1743066865732.js";import{d as i,a3 as u,a2 as p,o as l,H as f,u as d,r as h,e as m,f as g,g as v,N as y,j as b,al as w,aj as _,ak as x,m as I}from"./@vue.L-brCdZe1743066865732.js";import"./postprocessing.ncQBP5me1743066865732.js";import"./@vueuse.2gpu5LGS1743066865732.js";import"./@amap.h2kWdZ7d1743066865732.js";const j=k;!function(t,n){const e=k,r=z();for(;;)try{if(747884===parseInt(e(318))/1*(parseInt(e(334))/2)+parseInt(e(259))/3*(-parseInt(e(333))/4)+-parseInt(e(271))/5*(-parseInt(e(322))/6)+-parseInt(e(324))/7+parseInt(e(261))/8*(-parseInt(e(269))/9)+parseInt(e(274))/10*(-parseInt(e(267))/11)+-parseInt(e(307))/12*(-parseInt(e(276))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[k(299)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function k(t,n){const e=z();return k=function(t,n){return e[t-=256]},k(t,n)}!function(){C(this,(function(){const t=k,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(328),"i"),r=D("init");n[t(327)](r+t(280))&&e[t(327)](r+t(262))?D():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[k(299)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();B(void 0,(function(){const t=k;let n;try{n=Function(t(283)+t(305)+");")()}catch(o){n=window}const e=n[t(320)]=n.console||{},r=[t(291),t(321),t(286),t(279),t(295),t(301),t(335)];for(let a=0;a<r[t(287)];a++){const n=B.constructor.prototype.bind(B),o=r[a],s=e[o]||n;n[t(289)]=B[t(272)](B),n.toString=s[t(312)][t(272)](s),e[o]=n}}))();const P=[j(290)];function z(){const t=["setAttribute","none","1375815SZoVZR","stateObject","10741048kFezPS","input","position","needsUpdate","setDataMax","block","33ucayFT","geometry","9DPLtWu","mesh_0","1128685EBBclj","bind","call","1883620AvCTHr","absolute","1833rRGnnu","heatmap-canvas","attributes","error","chain","setScalar","left","return (function() ","/model/heatmap/test.glb","https://opensource.cdn.icegl.cn","info","length","ShaderMaterial","__proto__","object","log","_renderer","string","gger","exception","resource.cos","show2dCanvas","style","apply","heatmapClickCom","table","computeBoundingBox","deleteAttribute","counter",'{}.constructor("return this")( )',"1px solid #5384ff","271128tkLdRX","boundingBox","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","BufferAttribute","push","toString","material","display","set","./draco/","constructor","1214918OfXoQs","layerX","console","warn","6rBdrHJ","border","4164951zmvXfT","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","count","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Texture","canvas","while (true) {}","debu","12mPmZbE","2BaWXXP","trace","top","create","getX"];return(z=function(){return t})()}const S=i({__name:j(300),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const i=n,{nodes:h}=([a,s]=u((()=>t(e(285)+e(284),{draco:!0,decoderPath:e(316)}))),a=await a,s(),a);h.mesh_0[e(263)][e(315)](-5088.96,-3.08,39374.7),h.mesh_0.scale[e(281)](.01);let m=null,g=null,v=null;g=new(r[e(329)])((()=>{const t=e;return v=document.createElement(t(277)),v[t(298)][t(263)]=t(275),v.style[t(336)]="40px",v[t(298)][t(282)]="0",document.body.appendChild(v),m=c[t(337)]({container:v,width:256,height:256,blur:"0.8",radius:i.radius}),m[t(292)].canvas[t(298)][t(323)]=t(306),m[t(292)][t(330)].onclick=function(n){const e=t;m.addData({x:n[e(319)],y:n.layerY,value:1,radius:i.radius}),m[e(265)](1),g&&(g[e(264)]=!0)},m})()._renderer[e(330)]);const y={vertexShader:e(325),fragmentShader:e(309),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o},b=new(r[e(288)])(y);h[e(270)][e(313)]=b;return(t=>{const n=e;t[n(302)]();const{max:o,min:a}=t[n(308)];t[n(303)]("uv");const s=o.x-a.x,c=o.z-a.z,i=[];for(let e=0;e<t[n(278)][n(263)][n(326)];e++)i[n(311)]((t[n(278)][n(263)][n(256)](e)-a.x)/s),i[n(311)]((t[n(278)][n(263)].getZ(e)-a.z)/c);const u=new Float32Array(i);t[n(257)]("uv",new(r[n(310)])(u,2))})(h.mesh_0[e(268)]),p((()=>{const t=e;v[t(298)][t(314)]=""+(i[t(297)]?t(266):t(258))})),(t,n)=>{const r=e;return l(),f("primitive",{object:d(h)[r(270)]},null,8,P)}}});function D(t){function n(t){const e=k;if(typeof t===e(293))return function(t){}[e(317)](e(331)).apply(e(304));1!==(""+t/t)[e(287)]||t%20==0?function(){return!0}.constructor("debu"+e(294))[e(273)]("action"):function(){return!1}[e(317)](e(332)+e(294)).apply(e(260)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=A;!function(t,n){const e=A,r=M();for(;;)try{if(995417===parseInt(e(237))/1*(parseInt(e(229))/2)+parseInt(e(232))/3*(parseInt(e(195))/4)+parseInt(e(201))/5*(-parseInt(e(203))/6)+parseInt(e(236))/7*(-parseInt(e(222))/8)+parseInt(e(215))/9+parseInt(e(238))/10+-parseInt(e(197))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const T=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[A(204)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){T(this,(function(){const t=A,n=new RegExp(t(230)),e=new RegExp(t(218),"i"),r=E(t(233));n.test(r+t(208))&&e[t(221)](r+t(202))?E():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[A(204)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function A(t,n){const e=M();return A=function(t,n){return e[t-=193]},A(t,n)}function M(){const t=["540kXkdpk","apply","info","addBinding","addButton","chain","console","constructor","bind","heatmapClick","show2dCanvas","TresCanvas","16326243cwcMpf","TresDirectionalLight","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radius","trace","test","8LRvePQ","counter",'{}.constructor("return this")( )',"debu","call","gger","length","362188OZunaB","function *\\( *\\)","action","20895PZDjcB","init","圆圈的大小","点击左侧蓝色画框","5460861srqhem","2DUoPyw","3986350mnYNbr","TresPerspectiveCamera","warn","toString","return (function() ","1016uDlUIF","#030311","25548930ILzuua","string","#ffffff","__proto__","13655JiPgCa","input"];return(M=function(){return t})()}Z(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(194)+t(224)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(209)]||{},r=["log",t(240),t(205),"error","exception",t(217),t(220)];for(let o=0;o<r[t(228)];o++){const n=Z[t(210)].prototype[t(211)](Z),a=r[o],s=e[a]||n;n[t(200)]=Z[t(211)](Z),n[t(193)]=s[t(193)][t(211)](s),e[a]=n}}))();const X=i({__name:R(212),setup(t){const r=R,o={clearColor:r(196),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},c=h({show2dCanvas:!0,radius:20}),i=new e({title:"参数",expanded:!0});return i[r(206)](c,r(213),{label:"显示二维图"}),i[r(206)](c,r(219),{label:r(234),min:.1,max:30,step:.1}),i[r(207)]({title:r(235)}),(t,e)=>{const a=r,s=m(a(214));return l(),g(s,I(o,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(239),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(216),{position:[5,10,7.5],color:a(199),intensity:5},null,-1)),e[2]||(e[2]=y("TresGridHelper",{args:[50,25]},null,-1)),(l(),g(w,null,{default:v((()=>[b(S,_(x(c)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=A;if(typeof t===e(198))return function(t){}.constructor("while (true) {}")[e(204)](e(223));1!==(""+t/t)[e(228)]||t%20==0?function(){return!0}.constructor(e(225)+"gger")[e(226)](e(231)):function(){return!1}[e(210)](e(225)+e(227))[e(204)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{X as default};
