import{_ as t,ai as n}from"./three.bc6MLGU_1735031078130.js";import{a as o,U as i,c as e}from"./@tresjs.dTM0HLnZ1735031078130.js";import{a as r,b as s}from"./index.ENNhtf0D1735031078130.js";import{P as u}from"./tweakpane.yHWGBmom1735031078130.js";import{d as c,a0 as a,w as p,o as l,D as f,a6 as m,u as g,r as d,f as h,g as v,J as S,j as I,al as b,m as y}from"./@vue.-THQH3GC1735031078130.js";import"./@vueuse.COyzlgw71735031078130.js";import"./three-stdlib.2VgffRAZ1735031078130.js";import"./@pmndrs.jH1lDBFa1735031078130.js";import"./object-hash.USFlpBEa1735031078130.js";import"./@amap.FwSyOcr71735031078130.js";import"./jszip.B5akDNc61735031078130.js";const x=R;!function(t,n){const o=R,i=j();for(;;)try{if(384026===parseInt(o(356))/1*(parseInt(o(374))/2)+-parseInt(o(349))/3+parseInt(o(352))/4*(parseInt(o(382))/5)+-parseInt(o(369))/6+-parseInt(o(351))/7+-parseInt(o(392))/8+parseInt(o(391))/9)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){_(this,(function(){const t=R,n=new RegExp(t(350)),o=new RegExp(t(353),"i"),i=A(t(360));n[t(365)](i+"chain")&&o[t(365)](i+t(390))?A():i("0")}))()}();const w=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[R(371)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();w(void 0,(function(){const t=R;let n;try{n=Function(t(376)+t(380)+");")()}catch(e){n=window}const o=n[t(357)]=n[t(357)]||{},i=["log",t(355),t(379),t(368),t(388),t(396),t(393)];for(let r=0;r<i[t(375)];r++){const n=w.constructor.prototype[t(387)](w),e=i[r],s=o[e]||n;n[t(361)]=w[t(387)](w),n[t(399)]=s[t(399)][t(387)](s),o[e]=n}}))();const P=[x(381)];function R(t,n){const o=j();return(R=function(t,n){return o[t-=349]})(t,n)}function j(){const t=["4996971lnMMxC","612992pzRhxc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","com","warn","6cwJGYd","console","stateObject","counter","init","__proto__","call","uSnappingResolution","replace","test","srcMaterial","#include <common>","error","1260582yfZEAt","debu","apply","onBeforeCompile","vertexShader","165316nqJTkt","length","return (function() ","#include <project_vertex>","value","info",'{}.constructor("return this")( )',"object","10mtFLJA","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","primitive","MeshStandardMaterial","action","bind","exception","uniforms","input","11839725dcsYqx","2313144jZwibf","trace","constructor","while (true) {}","table","string","gger","toString","1562550ZYQAAZ","function *\\( *\\)"];return(j=function(){return t})()}const M=c({__name:x(354),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[x(385)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=x,o=t,i=a(o[n(363)]);return o[n(366)][n(372)]=t=>{const o=n;t[o(389)][o(363)]=i,t.vertexShader=t[o(373)][o(364)](o(367),o(383)),t[o(373)]=t[o(373)].replace(o(377),"\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t")},p((()=>o.uSnappingResolution),(t=>{i[n(378)]=t})),(t,o)=>{const i=n;return l(),f(i(384),{object:t.srcMaterial},null,8,P)}}});function A(t){function n(t){const o=R;if(typeof t===o(397))return function(t){}[o(394)](o(395)).apply(o(359));1!==(""+t/t).length||t%20==0?function(){return!0}[o(394)](o(370)+"gger")[o(362)](o(386)):function(){return!1}[o(394)]("debu"+o(398))[o(371)](o(358)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=z,i=N();for(;;)try{if(902079===parseInt(o(144))/1+-parseInt(o(137))/2+-parseInt(o(112))/3+parseInt(o(146))/4+-parseInt(o(130))/5+-parseInt(o(123))/6*(parseInt(o(142))/7)+parseInt(o(129))/8)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const E=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(148)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function N(){const t=["info","3378fhAJCC","return (function() ","test","gger","vertexShader","bind","23397184QMAKnN","727180MiUpEC","log","#include <project_vertex>","#include <common>",'{}.constructor("return this")( )',"while (true) {}","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","636010QgMVlb","console","init","input","__proto__","9709fNfkEZ","action","700137kHvsxW","string","1176712ruCwNz","function *\\( *\\)","apply","length","uniforms","table","5317686AVFVuF","debu","toString","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","stateObject","call","onBeforeCompile","constructor"];return(N=function(){return t})()}!function(){E(this,(function(){const t=z,n=new RegExp(t(147)),o=new RegExp(t(116),"i"),i=C(t(139));n[t(125)](i+"chain")&&o.test(i+t(140))?C():i("0")}))()}();const T=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(148)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function z(t,n){const o=N();return(z=function(t,n){return o[t-=112]})(t,n)}function C(t){function n(t){const o=z;if(typeof t===o(145))return function(t){}[o(121)](o(135)).apply("counter");1!==(""+t/t)[o(149)]||t%20==0?function(){return!0}[o(121)](o(113)+o(126))[o(119)](o(143)):function(){return!1}[o(121)](o(113)+"gger")[o(148)](o(118)),n(++t)}try{if(t)return n;n(0)}catch(o){}}T(void 0,(function(){const t=z;let n;try{n=Function(t(124)+t(134)+");")()}catch(e){n=window}const o=n[t(138)]=n[t(138)]||{},i=[t(131),"warn",t(122),"error","exception",t(151),"trace"];for(let r=0;r<i[t(149)];r++){const n=T[t(121)][t(117)][t(128)](T),e=i[r],s=o[e]||n;n[t(141)]=T[t(128)](T),n[t(114)]=s.toString[t(128)](s),o[e]=n}}))();const Z=$;!function(t,n){const o=$,i=F();for(;;)try{if(664908===-parseInt(o(298))/1+parseInt(o(267))/2+parseInt(o(270))/3+parseInt(o(283))/4+parseInt(o(278))/5+parseInt(o(296))/6+-parseInt(o(287))/7)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const k=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[$(268)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=$,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(295),"i"),i=V("init");n.test(i+t(269))&&o.test(i+"input")?V():i("0")}))()}();const B=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();B(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(276)+t(294)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(281)]||{},i=["log",t(274),t(261),t(262),"exception",t(280),t(279)];for(let e=0;e<i[t(275)];e++){const n=B[t(264)][t(289)][t(292)](B),r=i[e],s=o[r]||n;n[t(299)]=B.bind(B),n.toString=s.toString.bind(s),o[r]=n}}))();const G=[Z(271)];function $(t,n){const o=F();return($=function(t,n){return o[t-=261]})(t,n)}function F(){const t=["apply","chain","3493110mcIlPf","object","counter","primitive","warn","length","return (function() ","model","2779095mBBHlo","trace","table","console","action","5290656UVHRlO","value","string","uSnappingResolution","15071658OXAVcc","debu","prototype","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","forEach","bind","./draco/",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3284058oLgNpA","values","1306057EomYGW","__proto__","info","error","push","constructor","gger","while (true) {}","1067726dkggbD"];return(F=function(){return t})()}const U=c({__name:Z(277),props:{uSnappingResolution:{default:6}},async setup(t){const n=Z;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o(n(290),{draco:!0,decoderPath:n(293)}))),i=await i,e(),i),c=[];return Object[n(297)](u)[n(291)]((t=>{const o=n;c[o(263)](function(t,n=6){const o=z,i={value:n};return t[o(120)]=t=>{const n=o;t[n(150)].uSnappingResolution=i,t[n(127)]=t[n(127)].replace(n(133),n(136)),t[n(127)]=t[n(127)].replace(n(132),n(115))},i}(t,r[o(286)]))})),p((()=>r[n(286)]),(t=>{const o=n;c[o(291)]((n=>{n[o(284)]=t}))})),(t,o)=>{const i=n;return l(),f(i(273),{object:g(s),scale:5,position:[0,-2,0]},null,8,G)}}});function V(t){function n(t){const o=$;if(typeof t===o(285))return function(t){}[o(264)](o(266))[o(268)](o(272));1!==(""+t/t)[o(275)]||t%20==0?function(){return!0}[o(264)](o(288)+o(265)).call(o(282)):function(){return!1}.constructor(o(288)+o(265))[o(268)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const H=Y;!function(t,n){const o=Y,i=Q();for(;;)try{if(272493===-parseInt(o(426))/1+-parseInt(o(413))/2*(parseInt(o(409))/3)+parseInt(o(410))/4+-parseInt(o(417))/5*(-parseInt(o(446))/6)+-parseInt(o(448))/7+-parseInt(o(441))/8*(parseInt(o(445))/9)+parseInt(o(418))/10*(parseInt(o(415))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const O=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[Y(428)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){O(this,(function(){const t=Y,n=new RegExp(t(453)),o=new RegExp(t(454),"i"),i=X(t(440));n[t(451)](i+t(424))&&o[t(451)](i+"input")?X():i("0")}))()}();const L=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[Y(428)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();L(void 0,(function(){const t=Y;let n;try{n=Function(t(420)+t(430)+");")()}catch(e){n=window}const o=n[t(419)]=n[t(419)]||{},i=[t(411),"warn",t(431),t(421),"exception","table",t(412)];for(let r=0;r<i.length;r++){const n=L.constructor[t(416)].bind(L),e=i[r],s=o[e]||n;n[t(408)]=L.bind(L),n[t(434)]=s.toString[t(450)](s),o[e]=n}}))();const J={position:[5,.9,-5],name:H(432)};function Q(){const t=["log","trace","236mrpdTS","cube","11BXQFEE","prototype","100390TVfQHx","9337690XPXVZK","console","return (function() ","error","rotation-y","addBinding","chain","circle","509321doGBAh","debu","apply","gger",'{}.constructor("return this")( )',"info","torus","TresMeshStandardMaterial","toString","自行车模型-分辨率","counter","constructor","TresTorusKnotGeometry","uSnappingResolution","init","1964368rfBNrh","TresAmbientLight","rotation-x","TresDirectionalLight","9lNLlsj","144MEmIhE","圆环扭结-分辨率","2233553rVISNH","modelSnappingResolution","bind","test","length","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","7887sCatmA","964080rRUNPL"];return(Q=function(){return t})()}function Y(t,n){const o=Q();return(Y=function(t,n){return o[t-=408]})(t,n)}const q=c({__name:"vertexSnapping",setup(t){const o=H,c=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=d({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(423)](a,o(439),{label:o(447),min:0,max:20,step:.01}),p[o(423)](a,o(449),{label:o(435),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(g(e),y(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=S("TresPerspectiveCamera",{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),I(g(i)),n[2]||(n[2]=S(u(442),{intensity:.5},null,-1)),n[3]||(n[3]=S(u(444),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=S("TresMesh",{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(414)},[S("TresCylinderGeometry",{args:[1.5,1.5,2]}),S(u(433),{color:16737826,roughness:0,metalness:0})],-1)),S("TresMesh",J,[n[0]||(n[0]=S(u(438),{args:[1,.35,100,32]},null,-1)),I(M,{uSnappingResolution:a[u(439)]},null,8,["uSnappingResolution"])]),(l(),h(b,null,{default:v((()=>[I(U,{uSnappingResolution:a.modelSnappingResolution},null,8,[u(439)])])),_:1})),(l(),h(b,null,{default:v((()=>[I(g(r),{resolution:256,blur:1,background:""},{default:v((()=>[I(g(s),{intensity:2,form:u(425),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),I(g(s),{intensity:2,form:u(425),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(443)]),I(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(422)]),I(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(422)])])),_:1})])),_:1}))])),_:1},16)}}});function X(t){function n(t){const o=Y;if("string"==typeof t)return function(t){}[o(437)]("while (true) {}")[o(428)](o(436));1!==(""+t/t)[o(452)]||t%20==0?function(){return!0}[o(437)](o(427)+o(429)).call("action"):function(){return!1}[o(437)]("debugger")[o(428)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{q as default};
