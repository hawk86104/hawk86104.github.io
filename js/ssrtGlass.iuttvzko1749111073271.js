import"./index.DmevrT681749111073271.js";import{m as t,e,b as o,k as n,a as r}from"./@tresjs.D5XVXE0C1749111073271.js";import{_ as c}from"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.hQfS6zz81749111073271.js";import{_ as i}from"./skyBoxAmesh.vue_vue_type_script_setup_true_lang.BYoXH2a61749111073271.js";import{P as W}from"./tweakpane.C0HtAJSg1749111073271.js";import{T as a,l as d,q as l,Y as u,n as f,b2 as s,a1 as m,t as k,C as p,V as S,a as v,a2 as x,ar as h}from"./three.B8H7tP0r1749111073271.js";import{d as C,a3 as P,a2 as R,w as O,G as g,o as b,u as y,r as w,h as Q,j as F,f as V,I as J,e as K,am as N,ak as z,al as D,m as B,F as I}from"./@vue.Mugdq9o81749111073271.js";import{_}from"./randomLoading.vue_vue_type_script_setup_true_lang.D5Pg7oz31749111073271.js";import"./utils.dcsI_f_N1749111073271.js";import"./@fesjs.HpbjsMAs1749111073271.js";import"./vue-router.ttOgDZer1749111073271.js";import"./lodash-es.C7pWAXPe1749111073271.js";import"./@qlin.q6OWdsQV1749111073271.js";import"./pinia.pLtK9Sf_1749111073271.js";import"./@babel.BPq7uOAK1749111073271.js";import"./@floating-ui.BFjFSAYt1749111073271.js";import"./@juggle.CcBCnTIR1749111073271.js";import"./three-mesh-ui.module.BsNNPLXV1749111073271.js";import"./postprocessing.CFk4752N1749111073271.js";import"./@vueuse.BjDsO4x01749111073271.js";import"./whiteFloor.DnDDE28E1749111073271.js";import"./starLoading.DI5VK24Y1749111073271.js";import"./cssLoaders.BuHVXYmw1749111073271.js";import"./bubbleLoading.ca2CytEY1749111073271.js";import"./yangyangLoading.juYaNzNo1749111073271.js";function q(t,e){var o=G();return q=function(e,n){var r=o[e-=219];if(void 0===q.SmSTqx){var c=function(t){for(var e,o,n="",r="",i=n+c,W=0,a=0;o=t.charAt(a++);~o&&(e=W%4?64*e+o:o,W++%4)?n+=i.charCodeAt(a+10)-10!=0?String.fromCharCode(255&e>>(-2*W&6)):W:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,l=n.length;d<l;d++)r+="%"+("00"+n.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(r)};q.UpQuvF=function(t,e){var o,n,r=[],i=0,W="";for(t=c(t),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)i=(i+r[n]+e.charCodeAt(n%e.length))%256,o=r[n],r[n]=r[i],r[i]=o;n=0,i=0;for(var a=0;a<t.length;a++)i=(i+r[n=(n+1)%256])%256,o=r[n],r[n]=r[i],r[i]=o,W+=String.fromCharCode(t.charCodeAt(a)^r[(r[n]+r[i])%256]);return W},t=arguments,q.SmSTqx=!0}var i=e+o[0],W=t[i];if(W)r=W;else{if(void 0===q.mSDjAM){var a=function(t){this.ZPgeyO=t,this.xyRsmu=[1,0,0],this.fjkfkh=function(){return"newState"},this.xjdhEQ="\\w+ *\\(\\) *{\\w+ *",this.WblSUJ="['|\"].+['|\"];? *}"};a.prototype.LZKRWY=function(){var t=new RegExp(this.xjdhEQ+this.WblSUJ).test(this.fjkfkh.toString())?--this.xyRsmu[1]:--this.xyRsmu[0];return this.OUTFiH(t)},a.prototype.OUTFiH=function(t){return Boolean(~t)?this.OAITkJ(this.ZPgeyO):t},a.prototype.OAITkJ=function(t){for(var e=0,o=this.xyRsmu.length;e<o;e++)this.xyRsmu.push(Math.round(Math.random())),o=this.xyRsmu.length;return t(this.xyRsmu[0])},new a(q).LZKRWY(),q.mSDjAM=!0}r=q.UpQuvF(r,n),t[i]=r}return r},q(t,e)}function G(){var t=["lmoiCW","nSkic0RcPW","BSk2WQXiW64tWRpdPa","W73dO8omkqS","f8oKyCkjka","ymkLW6TnW64pWQ3dO8ozr8oNW7XPW6lcSmkDWPxdLSkUW6Dcd8o5zmoceH4IjspcKSoI","y8kPW7FcN8ocW5BdGJxcKmoKnG","ySoMy3mD","W7r9W4tdVSoIEuNdSG","CrvCW586W4RdMmoH","W6dcQg/cJCk+","Bvu4W7pcMa","W5NdSCoLW5G","WQeiWOhcSmoTouGmW60fdCkj","l8oZld3dPWzgDa","imkDWRNdH8oIW7pcP8o2wMFcLSoDqmogfSo9gSk+WOldSq","W75jzGdcGKu","WQDMmCkE","j8kUa8kRWODaAXRdSq","W6DOW5RdTSo+","WQVdG8oqW54ixa","mSkpWOFdLCoZW6FdKmk4ltxdPmko","W47cTSkTW6JcGCk/wCopAHqbW5GLp8kDW7vRj2G8F8k4WRjIW6KxbK8lWPK1mCk4rwbRWQ7cPSkKaG","sSojrX/dOIZdOCk5WOVdPfDkgvZcQKFcReZcK8ozW7/cMSkTstuhWQ3dQHRcTCoArJXEzbhdVgRcNSkCW7CwEYGdW6iGqaJdJ8kAoY9HbSoIACoNcJnCb8kTuCo+sx7cI8kBW7ddKCo2W75HxSkpamo6WPhdG8oKWO0GW5OlrGtdU8khn2KRa0dcTmofWPVcTMmJW6RdHSk1vMCyWOy9E8k7Dmo6WR7dN8o/ESopW6JcOSo/qJHyWPGoW4jIvwyCuW","xSofW7NcLmoXbKH+WOlcQqu","lSkhWQXEjCk+","aM/cP8oZwCouWPFcQG","W7ldKmkTW5beW4CwWOW","c8ooW6fVW7ZdMfpcJq","lmoCz8khia","AxzlWOqb","EHzJW4eg","s8kyWR47WQhcMLxcQSoNd8o/zG","gWC/WQBdQG","W5ZcQSoFjCojlW","WRf3m8kCiW","omo0WQ7dNW","W4hcLCkJW6lcLW","BSkKr3dcOLPTFSo5rCoypa","W5z/W5NdRmkPzaX6WPK","W6pcPCockSoj","e1ZcStxdVHNcMCorp8k8W6b8","W6BcQruzWOiY","WRZdSIBdGmoWWOToWQGDAs/dQG","C014WOCf","B8k3WPzAW7miWRddSa","fXy7WQ/dOCoJWObu","bmoJWR9LqG","W4n2WQddMCo9","FComz8oDWOO","aMhcLSoRtG","FmkDjCkiaCkuW4xcMxC","W7BcRrKoWPm7","W5FdU8o4W4pdSmknWOO","W4D+WRpdKmo0W6FcKb7dMq","WRRdJH3cMqv2","W6qeW4qiW5BcPG","WQVcGSk1DMvttCk8rSk2d2tcLa","W7T8qdRcMW","W5m+eCkyW5G4WO4NFxTTWOVcH0FdGq","vWddSvpcRu/cKCobpSkGW4TdWOCMWO8","BsPiW60R","W6qkW4CEW5dcTqnYWOldGtm","qIVcMem5c2dcNG","W7r4os3dPf5ars5VWRjY","WQtdVuXsW5DVWRtdMHbndrGd","a8kiWQyjWQBcGZRdQmk0u8kxCq","W5tdLSkLW5joW4C2WP5idmouCmolbG","dCk0mtXpgrRcNSkVDvaHWQ9gWQJdVJddUmk8WQtdKSkaWRxdKwpcSmoUsLn1W5pdNhSMWRCnqciEmSksqmkiWP4QW5VcK8oyaunVkGZdJ8oCW493WRbUr1uJwmovWOldSCk4zXLYerFcNCoJeZRcKCogtJxcPqOYW6LenCopq8kQp8khiSkiWRHdeCkYvs3cSSoJiWC/W5/cPffQW6tcKCkEW4HukSkLWO0LWOmozSo7W5rvWR7cHe7dOrXmWQhdT8okWOtdQSo6rSktWRO3W4NcNCkbhSoIqvVdKx/dL8o8W4OXF8oxW6f8WRzJmSkAECkHW6qakH8CW5FdH8oeEmkaW5CWgCkcCb9mxq","CSk0W7u9W5VdRc11","W7JdM8oQjW","pSkfWQrvmG","W7FcTwdcNCkVW5aqW6jcl3y","iCojECkmlCk9","W7RcVdiFWQK","nKGkWOjOWO3dUmo+cqe/ia","DIrxW4mRW43dJ8o2","CbvgW6K6W5BdMCo2mbOPmCoBW7lcIa","prv5WQRdLSoSWRJcLCkkWOpdRmoSlW","WO8ZDg3cQG","vSofW7VdG8kBe39/WPC","WQZdGSoEWPZcHb/dTG","WQrOemkekf0rW44","W6bnCXFcK0qyfq","WQjIlCkup0yAW5S","vWddPhpcQ0K","WQVdHCouW4io","cbi7WR/dOCoKW4eqW5BcM8k7WR1elbNcKmoPW49m","WRZdImoeWR3cJH3dT8kAufpdSGFdI1S2","WQVdHb3cJHr2pa7dJmkWoq","nmkgneVcSgxcR8o+","kCohW65LW7ZdRvpcKmoEbSoitgW","iSknWQbYea","v8kGW745a8oxWRddHCkXWOVdLSkO","ACk9WRfBW7mpW77cV8onr8oQW6TYW7NdT8orW4/cMSo6","fCktWOBdH8kK"];return(G=function(){return t})()}!function(){function t(t,e,o,n,r){return q(n- -808,e)}function e(t,e,o,n,r){return q(e- -624,r)}for(var o=G();;)try{if(163692===parseInt(t(0,"Z8gy",0,-525))/1+parseInt(t(0,"nXzO",0,-536))/2+parseInt(t(0,"flTI",0,-578))/3+-parseInt(e(0,-332,0,0,"5V1L"))/4+parseInt(t(0,"3HKu",0,-500))/5+-parseInt(e(0,-404,0,0,"zVTe"))/6+-parseInt(t(0,"hcZ#",0,-533))/7*(parseInt(q(-530- -832,"S(qZ"))/8))break;o.push(o.shift())}catch(n){o.push(o.shift())}}();var L,M=(L=!0,function(t,e){function o(t,e,o,n,r){return q(e- -840,t)}if("gKvVP"!==o("flTI",-558)){var n=L?function(){function n(t,e,n,r,c){return o(t,r-74)}if("okaIG"!==o("YA2(",-593))_0x12776d=_0x3b8644(n("q[R[",0,0,-524)+n("%jQ*",0,0,-510)+");")();else if(e){if("vRCNL"!==n("#no6",0,0,-478)){var r=e[(i="q[R[",W=647,o(i,W-1203))](t,arguments);return e=null,r}var c=_0xdd9983[n("MJF$",0,0,-496)](_0x586a9b,arguments);return _0x6a684c=null,c}var i,W}:function(){};return L=!1,n}var r=_0x44d559?function(){if(_0x1526d4){var t=_0x56fba3[(e=703,n="S(qZ",o(n,e-1263))](_0x4f4da6,arguments);return _0x1c325d=null,t}var e,n}:function(){};return _0x4adf23=!1,r})(void 0,(function(){function t(t,e,o,n,r){return q(t-592,e)}function e(t,e,o,n,r){return q(r-709,n)}return M[t(837,"$Egu")]()[(r=993,c="5V1L",q(r-753,c))](t(813,"Idf9"))[t(857,"3Spw")]()[e(0,0,0,"TzLV",953)](M)[(o=-201,n="#8h!",q(o- -468,n))](e(0,0,0,"8DYJ",973));var o,n,r,c}));M();var T,H=(T=!0,function(t,e){function o(t,e,o,n,r){return q(e- -12,t)}if("iXVma"===o("De4Q",269)){var n=T?function(){function n(t,e,n,r,c){return o(e,t- -476)}function r(t,e,n,r,c){return o(r,n- -490)}function c(t,e,n,r,c){return o(c,r-526)}function i(t,e,n,r,c){return o(r,e-153)}function W(t,e,n,r,c){return o(n,r- -92)}if(c(0,0,0,769,"S(qZ")!==i(0,450,0,"#8h!")){if(e){if(r(0,0,-252,"hcZ#")===r(0,0,-202,"^#GQ")){var a=e.apply(t,arguments);return e=null,a}_0x2b521b=_0x325511}}else this[n(-209,"Z8gy")][n(-178,"m)#5")](_0x28aff7),this.material[r(0,0,-224,"pKXm")][r(0,0,-271,"flTI")][n(-236,"$Egu")]=_0xaf07bc,this.renderer[W(0,0,"DXfg",181)](this[W(0,0,"De4Q",191)],this[i(0,417,0,"YA2(")]),this[c(0,0,0,753,"&I*&")][c(0,0,0,757,"k8uw")](null)}:function(){};return T=!1,n}var r=_0x216485?function(){if(_0x38819e){var t=_0x493167[(e="upCP",n=366,o(e,n-79))](_0x2d7d19,arguments);return _0x35649e=null,t}var e,n}:function(){};return _0x1196a7=!1,r});function j(t,e,o,n,r){return q(t-551,r)}H(void 0,(function(){var t=function(){function t(t,e,o,n,r){return q(t-269,r)}function e(t,e,o,n,r){return q(n-931,r)}var o;try{if("nZzVt"!==q(-454- -766,"flTI")){if(_0x1b358c){var n=_0x4e775d[e(0,0,0,1217,"&I*&")](_0x5e9187,arguments);return _0x37015e=null,n}}else o=Function(e(0,0,0,1180,"%jQ*")+'{}.constructor("return this")( ));')()}catch(c){if("opFtH"!==t(498,0,0,0,"zVTe")){var r=_0x5d5986[t(531,0,0,0,"S6PC")](_0x37fab8,arguments);return _0x503b33=null,r}o=window}return o}();function e(t,e,o,n,r){return q(r- -288,o)}var o=t[n("k8uw",-614,-617)]=t[n("LdDY",-563,-549)]||{};function n(t,e,o,n,r){return q(o- -853,t)}function r(t,e,o,n,r){return q(o- -339,t)}function c(t,e,o,n,r){return q(e-366,n)}for(var i,W,a=["log",r("&I*&",0,-71),"info",r("*fQJ",0,-81),e(0,0,"upCP",0,17),c(0,667,0,"cOmC"),(i="cikB",W=672,q(W-411,i))],d=0;d<a[e(0,0,"S(qZ",0,-60)];d++){if(c(0,620,0,"3HKu")===c(0,657,0,"DXfg"))return _0x4be057[e(0,0,"&I*&",0,-51)]()[r("zVTe",0,-46)](c(0,585,0,"yByj"))[n("%jQ*",0,-557)]()[c(0,593,0,"cikB")](_0x2bf8fe)[r("#sL!",0,-68)](c(0,660,0,"cikB"));var l=H[c(0,679,0,"qCIc")][n("0Ue8",0,-584)][c(0,591,0,"3HKu")](H),u=a[d],f=o[u]||l;l[n("8DYJ",0,-563)]=H.bind(H),l.toString=f[e(0,0,"cOmC",0,-11)].bind(f),o[u]=l}}))();class E{constructor(t,e){var o,n,r,c;function i(t,e,o,n,r){return q(r- -539,o)}function W(t,e,o,n,r){return q(e- -520,r)}function u(t,e,o,n,r){return q(r- -836,t)}this.material=new(a[u("pKXm",-593,-618,-643,-614)])({uniforms:{uTexture:{type:"t",value:null}},vertexShader:(o=496,n="*fQJ",q(o-273,n)),fragmentShader:u("$Egu",-581,-548,-606,-562)+(e||W(-219,-247,-249,-279,"#no6"))+u("nXzO",-617,-526,-566,-570),depthTest:!1,depthWrite:!1}),this.mesh=new d(new(a[(r="Z8gy",c=1130,q(c-884,r))])(2,2),this[i(0,0,"#8h!",0,-301)]),this[W(-224,-217,-197,-187,"zVTe")]=new l(45,window.innerWidth/window.innerHeight,1,1e3),this.renderer=t,this.scene=new(a[i(0,0,"yByj",0,-305)]),this[i(0,0,"YA2(",0,-313)][i(0,0,"S(qZ",0,-288)](this[i(0,0,"LdDY",0,-276)])}[j(838,0,0,0,"DyVz")](t,e){function o(t,e,o,n,r){return j(n- -79,0,0,0,o)}function n(t,e,o,n,r){return j(n- -646,0,0,0,o)}function r(t,e,o,n,r){return j(o- -809,0,0,0,t)}var c,i,W,a;this[n(0,0,"MJF$",164)][n(0,0,"flTI",137)](e),this[r("q[R[",0,39)][r("%jQ*",0,-5)][(W="Px&P",a=1221,j(a-446,0,0,0,W))].value=t,this[(c="flTI",i=207,j(i- -604,0,0,0,c))][r("TzLV",0,48)](this[n(0,0,"#sL!",146)],this[o(0,0,"qCIc",779)]),this[o(0,0,"#KMl",786)][n(0,0,"5V1L",216)](null)}}!function(){function t(t,e,o,n,r){return Z(e-591,n)}function e(t,e,o,n,r){return Z(n-553,t)}const o=X();function n(t,e,o,n,r){return Z(n-459,o)}function r(t,e,o,n,r){return Z(n-295,o)}for(;;)try{if(803066===-parseInt(n(0,0,"YDAe",955))/1*(parseInt(t(0,1203,0,"fLhJ"))/2)+parseInt(n(0,0,"%^o@",1106))/3*(parseInt(r(0,0,"nfxt",784))/4)+-parseInt(t(0,1200,0,"Rza9"))/5+-parseInt(n(0,0,"V@3o",1138))/6+-parseInt(e("m!qV",0,0,1222))/7*(parseInt(r(0,0,"]ci9",890))/8)+-parseInt(e("fLhJ",0,0,1225))/9+-parseInt(t(0,1072,0,"$J[T"))/10*(-parseInt(n(0,0,"yag3",991))/11))break;o.push(o.shift())}catch(c){o.push(o.shift())}}();function Z(t,e){const o=X();return Z=function(e,n){let r=o[e-=460];if(void 0===Z.rQXEsK){var c=function(t){let e="",o="",n=e+c;for(let r,c,i=0,W=0;c=t.charAt(W++);~c&&(r=i%4?64*r+c:c,i++%4)?e+=n.charCodeAt(W+10)-10!=0?String.fromCharCode(255&r>>(-2*i&6)):i:0)c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(c);for(let r=0,c=e.length;r<c;r++)o+="%"+("00"+e.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(o)};const e=function(t,e){let o,n,r=[],i=0,W="";for(t=c(t),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)i=(i+r[n]+e.charCodeAt(n%e.length))%256,o=r[n],r[n]=r[i],r[i]=o;n=0,i=0;for(let c=0;c<t.length;c++)n=(n+1)%256,i=(i+r[n])%256,o=r[n],r[n]=r[i],r[i]=o,W+=String.fromCharCode(t.charCodeAt(c)^r[(r[n]+r[i])%256]);return W};Z.zLEpIc=e,t=arguments,Z.rQXEsK=!0}const i=e+o[0],W=t[i];if(W)r=W;else{if(void 0===Z.EQlTDH){const t=function(t){this.IZTBaE=t,this.XyzWKb=[1,0,0],this.lCiHky=function(){return"newState"},this.YFZZPP="\\w+ *\\(\\) *{\\w+ *",this.ZwuLOU="['|\"].+['|\"];? *}"};t.prototype.tNkKlP=function(){const t=new RegExp(this.YFZZPP+this.ZwuLOU).test(this.lCiHky.toString())?--this.XyzWKb[1]:--this.XyzWKb[0];return this.XiDhDG(t)},t.prototype.XiDhDG=function(t){return Boolean(~t)?this.xkVyLk(this.IZTBaE):t},t.prototype.xkVyLk=function(t){for(let e=0,o=this.XyzWKb.length;e<o;e++)this.XyzWKb.push(Math.round(Math.random())),o=this.XyzWKb.length;return t(this.XyzWKb[0])},new t(Z).tNkKlP(),Z.EQlTDH=!0}r=Z.zLEpIc(r,n),t[i]=r}return r},Z(t,e)}function X(){const t=["kGmvWP8","zCotxa4r","sNf/WP7dHG","zerhWRpdIa","ASkuW71eWPK","jSkvgmkdW7tdVaqGW5myWRJcOG","W71oWRO2nG","WOLbhSohlcaSoq","WPPqg0hcVaXPW4rIW6ZcSCoDWQmy","WQhcSCoOW5VdVtC","x8oisYiutSoIz8oEW4a","WR1hWRay","WO4hdCox","jmkYWOXfW6a","WQ/dQ8owWRi","W4iDW7FdUSkfuCk2W7ddR2DTW5RdIa","WP0pdSovpeC","lZHxsK/dNxFdUSowsW","imk0WOTSW4NdQCkIDfVdMCo3W7vQvCkyCmo+","lSopqaZcGa","W4rYWRxdIqvQW61a","W6CllW","W4JdSmkLWP7cR3BdMau7FXlcTgZcTJVcOgyFi8kRlYdcQ8oMsSk2W7VdI1aiW6hcLtNdMmoEWQddRSkComowWPJdSZ3dQColWQ/cSNPbkZ1TWOvypbxdLSoJW4j8W7JcVCopmtf6x3bmk8o0ySobbZ3dPJ0/uYdcL8k5WOj2zmkwWQVcMJxdMSoHrSkHWRDoW5LqW4/cVSkztJRdR0jaWOSeWOJdGCkLWOecgCkTamkJWPy9WQirW5RdP8o3lmo8E8kyt8kmCCoRFYzMWPNdQYFcNmkZcgHKf1lcVCo+WQ3dGSkzW4PtW6pdISoJtSoolcRdKCorWR/dPmoxu8ktD8oea8o0WO9HgtBdImo2WQpdMmoWle0xW5VdPsfzWOD0o0pcJCkCdxD3W7NcKSoaBSknFCkfWOGgWRXFW47dQSkgW79jo8o8emkmWOJcJ8kqgmkgF8otx8kqBmkqW7rRW59aW6TxWO7dRJCkWPOSWOe7CCk+c2ldKSklWROXyCo7W4e4Fmo2jSo4ESoAoxZdL8kfFxvSW5FcKmoEW5CqWQzSsSkXy8olC8oDWRVdLmkqW5nyDCkAWQBcOSk+tr7dNZZdSv3dPetdLcGEaXJcT8kvf1yEmMuvW5SZpCkRW54caCkjW5FdL8o/W6VdHrRdL0NdQqLwW6hcR8kIDSknW7BdVJCMBJSzuCkIWR95pNTWwmkZWOrlW6zxvtxcRSkRfeeMW4mAWONcPdxcMCkxkCoHW7FcQZW","WOn6EZ8Y","W6DdW6q5ihiaWRmyWPrMWPPWFxSzW57cSmoHWQzyW7ZcJSoqWP90pmkEBrldQ0K","WQdcPCoaW5G1f3pdH8o5","W65BWRKVi2GXWRimWODGWPW","W5L6WQ/dIW","o8onvW","WQBcVmooW5G3aG","WQJcUmoqW5u","BJ/cGCoMW5m","WPLsgIVdVhyBWQbF","z8ohwmoPWQNcOq43W402WQJcPsi8ba","zuTmWRNdGSozWQVcLq","WQKlaCo3aNroWPhdP8k/g8owWPSPWRX9Ea","W7pdVcu/","W5T2WQ/dIbjXW6LE","kcdcLSoFW7e","WQ/dRCowWRi","aSoclMrOxCk2qG","bCojkwzIxCk+qW","ACkFfvtdKfpdOq3cNbddHb9NBq","x8k5W53dVmo5WO0","WP0cbSorpa","W59cywJcVhpcGgaI","xmo5vtih","W5KgqHFdOuK0WOy","W7hdRSktWOTWusVcMmo9qmoSdbxcPq","g8oCW6JcTsy","eSkSEISKuSoEEa","dCkJWRJdVW","E8kDW7XoWPNdGCkzla","W7SiW6xdRmktsCkMWPhcJb0DWPlcNuP7WRNdJYZcICkNWQRcKCk7WP1+wSopWOHcW6RcL0W4nd9EWOzsawdcOmkrWQhdJL1lWQRcNZ0SySobWPW1WRKysqRcHuCpx8kJtw/cSszzycBcVmkbDXtdMrtcISovW7O6WPpcRSkcW7uKrJVdIXfVF8okamoyn8kpWP5zoSo9W5ZcJ1BcMgRcSmklq8kLWRuYdColWRpdRmkim0eSvmo8W6mSW4eTW5nfW5pcP8kjdwhdGqO7fbaBWP3dTGOfvSo+BK8NWOyjsrqmBbm/gmkwWPyFW7ddQ8k1WR/dOSo2WQ9bkSoouxhcVSoiW6qHWQ/cVYLlaSkVWP8qoMxdJSoPW67cQSk+W5/cTSoOW5tcISoCmce/qh00W53dVZdcKmoOwSogr8oSWPOgwCkYWQSFvmoYc8k7WRpdVSo0W5VdHdBdGu/dNCoFW5uwW4nJWQVdHmkivCkFW4SpWQxdJtpcJSoIEJvkW5aWAxZdR8oerv/dIMVdJCk3W67dMSokfwRdVGFcUmkJrmotW5aUW4hcUZPibaSIW7hdHN7dT8ofWPJdSmo0WPXMW4NdRmoSlHBcNcPHW6lcJNrfvNOklmoxyNldU8oEWQ/cLmoNz8kiW50UkmoNfsStymoDWPSJrhJdImk6WOGhWPD6A3fCW5FcNXPRW5tdKCkKW7xdSepcRSkjWQOUaCoHWQtcJf80g10pzmk4W7jUWPCZW70nWP0SrSoOW5GEv33dGSkiW7fEFYeiiHmFACk5BCk1WRyyW442W4/dPJldNWClW4GPaumXW4y9wCoGWQSRWPVdKCkDaCoFh0OYdZRcLczlfaZcI8oCbG9GW4ntr8oRDKjyW5RdVSoHB8oArSo2WR57WO4ffIpcVCoxutxcPSk0DWlcMCo3x8ocWPSYWOKZWP0st0VdT3jeW5VdLmkPW7lcHhBdUCkTW4ldOwldMSo6W4VdG8kFW5u/W4pdRg7dH8objNisW79KW7G+oXqCDmkshLfRW584md/cGtldL8odcNVcP2RcTmkXwIrdWROrqmk4WR9OWPe4h8oxemkkWPZdNSorf8kVWOxdJNrZivKuvNq8W4lcQSk4W7xdN8oeW4D3xmoAoCo3W53dTJlcICoaWO7cTConxdtcPI4gkSkkmgVdQCk/WR7cKLi8W4eiW5RcIHldNNBcNmouW4SZi8kYWPtdRNCMW4X3WOrohSkgFblcU3jxCSkJWOFdKJ9uz8oZW5L7B3/dVuBcGSomw8kkW6ZcJwjLW4O2W4rNf0SMWO3cJmkLFupdMNRcRSkgnKGkWRpcRsbMcvqiW74WWPddI8oDvSoSWRNdU1m2WO1TWQ4ctdnyCSkCW67dPs3dN3VcU8oSWOznW7tdJmkgW7FcJaTvW7ZdO8oYdmkpz8o8W6fvW6/dVhOhW5Csb8oxcNK6m8keiSo0cCkgWRddKSkBFqJcMCk5W41NbmkhsXldQslcVbO","W47cImkMvG","mSkJWQxdS2vBW57cMa","kCodDHBcLWJcVLO","b8owWOCgCLdcQCkcse/dOmkW","WO/cVKXuh20XpW","WR7dSSoiWRNdRq","eCkJWOzfW7hdVCkMEvRdRSor","ESkJWOTLqq","cSolW6lcRIhdGu4","WPDAWQRcOSohl8oNW5ldIw9P","W5KWo8opWQLBWRLekq","oY59dKi","W4XxWPaopa","u2qxgXRcGuRdP8ourJhcVq","qCk2WPTdACo9WQGuW6NdVmomrmotWPv9","W4tdJ1NcSmoDWQ7dImkU","gtjmteBdIKhdOq","WOPvW6VcR8oCb8o1W4xdNKHEW4BdKHHZWRVcNtZcK8k7WR7cKmoPWOq2qmoDW4CBWQ7dKHC","W518WPldMavQW6jl","r8o9sI8","W6K0WOPDFq","bmojjNbKrW","eG7cLCopW4PDn0anySo8WOhcRqVdUuW8","FqtdNSkuW4m","W69DWQ80kG","nCkwWRNdSNzTW57cMSkqWRa","WOBcU8omW5tdOW","gSkWWP1oW7FdKSkMDG","cmoMWRxcOq/cOaFcMG","WONcQunthW","ltTnsvFdRf3dO8ox","W4ZcHmk7rbLlWQdcPSksW5pcHSoG","gGdcVSkoBmoaW7e","WO7cUCk3W5i5EG4i","WPddTCoIfCojbvrv","bCojnhDRw8kzrmo1l0TZ","WP1Fb8onoG","CvvvWRpdLa","FxHqC8oCsdO","kLZcLmohW4GfW6NdMa","WOWlemofiLjPWORdPCk8dmoW","x8k2wSoMpbuLhKWJW5W4CbBcLSkRWOu","WOxcQSkSW5K/vq4hWOX5W5qNE2VdS0BcUa","WRKSW6CIW59zrSo/","fsnDl1xdQa","WOnlbf3cRXj6W50UWPBdTCkJ","W7iDkSolWQnDWQv+","W7VdGg7cOSol","WRLhWO0lW4G7WQrW","W4RdGudcPCoAWRpdJa","uSkaW4fD","qCkBW5D/WPu","l8oHWOFcSrJcUYtcNfXDW4dcKcZcSa","sZJcJ8kOumknWOVdLCoq","jCkYWRTBW6q","W53cGmkLvaDE","gSo7W4C/j8k6W6DyWRdcGCkgeG","jSk0WQtdUxrVW5RcICkbWOOs","WOhcKCo3W5S9","v8kmbuldHuhdSb3dLNxcIuSZn3Sfw07dNmkJWRFdVstcTeC6W4FdQCoEWR3cL8klk8oNFezktxtcSSojw0OcW7FcPWdcJdPYWQtdL2BcImkkgSkbW6tdN8o+bbK/A1BdH8oSfLJdGG9YWP3dP1LyuSoRrmoKW4KqW73cV8oaW4BdNunmW4hcHxtdR8oiWPSyt8kfW4SkW4/cRmkHWPJcNfTFWOFcNSk1suO7W4NcUu7cVhtcS8kSE8ockrpdLL49W4S/W7pdV8oNWPBcMmoChfjQWOjUh8oFcghdLmknW6xcQSk4W4VcOCkkFa/dLCohWQddNrT9oSkKA8oPDYxdSg/cMSk4gKKVbdtcOSkKW7ZdI2C6ENddPCouWPOtW59Cz8k+WPtdPxepWPlcLuLugmoJW7X+WQNdH3pdPmoTW5xdTSoHWQFcI1VdJmoAkfxdO8k+sunSjXyFi8ksgCkFjc/dQe8homkQDSoNatJdVGVcN0hdV3qXW7NdKc8Jt8oSWPFdQwbdzb9fcaL6g8o0th9TW5ddNXddVmoqomkHWPJcKCoKpmoje8oCWRuXl8k8k2xdK0BcQCoRtConsSostciPsrJdHmoRDCoHWOrRW5ZdOaxcL2jEW6SwW6pcRSouWQ/cG37cN8kXWO7dMmo7kmklW5hdUCkiC8oEWOpcV8krW4fJB0RdQw3dG8kRW4P6W4FdRgBdOItcSNiCWORdQmkuW78WW5pcUCk7WPejcvtcH8kqWPbqteLKA3ZcVtBcRmk4W67dHCkob8k5vCkWWRxcJ8o4WRT8EmoQvxSYkYORx0XYWRfqWOfPWRrMWQFcOCo1WP0","W6KaWODdw3PSdY0uWQafk8kOW6ldO0a3WPu","cGmvWP8","WRBcOSoKW4JdQItcI0a","l8k3WOpdS0e","W5NdH0pcSG","WO7cVCkWW58","WPFcVCk7W4m+yqO","FwzRsSoJ","W7JcK8kNxWfSWOVcT8kr","mIS8WQpdMa","hadcQmkEFmoaW7hdSW","DmkoWRRdUNtcKWVcQmo/r8obWOSUeCkrW63dMYpcUmoGWRjbuSoMhe3dPvm7xmohhKP9W43dMSkDW5NcU3D8W7noWOtcKmk5qgj8WP3cUSknBmoMgmkoW7PMW47dOmkldSo1WO8FWRrfWPD5W4XQW7WQsmotneXVlZ5ZWP3dMmoCCq7cK8kqW7ldICkfnSotqmkSiSouzM4rr8kPkhNdM8knW5hcJCoAChuZWPzNdwFcOr55WOpdS8ofWOldMMnxe8oLFmocrqFdSXOchtJcGCoaW4vGW4T5W5RdQ8k0jg16wSosq28GBg/dI8oNa8o+W47cOGy8bw1ZW6aOWP82WQRdPgbVAComvSkds1DJWOFcHbaqW5LwWRT+luFdSCk3sSoOW4iKmmo3lqS/hCoXo8oHfcnLC8oyW6jOy8kYW5uGW4VdGs8AzSogW7hcL8kUcCkJbSolASklfSkDWPrcqx4dW4XiWOKjEh3cG8kQC8kjkxJdR8kVWPSCWP94mCoEzua2jbBcSSksBCojW7vGmCorW67cLNrdaCoTD8oUWRpcM1OfWRv4W4BcLq4QxCkbut0RWRCvWPpcKKxdPmo6W5ZcLSkFW6m+dSkZWQuty3mTa2HsWOvbWR1mWRpdHfS9WOFdLrDabmkPB8o1kKinCtFdPmoxru8Bz8omWOTmW5nTWP7dSvrFo8kLWOCbbbpcJXZcHmkIx8oDmCo5a8kXWPhdSmkVh8kjWRJdG8oPWRyHACkCWOqPcCkqW798b2vAgmk0WRlcMtmseshcIxBdRdldPtlcHSkkgcRcOsxcOSkV","WQz1nCkn","emkuW5dcUSoNWOXKWPy","W7P6WR50WOiCg8k9ec1PtmoPW5q","WQxcTmkSW5y/rXyuWOW","mCoSWPxcVq","ruzdWOxdMG","m8kLWQ7dUwu","W4GcqrBdTLO","mCkJWOzfW7hdQmkUFLO","WRHgWRCzW5uGWQDK","vmkHWOb/EmovWQ0sW77dUSo5","W6hcJSoen3TOfHhcG8orWOi","m8oGe2r/","DLDkWRhdMCoTWQFcHqRdIsq","B05fxmonrZqOWPJcOJlcM8oadJrGWPhcVq","b8ofkwu","WQyOW70JW4HcqSoH","eCoFW5lcVHu","ws7cNSkPDG","oKLuuSoaBI8","rmkYWOnKAq","WQGMW6C1W5vhrG","AWlcOSoy","WRFcUmonW5KGex/dMG","rSk2WPDLECoHWQK","WQhdOCkiW7KdW4ygvG","s8kaW4PbpHVcOG","m8k+WPXjW6NdNSkuC1VdMq","WOnnWRBcUCoFhCoeW4tdILTyW4a","fmoKnLjn","oHOhrSouAru6WQm","W4PYWQZdIqvI","vKLkWR7dMCo/WR/cLGO","pmoiqq","r8o5tsiqy8oMEW","pmoCvq7cNa","CaRcOCk1rW","WP/cSKXu","imk4gwDckSkNn8kkWOJdLaPVW43cRhbjC8kakL3dKwzcW5/dL8k6chNcNNvkfhKee8osW7hcRtGFW6qBvx7cQZxdGmkHDCo6d8k3WOBcKSk2W6nuW7FcI8oaq8kcWPxcPtFdVCocWP9TaCoymINcM17dOJTnWPtdKmoAdSkImYRdGCkbamkOWQRcU8o1bLeShJyOW6ldJr3dPg3cVHzyWOeMWRiDc8oRlCoEWPVcMmoqF8ozW7NcVXb6fSk+W7xcRfpcR8oKWPpdGmkRW4GEqddcM8o+ymo1i3FdSGj/WQNdRXblW7JdJ8oAW6/cH2tdTWbHimovjmkPyCoMo8kazmkgEtPltamzWRVdNMSQWPSwW5VcLLL7nCozpSkoW6xdKCkAW73dNmoiamo8ECoJWRJcHmk9W7BdRCkSWQPDWRyeW6hdUgDcnSoPWRFdR8ozFs4CChZdH8oaWOddO2mkE15QWPm6BCkEBCkcyCkuzXKPWRVcRComWRBcJSoBWQNcRLFdTmkVjthdMCo/kHyUB8kRW4HlWQmMj8oKW6pdTSoxD8k9amoKW6rCW555W4vsWQVcM8oantpdU0rRCSk8WP8dESohELJcR0XyW4hcVmkFE8ovxHldS8k6eSkdW5lcULa4W48FuCocW5C2W7uJpqreFSk+xNVcQ0ddKZFdNYVdUCkwdSoUWPJdMSk2kuFdKf/dOSkCbZtdKmkbhW","WPOAW5tcGCkWC1m","W67cP8otk1G","DGZcUmoAW7iJW4/dUG","yePlWRG","W5RdJuJcU8ok","bSoLW50OnmkKW7WJW5ZdPmomqmoY","eCoOWPlcSa/cOaJcKq","W6dcImoeia","WPKbst/dQheH","wSoXvYa","gCkEWOtdVe8","daZcQmkE","naHswKZdJeVdJmoT","W4P8WQ/dNXHVW6K","xfxdSSooiCkbW53dOSo6A1xcVG","cmo7WOFcOXJcUXRcMa","WOrRWQtcOCowg8oNW7FdJu90W5ZdIW8PW6RcIG","tCk4WR7cRtxcHI7cSW","WOv0oSkoW712W5/cHIGMWPNdRW0X","WRKSW6CIW59z","EK5FESojvJOC","vCkaW4NdRCoI","W6xdSJK","l8ojsWBcGbm","gYvnxeZdJf3dO8ox","oadcPCkoDSoaWQy","jqOpWOpdH8o2BCoWoq/dVW","uSkeW4zqoqdcPSkA","W5RdI0ZcP8omWQ8","W75xWQq+","DrVcGmoPW6W","aIDipLldU3y","WOtcVmoQW5/dUWlcGvv+","B8oFaSoyWQpcOrKMW40xWQRcOYORwmo4WQJcOvFcR8o5W65ycmosW4VdTfj/WPJcOvm","W7WaWP1HtgDNcq","W54Wtr7dTfC0","k8oSWOtcKJhcMWZcK0XDW4dcRsZcRHhcVZS","emkJWRfoW7m","WPmlemoy","WP0AW5JcP8kGB1lcOmkpW6tcMCkYuIaB","qCkWWOP/Aq","W6Skomov","bJzwtvhdKuxdVW","W77cSmoiWQHjWPWUwCo8W7/dUSkZ","omoZW48XlmkZW6XrWRVcImknfSkuW5aPtNlcQmk3WPfacSk4WOaoWQRcTmk5WP5OW5RcG2ldRWnGW4OHW7ZcKSkSxN7cOSkZW51HpwPLWOJcMmoncqFdGCo6W71oWP8LWOFdKWJdICk2gSoDa8objshdNKRcUmogug8pzCkoW7m2p8oEWPfTd8oRW4aUlmkFWRGsWOapWRmBW5RcGCowW4zlqCkpbt/dISkJWPRdTunpW7VcNmkCWQfTWRhdHJNcJZZdNZHQW43dL8oOWPuJWRJcS8oiWOHGz8kEWPZcRwddL8kCs8kgW6fqn8o/W7pdVJ4CW6pcImkwWPFdTrHBW4pdOXOhuSodWPCarvJdQ1K+k8kIWPVdG8oYD8kfjJNdHmoHpMFdKmoaehFcLCkPnmoputFcPSo3ab3cI2JcPM98f8ozbSklc8k2z27cKmo1zCoCWRvOWR/dOmk3WRFcJLRdNCoCWO3dMmogWP3cMfRdGu3dPSoatmoAWO57lZHybmoYWOxdUSolyKrmW5JcPImkW70ac2VcQqJdUSoQdq/dLdGEWR5DbmkIW7KUW4BdHCkyW58uvmkAx3RcOmkZW4NcSmkwACkGiSkvW5PkWRGWWPxcShRcRCoMBSorw0ZcLConWOHozqebW67dTCoQWQhdI8oeWPC6WOPAkYLJxInpWQBcT8oLW7vxyCkDW5dcIh3dOCoEW6FcNmkCgNBdRCowtmkuqH/cKCk+ga","W6hdUIu8","W6tcK8ofkNTCaHhcKSoZWPhdICkfWPNcPupcSq","xSkvW4jzmG","WP9/rNW","W6qdiSoj","icDtpKJdUYe","oSogWQpcTcK","asncja","hSoLWO/cOs3cUWBcMLPzW58","WQhcU8oaW7/dUq","W7fBWRKY","DSolqSoF","WONcThfechy6kG","t8kuW71lWOJdP8kflI0","W6qdiSojWPzDWRL8bmoMaa"];return(X=function(){return t})()}const U=function(){let t=!0;return function(e,o){function n(t,e,o,n,r){return Z(t- -356,r)}function r(t,e,o,n,r){return Z(t- -896,n)}if(n(200,0,0,0,"zxBK")===n(226,0,0,0,"2bqQ")){const r=t?function(){function t(t,e,o,r,c){return n(o- -574,0,0,0,t)}function r(t,e,o,n,r){return Z(n- -542- -66,t)}if("cHqPJ"!==t("M0I5",0,-336)){let t;try{t=_0x12e269("return (function() "+r("V@3o",0,0,-98)+");")()}catch(c){t=_0x30077b}return t}if(o){if("grXev"!==r("OBBm",0,0,33)){const t=_0x14a871[r("$J[T",0,0,-8)](_0x10fc94,arguments);return _0x517475=null,t}{const n=o[t("YDAe",0,-279)](e,arguments);return o=null,n}}}:function(){};return t=!1,r}this[r(-303,0,0,"V@3o")]=this[r(-331,0,0,"^oeQ")]}}()(void 0,(function(){function t(t,e,o,n,r){return Z(n- -230,o)}function e(t,e,o,n,r){return Z(r-523,o)}return U.toString()[t(0,0,"M0I5",284)](e(0,0,"Rza9",0,1072))[t(0,0,"e*@z",281)]()[e(0,0,"hE)S",0,1099)](U)[t(0,0,"ra(]",402)](Z(46- -492,"fLhJ"))}));U();const A=function(){let t=!0;return function(e,o){function n(t,e,o,n,r){return Z(o- -373,r)}if("ckEAv"===n(0,0,285,0,"p!DW")){const r=t?function(){function t(t,e,o,r,c){return n(0,0,t- -156,0,r)}if("mYAyJ"!==t(-13,0,0,"cs6N")){const e=_0x12e7a4?function(){if(_0x59c61b){const n=_0x57817d[(e="nxd3",o=442,t(o-301,0,0,e))](_0x56f823,arguments);return _0x4d09f4=null,n}var e,o}:function(){};return _0x49bf31=!1,e}if(o){if("bNtFo"!==t(136,0,0,"nfxt")){const n=o[t(0,0,0,"xKSv")](e,arguments);return o=null,n}_0x588147[(i="jZC0",W=1379,n(0,0,W-1225,0,i))]=this[(r=1350,c="ra(]",n(0,0,r-1215,0,c))]}var r,c,i,W}:function(){};return t=!1,r}var r,c;this[(r="PSPn",c=278,Z(c- -255,r))]=this.pong}}();A(void 0,(function(){function t(t,e,o,n,r){return Z(n- -794,o)}const e=function(){function t(t,e,o,n,r){return Z(r- -230,t)}function e(t,e,o,n,r){return Z(r- -78,e)}function o(t,e,o,n,r){return Z(e-191,o)}function n(t,e,o,n,r){return Z(o- -852,r)}function r(t,e,o,n,r){return Z(t-684,r)}if(t("yag3",0,0,0,404)!==t("zutf",0,0,0,340)){let i;try{"MlMDe"!==t("9Szi",0,0,0,274)?(this[o(0,734,"YDAe")]=_0x5c2a20.clone(),this.camera=_0xc2a06b,this[r(1170,0,0,0,"fLhJ")]=_0x51fcda,this[r(1146,0,0,0,"&N1Q")]=new _0x273bf6.Scene,this[n(0,0,-335,0,"nxd3")][e(0,"$J[T",0,0,520)](this[r(1153,0,0,0,"T5!H")]),this[r(1314,0,0,0,"L$XU")]=new _0x27d13b(this[e(0,"*i$*",0,0,431)]),this[r(1177,0,0,0,"wMV8")]=new _0x3cd07f.WebGLRenderTarget(_0x44c7fb,_0x233cb4,{type:_0x49d794[e(0,"p!DW",0,0,558)],depthBuffer:!1,stencilBuffer:!1}),this.pong=new _0x116509.WebGLRenderTarget(_0x522e55,_0x319149,{type:_0x332565[o(0,788,"zutf")],depthBuffer:!1,stencilBuffer:!1}),this[r(1186,0,0,0,"V@3o")]=new(_0xf41f10[e(0,"PSPn",0,0,396)])(_0x3b97a0,_0x3cd6e4,{type:_0x4e1439[t("Wk]b",0,0,0,338)]}),this[o(0,726,"Wk]b")]=new(_0x10240c[t("2wy(",0,0,0,315)])({uniforms:{uCameraFarInverse:{value:1/this[o(0,739,"wMV8")].far}},vertexShader:t("p!DW",0,0,0,231),fragmentShader:e(0,"nfxt",0,0,525),depthTest:!0,depthWrite:!0,side:_0x5abef2[e(0,"wMV8",0,0,483)]}),this.material=new _0x6e8f7f.ShaderMaterial({uniforms:{uScreenSize:{value:new(_0x1c6432[r(1313,0,0,0,"5y]l")])(_0x1adb95,_0x36b788)},uPrevDepth:{type:"t",value:this[n(0,0,-295,0,"ra(]")][t("9Szi",0,0,0,405)]},uCameraFarInverse:{value:1/this[t("e*@z",0,0,0,366)][r(1151,0,0,0,"$J[T")]},uSample:{value:0}},vertexShader:r(1236,0,0,0,"$J[T"),fragmentShader:"\n                uniform sampler2D uPrevDepth;\n                uniform float uCameraFarInverse;\n                uniform float uSample;\n                uniform vec2  uScreenSize;\n\n                varying vec3 vWorldSpaceNormal;\n                varying vec3 vCameraSpacePos;\n\n                void main() {\n\n                    vec2 uv = gl_FragCoord.xy / uScreenSize;\n                    float prevRegisteredDepth = texture2D(uPrevDepth, uv).w;\n                    float currentDepth        = abs(vCameraSpacePos.z) * uCameraFarInverse;\n\n                    if(currentDepth <= prevRegisteredDepth) {\n                        discard;\n                    }\n\n                    gl_FragColor = vec4(vWorldSpaceNormal, currentDepth);    \n                }",depthTest:!1,depthWrite:!1,side:_0x55d5a3[e(0,"OBBm",0,0,514)]}),this[n(0,0,-188,0,"L$XU")][o(0,730,"9ol7")]((t=>{var e,o,r,c;t instanceof _0x59045d[(r=634,c="L$XU",n(0,0,r-932,0,c))]&&(t.material=this[(e="*i$*",o=544,n(0,0,o-750,0,e))])}))):i=Function("return (function() "+t("nxd3",0,0,0,233)+");")()}catch(c){if(e(0,"KrgU",0,0,466)===n(0,0,-333,0,"p!DW"))return this.resultBuffer.texture;i=window}return i}if(_0x2252be){const t=_0x14d961.apply(_0x61fa2b,arguments);return _0x57649a=null,t}}();function o(t,e,o,n,r){return Z(e-695,r)}const n=e[t(0,0,"e*@z",-177)]=e[t(0,0,"f01S",-208)]||{};function r(t,e,o,n,r){return Z(r- -43,n)}const c=["log",t(0,0,"9Szi",-138),"info",o(0,1183,0,0,"2bqQ"),r(0,0,0,"T5!H",421),r(0,0,0,"zutf",624),r(0,0,0,"s#@K",479)];for(let i=0;i<c.length;i++)if(Z(885-271,"zxBK")===o(0,1242,0,0,"OBBm"))_0x5391ab[o(0,1294,0,0,"nfxt")]=this[t(0,0,"lSyx",-260)];else{const e=A.constructor[r(0,0,0,"*i$*",585)][t(0,0,"dvRK",-145)](A),W=c[i],a=n[W]||e;e[t(0,0,"9ol7",-291)]=A[o(0,1355,0,0,"m!qV")](A),e[r(0,0,0,"2wy(",478)]=a[t(0,0,"s#@K",-133)][o(0,1297,0,0,"s#@K")](a),n[W]=e}}))();class Y{constructor(t,e,o){function n(t,e,o,n,r){return Z(r- -17,e)}function r(t,e,o,n,r){return Z(r-203,t)}function c(t,e,o,n,r){return Z(o-169,e)}function i(t,e,o,n,r){return Z(r- -957,t)}function W(t,e,o,n,r){return Z(o- -717,r)}this[n(521,"PSPn",691,676,625)]=t[i("KrgU",-299,-297,-180,-289)](),this[W(-280,-174,-180,-219,"9Szi")]=e,this[W(-327,-145,-223,-308,"zxBK")]=o,this[i("zxBK",-400,-289,-408,-386)]=new(a[n(0,"OBBm",0,0,660)]),this[n(0,"$J[T",0,0,666)][c(681,"9ol7",629)](this[i("9ol7",-266,-247,-263,-312)]),this[c(0,"9ol7",832)]=new E(this.renderer),this[c(0,"wMV8",662)]=new(a[c(0,"2wy(",809)])(innerWidth,innerHeight,{type:u,depthBuffer:!1,stencilBuffer:!1}),this[W(-204,-158,-242,-296,"dvRK")]=new(a[c(0,"OBBm",851)])(innerWidth,innerHeight,{type:a[r("KrgU",0,0,0,865)],depthBuffer:!1,stencilBuffer:!1}),this[n(0,"zxBK",0,0,533)]=new(a[W(-285,-181,-202,-232,"i(Rw")])(innerWidth,innerHeight,{type:a[r("*i$*",0,0,0,726)]}),this.frontFaceMaterial=new(a[n(0,"^oeQ",0,0,605)])({uniforms:{uCameraFarInverse:{value:1/this[r("DRC[",0,0,0,685)][c(0,"dvRK",795)]}},vertexShader:"\n                varying vec3 vCameraSpacePos;\n                varying vec3 vWorldSpaceNormal;\n\n                void main() {\n                    vCameraSpacePos = (modelViewMatrix * vec4(position, 1.0)).xyz;\n                    vWorldSpaceNormal = normal;\n\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n                }",fragmentShader:n(0,"Rza9",0,0,631),depthTest:!0,depthWrite:!0,side:a[n(0,"OBBm",0,0,556)]}),this[n(0,"e$VE",0,0,549)]=new f({uniforms:{uScreenSize:{value:new(a[r("9Szi",0,0,0,857)])(innerWidth,innerHeight)},uPrevDepth:{type:"t",value:this[W(0,0,-41,0,"PSPn")].texture},uCameraFarInverse:{value:1/this[c(0,"T5!H",637)].far},uSample:{value:0}},vertexShader:W(0,0,-153,0,"2bqQ"),fragmentShader:r("V@3o",0,0,0,695),depthTest:!1,depthWrite:!1,side:a[i("*i$*",0,0,0,-276)]}),this[W(0,0,-205,0,"nfxt")].traverse((t=>{function e(t,e,o,n,c){return r(o,0,0,0,c-317)}function o(t,e,o,n,c){return r(n,0,0,0,c-758)}function c(t,e,o,n,r){return W(0,0,r- -118,0,e)}var i,a;o(0,0,0,"nxd3",1466)===e(0,0,"uSQd",0,1121)?_0x409305=_0x3316c3("return (function() "+c(0,"m!qV",0,0,-198)+");")():t instanceof d&&("RnCwd"!==c(0,"ra(]",0,0,-295)?_0x55ee23 instanceof _0x4017d5[c(0,"rqEa",0,0,-183)]&&(_0x1800fa[(i=1439,a="OBBm",n(0,a,0,0,i-936))]=this[e(0,0,"Wk]b",0,1046)]):t[o(0,0,0,"yag3",1567)]=this.material)}))}[$(333,303,152,260,"ra(]")](t){function e(t,e,o,n,r){return $(t-260,e-166,o-480,n- -26,o)}function o(t,e,o,n,r){return $(t-280,e-10,o-465,o-322,t)}function n(t,e,o,n,r){return $(t-383,e-263,o-50,e-1206,n)}function r(t,e,o,n,r){return $(t-346,e-117,o-232,r-970,n)}function c(t,e,o,n,r){return $(t-411,e-101,o-139,t- -370,e)}this[n(1528,1487,1514,"5y]l")][o("9VgA",730,683)](this.ping),this[e(295,231,"s#@K",189)].clear(),this.renderer[o("m!qV",548,512)](this.pong),this[r(1190,1087,1168,"e*@z",1164)][n(1490,1407,1435,"PSPn")](),this[e(353,269,"nxd3",351)][r(1211,1347,1195,"2wy(",1307)]((t=>{function o(t,e,o,r,c){return n(t-246,r- -655,o-435,o)}function c(t,o,n,r,c){return e(t-116,o-279,c,t-771)}function i(t,e,o,r,c){return n(t-188,t- -1164,o-190,e)}function W(t,e,o,n,c){return r(t-360,e-185,o-449,e,c- -1234)}function d(t,e,o,n,c){return r(t-175,e-393,o-292,c,t-157)}if(c(1040,1134,0,0,"M0I5")!==d(1396,1340,1359,0,"T5!H")){let t=_0x3fdb41%2==0?this[d(1523,1421,1613,0,"#yV]")]:this[c(941,1020,0,0,"#yV]")],e=_0x56e179%2==0?this[i(347,"yag3",340)]:this[c(1076,1132,0,0,"nfxt")];this[i(341,"f01S",414)].uniforms[c(1137,1170,0,0,"nfxt")].value=t[i(285,"5y]l",226)],this[c(1029,1067,0,0,"e$VE")][o(633,0,"zutf",742)][c(994,1027,0,0,"]ci9")].value=_0x147427,this.renderer.autoClear=!1,this.renderer[d(1488,1491,1420,0,"9VgA")](e),this[W(14,"f01S",-13,0,-10)].render(this[o(942,0,"Rza9",913)],this.camera),this[i(251,"KrgU",145)].autoClear=!0,this[W(162,"2wy(",150,0,111)][d(1498,1424,1466,0,"9ol7")](e[W(97,"YDAe",131,0,45)],t)}else if(t instanceof a[W(-75,"zxBK",-41,0,-56)]){if("gQyXT"!==i(273,"blJE",230)){const t=_0x533c3c[c(961,893,0,0,"#yV]")](_0x12e125,arguments);return _0x57cd49=null,t}t[W(196,"YDAe",-6,0,85)]=this[c(1053,1144,0,0,"%^o@")]}})),this.material[e(299,275,"3Olf",266)][r(1233,1306,1241,"V@3o",1308)][o("nfxt",451,525)]=1/this[c(21,"p!DW",33)].far;for(let i=0;i<t;i++)if(o("2wy(",642,695)===o("hE)S",688,645)){if(_0x48e72b){const t=_0x2baaa2[o("zutf",636,570)](_0x4ba874,arguments);return _0x2b665d=null,t}}else{let t=i%2==0?this[o("#yV]",635,718)]:this[n(1586,1531,1642,"zutf")],W=i%2==0?this[o("3Olf",761,715)]:this[r(1065,1163,1186,"e*@z",1154)];this[r(1331,1380,1466,"e*@z",1372)][e(236,205,"M0I5",171)][n(1394,1442,1339,"zxBK")].value=t[n(1510,1528,1511,"9VgA")],this.material[c(19,"xKSv",18)][e(332,321,"fLhJ",331)][e(254,362,"Rza9",277)]=i,this[o("T5!H",604,628)][e(177,112,"xXYQ",176)]=!1,this[r(1250,1381,1324,"]ci9",1312)][e(187,275,"m!qV",164)](W),this[r(1223,1268,1210,"M0I5",1168)][n(1447,1551,1502,"$J[T")](this[r(1366,1407,1249,"ra(]",1296)],this[c(-80,"fLhJ",-19)]),this[e(261,254,"T5!H",280)][c(-106,"uSQd",-172)]=!0,this.blitProgram.blit(W[c(-93,"Wk]b",-43)],t)}if(t%2==0){if(r(1217,1065,1195,"yag3",1158)===n(1470,1424,1350,"Rza9"))return this[e(274,232,"OBBm",191)][r(1081,1295,1299,"2bqQ",1189)];this[r(1159,1302,1258,"wMV8",1212)]=this[e(323,333,"M0I5",272)]}else n(1445,1484,1491,"]ci9")!==e(151,346,"L$XU",254)?_0x386809=_0x4e8131:this[o("M0I5",643,568)]=this.pong;this[r(1176,1233,1135,"Wk]b",1246)][r(1263,1237,1158,"p!DW",1243)]((t=>{function c(t,e,o,n,c){return r(t-475,e-208,o-70,t,o-158)}function i(t,o,n,r,c){return e(t-404,o-297,o,c-661)}function W(t,e,n,r,c){return o(t,e-307,n-244)}function d(t,e,o,r,c){return n(t-467,t- -1413,o-44,c)}function l(t,o,n,r,c){return e(t-469,o-263,t,o-1307)}if("iHYQl"!==l("zutf",1665))t instanceof a[l("2wy(",1568)]&&(c("DRC[",1452,1471)!==i(783,"i(Rw",0,0,830)?t[i(1065,"2wy(",0,0,963)]=this[d(161,0,228,0,"hE)S")]:_0x221a91.material=this[l("OBBm",1519)]);else{const t=_0x1f26ac[c("hE)S",1311,1422)].prototype[W("nxd3",865,917)](_0x20f638),e=_0x3c7465[_0x689f5b],o=_0x2c0cd6[e]||t;t[d(127,0,202,0,"*i$*")]=_0x517c1b[l("hE)S",1610)](_0x5f04fd),t[W("$J[T",758,779)]=o[d(52,0,54,0,"3Olf")][l("5y]l",1614)](o),_0x20eace[e]=t}})),this[o("blJE",755,678)][r(1258,1153,1193,"Rza9",1195)](this[c(-77,"Rza9",-56)]),this[o("zxBK",514,534)][n(1576,1547,1632,"f01S")](this[c(-69,"uSQd",-83)],this[n(1602,1604,1650,"PSPn")])}[$(307,227,328,297,"]ci9")](){return this[(t="nxd3",e=906,Z(e-400-41,t))].texture;var t,e}[$(169,328,215,271,"blJE")](){function t(t,e,o,n,r){return $(t-94,e-135,o-328,r-927,o)}return this[t(1153,1277,"zutf",0,1223)][t(1195,1341,"Rza9",0,1234)]}}function $(t,e,o,n,r){return Z(n- -282,r)}const tt=["object"],et=C({__name:"ssrtGlassMesh",props:{skyBoxTexture:{},modelPath:{},modelName:{},extintionFactor:{default:5},reflectionFactor:{default:1},exposure:{default:0},extintionColor1:{default:"rgb(192,123,25)"},extintionColor2:{default:"rgb(26, 166, 192)"},extintionCol1Random:{type:Boolean,default:!1},extintionCol2Random:{type:Boolean,default:!1}},async setup(r){let c,i;const W=r,{map:a}=([c,i]=P((()=>o({map:W.skyBoxTexture}))),c=await c,i(),c);a.wrapS=s,a.wrapT=s,a.magFilter=m,a.minFilter=m;const{camera:l,renderer:u,scene:h}=t(),C=new f({uniforms:{uSkybox:{type:"t",value:a},uBackFaceBuffer:{type:"t",value:null},uFrontFaceBuffer:{type:"t",value:null},uCameraFarInverse:{value:1/l.value.far},uScreenSizeInv:{value:new v(1/window.innerWidth,1/window.innerHeight)},uCameraPos:{value:new S(0,0,0)},uTime:{value:0},uExtintionColor1:{value:new p("#fff").sub(new p(W.extintionColor1).convertLinearToSRGB())},uExtintionColor2:{value:new p("#fff").sub(new p(W.extintionColor2).convertLinearToSRGB())},uExtintionFactor:{value:W.extintionFactor},uExposure:{value:W.exposure},uReflectionFactor:{value:W.reflectionFactor},uExtinctionFX1:{value:new k(W.extintionCol1Random?1:0,W.extintionCol2Random?1:0,0,1)}},vertexShader:"varying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\n// NOTE: we don't need the projViewModel matrix, because vWorldSpaceFragPos is already multiplied by the model matrix\n// I'm repeating this comment 5 times because I've lost 2 hours of my life debugging this thing\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nvoid main(){\n\t// NOTE: the multiplication with modelMatrix is required otherwise viewDir in the fragment shader would be incorrect\n\tvWorldSpaceFragPos=(modelMatrix*vec4(position,1.)).xyz;\n\tvWorldSpaceNormal=normalize((modelMatrix*vec4(normal,0.)).xyz);\n\t\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n\tvProjViewMatrix=projectionMatrix*viewMatrix;\n\tvViewMatrix=viewMatrix;\n}",fragmentShader:"uniform sampler2D uSkybox;\nuniform sampler2D uBackFaceBuffer;\nuniform sampler2D uFrontFaceBuffer;\n\nuniform vec3 uExtintionColor1;\nuniform vec3 uExtintionColor2;\nuniform float uExtintionFactor;\nuniform float uExposure;\nuniform float uReflectionFactor;\nuniform vec4 uExtinctionFX1;\n\nuniform float uTime;\n\nuniform vec3 uCameraPos;\nuniform vec2 uScreenSizeInv;\nuniform float uCameraFarInverse;\n\nvarying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nconst float PI=3.14159265359;\nconst float e=2.7182818284590;\n\nconst float planeSize=3.;\nconst vec3 planeColor=pow(vec3(202./255.,205./255.,185./255.),vec3(3.));\n\nfloat mod289(float x){return x-floor(x*(1./289.))*289.;}\nvec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}\nvec4 perm(vec4 x){return mod289(((x*34.)+1.)*x);}\n\nfloat noise(vec3 p){\n\tvec3 a=floor(p);\n\tvec3 d=p-a;\n\td=d*d*(3.-2.*d);\n\t\n\tvec4 b=a.xxyy+vec4(0.,1.,0.,1.);\n\tvec4 k1=perm(b.xyxy);\n\tvec4 k2=perm(k1.xyxy+b.zzww);\n\t\n\tvec4 c=k2+a.zzzz;\n\tvec4 k3=perm(c);\n\tvec4 k4=perm(c+1.);\n\t\n\tvec4 o1=fract(k3*(1./41.));\n\tvec4 o2=fract(k4*(1./41.));\n\t\n\tvec4 o3=o2*d.z+o1*(1.-d.z);\n\tvec2 o4=o3.yw*d.x+o3.xz*(1.-d.x);\n\t\n\treturn o4.y*d.y+o4.x*(1.-d.y);\n}\n\nvec3 acesFilm(const vec3 x){\n\tconst float a=2.51;\n\tconst float b=.03;\n\tconst float c=2.43;\n\tconst float d=.59;\n\tconst float e=.14;\n\treturn clamp((x*(a*x+b))/(x*(c*x+d)+e),0.,1.);\n}\n\n// gets the skybox color from a given view direction\nvec3 getSkyboxColor(vec3 viewDir){\n\t// skybox coordinates\n\tvec2 skyboxUV=vec2(\n\t\t(atan(viewDir.x,viewDir.z)+PI)/(PI*2.),\n\t\t(asin(viewDir.y)+PI*.5)/(PI)\n\t);\n\t\n\tvec3 col=texture2D(uSkybox,skyboxUV).xyz;\n\tcol=pow(col,vec3(2.2));\n\treturn col;\n}\n\nbool refract2(vec3 v,vec3 n,float ni_over_nt,inout vec3 refracted){\n\tvec3 uv=normalize(v);\n\tfloat dt=dot(uv,n);\n\tfloat discriminant=1.-ni_over_nt*ni_over_nt*(1.-dt*dt);\n\tif(discriminant>0.){\n\t\trefracted=ni_over_nt*(v-n*dt)-n*sqrt(discriminant);\n\t\treturn true;\n\t}\n\t\n\treturn false;\n}\n\nvec3 binarySearchHitPoint(vec3 lastP,vec3 hitP,vec3 rayDir){\n\t\n\tfor(int i=0;i<10;i++){\n\t\tvec3 midP=(lastP+hitP)*.5;\n\t\t\n\t\t// project midP in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(midP,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 midpNDC=projCoord.xy;\n\t\tvec2 midpUV=midpNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,midpUV);\n\t\tfloat depth=backBuffer.w;\n\t\t\n\t\tfloat midpDepth=abs((vViewMatrix*vec4(midP,1.)).z)*uCameraFarInverse;\n\t\tif(midpDepth>depth){\n\t\t\thitP=midP;\n\t\t}else{\n\t\t\tlastP=midP;\n\t\t}\n\t}\n\t\n\treturn hitP;\n}\n\nvec3 getRefractedColor(vec3 refractionDir,vec3 hitPoint,float refractionIndex){\n\t// move the hitpoint inside the mesh with epsilon\n\thitPoint+=refractionDir*.0001;\n\t\n\t// raymarch!\n\tfloat stepSize=.02;\n\tfloat stepMult=1.5;\n\t\n\tvec3 lastP=hitPoint;\n\tvec3 p=hitPoint;\n\tvec3 hitPNormal;\n\tfloat currStepSize=stepSize;\n\tfloat transmissionDistance=0.;\n\tfor(int i=0;i<20;i++){\n\t\tp+=currStepSize*refractionDir;\n\t\t\n\t\t// project p in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 pNDC=projCoord.xy;\n\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,pUV);\n\t\tfloat depth=backBuffer.w;\n\t\tvec3 norm=backBuffer.xyz;\n\t\t\n\t\t// get p depth\n\t\tfloat pDepth=abs((vViewMatrix*vec4(p,1.)).z)*uCameraFarInverse;\n\t\t\n\t\tif(pDepth>depth){\n\t\t\t\n\t\t\tvec3 hitp=binarySearchHitPoint(lastP,p,refractionDir);\n\t\t\tp=hitp;\n\t\t\t\n\t\t\t// ************ get the hitpoint normal\n\t\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\t\tprojCoord.xyz/=projCoord.w;\n\t\t\t\n\t\t\tvec2 pNDC=projCoord.xy;\n\t\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\t\n\t\t\t// get depth at point\n\t\t\thitPNormal=texture2D(uBackFaceBuffer,pUV).xyz;\n\t\t\t// ************ get the hitpoint normal - END\n\t\t\t\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlastP=p;\n\t\tcurrStepSize*=stepMult;\n\t}\n\t\n\ttransmissionDistance=length(hitPoint-p);\n\t\n\t// ******************** recalc directions\n\tvec3 outward_normal;\n\tvec3 reflected=reflect(refractionDir,hitPNormal);\n\tfloat ni_over_nt;\n\tvec3 refr;\n\t// vec3 refracted;\n\tfloat reflect_prob;\n\tfloat cosine;\n\t\n\tif(dot(refractionDir,hitPNormal)>0.){\n\t\toutward_normal=-hitPNormal;\n\t\tni_over_nt=refractionIndex;\n\t\tcosine=refractionIndex*dot(refractionDir,hitPNormal);\n\t}else{\n\t\toutward_normal=hitPNormal;\n\t\tni_over_nt=1./refractionIndex;\n\t\tcosine=-dot(refractionDir,hitPNormal);\n\t}\n\t\n\t// if (refract2(refractionDir, outward_normal, ni_over_nt, refracted)) {\n\t\tif(refract2(refractionDir,outward_normal,ni_over_nt,refr)){\n\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\tr0*=r0;\n\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t}else{\n\t\t\treflect_prob=1.;\n\t\t}\n\t\t// ******************** recalc directions - END\n\t\t\n\t\t// ******************** get colors\n\t\tvec3 col;\n\t\tvec3 colrefl;\n\t\tvec3 colrefr;\n\t\t// if(refracted.y < 0.0) {\n\t\t\tif(refr.y<0.){\n\t\t\t\t// float t = p.y / abs(refracted.y);\n\t\t\t\t// vec3 planeHitP = p + refracted * t;\n\t\t\t\tfloat t=p.y/abs(refr.y);\n\t\t\t\tvec3 planeHitP=p+refr*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefr=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t}\n\t\t\t\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=p.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=p+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefl=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tcol=colrefl*(reflect_prob*uReflectionFactor)+colrefr*(1.-reflect_prob);\n\t\t\t// ******************** get colors\n\t\t\t\n\t\t\tvec3 transm=vec3(1.);\n\t\t\t// const int steps = 8;\n\t\t\tconst int steps=15;\n\t\t\tfloat step=transmissionDistance/float(steps);\n\t\t\tfloat fc=uExtintionFactor*.07;\n\t\t\t\n\t\t\t// raymarching transmission color\n\t\t\t\n\t\t\t// float noiseStrength = 0.8;\n\t\t\tfloat noiseSpeed=.5;\n\t\t\tfloat noiseTimeSpeed=.5;\n\t\t\t\n\t\t\tfor(int i=0;i<steps;i++){\n\t\t\t\tvec3 np=hitPoint+refractionDir*float(i)*step;\n\t\t\t\t\n\t\t\t\tvec3 nnp=np;\n\t\t\t\tvec3 w=normalize(np-vec3(.75,1.5,0.));\n\t\t\t\tvec3 u=vec3(0.,0.,1.);\n\t\t\t\t// vec3 timeOffset = uTime * normalize(np - vec3(0.75, 1.5, 0.0));\n\t\t\t\tvec3 timeOffset=cos(uTime)*w+sin(uTime)*u;\n\t\t\t\tfloat colorNoiseX=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed);\n\t\t\t\tfloat colorNoiseY=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(15.3278,125.19879,0.));\n\t\t\t\tfloat colorNoiseZ=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(2.6008,78.19879,543.12993));\n\t\t\t\t\n\t\t\t\tfloat targ=length(nnp*.8*uExtinctionFX1.w-vec3(.75,1.5,0.));\n\t\t\t\tfloat targAperture=.25;\n\t\t\t\t\n\t\t\t\t// wave raymarch\n\t\t\t\tif(uExtinctionFX1.z>.5){\n\t\t\t\t\tnnp=np+sin(np.x*2.5+uTime*1.5)*.3;\n\t\t\t\t\ttarg=nnp.y-.85*uExtinctionFX1.w;\n\t\t\t\t}else{\n\t\t\t\t\tnnp=np+vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*1.05;\n\t\t\t\t\tvec3 diff=nnp-vec3(3.3,4.5,0.);\n\t\t\t\t\tfloat angle=(atan(diff.x,diff.y)+PI)/(PI*2.);\n\t\t\t\t\ttarg=length(diff)+sin(angle*32.*PI+uTime*1.5)*.4;\n\t\t\t\t\ttarg*=.475;\n\t\t\t\t\ttargAperture=.5+colorNoiseX*.75;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// what's the color at np?\n\t\t\t\tvec3 col1=uExtintionColor1;\n\t\t\t\tvec3 col2=uExtintionColor2;\n\t\t\t\tif(uExtinctionFX1.x>.5){\n\t\t\t\t\tcol1=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\tif(uExtinctionFX1.y>.5){\n\t\t\t\t\tcol2=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(targ<1.){\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*col2*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ>1.&&targ<1.+targAperture){\n\t\t\t\t\tfloat t=(targ-1.)/targAperture;\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*(col1*t+col2*(1.-t))*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ<(1.+targAperture)*1.85){\n\t\t\t\t\ttransm*=exp(-step*col1*fc);\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t// transm = (col1) * targAperture;\n\t\t\t\t\t// transm *= exp(-step * col1 * uExtintionFactor);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// return col * uExtintionColor2 * transm;\n\t\t\tcol*=transm;\n\t\t\t\n\t\t\treturn col;\n\t\t}\n\t\t\n\t\tvoid main(){\n\t\t\tvec2 screenUV=gl_FragCoord.xy*uScreenSizeInv;\n\t\t\t\n\t\t\tvec3 viewDir=normalize(vWorldSpaceFragPos-uCameraPos);\n\t\t\tvec3 normal=vWorldSpaceNormal;\n\t\t\tfloat refractionIndex=1.5;\n\t\t\t\n\t\t\tvec3 outward_normal;\n\t\t\tvec3 reflected=reflect(viewDir,normal);\n\t\t\tfloat ni_over_nt;\n\t\t\tvec3 refracted;\n\t\t\tfloat reflect_prob;\n\t\t\tfloat cosine;\n\t\t\t\n\t\t\tif(dot(viewDir,normal)>0.){\n\t\t\t\toutward_normal=-normal;\n\t\t\t\tni_over_nt=refractionIndex;\n\t\t\t\tcosine=refractionIndex*dot(viewDir,normal);\n\t\t\t}else{\n\t\t\t\toutward_normal=normal;\n\t\t\t\tni_over_nt=1./refractionIndex;\n\t\t\t\tcosine=-dot(viewDir,normal);\n\t\t\t}\n\t\t\t\n\t\t\tif(refract2(viewDir,outward_normal,ni_over_nt,refracted)){\n\t\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\t\tr0*=r0;\n\t\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t\t}else{\n\t\t\t\treflect_prob=1.;\n\t\t\t}\n\t\t\t\n\t\t\tvec3 reflectedCol;\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=vWorldSpaceFragPos.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=vWorldSpaceFragPos+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\treflectedCol=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tvec3 col=reflectedCol*reflect_prob*uReflectionFactor+getRefractedColor(refracted,vWorldSpaceFragPos,refractionIndex)*(1.-reflect_prob);\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.0, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.15, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.35, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333;\n\t\t\t\n\t\t\t// col = getRefractedColor(refracted, vWorldSpaceFragPos) * (1.0 - reflect_prob);\n\t\t\t// vec3 col = getRefractedColor(refracted, vWorldSpaceFragPos);\n\t\t\t// col = getSkyboxColor(reflected) * reflect_prob * 1.0;\n\t\t\t\n\t\t\t// vec3 col = viewDir;\n\t\t\t// gl_FragColor = vec4(col, 1.0);\n\t\t\t// return;\n\t\t\t\n\t\t\tcol*=pow(2.,uExposure);\n\t\t\tcol=acesFilm(col);\n\t\t\tcol=pow(col,vec3(1./2.2));\n\t\t\t\n\t\t\tgl_FragColor=vec4(col,1.);\n\t\t\t// gl_FragColor = vec4(getSkyboxColor(viewDir), 1.0) * 0.5 + vec4(viewDir * 0.5 + 0.5, 1.0);\n\t\t}"}),{nodes:w}=([c,i]=P((()=>n(W.modelPath,{draco:!0,decoderPath:"./draco/"}))),c=await c,i(),c),Q=w.Scene.getObjectByName(W.modelName),F=new Y(Q,l.value,u.value),V=Q?.clone();V?.traverse((t=>{t instanceof d&&(t.material=C,t.material.side=x)}));const{onAfterLoop:J}=e();return J((({elapsed:t})=>{Q&&C&&(C.uniforms.uCameraPos.value=l.value.position.clone(),C.uniforms.uTime.value=t,F.compute(6),C.uniforms.uBackFaceBuffer.value=F.getBackFaceTexture(),C.uniforms.uFrontFaceBuffer.value=F.getFrontFaceTexture(),u.value.setRenderTarget(null),u.value.autoClear=!1)})),R((()=>{W.extintionFactor&&(C.uniforms.uExtintionFactor.value=W.extintionFactor),W.reflectionFactor&&(C.uniforms.uReflectionFactor.value=W.reflectionFactor),W.exposure&&(C.uniforms.uExposure.value=W.exposure),W.extintionColor1&&(C.uniforms.uExtintionColor1.value=new p("#fff").sub(new p(W.extintionColor1).convertLinearToSRGB())),W.extintionColor2&&(C.uniforms.uExtintionColor2.value=new p("#fff").sub(new p(W.extintionColor2).convertLinearToSRGB())),W.extintionCol1Random&&(C.uniforms.uExposure.value=W.exposure)})),O((()=>W.extintionCol1Random),(t=>{C.uniforms.uExtinctionFX1.value.x=t?1:0}),{immediate:!0}),O((()=>W.extintionCol2Random),(t=>{C.uniforms.uExtinctionFX1.value.y=t?1:0}),{immediate:!0}),(t,e)=>(b(),g("primitive",{object:y(V)},null,8,tt))}}),ot=C({__name:"ssrtGlass",setup(t){const e={clearColor:"#201919",windowSize:!0,toneMapping:h,toneMappingExposure:.8},o=w({size:[20,20],color:"#cbcb96",shadowColor:"#b8b59e",edge:.35}),n=w({extintionFactor:5,reflectionFactor:1,exposure:0,extintionColor1:"rgb(192,123,25)",extintionColor2:"rgb(26, 166, 192)",extintionCol1Random:!1,extintionCol2Random:!1}),a=new W({title:"参数"});return a.addBinding(n,"extintionFactor",{label:"消光系数",min:0,max:10,step:.1}),a.addBinding(n,"reflectionFactor",{label:"反射系数",min:0,max:2,step:.1}),a.addBinding(n,"exposure",{label:"曝光系数",min:-1,max:1,step:.1}),a.addBinding(n,"extintionColor1",{label:"消光颜色一"}),a.addBinding(n,"extintionColor2",{label:"消光颜色二"}),a.addBinding(n,"extintionCol1Random",{label:"随机色1"}),a.addBinding(n,"extintionCol2Random",{label:"随机色2"}),(t,W)=>{const a=Q("TresCanvas");return b(),g(I,null,[F(y(_)),F(a,z(D(e)),{default:V((()=>[W[0]||(W[0]=J("TresPerspectiveCamera",{position:[0,8,-13],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),F(y(r),{enableDamping:""}),W[1]||(W[1]=J("TresAmbientLight",{intensity:10},null,-1)),(b(),K(N,null,{default:V((()=>[F(c,z(D(o)),null,16)])),_:1})),(b(),K(N,null,{default:V((()=>[F(et,B({scale:2},n,{modelPath:"https://opensource.cdn.icegl.cn/model/eCommerce/guanYu.glb",modelName:"statue",skyBoxTexture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"}),null,16,["modelPath","skyBoxTexture"])])),_:1})),(b(),K(N,null,{default:V((()=>[F(i,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"},null,8,["texture"])])),_:1}))])),_:1},16)],64)}}});export{ot as default};
