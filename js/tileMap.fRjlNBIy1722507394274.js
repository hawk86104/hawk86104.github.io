import{C as t,a6 as n,V as e,cv as o,ab as r}from"./three.Brogx0uK1722507394274.js";import{P as i}from"./tweakpane.BCjFYDHx1722507394274.js";import{_ as s}from"./@tweenjs.D-Q_QFL21722507394274.js";import{p as a,$ as c}from"./@tresjs.bNNpPzYW1722507394274.js";import{P as u,b as p,c as l,M as m,T as f,a as g,d}from"./index.BNye1f7F1722507394274.js";import{d as h,a1 as j,w as b,o as w,D as v,u as x,X as y,r as _,e as M,j as z,g as I,f as C,al as B,m as k,F as S}from"./@vue.CFXy4cc91722507394274.js";import{_ as E}from"./raycasterEvent.Dqtq9F5z1722507394274.js";import{a as F}from"./utils.BXGrC4431722507394274.js";import"./@vueuse.CY5GWLAn1722507394274.js";import"./@mapbox.DhjGxiX_1722507394274.js";import"./@amap.B-BVafMU1722507394274.js";import"./three-mesh-bvh.1z_sibLA1722507394274.js";import"./three-custom-shader-material.CeVv8ptL1722507394274.js";import"./object-hash.rImj7O_Q1722507394274.js";import"./jszip.BxDgYeH81722507394274.js";import"./glsl-tokenizer.D7fhDZQE1722507394274.js";import"./glsl-token-string.Bg9nzJXZ1722507394274.js";import"./glsl-token-functions.B8rjVA3n1722507394274.js";import"./@fesjs.HUfyfxyE1722507394274.js";import"./vue-router.B7QAPA1N1722507394274.js";import"./lodash-es.X8SAORSL1722507394274.js";import"./@qlin.BIlp8Yi21722507394274.js";import"./pinia.CScY4tX71722507394274.js";import"./vue-demi.Dq6ymT-81722507394274.js";import"./@babel.DOgRMOv71722507394274.js";import"./@floating-ui.B75jtkXD1722507394274.js";import"./@juggle.BnTvdTVm1722507394274.js";import"./http.BC-lt8K21722507394274.js";import"./axios.DoWuQc__1722507394274.js";import"./color.Bougzuk-1722507394274.js";import"./color-string.DT3Oyd8x1722507394274.js";import"./color-name.DLqo3uu71722507394274.js";import"./simple-swizzle.HbbjYJe51722507394274.js";import"./is-arrayish.C9hGzOml1722507394274.js";import"./color-convert.DZ_Ns8vv1722507394274.js";import"./lodash.p8LYcvW21722507394274.js";import"./naive-ui.Gb7TUCL41722507394274.js";import"./css-render.twsHDkjO1722507394274.js";import"./@emotion.DFFAhID71722507394274.js";import"./@css-render.BdjFBruf1722507394274.js";import"./seemly.CgOHK1MV1722507394274.js";import"./vooks.CAkClnBp1722507394274.js";import"./evtd.BapSadAc1722507394274.js";import"./vueuc.DzcTNa6V1722507394274.js";import"./vdirs.BE3pDTfu1722507394274.js";import"./treemate.qMxf64Xg1722507394274.js";import"./date-fns.k_Totxuc1722507394274.js";import"./date-fns-tz.CIjdPBpU1722507394274.js";import"./async-validator.DSgsWN2H1722507394274.js";import"./utils.CuCN1ddQ1722507394274.js";import"./d3-geo.B-0wAziC1722507394274.js";import"./d3-array.CKz3hFNy1722507394274.js";const A=D;!function(t,n){const e=D,o=P();for(;;)try{if(223093===parseInt(e(158))/1+-parseInt(e(184))/2*(parseInt(e(214))/3)+-parseInt(e(173))/4+-parseInt(e(191))/5+parseInt(e(208))/6*(parseInt(e(162))/7)+-parseInt(e(168))/8+parseInt(e(164))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=D,n=new RegExp(t(175)),e=new RegExp(t(151),"i"),o=W(t(167));n[t(189)](o+t(186))&&e.test(o+t(206))?W():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(196)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=P();return(D=function(t,n){return e[t-=146]})(t,n)}Z(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(181)+t(216)+");")()}catch(e){n=window}return n}(),e=n[t(149)]=n[t(149)]||{},o=["log",t(215),t(188),t(194),"exception",t(156),"trace"];for(let r=0;r<o[t(203)];r++){const n=Z[t(157)].prototype[t(169)](Z),i=o[r],s=e[i]||n;n[t(192)]=Z[t(169)](Z),n[t(185)]=s.toString[t(169)](s),e[i]=n}}))();const T=["object",A(178)];function P(){const t=["opposite","wireframe","console","updateProjectionMatrix","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","maxZoom","useWorker","showTileNo","genSaturation","table","constructor","330850IFslmi","render","set","source","35teoiUG","call","5447826frFlMP","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","dampingFactor","init","2400544hoonQk","bind","camera","debu","isMonochrome","940376Xgsbgl","gger","function *\\( *\\)","tileMapMesh","genBright","rotation","coordType","primitive","return (function() ","action","stateObject","27772QuJoXG","toString","chain","position0","info","test","filter","596600Mpvvxu","__proto__","counter","error","update","apply","innerWidth","innerHeight","Vector3","provider","monochrome","bbox","length","flatShading","lookAt","input","PerspectiveCamera","412926llkzgZ","useStandardMaterial","enableDamping","position","string","value","87ApElao","warn",'{}.constructor("return this")( )',"Color","mapCenter","target","#fff","genContrast"];return(P=function(){return t})()}const Q=h({__name:A(176),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:A(220)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(r,{expose:i}){const d=A,h=r,{renderer:y,scene:_}=a();(new u)[d(179)]=p;const M=new l;M[d(161)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp",M[d(179)]=p;const z=new m;z[d(161)]=d(165),z[d(154)]=!1,z[d(153)]=!0;const I=new f(M,z);if(I.showBoundingBox=!1,I[d(148)]=!1,I[d(204)]=!1,I[d(209)]=!1,I[d(190)]={opposite:h.opposite,monochrome:h[d(172)]?{r:.299,g:.587,b:.114}:null,genBright:h[d(177)],genContrast:h[d(146)],genSaturation:h[d(155)]},h[d(201)]){let n=new t(h[d(201)]);I.filter&&(I.filter[d(201)]={r:n.r,g:n.g,b:n.b})}const C=new g;C[d(200)]=I,C[d(202)]=h[d(202)],C[d(152)]=h[d(152)];const B=new(n[d(207)])(60,window[d(197)]/window[d(198)],1,1e8);B.up=new e(0,1,0),B[d(211)].set(h[d(218)][0],h[d(218)][2],-h[d(218)][1]),B[d(205)](new(n[d(199)])(B.position.x,0,B[d(211)].z-2e3)),C[d(170)]=B;let k=null;j((()=>{const t=d;if(y[t(213)]&&!k&&(k=new o(B,y[t(213)].domElement),k[t(210)]=!0,k[t(166)]=.05,k.minDistance=600,k[t(187)][t(160)](B[t(211)].x,B.position.y,B[t(211)].z),k[t(219)][t(160)](B[t(211)].x,0,B[t(211)].z-2e3)),h[t(177)]&&I[t(190)]&&(I.filter[t(177)]=h[t(177)]),h[t(146)]&&I.filter&&(I.filter[t(146)]=h[t(146)]),h[t(155)]&&I.filter&&(I[t(190)][t(155)]=h[t(155)]),h[t(172)]&&h[t(201)]&&I.filter){let e=new(n[t(217)])(h[t(201)]);I[t(190)][t(201)]={r:e.r,g:e.g,b:e.b}}})),b((()=>h[d(147)]),(t=>{I[d(190)]&&(I.filter.opposite=t)})),b((()=>h[d(172)]),(t=>{const e=d;let o=new(n[e(217)])(h.monochrome);I[e(190)]&&(I[e(190)][e(201)]=t?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:S}=c();return S((()=>{const t=d;if(y.value){s[t(195)](),k&&k.update(),C[t(195)]();const n=50*Math.abs(B[t(211)].y);B.far=n+5e3,B[t(150)](),k.target.y=0,y[t(213)][t(159)](_[t(213)],B)}})),i({camera:B,map:C,orbitControl:k}),(t,n)=>{const e=d;return w(),v(e(180),{object:x(C),rotation:[-Math.PI/2,0,0]},null,8,T)}}});function W(t){function n(t){const e=D;if(typeof t===e(212))return function(t){}[e(157)]("while (true) {}").apply(e(193));1!==(""+t/t)[e(203)]||t%20==0?function(){return!0}.constructor(e(171)+e(174))[e(163)](e(182)):function(){return!1}[e(157)]("debu"+e(174))[e(196)](e(183)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function $(){const t=["prototype","xjk","addBlade","单色滤镜","action","1808dQKWCm",'{}.constructor("return this")( )',"8cWoMCu","gger","__proto__","length","14eVQFuy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","string","bind","26577LchDlb","value","1218981HAYHdz","error","新街口","apply","NoToneMapping","isMonochrome","orbitControl","table","change","30849071JmuYNn","tileMapMeshRef","console","opposite","highp","addBinding","test","116888rBFDlr","tileMapRef","#4688b5","init","camera","饱和度","constructor","chain","genSaturation","exception","滤镜颜色","201720jEljLm","33612JDQVdE","info","genContrast","对比度","debu","toString","log","Vector3","list","stateObject","trace","57410dZwFKB","268KbzMOK"];return($=function(){return t})()}!function(t,n){const e=J,o=$();for(;;)try{if(525286===parseInt(e(304))/1*(-parseInt(e(272))/2)+-parseInt(e(315))/3+-parseInt(e(296))/4*(parseInt(e(295))/5)+-parseInt(e(284))/6*(-parseInt(e(308))/7)+-parseInt(e(302))/8*(parseInt(e(313))/9)+parseInt(e(283))/10+parseInt(e(324))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(318)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(309),"i"),o=H(t(275));n[t(330)](o+t(279))&&e[t(330)](o+"input")?H():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(318)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(t,n){const e=$();return(J=function(t,n){return e[t-=272]})(t,n)}V(void 0,(function(){const t=J;let n;try{n=Function("return (function() "+t(303)+");")()}catch(r){n=window}const e=n.console=n[t(326)]||{},o=[t(290),"warn",t(285),t(316),t(281),t(322),t(294)];for(let i=0;i<o[t(307)];i++){const n=V[t(278)][t(297)].bind(V),r=o[i],s=e[r]||n;n[t(306)]=V[t(312)](V),n[t(289)]=s.toString[t(312)](s),e[r]=n}}))();const K=h({__name:"tileMap",setup(t){const e=J,o=d(118.779958,32.017136),s=[o[0],o[1],5e3],a=y(),c=_({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(274),mapCenter:s}),u=new i({title:"参数"});u[e(329)](c,e(327),{label:"反色"}),u.addBinding(c,"genBright",{label:"高亮",min:.1,max:3,step:.1}),u.addBinding(c,e(286),{label:e(287),min:.1,max:3,step:.1}),u[e(329)](c,e(280),{label:e(277),min:.1,max:3,step:.1}),u[e(329)](c,e(320),{label:e(300)}),u[e(329)](c,"monochrome",{label:e(282)});const p={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};u[e(299)]({view:e(292),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(317),value:e(298)},{text:"牛首山",value:"nss"}],value:"at"}).on(e(323),(t=>{const o=e,r=new(n[o(291)])(p[t.value][0],2e3,-p[t[o(314)]][1]);F(a.value[o(276)],r,a[o(314)].orbitControl,[0,-300],4e3)}));const l=_({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:r,toneMapping:n[e(319)],precision:e(328)});return setTimeout((()=>{const t=e,o=p.at,r=new(n[t(291)])(o[0],1600,-o[1]);F(a.value[t(276)],r,a[t(314)][t(321)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=M("TresCanvas");return w(),v(S,null,[z(r,k(l,{"window-size":""}),{default:I((()=>[(w(),C(B,null,{default:I((()=>[z(Q,k(c,{ref_key:o(325),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),z(E,{tileMapRef:a.value},null,8,[o(273)])],64)}}});function H(t){function n(t){const e=J;if(typeof t===e(311))return function(t){}[e(278)]("while (true) {}")[e(318)]("counter");1!==(""+t/t)[e(307)]||t%20==0?function(){return!0}[e(278)](e(288)+e(305))[e(310)](e(301)):function(){return!1}.constructor(e(288)+e(305))[e(318)](e(293)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
