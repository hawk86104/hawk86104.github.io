import{C as t,_ as n,b as e,cK as o,am as r}from"./three.N4lg2KsY1742297875262.js";import{P as s}from"./tweakpane.yDiyAAkA1742297875262.js";import{m as i,e as a}from"./@tresjs.oW7bfow21742297875262.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d}from"./index.0FexemLU1742297875262.js";import{d as g,a2 as h,w as j,o as b,H as w,u as x,v as y,r as v,e as I,j as _,g as z,m as C,F as M}from"./@vue.NRI7TcgI1742297875262.js";import{_ as S}from"./raycasterEvent.rlZJRjIo1742297875262.js";import{a as B}from"./utils.4sfrZY4f1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";import"./@mapbox.lMdYodhq1742297875262.js";import"./three-mesh-bvh.MBlJRBu_1742297875262.js";import"./three-custom-shader-material.CRQk2ryt1742297875262.js";import"./@fesjs.5gYNbdbo1742297875262.js";import"./vue-router.voBLX0XL1742297875262.js";import"./lodash-es.pklfUAS51742297875262.js";import"./@qlin.yHhFDldE1742297875262.js";import"./pinia.qX8pw0bq1742297875262.js";import"./@floating-ui.BPbuo5Gx1742297875262.js";import"./@juggle.7yjBMqoW1742297875262.js";import"./@tweenjs.J1BAvmPw1742297875262.js";import"./utils.4kjShNCV1742297875262.js";import"./d3-geo.-Vv8Qdf41742297875262.js";import"./d3-array.AhNJy1f41742297875262.js";import"./http.kGojYzPT1742297875262.js";import"./axios.qd3pZFDv1742297875262.js";import"./color.unlsxhs_1742297875262.js";import"./@amap.PUMXk6JR1742297875262.js";import"./color-string.Eusr0KPF1742297875262.js";import"./color-name.w6T0ZzRf1742297875262.js";import"./simple-swizzle.2fzyFlUq1742297875262.js";import"./is-arrayish.NbIE_BHZ1742297875262.js";import"./color-convert.i6t7csdK1742297875262.js";import"./lodash.Sni3gPE51742297875262.js";import"./naive-ui.manN4S4-1742297875262.js";import"./date-fns.nmuTTsCK1742297875262.js";import"./@css-render.kBdy668t1742297875262.js";import"./seemly.vIsyOXn81742297875262.js";import"./css-render.zquHI-751742297875262.js";import"./@emotion.ZD_ZYAgY1742297875262.js";import"./vooks.RjADB7901742297875262.js";import"./evtd.DtfwxtIl1742297875262.js";import"./vueuc.0iJgs3ND1742297875262.js";import"./vdirs.6KLlFIri1742297875262.js";import"./treemate.dcEdf2le1742297875262.js";import"./date-fns-tz.tCUBTt4W1742297875262.js";import"./async-validator.-YBkpS4I1742297875262.js";const k=Z;!function(t,n){const e=Z,o=L();for(;;)try{if(487765===parseInt(e(402))/1*(parseInt(e(422))/2)+parseInt(e(437))/3+-parseInt(e(435))/4*(parseInt(e(421))/5)+parseInt(e(383))/6+-parseInt(e(434))/7+-parseInt(e(413))/8+-parseInt(e(433))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=Z,n=new RegExp(t(404)),e=new RegExp(t(370),"i"),o=P(t(390));n[t(376)](o+t(424))&&e[t(376)](o+"input")?P():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(381)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(391)+t(386)+");")()}catch(e){n=window}return n}(),e=n[t(405)]=n[t(405)]||{},o=[t(426),t(379),t(412),"error",t(384),t(408),t(407)];for(let r=0;r<o[t(389)];r++){const n=E[t(410)][t(380)][t(375)](E),s=o[r],i=e[s]||n;n.__proto__=E.bind(E),n.toString=i.toString.bind(i),e[s]=n}}))();const A=[k(395),k(406)];function Z(t,n){const e=L();return(Z=function(t,n){return e[t-=368]})(t,n)}function L(){const t=["updateProjectionMatrix","set","domElement","bind","test","dampingFactor","position0","warn","prototype","apply","action","5699370QODsBh","exception","bbox",'{}.constructor("return this")( )',"tweenInstance","gger","length","init","return (function() ","wireframe","Vector3","genBright","object","lookAt","filter","mapCenter","abs","monochrome","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","706201sXznRa","render","function *\\( *\\)","console","rotation","trace","table","provider","constructor","value","info","4747808LEnLBk","coordType","source","far","update","useWorker","isMonochrome","Color","182755yGhrIu","2IknUNE","flatShading","chain","PerspectiveCamera","log","innerWidth","innerHeight","tileMapMesh","target","maxZoom","while (true) {}","2802114ctuOaC","1754711NbXUFo","104NWSExm","string","2812470Vyhkho","showBoundingBox","debu","stateObject","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","useStandardMaterial","opposite","position","genContrast","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#fff"];return(L=function(){return t})()}const N=g({__name:k(429),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(371)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:s}){const d=k,g=r,{renderer:y,scene:v}=i(),I=new c;I[d(414)]=u;const _=new p;_[d(415)]=d(401),_[d(414)]=u;const z=new l;z[d(415)]=d(441),z.showTileNo=!1,z[d(418)]=!0;const C=new m(I,z);if(C[d(438)]=!1,C[d(392)]=!1,C[d(423)]=!1,C[d(442)]=!1,C.filter={opposite:g[d(443)],monochrome:g[d(419)]?{r:.299,g:.587,b:.114}:null,genBright:g[d(394)],genContrast:g[d(368)],genSaturation:g.genSaturation},g[d(400)]){let n=new t(g[d(400)]);C[d(397)]&&(C.filter[d(400)]={r:n.r,g:n.g,b:n.b})}const M=new f;M[d(409)]=C,M[d(385)]=g.bbox,M.maxZoom=g[d(431)];const S=new(n[d(425)])(60,window[d(427)]/window[d(428)],1,1e8);S.up=new e(0,1,0),S[d(444)][d(373)](g.mapCenter[0],g[d(398)][2],-g[d(398)][1]),S[d(396)](new(n[d(393)])(S[d(444)].x,0,S[d(444)].z-2e3)),M.camera=S;let B=null;h((()=>{const t=d;y[t(411)]&&!B&&(B=new o(S,y[t(411)][t(374)]),B.enableDamping=!0,B[t(377)]=.05,B.minDistance=600,B[t(378)][t(373)](S[t(444)].x,S[t(444)].y,S[t(444)].z),B[t(430)][t(373)](S.position.x,0,S[t(444)].z-2e3))})),j((()=>[g[d(443)],g[d(419)],g[d(400)]]),(([t,e,o])=>{const r=d;if(C[r(397)]){let s=new(n[r(420)])(o);C[r(397)][r(443)]=t,C[r(397)][r(400)]=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[g[d(394)],g.genContrast,g.genSaturation]),(([t,n,e])=>{const o=d;C.filter&&(C.filter[o(394)]=t,C[o(397)][o(368)]=n,C[o(397)].genSaturation=e)}));const{onLoop:R}=a();return R((()=>{var t;const n=d;if(y[n(411)]){null==(t=g[n(387)])||t.update(),B&&B[n(417)](),M[n(417)]();const e=50*Math[n(399)](S[n(444)].y);S[n(416)]=e+5e3,S[n(372)](),y[n(411)][n(403)](v[n(411)],S)}})),s({camera:S,map:M,orbitControl:B}),(t,n)=>(b(),w("primitive",{object:x(M),rotation:[-Math.PI/2,0,0]},null,8,A))}});function P(t){function n(t){const e=Z;if(typeof t===e(436))return function(t){}[e(410)](e(432))[e(381)]("counter");1!==(""+t/t)[e(389)]||t%20==0?function(){return!0}[e(410)](e(439)+e(388))[e(369)](e(382)):function(){return!1}.constructor("debu"+e(388)).apply(e(440)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=T;!function(t,n){const e=T,o=J();for(;;)try{if(233694===-parseInt(e(225))/1+-parseInt(e(182))/2*(-parseInt(e(184))/3)+-parseInt(e(229))/4+parseInt(e(183))/5+parseInt(e(221))/6+parseInt(e(196))/7*(parseInt(e(200))/8)+-parseInt(e(209))/9*(parseInt(e(219))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(208)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(){const t=["orbitControl","TresCanvas","apply","4689gSPbYG","单色滤镜","Vector3","tweenInstance","stateObject","prototype","牛首山","init","string","SRGBColorSpace","10410wcOvJr","genSaturation","2269584bvrqig","新街口","#4688b5","error","74065RiaAQk","toString","counter","#201919","1695264KadLhg","对比度","table","tileMapMeshRef","manual","genContrast","debu","log","console","monochrome","addBinding","tileMap","trace","gger","genBright","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"2zkRRnu","1408320pBbzvq","517329SyumNI","value","饱和度","chain","tileMapRef","info","constructor","function *\\( *\\)","__proto__","滤镜颜色","input","bind","7oVqMJq","isMonochrome","xjk","test","3532520NoJxYc","addBlade","list","action","camera","length"];return(J=function(){return t})()}!function(){F(this,(function(){const t=T,n=new RegExp(t(191)),e=new RegExp(t(180),"i"),o=V(t(216));n.test(o+t(187))&&e[t(199)](o+t(194))?V():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=J();return(T=function(t,n){return e[t-=167]})(t,n)}O(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(181)+");")()}catch(e){n=window}return n}(),e=n[t(173)]=n.console||{},o=[t(172),"warn",t(189),t(224),"exception",t(167),t(177)];for(let r=0;r<o[t(205)];r++){const n=O.constructor[t(214)].bind(O),s=o[r],i=e[s]||n;n[t(192)]=O[t(195)](O),n.toString=i[t(226)].bind(i),e[s]=n}}))();const D=g({__name:q(176),setup(t){const o=q,i=d(118.779958,32.017136),a=[i[0],i[1],5e3],c=y(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(223),mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p[o(175)](u,"opposite",{label:"反色"}),p[o(175)](u,o(179),{label:"高亮",min:.1,max:3,step:.1}),p[o(175)](u,o(170),{label:o(230),min:.1,max:3,step:.1}),p[o(175)](u,o(220),{label:o(186),min:.1,max:3,step:.1}),p[o(175)](u,o(197),{label:o(210)}),p.addBinding(u,o(174),{label:o(193)});const l={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};p[o(201)]({view:o(202),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:o(222),value:o(198)},{text:o(215),value:"nss"}],value:"at"}).on("change",(t=>{const n=o,r=new e(l[t[n(185)]][0],2e3,-l[t.value][1]);u[n(212)]=B(c[n(185)][n(204)],r,c[n(185)][n(206)],[0,-300],4e3)}));const m=v({clearColor:o(228),antialias:!0,logarithmicDepthBuffer:!0,renderMode:o(169),outputColorSpace:n[o(218)],toneMapping:r});return setTimeout((()=>{const t=o,e=l.at,r=new(n[t(211)])(e[0],1600,-e[1]);u[t(212)]=B(c.value[t(204)],r,c[t(185)][t(206)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=I(e(207));return b(),w(M,null,[_(r,C(m,{"window-size":""}),{default:z((()=>[_(N,C(u,{ref_key:e(168),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1},16),_(S,{tileMapRef:c[e(185)]},null,8,[e(188)])],64)}}});function V(t){function n(t){const e=T;if(typeof t===e(217))return function(t){}[e(190)]("while (true) {}").apply(e(227));1!==(""+t/t)[e(205)]||t%20==0?function(){return!0}.constructor(e(171)+e(178)).call(e(203)):function(){return!1}[e(190)]("debu"+e(178))[e(208)](e(213)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
