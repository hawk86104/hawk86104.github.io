import{V as t,_ as n,h as e}from"./three.wKRaqyB-1731462043013.js";import{m as o}from"./@tresjs.xlnLF3O61731462043013.js";import{d as a,P as r}from"./@pmndrs.A7R_S0Qe1731462043013.js";import{d as s,b as i,w as c,a3 as l,o as u,D as h,J as f,aj as d,ak as p}from"./@vue.-THQH3GC1731462043013.js";const m=y;!function(t,n){const e=y,o=b();for(;;)try{if(936054===parseInt(e(303))/1+-parseInt(e(252))/2+parseInt(e(284))/3+parseInt(e(288))/4*(parseInt(e(281))/5)+parseInt(e(341))/6+parseInt(e(283))/7+-parseInt(e(334))/8)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(309)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){w(this,(function(){const t=y,n=new RegExp(t(251)),e=new RegExp(t(316),"i"),o=I(t(274));n[t(272)](o+t(263))&&e[t(272)](o+t(268))?I():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(309)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function b(){const t=["debu","while (true) {}","castShadow","shadows render start","lightPosition","action","far","progressiveLightMap2","near","randFloatSpread","MathUtils","color","position","Group","11650696cvNdnk","value","frames","accumulativeShadowsCom","constructor","opacity","TresPlaneGeometry","6690828DkldbX","function *\\( *\\)","2251528VDEWJf","size","width","cos","toString","shadow","prototype","clear","#000000","__proto__","sin","chain","error","mapSize","shadows render end","abs","input","gger","height","console","test","shadows plm update","init","left","material","blendWindow","TresSoftShadowMaterial","blend","bind","22180wQuJnl","set","8408148kGCRHh","811806mCTDbm","amount","return (function() ",'{}.constructor("return this")( )',"144PTbEjv","counter","random","trace","bottom","top","gPlane","add","log","length","alphaTest","right","configure","radius","rotate-x","771555qAMuFE","stateObject","camera","table","warn","texture","apply","DirectionalLight","string","exception","intensity","call","bias","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ambient","TresMesh","children"];return(b=function(){return t})()}g(void 0,(function(){const t=y;let n;try{n=Function(t(286)+t(287)+");")()}catch(a){n=window}const e=n[t(271)]=n[t(271)]||{},o=[t(296),t(307),"info",t(264),t(312),t(306),t(291)];for(let r=0;r<o[t(297)];r++){const n=g[t(338)][t(258)][t(280)](g),a=o[r],s=e[a]||n;n[t(261)]=g[t(280)](g),n.toString=s[t(256)].bind(s),e[a]=n}}))();const M=[m(302)];function y(t,n){const e=b();return(y=function(t,n){return e[t-=251]})(t,n)}const x=s({__name:m(337),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(260)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,g=s;let b=i();const{extend:y,scene:x,renderer:I,camera:P}=o();y({SoftShadowMaterial:a});const S={position:(new t).set(g[w(324)].x,g.lightPosition.y,g[w(324)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new r(I[w(335)],x[w(335)],S[w(265)]),_={map:z[w(327)][w(308)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g.blend,alphaTest:g[w(298)],opacity:g[w(339)],color:g[w(331)]},T=new(n[w(333)]);for(let t=0;t<S[w(285)];t++){const t=new(n[w(310)])(16777215,S[w(313)]/S[w(285)]);t[w(322)]=!0,t.shadow[w(315)]=S[w(315)],t[w(257)].camera[w(328)]=S[w(328)],t[w(257)].camera[w(326)]=S.far,t.shadow[w(305)][w(299)]=S[w(253)]/2,t.shadow[w(305)][w(275)]=-S.size/2,t[w(257)][w(305)][w(293)]=S[w(253)]/2,t[w(257)][w(305)][w(292)]=-S[w(253)]/2,t[w(257)][w(265)][w(254)]=S[w(265)],t.shadow[w(265)][w(270)]=S[w(265)],T[w(295)](t)}const v=()=>{const t=w,o=S[t(332)][t(297)]();for(let a=0;a<T.children.length;a++){const r=T[t(319)][a];if(Math[t(290)]()>g[t(317)])r[t(332)][t(282)](S[t(332)].x+n[t(330)].randFloatSpread(S[t(301)]),S[t(332)].y+e[t(329)](S[t(301)]),S[t(332)].z+n[t(330)][t(329)](S[t(301)]));else{let n=Math.acos(2*Math[t(290)]()-1)-Math.PI/2,e=2*Math.PI*Math[t(290)]();r.position[t(282)](Math[t(255)](n)*Math[t(255)](e)*o,Math[t(267)](Math[t(255)](n)*Math[t(262)](e)*o),Math[t(262)](n)*o)}}},j=(t=1)=>{const n=w;x[n(335)][n(295)](T),z.prepare();for(let e=0;e<t;e++)v(),z.update(P[n(335)],g[n(277)]),console[n(296)](n(273),e);x[n(335)].remove(T),z.finish()};c((()=>b[w(335)]),(t=>{const n=w;t&&(z[n(300)](t),z[n(259)](),console[n(296)](n(323)),j(g[n(336)]),console[n(296)](n(266)))}));const k=()=>{z[w(259)](),j(g.frames)};return l((()=>{const t=w;b[t(335)]&&(g[t(339)]&&(b[t(335)][t(276)].opacity=g[t(339)]),g.alphaTest&&(b[t(335)][t(276)].alphaTest=g[t(298)]),g[t(331)]&&b[t(335)].material[t(331)][t(282)](g[t(331)]),g.blend&&(b[t(335)][t(276)][t(279)]=g[t(279)]))})),c((()=>g.lightPosition),(t=>{const n=w;t&&(console[n(296)](g[n(324)]),S[n(332)][n(282)](t.x,t.y,t.z),k())}),{deep:!0}),c((()=>[g[w(336)],g[w(277)],g[w(317)]]),(()=>{k()})),(t,n)=>{const e=w;return u(),h(e(318),{"receive-shadow":"",ref_key:e(294),ref:b,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=f(e(340),{args:[1,1]},null,-1)),f(e(278),d(p(_)),null,16)],8,M)}}});function I(t){function n(t){const e=y;if(typeof t===e(311))return function(t){}[e(338)](e(321))[e(309)](e(289));1!==(""+t/t)[e(297)]||t%20==0?function(){return!0}[e(338)](e(320)+e(269))[e(314)](e(325)):function(){return!1}[e(338)](e(320)+"gger")[e(309)](e(304)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
