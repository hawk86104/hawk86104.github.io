import{e as n,m as t,U as e,s as o,b as r}from"./@tresjs.WiFlZbqU1734492426993.js";import{_ as i,aB as s}from"./three.-W-Avfc61734492426993.js";import{P as a}from"./tweakpane.yHWGBmom1734492426993.js";import{L as c}from"./three-subdivide.ugWSHhrH1734492426993.js";import{d as u,b as l,a3 as f,w as p,o as d,D as m,J as g,aj as h,ak as v,a6 as y,r as b,e as w,f as I,g as _,j as x,u as B,m as M,I as S}from"./@vue.-THQH3GC1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";const T=A;!function(n,t){const e=A,o=C();for(;;)try{if(665962===-parseInt(e(400))/1+-parseInt(e(435))/2*(parseInt(e(413))/3)+parseInt(e(427))/4*(parseInt(e(416))/5)+parseInt(e(443))/6+parseInt(e(403))/7*(-parseInt(e(437))/8)+parseInt(e(418))/9+-parseInt(e(431))/10*(parseInt(e(406))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[A(394)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){j(this,(function(){const n=A,t=new RegExp(n(444)),e=new RegExp(n(421),"i"),o=R(n(393));t[n(404)](o+"chain")&&e[n(404)](o+n(439))?R():o("0")}))()}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function A(n,t){const e=C();return(A=function(n,t){return e[n-=391]})(n,t)}k(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(425)+n(440)+");")()}catch(e){t=window}return t}(),e=t[n(395)]=t[n(395)]||{},o=[n(407),n(401),n(430),n(426),"exception",n(423),n(451)];for(let r=0;r<o.length;r++){const t=k.constructor[n(434)][n(446)](k),i=o[r],s=e[i]||t;t[n(412)]=k[n(446)](k),t[n(415)]=s[n(415)][n(446)](s),e[i]=t}}))();const z=[T(417)];function C(){const n=["srcMesh","14fXdOOx","test","#ffff00","187vOlkkN","log","action","length","TresMesh","debu","__proto__","319152rKBliz","side","toString","4972645ouOQoF","scale","11484207IhFBkP","position","TSGref","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","blending","table","constructor","return (function() ","error","4ntHIlS","FrontSide","gger","info","123560ujVJfR","while (true) {}","AdditiveBlending","prototype","16ZPyeAZ","glowColor","3518584aBcZww","TresShaderMaterial","input",'{}.constructor("return this")( )',"uniforms","counter","5221098anQPjA","function *\\( *\\)","modify","bind","stateObject","geometry","color","Vector3","trace","clone","value","init","apply","console","attributes","Color","subdivision","subVectors","534003fFGbpB","warn"];return(C=function(){return n})()}const F=u({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:T(405)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[T(428)]},blending:{default:i[T(433)]}},setup(e){const o=T,r=e,s=l(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(397)])(r[o(449)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(414)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(422)]};f((()=>{const n=o;if(r[n(402)]&&s[n(392)]&&!s.value[n(448)][n(396)][n(419)]){let t=r[n(402)].geometry.clone();r[n(398)]&&(t=c[n(445)](t,2)),s[n(392)].geometry=t,s[n(392)].position.copy(r[n(402)][n(419)])}r[n(449)]&&(a.uniforms[n(436)][n(392)]=new(i[n(397)])(r[n(449)])),r.c&&(a[n(441)].c[n(392)]=r.c),r.p&&(a[n(441)].p[n(392)]=r.p)})),p((()=>r[o(398)]),(n=>{const t=o;let e=r[t(402)][t(448)][t(391)]();n&&(e=c[t(445)](e,2)),s[t(392)][t(448)]=e})),p((()=>r[o(414)]),(n=>{const t=o;s[t(392)].material[t(414)]=n})),p((()=>r[o(422)]),(n=>{const t=o;s[t(392)].material[t(422)]=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=o;y[n(392)]&&s.value&&(a.uniforms.viewVector[n(392)]=(new(i[n(450)]))[n(399)](y[n(392)].position,s[n(392)][n(419)]))})),(n,t)=>{const e=o;return d(),m(e(410),{ref_key:e(420),ref:s,scale:r[e(417)]},[g(e(438),h(v(a)),null,16)],8,z)}}});function R(n){function t(n){const e=A;if("string"==typeof n)return function(n){}[e(424)](e(432))[e(394)](e(442));1!==(""+n/n)[e(409)]||n%20==0?function(){return!0}[e(424)](e(411)+e(429)).call(e(408)):function(){return!1}.constructor("debu"+e(429)).apply(e(447)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=N;!function(n,t){const e=N,o=E();for(;;)try{if(891719===parseInt(e(240))/1+parseInt(e(244))/2*(-parseInt(e(227))/3)+-parseInt(e(271))/4*(parseInt(e(258))/5)+-parseInt(e(215))/6*(parseInt(e(268))/7)+parseInt(e(246))/8+-parseInt(e(222))/9+-parseInt(e(220))/10*(-parseInt(e(241))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){O(this,(function(){const n=N,t=new RegExp(n(253)),e=new RegExp(n(219),"i"),o=X("init");t.test(o+n(275))&&e[n(237)](o+n(236))?X():o("0")}))()}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(263)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function N(n,t){const e=E();return(N=function(n,t){return e[n-=214]})(n,t)}G(void 0,(function(){const n=N;let t;try{t=Function(n(216)+n(267)+");")()}catch(r){t=window}const e=t[n(243)]=t[n(243)]||{},o=["log",n(269),"info","error",n(257),n(250),n(254)];for(let i=0;i<o[n(225)];i++){const t=G[n(255)][n(232)].bind(G),r=o[i],s=e[r]||t;t.__proto__=G[n(273)](G),t[n(262)]=s.toString[n(273)](s),e[r]=t}}))();const Z=[V(249)],P=[V(249)];function E(){const n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2690gzvOsO","TreBoxRef","12311325BiMrMR","TresAmbientLight","blending","length","gger","363KHXwuW","value","#0ff","BackSide","#00dfff","prototype","TresCanvas","string","side","input","test","TresSphereGeometry","TresMeshRefA","1577725WbleyS","73744mploGf","shader","console","2594VGIjTx","debu","3634712zTXEuw","while (true) {}","action","map","table","scale","addBinding","function *\\( *\\)","trace","constructor","FrontSide","exception","5XUbSDH","NormalBlending","color","subdivision","toString","apply","TresMesh","TresPerspectiveCamera","srcMesh",'{}.constructor("return this")( )',"131656XafQbB","warn","#222","3493708LTaIwt","TresMeshBasicMaterial","bind","AdditiveBlending","chain","instance","174HfljmT","return (function() ","DoubleSide","TresBoxGeometry"];return(E=function(){return n})()}const H=u({__name:V(242),async setup(n){const t=V;let c,u;const f={clearColor:t(270)},p=l(),m=l(),h=l(),v=([c,u]=y((()=>r(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),c=await c,u(),c),T=b({scale:1.6,color:t(231),subdivision:!0,c:1.1,p:1.4,side:i[t(256)],blending:s}),j=new a({title:"参数",expanded:!0});return j[t(252)](T,t(260),{label:"颜色"}),j[t(252)](T,t(251),{label:"大小",min:1,max:3,step:.2}),j[t(252)](T,t(261),{label:"边缘处理"}),j[t(252)](T,"c",{label:"c",min:0,max:2,step:.1}),j.addBinding(T,"p",{label:"p",min:0,max:8,step:.2}),j[t(252)](T,t(235),{options:{FrontSide:i[t(256)],BackSide:i[t(230)],DoubleSide:i[t(217)]}}),j[t(252)](T,t(224),{options:{AdditiveBlending:i[t(274)],NormalBlending:i[t(259)]}}),(n,r)=>{const i=t,s=w(i(233));return d(),I(s,M(f,{"window-size":""}),{default:_((()=>[r[2]||(r[2]=g(i(265),{position:[5,5,5]},null,-1)),r[3]||(r[3]=g(i(223),{intensity:1},null,-1)),x(B(e)),r[4]||(r[4]=g("TresGridHelper",{args:[10,10]},null,-1)),g(i(264),{ref_key:i(239),ref:p,position:[-2,1,0]},[r[0]||(r[0]=g(i(238),{args:[1,32,16]},null,-1)),g(i(272),{map:B(v)[0]},null,8,Z)],512),x(F,M({srcMesh:p.value},T),null,16,[i(266)]),x(B(o),{ref_key:i(221),ref:h,args:[1,1,1],position:[2,1,0]},{default:_((()=>[g(i(272),{map:B(v)[1]},null,8,P)])),_:1},512),h[i(228)]&&h[i(228)][i(214)]?(d(),I(F,M({key:0,srcMesh:h[i(228)][i(214)]},T),null,16,["srcMesh"])):S("",!0),g(i(264),{ref_key:"TresMeshRefB",ref:m,position:[0,1,-2]},r[1]||(r[1]=[g(i(218),{args:[1,1,1,1,1]},null,-1),g(i(272),{color:i(229)},null,-1)]),512),x(F,M({srcMesh:m[i(228)]},T),null,16,[i(266)])])),_:1},16)}}});function X(n){function t(n){const e=N;if(typeof n===e(234))return function(n){}[e(255)](e(247))[e(263)]("counter");1!==(""+n/n)[e(225)]||n%20==0?function(){return!0}.constructor(e(245)+e(226)).call(e(248)):function(){return!1}[e(255)](e(245)+e(226)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
