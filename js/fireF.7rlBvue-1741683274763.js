var t,e,s,n,i,r,o,a,c,h,l,u,p,m,f=Object.defineProperty,d=(t,e,s)=>(((t,e,s)=>{e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as g}from"./pagesShow.vue_vue_type_script_setup_true_lang.TWy2DfJ11741683274763.js";import{_ as w,b as S,V as y,C as v,e as x,M as I,c as P,X as A,cz as F,h as b,l as E,a2 as T,ar as z,an as R,aX as O}from"./three.3wvNjL8W1741683274763.js";import{m as C,e as V}from"./@tresjs.tqalU7S21741683274763.js";import{d as q,b as M,a2 as N,o as _,f as B,g as j,j as U}from"./@vue.NRI7TcgI1741683274763.js";import"./three-custom-shader-material.ikmMqXfn1741683274763.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";const X=Ct;!function(t,e){const s=Ct,n=G();for(;;)try{if(345112===-parseInt(s(550))/1+parseInt(s(186))/2+-parseInt(s(173))/3+parseInt(s(249))/4+-parseInt(s(566))/5+-parseInt(s(341))/6*(parseInt(s(297))/7)+-parseInt(s(530))/8)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const W=class{constructor(t){this[X(542)]=t}};t=X(168),d(W,"Time",new W(X(374))),d(W,t,new W(X(168)));let D=W;class Y{constructor(){this[X(303)]()}[X(303)](){const t=X;this[t(546)]=D.Time,this[t(483)]=1,this[t(143)]=0,this[t(358)]=new(w[t(295)]),this.position=new(w[t(145)]),this.velocity=new S,this[t(322)]=new(w[t(145)]),this[t(439)]=new S,this.rotation=0,this[t(479)]=0,this[t(420)]=new y,this[t(475)]=new v,this.alpha=1,this[t(313)]=new y,this[t(115)]=new(w[t(174)]),this.initialAlpha=1}setAll(t,e,s,n,i,r,o,a,c,h,l,u,p,m,f,d){const g=X;this[g(546)]=t,this[g(483)]=e,this[g(143)]=s,this[g(358)].copy(n),this[g(255)][g(125)](i),this[g(228)][g(125)](r),this[g(322)][g(125)](o),this[g(439)].copy(a),this[g(238)]=c,this[g(479)]=h,this.size=l,this.color[g(125)](u),this[g(572)]=p,this[g(313)][g(125)](m),this[g(115)].copy(f),this[g(484)]=d}[X(301)](t){const e=X;t[e(140)](this[e(546)],this[e(483)],this[e(143)],this[e(358)],this.position,this[e(228)],this[e(322)],this[e(439)],this[e(238)],this[e(479)],this[e(420)],this[e(475)],this.alpha,this[e(313)],this.initialColor,this.initialAlpha)}[X(125)](t){const e=X;this[e(140)](t[e(546)],t[e(483)],t[e(143)],t.sequenceElement,t.position,t[e(228)],t.acceleration,t.normal,t.rotation,t[e(479)],t.size,t[e(475)],t[e(572)],t[e(313)],t[e(115)],t.initialAlpha)}}function G(){const t=["setParticleSequences","addParticleSystem",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"Time","boundingSphere","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","cos","random","multiplyScalar","FragmentVars","onUpdate","emitterInitialized","SrcAlphaFactor","uniformRange","range","InstancedBufferGeometry","uniform int instanced; \n","activeParticleCount","sequenceElements","   vec4 viewPosition; \n","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","stateObject","width","Normal","   float rightSide; \n","   }  else { \n","cameraFar","getParameterJSON",'ComponentContainer::getComponent() -> "index" is out of range.','{}.constructor("return this")( )',"interpolator","onUpdateCallback","getSequence","   } else { \n","positions","advanceActiveParticle","calculatingBoundingSphereFromBox","customIndex","setSimulateInWorldSpace","varying float vSequenceElementT;\n","velocities","Vector2","getInterpolationValuesForTValue","setEmitter","length","fromJSON","baseURI","visible","stateAcceleration","size","InstancedBufferAttribute","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","particleEmitter","initialColors","PointLight","JSONTypeStore::getType() -> typeName does not exist","particleStates","varying float vFragAlpha;\n","bias","getTValue","emitCount","const int MAX_ATLAS_FRAME_SETS = 16; \n","alphas","invert","instanceCount","advanceActiveParticles","attribute vec4 sequenceElement;\n","localT","normal",'Atlas::getFrameSet -> "index" is out of range.',"call","addParticleStateOperator","tempUp","tValue","calculateBoundingSphereFromBox","getTypePath","intensityFlux","element","    \n  #include <logdepthbuf_fragment> \n","particleStateArray","NormalBlending","add","center","texture","typeIDGen","uniform int interpolateAtlasFrames; \n","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","near","varying vec2 vUV1;\n","basePositions","generate","getInterpolatorForTypeID","       float dRightV = rotVecStep.w - rotVecStep.z; \n","   const vec2 uRight = vec2(1.0, 1.0);\n","framesets","lastUpdateTime","       viewPosition = viewMatrix * particlePosition;\n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","test","getParticleStateOperatorCount","  \n #include <logdepthbuf_pars_fragment> \n","normals","getParticleStateArray","sizes","color","getSizes","progressTypes","addSequence","rotationalSpeed","edgeRadius","update","rangeRadius","lifetime","initialAlpha","splice","material","clamp","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","normalizeDirection","getComponent","activateParticle","varying vec3 vFragColor;\n","rotationalSpeeds","toString","lastPositionFlickerTime","far","getState","matrixWorld","       rightSide = baseUV.x; \n","particleStateOperators","scaleY","#include <common>","emissionRate","setState","function *\\( *\\)",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"particleStateInitializers","interpolationElements","input","push","Object3D","indexOf","shadow","iterator","set","initialized","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","remove","   int sequenceStart = int(sequenceElement.z);\n","render","updateMeshBounds","getSystemState","parseTypeString","particlePosition","scaleX","computeBoundingSphere","setDrawRange","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","getParticleCount","1730600XTbSdy","atlas","max","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","getSimulateInWorldSpace","addFrameSet","NotStarted","maximumActiveParticles",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"lastIntensityFlickerTime","speedOffset","emissionRelativeStartTime","name","systemState","lowerIndex","Additive","progressType","} \n","   } \n","simulateInWorldSpace","41984ZhzquP","function","       upperSide = upperSideStep.x + upperSideStep.y;\n","addType","pause","getFrameSet","#include <common> \n","currentTime","   gl_FragColor.a *= vFragAlpha; \n","jsonTypeNames","getParticleSystemRenderer","transformDirection","flushParticleStateToBuffers","normalize","   int nRowYTile = int(SNOverHS);\n","       float uLeftV = rotVecStep.x; \n","222435ECJXGT","toArray","distance","decay","activeCount","   const vec2 left = vec2(-1.0, 0.0);\n","alpha","addParticleStateInitializer","   const vec2 down = vec2(0.0, -1.0);\n","bind","getFragmentShader","reverse","typeName","getPositions","setXY","apply","elementTypeID","colors","getRotations","string","   float sequenceElementF = sequenceElement.x;\n","now","radius","Renderer::init() -> trying to intialize more than once.","getParticleState","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","initialColor","warn","addComponent","initializers","setXYZ","geometry","   float upperSide; \n","setActiveParticleCount","currentSrc","texturePath","copy","getGeometry","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","customIndexes","   int sequenceNumber = int(sequenceElement.y);\n","ParticleSequenceGroup::getSequence -> Invalid ID.",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"attribute vec3 color;\n","attribute float alpha;\n","BufferGeometry","   if (instanced != 1) { \n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","lifetimes","params","positionAdjuster","setAll","relativeToInitialValue","setAttribute","age","getMaximumActiveParticles","Vector3","tValues","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","setVisibile","mesh","boundingBox","fromArray","computeBoundingBox","accelerations","nextIntensityAdjuster","instanced","updateEmitCount","outTypeID","setIntensity","varying vec2 vUV2;\n","castShadow","getSequenceElements","createMaterial","Done","getType","OneMinusSrcAlphaFactor","offsetX","startTime","Sequence","getTypeNames","updateState","constructor","timeActive","399096PXDYEq","Color","directionGenerator","   int firstSequenceElement = int(sequenceElementF); \n","   if (simulateInWorldSpace == 1) { \n","getParticleStateInitializerCount","void main()\n","speedGenerator","attribute float customIndex;\n","lastPositionAdjuster","clone","cameraNear","timeScaledAcceleration","1331020uhLIRG","   const vec2 right = vec2(1.0, 0.0);\n","type","rangeTheta","setTransformInitialDirectionInWorldSpace","initializeState","action","timeScaledVelocity","   vFragColor = color; \n","addElements","uniforms","maxParticleCount","setX","JSONTypeStore::getType() -> namespace does not exist","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","renderer","baseUV","setUsage","matrixWorldNeedsUpdate","particleSystemRenderer","void main() { \n","DynamicDrawUsage","error","setParticleCount","lastIntensityAdjuster","varying float vSequenceElementT; \n","sin","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","scaleZ","Shader","console","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","Default","toJSON","debu","componentContainer","jsonTypes","blending","generateForElement","data","map","mapSize","velocity","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","light","BufferAttribute","baseUVs","Paused","uniformOffset","addElement","counter","ParticleSystem::init() -> trying to intialize more than once.","rotation","getParticleStateOperator","offsetRadius","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","loadJSONParameter","operators","getEmitter","outType","interpolateFrames","   const vec2 dLeft = vec2(-1.0, -1.0);\n","offsetY","567188Azwggm","   vFragAlpha = alpha; \n","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","getActiveParticleCount","rotations","dispose","position","needsUpdate","hasOwnProperty","getColors","hasID","   vec4 color2 = color1; \n","   const vec2 uLeft = vec2(-1.0, 1.0);\n","checkAndAddTypeName","setBoundingBox","value","renderOrder","setOwner","particleSequences","sqrt","height",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"start","speed","allocate","randomGenerator","speedRange","offsetZ","copyState","verticesPerParticle","load","elements","min","components","getTexture","___photonsTypeID","offsetPhi","sequences","AdditiveBlending","transformInitialDirectionInWorldSpace","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","ids","split","prototype","getParticleStateInitializer","intensity","Vector4","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","5593qMCshN","getInterpolatedValue","frustumCulled","ages","copyTo","particleCount","init","interpolateAtlasFrames","addTypeToNamespace","getParticleSequences","attribute vec4 particlePosition;\n","floor","   const vec2 dRight = vec2(1.0, -1.0);\n","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","uniform vec2 uvOffset;\n",'ParticleSystem::getParticleState() -> "index" is out of range.',"initialSize","copyParticleInArray","addElementsFromElementClassAndParameters","particleSystems","   \n  #include <logdepthbuf_vertex> \n","initialSizes","initialAlphas","getFrameSetCount","parent","acceleration","getLight","getSequenceIDs","Mesh","applyMatrix4","source","gger","sub","loop","frameSets","Sphere","getElementCount","offsetTheta","stop","getInterpolatedElement","emissionDuration","   float atlasFrameY = atlasFrames.y; \n","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","offset","198GLguaX","getVertexShader","   const vec2 up = vec2(0.0, 1.0);\n","getTexturePath","Running","   vec2 uv2; \n","upperIndex","   float atlasFrameX = atlasFrames.x; \n","autoClear","generator","trace","   vec2 uv1; \n","startupTime","owner","info","getTypeID","addElementsFromParameters","sequenceElement","activateParticles","join",'ContinuousArray::getElement() -> "index" is out of bounds.',"Box3","camera","updateBounds","   vec2 rotVec; \n","stateVelocity","substr","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","internalUpdate","rangePhi"];return(G=function(){return t})()}class J{constructor(){d(this,e,function(){const t=X,e=new S;return function(s=new(w[t(362)]),n=null){const i=t,r=s[i(281)],o=s[i(532)];for(let t=0;t<this.activeParticleCount;t++){const s=this[i(497)](t);let a=s[i(255)];n&&(e[i(125)](a),e[i(326)](n),a=e);const c=Math.max(s.size.x,s.size.y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,m=a.z-c,f=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=m),(0==t||a.z>o.z)&&(o.z=f)}return s}}()),d(this,s,function(){const t=X,e=new(w[t(145)]),s=new(w[t(145)]),n=new(w[t(145)]);return function(i=new x,r=null){const o=t;let a=0;for(let t=0;t<this.activeParticleCount;t++){const i=this[o(497)](t);let c=i[o(255)];r&&(n[o(125)](c),n.applyMatrix4(r),c=n);const h=Math[o(532)](i.size.x,i[o(420)].y);if(0==t)e[o(125)](c),a=h;else{s.copy(c)[o(329)](e);const t=s.length()+h;if(t>a){const n=(t-a)/2;s[o(563)]().multiplyScalar(n),e[o(452)](s),a+=n}}}return i[o(453)][o(125)](e),i[o(110)]=a,i}}());const t=X;this[t(302)]=0,this[t(388)]=0,this[t(427)]=[]}[X(303)](t){this.setParticleCount(t)}[X(209)](t){const e=X;this[e(302)]!=t&&(this.dispose(),this[e(273)](t)),this[e(302)]=t}[X(122)](t){this.activeParticleCount=t}allocate(t){const e=X;this[e(427)]=[],this.particleCount=t;for(let s=0;s<t;s++)this[e(427)][s]=new Y}[X(254)](){}[X(529)](){return this.particleCount}[X(562)](){}copyState(t,e){const s=X;if(t>=this[s(302)])throw new Error(s(270));if(e>=this.particleCount)throw new Error(s(373));const n=this[s(427)][t],i=this[s(427)][e];n[s(301)](i)}[X(504)](t,e){const s=X;if(t>=this.particleCount)throw new Error('ParticleStateArray::setState() -> "index" is out of range.');return this[s(427)][t].copy(e)}getState(t){if(t>=this.particleCount)throw new Error('ParticleStateArray::getState() -> "index" is out of range.');return this.particleStates[t]}}e=X(152),s=X(526);class L{constructor(t,e,s=0){const n=X;this.start=t,this[n(415)]=e,this.id=s}}class Z{constructor(){const t=X;this[t(286)]={},this[t(290)]=[]}addSequence(t,e,s){const n=X;if(this[n(259)](s))throw new Error(n(457));const i=new L(t,e,s);return this.sequences[s]=i,this[n(290)][n(510)](s),i}[X(403)](t){const e=X;if(!this[e(259)](t))throw new Error(e(130));return this[e(286)][t]}[X(324)](){return this[X(290)]}[X(259)](t){return!!this[X(286)][t]}}class k{constructor(){}[X(191)](t){const e=X;t[e(115)].set(1,1,1),t[e(313)][e(515)](1,1),t[e(484)]=1,t[e(546)]=D[e(374)],t[e(483)]=0,t.age=0,t.sequenceElement[e(515)](0,0,0,0),t.position[e(515)](0,0,0),t.velocity[e(515)](0,0,0),t.acceleration[e(515)](0,0,0),t[e(439)][e(515)](0,0,1),t.rotation=0,t[e(479)]=0,t[e(420)].copy(t[e(313)]),t[e(475)][e(125)](t[e(115)]),t[e(572)]=1}}class H extends k{constructor(){super()}[X(191)](t){super[X(191)](t)}}class ${constructor(){}updateState(){}}class K extends ${constructor(){const t=X;super(),this[t(193)]=new(w[t(145)]),this[t(185)]=new(w[t(145)]),this[t(419)]=new S,this[t(366)]=new(w[t(145)])}updateState(t,e){const s=X;return super[s(170)](t,e),this[s(419)][s(125)](t[s(322)]),this[s(185)][s(125)](this[s(419)]),this[s(185)].multiplyScalar(e),t.velocity[s(452)](this[s(185)]),this[s(366)][s(125)](t[s(228)]),this[s(193)][s(125)](this[s(366)]),this.timeScaledVelocity[s(379)](e),t[s(255)][s(452)](this[s(193)]),t[s(143)]=t[s(143)]+e,t.rotation=t[s(238)]+e*t.rotationalSpeed,!0}}class Q{static[X(487)](t,e,s){const n=X;return Math.min(Math[n(532)](t,e),s)}static[X(557)](){return performance[X(109)]()/1e3}}class tt{constructor(){this.components=[]}[X(117)](t){this.components.push(t)}[X(481)](t,e){const s=X;for(const n of this.components)n[s(481)](t,e)}[X(490)](t){const e=X;if(t>=this[e(282)].length)throw new Error(e(399));return this[e(282)][t]}}const et=class{constructor(t){this.name=t}};n=X(536),i=X(345),r=X(233),o=X(163),d(et,n,new et(X(536))),d(et,i,new et(X(345))),d(et,r,new et("Paused")),d(et,o,new et(X(163)));let st=et;class nt{constructor(t,e){d(this,"updateBounds",function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Ct(103)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){t(this,(function(){const t=Ct,e=new RegExp(t(505)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Bt(t(303));e.test(n+"chain")&&s[t(469)](n+t(509))?Bt():n("0")}))()}();const e=new I;return function(){const t=Ct;let s=null;this[t(288)]&&(s=e,s[t(125)](this[t(354)].matrixWorld)[t(434)]()),this[t(205)].calculatingBoundingSphereFromBox()?(this[t(427)][t(152)](this[t(150)],s),this[t(205)][t(263)](this[t(150)])):(this[t(427)][t(526)](this[t(375)],s),this[t(205)].setBoundingSphere(this[t(375)]))}}());const s=X;this.owner=t,this.owner[s(418)]=!1,this[s(418)]=!0,this[s(205)]=e,this[s(516)]=!1,this.maximumActiveParticles=0,this[s(388)]=0,this.simulateInWorldSpace=!0,this[s(382)]=!1,this[s(423)]=null,this[s(221)]=new tt,this[s(507)]=[],this[s(500)]=[],this.particleStates=null,this[s(543)]=st[s(536)],this[s(267)]=new Z,this[s(402)]=null,this.transformInitialDirectionInWorldSpace=!0,this[s(150)]=new(w[s(362)]),this[s(375)]=new x}init(t){const e=X;if(this[e(516)])throw new Error(e(237));this[e(537)]=t,this[e(205)]?(this[e(205)][e(266)](this[e(354)]),this[e(205)][e(303)](this.maximumActiveParticles,this[e(549)]),this[e(205)][e(409)](this.simulateInWorldSpace),this[e(427)]=this[e(205)][e(473)]()):(this.particleStates=new J,this[e(427)][e(303)](this[e(537)])),this[e(573)](new H),this[e(442)](new K),this[e(516)]=!0}getVisible(){return this[X(418)]}[X(148)](t){return this.visible=t}[X(381)](t){this.onUpdateCallback=t}update(t,e){const s=X;if(this[s(543)]==st[s(345)]){if(this[s(354)].updateWorldMatrix(!0),t=null==t||null==t?Q[s(557)]():t,e=null==e||null==e?t-this[s(466)]:e,this[s(382)]&&this[s(543)]==st[s(345)]){const t=this[s(423)][s(481)](e);t>0&&this[s(359)](t),this[s(436)](e),this[s(402)]&&this.onUpdateCallback(this[s(388)]),this[s(364)]()}this[s(221)][s(481)](t,e),this[s(466)]=t}}[X(520)](t,e){const s=X;if(this.getVisible()&&this.particleSystemRenderer){const n=t.autoClear;t.autoClear=!1,this[s(354)].visible=!0,this[s(354)][s(204)]=!0,this[s(205)][s(520)](this[s(354)],t,e),this[s(354)].visible=!1,t[s(349)]=n}}[X(271)](){const t=X;this[t(543)]!=st[t(536)]&&this[t(543)]!=st[t(233)]||(this[t(543)]=st[t(345)],this[t(167)]=Q[t(557)](),this[t(466)]=this[t(167)])}[X(554)](){const t=X;this[t(543)]==st.Running&&(this[t(543)]=st[t(233)])}[X(335)](){}[X(522)](){return this[X(543)]}setEmitter(t){const e=X;return this.particleEmitter=t,this[e(423)].maximumActiveParticles=this.maximumActiveParticles,this[e(382)]=!0,this[e(423)]}[X(117)](t){const e=X;this.componentContainer[e(117)](t)}getComponent(t){const e=X;return this[e(221)][e(490)](t)}[X(573)](t){return this[X(507)].push(t),t}[X(178)](){return this[X(507)].length}[X(293)](t){const e=X;if(t>=this[e(507)].length)throw new Error(e(538));return this.particleStateInitializers[t]}[X(442)](t){return this[X(500)].push(t),t}[X(470)](){const t=X;return this.particleStateOperators[t(415)]}[X(239)](t){const e=X;if(t>=this.particleStateOperators[e(415)])throw new Error(e(506));return this.particleStateOperators[t]}[X(144)](){return this[X(537)]}[X(252)](){return this.activeParticleCount}[X(112)](t){const e=X;if(t>=this[e(388)])throw new Error(e(312));return this[e(427)][e(497)](t)}getParticleStates(){return this[X(427)]}[X(560)](){return this[X(205)]}[X(534)](){return this[X(549)]}setSimulateInWorldSpace(t){const e=X;this[e(549)]=t,this[e(205)]&&this[e(205)].setSimulateInWorldSpace(this[e(549)])}[X(190)](t){this[X(288)]=t}addParticleSequence(t,e,s=0){const n=X;this[n(267)][n(478)](t,e,s)}[X(306)](){return this[X(267)]}[X(244)](){return this[X(423)]}[X(359)](t){const e=X;if(this[e(543)]==st[e(345)]){const s=Q[e(487)](this[e(388)]+t,0,this[e(537)]);for(let t=this[e(388)];t<s;t++)this[e(491)](t);this[e(388)]=s,this[e(427)][e(122)](this[e(388)])}}[X(491)](t){const e=X;if(this[e(543)]==st[e(345)]){const s=this[e(427)].getState(t);s[e(143)]=0;for(let t=0;t<this[e(507)][e(415)];t++){this[e(507)][t][e(191)](s)}if(this[e(549)]){s.position.applyMatrix4(this[e(354)][e(498)]);const t=s[e(228)][e(415)]();if(this.transformInitialDirectionInWorldSpace){s[e(228)].transformDirection(this.owner[e(498)]).multiplyScalar(t);const n=s.acceleration.length();s[e(322)][e(561)](this.owner.matrixWorld)[e(379)](n)}}this.particleStates[e(562)](t)}}advanceActiveParticles(t){const e=X;if(this.systemState==st.Running){let s=0;for(;s<this[e(388)];){this[e(406)](s,t)?s++:(s<this[e(388)]-1&&this[e(314)](this.activeParticleCount-1,s),this[e(388)]--)}this[e(427)][e(122)](this[e(388)])}}[X(406)](t,e){const s=X;if(this[s(543)]==st.Running){const n=this[s(427)][s(497)](t);for(let t=0;t<this[s(500)][s(415)];t++){const i=this.particleStateOperators[t][s(170)](n,e),r=n[s(483)];if(!i||0!=r&&n[s(143)]>=r)return!1}return this.particleStates[s(562)](t),!0}return!1}[X(314)](t,e){this.particleStates.copyState(t,e),this.particleStates.flushParticleStateToBuffers(e)}static[X(416)](t,e,s){const n=X,i=(t,e,s)=>{e(t);for(const n in t)if(t.hasOwnProperty(n)){const s=t[n];"object"==typeof s&&i(s,e)}};i(t,(t=>{const s=Ct;t[s(188)]&&(t[s(188)]=e[s(523)](t[s(188)]))}));const r=t[n(197)],o=t[n(549)],a=t[n(201)],c=a[n(188)][n(416)](a[n(138)]),h=new(w[n(511)]),l=new nt(h,c,s);l.init(r),l[n(409)](o);const u=t.emitter,p=u[n(188)][n(416)](u[n(138)]);if(l[n(414)](p),t.sequences)for(const m of t[n(286)])l.addParticleSequence(m.start,m[n(415)],m.id);if(t[n(118)])for(const m of t.initializers)l[n(573)](m[n(188)].fromJSON(l,m[n(138)]));if(t.operators)for(const m of t[n(243)]){const t=l[n(442)](m[n(188)][n(416)](l,m[n(138)]));m[n(280)]&&t.addElementsFromParameters(m[n(280)])}return[l,h]}[X(219)](t){const e=X,s=this[e(560)](),n=this[e(244)](),i=this[e(306)](),r=i[e(324)]()[e(226)]((t=>{const s=e,n=i.getSequence(t);return{id:t,start:n[s(271)],length:n[s(415)]}})),o=[],a=this[e(178)]();for(let l=0;l<a;l++){const s=this[e(293)](l);s[e(171)]!==H&&o.push({type:t[e(446)](s[e(171)]),params:s[e(219)](t)})}const c=[],h=this[e(470)]();for(let l=0;l<h;l++){const s=this[e(239)](l);if(s.constructor!==K){const n=s[e(219)](t),i=n.params||n,r=n[e(138)]?n[e(280)]:null,o={type:t[e(446)](s[e(171)]),params:i};r&&(o[e(280)]=r),c[e(510)](o)}}return{maxParticleCount:this[e(144)](),simulateInWorldSpace:this[e(534)](),renderer:{type:t[e(446)](s[e(171)]),params:s[e(219)]()},emitter:{type:t[e(446)](n[e(171)]),params:n[e(219)]()},sequences:r,initializers:o,operators:c}}}class it{constructor(){const t=X;this[t(316)]=[],this[t(353)]=performance.now()/1e3,this[t(466)]=this[t(353)],this[t(221)]=new tt}[X(481)](){const t=X,e=Q[t(557)](),s=e-this[t(466)];for(const n of this[t(316)])n[t(481)](e,s);this[t(221)][t(481)](e,s),this[t(466)]=e}[X(520)](t,e){const s=X;for(const n of this.particleSystems)n[s(520)](t,e)}[X(372)](t){this[X(316)].push(t)}[X(117)](t){const e=X;this[e(221)][e(117)](t)}[X(490)](t){return this[X(221)].getComponent(t)}}class rt{constructor(){const t=X;this[t(516)]=!1,this[t(302)]=0,this.owner=null,this.simulateInWorldSpace=!1}[X(409)](t){this[X(549)]=t}[X(473)](){}setOwner(t){this[X(354)]=t}init(t){const e=X;if(this[e(302)]=t,!this.initialized)return this[e(516)]=!0,!0;throw new Error(e(111))}[X(520)](){}}class ot extends J{constructor(){const t=X;super(),this[t(120)]=null,this[t(477)]=null,this[t(137)]=null,this[t(300)]=null,this[t(389)]=null,this[t(405)]=null,this[t(411)]=null,this[t(153)]=null,this.normals=null,this[t(253)]=null,this.rotationalSpeeds=null,this.sizes=null,this[t(105)]=null,this[t(318)]=null,this[t(424)]=null,this[t(155)]=!1,this[t(278)]=6}[X(303)](t,e=!1){const s=X;this[s(155)]=e,this[s(155)]?this[s(278)]=1:this.verticesPerParticle=6,super[s(303)](t),this.allocate(t)}setParticleCount(t){super[X(209)](t)}[X(122)](t){const e=X;super[e(122)](t),t>0?this[e(155)]?this[e(120)][e(435)]=t:this[e(120)][e(527)](0,this[e(278)]*t):this.instanced?this.geometry[e(435)]=0:this[e(120)][e(527)](0,0)}[X(562)](t){const e=X;if(t>=this[e(302)])throw new Error(e(131));const s=this[e(497)](t),n=t*this[e(278)];for(let i=0;i<this[e(278)];i++)this[e(137)][e(198)](n+i,s[e(483)]),this.lifetimes.needsUpdate=!0,this[e(300)][e(198)](n+i,s[e(143)]),this[e(300)][e(256)]=!0,this[e(389)].setXYZW(n+i,s[e(358)].x,s[e(358)].y,s[e(358)].z,s[e(358)].w),this[e(389)][e(256)]=!0,this[e(405)][e(119)](n+i,s[e(255)].x,s[e(255)].y,s[e(255)].z),this.positions.needsUpdate=!0,this[e(411)][e(119)](n+i,s[e(228)].x,s[e(228)].y,s[e(228)].z),this[e(411)][e(256)]=!0,this[e(153)][e(119)](n+i,s.acceleration.x,s[e(322)].y,s[e(322)].z),this.accelerations[e(256)]=!0,this[e(472)][e(119)](n+i,s[e(439)].x,s[e(439)].y,s[e(439)].z),this[e(472)][e(256)]=!0,this[e(253)][e(198)](n+i,s.rotation),this[e(253)][e(256)]=!0,this.rotationalSpeeds[e(198)](n+i,s[e(479)]),this[e(493)][e(256)]=!0,this[e(474)][e(102)](n+i,s[e(420)].x,s[e(420)].y),this[e(474)][e(256)]=!0,this.colors[e(119)](n+i,s.color.r,s[e(475)].g,s[e(475)].b),this.colors[e(256)]=!0,this[e(433)][e(198)](n+i,s[e(572)]),this[e(433)][e(256)]=!0,this[e(318)][e(102)](n+i,s[e(313)].x,s[e(313)].y),this.initialSizes.needsUpdate=!0,this[e(319)][e(198)](n+i,s[e(484)]),this.initialAlphas.needsUpdate=!0}[X(277)](t,e){const s=X;super.copyState(t,e),this[s(562)](e)}[X(504)](t,e){const s=X;if(t>=this[s(302)])throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super[s(504)](t,e),this[s(562)](t)}[X(101)](){return this.positions}[X(476)](){return this[X(474)]}[X(106)](){return this[X(253)]}[X(161)](){return this[X(389)]}[X(258)](){return this[X(105)]}[X(126)](){return this[X(120)]}[X(273)](t){const e=X;super[e(273)](t);const s=(t,s)=>{const n=e;return this.instanced?new(w[n(421)])(t,s):new(w[n(231)])(t,s)},n=this[e(278)]*this[e(302)];if(this[e(155)]){const t=new(w[e(134)]),s=new Float32Array(18);this[e(460)]=new(w[e(231)])(s,3),t[e(142)](e(255),this[e(460)]),this[e(460)][e(256)]=!0,this.basePositions[e(119)](0,-1,1,0),this[e(460)][e(119)](1,-1,-1,0),this[e(460)][e(119)](2,1,1,0),this[e(460)][e(119)](3,-1,-1,0),this[e(460)][e(119)](4,1,-1,0),this[e(460)].setXYZ(5,1,1,0);const n=new Float32Array(12);this[e(232)]=new(w[e(231)])(n,2),t[e(142)](e(202),this.baseUVs),this.baseUVs.needsUpdate=!0,this[e(232)].setXY(0,0,1),this[e(232)][e(102)](1,0,0),this[e(232)][e(102)](2,1,1),this[e(232)][e(102)](3,0,0),this[e(232)][e(102)](4,1,0),this[e(232)].setXY(5,1,1);const i=new Float32Array(6);this[e(128)]=new P(i,1),t[e(142)]("customIndex",this[e(128)]),this.customIndexes[e(256)]=!0,this[e(128)][e(198)](0,0),this.customIndexes[e(198)](1,1),this[e(128)][e(198)](2,3),this.customIndexes[e(198)](3,1),this[e(128)][e(198)](4,2),this[e(128)].setX(5,3),this.geometry=(new(w[e(386)]))[e(125)](t),this[e(120)][e(435)]=0}else{this[e(120)]=new(w[e(134)]);const t=new Float32Array(n);this[e(128)]=new(w[e(231)])(t,1),this[e(120)][e(142)](e(408),this[e(128)]),this[e(128)][e(256)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this[e(278)];this[e(128)].setX(t,0),this[e(128)][e(198)](t+1,1),this[e(128)][e(198)](t+2,3),this[e(128)][e(198)](t+3,1),this[e(128)].setX(t+4,2),this[e(128)][e(198)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),o=new Float32Array(4*n),a=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),d=new Float32Array(n),g=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(405)]=s(a,3),this.positions[e(203)](A),this.geometry.setAttribute(e(524),this[e(405)]),this[e(137)]=s(i,1),this[e(137)][e(203)](w[e(207)]),this[e(120)].setAttribute(e(483),this[e(137)]),this.ages=s(r,1),this.ages[e(203)](w[e(207)]),this.geometry[e(142)](e(143),this[e(300)]),this[e(389)]=s(o,4),this[e(389)][e(203)](w[e(207)]),this[e(120)][e(142)](e(358),this.sequenceElements),this[e(411)]=s(c,3),this[e(411)].setUsage(w[e(207)]),this[e(120)][e(142)]("velocity",this[e(411)]),this[e(153)]=s(h,3),this[e(153)][e(203)](w[e(207)]),this[e(120)][e(142)](e(322),this.accelerations),this[e(472)]=s(l,3),this.normals[e(203)](w[e(207)]),this[e(120)][e(142)](e(439),this.normals),this[e(253)]=s(u,1),this[e(253)][e(203)](w[e(207)]),this[e(120)][e(142)](e(238),this[e(253)]),this[e(493)]=s(p,1),this.rotationalSpeeds.setUsage(A),this.geometry[e(142)](e(479),this[e(493)]),this.sizes=s(m,2),this[e(474)][e(203)](w[e(207)]),this.geometry[e(142)](e(420),this.sizes),this[e(105)]=s(f,3),this.colors[e(203)](w[e(207)]),this[e(120)][e(142)](e(475),this[e(105)]),this[e(433)]=s(d,1),this[e(433)].setUsage(w[e(207)]),this[e(120)][e(142)](e(572),this[e(433)]),this[e(318)]=s(g,2),this[e(318)][e(203)](w[e(207)]),this[e(120)][e(142)](e(313),this[e(318)]),this[e(424)]=s(S,3),this[e(424)].setUsage(A),this[e(120)][e(142)](e(115),this[e(424)]),this[e(319)]=s(y,1),this.initialAlphas[e(203)](w[e(207)]),this.geometry[e(142)](e(484),this.initialAlphas)}[X(254)](){const t=X;super.dispose(),this.geometry&&(this[t(120)][t(254)](),this.geometry=null)}}class at{constructor(t,e,s,n,i){const r=X;this[r(415)]=t,this.x=e,this.y=s,this[r(393)]=n,this[r(269)]=i}}class ct{constructor(t,e){const s=X;this[s(454)]=t,this[s(124)]=e,this[s(331)]=[]}getTexture(){return this.texture}[X(344)](){return this[X(124)]}[X(320)](){const t=X;return this[t(331)][t(415)]}[X(535)](t,e,s,n,i){const r=X;this[r(331)][r(510)](new at(t,e,s,n,i))}[X(555)](t){const e=X;if(t>=this[e(331)][e(415)])throw new Error(e(440));return this[e(331)][t]}}const ht=class t extends rt{constructor(t,e,s=!1,n=F,i=!0,r){const o=X;super(),d(this,"updateMeshBounds",function(){const t=X,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=Ct,s=function(){const t=Ct;let e;try{e=Function("return (function() "+t(400)+");")()}catch(s){e=window}return e}(),n=s[t(216)]=s[t(216)]||{},i=["log",t(116),t(355),t(208),"exception","table",t(351)];for(let r=0;r<i[t(415)];r++){const s=e[t(171)][t(292)][t(575)](e),o=i[r],a=n[o]||s;s.__proto__=e[t(575)](e),s[t(494)]=a[t(494)][t(575)](a),n[o]=s}}))();const s=new(w[t(145)]);return function(){const e=t,n=this[e(450)].getGeometry();if(this[e(445)]){n[e(150)]||(n.boundingBox=new b),n[e(150)][e(125)](this.boundingBox),!n[e(375)]&&(n.boundingSphere=new x),s.x=(this[e(150)][e(281)].x+this.boundingBox[e(532)].x)/2,s.y=(this[e(150)][e(281)].y+this.boundingBox[e(532)].y)/2,s.z=(this[e(150)][e(281)].z+this[e(150)][e(532)].z)/2;const t=this[e(150)][e(532)].x-s.x,i=this[e(150)].max.y-s.y,r=this.boundingBox[e(532)].z-s.z,o=Math.max(Math[e(532)](t,i),r);n[e(375)][e(453)][e(125)](s),n.boundingSphere[e(110)]=Math[e(268)](2*o*o)}else n[e(375)]||(n[e(375)]=new(w[e(332)])),n.boundingSphere[e(125)](this[e(375)])}}()),this[o(155)]=t,this[o(450)]=null,this[o(486)]=null,this[o(149)]=null,this[o(531)]=e,this[o(304)]=s,this.blending=n,this.boundingBox=new(w[o(362)]),this.boundingSphere=new(w[o(332)]),this[o(445)]=i,this[o(265)]=r}setOwner(t){super[X(266)](t)}[X(473)](){return this[X(450)]}[X(409)](t){const e=X;super[e(409)](t),this[e(486)]&&(this.material[e(196)].simulateInWorldSpace[e(264)]=t?1:0,this[e(486)].uniformsNeedUpdate=!0)}[X(407)](){return this.calculateBoundingSphereFromBox}[X(263)](t){const e=X;this[e(150)].copy(t),this[e(149)]&&this.updateMeshBounds()}setBoundingSphere(t){const e=X;this.boundingSphere[e(125)](t),this.mesh&&this[e(521)]()}[X(520)](t,e,s){e[X(520)](t,s)}[X(303)](t){const e=X;super[e(303)](t)&&(this[e(450)]=new ot,this.particleStateArray[e(303)](t,this[e(155)]),this.material=this.createMaterial(null,null,null,!0,!1),this.material[e(223)]=this[e(223)],this.mesh=new(w[e(325)])(this[e(450)][e(126)](),this.material),this.mesh[e(299)]=!0,void 0!==this.renderOrder&&(this[e(149)][e(265)]=this[e(265)]),this[e(521)](),this[e(354)][e(452)](this.mesh))}[X(254)](){const t=X;this[t(450)][t(254)]()}[X(162)](e,s,n,i,r){const o=X,a=[...Array(16).keys()][o(226)]((t=>new(w[o(295)])));if(this[o(531)])for(let t=0;t<this[o(531)][o(320)]();t++){const e=this[o(531)].getFrameSet(t);a[t]=new(w[o(295)])(e.x,e.y,e[o(393)],e[o(269)])}const c=this[o(531)]?this[o(531)][o(283)]():null,h=this[o(304)],l=this[o(549)],u=this[o(155)]?1:0,p={atlasFrameSet:{type:"v4v",value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(w[o(412)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object.assign(n,p),e=e||t[o(215)][o(342)](r),s=s||t.Shader[o(576)](i,r),new E({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:w[o(451)],blendDstAlpha:w[o(165)],blendSrcAlpha:w[o(383)],depthTest:!0,depthWrite:!1})}static[X(416)](e){const s=X,n=e[s(531)],i=(new T)[s(279)](n[s(124)]),r=new ct(i,n.texturePath),o=n[s(465)];for(const t of o)r[s(535)](t[s(415)],t.x,t.y,t.width,t[s(269)]);const a=new t(e[s(155)],r,n[s(246)]);return"Additive"==e[s(223)]?a[s(223)]=w[s(287)]:a.blending=w[s(451)],a}[X(219)](t){const e=X;t=t||(t=>{const e=Ct;if(t[e(124)])return t[e(124)];const s=t[e(283)]()[e(327)];if(s){const t=s[e(225)];if(t){const s=t[e(417)],n=t[e(123)];return n[e(512)](s)>=0?n[e(367)](s[e(415)],n[e(415)]-s[e(415)]):n}}});const s=[];for(let i=0;i<this[e(531)].getFrameSetCount();i++){const t=this[e(531)][e(555)](i);s.push(t)}let n=e(394);this.material.blending===w[e(287)]&&(n=e(545));return{instanced:this[e(155)],blending:n,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this[e(531)]),framesets:s}}}};d(ht,"Shader",{get VertexVars(){const t=X;return[t(432),t(422),"uniform int interpolateAtlasFrames; \n","uniform int simulateInWorldSpace; \n",t(387),"attribute vec2 baseUV;\n",t(181),t(307),"attribute float rotation;\n","attribute vec2 size;\n",t(437),t(132),t(133),t(459),t(159),t(492),"varying float vFragAlpha;\n",t(211)][t(360)]("\n")},get FragmentVars(){const t=X;return[t(456),"uniform sampler2D atlasTexture;\n",t(311),t(459),t(159),t(492),t(428),t(410)].join("\n")},getVertexShader(t){const e=X;let s=[e(502),this.VertexVars].join("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   float atlasFrameWidth = atlasFrames.z; \n","   float atlasFrameHeight = atlasFrames.w; \n",e(348),e(338),e(113),"   int maxRowSections = int(1.0 / atlasFrameWidth); \n",e(528),e(368),e(376),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(564),e(136),e(488),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","} \n",e(179),"{\n",e(187),e(343),e(571),e(574),e(464),e(261),e(247),e(309),e(390),e(177),e(467),e(404),e(310),e(548),e(108),e(129),e(519),"   int sequenceLength = int(sequenceElement.w);\n",e(114),e(352),e(346),e(200),e(176),"   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n",e(296),e(127),e(241),"   } \n","   float atlasFrameWidth = atlasFrames.z; \n","   float atlasFrameHeight = atlasFrames.w; \n","   float rotMag = rotation; \n",e(147),e(395),e(121),"   if (instanced != 1) { \n","       rightSide = step(2.0, customIndex); \n",e(517),e(552),e(396),e(499),"       upperSide = baseUV.y; \n",e(548),"   float uvXOffset = atlasFrameWidth * rightSide; \n","   float uvYOffset = atlasFrameHeight * upperSide; \n",e(365),e(135),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(565),e(468),"       float uRightV = rotVecStep.z; \n",e(463),e(251),e(396),"       rotVec = position.xy; \n ","   } \n",e(217),e(213),"   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(194),e(250)][e(360)]("\n"),t&&(s+=e(317)),s+=e(547),s},getFragmentShader(t,e){const s=X;let n=s(556)+this[s(380)]+"\n";return e&&(n+=s(471)),n+=s(206),e&&(n+=s(449)),n+=t?[s(339),s(260),s(289),s(229),s(558)][s(360)]("\n"):[s(533),"   vec4 color2 = color1; \n",s(289),s(229),s(558)][s(360)]("\n"),n+="}\n",n}});let lt=ht;class ut{constructor(){const t=X;this[t(541)]=0,this[t(337)]=0,this.emitCount=0,this.age=0,this.timeActive=0,this[t(570)]=0,this[t(537)]=0}update(t){return this[X(369)](t),0}[X(369)](t){const e=X;return this.age+=t,this[e(172)]=Math.max(this[e(143)]-this.emissionRelativeStartTime,0),this[e(143)]>=this.emissionRelativeStartTime&&(0==this[e(337)]||this[e(172)]<=emissionDuration)}[X(156)](t){this[X(431)]+=t}}class pt extends ut{constructor(){super(),this.emissionMinimum=0,this.emissionMaximum=0}}class mt extends pt{constructor(t=0){const e=X;super(),this[e(503)]=t}[X(481)](t){const e=X;if(this[e(369)](t)){const t=this.emissionRate*this[e(172)]-this[e(431)];if(t>=1){const s=Math[e(308)](t);return this[e(156)](s),s}}return 0}static[X(416)](t){const e=X,s=new mt;return s[e(503)]=t[e(503)]||0,s}toJSON(){return{emissionRate:this[X(503)]}}}const ft=class t{constructor(t){this[X(542)]=t}static[(a=X(218),c=X(412),h=X(145),l=X(295),u=X(174),X(356))](e){const s=X;let n=t[s(218)];return e===y?n=t[s(412)]:e===w[s(145)]?n=t[s(145)]:e===w[s(295)]?n=t[s(295)]:e===w[s(174)]&&(n=t.Color),n}static[X(242)](t,e){const s=X;switch(e){case y:return(new y).fromArray(t);case S:return(new S).fromArray(t);case w[s(295)]:return(new z)[s(151)](t);case w[s(174)]:return(new(w[s(174)]))[s(151)](t)}return t}};d(ft,a,new ft(X(218))),d(ft,c,new ft(X(412))),d(ft,h,new ft(X(145))),d(ft,l,new ft("Vector4")),d(ft,u,new ft(X(174)));let dt=ft;class gt{constructor(t){const e=X;this[e(245)]=t,this[e(157)]=dt.getTypeID(t)}}class wt extends gt{constructor(t,e,s,n,i,r){const o=X;super(t),this[o(385)]=e,this.offset=s,this[o(384)]=n,this[o(234)]=i,this[o(563)]=r}[X(461)](t){const e=X,s=Math.random()*this.uniformRange;switch(this[e(157)]){case dt[e(218)]:t=Math[e(378)]()*this[e(385)]+this[e(340)],this[e(563)]&&(t=t<0?-1:1);break;case dt.Vector2:t.set(this.generateForElement(s,"x"),this[e(224)](s,"y"));break;case dt[e(145)]:t.set(this.generateForElement(s,"x"),this[e(224)](s,"y"),this[e(224)](s,"z"));break;case dt[e(295)]:t[e(515)](this.generateForElement(s,"x"),this[e(224)](s,"y"),this[e(224)](s,"z"),this[e(224)](s,"w"))}return this.normalize&&t[e(563)](),t}[X(224)](t,e){const s=X;return t+Math[s(378)]()*this.range[e]+this[s(340)][e]+this[s(234)]}[X(183)](){const t=X;return new wt(this.outType,this.range,this[t(340)],this[t(384)],this[t(234)],this[t(563)])}static getParameterJSON(t){const e=X;return t instanceof y||t instanceof w[e(145)]||t instanceof w[e(295)]||t instanceof w[e(174)]?t[e(567)]():t}static fromJSON(t){const e=X;return new wt(t[e(188)],dt[e(242)](t[e(385)],t.type),dt[e(242)](t[e(340)],t.type),t[e(384)]||0,t[e(234)]||0,t[e(563)])}[X(219)](t){const e=X,s={range:wt[e(398)](this[e(385)]),offset:wt[e(398)](this[e(340)]),uniformRange:this[e(384)],uniformOffset:this[e(234)]},n=t[e(446)](this.range[e(171)]);return null!=n&&(s[e(188)]=n),{type:t[e(446)](wt),params:s}}}class St extends k{constructor(t,e,s,n,i){const r=X;super(),this[r(385)]=t,this[r(340)]=e,this[r(384)]=s,this.uniformOffset=n,this[r(563)]=i,this.generator=new wt(0,this[r(385)],this[r(340)],this.uniformRange,this.uniformOffset,this[r(563)])}[X(191)](t){const e=X;t[e(483)]=this[e(350)][e(461)]()}static[X(416)](t,e){const s=X;return new St(e[s(385)],e[s(340)],e[s(384)],e[s(234)],e.normalize)}toJSON(){const t=X;return{range:this[t(385)],offset:this[t(340)],uniformRange:this.uniformRange,uniformOffset:this.uniformOffset,normalize:this[t(563)]}}}class yt extends k{constructor(t){const e=X;super(),this[e(350)]=t[e(183)]()}initializeState(t){const e=X;t[e(238)]=this[e(350)][e(461)](t.rotation)}static[X(416)](t,e){const s=X,n=e[s(350)][s(188)][s(416)](e.generator[s(138)]);return new yt(n)}[X(219)](t){const e=X;return{generator:this.generator[e(219)](t)}}}class vt extends k{constructor(t,e,s,n,i){const r=X;super(),this[r(385)]=t,this.offset=e,this[r(384)]=s,this.uniformOffset=n,this[r(563)]=i,this[r(350)]=new wt(0,this[r(385)],this[r(340)],this.uniformRange,this.uniformOffset,this[r(563)])}[X(191)](t){const e=X;t[e(479)]=this[e(350)][e(461)]()}static[X(416)](t,e){const s=X;return new vt(e.range,e.offset,e.uniformRange,e[s(234)],e[s(563)])}[X(219)](){const t=X;return{range:this.range,offset:this[t(340)],uniformRange:this[t(384)],uniformOffset:this[t(234)],normalize:this.normalize}}}class xt extends k{constructor(t,e){const s=X;super(),this[s(274)]=new wt(w[s(145)],t,e,0,0,!1)}initializeState(t){const e=X;this[e(274)][e(461)](t[e(255)])}static[X(416)](t,e){const s=X;return new xt((new(w[s(145)])).fromArray(e[s(385)]),(new(w[s(145)]))[s(151)](e[s(340)]))}[X(219)](){const t=X;return{range:this.randomGenerator[t(385)].toArray(),offset:this.randomGenerator[t(340)][t(567)]()}}}class It extends k{constructor(t){const e=X;super(),this[e(350)]=t.clone()}[X(191)](t){const e=X;this[e(350)][e(461)](t[e(420)]),t[e(313)][e(125)](t[e(420)])}static[X(416)](t,e){const s=X,n=e[s(350)][s(188)][s(416)](e.generator[s(138)]);return new It(n)}[X(219)](t){return{generator:this[X(350)].toJSON(t)}}}class Pt extends k{constructor(t,e,s,n,i=!0){const r=X;super(),this.directionGenerator=new wt(w[r(145)],t,e,0,0,!0),this.speedGenerator=new wt(0,s,n,0,0,!1),this[r(489)]=i}[X(191)](t){const e=X;this.directionGenerator.generate(t[e(228)]),this.normalizeDirection&&t[e(228)][e(563)](),t[e(228)][e(379)](this[e(180)].generate())}static[X(416)](t,e){const s=X;return new Pt((new(w[s(145)])).fromArray(e.range),(new S)[s(151)](e.offset),e[s(275)],e[s(540)])}[X(219)](){const t=X;return{range:this[t(175)].range[t(567)](),offset:this[t(175)].offset.toArray(),speedRange:this.speedGenerator.range,speedOffset:this[t(180)].offset}}}class At extends k{constructor(t,e=!1){const s=X;super(),this[s(371)](t),this[s(577)]=e}[X(371)](t){this.particleSequences=t}[X(191)](t){const e=X,s=this.particleSequences[e(324)](),n=s[e(415)]*Math[e(378)](),i=s[Math[e(308)](n)],r=this[e(267)][e(403)](i),o=t[e(358)];this.reverse?o.x=r.length-1:o.x=r.start,o.y=r.id,o.z=r[e(271)],o.w=r[e(415)],t.progressType=D[e(168)]}static[X(416)](t,e){const s=X;return new At(t.getParticleSequences(),e[s(577)])}[X(219)](){return{reverse:this.reverse}}}class Ft extends ${constructor(t,e,s=!1,n=!1){const i=X;super(),this[i(267)]=t,this[i(272)]=e,this[i(330)]=s,this[i(577)]=n}[X(170)](t,e){const s=X,n=t.sequenceElement,i=this[s(267)][s(403)](n.y),r=e/this[s(272)];if(this[s(577)]){if(n.x-=r,n.x<i.start&&(n.x=i[s(271)]+i.length,!this[s(330)]))return!1}else if(n.x+=r,n.x>=i[s(271)]+i[s(415)]&&(n.x=i[s(271)],!this[s(330)]))return!1;return!0}static fromJSON(t,e){const s=X;return new Ft(t[s(306)](),e[s(272)],e[s(330)],e[s(577)])}toJSON(){const t=X;return{speed:this[t(272)],loop:this[t(330)],reverse:this[t(577)]}}}const bt=class t{constructor(e,s){d(this,p,function(){const e=X,s={lowerIndex:0,upperIndex:0,localT:0},n=new y,i=new(w[e(145)]),r=new(w[e(295)]),o=new(w[e(174)]),a=n=>(i,r,o,a)=>{const c=e;t[c(413)](o,i,s),n[c(125)](r[s.upperIndex])[c(379)](s[c(438)]),a[c(125)](r[s.lowerIndex])[c(379)](1-s[c(438)])[c(452)](n)};return function(c){const h=e;switch(c){case dt[h(218)]:return(e,n,i)=>{const r=h;return t[r(413)](i,e,s),(1-s[r(438)])*n[s[r(544)]]+s[r(438)]*n[s[r(347)]]};case dt.Vector2:return a(n);case dt[h(145)]:return a(i);case dt[h(295)]:return a(r);case dt[h(174)]:return a(o)}}}());const n=X;this[n(280)]=[],this[n(146)]=[],this[n(104)]=dt[n(356)](e),this[n(401)]=s||this.getInterpolatorForTypeID(this.elementTypeID)}*[Symbol[X(514)]](){const t=X;let e=0;for(;e<this.getElementCount();)yield{element:this.elements[e],tValue:this[t(146)][e]},e++}getElementCount(){const t=X;return this[t(280)][t(415)]}getElement(t){const e=X;if(t>=this[e(333)]())throw new Error(e(361));return this[e(280)][t]}[X(430)](t){const e=X;if(t>=this[e(333)]())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this[e(146)][t]}[X(235)](t,e){const s=X;this[s(280)][s(510)](t),this[s(146)][s(510)](e)}[X(336)](t,e){const s=X;return this[s(401)](t,this[s(280)],this[s(146)],e)}static getInterpolationValuesForTValue(t,e,s){const n=X,i=t[n(415)];if(0===i)return s[n(544)]=-1,s.upperIndex=-1,void(s[n(438)]=-1);let r=0,o=-1,a=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)o++,a++;s[n(544)]=Q[n(487)](o,0,i-1),s.upperIndex=Q[n(487)](a,0,i-1);const c=t[o],h=t[a];s[n(438)]=(e-c)/(h-c)}};p=X(462);let Et=bt;class Tt extends ${constructor(t,e=!1){const s=X;super(),this[s(141)]=e,this[s(508)]=new Et(t)}[X(235)](t,e){const s=X;this[s(508)][s(235)](t,e)}[X(195)](t){const e=X;for(const s of t)this[e(508)][e(235)](s[0],s[1])}[X(315)](t,e){for(const s of e){const[...e]=s[0];this.interpolationElements.addElement(new t(...e),s[1])}}[X(298)](t,e){const s=X;let n=0;switch(t[s(546)]){case D[s(374)]:n=0!=t[s(483)]?t[s(143)]/t[s(483)]:t[s(143)];break;case D.Sequence:n=t.sequenceElement.x/t[s(358)].w}return this.interpolationElements[s(336)](n,e)}}class zt extends Tt{constructor(t=!1){super(0,t)}[X(357)](t){super.addElements(t)}updateState(t){const e=X;return this[e(141)]?t.alpha=t[e(484)]*this[e(298)](t,t[e(572)]):t[e(572)]=this[e(298)](t,t[e(572)]),!0}static[X(416)](t,e){return new zt(e[X(141)])}toJSON(){const t=X;return{params:{relativeToInitialValue:this[t(141)]},elements:[...this.interpolationElements].map((e=>[e[t(448)],e[t(444)]]))}}}class Rt extends Tt{constructor(t=!1){super(w[X(412)],t),d(this,"updateState",function(){const t=X,e=new(w[t(412)]);return function(s){const n=t;return this[n(298)](s,e),this.relativeToInitialValue?s[n(420)].set(s[n(313)].x*e.x,s[n(313)].y*e.y):s[n(420)][n(125)](e),!0}}())}[X(357)](t){const e=X;super[e(315)](w[e(412)],t)}static[X(416)](t,e){return new Rt(e[X(141)])}toJSON(){const t=X;return{params:{relativeToInitialValue:this[t(141)]},elements:[...this.interpolationElements][t(226)]((e=>[e[t(448)].toArray(),e[t(444)]]))}}}class Ot extends Tt{constructor(t=!1){super(w[X(174)],t),d(this,m,function(){const t=X,e=new(w[t(174)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this.relativeToInitialValue?s[n(475)].setRGB(s[n(115)].r*e.r,s[n(115)].g*e.g,s[n(115)].b*e.b):s[n(475)][n(125)](e),!0}}())}addElementsFromParameters(t){const e=X;super[e(315)](w[e(174)],t)}static fromJSON(t,e){return new Ot(e[X(141)])}[(m=X(170),X(219))](){const t=X;return{params:{relativeToInitialValue:this[t(141)]},elements:[...this.interpolationElements].map((e=>[e[t(448)][t(567)](),e[t(444)]]))}}}function Ct(t,e){const s=G();return(Ct=function(t,e){return s[t-=100]})(t,e)}class Vt extends ${constructor(t){const e=X;super(),this.generator=t[e(183)]()}[X(357)](t){const e=X;super[e(315)](THREE[e(145)],t)}[X(170)](t){const e=X;return this[e(350)][e(461)](t[e(322)]),!0}static fromJSON(t,e){const s=X,n=e[s(350)].type[s(416)](e.generator[s(138)]);return new Vt(n)}[X(219)](t){const e=X;return{generator:this[e(350)][e(219)](t)}}}class qt extends gt{constructor(t,e,s,n,i,r,o,a,c,h,l,u){const p=X;super(w[p(145)]),this[p(189)]=t,this[p(334)]=e,this[p(370)]=s,this[p(285)]=n,this.rangeRadius=i,this[p(240)]=r,this[p(525)]=o,this[p(501)]=a,this[p(214)]=c,this.offsetX=h,this.offsetY=l,this[p(276)]=u,this[p(443)]=(new(w[p(145)]))[p(515)](0,1,0)}generate(t){const e=X;this[e(443)][e(515)](0,1,0);const s=Math[e(378)]()*this[e(189)]+this[e(334)],n=Math.random()*this.rangePhi+this[e(285)],i=Math[e(377)](s),r=Math[e(212)](s),o=Math[e(377)](n),a=Math[e(212)](n);t.set(i,0,-r),t.multiplyScalar(o),this[e(443)][e(379)](a),t[e(452)](this[e(443)]),t[e(563)]();const c=Math.random()*this[e(482)]+this[e(240)];t[e(379)](c),t.x*=this[e(525)],t.y*=this[e(501)],t.z*=this.scaleZ,t.x+=this.offsetX,t.y+=this[e(248)],t.z+=this[e(276)]}[X(183)](){const t=X;return new qt(this[t(189)],this[t(334)],this[t(370)],this[t(285)],this[t(482)],this.offsetRadius,this[t(525)],this.scaleY,this[t(214)],this[t(166)],this[t(248)],this.offsetZ)}static[X(416)](t){const e=X;return new qt(t[e(189)],t[e(334)],t[e(370)],t.offsetPhi,t.rangeRadius,t[e(240)],t[e(525)],t[e(501)],t[e(214)],t.offsetX,t[e(248)],t[e(276)])}[X(219)](t){const e=X;return{type:t[e(446)](qt),params:{rangeTheta:this[e(189)],offsetTheta:this[e(334)],rangePhi:this[e(370)],offsetPhi:this.offsetPhi,rangeRadius:this[e(482)],offsetRadius:this[e(240)],scaleX:this.scaleX,scaleY:this[e(501)],scaleZ:this.scaleZ,offsetX:this[e(166)],offsetY:this.offsetY,offsetZ:this[e(276)]}}}}class Mt{constructor(){}}class Nt extends Mt{constructor(t,e,s,n,i,r,o=void 0){const a=X;super(),this[a(354)]=null,this.light=null,this[a(466)]=performance.now()/1e3,this[a(539)]=this[a(466)],this[a(495)]=this[a(466)],this[a(210)]=1,this[a(154)]=1,this[a(182)]=new(w[a(145)]),this.positionAdjuster=new(w[a(145)]),this[a(294)]=1,this[a(447)]=2,this[a(321)]=t,this.init(t,e,s,n,i,r,o)}[X(303)](t,e,s,n,i,r,o=void 0){const a=X;this.owner=new(w[a(511)]),t.add(this[a(354)]),n=n||new(w[a(174)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!o;return this[a(230)]=new(w[a(425)])(16777215,2,0,1),this.light.color[a(125)](n),this[a(230)][a(568)]=i,this.light[a(569)]=r,this.light[a(160)]=c,c&&(this[a(230)][a(513)][a(227)][a(393)]=o.mapSize||512,this[a(230)][a(513)][a(227)][a(269)]=o.mapSize||512,this[a(230)][a(513)][a(363)][a(458)]=o[a(184)]||.5,this[a(230)][a(513)][a(363)][a(496)]=o[a(397)]||500,this[a(230)][a(513)][a(429)]=o[a(429)]||1e-4,this[a(230)][a(513)][a(110)]=o[a(480)]||1),this.owner[a(452)](this[a(230)]),this[a(294)]=e,this[a(447)]=s,this.light}[X(254)](){const t=X;this[t(321)][t(518)](this.owner)}[X(323)](){return this.light}[X(158)](t){this[X(294)]=t}[X(481)](t){const e=X,s=t-this[e(539)],n=1/8,i=this[e(447)];if(s>n){this[e(539)]=t;let s=1+2*(Math[e(378)]()-.5)*i*n;const r=s-this[e(210)];s=this.lastIntensityAdjuster+r,this[e(210)]=this[e(154)],this[e(154)]=Q[e(487)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this.lastIntensityAdjuster+t*this.nextIntensityAdjuster;this[e(230)].intensity=i*this[e(294)]}if(t-this[e(495)]>.0625){this[e(495)]=t;const s=t-this.lastUpdateTime;this[e(139)][e(515)](Math.random()-.5,Math[e(378)]()-.5,Math.random()-.5),this.positionAdjuster[e(379)](s),this[e(139)].add(this[e(182)]),this.positionAdjuster[e(379)](.5),this[e(354)].position[e(125)](this[e(139)]),this[e(182)][e(125)](this.positionAdjuster),this[e(466)]=t}}}class _t{constructor(){const t=X;this.jsonTypes={default:{}},this.jsonTypeNames={},this[t(455)]=0}[X(553)](t,e){this.addTypeToNamespace("default",t,e)}[X(305)](t,e,s){const n=X;if(!this[n(222)][t])throw new Error(n(391));if(this[n(222)][t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this[n(262)](s,e,t)&&(this[n(222)][t][e]=s)}addNamespace(t,e){const s=X;if(this[s(222)][t])throw new Error("JSONTypeStore::addNamespace() -> namespace already exists");this[s(222)][t]=e;for(const n in e)if(!e[s(257)]||e.hasOwnProperty(n)){const i=e[n];this[s(262)](i,n,t)}}[X(262)](t,e,s){const n=X;if(typeof t===n(551)){const i=this[n(455)]++;t[n(284)]=i,this[n(559)][i]={namespace:s,typeName:e}}}getType(t,e){const s=X;if(!this[s(222)][t])throw new Error(s(199));if(!this[s(222)][t][e])throw new Error(s(426));return this[s(222)][t][e]}[X(169)](t){const e=X;return this.jsonTypeNames[t[e(284)]]}[X(446)](t){const e=X,s=this[e(169)](t);if(s)return s.namespace+"."+s[e(100)]}parseNamespaceAndTypename(t){const e=X,s=t[e(291)]("."),n=s[0];s[e(485)](0,1);return{namespace:n,typeName:s[e(360)](".")}}parseTypeString(t){const e=X,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(164)](s,n)}}function Bt(t){function e(t){const s=Ct;if(typeof t===s(107))return function(t){}[s(171)]("while (true) {}")[s(103)](s(236));1!==(""+t/t)[s(415)]||t%20==0?function(){return!0}[s(171)](s(220)+s(328))[s(441)](s(192)):function(){return!1}.constructor("debugger")[s(103)](s(392)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const jt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Vt,AnimatedSpriteRenderer:lt,Atlas:ct,BaseParticleStateInitializer:H,BaseParticleStateOperator:K,BoxPositionInitializer:xt,ColorInterpolatorOperator:Ot,ConstantParticleEmitter:mt,FlickerLight:Nt,JSONTypeStore:_t,LifetimeInitializer:St,Manager:it,OpacityInterpolatorOperator:zt,ParticleStateArray:J,ParticleSystem:nt,ParticleSystemState:st,RandomGenerator:wt,RandomVelocityInitializer:Pt,Renderer:rt,RotationInitializer:yt,RotationalSpeedInitializer:vt,SequenceInitializer:At,SequenceOperator:Ft,SizeInitializer:It,SizeInterpolatorOperator:Rt,SphereRandomGenerator:qt},Symbol.toStringTag,{value:"Module"})),Ut=Yt;function Xt(){const t=["addElements","addParticleStateOperator","SizeInitializer","exception","stateObject","scale","SizeInterpolatorOperator","ConstantParticleEmitter","action","trace","RandomGenerator","Atlas","input","table","function *\\( *\\)","addComponent","info","setSimulateInWorldSpace","constructor","BoxPositionInitializer","string","SphereRandomGenerator","addNamespace","RandomVelocityInitializer","146628TgsbTu","56jhVYEl","return (function() ","debu","261850WXVtOH","addParticleSequence","3250323MEjmmS","warn","AnimatedSpriteRenderer","FlickerLight","start","prototype","Color","Manager","__proto__","addParticleStateInitializer","console","AccelerationOperator","length","2635432GrDCJN","counter","255241HAUJlN","apply","copy","getParticleSequences","addParticleSystem","TextureLoader","value","ColorInterpolatorOperator","bind","load","error","Vector3","THREE","test","RotationalSpeedInitializer","addFrameSet","Object3D","Vector2","toString","ParticleSystem","add","RotationInitializer","1279700MvhgPc","fireF","6XyRJHr","while (true) {}","position","setEmitter","render","addElementsFromParameters","Photons","2WByqzG","192509cIJzKK","OpacityInterpolatorOperator","LifetimeInitializer","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Xt=function(){return t})()}!function(t,e){const s=Yt,n=Xt();for(;;)try{if(333719===parseInt(s(176))/1*(-parseInt(s(175))/2)+parseInt(s(205))/3+parseInt(s(224))/4+parseInt(s(209))/5*(parseInt(s(168))/6)+-parseInt(s(226))/7*(-parseInt(s(206))/8)+-parseInt(s(211))/9+-parseInt(s(166))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Yt(227)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Wt(this,(function(){const t=Yt,e=new RegExp(t(195)),s=new RegExp(t(180),"i"),n=Jt("init");e.test(n+"chain")&&s[t(239)](n+t(193))?Jt():n("0")}))()}();const Dt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Yt(t,e){const s=Xt();return(Yt=function(t,e){return s[t-=163]})(t,e)}Dt(void 0,(function(){const t=Yt,e=function(){const t=Yt;let e;try{e=Function(t(207)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),s=e[t(221)]=e[t(221)]||{},n=["log",t(212),t(197),t(236),t(184),t(194),t(190)];for(let i=0;i<n[t(223)];i++){const e=Dt[t(199)][t(216)][t(234)](Dt),r=n[i],o=s[r]||e;e[t(219)]=Dt[t(234)](Dt),e.toString=o[t(244)][t(234)](o),s[r]=e}}))();const Gt=q({__name:Ut(167),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Ut,s=t,n=new(jt[e(218)]),i=new _t;i[e(203)](e(238),w),i[e(203)](e(174),jt);const{renderer:r,camera:o,scene:a}=C(),c=new(w[e(237)])(...s[e(170)]);n[e(230)](((t,s)=>{const n=e,i=new R;i.position.copy(s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new(w[n(231)]))[n(235)](o),c=new(jt[n(192)])(a,o);c[n(241)](1,0,0,1,1);const h=new(jt[n(213)])(!0,c,!0,O),l=new(jt[n(163)])(i,h,r[n(232)]);l[n(179)](150),l[n(171)](new(jt[n(188)])(6));const u=new wt(w[n(243)],new(w[n(243)])(0,0),new(w[n(243)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new(jt[n(178)])(3,1,0,0,!1)),l[n(220)](new(jt[n(183)])(u)),l[n(220)](new(jt[n(200)])(new(w[n(237)])(.05*t,0,.05*t),new(w[n(237)])(-.025*t,0,-.025*t))),l[n(220)](new(jt[n(204)])(new(w[n(237)])(.4*t,.5*t,.4*t),new(w[n(237)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(182)](new zt)[n(181)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new Ot(!0))[n(173)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(jt[n(202)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(182)](new(jt[n(222)])(p)),l[n(198)](!0),l[n(215)](),l})(s[e(186)],c)),n[e(230)](((t,s)=>{const n=e,i=new(w[n(242)]);i[n(170)][n(228)](s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new T)[n(235)](o),c=new(jt[n(192)])(a,o);c[n(241)](18,0,0,.125,.25);const h=new(jt[n(213)])(!0,c,!0),l=new nt(i,h,r[n(232)]);l.init(50),l.setEmitter(new(jt[n(188)])(10)),l[n(210)](0,18);const u=l.getParticleSequences();l[n(220)](new(jt[n(178)])(0,0,0,0,!1)),l[n(220)](new(jt[n(165)])(new(jt[n(191)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(220)](new(jt[n(240)])(1,-1,0,0,!1)),l.addParticleStateInitializer(new(jt[n(183)])(new(jt[n(191)])(w[n(243)],new(w[n(243)])(.25*t,.25*t),new(w[n(243)])(.5*t,.5*t),0,0,!1))),l[n(220)](new(jt[n(200)])(new(w[n(237)])(.05*t,0,.05*t),new(w[n(237)])(-.025*t,0,-.025*t))),l[n(220)](new(jt[n(204)])(new(w[n(237)])(.05*t,.4*t,.05*t),new(w[n(237)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(220)](new At(u)),l.addParticleStateOperator(new Ft(u,.07,!1));l.addParticleStateOperator(new(jt[n(177)])).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(182)](new(jt[n(187)])(!0))[n(173)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(182)](new(jt[n(233)])(!0))[n(173)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(182)](new(jt[n(222)])(new(jt[n(191)])(w[n(237)],new(w[n(237)])(0,0,0),new(w[n(237)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(215)](),l})(s[e(186)],c)),n[e(230)](((t,s)=>{const n=e,i=new(w[n(242)]);i.position[n(228)](s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new(w[n(231)]))[n(235)](o),c=new ct(a,o);c[n(241)](16,0,0,212/1024,.25);const h=new(jt[n(213)])(!0,c,!0),l=new(jt[n(163)])(i,h,r[n(232)]);l[n(179)](20),l[n(171)](new(jt[n(188)])(5)),l[n(210)](0,16);const u=l[n(229)]();l[n(220)](new St(0,0,0,0,!1)),l[n(220)](new(jt[n(165)])(new wt(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(220)](new(jt[n(240)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(220)](new It(new(jt[n(191)])(w[n(243)],new(w[n(243)])(0,0),new(w[n(243)])(0,0),.2*t,.65*t,!1))),l[n(220)](new(jt[n(200)])(new S(.1*t,0,.1*t),new(w[n(237)])(-.05*t,0,-.05*t))),l[n(220)](new(jt[n(204)])(new(w[n(237)])(.02*t,.4*t,.02*t),new S(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l.addParticleStateInitializer(new At(u)),l.addParticleStateOperator(new Ft(u,.1,!1));l.addParticleStateOperator(new(jt[n(177)]))[n(181)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l.addParticleStateOperator(new(jt[n(187)])(!0))[n(173)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l.addParticleStateOperator(new(jt[n(233)])(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l.addParticleStateOperator(new Vt(new(jt[n(191)])(S,new(w[n(237)])(0,0,0),new(w[n(237)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(215)](),l})(s[e(186)],c)),n[e(196)](((t,s=10)=>{const n=e,i=new(w[n(242)]);a[n(232)][n(164)](i),i[n(170)][n(228)](t);return new(jt[n(214)])(i,s,2,(new(w[n(217)])).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=V();return h((()=>{const t=e;n.update(),n[t(172)](r[t(232)],o[t(232)])})),(t,e)=>null}});function Jt(t){function e(t){const s=Yt;if(typeof t===s(201))return function(t){}[s(199)](s(169))[s(227)](s(225));1!==(""+t/t)[s(223)]||t%20==0?function(){return!0}[s(199)](s(208)+"gger").call(s(189)):function(){return!1}[s(199)]("debugger")[s(227)](s(185)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Lt=kt;!function(t,e){const s=kt,n=$t();for(;;)try{if(286466===-parseInt(s(307))/1+parseInt(s(298))/2+parseInt(s(313))/3+parseInt(s(293))/4+-parseInt(s(302))/5*(-parseInt(s(316))/6)+-parseInt(s(292))/7*(parseInt(s(323))/8)+parseInt(s(328))/9*(-parseInt(s(321))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Zt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[kt(297)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function kt(t,e){const s=$t();return(kt=function(t,e){return s[t-=291]})(t,e)}!function(){Zt(this,(function(){const t=kt,e=new RegExp(t(304)),s=new RegExp(t(310),"i"),n=Qt(t(315));e[t(311)](n+t(319))&&s[t(311)](n+t(291))?Qt():n("0")}))()}();const Ht=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[kt(297)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function $t(){const t=["counter","set","10542QZOdmV","perspectiveCameraRef","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","toString","1454595CUaCyE","table","init","225138elcTHM","bind","fireF","chain","value","850tovpOq","context","16rvTRls","console","debu","$refs","trace","25227aoqQSk",'{}.constructor("return this")( )',"__proto__","string","input","1764658CcAPqZ","86156GBxyjp","return (function() ","warn","gger","apply","916002YeRdgm","length","position","constructor","10unyTCV","log","function *\\( *\\)"];return($t=function(){return t})()}Ht(void 0,(function(){const t=kt,e=function(){const t=kt;let e;try{e=Function(t(294)+t(329)+");")()}catch(s){e=window}return e}(),s=e[t(324)]=e[t(324)]||{},n=[t(303),t(295),t(309),"error","exception",t(314),t(327)];for(let i=0;i<n[t(299)];i++){const e=Ht[t(301)].prototype.bind(Ht),r=n[i],o=s[r]||e;e[t(330)]=Ht.bind(Ht),e.toString=o[t(312)][t(317)](o),s[r]=e}}))();const Kt=q({__name:Lt(318),setup(t){const e=M();return N((()=>{const t=kt;e[t(320)]&&(e.value[t(326)].tcRef?e[t(320)][t(326)].tcRef[t(322)].camera[t(320)].position[t(306)](580,360,500):e[t(320)].$refs.perspectiveCameraRef&&e[t(320)][t(326)][t(308)][t(300)][t(306)](580,360,500))})),(t,s)=>(_(),B(g,{ref_key:"pagesShowRef",ref:e},{ability:j((()=>[U(Gt,{position:[0,20,10],scale:40})])),_:1},512))}});function Qt(t){function e(t){const s=kt;if(typeof t===s(331))return function(t){}.constructor("while (true) {}")[s(297)](s(305));1!==(""+t/t)[s(299)]||t%20==0?function(){return!0}[s(301)](s(325)+s(296)).call("action"):function(){return!1}.constructor(s(325)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Kt as default};
