import{aJ as n,bt as t,_ as e,h as o,T as r,ad as i,c4 as s,c2 as a,c3 as c,c9 as l,bU as u}from"./three.fIUcjaNz1730883607874.js";import{e as f,m as p,U as v}from"./@tresjs.C3WO4ZW41730883607874.js";import{d,o as g,D as m,J as h,u as b,F as y,w as x,j as w,x as _,e as I,g as T,aj as U,ak as S}from"./@vue.Cfu43fwq1730883607874.js";import{_ as D}from"./@fesjs.DQmvwjPe1730883607874.js";import"./@vueuse.BSum2YDk1730883607874.js";import"./vue-router.BDLCs4Ld1730883607874.js";import"./lodash-es.BBTWvufR1730883607874.js";import"./@qlin.BIlp8Yi21730883607874.js";import"./pinia.DKpn0rzI1730883607874.js";import"./vue-demi.Dq6ymT-81730883607874.js";import"./@babel.BBWsvBIa1730883607874.js";import"./@floating-ui.B75jtkXD1730883607874.js";import"./@juggle.BnTvdTVm1730883607874.js";var B="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const z=P;!function(n,t){const e=P,o=C();for(;;)try{if(410257===parseInt(e(269))/1+-parseInt(e(203))/2+-parseInt(e(236))/3+-parseInt(e(240))/4*(-parseInt(e(216))/5)+parseInt(e(207))/6+parseInt(e(242))/7*(-parseInt(e(262))/8)+-parseInt(e(243))/9*(-parseInt(e(209))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=P,t=new RegExp(n(224)),e=new RegExp(n(249),"i"),o=A(n(268));t[n(214)](o+"chain")&&e[n(214)](o+n(223))?A():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(258)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=P;let t;try{t=Function(n(205)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(257)]=t[n(257)]||{},o=[n(212),"warn",n(270),n(241),n(255),"table",n(227)];for(let i=0;i<o.length;i++){const t=N[n(226)].prototype.bind(N),r=o[i],s=e[r]||t;t[n(271)]=N[n(232)](N),t.toString=s[n(266)][n(232)](s),e[r]=t}}))();const j=[z(253),z(259)],M=[z(259)],F=["rotateX"];function P(n,t){const e=C();return(P=function(n,t){return e[n-=203]})(n,t)}function C(){const n=["apply","material","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","noise","3048sVOUGw","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","toString","#include <begin_vertex>","init","342591ntlrBO","info","__proto__","MeshBasicMaterial","length","globalBloom","1605040VOWNLP","TresMesh","return (function() ","\n    ","1918536hFsgSa","string","5230nzAlqc","call","uniforms","log","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","test","instData","730iahFNQ","gger","cos","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","counter","MeshLambertMaterial","randFloatSpread","input","function *\\( *\\)","#include <fog_fragment>","constructor","trace","globalUniforms","\n      uniform vec4 luces[","lucesPlane","randFloat","bind","fragmentShader","push","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","114597lyEqyB","while (true) {}","action","sin","3396ZzoKYB","error","1946OBshTG","9819BdHbie","attributes","debu","vertexShader","luces","MathUtils","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","replace","Vector4","setAttribute","geometry","TresPlaneGeometry","exception","#include <dithering_fragment>","console"];return(C=function(){return n})()}const k=100,R=d({__name:z(230),props:{globalUniforms:{}},setup(i){const s=z,a=i,c=[],l=[],u=new n(1,36,18),p=(new t).copy(u);p.instanceCount=k;const v=[];for(let n=0;n<k;n++){let n=e[s(248)][s(222)](49),t=o[s(222)](49),r=e[s(248)].randFloat(.0625,.125),i=e[s(248)][s(231)](1,3);v[s(234)](n,t,r),l[s(234)](new(e[s(251)])(n,t,i,e[s(248)][s(231)](1,2))),c[s(234)](new(e[s(251)])(n,t,r,i))}p[s(252)](s(215),new r(new Float32Array(v),3));const d=new(e[s(272)])({color:16720418,onBeforeCompile:n=>{const t=s;n[t(211)].noiseTex=a[t(228)][t(261)],n[t(246)]=(t(235)+n[t(246)]+t(206))[t(250)](t(267),t(264))}}),x={luces:{value:c}},w=new(e[s(221)])({color:2363940,onBeforeCompile:n=>{const t=s;n[t(211)][t(247)]=x.luces,n[t(211)][t(274)]=a[t(228)][t(274)],n[t(211)].noiseTex=a[t(228)].noise,n.vertexShader=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      "+n[t(246)]+t(206))[t(250)](t(267),t(260)),n[t(233)]=(t(229)+k+t(263)+n.fragmentShader+t(206)).replace(t(225),t(265)+k+t(213))[t(250)](t(256),t(219))}}),{onLoop:_}=f();return _((({elapsed:n})=>{const t=s;for(let e=0;e<k;e++){const o=l[e];let r=(o.y+n+25)%50-25;c[e].y=r,c[e].w=(Math[t(239)](n*o.w*(e%3+1))*Math[t(218)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,p[t(244)][t(215)].setY(e,r)}p[t(244)][t(215)].needsUpdate=!0})),(n,t)=>{const e=s;return g(),m(y,null,[h(e(204),{geometry:b(p),material:b(d)},null,8,j),h("TresMesh",{material:b(w)},[h(e(254),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,F)],8,M)],64)}}});function A(n){function t(n){const e=P;if(typeof n===e(208))return function(n){}[e(226)](e(237))[e(258)](e(220));1!==(""+n/n)[e(273)]||n%20==0?function(){return!0}[e(226)](e(245)+e(217))[e(210)](e(238)):function(){return!1}[e(226)](e(245)+e(217))[e(258)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=V;!function(n,t){const e=V,o=L();for(;;)try{if(287621===parseInt(e(425))/1*(-parseInt(e(402))/2)+-parseInt(e(418))/3+parseInt(e(411))/4*(-parseInt(e(419))/5)+parseInt(e(405))/6+-parseInt(e(397))/7*(-parseInt(e(375))/8)+parseInt(e(391))/9*(-parseInt(e(387))/10)+parseInt(e(398))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){G(this,(function(){const n=V,t=new RegExp(n(421)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Y(n(379));t[n(410)](o+n(393))&&e[n(410)](o+n(389))?Y():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(412)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function L(){const n=["175492NBbkDZ","apply","while (true) {}","TresPlaneGeometry","error","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","vec4 diffuseColor = vec4( diffuse, opacity );","1249593ETwVKH","50zFpEec","time","function *\\( *\\)","exception","MeshBasicMaterial","globalBloom","124349XlIdus","return (function() ","9656IobbzO","prototype","stateObject","gger","init","constructor","action","replace","log","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","fragmentShader","globalUniforms","2222970PnyvCb","#include <dithering_fragment>","input","counter","9QqWhkv","call","chain","bind","table","\n    ","791CJzqOl","15577408kiGdWv","debu","TresMesh","uniforms","4HxbrWX","portal","console","368148DBsVMD","string","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","toString",'{}.constructor("return this")( )',"test"];return(L=function(){return n})()}function V(n,t){const e=L();return(V=function(n,t){return e[n-=374]})(n,t)}Z(void 0,(function(){const n=V;let t;try{t=Function(n(374)+n(409)+");")()}catch(r){t=window}const e=t.console=t[n(404)]||{},o=[n(383),"warn","info",n(415),n(422),n(395),"trace"];for(let i=0;i<o.length;i++){const t=Z[n(380)][n(376)][n(394)](Z),r=o[i],s=e[r]||t;t.__proto__=Z[n(394)](Z),t.toString=s[n(408)][n(394)](s),e[r]=t}}))();const q=["material"],W=d({__name:O(403),props:{globalUniforms:{}},setup(n){const t=O,o=n,r=new(e[t(423)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const e=t;n[e(401)][e(420)]=o[e(386)][e(420)],n[e(401)].globalBloom=o[e(386)][e(424)],n[e(385)]=(e(416)+B+e(407)+n[e(385)]+e(396)).replace(e(417),e(384))[e(382)](e(388),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ")}});return r.defines={USE_UV:""},(n,e)=>{const o=t;return g(),m(o(400),{material:b(r),position:[0,3.75,-12]},e[0]||(e[0]=[h(o(414),{args:[5,5]},null,-1)]),8,q)}}});function Y(n){function t(n){const e=V;if(typeof n===e(406))return function(n){}[e(380)](e(413)).apply(e(390));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(399)+e(378))[e(392)](e(381)):function(){return!1}[e(380)](e(399)+e(378)).apply(e(377)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const J=K;!function(n,t){const e=K,o=H();for(;;)try{if(736333===parseInt(e(274))/1+parseInt(e(216))/2*(parseInt(e(225))/3)+parseInt(e(263))/4+parseInt(e(271))/5*(parseInt(e(244))/6)+-parseInt(e(220))/7*(parseInt(e(264))/8)+parseInt(e(213))/9*(parseInt(e(230))/10)+-parseInt(e(256))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function H(){const n=["noiseTex","log","globalBloom","globalUniforms","function *\\( *\\)","push","40DLKOTP","vertexShader","LineBasicMaterial","271345PxYZbJ","prototype","time","string","36sQlQYv","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","console","674zODstv","material","MathUtils","#include <begin_vertex>","617484zrRTgQ","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","noise","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","debu","2853KMTYxl","randFloat","while (true) {}","setAttribute","gger","727050OeElxT","position","bind","table","apply","gEnds","action","test","\n    ","trace","error","toString","init",'{}.constructor("return this")( )',"572514EPSYOb","fragmentShader","info","geometry","warn","uniforms","BufferGeometry","vec4 diffuseColor = vec4( diffuse, opacity );","Float32BufferAttribute","TresLineSegments","constructor","randFloatSpread","24511674rBvlYM","\n      ","__proto__","return (function() ","replace","drops","stateObject","5627500DmBJJq","8CJYgBR"];return(H=function(){return n})()}!function(){$(this,(function(){const n=K,t=new RegExp(n(269)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=tn(n(242));t.test(o+"chain")&&e[n(237)](o+"input")?tn():o("0")}))()}();const Q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[K(234)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Q(void 0,(function(){const n=K,t=function(){const n=K;let t;try{t=Function(n(259)+n(243)+");")()}catch(e){t=window}return t}(),e=t[n(215)]=t[n(215)]||{},o=[n(266),n(248),n(246),n(240),"exception",n(233),n(239)];for(let r=0;r<o.length;r++){const t=Q[n(254)][n(210)][n(232)](Q),i=o[r],s=e[i]||t;t[n(258)]=Q[n(232)](Q),t[n(241)]=s.toString[n(232)](s),e[i]=t}}))();const X=[J(217),J(247)];function K(n,t){const e=H();return(K=function(n,t){return e[n-=210]})(n,t)}const nn=d({__name:J(261),props:{globalUniforms:{}},setup(n){const t=J,r=n,s=[],a=[];for(let i=0;i<2e4;i++){const n=e[t(218)][t(255)](35),r=e[t(218)][t(226)](-5,10),i=e[t(218)][t(255)](35),c=o.randFloat(.25,.5);s[t(270)](n,r,i,n,r,i),a[t(270)](0,c,1,c)}const c=new(e[t(250)]);c[t(228)](t(231),new i(s,3)),c[t(228)](t(235),new(e[t(252)])(a,2));const l=new(e[t(273)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const e=t;n[e(249)][e(211)]=r[e(268)].time,n[e(249)][e(265)]=r[e(268)][e(222)],n[e(249)][e(267)]=r[e(268)].globalBloom,n[e(272)]=(e(214)+n[e(272)]+e(238)).replace(e(219),e(221)),n[e(245)]=(e(223)+B+e(257)+n[e(245)]+e(238))[e(260)](e(251),"\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ")}});return(n,e)=>{const o=t;return g(),m(o(253),{material:b(l),geometry:b(c)},null,8,X)}}});function tn(n){function t(n){const e=K;if(typeof n===e(212))return function(n){}[e(254)](e(227))[e(234)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(224)+e(229)).call(e(236)):function(){return!1}[e(254)](e(224)+e(229))[e(234)](e(262)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function en(n,t){const e=sn();return(en=function(n,t){return e[n-=333]})(n,t)}const on=en;!function(n,t){const e=en,o=sn();for(;;)try{if(575539===parseInt(e(392))/1*(parseInt(e(398))/2)+parseInt(e(390))/3*(-parseInt(e(389))/4)+-parseInt(e(383))/5+-parseInt(e(367))/6*(-parseInt(e(363))/7)+parseInt(e(374))/8*(parseInt(e(365))/9)+-parseInt(e(364))/10*(-parseInt(e(370))/11)+-parseInt(e(339))/12*(-parseInt(e(336))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[en(356)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(){const n=["toString","apply","replace","set","return (function() ","call","test","error","21EPDbSW","1468230XFSbht","68517HyJexN","counter","184626wcTyLV","PlaneGeometry","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","11SReecx","function *\\( *\\)","Mesh","background","88vXwemY","console","noise","value","vec4 diffuseColor = vec4( diffuse, opacity );","init","prototype","baseTexture","table","5088710LFNAMN","fog","Vector2","debu","defines","stateObject","2604kbFrzu","2577qasgXK","setRenderTarget","4009ixMzTj","WebGLRenderTarget","bind","ShaderMaterial","width","render","178fjUblD","action","Color","string","addPass","add","fragmentShader","log","gger","chain","target","__proto__","\n      uniform float time;\n      ","color","globalBloom","warn","403zgOaJJ","Scene","renderTarget2","570120kajqEd",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","renderToScreen","\n      ","trace","uniforms","fboRender","MeshBasicMaterial","Camera","info","time","input","near","\n    ","texture"];return(sn=function(){return n})()}!function(){rn(this,(function(){const n=en,t=new RegExp(n(371)),e=new RegExp(n(341),"i"),o=ln(n(379));t[n(361)](o+n(407))&&e[n(361)](o+n(351))?ln():o("0")}))()}();const an=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();an(void 0,(function(){const n=en;let t;try{t=Function(n(359)+n(340)+");")()}catch(r){t=window}const e=t[n(375)]=t[n(375)]||{},o=[n(405),n(335),n(349),n(362),"exception",n(382),n(344)];for(let i=0;i<o.length;i++){const t=an.constructor[n(380)][n(394)](an),r=o[i],s=e[r]||t;t[n(409)]=an.bind(an),t[n(355)]=s[n(355)].bind(s),e[r]=t}}))();const cn=d({__name:on(346),setup(n){const t=on,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(e[t(393)])(512,512),i=new(e[t(337)]),v=new(e[t(348)]),d=new(e[t(368)])(2,2),h=new(e[t(347)])({onBeforeCompile:n=>{const e=t;n[e(345)][e(350)]=o[e(350)],n.fragmentShader=(e(410)+B+e(343)+n[e(404)]+e(353))[e(357)](e(378),e(369))}});h[t(387)]={USE_UV:""};const b=new(e[t(372)])(d,h);i[t(403)](b),o[t(376)][t(377)]=r[t(354)];const{camera:_,renderer:I,scene:T,sizes:U,controls:S}=p();x((()=>S.value),(n=>{const o=t;null==n||n[o(408)][o(358)](0,2,0),!T.value[o(373)]&&(T[o(377)][o(373)]=new(e[o(400)])(6706534))}));const D=new s(I[t(377)]),z=new s(I[t(377)]),E=new a(T[t(377)],_[t(377)]),N=new c(new(e[t(385)])(U[t(396)][t(377)],U.height.value),1.2,.5,0);D[t(342)]=!1,D[t(402)](E),D[t(402)](N);const j=new l(new(e[t(395)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:D[t(338)].texture}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),t(381));j.needsSwap=!0,z[t(402)](E),z.addPass(j),T[t(377)][t(384)]=new u(6706534,1,25);const{onLoop:M}=f();return M((({elapsed:n})=>{var e,s;const a=t;o[a(350)][a(377)]=n,I[a(377)]&&(I[a(377)].setRenderTarget(r),I.value[a(397)](i,v),I[a(377)][a(391)](null),o[a(334)][a(377)]=1.2,T[a(377)][a(384)][a(333)].set(0),T.value[a(384)][a(352)]=15,null==(e=T[a(377)][a(373)])||e[a(358)](0),D[a(397)](),o[a(334)][a(377)]=0,T[a(377)][a(384)][a(333)][a(358)](6706534),T[a(377)].fog[a(352)]=10,null==(s=T.value[a(373)])||s[a(358)](6706534),z[a(397)]())})),(n,t)=>(g(),m(y,null,[w(R,{globalUniforms:o}),w(W,{globalUniforms:o}),w(nn,{globalUniforms:o})],64))}});function ln(n){function t(n){const e=en;if(typeof n===e(401))return function(n){}.constructor("while (true) {}").apply(e(366));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(386)+e(406))[e(360)](e(399)):function(){return!1}.constructor("debugger").apply(e(388)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const un={class:"text"};const fn=D({},[["render",function(n,t){return g(),m("div",un,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),pn=gn;!function(n,t){const e=gn,o=hn();for(;;)try{if(745448===-parseInt(e(473))/1+parseInt(e(464))/2+parseInt(e(475))/3+-parseInt(e(460))/4+parseInt(e(472))/5*(parseInt(e(467))/6)+parseInt(e(463))/7*(parseInt(e(469))/8)+-parseInt(e(471))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[gn(458)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){vn(this,(function(){const n=gn,t=new RegExp(n(481)),e=new RegExp(n(485),"i"),o=bn(n(483));t[n(470)](o+"chain")&&e[n(470)](o+n(479))?bn():o("0")}))()}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[gn(458)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function gn(n,t){const e=hn();return(gn=function(n,t){return e[n-=456]})(n,t)}dn(void 0,(function(){const n=gn;let t;try{t=Function(n(476)+n(461)+");")()}catch(r){t=window}const e=t[n(490)]=t[n(490)]||{},o=[n(487),"warn",n(480),n(462),n(466),n(465),n(494)];for(let i=0;i<o.length;i++){const t=dn[n(492)][n(478)].bind(dn),r=o[i],s=e[r]||t;t[n(482)]=dn.bind(dn),t[n(486)]=s.toString[n(484)](s),e[r]=t}}))();const mn=d({__name:pn(493),setup(n){const t=pn,r={windowSize:!0,antialias:!0,renderMode:t(457)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*o[t(477)],maxPolarAngle:90*e[t(474)].DEG2RAD,makeDefault:!0};return(n,e)=>{const o=I(t(468));return g(),m(y,null,[w(fn),w(o,U(S(r)),{default:T((()=>[e[0]||(e[0]=h("TresPerspectiveCamera",{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(v),U(S(i)),null,16),e[1]||(e[1]=h("TresAmbientLight",{intensity:.5},null,-1)),e[2]||(e[2]=h("TresDirectionalLight",{position:[0,3,-12],intensity:1},null,-1)),w(cn)])),_:1},16)],64)}}});function hn(){const n=["log","while (true) {}","gger","console","debu","constructor","lightNoise","trace","action","manual","apply","length","3701280PshNQI",'{}.constructor("return this")( )',"error","973QyYkLE","2440910hsrquR","table","exception","2238EWxFXV","TresCanvas","49048wZCpIV","test","6788709FqNzuh","6110qtuTYR","312193WoWIlv","MathUtils","626376pzHQss","return (function() ","DEG2RAD","prototype","input","info","function *\\( *\\)","__proto__","init","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString"];return(hn=function(){return n})()}function bn(n){function t(n){const e=gn;if("string"==typeof n)return function(n){}[e(492)](e(488))[e(458)]("counter");1!==(""+n/n)[e(459)]||n%20==0?function(){return!0}.constructor(e(491)+e(489)).call(e(456)):function(){return!1}[e(492)](e(491)+e(489))[e(458)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{mn as default};
