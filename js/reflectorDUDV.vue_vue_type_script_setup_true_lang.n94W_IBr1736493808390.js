import{c7 as t,a3 as e,s as n,t as r}from"./three.lAfZYOpc1736493808390.js";import{b as o}from"./@tresjs.g7tJPOCI1736493808390.js";import{R as s,b as i}from"./all.three.6_wnyCzL1736493808390.js";import{d as c,a4 as a,a1 as u,w as l,o as f,D as p,J as d,u as v}from"./@vue.-Mz_IXfk1736493808390.js";const m=w;!function(t,e){const n=w,r=j();for(;;)try{if(341014===parseInt(n(451))/1*(-parseInt(n(419))/2)+-parseInt(n(474))/3*(-parseInt(n(470))/4)+-parseInt(n(460))/5*(-parseInt(n(442))/6)+-parseInt(n(438))/7*(parseInt(n(443))/8)+parseInt(n(456))/9+-parseInt(n(433))/10*(parseInt(n(454))/11)+parseInt(n(427))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=w,e=new RegExp(t(417)),n=new RegExp(t(434),"i"),r=_("init");e.test(r+"chain")&&n[t(426)](r+t(478))?_():r("0")}))()}();const h=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[w(446)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function w(t,e){const n=j();return(w=function(t,e){return n[t-=417]})(t,e)}h(void 0,(function(){const t=w,e=function(){const t=w;let e;try{e=Function(t(439)+t(453)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},r=[t(461),t(429),t(418),t(471),t(473),t(472),t(475)];for(let o=0;o<r[t(477)];o++){const e=h[t(423)].prototype[t(464)](h),s=r[o],i=n[s]||e;e.__proto__=h.bind(h),e[t(428)]=i[t(428)][t(464)](i),n[s]=e}}))();const g=[m(465)],y=[m(424)],I=[m(424)];function j(){const t=["repeat","wrapS","1198196jgPvua","error","table","exception","3ktnMGX","trace","textureMatrixUniform","length","input","function *\\( *\\)","info","36026ssdjZB","uniforms","gger","while (true) {}","constructor","object","wrapT","test","5073996wKYnwb","toString","warn","add","update","mapUrl","31370IdrtQM","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","showGridHelper","size","action","252vBoFPp","return (function() ","call","value","42426iQnzXI","72120GDosPg","tReflectBlur","rotation","apply","primitive","reflectivity","texture","stateObject","13fHmkVp","ignoreObjects",'{}.constructor("return this")( )',"1551ibJYvC","visible","1885860pSutHa","renderTarget","tReflect","uReflectivity","290DlCPsQ","log","forEach","isMesh","bind","scale","debu","string"];return(j=function(){return t})()}const x=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:b}){const h=m;let w,j;const x=c,_=new s,M=new t(x[h(436)][0]-.5,x[h(436)][1]);M.visible=x[h(435)];const{map:R}=([w,j]=a((()=>o({map:x[h(432)]}))),w=await w,j(),w);R[h(469)]=e,R[h(425)]=e,R[h(468)].set(6,3);const z=new i({map:R,reflectivity:x[h(448)]});z[h(420)][h(458)]={value:_[h(457)][h(449)]},z[h(420)][h(444)]=_.renderTargetUniform,z[h(420)].uMatrix=_[h(476)];const B=new n(new r(x.size[0],x[h(436)][1]),z);return B[h(445)].x=-Math.PI/2,B[h(430)](_),B.onBeforeRender=(t,e,n)=>{const r=h;B[r(455)]=!1,x[r(452)][r(462)]((t=>{const e=r;t[e(463)]&&(t[e(455)]=!1),t[e(441)]&&t.value.isMesh&&(t.value.visible=!1)})),_[r(431)](t,e,n),x[r(452)][r(462)]((t=>{const e=r;t.isMesh&&(t[e(455)]=!0),t[e(441)]&&t[e(441)][e(463)]&&(t[e(441)].visible=!0)})),B.visible=!0},u((()=>{const t=h;x.reflectivity&&(z.uniforms[t(459)].value=x[t(448)])})),l((()=>x[h(435)]),(t=>{M[h(455)]=t})),b({reflector:_}),(t,e)=>{const n=h;return f(),p("TresGroup",{scale:x.scale},[d(n(447),{object:v(B),"position-y":-.01},null,8,y),d("primitive",{object:v(M)},null,8,I)],8,g)}}});function _(t){function e(t){const n=w;if(typeof t===n(467))return function(t){}[n(423)](n(422))[n(446)]("counter");1!==(""+t/t)[n(477)]||t%20==0?function(){return!0}.constructor(n(466)+n(421))[n(440)](n(437)):function(){return!1}.constructor("debugger")[n(446)](n(450)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
