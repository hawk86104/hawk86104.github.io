import{P as t}from"./tweakpane.yDiyAAkA1741683274763.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.TWy2DfJ11741683274763.js";import{_ as r}from"./heatmap.js-fix.xN5-aGwA1741683274763.js";import{a as i,_ as c,cA as s,r as u,a0 as a}from"./three.3wvNjL8W1741683274763.js";import{r as p}from"./utils.EJ2Xr5EX1741683274763.js";import{d as f}from"./pinia.ewBqqOMH1741683274763.js";import{b as l,d as h,a2 as d,o as m,H as g,N as y,u as v,F as b,q as w,W as I,P as _,R as j,L as x,O as S,a3 as D,r as M,j as R,g as z,m as Z}from"./@vue.NRI7TcgI1741683274763.js";import{c as E,d as k,a as F}from"./three-mesh-bvh.7KXDHVGx1741683274763.js";import{_ as O}from"./@fesjs.k2eAvwyB1741683274763.js";import"./@tresjs.tqalU7S21741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";import"./three-custom-shader-material.ikmMqXfn1741683274763.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741683274763.js";import"./@amap.H2801npL1741683274763.js";import"./vue-router.orSV66Fm1741683274763.js";import"./lodash-es.pklfUAS51741683274763.js";import"./@qlin.yHhFDldE1741683274763.js";import"./@floating-ui.BPbuo5Gx1741683274763.js";import"./@juggle.7yjBMqoW1741683274763.js";!function(t,n){const e=N,o=A();for(;;)try{if(362175===-parseInt(e(140))/1*(parseInt(e(155))/2)+-parseInt(e(154))/3+-parseInt(e(121))/4*(parseInt(e(124))/5)+parseInt(e(151))/6+-parseInt(e(146))/7*(parseInt(e(144))/8)+-parseInt(e(159))/9+parseInt(e(127))/10*(parseInt(e(147))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(162)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["input","call","apply","rgb(0,0,255)","bind","gger","counter","width","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","error","10840ipLbhg","heatmap-canvas","createElement","195pQtfSF","string","test","430aqrYsl","setData","__proto__","log","trace","toString","absolute","prototype","push","appendChild","constructor","randInt","action","7NFfGud","getValueAt","while (true) {}","console","8oqPupn","display","594146Xsnard","257059yBLIlj","position","_config","rgb(0,255,0)","1472382yUuUNb","return (function() ","init","115455BbzNZF","44610LDJSns","none","style","length","4526109CAOSSg"];return(A=function(){return t})()}!function(){P(this,(function(){const t=N,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(118),"i"),o=L(t(153));n[t(126)](o+t(119))&&e.test(o+t(160))?L():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(162)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=N;let n;try{n=Function(t(152)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(143)]||{},o=[t(130),"warn","info",t(120),t(117),"table",t(131)];for(let i=0;i<o[t(158)];i++){const n=B[t(137)][t(134)].bind(B),r=o[i],c=e[r]||n;n[t(129)]=B[t(164)](B),n[t(132)]=c.toString[t(164)](c),e[r]=n}}))();const U=(t,n)=>t[N(141)](n)+-10;function N(t,n){const e=A();return(N=function(t,n){return e[t-=117]})(t,n)}function L(t){function n(t){const e=N;if(typeof t===e(125))return function(t){}[e(137)](e(142)).apply(e(166));1!==(""+t/t)[e(158)]||t%20==0?function(){return!0}[e(137)]("debu"+e(165))[e(161)](e(139)):function(){return!1}[e(137)]("debu"+e(165))[e(162)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function W(){const t=["35UWNSCd","bind","2802945nLEdka","stateObject","action","248340uzXgQo","34811YqDagu","chain","gger","17437580copPBF","exception","1926DXZxQc","input","prototype","__proto__","831WdnkXV","info","length","toString","console","312hVvoIH","error","debu","apply","test","table","24WzqgZk","13748471CKGpgZ",'{}.constructor("return this")( )',"449802NmOolG","log","warn","while (true) {}","trace","constructor"];return(W=function(){return t})()}!function(t,n){const e=$,o=W();for(;;)try{if(877268===-parseInt(e(271))/1*(-parseInt(e(276))/2)+-parseInt(e(258))/3+-parseInt(e(261))/4*(-parseInt(e(256))/5)+-parseInt(e(267))/6*(parseInt(e(262))/7)+-parseInt(e(247))/8*(parseInt(e(250))/9)+parseInt(e(265))/10+parseInt(e(248))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(244)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=W();return($=function(t,n){return e[t-=244]})(t,n)}!function(){X(this,(function(){const t=$,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=G("init");n[t(245)](o+t(263))&&e[t(245)](o+t(268))?G():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(244)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();q(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function("return (function() "+t(249)+");")()}catch(e){n=window}return n}(),e=n[t(275)]=n[t(275)]||{},o=[t(251),t(252),t(272),t(277),t(266),t(246),t(254)];for(let r=0;r<o[t(273)];r++){const n=q[t(255)][t(269)].bind(q),i=o[r],c=e[i]||n;n[t(270)]=q.bind(q),n[t(274)]=c[t(274)][t(257)](c),e[i]=n}}))();const C=f("buildingsHeatmap",(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n.value=t}}}));function G(t){function n(t){const e=$;if("string"==typeof t)return function(t){}.constructor(e(253))[e(244)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(255)](e(278)+"gger").call(e(260)):function(){return!1}.constructor(e(278)+e(264))[e(244)](e(259)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=H;function H(t,n){const e=T();return(H=function(t,n){return e[t-=388]})(t,n)}!function(t,n){const e=H,o=T();for(;;)try{if(308679===parseInt(e(452))/1+parseInt(e(388))/2*(parseInt(e(405))/3)+parseInt(e(457))/4*(parseInt(e(443))/5)+parseInt(e(423))/6*(-parseInt(e(438))/7)+-parseInt(e(439))/8*(-parseInt(e(429))/9)+parseInt(e(427))/10+-parseInt(e(406))/11*(parseInt(e(418))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["normal","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","error","_config","rotation-x","geometry","raycast","warn","toString","city","test","console","length","buildingsHeatmap","while (true) {}","clone","138141IKDpmn","2232296hKodzD","setTemperature","model","BufferGeometry","disposeBoundsTree","function *\\( *\\)","uniforms","input","gger","computeBoundsTree","counter","Texture","12NZCQWr","__proto__","exception","stateObject","attributes","54uolDYj","call","object","数值———：","1698580RKdSnO","canvas","49887eISJkV","return (function() ","width","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","matrix","info","applyMatrix4","debu","292019VPHtpW","344VSlmXh","ShaderMaterial","setShowDiv","table","30xynmMn","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","trace","makeRotationX","bind","opacity","prototype","height",'{}.constructor("return this")( )',"201376RWJgrr","action","Mesh","constructor","apply","92896SzkQzw","Matrix4","primitive","6uUjxrJ"];return(T=function(){return t})()}!function(){Q(this,(function(){const t=H,n=new RegExp(t(411)),e=new RegExp(t(432),"i"),o=nt("init");n[t(399)](o+"chain")&&e[t(399)](o+t(413))?nt():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(456)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(430)+t(451)+");")()}catch(e){n=window}return n}(),e=n[t(400)]=n[t(400)]||{},o=[t(433),t(396),t(435),t(391),t(420),t(442),t(445)];for(let r=0;r<o[t(401)];r++){const n=J.constructor[t(449)][t(447)](J),i=o[r],c=e[i]||n;n[t(419)]=J.bind(J),n[t(397)]=c[t(397)].bind(c),e[i]=n}}))();const K=[V(425),V(393)],Y=["object"],tt=h({__name:V(402),props:{model:{},opacity:{default:1}},setup(t){const n=V;(()=>{const t=H;c[t(409)][t(449)][t(415)]=E,c[t(409)][t(449)][t(410)]=k,u[t(449)][t(395)]=F})();const e=t,o=((t=250,n=250,e=!0)=>{const o=N,i=document[o(123)](o(122));return i[o(157)][o(148)]=o(133),!e&&(i[o(157)][o(145)]=o(156)),i[o(157)].top="0",i[o(157)].left="0",document.body[o(136)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(163),.55:o(150),.85:"yellow",1:"rgb(255,0,0)"}})})();((t,n)=>{const e=N;if(!n){let o=0;for(n=[];o<1e3;)n[e(135)]({x:i[e(138)](1,t[e(149)][e(167)]),y:i[e(138)](1,t._config.height),value:i[e(138)](-10,36)}),o++}t[e(128)]({max:36,min:-10,data:n})})(o);const f=new(c[n(417)])(o._renderer[n(428)]);f.needsUpdate=!0;const l=e[n(408)][n(398)][n(404)]();delete l[n(394)].attributes.normal,delete l[n(394)][n(422)].uv;const h=l[n(394)][n(404)]().applyMatrix4(l[n(434)]),w=e[n(408)].land[n(404)]();delete w[n(394)][n(422)][n(389)];const I=w[n(394)][n(404)]().applyMatrix4(w[n(434)]),_=s([h,I]);_[n(436)]((new(c[n(458)]))[n(446)](Math.PI/2)),p(_),_[n(415)]();const j=(t=>{const o=n;return new(c[o(440)])({vertexShader:o(444),fragmentShader:o(390),uniforms:{uOpacity:{value:e[o(448)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),x=new(c[n(454)])(_,j);d((()=>{const t=n;e.opacity&&(j[t(412)].uOpacity.value=e[t(448)])}));const S=C(),D=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(392)][e(431)],y:(1-t.uv.y)*o[e(392)][e(450)]};console[e(433)]("数值：",t),console[e(433)](e(426),U(o,n)),S[e(407)](U(o,n))}},M=t=>{t&&S.$patch({showDiv:!0})},R=t=>{t&&S[n(441)](!1)};return(t,o)=>{const r=n;return m(),g(b,null,[y(r(459),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:D,onPointerEnter:M,onPointerLeave:R},null,40,K),y(r(459),{object:e[r(408)].model.children[0][r(404)]()},null,8,Y)],64)}}});function nt(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(455)](e(403)).apply(e(416));1!==(""+t/t).length||t%20==0?function(){return!0}[e(455)](e(437)+"gger")[e(424)](e(453)):function(){return!1}[e(455)]("debu"+e(414))[e(456)](e(421)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=O({__name:"dataDiv",setup(t){const n=C(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:S(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=st,o=it();for(;;)try{if(765231===-parseInt(e(415))/1+parseInt(e(406))/2*(parseInt(e(427))/3)+-parseInt(e(423))/4+-parseInt(e(414))/5+-parseInt(e(401))/6*(parseInt(e(398))/7)+parseInt(e(413))/8+parseInt(e(424))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(428)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=st,n=new RegExp(t(418)),e=new RegExp(t(403),"i"),o=ut(t(410));n[t(416)](o+"chain")&&e[t(416)](o+t(417))?ut():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(428)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(){const t=["input","function *\\( *\\)","builds","city","stateObject","console","4011312XBZrfg","24955461GUqNRw","addBinding","model","2514324esfooU","apply","while (true) {}","bind","return (function() ","debu","log","trace","959GBabex","value","length","55122rvpRRz","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","opacity","2JvxHah","string","counter","action","init","gger","constructor","7942152DBSlhF","5843045jXPFKG","408419LwNgNQ","test"];return(it=function(){return t})()}rt(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function(t(431)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(422)]=n.console||{},o=[t(433),"warn","info",t(402),"exception","table",t(397)];for(let r=0;r<o[t(400)];r++){const n=rt[t(412)].prototype[t(430)](rt),i=o[r],c=e[i]||n;n.__proto__=rt[t(430)](rt),n[t(404)]=c[t(404)][t(430)](c),e[i]=n}}))();const ct=h({__name:"heatmap2",async setup(r){const i=st;let c,s;const u=l(!1),a=([c,s]=D((()=>o())),c=await c,s(),c);u[i(399)]=!0;const p=M({width:1,color:"#000",opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(425)](f,i(405),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(b,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[R(tt,Z({model:v(a)},f),null,16,[r(426)]),R(n,Z(p,{builds:v(a)[r(420)]}),null,16,[r(419)])])),_:1}),R(et)],64)}}});function st(t,n){const e=it();return(st=function(t,n){return e[t-=397]})(t,n)}function ut(t){function n(t){const e=st;if(typeof t===e(407))return function(t){}.constructor(e(429))[e(428)](e(408));1!==(""+t/t)[e(400)]||t%20==0?function(){return!0}[e(412)]("debu"+e(411)).call(e(409)):function(){return!1}[e(412)](e(432)+"gger")[e(428)](e(421)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
