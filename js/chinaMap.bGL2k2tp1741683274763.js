import{e as t,o as e}from"./@tresjs.tqalU7S21741683274763.js";import{l as n}from"./utils.EJ2Xr5EX1741683274763.js";import{m as o}from"./d3-geo.5FnoPV0a1741683274763.js";import{a3 as r,b as s,a2 as i,o as a,H as c,F as p,X as u,N as l,d as f,r as d,e as m,f as h,g as y,j,aj as g,ak as b,u as v,al as w,m as E}from"./@vue.NRI7TcgI1741683274763.js";import{ac as T,B as I,r as _,cv as x}from"./three.3wvNjL8W1741683274763.js";import{c as M,d as S,a as k}from"./three-mesh-bvh.7KXDHVGx1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";import"./@fesjs.k2eAvwyB1741683274763.js";import"./vue-router.orSV66Fm1741683274763.js";import"./lodash-es.pklfUAS51741683274763.js";import"./@qlin.yHhFDldE1741683274763.js";import"./pinia.ewBqqOMH1741683274763.js";import"./@floating-ui.BPbuo5Gx1741683274763.js";import"./@juggle.7yjBMqoW1741683274763.js";import"./d3-array.E5C1cfJ61741683274763.js";const B=["properties","renderOrder"],L=["args"],O={__name:"chinaMapMesh",async setup(e){let f,d;I.prototype.computeBoundsTree=M,I.prototype.disposeBoundsTree=S,_.prototype.raycast=k;const m=o().center([104,37.5]).translate([0,0]),h=([f,d]=r((()=>n("./plugins/simpleGIS/json/china.json","features"))),f=await f,d(),f),y={depth:10,bevelEnabled:!1},j=[];h.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new x;for(let t=0;t<e.length;t++){const[o,r]=m(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}j.push({shape:n,properties:t.properties})}))}))}));const g=new T({color:"#3480C4",linewidth:1,linecap:"round"}),b=s();i((()=>{b.value&&b.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,g];t.material=e}))}));let v=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),v=t})();const w=t=>{t.object.material[0].color.set(16711680),v.innerText=t.object.properties.name,v.style.visibility="visible"},E=t=>{t.eventObject.material[0].color.set(3010559),v.style.visibility="hidden"},O=t=>{v.style.left="".concat(t.clientX+6,"px"),v.style.top="".concat(t.clientY+6,"px")},{onLoop:z}=t();return z((()=>{})),(t,e)=>(a(),c("TresGroup",{ref_key:"tgRef",ref:b},[(a(),c(p,null,u(j,((t,n)=>l("TresMesh",{key:"".concat(n),properties:t.properties,renderOrder:n,onPointerEnter:w,onPointerLeave:E,onPointerMove:O},[l("TresExtrudeGeometry",{args:[t.shape,y]},null,8,L),e[0]||(e[0]=l("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1))],40,B))),64))],512))}},z=F;!function(t,e){const n=F,o=P();for(;;)try{if(714945===parseInt(n(445))/1+-parseInt(n(412))/2*(parseInt(n(414))/3)+parseInt(n(442))/4*(-parseInt(n(423))/5)+-parseInt(n(437))/6+-parseInt(n(449))/7*(-parseInt(n(446))/8)+parseInt(n(441))/9+-parseInt(n(433))/10*(parseInt(n(443))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[F(419)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function F(t,e){const n=P();return(F=function(t,e){return n[t-=412]})(t,e)}!function(){C(this,(function(){const t=F,e=new RegExp(t(422)),n=new RegExp(t(430),"i"),o=D(t(417));e[t(424)](o+t(434))&&n[t(424)](o+t(427))?D():o("0")}))()}();const G=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[F(419)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function P(){const t=["return (function() ","1102580LIMEqR","chain","exception","TresPerspectiveCamera","2073384lvJMXT","TresCanvas","toString","constructor","12743748xmfijF","4YbzMSS","22bKsNBZ","#201919","522648STpDSc","824WtOSEo","action","counter","58177VgTuLp","info","1918090EEHrMD","log","3LnUdeo","call","table","init","console","apply","while (true) {}","warn","function *\\( *\\)","2772915EoGjOT","test","bind","__proto__","input","gger","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chinaMap"];return(P=function(){return t})()}G(void 0,(function(){const t=F,e=function(){const t=F;let e;try{e=Function(t(432)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e.console=e[t(418)]||{},o=[t(413),t(421),t(450),"error",t(435),t(416),"trace"];for(let r=0;r<o.length;r++){const e=G[t(440)].prototype[t(425)](G),s=o[r],i=n[s]||e;e[t(426)]=G[t(425)](G),e[t(439)]=i.toString.bind(i),n[s]=e}}))();const R=f({__name:z(431),setup(n){const o=z,r=d({clearColor:o(444)}),s=d({enableDamping:!0,dampingFactor:.05}),{onLoop:c}=t();return c((()=>{})),i((()=>{})),(t,n)=>{const i=o,c=m(i(438));return a(),h(c,E(r,{"window-size":""}),{default:y((()=>[n[0]||(n[0]=l(i(436),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),j(v(e),g(b(s)),null,16),(a(),h(w,null,{default:y((()=>[j(O)])),_:1}))])),_:1},16)}}});function D(t){function e(t){const n=F;if("string"==typeof t)return function(t){}.constructor(n(420))[n(419)](n(448));1!==(""+t/t)[n(429)]||t%20==0?function(){return!0}[n(440)]("debu"+n(428))[n(415)](n(447)):function(){return!1}.constructor("debugger")[n(419)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{R as default};
