import{importShared as o}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{_l as f,Kk as w,qz as v}from"./index.DTe2qqjO1767148983502.js";import{Pane as h}from"./tweakpane.BQRZXf8M1767148983502.js";import{useTexture as x}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.B7dQ_CiZ1767148983502.js";import"./index.vue_vue_type_script_setup_true_lang.CjsHShHS1767148983502.js";import{Water as C}from"./Water.CCgygbmw1767148983502.js";const{withAsyncContext:g,defineComponent:z}=await o("vue"),{unref:B,openBlock:S,createElementBlock:k}=await o("vue"),P=["object","rotation-x"],{RepeatWrapping:b,Vector3:y,PlaneGeometry:E}=await o("three"),{watchEffect:N}=await o("vue"),T=z({__name:"threeExampleOcean",props:{size:{default:1},distortionScale:{default:3.7}},async setup(c){let n,a;const e=c,r=new E(1e3,1e3),i=([n,a]=g(()=>x("./plugins/water/images/waternormals.jpg")),n=await n,a(),n);i.wrapS=i.wrapT=b;const t=new C(r,{textureWidth:512,textureHeight:512,waterNormals:i,sunDirection:new y,sunColor:16777215,waterColor:7695,distortionScale:3.7});N(()=>{e.size&&(t.material.uniforms.size.value=e.size),e.distortionScale&&(t.material.uniforms.distortionScale.value=e.distortionScale)});const{onBeforeRender:s}=f();return s(()=>{t.material.uniforms.time.value+=1/60}),(D,O)=>(S(),k("primitive",{object:B(t),"rotation-x":-Math.PI/2},null,8,P))}}),{defineComponent:V}=await o("vue"),{createElementVNode:R,unref:m,createVNode:l,normalizeProps:W,guardReactiveProps:$,Suspense:j,withCtx:p,openBlock:u,createBlock:d,resolveComponent:G,mergeProps:A}=await o("vue"),{reactive:_}=await o("vue"),J=V({__name:"threeExampleOcean",setup(c){const n={clearColor:"#222",shadows:!0,alpha:!1},a=_({size:1,distortionScale:3.7}),e=new h({title:"参数",expanded:!0});e.addBinding(a,"distortionScale",{label:"水变化尺度",min:0,max:8,step:.1}),e.addBinding(a,"size",{label:"水精细度",min:.1,max:10,step:.1});const r=_({elevation:2,azimuth:180});return e.addBinding(r,"elevation",{label:"太阳地平线高",min:.1,max:10,step:.1}),e.addBinding(r,"azimuth",{label:"太阳地方位角",min:0,max:360,step:1}),(i,t)=>{const s=G("TresCanvas");return u(),d(s,A(n,{"window-size":""}),{default:p(()=>[t[0]||(t[0]=R("TresPerspectiveCamera",{position:[30,30,100]},null,-1)),l(m(w)),l(m(v),{turbidity:10,rayleigh:2,mieDirectionalG:.8,elevation:r.elevation,distance:1e4,azimuth:r.azimuth},null,8,["elevation","azimuth"]),(u(),d(j,null,{default:p(()=>[l(T,W($(a)),null,16)]),_:1}))]),_:1},16)}}});export{J as default};
