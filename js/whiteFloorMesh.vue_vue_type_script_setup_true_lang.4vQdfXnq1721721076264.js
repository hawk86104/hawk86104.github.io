import{bR as t,a6 as n,C as o}from"./three.fnkrvySq1721721076264.js";import{N as r}from"./@tresjs.tWkmYPO61721721076264.js";import{d as e,b as a,a4 as s,w as c,o as i,D as u,J as f,aj as l,ak as p}from"./@vue.Q1VpS3901721721076264.js";function h(){const t=["1010696ztsDqi","begin_vertex","exception","info",'{}.constructor("return this")( )',"166uftTYD","log","project_vertex","11keyFxU","input","584mafwXs","string","chain","constructor","1793500XKDBXw","bind","14OoiIUA","742880xWtvmA","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\n       varying vec2 vUv;\n\t\t\t \t","lights_pars_begin","477pNAxSv","shadowmap_pars_vertex","ShaderChunk","\n      \t","bsdfs","warn","console","shadowmap_vertex","debu","144873SbZdwR","call","7962590mdACLK","\n          ","worldpos_vertex","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","beginnormal_vertex","__proto__","620112EOwrwE","stateObject","init","return (function() ","trace","common","toString","shadowmap_pars_fragment","length","gger","while (true) {}","\n\t ","table","test","apply"];return(h=function(){return t})()}function d(t,n){const o=h();return(d=function(t,n){return o[t-=262]})(t,n)}!function(t,n){const o=d,r=h();for(;;)try{if(738166===parseInt(o(274))/1+parseInt(o(279))/2*(parseInt(o(295))/3)+parseInt(o(288))/4+-parseInt(o(291))/5+-parseInt(o(312))/6*(parseInt(o(290))/7)+-parseInt(o(284))/8*(parseInt(o(304))/9)+-parseInt(o(306))/10*(-parseInt(o(282))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(273)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=d,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(309),"i"),r=_(t(314));n.test(r+t(286))&&o[t(272)](r+t(283))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(273)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=d;let n;try{n=Function(t(262)+t(278)+");")()}catch(e){n=window}const o=n[t(301)]=n.console||{},r=[t(280),t(300),t(277),"error",t(276),t(271),t(263)];for(let a=0;a<r[t(267)];a++){const n=m[t(287)].prototype[t(289)](m),e=r[a],s=o[e]||n;n[t(311)]=m[t(289)](m),n[t(265)]=s[t(265)][t(289)](s),o[e]=n}}))();const v=()=>{const o=d;return o(293)+t.common+o(298)+t.bsdfs+o(298)+t[o(296)]+"\n       void main() {\n\t\t\t\t\t"+n[o(297)][o(310)]+o(307)+n[o(297)].defaultnormal_vertex+"\n          "+n[o(297)][o(275)]+o(307)+n[o(297)][o(281)]+"\n          "+n[o(297)][o(308)]+"\n          "+n[o(297)][o(302)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},w=()=>{const o=d;return o(292)+t[o(264)]+o(270)+t.packing+o(270)+n[o(297)][o(299)]+o(270)+n[o(297)][o(294)]+"\n\t "+n[o(297)][o(266)]+"\n\t "+t.shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=d;if(typeof t===o(285))return function(t){}[o(287)](o(269)).apply("counter");1!==(""+t/t)[o(267)]||t%20==0?function(){return!0}[o(287)](o(303)+o(268))[o(305)]("action"):function(){return!1}.constructor(o(303)+o(268))[o(273)](o(313)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=C;!function(t,n){const o=C,r=j();for(;;)try{if(251627===-parseInt(o(476))/1+-parseInt(o(444))/2+parseInt(o(455))/3+parseInt(o(443))/4*(parseInt(o(469))/5)+parseInt(o(433))/6*(-parseInt(o(456))/7)+-parseInt(o(440))/8+-parseInt(o(461))/9*(-parseInt(o(466))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(468)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=C,n=new RegExp(t(446)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=M(t(429));n[t(478)](r+t(437))&&o[t(478)](r+t(454))?M():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(468)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=C,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n[t(438)]=n[t(438)]||{},r=[t(471),t(451),"info","error","exception",t(450),"trace"];for(let e=0;e<r[t(427)];e++){const n=I[t(460)][t(462)][t(458)](I),a=r[e],s=o[a]||n;n.__proto__=I.bind(I),n[t(439)]=s.toString[t(458)](s),o[a]=n}}))();const y=[x(435)],S=["args"];function C(t,n){const o=j();return(C=function(t,n){return o[t-=427]})(t,n)}function j(){const t=["apply","264930ajKLbl","Color","log","stateObject","while (true) {}","edge","uniforms","288162GuBaLS","UniformsUtils","test","#999","length","whiteFloorMesh","init","uColor","value","shadowColor","561576ZaJuxy","TresPlaneGeometry","rotation-x","uShadowColor","chain","console","toString","1548376xQKsMM","gger","size","8RVhQiD","354490hPewdF","DoubleSide","function *\\( *\\)","color","RepeatWrapping","UniformsLib","table","warn","counter","call","input","304080xceHJI","28fnWRVJ","#990","bind","tmRef","constructor","9DHCHXc","prototype","lights","debu","merge","10776330AIsfpi","fEdge"];return(j=function(){return t})()}const E=e({__name:x(428),props:{size:{default:[20,20]},color:{default:x(457)},shadowColor:{default:x(479)},edge:{default:.35}},async setup(t){const e=x;let h,d;const g=t,m=a(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_.wrapS=_.wrapT=n[e(448)];const b={uniforms:n[e(477)][e(465)]([n[e(449)][e(463)],{uTexture:{type:"t",value:_},uColor:{value:new(n[e(470)])(g[e(447)])},uShadowColor:{value:new(n[e(470)])(g[e(432)])},fEdge:{type:"f",value:g[e(474)]}}]),side:n[e(445)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return c((()=>g[e(474)]),(t=>{const n=e;b.uniforms[n(467)][n(431)]=t})),c((()=>g[e(447)]),(t=>{const n=e;b[n(475)][n(430)][n(431)]=new o(g.color)})),c((()=>g[e(432)]),(t=>{const o=e;b[o(475)][o(436)].value=new(n[o(470)])(g[o(432)])})),(t,n)=>{const o=e;return i(),u("TresMesh",{ref_key:o(459),ref:m,"rotation-x":-Math.PI/2},[f(o(434),{args:g[o(442)]},null,8,S),f("TresShaderMaterial",l(p(b)),null,16)],8,y)}}});function M(t){function n(t){const o=C;if("string"==typeof t)return function(t){}.constructor(o(473))[o(468)](o(452));1!==(""+t/t).length||t%20==0?function(){return!0}[o(460)](o(464)+o(441))[o(453)]("action"):function(){return!1}[o(460)](o(464)+o(441))[o(468)](o(472)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
