import{_ as n,as as t,T as e,$ as o,h as r,ab as i,q as s,aj as a,s as c,bZ as l,bX as u,bY as f,c6 as p,m as g,bS as v}from"./three.KG0QRRig1731552996711.js";import{e as d,m,U as h}from"./@tresjs.01P8tiuF1731552996711.js";import{d as b,o as x,D as y,J as w,u as _,F as I,w as T,j as U,x as S,e as j,g as D,aj as E,ak as z}from"./@vue.-THQH3GC1731552996711.js";import{_ as C}from"./@fesjs.ffiiLppw1731552996711.js";import"./@vueuse.YduQ9gvc1731552996711.js";import"./vue-router.4ictOE9I1731552996711.js";import"./lodash-es.kYt-_xTG1731552996711.js";import"./@qlin.yHhFDldE1731552996711.js";import"./pinia.Yf0ZNVo31731552996711.js";import"./vue-demi.C4xddsk91731552996711.js";import"./@floating-ui.BPbuo5Gx1731552996711.js";import"./@juggle.7yjBMqoW1731552996711.js";var B="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const M=G;!function(n,t){const e=G,o=Z();for(;;)try{if(653196===parseInt(e(420))/1*(-parseInt(e(469))/2)+-parseInt(e(441))/3+parseInt(e(473))/4+parseInt(e(459))/5+parseInt(e(435))/6*(-parseInt(e(479))/7)+parseInt(e(463))/8+parseInt(e(487))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){P(this,(function(){const n=G,t=new RegExp(n(446)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=O("init");t[n(443)](o+n(480))&&e[n(443)](o+n(442))?O():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(440)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=G,t=function(){const n=G;let t;try{t=Function(n(488)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(465)]=t[n(465)]||{},o=[n(427),n(433),n(490),"error",n(457),n(425),n(444)];for(let r=0;r<o.length;r++){const t=A[n(467)].prototype[n(483)](A),i=o[r],s=e[i]||t;t[n(437)]=A.bind(A),t[n(458)]=s.toString.bind(s),e[i]=t}}))();const N=[M(424),M(481)],k=[M(481)],F=[M(491)];function G(n,t){const e=Z();return(G=function(n,t){return e[n-=420]})(n,t)}const R=100;function Z(){const n=["while (true) {}","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","geometry","table","sin","log","gger","MeshLambertMaterial","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","#include <begin_vertex>","MathUtils","warn","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","6VbzszM","SphereGeometry","__proto__","InstancedBufferGeometry","globalBloom","apply","3594198PjhWqa","input","test","trace","noise","function *\\( *\\)","globalUniforms","string","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","\n    ","randFloatSpread","#include <dithering_fragment>","instData","lucesPlane","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","TresMesh","exception","toString","1754075CuSTVw","uniforms","length","\n      uniform vec4 luces[","8789496cEvuPQ","needsUpdate","console","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","constructor","Vector4","2MEFXSY","counter","call","instanceCount","3332128tGNPnc","push","action","replace","TresPlaneGeometry","setY","8392958EpQaID","chain","material","attributes","bind","vertexShader","randFloat","stateObject","7520112VdcsiX","return (function() ","setAttribute","info","rotateX","cos","67846MDnqXO","fragmentShader"];return(Z=function(){return n})()}const V=b({__name:M(454),props:{globalUniforms:{}},setup(r){const i=M,s=r,a=[],c=[],l=new(n[i(436)])(1,36,18),u=(new(n[i(438)])).copy(l);u[i(472)]=R;const f=[];for(let e=0;e<R;e++){let e=n[i(432)][i(451)](49),o=n[i(432)][i(451)](49),r=n[i(432)][i(485)](.0625,.125),s=n[i(432)].randFloat(1,3);f.push(e,o,r),c[i(474)](new(n[i(468)])(e,o,s,n[i(432)][i(485)](1,2))),a[i(474)](new t(e,o,r,s))}u[i(489)]("instData",new e(new Float32Array(f),3));const p=new o({color:16720418,onBeforeCompile:n=>{const t=i;n[t(460)].noiseTex=s[t(447)][t(445)],n[t(484)]=(t(466)+n[t(484)]+t(450)).replace(t(431),t(430))}}),g={luces:{value:a}},v=new(n[i(429)])({color:2363940,onBeforeCompile:n=>{const t=i;n.uniforms.luces=g.luces,n[t(460)][t(439)]=s[t(447)][t(439)],n[t(460)].noiseTex=s[t(447)].noise,n[t(484)]=(t(423)+n[t(484)]+t(450))[t(476)](t(431),t(434)),n.fragmentShader=(t(462)+R+"];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      "+n[t(421)]+t(450))[t(476)]("#include <fog_fragment>",t(449)+R+"; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ")[t(476)](t(452),t(455))}}),{onLoop:m}=d();return m((({elapsed:n})=>{const t=i;for(let e=0;e<R;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(426)](n*o.w*(e%3+1))*Math[t(492)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(482)][t(453)][t(478)](e,r)}u[t(482)][t(453)][t(464)]=!0})),(n,t)=>{const e=i;return x(),y(I,null,[w(e(456),{geometry:_(u),material:_(p)},null,8,N),w("TresMesh",{material:_(v)},[w(e(477),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,F)],8,k)],64)}}});function O(n){function t(n){const e=G;if(typeof n===e(448))return function(n){}.constructor(e(422))[e(440)](e(470));1!==(""+n/n)[e(461)]||n%20==0?function(){return!0}[e(467)]("debu"+e(428))[e(471)](e(475)):function(){return!1}[e(467)]("debu"+e(428))[e(440)](e(486)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const L=Q;!function(n,t){const e=Q,o=q();for(;;)try{if(728220===-parseInt(e(213))/1*(parseInt(e(202))/2)+-parseInt(e(195))/3*(-parseInt(e(198))/4)+parseInt(e(182))/5+-parseInt(e(179))/6*(-parseInt(e(174))/7)+-parseInt(e(167))/8+parseInt(e(170))/9+-parseInt(e(204))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Q(208)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){$(this,(function(){const n=Q,t=new RegExp(n(214)),e=new RegExp(n(169),"i"),o=Y(n(176));t.test(o+n(185))&&e[n(211)](o+n(191))?Y():o("0")}))()}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Q(208)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Q(n,t){const e=q();return(Q=function(n,t){return e[n-=162]})(n,t)}X(void 0,(function(){const n=Q,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t.console=t[n(188)]||{},o=[n(171),n(162),"info",n(183),n(209),"table",n(199)];for(let r=0;r<o.length;r++){const t=X[n(173)][n(163)][n(210)](X),i=o[r],s=e[i]||t;t[n(194)]=X[n(210)](X),t.toString=s[n(189)][n(210)](s),e[i]=t}}))();const W=[L(165)];function q(){const n=["__proto__","319179ihdwia","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","#include <dithering_fragment>","8EsIuaz","trace","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","vec4 diffuseColor = vec4( diffuse, opacity );","7706pbjECS","counter","6691850WKjwQQ","TresMesh","uniforms","globalUniforms","apply","exception","bind","test","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","139EQgVUZ","function *\\( *\\)","warn","prototype","debu","material","gger","3680640SOgUOe","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5852070UlnmdY","log","MeshBasicMaterial","constructor","3983371YQehNw","portal","init","time","replace","6smkHZC","call","string","4804915GWFCeX","error","action","chain","fragmentShader","defines","console","toString","globalBloom","input","TresPlaneGeometry","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "];return(q=function(){return n})()}const H=b({__name:L(175),props:{globalUniforms:{}},setup(t){const e=L,o=t,r=new(n[e(172)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(206)][t(177)]=o[t(207)].time,n[t(206)][t(190)]=o.globalUniforms[t(190)],n[t(186)]=(t(212)+B+t(193)+n[t(186)]+"\n    ").replace(t(201),t(196))[t(178)](t(197),t(200))}});return r[e(187)]={USE_UV:""},(n,t)=>{const o=e;return x(),y(o(205),{material:_(r),position:[0,3.75,-12]},t[0]||(t[0]=[w(o(192),{args:[5,5]},null,-1)]),8,W)}}});function Y(n){function t(n){const e=Q;if(typeof n===e(181))return function(n){}[e(173)](e(168))[e(208)](e(203));1!==(""+n/n).length||n%20==0?function(){return!0}[e(173)](e(164)+e(166))[e(180)](e(184)):function(){return!1}[e(173)](e(164)+e(166))[e(208)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const J=rn;!function(n,t){const e=rn,o=tn();for(;;)try{if(665574===parseInt(e(486))/1*(-parseInt(e(519))/2)+-parseInt(e(491))/3*(parseInt(e(496))/4)+parseInt(e(487))/5+parseInt(e(548))/6+parseInt(e(518))/7*(parseInt(e(494))/8)+parseInt(e(550))/9*(-parseInt(e(493))/10)+-parseInt(e(532))/11*(-parseInt(e(504))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[rn(537)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){K(this,(function(){const n=rn,t=new RegExp(n(544)),e=new RegExp(n(526),"i"),o=sn(n(498));t[n(536)](o+n(527))&&e[n(536)](o+"input")?sn():o("0")}))()}();const nn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[rn(537)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function tn(){const n=["61580kwLbxr","setAttribute","init","debu","gEnds","counter","TresLineSegments",'{}.constructor("return this")( )',"17065164ptdesC","uniforms","console","stateObject","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","replace","geometry","prototype","vertexShader","noiseTex","while (true) {}","gger","\n      ","trace","14qxgWQm","1571366cdTAke","noise","warn","push","vec4 diffuseColor = vec4( diffuse, opacity );","__proto__","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","table","LineBasicMaterial","time","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","22kRoqoB","\n    ","action","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","test","apply","globalBloom","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","drops","bind","length","error","function *\\( *\\)","BufferGeometry","fragmentShader","constructor","125790GeIbcA","globalUniforms","23859EsdaPE","string","material","1rtaGGK","3403355wlDrTr","Float32BufferAttribute","MathUtils","randFloat","201RzUMTi","position","4820ojrVlb","858696hYDWum","#include <begin_vertex>"];return(tn=function(){return n})()}nn(void 0,(function(){const n=rn;let t;try{t=Function("return (function() "+n(503)+");")()}catch(r){t=window}const e=t[n(506)]=t[n(506)]||{},o=[n(525),n(521),"info",n(543),"exception",n(528),n(517)];for(let i=0;i<o.length;i++){const t=nn[n(547)][n(511)][n(541)](nn),r=o[i],s=e[r]||t;t[n(524)]=nn[n(541)](nn),t.toString=s.toString[n(541)](s),e[r]=t}}))();const en=[J(485),J(510)],on=b({__name:J(540),props:{globalUniforms:{}},setup(t){const e=J,o=t,s=[],a=[];for(let i=0;i<2e4;i++){const t=n[e(489)].randFloatSpread(35),o=r[e(490)](-5,10),i=n[e(489)].randFloatSpread(35),c=n[e(489)][e(490)](.25,.5);s[e(522)](t,o,i,t,o,i),a[e(522)](0,c,1,c)}const c=new(n[e(545)]);c[e(497)](e(492),new(n[e(488)])(s,3)),c.setAttribute(e(500),new i(a,2));const l=new(n[e(529)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(505)][t(530)]=o[t(549)][t(530)],n[t(505)][t(513)]=o.globalUniforms[t(520)],n[t(505)][t(538)]=o[t(549)].globalBloom,n[t(512)]=(t(539)+n[t(512)]+t(533))[t(509)](t(495),t(531)),n[t(546)]=(t(535)+B+t(516)+n[t(546)]+t(533))[t(509)](t(523),t(508))}});return(n,t)=>{const o=e;return x(),y(o(502),{material:_(l),geometry:_(c)},null,8,en)}}});function rn(n,t){const e=tn();return(rn=function(n,t){return e[n-=484]})(n,t)}function sn(n){function t(n){const e=rn;if(typeof n===e(484))return function(n){}[e(547)](e(514))[e(537)](e(501));1!==(""+n/n)[e(542)]||n%20==0?function(){return!0}[e(547)](e(499)+e(515)).call(e(534)):function(){return!1}.constructor(e(499)+"gger")[e(537)](e(507)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function an(){const n=["replace","console","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","prototype","table","call","gger","return (function() ","time","\n      uniform float time;\n      ","Vector2","setRenderTarget","constructor","8933424MDfswT","toString","globalBloom","\n    ","init","trace","259PVeLGc","renderToScreen","Color","defines","35144tjzwIF","test","stateObject","color","WebGLRenderTarget","counter","add","value","vec4 diffuseColor = vec4( diffuse, opacity );","233166EQTfiM","baseTexture","error","18PBakEu","730DAJJeq","length","render","fog","width","noise","debu","needsSwap","776jzqMpH","chain","info","106724sROlIm","3479397eGZPZu","string","target","117963kyZGxf","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","background","action","PlaneGeometry","fragmentShader","53251CAEXKR","bind","input","near","addPass","MeshBasicMaterial","set","height","545CLgiGT","log","apply","while (true) {}"];return(an=function(){return n})()}!function(n,t){const e=un,o=an();for(;;)try{if(759812===parseInt(e(165))/1*(parseInt(e(177))/2)+parseInt(e(178))/3+-parseInt(e(153))/4*(-parseInt(e(195))/5)+-parseInt(e(162))/6*(parseInt(e(149))/7)+-parseInt(e(174))/8*(parseInt(e(181))/9)+parseInt(e(166))/10*(-parseInt(e(187))/11)+parseInt(e(143))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const cn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[un(197)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){cn(this,(function(){const n=un,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=pn(n(147));t[n(154)](o+n(175))&&e[n(154)](o+n(189))?pn():o("0")}))()}();const ln=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[un(197)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function un(n,t){const e=an();return(un=function(n,t){return e[n-=133]})(n,t)}ln(void 0,(function(){const n=un,t=function(){const n=un;let t;try{t=Function(n(137)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t[n(200)]||{},o=[n(196),"warn",n(176),n(164),"exception",n(134),n(148)];for(let r=0;r<o[n(167)];r++){const t=ln[n(142)][n(133)][n(188)](ln),i=o[r],s=e[i]||t;t.__proto__=ln[n(188)](ln),t[n(144)]=s[n(144)].bind(s),e[i]=t}}))();const fn=b({__name:"fboRender",setup(t){const e=un,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(157)])(512,512),i=new s,h=new a,b=new(n[e(185)])(2,2),w=new(n[e(192)])({onBeforeCompile:n=>{const t=e;n.uniforms[t(138)]=o[t(138)],n[t(186)]=(t(139)+B+"\n      "+n[t(186)]+t(146))[t(199)](t(161),t(182))}});w[e(152)]={USE_UV:""};const _=new c(b,w);i[e(159)](_),o[e(171)][e(160)]=r.texture;const{camera:S,renderer:j,scene:D,sizes:E,controls:z}=m();T((()=>z.value),(t=>{const o=e;null==t||t[o(180)][o(193)](0,2,0),!D[o(160)].background&&(D[o(160)][o(183)]=new(n[o(151)])(6706534))}));const C=new l(j[e(160)]),M=new l(j[e(160)]),P=new u(D[e(160)],S[e(160)]),A=new f(new(n[e(140)])(E[e(170)].value,E[e(194)][e(160)]),1.2,.5,0);C[e(150)]=!1,C[e(191)](P),C[e(191)](A);const N=new p(new g({uniforms:{baseTexture:{value:null},bloomTexture:{value:C.renderTarget2.texture}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:e(201),defines:{}}),e(163));N[e(173)]=!0,M.addPass(P),M[e(191)](N),D[e(160)][e(169)]=new v(6706534,1,25);const{onLoop:k}=d();return k((({elapsed:n})=>{var t,s;const a=e;o[a(138)].value=n,j[a(160)]&&(j.value[a(141)](r),j[a(160)][a(168)](i,h),j[a(160)].setRenderTarget(null),o[a(145)][a(160)]=1.2,D[a(160)][a(169)][a(156)][a(193)](0),D[a(160)].fog[a(190)]=15,null==(t=D.value[a(183)])||t.set(0),C[a(168)](),o.globalBloom[a(160)]=0,D[a(160)].fog[a(156)].set(6706534),D[a(160)].fog[a(190)]=10,null==(s=D[a(160)].background)||s[a(193)](6706534),M.render())})),(n,t)=>(x(),y(I,null,[U(V,{globalUniforms:o}),U(H,{globalUniforms:o}),U(on,{globalUniforms:o})],64))}});function pn(n){function t(n){const e=un;if(typeof n===e(179))return function(n){}[e(142)](e(198))[e(197)](e(158));1!==(""+n/n)[e(167)]||n%20==0?function(){return!0}.constructor(e(172)+"gger")[e(135)](e(184)):function(){return!1}[e(142)](e(172)+e(136))[e(197)](e(155)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const gn={class:"text"};const vn=C({},[["render",function(n,t){return x(),y("div",gn,t[0]||(t[0]=[w("span",{class:"retro noselect"},[w("span",{style:{color:"#eae"}},"光"),S("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);!function(n,t){const e=bn,o=hn();for(;;)try{if(690724===parseInt(e(310))/1*(parseInt(e(276))/2)+parseInt(e(277))/3+-parseInt(e(289))/4*(-parseInt(e(279))/5)+parseInt(e(291))/6+parseInt(e(295))/7*(parseInt(e(300))/8)+parseInt(e(296))/9*(parseInt(e(312))/10)+-parseInt(e(285))/11*(parseInt(e(301))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[bn(309)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){dn(this,(function(){const n=bn,t=new RegExp(n(294)),e=new RegExp(n(305),"i"),o=yn(n(278));t.test(o+n(302))&&e[n(274)](o+n(311))?yn():o("0")}))()}();const mn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[bn(309)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function hn(){const n=["stateObject","call","length","11jrOmHx","info","debu","MathUtils","4ysJmbV","action","929934ZnpzsE","TresAmbientLight","while (true) {}","function *\\( *\\)","755552Surnxs","72594AjkAoC","error","bind","TresDirectionalLight","40WhgFXh","43552020KGyOMn","chain","table","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","DEG2RAD","string","apply","1xayvor","input","1110CZtXlf","trace","gger","TresCanvas","constructor","test","__proto__","2377318ESpngQ","1481826HIPZjV","init","5237315OdBueo","console","TresPerspectiveCamera"];return(hn=function(){return n})()}function bn(n,t){const e=hn();return(bn=function(n,t){return e[n-=271]})(n,t)}mn(void 0,(function(){const n=bn,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t[n(280)]=t[n(280)]||{},o=["log","warn",n(286),n(297),"exception",n(303),n(313)];for(let r=0;r<o[n(284)];r++){const t=mn.constructor.prototype[n(298)](mn),i=o[r],s=e[i]||t;t[n(275)]=mn.bind(mn),t.toString=s[n(306)][n(298)](s),e[i]=t}}))();const xn=b({__name:"lightNoise",setup(t){const e=bn,o={windowSize:!0,antialias:!0,renderMode:"manual"},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(288)][e(307)],maxPolarAngle:90*n[e(288)][e(307)],makeDefault:!0};return(n,t)=>{const i=e,s=j(i(272));return x(),y(I,null,[U(vn),U(s,E(z(o)),{default:D((()=>[t[0]||(t[0]=w(i(281),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),U(_(h),E(z(r)),null,16),t[1]||(t[1]=w(i(292),{intensity:.5},null,-1)),t[2]||(t[2]=w(i(299),{position:[0,3,-12],intensity:1},null,-1)),U(fn)])),_:1},16)],64)}}});function yn(n){function t(n){const e=bn;if(typeof n===e(308))return function(n){}.constructor(e(293))[e(309)](e(304));1!==(""+n/n).length||n%20==0?function(){return!0}[e(273)](e(287)+e(271))[e(283)](e(290)):function(){return!1}[e(273)](e(287)+e(271)).apply(e(282)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{xn as default};
