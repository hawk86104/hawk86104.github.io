import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.BSMy0VpY1728613889935.js";import{_ as s}from"./index.uz6xucpB1728613889935.js";import{_ as i,X as c,k as u,cB as a}from"./three.-yu4716U1728613889935.js";import{P as l}from"./tweakpane.yHWGBmom1728613889935.js";import{I as p,C as f,N as g,c as h,d,a as m}from"./three-mesh-bvh.JI04JGj81728613889935.js";import{d as y,a4 as w,b,a3 as j,o as I,E as v,L as _,u as x,F as T,r as z,e as A,j as M,g as k,m as B,f as E,al as O}from"./@vue.JNsx1iN61728613889935.js";import"./@vueuse.lr_j1bUm1728613889935.js";import"./index.RwBrCuom1728613889935.js";import"./@fesjs._J_IrcQ81728613889935.js";import"./vue-router.KPucoEDD1728613889935.js";import"./lodash-es.kYt-_xTG1728613889935.js";import"./@qlin.yHhFDldE1728613889935.js";import"./pinia.uQEpjCI81728613889935.js";import"./@floating-ui.BPbuo5Gx1728613889935.js";import"./@juggle.7yjBMqoW1728613889935.js";import"./chalk.sAH7iSuz1728613889935.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1728613889935.js";import"./@iconify.eRzdeG3K1728613889935.js";import"./utils.noN5GF6h1728613889935.js";import"./default.vue_vue_type_script_setup_true_lang.-mM8gP5r1728613889935.js";import"./three-mesh-ui.module.Pw8zJCF-1728613889935.js";function R(){const t=["value","debu","input","info","stateObject","call","pointerup","string","36WhVpox","while (true) {}","table","error","clientX","__proto__","firstHitOnly","button","chain","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","addEventListener","24kVGUPH","toString","1687240mbArWA","18JeKbVx","init","function *\\( *\\)","trace","163303yBKmzi","intersectObject","constructor","exception","322498YQadHY","6YALIsf","innerWidth","124329TcMjTw","61221oedKvU","clientY","gger","test","1318445PdvVBY","action",'{}.constructor("return this")( )',"91624xOHgst","pointerType","counter","touch","apply","console","Raycaster","pointerdown","innerHeight"];return(R=function(){return t})()}function S(t,n){const e=R();return(S=function(t,n){return e[t-=492]})(t,n)}!function(t,n){const e=S,r=R();for(;;)try{if(190970===-parseInt(e(518))/1*(-parseInt(e(515))/2)+-parseInt(e(517))/3*(-parseInt(e(503))/4)+-parseInt(e(522))/5+parseInt(e(542))/6*(-parseInt(e(510))/7)+parseInt(e(525))/8*(parseInt(e(506))/9)+parseInt(e(505))/10+-parseInt(e(514))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(529)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=S,n=new RegExp(t(508)),e=new RegExp(t(500),"i"),r=F(t(507));n[t(521)](r+t(498))&&e[t(521)](r+t(536))?F():r("0")}))()}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(529)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function("return (function() "+t(524)+");")()}catch(e){n=window}return n}(),e=n[t(530)]=n[t(530)]||{},r=["log","warn",t(537),t(493),t(513),t(492),t(509)];for(let o=0;o<r[t(499)];o++){const n=C[t(512)].prototype[t(501)](C),s=r[o],i=e[s]||n;n[t(495)]=C.bind(C),n[t(504)]=i.toString[t(501)](i),e[s]=n}}))();function F(t){function n(t){const e=S;if(typeof t===e(541))return function(t){}[e(512)](e(543))[e(529)](e(527));1!==(""+t/t)[e(499)]||t%20==0?function(){return!0}.constructor(e(535)+"gger")[e(539)](e(523)):function(){return!1}[e(512)]("debu"+e(520)).apply(e(538)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=Y;function Y(t,n){const e=K();return(Y=function(t,n){return e[t-=178]})(t,n)}!function(t,n){const e=Y,r=K();for(;;)try{if(378828===parseInt(e(183))/1*(-parseInt(e(259))/2)+parseInt(e(197))/3*(parseInt(e(215))/4)+-parseInt(e(266))/5+-parseInt(e(220))/6*(-parseInt(e(242))/7)+parseInt(e(196))/8*(parseInt(e(186))/9)+parseInt(e(194))/10*(-parseInt(e(203))/11)+parseInt(e(179))/12*(parseInt(e(229))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(185)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=Y,n=new RegExp(t(239)),e=new RegExp(t(210),"i"),r=N(t(224));n[t(223)](r+t(189))&&e[t(223)](r+t(258))?N():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function K(){const t=["6263RgchgR","Vector3","apply","936tuaUxx","controls","position","chain","invert","geometry","set","intersectObject","670guFsLM","color","31440DThPdZ","474078LGKpUe","disposeBoundsTree","TresMeshStandardMaterial",'{}.constructor("return this")( )',"trace","console","55352YQnjGw","material","TresMesh","toString","gger","error","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","needsUpdate","boundsTree","setScalar","enabled","4yGESbH","setFromCamera","getX","computeBoundsTree","BufferGeometry","60KxWupJ","click","applyMatrix4","test","init","setAttribute","prototype","intersectsSphere","center","13lZgCNh","raycast","getY","push","fill","call","count","Sphere","log","brushMesh","function *\\( *\\)","containsPoint","normal","49602TxvPvN","visible","debu","stateObject","setY","model","string","intersectsBox","#023249","Matrix4","TresSphereGeometry","__proto__","targetMesh.value init","length","MeshStandardMaterial","点击按钮","input","76lszdej","copy","getZ","instance","bind","BufferAttribute","active","1906500sXaFJv","info","8371920nEKfjZ","attributes","Mesh","value"];return(K=function(){return t})()}H(void 0,(function(){const t=Y;let n;try{n=Function("return (function() "+t(200)+");")()}catch(o){n=window}const e=n[t(202)]=n.console||{},r=[t(237),"warn",t(178),t(208),"exception","table",t(201)];for(let s=0;s<r.length;s++){const n=H.constructor.prototype.bind(H),o=r[s],i=e[o]||n;n[t(253)]=H.bind(H),n.toString=i[t(206)][t(263)](i),e[o]=n}}))();const L=[U(191),U(204)],W=[_(U(252),{args:[1,40,40]},null,-1),_(U(199),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],J=["geometry"],X=[_(U(199),{color:U(250),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],G=y({__name:U(247),props:{controls:{}},async setup(r){const o=U;let s,y;const z=r;(()=>{const t=Y;i[t(219)][t(226)][t(218)]=h,i[t(219)][t(226)][t(198)]=d,i[t(181)][t(226)][t(230)]=m})();const A=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),M=new(i[o(256)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*A.attributes.position[o(235)]);k[o(233)](255);const B=new(i[o(264)])(k,3,!0);B.setUsage(c),A[o(225)](o(195),B);const E=b(null),O=b(null),R=b(!1),Z=b(-1),C=b(.2),F=new u,{camera:P,raycaster:H}=t(),K=15/255,G=78/255,N=85/255;let Q=null;j((()=>{const t=o;E[t(182)]&&(console[t(237)](t(254),E.value),E.value[t(191)][t(218)](),Q=A[t(212)],((t,n,e,r,o,s)=>{const c=S;window[c(502)]("pointermove",(e=>{const r=c;t.x=e[r(494)]/window[r(516)]*2-1,t.y=-e[r(519)]/window[r(533)]*2+1,n[r(534)]=!0})),window[c(502)](c(532),(u=>{const a=c;t.x=u[a(494)]/window[a(516)]*2-1,t.y=-u[a(519)]/window.innerHeight*2+1,r[a(534)]=u[a(497)];const l=new(i[a(531)]);l.setFromCamera(t,e[a(534)]),l[a(496)]=!0;const p=l[a(511)](o.value,!0);n[a(534)]=!0,s.enabled=0===p[a(499)]}),!0),window.addEventListener(c(540),(t=>{const e=c;r[e(534)]=-1,t[e(526)]===e(528)&&(n[e(534)]=!1)}),!0)})(F,R,P,Z,E,z.controls[t(262)]))}));const{onLoop:$}=n();$((()=>{const t=o,n=A.index;if(O[t(182)])if(z[t(187)].instance[t(265)]||!R[t(182)])O[t(182)].visible=!1;else{O[t(182)].scale[t(213)](C[t(182)]),H[t(182)][t(216)](F,P[t(182)]),H.value.firstHitOnly=!0;const e=H[t(182)][t(193)](E[t(182)],!0);if(e[t(255)]){O[t(182)].position[t(260)](e[0].point),z.controls.instance[t(214)]=!1,O[t(182)][t(243)]=!0;const r=new(i[t(251)]);r[t(260)](E[t(182)].matrixWorld)[t(190)]();const o=new(i[t(236)]);o[t(228)][t(260)](O[t(182)][t(188)])[t(222)](r),o.radius=100*C[t(182)];const s=[],c=new(i[t(184)]);if(null==Q||Q.shapecast({intersectsBounds:n=>{const e=t,r=o[e(249)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(192)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(240)](c))return p;return f}return r?p:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(227)](o)){const t=3*e;s[i(232)](t,t+1,t+2)}return!1}}),0===Z[t(182)]||2===Z[t(182)]){let e=1,r=1,o=1;0===Z[t(182)]&&(e=K,r=G,o=N);for(let i=0,c=s[t(255)];i<c;i++){const c=n[t(217)](s[i]);B.setX(c,e),B[t(246)](c,r),B.setZ(c,o)}B[t(211)]=!0}}else O.value[t(243)]=!1,z[t(187)][t(262)][t(214)]=!0}}));const q=(new l).addButton({title:o(257),label:"生成模型"}),D=new(i[o(219)]);return q.on(o(221),(()=>{const t=o,n=[],e=[];for(let o=0;o<B.count;o++)B.getX(o)===K&&B[t(231)](o)===G&&B[t(261)](o)===N&&(n.push(A.attributes[t(188)][t(217)](o),A[t(180)][t(188)][t(231)](o),A[t(180)].position[t(261)](o)),e[t(232)](A.attributes[t(241)][t(217)](o),A[t(180)][t(241)][t(231)](o),A[t(180)][t(241)][t(261)](o)));const r=new Float32Array(n);D[t(225)]("position",new(i[t(264)])(r,3)),D[t(225)](t(241),new(i[t(264)])(r,3))})),(t,n)=>{const e=o;return I(),v(T,null,[_(e(205),{ref_key:"targetMesh",ref:E,geometry:x(A),scale:.005,material:x(M)},null,8,L),_(e(205),{ref_key:e(238),ref:O,visible:!1},W,512),_(e(205),{geometry:x(D),position:[-2,-2,2],scale:.005},X,8,J)],64)}}});function N(t){function n(t){const e=Y;if(typeof t===e(248))return function(t){}[e(209)]("while (true) {}").apply("counter");1!==(""+t/t)[e(255)]||t%20==0?function(){return!0}.constructor(e(244)+"gger")[e(234)]("action"):function(){return!1}.constructor(e(244)+e(207))[e(185)](e(245)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function Q(t,n){const e=$();return(Q=function(t,n){return e[t-=227]})(t,n)}function $(){const t=["stateObject","gger","log","collectTriangles","trace","728913cNwIJr","7EFiFCU","TresAmbientLight","537977pOJnys","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","init","call","test","20DDzNgO","312aUaQyP","length","action","pos-z.jpg","counter","2OWBQIz","neg-y.jpg","4708170gEtJyl","controls","apply","650739exYsKD","neg-z.jpg","error","#999999","console","TresCanvas","input","while (true) {}","257028WBblbX","return (function() ","constructor","chain","2204154nvTovD","50QZROKQ","__proto__",'{}.constructor("return this")( )',"value","function *\\( *\\)","6300392PhqdZa","TresPerspectiveCamera","table","bind"];return($=function(){return t})()}const q=Q;!function(t,n){const e=Q,r=$();for(;;)try{if(533484===-parseInt(e(242))/1*(parseInt(e(237))/2)+-parseInt(e(269))/3+parseInt(e(250))/4*(parseInt(e(255))/5)+parseInt(e(239))/6*(-parseInt(e(270))/7)+parseInt(e(260))/8+-parseInt(e(254))/9*(parseInt(e(231))/10)+-parseInt(e(272))/11*(-parseInt(e(232))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(241)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=Q,n=new RegExp(t(259)),e=new RegExp(t(273),"i"),r=rt(t(228));n[t(230)](r+t(253))&&e[t(230)](r+t(248))?rt():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(241)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();V(void 0,(function(){const t=Q;let n;try{n=Function(t(251)+t(257)+");")()}catch(o){n=window}const e=n[t(246)]=n.console||{},r=[t(266),"warn","info",t(244),t(227),t(262),t(268)];for(let s=0;s<r[t(233)];s++){const n=V.constructor.prototype.bind(V),o=r[s],i=e[o]||n;n[t(256)]=V[t(263)](V),n.toString=i.toString[t(263)](i),e[o]=n}}))();const tt=_(q(261),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),nt=_(q(271),{intensity:1},null,-1),et=y({__name:q(267),setup(t){const n=q,e=z({clearColor:n(245),antialias:!0}),i=z({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=A(a(247));return I(),v(T,null,[M(x(s)),M(l,B(e,{"window-size":""}),{default:k((()=>[tt,M(x(r),B({ref_key:"controlsRef",ref:c},i),null,16),nt,(I(),E(O,null,{default:k((()=>[M(G,{controls:c[a(258)]},null,8,[a(240)])])),_:1})),(I(),E(O,null,{default:k((()=>[M(x(o),{background:!1,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg",a(238),a(235),a(243)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function rt(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}[e(252)](e(249))[e(241)](e(236));1!==(""+t/t)[e(233)]||t%20==0?function(){return!0}.constructor("debu"+e(265))[e(229)](e(234)):function(){return!1}[e(252)]("debu"+e(265))[e(241)](e(264)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
