{"version":3,"file":"fog.Dg5-Qzom1767105581793.js","sources":["../../src/plugins/digitalCity/components/fog/index.vue","../../src/plugins/digitalCity/pages/fog.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2023-12-12 11:40:48\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2024-07-18 11:02:29\n-->\n<template></template>\n\n<script setup lang=\"ts\">\nimport { useTres } from '@tresjs/core'\nimport { Color, FogExp2, Fog } from 'three'\nimport { watch } from 'vue'\n\nconst props = withDefaults(\n    defineProps<{\n        type?: String\n        color?: String\n        density?: Number\n        near?: Number\n        far?: Number\n    }>(),\n    {\n        type: 'Fog',\n        color: '#000',\n        density: 0.01,\n        near: 100,\n        far: 4000,\n    },\n)\n\nconst { scene } = useTres()\nwatch(\n    () => props.type,\n    (nv) => {\n        if (nv === 'FogExp2') {\n            scene.value.fog = new FogExp2(props.color, props.density)\n        } else {\n            scene.value.fog = new Fog(props.color, props.near, props.far)\n        }\n    },\n    { immediate: true },\n)\n\nwatch(\n    () => [props.color, props.near, props.far, props.density],\n    ([color, near, far, density]) => {\n        scene.value.fog.color = new Color(color)\n        if (props.type === 'Fog') {\n            scene.value.fog.near = near\n            scene.value.fog.far = far\n        } else {\n            scene.value.fog.density = density\n        }\n    },\n)\n</script>\n","<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2023-11-28 10:04:13\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2023-12-12 11:37:10\n-->\n<template>\n\t<pagesShow ref=\"pagesShowRef\">\n\t\t<template v-slot:ability>\n\t\t\t<fog v-bind=\"fogState\" />\n\t\t</template>\n\t</pagesShow>\n</template>\n\n<script setup lang=\"ts\">\nimport pagesShow from '../components/pagesShow.vue'\nimport fog from '../components/fog/index.vue'\nimport { Pane } from 'tweakpane'\nimport { reactive } from 'vue'\n\nconst fogState = reactive({\n\ttype: 'Fog',\n\tcolor: \"#000\",\n\tdensity: 0.001,\n\tnear: 100,\n\tfar: 4000,\n})\n\nconst pane = new Pane()\npane.addBlade({\n\tview: 'list',\n\tlabel: '类型',\n\toptions: [\n\t\t{ text: '普通雾', value: 'Fog' },\n\t\t{ text: '雾Exp2', value: 'FogExp2' },\n\t],\n\tvalue: 'Fog',\n}).on('change', (ev) => {\n\tfogState.type = ev.value\n\n\tpane.children[2].hidden = ev.value === 'Fog'\n\tpane.children[3].hidden = ev.value === 'FogExp2'\n\tpane.children[4].hidden = ev.value === 'FogExp2'\n})\npane.addBinding(fogState, 'color', { label: '颜色' })\npane.addBinding(fogState, 'density', {\n\tlabel: '密度', min: 0.00025,\n\tmax: 0.001,\n\tstep: 0.0001,\n})\npane.children[2].hidden = true\npane.addBinding(fogState, 'near', {\n\tlabel: '最小距离', min: 100,\n\tmax: 1000,\n\tstep: 10,\n})\npane.addBinding(fogState, 'far', {\n\tlabel: '最大距离', min: 1000,\n\tmax: 10000,\n\tstep: 100,\n})\n</script>\n"],"names":["useTres","pagesShow","fog"],"mappings":"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"}