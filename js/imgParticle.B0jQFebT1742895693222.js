import{a as t,o as n}from"./@tresjs.xCsT8yve1742895693222.js";import"./index.VKBc7JxG1742895693222.js";import{P as o}from"./tweakpane.ivGeiIdz1742895693222.js";import{_ as e}from"./three.DqHgeVY11742895693222.js";import{d as r,a3 as s,w as i,o as u,H as c,N as a,u as l,aj as p,ak as f,r as m,e as _,f as g,g as d,j as v,al as h,m as C}from"./@vue.C4dqouNn1742895693222.js";import{_ as j}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.TZOFwjHG1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.hpbvdK8B1742895693222.js";import"./all.three.HdzEZEmD1742895693222.js";import"./oimophysics.WhCxc1Ho1742895693222.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.uHOXXvtN1742895693222.js";import"./index.hoamjIa41742895693222.js";import"./three-stdlib.RjQ8hpvq1742895693222.js";import"./@pmndrs.hpTTkqV81742895693222.js";import"./object-hash.nWaMbOK21742895693222.js";import"./@amap.hJQcpQRT1742895693222.js";import"./jszip.-Z3W6wk-1742895693222.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.LLsikmuH1742895693222.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.RaObrP1y1742895693222.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.l91g-vb91742895693222.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.s8P-Tq3H1742895693222.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Ve0bLcaN1742895693222.js";const w=b;function y(){const t=["value","string","height","4vdePKI","log","image","2866964MQJgEA","bind",'{}.constructor("return this")( )',"test","drawImage","Color","5131629EqudOB","943344dRmJzM","random","prototype","constructor","stateObject","return (function() ","5519874rEVUSF","table","uniforms","init","info","function *\\( *\\)","#ff0000","counter","exception","TresBufferGeometry","getContext","gger","\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}","1858597BLPpef","color_list","__proto__","error","trace","91MxGzos","createElement","chain","TresPoints","zPos","data","AdditiveBlending","2303100EdzYwP","length","set","width","./logo.png","warn","21743928JhThpT","console","toString","customColor","useCustomColor","push","TresShaderMaterial","canvas","apply","input","imgParticleMesh","debu","call"];return(y=function(){return t})()}function b(t,n){const o=y();return b=function(t,n){return o[t-=199]},b(t,n)}!function(t,n){const o=b,e=y();for(;;)try{if(978229===parseInt(o(241))/1+-parseInt(o(215))/2+-parseInt(o(221))/3*(parseInt(o(212))/4)+parseInt(o(253))/5+parseInt(o(228))/6+-parseInt(o(246))/7*(parseInt(o(222))/8)+parseInt(o(259))/9)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[b(204)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){P(this,(function(){const t=b,n=new RegExp(t(233)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=T(t(231));n[t(218)](e+t(248))&&o.test(e+t(205))?T():e("0")}))()}();const z=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[b(204)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();z(void 0,(function(){const t=b;let n;try{n=Function(t(227)+t(217)+");")()}catch(r){n=window}const o=n[t(260)]=n.console||{},e=[t(213),t(258),t(232),t(244),t(236),t(229),t(245)];for(let s=0;s<e[t(254)];s++){const n=z[t(225)][t(224)][t(216)](z),r=e[s],i=o[r]||n;n[t(243)]=z[t(216)](z),n[t(261)]=i[t(261)].bind(i),o[r]=n}}))();const I={position:[-8,10,-2],scale:.02},x=["position",w(242)],M=r({__name:w(206),props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:w(234)}},async setup(n){const o=w;let r,m;const _=n,g=([r,m]=s((()=>t([o(257)]))),r=await r,m(),r),d=document[o(247)](o(203)),v=g[o(214)][o(256)],h=g.image[o(211)];d.width=v,d[o(211)]=h;const C=d[o(238)]("2d");C?.[o(219)](g.image,0,0);const j=C?.getImageData(0,0,v,h)[o(251)],y=[],b=[];if(j)for(let t=0;t<h;t++)for(let n=0;n<v;n++){const e=4*(t*v+n);if(j[e+3]>0){const r=j[e]/255,s=j[e+1]/255,i=j[e+2]/255,u=100*Math[o(223)]();y[o(201)](n,-t,u),b[o(201)](r,s,i)}}const P=new Float32Array(y),z=new Float32Array(b),M={uniforms:{zPos:{value:_[o(250)]},useCustomColor:{value:_.useCustomColor},customColor:{value:new(e[o(220)])(_[o(199)])}},vertexShader:"\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}",fragmentShader:o(240),transparent:!0,depthTest:!1,blending:e[o(252)]};return i((()=>[_[o(250)],_[o(200)],_.customColor]),(([t,n,e])=>{const r=o;M[r(230)].zPos.value=t,M.uniforms.useCustomColor[r(209)]=n,M[r(230)].customColor[r(209)][r(255)](e)})),(t,n)=>{const e=o;return u(),c(e(249),I,[a(e(237),{position:[l(P),3],color_list:[l(z),3]},null,8,x),a(e(202),p(f(M)),null,16)])}}});function T(t){function n(t){const o=b;if(typeof t===o(210))return function(t){}[o(225)]("while (true) {}")[o(204)](o(235));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+o(239))[o(208)]("action"):function(){return!1}[o(225)](o(207)+o(239))[o(204)](o(226)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const E=R;!function(t,n){const o=R,e=S();for(;;)try{if(866044===parseInt(o(393))/1+parseInt(o(377))/2+-parseInt(o(403))/3+-parseInt(o(416))/4+-parseInt(o(407))/5+parseInt(o(388))/6+parseInt(o(392))/7)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const F=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[R(381)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){F(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(398),"i"),e=k(t(409));n[t(415)](e+t(413))&&o[t(415)](e+t(390))?k():e("0")}))()}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[R(381)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function S(){const t=["log","chain","TresCanvas","test","2672756bDsNJl","action","info","#050505","#ff0000","trace","523612eMpTjl","warn","自定义颜色","stateObject","apply","constructor","call","customColor",'{}.constructor("return this")( )',"gger","TresAmbientLight","2451060RppIXz","prototype","input","TresPerspectiveCamera","18097583mLEMjb","324132xjgpCh","console","toString","__proto__","useCustomColor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","error","counter","string","4305942TqLZNy","addBinding","debu","imgParticle","3051350pMmNWz","bind","init","zPos","return (function() "];return(S=function(){return t})()}function R(t,n){const o=S();return R=function(t,n){return o[t-=374]},R(t,n)}A(void 0,(function(){const t=R;let n;try{n=Function(t(411)+t(385)+");")()}catch(r){n=window}const o=n.console=n[t(394)]||{},e=[t(412),t(378),t(418),t(400),"exception","table",t(376)];for(let s=0;s<e[t(399)];s++){const n=A[t(382)][t(389)][t(408)](A),r=e[s],i=o[r]||n;n[t(396)]=A[t(408)](A),n[t(395)]=i.toString.bind(i),o[r]=n}}))();const Z=r({__name:E(406),setup(t){const e=E,r={clearColor:e(374),antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=m({zPos:1,useCustomColor:!1,customColor:e(375)}),c=new o({title:"参数"});return c[e(404)](i,e(410),{label:"厚度",min:.5,max:10,step:.5}),c[e(404)](i,e(397),{label:"使用自定义颜色"}),c[e(404)](i,e(384),{label:e(379)}),(t,o)=>{const c=e,m=_(c(414));return u(),g(m,C(r,{"window-size":""}),{default:d((()=>[o[0]||(o[0]=a(c(391),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),v(l(n)),o[1]||(o[1]=a(c(387),{intensity:.5},null,-1)),(u(),g(h,null,{default:d((()=>[v(M,p(f(i)),null,16)])),_:1})),(u(),g(h,null,{default:d((()=>[v(l(j),C({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function k(t){function n(t){const o=R;if(typeof t===o(402))return function(t){}[o(382)]("while (true) {}").apply(o(401));1!==(""+t/t)[o(399)]||t%20==0?function(){return!0}[o(382)](o(405)+o(386))[o(383)](o(417)):function(){return!1}[o(382)](o(405)+o(386))[o(381)](o(380)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{Z as default};
