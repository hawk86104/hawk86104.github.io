import{U as n,C as t}from"./@tresjs.b88d4FZI1731641201182.js";import{m as o,bm as e,C as r,aB as i,a0 as a,_ as s,K as l}from"./three.-z-VOBM71731641201182.js";import{P as u}from"./tweakpane.yHWGBmom1731641201182.js";import{d as c,r as f,a3 as p,e as d,o as g,f as v,g as m,J as w,j as h,u as y,al as I}from"./@vue.-THQH3GC1731641201182.js";import"./@vueuse.XeXqlNFe1731641201182.js";!function(n,t){for(var o=_,e=x();;)try{if(424607===-parseInt(o(166))/1*(-parseInt(o(158))/2)+parseInt(o(146))/3*(parseInt(o(168))/4)+-parseInt(o(157))/5*(parseInt(o(155))/6)+parseInt(o(165))/7+parseInt(o(160))/8*(-parseInt(o(154))/9)+parseInt(o(122))/10*(parseInt(o(163))/11)+-parseInt(o(129))/12*(parseInt(o(121))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var b=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[_(152)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function x(){var n=["length","warn","string","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","34716IMoiAu","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","falloff","blendMode","while (true) {}","vertexShader","log","error","depthTest","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","exception","__proto__","opacity","prototype","action","console","trace","492321QPcvAB","bind","init","uniforms","setValues","glowColor","apply","function *\\( *\\)","627093ZrrRxk","4014mEHxhk","test","4435yRBNMq","102vMFkaJ","constructor","40MWWzGX","call","#00d5ff","2288066utkKkj","glowInternalRadius","4303516SUdJrO","13919AGkdYR","side","20VhjQCa","chain","input","fragmentShader","toString","info","blending","5369tgAOvR","20IXDqZD","glowSharpness"];return(x=function(){return n})()}!function(){b(this,(function(){var n=_,t=new RegExp(n(153)),o=new RegExp(n(128),"i"),e=R(n(148));t[n(156)](e+n(169))&&o[n(156)](e+n(170))?R():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[_(152)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(n,t){var o=x();return(_=function(n,t){return o[n-=118]})(n,t)}j(void 0,(function(){var n,t=_;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(l){n=window}for(var o=n[t(144)]=n[t(144)]||{},e=[t(135),t(125),t(119),t(136),t(139),t(127),t(145)],r=0;r<e[t(124)];r++){var i=j[t(159)][t(142)][t(147)](j),a=e[r],s=o[a]||i;i[t(140)]=j[t(147)](j),i.toString=s[t(118)][t(147)](s),o[a]=i}}))();const C=class extends o{constructor(n={}){var t=_;super(),this[t(134)]=t(138),this[t(171)]=t(130),this[t(149)]={opacity:new e(void 0!==n[t(141)]?n.opacity:1),glowInternalRadius:new e(void 0!==n[t(164)]?n[t(164)]:6),glowSharpness:new e(void 0!==n[t(123)]?n[t(123)]:.5),falloff:new e(void 0!==n.falloff?n[t(131)]:.1),glowColor:new e(void 0!==n[t(151)]?new r(n[t(151)]):new r(t(162)))},this[t(150)](n),this[t(137)]=void 0!==n[t(137)]&&n.depthTest,this[t(120)]=void 0!==n[t(132)]?n.blendMode:i,this.transparent=!0,this[t(167)]=void 0!==n.side?n.side:a}};function R(n){function t(n){var o=_;if(typeof n===o(126))return function(n){}[o(159)](o(133))[o(152)]("counter");1!==(""+n/n)[o(124)]||n%20==0?function(){return!0}.constructor("debugger")[o(161)](o(143)):function(){return!1}.constructor("debugger")[o(152)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const S=T;!function(n,t){const o=T,e=M();for(;;)try{if(633812===-parseInt(o(313))/1*(-parseInt(o(328))/2)+-parseInt(o(339))/3*(-parseInt(o(353))/4)+-parseInt(o(363))/5+-parseInt(o(333))/6+parseInt(o(377))/7+-parseInt(o(355))/8*(-parseInt(o(371))/9)+-parseInt(o(370))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(323)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){k(this,(function(){const n=T,t=new RegExp(n(369)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=D(n(382));t[n(349)](e+n(338))&&o[n(349)](e+n(337))?D():e("0")}))()}();const z=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function M(){const n=["pos-z.jpg","apply","材质面","table","value","info","381020ZLZHuM","counter","exception","warn","TorusKnotGeometry","6155154eoIROd","call","opacity","neg-z.jpg","input","chain","570621OdvcYC","string","DoubleSide","清晰度","constructor","Mesh","falloff","blue","action","glowSharpness","test","console","log","TresCanvas","16XiXzGv","while (true) {}","838424QsDtDH","pos-x.jpg","FrontSide","#a058c1","Color","uniforms","debu","toString","5070140DzCgPE","glowInternalRadius","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","辉光参数","gger","TresGroup","function *\\( *\\)","10976300pGEPCu","72usCzoG","prototype","neg-x.jpg","error","TresMeshPhysicalMaterial","TresAmbientLight","7203119sWrgVJ","glowColor","side","primitive","TresTorusKnotGeometry","init","TresPerspectiveCamera","6cCRwJA","stateObject","return (function() ",'{}.constructor("return this")( )',"object","bind","内半径","addBinding","TresGridHelper"];return(M=function(){return n})()}z(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(315)+n(316)+");")()}catch(o){t=window}return t}(),o=t[n(350)]=t[n(350)]||{},e=[n(351),n(331),n(327),n(374),n(330),n(325),"trace"];for(let r=0;r<e.length;r++){const t=z[n(343)][n(372)][n(318)](z),i=e[r],a=o[i]||t;t.__proto__=z[n(318)](z),t[n(362)]=a[n(362)][n(318)](a),o[i]=t}}))();const P={position:[0,6,0]},G=[S(317)];function T(n,t){const o=M();return(T=function(n,t){return o[n-=312]})(n,t)}const A=c({__name:"fakeGlow",setup(o){const e=S,r=new u({title:e(366),expanded:!0}),i=f({glowColor:e(358),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(357)],depthTest:!1}),a=new C,c=new(s[e(344)])(new(s[e(332)])(4,3.8,128,128),a);return r[e(320)](i,e(378),{label:"颜色"}),r.addBinding(i,"falloff",{label:"衰减",min:0,max:10,step:.1}),r[e(320)](i,"glowInternalRadius",{label:e(319),min:-5,max:5,step:.1}),r.addBinding(i,e(348),{label:e(342),min:0,max:10,step:.1}),r[e(320)](i,e(335),{label:"透明",min:0,max:1,step:.1}),r[e(320)](i,e(379),{label:e(324),options:{FrontSide:s[e(357)],BackSide:l,DoubleSide:s[e(341)]}}),p((()=>{const n=e;a[n(360)][n(345)][n(326)]=i[n(345)],a[n(360)].glowColor.value=new(s[n(359)])(i.glowColor),a.uniforms[n(364)][n(326)]=i[n(364)],a.uniforms[n(348)].value=i[n(348)],a[n(360)][n(335)][n(326)]=i[n(335)],a[n(379)]=i[n(379)]})),(o,r)=>{const i=e,a=d(i(352));return g(),v(a,{"window-size":""},{default:m((()=>[r[1]||(r[1]=w(i(312),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=w(i(376),{intensity:1.5},null,-1)),r[3]||(r[3]=w("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1)),h(y(n),{autoRotate:""}),r[4]||(r[4]=w(i(321),{args:[20,10]},null,-1)),w(i(368),P,[r[0]||(r[0]=w("TresMesh",null,[w(i(381),{args:[4,.5,128,128]}),w(i(375),{color:i(346),roughness:.2,clearcoat:1})],-1)),w(i(380),{object:y(c)},null,8,G)]),(g(),v(I,null,{default:m((()=>[h(y(t),{files:[i(356),i(373),"pos-y.jpg","neg-y.jpg",i(322),i(336)],path:i(365)})])),_:1}))])),_:1})}}});function D(n){function t(n){const o=T;if(typeof n===o(340))return function(n){}[o(343)](o(354))[o(323)](o(329));1!==(""+n/n).length||n%20==0?function(){return!0}[o(343)](o(361)+o(367))[o(334)](o(347)):function(){return!1}[o(343)](o(361)+o(367))[o(323)](o(314)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{A as default};
