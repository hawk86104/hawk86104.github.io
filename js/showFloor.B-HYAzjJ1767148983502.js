import{importShared as n,mergeGeometries as g}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{zr as v,Kk as k}from"./index.DTe2qqjO1767148983502.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.B7dQ_CiZ1767148983502.js";import"./index.vue_vue_type_script_setup_true_lang.CjsHShHS1767148983502.js";import{useGLTF as y}from"./index.Bk2zy1aS1767148983502.js";import{Reflector as B,ReflectorMaterial as T}from"./OimoPhysicsController.C1pzCmuS1767148983502.js";const{withAsyncContext:b,defineComponent:R}=await n("vue"),{unref:N,openBlock:G,createElementBlock:P}=await n("vue"),S=["rotation-x","object"],{Vector2:V,Color:E,Mesh:I,Matrix4:c}=await n("three"),$=R({__name:"sciFiModular",async setup(M){let t,e;const{scene:s}=v(),{nodes:x}=([t,e]=b(()=>y("https://opensource.cdn.icegl.cn/model/floor/modelDraco.glb")),t=await t,e(),t),l=x.Cube016__0,a=l.geometry,h=g([a.clone(),a.clone().applyMatrix4(new c().makeRotationZ(-Math.PI/2)),a.clone().applyMatrix4(new c().makeRotationZ(Math.PI/2)),a.clone().applyMatrix4(new c().makeRotationZ(-Math.PI))]),i=new B,m=new T({reflectivity:6,mirror:.1,mixStrength:3,color:new E("#fff"),map:l.material.map.clone(),normalMap:l.material.normalMap.clone(),normalScale:new V(1,1),fog:s.fog,dithering:!0});m.uniforms.tReflect=i.renderTargetUniform,m.uniforms.uMatrix=i.textureMatrixUniform;const r=new I(h,m);return r.add(i),r.onBeforeRender=(p,f,C)=>{r.visible=!1,i.update(p,f,C),r.visible=!0},(p,f)=>(G(),P("primitive",{"rotation-x":-Math.PI/2,object:N(r)},null,8,S))}}),{defineComponent:A}=await n("vue"),{createElementVNode:o,unref:F,createVNode:u,Suspense:Z,withCtx:_,openBlock:d,createBlock:w,resolveComponent:j}=await n("vue"),q=A({__name:"showFloor",setup(M){return(t,e)=>{const s=j("TresCanvas");return d(),w(s,{clearColor:"#201919","window-size":""},{default:_(()=>[e[0]||(e[0]=o("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1)),u(F(k),{enableDamping:""}),e[1]||(e[1]=o("TresAmbientLight",{intensity:10},null,-1)),e[2]||(e[2]=o("TresMesh",{position:[3,2,0]},[o("TresBoxGeometry",{args:[2,2,2]}),o("TresMeshNormalMaterial",{wireframe:!0})],-1)),e[3]||(e[3]=o("TresMesh",{position:[0,1.2,0]},[o("TresBoxGeometry",{args:[1,1,1]}),o("TresMeshNormalMaterial")],-1)),(d(),w(Z,null,{default:_(()=>[u($)]),_:1}))]),_:1})}}});export{q as default};
