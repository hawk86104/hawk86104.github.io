import{a as t,B as n,s as e,c6 as o,C as r,k as s,a0 as c}from"./three.VhLXWX0H1735906732968.js";import{w as i}from"./@fesjs.OL5agSaf1735906732968.js";import{b as a}from"./@tresjs.XlmHwCPa1735906732968.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.vwwt1TUO1735906732968.js";!function(t,n){const e=h,o=y();for(;;)try{if(683549===parseInt(e(449))/1*(-parseInt(e(509))/2)+parseInt(e(464))/3+parseInt(e(445))/4+parseInt(e(443))/5*(-parseInt(e(517))/6)+parseInt(e(452))/7*(-parseInt(e(520))/8)+-parseInt(e(519))/9+-parseInt(e(456))/10*(-parseInt(e(457))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=h,n=new RegExp(t(481)),e=new RegExp(t(467),"i"),o=I(t(450));n[t(485)](o+t(494))&&e[t(485)](o+t(483))?I():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(495)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=h;let n;try{n=Function(t(501)+t(468)+");")()}catch(r){n=window}const e=n[t(454)]=n.console||{},o=[t(455),t(479),"info","error",t(444),t(466),t(499)];for(let s=0;s<o[t(489)];s++){const n=m[t(472)][t(507)][t(502)](m),r=o[s],c=e[r]||n;n.__proto__=m[t(502)](m),n[t(493)]=c.toString[t(502)](c),e[r]=n}}))();const g=(n,e=!1)=>{const o=h;n[o(498)]();const{max:r,min:s}=n.boundingBox;n[o(447)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n.attributes[o(453)].count;t++)e?(a.push((n[o(469)][o(453)].getX(t)-(s.x+r.x)/2)/c),a[o(492)]((n.attributes.position[o(471)](t)-(s.y+r.y)/2)/i)):(a.push((n.attributes[o(453)][o(496)](t)-s.x)/c),a[o(492)]((n[o(469)][o(453)][o(471)](t)-s.y)/i));const u=new Float32Array(a);n[o(484)]("uv",new t(u,2))};function h(t,n){const e=y();return(h=function(t,n){return e[t-=440]})(t,n)}const d=(t,n)=>new Promise(((e,o)=>{const r=h;i(t,{},{method:"get",mergeRequest:!0,responseType:r(506)})[r(440)]((t=>{n&&e(t[n]),e(t.features)}))[r(487)]((t=>{console[r(473)](t),o(t)}))}));function y(){const t=["bind","call","disposeBoundsTree","raycast","json","prototype","while (true) {}","64506ADVKeX","setY","sub","random","min","copy","gger","negate","1091628OFJtrL","depthWrite","10563966UxKxjX","272QJmYIb","boundingBox","reflectivity","material","then","divideScalar","debu","25DXwPKF","exception","2174712FIDjfa","applyMatrix4","deleteAttribute","geometry","34brqixi","init","forEach","29456umGQxC","position","console","log","3820UKKVWF","64658jVEinG","set","counter","clone","computeBoundsTree","children","value","3652839EpZNMg","#fff","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"attributes","stateObject","getY","constructor","error","transparent","Box3","max","action","Vector3","warn","string","function *\\( *\\)","setFromObject","input","setAttribute","test","side","catch","uniforms","length","center","count","push","toString","chain","apply","getX","getCenter","computeBoundingBox","trace","add","return (function() "];return(y=function(){return t})()}const w=t=>{const n=h,e=(new(THREE[n(475)]))[n(482)](t),o=new(THREE[n(478)]);e[n(497)](o),t[n(462)][n(451)]((t=>{const e=n;t[e(453)][e(511)](o)})),t[n(453)].copy(o[n(516)]())},x=()=>{const t=h;n[t(507)][t(461)]=u,n[t(507)][t(504)]=p,e[t(507)][t(505)]=f},b=async t=>{const n=h,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(460)]();g(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(465)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(474)]=!0,u[n(523)][n(518)]=!0,u.material.depthTest=!0,u[n(523)][n(486)]=c,u[n(523)][n(488)].config[n(463)].w=20,u[n(523)][n(488)][n(522)][n(463)]=.46,u};function j(t){const n=h,e=[];for(let r=0;r<t[n(489)];r++)e[n(492)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(489)];r++)o[n(500)](e[r]);o[n(441)](e[n(489)]);for(let r=0;r<e[n(489)];r++)e[r][n(511)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=h;if(typeof t===e(480))return function(t){}.constructor(e(508)).apply(e(459));1!==(""+t/t)[e(489)]||t%20==0?function(){return!0}[e(472)]("debu"+e(515))[e(503)](e(477)):function(){return!1}[e(472)](e(442)+e(515)).apply(e(470)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,d as l,g as r,b as s};
