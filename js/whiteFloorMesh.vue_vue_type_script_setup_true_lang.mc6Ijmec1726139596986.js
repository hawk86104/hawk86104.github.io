import{_ as t,bT as n,a3 as r,au as o,C as e}from"./three.ewwqFbMB1726139596986.js";import{z as a}from"./@tresjs.ml1V726H1726139596986.js";import{d as s,b as u,a4 as c,w as i,o as f,E as l,L as p,aj as h,ak as d}from"./@vue.JNsx1iN61726139596986.js";function g(t,n){const r=y();return(g=function(t,n){return r[t-=178]})(t,n)}!function(t,n){const r=g,o=y();for(;;)try{if(779549===parseInt(r(198))/1*(-parseInt(r(209))/2)+-parseInt(r(193))/3+-parseInt(r(210))/4*(-parseInt(r(197))/5)+-parseInt(r(185))/6*(parseInt(r(224))/7)+parseInt(r(220))/8*(parseInt(r(211))/9)+parseInt(r(214))/10*(parseInt(r(200))/11)+parseInt(r(204))/12)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=g,n=new RegExp(t(223)),r=new RegExp(t(205),"i"),o=I(t(212));n[t(178)](o+t(216))&&r[t(178)](o+t(225))?I():o("0")}))()}();const v=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[g(201)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();v(void 0,(function(){const t=g;let n;try{n=Function(t(181)+t(207)+");")()}catch(e){n=window}const r=n[t(203)]=n[t(203)]||{},o=[t(184),"warn",t(194),t(192),"exception",t(231),t(188)];for(let a=0;a<o[t(187)];a++){const n=v[t(195)].prototype[t(235)](v),e=o[a],s=r[e]||n;n.__proto__=v[t(235)](v),n[t(202)]=s.toString[t(235)](s),r[e]=n}}))();const w=()=>{const r=g;return r(180)+t[r(182)][r(186)]+r(199)+t[r(182)][r(226)]+"\n      \t"+n[r(183)]+r(218)+t[r(182)][r(191)]+"\n          "+t[r(182)].defaultnormal_vertex+"\n          "+t[r(182)][r(213)]+r(206)+n[r(233)]+r(206)+n[r(189)]+r(206)+t[r(182)][r(221)]+r(229)},_=()=>{const r=g;return r(219)+n.common+"\n\t "+n[r(230)]+"\n\t "+t[r(182)][r(226)]+r(234)+t[r(182)][r(222)]+r(234)+t[r(182)].shadowmap_pars_fragment+r(234)+t[r(182)][r(196)]+r(227)};function I(t){function n(t){const r=g;if(typeof t===r(215))return function(t){}[r(195)](r(190)).apply(r(217));1!==(""+t/t)[r(187)]||t%20==0?function(){return!0}[r(195)](r(179)+"gger")[r(208)](r(232)):function(){return!1}.constructor("debu"+r(228))[r(201)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function y(){const t=["\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","gger","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","packing","table","action","project_vertex","\n\t ","bind","test","debu","\n       varying vec2 vUv;\n\t\t\t \t","return (function() ","ShaderChunk","shadowmap_pars_vertex","log","5172HEBpkC","common","length","trace","worldpos_vertex","while (true) {}","beginnormal_vertex","error","3475584SyylXc","info","constructor","shadowmask_pars_fragment","210VnZtWp","1131PJWYMQ","\n      \t","1719124UMHGdv","apply","toString","console","31436364NiBukY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n          ",'{}.constructor("return this")( )',"call","2336GmuFPU","70608FtzQqk","3354417AVyCES","init","begin_vertex","30INZzuM","string","chain","counter","\n       void main() {\n\t\t\t\t\t","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","16PjttAT","shadowmap_vertex","lights_pars_begin","function *\\( *\\)","10689IlyeiT","input","bsdfs"];return(y=function(){return t})()}const x=C;!function(t,n){const r=C,o=k();for(;;)try{if(607896===-parseInt(r(438))/1+-parseInt(r(425))/2+-parseInt(r(464))/3*(parseInt(r(468))/4)+parseInt(r(441))/5*(parseInt(r(478))/6)+parseInt(r(440))/7*(-parseInt(r(446))/8)+-parseInt(r(427))/9*(parseInt(r(472))/10)+parseInt(r(436))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const b=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[C(444)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=C,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(445),"i"),o=M(t(461));n.test(o+t(448))&&r.test(o+t(463))?M():o("0")}))()}();const S=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[C(444)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function C(t,n){const r=k();return(C=function(t,n){return r[t-=423]})(t,n)}S(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(424)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(473)]=n[t(473)]||{},o=[t(452),t(449),t(460),t(429),"exception",t(470),"trace"];for(let e=0;e<o[t(432)];e++){const n=S[t(465)][t(479)][t(439)](S),a=o[e],s=r[a]||n;n[t(430)]=S[t(439)](S),n[t(434)]=s[t(434)][t(439)](s),r[a]=n}}))();const j=[x(423)],T=[x(475)];function k(){const t=["TresShaderMaterial","8qGIARA","debu","table","TresPlaneGeometry","40YgxXKj","console","TresMesh","args","uShadowColor","uniforms","1074HSaLTg","prototype","rotation-x","return (function() ","2080586lbrPeB","stateObject","718425NANdVB","whiteFloorMesh","error","__proto__","value","length","UniformsUtils","toString","shadowColor","39363995Dhgify","color","498467NYkItG","bind","322itHDcz","17165OLOLaa","counter","gger","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","120104NAsLJw","call","chain","warn","lights","fEdge","log","uColor","string","merge","while (true) {}","Color","wrapS","DoubleSide","info","init","#990","input","1554747dRWXNj","constructor","edge"];return(k=function(){return t})()}const E=s({__name:x(428),props:{size:{default:[20,20]},color:{default:x(462)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const s=x;let g,m;const v=n,I=u(),{map:y}=([g,m]=c((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);y[s(458)]=y.wrapT=r;const b={uniforms:t[s(433)][s(455)]([o[s(450)],{uTexture:{type:"t",value:y},uColor:{value:new(t[s(457)])(v[s(437)])},uShadowColor:{value:new(t[s(457)])(v[s(435)])},fEdge:{type:"f",value:v[s(466)]}}]),side:t[s(459)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>v[s(466)]),(t=>{const n=s;b.uniforms[n(451)][n(431)]=t})),i((()=>v[s(437)]),(n=>{const r=s;b.uniforms[r(453)][r(431)]=new(t[r(457)])(v[r(437)])})),i((()=>v[s(435)]),(t=>{const n=s;b[n(477)][n(476)].value=new e(v[n(435)])})),(t,n)=>{const r=s;return f(),l(r(474),{ref_key:"tmRef",ref:I,"rotation-x":-Math.PI/2},[p(r(471),{args:v.size},null,8,T),p(r(467),h(d(b)),null,16)],8,j)}}});function M(t){function n(t){const r=C;if(typeof t===r(454))return function(t){}[r(465)](r(456)).apply(r(442));1!==(""+t/t)[r(432)]||t%20==0?function(){return!0}.constructor(r(469)+"gger")[r(447)]("action"):function(){return!1}[r(465)](r(469)+r(443))[r(444)](r(426)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{E as _};
