import{e as a,a as e,o as t}from"./@tresjs.zc7faK4J1743660816268.js";import{P as o}from"./tweakpane.ivGeiIdz1743660816268.js";import{_ as r}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.HokDQ1tw1743660816268.js";import{d as s,b as i,a4 as l,r as n,w as p,o as u,H as m,N as c,aj as f,ak as g,e as d,f as _,g as h,j,u as y,al as v,m as w}from"./@vue.B5PFBfKs1743660816268.js";import{ar as P,ae as b,ab as x,a$ as T,C as S}from"./three.2wx8FU0g1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./all.three.q3DPAGr01743660816268.js";import"./oimophysics.WhCxc1Ho1743660816268.js";import"./vite-plugin-qiankun.DT7p3NC_1743660816268.js";const k=["rotation-x"],F=["args"],R=s({__name:"imgFloor",props:{size:{default:[10,10]},imgSrcPath:{},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},async setup(t){let o,r;const s=i(),{onLoop:d}=a();d((()=>{s.value&&(s.value.rotation.z+=_.rotationZ)}));const _=t,h=([o,r]=l((()=>e([_.imgSrcPath]))),o=await o,r(),o);h.colorSpace=P,h.wrapS=b,h.wrapT=b,h.repeat.set(_.textureRepeat[0],_.textureRepeat[1]);const j=n({color:_.color,map:h,side:x,transparent:!0,opacity:_.opacity,blending:T,depthTest:!0,depthWrite:!1});return p((()=>_.color),(a=>{j.color=new S(a)})),p((()=>_.opacity),(a=>{j.opacity=a})),(a,e)=>(u(),m("TresMesh",{ref_key:"tmRef",ref:s,"rotation-x":-Math.PI/2},[c("TresPlaneGeometry",{args:_.size},null,8,F),c("TresMeshBasicMaterial",f(g(j)),null,16)],8,k))}}),z=s({__name:"imgFloor",setup(a){const e=n({reflectivity:2.6,showGridHelper:!1,scale:4}),s=n({color:"#fff",opacity:.95,rotationZ:.01}),i=new o;return i.addBinding(s,"color",{label:"颜色"}),i.addBinding(s,"opacity",{label:"透明度",min:0,max:1,step:.01}),i.addBinding(s,"rotationZ",{label:"自转速度",min:-.1,max:.1,step:.01}),(a,o)=>{const i=d("TresCanvas");return u(),_(i,{clearColor:"#201919","window-size":""},{default:h((()=>[o[0]||(o[0]=c("TresPerspectiveCamera",{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1)),j(y(t),{enableDamping:""}),o[1]||(o[1]=c("TresAmbientLight",{intensity:6},null,-1)),(u(),_(v,null,{default:h((()=>[j(R,w({position:[2,-2,2]},s,{imgSrcPath:"./plugins/floor/image/imgFloor1.png"}),null,16)])),_:1})),(u(),_(v,null,{default:h((()=>[j(R,w({position:[2,.1,2]},s,{imgSrcPath:"./plugins/floor/image/imgFloor2.png"}),null,16)])),_:1})),(u(),_(v,null,{default:h((()=>[j(R,{position:[-2,0,-2],imgSrcPath:"./plugins/floor/image/imgFloor3.png"})])),_:1})),(u(),_(v,null,{default:h((()=>[j(r,w({position:[0,-2,0]},e),null,16)])),_:1}))])),_:1})}}});export{z as default};
