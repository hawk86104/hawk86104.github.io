import{a6 as t,cx as n,C as e,ab as o,ad as r}from"./three.p-9BQwc31724983368286.js";import{P as s}from"./tweakpane.yHWGBmom1724983368286.js";import{_ as i}from"./@tweenjs.YWzLuvWF1724983368286.js";import{p as a,$ as c}from"./@tresjs.OrqGCbtj1724983368286.js";import{P as u,b as p,c as l,M as f,T as m,a as g,d as h}from"./index.atsrT5gv1724983368286.js";import{d,a1 as j,w as b,o as w,D as x,u as y,X as v,r as I,e as C,j as _,g as z,f as M,al as k,m as B,F as S}from"./@vue.Q1VpS3901724983368286.js";import{_ as R}from"./raycasterEvent.YXtrZIHs1724983368286.js";import{a as D}from"./utils._a6yKbfx1724983368286.js";import"./@vueuse.n6I5WvfU1724983368286.js";import"./@mapbox.k6FUkSNv1724983368286.js";import"./@amap.-Bisu7YL1724983368286.js";import"./three-mesh-bvh.4G0P0Enb1724983368286.js";import"./three-custom-shader-material.y6er40ya1724983368286.js";import"./object-hash.X2exW7z_1724983368286.js";import"./jszip.VoLYwi951724983368286.js";import"./glsl-tokenizer.EVM27uTn1724983368286.js";import"./glsl-token-string.rzq7L3HM1724983368286.js";import"./glsl-token-functions.DersDqx01724983368286.js";import"./@fesjs.Gs8eM-sM1724983368286.js";import"./vue-router.Zdcy26aq1724983368286.js";import"./lodash-es.nFpJXAf-1724983368286.js";import"./@qlin.yHhFDldE1724983368286.js";import"./pinia.TzFzuyxp1724983368286.js";import"./@floating-ui.BPbuo5Gx1724983368286.js";import"./@juggle.7yjBMqoW1724983368286.js";import"./http.Z8d2qHPh1724983368286.js";import"./axios.FVFoCDiv1724983368286.js";import"./color.nc5ssdVo1724983368286.js";import"./color-string.R3aqbXw-1724983368286.js";import"./color-name.CFCR1ggO1724983368286.js";import"./simple-swizzle.11tVON2y1724983368286.js";import"./is-arrayish.qWZfKl-x1724983368286.js";import"./color-convert.QEm3ZGHB1724983368286.js";import"./lodash.kDV8b9RS1724983368286.js";import"./utils.oYA77zYe1724983368286.js";import"./d3-geo.97VbQh3Y1724983368286.js";import"./d3-array.E5C1cfJ61724983368286.js";const E=P;function P(t,n){const e=F();return(P=function(t,n){return e[t-=170]})(t,n)}!function(t,n){const e=P,o=F();for(;;)try{if(364944===-parseInt(e(220))/1*(-parseInt(e(216))/2)+parseInt(e(186))/3+parseInt(e(179))/4+parseInt(e(209))/5+-parseInt(e(237))/6*(-parseInt(e(199))/7)+-parseInt(e(206))/8*(parseInt(e(225))/9)+-parseInt(e(188))/10*(parseInt(e(187))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(222)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(172));n.test(o+t(170))&&e.test(o+t(205))?H():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(222)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(196)+t(218)+");")()}catch(e){n=window}return n}(),e=n[t(208)]=n[t(208)]||{},o=["log","warn","info","error","exception",t(236),t(181)];for(let r=0;r<o[t(214)];r++){const n=A[t(207)][t(224)].bind(A),s=o[r],i=e[s]||n;n[t(173)]=A[t(192)](A),n[t(217)]=i.toString[t(192)](i),e[s]=n}}))();const T=["object","rotation"];function F(){const t=["genSaturation","action","opposite","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","2425172UXyikF","maxZoom","trace","isMonochrome","enableDamping","monochrome","useWorker","573765IjQKEC","121Qimvwa","1239050PyYpVk","genContrast","innerHeight","domElement","bind","update","mapCenter","PerspectiveCamera","return (function() ","Color","dampingFactor","12173cNHSDq","Vector3","lookAt","filter","abs","provider","input","261720gDDOdB","constructor","console","1691355nqtaDw","tileMapMesh","value","set","render","length","call","3054LjHJkb","toString",'{}.constructor("return this")( )',"debu","375pzwhMG","minDistance","apply","coordType","prototype","9kJRYrA","wireframe","showBoundingBox","genBright","updateProjectionMatrix","bbox","string","#fff","showTileNo","stateObject","target","table","180VcJcgt","gger","position","chain","while (true) {}","init","__proto__","source"];return(F=function(){return t})()}const O=d({__name:E(210),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:E(232)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(o,{expose:r}){const s=E,h=o,{renderer:d,scene:v}=a();(new u)[s(223)]=p;const I=new l;I.source=s(178),I[s(223)]=p;const C=new f;C[s(174)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",C[s(233)]=!1,C[s(185)]=!0;const _=new m(I,C);if(_[s(227)]=!1,_[s(226)]=!1,_.flatShading=!1,_.useStandardMaterial=!1,_[s(202)]={opposite:h[s(177)],monochrome:h.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:h.genBright,genContrast:h.genContrast,genSaturation:h[s(175)]},h[s(184)]){let n=new(t[s(197)])(h.monochrome);_[s(202)]&&(_[s(202)][s(184)]={r:n.r,g:n.g,b:n.b})}const z=new g;z[s(204)]=_,z[s(230)]=h[s(230)],z[s(180)]=h[s(180)];const M=new(t[s(195)])(60,window.innerWidth/window[s(190)],1,1e8);M.up=new(t[s(200)])(0,1,0),M.position[s(212)](h.mapCenter[0],h[s(194)][2],-h.mapCenter[1]),M[s(201)](new(t[s(200)])(M[s(239)].x,0,M[s(239)].z-2e3)),z.camera=M;let k=null;j((()=>{const t=s;if(d.value&&!k&&(k=new n(M,d[t(211)][t(191)]),k[t(183)]=!0,k[t(198)]=.05,k[t(221)]=600,k.position0.set(M[t(239)].x,M[t(239)].y,M[t(239)].z),k[t(235)][t(212)](M[t(239)].x,0,M[t(239)].z-2e3)),h[t(228)]&&_[t(202)]&&(_[t(202)][t(228)]=h[t(228)]),h[t(189)]&&_[t(202)]&&(_.filter.genContrast=h[t(189)]),h.genSaturation&&_[t(202)]&&(_[t(202)][t(175)]=h[t(175)]),h[t(182)]&&h[t(184)]&&_[t(202)]){let n=new e(h[t(184)]);_[t(202)][t(184)]={r:n.r,g:n.g,b:n.b}}})),b((()=>h.opposite),(t=>{const n=s;_.filter&&(_[n(202)][n(177)]=t)})),b((()=>h[s(182)]),(t=>{const n=s;let o=new e(h.monochrome);_.filter&&(_[n(202)].monochrome=t?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:B}=c();return B((()=>{const t=s;if(d[t(211)]){i[t(193)](),k&&k[t(193)](),z[t(193)]();const n=50*Math[t(203)](M.position.y);M.far=n+5e3,M[t(229)](),k[t(235)].y=0,d[t(211)][t(213)](v.value,M)}})),r({camera:M,map:z,orbitControl:k}),(t,n)=>(w(),x("primitive",{object:y(z),rotation:[-Math.PI/2,0,0]},null,8,T))}});function H(t){function n(t){const e=P;if(typeof t===e(231))return function(t){}.constructor(e(171))[e(222)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(219)+e(238))[e(215)](e(176)):function(){return!1}[e(207)](e(219)+"gger")[e(222)](e(234)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=Y;!function(t,n){const e=Y,o=V();for(;;)try{if(394684===-parseInt(e(161))/1+-parseInt(e(169))/2*(-parseInt(e(148))/3)+-parseInt(e(165))/4*(parseInt(e(158))/5)+parseInt(e(200))/6*(parseInt(e(197))/7)+parseInt(e(191))/8*(parseInt(e(175))/9)+parseInt(e(160))/10+parseInt(e(193))/11*(-parseInt(e(195))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=Y,n=new RegExp(t(187)),e=new RegExp(t(204),"i"),o=q(t(153));n[t(155)](o+"chain")&&e[t(155)](o+t(180))?q():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(172)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(){const t=["tileMapMeshRef","单色滤镜","65397YCRtvX","饱和度","trace","log","action","init","change","test","console","return (function() ","1112860qHjVzj","list","4205670lQvlED","86790UgTlbp","info","xjk","table","12ibJrrF","counter","orbitControl","monochrome","36gYhbBa","length","constructor","apply","genSaturation","bind","1139022apyCSc","滤镜颜色","call","tileMapRef","highp","input","prototype","#4688b5","value","opposite","gger","__proto__","function *\\( *\\)","tileMap","isMonochrome","camera","40GQLsaa","error","473JgyzGC","Vector3","156684ZIHsON","addBinding","84287MvOrio","新街口","string","132MPhzxl","toString","nss","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","牛首山","奥体中心","while (true) {}",'{}.constructor("return this")( )'];return(V=function(){return t})()}function Y(t,n){const e=V();return(Y=function(t,n){return e[t-=142]})(t,n)}Q(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(157)+t(145)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(156)]||{},o=[t(151),t(203),t(162),t(192),"exception",t(164),t(150)];for(let r=0;r<o[t(170)];r++){const n=Q[t(171)][t(181)][t(174)](Q),s=o[r],i=e[s]||n;n[t(186)]=Q[t(174)](Q),n[t(201)]=i.toString[t(174)](i),e[s]=n}}))();const $=d({__name:J(188),setup(n){const e=J,i=h(118.779958,32.017136),a=[i[0],i[1],5e3],c=v(),u=I({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(182),mapCenter:a}),p=new s({title:"参数"});p[e(196)](u,e(184),{label:"反色"}),p[e(196)](u,"genBright",{label:"高亮",min:.1,max:3,step:.1}),p.addBinding(u,"genContrast",{label:"对比度",min:.1,max:3,step:.1}),p.addBinding(u,e(173),{label:e(149),min:.1,max:3,step:.1}),p[e(196)](u,e(189),{label:e(147)}),p[e(196)](u,e(168),{label:e(176)});const l={at:h(118.7425,31.9998),xjk:h(118.7842,32.0418),nss:h(118.7503,31.9082)};p.addBlade({view:e(159),label:"飞去",options:[{text:e(143),value:"at"},{text:e(198),value:e(163)},{text:e(142),value:e(202)}],value:"at"}).on(e(154),(n=>{const o=e,r=new(t[o(194)])(l[n.value][0],2e3,-l[n[o(183)]][1]);D(c.value[o(190)],r,c[o(183)].orbitControl,[0,-300],4e3)}));const f=I({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:o,toneMapping:r,precision:e(179)});return setTimeout((()=>{const n=e,o=l.at,r=new(t[n(194)])(o[0],1600,-o[1]);D(c.value[n(190)],r,c.value[n(167)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=C("TresCanvas");return w(),x(S,null,[_(r,B(f,{"window-size":""}),{default:z((()=>[(w(),M(k,null,{default:z((()=>[_(O,B(u,{ref_key:o(146),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(R,{tileMapRef:c[o(183)]},null,8,[o(178)])],64)}}});function q(t){function n(t){const e=Y;if(typeof t===e(199))return function(t){}[e(171)](e(144))[e(172)](e(166));1!==(""+t/t)[e(170)]||t%20==0?function(){return!0}[e(171)]("debu"+e(185))[e(177)](e(152)):function(){return!1}[e(171)]("debugger")[e(172)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{$ as default};
