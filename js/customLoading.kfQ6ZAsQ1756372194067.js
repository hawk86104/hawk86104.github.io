import{B as e,Q as o}from"./three.quarks.BYYjBH8P1756372194067.js";import{i as s}from"./Resource.CtByW1MJ1756372194067.js";import"./@fesjs.BxIxMXgl1756372194067.js";import{e as r,a as t}from"./@tresjs.Df2Jc2df1756372194067.js";/* empty css                                                                             */import{l as a}from"./yangyangLoading.FzXUgEID1756372194067.js";import"./three-mesh-ui.module.Dgb2GCtr1756372194067.js";/* empty css                                                              */import{P as i}from"./tweakpane.C0HtAJSg1756372194067.js";import"./OimoPhysicsBuffer.DTTXKZYU1756372194067.js";import{_ as n}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.CFU1w0z71756372194067.js";import"./vanilla.esm.5.5.0.b8Nged_k1756372194067.js";import"./PackedMipMapGenerator.DAS1QEbV1756372194067.js";import{d as l,w as p,G as m,o as c,F as u,I as d,u as j,r as f,h,j as g,f as _,e as y,H as v,m as M,a5 as w}from"./@vue.BzMISRrV1756372194067.js";import{f as b,C as T,t as k}from"./three.QlBabAUP1756372194067.js";import{a as C}from"./quarks.core.Xz3FZi7v1756372194067.js";import"./vue-router.Dko1PBP91756372194067.js";import"./lodash-es.C7pWAXPe1756372194067.js";import"./pinia.CqPBZQk21756372194067.js";import"./@qlin.q6OWdsQV1756372194067.js";import"./@babel.BPq7uOAK1756372194067.js";import"./@floating-ui.BFjFSAYt1756372194067.js";import"./@juggle.CcBCnTIR1756372194067.js";import"./postprocessing.eHqBklb71756372194067.js";import"./@vueuse.BIpwRBdi1756372194067.js";import"./utils.B5jG6Hsc1756372194067.js";import"./oimophysics.BBtHVm4j1756372194067.js";import"./dither.glsl.tNAdkJUa1756372194067.js";import"./Reflector.Cru6rol41756372194067.js";import"./vite-plugin-qiankun.B06WoCqG1756372194067.js";import"./object-hash._drSlZxG1756372194067.js";import"./@amap.CGUF9xH41756372194067.js";import"./jszip.CcduwmMh1756372194067.js";import"./three-stdlib.CWxBXjoj1756372194067.js";const B=["object"],P=["object","position","scale","rotation"],G=l({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(o){const t=o,a=e=>{const o=new T(t.color),s=new k(o.r,o.g,o.b,e);return new C(s)},i=new e,n=new b,l=s.getItem("CartoonMagicZone.json").clone(!0);l.traverse((e=>{if("ParticleEmitter"===e.type){"BasicZoneRedEmitter"===e.name&&e.rotation.set(Math.PI/2,0,0);const o=e.system;o.startColor=a(o.startColor.color.w),i.addSystem(o)}})),"ParticleEmitter"===l.type&&i.addSystem(l.system),n.add(l);const{onLoop:f}=r();return f((({delta:e})=>{i.update(e)})),p((()=>[t.color]),(([e])=>{i.systemToBatchIndex.forEach(((e,o)=>{o.startColor=a(o.startColor.color.w)}))})),(e,o)=>(c(),m(u,null,[d("primitive",{object:j(n)},null,8,B),d("primitive",{object:j(i),position:e.position,scale:e.scale,rotation:e.rotation},null,8,P)],64))}}),q=l({__name:"customLoading",setup(e){const r=f({reflectivity:.1,showGridHelper:!0,scale:1}),l=f({color:"#ffffff",scale:1});s.loaderMapping.QuarksLoader=o,s.loadResources([{functionName:"QuarksLoader",url:"./plugins/floor/json/CartoonMagicZone.json"}]);const p=new i;return p.addBinding(l,"color",{label:"颜色"}),p.addBinding(l,"scale",{label:"大小",min:.1,max:3,step:.1}),(e,o)=>{const i=h("TresCanvas");return c(),m(u,null,[g(j(a),{useResourceManager:""}),g(i,{clearColor:"#201919","window-size":""},{default:_((()=>[o[0]||(o[0]=d("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(j(t),{enableDamping:""}),j(s).hasAllFinished.value?(c(),y(G,M({key:0},l,{position:[0,0,0]}),null,16)):v("",!0),j(s).hasAllFinished.value?(c(),y(G,{key:1,color:"red",position:[3,0,0],rotation:[-Math.PI,1,45]},null,8,["rotation"])):v("",!0),j(s).hasAllFinished.value?(c(),y(G,{key:2,color:"green",position:[-2,0,0]})):v("",!0),o[1]||(o[1]=d("TresMesh",{position:[3,0,0]},[d("TresSphereGeometry",{args:[1,32,32]}),d("TresMeshBasicMaterial",{color:"red"})],-1)),o[2]||(o[2]=d("TresMesh",{position:[-2,0,0]},[d("TresSphereGeometry",{args:[1,32,32]}),d("TresMeshBasicMaterial",{color:"green"})],-1)),o[3]||(o[3]=d("TresMesh",{position:[0,0,0]},[d("TresSphereGeometry",{args:[1,32,32]}),d("TresMeshBasicMaterial",{color:"white"})],-1)),(c(),y(w,null,{default:_((()=>[g(j(n),M({position:[0,-.5,0]},r),null,16)])),_:1}))])),_:1})],64)}}});export{q as default};
