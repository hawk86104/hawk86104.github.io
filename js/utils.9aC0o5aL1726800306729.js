import{a as t,B as n,s as e,c0 as o,C as r,k as s,a0 as c}from"./three.ZddO3ejJ1726800306729.js";import{x as i}from"./@fesjs.ZmXcHXlr1726800306729.js";import{z as a}from"./@tresjs.pv1MNfNv1726800306729.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.iupZHg7-1726800306729.js";!function(t,n){const e=m,o=w();for(;;)try{if(474307===-parseInt(e(289))/1*(-parseInt(e(316))/2)+parseInt(e(262))/3+parseInt(e(305))/4+parseInt(e(287))/5+parseInt(e(314))/6+-parseInt(e(307))/7+-parseInt(e(296))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(295)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(322),"i"),o=j(t(331));n[t(280)](o+t(271))&&e[t(280)](o+t(317))?j():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(295)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=w();return(m=function(t,n){return e[t-=260]})(t,n)}h(void 0,(function(){const t=m;let n;try{n=Function(t(260)+t(279)+");")()}catch(r){n=window}const e=n[t(325)]=n[t(325)]||{},o=[t(306),t(309),t(286),t(304),t(312),"table",t(284)];for(let s=0;s<o[t(336)];s++){const n=h[t(269)][t(278)][t(266)](h),r=o[s],c=e[r]||n;n[t(311)]=h[t(266)](h),n.toString=c[t(277)][t(266)](c),e[r]=n}}))();const g=(n,e=!1)=>{const o=m;n[o(267)]();const{max:r,min:s}=n[o(274)];n[o(291)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(332)][o(333)].count;t++)e?(a[o(292)]((n[o(332)][o(333)][o(334)](t)-(s.x+r.x)/2)/c),a[o(292)]((n[o(332)][o(333)][o(318)](t)-(s.y+r.y)/2)/i)):(a.push((n[o(332)][o(333)][o(334)](t)-s.x)/c),a[o(292)]((n[o(332)][o(333)][o(318)](t)-s.y)/i));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=m;i(t,{},{method:r(283),mergeRequest:!0})[r(270)]((t=>{const o=r;n&&e(t[n]),e(t[o(281)])})).catch((t=>{console[r(304)](t),o(t)}))}));function w(){const t=["center","call","init","attributes","position","getX","reflectivity","length","setFromObject","return (function() ","string","1567023xermVM","copy","getCenter","negate","bind","computeBoundingBox","set","constructor","then","chain","setY","forEach","boundingBox","depthTest","max","toString","prototype",'{}.constructor("return this")( )',"test","features","clone","get","trace","value","info","367440ChTGXa","random","92657QxKoal","Vector3","deleteAttribute","push","sub","uniforms","apply","2080720thrqTI","add","side","divideScalar","getSize","count","counter","min","error","977324fKBMLu","log","5009648tcpfFi","gger","warn","setAttribute","__proto__","exception","debu","3103464woHoPS","geometry","2lKUPXD","input","getY","transparent","#fff","material","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","applyMatrix4","action","console","computeBoundsTree","config","raycast"];return(w=function(){return t})()}const x=t=>{const n=m,e=(new THREE.Box3)[n(337)](t),o=new(THREE[n(290)]);e[n(264)](o),t.children[n(273)]((t=>{const e=n;t.position[e(293)](o)})),t[n(333)][n(263)](o.negate())},y=()=>{const t=m;n.prototype[t(326)]=u,n[t(278)].disposeBoundsTree=f,e.prototype[t(328)]=p},b=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(315)][n(282)]();g(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(320)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(321)][n(319)]=!0,u[n(321)].depthWrite=!0,u[n(321)][n(275)]=!0,u[n(321)][n(298)]=c,u[n(321)][n(294)][n(327)].value.w=20,u[n(321)][n(294)][n(335)][n(285)]=.46,u};function _(t){const n=m,e=[];for(let r=0;r<t[n(336)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(336)];r++)o[n(297)](e[r]);o[n(299)](e.length);for(let r=0;r<e[n(336)];r++)e[r][n(293)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=m;if(typeof t===e(261))return function(t){}[e(269)]("while (true) {}")[e(295)](e(302));1!==(""+t/t)[e(336)]||t%20==0?function(){return!0}.constructor("debu"+e(308))[e(330)](e(324)):function(){return!1}[e(269)](e(313)+e(308))[e(295)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,_ as g,y as i,d as l,g as r,b as s};
