import"./@fesjs.9xYVr0ET1728703368826.js";import{_ as t}from"./jszip.VrfDZcNx1728703368826.js";import{F as n}from"./file-saver.F2pf6i561728703368826.js";import{_ as e}from"./three.VoknrmS61728703368826.js";const s=o;function o(t,n){const e=d();return(o=function(t,n){return e[t-=409]})(t,n)}!function(t,n){const e=o,s=d();for(;;)try{if(221683===-parseInt(e(487))/1+parseInt(e(432))/2+-parseInt(e(428))/3*(parseInt(e(496))/4)+-parseInt(e(502))/5*(-parseInt(e(503))/6)+-parseInt(e(484))/7+-parseInt(e(497))/8+-parseInt(e(467))/9*(-parseInt(e(462))/10))break;s.push(s.shift())}catch(r){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[o(438)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=o,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(413),"i"),s=m(t(456));n[t(455)](s+t(482))&&e.test(s+t(425))?m():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[o(438)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function i(t){const n=new(e[s(474)]);return new Promise(((e,s)=>{n.load(t,(t=>e(JSON.parse(t))),void 0,(t=>s(t)))}))}async function c(t){const n=s,o=new(e[n(474)]);return new Promise(((e,r)=>{const a=n;o[a(423)](a(442)),o[a(457)](t,(n=>{const o=a,i=new FileReader;i[o(434)]=()=>{const n=o,r=function(t){const n=s,e=t.split(".")[n(481)]().toLowerCase();return{jpg:n(504),jpeg:n(504),png:n(437),gif:n(476),bmp:"image/bmp",webp:n(459)}[e]||n(491)}(t),a=i.result[n(480)](",")[1];e("data:"+r+n(463)+a)},i[o(415)]=t=>{r(t)},i[o(422)](n)}),void 0,(t=>r(t)))}))}a(void 0,(function(){const t=o,n=function(){const t=o;let n;try{n=Function(t(441)+t(446)+");")()}catch(e){n=window}return n}(),e=n[t(449)]=n[t(449)]||{},s=[t(501),t(471),t(489),"error",t(460),"table","trace"];for(let o=0;o<s[t(431)];o++){const n=a[t(440)].prototype[t(421)](a),r=s[o],i=e[r]||n;n.__proto__=a[t(421)](a),n[t(439)]=i.toString[t(421)](i),e[r]=n}}))(),e[s(453)][s(427)]=!0;const u=n=>{const o=s,r=new(e[o(474)]);return r[o(423)](o(442)),new Promise(((e,s)=>{r[o(457)](n,(async n=>{e(await t.loadAsync(n))}),void 0,(t=>s(t)))}))},p=t=>{const n=s,e=t[n(433)](0,15),o=n(492),r=n(452),a=n(464),i=n(483),c=n(477),u=n(417);return o[n(445)](e)||r[n(445)](e)?n(490):a[n(445)](e)||i[n(445)](e)?n(430):"data:image/gif;base64,"[n(445)](e)||"data:image/GIF;base64,"[n(445)](e)?n(420):c.startsWith(e||u[n(445)](e))?"WEBP":n(461)},l=e=>{const o=s,r=[];e[o(424)].geometries&&e[o(424)][o(472)][o(416)]((t=>{const n=o;t.type===n(444)&&(r[n(473)]({uuid:t[n(498)],data:t.data}),t[n(436)]=n(448)+t[n(498)]+n(485))}));const a=[];e[o(424)][o(435)]&&e[o(424)][o(435)][o(416)]((t=>{const n=o;t[n(450)]&&(a[n(473)]({uuid:t[n(498)],url:t[n(450)]}),t[n(450)][n(443)]?t.url=n(426)+t[n(498)]+"."+t[n(450)][n(443)]+n(485):t.url=n(426)+t[n(498)]+"."+p(t[n(450)]))}));const i=new t;if(r[o(431)]){const t=i[o(475)]("geometries");r[o(416)]((n=>{const e=o;t[e(409)](n[e(498)]+e(485),JSON[e(478)](n[e(436)]))}))}if(a[o(431)]){const t=i.folder(o(435));a[o(416)]((n=>{const e=o;n[e(450)][e(443)]?t[e(409)](n[e(498)]+"."+n[e(450)][e(443)]+".json",JSON[e(478)](n[e(450)])):t[e(409)](n[e(498)]+"."+p(n[e(450)]),n.url[e(480)](e(463))[e(481)](),{base64:!0})}))}const c=JSON[o(478)](e);return i[o(409)](o(458),c),i.generateAsync({type:o(442)})[o(419)]((t=>{const e=o;n.saveAs(t,e(418))}))},f=(t,n,e)=>{const o=s;t[o(472)]<=0&&t[o(435)]<=0&&e(n)},g=(n,e)=>{const o=s;let r=null;return t.loadAsync(n)[o(419)]((t=>{const n=o;t[n(414)][n(458)]?t[n(414)][n(458)][n(465)](n(479)).then((o=>{var a,i;const c=n;r=JSON.parse(o);const u=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t[o(424)][o(472)])||n[o(416)]((t=>{const n=o;t[n(436)][n(445)](n(470))&&r[n(472)]++})),null==(e=t[o(424)][o(435)])||e[o(416)]((t=>{const n=o;t[n(450)][n(445)]("url:")&&r.images++})),r})(r);f(u,r,e),null==(a=r[c(424)][c(472)])||a[c(416)]((n=>{const s=c;n.data[s(445)](s(470))&&t[s(414)][n[s(436)][s(411)](4)][s(465)]("string").then((t=>{const o=s;n[o(436)]=JSON[o(469)](t),u[o(472)]--,f(u,r,e)}))})),null==(i=r.scene[c(435)])||i[c(416)]((n=>{const s=c;if(n[s(450)].startsWith(s(470))){const o=n[s(450)].slice(4);o[s(488)](".json")?t[s(414)][o][s(465)]("string")[s(419)]((t=>{const o=s;n[o(450)]=JSON[o(469)](t),u[o(435)]--,f(u,r,e)})):t[s(414)][o][s(465)]("base64")[s(419)]((t=>{const a=s,i=o[a(480)]("."),c=i[i[a(431)]-1].toUpperCase();n[a(450)]=a(494)+c+a(463)+t,u.images--,f(u,r,e)}))}}))})):console[n(468)](n(429))}),(t=>{const e=o;console.error(n[e(451)]+": "+t[e(412)])})),r};function m(t){function n(t){const e=o;if(typeof t===e(479))return function(t){}[e(440)](e(495))[e(438)](e(486));1!==(""+t/t)[e(431)]||t%20==0?function(){return!0}[e(440)]("debugger").call(e(447)):function(){return!1}[e(440)](e(499)+e(454))[e(438)](e(466)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function d(){const t=["name","data:image/JPEG;base64,","Cache","gger","test","init","load","app.json","image/webp","exception","Unknown","10HFkWOK",";base64,","data:image/png;base64,","async","stateObject","8884872tjIVbI","error","parse","url:","warn","geometries","push","FileLoader","folder","image/gif","data:image/webp;base64,","stringify","string","split","pop","chain","data:image/PNG;base64,","2510991QhtfBR",".json","counter","291930NBZYUt","endsWith","info","JPEG","application/octet-stream","data:image/jpeg;base64,","catch","data:image/","while (true) {}","4TPQgvz","1285552YeMjwD","uuid","debu","result","log","166405aNgNHH","66BzZUDF","image/jpeg","file","get","slice","message","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","files","onerror","forEach","data:image/WEBP;base64,","config.zip","then","GIF","bind","readAsDataURL","setResponseType","scene","input","url:images/","enabled","1304568ABrPkq","非标准文件：不存在 app.json","PNG","length","229154VDXSiK","substring","onloadend","images","data","image/png","apply","toString","constructor","return (function() ","blob","type","BufferGeometry","startsWith",'{}.constructor("return this")( )',"action","url:geometries/","console","url"];return(d=function(){return t})()}export{u as a,c as b,l as e,p as g,g as i,i as l};
