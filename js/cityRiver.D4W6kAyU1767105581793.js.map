{"version":3,"file":"cityRiver.D4W6kAyU1767105581793.js","sources":["../../src/plugins/digitalCity/components/cityRiver/index.vue","../../src/plugins/digitalCity/pages/cityRiver.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2023-12-11 17:05:45\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-26 14:33:34\n-->\n<template>\n\t<TresGroup :position=\"[0, 0, -2]\">\n\t\t<primitive v-if=\"pState\" :object=\"pState?.scene\" />\n\t\t<threeWater2 v-if=\"pState\" :position-y=\"0.0001\" :waterGeometry=\"nodes.mesh_0.geometry\" v-bind=\"water2State\" />\n\t</TresGroup>\n</template>\n\n<script setup lang=\"ts\">\nimport threeWater2 from 'PLS/water/components/threeWater2.vue'\nimport { useGLTF } from '@tresjs/cientos'\nimport { reactive } from 'vue'\n\nimport { Pane } from 'tweakpane'\n\nimport { watch } from 'vue'\n\nconst { state: pState, nodes } = useGLTF('https://a.amap.com/jsapi_demos/static/gltf-online/shanghai/scene.gltf')\n\nwatch(\n\t() => pState.value,\n\t(state) => {\n\t\tif (!state?.scene) return\n\t\tstate.scene.renderOrder = 9999\n\n\t\tnodes.value.mesh_0.material.transparent = true\n\t\tnodes.value.mesh_0.material.depthWrite = true\n\t\tnodes.value.mesh_0.material.depthTest = true\n\t\tnodes.value.mesh_0.material.opacity = 0.7\n\t},\n)\n\n\nconst water2State = reactive({\n\tcolor: '#f857cc',\n\tscale: 3.1,\n\tmodelVisible: true,\n})\n\nconst paneControl = new Pane({\n\ttitle: '河流参数',\n\texpanded: true,\n});\npaneControl.addBinding(water2State, 'modelVisible', { label: '模型显示', })\n\t.on('change', (ev) => {\n\t\tnodes.value.mesh_0.visible = ev.value\n\t})\npaneControl.addBinding(water2State, 'scale', {\n\tlabel: '分辨率', min: 0.1,\n\tmax: 10.0,\n\tstep: 0.1,\n})\npaneControl.addBinding(water2State, 'color', { label: '河水颜色', })\n</script>\n","<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2023-12-11 11:20:54\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-26 14:43:09\n-->\n<template>\n    <pagesShow ref=\"pagesShowRef\" :showAxesHelper=\"false\" :showGridHelper=\"false\" :showBuildings=\"false\"\n        :autoRotate=\"false\">\n        <template v-slot:ability>\n            <Suspense>\n                <cityRiver />\n            </Suspense>\n        </template>\n    </pagesShow>\n</template>\n\n<script setup lang=\"ts\">\nimport { shallowRef, watch } from 'vue'\nimport pagesShow from '../components/pagesShow.vue'\nimport cityRiver from '../components/cityRiver/index.vue'\n\nconst pagesShowRef = shallowRef() as any\n\nwatch(\n    () => pagesShowRef.value?.contextReady,\n    (newVal: any) => {\n        if (newVal) {\n            pagesShowRef.value.context.context.camera.activeCamera.value.position.set(4.0, 2.15, 3.6)\n        }\n    }\n)\nwatch(\n    () => pagesShowRef.value?.context.context.controls.value,\n    (newVal: any) => {\n        if (newVal) {\n            newVal.target.set(0, -1, 0)\n        }\n    }\n)\n</script>\n"],"names":["watch","useGLTF","_openBlock","_createBlock","threeWater2","pagesShow","cityRiver"],"mappings":"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"}