var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,f as u,s as a,F as f,V as h,M as l,B as p,Y as g,t as d,a as w,ak as I,aP as v,$ as y,cp as b}from"./three.8iJMi2lU1733198294833.js";import{t as m}from"./@mapbox.0_u-ee9v1733198294833.js";import{c as x,d as _,a as M}from"./three-mesh-bvh.oXi0pqYE1733198294833.js";import{z}from"./three-custom-shader-material.GYlVajj-1733198294833.js";const F=T;function T(t,n){const r=R();return(T=function(t,n){return r[t-=164]})(t,n)}!function(t,n){const r=T,e=R();for(;;)try{if(378968===parseInt(r(185))/1*(parseInt(r(202))/2)+-parseInt(r(212))/3*(-parseInt(r(224))/4)+-parseInt(r(189))/5+parseInt(r(175))/6*(-parseInt(r(204))/7)+parseInt(r(182))/8+-parseInt(r(206))/9*(parseInt(r(180))/10)+parseInt(r(219))/11*(parseInt(r(168))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const k=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){k(this,(function(){const t=T,n=new RegExp(t(201)),r=new RegExp(t(217),"i"),e=P("init");n[t(223)](e+"chain")&&r[t(223)](e+t(216))?P():e("0")}))()}();const Z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[T(210)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function R(){const t=["error","distanceToPoint","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","138259lcAVYK","stateObject","init","log","test","2120588ovtUmS","simplify","debu","string","length","map","parentTile","isDisposed","__proto__","forEach","update","value","childrenTiles","provider","ready","516zCKUcK","tileNo","dispose",'{}.constructor("return this")( )',"add","counter","boundingBoxWorld","6HlOuxu","return (function() ","subdivide","maxZoom","visible","60jCGyrM","setFromObject","3654848hSyHeV","content","exception","597473uVmMsa","intersectsBox","makeRotationX","gger","1920380DBRwaH","getTranMatrix","bind","t_Matrix","isReady","prototype","sort","applyMatrix4","while (true) {}","filter","console","push","function *\\( *\\)","2QXYOBr","abort","4269349lkntVb","call","1127988xDVyVi","toString","constructor","getTile","apply","material","3OBjznQ","matrixWorld"];return(R=function(){return t})()}Z(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(176)+t(171)+");")()}catch(r){n=window}return n}(),r=n[t(199)]=n[t(199)]||{},e=[t(222),"warn","info",t(214),t(184),"table",t(218)];for(let o=0;o<e[t(228)];o++){const n=Z[t(208)][t(194)][t(191)](Z),i=e[o],s=r[i]||n;n[t(232)]=Z[t(191)](Z),n[t(207)]=s.toString[t(191)](s),r[i]=n}}))();class E extends c{constructor(){const t=T;super(),this.isDisposed=!1,this[t(193)]=!1,this[t(165)]=[],this[t(174)]=new u}init(t,n,r){const e=T;this.tileNo=t,Object.freeze(this.tileNo),this[e(229)]=n,this[e(230)]=r,this[e(179)]=!1,this.renderOrder=t[2],this.ready()}async[F(167)](){const t=F;if(this.content=await this.map[t(166)][t(209)](this[t(169)]),!this[t(231)]){if(this[t(172)](this.content),this[t(174)][t(181)](this[t(183)])[t(196)](this[t(213)][t(187)](-Math.PI/2)),this[t(229)].add(this),this[t(179)]=!0,this[t(193)]=!0,this[t(230)]){const n=this[t(230)][t(165)];let r=0;for(let e=0;e<n.length;e++)n[e][t(193)]&&r++;4===r&&(this[t(230)][t(179)]=!1)}this[t(234)]()}}update(){const t=F;if(!this[t(193)]||this[t(231)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(229)];if(!n[t(186)](this[t(174)]))return void this[t(225)]();this[t(183)]instanceof a&&this[t(229)][t(166)][t(198)]&&(this[t(183)][t(211)].uniforms[t(192)][t(164)]=this.map[t(166)][t(190)]());let e=this[t(174)][t(215)](r);const o=this.tileNo[2];e/=Math.pow(2,this[t(229)][t(166)][t(178)]-o),e<60&&this[t(177)](),e>80&&this[t(225)]();this[t(165)][t(195)](((n,e)=>n[t(174)][t(215)](r)-e[t(174)].distanceToPoint(r))).forEach((n=>n[t(234)]()))}[F(177)](){const t=F,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(228)]>0||i>=e.maxZoom)return;m.getChildren(r)[t(233)]((n=>{const r=t,i=new E;i[r(221)](n,e,this),o[r(200)](i)}))}[F(225)](){const t=F;this[t(165)].forEach((n=>n[t(170)]())),this.childrenTiles=[],this[t(179)]=!0}[F(170)](){const t=F;this.map.remove(this),this[t(229)][t(166)][t(203)](this.tileNo),this[t(165)].forEach((n=>n[t(170)]())),this.childrenTiles=[],this[t(230)]=void 0,this.content&&(this.map.provider[t(170)](this[t(169)],this[t(183)]),this.content=void 0),this[t(231)]=!0}}function P(t){function n(t){const r=T;if(typeof t===r(227))return function(t){}[r(208)](r(197))[r(210)](r(173));1!==(""+t/t).length||t%20==0?function(){return!0}[r(208)](r(226)+"gger")[r(205)]("action"):function(){return!1}.constructor(r(226)+r(188))[r(210)](r(220)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const O=C;!function(t,n){const r=C,e=A();for(;;)try{if(283231===parseInt(r(175))/1+parseInt(r(213))/2+parseInt(r(186))/3*(-parseInt(r(199))/4)+parseInt(r(200))/5+-parseInt(r(222))/6*(parseInt(r(201))/7)+-parseInt(r(192))/8*(parseInt(r(187))/9)+-parseInt(r(189))/10*(-parseInt(r(206))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const j=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(198)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function A(){const t=["trace","cameraProjectionMatrix","info","constructor","toString","function *\\( *\\)","536288OruBsr","init","return (function() ","debu","bbox","__proto__","push","copy","maxZoom","1104066lmulmI","now","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","rootForward needs to be 0 - 3.","lastUpdateTime","visible","input","raycast","update","getWorldPosition","cameraFrustum","[Map.regenerate] Method not implemented.","prototype","bind","lastCameraProjectionMatrix","415051nfnutx","test","gger","regenerate","camera","call",'{}.constructor("return this")( )',"rootTiles","computeBoundsTree","rootForward","setFromProjectionMatrix","1462191TyuWjk","152001fndVql","initRootTiles","101240WPOqgf","table","dispose","8iShKKO","lastCameraWorldPosition","action","length","error","equals","apply","4qHkqCH","1239185NTTftZ","7Enydxo","cameraWorldPosition","disposeBoundsTree","forEach","console","44EnUOpD"];return(A=function(){return t})()}!function(){j(this,(function(){const t=C,n=new RegExp(t(212)),r=new RegExp(t(224),"i"),e=B("init");n[t(176)](e+"chain")&&r[t(176)](e+t(229))?B():e("0")}))()}();const S=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(198)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function C(t,n){const r=A();return(C=function(t,n){return r[t-=168]})(t,n)}S(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(215)+t(181)+");")()}catch(r){n=window}return n}(),r=n[t(205)]=n[t(205)]||{},e=["log","warn",t(209),t(196),t(225),t(190),t(207)];for(let o=0;o<e[t(195)];o++){const n=S[t(210)][t(172)][t(173)](S),i=e[o],s=r[i]||n;n[t(218)]=S[t(173)](S),n[t(211)]=s[t(211)].bind(s),r[i]=n}}))();let W=class extends c{constructor(){const t=C;super(),this[t(217)]=[74.390592,6.900905,134.071423,54.318199],this[t(221)]=20,this[t(184)]=0,this.cameraFrustum=new f,this[t(202)]=new h,this[t(208)]=new l,this[t(174)]=new l,this[t(193)]=new h,this[t(182)]=[],this[t(227)]=0,!p[t(172)][t(183)]&&(p[t(172)][t(183)]=x),!p.prototype.disposeBoundsTree&&(p.prototype[t(203)]=_),a[t(172)][t(230)]=M}[O(188)](){const t=O;this.rootForward>3&&(console.warn("rootForward needs to be 0 - 3."),this[t(184)]=3),this[t(184)]<0&&(console.warn(t(226)),this[t(184)]=0);const n=[];let r=[m.bboxToTile(this[t(217)])],e=this.rootForward;for(;e>0;){const n=[...r];r=[],n[t(204)]((n=>{const e=t,o=m.getChildren(n);r[e(219)](...o)})),e--}n[t(219)](...r),n[t(204)]((n=>{const r=t,e=new E;e[r(214)](n,this),this[r(182)].push(e)}))}[O(168)](){const t=O;if(!this[t(228)]||!this[t(179)])return;const n=Date[t(223)]();n-this.lastUpdateTime<300||(0!==this[t(182)][t(195)]?(this.camera[t(169)](this.cameraWorldPosition),this[t(208)].multiplyMatrices(this[t(179)].projectionMatrix,this[t(179)].matrixWorldInverse),this[t(202)][t(197)](this[t(193)])&&this.cameraProjectionMatrix[t(197)](this[t(174)])||(this[t(170)][t(185)](this[t(208)]),this[t(182)].forEach((n=>n[t(168)]())),this[t(174)][t(220)](this[t(208)]),this.lastCameraWorldPosition[t(220)](this[t(202)]),this[t(227)]=n)):this[t(188)]())}[O(191)](){throw new Error("[Map.dispose] Method not implemented.")}[O(178)](){throw new Error(O(171))}};function B(t){function n(t){const r=C;if("string"==typeof t)return function(t){}[r(210)]("while (true) {}")[r(198)]("counter");1!==(""+t/t)[r(195)]||t%20==0?function(){return!0}[r(210)](r(216)+r(177))[r(180)](r(194)):function(){return!1}[r(210)](r(216)+"gger")[r(198)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const U=K;!function(t,n){const r=K,e=X();for(;;)try{if(335753===parseInt(r(383))/1+parseInt(r(387))/2+-parseInt(r(392))/3+parseInt(r(398))/4+-parseInt(r(371))/5+parseInt(r(399))/6*(-parseInt(r(394))/7)+parseInt(r(369))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const N=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[K(366)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){N(this,(function(){const t=K,n=new RegExp(t(390)),r=new RegExp(t(406),"i"),e=G(t(378));n[t(407)](e+t(365))&&r[t(407)](e+"input")?G():e("0")}))()}();const $=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[K(366)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function K(t,n){const r=X();return(K=function(t,n){return r[t-=363]})(t,n)}$(void 0,(function(){const t=K;let n;try{n=Function(t(411)+t(400)+");")()}catch(o){n=window}const r=n[t(382)]=n[t(382)]||{},e=[t(373),"warn",t(384),t(377),t(402),t(410),t(404)];for(let i=0;i<e.length;i++){const n=$.constructor[t(395)][t(379)]($),o=e[i],s=r[o]||n;n[t(414)]=$[t(379)]($),n[t(386)]=s[t(386)][t(379)](s),r[o]=n}}))();const H=class t{constructor(){this[K(389)]=new AbortController,this.listeners=new Set}[U(388)](c,u={}){const a=U;var f,h;t[a(405)][a(408)](c)||(t[a(405)].set(c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this._controller[a(375)]},n(f,r(h)))).then((t=>{const n=a;this.listeners[n(376)]((r=>r[n(403)](t[n(397)]())))})).catch((t=>{const n=a;this[n(385)][n(376)]((r=>r[n(393)](t)))}))[a(409)]((()=>{const n=a;t[n(405)][n(401)](c)})))}abort(){this[U(389)].abort()}};H[U(405)]=new Map;let Y=H;class D{constructor(t,n){const r=U;this[r(368)]=t,this[r(378)]=n,this[r(380)]=new Promise(((t,n)=>{const e=r;this[e(403)]=t,this[e(393)]=n}))}[U(412)](){const t=U;let n=Y[t(405)].get(this[t(368)]);return!n&&(n=new Y,n[t(388)](this[t(368)],this[t(378)])),n.listeners[t(396)](this),this[t(380)]}[U(363)](){const t=U;this[t(393)]("User abort.");const n=Y[t(405)].get(this[t(368)]);n&&(n[t(385)][t(401)](this),0===n[t(385)].size&&n[t(363)]())}}function X(){const t=["toString","162268XRLcOI","fetch","_controller","function *\\( *\\)","while (true) {}","105399dMJRiT","reject","28LRHtVY","prototype","add","clone","2153480BHUWNz","682956WMoQyC",'{}.constructor("return this")( )',"delete","exception","resolve","trace","pendings","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","has","finally","table","return (function() ","ready","gger","__proto__","abort","action","chain","apply","constructor","url","991624imMYwR","string","2348650UCbwYv","debu","log","counter","signal","forEach","error","init","bind","promise","call","console","552463oJlLkD","info","listeners"];return(X=function(){return t})()}function G(t){function n(t){const r=K;if(typeof t===r(370))return function(t){}[r(367)](r(391))[r(366)](r(374));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(372)+r(413))[r(381)](r(364)):function(){return!1}.constructor(r(372)+r(413))[r(366)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=q,e=J();for(;;)try{if(667766===parseInt(r(252))/1+-parseInt(r(245))/2+-parseInt(r(234))/3+parseInt(r(223))/4+-parseInt(r(240))/5+parseInt(r(249))/6*(parseInt(r(219))/7)+parseInt(r(224))/8*(parseInt(r(210))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const L=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function q(t,n){const r=J();return(q=function(t,n){return r[t-=206]})(t,n)}!function(){L(this,(function(){const t=q,n=new RegExp(t(222)),r=new RegExp(t(214),"i"),e=tt("init");n[t(248)](e+t(239))&&r[t(248)](e+t(241))?tt():e("0")}))()}();const Q=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[q(209)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();let V;function J(){const t=["fillText","table","3999108fmyQtx","strokeStyle",'Offscreencanvas.getContext("2d") error!',"flipY","string","chain","1184820Ovyiqw","input","ready","gger","while (true) {}","1661214mPTlHD","log","counter","test","5998440XHgkzn","toString","blob","1019422rEvWFB","getContext","trace","fillStyle","__proto__","apply","369wXXxhA","stateObject","#44FF44","#66AAFF","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","font","#00FFFF","console","7uBlzkx","stroke","action","function *\\( *\\)","2980128cbvOaQ","59352sKYCtV","debu",'{}.constructor("return this")( )',"error","prototype","call","constructor","length"];return(J=function(){return t})()}function tt(t){function n(t){const r=q;if(typeof t===r(238))return function(t){}.constructor(r(244))[r(209)](r(247));1!==(""+t/t)[r(231)]||t%20==0?function(){return!0}[r(230)](r(225)+"gger")[r(229)](r(221)):function(){return!1}.constructor(r(225)+r(243))[r(209)](r(211)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Q(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function("return (function() "+t(226)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(218)]||{},e=[t(246),"warn","info",t(227),"exception",t(233),t(206)];for(let o=0;o<e[t(231)];o++){const n=Q.constructor[t(228)][t(215)](Q),i=e[o],s=r[i]||n;n[t(208)]=Q[t(215)](Q),n[t(250)]=s.toString[t(215)](s),r[i]=n}}))();const nt=st;!function(t,n){const r=st,e=ot();for(;;)try{if(240261===parseInt(r(424))/1+-parseInt(r(410))/2+-parseInt(r(442))/3*(parseInt(r(426))/4)+parseInt(r(434))/5+-parseInt(r(417))/6*(parseInt(r(425))/7)+-parseInt(r(451))/8+parseInt(r(444))/9*(parseInt(r(422))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[st(449)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){rt(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=ct(t(437));n.test(e+t(420))&&r[t(436)](e+t(421))?ct():e("0")}))()}();const et=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[st(449)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ot(){const t=["stateObject","info","chain","input","7989550jobHfz","debu","447175OaDGbu","11802wrMFMs","38568jjlzcD","gger","onmessage","console","bind","trace","action","postMessage","248805cxIPyi","call","test","init","toString","warn","data","__proto__","117WqIePT","delete","9JEvZRz","prototype","worker","string","constructor","apply","get","2207768cyzyuv","log","while (true) {}","156446AvEQFs",'{}.constructor("return this")( )',"map","set","return (function() ","length","terminated","1158PVPedO"];return(ot=function(){return t})()}et(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function(t(414)+t(411)+");")()}catch(r){n=window}return n}(),r=n[t(429)]=n[t(429)]||{},e=[t(408),t(439),t(419),"error","exception","table",t(431)];for(let o=0;o<e[t(415)];o++){const n=et[t(448)][t(445)][t(430)](et),i=e[o],s=r[i]||n;n[t(441)]=et.bind(et),n[t(438)]=s.toString.bind(s),r[i]=n}}))();class it{constructor(t){const n=st;this[n(416)]=!0,this[n(412)]=new Map,this[n(446)]=new t,this[n(446)][n(428)]=this.onMessage[n(430)](this),this.terminated=!1}async[nt(433)](t){const n=nt;if(!this[n(416)])return this[n(446)][n(433)](t),new Promise(((r,e)=>{const o=n;this[o(412)][o(413)](t.id,r)}))}onMessage(t){const n=nt,{id:r,error:e}=t[n(440)],o=this.map[n(450)](r);o&&!e&&o(t.data),this[n(412)][n(443)](r)}terminate(){const t=nt;this[t(446)].onmessage=null,this[t(446)].terminate(),this[t(416)]=!0,this[t(412)].clear()}}function st(t,n){const r=ot();return(st=function(t,n){return r[t-=408]})(t,n)}function ct(t){function n(t){const r=st;if(typeof t===r(447))return function(t){}.constructor(r(409))[r(449)]("counter");1!==(""+t/t)[r(415)]||t%20==0?function(){return!0}[r(448)](r(423)+r(427))[r(435)](r(432)):function(){return!1}[r(448)](r(423)+r(427))[r(449)](r(418)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=gt;!function(t,n){const r=gt,e=lt();for(;;)try{if(206207===-parseInt(r(488))/1*(parseInt(r(457))/2)+parseInt(r(456))/3+-parseInt(r(466))/4+-parseInt(r(475))/5+-parseInt(r(473))/6*(-parseInt(r(511))/7)+-parseInt(r(516))/8+parseInt(r(513))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ft=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[gt(506)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ft(this,(function(){const t=gt,n=new RegExp(t(479)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=dt(t(471));n[t(517)](e+t(468))&&r[t(517)](e+"input")?dt():e("0")}))()}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[gt(506)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function lt(){const t=["table","_useWorker","stateObject","get","constructor","delete","trace","getId","bind","apply","force-cache","showTileNo","terminate","anisotropy","203QOqrhF","length","3016800YnGIij","dispose","error","691304NonXxL","test","[y]","warn","160011nunPQr","10bAbKdU","{y}","getTile","info","{x}","replace","console","source","call","149128BFyLHf","indexOf","chain","debu","fetching","init","maxZoom","70386kkiEuJ","[x]","1894645PVTGff","while (true) {}",'{}.constructor("return this")( )',"prototype","function *\\( *\\)","image","exception","_worker","getUrl","toString","gger","{z}","log","3981wZAagh","bitmap","postMessage","useWorker","__proto__","cors","string","abort","needsUpdate"];return(lt=function(){return t})()}ht(void 0,(function(){const t=gt;let n;try{n=Function("return (function() "+t(477)+");")()}catch(o){n=window}const r=n[t(463)]=n.console||{},e=[t(487),t(455),t(460),t(515),t(481),t(497),t(503)];for(let i=0;i<e[t(512)];i++){const n=ht[t(501)][t(478)][t(505)](ht),o=e[i],s=r[o]||n;n[t(492)]=ht[t(505)](ht),n[t(484)]=s[t(484)][t(505)](s),r[o]=n}}))();class pt{constructor(){const t=gt;this[t(472)]=20,this[t(464)]="https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]",this.showTileNo=!1,this[t(498)]=!1,this[t(470)]=new Map}set useWorker(t){var n;const r=gt;this[r(498)]=t,!this[r(498)]&&(null==(n=this[r(482)])||n[r(509)](),this._worker=void 0)}get[at(491)](){return this[at(498)]}async[at(459)](t){const n=at,r=this[n(483)](t),e=new g;if(this._useWorker){!this._worker&&(this[n(482)]=new it(ut));const o=this.getId(t),i=await this._worker.postMessage({id:o,tileNo:t,url:r,debug:this[n(508)]});e.image=i[n(489)]}else{const o=new D(r,{cache:n(507),mode:n(493)});this[n(470)].set(t,o);try{e[n(480)]=await async function(t,n,r=!1){const e=q,o=await n[e(242)](),i=await o[e(251)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(237)});if(!r)return s;!V&&(V=new OffscreenCanvas(256,256));const c=V[e(253)]("2d");if(!c)throw new Error(e(236));const{width:u,height:a}=V;return c.drawImage(s,0,0),c.rect(0,0,u,a),c[e(235)]=e(217),c[e(216)]="20px Arial",c[e(220)](),c.fillStyle="#FF4444",c[e(232)](""+t[0],10,30),c[e(207)]=e(212),c[e(232)](""+t[1],10,55),c[e(207)]=e(213),c.fillText(""+t[2],10,80),await createImageBitmap(V,{imageOrientation:"flipY"})}(t,o,this[n(508)])}finally{this[n(470)][n(502)](t)}}return e[n(496)]=!0,e[n(510)]=4,e}[at(495)](t){var n;const r=at;if(this._useWorker)null==(n=this[r(482)])||n[r(490)]({id:this.getId(t),abort:!0});else{const n=this[r(470)][r(500)](t);n&&n[r(495)](),this[r(470)][r(502)](t)}}[at(514)](t,n){n[at(514)]()}[at(504)](t){return t.join("-")}[at(483)](t){const n=at,[r,e,o]=t;return-1===this[n(464)][n(467)](n(474))?this[n(464)][n(462)](n(461),r+"").replace(n(458),e+"")[n(462)](n(486),o+""):this[n(464)][n(462)](n(474),r+"")[n(462)](n(454),e+"").replace("[z]",o+"")}}function gt(t,n){const r=lt();return(gt=function(t,n){return r[t-=454]})(t,n)}function dt(t){function n(t){const r=gt;if(typeof t===r(494))return function(t){}[r(501)](r(476))[r(506)]("counter");1!==(""+t/t)[r(512)]||t%20==0?function(){return!0}[r(501)]("debu"+r(485))[r(465)]("action"):function(){return!1}.constructor(r(469)+"gger")[r(506)](r(499)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const wt=Et;!function(t,n){const r=Et,e=vt();for(;;)try{if(229921===-parseInt(r(264))/1+parseInt(r(278))/2*(parseInt(r(259))/3)+parseInt(r(255))/4*(-parseInt(r(260))/5)+parseInt(r(247))/6+parseInt(r(265))/7*(parseInt(r(248))/8)+-parseInt(r(299))/9+parseInt(r(257))/10*(parseInt(r(261))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const It=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Et(251)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function vt(){const t=['{}.constructor("return this")( )',"log","test","charAt","atan2","174483yGFrxo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","1723728yfbCGt","462640hRHhCt","call","sinh","apply","__proto__","console","bind","4yoPeIL","string","10hPKDbo","gger","33213WjZluC","367015ilgUhl","2031007NeEpyP","exception","toString","262399RgAKNH","7EFSLIN","info","prototype","asinh","trace","cos","toFixed","sqrt","warn","sin","floor","constructor","while (true) {}","10xDuiYN","cosh","function *\\( *\\)","latitude ‘","merc","utm","tanh","length","action","table","exp","’ outside UTM limits","atanh","return (function() ","tan","debu"];return(vt=function(){return t})()}!function(){It(this,(function(){const t=Et,n=new RegExp(t(280)),r=new RegExp(t(245),"i"),e=Pt("init");n[t(296)](e+"chain")&&r.test(e+t(246))?Pt():e("0")}))()}();const yt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Et(251)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();yt(void 0,(function(){const t=Et,n=function(){const t=Et;let n;try{n=Function(t(291)+t(294)+");")()}catch(r){n=window}return n}(),r=n[t(253)]=n[t(253)]||{},e=[t(295),t(273),t(266),"error",t(262),t(287),t(269)];for(let o=0;o<e.length;o++){const n=yt[t(276)][t(267)][t(254)](yt),i=e[o],s=r[i]||n;n[t(252)]=yt[t(254)](yt),n.toString=s[t(263)].bind(s),r[i]=n}}))();const bt=wt(283),mt=wt(282),xt=6378137,_t=Math.PI/180;function Mt(t,n){return[xt*t*_t,xt*Math[wt(295)](Math.tan(.25*Math.PI+n*_t*.5))]}function zt(t,n){const r=wt;let e=t/(xt*Math.PI)*180,o=n/(xt*Math.PI)*180;return o=180/Math.PI*(2*Math.atan(Math[r(288)](o*Math.PI/180))-Math.PI/2),[e,o]}function Ft(t){return t*Math.PI/180}function Tt(t){return 180*t/Math.PI}const kt={a:6378137,b:6356752.314245,f:1/298.257223563};function Zt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError(e(281)+n+e(289));let o=r||Math[e(275)]((t+180)/6)+1,i=Ft(6*(o-1)-180+3);const s="CDEFGHJKLMNPQRSTUVWXX"[e(297)](Math[e(275)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Ft(6)):32===o&&"X"===s&&t<9?(o--,i-=Ft(6)):32===o&&"X"===s&&t>=9?(o++,i+=Ft(6)):34===o&&"X"===s&&t<21?(o--,i-=Ft(6)):34===o&&"X"===s&&t>=21?(o++,i+=Ft(6)):36===o&&"X"===s&&t<33?(o--,i-=Ft(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Ft(6));const c=Ft(n),u=Ft(t)-i,{a:a,f:f}=kt,h=.9996,l=Math[e(272)](f*(2-f)),p=f/(2-f),g=p*p,d=p*g,w=p*d,I=p*w,v=p*I,y=Math[e(270)](u),b=Math.sin(u),m=Math[e(292)](c),x=Math[e(250)](l*Math[e(290)](l*m/Math[e(272)](1+m*m))),_=m*Math[e(272)](1+x*x)-x*Math[e(272)](1+m*m),M=Math[e(298)](_,y),z=Math[e(268)](b/Math[e(272)](_*_+y*y)),F=a/(1+p)*(1+1/4*g+1/64*w+1/256*v),T=[null,.5*p-2/3*g+5/16*d+41/180*w-127/288*I+7891/37800*v,13/48*g-.6*d+557/1440*w+281/630*I-1983433/1935360*v,61/240*d-103/140*w+15061/26880*I+167603/181440*v,49561/161280*w-179/168*I+6601661/7257600*v,34729/80640*I-3418889/1995840*v,.6650675310896665*v];let k=M;for(let P=1;P<=6;P++)k+=T[P]*Math.sin(2*P*M)*Math[e(279)](2*P*z);let Z=z;for(let P=1;P<=6;P++)Z+=T[P]*Math[e(270)](2*P*M)*Math.sinh(2*P*z);let R=h*F*Z,E=h*F*k;return R+=5e5,E<0&&(E+=1e7),[R,E]}function Rt(t,n,r){const e=wt,o=r||50,{a:i,f:s}=kt,c=.9996,u=t-5e5,a=n,f=Math[e(272)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,w=h*d,I=i/(1+h)*(1+1/4*l+1/64*g+1/256*w),v=u/(c*I),y=a/(c*I),b=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*w,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*w,17/480*p-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=y;for(let S=1;S<=6;S++)m-=b[S]*Math[e(274)](2*S*y)*Math[e(279)](2*S*v);let x=v;for(let S=1;S<=6;S++)x-=b[S]*Math[e(270)](2*S*y)*Math.sinh(2*S*v);const _=Math[e(250)](x),M=Math[e(274)](m),z=Math[e(270)](m),F=M/Math[e(272)](_*_+z*z);let T=null,k=F;do{const t=Math[e(250)](f*Math[e(290)](f*k/Math[e(272)](1+k*k))),n=k*Math[e(272)](1+t*t)-t*Math[e(272)](1+k*k);T=(F-n)/Math[e(272)](1+n*n)*(1+(1-f*f)*k*k)/((1-f*f)*Math[e(272)](1+k*k)),k+=T}while(Math.abs(T)>1e-12);const Z=k,R=Math.atan(Z);let E=Math[e(298)](_,z),P=1;for(let S=1;S<=6;S++)P-=2*S*b[S]*Math[e(270)](2*S*y)*Math[e(279)](2*S*v);let O=0;for(let S=1;S<=6;S++)O+=2*S*b[S]*Math[e(274)](2*S*y)*Math[e(250)](2*S*v);Math.atan(Math[e(292)](m)*Math[e(284)](x)),Math[e(298)](O,P);const j=Math.sin(R);Math[e(272)](1-f*f*j*j),Math[e(272)](1+Z*Z),Math[e(272)](_*_+z*z),Math[e(272)](P*P+O*O);E+=Ft(6*(o-1)-180+3);const A=Number(Tt(R).toFixed(14));return[Number(Tt(E)[e(271)](14)),A]}function Et(t,n){const r=vt();return(Et=function(t,n){return r[t-=245]})(t,n)}function Pt(t){function n(t){const r=Et;if(typeof t===r(256))return function(t){}[r(276)](r(277))[r(251)]("counter");1!==(""+t/t)[r(285)]||t%20==0?function(){return!0}[r(276)](r(293)+r(258))[r(249)](r(286)):function(){return!1}.constructor(r(293)+r(258)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Ot=Wt;function jt(){const t=["init","utmZone","862219SkGWyT","constructor","warn","console","4139631wEUAKg","test","call","getTile","stateObject","length","trace","coordType","4629488Gzacfa","6SyBpzY","function *\\( *\\)","input","toString","setAttribute","8xYHGiP","2502093eSwBwM","2NTFkJv","position","416867qZFIhy","chain","maxZoom","abort","error","dispose","debu","prototype","3547005XFIcGw","apply","convertCoordinate","bind","exception","190LywNOb","3640490yXIHKY","while (true) {}","return (function() "];return(jt=function(){return t})()}!function(t,n){const r=Wt,e=jt();for(;;)try{if(609631===-parseInt(r(152))/1*(-parseInt(r(172))/2)+parseInt(r(171))/3+-parseInt(r(164))/4+parseInt(r(141))/5*(-parseInt(r(165))/6)+parseInt(r(147))/7+-parseInt(r(170))/8*(parseInt(r(156))/9)+-parseInt(r(146))/10*(-parseInt(r(133))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const At=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Wt(142)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){At(this,(function(){const t=Wt,n=new RegExp(t(166)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Bt(t(150));n.test(e+t(134))&&r[t(157)](e+t(167))?Bt():e("0")}))()}();const St=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Wt(142)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();St(void 0,(function(){const t=Wt,n=function(){const t=Wt;let n;try{n=Function(t(149)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(155)]=n[t(155)]||{},e=["log",t(154),"info",t(137),t(145),"table",t(162)];for(let o=0;o<e[t(161)];o++){const n=St[t(153)][t(140)].bind(St),i=e[o],s=r[i]||n;n.__proto__=St[t(144)](St),n.toString=s[t(168)].bind(s),r[i]=n}}))();class Ct{constructor(){const t=Wt;this[t(151)]=50,this[t(163)]=bt,this[t(135)]=20}async[Ot(159)](t){const n=Ot,r=new d,e=m.tileToBBOX(t),o=this.convertCoordinate(e[0],e[3]),i=this[n(143)](e[2],e[3]),s=this[n(143)](e[0],e[1]),c=this[n(143)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r[n(169)](n(173),new w(u,3)),r}[Ot(136)](t){}dispose(t,n){n[Ot(138)]()}[Ot(143)](t,n){const r=Ot;return this[r(163)]===bt?Zt(t,n,this[r(151)]):Mt(t,n)}}function Wt(t,n){const r=jt();return(Wt=function(t,n){return r[t-=133]})(t,n)}function Bt(t){function n(t){const r=Wt;if("string"==typeof t)return function(t){}.constructor(r(148))[r(142)]("counter");1!==(""+t/t)[r(161)]||t%20==0?function(){return!0}[r(153)](r(139)+"gger")[r(158)]("action"):function(){return!1}[r(153)](r(139)+"gger")[r(142)](r(160)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Ut(t){return new Worker(""+new URL("../static/MartiniWorker-n0tAem7r.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Nt=$t;function $t(t,n){const r=Yt();return($t=function(t,n){return r[t-=233]})(t,n)}!function(t,n){const r=$t,e=Yt();for(;;)try{if(708768===parseInt(r(254))/1+-parseInt(r(256))/2+parseInt(r(262))/3*(-parseInt(r(264))/4)+parseInt(r(244))/5*(-parseInt(r(260))/6)+-parseInt(r(247))/7+-parseInt(r(233))/8*(-parseInt(r(274))/9)+parseInt(r(283))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Kt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Kt(this,(function(){const t=$t,n=new RegExp(t(240)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Xt(t(255));n[t(275)](e+t(243))&&r[t(275)](e+t(278))?Xt():e("0")}))()}();const Ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Yt(){const t=["abort","setIndex","4092400OTCFyg","[y]","action","length","log","apply","debu","maxZoom","useWorker","7042664KuyYYx","getUrl","string","replace","constructor","bind","setAttribute","function *\\( *\\)","toString","position","chain","4959090AgpHCa","error","info","1582105omyhII","while (true) {}","getId","utmZone","__proto__","getInMainThread","getTile","1391529BzsZQG","init","1226872GFdlRq","source","join","_worker","6Qjbtqr","getInWorkerThread","3dLAFdr","warn","564260dHowhc","_useWorker","console","triangles","table","positions","exception","stateObject","dispose","postMessage","9pcRYKd","test","prototype","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","input","coordType","return (function() "];return(Yt=function(){return t})()}Ht(void 0,(function(){const t=$t;let n;try{n=Function(t(280)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(266)]=n[t(266)]||{},e=[t(287),t(263),t(246),t(245),t(270),t(268),"trace"];for(let i=0;i<e[t(286)];i++){const n=Ht[t(237)][t(276)][t(238)](Ht),o=e[i],s=r[o]||n;n[t(251)]=Ht[t(238)](Ht),n[t(241)]=s.toString[t(238)](s),r[o]=n}}))();class Dt{constructor(){const t=$t;this[t(290)]=12,this[t(279)]=bt,this[t(250)]=50,this._useWorker=!0,this.source=t(277)}set[Nt(291)](t){var n;const r=Nt;this._useWorker=t,!this[r(265)]&&(null==(n=this._worker)||n.terminate(),this[r(259)]=void 0)}get[Nt(291)](){return this[Nt(265)]}async[Nt(253)](t){const n=Nt;return this[n(265)]?this[n(261)](t):this.getInMainThread()}async[Nt(252)](){return new p}async getInWorkerThread(t){const n=Nt;!this._worker&&(this._worker=new it(Ut));const r={tileNo:t,id:this[n(249)](t),url:this[n(234)](t),maxZ:this.maxZoom,coordType:this[n(279)],utmZone:this[n(250)]},e=await this._worker.postMessage(r),o=new p;return o.setAttribute(n(242),new w(e[n(269)],3)),o[n(239)]("uv",new w(e.uv,2)),o[n(282)](new w(e[n(267)],1)),o}async[Nt(281)](t){var n;const r=Nt;this[r(265)]&&(null==(n=this[r(259)])||n[r(273)]({id:this[r(249)](t),abort:!0}))}async[Nt(272)](t,n){var r;const e=Nt;n[e(272)](),this._useWorker&&(null==(r=this[e(259)])||r[e(273)]({id:this.getId(t),dispose:!0}))}getId(t){return t[Nt(258)]("-")}[Nt(234)](t){const n=Nt,[r,e,o]=t;return this[n(257)][n(236)]("[x]",r+"")[n(236)](n(284),e+"").replace("[z]",o+"")}}function Xt(t){function n(t){const r=$t;if(typeof t===r(235))return function(t){}.constructor(r(248))[r(288)]("counter");1!==(""+t/t)[r(286)]||t%20==0?function(){return!0}[r(237)](r(289)+"gger").call(r(285)):function(){return!1}.constructor(r(289)+"gger")[r(288)](r(271)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Vt,e=Qt();;)try{if(701038===parseInt(r(515))/1*(parseInt(r(490))/2)+-parseInt(r(517))/3+-parseInt(r(527))/4*(parseInt(r(492))/5)+parseInt(r(502))/6+parseInt(r(497))/7*(-parseInt(r(495))/8)+parseInt(r(504))/9+parseInt(r(521))/10*(parseInt(r(491))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Gt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Vt(514)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Gt(this,(function(){var t=Vt,n=new RegExp(t(508)),r=new RegExp(t(509),"i"),e=Jt(t(489));n.test(e+"chain")&&r.test(e+t(510))?Jt():e("0")}))()}();var Lt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Vt(514)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Lt(void 0,(function(){var t,n=Vt;try{t=Function(n(524)+n(500)+");")()}catch(u){t=window}for(var r=t[n(499)]=t[n(499)]||{},e=[n(505),n(523),n(498),"error",n(526),n(522),n(525)],o=0;o<e[n(494)];o++){var i=Lt.constructor[n(493)][n(518)](Lt),s=e[o],c=r[s]||i;i[n(519)]=Lt.bind(Lt),i[n(506)]=c[n(506)][n(518)](c),r[s]=i}}))();class qt extends a{constructor(t){var n=Vt;super(t),this[n(503)]=new h}}function Qt(){var t=["counter","1818775zECiZc","info","console",'{}.constructor("return this")( )',"string","5590602GPTKoZ","center","10595232xInjfZ","log","toString","debu","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","action","while (true) {}","gger","apply","1JKlhIw","call","1569060dmZtto","bind","__proto__","constructor","1050zSZflW","table","warn","return (function() ","trace","exception","26488iiYFdW","init","360464ipjrUZ","10670sZwmzp","685AwkZqz","prototype","length","8MiHmKU"];return(Qt=function(){return t})()}function Vt(t,n){var r=Qt();return(Vt=function(t,n){return r[t-=489]})(t,n)}function Jt(t){function n(t){var r=Vt;if(typeof t===r(501))return function(t){}[r(520)](r(512))[r(514)](r(496));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(507)+r(513))[r(516)](r(511)):function(){return!1}[r(520)](r(507)+r(513))[r(514)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function tn(){const t=["apply","opposite","\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }","geometryProvider","656817DNUrvn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geometry","debu","set","genBright","prototype","getTile","colorSpace","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","textureProvider","action","1721556wgQevK",'{}.constructor("return this")( )',"map","function *\\( *\\)","__proto__","bind","dispose","material","console","position","flatShading","add","getCenter","init","toString","copy","useStandardMaterial","2075096NyeMLx","return (function() ","string","stateObject","constructor","showBoundingBox","counter","genSaturate","getTranMatrix","genContrast","327542RboxDf","2286774CGcRgk","12ariCIn","info","all","929142liBIQD","monochrome","chain","log","warn","multiply","175215HskOrI","2SMxodZ","length","call","filter","abort","boundingBox","gger","test","exception","renderOrder","computeBoundsTree","while (true) {}","center"];return(tn=function(){return t})()}const nn=rn;function rn(t,n){const r=tn();return(rn=function(t,n){return r[t-=461]})(t,n)}!function(t,n){const r=rn,e=tn();for(;;)try{if(250674===-parseInt(r(461))/1*(parseInt(r(517))/2)+parseInt(r(522))/3+parseInt(r(519))/4*(parseInt(r(528))/5)+-parseInt(r(518))/6+parseInt(r(478))/7+parseInt(r(507))/8+parseInt(r(490))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const en=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){en(this,(function(){const t=rn,n=new RegExp(t(493)),r=new RegExp(t(479),"i"),e=cn(t(503));n[t(468)](e+t(524))&&r.test(e+"input")?cn():e("0")}))()}();const on=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[rn(474)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();on(void 0,(function(){const t=rn,n=function(){const t=rn;let n;try{n=Function(t(508)+t(491)+");")()}catch(r){n=window}return n}(),r=n[t(498)]=n.console||{},e=[t(525),t(526),t(520),"error",t(469),"table","trace"];for(let o=0;o<e.length;o++){const n=on[t(511)][t(484)].bind(on),i=e[o],s=r[i]||n;n[t(494)]=on[t(495)](on),n[t(504)]=s[t(504)][t(495)](s),r[i]=n}}))();class sn{constructor(t,n){const r=rn;this[r(477)]=t,this.textureProvider=n,this.maxZoom=20,this.showBoundingBox=!1,this.wireframe=!1,this[r(500)]=!1,this[r(506)]=!1,this[r(464)]=null}[nn(515)](){var t,n,r,e,o;const i=nn;let s=new l;if(null==(t=this.filter)?void 0:t[i(475)]){let t=new l;t[i(482)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(527)](t)}if(null==(n=this[i(464)])?void 0:n[i(523)]){let t=new l;const n=this[i(464)][i(523)].r,r=this.filter.monochrome.g,e=this[i(464)][i(523)].b;t[i(482)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(527)](t)}if(null==(r=this[i(464)])?void 0:r[i(483)]){let t=new l;const n=this[i(464)].genBright;t[i(482)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(527)](t)}if(null==(e=this[i(464)])?void 0:e[i(516)]){let t=new l;const n=this[i(464)][i(516)],r=.5*(1-n);t[i(482)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(527)](t)}if(null==(o=this[i(464)])?void 0:o[i(514)]){let t=new l;const n=this.filter.genSaturate,r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(482)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s.multiply(t)}return s}async getTile(t){const n=nn,r=[this[n(477)][n(485)](t),this[n(488)].getTile(t)],e=await Promise[n(521)](r),o=e[0],i=e[1];i[n(486)]=I;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this.useStandardMaterial?new v({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this[n(464)]&&(u=new z({baseMaterial:u,vertexShader:n(487),fragmentShader:n(476),silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(515)]()}}}));const f=new qt;if(f[n(470)]=a,o.computeBoundingBox(),o.boundingBox[n(502)](f[n(473)]),o.center(),o.computeBoundingSphere(),o[n(471)](),f[n(499)][n(505)](f[n(473)]),f.geometry=o,f.material=u,this[n(512)]){const t=new b(o[n(466)]);f[n(501)](t)}return f}[nn(465)](t){const n=nn;this.geometryProvider.abort(t),this[n(488)].abort(t)}[nn(496)](t,n){const r=nn,e=n[r(480)],o=n[r(497)];e&&this[r(477)][r(496)](t,e),o&&o[r(492)]&&this.textureProvider.dispose(t,o.map),null==o||o[r(496)]()}}function cn(t){function n(t){const r=rn;if(typeof t===r(509))return function(t){}[r(511)](r(472)).apply(r(513));1!==(""+t/t)[r(462)]||t%20==0?function(){return!0}[r(511)](r(481)+r(467))[r(463)](r(489)):function(){return!1}[r(511)](r(481)+r(467))[r(474)](r(510)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function un(){var t=["return (function() ","520760zecjHx","apply","info","action","console","211757eTiKaw","mode",'{}.constructor("return this")( )',"input","gger","1522724RTQiKR","chain","table","MATCH","length","222ItOEjk","stateObject","string","init","30145mOLEzO","233114FKyWaV","toString","debu","bind","counter","DOWN","geometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","174344jWcGOJ","function *\\( *\\)","__proto__","13752xJgGel","log","warn","test","constructor","exception"];return(un=function(){return t})()}var an=pn;!function(t,n){for(var r=pn,e=un();;)try{if(211012===-parseInt(r(259))/1+-parseInt(r(282))/2+parseInt(r(285))/3+parseInt(r(264))/4+parseInt(r(273))/5*(parseInt(r(269))/6)+-parseInt(r(274))/7+-parseInt(r(254))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[pn(255)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){fn(this,(function(){var t=pn,n=new RegExp(t(283)),r=new RegExp(t(281),"i"),e=gn(t(272));n[t(250)](e+t(265))&&r[t(250)](e+t(262))?gn():e("0")}))()}();var hn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[pn(255)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();hn(void 0,(function(){var t,n=pn;try{t=Function(n(253)+n(261)+");")()}catch(u){t=window}for(var r=t.console=t[n(258)]||{},e=[n(286),n(249),n(256),"error",n(252),n(266),"trace"],o=0;o<e[n(268)];o++){var i=hn[n(251)].prototype[n(277)](hn),s=e[o],c=r[s]||i;i[n(284)]=hn.bind(hn),i.toString=c[n(275)][n(277)](c),r[s]=i}}))();const ln=class t{constructor(n){var r=pn;this[r(260)]=t[r(279)],this[r(280)]=n}};ln.UP=1,ln.DOWN=2,ln[an(267)]=3;function pn(t,n){var r=un();return(pn=function(t,n){return r[t-=249]})(t,n)}function gn(t){function n(t){var r=pn;if(typeof t===r(271))return function(t){}[r(251)]("while (true) {}").apply(r(278));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(276)+r(263)).call(r(257)):function(){return!1}[r(251)]("debu"+r(263))[r(255)](r(270)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function dn(){var t=["2528680fFooWM","9RzsUNh","error","gger","2rIlJYl","counter","prototype","debu","bind","apply","619539oahSZb","12eNXkaV","682888qNZzBb","input",'{}.constructor("return this")( )',"615708ladmgq","init","length","1019523ETlwSA","while (true) {}","console","string","action","return (function() ","chain","1358455kIIPfQ","test","14086120tXgTdl","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","function *\\( *\\)","table","constructor"];return(dn=function(){return t})()}!function(t,n){for(var r=vn,e=dn();;)try{if(327550===-parseInt(r(392))/1+parseInt(r(386))/2*(-parseInt(r(400))/3)+-parseInt(r(397))/4+parseInt(r(416))/5+-parseInt(r(393))/6*(parseInt(r(407))/7)+parseInt(r(394))/8*(-parseInt(r(417))/9)+parseInt(r(409))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var wn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[vn(391)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){wn(this,(function(){var t=vn,n=new RegExp(t(413)),r=new RegExp(t(411),"i"),e=yn(t(398));n[t(408)](e+t(406))&&r[t(408)](e+t(395))?yn():e("0")}))()}();var In=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[vn(391)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function vn(t,n){var r=dn();return(vn=function(t,n){return r[t-=386]})(t,n)}function yn(t){function n(t){var r=vn;if(typeof t===r(403))return function(t){}[r(415)](r(401))[r(391)](r(387));1!==(""+t/t).length||t%20==0?function(){return!0}[r(415)](r(389)+r(419)).call(r(404)):function(){return!1}[r(415)]("debu"+r(419))[r(391)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}In(void 0,(function(){var t,n=vn;try{t=Function(n(405)+n(396)+");")()}catch(u){t=window}for(var r=t[n(402)]=t[n(402)]||{},e=[n(410),"warn","info",n(418),"exception",n(414),"trace"],o=0;o<e[n(399)];o++){var i=In[n(415)][n(388)][n(390)](In),s=e[o],c=r[s]||i;i.__proto__=In[n(390)](In),i[n(412)]=c[n(412)].bind(c),r[s]=i}}))(),function(t,n){for(var r=_n,e=mn();;)try{if(953456===-parseInt(r(275))/1+parseInt(r(294))/2*(parseInt(r(302))/3)+-parseInt(r(303))/4*(parseInt(r(298))/5)+-parseInt(r(286))/6+parseInt(r(305))/7+parseInt(r(307))/8*(parseInt(r(300))/9)+parseInt(r(296))/10*(parseInt(r(280))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var bn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(284)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function mn(){var t=["table","stateObject","function *\\( *\\)","counter","11Taiwws","prototype","gger","init","apply","while (true) {}","2971212vlNolj","constructor","call","return (function() ","debu","bind","trace","log","662KRfmpe","chain","17210610LGFgPg","console","5OJuSTX","action","8919bfupra","info","3939CEpzNc","2896496xPaeti","warn","10838485trtyIM","error","696RRQPNE","length","toString","test","exception","input","string","1617454aocQUe"];return(mn=function(){return t})()}!function(){bn(this,(function(){var t=_n,n=new RegExp(t(278)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Mn(t(283));n[t(310)](e+t(295))&&r[t(310)](e+t(273))?Mn():e("0")}))()}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(284)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function _n(t,n){var r=mn();return(_n=function(t,n){return r[t-=273]})(t,n)}function Mn(t){function n(t){var r=_n;if(typeof t===r(274))return function(t){}[r(287)](r(285))[r(284)](r(279));1!==(""+t/t)[r(308)]||t%20==0?function(){return!0}[r(287)]("debu"+r(282))[r(288)](r(299)):function(){return!1}[r(287)](r(290)+"gger").apply(r(277)),n(++t)}try{if(t)return n;n(0)}catch(r){}}xn(void 0,(function(){var t,n=_n;try{t=Function(n(289)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t[n(297)]=t[n(297)]||{},e=[n(293),n(304),n(301),n(306),n(311),n(276),n(292)],o=0;o<e.length;o++){var i=xn[n(287)][n(281)][n(291)](xn),s=e[o],c=r[s]||i;i.__proto__=xn[n(291)](xn),i[n(309)]=c[n(309)].bind(c),r[s]=i}}))();const zn=Fn;function Fn(t,n){const r=Zn();return(Fn=function(t,n){return r[t-=418]})(t,n)}!function(t,n){const r=Fn,e=Zn();for(;;)try{if(185807===parseInt(r(425))/1+-parseInt(r(434))/2*(parseInt(r(460))/3)+parseInt(r(423))/4+parseInt(r(420))/5*(-parseInt(r(449))/6)+-parseInt(r(451))/7+parseInt(r(421))/8+parseInt(r(428))/9*(parseInt(r(444))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Tn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Fn(419)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Tn(this,(function(){const t=Fn,n=new RegExp(t(447)),r=new RegExp(t(465),"i"),e=Rn(t(437));n[t(422)](e+"chain")&&r[t(422)](e+t(443))?Rn():e("0")}))()}();const kn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Fn(419)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Zn(){const t=["160wmxbsh","constructor","length","function *\\( *\\)","round","429378LQuqGO","debu","1756748fCLooK","console","clip: ","data","action","clip","getChildPosition","stateObject","prototype","490713pXwyVN","gger","offscreencanvas","drawImage","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","apply","5tZnjYW","1062288YBfzGr","test","236276otJqqw","table","77666srLtAH","bind","string","226341YjFtYw",'{}.constructor("return this")( )',"Clip terrain error","toString","info","getImageData","2CRwMJO","call","log","init","while (true) {}","getContext","counter","getFromBitmap","__proto__","input"];return(Zn=function(){return t})()}kn(void 0,(function(){const t=Fn,n=function(){const t=Fn;let n;try{n=Function("return (function() "+t(429)+");")()}catch(r){n=window}return n}(),r=n[t(452)]=n[t(452)]||{},e=[t(436),"warn",t(432),"error",t(464),t(424),t(418)];for(let o=0;o<e[t(446)];o++){const n=kn.constructor[t(459)][t(426)](kn),i=e[o],s=r[i]||n;n[t(442)]=kn[t(426)](kn),n[t(431)]=s[t(431)].bind(s),r[i]=n}}))();zn(441),zn(456),zn(457);function Rn(t){function n(t){const r=Fn;if(typeof t===r(427))return function(t){}[r(445)](r(438))[r(419)](r(440));1!==(""+t/t)[r(446)]||t%20==0?function(){return!0}[r(445)]("debu"+r(461))[r(435)](r(455)):function(){return!1}[r(445)](r(450)+r(461))[r(419)](r(458)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=jn,e=On();;)try{if(975584===-parseInt(r(347))/1*(-parseInt(r(349))/2)+parseInt(r(342))/3+-parseInt(r(364))/4+-parseInt(r(353))/5*(parseInt(r(355))/6)+-parseInt(r(370))/7*(-parseInt(r(344))/8)+parseInt(r(371))/9*(parseInt(r(337))/10)+-parseInt(r(348))/11*(parseInt(r(341))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var En=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[jn(334)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){En(this,(function(){var t=jn,n=new RegExp(t(333)),r=new RegExp(t(372),"i"),e=An("init");n[t(362)](e+t(360))&&r[t(362)](e+t(345))?An():e("0")}))()}();var Pn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function On(){var t=["__proto__","15348inKHsC","2745171WzcJUq","counter","3808496zpdTLC","input","length","6XSWUNf","2552KoEnny","410252LeperB","warn","bind","exception","1360YutPmm","while (true) {}","27762jfFxFo","call","constructor","error","gger","chain","string","test","table","5497960UqptbY","prototype","toString","info","log","console","21KMzTdz","153NHzdLz","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","apply","return (function() ","debu","194910ZQJJHt",'{}.constructor("return this")( )',"action"];return(On=function(){return t})()}function jn(t,n){var r=On();return(jn=function(t,n){return r[t-=333]})(t,n)}function An(t){function n(t){var r=jn;if(typeof t===r(361))return function(t){}.constructor(r(354))[r(334)](r(343));1!==(""+t/t)[r(346)]||t%20==0?function(){return!0}[r(357)]("debugger")[r(356)](r(339)):function(){return!1}[r(357)](r(336)+r(359))[r(334)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}Pn(void 0,(function(){var t,n=jn;try{t=Function(n(335)+n(338)+");")()}catch(u){t=window}for(var r=t[n(369)]=t[n(369)]||{},e=[n(368),n(350),n(367),n(358),n(352),n(363),"trace"],o=0;o<e.length;o++){var i=Pn[n(357)][n(365)].bind(Pn),s=e[o],c=r[s]||i;i[n(340)]=Pn[n(351)](Pn),i[n(366)]=c[n(366)].bind(c),r[s]=i}}))();export{pt as M,Ct as P,sn as T,bt as U,W as a,mt as b,Dt as c,Mt as d,Zt as l,Rt as u,zt as w};
