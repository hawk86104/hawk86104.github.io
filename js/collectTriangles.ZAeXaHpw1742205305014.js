import{m as t,e as n,j as e,o as r,J as o}from"./@tresjs.nk0nhZ9a1742205305014.js";import{_ as s}from"./index.JI3w-s_N1742205305014.js";import{_ as i,V as c,B as u,c as a,c8 as l}from"./three.LxxvsMJG1742205305014.js";import{P as p}from"./tweakpane.yDiyAAkA1742205305014.js";import{I as f,C as g,N as m,c as d,d as h,a as y}from"./three-mesh-bvh.42xZtR7E1742205305014.js";import{d as w,a3 as b,b as v,a2 as j,o as I,H as _,N as x,u as R,F as T,r as A,e as M,j as Z,g as k,m as B,f as C,al as H}from"./@vue.NRI7TcgI1742205305014.js";import"./postprocessing.lrLv6HE21742205305014.js";import"./@vueuse.w6JAmAgA1742205305014.js";import"./utils.61_hFcjk1742205305014.js";import"./@fesjs.mYnJ5o7u1742205305014.js";import"./vue-router.AZQHMbAd1742205305014.js";import"./lodash-es.pklfUAS51742205305014.js";import"./@qlin.yHhFDldE1742205305014.js";import"./pinia.tbzukF_x1742205305014.js";import"./@floating-ui.BPbuo5Gx1742205305014.js";import"./@juggle.7yjBMqoW1742205305014.js";import"./default.vue_vue_type_script_setup_true_lang.mYhtkZse1742205305014.js";import"./three-mesh-ui.module.iShZzT-O1742205305014.js";!function(t,n){const e=z,r=F();for(;;)try{if(157837===-parseInt(e(265))/1+-parseInt(e(279))/2*(parseInt(e(299))/3)+parseInt(e(261))/4+-parseInt(e(300))/5+parseInt(e(254))/6*(parseInt(e(298))/7)+parseInt(e(287))/8+-parseInt(e(266))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[z(263)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function z(t,n){const e=F();return(z=function(t,n){return e[t-=254]})(t,n)}!function(){S(this,(function(){const t=z,n=new RegExp(t(293)),e=new RegExp(t(280),"i"),r=O("init");n[t(258)](r+t(283))&&e[t(258)](r+t(256))?O():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[z(263)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(){const t=["434637kaTLNq","1284ltXIHk","749115TBXPZm","24HxiSqW","pointerup","input","setFromCamera","test","console","debu","858564LDAKFU","length","apply","gger","96336rRYTdR","666792HuHnxr","firstHitOnly","clientY","innerHeight","toString","call","bind","touch","clientX","info","action",'{}.constructor("return this")( )',"intersectObject","22onHSZE","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","constructor","chain","exception","pointermove","error","158296wZrmoM","pointerType","value","stateObject","Raycaster","__proto__","function *\\( *\\)","pointerdown","addEventListener","innerWidth","table"];return(F=function(){return t})()}E(void 0,(function(){const t=z;let n;try{n=Function("return (function() "+t(277)+");")()}catch(o){n=window}const e=n[t(259)]=n.console||{},r=["log","warn",t(275),t(286),t(284),t(297),t(281)];for(let s=0;s<r[t(262)];s++){const n=E.constructor.prototype[t(272)](E),o=r[s],i=e[o]||n;n[t(292)]=E[t(272)](E),n[t(270)]=i[t(270)][t(272)](i),e[o]=n}}))();function O(t){function n(t){const e=z;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t)[e(262)]||t%20==0?function(){return!0}.constructor(e(260)+e(264))[e(271)](e(276)):function(){return!1}[e(282)](e(260)+"gger").apply(e(290)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=W;!function(t,n){const e=W,r=$();for(;;)try{if(506820===parseInt(e(234))/1*(-parseInt(e(271))/2)+parseInt(e(247))/3+-parseInt(e(242))/4+parseInt(e(311))/5+-parseInt(e(292))/6+-parseInt(e(278))/7*(parseInt(e(280))/8)+-parseInt(e(241))/9*(-parseInt(e(236))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){N(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(267),"i"),r=D(t(300));n.test(r+t(246))&&e.test(r+t(240))?D():r("0")}))()}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(265)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=$();return(W=function(t,n){return e[t-=231]})(t,n)}P(void 0,(function(){const t=W;let n;try{n=Function(t(264)+t(306)+");")()}catch(o){n=window}const e=n[t(239)]=n[t(239)]||{},r=[t(310),t(281),t(286),"error",t(272),"table",t(313)];for(let s=0;s<r[t(319)];s++){const n=P[t(235)][t(322)].bind(P),o=r[s],i=e[o]||n;n[t(291)]=P[t(312)](P),n[t(287)]=i[t(287)][t(312)](i),e[o]=n}}))();const q=["geometry",L(317)],U=[L(251)],X=w({__name:L(282),props:{controls:{}},async setup(r){const o=L;let s,w;const A=r;(()=>{const t=W;i[t(273)][t(322)].computeBoundsTree=d,u[t(322)][t(309)]=h,i[t(293)][t(322)][t(252)]=y})();const M=([s,w]=b((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),Z=new(i[o(315)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*M.attributes[o(324)][o(301)]);k[o(276)](255);const B=new(i[o(243)])(k,3,!0);B[o(232)](i[o(298)]),M[o(249)](o(297),B);const C=v(null),H=v(null),S=v(!1),E=v(-1),F=v(.2),O=new c,{camera:N,raycaster:P}=t(),X=15/255,$=78/255,D=85/255;let V=null;j((()=>{const t=o;C[t(290)]&&(console.log(t(316),C.value),C[t(290)][t(251)][t(284)](),V=M[t(304)],((t,n,e,r,o,s)=>{const c=z;window[c(295)](c(285),(e=>{const r=c;t.x=e[r(274)]/window[r(296)]*2-1,t.y=-e[r(268)]/window[r(269)]*2+1,n[r(289)]=!0})),window.addEventListener(c(294),(u=>{const a=c;t.x=u[a(274)]/window[a(296)]*2-1,t.y=-u[a(268)]/window[a(269)]*2+1,r[a(289)]=u.button;const l=new(i[a(291)]);l[a(257)](t,e.value),l[a(267)]=!0;const p=l[a(278)](o.value,!0);n[a(289)]=!0,s.enabled=0===p[a(262)]}),!0),window[c(295)](c(255),(t=>{const e=c;r[e(289)]=-1,t[e(288)]===e(273)&&(n[e(289)]=!1)}),!0)})(O,S,N,E,C,A[t(245)][t(231)]))}));const{onLoop:Y}=n();Y((()=>{const t=o,n=M[t(259)];if(H[t(290)])if(A[t(245)][t(231)][t(244)]||!S[t(290)])H.value[t(283)]=!1;else{H[t(290)][t(279)][t(268)](F[t(290)]),P[t(290)][t(237)](O,N[t(290)]),P[t(290)][t(250)]=!0;const e=P.value[t(323)](C.value,!0);if(e[t(319)]){H.value.position[t(262)](e[0][t(258)]),A.controls.instance.enabled=!1,H[t(290)][t(283)]=!0;const r=new(i[t(256)]);r[t(262)](C[t(290)][t(303)])[t(321)]();const o=new(i[t(325)]);o.center[t(262)](H[t(290)].position).applyMatrix4(r),o.radius=100*F.value;const s=[],c=new(i[t(294)]);if(null==V||V[t(275)]({intersectsBounds:n=>{const e=t,r=o[e(288)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(253)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return f;return g}return r?f:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(269)](o)){const t=3*e;s[i(307)](t,t+1,t+2)}return!1}}),0===E[t(290)]||2===E[t(290)]){let e=1,r=1,o=1;0===E[t(290)]&&(e=X,r=$,o=D);for(let i=0,c=s[t(319)];i<c;i++){const c=n[t(260)](s[i]);B[t(261)](c,e),B[t(289)](c,r),B[t(320)](c,o)}B.needsUpdate=!0}}else H[t(290)].visible=!1,A[t(245)].instance[t(255)]=!0}}));const J=(new p)[o(302)]({title:o(318),label:o(299)}),Q=new u;return J.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<B[t(301)];o++)B[t(260)](o)===X&&B[t(314)](o)===$&&B.getZ(o)===D&&(n[t(307)](M[t(277)][t(324)][t(260)](o),M[t(277)][t(324)].getY(o),M[t(277)][t(324)][t(266)](o)),e[t(307)](M[t(277)][t(238)][t(260)](o),M[t(277)][t(238)][t(314)](o),M.attributes[t(238)][t(266)](o)));const r=new Float32Array(n);Q[t(249)](t(324),new a(r,3)),Q.setAttribute(t(238),new a(r,3))})),(t,n)=>{const e=o;return I(),_(T,null,[x(e(270),{ref_key:e(254),ref:C,geometry:R(M),scale:.005,material:R(Z)},null,8,q),x(e(270),{ref_key:e(295),ref:H,visible:!1},n[0]||(n[0]=[x(e(274),{args:[1,40,40]},null,-1),x(e(296),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(270),{geometry:R(Q),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(296),{color:e(233),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,U)],64)}}});function $(){const t=["boundsTree","string",'{}.constructor("return this")( )',"push","stateObject","disposeBoundsTree","log","4438810mRFafP","bind","trace","getY","MeshStandardMaterial","targetMesh.value init","material","点击按钮","length","setZ","invert","prototype","intersectObject","position","Sphere","instance","setUsage","#023249","10iQnHyV","constructor","10ZPVUma","setFromCamera","normal","console","input","8198766NqLCLn","371340rEQoeX","BufferAttribute","active","controls","chain","19317esodMr","gger","setAttribute","firstHitOnly","geometry","raycast","set","targetMesh","enabled","Matrix4","while (true) {}","point","index","getX","setX","copy","debu","return (function() ","apply","getZ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setScalar","intersectsSphere","TresMesh","187998vigHnD","exception","BufferGeometry","TresSphereGeometry","shapecast","fill","attributes","14irDNuh","scale","1042952fClWfR","warn","model","visible","computeBoundsTree","counter","info","toString","intersectsBox","setY","value","__proto__","28752bFIvWN","Mesh","Vector3","brushMesh","TresMeshStandardMaterial","color","DynamicDrawUsage","生成模型","init","count","addButton","matrixWorld"];return($=function(){return t})()}function D(t){function n(t){const e=W;if(typeof t===e(305))return function(t){}.constructor(e(257))[e(265)](e(285));1!==(""+t/t)[e(319)]||t%20==0?function(){return!0}[e(235)]("debu"+e(248)).call("action"):function(){return!1}.constructor(e(263)+e(248))[e(265)](e(308)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=G;!function(t,n){const e=G,r=Q();for(;;)try{if(537045===parseInt(e(150))/1+-parseInt(e(140))/2*(parseInt(e(164))/3)+-parseInt(e(161))/4+parseInt(e(137))/5+parseInt(e(146))/6*(-parseInt(e(123))/7)+parseInt(e(151))/8*(-parseInt(e(156))/9)+parseInt(e(144))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Y(this,(function(){const t=G,n=new RegExp(t(159)),e=new RegExp(t(167),"i"),r=tt(t(132));n[t(163)](r+t(171))&&e.test(r+t(142))?tt():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(170)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(){const t=["init","constructor","controls","action","value","1806685QtxRZe","stateObject","prototype","26uAIRpr","gger","input","log","22355780KxePGm","info","2892tWVehI","/images/skyBox/6jpg/","#999999","string","1000700bdqEZM","72tOeQCB","toString","length","TresPerspectiveCamera","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com","1009674NurSWJ","__proto__","bind","function *\\( *\\)","neg-z.jpg","2724000IlNmRA","controlsRef","test","94002OuLmNd","collectTriangles","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"return (function() ","apply","chain","neg-y.jpg","13979gwvbHw","debu","console","error","TresCanvas","path","pos-x.jpg","exception","resource.cos"];return(Q=function(){return t})()}function G(t,n){const e=Q();return(G=function(t,n){return e[t-=123]})(t,n)}J(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(169)+t(168)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(125)]||{},r=[t(143),"warn",t(145),t(126),t(130),"table","trace"];for(let o=0;o<r[t(153)];o++){const n=J.constructor[t(139)].bind(J),s=r[o],i=e[s]||n;n[t(157)]=J.bind(J),n[t(152)]=i[t(152)][t(158)](i),e[s]=n}}))();const K=w({__name:V(165),setup(t){const n=V,e=A({clearColor:n(148),antialias:!0}),i=A({autoRotate:!1}),c=v(null);return(t,u)=>{const a=n,l=M(a(127));return I(),_(T,null,[Z(R(s)),Z(l,B(e,{"window-size":""}),{default:k((()=>[u[0]||(u[0]=x(a(154),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),Z(R(r),B({ref_key:a(162),ref:c},i),null,16),u[1]||(u[1]=x("TresAmbientLight",{intensity:1},null,-1)),(I(),C(H,null,{default:k((()=>[Z(X,{controls:c[a(136)]},null,8,[a(134)])])),_:1})),(I(),C(H,null,{default:k((()=>[Z(R(o),{background:!1,files:[a(129),"neg-x.jpg","pos-y.jpg",a(172),"pos-z.jpg",a(160)],path:a(155)+a(147)},null,8,[a(128)])])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=G;if(typeof t===e(149))return function(t){}[e(133)]("while (true) {}")[e(170)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(133)](e(124)+e(141))[e(166)](e(135)):function(){return!1}.constructor(e(124)+"gger")[e(170)](e(138)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
