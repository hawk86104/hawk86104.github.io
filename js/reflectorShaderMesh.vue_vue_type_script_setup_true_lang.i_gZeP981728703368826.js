import{a3 as t,C as n,k as r,t as e,s as o,b$ as i}from"./three.VoknrmS61728703368826.js";import{p as s,z as c}from"./@tresjs.JhHPALEY1728703368826.js";import{R as a,a as u}from"./all.three.NayfOH7t1728703368826.js";import{d as f,a4 as l,a3 as p,w as m,o as h,E as w,L as d,u as g}from"./@vue.JNsx1iN61728703368826.js";const x=y;!function(t,n){const r=y,e=I();for(;;)try{if(370772===-parseInt(r(251))/1*(parseInt(r(269))/2)+-parseInt(r(274))/3*(parseInt(r(309))/4)+-parseInt(r(280))/5+parseInt(r(262))/6*(-parseInt(r(299))/7)+parseInt(r(286))/8*(-parseInt(r(308))/9)+-parseInt(r(277))/10+parseInt(r(260))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const b=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[y(290)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function y(t,n){const r=I();return(y=function(t,n){return r[t-=248]})(t,n)}!function(){b(this,(function(){const t=y,n=new RegExp(t(253)),r=new RegExp(t(285),"i"),e=R(t(273));n[t(250)](e+t(301))&&r[t(250)](e+t(252))?R():e("0")}))()}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[y(290)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();_(void 0,(function(){const t=y;let n;try{n=Function("return (function() "+t(287)+");")()}catch(o){n=window}const r=n[t(302)]=n[t(302)]||{},e=[t(256),t(266),t(272),t(282),t(254),t(278),"trace"];for(let i=0;i<e[t(303)];i++){const n=_.constructor[t(304)].bind(_),o=e[i],s=r[o]||n;n[t(267)]=_[t(257)](_),n.toString=s[t(307)][t(257)](s),r[o]=n}}))();const j=[x(293),x(276)],v=[x(255)],S=[x(255)];function I(){const t=["update","scale","6799340qCbPGG","table","stateObject","1225805tZVYUq","color","error","tReflect","showGridHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4040XcAHRn",'{}.constructor("return this")( )',"uniforms","counter","apply","wrapT","add","position","reflectivity","mixStrength","call","action","uMatrix","1002057RaUQaz","while (true) {}","chain","console","length","prototype","debu","TresGroup","toString","10134APQvYp","72152GmTVPW","uMixStrength","string","value","visible","test","85659BDWzah","input","function *\\( *\\)","exception","object","log","bind","wrapS","name","35748658jSxyUC","constructor","18NJjpfF","uMirror","primitive","mirror","warn","__proto__","onBeforeRender","8aNxoAw","#ffffff","gger","info","init","102ukePcx"];return(I=function(){return t})()}const M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:x(270)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const b=x;let y,_;const I=f,{scene:M}=s(),R=([y,_]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),y=await y,_(),y);R[0][b(258)]=t,R[0].wrapT=t,R[1].wrapS=t,R[1][b(291)]=t;const G=new a,z=new u({reflectivity:I[b(294)],mirror:I[b(265)],mixStrength:I[b(295)],color:new n(I[b(281)]),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M.fog,dithering:!0});z[b(288)][b(283)]=G.renderTargetUniform,z[b(288)][b(298)]=G.textureMatrixUniform;const A=new e(10,10),P=new o(A,z);P[b(259)]="reflectorShaderMesh",P[b(293)].y=-.01,P.rotation.x=-Math.PI/2,P[b(292)](G),P[b(268)]=(t,n,r)=>{const e=b;P[e(249)]=!1,G[e(275)](t,n,r),P[e(249)]=!0};const T=new i(9.5,10);return T.visible=I[b(284)],p((()=>{const t=b;I.reflectivity&&(z.uniforms.uReflectivity.value=I[t(294)]),I[t(265)]&&(z[t(288)][t(263)][t(248)]=I[t(265)]),I[t(295)]&&(z[t(288)][t(310)][t(248)]=I.mixStrength),I[t(281)]&&(z[t(288)].uColor[t(248)]=new n(I[t(281)]))})),m((()=>I[b(284)]),(t=>{T.visible=t})),(t,n)=>{const r=b;return h(),w(r(306),{position:I.position,scale:I[r(276)]},[d(r(264),{object:g(P)},null,8,v),d(r(264),{object:g(T)},null,8,S)],8,j)}}});function R(t){function n(t){const r=y;if(typeof t===r(311))return function(t){}[r(261)](r(300)).apply(r(289));1!==(""+t/t)[r(303)]||t%20==0?function(){return!0}[r(261)]("debu"+r(271))[r(296)](r(297)):function(){return!1}[r(261)](r(305)+r(271))[r(290)](r(279)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
