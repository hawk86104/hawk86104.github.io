import{aP as t,ai as n}from"./three.YiCjTDWq1728554291399.js";import{q as o,Y as e,L as i}from"./@tresjs.IlQvaTJ91728554291399.js";import{a as r,b as s}from"./index.Tylq_rsN1728554291399.js";import{P as u}from"./tweakpane.yHWGBmom1728554291399.js";import{d as c,$ as a,w as p,o as l,E as f,a4 as m,u as g,r as d,f as h,g as v,j as I,L as S,al as y,m as b}from"./@vue.JNsx1iN61728554291399.js";import"./@vueuse.nb-8z3af1728554291399.js";import"./three-stdlib.W1Z_QaHt1728554291399.js";import"./@pmndrs.X_zaObHB1728554291399.js";import"./object-hash.T8hJJgjS1728554291399.js";import"./@amap.pS6gfiLZ1728554291399.js";import"./jszip.ZN8xj_JH1728554291399.js";const x=_;function _(t,n){const o=P();return(_=function(t,n){return o[t-=480]})(t,n)}!function(t,n){const o=_,e=P();for(;;)try{if(931413===-parseInt(o(491))/1+parseInt(o(522))/2*(-parseInt(o(483))/3)+parseInt(o(482))/4*(parseInt(o(508))/5)+parseInt(o(501))/6*(-parseInt(o(503))/7)+parseInt(o(521))/8+-parseInt(o(512))/9*(-parseInt(o(510))/10)+parseInt(o(480))/11)break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const w=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){w(this,(function(){const t=_,n=new RegExp(t(526)),o=new RegExp(t(487),"i"),e=E(t(496));n[t(523)](e+t(511))&&o[t(523)](e+"input")?E():e("0")}))()}();const R=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[_(492)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function P(){const t=["uSnappingResolution","srcMaterial","prototype","325hSanYt","console","50LvjqTq","chain","1937025svnhEs","replace","onBeforeCompile","constructor","bind","__proto__","trace","error","stateObject","7444896BynyFm","126iKZQWM","test","while (true) {}","info","function *\\( *\\)","23804869JxecdT","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","52844FetEmU","62547idmOcK","vertexShader","exception","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","length",'{}.constructor("return this")( )',"1605434QnxEvo","apply","com","counter","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","init","#include <project_vertex>","string","table","debu","133494xsWkoJ","#include <common>","371RhnOLJ","gger"];return(P=function(){return t})()}R(void 0,(function(){const t=_,n=function(){const t=_;let n;try{n=Function("return (function() "+t(490)+");")()}catch(o){n=window}return n}(),o=n[t(509)]=n.console||{},e=["log","warn",t(525),t(519),t(485),t(499),t(518)];for(let i=0;i<e.length;i++){const n=R[t(515)][t(507)][t(516)](R),r=e[i],s=o[r]||n;n[t(517)]=R[t(516)](R),n.toString=s.toString[t(516)](s),o[r]=n}}))();const j=["object"],M=c({__name:x(493),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new t({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=x,o=t,e=a(o[n(505)]);return o[n(506)][n(514)]=t=>{const o=n;t.uniforms.uSnappingResolution=e,t[o(484)]=t.vertexShader.replace(o(502),o(481)),t.vertexShader=t[o(484)][o(513)](o(497),o(495))},p((()=>o[n(505)]),(t=>{e.value=t})),(t,n)=>(l(),f("primitive",{object:t.srcMaterial},null,8,j))}});function E(t){function n(t){const o=_;if(typeof t===o(498))return function(t){}.constructor(o(524)).apply(o(494));1!==(""+t/t)[o(489)]||t%20==0?function(){return!0}[o(515)](o(500)+o(504))[o(486)](o(488)):function(){return!1}[o(515)](o(500)+o(504)).apply(o(520)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=T,e=O();for(;;)try{if(635539===-parseInt(o(350))/1*(parseInt(o(363))/2)+-parseInt(o(364))/3*(parseInt(o(328))/4)+parseInt(o(349))/5*(-parseInt(o(340))/6)+parseInt(o(348))/7+parseInt(o(358))/8+parseInt(o(326))/9*(parseInt(o(332))/10)+-parseInt(o(362))/11*(-parseInt(o(335))/12))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const z=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[T(333)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){z(this,(function(){const t=T,n=new RegExp(t(351)),o=new RegExp(t(345),"i"),e=k(t(359));n[t(347)](e+t(355))&&o.test(e+t(337))?k():e("0")}))()}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[T(333)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function T(t,n){const o=O();return(T=function(t,n){return o[t-=325]})(t,n)}function k(t){function n(t){const o=T;if("string"==typeof t)return function(t){}[o(336)](o(334))[o(333)](o(346));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(331)+o(327)).call(o(360)):function(){return!1}[o(336)](o(331)+o(327))[o(333)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function O(){const t=["\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","debu","27770WgbJik","apply","while (true) {}","365808HdimbY","constructor","input","console","warn","27918BhOkZT","error","bind","vertexShader","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","test","2447186NDMQEQ","165ymAsWv","1WwzSqt","function *\\( *\\)","length","onBeforeCompile","uSnappingResolution","chain","table",'{}.constructor("return this")( )',"9367752GUSOUI","init","action","info","88shbmeW","1629578RxWoSx","63hlHiOZ","#include <common>","replace","1935rouDKC","gger","144308JsQUfQ","toString"];return(O=function(){return t})()}A(void 0,(function(){const t=T;let n;try{n=Function("return (function() "+t(357)+");")()}catch(i){n=window}const o=n[t(338)]=n.console||{},e=["log",t(339),t(361),t(341),"exception",t(356),"trace"];for(let r=0;r<e[t(352)];r++){const n=A.constructor.prototype[t(342)](A),i=e[r],s=o[i]||n;n.__proto__=A[t(342)](A),n[t(329)]=s[t(329)][t(342)](s),o[i]=n}}))();const Z=$;!function(t,n){const o=$,e=L();for(;;)try{if(685801===parseInt(o(493))/1*(parseInt(o(494))/2)+-parseInt(o(519))/3+parseInt(o(521))/4+-parseInt(o(516))/5+-parseInt(o(528))/6+-parseInt(o(507))/7+parseInt(o(512))/8*(-parseInt(o(531))/9))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const C=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[$(530)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){C(this,(function(){const t=$,n=new RegExp(t(533)),o=new RegExp(t(506),"i"),e=F(t(514));n.test(e+t(515))&&o[t(536)](e+t(498))?F():e("0")}))()}();const N=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[$(530)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();N(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(505)+t(524)+");")()}catch(o){n=window}return n}(),o=n[t(499)]=n[t(499)]||{},e=[t(511),t(520),t(513),t(500),t(502),"table",t(522)];for(let i=0;i<e[t(503)];i++){const n=N[t(532)][t(508)][t(523)](N),r=e[i],s=o[r]||n;n.__proto__=N[t(523)](N),n[t(526)]=s[t(526)][t(523)](s),o[r]=n}}))();const G=[Z(534)];function L(){const t=["exception","length","string","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1397403ObXDFa","prototype","while (true) {}","./draco/","log","24cdlNaq","info","init","chain","3592325KOhLLr","gger","primitive","7281lDkCNV","warn","3764920rKkyDS","trace","bind",'{}.constructor("return this")( )',"action","toString","debu","2345058wnFIcq","forEach","apply","523224RkSQkw","constructor","function *\\( *\\)","object","values","test","model","1230343zMstGd","2MLnFKc","stateObject","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","uSnappingResolution","input","console","error","counter"];return(L=function(){return t})()}function $(t,n){const o=L();return($=function(t,n){return o[t-=493]})(t,n)}const B=c({__name:Z(537),props:{uSnappingResolution:{default:6}},async setup(t){const n=Z;let e,i;const r=t,{scene:s,materials:u}=([e,i]=m((()=>o(n(496),{draco:!0,decoderPath:n(510)}))),e=await e,i(),e),c=[];return Object[n(535)](u)[n(529)]((t=>{const o=n;c.push(function(t,n=6){const o=T,e={value:n};return t[o(353)]=t=>{const n=o;t[n(344)][n(354)]=e,t[n(343)]=t[n(343)].replace(n(365),"\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t"),t[n(343)]=t[n(343)][n(325)]("#include <project_vertex>",n(330))},e}(t,r[o(497)]))})),p((()=>r[n(497)]),(t=>{c[n(529)]((n=>{n.value=t}))})),(t,o)=>{const e=n;return l(),f(e(518),{object:g(s),scale:5,position:[0,-2,0]},null,8,G)}}});function F(t){function n(t){const o=$;if(typeof t===o(504))return function(t){}[o(532)](o(509)).apply(o(501));1!==(""+t/t)[o(503)]||t%20==0?function(){return!0}[o(532)](o(527)+"gger").call(o(525)):function(){return!1}[o(532)](o(527)+o(517))[o(530)](o(495)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const W=J;!function(t,n){const o=J,e=X();for(;;)try{if(893251===parseInt(o(382))/1*(-parseInt(o(379))/2)+parseInt(o(405))/3*(parseInt(o(396))/4)+-parseInt(o(400))/5*(parseInt(o(376))/6)+parseInt(o(372))/7+parseInt(o(374))/8+parseInt(o(389))/9+-parseInt(o(386))/10)break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const q=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){q(this,(function(){const t=J,n=new RegExp(t(365)),o=new RegExp(t(369),"i"),e=nt("init");n[t(366)](e+t(406))&&o[t(366)](e+t(393))?nt():e("0")}))()}();const U=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[J(362)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function J(t,n){const o=X();return(J=function(t,n){return o[t-=362]})(t,n)}U(void 0,(function(){const t=J;let n;try{n=Function(t(392)+t(368)+");")()}catch(i){n=window}const o=n[t(399)]=n[t(399)]||{},e=[t(383),t(398),t(388),"error",t(401),t(387),t(391)];for(let r=0;r<e.length;r++){const n=U[t(363)][t(395)][t(390)](U),i=e[r],s=o[i]||n;n.__proto__=U[t(390)](U),n[t(402)]=s[t(402)][t(390)](s),o[i]=n}}))();const K=S(W(394),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1),Q=S(W(397),{intensity:.5},null,-1),D=S("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1),H=S(W(377),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:W(384)},[S(W(380),{args:[1.5,1.5,2]}),S("TresMeshStandardMaterial",{color:16737826,roughness:0,metalness:0})],-1),Y={position:[5,.9,-5],name:W(411)},V=S(W(408),{args:[1,.35,100,32]},null,-1);function X(){const t=["gger","11947864zzfgLm","length","849144wmrbVn","TresMesh","rotation-y","138VAsoAW","TresCylinderGeometry","call","20449GgbEzq","log","cube","addBinding","5115900dJZSot","table","info","9135495YbjzJI","bind","trace","return (function() ","input","TresPerspectiveCamera","prototype","330768nATBdO","TresAmbientLight","warn","console","25nnIEeC","exception","toString","modelSnappingResolution","rotation-x","30MvnAGl","chain","debu","TresTorusKnotGeometry","action","counter","torus","string","apply","constructor","uSnappingResolution","function *\\( *\\)","test","自行车模型-分辨率",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","circle","1315888EzyexW"];return(X=function(){return t})()}const tt=c({__name:"vertexSnapping",setup(t){const o=W,c=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=d({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(385)](a,o(364),{label:"圆环扭结-分辨率",min:0,max:20,step:.01}),p[o(385)](a,"modelSnappingResolution",{label:o(367),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(g(i),b(c,{"window-size":""}),{default:v((()=>[K,I(g(e)),Q,D,H,S("TresMesh",Y,[V,I(M,{uSnappingResolution:a[u(364)]},null,8,[u(364)])]),(l(),h(y,null,{default:v((()=>[I(B,{uSnappingResolution:a[u(403)]},null,8,[u(364)])])),_:1})),(l(),h(y,null,{default:v((()=>[I(g(r),{resolution:256,blur:1,background:""},{default:v((()=>[I(g(s),{intensity:2,form:u(371),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(404)]),I(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(404)]),I(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(378)]),I(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(378)])])),_:1})])),_:1}))])),_:1},16)}}});function nt(t){function n(t){const o=J;if(typeof t===o(412))return function(t){}[o(363)]("while (true) {}")[o(362)](o(410));1!==(""+t/t)[o(375)]||t%20==0?function(){return!0}[o(363)](o(407)+"gger")[o(381)](o(409)):function(){return!1}[o(363)]("debu"+o(373))[o(362)](o(370)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{tt as default};
