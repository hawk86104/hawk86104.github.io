import{_ as t,a9 as n,cL as e,V as o,am as r}from"./three.jpi2UCEx1735275234726.js";import{P as s}from"./tweakpane.yHWGBmom1735275234726.js";import{m as i,e as a}from"./@tresjs.fCqPNEAw1735275234726.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d as g}from"./index.lfv-WZoG1735275234726.js";import{d,a3 as h,w as j,o as b,D as w,u as x,X as y,r as v,e as I,j as _,g as C,f as M,al as z,m as B,F as S}from"./@vue.u2cBPEWn1735275234726.js";import{_ as k}from"./raycasterEvent.b2onpgPD1735275234726.js";import{a as R}from"./utils.fUTai4E91735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";import"./@mapbox.csZ6D8nW1735275234726.js";import"./@amap.Ndko9EDY1735275234726.js";import"./three-mesh-bvh.4sDkzARF1735275234726.js";import"./three-custom-shader-material.6yZB66Qf1735275234726.js";import"./@fesjs.Okr_vpx41735275234726.js";import"./vue-router.bq4JfoTS1735275234726.js";import"./lodash-es.guXTxyfJ1735275234726.js";import"./@qlin.yHhFDldE1735275234726.js";import"./pinia.BXllYoho1735275234726.js";import"./vue-demi.C4xddsk91735275234726.js";import"./@floating-ui.BPbuo5Gx1735275234726.js";import"./@juggle.7yjBMqoW1735275234726.js";import"./@tweenjs.oXZvc3ug1735275234726.js";import"./utils.kAQQYNep1735275234726.js";import"./d3-geo.x9XnJzvq1735275234726.js";import"./d3-array.AhNJy1f41735275234726.js";import"./http.b15ZA3tF1735275234726.js";import"./axios.Ng308AU61735275234726.js";import"./color.xvgJ6c6C1735275234726.js";import"./color-string.nM7yNXxR1735275234726.js";import"./color-name.ATxH9ThD1735275234726.js";import"./simple-swizzle.n4jro9WC1735275234726.js";import"./is-arrayish.maCmYx6O1735275234726.js";import"./color-convert.YaFMCFuo1735275234726.js";import"./lodash.dF9mtFPa1735275234726.js";import"./naive-ui.R1K5pKrL1735275234726.js";import"./date-fns.5Hiebz9E1735275234726.js";import"./@css-render.vQx0qtar1735275234726.js";import"./seemly.SjiSeX2v1735275234726.js";import"./css-render.othunQqw1735275234726.js";import"./@emotion.ZD_ZYAgY1735275234726.js";import"./vooks.uTCm0eHJ1735275234726.js";import"./evtd.DtfwxtIl1735275234726.js";import"./vueuc.grpJrXZx1735275234726.js";import"./vdirs.iwfkb0301735275234726.js";import"./treemate.dcEdf2le1735275234726.js";import"./date-fns-tz.VdnYgkU-1735275234726.js";import"./async-validator.-YBkpS4I1735275234726.js";const A=Z;function Z(t,n){const e=D();return(Z=function(t,n){return e[t-=426]})(t,n)}!function(t,n){const e=Z,o=D();for(;;)try{if(570773===-parseInt(e(473))/1*(parseInt(e(454))/2)+-parseInt(e(453))/3*(parseInt(e(457))/4)+-parseInt(e(492))/5+parseInt(e(455))/6*(-parseInt(e(497))/7)+-parseInt(e(427))/8*(-parseInt(e(485))/9)+parseInt(e(469))/10*(parseInt(e(482))/11)+parseInt(e(498))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["position0","coordType","opposite","apply","gger","string","4835485obCGdn","log","return (function() ","update","#fff","5376833yVrGkX","18674388CgJqXf","innerHeight","call","Vector3","genSaturation","action","provider","toString","16AgLing","trace","Color","input","genBright","object","far","rotation","error","wireframe","dampingFactor","table","genContrast","minDistance","length","flatShading","updateProjectionMatrix","debu","stateObject","isMonochrome","exception","console","tileMapMesh","value","test","innerWidth","147WcMORA","16WXanou","6cwmrNc","bind","17540ziUgIL","filter","bbox","info","function *\\( *\\)","warn","render","useStandardMaterial","position","primitive","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","30QlqBhI","target","init","source","23770FesXEe","maxZoom","mapCenter","lookAt","constructor","set","counter","useWorker","monochrome","3647897ZDUckl","showTileNo","while (true) {}","719703qaUFQI"];return(D=function(){return t})()}!function(){L(this,(function(){const t=Z,n=new RegExp(t(461)),e=new RegExp(t(468),"i"),o=N(t(471));n[t(451)](o+"chain")&&e[t(451)](o+t(430))?N():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(489)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=Z;let n;try{n=Function(t(494)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(448)]=n.console||{},o=[t(493),t(462),t(460),t(435),t(447),t(438),t(428)];for(let s=0;s<o[t(441)];s++){const n=E[t(477)].prototype.bind(E),r=o[s],i=e[r]||n;n.__proto__=E.bind(E),n[t(426)]=i.toString[t(456)](i),e[r]=n}}))();const F=[A(432),A(434)],U=d({__name:A(449),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:A(496)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const s=A,g=o,{renderer:d,scene:y}=i();(new c)[s(487)]=u;const v=new p;v.source=s(467),v[s(487)]=u;const I=new l;I[s(472)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",I[s(483)]=!1,I[s(480)]=!0;const _=new m(v,I);if(_.showBoundingBox=!1,_[s(436)]=!1,_[s(442)]=!1,_[s(464)]=!1,_[s(458)]={opposite:g[s(488)],monochrome:g[s(446)]?{r:.299,g:.587,b:.114}:null,genBright:g[s(431)],genContrast:g.genContrast,genSaturation:g[s(502)]},g.monochrome){let n=new(t[s(429)])(g[s(481)]);_.filter&&(_[s(458)][s(481)]={r:n.r,g:n.g,b:n.b})}const C=new f;C[s(504)]=_,C[s(459)]=g[s(459)],C[s(474)]=g.maxZoom;const M=new n(60,window[s(452)]/window[s(499)],1,1e8);M.up=new(t[s(501)])(0,1,0),M[s(465)][s(478)](g[s(475)][0],g.mapCenter[2],-g[s(475)][1]),M[s(476)](new(t[s(501)])(M[s(465)].x,0,M[s(465)].z-2e3)),C.camera=M;let z=null;h((()=>{const t=s;d[t(450)]&&!z&&(z=new e(M,d[t(450)].domElement),z.enableDamping=!0,z[t(437)]=.05,z[t(440)]=600,z[t(486)].set(M[t(465)].x,M[t(465)].y,M[t(465)].z),z[t(470)].set(M[t(465)].x,0,M.position.z-2e3))})),j((()=>[g[s(488)],g[s(446)],g.monochrome]),(([n,e,o])=>{const r=s;if(_[r(458)]){let s=new(t[r(429)])(o);_[r(458)][r(488)]=n,_[r(458)][r(481)]=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[g[s(431)],g.genContrast,g[s(502)]]),(([t,n,e])=>{const o=s;_[o(458)]&&(_.filter[o(431)]=t,_[o(458)][o(439)]=n,_[o(458)][o(502)]=e)}));const{onLoop:B}=a();return B((()=>{var t;const n=s;if(d[n(450)]){null==(t=g.tweenInstance)||t[n(495)](),z&&z[n(495)](),C[n(495)]();const e=50*Math.abs(M.position.y);M[n(433)]=e+5e3,M[n(443)](),d[n(450)][n(463)](y[n(450)],M)}})),r({camera:M,map:C,orbitControl:z}),(t,n)=>{const e=s;return b(),w(e(466),{object:x(C),rotation:[-Math.PI/2,0,0]},null,8,F)}}});function N(t){function n(t){const e=Z;if(typeof t===e(491))return function(t){}[e(477)](e(484))[e(489)](e(479));1!==(""+t/t)[e(441)]||t%20==0?function(){return!0}[e(477)](e(444)+e(490))[e(500)](e(503)):function(){return!1}[e(477)](e(444)+"gger")[e(489)](e(445)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=V,o=W();for(;;)try{if(833579===parseInt(e(494))/1+-parseInt(e(506))/2*(-parseInt(e(502))/3)+-parseInt(e(478))/4+parseInt(e(508))/5*(parseInt(e(466))/6)+parseInt(e(475))/7+parseInt(e(498))/8+-parseInt(e(453))/9*(parseInt(e(469))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(480)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=V,n=new RegExp(t(484)),e=new RegExp(t(507),"i"),o=q(t(514));n[t(497)](o+t(489))&&e.test(o+t(472))?q():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(480)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=W();return(V=function(t,n){return e[t-=453]})(t,n)}function W(){const t=["genSaturation","bind","tileMapMeshRef","12yyRjRb","log","prototype","11833570lMFUIV","debu","#4688b5","input","addBinding","opposite","5176878XUJvBa","genContrast","tweenInstance","4558068gAHWHL","nss","apply","牛首山","genBright","camera","function *\\( *\\)","滤镜颜色","toString","__proto__","饱和度","chain","table","trace","stateObject","counter","1450319JHPChD","list","call","test","12629504NunVbN","manual","string","奥体中心","40251ndkBNm","constructor","value","xjk","132LOezNk","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2172710neJZUD","SRGBColorSpace","addBlade","单色滤镜","对比度","length","init","console","27euOTvr","orbitControl","return (function() ","info","gger","error","while (true) {}","Vector3","warn","change"];return(W=function(){return t})()}T(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(455)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(515)]||{},o=[t(467),t(461),t(456),t(458),"exception",t(490),t(491)];for(let r=0;r<o[t(513)];r++){const n=T[t(503)][t(468)][t(464)](T),s=o[r],i=e[s]||n;n[t(487)]=T[t(464)](T),n[t(486)]=i.toString.bind(i),e[s]=n}}))();const X=d({__name:"tileMap",setup(n){const e=V,i=g(118.779958,32.017136),a=[i[0],i[1],5e3],c=y(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(471),mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p[e(473)](u,e(474),{label:"反色"}),p[e(473)](u,e(482),{label:"高亮",min:.1,max:3,step:.1}),p.addBinding(u,e(476),{label:e(512),min:.1,max:3,step:.1}),p[e(473)](u,e(463),{label:e(488),min:.1,max:3,step:.1}),p[e(473)](u,"isMonochrome",{label:e(511)}),p[e(473)](u,"monochrome",{label:e(485)});const l={at:g(118.7425,31.9998),xjk:g(118.7842,32.0418),nss:g(118.7503,31.9082)};p[e(510)]({view:e(495),label:"飞去",options:[{text:e(501),value:"at"},{text:"新街口",value:e(505)},{text:e(481),value:e(479)}],value:"at"}).on(e(462),(t=>{const n=e,r=new o(l[t[n(504)]][0],2e3,-l[t.value][1]);u.tweenInstance=R(c[n(504)][n(483)],r,c[n(504)][n(454)],[0,-300],4e3)}));const m=v({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(499),outputColorSpace:t[e(509)],toneMapping:r});return setTimeout((()=>{const n=e,o=l.at,r=new(t[n(460)])(o[0],1600,-o[1]);u[n(477)]=R(c.value.camera,r,c[n(504)][n(454)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=I("TresCanvas");return b(),w(S,null,[_(r,B(m,{"window-size":""}),{default:C((()=>[(b(),M(z,null,{default:C((()=>[_(U,B(u,{ref_key:o(465),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),_(k,{tileMapRef:c[o(504)]},null,8,["tileMapRef"])],64)}}});function q(t){function n(t){const e=V;if(typeof t===e(500))return function(t){}[e(503)](e(459)).apply(e(493));1!==(""+t/t)[e(513)]||t%20==0?function(){return!0}.constructor(e(470)+e(457))[e(496)]("action"):function(){return!1}[e(503)](e(470)+e(457))[e(480)](e(492)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{X as default};
