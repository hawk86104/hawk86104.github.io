var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.gpQJLdF01726139596986.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang._1nP8CbO1726139596986.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.c-SWEGDV1726139596986.js";import{k as o,U as s,C as l,m as c,W as p,bc as u,h as f,_ as x,M as v,A as m,V as h,at as w}from"./three.ewwqFbMB1726139596986.js";import{p as g,U as y}from"./@tresjs.ml1V726H1726139596986.js";import{u as d}from"./index.BN5GHgZp1726139596986.js";import{F as S,C as P}from"./three-stdlib.XegO5T8a1726139596986.js";import{d as _}from"./@vue.JNsx1iN61726139596986.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.mc6Ijmec1726139596986.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.FKFkxAmE1726139596986.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.vEvF-rlt1726139596986.js";function z(){const t=["3239772VnQFob","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","function *\\( *\\)","while (true) {}","371412kNSNDv","info","apply","init",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"__proto__","1182WnmzcU","exception","10RykDRy","table","4472TwaMqX","10qUOLSw","action","error","chain","1639726WUEyVT","prototype","trace","console","13376808tvysnT","length","28506819gBghnP","warn","bind","return (function() ","stateObject","18361WyfgFG","string","test","6537MfhXRt","input","debu","call","constructor"];return(z=function(){return t})()}const b=E;!function(t,e){const n=E,i=z();for(;;)try{if(856846===-parseInt(n(206))/1+parseInt(n(236))/2*(-parseInt(n(220))/3)+parseInt(n(230))/4+parseInt(n(202))/5*(parseInt(n(225))/6)+parseInt(n(217))/7*(-parseInt(n(201))/8)+parseInt(n(210))/9+parseInt(n(199))/10*(parseInt(n(212))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(232)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function E(t,e){const n=z();return(E=function(t,e){return n[t-=198]})(t,e)}!function(){I(this,(function(){const t=E,e=new RegExp(t(228)),n=new RegExp(t(226),"i"),i=D(t(233));e.test(i+t(205))&&n[t(219)](i+t(221))?D():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(232)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();M(void 0,(function(){const t=E;let e;try{e=Function(t(215)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(209)]=e[t(209)]||{},i=["log",t(213),t(231),t(204),t(198),t(200),t(208)];for(let a=0;a<i[t(211)];a++){const e=M.constructor[t(207)][t(214)](M),r=i[a],o=n[r]||e;e[t(235)]=M[t(214)](M),e.toString=o.toString[t(214)](o),n[r]=e}}))();const A=b(234);function D(t){function e(t){const n=E;if(typeof t===n(218))return function(t){}.constructor(n(229))[n(232)]("counter");1!==(""+t/t)[n(211)]||t%20==0?function(){return!0}[n(224)](n(222)+n(227))[n(223)](n(203)):function(){return!1}[n(224)](n(222)+n(227))[n(232)](n(216)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=T;!function(t,e){const n=T,i=V();for(;;)try{if(811803===parseInt(n(174))/1*(-parseInt(n(169))/2)+-parseInt(n(175))/3*(-parseInt(n(141))/4)+-parseInt(n(173))/5*(parseInt(n(156))/6)+parseInt(n(148))/7+parseInt(n(158))/8+parseInt(n(165))/9*(-parseInt(n(178))/10)+-parseInt(n(171))/11*(-parseInt(n(159))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function T(t,e){const n=V();return(T=function(t,e){return n[t-=141]})(t,e)}!function(){U(this,(function(){const t=T,e=new RegExp(t(142)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=k(t(160));e.test(i+t(166))&&n[t(147)](i+"input")?k():i("0")}))()}();const j=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[T(161)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function V(){const t=["function *\\( *\\)","warn","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","counter","defines","test","9985395uKjGej","toString","uniforms","info","trace","log","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","exception","990uzhqKk","return (function() ","1791368TcImHT","156516cplZbo","init","apply","bind","debu","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","8345169uMYiSn","chain","length","call","2eoipcK","table","473MQByLe","constructor","13555zwAiLr","1347481pzVoyi","72141smcAQs","gger","stateObject","10iiqaqt","console","220qHhvox"];return(V=function(){return t})()}function O(t){const e=T,n=a({},t);return e(146)in t&&(n.defines=a({},t[e(146)])),e(150)in t&&(n.uniforms=s.clone(t[e(150)])),n}j(void 0,(function(){const t=T;let e;try{e=Function(t(157)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(179)]=e[t(179)]||{},i=[t(153),t(143),t(151),"error",t(155),t(170),t(152)];for(let a=0;a<i[t(167)];a++){const e=j[t(172)].prototype.bind(j),r=i[a],o=n[r]||e;e.__proto__=j[t(162)](j),e[t(149)]=o[t(149)].bind(o),n[r]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(164),fragmentShader:L(154)+A+L(144)};function k(t){function e(t){const n=T;if("string"==typeof t)return function(t){}[n(172)]("while (true) {}")[n(161)](n(145));1!==(""+t/t)[n(167)]||t%20==0?function(){return!0}[n(172)](n(163)+n(176))[n(168)]("action"):function(){return!1}[n(172)](n(163)+n(176)).apply(n(177)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const W=H;!function(t,e){const n=H,i=C();for(;;)try{if(670121===-parseInt(n(252))/1*(parseInt(n(242))/2)+-parseInt(n(207))/3+parseInt(n(238))/4*(parseInt(n(249))/5)+parseInt(n(244))/6*(parseInt(n(250))/7)+-parseInt(n(229))/8*(-parseInt(n(257))/9)+-parseInt(n(261))/10*(-parseInt(n(219))/11)+parseInt(n(200))/12*(-parseInt(n(228))/13))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){N(this,(function(){const t=H,e=new RegExp(t(237)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=q(t(262));e[t(264)](i+t(197))&&n[t(264)](i+"input")?q():i("0")}))()}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(){const t=["12cFTxYJ","call","setRenderTarget","_mipMaterials","material","setSize","while (true) {}","2007465NdvPCc","forEach","floorPowerOfTwo","isWebGLRenderTarget","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","setViewOffset","render","floor","defines","__proto__","action","info","434467IgRFjL","clear","Y_IS_EVEN","replace","image","length","return (function() ","value","_copyQuad","7849673KUFszF","8cRGZpg","_mipQuad","height","getClearAlpha","stateObject","log","constructor","table","function *\\( *\\)","9244jeAJny","error","prototype","type","2jtPMHH","fragmentShader","87294OMDywJ","setClearColor","originalMapSize","set","X_IS_EVEN","580qkxIhh","378KBckCD","autoClear","678593VJlmPN","uniforms","bind",'{}.constructor("return this")( )',"map","3092049qAaOES","getRenderTarget","tDiffuse","_swapTarget","310ZaSIqg","init","exception","test","toString","parentLevel","trace","getClearColor","setClearAlpha","texture","warn","string","magFilter","dispose","apply","width","chain","update","debu"];return(C=function(){return t})()}function H(t,e){const n=C();return(H=function(t,e){return n[t-=193]})(t,e)}F(void 0,(function(){const t=H;let e;try{e=Function(t(225)+t(255)+");")()}catch(r){e=window}const n=e.console=e.console||{},i=[t(234),t(271),t(218),t(239),t(263),t(236),t(267)];for(let a=0;a<i[t(224)];a++){const e=F[t(235)][t(240)][t(254)](F),r=i[a],o=n[r]||e;e[t(216)]=F[t(254)](F),e[t(265)]=o[t(265)].bind(o),n[r]=e}}))();const Z=new l;class Q{constructor(t){const e=H;!t&&(t=e(211));const n=O(R);n[e(243)]=n.fragmentShader[e(222)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(O(n)),i[0].defines[e(248)]=0,i[0].defines[e(221)]=0,i[1]=new c(O(n)),i[1][e(215)][e(248)]=1,i[1][e(215)].Y_IS_EVEN=0,i[2]=new c(O(n)),i[2][e(215)][e(248)]=0,i[2].defines[e(221)]=1,i[3]=new c(O(n)),i[3][e(215)][e(248)]=1,i[3][e(215)].Y_IS_EVEN=1;const r=new p;r[e(270)].minFilter=u,r.texture[e(193)]=u,this[e(260)]=r,this[e(227)]=new S(new c(P)),this[e(230)]=new S(null),this._mipMaterials=i}[W(198)](t,e,n,i=!1){const r=W;t[r(210)]&&(t=t[r(270)]);const o=n[r(251)],s=n[r(232)](),l=n[r(258)]();n[r(268)](Z);const c=this._copyQuad,p=this._mipQuad,u=this[r(260)],x=this[r(203)];let v,m;i?(v=f[r(209)](t[r(223)][r(196)]),m=f[r(209)](t[r(223)][r(231)])):(v=Math.floor(t.image[r(196)]),m=Math[r(214)](t[r(223)].height));const h=Math[r(214)](1.5*v),w=Math[r(214)](m);e[r(205)](h,w),u[r(270)].type!==e.texture[r(241)]?(u[r(194)](),u.copy(e),u[r(270)][r(223)]=a({},u[r(270)][r(223)])):u.setSize(h,w),n[r(251)]=!1,n[r(245)](0),n[r(269)](),c.material.uniforms[r(259)][r(226)]=t,c.camera[r(212)](v,m,0,0,h,w),n[r(202)](e),n[r(220)](),c.render(n),n[r(202)](u),n.clear(),c[r(213)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t[r(253)].map[r(226)]=u.texture,t.uniforms[r(266)][r(226)]=d,t[r(253)].parentMapSize.value[r(247)](g,y),t[r(253)][r(246)][r(226)][r(247)](v,m),p[r(204)]=t,g=Math[r(214)](g/2),y=Math.floor(y/2);const i=w-2*y;n[r(202)](e),p.camera[r(212)](g,y,-v,-i,h,w),p[r(213)](n),n[r(202)](u),t[r(253)][r(256)][r(226)]=e[r(270)],p[r(213)](n),d++}return n.setRenderTarget(l),n[r(269)](s),n[r(245)](Z),n[r(251)]=o,d+1}[W(194)](){const t=W;this[t(260)][t(194)](),this[t(230)][t(194)](),this[t(227)][t(194)](),this[t(203)][t(208)]((e=>e[t(194)]()))}}function q(t){function e(t){const n=H;if(typeof t===n(272))return function(t){}[n(235)](n(206))[n(195)]("counter");1!==(""+t/t)[n(224)]||t%20==0?function(){return!0}[n(235)](n(199)+"gger")[n(201)](n(217)):function(){return!1}[n(235)](n(199)+"gger")[n(195)](n(233)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=X;!function(t,e){const n=X,i=J();for(;;)try{if(335829===-parseInt(n(398))/1*(-parseInt(n(456))/2)+parseInt(n(393))/3*(-parseInt(n(450))/4)+parseInt(n(378))/5*(parseInt(n(415))/6)+parseInt(n(386))/7*(-parseInt(n(436))/8)+-parseInt(n(395))/9*(-parseInt(n(377))/10)+parseInt(n(405))/11*(parseInt(n(419))/12)+-parseInt(n(449))/13*(parseInt(n(403))/14))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(414)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){B(this,(function(){const t=X,e=new RegExp(t(439)),n=new RegExp(t(437),"i"),i=K(t(387));e[t(385)](i+t(381))&&n.test(i+t(409))?K():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(414)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function X(t,e){const n=J();return(X=function(t,e){return n[t-=372]})(t,e)}G(void 0,(function(){const t=X;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(420)]=e[t(420)]||{},i=[t(402),t(383),t(434),t(392),t(454),t(411),t(373)];for(let a=0;a<i[t(426)];a++){const e=G[t(433)][t(429)].bind(G),r=i[a],o=n[r]||e;e[t(376)]=G[t(424)](G),e.toString=o.toString.bind(o),n[r]=e}}))();const $=_({__name:Y(382),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(417)]),a=new v,o=new(x[n(384)]),s=new Q,l=d({width:i[n(431)],height:i[n(431)],settings:{type:x[n(374)]}}),c=d({width:i[n(431)],height:i[n(431)],settings:{type:m}}),{camera:p,renderer:u,scene:f}=g(),{onBeforeLoop:S}=y();return S((()=>{const t=n;(()=>{const t=n;if(!p.value)return;r[t(446)](new h(0,1,0),0),r[t(390)](i[t(440)][t(380)]),o[t(404)](p[t(452)]);const e=new(x[t(422)])(0,0,1)[t(448)]()[t(438)](),s=p[t(452)].getWorldPosition(new(x[t(422)]));e[t(406)](r[t(453)]);const c=new(x[t(422)]);r[t(397)](s,c);const m=c.clone();m[t(388)](s),m[t(455)](c),o[t(421)][t(404)](m);const g=new h(0,0,-1);g[t(410)](p[t(452)][t(443)](new(x[t(394)]))),g[t(455)](s);const y=new(x[t(422)]);i[t(440)].getWorldPosition(y),y.sub(g),y[t(406)](r[t(453)]).negate(),y[t(455)](i[t(440)][t(400)](new(x[t(422)]))),o.up.set(0,1,0),o[t(410)](p[t(452)][t(443)](new(x[t(394)]))),o.up[t(406)](r[t(453)]),o[t(432)](y),o[t(413)]();const d=new v;d[t(446)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(o[t(445)]),d.multiply(o.matrixWorldInverse),a[t(404)](d),r[t(390)](o[t(441)]);const S=new w(r.normal.x,r[t(453)].y,r[t(453)].z,r.constant),P=o[t(445)],_=new(x[t(391)]);_.x=(Math[t(418)](S.x)+P[t(396)][8])/P[t(396)][0],_.y=(Math[t(418)](S.y)+P[t(396)][9])/P[t(396)][5],_.z=-1,_.w=(1+P[t(396)][10])/P[t(396)][14],S[t(401)](2/S[t(412)](_)),P[t(396)][2]=S.x,P[t(396)][6]=S.y,P[t(396)][10]=S.z+1,P.elements[14]=S.w;const z=u[t(452)][t(427)]();u.value[t(451)](l[t(452)]),u[t(452)][t(375)][t(444)].depth[t(379)](!0),!1===u[t(452)][t(407)]&&u.value.clear(),i[t(399)][t(389)]((e=>e[t(435)]=!1)),u[t(452)][t(423)](f.value,o),i.ignoreObjects[t(389)]((e=>e[t(435)]=!0)),u[t(452)].setRenderTarget(z)})(),l[t(452)]&&c[t(452)]&&u.value&&s.update(l[t(452)][t(416)],c[t(452)],u[t(452)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(){const t=["chain","reflectorMipMap","warn","PerspectiveCamera","test","672mXsZTv","init","sub","forEach","applyMatrix4","Vector4","error","18219VlaPPv","Quaternion","18ryWsWE","elements","projectPoint","91zJUqrw","ignoreObjects","getWorldPosition","multiplyScalar","log","402528IQKDJH","copy","7183UMTWeG","reflect","autoClear","gger","input","applyQuaternion","table","dot","updateMatrixWorld","apply","489666iskPbu","texture","Plane","sign","36QUbBsr","console","position","Vector3","render","bind","counter","length","getRenderTarget","call","prototype","while (true) {}","resolution","lookAt","constructor","info","visible","1360iipeEE","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","negate","function *\\( *\\)","parent","matrixWorldInverse","debu","getWorldQuaternion","buffers","projectionMatrix","set","string","clone","78BuFLzL","332RfqkmZ","setRenderTarget","value","normal","exception","add","12112wiNaoB","stateObject","trace","UnsignedByteType","state","__proto__","1970270mpnBQD","5usQBCK","setMask","matrixWorld"];return(J=function(){return t})()}function K(t){function e(t){const n=X;if(typeof t===n(447))return function(t){}[n(433)](n(430))[n(414)](n(425));1!==(""+t/t).length||t%20==0?function(){return!0}[n(433)]("debu"+n(408))[n(428)]("action"):function(){return!1}.constructor(n(442)+n(408))[n(414)](n(372)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function tt(){var t=["chain","trace","init","warn","12284041RiFOYw","99300Tcjaee","11483696vKwLzj","gger","while (true) {}","table","toString","test","prototype","bind","call","console","counter","string","input","length","25490268Zraegg","1418326vlUqJE","__proto__",'{}.constructor("return this")( )',"78BoWfbt","constructor","error","apply","stateObject","33134ChNJPT","debu","exception","310hAYxVe","5102616DGXzjb"];return(tt=function(){return t})()}!function(t,e){for(var n=it,i=tt();;)try{if(879065===parseInt(n(326))/1+-parseInt(n(334))/2*(parseInt(n(329))/3)+parseInt(n(304))/4+parseInt(n(303))/5*(-parseInt(n(310))/6)+-parseInt(n(309))/7+-parseInt(n(311))/8+parseInt(n(325))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[it(332)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){et(this,(function(){var t=it,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=rt(t(307));e.test(i+t(305))&&n[t(316)](i+t(323))?rt():i("0")}))()}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[it(332)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function it(t,e){var n=tt();return(it=function(t,e){return n[t-=303]})(t,e)}function rt(t){function e(t){var n=it;if(typeof t===n(322))return function(t){}.constructor(n(313))[n(332)](n(321));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+n(312))[n(319)]("action"):function(){return!1}[n(330)](n(335)+n(312)).apply(n(333)),e(++t)}try{if(t)return e;e(0)}catch(n){}}nt(void 0,(function(){for(var t=it,e=function(){var t,e=it;try{t=Function("return (function() "+e(328)+");")()}catch(n){t=window}return t}(),n=e[t(320)]=e[t(320)]||{},i=["log",t(308),"info",t(331),t(336),t(314),t(306)],r=0;r<i[t(324)];r++){var a=nt[t(330)][t(317)][t(318)](nt),o=i[r],s=n[o]||a;a[t(327)]=nt[t(318)](nt),a[t(315)]=s.toString.bind(s),n[o]=a}}))();export{$ as _};
