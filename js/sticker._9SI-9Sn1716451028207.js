import{a1 as h,ad as B,ak as z,a7 as D,X as A,b6 as F,o,c as E,L as l,ap as I,a9 as N,aD as L,aE as G,x as p,E as u,Y as c,a as r,ag as m,bj as O,r as V,aa as q,ab as H,G as U,ba as X,ac as Y,cb as J}from"./vendor.KwxG0fE31716451028207.js";/* empty css                                                                                 */import{_ as K}from"./randomLoading.vue_vue_type_script_setup_true_lang.tjgHplOO1716451028207.js";import"./index.vue_vue_type_script_setup_true_lang.P-2q7SO91716451028207.js";import{u as $}from"./index.b8iuAAOr1716451028207.js";import{M as j}from"./MeshTransmissionMaterial.jWUznYxs1716451028207.js";import{M as Q}from"./MeshDiscardMaterial.137pr3HN1716451028207.js";import"./starLoading.LmiQqebo1716451028207.js";import"./cssLoaders.5YXvxKAr1716451028207.js";import"./bubbleLoading.XZVSVYV91716451028207.js";import"./shaderMaterial.axxkjwz91716451028207.js";const W=["side"],Z=0,ee=0,ae=0,f=1024,se=h({__name:"stickerTransmisionMaterial",setup(g,{expose:s}){const e=B(),{extend:i,scene:t,renderer:n,camera:M}=z(),a=B();i({MeshTransmissionMaterial:j});function P(_,w){let C;return _.traverse(v=>{v.isMesh&&v.material&&v.material.uuid===w&&(C=v)}),C}const R=new Q,{onBeforeLoop:S}=N(),k=$({width:f,height:f,isLoop:!1}),d=$({width:f,height:f,isLoop:!1});D(async()=>{await A(),e.value.buffer=d.value.texture,a.value=P(t.value,e.value.uuid)});let y,T,b,x;return S(({elapsed:_})=>{e.value.time=_,e.value.buffer===d.value.texture&&a.value&&(b=n.value.toneMapping,y=t.value.background,T=e.value.envMapIntensity,x=a.value.material.side,a.value.material=R,n.value.setRenderTarget(k.value),n.value.render(t.value,M.value),a.value.material=e.value,a.value.material.thickness=Z,a.value.material.buffer=k.value.texture,a.value.material.side=F,a.value.material.envMapIntensity=ae,n.value.setRenderTarget(d.value),n.value.render(t.value,M.value),a.value.material.buffer=d.value.texture,a.value.material=e.value,a.value.material.thickness=ee,a.value.material.side=x,a.value.material.envMapIntensity=T,t.value.background=y,n.value.setRenderTarget(null),n.value.toneMapping=b)}),s({root:e,constructor:j}),(_,w)=>(o(),E("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:e,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:l(I)},null,8,W))}}),te=["geometry","rotation"],ne=h({__name:"stickerModel",async setup(g){let s,e;const{nodes:i}=([s,e]=L(()=>G("./plugins/eCommerce/model/pack.glb")),s=await s,e(),s);return(t,n)=>(o(),p(m,null,{default:u(()=>[c("TresMesh",{geometry:l(i).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[r(se)],8,te)]),_:1}))}}),re=c("TresPlaneGeometry",null,null,-1),oe=["map","side"],le=h({__name:"stickerLogo",async setup(g){let s,e;const i=([s,e]=L(()=>O(["logo.png"])),s=await s,e(),s);return(t,n)=>(o(),p(m,null,{default:u(()=>[c("TresMesh",null,[re,c("TresMeshPhysicalMaterial",{map:l(i),transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:l(I)},null,8,oe)])]),_:1}))}}),ie=c("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1),ue=c("TresAmbientLight",{intensity:2},null,-1),ye=h({__name:"sticker",setup(g){const s={clearColor:"#333333",windowSize:!0,toneMapping:X,toneMappingExposure:.8,shadows:!0};return(e,i)=>{const t=V("TresCanvas");return o(),E(U,null,[r(l(K)),r(t,q(H(s)),{default:u(()=>[ie,r(l(Y),{enableDamping:""}),ue,(o(),p(m,null,{default:u(()=>[r(ne)]),_:1})),(o(),p(m,null,{default:u(()=>[r(le)]),_:1})),(o(),p(m,null,{default:u(()=>[r(l(J),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/",background:!1},null,8,["files"])]),_:1}))]),_:1},16)],64)}}});export{ye as default};
