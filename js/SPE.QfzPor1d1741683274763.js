import{_ as t,bO as e,C as i,b as n,V as s,l as o}from"./three.3wvNjL8W1741683274763.js";const r=a;function a(t,e){const i=f();return(a=function(t,e){return i[t-=313]})(t,e)}!function(t,e){const i=a,n=f();for(;;)try{if(299539===parseInt(i(698))/1*(parseInt(i(536))/2)+-parseInt(i(394))/3*(-parseInt(i(534))/4)+-parseInt(i(643))/5+-parseInt(i(722))/6*(parseInt(i(473))/7)+-parseInt(i(677))/8+-parseInt(i(520))/9+parseInt(i(532))/10)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){h(this,(function(){const t=a,e=new RegExp(t(323)),i=new RegExp(t(455),"i"),n=p("init");e[t(527)](n+t(734))&&i[t(527)](n+t(372))?p():n("0")}))()}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();c(void 0,(function(){const t=a;let e;try{e=Function("return (function() "+t(550)+");")()}catch(s){e=window}const i=e[t(452)]=e.console||{},n=[t(606),t(439),t(537),t(325),t(488),t(604),t(669)];for(let o=0;o<n[t(569)];o++){const e=c[t(489)][t(632)][t(531)](c),s=n[o],r=i[s]||e;e[t(611)]=c[t(531)](c),e[t(507)]=r[t(507)][t(531)](r),i[s]=e}}))();const l={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===r(680)&&define.amd?define("spe",l):typeof exports!==r(417)&&typeof module!==r(417)&&(module.exports=l),l.TypedArrayHelper=function(t,e,i,n){const s=r;this.componentSize=i||1,this[s(741)]=e||1,this.TypedArrayConstructor=t||Float32Array,this.array=new t(e*this[s(756)]),this[s(587)]=n||0},l.TypedArrayHelper[r(489)]=l.TypedArrayHelper,l.TypedArrayHelper[r(632)].setSize=function(t,e){const i=r,n=this[i(627)].length;return!e&&(t*=this[i(756)]),t<n?this[i(543)](t):t>n?this.grow(t):void console[i(537)]("TypedArray is already of size:",t+".",i(397))},l[r(381)][r(632)][r(543)]=function(t){const e=r;return this[e(627)]=this[e(627)][e(384)](0,t),this[e(741)]=t,this},l.TypedArrayHelper[r(632)][r(402)]=function(t){const e=r,i=this.array,n=new(this[e(644)])(t);return n[e(380)](i),this[e(627)]=n,this[e(741)]=t,this},l[r(381)][r(632)][r(337)]=function(t,e){const i=r;t*=this.componentSize,e*=this[i(756)];const n=[],s=this.array,o=s.length;for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(624)](s[r]);return this[i(658)](0,n),this},l.TypedArrayHelper.prototype[r(658)]=function(t,e){const i=r,n=t+e[i(569)];return n>this[i(627)][i(569)]?this[i(402)](n):n<this[i(627)].length&&this[i(543)](n),this[i(627)][i(380)](e,this[i(587)]+t),this},l.TypedArrayHelper.prototype[r(490)]=function(t,e){return this[r(530)](t,e.x,e.y)},l[r(381)][r(632)][r(530)]=function(t,e,i){const n=r,s=this[n(627)],o=this[n(587)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},l[r(381)][r(632)][r(483)]=function(t,e){return this[r(477)](t,e.x,e.y,e.z)},l[r(381)].prototype.setVec3Components=function(t,e,i,n){const s=r,o=this[s(627)],a=this[s(587)]+t*this[s(756)];return o[a]=e,o[a+1]=i,o[a+2]=n,this},l[r(381)].prototype[r(421)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},l[r(381)][r(632)][r(430)]=function(t,e,i,n,s){const o=r,a=this[o(627)],h=this[o(587)]+t*this[o(756)];return a[h]=e,a[h+1]=i,a[h+2]=n,a[h+3]=s,this},l[r(381)].prototype[r(628)]=function(t,e){const i=r;return this[i(658)](this.indexOffset+t*this[i(756)],e[i(694)])},l[r(381)].prototype.setMat4=function(t,e){const i=r;return this[i(658)](this.indexOffset+t*this[i(756)],e[i(694)])},l[r(381)][r(632)][r(733)]=function(t,e){return this[r(477)](t,e.r,e.g,e.b)},l[r(381)][r(632)][r(475)]=function(t,e){const i=r;return this[i(627)][this[i(587)]+t*this.componentSize]=e,this},l[r(381)].prototype[r(697)]=function(t){return this[r(627)][this.indexOffset+t]},l.TypedArrayHelper[r(632)].getComponentValueAtIndex=function(t){const e=r;return this[e(627)].subarray(this[e(587)]+t*this[e(756)])},l[r(519)]=function(t,e,i){const n=r,s=l[n(519)][n(401)];this[n(324)]=typeof t===n(635)&&s.hasOwnProperty(t)?t:"f",this[n(756)]=s[this[n(324)]],this[n(759)]=i||Float32Array,this[n(371)]=null,this[n(494)]=null,this.dynamicBuffer=!!e,this[n(564)]=0,this[n(466)]=0},l.ShaderAttribute[r(489)]=l.ShaderAttribute,l[r(519)][r(401)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},l.ShaderAttribute[r(632)][r(552)]=function(t,e){const i=r;this.updateMin=Math[i(753)](t*this[i(756)],this[i(564)]*this[i(756)]),this.updateMax=Math[i(588)](e*this[i(756)],this[i(466)]*this.componentSize)},l.ShaderAttribute[r(632)][r(647)]=function(){const t=r,e=this[t(494)];!e[t(539)]&&(e.updateRange={});const i=e.updateRange;i[t(522)]=this[t(564)],i[t(553)]=Math[t(753)](this.updateMax-this[t(564)]+this[t(756)],this.typedArray[t(627)][t(569)]),e[t(353)]=!0},l[r(519)][r(632)].resetUpdateRange=function(){const t=r;this[t(564)]=0,this[t(466)]=0},l[r(519)][r(632)][r(688)]=function(){const e=r;this.bufferAttribute[e(691)]=this[e(625)]?t[e(429)]:t[e(774)]},l[r(519)][r(632)][r(337)]=function(t,e){const i=r;this[i(371)][i(337)](t,e),this[i(761)]()},l[r(519)][r(632)][r(761)]=function(){const e=r;this.bufferAttribute.array=this[e(371)][e(627)],this[e(494)][e(539)][e(522)]=0,this[e(494)][e(539)][e(553)]=-1,this[e(494)][e(691)]=t[e(774)],this[e(494)].needsUpdate=!0},l[r(519)].prototype._ensureTypedArray=function(t){const e=r;null!==this.typedArray&&this[e(371)][e(741)]===t*this[e(756)]||(null!==this[e(371)]&&this[e(371)][e(741)]!==t?this[e(371)][e(735)](t):null===this.typedArray&&(this[e(371)]=new(l[e(381)])(this[e(759)],t,this.componentSize)))},l[r(519)][r(632)][r(464)]=function(e){const i=r;if(this._ensureTypedArray(e),null!==this[i(494)])return this[i(494)][i(627)]=this[i(371)][i(627)],parseFloat(t[i(578)])>=81&&(this[i(494)].count=this[i(494)][i(627)][i(569)]/this[i(494)][i(440)]),void(this[i(494)].needsUpdate=!0);this[i(494)]=new(t[i(558)])(this[i(371)][i(627)],this[i(756)]),this.bufferAttribute[i(691)]=this[i(625)]?t[i(429)]:t[i(774)]},l[r(519)].prototype[r(717)]=function(){const t=r;return null===this[t(371)]?0:this.typedArray[t(627)][t(569)]},l.shaderChunks={defines:[r(388),r(546)][r(340)]("\n"),uniforms:[r(516),"uniform float runTime;",r(711),r(436),r(634)].join("\n"),attributes:[r(521),r(586),"attribute vec4 rotation;",r(708),r(623),r(743),r(462),r(663),r(541)].join("\n"),varyings:["varying vec4 vColor;",r(470),r(640),"#endif",r(510),"    varying vec4 vSpriteSheet;",r(561)][r(340)]("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {","    return max(sign(x - y), 0.0);","}",r(648),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",r(657),r(377),"}","float when_ge(float x, float y) {",r(601),"}",r(497),"  return 1.0 - when_gt(x, y);","}",r(731),r(333),"}","float or(float a, float b) {","    return min(a + b, 1.0);","}"][r(340)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",r(485),r(725),r(453),r(316),r(467),"   return c;","}"][r(340)]("\n"),unpackRotationAxis:[r(554),r(495),r(482),r(485),r(725),r(453),r(316),r(467),r(433),"   c -= vec3( 1.0 );",r(442),"}"].join("\n"),floatOverLifetime:[r(437),r(318),r(313),"    float fIndex = 0.0;",r(457),r(355),"",r(556),r(682),r(572),r(508),r(463),"",r(426),"}"].join("\n"),colorOverLifetime:[r(314),r(415),r(693),r(548),r(526),r(426),"}"][r(340)]("\n"),paramFetchingFunctions:[r(444),r(374),"}",r(652),"   return params.y;","}",r(767),r(513),"}",r(514),r(364),"}"].join("\n"),forceFetchingFunctions:[r(390),r(594),"}",r(410),r(757),"}",r(745),r(352),"}"][r(340)]("\n"),rotationFunctions:[r(584),r(566),"       axis = normalize(axis);",r(375),r(653),"       float oc = 1.0 - c;","",r(764),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",r(750),"                   0.0,                                0.0,                                0.0,                                1.0);",r(603),"",r(674),r(386),r(618),"      }","",r(476),r(619),r(771),r(649),r(593),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",r(330),r(487),r(671),"      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","   }",r(561)].join("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","",r(705),"       float x = gl_PointCoord.x - 0.5;",r(754),r(762),r(641),r(518),r(681),"","    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = vSpriteSheet.x;",r(370),r(607),r(448),r(765),r(613),r(681),"","    vec4 rotatedTexture = texture2D( tex, vUv );"][r(340)]("\n")},l[r(660)]={vertex:[l[r(639)][r(749)],l[r(639)].uniforms,l[r(639)][r(509)],l.shaderChunks.varyings,t[r(405)][r(738)],t[r(405)].logdepthbuf_pars_vertex,e.fog_pars_vertex,l.shaderChunks[r(533)],l.shaderChunks[r(728)],l[r(639)][r(447)],l[r(639)].floatOverLifetime,l[r(639)][r(670)],l[r(639)][r(344)],l.shaderChunks[r(595)],l.shaderChunks.rotationFunctions,r(737),r(484),r(459),"    highp float maxAge = getMaxAge();",r(591),r(592),r(703),r(471),"        float wiggleSin = isAlive * sin( wiggleAmount );",r(744),r(681),r(365),r(547),r(559),r(396),r(422),r(557),r(732),r(493),r(456),r(703),r(400),r(345),"        pos.z += wiggleSin;",r(681),r(343),"        pos = getRotation( pos, positionInTime );",r(681),r(714),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;",r(579),r(585),"    #else","        float perspective = 1.0;",r(681),"    float pointSizePerspective = pointSize * perspective;","    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(",r(645),r(538),"           unpackColor( color.y ),","           unpackColor( color.z ),",r(320),r(408),r(525),r(707),r(681),r(315),r(664),"    #ifdef SHOULD_ROTATE_TEXTURE",r(382),r(681),r(626),r(581),r(379),"        float loopCount = textureAnimation.w;",r(523),r(412),r(363),r(411),r(720),r(702),r(699),r(360),r(636),r(583),r(681),r(502),r(376),t[r(405)][r(746)],t[r(405)][r(576)],"}"][r(340)]("\n"),fragment:[l[r(639)][r(413)],t[r(405)][r(738)],t[r(405)].fog_pars_fragment,e[r(608)],l.shaderChunks[r(517)],l[r(639)][r(533)],r(737),"    vec3 outgoingLight = vColor.xyz;",r(334),r(328),r(342),r(681),l[r(639)][r(727)],t[r(405)][r(504)],r(638),r(321),t[r(405)][r(676)],"}"][r(340)]("\n")},l[r(712)]={types:{BOOLEAN:r(726),STRING:"string",NUMBER:"number",OBJECT:r(637)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=r;if(Array.isArray(t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(772)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=r;if(Array[n(425)](t)){for(let s=t[n(569)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=r;e=e||3,i=i||3,!1===Array[n(425)](t[n(646)])&&(t[n(646)]=[t[n(646)]]),!1===Array[n(425)](t[n(695)])&&(t._spread=[t[n(695)]]);const s=this[n(673)](t[n(646)][n(569)],e,i),o=this.clamp(t[n(695)][n(569)],e,i),a=Math[n(588)](s,o);t._value[n(569)]!==a&&(t[n(646)]=this[n(341)](t._value,a)),t[n(695)][n(569)]!==a&&(t._spread=this[n(341)](t[n(695)],a))},interpolateArray(t,e){const i=r,n=t.length,s=[typeof t[0][i(769)]===i(680)?t[0][i(769)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(679)](e),a=Math[i(763)](e),h=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],h)}return s[i(624)](typeof t[n-1][i(769)]===i(680)?t[n-1][i(769)]():t[n-1]),s},clamp:(t,e,i)=>Math[r(588)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=r;let o,a=this[s(551)];return typeof e===a[s(418)]&&typeof i===a[s(418)]?e+(i-e)*n:e instanceof t[s(373)]&&i instanceof t[s(373)]?(o=e[s(769)](),o.x=this[s(479)](e.x,i.x,n),o.y=this[s(479)](e.y,i.y,n),o):e instanceof t[s(460)]&&i instanceof t[s(460)]?(o=e.clone(),o.x=this.lerp(e.x,i.x,n),o.y=this[s(479)](e.y,i.y,n),o.z=this[s(479)](e.z,i.z,n),o):e instanceof t[s(378)]&&i instanceof t[s(378)]?(o=e[s(769)](),o.x=this[s(479)](e.x,i.x,n),o.y=this.lerp(e.y,i.y,n),o.z=this[s(479)](e.z,i.z,n),o.w=this[s(479)](e.w,i.w,n),o):e instanceof t[s(631)]&&i instanceof t[s(631)]?(o=e[s(769)](),o.r=this[s(479)](e.r,i.r,n),o.g=this[s(479)](e.g,i.g,n),o.b=this.lerp(e.b,i.b,n),o):void console[s(439)]("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=r;let n=0;return 0===e?t:(n=Math[i(327)](t)%e,0===n?t:t<0?-(Math[i(327)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[r(766)]()-.5),randomVector3(t,e,i,n,s){const o=r;let a=i.x+(Math[o(766)]()*n.x-.5*n.x),h=i.y+(Math[o(766)]()*n.y-.5*n.y),c=i.z+(Math[o(766)]()*n.z-.5*n.z);s&&(a=.5*-s.x+this[o(454)](a,s.x),h=.5*-s.y+this.roundToNearestMultiple(h,s.y),c=.5*-s.z+this.roundToNearestMultiple(c,s.z)),t.typedArray[o(477)](e,a,h,c)},randomColor(t,e,i,n){const s=r;let o=i.r+Math[s(766)]()*n.x,a=i.g+Math.random()*n.y,h=i.b+Math[s(766)]()*n.z;o=this.clamp(o,0,1),a=this[s(673)](a,0,1),h=this.clamp(h,0,1),t[s(371)][s(477)](e,o,a,h)},randomColorAsHex:function(){const e=r,i=new(t[e(631)]);return function(t,n,s,o){const r=e,a=s[r(569)],h=[];for(let e=0;e<a;++e){const t=o[e];i[r(718)](s[e]),i.r+=Math[r(766)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math[r(766)]()*t.z-.5*t.z,i.r=this[r(673)](i.r,0,1),i.g=this.clamp(i.g,0,1),i.b=this[r(673)](i.b,0,1),h[r(624)](i[r(651)]())}t[r(371)][r(430)](n,h[0],h[1],h[2],h[3])}}(),randomVector3OnLine(t,e,i,n){const s=r,o=i[s(769)]();o[s(479)](n,Math[s(766)]()),t.typedArray.setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,a,h){const c=r;let l=2*Math[c(766)]()-1,u=6.2832*Math[c(766)](),f=Math.sqrt(1-l*l),p=this[c(404)](n,s),d=0,m=0,g=0;a&&(p=Math[c(678)](p/a)*a),d=f*Math[c(443)](u)*p,m=f*Math.sin(u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(371)][c(477)](e,d,m,g)},seededRandom(t){const e=1e4*Math[r(736)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,a){const h=r;let c=6.2832*Math[h(766)](),l=Math[h(327)](this[h(404)](n,s)),u=0,f=0,p=0;a&&(l=Math[h(678)](l/a)*a),u=Math.cos(c)*l,f=Math[h(736)](c)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[h(371)][h(477)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=r,i=new(t[e(460)]);return function(t,n,s,o,r,a,h,c){const l=e;i[l(718)](a),i.x-=s,i.y-=o,i.z-=r,i[l(540)]()[l(332)](-this[l(404)](h,c)),t[l(371)][l(477)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=r,i=new(t[e(460)]);return function(t,n,s,o,r,a,h,c){const l=e;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i[l(540)]()[l(332)](-this[l(404)](h,c)),t[l(371)].setVec3Components(n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=r,s=new(t[e(460)]),o=new(t[e(460)]),a=new i,h=new n(1,1,1);return function(t,i){const n=e;return s.copy(t)[n(540)](),o.copy(i)[n(540)](),s.x+=.5*-i.x+Math[n(766)]()*i.x,s.y+=.5*-i.y+Math[n(766)]()*i.y,s.z+=.5*-i.z+Math[n(766)]()*i.z,s[n(540)]()[n(419)](h).multiplyScalar(.5),a[n(686)](s.x,s.y,s.z),a[n(651)]()}}()},l[r(567)]=function(e){const i=r,n=l[i(712)],a=n[i(551)];(e=n.ensureTypedArg(e,a[i(317)],{}))[i(612)]=n.ensureTypedArg(e[i(612)],a.OBJECT,{}),this[i(481)]=t[i(357)][i(629)](),this[i(690)]=n[i(772)](e[i(690)],a[i(418)],.016),this[i(612)]=n[i(472)](e[i(612)].value,t[i(361)],null),this[i(755)]=n.ensureInstanceOf(e[i(612)][i(403)],s,new s(1,1)),this.textureFrameCount=n[i(772)](e[i(612)][i(416)],a[i(418)],this[i(755)].x*this.textureFrames.y),this[i(672)]=n[i(772)](e[i(612)].loop,a[i(418)],1),this.textureFrames[i(588)](new s(1,1)),this.hasPerspective=n[i(772)](e[i(724)],a[i(650)],!0),this[i(751)]=n.ensureTypedArg(e[i(751)],a[i(650)],!0),this[i(449)]=n.ensureTypedArg(e[i(449)],a.NUMBER,null),this[i(389)]=n[i(772)](e[i(389)],a[i(418)],t[i(729)]),this[i(580)]=n[i(772)](e[i(580)],a[i(650)],!0),this[i(696)]=parseFloat(n[i(772)](e[i(696)],a[i(418)],0)),this.depthWrite=n[i(772)](e.depthWrite,a.BOOLEAN,!1),this.depthTest=n.ensureTypedArg(e[i(622)],a.BOOLEAN,!0),this[i(347)]=n[i(772)](e[i(347)],a[i(650)],!0),this.scale=n[i(772)](e[i(748)],a[i(418)],300),this[i(407)]=[],this[i(715)]=[],this[i(348)]=[],this[i(424)]=null,this[i(524)]=0,this[i(458)]=!1,this[i(474)]=!1,this[i(565)]=0,this.uniforms={tex:{type:"t",value:this[i(612)]},textureAnimation:{type:"v4",value:new(t[i(378)])(this.textureFrames.x,this[i(755)].y,this[i(577)],Math[i(588)](Math[i(327)](this.textureLoop),1))},fogColor:{type:"c",value:this[i(347)]?new(t[i(631)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this.defines={HAS_PERSPECTIVE:this[i(724)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:l[i(687)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(755)].x>1||this[i(755)].y>1},this[i(509)]={position:new(l[i(519)])("v3",!0),acceleration:new(l[i(519)])("v4",!0),velocity:new(l[i(519)])("v3",!0),rotation:new l.ShaderAttribute("v4",!0),rotationCenter:new(l[i(519)])("v3",!0),params:new(l[i(519)])("v4",!0),size:new l.ShaderAttribute("v4",!0),angle:new l.ShaderAttribute("v4",!0),color:new(l[i(519)])("v4",!0),opacity:new(l[i(519)])("v4",!0)},this.attributeKeys=Object.keys(this[i(509)]),this[i(659)]=this[i(358)].length,this.material=new o({uniforms:this.uniforms,vertexShader:l.shaders.vertex,fragmentShader:l.shaders[i(329)],blending:this[i(389)],transparent:this[i(580)],alphaTest:this[i(696)],depthWrite:this.depthWrite,depthTest:this[i(622)],defines:this.defines,fog:this[i(347)]}),this[i(642)]=new(t[i(346)]),this[i(391)]=new(t[i(435)])(this.geometry,this[i(432)]),null===this[i(449)]&&console[i(439)](i(356))},l[r(567)][r(489)]=l[r(567)],l[r(567)][r(632)][r(752)]=function(){const t=r;let e,i=this.emitters,n=i[t(569)]-1,s=this.defines;for(;n>=0;--n)e=i[n],!s[t(515)]&&(s[t(512)]=s[t(512)]||!!Math[t(588)](Math[t(588)][t(768)](null,e[t(392)].value),Math[t(588)][t(768)](null,e.angle[t(492)]))),s.SHOULD_ROTATE_PARTICLES=s[t(571)]||!!Math[t(588)](e[t(589)][t(392)],e[t(589)].angleSpread),s[t(468)]=s[t(468)]||!!Math[t(588)](e[t(434)][t(609)],e[t(434)].spread);this[t(432)].needsUpdate=!0},l[r(567)].prototype[r(582)]=function(){const t=r;let e,i,n=this[t(509)],s=this.geometry,o=s[t(509)];for(const r in n)n[t(335)](r)&&(e=n[r],i=o[r],i?i[t(627)]=e[t(371)].array:s[t(326)](r,e[t(494)]),e[t(494)].needsUpdate=!0);this.geometry[t(423)](0,this.particleCount)},l[r(567)][r(632)][r(461)]=function(t){const e=r;if(t instanceof l.Emitter==!1)return void console[e(325)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this[e(715)][e(322)](t[e(481)])>-1)return void console[e(325)](e(701));if(null!==t[e(545)])return void console.error(e(503));const i=this[e(509)],n=this[e(565)],s=n+t[e(565)];this[e(565)]=s,null!==this.maxParticleCount&&this[e(565)]>this[e(449)]&&console[e(439)](e(480),this[e(565)],e(409),this[e(449)]),t[e(562)](t[e(602)][e(646)]+t[e(602)][e(695)]),t[e(598)](this[e(358)]),t[e(721)](n),t[e(545)]=this,t[e(509)]=this.attributes;for(const o in i)i[e(335)](o)&&i[o][e(464)](null!==this[e(449)]?this[e(449)]:this[e(565)]);for(let o=n;o<s;++o)t[e(351)](o),t[e(387)](o,e(596)),t[e(387)](o,e(369)),t[e(560)](o,e(656)),t[e(560)](o,e(741)),t[e(427)](o),t[e(549)](o),t[e(350)](o),t[e(683)](o);return this._applyAttributesToGeometry(),this[e(407)].push(t),this[e(715)][e(624)](t.uuid),this[e(752)](t),this[e(432)].needsUpdate=!0,this[e(642)].needsUpdate=!0,this[e(458)]=!0,this},l[r(567)][r(632)][r(668)]=function(t){const e=r,i=this.emitterIDs[e(322)](t[e(481)]);if(t instanceof l[e(359)]==!1)return void console[e(325)](e(716),t);if(-1===i)return void console.error("Emitter does not exist in this group. Will not remove.");const n=t[e(367)],s=n+t[e(565)],o=this[e(509)][e(563)][e(371)];for(let r=n;r<s;++r)o[e(627)][4*r]=0,o[e(627)][4*r+1]=0;this[e(407)][e(337)](i,1),this.emitterIDs[e(337)](i,1);for(const r in this.attributes)this[e(509)][e(335)](r)&&this.attributes[r][e(337)](n,s);this[e(565)]-=t[e(565)],t._onRemove(),this[e(458)]=!0},l[r(567)][r(632)][r(689)]=function(){const t=r,e=this[t(348)],i=this._createNewWhenPoolEmpty;if(e.length)return e[t(655)]();if(i){const e=new(l[t(359)])(this._poolCreationSettings);return this.addEmitter(e),e}return null},l[r(567)].prototype.releaseIntoPool=function(t){const e=r;if(t instanceof l[e(359)]!=!1)return t[e(366)](),this[e(348)][e(723)](t),this;console[e(325)]("Argument is not instanceof SPE.Emitter:",t)},l[r(567)].prototype[r(617)]=function(){return this[r(348)]},l[r(567)][r(632)].addPool=function(t,e,i){const n=r;let s;this._poolCreationSettings=e,this[n(524)]=!!i;for(let o=0;o<t;++o)s=Array.isArray(e)?new(l[n(359)])(e[o]):new(l[n(359)])(e),this[n(461)](s),this[n(450)](s);return this},l[r(567)][r(632)][r(544)]=function(e){const i=r,n=this[i(689)](),s=this;if(null!==n)return e instanceof t[i(460)]&&(n[i(574)][i(609)].copy(e),n[i(574)][i(609)]=n.position[i(609)]),n[i(505)](),setTimeout((()=>{const t=i;n[t(542)](),s[t(450)](n)}),1e3*Math[i(588)](n[i(654)],n[i(602)][i(609)]+n[i(602)][i(492)])),this;console.log("SPE.Group pool ran out.")},l.Group[r(632)][r(685)]=function(t,e){const i=r;if(typeof t===i(719)&&t>1)for(let n=0;n<t;++n)this[i(544)](e);else this._triggerSingleEmitter(e);return this},l.Group[r(632)][r(319)]=function(t){const e=r;this[e(413)][e(385)][e(609)]+=t,this.uniforms[e(692)][e(609)]=t},l[r(567)][r(632)][r(600)]=function(){const t=r;let e=this[t(358)],i=this[t(659)]-1,n=this[t(509)];for(;i>=0;--i)n[e[i]][t(684)]()},l[r(567)][r(632)][r(451)]=function(t){const e=r;let i,n,s,o=this[e(358)],a=this[e(659)]-1,h=this[e(509)],c=t.bufferUpdateRanges;for(;a>=0;--a)i=o[a],n=c[i],s=h[i],s.setUpdateRange(n[e(753)],n[e(588)]),s[e(647)]()},l.Group[r(632)][r(491)]=function(t){const e=r;var i=this[e(407)],n=i.length,s=t||this[e(690)],o=this[e(358)],a=this.attributes;if(this._updateUniforms(s),this[e(600)](),0!==n||!1!==this[e(458)]||!1!==this[e(474)]){for(var h,c=0;c<n;++c)(h=i[c])[e(491)](s),this._updateBuffers(h);if(!0===this._attributesNeedDynamicReset){for(c=this.attributeCount-1;c>=0;--c)a[o[c]][e(688)]();this._attributesNeedDynamicReset=!1}if(!0===this[e(458)]){for(c=this.attributeCount-1;c>=0;--c)a[o[c]][e(761)]();this[e(458)]=!1,this[e(474)]=!0}}},l.Group[r(632)][r(675)]=function(){const t=r;return this[t(642)][t(675)](),this.material.dispose(),this},l[r(359)]=function(e){const s=r,o=l.utils,a=o[s(551)],h=l[s(687)];(e=o.ensureTypedArg(e,a.OBJECT,{}))[s(574)]=o[s(772)](e[s(574)],a[s(317)],{}),e[s(596)]=o[s(772)](e[s(596)],a[s(317)],{}),e[s(369)]=o[s(772)](e[s(369)],a.OBJECT,{}),e[s(499)]=o[s(772)](e.radius,a[s(317)],{}),e[s(706)]=o[s(772)](e[s(706)],a[s(317)],{}),e[s(589)]=o.ensureTypedArg(e[s(589)],a.OBJECT,{}),e[s(770)]=o[s(772)](e[s(770)],a[s(317)],{}),e.opacity=o[s(772)](e[s(656)],a.OBJECT,{}),e[s(741)]=o[s(772)](e[s(741)],a[s(317)],{}),e[s(392)]=o.ensureTypedArg(e[s(392)],a[s(317)],{}),e[s(434)]=o.ensureTypedArg(e[s(434)],a[s(317)],{}),e.maxAge=o.ensureTypedArg(e[s(602)],a[s(317)],{}),e[s(354)]&&console[s(439)]("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this.uuid=t[s(357)].generateUUID(),this[s(324)]=o[s(772)](e[s(324)],a[s(418)],l[s(349)][s(486)]),this[s(574)]={_value:o[s(472)](e[s(574)][s(609)],t[s(460)],new(t[s(460)])),_spread:o.ensureInstanceOf(e[s(574)].spread,t[s(460)],new(t[s(460)])),_spreadClamp:o.ensureInstanceOf(e[s(574)].spreadClamp,t[s(460)],new(t[s(460)])),_distribution:o[s(772)](e.position.distribution,a.NUMBER,this[s(324)]),_randomise:o.ensureTypedArg(e[s(574)].randomise,a[s(650)],!1),_radius:o[s(772)](e[s(574)].radius,a[s(418)],10),_radiusScale:o[s(472)](e[s(574)][s(630)],t[s(460)],new(t[s(460)])(1,1,1)),_distributionClamp:o[s(772)](e[s(574)][s(740)],a[s(418)],0)},this[s(596)]={_value:o[s(472)](e.velocity[s(609)],t[s(460)],new(t[s(460)])),_spread:o[s(472)](e.velocity[s(492)],t[s(460)],new n),_distribution:o[s(772)](e[s(596)][s(621)],a[s(418)],this[s(324)]),_randomise:o[s(772)](e[s(574)].randomise,a[s(650)],!1)},this[s(369)]={_value:o[s(472)](e[s(369)][s(609)],n,new(t[s(460)])),_spread:o.ensureInstanceOf(e[s(369)][s(492)],t[s(460)],new(t[s(460)])),_distribution:o[s(772)](e[s(369)][s(621)],a[s(418)],this.type),_randomise:o.ensureTypedArg(e.position[s(573)],a.BOOLEAN,!1)},this[s(706)]={_value:o[s(772)](e.drag[s(609)],a[s(418)],0),_spread:o.ensureTypedArg(e.drag.spread,a[s(418)],0),_randomise:o[s(772)](e[s(574)].randomise,a.BOOLEAN,!1)},this[s(434)]={_value:o[s(772)](e[s(434)][s(609)],a[s(418)],0),_spread:o[s(772)](e[s(434)][s(492)],a[s(418)],0)},this.rotation={_axis:o[s(472)](e[s(589)].axis,n,new(t[s(460)])(0,1,0)),_axisSpread:o[s(472)](e[s(589)][s(469)],t[s(460)],new(t[s(460)])),_angle:o[s(772)](e[s(589)][s(392)],a[s(418)],0),_angleSpread:o[s(772)](e.rotation[s(590)],a[s(418)],0),_static:o[s(772)](e.rotation[s(338)],a.BOOLEAN,!1),_center:o[s(472)](e[s(589)][s(666)],t[s(460)],this[s(574)]._value[s(769)]()),_randomise:o[s(772)](e[s(574)][s(573)],a.BOOLEAN,!1)},this.maxAge={_value:o[s(772)](e[s(602)][s(609)],a[s(418)],2),_spread:o[s(772)](e.maxAge[s(492)],a[s(418)],0)},this[s(770)]={_value:o[s(710)](e[s(770)][s(609)],t[s(631)],new i),_spread:o[s(710)](e[s(770)][s(492)],t[s(460)],new(t[s(460)])),_randomise:o[s(772)](e[s(574)][s(573)],a.BOOLEAN,!1)},this.opacity={_value:o[s(570)](e.opacity[s(609)],a.NUMBER,1),_spread:o[s(570)](e[s(656)].spread,a[s(418)],0),_randomise:o[s(772)](e.position[s(573)],a.BOOLEAN,!1)},this[s(741)]={_value:o[s(570)](e[s(741)][s(609)],a.NUMBER,1),_spread:o.ensureArrayTypedArg(e[s(741)][s(492)],a.NUMBER,0),_randomise:o[s(772)](e.position.randomise,a[s(650)],!1)},this[s(392)]={_value:o[s(570)](e[s(392)].value,a.NUMBER,0),_spread:o.ensureArrayTypedArg(e[s(392)].spread,a[s(418)],0),_randomise:o[s(772)](e[s(574)].randomise,a[s(650)],!1)},this[s(565)]=o[s(772)](e[s(565)],a[s(418)],100),this[s(654)]=o[s(772)](e[s(654)],a.NUMBER,null),this[s(428)]=o.ensureTypedArg(e[s(428)],a[s(650)],!1),this[s(665)]=o[s(772)](e.activeMultiplier,a[s(418)],1),this[s(438)]=o[s(772)](e[s(438)],a[s(418)],1),this[s(713)]=o[s(772)](e[s(713)],a[s(650)],!0),this.particlesPerSecond=0,this[s(758)]=0,this[s(367)]=0,this[s(747)]=0,this[s(511)]=0,this[s(496)]=0,this.group=null,this[s(509)]=null,this[s(506)]=null,this.resetFlags={position:o[s(772)](e[s(574)][s(573)],a[s(650)],!1)||o[s(772)](e[s(499)][s(573)],a[s(650)],!1),velocity:o[s(772)](e.velocity[s(573)],a[s(650)],!1),acceleration:o[s(772)](e[s(369)][s(573)],a[s(650)],!1)||o[s(772)](e.drag[s(573)],a[s(650)],!1),rotation:o[s(772)](e[s(589)][s(573)],a.BOOLEAN,!1),rotationCenter:o[s(772)](e[s(589)][s(573)],a[s(650)],!1),size:o[s(772)](e[s(741)][s(573)],a[s(650)],!1),color:o[s(772)](e[s(770)][s(573)],a.BOOLEAN,!1),opacity:o[s(772)](e[s(656)][s(573)],a[s(650)],!1),angle:o[s(772)](e[s(392)][s(573)],a[s(650)],!1)},this.updateFlags={},this.updateCounts={},this[s(420)]={maxAge:s(563),position:s(574),velocity:s(596),acceleration:s(369),drag:s(369),wiggle:"params",rotation:s(589),size:s(741),color:s(770),opacity:"opacity",angle:s(392)};for(const t in this[s(420)])this[s(420)][s(335)](t)&&(this[s(431)][this[s(420)][t]]=0,this[s(742)][this[s(420)][t]]=!1,this[s(446)](this[t],t));this[s(498)]={},this[s(358)]=null,this[s(659)]=0,o[s(501)](this[s(770)],h,h),o[s(501)](this[s(656)],h,h),o[s(501)](this.size,h,h),o.ensureValueOverLifetimeCompliance(this[s(392)],h,h)},l[r(359)][r(489)]=l[r(359)],l[r(359)][r(632)][r(446)]=function(t,e){const i=r,n=this;for(const s in t)if(t[i(335)](s)){const o=s.replace("_","");Object[i(395)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=a,o=n[s(420)][e],r=this[t],h=l[s(687)];t===s(575)?(n[s(742)][s(730)]=!0,n[s(431)][s(730)]=0):t===s(704)?n[s(500)][o]=i:(n[s(742)][o]=!0,n.updateCounts[o]=0),n[s(545)][s(752)](),this[t]=i,Array[s(425)](r)&&l[s(712)][s(501)](n[e],h,h)}}(s)})}},l.Emitter[r(632)][r(598)]=function(t){const e=r;this[e(358)]=t,this[e(659)]=t.length;for(let i=this[e(659)]-1;i>=0;--i)this[e(498)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(399)]}},l[r(359)].prototype[r(562)]=function(t){const e=r,i=this[e(565)];this.duration?this.particlesPerSecond=i/(t<this[e(654)]?t:this[e(654)]):this[e(331)]=i/t},l[r(359)][r(632)][r(721)]=function(t){const e=r;this[e(367)]=t,this[e(758)]=t,this[e(610)]=t+this[e(565)]},l[r(359)].prototype[r(605)]=function(t,e){const i=r;switch(t){case i(574):this._assignPositionValue(e);break;case i(596):case i(369):this[i(387)](e,t);break;case"size":case i(656):this[i(560)](e,t);break;case"angle":this[i(427)](e);break;case"params":this[i(350)](e);break;case i(589):this[i(549)](e);break;case i(770):this[i(683)](e)}},l[r(359)].prototype[r(351)]=function(t){const e=r,i=l.distributions,n=l[e(712)],s=this.position,o=this.attributes[e(574)],a=s[e(646)],h=s[e(695)];switch(s[e(529)]){case i[e(486)]:n.randomVector3(o,t,a,h,s._spreadClamp);break;case i[e(773)]:n[e(760)](o,t,a,s[e(739)],s[e(695)].x,s[e(336)],s[e(383)].x,s[e(368)]||this[e(565)]);break;case i[e(614)]:n[e(616)](o,t,a,s._radius,s[e(695)].x,s[e(336)],s[e(383)].x);break;case i[e(406)]:n[e(393)](o,t,a,h)}},l[r(359)].prototype[r(387)]=function(t,e){const i=r;let n,s,o,a,h,c=l[i(349)],u=l[i(712)],f=this[e],p=f[i(646)],d=f[i(695)];switch(f._distribution){case c.BOX:u[i(465)](this[i(509)][e],t,p,d);break;case c[i(773)]:n=this[i(509)][i(574)].typedArray[i(627)],h=3*t,s=n[h],o=n[h+1],a=n[h+2],u[i(414)](this[i(509)][e],t,s,o,a,this[i(574)][i(646)],f[i(646)].x,f[i(695)].x);break;case c[i(614)]:n=this[i(509)][i(574)].typedArray[i(627)],h=3*t,s=n[h],o=n[h+1],a=n[h+2],u[i(535)](this[i(509)][e],t,s,o,a,this[i(574)][i(646)],f[i(646)].x,f[i(695)].x);break;case c[i(406)]:u[i(393)](this[i(509)][e],t,p,d)}if(e===i(369)){const e=u[i(673)](u.randomFloat(this[i(706)][i(646)],this[i(706)]._spread),0,1);this[i(509)][i(369)][i(371)].array[4*t+3]=e}},l[r(359)][r(632)]._assignAbsLifetimeValue=function(t,e){const i=r;let n,s=this[i(509)][e].typedArray,o=this[e],a=l.utils;a.arrayValuesAreEqual(o[i(646)])&&a[i(700)](o[i(695)])?(n=Math[i(327)](a.randomFloat(o[i(646)][0],o[i(695)][0])),s[i(430)](t,n,n,n,n)):s[i(430)](t,Math[i(327)](a.randomFloat(o[i(646)][0],o[i(695)][0])),Math[i(327)](a[i(404)](o[i(646)][1],o[i(695)][1])),Math[i(327)](a[i(404)](o[i(646)][2],o[i(695)][2])),Math[i(327)](a.randomFloat(o[i(646)][3],o[i(695)][3])))},l[r(359)][r(632)][r(427)]=function(t){const e=r;let i,n=this.attributes[e(392)].typedArray,s=this[e(392)],o=l[e(712)];o.arrayValuesAreEqual(s[e(646)])&&o.arrayValuesAreEqual(s[e(695)])?(i=o[e(404)](s[e(646)][0],s[e(695)][0]),n[e(430)](t,i,i,i,i)):n[e(430)](t,o[e(404)](s[e(646)][0],s._spread[0]),o[e(404)](s._value[1],s._spread[1]),o[e(404)](s[e(646)][2],s[e(695)][2]),o.randomFloat(s[e(646)][3],s._spread[3]))},l[r(359)].prototype[r(350)]=function(t){const e=r;this[e(509)].params[e(371)][e(430)](t,this[e(428)]?1:0,0,Math[e(327)](l[e(712)].randomFloat(this[e(602)][e(646)],this[e(602)][e(695)])),l.utils[e(404)](this[e(434)]._value,this.wiggle[e(695)]))},l[r(359)][r(632)][r(549)]=function(t){const e=r;this[e(509)][e(589)][e(371)][e(477)](t,l[e(712)][e(667)](this[e(589)][e(709)],this[e(589)]._axisSpread),l.utils[e(404)](this[e(589)][e(478)],this[e(589)][e(597)]),this[e(589)]._static?0:1),this[e(509)][e(730)][e(371)][e(483)](t,this[e(589)][e(555)])},l.Emitter[r(632)]._assignColorValue=function(t){const e=r;l[e(712)][e(661)](this[e(509)][e(770)],t,this[e(770)][e(646)],this[e(770)][e(695)])},l.Emitter.prototype._resetParticle=function(t){const e=r;let i,n,s=this[e(500)],o=this.updateFlags,a=this[e(431)],h=this[e(358)];for(let r=this[e(659)]-1;r>=0;--r)i=h[r],n=o[i],!0!==s[i]&&!0!==n||(this[e(605)](i,t),this[e(620)](i,t),!0===n&&a[i]===this[e(565)]?(o[i]=!1,a[i]=0):1==n&&++a[i])},l[r(359)][r(632)][r(620)]=function(t,e){const i=r,n=this.bufferUpdateRanges[t];n[i(753)]=Math.min(e,n[i(753)]),n[i(588)]=Math[i(588)](e,n[i(588)])},l[r(359)][r(632)]._resetBufferRanges=function(){const t=r;let e,i=this.bufferUpdateRanges,n=this.bufferUpdateKeys,s=this[t(615)]-1;for(;s>=0;--s)e=n[s],i[e][t(753)]=Number.POSITIVE_INFINITY,i[e].max=Number[t(399)]},l[r(359)][r(632)][r(339)]=function(){const t=r;this[t(331)]=0,this[t(367)]=0,this[t(758)]=0,this[t(496)]=0,this[t(545)]=null,this[t(509)]=null,this.paramsArray=null,this.age=0},l[r(359)][r(632)]._decrementParticleCount=function(){--this[r(496)]},l[r(359)][r(632)][r(633)]=function(){++this[r(496)]},l[r(359)][r(632)][r(441)]=function(t,e,i,n){const s=r;for(var o,a,h,c,l=e-1;l>=t;--l)0!==(c=i[o=4*l])&&(h=i[o+1],a=i[o+2],1===this.direction?(h+=n)>=a&&(h=0,c=0,this[s(568)]()):(h-=n)<=0&&(h=a,c=0,this[s(568)]()),i[o]=c,i[o+1]=h,this._updateAttributeUpdateRange(s(563),l))},l[r(359)][r(632)][r(445)]=function(t,e,i,n){const s=r,o=this[s(438)];for(var a,h,c=t;c<e;++c)0!=i[a=4*c]&&1!==this.particleCount||(this[s(633)](),i[a]=1,this[s(599)](c),h=n*(c-t),i[a+1]=-1===o?i[a+2]-h:h,this[s(620)]("params",c))},l[r(359)].prototype[r(491)]=function(t){const e=r;if(this[e(428)])return;null===this.paramsArray&&(this[e(506)]=this[e(509)][e(563)][e(371)][e(627)]);const i=this.attributeOffset,n=i+this[e(565)],s=this[e(506)],o=this[e(331)]*this[e(665)]*t,a=this[e(758)];if(this[e(600)](),this[e(441)](i,n,s,t),!1===this[e(713)])return void(this[e(511)]=0);if(null!==this.duration&&this[e(511)]>this[e(654)])return this[e(713)]=!1,void(this[e(511)]=0);const h=1===this[e(565)]?a:0|a,c=Math[e(753)](h+o,this[e(610)]),l=c-this[e(758)]|0,u=l>0?t/l:0;this._activateParticles(h,c,s,u),this[e(758)]+=o,this[e(758)]>n&&(this.activationIndex=i),this.age+=t},l[r(359)][r(632)][r(366)]=function(t){const e=r;if(this[e(511)]=0,this[e(713)]=!1,!0===t){const t=this[e(367)],s=t+this[e(565)],o=this[e(506)],r=this[e(509)][e(563)][e(494)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(522)]=0,r[e(539)][e(553)]=-1,r[e(353)]=!0}return this},l[r(359)].prototype[r(505)]=function(){return this[r(713)]=!0,this},l[r(359)][r(632)][r(542)]=function(){return this[r(713)]=!1,this},l.Emitter[r(632)][r(398)]=function(){const t=r;return null!==this[t(545)]?this[t(545)].removeEmitter(this):console[t(325)]("Emitter does not belong to a group, cannot remove."),this};const u=l;function f(){const t=["    vec3 pos = vec3( position );","Will not resize.","remove","NEGATIVE_INFINITY","        pos.x += wiggleSin;","typeSizeMap","grow","frames","randomFloat","ShaderChunk","LINE","emitters","       );","particles, can support only","vec3 getVelocity( in float age ) {","        float row = floor( (frameNumber - column) / framesX );","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","uniforms","randomDirectionVector3OnSphere","    vec3 value = vec3( 0.0 );","frameCount","undefined","NUMBER","add","updateMap","setVec4","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","setDrawRange","_poolCreationSettings","isArray","    return value;","_assignAngleValue","isStatic","DynamicDrawUsage","setVec4Components","updateCounts","material","   c *= vec3( 2.0 );","wiggle","Points","uniform vec4 textureAnimation;","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","direction","warn","itemSize","_checkParticleAges","   return c;","cos","float getAlive() {","_activateParticles","_createGetterSetters","unpackRotationAxis","        float rowNorm = vSpriteSheet.w;","maxParticleCount","releaseIntoPool","_updateBuffers","console","   c.r = r / PACKED_COLOR_DIVISOR;","roundToNearestMultiple","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","    pos += force;","    float shouldApplyValue = 0.0;","_attributesNeedRefresh","    highp float alive = getAlive();","Vector3","addEmitter","attribute vec4 angle;","    }","_createBufferAttribute","randomVector3","updateMax","   c.b = b / PACKED_COLOR_DIVISOR;","SHOULD_WIGGLE_PARTICLES","axisSpread","#ifdef SHOULD_ROTATE_TEXTURE","        float wiggleAmount = positionInTime * getWiggle();","ensureInstanceOf","3367YYKoYQ","_attributesNeedDynamicReset","setNumber","      vec3 axis = unpackRotationAxis( rotation.x );","setVec3Components","_angle","lerp","SPE.Group: maxParticleCount exceeded. Requesting","uuid","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","setVec3","    highp float age = getAge();","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","BOX","      translated = rotationCenter - pos;","exception","constructor","setVec2","tick","spread","    force += accel * age;","bufferAttribute","   vec3 c = vec3( 0.0 );","activeParticleCount","float when_le(float x, float y) {","bufferUpdateRanges","radius","resetFlags","ensureValueOverLifetimeCompliance","    gl_PointSize = pointSizePerspective;","Emitter already belongs to another group. Will not add to requested group.","logdepthbuf_fragment","enable","paramsArray","toString","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","attributes","#ifdef SHOULD_CALCULATE_SPRITE","age","SHOULD_ROTATE_TEXTURE","   return params.z;","float getWiggle() {","SHOULD_CALCULATE_SPRITE","uniform float deltaTime;","varyings","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","ShaderAttribute","4081158AuNoNA","attribute vec4 acceleration;","offset","        float totalFrames = textureAnimation.z;","_createNewWhenPoolEmpty","    #else","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","test","stateObject","_distribution","setVec2Components","bind","15745080iAzxnS","branchAvoidanceFunctions","372952JRYawP","randomDirectionVector3OnDisc","15466eUQcUB","info","           unpackColor( color.x ),","updateRange","normalize","attribute vec4 opacity;","disable","shrink","_triggerSingleEmitter","group","#define PACKED_COLOR_DIVISOR 255.0","    vec3 accel = getAcceleration( age );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","_assignRotationValue",'{}.constructor("return this")( )',"types","setUpdateRange","count","vec3 unpackRotationAxis( in float hex ) {","_center","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","    force += vel;","BufferAttribute","    vec3 force = vec3( 0.0 );","_assignAbsLifetimeValue","#endif","_calculatePPSValue","params","updateMin","particleCount","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","Group","_decrementParticleCount","length","ensureArrayTypedArg","SHOULD_ROTATE_PARTICLES","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","randomise","position","_rotationCenter","fog_vertex","textureFrameCount","REVISION","    #ifdef HAS_PERSPECTIVE","transparent","        float framesX = textureAnimation.x;","_applyAttributesToGeometry","        vSpriteSheet.w = rowNorm;","#ifdef SHOULD_ROTATE_PARTICLES","        float perspective = scale / length( mvPosition.xyz );","attribute vec3 velocity;","indexOffset","max","rotation","angleSpread","    highp float positionInTime = (age / maxAge);","    highp float isAlive = when_gt( alive, 0.0 );","      float angle = 0.0;","   return modelViewMatrix * vec4( position, 1.0 );","forceFetchingFunctions","velocity","_angleSpread","_setBufferUpdateRanges","_resetParticle","_resetBufferRanges","  return 1.0 - when_lt(x, y);","maxAge","   }","table","_assignValue","log","        float columnNorm = vSpriteSheet.z;","logdepthbuf_pars_fragment","value","activationEnd","__proto__","texture","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","DISC","bufferUpdateCount","randomVector3OnDisc","getPool","           return pos;","      vec3 center = rotationCenter;","_updateAttributeUpdateRange","distribution","depthTest","attribute vec4 params;","push","dynamicBuffer","    #ifdef SHOULD_CALCULATE_SPRITE","array","setMat3","generateUUID","radiusScale","Color","prototype","_incrementParticleCount","uniform float scale;","string","        vSpriteSheet.z = columnNorm;","object","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","shaderChunks","    varying float vAngle;","       float s = sin( -vAngle );","geometry","779280MhVCAE","TypedArrayConstructor","           positionInTime,","_value","flagUpdate","float when_lt(float x, float y) {","      mat4 rotationMatrix;","BOOLEAN","getHex","float getAge() {","       float c = cos(angle);","duration","pop","opacity","float when_eq( float x, float y ) {","setFromArray","attributeCount","shaders","randomColorAsHex","gger","attribute vec4 color;","    vColor = vec4( c, o );","activeMultiplier","center","getPackedRotationAxis","removeEmitter","trace","colorOverLifetime","      rotationMatrix = getRotationMatrix( axis, angle );","textureLoop","clamp","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","dispose","fog_fragment","4592576svrEfI","round","floor","function","    #endif","       fIndex = float( i );","_assignColorValue","resetUpdateRange","triggerPoolEmitter","setRGB","valueOverLifetimeLength","resetDynamic","getFromPool","fixedTimeStep","usage","deltaTime","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","elements","_spread","alphaTest","getValueAtIndex","25VSHUDD","        vSpriteSheet.x = 1.0 / framesX;","arrayValuesAreEqual","Emitter already exists in this group. Will not add again.","        float rowNorm = row / framesY;","    #ifdef SHOULD_WIGGLE_PARTICLES","_randomise","    #ifdef SHOULD_ROTATE_TEXTURE","drag","       vec3 c = vec3(1.0);","attribute vec3 rotationCenter;","_axis","ensureArrayInstanceOf","uniform sampler2D tex;","utils","alive","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","emitterIDs","`emitter` argument must be instance of SPE.Emitter. Was provided with:","getLength","copy","number","        float columnNorm = column / framesX;","_setAttributeOffset","5880JmqJuz","unshift","hasPerspective","   float b = mod( hex, PACKED_COLOR_SIZE );","boolean","rotateTexture","unpackColor","AdditiveBlending","rotationCenter","float and(float a, float b) {","    force *= drag;","setColor","chain","setSize","sin","void main() {","common","_radius","distributionClamp","size","updateFlags","attribute vec4 size;","        float wiggleCos = isAlive * cos( wiggleAmount );","vec3 getAcceleration( in float age ) {","logdepthbuf_vertex","attributeEnd","scale","defines","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","colorize","_updateDefines","min","       float y = 1.0 - gl_PointCoord.y - 0.5;","textureFrames","componentSize","   return velocity * age;","activationIndex","arrayType","randomVector3OnSphere","forceUpdateAll","       float c = cos( -vAngle );","ceil","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","random","float getMaxAge() {","apply","clone","color","      vec3 translated;","ensureTypedArg","SPHERE","StaticDrawUsage","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","   c.g = g / PACKED_COLOR_DIVISOR;","OBJECT","    highp float value = 0.0;","_updateUniforms","           unpackColor( color.w )","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","indexOf","function *\\( *\\)","type","error","setAttribute","abs","    #ifdef ALPHATEST","fragment","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","particlesPerSecond","multiplyScalar","    return a * b;","    ","hasOwnProperty","_radiusScale","splice","static","_onRemove","join","interpolateArray","       if ( vColor.w < float(ALPHATEST) ) discard;","    #ifdef SHOULD_ROTATE_PARTICLES","paramFetchingFunctions","        pos.y += wiggleCos;","BufferGeometry","fog","_pool","distributions","_assignParamsValue","_assignPositionValue","   return acceleration.xyz * age;","needsUpdate","onParticleSpawn","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","MathUtils","attributeKeys","Emitter","        vSpriteSheet.y = 1.0 / framesY;","Texture","debu","        float column = floor(mod( frameNumber, framesX ));","   return params.w;","    vec3 vel = getVelocity( age );","reset","attributeOffset","_distributionClamp","acceleration","        float framesY = vSpriteSheet.y;","typedArray","input","Vector2","   return params.x;","       float s = sin(angle);","    gl_Position = projectionMatrix * mvPosition;","    return 1.0 - abs( sign( x - y ) );","Vector4","        float framesY = textureAnimation.y;","set","TypedArrayHelper","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","_spreadClamp","subarray","runTime","      if( rotation.y == 0.0 ) {","_assignForceValue","#define PACKED_COLOR_SIZE 256.0","blending","vec4 getPosition( in float age ) {","mesh","angle","randomVector3OnLine","6GPHxTB","defineProperty"];return(f=function(){return t})()}function p(t){function e(t){const i=a;if(typeof t===i(635))return function(t){}[i(489)]("while (true) {}").apply("counter");1!==(""+t/t)[i(569)]||t%20==0?function(){return!0}[i(489)]("debugger").call("action"):function(){return!1}.constructor(i(362)+i(662))[i(768)](i(528)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{u as _};
