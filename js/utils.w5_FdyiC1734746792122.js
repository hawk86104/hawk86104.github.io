import"./@fesjs.Y0rSBxCv1734746792122.js";import{_ as t}from"./jszip.shhf2-t61734746792122.js";import{F as n}from"./file-saver.TdMqs0km1734746792122.js";import{_ as e}from"./three.1FILWcBb1734746792122.js";const s=u;!function(t,n){const e=u,s=f();for(;;)try{if(867660===-parseInt(e(418))/1+parseInt(e(434))/2*(parseInt(e(466))/3)+-parseInt(e(428))/4+parseInt(e(395))/5+parseInt(e(468))/6*(parseInt(e(464))/7)+-parseInt(e(425))/8*(-parseInt(e(413))/9)+parseInt(e(399))/10)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const o=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[u(481)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){o(this,(function(){const t=u,n=new RegExp(t(451)),e=new RegExp(t(391),"i"),s=d("init");n[t(440)](s+"chain")&&e[t(440)](s+t(443))?d():s("0")}))()}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function a(t){const n=s,o=new(e[n(462)]);return new Promise(((e,s)=>{const r=n;o[r(439)](t,(t=>e(JSON[r(438)](t))),void 0,(t=>s(t)))}))}async function c(t){const n=s,o=new(e[n(462)]);return new Promise(((e,r)=>{const a=n;o[a(412)](a(480)),o[a(439)](t,(n=>{const o=a,c=new FileReader;c[o(415)]=()=>{const n=o,r=function(t){const n=s,e=t[n(484)](".")[n(398)]()[n(453)]();return{jpg:n(456),jpeg:n(456),png:n(417),gif:n(422),bmp:"image/bmp",webp:n(427)}[e]||n(452)}(t),a=c[n(446)][n(484)](",")[1];e(n(461)+r+n(442)+a)},c[o(405)]=t=>{r(t)},c.readAsDataURL(n)}),void 0,(t=>r(t)))}))}r(void 0,(function(){const t=u,n=function(){const t=u;let n;try{n=Function("return (function() "+t(424)+");")()}catch(e){n=window}return n}(),e=n[t(416)]=n[t(416)]||{},s=["log","warn",t(470),t(449),"exception",t(474),t(401)];for(let o=0;o<s[t(436)];o++){const n=r.constructor.prototype[t(410)](r),a=s[o],c=e[a]||n;n[t(447)]=r[t(410)](r),n[t(404)]=c[t(404)][t(410)](c),e[a]=n}}))(),e[s(455)][s(396)]=!0;const i=n=>{const o=s,r=new(e[o(462)]);return r[o(412)](o(480)),new Promise(((e,s)=>{r.load(n,(async n=>{e(await t.loadAsync(n))}),void 0,(t=>s(t)))}))};function u(t,n){const e=f();return(u=function(t,n){return e[t-=391]})(t,n)}const p=t=>{const n=s,e=t[n(482)](0,15),o=n(414),r=n(463),a=n(445),c=n(409),i=n(448);return o[n(475)](e)||r.startsWith(e)?n(477):"data:image/png;base64,"[n(475)](e)||a[n(475)](e)?n(393):c[n(475)](e)||"data:image/GIF;base64,"[n(475)](e)?n(407):i.startsWith(e||"data:image/WEBP;base64,".startsWith(e))?"WEBP":"Unknown"},l=e=>{const o=s,r=[];e[o(437)][o(406)]&&e[o(437)][o(406)][o(400)]((t=>{const n=o;t[n(479)]===n(433)&&(r[n(441)]({uuid:t.uuid,data:t[n(421)]}),t[n(421)]=n(411)+t[n(430)]+".json")}));const a=[];e[o(437)][o(408)]&&e[o(437)].images[o(400)]((t=>{const n=o;t.url&&(a.push({uuid:t[n(430)],url:t[n(472)]}),t[n(472)].type?t[n(472)]=n(460)+t.uuid+"."+t[n(472)][n(479)]+n(420):t[n(472)]="url:images/"+t[n(430)]+"."+p(t.url))}));const c=new t;if(r[o(436)]){const t=c.folder(o(406));r[o(400)]((n=>{const e=o;t.file(n[e(430)]+e(420),JSON[e(402)](n[e(421)]))}))}if(a[o(436)]){const t=c.folder(o(408));a[o(400)]((n=>{const e=o;n[e(472)][e(479)]?t[e(465)](n[e(430)]+"."+n[e(472)][e(479)]+e(420),JSON[e(402)](n.url)):t[e(465)](n[e(430)]+"."+p(n[e(472)]),n.url.split(e(442))[e(398)](),{base64:!0})}))}const i=JSON[o(402)](e);return c.file(o(392),i),c[o(435)]({type:o(480)}).then((t=>{const e=o;n.saveAs(t,e(429))}))};function f(){const t=["url:geometries/","setResponseType","171zIDyWh","data:image/jpeg;base64,","onloadend","console","image/png","1609748IvZxuw","counter",".json","data","image/gif","catch",'{}.constructor("return this")( )',"100952KLaUjr","while (true) {}","image/webp","2018164QIuHfC","config.zip","uuid","async","call","BufferGeometry","535438COGJHp","generateAsync","length","scene","parse","load","test","push",";base64,","input","debu","data:image/PNG;base64,","result","__proto__","data:image/webp;base64,","error","name","function *\\( *\\)","application/octet-stream","toLowerCase","loadAsync","Cache","image/jpeg","stateObject","files","url:","url:images/","data:","FileLoader","data:image/JPEG;base64,","49rAkkCY","file","3xADCmE","非标准文件：不存在 app.json","1392708LQPVol","data:image/","info","get","url","slice","table","startsWith","constructor","JPEG","then","type","blob","apply","substring","toUpperCase","split","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","app.json","PNG","readAsDataURL","2266455SWuvCi","enabled","string","pop","3963520QrQQqC","forEach","trace","stringify","message","toString","onerror","geometries","GIF","images","data:image/gif;base64,","bind"];return(f=function(){return t})()}const g=(t,n,e)=>{const o=s;t.geometries<=0&&t[o(408)]<=0&&e(n)},m=(n,e)=>{const o=s;let r=null;return t[o(454)](n).then((t=>{const n=o;t[n(458)][n(392)]?t[n(458)][n(392)].async(n(397))[n(478)]((o=>{var a,c;const i=n;r=JSON[i(438)](o);const u=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t.scene[o(406)])||n[o(400)]((t=>{const n=o;t[n(421)][n(475)](n(459))&&r[n(406)]++})),null==(e=t[o(437)][o(408)])||e.forEach((t=>{const n=o;t[n(472)][n(475)](n(459))&&r.images++})),r})(r);g(u,r,e),null==(a=r[i(437)][i(406)])||a[i(400)]((n=>{const s=i;n.data[s(475)](s(459))&&t[s(458)][n[s(421)][s(473)](4)].async(s(397))[s(478)]((t=>{const o=s;n[o(421)]=JSON.parse(t),u[o(406)]--,g(u,r,e)}))})),null==(c=r[i(437)].images)||c.forEach((n=>{const s=i;if(n[s(472)][s(475)](s(459))){const o=n.url[s(473)](4);o.endsWith(s(420))?t[s(458)][o][s(431)]("string")[s(478)]((t=>{const o=s;n[o(472)]=JSON[o(438)](t),u[o(408)]--,g(u,r,e)})):t[s(458)][o][s(431)]("base64")[s(478)]((t=>{const a=s,c=o[a(484)]("."),i=c[c[a(436)]-1][a(483)]();n[a(472)]=a(469)+i+a(442)+t,u[a(408)]--,g(u,r,e)}))}}))})):console[n(449)](n(467))}),(t=>{const e=o;console.error(n[e(450)]+": "+t[e(403)])})),r};function d(t){function n(t){const e=u;if(typeof t===e(397))return function(t){}[e(476)](e(426))[e(481)](e(419));1!==(""+t/t)[e(436)]||t%20==0?function(){return!0}[e(476)]("debugger")[e(432)]("action"):function(){return!1}.constructor(e(444)+"gger")[e(481)](e(457)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{i as a,c as b,l as e,p as g,m as i,a as l};
