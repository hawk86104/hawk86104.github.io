var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.4pBzkDPe1721721076264.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.TG1thKJx1721721076264.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.blZv8Npt1721721076264.js";import{j as o,U as s,C as l,k as c,W as p,bb as u,h as f,a6 as x,M as v,Q as m,V as w}from"./three.fnkrvySq1721721076264.js";import{p as h,$ as g}from"./@tresjs.tWkmYPO61721721076264.js";import{u as y}from"./index.9ahhXQcR1721721076264.js";import{F as d,C as S}from"./three-stdlib.Rahz23xb1721721076264.js";import{d as P}from"./@vue.Q1VpS3901721721076264.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.4vQdfXnq1721721076264.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.qTBQgPyz1721721076264.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.yJO0y2Sa1721721076264.js";!function(t,e){const n=z,i=I();for(;;)try{if(847237===-parseInt(n(419))/1*(parseInt(n(422))/2)+-parseInt(n(430))/3+parseInt(n(420))/4+parseInt(n(417))/5*(-parseInt(n(418))/6)+-parseInt(n(416))/7*(-parseInt(n(441))/8)+-parseInt(n(413))/9*(-parseInt(n(414))/10)+parseInt(n(440))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const _=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(429)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function z(t,e){const n=I();return(z=function(t,e){return n[t-=410]})(t,e)}!function(){_(this,(function(){const t=z,e=new RegExp(t(426)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=M(t(411));e[t(439)](i+t(437))&&n.test(i+"input")?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();b(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function(t(434)+t(436)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(444)]||{},i=[t(432),"warn",t(421),t(415),t(431),t(410),t(427)];for(let r=0;r<i[t(435)];r++){const e=b[t(425)][t(438)][t(442)](b),a=i[r],o=n[a]||e;e[t(424)]=b[t(442)](b),e[t(443)]=o[t(443)][t(442)](o),n[a]=e}}))();function I(){const t=["apply","159951EGSGJX","exception","log","call","return (function() ","length",'{}.constructor("return this")( )',"chain","prototype","test","24661494cAqqGc","184mKvlSB","bind","toString","console","stateObject","table","init","debu","9vwZBaT","10260550LdUYCb","error","60284kuhXME","10OdEpvs","3672090BTyXNV","3iCyVLy","967572CrUcYJ","info","1055596ThltoG","counter","__proto__","constructor","function *\\( *\\)","trace","gger"];return(I=function(){return t})()}function M(t){function e(t){const n=z;if("string"==typeof t)return function(t){}[n(425)]("while (true) {}")[n(429)](n(423));1!==(""+t/t)[n(435)]||t%20==0?function(){return!0}.constructor(n(412)+"gger")[n(433)]("action"):function(){return!1}[n(425)](n(412)+n(428)).apply(n(445)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const E=O;function A(){const t=["stateObject","counter","__proto__","error","test","length","input","530eHmiki","chain","298814swORsp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","11fgAZUt","exception","bind","warn","clone","1284610NXonTf","65GwtoLg","1sJDWib","944qEiAAM",'{}.constructor("return this")( )',"return (function() ","prototype","412828VJHeDj","3tDVOeE","8598OvvRiS","5628UcBIfI","apply","2050731pMdGko","gger","defines","table","constructor","toString","call","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","693672pSrYlK","info","init","debu","uniforms"];return(A=function(){return t})()}!function(t,e){const n=O,i=A();for(;;)try{if(133280===parseInt(n(146))/1*(-parseInt(n(135))/2)+parseInt(n(152))/3*(parseInt(n(151))/4)+parseInt(n(133))/5*(parseInt(n(153))/6)+parseInt(n(154))/7*(parseInt(n(147))/8)+-parseInt(n(156))/9+-parseInt(n(144))/10*(parseInt(n(139))/11)+-parseInt(n(164))/12*(-parseInt(n(145))/13))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){D(this,(function(){const t=O,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(136),"i"),i=V(t(166));e[t(130)](i+t(134))&&n[t(130)](i+t(132))?V():i("0")}))()}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(155)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function T(t){const e=O,n=a({},t);return"defines"in t&&(n[e(158)]=a({},t[e(158)])),e(168)in t&&(n.uniforms=s[e(143)](t[e(168)])),n}L(void 0,(function(){const t=O,e=function(){const t=O;let e;try{e=Function(t(149)+t(148)+");")()}catch(n){e=window}return e}(),n=e[t(137)]=e[t(137)]||{},i=["log",t(142),t(165),t(129),t(140),t(159),"trace"];for(let r=0;r<i[t(131)];r++){const e=L[t(160)][t(150)][t(141)](L),a=i[r],o=n[a]||e;e[t(128)]=L.bind(L),e.toString=o[t(161)][t(141)](o),n[a]=e}}))();const U={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:E(163),fragmentShader:'\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n'+E(138)};function O(t,e){const n=A();return(O=function(t,e){return n[t-=127]})(t,e)}function V(t){function e(t){const n=O;if("string"==typeof t)return function(t){}[n(160)]("while (true) {}")[n(155)](n(127));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(167)+n(157))[n(162)]("action"):function(){return!1}.constructor(n(167)+n(157))[n(155)](n(169)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const j=W;function R(){const t=["render","floor","function *\\( *\\)","bind","length","input","copy","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","1OLcFFm","dispose","getClearColor","setRenderTarget","info",'{}.constructor("return this")( )',"X_IS_EVEN","floorPowerOfTwo","_mipQuad","constructor","uniforms","setSize","10323117ALNKZG","forEach","5068008ZsUBIw","originalMapSize","return (function() ","6970047gLTlBt","setClearColor","update","counter","_mipMaterials","error","minFilter","width","4FXhVOw","replace","fragmentShader","map","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getClearAlpha","height","defines","_copyQuad","_swapTarget","while (true) {}","Y_IS_EVEN","apply","tDiffuse","parentLevel","setClearAlpha","setViewOffset","test","debu","parentMapSize","warn","image","isWebGLRenderTarget","log","texture","magFilter","gger","exception","console","value","__proto__","call","1253832XfHHVJ","autoClear","1364886ssIdfr","1112703tsEDaM","set","trace","clear","toString","getRenderTarget","action","camera","323355kivASJ"];return(R=function(){return t})()}!function(t,e){const n=W,i=R();for(;;)try{if(518346===-parseInt(n(535))/1*(parseInt(n(515))/2)+parseInt(n(518))/3+-parseInt(n(483))/4*(-parseInt(n(526))/5)+parseInt(n(517))/6+parseInt(n(475))/7+parseInt(n(549))/8+-parseInt(n(547))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(495)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=W,e=new RegExp(t(529)),n=new RegExp(t(487),"i"),i=N("init");e[t(500)](i+"chain")&&n.test(i+t(532))?N():i("0")}))()}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(495)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function W(t,e){const n=R();return(W=function(t,e){return n[t-=475]})(t,e)}C(void 0,(function(){const t=W;let e;try{e=Function(t(551)+t(540)+");")()}catch(r){e=window}const n=e[t(511)]=e.console||{},i=[t(506),t(503),t(539),t(480),t(510),"table",t(520)];for(let a=0;a<i[t(531)];a++){const e=C[t(544)].prototype[t(530)](C),r=i[a],o=n[r]||e;e[t(513)]=C[t(530)](C),e[t(522)]=o[t(522)][t(530)](o),n[r]=e}}))();const Z=new l;class H{constructor(t){const e=W;!t&&(t=e(534));const n=T(U);n[e(485)]=n[e(485)][e(484)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0][e(490)][e(541)]=0,i[0][e(490)].Y_IS_EVEN=0,i[1]=new c(T(n)),i[1][e(490)][e(541)]=1,i[1][e(490)][e(494)]=0,i[2]=new c(T(n)),i[2][e(490)][e(541)]=0,i[2][e(490)][e(494)]=1,i[3]=new c(T(n)),i[3][e(490)][e(541)]=1,i[3][e(490)][e(494)]=1;const r=new p;r[e(507)][e(481)]=u,r[e(507)][e(508)]=u,this._swapTarget=r,this[e(491)]=new d(new c(S)),this[e(543)]=new d(null),this[e(479)]=i}[j(477)](t,e,n,i=!1){const r=j;t[r(505)]&&(t=t[r(507)]);const o=n.autoClear,s=n[r(488)](),l=n[r(523)]();n[r(537)](Z);const c=this[r(491)],p=this[r(543)],u=this[r(492)],x=this[r(479)];let v,m;i?(v=f.floorPowerOfTwo(t[r(504)][r(482)]),m=f[r(542)](t.image[r(489)])):(v=Math[r(528)](t[r(504)][r(482)]),m=Math.floor(t.image[r(489)]));const w=Math.floor(1.5*v),h=Math.floor(m);e[r(546)](w,h),u.texture.type!==e[r(507)].type?(u[r(536)](),u[r(533)](e),u[r(507)][r(504)]=a({},u[r(507)][r(504)])):u[r(546)](w,h),n[r(516)]=!1,n[r(476)](0),n[r(498)](),c.material[r(545)][r(496)][r(512)]=t,c.camera[r(499)](v,m,0,0,w,h),n[r(538)](e),n[r(521)](),c[r(527)](n),n.setRenderTarget(u),n[r(521)](),c[r(527)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t[r(545)][r(486)][r(512)]=u.texture,t[r(545)][r(497)][r(512)]=d,t[r(545)][r(502)][r(512)][r(519)](g,y),t.uniforms[r(550)].value[r(519)](v,m),p.material=t,g=Math[r(528)](g/2),y=Math.floor(y/2);const i=h-2*y;n[r(538)](e),p[r(525)][r(499)](g,y,-v,-i,w,h),p[r(527)](n),n.setRenderTarget(u),t.uniforms[r(486)][r(512)]=e[r(507)],p[r(527)](n),d++}return n[r(538)](l),n[r(498)](s),n[r(476)](Z),n.autoClear=o,d+1}[j(536)](){const t=j;this[t(492)].dispose(),this[t(543)][t(536)](),this._copyQuad[t(536)](),this._mipMaterials[t(548)]((e=>e[t(536)]()))}}function N(t){function e(t){const n=W;if("string"==typeof t)return function(t){}[n(544)](n(493))[n(495)](n(478));1!==(""+t/t)[n(531)]||t%20==0?function(){return!0}.constructor(n(501)+n(509))[n(514)](n(524)):function(){return!1}[n(544)](n(501)+"gger")[n(495)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const F=$;function G(){const t=["Plane","while (true) {}","Vector4","trace","set","texture","Matrix4","warn","projectionMatrix","246288KOvZPe","stateObject","parent","add","value","5377115ztigTy","setMask","__proto__","position","projectPoint","PerspectiveCamera","prototype","Quaternion","1963616TnfEOu","console","test","render","counter","Vector3","error","return (function() ","info","clone","27309090lbcEJw","applyQuaternion","updateMatrixWorld","bind","apply","exception","multiplyScalar","getRenderTarget","copy","48oZmEmv","constructor","lookAt","visible","update","init","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getWorldQuaternion",'{}.constructor("return this")( )',"depth","toString","3473108zqWoNu","reflect","elements","1118577MUGART","function *\\( *\\)","UnsignedByteType","reflectorMipMap","setRenderTarget","chain","sign","sub","action","constant","120gZFoJy","18SwThFd","ignoreObjects","negate","normal","autoClear","16982qOWPgc","forEach","state","buffers","resolution","length","applyMatrix4","matrixWorldInverse","getWorldPosition","input"];return(G=function(){return t})()}!function(t,e){const n=$,i=G();for(;;)try{if(68e4===parseInt(n(239))/1+parseInt(n(255))/2*(parseInt(n(224))/3)+parseInt(n(236))/4+parseInt(n(279))/5+-parseInt(n(249))/6*(-parseInt(n(274))/7)+parseInt(n(287))/8*(-parseInt(n(250))/9)+-parseInt(n(215))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(219)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){X(this,(function(){const t=$,e=new RegExp(t(240)),n=new RegExp(t(231),"i"),i=B(t(229));e.test(i+t(244))&&n[t(289)](i+t(264))?B():i("0")}))()}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(219)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(t,e){const n=G();return($=function(t,e){return n[t-=214]})(t,e)}Y(void 0,(function(){const t=$;let e;try{e=Function(t(294)+t(233)+");")()}catch(r){e=window}const n=e[t(288)]=e[t(288)]||{},i=["log",t(272),t(295),t(293),t(220),"table",t(268)];for(let a=0;a<i[t(260)];a++){const e=Y[t(225)][t(285)][t(218)](Y),r=i[a],o=n[r]||e;e[t(281)]=Y[t(218)](Y),e[t(235)]=o[t(235)][t(218)](o),n[r]=e}}))();const J=P({__name:F(242),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=F,i=t,r=new(x[n(265)]),a=new v,o=new(x[n(284)]),s=new H,l=y({width:i[n(259)],height:i[n(259)],settings:{type:x[n(241)]}}),c=y({width:i[n(259)],height:i[n(259)],settings:{type:x[n(241)]}}),{camera:p,renderer:u,scene:f}=h(),{onBeforeLoop:d}=g();return d((()=>{const t=n;(()=>{const t=n;if(!p[t(278)])return;r[t(269)](new(x[t(292)])(0,1,0),0),r[t(261)](i[t(276)].matrixWorld),o.copy(p[t(278)]);const e=new(x[t(292)])(0,0,1)[t(214)]().negate(),s=p[t(278)][t(263)](new(x[t(292)]));e[t(237)](r[t(253)]);const c=new(x[t(292)]);r[t(283)](s,c);const v=c[t(214)]();v[t(246)](s),v[t(277)](c),o[t(282)][t(223)](v);const h=new(x[t(292)])(0,0,-1);h[t(216)](p[t(278)].getWorldQuaternion(new m)),h[t(277)](s);const g=new w;i[t(276)][t(263)](g),g[t(246)](h),g[t(237)](r[t(253)])[t(252)](),g.add(i[t(276)][t(263)](new w)),o.up.set(0,1,0),o[t(216)](p[t(278)][t(232)](new(x[t(286)]))),o.up[t(237)](r[t(253)]),o[t(226)](g),o[t(217)]();const y=new(x[t(271)]);y[t(269)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(o[t(273)]),y.multiply(o[t(262)]),a[t(223)](y),r.applyMatrix4(o.matrixWorldInverse);const d=new(x[t(267)])(r[t(253)].x,r[t(253)].y,r[t(253)].z,r[t(248)]),S=o.projectionMatrix,P=new(x[t(267)]);P.x=(Math[t(245)](d.x)+S[t(238)][8])/S.elements[0],P.y=(Math[t(245)](d.y)+S[t(238)][9])/S.elements[5],P.z=-1,P.w=(1+S.elements[10])/S[t(238)][14],d[t(221)](2/d.dot(P)),S.elements[2]=d.x,S[t(238)][6]=d.y,S.elements[10]=d.z+1,S.elements[14]=d.w;const _=u[t(278)][t(222)]();u[t(278)][t(243)](l[t(278)]),u[t(278)][t(257)][t(258)][t(234)][t(280)](!0),!1===u.value[t(254)]&&u.value.clear(),i.ignoreObjects[t(256)]((e=>e[t(227)]=!1)),u[t(278)][t(290)](f.value,o),i[t(251)][t(256)]((t=>t.visible=!0)),u.value.setRenderTarget(_)})(),l.value&&c.value&&u[t(278)]&&s[t(228)](l[t(278)][t(270)],c[t(278)],u[t(278)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=$;if("string"==typeof t)return function(t){}[n(225)](n(266))[n(219)](n(291));1!==(""+t/t).length||t%20==0?function(){return!0}[n(225)]("debu"+n(230)).call(n(247)):function(){return!1}.constructor("debu"+n(230)).apply(n(275)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=K,i=tt();;)try{if(256365===parseInt(n(350))/1*(parseInt(n(364))/2)+parseInt(n(357))/3+-parseInt(n(369))/4+-parseInt(n(363))/5+-parseInt(n(368))/6*(parseInt(n(372))/7)+-parseInt(n(355))/8+parseInt(n(347))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var Q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(351)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Q(this,(function(){var t=K,e=new RegExp(t(346)),n=new RegExp(t(376),"i"),i=et(t(366));e[t(371)](i+t(374))&&n.test(i+t(349))?et():i("0")}))()}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[K(351)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function K(t,e){var n=tt();return(K=function(t,e){return n[t-=341]})(t,e)}function tt(){var t=["bind","constructor","toString","1140910bjghRH","917186pbwbqM","call","init","error","12DomRmy","1548988dgtJiR","length","test","1550402iDMebh","stateObject","chain","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","warn","log","prototype","gger","function *\\( *\\)","6999210DUSxcs","return (function() ","input","1hCVkbA","apply","console","__proto__","string","2137888swloUt","table","1037157xTPcfa","trace",'{}.constructor("return this")( )'];return(tt=function(){return t})()}function et(t){function e(t){var n=K;if(typeof t===n(354))return function(t){}[n(361)]("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(361)](n(341)+n(345))[n(365)](n(375)):function(){return!1}[n(361)](n(341)+n(345)).apply(n(373)),e(++t)}try{if(t)return e;e(0)}catch(n){}}q(void 0,(function(){var t,e=K;try{t=Function(e(348)+e(359)+");")()}catch(l){t=window}for(var n=t[e(352)]=t[e(352)]||{},i=[e(343),e(342),"info",e(367),"exception",e(356),e(358)],r=0;r<i[e(370)];r++){var a=q[e(361)][e(344)][e(360)](q),o=i[r],s=n[o]||a;a[e(353)]=q.bind(q),a[e(362)]=s[e(362)][e(360)](s),n[o]=a}}))();export{J as _};
