import{_ as n,a as t,B as e,aq as o,A as r,c9 as i,c7 as s,c8 as c,V as a,co as l,n as u}from"./three.qSkR4_5R1743066865732.js";import{e as f,m as p,o as d}from"./@tresjs.NxYvETXi1743066865732.js";import{d as v,o as g,H as m,N as h,u as b,F as y,w as x,j as w,z as _,e as I,g as T,aj as U,ak as S}from"./@vue.L-brCdZe1743066865732.js";import{_ as D}from"./@fesjs.ZOctjJCV1743066865732.js";import"./postprocessing.ncQBP5me1743066865732.js";import"./@vueuse.2gpu5LGS1743066865732.js";import"./vue-router.s-CF-R2-1743066865732.js";import"./lodash-es.pklfUAS51743066865732.js";import"./@qlin.o0hjOMCg1743066865732.js";import"./pinia.xxHB-xrp1743066865732.js";import"./@floating-ui.HzHndBae1743066865732.js";import"./@juggle.4EyLec-41743066865732.js";var j="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const B=N;function N(n,t){const e=z();return N=function(n,t){return e[n-=397]},N(n,t)}!function(n,t){const e=N,o=z();for(;;)try{if(709453===parseInt(e(470))/1*(-parseInt(e(418))/2)+parseInt(e(444))/3*(-parseInt(e(415))/4)+-parseInt(e(410))/5+parseInt(e(422))/6*(-parseInt(e(472))/7)+parseInt(e(468))/8+parseInt(e(449))/9+parseInt(e(469))/10*(parseInt(e(438))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(413)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(){const n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setY","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","init","instanceCount","#include <fog_fragment>","string","replace","gger","call","lucesPlane","setAttribute","material","push","8426erRInJ","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","globalBloom","error","toString","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","57uhDuZt","trace","chain","InstancedBufferAttribute","needsUpdate","9745353tNbzVD","InstancedBufferGeometry","TresMesh","rotateX",'{}.constructor("return this")( )',"SphereGeometry","while (true) {}","TresPlaneGeometry","MathUtils","Vector4","noiseTex","stateObject","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","instData","\n    ","return (function() ","console","warn","MeshLambertMaterial","10617336VirkBE","12380TvZvyC","305033WDjJGQ","info","7orefbd","#include <begin_vertex>","MeshBasicMaterial","sin","cos","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","attributes","test","constructor","randFloatSpread","bind","\n      uniform vec4 luces[","randFloat","geometry","globalUniforms","925390gPNtxi","exception","vertexShader","apply","uniforms","148384HabgtZ","luces","#include <dithering_fragment>","4JbxVXy","noise","debu","length","6893226FpcrMc","input"];return(z=function(){return n})()}!function(){E(this,(function(){const n=N,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(424),"i"),o=R(n(427));t[n(402)](o+n(446))&&e[n(402)](o+n(423))?R():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(413)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=N;let t;try{t=Function(n(464)+n(453)+");")()}catch(r){t=window}const e=t.console=t[n(465)]||{},o=["log",n(466),n(471),n(441),n(411),"table",n(445)];for(let i=0;i<o.length;i++){const t=A.constructor.prototype[n(405)](A),r=o[i],s=e[r]||t;t.__proto__=A[n(405)](A),t[n(442)]=s[n(442)][n(405)](s),e[r]=t}}))();const M=[B(408),"material"],k=[B(436)],P=[B(452)],C=100,F=v({__name:B(434),props:{globalUniforms:{}},setup(e){const o=B,r=e,i=[],s=[],c=new(n[o(454)])(1,36,18),a=(new(n[o(450)])).copy(c);a[o(428)]=C;const l=[];for(let f=0;f<C;f++){let e=n[o(457)].randFloatSpread(49),r=n[o(457)][o(404)](49),c=n[o(457)][o(407)](.0625,.125),a=n[o(457)][o(407)](1,3);l.push(e,r,c),s[o(437)](new(n[o(458)])(e,r,a,t.randFloat(1,2))),i[o(437)](new(n[o(458)])(e,r,c,a))}a[o(435)](o(462),new(n[o(447)])(new Float32Array(l),3));const u=new(n[o(397)])({color:16720418,onBeforeCompile:n=>{const t=o;n[t(414)][t(459)]=r[t(409)][t(419)],n[t(412)]=(t(426)+n[t(412)]+t(463))[t(431)](t(473),"#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ")}}),p={luces:{value:i}},d=new(n[o(467)])({color:2363940,onBeforeCompile:n=>{const t=o;n[t(414)][t(416)]=p[t(416)],n[t(414)][t(440)]=r.globalUniforms.globalBloom,n[t(414)][t(459)]=r[t(409)][t(419)],n[t(412)]=(t(439)+n.vertexShader+t(463))[t(431)](t(473),"#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      "),n.fragmentShader=(t(406)+C+t(443)+n.fragmentShader+t(463))[t(431)](t(429),t(461)+C+"; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ").replace(t(417),t(400))}}),{onLoop:v}=f();return v((({elapsed:n})=>{const t=o;for(let e=0;e<C;e++){const o=s[e];let r=(o.y+n+25)%50-25;i[e].y=r,i[e].w=(Math[t(398)](n*o.w*(e%3+1))*Math[t(399)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,a.attributes[t(462)][t(425)](e,r)}a[t(401)][t(462)][t(448)]=!0})),(n,t)=>{const e=o;return g(),m(y,null,[h(e(451),{geometry:b(a),material:b(u)},null,8,M),h("TresMesh",{material:b(d)},[h(e(456),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,P)],8,k)],64)}}});function R(n){function t(n){const e=N;if(typeof n===e(430))return function(n){}[e(403)](e(455)).apply("counter");1!==(""+n/n)[e(421)]||n%20==0?function(){return!0}.constructor(e(420)+e(432))[e(433)]("action"):function(){return!1}[e(403)](e(420)+e(432))[e(413)](e(460)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=V;function Z(){const n=["100664ljBmdW","exception","9AzMdrl","call","debu","10fyseKI","portal","3151951zADjsS",'{}.constructor("return this")( )',"1184336HRGrXG","globalUniforms","708696sNyLyx","material","TresPlaneGeometry","chain","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","info","length","266793AYQMAa","bind","counter","394177cUcwsK","790ORJhRK","console","20rsSyjG","test","table","apply","vec4 diffuseColor = vec4( diffuse, opacity );","stateObject","MeshBasicMaterial","function *\\( *\\)","globalBloom","\n    ","time","fragmentShader","prototype","217BAedbJ","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","defines","replace","init","uniforms","toString","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","error","TresMesh","gger","string","trace","log","constructor"];return(Z=function(){return n})()}!function(n,t){const e=V,o=Z();for(;;)try{if(156276===parseInt(e(534))/1*(parseInt(e(519))/2)+-parseInt(e(515))/3+-parseInt(e(497))/4*(parseInt(e(521))/5)+-parseInt(e(508))/6+-parseInt(e(518))/7+-parseInt(e(506))/8*(-parseInt(e(499))/9)+-parseInt(e(502))/10*(-parseInt(e(504))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){L(this,(function(){const n=V,t=new RegExp(n(528)),e=new RegExp(n(487),"i"),o=H(n(538));t[n(522)](o+n(511))&&e.test(o+"input")?H():o("0")}))()}();const W=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(524)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();W(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function("return (function() "+n(505)+");")()}catch(e){t=window}return t}(),e=t[n(520)]=t[n(520)]||{},o=[n(495),n(488),n(513),n(490),n(498),n(523),n(494)];for(let r=0;r<o[n(514)];r++){const t=W[n(496)][n(533)].bind(W),i=o[r],s=e[i]||t;t.__proto__=W[n(516)](W),t[n(485)]=s[n(485)][n(516)](s),e[i]=t}}))();const O=[G(509)];function V(n,t){const e=Z();return V=function(n,t){return e[n-=485]},V(n,t)}const $=v({__name:G(503),props:{globalUniforms:{}},setup(t){const e=G,o=t,r=new(n[e(527)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms.time=o[t(507)][t(531)],n[t(539)].globalBloom=o[t(507)][t(529)],n.fragmentShader=(t(512)+j+t(535)+n[t(532)]+t(530))[t(537)](t(525),t(489))[t(537)]("#include <dithering_fragment>","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ")}});return r[e(536)]={USE_UV:""},(n,t)=>{const o=e;return g(),m(o(491),{material:b(r),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(510),{args:[5,5]},null,-1)]),8,O)}}});function H(n){function t(n){const e=V;if(typeof n===e(493))return function(n){}.constructor(e(486)).apply(e(517));1!==(""+n/n)[e(514)]||n%20==0?function(){return!0}.constructor(e(501)+e(492))[e(500)]("action"):function(){return!1}.constructor(e(501)+e(492))[e(524)](e(526)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function q(n,t){const e=nn();return q=function(n,t){return e[n-=230]},q(n,t)}const J=q;!function(n,t){const e=q,o=nn();for(;;)try{if(623840===parseInt(e(269))/1+-parseInt(e(286))/2*(-parseInt(e(273))/3)+parseInt(e(244))/4+-parseInt(e(275))/5+parseInt(e(276))/6+parseInt(e(239))/7*(-parseInt(e(260))/8)+parseInt(e(268))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(252)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){X(this,(function(){const n=q,t=new RegExp(n(277)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=tn(n(238));t[n(246)](o+n(270))&&e[n(246)](o+n(232))?tn():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[q(252)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();K(void 0,(function(){const n=q;let t;try{t=Function(n(234)+n(230)+");")()}catch(r){t=window}const e=t[n(231)]=t[n(231)]||{},o=["log","warn",n(281),n(250),n(282),"table",n(279)];for(let i=0;i<o[n(285)];i++){const t=K[n(254)][n(280)][n(237)](K),r=o[i],s=e[r]||t;t[n(278)]=K[n(237)](K),t[n(243)]=s[n(243)][n(237)](s),e[r]=t}}))();const Q=[J(261),J(233)],Y=v({__name:J(274),props:{globalUniforms:{}},setup(o){const r=J,i=o,s=[],c=[];for(let e=0;e<2e4;e++){const e=t[r(262)](35),o=n[r(242)][r(247)](-5,10),i=t[r(262)](35),a=n[r(242)][r(247)](.25,.5);s[r(272)](e,o,i,e,o,i),c.push(0,a,1,a)}const a=new e;a.setAttribute("position",new(n[r(255)])(s,3)),a[r(287)](r(264),new(n[r(255)])(c,2));const l=new(n[r(267)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=r;n.uniforms[t(249)]=i.globalUniforms[t(249)],n[t(263)][t(256)]=i[t(236)][t(235)],n[t(263)][t(258)]=i[t(236)].globalBloom,n[t(248)]=(t(271)+n.vertexShader+t(253))[t(259)]("#include <begin_vertex>",t(251)),n[t(241)]=("\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      "+j+"\n      "+n[t(241)]+t(253))[t(259)]("vec4 diffuseColor = vec4( diffuse, opacity );","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ")}});return(n,t)=>{const e=r;return g(),m(e(284),{material:b(l),geometry:b(a)},null,8,Q)}}});function nn(){const n=["#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","apply","\n    ","constructor","Float32BufferAttribute","noiseTex","counter","globalBloom","replace","8WpLynN","material","randFloatSpread","uniforms","gEnds","string","action","LineBasicMaterial","5628636dskTuS","191403EcSjGi","chain","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","push","15TpqukK","drops","3395260jwUTiQ","1745322RbCWJL","function *\\( *\\)","__proto__","trace","prototype","info","exception","debu","TresLineSegments","length","51772xdVBDG","setAttribute","gger",'{}.constructor("return this")( )',"console","input","geometry","return (function() ","noise","globalUniforms","bind","init","5476919moScLP","stateObject","fragmentShader","MathUtils","toString","3392740YZNjPW","call","test","randFloat","vertexShader","time","error"];return(nn=function(){return n})()}function tn(n){function t(n){const e=q;if(typeof n===e(265))return function(n){}[e(254)]("while (true) {}")[e(252)](e(257));1!==(""+n/n)[e(285)]||n%20==0?function(){return!0}.constructor(e(283)+e(288))[e(245)](e(266)):function(){return!1}[e(254)](e(283)+e(288)).apply(e(240)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=rn,o=sn();for(;;)try{if(257997===parseInt(e(139))/1*(parseInt(e(148))/2)+-parseInt(e(122))/3+-parseInt(e(149))/4*(parseInt(e(152))/5)+-parseInt(e(183))/6+parseInt(e(136))/7+-parseInt(e(140))/8*(-parseInt(e(180))/9)+parseInt(e(163))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const en=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[rn(186)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){en(this,(function(){const n=rn,t=new RegExp(n(158)),e=new RegExp(n(170),"i"),o=an("init");t[n(174)](o+n(187))&&e[n(174)](o+n(133))?an():o("0")}))()}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function rn(n,t){const e=sn();return rn=function(n,t){return e[n-=121]},rn(n,t)}function sn(){const n=["Mesh","replace","apply","chain","info","addPass","fragmentShader","1501125udOZGR","Fog","return (function() ","WebGLRenderTarget","toString","Scene","table","trace","target","near","length","input","debu","noise","824992fPlvnN","width","setRenderTarget","580kUNMDf","2296UnSIDW","baseTexture",'{}.constructor("return this")( )',"defines","gger","renderToScreen","__proto__","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","698dkgmoG","36RrUxPM","set","render","142595WCOUht","background","action","texture","warn","color","function *\\( *\\)","\n      uniform float time;\n      ","globalBloom","call","exception","7962500gsqHUq","Color","error","vec4 diffuseColor = vec4( diffuse, opacity );","console","PlaneGeometry","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","string","value","test","constructor","time","fog","while (true) {}","log","9846czABDS","stateObject","counter","2492766EwLyqC"];return(sn=function(){return n})()}on(void 0,(function(){const n=rn;let t;try{t=Function(n(124)+n(142)+");")()}catch(r){t=window}const e=t[n(167)]=t[n(167)]||{},o=[n(179),n(156),n(188),n(165),n(162),n(128),n(129)];for(let i=0;i<o.length;i++){const t=on[n(175)].prototype[n(171)](on),r=o[i],s=e[r]||t;t[n(146)]=on.bind(on),t.toString=s[n(126)].bind(s),e[r]=t}}))();const cn=v({__name:"fboRender",setup(t){const e=rn,d={time:{value:0},globalBloom:{value:0},noise:{value:null}},v=new(n[e(125)])(512,512),h=new(n[e(127)]),b=new o,_=new(n[e(168)])(2,2),I=new r({onBeforeCompile:n=>{const t=e;n.uniforms[t(176)]=d[t(176)],n.fragmentShader=(t(159)+j+"\n      "+n[t(121)]+"\n    ")[t(185)](t(166),t(147))}});I[e(143)]={USE_UV:""};const T=new(n[e(184)])(_,I);h.add(T),d[e(135)][e(173)]=v[e(155)];const{camera:U,renderer:S,scene:D,sizes:B,controls:N}=p();x((()=>N[e(173)]),(t=>{const o=e;t?.[o(130)][o(150)](0,2,0),!D[o(173)].background&&(D[o(173)].background=new(n[o(164)])(6706534))}));const E=new i(S.value),z=new i(S[e(173)]),A=new s(D[e(173)],U[e(173)]),M=new c(new a(B[e(137)][e(173)],B[e(169)][e(173)]),1.2,.5,0);E[e(145)]=!1,E[e(189)](A),E.addPass(M);const k=new l(new u({uniforms:{baseTexture:{value:null},bloomTexture:{value:E.renderTarget2[e(155)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),e(141));k.needsSwap=!0,z[e(189)](A),z.addPass(k),D[e(173)][e(177)]=new(n[e(123)])(6706534,1,25);const{onLoop:P}=f();return P((({elapsed:n})=>{const t=e;d.time[t(173)]=n,S[t(173)]&&(S.value[t(138)](v),S.value[t(151)](h,b),S[t(173)][t(138)](null),d[t(160)][t(173)]=1.2,D[t(173)][t(177)][t(157)].set(0),D[t(173)][t(177)][t(131)]=15,D[t(173)].background?.[t(150)](0),E[t(151)](),d[t(160)][t(173)]=0,D.value[t(177)][t(157)][t(150)](6706534),D[t(173)][t(177)][t(131)]=10,D[t(173)][t(153)]?.[t(150)](6706534),z[t(151)]())})),(n,t)=>(g(),m(y,null,[w(F,{globalUniforms:d}),w($,{globalUniforms:d}),w(Y,{globalUniforms:d})],64))}});function an(n){function t(n){const e=rn;if(typeof n===e(172))return function(n){}.constructor(e(178)).apply(e(182));1!==(""+n/n)[e(132)]||n%20==0?function(){return!0}[e(175)](e(134)+"gger")[e(161)](e(154)):function(){return!1}.constructor(e(134)+e(144))[e(186)](e(181)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=D({},[["render",function(n,t){return g(),m("div",ln,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),fn=vn;!function(n,t){const e=vn,o=hn();for(;;)try{if(105643===-parseInt(e(503))/1+-parseInt(e(487))/2+parseInt(e(477))/3+-parseInt(e(466))/4+-parseInt(e(465))/5*(-parseInt(e(483))/6)+parseInt(e(495))/7+parseInt(e(473))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(464)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){pn(this,(function(){const n=vn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(491),"i"),o=mn(n(467));t[n(480)](o+n(492))&&e[n(480)](o+n(468))?mn():o("0")}))()}();const dn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(464)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function vn(n,t){const e=hn();return vn=function(n,t){return e[n-=464]},vn(n,t)}dn(void 0,(function(){const n=vn;let t;try{t=Function(n(497)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(474)]=t[n(474)]||{},o=[n(484),n(502),n(469),n(490),n(500),n(493),"trace"];for(let i=0;i<o.length;i++){const t=dn[n(485)][n(470)][n(475)](dn),r=o[i],s=e[r]||t;t[n(479)]=dn[n(475)](dn),t[n(471)]=s[n(471)][n(475)](s),e[r]=t}}))();const gn=v({__name:fn(489),setup(t){const e=fn,o={windowSize:!0,antialias:!0,renderMode:e(481)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(504)][e(494)],maxPolarAngle:90*n[e(504)][e(494)],makeDefault:!0};return(n,t)=>{const i=e,s=I(i(482));return g(),m(y,null,[w(un),w(s,U(S(o)),{default:T((()=>[t[0]||(t[0]=h(i(476),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(d),U(S(r)),null,16),t[1]||(t[1]=h("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=h(i(478),{position:[0,3,-12],intensity:1},null,-1)),w(cn)])),_:1},16)],64)}}});function mn(n){function t(n){const e=vn;if("string"==typeof n)return function(n){}.constructor(e(498))[e(464)](e(488));1!==(""+n/n)[e(472)]||n%20==0?function(){return!0}.constructor(e(499)+e(486)).call(e(501)):function(){return!1}.constructor("debugger")[e(464)](e(496)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function hn(){const n=["while (true) {}","debu","exception","action","warn","63751UsNTGE","MathUtils","apply","5EIYlQy","797436vfUMsl","init","input","info","prototype","toString","length","1658912yOEGii","console","bind","TresPerspectiveCamera","107115MWVjqp","TresDirectionalLight","__proto__","test","manual","TresCanvas","641466AtZekL","log","constructor","gger","202336OHgXer","counter","lightNoise","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","table","DEG2RAD","839587DDETWk","stateObject","return (function() "];return(hn=function(){return n})()}export{gn as default};
