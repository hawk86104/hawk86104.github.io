import{importShared as i}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{Kk as w}from"./index.DTe2qqjO1767148983502.js";import{WebGPURenderer as b}from"./three.webgpu.TnOrJG3G1767148983502.js";import{tsg as C}from"./tsg.C5HEOC8e1767148983502.js";import{Pane as P}from"./tweakpane.BQRZXf8M1767148983502.js";import{Mesh as k,BoxGeometry as B}from"./three.CjjHJWB_1767148983502.js";const{defineComponent:R}=await i("vue"),{createElementVNode:r,unref:x,normalizeProps:S,guardReactiveProps:y,createVNode:N,openBlock:s,createElementBlock:T,createCommentVNode:V,Suspense:D,withCtx:u,createBlock:m,resolveComponent:E,mergeProps:G}=await i("vue"),M=["object"],{reactive:c,watch:j,ref:l,toValue:z,shallowRef:L,onMounted:U}=await i("vue"),F=R({__name:"tsg-case-2",setup(W){const p=l(),d=t=>new b({canvas:z(t.canvas),alpha:!0,antialias:!0}),a=L(),f=l(0),v=l(10);U(async()=>{const t=await fetch("/plugins/tsl/shader/height-shadow.tsg").then(n=>n.text()),e=C(t),o=new P({title:"参数调节"});o.addBinding(f,"value",{label:"Start",min:-2,max:2,step:.1}).on("change",n=>{e.uniforms.start.value=n.value}),o.addBinding(v,"value",{label:"Length",min:0,max:100,step:.1}).on("change",n=>{e.uniforms.length.value=n.value});const h=new k(new B(10,10,10),e.material);a.value=h}),j(p,t=>{t&&console.log("redMaterial",t)});const g=c({windowSize:!0,alpha:!0,antialias:!0,clearAlpha:0,disableRender:!0}),_=c({enableDamping:!0,enableZoom:!0,enablePan:!0,enableRotate:!0,makeDefault:!0});return(t,e)=>{const o=E("TresCanvas");return s(),m(o,G({clearColor:"#201919"},g,{renderer:d}),{default:u(()=>[e[0]||(e[0]=r("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[60,60,60],"look-at":[0,0,0]},null,-1)),e[1]||(e[1]=r("TresDirectionalLight",{intensity:2,position:[10,100,-50]},null,-1)),e[2]||(e[2]=r("TresDirectionalLight",{intensity:2,position:[-10,-10,100]},null,-1)),N(x(w),S(y(_)),null,16),(s(),m(D,null,{default:u(()=>[a.value?(s(),T("primitive",{key:0,"position-y":5,object:a.value},null,8,M)):V("",!0)]),_:1})),e[3]||(e[3]=r("TresGridHelper",{args:[50,50],position:[0,0,0]},null,-1))]),_:1},16)}}});export{F as default};
