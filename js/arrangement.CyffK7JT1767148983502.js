import{importShared as r}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{_sfc_main$6 as N}from"./generalFont.vue_vue_type_script_setup_true_lang.Cx7Vff0m1767148983502.js";import"./default.vue_vue_type_script_setup_true_lang.Bjy6WD1C1767148983502.js";import"./three-mesh-ui.module.Cv5lk1vQ1767148983502.js";import"./domPanel.vue_vue_type_style_index_0_lang.DqrQKbSz1767148983502.js";import{_l as V,Kk as z}from"./index.DTe2qqjO1767148983502.js";import{_sfc_main as A,_sfc_main$1 as p,_sfc_main$3 as j,_sfc_main$4 as D,_sfc_main$2 as O}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.B7dQ_CiZ1767148983502.js";import"./index.vue_vue_type_script_setup_true_lang.CjsHShHS1767148983502.js";import{useGLTF as G}from"./index.Bk2zy1aS1767148983502.js";import{_sfc_main as L}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.z4H4Pz3b1767148983502.js";import{Pane as $}from"./tweakpane.BQRZXf8M1767148983502.js";const{defineComponent:K}=await r("vue"),{unref:m,createVNode:d,renderList:H,Fragment:W,openBlock:C,createElementBlock:q,createElementVNode:v,withCtx:M,Suspense:J,createBlock:Q}=await r("vue"),U=["rotation"],X=["rotation-x"],{ref:Y}=await r("vue"),Z=K({__name:"env",setup(x){const a=Y(null),{onBeforeRender:g}=V();g(({delta:t})=>{a.value&&(a.value.rotation.z+=t)});const _=[2,-2,2,-4,2,-5,2,-9];return(t,c)=>(C(),Q(J,null,{default:M(()=>[d(m(A),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:M(()=>[d(m(p),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),d(m(p),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),v("TresGroup",{rotation:[Math.PI/2,1,0]},[(C(),q(W,null,H(_,(w,u)=>d(m(p),{key:u,intensity:1,rotation:[Math.PI/4,0,0],position:[w,4,u*4],scale:[4,1,1]},null,8,["rotation","position"])),64))],8,U),d(m(p),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),d(m(p),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),d(m(p),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),v("TresGroup",{ref_key:"refgroup",ref:a,"rotation-x":Math.PI/2},[d(m(p),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,X)]),_:1},8,["path"])]),_:1}))}}),{withAsyncContext:ee,defineComponent:te}=await r("vue"),{unref:e,createElementVNode:i,withCtx:S,createVNode:y,normalizeProps:k,guardReactiveProps:B,openBlock:oe,createElementBlock:ne}=await r("vue"),ae={position:[0,-.5,0],rotation:[0,-.75,0]},ie=["geometry","material"],re=["geometry","material"],se=["geometry","material"],le=["geometry","material"],ce=["geometry","material"],me=["geometry","material"],de=["geometry","material"],_e=["geometry"],pe=["geometry","material"],ue=["geometry","material"],f=await r("three"),{reactive:T,toRaw:b}=await r("vue"),ge=te({__name:"models",async setup(x){let a,g;const _=new f.MeshStandardMaterial({transparent:!0,opacity:1,color:"black",roughness:0,side:f.FrontSide,blending:f.AdditiveBlending,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:t,materials:c}=([a,g]=ee(()=>G("https://opensource.cdn.icegl.cn/model/eCommerce/glass-transformed.glb")),a=await a,g(),a),w=b(c.ForkAndKnivesSet001_1K),u=new f.MeshStandardMaterial;u.copy(w),u.color=new f.Color("#999");const I={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},o=T({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),n=new $;n.hidden=!0,n.addBinding(o,"color",{label:"颜色"}),n.addBinding(o,"roughness",{label:"roughness",min:0,max:1,step:.01}),n.addBinding(o,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),n.addBinding(o,"attenuationColor",{label:"attenuationColor"}),n.addBinding(o,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),n.addBinding(o,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),n.addBinding(o,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),n.addBinding(o,"distortion",{label:"distortion",min:0,max:10,step:.01}),n.addBinding(o,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),n.addBinding(o,"backside",{label:"backside"}),n.addBinding(o,"thickness",{label:"thickness",min:0,max:4,step:.01}),n.addBinding(o,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const s=T({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),l=new $({title:"参数"});return l.hidden=!0,l.addBinding(s,"color",{label:"颜色"}),l.addBinding(s,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),l.addBinding(s,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),l.addBinding(s,"far",{label:"可视距离",min:0,max:30,step:1}),l.addBinding(s,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),l.addBinding(s,"intensity",{label:"强度",min:0,max:1,step:.01}),l.addBinding(s,"causticsOnly",{label:"只显示投射"}),l.addBinding(s,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(Ce,ve)=>(oe(),ne("TresGroup",ae,[i("TresMesh",{geometry:e(t).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:b(e(c).FruitCakeSlice_u1_v1)},null,8,ie),i("TresMesh",{geometry:e(t).straw_1.geometry,castShadow:"",material:e(c).straw_2},null,8,re),i("TresMesh",{geometry:e(t).straw_2.geometry,castShadow:"",material:e(c).straw_1},null,8,se),i("TresMesh",{geometry:e(t).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:e(c).straw_2},null,8,le),i("TresMesh",{geometry:e(t).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:e(c).straw_1},null,8,ce),y(e(j),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:S(()=>[i("TresMesh",{geometry:e(t).flowers.geometry,castShadow:"",material:e(c)["draifrawer_u1_v1.001"],scale:1.2},null,8,me)]),_:1}),i("TresMesh",{castShadow:"",geometry:b(e(t).fork.geometry),material:e(u)},null,8,de),y(e(D),k(B(s)),{default:S(()=>[i("TresMesh",{castShadow:"",receiveShadow:"",geometry:e(t).glass.geometry},[y(e(O),k(B(o)),null,16)],8,_e)]),_:1},16),i("TresMesh",{geometry:e(t).glass_back.geometry,material:e(_),scale:[.95,1,.95]},null,8,pe),i("TresMesh",{geometry:e(t).glass_inner.geometry,material:e(_)},null,8,ue),y(e(L),k(B(I)),null,16)]))}}),{defineComponent:fe}=await r("vue"),{unref:P,createVNode:h,createElementVNode:he,Suspense:ye,withCtx:E,openBlock:R,createBlock:we,resolveComponent:ke,normalizeProps:Be,guardReactiveProps:be,Fragment:xe,createElementBlock:$e}=await r("vue"),F=await r("three"),Ae=fe({__name:"arrangement",setup(x){const a={clearColor:"#ffffff",windowSize:!0,toneMapping:F.ACESFilmicToneMapping,toneMappingExposure:.8,shadows:!0,outputColorSpace:F.SRGBColorSpace};return(g,_)=>{const t=ke("TresCanvas");return R(),$e(xe,null,[h(P(N)),h(t,Be(be(a)),{default:E(()=>[_[0]||(_[0]=he("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),h(P(z),{enableDamping:""}),(R(),we(ye,null,{default:E(()=>[h(ge)]),_:1})),h(Z)]),_:1},16)],64)}}});export{Ae as default};
