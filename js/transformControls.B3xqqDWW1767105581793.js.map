{"version":3,"file":"transformControls.B3xqqDWW1767105581793.js","sources":["../../src/plugins/basic/pages/controls/transformControls.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue'\n\nimport { BasicShadowMap, SRGBColorSpace, NoToneMapping } from 'three'\nimport { OrbitControls, TransformControls } from '@tresjs/cientos'\nimport { Pane } from 'tweakpane'\n\nconst gl = {\n  clearColor: '#82DBC5',\n  shadows: true,\n  alpha: false,\n  shadowMapType: BasicShadowMap,\n  outputColorSpace: SRGBColorSpace,\n  toneMapping: NoToneMapping,\n}\n\nconst boxRef = ref()\nconst sphereRef = ref()\n\nconst transformRef = ref()\n\nfunction changeObject(object: any) {\n  transformRef.value = object\n}\n\nconst context = ref()\n\nconst controlsState = reactive({\n  mode: 'translate',\n  enabled: true,\n  space: 'world',\n  axis: 'XYZ',\n  size: 1,\n  showX: true,\n  showY: true,\n  showZ: true,\n})\n\nconst pane = new Pane()\n\npane\n  .addBlade({\n    view: 'list',\n    label: '模式',\n    options: [\n      { text: '移动', value: 'translate' },\n      { text: '旋转', value: 'rotate' },\n      { text: '缩放', value: 'scale' },\n    ],\n    value: controlsState.mode,\n  })\n  .on('change', (e: any) => {\n    controlsState.mode = e.value\n  })\n\npane.addBinding(controlsState, 'enabled', { label: '开启' })\n\npane\n  .addBlade({\n    view: 'list',\n    label: 'Space',\n    options: [\n      { text: '世界坐标', value: 'world' },\n      { text: '本地坐标', value: 'local' },\n    ],\n    value: controlsState.space,\n  })\n  .on('change', (e: any) => {\n    controlsState.space = e.value\n  })\n\npane.addBlade({\n  view: 'list',\n  label: '轴',\n  options: [\n    { text: 'X', value: 'X' },\n    { text: 'Y', value: 'Y' },\n    { text: 'Z', value: 'Z' },\n    { text: 'XY', value: 'XY' },\n    { text: 'YZ', value: 'YZ' },\n    { text: 'XZ', value: 'XZ' },\n    { text: 'XYZ', value: 'XYZ' },\n  ],\n  value: controlsState.axis,\n})\n\npane.addBinding(controlsState, 'size', {\n  label: '大小',\n  step: 0.01,\n  min: 0,\n  max: 10,\n})\n\npane.addBinding(controlsState, 'showX', { label: '显示X轴' })\npane.addBinding(controlsState, 'showY', { label: '显示Y轴' })\npane.addBinding(controlsState, 'showZ', { label: '显示Z轴' })\n\n</script>\n\n<template>\n  <TresCanvas v-bind=\"gl\" ref=\"context\" window-size>\n    <TresPerspectiveCamera :position=\"[3, 3, 3]\" />\n    <OrbitControls make-default />\n\n    <TresMesh ref=\"boxRef\" :position=\"[-2, 1, 0]\" @click=\"changeObject(boxRef)\">\n      <TresBoxGeometry />\n      <TresMeshNormalMaterial />\n    </TresMesh>\n    <TransformControls v-if=\"transformRef\" :object=\"transformRef\" v-bind=\"controlsState\" />\n    <TresMesh ref=\"sphereRef\" :position=\"[2, 1, 0]\" @click=\"changeObject(sphereRef)\">\n      <TresSphereGeometry />\n      <TresMeshNormalMaterial />\n    </TresMesh>\n    <TresAmbientLight :intensity=\"1\" />\n    <TresGridHelper />\n  </TresCanvas>\n</template>\n"],"names":["OrbitControls"],"mappings":"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"}