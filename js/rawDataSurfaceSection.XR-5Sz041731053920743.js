var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,o=(t,o)=>{for(var i in o||(o={}))e.call(o,i)&&a(t,i,o[i]);if(n)for(var i of n(o))r.call(o,i)&&a(t,i,o[i]);return t};import{U as i,c as s}from"./@tresjs.hJVQLtpa1731053920743.js";import{a as u,u as c,_ as l}from"./rawData.Z6TfmF1E1731053920743.js";import{_ as f,aD as p,cY as m,M as d}from"./three.eGpwEcxC1731053920743.js";import{z as h}from"./three-custom-shader-material.u9oeG2Gi1731053920743.js";import{P as g}from"./tweakpane.yHWGBmom1731053920743.js";import{d as y,b as x,a as w,r as b,w as _,o as v,D as I,J as j,u as z,j as A,g as S,x as E,F as D,V as L,f as T,H as R,I as M,m as O}from"./@vue.u2cBPEWn1731053920743.js";import{z as V,x as k,a5 as C,a6 as F,a7 as B,N as P,a8 as U,a9 as Z,t as $,$ as q,aa as H,v as N,_ as G}from"./@fesjs.jcfJqFb-1731053920743.js";import"./@vueuse.weJ7f3dz1731053920743.js";import"./pinia.OLC9kXJl1731053920743.js";import"./vue-demi.C4xddsk91731053920743.js";import"./vue-router.VZFAJYMT1731053920743.js";import"./lodash-es.guXTxyfJ1731053920743.js";import"./@qlin.yHhFDldE1731053920743.js";import"./@floating-ui.BPbuo5Gx1731053920743.js";import"./@juggle.7yjBMqoW1731053920743.js";const K=W;!function(t,n){const e=W,r=Y();for(;;)try{if(680341===parseInt(e(443))/1*(-parseInt(e(430))/2)+parseInt(e(444))/3+parseInt(e(461))/4*(-parseInt(e(427))/5)+parseInt(e(414))/6*(parseInt(e(471))/7)+-parseInt(e(484))/8+-parseInt(e(437))/9*(parseInt(e(456))/10)+parseInt(e(415))/11)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(412)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){X(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=it(t(428));n[t(475)](r+t(440))&&e[t(475)](r+"input")?it():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=Y();return(W=function(t,n){return e[t-=402]})(t,n)}function Y(){const t=["updateTransferFunction","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","min","debu","trace","1681430dnxOLN","repaint","length","xLength","change","4616ESPljL","extractSlice","log","table","dataType","byteArray","primitive","gger","__proto__","repaintAllSlices","4938213OdTqnt","zLength","yLength","y轴缩放","test","scene","lowerThreshold",'{}.constructor("return this")( )',"Matrix4","z轴缩放","counter","mesh","call","5800744iouDSF","zExtent","console","invert","max","bind","EdgesGeometry","LineSegments","y剖面","copy","scale","apply","computeMinMax","6hBnnYe","26472039AainKz","stateObject","x轴缩放","eTexture","RASDimensions","uniforms","z剖面","material","\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ","windowLow","DoubleSide","NormalBlending","1755WdMEmA","init","windowHigh","264318uxsKwG","string","selectDataType","floor","LineBasicMaterial","return (function() ","TresGroup","36yqrNrM","index","addBinding","chain","object","xExtent","9LSdRnb","1681449cmKfZz","value","inverseMatrix","info","constructor","warn","upperThreshold"];return(Y=function(){return t})()}J(void 0,(function(){const t=W;let n;try{n=Function(t(435)+t(478)+");")()}catch(a){n=window}const e=n[t(403)]=n[t(403)]||{},r=[t(463),t(449),t(447),"error","exception",t(464),t(455)];for(let o=0;o<r.length;o++){const n=J[t(448)].prototype[t(406)](J),a=r[o],i=e[a]||n;n[t(469)]=J[t(406)](J),n.toString=i.toString[t(406)](i),e[a]=n}}))();const Q=["scale","visible"],tt=[K(411)],nt=[K(441)],et=[K(441)],rt=[K(441)],at=[K(441)],ot=y({__name:K(476),setup(t){const n=K,e=x(-1),r=x(-1),a=x(.6),i=w((()=>{const t=W;return!(e[t(445)]<=.01&&e[t(445)]>=-.01)&&(!(r[t(445)]<=.01&&r[t(445)]>=-.01)&&!(a.value<=.01&&a.value>=-.01))})),s=u(),l=c(),y=(t=>{const n=W,e=new m(l[n(442)],l.yExtent,l[n(402)],l[n(465)][l[n(432)]].title,l[n(466)]);e.spacing=[1,1,1],e[n(419)]=[Math[n(433)](e[n(459)]),Math[n(433)](e[n(473)]),Math[n(433)](e[n(472)])],e.matrix=new d,e[n(446)]=new(f[n(479)]),e[n(446)][n(410)](e.matrix)[n(404)]();const r=e[n(413)](),a=r[0],o=r[1];return e[n(424)]=a,e[n(429)]=o,e.lowerThreshold=a,e.upperThreshold=o,e})(l.byteArray),A=new(f[n(408)])(new(f[n(407)])(new p(y.xLength,y.yLength,y[n(472)])),new(f[n(434)])({color:6710886})),S=b({x:Math.floor(y.RASDimensions[0]/2),y:Math[n(433)](y[n(419)][1]/2),z:Math[n(433)](y[n(419)][2]/4)});y[n(429)]=136;const E=y.extractSlice("x",S.x),D=y[n(462)]("y",S.y),L=y[n(462)]("z",S.z),T={vertexShader:n(452),fragmentShader:n(423),uniforms:{eTexture:{value:s.updateTransferFunction()}},silent:!0,flatShading:!0,side:f[n(425)],transparent:!0,depthTest:!0,depthWrite:!1,blending:f[n(426)]};E[n(482)].material=new h(o({baseMaterial:E.mesh.material},T)),D.mesh[n(422)]=new h(o({baseMaterial:D[n(482)].material},T)),L.mesh[n(422)]=new h(o({baseMaterial:L[n(482)][n(422)]},T));const R=new g;return R[n(439)](e,n(445),{label:n(417),min:-2,max:2,step:.01}),R[n(439)](r,n(445),{label:n(474),min:-2,max:2,step:.01}),R.addBinding(a,n(445),{label:n(480),min:-2,max:2,step:.01}),R[n(439)](S,"x",{label:"x剖面",min:0,max:y.RASDimensions[0],step:1}),R[n(439)](S,"y",{label:n(409),min:0,max:y[n(419)][1],step:1}),R[n(439)](S,"z",{label:n(421),min:0,max:y[n(419)][2],step:1}),R.addBinding(y,n(477),{label:n(477),min:y.min,max:y[n(405)],step:1}).on("change",(()=>{y[n(470)]()})),R[n(439)](y,n(450),{label:n(450),min:y[n(453)],max:y.max,step:1}).on(n(460),(()=>{y.repaintAllSlices()})),R[n(439)](y,"windowLow",{label:n(424),min:y[n(453)],max:y[n(405)],step:1}).on(n(460),(()=>{y.repaintAllSlices()})),R[n(439)](y,"windowHigh",{label:n(429),min:y[n(453)],max:y[n(405)],step:1}).on(n(460),(()=>{y[n(470)]()})),_((()=>S),(t=>{const e=n;E[e(438)]=t.x,E[e(457)][e(483)](E),D[e(438)]=t.y,D[e(457)][e(483)](D),L[e(438)]=t.z,L[e(457)][e(483)](L)}),{deep:!0}),_((()=>s.colorsStops),(()=>{const t=n;E[t(482)][t(422)].uniforms[t(418)].value=s[t(451)](),D[t(482)][t(422)][t(420)][t(418)][t(445)]=s[t(451)](),L.mesh.material.uniforms[t(418)].value=s[t(451)]()}),{deep:!0,immediate:!0}),(t,o)=>{const s=n;return v(),I("TresGroup",{scale:[e[s(445)],r[s(445)],a[s(445)]],visible:i[s(445)]},[j(s(436),{scale:[1/z(y)[s(459)],1/z(y)[s(459)]*z(y)[s(459)]/z(y)[s(473)],1/z(y).xLength*z(y).xLength/z(y)[s(472)]]},[j(s(467),{object:z(E)[s(482)],renderOrder:1},null,8,nt),j(s(467),{object:z(D)[s(482)],renderOrder:2},null,8,et),j(s(467),{object:z(L)[s(482)],renderOrder:3},null,8,rt),j(s(467),{object:z(A)},null,8,at)],8,tt)],8,Q)}}});function it(t){function n(t){const e=W;if(typeof t===e(431))return function(t){}[e(448)]("while (true) {}")[e(412)](e(481));1!==(""+t/t)[e(458)]||t%20==0?function(){return!0}[e(448)](e(454)+e(468))[e(483)]("action"):function(){return!1}[e(448)](e(454)+e(468))[e(412)](e(416)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function st(t,n){const e=ct();return(st=function(t,n){return e[t-=325]})(t,n)}const ut=st;function ct(){const t=["title","prototype","xExtent","warning","byteArray","apply","return (function() ","block","modelValue","yExtent","target"," 点击或者拖拽rawData文件到此区域 ","2231446tzXLyz","constructor","541376XRDCgc","debu","action","toString","readAsArrayBuffer","image/x-panasonic-raw","11px"," 面剖体数据","bind","call","function *\\( *\\)","onload","10px auto -3px","exception","stateObject","value","10px","importRawUI","462720NUtAwn","while (true) {}","3LbmNpX","string","info","div","1983955zmbpfi","9KmEPJd"," y轴长度： ","7469512eaLBVA","uploadRef","2.4em","__proto__","raw","[change] param:","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","removeFile","940724YekhFC","setArrayBuffer","gger","selectDataType","result","文件类型必须为:'image/x-panasonic-raw'","请正确选择rawData文件","chain","fileList","table","2.8em","zExtent","读取Raw原始数据","300px","init","error","演示参考头部👨‍🦲RawData数据,下载 : ","261222eiEnET"," z轴长度： ","input","test","length"];return(ct=function(){return t})()}!function(t,n){const e=st,r=ct();for(;;)try{if(336556===-parseInt(e(353))/1+parseInt(e(336))/2*(-parseInt(e(392))/3)+parseInt(e(372))/4+-parseInt(e(396))/5+parseInt(e(390))/6+parseInt(e(370))/7+-parseInt(e(327))/8*(-parseInt(e(325))/9))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[st(363)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){lt(this,(function(){const t=st,n=new RegExp(t(382)),e=new RegExp(t(334),"i"),r=mt(t(350));n[t(356)](r+t(343))&&e[t(356)](r+t(355))?mt():r("0")}))()}();const ft=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();ft(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function(t(364)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=[t(333),"warn",t(394),t(351),t(385),t(345),"trace"];for(let a=0;a<r[t(357)];a++){const n=ft[t(371)][t(359)][t(380)](ft),o=r[a],i=e[o]||n;n[t(330)]=ft.bind(ft),n.toString=i[t(375)][t(380)](i),e[o]=n}}))();const pt={key:0,class:"card-wrapper"};function mt(t){function n(t){const e=st;if(typeof t===e(393))return function(t){}[e(371)](e(391))[e(363)]("counter");1!==(""+t/t)[e(357)]||t%20==0?function(){return!0}[e(371)](e(373)+e(338))[e(381)](e(374)):function(){return!1}[e(371)](e(373)+e(338))[e(363)](e(386)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const dt=G(y({__name:ut(389),setup(t){const n=ut,e=c();e.xExtent=256,e[n(367)]=256,e[n(347)]=109;const r=x(null),a=x([]),o=t=>{const e=n;console[e(333)](e(332),t)},i=()=>{var t;const e=n;a[e(387)].length>1&&(null==(t=r[e(387)])||t[e(335)](a[e(387)][0]))},s=()=>{const t=n;if(1!=a[t(387)][t(357)])return N[t(361)](t(342)),!1;if(e[t(360)]<=0||e[t(367)]<=0||e[t(347)]<=0)return N[t(361)]("请正确输入数值"),!1;if(a[t(387)][0][t(331)].type!==t(377))return N[t(361)](t(341)),!1;const r=new FileReader;return r[t(383)]=function(n){const r=t,a=n[r(368)][r(340)];e[r(337)](a)},r[t(376)](a[t(387)][0][t(331)]),!0};return(t,u)=>{const c=n;return z(e)[c(362)]?M("",!0):(v(),I(c(395),pt,[A(z(H),{header:c(348)},{default:S((()=>[u[10]||(u[10]=j(c(395),{style:{"margin-bottom":c(378)}},[E(c(352)),j("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},"head_256x256x109_uint8.raw")],-1)),A(z(V),{style:{"min-height":"2.8em"}},{default:S((()=>[A(z(k),{span:6,style:{"line-height":c(329)}},{default:S((()=>u[5]||(u[5]=[E(" x轴长度： ")]))),_:1}),A(z(k),{span:18},{default:S((()=>[A(z(C),{precision:0,modelValue:z(e)[c(360)],"onUpdate:modelValue":u[0]||(u[0]=t=>z(e)[c(360)]=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),A(z(V),{style:{"min-height":"2.8em"}},{default:S((()=>[A(z(k),{span:6,style:{"line-height":"2.4em"}},{default:S((()=>u[6]||(u[6]=[E(c(326))]))),_:1}),A(z(k),{span:18},{default:S((()=>[A(z(C),{precision:0,modelValue:z(e).yExtent,"onUpdate:modelValue":u[1]||(u[1]=t=>z(e)[c(367)]=t),autofocus:""},null,8,[c(366)])])),_:1})])),_:1}),A(z(V),{style:{"min-height":c(346)}},{default:S((()=>[A(z(k),{span:6,style:{"line-height":c(329)}},{default:S((()=>u[7]||(u[7]=[E(c(354))]))),_:1}),A(z(k),{span:18},{default:S((()=>[A(z(C),{precision:0,modelValue:z(e)[c(347)],"onUpdate:modelValue":u[2]||(u[2]=t=>z(e).zExtent=t),autofocus:""},null,8,[c(366)])])),_:1})])),_:1}),A(z(F),{modelValue:z(e)[c(339)],"onUpdate:modelValue":u[3]||(u[3]=t=>z(e).selectDataType=t),style:{"margin-bottom":c(388)}},{default:S((()=>[(v(!0),I(D,null,L(z(e).dataType,((t,n)=>{const e=c;return v(),T(z(B),{key:n,value:n},{default:S((()=>[A(z(P),{style:{"max-width":e(349)}},{default:S((()=>[E(R(t[e(358)]),1)])),_:2},1024)])),_:2},1032,[e(387)])})),128))])),_:1},8,[c(366)]),A(z(U),{ref_key:c(328),ref:r,fileList:a[c(387)],"onUpdate:fileList":u[4]||(u[4]=t=>a.value=t),onChange:o,httpRequest:i},{default:S((()=>[A(z(Z),null,{default:S((()=>u[8]||(u[8]=[E(c(369))]))),_:1})])),_:1},8,[c(344)]),A(z($),{style:{display:c(365),margin:c(384)},onClick:s},{icon:S((()=>[A(z(q))])),default:S((()=>[u[9]||(u[9]=E(c(379)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]),ht=wt;!function(t,n){const e=wt,r=xt();for(;;)try{if(700364===-parseInt(e(347))/1*(parseInt(e(356))/2)+parseInt(e(377))/3*(-parseInt(e(346))/4)+parseInt(e(342))/5+-parseInt(e(355))/6*(parseInt(e(376))/7)+-parseInt(e(372))/8+parseInt(e(351))/9+-parseInt(e(368))/10*(-parseInt(e(362))/11))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const gt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[wt(371)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){gt(this,(function(){const t=wt,n=new RegExp(t(364)),e=new RegExp(t(367),"i"),r=_t(t(348));n[t(374)](r+t(375))&&e.test(r+t(363))?_t():r("0")}))()}();const yt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[wt(371)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function xt(){const t=["error","apply","3460848qFjVAx","rgb(255, 0, 0)","test","chain","9547489TQmEQn","21sHnBcR","debu","stateObject","trace","rawDataSurfaceSection","console","4252090IRxZml","#201919","TresPerspectiveCamera","gger","41172wqLmbf","1797WgeeJr","init","table","action","9772695CsCdgH","counter","length","bind","6fpRXas","742wIeMch","while (true) {}","__proto__",'{}.constructor("return this")( )',"toString","constructor","23782wzyDhd","input","function *\\( *\\)","exception","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6010wuyHCd","return (function() "];return(xt=function(){return t})()}function wt(t,n){const e=xt();return(wt=function(t,n){return e[t-=340]})(t,n)}yt(void 0,(function(){const t=wt,n=function(){const t=wt;let n;try{n=Function(t(369)+t(359)+");")()}catch(e){n=window}return n}(),e=n[t(341)]=n[t(341)]||{},r=["log","warn",t(366),t(370),t(365),t(349),t(380)];for(let a=0;a<r[t(353)];a++){const n=yt[t(361)].prototype[t(354)](yt),o=r[a],i=e[o]||n;n[t(358)]=yt[t(354)](yt),n.toString=i[t(360)].bind(i),e[o]=n}}))();const bt=y({__name:ht(340),setup(t){const n=ht,e=b({clearColor:n(343),antialias:!0}),r=c();return(t,a)=>{const o=n;return v(),I(D,null,[z(r).byteArray?(v(),T(l,{key:0,curColorList:[["rgba(0, 0, 0, 0)",0],["rgb(0, 255, 255)",.4],[o(373),1]]})):M("",!0),A(z(s),O(e,{"window-size":""}),{default:S((()=>[a[0]||(a[0]=j(o(344),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),A(z(i)),z(r).byteArray?(v(),T(ot,{key:0})):M("",!0)])),_:1},16),A(dt)],64)}}});function _t(t){function n(t){const e=wt;if("string"==typeof t)return function(t){}[e(361)](e(357))[e(371)](e(352));1!==(""+t/t)[e(353)]||t%20==0?function(){return!0}.constructor(e(378)+"gger").call(e(350)):function(){return!1}[e(361)](e(378)+e(345))[e(371)](e(379)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{bt as default};
