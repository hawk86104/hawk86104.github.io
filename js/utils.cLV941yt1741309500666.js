import{c as t,B as n,r as e,c7 as r,C as o,V as s,a0 as c}from"./three.8tDGqmLF1741309500666.js";import{w as i}from"./@fesjs.x4z0tZxE1741309500666.js";import{a}from"./@tresjs.yaBKiR-I1741309500666.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.gdrUeCX71741309500666.js";!function(t,n){const e=w,r=h();for(;;)try{if(592934===-parseInt(e(441))/1*(-parseInt(e(408))/2)+parseInt(e(436))/3+-parseInt(e(378))/4+parseInt(e(382))/5+parseInt(e(385))/6+-parseInt(e(384))/7+-parseInt(e(430))/8*(parseInt(e(398))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(380)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=w,n=new RegExp(t(429)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=_("init");n[t(432)](r+t(410))&&e[t(432)](r+t(440))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(380)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function("return (function() "+t(435)+");")()}catch(e){n=window}return n}(),e=n[t(411)]=n.console||{},r=["log","warn",t(396),t(433),"exception",t(383),"trace"];for(let o=0;o<r[t(399)];o++){const n=m[t(422)][t(377)][t(391)](m),s=r[o],c=e[s]||n;n.__proto__=m.bind(m),n[t(431)]=c[t(431)][t(391)](c),e[s]=n}}))();const g=(n,e=!1)=>{const r=w;n[r(392)]();const{max:o,min:s}=n[r(375)];n.deleteAttribute("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n[r(438)][r(387)][r(428)];t++)e?(a[r(405)]((n[r(438)][r(387)].getX(t)-(s.x+o.x)/2)/c),a[r(405)]((n[r(438)][r(387)][r(439)](t)-(s.y+o.y)/2)/i)):(a.push((n.attributes[r(387)][r(394)](t)-s.x)/c),a[r(405)]((n.attributes[r(387)].getY(t)-s.y)/i));const u=new Float32Array(a);n[r(437)]("uv",new t(u,2))};function h(){const t=["4zRpSpB","random","chain","console","call","setY","getSize","disposeBoundsTree","sub","transparent","negate","counter","config","then","constructor","gger","debu","min","Vector3","clone","count","function *\\( *\\)","11272zqcQdf","toString","test","error","add",'{}.constructor("return this")( )',"2134692SRLrVj","setAttribute","attributes","getY","input","444326clEmqg","getCenter","forEach","divideScalar","boundingBox","computeBoundsTree","prototype","3115968amdKXS","geometry","apply","deleteAttribute","2083935IBzVDM","table","6538406gPfUaG","6696384cGxcwb","json","position","get","value","uniforms","bind","computeBoundingBox","catch","getX","side","info","max","5283mkkXXG","length","reflectivity","applyMatrix4","material","string","features","push","copy","while (true) {}"];return(h=function(){return t})()}const d=(t,n)=>new Promise(((e,r)=>{const o=w;i(t,{},{method:o(388),mergeRequest:!0,responseType:o(386)})[o(421)]((t=>{const r=o;n&&e(t[n]),e(t[r(404)])}))[o(393)]((t=>{console.error(t),r(t)}))}));function w(t,n){const e=h();return(w=function(t,n){return e[t-=372]})(t,n)}const y=t=>{const n=w,e=(new THREE.Box3).setFromObject(t),r=new(THREE[n(426)]);e[n(372)](r),t.children[n(373)]((t=>{const e=n;t[e(387)][e(416)](r)})),t[n(387)][n(406)](r[n(418)]())},x=()=>{const t=w;n[t(377)][t(376)]=u,n[t(377)][t(415)]=f,e[t(377)].raycast=p},b=async t=>{const n=w,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(427)]();g(i),i[n(376)]();const u=new r(i,{color:new o("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(402)][n(417)]=!0,u[n(402)].depthWrite=!0,u[n(402)].depthTest=!0,u[n(402)][n(395)]=c,u[n(402)][n(390)][n(420)].value.w=20,u[n(402)].uniforms[n(400)][n(389)]=.46,u};function j(t){const n=w,e=[];for(let o=0;o<t.length;o++)e[n(405)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(399)];o++)r[n(434)](e[o]);r[n(374)](e[n(399)]);for(let o=0;o<e[n(399)];o++)e[o][n(416)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=w;if(typeof t===e(403))return function(t){}[e(422)](e(407))[e(380)](e(419));1!==(""+t/t)[e(399)]||t%20==0?function(){return!0}[e(422)]("debu"+e(423))[e(412)]("action"):function(){return!1}[e(422)](e(424)+e(423))[e(380)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,d as l,g as r,b as s};
