import{importShared as c}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{zr as k,Kk as S,Tz as B}from"./index.DTe2qqjO1767148983502.js";import{HDRLoader as D}from"./HDRLoader.l3JhD1mt1767148983502.js";const{CubeTexture:L,DataTexture:R,FileLoader:b,FloatType:z,HalfFloatType:g,LinearFilter:d,LinearSRGBColorSpace:x,Loader:P}=await c("three");class E extends P{constructor(t){super(t),this.hdrLoader=new D,this.type=g}load(t,i,r,n){const e=new L;switch(e.type=this.type,e.type){case z:e.colorSpace=x,e.minFilter=d,e.magFilter=d,e.generateMipmaps=!1;break;case g:e.colorSpace=x,e.minFilter=d,e.magFilter=d,e.generateMipmaps=!1;break}const p=this;let f=0;function w(s,h,F,v){new b(p.manager).setPath(p.path).setResponseType("arraybuffer").setWithCredentials(p.withCredentials).load(t[s],function(M){f++;const l=p.hdrLoader.parse(M);if(l){if(l.data!==void 0){const o=new R(l.data,l.width,l.height);o.type=e.type,o.colorSpace=e.colorSpace,o.format=e.format,o.minFilter=e.minFilter,o.magFilter=e.magFilter,o.generateMipmaps=e.generateMipmaps,e.images[s]=o}f===6&&(e.needsUpdate=!0,h&&h(e))}},F,v)}for(let s=0;s<t.length;s++)w(s,i,r,n);return e}setDataType(t){return this.type=t,this.hdrLoader.setDataType(t),this}}const{defineComponent:H}=await c("vue"),N=H({__name:"skyBoxFmesh",props:{texture:{}},setup(u){const t=u,{scene:i}=k(),n=new E().setPath(t.texture).load(["px.hdr","nx.hdr","py.hdr","ny.hdr","pz.hdr","nz.hdr"]);return i.value.environment=n,i.value.background=n,(e,p)=>null}}),{defineComponent:V}=await c("vue"),{createElementVNode:a,unref:_,createVNode:m,Suspense:G,withCtx:T,openBlock:y,createBlock:C,resolveComponent:K,normalizeProps:$,guardReactiveProps:A}=await c("vue"),U=await c("three"),I=V({__name:"skyBoxF",setup(u){const t={clearColor:"#201919",windowSize:!0,toneMapping:U.ACESFilmicToneMapping,toneMappingExposure:.8};return(i,r)=>{const n=K("TresCanvas");return y(),C(n,$(A(t)),{default:T(()=>[r[0]||(r[0]=a("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e4,"look-at":[0,0,0]},null,-1)),m(_(S),{enableDamping:""}),m(_(B),{args:[3,3,3],color:"orange",position:[-13,0,1]}),r[1]||(r[1]=a("TresMesh",{position:[10,2,-4],"cast-shadow":""},[a("TresBoxGeometry",{args:[2,2,2]}),a("TresMeshNormalMaterial")],-1)),r[2]||(r[2]=a("TresMesh",{position:[0,0,0]},[a("TresTorusKnotGeometry",{args:[3,1,64,8,2,3]}),a("TresMeshStandardMaterial",{color:"#ffffff",metalness:1,roughness:.14})],-1)),(y(),C(G,null,{default:T(()=>[m(N,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/6hdr/"},null,8,["texture"])]),_:1}))]),_:1},16)}}});export{I as default};
