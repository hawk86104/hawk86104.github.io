import{b_ as t,a0 as e,r as n,s as r}from"./three.erXpfL-r1718698100638.js";import{N as o}from"./@tresjs.aawOCoPx1718698100638.js";import{R as s,b as i}from"./all.three.Qw9uPAR91718698100638.js";import{d as c,a3 as a,a2 as u,w as l,o as f,D as p,J as h,u as d}from"./@vue.CpOXM7bB1718698100638.js";const g=w;!function(t,e){const n=w,r=I();for(;;)try{if(715726===-parseInt(n(325))/1*(-parseInt(n(334))/2)+-parseInt(n(331))/3+parseInt(n(346))/4*(parseInt(n(341))/5)+parseInt(n(322))/6+-parseInt(n(373))/7*(-parseInt(n(337))/8)+parseInt(n(356))/9*(-parseInt(n(349))/10)+-parseInt(n(335))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=w,e=new RegExp(t(330)),n=new RegExp(t(353),"i"),r=_(t(361));e[t(371)](r+t(380))&&n[t(371)](r+t(350))?_():r("0")}))()}();const m=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function w(t,e){const n=I();return(w=function(t,e){return n[t-=322]})(t,e)}m(void 0,(function(){const t=w,e=function(){const t=w;let e;try{e=Function(t(326)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(345)]=e[t(345)]||{},r=[t(354),t(359),t(343),t(344),t(327),t(369),t(362)];for(let o=0;o<r.length;o++){const e=m[t(324)].prototype[t(370)](m),s=r[o],i=n[s]||e;e[t(332)]=m[t(370)](m),e[t(323)]=i[t(323)][t(370)](i),n[s]=e}}))();const j=["scale"],v=[g(348)],y=[g(348)];function I(){const t=["repeat","uReflectivity","tReflect","wrapS","ignoreObjects","stateObject","chain","isMesh","3272436InelBl","toString","constructor","25807tQlUEe","return (function() ","exception","while (true) {}","reflectorDUDV","function *\\( *\\)","1419456UaZNgo","__proto__","rotation","46mlGquj","1455960syEWTX","showGridHelper","2069576uLHZuH","string","primitive","debu","3678215xGFSQZ","call","info","error","console","4XYjUKh","gger","object","10oRxXaQ","input","uniforms","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","renderTarget","7308621dhYGtK","tReflectBlur","visible","warn","reflectivity","init","trace","forEach","value","length","size","add","textureMatrixUniform","table","bind","test","TresGroup","7AGigjn"];return(I=function(){return t})()}const x=c({__name:g(329),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:b}){const m=g;let w,I;const x=c,_=new s,R=new t(x[m(366)][0]-.5,x[m(366)][1]);R.visible=x[m(336)];const{map:G}=([w,I]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),w=await w,I(),w);G[m(377)]=e,G.wrapT=e,G[m(374)].set(6,3);const M=new i({map:G,reflectivity:x[m(360)]});M[m(351)][m(376)]={value:_[m(355)].texture},M[m(351)][m(357)]=_.renderTargetUniform,M[m(351)].uMatrix=_[m(368)];const U=new n(new r(x[m(366)][0],x.size[1]),M);return U[m(333)].x=-Math.PI/2,U[m(367)](_),U.onBeforeRender=(t,e,n)=>{const r=m;U[r(358)]=!1,x.ignoreObjects[r(363)]((t=>{const e=r;t[e(381)]&&(t[e(358)]=!1),t[e(364)]&&t.value.isMesh&&(t[e(364)].visible=!1)})),_.update(t,e,n),x[r(378)][r(363)]((t=>{const e=r;t[e(381)]&&(t.visible=!0),t[e(364)]&&t.value.isMesh&&(t[e(364)][e(358)]=!0)})),U[r(358)]=!0},u((()=>{const t=m;x[t(360)]&&(M[t(351)][t(375)][t(364)]=x[t(360)])})),l((()=>x[m(336)]),(t=>{R.visible=t})),b({reflector:_}),(t,e)=>{const n=m;return f(),p(n(372),{scale:x.scale},[h(n(339),{object:d(U),"position-y":-.01},null,8,v),h(n(339),{object:d(R)},null,8,y)],8,j)}}});function _(t){function e(t){const n=w;if(typeof t===n(338))return function(t){}[n(324)](n(328)).apply("counter");1!==(""+t/t)[n(365)]||t%20==0?function(){return!0}[n(324)](n(340)+n(347))[n(342)]("action"):function(){return!1}[n(324)](n(340)+n(347))[n(352)](n(379)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
