import{P as t}from"./tweakpane.yDiyAAkA1742297875262.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.SIpojq0z1742297875262.js";import{_ as r}from"./heatmap.js-fix.1FAuX-Sh1742297875262.js";import{a as i,_ as c,cg as s,a0 as u}from"./three.N4lg2KsY1742297875262.js";import{r as a}from"./utils.4kjShNCV1742297875262.js";import{d as p}from"./pinia.qX8pw0bq1742297875262.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as w,W as b,P as I,R as _,L as j,O as x,a3 as E,r as Z,j as M,g as S,m as F}from"./@vue.NRI7TcgI1742297875262.js";import{c as D,d as O,a as z}from"./three-mesh-bvh.MBlJRBu_1742297875262.js";import{_ as R}from"./@fesjs.5gYNbdbo1742297875262.js";import"./@tresjs.oW7bfow21742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";import"./three-custom-shader-material.CRQk2ryt1742297875262.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742297875262.js";import"./@amap.PUMXk6JR1742297875262.js";import"./vue-router.voBLX0XL1742297875262.js";import"./lodash-es.pklfUAS51742297875262.js";import"./@qlin.yHhFDldE1742297875262.js";import"./@floating-ui.BPbuo5Gx1742297875262.js";import"./@juggle.7yjBMqoW1742297875262.js";!function(t,n){const e=W,o=B();for(;;)try{if(481343===parseInt(e(140))/1*(-parseInt(e(115))/2)+parseInt(e(149))/3+parseInt(e(116))/4+parseInt(e(139))/5+parseInt(e(154))/6+parseInt(e(120))/7+parseInt(e(124))/8*(-parseInt(e(128))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(136)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=W,n=new RegExp(t(148)),e=new RegExp(t(153),"i"),o=P("init");n[t(138)](o+t(121))&&e[t(138)](o+"input")?P():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=B();return(W=function(t,n){return e[t-=108]})(t,n)}U(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(111)+t(151)+");")()}catch(e){n=window}return n}(),e=n[t(126)]=n[t(126)]||{},o=[t(158),t(131),t(142),t(127),t(147),t(157),"trace"];for(let r=0;r<o.length;r++){const n=U[t(143)][t(109)][t(156)](U),i=o[r],c=e[i]||n;n[t(117)]=U.bind(U),n[t(144)]=c.toString[t(156)](c),e[i]=n}}))();const A=(t,n)=>t.getValueAt(n)+-10;function B(){const t=["info","constructor","toString","setData","randInt","exception","function *\\( *\\)","2115174EwuiVg","rgb(255,0,0)",'{}.constructor("return this")( )',"push","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2283792cekvPm","style","bind","table","log","width","left","prototype","top","return (function() ","while (true) {}","gger","createElement","3362WGnpQB","3185768JrsuId","__proto__","_config","length","6649447WQASQH","chain","stateObject","debu","2168FcQkWn","none","console","error","75681LbESEh","rgb(0,0,255)","position","warn","display","body","rgb(0,255,0)","appendChild","apply","counter","test","867775QqBgyZ","146KzEJYE","call"];return(B=function(){return t})()}function P(t){function n(t){const e=W;if("string"==typeof t)return function(t){}.constructor(e(112))[e(136)](e(137));1!==(""+t/t)[e(119)]||t%20==0?function(){return!0}[e(143)](e(123)+e(113))[e(141)]("action"):function(){return!1}.constructor(e(123)+"gger")[e(136)](e(122)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const T=$;!function(t,n){const e=$,o=H();for(;;)try{if(915006===-parseInt(e(416))/1*(-parseInt(e(418))/2)+parseInt(e(440))/3+parseInt(e(405))/4*(-parseInt(e(420))/5)+-parseInt(e(432))/6*(-parseInt(e(419))/7)+-parseInt(e(426))/8+-parseInt(e(433))/9*(parseInt(e(411))/10)+parseInt(e(430))/11*(-parseInt(e(424))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(417)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=$,n=new RegExp(t(406)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=N(t(428));n[t(425)](o+t(429))&&e[t(425)](o+t(438))?N():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=H();return($=function(t,n){return e[t-=405]})(t,n)}function H(){const t=["input","console","4327203guzXzs","log","13060ZOeTKz","function *\\( *\\)","return (function() ","debu","toString","warn","10LhNEHZ",'{}.constructor("return this")( )',"gger","constructor","value","150472XdmrwW","apply","16YYmMHw","77gtycNZ","70YseVqM","while (true) {}","trace","table","901140oMwjuV","test","282056yetvuR","length","init","chain","341YwMpoZ","stateObject","815124cVfJfC","7349877esNFpr","buildingsHeatmap","string","call","bind"];return(H=function(){return t})()}Y(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(407)+t(412)+");")()}catch(e){n=window}return n}(),e=n[t(439)]=n[t(439)]||{},o=[t(441),t(410),"info","error","exception",t(423),t(422)];for(let r=0;r<o[t(427)];r++){const n=Y[t(414)].prototype[t(437)](Y),i=o[r],c=e[i]||n;n.__proto__=Y[t(437)](Y),n[t(409)]=c[t(409)][t(437)](c),e[i]=n}}))();const L=p(T(434),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[$(415)]=t}}}));function N(t){function n(t){const e=$;if(typeof t===e(435))return function(t){}[e(414)](e(421))[e(417)]("counter");1!==(""+t/t)[e(427)]||t%20==0?function(){return!0}[e(414)](e(408)+e(413))[e(436)]("action"):function(){return!1}[e(414)]("debugger")[e(417)](e(431)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=q;!function(t,n){const e=q,o=K();for(;;)try{if(662024===parseInt(e(358))/1+-parseInt(e(373))/2+-parseInt(e(383))/3*(parseInt(e(396))/4)+parseInt(e(370))/5*(-parseInt(e(418))/6)+parseInt(e(415))/7*(-parseInt(e(376))/8)+-parseInt(e(380))/9+-parseInt(e(412))/10*(-parseInt(e(365))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(397)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=K();return(q=function(t,n){return e[t-=352]})(t,n)}!function(){Q(this,(function(){const t=q,n=new RegExp(t(352)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt(t(353));n[t(379)](o+t(364))&&e[t(379)](o+t(368))?nt():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=q;let n;try{n=Function(t(423)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(385)]=n.console||{},o=[t(405),t(386),t(403),t(395),t(378),t(366),t(359)];for(let i=0;i<o[t(411)];i++){const n=J[t(406)].prototype[t(382)](J),r=o[i],c=e[r]||n;n[t(389)]=J.bind(J),n[t(408)]=c[t(408)][t(382)](c),e[r]=n}}))();const X=["object",C(399)],G=[C(390)];function K(){const t=["746127NsUWlU","opacity","console","warn","ShaderMaterial","Texture","__proto__","object","geometry","prototype","makeRotationX","_config","error","16giEFhr","apply","$patch","rotation-x","disposeBoundsTree","数值：","normal","info","height","log","constructor","BufferGeometry","toString","while (true) {}","city","length","40370bEgrrG","string","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","56ijWDjs","Matrix4","computeBoundsTree","6BWryEL","applyMatrix4","uniforms","gger","buildingsHeatmap","return (function() ","Mesh","uOpacity","function *\\( *\\)","init","canvas","model","debu","children","56255tpdNJO","trace","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","matrix","setTemperature","primitive","chain","13387jxFcZc","table","stateObject","input","attributes","4274245jVmZvi","width","setShowDiv","560296JUwLbt","call","action","1015424VKCavK","clone","exception","test","10458027tjxuxV","counter","bind"];return(K=function(){return t})()}const tt=l({__name:C(422),props:{model:{},opacity:{default:1}},setup(t){const n=C;(()=>{const t=q;c[t(407)][t(392)].computeBoundsTree=D,c[t(407)].prototype[t(400)]=O,c[t(424)].prototype.raycast=z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=W,i=document[o(114)]("heatmap-canvas");return i[o(155)][o(130)]="absolute",!e&&(i[o(155)][o(132)]=o(125)),i[o(155)][o(110)]="0",i[o(155)][o(108)]="0",document[o(133)][o(135)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(129),.55:o(134),.85:"yellow",1:o(150)}})})();((t,n)=>{const e=W;if(!n){let o=0;for(n=[];o<1e3;)n[e(152)]({x:i[e(146)](1,t[e(118)][e(159)]),y:i.randInt(1,t[e(118)].height),value:i.randInt(-10,36)}),o++}t[e(145)]({max:36,min:-10,data:n})})(o);const p=new(c[n(388)])(o._renderer[n(354)]);p.needsUpdate=!0;const f=e[n(355)][n(410)][n(377)]();delete f[n(391)][n(369)].normal,delete f[n(391)][n(369)].uv;const l=f.geometry[n(377)]()[n(419)](f[n(361)]),w=e[n(355)].land[n(377)]();delete w[n(391)][n(369)][n(402)];const b=w.geometry[n(377)]()[n(419)](w[n(361)]),I=s([l,b]);I[n(419)]((new(c[n(416)]))[n(393)](Math.PI/2)),a(I),I[n(417)]();const _=(t=>{const o=n;return new(c[o(387)])({vertexShader:o(414),fragmentShader:o(360),uniforms:{uOpacity:{value:e[o(384)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u})})(p),j=new(c[n(424)])(I,_);h((()=>{const t=n;e.opacity&&(_[t(420)][t(425)].value=e.opacity)}));const x=L(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(394)][e(371)],y:(1-t.uv.y)*o[e(394)][e(404)]};console[e(405)](e(401),t),console[e(405)]("数值———：",A(o,n)),x[e(362)](A(o,n))}},Z=t=>{t&&x[n(398)]({showDiv:!0})},M=t=>{t&&x[n(372)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g("primitive",{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:Z,onPointerLeave:M},null,40,X),g(r(363),{object:e[r(355)][r(355)][r(357)][0][r(377)]()},null,8,G)],64)}}});function nt(t){function n(t){const e=q;if(typeof t===e(413))return function(t){}.constructor(e(409))[e(397)](e(381));1!==(""+t/t)[e(411)]||t%20==0?function(){return!0}[e(406)](e(356)+e(421))[e(374)](e(375)):function(){return!1}[e(406)](e(356)+"gger").apply(e(367)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=R({__name:"dataDiv",setup(t){const n=L(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=ct;!function(t,n){const e=ct,o=it();for(;;)try{if(170003===-parseInt(e(364))/1+-parseInt(e(332))/2*(parseInt(e(334))/3)+parseInt(e(336))/4*(-parseInt(e(355))/5)+parseInt(e(335))/6+parseInt(e(362))/7*(parseInt(e(346))/8)+-parseInt(e(345))/9+parseInt(e(353))/10*(parseInt(e(356))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ct(373)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(){const t=["while (true) {}","input","21gySUvp","builds","222355yFfEoD","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","init","constructor","table","function *\\( *\\)","opacity","apply","length","stateObject","54lbfDlN","string","22674TZxDkF","1445268frctNj","20OCbxXm","city","info","gger","warn","return (function() ","heatmap2","action","call","981054oQUUYm","119416ZktYyH","test","toString","error","__proto__","addBinding","debu","2145280ydOWeF","#000","9285vHwEqu","22sGfFpo","value","透明度","bind"];return(it=function(){return t})()}function ct(t,n){const e=it();return(ct=function(t,n){return e[t-=331]})(t,n)}!function(){rt(this,(function(){const t=ct,n=new RegExp(t(371)),e=new RegExp(t(366),"i"),o=at(t(368));n[t(347)](o+"chain")&&e.test(o+t(361))?at():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ct(373)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();st(void 0,(function(){const t=ct;let n;try{n=Function(t(341)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(367)]=n[t(367)]||{},o=[t(365),t(340),t(338),t(349),"exception",t(370),"trace"];for(let i=0;i<o[t(374)];i++){const n=st[t(369)].prototype.bind(st),r=o[i],c=e[r]||n;n[t(350)]=st.bind(st),n[t(348)]=c.toString[t(359)](c),e[r]=n}}))();const ut=l({__name:ot(342),async setup(r){const i=ot;let c,s;const u=f(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(357)]=!0;const p=Z({width:1,color:i(354),opacity:1,show:!0}),l=Z({opacity:.9});return new t({title:"参数",expanded:!0})[i(351)](l,i(372),{label:i(358),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[M(tt,F({model:y(a)},l),null,16,["model"]),M(n,F(p,{builds:y(a)[r(337)]}),null,16,[r(363)])])),_:1}),M(et)],64)}}});function at(t){function n(t){const e=ct;if(typeof t===e(333))return function(t){}[e(369)](e(360))[e(373)]("counter");1!==(""+t/t)[e(374)]||t%20==0?function(){return!0}[e(369)](e(352)+e(339))[e(344)](e(343)):function(){return!1}[e(369)](e(352)+e(339)).apply(e(331)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
