import{F as t}from"./@tresjs.BCHtwiaC1763540743861.js";import{aW as e,ey as a,V as i,aR as s}from"./three.rXKzP9fQ1763540743861.js";import{d as n,w as o,H as r,o as p,F as c,J as m,u}from"./@vue.Co_gxueH1763540743861.js";const h=["object"],l=["object"],d=n({__name:"skylight",props:{curTime:{},direct:{},intensity:{default:1},shadowIntensity:{default:1},toneMapping:{default:e},toneMappingExposure:{default:1}},setup(e){const n=e,d=new a;d.scale.setScalar(500);const w=d.material.uniforms;w.turbidity.value=10,w.rayleigh.value=1,w.mieCoefficient.value=.005,w.mieDirectionalG.value=.9;const y=new i,f=new s(16777215,n.intensity);f.castShadow=!0,f.shadow.mapSize.width=2048,f.shadow.mapSize.height=2048,f.shadow.camera.left=-50,f.shadow.camera.right=50,f.shadow.camera.top=50,f.shadow.camera.bottom=-50,f.shadow.radius=n.shadowIntensity,o(()=>[n.curTime,n.direct,n.intensity,n.shadowIntensity],()=>{!function(){let t,e,a=.15;const i=(n.curTime-6)/12,s=.25*Math.PI*Math.sin(i*Math.PI);t=Math.PI/2-s,e=5+.5*Math.sin(i*Math.PI),a=Math.PI*(n.direct+i),y.setFromSphericalCoords(1,t,a),d.material.uniforms.sunPosition.value.copy(y),f.position.copy(y).multiplyScalar(400),f.intensity=e*n.intensity,f.shadow.intensity=n.shadowIntensity}()},{immediate:!0});const{renderer:M}=t();return M.toneMappingExposure=n.toneMappingExposure,M.toneMapping=n.toneMapping,(t,e)=>(p(),r(c,null,[m("primitive",{object:u(d)},null,8,h),m("primitive",{object:u(f)},null,8,l)],64))}});export{d as _};
