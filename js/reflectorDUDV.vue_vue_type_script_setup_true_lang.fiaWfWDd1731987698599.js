import{c0 as t,a3 as e,s as n,t as r}from"./three.3RwiW87x1731987698599.js";import{b as o}from"./@tresjs.juy9qkLz1731987698599.js";import{R as s,b as i}from"./all.three.rO0xEheM1731987698599.js";import{d as c,a6 as a,a3 as u,w as l,o as f,D as p,J as d,u as h}from"./@vue.-THQH3GC1731987698599.js";const m=I;!function(t,e){const n=I,r=j();for(;;)try{if(286851===-parseInt(n(328))/1+parseInt(n(307))/2*(parseInt(n(282))/3)+-parseInt(n(330))/4+-parseInt(n(334))/5*(parseInt(n(322))/6)+parseInt(n(294))/7*(-parseInt(n(275))/8)+-parseInt(n(302))/9+parseInt(n(331))/10*(parseInt(n(277))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const v=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[I(293)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){v(this,(function(){const t=I,e=new RegExp(t(304)),n=new RegExp(t(313),"i"),r=_(t(281));e[t(323)](r+t(272))&&n[t(323)](r+"input")?_():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[I(293)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=I;let e;try{e=Function(t(299)+t(318)+");")()}catch(o){e=window}const n=e[t(314)]=e[t(314)]||{},r=[t(317),"warn","info","error",t(278),t(295),t(298)];for(let s=0;s<r[t(288)];s++){const e=g.constructor[t(284)][t(300)](g),o=r[s],i=n[o]||e;e[t(333)]=g.bind(g),e[t(271)]=i[t(271)][t(300)](i),n[o]=e}}))();const w=["scale"],b=[m(309)],y=[m(309)];function j(){const t=["tReflectBlur","object","showGridHelper","TresGroup","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","onBeforeRender","size","log",'{}.constructor("return this")( )',"textureMatrixUniform","rotation","gger","674028voGtkm","test","set","while (true) {}","visible","value","54716gdnLDc","wrapT","348320iAxlJA","2816920UjFVAf","texture","__proto__","20zkqZIO","toString","chain","mapUrl","reflectivity","233768SWRoTz","string","55Ivnkli","exception","tReflect","add","init","33342DdOxkC","uReflectivity","prototype","forEach","stateObject","repeat","length","wrapS","uniforms","debu","isMesh","apply","14NMkPoJ","table","primitive","action","trace","return (function() ","bind","renderTargetUniform","4948353LpsaLm","renderTarget","function *\\( *\\)","counter","constructor","14XklSme"];return(j=function(){return t})()}function I(t,e){const n=j();return(I=function(t,e){return n[t-=271]})(t,e)}const x=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:v}){const g=m;let j,I;const x=c,_=new s,z=new t(x[g(316)][0]-.5,x[g(316)][1]);z[g(326)]=x.showGridHelper;const{map:R}=([j,I]=a((()=>o({map:x[g(273)]}))),j=await j,I(),j);R[g(289)]=e,R[g(329)]=e,R[g(287)][g(324)](6,3);const k=new i({map:R,reflectivity:x.reflectivity});k.uniforms[g(279)]={value:_[g(303)][g(332)]},k[g(290)][g(308)]=_[g(301)],k[g(290)].uMatrix=_[g(319)];const M=new n(new r(x.size[0],x.size[1]),k);return M[g(320)].x=-Math.PI/2,M[g(280)](_),M[g(315)]=(t,e,n)=>{const r=g;M[r(326)]=!1,x.ignoreObjects.forEach((t=>{const e=r;t.isMesh&&(t[e(326)]=!1),t[e(327)]&&t.value[e(292)]&&(t[e(327)].visible=!1)})),_.update(t,e,n),x.ignoreObjects[r(285)]((t=>{const e=r;t[e(292)]&&(t[e(326)]=!0),t.value&&t.value.isMesh&&(t[e(327)].visible=!0)})),M[r(326)]=!0},u((()=>{const t=g;x[t(274)]&&(k[t(290)][t(283)][t(327)]=x[t(274)])})),l((()=>x[g(310)]),(t=>{z.visible=t})),v({reflector:_}),(t,e)=>{const n=g;return f(),p(n(311),{scale:x.scale},[d(n(296),{object:h(M),"position-y":-.01},null,8,b),d(n(296),{object:h(z)},null,8,y)],8,w)}}});function _(t){function e(t){const n=I;if(typeof t===n(276))return function(t){}[n(306)](n(325)).apply(n(305));1!==(""+t/t)[n(288)]||t%20==0?function(){return!0}.constructor(n(291)+n(321))[n(312)](n(297)):function(){return!1}[n(306)](n(291)+"gger").apply(n(286)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
