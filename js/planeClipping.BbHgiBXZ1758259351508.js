import{m as e,k as a,a as o}from"./@tresjs.CywMBpUh1758259351508.js";import{_ as s}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.Dki-p6XX1758259351508.js";import"./@fesjs.uDzWZsaX1758259351508.js";import"./Resource.DDopQ4j61758259351508.js";/* empty css                                                                             */import{_ as t}from"./randomLoading.vue_vue_type_script_setup_true_lang.BVkzOk_B1758259351508.js";import"./three-mesh-ui.module.t9YwAzlx1758259351508.js";import"./global.DmBaWnKd1758259351508.js";/* empty css                                                              */import{h as r,V as i}from"./three.CtgP63ME1758259351508.js";import{_ as l}from"./cloudPoints.vue_vue_type_script_setup_true_lang.B6we2Ag51758259351508.js";import{P as n}from"./tweakpane.C0HtAJSg1758259351508.js";import{d as m,aa as p,G as c,o as u,F as d,I as _,j as f,u as j,r as g,v,a2 as h,h as b,f as y,e as w,a5 as C,a7 as S,a8 as k}from"./@vue.pEDXJ_3Z1758259351508.js";import"./postprocessing.DJgHFhS91758259351508.js";import"./@vueuse.C5HLo59K1758259351508.js";import"./vue-router.BT0ZZbwZ1758259351508.js";import"./lodash-es.C7pWAXPe1758259351508.js";import"./pinia.C_K98KJs1758259351508.js";import"./@qlin.q6OWdsQV1758259351508.js";import"./@babel.BPq7uOAK1758259351508.js";import"./@floating-ui.BFjFSAYt1758259351508.js";import"./@juggle.CcBCnTIR1758259351508.js";import"./starLoading.DFPZIqgM1758259351508.js";import"./utils.BQV0fxbj1758259351508.js";import"./cssLoaders.CQpM9kUP1758259351508.js";import"./bubbleLoading.DePR09OY1758259351508.js";import"./yangyangLoading.Dr1o3-z41758259351508.js";import"./color.BPoHtV0H1758259351508.js";import"./@amap.CGUF9xH41758259351508.js";import"./color-string.P-yvt9W21758259351508.js";import"./color-name.BQ5IbGbl1758259351508.js";import"./simple-swizzle.Xn8N6iLa1758259351508.js";import"./is-arrayish.CLsR9Wfx1758259351508.js";import"./color-convert.Btfsg-JE1758259351508.js";import"./lodash.Bo0I6nx61758259351508.js";const L=["object"],B=m({__name:"planeClipping",async setup(o){let s,t;const{renderer:m}=e();m.value.localClippingEnabled=!0;const{nodes:g}=([s,t]=p((()=>a("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf",{draco:!0,decoderPath:"./draco/"}))),s=await s,t(),s);console.log(g);g.Sketchfab_model.getObjectByName("Floor").removeFromParent();const v=g.Sketchfab_model.getObjectByName("Cube006_Avion_0");v.castShadow=!0;const h=[new r(new i(1,0,0),0),new r(new i(0,0,-1),0)];v.material.clipIntersection=!0,v.material.clippingPlanes=h;const b=g.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");b.material.clipIntersection=!0,b.material.clippingPlanes=h;const y=g.Sketchfab_model.getObjectByName("CS_Black_0"),w=new n({title:"裁剪参数",expanded:!0});return w.addBinding(h[0],"constant",{label:"x",min:-200,max:200,step:1}),w.addBinding(h[1],"constant",{label:"y",min:-200,max:250,step:1}),(e,a)=>(u(),c(d,null,[_("primitive",{object:j(g).Sketchfab_model},null,8,L),f(l,{isRemoveSrc:"",model:j(y),color:"#fff"},null,8,["model"])],64))}}),P=m({__name:"planeClipping",setup(e){const a=g({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),r=v();return h((()=>{r.value&&(r.value.shadow.mapSize.set(1e3,1e3),r.value.shadow.camera.near=.1,r.value.shadow.camera.far=5e3,r.value.shadow.camera.top=200,r.value.shadow.camera.right=200,r.value.shadow.camera.left=-200,r.value.shadow.camera.bottom=-200,r.value.shadow.radius=10)})),(e,i)=>{const l=b("TresCanvas");return u(),c(d,null,[f(j(t)),f(l,{clearColor:"#333",shadows:"","window-size":""},{default:y((()=>[i[0]||(i[0]=_("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),f(j(o)),i[1]||(i[1]=_("TresAmbientLight",{color:"#ffffff",intensity:"1"},null,-1)),_("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:r,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(u(),w(C,null,{default:y((()=>[f(B)])),_:1})),f(s,S(k(a)),null,16)])),_:1})],64)}}});export{P as default};
