import{c as t,B as n,r as e,c7 as r,C as o,V as s,a0 as i}from"./three.sQDbNBks1741583630766.js";import{w as c}from"./@fesjs.0Tn1apcA1741583630766.js";import{a}from"./@tresjs.ZmhvXhx31741583630766.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.uDwO1aPf1741583630766.js";function l(){const t=["exception","value","__proto__","bind","291yGCAmz","sub","while (true) {}","add","setY","push","computeBoundsTree","1617684YtvcYm","stateObject","reflectivity","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","28bEczFp","3414073mGdWTP","attributes","deleteAttribute","29030CmzsrP","162463nncNGA","getCenter","22RZNhJx","random","getX","call","catch","input","return (function() ","init","apply","705972ctSBmC","copy","console","getY","center","constructor","length","string","table","side","16SROBth","config","depthWrite","material","max","6evExyJ","getSize","434670RRyYot","toString","position","children","#fff","negate","set","boundingBox","counter","then","forEach","action","prototype","divideScalar","applyMatrix4","depthTest","trace","2788kmEYIh","geometry","setAttribute","Box3","computeBoundingBox","min","999NUjvwv","1yuZXXQ","json","uniforms","transparent","error"];return(l=function(){return t})()}!function(t,n){const e=g,r=l();for(;;)try{if(178256===parseInt(e(559))/1*(parseInt(e(518))/2)+parseInt(e(568))/3*(-parseInt(e(552))/4)+-parseInt(e(535))/5*(parseInt(e(533))/6)+parseInt(e(507))/7*(parseInt(e(528))/8)+parseInt(e(558))/9*(-parseInt(e(506))/10)+parseInt(e(509))/11*(-parseInt(e(497))/12)+parseInt(e(503))/13*(parseInt(e(502))/14))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(517)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=l();return(g=function(t,n){return e[t-=492]})(t,n)}!function(){m(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(501),"i"),r=j(t(516));n.test(r+"chain")&&e.test(r+t(514))?j():r("0")}))()}();const h=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();h(void 0,(function(){const t=g;let n;try{n=Function(t(515)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(520)]=n[t(520)]||{},r=["log","warn",t(500),t(563),t(564),t(526),t(551)];for(let s=0;s<r[t(524)];s++){const n=h[t(523)].prototype.bind(h),o=r[s],i=e[o]||n;n[t(566)]=h[t(567)](h),n[t(536)]=i.toString[t(567)](i),e[o]=n}}))();const y=(n,e=!1)=>{const r=g;n[r(556)]();const{max:o,min:s}=n[r(542)];n[r(505)]("uv");const i=o.x-s.x,c=o.y-s.y,a=[];for(let t=0;t<n[r(504)].position.count;t++)e?(a[r(495)]((n[r(504)][r(537)][r(511)](t)-(s.x+o.x)/2)/i),a[r(495)]((n[r(504)].position[r(521)](t)-(s.y+o.y)/2)/c)):(a[r(495)]((n.attributes.position[r(511)](t)-s.x)/i),a[r(495)]((n[r(504)].position[r(521)](t)-s.y)/c));const u=new Float32Array(a);n[r(554)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=g;c(t,{},{method:"get",mergeRequest:!0,responseType:o(560)})[o(544)]((t=>{n&&e(t[n]),e(t.features)}))[o(513)]((t=>{console.error(t),r(t)}))})),w=t=>{const n=g,e=(new(THREE[n(555)])).setFromObject(t),r=new THREE.Vector3;e.getCenter(r),t[n(538)][n(545)]((t=>{const e=n;t[e(537)][e(569)](r)})),t[n(537)][n(519)](r[n(540)]())},x=()=>{const t=g;n[t(547)][t(496)]=u,n.prototype.disposeBoundsTree=p,e[t(547)].raycast=f},b=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(553)].clone();y(c),c.computeBoundsTree();const u=new r(c,{color:new o(n(539)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(562)]=!0,u[n(531)][n(530)]=!0,u[n(531)][n(550)]=!0,u[n(531)][n(527)]=i,u.material.uniforms[n(529)][n(565)].w=20,u.material[n(561)][n(499)][n(565)]=.46,u};function I(t){const n=g,e=[];for(let o=0;o<t.length;o++)e[n(495)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e.length;o++)r[n(493)](e[o]);r[n(548)](e[n(524)]);for(let o=0;o<e.length;o++)e[o][n(569)](r);return{points:e,centerPoint:r}}function j(t){function n(t){const e=g;if(typeof t===e(525))return function(t){}[e(523)](e(492))[e(517)](e(543));1!==(""+t/t)[e(524)]||t%20==0?function(){return!0}[e(523)]("debugger")[e(512)](e(546)):function(){return!1}[e(523)]("debugger")[e(517)](e(498)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,I as g,x as i,d as l,y as r,b as s};
