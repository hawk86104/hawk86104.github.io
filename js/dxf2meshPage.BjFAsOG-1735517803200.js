import{k as t}from"./@tresjs.0qL_P2CE1735517803200.js";import{cE as n,_ as e,a$ as o,c0 as s,ak as r,am as i,aF as c,$ as a,s as u}from"./three.-uH5I3Xp1735517803200.js";import{P as p}from"./tweakpane.yHWGBmom1735517803200.js";import{a as l}from"./index.XYCai4YK1735517803200.js";import"./index.v7Vzkz4Z1735517803200.js";import{_ as f}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.6Mx9kAaj1735517803200.js";import{d,r as g,X as m,s as h,q as _,e as v,o as x,D as j,j as w,g as y,J as b,u as I,m as k,f as B,al as F,I as M}from"./@vue.-THQH3GC1735517803200.js";import{_ as S}from"./@fesjs.2Oz5LDgh1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";import"./three-stdlib.FziVs0a41735517803200.js";import"./@pmndrs.BOd_k6sG1735517803200.js";import"./object-hash.GI3HeqU11735517803200.js";import"./@amap.BJG0QnpR1735517803200.js";import"./jszip.zDIA5__a1735517803200.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.JRixMPUF1735517803200.js";import"./all.three.OiQSAkvz1735517803200.js";import"./oimophysics.x0jH7fze1735517803200.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.URx0ZSsr1735517803200.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.oa3EhEeG1735517803200.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.fQB5vwQY1735517803200.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.8RwjNc8I1735517803200.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.CDDe58kK1735517803200.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.lHclsgvR1735517803200.js";import"./vue-router.alj9m51K1735517803200.js";import"./lodash-es.kYt-_xTG1735517803200.js";import"./@qlin.yHhFDldE1735517803200.js";import"./pinia.7wRRlR_11735517803200.js";import"./vue-demi.C4xddsk91735517803200.js";import"./@floating-ui.BPbuo5Gx1735517803200.js";import"./@juggle.7yjBMqoW1735517803200.js";const A=D;!function(t,n){const e=D,o=C();for(;;)try{if(817359===parseInt(e(529))/1*(parseInt(e(516))/2)+-parseInt(e(554))/3+-parseInt(e(497))/4+-parseInt(e(513))/5*(-parseInt(e(538))/6)+-parseInt(e(556))/7+parseInt(e(534))/8*(parseInt(e(521))/9)+-parseInt(e(523))/10*(-parseInt(e(552))/11))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(501)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=C();return(D=function(t,n){return e[t-=497]})(t,n)}!function(){z(this,(function(){const t=D,n=new RegExp(t(532)),e=new RegExp(t(551),"i"),o=R(t(506));n[t(542)](o+t(504))&&e[t(542)](o+t(558))?R():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=D;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(s){n=window}const e=n[t(557)]=n.console||{},o=[t(500),t(539),t(526),t(548),t(507),t(550),"trace"];for(let r=0;r<o[t(530)];r++){const n=T[t(545)].prototype[t(503)](T),s=o[r],i=e[s]||n;n.__proto__=T[t(503)](T),n[t(519)]=i[t(519)][t(503)](i),e[s]=n}}))();class E{constructor(t){this[D(541)]=t}[A(522)](t,s,r){const i=A,c=(new n).parse(s),a=new(e[i(546)]);c[i(524)].forEach(((t,n)=>{const e=i;t[e(512)](!0)[e(517)](((t,o)=>{const s=e;0===n&&0===o?a[s(549)](t):a.holes[s(518)](t)}))}));const u=new(e[i(531)])(a,{depth:18,bevelEnabled:!1});u[i(560)]();const p=u[i(508)][i(527)](new(e[i(540)]))[i(536)]();u[i(553)](p.x,p.y,p.z),u.computeBoundingBox();const l=u.boundingBox[i(535)],f=u[i(508)][i(520)],d=new(e[i(563)])(0-f.x,0-f.y),g=new(e[i(563)])(l.x-f.x,l.y-f.y);u[i(514)].uv=new(e[i(509)])(new Float32Array(2*u[i(514)].position[i(562)]),2);for(let n=0;n<u[i(514)][i(565)][i(562)];n++){const t=u.attributes.position[i(555)](n),e=u[i(514)].position.getY(n);u[i(514)].uv[i(499)](n,(t+d.x)/g.x,(e+d.y)/g.y)}const m=new(e[i(510)])({map:null}),h=new(e[i(515)])(u,m);h[i(502)]=new(e[i(528)])({map:null,color:"#AFAFAD",roughness:1,metalness:.1,envMapIntensity:2.5}),h[i(525)]=!0,h.castShadow=!0,h.position.x=r,h.position.y=250;const _=new(e[i(533)])({color:0}),v=new(e[i(559)])(h[i(561)],1),x=new o(v,_);x.renderOrder=1,x[i(565)][i(549)](h[i(565)]),x[i(564)][i(549)](h[i(564)]),h[i(543)]=x,t[i(511)](h,h[i(543)])}}function C(){const t=["geometry","count","Vector2","rotation","position","4178812dINItN","while (true) {}","setXY","log","apply","material","bind","chain","gger","init","exception","boundingBox","BufferAttribute","MeshBasicMaterial","add","toShapes","450SYzoJk","attributes","Mesh","484458ohdOsv","forEach","push","toString","min","2529PAHUMV","drawImportSpecialBoard","30119680yXULDQ","paths","receiveShadow","info","getCenter","MeshStandardMaterial","1bJwUfm","length","ExtrudeGeometry","function *\\( *\\)","LineBasicMaterial","3800HbnGvF","max","negate","call","7668RVbkzL","warn","Vector3","name","test","mBoundingBox","debu","constructor","Shape","stateObject","error","copy","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","11NqQzRc","translate","4796835QLSAar","getX","291795xgAFFn","console","input","EdgesGeometry","computeBoundingBox"];return(C=function(){return t})()}function R(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(545)](e(498))[e(501)]("counter");1!==(""+t/t)[e(530)]||t%20==0?function(){return!0}[e(545)](e(544)+e(505))[e(537)]("action"):function(){return!1}[e(545)](e(544)+e(505))[e(501)](e(547)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=$;!function(t,n){const e=$,o=V();for(;;)try{if(417765===-parseInt(e(208))/1+parseInt(e(203))/2*(parseInt(e(191))/3)+parseInt(e(271))/4*(-parseInt(e(188))/5)+parseInt(e(244))/6*(parseInt(e(202))/7)+parseInt(e(262))/8*(-parseInt(e(224))/9)+parseInt(e(264))/10+parseInt(e(243))/11)break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(239)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=$,n=new RegExp(t(207)),e=new RegExp(t(220),"i"),o=U(t(217));n[t(233)](o+t(272))&&e[t(233)](o+t(257))?U():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(187)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(231)]=n.console||{},o=[t(237),t(254),t(273),t(229),t(181),"table","trace"];for(let s=0;s<o[t(228)];s++){const n=X[t(223)][t(200)][t(235)](X),r=o[s],i=e[r]||n;n[t(197)]=X.bind(X),n[t(248)]=i.toString.bind(i),e[r]=n}}))();const q={key:0,class:"dialogDiv"},L={class:G(196)};function V(){const t=["76vfBDwx","chain","info","svg-display","localFileReader","#ffffff","pen1"," 时出错","script","fileInput","open","addButton","exception","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","pos-y.jpg","counter","加载脚本 ","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","return (function() ","52030DzUPZj","_blank","#627179","13128tHgxPm","querySelector","createElement","div","remove","footBtn","__proto__","#82DBC5","TresMeshBasicMaterial","prototype","neg-x.jpg","77nFOjDj","300VWcXBW","boxMeshRef","call","onerror","function *\\( *\\)","534674jEEGML","TresAmbientLight","pos-z.jpg","gger","type","1000","dxf2svg","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","appendChild","init","button","click","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","onload","constructor","9NWaonf","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","xMidYMid meet","#776A8F","length","error","children","console","while (true) {}","test","10000","bind","TresBoxGeometry","log","pos-x.jpg","apply","dxf2meshPage","1.1","TresMesh","3591192oFfAXi","85416pdSepo","string","add","main-svg","toString","file","http://www.w3.org/2000/svg","then","#svg-display svg","outerHTML","warn","translate(50, 50)","text/javascript","input","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","dialogVisible","neg-z.jpg","115416vTPjYT","导入dxf","251120JgGaqq","加载脚本时出错","debu","TresGroup","初始化","#3a78a2","groupRef"];return(V=function(){return t})()}function $(t,n){const e=V();return($=function(t,n){return e[t-=178]})(t,n)}function U(t){function n(t){const e=$;if(typeof t===e(245))return function(t){}[e(223)](e(232))[e(239)](e(184));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(266)+e(211))[e(205)]("action"):function(){return!1}[e(223)]("debu"+e(211))[e(239)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=S(d({__name:G(240),setup(n){const e=G,o=g({dialogVisible:!1}),d={clearColor:e(198),shadows:!0,alpha:!1,shadowMapType:s,outputColorSpace:r,toneMapping:i},S=g({cellSize:60,cellThickness:1.1,cellColor:e(190),sectionColor:e(269),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let A=0;const z=m(),D=m(),T=new p;T[e(180)]({title:"下载测试文件1"}).on(e(219),(()=>{const t=e;window[t(179)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(189))})),T.addButton({title:"下载测试文件2"}).on(e(219),(()=>{const t=e;window[t(179)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(189))}));const C=T.addFolder({title:"远近"});function R(){const t=e,n=D[t(221)];o[t(260)]=!1;const s=document[t(192)](t(252));if(s){const e=s[t(253)];let o=new E;A+=1200,o.drawImportSpecialBoard(n,e,A)}}function P(t){return new Promise(((n,e)=>{const o=$,s=document[o(193)](o(279));s.src=t,s[o(212)]=o(256),s[o(222)]=()=>n(),s[o(206)]=()=>e(new Error(o(185)+t+o(278))),document.head[o(216)](s)}))}return C[e(180)]({title:e(263)}).on("click",(()=>{o.dialogVisible=!0,h((()=>{window[$(275)].init()}))})),C[e(180)]({title:e(268)}).on(e(219),(()=>{!function(){const t=e,n=new c(500,500,18),o=new a({color:"blue"}),s=new u(n,o),r=D[t(221)];for(;r.children[t(228)]>0;){const n=r[t(230)][0];r[t(195)](n)}r[t(246)](s)}()})),_((()=>{!function(){const t=e;P(t(259))[t(251)]((()=>P(t(186))))[t(251)]((()=>P(t(182))))[t(251)]((()=>P("plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js")))[t(251)]((()=>P(t(215))))[t(251)]((()=>P(t(225)))).catch((n=>console[t(229)](t(265),n)))}()})),(n,s)=>{const r=e,i=v("TresCanvas");return x(),j("div",null,[w(i,k(d,{"window-size":""}),{default:y((()=>[s[2]||(s[2]=b("TresPerspectiveCamera",{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),w(I(t),{"make-default":""}),s[3]||(s[3]=b("TresGridHelper",{position:[0,-1,0],size:r(213),divisions:r(234)},null,-1)),b(r(267),{ref_key:r(270),ref:D,position:[2,250,0]},[b(r(242),{ref_key:r(204),ref:z},s[1]||(s[1]=[b(r(236),{args:[500,500,18]},null,-1),b(r(199),{color:"blue"},null,-1)]),512)],512),s[4]||(s[4]=b(r(209),{color:r(276),intensity:1},null,-1)),s[5]||(s[5]=b("TresDirectionalLight",{color:r(276),position:[300,300,250],intensity:6},null,-1)),w(I(f),k({args:[3,3]},S,{position:[0,-.5,0]}),null,16),(x(),B(F,null,{default:y((()=>[w(I(l),{files:[r(238),r(201),r(183),"neg-y.jpg",r(210),r(261)],path:r(258)})])),_:1}))])),_:1},16),o[r(260)]?(x(),j("div",q,[s[6]||(s[6]=b(r(194),{id:r(274),class:"assembly",style:{}},[b("svg",{id:r(247),xmlns:r(250),"xmlns:svg":r(250),"xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",version:r(241),preserveAspectRatio:r(226)},[b("g",{id:r(214),class:r(277),"stroke-width":"6",fill:r(227),transform:r(255)})])],-1)),s[7]||(s[7]=b(r(194),{class:r(178)},[b(r(257),{id:"dxfFileInput",type:r(249)})],-1)),b(r(194),L,[b("button",{onClick:s[0]||(s[0]=t=>o[r(260)]=!1)},"取消"),b(r(218),{onClick:R},"确定")])])):M("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{Y as default};
