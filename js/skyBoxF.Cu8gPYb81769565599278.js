import{importShared as e}from"./3d-tiles-renderer.6uaxtGOi1769565599278.js";import{useTresContext as t,OrbitControls_default as r,Box_default as a}from"./index.CG-C7MIu1769565599278.js";import{HDRLoader as o}from"./HDRLoader.E3rI4xyf1769565599278.js";const{CubeTexture:n,DataTexture:s,FileLoader:i,FloatType:p,HalfFloatType:l,LinearFilter:d,LinearSRGBColorSpace:c,Loader:u}=await e("three");class h extends u{constructor(e){super(e),this.hdrLoader=new o,this.type=l}load(e,t,r,a){const o=new n;switch(o.type=this.type,o.type){case p:case l:o.colorSpace=c,o.minFilter=d,o.magFilter=d,o.generateMipmaps=!1}const u=this;let h=0;function m(t,r,a,n){new i(u.manager).setPath(u.path).setResponseType("arraybuffer").setWithCredentials(u.withCredentials).load(e[t],function(e){h++;const a=u.hdrLoader.parse(e);if(a){if(void 0!==a.data){const e=new s(a.data,a.width,a.height);e.type=o.type,e.colorSpace=o.colorSpace,e.format=o.format,e.minFilter=o.minFilter,e.magFilter=o.magFilter,e.generateMipmaps=o.generateMipmaps,o.images[t]=e}6===h&&(o.needsUpdate=!0,r&&r(o))}},a,n)}for(let n=0;n<e.length;n++)m(n,t,r,a);return o}setDataType(e){return this.type=e,this.hdrLoader.setDataType(e),this}}const{defineComponent:m}=await e("vue"),f=m({__name:"skyBoxFmesh",props:{texture:{}},setup(e){const r=e,{scene:a}=t(),o=(new h).setPath(r.texture).load(["px.hdr","nx.hdr","py.hdr","ny.hdr","pz.hdr","nz.hdr"]);return a.value.environment=o,a.value.background=o,(e,t)=>null}}),{defineComponent:g}=await e("vue"),{createElementVNode:y,unref:w,createVNode:x,Suspense:T,withCtx:F,openBlock:v,createBlock:C,resolveComponent:M,normalizeProps:S,guardReactiveProps:L}=await e("vue"),k=await e("three"),B=g({__name:"skyBoxF",setup(e){const t={clearColor:"#201919",windowSize:!0,toneMapping:k.ACESFilmicToneMapping,toneMappingExposure:.8};return(e,o)=>{const n=M("TresCanvas");return v(),C(n,S(L(t)),{default:F(()=>[o[0]||(o[0]=y("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e4,"look-at":[0,0,0]},null,-1)),x(w(r),{enableDamping:""}),x(w(a),{args:[3,3,3],color:"orange",position:[-13,0,1]}),o[1]||(o[1]=y("TresMesh",{position:[10,2,-4],"cast-shadow":""},[y("TresBoxGeometry",{args:[2,2,2]}),y("TresMeshNormalMaterial")],-1)),o[2]||(o[2]=y("TresMesh",{position:[0,0,0]},[y("TresTorusKnotGeometry",{args:[3,1,64,8,2,3]}),y("TresMeshStandardMaterial",{color:"#ffffff",metalness:1,roughness:.14})],-1)),(v(),C(T,null,{default:F(()=>[x(f,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/6hdr/"},null,8,["texture"])]),_:1}))]),_:1},16)}}});export{B as default};
