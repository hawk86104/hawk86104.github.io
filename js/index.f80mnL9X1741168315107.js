var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.kCBCfqMq1741168315107.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.3Qut_-XR1741168315107.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.szIQGpVs1741168315107.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,_ as v,b as x,Q as m}from"./three.FxqAALWt1741168315107.js";import{m as w,e as h}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{u as g}from"./index.kxnBajYY1741168315107.js";import{F as d,C as y}from"./three-stdlib.dTHRtr7H1741168315107.js";import{d as S}from"./@vue.NRI7TcgI1741168315107.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.7IrD6muy1741168315107.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.0K-eyQD01741168315107.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.wPt8KkDb1741168315107.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.5i3AigwW1741168315107.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.RBLRdAhu1741168315107.js";const P=b;!function(t,e){const n=b,r=z();for(;;)try{if(282250===-parseInt(n(509))/1+-parseInt(n(511))/2*(-parseInt(n(491))/3)+parseInt(n(521))/4*(-parseInt(n(498))/5)+parseInt(n(516))/6*(-parseInt(n(487))/7)+parseInt(n(483))/8*(-parseInt(n(485))/9)+-parseInt(n(489))/10+parseInt(n(492))/11)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const _=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function z(){const t=["736jfCNXK","__proto__","function *\\( *\\)","call","counter","290340Kcshcr","constructor","bind","return (function() ","debu","226396MoMEdi","16vJQzoU","error","1345824TSXejy","while (true) {}","35MLeSQY","apply","2072550luXOyb",'{}.constructor("return this")( )',"2463eEnAWl","17424924jdcGUh","toString","console","input","gger","warn","40aQAWwP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","stateObject","log","exception","info","prototype","chain","action","length","402893QpqVDf",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n'];return(z=function(){return t})()}function b(t,e){const n=z();return(b=function(t,e){return n[t-=483]})(t,e)}!function(){_(this,(function(){const t=b,e=new RegExp(t(513)),n=new RegExp(t(499),"i"),r=M("init");e.test(r+t(506))&&n.test(r+t(495))?M():r("0")}))()}();const I=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[b(488)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=b;let e;try{e=Function(t(519)+t(490)+");")()}catch(i){e=window}const n=e[t(494)]=e[t(494)]||{},r=[t(502),t(497),t(504),t(484),t(503),t(500),"trace"];for(let a=0;a<r[t(508)];a++){const e=I[t(517)][t(505)][t(518)](I),i=r[a],o=n[i]||e;e[t(512)]=I[t(518)](I),e[t(493)]=o[t(493)][t(518)](o),n[i]=e}}))();const E=P(510);function M(t){function e(t){const n=b;if("string"==typeof t)return function(t){}.constructor(n(486))[n(488)](n(515));1!==(""+t/t)[n(508)]||t%20==0?function(){return!0}[n(517)](n(520)+n(496))[n(514)](n(507)):function(){return!1}.constructor("debu"+n(496)).apply(n(501)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function A(t,e){const n=U();return(A=function(t,e){return n[t-=226]})(t,e)}const D=A;!function(t,e){const n=A,r=U();for(;;)try{if(118454===parseInt(n(250))/1*(-parseInt(n(230))/2)+parseInt(n(239))/3*(-parseInt(n(231))/4)+-parseInt(n(256))/5+-parseInt(n(255))/6+parseInt(n(240))/7*(parseInt(n(245))/8)+parseInt(n(229))/9+-parseInt(n(226))/10*(-parseInt(n(249))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[A(227)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function U(){const t=["30884EwzFrO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","input","bind","debu","uniforms","constructor","9Nhjxvm","483007JWlfkq","length","trace","info","warn","8NSiYbP","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","test","action","2167ifOPsp","3539eOWggs","gger","init","table","error","893808ssdTDd","274765AqmQRk","log","exception","clone","call","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t",'{}.constructor("return this")( )',"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","toString","defines","counter","13550rnaNbC","apply","return (function() ","277524wGmKEl","12YBRJFm"];return(U=function(){return t})()}!function(){L(this,(function(){const t=A,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(232),"i"),r=V(t(252));e[t(247)](r+"chain")&&n[t(247)](r+t(234))?V():r("0")}))()}();const T=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[A(227)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function j(t){const e=A,n=a({},t);return e(265)in t&&(n[e(265)]=a({},t[e(265)])),e(237)in t&&(n[e(237)]=s[e(259)](t[e(237)])),n}T(void 0,(function(){const t=A,e=function(){const t=A;let e;try{e=Function(t(228)+t(262)+");")()}catch(n){e=window}return e}(),n=e.console=e.console||{},r=[t(257),t(244),t(243),t(254),t(258),t(253),t(242)];for(let i=0;i<r[t(241)];i++){const e=T.constructor.prototype[t(235)](T),a=r[i],o=n[a]||e;e[t(233)]=T.bind(T),e.toString=o[t(264)][t(235)](o),n[a]=e}}))();const O={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:D(263),fragmentShader:D(261)+E+D(246)};function V(t){function e(t){const n=A;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[n(227)](n(266));1!==(""+t/t)[n(241)]||t%20==0?function(){return!0}[n(238)](n(236)+"gger")[n(260)](n(248)):function(){return!1}[n(238)]("debu"+n(251))[n(227)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=C;!function(t,e){const n=C,r=N();for(;;)try{if(537543===parseInt(n(286))/1+-parseInt(n(236))/2+-parseInt(n(296))/3*(parseInt(n(276))/4)+-parseInt(n(297))/5+parseInt(n(304))/6+-parseInt(n(267))/7*(parseInt(n(284))/8)+parseInt(n(264))/9)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const W=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(305)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=C,e=new RegExp(t(289)),n=new RegExp(t(243),"i"),r=X(t(265));e[t(283)](r+t(285))&&n[t(283)](r+t(311))?X():r("0")}))()}();const k=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(305)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function C(t,e){const n=N();return(C=function(t,e){return n[t-=235]})(t,e)}function N(){const t=["material",'{}.constructor("return this")( )',"_swapTarget","table","constructor","width","exception","error","15842304ufGVhS","init","getClearAlpha","4365424TOlBpy","length","setViewOffset","setClearColor","_copyQuad","isWebGLRenderTarget","floorPowerOfTwo","clear","type","68XIVjlt","while (true) {}","Y_IS_EVEN","render","height","texture","action","test","8VefQEr","chain","88641kWsDch","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","debu","function *\\( *\\)","update","originalMapSize","bind","__proto__","toString","image","83883BTawoS","1708750ONkXyd","counter","parentMapSize","trace","setRenderTarget","uniforms","X_IS_EVEN","3755688KZIzJH","apply","minFilter","fragmentShader","setSize","_mipMaterials","map","input","camera","floor","993166dYNSdX","return (function() ","stateObject","_mipQuad","getRenderTarget","tDiffuse","forEach","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","set","string","value","autoClear","warn","magFilter","defines","prototype","console","gger","dispose","replace"];return(N=function(){return t})()}k(void 0,(function(){const t=C;let e;try{e=Function(t(237)+t(257)+");")()}catch(i){e=window}const n=e[t(252)]=e[t(252)]||{},r=["log",t(248),"info",t(263),t(262),t(259),t(300)];for(let a=0;a<r[t(268)];a++){const e=k[t(260)][t(251)][t(292)](k),i=r[a],o=n[i]||e;e[t(293)]=k[t(292)](k),e[t(294)]=o[t(294)][t(292)](o),n[i]=e}}))();const Q=new l;class F{constructor(t){const e=C;!t&&(t=e(287));const n=j(O);n[e(307)]=n.fragmentShader[e(255)](/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(j(n)),r[0][e(250)][e(303)]=0,r[0][e(250)].Y_IS_EVEN=0,r[1]=new c(j(n)),r[1].defines[e(303)]=1,r[1][e(250)][e(278)]=0,r[2]=new c(j(n)),r[2][e(250)][e(303)]=0,r[2].defines[e(278)]=1,r[3]=new c(j(n)),r[3][e(250)][e(303)]=1,r[3].defines[e(278)]=1;const i=new u;i[e(281)][e(306)]=p,i.texture[e(249)]=p,this[e(258)]=i,this[e(271)]=new d(new c(y)),this[e(239)]=new d(null),this[e(309)]=r}[R(290)](t,e,n,r=!1){const i=R;t[i(272)]&&(t=t[i(281)]);const o=n[i(247)],s=n[i(266)](),l=n[i(240)]();n.getClearColor(Q);const c=this[i(271)],u=this._mipQuad,p=this[i(258)],v=this[i(309)];let x,m;r?(x=f[i(273)](t[i(295)][i(261)]),m=f.floorPowerOfTwo(t[i(295)][i(280)])):(x=Math.floor(t[i(295)][i(261)]),m=Math[i(235)](t[i(295)].height));const w=Math[i(235)](1.5*x),h=Math.floor(m);e[i(308)](w,h),p[i(281)][i(275)]!==e[i(281)][i(275)]?(p[i(254)](),p.copy(e),p[i(281)][i(295)]=a({},p[i(281)][i(295)])):p[i(308)](w,h),n.autoClear=!1,n.setClearColor(0),n.setClearAlpha(),c[i(256)].uniforms[i(241)].value=t,c[i(312)][i(269)](x,m,0,0,w,h),n[i(301)](e),n[i(274)](),c[i(279)](n),n.setRenderTarget(p),n[i(274)](),c.render(n);let g=x,d=m,y=0;for(;g>1&&d>1;){const t=v[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[i(310)].value=p.texture,t.uniforms.parentLevel[i(246)]=y,t[i(302)][i(299)][i(246)][i(244)](g,d),t.uniforms[i(291)].value[i(244)](x,m),u[i(256)]=t,g=Math[i(235)](g/2),d=Math[i(235)](d/2);const r=h-2*d;n[i(301)](e),u[i(312)][i(269)](g,d,-x,-r,w,h),u[i(279)](n),n[i(301)](p),t[i(302)][i(310)][i(246)]=e[i(281)],u[i(279)](n),y++}return n.setRenderTarget(l),n.setClearAlpha(s),n[i(270)](Q),n[i(247)]=o,y+1}[R(254)](){const t=R;this[t(258)][t(254)](),this[t(239)][t(254)](),this._copyQuad[t(254)](),this[t(309)][t(242)]((e=>e[t(254)]()))}}function X(t){function e(t){const n=C;if(typeof t===n(245))return function(t){}.constructor(n(277))[n(305)](n(298));1!==(""+t/t)[n(268)]||t%20==0?function(){return!0}.constructor(n(288)+n(253)).call(n(282)):function(){return!1}[n(260)]("debugger")[n(305)](n(238)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const H=$;function G(){const t=["log","length","16150500PESmwb","getWorldPosition","3913316vXaXoT","Vector4","forEach","constant","matrixWorldInverse","debu","lookAt","clone","texture","__proto__","add","matrixWorld","while (true) {}","UnsignedByteType","reflectorMipMap","state","getWorldQuaternion","visible","stateObject","5IIxBjM","normal","table","2727978Vrlrsx","negate","set","function *\\( *\\)","buffers","chain","sub","test","Plane","setRenderTarget","setMask","console","reflect","depth","multiply","parent","gger","value","elements","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","resolution","constructor",'{}.constructor("return this")( )',"toString","354856KvEvvs","trace","Vector3","getRenderTarget","copy","apply","warn","string","Matrix4","clear","2082248yNvNrh","applyQuaternion","return (function() ","render","Quaternion","position","applyMatrix4","ignoreObjects","21LfwuWf","update","autoClear","multiplyScalar","exception","PerspectiveCamera","action","counter","bind","sign","2312282sWFuUQ","input","940114aXXpov","projectPoint"];return(G=function(){return t})()}!function(t,e){const n=$,r=G();for(;;)try{if(982109===-parseInt(n(337))/1+parseInt(n(307))/2*(parseInt(n(325))/3)+-parseInt(n(343))/4+-parseInt(n(280))/5*(-parseInt(n(283))/6)+-parseInt(n(335))/7+-parseInt(n(317))/8+parseInt(n(341))/9)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const Z=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[$(312)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=$,e=new RegExp(t(286)),n=new RegExp(t(302),"i"),r=B("init");e[t(290)](r+t(288))&&n[t(290)](r+t(336))?B():r("0")}))()}();const Y=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[$(312)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function $(t,e){const n=G();return($=function(t,e){return n[t-=272]})(t,e)}Y(void 0,(function(){const t=$;let e;try{e=Function(t(319)+t(305)+");")()}catch(i){e=window}const n=e[t(294)]=e[t(294)]||{},r=[t(339),t(313),"info","error",t(329),t(282),t(308)];for(let a=0;a<r[t(340)];a++){const e=Y[t(304)].prototype.bind(Y),i=r[a],o=n[i]||e;e[t(352)]=Y[t(333)](Y),e[t(306)]=o[t(306)].bind(o),n[i]=e}}))();const J=S({__name:H(275),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=H,r=t,i=new(v[n(291)]),a=new(v[n(315)]),o=new(v[n(330)]),s=new F,l=g({width:r[n(303)],height:r[n(303)],settings:{type:v[n(274)]}}),c=g({width:r[n(303)],height:r[n(303)],settings:{type:v[n(274)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:d}=h();return d((()=>{const t=n;(()=>{const t=n;if(!u[t(300)])return;i[t(285)](new(v[t(309)])(0,1,0),0),i[t(323)](r[t(298)][t(272)]),o.copy(u[t(300)]);const e=new x(0,0,1)[t(350)]()[t(284)](),s=u[t(300)][t(342)](new(v[t(309)]));e.reflect(i[t(281)]);const c=new(v[t(309)]);i[t(338)](s,c);const w=c.clone();w[t(289)](s),w.add(c),o[t(322)].copy(w);const h=new(v[t(309)])(0,0,-1);h[t(318)](u[t(300)].getWorldQuaternion(new(v[t(321)]))),h[t(353)](s);const g=new x;r.parent[t(342)](g),g[t(289)](h),g[t(295)](i[t(281)]).negate(),g[t(353)](r.parent.getWorldPosition(new(v[t(309)]))),o.up[t(285)](0,1,0),o[t(318)](u[t(300)][t(277)](new m)),o.up[t(295)](i[t(281)]),o[t(349)](g),o.updateMatrixWorld();const d=new(v[t(315)]);d[t(285)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(297)](o.projectionMatrix),d[t(297)](o[t(347)]),a[t(311)](d),i[t(323)](o[t(347)]);const y=new(v[t(344)])(i.normal.x,i[t(281)].y,i[t(281)].z,i[t(346)]),S=o.projectionMatrix,P=new(v[t(344)]);P.x=(Math.sign(y.x)+S[t(301)][8])/S[t(301)][0],P.y=(Math[t(334)](y.y)+S[t(301)][9])/S[t(301)][5],P.z=-1,P.w=(1+S[t(301)][10])/S[t(301)][14],y[t(328)](2/y.dot(P)),S[t(301)][2]=y.x,S.elements[6]=y.y,S.elements[10]=y.z+1,S.elements[14]=y.w;const _=p[t(300)][t(310)]();p[t(300)].setRenderTarget(l.value),p[t(300)][t(276)][t(287)][t(296)][t(293)](!0),!1===p[t(300)][t(327)]&&p[t(300)][t(316)](),r[t(324)].forEach((e=>e[t(278)]=!1)),p.value[t(320)](f[t(300)],o),r[t(324)][t(345)]((t=>t.visible=!0)),p[t(300)][t(292)](_)})(),l[t(300)]&&c[t(300)]&&p[t(300)]&&s[t(326)](l.value[t(351)],c[t(300)],p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=$;if(typeof t===n(314))return function(t){}.constructor(n(273))[n(312)](n(332));1!==(""+t/t)[n(340)]||t%20==0?function(){return!0}.constructor(n(348)+"gger").call(n(331)):function(){return!1}[n(304)](n(348)+n(299))[n(312)](n(279)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function q(t,e){var n=et();return(q=function(t,e){return n[t-=364]})(t,e)}!function(t,e){for(var n=q,r=et();;)try{if(852379===-parseInt(n(377))/1+parseInt(n(391))/2*(parseInt(n(398))/3)+parseInt(n(385))/4*(parseInt(n(394))/5)+-parseInt(n(386))/6*(-parseInt(n(389))/7)+parseInt(n(395))/8*(-parseInt(n(374))/9)+parseInt(n(384))/10+parseInt(n(396))/11*(-parseInt(n(373))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var K=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){var t=q,e=new RegExp(t(382)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=nt(t(388));e[t(399)](r+t(366))&&n.test(r+t(375))?nt():r("0")}))()}();var tt=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[q(372)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function et(){var t=["trace","call","return (function() ","warn","function *\\( *\\)","toString","4330580ETJnMH","5660180HAMaud","12LJQbPJ","string","init","3982258GutLvU","counter","958RnnRsP","action",'{}.constructor("return this")( )',"5szXjZd","8PCxMYw","12892GoGDlk","console","6201uZCqDM","test","prototype","stateObject","while (true) {}","length","log","chain","gger","exception","debu","constructor","bind","apply","27684qrlGiP","1143837bOZQJl","input","error","292708AHlVFG"];return(et=function(){return t})()}function nt(t){function e(t){var n=q;if(typeof t===n(387))return function(t){}[n(370)](n(402))[n(372)](n(390));1!==(""+t/t).length||t%20==0?function(){return!0}[n(370)](n(369)+n(367))[n(379)](n(392)):function(){return!1}[n(370)](n(369)+"gger")[n(372)](n(401)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=q,e=function(){var t,e=q;try{t=Function(e(380)+e(393)+");")()}catch(n){t=window}return t}(),n=e.console=e[t(397)]||{},r=[t(365),t(381),"info",t(376),t(368),"table",t(378)],i=0;i<r[t(364)];i++){var a=tt[t(370)][t(400)][t(371)](tt),o=r[i],s=n[o]||a;a.__proto__=tt[t(371)](tt),a[t(383)]=s[t(383)].bind(s),n[o]=a}}))();export{J as _};
