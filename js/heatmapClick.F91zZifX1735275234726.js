import{a as t,U as n}from"./@tresjs.fCqPNEAw1735275234726.js";import{P as e}from"./tweakpane.yHWGBmom1735275234726.js";import{_ as r,a0 as o,ak as a,al as s}from"./three.jpi2UCEx1735275234726.js";import{_ as i}from"./heatmap.js-fix.PWhjb2_L1735275234726.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as v,J as y,j as b,al as w,aj as x,ak as _,m as I}from"./@vue.u2cBPEWn1735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";import"./@amap.Ndko9EDY1735275234726.js";const j=C;function C(t,n){const e=k();return(C=function(t,n){return e[t-=135]})(t,n)}!function(t,n){const e=C,r=k();for(;;)try{if(722928===parseInt(e(206))/1*(-parseInt(e(170))/2)+-parseInt(e(198))/3+parseInt(e(141))/4+parseInt(e(185))/5*(-parseInt(e(178))/6)+parseInt(e(136))/7+parseInt(e(155))/8+parseInt(e(187))/9*(parseInt(e(188))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(143)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){A(this,(function(){const t=C,n=new RegExp(t(184)),e=new RegExp(t(203),"i"),r=B(t(179));n[t(138)](r+"chain")&&e[t(138)](r+t(204))?B():r("0")}))()}();const M=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(143)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function k(){const t=["appendChild","8862732hpiiKA","20ZtyHTh","push","while (true) {}","Texture","1px solid #5384ff","primitive","boundingBox","border","return (function() ","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","2625720KPqRDB","left","call","computeBoundingBox","mesh_0","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","radius","2HdMtTD","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","block","count","log","layerY","2234561XIJTva","top","test","toString","gger","1129944vlRPQo","heatmap-canvas","apply","__proto__","BufferAttribute","deleteAttribute","setScalar","attributes","length","ShaderMaterial","addData","40px","string","debu","3868320DAWEdX",'{}.constructor("return this")( )',"onclick","position","material","needsUpdate","none","constructor","info","getX","display","style","setDataMax","prototype","canvas","110650KenMiF","./draco/","object","stateObject","warn","console","layerX","scale","8075562PDOUTE","init","trace","geometry","bind","show2dCanvas","function *\\( *\\)","5pnsFAe"];return(k=function(){return t})()}M(void 0,(function(){const t=C;let n;try{n=Function(t(196)+t(156)+");")()}catch(o){n=window}const e=n[t(175)]=n[t(175)]||{},r=[t(210),t(174),t(163),"error","exception","table",t(180)];for(let a=0;a<r[t(149)];a++){const n=M[t(162)][t(168)][t(182)](M),o=r[a],s=e[o]||n;n[t(144)]=M[t(182)](M),n[t(139)]=s[t(139)][t(182)](s),e[o]=n}}))();const D=[j(172)],T=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(197),{draco:!0,decoderPath:e(171)}))),a=await a,s(),a);h[e(202)].position.set(-5088.96,-3.08,39374.7),h[e(202)][e(177)][e(147)](.01);let m=null,g=null,v=null;g=new(r[e(191)])((()=>{const t=e;return v=document.createElement(t(142)),v[t(166)][t(158)]="absolute",v[t(166)][t(137)]=t(152),v.style[t(199)]="0",document.body[t(186)](v),m=i.create({container:v,width:256,height:256,blur:"0.8",radius:c.radius}),m._renderer.canvas[t(166)][t(195)]=t(192),m._renderer.canvas[t(157)]=function(n){const e=t;m[e(151)]({x:n[e(176)],y:n[e(135)],value:1,radius:c[e(205)]}),m[e(167)](1),g&&(g[e(160)]=!0)},m})()._renderer[e(169)]);const y={vertexShader:e(207),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o},b=new(r[e(150)])(y);h[e(202)][e(159)]=b;return(t=>{const n=e;t[n(201)]();const{max:o,min:a}=t[n(194)];t[n(146)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(148)][n(158)][n(209)];e++)c[n(189)]((t[n(148)].position[n(164)](e)-a.x)/s),c[n(189)]((t[n(148)][n(158)].getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(r[n(145)])(u,2))})(h[e(202)][e(181)]),l((()=>{const t=e;v.style[t(165)]=""+(c[t(183)]?t(208):t(161))})),(t,n)=>{const r=e;return p(),f(r(193),{object:d(h).mesh_0},null,8,D)}}});function B(t){function n(t){const e=C;if(typeof t===e(153))return function(t){}[e(162)](e(190))[e(143)]("counter");1!==(""+t/t)[e(149)]||t%20==0?function(){return!0}[e(162)](e(154)+e(140))[e(200)]("action"):function(){return!1}[e(162)](e(154)+e(140))[e(143)](e(173)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function R(t,n){const e=F();return(R=function(t,n){return e[t-=235]})(t,n)}!function(t,n){const e=R,r=F();for(;;)try{if(790721===parseInt(e(249))/1*(parseInt(e(261))/2)+-parseInt(e(243))/3*(parseInt(e(271))/4)+-parseInt(e(253))/5+-parseInt(e(244))/6+-parseInt(e(270))/7*(parseInt(e(266))/8)+parseInt(e(256))/9*(parseInt(e(254))/10)+parseInt(e(239))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(269)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=R,n=new RegExp(t(255)),e=new RegExp(t(237),"i"),r=z(t(278));n[t(262)](r+"chain")&&e[t(262)](r+t(250))?z():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(269)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(){const t=["addButton","init","table","#ffffff","#030311","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","45418978RZRcoG","return (function() ","TresGridHelper","TresPerspectiveCamera","2981928nEyfuF","7965030LmWFuQ","trace","radius","stateObject","__proto__","91dASDlM","input","show2dCanvas","info","455305VBetiV","16270kKhIrQ","function *\\( *\\)","1611OjmPeE","string","length","点击左侧蓝色画框","prototype","1262LkFufv","test","toString","addBinding","debu","8itPMfx","console","TresCanvas","apply","8920723axUdsC","4osSNbp","error","action","bind","while (true) {}","constructor"];return(F=function(){return t})()}E(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(240)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(267)]=n[t(267)]||{},r=["log",t(238),t(252),t(272),"exception",t(279),t(245)];for(let o=0;o<r[t(258)];o++){const n=E.constructor[t(260)][t(274)](E),a=r[o],s=e[a]||n;n[t(248)]=E.bind(E),n[t(263)]=s[t(263)][t(274)](s),e[a]=n}}))();const P=c({__name:"heatmapClick",setup(t){const r=R,o={clearColor:r(236),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[r(264)](i,r(251),{label:"显示二维图"}),c.addBinding(i,r(246),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[r(277)]({title:r(259)}),(t,e)=>{const a=r,s=m(a(268));return p(),g(s,I(o,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(242),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y("TresDirectionalLight",{position:[5,10,7.5],color:a(235),intensity:5},null,-1)),e[2]||(e[2]=y(a(241),{args:[50,25]},null,-1)),(p(),g(w,null,{default:v((()=>[b(T,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function z(t){function n(t){const e=R;if(typeof t===e(257))return function(t){}.constructor(e(275)).apply("counter");1!==(""+t/t)[e(258)]||t%20==0?function(){return!0}[e(276)](e(265)+"gger").call(e(273)):function(){return!1}[e(276)]("debugger")[e(269)](e(247)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{P as default};
