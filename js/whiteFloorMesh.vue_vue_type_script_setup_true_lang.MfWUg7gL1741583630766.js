import{_ as t,bO as n,bV as o}from"./three.sQDbNBks1741583630766.js";import{a as r}from"./@tresjs.ZmhvXhx31741583630766.js";import{d as e,b as a,a3 as s,w as c,o as i,H as u,N as f,aj as l,ak as p}from"./@vue.NRI7TcgI1741583630766.js";!function(t,n){const o=w,r=_();for(;;)try{if(371867===parseInt(o(234))/1*(parseInt(o(232))/2)+-parseInt(o(238))/3+parseInt(o(244))/4+-parseInt(o(245))/5+-parseInt(o(271))/6*(-parseInt(o(276))/7)+parseInt(o(257))/8+-parseInt(o(239))/9*(parseInt(o(261))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[w(254)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=w,n=new RegExp(t(255)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=v("init");n[t(233)](r+t(256))&&o.test(r+t(237))?v():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();d(void 0,(function(){const t=w;let n;try{n=Function(t(266)+t(236)+");")()}catch(e){n=window}const o=n[t(240)]=n.console||{},r=[t(269),t(243),"info",t(278),"exception",t(259),"trace"];for(let a=0;a<r.length;a++){const n=d[t(248)][t(265)][t(263)](d),e=r[a],s=o[e]||n;n[t(277)]=d.bind(d),n[t(274)]=s[t(274)][t(263)](s),o[e]=n}}))();const g=()=>{const o=w;return o(273)+t[o(242)].common+o(253)+n.bsdfs+o(253)+t[o(242)][o(258)]+"\n       void main() {\n\t\t\t\t\t"+t[o(242)][o(267)]+"\n          "+t[o(242)][o(268)]+o(251)+n[o(231)]+o(251)+n.project_vertex+o(251)+t[o(242)][o(235)]+o(251)+n[o(260)]+o(264)},m=()=>{const o=w;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[o(242)][o(241)]+o(250)+t[o(242)][o(279)]+o(250)+t[o(242)][o(272)]+o(250)+t[o(242)][o(230)]+"\n\t "+n[o(246)]+o(250)+n.shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function v(t){function n(t){const o=w;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[o(254)](o(247));1!==(""+t/t)[o(252)]||t%20==0?function(){return!0}[o(248)](o(270)+o(262))[o(275)](o(249)):function(){return!1}[o(248)](o(270)+"gger")[o(254)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function w(t,n){const o=_();return(w=function(t,n){return o[t-=230]})(t,n)}function _(){const t=["348287iYSsft","worldpos_vertex",'{}.constructor("return this")( )',"input","685131PtzoRi","4165551FqmYFp","console","common","ShaderChunk","warn","2360672GMWlUn","1706190YPmCbx","shadowmap_pars_fragment","counter","constructor","action","\n\t ","\n          ","length","\n      \t","apply","function *\\( *\\)","chain","4860296EMoEoT","shadowmap_pars_vertex","table","shadowmap_vertex","20UbcRzD","gger","bind","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","prototype","return (function() ","beginnormal_vertex","defaultnormal_vertex","log","debu","120438LvIhig","bsdfs","\n       varying vec2 vUv;\n\t\t\t \t","toString","call","112AdMUkq","__proto__","error","packing","lights_pars_begin","begin_vertex","2ClnJgb","test"];return(_=function(){return t})()}const b=U;!function(t,n){const o=U,r=y();for(;;)try{if(249242===parseInt(o(467))/1+-parseInt(o(445))/2*(parseInt(o(448))/3)+-parseInt(o(464))/4*(parseInt(o(490))/5)+-parseInt(o(465))/6+-parseInt(o(488))/7*(parseInt(o(454))/8)+parseInt(o(447))/9*(-parseInt(o(436))/10)+-parseInt(o(471))/11*(-parseInt(o(476))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(472),"i"),r=E(t(452));n[t(475)](r+t(458))&&o.test(r+"input")?E():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[U(463)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function y(){const t=["call","2960DcXoOa","table","wrapS","whiteFloorMesh","TresMesh","871330WbGhpk","wrapT","counter","Color","return (function() ","args","toString","stateObject","bind","2NVRgbO","warn","18RAWLHy","603219vUGjbE","error","RepeatWrapping","fEdge","init","#990","624fpLHLH","console","log","TresShaderMaterial","chain","merge","shadowColor","info","uColor","apply","1016PZRzaU","2351388fbtjWp","lights","464487vPUzhE","debu","constructor","tmRef","1609806eIJGWq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","UniformsUtils","gger","test","84drvAdl","uniforms","edge","exception","action","DoubleSide","prototype","color","size","rotation-x","length","value","28903iuIouJ"];return(y=function(){return t})()}I(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(440)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(455)]=n[t(455)]||{},r=[t(456),t(446),t(461),t(449),t(479),t(491),"trace"];for(let e=0;e<r[t(486)];e++){const n=I[t(469)][t(482)][t(444)](I),a=r[e],s=o[a]||n;n.__proto__=I.bind(I),n[t(442)]=s.toString[t(444)](s),o[a]=n}}))();const S=[b(485)],C=[b(441)];function U(t,n){const o=y();return(U=function(t,n){return o[t-=433]})(t,n)}const j=e({__name:b(434),props:{size:{default:[20,20]},color:{default:b(453)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(n){const e=b;let h,d;const v=n,w=a(),{map:_}=([h,d]=s((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(433)]=_[e(437)]=t[e(450)];const x={uniforms:t[e(473)][e(459)]([o[e(466)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(439)])(v[e(483)])},uShadowColor:{value:new(t[e(439)])(v[e(460)])},fEdge:{type:"f",value:v[e(478)]}}]),side:t[e(481)],vertexShader:g(),fragmentShader:m(),lights:!0,transparent:!0};return c((()=>v[e(478)]),(t=>{const n=e;x.uniforms[n(451)][n(487)]=t})),c((()=>v.color),(n=>{const o=e;x[o(477)][o(462)][o(487)]=new(t[o(439)])(v[o(483)])})),c((()=>v[e(460)]),(n=>{const o=e;x[o(477)].uShadowColor[o(487)]=new(t[o(439)])(v[o(460)])})),(t,n)=>{const o=e;return i(),u(o(435),{ref_key:o(470),ref:w,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:v[o(484)]},null,8,C),f(o(457),l(p(x)),null,16)],8,S)}}});function E(t){function n(t){const o=U;if("string"==typeof t)return function(t){}[o(469)]("while (true) {}")[o(463)](o(438));1!==(""+t/t)[o(486)]||t%20==0?function(){return!0}.constructor("debu"+o(474))[o(489)](o(480)):function(){return!1}[o(469)](o(468)+"gger")[o(463)](o(443)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
