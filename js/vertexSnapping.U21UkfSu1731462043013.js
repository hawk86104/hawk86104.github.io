import{_ as t,ai as n}from"./three.wKRaqyB-1731462043013.js";import{a as o,U as i,c as e}from"./@tresjs.xlnLF3O61731462043013.js";import{a as r,b as s}from"./index.R1BN6iSd1731462043013.js";import{P as u}from"./tweakpane.yHWGBmom1731462043013.js";import{d as c,a0 as a,w as p,o as l,D as f,a6 as m,u as d,r as g,f as h,g as v,J as I,j as S,al as y,m as b}from"./@vue.-THQH3GC1731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";import"./three-stdlib.1CDoKLj-1731462043013.js";import"./@pmndrs.A7R_S0Qe1731462043013.js";import"./object-hash.BCTgntsx1731462043013.js";import"./@amap.r7GlLHCm1731462043013.js";import"./jszip.9e6IwfI51731462043013.js";function x(t,n){const o=j();return(x=function(t,n){return o[t-=474]})(t,n)}const _=x;!function(t,n){const o=x,i=j();for(;;)try{if(648520===-parseInt(o(488))/1+parseInt(o(514))/2+parseInt(o(509))/3+parseInt(o(497))/4*(-parseInt(o(505))/5)+-parseInt(o(478))/6+-parseInt(o(504))/7+parseInt(o(483))/8)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const R=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[x(495)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=x,n=new RegExp(t(493)),o=new RegExp(t(494),"i"),i=A("init");n.test(i+t(507))&&o.test(i+"input")?A():i("0")}))()}();const w=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();w(void 0,(function(){const t=x;let n;try{n=Function("return (function() "+t(506)+");")()}catch(e){n=window}const o=n.console=n.console||{},i=[t(479),t(476),t(489),t(513),t(475),t(491),t(487)];for(let r=0;r<i[t(480)];r++){const n=w[t(503)].prototype.bind(w),e=i[r],s=o[e]||n;n[t(477)]=w[t(496)](w),n.toString=s.toString[t(496)](s),o[e]=n}}))();const P=[_(501)];function j(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","bind","2332sOTLrE","call","while (true) {}","primitive","object","counter","constructor","7602035heephM","3935msLQyU",'{}.constructor("return this")( )',"chain","action","402348QSFikf","uniforms","vertexShader","srcMaterial","error","153402bHNJpm","value","exception","warn","__proto__","7445742EeHaHn","log","length","com","onBeforeCompile","29034824ugxbhm","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","debu","uSnappingResolution","trace","405867ZRFXvU","info","MeshStandardMaterial","table","gger","function *\\( *\\)"];return(j=function(){return t})()}const M=c({__name:_(481),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[_(490)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=_,o=t,i=a(o.uSnappingResolution);return o[n(512)][n(482)]=t=>{const o=n;t[o(510)][o(486)]=i,t[o(511)]=t[o(511)].replace("#include <common>","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"),t[o(511)]=t[o(511)].replace("#include <project_vertex>",o(484))},p((()=>o[n(486)]),(t=>{i[n(474)]=t})),(t,o)=>{const i=n;return l(),f(i(500),{object:t[i(512)]},null,8,P)}}});function A(t){function n(t){const o=x;if("string"==typeof t)return function(t){}.constructor(o(499))[o(495)](o(502));1!==(""+t/t)[o(480)]||t%20==0?function(){return!0}[o(503)](o(485)+o(492))[o(498)](o(508)):function(){return!1}[o(503)]("debu"+o(492))[o(495)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=B,i=E();for(;;)try{if(732373===parseInt(o(336))/1*(parseInt(o(327))/2)+-parseInt(o(334))/3+-parseInt(o(310))/4+-parseInt(o(349))/5*(-parseInt(o(345))/6)+-parseInt(o(306))/7*(parseInt(o(331))/8)+-parseInt(o(340))/9+-parseInt(o(342))/10*(-parseInt(o(312))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const z=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=B,n=new RegExp(t(330)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=N(t(346));n.test(i+t(319))&&o[t(325)](i+t(313))?N():i("0")}))()}();const T=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[B(335)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function E(){const t=["1stGMRO","vertexShader","#include <project_vertex>","while (true) {}","679932bngaLy","replace","130imUexZ","toString","uSnappingResolution","282mnjhvT","init","trace","__proto__","97490yFSwhm","1355907CrWlet","constructor","table","info","3041140ydpfpn","onBeforeCompile","1740563TdbAAz","input","warn","bind","length","stateObject","prototype","chain","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","string","exception","debu","gger","test","console","575578JmiLAV","action","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","function *\\( *\\)","24Vjgees","uniforms","#include <common>","3335745gZHibH","apply"];return(E=function(){return t})()}function B(t,n){const o=E();return(B=function(t,n){return o[t-=306]})(t,n)}function N(t){function n(t){const o=B;if(typeof t===o(321))return function(t){}[o(307)](o(339)).apply("counter");1!==(""+t/t)[o(316)]||t%20==0?function(){return!0}[o(307)](o(323)+"gger").call(o(328)):function(){return!1}[o(307)]("debu"+o(324))[o(335)](o(317)),n(++t)}try{if(t)return n;n(0)}catch(o){}}T(void 0,(function(){const t=B;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(326)]=n[t(326)]||{},i=["log",t(314),t(309),"error",t(322),t(308),t(347)];for(let r=0;r<i.length;r++){const n=T[t(307)][t(318)][t(315)](T),e=i[r],s=o[e]||n;n[t(348)]=T.bind(T),n.toString=s[t(343)][t(315)](s),o[e]=n}}))();const C=k;function Z(){const t=["input","stateObject","warn","string","uSnappingResolution","chain","2512108oVWBid","value","50919lTyWyH","271734ofgjpy","442817SjCnbB","171cziLNW","primitive","forEach","values",'{}.constructor("return this")( )',"info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","call","counter","error","__proto__","apply","toString","debu","./draco/","model","4151500xoNOah","console","638488rcYKiv","exception","return (function() ","push","log","7152715KKXBWb","object","70SYAYoh","bind","init","trace","action","8IEdrzI","3xNpkcz","test","while (true) {}","5220ulVNXC"];return(Z=function(){return t})()}!function(t,n){const o=k,i=Z();for(;;)try{if(918500===parseInt(o(500))/1*(-parseInt(o(532))/2)+-parseInt(o(533))/3*(-parseInt(o(496))/4)+-parseInt(o(525))/5+parseInt(o(499))/6*(-parseInt(o(527))/7)+parseInt(o(520))/8*(parseInt(o(501))/9)+parseInt(o(518))/10+parseInt(o(498))/11*(parseInt(o(536))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const H=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[k(513)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=k,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(507),"i"),i=$(t(529));n[t(534)](i+t(495))&&o.test(i+t(537))?$():i("0")}))()}();const O=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[k(513)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function k(t,n){const o=Z();return(k=function(t,n){return o[t-=495]})(t,n)}O(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(522)+t(505)+");")()}catch(o){n=window}return n}(),o=n[t(519)]=n[t(519)]||{},i=[t(524),t(539),t(506),t(511),t(521),"table",t(530)];for(let e=0;e<i.length;e++){const n=O.constructor.prototype[t(528)](O),r=i[e],s=o[r]||n;n[t(512)]=O[t(528)](O),n[t(514)]=s.toString[t(528)](s),o[r]=n}}))();const L=[C(526)],U=c({__name:C(517),props:{uSnappingResolution:{default:6}},async setup(t){const n=C;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb",{draco:!0,decoderPath:n(516)}))),i=await i,e(),i),c=[];return Object[n(504)](u)[n(503)]((t=>{const o=n;c[o(523)](function(t,n=6){const o=B,i={value:n};return t[o(311)]=t=>{const n=o;t[n(332)][n(344)]=i,t[n(337)]=t.vertexShader[n(341)](n(333),n(320)),t[n(337)]=t.vertexShader[n(341)](n(338),n(329))},i}(t,r[o(541)]))})),p((()=>r.uSnappingResolution),(t=>{const o=n;c[o(503)]((n=>{n[o(497)]=t}))})),(t,o)=>{const i=n;return l(),f(i(502),{object:d(s),scale:5,position:[0,-2,0]},null,8,L)}}});function $(t){function n(t){const o=k;if(typeof t===o(540))return function(t){}[o(508)](o(535))[o(513)](o(510));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debugger")[o(509)](o(531)):function(){return!1}[o(508)](o(515)+"gger")[o(513)](o(538)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function F(){const t=["toString","counter","rotation-x","TresMesh","10ZwnByp","1310577Hxrvhv","8632VulqQP","TresTorusKnotGeometry","test","function *\\( *\\)","constructor","uSnappingResolution","1052260bvJOsM","TresCylinderGeometry","trace","自行车模型-分辨率","10488203ANBhbs","input","error","18vISSBX","console","16ZdpozL","modelSnappingResolution",'{}.constructor("return this")( )',"36696CVXiTq","6579MOAKoJ","return (function() ","rotation-y","circle","debu","bind","chain","exception","gger","apply","length","init","while (true) {}","TresPerspectiveCamera","圆环扭结-分辨率","action","TresAmbientLight","addBinding","string","1085602JPvdhw","1258509HRDrBR","torus","TresMeshStandardMaterial","table","TresDirectionalLight"];return(F=function(){return t})()}const G=J;function J(t,n){const o=F();return(J=function(t,n){return o[t-=344]})(t,n)}!function(t,n){const o=J,i=F();for(;;)try{if(529537===-parseInt(o(360))/1+-parseInt(o(380))/2+-parseInt(o(391))/3+-parseInt(o(357))/4*(-parseInt(o(348))/5)+-parseInt(o(355))/6*(-parseInt(o(381))/7)+-parseInt(o(392))/8*(parseInt(o(361))/9)+parseInt(o(390))/10*(parseInt(o(352))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const V=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[J(370)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){V(this,(function(){const t=J,n=new RegExp(t(345)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=q(t(372));n.test(i+t(367))&&o[t(344)](i+t(353))?q():i("0")}))()}();const K=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[J(370)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();K(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(362)+t(359)+");")()}catch(o){n=window}return n}(),o=n[t(356)]=n.console||{},i=["log","warn","info",t(354),t(368),t(384),t(350)];for(let e=0;e<i.length;e++){const n=K[t(346)].prototype[t(366)](K),r=i[e],s=o[r]||n;n.__proto__=K[t(366)](K),n[t(386)]=s[t(386)][t(366)](s),o[r]=n}}))();const W={position:[5,.9,-5],name:G(382)},X=c({__name:"vertexSnapping",setup(t){const o=G,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p.addBinding(a,o(347),{label:o(375),min:0,max:20,step:.01}),p[o(378)](a,o(358),{label:o(351),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(d(e),b(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(374),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(d(i)),n[2]||(n[2]=I(u(377),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(385),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(389),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:"cube"},[I(u(349),{args:[1.5,1.5,2]}),I(u(383),{color:16737826,roughness:0,metalness:0})],-1)),I(u(389),W,[n[0]||(n[0]=I(u(393),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a[u(347)]},null,8,[u(347)])]),(l(),h(y,null,{default:v((()=>[S(U,{uSnappingResolution:a.modelSnappingResolution},null,8,[u(347)])])),_:1})),(l(),h(y,null,{default:v((()=>[S(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(d(s),{intensity:2,form:u(364),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(388)]),S(d(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,["rotation-x"]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(363)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(363)])])),_:1})])),_:1}))])),_:1},16)}}});function q(t){function n(t){const o=J;if(typeof t===o(379))return function(t){}[o(346)](o(373)).apply(o(387));1!==(""+t/t)[o(371)]||t%20==0?function(){return!0}.constructor(o(365)+o(369)).call(o(376)):function(){return!1}[o(346)](o(365)+o(369))[o(370)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{X as default};
