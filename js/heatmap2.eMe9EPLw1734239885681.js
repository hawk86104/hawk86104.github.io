import{P as t}from"./tweakpane.yHWGBmom1734239885681.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.8bnMX6f01734239885681.js";import{_ as r}from"./heatmap.js-fix.TjssxR3x1734239885681.js";import{h as i,_ as c,cz as s}from"./three.NPKhDGTA1734239885681.js";import{r as u}from"./utils.eWGaZNtC1734239885681.js";import{d as a}from"./pinia.XvNnwauR1734239885681.js";import{b as p,d as f,a3 as l,o as h,D as d,J as m,u as g,F as y,q as v,U as b,N as w,P as _,H as I,L as x,a6 as j,r as M,j as E,g as S,m as D}from"./@vue.-THQH3GC1734239885681.js";import{c as P,d as z,a as T}from"./three-mesh-bvh.VXqmm2ua1734239885681.js";import{_ as L}from"./@fesjs.1fC4qdx91734239885681.js";import"./@tresjs.qWeugQU61734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./three-custom-shader-material._Q1qyIV-1734239885681.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1734239885681.js";import"./@amap.NYHfUxYe1734239885681.js";import"./vue-demi.C4xddsk91734239885681.js";import"./vue-router.KCZH8FnA1734239885681.js";import"./lodash-es.kYt-_xTG1734239885681.js";import"./@qlin.yHhFDldE1734239885681.js";import"./@floating-ui.BPbuo5Gx1734239885681.js";import"./@juggle.7yjBMqoW1734239885681.js";function O(t,n){const e=Z();return(O=function(t,n){return e[t-=102]})(t,n)}!function(t,n){const e=O,o=Z();for(;;)try{if(337257===-parseInt(e(144))/1+-parseInt(e(118))/2+parseInt(e(131))/3+-parseInt(e(139))/4*(-parseInt(e(147))/5)+-parseInt(e(120))/6+parseInt(e(112))/7+parseInt(e(105))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(141)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["_config","console","bind","counter",'{}.constructor("return this")( )',"randInt","setData","create","__proto__","1020969wLnGjh","test","constructor","appendChild","prototype","yellow","debu","absolute","12lpLadZ","body","apply","push","info","254651IuynEu","table","chain","623575guGzlb","rgb(0,0,255)","rgb(255,0,0)","height","createElement","string","727576LJQqMf","stateObject","left","toString","getValueAt","warn","position","3576783kuvsft","call","style","gger","function *\\( *\\)","width","154464vMTNOC","trace","3883464wNTNte","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Z=function(){return t})()}!function(){A(this,(function(){const t=O,n=new RegExp(t(116)),e=new RegExp(t(121),"i"),o=F("init");n[t(132)](o+t(146))&&e[t(132)](o+"input")?F():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(141)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=O;let n;try{n=Function("return (function() "+t(126)+");")()}catch(r){n=window}const e=n[t(123)]=n[t(123)]||{},o=["log",t(110),t(143),"error","exception",t(145),t(119)];for(let i=0;i<o.length;i++){const n=B[t(133)][t(135)][t(124)](B),r=o[i],c=e[r]||n;n[t(130)]=B[t(124)](B),n[t(108)]=c[t(108)][t(124)](c),e[r]=n}}))();const R=(t,n)=>t[O(109)](n)+-10;function F(t){function n(t){const e=O;if(typeof t===e(104))return function(t){}[e(133)]("while (true) {}").apply(e(125));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(115))[e(113)]("action"):function(){return!1}[e(133)](e(137)+e(115))[e(141)](e(106)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=U;function k(){const t=["return (function() ","gger","1995105pOdein","268964MLyQsn","chain","buildingsHeatmap","input","log",'{}.constructor("return this")( )',"1894986nxdiEU","5bVNKxX","bind","12VIWviP","trace","length","stateObject","counter","table","debu","info","1656XlvpFz","toString","console","init","function *\\( *\\)","593281TSxixL","apply","constructor","6567816TPlEXi","27076563enepBA","string","while (true) {}","__proto__","value","test","error","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(k=function(){return t})()}!function(t,n){const e=U,o=k();for(;;)try{if(630981===-parseInt(e(296))/1+-parseInt(e(280))/2+parseInt(e(283))/3*(parseInt(e(274))/4)+parseInt(e(281))/5*(parseInt(e(291))/6)+-parseInt(e(273))/7+-parseInt(e(299))/8+parseInt(e(300))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=U,n=new RegExp(t(295)),e=new RegExp(t(270),"i"),o=G(t(294));n[t(305)](o+t(275))&&e[t(305)](o+t(277))?G():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(297)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(t,n){const e=k();return(U=function(t,n){return e[t-=270]})(t,n)}C(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(271)+t(279)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(293)]||{},o=[t(278),"warn",t(290),t(306),t(307),t(288),t(284)];for(let r=0;r<o[t(285)];r++){const n=C[t(298)].prototype.bind(C),i=o[r],c=e[i]||n;n[t(303)]=C[t(282)](C),n[t(292)]=c[t(292)].bind(c),e[i]=n}}))();const X=a($(276),(()=>{const t=p(!1),n=p(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[U(304)]=n},setTemperature:function(t){n[U(304)]=t}}}));function G(t){function n(t){const e=U;if(typeof t===e(301))return function(t){}[e(298)](e(302))[e(297)](e(287));1!==(""+t/t)[e(285)]||t%20==0?function(){return!0}[e(298)](e(289)+e(272)).call("action"):function(){return!1}.constructor(e(289)+"gger")[e(297)](e(286)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=Q;!function(t,n){const e=Q,o=K();for(;;)try{if(423220===parseInt(e(303))/1+parseInt(e(309))/2*(parseInt(e(341))/3)+parseInt(e(304))/4*(-parseInt(e(337))/5)+-parseInt(e(312))/6+parseInt(e(355))/7+-parseInt(e(361))/8+parseInt(e(294))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(307)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(){const t=["4ebtEhL","needsUpdate","buildingsHeatmap","4320084uBfOEk","primitive","ShaderMaterial","raycast","rotation-x","Texture","normal","uOpacity","children","Mesh","debu","trace","setTemperature","city","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","test","action","object","canvas","$patch","attributes","constructor","return (function() ","10045hTKcBw","BufferGeometry","land","model","652449cBMzZF","Matrix4","init","prototype","数值———：","opacity","toString","数值：","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","while (true) {}","input","height","error","uniforms","5813164xofPqJ","_config","counter","applyMatrix4","matrix","clone","3818888qsDhPa","2842245KtrUhO","geometry","disposeBoundsTree","info","setShowDiv","bind","call","chain","makeRotationX","439163hCZiTY","796QgSLor","console","length","apply","DoubleSide"];return(K=function(){return t})()}!function(){H(this,(function(){const t=Q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(327),"i"),o=tt(t(343));n.test(o+t(301))&&e[t(329)](o+t(351))?tt():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(307)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=Q;let n;try{n=Function(t(336)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(305)]=n.console||{},o=["log","warn",t(297),t(353),"exception","table",t(323)];for(let i=0;i<o[t(306)];i++){const n=V.constructor[t(344)][t(299)](V),r=o[i],c=e[r]||n;n[t(328)]=V[t(299)](V),n[t(347)]=c.toString[t(299)](c),e[r]=n}}))();const W=[N(331),N(316)],J=[N(331)];function Q(t,n){const e=K();return(Q=function(t,n){return e[t-=294]})(t,n)}const Y=f({__name:N(311),props:{model:{},opacity:{default:1}},setup(t){const n=N;(()=>{const t=Q;c[t(338)][t(344)].computeBoundsTree=P,c[t(338)][t(344)][t(296)]=z,c[t(321)][t(344)][t(315)]=T})();const e=t,o=((t=250,n=250,e=!0)=>{const o=O,i=document[o(103)]("heatmap-canvas");return i[o(114)][o(111)]=o(138),!e&&(i.style.display="none"),i[o(114)].top="0",i.style[o(107)]="0",document[o(140)][o(134)](i),r[o(129)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(148),.55:"rgb(0,255,0)",.85:o(136),1:o(149)}})})();((t,n)=>{const e=O;if(!n){let o=0;for(n=[];o<1e3;)n[e(142)]({x:i.randInt(1,t[e(122)][e(117)]),y:i[e(127)](1,t[e(122)][e(102)]),value:i.randInt(-10,36)}),o++}t[e(128)]({max:36,min:-10,data:n})})(o);const a=new(c[n(317)])(o._renderer[n(332)]);a[n(310)]=!0;const p=e[n(340)][n(325)][n(360)]();delete p[n(295)][n(334)][n(318)],delete p[n(295)][n(334)].uv;const f=p.geometry[n(360)]()[n(358)](p[n(359)]),v=e[n(340)][n(339)][n(360)]();delete v[n(295)].attributes[n(318)];const b=v[n(295)][n(360)]()[n(358)](v[n(359)]),w=s([f,b]);w[n(358)]((new(c[n(342)]))[n(302)](Math.PI/2)),u(w),w.computeBoundsTree();const _=(t=>{const o=n;return new(c[o(314)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(349),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(308)]})})(a),I=new(c[n(321)])(w,_);l((()=>{const t=n;e.opacity&&(_[t(354)][t(319)].value=e[t(346)])}));const x=X(),j=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(356)].width,y:(1-t.uv.y)*o._config[e(352)]};console.log(e(348),t),console.log(e(345),R(o,n)),x[e(324)](R(o,n))}},M=t=>{t&&x[n(333)]({showDiv:!0})},E=t=>{t&&x[n(298)](!1)};return(t,o)=>{const r=n;return h(),d(y,null,[m("primitive",{object:g(I),"rotation-x":-Math.PI/2,onPointerMove:j,onPointerEnter:M,onPointerLeave:E},null,40,W),m(r(313),{object:e.model.model[r(320)][0][r(360)]()},null,8,J)],64)}}});function tt(t){function n(t){const e=Q;if(typeof t===e(326))return function(t){}[e(335)](e(350))[e(307)](e(357));1!==(""+t/t)[e(306)]||t%20==0?function(){return!0}.constructor(e(322)+"gger")[e(300)](e(330)):function(){return!1}[e(335)](e(322)+"gger")[e(307)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=L({__name:"dataDiv",setup(t){const n=X(),e=p({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return v((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>w((h(),d("div",{class:"title",style:x(e.value)},"温度："+I(g(n).temperature)+"℃ ",5)),[[_,g(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);function et(){const t=["error","818739ImiMAY","98528xgtKGL","2SKdDDs","counter","bind","120DpiqPf","chain","return (function() ","gger","log","action","#000","73449WsrGPh","trace","while (true) {}","test","builds","length","function *\\( *\\)","7915zdXrqC",'{}.constructor("return this")( )',"info","debu","constructor","console","10NnTgWj","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","apply","input","city","207739GHXCgC","__proto__","708488ybiFHi","透明度","string","273610zyOfPX","stateObject","addBinding"];return(et=function(){return t})()}!function(t,n){const e=it,o=et();for(;;)try{if(165568===parseInt(e(301))/1+parseInt(e(307))/2*(-parseInt(e(277))/3)+-parseInt(e(306))/4+parseInt(e(284))/5*(-parseInt(e(310))/6)+-parseInt(e(296))/7+-parseInt(e(298))/8+-parseInt(e(305))/9*(-parseInt(e(290))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(293)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ot(this,(function(){const t=it,n=new RegExp(t(283)),e=new RegExp(t(291),"i"),o=st("init");n[t(280)](o+t(311))&&e[t(280)](o+t(294))?st():o("0")}))()}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=et();return(it=function(t,n){return e[t-=274]})(t,n)}rt(void 0,(function(){const t=it;let n;try{n=Function(t(312)+t(285)+");")()}catch(r){n=window}const e=n[t(289)]=n.console||{},o=[t(274),"warn",t(286),t(304),t(292),"table",t(278)];for(let i=0;i<o[t(282)];i++){const n=rt.constructor.prototype[t(309)](rt),r=o[i],c=e[r]||n;n[t(297)]=rt[t(309)](rt),n.toString=c.toString[t(309)](c),e[r]=n}}))();const ct=f({__name:"heatmap2",async setup(r){const i=it;let c,s;const u=p(!1),a=([c,s]=j((()=>o())),c=await c,s(),c);u.value=!0;const f=M({width:1,color:i(276),opacity:1,show:!0}),l=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(303)](l,"opacity",{label:i(299),min:0,max:1,step:.1}),(t,o)=>{const r=i;return h(),d(y,null,[E(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[E(Y,D({model:g(a)},l),null,16,["model"]),E(n,D(f,{builds:g(a)[r(295)]}),null,16,[r(281)])])),_:1}),E(nt)],64)}}});function st(t){function n(t){const e=it;if(typeof t===e(300))return function(t){}.constructor(e(279))[e(293)](e(308));1!==(""+t/t)[e(282)]||t%20==0?function(){return!0}[e(288)](e(287)+e(313)).call(e(275)):function(){return!1}[e(288)](e(287)+"gger")[e(293)](e(302)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
