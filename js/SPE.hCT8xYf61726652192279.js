import{_ as t,ck as e,bT as i,k as n,at as s,V as o,h as r,Y as a,b as c}from"./three.3esZ7Hzr1726652192279.js";const h=f;!function(t,e){const i=f,n=u();for(;;)try{if(544687===parseInt(i(792))/1*(parseInt(i(512))/2)+parseInt(i(475))/3*(-parseInt(i(621))/4)+parseInt(i(597))/5*(parseInt(i(791))/6)+parseInt(i(636))/7+-parseInt(i(571))/8*(parseInt(i(489))/9)+parseInt(i(692))/10*(-parseInt(i(617))/11)+-parseInt(i(397))/12)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(695)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function u(){const t=["resetFlags","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","randomFloat","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","setMat4","       vec3 c = isAlive * getColorOverLifetime(","unpackRotationAxis","logdepthbuf_vertex","_applyAttributesToGeometry","duration","setRGB","Group","attribute vec4 size;","onParticleSpawn","updateFlags","attributeOffset","floor","bufferUpdateCount","    #endif","exception","activationIndex","typedArray","3138444lXetZX","        float row = floor( (frameNumber - column) / framesX );","Emitter","    #ifdef COLORIZE","maxParticleCount","getComponentValueAtIndex","count","trace","dynamicBuffer","while (true) {}","   float b = mod( hex, PACKED_COLOR_SIZE );","particlesPerSecond","      rotationMatrix = getRotationMatrix( axis, angle );","setAttribute","dispose","_createBufferAttribute","texture","setMat3","randomVector3OnLine","offset","keys","rotateTexture","updateMap","needsUpdate","multiplyScalar","indexOffset","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","_attributesNeedDynamicReset","resetUpdateRange","setDrawRange","   return params.w;","    highp float isAlive = when_gt( alive, 0.0 );","    highp float maxAge = getMaxAge();","    highp float age = getAge();","attribute vec4 color;","arrayValuesAreEqual","_setBufferUpdateRanges","_axisSpread","subarray","           unpackColor( color.x ),","generateUUID","setVec4Components","POSITIVE_INFINITY","utils","#ifdef SHOULD_ROTATE_TEXTURE","  return 1.0 - when_lt(x, y);","       axis = normalize(axis);","rotation","wiggle","_radius","   return params.z;","radiusScale","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","float getMaxAge() {","updateRange","           unpackColor( color.z ),","vec3 getAcceleration( in float age ) {","ensureValueOverLifetimeCompliance","elements","BOOLEAN","textureFrames","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","_radiusScale","       fIndex = float( i );","    }","fog_pars_vertex","updateMin","remove","prototype","SHOULD_ROTATE_TEXTURE","clone","fog","log","       );","        float framesX = vSpriteSheet.x;","table","_poolCreationSettings","_angleSpread","291uJoYTL","_assignPositionValue","hasOwnProperty","fog_fragment","   c.r = r / PACKED_COLOR_DIVISOR;","attributeCount","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","_value","_createGetterSetters","cos","    return a * b;","warn","randomVector3OnSphere","      }","18juElPR","BufferGeometry","_spreadClamp","valueOverLifetimeLength","round","SHOULD_WIGGLE_PARTICLES","      translated = rotationCenter - pos;","_updateDefines","       if ( vColor.w < float(ALPHATEST) ) discard;","getFromPool","velocity","particleCount","_incrementParticleCount","        float wiggleAmount = positionInTime * getWiggle();","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","flagUpdate","depthWrite","_updateBuffers","attribute vec3 rotationCenter;","           positionInTime,","SPE.Group: maxParticleCount exceeded. Requesting","        float perspective = scale / length( mvPosition.xyz );","DynamicDrawUsage","9662yTpDKK","varyings","        float framesY = vSpriteSheet.y;","angleSpread","   c.b = b / PACKED_COLOR_DIVISOR;","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","shaders","   vec3 c = vec3( 0.0 );","paramsArray","textureLoop","attributeKeys","      float angle = 0.0;","angle","unpackColor","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","disable","_calculatePPSValue","ShaderChunk","NUMBER","#define PACKED_COLOR_DIVISOR 255.0","LINE","componentSize","    vec3 accel = getAcceleration( age );","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","frameCount","NEGATIVE_INFINITY","float when_lt(float x, float y) {","_assignAngleValue","isArray","call","center","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","group","init","Emitter does not belong to a group, cannot remove.","    #ifdef SHOULD_WIGGLE_PARTICLES","gger","SHOULD_CALCULATE_SPRITE","logdepthbuf_pars_fragment","uniform sampler2D tex;","forceFetchingFunctions","SHOULD_ROTATE_PARTICLES","boolean","distributions","Vector2","bind","_resetBufferRanges","join","ceil","normalize","age","ensureArrayInstanceOf","hasPerspective","releaseIntoPool","        pos = getRotation( pos, positionInTime );","_assignRotationValue","typeSizeMap","setVec3","1296992NjjPiA","        vSpriteSheet.z = columnNorm;","OBJECT","_decrementParticleCount","setVec2","getPackedRotationAxis","_randomise","fog_vertex","axisSpread","_checkParticleAges","radius","opacity","min","BOX","stateObject","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","emitterIDs","        pos.y += wiggleCos;","enable","ensureTypedArg","clamp","distributionClamp","string","lerp","        vSpriteSheet.w = rowNorm;","action","1165jeheRB","textureFrameCount","updateMax","setVec3Components","grow","   c *= vec3( 2.0 );","    highp float value = 0.0;","      mat4 rotationMatrix;","SPHERE","chain","        float wiggleSin = isAlive * sin( wiggleAmount );","    gl_Position = projectionMatrix * mvPosition;","    #else","lerpTypeAgnostic","randomVector3OnDisc","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","updateCounts","arrayType","_updateAttributeUpdateRange","reset","17798aiqNFy","function","setUpdateRange","constructor","7048yMmhwH","    vec3 pos = vec3( position );","        float wiggleCos = isAlive * cos( wiggleAmount );","alphaTest","rotationCenter","Argument is not instanceof SPE.Emitter:","        float perspective = 1.0;","info","attribute vec4 rotation;","getHex","        vSpriteSheet.y = 1.0 / framesY;","       float c = cos( -vAngle );","TypedArrayHelper","ensureArrayTypedArg","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","7605255LmFsAA","position","acceleration","attribute vec4 params;","Color","varying vec4 vColor;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","vertex","shaderChunks",'{}.constructor("return this")( )',"geometry","       float s = sin( -vAngle );","runTime","interpolateArray","uniform float deltaTime;","rotationFunctions","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    vec3 value = vec3( 0.0 );","      vec3 translated;","attribute vec4 opacity;","push","_angle","usage","axis","float getAlive() {","_assignValue","    #ifdef SHOULD_ROTATE_PARTICLES","`emitter` argument must be instance of SPE.Emitter. Was provided with:","randomColorAsHex","_assignForceValue","activeParticleCount","indexOf","maxAge","Vector4","__proto__","array","_assignParamsValue","setVec2Components","ShaderMaterial","distribution","        float rowNorm = vSpriteSheet.w;","error","_static","    pos += force;","sqrt","       float c = cos(angle);","uniform float runTime;","fixedTimeStep","   return params.y;","size","set","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","    vColor = vec4( c, o );","ShaderAttribute","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","randomVector3","3420yinJXf","_createNewWhenPoolEmpty","vec3 unpackRotationAxis( in float hex ) {","apply","bufferUpdateRanges","    varying vec4 vSpriteSheet;","addEmitter","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","uuid","  return 1.0 - when_gt(x, y);","_assignAbsLifetimeValue","uniform vec4 textureAnimation;","abs","bufferAttribute","resetDynamic","scale","setFromArray","   return acceleration.xyz * age;","loop","attribute vec3 velocity;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","toString","           unpackColor( color.y ),","params","   c.g = g / PACKED_COLOR_DIVISOR;","_assignColorValue","randomDirectionVector3OnSphere","debu","undefined","random","test","float when_eq( float x, float y ) {","type","sin","itemSize","input","DISC","max","    ","    #ifdef SHOULD_ROTATE_TEXTURE","    return value;","bufferUpdateKeys","   return c;","_setAttributeOffset","vec3 unpackColor( in float hex ) {","      vec3 center = rotationCenter;","attributes","frames","    float shouldApplyValue = 0.0;","forceUpdateAll","Emitter already belongs to another group. Will not add to requested group.","float getWiggle() {","        float columnNorm = column / framesX;","AdditiveBlending","setSize","Vector3","_updateUniforms","        float totalFrames = textureAnimation.z;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","defines","        float framesX = textureAnimation.x;","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    force += vel;","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","drag","Emitter already exists in this group. Will not add again.","attribute vec4 angle;","_spread","color","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","transparent","fragment","       float s = sin(angle);","        pos.x += wiggleSin;","BufferAttribute","tick","_pool","particles, can support only","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","    varying float vAngle;","_distributionClamp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#endif","function *\\( *\\)","activeMultiplier","float when_ge(float x, float y) {","depthTest","removeEmitter","material","ensureInstanceOf","mesh","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","   return velocity * age;","    force *= drag;","      vec3 axis = unpackRotationAxis( rotation.x );","colorize","        float column = floor(mod( frameNumber, framesX ));","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","    highp float alive = getAlive();","6846LgBoRz","104FSuDjU","alive","exports","   c -= vec3( 1.0 );","    return max(sign(x - y), 0.0);","_triggerSingleEmitter","paramFetchingFunctions","Invalid argument types, or argument types do not match:","replace","direction","Emitter does not exist in this group. Will not remove.","object","        float columnNorm = vSpriteSheet.z;","float when_gt(float x, float y) {","activationEnd","shrink","uniforms","    force += accel * age;","common","isStatic","randomise","length","vec4 getPosition( in float age ) {","REVISION","fog_pars_fragment","attribute vec4 acceleration;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","types","        float rowNorm = row / framesY;","return (function() ","    gl_PointSize = pointSizePerspective;","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","setColor","_ensureTypedArray","spreadClamp","value","        vSpriteSheet.x = 1.0 / framesX;","copy","_distribution","#define PACKED_COLOR_SIZE 256.0","_onRemove","           unpackColor( color.w )","StaticDrawUsage","_activateParticles","       float oc = 1.0 - c;","pop","TypedArrayConstructor","emitters","splice","_resetParticle","defineProperty","spread","colorOverLifetime","_attributesNeedRefresh","                   0.0,                                0.0,                                0.0,                                1.0);","deltaTime","roundToNearestMultiple"];return(u=function(){return t})()}function f(t,e){const i=u();return(f=function(t,e){return i[t-=364]})(t,e)}!function(){l(this,(function(){const t=f,e=new RegExp(t(775)),i=new RegExp(t(773),"i"),n=m(t(546));e[t(722)](n+t(606))&&i.test(n+t(727))?m():n("0")}))()}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[f(695)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();p(void 0,(function(){const t=f,e=function(){const t=f;let e;try{e=Function(t(821)+t(645)+");")()}catch(i){e=window}return e}(),i=e.console=e.console||{},n=[t(469),t(486),"info",t(677),t(394),t(472),t(404)];for(let s=0;s<n[t(813)];s++){const e=p[t(620)][t(465)][t(558)](p),o=n[s],r=i[o]||e;e[t(670)]=p.bind(p),e[t(713)]=r[t(713)][t(558)](r),i[o]=e}}))();const d={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===h(618)&&define.amd?define("spe",d):"undefined"!=typeof exports&&typeof module!==h(720)&&(module[h(794)]=d),d[h(633)]=function(t,e,i,n){const s=h;this[s(534)]=i||1,this[s(685)]=e||1,this[s(364)]=t||Float32Array,this[s(671)]=new t(e*this.componentSize),this[s(422)]=n||0},d[h(633)].constructor=d.TypedArrayHelper,d[h(633)][h(465)][h(746)]=function(t,e){const i=h,n=this[i(671)][i(813)];return!e&&(t*=this.componentSize),t<n?this[i(807)](t):t>n?this[i(601)](t):void console[i(628)]("TypedArray is already of size:",t+".","Will not resize.")},d[h(633)].prototype[h(807)]=function(t){const e=h;return this[e(671)]=this[e(671)][e(435)](0,t),this[e(685)]=t,this},d.TypedArrayHelper[h(465)].grow=function(t){const e=h,i=this[e(671)],n=new(this[e(364)])(t);return n[e(686)](i),this[e(671)]=n,this[e(685)]=t,this},d.TypedArrayHelper.prototype[h(366)]=function(t,e){const i=h;t*=this[i(534)],e*=this[i(534)];const n=[],s=this[i(671)],o=s[i(813)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(656)](s[r]);return this[i(708)](0,n),this},d[h(633)].prototype[h(708)]=function(t,e){const i=h,n=t+e.length;return n>this[i(671)].length?this[i(601)](n):n<this[i(671)][i(813)]&&this[i(807)](n),this[i(671)].set(e,this[i(422)]+t),this},d[h(633)][h(465)][h(575)]=function(t,e){return this.setVec2Components(t,e.x,e.y)},d[h(633)][h(465)][h(673)]=function(t,e,i){const n=h,s=this[n(671)],o=this[n(422)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},d[h(633)].prototype[h(570)]=function(t,e){return this[h(600)](t,e.x,e.y,e.z)},d.TypedArrayHelper.prototype.setVec3Components=function(t,e,i,n){const s=h,o=this[s(671)],r=this[s(422)]+t*this[s(534)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},d.TypedArrayHelper.prototype.setVec4=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},d[h(633)][h(465)][h(438)]=function(t,e,i,n,s){const o=h,r=this.array,a=this[o(422)]+t*this[o(534)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},d.TypedArrayHelper[h(465)][h(414)]=function(t,e){const i=h;return this[i(708)](this[i(422)]+t*this[i(534)],e[i(455)])},d[h(633)][h(465)][h(379)]=function(t,e){const i=h;return this[i(708)](this.indexOffset+t*this.componentSize,e[i(455)])},d[h(633)].prototype[h(824)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},d[h(633)][h(465)].setNumber=function(t,e){const i=h;return this[i(671)][this[i(422)]+t*this[i(534)]]=e,this},d.TypedArrayHelper[h(465)].getValueAtIndex=function(t){return this[h(671)][this.indexOffset+t]},d[h(633)].prototype[h(402)]=function(t){const e=h;return this[e(671)].subarray(this[e(422)]+t*this[e(534)])},d[h(689)]=function(t,e,i){const n=h,s=d[n(689)][n(569)];this.type=typeof t===n(593)&&s.hasOwnProperty(t)?t:"f",this[n(534)]=s[this[n(724)]],this[n(614)]=i||Float32Array,this[n(396)]=null,this[n(705)]=null,this[n(405)]=!!e,this.updateMin=0,this[n(599)]=0},d[h(689)][h(620)]=d.ShaderAttribute,d[h(689)][h(569)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},d[h(689)][h(465)][h(619)]=function(t,e){const i=h;this[i(463)]=Math[i(583)](t*this.componentSize,this[i(463)]*this[i(534)]),this[i(599)]=Math[i(729)](e*this[i(534)],this[i(599)]*this[i(534)])},d[h(689)].prototype.flagUpdate=function(){const t=h,e=this[t(705)],i=e[t(451)];i[t(416)]=this[t(463)],i.count=Math.min(this.updateMax-this[t(463)]+this[t(534)],this[t(396)][t(671)][t(813)]),e[t(420)]=!0},d.ShaderAttribute[h(465)][h(425)]=function(){const t=h;this[t(463)]=0,this[t(599)]=0},d[h(689)][h(465)][h(706)]=function(){const e=h;this[e(705)].usage=this[e(405)]?t[e(511)]:t[e(834)]},d[h(689)][h(465)][h(366)]=function(t,e){const i=h;this[i(396)][i(366)](t,e),this.forceUpdateAll()},d[h(689)].prototype[h(741)]=function(){const t=h;this[t(705)][t(671)]=this[t(396)].array,this.bufferAttribute[t(451)][t(416)]=0,this[t(705)][t(451)][t(403)]=-1,this.bufferAttribute[t(658)]=e,this[t(705)].needsUpdate=!0},d[h(689)].prototype[h(825)]=function(t){const e=h;null!==this.typedArray&&this[e(396)].size===t*this[e(534)]||(null!==this.typedArray&&this[e(396)].size!==t?this[e(396)].setSize(t):null===this[e(396)]&&(this[e(396)]=new(d[e(633)])(this[e(614)],t,this[e(534)])))},d.ShaderAttribute[h(465)][h(412)]=function(e){const i=h;if(this._ensureTypedArray(e),null!==this.bufferAttribute)return this.bufferAttribute[i(671)]=this.typedArray[i(671)],parseFloat(t[i(815)])>=81&&(this.bufferAttribute[i(403)]=this[i(705)][i(671)][i(813)]/this[i(705)][i(726)]),void(this[i(705)][i(420)]=!0);this[i(705)]=new(t[i(766)])(this[i(396)][i(671)],this[i(534)]),this[i(705)][i(658)]=this[i(405)]?t[i(511)]:t[i(834)]},d.ShaderAttribute[h(465)].getLength=function(){const t=h;return null===this[t(396)]?0:this[t(396)].array[t(813)]},d.shaderChunks={defines:[h(831),h(532)].join("\n"),uniforms:[h(650),h(682),h(552),h(703),"uniform float scale;"][h(560)]("\n"),attributes:[h(817),h(711),h(629),h(507),h(639),h(387),h(758),h(431),h(655)][h(560)]("\n"),varyings:[h(641),h(441),h(771),h(774),"#ifdef SHOULD_CALCULATE_SPRITE",h(697),h(774)].join("\n"),branchAvoidanceFunctions:[h(805),h(796),"}",h(539),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",h(723),"    return 1.0 - abs( sign( x - y ) );","}",h(777),h(442),"}","float when_le(float x, float y) {",h(701),"}","float and(float a, float b) {",h(485),"}","float or(float a, float b) {","    return min(a + b, 1.0);","}"][h(560)]("\n"),unpackColor:[h(736),h(520),h(503),h(544),h(407),h(479),h(716),h(516),h(734),"}"][h(560)]("\n"),unpackRotationAxis:[h(694),h(520),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(407),h(479),h(716),"   c.b = b / PACKED_COLOR_DIVISOR;",h(602),h(795),h(734),"}"][h(560)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",h(603),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","    float fIndex = 0.0;",h(740),h(712),"",h(518),h(460),h(376),h(642),h(461),"",h(732),"}"][h(560)]("\n"),colorOverLifetime:[h(652),h(653),h(449),h(770),h(517),h(732),"}"][h(560)]("\n"),paramFetchingFunctions:[h(660),"   return params.x;","}","float getAge() {",h(684),"}",h(450),h(447),"}",h(743),h(427),"}"][h(560)]("\n"),forceFetchingFunctions:[h(814),"   return modelViewMatrix * vec4( position, 1.0 );","}","vec3 getVelocity( in float age ) {",h(784),"}",h(453),h(709),"}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES",h(699),h(443),h(764),h(681),h(836),"",h(823),h(423),"                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",h(372),"   }","",h(690),"      if( rotation.y == 0.0 ) {","           return pos;",h(488),"",h(786),h(737),h(654),h(604),h(524),h(481),h(527),h(495),h(409),h(586),"   }",h(774)].join("\n"),rotateTexture:[h(789),"",h(731),"       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;",h(632),h(647),h(612),"    #endif","","    #ifdef SHOULD_CALCULATE_SPRITE",h(471),h(514),h(804),h(676),h(818),h(783),h(393),"","    vec4 rotatedTexture = texture2D( tex, vUv );"][h(560)]("\n")},d[h(519)]={vertex:[d.shaderChunks[h(751)],d[h(644)][h(808)],d[h(644)][h(738)],d[h(644)].varyings,t[h(530)][h(810)],t[h(530)].logdepthbuf_pars_vertex,t[h(530)][h(462)],d[h(644)].branchAvoidanceFunctions,d[h(644)][h(526)],d[h(644)][h(381)],d[h(644)].floatOverLifetime,d.shaderChunks[h(370)],d[h(644)][h(798)],d.shaderChunks[h(553)],d.shaderChunks[h(651)],"void main() {",h(430),h(790),h(429),"    highp float positionInTime = (age / maxAge);",h(428),h(548),h(502),h(607),h(623),h(393),"    vec3 vel = getVelocity( age );",h(535),"    vec3 force = vec3( 0.0 );",h(622),h(755),h(754),h(785),h(809),h(679),h(548),h(765),h(588),"        pos.z += wiggleSin;","    #endif",h(662),h(567),"    #endif","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",h(687),"    #ifdef HAS_PERSPECTIVE",h(510),h(609),h(627),h(393),"    float pointSizePerspective = pointSize * perspective;",h(400),h(380),h(508),h(436),h(714),h(452),h(833),h(470),h(609),"       vec3 c = vec3(1.0);",h(393),h(458),h(688),h(731),h(635),h(393),"    #ifdef SHOULD_CALCULATE_SPRITE",h(752),"        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;",h(749),h(536),h(788),h(398),h(744),h(820),h(828),h(631),h(572),h(595),"    #endif",h(822),h(608),t[h(530)][h(382)],t[h(530)][h(578)],"}"][h(560)]("\n"),fragment:[d[h(644)][h(808)],t[h(530)][h(810)],t[h(530)][h(816)],i[h(551)],d[h(644)][h(513)],d[h(644)].branchAvoidanceFunctions,"void main() {","    vec3 outgoingLight = vColor.xyz;",h(730),"    #ifdef ALPHATEST",h(497),"    #endif",d.shaderChunks[h(418)],t[h(530)].logdepthbuf_fragment,h(753),h(750),t[h(530)][h(478)],"}"][h(560)]("\n")},d.utils={types:{BOOLEAN:h(555),STRING:"string",NUMBER:"number",OBJECT:h(803)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=h;if(Array[n(541)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(590)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(541)](t)){for(let s=t[n(813)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(781)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(541)](t[n(482)])&&(t._value=[t[n(482)]]),!1===Array[n(541)](t._spread)&&(t[n(759)]=[t[n(759)]]);const s=this[n(591)](t[n(482)][n(813)],e,i),o=this[n(591)](t[n(759)][n(813)],e,i),r=Math.max(s,o);t[n(482)].length!==r&&(t[n(482)]=this[n(649)](t[n(482)],r)),t[n(759)][n(813)]!==r&&(t[n(759)]=this[n(649)](t[n(759)],r))},interpolateArray(t,e){const i=h,n=t[i(813)],s=[typeof t[0][i(467)]===i(618)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(391)](e),a=Math[i(561)](e),c=e-n;s[r]=this[i(610)](t[n],t[a],c)}return s[i(656)](typeof t[n-1].clone===i(618)?t[n-1][i(467)]():t[n-1]),s},clamp(t,e,i){const n=h;return Math[n(729)](e,Math[n(583)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(721)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,o){const r=h;let a,c=this[r(819)];return typeof e===c[r(531)]&&typeof i===c[r(531)]?e+(i-e)*o:e instanceof n&&i instanceof t[r(557)]?(a=e[r(467)](),a.x=this[r(594)](e.x,i.x,o),a.y=this.lerp(e.y,i.y,o),a):e instanceof t[r(747)]&&i instanceof t[r(747)]?(a=e[r(467)](),a.x=this.lerp(e.x,i.x,o),a.y=this.lerp(e.y,i.y,o),a.z=this[r(594)](e.z,i.z,o),a):e instanceof s&&i instanceof t[r(669)]?(a=e.clone(),a.x=this[r(594)](e.x,i.x,o),a.y=this.lerp(e.y,i.y,o),a.z=this[r(594)](e.z,i.z,o),a.w=this[r(594)](e.w,i.w,o),a):e instanceof t[r(640)]&&i instanceof t[r(640)]?(a=e[r(467)](),a.r=this.lerp(e.r,i.r,o),a.g=this.lerp(e.g,i.g,o),a.b=this[r(594)](e.b,i.b,o),a):void console[r(486)](r(799),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math[i(704)](t)%e,0===n?t:t<0?-(Math[i(704)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=h;for(let i=0;i<t[e(813)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(721)]()-.5),randomVector3(t,e,i,n,s){const o=h;let r=i.x+(Math[o(721)]()*n.x-.5*n.x),a=i.y+(Math[o(721)]()*n.y-.5*n.y),c=i.z+(Math[o(721)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(374)](r,s.x),a=.5*-s.y+this.roundToNearestMultiple(a,s.y),c=.5*-s.z+this[o(374)](c,s.z)),t[o(396)][o(600)](e,r,a,c)},randomColor(t,e,i,n){const s=h;let o=i.r+Math[s(721)]()*n.x,r=i.g+Math[s(721)]()*n.y,a=i.b+Math.random()*n.z;o=this[s(591)](o,0,1),r=this[s(591)](r,0,1),a=this[s(591)](a,0,1),t.typedArray.setVec3Components(e,o,r,a)},randomColorAsHex:function(){const e=h,i=new(t[e(640)]);return function(t,n,s,o){const r=e,a=s.length,c=[];for(let e=0;e<a;++e){const t=o[e];i.copy(s[e]),i.r+=Math[r(721)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math[r(721)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[r(591)](i.g,0,1),i.b=this[r(591)](i.b,0,1),c[r(656)](i[r(630)]())}t[r(396)][r(438)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=h,o=i[s(467)]();o[s(594)](n,Math[s(721)]()),t.typedArray[s(600)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=h;let l=2*Math.random()-1,u=6.2832*Math.random(),f=Math[c(680)](1-l*l),p=this[c(377)](n,s),d=0,g=0,m=0;r&&(p=Math[c(493)](p/r)*r),d=f*Math.cos(u)*p,g=f*Math[c(725)](u)*p,m=l*p,d*=o.x,g*=o.y,m*=o.z,d+=i.x,g+=i.y,m+=i.z,t.typedArray[c(600)](e,d,g,m)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=h;let c=6.2832*Math.random(),l=Math[a(704)](this.randomFloat(n,s)),u=0,f=0,p=0;r&&(l=Math[a(493)](l/r)*r),u=Math[a(484)](c)*l,f=Math[a(725)](c)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t.typedArray.setVec3Components(e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=h,i=new(t[e(747)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(829)](a),i.x-=s,i.y-=o,i.z-=r,i[l(562)]()[l(421)](-this.randomFloat(c,h)),t[l(396)][l(600)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=h,i=new(t[e(747)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(829)](a),i.x-=s,i.y-=o,i.z-=r,i[l(562)]().multiplyScalar(-this[l(377)](c,h)),t[l(396)][l(600)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new(t[e(747)]),n=new o,s=new(t[e(640)]),r=new(t[e(747)])(1,1,1);return function(t,o){const a=e;return i[a(829)](t)[a(562)](),n[a(829)](o)[a(562)](),i.x+=.5*-o.x+Math[a(721)]()*o.x,i.y+=.5*-o.y+Math[a(721)]()*o.y,i.z+=.5*-o.z+Math.random()*o.z,i[a(562)]().add(r)[a(421)](.5),s[a(385)](i.x,i.y,i.z),s.getHex()}}()},d[h(386)]=function(e){const i=h,s=d[i(440)],o=s[i(819)];(e=s.ensureTypedArg(e,o.OBJECT,{})).texture=s[i(590)](e[i(413)],o[i(573)],{}),this[i(700)]=r[i(437)](),this[i(683)]=s[i(590)](e[i(683)],o[i(531)],.016),this[i(413)]=s.ensureInstanceOf(e[i(413)][i(827)],a,null),this[i(457)]=s[i(781)](e[i(413)][i(739)],t[i(557)],new(t[i(557)])(1,1)),this[i(598)]=s[i(590)](e[i(413)][i(537)],o[i(531)],this[i(457)].x*this[i(457)].y),this[i(522)]=s.ensureTypedArg(e[i(413)][i(710)],o[i(531)],1),this[i(457)][i(729)](new n(1,1)),this[i(565)]=s[i(590)](e[i(565)],o[i(456)],!0),this[i(787)]=s[i(590)](e[i(787)],o[i(456)],!0),this[i(401)]=s.ensureTypedArg(e[i(401)],o.NUMBER,null),this.blending=s[i(590)](e.blending,o[i(531)],t[i(745)]),this.transparent=s.ensureTypedArg(e[i(762)],o[i(456)],!0),this[i(624)]=parseFloat(s[i(590)](e.alphaTest,o[i(531)],0)),this[i(505)]=s[i(590)](e[i(505)],o[i(456)],!1),this[i(778)]=s[i(590)](e[i(778)],o.BOOLEAN,!0),this[i(468)]=s[i(590)](e.fog,o.BOOLEAN,!0),this[i(707)]=s.ensureTypedArg(e[i(707)],o[i(531)],300),this[i(365)]=[],this.emitterIDs=[],this._pool=[],this[i(473)]=null,this[i(693)]=0,this._attributesNeedRefresh=!1,this[i(424)]=!1,this[i(500)]=0,this[i(808)]={tex:{type:"t",value:this[i(413)]},textureAnimation:{type:"v4",value:new(t[i(669)])(this[i(457)].x,this[i(457)].y,this[i(598)],Math[i(729)](Math[i(704)](this.textureLoop),1))},fogColor:{type:"c",value:this[i(468)]?new(t[i(640)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[i(751)]={HAS_PERSPECTIVE:this[i(565)],COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:d[i(492)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(457)].x>1||this[i(457)].y>1},this[i(738)]={position:new(d[i(689)])("v3",!0),acceleration:new(d[i(689)])("v4",!0),velocity:new(d[i(689)])("v3",!0),rotation:new(d[i(689)])("v4",!0),rotationCenter:new d.ShaderAttribute("v3",!0),params:new(d[i(689)])("v4",!0),size:new(d[i(689)])("v4",!0),angle:new(d[i(689)])("v4",!0),color:new d.ShaderAttribute("v4",!0),opacity:new(d[i(689)])("v4",!0)},this[i(523)]=Object[i(417)](this[i(738)]),this[i(480)]=this[i(523)][i(813)],this[i(780)]=new(t[i(674)])({uniforms:this[i(808)],vertexShader:d[i(519)][i(643)],fragmentShader:d[i(519)][i(763)],blending:this.blending,transparent:this[i(762)],alphaTest:this[i(624)],depthWrite:this.depthWrite,depthTest:this[i(778)],defines:this[i(751)],fog:this[i(468)]}),this[i(646)]=new(t[i(490)]),this[i(782)]=new c(this.geometry,this[i(780)]),null===this[i(401)]&&console.warn(i(761))},d[h(386)].constructor=d[h(386)],d[h(386)][h(465)]._updateDefines=function(){const t=h;let e,i=this[t(365)],n=i[t(813)]-1,s=this[t(751)];for(;n>=0;--n)e=i[n],!s[t(550)]&&(s.SHOULD_ROTATE_TEXTURE=s[t(466)]||!!Math[t(729)](Math.max[t(695)](null,e[t(525)].value),Math[t(729)].apply(null,e[t(525)].spread))),s[t(554)]=s[t(554)]||!!Math[t(729)](e.rotation[t(525)],e[t(444)].angleSpread),s[t(494)]=s[t(494)]||!!Math[t(729)](e.wiggle[t(827)],e[t(445)][t(369)]);this[t(780)][t(420)]=!0},d[h(386)][h(465)][h(383)]=function(){const t=h;let e,i,n=this[t(738)],s=this[t(646)],o=s[t(738)];for(const r in n)n[t(477)](r)&&(e=n[r],i=o[r],i?i.array=e[t(396)][t(671)]:s[t(410)](r,e[t(705)]),e[t(705)].needsUpdate=!0);this[t(646)][t(426)](0,this[t(500)])},d.Group[h(465)][h(698)]=function(t){const e=h;if(t instanceof d[e(399)]==!1)return void console[e(677)](e(663),t);if(this.emitterIDs[e(667)](t[e(700)])>-1)return void console[e(677)](e(757));if(null!==t[e(545)])return void console[e(677)](e(742));const i=this[e(738)],n=this[e(500)],s=n+t[e(500)];this[e(500)]=s,null!==this[e(401)]&&this.particleCount>this[e(401)]&&console[e(486)](e(509),this[e(500)],e(769),this.maxParticleCount),t[e(529)](t[e(668)][e(482)]+t.maxAge._spread),t._setBufferUpdateRanges(this.attributeKeys),t[e(735)](n),t[e(545)]=this,t[e(738)]=this[e(738)];for(const o in i)i[e(477)](o)&&i[o][e(412)](null!==this[e(401)]?this.maxParticleCount:this.particleCount);for(let o=n;o<s;++o)t[e(476)](o),t[e(665)](o,"velocity"),t._assignForceValue(o,"acceleration"),t[e(702)](o,e(582)),t._assignAbsLifetimeValue(o,e(685)),t[e(540)](o),t._assignRotationValue(o),t[e(672)](o),t[e(717)](o);return this._applyAttributesToGeometry(),this[e(365)][e(656)](t),this[e(587)].push(t.uuid),this[e(496)](t),this[e(780)][e(420)]=!0,this[e(646)][e(420)]=!0,this[e(371)]=!0,this},d[h(386)][h(465)][h(779)]=function(t){const e=h,i=this.emitterIDs[e(667)](t[e(700)]);if(t instanceof d[e(399)]==!1)return void console.error(e(663),t);if(-1===i)return void console[e(677)](e(802));const n=t.attributeOffset,s=n+t[e(500)],o=this[e(738)][e(715)].typedArray;for(let r=n;r<s;++r)o[e(671)][4*r]=0,o[e(671)][4*r+1]=0;this[e(365)][e(366)](i,1),this[e(587)][e(366)](i,1);for(const r in this[e(738)])this.attributes.hasOwnProperty(r)&&this[e(738)][r].splice(n,s);this[e(500)]-=t[e(500)],t[e(832)](),this[e(371)]=!0},d[h(386)][h(465)][h(498)]=function(){const t=h,e=this[t(768)],i=this[t(693)];if(e.length)return e[t(837)]();if(i){const e=new(d[t(399)])(this._poolCreationSettings);return this[t(698)](e),e}return null},d[h(386)].prototype[h(566)]=function(t){const e=h;if(t instanceof d[e(399)]!=!1)return t.reset(),this[e(768)].unshift(t),this;console[e(677)](e(626),t)},d[h(386)][h(465)].getPool=function(){return this[h(768)]},d[h(386)][h(465)].addPool=function(t,e,i){const n=h;let s;this._poolCreationSettings=e,this[n(693)]=!!i;for(let o=0;o<t;++o)s=Array[n(541)](e)?new d.Emitter(e[o]):new d.Emitter(e),this.addEmitter(s),this[n(566)](s);return this},d[h(386)][h(465)][h(797)]=function(e){const i=h,n=this[i(498)](),s=this;if(null!==n)return e instanceof t[i(747)]&&(n[i(637)][i(827)][i(829)](e),n[i(637)][i(827)]=n.position.value),n[i(589)](),setTimeout((()=>{const t=i;n[t(528)](),s[t(566)](n)}),1e3*Math.max(n.duration,n.maxAge[i(827)]+n[i(668)][i(369)])),this;console[i(469)]("SPE.Group pool ran out.")},d[h(386)][h(465)].triggerPoolEmitter=function(t,e){const i=h;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(797)](e);else this._triggerSingleEmitter(e);return this},d[h(386)][h(465)][h(748)]=function(t){const e=h;this.uniforms[e(648)][e(827)]+=t,this[e(808)][e(373)].value=t},d[h(386)][h(465)][h(559)]=function(){const t=h;let e=this[t(523)],i=this.attributeCount-1,n=this[t(738)];for(;i>=0;--i)n[e[i]][t(425)]()},d.Group.prototype._updateBuffers=function(t){const e=h;let i,n,s,o=this.attributeKeys,r=this.attributeCount-1,a=this[e(738)],c=t[e(696)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(619)](n[e(583)],n[e(729)]),s[e(504)]()},d[h(386)].prototype[h(767)]=function(t){const e=h;var i=this[e(365)],n=i[e(813)],s=t||this[e(683)],o=this.attributeKeys,r=this[e(738)];if(this[e(748)](s),this[e(559)](),0!==n||!1!==this._attributesNeedRefresh||!1!==this[e(424)]){for(var a,c=0;c<n;++c)(a=i[c])[e(767)](s),this[e(506)](a);if(!0===this[e(424)]){for(c=this[e(480)]-1;c>=0;--c)r[o[c]][e(706)]();this[e(424)]=!1}if(!0===this[e(371)]){for(c=this.attributeCount-1;c>=0;--c)r[o[c]].forceUpdateAll();this[e(371)]=!1,this[e(424)]=!0}}},d[h(386)][h(465)][h(411)]=function(){const t=h;return this[t(646)][t(411)](),this[t(780)][t(411)](),this},d[h(399)]=function(e){const i=h,n=d[i(440)],s=n.types,a=d.valueOverLifetimeLength;(e=n[i(590)](e,s[i(573)],{}))[i(637)]=n[i(590)](e[i(637)],s.OBJECT,{}),e[i(499)]=n.ensureTypedArg(e[i(499)],s[i(573)],{}),e.acceleration=n.ensureTypedArg(e.acceleration,s.OBJECT,{}),e[i(581)]=n.ensureTypedArg(e.radius,s[i(573)],{}),e[i(756)]=n.ensureTypedArg(e[i(756)],s[i(573)],{}),e.rotation=n[i(590)](e[i(444)],s[i(573)],{}),e[i(760)]=n[i(590)](e[i(760)],s[i(573)],{}),e[i(582)]=n[i(590)](e[i(582)],s.OBJECT,{}),e[i(685)]=n[i(590)](e[i(685)],s[i(573)],{}),e[i(525)]=n.ensureTypedArg(e[i(525)],s[i(573)],{}),e[i(445)]=n.ensureTypedArg(e.wiggle,s[i(573)],{}),e[i(668)]=n[i(590)](e[i(668)],s[i(573)],{}),e[i(388)]&&console[i(486)](i(378)),this.uuid=r[i(437)](),this[i(724)]=n.ensureTypedArg(e.type,s[i(531)],d[i(556)][i(584)]),this[i(637)]={_value:n[i(781)](e[i(637)][i(827)],t[i(747)],new o),_spread:n[i(781)](e[i(637)][i(369)],o,new(t[i(747)])),_spreadClamp:n[i(781)](e[i(637)][i(826)],t[i(747)],new o),_distribution:n[i(590)](e.position[i(675)],s.NUMBER,this.type),_randomise:n.ensureTypedArg(e[i(637)][i(812)],s[i(456)],!1),_radius:n.ensureTypedArg(e.position.radius,s[i(531)],10),_radiusScale:n[i(781)](e[i(637)][i(448)],t[i(747)],new o(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(637)][i(592)],s[i(531)],0)},this[i(499)]={_value:n[i(781)](e[i(499)][i(827)],t[i(747)],new(t[i(747)])),_spread:n[i(781)](e.velocity[i(369)],o,new(t[i(747)])),_distribution:n[i(590)](e[i(499)][i(675)],s.NUMBER,this[i(724)]),_randomise:n[i(590)](e[i(637)][i(812)],s[i(456)],!1)},this[i(638)]={_value:n[i(781)](e[i(638)][i(827)],t[i(747)],new o),_spread:n.ensureInstanceOf(e[i(638)].spread,t[i(747)],new(t[i(747)])),_distribution:n.ensureTypedArg(e[i(638)][i(675)],s[i(531)],this.type),_randomise:n[i(590)](e[i(637)][i(812)],s[i(456)],!1)},this[i(756)]={_value:n[i(590)](e[i(756)][i(827)],s[i(531)],0),_spread:n[i(590)](e[i(756)].spread,s[i(531)],0),_randomise:n[i(590)](e.position.randomise,s[i(456)],!1)},this.wiggle={_value:n.ensureTypedArg(e.wiggle[i(827)],s[i(531)],0),_spread:n[i(590)](e[i(445)][i(369)],s.NUMBER,0)},this[i(444)]={_axis:n[i(781)](e[i(444)][i(659)],t[i(747)],new(t[i(747)])(0,1,0)),_axisSpread:n[i(781)](e[i(444)][i(579)],t[i(747)],new(t[i(747)])),_angle:n[i(590)](e[i(444)][i(525)],s[i(531)],0),_angleSpread:n.ensureTypedArg(e.rotation[i(515)],s[i(531)],0),_static:n.ensureTypedArg(e[i(444)].static,s[i(456)],!1),_center:n.ensureInstanceOf(e.rotation[i(543)],t[i(747)],this[i(637)][i(482)][i(467)]()),_randomise:n[i(590)](e[i(637)][i(812)],s[i(456)],!1)},this[i(668)]={_value:n[i(590)](e[i(668)].value,s[i(531)],2),_spread:n.ensureTypedArg(e[i(668)][i(369)],s.NUMBER,0)},this[i(760)]={_value:n[i(564)](e[i(760)][i(827)],t[i(640)],new(t[i(640)])),_spread:n[i(564)](e[i(760)][i(369)],t[i(747)],new(t[i(747)])),_randomise:n[i(590)](e[i(637)][i(812)],s[i(456)],!1)},this[i(582)]={_value:n[i(634)](e[i(582)].value,s[i(531)],1),_spread:n[i(634)](e[i(582)][i(369)],s[i(531)],0),_randomise:n[i(590)](e.position.randomise,s[i(456)],!1)},this[i(685)]={_value:n.ensureArrayTypedArg(e[i(685)][i(827)],s[i(531)],1),_spread:n[i(634)](e[i(685)][i(369)],s[i(531)],0),_randomise:n[i(590)](e.position[i(812)],s[i(456)],!1)},this[i(525)]={_value:n[i(634)](e[i(525)][i(827)],s[i(531)],0),_spread:n[i(634)](e[i(525)][i(369)],s.NUMBER,0),_randomise:n[i(590)](e.position[i(812)],s.BOOLEAN,!1)},this[i(500)]=n[i(590)](e.particleCount,s[i(531)],100),this[i(384)]=n[i(590)](e.duration,s[i(531)],null),this[i(811)]=n[i(590)](e[i(811)],s[i(456)],!1),this[i(776)]=n.ensureTypedArg(e[i(776)],s.NUMBER,1),this[i(801)]=n[i(590)](e[i(801)],s.NUMBER,1),this[i(793)]=n[i(590)](e[i(793)],s[i(456)],!0),this.particlesPerSecond=0,this[i(395)]=0,this.attributeOffset=0,this.attributeEnd=0,this[i(563)]=0,this.activeParticleCount=0,this[i(545)]=null,this[i(738)]=null,this[i(521)]=null,this[i(375)]={position:n.ensureTypedArg(e[i(637)][i(812)],s[i(456)],!1)||n[i(590)](e[i(581)][i(812)],s[i(456)],!1),velocity:n.ensureTypedArg(e[i(499)][i(812)],s[i(456)],!1),acceleration:n[i(590)](e[i(638)][i(812)],s[i(456)],!1)||n[i(590)](e.drag[i(812)],s.BOOLEAN,!1),rotation:n[i(590)](e[i(444)].randomise,s[i(456)],!1),rotationCenter:n.ensureTypedArg(e.rotation.randomise,s[i(456)],!1),size:n[i(590)](e.size[i(812)],s[i(456)],!1),color:n[i(590)](e[i(760)].randomise,s[i(456)],!1),opacity:n[i(590)](e[i(582)][i(812)],s[i(456)],!1),angle:n[i(590)](e[i(525)][i(812)],s.BOOLEAN,!1)},this[i(389)]={},this.updateCounts={},this[i(419)]={maxAge:i(715),position:i(637),velocity:i(499),acceleration:i(638),drag:i(638),wiggle:i(715),rotation:i(444),size:i(685),color:i(760),opacity:i(582),angle:"angle"};for(const t in this.updateMap)this[i(419)][i(477)](t)&&(this[i(613)][this[i(419)][t]]=0,this[i(389)][this[i(419)][t]]=!1,this._createGetterSetters(this[t],t));this[i(696)]={},this[i(523)]=null,this[i(480)]=0,n[i(454)](this[i(760)],a,a),n[i(454)](this.opacity,a,a),n.ensureValueOverLifetimeCompliance(this.size,a,a),n[i(454)](this[i(525)],a,a)},d.Emitter[h(620)]=d.Emitter,d[h(399)][h(465)][h(483)]=function(t,e){const i=h,n=this;for(const s in t)if(t[i(477)](s)){const o=s[i(800)]("_","");Object[i(368)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=f,o=n.updateMap[e],r=this[t],a=d.valueOverLifetimeLength;"_rotationCenter"===t?(n[s(389)][s(625)]=!0,n[s(613)][s(625)]=0):t===s(577)?n[s(375)][o]=i:(n[s(389)][o]=!0,n[s(613)][o]=0),n[s(545)][s(496)](),this[t]=i,Array[s(541)](r)&&d[s(440)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},d[h(399)][h(465)][h(433)]=function(t){const e=h;this[e(523)]=t,this[e(480)]=t.length;for(let i=this[e(480)]-1;i>=0;--i)this[e(696)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(538)]}},d.Emitter.prototype._calculatePPSValue=function(t){const e=h,i=this.particleCount;this[e(384)]?this[e(408)]=i/(t<this.duration?t:this[e(384)]):this.particlesPerSecond=i/t},d[h(399)][h(465)]._setAttributeOffset=function(t){const e=h;this[e(390)]=t,this.activationIndex=t,this[e(806)]=t+this[e(500)]},d[h(399)][h(465)][h(661)]=function(t,e){const i=h;switch(t){case i(637):this[i(476)](e);break;case i(499):case i(638):this[i(665)](e,t);break;case i(685):case i(582):this._assignAbsLifetimeValue(e,t);break;case i(525):this[i(540)](e);break;case"params":this[i(672)](e);break;case i(444):this[i(568)](e);break;case"color":this._assignColorValue(e)}},d[h(399)].prototype[h(476)]=function(t){const e=h,i=d[e(556)],n=d[e(440)],s=this.position,o=this[e(738)].position,r=s._value,a=s[e(759)];switch(s[e(830)]){case i.BOX:n[e(691)](o,t,r,a,s[e(491)]);break;case i[e(605)]:n[e(487)](o,t,r,s[e(446)],s._spread.x,s[e(459)],s[e(491)].x,s[e(772)]||this[e(500)]);break;case i[e(728)]:n[e(611)](o,t,r,s[e(446)],s[e(759)].x,s[e(459)],s._spreadClamp.x);break;case i.LINE:n[e(415)](o,t,r,a)}},d.Emitter[h(465)][h(665)]=function(t,e){const i=h;let n,s,o,r,a,c=d[i(556)],l=d[i(440)],u=this[e],f=u._value,p=u[i(759)];switch(u[i(830)]){case c[i(584)]:l[i(691)](this[i(738)][e],t,f,p);break;case c[i(605)]:n=this[i(738)][i(637)].typedArray[i(671)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l[i(718)](this[i(738)][e],t,s,o,r,this[i(637)]._value,u[i(482)].x,u[i(759)].x);break;case c[i(728)]:n=this.attributes[i(637)][i(396)][i(671)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l.randomDirectionVector3OnDisc(this[i(738)][e],t,s,o,r,this[i(637)][i(482)],u._value.x,u._spread.x);break;case c[i(533)]:l[i(415)](this[i(738)][e],t,f,p)}if("acceleration"===e){const e=l[i(591)](l[i(377)](this[i(756)][i(482)],this[i(756)][i(759)]),0,1);this[i(738)][i(638)].typedArray[i(671)][4*t+3]=e}},d.Emitter[h(465)][h(702)]=function(t,e){const i=h;let n,s=this.attributes[e][i(396)],o=this[e],r=d.utils;r[i(432)](o._value)&&r[i(432)](o[i(759)])?(n=Math[i(704)](r[i(377)](o[i(482)][0],o._spread[0])),s[i(438)](t,n,n,n,n)):s[i(438)](t,Math[i(704)](r[i(377)](o._value[0],o._spread[0])),Math[i(704)](r.randomFloat(o._value[1],o[i(759)][1])),Math[i(704)](r[i(377)](o[i(482)][2],o[i(759)][2])),Math.abs(r.randomFloat(o[i(482)][3],o[i(759)][3])))},d[h(399)][h(465)][h(540)]=function(t){const e=h;let i,n=this[e(738)].angle[e(396)],s=this.angle,o=d.utils;o[e(432)](s._value)&&o.arrayValuesAreEqual(s[e(759)])?(i=o[e(377)](s[e(482)][0],s[e(759)][0]),n[e(438)](t,i,i,i,i)):n[e(438)](t,o[e(377)](s[e(482)][0],s[e(759)][0]),o.randomFloat(s[e(482)][1],s[e(759)][1]),o[e(377)](s[e(482)][2],s[e(759)][2]),o[e(377)](s._value[3],s[e(759)][3]))},d[h(399)][h(465)][h(672)]=function(t){const e=h;this[e(738)][e(715)][e(396)][e(438)](t,this.isStatic?1:0,0,Math.abs(d[e(440)][e(377)](this.maxAge[e(482)],this[e(668)]._spread)),d.utils[e(377)](this.wiggle[e(482)],this[e(445)][e(759)]))},d[h(399)][h(465)]._assignRotationValue=function(t){const e=h;this[e(738)][e(444)][e(396)][e(600)](t,d[e(440)][e(576)](this[e(444)]._axis,this[e(444)][e(434)]),d[e(440)][e(377)](this[e(444)][e(657)],this[e(444)][e(474)]),this[e(444)][e(678)]?0:1),this[e(738)][e(625)].typedArray[e(570)](t,this[e(444)]._center)},d.Emitter[h(465)][h(717)]=function(t){const e=h;d[e(440)][e(664)](this[e(738)][e(760)],t,this[e(760)][e(482)],this[e(760)][e(759)])},d[h(399)][h(465)][h(367)]=function(t){const e=h;let i,n,s=this[e(375)],o=this[e(389)],r=this[e(613)],a=this[e(523)];for(let c=this.attributeCount-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(661)](i,t),this._updateAttributeUpdateRange(i,t),!0===n&&r[i]===this[e(500)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},d[h(399)][h(465)][h(615)]=function(t,e){const i=h,n=this[i(696)][t];n.min=Math.min(e,n[i(583)]),n[i(729)]=Math[i(729)](e,n[i(729)])},d[h(399)][h(465)][h(559)]=function(){const t=h;let e,i=this[t(696)],n=this[t(733)],s=this[t(392)]-1;for(;s>=0;--s)e=n[s],i[e][t(583)]=Number[t(439)],i[e].max=Number.NEGATIVE_INFINITY},d[h(399)][h(465)][h(832)]=function(){const t=h;this.particlesPerSecond=0,this[t(390)]=0,this.activationIndex=0,this.activeParticleCount=0,this[t(545)]=null,this[t(738)]=null,this[t(521)]=null,this[t(563)]=0},d[h(399)][h(465)][h(574)]=function(){--this[h(666)]},d.Emitter[h(465)][h(501)]=function(){++this[h(666)]},d.Emitter[h(465)][h(580)]=function(t,e,i,n){const s=h;for(var o,r,a,c,l=e-1;l>=t;--l)0!==(c=i[o=4*l])&&(a=i[o+1],r=i[o+2],1===this[s(801)]?(a+=n)>=r&&(a=0,c=0,this[s(574)]()):(a-=n)<=0&&(a=r,c=0,this._decrementParticleCount()),i[o]=c,i[o+1]=a,this[s(615)](s(715),l))},d[h(399)].prototype[h(835)]=function(t,e,i,n){const s=h,o=this[s(801)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(500)]||(this[s(501)](),i[r]=1,this[s(367)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this._updateAttributeUpdateRange(s(715),c))},d[h(399)][h(465)][h(767)]=function(t){const e=h;if(this.isStatic)return;null===this[e(521)]&&(this.paramsArray=this[e(738)][e(715)][e(396)][e(671)]);const i=this.attributeOffset,n=i+this[e(500)],s=this[e(521)],o=this[e(408)]*this.activeMultiplier*t,r=this.activationIndex;if(this[e(559)](),this[e(580)](i,n,s,t),!1===this[e(793)])return void(this.age=0);if(null!==this[e(384)]&&this.age>this[e(384)])return this[e(793)]=!1,void(this[e(563)]=0);const a=1===this.particleCount?r:0|r,c=Math[e(583)](a+o,this[e(806)]),l=c-this[e(395)]|0,u=l>0?t/l:0;this[e(835)](a,c,s,u),this[e(395)]+=o,this[e(395)]>n&&(this[e(395)]=i),this[e(563)]+=t},d[h(399)][h(465)][h(616)]=function(t){const e=h;if(this[e(563)]=0,this.alive=!1,!0===t){const t=this[e(390)],s=t+this[e(500)],o=this[e(521)],r=this[e(738)][e(715)][e(705)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(451)][e(416)]=0,r[e(451)][e(403)]=-1,r[e(420)]=!0}return this},d[h(399)].prototype[h(589)]=function(){return this[h(793)]=!0,this},d[h(399)][h(465)][h(528)]=function(){return this[h(793)]=!1,this},d[h(399)][h(465)][h(464)]=function(){const t=h;return null!==this.group?this[t(545)][t(779)](this):console[t(677)](t(547)),this};const g=d;function m(t){function e(t){const i=f;if(typeof t===i(593))return function(t){}.constructor(i(406))[i(695)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[i(620)](i(719)+"gger")[i(542)](i(596)):function(){return!1}[i(620)](i(719)+i(549))[i(695)](i(585)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{g as _};
