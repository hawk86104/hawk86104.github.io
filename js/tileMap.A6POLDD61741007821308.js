import{_ as t,cI as n,C as e}from"./three.sBrYSCgq1741007821308.js";import{P as o}from"./tweakpane.yDiyAAkA1741007821308.js";import{m as r,e as s}from"./@tresjs.u6hJLBm41741007821308.js";import{P as i,b as a,c,M as u,T as p,a as l,d as f}from"./index.BliWXand1741007821308.js";import{d as m,a2 as g,w as h,o as d,H as w,u as b,v as j,r as x,e as y,j as I,g as v,f as M,m as _,al as C,F as B}from"./@vue.NRI7TcgI1741007821308.js";import{_ as z}from"./raycasterEvent.2bIHr_jb1741007821308.js";import{a as S}from"./utils.EPe3ONgs1741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";import"./@mapbox.lMdYodhq1741007821308.js";import"./three-mesh-bvh.7EsR8FeE1741007821308.js";import"./three-custom-shader-material.3n-EBY0H1741007821308.js";import"./@fesjs.5qm9mpwh1741007821308.js";import"./vue-router.ArfKSsyg1741007821308.js";import"./lodash-es.pklfUAS51741007821308.js";import"./@qlin.yHhFDldE1741007821308.js";import"./pinia.uil_kwoa1741007821308.js";import"./@floating-ui.BPbuo5Gx1741007821308.js";import"./@juggle.7yjBMqoW1741007821308.js";import"./@tweenjs.J1BAvmPw1741007821308.js";import"./utils.qrEcVY0O1741007821308.js";import"./d3-geo.T5A9D3s11741007821308.js";import"./d3-array.AhNJy1f41741007821308.js";import"./http.7xuL-g3j1741007821308.js";import"./axios.qd3pZFDv1741007821308.js";import"./color.dP03HBiW1741007821308.js";import"./@amap.1goFCJT_1741007821308.js";import"./color-string.h2G6o-T91741007821308.js";import"./color-name.NiMvz9kw1741007821308.js";import"./simple-swizzle.1KHzIEH-1741007821308.js";import"./is-arrayish.544ObYDF1741007821308.js";import"./color-convert.73qPTDzr1741007821308.js";import"./lodash.zcP3A5qI1741007821308.js";const k=R;function R(t,n){const e=A();return(R=function(t,n){return e[t-=145]})(t,n)}function A(){const t=["value","genBright","chain","75156bTtafp","string","rotation","error","target","useStandardMaterial","1909hsJOmG","__proto__","apply","call","coordType","console","filter","action","position0","far","964KUJwQA","position","4455fsQJMh","counter","Color","useWorker","flatShading","object","log","gger","table","render","stateObject","set","Vector3","showTileNo","mapCenter","init","5ATOoUR","opposite","warn","constructor","2044024eJuGWv","enableDamping","9284849VndNus","trace","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","innerWidth","length","10PiDGeW","isMonochrome","#fff","bind","tileMapMesh","minDistance","input","exception","tweenInstance","genSaturation","7820388YldiPu","source","PerspectiveCamera","toString","debu","info","return (function() ","prototype","1529310bcpjoB","showBoundingBox","maxZoom","provider","while (true) {}","monochrome","camera","test","6512679NGmWCP","primitive","genContrast","update","8aAmiFR"];return(A=function(){return t})()}!function(t,n){const e=R,o=A();for(;;)try{if(870973===-parseInt(e(156))/1*(parseInt(e(166))/2)+-parseInt(e(213))/3+parseInt(e(188))/4+parseInt(e(184))/5*(parseInt(e(205))/6)+parseInt(e(190))/7*(-parseInt(e(146))/8)+-parseInt(e(221))/9*(parseInt(e(195))/10)+-parseInt(e(168))/11*(-parseInt(e(150))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(158)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=E(t(183));n[t(220)](o+t(149))&&e[t(220)](o+t(201))?E():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(158)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=R;let n;try{n=Function(t(211)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(161)]=n[t(161)]||{},o=[t(174),t(186),t(210),t(153),t(202),t(176),t(191)];for(let s=0;s<o[t(194)];s++){const n=T[t(187)][t(212)][t(198)](T),r=o[s],i=e[r]||n;n[t(157)]=T.bind(T),n[t(208)]=i[t(208)][t(198)](i),e[r]=n}}))();const G=[k(173),k(152)],Z=m({__name:k(199),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(197)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:f}){const m=k,j=o,{renderer:x,scene:y}=r();(new i)[m(160)]=a;const I=new c;I[m(206)]=m(192),I[m(160)]=a;const v=new u;v[m(206)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",v[m(181)]=!1,v[m(171)]=!0;const M=new p(I,v);if(M[m(214)]=!1,M.wireframe=!1,M[m(172)]=!1,M[m(155)]=!1,M[m(162)]={opposite:j[m(185)],monochrome:j.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:j[m(148)],genContrast:j[m(223)],genSaturation:j.genSaturation},j[m(218)]){let n=new(t[m(170)])(j.monochrome);M[m(162)]&&(M[m(162)][m(218)]={r:n.r,g:n.g,b:n.b})}const _=new l;_[m(216)]=M,_.bbox=j.bbox,_[m(215)]=j.maxZoom;const C=new(t[m(207)])(60,window[m(193)]/window.innerHeight,1,1e8);C.up=new(t[m(180)])(0,1,0),C[m(167)][m(179)](j[m(182)][0],j.mapCenter[2],-j.mapCenter[1]),C.lookAt(new(t[m(180)])(C[m(167)].x,0,C[m(167)].z-2e3)),_[m(219)]=C;let B=null;g((()=>{const t=m;x.value&&!B&&(B=new n(C,x.value.domElement),B[t(189)]=!0,B.dampingFactor=.05,B[t(200)]=600,B[t(164)][t(179)](C[t(167)].x,C.position.y,C[t(167)].z),B[t(154)][t(179)](C.position.x,0,C[t(167)].z-2e3))})),h((()=>[j[m(185)],j[m(196)],j[m(218)]]),(([t,n,o])=>{const r=m;if(M[r(162)]){let s=new e(o);M[r(162)][r(185)]=t,M[r(162)].monochrome=n?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[j.genBright,j[m(223)],j[m(204)]]),(([t,n,e])=>{const o=m;M[o(162)]&&(M[o(162)].genBright=t,M.filter[o(223)]=n,M[o(162)][o(204)]=e)}));const{onLoop:z}=s();return z((()=>{var t;const n=m;if(x[n(147)]){null==(t=j[n(203)])||t[n(145)](),B&&B[n(145)](),_.update();const e=50*Math.abs(C[n(167)].y);C[n(165)]=e+5e3,C.updateProjectionMatrix(),x[n(147)][n(177)](y[n(147)],C)}})),f({camera:C,map:_,orbitControl:B}),(t,n)=>{const e=m;return d(),w(e(222),{object:b(_),rotation:[-Math.PI/2,0,0]},null,8,G)}}});function E(t){function n(t){const e=R;if(typeof t===e(151))return function(t){}[e(187)](e(217))[e(158)](e(169));1!==(""+t/t)[e(194)]||t%20==0?function(){return!0}[e(187)](e(209)+"gger")[e(159)](e(163)):function(){return!1}[e(187)](e(209)+e(175))[e(158)](e(178)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=V;function W(){const t=["debu","genContrast","单色滤镜","滤镜颜色","addBlade","bind","94318RpoGSV","4037778Ibrddm","list","test","#201919","while (true) {}","4171015kSRXdK","nss","gger","stateObject","1216016VAxQXe","init","饱和度","genSaturation","action","value","isMonochrome","892949pIeweG","change","length","tileMap","chain","return (function() ","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tweenInstance","function *\\( *\\)","input","toString","对比度","NoToneMapping","error","apply","orbitControl","string","3558024yiRroF","牛首山","16PLiMXz",'{}.constructor("return this")( )',"4127013qImNko","奥体中心","monochrome","info","constructor","counter","camera","TresCanvas","tileMapMeshRef","addBinding","prototype","console","SRGBColorSpace"];return(W=function(){return t})()}!function(t,n){const e=V,o=W();for(;;)try{if(769894===parseInt(e(296))/1+parseInt(e(347))/2+-parseInt(e(318))/3+-parseInt(e(314))/4+parseInt(e(343))/5+parseInt(e(338))/6+parseInt(e(337))/7*(parseInt(e(316))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=W();return(V=function(t,n){return e[t-=295]})(t,n)}!function(){N(this,(function(){const t=V,n=new RegExp(t(305)),e=new RegExp(t(303),"i"),o=L(t(348));n.test(o+t(300))&&e[t(340)](o+t(306))?L():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();D(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(301)+t(317)+");")()}catch(e){n=window}return n}(),e=n[t(329)]=n[t(329)]||{},o=["log","warn",t(321),t(310),"exception","table","trace"];for(let r=0;r<o[t(298)];r++){const n=D.constructor[t(328)].bind(D),s=o[r],i=e[s]||n;n.__proto__=D[t(336)](D),n.toString=i[t(307)][t(336)](i),e[s]=n}}))();const J=m({__name:F(299),setup(n){const e=F,r=f(118.779958,32.017136),s=[r[0],r[1],5e3],i=j(),a=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:s,tweenInstance:null}),c=new o({title:"参数"});c[e(327)](a,"opposite",{label:"反色"}),c[e(327)](a,"genBright",{label:"高亮",min:.1,max:3,step:.1}),c.addBinding(a,e(332),{label:e(308),min:.1,max:3,step:.1}),c.addBinding(a,e(350),{label:e(349),min:.1,max:3,step:.1}),c[e(327)](a,e(295),{label:e(333)}),c[e(327)](a,e(320),{label:e(334)});const u={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};c[e(335)]({view:e(339),label:"飞去",options:[{text:e(319),value:"at"},{text:"新街口",value:"xjk"},{text:e(315),value:e(344)}],value:"at"}).on(e(297),(n=>{const o=e,r=new(t[o(302)])(u[n[o(352)]][0],2e3,-u[n[o(352)]][1]);a.tweenInstance=S(i[o(352)][o(324)],r,i[o(352)][o(312)],[0,-300],4e3)}));const p=x({clearColor:e(341),antialias:!0,logarithmicDepthBuffer:!0,renderMode:"manual",outputColorSpace:t[e(330)],toneMapping:t[e(309)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(302)])(o[0],1600,-o[1]);a[n(304)]=S(i[n(352)][n(324)],r,i[n(352)][n(312)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=y(o(325));return d(),w(B,null,[I(r,_(p,{"window-size":""}),{default:v((()=>[(d(),M(C,null,{default:v((()=>[I(Z,_(a,{ref_key:o(326),ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(z,{tileMapRef:i[o(352)]},null,8,["tileMapRef"])],64)}}});function L(t){function n(t){const e=V;if(typeof t===e(313))return function(t){}.constructor(e(342)).apply(e(323));1!==(""+t/t)[e(298)]||t%20==0?function(){return!0}.constructor(e(331)+e(345)).call(e(351)):function(){return!1}[e(322)](e(331)+"gger")[e(311)](e(346)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
