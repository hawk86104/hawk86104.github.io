import{D as t,o as n}from"./@tresjs.rE98Wm941741490461506.js";import{P as e}from"./tweakpane.yDiyAAkA1741490461506.js";import{Y as o,_ as r,c as a,ak as s,al as i}from"./three.Vxh8Czkt1741490461506.js";import{_ as c}from"./heatmap.js-fix.6C9gbBjF1741490461506.js";import{d as u,a3 as l,a2 as p,o as f,H as d,u as h,r as m,e as g,f as v,g as y,N as b,j as w,al as _,aj as x,ak as j,m as I}from"./@vue.NRI7TcgI1741490461506.js";import"./postprocessing.wUw4_rsV1741490461506.js";import"./@vueuse.9Z-Ayxy41741490461506.js";import"./@amap.TO4JQn7s1741490461506.js";const C=z;!function(t,n){const e=z,o=E();for(;;)try{if(822038===parseInt(e(362))/1+-parseInt(e(356))/2+parseInt(e(377))/3*(-parseInt(e(408))/4)+parseInt(e(392))/5+parseInt(e(352))/6+-parseInt(e(359))/7*(parseInt(e(403))/8)+-parseInt(e(411))/9*(-parseInt(e(383))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(396)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=z,n=new RegExp(t(382)),e=new RegExp(t(401),"i"),o=B(t(355));n[t(405)](o+"chain")&&e[t(405)](o+t(385))?B():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(396)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(t,n){const e=E();return(z=function(t,n){return e[t-=346]})(t,n)}k(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function("return (function() "+t(414)+");")()}catch(e){n=window}return n}(),e=n[t(419)]=n.console||{},o=[t(395),t(398),"info","error",t(420),t(372),"trace"];for(let r=0;r<o[t(416)];r++){const n=k.constructor[t(404)][t(368)](k),a=o[r],s=e[a]||n;n.__proto__=k[t(368)](k),n[t(388)]=s[t(388)][t(368)](s),e[a]=n}}))();const D=[C(370)];function E(){const t=["block","console","exception","string","action","debu","gger","top","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","2322156YEDEuh","set","addData","init","1673728nptJyX","40px","setAttribute","8090369OuFVDB","while (true) {}","display","1439323vnHgRs","count","body","create","layerY","radius","bind","getZ","object","setDataMax","table","0.8","call","heatmapClickCom","computeBoundingBox","3qKZIyt","left","./draco/","primitive","boundingBox","function *\\( *\\)","2478530nEghoT","1px solid #5384ff","input","counter","setScalar","toString","push","scale","onclick","8202980DElKiH","createElement","mesh_0","log","apply","heatmap-canvas","warn","needsUpdate","DoubleSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","show2dCanvas","8VeCUSx","prototype","test","position","constructor","3600516lneQCZ","getX","ShaderMaterial","9wxITJi","style","attributes",'{}.constructor("return this")( )',"canvas","length","appendChild"];return(E=function(){return t})()}const A=u({__name:C(375),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const u=n,{nodes:m}=([s,i]=l((()=>t(e(351),{draco:!0,decoderPath:e(379)}))),s=await s,i(),s);m.mesh_0[e(406)][e(353)](-5088.96,-3.08,39374.7),m.mesh_0[e(390)][e(387)](.01);let g=null,v=null,y=null;v=new o((()=>{const t=e;return y=document[t(393)](t(397)),y[t(412)][t(406)]="absolute",y.style[t(350)]=t(357),y[t(412)][t(378)]="0",document[t(364)][t(417)](y),g=c[t(365)]({container:y,width:256,height:256,blur:t(373),radius:u[t(367)]}),g._renderer[t(415)][t(412)].border=t(384),g._renderer[t(415)][t(391)]=function(n){const e=t;g[e(354)]({x:n.layerX,y:n[e(366)],value:1,radius:u[e(367)]}),g[e(371)](1),v&&(v[e(399)]=!0)},g})()._renderer.canvas);const b={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(400)]},w=new(r[e(410)])(b);m[e(394)].material=w;return(t=>{const n=e;t[n(376)]();const{max:o,min:r}=t[n(381)];t.deleteAttribute("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(413)][n(406)][n(363)];e++)c[n(389)]((t[n(413)][n(406)][n(409)](e)-r.x)/s),c[n(389)]((t.attributes.position[n(369)](e)-r.z)/i);const u=new Float32Array(c);t[n(358)]("uv",new a(u,2))})(m[e(394)].geometry),p((()=>{const t=e;y[t(412)][t(361)]=""+(u[t(402)]?t(418):"none")})),(t,n)=>{const o=e;return f(),d(o(380),{object:h(m)[o(394)]},null,8,D)}}});function B(t){function n(t){const e=z;if(typeof t===e(346))return function(t){}[e(407)](e(360))[e(396)](e(386));1!==(""+t/t).length||t%20==0?function(){return!0}[e(407)]("debu"+e(349))[e(374)](e(347)):function(){return!1}.constructor(e(348)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function M(){const t=["显示二维图","gger","chain","input","counter","TresDirectionalLight","addButton","1311600QnLObq","table","1491444aJXkvE","show2dCanvas","bind","warn","constructor","addBinding","error","trace","21608832uezlBH","120860KbYzGt","test",'{}.constructor("return this")( )',"info","4272117fGeqRF","9402456wzBDMG","toString","init","3313405USAZAG","#ffffff","while (true) {}","stateObject","__proto__","exception","#030311","return (function() ","圆圈的大小","TresPerspectiveCamera","console","12NQLCjL","string","debu","length","radius","点击左侧蓝色画框","apply"];return(M=function(){return t})()}!function(t,n){const e=O,o=M();for(;;)try{if(720537===-parseInt(e(414))/1+-parseInt(e(405))/2+-parseInt(e(418))/3+parseInt(e(403))/4+parseInt(e(422))/5*(parseInt(e(389))/6)+-parseInt(e(419))/7+parseInt(e(413))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(395)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=O,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=U(t(421));n[t(415)](o+t(398))&&e[t(415)](o+t(399))?U():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=O;let n;try{n=Function(t(429)+t(416)+");")()}catch(r){n=window}const e=n[t(432)]=n[t(432)]||{},o=["log",t(408),t(417),t(411),t(427),t(404),t(412)];for(let a=0;a<o[t(392)];a++){const n=T.constructor.prototype[t(407)](T),r=o[a],s=e[r]||n;n[t(426)]=T[t(407)](T),n.toString=s[t(420)][t(407)](s),e[r]=n}}))();const Z=u({__name:"heatmapClick",setup(t){const o=O,r={clearColor:o(428),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(410)](a,o(406),{label:o(396)}),c[o(410)](a,o(393),{label:o(430),min:.1,max:30,step:.1}),c[o(402)]({title:o(394)}),(t,e)=>{const s=o,i=g("TresCanvas");return f(),v(i,I(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=b(s(431),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(s(401),{position:[5,10,7.5],color:s(423),intensity:5},null,-1)),e[2]||(e[2]=b("TresGridHelper",{args:[50,25]},null,-1)),(f(),v(_,null,{default:y((()=>[w(A,x(j(a)),null,16)])),_:1}))])),_:1},16)}}});function O(t,n){const e=M();return(O=function(t,n){return e[t-=389]})(t,n)}function U(t){function n(t){const e=O;if(typeof t===e(390))return function(t){}[e(409)](e(424))[e(395)](e(400));1!==(""+t/t)[e(392)]||t%20==0?function(){return!0}[e(409)](e(391)+e(397)).call("action"):function(){return!1}.constructor("debu"+e(397))[e(395)](e(425)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
