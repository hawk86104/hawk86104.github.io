import{C as t,_ as n,V as e,cz as o}from"./three.ZddO3ejJ1726800306729.js";import{P as r}from"./tweakpane.yHWGBmom1726800306729.js";import{p as s,U as i}from"./@tresjs.pv1MNfNv1726800306729.js";import{P as a,b as c,c as u,M as p,T as l,a as m,d as f}from"./index.mogVe1Nj1726800306729.js";import{d as g,a3 as d,w as h,o as j,E as b,u as w,Y as v,r as x,e as y,j as I,g as M,f as _,al as z,m as C,F as S}from"./@vue.bvMz0l_u1726800306729.js";import{_ as B}from"./raycasterEvent.sqZvEnuf1726800306729.js";import{a as k}from"./utils.b1L2m4PN1726800306729.js";import"./@vueuse.bZHkTEeA1726800306729.js";import"./@mapbox.UYtmokeP1726800306729.js";import"./@amap.soyOEMuN1726800306729.js";import"./three-mesh-bvh.iupZHg7-1726800306729.js";import"./three-custom-shader-material.qYXdA-3z1726800306729.js";import"./object-hash.4nPceUw51726800306729.js";import"./jszip.1BnN4Vdj1726800306729.js";import"./glsl-tokenizer.0YDyBMML1726800306729.js";import"./glsl-token-string.ZdNsnbc61726800306729.js";import"./glsl-token-functions.dtMvnwCZ1726800306729.js";import"./@fesjs.ZmXcHXlr1726800306729.js";import"./vue-router.IQrzWmDn1726800306729.js";import"./lodash-es.guXTxyfJ1726800306729.js";import"./@qlin.yHhFDldE1726800306729.js";import"./pinia.sgFdRj_31726800306729.js";import"./@floating-ui.BPbuo5Gx1726800306729.js";import"./@juggle.7yjBMqoW1726800306729.js";import"./@tweenjs.zdhk2VeU1726800306729.js";import"./utils.9aC0o5aL1726800306729.js";import"./d3-geo.4kW6b3c-1726800306729.js";import"./d3-array.AhNJy1f41726800306729.js";import"./http.EOSmuPQ91726800306729.js";import"./axios.Ng308AU61726800306729.js";import"./color.q-Zf0FJy1726800306729.js";import"./color-string.vV2ayIpZ1726800306729.js";import"./color-name.3ayqAeTs1726800306729.js";import"./simple-swizzle.9mSbpqnD1726800306729.js";import"./is-arrayish.IeT92GiG1726800306729.js";import"./color-convert.QeAGOKfC1726800306729.js";import"./lodash.6uMKEZHA1726800306729.js";import"./naive-ui.cdq1ZcKc1726800306729.js";import"./css-render.P2NvqUkb1726800306729.js";import"./@emotion.ZD_ZYAgY1726800306729.js";import"./@css-render.tJrKYM4K1726800306729.js";import"./seemly.SjiSeX2v1726800306729.js";import"./vooks.L0uo3try1726800306729.js";import"./evtd.DtfwxtIl1726800306729.js";import"./vueuc.8gHHHbrC1726800306729.js";import"./vdirs.xOOxbevj1726800306729.js";import"./date-fns.zgXLsoBs1726800306729.js";import"./treemate.dcEdf2le1726800306729.js";import"./date-fns-tz.y2zR_yno1726800306729.js";import"./async-validator.-YBkpS4I1726800306729.js";const E=F;!function(t,n){const e=F,o=D();for(;;)try{if(132775===parseInt(e(226))/1*(-parseInt(e(177))/2)+parseInt(e(182))/3*(parseInt(e(180))/4)+-parseInt(e(218))/5+parseInt(e(193))/6*(parseInt(e(240))/7)+parseInt(e(188))/8*(-parseInt(e(232))/9)+-parseInt(e(236))/10*(-parseInt(e(228))/11)+-parseInt(e(211))/12*(parseInt(e(202))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(215)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=F,n=new RegExp(t(184)),e=new RegExp(t(213),"i"),o=N("init");n.test(o+"chain")&&e[t(203)](o+t(233))?N():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(215)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(235)+t(187)+");")()}catch(e){n=window}return n}(),e=n[t(245)]=n[t(245)]||{},o=[t(241),t(173),t(221),t(206),t(189),t(183),"trace"];for(let r=0;r<o[t(196)];r++){const n=Z.constructor.prototype[t(247)](Z),s=o[r],i=e[s]||n;n[t(172)]=Z[t(247)](Z),n.toString=i[t(212)][t(247)](i),e[s]=n}}))();const A=[E(197),"rotation"];function F(t,n){const e=D();return(F=function(t,n){return e[t-=172]})(t,n)}const T=g({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:E(185)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:f}){const g=E,v=r,{renderer:x,scene:y}=s();(new a)[g(195)]=c;const I=new u;I[g(204)]=g(217),I[g(195)]=c;const M=new p;M[g(204)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",M[g(239)]=!1,M.useWorker=!0;const _=new l(I,M);if(_.showBoundingBox=!1,_[g(222)]=!1,_[g(224)]=!1,_.useStandardMaterial=!1,_.filter={opposite:v[g(234)],monochrome:v[g(225)]?{r:.299,g:.587,b:.114}:null,genBright:v[g(174)],genContrast:v[g(200)],genSaturation:v.genSaturation},v.monochrome){let n=new t(v[g(238)]);_[g(201)]&&(_[g(201)][g(238)]={r:n.r,g:n.g,b:n.b})}const z=new m;z[g(208)]=_,z[g(227)]=v.bbox,z[g(216)]=v[g(216)];const C=new(n[g(192)])(60,window[g(205)]/window[g(237)],1,1e8);C.up=new e(0,1,0),C.position[g(194)](v[g(190)][0],v[g(190)][2],-v.mapCenter[1]),C[g(210)](new(n[g(179)])(C.position.x,0,C[g(186)].z-2e3)),z[g(199)]=C;let S=null;d((()=>{const t=g;x.value&&!S&&(S=new o(C,x[t(230)][t(178)]),S.enableDamping=!0,S[t(175)]=.05,S[t(207)]=600,S[t(229)][t(194)](C[t(186)].x,C[t(186)].y,C[t(186)].z),S[t(176)][t(194)](C[t(186)].x,0,C[t(186)].z-2e3))})),h((()=>[v[g(234)],v[g(225)],v[g(238)]]),(([n,e,o])=>{const r=g;if(_[r(201)]){let s=new t(o);_[r(201)][r(234)]=n,_.filter[r(238)]=e?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[v[g(174)],v[g(200)],v[g(242)]]),(([t,n,e])=>{const o=g;_[o(201)]&&(_[o(201)][o(174)]=t,_[o(201)][o(200)]=n,_[o(201)].genSaturation=e)}));const{onLoop:B}=i();return B((()=>{var t;const n=g;if(x[n(230)]){null==(t=v[n(214)])||t[n(220)](),S&&S[n(220)](),z[n(220)]();const e=50*Math.abs(C[n(186)].y);C[n(191)]=e+5e3,C[n(198)](),x.value[n(244)](y[n(230)],C)}})),f({camera:C,map:z,orbitControl:S}),(t,n)=>{const e=g;return j(),b(e(219),{object:w(z),rotation:[-Math.PI/2,0,0]},null,8,A)}}});function D(){const t=["input","opposite","return (function() ","82210WyAEMC","innerHeight","monochrome","showTileNo","7jRyEvd","log","genSaturation","constructor","render","console","counter","bind","action","__proto__","warn","genBright","dampingFactor","target","906tMuguv","domElement","Vector3","20NjTENy","debu","108366lKDGaA","table","function *\\( *\\)","#fff","position",'{}.constructor("return this")( )',"1555608tGADIF","exception","mapCenter","far","PerspectiveCamera","1243986CehGJF","set","coordType","length","object","updateProjectionMatrix","camera","genContrast","filter","4602DuaUiI","test","source","innerWidth","error","minDistance","provider","gger","lookAt","1452EOUMZe","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tweenInstance","apply","maxZoom","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","769225MiubSa","primitive","update","info","wireframe","call","flatShading","isMonochrome","208urHiWe","bbox","308ZvLxHE","position0","value","while (true) {}","9IWVPfI"];return(D=function(){return t})()}function N(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(243)](e(231))[e(215)](e(246));1!==(""+t/t).length||t%20==0?function(){return!0}[e(243)](e(181)+e(209))[e(223)](e(248)):function(){return!1}.constructor("debu"+e(209)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=H;!function(t,n){const e=H,o=$();for(;;)try{if(998187===-parseInt(e(250))/1*(parseInt(e(254))/2)+parseInt(e(268))/3+parseInt(e(252))/4+-parseInt(e(301))/5*(parseInt(e(270))/6)+-parseInt(e(284))/7+-parseInt(e(276))/8*(-parseInt(e(280))/9)+parseInt(e(253))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(258)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["xjk","debu",'{}.constructor("return this")( )',"tileMap","168535exhADF","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","NoToneMapping","679EZFRlu","monochrome","2262152lNTpkn","6345720svJAYa","2950eZRQfy","bind","tweenInstance","manual","apply","TresCanvas","tileMapRef","牛首山","SRGBColorSpace","call","input","滤镜颜色","isMonochrome","exception","1011615UTJQOB","length","174HggnoG","log","genSaturation","orbitControl","list","gger","8ibNRFM","addBlade","camera","test","16259967EfKDtN","warn","change","单色滤镜","2567341vzfRZS","value","trace","action","genContrast","奥体中心","chain","#201919","console","error","Vector3","饱和度","constructor"];return($=function(){return t})()}!function(){W(this,(function(){const t=H,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(303),"i"),o=L("init");n[t(279)](o+t(290))&&e[t(279)](o+t(264))?L():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=$();return(H=function(t,n){return e[t-=250]})(t,n)}G(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function("return (function() "+t(299)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(292)]||{},o=[t(271),t(281),"info",t(293),t(267),"table",t(286)];for(let r=0;r<o.length;r++){const n=G[t(296)][t(302)][t(255)](G),s=o[r],i=e[s]||n;n.__proto__=G[t(255)](G),n.toString=i.toString[t(255)](i),e[s]=n}}))();const Q=g({__name:P(300),setup(t){const e=P,o=f(118.779958,32.017136),s=[o[0],o[1],5e3],i=v(),a=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:"#4688b5",mapCenter:s,tweenInstance:null}),c=new r({title:"参数"});c.addBinding(a,"opposite",{label:"反色"}),c[e(304)](a,"genBright",{label:"高亮",min:.1,max:3,step:.1}),c.addBinding(a,e(288),{label:"对比度",min:.1,max:3,step:.1}),c[e(304)](a,e(272),{label:e(295),min:.1,max:3,step:.1}),c[e(304)](a,e(266),{label:e(283)}),c.addBinding(a,e(251),{label:e(265)});const u={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};c[e(277)]({view:e(274),label:"飞去",options:[{text:e(289),value:"at"},{text:"新街口",value:e(297)},{text:e(261),value:"nss"}],value:"at"}).on(e(282),(t=>{const o=e,r=new(n[o(294)])(u[t[o(285)]][0],2e3,-u[t[o(285)]][1]);a[o(256)]=k(i[o(285)][o(278)],r,i[o(285)][o(273)],[0,-300],4e3)}));const p=x({clearColor:e(291),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(257),outputColorSpace:n[e(262)],toneMapping:n[e(305)]});return setTimeout((()=>{const t=e,o=u.at,r=new(n[t(294)])(o[0],1600,-o[1]);a.tweenInstance=k(i.value.camera,r,i[t(285)].orbitControl,[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=y(o(259));return j(),b(S,null,[I(r,C(p,{"window-size":""}),{default:M((()=>[(j(),_(z,null,{default:M((()=>[I(T,C(a,{ref_key:"tileMapMeshRef",ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(B,{tileMapRef:i[o(285)]},null,8,[o(260)])],64)}}});function L(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(296)]("while (true) {}")[e(258)]("counter");1!==(""+t/t)[e(269)]||t%20==0?function(){return!0}[e(296)]("debu"+e(275))[e(263)](e(287)):function(){return!1}.constructor(e(298)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
