var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.15K1C0un1718787583077.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.NHR1bNxS1718787583077.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.qv5sMi7i1718787583077.js";import{j as o,U as s,C as l,k as c,W as u,ba as p,h as f,a5 as x,M as v}from"./three.OZpCYxlY1718787583077.js";import{a as m,r as h}from"./@tresjs.yMGhEK7G1718787583077.js";import{u as w}from"./index.NWNYYgod1718787583077.js";import{F as g,C as d}from"./three-stdlib.qiumRy5f1718787583077.js";import{d as y}from"./@vue.CpOXM7bB1718787583077.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.7_H3IJjg1718787583077.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.g93ZgInh1718787583077.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.vBPZDqPM1718787583077.js";const S=P;function P(t,e){const n=z();return(P=function(t,e){return n[t-=352]})(t,e)}!function(t,e){const n=P,r=z();for(;;)try{if(117266===parseInt(n(372))/1+-parseInt(n(357))/2*(parseInt(n(360))/3)+-parseInt(n(373))/4*(-parseInt(n(358))/5)+parseInt(n(377))/6*(-parseInt(n(387))/7)+parseInt(n(369))/8+-parseInt(n(366))/9+-parseInt(n(365))/10*(-parseInt(n(382))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const _=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[P(353)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function z(){const t=["init","constructor","271488nTsYne",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"input","190513LjQTiW","40NfWdmu","debu","bind","length","12qsmdyA","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","error","string","253rXAhRf","test","console","warn","toString","377664mZknYy","function *\\( *\\)","apply","return (function() ","call","trace","232950mhPFzb","19145uKYBqp","while (true) {}","3xwBKkU","exception","counter","log",'{}.constructor("return this")( )',"128680MVmkCa","1953522EZCogS"];return(z=function(){return t})()}!function(){_(this,(function(){const t=P,e=new RegExp(t(352)),n=new RegExp(t(378),"i"),r=E(t(367));e[t(383)](r+"chain")&&n[t(383)](r+t(371))?E():r("0")}))()}();const I=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[P(353)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=P,e=function(){const t=P;let e;try{e=Function(t(354)+t(364)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(384)]||{},r=[t(363),t(385),"info",t(380),t(361),"table",t(356)];for(let i=0;i<r[t(376)];i++){const e=I.constructor.prototype[t(375)](I),a=r[i],o=n[a]||e;e.__proto__=I.bind(I),e[t(386)]=o[t(386)][t(375)](o),n[a]=e}}))();const b=S(370);function E(t){function e(t){const n=P;if(typeof t===n(381))return function(t){}[n(368)](n(359))[n(353)](n(362));1!==(""+t/t)[n(376)]||t%20==0?function(){return!0}[n(368)](n(374)+"gger")[n(355)]("action"):function(){return!1}[n(368)](n(374)+"gger")[n(353)](n(379)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const M=D;!function(t,e){const n=D,r=j();for(;;)try{if(211275===-parseInt(n(347))/1*(parseInt(n(368))/2)+parseInt(n(353))/3*(-parseInt(n(341))/4)+parseInt(n(371))/5*(parseInt(n(378))/6)+parseInt(n(375))/7*(-parseInt(n(383))/8)+parseInt(n(344))/9*(-parseInt(n(354))/10)+parseInt(n(357))/11*(parseInt(n(350))/12)+parseInt(n(380))/13)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const A=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){A(this,(function(){const t=D,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=O("init");e[t(346)](r+t(345))&&n[t(346)](r+t(355))?O():r("0")}))()}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function D(t,e){const n=j();return(D=function(t,e){return n[t-=341]})(t,e)}function U(t){const e=D,n=a({},t);return e(365)in t&&(n[e(365)]=a({},t[e(365)])),"uniforms"in t&&(n[e(349)]=s[e(376)](t[e(349)])),n}L(void 0,(function(){const t=D,e=function(){const t=D;let e;try{e=Function(t(351)+t(370)+");")()}catch(n){e=window}return e}(),n=e[t(382)]=e[t(382)]||{},r=[t(379),"warn",t(343),"error",t(362),t(359),t(361)];for(let i=0;i<r[t(374)];i++){const e=L[t(372)][t(342)][t(381)](L),a=r[i],o=n[a]||e;e[t(352)]=L[t(381)](L),e[t(358)]=o[t(358)].bind(o),n[a]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:M(369)+b+M(373)};function j(){const t=["6255VWzVWZ","chain","test","44qwrZJL","string","uniforms","1236zLYnLj","return (function() ","__proto__","899913IOYyQq","5770FfjrQB","input","debu","35189epMYUi","toString","table","counter","trace","exception","gger","apply","defines","stateObject","while (true) {}","14692TzKdcu","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t",'{}.constructor("return this")( )',"1745NODvkI","constructor","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","length","1964368lKRpSh","clone","call","6342zCreFk","log","10630347ysBglM","bind","console","8wVosfo","4pgFkqo","prototype","info"];return(j=function(){return t})()}function O(t){function e(t){const n=D;if(typeof t===n(348))return function(t){}[n(372)](n(367))[n(364)](n(360));1!==(""+t/t)[n(374)]||t%20==0?function(){return!0}[n(372)](n(356)+n(363))[n(377)]("action"):function(){return!1}[n(372)](n(356)+n(363))[n(364)](n(366)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const T=k;function k(t,e){const n=N();return(k=function(t,e){return n[t-=234]})(t,e)}!function(t,e){const n=k,r=N();for(;;)try{if(186289===parseInt(n(240))/1+-parseInt(n(275))/2*(parseInt(n(295))/3)+parseInt(n(306))/4+-parseInt(n(255))/5*(parseInt(n(284))/6)+parseInt(n(274))/7+-parseInt(n(265))/8+-parseInt(n(299))/9*(-parseInt(n(257))/10))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const W=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[k(244)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=k,e=new RegExp(t(245)),n=new RegExp(t(234),"i"),r=Y("init");e[t(279)](r+t(243))&&n[t(279)](r+t(238))?Y():r("0")}))()}();const R=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[k(244)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function N(){const t=["exception","_mipMaterials","1745296qOYcUp","39206WUflWS","setClearAlpha","parentMapSize","set","test","type","while (true) {}","defines","getClearColor","786PhcETk","info","material","texture",'{}.constructor("return this")( )',"tDiffuse","height","toString","image","stateObject","setViewOffset","3GyryQW","counter","getRenderTarget","uniforms","9LkkjdW","table","width","length","_swapTarget","setSize","copy","510652ogoGiq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","setClearColor","prototype","input","call","49230orAOIL","gger","warn","chain","apply","function *\\( *\\)","X_IS_EVEN","floorPowerOfTwo","replace","render","console","getClearAlpha","bind","map","debu","3385PobmPK","camera","1180930aAWcKJ","floor","_mipQuad","trace","update","setRenderTarget","value","log","1997880kqmlur","string","fragmentShader","magFilter","error","dispose","_copyQuad"];return(N=function(){return t})()}R(void 0,(function(){const t=k;let e;try{e=Function("return (function() "+t(288)+");")()}catch(i){e=window}const n=e[t(250)]=e[t(250)]||{},r=[t(264),t(242),t(285),t(269),t(272),t(300),t(260)];for(let a=0;a<r[t(302)];a++){const e=R.constructor[t(237)][t(252)](R),i=r[a],o=n[i]||e;e.__proto__=R[t(252)](R),e[t(291)]=o[t(291)][t(252)](o),n[i]=e}}))();const C=new l;class F{constructor(t){const e=k;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=U(V);n.fragmentShader=n[e(267)][e(248)](/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(U(n)),r[0][e(282)].X_IS_EVEN=0,r[0][e(282)].Y_IS_EVEN=0,r[1]=new c(U(n)),r[1][e(282)][e(246)]=1,r[1][e(282)].Y_IS_EVEN=0,r[2]=new c(U(n)),r[2][e(282)].X_IS_EVEN=0,r[2][e(282)].Y_IS_EVEN=1,r[3]=new c(U(n)),r[3].defines.X_IS_EVEN=1,r[3][e(282)].Y_IS_EVEN=1;const i=new u;i.texture.minFilter=p,i[e(287)][e(268)]=p,this[e(303)]=i,this[e(271)]=new g(new c(d)),this[e(259)]=new g(null),this[e(273)]=r}[T(261)](t,e,n,r=!1){const i=T;t.isWebGLRenderTarget&&(t=t[i(287)]);const o=n.autoClear,s=n[i(251)](),l=n[i(297)]();n[i(283)](C);const c=this[i(271)],u=this[i(259)],p=this._swapTarget,x=this[i(273)];let v,m;r?(v=f[i(247)](t[i(292)][i(301)]),m=f[i(247)](t[i(292)].height)):(v=Math[i(258)](t.image[i(301)]),m=Math[i(258)](t.image[i(290)]));const h=Math[i(258)](1.5*v),w=Math[i(258)](m);e.setSize(h,w),p[i(287)].type!==e.texture[i(280)]?(p.dispose(),p[i(305)](e),p[i(287)][i(292)]=a({},p.texture[i(292)])):p[i(304)](h,w),n.autoClear=!1,n[i(236)](0),n[i(276)](),c.material[i(298)][i(289)][i(263)]=t,c[i(256)][i(294)](v,m,0,0,h,w),n[i(262)](e),n.clear(),c[i(249)](n),n[i(262)](p),n.clear(),c.render(n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[i(253)].value=p[i(287)],t[i(298)].parentLevel.value=y,t[i(298)][i(277)][i(263)][i(278)](g,d),t[i(298)].originalMapSize.value[i(278)](v,m),u[i(286)]=t,g=Math[i(258)](g/2),d=Math.floor(d/2);const r=w-2*d;n[i(262)](e),u.camera.setViewOffset(g,d,-v,-r,h,w),u.render(n),n[i(262)](p),t[i(298)].map.value=e[i(287)],u[i(249)](n),y++}return n[i(262)](l),n[i(276)](s),n[i(236)](C),n.autoClear=o,y+1}[T(270)](){const t=T;this[t(303)][t(270)](),this[t(259)].dispose(),this[t(271)][t(270)](),this[t(273)].forEach((t=>t.dispose()))}}function Y(t){function e(t){const n=k;if(typeof t===n(266))return function(t){}[n(235)](n(281))[n(244)](n(296));1!==(""+t/t)[n(302)]||t%20==0?function(){return!0}.constructor(n(254)+n(241))[n(239)]("action"):function(){return!1}[n(235)](n(254)+"gger")[n(244)](n(293)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const H=B;!function(t,e){const n=B,r=X();for(;;)try{if(486133===parseInt(n(170))/1*(-parseInt(n(146))/2)+-parseInt(n(166))/3*(parseInt(n(179))/4)+parseInt(n(147))/5+parseInt(n(161))/6*(parseInt(n(201))/7)+-parseInt(n(148))/8+-parseInt(n(159))/9+-parseInt(n(207))/10*(-parseInt(n(163))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const Z=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function B(t,e){const n=X();return(B=function(t,e){return n[t-=133]})(t,e)}function X(){const t=["string","Vector3","applyMatrix4","prototype","UnsignedByteType","test","call","negate","setMask","210mcxIcf","resolution","setRenderTarget","bind","PerspectiveCamera","buffers","20oBBuoI","stateObject","warn","counter","action","getWorldPosition","apply","visible","matrixWorld","projectPoint","input","table","debu","applyQuaternion","gger","render","clone","matrixWorldInverse","172554lfvGPd","2057845LIMMLU","2122496OBMuIe","ignoreObjects","log","Vector4","autoClear","sign","init","update","length","sub","set","7598358TIyLDM","parent","82092vPkUlf","constructor","9682134XjcaOR","state","clear","3LCDKLB","forEach","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","9zOEWMj","toString","depth","Plane","add","Quaternion","updateMatrixWorld","copy",'{}.constructor("return this")( )',"840868kICHuF","elements","position","getWorldQuaternion","console","while (true) {}","reflect","getRenderTarget","texture","normal","value","reflectorMipMap","Matrix4"];return(X=function(){return t})()}!function(){Z(this,(function(){const t=B,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(168),"i"),r=$(t(154));e[t(197)](r+"chain")&&n[t(197)](r+t(138))?$():r("0")}))()}();const G=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[B(134)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();G(void 0,(function(){const t=B,e=function(){const t=B;let e;try{e=Function("return (function() "+t(178)+");")()}catch(n){e=window}return e}(),n=e[t(183)]=e[t(183)]||{},r=[t(150),t(209),"info","error","exception",t(139),"trace"];for(let i=0;i<r[t(156)];i++){const e=G.constructor[t(195)][t(204)](G),a=r[i],o=n[a]||e;e[t(169)]=G.bind(G),e[t(171)]=o[t(171)][t(204)](o),n[a]=e}}))();const Q=y({__name:H(190),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=H,r=t,i=new(x[n(173)]),a=new v,o=new(x[n(205)]),s=new F,l=w({width:r[n(202)],height:r[n(202)],settings:{type:x[n(196)]}}),c=w({width:r[n(202)],height:r[n(202)],settings:{type:x[n(196)]}}),{camera:u,renderer:p,scene:f}=m(),{onBeforeLoop:g}=h();return g((()=>{const t=n;(()=>{const t=n;if(!u[t(189)])return;i[t(158)](new(x[t(193)])(0,1,0),0),i[t(194)](r.parent[t(136)]),o[t(177)](u[t(189)]);const e=new(x[t(193)])(0,0,1)[t(144)]()[t(199)](),s=u[t(189)][t(133)](new(x[t(193)]));e[t(185)](i[t(188)]);const c=new(x[t(193)]);i[t(137)](s,c);const v=c[t(144)]();v[t(157)](s),v[t(174)](c),o[t(181)][t(177)](v);const m=new(x[t(193)])(0,0,-1);m[t(141)](u[t(189)][t(182)](new(x[t(175)]))),m.add(s);const h=new(x[t(193)]);r[t(160)][t(133)](h),h.sub(m),h[t(185)](i[t(188)])[t(199)](),h[t(174)](r[t(160)].getWorldPosition(new(x[t(193)]))),o.up[t(158)](0,1,0),o[t(141)](u[t(189)].getWorldQuaternion(new(x[t(175)]))),o.up[t(185)](i[t(188)]),o.lookAt(h),o[t(176)]();const w=new(x[t(191)]);w[t(158)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(o.projectionMatrix),w.multiply(o[t(145)]),a[t(177)](w),i[t(194)](o[t(145)]);const g=new(x[t(151)])(i[t(188)].x,i.normal.y,i[t(188)].z,i.constant),d=o.projectionMatrix,y=new(x[t(151)]);y.x=(Math[t(153)](g.x)+d[t(180)][8])/d.elements[0],y.y=(Math[t(153)](g.y)+d.elements[9])/d.elements[5],y.z=-1,y.w=(1+d[t(180)][10])/d[t(180)][14],g.multiplyScalar(2/g.dot(y)),d[t(180)][2]=g.x,d[t(180)][6]=g.y,d[t(180)][10]=g.z+1,d[t(180)][14]=g.w;const S=p[t(189)][t(186)]();p[t(189)][t(203)](l.value),p[t(189)][t(164)][t(206)][t(172)][t(200)](!0),!1===p.value[t(152)]&&p[t(189)][t(165)](),r[t(149)][t(167)]((e=>e[t(135)]=!1)),p[t(189)][t(143)](f[t(189)],o),r[t(149)][t(167)]((e=>e[t(135)]=!0)),p[t(189)][t(203)](S)})(),l[t(189)]&&c[t(189)]&&p[t(189)]&&s[t(155)](l[t(189)][t(187)],c[t(189)],p[t(189)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(t){function e(t){const n=B;if(typeof t===n(192))return function(t){}.constructor(n(184)).apply(n(210));1!==(""+t/t).length||t%20==0?function(){return!0}[n(162)](n(140)+"gger")[n(198)](n(211)):function(){return!1}[n(162)]("debu"+n(142))[n(134)](n(208)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function q(){var t=["671718iNgRmg","49707273Vzowfw","init","debu","error","121290boPTlS","bind","return (function() ","prototype","__proto__","counter","length","call","test","24722AbUBgc","info","while (true) {}","936exxMAG","13009408kvdkVr","stateObject","toString","2679498lMKyFh","warn","function *\\( *\\)","string","console","constructor","trace","log","apply",'{}.constructor("return this")( )',"42kDErIT","2384648jMoJME","input","116hGgkHg","gger","5nPzNRS"];return(q=function(){return t})()}!function(t,e){for(var n=tt,r=q();;)try{if(904081===parseInt(n(429))/1*(parseInt(n(446))/2)+-parseInt(n(453))/3+parseInt(n(427))/4*(-parseInt(n(431))/5)+parseInt(n(432))/6*(-parseInt(n(426))/7)+-parseInt(n(450))/8+parseInt(n(449))/9*(-parseInt(n(437))/10)+parseInt(n(433))/11)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var K=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){var t=tt,e=new RegExp(t(455)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=et(t(434));e[t(445)](r+"chain")&&n[t(445)](r+t(428))?et():r("0")}))()}();var J=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[tt(424)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function tt(t,e){var n=q();return(tt=function(t,e){return n[t-=420]})(t,e)}function et(t){function e(t){var n=tt;if(typeof t===n(456))return function(t){}[n(421)](n(448))[n(424)](n(442));1!==(""+t/t)[n(443)]||t%20==0?function(){return!0}.constructor(n(435)+n(430))[n(444)]("action"):function(){return!1}.constructor(n(435)+n(430))[n(424)](n(451)),e(++t)}try{if(t)return e;e(0)}catch(n){}}J(void 0,(function(){var t,e=tt;try{t=Function(e(439)+e(425)+");")()}catch(l){t=window}for(var n=t[e(420)]=t[e(420)]||{},r=[e(423),e(454),e(447),e(436),"exception","table",e(422)],i=0;i<r[e(443)];i++){var a=J[e(421)][e(440)][e(438)](J),o=r[i],s=n[o]||a;a[e(441)]=J[e(438)](J),a[e(452)]=s[e(452)][e(438)](s),n[o]=a}}))();export{Q as _};
