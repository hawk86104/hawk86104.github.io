import{q as t,Y as n}from"./@tresjs.C5O8roW51726740218347.js";import{P as e}from"./tweakpane.yHWGBmom1726740218347.js";import{_ as o,ak as r,al as a}from"./three.MbBECAu81726740218347.js";import{_ as s}from"./heatmap.js-fix.mpKlGXOy1726740218347.js";import{d as i,a4 as u,a3 as c,o as l,E as p,u as f,r as d,e as h,f as m,g,j as v,al as y,aj as b,ak as w,m as x,L as I}from"./@vue.JNsx1iN61726740218347.js";import"./@vueuse.18lbrd2F1726740218347.js";import"./@amap.bfr68PX11726740218347.js";!function(t,n){const e=C,o=A();for(;;)try{if(865001===-parseInt(e(459))/1*(-parseInt(e(436))/2)+parseInt(e(493))/3+-parseInt(e(454))/4*(-parseInt(e(475))/5)+parseInt(e(432))/6*(parseInt(e(491))/7)+parseInt(e(498))/8*(-parseInt(e(494))/9)+-parseInt(e(505))/10*(-parseInt(e(445))/11)+-parseInt(e(497))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){_(this,(function(){const t=C,n=new RegExp(t(501)),e=new RegExp(t(504),"i"),o=k("init");n[t(482)](o+"chain")&&e[t(482)](o+t(446))?k():o("0")}))()}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(t,n){const e=A();return(C=function(t,n){return e[t-=432]})(t,n)}j(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(460)+t(458)+");")()}catch(e){n=window}return n}(),e=n[t(448)]=n[t(448)]||{},o=["log","warn",t(506),t(473),t(435),t(453),t(492)];for(let r=0;r<o.length;r++){const n=j[t(438)][t(457)].bind(j),a=o[r],s=e[a]||n;n[t(499)]=j[t(464)](j),n[t(479)]=s[t(479)].bind(s),e[a]=n}}))();const S=["object"],z=i({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let r,a;const i=n,{nodes:d}=([r,a]=u((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(487)}))),r=await r,a(),r);d[e(483)][e(443)][e(471)](-5088.96,-3.08,39374.7),d[e(483)][e(486)][e(452)](.01);let h=null,m=null,g=null;m=new(o[e(449)])((()=>{const t=e;return g=document[t(500)](t(485)),g[t(470)][t(443)]="absolute",g.style[t(495)]=t(469),g[t(470)][t(508)]="0",document.body[t(466)](g),h=s[t(440)]({container:g,width:256,height:256,blur:t(480),radius:i[t(461)]}),h[t(434)][t(439)][t(470)][t(496)]="1px solid #5384ff",h[t(434)][t(439)].onclick=function(n){const e=t;h[e(478)]({x:n[e(441)],y:n[e(484)],value:1,radius:i[e(461)]}),h[e(488)](1),m&&(m[e(467)]=!0)},h})()[e(434)][e(439)]);const v={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(490),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(509)]},y=new(o[e(472)])(v);d[e(483)][e(444)]=y;return(t=>{const n=e;t[n(433)]();const{max:r,min:a}=t[n(502)];t[n(456)]("uv");const s=r.x-a.x,i=r.z-a.z,u=[];for(let e=0;e<t[n(437)].position[n(468)];e++)u[n(462)]((t.attributes.position.getX(e)-a.x)/s),u[n(462)]((t[n(437)][n(443)][n(450)](e)-a.z)/i);const c=new Float32Array(u);t.setAttribute("uv",new(o[n(477)])(c,2))})(d[e(483)][e(442)]),c((()=>{const t=e;g[t(470)].display=""+(i[t(463)]?t(447):t(503))})),(t,n)=>{const o=e;return l(),p("primitive",{object:f(d)[o(483)]},null,8,S)}}});function k(t){function n(t){const e=C;if("string"==typeof t)return function(t){}[e(438)](e(465)).apply("counter");1!==(""+t/t)[e(451)]||t%20==0?function(){return!0}[e(438)](e(481)+e(507))[e(455)](e(489)):function(){return!1}[e(438)](e(481)+e(507))[e(476)](e(474)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function A(){const t=["style","set","ShaderMaterial","error","stateObject","30uDhAzE","apply","BufferAttribute","addData","toString","0.8","debu","test","mesh_0","layerY","heatmap-canvas","scale","./draco/","setDataMax","action","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","602RzuwLq","trace","5120937vfGwLt","5532453BfjOOx","top","border","22519584kDUTgo","8zdonkj","__proto__","createElement","function *\\( *\\)","boundingBox","none","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","200MEkJAZ","info","gger","left","DoubleSide","22920aaFSRd","computeBoundingBox","_renderer","exception","613610SGaNWu","attributes","constructor","canvas","create","layerX","geometry","position","material","424534ZXSCUC","input","block","console","Texture","getZ","length","setScalar","table","161444yJRNjV","call","deleteAttribute","prototype",'{}.constructor("return this")( )',"1ZrBAhb","return (function() ","radius","push","show2dCanvas","bind","while (true) {}","appendChild","needsUpdate","count","40px"];return(A=function(){return t})()}const B=U;!function(t,n){const e=U,o=M();for(;;)try{if(153274===-parseInt(e(304))/1*(-parseInt(e(277))/2)+parseInt(e(295))/3*(-parseInt(e(265))/4)+-parseInt(e(281))/5*(-parseInt(e(283))/6)+-parseInt(e(272))/7*(-parseInt(e(305))/8)+parseInt(e(303))/9*(parseInt(e(278))/10)+parseInt(e(274))/11+-parseInt(e(301))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(293)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["圆圈的大小","heatmapClick","test","apply","addButton","87BtYrSu","toString","return (function() ","stateObject","addBinding","点击左侧蓝色画框","6136236oNeSMF","while (true) {}","63477YpzZiX","23mmGoVf","48CTimnZ","TresGridHelper","console","function *\\( *\\)","11816zoyaYx","call","exception","#ffffff","prototype","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","121751oeVWvK","debu","444026WvkNLx","bind","chain","13962lDmDfU","210CqrVAq","string","__proto__","1484465zSNJlW","trace","6CPTEaS","info","#030311","gger","input","length","TresPerspectiveCamera"];return(M=function(){return t})()}!function(){D(this,(function(){const t=U,n=new RegExp(t(264)),e=new RegExp(t(271),"i"),o=O("init");n.test(o+t(276))&&e[t(292)](o+t(287))?O():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=U;let n;try{n=Function(t(297)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(263)]||{},o=["log","warn",t(284),"error",t(267),"table",t(282)];for(let a=0;a<o[t(288)];a++){const n=T.constructor[t(269)][t(275)](T),r=o[a],s=e[r]||n;n[t(280)]=T[t(275)](T),n[t(296)]=s[t(296)][t(275)](s),e[r]=n}}))();const Z=I(B(289),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),E=I("TresDirectionalLight",{position:[5,10,7.5],color:B(268),intensity:5},null,-1),R=I(B(262),{args:[50,25]},null,-1);function U(t,n){const e=M();return(U=function(t,n){return e[t-=262]})(t,n)}const L=i({__name:B(291),setup(t){const o=B,s={clearColor:o(285),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(299)](i,"show2dCanvas",{label:"显示二维图"}),u.addBinding(i,"radius",{label:o(290),min:.1,max:30,step:.1}),u[o(294)]({title:o(300)}),(t,e)=>{const o=h("TresCanvas");return l(),m(o,x(s,{"window-size":""}),{default:g((()=>[Z,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),E,R,(l(),m(y,null,{default:g((()=>[v(z,b(w(i)),null,16)])),_:1}))])),_:1},16)}}});function O(t){function n(t){const e=U;if(typeof t===e(279))return function(t){}.constructor(e(302))[e(293)](e(270));1!==(""+t/t)[e(288)]||t%20==0?function(){return!0}.constructor("debu"+e(286))[e(266)]("action"):function(){return!1}.constructor(e(273)+"gger").apply(e(298)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{L as default};
