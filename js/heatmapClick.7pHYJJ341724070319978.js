import{a as t,d as n}from"./@tresjs.2JnKj_Yj1724070319978.js";import{P as e}from"./tweakpane.yHWGBmom1724070319978.js";import{a6 as o,k as r,ab as a,ac as s}from"./three.QUrV0R7c1724070319978.js";import{_ as i}from"./heatmap.js-fix.Gy9LT7TN1724070319978.js";import{d as c,a4 as u,a1 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as v,j as y,al as b,aj as w,ak as x,m as I,J as _}from"./@vue.Q1VpS3901724070319978.js";import"./@vueuse.2Yfo77CO1724070319978.js";import"./@amap.PfcO2up21724070319978.js";const j=B;function B(t,n){const e=z();return(B=function(t,n){return e[t-=119]})(t,n)}!function(t,n){const e=B,o=z();for(;;)try{if(137246===parseInt(e(190))/1*(parseInt(e(184))/2)+parseInt(e(171))/3*(-parseInt(e(150))/4)+parseInt(e(194))/5+parseInt(e(192))/6*(parseInt(e(180))/7)+-parseInt(e(197))/8*(-parseInt(e(158))/9)+-parseInt(e(157))/10*(-parseInt(e(137))/11)+-parseInt(e(175))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(122)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(156),"i"),o=S("init");n[t(165)](o+"chain")&&e[t(165)](o+t(130))?S():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(122)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(){const t=["trace","1px solid #5384ff","display","721fxnRFf","mesh_0","Texture","createElement","2vQKcaD","object","DoubleSide","layerY","computeBoundingBox","scale","187874NKfmAh","attributes","10272WHGgNl","deleteAttribute","1344885cbLrnu","heatmap-canvas","geometry","1601392PvdmPn","stateObject","none","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","left","apply","toString","getZ","position","console","bind","debu","border","input","radius","show2dCanvas","_renderer","call","length","block","22MbmZeB","table","log","return (function() ","heatmapClickCom","create","counter","40px","string","BufferAttribute","getX","gger","push","6316ibWLIY","material","primitive","canvas","warn","top","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1054220jIKPEN","9qKBBBk","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","layerX","__proto__","while (true) {}","appendChild","body","test","set","prototype","needsUpdate","constructor","setDataMax","177BRylAX","setScalar","style","onclick","9765576wOOSql","absolute"];return(z=function(){return t})()}k(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(140)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(126)]=n[t(126)]||{},o=[t(139),t(154),"info","error","exception",t(138),t(177)];for(let r=0;r<o[t(135)];r++){const n=k[t(169)][t(167)][t(127)](k),a=o[r],s=e[a]||n;n[t(161)]=k[t(127)](k),n.toString=s[t(123)][t(127)](s),e[a]=n}}))();const A=[j(185)],R=c({__name:j(141),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:"./draco/"}))),a=await a,s(),a);h[e(181)][e(125)][e(166)](-5088.96,-3.08,39374.7),h[e(181)][e(189)][e(172)](.01);let m=null,g=null,v=null;g=new(o[e(182)])((()=>{const t=e;return v=document[t(183)](t(195)),v[t(173)][t(125)]=t(176),v[t(173)][t(155)]=t(144),v.style[t(121)]="0",document[t(164)][t(163)](v),m=i[t(142)]({container:v,width:256,height:256,blur:"0.8",radius:c[t(131)]}),m[t(133)][t(153)][t(173)][t(129)]=t(178),m[t(133)][t(153)][t(174)]=function(n){const e=t;m.addData({x:n[e(160)],y:n[e(187)],value:1,radius:c[e(131)]}),m[e(170)](1),g&&(g[e(168)]=!0)},m})()[e(133)][e(153)]);const y={vertexShader:e(120),fragmentShader:e(159),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(186)]},b=new r(y);h[e(181)][e(151)]=b;return(t=>{const n=e;t[n(188)]();const{max:r,min:a}=t.boundingBox;t[n(193)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(191)][n(125)].count;e++)c[n(149)]((t[n(191)][n(125)][n(147)](e)-a.x)/s),c[n(149)]((t[n(191)][n(125)][n(124)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(146)])(u,2))})(h[e(181)][e(196)]),l((()=>{const t=e;v[t(173)][t(179)]=""+(c[t(132)]?t(136):t(119))})),(t,n)=>{const o=e;return p(),f(o(152),{object:d(h).mesh_0},null,8,A)}}});function S(t){function n(t){const e=B;if(typeof t===e(145))return function(t){}[e(169)](e(162)).apply(e(143));1!==(""+t/t)[e(135)]||t%20==0?function(){return!0}.constructor(e(128)+e(148))[e(134)]("action"):function(){return!1}[e(169)](e(128)+e(148)).apply(e(198)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=P;function M(){const t=["test","addButton","error","7767225vQNWYr","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresGridHelper","4195645dmzUlO","675303EBliNh","string","TresPerspectiveCamera","1639216HRaRQe","6HGpGxN","apply","13654400GhtdkV","toString","trace","counter","length","info","heatmapClick","show2dCanvas","addBinding","chain","gger","radius",'{}.constructor("return this")( )',"function *\\( *\\)","action","init","stateObject","console","7dWsCmW","while (true) {}","4KyWjzK","TresCanvas","debu","exception","2417220gbmgnd","log","显示二维图","710039nrtFLQ","constructor","TresDirectionalLight","点击左侧蓝色画框","table","bind"];return(M=function(){return t})()}!function(t,n){const e=P,o=M();for(;;)try{if(768508===parseInt(e(424))/1+parseInt(e(395))/2*(-parseInt(e(391))/3)+-parseInt(e(417))/4*(-parseInt(e(390))/5)+-parseInt(e(421))/6+parseInt(e(415))/7*(-parseInt(e(394))/8)+-parseInt(e(433))/9+parseInt(e(397))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(396)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=P,n=new RegExp(t(410)),e=new RegExp(t(435),"i"),o=L(t(412));n[t(430)](o+t(406))&&e[t(430)](o+"input")?L():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=M();return(P=function(t,n){return e[t-=390]})(t,n)}E(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function("return (function() "+t(409)+");")()}catch(e){n=window}return n}(),e=n[t(414)]=n.console||{},o=[t(422),"warn",t(402),t(432),t(420),t(428),t(399)];for(let r=0;r<o[t(401)];r++){const n=E[t(425)][t(434)][t(429)](E),a=o[r],s=e[a]||n;n.__proto__=E.bind(E),n[t(398)]=s[t(398)][t(429)](s),e[a]=n}}))();const T=_(D(393),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),W=_(D(426),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1),F=_(D(436),{args:[50,25]},null,-1),K=c({__name:D(403),setup(t){const o=D,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,o(404),{label:o(423)}),c[o(405)](i,o(408),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(431)]({title:o(427)}),(t,e)=>{const a=m(o(418));return p(),g(a,I(r,{"window-size":""}),{default:v((()=>[T,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),W,F,(p(),g(b,null,{default:v((()=>[y(R,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=P;if(typeof t===e(392))return function(t){}.constructor(e(416))[e(396)](e(400));1!==(""+t/t)[e(401)]||t%20==0?function(){return!0}[e(425)](e(419)+e(407)).call(e(411)):function(){return!1}[e(425)](e(419)+e(407))[e(396)](e(413)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
