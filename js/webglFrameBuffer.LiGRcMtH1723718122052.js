import{_ as t,m as n}from"./gl-matrix.oVMHBNGj1723718122052.js";import{i as e,r,d as o}from"./ice-utils.yhbwryCf1723718122052.js";import{d as i,q as a,o as c,D as u}from"./@vue.Q1VpS3901723718122052.js";function s(){const t=["rotate","counter","566907HtlUFg","190854aqYuvU","table","string","function *\\( *\\)","FLOAT","63890OQXcYY","TEXTURE_WRAP_T","COLOR_BUFFER_BIT","mat4","canvaswebgl",'{}.constructor("return this")( )',"createTexture","querySelector","enableVertexAttribArray","ARRAY_BUFFER","bindBuffer","28azOekG","u_texture","TEXTURE_2D","webgl","texImage2D","COLOR_ATTACHMENT0","return (function() ","warn","clientWidth","500px","RGBA","multiply","clear","perspective","lookAt","u_matrix","gger","log","while (true) {}","4817720mTLYIG","UNPACK_ALIGNMENT","41252PvWzth","UNSIGNED_BYTE","debu","STATIC_DRAW","call","DEPTH_BUFFER_BIT","bindTexture","\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\nuniform mat4 u_matrix;\nvarying vec2 v_texcoord;\nvoid main() {\n  gl_Position = u_matrix * a_position;\n  v_texcoord = a_texcoord;\n}","clearColor","bind","stateObject","getContext","bindFramebuffer","toString","texParameteri","height","FRAMEBUFFER","32250oFrMvb","a_texcoord","apply","140KEjwZG","TEXTURE_MIN_FILTER","drawArrays","canvas","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","width","console","7389XIzbgG","constructor","getAttribLocation","clientHeight","pixelStorei","enable","\nprecision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\nvoid main(){\n\tgl_FragColor=texture2D(u_texture, v_texcoord.xy);\n}\n","bufferData","TEXTURE_WRAP_S","length","error","uniform1i","vertexAttribPointer","4190jwYaNz","viewport","getUniformLocation","input","NEAREST","create","createBuffer","CLAMP_TO_EDGE","TRIANGLES","TEXTURE_MAG_FILTER","framebufferTexture2D"];return(s=function(){return t})()}const f=l;!function(t,n){const e=l,r=s();for(;;)try{if(572341===parseInt(e(378))/1+-parseInt(e(361))/2+parseInt(e(323))/3+-parseInt(e(381))/4*(parseInt(e(329))/5)+parseInt(e(324))/6*(-parseInt(e(340))/7)+parseInt(e(359))/8+parseInt(e(389))/9*(parseInt(e(402))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const _=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function l(t,n){const e=s();return(l=function(t,n){return e[t-=322]})(t,n)}!function(){_(this,(function(){const t=l,n=new RegExp(t(327)),e=new RegExp(t(386),"i"),r=R("init");n.test(r+"chain")&&e.test(r+t(405))?R():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[l(380)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();E(void 0,(function(){const t=l,n=function(){const t=l;let n;try{n=Function(t(346)+t(334)+");")()}catch(e){n=window}return n}(),e=n[t(388)]=n[t(388)]||{},r=[t(357),t(347),"info",t(399),"exception",t(325),"trace"];for(let o=0;o<r.length;o++){const n=E[t(390)][t(385)].bind(E),i=r[o],a=e[i]||n;n.__proto__=E[t(370)](E),n[t(374)]=a[t(374)][t(370)](a),e[i]=n}}))();const T={id:f(333),style:{height:f(349),width:f(349)}},p=f(368),m=f(395),A=i({__name:"webglFrameBuffer",setup(i){const s=function(){const i=l,a=document[i(336)]("#canvaswebgl"),c=null==a?void 0:a[i(372)](i(343));if(!c)return;var u=e(c,p,m),s=c[i(391)](u,"a_position"),f=c[i(391)](u,i(379)),_=c.getUniformLocation(u,i(355)),E=c[i(404)](u,i(341)),T=c[i(408)]();c[i(339)](c[i(338)],T),function(t){const n=l;var e=new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5]);t[n(396)](t[n(338)],e,t[n(364)])}(c);var A=c.createBuffer();c.bindBuffer(c[i(338)],A),function(t){const n=l;t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1]),t[n(364)])}(c);var R=c.createTexture();c[i(367)](c.TEXTURE_2D,R);{const t=0,n=c[i(350)],e=1,r=1,o=0,a=c[i(350)],u=c[i(362)],s=new Uint8Array([255,255,0,255]),f=1;c[i(393)](c[i(360)],f),c[i(344)](c[i(342)],t,n,e,r,o,a,u,s),c.texParameteri(c[i(342)],c[i(382)],c[i(406)]),c[i(375)](c[i(342)],c[i(411)],c[i(406)]),c[i(375)](c.TEXTURE_2D,c[i(397)],c[i(409)]),c[i(375)](c[i(342)],c[i(330)],c.CLAMP_TO_EDGE)}const v=c[i(335)]();c[i(367)](c[i(342)],v);{const t=0,n=c[i(350)],e=0,r=c.RGBA,o=c[i(362)],a=null;c[i(344)](c[i(342)],t,n,256,256,e,r,o,a),c[i(375)](c[i(342)],c[i(382)],c.LINEAR),c[i(375)](c.TEXTURE_2D,c[i(397)],c.CLAMP_TO_EDGE),c[i(375)](c[i(342)],c[i(330)],c[i(409)])}const F=c.createFramebuffer();c[i(373)](c[i(377)],F);const x=c[i(345)];c[i(412)](c[i(377)],x,c[i(342)],v,0);var g=o(0),b=0;function d(e){const r=i;c.useProgram(u),c[r(337)](s),c[r(339)](c[r(338)],T);var o=3,a=c[r(328)],l=!1,p=0,m=0;c[r(401)](s,o,a,l,p,m),c[r(337)](f),c[r(339)](c.ARRAY_BUFFER,A);o=2,a=c[r(328)],l=!1,p=0,m=0;c[r(401)](f,o,a,l,p,m);var R=t[r(332)][r(407)]();t[r(332)][r(353)](R,-30,e,.1,1e4);let v=t[r(332)][r(407)]();v=t[r(332)][r(413)](v,v,g,[0,1,0]);var F=t[r(332)][r(407)]();t[r(332)][r(354)](F,[0,0,2],[0,0,0],[0,1,0]);let x=t[r(332)][r(407)]();t[r(332)].multiply(x,F,v);var b=n[r(407)]();t[r(332)][r(351)](b,R,x),c.uniformMatrix4fv(_,!1,b),c[r(400)](E,0),c[r(383)](c[r(410)],0,36)}requestAnimationFrame((function t(n){const e=i;var o=(n*=.001)-b;b=n,g+=-.4*o,r(c[e(384)]),c[e(394)](c.CULL_FACE),c.enable(c.DEPTH_TEST);c[e(373)](c.FRAMEBUFFER,F),c[e(367)](c[e(342)],R),c[e(403)](0,0,256,256),c[e(369)](0,1,0,1),c[e(352)](c[e(331)]|c.DEPTH_BUFFER_BIT);d(1);c[e(373)](c.FRAMEBUFFER,null),c[e(367)](c[e(342)],v),c.viewport(0,0,c[e(384)][e(387)],c[e(384)][e(376)]),c[e(369)](1,1,1,1),c[e(352)](c[e(331)]|c[e(366)]);d(c.canvas[e(348)]/c.canvas[e(392)]);requestAnimationFrame(t)}))};return a((()=>{s()})),(t,n)=>{const e=l;return c(),u(e(384),T)}}});function R(t){function n(t){const e=l;if(typeof t===e(326))return function(t){}[e(390)](e(358))[e(380)](e(322));1!==(""+t/t)[e(398)]||t%20==0?function(){return!0}[e(390)](e(363)+e(356))[e(365)]("action"):function(){return!1}[e(390)]("debugger")[e(380)](e(371)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{A as default};
