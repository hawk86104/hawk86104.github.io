import{a as t,m as n,o as e}from"./@tresjs.xCsT8yve1742895693222.js";import{_ as r,b as o}from"./three.DqHgeVY11742895693222.js";import{_ as i,U as s}from"./three-tile.xSrRRm461742895693222.js";import{_ as c,s as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.QAZ_iYlw1742895693222.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as g,r as d,b as y,f as I,g as b,j as w,m as _,al as j,F as v,e as x,aj as S,ak as k}from"./@vue.C4dqouNn1742895693222.js";import{P as T}from"./tweakpane.ivGeiIdz1742895693222.js";import{_ as M}from"./informationDiv.ZMj1q1CN1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";import"./@fesjs.C15FMxIg1742895693222.js";import"./vue-router.0ovIAQEA1742895693222.js";import"./lodash-es.p1wj6C0b1742895693222.js";import"./@qlin.o0hjOMCg1742895693222.js";import"./pinia.JZN5hDyR1742895693222.js";import"./@floating-ui.HzHndBae1742895693222.js";import"./@juggle.4EyLec-41742895693222.js";const R=B;!function(t,n){const e=B,r=P();for(;;)try{if(284858===-parseInt(e(264))/1+parseInt(e(256))/2+parseInt(e(222))/3*(parseInt(e(228))/4)+parseInt(e(242))/5+-parseInt(e(214))/6*(-parseInt(e(225))/7)+-parseInt(e(219))/8+parseInt(e(257))/9*(-parseInt(e(224))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=B,n=new RegExp(t(240)),e=new RegExp(t(216),"i"),r=F(t(262));n[t(236)](r+t(232))&&e[t(236)](r+t(233))?F():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(226)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(){const t=["applyMatrix4","2924608aYkPQk","Vector3","constructor","39kRRIGn","table","130vfwQki","82558ZoYkEr","apply","trace","81820fAsvQS","TresPlaneGeometry","console","radraImgShow","chain","input","uniform sampler2D map;\n\t","matrix","test","length","DoubleSide","geo2pos","function *\\( *\\)","gger","1766830EXmPRe","opacity","map","log","bind","debu","Texture","rotateX","position","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","while (true) {}","TresMesh","info","warn","988818QHnVEe","483750XoJvyb","height","#include <displacementmap_vertex>","toString","scaleImg","init","position-y","23974YSbPEc","vertexShader","replace","prototype","resource.cos","error","MeshPhongMaterial","132IfnGeV","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__"];return(P=function(){return t})()}E(void 0,(function(){const t=B,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(230)]=n[t(230)]||{},r=[t(245),t(255),t(254),t(212),"exception",t(223),t(227)];for(let o=0;o<r[t(237)];o++){const n=E[t(221)][t(267)].bind(E),i=r[o],s=e[i]||n;n[t(217)]=E[t(246)](E),n[t(260)]=s.toString[t(246)](s),e[i]=n}}))();const G=[R(250)],z=["scale","material",R(249),R(263)],A=u({__name:R(231),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=R;let o,i;const s=n,a=new(r[e(213)])({displacementMap:new(r[e(248)]),transparent:!0,side:r[e(238)],opacity:s[e(243)],displacementScale:.5,displacementBias:0});a.onBeforeCompile=t=>{const n=e;t.vertexShader=n(234)+t.vertexShader,t[n(265)]=t[n(265)][n(266)](n(259),n(251))};const u=s[e(244)][e(239)](new(r[e(220)])(105,34,0));u[e(218)](s[e(244)][e(235)]);const d=c[e(261)](s[e(244)],{x:67,y:11},{x:140,y:57},s[e(258)]),y=[];for(let t=0;t<9;t++)y.push("https://opensource.cdn.icegl.cn/images/simpleGIS/QPFRef_202405311"+t+"40.png");let I=0;const b=([o,i]=p((()=>t(y))),o=await o,i(),o);a[e(244)]=b[I],l((()=>[s.color,s[e(243)]]),(([t,n])=>{a.opacity=n}));let w=null,_=!1;return _?(clearInterval(w),w=null,_=!1):(w=setInterval((()=>{const t=B;I=I<y[t(237)]-1?I+1:0,a.map=b[I],a.needsUpdate=!0,console[t(245)](I)}),1e3),_=!0),(t,n)=>{const r=e;return f(),m("TresGroup",{position:[...g(u)]},[h(r(253),{scale:[g(d).x,g(d).y,t[r(258)]],material:g(a),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[r(258)]/5},n[0]||(n[0]=[h(r(229),{args:[1,1,529,420]},null,-1)]),8,z)],8,G)}}});function B(t,n){const e=P();return B=function(t,n){return e[t-=211]},B(t,n)}function F(t){function n(t){const e=B;if("string"==typeof t)return function(t){}.constructor(e(252)).apply("counter");1!==(""+t/t)[e(237)]||t%20==0?function(){return!0}[e(221)](e(247)+e(241)).call(e(215)):function(){return!1}[e(221)]("debugger")[e(226)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=Z;!function(t,n){const e=Z,r=C();for(;;)try{if(647407===-parseInt(e(426))/1*(-parseInt(e(445))/2)+parseInt(e(394))/3+parseInt(e(422))/4*(parseInt(e(393))/5)+parseInt(e(441))/6*(-parseInt(e(419))/7)+parseInt(e(438))/8*(-parseInt(e(396))/9)+-parseInt(e(443))/10+-parseInt(e(397))/11*(-parseInt(e(391))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=Z,n=new RegExp(t(407)),e=new RegExp(t(418),"i"),r=L(t(448));n[t(435)](r+t(451))&&e[t(435)](r+t(444))?L():r("0")}))()}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(421)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function C(){const t=["copy","object","length","primitive","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3129091HjxAZf","value","apply","169004tOrgqY","stateObject","map","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","1061867SNGqGJ","while (true) {}","Vector3","constructor","info","exception","GDSource","string","透明度","test","opacity","image","1848cognCh","localToWorld","terrain-rgb","6kBCcqq","__proto__","5570000TyCWoa","input","2aaJNkr","TresDirectionalLight","addBinding","init","mapBoxShow3","debu","chain","call","return (function() ","402684LXWFlN","position","85PpUfkA","1729755XblQaR","bind","45783DyGaDS","154mgwtii","trace","geo2pos","gger","error","toString","MapBoxSource","warn","mapbox.satellite","domElement","function *\\( *\\)","height","plugin","controlsEvents","prototype","action",'{}.constructor("return this")( )'];return(C=function(){return t})()}U(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(390)+t(413)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=["log",t(404),t(430),t(401),t(431),"table",t(398)];for(let o=0;o<r[t(416)];o++){const n=U[t(429)][t(411)][t(395)](U),i=r[o],s=e[i]||n;n[t(442)]=U[t(395)](U),n[t(402)]=s[t(402)][t(395)](s),e[i]=n}}))();const Q=[N(415)],X=N(425);function Z(t,n){const e=C();return Z=function(t,n){return e[t-=390]},Z(t,n)}const q=u({__name:N(449),setup(t){const e=N,u=d({height:200,opacity:1}),p=new T({title:"参数"});p[e(447)](u,e(408),{label:"高度",min:10,max:300,step:1}),p[e(447)](u,e(436),{label:e(434),min:0,max:1,step:.1}),new(i[e(409)][e(403)])({token:X,dataType:e(437),style:e(405)});const x=new(i[e(409)][e(403)])({token:X,dataType:e(440),style:"mapbox.terrain-rgb",maxLevel:15}),S=new s({imgSource:[new(i[e(409)][e(432)])({style:"6"}),new(i[e(409)][e(432)])({style:"8"})],demSource:x,lon0:90,minLevel:2,maxLevel:20});S.rotateX(-Math.PI/2);const k=new o(105,34,0),M=new(r[e(428)])(110,0,1e4),R=S.localToWorld(S[e(399)](k)),D=S[e(439)](S.geo2pos(M)),E=y(),{camera:P,controls:G,scene:z,renderer:B}=n();return P[e(420)]&&P[e(420)][e(392)][e(414)](D),l((()=>G[e(420)]),(t=>{const n=e;t&&(t.target[n(414)](R),c[n(410)](t,P[n(420)],z[n(420)]))})),l((()=>E[e(420)]),(t=>{const n=e;t&&t.target[n(392)].copy(R)})),a(P[e(420)],B[e(420)][e(406)],S),(t,n)=>{const r=e;return f(),m(v,null,[h(r(446),{ref_key:"tdLight",ref:E,position:[0,2e3,1e3],intensity:1},null,512),h(r(417),{object:g(S)},null,8,Q),(f(),I(j,null,{default:b((()=>[w(A,_({map:g(S)},u),null,16,[r(424)])])),_:1}))],64)}}});function L(t){function n(t){const e=Z;if(typeof t===e(433))return function(t){}.constructor(e(427))[e(421)]("counter");1!==(""+t/t)[e(416)]||t%20==0?function(){return!0}.constructor(e(450)+e(400))[e(452)](e(412)):function(){return!1}[e(429)](e(450)+"gger")[e(421)](e(423)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=J;function Y(){const t=["string","highp","radraImg","function *\\( *\\)","TresCanvas","22NprTUu","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1699827zcCwJl","while (true) {}","apply","12bfjrNe","input","15pOVGMs","gger","2GUmqdc","TresPerspectiveCamera","11792IFVbvG","13RRmRmB","constructor","stateObject","144ENrdRu","#dbf0ff","prototype","call","init","1407TkmUWn","5978904OMFavM","chain","5580428WlSwfq","TresAmbientLight","335768RYBWnX","bind","info","339270MTTxhB","1143160MUPejY","debu","table","length","toString","test","warn","console"];return(Y=function(){return t})()}!function(t,n){const e=J,r=Y();for(;;)try{if(931060===-parseInt(e(524))/1*(-parseInt(e(531))/2)+parseInt(e(527))/3*(parseInt(e(504))/4)+parseInt(e(529))/5*(-parseInt(e(507))/6)+-parseInt(e(499))/7*(-parseInt(e(533))/8)+-parseInt(e(494))/9*(parseInt(e(508))/10)+-parseInt(e(521))/11*(-parseInt(e(500))/12)+parseInt(e(534))/13*(-parseInt(e(502))/14))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=J,n=new RegExp(t(519)),e=new RegExp(t(523),"i"),r=K(t(498));n[t(513)](r+t(501))&&e.test(r+t(528))?K():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(526)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();$(void 0,(function(){const t=J,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(515)]=n[t(515)]||{},r=["log",t(514),t(506),"error",t(522),t(510),"trace"];for(let o=0;o<r[t(511)];o++){const n=$[t(535)][t(496)][t(505)]($),i=r[o],s=e[i]||n;n.__proto__=$.bind($),n[t(512)]=s[t(512)].bind(s),e[i]=n}}))();const H=u({__name:O(518),setup(t){const n=O,r=d({clearColor:n(495),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(517)}),o=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=x(s(520));return f(),m(v,null,[w(c,_(r,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=h(s(532),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(g(e),S(k(o)),null,16),i[1]||(i[1]=h(s(503),{intensity:1},null,-1)),w(q)])),_:1},16),w(M)],64)}}});function J(t,n){const e=Y();return J=function(t,n){return e[t-=494]},J(t,n)}function K(t){function n(t){const e=J;if(typeof t===e(516))return function(t){}[e(535)](e(525))[e(526)]("counter");1!==(""+t/t)[e(511)]||t%20==0?function(){return!0}.constructor(e(509)+e(530))[e(497)]("action"):function(){return!1}[e(535)]("debu"+e(530)).apply(e(536)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{H as default};
