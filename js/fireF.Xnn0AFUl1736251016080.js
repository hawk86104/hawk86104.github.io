var t,e,s,n,i,r,o,a,c,h,l,u=Object.defineProperty,p=(t,e,s)=>(((t,e,s)=>{e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as m}from"./pagesShow.vue_vue_type_script_setup_true_lang.t0sISogd1736251016080.js";import{_ as d,V as f,g as w,B as g,bU as S,X as y,f as v,as as x,w as I,k as P,an as A,C as T}from"./three.RuuDeeIf1736251016080.js";import{m as F,e as z}from"./@tresjs.8C7OKmBm1736251016080.js";import{d as E,b as R,a1 as b,o as O,f as q,g as V,j as C}from"./@vue.-Mz_IXfk1736251016080.js";import"./three-custom-shader-material.zkLsy8Lq1736251016080.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736251016080.js";import"./@vueuse.HhUha1mw1736251016080.js";function M(t,e){const s=zt();return(M=function(t,e){return s[t-=149]})(t,e)}const N=M;!function(t,e){const s=M,n=zt();for(;;)try{if(906447===-parseInt(s(627))/1*(parseInt(s(358))/2)+-parseInt(s(209))/3*(parseInt(s(569))/4)+parseInt(s(629))/5*(parseInt(s(544))/6)+-parseInt(s(198))/7*(parseInt(s(189))/8)+parseInt(s(329))/9*(parseInt(s(592))/10)+-parseInt(s(224))/11*(-parseInt(s(493))/12)+-parseInt(s(559))/13*(-parseInt(s(491))/14))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const _=class{constructor(t){this[N(156)]=t}};t=N(343),p(_,t,new _(N(343))),p(_,"Sequence",new _(N(154)));let j=_;class B{constructor(){this.init()}[N(259)](){const t=N;this[t(377)]=j[t(343)],this[t(475)]=1,this.age=0,this[t(213)]=new(d[t(364)]),this[t(463)]=new(d[t(633)]),this.velocity=new f,this[t(218)]=new(d[t(633)]),this[t(471)]=new(d[t(633)]),this.rotation=0,this[t(302)]=0,this[t(564)]=new(d[t(562)]),this[t(601)]=new(d[t(435)]),this[t(388)]=1,this[t(380)]=new(d[t(562)]),this[t(476)]=new(d[t(435)]),this[t(541)]=1}[N(426)](t,e,s,n,i,r,o,a,c,h,l,u,p,m,d,f){const w=N;this[w(377)]=t,this.lifetime=e,this[w(317)]=s,this.sequenceElement[w(217)](n),this[w(463)][w(217)](i),this.velocity[w(217)](r),this[w(218)].copy(o),this.normal[w(217)](a),this.rotation=c,this.rotationalSpeed=h,this[w(564)]=l,this[w(601)][w(217)](u),this[w(388)]=p,this[w(380)][w(217)](m),this[w(476)][w(217)](d),this.initialAlpha=f}[N(498)](t){const e=N;t[e(426)](this[e(377)],this[e(475)],this[e(317)],this[e(213)],this.position,this[e(623)],this[e(218)],this[e(471)],this[e(391)],this[e(302)],this[e(564)],this.color,this[e(388)],this[e(380)],this[e(476)],this.initialAlpha)}[N(217)](t){const e=N;this[e(426)](t[e(377)],t[e(475)],t[e(317)],t.sequenceElement,t.position,t[e(623)],t[e(218)],t[e(471)],t.rotation,t[e(302)],t.size,t[e(601)],t[e(388)],t[e(380)],t[e(476)],t.initialAlpha)}}class U{constructor(){p(this,"computeBoundingBox",function(){const t=N,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=M,e=new RegExp(t(293)),s=new RegExp(t(521),"i"),n=Ot(t(259));e[t(245)](n+t(532))&&s[t(245)](n+"input")?Ot():n("0")}))()}();const s=new(d[t(633)]);return function(e=new(d[t(278)]),n=null){const i=t,r=e[i(460)],o=e.max;for(let t=0;t<this[i(489)];t++){const e=this[i(264)](t);let a=e[i(463)];n&&(s[i(217)](a),s[i(614)](n),a=s);const c=Math[i(422)](e[i(564)].x,e[i(564)].y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,m=a.z-c,d=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=m),(0==t||a.z>o.z)&&(o.z=d)}return e}}()),p(this,e,function(){const t=N,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[M(304)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=M;let s;try{s=Function(t(465)+t(336)+");")()}catch(r){s=window}const n=s.console=s[t(584)]||{},i=["log",t(549),"info",t(528),t(456),t(171),t(619)];for(let o=0;o<i[t(174)];o++){const s=e[t(386)][t(604)][t(401)](e),r=i[o],a=n[r]||s;s[t(268)]=e[t(401)](e),s[t(286)]=a.toString[t(401)](a),n[r]=s}}))();const s=new(d[t(633)]),n=new(d[t(633)]),i=new(d[t(633)]);return function(e=new w,r=null){const o=t;let a=0;for(let t=0;t<this[o(489)];t++){const e=this[o(264)](t);let c=e[o(463)];r&&(i[o(217)](c),i.applyMatrix4(r),c=i);const h=Math[o(422)](e.size.x,e[o(564)].y);if(0==t)s[o(217)](c),a=h;else{n.copy(c).sub(s);const t=n[o(174)]()+h;if(t>a){const e=(t-a)/2;n[o(210)]()[o(374)](e),s[o(188)](n),a+=e}}}return e[o(588)].copy(s),e.radius=a,e}}());const t=N;this[t(557)]=0,this[t(489)]=0,this[t(349)]=[]}[N(259)](t){this[N(437)](t)}setParticleCount(t){const e=N;this[e(557)]!=t&&(this[e(618)](),this[e(594)](t)),this.particleCount=t}[N(359)](t){this[N(489)]=t}[N(594)](t){const e=N;this[e(349)]=[],this[e(557)]=t;for(let s=0;s<t;s++)this[e(349)][s]=new B}[N(618)](){}[N(251)](){return this[N(557)]}flushParticleStateToBuffers(){}[N(288)](t,e){const s=N;if(t>=this[s(557)])throw new Error('ParticleStateArray::copyState() -> "srcIndex" is out of range.');if(e>=this[s(557)])throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const n=this[s(349)][t],i=this.particleStates[e];n.copyTo(i)}[N(610)](t,e){const s=N;if(t>=this[s(557)])throw new Error(s(250));return this[s(349)][t][s(217)](e)}getState(t){const e=N;if(t>=this[e(557)])throw new Error(e(267));return this.particleStates[t]}}e=N(296);class D{constructor(t,e,s=0){const n=N;this[n(338)]=t,this[n(174)]=e,this.id=s}}class X{constructor(){const t=N;this.sequences={},this[t(310)]=[]}[N(249)](t,e,s){const n=N;if(this[n(372)](s))throw new Error(n(634));const i=new D(t,e,s);return this.sequences[s]=i,this[n(310)][n(303)](s),i}[N(332)](t){const e=N;if(!this.hasID(t))throw new Error(e(626));return this.sequences[t]}[N(253)](){return this[N(310)]}[N(372)](t){return!!this[N(431)][t]}}class W{constructor(){}[N(161)](t){const e=N;t.initialColor.set(1,1,1),t.initialSize[e(464)](1,1),t[e(541)]=1,t.progressType=j[e(343)],t[e(475)]=0,t.age=0,t[e(213)][e(464)](0,0,0,0),t[e(463)][e(464)](0,0,0),t.velocity[e(464)](0,0,0),t.acceleration[e(464)](0,0,0),t[e(471)][e(464)](0,0,1),t[e(391)]=0,t.rotationalSpeed=0,t.size[e(217)](t[e(380)]),t[e(601)].copy(t[e(476)]),t.alpha=1}}class G extends W{constructor(){super()}[N(161)](t){super[N(161)](t)}}class Y{constructor(){}[N(234)](){}}class J extends Y{constructor(){const t=N;super(),this[t(459)]=new f,this[t(413)]=new f,this.stateAcceleration=new(d[t(633)]),this.stateVelocity=new(d[t(633)])}[N(234)](t,e){const s=N;return super.updateState(t,e),this[s(239)][s(217)](t[s(218)]),this.timeScaledAcceleration[s(217)](this[s(239)]),this.timeScaledAcceleration.multiplyScalar(e),t[s(623)].add(this.timeScaledAcceleration),this[s(165)][s(217)](t[s(623)]),this[s(459)][s(217)](this.stateVelocity),this.timeScaledVelocity[s(374)](e),t.position.add(this[s(459)]),t.age=t[s(317)]+e,t[s(391)]=t[s(391)]+e*t.rotationalSpeed,!0}}class L{static clamp(t,e,s){const n=N;return Math[n(460)](Math[n(422)](t,e),s)}static currentTime(){return performance.now()/1e3}}class Z{constructor(){this[N(641)]=[]}[N(350)](t){const e=N;this[e(641)][e(303)](t)}[N(179)](t,e){const s=N;for(const n of this[s(641)])n.update(t,e)}[N(643)](t){const e=N;if(t>=this[e(641)][e(174)])throw new Error(e(407));return this[e(641)][t]}}const k=class{constructor(t){this.name=t}};s=N(607),p(k,"NotStarted",new k(N(613))),p(k,"Running",new k(N(351))),p(k,s,new k(N(607))),p(k,"Done",new k(N(482)));let H=k;class ${constructor(t,e){p(this,n,function(){const t=N,e=new(d[t(320)]);return function(){const s=t;let n=null;this[s(445)]&&(n=e,n[s(217)](this[s(201)][s(409)])[s(581)]()),this[s(225)].calculatingBoundingSphereFromBox()?(this[s(349)][s(348)](this[s(183)],n),this[s(225)].setBoundingBox(this[s(183)])):(this.particleStates[s(296)](this[s(389)],n),this[s(225)][s(462)](this.boundingSphere))}}());const s=N;this[s(201)]=t,this[s(201)][s(425)]=!1,this[s(425)]=!0,this[s(225)]=e,this.initialized=!1,this.maximumActiveParticles=0,this[s(489)]=0,this[s(539)]=!0,this[s(501)]=!1,this[s(192)]=null,this[s(196)]=new Z,this.particleStateInitializers=[],this[s(479)]=[],this[s(349)]=null,this.systemState=H[s(613)],this[s(379)]=new X,this[s(263)]=null,this[s(445)]=!0,this[s(183)]=new(d[s(278)]),this[s(389)]=new w}[N(259)](t){const e=N;if(this.initialized)throw new Error(e(554));this[e(230)]=t,this.particleSystemRenderer?(this.particleSystemRenderer[e(277)](this[e(201)]),this.particleSystemRenderer.init(this[e(230)],this.simulateInWorldSpace),this.particleSystemRenderer.setSimulateInWorldSpace(this.simulateInWorldSpace),this[e(349)]=this.particleSystemRenderer[e(608)]()):(this[e(349)]=new U,this[e(349)].init(this[e(230)])),this[e(551)](new G),this[e(150)](new J),this.initialized=!0}[N(540)](){return this.visible}setVisibile(t){return this.visible=t}[N(575)](t){this[N(263)]=t}[N(179)](t,e){const s=N;if(this[s(424)]==H[s(351)]){if(this[s(201)].updateWorldMatrix(!0),t=null==t||null==t?L[s(631)]():t,e=null==e||null==e?t-this[s(485)]:e,this[s(501)]&&this[s(424)]==H[s(351)]){const t=this[s(192)].update(e);t>0&&this[s(420)](t),this.advanceActiveParticles(e),this[s(263)]&&this[s(263)](this[s(489)]),this.updateBounds()}this.componentContainer.update(t,e),this.lastUpdateTime=t}}render(t,e){const s=N;if(this.getVisible()&&this[s(225)]){const n=t[s(235)];t.autoClear=!1,this[s(201)][s(425)]=!0,this.owner[s(275)]=!0,this.particleSystemRenderer[s(589)](this.owner,t,e),this.owner[s(425)]=!1,t[s(235)]=n}}[N(338)](){const t=N;this[t(424)]!=H.NotStarted&&this[t(424)]!=H[t(607)]||(this.systemState=H[t(351)],this[t(341)]=L[t(631)](),this.lastUpdateTime=this.startTime)}[N(163)](){const t=N;this[t(424)]==H.Running&&(this[t(424)]=H[t(607)])}[N(193)](){}[N(520)](){return this[N(424)]}[N(411)](t){const e=N;return this.particleEmitter=t,this[e(192)][e(230)]=this.maximumActiveParticles,this.emitterInitialized=!0,this.particleEmitter}[N(350)](t){const e=N;this[e(196)][e(350)](t)}getComponent(t){return this[N(196)].getComponent(t)}addParticleStateInitializer(t){const e=N;return this[e(570)][e(303)](t),t}[N(158)](){return this[N(570)].length}getParticleStateInitializer(t){const e=N;if(t>=this[e(570)][e(174)])throw new Error(e(151));return this[e(570)][t]}addParticleStateOperator(t){return this[N(479)].push(t),t}[N(325)](){const t=N;return this[t(479)][t(174)]}[N(186)](t){const e=N;if(t>=this[e(479)][e(174)])throw new Error(e(449));return this[e(479)][t]}getMaximumActiveParticles(){return this.maximumActiveParticles}[N(568)](){return this[N(489)]}[N(287)](t){const e=N;if(t>=this.activeParticleCount)throw new Error(e(182));return this[e(349)].getState(t)}[N(408)](){return this.particleStates}[N(450)](){return this.particleSystemRenderer}[N(240)](){return this[N(539)]}[N(157)](t){const e=N;this[e(539)]=t,this.particleSystemRenderer&&this[e(225)][e(157)](this[e(539)])}[N(290)](t){this[N(445)]=t}[N(314)](t,e,s=0){const n=N;this[n(379)][n(249)](t,e,s)}[N(226)](){return this[N(379)]}[N(301)](){return this.particleEmitter}[(n=N(212),N(420))](t){const e=N;if(this[e(424)]==H[e(351)]){const s=L[e(469)](this[e(489)]+t,0,this.maximumActiveParticles);for(let t=this.activeParticleCount;t<s;t++)this[e(207)](t);this.activeParticleCount=s,this[e(349)][e(359)](this[e(489)])}}[N(207)](t){const e=N;if(this[e(424)]==H[e(351)]){const s=this[e(349)].getState(t);s.age=0;for(let t=0;t<this[e(570)][e(174)];t++){this[e(570)][t][e(161)](s)}if(this.simulateInWorldSpace){s[e(463)][e(614)](this[e(201)][e(409)]);const t=s[e(623)].length();if(this.transformInitialDirectionInWorldSpace){s[e(623)][e(587)](this.owner[e(409)])[e(374)](t);const n=s.acceleration.length();s[e(218)][e(587)](this[e(201)].matrixWorld)[e(374)](n)}}this.particleStates[e(229)](t)}}[N(625)](t){const e=N;if(this.systemState==H[e(351)]){let s=0;for(;s<this[e(489)];){this[e(512)](s,t)?s++:(s<this[e(489)]-1&&this[e(331)](this[e(489)]-1,s),this.activeParticleCount--)}this[e(349)][e(359)](this.activeParticleCount)}}advanceActiveParticle(t,e){const s=N;if(this[s(424)]==H[s(351)]){const n=this[s(349)][s(264)](t);for(let t=0;t<this[s(479)][s(174)];t++){const i=this[s(479)][t].updateState(n,e),r=n.lifetime;if(!i||0!=r&&n[s(317)]>=r)return!1}return this[s(349)][s(229)](t),!0}return!1}copyParticleInArray(t,e){const s=N;this[s(349)][s(288)](t,e),this[s(349)][s(229)](e)}static fromJSON(t,e,s){const n=N,i=(t,e,s)=>{const n=M;e(t);for(const r in t)if(t[n(423)](r)){const s=t[r];typeof s===n(400)&&i(s,e)}};i(t,(t=>{const s=M;t[s(531)]&&(t[s(531)]=e[s(405)](t[s(531)]))}));const r=t[n(194)],o=t[n(539)],a=t[n(258)],c=a[n(531)].fromJSON(a[n(274)]),h=new(d[n(357)]),l=new $(h,c,s);l[n(259)](r),l[n(157)](o);const u=t[n(221)],p=u[n(531)][n(576)](u[n(274)]);if(l[n(411)](p),t.sequences)for(const m of t[n(431)])l[n(314)](m[n(338)],m.length,m.id);if(t[n(514)])for(const m of t[n(514)])l[n(551)](m[n(531)][n(576)](l,m[n(274)]));if(t[n(354)])for(const m of t.operators){const t=l[n(150)](m[n(531)][n(576)](l,m[n(274)]));m[n(572)]&&t.addElementsFromParameters(m[n(572)])}return[l,h]}[N(415)](t){const e=N,s=this[e(450)](),n=this.getEmitter(),i=this[e(226)](),r=i[e(253)]()[e(404)]((t=>{const s=e,n=i[s(332)](t);return{id:t,start:n[s(338)],length:n[s(174)]}})),o=[],a=this[e(158)]();for(let l=0;l<a;l++){const s=this[e(334)](l);s[e(386)]!==G&&o[e(303)]({type:t[e(356)](s[e(386)]),params:s[e(415)](t)})}const c=[],h=this[e(325)]();for(let l=0;l<h;l++){const s=this[e(186)](l);if(s[e(386)]!==J){const n=s[e(415)](t),i=n.params||n,r=n[e(274)]?n[e(572)]:null,o={type:t[e(356)](s[e(386)]),params:i};r&&(o[e(572)]=r),c[e(303)](o)}}return{maxParticleCount:this[e(232)](),simulateInWorldSpace:this[e(240)](),renderer:{type:t[e(356)](s[e(386)]),params:s.toJSON()},emitter:{type:t[e(356)](n.constructor),params:n[e(415)]()},sequences:r,initializers:o,operators:c}}}class K{constructor(){const t=N;this[t(558)]=[],this.startupTime=performance[t(362)]()/1e3,this[t(485)]=this[t(315)],this.componentContainer=new Z}[N(179)](){const t=N,e=L.currentTime(),s=e-this[t(485)];for(const n of this[t(558)])n.update(e,s);this[t(196)][t(179)](e,s),this[t(485)]=e}[N(589)](t,e){const s=N;for(const n of this[s(558)])n[s(589)](t,e)}[N(155)](t){const e=N;this[e(558)][e(303)](t)}[N(350)](t){this[N(196)].addComponent(t)}[N(643)](t){return this.componentContainer.getComponent(t)}}class Q{constructor(){const t=N;this[t(373)]=!1,this[t(557)]=0,this[t(201)]=null,this[t(539)]=!1}[N(157)](t){this[N(539)]=t}[N(608)](){}[N(277)](t){this[N(201)]=t}[N(259)](t){const e=N;if(this[e(557)]=t,!this[e(373)])return this.initialized=!0,!0;throw new Error(e(585))}[N(589)](){}}class tt extends U{constructor(){const t=N;super(),this[t(262)]=null,this[t(560)]=null,this[t(236)]=null,this[t(375)]=null,this.sequenceElements=null,this[t(169)]=null,this[t(318)]=null,this[t(433)]=null,this[t(496)]=null,this[t(490)]=null,this[t(281)]=null,this[t(324)]=null,this[t(316)]=null,this[t(339)]=null,this[t(630)]=null,this[t(440)]=!1,this[t(149)]=6}[N(259)](t,e=!1){const s=N;this[s(440)]=e,this[s(440)]?this[s(149)]=1:this[s(149)]=6,super[s(259)](t),this[s(594)](t)}[N(437)](t){super[N(437)](t)}[N(359)](t){const e=N;super[e(359)](t),t>0?this.instanced?this[e(262)][e(330)]=t:this[e(262)][e(529)](0,this.verticesPerParticle*t):this[e(440)]?this[e(262)][e(330)]=0:this.geometry[e(529)](0,0)}[N(229)](t){const e=N;if(t>=this.particleCount)throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this.getState(t),n=t*this[e(149)];for(let i=0;i<this[e(149)];i++)this.lifetimes[e(419)](n+i,s.lifetime),this.lifetimes[e(487)]=!0,this[e(375)][e(419)](n+i,s[e(317)]),this[e(375)][e(487)]=!0,this[e(561)][e(504)](n+i,s[e(213)].x,s[e(213)].y,s[e(213)].z,s[e(213)].w),this.sequenceElements[e(487)]=!0,this[e(169)][e(636)](n+i,s[e(463)].x,s.position.y,s[e(463)].z),this[e(169)].needsUpdate=!0,this[e(318)][e(636)](n+i,s.velocity.x,s[e(623)].y,s[e(623)].z),this[e(318)][e(487)]=!0,this[e(433)][e(636)](n+i,s[e(218)].x,s[e(218)].y,s[e(218)].z),this[e(433)][e(487)]=!0,this[e(496)].setXYZ(n+i,s[e(471)].x,s[e(471)].y,s.normal.z),this[e(496)][e(487)]=!0,this.rotations.setX(n+i,s.rotation),this[e(490)][e(487)]=!0,this[e(281)][e(419)](n+i,s[e(302)]),this[e(281)][e(487)]=!0,this[e(324)][e(159)](n+i,s[e(564)].x,s[e(564)].y),this[e(324)][e(487)]=!0,this[e(316)][e(636)](n+i,s[e(601)].r,s[e(601)].g,s.color.b),this.colors.needsUpdate=!0,this[e(477)][e(419)](n+i,s[e(388)]),this.alphas[e(487)]=!0,this.initialSizes[e(159)](n+i,s[e(380)].x,s[e(380)].y),this[e(339)][e(487)]=!0,this[e(328)][e(419)](n+i,s.initialAlpha),this.initialAlphas[e(487)]=!0}[N(288)](t,e){const s=N;super[s(288)](t,e),this[s(229)](e)}setState(t,e){const s=N;if(t>=this[s(557)])throw new Error(s(184));super[s(610)](t,e),this[s(229)](t)}[N(276)](){return this[N(169)]}getSizes(){return this[N(324)]}getRotations(){return this[N(490)]}[N(297)](){return this.sequenceElements}[N(223)](){return this[N(316)]}[N(453)](){return this.geometry}allocate(t){const e=N;super.allocate(t);const s=(t,e)=>{const s=M;return this[s(440)]?new(d[s(383)])(t,e):new(d[s(615)])(t,e)},n=this[e(149)]*this[e(557)];if(this[e(440)]){const t=new g,s=new Float32Array(18);this.basePositions=new(d[e(615)])(s,3),t[e(256)](e(463),this[e(639)]),this[e(639)][e(487)]=!0,this[e(639)].setXYZ(0,-1,1,0),this[e(639)][e(636)](1,-1,-1,0),this[e(639)][e(636)](2,1,1,0),this[e(639)].setXYZ(3,-1,-1,0),this[e(639)][e(636)](4,1,-1,0),this[e(639)].setXYZ(5,1,1,0);const n=new Float32Array(12);this[e(595)]=new(d[e(615)])(n,2),t.setAttribute(e(347),this[e(595)]),this[e(595)][e(487)]=!0,this[e(595)][e(159)](0,0,1),this[e(595)][e(159)](1,0,0),this[e(595)][e(159)](2,1,1),this[e(595)][e(159)](3,0,0),this[e(595)][e(159)](4,1,0),this[e(595)][e(159)](5,1,1);const i=new Float32Array(6);this.customIndexes=new(d[e(615)])(i,1),t[e(256)]("customIndex",this[e(346)]),this[e(346)][e(487)]=!0,this.customIndexes[e(419)](0,0),this[e(346)].setX(1,1),this.customIndexes[e(419)](2,3),this[e(346)][e(419)](3,1),this.customIndexes[e(419)](4,2),this.customIndexes.setX(5,3),this[e(262)]=(new S).copy(t),this[e(262)][e(330)]=0}else{this[e(262)]=new(d[e(215)]);const t=new Float32Array(n);this.customIndexes=new(d[e(615)])(t,1),this[e(262)][e(256)]("customIndex",this[e(346)]),this[e(346)][e(487)]=!0;for(let s=0;s<this[e(557)];s++){const t=s*this[e(149)];this.customIndexes.setX(t,0),this[e(346)][e(419)](t+1,1),this.customIndexes[e(419)](t+2,3),this[e(346)].setX(t+3,1),this[e(346)][e(419)](t+4,2),this.customIndexes[e(419)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),o=new Float32Array(4*n),a=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),w=new Float32Array(n),v=new Float32Array(2*n),x=new Float32Array(3*n),I=new Float32Array(n);this[e(169)]=s(a,3),this[e(169)][e(369)](d[e(166)]),this[e(262)][e(256)](e(442),this[e(169)]),this[e(236)]=s(i,1),this.lifetimes[e(369)](d[e(166)]),this.geometry[e(256)](e(475),this[e(236)]),this[e(375)]=s(r,1),this.ages[e(369)](d[e(166)]),this[e(262)][e(256)](e(317),this[e(375)]),this[e(561)]=s(o,4),this[e(561)][e(369)](y),this.geometry[e(256)](e(213),this[e(561)]),this[e(318)]=s(c,3),this.velocities[e(369)](d[e(166)]),this.geometry[e(256)](e(623),this.velocities),this[e(433)]=s(h,3),this[e(433)][e(369)](d[e(166)]),this[e(262)].setAttribute("acceleration",this[e(433)]),this.normals=s(l,3),this[e(496)][e(369)](y),this.geometry[e(256)](e(471),this[e(496)]),this.rotations=s(u,1),this[e(490)][e(369)](d[e(166)]),this[e(262)][e(256)](e(391),this[e(490)]),this[e(281)]=s(p,1),this[e(281)][e(369)](d[e(166)]),this[e(262)][e(256)]("rotationalSpeed",this.rotationalSpeeds),this[e(324)]=s(m,2),this[e(324)][e(369)](d[e(166)]),this.geometry[e(256)](e(564),this[e(324)]),this[e(316)]=s(f,3),this[e(316)].setUsage(y),this[e(262)][e(256)]("color",this[e(316)]),this[e(477)]=s(w,1),this[e(477)][e(369)](d[e(166)]),this[e(262)].setAttribute(e(388),this[e(477)]),this.initialSizes=s(v,2),this[e(339)].setUsage(d[e(166)]),this.geometry[e(256)](e(380),this[e(339)]),this[e(630)]=s(x,3),this[e(630)].setUsage(d[e(166)]),this[e(262)][e(256)](e(476),this[e(630)]),this[e(328)]=s(I,1),this[e(328)][e(369)](d[e(166)]),this[e(262)].setAttribute("initialAlpha",this[e(328)])}[N(618)](){const t=N;super[t(618)](),this[t(262)]&&(this[t(262)].dispose(),this[t(262)]=null)}}class et{constructor(t,e,s,n,i){const r=N;this[r(174)]=t,this.x=e,this.y=s,this.width=n,this[r(555)]=i}}class st{constructor(t,e){this[N(237)]=t,this.texturePath=e,this.frameSets=[]}[N(272)](){return this[N(237)]}[N(566)](){return this.texturePath}[N(620)](){return this[N(632)].length}[N(536)](t,e,s,n,i){const r=N;this[r(632)][r(303)](new et(t,e,s,n,i))}[N(172)](t){const e=N;if(t>=this.frameSets[e(174)])throw new Error(e(254));return this[e(632)][t]}}const nt=class t extends Q{constructor(t,e,s=!1,n=d[N(295)],r=!0,o){const a=N;super(),p(this,i,function(){const t=N,e=new(d[t(633)]);return function(){const s=t,n=this.particleStateArray[s(453)]();if(this[s(355)]){n[s(183)]||(n[s(183)]=new v),n[s(183)][s(217)](this[s(183)]),!n[s(389)]&&(n[s(389)]=new(d[s(392)])),e.x=(this[s(183)][s(460)].x+this[s(183)].max.x)/2,e.y=(this[s(183)][s(460)].y+this[s(183)][s(422)].y)/2,e.z=(this[s(183)][s(460)].z+this.boundingBox[s(422)].z)/2;const t=this[s(183)][s(422)].x-e.x,i=this[s(183)][s(422)].y-e.y,r=this[s(183)][s(422)].z-e.z,o=Math[s(422)](Math[s(422)](t,i),r);n[s(389)][s(588)].copy(e),n[s(389)][s(173)]=Math[s(638)](2*o*o)}else n[s(389)]||(n.boundingSphere=new(d[s(392)])),n.boundingSphere[s(217)](this[s(389)])}}()),this[a(440)]=t,this[a(382)]=null,this[a(390)]=null,this[a(177)]=null,this[a(365)]=e,this.interpolateAtlasFrames=s,this[a(472)]=n,this[a(183)]=new(d[a(278)]),this[a(389)]=new w,this[a(355)]=r,this.renderOrder=o}[N(277)](t){super.setOwner(t)}[N(608)](){return this.particleStateArray}setSimulateInWorldSpace(t){const e=N;super[e(157)](t),this[e(390)]&&(this[e(390)][e(167)][e(539)][e(516)]=t?1:0,this.material[e(394)]=!0)}[N(164)](){return this[N(355)]}[N(484)](t){const e=N;this[e(183)][e(217)](t),this[e(177)]&&this[e(538)]()}[N(462)](t){const e=N;this[e(389)][e(217)](t),this.mesh&&this[e(538)]()}render(t,e,s){e[N(589)](t,s)}init(t){const e=N;super[e(259)](t)&&(this[e(382)]=new tt,this[e(382)][e(259)](t,this[e(440)]),this[e(390)]=this.createMaterial(null,null,null,!0,!1),this[e(390)][e(472)]=this.blending,this[e(177)]=new(d[e(306)])(this[e(382)][e(453)](),this[e(390)]),this.mesh[e(333)]=!0,void 0!==this.renderOrder&&(this[e(177)][e(624)]=this[e(624)]),this.updateMeshBounds(),this[e(201)][e(188)](this[e(177)]))}[(i=N(538),N(618))](){const t=N;this[t(382)][t(618)]()}[N(366)](e,s,n,i,r){const o=N,a=[...Array(16)[o(505)]()].map((t=>new x));if(this[o(365)])for(let t=0;t<this[o(365)][o(620)]();t++){const e=this[o(365)][o(172)](t);a[t]=new(d[o(364)])(e.x,e.y,e[o(312)],e.height)}const c=this[o(365)]?this[o(365)].getTexture():null,h=this[o(266)],l=this[o(539)],u=this[o(440)]?1:0,p={atlasFrameSet:{type:o(203),value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(d[o(562)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[o(367)](n,p),e=e||t[o(492)].getVertexShader(r),s=s||t.Shader.getFragmentShader(i,r),new(d[o(381)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:d[o(295)],blendDstAlpha:d[o(219)],blendSrcAlpha:I,depthTest:!0,depthWrite:!1})}static[(r=N(492),N(576))](e){const s=N,n=e[s(365)],i=(new(d[s(571)]))[s(603)](n[s(446)]),r=new st(i,n[s(446)]),o=n[s(396)];for(const t of o)r[s(536)](t[s(174)],t.x,t.y,t[s(312)],t.height);const a=new t(e[s(440)],r,n[s(556)]);return"Additive"==e[s(472)]?a[s(472)]=d[s(307)]:a[s(472)]=d[s(295)],a}[N(415)](t){const e=N;t=t||(t=>{const e=M;if(t[e(446)])return t[e(446)];const s=t.getTexture()[e(270)];if(s){const t=s[e(458)];if(t){const s=t[e(282)],n=t[e(153)];return n[e(176)](s)>=0?n.substr(s[e(174)],n[e(174)]-s[e(174)]):n}}});const s=[];for(let i=0;i<this[e(365)][e(620)]();i++){const t=this[e(365)][e(172)](i);s.push(t)}let n="Normal";this.material[e(472)]===d[e(307)]&&(n=e(543));return{instanced:this.instanced,blending:n,atlas:{interpolateFrames:this[e(266)],texturePath:t(this.atlas),framesets:s}}}};p(nt,r,{get VertexVars(){const t=N;return[t(599),t(524),"uniform int interpolateAtlasFrames; \n",t(397),t(511),t(582),t(552),"attribute vec4 particlePosition;\n","attribute float rotation;\n","attribute vec2 size;\n",t(216),t(206),"attribute float alpha;\n",t(635),t(191),t(430),"varying float vFragAlpha;\n",t(283)][t(506)]("\n")},get FragmentVars(){const t=N;return[t(248),"uniform sampler2D atlasTexture;\n",t(644),t(635),t(191),t(430),t(591),t(461)][t(506)]("\n")},getVertexShader(t){const e=N;let s=["#include <common>",this.VertexVars][e(506)]("\n");return t&&(s+=e(273)),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n",e(222),e(563),e(622),e(526),e(605),e(628),e(642),e(480),"   int nRowSequenceElement = sequenceElement - firstRowSections; \n","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(546),e(200),e(444),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(470),e(598),e(168),"} \n",e(515),"{\n",e(548),e(467),e(503),e(497),"   const vec2 uRight = vec2(1.0, 1.0);\n","   const vec2 uLeft = vec2(-1.0, 1.0);\n",e(519),e(321),"   vec4 viewPosition; \n","   if (simulateInWorldSpace == 1) { \n",e(269),e(429),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   } \n",e(291),e(403),e(438),e(567),e(530),e(468),e(309),e(574),e(617),e(352),e(399),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(486),e(298),"   float atlasFrameWidth = atlasFrames.z; \n",e(563),e(185),e(257),"   float rightSide; \n",e(578),e(502),e(545),e(523),"       upperSide = upperSideStep.x + upperSideStep.y;\n",e(233),e(384),e(534),e(298),e(406),e(452),e(473),e(502),e(537),e(474),e(227),"       float uRightV = rotVecStep.z; \n","       float dRightV = rotVecStep.w - rotVecStep.z; \n",e(590),e(233),e(265),e(298),e(327),e(518),e(387),e(533),e(378)].join("\n"),t&&(s+=e(228)),s+=e(371),s},getFragmentShader(t,e){const s=N;let n=s(243)+this[s(579)]+"\n";return e&&(n+=s(527)),n+="void main() { \n",e&&(n+=s(178)),n+=t?["   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vec4 color2 = color1; \n",s(517),s(280),s(319)][s(506)]("\n"):[s(547),s(513),s(517),s(280),s(319)][s(506)]("\n"),n+="}\n",n}});let it=nt;class rt{constructor(){const t=N;this.emissionRelativeStartTime=0,this.emissionDuration=0,this[t(500)]=0,this[t(317)]=0,this.timeActive=0,this[t(443)]=0,this[t(230)]=0}[N(179)](t){return this[N(376)](t),0}[N(376)](t){const e=N;return this[e(317)]+=t,this[e(609)]=Math[e(422)](this.age-this[e(535)],0),this[e(317)]>=this[e(535)]&&(0==this[e(385)]||this[e(609)]<=emissionDuration)}[N(305)](t){this[N(500)]+=t}}class ot extends rt{constructor(){const t=N;super(),this[t(162)]=0,this[t(495)]=0}}class at extends ot{constructor(t=0){const e=N;super(),this[e(499)]=t}[N(179)](t){const e=N;if(this[e(376)](t)){const t=this[e(499)]*this[e(609)]-this[e(500)];if(t>=1){const s=Math[e(322)](t);return this[e(305)](s),s}}return 0}static[N(576)](t){const e=N,s=new at;return s[e(499)]=t[e(499)]||0,s}[N(415)](){return{emissionRate:this[N(499)]}}}const ct=class t{constructor(t){this[N(156)]=t}static[(o=N(577),a=N(633),c=N(364),h=N(435),N(241))](e){const s=N;let n=t[s(577)];return e===d[s(562)]?n=t.Vector2:e===f?n=t[s(633)]:e===d[s(364)]?n=t[s(364)]:e===d[s(435)]&&(n=t[s(435)]),n}static[N(244)](t,e){const s=N;switch(e){case P:return(new(d[s(562)])).fromArray(t);case d[s(633)]:return(new(d[s(633)]))[s(199)](t);case d[s(364)]:return(new(d[s(364)]))[s(199)](t);case d[s(435)]:return(new(d[s(435)]))[s(199)](t)}return t}};p(ct,o,new ct("Default")),p(ct,"Vector2",new ct("Vector2")),p(ct,a,new ct(N(633))),p(ct,c,new ct("Vector4")),p(ct,h,new ct("Color"));let ht=ct;class lt{constructor(t){const e=N;this.outType=t,this[e(368)]=ht[e(241)](t)}}class ut extends lt{constructor(t,e,s,n,i,r){const o=N;super(t),this[o(292)]=e,this[o(522)]=s,this.uniformRange=n,this[o(580)]=i,this[o(210)]=r}generate(t){const e=N,s=Math[e(509)]()*this[e(645)];switch(this[e(368)]){case ht.Default:t=Math[e(509)]()*this.range+this.offset,this.normalize&&(t=t<0?-1:1);break;case ht.Vector2:t[e(464)](this[e(326)](s,"x"),this[e(326)](s,"y"));break;case ht[e(633)]:t[e(464)](this[e(326)](s,"x"),this[e(326)](s,"y"),this[e(326)](s,"z"));break;case ht.Vector4:t[e(464)](this.generateForElement(s,"x"),this[e(326)](s,"y"),this[e(326)](s,"z"),this.generateForElement(s,"w"))}return this.normalize&&t.normalize(),t}[N(326)](t,e){const s=N;return t+Math.random()*this[s(292)][e]+this[s(522)][e]+this[s(580)]}[N(231)](){const t=N;return new ut(this[t(335)],this[t(292)],this[t(522)],this[t(645)],this[t(580)],this[t(210)])}static[N(197)](t){const e=N;return t instanceof d[e(562)]||t instanceof f||t instanceof d[e(364)]||t instanceof d[e(435)]?t[e(205)]():t}static[N(576)](t){const e=N;return new ut(t[e(531)],ht[e(244)](t.range,t.type),ht[e(244)](t.offset,t[e(531)]),t[e(645)]||0,t[e(580)]||0,t[e(210)])}[N(415)](t){const e=N,s={range:ut[e(197)](this[e(292)]),offset:ut[e(197)](this[e(522)]),uniformRange:this[e(645)],uniformOffset:this[e(580)]},n=t[e(356)](this[e(292)][e(386)]);return null!=n&&(s[e(531)]=n),{type:t[e(356)](ut),params:s}}}class pt extends W{constructor(t,e,s,n,i){const r=N;super(),this[r(292)]=t,this[r(522)]=e,this.uniformRange=s,this.uniformOffset=n,this[r(210)]=i,this[r(447)]=new ut(0,this[r(292)],this[r(522)],this[r(645)],this[r(580)],this[r(210)])}[N(161)](t){const e=N;t[e(475)]=this.generator[e(616)]()}static[N(576)](t,e){const s=N;return new pt(e[s(292)],e.offset,e[s(645)],e[s(580)],e.normalize)}[N(415)](){const t=N;return{range:this[t(292)],offset:this[t(522)],uniformRange:this[t(645)],uniformOffset:this[t(580)],normalize:this[t(210)]}}}class mt extends W{constructor(t){const e=N;super(),this.generator=t[e(231)]()}initializeState(t){const e=N;t[e(391)]=this.generator.generate(t[e(391)])}static[N(576)](t,e){const s=N,n=e[s(447)].type.fromJSON(e[s(447)].params);return new mt(n)}[N(415)](t){return{generator:this[N(447)].toJSON(t)}}}class dt extends W{constructor(t,e,s,n,i){const r=N;super(),this[r(292)]=t,this[r(522)]=e,this[r(645)]=s,this[r(580)]=n,this[r(210)]=i,this[r(447)]=new ut(0,this.range,this[r(522)],this[r(645)],this[r(580)],this.normalize)}[N(161)](t){const e=N;t[e(302)]=this[e(447)][e(616)]()}static[N(576)](t,e){const s=N;return new dt(e[s(292)],e[s(522)],e.uniformRange,e[s(580)],e[s(210)])}[N(415)](){const t=N;return{range:this.range,offset:this[t(522)],uniformRange:this[t(645)],uniformOffset:this[t(580)],normalize:this.normalize}}}class ft extends W{constructor(t,e){const s=N;super(),this[s(152)]=new ut(f,t,e,0,0,!1)}initializeState(t){const e=N;this[e(152)][e(616)](t[e(463)])}static[N(576)](t,e){const s=N;return new ft((new(d[s(633)]))[s(199)](e[s(292)]),(new(d[s(633)]))[s(199)](e[s(522)]))}[N(415)](){const t=N;return{range:this[t(152)][t(292)].toArray(),offset:this[t(152)][t(522)].toArray()}}}class wt extends W{constructor(t){const e=N;super(),this[e(447)]=t[e(231)]()}[N(161)](t){const e=N;this.generator[e(616)](t[e(564)]),t[e(380)][e(217)](t[e(564)])}static[N(576)](t,e){const s=N,n=e[s(447)][s(531)].fromJSON(e[s(447)][s(274)]);return new wt(n)}toJSON(t){const e=N;return{generator:this[e(447)][e(415)](t)}}}class gt extends W{constructor(t,e,s,n,i=!0){const r=N;super(),this.directionGenerator=new ut(d[r(633)],t,e,0,0,!0),this.speedGenerator=new ut(0,s,n,0,0,!1),this[r(508)]=i}[N(161)](t){const e=N;this[e(402)][e(616)](t.velocity),this[e(508)]&&t[e(623)][e(210)](),t[e(623)][e(374)](this.speedGenerator[e(616)]())}static fromJSON(t,e){const s=N;return new gt((new(d[s(633)])).fromArray(e[s(292)]),(new f).fromArray(e.offset),e[s(507)],e.speedOffset)}[N(415)](){const t=N;return{range:this[t(402)][t(292)][t(205)](),offset:this[t(402)][t(522)][t(205)](),speedRange:this[t(448)][t(292)],speedOffset:this.speedGenerator[t(522)]}}}class St extends W{constructor(t,e=!1){super(),this.setParticleSequences(t),this.reverse=e}[N(370)](t){this[N(379)]=t}[N(161)](t){const e=N,s=this[e(379)][e(253)](),n=s[e(174)]*Math.random(),i=s[Math[e(322)](n)],r=this[e(379)].getSequence(i),o=t[e(213)];this[e(342)]?o.x=r[e(174)]-1:o.x=r[e(338)],o.y=r.id,o.z=r[e(338)],o.w=r[e(174)],t[e(377)]=j[e(154)]}static[N(576)](t,e){const s=N;return new St(t[s(226)](),e[s(342)])}[N(415)](){return{reverse:this.reverse}}}class yt extends Y{constructor(t,e,s=!1,n=!1){const i=N;super(),this[i(379)]=t,this[i(583)]=e,this[i(494)]=s,this[i(342)]=n}[N(234)](t,e){const s=N,n=t.sequenceElement,i=this[s(379)][s(332)](n.y),r=e/this[s(583)];if(this[s(342)]){if(n.x-=r,n.x<i[s(338)]&&(n.x=i[s(338)]+i[s(174)],!this[s(494)]))return!1}else if(n.x+=r,n.x>=i.start+i[s(174)]&&(n.x=i[s(338)],!this.loop))return!1;return!0}static[N(576)](t,e){const s=N;return new yt(t[s(226)](),e[s(583)],e[s(494)],e[s(342)])}[N(415)](){const t=N;return{speed:this.speed,loop:this[t(494)],reverse:this[t(342)]}}}class vt{constructor(t,e){p(this,"getInterpolatorForTypeID",function(){const t=N,e={lowerIndex:0,upperIndex:0,localT:0},s=new(d[t(562)]),n=new(d[t(633)]),i=new(d[t(364)]),r=new(d[t(435)]),o=s=>(n,i,r,o)=>{const a=t;vt[a(279)](r,n,e),s[a(217)](i[e.upperIndex])[a(374)](e.localT),o[a(217)](i[e[a(393)]])[a(374)](1-e.localT)[a(188)](s)};return function(a){const c=t;switch(a){case ht[c(577)]:return(t,s,n)=>{const i=c;return vt[i(279)](n,t,e),(1-e[i(621)])*s[e[i(393)]]+e[i(621)]*s[e[i(416)]]};case ht[c(562)]:return o(s);case ht.Vector3:return o(n);case ht[c(364)]:return o(i);case ht[c(435)]:return o(r)}}}());const s=N;this.elements=[],this[s(466)]=[],this[s(220)]=ht[s(241)](t),e?this.interpolator=e:this[s(483)]=this.getInterpolatorForTypeID(this[s(220)])}*[Symbol[N(190)]](){const t=N;let e=0;for(;e<this[t(340)]();)yield{element:this[t(572)][e],tValue:this[t(466)][e]},e++}[N(340)](){const t=N;return this[t(572)][t(174)]}[N(542)](t){const e=N;if(t>=this[e(340)]())throw new Error(e(600));return this[e(572)][t]}[N(271)](t){const e=N;if(t>=this.getElementCount())throw new Error(e(261));return this[e(466)][t]}addElement(t,e){const s=N;this[s(572)][s(303)](t),this[s(466)].push(e)}[N(311)](t,e){const s=N;return this[s(483)](t,this[s(572)],this[s(466)],e)}static[N(279)](t,e,s){const n=N,i=t[n(174)];if(0===i)return s[n(393)]=-1,s.upperIndex=-1,void(s.localT=-1);let r=0,o=-1,a=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)o++,a++;s.lowerIndex=L[n(469)](o,0,i-1),s[n(416)]=L[n(469)](a,0,i-1);const c=t[o],h=t[a];s[n(621)]=(e-c)/(h-c)}}class xt extends Y{constructor(t,e=!1){const s=N;super(),this[s(363)]=e,this[s(255)]=new vt(t)}[N(418)](t,e){const s=N;this[s(255)][s(418)](t,e)}addElements(t){const e=N;for(const s of t)this[e(255)][e(418)](s[0],s[1])}addElementsFromElementClassAndParameters(t,e){const s=N;for(const n of e){const[...e]=n[0];this[s(255)][s(418)](new t(...e),n[1])}}[N(410)](t,e){const s=N;let n=0;switch(t.progressType){case j[s(343)]:n=0!=t[s(475)]?t[s(317)]/t[s(475)]:t.age;break;case j.Sequence:n=t[s(213)].x/t[s(213)].w}return this[s(255)].getInterpolatedElement(n,e)}}class It extends xt{constructor(t=!1){super(0,t)}[N(455)](t){super[N(344)](t)}updateState(t){const e=N;return this[e(363)]?t[e(388)]=t[e(541)]*this[e(410)](t,t[e(388)]):t[e(388)]=this[e(410)](t,t[e(388)]),!0}static[N(576)](t,e){return new It(e[N(363)])}[N(415)](){const t=N;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(255)]].map((e=>[e[t(187)],e[t(451)]]))}}}class Pt extends xt{constructor(t=!1){super(d[N(562)],t),p(this,"updateState",function(){const t=N,e=new(d[t(562)]);return function(s){const n=t;return this[n(410)](s,e),this[n(363)]?s[n(564)][n(464)](s.initialSize.x*e.x,s[n(380)].y*e.y):s[n(564)][n(217)](e),!0}}())}[N(455)](t){const e=N;super[e(525)](d[e(562)],t)}static[N(576)](t,e){return new Pt(e.relativeToInitialValue)}[N(415)](){const t=N;return{params:{relativeToInitialValue:this[t(363)]},elements:[...this[t(255)]][t(404)]((e=>[e.element.toArray(),e[t(451)]]))}}}class At extends xt{constructor(t=!1){super(d[N(435)],t),p(this,l,function(){const t=N,e=new(d[t(435)]);return function(s){const n=t;return this[n(410)](s,e),this.relativeToInitialValue?s[n(601)].setRGB(s[n(476)].r*e.r,s[n(476)].g*e.g,s.initialColor.b*e.b):s[n(601)][n(217)](e),!0}}())}[N(455)](t){const e=N;super.addElementsFromElementClassAndParameters(d[e(435)],t)}static[(l=N(234),N(576))](t,e){return new At(e.relativeToInitialValue)}[N(415)](){const t=N;return{params:{relativeToInitialValue:this[t(363)]},elements:[...this[t(255)]][t(404)]((e=>[e[t(187)][t(205)](),e[t(451)]]))}}}class Tt extends Y{constructor(t){const e=N;super(),this[e(447)]=t.clone()}[N(455)](t){const e=N;super[e(525)](THREE[e(633)],t)}[N(234)](t){const e=N;return this[e(447)][e(616)](t[e(218)]),!0}static[N(576)](t,e){const s=N,n=e.generator.type.fromJSON(e[s(447)][s(274)]);return new Tt(n)}[N(415)](t){const e=N;return{generator:this[e(447)][e(415)](t)}}}class Ft extends lt{constructor(t,e,s,n,i,r,o,a,c,h,l,u){const p=N;super(d[p(633)]),this[p(573)]=t,this[p(428)]=e,this.rangePhi=s,this[p(436)]=n,this[p(593)]=i,this[p(457)]=r,this[p(299)]=o,this[p(308)]=a,this[p(300)]=c,this.offsetX=h,this[p(637)]=l,this[p(596)]=u,this[p(242)]=(new(d[p(633)])).set(0,1,0)}[N(616)](t){const e=N;this[e(242)][e(464)](0,1,0);const s=Math[e(509)]()*this.rangeTheta+this[e(428)],n=Math.random()*this[e(175)]+this[e(436)],i=Math[e(454)](s),r=Math.sin(s),o=Math[e(454)](n),a=Math[e(586)](n);t[e(464)](i,0,-r),t[e(374)](o),this[e(242)].multiplyScalar(a),t[e(188)](this[e(242)]),t[e(210)]();const c=Math[e(509)]()*this[e(593)]+this[e(457)];t[e(374)](c),t.x*=this[e(299)],t.y*=this[e(308)],t.z*=this[e(300)],t.x+=this[e(417)],t.y+=this[e(637)],t.z+=this[e(596)]}[N(231)](){const t=N;return new Ft(this[t(573)],this[t(428)],this[t(175)],this[t(436)],this.rangeRadius,this[t(457)],this[t(299)],this[t(308)],this.scaleZ,this[t(417)],this[t(637)],this[t(596)])}static[N(576)](t){const e=N;return new Ft(t.rangeTheta,t.offsetTheta,t[e(175)],t[e(436)],t[e(593)],t[e(457)],t[e(299)],t[e(308)],t[e(300)],t[e(417)],t[e(637)],t.offsetZ)}toJSON(t){const e=N;return{type:t[e(356)](Ft),params:{rangeTheta:this.rangeTheta,offsetTheta:this[e(428)],rangePhi:this[e(175)],offsetPhi:this[e(436)],rangeRadius:this[e(593)],offsetRadius:this[e(457)],scaleX:this[e(299)],scaleY:this[e(308)],scaleZ:this[e(300)],offsetX:this.offsetX,offsetY:this[e(637)],offsetZ:this.offsetZ}}}}function zt(){const t=["387hMMuJn","instanceCount","copyParticleInArray","getSequence","frustumCulled","getParticleStateInitializer","outType",'{}.constructor("return this")( )',"action","start","initialSizes","getElementCount","startTime","reverse","Time","addElements","namespace","customIndexes","baseUV","computeBoundingBox","particleStates","addComponent","Running","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","getType","operators","calculateBoundingSphereFromBox","getTypePath","Object3D","1167304FvXrFq","setActiveParticleCount","lastPositionFlickerTime","PointLight","now","relativeToInitialValue","Vector4","atlas","createMaterial","assign","outTypeID","setUsage","setParticleSequences","} \n","hasID","initialized","multiplyScalar","ages","internalUpdate","progressType","   vFragAlpha = alpha; \n","particleSequences","initialSize","ShaderMaterial","particleStateArray","InstancedBufferAttribute","       rightSide = baseUV.x; \n","emissionDuration","constructor","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","alpha","boundingSphere","material","rotation","Sphere","lowerIndex","uniformsNeedUpdate","lastPositionAdjuster","framesets","uniform int simulateInWorldSpace; \n","getTypeNames","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","object","bind","directionGenerator","   int sequenceNumber = int(sequenceElement.y);\n","map","parseTypeString","   float uvXOffset = atlasFrameWidth * rightSide; \n",'ComponentContainer::getComponent() -> "index" is out of range.',"getParticleStates","matrixWorld","getInterpolatedValue","setEmitter","cameraNear","timeScaledAcceleration","mapSize","toJSON","upperIndex","offsetX","addElement","setX","activateParticles","shadow","max","hasOwnProperty","systemState","visible","setAll","counter","offsetTheta","   } else { \n","varying vec3 vFragColor;\n","sequences","decay","accelerations","light","Color","offsetPhi","setParticleCount","   int sequenceStart = int(sequenceElement.z);\n","lastIntensityAdjuster","instanced","jsonTypeNames","particlePosition","activeCount","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","transformInitialDirectionInWorldSpace","texturePath","generator","speedGenerator",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"getParticleSystemRenderer","tValue","   float uvYOffset = atlasFrameHeight * upperSide; \n","getGeometry","cos","addElementsFromParameters","exception","offsetRadius","data","timeScaledVelocity","min","varying float vSequenceElementT;\n","setBoundingSphere","position","set","return (function() ","tValues","   const vec2 up = vec2(0.0, 1.0);\n","   vec2 uv1; \n","clamp","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","normal","blending","   vec2 rotVec; \n","       float uLeftV = rotVecStep.x; \n","lifetime","initialColor","alphas","intensity","particleStateOperators","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","getLight","Done","interpolator","setBoundingBox","lastUpdateTime","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","needsUpdate","parent","activeParticleCount","rotations","2282YUdWTu","Shader","540sMLjDV","loop","emissionMaximum","normals","   const vec2 down = vec2(0.0, -1.0);\n","copyTo","emissionRate","emitCount","emitterInitialized","   if (instanced != 1) { \n","   const vec2 left = vec2(-1.0, 0.0);\n","setXYZW","keys","join","speedRange","normalizeDirection","random","typeName","uniform int instanced; \n","advanceActiveParticle","   vec4 color2 = color1; \n","initializers","void main()\n","value","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","   const vec2 dLeft = vec2(-1.0, -1.0);\n","getSystemState","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","offset","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","addElementsFromElementClassAndParameters","   float atlasFrameY = atlasFrames.y; \n","  \n #include <logdepthbuf_pars_fragment> \n","error","setDrawRange","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","type","chain","   vFragColor = color; \n","       upperSide = baseUV.y; \n","emissionRelativeStartTime","addFrameSet","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","updateMeshBounds","simulateInWorldSpace","getVisible","initialAlpha","getElement","Additive","847578CggGtP","       rightSide = step(2.0, customIndex); \n","   int nRowYTile = int(SNOverHS);\n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   const vec2 right = vec2(1.0, 0.0);\n","warn","stateObject","addParticleStateInitializer","attribute float customIndex;\n","lastIntensityFlickerTime","ParticleSystem::init() -> trying to intialize more than once.","height","interpolateFrames","particleCount","particleSystems","70174ZaURwv","progressTypes","sequenceElements","Vector2","   float atlasFrameHeight = atlasFrames.w; \n","size","JSONTypeStore::addNamespace() -> namespace already exists","getTexturePath","   int sequenceLength = int(sequenceElement.w);\n","getActiveParticleCount","48xxXhHe","particleStateInitializers","TextureLoader","elements","rangeTheta","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","onUpdate","fromJSON","Default","   float upperSide; \n","FragmentVars","uniformOffset","invert","attribute vec2 baseUV;\n","speed","console","Renderer::init() -> trying to intialize more than once.","sin","transformDirection","center","render","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","varying float vFragAlpha;\n","221530mGXukN","rangeRadius","allocate","baseUVs","offsetZ","edgeRadius","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","const int MAX_ATLAS_FRAME_SETS = 16; \n",'ContinuousArray::getElement() -> "index" is out of bounds.',"color","debu","load","prototype","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","___photonsTypeID","Paused","getParticleStateArray","timeActive","setState","JSONTypeStore::addTypeToNamespace() -> typeName already exists","gger","NotStarted","applyMatrix4","BufferAttribute","generate","   int firstSequenceElement = int(sequenceElementF); \n","dispose","trace","getFrameSetCount","localT","   float atlasFrameX = atlasFrames.x; \n","velocity","renderOrder","advanceActiveParticles","ParticleSequenceGroup::getSequence -> Invalid ID.","2hOAPkR","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","55psroaq","initialColors","currentTime","frameSets","Vector3","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","varying vec2 vUV1;\n","setXYZ","offsetY","sqrt","basePositions","intensityFlux","components","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","getComponent","uniform vec2 uvOffset;\n","uniformRange","verticesPerParticle","addParticleStateOperator",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"randomGenerator","currentSrc","Sequence","addParticleSystem","name","setSimulateInWorldSpace","getParticleStateInitializerCount","setXY","far","initializeState","emissionMinimum","pause","calculatingBoundingSphereFromBox","stateVelocity","DynamicDrawUsage","uniforms","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","positions","splice","table","getFrameSet","radius","length","rangePhi","indexOf","mesh","    \n  #include <logdepthbuf_fragment> \n","update","cameraFar","JSONTypeStore::addTypeToNamespace() -> namespace does not exist",'ParticleSystem::getParticleState() -> "index" is out of range.',"boundingBox",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"   float rotMag = rotation; \n","getParticleStateOperator","element","add","472GBkGCv","iterator","varying vec2 vUV2;\n","particleEmitter","stop","maxParticleCount","typeIDGen","componentContainer","getParameterJSON","118594ylHApR","fromArray","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","owner","checkAndAddTypeName","v4v","default","toArray","attribute vec3 color;\n","activateParticle","setIntensity","409263TlUzIU","normalize","string","updateBounds","sequenceElement","bias","BufferGeometry","attribute vec4 sequenceElement;\n","copy","acceleration","OneMinusSrcAlphaFactor","elementTypeID","emitter","   float atlasFrameWidth = atlasFrames.z; \n","getColors","323653egZuLN","particleSystemRenderer","getParticleSequences","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","   \n  #include <logdepthbuf_vertex> \n","flushParticleStateToBuffers","maximumActiveParticles","clone","getMaximumActiveParticles","   }  else { \n","updateState","autoClear","lifetimes","texture","nextIntensityAdjuster","stateAcceleration","getSimulateInWorldSpace","getTypeID","tempUp","#include <common> \n","loadJSONParameter","test","JSONTypeStore::getType() -> typeName does not exist","addNamespace","uniform int interpolateAtlasFrames; \n","addSequence",'ParticleStateArray::setState() -> "index" is out of range.',"getParticleCount","function","getSequenceIDs",'Atlas::getFrameSet -> "index" is out of range.',"interpolationElements","setAttribute","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","renderer","init","castShadow",'ContinuousArray::getTValue() -> "index" is out of bounds.',"geometry","onUpdateCallback","getState","       rotVec = position.xy; \n ","interpolateAtlasFrames",'ParticleStateArray::getState() -> "index" is out of range.',"__proto__","       viewPosition = viewMatrix * particlePosition;\n","source","getTValue","getTexture","  \n #include <logdepthbuf_pars_vertex> \n","params","matrixWorldNeedsUpdate","getPositions","setOwner","Box3","getInterpolationValuesForTValue","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","rotationalSpeeds","baseURI","varying float vSequenceElementT; \n","positionAdjuster","while (true) {}","toString","getParticleState","copyState","addTypeToNamespace","setTransformInitialDirectionInWorldSpace","   float sequenceElementF = sequenceElement.x;\n","range","function *\\( *\\)","jsonTypes","NormalBlending","computeBoundingSphere","getSequenceElements","   } \n","scaleX","scaleZ","getEmitter","rotationalSpeed","push","apply","updateEmitCount","Mesh","AdditiveBlending","scaleY","   vec2 uv2; \n","ids","getInterpolatedElement","width","addType","addParticleSequence","startupTime","colors","age","velocities","   gl_FragColor.a *= vFragAlpha; \n","Matrix4","   const vec2 dRight = vec2(1.0, -1.0);\n","floor","camera","sizes","getParticleStateOperatorCount","generateForElement","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","initialAlphas"];return(zt=function(){return t})()}class Et{constructor(){}}class Rt extends Et{constructor(t,e,s,n,i,r,o=void 0){const a=N;super(),this.owner=null,this[a(434)]=null,this.lastUpdateTime=performance[a(362)]()/1e3,this[a(553)]=this.lastUpdateTime,this[a(360)]=this[a(485)],this.lastIntensityAdjuster=1,this[a(238)]=1,this[a(395)]=new(d[a(633)]),this.positionAdjuster=new(d[a(633)]),this[a(478)]=1,this[a(640)]=2,this[a(488)]=t,this.init(t,e,s,n,i,r,o)}init(t,e,s,n,i,r,o=void 0){const a=N;this.owner=new A,t[a(188)](this.owner),n=n||new T,i=i||0,null!=r&&null!=r||(r=2);const c=!!o;return this[a(434)]=new(d[a(361)])(16777215,2,0,1),this[a(434)][a(601)][a(217)](n),this[a(434)].distance=i,this[a(434)][a(432)]=r,this[a(434)][a(260)]=c,c&&(this[a(434)][a(421)][a(414)].width=o.mapSize||512,this[a(434)][a(421)][a(414)][a(555)]=o.mapSize||512,this[a(434)].shadow[a(323)].near=o[a(412)]||.5,this[a(434)][a(421)].camera[a(160)]=o[a(180)]||500,this[a(434)][a(421)][a(214)]=o[a(214)]||1e-4,this.light[a(421)][a(173)]=o[a(597)]||1),this[a(201)][a(188)](this[a(434)]),this[a(478)]=e,this.intensityFlux=s,this[a(434)]}[N(618)](){this[N(488)].remove(this.owner)}[N(481)](){return this[N(434)]}[N(208)](t){this[N(478)]=t}[N(179)](t){const e=N,s=t-this[e(553)],n=1/8,i=this[e(640)];if(s>n){this[e(553)]=t;let s=1+2*(Math.random()-.5)*i*n;const r=s-this.lastIntensityAdjuster;s=this[e(439)]+r,this.lastIntensityAdjuster=this[e(238)],this[e(238)]=L[e(469)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(439)]+t*this.nextIntensityAdjuster;this[e(434)].intensity=i*this[e(478)]}if(t-this[e(360)]>.0625){this.lastPositionFlickerTime=t;const s=t-this.lastUpdateTime;this.positionAdjuster.set(Math.random()-.5,Math.random()-.5,Math[e(509)]()-.5),this[e(284)][e(374)](s),this.positionAdjuster[e(188)](this.lastPositionAdjuster),this[e(284)][e(374)](.5),this[e(201)].position[e(217)](this[e(284)]),this.lastPositionAdjuster[e(217)](this[e(284)]),this[e(485)]=t}}}class bt{constructor(){const t=N;this[t(294)]={default:{}},this[t(441)]={},this.typeIDGen=0}[N(313)](t,e){const s=N;this[s(289)](s(204),t,e)}[N(289)](t,e,s){const n=N;if(!this[n(294)][t])throw new Error(n(181));if(this[n(294)][t][e])throw new Error(n(611));this[n(202)](s,e,t)&&(this[n(294)][t][e]=s)}[N(247)](t,e){const s=N;if(this[s(294)][t])throw new Error(s(565));this[s(294)][t]=e;for(const n in e)if(!e.hasOwnProperty||e[s(423)](n)){const i=e[n];this[s(202)](i,n,t)}}[N(202)](t,e,s){const n=N;if(typeof t===n(252)){const i=this[n(195)]++;t.___photonsTypeID=i,this[n(441)][i]={namespace:s,typeName:e}}}[N(353)](t,e){const s=N;if(!this[s(294)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this.jsonTypes[t][e])throw new Error(s(246));return this[s(294)][t][e]}[N(398)](t){const e=N;return this.jsonTypeNames[t[e(606)]]}[N(356)](t){const e=N,s=this[e(398)](t);if(s)return s[e(345)]+"."+s[e(510)]}parseNamespaceAndTypename(t){const e=N,s=t.split("."),n=s[0];s[e(170)](0,1);return{namespace:n,typeName:s[e(506)](".")}}[N(405)](t){const e=N,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(353)](s,n)}}function Ot(t){function e(t){const s=M;if(typeof t===s(211))return function(t){}.constructor(s(285))[s(304)](s(427));1!==(""+t/t)[s(174)]||t%20==0?function(){return!0}[s(386)]("debugger").call(s(337)):function(){return!1}.constructor(s(602)+s(612))[s(304)](s(550)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const qt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Tt,AnimatedSpriteRenderer:it,Atlas:st,BaseParticleStateInitializer:G,BaseParticleStateOperator:J,BoxPositionInitializer:ft,ColorInterpolatorOperator:At,ConstantParticleEmitter:at,FlickerLight:Rt,JSONTypeStore:bt,LifetimeInitializer:pt,Manager:K,OpacityInterpolatorOperator:It,ParticleStateArray:U,ParticleSystem:$,ParticleSystemState:H,RandomGenerator:ut,RandomVelocityInitializer:gt,Renderer:Q,RotationInitializer:mt,RotationalSpeedInitializer:dt,SequenceInitializer:St,SequenceOperator:yt,SizeInitializer:wt,SizeInterpolatorOperator:Pt,SphereRandomGenerator:Ft},Symbol.toStringTag,{value:"Module"})),Vt=jt;!function(t,e){const s=jt,n=_t();for(;;)try{if(669549===-parseInt(s(249))/1+-parseInt(s(245))/2*(-parseInt(s(229))/3)+-parseInt(s(277))/4+parseInt(s(258))/5+-parseInt(s(259))/6+-parseInt(s(261))/7*(-parseInt(s(234))/8)+-parseInt(s(219))/9*(-parseInt(s(231))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Ct=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[jt(224)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Ct(this,(function(){const t=jt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(233),"i"),n=Bt(t(226));e.test(n+t(221))&&s[t(232)](n+t(227))?Bt():n("0")}))()}();const Mt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Mt(void 0,(function(){const t=jt;let e;try{e=Function("return (function() "+t(211)+");")()}catch(i){e=window}const s=e[t(213)]=e[t(213)]||{},n=[t(287),t(265),t(280),"error",t(275),t(250),"trace"];for(let r=0;r<n.length;r++){const e=Mt[t(216)][t(256)].bind(Mt),i=n[r],o=s[i]||e;e.__proto__=Mt[t(276)](Mt),e.toString=o.toString[t(276)](o),s[i]=e}}))();const Nt=E({__name:Vt(286),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Vt,s=t,n=new K,i=new(qt[e(271)]);i[e(225)](e(244),d),i[e(225)]("Photons",qt);const{renderer:r,camera:o,scene:a}=F(),c=new(d[e(260)])(...s[e(281)]);n[e(246)](((t,s)=>{const n=e,i=new(d[n(247)]);i[n(281)][n(284)](s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new(d[n(218)]))[n(252)](o),c=new(qt[n(223)])(a,o);c[n(288)](1,0,0,1,1);const h=new(qt[n(235)])(!0,c,!0,d[n(240)]),l=new $(i,h,r[n(220)]);l[n(226)](150),l[n(263)](new(qt[n(217)])(6));const u=new(qt[n(254)])(d[n(248)],new(d[n(248)])(0,0),new(d[n(248)])(.15*t,.15*t),0,0,!1);l[n(273)](new(qt[n(257)])(3,1,0,0,!1)),l[n(273)](new(qt[n(212)])(u)),l[n(273)](new ft(new f(.05*t,0,.05*t),new(d[n(260)])(-.025*t,0,-.025*t))),l[n(273)](new gt(new(d[n(260)])(.4*t,.5*t,.4*t),new(d[n(260)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(272)](new(qt[n(282)])).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(272)](new At(!0))[n(268)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new Ft(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(272)](new(qt[n(251)])(p)),l[n(214)](!0),l[n(228)](),l})(s[e(266)],c)),n[e(246)](((t,s)=>{const n=e,i=new A;i[n(281)].copy(s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new(d[n(218)]))[n(252)](o),c=new(qt[n(223)])(a,o);c[n(288)](18,0,0,.125,.25);const h=new it(!0,c,!0),l=new(qt[n(267)])(i,h,r[n(220)]);l[n(226)](50),l.setEmitter(new(qt[n(217)])(10)),l[n(239)](0,18);const u=l[n(255)]();l[n(273)](new(qt[n(257)])(0,0,0,0,!1)),l[n(273)](new mt(new(qt[n(254)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(273)](new dt(1,-1,0,0,!1)),l[n(273)](new(qt[n(212)])(new(qt[n(254)])(d[n(248)],new P(.25*t,.25*t),new(d[n(248)])(.5*t,.5*t),0,0,!1))),l.addParticleStateInitializer(new(qt[n(222)])(new(d[n(260)])(.05*t,0,.05*t),new(d[n(260)])(-.025*t,0,-.025*t))),l[n(273)](new(qt[n(283)])(new(d[n(260)])(.05*t,.4*t,.05*t),new(d[n(260)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(273)](new St(u)),l[n(272)](new(qt[n(289)])(u,.07,!1));l[n(272)](new It)[n(270)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(272)](new(qt[n(238)])(!0))[n(268)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(272)](new(qt[n(241)])(!0))[n(268)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l.addParticleStateOperator(new(qt[n(251)])(new(qt[n(254)])(d[n(260)],new(d[n(260)])(0,0,0),new f(0,1.5*t,0),0,0,!1))),l[n(214)](!0),l[n(228)](),l})(s[e(266)],c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(d[n(247)]);i[n(281)][n(284)](s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new(d[n(218)]))[n(252)](o),c=new(qt[n(223)])(a,o);c[n(288)](16,0,0,212/1024,.25);const h=new(qt[n(235)])(!0,c,!0),l=new(qt[n(267)])(i,h,r[n(220)]);l[n(226)](20),l[n(263)](new(qt[n(217)])(5)),l[n(239)](0,16);const u=l.getParticleSequences();l[n(273)](new(qt[n(257)])(0,0,0,0,!1)),l[n(273)](new(qt[n(262)])(new ut(0,Math.PI,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(qt[n(237)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(273)](new(qt[n(212)])(new ut(P,new(d[n(248)])(0,0),new P(0,0),.2*t,.65*t,!1))),l[n(273)](new(qt[n(222)])(new(d[n(260)])(.1*t,0,.1*t),new(d[n(260)])(-.05*t,0,-.05*t))),l[n(273)](new(qt[n(283)])(new(d[n(260)])(.02*t,.4*t,.02*t),new(d[n(260)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(273)](new(qt[n(236)])(u)),l.addParticleStateOperator(new(qt[n(289)])(u,.1,!1));l[n(272)](new(qt[n(282)]))[n(270)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(272)](new Pt(!0))[n(268)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l.addParticleStateOperator(new(qt[n(241)])(!0))[n(268)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(272)](new(qt[n(251)])(new(qt[n(254)])(d[n(260)],new(d[n(260)])(0,0,0),new f(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(228)](),l})(s[e(266)],c)),n[e(243)](((t,s=10)=>{const n=e,i=new(d[n(247)]);a[n(220)][n(264)](i),i[n(281)][n(284)](t);return new Rt(i,s,2,(new T)[n(269)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=z();return h((()=>{const t=e;n[t(253)](),n[t(230)](r[t(220)],o[t(220)])})),(t,e)=>null}});function _t(){const t=["ParticleSystem","addElementsFromParameters","setRGB","addElements","JSONTypeStore","addParticleStateOperator","addParticleStateInitializer","string","exception","bind","2663208EJinoh","debu","counter","info","position","OpacityInterpolatorOperator","RandomVelocityInitializer","copy","call","fireF","log","addFrameSet","SequenceOperator",'{}.constructor("return this")( )',"SizeInitializer","console","setSimulateInWorldSpace","action","constructor","ConstantParticleEmitter","TextureLoader","459opYydG","value","chain","BoxPositionInitializer","Atlas","apply","addNamespace","init","input","start","9amXfoT","render","196450kRjjZG","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","24ChGDTd","AnimatedSpriteRenderer","SequenceInitializer","RotationalSpeedInitializer","SizeInterpolatorOperator","addParticleSequence","AdditiveBlending","ColorInterpolatorOperator","gger","addComponent","THREE","120646GZPNgq","addParticleSystem","Object3D","Vector2","378239qFXuKv","table","AccelerationOperator","load","update","RandomGenerator","getParticleSequences","prototype","LifetimeInitializer","2381620OedBRD","5042790urPiiO","Vector3","2088023VRjDTD","RotationInitializer","setEmitter","add","warn","scale"];return(_t=function(){return t})()}function jt(t,e){const s=_t();return(jt=function(t,e){return s[t-=211]})(t,e)}function Bt(t){function e(t){const s=jt;if(typeof t===s(274))return function(t){}[s(216)]("while (true) {}")[s(224)](s(279));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(s(278)+s(242))[s(285)](s(215)):function(){return!1}[s(216)](s(278)+s(242)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Ut(){const t=["console","644442oZrxWq","7193272lKCFLJ",'{}.constructor("return this")( )',"table","return (function() ","3504956igcReh","warn","constructor","info","apply","__proto__","while (true) {}","stateObject","test","chain","position","2011320zlXlqj","exception","length","1565121bqNUQc","prototype","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","4kdCCuv","trace","counter","debu","value","tcRef","set","3562914CeQgAL","context","log","call","$refs","action","4008892DRtKoH"];return(Ut=function(){return t})()}!function(t,e){const s=Wt,n=Ut();for(;;)try{if(810147===parseInt(s(291))/1+parseInt(s(315))/2*(-parseInt(s(310))/3)+parseInt(s(328))/4+parseInt(s(307))/5+-parseInt(s(322))/6+-parseInt(s(296))/7+parseInt(s(292))/8)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Dt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Dt(this,(function(){const t=Wt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(313),"i"),n=Yt("init");e[t(304)](n+t(305))&&s[t(304)](n+"input")?Yt():n("0")}))()}();const Xt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Wt(300)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Wt(t,e){const s=Ut();return(Wt=function(t,e){return s[t-=290]})(t,e)}Xt(void 0,(function(){const t=Wt;let e;try{e=Function(t(295)+t(293)+");")()}catch(i){e=window}const s=e[t(290)]=e[t(290)]||{},n=[t(324),t(297),t(299),"error",t(308),t(294),t(316)];for(let r=0;r<n[t(309)];r++){const e=Xt[t(298)][t(311)][t(312)](Xt),i=n[r],o=s[i]||e;e[t(301)]=Xt[t(312)](Xt),e.toString=o.toString[t(312)](o),s[i]=e}}))();const Gt=E({__name:"fireF",setup(t){const e=R();return b((()=>{const t=Wt;e.value&&(e[t(319)][t(326)].tcRef?e[t(319)][t(326)][t(320)][t(323)].camera.value[t(306)][t(321)](580,360,500):e.value.$refs.perspectiveCameraRef&&e.value[t(326)].perspectiveCameraRef.position.set(580,360,500))})),(t,s)=>(O(),q(m,{ref_key:"pagesShowRef",ref:e},{ability:V((()=>[C(Nt,{position:[0,20,10],scale:40})])),_:1},512))}});function Yt(t){function e(t){const s=Wt;if("string"==typeof t)return function(t){}.constructor(s(302))[s(300)](s(317));1!==(""+t/t)[s(309)]||t%20==0?function(){return!0}[s(298)]("debugger")[s(325)](s(327)):function(){return!1}.constructor(s(318)+s(314))[s(300)](s(303)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Gt as default};
