import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.JhHPALEY1728703368826.js";import{_ as s}from"./index.rRwS276J1728703368826.js";import{_ as i,a as c,g as u,V as a,cB as l}from"./three.VoknrmS61728703368826.js";import{P as p}from"./tweakpane.yHWGBmom1728703368826.js";import{I as f,C as g,N as m,c as h,d as y,a as d}from"./three-mesh-bvh.fYJV0gw01728703368826.js";import{d as w,a4 as I,b as j,a3 as b,o as v,E as _,L as x,u as C,F as z,r as A,e as E,j as M,g as T,m as R,f as Z,al as k}from"./@vue.JNsx1iN61728703368826.js";import"./@vueuse.yeA714RM1728703368826.js";import"./index.wEB_hb9e1728703368826.js";import"./@fesjs.9xYVr0ET1728703368826.js";import"./vue-router.mZGR5lVe1728703368826.js";import"./lodash-es.kYt-_xTG1728703368826.js";import"./@qlin.yHhFDldE1728703368826.js";import"./pinia.V-pS4Ukj1728703368826.js";import"./@floating-ui.BPbuo5Gx1728703368826.js";import"./@juggle.7yjBMqoW1728703368826.js";import"./chalk.sAH7iSuz1728703368826.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1728703368826.js";import"./@iconify.eRzdeG3K1728703368826.js";import"./utils.x6amzj1W1728703368826.js";import"./default.vue_vue_type_script_setup_true_lang.SdOC6wmU1728703368826.js";import"./three-mesh-ui.module.cGI-Pja61728703368826.js";function B(t,n){const e=L();return(B=function(t,n){return e[t-=327]})(t,n)}function L(){const t=["bind","toString","action","button","trace","pointerdown","pointerup","error","apply","72YFWrEs","clientX","1454680WhDqrs","constructor","length","init","string","exception","272642cQlLOC","innerWidth","Raycaster","info","console","1421CzhyfL","firstHitOnly","input","test","counter","459926pjOfQo","430101NIxiew","innerHeight","while (true) {}","value",'{}.constructor("return this")( )',"debu","prototype","60465ruBQwE","call","1178960DPEnQC","touch","addEventListener","clientY","gger","pointermove","chain","2940PLCqpL","warn","table","intersectObject"];return(L=function(){return t})()}!function(t,n){const e=B,r=L();for(;;)try{if(188325===parseInt(e(335))/1+parseInt(e(345))/2+parseInt(e(353))/3+-parseInt(e(355))/4+parseInt(e(329))/5+parseInt(e(362))/6*(parseInt(e(340))/7)+parseInt(e(327))/8*(-parseInt(e(346))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[B(374)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=U(t(332));n.test(r+t(361))&&e[t(343)](r+t(342))?U():r("0")}))()}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=B;let n;try{n=Function("return (function() "+t(350)+");")()}catch(o){n=window}const e=n[t(339)]=n[t(339)]||{},r=["log",t(363),t(338),t(373),t(334),t(364),t(370)];for(let s=0;s<r[t(331)];s++){const n=S[t(330)][t(352)][t(366)](S),o=r[s],i=e[o]||n;n.__proto__=S[t(366)](S),n[t(367)]=i[t(367)][t(366)](i),e[o]=n}}))();function U(t){function n(t){const e=B;if(typeof t===e(333))return function(t){}[e(330)](e(348))[e(374)](e(344));1!==(""+t/t)[e(331)]||t%20==0?function(){return!0}.constructor(e(351)+e(359))[e(354)](e(368)):function(){return!1}[e(330)](e(351)+e(359))[e(374)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=D;!function(t,n){const e=D,r=P();for(;;)try{if(216440===parseInt(e(295))/1*(parseInt(e(217))/2)+-parseInt(e(229))/3+parseInt(e(262))/4*(parseInt(e(215))/5)+-parseInt(e(279))/6*(parseInt(e(263))/7)+-parseInt(e(271))/8*(-parseInt(e(211))/9)+parseInt(e(253))/10+parseInt(e(274))/11*(-parseInt(e(224))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function D(t,n){const e=P();return(D=function(t,n){return e[t-=204]})(t,n)}!function(){Y(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(264),"i"),r=$(t(248));n.test(r+t(245))&&e.test(r+t(254))?$():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(212)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(){const t=["count","getX","console","instance","point","geometry","getY","radius","exception","center","push","brushMesh","raycast","__proto__","scale","32611HVDQTg","targetMesh","invert","TresMesh","material","Mesh","gger","生成模型","while (true) {}","27cVPeKY","apply","Matrix4","matrixWorld","1608935ZBUgkc","attributes","8RsuVmU","active","getZ","boundsTree","containsPoint","setFromCamera","intersectsBox","12gUgmUz","copy","BufferAttribute","shapecast","debu","602541VtHCss","targetMesh.value init","controls","MeshStandardMaterial","computeBoundsTree","点击按钮","log","length","intersectsSphere","#023249","return (function() ","DynamicDrawUsage","toString",'{}.constructor("return this")( )',"info","TresMeshStandardMaterial","chain","visible","bind","init","click","table","setAttribute","call","3345330NzNleL","input","error","setY","setZ","index","set","enabled","normal","4IKhMQg","502684urwIjS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","counter","BufferGeometry","disposeBoundsTree","prototype","warn","879144fMzPSO","firstHitOnly","constructor","4530988PaWCiZ","value","TresSphereGeometry","position","Vector2","24iGcZgW"];return(P=function(){return t})()}F(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(239)+t(242)+");")()}catch(e){n=window}return n}(),e=n[t(282)]=n[t(282)]||{},r=[t(235),t(270),t(243),t(255),t(288),t(250),"trace"];for(let o=0;o<r.length;o++){const n=F[t(273)].prototype[t(247)](F),s=r[o],i=e[s]||n;n[t(293)]=F[t(247)](F),n[t(241)]=i[t(241)].bind(i),e[s]=n}}))();const V=[W(285),W(206)],Q=[x(W(276),{args:[1,40,40]},null,-1),x(W(244),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],H=[W(285)],N=[x(W(244),{color:W(238),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],X=w({__name:"model",props:{controls:{}},async setup(r){const o=W;let s,w;const A=r;(()=>{const t=D;i[t(267)].prototype[t(233)]=h,i[t(267)][t(269)][t(268)]=y,i[t(207)].prototype[t(292)]=d})();const E=([s,w]=I((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),M=new(i[o(232)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),T=new Uint8Array(3*E.attributes[o(277)][o(280)]);T.fill(255);const R=new c(T,3,!0);R.setUsage(i[o(240)]),E[o(251)]("color",R);const Z=j(null),k=j(null),L=j(!1),O=j(-1),S=j(.2),U=new(i[o(278)]),{camera:Y,raycaster:F}=t(),P=15/255,X=78/255,$=85/255;let q=null;b((()=>{const t=o;Z[t(275)]&&(console[t(235)](t(230),Z[t(275)]),Z[t(275)][t(285)][t(233)](),q=E[t(220)],((t,n,e,r,o,s)=>{const c=B;window[c(357)](c(360),(e=>{const r=c;t.x=e.clientX/window[r(336)]*2-1,t.y=-e[r(358)]/window[r(347)]*2+1,n[r(349)]=!0})),window[c(357)](c(371),(u=>{const a=c;t.x=u[a(328)]/window.innerWidth*2-1,t.y=-u.clientY/window[a(347)]*2+1,r[a(349)]=u[a(369)];const l=new(i[a(337)]);l.setFromCamera(t,e[a(349)]),l[a(341)]=!0;const p=l[a(365)](o[a(349)],!0);n[a(349)]=!0,s.enabled=0===p[a(331)]}),!0),window.addEventListener(c(372),(t=>{const e=c;r[e(349)]=-1,t.pointerType===e(356)&&(n[e(349)]=!1)}),!0)})(U,L,Y,O,Z,A[t(231)][t(283)]))}));const{onLoop:G}=n();G((()=>{const t=o,n=E[t(258)];if(k.value)if(A[t(231)][t(283)][t(218)]||!L[t(275)])k[t(275)][t(246)]=!1;else{k[t(275)][t(294)].setScalar(S[t(275)]),F[t(275)][t(222)](U,Y[t(275)]),F[t(275)][t(272)]=!0;const e=F[t(275)].intersectObject(Z[t(275)],!0);if(e[t(236)]){k.value[t(277)][t(225)](e[0][t(284)]),A[t(231)][t(283)][t(260)]=!1,k[t(275)].visible=!0;const r=new(i[t(213)]);r.copy(Z[t(275)][t(214)])[t(204)]();const o=new u;o[t(289)].copy(k.value[t(277)]).applyMatrix4(r),o[t(287)]=100*S[t(275)];const s=[],c=new a;if(null==q||q[t(227)]({intersectsBounds:n=>{const e=t,r=o[e(223)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(259)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(221)](c))return f;return g}return r?f:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(237)](o)){const t=3*e;s[i(290)](t,t+1,t+2)}return!1}}),0===O[t(275)]||2===O[t(275)]){let e=1,r=1,o=1;0===O.value&&(e=P,r=X,o=$);for(let i=0,c=s[t(236)];i<c;i++){const c=n[t(281)](s[i]);R.setX(c,e),R[t(256)](c,r),R[t(257)](c,o)}R.needsUpdate=!0}}else k.value[t(246)]=!1,A[t(231)][t(283)].enabled=!0}}));const K=(new p).addButton({title:o(234),label:o(209)}),J=new(i[o(267)]);return K.on(o(249),(()=>{const t=o,n=[],e=[];for(let o=0;o<R[t(280)];o++)R.getX(o)===P&&R.getY(o)===X&&R.getZ(o)===$&&(n[t(290)](E.attributes[t(277)].getX(o),E[t(216)][t(277)][t(286)](o),E[t(216)][t(277)][t(219)](o)),e.push(E[t(216)][t(261)][t(281)](o),E[t(216)][t(261)][t(286)](o),E[t(216)].normal[t(219)](o)));const r=new Float32Array(n);J[t(251)](t(277),new(i[t(226)])(r,3)),J.setAttribute(t(261),new(i[t(226)])(r,3))})),(t,n)=>{const e=o;return v(),_(z,null,[x(e(205),{ref_key:e(296),ref:Z,geometry:C(E),scale:.005,material:C(M)},null,8,V),x(e(205),{ref_key:e(291),ref:k,visible:!1},Q,512),x(e(205),{geometry:C(J),position:[-2,-2,2],scale:.005},N,8,H)],64)}}});function $(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(273)](e(210)).apply(e(266));1!==(""+t/t)[e(236)]||t%20==0?function(){return!0}.constructor(e(228)+e(208))[e(252)](e(265)):function(){return!1}[e(273)](e(228)+e(208)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function q(t,n){const e=et();return(q=function(t,n){return e[t-=495]})(t,n)}const G=q;!function(t,n){const e=q,r=et();for(;;)try{if(698706===-parseInt(e(532))/1*(-parseInt(e(514))/2)+parseInt(e(508))/3*(parseInt(e(513))/4)+parseInt(e(528))/5*(-parseInt(e(536))/6)+parseInt(e(538))/7*(parseInt(e(497))/8)+-parseInt(e(545))/9*(parseInt(e(505))/10)+parseInt(e(519))/11*(parseInt(e(520))/12)+-parseInt(e(530))/13)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(526)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=q,n=new RegExp(t(509)),e=new RegExp(t(512),"i"),r=ot(t(511));n.test(r+t(521))&&e.test(r+t(522))?ot():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(526)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=q;let n;try{n=Function("return (function() "+t(546)+");")()}catch(o){n=window}const e=n[t(525)]=n[t(525)]||{},r=[t(539),t(527),t(516),"error",t(510),t(541),t(495)];for(let s=0;s<r.length;s++){const n=J.constructor[t(531)][t(517)](J),o=r[s],i=e[o]||n;n[t(499)]=J[t(517)](J),n[t(503)]=i[t(503)][t(517)](i),e[o]=n}}))();const tt=x(G(524),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),nt=x(G(504),{intensity:1},null,-1);function et(){const t=["prototype","222DzZDEA","debu","while (true) {}","constructor","6FHyRuD","value","7sIrJKC","log","collectTriangles","table","gger","neg-z.jpg","pos-x.jpg","9NveYVV",'{}.constructor("return this")( )',"pos-z.jpg","trace","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","7940728fIvHle","string","__proto__","neg-y.jpg","length","stateObject","toString","TresAmbientLight","9393690YyLAEC","pos-y.jpg","counter","30639IsweNh","function *\\( *\\)","exception","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","452nQxRDm","4542mQlOmW","neg-x.jpg","info","bind","call","11PWogUy","8170788vsCzve","chain","input","controls","TresPerspectiveCamera","console","apply","warn","6253885CbmcpA","action","5757297LVBivc"];return(et=function(){return t})()}const rt=w({__name:G(540),setup(t){const n=A({clearColor:"#999999",antialias:!0}),e=A({autoRotate:!1}),i=j(null);return(t,c)=>{const u=q,a=E("TresCanvas");return v(),_(z,null,[M(C(s)),M(a,R(n,{"window-size":""}),{default:T((()=>[tt,M(C(r),R({ref_key:"controlsRef",ref:i},e),null,16),nt,(v(),Z(k,null,{default:T((()=>[M(X,{controls:i[u(537)]},null,8,[u(523)])])),_:1})),(v(),Z(k,null,{default:T((()=>[M(C(o),{background:!1,files:[u(544),u(515),u(506),u(500),u(547),u(543)],path:u(496)})])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=q;if(typeof t===e(498))return function(t){}.constructor(e(534)).apply(e(507));1!==(""+t/t)[e(501)]||t%20==0?function(){return!0}[e(535)](e(533)+"gger")[e(518)](e(529)):function(){return!1}.constructor(e(533)+e(542))[e(526)](e(502)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
