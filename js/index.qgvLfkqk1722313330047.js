var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.slTyTugY1722313330047.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.YEuq4KWc1722313330047.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.6SDHL-dV1722313330047.js";import{j as o,U as s,C as l,k as c,W as u,bb as p,h as f,e as x,M as v,a6 as m,y as w,V as h,al as g}from"./three.0L1oP_mX1722313330047.js";import{p as d,$ as y}from"./@tresjs.Q03Md-En1722313330047.js";import{u as S}from"./index._gvjf93K1722313330047.js";import{F as P,C as _}from"./three-stdlib.-J90B2tF1722313330047.js";import{d as z}from"./@vue.Q1VpS3901722313330047.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.QuY13gK71722313330047.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.UkCTkMgD1722313330047.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.s336Ai2F1722313330047.js";function b(t,e){const n=E();return(b=function(t,e){return n[t-=251]})(t,e)}const I=b;function E(){const t=["info","toString","log","443RPPPGd","call","__proto__","stateObject","763923jrmTOZ","action","input","table","console","debu","451tNpUog","2000340zlHMAe","bind","return (function() ","416kFmLTC","constructor","test","warn","1477044wlLqdq",'{}.constructor("return this")( )',"62410KPuiXU","153935lquDCh",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","12CxgZXz","21378uoaVNT","gger","length","1192rOkSzH"];return(E=function(){return t})()}!function(t,e){const n=b,i=E();for(;;)try{if(183373===-parseInt(n(255))/1*(-parseInt(n(251))/2)+-parseInt(n(259))/3+-parseInt(n(279))/4*(parseInt(n(276))/5)+parseInt(n(266))/6+-parseInt(n(280))/7*(parseInt(n(269))/8)+-parseInt(n(273))/9+parseInt(n(275))/10*(parseInt(n(265))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){A(this,(function(){const t=b,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(278),"i"),i=D("init");e[t(271)](i+"chain")&&n[t(271)](i+t(261))?D():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();M(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(268)+t(274)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(263)]||{},i=[t(254),t(272),t(252),"error","exception",t(262),"trace"];for(let r=0;r<i[t(282)];r++){const e=M[t(270)].prototype[t(267)](M),a=i[r],o=n[a]||e;e[t(257)]=M[t(267)](M),e.toString=o[t(253)].bind(o),n[a]=e}}))();const L=I(277);function D(t){function e(t){const n=b;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(270)]("debu"+n(281))[n(256)](n(260)):function(){return!1}[n(270)](n(264)+n(281)).apply(n(258)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const U=j;function T(){const t=["action","3532yTuRxW","warn","defines","init","257364FDAtdJ","prototype","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","55UPdimb","406uaJjlu","toString","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","387yRotdo","constructor","936171oDrooT","counter","function *\\( *\\)","2508430qMjSaf","78296BJosSd","table","length","885050CvkbyZ","info","while (true) {}","gger","uniforms","input","apply","debu","string","stateObject","bind","console","24IsiTAS","trace","log","16609GcHGnu","test"];return(T=function(){return t})()}!function(t,e){const n=j,i=T();for(;;)try{if(434254===parseInt(n(445))/1+-parseInt(n(448))/2*(-parseInt(n(461))/3)+parseInt(n(452))/4+-parseInt(n(430))/5*(-parseInt(n(442))/6)+parseInt(n(456))/7*(parseInt(n(427))/8)+parseInt(n(463))/9+-parseInt(n(466))/10*(parseInt(n(455))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const O=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[j(436)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(t,e){const n=T();return(j=function(t,e){return n[t-=427]})(t,e)}!function(){O(this,(function(){const t=j,e=new RegExp(t(465)),n=new RegExp(t(459),"i"),i=k(t(451));e.test(i+"chain")&&n[t(446)](i+t(435))?k():i("0")}))()}();const V=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[j(436)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function R(t){const e=j,n=a({},t);return e(450)in t&&(n[e(450)]=a({},t.defines)),e(434)in t&&(n[e(434)]=s.clone(t[e(434)])),n}V(void 0,(function(){const t=j;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(441)]=e[t(441)]||{},i=[t(444),t(449),t(431),"error","exception",t(428),t(443)];for(let a=0;a<i[t(429)];a++){const e=V.constructor[t(453)][t(440)](V),r=i[a],o=n[r]||e;e.__proto__=V.bind(V),e.toString=o[t(457)][t(440)](o),n[r]=e}}))();const C={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:U(454),fragmentShader:U(460)+L+U(458)};function k(t){function e(t){const n=j;if(typeof t===n(438))return function(t){}.constructor(n(432))[n(436)](n(464));1!==(""+t/t).length||t%20==0?function(){return!0}[n(462)](n(437)+n(433)).call(n(447)):function(){return!1}.constructor("debu"+n(433)).apply(n(439)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const N=Z;!function(t,e){const n=Z,i=F();for(;;)try{if(542504===parseInt(n(402))/1+-parseInt(n(378))/2+-parseInt(n(373))/3*(parseInt(n(394))/4)+parseInt(n(387))/5+-parseInt(n(412))/6*(-parseInt(n(366))/7)+-parseInt(n(388))/8*(parseInt(n(416))/9)+parseInt(n(365))/10*(parseInt(n(415))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(345)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function F(){const t=["getClearColor","while (true) {}","fragmentShader","log","console","_copyQuad","table","136912StdFOZ","warn","getClearAlpha","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_mipMaterials","test","_swapTarget","error","call","forEach","30TXHNvS","setRenderTarget","height","1123133oQMaqe","8423469NsZRBf","trace","parentMapSize","constructor","counter","apply","material","clear","length","originalMapSize","update","_mipQuad","autoClear","init","input","map","isWebGLRenderTarget","image","getRenderTarget","bind","toString","setClearColor","minFilter","__proto__","texture","280pbxtFg","140077kATDsu","function *\\( *\\)","floor","gger","render","parentLevel","setViewOffset","3327UOluUk","dispose","X_IS_EVEN","type","width","1953872OXoFsC","debu","defines","set","value","replace","copy","setClearAlpha","Y_IS_EVEN","1217015YZzLiy","8CGitVH","tDiffuse","return (function() ","string","magFilter","uniforms","3188chxIiA"];return(F=function(){return t})()}!function(){H(this,(function(){const t=Z,e=new RegExp(t(367)),n=new RegExp(t(405),"i"),i=$(t(353));e[t(407)](i+"chain")&&n[t(407)](i+t(354))?$():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Z(345)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Z(t,e){const n=F();return(Z=function(t,e){return n[t-=344]})(t,e)}W(void 0,(function(){const t=Z,e=function(){const t=Z;let e;try{e=Function(t(390)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(399)]=e[t(399)]||{},i=[t(398),t(403),"info",t(409),"exception",t(401),t(417)];for(let r=0;r<i[t(348)];r++){const e=W.constructor.prototype[t(359)](W),a=i[r],o=n[a]||e;e[t(363)]=W[t(359)](W),e[t(360)]=o[t(360)][t(359)](o),n[a]=e}}))();const X=new l;class G{constructor(t){const e=Z;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=R(C);n[e(397)]=n[e(397)][e(383)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(R(n)),i[0][e(380)].X_IS_EVEN=0,i[0][e(380)][e(386)]=0,i[1]=new c(R(n)),i[1].defines[e(375)]=1,i[1][e(380)][e(386)]=0,i[2]=new c(R(n)),i[2][e(380)][e(375)]=0,i[2][e(380)][e(386)]=1,i[3]=new c(R(n)),i[3][e(380)][e(375)]=1,i[3].defines.Y_IS_EVEN=1;const r=new u;r[e(364)][e(362)]=p,r[e(364)][e(392)]=p,this._swapTarget=r,this[e(400)]=new P(new c(_)),this[e(351)]=new P(null),this[e(406)]=i}[N(350)](t,e,n,i=!1){const r=N;t[r(356)]&&(t=t[r(364)]);const o=n[r(352)],s=n[r(404)](),l=n[r(358)]();n[r(395)](X);const c=this[r(400)],u=this[r(351)],p=this[r(408)],x=this[r(406)];let v,m;i?(v=f.floorPowerOfTwo(t[r(357)][r(377)]),m=f.floorPowerOfTwo(t[r(357)][r(414)])):(v=Math[r(368)](t.image[r(377)]),m=Math.floor(t.image.height));const w=Math[r(368)](1.5*v),h=Math.floor(m);e.setSize(w,h),p.texture[r(376)]!==e[r(364)][r(376)]?(p[r(374)](),p[r(384)](e),p.texture[r(357)]=a({},p[r(364)][r(357)])):p.setSize(w,h),n.autoClear=!1,n[r(361)](0),n[r(385)](),c.material.uniforms[r(389)][r(382)]=t,c.camera[r(372)](v,m,0,0,w,h),n[r(413)](e),n.clear(),c[r(370)](n),n[r(413)](p),n[r(347)](),c[r(370)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(355)][r(382)]=p[r(364)],t[r(393)][r(371)][r(382)]=y,t[r(393)][r(418)].value.set(g,d),t[r(393)][r(349)][r(382)][r(381)](v,m),u[r(346)]=t,g=Math[r(368)](g/2),d=Math[r(368)](d/2);const i=h-2*d;n[r(413)](e),u.camera[r(372)](g,d,-v,-i,w,h),u[r(370)](n),n.setRenderTarget(p),t.uniforms.map[r(382)]=e.texture,u[r(370)](n),y++}return n[r(413)](l),n[r(385)](s),n[r(361)](X),n[r(352)]=o,y+1}[N(374)](){const t=N;this[t(408)].dispose(),this[t(351)][t(374)](),this[t(400)][t(374)](),this[t(406)][t(411)]((e=>e[t(374)]()))}}function $(t){function e(t){const n=Z;if(typeof t===n(391))return function(t){}[n(419)](n(396))[n(345)](n(344));1!==(""+t/t)[n(348)]||t%20==0?function(){return!0}[n(419)](n(379)+"gger")[n(410)]("action"):function(){return!1}[n(419)](n(379)+n(369)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Q=q;!function(t,e){const n=q,i=B();for(;;)try{if(293647===-parseInt(n(246))/1*(-parseInt(n(237))/2)+-parseInt(n(254))/3+parseInt(n(207))/4*(-parseInt(n(195))/5)+-parseInt(n(236))/6*(parseInt(n(206))/7)+-parseInt(n(216))/8+parseInt(n(255))/9*(parseInt(n(228))/10)+parseInt(n(250))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[q(194)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){const t=q,e=new RegExp(t(256)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=tt("init");e[t(193)](i+"chain")&&n.test(i+t(227))?tt():i("0")}))()}();const J=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[q(194)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function q(t,e){const n=B();return(q=function(t,e){return n[t-=186]})(t,e)}function B(){const t=["debu","1CiXqLi","update","call","updateMatrixWorld","7339981mSnNPS","matrixWorldInverse","UnsignedByteType",'{}.constructor("return this")( )',"1291764SCVDLR","9aRJGzY","function *\\( *\\)","applyQuaternion","info","normal","multiplyScalar","projectionMatrix","state","gger","render","elements","reflect","length","test","apply","1185bCnmuv","exception","Vector4","console","matrixWorld","getRenderTarget","multiply","reflectorMipMap","value","counter","setRenderTarget","2225853HJoRMv","2788hHDuxS","clear","toString","projectPoint","getWorldQuaternion","set","forEach","Vector3","sub","2792936dtLotn","negate","ignoreObjects","resolution","return (function() ","constructor","setMask","copy","buffers","Quaternion","dot","input","4245620yQQCyW","parent","sign","while (true) {}","applyMatrix4","action","getWorldPosition","__proto__","6WonEZh","929374cLXCft","add","constant","clone","PerspectiveCamera","texture","string","bind"];return(B=function(){return t})()}J(void 0,(function(){const t=q,e=function(){const t=q;let e;try{e=Function(t(220)+t(253)+");")()}catch(n){e=window}return e}(),n=e[t(198)]=e[t(198)]||{},i=["log","warn",t(258),"error",t(196),"table","trace"];for(let r=0;r<i[t(192)];r++){const e=J[t(221)].prototype[t(244)](J),a=i[r],o=n[a]||e;e[t(235)]=J[t(244)](J),e.toString=o[t(209)].bind(o),n[a]=e}}))();const K=z({__name:Q(202),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Q,i=t,r=new x,a=new v,o=new(m[n(241)]),s=new G,l=S({width:i[n(219)],height:i[n(219)],settings:{type:w}}),c=S({width:i[n(219)],height:i[n(219)],settings:{type:m[n(252)]}}),{camera:u,renderer:p,scene:f}=d(),{onBeforeLoop:P}=y();return P((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r[t(212)](new(m[t(214)])(0,1,0),0),r[t(232)](i.parent[t(199)]),o[t(223)](u.value);const e=new h(0,0,1)[t(240)]()[t(217)](),s=u[t(203)][t(234)](new h);e[t(191)](r[t(259)]);const c=new(m[t(214)]);r[t(210)](s,c);const x=c[t(240)]();x[t(215)](s),x[t(238)](c),o.position[t(223)](x);const w=new(m[t(214)])(0,0,-1);w[t(257)](u[t(203)][t(211)](new(m[t(225)]))),w[t(238)](s);const d=new(m[t(214)]);i[t(229)].getWorldPosition(d),d[t(215)](w),d[t(191)](r[t(259)]).negate(),d[t(238)](i[t(229)][t(234)](new(m[t(214)]))),o.up[t(212)](0,1,0),o.applyQuaternion(u[t(203)][t(211)](new(m[t(225)]))),o.up[t(191)](r[t(259)]),o.lookAt(d),o[t(249)]();const y=new v;y[t(212)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(201)](o[t(186)]),y[t(201)](o[t(251)]),a[t(223)](y),r[t(232)](o[t(251)]);const S=new(m[t(197)])(r[t(259)].x,r[t(259)].y,r[t(259)].z,r[t(239)]),P=o[t(186)],_=new g;_.x=(Math[t(230)](S.x)+P[t(190)][8])/P.elements[0],_.y=(Math[t(230)](S.y)+P.elements[9])/P[t(190)][5],_.z=-1,_.w=(1+P[t(190)][10])/P[t(190)][14],S[t(260)](2/S[t(226)](_)),P[t(190)][2]=S.x,P.elements[6]=S.y,P[t(190)][10]=S.z+1,P[t(190)][14]=S.w;const z=p[t(203)][t(200)]();p[t(203)][t(205)](l[t(203)]),p[t(203)][t(187)][t(224)].depth[t(222)](!0),!1===p.value.autoClear&&p[t(203)][t(208)](),i.ignoreObjects[t(213)]((t=>t.visible=!1)),p[t(203)][t(189)](f.value,o),i[t(218)][t(213)]((t=>t.visible=!0)),p.value.setRenderTarget(z)})(),l[t(203)]&&c[t(203)]&&p.value&&s[t(247)](l[t(203)][t(242)],c.value,p[t(203)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function tt(t){function e(t){const n=q;if(typeof t===n(243))return function(t){}[n(221)](n(231))[n(194)](n(204));1!==(""+t/t)[n(192)]||t%20==0?function(){return!0}.constructor(n(245)+n(188))[n(248)](n(233)):function(){return!1}[n(221)]("debu"+n(188))[n(194)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=it,i=rt();;)try{if(335318===-parseInt(n(471))/1+-parseInt(n(460))/2*(parseInt(n(455))/3)+parseInt(n(480))/4+parseInt(n(473))/5*(-parseInt(n(454))/6)+parseInt(n(464))/7*(-parseInt(n(472))/8)+-parseInt(n(459))/9+-parseInt(n(450))/10*(-parseInt(n(479))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){et(this,(function(){var t=it,e=new RegExp(t(462)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=at(t(470));e[t(481)](i+t(478))&&n.test(i+"input")?at():i("0")}))()}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[it(475)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function it(t,e){var n=rt();return(it=function(t,e){return n[t-=448]})(t,e)}function rt(){var t=["string","return (function() ","2844990swKUAJ","67282bnMwEm","info","function *\\( *\\)","exception","1047172AipEHf","toString","gger","log","debu","prototype","init","184956NGdIpO","16xpoJFE","5fVovsw","warn","apply","console","error","chain","22cCyrRX","214072ROdSQp","test","stateObject","constructor","9768310IGdPoJ","bind","table","counter","2605626msyKLF","39NrjKGA","length"];return(rt=function(){return t})()}function at(t){function e(t){var n=it;if(typeof t===n(457))return function(t){}[n(449)]("while (true) {}")[n(475)](n(453));1!==(""+t/t)[n(456)]||t%20==0?function(){return!0}[n(449)]("debu"+n(466)).call("action"):function(){return!1}[n(449)](n(468)+n(466))[n(475)](n(448)),e(++t)}try{if(t)return e;e(0)}catch(n){}}nt(void 0,(function(){for(var t=it,e=function(){var t,e=it;try{t=Function(e(458)+'{}.constructor("return this")( ));')()}catch(n){t=window}return t}(),n=e.console=e[t(476)]||{},i=[t(467),t(474),t(461),t(477),t(463),t(452),"trace"],r=0;r<i[t(456)];r++){var a=nt[t(449)][t(469)][t(451)](nt),o=i[r],s=n[o]||a;a.__proto__=nt.bind(nt),a[t(465)]=s[t(465)][t(451)](s),n[o]=a}}))();export{K as _};
