import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.XlmHwCPa1735906732968.js";import{_ as s}from"./index.J0DjzmgT1735906732968.js";import{_ as i,a as c,k as u,M as a,B as l,cy as p}from"./three.VhLXWX0H1735906732968.js";import{P as f}from"./tweakpane.yHWGBmom1735906732968.js";import{I as m,C as g,N as h,c as d,d as y,a as w}from"./three-mesh-bvh.vwwt1TUO1735906732968.js";import{d as v,a4 as j,b,a1 as _,o as I,D as x,J as M,u as A,F as E,r as T,e as R,j as k,g as z,m as C,f as O,al as B}from"./@vue.yG49nQHr1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";import"./index.aTkKXLrN1735906732968.js";import"./@fesjs.OL5agSaf1735906732968.js";import"./vue-router.OGOa9Z4t1735906732968.js";import"./lodash-es.kYt-_xTG1735906732968.js";import"./@qlin.yHhFDldE1735906732968.js";import"./pinia.ZaWyowAg1735906732968.js";import"./vue-demi.C4xddsk91735906732968.js";import"./@floating-ui.BPbuo5Gx1735906732968.js";import"./@juggle.7yjBMqoW1735906732968.js";import"./chalk.sAH7iSuz1735906732968.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1735906732968.js";import"./@iconify.3mYF4lU71735906732968.js";import"./dompurify.rQUea5mq1735906732968.js";import"./utils.HT8i3Y5o1735906732968.js";import"./default.vue_vue_type_script_setup_true_lang.k5fCgDaP1735906732968.js";import"./three-mesh-ui.module._lts3quJ1735906732968.js";!function(t,n){const e=U,r=D();for(;;)try{if(913739===-parseInt(e(520))/1+-parseInt(e(531))/2*(parseInt(e(497))/3)+-parseInt(e(503))/4+parseInt(e(524))/5+parseInt(e(537))/6+parseInt(e(502))/7*(parseInt(e(514))/8)+parseInt(e(504))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(527)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=U,n=new RegExp(t(532)),e=new RegExp(t(529),"i"),r=F(t(515));n.test(r+t(530))&&e[t(533)](r+t(516))?F():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(527)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Z(void 0,(function(){const t=U;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(525)]=n[t(525)]||{},r=[t(541),t(507),"info",t(542),"exception",t(512),t(526)];for(let s=0;s<r[t(494)];s++){const n=Z[t(505)][t(523)][t(539)](Z),o=r[s],i=e[o]||n;n[t(511)]=Z[t(539)](Z),n[t(522)]=i[t(522)][t(539)](i),e[o]=n}}))();function U(t,n){const e=D();return(U=function(t,n){return e[t-=494]})(t,n)}function D(){const t=["clientY","action","innerHeight","3675468vVniDg","string","bind","pointerup","log","error","length","counter","while (true) {}","9NXzuvn","gger","button","value","setFromCamera","133bfEnys","1643736QexyFM","544833uVBPlv","constructor","firstHitOnly","warn","touch","intersectObject","Raycaster","__proto__","table","addEventListener","524216HQjtrl","init","input","debu","innerWidth","clientX","613695MYVPXO","enabled","toString","prototype","7182775mygWNi","console","trace","apply","pointermove","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","944210iulEeD","function *\\( *\\)","test"];return(D=function(){return t})()}function F(t){function n(t){const e=U;if(typeof t===e(538))return function(t){}[e(505)](e(496))[e(527)](e(495));1!==(""+t/t)[e(494)]||t%20==0?function(){return!0}[e(505)](e(517)+e(498)).call(e(535)):function(){return!1}[e(505)](e(517)+"gger")[e(527)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=H;!function(t,n){const e=H,r=W();for(;;)try{if(476489===-parseInt(e(490))/1*(parseInt(e(432))/2)+-parseInt(e(466))/3+-parseInt(e(446))/4*(-parseInt(e(445))/5)+-parseInt(e(477))/6+-parseInt(e(460))/7*(-parseInt(e(482))/8)+-parseInt(e(441))/9*(-parseInt(e(464))/10)+parseInt(e(431))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(437)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(){const t=["1071gRlREY","instance","enabled","controls","10iSACyQ","info","1136952UdSWKe","push","error","TresMeshStandardMaterial","chain","targetMesh","__proto__","console","targetMesh.value init","BufferGeometry","intersectsBox","2597658XlIxos","count","trace","value","active","35848lMbCvU","center","warn","index","action","生成模型","call","点击按钮","2vqCOvj","matrixWorld","position","intersectObject","shapecast","DynamicDrawUsage","click","bind","disposeBoundsTree","test","getX","#023249","geometry","function *\\( *\\)","color","brushMesh","TresSphereGeometry","input","constructor","Vector3","setY","setUsage","attributes","setAttribute","gger","set","boundsTree","copy","TresMesh",'{}.constructor("return this")( )',"log","visible","MeshStandardMaterial","1358709Zgobun","902558eRULeP","raycast","computeBoundsTree","init","prototype","apply","exception","setZ","normal","5892363UduEKM","length","Mesh","debu","165fEHnuK","88140MhQWEF","point","stateObject","toString","return (function() ","firstHitOnly","setScalar","containsPoint","counter","getZ","Sphere","BufferAttribute","getY","setX"];return(W=function(){return t})()}!function(){P(this,(function(){const t=H,n=new RegExp(t(411)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=L(t(435));n[t(499)](r+t(470))&&e[t(499)](r+t(415))?L():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(437)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Y(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(450)+t(427)+");")()}catch(e){n=window}return n}(),e=n[t(473)]=n[t(473)]||{},r=[t(428),t(484),t(465),t(468),t(438),"table",t(479)];for(let o=0;o<r[t(442)];o++){const n=Y[t(416)][t(436)][t(497)](Y),s=r[o],i=e[s]||n;n[t(472)]=Y[t(497)](Y),n[t(449)]=i[t(449)][t(497)](i),e[s]=n}}))();const Q=["geometry","material"],$=[X(410)];function H(t,n){const e=W();return(H=function(t,n){return e[t-=409]})(t,n)}const K=v({__name:"model",props:{controls:{}},async setup(r){const o=X;let s,v;const T=r;(()=>{const t=H;l[t(436)].computeBoundsTree=d,l[t(436)][t(498)]=y,i[t(443)][t(436)][t(433)]=w})();const R=([s,v]=j((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,v(),s),k=new(i[o(430)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),z=new Uint8Array(3*R.attributes[o(492)][o(478)]);z.fill(255);const C=new c(z,3,!0);C[o(419)](i[o(495)]),R[o(421)](o(412),C);const O=b(null),B=b(null),S=b(!1),Z=b(-1),D=b(.2),F=new u,{camera:P,raycaster:W}=t(),Y=15/255,K=78/255,L=85/255;let V=null;_((()=>{const t=o;O[t(480)]&&(console[t(428)](t(474),O.value),O.value[t(410)][t(434)](),V=R[t(424)],((t,n,e,r,o,s)=>{const c=U;window[c(513)](c(528),(e=>{const r=c;t.x=e[r(519)]/window[r(518)]*2-1,t.y=-e.clientY/window[r(536)]*2+1,n[r(500)]=!0})),window[c(513)]("pointerdown",(u=>{const a=c;t.x=u.clientX/window[a(518)]*2-1,t.y=-u[a(534)]/window[a(536)]*2+1,r.value=u[a(499)];const l=new(i[a(510)]);l[a(501)](t,e.value),l[a(506)]=!0;const p=l[a(509)](o.value,!0);n.value=!0,s[a(521)]=0===p[a(494)]}),!0),window[c(513)](c(540),(t=>{const e=c;r.value=-1,t.pointerType===e(508)&&(n.value=!1)}),!0)})(F,S,P,Z,O,T.controls[t(461)]))}));const{onLoop:N}=n();N((()=>{const t=o,n=R[t(485)];if(B[t(480)])if(T[t(463)][t(461)][t(481)]||!S.value)B[t(480)][t(429)]=!1;else{B[t(480)].scale[t(452)](D[t(480)]),W.value.setFromCamera(F,P.value),W.value[t(451)]=!0;const e=W.value[t(493)](O[t(480)],!0);if(e[t(442)]){B[t(480)][t(492)][t(425)](e[0][t(447)]),T[t(463)][t(461)][t(462)]=!1,B[t(480)].visible=!0;const r=new a;r.copy(O[t(480)][t(491)]).invert();const o=new(i[t(456)]);o[t(483)][t(425)](B[t(480)][t(492)]).applyMatrix4(r),o.radius=100*D[t(480)];const s=[],c=new(i[t(417)]);if(null==V||V[t(494)]({intersectsBounds:n=>{const e=t,r=o[e(476)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(423)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(453)](c))return m;return g}return r?m:h},intersectsTriangle:(t,n,e)=>{if(e||t.intersectsSphere(o)){const t=3*n;s.push(t,t+1,t+2)}return!1}}),0===Z.value||2===Z[t(480)]){let e=1,r=1,o=1;0===Z[t(480)]&&(e=Y,r=K,o=L);for(let i=0,c=s[t(442)];i<c;i++){const c=n[t(500)](s[i]);C[t(459)](c,e),C[t(418)](c,r),C[t(439)](c,o)}C.needsUpdate=!0}}else B[t(480)][t(429)]=!1,T[t(463)][t(461)][t(462)]=!0}}));const q=(new f).addButton({title:o(489),label:o(487)}),G=new(i[o(475)]);return q.on(o(496),(()=>{const t=o,n=[],e=[];for(let o=0;o<C[t(478)];o++)C.getX(o)===Y&&C[t(458)](o)===K&&C.getZ(o)===L&&(n[t(467)](R.attributes[t(492)][t(500)](o),R[t(420)].position.getY(o),R[t(420)][t(492)][t(455)](o)),e.push(R[t(420)][t(440)].getX(o),R.attributes[t(440)][t(458)](o),R[t(420)].normal[t(455)](o)));const r=new Float32Array(n);G.setAttribute(t(492),new c(r,3)),G[t(421)](t(440),new(i[t(457)])(r,3))})),(t,n)=>{const e=o;return I(),x(E,null,[M(e(426),{ref_key:e(471),ref:O,geometry:A(R),scale:.005,material:A(k)},null,8,Q),M(e(426),{ref_key:e(413),ref:B,visible:!1},n[0]||(n[0]=[M(e(414),{args:[1,40,40]},null,-1),M(e(469),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),M("TresMesh",{geometry:A(G),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[M(e(469),{color:e(409),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,$)],64)}}});function L(t){function n(t){const e=H;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply(e(454));1!==(""+t/t)[e(442)]||t%20==0?function(){return!0}[e(416)](e(444)+e(422))[e(488)](e(486)):function(){return!1}[e(416)]("debu"+e(422)).apply(e(448)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=G;!function(t,n){const e=G,r=J();for(;;)try{if(268623===-parseInt(e(361))/1*(-parseInt(e(346))/2)+parseInt(e(362))/3*(parseInt(e(347))/4)+parseInt(e(335))/5*(-parseInt(e(359))/6)+parseInt(e(332))/7+parseInt(e(319))/8+-parseInt(e(348))/9+-parseInt(e(341))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(339)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){N(this,(function(){const t=G,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(322),"i"),r=nt(t(325));n[t(353)](r+t(329))&&e.test(r+t(360))?nt():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(339)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(t,n){const e=J();return(G=function(t,n){return e[t-=319]})(t,n)}function J(){const t=["8200870WaREgj",'{}.constructor("return this")( )',"stateObject","neg-z.jpg","action","102058eJbOim","28ekMZcE","2570616auPwQA","exception","controlsRef","controls","TresCanvas","test","prototype","__proto__","pos-x.jpg","return (function() ","console","199074pgrgDv","input","4AxZGav","139353cjnjOA","call","collectTriangles","string","TresAmbientLight","4143464exVxBN","trace","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","neg-x.jpg","#999999","init","gger","warn","toString","chain","pos-z.jpg","error","2522149KiSUWK","pos-y.jpg","bind","5bWDmEz","constructor","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","info","apply","debu"];return(J=function(){return t})()}q(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(357)+t(342)+");")()}catch(e){n=window}return n}(),e=n[t(358)]=n[t(358)]||{},r=["log",t(327),t(338),t(331),t(349),"table",t(320)];for(let o=0;o<r.length;o++){const n=q[t(336)][t(354)].bind(q),s=r[o],i=e[s]||n;n[t(355)]=q.bind(q),n[t(328)]=i[t(328)][t(334)](i),e[s]=n}}))();const tt=v({__name:V(364),setup(t){const n=V,e=T({clearColor:n(324),antialias:!0}),i=T({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=R(a(352));return I(),x(E,null,[k(A(s)),k(l,C(e,{"window-size":""}),{default:z((()=>[u[0]||(u[0]=M("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),k(A(r),C({ref_key:a(350),ref:c},i),null,16),u[1]||(u[1]=M(a(366),{intensity:1},null,-1)),(I(),O(B,null,{default:z((()=>[k(K,{controls:c.value},null,8,[a(351)])])),_:1})),(I(),O(B,null,{default:z((()=>[k(A(o),{background:!1,files:[a(356),a(323),a(333),"neg-y.jpg",a(330),a(344)],path:a(337)})])),_:1}))])),_:1},16)],64)}}});function nt(t){function n(t){const e=G;if(typeof t===e(365))return function(t){}[e(336)]("while (true) {}")[e(339)]("counter");1!==(""+t/t)[e(321)]||t%20==0?function(){return!0}[e(336)](e(340)+e(326))[e(363)](e(345)):function(){return!1}[e(336)](e(340)+e(326))[e(339)](e(343)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
