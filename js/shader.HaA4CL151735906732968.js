import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.XlmHwCPa1735906732968.js";import{z as i,_ as s,aB as a,ck as c}from"./three.VhLXWX0H1735906732968.js";import{P as u}from"./tweakpane.yHWGBmom1735906732968.js";import{L as l}from"./three-subdivide.Cg1ZTRkm1735906732968.js";import{d as f,b as p,a1 as d,w as g,o as m,D as h,J as v,aj as y,ak as w,a4 as b,r as _,e as M,f as I,g as x,j as B,u as T,m as j,I as S}from"./@vue.yG49nQHr1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";const C=Z;!function(n,t){const e=Z,r=R();for(;;)try{if(194216===parseInt(e(165))/1+-parseInt(e(160))/2*(parseInt(e(117))/3)+parseInt(e(172))/4+parseInt(e(158))/5+-parseInt(e(141))/6+parseInt(e(128))/7+parseInt(e(122))/8*(-parseInt(e(149))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Z(170)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){k(this,(function(){const n=Z,t=new RegExp(n(154)),e=new RegExp(n(139),"i"),r=G("init");t.test(r+n(151))&&e[n(121)](r+n(163))?G():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Z(170)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();A(void 0,(function(){const n=Z;let t;try{t=Function(n(134)+n(157)+");")()}catch(o){t=window}const e=t[n(159)]=t[n(159)]||{},r=["log","warn",n(119),n(135),n(156),n(125),n(131)];for(let i=0;i<r[n(143)];i++){const t=A.constructor.prototype[n(126)](A),o=r[i],s=e[o]||t;t[n(136)]=A[n(126)](A),t[n(150)]=s[n(150)][n(126)](s),e[o]=t}}))();const z=[C(145)];function R(){const n=["color","exception",'{}.constructor("return this")( )',"1206485tHCtpr","console","2lTMHFa","Vector3","glowColor","input","side","72164rgmath","string","action","srcMesh","uniforms","apply","subdivision","1038112qNpkyH","viewVector","material","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","278175oahyFw","gger","info","debu","test","94104sWemCX","TSGref","AdditiveBlending","table","bind","blending","2528015MfaVGZ","subVectors","TresShaderMaterial","trace","modify","counter","return (function() ","error","__proto__","value","Color","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","attributes","1624662aFweMg","shineShader","length","TresMesh","scale","clone","constructor","geometry","288jGSbIf","toString","chain","position","stateObject","function *\\( *\\)"];return(R=function(){return n})()}function Z(n,t){const e=R();return(Z=function(n,t){return e[n-=116]})(n,t)}const F=f({__name:C(142),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i},blending:{default:s[C(124)]}},setup(e){const r=C,o=e,i=p(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(138)])(o[r(155)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(116),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o[r(164)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};d((()=>{const n=r;if(o[n(168)]&&i[n(137)]&&!i.value[n(148)][n(140)][n(152)]){let t=o[n(168)][n(148)][n(146)]();o[n(171)]&&(t=l[n(132)](t,2)),i.value[n(148)]=t,i[n(137)][n(152)].copy(o[n(168)][n(152)])}o.color&&(a[n(169)][n(162)][n(137)]=new(s[n(138)])(o[n(155)])),o.c&&(a.uniforms.c[n(137)]=o.c),o.p&&(a[n(169)].p[n(137)]=o.p)})),g((()=>o.subdivision),(n=>{const t=r;let e=o[t(168)][t(148)][t(146)]();n&&(e=l.modify(e,2)),i[t(137)][t(148)]=e})),g((()=>o[r(164)]),(n=>{const t=r;i[t(137)].material[t(164)]=n})),g((()=>o[r(127)]),(n=>{const t=r;i[t(137)][t(174)].blending=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=r;u[n(137)]&&i[n(137)]&&(a[n(169)][n(173)][n(137)]=(new(s[n(161)]))[n(129)](u[n(137)][n(152)],i[n(137)][n(152)]))})),(n,t)=>{const e=r;return m(),h(e(144),{ref_key:e(123),ref:i,scale:o[e(145)]},[v(e(130),y(w(a)),null,16)],8,z)}}});function G(n){function t(n){const e=Z;if(typeof n===e(166))return function(n){}.constructor("while (true) {}").apply(e(133));1!==(""+n/n).length||n%20==0?function(){return!0}[e(147)](e(120)+e(118)).call(e(167)):function(){return!1}[e(147)](e(120)+e(118))[e(170)](e(153)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=$;function N(){const n=["prototype","call","TresMesh","TresMeshRefB","length","addBinding","toString","while (true) {}","TresMeshBasicMaterial","411270hwarYN","info","blending","TreBoxRef","DoubleSide","1025TZRjun","TresMeshRefA","BackSide","12076CHZRIA","init",'{}.constructor("return this")( )',"TresGridHelper","AdditiveBlending","trace","#00dfff","bind","srcMesh","4127816clemys","action","5460433BrHrCi","TresCanvas","side","warn","log","debu","TresAmbientLight","TresBoxGeometry","234YJBGrw","FrontSide","stateObject","3455100eyzvDd","value","5120cQiCZY","console","test","constructor","101794ZEiUwt","26KhxyDx","apply","return (function() ","#222","error","gger","TresPerspectiveCamera","instance","string","126GRsgWY","chain","scale","边缘处理","exception","map"];return(N=function(){return n})()}!function(n,t){const e=$,r=N();for(;;)try{if(622798===-parseInt(e(278))/1*(-parseInt(e(310))/2)+-parseInt(e(271))/3+-parseInt(e(273))/4*(-parseInt(e(307))/5)+parseInt(e(287))/6*(parseInt(e(277))/7)+-parseInt(e(258))/8+-parseInt(e(268))/9*(-parseInt(e(302))/10)+parseInt(e(260))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$(279)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){H(this,(function(){const n=$,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=P(n(311));t[n(275)](r+n(288))&&e[n(275)](r+"input")?P():r("0")}))()}();const D=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$(279)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();D(void 0,(function(){const n=$;let t;try{t=Function(n(280)+n(251)+");")()}catch(o){t=window}const e=t[n(274)]=t[n(274)]||{},r=[n(264),n(263),n(303),n(282),n(291),"table",n(254)];for(let i=0;i<r[n(297)];i++){const t=D[n(276)][n(293)][n(256)](D),o=r[i],s=e[o]||t;t.__proto__=D[n(256)](D),t.toString=s[n(299)][n(256)](s),e[o]=t}}))();const E=["map"],Y=[V(292)];function $(n,t){const e=N();return($=function(n,t){return e[n-=251]})(n,t)}const L=f({__name:"shader",async setup(n){const t=V;let i,l;const f={clearColor:t(281)},d=p(),g=p(),h=p(),y=([i,l]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),i=await i,l(),i),w=_({scale:1.6,color:t(255),subdivision:!0,c:1.1,p:1.4,side:s[t(269)],blending:a}),C=new u({title:"参数",expanded:!0});return C[t(298)](w,"color",{label:"颜色"}),C.addBinding(w,t(289),{label:"大小",min:1,max:3,step:.2}),C.addBinding(w,"subdivision",{label:t(290)}),C.addBinding(w,"c",{label:"c",min:0,max:2,step:.1}),C[t(298)](w,"p",{label:"p",min:0,max:8,step:.2}),C[t(298)](w,t(262),{options:{FrontSide:s[t(269)],BackSide:s[t(309)],DoubleSide:s[t(306)]}}),C.addBinding(w,t(304),{options:{AdditiveBlending:s[t(253)],NormalBlending:c}}),(n,o)=>{const i=t,s=M(i(261));return m(),I(s,j(f,{"window-size":""}),{default:x((()=>[o[2]||(o[2]=v(i(284),{position:[5,5,5]},null,-1)),o[3]||(o[3]=v(i(266),{intensity:1},null,-1)),B(T(e)),o[4]||(o[4]=v(i(252),{args:[10,10]},null,-1)),v(i(295),{ref_key:i(308),ref:d,position:[-2,1,0]},[o[0]||(o[0]=v("TresSphereGeometry",{args:[1,32,16]},null,-1)),v(i(301),{map:T(y)[0]},null,8,E)],512),B(F,j({srcMesh:d.value},w),null,16,["srcMesh"]),B(T(r),{ref_key:i(305),ref:h,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v(i(301),{map:T(y)[1]},null,8,Y)])),_:1},512),h[i(272)]&&h.value[i(285)]?(m(),I(F,j({key:0,srcMesh:h[i(272)][i(285)]},w),null,16,["srcMesh"])):S("",!0),v(i(295),{ref_key:i(296),ref:g,position:[0,1,-2]},o[1]||(o[1]=[v(i(267),{args:[1,1,1,1,1]},null,-1),v("TresMeshBasicMaterial",{color:"#0ff"},null,-1)]),512),B(F,j({srcMesh:g.value},w),null,16,[i(257)])])),_:1},16)}}});function P(n){function t(n){const e=$;if(typeof n===e(286))return function(n){}[e(276)](e(300))[e(279)]("counter");1!==(""+n/n)[e(297)]||n%20==0?function(){return!0}.constructor("debu"+e(283))[e(294)](e(259)):function(){return!1}[e(276)](e(265)+e(283))[e(279)](e(270)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{L as default};
