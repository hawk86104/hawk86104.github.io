import{a as t,B as n,q as e,bZ as r,C as o,j as s,Z as i}from"./three.VTQVqxMx1725416517797.js";import{x as c}from"./@fesjs.ILazvsHx1725416517797.js";import{N as a}from"./@tresjs.5lh7VmqZ1725416517797.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.wPvA9dFk1725416517797.js";!function(t,n){const e=x,r=j();for(;;)try{if(804598===-parseInt(e(258))/1*(parseInt(e(282))/2)+parseInt(e(271))/3+-parseInt(e(308))/4*(-parseInt(e(241))/5)+-parseInt(e(266))/6*(-parseInt(e(251))/7)+parseInt(e(269))/8*(-parseInt(e(254))/9)+-parseInt(e(238))/10+-parseInt(e(250))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(287)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=x,n=new RegExp(t(285)),e=new RegExp(t(290),"i"),r=I(t(286));n[t(277)](r+t(240))&&e[t(277)](r+t(304))?I():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(287)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(288)+t(303)+");")()}catch(e){n=window}return n}(),e=n[t(264)]=n[t(264)]||{},r=["log",t(284),"info","error","exception","table",t(302)];for(let o=0;o<r[t(280)];o++){const n=g[t(274)][t(242)].bind(g),s=r[o],i=e[s]||n;n[t(296)]=g[t(301)](g),n[t(252)]=i.toString[t(301)](i),e[s]=n}}))();const h=(n,e=!1)=>{const r=x;n[r(237)]();const{max:o,min:s}=n.boundingBox;n[r(267)]("uv");const i=o.x-s.x,c=o.y-s.y,a=[];for(let t=0;t<n.attributes[r(309)][r(291)];t++)e?(a.push((n.attributes[r(309)].getX(t)-(s.x+o.x)/2)/i),a[r(244)]((n.attributes.position[r(281)](t)-(s.y+o.y)/2)/c)):(a.push((n.attributes[r(309)].getX(t)-s.x)/i),a[r(244)]((n[r(262)][r(309)][r(281)](t)-s.y)/c));const u=new Float32Array(a);n[r(279)]("uv",new t(u,2))},m=(t,n)=>new Promise(((e,r)=>{const o=x;c(t,{},{method:o(273),mergeRequest:!0})[o(245)]((t=>{const r=o;n&&e(t[n]),e(t[r(239)])})).catch((t=>{console[o(260)](t),r(t)}))})),d=t=>{const n=x,e=(new(THREE[n(293)])).setFromObject(t),r=new(THREE[n(278)]);e[n(297)](r),t[n(243)][n(265)]((t=>{t[n(309)].sub(r)})),t.position[n(295)](r[n(249)]())},w=()=>{const t=x;n[t(242)][t(307)]=u,n.prototype[t(299)]=f,e[t(242)][t(310)]=p},b=async t=>{const n=x,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(305)].clone();h(c),c[n(307)]();const u=new r(c,{color:new o("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(276)].transparent=!0,u[n(276)][n(255)]=!0,u[n(276)][n(289)]=!0,u[n(276)].side=i,u[n(276)][n(275)][n(247)].value.w=20,u[n(276)][n(275)][n(298)][n(263)]=.46,u};function x(t,n){const e=j();return(x=function(t,n){return e[t-=237]})(t,n)}function y(t){const n=x,e=[];for(let o=0;o<t[n(280)];o++)e.push(new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e.length;o++)r.add(e[o]);r[n(256)](e[n(280)]);for(let o=0;o<e[n(280)];o++)e[o][n(294)](r);return{points:e,centerPoint:r}}function j(){const t=["position","raycast","computeBoundingBox","3999580wXqTjD","features","chain","993615xGSAno","prototype","children","push","then","stateObject","config","center","negate","10751763CoaCwC","7422149CcKwPd","toString","debu","72351JKcshg","depthWrite","divideScalar","max","1CXasRa","min","error","random","attributes","value","console","forEach","6wOYAmQ","deleteAttribute","boundingBox","232HIyvzE","applyMatrix4","2754240WChbkO","string","get","constructor","uniforms","material","test","Vector3","setAttribute","length","getY","716318wzmLDf","gger","warn","function *\\( *\\)","init","apply","return (function() ","depthTest","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","count","setY","Box3","sub","copy","__proto__","getCenter","reflectivity","disposeBoundsTree","expandByObject","bind","trace",'{}.constructor("return this")( )',"input","geometry","action","computeBoundsTree","16wSpxjk"];return(j=function(){return t})()}function I(t){function n(t){const e=x;if(typeof t===e(272))return function(t){}[e(274)]("while (true) {}")[e(287)]("counter");1!==(""+t/t)[e(280)]||t%20==0?function(){return!0}[e(274)](e(253)+"gger").call(e(306)):function(){return!1}[e(274)]("debu"+e(283))[e(287)](e(246)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{d as a,y as g,w as i,m as l,h as r,b as s};
