import{a,X as e}from"./@tresjs.zc7faK4J1743660816268.js";import{d as s,r as t,a4 as i,b as p,a2 as l,w as o,o as n,f as r,u}from"./@vue.B5PFBfKs1743660816268.js";const c=s({__name:"precipitation",props:{speed:{default:12},randomness:{default:0},count:{default:6e3},size:{default:7},areaX:{default:1500},areaY:{default:1e3},areaZ:{default:1500},type:{default:"snow"},color:{default:"#fff"}},async setup(s){let c,d;const m=s,f={snow:"./plugins/digitalCity/image/snow.png",rain:"./plugins/digitalCity/image/rain.png",cilcle:"./plugins/digitalCity/image/cilcle.png"},g=t({});f[m.type]&&(g.value=([c,d]=i((()=>a({map:f[m.type]}))),c=await c,d(),c));const y=p();return l((async()=>{})),o((()=>m.type),(async(e,s)=>{e!=s&&(g.value?.map&&g.value.map.dispose(),g.value=await a({map:f[e]?f[e]:f.cilcle}))})),(a,s)=>(n(),r(u(e),{ref_key:"precipitationRef",ref:y,position:[0,m.areaY/2,0],speed:m.speed,color:m.color,alphaTest:.5,area:[m.areaX,m.areaY,m.areaZ],count:m.count,depthWrite:!0,randomness:m.randomness,size:m.size,opacity:1,map:g.value.map,alphaMap:g.value.map},null,8,["position","speed","color","area","count","randomness","size","map","alphaMap"]))}});export{c as _};
