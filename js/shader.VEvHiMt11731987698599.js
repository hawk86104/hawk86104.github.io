import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.juy9qkLz1731987698599.js";import{_ as i,V as s,K as a,aB as c}from"./three.3RwiW87x1731987698599.js";import{P as u}from"./tweakpane.yHWGBmom1731987698599.js";import{L as l}from"./three-subdivide.Ok5KwcV81731987698599.js";import{d as f,b as p,a3 as d,w as g,o as m,D as h,J as y,aj as v,ak as w,a6 as b,r as _,e as I,f as M,g as x,j as S,u as T,m as B,I as j}from"./@vue.-THQH3GC1731987698599.js";import"./@vueuse.R8VPJfVr1731987698599.js";function A(){const n=["modify","constructor","counter","6905ATXrPi","toString","apply","418NoQUCQ","console","value","1265959yiRHhx","function *\\( *\\)","material","gger","call","__proto__","5324knDxyM","log","warn","info","copy","geometry","17285652BwDPOh","clone","bind","side","color","error","FrontSide","init","178254EmZSPl","length","position","glowColor","prototype","test","attributes","Color","debu","7SYUKQo","table","input","chain","29630tyJUOi","uniforms","21ulEegm","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","return (function() ","subVectors","trace","AdditiveBlending","blending","TSGref","6487098JMUgcN","9681176XjMqTK","scale","while (true) {}","srcMesh","subdivision","viewVector","TresMesh"];return(A=function(){return n})()}const k=N;!function(n,t){const e=N,r=A();for(;;)try{if(966145===parseInt(e(301))/1+-parseInt(e(321))/2*(parseInt(e(276))/3)+parseInt(e(307))/4*(-parseInt(e(295))/5)+-parseInt(e(284))/6+-parseInt(e(270))/7*(-parseInt(e(285))/8)+parseInt(e(313))/9+-parseInt(e(274))/10*(-parseInt(e(298))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(297)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function N(n,t){const e=A();return(N=function(n,t){return e[n-=264]})(n,t)}!function(){C(this,(function(){const n=N,t=new RegExp(n(302)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=F(n(320));t[n(266)](r+n(273))&&e[n(266)](r+n(272))?F():r("0")}))()}();const V=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();V(void 0,(function(){const n=N;let t;try{t=Function(n(278)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(299)]=t[n(299)]||{},r=[n(308),n(309),n(310),n(318),"exception",n(271),n(280)];for(let i=0;i<r.length;i++){const t=V[n(293)][n(265)][n(315)](V),o=r[i],s=e[o]||t;t[n(306)]=V[n(315)](V),t.toString=s[n(296)].bind(s),e[o]=t}}))();const E=["scale"],z=f({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(319)]},blending:{default:i[k(281)]}},setup(e){const r=k,o=e,a=p(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(268)])(o[r(317)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(277),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(282)]};d((()=>{const n=r;if(o[n(288)]&&a.value&&!a[n(300)].geometry[n(267)][n(323)]){let t=o.srcMesh[n(312)][n(314)]();o.subdivision&&(t=l[n(292)](t,2)),a[n(300)][n(312)]=t,a[n(300)][n(323)][n(311)](o[n(288)][n(323)])}o[n(317)]&&(c.uniforms[n(264)][n(300)]=new(i[n(268)])(o[n(317)])),o.c&&(c[n(275)].c[n(300)]=o.c),o.p&&(c[n(275)].p[n(300)]=o.p)})),g((()=>o[r(289)]),(n=>{const t=r;let e=o[t(288)][t(312)][t(314)]();n&&(e=l[t(292)](e,2)),a[t(300)].geometry=e})),g((()=>o.side),(n=>{const t=r;a[t(300)][t(303)][t(316)]=n})),g((()=>o.blending),(n=>{a[r(300)].material.blending=n}));const{onLoop:u}=n(),{camera:f}=t();return u((()=>{const n=r;f[n(300)]&&a[n(300)]&&(c[n(275)][n(290)][n(300)]=(new s)[n(279)](f[n(300)][n(323)],a[n(300)][n(323)]))})),(n,t)=>{const e=r;return m(),h(e(291),{ref_key:e(283),ref:a,scale:o[e(286)]},[y("TresShaderMaterial",v(w(c)),null,16)],8,E)}}});function F(n){function t(n){const e=N;if("string"==typeof n)return function(n){}.constructor(e(287))[e(297)](e(294));1!==(""+n/n)[e(322)]||n%20==0?function(){return!0}.constructor(e(269)+e(304))[e(305)]("action"):function(){return!1}[e(293)](e(269)+e(304))[e(297)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=Z;!function(n,t){const e=Z,r=K();for(;;)try{if(555035===-parseInt(e(427))/1*(parseInt(e(456))/2)+-parseInt(e(446))/3*(parseInt(e(457))/4)+-parseInt(e(430))/5*(parseInt(e(426))/6)+-parseInt(e(436))/7+-parseInt(e(458))/8+parseInt(e(441))/9+-parseInt(e(434))/10*(-parseInt(e(474))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){G(this,(function(){const n=Z,t=new RegExp(n(464)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=J(n(477));t[n(448)](r+n(443))&&e[n(448)](r+"input")?J():r("0")}))()}();const P=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Z(478)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();P(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function("return (function() "+n(466)+");")()}catch(e){t=window}return t}(),e=t[n(431)]=t.console||{},r=["log","warn","info",n(429),n(467),"table",n(473)];for(let o=0;o<r.length;o++){const t=P.constructor.prototype[n(476)](P),i=r[o],s=e[i]||t;t[n(438)]=P[n(476)](P),t[n(453)]=s[n(453)][n(476)](s),e[i]=t}}))();const U=[R(470)],D=[R(470)];function K(){const n=['{}.constructor("return this")( )',"exception","call","TresMeshBasicMaterial","map","边缘处理","TreBoxRef","trace","12614349wUGTxe","TresAmbientLight","bind","init","apply","TresMesh","TresBoxGeometry","side","constructor","while (true) {}","logo.png","642nvmWFI","242007adVwFV","TresPerspectiveCamera","error","3690CEioHW","console","AdditiveBlending","debu","10GEpeUP","TresMeshRefA","3727024cyxAla","gger","__proto__","TresMeshRefB","srcMesh","7434144Hwlgpy","stateObject","chain","#00dfff","TresSphereGeometry","45SSMwNr","NormalBlending","test","#0ff","addBinding","TresCanvas","DoubleSide","toString","scale","string","2KfEmVi","104360KwWMmD","1383880nfqNJG","action","FrontSide","value","shader","instance","function *\\( *\\)","color"];return(K=function(){return n})()}function Z(n,t){const e=K();return(Z=function(n,t){return e[n-=425]})(n,t)}const H=f({__name:R(462),async setup(n){const t=R;let s,l;const f={clearColor:"#222"},d=p(),g=p(),h=p(),v=([s,l]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(425)]))),s=await s,l(),s),w=_({scale:1.6,color:t(444),subdivision:!0,c:1.1,p:1.4,side:i[t(460)],blending:i[t(432)]}),A=new u({title:"参数",expanded:!0});return A.addBinding(w,t(465),{label:"颜色"}),A[t(450)](w,t(454),{label:"大小",min:1,max:3,step:.2}),A.addBinding(w,"subdivision",{label:t(471)}),A[t(450)](w,"c",{label:"c",min:0,max:2,step:.1}),A[t(450)](w,"p",{label:"p",min:0,max:8,step:.2}),A[t(450)](w,t(481),{options:{FrontSide:i[t(460)],BackSide:a,DoubleSide:i[t(452)]}}),A.addBinding(w,"blending",{options:{AdditiveBlending:c,NormalBlending:i[t(447)]}}),(n,o)=>{const i=t,s=I(i(451));return m(),M(s,B(f,{"window-size":""}),{default:x((()=>[o[2]||(o[2]=y(i(428),{position:[5,5,5]},null,-1)),o[3]||(o[3]=y(i(475),{intensity:1},null,-1)),S(T(e)),o[4]||(o[4]=y("TresGridHelper",{args:[10,10]},null,-1)),y(i(479),{ref_key:i(435),ref:d,position:[-2,1,0]},[o[0]||(o[0]=y(i(445),{args:[1,32,16]},null,-1)),y(i(469),{map:T(v)[0]},null,8,U)],512),S(z,B({srcMesh:d[i(461)]},w),null,16,[i(440)]),S(T(r),{ref_key:i(472),ref:h,args:[1,1,1],position:[2,1,0]},{default:x((()=>[y(i(469),{map:T(v)[1]},null,8,D)])),_:1},512),h[i(461)]&&h[i(461)][i(463)]?(m(),M(z,B({key:0,srcMesh:h[i(461)][i(463)]},w),null,16,[i(440)])):j("",!0),y("TresMesh",{ref_key:i(439),ref:g,position:[0,1,-2]},o[1]||(o[1]=[y(i(480),{args:[1,1,1,1,1]},null,-1),y(i(469),{color:i(449)},null,-1)]),512),S(z,B({srcMesh:g[i(461)]},w),null,16,[i(440)])])),_:1},16)}}});function J(n){function t(n){const e=Z;if(typeof n===e(455))return function(n){}[e(482)](e(483))[e(478)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}.constructor("debugger")[e(468)](e(459)):function(){return!1}[e(482)](e(433)+e(437))[e(478)](e(442)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
