import{U as n,C as t}from"./@tresjs.vA_UT8oy1734746792122.js";import{m as o,bm as e,C as r,aB as i,a0 as a,_ as s}from"./three.1FILWcBb1734746792122.js";import{P as l}from"./tweakpane.yHWGBmom1734746792122.js";import{d as c,r as u,a3 as f,e as p,o as g,f as d,g as v,J as m,j as h,u as w,al as y}from"./@vue.-THQH3GC1734746792122.js";import"./@vueuse.lqJslAkC1734746792122.js";function I(n,t){var o=b();return(I=function(n,t){return o[n-=331]})(n,t)}function b(){var n=["init","vertexShader","162113NpxCiY","#00d5ff","7398428cOxVGO","length","522782VaFjuA","__proto__","transparent","gger","console",'{}.constructor("return this")( )',"4391685OflPcd","198ehPkHa","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","1562940miXcvc","falloff","bind","constructor","info","debu","uniforms","blendMode","input","opacity","while (true) {}","1LKbpkW","call","glowInternalRadius","268035tYWbaS","error","side","return (function() ","exception","apply","action","fragmentShader","glowColor","17320070qWKYZY","toString","glowSharpness","string","248YFZvLM","warn","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","prototype","table","log","depthTest","trace"];return(b=function(){return n})()}!function(n,t){for(var o=I,e=b();;)try{if(993196===-parseInt(o(331))/1*(-parseInt(o(363))/2)+-parseInt(o(369))/3+-parseInt(o(361))/4+parseInt(o(334))/5*(parseInt(o(370))/6)+parseInt(o(359))/7*(parseInt(o(347))/8)+-parseInt(o(372))/9+parseInt(o(343))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[I(339)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){x(this,(function(){var n=I,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(350),"i"),e=S(n(357));t[n(349)](e+"chain")&&o[n(349)](e+n(380))?S():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[I(339)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();j(void 0,(function(){var n,t=I;try{n=Function(t(337)+t(368)+");")()}catch(l){n=window}for(var o=n.console=n[t(367)]||{},e=[t(354),t(348),t(376),t(335),t(338),t(353),t(356)],r=0;r<e.length;r++){var i=j[t(375)][t(352)][t(374)](j),a=e[r],s=o[a]||i;i[t(364)]=j[t(374)](j),i[t(344)]=s[t(344)][t(374)](s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=I;super(),this[t(358)]=t(371),this[t(341)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[t(378)]={opacity:new e(void 0!==n[t(381)]?n[t(381)]:1),glowInternalRadius:new e(void 0!==n[t(333)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n[t(345)]?n[t(345)]:.5),falloff:new e(void 0!==n[t(373)]?n.falloff:.1),glowColor:new e(void 0!==n[t(342)]?new r(n[t(342)]):new r(t(360)))},this.setValues(n),this[t(355)]=void 0!==n[t(355)]&&n[t(355)],this.blending=void 0!==n[t(379)]?n[t(379)]:i,this[t(365)]=!0,this[t(336)]=void 0!==n[t(336)]?n[t(336)]:a}};function S(n){function t(n){var o=I;if(typeof n===o(346))return function(n){}[o(375)](o(382))[o(339)]("counter");1!==(""+n/n)[o(362)]||n%20==0?function(){return!0}[o(375)](o(377)+o(366))[o(332)](o(340)):function(){return!1}[o(375)](o(377)+o(366)).apply(o(351)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const P=T;!function(n,t){const o=T,e=G();for(;;)try{if(855833===parseInt(o(227))/1+-parseInt(o(279))/2*(-parseInt(o(273))/3)+parseInt(o(260))/4*(parseInt(o(274))/5)+-parseInt(o(240))/6+parseInt(o(225))/7+-parseInt(o(265))/8*(-parseInt(o(268))/9)+-parseInt(o(276))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(228)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){k(this,(function(){const n=T,t=new RegExp(n(286)),o=new RegExp(n(234),"i"),e=F(n(237));t.test(e+n(285))&&o.test(e+"input")?F():e("0")}))()}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(228)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function T(n,t){const o=G();return(T=function(n,t){return o[n-=225]})(n,t)}R(void 0,(function(){const n=T;let t;try{t=Function(n(290)+n(236)+");")()}catch(r){t=window}const o=t[n(232)]=t.console||{},e=[n(246),n(226),n(242),n(261),n(280),n(247),"trace"];for(let i=0;i<e.length;i++){const t=R[n(233)].prototype[n(256)](R),r=e[i],a=o[r]||t;t.__proto__=R[n(256)](R),t[n(254)]=a[n(254)][n(256)](a),o[r]=t}}))();const z={position:[0,6,0]},C=[P(241)];function G(){const n=["glowInternalRadius","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","1624204IFicgg","error","falloff","uniforms","BackSide","744vYkiOZ","#a058c1","TresPerspectiveCamera","141849KJLGjW","清晰度","neg-z.jpg","fakeGlow","neg-x.jpg","411aTeFxG","15UsWhzq","TresAmbientLight","57619860qQhewS","addBinding","TresGroup","18286LvRpKM","exception","primitive","Mesh","DoubleSide","FrontSide","chain","function *\\( *\\)","TresTorusKnotGeometry","string","blue","return (function() ","pos-z.jpg","11820865MCyzHE","warn","1057411KAojeQ","apply","neg-y.jpg","value","TresGridHelper","console","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger",'{}.constructor("return this")( )',"init","side","TresDirectionalLight","388824LPEsGY","object","info","TorusKnotGeometry","debu","glowSharpness","log","table","pos-y.jpg","材质面","TresMesh","glowColor","pos-x.jpg","opacity","toString","TresCanvas","bind","length"];return(G=function(){return n})()}const M=c({__name:P(271),setup(o){const e=P,i=new l({title:"辉光参数",expanded:!0}),a=u({glowColor:e(266),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(284)],depthTest:!1}),c=new _,I=new(s[e(282)])(new(s[e(243)])(4,3.8,128,128),c);return i[e(277)](a,e(251),{label:"颜色"}),i[e(277)](a,"falloff",{label:"衰减",min:0,max:10,step:.1}),i.addBinding(a,e(258),{label:"内半径",min:-5,max:5,step:.1}),i[e(277)](a,e(245),{label:e(269),min:0,max:10,step:.1}),i.addBinding(a,e(253),{label:"透明",min:0,max:1,step:.1}),i[e(277)](a,"side",{label:e(249),options:{FrontSide:s[e(284)],BackSide:s[e(264)],DoubleSide:s[e(283)]}}),f((()=>{const n=e;c[n(263)][n(262)][n(230)]=a[n(262)],c[n(263)][n(251)].value=new r(a[n(251)]),c[n(263)][n(258)].value=a.glowInternalRadius,c[n(263)][n(245)][n(230)]=a.glowSharpness,c.uniforms[n(253)][n(230)]=a[n(253)],c[n(238)]=a[n(238)]})),(o,r)=>{const i=e,a=p(i(255));return g(),d(a,{"window-size":""},{default:v((()=>[r[1]||(r[1]=m(i(267),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=m(i(275),{intensity:1.5},null,-1)),r[3]||(r[3]=m(i(239),{position:[100,100,60],intensity:20},null,-1)),h(w(n),{autoRotate:""}),r[4]||(r[4]=m(i(231),{args:[20,10]},null,-1)),m(i(278),z,[r[0]||(r[0]=m(i(250),null,[m(i(287),{args:[4,.5,128,128]}),m("TresMeshPhysicalMaterial",{color:i(289),roughness:.2,clearcoat:1})],-1)),m(i(281),{object:w(I)},null,8,C)]),(g(),d(y,null,{default:v((()=>[h(w(t),{files:[i(252),i(272),i(248),i(229),i(291),i(270)],path:i(259)})])),_:1}))])),_:1})}}});function F(n){function t(n){const o=T;if(typeof n===o(288))return function(n){}[o(233)]("while (true) {}")[o(228)]("counter");1!==(""+n/n)[o(257)]||n%20==0?function(){return!0}[o(233)](o(244)+"gger").call("action"):function(){return!1}[o(233)](o(244)+o(235))[o(228)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{M as default};
