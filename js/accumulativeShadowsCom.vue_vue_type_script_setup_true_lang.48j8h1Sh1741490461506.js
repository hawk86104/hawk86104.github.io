import{_ as t,b7 as n,a as e}from"./three.Vxh8Czkt1741490461506.js";import{m as o}from"./@tresjs.rE98Wm941741490461506.js";import{d as a,P as r}from"./@pmndrs.VkB-hYkG1741490461506.js";import{d as s,b as i,w as c,a2 as u,o as l,H as p,N as f,aj as d,ak as h}from"./@vue.NRI7TcgI1741490461506.js";function m(){const t=["radius","blendWindow","__proto__","sin","80HqxyVL","alphaTest","7GtNHdv","accumulativeShadowsCom","children","texture","shadows plm update","prepare","bottom","prototype","mapSize","left","4NKpDZw","value","set","color","bind","764423dJMkoJ","MathUtils","trace","update","length","frames","cos","info","#000000","while (true) {}","call","opacity","9nQCYzv","Group","width","material","blend","gger","string",'{}.constructor("return this")( )',"return (function() ","chain","warn","5769710ZUZQOX","test","gPlane","10293688ChHmFG","toString","init","position","clear","randFloatSpread","size","table","ambient","near","input","shadow","TresSoftShadowMaterial","constructor","shadows render end","finish","random","remove","debu","apply","progressiveLightMap2","1726368yfHKKT","configure","TresPlaneGeometry","height","29446ttXQIw","function *\\( *\\)","far","console","lightPosition","counter","Vector3","2422185RWSELl","6353448tfyFyc","shadows render start","abs","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","amount","camera"];return(m=function(){return t})()}const w=y;function y(t,n){const e=m();return(y=function(t,n){return e[t-=473]})(t,n)}!function(t,n){const e=y,o=m();for(;;)try{if(668160===parseInt(e(512))/1*(parseInt(e(493))/2)+-parseInt(e(489))/3+-parseInt(e(524))/4*(-parseInt(e(500))/5)+-parseInt(e(501))/6+parseInt(e(514))/7*(parseInt(e(555))/8)+-parseInt(e(541))/9*(parseInt(e(552))/10)+-parseInt(e(529))/11)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=y,n=new RegExp(t(494)),e=new RegExp(t(504),"i"),o=x(t(557));n[t(553)](o+t(550))&&e[t(553)](o+t(478))?x():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=y;let n;try{n=Function(t(549)+t(548)+");")()}catch(a){n=window}const e=n[t(496)]=n[t(496)]||{},o=[t(505),t(551),t(536),"error","exception",t(475),t(531)];for(let r=0;r<o[t(533)];r++){const n=M.constructor[t(521)][t(528)](M),a=o[r],s=e[a]||n;n[t(510)]=M[t(528)](M),n[t(556)]=s[t(556)][t(528)](s),e[a]=n}}))();const b=["rotate-x"],I=s({__name:w(515),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:w(537)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const m=w,y=s;let g=i();const{extend:M,scene:I,renderer:x,camera:z}=o();M({SoftShadowMaterial:a});const S={position:(new(t[m(499)]))[m(526)](y[m(497)].x,y[m(497)].y,y.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},v=new r(x[m(525)],I[m(525)],S[m(522)]),P={map:v[m(488)][m(517)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:y[m(545)],alphaTest:y[m(513)],opacity:y.opacity,color:y[m(527)]},_=new(t[m(542)]);for(let t=0;t<S[m(506)];t++){const t=new n(16777215,S.intensity/S[m(506)]);t.castShadow=!0,t[m(479)].bias=S.bias,t[m(479)][m(507)][m(477)]=S[m(477)],t.shadow[m(507)][m(495)]=S[m(495)],t.shadow.camera.right=S[m(474)]/2,t[m(479)][m(507)][m(523)]=-S.size/2,t[m(479)][m(507)].top=S[m(474)]/2,t[m(479)][m(507)][m(520)]=-S[m(474)]/2,t[m(479)][m(522)][m(543)]=S[m(522)],t[m(479)][m(522)][m(492)]=S[m(522)],_.add(t)}const j=()=>{const n=m,o=S[n(558)][n(533)]();for(let a=0;a<_[n(516)].length;a++){const r=_[n(516)][a];if(Math[n(484)]()>y.ambient)r[n(558)].set(S[n(558)].x+t[n(530)].randFloatSpread(S[n(508)]),S.position.y+e[n(473)](S.radius),S[n(558)].z+e[n(473)](S[n(508)]));else{let t=Math.acos(2*Math[n(484)]()-1)-Math.PI/2,e=2*Math.PI*Math[n(484)]();r.position.set(Math[n(535)](t)*Math[n(535)](e)*o,Math[n(503)](Math[n(535)](t)*Math[n(511)](e)*o),Math.sin(t)*o)}}},T=(t=1)=>{const n=m;I[n(525)].add(_),v[n(519)]();for(let e=0;e<t;e++)j(),v[n(532)](z[n(525)],y[n(509)]),console.log(n(518),e);I.value[n(485)](_),v[n(483)]()};c((()=>g.value),(t=>{const n=m;t&&(v[n(490)](t),v[n(559)](),console[n(505)](n(502)),T(y[n(534)]),console[n(505)](n(482)))}));const F=()=>{const t=m;v[t(559)](),T(y[t(534)])};return u((()=>{const t=m;g[t(525)]&&(y[t(540)]&&(g[t(525)].material.opacity=y[t(540)]),y[t(513)]&&(g[t(525)][t(544)][t(513)]=y[t(513)]),y[t(527)]&&g[t(525)][t(544)].color[t(526)](y.color),y[t(545)]&&(g[t(525)][t(544)][t(545)]=y[t(545)]))})),c((()=>y[m(497)]),(t=>{const n=m;t&&(console[n(505)](y.lightPosition),S[n(558)][n(526)](t.x,t.y,t.z),F())}),{deep:!0}),c((()=>[y[m(534)],y[m(509)],y[m(476)]]),(()=>{F()})),(t,n)=>{const e=m;return l(),p("TresMesh",{"receive-shadow":"",ref_key:e(554),ref:g,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=f(e(491),{args:[1,1]},null,-1)),f(e(480),d(h(P)),null,16)],8,b)}}});function x(t){function n(t){const e=y;if(typeof t===e(547))return function(t){}[e(481)](e(538)).apply(e(498));1!==(""+t/t)[e(533)]||t%20==0?function(){return!0}.constructor(e(486)+e(546))[e(539)]("action"):function(){return!1}[e(481)](e(486)+e(546))[e(487)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
