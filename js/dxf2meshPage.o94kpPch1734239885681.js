import{k as t}from"./@tresjs.qWeugQU61734239885681.js";import{cG as n,_ as e,aL as s,aP as o,c0 as r,ak as i,am as c,aF as a,$ as u,s as p}from"./three.NPKhDGTA1734239885681.js";import{P as l}from"./tweakpane.yHWGBmom1734239885681.js";import{a as f}from"./index.uMqUHken1734239885681.js";import"./index.7QYtVZEA1734239885681.js";import{_ as d}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.ISPpl1lA1734239885681.js";import{d as g,r as m,X as h,s as _,q as w,e as v,o as y,D as j,j as x,g as b,J as I,u as B,m as k,f as M,al as S,I as F}from"./@vue.-THQH3GC1734239885681.js";import{_ as A}from"./@fesjs.1fC4qdx91734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./three-stdlib.VocBnxjF1734239885681.js";import"./@pmndrs.Pz587RFC1734239885681.js";import"./object-hash.ahc4Ouej1734239885681.js";import"./@amap.NYHfUxYe1734239885681.js";import"./jszip.XVUCuuLk1734239885681.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.JbS0f2t91734239885681.js";import"./all.three.6Oy-txmR1734239885681.js";import"./oimophysics.x0jH7fze1734239885681.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.iOmDxXkZ1734239885681.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.FPA28JdA1734239885681.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.hS-l0FA01734239885681.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.m0W9w4uZ1734239885681.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.v57vLuXM1734239885681.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.LijpYKjU1734239885681.js";import"./vue-router.KCZH8FnA1734239885681.js";import"./lodash-es.kYt-_xTG1734239885681.js";import"./@qlin.yHhFDldE1734239885681.js";import"./pinia.XvNnwauR1734239885681.js";import"./vue-demi.C4xddsk91734239885681.js";import"./@floating-ui.BPbuo5Gx1734239885681.js";import"./@juggle.7yjBMqoW1734239885681.js";const R=z;!function(t,n){const e=z,s=D();for(;;)try{if(813844===parseInt(e(172))/1*(-parseInt(e(137))/2)+-parseInt(e(199))/3*(-parseInt(e(162))/4)+-parseInt(e(182))/5*(parseInt(e(177))/6)+-parseInt(e(194))/7*(parseInt(e(189))/8)+parseInt(e(131))/9+-parseInt(e(191))/10*(-parseInt(e(139))/11)+parseInt(e(148))/12)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const C=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function z(t,n){const e=D();return(z=function(t,n){return e[t-=128]})(t,n)}!function(){C(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(165),"i"),s=L(t(147));n[t(141)](s+t(166))&&e[t(141)](s+t(161))?L():s("0")}))()}();const T=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[z(150)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function D(){const t=["15mlrYzY","string","drawImportSpecialBoard","holes","length","material","toString","1144ZNZILA","toShapes","4970idcFPp","info","max","50365rndBwg","bind","warn","copy","Shape","1104639rsgieA","forEach","LineBasicMaterial","trace","4740777yhsyDX","counter","paths","action","gger","console","2tVsUqg","call","15829SOYhNW","MeshBasicMaterial","test","table","constructor","boundingBox","getX","LineSegments","init","19844376yNRfCv","__proto__","apply","attributes","name","rotation","BufferAttribute","negate","prototype","debu","Vector3","computeBoundingBox","count","input","4MdHmPj","translate","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","push","Mesh","geometry","EdgesGeometry","getCenter","408585PBshqm","log","return (function() ","#AFAFAD","stateObject","2025066XLgBkj","Vector2","position","castShadow","mBoundingBox"];return(D=function(){return t})()}T(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(174)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(136)]=n[t(136)]||{},s=[t(173),t(196),t(192),"error","exception",t(142),t(130)];for(let o=0;o<s[t(186)];o++){const n=T.constructor[t(156)][t(195)](T),r=s[o],i=e[r]||n;n[t(149)]=T[t(195)](T),n[t(188)]=i[t(188)][t(195)](i),e[r]=n}}))();class P{constructor(t){this[z(152)]=t}[R(184)](t,r,i){const c=R,a=(new n).parse(r),u=new(e[c(198)]);a[c(133)][c(128)](((t,n)=>{const e=c;t[e(190)](!0)[e(128)](((t,s)=>{const o=e;0===n&&0===s?u[o(197)](t):u[o(185)][o(167)](t)}))}));const p=new s(u,{depth:18,bevelEnabled:!1});p.computeBoundingBox();const l=p[c(144)][c(171)](new(e[c(158)]))[c(155)]();p[c(163)](l.x,l.y,l.z),p[c(159)]();const f=p[c(144)][c(193)],d=p[c(144)].min,g=new(e[c(178)])(0-d.x,0-d.y),m=new(e[c(178)])(f.x-d.x,f.y-d.y);p[c(151)].uv=new(e[c(154)])(new Float32Array(2*p[c(151)][c(179)][c(160)]),2);for(let n=0;n<p[c(151)][c(179)].count;n++){const t=p[c(151)][c(179)][c(145)](n),e=p[c(151)][c(179)].getY(n);p.attributes.uv.setXY(n,(t+g.x)/m.x,(e+g.y)/m.y)}const h=new(e[c(140)])({map:null}),_=new(e[c(168)])(p,h);_[c(187)]=new o({map:null,color:c(175),roughness:1,metalness:.1,envMapIntensity:2.5}),_.receiveShadow=!0,_[c(180)]=!0,_[c(179)].x=i,_[c(179)].y=250;const w=new(e[c(129)])({color:0}),v=new(e[c(170)])(_[c(169)],1),y=new(e[c(146)])(v,w);y.renderOrder=1,y[c(179)][c(197)](_[c(179)]),y[c(153)].copy(_[c(153)]),_.mBoundingBox=y,t.add(_,_[c(181)])}}function L(t){function n(t){const e=z;if(typeof t===e(183))return function(t){}.constructor(e(164))[e(150)](e(132));1!==(""+t/t)[e(186)]||t%20==0?function(){return!0}[e(143)]("debu"+e(135))[e(138)](e(134)):function(){return!1}[e(143)](e(157)+e(135)).apply(e(176)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=Y;!function(t,n){const e=Y,s=$();for(;;)try{if(557441===-parseInt(e(290))/1+parseInt(e(280))/2+parseInt(e(295))/3+-parseInt(e(337))/4*(parseInt(e(315))/5)+-parseInt(e(351))/6+-parseInt(e(348))/7*(-parseInt(e(301))/8)+-parseInt(e(316))/9*(-parseInt(e(358))/10))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const q=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){q(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=Z(t(274));n[t(288)](s+t(289))&&e[t(288)](s+"input")?Z():s("0")}))()}();const E=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[Y(322)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();E(void 0,(function(){const t=Y;let n;try{n=Function("return (function() "+t(359)+");")()}catch(o){n=window}const e=n.console=n[t(343)]||{},s=[t(303),"warn",t(314),t(299),t(284),t(335),"trace"];for(let r=0;r<s.length;r++){const n=E[t(361)].prototype[t(329)](E),o=s[r],i=e[o]||n;n[t(307)]=E[t(329)](E),n[t(282)]=i.toString[t(329)](i),e[o]=n}}))();const V={key:0,class:"dialogDiv"},G={class:"footBtn"};function Y(t,n){const e=$();return(Y=function(t,n){return e[t-=269]})(t,n)}function Z(t){function n(t){const e=Y;if(typeof t===e(286))return function(t){}[e(361)]("while (true) {}")[e(322)]("counter");1!==(""+t/t)[e(330)]||t%20==0?function(){return!0}.constructor(e(363)+e(356))[e(302)]("action"):function(){return!1}.constructor("debu"+e(356))[e(322)](e(273)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function $(){const t=["log","drawImportSpecialBoard","script","querySelector","__proto__","open","neg-x.jpg","div","pos-y.jpg","add","TresAmbientLight","info","5pqZpcM","27rQifLu","下载测试文件2","head","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","assembly","blue","apply","fileInput","下载测试文件1","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js","#ffffff","addButton","src","bind","length","neg-z.jpg","onload","#627179","http://www.w3.org/2000/svg","table","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","434404RisgnR","TresCanvas","TresGridHelper","dxf2svg","appendChild","localFileReader","console","svg-display","neg-y.jpg","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","dialogVisible","8239nJvoWO","http://www.inkscape.org/namespaces/inkscape","#3a78a2","577740MJFGti","main-svg","input","10000","dxf2meshPage","gger","text/javascript","4530570QbwcWe",'{}.constructor("return this")( )',"导入dxf","constructor","catch","debu","boxMeshRef","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","click","createElement","value","stateObject","init"," 时出错","TresPerspectiveCamera","plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js","xMidYMid meet","outerHTML","10460ctVNdR","加载脚本时出错","toString","file","exception","_blank","string","初始化","test","chain","1052864IhjmVO","1000","then","addFolder","TresBoxGeometry","300147PNAoXw","#82DBC5","加载脚本 ","TresGroup","error","#svg-display svg","2384ewPusR","call"];return($=function(){return t})()}const N=A(g({__name:X(355),setup(n){const e=X,s=m({dialogVisible:!1}),o={clearColor:e(296),shadows:!0,alpha:!1,shadowMapType:r,outputColorSpace:i,toneMapping:c},g=m({cellSize:60,cellThickness:1.1,cellColor:e(333),sectionColor:e(350),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let A=0;const R=h(),C=h(),z=new l;z[e(327)]({title:e(324)}).on(e(270),(()=>{const t=e;window[t(308)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(285))})),z[e(327)]({title:e(317)}).on(e(270),(()=>{const t=e;window[t(308)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(285))}));const T=z[e(293)]({title:"远近"});function D(){const t=e,n=C[t(272)];s[t(347)]=!1;const o=document[t(306)](t(300));if(o){const e=o[t(279)];let s=new P;A+=1200,s[t(304)](n,e,A)}}function L(t){return new Promise(((n,e)=>{const s=Y,o=document[s(271)](s(305));o[s(328)]=t,o.type=s(357),o[s(332)]=()=>n(),o.onerror=()=>e(new Error(s(297)+t+s(275))),document[s(318)][s(341)](o)}))}return T[e(327)]({title:e(360)}).on(e(270),(()=>{const t=e;s[t(347)]=!0,_((()=>{const n=t;window[n(342)][n(274)]()}))})),T[e(327)]({title:e(287)}).on(e(270),(()=>{!function(){const t=e,n=new a(500,500,18),s=new u({color:t(321)}),o=new p(n,s),r=C[t(272)];for(;r.children.length>0;){const t=r.children[0];r.remove(t)}r[t(312)](o)}()})),w((()=>{!function(){const t=e;L(t(346))[t(292)]((()=>L("plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js")))[t(292)]((()=>L(t(336))))[t(292)]((()=>L(t(319)))).then((()=>L(t(325))))[t(292)]((()=>L(t(277))))[t(362)]((n=>console[t(299)](t(281),n)))}()})),(n,r)=>{const i=e,c=v(i(338));return y(),j(i(310),null,[x(c,k(o,{"window-size":""}),{default:b((()=>[r[2]||(r[2]=I(i(276),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),x(B(t),{"make-default":""}),r[3]||(r[3]=I(i(339),{position:[0,-1,0],size:i(291),divisions:i(354)},null,-1)),I(i(298),{ref_key:"groupRef",ref:C,position:[2,250,0]},[I("TresMesh",{ref_key:i(364),ref:R},r[1]||(r[1]=[I(i(294),{args:[500,500,18]},null,-1),I("TresMeshBasicMaterial",{color:i(321)},null,-1)]),512)],512),r[4]||(r[4]=I(i(313),{color:i(326),intensity:1},null,-1)),r[5]||(r[5]=I("TresDirectionalLight",{color:i(326),position:[300,300,250],intensity:6},null,-1)),x(B(d),k({args:[3,3]},g,{position:[0,-.5,0]}),null,16),(y(),M(S,null,{default:b((()=>[x(B(f),{files:["pos-x.jpg",i(309),i(311),i(345),"pos-z.jpg",i(331)],path:i(269)})])),_:1}))])),_:1},16),s[i(347)]?(y(),j("div",V,[r[6]||(r[6]=I(i(310),{id:i(344),class:i(320),style:{}},[I("svg",{id:i(352),xmlns:i(334),"xmlns:svg":i(334),"xmlns:inkscape":i(349),version:"1.1",preserveAspectRatio:i(278)},[I("g",{id:i(340),class:"pen1","stroke-width":"6",fill:"#776A8F",transform:"translate(50, 50)"})])],-1)),r[7]||(r[7]=I(i(310),{class:i(323)},[I(i(353),{id:"dxfFileInput",type:i(283)})],-1)),I(i(310),G,[I("button",{onClick:r[0]||(r[0]=t=>s[i(347)]=!1)},"取消"),I("button",{onClick:D},"确定")])])):F("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{N as default};
