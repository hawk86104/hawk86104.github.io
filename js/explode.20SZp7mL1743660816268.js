import{e,D as t,o}from"./@tresjs.zc7faK4J1743660816268.js";import{P as s}from"./tweakpane.ivGeiIdz1743660816268.js";import{G as a,T as n}from"./@tweenjs.l8nCRm4N1743660816268.js";import{_ as r}from"./lodash.54IT1-z-1743660816268.js";import{d as i,a4 as l,r as p,q as d,e as c,o as m,f as u,g as j,m as f,N as w,j as h,u as b,al as C}from"./@vue.B5PFBfKs1743660816268.js";import{h as g,b as v}from"./three.2wx8FU0g1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./@amap.c8pGcSIC1743660816268.js";const x=["object"],y=i({__name:"explode",async setup(i){let y,T;const{scene:k}=([y,T]=l((()=>t("/plugins/operationTool/model/湖中小亭/湖中小亭.gltf"))),y=await y,T(),y);k.updateMatrixWorld(!0);const _=p({alpha:!0,antialias:!0,autoClear:!1,disableRender:!0}),D=new a;d((()=>{const e=new s({title:"炸开与还原",expanded:!0}).addFolder({title:"参数"});e.addButton({title:"炸开",label:"炸开"}).on("click",(()=>{k.children.forEach(((e,t)=>{const o=r.cloneDeep(e.position);if(e.userData.explode={state:!1,explode:o},e.isMesh){const t=(new g).setFromObject(e),s=new v;t.getCenter(s);const a=s.multiplyScalar(2);D.add(new n(o).to(a,3e3).onUpdate((t=>{e.position.copy(t)})).start().onComplete((e=>{})))}}))})),e.addButton({title:"还原",label:"还原"}).on("click",(()=>{k.children.forEach(((e,t)=>{if(e.isMesh){const t=(new g).setFromObject(e),o=new v;t.getCenter(o),D.add(new n(o).to(new v(0,0,0),3e3).onUpdate((t=>{e.position.copy(t)})).start().onComplete((e=>{})))}}))}))}));const{onLoop:F}=e();return F((({delta:e})=>{D?.update()})),(e,t)=>{const s=c("TresCanvas");return m(),u(s,f({clearColor:"#201919","window-size":""},_),{default:j((()=>[t[0]||(t[0]=w("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,10,-28]},null,-1)),t[1]||(t[1]=w("TresAmbientLight",{intensity:1},null,-1)),h(b(o)),(m(),u(C,null,{default:j((()=>[w("primitive",{object:b(k)},null,8,x)])),_:1}))])),_:1},16)}}});export{y as default};
