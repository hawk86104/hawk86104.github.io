import{a as t,d as n}from"./@tresjs.SUe87xao1723628107012.js";import{P as e}from"./tweakpane.yHWGBmom1723628107012.js";import{a6 as o,ab as r,ac as a}from"./three.LOnTLfxo1723628107012.js";import{_ as s}from"./heatmap.js-fix.366VdLNY1723628107012.js";import{d as i,a4 as c,a1 as u,o as l,D as p,u as f,r as d,e as h,f as m,g,j as v,al as y,aj as b,ak as w,m as x,J as I}from"./@vue.9bHx4gg21723628107012.js";import"./@vueuse.t-c8gU4-1723628107012.js";import"./@amap.XsUkMUkF1723628107012.js";const _=A;!function(t,n){const e=A,o=k();for(;;)try{if(524881===-parseInt(e(221))/1*(-parseInt(e(234))/2)+parseInt(e(183))/3+parseInt(e(198))/4*(parseInt(e(180))/5)+parseInt(e(189))/6+-parseInt(e(178))/7+parseInt(e(184))/8*(-parseInt(e(173))/9)+-parseInt(e(239))/10*(-parseInt(e(225))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(217)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=A,n=new RegExp(t(238)),e=new RegExp(t(228),"i"),o=D(t(197));n[t(196)](o+t(174))&&e[t(196)](o+t(235))?D():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(217)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["boundingBox","geometry","constructor","bind","left","action","warn","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","debu","apply","while (true) {}","position","addData","4814KkUIcc","set","computeBoundingBox","BufferAttribute","11iuNTxw","canvas","attributes","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","ShaderMaterial","return (function() ","Texture","count","onclick","4ACwzam","input","deleteAttribute","layerY","function *\\( *\\)","3412650IUjmde","0.8","setAttribute","none","radius","push","exception","show2dCanvas","needsUpdate","length","90YFhAYk","chain","heatmapClickCom","gger","mesh_0","2571184uEAUIm","top","70TKhKJO","__proto__","create","23928IyDCYO","131656QRkqVb","console","setScalar","1px solid #5384ff","layerX","2210256xWvtHP","heatmap-canvas","prototype","string","getZ","border","scale","test","init","94148DYpJbE","toString","style","error","getX","trace","DoubleSide","body","_renderer","absolute"];return(k=function(){return t})()}C(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(230)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(185)]||{},o=["log",t(214),"info",t(201),t(169),"table",t(203)];for(let r=0;r<o[t(172)];r++){const n=C.constructor[t(191)][t(211)](C),a=o[r],s=e[a]||n;n[t(181)]=C[t(211)](C),n[t(199)]=s[t(199)][t(211)](s),e[a]=n}}))();const S=["object"];function A(t,n){const e=k();return(A=function(t,n){return e[t-=169]})(t,n)}const U=i({__name:_(175),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=_;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:"./draco/"}))),r=await r,a(),r);d[e(177)].position[e(222)](-5088.96,-3.08,39374.7),d.mesh_0[e(195)][e(186)](.01);let h=null,m=null,g=null;m=new(o[e(231)])((()=>{const t=e;return g=document.createElement(t(190)),g[t(200)].position=t(207),g[t(200)][t(179)]="40px",g[t(200)][t(212)]="0",document[t(205)].appendChild(g),h=s[t(182)]({container:g,width:256,height:256,blur:t(240),radius:i[t(243)]}),h[t(206)].canvas[t(200)][t(194)]=t(187),h._renderer.canvas[t(233)]=function(n){const e=t;h[e(220)]({x:n[e(188)],y:n[e(237)],value:1,radius:i[e(243)]}),h.setDataMax(1),m&&(m[e(171)]=!0)},h})()[e(206)][e(226)]);const v={vertexShader:e(215),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(204)]},y=new(o[e(229)])(v);d[e(177)].material=y;return(t=>{const n=e;t[n(223)]();const{max:r,min:a}=t[n(208)];t[n(236)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(227)][n(219)][n(232)];e++)c[n(244)]((t.attributes.position[n(202)](e)-a.x)/s),c[n(244)]((t[n(227)].position[n(193)](e)-a.z)/i);const u=new Float32Array(c);t[n(241)]("uv",new(o[n(224)])(u,2))})(d[e(177)][e(209)]),u((()=>{const t=e;g[t(200)].display=""+(i[t(170)]?"block":t(242))})),(t,n)=>{const o=e;return l(),p("primitive",{object:f(d)[o(177)]},null,8,S)}}});function D(t){function n(t){const e=A;if(typeof t===e(192))return function(t){}[e(210)](e(218))[e(217)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(210)](e(216)+e(176)).call(e(213)):function(){return!1}.constructor("debugger")[e(217)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=P;!function(t,n){const e=P,o=R();for(;;)try{if(686685===parseInt(e(315))/1+parseInt(e(331))/2+parseInt(e(323))/3+parseInt(e(305))/4+parseInt(e(340))/5*(-parseInt(e(316))/6)+-parseInt(e(336))/7*(parseInt(e(310))/8)+parseInt(e(300))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=P,n=new RegExp(t(333)),e=new RegExp(t(314),"i"),o=W(t(324));n[t(309)](o+t(328))&&e.test(o+"input")?W():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(334)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=P;let n;try{n=Function(t(307)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(306)]=n[t(306)]||{},o=[t(330),t(313),t(335),t(321),t(332),t(325),"trace"];for(let a=0;a<o[t(304)];a++){const n=T[t(299)][t(319)][t(326)](T),r=o[a],s=e[r]||n;n[t(329)]=T[t(326)](T),n[t(311)]=s.toString[t(326)](s),e[r]=n}}))();const E=I(z(318),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),M=I(z(343),{position:[5,10,7.5],color:z(339),intensity:5},null,-1),O=I(z(341),{args:[50,25]},null,-1);function P(t,n){const e=R();return(P=function(t,n){return e[t-=298]})(t,n)}function R(){const t=["function *\\( *\\)","apply","info","221179HUXsOk","TresCanvas","show2dCanvas","#ffffff","5NSyPWI","TresGridHelper","gger","TresDirectionalLight","call","constructor","985509LWxtKX","heatmapClick","stateObject","addBinding","length","3018328SQgEUP","console","return (function() ","显示二维图","test","312HKyfHG","toString","addButton","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1124993oLDWwa","7719150UvWBrB","counter","TresPerspectiveCamera","prototype","string","error","action","1254336RFabxV","init","table","bind","radius","chain","__proto__","log","1596610PJreVY","exception"];return(R=function(){return t})()}const F=i({__name:z(301),setup(t){const o=z,s={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(303)](i,o(338),{label:o(308)}),c[o(303)](i,o(327),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(312)]({title:"点击左侧蓝色画框"}),(t,e)=>{const r=h(o(337));return l(),m(r,x(s,{"window-size":""}),{default:g((()=>[E,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),M,O,(l(),m(y,null,{default:g((()=>[v(U,b(w(i)),null,16)])),_:1}))])),_:1},16)}}});function W(t){function n(t){const e=P;if(typeof t===e(320))return function(t){}.constructor("while (true) {}")[e(334)](e(317));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(342))[e(298)](e(322)):function(){return!1}[e(299)]("debugger")[e(334)](e(302)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
