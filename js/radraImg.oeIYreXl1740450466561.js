import{a as t,m as n,o as e}from"./@tresjs.9lmhsV6t1740450466561.js";import{_ as o,b as r}from"./three.HaMTRCf61740450466561.js";import{_ as i,h as c}from"./three-tile.qtd5zYh41740450466561.js";import{_ as s,a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.x1w3FJkD1740450466561.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as d,r as g,b as y,f as b,g as _,j as I,m as w,al as x,F as j,e as v,aj as S,ak as T}from"./@vue.NRI7TcgI1740450466561.js";import{P as M}from"./tweakpane.yDiyAAkA1740450466561.js";import{_ as D}from"./informationDiv.fmEziYDr1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";import"./@fesjs.25ZLMwYe1740450466561.js";import"./vue-router.Ni9W6b_H1740450466561.js";import"./lodash-es.pklfUAS51740450466561.js";import"./@qlin.yHhFDldE1740450466561.js";import"./pinia.O-LUmvrn1740450466561.js";import"./@floating-ui.BPbuo5Gx1740450466561.js";import"./@juggle.7yjBMqoW1740450466561.js";const z=P;function k(){const t=["6951CZJwpK","DoubleSide","color","error","TresGroup","TresPlaneGeometry","info","radraImgShow","push","trace","rotateX","#include <displacementmap_vertex>","gger","210KbgJaZ","console","height","stateObject",'{}.constructor("return this")( )',"log","length","input","Texture","init","matrix","while (true) {}","position","2141328aHgKTl","9bMQagh","MeshPhongMaterial","3322840smXlKz","call","table","opacity","return (function() ","vertexShader","139264LUhPiT","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","applyMatrix4","action","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","686085ZYIvpG","debu","test","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniform sampler2D map;\n\t","251424fzSOry","position-y","apply","exception","geo2pos","chain","scaleImg","TresMesh","bind","constructor","map","needsUpdate","function *\\( *\\)","11520JUysTu","1692cpDkSF","prototype","warn","replace"];return(k=function(){return t})()}!function(t,n){const e=P,o=k();for(;;)try{if(175965===parseInt(e(529))/1+-parseInt(e(518))/2+parseInt(e(496))/3*(parseInt(e(542))/4)+parseInt(e(523))/5+parseInt(e(543))/6*(-parseInt(e(547))/7)+parseInt(e(509))/8+-parseInt(e(510))/9*(parseInt(e(512))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(531)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=P,n=new RegExp(t(541)),e=new RegExp(t(527),"i"),o=L(t(505));n[t(525)](o+t(534))&&e.test(o+t(503))?L():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(531)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=k();return(P=function(t,n){return e[t-=494]})(t,n)}G(void 0,(function(){const t=P;let n;try{n=Function(t(516)+t(500)+");")()}catch(r){n=window}const e=n[t(497)]=n[t(497)]||{},o=[t(501),t(545),t(553),t(550),t(532),t(514),t(556)];for(let i=0;i<o[t(502)];i++){const n=G.constructor[t(544)].bind(G),r=o[i],c=e[r]||n;n.__proto__=G[t(537)](G),n[t(526)]=c[t(526)][t(537)](c),e[r]=n}}))();const A=[z(508)],E=["scale","material",z(557),z(530)],F=u({__name:z(554),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=z;let i,c;const a=n,u=new(o[e(511)])({displacementMap:new(o[e(504)]),transparent:!0,side:o[e(548)],opacity:a[e(515)],displacementScale:.5,displacementBias:0});u.onBeforeCompile=t=>{const n=e;t.vertexShader=n(528)+t[n(517)],t.vertexShader=t.vertexShader[n(546)](n(494),n(519))};const g=a[e(539)][e(533)](new r(105,34,0));g[e(520)](a[e(539)][e(506)]);const y=s[e(535)](a[e(539)],{x:67,y:11},{x:140,y:57},a[e(498)]),b=[];for(let t=0;t<9;t++)b[e(555)](e(522)+t+"40.png");let _=0;const I=([i,c]=p((()=>t(b))),i=await i,c(),i);u[e(539)]=I[_],l((()=>[a[e(549)],a[e(515)]]),(([t,n])=>{u[e(515)]=n}));let w=null,x=!1;return x?(clearInterval(w),w=null,x=!1):(w=setInterval((()=>{const t=P;_=_<b[t(502)]-1?_+1:0,u.map=I[_],u[t(540)]=!0,console[t(501)](_)}),1e3),x=!0),(t,n)=>{const o=e;return f(),m(o(551),{position:[...d(g)]},[h(o(536),{scale:[d(y).x,d(y).y,t[o(498)]],material:d(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(498)]/5},n[0]||(n[0]=[h(o(552),{args:[1,1,529,420]},null,-1)]),8,E)],8,A)}}});function L(t){function n(t){const e=P;if("string"==typeof t)return function(t){}[e(538)](e(507))[e(531)]("counter");1!==(""+t/t)[e(502)]||t%20==0?function(){return!0}[e(538)](e(524)+e(495))[e(513)](e(521)):function(){return!1}[e(538)]("debu"+e(495)).apply(e(499)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=J;function Z(){const t=["value","position","string","plugin","apply","terrain-rgb","39246NvpxSD","geo2pos","input","action","mapbox.terrain-rgb","copy","透明度","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","opacity","test","info","trace","8677949lpGjAd","localToWorld","gger","return (function() ","primitive","function *\\( *\\)","mapbox.satellite","debu","counter","164hAooEi","145fBjfLL","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","log","2799764LPkchM","controlsEvents","table","TresDirectionalLight","image","stateObject","65526BYJdMS","MapBoxSource","bind","7911837PiIKfV","1204112jbVSGN","__proto__","length","while (true) {}","521438xWGbxQ","init","height","constructor","prototype","Vector3","error","target","TileMap","map","console","call","GDSource"];return(Z=function(){return t})()}!function(t,n){const e=J,o=Z();for(;;)try{if(724418===-parseInt(e(458))/1+parseInt(e(500))/2*(parseInt(e(477))/3)+parseInt(e(504))/4+-parseInt(e(501))/5*(parseInt(e(450))/6)+-parseInt(e(491))/7+parseInt(e(454))/8+parseInt(e(453))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=J,n=new RegExp(t(496)),e=new RegExp(t(485),"i"),o=$(t(459));n[t(488)](o+"chain")&&e.test(o+t(479))?$():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(475)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=J;let n;try{n=Function(t(494)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(468)]=n[t(468)]||{},o=[t(503),"warn",t(489),t(464),"exception",t(506),t(490)];for(let i=0;i<o[t(456)];i++){const n=U[t(461)][t(462)][t(452)](U),r=o[i],c=e[r]||n;n[t(455)]=U[t(452)](U),n[t(484)]=c.toString.bind(c),e[r]=n}}))();const C=["object"];function J(t,n){const e=Z();return(J=function(t,n){return e[t-=448]})(t,n)}const K=R(502),O=u({__name:"mapBoxShow3",setup(t){const e=R,u=g({height:200,opacity:1}),p=new M({title:"参数"});p[e(486)](u,e(460),{label:"高度",min:10,max:300,step:1}),p.addBinding(u,e(487),{label:e(483),min:0,max:1,step:.1}),new(i[e(474)][e(451)])({token:K,dataType:e(448),style:e(497)});const v=new c.MapBoxSource({token:K,dataType:e(476),style:e(481),maxLevel:15}),S=new(i[e(466)])({imgSource:[new(i[e(474)][e(470)])({style:"6"}),new(i[e(474)][e(470)])({style:"8"})],demSource:v,lon0:90,minLevel:2,maxLevel:20});S.rotateX(-Math.PI/2);const T=new(o[e(463)])(105,34,0),D=new r(110,0,1e4),z=S[e(492)](S[e(478)](T)),k=S[e(492)](S[e(478)](D)),B=y(),{camera:G,controls:P,scene:A,renderer:E}=n();return G[e(471)]&&G[e(471)][e(472)].copy(k),l((()=>P[e(471)]),(t=>{const n=e;t&&(t.target[n(482)](z),s[n(505)](t,G[n(471)],A[n(471)]))})),l((()=>B[e(471)]),(t=>{const n=e;t&&t[n(465)][n(472)][n(482)](z)})),a(G[e(471)],E.value.domElement,S),(t,n)=>{const o=e;return f(),m(j,null,[h(o(507),{ref_key:"tdLight",ref:B,position:[0,2e3,1e3],intensity:1},null,512),h(o(495),{object:d(S)},null,8,C),(f(),b(x,null,{default:_((()=>[I(F,w({map:d(S)},u),null,16,[o(467)])])),_:1}))],64)}}});function $(t){function n(t){const e=J;if(typeof t===e(473))return function(t){}.constructor(e(457))[e(475)](e(499));1!==(""+t/t).length||t%20==0?function(){return!0}[e(461)](e(498)+"gger")[e(469)](e(480)):function(){return!1}[e(461)](e(498)+e(493)).apply(e(449)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=X;!function(t,n){const e=X,o=W();for(;;)try{if(784537===parseInt(e(254))/1+parseInt(e(229))/2+parseInt(e(248))/3+-parseInt(e(250))/4+parseInt(e(237))/5+-parseInt(e(234))/6+-parseInt(e(230))/7)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(232)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Q(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(240),"i"),o=Y(t(245));n[t(253)](o+"chain")&&e[t(253)](o+"input")?Y():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(232)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["4319730OoHDCB","TresCanvas","log","6527630oqoVUR","#dbf0ff","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","call","bind","console","init","debu","warn","2217738gMTJmN","toString","5047684KFnyUh","TresPerspectiveCamera","length","test","611737GXGiSS","while (true) {}",'{}.constructor("return this")( )',"exception","prototype","info","return (function() ","trace","action","error","stateObject","radraImg","2220696hndFbD","7003108RiEtVz","table","apply","gger"];return(W=function(){return t})()}function X(t,n){const e=W();return(X=function(t,n){return e[t-=218]})(t,n)}V(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(223)+t(219)+");")()}catch(e){n=window}return n}(),e=n[t(244)]=n.console||{},o=[t(236),t(247),t(222),t(226),t(220),t(231),t(224)];for(let r=0;r<o[t(252)];r++){const n=V.constructor[t(221)].bind(V),i=o[r],c=e[i]||n;n[t(239)]=V[t(243)](V),n[t(249)]=c[t(249)][t(243)](c),e[i]=n}}))();const q=u({__name:H(228),setup(t){const n=H,o=g({clearColor:n(238),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const c=n,s=v(c(235));return f(),m(j,null,[I(s,w(o,{"window-size":""}),{default:_((()=>[i[0]||(i[0]=h(c(251),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),I(d(e),S(T(r)),null,16),i[1]||(i[1]=h("TresAmbientLight",{intensity:1},null,-1)),I(O)])),_:1},16),I(D)],64)}}});function Y(t){function n(t){const e=X;if(typeof t===e(241))return function(t){}.constructor(e(218))[e(232)]("counter");1!==(""+t/t)[e(252)]||t%20==0?function(){return!0}.constructor(e(246)+e(233))[e(242)](e(225)):function(){return!1}.constructor(e(246)+e(233))[e(232)](e(227)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
