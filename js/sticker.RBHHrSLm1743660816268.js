import"./index.T-vY6kZg1743660816268.js";import{m as e,e as a,D as s,a as t,o as r,J as i}from"./@tresjs.zc7faK4J1743660816268.js";import"./index.wgv4wbeG1743660816268.js";import{a5 as l,ab as n,ai as o}from"./three.2wx8FU0g1743660816268.js";import{M as u,a as p}from"./@pmndrs.z8R6f5wQ1743660816268.js";import{u as m}from"./index.S3VunCT71743660816268.js";import{d as v,v as d,q as g,s as c,o as j,H as h,u as f,a4 as _,f as M,g as y,N as b,j as T,al as k,e as x,aj as w,ak as L,F as C}from"./@vue.B5PFBfKs1743660816268.js";import{_ as P}from"./randomLoading.vue_vue_type_script_setup_true_lang.HuXlgv2z1743660816268.js";import"./utils.J8F9Jo-01743660816268.js";import"./@fesjs.9AUNBPBQ1743660816268.js";import"./vue-router.K4ys0Z-O1743660816268.js";import"./lodash-es.IJc9G_SW1743660816268.js";import"./@qlin.o0hjOMCg1743660816268.js";import"./pinia.0dYyFDku1743660816268.js";import"./@floating-ui.HzHndBae1743660816268.js";import"./@juggle.4EyLec-41743660816268.js";import"./three-mesh-ui.module._G62nyeC1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./object-hash.6N1Uf8kA1743660816268.js";import"./@amap.c8pGcSIC1743660816268.js";import"./jszip.rGR265Ak1743660816268.js";import"./starLoading.cJyZWFHa1743660816268.js";import"./cssLoaders.bhHKUWvv1743660816268.js";import"./bubbleLoading.rC3bW8Z-1743660816268.js";import"./yangyangLoading.yRjR1R_U1743660816268.js";const z=["side"],I=1024,R=v({__name:"stickerTransmisionMaterial",setup(s,{expose:t}){const r=d(),{extend:i,scene:o,renderer:v,camera:_}=e(),M=d();i({MeshTransmissionMaterial:u});const y=new p,{onBeforeLoop:b}=a(),T=m({width:I,height:I,isLoop:!1}),k=m({width:I,height:I,isLoop:!1});let x,w,L,C;return g((async()=>{await c(),r.value.buffer=k.value.texture,M.value=function(e,a){let s;return e.traverse((e=>{e.isMesh&&e.material&&e.material.uuid===a&&(s=e)})),s}(o.value,r.value.uuid)})),b((({elapsed:e})=>{r.value.time=e,r.value.buffer===k.value.texture&&M.value&&(L=v.value.toneMapping,x=o.value.background,w=r.value.envMapIntensity,C=M.value.material.side,M.value.material=y,v.value.setRenderTarget(T.value),v.value.render(o.value,_.value),M.value.material=r.value,M.value.material.thickness=0,M.value.material.buffer=T.value.texture,M.value.material.side=l,M.value.material.envMapIntensity=0,v.value.setRenderTarget(k.value),v.value.render(o.value,_.value),M.value.material.buffer=k.value.texture,M.value.material=r.value,M.value.material.thickness=0,M.value.material.side=C,M.value.material.envMapIntensity=w,o.value.background=x,v.value.setRenderTarget(null),v.value.toneMapping=L)})),t({root:r,constructor:u}),(e,a)=>(j(),h("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:r,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:f(n)},null,8,z))}}),q=["geometry","rotation"],B=v({__name:"stickerModel",async setup(e){let a,t;const{nodes:r}=([a,t]=_((()=>s("./plugins/eCommerce/model/pack.glb"))),a=await a,t(),a);return(e,a)=>(j(),M(k,null,{default:y((()=>[b("TresMesh",{geometry:f(r).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[T(R)],8,q)])),_:1}))}}),D=["map","side"],O=v({__name:"stickerLogo",async setup(e){let a,s;const r=([a,s]=_((()=>t(["logo.png"]))),a=await a,s(),a);return(e,a)=>(j(),M(k,null,{default:y((()=>[b("TresMesh",null,[a[0]||(a[0]=b("TresPlaneGeometry",null,null,-1)),b("TresMeshPhysicalMaterial",{map:f(r),transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:f(n)},null,8,D)])])),_:1}))}}),S=v({__name:"sticker",setup(e){const a={clearColor:"#333333",windowSize:!0,toneMapping:o,toneMappingExposure:.8,shadows:!0};return(e,s)=>{const t=x("TresCanvas");return j(),h(C,null,[T(f(P)),T(t,w(L(a)),{default:y((()=>[s[0]||(s[0]=b("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1)),T(f(r),{enableDamping:""}),s[1]||(s[1]=b("TresAmbientLight",{intensity:2},null,-1)),(j(),M(k,null,{default:y((()=>[T(B)])),_:1})),(j(),M(k,null,{default:y((()=>[T(O)])),_:1})),(j(),M(k,null,{default:y((()=>[T(f(i),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/",background:!1},null,8,["path"])])),_:1}))])),_:1},16)],64)}}});export{S as default};
