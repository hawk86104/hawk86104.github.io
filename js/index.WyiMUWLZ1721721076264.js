var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{ae as c,f as u,q as a,F as f,V as h,M as p,B as l,T as g,r as d,a as w,ab as I,aP as v,Y as y,ck as b}from"./three.fnkrvySq1721721076264.js";import{t as m}from"./@mapbox.64QnR_xr1721721076264.js";import{c as x,d as M,a as _}from"./three-mesh-bvh.TXD2-bq71721721076264.js";import{C as T}from"./three-custom-shader-material.UAECXI501721721076264.js";import"./object-hash.n-lQHd521721721076264.js";import"./@amap.b3gYyCW_1721721076264.js";import"./glsl-tokenizer.rVSxTaVo1721721076264.js";function j(t,n){const r=z();return(j=function(t,n){return r[t-=498]})(t,n)}const F=j;function z(){const t=["applyMatrix4","25jrgmJt","update","isDisposed","add","init","sort","matrixWorld","string","t_Matrix","isReady","intersectsBox","apply","bind","setFromObject","distanceToPoint","boundingBoxWorld","test","subdivide","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","34130FiCHRX","childrenTiles","makeRotationX","visible","constructor","exception","length","3762248GCtdsd","input","5866500jmxVGM","dispose","return (function() ",'{}.constructor("return this")( )',"prototype","filter","console","gger","provider","function *\\( *\\)","ready","toString","info","1306104DWYfRa","34374PtOxiT","abort","tileNo","simplify","4691538wWjEVo","407492uYfjWp","warn","uniforms","counter","table","maxZoom","debu","155fEFzzh","map","remove","freeze","content","while (true) {}","forEach","15uGmWFb","pow","error","parentTile","__proto__"];return(z=function(){return t})()}!function(t,n){const r=j,e=z();for(;;)try{if(312346===parseInt(r(525))/1*(-parseInt(r(545))/2)+-parseInt(r(519))/3*(-parseInt(r(505))/4)+parseInt(r(512))/5*(-parseInt(r(500))/6)+-parseInt(r(552))/7+-parseInt(r(499))/8+parseInt(r(504))/9+parseInt(r(554))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const R=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){R(this,(function(){const t=j,n=new RegExp(t(563)),r=new RegExp(t(544),"i"),e=P(t(529));n[t(541)](e+"chain")&&r[t(541)](e+t(553))?P():e("0")}))()}();const k=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();k(void 0,(function(){const t=j;let n;try{n=Function(t(556)+t(557)+");")()}catch(o){n=window}const r=n[t(560)]=n[t(560)]||{},e=[t(543),t(506),t(498),t(521),t(550),t(509),"trace"];for(let i=0;i<e[t(551)];i++){const n=k[t(549)][t(558)][t(537)](k),o=e[i],s=r[o]||n;n[t(523)]=k[t(537)](k),n[t(565)]=s.toString[t(537)](s),r[o]=n}}))();class A extends c{constructor(){const t=j;super(),this[t(527)]=!1,this[t(534)]=!1,this.childrenTiles=[],this.boundingBoxWorld=new u}[F(529)](t,n,r){const e=F;this.tileNo=t,Object[e(515)](this.tileNo),this[e(513)]=n,this[e(522)]=r,this[e(548)]=!1,this.renderOrder=t[2],this[e(564)]()}async ready(){const t=F;if(this[t(516)]=await this[t(513)][t(562)].getTile(this.tileNo),!this[t(527)]){if(this[t(528)](this[t(516)]),this[t(540)][t(538)](this.content)[t(524)](this[t(531)][t(547)](-Math.PI/2)),this.map[t(528)](this),this.visible=!0,this[t(534)]=!0,this[t(522)]){const n=this[t(522)][t(546)];let r=0;for(let e=0;e<n[t(551)];e++)n[e][t(534)]&&r++;4===r&&(this[t(522)][t(548)]=!1)}this[t(526)]()}}[F(526)](){const t=F;if(!this[t(534)]||this.isDisposed)return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(513)];if(!n[t(535)](this[t(540)]))return void this.simplify();this[t(516)]instanceof a&&this.map[t(562)][t(559)]&&(this[t(516)].material[t(507)][t(533)].value=this.map[t(562)].getTranMatrix());let e=this.boundingBoxWorld[t(539)](r);const o=this.tileNo[2];e/=Math[t(520)](2,this[t(513)][t(562)][t(510)]-o),e<60&&this[t(542)](),e>80&&this[t(503)]();this.childrenTiles[t(530)](((n,e)=>n[t(540)].distanceToPoint(r)-e[t(540)].distanceToPoint(r)))[t(518)]((n=>n[t(526)]()))}subdivide(){const t=F,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(551)]>0||i>=e.maxZoom)return;m.getChildren(r)[t(518)]((t=>{const n=new A;n.init(t,e,this),o.push(n)}))}[F(503)](){const t=F;this[t(546)].forEach((t=>t.dispose())),this.childrenTiles=[],this[t(548)]=!0}[F(555)](){const t=F;this[t(513)][t(514)](this),this[t(513)].provider[t(501)](this[t(502)]),this.childrenTiles[t(518)]((n=>n[t(555)]())),this[t(546)]=[],this[t(522)]=void 0,this.content&&(this[t(513)][t(562)].dispose(this[t(502)],this.content),this[t(516)]=void 0),this[t(527)]=!0}}function P(t){function n(t){const r=j;if(typeof t===r(532))return function(t){}[r(549)](r(517))[r(536)](r(508));1!==(""+t/t)[r(551)]||t%20==0?function(){return!0}[r(549)]("debu"+r(561)).call("action"):function(){return!1}.constructor(r(511)+"gger")[r(536)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Z=C;!function(t,n){const r=C,e=W();for(;;)try{if(628016===parseInt(r(202))/1+parseInt(r(184))/2+-parseInt(r(210))/3*(parseInt(r(227))/4)+parseInt(r(239))/5+-parseInt(r(240))/6+parseInt(r(188))/7+parseInt(r(226))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const E=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(222)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){E(this,(function(){const t=C,n=new RegExp(t(233)),r=new RegExp(t(230),"i"),e=B(t(244));n[t(216)](e+t(243))&&r[t(216)](e+t(232))?B():e("0")}))()}();const O=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(222)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function W(){const t=["equals","action","cameraWorldPosition","copy","124316cTexVs","rootForward needs to be 0 - 3.","debu","visible","cameraProjectionMatrix","forEach","rootForward","raycast","3rIEhgU","computeBoundsTree","gger","prototype","error","projectionMatrix","test","maxZoom","counter","call","console",'{}.constructor("return this")( )',"apply","stateObject","length","warn","8852784nyrcgP","3065448SDuygh","regenerate","lastCameraWorldPosition","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","input","function *\\( *\\)","exception","dispose","trace","getWorldPosition","multiplyMatrices","1714505hRAsyl","4819464SKzdZy","push","lastCameraProjectionMatrix","chain","init","bbox","setFromProjectionMatrix","camera","toString","281696ZPLeKF","log","info","update","3380713wMbHjM","matrixWorldInverse","[Map.dispose] Method not implemented.","constructor","string","while (true) {}","initRootTiles","rootTiles","cameraFrustum","__proto__"];return(W=function(){return t})()}O(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function("return (function() "+t(221)+");")()}catch(r){n=window}return n}(),r=n[t(220)]=n[t(220)]||{},e=[t(185),t(225),t(186),t(214),t(234),"table",t(236)];for(let o=0;o<e.length;o++){const n=O.constructor[t(213)].bind(O),i=e[o],s=r[i]||n;n[t(197)]=O[t(231)](O),n[t(183)]=s[t(183)].bind(s),r[i]=n}}))();let S=class extends c{constructor(){const t=C;super(),this[t(180)]=[74.390592,6.900905,134.071423,54.318199],this[t(217)]=20,this[t(208)]=0,this.cameraFrustum=new f,this[t(200)]=new h,this[t(206)]=new p,this[t(242)]=new p,this[t(229)]=new h,this[t(195)]=[],this.lastUpdateTime=0,!l.prototype.computeBoundsTree&&(l[t(213)][t(211)]=x),!l.prototype.disposeBoundsTree&&(l[t(213)].disposeBoundsTree=M),a[t(213)][t(209)]=_}[Z(194)](){const t=Z;this[t(208)]>3&&(console[t(225)](t(203)),this[t(208)]=3),this.rootForward<0&&(console.warn(t(203)),this[t(208)]=0);const n=[];let r=[m.bboxToTile(this.bbox)],e=this[t(208)];for(;e>0;){const n=[...r];r=[],n[t(207)]((n=>{const e=t,o=m.getChildren(n);r[e(241)](...o)})),e--}n.push(...r),n[t(207)]((n=>{const r=t,e=new A;e[r(244)](n,this),this.rootTiles[r(241)](e)}))}[Z(187)](){const t=Z;if(!this[t(205)]||!this[t(182)])return;const n=Date.now();n-this.lastUpdateTime<300||(0!==this[t(195)][t(224)]?(this[t(182)][t(237)](this.cameraWorldPosition),this[t(206)][t(238)](this.camera[t(215)],this[t(182)][t(189)]),this[t(200)][t(198)](this[t(229)])&&this[t(206)].equals(this[t(242)])||(this[t(196)][t(181)](this[t(206)]),this[t(195)][t(207)]((t=>t.update())),this[t(242)][t(201)](this[t(206)]),this[t(229)][t(201)](this[t(200)]),this.lastUpdateTime=n)):this[t(194)]())}[Z(235)](){throw new Error(Z(190))}[Z(228)](){throw new Error("[Map.regenerate] Method not implemented.")}};function C(t,n){const r=W();return(C=function(t,n){return r[t-=180]})(t,n)}function B(t){function n(t){const r=C;if(typeof t===r(192))return function(t){}[r(191)](r(193))[r(222)](r(218));1!==(""+t/t)[r(224)]||t%20==0?function(){return!0}[r(191)](r(204)+"gger")[r(219)](r(199)):function(){return!1}.constructor("debu"+r(212)).apply(r(223)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const U=N;!function(t,n){const r=N,e=G();for(;;)try{if(515041===-parseInt(r(516))/1*(parseInt(r(505))/2)+parseInt(r(499))/3*(-parseInt(r(496))/4)+-parseInt(r(478))/5*(parseInt(r(476))/6)+parseInt(r(504))/7*(-parseInt(r(500))/8)+-parseInt(r(522))/9+parseInt(r(498))/10+parseInt(r(529))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const D=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function N(t,n){const r=G();return(N=function(t,n){return r[t-=475]})(t,n)}!function(){D(this,(function(){const t=N,n=new RegExp(t(494)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=J(t(510));n[t(507)](e+"chain")&&r[t(507)](e+t(515))?J():e("0")}))()}();const $=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[N(481)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();$(void 0,(function(){const t=N;let n;try{n=Function(t(483)+t(489)+");")()}catch(o){n=window}const r=n[t(488)]=n[t(488)]||{},e=[t(482),t(487),t(509),t(493),"exception",t(490),t(527)];for(let i=0;i<e.length;i++){const n=$[t(519)].prototype[t(484)]($),o=e[i],s=r[o]||n;n.__proto__=$[t(484)]($),n[t(491)]=s[t(491)][t(484)](s),r[o]=n}}))();const q=class t{constructor(){const t=N;this[t(495)]=new AbortController,this[t(511)]=new Set}[U(508)](c,u={}){const a=U;var f,h;t[a(477)][a(525)](c)||(t[a(477)][a(526)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(495)][a(480)]},n(f,r(h)))).then((t=>{const n=a;this[n(511)][n(479)]((r=>r[n(506)](t[n(514)]())))}))[a(513)]((t=>{this.listeners.forEach((n=>n.reject(t)))})).finally((()=>{t[a(477)].delete(c)})))}[U(501)](){const t=U;this[t(495)][t(501)]()}};q[U(477)]=new Map;let V=q;function G(){const t=["size","error","function *\\( *\\)","_controller","1052924KWtIxM","reject","2449980RWVwyy","3syCTFi","2081400tNZXWd","abort","get","while (true) {}","7qqtiwz","359386WZKDfc","resolve","test","fetch","info","init","listeners","User abort.","catch","clone","input","1MpferM","debu","add","constructor","url","length","2514537ogYpTc","gger","counter","has","set","trace","string","20244147MtDcin","promise","3012ARKmdm","pendings","5855rvBleq","forEach","signal","apply","log","return (function() ","bind","call","ready","warn","console",'{}.constructor("return this")( )',"table","toString"];return(G=function(){return t})()}class K{constructor(t,n){const r=U;this.url=t,this[r(510)]=n,this[r(475)]=new Promise(((t,n)=>{const e=r;this[e(506)]=t,this[e(497)]=n}))}[U(486)](){const t=U;let n=V[t(477)].get(this[t(520)]);return!n&&(n=new V,n[t(508)](this.url,this[t(510)])),n[t(511)][t(518)](this),this.promise}[U(501)](){const t=U;this[t(497)](t(512));const n=V.pendings[t(502)](this[t(520)]);n&&(n[t(511)].delete(this),0===n[t(511)][t(492)]&&n[t(501)]())}}function J(t){function n(t){const r=N;if(typeof t===r(528))return function(t){}[r(519)](r(503))[r(481)](r(524));1!==(""+t/t)[r(521)]||t%20==0?function(){return!0}[r(519)](r(517)+r(523))[r(485)]("action"):function(){return!1}[r(519)](r(517)+r(523)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=Y,e=L();for(;;)try{if(741055===parseInt(r(502))/1+-parseInt(r(506))/2+parseInt(r(499))/3*(-parseInt(r(490))/4)+parseInt(r(523))/5*(-parseInt(r(528))/6)+parseInt(r(539))/7+parseInt(r(521))/8+parseInt(r(504))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const H=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Y(534)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){H(this,(function(){const t=Y,n=new RegExp(t(520)),r=new RegExp(t(540),"i"),e=tt(t(537));n[t(509)](e+"chain")&&r[t(509)](e+t(512))?tt():e("0")}))()}();const X=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Y(534)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Y(t,n){const r=L();return(Y=function(t,n){return r[t-=490]})(t,n)}let Q;function L(){const t=["console","1047711xujnwj","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2178124cmknFK","prototype","gger","fillText","__proto__","call","exception","flipY","strokeStyle","3tCxTDI","table","trace","958645xHbVel","bind","11984139Uhrclg","20px Arial","1293786zToDgi","drawImage","counter","test","action","warn","input","stroke","info","constructor","return (function() ","error","#00FFFF","log","function *\\( *\\)","6453728HhaNNt","fillStyle","2190210wHMtDl","#FF4444","font","stateObject","debu","18jpcmQn","while (true) {}",'{}.constructor("return this")( )',"#66AAFF","toString","blob","apply","length","getContext","init"];return(L=function(){return t})()}function tt(t){function n(t){const r=Y;if("string"==typeof t)return function(t){}[r(515)](r(529))[r(534)](r(508));1!==(""+t/t)[r(535)]||t%20==0?function(){return!0}.constructor(r(527)+r(492))[r(495)](r(510)):function(){return!1}[r(515)](r(527)+r(492))[r(534)](r(526)),n(++t)}try{if(t)return n;n(0)}catch(r){}}X(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(516)+t(530)+");")()}catch(r){n=window}return n}(),r=n[t(538)]=n[t(538)]||{},e=[t(519),t(511),t(514),t(517),t(496),t(500),t(501)];for(let o=0;o<e[t(535)];o++){const n=X.constructor[t(491)][t(503)](X),i=e[o],s=r[i]||n;n[t(494)]=X.bind(X),n[t(532)]=s[t(532)][t(503)](s),r[i]=n}}))();const nt=et;!function(t,n){const r=et,e=it();for(;;)try{if(742042===-parseInt(r(245))/1*(-parseInt(r(223))/2)+-parseInt(r(239))/3*(-parseInt(r(224))/4)+parseInt(r(228))/5+parseInt(r(221))/6+parseInt(r(225))/7+parseInt(r(234))/8+-parseInt(r(204))/9*(parseInt(r(227))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[et(238)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function et(t,n){const r=it();return(et=function(t,n){return r[t-=204]})(t,n)}!function(){rt(this,(function(){const t=et,n=new RegExp(t(244)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=ct(t(229));n[t(211)](e+"chain")&&r[t(211)](e+"input")?ct():e("0")}))()}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function it(){const t=["counter","4JrQoAW","720zLWJcJ","2046212yeGKcC","clear","1244960yJlTEP","5011460hzHtJk","init","action","onMessage","terminate","toString","3549424xxjnPa","bind","set","trace","apply","16701CQUFgP","log","prototype","string","delete","function *\\( *\\)","737683OWaAtw","342yTKTYn","data","postMessage","get","exception","terminated","constructor","test","gger","onmessage","warn","debu","length","map","while (true) {}","console","worker","7543068cxNjXO"];return(it=function(){return t})()}ot(void 0,(function(){const t=et,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n[t(219)]=n[t(219)]||{},e=[t(240),t(214),"info","error",t(208),"table",t(237)];for(let o=0;o<e[t(216)];o++){const n=ot.constructor[t(241)].bind(ot),i=e[o],s=r[i]||n;n.__proto__=ot[t(235)](ot),n[t(233)]=s[t(233)][t(235)](s),r[i]=n}}))();class st{constructor(t){const n=et;this.terminated=!0,this.map=new Map,this[n(220)]=new t,this[n(220)][n(213)]=this[n(231)][n(235)](this),this[n(209)]=!1}async[nt(206)](t){const n=nt;if(!this[n(209)])return this[n(220)].postMessage(t),new Promise(((r,e)=>{const o=n;this[o(217)][o(236)](t.id,r)}))}[nt(231)](t){const n=nt,{id:r,error:e}=t[n(205)],o=this[n(217)][n(207)](r);o&&!e&&o(t[n(205)]),this[n(217)][n(243)](r)}terminate(){const t=nt;this.worker[t(213)]=null,this[t(220)][t(232)](),this.terminated=!0,this[t(217)][t(226)]()}}function ct(t){function n(t){const r=et;if(typeof t===r(242))return function(t){}[r(210)](r(218))[r(238)](r(222));1!==(""+t/t)[r(216)]||t%20==0?function(){return!0}.constructor(r(215)+r(212)).call(r(230)):function(){return!1}[r(210)](r(215)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=pt;!function(t,n){const r=pt,e=lt();for(;;)try{if(463125===-parseInt(r(258))/1+-parseInt(r(238))/2*(-parseInt(r(229))/3)+-parseInt(r(228))/4+-parseInt(r(227))/5*(parseInt(r(241))/6)+parseInt(r(276))/7+parseInt(r(242))/8+-parseInt(r(253))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ft=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ft(this,(function(){const t=pt,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=dt(t(274));n[t(269)](e+t(261))&&r[t(269)](e+"input")?dt():e("0")}))()}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function pt(t,n){const r=lt();return(pt=function(t,n){return r[t-=224]})(t,n)}function lt(){const t=["714925RFdciO","1203764OPQBwY","5793CBFdrh","indexOf","showTileNo","delete","useWorker","[x]","[y]","fetching","bind","604Ixzhqi","toString","return (function() ","12VoUBov","2741824yEnBvi","info","gger","bitmap","length","replace","debu","_worker","anisotropy","postMessage","needsUpdate","5658399qZAjMU","image","error","exception","console","80411jBlTYb","force-cache","cors","chain","__proto__","apply","dispose","string","getTile","{y}","maxZoom","test","getId","[z]","_useWorker",'{}.constructor("return this")( )',"init","prototype","5832876ylFJUG","trace","abort","set","constructor","stateObject","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","action","source"];return(lt=function(){return t})()}ht(void 0,(function(){const t=pt;let n;try{n=Function(t(240)+t(273)+");")()}catch(o){n=window}const r=n.console=n[t(257)]||{},e=["log","warn",t(243),t(255),t(256),"table",t(277)];for(let i=0;i<e[t(246)];i++){const n=ht[t(280)][t(275)].bind(ht),o=e[i],s=r[o]||n;n[t(262)]=ht[t(237)](ht),n[t(239)]=s[t(239)][t(237)](s),r[o]=n}}))();class gt{constructor(){const t=pt;this[t(268)]=20,this[t(226)]=t(224),this.showTileNo=!1,this[t(272)]=!1,this.fetching=new Map}set useWorker(t){var n;const r=pt;this[r(272)]=t,!this._useWorker&&(null==(n=this[r(249)])||n.terminate(),this[r(249)]=void 0)}get[at(233)](){return this._useWorker}async[at(266)](t){const n=at,r=this.getUrl(t),e=new g;if(this._useWorker){!this._worker&&(this[n(249)]=new st(ut));const o=this[n(270)](t),i=await this._worker[n(251)]({id:o,tileNo:t,url:r,debug:this[n(231)]});e[n(254)]=i[n(245)]}else{const o=new K(r,{cache:n(259),mode:n(260)});this.fetching[n(279)](t,o);try{e.image=await async function(t,n,r=!1){const e=Y,o=await n.ready(),i=await o[e(533)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(497)});if(!r)return s;!Q&&(Q=new OffscreenCanvas(256,256));const c=Q[e(536)]("2d");if(!c)throw new Error('Offscreencanvas.getContext("2d") error!');const{width:u,height:a}=Q;return c[e(507)](s,0,0),c.rect(0,0,u,a),c[e(498)]=e(518),c[e(525)]=e(505),c[e(513)](),c[e(522)]=e(524),c[e(493)](""+t[0],10,30),c[e(522)]="#44FF44",c[e(493)](""+t[1],10,55),c[e(522)]=e(531),c[e(493)](""+t[2],10,80),await createImageBitmap(Q,{imageOrientation:e(497)})}(t,o,this[n(231)])}finally{this[n(236)][n(232)](t)}}return e[n(252)]=!0,e[n(250)]=4,e}[at(278)](t){var n;const r=at;if(this[r(272)])null==(n=this[r(249)])||n[r(251)]({id:this.getId(t),abort:!0});else{const n=this[r(236)].get(t);n&&n.abort(),this[r(236)][r(232)](t)}}[at(264)](t,n){n[at(264)]()}[at(270)](t){return t.join("-")}getUrl(t){const n=at,[r,e,o]=t;return-1===this.source[n(230)](n(234))?this[n(226)][n(247)]("{x}",r+"")[n(247)](n(267),e+"").replace("{z}",o+""):this[n(226)][n(247)]("[x]",r+"").replace(n(235),e+"")[n(247)](n(271),o+"")}}function dt(t){function n(t){const r=pt;if(typeof t===r(265))return function(t){}[r(280)]("while (true) {}")[r(263)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(280)](r(248)+r(244)).call(r(225)):function(){return!1}[r(280)](r(248)+r(244))[r(263)](r(281)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const wt=vt;!function(t,n){const r=vt,e=xt();for(;;)try{if(650788===-parseInt(r(214))/1*(-parseInt(r(178))/2)+parseInt(r(189))/3*(parseInt(r(180))/4)+parseInt(r(194))/5+-parseInt(r(210))/6+parseInt(r(205))/7+-parseInt(r(209))/8*(parseInt(r(208))/9)+-parseInt(r(222))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const It=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[vt(215)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function vt(t,n){const r=xt();return(vt=function(t,n){return r[t-=174]})(t,n)}!function(){It(this,(function(){const t=vt,n=new RegExp(t(206)),r=new RegExp(t(199),"i"),e=Pt("init");n[t(186)](e+"chain")&&r[t(186)](e+"input")?Pt():e("0")}))()}();const yt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[vt(215)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();yt(void 0,(function(){const t=vt,n=function(){const t=vt;let n;try{n=Function("return (function() "+t(193)+");")()}catch(r){n=window}return n}(),r=n[t(221)]=n.console||{},e=["log",t(223),t(190),t(176),t(217),t(183),t(192)];for(let o=0;o<e[t(181)];o++){const n=yt[t(196)][t(184)].bind(yt),i=e[o],s=r[i]||n;n.__proto__=yt[t(185)](yt),n[t(200)]=s[t(200)].bind(s),r[i]=n}}))();const bt=wt(195),mt="merc";function xt(){const t=["string","atan2","’ outside UTM limits","stateObject","4856180MfNGdM","function *\\( *\\)","sqrt","2153610xUYjNo","8gjCyVw","1177380HYjXiI","action","cosh","tan","50fOXnKF","apply","atan","exception","atanh","tanh","cos","console","5536350FAgugi","warn","gger","floor","error","sin","884BVoviZ","debu","4ITRwNg","length","counter","table","prototype","bind","test","log","asinh","2294493HdKsyS","info","toFixed","trace",'{}.constructor("return this")( )',"796360lpiakB","utm","constructor","exp","sinh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString"];return(xt=function(){return t})()}const Mt=6378137,_t=Math.PI/180;function Tt(t,n){const r=wt;return[Mt*t*_t,Mt*Math[r(187)](Math[r(213)](.25*Math.PI+n*_t*.5))]}function jt(t,n){const r=wt;let e=t/(Mt*Math.PI)*180,o=n/(Mt*Math.PI)*180;return o=180/Math.PI*(2*Math[r(216)](Math[r(197)](o*Math.PI/180))-Math.PI/2),[e,o]}function Ft(t){return t*Math.PI/180}function zt(t){return 180*t/Math.PI}const Rt={a:6378137,b:6356752.314245,f:1/298.257223563};function kt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError("latitude ‘"+n+e(203));let o=r||Math[e(175)]((t+180)/6)+1,i=Ft(6*(o-1)-180+3);const s="CDEFGHJKLMNPQRSTUVWXX".charAt(Math.floor(n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Ft(6)):32===o&&"X"===s&&t<9?(o--,i-=Ft(6)):32===o&&"X"===s&&t>=9?(o++,i+=Ft(6)):34===o&&"X"===s&&t<21?(o--,i-=Ft(6)):34===o&&"X"===s&&t>=21?(o++,i+=Ft(6)):36===o&&"X"===s&&t<33?(o--,i-=Ft(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Ft(6));const c=Ft(n),u=Ft(t)-i,{a:a,f:f}=Rt,h=.9996,p=Math[e(207)](f*(2-f)),l=f/(2-f),g=l*l,d=l*g,w=l*d,I=l*w,v=l*I,y=Math.cos(u),b=Math[e(177)](u),m=Math[e(213)](c),x=Math[e(198)](p*Math[e(218)](p*m/Math.sqrt(1+m*m))),M=m*Math.sqrt(1+x*x)-x*Math.sqrt(1+m*m),_=Math.atan2(M,y),T=Math[e(188)](b/Math[e(207)](M*M+y*y)),j=a/(1+l)*(1+1/4*g+1/64*w+1/256*v),F=[null,.5*l-2/3*g+5/16*d+41/180*w-127/288*I+7891/37800*v,13/48*g-.6*d+557/1440*w+281/630*I-1983433/1935360*v,61/240*d-103/140*w+15061/26880*I+167603/181440*v,49561/161280*w-179/168*I+6601661/7257600*v,34729/80640*I-3418889/1995840*v,.6650675310896665*v];let z=_;for(let P=1;P<=6;P++)z+=F[P]*Math[e(177)](2*P*_)*Math[e(212)](2*P*T);let R=T;for(let P=1;P<=6;P++)R+=F[P]*Math.cos(2*P*_)*Math[e(198)](2*P*T);let k=h*j*R,A=h*j*z;return k+=5e5,A<0&&(A+=1e7),[k,A]}function At(t,n,r){const e=wt,o=r||50,{a:i,f:s}=Rt,c=.9996,u=t-5e5,a=n,f=Math[e(207)](s*(2-s)),h=s/(2-s),p=h*h,l=h*p,g=h*l,d=h*g,w=h*d,I=i/(1+h)*(1+1/4*p+1/64*g+1/256*w),v=u/(c*I),y=a/(c*I),b=[null,.5*h-2/3*p+37/96*l-1/360*g-81/512*d+96199/604800*w,1/48*p+1/15*l-437/1440*g+46/105*d-1118711/3870720*w,17/480*l-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=y;for(let W=1;W<=6;W++)m-=b[W]*Math.sin(2*W*y)*Math[e(212)](2*W*v);let x=v;for(let W=1;W<=6;W++)x-=b[W]*Math[e(220)](2*W*y)*Math[e(198)](2*W*v);const M=Math[e(198)](x),_=Math[e(177)](m),T=Math[e(220)](m),j=_/Math.sqrt(M*M+T*T);let F=null,z=j;do{const t=Math.sinh(f*Math[e(218)](f*z/Math[e(207)](1+z*z))),n=z*Math[e(207)](1+t*t)-t*Math.sqrt(1+z*z);F=(j-n)/Math[e(207)](1+n*n)*(1+(1-f*f)*z*z)/((1-f*f)*Math[e(207)](1+z*z)),z+=F}while(Math.abs(F)>1e-12);const R=z,k=Math[e(216)](R);let A=Math[e(202)](M,T),P=1;for(let W=1;W<=6;W++)P-=2*W*b[W]*Math[e(220)](2*W*y)*Math.cosh(2*W*v);let Z=0;for(let W=1;W<=6;W++)Z+=2*W*b[W]*Math.sin(2*W*y)*Math[e(198)](2*W*v);Math[e(216)](Math[e(213)](m)*Math[e(219)](x)),Math[e(202)](Z,P);const E=Math[e(177)](k);Math.sqrt(1-f*f*E*E),Math[e(207)](1+R*R),Math.sqrt(M*M+T*T),Math[e(207)](P*P+Z*Z);A+=Ft(6*(o-1)-180+3);const O=Number(zt(k)[e(191)](14));return[Number(zt(A)[e(191)](14)),O]}function Pt(t){function n(t){const r=vt;if(typeof t===r(201))return function(t){}.constructor("while (true) {}")[r(215)](r(182));1!==(""+t/t)[r(181)]||t%20==0?function(){return!0}[r(196)](r(179)+"gger").call(r(211)):function(){return!1}[r(196)](r(179)+r(174))[r(215)](r(204)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Zt=Ct;function Et(){const t=["getTile","info","function *\\( *\\)","abort","length","position","chain","1514358WRiAxE","console","50JVIkIp","constructor","1691340VToVjb","table","while (true) {}","utmZone","21wOjdgW","string","27680EQFHJg","test","exception","convertCoordinate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","dispose","toString","gger","return (function() ",'{}.constructor("return this")( )',"416615ZqsvRn","20773qUeGsT","counter","apply","3BDtMMw","112664SwWFBA","3684267xIYflp","warn","log","prototype","__proto__","debu","input","init","coordType","bind","stateObject","maxZoom"];return(Et=function(){return t})()}!function(t,n){const r=Ct,e=Et();for(;;)try{if(345719===-parseInt(r(442))/1*(parseInt(r(423))/2)+parseInt(r(445))/3*(-parseInt(r(431))/4)+parseInt(r(441))/5+parseInt(r(421))/6+parseInt(r(429))/7*(-parseInt(r(446))/8)+parseInt(r(447))/9+parseInt(r(425))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Ot(this,(function(){const t=Ct,n=new RegExp(t(416)),r=new RegExp(t(435),"i"),e=Bt(t(454));n[t(432)](e+t(420))&&r[t(432)](e+t(453))?Bt():e("0")}))()}();const Wt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Wt(void 0,(function(){const t=Ct,n=function(){const t=Ct;let n;try{n=Function(t(439)+t(440)+");")()}catch(r){n=window}return n}(),r=n[t(422)]=n[t(422)]||{},e=[t(449),t(448),t(415),"error",t(433),t(426),"trace"];for(let o=0;o<e[t(418)];o++){const n=Wt[t(424)][t(450)][t(456)](Wt),i=e[o],s=r[i]||n;n[t(451)]=Wt[t(456)](Wt),n[t(437)]=s.toString[t(456)](s),r[i]=n}}))();class St{constructor(){const t=Ct;this[t(428)]=50,this[t(455)]=bt,this[t(458)]=20}async[Zt(459)](t){const n=Zt,r=new d,e=m.tileToBBOX(t),o=this[n(434)](e[0],e[3]),i=this.convertCoordinate(e[2],e[3]),s=this[n(434)](e[0],e[1]),c=this[n(434)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r.setAttribute(n(419),new w(u,3)),r}[Zt(417)](t){}[Zt(436)](t,n){n[Zt(436)]()}[Zt(434)](t,n){const r=Zt;return this[r(455)]===bt?kt(t,n,this[r(428)]):Tt(t,n)}}function Ct(t,n){const r=Et();return(Ct=function(t,n){return r[t-=415]})(t,n)}function Bt(t){function n(t){const r=Ct;if(typeof t===r(430))return function(t){}[r(424)](r(427))[r(444)](r(443));1!==(""+t/t)[r(418)]||t%20==0?function(){return!0}[r(424)](r(452)+r(438)).call("action"):function(){return!1}[r(424)](r(452)+r(438))[r(444)](r(457)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Ut(t){return new Worker(""+new URL("../static/MartiniWorker-uKVHd6U7.js",import.meta.url).href,{name:null==t?void 0:t.name})}function Dt(t,n){const r=Vt();return(Dt=function(t,n){return r[t-=387]})(t,n)}const Nt=Dt;!function(t,n){const r=Dt,e=Vt();for(;;)try{if(507334===parseInt(r(437))/1*(parseInt(r(419))/2)+parseInt(r(418))/3*(-parseInt(r(402))/4)+-parseInt(r(413))/5+parseInt(r(412))/6+parseInt(r(411))/7*(-parseInt(r(441))/8)+-parseInt(r(407))/9*(-parseInt(r(414))/10)+parseInt(r(397))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $t=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Dt(396)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){$t(this,(function(){const t=Dt,n=new RegExp(t(405)),r=new RegExp(t(430),"i"),e=Kt("init");n[t(423)](e+"chain")&&r[t(423)](e+t(404))?Kt():e("0")}))()}();const qt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Dt(396)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Vt(){const t=["2261776wDvsmA","gger","stateObject","utmZone","position","toString","getId","dispose","warn","prototype","length","triangles","while (true) {}","[x]","apply","532191wpUwRf","getUrl","action","coordType","positions","4aMGIqo","_useWorker","input","function *\\( *\\)","replace","21582uMOWiA","maxZoom","bind","getInMainThread","7VRcDmO","52236FgClNH","1022075jtPAXk","3820xzmBQG","constructor","call","postMessage","1368897kyDMBP","254VboUlO","debu","setAttribute","source","test","__proto__","console","terminate","counter","_worker","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getInWorkerThread","[z]","abort","log","join","setIndex","3761oIknid","table","string","useWorker"];return(Vt=function(){return t})()}qt(void 0,(function(){const t=Dt;let n;try{n=Function(t(429)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(425)]=n.console||{},e=[t(434),t(390),"info","error","exception",t(438),"trace"];for(let i=0;i<e[t(392)];i++){const n=qt[t(415)][t(391)][t(409)](qt),o=e[i],s=r[o]||n;n[t(424)]=qt[t(409)](qt),n[t(387)]=s[t(387)][t(409)](s),r[o]=n}}))();class Gt{constructor(){const t=Dt;this[t(408)]=12,this.coordType=bt,this[t(444)]=50,this[t(403)]=!0,this[t(422)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp"}set[Nt(440)](t){var n;const r=Nt;this._useWorker=t,!this._useWorker&&(null==(n=this[r(428)])||n[r(426)](),this[r(428)]=void 0)}get[Nt(440)](){return this[Nt(403)]}async getTile(t){const n=Nt;return this[n(403)]?this[n(431)](t):this[n(410)]()}async[Nt(410)](){return new l}async[Nt(431)](t){const n=Nt;!this[n(428)]&&(this._worker=new st(Ut));const r={tileNo:t,id:this[n(388)](t),url:this.getUrl(t),maxZ:this.maxZoom,coordType:this[n(400)],utmZone:this[n(444)]},e=await this[n(428)][n(417)](r),o=new l;return o[n(421)](n(445),new w(e[n(401)],3)),o.setAttribute("uv",new w(e.uv,2)),o[n(436)](new w(e[n(393)],1)),o}async[Nt(433)](t){var n;const r=Nt;this._useWorker&&(null==(n=this[r(428)])||n[r(417)]({id:this[r(388)](t),abort:!0}))}async[Nt(389)](t,n){var r;const e=Nt;n[e(389)](),this[e(403)]&&(null==(r=this[e(428)])||r[e(417)]({id:this[e(388)](t),dispose:!0}))}getId(t){return t[Nt(435)]("-")}[Nt(398)](t){const n=Nt,[r,e,o]=t;return this[n(422)][n(406)](n(395),r+"")[n(406)]("[y]",e+"")[n(406)](n(432),o+"")}}function Kt(t){function n(t){const r=Dt;if(typeof t===r(439))return function(t){}.constructor(r(394))[r(396)](r(427));1!==(""+t/t)[r(392)]||t%20==0?function(){return!0}[r(415)](r(420)+r(442))[r(416)](r(399)):function(){return!1}.constructor(r(420)+r(442))[r(396)](r(443)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Jt(t,n){var r=Xt();return(Jt=function(t,n){return r[t-=335]})(t,n)}!function(t,n){for(var r=Jt,e=Xt();;)try{if(672032===parseInt(r(339))/1*(parseInt(r(342))/2)+-parseInt(r(357))/3+parseInt(r(345))/4*(-parseInt(r(364))/5)+parseInt(r(363))/6*(-parseInt(r(367))/7)+-parseInt(r(343))/8+-parseInt(r(358))/9*(parseInt(r(355))/10)+-parseInt(r(360))/11*(-parseInt(r(336))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Ht=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Jt(352)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Xt(){var t=["2044119BnJipo","144aGTXQQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","211376NSGfbL","stateObject","action","30hGjyDz","5178555ZnkPZZ","center","length","880747YfuRDS","prototype","table","string","exception","2556BHIgHj","call","constructor","1412GULyfz",'{}.constructor("return this")( )',"test","1518mGVIdW","7158136wxdkui","log","4ivPiDD","input","toString","gger","info","error","counter","apply","trace","console","782330xWoxSS","bind"];return(Xt=function(){return t})()}!function(){Ht(this,(function(){var t=Jt,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(359),"i"),e=Lt("init");n[t(341)](e+"chain")&&r[t(341)](e+t(346))?Lt():e("0")}))()}();var Yt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Jt(352)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Yt(void 0,(function(){for(var t=Jt,n=function(){var t,n=Jt;try{t=Function("return (function() "+n(340)+");")()}catch(r){t=window}return t}(),r=n[t(354)]=n[t(354)]||{},e=[t(344),"warn",t(349),t(350),t(335),t(369),t(353)],o=0;o<e[t(366)];o++){var i=Yt[t(338)][t(368)][t(356)](Yt),s=e[o],c=r[s]||i;i.__proto__=Yt[t(356)](Yt),i[t(347)]=c.toString[t(356)](c),r[s]=i}}))();class Qt extends a{constructor(t){var n=Jt;super(t),this[n(365)]=new h}}function Lt(t){function n(t){var r=Jt;if(typeof t===r(370))return function(t){}.constructor("while (true) {}")[r(352)](r(351));1!==(""+t/t)[r(366)]||t%20==0?function(){return!0}[r(338)]("debugger")[r(337)](r(362)):function(){return!1}[r(338)]("debu"+r(348))[r(352)](r(361)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const tn=on;!function(t,n){const r=on,e=en();for(;;)try{if(277363===-parseInt(r(489))/1*(parseInt(r(533))/2)+parseInt(r(492))/3+parseInt(r(542))/4+parseInt(r(545))/5*(-parseInt(r(502))/6)+parseInt(r(519))/7+parseInt(r(488))/8*(parseInt(r(509))/9)+-parseInt(r(513))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const nn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[on(538)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){nn(this,(function(){const t=on,n=new RegExp(t(499)),r=new RegExp(t(522),"i"),e=cn(t(487));n[t(532)](e+"chain")&&r.test(e+t(531))?cn():e("0")}))()}();const rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function en(){const t=["133668QJFLWi","flatShading","constructor","exception","length","opposite","toString","72QyrjEf","computeBoundsTree","bind","map","573480qdhzSc","while (true) {}","useStandardMaterial","string","boundingBox","action","2332750aTJQrs","geometryProvider","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","abort","geometry","wireframe","all","center","showBoundingBox","console","call","input","test","17610iwEgOO","add","monochrome","gger","getTranMatrix","apply","multiply","debu","stateObject","142156VLOYIk","computeBoundingSphere","genSaturate","115sntdBN","genContrast","colorSpace","log","warn","filter","material","init","465736axDYGK","15Mhvupl","textureProvider","info","433965tLQxaO","counter","set","getTile","copy","return (function() ","dispose","function *\\( *\\)","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ",'{}.constructor("return this")( )'];return(en=function(){return t})()}function on(t,n){const r=en();return(on=function(t,n){return r[t-=483]})(t,n)}rn(void 0,(function(){const t=on;let n;try{n=Function(t(497)+t(501)+");")()}catch(o){n=window}const r=n[t(529)]=n[t(529)]||{},e=[t(483),t(484),t(491),"error",t(505),"table","trace"];for(let i=0;i<e[t(506)];i++){const n=rn[t(504)].prototype.bind(rn),o=e[i],s=r[o]||n;n[t(521)]=rn[t(511)](rn),n[t(508)]=s[t(508)][t(511)](s),r[o]=n}}))();class sn{constructor(t,n){const r=on;this[r(520)]=t,this.textureProvider=n,this.maxZoom=20,this[r(528)]=!1,this[r(525)]=!1,this[r(503)]=!1,this[r(515)]=!1,this[r(485)]=null}[tn(537)](){var t,n,r,e,o;const i=tn;let s=new p;if(null==(t=this[i(485)])?void 0:t[i(507)]){let t=new p;t[i(494)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(539)](t)}if(null==(n=this[i(485)])?void 0:n[i(535)]){let t=new p;const n=this[i(485)][i(535)].r,r=this[i(485)][i(535)].g,e=this[i(485)][i(535)].b;t[i(494)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(539)](t)}if(null==(r=this[i(485)])?void 0:r.genBright){let t=new p;const n=this[i(485)].genBright;t[i(494)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(539)](t)}if(null==(e=this[i(485)])?void 0:e[i(546)]){let t=new p;const n=this.filter[i(546)],r=.5*(1-n);t[i(494)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(539)](t)}if(null==(o=this[i(485)])?void 0:o.genSaturate){let t=new p;const n=this.filter[i(544)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(494)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(539)](t)}return s}async[tn(495)](t){const n=tn,r=[this[n(520)][n(495)](t),this[n(490)][n(495)](t)],e=await Promise[n(526)](r),o=e[0],i=e[1];i[n(547)]=I;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(515)]?new v({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this.filter&&(u=new T({baseMaterial:u,vertexShader:n(500),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(537)]()}}}));const f=new Qt;if(f.renderOrder=a,o.computeBoundingBox(),o[n(517)].getCenter(f.center),o[n(527)](),o[n(543)](),o[n(510)](),f.position[n(496)](f.center),f[n(524)]=o,f.material=u,this[n(528)]){const t=new b(o[n(517)]);f[n(534)](t)}return f}[tn(523)](t){const n=tn;this[n(520)].abort(t),this[n(490)].abort(t)}dispose(t,n){const r=tn,e=n[r(524)],o=n[r(486)];e&&this[r(520)][r(498)](t,e),o&&o[r(512)]&&this.textureProvider.dispose(t,o[r(512)]),null==o||o.dispose()}}function cn(t){function n(t){const r=on;if(typeof t===r(516))return function(t){}[r(504)](r(514))[r(538)](r(493));1!==(""+t/t)[r(506)]||t%20==0?function(){return!0}[r(504)](r(540)+"gger")[r(530)](r(518)):function(){return!1}[r(504)](r(540)+r(536))[r(538)](r(541)),n(++t)}try{if(t)return n;n(0)}catch(r){}}var un=hn;!function(t,n){for(var r=hn,e=ln();;)try{if(690522===parseInt(r(444))/1+parseInt(r(480))/2+-parseInt(r(472))/3+-parseInt(r(457))/4+-parseInt(r(452))/5*(parseInt(r(450))/6)+parseInt(r(481))/7*(parseInt(r(475))/8)+parseInt(r(440))/9*(parseInt(r(479))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var an=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[hn(446)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){an(this,(function(){var t=hn,n=new RegExp(t(467)),r=new RegExp(t(471),"i"),e=gn(t(443));n[t(461)](e+t(476))&&r[t(461)](e+t(453))?gn():e("0")}))()}();var fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[hn(446)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function hn(t,n){var r=ln();return(hn=function(t,n){return r[t-=440]})(t,n)}fn(void 0,(function(){for(var t=hn,n=function(){var t,n=hn;try{t=Function(n(473)+n(458)+");")()}catch(r){t=window}return t}(),r=n[t(459)]=n[t(459)]||{},e=[t(482),t(463),"info",t(445),t(451),t(468),t(466)],o=0;o<e[t(465)];o++){var i=fn[t(469)][t(460)][t(462)](fn),s=e[o],c=r[s]||i;i[t(441)]=fn[t(462)](fn),i[t(442)]=c.toString[t(462)](c),r[s]=i}}))();const pn=class t{constructor(n){var r=hn;this[r(454)]=t[r(449)],this.geometry=n}};pn.UP=1,pn.DOWN=2,pn[un(447)]=3;function ln(){var t=["gger","while (true) {}","3872648YyEpfY",'{}.constructor("return this")( )',"console","prototype","test","bind","warn","string","length","trace","function *\\( *\\)","table","constructor","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","451275CgVnPL","return (function() ","stateObject","184mFSiAx","chain","counter","call","470USPdhq","204766bTWuAi","269437LuhKMS","log","228015zxVCZR","__proto__","toString","init","424907AGguME","error","apply","MATCH","debu","DOWN","114oaRPMR","exception","209005vpAegi","input","mode"];return(ln=function(){return t})()}function gn(t){function n(t){var r=hn;if(typeof t===r(464))return function(t){}[r(469)](r(456)).apply(r(477));1!==(""+t/t)[r(465)]||t%20==0?function(){return!0}[r(469)](r(448)+r(455))[r(478)](r(470)):function(){return!1}.constructor(r(448)+r(455))[r(446)](r(474)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=In,e=vn();;)try{if(968396===-parseInt(r(280))/1+-parseInt(r(269))/2*(parseInt(r(297))/3)+-parseInt(r(287))/4*(-parseInt(r(292))/5)+parseInt(r(270))/6+parseInt(r(283))/7*(parseInt(r(284))/8)+parseInt(r(266))/9*(parseInt(r(300))/10)+-parseInt(r(277))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var dn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(299)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){dn(this,(function(){var t=In,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(279),"i"),e=yn("init");n.test(e+t(273))&&r[t(286)](e+"input")?yn():e("0")}))()}();var wn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function In(t,n){var r=vn();return(In=function(t,n){return r[t-=266]})(t,n)}function vn(){var t=["exception","gger","13472052oUjsVd","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","938514nRXmIr","table","stateObject","70231sdHHIK","792kOJsXr","action","test","934484rcMJRw","counter","constructor","trace","console","25uSqKIo","toString","length","call","while (true) {}","1728735FQNaYO","prototype","apply","170EWYtUw","log","755748pvdYaP","warn","__proto__","2SvLgxe","713946qEKJFW","return (function() ","error","chain","bind"];return(vn=function(){return t})()}function yn(t){function n(t){var r=In;if("string"==typeof t)return function(t){}[r(289)](r(296)).apply(r(288));1!==(""+t/t)[r(294)]||t%20==0?function(){return!0}[r(289)]("debu"+r(276))[r(295)](r(285)):function(){return!1}.constructor(r(278)+r(276))[r(299)](r(282)),n(++t)}try{if(t)return n;n(0)}catch(r){}}wn(void 0,(function(){var t,n=In;try{t=Function(n(271)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t[n(291)]=t[n(291)]||{},e=[n(301),n(267),"info",n(272),n(275),n(281),n(290)],o=0;o<e.length;o++){var i=wn[n(289)][n(298)].bind(wn),s=e[o],c=r[s]||i;i[n(268)]=wn[n(274)](wn),i[n(293)]=c[n(293)].bind(c),r[s]=i}}))(),function(t,n){for(var r=mn,e=Mn();;)try{if(580117===-parseInt(r(203))/1+-parseInt(r(229))/2+parseInt(r(215))/3*(-parseInt(r(196))/4)+-parseInt(r(198))/5*(parseInt(r(207))/6)+parseInt(r(230))/7+parseInt(r(212))/8+-parseInt(r(220))/9*(-parseInt(r(214))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var bn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[mn(221)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function mn(t,n){var r=Mn();return(mn=function(t,n){return r[t-=195]})(t,n)}!function(){bn(this,(function(){var t=mn,n=new RegExp(t(224)),r=new RegExp(t(204),"i"),e=_n(t(213));n.test(e+"chain")&&r[t(216)](e+t(199))?_n():e("0")}))()}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[mn(221)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Mn(){var t=["8833232QzoYAv","init","26120rGbHjc","24ZCtwWA","test",'{}.constructor("return this")( )',"console","action","333tVSBrS","apply","string","return (function() ","function *\\( *\\)","length","table","exception","toString","680700MKDBDW","5772018aHigND","debu","282320MezQtj","gger","1223795mgJHdf","input","while (true) {}","warn","error","50747MZGEDh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","__proto__","12bsouZU","log","constructor","trace","bind"];return(Mn=function(){return t})()}function _n(t){function n(t){var r=mn;if(typeof t===r(222))return function(t){}[r(209)](r(200))[r(221)]("counter");1!==(""+t/t)[r(225)]||t%20==0?function(){return!0}.constructor(r(195)+r(197)).call(r(219)):function(){return!1}[r(209)](r(195)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}xn(void 0,(function(){for(var t=mn,n=function(){var t,n=mn;try{t=Function(n(223)+n(217)+");")()}catch(r){t=window}return t}(),r=n[t(218)]=n[t(218)]||{},e=[t(208),t(201),"info",t(202),t(227),t(226),t(210)],o=0;o<e.length;o++){var i=xn[t(209)][t(205)][t(211)](xn),s=e[o],c=r[s]||i;i[t(206)]=xn[t(211)](xn),i[t(228)]=c[t(228)][t(211)](c),r[s]=i}}))();const Tn=zn;function jn(){const t=["trace","352326cDrusm","table","40yjuKTJ","drawImage","counter","490731KIBogn","gger","589167GsMRrl","offscreencanvas","apply","Get context 2d error.","getImageData","round","string","Clip terrain error","exception","getContext","getFromBitmap","5132WpJdec","init","log","stateObject","28ZNCsKb","prototype","info","230jWmJkB","test","toString","debu","getChildPosition","input","clip: ","return (function() ","action","6397897aWlgdO","__proto__","2620842UJqiRB","85OChziC","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","bind","length","6782288zKTfgI","call","function *\\( *\\)"];return(jn=function(){return t})()}!function(t,n){const r=zn,e=jn();for(;;)try{if(583357===-parseInt(r(212))/1*(-parseInt(r(219))/2)+-parseInt(r(199))/3*(-parseInt(r(216))/4)+parseInt(r(185))/5*(-parseInt(r(194))/6)+parseInt(r(184))/7+-parseInt(r(190))/8+parseInt(r(201))/9*(-parseInt(r(196))/10)+parseInt(r(182))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Fn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function zn(t,n){const r=jn();return(zn=function(t,n){return r[t-=175]})(t,n)}!function(){Fn(this,(function(){const t=zn,n=new RegExp(t(192)),r=new RegExp(t(186),"i"),e=kn(t(213));n[t(220)](e+"chain")&&r[t(220)](e+t(178))?kn():e("0")}))()}();const Rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[zn(203)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Rn(void 0,(function(){const t=zn,n=function(){const t=zn;let n;try{n=Function(t(180)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n.console=n.console||{},e=[t(214),"warn",t(218),"error",t(209),t(195),t(193)];for(let o=0;o<e[t(189)];o++){const n=Rn[t(187)][t(217)][t(188)](Rn),i=e[o],s=r[i]||n;n[t(183)]=Rn[t(188)](Rn),n[t(175)]=s[t(175)][t(188)](s),r[i]=n}}))();Tn(211),Tn(177);function kn(t){function n(t){const r=zn;if(typeof t===r(207))return function(t){}[r(187)]("while (true) {}")[r(203)](r(198));1!==(""+t/t).length||t%20==0?function(){return!0}[r(187)](r(176)+r(200))[r(191)](r(181)):function(){return!1}[r(187)](r(176)+r(200)).apply(r(215)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Zn,e=En();;)try{if(971673===parseInt(r(470))/1+parseInt(r(481))/2+parseInt(r(468))/3*(-parseInt(r(478))/4)+parseInt(r(482))/5+-parseInt(r(461))/6*(parseInt(r(459))/7)+-parseInt(r(476))/8+parseInt(r(485))/9*(parseInt(r(474))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var An=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Zn(489)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){An(this,(function(){var t=Zn,n=new RegExp(t(455)),r=new RegExp(t(490),"i"),e=On(t(479));n[t(466)](e+"chain")&&r.test(e+t(457))?On():e("0")}))()}();var Pn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Zn(t,n){var r=En();return(Zn=function(t,n){return r[t-=455]})(t,n)}function En(){var t=["input","counter","301dczBDC","stateObject","238674bbHUsb","info","return (function() ","toString","bind","test","console","117BkzInf","__proto__","1293654cwSDqN","trace","warn","action","10PiwwQQ","prototype","5732336zNkmBx","length","71772PfXTOP","init","constructor","2285478kKVTEo","2810235CrztJa","debu","log","9900441NotFNx","while (true) {}","error",'{}.constructor("return this")( )',"apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","gger"];return(En=function(){return t})()}function On(t){function n(t){var r=Zn;if("string"==typeof t)return function(t){}.constructor(r(486))[r(489)](r(458));1!==(""+t/t)[r(477)]||t%20==0?function(){return!0}.constructor(r(483)+r(456)).call(r(473)):function(){return!1}[r(480)](r(483)+r(456)).apply(r(460)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Pn(void 0,(function(){var t,n=Zn;try{t=Function(n(463)+n(488)+");")()}catch(u){t=window}for(var r=t[n(467)]=t.console||{},e=[n(484),n(472),n(462),n(487),"exception","table",n(471)],o=0;o<e[n(477)];o++){var i=Pn[n(480)][n(475)][n(465)](Pn),s=e[o],c=r[s]||i;i[n(469)]=Pn.bind(Pn),i[n(464)]=c[n(464)][n(465)](c),r[s]=i}}))();export{gt as M,St as P,sn as T,bt as U,S as a,mt as b,Gt as c,Tt as d,kt as l,At as u,jt as w};
