import{p as t,U as n,N as e,Y as r,_ as o}from"./@tresjs.pv1MNfNv1726800306729.js";import{_ as s}from"./index.5IhGsrcW1726800306729.js";import{_ as i,aN as c,V as u,a,cF as l}from"./three.ZddO3ejJ1726800306729.js";import{P as p}from"./tweakpane.yHWGBmom1726800306729.js";import{I as f,C as h,N as g,c as m,d,a as y}from"./three-mesh-bvh.iupZHg7-1726800306729.js";import{d as w,a4 as j,b,a3 as I,o as _,E as v,L as x,u as T,F as A,r as M,e as k,j as Z,g as z,m as C,f as O,al as R}from"./@vue.bvMz0l_u1726800306729.js";import"./@vueuse.bZHkTEeA1726800306729.js";import"./index.vY6c_zlh1726800306729.js";import"./@fesjs.ZmXcHXlr1726800306729.js";import"./vue-router.IQrzWmDn1726800306729.js";import"./lodash-es.guXTxyfJ1726800306729.js";import"./@qlin.yHhFDldE1726800306729.js";import"./pinia.sgFdRj_31726800306729.js";import"./@floating-ui.BPbuo5Gx1726800306729.js";import"./@juggle.7yjBMqoW1726800306729.js";import"./chalk.w3XuUwyA1726800306729.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1726800306729.js";import"./@iconify.eRzdeG3K1726800306729.js";import"./utils.ZPHRqUNH1726800306729.js";import"./default.vue_vue_type_script_setup_true_lang.u24VhIOW1726800306729.js";import"./three-mesh-ui.module.8Gzbv-Es1726800306729.js";!function(t,n){const e=F,r=U();for(;;)try{if(188334===parseInt(e(330))/1*(parseInt(e(331))/2)+parseInt(e(353))/3+-parseInt(e(318))/4*(parseInt(e(351))/5)+parseInt(e(323))/6+-parseInt(e(334))/7+parseInt(e(352))/8+parseInt(e(341))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(325)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){B(this,(function(){const t=F,n=new RegExp(t(317)),e=new RegExp(t(324),"i"),r=S(t(359));n.test(r+t(358))&&e.test(r+t(344))?S():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(325)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(){const t=['{}.constructor("return this")( )',"error","innerWidth","log","function *\\( *\\)","672904wIwbHa","toString","intersectObject","innerHeight","pointermove","445632DJpGWx","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","button","length","string","console","7ZXpOsf","29182HaTxUh","bind","table","939323VcpmqT","while (true) {}","touch","info","addEventListener","Raycaster","setFromCamera","951831Ztdrsq","enabled","clientX","input","value","pointerdown","pointerup","pointerType","gger","clientY","10tFtUei","1009952GgukUz","751689lnuyiy","call","counter","warn","firstHitOnly","chain","init","constructor"];return(U=function(){return t})()}function F(t,n){const e=U();return(F=function(t,n){return e[t-=312]})(t,n)}E(void 0,(function(){const t=F;let n;try{n=Function("return (function() "+t(313)+");")()}catch(o){n=window}const e=n[t(329)]=n.console||{},r=[t(316),t(356),t(337),t(314),"exception",t(333),"trace"];for(let s=0;s<r[t(327)];s++){const n=E[t(312)].prototype[t(332)](E),o=r[s],i=e[o]||n;n.__proto__=E.bind(E),n[t(319)]=i[t(319)][t(332)](i),e[o]=n}}))();function S(t){function n(t){const e=F;if(typeof t===e(328))return function(t){}[e(312)](e(335))[e(325)](e(355));1!==(""+t/t)[e(327)]||t%20==0?function(){return!0}[e(312)]("debu"+e(349))[e(354)]("action"):function(){return!1}[e(312)]("debu"+e(349))[e(325)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=Y;!function(t,n){const e=Y,r=V();for(;;)try{if(622060===parseInt(e(414))/1+-parseInt(e(450))/2*(parseInt(e(432))/3)+-parseInt(e(446))/4*(parseInt(e(366))/5)+-parseInt(e(392))/6*(parseInt(e(410))/7)+parseInt(e(372))/8+parseInt(e(417))/9+parseInt(e(422))/10*(parseInt(e(428))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(382)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){q(this,(function(){const t=Y,n=new RegExp(t(386)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=L("init");n[t(451)](r+t(438))&&e[t(451)](r+"input")?L():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(382)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();H(void 0,(function(){const t=Y;let n;try{n=Function("return (function() "+t(430)+");")()}catch(o){n=window}const e=n[t(390)]=n.console||{},r=[t(424),t(371),t(397),"error","exception",t(448),"trace"];for(let s=0;s<r.length;s++){const n=H[t(399)][t(391)][t(435)](H),o=r[s],i=e[o]||n;n[t(404)]=H[t(435)](H),n[t(423)]=i[t(423)][t(435)](i),e[o]=n}}))();const N=[W(389),W(369)],X=[x("TresSphereGeometry",{args:[1,40,40]},null,-1),x(W(412),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],G=[W(389)],D=[x("TresMeshStandardMaterial",{color:W(442),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function V(){const t=["681HuXNGU","getZ","firstHitOnly","bind","DynamicDrawUsage","click","chain","action","getY","Mesh","#023249","fill","normal","count","64516vuxSEv","set","table","matrixWorld","5774QqAHze","test","BufferAttribute","setUsage","while (true) {}","raycast","145WdtNxh","value","position","material","active","warn","3829472slTCws","enabled","copy","call","scale","getX","intersectObject","model","boundsTree","controls","apply","TresMesh","Sphere","length","function *\\( *\\)","index","targetMesh.value init","geometry","console","prototype","67944enOnGZ","center","setFromCamera","addButton","setScalar","info","stateObject","constructor","needsUpdate","点击按钮","Matrix4","radius","__proto__","push","computeBoundsTree","生成模型","gger","setAttribute","434iWamug","disposeBoundsTree","TresMeshStandardMaterial","string","443740OelVli","setX","BufferGeometry","10212435UInIID","Vector2","point","containsPoint","debu","170WCcnaK","toString","log","setZ","counter","visible","252417NZuxKr","attributes",'{}.constructor("return this")( )',"instance"];return(V=function(){return t})()}function Y(t,n){const e=V();return(Y=function(t,n){return e[t-=366]})(t,n)}const $=w({__name:W(379),props:{controls:{}},async setup(r){const o=W;let s,w;const M=r;(()=>{const t=Y;i[t(416)][t(391)][t(406)]=m,i[t(416)][t(391)][t(411)]=d,i[t(441)][t(391)][t(455)]=y})();const k=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),Z=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),z=new Uint8Array(3*k[o(429)][o(368)][o(445)]);z[o(443)](255);const C=new(i[o(452)])(z,3,!0);C[o(453)](i[o(436)]),k.setAttribute("color",C);const O=b(null),R=b(null),B=b(!1),E=b(-1),U=b(.2),S=new(i[o(418)]),{camera:q,raycaster:H}=t(),V=15/255,$=78/255,L=85/255;let J=null;I((()=>{const t=o;O[t(367)]&&(console[t(424)](t(388),O[t(367)]),O.value[t(389)][t(406)](),J=k[t(380)],((t,n,e,r,o,s)=>{const c=F;window[c(338)](c(322),(e=>{const r=c;t.x=e.clientX/window[r(315)]*2-1,t.y=-e.clientY/window[r(321)]*2+1,n[r(345)]=!0})),window[c(338)](c(346),(u=>{const a=c;t.x=u[a(343)]/window[a(315)]*2-1,t.y=-u[a(350)]/window[a(321)]*2+1,r.value=u[a(326)];const l=new(i[a(339)]);l[a(340)](t,e.value),l[a(357)]=!0;const p=l[a(320)](o[a(345)],!0);n[a(345)]=!0,s[a(342)]=0===p.length}),!0),window.addEventListener(c(347),(t=>{const e=c;r[e(345)]=-1,t[e(348)]===e(336)&&(n[e(345)]=!1)}),!0)})(S,B,q,E,O,M[t(381)][t(431)]))}));const{onLoop:K}=n();K((()=>{const t=o,n=k[t(387)];if(R.value)if(M[t(381)][t(431)][t(370)]||!B[t(367)])R[t(367)][t(427)]=!1;else{R[t(367)][t(376)][t(396)](U[t(367)]),H[t(367)][t(394)](S,q[t(367)]),H.value[t(434)]=!0;const e=H.value[t(378)](O[t(367)],!0);if(e[t(385)]){R[t(367)][t(368)][t(374)](e[0][t(419)]),M[t(381)][t(431)].enabled=!1,R[t(367)][t(427)]=!0;const r=new(i[t(402)]);r[t(374)](O[t(367)][t(449)]).invert();const o=new(i[t(384)]);o[t(393)].copy(R[t(367)].position).applyMatrix4(r),o[t(403)]=100*U[t(367)];const s=[],c=new u;if(null==J||J.shapecast({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(447)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(420)](c))return f;return h}return r?f:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(405)](t,t+1,t+2)}return!1}}),0===E[t(367)]||2===E.value){let e=1,r=1,o=1;0===E[t(367)]&&(e=V,r=$,o=L);for(let i=0,c=s[t(385)];i<c;i++){const c=n[t(377)](s[i]);C[t(415)](c,e),C.setY(c,r),C[t(425)](c,o)}C[t(400)]=!0}}else R[t(367)][t(427)]=!1,M[t(381)][t(431)][t(373)]=!0}}));const P=(new p)[o(395)]({title:o(401),label:o(407)}),Q=new(i[o(416)]);return P.on(o(437),(()=>{const t=o,n=[],e=[];for(let o=0;o<C[t(445)];o++)C.getX(o)===V&&C[t(440)](o)===$&&C[t(433)](o)===L&&(n[t(405)](k.attributes[t(368)][t(377)](o),k.attributes[t(368)][t(440)](o),k.attributes.position[t(433)](o)),e[t(405)](k[t(429)][t(444)][t(377)](o),k[t(429)][t(444)].getY(o),k[t(429)][t(444)][t(433)](o)));const r=new Float32Array(n);Q[t(409)](t(368),new a(r,3)),Q[t(409)](t(444),new(i[t(452)])(r,3))})),(t,n)=>{const e=o;return _(),v(A,null,[x("TresMesh",{ref_key:"targetMesh",ref:O,geometry:T(k),scale:.005,material:T(Z)},null,8,N),x("TresMesh",{ref_key:"brushMesh",ref:R,visible:!1},X,512),x(e(383),{geometry:T(Q),position:[-2,-2,2],scale:.005},D,8,G)],64)}}});function L(t){function n(t){const e=Y;if(typeof t===e(413))return function(t){}[e(399)](e(454)).apply(e(426));1!==(""+t/t)[e(385)]||t%20==0?function(){return!0}[e(399)](e(421)+e(408))[e(375)](e(439)):function(){return!1}[e(399)](e(421)+"gger").apply(e(398)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=Q;!function(t,n){const e=Q,r=rt();for(;;)try{if(720406===parseInt(e(416))/1*(parseInt(e(418))/2)+-parseInt(e(434))/3+-parseInt(e(405))/4*(parseInt(e(410))/5)+-parseInt(e(440))/6*(-parseInt(e(403))/7)+-parseInt(e(424))/8+-parseInt(e(423))/9+parseInt(e(435))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(444)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=Q,n=new RegExp(t(415)),e=new RegExp(t(429),"i"),r=ot(t(432));n[t(443)](r+"chain")&&e[t(443)](r+t(411))?ot():r("0")}))()}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(444)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(t,n){const e=rt();return(Q=function(t,n){return e[t-=401]})(t,n)}P(void 0,(function(){const t=Q;let n;try{n=Function(t(401)+t(402)+");")()}catch(o){n=window}const e=n.console=n.console||{},r=[t(420),t(408),"info","error",t(442),t(412),t(436)];for(let s=0;s<r.length;s++){const n=P[t(437)][t(426)][t(431)](P),o=r[s],i=e[o]||n;n[t(428)]=P[t(431)](P),n[t(430)]=i[t(430)][t(431)](i),e[o]=n}}))();const tt=x(J(438),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),nt=x(J(439),{intensity:1},null,-1),et=w({__name:J(417),setup(t){const n=M({clearColor:"#999999",antialias:!0}),e=M({autoRotate:!1}),i=b(null);return(t,c)=>{const u=Q,a=k(u(421));return _(),v(A,null,[Z(T(s)),Z(a,C(n,{"window-size":""}),{default:z((()=>[tt,Z(T(r),C({ref_key:u(445),ref:i},e),null,16),nt,(_(),O(R,null,{default:z((()=>[Z($,{controls:i[u(413)]},null,8,["controls"])])),_:1})),(_(),O(R,null,{default:z((()=>[Z(T(o),{background:!1,files:[u(422),u(419),u(425),u(427),"pos-z.jpg",u(404)],path:u(409)})])),_:1}))])),_:1},16)],64)}}});function rt(){const t=["7rVKkNh","collectTriangles","242294jpmDGB","neg-x.jpg","log","TresCanvas","pos-x.jpg","12301614BoCxFf","3136464NJXPkZ","pos-y.jpg","prototype","neg-y.jpg","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","bind","init","string","304548gfARiu","19827770BWIwcc","trace","constructor","TresPerspectiveCamera","TresAmbientLight","1115922RWbqKD","length","exception","test","apply","controlsRef","counter","return (function() ",'{}.constructor("return this")( )',"28MrUZpE","neg-z.jpg","52VjOAWH","gger","action","warn","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","382280jQltJj","input","table","value","stateObject","function *\\( *\\)"];return(rt=function(){return t})()}function ot(t){function n(t){const e=Q;if(typeof t===e(433))return function(t){}[e(437)]("while (true) {}")[e(444)](e(446));1!==(""+t/t)[e(441)]||t%20==0?function(){return!0}[e(437)]("debu"+e(406)).call(e(407)):function(){return!1}[e(437)]("debu"+e(406)).apply(e(414)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
