import{e as n,m as t,U as e,s as r,b as o}from"./@tresjs.0qL_P2CE1735517803200.js";import{_ as i,K as s,a0 as c,aB as a}from"./three.-uH5I3Xp1735517803200.js";import{P as u}from"./tweakpane.yHWGBmom1735517803200.js";import{L as l}from"./three-subdivide.O-9rbNFv1735517803200.js";import{d as f,b as p,a3 as d,w as g,o as m,D as h,J as v,aj as y,ak as b,a6 as w,r as M,e as _,f as x,g as I,j as T,u as S,m as j,I as B}from"./@vue.-THQH3GC1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";const A=R;function k(){const n=["copy","FrontSide","while (true) {}","bind","__proto__","uniforms","error","test","blending","srcMesh","subdivision","2942920jnuYbW","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","shineShader","side","action","position","apply","stateObject","exception","call","color","table",'{}.constructor("return this")( )',"188622JlfIZY","532437VYyfrF","modify","string","2120535WWtJzw","glowColor","debu","prototype","trace","TresShaderMaterial","clone","chain","constructor","length","gger","1667404tJRSmo","5jDilbV","5225318aldDMu","4239564jblAHT","console","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","viewVector","counter","warn","TSGref","material","scale","return (function() ","subVectors","function *\\( *\\)","TresMesh","Color","value","geometry","AdditiveBlending"];return(k=function(){return n})()}!function(n,t){const e=R,r=k();for(;;)try{if(399633===parseInt(e(175))/1+-parseInt(e(174))/2+-parseInt(e(178))/3+parseInt(e(189))/4*(-parseInt(e(190))/5)+parseInt(e(192))/6+parseInt(e(191))/7+-parseInt(e(161))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[R(167)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=R,t=new RegExp(n(144)),e=new RegExp(n(195),"i"),r=F("init");t[n(157)](r+n(185))&&e[n(157)](r+"input")?F():r("0")}))()}();const C=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[R(167)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();C(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(203)+n(173)+");")()}catch(e){t=window}return t}(),e=t[n(193)]=t[n(193)]||{},r=["log",n(199),n(196),n(156),n(169),n(172),n(182)];for(let o=0;o<r.length;o++){const t=C.constructor[n(181)].bind(C),i=r[o],s=e[i]||t;t[n(154)]=C[n(153)](C),t.toString=s.toString[n(153)](s),e[i]=t}}))();const V=[A(202)];function R(n,t){const e=k();return(R=function(n,t){return e[n-=143]})(n,t)}const Z=f({__name:A(163),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[A(151)]},blending:{default:i[A(149)]}},setup(e){const r=A,o=e,s=p(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(146)])(o[r(171)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:r(162),side:o[r(164)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(158)]};d((()=>{const n=r;if(o.srcMesh&&s[n(147)]&&!s[n(147)][n(148)].attributes[n(166)]){let t=o[n(159)][n(148)].clone();o.subdivision&&(t=l.modify(t,2)),s[n(147)][n(148)]=t,s[n(147)][n(166)][n(150)](o[n(159)].position)}o.color&&(c[n(155)][n(179)][n(147)]=new(i[n(146)])(o.color)),o.c&&(c[n(155)].c[n(147)]=o.c),o.p&&(c.uniforms.p[n(147)]=o.p)})),g((()=>o[r(160)]),(n=>{const t=r;let e=o[t(159)][t(148)][t(184)]();n&&(e=l[t(176)](e,2)),s[t(147)][t(148)]=e})),g((()=>o[r(164)]),(n=>{const t=r;s.value[t(201)].side=n})),g((()=>o[r(158)]),(n=>{const t=r;s[t(147)][t(201)].blending=n}));const{onLoop:a}=n(),{camera:u}=t();return a((()=>{const n=r;u[n(147)]&&s[n(147)]&&(c.uniforms[n(197)].value=(new(i[n(194)]))[n(143)](u[n(147)][n(166)],s[n(147)][n(166)]))})),(n,t)=>{const e=r;return m(),h(e(145),{ref_key:e(200),ref:s,scale:o[e(202)]},[v(e(183),y(b(c)),null,16)],8,V)}}});function F(n){function t(n){const e=R;if(typeof n===e(177))return function(n){}[e(186)](e(152)).apply(e(198));1!==(""+n/n)[e(187)]||n%20==0?function(){return!0}.constructor(e(180)+"gger")[e(170)](e(165)):function(){return!1}.constructor(e(180)+e(188))[e(167)](e(168)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=E;!function(n,t){const e=E,r=W();for(;;)try{if(777224===parseInt(e(450))/1*(parseInt(e(500))/2)+-parseInt(e(493))/3+parseInt(e(478))/4+parseInt(e(487))/5*(parseInt(e(479))/6)+-parseInt(e(470))/7+parseInt(e(481))/8*(parseInt(e(453))/9)+parseInt(e(467))/10*(-parseInt(e(448))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(472)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){L(this,(function(){const n=E,t=new RegExp(n(484)),e=new RegExp(n(504),"i"),r=G("init");t.test(r+n(463))&&e[n(455)](r+n(466))?G():r("0")}))()}();const N=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(472)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function W(){const n=["debu","string","call","#00dfff","TresMeshBasicMaterial","trace","49812HtTryO","action","TresMeshRefB","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","srcMesh","FrontSide","length","instance","11JQaceg","gger","50nptxcw","NormalBlending","TresSphereGeometry","1234575ZWLdch","stateObject","test","AdditiveBlending","blending","TresMesh","TresCanvas","subdivision","table","TresGridHelper","chain","map","bind","input","15773530wASHLM","TresAmbientLight","toString","8783894UDxAbO","scale","apply","console","constructor","value","error","side","2187584XEHygB","2170416AZzUkx","prototype","48WPAxss","logo.png","counter","function *\\( *\\)","addBinding","边缘处理","20CPfpVL","exception","__proto__","TreBoxRef","TresPerspectiveCamera","return (function() ","1358313hZMMDa"];return(W=function(){return n})()}function E(n,t){const e=W();return(E=function(n,t){return e[n-=446]})(n,t)}N(void 0,(function(){const n=E,t=function(){const n=E;let t;try{t=Function(n(492)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(473)]=t[n(473)]||{},r=["log",n(503),"info",n(476),n(488),n(461),n(499)];for(let o=0;o<r[n(446)];o++){const t=N[n(474)][n(480)][n(465)](N),i=r[o],s=e[i]||t;t[n(489)]=N[n(465)](N),t.toString=s[n(469)][n(465)](s),e[i]=t}}))();const H=[D(464)],J=[D(464)],P=f({__name:"shader",async setup(n){const t=D;let l,f;const d={clearColor:"#222"},g=p(),h=p(),y=p(),b=([l,f]=w((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(482)]))),l=await l,f(),l),A=M({scale:1.6,color:t(497),subdivision:!0,c:1.1,p:1.4,side:i[t(506)],blending:i[t(456)]}),k=new u({title:"参数",expanded:!0});return k[t(485)](A,"color",{label:"颜色"}),k[t(485)](A,t(471),{label:"大小",min:1,max:3,step:.2}),k.addBinding(A,t(460),{label:t(486)}),k[t(485)](A,"c",{label:"c",min:0,max:2,step:.1}),k[t(485)](A,"p",{label:"p",min:0,max:8,step:.2}),k[t(485)](A,t(477),{options:{FrontSide:i[t(506)],BackSide:s,DoubleSide:c}}),k[t(485)](A,t(457),{options:{AdditiveBlending:a,NormalBlending:i[t(451)]}}),(n,o)=>{const i=t,s=_(i(459));return m(),x(s,j(d,{"window-size":""}),{default:I((()=>[o[2]||(o[2]=v(i(491),{position:[5,5,5]},null,-1)),o[3]||(o[3]=v(i(468),{intensity:1},null,-1)),T(S(e)),o[4]||(o[4]=v(i(462),{args:[10,10]},null,-1)),v("TresMesh",{ref_key:"TresMeshRefA",ref:g,position:[-2,1,0]},[o[0]||(o[0]=v(i(452),{args:[1,32,16]},null,-1)),v("TresMeshBasicMaterial",{map:S(b)[0]},null,8,H)],512),T(Z,j({srcMesh:g[i(475)]},A),null,16,[i(505)]),T(S(r),{ref_key:i(490),ref:y,args:[1,1,1],position:[2,1,0]},{default:I((()=>[v(i(498),{map:S(b)[1]},null,8,J)])),_:1},512),y[i(475)]&&y[i(475)].instance?(m(),x(Z,j({key:0,srcMesh:y.value[i(447)]},A),null,16,["srcMesh"])):B("",!0),v(i(458),{ref_key:i(502),ref:h,position:[0,1,-2]},o[1]||(o[1]=[v("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),v(i(498),{color:"#0ff"},null,-1)]),512),T(Z,j({srcMesh:h.value},A),null,16,[i(505)])])),_:1},16)}}});function G(n){function t(n){const e=E;if(typeof n===e(495))return function(n){}[e(474)]("while (true) {}")[e(472)](e(483));1!==(""+n/n)[e(446)]||n%20==0?function(){return!0}[e(474)](e(494)+e(449))[e(496)](e(501)):function(){return!1}[e(474)]("debu"+e(449))[e(472)](e(454)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{P as default};
