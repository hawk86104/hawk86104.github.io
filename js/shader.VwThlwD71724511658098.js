import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.6SjGVF2a1724511658098.js";import{a6 as i,Z as s}from"./three.6cxCQsIj1724511658098.js";import{P as a}from"./tweakpane.yHWGBmom1724511658098.js";import{L as c}from"./three-subdivide.Z1r4C7T61724511658098.js";import{d as u,b as l,a1 as f,w as p,o as d,D as h,J as g,aj as m,ak as v,a4 as y,r as b,e as w,f as I,g as _,j as M,u as x,m as T}from"./@vue.Q1VpS3901724511658098.js";import"./@vueuse.rsVLbIR91724511658098.js";const j=A;!function(n,t){const e=A,r=C();for(;;)try{if(984489===-parseInt(e(368))/1*(parseInt(e(392))/2)+-parseInt(e(360))/3*(-parseInt(e(404))/4)+-parseInt(e(391))/5+parseInt(e(377))/6+parseInt(e(357))/7*(parseInt(e(403))/8)+parseInt(e(384))/9+parseInt(e(364))/10*(-parseInt(e(370))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(397)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){B(this,(function(){const n=A,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=N(n(352));t[n(396)](r+"chain")&&e[n(396)](r+"input")?N():r("0")}))()}();const S=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(397)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();S(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(349)+n(355)+");")()}catch(e){t=window}return t}(),e=t[n(351)]=t[n(351)]||{},r=[n(398),"warn",n(381),"error",n(350),n(402),"trace"];for(let o=0;o<r[n(399)];o++){const t=S[n(401)][n(385)][n(406)](S),i=r[o],s=e[i]||t;t[n(372)]=S.bind(S),t[n(373)]=s[n(373)][n(406)](s),e[i]=t}}))();const k=[j(405)];function C(){const n=["Vector3","geometry","srcMesh","791566jJyKEp","clone","16812532QkXbIU","glowColor","__proto__","toString","subdivision","value","stateObject","7299414KOVfsj","position","color","Color","info","TresMesh","modify","13691799wDqvex","prototype","#ffff00","FrontSide","shineShader","TresShaderMaterial","side","2092035HzCHPP","2UGyxgi","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","uniforms","attributes","test","apply","log","length","debu","constructor","table","143776PrauNp","4QMVwhr","scale","bind","blending","call","TSGref","return (function() ","exception","console","init","counter","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",'{}.constructor("return this")( )',"gger","217UcOuLY","copy","AdditiveBlending","5868822IwkfBX","subVectors","material","action","20SZpalF"];return(C=function(){return n})()}const z=u({__name:j(388),props:{srcMesh:{},scale:{default:1.2},color:{default:j(386)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[j(387)]},blending:{default:i[j(359)]}},setup(e){const r=j,o=e,s=l(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(380)])(o[r(379)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(393),fragmentShader:r(354),side:o[r(390)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};f((()=>{const n=r;if(o[n(367)]&&!s.value[n(366)][n(395)].position){let t=o[n(367)][n(366)][n(369)]();o.subdivision&&(t=c[n(383)](t,2)),s[n(375)][n(366)]=t,s[n(375)][n(378)][n(358)](o[n(367)][n(378)])}o.color&&(a[n(394)][n(371)][n(375)]=new(i[n(380)])(o[n(379)])),o.c&&(a[n(394)].c[n(375)]=o.c),o.p&&(a[n(394)].p[n(375)]=o.p)})),p((()=>o[r(374)]),(n=>{const t=r;let e=o.srcMesh[t(366)][t(369)]();n&&(e=c.modify(e,2)),s.value[t(366)]=e})),p((()=>o[r(390)]),(n=>{const t=r;s[t(375)][t(362)].side=n})),p((()=>o[r(407)]),(n=>{s[r(375)].material.blending=n}));const{onLoop:u}=n(),{camera:y}=t();return u((()=>{const n=r;y[n(375)]&&s.value&&(a[n(394)].viewVector.value=(new(i[n(365)]))[n(361)](y.value[n(378)],s[n(375)][n(378)]))})),(n,t)=>{const e=r;return d(),h(e(382),{ref_key:e(348),ref:s,scale:o[e(405)]},[g(e(389),m(v(a)),null,16)],8,k)}}});function A(n,t){const e=C();return(A=function(n,t){return e[n-=347]})(n,t)}function N(n){function t(n){const e=A;if("string"==typeof n)return function(n){}.constructor("while (true) {}")[e(397)](e(353));1!==(""+n/n)[e(399)]||n%20==0?function(){return!0}.constructor("debu"+e(356))[e(347)](e(363)):function(){return!1}[e(401)](e(400)+e(356))[e(397)](e(376)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=E;!function(n,t){const e=E,r=$();for(;;)try{if(238310===-parseInt(e(305))/1+parseInt(e(316))/2*(-parseInt(e(300))/3)+-parseInt(e(285))/4*(-parseInt(e(291))/5)+-parseInt(e(328))/6+-parseInt(e(279))/7*(parseInt(e(295))/8)+parseInt(e(329))/9*(parseInt(e(298))/10)+-parseInt(e(303))/11*(-parseInt(e(322))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(296)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){F(this,(function(){const n=E,t=new RegExp(n(301)),e=new RegExp(n(292),"i"),r=X("init");t.test(r+"chain")&&e[n(315)](r+n(310))?X():r("0")}))()}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[E(296)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();L(void 0,(function(){const n=E,t=function(){const n=E;let t;try{t=Function(n(321)+n(311)+");")()}catch(e){t=window}return t}(),e=t[n(281)]=t[n(281)]||{},r=[n(327),n(286),"info","error","exception","table",n(325)];for(let o=0;o<r.length;o++){const t=L[n(294)].prototype[n(314)](L),i=r[o],s=e[i]||t;t[n(312)]=L[n(314)](L),t[n(331)]=s[n(331)][n(314)](s),e[i]=t}}))();const D=g(V(330),{position:[5,5,5]},null,-1),R=g(V(287),{intensity:1},null,-1),Z=g("TresGridHelper",{args:[10,10]},null,-1),G=g(V(304),{args:[1,32,16]},null,-1),H=[V(313)],O=[V(313)],P=[g("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),g("TresMeshBasicMaterial",{color:V(326)},null,-1)];function E(n,t){const e=$();return(E=function(n,t){return e[n-=277]})(n,t)}function $(){const n=["input",'{}.constructor("return this")( )',"__proto__","map","bind","test","30758oQTdYh","TresMesh","side","gger","TresMeshRefB","return (function() ","13506312CHvnDa","value","while (true) {}","trace","#0ff","log","2024394WKmDHU","1521DHLtqX","TresPerspectiveCamera","toString","scale","addBinding","#00dfff","TresCanvas","FrontSide","1526LDzOzk","debu","console","call","TresMeshBasicMaterial","subdivision","8484sTxCXr","warn","TresAmbientLight","shader","color","AdditiveBlending","655FkhGtY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","BackSide","constructor","14792yamvLI","apply","action","7080buucBS","#222","60uruNuZ","function *\\( *\\)","TresMeshRefA","11twYgMa","TresSphereGeometry","236658hLWjjO","TreBoxRef","srcMesh","NormalBlending","counter"];return($=function(){return n})()}const U=u({__name:V(288),async setup(n){const t=V;let c,u;const f={clearColor:t(299)},p=l(),h=l(),m=l(),v=([c,u]=y((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),c=await c,u(),c),j=b({scale:1.6,color:t(334),subdivision:!0,c:1.1,p:1.4,side:i[t(278)],blending:i[t(290)]}),B=new a({title:"参数",expanded:!0});return B[t(333)](j,t(289),{label:"颜色"}),B[t(333)](j,t(332),{label:"大小",min:1,max:3,step:.2}),B[t(333)](j,t(284),{label:"边缘处理"}),B.addBinding(j,"c",{label:"c",min:0,max:2,step:.1}),B[t(333)](j,"p",{label:"p",min:0,max:8,step:.2}),B.addBinding(j,t(318),{options:{FrontSide:i[t(278)],BackSide:i[t(293)],DoubleSide:s}}),B[t(333)](j,"blending",{options:{AdditiveBlending:i[t(290)],NormalBlending:i[t(308)]}}),(n,o)=>{const i=t,s=w(i(277));return d(),I(s,T(f,{"window-size":""}),{default:_((()=>[D,R,M(x(e)),Z,g("TresMesh",{ref_key:i(302),ref:p,position:[-2,1,0]},[G,g(i(283),{map:x(v)[0]},null,8,H)],512),M(z,T({srcMesh:p[i(323)]},j),null,16,[i(307)]),M(x(r),{ref_key:i(306),ref:m,args:[1,1,1],position:[2,1,0]},{default:_((()=>[g(i(283),{map:x(v)[1]},null,8,O)])),_:1},512),M(z,T({srcMesh:m[i(323)]&&m.value[i(323)]},j),null,16,[i(307)]),g(i(317),{ref_key:i(320),ref:h,position:[0,1,-2]},P,512),M(z,T({srcMesh:h[i(323)]},j),null,16,[i(307)])])),_:1},16)}}});function X(n){function t(n){const e=E;if("string"==typeof n)return function(n){}[e(294)](e(324))[e(296)](e(309));1!==(""+n/n).length||n%20==0?function(){return!0}[e(294)](e(280)+e(319))[e(282)](e(297)):function(){return!1}[e(294)]("debu"+e(319))[e(296)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{U as default};
