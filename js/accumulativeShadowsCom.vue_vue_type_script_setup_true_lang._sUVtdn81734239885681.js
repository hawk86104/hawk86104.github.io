import{_ as t}from"./three.NPKhDGTA1734239885681.js";import{m as n}from"./@tresjs.qWeugQU61734239885681.js";import{d as e,P as o}from"./@pmndrs.Pz587RFC1734239885681.js";import{d as a,b as r,w as s,a3 as i,o as c,D as l,J as u,aj as p,ak as f}from"./@vue.-THQH3GC1734239885681.js";const h=m;!function(t,n){const e=m,o=g();for(;;)try{if(643230===parseInt(e(488))/1+-parseInt(e(447))/2+-parseInt(e(414))/3*(-parseInt(e(449))/4)+parseInt(e(474))/5+parseInt(e(482))/6+parseInt(e(406))/7*(parseInt(e(437))/8)+-parseInt(e(472))/9*(parseInt(e(458))/10))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=g();return(m=function(t,n){return e[t-=402]})(t,n)}!function(){d(this,(function(){const t=m,n=new RegExp(t(478)),e=new RegExp(t(473),"i"),o=M(t(481));n[t(469)](o+"chain")&&e[t(469)](o+t(484))?M():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(410)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(){const t=["height","error","castShadow","Vector3","Group","1571952cwjNnG","children","radius","toString","gger","abs","far","lightPosition","TresMesh","cos","2024914vhxxzS","return (function() ","1086604RZhEja","__proto__","shadows render start","counter","amount","table","ambient","opacity","set","88710BWzEKR","call","left","accumulativeShadowsCom","random",'{}.constructor("return this")( )',"position","info","constructor","rotate-x","size","test","finish","TresSoftShadowMaterial","1548bkrqlJ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4908085vrdifa","material","bias","sin","function *\\( *\\)","acos","width","init","5367576DwnUfA","stateObject","input","right","bottom","color","837141mFWgpI","string","frames","blend","randFloatSpread","configure","blendWindow","value","mapSize","add","7BWkTcZ","prototype","debu","trace","apply","DirectionalLight","action","console","3QOsYeA","#000000","alphaTest","near","shadows plm update","update","texture","bind","log","shadow","clear","length","MathUtils","intensity","while (true) {}","shadows render end","prepare","camera"];return(g=function(){return t})()}w(void 0,(function(){const t=m;let n;try{n=Function(t(448)+t(463)+");")()}catch(a){n=window}const e=n[t(413)]=n[t(413)]||{},o=[t(422),"warn",t(465),t(433),"exception",t(454),t(409)];for(let r=0;r<o[t(425)];r++){const n=w[t(466)][t(407)][t(421)](w),a=o[r],s=e[a]||n;n[t(450)]=w.bind(w),n[t(440)]=s[t(440)][t(421)](s),e[a]=n}}))();const b=[h(467)],y=a({__name:h(461),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(415)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(a){const d=h,m=a;let w=r();const{extend:g,scene:y,renderer:M,camera:I}=n();g({SoftShadowMaterial:e});const x={position:(new(t[d(435)]))[d(457)](m[d(444)].x,m.lightPosition.y,m[d(444)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new o(M.value,y[d(403)],x.mapSize),S={map:z.progressiveLightMap2[d(420)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[d(491)],alphaTest:m[d(416)],opacity:m[d(456)],color:m[d(487)]},v=new(t[d(436)]);for(let n=0;n<x[d(453)];n++){const n=new(t[d(411)])(16777215,x[d(427)]/x[d(453)]);n[d(434)]=!0,n[d(423)][d(476)]=x[d(476)],n[d(423)][d(431)][d(417)]=x[d(417)],n.shadow[d(431)][d(443)]=x[d(443)],n[d(423)][d(431)][d(485)]=x[d(468)]/2,n[d(423)][d(431)][d(460)]=-x[d(468)]/2,n[d(423)][d(431)].top=x[d(468)]/2,n[d(423)][d(431)][d(486)]=-x[d(468)]/2,n[d(423)][d(404)][d(480)]=x.mapSize,n[d(423)][d(404)][d(432)]=x[d(404)],v[d(405)](n)}const _=()=>{const n=d,e=x[n(464)][n(425)]();for(let o=0;o<v[n(438)].length;o++){const a=v.children[o];if(Math[n(462)]()>m[n(455)])a[n(464)][n(457)](x.position.x+t[n(426)][n(492)](x[n(439)]),x[n(464)].y+t[n(426)][n(492)](x[n(439)]),x[n(464)].z+t[n(426)][n(492)](x[n(439)]));else{let t=Math[n(479)](2*Math.random()-1)-Math.PI/2,o=2*Math.PI*Math[n(462)]();a[n(464)].set(Math[n(446)](t)*Math[n(446)](o)*e,Math[n(442)](Math.cos(t)*Math[n(477)](o)*e),Math[n(477)](t)*e)}}},P=(t=1)=>{const n=d;y[n(403)][n(405)](v),z[n(430)]();for(let e=0;e<t;e++)_(),z[n(419)](I[n(403)],m[n(402)]),console[n(422)](n(418),e);y[n(403)].remove(v),z[n(470)]()};s((()=>w[d(403)]),(t=>{const n=d;t&&(z[n(493)](t),z[n(424)](),console[n(422)](n(451)),P(m.frames),console[n(422)](n(429)))}));const j=()=>{const t=d;z.clear(),P(m[t(490)])};return i((()=>{const t=d;w[t(403)]&&(m.opacity&&(w[t(403)].material[t(456)]=m[t(456)]),m.alphaTest&&(w.value[t(475)].alphaTest=m[t(416)]),m[t(487)]&&w.value[t(475)].color[t(457)](m.color),m.blend&&(w[t(403)][t(475)].blend=m[t(491)]))})),s((()=>m[d(444)]),(t=>{const n=d;t&&(console.log(m[n(444)]),x[n(464)][n(457)](t.x,t.y,t.z),j())}),{deep:!0}),s((()=>[m.frames,m[d(402)],m[d(455)]]),(()=>{j()})),(t,n)=>{const e=d;return c(),l(e(445),{"receive-shadow":"",ref_key:"gPlane",ref:w,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=u("TresPlaneGeometry",{args:[1,1]},null,-1)),u(e(471),p(f(S)),null,16)],8,b)}}});function M(t){function n(t){const e=m;if(typeof t===e(489))return function(t){}[e(466)](e(428))[e(410)](e(452));1!==(""+t/t)[e(425)]||t%20==0?function(){return!0}[e(466)](e(408)+"gger")[e(459)](e(412)):function(){return!1}[e(466)](e(408)+e(441)).apply(e(483)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as _};
