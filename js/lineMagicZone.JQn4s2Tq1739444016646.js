import{P as t}from"./tweakpane.yDiyAAkA1739444016646.js";import{e,h as n,a as o,o as r}from"./@tresjs.Q4_KYO2a1739444016646.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.wmn3SQkr1739444016646.js";import{_ as a,B as s,P as l}from"./three.W6GmiHfn1739444016646.js";import{d as u,a6 as c,a3 as f,w as m,o as p,H as d,N as h,u as g,j as v,r as I,e as x,f as w,g as S,al as y,m as _}from"./@vue.NRI7TcgI1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";import"./all.three.jD4iRnJs1739444016646.js";import"./oimophysics.x0jH7fze1739444016646.js";const b=j;!function(t,e){const n=j,o=P();for(;;)try{if(937407===-parseInt(n(418))/1+parseInt(n(458))/2*(parseInt(n(407))/3)+-parseInt(n(404))/4+parseInt(n(409))/5+-parseInt(n(454))/6*(-parseInt(n(436))/7)+-parseInt(n(453))/8+-parseInt(n(463))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[j(419)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=j,e=new RegExp(t(445)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=D(t(432));e[t(468)](o+t(429))&&n[t(468)](o+t(421))?D():o("0")}))()}();const U=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[j(419)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=j,e=function(){const t=j;let e;try{e=Function(t(440)+t(430)+");")()}catch(n){e=window}return e}(),n=e[t(457)]=e.console||{},o=[t(460),t(459),t(412),t(420),t(444),t(405),t(442)];for(let r=0;r<o[t(443)];r++){const e=U[t(452)][t(411)][t(449)](U),i=o[r],a=n[i]||e;e[t(424)]=U[t(449)](U),e[t(456)]=a[t(456)][t(449)](a),n[i]=e}}))();const N=[b(414)],C=[b(455),b(469),b(438)];function j(t,e){const n=P();return(j=function(t,e){return n[t-=402]})(t,e)}function P(){const t=["#409eff","6410565ffUAio","counter","EllipseCurve","value","speed","test","aIndex","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","height","TresPoints","3473284lzuADc","table","baseColor","3FQGWek","xRadius","5308225SWHUPH","scale","prototype","info","string","rotateX","yRadius","call","setFromPoints","550060RrkozF","apply","error","input","stateObject","TresBufferGeometry","__proto__","push","array","getAttribute","floor","chain",'{}.constructor("return this")( )',"gger","init","color","alphaMap","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","4333lJHCfU","debu","aNormal","blending","return (function() ","Color","trace","length","exception","function *\\( *\\)","lineMagicZone","#90ee90","AdditiveBlending","bind","set","uHeight","constructor","2763880hDLayZ","17364gsQaQC","position","toString","console","1121054mihmjR","warn","log","map"];return(P=function(){return t})()}const W=b(435),z=b(470),A=u({__name:b(446),props:{height:{default:1.6},speed:{default:1},color:{default:b(447)}},async setup(t){const r=b;let i,u;const I=c(),x=t,w=([i,u]=f((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,u(),i),S=new(a[r(465)])(0,0,8,8,0,2*Math.PI,!1,0),y=[];for(let e=0;e<5;e++)y[r(425)](...S.getPoints(719)),S[r(408)]+=.2,S[r(415)]+=.2;const _=new Float32Array(y[r(461)](((t,e)=>e))),T=(new s)[r(417)](y)[r(427)](r(455))[r(426)],U=new Float32Array(T[r(443)]);for(let e=0;e<T[r(443)]/3;e++){const t=3*e;T[t+1]+=.15*Math[r(428)](e/720);const n=e%720*3,o=3*(e%720+2880);U[t]=T[o]-T[n],U[t+1]=T[o+1]-T[n+1],U[t+2]=T[o+2]-T[n+2]}const j={uTime:{value:0},uScale:{value:I[r(410)]?I[r(410)]:1},uHeight:{value:x.height},uPerlinTexture:{value:w[1]},baseColor:{value:new(a[r(441)])(x[r(433)])}},{onLoop:P}=e();return P((()=>{const t=r;j.uTime[t(466)]+=.01*x[t(467)]})),m((()=>[x[r(433)],I[r(410)],x[r(402)]]),(([t,e,n])=>{const o=r;j[o(406)][o(466)][o(450)](t),j.uScale.value=e,j[o(451)][o(466)]=n})),(t,e)=>{const o=r;return p(),d("TresGroup",null,[h(o(403),{rotateX:-Math.PI/2,scale:.1},[h(o(423),{position:[g(T),3],aIndex:[g(_),1],aNormal:[g(U),3]},null,8,C),v(g(n),{baseMaterial:l,vertexShader:W,fragmentShader:z,uniforms:j,map:g(w)[0],alphaMap:g(w)[0],transparent:"",depthWrite:!1,blending:a[o(448)],color:o(462),size:.1},null,8,["baseMaterial","map",o(434),o(439)])],8,N)])}}});function D(t){function e(t){const n=j;if(typeof t===n(413))return function(t){}[n(452)]("while (true) {}")[n(419)](n(464));1!==(""+t/t)[n(443)]||t%20==0?function(){return!0}[n(452)](n(437)+n(431))[n(416)]("action"):function(){return!1}[n(452)](n(437)+n(431))[n(419)](n(422)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=H;function M(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","call","info","while (true) {}","scale","36xOvCjE","TresAmbientLight","796JBTnRK","debu","5626699mjIeva","color","2167206gDJCwb","4030PXumdJ","bind","2818936dElgbo","gger","counter","init","toString","exception","warn","console","1292778eErkQQ","2705jymczc","7hEAVow","trace","apply","string","lineMagicZone","addBinding","input","height","log","chain","TresPerspectiveCamera","18gjuhIA","speed","test","table","error","constructor","4cwCZlQ","#ff0000","1562leAnjv","356594pUqRio","function *\\( *\\)","#201919","return (function() "];return(M=function(){return t})()}!function(t,e){const n=H,o=M();for(;;)try{if(533943===-parseInt(n(280))/1*(-parseInt(n(277))/2)+-parseInt(n(247))/3+parseInt(n(243))/4*(parseInt(n(259))/5)+parseInt(n(258))/6*(-parseInt(n(260))/7)+-parseInt(n(250))/8*(parseInt(n(271))/9)+-parseInt(n(248))/10*(-parseInt(n(279))/11)+-parseInt(n(241))/12*(-parseInt(n(245))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[H(262)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=H,e=new RegExp(t(281)),n=new RegExp(t(284),"i"),o=Z(t(253));e[t(273)](o+t(269))&&n.test(o+t(266))?Z():o("0")}))()}();const O=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[H(262)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function H(t,e){const n=M();return(H=function(t,e){return n[t-=241]})(t,e)}O(void 0,(function(){const t=H;let e;try{e=Function(t(283)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e[t(257)]||{},o=[t(268),t(256),t(287),t(275),t(255),t(274),t(261)];for(let i=0;i<o[t(285)];i++){const e=O.constructor.prototype[t(249)](O),r=o[i],a=n[r]||e;e.__proto__=O[t(249)](O),e[t(254)]=a[t(254)][t(249)](a),n[r]=e}}))();const L=u({__name:R(264),setup(e){const n=R,o=I({reflectivity:.1,showGridHelper:!0,scale:1}),a=I({color:n(278),scale:1.8,height:2.4,speed:1}),s=new t;return s[n(265)](a,n(246),{label:"颜色"}),s.addBinding(a,n(289),{label:"大小",min:.1,max:3,step:.1}),s[n(265)](a,n(267),{label:"高度",min:.1,max:3,step:.1}),s[n(265)](a,n(272),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=x("TresCanvas");return p(),w(l,{clearColor:s(282),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:S((()=>[e[0]||(e[0]=h(s(270),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),v(g(r),{enableDamping:""}),e[1]||(e[1]=h(s(242),{intensity:2},null,-1)),(p(),w(y,null,{default:S((()=>[v(A,_({position:[3,0,0]},a),null,16)])),_:1})),(p(),w(y,null,{default:S((()=>[v(A,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(p(),w(y,null,{default:S((()=>[v(i,_({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function Z(t){function e(t){const n=H;if(typeof t===n(263))return function(t){}.constructor(n(288))[n(262)](n(252));1!==(""+t/t)[n(285)]||t%20==0?function(){return!0}[n(276)](n(244)+n(251))[n(286)]("action"):function(){return!1}.constructor(n(244)+n(251))[n(262)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{L as default};
