import"./@fesjs.6cRBmkVw1731987698599.js";import{_ as t}from"./jszip.RFL6OsWf1731987698599.js";import{F as n}from"./file-saver.4-RmrwN11731987698599.js";import{_ as e}from"./three.3RwiW87x1731987698599.js";const s=a;function o(){const t=["action","data:image/GIF;base64,","url:images/","constructor","__proto__","data:image/PNG;base64,","get","714PunVHt","async","18CKFDhz","782229Ipiufg","onerror","data:","data:image/png;base64,","init","gger","result","image/webp","Cache","image/jpeg",".json","GIF","slice","geometries","application/octet-stream","forEach","PNG","images","enabled","data:image/jpeg;base64,","info","apply","2930520UFumIV","660474OQVbMU","readAsDataURL","push","14sMSShR","WEBP","length","function *\\( *\\)","data:image/","blob","data:image/gif;base64,","FileLoader","trace","data:image/webp;base64,","stringify","toString","uuid","toLowerCase","loadAsync","url:geometries/",";base64,","input","scene","image/bmp","split","console","url:","file","30UwkZQl","error","toUpperCase","parse","while (true) {}","catch","exception","then","stateObject","BufferGeometry","generateAsync","data:image/JPEG;base64,","1512790KbVakM","url","setResponseType","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","105652XnzOui","files","1062eyOCHC","app.json","onloadend","warn","test","bind","startsWith","folder","image/gif","pop","type","data","JPEG","image/png","debu","4340798oGzhpq","string","substring"];return(o=function(){return t})()}!function(t,n){const e=a,s=o();for(;;)try{if(198130===-parseInt(e(188))/1*(-parseInt(e(117))/2)+-parseInt(e(120))/3+parseInt(e(186))/4*(-parseInt(e(170))/5)+parseInt(e(143))/6*(-parseInt(e(146))/7)+parseInt(e(142))/8+parseInt(e(119))/9*(-parseInt(e(182))/10)+parseInt(e(203))/11)break;s.push(s.shift())}catch(r){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function a(t,n){const e=o();return(a=function(t,n){return e[t-=112]})(t,n)}!function(){r(this,(function(){const t=a,n=new RegExp(t(149)),e=new RegExp(t(185),"i"),s=d(t(124));n[t(192)](s+"chain")&&e.test(s+t(163))?d():s("0")}))()}();const i=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[a(141)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function c(t){const n=s,o=new(e[n(153)]);return new Promise(((e,s)=>{const r=n;o.load(t,(t=>e(JSON[r(173)](t))),void 0,(t=>s(t)))}))}async function u(t){const n=s,o=new(e[n(153)]);return new Promise(((e,r)=>{const a=n;o.setResponseType(a(151)),o.load(t,(n=>{const o=a,i=new FileReader;i[o(190)]=()=>{const n=o,r=function(t){const n=s,e=t.split(".").pop()[n(159)]();return{jpg:n(129),jpeg:n(129),png:n(201),gif:n(196),bmp:n(165),webp:n(127)}[e]||n(134)}(t),a=i[n(126)][n(166)](",")[1];e(n(122)+r+";base64,"+a)},i.onerror=t=>{r(t)},i[o(144)](n)}),void 0,(t=>r(t)))}))}i(void 0,(function(){const t=a,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(167)]=n[t(167)]||{},s=["log",t(191),t(140),"error",t(176),"table",t(154)];for(let o=0;o<s[t(148)];o++){const n=i[t(113)].prototype[t(193)](i),r=s[o],a=e[r]||n;n[t(114)]=i[t(193)](i),n[t(157)]=a[t(157)][t(193)](a),e[r]=n}}))(),e[s(128)][s(138)]=!0;const p=n=>{const o=s,r=new(e[o(153)]);return r[o(184)](o(151)),new Promise(((e,s)=>{r.load(n,(async n=>{const s=a;e(await t[s(160)](n))}),void 0,(t=>s(t)))}))},l=t=>{const n=s,e=t[n(205)](0,15),o=n(139),r=n(181),a=n(123),i=n(115),c=n(152),u=n(207),p=n(155);return o[n(194)](e)||r.startsWith(e)?n(200):a[n(194)](e)||i.startsWith(e)?n(136):c.startsWith(e)||u.startsWith(e)?n(131):p[n(194)](e||"data:image/WEBP;base64,".startsWith(e))?n(147):"Unknown"},f=e=>{const o=s,r=[];e[o(164)][o(133)]&&e[o(164)].geometries[o(135)]((t=>{const n=o;t[n(198)]===n(179)&&(r[n(145)]({uuid:t[n(158)],data:t[n(199)]}),t[n(199)]=n(161)+t[n(158)]+n(130))}));const a=[];e[o(164)][o(137)]&&e[o(164)][o(137)][o(135)]((t=>{const n=o;t[n(183)]&&(a[n(145)]({uuid:t[n(158)],url:t[n(183)]}),t.url[n(198)]?t[n(183)]=n(112)+t[n(158)]+"."+t.url[n(198)]+n(130):t[n(183)]=n(112)+t[n(158)]+"."+l(t[n(183)]))}));const i=new t;if(r[o(148)]){const t=i[o(195)](o(133));r[o(135)]((n=>{const e=o;t.file(n[e(158)]+".json",JSON[e(156)](n[e(199)]))}))}if(a[o(148)]){const t=i[o(195)](o(137));a[o(135)]((n=>{const e=o;n.url[e(198)]?t[e(169)](n[e(158)]+"."+n[e(183)][e(198)]+e(130),JSON[e(156)](n[e(183)])):t.file(n[e(158)]+"."+l(n[e(183)]),n[e(183)][e(166)](e(162))[e(197)](),{base64:!0})}))}const c=JSON[o(156)](e);return i[o(169)]("app.json",c),i[o(180)]({type:o(151)}).then((t=>{n.saveAs(t,"config.zip")}))},g=(t,n,e)=>{const o=s;t[o(133)]<=0&&t[o(137)]<=0&&e(n)},m=(n,e)=>{const o=s;let r=null;return t.loadAsync(n)[o(177)]((t=>{const n=o;t[n(187)][n(189)]?t[n(187)][n(189)].async(n(204))[n(177)]((o=>{var i,c;const u=n;r=JSON.parse(o);const p=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t[o(164)][o(133)])||n[o(135)]((t=>{const n=o;t[n(199)][n(194)](n(168))&&r[n(133)]++})),null==(e=t[o(164)].images)||e[o(135)]((t=>{const n=o;t[n(183)][n(194)](n(168))&&r[n(137)]++})),r})(r);g(p,r,e),null==(i=r.scene.geometries)||i.forEach((n=>{const s=a;n[s(199)][s(194)](s(168))&&t[s(187)][n.data[s(132)](4)].async("string")[s(177)]((t=>{const o=s;n[o(199)]=JSON[o(173)](t),p[o(133)]--,g(p,r,e)}))})),null==(c=r.scene.images)||c[u(135)]((n=>{const s=u;if(n[s(183)][s(194)](s(168))){const o=n[s(183)][s(132)](4);o.endsWith(s(130))?t[s(187)][o].async("string").then((t=>{const o=s;n[o(183)]=JSON[o(173)](t),p[o(137)]--,g(p,r,e)})):t[s(187)][o][s(118)]("base64")[s(177)]((t=>{const a=s,i=o.split("."),c=i[i.length-1][a(172)]();n[a(183)]=a(150)+c+a(162)+t,p.images--,g(p,r,e)}))}}))})):console.error("非标准文件：不存在 app.json")}),(t=>{console[o(171)](n.name+": "+t.message)})),r};function d(t){function n(t){const e=a;if("string"==typeof t)return function(t){}.constructor(e(174))[e(141)]("counter");1!==(""+t/t)[e(148)]||t%20==0?function(){return!0}[e(113)]("debugger").call(e(206)):function(){return!1}[e(113)](e(202)+e(125))[e(141)](e(178)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,u as b,f as e,l as g,m as i,c as l};
