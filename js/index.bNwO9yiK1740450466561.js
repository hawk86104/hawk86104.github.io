var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.S3MMdoCU1740450466561.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.jfM8meFi1740450466561.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.03lNjMeC1740450466561.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,_ as x,M as v,A as m,b as w,Q as h,ar as g}from"./three.HaMTRCf61740450466561.js";import{m as d,e as y}from"./@tresjs.9lmhsV6t1740450466561.js";import{u as S}from"./index.f6g8K_Pe1740450466561.js";import{F as _,C as P}from"./three-stdlib.vB_UH6QL1740450466561.js";import{d as z}from"./@vue.NRI7TcgI1740450466561.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.IAMJOoqK1740450466561.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.yicVRmUe1740450466561.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.kqG32o_C1740450466561.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.uqq1lRki1740450466561.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.tFJOB3DT1740450466561.js";const b=E;function I(){const t=["input","377830QfDLBO","return (function() ","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","9410dENNHl","739114mawkPd","gger","while (true) {}","2262978PQwces","1587624SfCarv","console","282785chgXjH","action",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"log","call","prototype","chain","1111040CeeDXv","6XgBbpW","toString","length","error","constructor","bind","table","11331mejEgN","test","20rImYPY","string",'{}.constructor("return this")( )'];return(I=function(){return t})()}function E(t,e){const n=I();return(E=function(t,e){return n[t-=315]})(t,e)}!function(t,e){const n=E,i=I();for(;;)try{if(371884===parseInt(n(317))/1+-parseInt(n(343))/2*(parseInt(n(325))/3)+parseInt(n(334))/4*(parseInt(n(338))/5)+-parseInt(n(346))/6+-parseInt(n(324))/7+-parseInt(n(315))/8+-parseInt(n(332))/9*(-parseInt(n(342))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(340)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){M(this,(function(){const t=E,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(341),"i"),i=L("init");e.test(i+t(323))&&n[t(333)](i+t(337))?L():i("0")}))()}();const A=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(340)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();A(void 0,(function(){const t=E;let e;try{e=Function(t(339)+t(336)+");")()}catch(r){e=window}const n=e[t(316)]=e[t(316)]||{},i=[t(320),"warn","info",t(328),"exception",t(331),"trace"];for(let a=0;a<i[t(327)];a++){const e=A.constructor[t(322)].bind(A),r=i[a],o=n[r]||e;e.__proto__=A.bind(A),e[t(326)]=o[t(326)][t(330)](o),n[r]=e}}))();const D=b(319);function L(t){function e(t){const n=E;if(typeof t===n(335))return function(t){}[n(329)](n(345))[n(340)]("counter");1!==(""+t/t)[n(327)]||t%20==0?function(){return!0}[n(329)]("debu"+n(344))[n(321)](n(318)):function(){return!1}[n(329)]("debu"+n(344))[n(340)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function U(t,e){const n=O();return(U=function(t,e){return n[t-=187]})(t,e)}const j=U;!function(t,e){const n=U,i=O();for(;;)try{if(309011===-parseInt(n(187))/1+-parseInt(n(190))/2*(-parseInt(n(199))/3)+-parseInt(n(206))/4*(parseInt(n(216))/5)+parseInt(n(204))/6+parseInt(n(219))/7*(parseInt(n(218))/8)+-parseInt(n(196))/9*(parseInt(n(194))/10)+parseInt(n(207))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(212)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(){const t=["constructor","clone","546HzUdTy","counter","trace","chain","220DmVVab","string","104841aaZhkk","return (function() ","uniforms","1740kPvbRx","test","exception","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3261264mKHiMv","call","348lxwaIe","876953xIEzDo","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","bind","__proto__","stateObject","apply",'{}.constructor("return this")( )',"console","while (true) {}","30665jtJdBB","gger","28952qZAWpm","910LZSjCy","function *\\( *\\)","toString","debu","prototype","defines","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","length","input","153217EXcuBS"];return(O=function(){return t})()}!function(){T(this,(function(){const t=U,e=new RegExp(t(220)),n=new RegExp(t(203),"i"),i=W("init");e[t(200)](i+t(193))&&n[t(200)](i+t(228))?W():i("0")}))()}();const V=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(212)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function R(t){const e=U,n=a({},t);return e(224)in t&&(n[e(224)]=a({},t.defines)),e(198)in t&&(n[e(198)]=s[e(189)](t.uniforms)),n}V(void 0,(function(){const t=U;let e;try{e=Function(t(197)+t(213)+");")()}catch(r){e=window}const n=e[t(214)]=e[t(214)]||{},i=[t(202),"warn","info","error",t(201),"table",t(192)];for(let a=0;a<i[t(227)];a++){const e=V[t(188)][t(223)][t(209)](V),r=i[a],o=n[r]||e;e[t(210)]=V[t(209)](V),e[t(221)]=o[t(221)].bind(o),n[r]=e}}))();const C={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:j(208),fragmentShader:j(225)+D+j(226)};function W(t){function e(t){const n=U;if(typeof t===n(195))return function(t){}[n(188)](n(215))[n(212)](n(191));1!==(""+t/t)[n(227)]||t%20==0?function(){return!0}.constructor("debugger")[n(205)]("action"):function(){return!1}[n(188)](n(222)+n(217))[n(212)](n(211)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=X;!function(t,e){const n=X,i=H();for(;;)try{if(209269===parseInt(n(269))/1+-parseInt(n(244))/2*(parseInt(n(216))/3)+parseInt(n(203))/4*(parseInt(n(238))/5)+parseInt(n(249))/6+-parseInt(n(266))/7+parseInt(n(211))/8*(parseInt(n(202))/9)+-parseInt(n(229))/10*(-parseInt(n(261))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(233)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function H(){const t=["autoClear","14mnpviW","bind","error","floorPowerOfTwo","_mipMaterials","725958nicLQm","prototype","setClearColor","exception","table",'{}.constructor("return this")( )',"material","setClearAlpha","type","init","replace","copy","979QUYEIE","height","image","value","string","2288503iCzwpo","stateObject","originalMapSize","83142bnuUln","_swapTarget","minFilter","log","Y_IS_EVEN","chain","trace","setViewOffset","test","call","27648DNeKpI","8aPrUCm","defines","constructor","gger","fragmentShader","tDiffuse","clear","magFilter","976uXRCKZ","info","forEach","uniforms","length","132879sCaujZ","_mipQuad","console","input","function *\\( *\\)","render","warn","floor","X_IS_EVEN","width","getClearAlpha","map","action","17260pSSUwN","debu","texture","isWebGLRenderTarget","apply","dispose","update","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","284290Ycymll","set","setRenderTarget","setSize","_copyQuad"];return(H=function(){return t})()}!function(){N(this,(function(){const t=X,e=new RegExp(t(220)),n=new RegExp(t(236),"i"),i=Y(t(258));e.test(i+t(274))&&n[t(277)](i+t(219))?Y():i("0")}))()}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();Z(void 0,(function(){const t=X;let e;try{e=Function("return (function() "+t(254)+");")()}catch(r){e=window}const n=e[t(218)]=e[t(218)]||{},i=[t(272),t(222),t(212),t(246),t(252),t(253),t(275)];for(let a=0;a<i[t(215)];a++){const e=Z[t(205)][t(250)][t(245)](Z),r=i[a],o=n[r]||e;e.__proto__=Z[t(245)](Z),e.toString=o.toString[t(245)](o),n[r]=e}}))();const Q=new l;class F{constructor(t){const e=X;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=R(C);n[e(207)]=n[e(207)][e(259)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(R(n)),i[0][e(204)][e(224)]=0,i[0][e(204)][e(273)]=0,i[1]=new c(R(n)),i[1].defines[e(224)]=1,i[1][e(204)][e(273)]=0,i[2]=new c(R(n)),i[2].defines[e(224)]=0,i[2].defines[e(273)]=1,i[3]=new c(R(n)),i[3][e(204)][e(224)]=1,i[3][e(204)].Y_IS_EVEN=1;const r=new u;r[e(231)][e(271)]=p,r[e(231)][e(210)]=p,this[e(270)]=r,this[e(242)]=new _(new c(P)),this[e(217)]=new _(null),this[e(248)]=i}[k(235)](t,e,n,i=!1){const r=k;t[r(232)]&&(t=t.texture);const o=n[r(243)],s=n[r(226)](),l=n.getRenderTarget();n.getClearColor(Q);const c=this[r(242)],u=this[r(217)],p=this[r(270)],x=this[r(248)];let v,m;i?(v=f[r(247)](t[r(263)][r(225)]),m=f[r(247)](t[r(263)].height)):(v=Math.floor(t.image[r(225)]),m=Math[r(223)](t[r(263)][r(262)]));const w=Math[r(223)](1.5*v),h=Math[r(223)](m);e[r(241)](w,h),p.texture[r(257)]!==e[r(231)][r(257)]?(p[r(234)](),p[r(260)](e),p.texture[r(263)]=a({},p[r(231)].image)):p[r(241)](w,h),n[r(243)]=!1,n[r(251)](0),n[r(256)](),c[r(255)][r(214)][r(208)][r(264)]=t,c.camera[r(276)](v,m,0,0,w,h),n[r(240)](e),n[r(209)](),c[r(221)](n),n[r(240)](p),n[r(209)](),c[r(221)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(214)][r(227)][r(264)]=p[r(231)],t[r(214)].parentLevel[r(264)]=y,t[r(214)].parentMapSize.value[r(239)](g,d),t[r(214)][r(268)][r(264)][r(239)](v,m),u.material=t,g=Math.floor(g/2),d=Math.floor(d/2);const i=h-2*d;n[r(240)](e),u.camera[r(276)](g,d,-v,-i,w,h),u[r(221)](n),n.setRenderTarget(p),t[r(214)][r(227)].value=e[r(231)],u.render(n),y++}return n[r(240)](l),n[r(256)](s),n[r(251)](Q),n[r(243)]=o,y+1}[k(234)](){const t=k;this._swapTarget.dispose(),this._mipQuad.dispose(),this._copyQuad.dispose(),this._mipMaterials[t(213)]((e=>e[t(234)]()))}}function X(t,e){const n=H();return(X=function(t,e){return n[t-=202]})(t,e)}function Y(t){function e(t){const n=X;if(typeof t===n(265))return function(t){}[n(205)](n(237))[n(233)]("counter");1!==(""+t/t)[n(215)]||t%20==0?function(){return!0}.constructor("debugger")[n(278)](n(228)):function(){return!1}.constructor(n(230)+n(206)).apply(n(267)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const $=q;!function(t,e){const n=q,i=G();for(;;)try{if(889483===-parseInt(n(333))/1+parseInt(n(304))/2*(parseInt(n(271))/3)+-parseInt(n(318))/4+parseInt(n(316))/5+-parseInt(n(301))/6*(parseInt(n(313))/7)+-parseInt(n(286))/8+parseInt(n(300))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[q(340)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){B(this,(function(){const t=q,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(312),"i"),i=tt(t(332));e[t(334)](i+"chain")&&n[t(334)](i+"input")?tt():i("0")}))()}();const K=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[q(340)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function G(){const t=["14135296YXmeOF","info","multiply","dot","sub","reflectorMipMap","applyQuaternion","log","elements","return (function() ","forEach","counter","debu","Vector3","32554341ZcRmNi","2526RPkEKZ","resolution","copy","9518KOHWJT","autoClear","Plane","getWorldQuaternion","matrixWorldInverse","Vector4","__proto__","sign","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","23387uFdHUe",'{}.constructor("return this")( )',"set","759390eFNfnq","console","60828ElmpQH","setMask","projectionMatrix","bind","clear","lookAt","negate","length","string","action","clone","buffers","PerspectiveCamera","add","init","28753nxzMsV","test","UnsignedByteType","toString","stateObject","constructor","depth","apply","call","prototype","visible","matrixWorld","getRenderTarget","213UoZlCV","ignoreObjects","reflect","normal","projectPoint","multiplyScalar","applyMatrix4","getWorldPosition","parent","warn","gger","value","setRenderTarget","table","Quaternion"];return(G=function(){return t})()}K(void 0,(function(){const t=q,e=function(){const t=q;let e;try{e=Function(t(295)+t(314)+");")()}catch(n){e=window}return e}(),n=e[t(317)]=e[t(317)]||{},i=[t(293),t(280),t(287),"error","exception",t(284),"trace"];for(let r=0;r<i[t(325)];r++){const e=K[t(338)][t(342)][t(321)](K),a=i[r],o=n[a]||e;e[t(310)]=K[t(321)](K),e[t(336)]=o[t(336)].bind(o),n[a]=e}}))();const J=z({__name:$(291),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=$,i=t,r=new(x[n(306)]),a=new v,o=new(x[n(330)]),s=new F,l=S({width:i.resolution,height:i[n(302)],settings:{type:m}}),c=S({width:i.resolution,height:i[n(302)],settings:{type:x[n(335)]}}),{camera:u,renderer:p,scene:f}=d(),{onBeforeLoop:_}=y();return _((()=>{const t=n;(()=>{const t=n;if(!u[t(282)])return;r[t(315)](new(x[t(299)])(0,1,0),0),r[t(277)](i[t(279)][t(269)]),o.copy(u[t(282)]);const e=new(x[t(299)])(0,0,1)[t(328)]().negate(),s=u[t(282)].getWorldPosition(new(x[t(299)]));e[t(273)](r[t(274)]);const c=new(x[t(299)]);r[t(275)](s,c);const m=c[t(328)]();m[t(290)](s),m[t(331)](c),o.position[t(303)](m);const d=new w(0,0,-1);d.applyQuaternion(u[t(282)][t(307)](new h)),d[t(331)](s);const y=new(x[t(299)]);i[t(279)][t(278)](y),y[t(290)](d),y[t(273)](r[t(274)])[t(324)](),y[t(331)](i.parent[t(278)](new w)),o.up[t(315)](0,1,0),o[t(292)](u.value[t(307)](new(x[t(285)]))),o.up[t(273)](r.normal),o[t(323)](y),o.updateMatrixWorld();const S=new v;S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S[t(288)](o.projectionMatrix),S[t(288)](o[t(308)]),a[t(303)](S),r[t(277)](o[t(308)]);const _=new(x[t(309)])(r.normal.x,r.normal.y,r[t(274)].z,r.constant),P=o[t(320)],z=new g;z.x=(Math[t(311)](_.x)+P[t(294)][8])/P.elements[0],z.y=(Math.sign(_.y)+P[t(294)][9])/P.elements[5],z.z=-1,z.w=(1+P[t(294)][10])/P[t(294)][14],_[t(276)](2/_[t(289)](z)),P[t(294)][2]=_.x,P[t(294)][6]=_.y,P.elements[10]=_.z+1,P[t(294)][14]=_.w;const b=p.value[t(270)]();p[t(282)][t(283)](l[t(282)]),p[t(282)].state[t(329)][t(339)][t(319)](!0),!1===p[t(282)][t(305)]&&p[t(282)][t(322)](),i[t(272)][t(296)]((t=>t.visible=!1)),p.value.render(f[t(282)],o),i[t(272)].forEach((e=>e[t(343)]=!0)),p[t(282)][t(283)](b)})(),l[t(282)]&&c[t(282)]&&p.value&&s.update(l[t(282)].texture,c[t(282)],p[t(282)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function q(t,e){const n=G();return(q=function(t,e){return n[t-=269]})(t,e)}function tt(t){function e(t){const n=q;if(typeof t===n(326))return function(t){}[n(338)]("while (true) {}")[n(340)](n(297));1!==(""+t/t)[n(325)]||t%20==0?function(){return!0}[n(338)](n(298)+n(281))[n(341)](n(327)):function(){return!1}[n(338)](n(298)+"gger").apply(n(337)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function et(t,e){var n=rt();return(et=function(t,e){return n[t-=418]})(t,e)}!function(t,e){for(var n=et,i=rt();;)try{if(834137===parseInt(n(428))/1+parseInt(n(450))/2+parseInt(n(434))/3*(-parseInt(n(427))/4)+-parseInt(n(443))/5*(-parseInt(n(436))/6)+-parseInt(n(418))/7*(-parseInt(n(425))/8)+-parseInt(n(430))/9+-parseInt(n(437))/10*(-parseInt(n(442))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(448)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){nt(this,(function(){var t=et,e=new RegExp(t(419)),n=new RegExp(t(441),"i"),i=at(t(446));e.test(i+"chain")&&n[t(445)](i+t(444))?at():i("0")}))()}();var it=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(448)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function rt(){var t=["7923179vWQhWQ","986695pIesOM","input","test","init","log","apply","debu","173276KWRZlF","console","8365MyDKse","function *\\( *\\)","warn","while (true) {}",'{}.constructor("return this")( )',"bind","gger","4928IgOjBT","constructor","48vToBaT","94985IWGniL","table","9093456nJNAHf","action","toString","return (function() ","293721dhlWJD","error","42KagsMT","10mvNIXD","call","trace","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(rt=function(){return t})()}function at(t){function e(t){var n=et;if("string"==typeof t)return function(t){}[n(426)](n(421))[n(448)]("counter");1!==(""+t/t)[n(440)]||t%20==0?function(){return!0}[n(426)](n(449)+n(424))[n(438)](n(431)):function(){return!1}[n(426)](n(449)+n(424)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}it(void 0,(function(){for(var t=et,e=function(){var t,e=et;try{t=Function(e(433)+e(422)+");")()}catch(n){t=window}return t}(),n=e[t(451)]=e[t(451)]||{},i=[t(447),t(420),"info",t(435),"exception",t(429),t(439)],r=0;r<i[t(440)];r++){var a=it[t(426)].prototype[t(423)](it),o=i[r],s=n[o]||a;a.__proto__=it.bind(it),a.toString=s[t(432)][t(423)](s),n[o]=a}}))();export{J as _};
