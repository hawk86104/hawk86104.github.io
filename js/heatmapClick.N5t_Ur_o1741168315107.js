import{D as t,o as n}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{P as e}from"./tweakpane.yDiyAAkA1741168315107.js";import{Y as o,a0 as r,l as a,_ as s,ak as i,al as u}from"./three.FxqAALWt1741168315107.js";import{_ as c}from"./heatmap.js-fix.b6m3V1OL1741168315107.js";import{d as l,a3 as p,a2 as f,o as d,H as h,u as g,r as m,e as v,f as y,g as b,N as w,j as x,al as _,aj as j,ak as I,m as z}from"./@vue.NRI7TcgI1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./@amap.d8-LJgNK1741168315107.js";function C(t,n){const e=U();return(C=function(t,n){return e[t-=490]})(t,n)}const k=C;!function(t,n){const e=C,o=U();for(;;)try{if(329519===parseInt(e(520))/1+parseInt(e(531))/2+-parseInt(e(560))/3*(-parseInt(e(496))/4)+parseInt(e(522))/5+parseInt(e(492))/6*(parseInt(e(505))/7)+parseInt(e(538))/8+-parseInt(e(535))/9*(parseInt(e(549))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=C,n=new RegExp(t(566)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=B(t(528));n[t(557)](o+t(542))&&e.test(o+t(501))?B():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(495)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(563)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(569)]=n.console||{},o=[t(533),t(562),t(546),t(539),t(521),t(547),t(526)];for(let r=0;r<o[t(548)];r++){const n=A[t(515)][t(561)][t(541)](A),a=o[r],s=e[a]||n;n[t(568)]=A.bind(A),n.toString=s[t(507)][t(541)](s),e[a]=n}}))();const M=[k(544)],T=l({__name:k(514),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=k;let i,u;const l=n,{nodes:m}=([i,u]=p((()=>t(e(550),{draco:!0,decoderPath:e(552)}))),i=await i,u(),i);m[e(570)][e(571)].set(-5088.96,-3.08,39374.7),m[e(570)][e(502)][e(559)](.01);let v=null,y=null,b=null;y=new o((()=>{const t=e;return b=document[t(504)]("heatmap-canvas"),b[t(532)].position=t(556),b[t(532)].top=t(567),b[t(532)][t(497)]="0",document[t(530)][t(564)](b),v=c[t(511)]({container:b,width:256,height:256,blur:t(558),radius:l[t(540)]}),v[t(554)][t(508)].style.border=t(500),v[t(554)].canvas[t(519)]=function(n){const e=t;v[e(534)]({x:n[e(513)],y:n[e(523)],value:1,radius:l[e(540)]}),v.setDataMax(1),y&&(y[e(525)]=!0)},v})()._renderer[e(508)]);const w={vertexShader:e(512),fragmentShader:e(537),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},x=new a(w);m[e(570)][e(545)]=x;return(t=>{const n=e;t[n(510)]();const{max:o,min:r}=t[n(516)];t[n(553)]("uv");const a=o.x-r.x,i=o.z-r.z,u=[];for(let e=0;e<t[n(499)][n(571)][n(493)];e++)u.push((t[n(499)][n(571)][n(518)](e)-r.x)/a),u[n(543)]((t[n(499)][n(571)][n(529)](e)-r.z)/i);const c=new Float32Array(u);t[n(494)]("uv",new(s[n(491)])(c,2))})(m[e(570)][e(503)]),f((()=>{const t=e;b[t(532)][t(506)]=""+(l.show2dCanvas?t(555):"none")})),(t,n)=>{const o=e;return d(),h(o(517),{object:g(m)[o(570)]},null,8,M)}}});function B(t){function n(t){const e=C;if(typeof t===e(498))return function(t){}[e(515)](e(551))[e(495)](e(490));1!==(""+t/t)[e(548)]||t%20==0?function(){return!0}[e(515)]("debu"+e(527))[e(565)](e(536)):function(){return!1}[e(515)](e(524)+"gger")[e(495)](e(509)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function U(){const t=["375217buzqzI","exception","1901820Qozmsf","layerY","debu","needsUpdate","trace","gger","init","getZ","body","208812YKosPp","style","log","addData","189ThFjOR","action","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","2852296yZXvWC","error","radius","bind","chain","push","object","material","info","table","length","1007450KWTBEI","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","while (true) {}","./draco/","deleteAttribute","_renderer","block","absolute","test","0.8","setScalar","1909461QXkpWg","prototype","warn","return (function() ","appendChild","call","function *\\( *\\)","40px","__proto__","console","mesh_0","position","counter","BufferAttribute","75594AtxRWy","count","setAttribute","apply","4ziouMg","left","string","attributes","1px solid #5384ff","input","scale","geometry","createElement","329BcUWoU","display","toString","canvas","stateObject","computeBoundingBox","create","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","layerX","heatmapClickCom","constructor","boundingBox","primitive","getX","onclick"];return(U=function(){return t})()}function E(){const t=["log","addBinding","圆圈的大小","#030311","1199664QAOkQs","TresGridHelper","18uYgkwR","TresCanvas","show2dCanvas","function *\\( *\\)","42644gIuNdw","#ffffff","615ZuzuJG","1894ElTeAM","constructor","input","12102RjLOMF","table","bind","addButton","4616510Guhgra","stateObject","1302867WljusU","toString","info","gger","TresPerspectiveCamera","error","debu","TresDirectionalLight","148ERTbzb","heatmapClick","23170ljYRhU","__proto__","while (true) {}","chain","length","trace","test","apply","counter",'{}.constructor("return this")( )',"console"];return(E=function(){return t})()}const O=Z;!function(t,n){const e=Z,o=E();for(;;)try{if(131631===parseInt(e(408))/1+parseInt(e(405))/2*(-parseInt(e(404))/3)+-parseInt(e(379))/4*(parseInt(e(381))/5)+-parseInt(e(398))/6*(-parseInt(e(402))/7)+parseInt(e(396))/8+-parseInt(e(414))/9+parseInt(e(412))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(388)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=Z,n=new RegExp(t(401)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=F("init");n[t(387)](o+t(384))&&e.test(o+t(407))?F():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(t,n){const e=E();return(Z=function(t,n){return e[t-=375]})(t,n)}W(void 0,(function(){const t=Z;let n;try{n=Function("return (function() "+t(390)+");")()}catch(r){n=window}const e=n.console=n[t(391)]||{},o=[t(392),"warn",t(416),t(376),"exception",t(409),t(386)];for(let a=0;a<o[t(385)];a++){const n=W[t(406)].prototype[t(410)](W),r=o[a],s=e[r]||n;n[t(382)]=W[t(410)](W),n[t(415)]=s[t(415)].bind(s),e[r]=n}}))();const D=l({__name:O(380),setup(t){const o=O,r={clearColor:o(395),shadows:!0,alpha:!0,outputColorSpace:i,shadowMapType:u,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),s=new e({title:"参数",expanded:!0});return s[o(393)](a,o(400),{label:"显示二维图"}),s[o(393)](a,"radius",{label:o(394),min:.1,max:30,step:.1}),s[o(411)]({title:"点击左侧蓝色画框"}),(t,e)=>{const s=o,i=v(s(399));return d(),y(i,z(r,{"window-size":""}),{default:b((()=>[e[0]||(e[0]=w(s(375),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),x(g(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w(s(378),{position:[5,10,7.5],color:s(403),intensity:5},null,-1)),e[2]||(e[2]=w(s(397),{args:[50,25]},null,-1)),(d(),y(_,null,{default:b((()=>[x(T,j(I(a)),null,16)])),_:1}))])),_:1},16)}}});function F(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}.constructor(e(383))[e(388)](e(389));1!==(""+t/t)[e(385)]||t%20==0?function(){return!0}.constructor("debu"+e(417)).call("action"):function(){return!1}[e(406)](e(377)+e(417)).apply(e(413)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
