import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.bLKO3xyw1731379053498.js";import{_ as s}from"./index.hyZat_d01731379053498.js";import{_ as i,a as c,cF as u}from"./three.bXjbKLxC1731379053498.js";import{P as a}from"./tweakpane.yHWGBmom1731379053498.js";import{I as l,C as p,N as f,c as m,d,a as g}from"./three-mesh-bvh.npnPceGL1731379053498.js";import{d as h,a6 as y,b as w,a3 as j,o as b,D as _,J as I,u as v,F as x,r as T,e as z,j as A,g as C,m as F,f as k,al as B}from"./@vue.-THQH3GC1731379053498.js";import"./@vueuse.DWZrQ1Sl1731379053498.js";import"./index.wjB51FDk1731379053498.js";import"./@fesjs.vI9WP6bH1731379053498.js";import"./vue-router.ZGnIDLu91731379053498.js";import"./lodash-es.kYt-_xTG1731379053498.js";import"./@qlin.yHhFDldE1731379053498.js";import"./pinia.ZMhAaG0S1731379053498.js";import"./vue-demi.C4xddsk91731379053498.js";import"./@floating-ui.BPbuo5Gx1731379053498.js";import"./@juggle.7yjBMqoW1731379053498.js";import"./chalk.w3XuUwyA1731379053498.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1731379053498.js";import"./@iconify.3mYF4lU71731379053498.js";import"./dompurify.rQUea5mq1731379053498.js";import"./utils.1SU-xsBF1731379053498.js";import"./default.vue_vue_type_script_setup_true_lang.K6b4mIP51731379053498.js";import"./three-mesh-ui.module.CkUpvwEz1731379053498.js";!function(t,n){const e=W,r=O();for(;;)try{if(523842===-parseInt(e(160))/1*(parseInt(e(145))/2)+-parseInt(e(151))/3*(parseInt(e(163))/4)+-parseInt(e(171))/5*(-parseInt(e(188))/6)+parseInt(e(191))/7*(parseInt(e(164))/8)+parseInt(e(152))/9+-parseInt(e(149))/10*(parseInt(e(158))/11)+-parseInt(e(176))/12*(parseInt(e(183))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const M=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(180)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){M(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(186),"i"),r=R(t(165));n.test(r+t(175))&&e[t(189)](r+t(146))?R():r("0")}))()}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(180)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=O();return(W=function(t,n){return e[t-=144]})(t,n)}function O(){const t=["926eFYWba","input","constructor","value","109740ndGwDN","button","124158rzlzeC","6395724CEqvdW",'{}.constructor("return this")( )',"__proto__","touch","length","clientY","22QXRUil","clientX","1699jlltCU","innerWidth","addEventListener","4rhVHki","47592QyWrLc","init","pointerdown","firstHitOnly","Raycaster","console","intersectObject","5045445sLLvtG","table","debu","counter","chain","6336FSnFrn","string","call","gger","apply","log","toString","33124mcwFtA","error","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","6ElHaKW","test","setFromCamera","1176mldwyW","pointerType","return (function() ","innerHeight"];return(O=function(){return t})()}S(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(193)+t(153)+");")()}catch(e){n=window}return n}(),e=n[t(169)]=n[t(169)]||{},r=[t(181),t(185),"info",t(184),"exception",t(172),"trace"];for(let o=0;o<r[t(156)];o++){const n=S.constructor.prototype[t(187)](S),s=r[o],i=e[s]||n;n[t(154)]=S[t(187)](S),n[t(182)]=i.toString[t(187)](i),e[s]=n}}))();function R(t){function n(t){const e=W;if(typeof t===e(177))return function(t){}[e(147)]("while (true) {}")[e(180)](e(174));1!==(""+t/t)[e(156)]||t%20==0?function(){return!0}[e(147)]("debugger")[e(178)]("action"):function(){return!1}[e(147)](e(173)+e(179))[e(180)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=U;!function(t,n){const e=U,r=H();for(;;)try{if(930226===-parseInt(e(492))/1*(parseInt(e(450))/2)+parseInt(e(469))/3+-parseInt(e(445))/4*(parseInt(e(480))/5)+-parseInt(e(428))/6+-parseInt(e(424))/7+parseInt(e(449))/8*(parseInt(e(412))/9)+parseInt(e(415))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(489)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){L(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=q(t(474));n[t(481)](r+"chain")&&e.test(r+t(459))?q():r("0")}))()}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(489)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(t,n){const e=H();return(U=function(t,n){return e[t-=403]})(t,n)}N(void 0,(function(){const t=U;let n;try{n=Function("return (function() "+t(477)+");")()}catch(o){n=window}const e=n[t(470)]=n.console||{},r=["log","warn",t(418),t(479),t(416),t(440),t(460)];for(let s=0;s<r.length;s++){const n=N[t(421)][t(419)].bind(N),o=r[s],i=e[o]||n;n[t(472)]=N[t(407)](N),n[t(496)]=i[t(496)].bind(i),e[o]=n}}))();const Z=[E(406),E(430)],D=["geometry"];function H(){const t=["stateObject","info","prototype","radius","constructor","#023249","gger","7832783QNzDaO","firstHitOnly","TresSphereGeometry","BufferGeometry","2396772ToewBp","setX","material","生成模型","enabled","visible","targetMesh","point","targetMesh.value init","needsUpdate","containsPoint","while (true) {}","table","TresMesh","intersectObject","raycast","setUsage","4itAuIW","invert","instance","brushMesh","416896QxOmdT","122282zUmeSo","string","getZ","length","boundsTree","attributes","intersectsSphere","count","call","input","trace","setAttribute","setZ","intersectsBox","model","disposeBoundsTree","addButton","Sphere","value","4207293hNWVDN","console","shapecast","__proto__","log","init","Vector3","getY",'{}.constructor("return this")( )',"setFromCamera","error","7461260apslku","test","computeBoundsTree","counter","normal","getX","controls","Matrix4","MeshStandardMaterial","apply","BufferAttribute","active","21kJqdsT","Vector2","color","position","toString","copy","TresMeshStandardMaterial","matrixWorld","geometry","bind","index","DynamicDrawUsage","center","action","180AjtrWX","push","Mesh","27801990ObHdsg","exception"];return(H=function(){return t})()}const Y=h({__name:E(464),props:{controls:{}},async setup(r){const o=E;let s,h;const T=r;(()=>{const t=U;i[t(427)][t(419)][t(482)]=m,i[t(427)][t(419)][t(465)]=d,i[t(414)][t(419)][t(443)]=g})();const z=([s,h]=y((()=>e(u,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,h(),s),A=new(i[o(488)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),C=new Uint8Array(3*z[o(455)][o(495)][o(457)]);C.fill(255);const F=new(i[o(490)])(C,3,!0);F[o(444)](i[o(409)]),z.setAttribute(o(494),F);const k=w(null),B=w(null),M=w(!1),S=w(-1),O=w(.2),R=new(i[o(493)]),{camera:L,raycaster:N}=t(),H=15/255,Y=78/255,q=85/255;let G=null;j((()=>{const t=o;k[t(468)]&&(console[t(473)](t(436),k[t(468)]),k[t(468)][t(406)][t(482)](),G=z[t(454)],((t,n,e,r,o,s)=>{const c=W;window[c(162)]("pointermove",(e=>{const r=c;t.x=e[r(159)]/window[r(161)]*2-1,t.y=-e.clientY/window[r(144)]*2+1,n[r(148)]=!0})),window[c(162)](c(166),(u=>{const a=c;t.x=u[a(159)]/window.innerWidth*2-1,t.y=-u[a(157)]/window[a(144)]*2+1,r[a(148)]=u[a(150)];const l=new(i[a(168)]);l[a(190)](t,e[a(148)]),l[a(167)]=!0;const p=l[a(170)](o[a(148)],!0);n[a(148)]=!0,s.enabled=0===p[a(156)]}),!0),window.addEventListener("pointerup",(t=>{const e=c;r[e(148)]=-1,t[e(192)]===e(155)&&(n.value=!1)}),!0)})(R,M,L,S,k,T.controls[t(447)]))}));const{onLoop:X}=n();X((()=>{const t=o,n=z[t(408)];if(B[t(468)])if(T.controls[t(447)][t(491)]||!M[t(468)])B[t(468)][t(433)]=!1;else{B[t(468)].scale.setScalar(O[t(468)]),N[t(468)][t(478)](R,L[t(468)]),N.value[t(425)]=!0;const e=N[t(468)][t(442)](k.value,!0);if(e.length){B[t(468)][t(495)].copy(e[0][t(435)]),T[t(486)][t(447)][t(432)]=!1,B.value[t(433)]=!0;const r=new(i[t(487)]);r.copy(k.value[t(405)])[t(446)]();const o=new(i[t(467)]);o[t(410)][t(403)](B[t(468)][t(495)]).applyMatrix4(r),o[t(420)]=100*O[t(468)];const s=[],c=new(i[t(475)]);if(null==G||G[t(471)]({intersectsBounds:n=>{const e=t,r=o[e(463)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c.set(0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(438)](c))return l;return p}return r?l:f},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(456)](o)){const t=3*e;s[i(413)](t,t+1,t+2)}return!1}}),0===S[t(468)]||2===S[t(468)]){let e=1,r=1,o=1;0===S[t(468)]&&(e=H,r=Y,o=q);for(let i=0,c=s[t(453)];i<c;i++){const c=n[t(485)](s[i]);F[t(429)](c,e),F.setY(c,r),F[t(462)](c,o)}F[t(437)]=!0}}else B[t(468)][t(433)]=!1,T[t(486)][t(447)][t(432)]=!0}}));const $=(new a)[o(466)]({title:"点击按钮",label:o(431)}),V=new(i[o(427)]);return $.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<F.count;o++)F[t(485)](o)===H&&F[t(476)](o)===Y&&F.getZ(o)===q&&(n[t(413)](z[t(455)].position[t(485)](o),z.attributes[t(495)].getY(o),z[t(455)].position[t(452)](o)),e[t(413)](z[t(455)][t(484)][t(485)](o),z[t(455)][t(484)][t(476)](o),z[t(455)].normal[t(452)](o)));const r=new Float32Array(n);V[t(461)]("position",new c(r,3)),V[t(461)](t(484),new(i[t(490)])(r,3))})),(t,n)=>{const e=o;return b(),_(x,null,[I("TresMesh",{ref_key:e(434),ref:k,geometry:v(z),scale:.005,material:v(A)},null,8,Z),I(e(441),{ref_key:e(448),ref:B,visible:!1},n[0]||(n[0]=[I(e(426),{args:[1,40,40]},null,-1),I(e(404),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),I(e(441),{geometry:v(V),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[I(e(404),{color:e(422),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,D)],64)}}});function q(t){function n(t){const e=U;if(typeof t===e(451))return function(t){}.constructor(e(439))[e(489)](e(483));1!==(""+t/t)[e(453)]||t%20==0?function(){return!0}[e(421)]("debugger")[e(458)](e(411)):function(){return!1}.constructor("debu"+e(423))[e(489)](e(417)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function G(){const t=["info","gger","collectTriangles","controls","action","function *\\( *\\)","bind","97237fOnNTz","7683744sSdKGN","4361EFFLCp","error","chain","console","17317314cUnzLH","constructor","while (true) {}","stateObject","controlsRef","#999999","test","4476RdNoqB","warn","input","init","length","string","pos-x.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","neg-z.jpg","apply",'{}.constructor("return this")( )',"return (function() ","prototype","pos-y.jpg","debu","2658420FWMBhV","2043832TkWFJN","toString","TresAmbientLight","neg-y.jpg","TresPerspectiveCamera","856yuBGof","4047CYaeBL","log"];return(G=function(){return t})()}const X=$;function $(t,n){const e=G();return($=function(t,n){return e[t-=280]})(t,n)}!function(t,n){const e=$,r=G();for(;;)try{if(851489===parseInt(e(320))/1+parseInt(e(305))/2+-parseInt(e(311))/3*(parseInt(e(288))/4)+parseInt(e(304))/5+-parseInt(e(321))/6+parseInt(e(322))/7*(parseInt(e(310))/8)+parseInt(e(281))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=$,n=new RegExp(t(318)),e=new RegExp(t(295),"i"),r=P(t(291));n[t(287)](r+t(324))&&e[t(287)](r+t(290))?P():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[$(298)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();J(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(300)+t(299)+");")()}catch(e){n=window}return n}(),e=n[t(280)]=n.console||{},r=[t(312),t(289),t(313),t(323),t(296),"table","trace"];for(let o=0;o<r.length;o++){const n=J[t(282)][t(301)][t(319)](J),s=r[o],i=e[s]||n;n.__proto__=J.bind(J),n[t(306)]=i[t(306)][t(319)](i),e[s]=n}}))();const Q=h({__name:X(315),setup(t){const n=X,e=T({clearColor:n(286),antialias:!0}),i=T({autoRotate:!1}),c=w(null);return(t,u)=>{const a=n,l=z("TresCanvas");return b(),_(x,null,[A(v(s)),A(l,F(e,{"window-size":""}),{default:C((()=>[u[0]||(u[0]=I(a(309),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),A(v(r),F({ref_key:a(285),ref:c},i),null,16),u[1]||(u[1]=I(a(307),{intensity:1},null,-1)),(b(),k(B,null,{default:C((()=>[A(Y,{controls:c.value},null,8,[a(316)])])),_:1})),(b(),k(B,null,{default:C((()=>[A(v(o),{background:!1,files:[a(294),"neg-x.jpg",a(302),a(308),"pos-z.jpg",a(297)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function P(t){function n(t){const e=$;if(typeof t===e(293))return function(t){}.constructor(e(283)).apply("counter");1!==(""+t/t)[e(292)]||t%20==0?function(){return!0}[e(282)](e(303)+e(314)).call(e(317)):function(){return!1}[e(282)](e(303)+e(314)).apply(e(284)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
