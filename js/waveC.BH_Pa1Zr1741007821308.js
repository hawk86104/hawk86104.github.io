import{e,o as n}from"./@tresjs.u6hJLBm41741007821308.js";import{C as t,_ as o,V as r}from"./three.sBrYSCgq1741007821308.js";import{P as i}from"./tweakpane.yDiyAAkA1741007821308.js";import{d as a,w as l,o as u,H as c,N as s,u as v,r as f,e as p,f as g,g as d,j as m,aj as y,ak as x,m as P}from"./@vue.NRI7TcgI1741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";const z=I;!function(e,n){const t=I,o=w();for(;;)try{if(403170===parseInt(t(451))/1+-parseInt(t(466))/2*(parseInt(t(412))/3)+parseInt(t(437))/4*(-parseInt(t(433))/5)+parseInt(t(444))/6+parseInt(t(403))/7*(parseInt(t(459))/8)+-parseInt(t(458))/9*(-parseInt(t(463))/10)+-parseInt(t(427))/11*(-parseInt(t(407))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let e=!0;return function(n,t){const o=e?function(){if(t){const e=t[I(415)](n,arguments);return t=null,e}}:function(){};return e=!1,o}}();!function(){W(this,(function(){const e=I,n=new RegExp("function *\\( *\\)"),t=new RegExp(e(432),"i"),o=b(e(460));n[e(455)](o+"chain")&&t[e(455)](o+e(422))?b():o("0")}))()}();const S=function(){let e=!0;return function(n,t){const o=e?function(){if(t){const e=t.apply(n,arguments);return t=null,e}}:function(){};return e=!1,o}}();function w(){const e=["12eRiNQf","counter","set","toString","warn","TresMesh","uPeakColor","1677996bypwpp","__proto__","uPerlinWaveFrequency","bind","gger","#184650","value","569964xPWHOi","uTime","uColorOffset","waveC","test","vertexShader","uValleyColor","576NFmhsl","814760DsgyKF","init","fragmentShader","valleyColor","1310CpDFJm","trace","action","23090zYPABu","uColorDamping","wireframe","Color","sinWaveSpeed","table","21HBsWBc","perlinWaveIterations","perlinWaveAmplitude","log","7414884iKzOfJ","perlinWaveSpeed","colorOffset","uPerlinWaveAmplitude","uWaveAmplitude","159CHAohI","console","#b367ff","apply","DoubleSide","uPerlinWaveIterations","waveAmplitude","peakColor","while (true) {}","constructor","input","error","debu","colorDamping","TresPlaneGeometry","11RCZUSB","Vector2","stateObject","sinWaveFrequency","perlinWaveFrequency","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1277335OdmMFE","rotation-x","return (function() ","setStyle"];return(w=function(){return e})()}S(void 0,(function(){const e=I;let n;try{n=Function(e(435)+'{}.constructor("return this")( ));')()}catch(r){n=window}const t=n[e(413)]=n[e(413)]||{},o=[e(406),e(441),"info",e(423),"exception",e(402),e(464)];for(let i=0;i<o.length;i++){const n=S[e(421)].prototype[e(447)](S),r=o[i],a=t[r]||n;n[e(445)]=S.bind(S),n[e(440)]=a[e(440)][e(447)](a),t[r]=n}}))();const C=[z(434)],h=["side",z(456),z(461),z(468)];function I(e,n){const t=w();return(I=function(e,n){return t[e-=400]})(e,n)}const _=a({__name:z(454),props:{wireframe:{type:Boolean,default:!1},peakColor:{default:z(414)},valleyColor:{default:z(449)},colorOffset:{default:.9},colorDamping:{default:4.5},sinWaveFrequency:{default:{x:.4,y:.3}},waveAmplitude:{default:.8},sinWaveSpeed:{default:{x:.6,y:1.3}},perlinWaveIterations:{default:3},perlinWaveFrequency:{default:.6},perlinWaveAmplitude:{default:.5},perlinWaveSpeed:{default:.6}},setup(n){const i=z,a=n,f={uTime:{value:0},uPeakColor:{value:new t(a[i(419)])},uValleyColor:{value:new(o[i(400)])(a[i(462)])},uColorOffset:{value:a[i(409)]},uColorDamping:{value:a.colorDamping},uSinWaveFrequency:{value:new(o[i(428)])(a[i(430)].x,a[i(430)].y)},uWaveAmplitude:{value:a[i(418)]},uSinWaveSpeed:{value:new r(a[i(401)].x,a[i(401)].y)},uPerlinWaveIterations:{value:a[i(404)]},uPerlinWaveFrequency:{value:a[i(431)]},uPerlinWaveAmplitude:{value:a[i(405)]},uPerlinWaveSpeed:{value:a[i(408)]}},{onLoop:p}=e();return p((({elapsed:e})=>{const n=i;f[n(452)][n(450)]=e})),l((()=>a),(()=>{const e=i;f[e(443)][e(450)][e(436)](a[e(419)]),f[e(457)].value[e(436)](a[e(462)]),f[e(453)].value=a.colorOffset,f[e(467)][e(450)]=a[e(425)],f.uSinWaveFrequency.value[e(439)](a[e(430)].x,a.sinWaveFrequency.y),f[e(411)][e(450)]=a[e(418)],f.uSinWaveSpeed.value[e(439)](a.sinWaveSpeed.x,a[e(401)].y),f[e(417)].value=a.perlinWaveIterations,f[e(446)][e(450)]=a[e(431)],f[e(410)][e(450)]=a[e(405)],f.uPerlinWaveSpeed[e(450)]=a[e(408)]}),{deep:!0}),(e,n)=>{const t=i;return u(),c(t(442),{"rotation-x":-Math.PI/2,"position-y":1},[n[0]||(n[0]=s(t(426),{args:[10,10,512,512]},null,-1)),s("TresShaderMaterial",{side:o[t(416)],vertexShader:v("uniform float uTime;\n\nuniform vec3 uPeakColor;\nuniform vec3 uValleyColor;\nuniform float uColorOffset;\nuniform float uColorDamping;\n\nuniform vec2 uSinWaveFrequency;\nuniform float uWaveAmplitude;\nuniform vec2 uSinWaveSpeed;\n\nuniform float uPerlinWaveIterations;\nuniform float uPerlinWaveFrequency;\nuniform float uPerlinWaveAmplitude;\nuniform float uPerlinWaveSpeed;\n\nvarying vec2 vUv;\nvarying float vElevation;\nvarying vec3 vPeakColor;\nvarying vec3 vValleyColor;\n\n# define MAX_ITERATIONS 100.0\n#define M_PI 3.1415926535897932384626433832795\n\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\nvec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\nvec4 permute(vec4 x) {return mod(((x*34.0)+1.0)*x, 289.0);}\n\nfloat cnoise(vec3 P){\n  vec3 Pi0 = floor(P); \n  vec3 Pi1 = Pi0 + vec3(1.0); \n  Pi0 = mod(Pi0, 289.0);\n  Pi1 = mod(Pi1, 289.0);\n  vec3 Pf0 = fract(P); \n  vec3 Pf1 = Pf0 - vec3(1.0); \n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 / 7.0;\n  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 / 7.0;\n  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n  return 2.2 * n_xyz;\n}\n\nvoid main()\n{\n  vUv = uv;\n  vPeakColor = uPeakColor;\n  vValleyColor = uValleyColor;\n  \n  vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n  float elevation =\n    sin(modelPosition.x * uSinWaveFrequency.x + uTime * uSinWaveSpeed.x)\n    * sin(modelPosition.z * uSinWaveFrequency.y + uTime * uSinWaveSpeed.y)\n    * uWaveAmplitude;\n\n  for (float i = 1.; i < MAX_ITERATIONS; i++) {\n    if (i > uPerlinWaveIterations) break;\n    elevation -= abs(cnoise(vec3(\n      modelPosition.x * uPerlinWaveFrequency * i,\n      modelPosition.z * uPerlinWaveFrequency * i,\n      uTime * uPerlinWaveSpeed / i\n    ))) * uPerlinWaveAmplitude / i;\n  }\n\n  modelPosition.y += elevation;\n  vElevation = min(1.0, (elevation + uColorOffset) / uColorDamping);\n\n  vec4 viewPosition = viewMatrix * modelPosition;\n\n  vec4 projectedPosition = projectionMatrix * viewPosition;\n\n  gl_Position = projectedPosition;\n}"),fragmentShader:v("precision mediump float;\n\nvarying vec2 vUv;\nvarying float vElevation;\nvarying vec3 vPeakColor;\nvarying vec3 vValleyColor;\n\nuniform float uTime;\n\nvoid main()\n{\n  gl_FragColor = vec4(mix(vValleyColor, vPeakColor, vElevation), 1.0);\n\n  #include <tonemapping_fragment>\n  #include <colorspace_fragment>\n}"),uniforms:f,wireframe:e[t(468)]},null,8,h)],8,C)}}});function b(e){function n(e){const t=I;if("string"==typeof e)return function(e){}[t(421)](t(420))[t(415)](t(438));1!==(""+e/e).length||e%20==0?function(){return!0}[t(421)](t(424)+t(448)).call(t(465)):function(){return!1}[t(421)](t(424)+t(448))[t(415)](t(429)),n(++e)}try{if(e)return n;n(0)}catch(t){}}const F=A;function A(e,n){const t=T();return(A=function(e,n){return t[e-=482]})(e,n)}!function(e,n){const t=A,o=T();for(;;)try{if(405728===parseInt(t(486))/1*(parseInt(t(492))/2)+-parseInt(t(496))/3*(-parseInt(t(525))/4)+parseInt(t(485))/5*(parseInt(t(494))/6)+parseInt(t(531))/7+parseInt(t(519))/8+-parseInt(t(506))/9*(parseInt(t(523))/10)+-parseInt(t(522))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let e=!0;return function(n,t){const o=e?function(){if(t){const e=t[A(518)](n,arguments);return t=null,e}}:function(){};return e=!1,o}}();!function(){q(this,(function(){const e=A,n=new RegExp(e(538)),t=new RegExp(e(514),"i"),o=M(e(507));n.test(o+"chain")&&t[e(540)](o+e(532))?M():o("0")}))()}();const k=function(){let e=!0;return function(n,t){const o=e?function(){if(t){const e=t[A(518)](n,arguments);return t=null,e}}:function(){};return e=!1,o}}();function T(){const e=["NoToneMapping","info","#310039","46gUbxZn","山谷颜色","300gHjSJJ","#222","21rCqXCH","小波浪层数","colorDamping","正弦波速度","gger","山峰颜色","stateObject","string","perlinWaveIterations","perlinWaveFrequency","1530dnWcEW","init","小波浪速度","prototype","toString","正弦波振幅","sinWaveFrequency","颜色抑制","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","小波浪幅度",'{}.constructor("return this")( )',"table","apply","40424VuSMMm","BasicShadowMap","valleyColor","18429367EccctF","19770EdmcJc","inline","394372sDxUIM","waveC","return (function() ","console","wireframe","perlinWaveSpeed","4892083jkKcOe","input","#ff6767","action","peakColor","waveAmplitude","TresPerspectiveCamera","function *\\( *\\)","正弦波频率","test","TresGridHelper","sinWaveSpeed","SRGBColorSpace","length","call","bind","addBinding","exception","23990WLWxqv","34054NGrqGn","TresCanvas","constructor"];return(T=function(){return e})()}k(void 0,(function(){const e=A;let n;try{n=Function(e(527)+e(516)+");")()}catch(r){n=window}const t=n.console=n[e(528)]||{},o=["log","warn",e(490),"error",e(484),e(517),"trace"];for(let i=0;i<o[e(544)];i++){const n=k.constructor[e(509)].bind(k),r=o[i],a=t[r]||n;n.__proto__=k.bind(k),n[e(510)]=a[e(510)][e(482)](a),t[r]=n}}))();const j=a({__name:F(526),setup(e){const t=F,r={clearColor:t(495),shadows:!0,alpha:!1,shadowMapType:o[t(520)],outputColorSpace:o[t(543)],toneMapping:o[t(489)],useLegacyLights:!0,antialias:!0,logarithmicDepthBuffer:!0},a=f({peakColor:t(533),valleyColor:t(491),wireframe:!1,colorOffset:.9,colorDamping:4.5,sinWaveFrequency:{x:.4,y:.3},waveAmplitude:.8,sinWaveSpeed:{x:.6,y:1.3},perlinWaveIterations:3,perlinWaveFrequency:.6,perlinWaveAmplitude:.5,perlinWaveSpeed:.6}),l=new i({title:"参数",expanded:!0});return l.addBinding(a,t(529),{label:"网格化"}),l[t(483)](a,t(535),{label:t(501)}),l.addBinding(a,t(521),{label:t(493)}),l[t(483)](a,"colorOffset",{label:"颜色偏移",min:.01,max:3,step:.01}),l[t(483)](a,t(498),{label:t(513),min:.01,max:6,step:.01}),l[t(483)](a,t(512),{label:t(539),picker:t(524),x:{min:-1,step:.01,max:1,inverted:!0},y:{min:-1,step:.01,max:1,inverted:!0}}),l[t(483)](a,t(536),{label:t(511),min:0,max:2,step:.01}),l[t(483)](a,t(542),{label:t(499),picker:t(524),x:{min:-3,step:.01,max:3,inverted:!0},y:{min:-3,step:.01,max:3,inverted:!0}}),l.addBinding(a,t(504),{label:t(497),min:1,max:7,step:.1}),l[t(483)](a,t(505),{label:"小波浪频率",min:0,max:5,step:.01}),l[t(483)](a,"perlinWaveAmplitude",{label:t(515),min:0,max:2,step:.01}),l[t(483)](a,t(530),{label:t(508),min:0,max:2,step:.01}),(e,o)=>{const i=t,l=p(i(487));return u(),g(l,P(r,{"window-size":""}),{default:d((()=>[o[0]||(o[0]=s(i(537),{position:[10,10,10]},null,-1)),m(v(n)),o[1]||(o[1]=s(i(541),{args:[10,10]},null,-1)),m(_,y(x(a)),null,16)])),_:1},16)}}});function M(e){function n(e){const t=A;if(typeof e===t(503))return function(e){}[t(488)]("while (true) {}").apply("counter");1!==(""+e/e).length||e%20==0?function(){return!0}[t(488)]("debu"+t(500))[t(545)](t(534)):function(){return!1}[t(488)]("debugger")[t(518)](t(502)),n(++e)}try{if(e)return n;n(0)}catch(t){}}export{j as default};
