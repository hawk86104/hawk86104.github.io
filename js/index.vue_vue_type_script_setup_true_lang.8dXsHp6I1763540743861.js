import{_ as t}from"./text.vue_vue_type_script_setup_true_lang.B23LnENi1763540743861.js";import{d as e,a as o,q as a,w as i,H as n,o as l,J as s,F as r,X as u,h as c}from"./@vue.Co_gxueH1763540743861.js";import{af as h,V as p,B as d}from"./three.rXKzP9fQ1763540743861.js";const g=["rotation"],f=["position-x"],x=["position"],m=["geometry"],v=["color"],y=e({__name:"index",props:{data:{default:[{title:"2019",value:43.12,right:"%",color:"#5072c4"},{title:"2020",value:24.22,right:"%",color:"#92cb79"},{title:"2021",value:12.33,right:"%",color:"#fcc660"},{title:"2022",value:39.78,right:"%",color:"#f8285b"},{title:"2023",value:14.56,right:"%",color:"#70c1dd"}]},spacing:{default:.1},width:{default:4/3},titleSize:{default:.8},height:{default:1}},setup(e){const y=e;let S=[];const _=()=>{S.splice(0,S.length),y.data.forEach(t=>{const e=t.value/100*y.height,o=new h(.15,e,.15);o.translate(0,e/2,0),S.push(o)})};_();const w=[],z=()=>{w.splice(0,w.length);const t=(()=>{let t=[];const e=(y.width-y.spacing*(y.data.length+1))/y.data.length;return t=new Array(y.data.length).fill(e),t})();let e=0;y.data.forEach((o,a)=>{const i=(y.spacing+t[a])/2;e+=i;let n=0;if(S[a]){S[a].computeBoundingBox();const t=S[a].boundingBox;if(t){const e=new p;t.getSize(e),n=e.y}}w.push({x:e,y:n,data:o,geometry:S[a]}),e+=i})};z();const M=o(null),T=o(0);return a(()=>{(()=>{const t=(new d).setFromObject(M.value);T.value=-(t.max.x+t.min.x)/2})()}),i(()=>[y.titleSize,y.width,y.height],()=>{_(),z()}),(e,o)=>(l(),n("TresGroup",{rotation:[0,Math.PI/2,0]},[s("TresGroup",{"position-x":T.value,ref_key:"tgroup",ref:M},[(l(),n(r,null,u(w,(o,a)=>s("TresGroup",{position:[o.x,.001,0],key:a},[s("TresMesh",{geometry:o.geometry,castShadow:""},[s("TresMeshStandardMaterial",{color:o.data.color,transparent:""},null,8,v)],8,m),c(t,{rotation:[-Math.PI/2,0,-Math.PI/2],textContent:`${o.data.title}`,fontSize:e.titleSize,position:[0,.01,.26]},null,8,["rotation","textContent","fontSize"]),c(t,{textContent:`${o.data.value}${o.data.right}`,fontSize:.8*e.titleSize,position:[0,o.y+.05,0]},null,8,["textContent","fontSize","position"])],8,x)),64))],8,f)],8,g))}});export{y as _};
