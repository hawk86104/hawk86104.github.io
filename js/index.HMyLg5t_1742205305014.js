var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.-Me78jqg1742205305014.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.UW0Qa0NX1742205305014.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.aMiJjTNa1742205305014.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,g as v,_ as x,b as m,Q as w}from"./three.LxxvsMJG1742205305014.js";import{m as h,e as g}from"./@tresjs.nk0nhZ9a1742205305014.js";import{u as d}from"./index.KoRDsF6I1742205305014.js";import{F as y,C as S}from"./three-stdlib.VHPWJjlE1742205305014.js";import{d as _}from"./@vue.NRI7TcgI1742205305014.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.xautV1lQ1742205305014.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.4dws__UE1742205305014.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.GGQ2SI8f1742205305014.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.QZS-Eo2j1742205305014.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.7ipRBBx91742205305014.js";const P=I;!function(t,e){const n=I,i=M();for(;;)try{if(743780===parseInt(n(422))/1+parseInt(n(432))/2+parseInt(n(436))/3*(parseInt(n(423))/4)+parseInt(n(419))/5+parseInt(n(455))/6+parseInt(n(444))/7+parseInt(n(418))/8*(-parseInt(n(437))/9))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(430)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=I,e=new RegExp(t(421)),n=new RegExp(t(443),"i"),i=A(t(438));e[t(448)](i+t(454))&&n[t(448)](i+t(435))?A():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(430)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(t,e){const n=M();return(I=function(t,e){return n[t-=417]})(t,e)}b(void 0,(function(){const t=I,e=function(){const t=I;let e;try{e=Function("return (function() "+t(426)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(449)]||{},i=[t(440),t(452),t(425),t(447),t(442),t(441),t(446)];for(let r=0;r<i.length;r++){const e=b[t(428)][t(427)].bind(b),a=i[r],o=n[a]||e;e[t(433)]=b[t(420)](b),e[t(453)]=o[t(453)][t(420)](o),n[a]=e}}))();const E=P(451);function M(){const t=["gger","1223112HcmQyn","__proto__","action","input","435pVFGqh","9MlZMFf","init","debu","log","table","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6741707LUqjFu","call","trace","error","test","console","counter",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"warn","toString","chain","8060280ClcMHY","stateObject","43739896mWzvKA","4266115nZOoWi","bind","function *\\( *\\)","1133412jzuNrK","36044OjnJlG","length","info",'{}.constructor("return this")( )',"prototype","constructor","while (true) {}","apply"];return(M=function(){return t})()}function A(t){function e(t){const n=I;if("string"==typeof t)return function(t){}.constructor(n(429))[n(430)](n(450));1!==(""+t/t)[n(424)]||t%20==0?function(){return!0}[n(428)](n(439)+"gger")[n(445)](n(434)):function(){return!1}.constructor("debu"+n(431))[n(430)](n(417)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const D=V;!function(t,e){const n=V,i=O();for(;;)try{if(739830===-parseInt(n(413))/1+-parseInt(n(437))/2+-parseInt(n(439))/3*(-parseInt(n(409))/4)+-parseInt(n(436))/5+-parseInt(n(417))/6*(-parseInt(n(427))/7)+parseInt(n(430))/8+-parseInt(n(405))/9*(-parseInt(n(418))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(412)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){U(this,(function(){const t=V,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(420),"i"),i=C(t(435));e[t(432)](i+t(415))&&n[t(432)](i+t(414))?C():i("0")}))()}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(){const t=["while (true) {}","info","1866496wPFOIG","clone","test","string","toString","init","5394415xQbrDO","1852316mRpmBX","return (function() ","39WGdhPH","bind",'{}.constructor("return this")( )',"exception","24735852dQqZrM","gger","counter","uniforms","333428WqDHWT","warn","prototype","apply","1320565fGdgTa","input","chain","defines","30floyHI","10mwIfAD","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","table","debu","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","constructor","console","77EAIKnK"];return(O=function(){return t})()}function V(t,e){const n=O();return(V=function(t,e){return n[t-=405]})(t,e)}function T(t){const e=V,n=a({},t);return"defines"in t&&(n[e(416)]=a({},t[e(416)])),e(408)in t&&(n.uniforms=s[e(431)](t[e(408)])),n}L(void 0,(function(){const t=V;let e;try{e=Function(t(438)+t(441)+");")()}catch(r){e=window}const n=e[t(426)]=e.console||{},i=["log",t(410),t(429),"error",t(442),t(422),"trace"];for(let a=0;a<i.length;a++){const e=L.constructor[t(411)][t(440)](L),r=i[a],o=n[r]||e;e.__proto__=L[t(440)](L),e.toString=o[t(434)][t(440)](o),n[r]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:D(421)+E+D(424)};function C(t){function e(t){const n=V;if(typeof t===n(433))return function(t){}[n(425)](n(428))[n(412)](n(407));1!==(""+t/t).length||t%20==0?function(){return!0}[n(425)](n(423)+n(406))[n(419)]("action"):function(){return!1}.constructor(n(423)+"gger")[n(412)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const R=H;!function(t,e){const n=H,i=N();for(;;)try{if(547171===parseInt(n(523))/1*(-parseInt(n(483))/2)+parseInt(n(521))/3*(-parseInt(n(508))/4)+parseInt(n(534))/5+parseInt(n(533))/6+parseInt(n(507))/7+-parseInt(n(516))/8*(parseInt(n(479))/9)+-parseInt(n(487))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=H,e=new RegExp(t(505)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=G(t(532));e[t(529)](i+t(482))&&n.test(i+"input")?G():i("0")}))()}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[H(520)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();F(void 0,(function(){const t=H;let e;try{e=Function(t(476)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e[t(522)]||{},i=["log",t(546),t(504),t(542),t(519),"table",t(475)];for(let a=0;a<i[t(497)];a++){const e=F[t(538)][t(500)][t(509)](F),r=i[a],o=n[r]||e;e[t(474)]=F.bind(F),e.toString=o[t(491)].bind(o),n[r]=e}}))();const W=new l;function N(){const t=["isWebGLRenderTarget","error","parentLevel","originalMapSize","_mipQuad","warn","stateObject","type","__proto__","trace","return (function() ","clear","uniforms","24129RCUPyS","magFilter","camera","chain","346GDQObg","texture","map","floor","2229070QKCaky","while (true) {}","setRenderTarget","value","toString","update","X_IS_EVEN","setClearColor","replace","minFilter","length","Y_IS_EVEN","_swapTarget","prototype","set","fragmentShader","render","info","function *\\( *\\)","forEach","3082065EHMBmX","17796VqnrPz","bind","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","getRenderTarget","_mipMaterials","copy","setSize","material","672ihNqhJ","dispose","setClearAlpha","exception","apply","99RJCOSy","console","4583lQtQDI","tDiffuse","setViewOffset","_copyQuad","parentMapSize","autoClear","test","defines","debu","init","2632494wlyFei","5279570hVCufD","height","image","width","constructor","counter","gger"];return(N=function(){return t})()}function H(t,e){const n=N();return(H=function(t,e){return n[t-=472]})(t,e)}class Q{constructor(t){const e=H;!t&&(t=e(510));const n=T(j);n[e(502)]=n[e(502)][e(495)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0].defines.X_IS_EVEN=0,i[0][e(530)][e(498)]=0,i[1]=new c(T(n)),i[1][e(530)][e(493)]=1,i[1][e(530)][e(498)]=0,i[2]=new c(T(n)),i[2][e(530)].X_IS_EVEN=0,i[2][e(530)][e(498)]=1,i[3]=new c(T(n)),i[3][e(530)].X_IS_EVEN=1,i[3][e(530)].Y_IS_EVEN=1;const r=new u;r.texture[e(496)]=p,r[e(484)][e(480)]=p,this._swapTarget=r,this[e(526)]=new y(new c(S)),this[e(545)]=new y(null),this._mipMaterials=i}[R(492)](t,e,n,i=!1){const r=R;t[r(541)]&&(t=t[r(484)]);const o=n[r(528)],s=n.getClearAlpha(),l=n[r(511)]();n.getClearColor(W);const c=this[r(526)],u=this._mipQuad,p=this[r(499)],v=this[r(512)];let x,m;i?(x=f.floorPowerOfTwo(t[r(536)][r(537)]),m=f.floorPowerOfTwo(t[r(536)][r(535)])):(x=Math[r(486)](t[r(536)].width),m=Math[r(486)](t[r(536)][r(535)]));const w=Math[r(486)](1.5*x),h=Math[r(486)](m);e[r(514)](w,h),p[r(484)][r(473)]!==e[r(484)][r(473)]?(p.dispose(),p[r(513)](e),p[r(484)].image=a({},p[r(484)].image)):p[r(514)](w,h),n[r(528)]=!1,n[r(494)](0),n[r(518)](),c[r(515)][r(478)][r(524)].value=t,c[r(481)][r(525)](x,m,0,0,w,h),n[r(489)](e),n[r(477)](),c.render(n),n[r(489)](p),n[r(477)](),c.render(n);let g=x,d=m,y=0;for(;g>1&&d>1;){const t=v[(g%2==0?1:0)|(d%2==0?2:0)];t[r(478)][r(485)].value=p.texture,t[r(478)][r(543)][r(490)]=y,t[r(478)][r(527)].value[r(501)](g,d),t[r(478)][r(544)][r(490)][r(501)](x,m),u.material=t,g=Math[r(486)](g/2),d=Math.floor(d/2);const i=h-2*d;n[r(489)](e),u[r(481)][r(525)](g,d,-x,-i,w,h),u[r(503)](n),n[r(489)](p),t[r(478)][r(485)][r(490)]=e[r(484)],u[r(503)](n),y++}return n[r(489)](l),n[r(518)](s),n.setClearColor(W),n.autoClear=o,y+1}[R(517)](){const t=R;this[t(499)][t(517)](),this[t(545)].dispose(),this[t(526)][t(517)](),this[t(512)][t(506)]((e=>e[t(517)]()))}}function G(t){function e(t){const n=H;if("string"==typeof t)return function(t){}[n(538)](n(488))[n(520)](n(539));1!==(""+t/t)[n(497)]||t%20==0?function(){return!0}[n(538)](n(531)+n(540)).call("action"):function(){return!1}.constructor("debugger")[n(520)](n(472)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const X=q;function Z(){const t=["getWorldQuaternion","resolution","stateObject","16MkqMcr","state","668274SEjNrU","parent","Vector3","setMask","while (true) {}","function *\\( *\\)","texture","visible","multiplyScalar","test","reflect","__proto__","error","projectPoint","getRenderTarget","UnsignedByteType","depth","elements","console","Matrix4","debu","4779765XcUmJo","counter","prototype","init","1194265wqaFxl","info","7DZXoRX","add","autoClear","Vector4","1214265JnCUQQ",'{}.constructor("return this")( )',"value","33zUxnEA","string","constructor","normal","warn","table","set","ignoreObjects","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","clone","call","bind","toString","render","apply","copy","4481022uLTUDF","forEach","6OAWpCI","matrixWorld","606370FJVxPR","multiply","sign","PerspectiveCamera","negate","log","clear","matrixWorldInverse","1591736cEyOOd","applyMatrix4","projectionMatrix","getWorldPosition","applyQuaternion","setRenderTarget","Quaternion","input","dot","reflectorMipMap"];return(Z=function(){return t})()}!function(t,e){const n=q,i=Z();for(;;)try{if(612040===-parseInt(n(331))/1+parseInt(n(358))/2*(parseInt(n(306))/3)+parseInt(n(368))/4+parseInt(n(337))/5+-parseInt(n(356))/6*(parseInt(n(333))/7)+-parseInt(n(304))/8*(-parseInt(n(327))/9)+-parseInt(n(360))/10*(-parseInt(n(340))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[q(354)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){const t=q,e=new RegExp(t(311)),n=new RegExp(t(348),"i"),i=K(t(330));e[t(315)](i+"chain")&&n[t(315)](i+t(298))?K():i("0")}))()}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[q(354)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function q(t,e){const n=Z();return(q=function(t,e){return n[t-=296]})(t,e)}$(void 0,(function(){const t=q,e=function(){const t=q;let e;try{e=Function("return (function() "+t(338)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(324)]||{},i=[t(365),t(344),t(332),t(318),"exception",t(345),"trace"];for(let r=0;r<i.length;r++){const e=$.constructor[t(329)][t(351)]($),a=i[r],o=n[a]||e;e[t(317)]=$[t(351)]($),e[t(352)]=o[t(352)].bind(o),n[a]=e}}))();const J=_({__name:X(300),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,i=t,r=new v,a=new(x[n(325)]),o=new(x[n(363)]),s=new Q,l=d({width:i.resolution,height:i[n(302)],settings:{type:x[n(321)]}}),c=d({width:i[n(302)],height:i[n(302)],settings:{type:x[n(321)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r[t(346)](new m(0,1,0),0),r[t(369)](i[t(307)][t(359)]),o[t(355)](u.value);const e=new m(0,0,1)[t(349)]()[t(364)](),s=u[t(339)][t(371)](new(x[t(308)]));e[t(316)](r[t(343)]);const c=new(x[t(308)]);r[t(319)](s,c);const v=c.clone();v.sub(s),v.add(c),o.position.copy(v);const h=new m(0,0,-1);h[t(372)](u[t(339)][t(301)](new w)),h[t(334)](s);const g=new(x[t(308)]);i[t(307)].getWorldPosition(g),g.sub(h),g[t(316)](r[t(343)])[t(364)](),g.add(i[t(307)][t(371)](new(x[t(308)]))),o.up.set(0,1,0),o.applyQuaternion(u[t(339)][t(301)](new(x[t(297)]))),o.up[t(316)](r[t(343)]),o.lookAt(g),o.updateMatrixWorld();const d=new(x[t(325)]);d[t(346)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d.multiply(o[t(370)]),d[t(361)](o[t(367)]),a[t(355)](d),r[t(369)](o[t(367)]);const y=new(x[t(336)])(r[t(343)].x,r[t(343)].y,r.normal.z,r.constant),S=o[t(370)],_=new(x[t(336)]);_.x=(Math[t(362)](y.x)+S[t(323)][8])/S[t(323)][0],_.y=(Math[t(362)](y.y)+S.elements[9])/S.elements[5],_.z=-1,_.w=(1+S.elements[10])/S[t(323)][14],y[t(314)](2/y[t(299)](_)),S.elements[2]=y.x,S.elements[6]=y.y,S.elements[10]=y.z+1,S[t(323)][14]=y.w;const P=p[t(339)][t(320)]();p.value[t(296)](l[t(339)]),p[t(339)][t(305)].buffers[t(322)][t(309)](!0),!1===p[t(339)][t(335)]&&p.value[t(366)](),i.ignoreObjects[t(357)]((e=>e[t(313)]=!1)),p.value[t(353)](f.value,o),i[t(347)][t(357)]((t=>t.visible=!0)),p[t(339)].setRenderTarget(P)})(),l[t(339)]&&c.value&&p[t(339)]&&s.update(l.value[t(312)],c.value,p[t(339)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function K(t){function e(t){const n=q;if(typeof t===n(341))return function(t){}.constructor(n(310))[n(354)](n(328));1!==(""+t/t).length||t%20==0?function(){return!0}[n(342)](n(326)+"gger")[n(350)]("action"):function(){return!1}[n(342)]("debugger")[n(354)](n(303)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=et,i=nt();;)try{if(111252===-parseInt(n(417))/1+parseInt(n(422))/2+-parseInt(n(402))/3+-parseInt(n(408))/4*(-parseInt(n(394))/5)+-parseInt(n(403))/6+parseInt(n(405))/7+-parseInt(n(421))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var B=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(418)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){B(this,(function(){var t=et,e=new RegExp(t(425)),n=new RegExp(t(404),"i"),i=it(t(400));e.test(i+t(401))&&n.test(i+t(395))?it():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(t,e){var n=nt();return(et=function(t,e){return n[t-=393]})(t,e)}function nt(){var t=["stateObject","counter","call","constructor","init","chain","40005VLPvve","431904uxEGRH","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1364888wGZJkY","bind","console","168904wwTQMd","toString","info",'{}.constructor("return this")( )',"string","length","debu","log","trace","92662hehYzC","apply","error","table","442600UFEkIi","214696zOunEb","while (true) {}","gger","function *\\( *\\)","warn","5eNVzgQ","input"];return(nt=function(){return t})()}function it(t){function e(t){var n=et;if(typeof t===n(412))return function(t){}[n(399)](n(423))[n(418)](n(397));1!==(""+t/t)[n(413)]||t%20==0?function(){return!0}[n(399)](n(414)+n(424))[n(398)]("action"):function(){return!1}.constructor(n(414)+n(424))[n(418)](n(396)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=et,e=function(){var t,e=et;try{t=Function("return (function() "+e(411)+");")()}catch(n){t=window}return t}(),n=e.console=e[t(407)]||{},i=[t(415),t(393),t(410),t(419),"exception",t(420),t(416)],r=0;r<i.length;r++){var a=tt[t(399)].prototype[t(406)](tt),o=i[r],s=n[o]||a;a.__proto__=tt[t(406)](tt),a.toString=s[t(409)][t(406)](s),n[o]=a}}))();export{J as _};
