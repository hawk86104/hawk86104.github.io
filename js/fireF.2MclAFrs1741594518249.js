var t,e,s,i,n,r,a,o,c,h,l,u,p,m,f,d,w=Object.defineProperty,g=(t,e,s)=>(((t,e,s)=>{e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as S}from"./pagesShow.vue_vue_type_script_setup_true_lang.KQMNCWkC1741594518249.js";import{_ as y,b as v,M as x,an as I,c as P,B as A,X as F,cz as T,h as b,V as z,C as E,b6 as R,a2 as O}from"./three.8y0_KTxz1741594518249.js";import{m as V,e as C}from"./@tresjs.gjafZgVK1741594518249.js";import{d as q,b as M,a2 as N,o as _,f as U,g as j,j as B}from"./@vue.NRI7TcgI1741594518249.js";import"./three-custom-shader-material.Bah0Myv81741594518249.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";const D=wt;!function(t,e){const s=wt,i=Ot();for(;;)try{if(717252===parseInt(s(673))/1+parseInt(s(565))/2*(parseInt(s(663))/3)+-parseInt(s(843))/4+-parseInt(s(529))/5*(-parseInt(s(705))/6)+parseInt(s(562))/7*(-parseInt(s(618))/8)+parseInt(s(736))/9+-parseInt(s(689))/10)break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const W=class{constructor(t){this[D(428)]=t}};t=D(468),g(W,"Time",new W(D(445))),g(W,t,new W("Sequence"));let X=W;class Y{constructor(){this[D(671)]()}[D(671)](){const t=D;this[t(487)]=X[t(445)],this[t(538)]=1,this[t(616)]=0,this[t(669)]=new(y[t(684)]),this[t(768)]=new(y[t(647)]),this[t(775)]=new(y[t(647)]),this[t(634)]=new v,this[t(583)]=new(y[t(647)]),this.rotation=0,this[t(788)]=0,this.size=new(y[t(560)]),this[t(622)]=new(y[t(769)]),this[t(407)]=1,this.initialSize=new(y[t(560)]),this[t(507)]=new(y[t(769)]),this.initialAlpha=1}[D(577)](t,e,s,i,n,r,a,o,c,h,l,u,p,m,f,d){const w=D;this[w(487)]=t,this[w(538)]=e,this.age=s,this[w(669)][w(698)](i),this.position[w(698)](n),this[w(775)].copy(r),this[w(634)][w(698)](a),this.normal.copy(o),this[w(410)]=c,this[w(788)]=h,this[w(813)]=l,this[w(622)][w(698)](u),this.alpha=p,this[w(735)][w(698)](m),this[w(507)][w(698)](f),this.initialAlpha=d}copyTo(t){const e=D;t[e(577)](this[e(487)],this[e(538)],this[e(616)],this[e(669)],this[e(768)],this[e(775)],this[e(634)],this[e(583)],this[e(410)],this[e(788)],this[e(813)],this.color,this[e(407)],this[e(735)],this[e(507)],this.initialAlpha)}[D(698)](t){const e=D;this[e(577)](t[e(487)],t[e(538)],t.age,t[e(669)],t.position,t[e(775)],t.acceleration,t.normal,t[e(410)],t.rotationalSpeed,t.size,t[e(622)],t[e(407)],t[e(735)],t[e(507)],t[e(466)])}}class J{constructor(){g(this,e,function(){const t=D,e=new v;return function(s=new(y[t(835)]),i=null){const n=t,r=s[n(651)],a=s[n(401)];for(let t=0;t<this[n(654)];t++){const s=this[n(650)](t);let o=s.position;i&&(e[n(698)](o),e.applyMatrix4(i),o=e);const c=Math.max(s.size.x,s[n(813)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return s}}()),g(this,s,function(){const t=D,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){e(this,(function(){const t=wt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(536),"i"),i=_t(t(671));e[t(589)](i+t(602))&&s[t(589)](i+t(526))?_t():i("0")}))()}();const s=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();s(this,(function(){const t=wt;let e;try{e=Function(t(458)+'{}.constructor("return this")( ));')()}catch(r){e=window}const i=e[t(732)]=e[t(732)]||{},n=["log","warn",t(827),t(603),t(743),t(553),"trace"];for(let a=0;a<n.length;a++){const e=s[t(404)][t(844)][t(564)](s),r=n[a],o=i[r]||e;e[t(771)]=s[t(564)](s),e[t(784)]=o[t(784)][t(564)](o),i[r]=e}}))();const i=new(y[t(647)]),n=new(y[t(647)]),r=new(y[t(647)]);return function(e=new(y[t(630)]),s=null){const a=t;let o=0;for(let t=0;t<this[a(654)];t++){const e=this[a(650)](t);let c=e[a(768)];s&&(r.copy(c),r[a(432)](s),c=r);const h=Math[a(401)](e[a(813)].x,e[a(813)].y);if(0==t)i[a(698)](c),o=h;else{n[a(698)](c)[a(829)](i);const t=n[a(481)]()+h;if(t>o){const e=(t-o)/2;n[a(676)]()[a(594)](e),i[a(731)](n),o+=e}}}return e[a(748)][a(698)](i),e.radius=o,e}}());const t=D;this.particleCount=0,this.activeParticleCount=0,this[t(819)]=[]}[D(671)](t){this[D(700)](t)}[D(700)](t){this[D(388)]!=t&&(this.dispose(),this.allocate(t)),this.particleCount=t}[D(555)](t){this.activeParticleCount=t}allocate(t){const e=D;this[e(819)]=[],this[e(388)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new Y}[D(549)](){}[D(451)](){return this.particleCount}[D(590)](){}[D(570)](t,e){const s=D;if(t>=this.particleCount)throw new Error('ParticleStateArray::copyState() -> "srcIndex" is out of range.');if(e>=this[s(388)])throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const i=this.particleStates[t],n=this[s(819)][e];i[s(546)](n)}[D(682)](t,e){const s=D;if(t>=this.particleCount)throw new Error(s(391));return this.particleStates[t].copy(e)}[D(650)](t){const e=D;if(t>=this[e(388)])throw new Error(e(740));return this[e(819)][t]}}e=D(453),s=D(690);class L{constructor(t,e,s=0){this[D(668)]=t,this.length=e,this.id=s}}class k{constructor(){const t=D;this[t(598)]={},this[t(515)]=[]}[D(465)](t,e,s){const i=D;if(this[i(438)](s))throw new Error(i(431));const n=new L(t,e,s);return this[i(598)][s]=n,this[i(515)][i(540)](s),n}[D(610)](t){const e=D;if(!this.hasID(t))throw new Error(e(810));return this.sequences[t]}[D(373)](){return this[D(515)]}[D(438)](t){return!!this[D(598)][t]}}class G{constructor(){}[D(766)](t){const e=D;t.initialColor[e(596)](1,1,1),t[e(735)][e(596)](1,1),t[e(466)]=1,t[e(487)]=X[e(445)],t.lifetime=0,t[e(616)]=0,t[e(669)][e(596)](0,0,0,0),t[e(768)][e(596)](0,0,0),t[e(775)].set(0,0,0),t[e(634)][e(596)](0,0,0),t[e(583)][e(596)](0,0,1),t[e(410)]=0,t[e(788)]=0,t.size[e(698)](t[e(735)]),t.color[e(698)](t[e(507)]),t[e(407)]=1}}class H extends G{constructor(){super()}[D(766)](t){super[D(766)](t)}}class Z{constructor(){}[D(397)](){}}class $ extends Z{constructor(){const t=D;super(),this[t(678)]=new(y[t(647)]),this[t(434)]=new(y[t(647)]),this.stateAcceleration=new(y[t(647)]),this[t(425)]=new v}[D(397)](t,e){const s=D;return super[s(397)](t,e),this[s(825)][s(698)](t.acceleration),this.timeScaledAcceleration[s(698)](this[s(825)]),this[s(434)][s(594)](e),t[s(775)][s(731)](this[s(434)]),this.stateVelocity.copy(t[s(775)]),this[s(678)][s(698)](this[s(425)]),this[s(678)][s(594)](e),t[s(768)][s(731)](this[s(678)]),t[s(616)]=t[s(616)]+e,t.rotation=t[s(410)]+e*t[s(788)],!0}}class K{static clamp(t,e,s){const i=D;return Math[i(651)](Math[i(401)](t,e),s)}static[D(661)](){return performance.now()/1e3}}class Q{constructor(){this[D(793)]=[]}[D(778)](t){const e=D;this.components[e(540)](t)}update(t,e){const s=D;for(const i of this[s(793)])i.update(t,e)}[D(370)](t){const e=D;if(t>=this[e(793)][e(481)])throw new Error(e(547));return this[e(793)][t]}}const tt=class{constructor(t){this.name=t}};i=D(773),n=D(642),r=D(460),a=D(765),g(tt,i,new tt(D(773))),g(tt,n,new tt(D(642))),g(tt,r,new tt(D(460))),g(tt,a,new tt(D(765)));let et=tt;class st{constructor(t,e){g(this,o,function(){const t=new x;return function(){const e=wt;let s=null;this.transformInitialDirectionInWorldSpace&&(s=t,s.copy(this.owner.matrixWorld)[e(703)]()),this[e(379)][e(513)]()?(this[e(819)][e(453)](this[e(396)],s),this[e(379)][e(846)](this[e(396)])):(this[e(819)][e(690)](this.boundingSphere,s),this[e(379)][e(635)](this[e(506)]))}}());const s=D;this[s(652)]=t,this[s(652)][s(694)]=!1,this[s(694)]=!0,this[s(379)]=e,this[s(730)]=!1,this[s(403)]=0,this.activeParticleCount=0,this[s(452)]=!0,this[s(801)]=!1,this[s(417)]=null,this[s(712)]=new Q,this[s(802)]=[],this[s(578)]=[],this[s(819)]=null,this.systemState=et[s(773)],this[s(687)]=new k,this[s(496)]=null,this[s(436)]=!0,this[s(396)]=new(y[s(835)]),this[s(506)]=new(y[s(630)])}[D(671)](t){const e=D;if(this[e(730)])throw new Error(e(528));this[e(403)]=t,this[e(379)]?(this[e(379)][e(632)](this[e(652)]),this[e(379)][e(671)](this[e(403)],this[e(452)]),this[e(379)][e(636)](this[e(452)]),this[e(819)]=this[e(379)][e(597)]()):(this[e(819)]=new J,this[e(819)][e(671)](this.maximumActiveParticles)),this[e(720)](new H),this[e(799)](new $),this.initialized=!0}[D(795)](){return this[D(694)]}[D(402)](t){return this.visible=t}[D(658)](t){this[D(496)]=t}[D(672)](t,e){const s=D;if(this[s(485)]==et.Running){if(this[s(652)][s(395)](!0),t=null==t||null==t?K[s(661)]():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(801)]&&this[s(485)]==et.Running){const t=this.particleEmitter.update(e);t>0&&this[s(662)](t),this.advanceActiveParticles(e),this[s(496)]&&this[s(496)](this[s(654)]),this.updateBounds()}this[s(712)][s(672)](t,e),this.lastUpdateTime=t}}[D(710)](t,e){const s=D;if(this[s(795)]()&&this.particleSystemRenderer){const i=t[s(811)];t.autoClear=!1,this.owner[s(694)]=!0,this[s(652)][s(832)]=!0,this[s(379)].render(this[s(652)],t,e),this[s(652)][s(694)]=!1,t[s(811)]=i}}start(){const t=D;this.systemState!=et[t(773)]&&this[t(485)]!=et[t(460)]||(this.systemState=et[t(642)],this[t(715)]=K[t(661)](),this[t(617)]=this[t(715)])}[D(491)](){const t=D;this.systemState==et[t(642)]&&(this[t(485)]=et[t(460)])}[D(441)](){}[D(746)](){return this[D(485)]}setEmitter(t){const e=D;return this[e(417)]=t,this[e(417)][e(403)]=this.maximumActiveParticles,this[e(801)]=!0,this.particleEmitter}addComponent(t){const e=D;this[e(712)][e(778)](t)}getComponent(t){const e=D;return this[e(712)][e(370)](t)}[D(720)](t){const e=D;return this[e(802)][e(540)](t),t}[D(467)](){const t=D;return this[t(802)][t(481)]}[D(519)](t){const e=D;if(t>=this[e(802)].length)throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this[e(802)][t]}[D(799)](t){const e=D;return this.particleStateOperators[e(540)](t),t}[D(659)](){const t=D;return this.particleStateOperators[t(481)]}[D(502)](t){const e=D;if(t>=this[e(578)][e(481)])throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(578)][t]}[D(456)](){return this[D(403)]}[D(505)](){return this[D(654)]}[D(612)](t){const e=D;if(t>=this[e(654)])throw new Error(e(619));return this[e(819)][e(650)](t)}[D(469)](){return this.particleStates}[D(361)](){return this.particleSystemRenderer}[D(821)](){return this[D(452)]}[D(636)](t){const e=D;this.simulateInWorldSpace=t,this[e(379)]&&this[e(379)].setSimulateInWorldSpace(this[e(452)])}[D(606)](t){this[D(436)]=t}[D(551)](t,e,s=0){const i=D;this.particleSequences[i(465)](t,e,s)}[D(426)](){return this.particleSequences}getEmitter(){return this.particleEmitter}[(o=D(638),D(662))](t){const e=D;if(this[e(485)]==et[e(642)]){const s=K[e(557)](this[e(654)]+t,0,this[e(403)]);for(let t=this[e(654)];t<s;t++)this[e(718)](t);this.activeParticleCount=s,this[e(819)][e(555)](this[e(654)])}}[D(718)](t){const e=D;if(this[e(485)]==et[e(642)]){const s=this[e(819)][e(650)](t);s.age=0;for(let t=0;t<this.particleStateInitializers[e(481)];t++){this[e(802)][t].initializeState(s)}if(this[e(452)]){s[e(768)][e(432)](this[e(652)][e(840)]);const t=s[e(775)].length();if(this[e(436)]){s.velocity[e(367)](this.owner.matrixWorld)[e(594)](t);const i=s[e(634)][e(481)]();s[e(634)].transformDirection(this.owner[e(840)])[e(594)](i)}}this.particleStates[e(590)](t)}}[D(544)](t){const e=D;if(this[e(485)]==et[e(642)]){let s=0;for(;s<this.activeParticleCount;){this[e(741)](s,t)?s++:(s<this[e(654)]-1&&this[e(737)](this[e(654)]-1,s),this.activeParticleCount--)}this[e(819)].setActiveParticleCount(this[e(654)])}}[D(741)](t,e){const s=D;if(this[s(485)]==et[s(642)]){const i=this.particleStates[s(650)](t);for(let t=0;t<this[s(578)][s(481)];t++){const n=this[s(578)][t][s(397)](i,e),r=i[s(538)];if(!n||0!=r&&i[s(616)]>=r)return!1}return this[s(819)][s(590)](t),!0}return!1}[D(737)](t,e){const s=D;this[s(819)][s(570)](t,e),this[s(819)][s(590)](e)}static[D(751)](t,e,s){const i=D,n=(t,e,s)=>{const i=wt;e(t);for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];typeof s===i(762)&&n(s,e)}};n(t,(t=>{const s=wt;t[s(368)]&&(t[s(368)]=e[s(413)](t.type))}));const r=t[i(747)],a=t[i(452)],o=t[i(569)],c=o.type[i(751)](o[i(464)]),h=new I,l=new st(h,c,s);l[i(671)](r),l.setSimulateInWorldSpace(a);const u=t[i(489)],p=u.type[i(751)](u.params);if(l[i(607)](p),t[i(598)])for(const m of t[i(598)])l[i(551)](m.start,m[i(481)],m.id);if(t.initializers)for(const m of t[i(470)])l[i(720)](m[i(368)][i(751)](l,m.params));if(t.operators)for(const m of t.operators){const t=l.addParticleStateOperator(m.type[i(751)](l,m.params));m[i(841)]&&t[i(387)](m.elements)}return[l,h]}[D(679)](t){const e=D,s=this[e(361)](),i=this[e(845)](),n=this[e(426)](),r=n[e(373)]()[e(796)]((t=>{const s=e,i=n[s(610)](t);return{id:t,start:i.start,length:i[s(481)]}})),a=[],o=this[e(467)]();for(let l=0;l<o;l++){const s=this[e(519)](l);s[e(404)]!==H&&a[e(540)]({type:t[e(473)](s[e(404)]),params:s[e(679)](t)})}const c=[],h=this[e(659)]();for(let l=0;l<h;l++){const s=this[e(502)](l);if(s[e(404)]!==$){const i=s[e(679)](t),n=i.params||i,r=i[e(464)]?i.elements:null,a={type:t[e(473)](s.constructor),params:n};r&&(a[e(841)]=r),c[e(540)](a)}}return{maxParticleCount:this[e(456)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(473)](s[e(404)]),params:s[e(679)]()},emitter:{type:t[e(473)](i[e(404)]),params:i[e(679)]()},sequences:r,initializers:a,operators:c}}}class it{constructor(){const t=D;this[t(558)]=[],this[t(495)]=performance.now()/1e3,this.lastUpdateTime=this[t(495)],this.componentContainer=new Q}update(){const t=D,e=K[t(661)](),s=e-this[t(617)];for(const i of this.particleSystems)i[t(672)](e,s);this[t(712)][t(672)](e,s),this[t(617)]=e}[D(710)](t,e){const s=D;for(const i of this.particleSystems)i[s(710)](t,e)}[D(738)](t){const e=D;this[e(558)][e(540)](t)}[D(778)](t){this[D(712)].addComponent(t)}[D(370)](t){return this[D(712)].getComponent(t)}}class nt{constructor(){const t=D;this[t(730)]=!1,this[t(388)]=0,this[t(652)]=null,this.simulateInWorldSpace=!1}setSimulateInWorldSpace(t){this[D(452)]=t}[D(597)](){}[D(632)](t){this[D(652)]=t}[D(671)](t){const e=D;if(this[e(388)]=t,!this[e(730)])return this.initialized=!0,!0;throw new Error(e(522))}[D(710)](){}}class rt extends J{constructor(){const t=D;super(),this[t(366)]=null,this[t(707)]=null,this[t(461)]=null,this.ages=null,this[t(588)]=null,this[t(372)]=null,this[t(761)]=null,this.accelerations=null,this.normals=null,this[t(621)]=null,this.rotationalSpeeds=null,this[t(486)]=null,this[t(419)]=null,this[t(656)]=null,this[t(591)]=null,this[t(504)]=!1,this[t(430)]=6}init(t,e=!1){const s=D;this[s(504)]=e,this.instanced?this.verticesPerParticle=1:this[s(430)]=6,super.init(t),this.allocate(t)}setParticleCount(t){super[D(700)](t)}[D(555)](t){const e=D;super.setActiveParticleCount(t),t>0?this[e(504)]?this[e(366)][e(749)]=t:this[e(366)][e(382)](0,this[e(430)]*t):this[e(504)]?this[e(366)][e(749)]=0:this.geometry[e(382)](0,0)}[D(590)](t){const e=D;if(t>=this[e(388)])throw new Error(e(742));const s=this[e(650)](t),i=t*this[e(430)];for(let n=0;n<this[e(430)];n++)this.lifetimes[e(643)](i+n,s.lifetime),this.lifetimes[e(782)]=!0,this[e(476)][e(643)](i+n,s[e(616)]),this[e(476)][e(782)]=!0,this[e(588)][e(791)](i+n,s.sequenceElement.x,s[e(669)].y,s[e(669)].z,s[e(669)].w),this[e(588)].needsUpdate=!0,this[e(372)][e(807)](i+n,s[e(768)].x,s[e(768)].y,s[e(768)].z),this.positions[e(782)]=!0,this[e(761)][e(807)](i+n,s[e(775)].x,s.velocity.y,s[e(775)].z),this[e(761)][e(782)]=!0,this[e(786)][e(807)](i+n,s[e(634)].x,s[e(634)].y,s[e(634)].z),this.accelerations[e(782)]=!0,this[e(532)][e(807)](i+n,s[e(583)].x,s[e(583)].y,s[e(583)].z),this[e(532)][e(782)]=!0,this.rotations[e(643)](i+n,s[e(410)]),this.rotations[e(782)]=!0,this.rotationalSpeeds[e(643)](i+n,s[e(788)]),this.rotationalSpeeds[e(782)]=!0,this[e(486)].setXY(i+n,s[e(813)].x,s[e(813)].y),this.sizes[e(782)]=!0,this[e(419)][e(807)](i+n,s.color.r,s[e(622)].g,s[e(622)].b),this.colors[e(782)]=!0,this[e(709)][e(643)](i+n,s.alpha),this[e(709)][e(782)]=!0,this[e(656)][e(728)](i+n,s.initialSize.x,s[e(735)].y),this.initialSizes[e(782)]=!0,this.initialAlphas[e(643)](i+n,s.initialAlpha),this[e(601)][e(782)]=!0}copyState(t,e){const s=D;super[s(570)](t,e),this[s(590)](e)}[D(682)](t,e){const s=D;if(t>=this[s(388)])throw new Error(s(724));super[s(682)](t,e),this[s(590)](t)}[D(770)](){return this[D(372)]}getSizes(){return this[D(486)]}[D(759)](){return this[D(621)]}[D(541)](){return this[D(588)]}getColors(){return this.colors}getGeometry(){return this[D(366)]}allocate(t){const e=D;super[e(501)](t);const s=(t,s)=>{const i=e;return this[i(504)]?new(y[i(806)])(t,s):new(y[i(780)])(t,s)},i=this[e(430)]*this[e(388)];if(this[e(504)]){const t=new(y[e(657)]),s=new Float32Array(18);this[e(744)]=new P(s,3),t[e(640)](e(768),this[e(744)]),this[e(744)][e(782)]=!0,this.basePositions[e(807)](0,-1,1,0),this[e(744)][e(807)](1,-1,-1,0),this[e(744)][e(807)](2,1,1,0),this[e(744)][e(807)](3,-1,-1,0),this[e(744)][e(807)](4,1,-1,0),this[e(744)][e(807)](5,1,1,0);const i=new Float32Array(12);this.baseUVs=new P(i,2),t[e(640)]("baseUV",this[e(629)]),this.baseUVs.needsUpdate=!0,this[e(629)].setXY(0,0,1),this[e(629)][e(728)](1,0,0),this[e(629)][e(728)](2,1,1),this.baseUVs.setXY(3,0,0),this[e(629)][e(728)](4,1,0),this[e(629)].setXY(5,1,1);const n=new Float32Array(6);this.customIndexes=new(y[e(780)])(n,1),t.setAttribute(e(433),this[e(474)]),this[e(474)][e(782)]=!0,this[e(474)][e(643)](0,0),this.customIndexes.setX(1,1),this[e(474)][e(643)](2,3),this[e(474)][e(643)](3,1),this[e(474)][e(643)](4,2),this.customIndexes[e(643)](5,3),this[e(366)]=(new(y[e(412)])).copy(t),this[e(366)][e(749)]=0}else{this[e(366)]=new A;const t=new Float32Array(i);this[e(474)]=new(y[e(780)])(t,1),this[e(366)].setAttribute(e(433),this[e(474)]),this[e(474)][e(782)]=!0;for(let s=0;s<this[e(388)];s++){const t=s*this[e(430)];this[e(474)][e(643)](t,0),this[e(474)][e(643)](t+1,1),this[e(474)][e(643)](t+2,3),this[e(474)][e(643)](t+3,1),this[e(474)][e(643)](t+4,2),this[e(474)].setX(t+5,3)}}const n=new Float32Array(i),r=new Float32Array(i),a=new Float32Array(4*i),o=new Float32Array(3*i),c=new Float32Array(3*i),h=new Float32Array(3*i),l=new Float32Array(3*i),u=new Float32Array(i),p=new Float32Array(i),m=new Float32Array(2*i),f=new Float32Array(3*i),d=new Float32Array(i),w=new Float32Array(2*i),g=new Float32Array(3*i),S=new Float32Array(i);this[e(372)]=s(o,3),this[e(372)][e(711)](y[e(826)]),this[e(366)][e(640)]("particlePosition",this[e(372)]),this.lifetimes=s(n,1),this[e(461)][e(711)](y[e(826)]),this[e(366)][e(640)]("lifetime",this[e(461)]),this.ages=s(r,1),this[e(476)][e(711)](F),this[e(366)][e(640)](e(616),this[e(476)]),this[e(588)]=s(a,4),this[e(588)][e(711)](F),this[e(366)][e(640)](e(669),this.sequenceElements),this[e(761)]=s(c,3),this[e(761)][e(711)](F),this.geometry[e(640)](e(775),this.velocities),this[e(786)]=s(h,3),this[e(786)][e(711)](F),this[e(366)][e(640)](e(634),this[e(786)]),this.normals=s(l,3),this.normals[e(711)](y[e(826)]),this.geometry[e(640)](e(583),this[e(532)]),this[e(621)]=s(u,1),this[e(621)][e(711)](y[e(826)]),this[e(366)][e(640)]("rotation",this[e(621)]),this[e(755)]=s(p,1),this[e(755)].setUsage(y[e(826)]),this.geometry[e(640)](e(788),this[e(755)]),this.sizes=s(m,2),this[e(486)][e(711)](y[e(826)]),this[e(366)][e(640)](e(813),this[e(486)]),this[e(419)]=s(f,3),this.colors[e(711)](F),this[e(366)][e(640)](e(622),this[e(419)]),this[e(709)]=s(d,1),this[e(709)][e(711)](F),this[e(366)][e(640)](e(407),this[e(709)]),this[e(656)]=s(w,2),this[e(656)].setUsage(y[e(826)]),this[e(366)][e(640)](e(735),this[e(656)]),this.initialColors=s(g,3),this[e(591)][e(711)](y[e(826)]),this[e(366)][e(640)](e(507),this[e(591)]),this.initialAlphas=s(S,1),this[e(601)].setUsage(y[e(826)]),this.geometry[e(640)](e(466),this[e(601)])}[D(549)](){const t=D;super.dispose(),this[t(366)]&&(this.geometry[t(549)](),this[t(366)]=null)}}class at{constructor(t,e,s,i,n){const r=D;this[r(481)]=t,this.x=e,this.y=s,this[r(566)]=i,this[r(398)]=n}}class ot{constructor(t,e){const s=D;this.texture=t,this.texturePath=e,this[s(378)]=[]}[D(493)](){return this[D(713)]}[D(533)](){return this[D(609)]}[D(523)](){return this[D(378)].length}[D(582)](t,e,s,i,n){this[D(378)].push(new at(t,e,s,i,n))}getFrameSet(t){const e=D;if(t>=this[e(378)][e(481)])throw new Error(e(839));return this[e(378)][t]}}const ct=class t extends nt{constructor(t,e,s=!1,i=T,n=!0,r){const a=D;super(),g(this,c,function(){const t=new v;return function(){const e=wt,s=this[e(415)][e(644)]();if(this[e(561)]){s[e(396)]||(s[e(396)]=new b),s.boundingBox.copy(this.boundingBox),!s[e(506)]&&(s[e(506)]=new(y[e(630)])),t.x=(this[e(396)].min.x+this.boundingBox.max.x)/2,t.y=(this[e(396)][e(651)].y+this[e(396)][e(401)].y)/2,t.z=(this[e(396)][e(651)].z+this[e(396)][e(401)].z)/2;const i=this[e(396)].max.x-t.x,n=this[e(396)][e(401)].y-t.y,r=this.boundingBox[e(401)].z-t.z,a=Math[e(401)](Math[e(401)](i,n),r);s[e(506)][e(748)][e(698)](t),s[e(506)][e(785)]=Math[e(427)](2*a*a)}else s[e(506)]||(s[e(506)]=new(y[e(630)])),s.boundingSphere.copy(this[e(506)])}}()),this.instanced=t,this.particleStateArray=null,this.material=null,this[a(838)]=null,this[a(760)]=e,this[a(448)]=s,this[a(511)]=i,this[a(396)]=new(y[a(835)]),this[a(506)]=new(y[a(630)]),this[a(561)]=n,this[a(472)]=r}setOwner(t){super.setOwner(t)}getParticleStateArray(){return this[D(415)]}[D(636)](t){const e=D;super[e(636)](t),this[e(421)]&&(this[e(421)].uniforms.simulateInWorldSpace[e(704)]=t?1:0,this[e(421)][e(556)]=!0)}[D(513)](){return this[D(561)]}setBoundingBox(t){const e=D;this[e(396)][e(698)](t),this[e(838)]&&this[e(613)]()}[D(635)](t){const e=D;this[e(506)][e(698)](t),this[e(838)]&&this[e(613)]()}[D(710)](t,e,s){e[D(710)](t,s)}[(c=D(613),D(671))](t){const e=D;super[e(671)](t)&&(this.particleStateArray=new rt,this[e(415)][e(671)](t,this[e(504)]),this[e(421)]=this[e(457)](null,null,null,!0,!1),this[e(421)][e(511)]=this[e(511)],this.mesh=new(y[e(400)])(this[e(415)][e(644)](),this[e(421)]),this[e(838)][e(691)]=!0,void 0!==this.renderOrder&&(this[e(838)][e(472)]=this[e(472)]),this[e(613)](),this[e(652)][e(731)](this.mesh))}dispose(){const t=D;this[t(415)][t(549)]()}[D(457)](e,s,i,n,r){const a=D,o=[...Array(16)[a(655)]()][a(796)]((t=>new(y[a(684)])));if(this[a(760)])for(let t=0;t<this[a(760)][a(523)]();t++){const e=this[a(760)][a(772)](t);o[t]=new(y[a(684)])(e.x,e.y,e[a(566)],e[a(398)])}const c=this[a(760)]?this.atlas[a(493)]():null,h=this[a(448)],l=this[a(452)],u=this[a(504)]?1:0,p={atlasFrameSet:{type:a(508),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(y[a(560)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return i=i||{},Object[a(488)](i,p),e=e||t[a(637)][a(787)](r),s=s||t[a(637)][a(512)](n,r),new(y[a(389)])({uniforms:i,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:T,blendDstAlpha:y[a(534)],blendSrcAlpha:y[a(409)],depthTest:!0,depthWrite:!1})}static[(h=D(637),D(751))](e){const s=D,i=e[s(760)],n=(new(y[s(666)])).load(i.texturePath),r=new ot(n,i[s(609)]),a=i[s(365)];for(const t of a)r[s(582)](t[s(481)],t.x,t.y,t[s(566)],t.height);const o=new t(e[s(504)],r,i.interpolateFrames);return e[s(511)]==s(767)?o[s(511)]=y[s(455)]:o[s(511)]=T,o}toJSON(t){const e=D;t=t||(t=>{const e=wt;if(t[e(609)])return t[e(609)];const s=t.getTexture().source;if(s){const t=s[e(685)];if(t){const s=t[e(604)],i=t[e(727)];return i[e(681)](s)>=0?i[e(571)](s[e(481)],i[e(481)]-s.length):i}}});const s=[];for(let n=0;n<this[e(760)].getFrameSetCount();n++){const t=this.atlas[e(772)](n);s[e(540)](t)}let i="Normal";this[e(421)][e(511)]===y[e(455)]&&(i=e(767));return{instanced:this[e(504)],blending:i,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this[e(760)]),framesets:s}}}};g(ct,h,{get VertexVars(){const t=D;return[t(664),t(660),t(480),t(568),t(814),t(719),t(593),t(454),t(831),t(478),t(463),"attribute vec3 color;\n","attribute float alpha;\n",t(674),t(484),"varying vec3 vFragColor;\n",t(702),t(750)][t(757)]("\n")},get FragmentVars(){const t=D;return[t(480),t(440),"uniform vec2 uvOffset;\n",t(674),t(484),t(833),t(702),t(471)][t(757)]("\n")},getVertexShader(t){const e=D;let s=[e(809),this.VertexVars][e(757)]("\n");return t&&(s+=e(794)),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   float atlasFrameWidth = atlasFrames.z; \n","   float atlasFrameHeight = atlasFrames.w; \n",e(789),"   float atlasFrameY = atlasFrames.y; \n",e(828),e(371),e(411),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(450),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(653),e(708),e(497),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(406),"   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n",e(717),"} \n","void main()\n","{\n",e(797),e(514),e(572),e(639),e(542),"   const vec2 uLeft = vec2(-1.0, 1.0);\n","   const vec2 dLeft = vec2(-1.0, -1.0);\n",e(627),e(574),e(667),e(625),e(626),e(695),e(733),"   float sequenceElementF = sequenceElement.x;\n","   int sequenceNumber = int(sequenceElement.y);\n",e(754),"   int sequenceLength = int(sequenceElement.w);\n",e(499),e(531),e(779),e(611),"   int firstSequenceElement = int(sequenceElementF); \n",e(600),e(677),e(537),e(490),e(733),e(776),e(386),e(579),e(699),e(592),"   float upperSide; \n",e(376),e(442),e(774),e(752),"   }  else { \n",e(815),"       upperSide = baseUV.y; \n","   } \n",e(483),e(459),e(567),e(376),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","       float uLeftV = rotVecStep.x; \n",e(587),e(781),e(518),e(692),e(714),e(437),e(733),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n",e(584),e(837),e(520)][e(757)]("\n"),t&&(s+=e(548)),s+="} \n",s},getFragmentShader(t,e){const s=D;let i="#include <common> \n"+this[s(824)]+"\n";return e&&(i+=s(503)),i+=s(422),e&&(i+="    \n  #include <logdepthbuf_fragment> \n"),i+=t?[s(374),s(377),s(605),s(530),s(631)][s(757)]("\n"):[s(758),s(377),s(605),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(631)].join("\n"),i+="}\n",i}});let ht=ct;class lt{constructor(){const t=D;this[t(516)]=0,this.emissionDuration=0,this[t(447)]=0,this.age=0,this[t(381)]=0,this[t(836)]=0,this[t(403)]=0}[D(672)](t){return this[D(446)](t),0}internalUpdate(t){const e=D;return this.age+=t,this.timeActive=Math[e(401)](this[e(616)]-this[e(516)],0),this.age>=this[e(516)]&&(0==this.emissionDuration||this.timeActive<=emissionDuration)}[D(449)](t){this[D(447)]+=t}}class ut extends lt{constructor(){const t=D;super(),this[t(550)]=0,this[t(729)]=0}}class pt extends ut{constructor(t=0){super(),this.emissionRate=t}[D(672)](t){const e=D;if(this[e(446)](t)){const t=this[e(649)]*this[e(381)]-this[e(447)];if(t>=1){const e=Math.floor(t);return this.updateEmitCount(e),e}}return 0}static fromJSON(t){const e=D,s=new pt;return s[e(649)]=t[e(649)]||0,s}toJSON(){return{emissionRate:this.emissionRate}}}const mt=class t{constructor(t){this.name=t}static[(l=D(399),u=D(560),p=D(769),D(573))](e){const s=D;let i=t[s(399)];return e===z?i=t.Vector2:e===v?i=t.Vector3:e===y[s(684)]?i=t[s(684)]:e===y[s(769)]&&(i=t.Color),i}static[D(624)](t,e){const s=D;switch(e){case y[s(560)]:return(new(y[s(560)]))[s(834)](t);case y[s(647)]:return(new v)[s(834)](t);case y[s(684)]:return(new(y[s(684)])).fromArray(t);case E:return(new E)[s(834)](t)}return t}};g(mt,l,new mt("Default")),g(mt,u,new mt(D(560))),g(mt,"Vector3",new mt("Vector3")),g(mt,"Vector4",new mt(D(684))),g(mt,p,new mt("Color"));let ft=mt;class dt{constructor(t){const e=D;this[e(509)]=t,this.outTypeID=ft[e(573)](t)}}function wt(t,e){const s=Ot();return(wt=function(t,e){return s[t-=361]})(t,e)}class gt extends dt{constructor(t,e,s,i,n,r){const a=D;super(t),this.range=e,this[a(414)]=s,this[a(701)]=i,this.uniformOffset=n,this[a(676)]=r}[D(479)](t){const e=D,s=Math.random()*this.uniformRange;switch(this.outTypeID){case ft.Default:t=Math[e(545)]()*this[e(385)]+this[e(414)],this[e(676)]&&(t=t<0?-1:1);break;case ft[e(560)]:t[e(596)](this.generateForElement(s,"x"),this[e(680)](s,"y"));break;case ft[e(647)]:t[e(596)](this[e(680)](s,"x"),this.generateForElement(s,"y"),this[e(680)](s,"z"));break;case ft[e(684)]:t[e(596)](this.generateForElement(s,"x"),this[e(680)](s,"y"),this.generateForElement(s,"z"),this[e(680)](s,"w"))}return this[e(676)]&&t[e(676)](),t}[D(680)](t,e){const s=D;return t+Math[s(545)]()*this[s(385)][e]+this.offset[e]+this[s(418)]}[D(475)](){const t=D;return new gt(this[t(509)],this.range,this[t(414)],this[t(701)],this[t(418)],this.normalize)}static getParameterJSON(t){const e=D;return t instanceof y[e(560)]||t instanceof y[e(647)]||t instanceof y[e(684)]||t instanceof y[e(769)]?t[e(462)]():t}static[D(751)](t){const e=D;return new gt(t[e(368)],ft[e(624)](t[e(385)],t[e(368)]),ft[e(624)](t.offset,t.type),t[e(701)]||0,t[e(418)]||0,t[e(676)])}[D(679)](t){const e=D,s={range:gt.getParameterJSON(this[e(385)]),offset:gt[e(783)](this[e(414)]),uniformRange:this.uniformRange,uniformOffset:this[e(418)]},i=t.getTypePath(this.range.constructor);return null!=i&&(s.type=i),{type:t[e(473)](gt),params:s}}}class St extends G{constructor(t,e,s,i,n){const r=D;super(),this.range=t,this[r(414)]=e,this.uniformRange=s,this[r(418)]=i,this.normalize=n,this[r(817)]=new gt(0,this[r(385)],this[r(414)],this[r(701)],this.uniformOffset,this[r(676)])}initializeState(t){const e=D;t[e(538)]=this[e(817)][e(479)]()}static[D(751)](t,e){const s=D;return new St(e[s(385)],e.offset,e.uniformRange,e[s(418)],e.normalize)}toJSON(){const t=D;return{range:this[t(385)],offset:this[t(414)],uniformRange:this[t(701)],uniformOffset:this[t(418)],normalize:this[t(676)]}}}class yt extends G{constructor(t){const e=D;super(),this[e(817)]=t.clone()}initializeState(t){const e=D;t[e(410)]=this[e(817)].generate(t.rotation)}static[D(751)](t,e){const s=D,i=e.generator[s(368)][s(751)](e.generator[s(464)]);return new yt(i)}toJSON(t){const e=D;return{generator:this[e(817)][e(679)](t)}}}class vt extends G{constructor(t,e,s,i,n){const r=D;super(),this[r(385)]=t,this[r(414)]=e,this[r(701)]=s,this[r(418)]=i,this[r(676)]=n,this[r(817)]=new gt(0,this[r(385)],this[r(414)],this[r(701)],this.uniformOffset,this[r(676)])}initializeState(t){const e=D;t[e(788)]=this[e(817)].generate()}static[D(751)](t,e){const s=D;return new vt(e.range,e[s(414)],e[s(701)],e[s(418)],e[s(676)])}[D(679)](){const t=D;return{range:this.range,offset:this.offset,uniformRange:this[t(701)],uniformOffset:this[t(418)],normalize:this[t(676)]}}}class xt extends G{constructor(t,e){const s=D;super(),this[s(686)]=new gt(v,t,e,0,0,!1)}initializeState(t){const e=D;this[e(686)][e(479)](t[e(768)])}static fromJSON(t,e){const s=D;return new xt((new(y[s(647)]))[s(834)](e[s(385)]),(new v)[s(834)](e[s(414)]))}[D(679)](){const t=D;return{range:this[t(686)][t(385)][t(462)](),offset:this[t(686)][t(414)].toArray()}}}class It extends G{constructor(t){const e=D;super(),this.generator=t[e(475)]()}[D(766)](t){const e=D;this[e(817)].generate(t[e(813)]),t[e(735)][e(698)](t[e(813)])}static[D(751)](t,e){const s=D,i=e[s(817)].type[s(751)](e[s(817)][s(464)]);return new It(i)}toJSON(t){return{generator:this[D(817)].toJSON(t)}}}class Pt extends G{constructor(t,e,s,i,n=!0){const r=D;super(),this[r(633)]=new gt(y[r(647)],t,e,0,0,!0),this[r(393)]=new gt(0,s,i,0,0,!1),this[r(585)]=n}[D(766)](t){const e=D;this[e(633)][e(479)](t[e(775)]),this[e(585)]&&t[e(775)][e(676)](),t[e(775)][e(594)](this[e(393)].generate())}static[D(751)](t,e){const s=D;return new Pt((new(y[s(647)])).fromArray(e[s(385)]),(new(y[s(647)]))[s(834)](e[s(414)]),e[s(392)],e[s(364)])}[D(679)](){const t=D;return{range:this.directionGenerator[t(385)][t(462)](),offset:this[t(633)][t(414)][t(462)](),speedRange:this[t(393)][t(385)],speedOffset:this[t(393)][t(414)]}}}class At extends G{constructor(t,e=!1){const s=D;super(),this[s(696)](t),this[s(362)]=e}[D(696)](t){this[D(687)]=t}initializeState(t){const e=D,s=this[e(687)].getSequenceIDs(),i=s[e(481)]*Math[e(545)](),n=s[Math[e(725)](i)],r=this[e(687)][e(610)](n),a=t.sequenceElement;this[e(362)]?a.x=r[e(481)]-1:a.x=r[e(668)],a.y=r.id,a.z=r.start,a.w=r.length,t.progressType=X[e(468)]}static[D(751)](t,e){const s=D;return new At(t[s(426)](),e[s(362)])}[D(679)](){return{reverse:this[D(362)]}}}class Ft extends Z{constructor(t,e,s=!1,i=!1){const n=D;super(),this[n(687)]=t,this[n(559)]=e,this[n(803)]=s,this.reverse=i}[D(397)](t,e){const s=D,i=t.sequenceElement,n=this.particleSequences[s(610)](i.y),r=e/this.speed;if(this[s(362)]){if(i.x-=r,i.x<n.start&&(i.x=n[s(668)]+n[s(481)],!this[s(803)]))return!1}else if(i.x+=r,i.x>=n[s(668)]+n[s(481)]&&(i.x=n.start,!this[s(803)]))return!1;return!0}static[D(751)](t,e){const s=D;return new Ft(t[s(426)](),e[s(559)],e[s(803)],e[s(362)])}[D(679)](){const t=D;return{speed:this[t(559)],loop:this[t(803)],reverse:this[t(362)]}}}class Tt{constructor(t,e){g(this,m,function(){const t=D,e={lowerIndex:0,upperIndex:0,localT:0},s=new(y[t(560)]),i=new v,n=new(y[t(684)]),r=new(y[t(769)]),a=s=>(i,n,r,a)=>{const o=t;Tt[o(790)](r,i,e),s.copy(n[e[o(830)]]).multiplyScalar(e[o(683)]),a[o(698)](n[e[o(693)]]).multiplyScalar(1-e.localT)[o(731)](s)};return function(o){const c=t;switch(o){case ft[c(399)]:return(t,s,i)=>{const n=c;return Tt[n(790)](i,t,e),(1-e[n(683)])*s[e[n(693)]]+e[n(683)]*s[e[n(830)]]};case ft[c(560)]:return a(s);case ft[c(647)]:return a(i);case ft[c(684)]:return a(n);case ft[c(769)]:return a(r)}}}());const s=D;this[s(841)]=[],this[s(380)]=[],this[s(763)]=ft.getTypeID(t),e?this[s(823)]=e:this.interpolator=this[s(734)](this[s(763)])}*[Symbol[D(665)]](){const t=D;let e=0;for(;e<this[t(576)]();)yield{element:this[t(841)][e],tValue:this[t(380)][e]},e++}getElementCount(){return this[D(841)].length}[D(722)](t){const e=D;if(t>=this[e(576)]())throw new Error(e(816));return this.elements[t]}[D(390)](t){if(t>=this[D(576)]())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this.tValues[t]}[D(552)](t,e){const s=D;this.elements.push(t),this.tValues[s(540)](e)}getInterpolatedElement(t,e){const s=D;return this[s(823)](t,this.elements,this[s(380)],e)}static[(m=D(734),D(790))](t,e,s){const i=D,n=t[i(481)];if(0===n)return s[i(693)]=-1,s[i(830)]=-1,void(s[i(683)]=-1);let r=0,a=-1,o=0;for(let l=0;l<n&&(r=t[l],!(r>e));l++)a++,o++;s[i(693)]=K[i(557)](a,0,n-1),s[i(830)]=K[i(557)](o,0,n-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class bt extends Z{constructor(t,e=!1){const s=D;super(),this[s(554)]=e,this[s(408)]=new Tt(t)}[D(552)](t,e){this[D(408)].addElement(t,e)}[D(482)](t){const e=D;for(const s of t)this[e(408)][e(552)](s[0],s[1])}[D(675)](t,e){const s=D;for(const i of e){const[...e]=i[0];this.interpolationElements[s(552)](new t(...e),i[1])}}[D(424)](t,e){const s=D;let i=0;switch(t[s(487)]){case X.Time:i=0!=t.lifetime?t[s(616)]/t[s(538)]:t[s(616)];break;case X[s(468)]:i=t[s(669)].x/t[s(669)].w}return this[s(408)][s(739)](i,e)}}class zt extends bt{constructor(t=!1){super(0,t)}[D(387)](t){super[D(482)](t)}[D(397)](t){const e=D;return this.relativeToInitialValue?t[e(407)]=t.initialAlpha*this[e(424)](t,t[e(407)]):t[e(407)]=this[e(424)](t,t[e(407)]),!0}static fromJSON(t,e){return new zt(e.relativeToInitialValue)}[D(679)](){const t=D;return{params:{relativeToInitialValue:this[t(554)]},elements:[...this[t(408)]][t(796)]((e=>[e[t(595)],e[t(581)]]))}}}class Et extends bt{constructor(t=!1){super(z,t),g(this,f,function(){const t=new z;return function(e){const s=wt;return this[s(424)](e,t),this[s(554)]?e[s(813)][s(596)](e[s(735)].x*t.x,e[s(735)].y*t.y):e[s(813)][s(698)](t),!0}}())}[D(387)](t){const e=D;super[e(675)](y[e(560)],t)}static fromJSON(t,e){return new Et(e.relativeToInitialValue)}[(f=D(397),D(679))](){const t=D;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(408)]][t(796)]((e=>[e[t(595)][t(462)](),e[t(581)]]))}}}class Rt extends bt{constructor(t=!1){super(y[D(769)],t),g(this,d,function(){const t=D,e=new(y[t(769)]);return function(s){const i=t;return this.getInterpolatedValue(s,e),this[i(554)]?s[i(622)][i(498)](s[i(507)].r*e.r,s[i(507)].g*e.g,s[i(507)].b*e.b):s[i(622)][i(698)](e),!0}}())}[D(387)](t){const e=D;super[e(675)](y[e(769)],t)}static fromJSON(t,e){return new Rt(e.relativeToInitialValue)}[(d=D(397),D(679))](){const t=D;return{params:{relativeToInitialValue:this[t(554)]},elements:[...this[t(408)]][t(796)]((e=>[e.element[t(462)](),e[t(581)]]))}}}function Ot(){const t=["rotations","color","offsetTheta","loadJSONParameter","       viewPosition = viewMatrix * particlePosition;\n","   } else { \n","   const vec2 dRight = vec2(1.0, -1.0);\n","Object3D","baseUVs","Sphere","   gl_FragColor.a *= vFragAlpha; \n","setOwner","directionGenerator","acceleration","setBoundingSphere","setSimulateInWorldSpace","Shader","updateBounds","   const vec2 down = vec2(0.0, -1.0);\n","setAttribute","JSONTypeStore::addTypeToNamespace() -> typeName already exists","Running","setX","getGeometry","offsetY","nextIntensityAdjuster","Vector3","parseNamespaceAndTypename","emissionRate","getState","min","owner","   int nRowYTile = int(SNOverHS);\n","activeParticleCount","keys","initialSizes","BufferGeometry","onUpdate","getParticleStateOperatorCount","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","currentTime","activateParticles","2746827LRfkcD","const int MAX_ATLAS_FRAME_SETS = 16; \n","iterator","TextureLoader","   if (simulateInWorldSpace == 1) { \n","start","sequenceElement","setIntensity","init","update","20220oTmwcN","varying vec2 vUV1;\n","addElementsFromElementClassAndParameters","normalize","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","timeScaledVelocity","toJSON","generateForElement","indexOf","setState","localT","Vector4","data","randomGenerator","particleSequences","typeIDGen","8518410eYeBCS","computeBoundingSphere","frustumCulled","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","lowerIndex","visible","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","setParticleSequences","decay","copy","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","setParticleCount","uniformRange","varying float vFragAlpha;\n","invert","value","3516YqRcQa","apply","progressTypes","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","alphas","render","setUsage","componentContainer","texture","   }  else { \n","startTime","JSONTypeStore::addNamespace() -> namespace already exists","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","activateParticle","attribute vec2 baseUV;\n","addParticleStateInitializer","default","getElement","counter",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"floor","edgeRadius","currentSrc","setXY","emissionMaximum","initialized","add","console","   } \n","getInterpolatorForTypeID","initialSize","11036565nHAyqT","copyParticleInArray","addParticleSystem","getInterpolatedElement",'ParticleStateArray::getState() -> "index" is out of range.',"advanceActiveParticle",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"exception","basePositions","rangeTheta","getSystemState","maxParticleCount","center","instanceCount","varying float vSequenceElementT; \n","fromJSON","       upperSide = upperSideStep.x + upperSideStep.y;\n","call","   int sequenceStart = int(sequenceElement.z);\n","rotationalSpeeds","JSONTypeStore::getType() -> typeName does not exist","join","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","getRotations","atlas","velocities","object","elementTypeID","remove","Done","initializeState","Additive","position","Color","getPositions","__proto__","getFrameSet","NotStarted","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","velocity","   float atlasFrameWidth = atlasFrames.z; \n","lastIntensityAdjuster","addComponent","   vec2 uv2; \n","BufferAttribute","       float uRightV = rotVecStep.z; \n","needsUpdate","getParameterJSON","toString","radius","accelerations","getVertexShader","rotationalSpeed","   float atlasFrameX = atlasFrames.x; \n","getInterpolationValuesForTValue","setXYZW","lastIntensityFlickerTime","components","  \n #include <logdepthbuf_pars_vertex> \n","getVisible","map","   const vec2 right = vec2(1.0, 0.0);\n","while (true) {}","addParticleStateOperator","getTypeNames","emitterInitialized","particleStateInitializers","loop","positionAdjuster","offsetRadius","InstancedBufferAttribute","setXYZ","offsetX","#include <common>","ParticleSequenceGroup::getSequence -> Invalid ID.","autoClear","intensityFlux","size","uniform int instanced; \n","       rightSide = baseUV.x; \n",'ContinuousArray::getElement() -> "index" is out of bounds.',"generator","split","particleStates","intensity","getSimulateInWorldSpace","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","interpolator","FragmentVars","stateAcceleration","DynamicDrawUsage","info","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","sub","upperIndex","attribute float rotation;\n","matrixWorldNeedsUpdate","varying vec3 vFragColor;\n","fromArray","Box3","activeCount","   vFragColor = color; \n","mesh",'Atlas::getFrameSet -> "index" is out of range.',"matrixWorld","elements","cameraFar","3038224WsiVuP","prototype","getEmitter","setBoundingBox","tempUp","getParticleSystemRenderer","reverse","offsetPhi","speedOffset","framesets","geometry","transformDirection","type","addTypeToNamespace","getComponent","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","positions","getSequenceIDs","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","addNamespace","   if (instanced != 1) { \n","   vec4 color2 = color1; \n","frameSets","particleSystemRenderer","tValues","timeActive","setDrawRange","scaleX","mapSize","range","   float atlasFrameHeight = atlasFrames.w; \n","addElementsFromParameters","particleCount","ShaderMaterial","getTValue",'ParticleStateArray::setState() -> "index" is out of range.',"speedRange","speedGenerator","jsonTypes","updateWorldMatrix","boundingBox","updateState","height","Default","Mesh","max","setVisibile","maximumActiveParticles","constructor","now","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","alpha","interpolationElements","SrcAlphaFactor","rotation","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","InstancedBufferGeometry","parseTypeString","offset","particleStateArray","lastPositionFlickerTime","particleEmitter","uniformOffset","colors","rangePhi","material","void main() { \n","function","getInterpolatedValue","stateVelocity","getParticleSequences","sqrt","name","getLight","verticesPerParticle","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","applyMatrix4","customIndex","timeScaledAcceleration","offsetZ","transformInitialDirectionInWorldSpace","       rotVec = position.xy; \n ","hasID","parent","uniform sampler2D atlasTexture;\n","stop","       rightSide = step(2.0, customIndex); \n","cameraNear","lastPositionAdjuster","Time","internalUpdate","emitCount","interpolateAtlasFrames","updateEmitCount","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","getParticleCount","simulateInWorldSpace","computeBoundingBox","attribute vec4 particlePosition;\n","AdditiveBlending","getMaximumActiveParticles","createMaterial","return (function() ","   float uvYOffset = atlasFrameHeight * upperSide; \n","Paused","lifetimes","toArray","attribute vec4 sequenceElement;\n","params","addSequence","initialAlpha","getParticleStateInitializerCount","Sequence","getParticleStates","initializers","varying float vSequenceElementT;\n","renderOrder","getTypePath","customIndexes","clone","ages","checkAndAddTypeName","attribute vec2 size;\n","generate","uniform int interpolateAtlasFrames; \n","length","addElements","   float uvXOffset = atlasFrameWidth * rightSide; \n","varying vec2 vUV2;\n","systemState","sizes","progressType","assign","emitter","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","pause","namespace","getTexture","bias","startupTime","onUpdateCallback","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","setRGB","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","cos","allocate","getParticleStateOperator","  \n #include <logdepthbuf_pars_fragment> \n","instanced","getActiveParticleCount","boundingSphere","initialColor","v4v","outType","stateObject","blending","getFragmentShader","calculatingBoundingSphereFromBox","   const vec2 up = vec2(0.0, 1.0);\n","ids","emissionRelativeStartTime","shadow","       float dRightV = rotVecStep.w - rotVecStep.z; \n","getParticleStateInitializer","   vFragAlpha = alpha; \n","scaleZ","Renderer::init() -> trying to intialize more than once.","getFrameSetCount","hasOwnProperty","sin","input","far","ParticleSystem::init() -> trying to intialize more than once.","7515zmQucs","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","   vec2 uv1; \n","normals","getTexturePath","OneMinusSrcAlphaFactor","light","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","lifetime","typeName","push","getSequenceElements","   const vec2 uRight = vec2(1.0, 1.0);\n","rangeRadius","advanceActiveParticles","random","copyTo",'ComponentContainer::getComponent() -> "index" is out of range.',"   \n  #include <logdepthbuf_vertex> \n","dispose","emissionMinimum","addParticleSequence","addElement","table","relativeToInitialValue","setActiveParticleCount","uniformsNeedUpdate","clamp","particleSystems","speed","Vector2","calculateBoundingSphereFromBox","4999561BiSgqs","jsonTypeNames","bind","2tbRdHs","width","   vec2 rotVec; \n","uniform int simulateInWorldSpace; \n","renderer","copyState","substr","   const vec2 left = vec2(-1.0, 0.0);\n","getTypeID","   vec4 viewPosition; \n","gger","getElementCount","setAll","particleStateOperators","   float rotMag = rotation; \n","debu","tValue","addFrameSet","normal","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","normalizeDirection","near","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","sequenceElements","test","flushParticleStateToBuffers","initialColors","   float rightSide; \n","attribute float customIndex;\n","multiplyScalar","element","set","getParticleStateArray","sequences","getType","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","initialAlphas","chain","error","baseURI","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","setTransformInitialDirectionInWorldSpace","setEmitter","___photonsTypeID","texturePath","getSequence","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","getParticleState","updateMeshBounds","scaleY","castShadow","age","lastUpdateTime","8ZlMHdX",'ParticleSystem::getParticleState() -> "index" is out of range.',"splice"];return(Ot=function(){return t})()}class Vt extends Z{constructor(t){const e=D;super(),this[e(817)]=t[e(475)]()}addElementsFromParameters(t){const e=D;super[e(675)](THREE[e(647)],t)}updateState(t){const e=D;return this[e(817)][e(479)](t[e(634)]),!0}static fromJSON(t,e){const s=D,i=e[s(817)].type[s(751)](e[s(817)][s(464)]);return new Vt(i)}[D(679)](t){return{generator:this[D(817)].toJSON(t)}}}class Ct extends dt{constructor(t,e,s,i,n,r,a,o,c,h,l,u){const p=D;super(v),this[p(745)]=t,this[p(623)]=e,this[p(420)]=s,this[p(363)]=i,this.rangeRadius=n,this[p(805)]=r,this[p(383)]=a,this[p(614)]=o,this[p(521)]=c,this[p(808)]=h,this.offsetY=l,this[p(435)]=u,this.tempUp=(new(y[p(647)]))[p(596)](0,1,0)}[D(479)](t){const e=D;this[e(847)][e(596)](0,1,0);const s=Math[e(545)]()*this[e(745)]+this[e(623)],i=Math[e(545)]()*this[e(420)]+this.offsetPhi,n=Math[e(500)](s),r=Math[e(525)](s),a=Math.cos(i),o=Math.sin(i);t[e(596)](n,0,-r),t[e(594)](a),this[e(847)][e(594)](o),t[e(731)](this[e(847)]),t[e(676)]();const c=Math[e(545)]()*this[e(543)]+this.offsetRadius;t.multiplyScalar(c),t.x*=this[e(383)],t.y*=this[e(614)],t.z*=this[e(521)],t.x+=this[e(808)],t.y+=this[e(645)],t.z+=this[e(435)]}[D(475)](){const t=D;return new Ct(this[t(745)],this[t(623)],this[t(420)],this[t(363)],this[t(543)],this[t(805)],this[t(383)],this[t(614)],this[t(521)],this.offsetX,this[t(645)],this[t(435)])}static[D(751)](t){const e=D;return new Ct(t[e(745)],t.offsetTheta,t[e(420)],t[e(363)],t[e(543)],t[e(805)],t.scaleX,t.scaleY,t[e(521)],t.offsetX,t[e(645)],t.offsetZ)}[D(679)](t){const e=D;return{type:t[e(473)](Ct),params:{rangeTheta:this.rangeTheta,offsetTheta:this[e(623)],rangePhi:this[e(420)],offsetPhi:this[e(363)],rangeRadius:this[e(543)],offsetRadius:this[e(805)],scaleX:this.scaleX,scaleY:this[e(614)],scaleZ:this.scaleZ,offsetX:this[e(808)],offsetY:this[e(645)],offsetZ:this[e(435)]}}}}class qt{constructor(){}}class Mt extends qt{constructor(t,e,s,i,n,r,a=void 0){const o=D;super(),this[o(652)]=null,this[o(535)]=null,this.lastUpdateTime=performance[o(405)]()/1e3,this.lastIntensityFlickerTime=this[o(617)],this.lastPositionFlickerTime=this.lastUpdateTime,this[o(777)]=1,this[o(646)]=1,this[o(444)]=new v,this.positionAdjuster=new(y[o(647)]),this[o(820)]=1,this[o(812)]=2,this[o(439)]=t,this[o(671)](t,e,s,i,n,r,a)}[D(671)](t,e,s,i,n,r,a=void 0){const o=D;this[o(652)]=new(y[o(628)]),t[o(731)](this[o(652)]),i=i||new(y[o(769)]),n=n||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(535)]=new R(16777215,2,0,1),this.light[o(622)][o(698)](i),this.light.distance=n,this.light[o(697)]=r,this[o(535)][o(615)]=c,c&&(this[o(535)].shadow.mapSize[o(566)]=a[o(384)]||512,this.light[o(517)][o(384)][o(398)]=a[o(384)]||512,this[o(535)][o(517)].camera[o(586)]=a[o(443)]||.5,this.light[o(517)].camera[o(527)]=a[o(842)]||500,this[o(535)].shadow[o(494)]=a[o(494)]||1e-4,this.light[o(517)].radius=a[o(726)]||1),this[o(652)].add(this[o(535)]),this[o(820)]=e,this[o(812)]=s,this[o(535)]}[D(549)](){const t=D;this.parent[t(764)](this[t(652)])}[D(429)](){return this[D(535)]}[D(670)](t){this[D(820)]=t}update(t){const e=D,s=t-this[e(792)],i=1/8,n=this[e(812)];if(s>i){this[e(792)]=t;let s=1+2*(Math[e(545)]()-.5)*n*i;const r=s-this.lastIntensityAdjuster;s=this.lastIntensityAdjuster+r,this[e(777)]=this[e(646)],this[e(646)]=K[e(557)](s,.25,1.5)}else{const t=s/i,n=(1-t)*this.lastIntensityAdjuster+t*this.nextIntensityAdjuster;this[e(535)][e(820)]=n*this[e(820)]}if(t-this[e(416)]>.0625){this[e(416)]=t;const s=t-this[e(617)];this.positionAdjuster.set(Math[e(545)]()-.5,Math.random()-.5,Math[e(545)]()-.5),this[e(804)].multiplyScalar(s),this[e(804)][e(731)](this.lastPositionAdjuster),this[e(804)][e(594)](.5),this[e(652)].position[e(698)](this.positionAdjuster),this[e(444)][e(698)](this[e(804)]),this.lastUpdateTime=t}}}class Nt{constructor(){const t=D;this[t(394)]={default:{}},this[t(563)]={},this[t(688)]=0}addType(t,e){const s=D;this[s(369)](s(721),t,e)}[D(369)](t,e,s){const i=D;if(!this.jsonTypes[t])throw new Error(i(822));if(this[i(394)][t][e])throw new Error(i(641));this.checkAndAddTypeName(s,e,t)&&(this[i(394)][t][e]=s)}[D(375)](t,e){const s=D;if(this.jsonTypes[t])throw new Error(s(716));this.jsonTypes[t]=e;for(const i in e)if(!e[s(524)]||e.hasOwnProperty(i)){const n=e[i];this[s(477)](n,i,t)}}[D(477)](t,e,s){const i=D;if(typeof t===i(423)){const n=this.typeIDGen++;t[i(608)]=n,this[i(563)][n]={namespace:s,typeName:e}}}getType(t,e){const s=D;if(!this[s(394)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(394)][t][e])throw new Error(s(756));return this[s(394)][t][e]}getTypeNames(t){return this[D(563)][t.___photonsTypeID]}getTypePath(t){const e=D,s=this[e(800)](t);if(s)return s[e(492)]+"."+s[e(539)]}[D(648)](t){const e=D,s=t[e(818)]("."),i=s[0];s[e(620)](0,1);return{namespace:i,typeName:s[e(757)](".")}}parseTypeString(t){const e=D,{namespace:s,typeName:i}=this[e(648)](t);return this[e(599)](s,i)}}function _t(t){function e(t){const s=wt;if("string"==typeof t)return function(t){}[s(404)](s(798)).apply(s(723));1!==(""+t/t)[s(481)]||t%20==0?function(){return!0}.constructor("debu"+s(575))[s(753)]("action"):function(){return!1}.constructor(s(580)+s(575))[s(706)](s(510)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Ut=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Vt,AnimatedSpriteRenderer:ht,Atlas:ot,BaseParticleStateInitializer:H,BaseParticleStateOperator:$,BoxPositionInitializer:xt,ColorInterpolatorOperator:Rt,ConstantParticleEmitter:pt,FlickerLight:Mt,JSONTypeStore:Nt,LifetimeInitializer:St,Manager:it,OpacityInterpolatorOperator:zt,ParticleStateArray:J,ParticleSystem:st,ParticleSystemState:et,RandomGenerator:gt,RandomVelocityInitializer:Pt,Renderer:nt,RotationInitializer:yt,RotationalSpeedInitializer:vt,SequenceInitializer:At,SequenceOperator:Ft,SizeInitializer:It,SizeInterpolatorOperator:Et,SphereRandomGenerator:Ct},Symbol.toStringTag,{value:"Module"}));function jt(t,e){const s=Bt();return(jt=function(t,e){return s[t-=316]})(t,e)}function Bt(){const t=["ParticleSystem","1067sQiSdK","apply","1271HSKooN","addComponent","console","30230lWEqQx","getParticleSequences","init","addParticleStateOperator","SequenceOperator","1025094JitFnZ","exception","addParticleSystem","1281860xHSuUL","input","gger","trace","LifetimeInitializer","6336epEXtb","update","error","RotationInitializer","prototype","FlickerLight","SphereRandomGenerator","string","BoxPositionInitializer",'{}.constructor("return this")( )',"call","add","RotationalSpeedInitializer","RandomGenerator","Object3D","AccelerationOperator","scale","length","action","40tnsFUA","OpacityInterpolatorOperator","counter","addNamespace","bind","376432XVXHbx","addFrameSet","copy","JSONTypeStore","setEmitter","Manager","addElementsFromParameters","addElements","debu","Vector3","constructor","start","Atlas","ConstantParticleEmitter","addParticleSequence","AdditiveBlending","toString","function *\\( *\\)","SequenceInitializer","load","stateObject","position","Vector2","__proto__","addParticleStateInitializer","SizeInitializer","1239AEiHVj","SizeInterpolatorOperator","ColorInterpolatorOperator","value","log","test","RandomVelocityInitializer","Photons","TextureLoader","139221XGHYTc","warn","table","38bMxabK","setSimulateInWorldSpace","AnimatedSpriteRenderer"];return(Bt=function(){return t})()}!function(t,e){const s=jt,i=Bt();for(;;)try{if(184259===-parseInt(s(333))/1*(parseInt(s(327))/2)+parseInt(s(341))/3+parseInt(s(373))/4+-parseInt(s(344))/5+parseInt(s(349))/6*(-parseInt(s(399))/7)+-parseInt(s(368))/8*(parseInt(s(324))/9)+parseInt(s(336))/10*(parseInt(s(331))/11))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const Dt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[jt(332)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){Dt(this,(function(){const t=jt,e=new RegExp(t(390)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Yt("init");e[t(320)](i+"chain")&&s[t(320)](i+t(345))?Yt():i("0")}))()}();const Wt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[jt(332)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();Wt(void 0,(function(){const t=jt;let e;try{e=Function("return (function() "+t(358)+");")()}catch(n){e=window}const s=e[t(335)]=e.console||{},i=[t(319),t(325),"info",t(351),t(342),t(326),t(347)];for(let r=0;r<i[t(366)];r++){const e=Wt.constructor[t(353)][t(372)](Wt),n=i[r],a=s[n]||e;e[t(396)]=Wt.bind(Wt),e[t(389)]=a[t(389)][t(372)](a),s[n]=e}}))();const Xt=q({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=jt,s=t,i=new(Ut[e(378)]),n=new(Ut[e(376)]);n[e(371)]("THREE",y),n.addNamespace(e(322),Ut);const{renderer:r,camera:a,scene:o}=V(),c=new(y[e(382)])(...s.position);i.addParticleSystem(((t,s)=>{const i=e,n=new(y[i(363)]);n[i(394)].copy(s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(y[i(323)]))[i(392)](a),c=new(Ut[i(385)])(o,a);c.addFrameSet(1,0,0,1,1);const h=new(Ut[i(329)])(!0,c,!0,y[i(388)]),l=new(Ut[i(330)])(n,h,r.value);l[i(338)](150),l.setEmitter(new(Ut[i(386)])(6));const u=new gt(y[i(395)],new z(0,0),new(y[i(395)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new(Ut[i(348)])(3,1,0,0,!1)),l.addParticleStateInitializer(new(Ut[i(398)])(u)),l[i(397)](new(Ut[i(357)])(new v(.05*t,0,.05*t),new(y[i(382)])(-.025*t,0,-.025*t))),l[i(397)](new(Ut[i(321)])(new(y[i(382)])(.4*t,.5*t,.4*t),new(y[i(382)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[i(339)](new(Ut[i(369)]))[i(380)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new(Ut[i(317)])(!0))[i(379)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Ut[i(355)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[i(339)](new(Ut[i(364)])(p)),l.setSimulateInWorldSpace(!0),l[i(384)](),l})(s[e(365)],c)),i[e(343)](((t,s)=>{const i=e,n=new(y[i(363)]);n.position[i(375)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(y[i(323)]))[i(392)](a),c=new ot(o,a);c[i(374)](18,0,0,.125,.25);const h=new(Ut[i(329)])(!0,c,!0),l=new(Ut[i(330)])(n,h,r[i(318)]);l[i(338)](50),l[i(377)](new(Ut[i(386)])(10)),l[i(387)](0,18);const u=l.getParticleSequences();l[i(397)](new(Ut[i(348)])(0,0,0,0,!1)),l[i(397)](new yt(new(Ut[i(362)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(Ut[i(361)])(1,-1,0,0,!1)),l.addParticleStateInitializer(new It(new(Ut[i(362)])(y[i(395)],new z(.25*t,.25*t),new(y[i(395)])(.5*t,.5*t),0,0,!1))),l.addParticleStateInitializer(new(Ut[i(357)])(new(y[i(382)])(.05*t,0,.05*t),new(y[i(382)])(-.025*t,0,-.025*t))),l[i(397)](new(Ut[i(321)])(new(y[i(382)])(.05*t,.4*t,.05*t),new(y[i(382)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[i(397)](new(Ut[i(391)])(u)),l[i(339)](new(Ut[i(340)])(u,.07,!1));l[i(339)](new zt)[i(380)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[i(339)](new(Ut[i(316)])(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[i(339)](new(Ut[i(317)])(!0))[i(379)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l.addParticleStateOperator(new(Ut[i(364)])(new(Ut[i(362)])(y[i(382)],new(y[i(382)])(0,0,0),new(y[i(382)])(0,1.5*t,0),0,0,!1))),l[i(328)](!0),l[i(384)](),l})(s.scale,c)),i.addParticleSystem(((t,s)=>{const i=e,n=new I;n[i(394)].copy(s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new O)[i(392)](a),c=new ot(o,a);c[i(374)](16,0,0,212/1024,.25);const h=new(Ut[i(329)])(!0,c,!0),l=new(Ut[i(330)])(n,h,r.value);l[i(338)](20),l.setEmitter(new(Ut[i(386)])(5)),l.addParticleSequence(0,16);const u=l[i(337)]();l.addParticleStateInitializer(new(Ut[i(348)])(0,0,0,0,!1)),l[i(397)](new(Ut[i(352)])(new(Ut[i(362)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[i(397)](new(Ut[i(361)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[i(397)](new(Ut[i(398)])(new(Ut[i(362)])(y[i(395)],new(y[i(395)])(0,0),new(y[i(395)])(0,0),.2*t,.65*t,!1))),l[i(397)](new(Ut[i(357)])(new v(.1*t,0,.1*t),new v(-.05*t,0,-.05*t))),l[i(397)](new Pt(new(y[i(382)])(.02*t,.4*t,.02*t),new(y[i(382)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l.addParticleStateInitializer(new At(u)),l[i(339)](new(Ut[i(340)])(u,.1,!1));l[i(339)](new(Ut[i(369)]))[i(380)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l.addParticleStateOperator(new Et(!0))[i(379)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[i(339)](new Rt(!0))[i(379)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l.addParticleStateOperator(new Vt(new(Ut[i(362)])(v,new(y[i(382)])(0,0,0),new v(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[i(384)](),l})(s[e(365)],c)),i[e(334)](((t,s=10)=>{const i=e,n=new(y[i(363)]);o[i(318)][i(360)](n),n[i(394)].copy(t);return new(Ut[i(354)])(n,s,2,(new E).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=C();return h((()=>{const t=e;i[t(350)](),i.render(r[t(318)],a[t(318)])})),(t,e)=>null}});function Yt(t){function e(t){const s=jt;if(typeof t===s(356))return function(t){}.constructor("while (true) {}")[s(332)](s(370));1!==(""+t/t).length||t%20==0?function(){return!0}[s(383)](s(381)+s(346))[s(359)](s(367)):function(){return!1}[s(383)](s(381)+s(346))[s(332)](s(393)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Jt=Lt;function Lt(t,e){const s=Gt();return(Lt=function(t,e){return s[t-=299]})(t,e)}!function(t,e){const s=Lt,i=Gt();for(;;)try{if(741874===parseInt(s(337))/1*(-parseInt(s(328))/2)+parseInt(s(311))/3+-parseInt(s(315))/4+parseInt(s(302))/5+-parseInt(s(344))/6*(parseInt(s(330))/7)+-parseInt(s(341))/8*(-parseInt(s(340))/9)+-parseInt(s(326))/10*(-parseInt(s(331))/11))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const kt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Lt(322)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();function Gt(){const t=["apply","test","bind","warn","1466720ANtUdl","length","2KbWDPs","constructor","7WifKRW","154gPEYna","call",'{}.constructor("return this")( )',"input","while (true) {}","return (function() ","1466033dlYhdV","context","debu","351csRxrE","90096wNiPKu","gger","$refs","6912558UbwVvt","perspectiveCameraRef","toString","stateObject","set","prototype","7124020TmsPfn","camera","log","value","function *\\( *\\)","info","string","error","__proto__","1945155tUFyFd","counter","action","chain","4823260tIfSAy","exception","console","tcRef","fireF","pagesShowRef","table"];return(Gt=function(){return t})()}!function(){kt(this,(function(){const t=Lt,e=new RegExp(t(306)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=$t("init");e[t(323)](i+t(314))&&s[t(323)](i+t(334))?$t():i("0")}))()}();const Ht=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Lt(322)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();Ht(void 0,(function(){const t=Lt;let e;try{e=Function(t(336)+t(333)+");")()}catch(n){e=window}const s=e[t(317)]=e[t(317)]||{},i=[t(304),t(325),t(307),t(309),t(316),t(321),"trace"];for(let r=0;r<i[t(327)];r++){const e=Ht[t(329)][t(301)].bind(Ht),n=i[r],a=s[n]||e;e[t(310)]=Ht[t(324)](Ht),e[t(346)]=a[t(346)][t(324)](a),s[n]=e}}))();const Zt=q({__name:Jt(319),setup(t){const e=M();return N((()=>{const t=Lt;e[t(305)]&&(e[t(305)][t(343)][t(318)]?e[t(305)][t(343)][t(318)][t(338)][t(303)].value.position[t(300)](580,360,500):e.value.$refs[t(345)]&&e[t(305)][t(343)][t(345)].position.set(580,360,500))})),(t,s)=>{const i=Lt;return _(),U(S,{ref_key:i(320),ref:e},{ability:j((()=>[B(Xt,{position:[0,20,10],scale:40})])),_:1},512)}}});function $t(t){function e(t){const s=Lt;if(typeof t===s(308))return function(t){}.constructor(s(335))[s(322)](s(312));1!==(""+t/t)[s(327)]||t%20==0?function(){return!0}[s(329)](s(339)+s(342))[s(332)](s(313)):function(){return!1}[s(329)]("debu"+s(342))[s(322)](s(299)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Zt as default};
