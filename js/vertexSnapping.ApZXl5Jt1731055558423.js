import{_ as t,ai as n}from"./three.3b9CEYeV1731055558423.js";import{a as o,U as e,c as i}from"./@tresjs.KsuCtVXf1731055558423.js";import{a as r,b as s}from"./index.4qvnjoNo1731055558423.js";import{P as u}from"./tweakpane.yHWGBmom1731055558423.js";import{d as c,a0 as a,w as p,o as l,D as f,a6 as m,u as d,r as g,f as h,g as v,J as I,j as y,al as S,m as b}from"./@vue.u2cBPEWn1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";import"./three-stdlib.l7tW0NL21731055558423.js";import"./@pmndrs.3lOkADtW1731055558423.js";import"./object-hash.Aye5eUi-1731055558423.js";import"./@amap.Gx_2STAs1731055558423.js";import"./jszip.rU4UDkEH1731055558423.js";const x=R;!function(t,n){const o=R,e=C();for(;;)try{if(880635===-parseInt(o(482))/1+-parseInt(o(494))/2*(-parseInt(o(497))/3)+parseInt(o(489))/4+parseInt(o(472))/5+parseInt(o(470))/6+parseInt(o(498))/7+-parseInt(o(466))/8*(parseInt(o(460))/9))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const _=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){_(this,(function(){const t=R,n=new RegExp(t(487)),o=new RegExp(t(461),"i"),e=M("init");n[t(492)](e+"chain")&&o[t(492)](e+t(469))?M():e("0")}))()}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[R(488)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();P(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(467)+t(480)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(474)]||{},e=[t(468),"warn","info",t(475),"exception","table",t(478)];for(let i=0;i<e.length;i++){const n=P[t(503)][t(491)][t(483)](P),r=e[i],s=o[r]||n;n.__proto__=P.bind(P),n[t(486)]=s[t(486)][t(483)](s),o[r]=n}}))();const w=[x(493)];function R(t,n){const o=C();return(R=function(t,n){return o[t-=459]})(t,n)}const j=c({__name:x(464),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[x(473)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=x,o=t,e=a(o[n(496)]);return o[n(477)][n(462)]=t=>{const o=n;t[o(499)][o(496)]=e,t.vertexShader=t.vertexShader[o(476)](o(481),"\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"),t[o(465)]=t[o(465)][o(476)]("#include <project_vertex>",o(484))},p((()=>o[n(496)]),(t=>{e[n(485)]=t})),(t,o)=>{const e=n;return l(),f(e(471),{object:t[e(477)]},null,8,w)}}});function M(t){function n(t){const o=R;if(typeof t===o(495))return function(t){}.constructor(o(459)).apply(o(463));1!==(""+t/t)[o(500)]||t%20==0?function(){return!0}[o(503)](o(502)+o(490)).call(o(501)):function(){return!1}.constructor(o(502)+o(490)).apply(o(479)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function C(){const t=['{}.constructor("return this")( )',"#include <common>","1192603KQHWdu","bind","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","value","toString","function *\\( *\\)","apply","2156984GyBvXb","gger","prototype","test","object","142xyYtav","string","uSnappingResolution","57045QsHKuF","3894485vImXep","uniforms","length","action","debu","constructor","while (true) {}","23734413UCveqW","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","onBeforeCompile","counter","com","vertexShader","8mRETqy","return (function() ","log","input","9820200XMAvqt","primitive","3140145kDzrcF","MeshStandardMaterial","console","error","replace","srcMaterial","trace","stateObject"];return(C=function(){return t})()}!function(t,n){const o=A,e=z();for(;;)try{if(791710===parseInt(o(363))/1+parseInt(o(337))/2+-parseInt(o(365))/3*(parseInt(o(334))/4)+-parseInt(o(355))/5*(-parseInt(o(329))/6)+parseInt(o(354))/7*(-parseInt(o(352))/8)+parseInt(o(344))/9+-parseInt(o(340))/10)break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const T=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[A(331)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){T(this,(function(){const t=A,n=new RegExp(t(367)),o=new RegExp(t(358),"i"),e=G(t(332));n[t(356)](e+"chain")&&o[t(356)](e+t(347))?G():e("0")}))()}();const E=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[A(331)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function z(){const t=["apply","init","toString","2344GyNVRX","gger","vertexShader","2313398jmzvxG","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","debu","5383620mACLwe","console","info","return (function() ","7075179drDipX","counter","__proto__","input","bind","constructor","trace","while (true) {}","16CyjHkB","log","2633127DyahSz","5apPYfC","test","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","replace","#include <project_vertex>","error","139907uinOTp","string","3273AcBPGy","exception","function *\\( *\\)","3833898PmCYpM",'{}.constructor("return this")( )'];return(z=function(){return t})()}function A(t,n){const o=z();return(A=function(t,n){return o[t-=329]})(t,n)}function G(t){function n(t){const o=A;if(typeof t===o(364))return function(t){}[o(349)](o(351)).apply(o(345));1!==(""+t/t)[o(359)]||t%20==0?function(){return!0}[o(349)](o(339)+o(335)).call("action"):function(){return!1}[o(349)](o(339)+o(335))[o(331)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}E(void 0,(function(){const t=A;let n;try{n=Function(t(343)+t(330)+");")()}catch(i){n=window}const o=n[t(341)]=n[t(341)]||{},e=[t(353),"warn",t(342),t(362),t(366),"table",t(350)];for(let r=0;r<e.length;r++){const n=E[t(349)].prototype[t(348)](E),i=e[r],s=o[i]||n;n[t(346)]=E[t(348)](E),n[t(333)]=s[t(333)][t(348)](s),o[i]=n}}))();const k=X;function B(){const t=["5833764hWaCgN","length","6063617aIZtSB","warn","apply","log",'{}.constructor("return this")( )',"counter","8EaGXCX","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","exception","return (function() ","prototype","bind","1233lJkFkb","1CuXLDE","986515YIEmPa","table","info","string","trace","value","debu","error","action","object","4959528nemWdK","forEach","push","function *\\( *\\)","model","console","toString","constructor","chain","514668NuWgcX","75890GjZfBT","uSnappingResolution","__proto__","2415566bGdOUg","while (true) {}","test"];return(B=function(){return t})()}!function(t,n){const o=X,e=B();for(;;)try{if(792480===-parseInt(o(458))/1*(-parseInt(o(482))/2)+-parseInt(o(478))/3+-parseInt(o(469))/4+parseInt(o(459))/5+parseInt(o(485))/6+-parseInt(o(487))/7*(-parseInt(o(493))/8)+parseInt(o(457))/9*(-parseInt(o(479))/10))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const F=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[X(489)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){F(this,(function(){const t=X,n=new RegExp(t(472)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=$("init");n[t(484)](e+t(477))&&o.test(e+"input")?$():e("0")}))()}();const N=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[X(489)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();N(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(454)+t(491)+");")()}catch(o){n=window}return n}(),o=n[t(474)]=n.console||{},e=[t(490),t(488),t(461),t(466),t(453),t(460),t(463)];for(let i=0;i<e.length;i++){const n=N[t(476)][t(455)][t(456)](N),r=e[i],s=o[r]||n;n[t(481)]=N.bind(N),n[t(475)]=s[t(475)][t(456)](s),o[r]=n}}))();const Z=[k(468)];function X(t,n){const o=B();return(X=function(t,n){return o[t-=453]})(t,n)}const O=c({__name:k(473),props:{uSnappingResolution:{default:6}},async setup(t){const n=k;let e,i;const r=t,{scene:s,materials:u}=([e,i]=m((()=>o(n(494),{draco:!0,decoderPath:"./draco/"}))),e=await e,i(),e),c=[];return Object.values(u)[n(470)]((t=>{const o=n;c[o(471)](function(t,n=6){const o={value:n};return t.onBeforeCompile=t=>{const n=A;t.uniforms.uSnappingResolution=o,t[n(336)]=t.vertexShader[n(360)]("#include <common>",n(338)),t.vertexShader=t.vertexShader[n(360)](n(361),n(357))},o}(t,r[o(480)]))})),p((()=>r[n(480)]),(t=>{const o=n;c[o(470)]((n=>{n[o(464)]=t}))})),(t,n)=>(l(),f("primitive",{object:d(s),scale:5,position:[0,-2,0]},null,8,Z))}});function $(t){function n(t){const o=X;if(typeof t===o(462))return function(t){}[o(476)](o(483))[o(489)](o(492));1!==(""+t/t)[o(486)]||t%20==0?function(){return!0}[o(476)](o(465)+"gger").call(o(467)):function(){return!1}[o(476)](o(465)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=H,e=U();for(;;)try{if(369004===-parseInt(o(258))/1*(parseInt(o(259))/2)+parseInt(o(232))/3*(parseInt(o(255))/4)+-parseInt(o(253))/5+parseInt(o(249))/6*(parseInt(o(240))/7)+parseInt(o(262))/8+-parseInt(o(237))/9*(-parseInt(o(225))/10)+parseInt(o(254))/11*(-parseInt(o(272))/12))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const D=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function H(t,n){const o=U();return(H=function(t,n){return o[t-=225]})(t,n)}function U(){const t=["自行车模型-分辨率","input","300783hcJlHY","table","TresMesh","return (function() ","log","圆环扭结-分辨率","circle","function *\\( *\\)","counter","18XFMTBe","while (true) {}","string","exception","822930gcvQRR","22OmnocI","8516sjbGqZ","rotation-x","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","543cwFpOG","1860graebw","toString","rotation-y","5819760ciJPId","info","__proto__","TresCylinderGeometry","apply","error","warn","addBinding","length","modelSnappingResolution","5694828xwipFF","test","bind","4564480pTpTjH","TresPerspectiveCamera","trace","constructor","TresTorusKnotGeometry","uSnappingResolution","console","951SvdClF","gger","chain","action","TresMeshStandardMaterial","9ktCCDl"];return(U=function(){return t})()}!function(){D(this,(function(){const t=H,n=new RegExp(t(247)),o=new RegExp(t(257),"i"),e=J("init");n[t(273)](e+t(234))&&o.test(e+t(239))?J():e("0")}))()}();const q=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[H(266)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();q(void 0,(function(){const t=H;let n;try{n=Function(t(243)+'{}.constructor("return this")( ));')()}catch(i){n=window}const o=n[t(231)]=n[t(231)]||{},e=[t(244),t(268),t(263),t(267),t(252),t(241),t(227)];for(let r=0;r<e.length;r++){const n=q.constructor.prototype[t(274)](q),i=e[r],s=o[i]||n;n[t(264)]=q[t(274)](q),n[t(260)]=s[t(260)][t(274)](s),o[i]=n}}))();const W={position:[5,.9,-5],name:"torus"},Y=c({__name:"vertexSnapping",setup(t){const o=H,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(269)](a,o(230),{label:o(245),min:0,max:20,step:.01}),p[o(269)](a,o(271),{label:o(238),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(d(i),b(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(226),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),y(d(e)),n[2]||(n[2]=I("TresAmbientLight",{intensity:.5},null,-1)),n[3]||(n[3]=I("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(242),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:"cube"},[I(u(265),{args:[1.5,1.5,2]}),I(u(236),{color:16737826,roughness:0,metalness:0})],-1)),I(u(242),W,[n[0]||(n[0]=I(u(229),{args:[1,.35,100,32]},null,-1)),y(j,{uSnappingResolution:a.uSnappingResolution},null,8,["uSnappingResolution"])]),(l(),h(S,null,{default:v((()=>[y(O,{uSnappingResolution:a[u(271)]},null,8,[u(230)])])),_:1})),(l(),h(S,null,{default:v((()=>[y(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[y(d(s),{intensity:2,form:u(246),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(256)]),y(d(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(256)]),y(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(261)]),y(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(261)])])),_:1})])),_:1}))])),_:1},16)}}});function J(t){function n(t){const o=H;if(typeof t===o(251))return function(t){}[o(228)](o(250))[o(266)](o(248));1!==(""+t/t)[o(270)]||t%20==0?function(){return!0}.constructor("debu"+o(233)).call(o(235)):function(){return!1}[o(228)]("debugger")[o(266)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{Y as default};
