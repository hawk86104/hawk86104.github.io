var t,e,s,n,i,r,o,a,c,h,l,u,p=Object.defineProperty,m=(t,e,s)=>(((t,e,s)=>{e in t?p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as f}from"./pagesShow.vue_vue_type_script_setup_true_lang.j3OCtvG31735275234726.js";import{_ as d,V as g,k as w,g as S,M as y,X as v,f as x,ck as P,as as I,cw as A,az as T,C as F,an as b,a2 as E}from"./three.jpi2UCEx1735275234726.js";import{m as z,e as R}from"./@tresjs.fCqPNEAw1735275234726.js";import{d as O,b as V,a3 as q,o as C,f as N,g as M,j as _}from"./@vue.u2cBPEWn1735275234726.js";import"./three-custom-shader-material.6yZB66Qf1735275234726.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";const B=Z;!function(t,e){const s=Z,n=L();for(;;)try{if(843026===parseInt(s(209))/1*(-parseInt(s(574))/2)+-parseInt(s(313))/3+-parseInt(s(650))/4+-parseInt(s(514))/5+-parseInt(s(687))/6*(-parseInt(s(510))/7)+parseInt(s(535))/8*(parseInt(s(625))/9)+-parseInt(s(348))/10*(-parseInt(s(672))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const U=class{constructor(t){this[B(266)]=t}};t=B(536),m(U,"Time",new U(B(410))),m(U,t,new U(B(536)));let j=U;class X{constructor(){this[B(655)]()}[B(655)](){const t=B;this[t(269)]=j[t(410)],this[t(320)]=1,this[t(644)]=0,this.sequenceElement=new(d[t(507)]),this[t(600)]=new(d[t(566)]),this[t(301)]=new g,this[t(352)]=new g,this[t(261)]=new(d[t(566)]),this[t(598)]=0,this[t(258)]=0,this[t(442)]=new w,this[t(219)]=new(d[t(420)]),this.alpha=1,this[t(494)]=new w,this[t(368)]=new(d[t(420)]),this[t(480)]=1}[B(432)](t,e,s,n,i,r,o,a,c,h,l,u,p,m,f,d){const g=B;this.progressType=t,this.lifetime=e,this[g(644)]=s,this[g(682)][g(256)](n),this.position[g(256)](i),this[g(301)][g(256)](r),this[g(352)][g(256)](o),this[g(261)][g(256)](a),this[g(598)]=c,this[g(258)]=h,this[g(442)]=l,this[g(219)][g(256)](u),this[g(447)]=p,this[g(494)].copy(m),this[g(368)].copy(f),this.initialAlpha=d}[B(215)](t){const e=B;t[e(432)](this[e(269)],this[e(320)],this[e(644)],this[e(682)],this.position,this[e(301)],this.acceleration,this[e(261)],this[e(598)],this[e(258)],this[e(442)],this[e(219)],this[e(447)],this[e(494)],this[e(368)],this.initialAlpha)}[B(256)](t){const e=B;this[e(432)](t.progressType,t[e(320)],t[e(644)],t[e(682)],t[e(600)],t[e(301)],t[e(352)],t.normal,t[e(598)],t[e(258)],t[e(442)],t.color,t[e(447)],t[e(494)],t[e(368)],t.initialAlpha)}}class D{constructor(){m(this,e,function(){const t=B,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Z(243)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=Z;let s;try{s=Function(t(658)+t(605)+");")()}catch(r){s=window}const n=s[t(278)]=s[t(278)]||{},i=["log",t(592),t(693),t(524),t(407),t(553),t(511)];for(let o=0;o<i.length;o++){const s=e[t(343)][t(587)][t(292)](e),r=i[o],a=n[r]||s;s[t(310)]=e.bind(e),s[t(356)]=a[t(356)][t(292)](a),n[r]=s}}))();const s=new(d[t(566)]);return function(e=new(d[t(344)]),n=null){const i=t,r=e[i(426)],o=e.max;for(let t=0;t<this[i(607)];t++){const e=this[i(459)](t);let a=e.position;n&&(s.copy(a),s[i(230)](n),a=s);const c=Math[i(435)](e.size.x,e[i(442)].y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,m=a.z-c,f=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=m),(0==t||a.z>o.z)&&(o.z=f)}return e}}()),m(this,"computeBoundingSphere",function(){const t=B,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Z(243)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=Z,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(562),"i"),n=Ct("init");e.test(n+t(585))&&s[t(265)](n+t(692))?Ct():n("0")}))()}();const s=new(d[t(566)]),n=new(d[t(566)]),i=new(d[t(566)]);return function(e=new(d[t(640)]),r=null){const o=t;let a=0;for(let t=0;t<this.activeParticleCount;t++){const e=this[o(459)](t);let c=e[o(600)];r&&(i[o(256)](c),i[o(230)](r),c=i);const h=Math[o(435)](e[o(442)].x,e[o(442)].y);if(0==t)s[o(256)](c),a=h;else{n[o(256)](c)[o(307)](s);const t=n[o(551)]()+h;if(t>a){const e=(t-a)/2;n.normalize()[o(526)](e),s[o(345)](n),a+=e}}}return e[o(531)][o(256)](s),e[o(686)]=a,e}}());const t=B;this[t(632)]=0,this[t(607)]=0,this[t(512)]=[]}init(t){this[B(443)](t)}setParticleCount(t){const e=B;this[e(632)]!=t&&(this.dispose(),this[e(589)](t)),this[e(632)]=t}[B(571)](t){this[B(607)]=t}[B(589)](t){const e=B;this[e(512)]=[],this.particleCount=t;for(let s=0;s<t;s++)this[e(512)][s]=new X}[B(434)](){}getParticleCount(){return this.particleCount}[B(547)](){}copyState(t,e){const s=B;if(t>=this.particleCount)throw new Error(s(508));if(e>=this[s(632)])throw new Error(s(561));const n=this[s(512)][t],i=this[s(512)][e];n[s(215)](i)}setState(t,e){const s=B;if(t>=this[s(632)])throw new Error(s(664));return this[s(512)][t].copy(e)}[B(459)](t){const e=B;if(t>=this[e(632)])throw new Error(e(425));return this.particleStates[t]}}e=B(395);class W{constructor(t,e,s=0){const n=B;this[n(275)]=t,this[n(551)]=e,this.id=s}}class Y{constructor(){const t=B;this.sequences={},this[t(270)]=[]}[B(249)](t,e,s){const n=B;if(this[n(629)](s))throw new Error(n(578));const i=new W(t,e,s);return this[n(583)][s]=i,this[n(270)].push(s),i}getSequence(t){const e=B;if(!this.hasID(t))throw new Error(e(248));return this.sequences[t]}[B(255)](){return this.ids}[B(629)](t){return!!this[B(583)][t]}}class J{constructor(){}[B(387)](t){const e=B;t[e(368)][e(437)](1,1,1),t.initialSize[e(437)](1,1),t.initialAlpha=1,t[e(269)]=j.Time,t.lifetime=0,t[e(644)]=0,t.sequenceElement[e(437)](0,0,0,0),t[e(600)][e(437)](0,0,0),t[e(301)][e(437)](0,0,0),t[e(352)][e(437)](0,0,0),t[e(261)].set(0,0,1),t[e(598)]=0,t[e(258)]=0,t[e(442)][e(256)](t[e(494)]),t.color.copy(t.initialColor),t[e(447)]=1}}function L(){const t=["   const vec2 uRight = vec2(1.0, 1.0);\n","pause","toString","setIntensity","   int sequenceNumber = int(sequenceElement.y);\n","emitter","scaleX","reverse","attribute vec4 sequenceElement;\n","void main()\n","getFrameSet","emissionMaximum","mesh","addElementsFromParameters","initialColor","ParticleSystem::init() -> trying to intialize more than once.","getActiveParticleCount","scaleY","uniformsNeedUpdate","attribute float customIndex;\n","particleSystemRenderer","debu","attribute vec2 baseUV;\n","normalizeDirection","addParticleSequence","basePositions","#include <common>","JSONTypeStore::getType() -> typeName does not exist","varying vec2 vUV1;\n","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","renderOrder","JSONTypeStore::addNamespace() -> namespace already exists","light","initializeState","geometry","object","atlas","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","offsetTheta","Object3D","onUpdateCallback","computeBoundingBox","getParticleStateArray","particleStateOperators","updateWorldMatrix","   float atlasFrameHeight = atlasFrames.w; \n","#include <common> \n","getParticleSequences","   if (simulateInWorldSpace == 1) { \n","getLight","TextureLoader",'ComponentContainer::getComponent() -> "index" is out of range.','ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"exception","setOwner","cameraNear","Time","   } \n","emissionDuration","lowerIndex","onUpdate","rangeTheta","transformInitialDirectionInWorldSpace","generator","copyState","elementTypeID","Color","getParticleStateOperatorCount","stateObject","matrixWorldNeedsUpdate","relativeToInitialValue",'ParticleStateArray::getState() -> "index" is out of range.',"min","action","ages","getSimulateInWorldSpace","AdditiveBlending","setDrawRange","setAll","initialAlphas","dispose","max","randomGenerator","set","instanceCount","owner","fromJSON","   const vec2 dLeft = vec2(-1.0, -1.0);\n","size","setParticleCount","Running","addComponent","attribute vec3 color;\n","alpha","colors","addElement","particleStateInitializers","NotStarted","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","source","scaleZ","emissionMinimum","getGeometry","join","updateMeshBounds","getState","Paused","alphas","   \n  #include <logdepthbuf_vertex> \n",'Atlas::getFrameSet -> "index" is out of range.',"uniforms","sqrt","lastPositionAdjuster","getInterpolatorForTypeID","push","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","loadJSONParameter","element","getColors","setState","near","update","attribute vec4 particlePosition;\n","remove",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"initialAlpha","setParticleSequences","getInterpolationValuesForTValue","boundingBox","setAttribute","speedRange","autoClear","addParticleStateInitializer","upperIndex","namespace","   float upperSide; \n","rotationalSpeeds","positions","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","initialSize","activateParticle","material","hasOwnProperty","calculatingBoundingSphereFromBox","fromArray","maxParticleCount","elements","particleEmitter","interpolator","InstancedBufferAttribute","distance","   }  else { \n","Vector4",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"lastPositionFlickerTime","7FyUFrE","trace","particleStates","getRotations","7949520OlsDaq","outTypeID","setUsage","normalize","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   float atlasFrameX = atlasFrames.x; \n","addParticleStateOperator","stop","offsetZ","setXYZ","error","floor","multiplyScalar","attribute float alpha;\n","       rotVec = position.xy; \n ","internalUpdate","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","center","getTypeID","rotations","   float rotMag = rotation; \n","8yEwwyQ","Sequence","rangeRadius","directionGenerator","parent","interpolationElements","void main() { \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   const vec2 dRight = vec2(1.0, -1.0);\n","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","   vec2 uv2; \n","  \n #include <logdepthbuf_pars_vertex> \n","flushParticleStateToBuffers","uniform vec2 uvOffset;\n","parseNamespaceAndTypename","toArray","length","getSystemState","table","parseTypeString","jsonTypeNames","renderer","default","speedOffset","VertexVars","particleSequences",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","} \n","invert","getVisible","Vector3","setTransformInitialDirectionInWorldSpace","stateVelocity","particlePosition","matrixWorld","setActiveParticleCount","intensity","accelerations","6cjOcIy","advanceActiveParticles","getSequence","       upperSide = upperSideStep.x + upperSideStep.y;\n","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","uniformOffset","addParticleSystem","timeScaledVelocity","tValues","sequences","normals","chain","lastUpdateTime","prototype","getElement","allocate","interpolateFrames","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","warn","maximumActiveParticles","Default","keys","currentTime","tempUp","rotation","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","position","edgeRadius","progressTypes","calculateBoundingSphereFromBox","initializers",'{}.constructor("return this")( )',"particleSystems","activeParticleCount","setX","clamp","setSimulateInWorldSpace",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"   float sequenceElementF = sequenceElement.x;\n","mapSize","cos","startupTime","const int MAX_ATLAS_FRAME_SETS = 16; \n","getSequenceElements","addNamespace","rangePhi","uniform int simulateInWorldSpace; \n","speedGenerator","emissionRelativeStartTime","type","varying float vSequenceElementT; \n","7903260NXVuKf","generate","tValue","ShaderMaterial","hasID","BufferAttribute","Vector2","particleCount","call","getTypePath","lifetimes","       float uRightV = rotVecStep.z; \n",'ContinuousArray::getElement() -> "index" is out of bounds.',"setXY","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","Sphere","particleStateArray","createMaterial","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","age","getInterpolatedValue","getParameterJSON","   gl_FragColor.a *= vFragAlpha; \n","       rightSide = step(2.0, customIndex); \n","texturePath","630440fXmLNu","assign","getElementCount","frameSets","blending","init","   vec4 color2 = color1; \n",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"return (function() ","jsonTypes","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","intensityFlux","addFrameSet","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n",'ParticleStateArray::setState() -> "index" is out of range.',"params","visible","speed","varying vec3 vFragColor;\n","   int sequenceLength = int(sequenceElement.w);\n","counter","baseUVs","2288297sTqzIg","camera","attribute float rotation;\n","sizes","stateAcceleration","getSizes","value","getParticleStateOperator","getParticleStateInitializerCount","render","sequenceElement","height","boundingSphere","loop","radius","8387286zqRIZC","updateEmitCount","bias","typeName","getTypeNames","input","info","data","getFrameSetCount","setXYZW","simulateInWorldSpace","toJSON","551498yKBIax","transformDirection","offsetX","emissionRate","function","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","copyTo","getTexture","JSONTypeStore::getType() -> namespace does not exist","random","color","gger","setRGB","varying float vFragAlpha;\n","   float rightSide; \n","Shader","sequenceElements","updateState","   const vec2 down = vec2(0.0, -1.0);\n","Additive","computeBoundingSphere","applyMatrix4","texture","range","getFragmentShader","lastIntensityFlickerTime","       upperSide = baseUV.y; \n","    \n  #include <logdepthbuf_fragment> \n","verticesPerParticle","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","getMaximumActiveParticles","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","activateParticles","componentContainer","apply","varying float vSequenceElementT;\n","while (true) {}","castShadow","   const vec2 left = vec2(-1.0, 0.0);\n","ParticleSequenceGroup::getSequence -> Invalid ID.","addSequence","decay","getEmitter","DynamicDrawUsage","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","nextIntensityAdjuster","getSequenceIDs","copy","setEmitter","rotationalSpeed","offsetRadius","map","normal","checkAndAddTypeName","setBoundingBox","initialSizes","test","name","emitterInitialized","offsetPhi","progressType","ids","currentSrc","getParticleSystemRenderer","   float uvYOffset = atlasFrameHeight * upperSide; \n","width","start","string","splice","console","customIndex","timeScaledAcceleration","now",'ContinuousArray::getTValue() -> "index" is out of bounds.',"initialized","frustumCulled","v4v","systemState","   vFragAlpha = alpha; \n","startTime","       float dRightV = rotVecStep.w - rotVecStep.z; \n","NormalBlending","lastIntensityAdjuster","bind","getType","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","Normal","timeActive","localT","Mesh","copyParticleInArray","___photonsTypeID","velocity","addType","far","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","positionAdjuster","offset","sub","instanced","attribute vec2 size;\n","__proto__","uniformRange","offsetY","957852WOSYwm","SrcAlphaFactor","advanceActiveParticle","components","getComponent","   float atlasFrameWidth = atlasFrames.z; \n","   if (instanced != 1) { \n","lifetime","iterator","interpolateAtlasFrames","customIndexes","needsUpdate","addElements","framesets","initialColors","generateForElement","addTypeToNamespace","clone","Renderer::init() -> trying to intialize more than once.","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","PointLight","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","addElementsFromElementClassAndParameters","   } else { \n","BufferGeometry","   const vec2 up = vec2(0.0, 1.0);\n","   vec2 uv1; \n","shadow","setVisibile","velocities","constructor","Box3","add","emitCount","   int nRowYTile = int(SNOverHS);\n","110hzAUOP","setBoundingSphere","       viewPosition = viewMatrix * particlePosition;\n","InstancedBufferGeometry","acceleration","varying vec2 vUV2;\n"];return(L=function(){return t})()}class k extends J{constructor(){super()}[B(387)](t){super[B(387)](t)}}class G{constructor(){}[B(226)](){}}function Z(t,e){const s=L();return(Z=function(t,e){return s[t-=209]})(t,e)}class H extends G{constructor(){const t=B;super(),this.timeScaledVelocity=new(d[t(566)]),this[t(280)]=new(d[t(566)]),this[t(676)]=new(d[t(566)]),this.stateVelocity=new(d[t(566)])}[B(226)](t,e){const s=B;return super[s(226)](t,e),this[s(676)][s(256)](t[s(352)]),this[s(280)][s(256)](this.stateAcceleration),this[s(280)][s(526)](e),t[s(301)][s(345)](this.timeScaledAcceleration),this[s(568)][s(256)](t[s(301)]),this[s(581)].copy(this[s(568)]),this.timeScaledVelocity[s(526)](e),t[s(600)].add(this[s(581)]),t[s(644)]=t[s(644)]+e,t[s(598)]=t[s(598)]+e*t[s(258)],!0}}class ${static[B(609)](t,e,s){const n=B;return Math[n(426)](Math[n(435)](t,e),s)}static[B(596)](){return performance[B(281)]()/1e3}}class K{constructor(){this[B(316)]=[]}addComponent(t){this[B(316)].push(t)}update(t,e){const s=B;for(const n of this.components)n[s(476)](t,e)}[B(317)](t){const e=B;if(t>=this[e(316)][e(551)])throw new Error(e(405));return this[e(316)][t]}}const Q=class{constructor(t){this[B(266)]=t}};s=B(451),n=B(460),m(Q,s,new Q(B(451))),m(Q,"Running",new Q(B(444))),m(Q,n,new Q(B(460))),m(Q,"Done",new Q("Done"));let tt=Q;class et{constructor(t,e){m(this,"updateBounds",function(){const t=new y;return function(){const e=Z;let s=null;this[e(416)]&&(s=t,s[e(256)](this[e(439)][e(570)])[e(564)]()),this[e(374)].calculatingBoundingSphereFromBox()?(this[e(512)][e(395)](this[e(483)],s),this[e(374)][e(263)](this.boundingBox)):(this[e(512)][e(229)](this[e(684)],s),this[e(374)][e(349)](this[e(684)]))}}());const s=B;this[s(439)]=t,this[s(439)].visible=!1,this[s(666)]=!0,this[s(374)]=e,this.initialized=!1,this.maximumActiveParticles=0,this.activeParticleCount=0,this[s(697)]=!0,this[s(267)]=!1,this[s(502)]=null,this[s(242)]=new K,this[s(450)]=[],this[s(397)]=[],this.particleStates=null,this[s(286)]=tt[s(451)],this.particleSequences=new Y,this[s(394)]=null,this[s(416)]=!0,this[s(483)]=new(d[s(344)]),this[s(684)]=new S}[B(655)](t){const e=B;if(this[e(283)])throw new Error(e(369));this[e(593)]=t,this.particleSystemRenderer?(this[e(374)][e(408)](this[e(439)]),this[e(374)].init(this[e(593)],this[e(697)]),this.particleSystemRenderer.setSimulateInWorldSpace(this.simulateInWorldSpace),this[e(512)]=this[e(374)][e(396)]()):(this.particleStates=new D,this[e(512)][e(655)](this.maximumActiveParticles)),this[e(487)](new k),this[e(520)](new H),this[e(283)]=!0}[B(565)](){return this[B(666)]}[B(341)](t){return this[B(666)]=t}[B(414)](t){this[B(394)]=t}[B(476)](t,e){const s=B;if(this[s(286)]==tt[s(444)]){if(this[s(439)][s(398)](!0),t=null==t||null==t?$[s(596)]():t,e=null==e||null==e?t-this[s(586)]:e,this[s(267)]&&this.systemState==tt[s(444)]){const t=this.particleEmitter[s(476)](e);t>0&&this.activateParticles(t),this[s(575)](e),this[s(394)]&&this[s(394)](this[s(607)]),this.updateBounds()}this.componentContainer.update(t,e),this[s(586)]=t}}[B(681)](t,e){const s=B;if(this[s(565)]()&&this.particleSystemRenderer){const n=t[s(486)];t[s(486)]=!1,this[s(439)][s(666)]=!0,this.owner[s(423)]=!0,this.particleSystemRenderer[s(681)](this[s(439)],t,e),this.owner[s(666)]=!1,t[s(486)]=n}}[B(275)](){const t=B;this[t(286)]!=tt[t(451)]&&this[t(286)]!=tt[t(460)]||(this[t(286)]=tt[t(444)],this[t(288)]=$[t(596)](),this[t(586)]=this.startTime)}[B(355)](){const t=B;this[t(286)]==tt.Running&&(this[t(286)]=tt[t(460)])}[B(521)](){}[B(552)](){return this[B(286)]}[B(257)](t){const e=B;return this[e(502)]=t,this[e(502)][e(593)]=this.maximumActiveParticles,this[e(267)]=!0,this[e(502)]}[B(445)](t){const e=B;this.componentContainer[e(445)](t)}[B(317)](t){const e=B;return this[e(242)][e(317)](t)}[B(487)](t){const e=B;return this[e(450)][e(468)](t),t}[B(680)](){return this[B(450)].length}getParticleStateInitializer(t){const e=B;if(t>=this[e(450)][e(551)])throw new Error(e(479));return this[e(450)][t]}[B(520)](t){const e=B;return this[e(397)][e(468)](t),t}[B(421)](){const t=B;return this[t(397)][t(551)]}getParticleStateOperator(t){const e=B;if(t>=this[e(397)].length)throw new Error(e(406));return this[e(397)][t]}[B(239)](){return this[B(593)]}[B(370)](){return this[B(607)]}getParticleState(t){const e=B;if(t>=this[e(607)])throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this[e(512)].getState(t)}getParticleStates(){return this[B(512)]}getParticleSystemRenderer(){return this[B(374)]}[B(429)](){return this[B(697)]}[B(610)](t){const e=B;this[e(697)]=t,this[e(374)]&&this[e(374)][e(610)](this[e(697)])}[B(567)](t){this[B(416)]=t}[B(378)](t,e,s=0){const n=B;this[n(560)][n(249)](t,e,s)}[B(401)](){return this[B(560)]}[B(251)](){return this.particleEmitter}[B(241)](t){const e=B;if(this.systemState==tt.Running){const s=$.clamp(this[e(607)]+t,0,this[e(593)]);for(let t=this[e(607)];t<s;t++)this[e(495)](t);this[e(607)]=s,this[e(512)][e(571)](this[e(607)])}}[B(495)](t){const e=B;if(this[e(286)]==tt[e(444)]){const s=this[e(512)][e(459)](t);s.age=0;for(let t=0;t<this.particleStateInitializers.length;t++){this[e(450)][t][e(387)](s)}if(this[e(697)]){s[e(600)].applyMatrix4(this[e(439)][e(570)]);const t=s[e(301)][e(551)]();if(this.transformInitialDirectionInWorldSpace){s[e(301)].transformDirection(this[e(439)][e(570)])[e(526)](t);const n=s[e(352)].length();s[e(352)][e(210)](this[e(439)][e(570)])[e(526)](n)}}this.particleStates[e(547)](t)}}[B(575)](t){const e=B;if(this.systemState==tt[e(444)]){let s=0;for(;s<this[e(607)];){this[e(315)](s,t)?s++:(s<this[e(607)]-1&&this.copyParticleInArray(this.activeParticleCount-1,s),this.activeParticleCount--)}this[e(512)][e(571)](this[e(607)])}}advanceActiveParticle(t,e){const s=B;if(this.systemState==tt[s(444)]){const n=this[s(512)].getState(t);for(let t=0;t<this.particleStateOperators.length;t++){const i=this[s(397)][t][s(226)](n,e),r=n.lifetime;if(!i||0!=r&&n.age>=r)return!1}return this[s(512)][s(547)](t),!0}return!1}[B(299)](t,e){const s=B;this[s(512)][s(418)](t,e),this.particleStates[s(547)](e)}static[B(440)](t,e,s){const n=B,i=(t,e,s)=>{const n=Z;e(t);for(const r in t)if(t[n(497)](r)){const s=t[r];typeof s===n(389)&&i(s,e)}};i(t,(t=>{const s=Z;t[s(623)]&&(t.type=e[s(554)](t[s(623)]))}));const r=t[n(500)],o=t[n(697)],a=t[n(556)],c=a[n(623)].fromJSON(a.params),h=new(d[n(393)]),l=new et(h,c,s);l[n(655)](r),l[n(610)](o);const u=t[n(359)],p=u[n(623)].fromJSON(u[n(665)]);if(l[n(257)](p),t[n(583)])for(const m of t[n(583)])l[n(378)](m.start,m[n(551)],m.id);if(t[n(604)])for(const m of t[n(604)])l.addParticleStateInitializer(m.type[n(440)](l,m.params));if(t.operators)for(const m of t.operators){const t=l[n(520)](m.type[n(440)](l,m[n(665)]));m[n(501)]&&t[n(367)](m[n(501)])}return[l,h]}toJSON(t){const e=B,s=this[e(272)](),n=this[e(251)](),i=this[e(401)](),r=i[e(255)]()[e(260)]((t=>{const s=e,n=i[s(576)](t);return{id:t,start:n[s(275)],length:n[s(551)]}})),o=[],a=this[e(680)]();for(let l=0;l<a;l++){const s=this.getParticleStateInitializer(l);s[e(343)]!==k&&o[e(468)]({type:t.getTypePath(s[e(343)]),params:s.toJSON(t)})}const c=[],h=this[e(421)]();for(let l=0;l<h;l++){const s=this[e(679)](l);if(s.constructor!==H){const n=s[e(698)](t),i=n[e(665)]||n,r=n.params?n.elements:null,o={type:t[e(634)](s.constructor),params:i};r&&(o.elements=r),c[e(468)](o)}}return{maxParticleCount:this[e(239)](),simulateInWorldSpace:this[e(429)](),renderer:{type:t.getTypePath(s[e(343)]),params:s[e(698)]()},emitter:{type:t.getTypePath(n[e(343)]),params:n[e(698)]()},sequences:r,initializers:o,operators:c}}}class st{constructor(){const t=B;this[t(606)]=[],this[t(615)]=performance[t(281)]()/1e3,this[t(586)]=this[t(615)],this[t(242)]=new K}[B(476)](){const t=B,e=$[t(596)](),s=e-this[t(586)];for(const n of this[t(606)])n.update(e,s);this[t(242)][t(476)](e,s),this[t(586)]=e}[B(681)](t,e){const s=B;for(const n of this[s(606)])n[s(681)](t,e)}[B(580)](t){this[B(606)].push(t)}[B(445)](t){const e=B;this[e(242)][e(445)](t)}[B(317)](t){const e=B;return this[e(242)][e(317)](t)}}class nt{constructor(){const t=B;this[t(283)]=!1,this.particleCount=0,this[t(439)]=null,this[t(697)]=!1}setSimulateInWorldSpace(t){this.simulateInWorldSpace=t}getParticleStateArray(){}[B(408)](t){this[B(439)]=t}init(t){const e=B;if(this[e(632)]=t,!this[e(283)])return this[e(283)]=!0,!0;throw new Error(e(331))}[B(681)](){}}class it extends D{constructor(){const t=B;super(),this.geometry=null,this[t(602)]=null,this[t(635)]=null,this[t(428)]=null,this[t(225)]=null,this[t(492)]=null,this[t(342)]=null,this[t(573)]=null,this[t(584)]=null,this[t(533)]=null,this[t(491)]=null,this[t(675)]=null,this.colors=null,this[t(264)]=null,this[t(327)]=null,this[t(308)]=!1,this[t(237)]=6}[B(655)](t,e=!1){const s=B;this[s(308)]=e,this.instanced?this.verticesPerParticle=1:this.verticesPerParticle=6,super[s(655)](t),this[s(589)](t)}[B(443)](t){super[B(443)](t)}[B(571)](t){const e=B;super[e(571)](t),t>0?this[e(308)]?this[e(388)][e(438)]=t:this[e(388)][e(431)](0,this[e(237)]*t):this[e(308)]?this[e(388)].instanceCount=0:this[e(388)][e(431)](0,0)}flushParticleStateToBuffers(t){const e=B;if(t>=this[e(632)])throw new Error(e(657));const s=this[e(459)](t),n=t*this[e(237)];for(let i=0;i<this.verticesPerParticle;i++)this.lifetimes[e(608)](n+i,s[e(320)]),this.lifetimes[e(324)]=!0,this[e(428)][e(608)](n+i,s[e(644)]),this[e(428)][e(324)]=!0,this.sequenceElements[e(696)](n+i,s[e(682)].x,s[e(682)].y,s[e(682)].z,s[e(682)].w),this[e(225)][e(324)]=!0,this[e(492)][e(523)](n+i,s[e(600)].x,s.position.y,s[e(600)].z),this[e(492)][e(324)]=!0,this[e(342)][e(523)](n+i,s[e(301)].x,s[e(301)].y,s[e(301)].z),this.velocities[e(324)]=!0,this[e(573)].setXYZ(n+i,s[e(352)].x,s[e(352)].y,s.acceleration.z),this[e(573)].needsUpdate=!0,this.normals[e(523)](n+i,s[e(261)].x,s[e(261)].y,s[e(261)].z),this.normals[e(324)]=!0,this[e(533)][e(608)](n+i,s[e(598)]),this[e(533)][e(324)]=!0,this[e(491)][e(608)](n+i,s.rotationalSpeed),this[e(491)][e(324)]=!0,this[e(675)].setXY(n+i,s[e(442)].x,s[e(442)].y),this.sizes[e(324)]=!0,this[e(448)][e(523)](n+i,s[e(219)].r,s[e(219)].g,s[e(219)].b),this[e(448)][e(324)]=!0,this[e(461)][e(608)](n+i,s[e(447)]),this.alphas[e(324)]=!0,this[e(264)][e(638)](n+i,s.initialSize.x,s.initialSize.y),this[e(264)][e(324)]=!0,this[e(433)].setX(n+i,s.initialAlpha),this[e(433)][e(324)]=!0}[B(418)](t,e){super[B(418)](t,e),this.flushParticleStateToBuffers(e)}[B(474)](t,e){const s=B;if(t>=this.particleCount)throw new Error(s(611));super[s(474)](t,e),this[s(547)](t)}getPositions(){return this.positions}[B(677)](){return this[B(675)]}[B(513)](){return this.rotations}[B(617)](){return this[B(225)]}[B(473)](){return this[B(448)]}[B(456)](){return this.geometry}allocate(t){const e=B;super[e(589)](t);const s=(t,s)=>{const n=e;return this[n(308)]?new(d[n(504)])(t,s):new(d[n(630)])(t,s)},n=this[e(237)]*this.particleCount;if(this.instanced){const t=new(d[e(337)]),s=new Float32Array(18);this[e(379)]=new(d[e(630)])(s,3),t.setAttribute(e(600),this.basePositions),this[e(379)][e(324)]=!0,this[e(379)].setXYZ(0,-1,1,0),this[e(379)].setXYZ(1,-1,-1,0),this[e(379)][e(523)](2,1,1,0),this.basePositions[e(523)](3,-1,-1,0),this[e(379)][e(523)](4,1,-1,0),this.basePositions[e(523)](5,1,1,0);const n=new Float32Array(12);this.baseUVs=new(d[e(630)])(n,2),t[e(484)]("baseUV",this[e(671)]),this[e(671)][e(324)]=!0,this[e(671)].setXY(0,0,1),this[e(671)][e(638)](1,0,0),this[e(671)][e(638)](2,1,1),this[e(671)][e(638)](3,0,0),this[e(671)][e(638)](4,1,0),this[e(671)][e(638)](5,1,1);const i=new Float32Array(6);this[e(323)]=new(d[e(630)])(i,1),t.setAttribute(e(279),this[e(323)]),this[e(323)][e(324)]=!0,this[e(323)].setX(0,0),this[e(323)][e(608)](1,1),this[e(323)][e(608)](2,3),this[e(323)][e(608)](3,1),this[e(323)][e(608)](4,2),this.customIndexes[e(608)](5,3),this.geometry=(new(d[e(351)]))[e(256)](t),this[e(388)][e(438)]=0}else{this[e(388)]=new(d[e(337)]);const t=new Float32Array(n);this[e(323)]=new(d[e(630)])(t,1),this[e(388)][e(484)](e(279),this[e(323)]),this.customIndexes[e(324)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this[e(237)];this[e(323)][e(608)](t,0),this[e(323)][e(608)](t+1,1),this.customIndexes[e(608)](t+2,3),this[e(323)][e(608)](t+3,1),this[e(323)][e(608)](t+4,2),this[e(323)][e(608)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),o=new Float32Array(4*n),a=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),g=new Float32Array(n),w=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(492)]=s(a,3),this[e(492)][e(516)](d[e(252)]),this[e(388)][e(484)](e(569),this[e(492)]),this[e(635)]=s(i,1),this[e(635)][e(516)](d[e(252)]),this[e(388)][e(484)](e(320),this[e(635)]),this.ages=s(r,1),this.ages.setUsage(d[e(252)]),this[e(388)][e(484)](e(644),this[e(428)]),this.sequenceElements=s(o,4),this[e(225)][e(516)](d[e(252)]),this.geometry.setAttribute(e(682),this[e(225)]),this.velocities=s(c,3),this[e(342)][e(516)](v),this[e(388)][e(484)](e(301),this[e(342)]),this.accelerations=s(h,3),this[e(573)].setUsage(d[e(252)]),this.geometry[e(484)](e(352),this[e(573)]),this[e(584)]=s(l,3),this.normals[e(516)](v),this[e(388)][e(484)]("normal",this[e(584)]),this[e(533)]=s(u,1),this.rotations.setUsage(d[e(252)]),this[e(388)][e(484)]("rotation",this[e(533)]),this.rotationalSpeeds=s(p,1),this.rotationalSpeeds.setUsage(d[e(252)]),this.geometry.setAttribute(e(258),this[e(491)]),this[e(675)]=s(m,2),this[e(675)][e(516)](d[e(252)]),this[e(388)][e(484)](e(442),this[e(675)]),this.colors=s(f,3),this[e(448)][e(516)](d[e(252)]),this[e(388)].setAttribute(e(219),this[e(448)]),this[e(461)]=s(g,1),this[e(461)][e(516)](d[e(252)]),this[e(388)].setAttribute(e(447),this[e(461)]),this[e(264)]=s(w,2),this[e(264)][e(516)](v),this.geometry[e(484)]("initialSize",this[e(264)]),this[e(327)]=s(S,3),this[e(327)][e(516)](v),this[e(388)][e(484)](e(368),this[e(327)]),this[e(433)]=s(y,1),this[e(433)].setUsage(d[e(252)]),this[e(388)].setAttribute(e(480),this[e(433)])}dispose(){const t=B;super[t(434)](),this[t(388)]&&(this[t(388)][t(434)](),this.geometry=null)}}class rt{constructor(t,e,s,n,i){const r=B;this.length=t,this.x=e,this.y=s,this.width=n,this[r(683)]=i}}class ot{constructor(t,e){const s=B;this[s(231)]=t,this[s(649)]=e,this[s(653)]=[]}[B(216)](){return this.texture}getTexturePath(){return this.texturePath}[B(695)](){const t=B;return this[t(653)][t(551)]}[B(662)](t,e,s,n,i){const r=B;this.frameSets[r(468)](new rt(t,e,s,n,i))}[B(364)](t){const e=B;if(t>=this.frameSets.length)throw new Error(e(463));return this[e(653)][t]}}const at=class t extends nt{constructor(t,e,s=!1,n=P,r=!0,o){const a=B;super(),m(this,i,function(){const t=new g;return function(){const e=Z,s=this[e(641)][e(456)]();if(this.calculateBoundingSphereFromBox){s[e(483)]||(s[e(483)]=new(d[e(344)])),s[e(483)][e(256)](this[e(483)]),!s[e(684)]&&(s[e(684)]=new(d[e(640)])),t.x=(this.boundingBox[e(426)].x+this.boundingBox[e(435)].x)/2,t.y=(this[e(483)][e(426)].y+this[e(483)].max.y)/2,t.z=(this[e(483)][e(426)].z+this[e(483)].max.z)/2;const n=this.boundingBox[e(435)].x-t.x,i=this[e(483)].max.y-t.y,r=this.boundingBox[e(435)].z-t.z,o=Math[e(435)](Math[e(435)](n,i),r);s.boundingSphere[e(531)].copy(t),s[e(684)][e(686)]=Math[e(465)](2*o*o)}else s[e(684)]||(s.boundingSphere=new(d[e(640)])),s.boundingSphere[e(256)](this[e(684)])}}()),this[a(308)]=t,this[a(641)]=null,this.material=null,this[a(366)]=null,this.atlas=e,this[a(322)]=s,this[a(654)]=n,this[a(483)]=new x,this.boundingSphere=new(d[a(640)]),this[a(603)]=r,this[a(384)]=o}[B(408)](t){super[B(408)](t)}[B(396)](){return this[B(641)]}setSimulateInWorldSpace(t){const e=B;super[e(610)](t),this[e(496)]&&(this[e(496)][e(464)][e(697)][e(678)]=t?1:0,this[e(496)][e(372)]=!0)}[B(498)](){return this[B(603)]}setBoundingBox(t){const e=B;this.boundingBox[e(256)](t),this.mesh&&this[e(458)]()}[B(349)](t){const e=B;this[e(684)][e(256)](t),this.mesh&&this[e(458)]()}[B(681)](t,e,s){e[B(681)](t,s)}[(i=B(458),B(655))](t){const e=B;super[e(655)](t)&&(this[e(641)]=new it,this[e(641)][e(655)](t,this[e(308)]),this[e(496)]=this[e(642)](null,null,null,!0,!1),this[e(496)][e(654)]=this[e(654)],this[e(366)]=new(d[e(298)])(this[e(641)][e(456)](),this[e(496)]),this[e(366)][e(284)]=!0,void 0!==this[e(384)]&&(this[e(366)][e(384)]=this.renderOrder),this[e(458)](),this[e(439)].add(this.mesh))}[B(434)](){this[B(641)].dispose()}createMaterial(e,s,n,i,r){const o=B,a=[...Array(16)[o(595)]()][o(260)]((t=>new(d[o(507)])));if(this[o(390)])for(let t=0;t<this[o(390)][o(695)]();t++){const e=this.atlas[o(364)](t);a[t]=new I(e.x,e.y,e[o(274)],e[o(683)])}const c=this.atlas?this[o(390)].getTexture():null,h=this[o(322)],l=this[o(697)],u=this[o(308)]?1:0,p={atlasFrameSet:{type:o(285),value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new w},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[o(651)](n,p),e=e||t.Shader.getVertexShader(r),s=s||t.Shader[o(233)](i,r),new(d[o(628)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:P,blendDstAlpha:A,blendSrcAlpha:d[o(314)],depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=B,n=e[s(390)],i=(new(d[s(404)])).load(n.texturePath),r=new ot(i,n[s(649)]),o=n[s(326)];for(const t of o)r.addFrameSet(t[s(551)],t.x,t.y,t.width,t[s(683)]);const a=new t(e.instanced,r,n[s(590)]);return e.blending==s(228)?a[s(654)]=d[s(430)]:a.blending=d[s(290)],a}toJSON(t){const e=B;t=t||(t=>{const e=Z;if(t[e(649)])return t[e(649)];const s=t[e(216)]()[e(453)];if(s){const t=s[e(694)];if(t){const s=t.baseURI,n=t[e(271)];return n.indexOf(s)>=0?n.substr(s.length,n[e(551)]-s[e(551)]):n}}});const s=[];for(let i=0;i<this[e(390)].getFrameSetCount();i++){const t=this[e(390)][e(364)](i);s[e(468)](t)}let n=e(295);this[e(496)][e(654)]===T&&(n=e(228));return{instanced:this[e(308)],blending:n,atlas:{interpolateFrames:this[e(322)],texturePath:t(this[e(390)]),framesets:s}}}};r=B(224),m(at,r,{get VertexVars(){const t=B;return[t(616),t(214),"uniform int interpolateAtlasFrames; \n",t(620),"uniform int instanced; \n",t(376),t(373),t(477),t(674),t(309),t(362),t(446),t(527),t(382),"varying vec2 vUV2;\n",t(668),t(222),t(624)][t(457)]("\n")},get FragmentVars(){const t=B;return["uniform int interpolateAtlasFrames; \n","uniform sampler2D atlasTexture;\n",t(548),t(382),t(353),"varying vec3 vFragColor;\n",t(222),t(244)][t(457)]("\n")},getVertexShader(t){const e=B;let s=[e(380),this[e(559)]][e(457)]("\n");return t&&(s+=e(546)),s+=[e(518),e(318),e(399),e(519),"   float atlasFrameY = atlasFrames.y; \n","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","   int maxRowSections = int(1.0 / atlasFrameWidth); \n",e(544),e(469),e(383),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(347),e(663),e(304),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(240),e(452),"   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","} \n",e(363),"{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(338),e(247),e(227),e(354),"   const vec2 uLeft = vec2(-1.0, 1.0);\n",e(441),e(543),"   vec4 viewPosition; \n",e(402),e(350),e(336),e(530),e(411),e(612),e(358),"   int sequenceStart = int(sequenceElement.z);\n",e(669),e(591),e(339),e(545),e(334),"   int firstSequenceElement = int(sequenceElementF); \n",e(493),e(660),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","   } \n",e(318),e(399),e(534),e(639),e(223),e(490),e(319),e(648),e(643),e(577),e(506),"       rightSide = baseUV.x; \n",e(235),"   } \n","   float uvXOffset = atlasFrameWidth * rightSide; \n",e(273),"   vec2 rotVec; \n",e(319),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","       float uLeftV = rotVecStep.x; \n",e(332),e(636),e(289),e(470),e(506),e(528),e(411),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n",e(253),"   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","   vFragColor = color; \n",e(287)][e(457)]("\n"),t&&(s+=e(462)),s+=e(563),s},getFragmentShader(t,e){const s=B;let n=s(400)+this.FragmentVars+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+=s(541),e&&(n+=s(236)),n+=t?[s(238),s(656),s(542),s(294),s(647)][s(457)]("\n"):[s(599),"   vec4 color2 = color1; \n",s(542),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(647)][s(457)]("\n"),n+="}\n",n}});let ct=at;class ht{constructor(){const t=B;this[t(622)]=0,this[t(412)]=0,this.emitCount=0,this.age=0,this[t(296)]=0,this.activeCount=0,this[t(593)]=0}[B(476)](t){return this[B(529)](t),0}internalUpdate(t){const e=B;return this.age+=t,this[e(296)]=Math.max(this.age-this[e(622)],0),this.age>=this.emissionRelativeStartTime&&(0==this[e(412)]||this[e(296)]<=emissionDuration)}[B(688)](t){this[B(346)]+=t}}class lt extends ht{constructor(){const t=B;super(),this[t(455)]=0,this[t(365)]=0}}class ut extends lt{constructor(t=0){const e=B;super(),this[e(212)]=t}[B(476)](t){const e=B;if(this.internalUpdate(t)){const t=this[e(212)]*this[e(296)]-this[e(346)];if(t>=1){const s=Math[e(525)](t);return this[e(688)](s),s}}return 0}static[B(440)](t){const e=new ut;return e.emissionRate=t.emissionRate||0,e}[B(698)](){return{emissionRate:this[B(212)]}}}const pt=class t{constructor(t){this[B(266)]=t}static getTypeID(e){const s=B;let n=t[s(594)];return e===w?n=t[s(631)]:e===d[s(566)]?n=t[s(566)]:e===d[s(507)]?n=t[s(507)]:e===F&&(n=t.Color),n}static loadJSONParameter(t,e){const s=B;switch(e){case w:return(new(d[s(631)]))[s(499)](t);case g:return(new(d[s(566)]))[s(499)](t);case d[s(507)]:return(new I).fromArray(t);case d[s(420)]:return(new(d[s(420)]))[s(499)](t)}return t}};o=B(594),a=B(631),c=B(507),h=B(420),m(pt,o,new pt(B(594))),m(pt,a,new pt("Vector2")),m(pt,"Vector3",new pt(B(566))),m(pt,c,new pt(B(507))),m(pt,h,new pt(B(420)));let mt=pt;class ft{constructor(t){const e=B;this.outType=t,this[e(515)]=mt[e(532)](t)}}class dt extends ft{constructor(t,e,s,n,i,r){const o=B;super(t),this[o(232)]=e,this.offset=s,this.uniformRange=n,this.uniformOffset=i,this[o(517)]=r}generate(t){const e=B,s=Math.random()*this[e(311)];switch(this[e(515)]){case mt[e(594)]:t=Math[e(218)]()*this[e(232)]+this[e(306)],this[e(517)]&&(t=t<0?-1:1);break;case mt[e(631)]:t[e(437)](this[e(328)](s,"x"),this[e(328)](s,"y"));break;case mt.Vector3:t[e(437)](this[e(328)](s,"x"),this[e(328)](s,"y"),this[e(328)](s,"z"));break;case mt.Vector4:t[e(437)](this[e(328)](s,"x"),this.generateForElement(s,"y"),this[e(328)](s,"z"),this[e(328)](s,"w"))}return this[e(517)]&&t[e(517)](),t}[B(328)](t,e){const s=B;return t+Math[s(218)]()*this[s(232)][e]+this.offset[e]+this[s(579)]}[B(330)](){const t=B;return new dt(this.outType,this[t(232)],this[t(306)],this[t(311)],this[t(579)],this[t(517)])}static getParameterJSON(t){const e=B;return t instanceof d[e(631)]||t instanceof d[e(566)]||t instanceof d[e(507)]||t instanceof d[e(420)]?t[e(550)]():t}static[B(440)](t){const e=B;return new dt(t[e(623)],mt.loadJSONParameter(t[e(232)],t[e(623)]),mt[e(471)](t[e(306)],t.type),t.uniformRange||0,t[e(579)]||0,t.normalize)}[B(698)](t){const e=B,s={range:dt[e(646)](this.range),offset:dt[e(646)](this[e(306)]),uniformRange:this[e(311)],uniformOffset:this[e(579)]},n=t.getTypePath(this[e(232)][e(343)]);return null!=n&&(s.type=n),{type:t.getTypePath(dt),params:s}}}class gt extends J{constructor(t,e,s,n,i){const r=B;super(),this.range=t,this[r(306)]=e,this[r(311)]=s,this[r(579)]=n,this[r(517)]=i,this[r(417)]=new dt(0,this[r(232)],this[r(306)],this[r(311)],this[r(579)],this[r(517)])}[B(387)](t){const e=B;t.lifetime=this[e(417)].generate()}static[B(440)](t,e){const s=B;return new gt(e[s(232)],e[s(306)],e.uniformRange,e.uniformOffset,e.normalize)}[B(698)](){const t=B;return{range:this[t(232)],offset:this[t(306)],uniformRange:this[t(311)],uniformOffset:this[t(579)],normalize:this[t(517)]}}}class wt extends J{constructor(t){const e=B;super(),this[e(417)]=t.clone()}[B(387)](t){const e=B;t[e(598)]=this[e(417)][e(626)](t.rotation)}static[B(440)](t,e){const s=B,n=e[s(417)].type[s(440)](e.generator[s(665)]);return new wt(n)}toJSON(t){return{generator:this[B(417)].toJSON(t)}}}class St extends J{constructor(t,e,s,n,i){const r=B;super(),this[r(232)]=t,this.offset=e,this.uniformRange=s,this[r(579)]=n,this[r(517)]=i,this[r(417)]=new dt(0,this[r(232)],this[r(306)],this[r(311)],this[r(579)],this[r(517)])}[B(387)](t){const e=B;t[e(258)]=this.generator[e(626)]()}static fromJSON(t,e){const s=B;return new St(e.range,e[s(306)],e.uniformRange,e.uniformOffset,e[s(517)])}[B(698)](){const t=B;return{range:this[t(232)],offset:this[t(306)],uniformRange:this[t(311)],uniformOffset:this[t(579)],normalize:this.normalize}}}class yt extends J{constructor(t,e){const s=B;super(),this[s(436)]=new dt(d[s(566)],t,e,0,0,!1)}initializeState(t){const e=B;this.randomGenerator.generate(t[e(600)])}static[B(440)](t,e){const s=B;return new yt((new(d[s(566)])).fromArray(e[s(232)]),(new g)[s(499)](e[s(306)]))}[B(698)](){const t=B;return{range:this[t(436)][t(232)][t(550)](),offset:this[t(436)][t(306)].toArray()}}}class vt extends J{constructor(t){const e=B;super(),this[e(417)]=t.clone()}[B(387)](t){const e=B;this[e(417)].generate(t.size),t[e(494)][e(256)](t.size)}static fromJSON(t,e){const s=B,n=e[s(417)][s(623)][s(440)](e[s(417)].params);return new vt(n)}toJSON(t){const e=B;return{generator:this[e(417)][e(698)](t)}}}class xt extends J{constructor(t,e,s,n,i=!0){const r=B;super(),this.directionGenerator=new dt(d[r(566)],t,e,0,0,!0),this.speedGenerator=new dt(0,s,n,0,0,!1),this[r(377)]=i}[B(387)](t){const e=B;this[e(538)][e(626)](t.velocity),this[e(377)]&&t[e(301)].normalize(),t.velocity[e(526)](this[e(621)][e(626)]())}static[B(440)](t,e){const s=B;return new xt((new(d[s(566)]))[s(499)](e[s(232)]),(new(d[s(566)]))[s(499)](e[s(306)]),e[s(485)],e[s(558)])}[B(698)](){const t=B;return{range:this.directionGenerator.range[t(550)](),offset:this[t(538)][t(306)][t(550)](),speedRange:this[t(621)][t(232)],speedOffset:this[t(621)].offset}}}class Pt extends J{constructor(t,e=!1){const s=B;super(),this[s(481)](t),this[s(361)]=e}[B(481)](t){this[B(560)]=t}[B(387)](t){const e=B,s=this.particleSequences.getSequenceIDs(),n=s[e(551)]*Math.random(),i=s[Math.floor(n)],r=this.particleSequences.getSequence(i),o=t[e(682)];this[e(361)]?o.x=r[e(551)]-1:o.x=r[e(275)],o.y=r.id,o.z=r.start,o.w=r[e(551)],t[e(269)]=j[e(536)]}static[B(440)](t,e){const s=B;return new Pt(t[s(401)](),e[s(361)])}[B(698)](){return{reverse:this[B(361)]}}}class It extends G{constructor(t,e,s=!1,n=!1){const i=B;super(),this[i(560)]=t,this[i(667)]=e,this[i(685)]=s,this.reverse=n}[B(226)](t,e){const s=B,n=t.sequenceElement,i=this[s(560)][s(576)](n.y),r=e/this[s(667)];if(this[s(361)]){if(n.x-=r,n.x<i[s(275)]&&(n.x=i[s(275)]+i[s(551)],!this[s(685)]))return!1}else if(n.x+=r,n.x>=i[s(275)]+i[s(551)]&&(n.x=i.start,!this[s(685)]))return!1;return!0}static[B(440)](t,e){const s=B;return new It(t.getParticleSequences(),e[s(667)],e[s(685)],e[s(361)])}[B(698)](){const t=B;return{speed:this[t(667)],loop:this[t(685)],reverse:this.reverse}}}class At{constructor(t,e){m(this,l,function(){const t=B,e={lowerIndex:0,upperIndex:0,localT:0},s=new(d[t(631)]),n=new(d[t(566)]),i=new(d[t(507)]),r=new(d[t(420)]),o=s=>(n,i,r,o)=>{const a=t;At.getInterpolationValuesForTValue(r,n,e),s[a(256)](i[e[a(488)]])[a(526)](e.localT),o[a(256)](i[e[a(413)]]).multiplyScalar(1-e[a(297)])[a(345)](s)};return function(a){const c=t;switch(a){case mt[c(594)]:return(t,s,n)=>{const i=c;return At[i(482)](n,t,e),(1-e[i(297)])*s[e[i(413)]]+e[i(297)]*s[e.upperIndex]};case mt[c(631)]:return o(s);case mt.Vector3:return o(n);case mt[c(507)]:return o(i);case mt[c(420)]:return o(r)}}}());const s=B;this[s(501)]=[],this[s(582)]=[],this[s(419)]=mt[s(532)](t),this[s(503)]=e||this[s(467)](this[s(419)])}*[Symbol[B(321)]](){const t=B;let e=0;for(;e<this[t(652)]();)yield{element:this[t(501)][e],tValue:this[t(582)][e]},e++}[B(652)](){const t=B;return this.elements[t(551)]}[B(588)](t){const e=B;if(t>=this.getElementCount())throw new Error(e(637));return this.elements[t]}getTValue(t){const e=B;if(t>=this.getElementCount())throw new Error(e(282));return this.tValues[t]}addElement(t,e){const s=B;this[s(501)][s(468)](t),this.tValues[s(468)](e)}getInterpolatedElement(t,e){const s=B;return this[s(503)](t,this.elements,this[s(582)],e)}static[(l=B(467),B(482))](t,e,s){const n=B,i=t[n(551)];if(0===i)return s.lowerIndex=-1,s[n(488)]=-1,void(s[n(297)]=-1);let r=0,o=-1,a=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)o++,a++;s[n(413)]=$[n(609)](o,0,i-1),s[n(488)]=$[n(609)](a,0,i-1);const c=t[o],h=t[a];s[n(297)]=(e-c)/(h-c)}}class Tt extends G{constructor(t,e=!1){const s=B;super(),this[s(424)]=e,this[s(540)]=new At(t)}[B(449)](t,e){const s=B;this[s(540)][s(449)](t,e)}addElements(t){const e=B;for(const s of t)this.interpolationElements[e(449)](s[0],s[1])}[B(335)](t,e){const s=B;for(const n of e){const[...e]=n[0];this.interpolationElements[s(449)](new t(...e),n[1])}}[B(645)](t,e){const s=B;let n=0;switch(t[s(269)]){case j[s(410)]:n=0!=t[s(320)]?t[s(644)]/t.lifetime:t[s(644)];break;case j[s(536)]:n=t[s(682)].x/t.sequenceElement.w}return this[s(540)].getInterpolatedElement(n,e)}}class Ft extends Tt{constructor(t=!1){super(0,t)}[B(367)](t){super[B(325)](t)}[B(226)](t){const e=B;return this[e(424)]?t.alpha=t[e(480)]*this.getInterpolatedValue(t,t[e(447)]):t.alpha=this.getInterpolatedValue(t,t[e(447)]),!0}static[B(440)](t,e){return new Ft(e.relativeToInitialValue)}[B(698)](){const t=B;return{params:{relativeToInitialValue:this[t(424)]},elements:[...this[t(540)]][t(260)]((e=>[e[t(472)],e[t(627)]]))}}}class bt extends Tt{constructor(t=!1){super(d[B(631)],t),m(this,"updateState",function(){const t=new w;return function(e){const s=Z;return this[s(645)](e,t),this[s(424)]?e.size[s(437)](e[s(494)].x*t.x,e[s(494)].y*t.y):e[s(442)].copy(t),!0}}())}[B(367)](t){super.addElementsFromElementClassAndParameters(w,t)}static fromJSON(t,e){return new bt(e.relativeToInitialValue)}toJSON(){const t=B;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(540)]][t(260)]((e=>[e[t(472)].toArray(),e[t(627)]]))}}}class Et extends Tt{constructor(t=!1){super(d[B(420)],t),m(this,u,function(){const t=new F;return function(e){const s=Z;return this[s(645)](e,t),this[s(424)]?e[s(219)][s(221)](e[s(368)].r*t.r,e.initialColor.g*t.g,e[s(368)].b*t.b):e.color[s(256)](t),!0}}())}addElementsFromParameters(t){const e=B;super[e(335)](d[e(420)],t)}static[(u=B(226),B(440))](t,e){return new Et(e.relativeToInitialValue)}[B(698)](){const t=B;return{params:{relativeToInitialValue:this[t(424)]},elements:[...this[t(540)]][t(260)]((e=>[e[t(472)][t(550)](),e[t(627)]]))}}}class zt extends G{constructor(t){const e=B;super(),this.generator=t[e(330)]()}[B(367)](t){super.addElementsFromElementClassAndParameters(THREE.Vector3,t)}[B(226)](t){const e=B;return this[e(417)].generate(t[e(352)]),!0}static[B(440)](t,e){const s=B,n=e[s(417)].type.fromJSON(e[s(417)][s(665)]);return new zt(n)}[B(698)](t){const e=B;return{generator:this[e(417)][e(698)](t)}}}class Rt extends ft{constructor(t,e,s,n,i,r,o,a,c,h,l,u){const p=B;super(d[p(566)]),this[p(415)]=t,this[p(392)]=e,this[p(619)]=s,this[p(268)]=n,this.rangeRadius=i,this[p(259)]=r,this[p(360)]=o,this[p(371)]=a,this.scaleZ=c,this[p(211)]=h,this.offsetY=l,this[p(522)]=u,this[p(597)]=(new(d[p(566)])).set(0,1,0)}[B(626)](t){const e=B;this[e(597)][e(437)](0,1,0);const s=Math[e(218)]()*this[e(415)]+this[e(392)],n=Math.random()*this.rangePhi+this[e(268)],i=Math[e(614)](s),r=Math.sin(s),o=Math.cos(n),a=Math.sin(n);t.set(i,0,-r),t[e(526)](o),this.tempUp[e(526)](a),t.add(this[e(597)]),t.normalize();const c=Math[e(218)]()*this[e(537)]+this[e(259)];t.multiplyScalar(c),t.x*=this[e(360)],t.y*=this[e(371)],t.z*=this[e(454)],t.x+=this[e(211)],t.y+=this[e(312)],t.z+=this[e(522)]}[B(330)](){const t=B;return new Rt(this[t(415)],this[t(392)],this.rangePhi,this[t(268)],this[t(537)],this[t(259)],this[t(360)],this[t(371)],this[t(454)],this.offsetX,this[t(312)],this[t(522)])}static[B(440)](t){const e=B;return new Rt(t[e(415)],t.offsetTheta,t[e(619)],t.offsetPhi,t[e(537)],t.offsetRadius,t.scaleX,t[e(371)],t[e(454)],t[e(211)],t.offsetY,t[e(522)])}[B(698)](t){const e=B;return{type:t[e(634)](Rt),params:{rangeTheta:this[e(415)],offsetTheta:this[e(392)],rangePhi:this[e(619)],offsetPhi:this.offsetPhi,rangeRadius:this.rangeRadius,offsetRadius:this[e(259)],scaleX:this.scaleX,scaleY:this[e(371)],scaleZ:this[e(454)],offsetX:this[e(211)],offsetY:this[e(312)],offsetZ:this.offsetZ}}}}class Ot{constructor(){}}class Vt extends Ot{constructor(t,e,s,n,i,r,o=void 0){const a=B;super(),this[a(439)]=null,this[a(386)]=null,this[a(586)]=performance[a(281)]()/1e3,this.lastIntensityFlickerTime=this.lastUpdateTime,this[a(509)]=this[a(586)],this[a(291)]=1,this[a(254)]=1,this[a(466)]=new(d[a(566)]),this.positionAdjuster=new(d[a(566)]),this.intensity=1,this.intensityFlux=2,this[a(539)]=t,this.init(t,e,s,n,i,r,o)}init(t,e,s,n,i,r,o=void 0){const a=B;this[a(439)]=new(d[a(393)]),t[a(345)](this[a(439)]),n=n||new(d[a(420)]),i=i||0,null!=r&&null!=r||(r=2);const c=!!o;return this.light=new(d[a(333)])(16777215,2,0,1),this.light[a(219)].copy(n),this.light[a(505)]=i,this.light[a(250)]=r,this[a(386)][a(246)]=c,c&&(this[a(386)][a(340)][a(613)][a(274)]=o[a(613)]||512,this[a(386)][a(340)][a(613)][a(683)]=o[a(613)]||512,this[a(386)][a(340)][a(673)][a(475)]=o[a(409)]||.5,this[a(386)].shadow[a(673)][a(303)]=o.cameraFar||500,this[a(386)][a(340)].bias=o[a(689)]||1e-4,this[a(386)][a(340)][a(686)]=o[a(601)]||1),this.owner[a(345)](this[a(386)]),this[a(572)]=e,this[a(661)]=s,this.light}dispose(){const t=B;this[t(539)][t(478)](this.owner)}[B(403)](){return this.light}[B(357)](t){this[B(572)]=t}[B(476)](t){const e=B,s=t-this.lastIntensityFlickerTime,n=1/8,i=this[e(661)];if(s>n){this[e(234)]=t;let s=1+2*(Math[e(218)]()-.5)*i*n;const r=s-this[e(291)];s=this[e(291)]+r,this[e(291)]=this[e(254)],this.nextIntensityAdjuster=$[e(609)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(291)]+t*this[e(254)];this.light[e(572)]=i*this[e(572)]}if(t-this[e(509)]>.0625){this[e(509)]=t;const s=t-this.lastUpdateTime;this.positionAdjuster[e(437)](Math.random()-.5,Math[e(218)]()-.5,Math[e(218)]()-.5),this[e(305)][e(526)](s),this[e(305)][e(345)](this[e(466)]),this[e(305)][e(526)](.5),this.owner[e(600)][e(256)](this[e(305)]),this.lastPositionAdjuster[e(256)](this.positionAdjuster),this[e(586)]=t}}}class qt{constructor(){this[B(659)]={default:{}},this.jsonTypeNames={},this.typeIDGen=0}[B(302)](t,e){const s=B;this.addTypeToNamespace(s(557),t,e)}[B(329)](t,e,s){const n=B;if(!this[n(659)][t])throw new Error(n(391));if(this[n(659)][t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this[n(262)](s,e,t)&&(this[n(659)][t][e]=s)}[B(618)](t,e){const s=B;if(this.jsonTypes[t])throw new Error(s(385));this[s(659)][t]=e;for(const n in e)if(!e[s(497)]||e.hasOwnProperty(n)){const s=e[n];this.checkAndAddTypeName(s,n,t)}}[B(262)](t,e,s){const n=B;if(typeof t===n(213)){const i=this.typeIDGen++;t[n(300)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}getType(t,e){const s=B;if(!this[s(659)][t])throw new Error(s(217));if(!this[s(659)][t][e])throw new Error(s(381));return this[s(659)][t][e]}[B(691)](t){const e=B;return this[e(555)][t[e(300)]]}[B(634)](t){const e=B,s=this.getTypeNames(t);if(s)return s[e(489)]+"."+s[e(690)]}[B(549)](t){const e=B,s=t.split("."),n=s[0];s[e(277)](0,1);return{namespace:n,typeName:s[e(457)](".")}}[B(554)](t){const e=B,{namespace:s,typeName:n}=this[e(549)](t);return this[e(293)](s,n)}}function Ct(t){function e(t){const s=Z;if(typeof t===s(276))return function(t){}.constructor(s(245))[s(243)](s(670));1!==(""+t/t)[s(551)]||t%20==0?function(){return!0}[s(343)](s(375)+s(220))[s(633)](s(427)):function(){return!1}[s(343)](s(375)+"gger")[s(243)](s(422)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Nt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:zt,AnimatedSpriteRenderer:ct,Atlas:ot,BaseParticleStateInitializer:k,BaseParticleStateOperator:H,BoxPositionInitializer:yt,ColorInterpolatorOperator:Et,ConstantParticleEmitter:ut,FlickerLight:Vt,JSONTypeStore:qt,LifetimeInitializer:gt,Manager:st,OpacityInterpolatorOperator:Ft,ParticleStateArray:D,ParticleSystem:et,ParticleSystemState:tt,RandomGenerator:dt,RandomVelocityInitializer:xt,Renderer:nt,RotationInitializer:wt,RotationalSpeedInitializer:St,SequenceInitializer:Pt,SequenceOperator:It,SizeInitializer:vt,SizeInterpolatorOperator:bt,SphereRandomGenerator:Rt},Symbol.toStringTag,{value:"Module"}));function Mt(t,e){const s=Dt();return(Mt=function(t,e){return s[t-=154]})(t,e)}const _t=Mt;!function(t,e){const s=Mt,n=Dt();for(;;)try{if(602335===-parseInt(s(205))/1*(-parseInt(s(201))/2)+-parseInt(s(208))/3+parseInt(s(227))/4+parseInt(s(203))/5+parseInt(s(225))/6*(parseInt(s(222))/7)+parseInt(s(189))/8*(-parseInt(s(195))/9)+-parseInt(s(198))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Bt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Mt(217)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Bt(this,(function(){const t=Mt,e=new RegExp(t(197)),s=new RegExp(t(156),"i"),n=Xt(t(214));e[t(210)](n+t(154))&&s[t(210)](n+t(211))?Xt():n("0")}))()}();const Ut=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Mt(217)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Ut(void 0,(function(){const t=Mt;let e;try{e=Function(t(230)+t(212)+");")()}catch(i){e=window}const s=e[t(234)]=e.console||{},n=[t(178),"warn",t(155),t(207),"exception",t(226),t(164)];for(let r=0;r<n[t(216)];r++){const e=Ut[t(179)][t(191)].bind(Ut),i=n[r],o=s[i]||e;e.__proto__=Ut[t(163)](Ut),e.toString=o.toString[t(163)](o),s[i]=e}}))();const jt=O({__name:_t(175),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=_t,s=t,n=new st,i=new(Nt[e(187)]);i.addNamespace("THREE",d),i[e(172)](e(166),Nt);const{renderer:r,camera:o,scene:a}=z(),c=new g(...s.position);n[e(177)](((t,s)=>{const n=e,i=new b;i[n(161)][n(228)](s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new E)[n(194)](o),c=new(Nt[n(185)])(a,o);c.addFrameSet(1,0,0,1,1);const h=new(Nt[n(233)])(!0,c,!0,d[n(202)]),l=new(Nt[n(186)])(i,h,r.value);l[n(214)](150),l[n(196)](new(Nt[n(168)])(6));const u=new(Nt[n(173)])(d[n(206)],new(d[n(206)])(0,0),new w(.15*t,.15*t),0,0,!1);l[n(190)](new gt(3,1,0,0,!1)),l.addParticleStateInitializer(new(Nt[n(174)])(u)),l[n(190)](new(Nt[n(229)])(new(d[n(165)])(.05*t,0,.05*t),new(d[n(165)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new(Nt[n(213)])(new(d[n(165)])(.4*t,.5*t,.4*t),new g(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(180)](new(Nt[n(170)]))[n(192)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(180)](new(Nt[n(158)])(!0))[n(218)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new Rt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(Nt[n(219)])(p)),l[n(215)](!0),l[n(176)](),l})(s[e(160)],c)),n[e(177)](((t,s)=>{const n=e,i=new(d[n(162)]);i.position.copy(s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new(d[n(157)])).load(o),c=new(Nt[n(185)])(a,o);c[n(223)](18,0,0,.125,.25);const h=new(Nt[n(233)])(!0,c,!0),l=new(Nt[n(186)])(i,h,r.value);l[n(214)](50),l[n(196)](new ut(10)),l[n(188)](0,18);const u=l[n(199)]();l[n(190)](new(Nt[n(204)])(0,0,0,0,!1)),l[n(190)](new(Nt[n(159)])(new(Nt[n(173)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(Nt[n(169)])(1,-1,0,0,!1)),l[n(190)](new(Nt[n(174)])(new(Nt[n(173)])(d[n(206)],new(d[n(206)])(.25*t,.25*t),new(d[n(206)])(.5*t,.5*t),0,0,!1))),l[n(190)](new yt(new(d[n(165)])(.05*t,0,.05*t),new(d[n(165)])(-.025*t,0,-.025*t))),l[n(190)](new(Nt[n(213)])(new g(.05*t,.4*t,.05*t),new(d[n(165)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new(Nt[n(167)])(u)),l[n(180)](new(Nt[n(181)])(u,.07,!1));l[n(180)](new(Nt[n(170)])).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(180)](new(Nt[n(200)])(!0))[n(218)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(180)](new(Nt[n(158)])(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(180)](new(Nt[n(219)])(new(Nt[n(173)])(d[n(165)],new(d[n(165)])(0,0,0),new g(0,1.5*t,0),0,0,!1))),l[n(215)](!0),l[n(176)](),l})(s.scale,c)),n[e(177)](((t,s)=>{const n=e,i=new(d[n(162)]);i.position.copy(s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new(d[n(157)]))[n(194)](o),c=new(Nt[n(185)])(a,o);c.addFrameSet(16,0,0,212/1024,.25);const h=new ct(!0,c,!0),l=new(Nt[n(186)])(i,h,r[n(231)]);l[n(214)](20),l.setEmitter(new(Nt[n(168)])(5)),l.addParticleSequence(0,16);const u=l.getParticleSequences();l[n(190)](new(Nt[n(204)])(0,0,0,0,!1)),l[n(190)](new(Nt[n(159)])(new(Nt[n(173)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(190)](new(Nt[n(169)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(190)](new(Nt[n(174)])(new(Nt[n(173)])(d[n(206)],new w(0,0),new(d[n(206)])(0,0),.2*t,.65*t,!1))),l[n(190)](new(Nt[n(229)])(new(d[n(165)])(.1*t,0,.1*t),new g(-.05*t,0,-.05*t))),l.addParticleStateInitializer(new(Nt[n(213)])(new g(.02*t,.4*t,.02*t),new(d[n(165)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(190)](new Pt(u)),l[n(180)](new(Nt[n(181)])(u,.1,!1));l.addParticleStateOperator(new(Nt[n(170)]))[n(192)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(180)](new(Nt[n(200)])(!0))[n(218)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(180)](new(Nt[n(158)])(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(180)](new(Nt[n(219)])(new dt(g,new(d[n(165)])(0,0,0),new(d[n(165)])(0,1.5*t,0),0,0,!1))),l[n(215)](!0),l[n(176)](),l})(s.scale,c)),n[e(184)](((t,s=10)=>{const n=e,i=new(d[n(162)]);a[n(231)][n(220)](i),i[n(161)][n(228)](t);return new(Nt[n(224)])(i,s,2,(new F)[n(171)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=R();return h((()=>{const t=e;n[t(232)](),n.render(r[t(231)],o[t(231)])})),(t,e)=>null}});function Xt(t){function e(t){const s=Mt;if(typeof t===s(193))return function(t){}.constructor("while (true) {}")[s(217)](s(182));1!==(""+t/t)[s(216)]||t%20==0?function(){return!0}[s(179)]("debu"+s(221))[s(183)]("action"):function(){return!1}[s(179)](s(209)+s(221)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Dt(){const t=["RandomVelocityInitializer","init","setSimulateInWorldSpace","length","apply","addElementsFromParameters","AccelerationOperator","add","gger","55783kaThUR","addFrameSet","FlickerLight","594ysNEev","table","618724vaPSKB","copy","BoxPositionInitializer","return (function() ","value","update","AnimatedSpriteRenderer","console","chain","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TextureLoader","ColorInterpolatorOperator","RotationInitializer","scale","position","Object3D","bind","trace","Vector3","Photons","SequenceInitializer","ConstantParticleEmitter","RotationalSpeedInitializer","OpacityInterpolatorOperator","setRGB","addNamespace","RandomGenerator","SizeInitializer","fireF","start","addParticleSystem","log","constructor","addParticleStateOperator","SequenceOperator","counter","call","addComponent","Atlas","ParticleSystem","JSONTypeStore","addParticleSequence","1334824XCKOTL","addParticleStateInitializer","prototype","addElements","string","load","18OSgTvd","setEmitter","function *\\( *\\)","15292610RhUQBq","getParticleSequences","SizeInterpolatorOperator","102614pAlYcy","AdditiveBlending","4940570bXcvvw","LifetimeInitializer","14BfKNfv","Vector2","error","554166BWvwkR","debu","test","input",'{}.constructor("return this")( )'];return(Dt=function(){return t})()}const Wt=Lt;!function(t,e){const s=Lt,n=kt();for(;;)try{if(254538===parseInt(s(155))/1+parseInt(s(159))/2*(parseInt(s(187))/3)+-parseInt(s(176))/4*(parseInt(s(160))/5)+parseInt(s(170))/6+-parseInt(s(163))/7+parseInt(s(169))/8+-parseInt(s(180))/9)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Yt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Yt(this,(function(){const t=Lt,e=new RegExp(t(192)),s=new RegExp(t(193),"i"),n=Zt(t(173));e[t(181)](n+t(184))&&s[t(181)](n+"input")?Zt():n("0")}))()}();const Jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Lt(186)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Lt(t,e){const s=kt();return(Lt=function(t,e){return s[t-=153]})(t,e)}function kt(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","action","length","161266iehCLk","return (function() ","exception","__proto__","6GOlstj","265yGzzHV","context","perspectiveCameraRef","2164687OmVRBq","set","$refs","stateObject","debu","pagesShowRef","3202704CglVxS","2322192cbwTQB","trace","bind","init","prototype","console","24124QIzvtm","tcRef","warn","fireF","3077514dLVKPQ","test","gger","position","chain","while (true) {}","apply","276732zxRWuh","toString","counter","value","constructor","function *\\( *\\)"];return(kt=function(){return t})()}Jt(void 0,(function(){const t=Lt,e=function(){const t=Lt;let e;try{e=Function(t(156)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),s=e.console=e[t(175)]||{},n=["log",t(178),t(194),"error",t(157),"table",t(171)];for(let i=0;i<n[t(154)];i++){const e=Jt[t(191)][t(174)][t(172)](Jt),r=n[i],o=s[r]||e;e[t(158)]=Jt[t(172)](Jt),e.toString=o[t(188)][t(172)](o),s[r]=e}}))();const Gt=O({__name:Wt(179),setup(t){const e=V();return q((()=>{const t=Lt;e[t(190)]&&(e[t(190)][t(165)].tcRef?e[t(190)][t(165)][t(177)][t(161)].camera[t(190)].position[t(164)](580,360,500):e[t(190)][t(165)][t(162)]&&e[t(190)][t(165)][t(162)][t(183)].set(580,360,500))})),(t,s)=>{const n=Lt;return C(),N(f,{ref_key:n(168),ref:e},{ability:M((()=>[_(jt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Zt(t){function e(t){const s=Lt;if("string"==typeof t)return function(t){}.constructor(s(185))[s(186)](s(189));1!==(""+t/t)[s(154)]||t%20==0?function(){return!0}[s(191)](s(167)+"gger").call(s(153)):function(){return!1}.constructor(s(167)+s(182)).apply(s(166)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Gt as default};
