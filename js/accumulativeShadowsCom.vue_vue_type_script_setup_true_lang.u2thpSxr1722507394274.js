import{V as t,a6 as n,h as e}from"./three.Brogx0uK1722507394274.js";import{p as o}from"./@tresjs.bNNpPzYW1722507394274.js";import{d as a,P as r}from"./@pmndrs.D9AmSQDC1722507394274.js";import{d as s,b as i,w as c,a1 as u,o as l,D as f,J as h,aj as p,ak as d}from"./@vue.CFXy4cc91722507394274.js";const m=b;!function(t,n){const e=b,o=y();for(;;)try{if(913829===-parseInt(e(172))/1*(parseInt(e(155))/2)+parseInt(e(139))/3+-parseInt(e(159))/4+-parseInt(e(173))/5+parseInt(e(189))/6+parseInt(e(209))/7+parseInt(e(135))/8)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(132)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(136),"i"),o=z(t(176));n[t(199)](o+"chain")&&e[t(199)](o+t(181))?z():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(132)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function b(t,n){const e=y();return(b=function(t,n){return e[t-=128]})(t,n)}function y(){const t=["near","accumulativeShadowsCom","material","__proto__","stateObject","texture","shadows plm update","info","add","alphaTest","height","update","error","1502276fqyNBm","value","constructor","far","4598592FKaXDE","clear","TresPlaneGeometry","console","string","while (true) {}","color","toString","randFloatSpread","acos","exception","prepare","trace","1foRLFx","7855230FmWePS","top","DirectionalLight","init","bind","action","opacity","frames","input","radius","ambient","shadows render end","abs","remove","position","return (function() ","2985600aLLNFV","shadow","debu","MathUtils","left","TresMesh","rotate-x","mapSize","progressiveLightMap2","length","test","camera","blend","random","castShadow","blendWindow","amount","Group","size","gger","12685862ghrOUC","prototype","lightPosition","configure","shadows render start","bias","log","warn","apply","set","intensity","10576784Lqhhuv","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","cos","sin","2261091kOFRiA","counter","children"];return(y=function(){return t})()}w(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(188)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(162)]=n[t(162)]||{},o=[t(130),t(131),t(149),t(154),t(169),"table",t(171)];for(let a=0;a<o[t(198)];a++){const n=w[t(157)][t(210)][t(177)](w),r=o[a],s=e[r]||n;n[t(145)]=w.bind(w),n[t(166)]=s[t(166)].bind(s),e[r]=n}}))();const M=[m(195)],S=h(m(161),{args:[1,1]},null,-1),x=s({__name:m(143),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const g=m,w=s;let b=i();const{extend:y,scene:x,renderer:z,camera:P}=o();y({SoftShadowMaterial:a});const I={position:(new t).set(w.lightPosition.x,w[g(211)].y,w.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},v=new r(z[g(156)],x.value,I[g(196)]),_={map:v[g(197)][g(147)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[g(201)],alphaTest:w.alphaTest,opacity:w[g(179)],color:w[g(165)]},F=new(n[g(206)]);for(let t=0;t<I[g(205)];t++){const t=new(n[g(175)])(16777215,I[g(134)]/I.amount);t[g(203)]=!0,t[g(190)][g(129)]=I[g(129)],t[g(190)][g(200)][g(142)]=I[g(142)],t[g(190)].camera[g(158)]=I.far,t.shadow[g(200)].right=I[g(207)]/2,t[g(190)][g(200)][g(193)]=-I[g(207)]/2,t[g(190)][g(200)][g(174)]=I[g(207)]/2,t[g(190)][g(200)].bottom=-I.size/2,t[g(190)].mapSize.width=I[g(196)],t[g(190)][g(196)][g(152)]=I.mapSize,F[g(150)](t)}const j=()=>{const t=g,o=I[t(187)].length();for(let a=0;a<F[t(141)].length;a++){const r=F[t(141)][a];if(Math[t(202)]()>w.ambient)r[t(187)].set(I.position.x+e.randFloatSpread(I[t(182)]),I[t(187)].y+n[t(192)][t(167)](I[t(182)]),I[t(187)].z+n[t(192)].randFloatSpread(I[t(182)]));else{let n=Math[t(168)](2*Math[t(202)]()-1)-Math.PI/2,e=2*Math.PI*Math[t(202)]();r[t(187)][t(133)](Math[t(137)](n)*Math[t(137)](e)*o,Math[t(185)](Math[t(137)](n)*Math[t(138)](e)*o),Math[t(138)](n)*o)}}},T=(t=1)=>{const n=g;x[n(156)][n(150)](F),v[n(170)]();for(let e=0;e<t;e++)j(),v[n(153)](P[n(156)],w[n(204)]),console[n(130)](n(148),e);x.value[n(186)](F),v.finish()};c((()=>b[g(156)]),(t=>{const n=g;t&&(v[n(212)](t),v[n(160)](),console[n(130)](n(128)),T(w.frames),console[n(130)](n(184)))}));const L=()=>{const t=g;v.clear(),T(w[t(180)])};return u((()=>{const t=g;b[t(156)]&&(w[t(179)]&&(b[t(156)][t(144)].opacity=w.opacity),w[t(151)]&&(b[t(156)][t(144)][t(151)]=w[t(151)]),w[t(165)]&&b[t(156)][t(144)].color.set(w[t(165)]),w[t(201)]&&(b[t(156)][t(144)][t(201)]=w[t(201)]))})),c((()=>w[g(211)]),(t=>{const n=g;t&&(console.log(w.lightPosition),I[n(187)][n(133)](t.x,t.y,t.z),L())}),{deep:!0}),c((()=>[w[g(180)],w.blendWindow,w[g(183)]]),(()=>{L()})),(t,n)=>{const e=g;return l(),f(e(194),{"receive-shadow":"",ref_key:"gPlane",ref:b,scale:10,"rotate-x":-Math.PI/2},[S,h("TresSoftShadowMaterial",p(d(_)),null,16)],8,M)}}});function z(t){function n(t){const e=b;if(typeof t===e(163))return function(t){}[e(157)](e(164))[e(132)](e(140));1!==(""+t/t).length||t%20==0?function(){return!0}[e(157)](e(191)+e(208)).call(e(178)):function(){return!1}.constructor("debugger")[e(132)](e(146)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
