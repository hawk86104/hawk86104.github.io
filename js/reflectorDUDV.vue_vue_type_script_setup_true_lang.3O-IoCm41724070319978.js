import{b_ as t,a0 as e,q as n,r}from"./three.QUrV0R7c1724070319978.js";import{N as o}from"./@tresjs.2JnKj_Yj1724070319978.js";import{R as s,b as i}from"./all.three.mO32oPaM1724070319978.js";import{d as c,a4 as a,a1 as u,w as f,o as p,D as l,J as d,u as h}from"./@vue.Q1VpS3901724070319978.js";const m=y;!function(t,e){const n=y,r=_();for(;;)try{if(709638===parseInt(n(256))/1*(parseInt(n(252))/2)+parseInt(n(268))/3*(parseInt(n(247))/4)+-parseInt(n(286))/5*(parseInt(n(275))/6)+parseInt(n(261))/7*(parseInt(n(243))/8)+parseInt(n(254))/9*(parseInt(n(303))/10)+parseInt(n(249))/11*(-parseInt(n(294))/12)+-parseInt(n(251))/13)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[y(257)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=y,e=new RegExp(t(255)),n=new RegExp(t(253),"i"),r=x(t(302));e[t(299)](r+"chain")&&n.test(r+t(277))?x():r("0")}))()}();const v=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=y,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e[t(244)]=e[t(244)]||{},r=[t(262),t(284),t(263),t(301),"exception",t(283),t(273)];for(let o=0;o<r[t(297)];o++){const e=v[t(280)].prototype[t(287)](v),s=r[o],i=n[s]||e;e.__proto__=v[t(287)](v),e[t(248)]=i[t(248)][t(287)](i),n[s]=e}}))();const g=[m(281)],b=[m(293)],j=[m(293)],I=c({__name:m(278),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:w}){const v=m;let I,y;const x=c,_=new s,R=new t(x.size[0]-.5,x[v(272)][1]);R[v(259)]=x.showGridHelper;const{map:z}=([I,y]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),I=await I,y(),I);z[v(289)]=e,z.wrapT=e,z.repeat[v(270)](6,3);const V=new i({map:z,reflectivity:x[v(300)]});V[v(260)][v(245)]={value:_.renderTarget[v(250)]},V[v(260)][v(290)]=_[v(298)],V[v(260)][v(265)]=_.textureMatrixUniform;const O=new n(new r(x.size[0],x[v(272)][1]),V);return O[v(282)].x=-Math.PI/2,O[v(291)](_),O[v(264)]=(t,e,n)=>{const r=v;O[r(259)]=!1,x[r(271)][r(279)]((t=>{const e=r;t[e(288)]&&(t[e(259)]=!1),t[e(269)]&&t[e(269)][e(288)]&&(t[e(269)][e(259)]=!1)})),_[r(267)](t,e,n),x.ignoreObjects[r(279)]((t=>{const e=r;t[e(288)]&&(t.visible=!0),t[e(269)]&&t.value[e(288)]&&(t.value[e(259)]=!0)})),O[r(259)]=!0},u((()=>{const t=v;x[t(300)]&&(V.uniforms.uReflectivity[t(269)]=x.reflectivity)})),f((()=>x[v(266)]),(t=>{R[v(259)]=t})),w({reflector:_}),(t,e)=>{const n=v;return p(),l(n(285),{scale:x.scale},[d("primitive",{object:h(O),"position-y":-.01},null,8,b),d(n(274),{object:h(R)},null,8,j)],8,g)}}});function y(t,e){const n=_();return(y=function(t,e){return n[t-=243]})(t,e)}function x(t){function e(t){const n=y;if(typeof t===n(246))return function(t){}[n(280)]("while (true) {}")[n(257)](n(295));1!==(""+t/t)[n(297)]||t%20==0?function(){return!0}[n(280)]("debu"+n(276))[n(258)]("action"):function(){return!1}.constructor(n(296)+n(276))[n(257)](n(292)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function _(){const t=["renderTargetUniform","test","reflectivity","error","init","20DCPhps","6605792LmiAIQ","console","tReflect","string","4IvqApV","toString","981574hOjJut","texture","2879253CJQLgl","4VAQinV","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2327553zdwQRE","function *\\( *\\)","30982scveFg","apply","call","visible","uniforms","7jqomOv","log","info","onBeforeRender","uMatrix","showGridHelper","update","3050220ZpnaVk","value","set","ignoreObjects","size","trace","primitive","2518410uhwiNs","gger","input","reflectorDUDV","forEach","constructor","scale","rotation","table","warn","TresGroup","5VtVETK","bind","isMesh","wrapS","tReflectBlur","add","stateObject","object","144kuPkpk","counter","debu","length"];return(_=function(){return t})()}export{I as _};
