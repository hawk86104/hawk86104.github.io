import{a as t,d as n}from"./@tresjs.j5vdYITq1725245456099.js";import{P as e}from"./tweakpane.yHWGBmom1725245456099.js";import{T as o,a6 as r,k as a,a as s,ab as i,ac as c}from"./three.KG2-8r0_1725245456099.js";import{_ as u}from"./heatmap.js-fix.ZaT5Ha2r1725245456099.js";import{d as p,a4 as l,a1 as f,o as d,D as h,u as m,r as g,e as v,f as y,g as b,j as w,al as x,aj as _,ak as I,m as j,J as C}from"./@vue.Q1VpS3901725245456099.js";import"./@vueuse.whMtq_7M1725245456099.js";import"./@amap.jyJWu-u51725245456099.js";const S=A;function A(t,n){const e=D();return(A=function(t,n){return e[t-=443]})(t,n)}!function(t,n){const e=A,o=D();for(;;)try{if(493475===parseInt(e(506))/1+-parseInt(e(466))/2*(-parseInt(e(480))/3)+-parseInt(e(464))/4*(parseInt(e(486))/5)+parseInt(e(482))/6*(-parseInt(e(455))/7)+parseInt(e(505))/8*(parseInt(e(513))/9)+parseInt(e(469))/10+parseInt(e(450))/11*(parseInt(e(499))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=A,n=new RegExp(t(453)),e=new RegExp(t(471),"i"),o=E("init");n[t(507)](o+"chain")&&e[t(507)](o+t(498))?E():o("0")}))()}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();R(void 0,(function(){const t=A;let n;try{n=Function(t(492)+t(491)+");")()}catch(r){n=window}const e=n[t(478)]=n[t(478)]||{},o=[t(508),t(497),t(509),t(490),t(468),"table",t(511)];for(let a=0;a<o[t(503)];a++){const n=R[t(454)][t(447)][t(470)](R),r=o[a],s=e[r]||n;n[t(463)]=R[t(470)](R),n[t(489)]=s.toString.bind(s),e[r]=n}}))();const T=[S(475)],z=p({__name:S(465),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=S;let i,c;const p=n,{nodes:g}=([i,c]=l((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(496)}))),i=await i,c(),i);g.mesh_0[e(502)][e(512)](-5088.96,-3.08,39374.7),g[e(493)][e(488)].setScalar(.01);let v=null,y=null,b=null;y=new o((()=>{const t=e;return b=document[t(484)]("heatmap-canvas"),b.style[t(502)]="absolute",b[t(461)][t(476)]="40px",b[t(461)].left="0",document[t(443)][t(516)](b),v=u[t(473)]({container:b,width:256,height:256,blur:t(449),radius:p.radius}),v[t(472)].canvas[t(461)][t(444)]=t(462),v._renderer.canvas[t(456)]=function(n){const e=t;v[e(501)]({x:n.layerX,y:n[e(485)],value:1,radius:p[e(479)]}),v[e(452)](1),y&&(y[e(487)]=!0)},v})()[e(472)][e(446)]);const w={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(504)]},x=new a(w);g[e(493)].material=x;return(t=>{const n=e;t[n(459)]();const{max:o,min:r}=t[n(474)];t.deleteAttribute("uv");const a=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(481)].position[n(448)];e++)c[n(451)]((t.attributes[n(502)].getX(e)-r.x)/a),c.push((t.attributes[n(502)][n(445)](e)-r.z)/i);const u=new Float32Array(c);t[n(467)]("uv",new s(u,2))})(g.mesh_0[e(460)]),f((()=>{const t=e;b[t(461)][t(495)]=""+(p.show2dCanvas?t(494):t(483))})),(t,n)=>{const o=e;return d(),h(o(514),{object:m(g)[o(493)]},null,8,T)}}});function D(){const t=["8833JArHUL","push","setDataMax","function *\\( *\\)","constructor","33747Nefund","onclick","apply","action","computeBoundingBox","geometry","style","1px solid #5384ff","__proto__","68JxDYNO","heatmapClickCom","34786cpWGvR","setAttribute","exception","3644500QiWpoi","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_renderer","create","boundingBox","object","top","debu","console","radius","24lZMaCH","attributes","618tyuyqv","none","createElement","layerY","156145fePRAQ","needsUpdate","scale","toString","error",'{}.constructor("return this")( )',"return (function() ","mesh_0","block","display","./draco/","warn","input","5892jlhjfL","call","addData","position","length","DoubleSide","3794344JyxELz","148771Xcgedq","test","log","info","stateObject","trace","set","9PeSlxp","primitive","gger","appendChild","body","border","getZ","canvas","prototype","count","0.8"];return(D=function(){return t})()}function E(t){function n(t){const e=A;if("string"==typeof t)return function(t){}[e(454)]("while (true) {}")[e(457)]("counter");1!==(""+t/t)[e(503)]||t%20==0?function(){return!0}[e(454)](e(477)+e(515))[e(500)](e(458)):function(){return!1}[e(454)](e(477)+e(515))[e(457)](e(510)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=M;function M(t,n){const e=P();return(M=function(t,n){return e[t-=126]})(t,n)}!function(t,n){const e=M,o=P();for(;;)try{if(732188===parseInt(e(167))/1+-parseInt(e(136))/2*(parseInt(e(126))/3)+parseInt(e(168))/4+parseInt(e(171))/5*(-parseInt(e(148))/6)+parseInt(e(170))/7*(-parseInt(e(172))/8)+-parseInt(e(141))/9+-parseInt(e(144))/10*(-parseInt(e(137))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(164)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=M,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(130),"i"),o=G(t(158));n[t(127)](o+t(174))&&e[t(127)](o+"input")?G():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[M(164)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=['{}.constructor("return this")( )',"console","while (true) {}","TresCanvas","heatmapClick","__proto__","gger","counter","init","return (function() ","length","show2dCanvas","TresGridHelper","constructor","apply","error","info","685696iZcibE","4242228NshhHG","exception","2251928qwFpSc","325VuXLAN","8aTJZsR","log","chain","41736AbWftT","test","bind","addBinding","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","prototype","圆圈的大小","显示二维图","TresDirectionalLight","38lEwmIF","8692189oYRGPr","string","#030311","trace","5787423ZLMSSC","debu","action","10TDHHEv","addButton","warn","toString","53094GYLViI","点击左侧蓝色画框"];return(P=function(){return t})()}B(void 0,(function(){const t=M;let n;try{n=Function(t(159)+t(150)+");")()}catch(r){n=window}const e=n.console=n[t(151)]||{},o=[t(173),t(146),t(166),t(165),t(169),t(131),t(140)];for(let a=0;a<o[t(160)];a++){const n=B.constructor[t(132)][t(128)](B),r=o[a],s=e[r]||n;n[t(155)]=B.bind(B),n[t(147)]=s[t(147)].bind(s),e[r]=n}}))();const F=C("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),H=C(L(135),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1),O=C(L(162),{args:[50,25]},null,-1),U=p({__name:L(154),setup(t){const o=L,r={clearColor:o(139),shadows:!0,alpha:!0,outputColorSpace:i,shadowMapType:c,useLegacyLights:!0,antialias:!0},a=g({show2dCanvas:!0,radius:20}),s=new e({title:"参数",expanded:!0});return s.addBinding(a,o(161),{label:o(134)}),s[o(129)](a,"radius",{label:o(133),min:.1,max:30,step:.1}),s[o(145)]({title:o(149)}),(t,e)=>{const s=v(o(153));return d(),y(s,j(r,{"window-size":""}),{default:b((()=>[F,w(m(n),{autoRotate:!1,autoRotateSpeed:2}),H,O,(d(),y(x,null,{default:b((()=>[w(z,_(I(a)),null,16)])),_:1}))])),_:1},16)}}});function G(t){function n(t){const e=M;if(typeof t===e(138))return function(t){}[e(163)](e(152))[e(164)](e(157));1!==(""+t/t)[e(160)]||t%20==0?function(){return!0}.constructor(e(142)+"gger").call(e(143)):function(){return!1}[e(163)](e(142)+e(156)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{U as default};
