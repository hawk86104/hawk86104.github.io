import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import"./lamina.CHTEzYqr1767066396612.js";import"./three-custom-shader-material.DAA_4JPH1767066396612.js";import"./skyBoxAmesh.vue_vue_type_script_setup_true_lang.BBaQ2YAP1767066396612.js";import"./skyBoxBmesh.vue_vue_type_script_setup_true_lang.DvsCdFqW1767066396612.js";import"./skyBoxDmesh.vue_vue_type_script_setup_true_lang.Dq1wqjgL1767066396612.js";import{z as t,F as n}from"./@tresjs.B1f7s3pS1767066396612.js";import{aq as a}from"./three.BD1hRFgo1767066396612.js";import{a as o}from"./three-stdlib.Clo1XHat1767066396612.js";import{l as s}from"./utils.CbL40hHP1767066396612.js";await e("three");const{defineComponent:r}=await e("vue"),{watchEffect:i}=await e("vue");await e("three");const{withAsyncContext:u,defineComponent:m}=await e("vue"),{unref:l,openBlock:p,createElementBlock:v}=await e("vue"),_=["object","scale"],c=await e("three"),d=m({__name:"groundProjectedEnvCom",props:{texture:{default:"https://opensource.cdn.icegl.cn/images/skyBox/round_platform_1k.exr"},size:{default:100}},async setup(e){let n,s;const r=e,i=new a,m=([n,s]=u(()=>i.loadAsync(r.texture)),n=await n,s(),n);m.mapping=c.EquirectangularReflectionMapping;const{scene:d}=t();d.value.environment=m;const y=new o(m);return(e,t)=>(p(),v("primitive",{object:l(y),scale:r.size},null,8,_))}}),{defineComponent:y}=await e("vue"),{ref:h,watch:w}=await e("vue"),f=await e("three"),k=y({__name:"basiceEnv",props:{on:{default:!0},type:{default:"sunset"},environmentIntensity:{default:1},environmentRotations:{default:{x:0,y:0,z:0}}},setup(e){const t=e;const{scene:a}=n(),o=h(null);return w(()=>[t.on,o.value],([e,t])=>{a.value&&(e&&o.value?a.value.environment=o.value:a.value.environment=null)},{immediate:!0}),w(()=>t.type,async e=>{a.value&&g[e]&&(o.value=await s(x+g[e]),t.on&&(a.value.environment=o.value))},{immediate:!0}),w(()=>t.environmentIntensity,e=>{a.value&&(a.value.environmentIntensity=e)},{immediate:!0}),w(()=>t.environmentRotations,e=>{if(a.value){const t=function(e){return e instanceof f.Euler?e:Array.isArray(e)?new f.Euler(e[0],e[1],e[2]):"number"==typeof e?new f.Euler(e,e,e):e instanceof f.Vector3||"object"==typeof e&&"x"in e&&"y"in e&&"z"in e?new f.Euler(e.x,e.y,e.z):null}(e);t&&a.value.environmentRotation.copy(t)}},{immediate:!0,deep:!0}),(e,t)=>null}}),g={sunset:"/images/water/belfast_sunset_puresky_1k.hdr",desert:"/images/skyBox/desert_1k.hdr",room:"/images/skyBox/newConvert/abandoned_games_room_02_1k.hdr",canary:"/images/skyBox/newConvert/canary_wharf_1k.hdr",outdoor:"/images/skyBox/newConvert/outdoor_umbrellas_1k.hdr",haven:"/images/skyBox/newConvert/poly_haven_studio_1k.hdr",shanghai:"/images/skyBox/newConvert/shanghai_bund_1k.hdr",hangar:"/images/skyBox/newConvert/small_hangar_01_1k.hdr",snowy:"/images/skyBox/newConvert/snowy_forest_path_01_1k.hdr"},x="https://opensource.cdn.icegl.cn";export{g as H,d as _,k as a};
