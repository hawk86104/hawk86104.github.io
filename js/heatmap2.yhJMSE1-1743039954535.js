import{P as t}from"./tweakpane.ivGeiIdz1743039954535.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.b4o8R7En1743039954535.js";import{_ as r}from"./heatmap.js-fix.MewnzJzD1743039954535.js";import{a as i,_ as c,c6 as s,ab as u}from"./three.XuMWWlrU1743039954535.js";import{r as a}from"./utils.PeWXTIGY1743039954535.js";import{d as p}from"./pinia.MiZyWHUj1743039954535.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as b,W as w,P as _,R as I,L as j,O as x,a3 as E,r as M,j as R,g as z,m as D}from"./@vue.C4dqouNn1743039954535.js";import{c as P,d as S,a as k}from"./three-mesh-bvh.0PiL0XIM1743039954535.js";import{_ as O}from"./@fesjs.q_HvOfeM1743039954535.js";import"./@tresjs.05J-Im0t1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";import"./three-custom-shader-material.CRbjOKjC1743039954535.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1743039954535.js";import"./@amap.7j9kjwBk1743039954535.js";import"./vue-router.F5lDLjOj1743039954535.js";import"./lodash-es.p1wj6C0b1743039954535.js";import"./@qlin.o0hjOMCg1743039954535.js";import"./@floating-ui.HzHndBae1743039954535.js";import"./@juggle.4EyLec-41743039954535.js";!function(t,n){const e=F,o=A();for(;;)try{if(729647===-parseInt(e(144))/1+parseInt(e(163))/2+parseInt(e(157))/3+parseInt(e(166))/4+-parseInt(e(132))/5+parseInt(e(141))/6*(-parseInt(e(124))/7)+-parseInt(e(175))/8*(-parseInt(e(174))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(127)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["rgb(255,0,0)","exception","stateObject","constructor","1367852UMdFOL","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","306576hREUbp","__proto__","createElement","length","style","bind","yellow","none","5985lgkTrZ","22600VPkDhE","return (function() ","14MmdWsk","absolute","console","apply","action","setData","gger","warn","5461160ZFySiN","width","info","error","prototype","randInt","push","chain","body","2448330GiyEkW","table","trace","943376OegCDz","function *\\( *\\)","string","getValueAt","input","height","_config","toString","appendChild","counter","display","create","test","2826510gaxJQU","rgb(0,255,0)"];return(A=function(){return t})()}function F(t,n){const e=A();return F=function(t,n){return e[t-=124]},F(t,n)}!function(){Z(this,(function(){const t=F,n=new RegExp(t(145)),e=new RegExp(t(165),"i"),o=$(t(164));n[t(156)](o+t(139))&&e[t(156)](o+t(148))?$():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(127)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=F;let n;try{n=Function(t(176)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(126)]=n[t(126)]||{},o=["log",t(131),t(134),t(135),t(160),t(142),t(143)];for(let i=0;i<o[t(169)];i++){const n=U.constructor[t(136)][t(171)](U),r=o[i],c=e[r]||n;n[t(167)]=U.bind(U),n[t(151)]=c[t(151)][t(171)](c),e[r]=n}}))();const T=(t,n)=>t[F(147)](n)+-10;function $(t){function n(t){const e=F;if(typeof t===e(146))return function(t){}[e(162)]("while (true) {}")[e(127)](e(153));1!==(""+t/t)[e(169)]||t%20==0?function(){return!0}[e(162)]("debu"+e(130)).call(e(128)):function(){return!1}.constructor("debugger")[e(127)](e(161)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=V;!function(t,n){const e=V,o=X();for(;;)try{if(965745===parseInt(e(130))/1*(-parseInt(e(150))/2)+-parseInt(e(144))/3+parseInt(e(147))/4+-parseInt(e(129))/5+-parseInt(e(115))/6*(-parseInt(e(127))/7)+parseInt(e(119))/8+parseInt(e(135))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(137)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=V,n=new RegExp(t(145)),e=new RegExp(t(142),"i"),o=C("init");n[t(138)](o+t(140))&&e.test(o+t(118))?C():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(137)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=X();return V=function(t,n){return e[t-=115]},V(t,n)}function X(){const t=["counter","bind","length","3363437hxgVoz","trace","5329040sTVPwo","1LdDhfi","debu","stateObject",'{}.constructor("return this")( )',"value","6873408KruZfy","error","apply","test","warn","chain","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","5342694EeYJlu","function *\\( *\\)","action","2844020dzYqQp","constructor","log","1532098YMRRPQ","__proto__","gger","buildingsHeatmap","18rNmmCX","info","toString","input","13298480cBoebg","while (true) {}","call","prototype","string"];return(X=function(){return t})()}L(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function("return (function() "+t(133)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(149),t(139),t(116),t(136),t(141),t(143),t(128)];for(let r=0;r<o[t(126)];r++){const n=L.constructor[t(122)][t(125)](L),i=o[r],c=e[i]||n;n[t(151)]=L[t(125)](L),n[t(117)]=c.toString.bind(c),e[i]=n}}))();const Y=p(B(153),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[V(134)]=n},setTemperature:function(t){n[V(134)]=t}}}));function C(t){function n(t){const e=V;if(typeof t===e(123))return function(t){}[e(148)](e(120))[e(137)](e(124));1!==(""+t/t)[e(126)]||t%20==0?function(){return!0}[e(148)](e(131)+e(152))[e(121)](e(146)):function(){return!1}[e(148)]("debu"+e(152))[e(137)](e(132)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=Q;!function(t,n){const e=Q,o=tt();for(;;)try{if(436459===parseInt(e(304))/1*(parseInt(e(271))/2)+-parseInt(e(303))/3+-parseInt(e(277))/4*(-parseInt(e(266))/5)+-parseInt(e(315))/6*(parseInt(e(287))/7)+-parseInt(e(285))/8*(parseInt(e(301))/9)+-parseInt(e(294))/10*(parseInt(e(299))/11)+parseInt(e(282))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=Q,n=new RegExp(t(293)),e=new RegExp(t(328),"i"),o=nt(t(279));n.test(o+t(305))&&e[t(281)](o+t(311))?nt():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(324)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();q(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function("return (function() "+t(274)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(278)]||{},o=[t(325),t(302),t(272),t(276),t(316),t(329),"trace"];for(let r=0;r<o[t(332)];r++){const n=q[t(326)][t(295)][t(286)](q),i=o[r],c=e[i]||n;n[t(297)]=q[t(286)](q),n[t(300)]=c[t(300)].bind(c),e[i]=n}}))();const J=["object",H(306)],N=["object"];function Q(t,n){const e=tt();return Q=function(t,n){return e[t-=266]},Q(t,n)}const K=l({__name:H(284),props:{model:{},opacity:{default:1}},setup(t){const n=H;(()=>{const t=Q;c[t(317)][t(295)][t(319)]=P,c[t(317)][t(295)][t(323)]=S,c[t(333)][t(295)].raycast=k})();const e=t,o=((t=250,n=250,e=!0)=>{const o=F,i=document[o(168)]("heatmap-canvas");return i[o(170)].position=o(125),!e&&(i[o(170)][o(154)]=o(173)),i[o(170)].top="0",i.style.left="0",document[o(140)][o(152)](i),r[o(155)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(158),.85:o(172),1:o(159)}})})();((t,n)=>{const e=F;if(!n){let o=0;for(n=[];o<1e3;)n[e(138)]({x:i[e(137)](1,t._config[e(133)]),y:i[e(137)](1,t[e(150)][e(149)]),value:i[e(137)](-10,36)}),o++}t[e(129)]({max:36,min:-10,data:n})})(o);const p=new(c[n(270)])(o._renderer[n(292)]);p[n(331)]=!0;const f=e.model.city[n(322)]();delete f.geometry[n(290)][n(283)],delete f[n(313)][n(290)].uv;const l=f[n(313)][n(322)]()[n(273)](f.matrix),b=e[n(318)].land[n(322)]();delete b[n(313)].attributes[n(283)];const w=b[n(313)][n(322)]()[n(273)](b.matrix),_=s[n(334)]([l,w]);_[n(273)]((new(c[n(296)]))[n(289)](Math.PI/2)),a(_),_.computeBoundsTree();const I=(x=p,new(c[n(307)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:x}},depthWrite:!0,depthTest:!0,transparent:!0,side:u})),j=new(c[n(333)])(_,I);var x;h((()=>{const t=n;e.opacity&&(I.uniforms[t(309)][t(327)]=e.opacity)}));const E=Y(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(321)],y:(1-t.uv.y)*o[e(269)].height};console[e(325)]("数值：",t),console[e(325)]("数值———：",T(o,n)),E[e(314)](T(o,n))}},R=t=>{t&&E[n(308)]({showDiv:!0})},z=t=>{t&&E[n(330)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(312),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:R,onPointerLeave:z},null,40,J),g(r(312),{object:e[r(318)][r(318)][r(280)][0][r(322)]()},null,8,N)],64)}}});function tt(){const t=["primitive","geometry","setTemperature","237378APnVVD","exception","BufferGeometry","model","computeBoundsTree","gger","width","clone","disposeBoundsTree","apply","log","constructor","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","setShowDiv","needsUpdate","length","Mesh","mergeGeometries","95BBmmpF","action","while (true) {}","_config","Texture","2HeYIph","info","applyMatrix4",'{}.constructor("return this")( )',"counter","error","84164VPXpPH","console","init","children","test","12789048LwROMa","normal","buildingsHeatmap","3037856RjYCgU","bind","56MqzpJa","stateObject","makeRotationX","attributes","string","canvas","function *\\( *\\)","246440mzKeId","prototype","Matrix4","__proto__","debu","352olstJz","toString","9dFIAiG","warn","50511zovWvM","472607UlzHYG","chain","rotation-x","ShaderMaterial","$patch","uOpacity","call","input"];return(tt=function(){return t})()}function nt(t){function n(t){const e=Q;if(typeof t===e(291))return function(t){}.constructor(e(268)).apply(e(275));1!==(""+t/t)[e(332)]||t%20==0?function(){return!0}.constructor(e(298)+e(320))[e(310)](e(267)):function(){return!1}[e(326)](e(298)+e(320))[e(324)](e(288)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=O({__name:"dataDiv",setup(t){const n=Y(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[I,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=it;!function(t,n){const e=it,o=st();for(;;)try{if(254248===-parseInt(e(156))/1+parseInt(e(157))/2+-parseInt(e(164))/3*(-parseInt(e(169))/4)+parseInt(e(146))/5*(-parseInt(e(142))/6)+-parseInt(e(143))/7+parseInt(e(154))/8+parseInt(e(152))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[it(158)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function it(t,n){const e=st();return it=function(t,n){return e[t-=133]},it(t,n)}!function(){rt(this,(function(){const t=it,n=new RegExp(t(167)),e=new RegExp(t(141),"i"),o=at(t(170));n.test(o+t(145))&&e[t(159)](o+t(161))?at():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["action","string","透明度","opacity","1761246GdTpXn","constructor","3270928eLPFDZ","stateObject","322029DUiEjn","893526aEEuNu","apply","test","heatmap2","input","error","log","4791taRfaX","warn","debu","function *\\( *\\)","bind","148XgcbRR","init","length","value","__proto__","info","#000","table","city","toString","console","exception","counter","trace","prototype","model","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","652254EtyIMk","2977982okcSxQ","gger","chain","5ODqhGE","builds"];return(st=function(){return t})()}ct(void 0,(function(){const t=it;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(135)]=n[t(135)]||{},o=[t(163),t(165),t(174),t(162),t(136),t(176),t(138)];for(let i=0;i<o[t(171)];i++){const n=ct[t(153)][t(139)][t(168)](ct),r=o[i],c=e[r]||n;n[t(173)]=ct[t(168)](ct),n[t(134)]=c[t(134)][t(168)](c),e[r]=n}}))();const ut=l({__name:ot(160),async setup(r){const i=ot;let c,s;const u=f(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(172)]=!0;const p=M({width:1,color:i(175),opacity:1,show:!0}),l=M({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,i(151),{label:i(150),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[R(K,D({model:y(a)},l),null,16,[r(140)]),R(n,D(p,{builds:y(a)[r(133)]}),null,16,[r(147)])])),_:1}),R(et)],64)}}});function at(t){function n(t){const e=it;if(typeof t===e(149))return function(t){}[e(153)]("while (true) {}").apply(e(137));1!==(""+t/t).length||t%20==0?function(){return!0}[e(153)](e(166)+e(144)).call(e(148)):function(){return!1}.constructor("debu"+e(144))[e(158)](e(155)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
