import{c8 as t,a3 as n,r as e,s as r}from"./three.Vxh8Czkt1741490461506.js";import{a as o}from"./@tresjs.rE98Wm941741490461506.js";import{R as s,b as c}from"./all.three.9g6ASlnm1741490461506.js";import{d as i,a3 as u,a2 as a,w as f,o as l,H as p,N as d,u as h}from"./@vue.NRI7TcgI1741490461506.js";const m=x;!function(t,n){const e=x,r=j();for(;;)try{if(571701===parseInt(e(443))/1+parseInt(e(472))/2*(-parseInt(e(450))/3)+-parseInt(e(467))/4+parseInt(e(489))/5*(-parseInt(e(493))/6)+parseInt(e(496))/7+-parseInt(e(446))/8+parseInt(e(504))/9*(parseInt(e(495))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(451)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=x,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(475),"i"),r=_("init");n[t(499)](r+t(455))&&e[t(499)](r+t(492))?_():r("0")}))()}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[x(451)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();w(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(444)+t(459)+");")()}catch(e){n=window}return n}(),e=n[t(500)]=n.console||{},r=["log",t(503),t(471),t(461),"exception",t(466),t(458)];for(let o=0;o<r[t(452)];o++){const n=w.constructor[t(488)][t(469)](w),s=r[o],c=e[s]||n;n[t(497)]=w.bind(w),n[t(448)]=c.toString[t(469)](c),e[s]=n}}))();const b=["scale"],v=[m(506)],y=[m(506)];function j(){const t=["rotation","warn","9UPsRWr","onBeforeRender","object","410973GxfKuF","return (function() ","repeat","3573568QhCcJS","stateObject","toString","gger","2121SVzlYE","apply","length","string","TresGroup","chain","isMesh","showGridHelper","trace",'{}.constructor("return this")( )',"counter","error","uniforms","update","tReflect","renderTargetUniform","table","4537424xBOPsW","wrapS","bind","debu","info","1326fCZxoy","value","forEach","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","reflectorDUDV","reflectivity","constructor","textureMatrixUniform","set","size","action","renderTarget","while (true) {}","texture","uMatrix","visible","prototype","745rOaWuy","add","mapUrl","input","45048SVYYHb","call","31104970CtHUPX","1531012AJPkCl","__proto__","scale","test","console","primitive"];return(j=function(){return t})()}function x(t,n){const e=j();return(x=function(t,n){return e[t-=443]})(t,n)}const I=i({__name:m(476),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:g}){const w=m;let j,x;const I=i,_=new s,R=new t(I[w(481)][0]-.5,I[w(481)][1]);R[w(487)]=I[w(457)];const{map:U}=([j,x]=u((()=>o({map:I[w(491)]}))),j=await j,x(),j);U[w(468)]=n,U.wrapT=n,U[w(445)][w(480)](6,3);const H=new c({map:U,reflectivity:I[w(477)]});H[w(462)][w(464)]={value:_[w(483)][w(485)]},H.uniforms.tReflectBlur=_[w(465)],H[w(462)][w(486)]=_[w(479)];const O=new e(new r(I[w(481)][0],I[w(481)][1]),H);return O[w(502)].x=-Math.PI/2,O[w(490)](_),O[w(505)]=(t,n,e)=>{const r=w;O.visible=!1,I.ignoreObjects[r(474)]((t=>{const n=r;t[n(456)]&&(t[n(487)]=!1),t.value&&t[n(473)].isMesh&&(t.value.visible=!1)})),_[r(463)](t,n,e),I.ignoreObjects[r(474)]((t=>{const n=r;t[n(456)]&&(t[n(487)]=!0),t[n(473)]&&t[n(473)][n(456)]&&(t[n(473)][n(487)]=!0)})),O.visible=!0},a((()=>{const t=w;I.reflectivity&&(H.uniforms.uReflectivity[t(473)]=I.reflectivity)})),f((()=>I.showGridHelper),(t=>{R[w(487)]=t})),g({reflector:_}),(t,n)=>{const e=w;return l(),p(e(454),{scale:I[e(498)]},[d(e(501),{object:h(O),"position-y":-.01},null,8,v),d(e(501),{object:h(R)},null,8,y)],8,b)}}});function _(t){function n(t){const e=x;if(typeof t===e(453))return function(t){}.constructor(e(484))[e(451)](e(460));1!==(""+t/t)[e(452)]||t%20==0?function(){return!0}.constructor(e(470)+"gger")[e(494)](e(482)):function(){return!1}[e(478)](e(470)+e(449))[e(451)](e(447)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
