import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{_ as t}from"./@tresjs.B1f7s3pS1767066396612.js";const{defineComponent:a}=await e("vue"),{createElementVNode:o,normalizeProps:r,guardReactiveProps:i,openBlock:l,createElementBlock:n}=await e("vue"),p=["rotation-x"],s=["args"],d=await e("three"),{watch:c,reactive:u,ref:f}=await e("vue"),m=a({__name:"videoFloor",props:{size:{default:[10,10]},vSrcPath:{},loop:{type:Boolean,default:!0},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},setup(e){const a=f(),{onRender:m}=t();m(()=>{a.value&&(a.value.rotation.z+=v.rotationZ)});const v=e;let h=document.createElement("video");h.src=v.vSrcPath,h.loop=v.loop,h.muted=!0,h.crossOrigin="",h.play();let g=new d.VideoTexture(h);g.wrapS=d.RepeatWrapping,g.wrapT=d.RepeatWrapping,g.repeat.set(v.textureRepeat[0],v.textureRepeat[1]);const w=u({color:v.color,alphaMap:g,side:d.DoubleSide,transparent:!0,opacity:v.opacity,blending:d.AdditiveBlending,flatShading:!0,depthTest:!0,depthWrite:!0});return c(()=>v.color,e=>{w.color=new d.Color(e)}),c(()=>v.opacity,e=>{w.opacity=e}),(e,t)=>(l(),n("TresMesh",{ref_key:"tmRef",ref:a,"rotation-x":-Math.PI/2},[o("TresPlaneGeometry",{args:v.size},null,8,s),o("TresMeshStandardMaterial",r(i(w)),null,16)],8,p))}});export{m as _};
