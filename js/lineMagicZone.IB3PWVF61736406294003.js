import{P as t}from"./tweakpane.yHWGBmom1736406294003.js";import{e,W as n,b as o,U as r}from"./@tresjs.AACxYGk_1736406294003.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.vfXujXM91736406294003.js";import{cH as a,_ as s}from"./three.jaHX2_hY1736406294003.js";import{d as l,a7 as u,a4 as c,w as f,o as m,D as p,J as d,u as h,j as g,r as v,e as I,f as x,g as w,al as S,m as b}from"./@vue.yG49nQHr1736406294003.js";import"./@vueuse.d_orRt1V1736406294003.js";import"./all.three.PHlVv3xt1736406294003.js";import"./oimophysics.x0jH7fze1736406294003.js";function y(t,e){const n=M();return(y=function(t,e){return n[t-=187]})(t,e)}const _=y;!function(t,e){const n=y,o=M();for(;;)try{if(463047===parseInt(n(228))/1*(-parseInt(n(196))/2)+-parseInt(n(199))/3*(-parseInt(n(187))/4)+-parseInt(n(219))/5*(-parseInt(n(252))/6)+parseInt(n(241))/7*(parseInt(n(207))/8)+-parseInt(n(209))/9+-parseInt(n(210))/10*(-parseInt(n(217))/11)+-parseInt(n(193))/12*(parseInt(n(205))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[y(197)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=y,e=new RegExp(t(213)),n=new RegExp(t(238),"i"),o=W("init");e[t(215)](o+t(234))&&n[t(215)](o+t(206))?W():o("0")}))()}();const U=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[y(197)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=y,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e[t(226)]=e.console||{},o=["log",t(203),t(232),t(254),t(247),t(188),t(202)];for(let r=0;r<o[t(225)];r++){const e=U[t(216)][t(211)][t(242)](U),i=o[r],a=n[i]||e;e[t(251)]=U.bind(U),e[t(218)]=a.toString.bind(a),n[i]=e}}))();const N=["rotateX"],P=["position",_(194),_(239)];function M(){const t=["23910PmfXme","prototype","PointsMaterial","function *\\( *\\)","map","test","constructor","3773VDUmGt","toString","1415lTlise","Color","call","AdditiveBlending","set","baseColor","length","console","TresGroup","81421SIfbOO","height","action","string","info","uHeight","chain","baseMaterial","setFromPoints","speed","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","aNormal","while (true) {}","35JHneKb","bind","debu","uScale","BufferGeometry","value","exception","color","getAttribute","position","__proto__","16752SlBQWs","scale","error","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","332qcyEGP","table","stateObject","#90ee90","uTime","xRadius","9718944LMeNTt","aIndex","yRadius","8QGXFSA","apply","TresBufferGeometry","2001OKbdtl","counter","push","trace","warn","alphaMap","13MllHBe","input","149624dYkEvS","array","1444338LZJkrg"];return(M=function(){return t})()}const C=_(255),O=l({__name:"lineMagicZone",props:{height:{default:1.6},speed:{default:1},color:{default:_(190)}},async setup(t){const r=_;let i,l;const v=u(),I=t,x=([i,l]=c((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,l(),i),w=new a(0,0,8,8,0,2*Math.PI,!1,0),S=[];for(let e=0;e<5;e++)S[r(201)](...w.getPoints(719)),w[r(192)]+=.2,w[r(195)]+=.2;const b=new Float32Array(S.map(((t,e)=>e))),y=(new(s[r(245)]))[r(236)](S)[r(249)](r(250))[r(208)],T=new Float32Array(y[r(225)]);for(let e=0;e<y.length/3;e++){const t=3*e;y[t+1]+=.15*Math.floor(e/720);const n=e%720*3,o=3*(e%720+2880);T[t]=y[o]-y[n],T[t+1]=y[o+1]-y[n+1],T[t+2]=y[o+2]-y[n+2]}const U={uTime:{value:0},uScale:{value:v[r(253)]?v[r(253)]:1},uHeight:{value:I[r(229)]},uPerlinTexture:{value:x[1]},baseColor:{value:new(s[r(220)])(I.color)}},{onLoop:M}=e();return M((()=>{const t=r;U[t(191)][t(246)]+=.01*I[t(237)]})),f((()=>[I[r(248)],v[r(253)],I[r(229)]]),(([t,e,n])=>{const o=r;U[o(224)][o(246)][o(223)](t),U[o(244)].value=e,U[o(233)].value=n})),(t,e)=>{const o=r;return m(),p(o(227),null,[d("TresPoints",{rotateX:-Math.PI/2,scale:.1},[d(o(198),{position:[h(y),3],aIndex:[h(b),1],aNormal:[h(T),3]},null,8,P),g(h(n),{baseMaterial:s[o(212)],vertexShader:C,fragmentShader:"\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n",uniforms:U,map:h(x)[0],alphaMap:h(x)[0],transparent:"",depthWrite:!1,blending:s[o(222)],color:"#409eff",size:.1},null,8,[o(235),o(214),o(204),"blending"])],8,N)])}}});function W(t){function e(t){const n=y;if(typeof t===n(231))return function(t){}[n(216)](n(240))[n(197)](n(200));1!==(""+t/t)[n(225)]||t%20==0?function(){return!0}[n(216)]("debugger")[n(221)](n(230)):function(){return!1}[n(216)](n(243)+"gger").apply(n(189)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const j=Z;function z(){const t=["addBinding","input","lineMagicZone","action","14733276MhDsHz","1361466nEYdnh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","speed","479255cQIkCJ","trace","while (true) {}","exception","init","test","10einQpL","console","call","gger","stateObject","14469YvTNOX","function *\\( *\\)","length","TresCanvas","5OZzIku","TresAmbientLight","error","16EahGVo","debu","2906973iKBrPt","constructor","__proto__","color","scale",'{}.constructor("return this")( )',"chain","height","toString","3017144sMrxQP","11ZsVKZH","bind","apply","counter","TresPerspectiveCamera","58906tVgQZP","1074zBIpjy"];return(z=function(){return t})()}!function(t,e){const n=Z,o=z();for(;;)try{if(375323===parseInt(n(455))/1*(parseInt(n(475))/2)+parseInt(n(437))/3+-parseInt(n(458))/4*(parseInt(n(440))/5)+parseInt(n(476))/6*(-parseInt(n(451))/7)+-parseInt(n(469))/8+-parseInt(n(460))/9*(parseInt(n(446))/10)+parseInt(n(470))/11*(parseInt(n(436))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[Z(472)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=Z,e=new RegExp(t(452)),n=new RegExp(t(438),"i"),o=E(t(444));e[t(445)](o+t(466))&&n[t(445)](o+t(478))?E():o("0")}))()}();const B=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[Z(472)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function Z(t,e){const n=z();return(Z=function(t,e){return n[t-=436]})(t,e)}B(void 0,(function(){const t=Z;let e;try{e=Function("return (function() "+t(465)+");")()}catch(r){e=window}const n=e[t(447)]=e.console||{},o=["log","warn","info",t(457),t(443),"table",t(441)];for(let i=0;i<o[t(453)];i++){const e=B[t(461)].prototype[t(471)](B),r=o[i],a=n[r]||e;e[t(462)]=B[t(471)](B),e.toString=a[t(468)][t(471)](a),n[r]=e}}))();const A=l({__name:j(479),setup(e){const n=j,o=v({reflectivity:.1,showGridHelper:!0,scale:1}),a=v({color:"#ff0000",scale:1.8,height:2.4,speed:1}),s=new t;return s.addBinding(a,n(463),{label:"颜色"}),s.addBinding(a,n(464),{label:"大小",min:.1,max:3,step:.1}),s[n(477)](a,n(467),{label:"高度",min:.1,max:3,step:.1}),s[n(477)](a,n(439),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=I(s(454));return m(),x(l,{clearColor:"#201919","window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:w((()=>[e[0]||(e[0]=d(s(474),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(h(r),{enableDamping:""}),e[1]||(e[1]=d(s(456),{intensity:2},null,-1)),(m(),x(S,null,{default:w((()=>[g(O,b({position:[3,0,0]},a),null,16)])),_:1})),(m(),x(S,null,{default:w((()=>[g(O,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(m(),x(S,null,{default:w((()=>[g(i,b({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function E(t){function e(t){const n=Z;if("string"==typeof t)return function(t){}[n(461)](n(442))[n(472)](n(473));1!==(""+t/t)[n(453)]||t%20==0?function(){return!0}[n(461)](n(459)+n(449))[n(448)](n(480)):function(){return!1}[n(461)](n(459)+"gger")[n(472)](n(450)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{A as default};
