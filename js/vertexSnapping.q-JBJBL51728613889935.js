import{_ as t,ai as n}from"./three.-yu4716U1728613889935.js";import{q as o,Y as i,L as e}from"./@tresjs.BSMy0VpY1728613889935.js";import{a as r,b as s}from"./index.xPgac_ew1728613889935.js";import{P as u}from"./tweakpane.yHWGBmom1728613889935.js";import{d as c,$ as a,w as p,o as l,E as f,a4 as m,u as d,r as h,f as g,g as v,j as y,L as I,al as S,m as P}from"./@vue.JNsx1iN61728613889935.js";import"./@vueuse.lr_j1bUm1728613889935.js";import"./three-stdlib.IhUZHHaV1728613889935.js";import"./@pmndrs.BfweosZT1728613889935.js";import"./object-hash.bAoGVkRV1728613889935.js";import"./@amap.CWBvQ_Sh1728613889935.js";import"./jszip.jnD6f9ab1728613889935.js";const R=w;!function(t,n){const o=w,i=j();for(;;)try{if(265454===-parseInt(o(472))/1+-parseInt(o(500))/2+-parseInt(o(502))/3+parseInt(o(509))/4+parseInt(o(493))/5+parseInt(o(506))/6*(-parseInt(o(499))/7)+parseInt(o(471))/8)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const b=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){b(this,(function(){const t=w,n=new RegExp(t(498)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=A(t(495));n[t(484)](i+t(501))&&o.test(i+t(473))?A():i("0")}))()}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[w(474)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function w(t,n){const o=j();return(w=function(t,n){return o[t-=468]})(t,n)}_(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function("return (function() "+t(468)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(469)]||{},i=[t(505),t(504),"info","error","exception",t(497),"trace"];for(let e=0;e<i[t(475)];e++){const n=_.constructor[t(483)][t(492)](_),r=i[e],s=o[r]||n;n[t(490)]=_[t(492)](_),n[t(486)]=s[t(486)][t(492)](s),o[r]=n}}))();const x=[R(507)];function j(){const t=["function *\\( *\\)","7olRTsh","902952KnsGKe","chain","256377npHNBZ","com","warn","log","106482fkDzmT","object","stateObject","1537488ZQhXTq","vertexShader","debu",'{}.constructor("return this")( )',"console","replace","4573512QSfgFD","202247LTSCur","input","apply","length","action","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","uniforms","primitive","MeshStandardMaterial","while (true) {}","srcMaterial","prototype","test","value","toString","call","#include <project_vertex>","uSnappingResolution","__proto__","#include <common>","bind","331610DadPAa","constructor","init","gger","table"];return(j=function(){return t})()}const M=c({__name:R(503),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[R(480)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=R,o=t,i=a(o.uSnappingResolution);return o[n(482)].onBeforeCompile=t=>{const o=n;t[o(478)][o(489)]=i,t[o(510)]=t[o(510)].replace(o(491),"\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"),t.vertexShader=t[o(510)][o(470)](o(488),o(477))},p((()=>o.uSnappingResolution),(t=>{i[n(485)]=t})),(t,o)=>{const i=n;return l(),f(i(479),{object:t.srcMaterial},null,8,x)}}});function A(t){function n(t){const o=w;if("string"==typeof t)return function(t){}[o(494)](o(481))[o(474)]("counter");1!==(""+t/t)[o(475)]||t%20==0?function(){return!0}.constructor(o(511)+o(496))[o(487)](o(476)):function(){return!1}[o(494)]("debu"+o(496))[o(474)](o(508)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function E(){const t=["trace","18208UWKKUK","call","action","log","toString","length","warn","function *\\( *\\)","2244148FVnKwW","apply","counter","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","prototype","chain","stateObject","replace","test","gger","__proto__","vertexShader","3296994vhyCIP","input","255494CSoAzu","onBeforeCompile",'{}.constructor("return this")( )',"table","2576PPennC","bind","36HMhQvj","15PBMlCI","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5RVwFqh","uniforms","while (true) {}","705462bIEQnQ","82270VIMbQI","console","constructor","debu","uSnappingResolution","738122QZmdwf"];return(E=function(){return t})()}function T(t,n){const o=E();return(T=function(t,n){return o[t-=289]})(t,n)}!function(t,n){const o=T,i=E();for(;;)try{if(618177===parseInt(o(297))/1+parseInt(o(327))/2*(parseInt(o(291))/3)+parseInt(o(313))/4+parseInt(o(294))/5*(-parseInt(o(325))/6)+parseInt(o(331))/7*(-parseInt(o(305))/8)+-parseInt(o(290))/9*(-parseInt(o(298))/10)+parseInt(o(303))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const C=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){C(this,(function(){const t=T,n=new RegExp(t(312)),o=new RegExp(t(293),"i"),i=z(t(292));n.test(i+t(318))&&o[t(321)](i+t(326))?z():i("0")}))()}();const Z=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function z(t){function n(t){const o=T;if("string"==typeof t)return function(t){}.constructor(o(296))[o(314)](o(315));1!==(""+t/t)[o(310)]||t%20==0?function(){return!0}.constructor(o(301)+o(322))[o(306)](o(307)):function(){return!1}.constructor(o(301)+o(322)).apply(o(319)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function K(){const t=["7796hXMeLH","primitive","table","bind","console","constructor","forEach","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","1547801kFLQOh","values","function *\\( *\\)","1411928gyLyWF","model","__proto__","exception","trace","gger","length","57940dQAMEX","counter","7427tKZRRA","call","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","2200101havRIx","stateObject","object","2245XCeetv","chain","return (function() ","apply","value","toString","action",'{}.constructor("return this")( )',"error","prototype","./draco/","4566jdpiPo","warn","71536upDiHc","1035NlboWa","uSnappingResolution"];return(K=function(){return t})()}Z(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(329)+");")()}catch(o){n=window}return n}(),o=n[t(299)]=n.console||{},i=[t(308),t(311),"info","error","exception",t(330),t(304)];for(let e=0;e<i[t(310)];e++){const n=Z[t(300)][t(317)][t(289)](Z),r=i[e],s=o[r]||n;n[t(323)]=Z[t(289)](Z),n.toString=s[t(309)][t(289)](s),o[r]=n}}))();const N=F;!function(t,n){const o=F,i=K();for(;;)try{if(851402===parseInt(o(289))/1+-parseInt(o(248))/2+-parseInt(o(262))/3+-parseInt(o(281))/4*(-parseInt(o(265))/5)+-parseInt(o(276))/6*(parseInt(o(257))/7)+parseInt(o(278))/8+-parseInt(o(279))/9*(-parseInt(o(255))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const B=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){B(this,(function(){const t=F,n=new RegExp(t(291)),o=new RegExp(t(260),"i"),i=Q("init");n[t(259)](i+t(266))&&o.test(i+"input")?Q():i("0")}))()}();const $=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();$(void 0,(function(){const t=F;let n;try{n=Function(t(267)+t(272)+");")()}catch(e){n=window}const o=n[t(285)]=n[t(285)]||{},i=["log",t(277),"info",t(273),t(251),t(283),t(252)];for(let r=0;r<i[t(254)];r++){const n=$[t(286)][t(274)][t(284)]($),e=i[r],s=o[e]||n;n[t(250)]=$[t(284)]($),n.toString=s[t(270)][t(284)](s),o[e]=n}}))();const k=[N(264)];function F(t,n){const o=K();return(F=function(t,n){return o[t-=248]})(t,n)}const L=c({__name:N(249),props:{uSnappingResolution:{default:6}},async setup(t){const n=N;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o(n(288),{draco:!0,decoderPath:n(275)}))),i=await i,e(),i),c=[];return Object[n(290)](u)[n(287)]((t=>{const o=n;c.push(function(t,n=6){const o=T,i={value:n};return t[o(328)]=t=>{const n=o;t[n(295)][n(302)]=i,t[n(324)]=t[n(324)][n(320)]("#include <common>",n(316)),t[n(324)]=t[n(324)].replace("#include <project_vertex>","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t")},i}(t,r[o(280)]))})),p((()=>r.uSnappingResolution),(t=>{c.forEach((n=>{n[F(269)]=t}))})),(t,o)=>{const i=n;return l(),f(i(282),{object:d(s),scale:5,position:[0,-2,0]},null,8,k)}}});function Q(t){function n(t){const o=F;if("string"==typeof t)return function(t){}[o(286)]("while (true) {}")[o(268)](o(256));1!==(""+t/t)[o(254)]||t%20==0?function(){return!0}[o(286)](o(261)+"gger")[o(258)](o(271)):function(){return!1}[o(286)](o(261)+o(253))[o(268)](o(263)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const G=tt;!function(t,n){const o=tt,i=nt();for(;;)try{if(885668===-parseInt(o(512))/1+parseInt(o(495))/2*(-parseInt(o(534))/3)+parseInt(o(490))/4+parseInt(o(486))/5*(-parseInt(o(536))/6)+-parseInt(o(503))/7*(parseInt(o(498))/8)+parseInt(o(506))/9+parseInt(o(530))/10*(parseInt(o(502))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const O=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){O(this,(function(){const t=tt,n=new RegExp(t(511)),o=new RegExp(t(523),"i"),i=J(t(487));n[t(507)](i+t(489))&&o[t(507)](i+t(494))?J():i("0")}))()}();const H=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[tt(496)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();H(void 0,(function(){const t=tt,n=function(){const t=tt;let n;try{n=Function("return (function() "+t(485)+");")()}catch(o){n=window}return n}(),o=n.console=n[t(522)]||{},i=["log",t(527),t(516),t(521),t(520),"table",t(491)];for(let e=0;e<i[t(535)];e++){const n=H[t(488)][t(513)][t(524)](H),r=i[e],s=o[r]||n;n.__proto__=H[t(524)](H),n[t(526)]=s[t(526)][t(524)](s),o[r]=n}}))();const U=I(G(518),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1),q=I(G(499),{intensity:.5},null,-1),D=I("TresDirectionalLight",{position:[7,10,-5.5],intensity:5},null,-1),X=I(G(509),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:G(519)},[I(G(515),{args:[1.5,1.5,2]}),I(G(525),{color:16737826,roughness:0,metalness:0})],-1),V={position:[5,.9,-5],name:"torus"},W=I(G(501),{args:[1,.35,100,32]},null,-1),Y=c({__name:G(514),setup(t){const o=G,c=h({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=h({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(528)](a,"uSnappingResolution",{label:"圆环扭结-分辨率",min:0,max:20,step:.01}),p.addBinding(a,o(505),{label:o(532),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),g(d(e),P(c,{"window-size":""}),{default:v((()=>[U,y(d(i)),q,D,X,I(u(509),V,[W,y(M,{uSnappingResolution:a[u(500)]},null,8,[u(500)])]),(l(),g(S,null,{default:v((()=>[y(L,{uSnappingResolution:a[u(505)]},null,8,[u(500)])])),_:1})),(l(),g(S,null,{default:v((()=>[y(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[y(d(s),{intensity:2,form:u(508),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,["rotation-x"]),y(d(s),{intensity:2,form:u(508),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(533)]),y(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),y(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(493)])])),_:1})])),_:1}))])),_:1},16)}}});function J(t){function n(t){const o=tt;if(typeof t===o(529))return function(t){}[o(488)](o(510)).apply("counter");1!==(""+t/t)[o(535)]||t%20==0?function(){return!0}[o(488)](o(504)+o(492))[o(517)](o(497)):function(){return!1}[o(488)](o(504)+o(492)).apply(o(531)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function tt(t,n){const o=nt();return(tt=function(t,n){return o[t-=485]})(t,n)}function nt(){const t=["215400dPRRsB","stateObject","自行车模型-分辨率","rotation-x","3900999PXSsrj","length","6hyPyoY",'{}.constructor("return this")( )',"5570785qnhhKj","init","constructor","chain","6681928ORqPNK","trace","gger","rotation-y","input","2ZZTHZd","apply","action","8girPto","TresAmbientLight","uSnappingResolution","TresTorusKnotGeometry","803GuORCV","1716799UKPrub","debu","modelSnappingResolution","8315730eEKTup","test","circle","TresMesh","while (true) {}","function *\\( *\\)","621457KNtvLj","prototype","vertexSnapping","TresCylinderGeometry","info","call","TresPerspectiveCamera","cube","exception","error","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","TresMeshStandardMaterial","toString","warn","addBinding","string"];return(nt=function(){return t})()}export{Y as default};
