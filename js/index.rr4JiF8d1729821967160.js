var n=Object.defineProperty,t=Object.defineProperties,e=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,e,r)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c=(n,t)=>{for(var e in t||(t={}))o.call(t,e)&&a(n,e,t[e]);if(r)for(var e of r(t))i.call(t,e)&&a(n,e,t[e]);return n};import{an as s,q as u,s as l,aR as f,aS as p,aT as d,H as h,aO as v,aP as m,A as g,bb as _,C as y,a0 as x,W as I,n as b,o as S,c4 as w,c5 as M,K as A,f as R,V as E,g as T,_ as D,bT as P,m as z,ba as C,k as F,bz as O,d as B,aj as k,B as j,a as U,aN as N,e as L,M as H,at as Z,a9 as G}from"./three.x4oqFJNT1729821967160.js";import{p as W,N as $,U as V}from"./@tresjs.QjD7q5YC1729821967160.js";import{R as Y}from"./three-stdlib.7oc1T0_b1729821967160.js";import{x as q,b as X,w as K,a as J,u as Q,d as nn,V as tn,a4 as en,o as rn,E as on,H as an,J as cn,a0 as sn,a7 as un,a3 as ln,q as fn,f as pn,L as dn,a8 as hn,r as vn,N as mn,Y as gn,t as _n,F as yn,a6 as xn,m as In}from"./@vue.JNsx1iN61729821967160.js";import{M as bn,a as Sn,C as wn}from"./@pmndrs.Bb7jBcbP1729821967160.js";import{o as Mn}from"./object-hash.nNsVfdic1729821967160.js";var An=Rn;function Rn(n,t){var e=zn();return(Rn=function(n,t){return e[n-=353]})(n,t)}!function(n,t){for(var e=Rn,r=zn();;)try{if(213565===-parseInt(e(378))/1*(parseInt(e(374))/2)+parseInt(e(383))/3*(parseInt(e(379))/4)+-parseInt(e(390))/5+-parseInt(e(385))/6+parseInt(e(384))/7*(-parseInt(e(362))/8)+-parseInt(e(360))/9*(-parseInt(e(359))/10)+-parseInt(e(357))/11*(-parseInt(e(393))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var En=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){En(this,(function(){var n=Rn,t=new RegExp(n(353)),e=new RegExp(n(394),"i"),r=Cn(n(366));t[n(387)](r+n(355))&&e.test(r+n(363))?Cn():r("0")}))()}();var Tn=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[Rn(371)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Tn(void 0,(function(){for(var n=Rn,t=function(){var n,t=Rn;try{n=Function(t(389)+t(380)+");")()}catch(e){n=window}return n}(),e=t[n(354)]=t[n(354)]||{},r=[n(367),n(365),n(382),n(377),n(388),n(381),n(356)],o=0;o<r[n(398)];o++){var i=Tn[n(396)][n(361)][n(370)](Tn),a=r[o],c=e[a]||i;i[n(364)]=Tn[n(370)](Tn),i[n(373)]=c.toString[n(370)](c),e[a]=i}}))();class Dn extends s{constructor(){super(),this.virtualScene=null,this.virtualScene=new u}[An(368)](...n){var t=An;return this.virtualScene[t(368)](...n),this}destructor(){var n=An;this.virtualScene.traverse((n=>{var t=Rn;n instanceof l&&(n.geometry[t(391)](),n[t(397)][t(391)](),n[t(397)].map&&n.material[t(386)][t(391)](),this[t(372)].remove(n))})),this[n(372)]=null}}const Pn=Dn;function zn(){var n=["virtualScene","toString","2764OGYkbG","gger","counter","error","134ciflZJ","4EGUIQu",'{}.constructor("return this")( )',"table","info","260142abUaiF","7WcVAYU","1160274EhuiGb","map","test","exception","return (function() ","1461210MpDIDX","dispose","stateObject","10042572iYGOAL","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","constructor","material","length","function *\\( *\\)","console","chain","trace","11QAkCut","call","330630XtgRje","54gZXMel","prototype","1900792pgFosy","input","__proto__","warn","init","log","add","debu","bind","apply"];return(zn=function(){return n})()}function Cn(n){function t(n){var e=Rn;if(typeof n===e(395))return function(n){}[e(396)]("while (true) {}").apply(e(376));1!==(""+n/n)[e(398)]||n%20==0?function(){return!0}[e(396)]("debu"+e(375))[e(358)]("action"):function(){return!1}[e(396)](e(369)+"gger")[e(371)](e(392)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Fn=jn;function On(){const n=["784Cimqpl","string","error","city/modern_buildings_2_1k.hdr","table","toString","indoor/abandoned_games_room_02_1k.hdr","apply","action","outdoor/outdoor_umbrellas_1k.hdr","venice/venice_sunset_1k.hdr","stateObject","init","6193GhEbBe","outood/mossy_forest_1k.hdr","2557penMau","length","info","91343mtEqAV","prototype","city/canary_wharf_1k.hdr","outdoor/snowy_forest_path_01_1k.hdr","function *\\( *\\)","bind","city/shanghai_bund_1k.hdr","indoor/small_hangar_01_1k.hdr","outdoor/satara_night_1k.hdr","__proto__","3916240ZFDRpS","9003foHdnX","studio/poly_haven_studio_1k.hdr","600vkyAYF","kiara/kiara_1_dawn_1k.hdr","210mBOKCh","while (true) {}","console","gger",'{}.constructor("return this")( )',"237249DCRsYj","input","counter","call","log","warn","1536qcLoYY","21876xklIVR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","7239552cinqCl"];return(On=function(){return n})()}!function(n,t){const e=jn,r=On();for(;;)try{if(670795===parseInt(e(419))/1*(parseInt(e(404))/2)+-parseInt(e(384))/3*(-parseInt(e(399))/4)+-parseInt(e(383))/5+-parseInt(e(403))/6+-parseInt(e(422))/7*(-parseInt(e(386))/8)+parseInt(e(393))/9*(parseInt(e(388))/10)+parseInt(e(417))/11*(-parseInt(e(400))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Bn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[jn(411)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Bn(this,(function(){const n=jn,t=new RegExp(n(377)),e=new RegExp(n(401),"i"),r=Nn(n(416));t.test(r+"chain")&&e.test(r+n(394))?Nn():r("0")}))()}();const kn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[jn(411)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function jn(n,t){const e=On();return(jn=function(n,t){return e[n-=376]})(n,t)}kn(void 0,(function(){const n=jn,t=function(){const n=jn;let t;try{t=Function("return (function() "+n(392)+");")()}catch(e){t=window}return t}(),e=t[n(390)]=t[n(390)]||{},r=[n(397),n(398),n(421),n(406),"exception",n(408),"trace"];for(let o=0;o<r.length;o++){const t=kn.constructor[n(423)][n(378)](kn),i=r[o],a=e[i]||t;t[n(382)]=kn[n(378)](kn),t[n(409)]=a[n(409)][n(378)](a),e[i]=t}}))();const Un={sunset:Fn(414),studio:Fn(385),city:Fn(424),umbrellas:Fn(413),night:Fn(381),forest:Fn(418),snow:Fn(376),dawn:Fn(387),hangar:Fn(380),urban:Fn(410),modern:Fn(407),shangai:Fn(379)};function Nn(n){function t(n){const e=jn;if(typeof n===e(405))return function(n){}.constructor(e(389)).apply(e(395));1!==(""+n/n)[e(420)]||n%20==0?function(){return!0}[e(402)]("debu"+e(391))[e(396)](e(412)):function(){return!1}[e(402)]("debu"+e(391))[e(411)](e(415)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Ln=$n;!function(n,t){const e=$n,r=Gn();for(;;)try{if(328250===-parseInt(e(466))/1+-parseInt(e(441))/2*(-parseInt(e(480))/3)+parseInt(e(443))/4*(parseInt(e(451))/5)+parseInt(e(454))/6*(parseInt(e(456))/7)+-parseInt(e(473))/8+parseInt(e(479))/9+parseInt(e(450))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Hn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$n(477)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Hn(this,(function(){const n=$n,t=new RegExp(n(488)),e=new RegExp(n(487),"i"),r=Vn("init");t[n(447)](r+"chain")&&e[n(447)](r+n(449))?Vn():r("0")}))()}();const Zn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[$n(477)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Gn(){const n=["exception","428574zyXzlQ","return (function() ","63ToxnJB","length",'{}.constructor("return this")( )',"gger","debu","texture","error","https://raw.githubusercontent.com/Tresjs/assets/main/textures/hdr/","log","value","363073uCTEZj","constructor","toString","trace","__proto__","isColor","setPath","5154176PcxNtM","table","Preset must be one of: ","Failed to load environment map: ","apply","console","2891664WkMcpy","144PhuGxk","action","join","info","prototype","bind","keys","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","4926lIbOnA","warn","19408SaluUe","environment","mapping","background","test","isArray","input","203180CzYoip","240orPBbB","call"];return(Gn=function(){return n})()}Zn(void 0,(function(){const n=$n;let t;try{t=Function(n(455)+n(458)+");")()}catch(o){t=window}const e=t[n(478)]=t.console||{},r=[n(464),n(442),n(483),n(462),n(453),n(474),n(469)];for(let i=0;i<r[n(457)];i++){const t=Zn[n(467)][n(484)][n(485)](Zn),o=r[i],a=e[o]||t;t[n(470)]=Zn[n(485)](Zn),t[n(468)]=a.toString[n(485)](a),e[o]=t}}))();const Wn=Ln(463);function $n(n,t){const e=Gn();return($n=function(n,t){return e[n-=441]})(n,t)}function Vn(n){function t(n){const e=$n;if("string"==typeof n)return function(n){}[e(467)]("while (true) {}")[e(477)]("counter");1!==(""+n/n)[e(457)]||n%20==0?function(){return!0}[e(467)](e(460)+e(459))[e(452)](e(481)):function(){return!1}[e(467)](e(460)+e(459))[e(477)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Yn=Kn;!function(n,t){const e=Kn,r=Jn();for(;;)try{if(726319===parseInt(e(316))/1+-parseInt(e(337))/2*(parseInt(e(321))/3)+-parseInt(e(339))/4+-parseInt(e(344))/5+parseInt(e(340))/6+-parseInt(e(332))/7*(parseInt(e(320))/8)+parseInt(e(365))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const qn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){qn(this,(function(){const n=Kn,t=new RegExp(n(317)),e=new RegExp(n(364),"i"),r=nt(n(314));t[n(354)](r+"chain")&&e[n(354)](r+n(352))?nt():r("0")}))()}();const Xn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Kn(342)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Kn(n,t){const e=Jn();return(Kn=function(n,t){return e[n-=313]})(n,t)}function Jn(){const n=["debu","stateObject","8edgKOM","9SeLNaq","envSence","near","error","__proto__","constructor","useDefaultScene","call","counter","minFilter","resolution","8515829MlLNFH","generateMipmaps","info","table","texture","876974SCIXZJ","gger","3744228ZmFiuM","8509266mfwihd","type","apply","length","517110PacLXH","background","frames","action","TresEnvSence","virtualScene","log","toString","input","console","test","while (true) {}","value","bind","symbol","environment","warn","trace","update","component","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","15511626roDBRv","string","dispose","init","default","1156081AxvPCu","function *\\( *\\)"];return(Jn=function(){return n})()}Xn(void 0,(function(){const n=Kn;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(353)]=t[n(353)]||{},r=[n(350),n(360),n(334),n(324),"exception",n(335),n(361)];for(let i=0;i<r[n(343)];i++){const t=Xn[n(326)].prototype[n(357)](Xn),o=r[i],a=e[o]||t;t[n(325)]=Xn.bind(Xn),t.toString=a[n(351)].bind(a),e[o]=t}}))();const Qn=nn({__name:Yn(363),props:{background:{type:[Boolean,String],default:!1},blur:{default:0},files:{default:[]},path:{default:""},preset:{default:void 0},resolution:{default:256},near:{default:1},far:{default:1e3},frames:{default:1/0},useDefaultScene:{type:Boolean,default:!1}},async setup(n,{expose:t}){const e=Yn;let r,o;const i=n,a=X(null);t({texture:a});const{extend:c,renderer:s,scene:u}=W();let l=null,y=X(null),x=null;const I=X(null);tn((()=>{var n,t;const e=Kn;null==(n=I[e(356)])||n.destructor(),null==(t=y[e(356)])||t[e(313)]()}));const{onBeforeLoop:b}=V();let S=1;b((()=>{const n=Kn;x&&I.value&&y.value&&(i[n(346)]===1/0||S<i[n(346)])&&(i.useDefaultScene?x[n(362)](s[n(356)],u[n(356)]):x[n(362)](s[n(356)],un(I[n(356)][n(349)])),S++)}));const w=([r,o]=en((()=>async function(n,t){const e=Ln,{scene:r,invalidate:o}=W(),{preset:i,blur:a,files:c=X([]),path:s=X(""),background:u}=q(n);K(n,(()=>{o()}));const l=X(null),h=J((()=>Array[e(448)](c.value))),v=J((()=>h[e(465)]?f:Y));return K([c,s],(async([n,t])=>{const r=e;if(n&&n[r(457)]>0&&!(null==i?void 0:i[r(465)])){try{l[r(465)]=await $(v[r(465)],h.value?[...Q(n)]:Q(n),(n=>{t&&n.setPath(Q(t))}))}catch(o){throw new Error(r(476)+o)}l[r(465)]&&(l[r(465)][r(445)]=h[r(465)]?p:d)}}),{immediate:!0}),K(l,(n=>{const t=e;r[t(465)]&&n&&(r[t(465)][t(444)]=n)}),{immediate:!0}),K([u,l],(([n,o])=>{const i=e;if(r[i(465)]){let e=(null==t?void 0:t[i(465)])?t.value[i(461)]:o,a=r[i(465)][i(446)];!(null==a?void 0:a[i(471)])&&(a=void 0),r[i(465)][i(446)]=n?e:a}}),{immediate:!0}),K((()=>null==a?void 0:a[e(465)]),(n=>{const t=e;r.value&&n&&(r[t(465)].backgroundBlurriness=n)}),{immediate:!0}),K((()=>null==i?void 0:i.value),(async n=>{const t=e;if(n&&n in Un){const e=Wn,i=Un[n];try{l[t(465)]=await $(Y,i,(n=>{e&&n[t(472)](e)}))}catch(r){throw new Error(t(476)+r)}l[t(465)]&&l[t(465)]&&(l.value[t(445)]=d),o()}else if(n&&!(n in Un))throw new Error(t(475)+Object[t(486)](Un)[t(482)](", "))}),{immediate:!0}),l}(i,y))),r=await r,o(),r),M=n=>{const t=Kn;n?(u[t(356)].environment=n.texture,i[t(345)]&&(u.value[t(345)]=n[t(336)])):(u[t(356)][t(359)]=w[t(356)],i[t(345)]&&(u.value[t(345)]=w.value))};K(w,(n=>{const t=Kn;y[t(356)]&&M(y[t(356)])}),{immediate:!0,deep:!0}),c({EnvSence:Pn});const A=()=>{var n;const t=Kn;null==(n=y[t(356)])||n[t(313)](),y[t(356)]=new v(i[t(331)]),x=new m(i[t(323)],i.far,y[t(356)]),i[t(327)]?(y[t(356)][t(336)][t(341)]=g,y[t(356)][t(336)][t(333)]=!1,y[t(356)][t(336)][t(330)]=_,y[t(356)][t(336)].magFilter=_):y[t(356)][t(336)][t(341)]=h,M(y[t(356)])};return K((()=>sn().default),(n=>{var t,e;const r=Kn;n&&(!y[r(356)]||y[r(356)][r(336)][r(341)]!==h)&&(l=n(),Array.isArray(l)&&l[r(343)]>0&&typeof(null==(t=l[0])?void 0:t[r(341)])!==r(358))?A():(null==(e=y[r(356)])||e[r(313)](),y.value=null,M(null))}),{immediate:!0,deep:!0}),a.value=w,K((()=>i[e(327)]),(n=>{y[e(356)]&&A()})),(n,t)=>{const r=e;return Q(y)?(rn(),on(r(348),{key:0,ref_key:r(322),ref:I},[an(n.$slots,r(315))],512)):cn("",!0)}}});function nt(n){function t(n){const e=Kn;if(typeof n===e(366))return function(n){}[e(326)](e(355))[e(342)](e(329));1!==(""+n/n)[e(343)]||n%20==0?function(){return!0}.constructor(e(318)+"gger")[e(328)](e(347)):function(){return!1}[e(326)](e(318)+e(338))[e(342)](e(319)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function tt(){const n=["exception","TresMeshBasicMaterial","needsUpdate","4473858gbbSga","14ooRAuv","call","error","multiplyScalar","test","rect","action","apply","counter","value","2027245IjMdeW","toneMapped","bind","642985MflGsI","table",'{}.constructor("return this")( )',"2056995CxxPul","10KIeMPj","27HdDlio","return (function() ","side","warn","__proto__","string","2440632jyGpAc","5FWbAIC","from","108197KaruPA","length","debu","info","index","TresRingGeometry","while (true) {}","2484464oZkuRU","init","toString","log","input","console","intensity","map","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","color"];return(tt=function(){return n})()}const et=lt;!function(n,t){const e=lt,r=tt();for(;;)try{if(628563===parseInt(e(465))/1*(-parseInt(e(438))/2)+parseInt(e(454))/3+parseInt(e(462))/4+parseInt(e(463))/5*(parseInt(e(437))/6)+parseInt(e(451))/7+parseInt(e(472))/8*(-parseInt(e(456))/9)+parseInt(e(455))/10*(parseInt(e(448))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const rt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[lt(445)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){rt(this,(function(){const n=lt,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(431),"i"),r=ft(n(473));t[n(442)](r+"chain")&&e[n(442)](r+n(476))?ft():r("0")}))()}();const ot=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[lt(445)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();ot(void 0,(function(){const n=lt;let t;try{t=Function(n(457)+n(453)+");")()}catch(o){t=window}const e=t[n(477)]=t[n(477)]||{},r=[n(475),n(459),n(468),n(440),n(434),n(452),"trace"];for(let i=0;i<r[n(466)];i++){const t=ot[n(430)][n(432)][n(450)](ot),o=r[i],a=e[o]||t;t[n(460)]=ot[n(450)](ot),t[n(474)]=a[n(474)].bind(a),e[o]=t}}))();const it={key:0,args:[0,1,64]},at={key:1,args:[.5,1,64]},ct={key:2},st=[et(449),"map",et(458),et(433)],ut=nn({__name:et(469),props:{args:{default:null},from:{default:et(443)},toneMapped:{type:Boolean,default:!1},map:{default:null},intensity:{default:1},color:{default:new y(16777215)}},setup(n){const t=et,e=n,r=X();return ln((()=>{const n=lt;r[n(447)]&&(r[n(447)][n(433)].multiplyScalar(e[n(428)]),r[n(447)][n(436)]=!0)})),K((()=>e[t(433)]),(n=>{const o=t;r[o(447)]&&(r.value[o(433)].set(n),r[o(447)][o(433)][o(441)](e[o(428)]),r.value.needsUpdate=!0)})),fn((()=>{})),(n,o)=>{const i=t;return rn(),on("TresMesh",null,["circle"===e.from?(rn(),on("TresRingGeometry",it)):"ring"===e[i(464)]?(rn(),on(i(470),at)):e.from===i(443)?(rn(),on("TresPlaneGeometry",ct)):(rn(),pn(e.from,{key:3,args:e})),dn(i(435),{ref_key:"material",ref:r,toneMapped:n[i(449)],map:n[i(429)],side:Q(x),color:n[i(433)]},null,8,st)])}}});function lt(n,t){const e=tt();return(lt=function(n,t){return e[n-=428]})(n,t)}function ft(n){function t(n){const e=lt;if(typeof n===e(461))return function(n){}[e(430)](e(471))[e(445)](e(446));1!==(""+n/n)[e(466)]||n%20==0?function(){return!0}[e(430)]("debugger")[e(439)](e(444)):function(){return!1}[e(430)](e(467)+"gger")[e(445)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=vt,r=gt();for(;;)try{if(922908===parseInt(e(303))/1*(parseInt(e(267))/2)+parseInt(e(299))/3+parseInt(e(285))/4*(parseInt(e(298))/5)+-parseInt(e(273))/6+parseInt(e(291))/7*(-parseInt(e(279))/8)+-parseInt(e(304))/9*(-parseInt(e(308))/10)+-parseInt(e(283))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const pt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[vt(269)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){pt(this,(function(){const n=vt,t=new RegExp(n(271)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=mt(n(288));t[n(276)](r+"chain")&&e[n(276)](r+"input")?mt():r("0")}))()}();const dt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[vt(269)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function ht(n){const t=X(null),{height:e,width:r,settings:o,depth:i,isLoop:a}=hn(n)?q(n):q(vn(n)),{onLoop:s}=V(),{camera:u,renderer:l,scene:f,sizes:p}=W();return ln((()=>{var n;const a=vt;null==(n=t[a(287)])||n[a(293)](),t[a(287)]=new I((null==r?void 0:r[a(287)])||p[a(306)].value,(null==e?void 0:e[a(287)])||p[a(302)][a(287)],c({minFilter:b,magFilter:b,type:h},null==o?void 0:o[a(287)])),(null==i?void 0:i[a(287)])&&(t[a(287)][a(268)]=new S((null==r?void 0:r.value)||p[a(306)][a(287)],(null==e?void 0:e[a(287)])||p[a(302)][a(287)]),t[a(287)][a(268)][a(296)]=w,t[a(287)][a(268)][a(290)]=M)})),s((()=>{const n=vt;(null==a?void 0:a[n(287)])&&(l[n(287)].setRenderTarget(un(t[n(287)])),l[n(287)][n(292)](),l[n(287)][n(289)](un(f[n(287)]),un(u[n(287)])),l[n(287)][n(280)](null))})),mn((()=>{var n;const e=vt;null==(n=t[e(287)])||n[e(293)]()})),t}function vt(n,t){const e=gt();return(vt=function(n,t){return e[n-=267]})(n,t)}function mt(n){function t(n){const e=vt;if(typeof n===e(301))return function(n){}[e(294)](e(282))[e(269)]("counter");1!==(""+n/n)[e(275)]||n%20==0?function(){return!0}.constructor(e(300)+e(278))[e(297)](e(272)):function(){return!1}[e(294)](e(300)+e(278))[e(269)](e(286)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function gt(){const n=["18410QUAUBi","5314MsaMVz","depthTexture","apply","prototype","function *\\( *\\)","action","5283888chWYlB","info","length","test","table","gger","16sEJHJA","setRenderTarget","toString","while (true) {}","21134597PBouYc","bind","740WagXsF","stateObject","value","init","render","type","943922dbLPNP","clear","dispose","constructor",'{}.constructor("return this")( )',"format","call","3635QTFADc","2925984vkZfZU","debu","string","height","503HTUdcv","7569xViocm","console","width","error"];return(gt=function(){return n})()}dt(void 0,(function(){const n=vt;let t;try{t=Function("return (function() "+n(295)+");")()}catch(o){t=window}const e=t[n(305)]=t[n(305)]||{},r=["log","warn",n(274),n(307),"exception",n(277),"trace"];for(let i=0;i<r.length;i++){const t=dt[n(294)][n(270)][n(284)](dt),o=r[i],a=e[o]||t;t.__proto__=dt.bind(dt),t[n(281)]=a[n(281)].bind(a),e[o]=t}}))();const _t=bt;!function(n,t){const e=bt,r=St();for(;;)try{if(509207===-parseInt(e(445))/1+parseInt(e(488))/2*(-parseInt(e(484))/3)+-parseInt(e(465))/4*(parseInt(e(495))/5)+-parseInt(e(476))/6*(-parseInt(e(492))/7)+parseInt(e(486))/8+parseInt(e(491))/9*(parseInt(e(489))/10)+parseInt(e(467))/11*(parseInt(e(474))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const yt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){yt(this,(function(){const n=bt,t=new RegExp(n(477)),e=new RegExp(n(446),"i"),r=Mt(n(458));t[n(494)](r+n(455))&&e[n(494)](r+n(456))?Mt():r("0")}))()}();const xt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[bt(451)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();xt(void 0,(function(){const n=bt;let t;try{t=Function(n(443)+n(461)+");")()}catch(o){t=window}const e=t.console=t.console||{},r=["log",n(444),n(481),n(497),"exception",n(475),n(478)];for(let i=0;i<r[n(447)];i++){const t=xt[n(483)][n(453)][n(449)](xt),o=r[i],a=e[o]||t;t[n(454)]=xt[n(449)](xt),t[n(450)]=a.toString[n(449)](a),e[o]=t}}))();const It=[_t(480),_t(459)];function bt(n,t){const e=St();return(bt=function(n,t){return e[n-=441]})(n,t)}function St(){const n=["return (function() ","warn","863399swnfYE","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","texture","bind","toString","apply","thickness","prototype","__proto__","chain","input","debu","init","side","render",'{}.constructor("return this")( )',"TresMeshTransmissionMaterial","fboResolution","action","4Elbitb","MeshTransmissionMaterialClass","670813JxYYAy","call","uuid","value","envMapIntensity","toneMapping","time","324VUdKws","table","72sDMRds","function *\\( *\\)","trace","backsideThickness","buffer","info","background","constructor","211197PIJzrN","material","1753560lufMaO","string","22xVMSTj","468320ZADhzs","backside","117EttLka","226191noihJU","setRenderTarget","test","3576565ggNAMO","traverse","error","counter","index","gger"];return(St=function(){return n})()}const wt=nn({__name:_t(441),props:{backside:{type:Boolean,default:!0},thickness:{default:1},backsideThickness:{default:.5},fboResolution:{default:256}},setup(n,{expose:t}){const e=_t,r=gn(),{extend:o,scene:i,renderer:a,camera:c}=W(),s=gn(),u=n;o({MeshTransmissionMaterial:bn});const l=new Sn,{onBeforeLoop:f}=V(),p=ht({width:u[e(463)],height:u[e(463)],isLoop:!1}),d=ht({width:u[e(463)],height:u[e(463)],isLoop:!1});let h,v,m,g;return fn((async()=>{const n=e;await _n(),s.value=function(n,t){const e=bt;let r;return n[e(496)]((n=>{const o=e;n.isMesh&&n.material&&n[o(485)].uuid===t&&(r=n)})),r}(i.value,r[n(470)][n(469)])})),f((({elapsed:n})=>{const t=e;r[t(470)][t(473)]=n,r[t(470)].buffer===d[t(470)][t(448)]&&s[t(470)]&&(m=a[t(470)].toneMapping,h=i[t(470)][t(482)],v=r[t(470)].envMapIntensity,g=s[t(470)][t(485)][t(459)],s[t(470)][t(485)]=l,u[t(490)]&&(a[t(470)][t(493)](p[t(470)]),a[t(470)][t(460)](i.value,c[t(470)]),s[t(470)][t(485)]=r[t(470)],s[t(470)].material.thickness=u[t(479)],s[t(470)].material[t(480)]=p[t(470)][t(448)],s.value.material[t(459)]=A,s.value[t(485)][t(471)]=0),a[t(470)][t(493)](d[t(470)]),a[t(470)].render(i[t(470)],c.value),s[t(470)].material[t(480)]=d[t(470)][t(448)],s[t(470)][t(485)]=r.value,s[t(470)][t(485)][t(452)]=u[t(452)],s[t(470)][t(485)][t(459)]=g,s[t(470)].material[t(471)]=v,i[t(470)][t(482)]=h,a[t(470)][t(493)](null),a[t(470)][t(472)]=m)})),t({root:r,constructor:bn}),(n,t)=>{const o=e;return rn(),on(o(462),{ref_key:o(466),ref:r,buffer:Q(d)[o(448)],side:Q(x)},null,8,It)}}});function Mt(n){function t(n){const e=bt;if(typeof n===e(487))return function(n){}[e(483)]("while (true) {}").apply(e(498));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(457)+e(442))[e(468)](e(464)):function(){return!1}[e(483)](e(457)+e(442))[e(451)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const At=Tt;!function(n,t){const e=Tt,r=zt();for(;;)try{if(507803===parseInt(e(348))/1*(parseInt(e(319))/2)+-parseInt(e(363))/3*(parseInt(e(340))/4)+-parseInt(e(315))/5+-parseInt(e(343))/6*(-parseInt(e(342))/7)+-parseInt(e(362))/8+-parseInt(e(353))/9+parseInt(e(346))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Rt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Tt(327)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Rt(this,(function(){const n=Tt,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Pt(n(347));t[n(344)](r+n(332))&&e.test(r+"input")?Pt():r("0")}))()}();const Et=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Tt(327)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Tt(n,t){const e=zt();return(Tt=function(n,t){return e[n-=312]})(n,t)}Et(void 0,(function(){const n=Tt;let t;try{t=Function(n(326)+n(328)+");")()}catch(o){t=window}const e=t[n(317)]=t[n(317)]||{},r=["log",n(349),"info","error",n(320),n(360),n(352)];for(let i=0;i<r[n(338)];i++){const t=Et[n(361)][n(337)][n(333)](Et),o=r[i],a=e[o]||t;t.__proto__=Et[n(333)](Et),t.toString=a.toString[n(333)](a),e[o]=t}}))();const Dt=nn({__name:At(355),props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(n){const t=n,e=X(null),r=X(null),o=X(null);return fn((()=>{const n=Tt;if(!r[n(364)])return;if(!o[n(364)])return;r.value.matrixWorld[n(351)]();const e=(new R).setFromObject(o[n(364)],t[n(336)]),i=new E,a=new T,c=e.max.x-e[n(359)].x,s=e[n(312)].y-e[n(359)].y,u=e[n(312)].z-e[n(359)].z;e[n(325)](i),e[n(356)](a);const l=t[n(321)]?s/2:t[n(324)]?-s/2:0,f=t[n(358)]?-c/2:t[n(357)]?c/2:0,p=t[n(341)]?u/2:t[n(350)]?-u/2:0;r.value[n(339)][n(345)](t[n(313)]||t[n(334)]?0:-i.x+f,t[n(313)]||t.disableY?0:-i.y+l,t[n(313)]||t[n(316)]?0:-i.z+p)})),(n,t)=>{const i=Tt;return rn(),on("TresGroup",{ref_key:i(330),ref:e},[dn("TresGroup",{ref_key:i(335),ref:r},[dn(i(318),{ref_key:i(329),ref:o},[an(n.$slots,i(331))],512)],512)],512)}}});function Pt(n){function t(n){const e=Tt;if(typeof n===e(323))return function(n){}.constructor("while (true) {}")[e(327)](e(322));1!==(""+n/n)[e(338)]||n%20==0?function(){return!0}.constructor("debu"+e(354)).call("action"):function(){return!1}[e(361)]("debu"+e(354))[e(327)](e(314)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function zt(){const n=["init","777061GFDEqH","warn","back","identity","trace","9140247epIOMP","gger","index","getBoundingSphere","right","left","min","table","constructor","4896304AWnaKz","15903XAHYYy","value","max","disable","stateObject","817530RtfXrH","disableZ","console","TresGroup","2AfooVG","exception","top","counter","string","bottom","getCenter","return (function() ","apply",'{}.constructor("return this")( )',"inner","gref","default","chain","bind","disableX","outer","precise","prototype","length","position","700snBSZm","front","7DqXEMV","1225002STRaap","test","set","22453770IjRSlP"];return(zt=function(){return n})()}const Ct=kt;!function(n,t){const e=kt,r=Bt();for(;;)try{if(869456===parseInt(e(496))/1+parseInt(e(463))/2+-parseInt(e(492))/3*(-parseInt(e(473))/4)+parseInt(e(499))/5*(parseInt(e(461))/6)+parseInt(e(502))/7*(parseInt(e(498))/8)+parseInt(e(480))/9+-parseInt(e(507))/10*(parseInt(e(476))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Ft=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[kt(460)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Ft(this,(function(){const n=kt,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(504),"i"),r=Lt("init");t[n(487)](r+n(489))&&e.test(r+n(465))?Lt():r("0")}))()}();const Ot=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[kt(460)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Bt(){const n=["input","action","exception","log","table","resolution","__proto__","params","20KuSlKG","Vector3","prototype","11byLKXY","string","helper","causticsOnly","931356eIgvYn","debu","backside","bind","primitive","add","counter","test","intensity","chain","toString","far","581001lsgkGb","#ffffff","worldRadius","color","748863zhZXMs","backsideIOR","8ykWWGl","106715guhSCX","lightSource","index","8531411mFqDrR","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","info","29821930ytTILD","ior","while (true) {}","gger","scene","value","console","constructor","group","set","$slots","length","apply","138fAbdkI","return (function() ","642610dvhaoo","object"];return(Bt=function(){return n})()}function kt(n,t){const e=Bt();return(kt=function(n,t){return e[n-=458]})(n,t)}Ot(void 0,(function(){const n=kt;let t;try{t=Function(n(462)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(513)]=t.console||{},r=[n(468),"warn",n(506),"error",n(467),n(469),n(505)];for(let i=0;i<r.length;i++){const t=Ot.constructor[n(475)][n(483)](Ot),o=r[i],a=e[o]||t;t[n(471)]=Ot[n(483)](Ot),t[n(490)]=a.toString.bind(a),e[o]=t}}))();const jt=[Ct(464)],Ut=[Ct(464)],Nt=nn({__name:Ct(501),props:{color:{default:Ct(493)},ior:{default:1.1},backsideIOR:{default:1.1},far:{default:15},worldRadius:{default:.3},intensity:{default:.05},causticsOnly:{type:Boolean,default:!1},lightSource:{default:{x:1,y:1,z:1}},resolution:{default:1024}},setup(n){const t=Ct,e=n,{renderer:r}=W(),o=wn(r[t(512)],{frames:1/0,resolution:e[t(470)],worldRadius:e[t(494)]});o[t(472)][t(482)]=!0;const i=gn(null);K(i,(n=>{const e=t;n&&o[e(511)][e(485)](n)}));const{onBeforeLoop:a}=V();return a((({elapsed:n})=>{o.update()})),ln((()=>{const n=t;e[n(495)]&&o[n(472)][n(495)][n(516)](e[n(495)]),e[n(508)]&&(o[n(472)][n(508)]=e.ior),e[n(497)]&&(o[n(472)][n(497)]=e[n(497)]),e[n(491)]&&(o.params[n(491)]=e[n(491)]),e[n(494)]&&(o.params[n(494)]=e.worldRadius),e[n(488)]&&(o[n(472)].intensity=e.intensity)})),K((()=>e[t(479)]),(n=>{const e=t;o[e(472)][e(479)]=n})),K((()=>e[t(500)]),(n=>{const e=t;n&&o[e(472)].lightSource instanceof D[e(474)]&&o[e(472)][e(500)][e(516)](n.x,n.y,n.z)}),{deep:!0}),(n,e)=>{const r=t;return rn(),on(yn,null,[dn("TresGroup",{ref_key:r(515),ref:i},[an(n[r(458)],"default")],512),dn(r(484),{object:Q(o).group,position:[0,.003,0]},null,8,jt),dn(r(484),{object:Q(o)[r(478)],visible:!1},null,8,Ut)],64)}}});function Lt(n){function t(n){const e=kt;if(typeof n===e(477))return function(n){}[e(514)](e(509))[e(460)](e(486));1!==(""+n/n)[e(459)]||n%20==0?function(){return!0}.constructor(e(481)+e(510)).call(e(466)):function(){return!1}[e(514)](e(481)+"gger")[e(460)](e(503)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=Gt,r=$t();for(;;)try{if(998539===-parseInt(e(247))/1*(parseInt(e(199))/2)+parseInt(e(207))/3*(-parseInt(e(240))/4)+parseInt(e(228))/5+-parseInt(e(220))/6*(-parseInt(e(229))/7)+-parseInt(e(250))/8+-parseInt(e(233))/9+-parseInt(e(230))/10*(-parseInt(e(224))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Ht=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Gt(238)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Ht(this,(function(){const n=Gt,t=new RegExp(n(205)),e=new RegExp(n(235),"i"),r=Vt(n(234));t[n(216)](r+"chain")&&e[n(216)](r+"input")?Vt():r("0")}))()}();const Zt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Gt(238)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Gt(n,t){const e=$t();return(Gt=function(n,t){return e[n-=198]})(n,t)}Zt(void 0,(function(){const n=Gt;let t;try{t=Function("return (function() "+n(227)+");")()}catch(o){t=window}const e=t[n(237)]=t.console||{},r=["log",n(242),n(203),"error",n(219),n(232),n(221)];for(let i=0;i<r[n(226)];i++){const t=Zt.constructor[n(225)].bind(Zt),o=r[i],a=e[o]||t;t.__proto__=Zt[n(213)](Zt),t.toString=a[n(202)].bind(a),e[o]=t}}))();const Wt=({focus:n=0,size:t=25,samples:e=10}={})=>{const r=Gt,o=D[r(218)][r(214)];return P[r(214)]=D[r(218)][r(214)][r(206)](r(215),"#ifdef USE_SHADOWMAP\n\n    #define PENUMBRA_FILTER_SIZE float("+t+r(217)+n+r(223)+e+r(201)+e+", angle) * texelSize) * 2.0 * PENUMBRA_FILTER_SIZE;\n        depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset));\n        if (depth < compare) {\n          blockerDepthSum += depth;\n          blockers++;\n        }\n        j++;\n      }\n      #pragma unroll_loop_end\n    \n      if (blockers > 0.0) {\n        return blockerDepthSum / blockers;\n      }\n      return -1.0;\n    }\n            \n    float vogelFilter(sampler2D shadowMap, vec2 uv, float zReceiver, float filterRadius, float angle) {\n      float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\n      float shadow = 0.0f;\n      int j = 0;\n      vec2 vogelSample = vec2(0.0);\n      vec2 offset = vec2(0.0);\n      #pragma unroll_loop_start\n      for (int i = 0; i < "+e+"; i++) {\n        vogelSample = vogelDiskSample(j, "+e+r(209)+t+r(204)+e+r(245)).replace(r(244),"\nreturn PCSS(shadowMap, shadowCoord);\n#if defined( SHADOWMAP_TYPE_PCF )"),(n,t,e)=>{P[r(214)]=o,function(n,t,e){const r=Gt;t[r(231)]((t=>{const e=r;t[e(212)]&&(Array.isArray(t.material)?t.material[e(200)]((t=>{const r=e;n[r(251)][r(210)](t),t[r(243)]()})):(n[e(251)][e(210)](t.material),t[e(212)][e(243)]()))})),n[r(203)].programs.length=0,n[r(222)](t,e)}(n,t,e)}};function $t(){const n=["table","11491722EFAvkJ","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","console","apply","while (true) {}","273532KmBdWT","call","warn","dispose","#if defined( SHADOWMAP_TYPE_PCF )",".0;\n    }\n    \n    float PCSS (sampler2D shadowMap, vec4 coords) {\n      vec2 uv = coords.xy;\n      float zReceiver = coords.z; // Assumed to be eye-space z in this code\n      float angle = highPassRandRGB(gl_FragCoord.xy).r * PI2;\n      float avgBlockerDepth = findBlocker(shadowMap, uv, zReceiver, angle);\n      if (avgBlockerDepth == -1.0) {\n        return 1.0;\n      }\n      float penumbraRatio = penumbraSize(zReceiver, avgBlockerDepth);\n      return vogelFilter(shadowMap, uv, zReceiver, 1.25 * penumbraRatio, angle);\n    }","constructor","1DdRuBO","action","counter","14340088PhHyVh","properties","gger","3191186KnQcbq","forEach","; i ++) {\n        offset = (vogelDiskSample(j, ","toString","info","));\n        shadow += step( zReceiver, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\n        j++;\n      }\n      #pragma unroll_loop_end\n      return shadow * 1.0 / ","function *\\( *\\)","replace","39iujTLz","debu",", angle) * texelSize;\n        offset = vogelSample * (1.0 + filterRadius * float(","remove","string","material","bind","shadowmap_pars_fragment","#ifdef USE_SHADOWMAP","test",")\n    #define RGB_NOISE_FUNCTION(uv) (randRGB(uv))\n    vec3 randRGB(vec2 uv) {\n      return vec3(\n        fract(sin(dot(uv, vec2(12.75613, 38.12123))) * 13234.76575),\n        fract(sin(dot(uv, vec2(19.45531, 58.46547))) * 43678.23431),\n        fract(sin(dot(uv, vec2(23.67817, 78.23121))) * 93567.23423)\n      );\n    }\n    \n    vec3 lowPassRandRGB(vec2 uv) {\n      // 3x3 convolution (average)\n      // can be implemented as separable with an extra buffer for a total of 6 samples instead of 9\n      vec3 result = vec3(0);\n      result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, -1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(-1.0,  0.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(-1.0, +1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, -1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2( 0.0,  0.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2( 0.0, +1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, -1.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(+1.0,  0.0));\n      result += RGB_NOISE_FUNCTION(uv + vec2(+1.0, +1.0));\n      result *= 0.111111111; // 1.0 / 9.0\n      return result;\n    }\n    vec3 highPassRandRGB(vec2 uv) {\n      // by subtracting the low-pass signal from the original signal, we're being left with the high-pass signal\n      // hp(x) = x - lp(x)\n      return RGB_NOISE_FUNCTION(uv) - lowPassRandRGB(uv) + 0.5;\n    }\n    \n    \n    vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\n      const float goldenAngle = 2.399963f; // radians\n      float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\n      float theta = float(sampleIndex) * goldenAngle + angle;\n      float sine = sin(theta);\n      float cosine = cos(theta);\n      return vec2(cosine, sine) * r;\n    }\n    float penumbraSize( const in float zReceiver, const in float zBlocker ) { // Parallel plane estimation\n      return (zReceiver - zBlocker) / zBlocker;\n    }\n    float findBlocker(sampler2D shadowMap, vec2 uv, float compare, float angle) {\n      float texelSize = 1.0 / float(textureSize(shadowMap, 0).x);\n      float blockerDepthSum = float(","ShaderChunk","exception","18XTkYmX","trace","compile",");\n      float blockers = 0.0;\n    \n      int j = 0;\n      vec2 offset = vec2(0.);\n      float depth = 0.;\n    \n      #pragma unroll_loop_start\n      for(int i = 0; i < ","319mXmvZp","prototype","length",'{}.constructor("return this")( )',"1269820lJSMOl","3309117Hpbzjv","1682870bAScCI","traverse"];return($t=function(){return n})()}function Vt(n){function t(n){const e=Gt;if(typeof n===e(211))return function(n){}.constructor(e(239))[e(238)](e(249));1!==(""+n/n).length||n%20==0?function(){return!0}[e(246)](e(208)+e(198))[e(241)](e(248)):function(){return!1}.constructor(e(208)+e(198)).apply(e(236)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=qt,r=Xt();for(;;)try{if(724827===-parseInt(e(337))/1*(-parseInt(e(354))/2)+parseInt(e(328))/3+parseInt(e(347))/4+-parseInt(e(333))/5*(parseInt(e(334))/6)+parseInt(e(325))/7+-parseInt(e(351))/8*(parseInt(e(338))/9)+-parseInt(e(336))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Yt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function qt(n,t){const e=Xt();return(qt=function(n,t){return e[n-=319]})(n,t)}function Xt(){const n=["debu","9975150lyzIvl","104847bPsTvf","12793392ipPWfa","bind","prototype",'{}.constructor("return this")( )',"exception","string","value","__proto__","error","3610816hdjiKw","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","8dOMXUY","length","apply","18FAITcB","info","chain","toString","constructor","init","dispose","test","console","gger","call","8552523BUBcjA","table","log","582588hgyOib","function *\\( *\\)","material","return (function() ","warn","6370ZkTEKM","558cWCppf"];return(Xt=function(){return n})()}!function(){Yt(this,(function(){const n=qt,t=new RegExp(n(329)),e=new RegExp(n(349),"i"),r=Qt(n(319));t[n(321)](r+n(356))&&e.test(r+"input")?Qt():r("0")}))()}();const Kt=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[qt(353)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Kt(void 0,(function(){const n=qt;let t;try{t=Function(n(331)+n(341)+");")()}catch(o){t=window}const e=t.console=t[n(322)]||{},r=[n(327),n(332),n(355),n(346),n(342),n(326),"trace"];for(let i=0;i<r.length;i++){const t=Kt.constructor[n(340)][n(339)](Kt),o=r[i],a=e[o]||t;t[n(345)]=Kt[n(339)](Kt),t[n(357)]=a.toString[n(339)](a),e[o]=t}}))();const Jt=nn({__name:"index",props:{enabled:{type:Boolean,default:!0},size:{default:25},focus:{default:0},samples:{default:10}},setup(n){const t=n,{camera:e,renderer:r,scene:o}=W();let i=null;const a=n=>{const t=qt,{enabled:a,size:c,focus:s,samples:u}=n;i&&(i(r[t(344)],o[t(344)],e[t(344)]),i=null),a&&(i=Wt({focus:s,size:c,samples:u}),o.value.traverse((n=>{const e=t;n instanceof l&&n[e(330)][e(320)]()})))};return a(t),K(t,(()=>{a(t)})),(n,t)=>null}});function Qt(n){function t(n){const e=qt;if(typeof n===e(343))return function(n){}[e(358)]("while (true) {}")[e(353)](e(348));1!==(""+n/n)[e(352)]||n%20==0?function(){return!0}[e(358)]("debugger")[e(324)](e(350)):function(){return!1}[e(358)](e(335)+e(323))[e(353)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ne=oe;!function(n,t){const e=oe,r=re();for(;;)try{if(177927===parseInt(e(362))/1*(-parseInt(e(355))/2)+parseInt(e(352))/3+parseInt(e(338))/4+parseInt(e(350))/5+parseInt(e(324))/6+parseInt(e(337))/7*(-parseInt(e(316))/8)+parseInt(e(335))/9*(-parseInt(e(323))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const te=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[oe(344)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){te(this,(function(){const n=oe,t=new RegExp(n(328)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=ce("init");t[n(325)](r+"chain")&&e[n(325)](r+"input")?ce():r("0")}))()}();const ee=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[oe(344)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function re(){const n=["163093mgiJsv","667512KthBvt","replace","setTexelSize","gger","uniforms","trace","apply","multiplyScalar","resolution","setResolution","action","return (function() ","1496605CgxMhH","stateObject","1000824ugQLus","call","while (true) {}","98506LTLndm","constructor","__proto__","set","log","bind","exception","1jQhLFv","40zAOHFp","console","toString","toneMapped","halfTexelSize","value","counter","4550qwnEhI","1576608lTmLYr","test","texelSize","uniform vec2 texelSize;\n        uniform vec2 halfTexelSize;\n        uniform float kernel;\n        uniform float scale;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          vec2 uv = position.xy * 0.5 + 0.5;\n          vUv = uv;\n\n          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;\n          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\n          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\n          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\n          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\n\n          gl_Position = vec4(position.xy, 1.0, 1.0);\n        }","function *\\( *\\)","colorspace_fragment","#include <common>\n        #include <dithering_pars_fragment>      \n        uniform sampler2D inputBuffer;\n        uniform sampler2D depthBuffer;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec2 vUv;\n        varying vec2 vUv0;\n        varying vec2 vUv1;\n        varying vec2 vUv2;\n        varying vec2 vUv3;\n\n        void main() {\n          float depthFactor = 0.0;\n          \n          #ifdef USE_DEPTH\n            vec4 depth = texture2D(depthBuffer, vUv);\n            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n            depthFactor *= depthScale;\n            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));\n          #endif\n          \n          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));\n          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));\n          gl_FragColor = sum * 0.25 ;\n\n          #include <dithering_fragment>\n          #include <tonemapping_fragment>\n          #include <","encodings_fragment",'{}.constructor("return this")( )',"prototype","debu","14220RGvlvK","table"];return(re=function(){return n})()}function oe(n,t){const e=re();return(oe=function(n,t){return e[n-=316]})(n,t)}ee(void 0,(function(){const n=oe;let t;try{t=Function(n(349)+n(332)+");")()}catch(o){t=window}const e=t[n(317)]=t[n(317)]||{},r=[n(359),"warn","info","error",n(361),n(336),n(343)];for(let i=0;i<r.length;i++){const t=ee[n(356)][n(333)][n(360)](ee),o=r[i],a=e[o]||t;t[n(357)]=ee[n(360)](ee),t[n(318)]=a[n(318)][n(360)](a),e[o]=t}}))();const ie=parseInt(B[ne(339)](/\D+/g,""));class ae extends z{constructor(n=new F){const t=ne;super({uniforms:{inputBuffer:new C(null),depthBuffer:new C(null),resolution:new C(new F),texelSize:new C(new F),halfTexelSize:new C(new F),kernel:new C(0),scale:new C(1),cameraNear:new C(0),cameraFar:new C(1),minDepthThreshold:new C(0),maxDepthThreshold:new C(1),depthScale:new C(0),depthToBlurRatioBias:new C(.25)},fragmentShader:t(330)+t(ie>=154?329:331)+">\n        }",vertexShader:t(327),blending:O,depthWrite:!1,depthTest:!1}),this[t(319)]=!1,this[t(340)](n.x,n.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(n,t){const e=ne;this[e(342)][e(326)][e(321)][e(358)](n,t),this[e(342)][e(320)][e(321)][e(358)](n,t)[e(345)](.5)}[ne(347)](n){const t=ne;this[t(342)][t(346)][t(321)].copy(n)}}function ce(n){function t(n){const e=oe;if("string"==typeof n)return function(n){}[e(356)](e(354))[e(344)](e(322));1!==(""+n/n).length||n%20==0?function(){return!0}[e(356)](e(334)+"gger")[e(353)](e(348)):function(){return!1}.constructor(e(334)+e(341))[e(344)](e(351)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function se(n,t){const e=de();return(se=function(n,t){return e[n-=282]})(n,t)}const ue=se;!function(n,t){const e=se,r=de();for(;;)try{if(713832===parseInt(e(329))/1*(-parseInt(e(284))/2)+parseInt(e(318))/3+-parseInt(e(295))/4+-parseInt(e(307))/5+-parseInt(e(330))/6+parseInt(e(337))/7*(parseInt(e(301))/8)+-parseInt(e(314))/9*(-parseInt(e(291))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const le=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){le(this,(function(){const n=se,t=new RegExp(n(286)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=he(n(310));t.test(r+"chain")&&e[n(304)](r+"input")?he():r("0")}))()}();const fe=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[se(341)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();fe(void 0,(function(){const n=se;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(342)]=t[n(342)]||{},r=[n(324),n(315),n(290),n(296),n(285),"table",n(331)];for(let i=0;i<r[n(292)];i++){const t=fe[n(289)][n(293)][n(339)](fe),o=r[i],a=e[o]||t;t[n(320)]=fe[n(339)](fe),t[n(317)]=a[n(317)][n(339)](a),e[o]=t}}))();class pe{constructor({resolution:n,width:t=500,height:e=500,minDepthThreshold:r=0,maxDepthThreshold:o=1,depthScale:i=0,depthToBlurRatioBias:a=.25}){const c=se;this[c(294)]=!1,this[c(299)]=new I(n,n,{minFilter:b,magFilter:b,stencilBuffer:!1,depthBuffer:!1,type:h}),this[c(297)]=this[c(299)][c(306)](),this[c(338)]=new ae,this[c(338)][c(326)](1/t,1/e),this[c(338)][c(343)](new F(t,e)),this[c(309)]=new u,this.camera=new k,this[c(338)].uniforms[c(322)][c(302)]=r,this.convolutionMaterial[c(312)][c(300)][c(302)]=o,this[c(338)].uniforms[c(282)].value=i,this[c(338)][c(312)][c(327)].value=a,this.convolutionMaterial[c(305)][c(323)]=i>0;const s=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),f=new Float32Array([0,0,2,0,0,2]),p=new j;p.setAttribute(c(316),new U(s,3)),p.setAttribute("uv",new U(f,2)),this[c(334)]=new l(p,this[c(338)]),this[c(334)][c(319)]=!1,this[c(309)][c(313)](this[c(334)])}[ue(308)](n,t,e){const r=ue,o=this[r(309)],i=this[r(321)],a=this[r(299)],c=this[r(297)],s=this.convolutionMaterial,u=s[r(312)];u[r(283)][r(302)]=t[r(328)];const l=s[r(303)];let f,p,d,h=t;for(p=0,d=l[r(292)]-1;p<d;++p)f=0==(1&p)?a:c,u[r(303)][r(302)]=l[p],u[r(335)][r(302)]=h[r(298)],n[r(336)](f),n[r(308)](o,i),h=f;u[r(303)][r(302)]=l[p],u[r(335)][r(302)]=h[r(298)],n.setRenderTarget(this[r(294)]?null:e),n[r(308)](o,i)}}function de(){const n=["depthScale","depthBuffer","2532604HdZBlR","exception","function *\\( *\\)","debu","call","constructor","info","32470cWLTyx","length","prototype","renderToScreen","1339204NeOIEd","error","renderTargetB","texture","renderTargetA","maxDepthThreshold","8DPDRqf","value","kernel","test","defines","clone","1295010QksdYn","render","scene","init","gger","uniforms","add","4635gRZdzZ","warn","position","toString","2695317ojgHcF","frustumCulled","__proto__","camera","minDepthThreshold","USE_DEPTH","log","counter","setTexelSize","depthToBlurRatioBias","depthTexture","1IbWnnB","1242150vhzzUl","trace","stateObject","action","screen","inputBuffer","setRenderTarget","1472226BboEts","convolutionMaterial","bind","string","apply","console","setResolution"];return(de=function(){return n})()}function he(n){function t(n){const e=se;if(typeof n===e(340))return function(n){}.constructor("while (true) {}")[e(341)](e(325));1!==(""+n/n)[e(292)]||n%20==0?function(){return!0}[e(289)](e(287)+e(311))[e(288)](e(333)):function(){return!1}[e(289)](e(287)+e(311)).apply(e(332)),t(++n)}try{if(n)return t;t(0)}catch(e){}}var ve=me;function me(n,t){var e=ge();return(me=function(n,t){return e[n-=469]})(n,t)}function ge(){var n=["8298534mPGygy","fragmentShader","_distortionMap","28aYxiqO","_blurStrength","value","distortionMap","307600QkqMQd","288776QTXLCS","_hasBlur",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","135KAtfUI","mixContrast","test","_tDiffuseBlur","constructor","gger","debu","25535670fDNQXF","#include <emissivemap_fragment>\n\n      float distortionFactor = 0.0;\n      #ifdef USE_DISTORTION\n        distortionFactor = texture2D(distortionMap, vUv).r * distortion;\n      #endif\n\n      vec4 new_vUv = my_vUv;\n      new_vUv.x += distortionFactor;\n      new_vUv.y += distortionFactor;\n\n      vec4 base = texture2DProj(tDiffuse, new_vUv);\n      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);\n\n      vec4 merge = base;\n\n      #ifdef USE_NORMALMAP\n        vec2 normal_uv = vec2(0.0);\n        vec4 normalColor = texture2D(normalMap, vUv * normalScale);\n        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 coord = new_vUv.xyz / new_vUv.w;\n        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;\n        vec4 base_normal = texture2D(tDiffuse, normal_uv);\n        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);\n        merge = base_normal;\n        blur = blur_normal;\n      #endif\n\n      float depthFactor = 0.0001;\n      float blurFactor = 0.0;\n\n      #ifdef USE_DEPTH\n        vec4 depth = texture2DProj(tDepth, new_vUv);\n        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));\n        depthFactor *= depthScale;\n        depthFactor = max(0.0001, min(1.0, depthFactor));\n\n        #ifdef USE_BLUR\n          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);\n          merge = merge * min(1.0, depthFactor + 0.5);\n        #else\n          merge = merge * depthFactor;\n        #endif\n\n      #endif\n\n      float reflectorRoughnessFactor = roughness;\n      #ifdef USE_ROUGHNESSMAP\n        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );\n        reflectorRoughnessFactor *= reflectorTexelRoughness.g;\n      #endif\n\n      #ifdef USE_BLUR\n        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);\n        merge = mix(merge, blur, blurFactor);\n      #endif\n\n      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);\n      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;\n      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;\n      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;\n\n      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);\n      ","_depthScale","#include <emissivemap_fragment>","9767975eMCsbH","apply","while (true) {}","_maxDepthThreshold","mixStrength","string","exception","488004PLauUn","replace","vertexShader","hasBlur","uniforms","#include <project_vertex>\n        my_vUv = textureMatrix * vec4( position, 1.0 );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","maxDepthThreshold","depthToBlurRatioBias","tDepth","_depthToBlurRatioBias","stateObject","prototype","log","table","trace","chain","mirror","59mQVfba","_mirror","counter","warn","bind","tDiffuseBlur","_minDepthThreshold","setValues","console","toString","length","_textureMatrix","minDepthThreshold","_distortion","mixBlur","tDiffuse","USE_UV","_tDiffuse","textureMatrix","distortion","17642VlqUpJ","init","_mixContrast","_tDepth","_mixBlur","depthScale"];return(ge=function(){return n})()}!function(n,t){for(var e=me,r=ge();;)try{if(831193===-parseInt(e(485))/1*(-parseInt(e(505))/2)+-parseInt(e(541))/3*(-parseInt(e(514))/4)+-parseInt(e(518))/5+-parseInt(e(511))/6+-parseInt(e(534))/7+-parseInt(e(519))/8*(parseInt(e(523))/9)+parseInt(e(530))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var _e=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[me(535)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){_e(this,(function(){var n=me,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(522),"i"),r=Ie(n(506));t[n(525)](r+n(483))&&e.test(r+"input")?Ie():r("0")}))()}();var ye=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();ye(void 0,(function(){var n,t=me;try{n=Function("return (function() "+t(521)+");")()}catch(s){n=window}for(var e=n[t(493)]=n.console||{},r=[t(480),t(488),"info","error",t(540),t(481),t(482)],o=0;o<r[t(495)];o++){var i=ye[t(527)][t(479)][t(489)](ye),a=r[o],c=e[a]||i;i.__proto__=ye.bind(ye),i[t(494)]=c[t(494)][t(489)](c),e[a]=i}}))();class xe extends N{constructor(n={}){var t=me;super(n),this._tDepth={value:null},this[t(513)]={value:null},this[t(502)]={value:null},this[t(526)]={value:null},this[t(496)]={value:null},this[t(520)]={value:!1},this[t(486)]={value:0},this[t(509)]={value:0},this[t(515)]={value:.5},this[t(491)]={value:.9},this[t(537)]={value:1},this[t(532)]={value:0},this[t(477)]={value:.25},this[t(498)]={value:1},this._mixContrast={value:1},this[t(492)](n)}onBeforeCompile(n){var t,e=me;!(null==(t=n.defines)?void 0:t[e(501)])&&(n.defines[e(501)]=""),n[e(472)].hasBlur=this[e(520)],n[e(472)][e(500)]=this[e(502)],n[e(472)][e(476)]=this[e(508)],n[e(472)].distortionMap=this[e(513)],n[e(472)][e(490)]=this[e(526)],n.uniforms[e(503)]=this._textureMatrix,n[e(472)][e(484)]=this[e(486)],n[e(472)][e(499)]=this[e(509)],n[e(472)].mixStrength=this[e(515)],n[e(472)][e(497)]=this._minDepthThreshold,n[e(472)].maxDepthThreshold=this[e(537)],n[e(472)][e(510)]=this[e(532)],n[e(472)].depthToBlurRatioBias=this[e(477)],n.uniforms.distortion=this[e(498)],n[e(472)][e(524)]=this[e(507)],n[e(470)]="\n        uniform mat4 textureMatrix;\n        varying vec4 my_vUv;\n      "+n.vertexShader,n[e(470)]=n.vertexShader[e(469)]("#include <project_vertex>",e(473)),n.fragmentShader="\n        uniform sampler2D tDiffuse;\n        uniform sampler2D tDiffuseBlur;\n        uniform sampler2D tDepth;\n        uniform sampler2D distortionMap;\n        uniform float distortion;\n        uniform float cameraNear;\n\t\t\t  uniform float cameraFar;\n        uniform bool hasBlur;\n        uniform float mixBlur;\n        uniform float mirror;\n        uniform float mixStrength;\n        uniform float minDepthThreshold;\n        uniform float maxDepthThreshold;\n        uniform float mixContrast;\n        uniform float depthScale;\n        uniform float depthToBlurRatioBias;\n        varying vec4 my_vUv;\n        "+n[e(512)],n[e(512)]=n[e(512)].replace(e(533),e(531))}get[ve(500)](){var n=ve;return this[n(502)][n(516)]}set[ve(500)](n){var t=ve;this[t(502)][t(516)]=n}get[ve(476)](){var n=ve;return this._tDepth[n(516)]}set[ve(476)](n){var t=ve;this._tDepth[t(516)]=n}get[ve(517)](){var n=ve;return this[n(513)][n(516)]}set distortionMap(n){var t=ve;this[t(513)][t(516)]=n}get[ve(490)](){return this[ve(526)].value}set[ve(490)](n){this._tDiffuseBlur.value=n}get textureMatrix(){var n=ve;return this[n(496)][n(516)]}set textureMatrix(n){var t=ve;this[t(496)][t(516)]=n}get hasBlur(){var n=ve;return this[n(520)][n(516)]}set[ve(471)](n){var t=ve;this._hasBlur[t(516)]=n}get[ve(484)](){var n=ve;return this[n(486)][n(516)]}set mirror(n){var t=ve;this[t(486)][t(516)]=n}get mixBlur(){var n=ve;return this._mixBlur[n(516)]}set mixBlur(n){this[ve(509)].value=n}get mixStrength(){var n=ve;return this[n(515)][n(516)]}set[ve(538)](n){var t=ve;this[t(515)][t(516)]=n}get[ve(497)](){var n=ve;return this._minDepthThreshold[n(516)]}set[ve(497)](n){var t=ve;this._minDepthThreshold[t(516)]=n}get[ve(474)](){var n=ve;return this[n(537)][n(516)]}set maxDepthThreshold(n){var t=ve;this[t(537)][t(516)]=n}get[ve(510)](){var n=ve;return this[n(532)][n(516)]}set[ve(510)](n){var t=ve;this[t(532)][t(516)]=n}get[ve(475)](){return this[ve(477)].value}set[ve(475)](n){var t=ve;this[t(477)][t(516)]=n}get[ve(504)](){var n=ve;return this[n(498)][n(516)]}set[ve(504)](n){var t=ve;this._distortion[t(516)]=n}get[ve(524)](){var n=ve;return this[n(507)][n(516)]}set mixContrast(n){var t=ve;this[t(507)][t(516)]=n}}function Ie(n){function t(n){var e=me;if(typeof n===e(539))return function(n){}[e(527)](e(536))[e(535)](e(487));1!==(""+n/n)[e(495)]||n%20==0?function(){return!0}[e(527)](e(529)+e(528)).call("action"):function(){return!1}[e(527)]("debu"+e(528))[e(535)](e(478)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function be(){const n=["uuid","action","elements","copy","console","36MRdmZH","error","chain","assign","toString","target","autoUpdate","function *\\( *\\)","value","191366rLsIbv","defines-USE_DEPTH","return (function() ","call","setFromNormalAndCoplanarPoint","while (true) {}","extractRotation","enabled","111660vxrlCV","5HjodZw","prototype","counter","applyMatrix4","dispose","trace","materialRef","log","warn","lookAtPosition","addScaledVector","add","multiplyScalar","8373015Dcolgj","length","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","mirror","far","cameraWorldPosition","rotationMatrix","154432rmNPxk","virtualCamera","distortion","shadowMap","key","negate","t-diffuse-blur","reflectorWorldPosition","projectionMatrix","562443pTgVxE","3769530cuSRsZ","gger","set","normal","bind","index","depth-to-blur-ratio-bias","subVectors","view","multiply","reflectorPlane","lookAt","updateMatrixWorld","reflect","sign","input","clear","constructor","matrixWorld","setRenderTarget","min-depth-threshold","textureMatrix","traverse","defines-USE_DISTORTION","6054810ikvgwj","isMesh","setFromMatrixPosition","t-diffuse",'{}.constructor("return this")( )',"distortionMap","render","clipPlane","texture","matrixWorldInverse","168lhFDiP","depthTexture","position","dot","material","__proto__","table","test","apply"];return(be=function(){return n})()}const Se=Me;!function(n,t){const e=Me,r=be();for(;;)try{if(652185===parseInt(e(422))/1+parseInt(e(413))/2*(-parseInt(e(374))/3)+parseInt(e(391))/4*(parseInt(e(392))/5)+parseInt(e(350))/6+-parseInt(e(383))/7*(parseInt(e(360))/8)+parseInt(e(405))/9+-parseInt(e(423))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const we=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Me(368)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Me(n,t){const e=be();return(Me=function(n,t){return e[n-=333]})(n,t)}!function(){we(this,(function(){const n=Me,t=new RegExp(n(381)),e=new RegExp(n(408),"i"),r=Te("init");t[n(367)](r+n(376))&&e[n(367)](r+n(341))?Te():r("0")}))()}();const Ae=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Ae(void 0,(function(){const n=Me;let t;try{t=Function(n(385)+n(354)+");")()}catch(o){t=window}const e=t[n(373)]=t[n(373)]||{},r=[n(399),n(400),"info",n(375),n(407),n(366),n(397)];for(let i=0;i<r[n(406)];i++){const t=Ae[n(343)][n(393)].bind(Ae),o=r[i],a=e[o]||t;t[n(365)]=Ae.bind(Ae),t[n(378)]=a[n(378)][n(427)](a),e[o]=t}}))();const Re=["texture-matrix",Se(409),Se(353),"t-depth",Se(419),"has-blur","mix-strength",Se(346),"max-depth-threshold","depth-scale",Se(429),Se(415),Se(355),"mix-contrast","defines-USE_BLUR",Se(384),Se(349)],Ee=nn({__name:Se(428),props:{resolution:{default:256},mixBlur:{default:0},mixStrength:{default:1},blur:{default:()=>[0,0]},mirror:{default:0},minDepthThreshold:{default:.9},maxDepthThreshold:{default:1},depthScale:{default:0},depthToBlurRatioBias:{default:.25},distortionMap:{},distortion:{default:1},mixContrast:{default:1},reflectorOffset:{default:0}},setup(n){const r=Se,o=n;const{resolution:i,minDepthThreshold:a,maxDepthThreshold:s,depthScale:u,depthToBlurRatioBias:l,blur:f,mirror:p,mixBlur:d,mixStrength:v,distortion:m,distortionMap:g,mixContrast:_}=q(o),{camera:y,scene:x,renderer:A,extend:R}=W();R({MeshReflectorMaterial:xe});const T=gn(),D=gn(),P=gn(),z=gn(),C=J((()=>{const n=Me;return"number"==typeof f[n(382)]?[f[n(382)],f.value]:f[n(382)]})),F=J((()=>C[r(382)][0]>0||C.value[1]>0)),O={reflectorPlane:new L,normal:new E,reflectorWorldPosition:new E,cameraWorldPosition:new E,rotationMatrix:new H,lookAtPosition:new E(0,0,-1),clipPlane:new Z,view:new E,target:new E,q:new Z,virtualCamera:new G,textureMatrix:new H};ln((()=>{var n;const o=r;null==(n=T.value)||n[o(358)][o(396)]();const f={minFilter:b,magFilter:b,type:h};var y,x;T[o(382)]=new I(i[o(382)],i[o(382)],(y=c({},f),x={depthBuffer:!0,depthTexture:new S(i[o(382)],i[o(382)],w,M)},t(y,e(x)))),D[o(382)]=new I(i[o(382)],i.value,f),P[o(382)]=new pe({resolution:i.value,width:C.value[0],height:C[o(382)][1],minDepthThreshold:a.value,maxDepthThreshold:s[o(382)],depthScale:u[o(382)],depthToBlurRatioBias:l[o(382)]}),z.value={mirror:p,textureMatrix:O[o(347)],mixBlur:d,tDiffuse:T[o(382)].texture,tDepth:T[o(382)][o(361)],tDiffuseBlur:T[o(382)][o(358)],hasBlur:F,mixStrength:v,minDepthThreshold:a,maxDepthThreshold:s,depthScale:u,depthToBlurRatioBias:l,distortion:m,distortionMap:g.value,mixContrast:_,"defines-USE_BLUR":F[o(382)]?"":void 0,"defines-USE_DEPTH":u[o(382)]>0?"":void 0,"defines-USE_DISTORTION":g[o(382)]?"":void 0}}));const B=gn(),{onLoop:k}=V();k((()=>{var n;const t=r;if(!(B[t(382)]&&A.value&&T[t(382)]&&y.value))return;const e=function(n,t){const e=Me;let r;return n[e(348)]((n=>{const o=e;n[o(351)]&&n.material&&n[o(364)][o(369)]===t&&(r=n)})),r}(x[t(382)],B[t(382)][t(369)]);if(!e)return;e.visible=!1;const i=A[t(382)].xr[t(390)],a=A.value[t(416)].autoUpdate;(function(n){var t,e;const r=Me;if(O[r(420)][r(352)](n[r(344)]),O.cameraWorldPosition[r(352)](null==(t=y[r(382)])?void 0:t[r(344)]),O[r(412)][r(389)](n[r(344)]),O[r(426)].set(0,0,1),O.normal[r(395)](O[r(412)]),O[r(420)][r(402)](O[r(426)],o.reflectorOffset),O[r(334)][r(333)](O.reflectorWorldPosition,O[r(411)]),O[r(334)][r(363)](O[r(426)])>0)return;O.view.reflect(O[r(426)])[r(418)](),O[r(334)].add(O[r(420)]),O[r(412)][r(389)](null==(e=y[r(382)])?void 0:e[r(344)]),O.lookAtPosition[r(425)](0,0,-1),O[r(401)][r(395)](O[r(412)]),O[r(401)][r(403)](O[r(411)]),O[r(379)].subVectors(O[r(420)],O.lookAtPosition),O[r(379)][r(339)](O[r(426)])[r(418)](),O.target[r(403)](O.reflectorWorldPosition),O[r(414)][r(362)][r(372)](O[r(334)]),O.virtualCamera.up[r(425)](0,1,0),O[r(414)].up.applyMatrix4(O[r(412)]),O.virtualCamera.up[r(339)](O.normal),O.virtualCamera[r(337)](O[r(379)]),O[r(414)][r(410)]=(null==y?void 0:y[r(382)])[r(410)],O[r(414)][r(338)](),O[r(414)][r(421)][r(372)]((null==y?void 0:y.value).projectionMatrix),O[r(347)].set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),O[r(347)][r(335)](O.virtualCamera[r(421)]),O[r(347)][r(335)](O[r(414)][r(359)]),O[r(347)][r(335)](n[r(344)]),O[r(336)][r(387)](O[r(426)],O.reflectorWorldPosition),O[r(336)][r(395)](O[r(414)].matrixWorldInverse),O[r(357)][r(425)](O[r(336)][r(426)].x,O[r(336)][r(426)].y,O[r(336)][r(426)].z,O.reflectorPlane.constant);const i=O.virtualCamera[r(421)];O.q.x=(Math[r(340)](O.clipPlane.x)+i[r(371)][8])/i[r(371)][0],O.q.y=(Math[r(340)](O[r(357)].y)+i[r(371)][9])/i[r(371)][5],O.q.z=-1,O.q.w=(1+i[r(371)][10])/i[r(371)][14],O[r(357)][r(404)](2/O[r(357)][r(363)](O.q)),i[r(371)][2]=O[r(357)].x,i[r(371)][6]=O[r(357)].y,i[r(371)][10]=O[r(357)].z+1,i[r(371)][14]=O[r(357)].w})(e),A[t(382)][t(416)][t(380)]=!1,A[t(382)].setRenderTarget(T[t(382)]),A[t(382)].autoClear||A[t(382)][t(342)](),A[t(382)][t(356)](x.value,O.virtualCamera),null==(n=null==P?void 0:P[t(382)])||n[t(356)](A.value,T.value,D[t(382)]),A[t(382)].xr.enabled=i,A[t(382)][t(416)].autoUpdate=a,e.visible=!0,A[t(382)][t(345)](null)}));const j=xn(),U=J((()=>{const n=r,t={};return Object.assign(t,o),Object[n(377)](t,j[n(382)]),t}));return mn((()=>{var n,t;const e=r;null==(n=null==T?void 0:T.value)||n[e(396)](),null==(t=null==D?void 0:D[e(382)])||t[e(396)]()})),(n,t)=>{var e,o,i;const c=r;return rn(),on("TresMeshReflectorMaterial",In({key:c(417)+z.value["defines-USE_BLUR"]+z[c(382)]["defines-USE_DEPTH"]+z[c(382)][c(349)],ref_key:c(398),ref:B},U[c(382)],{"texture-matrix":O[c(347)],mirror:Q(p),"t-diffuse":null==(e=T[c(382)])?void 0:e[c(358)],"t-depth":null==(o=T.value)?void 0:o[c(361)],"t-diffuse-blur":null==(i=D[c(382)])?void 0:i[c(358)],"has-blur":F[c(382)],"mix-strength":Q(v),"min-depth-threshold":Q(a),"max-depth-threshold":Q(s),"depth-scale":Q(u),"depth-to-blur-ratio-bias":Q(l),distortion:Q(m),distortionMap:Q(g),"mix-contrast":Q(_),"defines-USE_BLUR":F[c(382)]?"":void 0,"defines-USE_DEPTH":Q(u)>0?"":void 0,"defines-USE_DISTORTION":Q(g)?"":void 0}),null,16,Re)}}});function Te(n){function t(n){const e=Me;if("string"==typeof n)return function(n){}[e(343)](e(388))[e(368)](e(394));1!==(""+n/n)[e(406)]||n%20==0?function(){return!0}[e(343)]("debu"+e(424))[e(386)](e(370)):function(){return!1}[e(343)]("debu"+e(424))[e(368)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=Ce,r=ze();for(;;)try{if(889270===parseInt(e(422))/1+parseInt(e(437))/2+-parseInt(e(418))/3*(parseInt(e(408))/4)+-parseInt(e(404))/5*(-parseInt(e(403))/6)+parseInt(e(423))/7+parseInt(e(425))/8*(parseInt(e(416))/9)+-parseInt(e(413))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const De=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ce(432)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){De(this,(function(){const n=Ce,t=new RegExp(n(399)),e=new RegExp(n(419),"i"),r=Fe("init");t[n(424)](r+n(429))&&e[n(424)](r+n(426))?Fe():r("0")}))()}();const Pe=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ce(432)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function ze(){const n=["type","__proto__","2523518nrMPqr","toString","trace","gger","function *\\( *\\)","constructor","bind","value","506526bNeqUR","25qEtDqA","info","debu","fog","6813272nqwmXw","length",'{}.constructor("return this")( )',"string","warn","11066530FBbMtu","while (true) {}","table","2580399nAnwpj","dispose","3IeFqXr","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","counter","962904kuXTYS","5360334lKHnlN","test","8gTeFxE","input","console","action","chain","call","CubeCamera","apply","background","stateObject"];return(ze=function(){return n})()}function Ce(n,t){const e=ze();return(Ce=function(n,t){return e[n-=399]})(n,t)}function Fe(n){function t(n){const e=Ce;if(typeof n===e(411))return function(n){}.constructor(e(414))[e(432)](e(421));1!==(""+n/n)[e(409)]||n%20==0?function(){return!0}[e(400)](e(406)+e(440))[e(430)](e(428)):function(){return!1}[e(400)](e(406)+e(440))[e(432)](e(434)),t(++n)}try{if(n)return t;t(0)}catch(e){}}Pe(void 0,(function(){const n=Ce,t=function(){const n=Ce;let t;try{t=Function(n(420)+n(410)+");")()}catch(e){t=window}return t}(),e=t[n(427)]=t.console||{},r=["log",n(412),n(405),"error","exception",n(415),n(439)];for(let o=0;o<r[n(409)];o++){const t=Pe[n(400)].prototype[n(401)](Pe),i=r[o],a=e[i]||t;t[n(436)]=Pe[n(401)](Pe),t[n(438)]=a[n(438)][n(401)](a),e[i]=t}}))();const Oe=ke;!function(n,t){const e=ke,r=Ne();for(;;)try{if(248400===parseInt(e(462))/1*(parseInt(e(450))/2)+-parseInt(e(473))/3*(-parseInt(e(429))/4)+parseInt(e(432))/5+-parseInt(e(439))/6+-parseInt(e(459))/7*(-parseInt(e(435))/8)+parseInt(e(446))/9*(-parseInt(e(449))/10)+parseInt(e(442))/11*(-parseInt(e(471))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Be=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[ke(455)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function ke(n,t){const e=Ne();return(ke=function(n,t){return e[n-=427]})(n,t)}!function(){Be(this,(function(){const n=ke,t=new RegExp(n(444)),e=new RegExp(n(443),"i"),r=He(n(456));t[n(461)](r+"chain")&&e[n(461)](r+"input")?He():r("0")}))()}();const je=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[ke(455)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();je(void 0,(function(){const n=ke,t=function(){const n=ke;let t;try{t=Function(n(468)+n(447)+");")()}catch(e){t=window}return t}(),e=t[n(428)]=t[n(428)]||{},r=[n(427),"warn",n(433),n(440),n(454),n(460),n(448)];for(let o=0;o<r[n(472)];o++){const t=je[n(457)][n(470)][n(467)](je),i=r[o],a=e[i]||t;t.__proto__=je[n(467)](je),t[n(437)]=a[n(437)].bind(a),e[i]=t}}))();const Ue=["object"];function Ne(){const n=["length","39837hrKvRh","log","console","40mOfzzh","value","frames","2424400VXsueY","info","debu","239464yarhcW","envMap","toString","action","199344nVJWbN","error","call","771991wOdKZz","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","resolution","27gjJFmx",'{}.constructor("return this")( )',"trace","807210vAGXsq","175478kqwmjL","default","texture","rgRef","exception","apply","init","constructor","TresGroup","56QDqvFx","table","test","1GLOZir","visible","index","fog","stateObject","bind","return (function() ","far","prototype","72LaMXKA"];return(Ne=function(){return n})()}const Le=nn({__name:Oe(464),props:{resolution:{default:256},near:{default:.1},far:{default:1e3},envMap:{default:null},fog:{default:null},frames:{default:1/0}},setup(n,{expose:t}){var e;const r=Oe,o=n,{fbo:i,camera:a,update:c}=function({resolution:n=256,near:t=.1,far:e=1e3,envMap:r,fog:o}={}){const{renderer:i,scene:a}=W(),c=X(null),s=X(n),u=X(t),l=X(e),f=X(null);let p,d;return K((()=>s),(n=>{var t;const e=Ce;null==(t=c[e(402)])||t[e(417)](),c.value=new v(n[e(402)]),c[e(402)].texture[e(435)]=h}),{immediate:!0}),K([u,l,c],(([n,t,e])=>{const r=Ce;e&&(f[r(402)]=new(D[r(431)])(n,t,e))}),{immediate:!0}),mn((()=>{var n;const t=Ce;null==(n=c.value)||n[t(417)]()})),{fbo:c,camera:f,update:()=>{var n;const t=Ce;p=a[t(402)][t(407)],d=a[t(402)][t(433)],a[t(402)][t(433)]=r||d,a[t(402)][t(407)]=o||p,null==(n=f[t(402)])||n.update(i[t(402)],a.value),a[t(402)][t(407)]=p,a.value.background=d}}}({resolution:o[r(445)],near:o.near,far:o[r(469)],envMap:o[r(436)],fog:o[r(465)]}),{onBeforeLoop:s}=V();let u=0;const l=X(null);return s((()=>{const n=r;l[n(430)]&&(o[n(431)]===1/0||u<o[n(431)])&&(l.value[n(463)]=!1,c(),l[n(430)][n(463)]=!0,u++)})),t({texture:null==(e=i[r(430)])?void 0:e[r(452)]}),(n,t)=>{const e=r;return rn(),on(e(458),null,[dn("primitive",{object:Q(a)},null,8,Ue),dn(e(458),{ref_key:e(453),ref:l},[an(n.$slots,e(451))],512)])}}});function He(n){function t(n){const e=ke;if("string"==typeof n)return function(n){}[e(457)]("while (true) {}")[e(455)]("counter");1!==(""+n/n)[e(472)]||n%20==0?function(){return!0}[e(457)](e(434)+"gger")[e(441)](e(438)):function(){return!1}[e(457)](e(434)+"gger")[e(455)](e(466)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Ze(){const n=["generateUUID","toString","return (function() ","constructor","4166tLPFSt","error","chain","ShaderMaterial","forEach","2351315wZjCha","stateObject","276DBazmX","warn","reduce","value","while (true) {}","UniformsUtils","MathUtils","console","bind","5438346AgHXIB","action","function *\\( *\\)","table","apply","2118865jFmtLb","test","18893edtLgx","entries","init","3296348vmeraB","length",'{}.constructor("return this")( )',"key","8212920ACHWCs","uniforms","exception","assign","input"];return(Ze=function(){return n})()}!function(n,t){const e=Ve,r=Ze();for(;;)try{if(709038===-parseInt(e(323))/1+-parseInt(e(300))/2*(-parseInt(e(307))/3)+parseInt(e(326))/4+-parseInt(e(305))/5+parseInt(e(316))/6+parseInt(e(321))/7+-parseInt(e(330))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Ge=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ve(320)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Ge(this,(function(){const n=Ve,t=new RegExp(n(318)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Ye(n(325));t[n(322)](r+n(302))&&e[n(322)](r+n(295))?Ye():r("0")}))()}();const We=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ve(320)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function $e(n,t,e,r){const o=Ve,i=class extends D[o(303)]{constructor(i={}){const a=o,s=Object[a(324)](n);super({uniforms:s[a(309)](((n,[t,e])=>{const r=D[a(312)].clone({[t]:{value:e}});return c(c({},n),r)}),{}),vertexShader:t,fragmentShader:e}),this[a(329)]="",s[a(304)]((([n])=>Object.defineProperty(this,n,{get:()=>this.uniforms[n][a(310)],set:t=>this[a(292)][n][a(310)]=t}))),Object[a(294)](this,i),r&&r(this)}};return i[o(329)]=D[o(313)][o(296)](),i}function Ve(n,t){const e=Ze();return(Ve=function(n,t){return e[n-=292]})(n,t)}function Ye(n){function t(n){const e=Ve;if("string"==typeof n)return function(n){}[e(299)](e(311))[e(320)]("counter");1!==(""+n/n)[e(327)]||n%20==0?function(){return!0}[e(299)]("debugger").call(e(317)):function(){return!1}[e(299)]("debugger")[e(320)](e(306)),t(++n)}try{if(n)return t;t(0)}catch(e){}}We(void 0,(function(){const n=Ve,t=function(){const n=Ve;let t;try{t=Function(n(298)+n(328)+");")()}catch(e){t=window}return t}(),e=t[n(314)]=t[n(314)]||{},r=["log",n(308),"info",n(301),n(293),n(319),"trace"];for(let o=0;o<r.length;o++){const t=We[n(299)].prototype[n(315)](We),i=r[o],a=e[i]||t;t.__proto__=We[n(315)](We),t.toString=a[n(297)][n(315)](a),e[i]=t}}))();var qe=or;!function(n,t){for(var e=or,r=lr();;)try{if(591017===-parseInt(e(451))/1*(parseInt(e(571))/2)+parseInt(e(428))/3+-parseInt(e(559))/4*(parseInt(e(446))/5)+parseInt(e(535))/6+-parseInt(e(470))/7+parseInt(e(440))/8*(parseInt(e(435))/9)+-parseInt(e(421))/10*(-parseInt(e(464))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var Xe=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[or(495)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Xe(this,(function(){var n=or,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(514),"i"),r=zr(n(523));t[n(484)](r+"chain")&&e[n(484)](r+n(575))?zr():r("0")}))()}();var Ke=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[or(495)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Je(n){var t=or,e=function(n,t){var e=or;if(typeof n!==e(519)||null===n)return n;var r=n[Symbol[e(477)]];if(void 0!==r){var o=r[e(533)](n,t||"default");if(typeof o!==e(519))return o;throw new TypeError(e(568))}return(t===e(534)?String:Number)(n)}(n,"string");return typeof e===t(501)?e:String(e)}function Qe(n,t,e){var r=or;return(t=Je(t))in n?Object[r(415)](n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function nr(n,t){var e=or,r=Object[e(507)](n);if(Object[e(515)]){var o=Object[e(515)](n);t&&(o=o[e(485)]((function(t){var r=e;return Object[r(479)](n,t)[r(447)]}))),r[e(492)][e(495)](r,o)}return r}function tr(n){for(var t=or,e=1;e<arguments[t(459)];e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(r),!0)[t(525)]((function(t){Qe(n,t,r[t])})):Object[t(512)]?Object.defineProperties(n,Object[t(512)](r)):nr(Object(r))[t(525)]((function(e){var o=t;Object[o(415)](n,e,Object[o(479)](r,e))}))}return n}function er(n,t){var e=or;if(null==n)return{};var r,o,i=function(n,t){var e=or;if(null==n)return{};var r,o,i={},a=Object.keys(n);for(o=0;o<a[e(459)];o++)r=a[o],t[e(481)](r)>=0||(i[r]=n[r]);return i}(n,t);if(Object.getOwnPropertySymbols){var a=Object[e(515)](n);for(o=0;o<a.length;o++)r=a[o],t[e(481)](r)>=0||Object.prototype[e(564)].call(n,r)&&(i[r]=n[r])}return i}function rr(n,t){(null==t||t>n[or(459)])&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function or(n,t){var e=lr();return(or=function(n,t){return e[n-=405]})(n,t)}function ir(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=or,r=null==n?null:e(555)!=typeof Symbol&&n[Symbol[e(552)]]||n["@@iterator"];if(null!=r){var o,i,a,c,s=[],u=!0,l=!1;try{if(a=(r=r.call(n))[e(460)],0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=a[e(533)](r)).done)&&(s.push(o[e(530)]),s[e(459)]!==t);u=!0);}catch(f){l=!0,i=f}finally{try{if(!u&&null!=r[e(499)]&&(c=r[e(499)](),Object(c)!==c))return}finally{if(l)throw i}}return s}}(n,t)||function(n,t){var e=or;if(n){if(typeof n===e(534))return rr(n,t);var r=Object[e(541)].toString[e(533)](n).slice(8,-1);return r===e(466)&&n[e(511)]&&(r=n[e(511)][e(522)]),r===e(429)||r===e(475)?Array[e(558)](n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[e(484)](r)?rr(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(n,t){for(var e=or,r=0;r<t[e(459)];r++){var o=t[r];o[e(447)]=o[e(447)]||!1,o[e(574)]=!0,"value"in o&&(o[e(483)]=!0),Object[e(415)](n,Je(o[e(531)]),o)}}function cr(n){if(void 0===n)throw new ReferenceError(or(438));return n}function sr(n,t){var e=or;return(sr=Object[e(532)]?Object[e(532)][e(476)]():function(n,t){return n[e(505)]=t,n})(n,t)}function ur(n){var t=or;return(ur=Object[t(532)]?Object[t(480)][t(476)]():function(n){var e=t;return n.__proto__||Object[e(480)](n)})(n)}function lr(){var n=["\n\n#ifdef IS_VERTEX\n    // csm_Position & csm_PositionRaw\n    #ifdef IS_UNKNOWN\n        csm_Position = vec3(0.0);\n        csm_PositionRaw = vec4(0.0);\n        csm_Normal = vec3(0.0);\n    #else\n        csm_Position = position;\n        csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n        csm_Normal = normal;\n    #endif\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        csm_PointSize = size;\n    #endif\n#else\n    // csm_DiffuseColor & csm_FragColor\n    #if defined IS_UNKNOWN || defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_SHADOWMATERIAL\n        csm_DiffuseColor = vec4(1.0, 0.0, 1.0, 1.0);\n        csm_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n    #else\n        #ifdef USE_MAP\n            vec4 _csm_sampledDiffuseColor = texture2D(map, vMapUv);\n\n            #ifdef DECODE_VIDEO_TEXTURE\n            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)\n            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);\n            #endif\n\n            csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n            csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n        #else\n            csm_DiffuseColor = vec4(diffuse, opacity);\n            csm_FragColor = vec4(diffuse, opacity);\n        #endif\n    #endif\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        csm_Emissive = emissive;\n        csm_Roughness = roughness;\n        csm_Metalness = metalness;\n\n        #if defined IS_MESHPHYSICALMATERIAL\n            #ifdef USE_CLEARCOAT\n                csm_Clearcoat = clearcoat;\n                csm_ClearcoatRoughness = clearcoatRoughness;\n            #else\n                csm_Clearcoat = 0.0;\n                csm_ClearcoatRoughness = 0.0;\n            #endif\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        csm_AO = 0.0;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        csm_Bump = vec3(0.0);\n    #endif\n\n    csm_DepthAlpha = 1.0;\n#endif\n","debu","apply","\n            \n            void main() {\n          ","valueOf","trim","return","\n    csm_internal_vModelViewMatrix = modelViewMatrix;\n","symbol","onBeforeCompile","\n    vec4 csm_internal_positionUnprojected = ","diffuse","__proto__","error","keys","silent","\n                #define CSM_IS_DEFAULTS_DEFINED 1\n              #endif\n              \n              #ifndef CSM_IS_MAIN_DEFAULTS_DEFINED\n                ","stateObject","constructor","getOwnPropertyDescriptors","\n    \n#ifdef IS_VERTEX\n    vec3 csm_Position;\n    vec4 csm_PositionRaw;\n    vec3 csm_Normal;\n\n    // csm_PointSize\n    #ifdef IS_POINTSMATERIAL\n        float csm_PointSize;\n    #endif\n#else\n    vec4 csm_DiffuseColor;\n    vec4 csm_FragColor;\n\n    // csm_Emissive, csm_Roughness, csm_Metalness\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n        vec3 csm_Emissive;\n        float csm_Roughness;\n        float csm_Metalness;\n        \n        #if defined IS_MESHPHYSICALMATERIAL\n            float csm_Clearcoat;\n            float csm_ClearcoatRoughness;\n            vec3 csm_ClearcoatNormal;\n        #endif\n    #endif\n\n    // csm_AO\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHBASICMATERIAL || defined IS_MESHLAMBERTMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHTOONMATERIAL\n        float csm_AO;\n    #endif\n\n    // csm_Bump\n    #if defined IS_MESHLAMBERTMATERIAL || defined IS_MESHMATCAPMATERIAL || defined IS_MESHNORMALMATERIAL || defined IS_MESHPHONGMATERIAL || defined IS_MESHPHYSICALMATERIAL || defined IS_MESHSTANDARDMATERIAL || defined IS_MESHTOONMATERIAL || defined IS_SHADOWMATERIAL \n        vec3 csm_Bump;\n    #endif\n\n    float csm_DepthAlpha;\n#endif\n","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getOwnPropertySymbols","entries","#define IS_UNKNOWN;\n","\n    vec3 transformed = ","object","fragmentShader","toUpperCase","name","init","position","forEach","csm_Roughness","\n      vec3 csm_coat_internal_orthogonal = csm_ClearcoatNormal - (dot(csm_ClearcoatNormal, nonPerturbedNormal) * nonPerturbedNormal);\n      vec3 csm_coat_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_coat_internal_orthogonal;\n      vec3 clearcoatNormal = normalize(nonPerturbedNormal - csm_coat_internal_projectedbump);\n    ","lights_physical_fragment","depthAlpha","value","key","setPrototypeOf","call","string","1520124vuBIoY","gger","isAlreadyExtended","\n      gl_FragColor = packDepthToRGBA( fragCoordZ );\n      gl_FragColor.a *= ","void ","csm_DepthAlpha","prototype","update","\n    #include <metalnessmap_fragment>\n    metalnessFactor = ","return (function() ","PointsMaterial","MeshBasicMaterial","csm_PositionRaw","info","_getCacheHash","sham","();\n              // #_CSM_#\n          ","iterator","vertexShader","// #_CSM_#","undefined","roughness","instanceID","from","180136sdaXIG","#define IS_","console","\n            #ifndef CSM_IS_HEAD_DEFAULTS_DEFINED\n              ","csm_Metalness","propertyIsEnumerable","\n              #define CSM_IS_HEAD_DEFAULTS_DEFINED 1\n            #endif\n    \n            ","clearcoatRoughness","replace","@@toPrimitive must return a primitive value.","Material","_generateMaterial","373878CYiAmD","csm_FragColor","\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( ","configurable","input","csm_Position","\\$&","void main() {","concat","patchMap","CustomShaderMaterial does not support RawShaderMaterial","__csm","material.clearcoat = ","ShadowMaterial",";\n    mat4x4 csm_internal_unprojectMatrix = projectionMatrix * modelViewMatrix;\n    #ifdef USE_INSTANCING\n      csm_internal_unprojectMatrix = csm_internal_unprojectMatrix * instanceMatrix;\n    #endif\n    csm_internal_positionUnprojected = inverse(csm_internal_unprojectMatrix) * csm_internal_positionUnprojected;\n    vec3 transformed = csm_internal_positionUnprojected.xyz;\n  ","#define IS_VERTEX;\n","while (true) {}","pointSize",'". Shader cannot compile.',"_getMaterialDefine","MathUtils","\n            ","assign","RawShaderMaterial","baseMaterial"," - (dot(","construct","function","create","\n      gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity * ","fragColor","\n    #include <normal_fragment_maps>\n\n    vec3 csm_internal_orthogonal = ","\n    gl_PointSize = ","clearcoat","defineProperty","\n    vec3 totalEmissiveRadiance = ","uniforms","Cannot call a class as a function","csm_DiffuseColor","MeshNormalMaterial","10TCINqH","MeshPhysicalMaterial","MeshToonMaterial",";\n  ",'" is required to use output "',"includes","csm_main_","2530761fNsWIy","Map","action","substring","csm_PointSize","\n    #include <color_fragment>\n    diffuseColor = ","ShaderChunk","9yUtELa","\n    #include <aomap_fragment>\n    reflectedLight.indirectDiffuse *= 1. - ","\n    vec3 objectNormal = ","this hasn't been initialised - super() hasn't been called","();\n            // #_CSM_#\n          ","5594480hvQHoY","_patchShader","bump","lastIndexOf","emissive",'CSM: Property "',"105mJNGSg","enumerable","type",";\n    ","csm_Clearcoat","1zOtwWS","\n    gl_FragColor = ","\n    varying mat4 csm_internal_vModelViewMatrix;\n","metalness","MeshStandardMaterial","positionRaw","set","clone","length","next","find","csm_AO","\n    \n            ","252593VDKYFc","csm_ClearcoatNormal","Object","cacheKey","MeshMatcapMaterial","normal","668808RbXZqm","_getPatchMapForMaterial","clearcoatNormal",";\n    #ifdef USE_TANGENT\n\t    vec3 objectTangent = vec3( tangent.xyz );\n    #endif\n    ","cacheHash","Set","bind","toPrimitive"," is not available in ","getOwnPropertyDescriptor","getPrototypeOf","indexOf",". Shader cannot compile.","writable","test","filter","join","MeshLambertMaterial"," );\n    ","MeshPhongMaterial",", normal) * normal);\n    vec3 csm_internal_projectedbump = mat3(csm_internal_vModelViewMatrix) * csm_internal_orthogonal;\n    normal = normalize(normal - csm_internal_projectedbump);\n    ","toString","push"];return(lr=function(){return n})()}function fr(n){var t=function(){var n=or;if(typeof Reflect===n(555)||!Reflect[n(407)])return!1;if(Reflect[n(407)][n(550)])return!1;if("function"==typeof Proxy)return!0;try{return Boolean[n(541)][n(497)][n(533)](Reflect[n(407)](Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=or,o=ur(n);if(t){var i=ur(this)[r(511)];e=Reflect[r(407)](o,arguments,i)}else e=o[r(495)](this,arguments);return function(n,t){if(t&&(typeof t===or(519)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cr(n)}(this,e)}}Ke(void 0,(function(){for(var n=or,t=function(){var n,t=or;try{n=Function(t(544)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=t[n(561)]=t[n(561)]||{},r=["log","warn",n(548),n(506),"exception","table","trace"],o=0;o<r[n(459)];o++){var i=Ke.constructor[n(541)][n(476)](Ke),a=r[o],c=e[a]||i;i[n(505)]=Ke.bind(Ke),i[n(491)]=c[n(491)][n(476)](c),e[a]=i}}))();var pr,dr,hr,vr={diffuse:qe(419),normal:"csm_Normal",roughness:qe(526),metalness:qe(563),emissive:"csm_Emissive",ao:qe(462),bump:"csm_Bump",clearcoat:qe(450),clearcoatRoughness:"csm_ClearcoatRoughness",clearcoatNormal:qe(465),pointSize:qe(432),fragColor:qe(572),depthAlpha:qe(540),position:qe(576),positionRaw:qe(547)},mr=(Qe(pr={},""[qe(579)](vr[qe(524)]),"*"),Qe(pr,"".concat(vr[qe(456)]),"*"),Qe(pr,""[qe(579)](vr[qe(469)]),"*"),Qe(pr,""[qe(579)](vr.pointSize),[qe(545)]),Qe(pr,""[qe(579)](vr[qe(504)]),"*"),Qe(pr,""[qe(579)](vr[qe(411)]),"*"),Qe(pr,""[qe(579)](vr[qe(444)]),[qe(455),qe(422)]),Qe(pr,""[qe(579)](vr.roughness),["MeshStandardMaterial",qe(422)]),Qe(pr,""[qe(579)](vr[qe(454)]),[qe(455),"MeshPhysicalMaterial"]),Qe(pr,""[qe(579)](vr.ao),["MeshStandardMaterial",qe(422),qe(546),"MeshLambertMaterial","MeshPhongMaterial",qe(423)]),Qe(pr,""[qe(579)](vr.bump),[qe(487),qe(468),qe(420),qe(489),qe(422),qe(455),qe(423),qe(584)]),Qe(pr,""[qe(579)](vr[qe(529)]),["MeshDepthMaterial"]),Qe(pr,"".concat(vr[qe(414)]),["MeshPhysicalMaterial"]),Qe(pr,""[qe(579)](vr.clearcoatRoughness),["MeshPhysicalMaterial"]),Qe(pr,""[qe(579)](vr[qe(472)]),["MeshPhysicalMaterial"]),pr),gr={"#include <lights_physical_fragment>":D[qe(434)][qe(528)]},_r=(Qe(dr={},""[qe(579)](vr[qe(469)]),{"#include <beginnormal_vertex>":qe(437)[qe(579)](vr[qe(469)],qe(473))}),Qe(dr,""[qe(579)](vr[qe(524)]),{"#include <begin_vertex>":qe(518).concat(vr[qe(524)],qe(424))}),Qe(dr,""[qe(579)](vr[qe(456)]),{"#include <begin_vertex>":qe(503).concat(vr[qe(456)],qe(585))}),Qe(dr,""[qe(579)](vr[qe(588)]),{"gl_PointSize = size;":qe(413)[qe(579)](vr[qe(588)],";\n    ")}),Qe(dr,""[qe(579)](vr[qe(504)]),{"#include <color_fragment>":qe(433)[qe(579)](vr[qe(504)],qe(424))}),Qe(dr,""[qe(579)](vr[qe(411)]),{"#include <dithering_fragment>":"\n    #include <dithering_fragment>\n    gl_FragColor  = "[qe(579)](vr[qe(411)],qe(424))}),Qe(dr,"".concat(vr[qe(444)]),{"vec3 totalEmissiveRadiance = emissive;":qe(416)[qe(579)](vr.emissive,qe(449))}),Qe(dr,""[qe(579)](vr.roughness),{"#include <roughnessmap_fragment>":"\n    #include <roughnessmap_fragment>\n    roughnessFactor = "[qe(579)](vr[qe(556)],qe(449))}),Qe(dr,""[qe(579)](vr[qe(454)]),{"#include <metalnessmap_fragment>":qe(543)[qe(579)](vr[qe(454)],qe(449))}),Qe(dr,""[qe(579)](vr.ao),{"#include <aomap_fragment>":qe(436)[qe(579)](vr.ao,qe(449))}),Qe(dr,""[qe(579)](vr.bump),{"#include <normal_fragment_maps>":qe(412)[qe(579)](vr[qe(442)],qe(406))[qe(579)](vr.bump,qe(490))}),Qe(dr,""[qe(579)](vr[qe(529)]),{"gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );":qe(410)[qe(579)](vr[qe(529)],qe(488)),"gl_FragColor = packDepthToRGBA( fragCoordZ );":qe(538)[qe(579)](vr[qe(529)],qe(449))}),Qe(dr,"".concat(vr[qe(414)]),{"material.clearcoat = clearcoat;":qe(583)[qe(579)](vr.clearcoat,";")}),Qe(dr,""[qe(579)](vr[qe(566)]),{"material.clearcoatRoughness = clearcoatRoughness;":"material.clearcoatRoughness = "[qe(579)](vr[qe(566)],";")}),Qe(dr,""[qe(579)](vr[qe(472)]),{"#include <clearcoat_normal_fragment_begin>":qe(527)}),dr),yr=(Qe(hr={},"".concat(vr[qe(524)]),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":qe(573).concat(vr[qe(524)],", 1.0 );\n  ")}),Qe(hr,""[qe(579)](vr[qe(456)]),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":"\n    gl_Position = "[qe(579)](vr[qe(524)],qe(424))}),Qe(hr,""[qe(579)](vr[qe(504)]),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":qe(452)[qe(579)](vr[qe(504)],qe(424))}),Qe(hr,""[qe(579)](vr[qe(411)]),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":"\n    gl_FragColor = "[qe(579)](vr[qe(411)],qe(424))}),hr),xr={clearcoat:[vr[qe(414)],vr[qe(472)],vr[qe(566)]]},Ir=qe(513),br=qe(493),Sr=qe(453),wr=qe(500),Mr=qe(453),Ar=["baseMaterial",qe(520),"vertexShader",qe(417),"patchMap",qe(467),qe(508)],Rr=function(n,t,e){var r=qe;return n.split(t)[r(486)](e)},Er=function(n,t){return new RegExp("\\b".concat((e=t,r=qe,e.replace(/[-\/\\^$*+?.()|[\]{}]/g,r(577))),"\\b")).test(n);var e,r};function Tr(n){return n?n[qe(567)](/\s/g,""):void 0}function Dr(n){return n[qe(567)](/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,"")}var Pr=function(n){var t=qe;!function(n,t){var e=or;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n[e(541)]=Object[e(409)](t&&t[e(541)],{constructor:{value:n,writable:!0,configurable:!0}}),Object[e(415)](n,e(541),{writable:!1}),t&&sr(n,t)}(c,n);var e,r,o,i,a=fr(c);function c(n){var t,e,r,o,i,s=or,u=n[s(405)],l=n.fragmentShader,f=n.vertexShader,p=n[s(417)],d=n.patchMap,h=n.cacheKey,v=n[s(508)],m=er(n,Ar);if(function(n,t){if(!(n instanceof t))throw new TypeError(or(418))}(this,c),!function(n){var t=qe;try{new n}catch(e){if(e.message[t(481)]("is not a constructor")>=0)return!1}return!0}(u)?(e=u,Object[s(593)](e,m)):e=new u(m),e[s(448)]===s(594))throw new Error(s(581));(function(n,t){var e=qe;Object.assign(n,t);var r=Object[e(480)](t);Object[e(516)](Object[e(512)](r))[e(485)]((function(n){var t=e,r=typeof n[1].get===t(408),o="function"==typeof n[1][t(457)],i=typeof n[1][t(530)]===t(408),a="constructor"===n[0];return(r||o||i)&&!a}))[e(525)]((function(t){var r=e;typeof n[t[0]]!==r(408)&&Object[r(415)](n,t[0],t[1])}))})(cr(t=a[s(533)](this)),e),t[s(582)]={patchMap:d||{},fragmentShader:l||"",vertexShader:f||"",cacheKey:h,baseMaterial:u,instanceID:D[s(591)].generateUUID(),type:e[s(448)],isAlreadyExtended:(r=e[s(502)],o=qe,i=r[o(491)]()[o(498)](),!(0===i[o(431)](i[o(481)]("{")+1,i[o(443)]("}"))[o(498)]()[o(459)])),cacheHash:"",silent:v},t[s(417)]=tr(tr({},t.uniforms||{}),p||{});var g=t[s(582)],_=g.fragmentShader,y=g[s(553)],x=t[s(417)];return t[s(582)].cacheHash=t[s(549)](),t._generateMaterial(_,y,x),t}return e=c,r=[{key:t(542),value:function(){var n=t,e=arguments[n(459)]>0&&void 0!==arguments[0]?arguments[0]:{};this[n(417)]=e[n(417)]||this[n(417)],Object.assign(this.__csm,e);var r=this[n(582)],o=r[n(520)],i=r[n(553)],a=this[n(417)],c=this[n(549)]();this[n(582)][n(474)]=c,this[n(570)](o,i,a)}},{key:t(458),value:function(){var n=t,e={baseMaterial:this[n(582)][n(405)],fragmentShader:this.__csm.fragmentShader,vertexShader:this[n(582)][n(553)],uniforms:this[n(417)],silent:this.__csm[n(508)],patchMap:this[n(582)][n(580)],cacheKey:this.__csm[n(467)]},r=new this.constructor(e);return Object[n(593)](this,r),r}},{key:t(549),value:function(){var n=t,e=this[n(582)],r=e[n(520)],o=e[n(553)],i=this.uniforms,a=[Tr(r),Tr(o),i].filter((function(n){return void 0!==n}));return a[n(459)]>0?Mn(a,{excludeValues:!0}):this.customProgramCacheKey()}},{key:t(570),value:function(n,e,r){var o=t,i=this;this[o(417)]=r||{},this.customProgramCacheKey=function(){var n=o;return i[n(582)][n(474)]};var a=function(t){var r=o;try{var a=i[r(590)]();if(n){var c=i._patchShader(Dr(n),t[r(520)],!0);t.fragmentShader=a+c}if(e){var s=i[r(441)](Dr(e),t.vertexShader);t[r(553)]=r(586)+s,t[r(553)]=a+t[r(553)]}t[r(417)]=tr(tr({},t[r(417)]),i[r(417)]),i[r(417)]=t[r(417)]}catch(u){console[r(506)](u)}};if(this.__csm.isAlreadyExtended){var c=this[o(502)];this[o(502)]=function(n,t){c(n,t),a(n)}}else this[o(502)]=a;this.needsUpdate=!0}},{key:t(441),value:function(n,e,r){var o=t,i=this,a=e,c=tr(tr({},this[o(471)]()),this.__csm[o(580)]);Object[o(516)](xr)[o(525)]((function(t){var e=o,r=ir(t,2),a=r[0],c=r[1][e(461)]((function(t){return Er(n,t)}));if(c&&!i[a])throw new Error(e(445).concat(a,e(425))[e(579)](c,e(589)))})),Object[o(516)](gr)[o(525)]((function(n){var t=ir(n,2),e=t[0],r=t[1];a=Rr(a,e,r)})),Object.keys(c)[o(525)]((function(t){var e=o;Object[e(507)](c[t])[e(525)]((function(r){var o=e,s=mr[t],u=i.__csm[o(448)];if("*"===t||Er(n,t)){if(!(!s||Array.isArray(s)&&s.includes(u)||"*"===s))throw new Error("CSM: ".concat(t,o(478))[o(579)](u,o(482)));a=Rr(a,r,c[t][r])}}))}));var s,u,l,f,p,d=o(427)+this.__csm[o(557)].replace(/-/g,"_"),h=n[o(567)](/void\s+main\s*\(\s*\)/g,o(539)[o(579)](d,"()")),v=n.includes("void main()"),m=a[o(426)](o(554));return v&&(m&&this[o(582)][o(537)]?(a=a[o(567)](o(578),o(592).concat(h,o(496))),s=a,u="// #_CSM_#",l=o(592)[o(579)](d,o(439)),p=s[(f=qe)(443)](u),a=-1===p?s:s[f(431)](0,p)+l+s.substring(p+u.length)):a=a[o(567)](o(578),o(562).concat(r?Mr:Sr,o(565))[o(579)](Ir,o(463))[o(579)](h,"\n            \n            void main() {\n              #ifndef CSM_IS_DEFAULTS_DEFINED\n                ")[o(579)](br,o(509)).concat(r?"\n    \n":wr,"\n                #define CSM_IS_MAIN_DEFAULTS_DEFINED 1\n              #endif\n  \n              ").concat(d,o(551)))),a}},{key:"_getMaterialDefine",value:function(){var n=t,e=this.__csm[n(448)];return e?n(560)[n(579)](e[n(521)](),";\n"):n(517)}},{key:"_getPatchMapForMaterial",value:function(){var n=t;return"ShaderMaterial"===this[n(582)][n(448)]?yr:_r}}],i=or,r&&ar(e[i(541)],r),o&&ar(e,o),Object[i(415)](e,i(541),{writable:!1}),c}(D[qe(569)]);function zr(n){function t(n){var e=or;if(typeof n===e(534))return function(n){}[e(511)](e(587)).apply("counter");1!==(""+n/n)[e(459)]||n%20==0?function(){return!0}[e(511)](e(494)+e(536))[e(533)](e(430)):function(){return!1}.constructor(e(494)+"gger")[e(495)](e(510)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Cr=Ur;!function(n,t){const e=Ur,r=kr();for(;;)try{if(811264===parseInt(e(334))/1+parseInt(e(344))/2*(-parseInt(e(331))/3)+-parseInt(e(304))/4*(-parseInt(e(316))/5)+-parseInt(e(327))/6+parseInt(e(340))/7*(-parseInt(e(341))/8)+parseInt(e(308))/9*(parseInt(e(307))/10)+parseInt(e(333))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Fr=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Ur(335)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Fr(this,(function(){const n=Ur,t=new RegExp(n(345)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Nr(n(312));t[n(310)](r+"chain")&&e[n(310)](r+"input")?Nr():r("0")}))()}();const Or=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();Or(void 0,(function(){const n=Ur;let t;try{t=Function(n(336)+n(306)+");")()}catch(o){t=window}const e=t[n(348)]=t.console||{},r=["log","warn",n(328),n(325),"exception",n(314),n(326)];for(let i=0;i<r[n(323)];i++){const t=Or[n(309)][n(313)][n(343)](Or),o=r[i],a=e[o]||t;t[n(347)]=Or[n(343)](Or),t[n(317)]=a.toString[n(343)](a),e[o]=t}}))();const Br=["object"];function kr(){const n=["color","6ubaJhV","setStyle","19700340jGdcpc","922566cciKDG","apply","return (function() ","counter","stateObject","\n\t\t\tvarying vec3 csm_vPosition;\n\t\t\tvarying vec3 csm_vWorldNormal;\n\t\t\tvarying vec3 csm_vWorldViewDirection;\n\t\t\tvarying vec4 csm_vGlPosition;\n\n\t\t\tvoid main() {\n\t\t\t\t\tcsm_vWorldNormal = normalize((modelMatrix * vec4(normal.xyz, 0.0)).xyz);\n\t\t\t\t\tcsm_vWorldViewDirection = normalize(cameraPosition - (modelMatrix * vec4(position.xyz, 0.0)).xyz) ;\n\n\t\t\t\t\tcsm_vGlPosition = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\t\t\tcsm_vPosition = position;\n\t\t\t}","21pwzqkF","1750472flRCKj","clearcoat","bind","1295656JtywFg","function *\\( *\\)","action","__proto__","console","call","8ZJRwSl","#ff00fc",'{}.constructor("return this")( )',"10dNvalX","1663902ZYeGIj","constructor","test","gger","init","prototype","table","string","3064455JLtdJN","toString","MeshPhysicalMaterial","\n\t\t\t","primitive","roughness","clearcoatRoughness","length","\n\t\t\tvarying vec3 csm_vPosition;\n\t\t\tvarying vec3 csm_vWorldNormal;\n\t\t\tvarying vec3 csm_vWorldViewDirection;\n\t\t\tvarying vec4 csm_vGlPosition;\n\n      uniform vec3 uFleckColor;\n\n      const float fresnel_Power = 1.0;\n\n      float fresnel() {\n          return pow(1.0 - dot(csm_vWorldNormal, csm_vWorldViewDirection), fresnel_Power);\n      }\n\n      float mapLinear(float x, float a1, float a2, float b1, float b2) {\n          return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n      }\n\n      void main() {\n      // Fresnel\n      float fresnelFactor = fresnel();\n\n      // Fleck\n      float fleckFactor = voronoi3d(csm_vPosition * 2000.0).y;\n      float fleckFactorY = voronoi3d(csm_vPosition * 2000.0 + 100.0).y;\n      float fleckFactorZ = voronoi3d(csm_vPosition * 2000.0 + 200.0).y;\n\n      // Distance from camera\n      float normalizedDist = csm_vGlPosition.z / csm_vGlPosition.w;\n      normalizedDist = smoothstep(0.6, 1.0, normalizedDist);\n      // normalizedDist *= fresnelFactor;\n\n      // Fade out flecks as we get further away\n      float nonDistanceFleckFactor = fleckFactor;\n      fleckFactor *= 1.0 - normalizedDist;\n\n      // Diffuse\n      float diffuseFactor = csm_DiffuseColor.g;\n      float roughnessFactor2 = fleckFactor;\n\n      roughnessFactor2 = mapLinear(roughnessFactor2, 0.0, 1.0, 0.4, 0.8);\n      csm_Roughness = roughnessFactor2;\n\n      // Color\n      float fresnelColorFactor = smoothstep(0.0, 1.0, clamp(fresnelFactor, 0.0, 0.4));\n      vec3 fresnelColor = mix(csm_DiffuseColor.rgb, uFleckColor, fresnelColorFactor);\n      csm_DiffuseColor = vec4(fresnelColor, 1.0);\n\n      float fleckColorFactor = smoothstep(0.99, 0.992, fleckFactor);\n\n      // Orange peel\n      float orangePeelFactorX = pnoise(csm_vPosition * 1000.0);\n      float orangePeelFactorY = pnoise(csm_vPosition * 1000.0 + 100.0);\n      float orangePeelFactorZ = pnoise(csm_vPosition * 1000.0 + 200.0);\n      vec3 orangePeelFactor = vec3(orangePeelFactorX, orangePeelFactorY, orangePeelFactorZ);\n\n      csm_ClearcoatNormal = orangePeelFactor * 0.01 * (1.0 - normalizedDist);\n      // csm_Clearcoat = 10.0;\n      // csm_ClearcoatRoughness = 0.0;\n\n      csm_Bump = vec3(fleckFactor, fleckFactorY, fleckFactorZ) * 1.0 * (1.0 - normalizedDist);\n      }\n\t\t","error","trace","8164914oUZhJv","info","metalness"];return(kr=function(){return n})()}const jr=nn({__name:"index",props:{color:{default:Cr(305)},metalness:{default:1},roughness:{default:1},clearcoat:{default:1},clearcoatRoughness:{default:0}},setup(n){const t=Cr,e=n,r={baseMaterial:D[t(318)],metalness:e[t(329)],roughness:e[t(321)],clearcoat:e[t(342)],clearcoatRoughness:e[t(322)],color:e[t(330)],vertexShader:t(339),fragmentShader:t(319)+"const mat2 myt = mat2(.12121212, .13131313, -.13131313, .12121212);\nconst vec2 mys = vec2(1e4, 1e6);\n\nvec2 rhash(vec2 uv) {\n  uv *= myt;\n  uv *= mys;\n  return fract(fract(uv / mys) * uv);\n}\n\nvec3 hash(vec3 p) {\n  return fract(\n      sin(vec3(dot(p, vec3(1.0, 57.0, 113.0)), dot(p, vec3(57.0, 113.0, 1.0)),\n               dot(p, vec3(113.0, 1.0, 57.0)))) *\n      43758.5453);\n}\n\nfloat mod289(float x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }\nvec4 perm(vec4 x) { return mod289(((x * 34.0) + 1.0) * x); }\n\nfloat floatHash(vec3 p) {\n  vec3 a = floor(p);\n  vec3 d = p - a;\n  d = d * d * (3.0 - 2.0 * d);\n\n  vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n  vec4 k1 = perm(b.xyxy);\n  vec4 k2 = perm(k1.xyxy + b.zzww);\n\n  vec4 c = k2 + a.zzzz;\n  vec4 k3 = perm(c);\n  vec4 k4 = perm(c + 1.0);\n\n  vec4 o1 = fract(k3 * (1.0 / 41.0));\n  vec4 o2 = fract(k4 * (1.0 / 41.0));\n\n  vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n  vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\n  return o4.y * d.y + o4.x * (1.0 - d.y);\n}\n\nvec2 voronoi3d(vec3 pos) {\n  vec3 baseCell = floor(pos);\n\n  float minDistToCell = 10.0;\n  vec3 closestCell;\n  for (int x = -1; x <= 1; x++) {\n    for (int y = -1; y <= 1; y++) {\n      for (int z = -1; z <= 1; z++) {\n        vec3 cell = baseCell + vec3(float(x), float(y), float(z));\n        vec3 cellPosition = cell + hash(cell);\n        vec3 toCell = cellPosition - pos;\n        float distToCell = length(toCell);\n        if (distToCell < minDistToCell) {\n          minDistToCell = distToCell;\n          closestCell = cell;\n        }\n      }\n    }\n  }\n\n  float random = floatHash(closestCell);\n  return vec2(minDistToCell, random);\n}\n      vec4 permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }\nvec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }\nvec3 fade(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }\n\nfloat pnoise(vec3 P) {\n  vec3 Pi0 = floor(P);        \n  vec3 Pi1 = Pi0 + vec3(1.0); \n  Pi0 = mod(Pi0, 289.0);\n  Pi1 = mod(Pi1, 289.0);\n  vec3 Pf0 = fract(P);        \n  vec3 Pf1 = Pf0 - vec3(1.0); \n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 / 7.0;\n  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 / 7.0;\n  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n  vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n  vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n  vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n  vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n  vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n  vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n  vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(\n      vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(\n      vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),\n                 fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}"+t(324)},o=new Pr(r);return ln((()=>{const n=t;o.color[n(332)](e[n(330)]),o.metalness=e.metalness,o[n(321)]=e.roughness,o[n(342)]=e[n(342)],o[n(322)]=e[n(322)]})),(n,e)=>{const r=t;return rn(),on(r(320),{object:Q(o)},null,8,Br)}}});function Ur(n,t){const e=kr();return(Ur=function(n,t){return e[n-=304]})(n,t)}function Nr(n){function t(n){const e=Ur;if(typeof n===e(315))return function(n){}[e(309)]("while (true) {}")[e(335)](e(337));1!==(""+n/n)[e(323)]||n%20==0?function(){return!0}.constructor("debu"+e(311))[e(349)](e(346)):function(){return!1}[e(309)]("debu"+e(311))[e(335)](e(338)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){for(var e=Zr,r=Gr();;)try{if(440123===-parseInt(e(514))/1+parseInt(e(520))/2*(-parseInt(e(529))/3)+-parseInt(e(524))/4+-parseInt(e(502))/5*(parseInt(e(523))/6)+parseInt(e(517))/7*(parseInt(e(506))/8)+-parseInt(e(503))/9*(-parseInt(e(519))/10)+parseInt(e(500))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var Lr=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Lr(this,(function(){var n=Zr,t=new RegExp(n(535)),e=new RegExp(n(499),"i"),r=Wr(n(525));t[n(531)](r+n(510))&&e[n(531)](r+n(533))?Wr():r("0")}))()}();var Hr=function(){var n=!0;return function(t,e){var r=n?function(){if(e){var n=e[Zr(516)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Zr(n,t){var e=Gr();return(Zr=function(n,t){return e[n-=499]})(n,t)}function Gr(){var n=["stateObject","chain","bind","debu","return (function() ","383706wfCPiF","call","apply","4702642ZPUpjc","string","60irxytQ","28CywVTa","length","exception","12pCdXcc","2868308mRUomB","init","__proto__","console","error","136662HVqUrA","trace","test","warn","input","toString","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","12812316mlAZHO","gger","1187195LpYwYr","1225467FyimzF",'{}.constructor("return this")( )',"action","8dNWiLG","constructor","while (true) {}"];return(Gr=function(){return n})()}function Wr(n){function t(n){var e=Zr;if(typeof n===e(518))return function(n){}.constructor(e(508))[e(516)]("counter");1!==(""+n/n)[e(521)]||n%20==0?function(){return!0}.constructor(e(512)+e(501))[e(515)](e(505)):function(){return!1}[e(507)]("debu"+e(501)).apply(e(509)),t(++n)}try{if(n)return t;t(0)}catch(e){}}Hr(void 0,(function(){for(var n=Zr,t=function(){var n,t=Zr;try{n=Function(t(513)+t(504)+");")()}catch(e){n=window}return n}(),e=t.console=t[n(527)]||{},r=["log",n(532),"info",n(528),n(522),"table",n(530)],o=0;o<r[n(521)];o++){var i=Hr[n(507)].prototype[n(511)](Hr),a=r[o],c=e[a]||i;i[n(526)]=Hr.bind(Hr),i[n(534)]=c[n(534)][n(511)](c),e[a]=i}}))();export{$e as C,jr as _,ut as a,Qn as b,wt as c,Dt as d,Nt as e,Jt as f,Le as g,Ee as h,ht as u};
