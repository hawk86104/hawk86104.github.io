import{P as t}from"./tweakpane.yHWGBmom1731462043013.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.D4hKwHkw1731462043013.js";import{_ as r}from"./heatmap.js-fix.r-zoTPMH1731462043013.js";import{h as i,_ as c,bY as s}from"./three.wKRaqyB-1731462043013.js";import{r as u}from"./utils.cFc4kGHg1731462043013.js";import{d as a}from"./pinia.TsQ0LDHQ1731462043013.js";import{b as f,d as p,a3 as l,o as h,D as m,J as d,u as g,F as v,q as y,U as w,N as b,P as I,H as _,L as x,a6 as j,r as M,j as P,g as D,m as S}from"./@vue.-THQH3GC1731462043013.js";import{c as O,d as R,a as Z}from"./three-mesh-bvh.KZ7d0h7V1731462043013.js";import{_ as E}from"./@fesjs.uG2EzMwn1731462043013.js";import"./@tresjs.xlnLF3O61731462043013.js";import"./@vueuse.W4jVx8WA1731462043013.js";import"./three-custom-shader-material.N2snw3Mo1731462043013.js";import"./@amap.r7GlLHCm1731462043013.js";import"./vue-demi.C4xddsk91731462043013.js";import"./vue-router.9VsVDPG11731462043013.js";import"./lodash-es.kYt-_xTG1731462043013.js";import"./@qlin.yHhFDldE1731462043013.js";import"./@floating-ui.BPbuo5Gx1731462043013.js";import"./@juggle.7yjBMqoW1731462043013.js";!function(t,n){const e=U,o=k();for(;;)try{if(878362===-parseInt(e(418))/1+parseInt(e(416))/2*(parseInt(e(429))/3)+parseInt(e(407))/4+parseInt(e(449))/5*(-parseInt(e(433))/6)+-parseInt(e(421))/7*(-parseInt(e(427))/8)+parseInt(e(401))/9+parseInt(e(411))/10*(-parseInt(e(435))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(447)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=U,n=new RegExp(t(406)),e=new RegExp(t(428),"i"),o=V(t(397));n[t(413)](o+t(396))&&e[t(413)](o+t(445))?V():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(414)+t(417)+");")()}catch(e){n=window}return n}(),e=n[t(437)]=n.console||{},o=["log",t(398),t(440),t(431),t(425),t(444),t(432)];for(let r=0;r<o.length;r++){const n=L[t(438)][t(422)][t(394)](L),i=o[r],c=e[i]||n;n.__proto__=L[t(394)](L),n.toString=c[t(400)].bind(c),e[i]=n}}))();function k(){const t=["height","16QDqZPu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","21STqdLD","left","error","trace","6oMMhLY","stateObject","22heMXMV","string","console","constructor","none","info","yellow","gger","getValueAt","table","input","push","apply","_config","3055385PxVkga","rgb(0,0,255)","bind","counter","chain","init","warn","width","toString","14115654SNIyOf","display","setData","appendChild","create","function *\\( *\\)","3551052WMguqH","heatmap-canvas","position","rgb(0,255,0)","9656210hveneu","while (true) {}","test","return (function() ","randInt","333210LtJvgg",'{}.constructor("return this")( )',"1452517mvWfXf","debu","style","4377779uVtPCD","prototype","action","length","exception"];return(k=function(){return t})()}const A=(t,n)=>t[U(443)](n)+-10;function U(t,n){const e=k();return(U=function(t,n){return e[t-=394]})(t,n)}function V(t){function n(t){const e=U;if(typeof t===e(436))return function(t){}[e(438)](e(412)).apply(e(395));1!==(""+t/t)[e(424)]||t%20==0?function(){return!0}[e(438)](e(419)+e(442)).call(e(423)):function(){return!1}[e(438)](e(419)+e(442))[e(447)](e(434)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=q,o=T();for(;;)try{if(823493===parseInt(e(430))/1+parseInt(e(441))/2*(parseInt(e(440))/3)+-parseInt(e(465))/4+-parseInt(e(461))/5*(parseInt(e(462))/6)+parseInt(e(455))/7*(parseInt(e(445))/8)+parseInt(e(449))/9*(-parseInt(e(450))/10)+parseInt(e(458))/11*(-parseInt(e(443))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(431)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=T();return(q=function(t,n){return e[t-=429]})(t,n)}!function(){$(this,(function(){const t=q,n=new RegExp(t(433)),e=new RegExp(t(432),"i"),o=X("init");n.test(o+"chain")&&e.test(o+t(463))?X():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(431)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["bind","5420541LsHkOf","trace","error","823702zAxfVX","return (function() ","exception","365NPKDmw","1566wYygvS","input","toString","5321484bcbePw","info","1425883PUPFlr","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","warn","counter","table","log","gger","length","3wOYQiR","3036014ypRnNk",'{}.constructor("return this")( )',"12UQAKbW","string","8OcRoZh","while (true) {}","console","__proto__","213453rmfOpS","620MhqmHa","constructor","value","debu"];return(T=function(){return t})()}B(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(459)+t(442)+");")()}catch(e){n=window}return n}(),e=n[t(447)]=n.console||{},o=[t(437),t(434),t(429),t(457),t(460),t(436),t(456)];for(let r=0;r<o[t(439)];r++){const n=B[t(451)].prototype[t(454)](B),i=o[r],c=e[i]||n;n[t(448)]=B[t(454)](B),n[t(464)]=c[t(464)][t(454)](c),e[i]=n}}))();const W=a("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[q(452)]=t}}}));function X(t){function n(t){const e=q;if(typeof t===e(444))return function(t){}[e(451)](e(446))[e(431)](e(435));1!==(""+t/t)[e(439)]||t%20==0?function(){return!0}[e(451)](e(453)+e(438)).call("action"):function(){return!1}.constructor(e(453)+e(438))[e(431)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=J;!function(t,n){const e=J,o=C();for(;;)try{if(148678===-parseInt(e(474))/1+-parseInt(e(480))/2*(-parseInt(e(484))/3)+parseInt(e(473))/4+parseInt(e(538))/5+-parseInt(e(495))/6+parseInt(e(526))/7*(-parseInt(e(524))/8)+-parseInt(e(531))/9*(-parseInt(e(500))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(514)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(545),"i"),o=K(t(520));n[t(504)](o+t(497))&&e[t(504)](o+t(542))?K():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(514)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(){const t=["geometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","数值———：","object","disposeBoundsTree","542704xZSfOP","84732fnPxRW","makeRotationX","trace","buildingsHeatmap","prototype","console","218lgjOil","Texture","stateObject","value","7863vzkgXk","debu","height","BufferGeometry","raycast","_config","counter","length","toString","exception","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","1458096iLKbWC","primitive","chain","string","model","2221610ZvbOgD",'{}.constructor("return this")( )',"computeBoundsTree","log","test","Mesh","mergeGeometries","$patch","matrix","canvas","setShowDiv","DoubleSide","opacity","applyMatrix4","apply","ShaderMaterial","constructor","clone","normal","error","init","uOpacity","width","bind","122632sQUGPq","needsUpdate","133NwuOEc","gger","uniforms","warn","call","9CgjZRK","info","action","__proto__","数值：","attributes","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","620755sVJfql","Matrix4","table","land","input","_renderer"];return(C=function(){return t})()}N(void 0,(function(){const t=J;let n;try{n=Function("return (function() "+t(501)+");")()}catch(r){n=window}const e=n.console=n[t(479)]||{},o=[t(503),t(529),t(532),t(519),t(493),t(540),t(476)];for(let i=0;i<o[t(491)];i++){const n=N[t(516)][t(478)][t(523)](N),r=o[i],c=e[r]||n;n[t(534)]=N.bind(N),n[t(492)]=c[t(492)].bind(c),e[r]=n}}))();const Q=[F(547),"rotation-x"],Y=[F(547)];function J(t,n){const e=C();return(J=function(t,n){return e[t-=473]})(t,n)}const G=p({__name:F(477),props:{model:{},opacity:{default:1}},setup(t){const n=F;(()=>{const t=J;c[t(487)].prototype[t(502)]=O,c[t(487)][t(478)][t(548)]=R,c[t(505)].prototype[t(488)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=U,i=document.createElement(o(408));return i[o(420)][o(409)]="absolute",!e&&(i[o(420)][o(402)]=o(439)),i[o(420)].top="0",i[o(420)][o(430)]="0",document.body[o(404)](i),r[o(405)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(450),.55:o(410),.85:o(441),1:"rgb(255,0,0)"}})})();((t,n)=>{const e=U;if(!n){let o=0;for(n=[];o<1e3;)n[e(446)]({x:i[e(415)](1,t._config[e(399)]),y:i[e(415)](1,t[e(448)][e(426)]),value:i[e(415)](-10,36)}),o++}t[e(403)]({max:36,min:-10,data:n})})(o);const a=new(c[n(481)])(o[n(543)][n(509)]);a[n(525)]=!0;const f=e[n(499)].city.clone();delete f.geometry[n(536)].normal,delete f.geometry[n(536)].uv;const p=f.geometry.clone()[n(513)](f[n(508)]),y=e[n(499)][n(541)][n(517)]();delete y[n(544)][n(536)][n(518)];const w=y[n(544)][n(517)]()[n(513)](y[n(508)]),b=s[n(506)]([p,w]);b[n(513)]((new(c[n(539)]))[n(475)](Math.PI/2)),u(b),b[n(502)]();const I=(t=>{const o=n;return new(c[o(515)])({vertexShader:o(537),fragmentShader:o(494),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(511)]})})(a),_=new(c[n(505)])(b,I);l((()=>{const t=n;e[t(512)]&&(I[t(528)][t(521)][t(483)]=e.opacity)}));const x=W(),j=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(489)][e(522)],y:(1-t.uv.y)*o._config[e(486)]};console[e(503)](e(535),t),console[e(503)](e(546),A(o,n)),x.setTemperature(A(o,n))}},M=t=>{t&&x[n(507)]({showDiv:!0})},P=t=>{t&&x[n(510)](!1)};return(t,o)=>{const r=n;return h(),m(v,null,[d("primitive",{object:g(_),"rotation-x":-Math.PI/2,onPointerMove:j,onPointerEnter:M,onPointerLeave:P},null,40,Q),d(r(496),{object:e[r(499)].model.children[0][r(517)]()},null,8,Y)],64)}}});function K(t){function n(t){const e=J;if(typeof t===e(498))return function(t){}[e(516)]("while (true) {}")[e(514)](e(490));1!==(""+t/t)[e(491)]||t%20==0?function(){return!0}[e(516)](e(485)+e(527))[e(530)](e(533)):function(){return!1}[e(516)](e(485)+e(527))[e(514)](e(482)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const tt=E({__name:"dataDiv",setup(t){const n=W(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return y((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>b((h(),m("div",{class:"title",style:x(e.value)},"温度："+_(g(n).temperature)+"℃ ",5)),[[I,g(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),nt=et;function et(t,n){const e=ot();return(et=function(t,n){return e[t-=111]})(t,n)}function ot(){const t=["table","35775xTVQba","test","call",'{}.constructor("return this")( )',"addBinding","debu","error","530321DbZnwW","bind","__proto__","74fRNdbZ","city","string","builds","length","value","7fvUbJX","function *\\( *\\)","663816GiUwiY","return (function() ","while (true) {}","22sJBLDM","apply","constructor","chain","683820SvgHtM","toString","8LlgmNV","input","heatmap2","9004005BVzgfl","1499535LPBxMj","1893896WaCRzX","counter","model","gger","info","log","trace"];return(ot=function(){return t})()}!function(t,n){const e=et,o=ot();for(;;)try{if(500390===parseInt(e(137))/1+parseInt(e(140))/2*(-parseInt(e(130))/3)+-parseInt(e(117))/4*(parseInt(e(121))/5)+parseInt(e(148))/6+-parseInt(e(146))/7*(parseInt(e(122))/8)+parseInt(e(120))/9+-parseInt(e(115))/10*(-parseInt(e(111))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=et,n=new RegExp(t(147)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=st("init");n[t(131)](o+t(114))&&e[t(131)](o+t(118))?st():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[et(112)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();it(void 0,(function(){const t=et,n=function(){const t=et;let n;try{n=Function(t(149)+t(133)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(127),"warn",t(126),t(136),"exception",t(129),t(128)];for(let r=0;r<o[t(144)];r++){const n=it.constructor.prototype[t(138)](it),i=o[r],c=e[i]||n;n[t(139)]=it[t(138)](it),n[t(116)]=c[t(116)].bind(c),e[i]=n}}))();const ct=p({__name:nt(119),async setup(r){const i=nt;let c,s;const u=f(!1),a=([c,s]=j((()=>o())),c=await c,s(),c);u[i(145)]=!0;const p=M({width:1,color:"#000",opacity:1,show:!0}),l=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(134)](l,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return h(),m(v,null,[P(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[P(G,S({model:g(a)},l),null,16,[r(124)]),P(n,S(p,{builds:g(a)[r(141)]}),null,16,[r(143)])])),_:1}),P(tt)],64)}}});function st(t){function n(t){const e=et;if(typeof t===e(142))return function(t){}[e(113)](e(150)).apply(e(123));1!==(""+t/t)[e(144)]||t%20==0?function(){return!0}[e(113)](e(135)+"gger")[e(132)]("action"):function(){return!1}[e(113)](e(135)+e(125))[e(112)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
