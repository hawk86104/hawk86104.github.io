import"./@fesjs.CMF3INLF1754904685969.js";import{e,k as t,a}from"./@tresjs.BjMM-vnM1754904685969.js";import"./Resource.CBxPGEjS1754904685969.js";/* empty css                                                                             */import{_ as o}from"./randomLoading.vue_vue_type_script_setup_true_lang.c9K_aWA51754904685969.js";import"./three-mesh-ui.module.BKA2XaqF1754904685969.js";/* empty css                                                              */import{_ as i}from"./component.vue_vue_type_script_setup_true_lang.WRbXIMW91754904685969.js";import{_ as s}from"./vanilla.esm.5.5.0.BcxALeRP1754904685969.js";import{d as n,b as r,s as l,G as m,o as d,I as p,L as u,e as c,f as g,j as y,u as f,F as _,W as b,a5 as h,aa as j,r as x,a7 as v,a8 as B,h as k}from"./@vue.BzMISRrV1754904685969.js";import{_ as w}from"./index.vue_vue_type_script_setup_true_lang.De3adiLm1754904685969.js";import{g as M,V as T,S,au as P,bL as I,aa as z,_ as C,Y as D}from"./three.QlBabAUP1754904685969.js";import{_ as L}from"./index.vue_vue_type_script_setup_true_lang.BZ4V6NlI1754904685969.js";import{_ as G}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.DaRuO-q-1754904685969.js";import{P as O}from"./tweakpane.C0HtAJSg1754904685969.js";import"./vue-router.CYfhvatL1754904685969.js";import"./lodash-es.C7pWAXPe1754904685969.js";import"./pinia.BU_gMxDw1754904685969.js";import"./@qlin.q6OWdsQV1754904685969.js";import"./@babel.BPq7uOAK1754904685969.js";import"./@floating-ui.BFjFSAYt1754904685969.js";import"./@juggle.CcBCnTIR1754904685969.js";import"./postprocessing.BH2iSzHf1754904685969.js";import"./@vueuse.BM5WLybn1754904685969.js";import"./starLoading.DSBwlVCv1754904685969.js";import"./utils.BDd6-Dg11754904685969.js";import"./cssLoaders.C_CWk2ga1754904685969.js";import"./bubbleLoading.WaLdZ3ai1754904685969.js";import"./yangyangLoading.BqGf3mDr1754904685969.js";import"./three-stdlib.DfglBLko1754904685969.js";import"./object-hash.DRrnSYZC1754904685969.js";import"./@amap.CGUF9xH41754904685969.js";import"./jszip.Ds855-901754904685969.js";import"./index.4pMgPrlB1754904685969.js";import"./@pmndrs.DZ0s6mBi1754904685969.js";const R=n({__name:"index",props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(e){const t=e,a=r(null),o=r(null),i=r(null);return l((()=>{if(!o.value)return;if(!i.value)return;o.value.matrixWorld.identity();const e=(new M).setFromObject(i.value,t.precise),a=new T,s=new S,n=e.max.x-e.min.x,r=e.max.y-e.min.y,l=e.max.z-e.min.z;e.getCenter(a),e.getBoundingSphere(s);const m=t.top?r/2:t.bottom?-r/2:0,d=t.left?-n/2:t.right?n/2:0,p=t.front?l/2:t.back?-l/2:0;o.value.position.set(t.disable||t.disableX?0:-a.x+d,t.disable||t.disableY?0:-a.y+m,t.disable||t.disableZ?0:-a.z+p)})),(e,t)=>(d(),m("TresGroup",{ref_key:"gref",ref:a},[p("TresGroup",{ref_key:"outer",ref:o},[p("TresGroup",{ref_key:"inner",ref:i},[u(e.$slots,"default")],512)],512)],512))}}),A=["rotation"],F=["rotation-x"],W=n({__name:"env",setup(t){const a=r(null),{onLoop:o}=e();o((({delta:e})=>{a.value&&(a.value.rotation.z+=e)}));const n=[2,-2,2,-4,2,-5,2,-9];return(e,t)=>(d(),c(h,null,{default:g((()=>[y(f(i),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:g((()=>[y(f(s),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),y(f(s),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),p("TresGroup",{rotation:[Math.PI/2,1,0]},[(d(),m(_,null,b(n,((e,t)=>y(f(s),{key:t,intensity:1,rotation:[Math.PI/4,0,0],position:[e,4,4*t],scale:[4,1,1]},null,8,["rotation","position"]))),64))],8,A),y(f(s),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),y(f(s),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),y(f(s),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),p("TresGroup",{ref_key:"refgroup",ref:a,"rotation-x":Math.PI/2},[y(f(s),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,F)])),_:1},8,["path"])])),_:1}))}}),Y={position:[0,-.5,0],rotation:[0,-.75,0]},E=["geometry","material"],K=["geometry","material"],X=["geometry","material"],Z=["geometry","material"],$=["geometry","material"],q=["geometry","material"],H=["geometry","material"],J=["geometry"],V=["geometry","material"],N=["geometry","material"],Q=n({__name:"models",async setup(e){let a,o;const i=new P({transparent:!0,opacity:1,color:"black",roughness:0,side:z,blending:I,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:s,materials:n}=([a,o]=j((()=>t("./plugins/eCommerce/model/glass-transformed.glb",{draco:!0,decoderPath:"./draco/"}))),a=await a,o(),a),r={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},l=x({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),u=new O;u.hidden=!0,u.addBinding(l,"color",{label:"颜色"}),u.addBinding(l,"roughness",{label:"roughness",min:0,max:1,step:.01}),u.addBinding(l,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),u.addBinding(l,"attenuationColor",{label:"attenuationColor"}),u.addBinding(l,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),u.addBinding(l,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),u.addBinding(l,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),u.addBinding(l,"distortion",{label:"distortion",min:0,max:10,step:.01}),u.addBinding(l,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),u.addBinding(l,"backside",{label:"backside"}),u.addBinding(l,"thickness",{label:"thickness",min:0,max:4,step:.01}),u.addBinding(l,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const c=x({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),_=new O({title:"参数"});return _.hidden=!0,_.addBinding(c,"color",{label:"颜色"}),_.addBinding(c,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),_.addBinding(c,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),_.addBinding(c,"far",{label:"可视距离",min:0,max:30,step:1}),_.addBinding(c,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),_.addBinding(c,"intensity",{label:"强度",min:0,max:1,step:.01}),_.addBinding(c,"causticsOnly",{label:"只显示投射"}),_.addBinding(c,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(e,t)=>(d(),m("TresGroup",Y,[p("TresMesh",{geometry:f(s).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:f(n).FruitCakeSlice_u1_v1},null,8,E),p("TresMesh",{geometry:f(s).straw_1.geometry,castShadow:"",material:f(n).straw_2},null,8,K),p("TresMesh",{geometry:f(s).straw_2.geometry,castShadow:"",material:f(n).straw_1},null,8,X),p("TresMesh",{geometry:f(s).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:f(n).straw_2},null,8,Z),p("TresMesh",{geometry:f(s).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:f(n).straw_1},null,8,$),y(f(R),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:g((()=>[p("TresMesh",{geometry:f(s).flowers.geometry,castShadow:"",material:f(n)["draifrawer_u1_v1.001"],scale:1.2},null,8,q)])),_:1}),p("TresMesh",{castShadow:"",geometry:f(s).fork.geometry,material:f(n).ForkAndKnivesSet001_1K,"material-color":"#999"},null,8,H),y(f(L),v(B(c)),{default:g((()=>[p("TresMesh",{castShadow:"",receiveShadow:"",geometry:f(s).glass.geometry},[y(f(w),v(B(l)),null,16)],8,J)])),_:1},16),p("TresMesh",{geometry:f(s).glass_back.geometry,material:f(i),scale:[.95,1,.95]},null,8,V),p("TresMesh",{geometry:f(s).glass_inner.geometry,material:f(i)},null,8,N),y(f(G),v(B(r)),null,16)]))}}),U=n({__name:"arrangement",setup(e){const t={clearColor:"#fffffff",windowSize:!0,toneMapping:D,toneMappingExposure:.8,shadows:!0,outputColorSpace:C};return(e,i)=>{const s=k("TresCanvas");return d(),m(_,null,[y(f(o)),y(s,v(B(t)),{default:g((()=>[i[0]||(i[0]=p("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),y(f(a),{enableDamping:""}),(d(),c(h,null,{default:g((()=>[y(Q)])),_:1})),y(W)])),_:1},16)],64)}}});export{U as default};
