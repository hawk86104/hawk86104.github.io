import{z as n,U as t}from"./@tresjs.S6PXiQcG1729820105274.js";import{d as o,a4 as e,r,Y as i,a3 as a,o as s,E as c,L as u,m as l,u as f,b as p,w as d,aj as g,ak as h}from"./@vue.bvMz0l_u1729820105274.js";import{aL as v,a0 as m,C as y,M as x,cj as w,V as _}from"./three.0W5n8UBO1729820105274.js";const M=I;function I(n,t){const o=P();return(I=function(n,t){return o[n-=361]})(n,t)}!function(n,t){const o=I,e=P();for(;;)try{if(520855===-parseInt(o(393))/1*(parseInt(o(411))/2)+-parseInt(o(390))/3*(parseInt(o(395))/4)+parseInt(o(398))/5*(-parseInt(o(382))/6)+parseInt(o(399))/7+parseInt(o(365))/8*(parseInt(o(363))/9)+parseInt(o(391))/10*(parseInt(o(367))/11)+parseInt(o(380))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const A=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[I(372)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){A(this,(function(){const n=I,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(388),"i"),e=j(n(410));t[n(394)](e+n(364))&&o[n(394)](e+"input")?j():e("0")}))()}();const b=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[I(372)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function P(){const n=["img","2004WVVLks","table","foremost","translate","error","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","15asVoBJ","30PSjcyB","prototype","37034tXhCtn","test","8748KKVmAF","99999","trace","1395YLPrep","4700038HAVaBd","map","info","call","length","value","sizeAttenuation","log","gger","TresSpriteMaterial","toString","init","40JZCEcz","buildingsMarkA","position","9LPIYTU","chain","65608KiAvyI","color","251581fJDiLq","constructor","while (true) {}","bind","geometry","apply","__proto__","scale","debu","TresSprite",'{}.constructor("return this")( )',"offset","string","7408896sLeCpm"];return(P=function(){return n})()}b(void 0,(function(){const n=I,t=function(){const n=I;let t;try{t=Function("return (function() "+n(377)+");")()}catch(o){t=window}return t}(),o=t[n(389)]=t[n(389)]||{},e=[n(406),n(387),n(401),n(386),"exception",n(383),n(397)];for(let r=0;r<e[n(403)];r++){const t=b[n(368)][n(392)][n(370)](b),i=e[r],a=o[i]||t;t[n(373)]=b[n(370)](b),t[n(409)]=a[n(409)][n(370)](a),o[i]=t}}))();const R=[M(362),M(374)],F=[M(400)],T=o({__name:M(361),props:{color:{default:"#fff"},position:{default:[0,0,0]},scale:{default:.1},img:{},offset:{default:[.344,.394]},foremost:{type:Boolean,default:!0},sizeAttenuation:{type:Boolean,default:!1}},async setup(t){const o=M;let p,d;const g=t,{map:h}=([p,d]=e((()=>n({map:g[o(381)]}))),p=await p,d(),p),v=r({color:g[o(366)],transparent:!0,depthWrite:!1,sizeAttenuation:g[o(405)],toneMapped:!1,depthTest:!g[o(384)]}),m=i(null);return a((()=>{const n=o;m[n(404)]&&(m[n(404)].geometry=m[n(404)][n(371)].clone(),m.value[n(371)][n(385)](g[n(378)][0],g[n(378)][1],0))})),(n,t)=>{const e=o;return s(),c(e(376),{ref_key:"tsRef",ref:m,position:g[e(362)],scale:g.scale,renderOrder:e(396)},[u(e(408),l(v,{map:f(h)}),null,16,F)],8,R)}}});function j(n){function t(n){const o=I;if(typeof n===o(379))return function(n){}[o(368)](o(369))[o(372)]("counter");1!==(""+n/n)[o(403)]||n%20==0?function(){return!0}[o(368)](o(375)+o(407))[o(402)]("action"):function(){return!1}[o(368)](o(375)+o(407))[o(372)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const S=z;function z(n,t){const o=W();return(z=function(n,t){return o[n-=250]})(n,t)}!function(n,t){const o=z,e=W();for(;;)try{if(520492===-parseInt(o(255))/1+-parseInt(o(291))/2+-parseInt(o(253))/3*(-parseInt(o(296))/4)+-parseInt(o(292))/5+-parseInt(o(283))/6+parseInt(o(299))/7*(-parseInt(o(274))/8)+parseInt(o(277))/9*(parseInt(o(298))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(294)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){k(this,(function(){const n=z,t=new RegExp(n(252)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Z("init");t[n(287)](e+n(260))&&o.test(e+n(272))?Z():e("0")}))()}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function W(){const n=["21OHJDgA","size","384210MTMpjj","#ffff00","while (true) {}","makeRotationX",'{}.constructor("return this")( )',"chain","debu","error","value","\n\tvarying vec3 vPosition;\n\tvoid main() {\n\t\tvPosition = position;\n\t\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\tvec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n    gl_Position = projectionPosition;\n  }\n  ","call","console","exception","counter","position","__proto__","warn","input","TresMesh","8HuZxdP","length","uniforms","9YDgexk","followWidth","constructor","bind","radius","table","3772602GOQneF","applyMatrix4","gger","\n\tuniform float uRadius;     \n  uniform float uTime;            \n  uniform float uSpeed; \n  uniform float uFollowWidth; \n  varying vec3 vPosition;\n\tuniform vec3 ncolor;\n  float calcAngle(vec3 oFrag){\n    float fragAngle;\n    const vec3 ox = vec3(1,0,0);\n    float dianji = oFrag.x * ox.x + oFrag.z*ox.z;\n    float oFrag_length = length(oFrag); // length是内置函数\n    float ox_length = length(ox); // length是内置函数\n    float yuxian = dianji / (oFrag_length * ox_length);\n    fragAngle = acos(yuxian);\n    fragAngle = degrees(fragAngle);\n    if(oFrag.z > 0.0) {\n      fragAngle = -fragAngle + 360.0;\n    }\n    float scanAngle = uTime * uSpeed - floor(uTime * uSpeed / 360.0) * 360.0;\n    float angle = scanAngle - fragAngle;\n    if(angle < 0.0){\n      angle = angle + 360.0;\n    }\n    return angle;\n  }\n  void main() {\n\t\t\t// length内置函数，取向量的长度\n\t\tif(length(vPosition) == 0.0 || length(vPosition) > uRadius-2.0){\n\t\t\tgl_FragColor = vec4( ncolor, 1.0 );\n\t\t} else {\n\t\t\tfloat angle = calcAngle(vPosition);\n\t\t\tif(angle < uFollowWidth){\n\t\t\t\t// 尾焰区域\n\t\t\t\tfloat opacity =  1.0 - angle / uFollowWidth; \n\t\t\t\tgl_FragColor = vec4( ncolor, 1.0 * opacity );  \n\t\t\t} else {\n\t\t\t\t// 其他位置的像素均为透明\n\t\t\t\tgl_FragColor = vec4( ncolor, 0.0 ); \n\t\t\t}\n\t\t}\n\t}\n  ","test","uRadius","info","toString","439522gloBoR","4086650lfzAPg","args","apply","color","254812dVdxnc","ncolor","31231370CSbfYV","6989486vUokNQ","radraA","TresCircleGeometry","prototype","action","function *\\( *\\)"];return(W=function(){return n})()}C(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function("return (function() "+n(259)+");")()}catch(o){t=window}return t}(),o=t[n(266)]=t[n(266)]||{},e=["log",n(271),n(289),n(262),n(267),n(282),"trace"];for(let r=0;r<e.length;r++){const t=C[n(279)][n(250)][n(280)](C),i=e[r],a=o[i]||t;t[n(270)]=C[n(280)](C),t[n(290)]=a[n(290)][n(280)](a),o[i]=t}}))();const B=[S(269)],O=[S(293)],V=o({__name:S(300),props:{position:{default:[0,0,0]},size:{default:300},radius:{default:240},color:{default:S(256)},opacity:{default:.9},speed:{default:300},followWidth:{default:220}},setup(n,{expose:o}){const e=S,r=n,{onLoop:i}=t(),l={value:0},f=p();i((({delta:n})=>{l[z(263)]+=n}));const w={transparent:!0,blending:v,depthWrite:!1,side:m,depthTest:!0,vertexShader:e(264),fragmentShader:e(286),uniforms:{uSpeed:{value:r.speed},uRadius:{value:r[e(281)]},uTime:l,uFollowWidth:{value:r[e(278)]},ncolor:{value:new y(r[e(295)])}}};d(f,((n,t)=>{const o=e;if(n&&void 0===t){const n=(new x)[o(258)](-Math.PI/180*90);f[o(263)][o(284)](n)}}));const _=p();return a((()=>{const n=e;r.color&&(w[n(276)][n(297)][n(263)]=new y(r[n(295)])),r[n(281)]&&(w[n(276)][n(288)][n(263)]=r.radius)})),p(-Math.PI/180*90),o({MeshRef:_}),(n,t)=>{const o=e;return s(),c(o(273),{ref_key:"MeshRef",ref:_,position:r[o(269)]},[u(o(301),{ref_key:"TresCircleGeometryRef",ref:f,args:[r[o(254)],1e3]},null,8,O),u("TresShaderMaterial",g(h(w)),null,16)],8,B)}}});function Z(n){function t(n){const o=z;if("string"==typeof n)return function(n){}[o(279)](o(257))[o(294)](o(268));1!==(""+n/n)[o(275)]||n%20==0?function(){return!0}.constructor(o(261)+o(285))[o(265)](o(251)):function(){return!1}[o(279)](o(261)+"gger").apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const L=H;!function(n,t){const o=H,e=J();for(;;)try{if(392014===parseInt(o(264))/1+-parseInt(o(236))/2*(-parseInt(o(277))/3)+parseInt(o(257))/4+parseInt(o(273))/5+-parseInt(o(281))/6+parseInt(o(255))/7*(parseInt(o(266))/8)+-parseInt(o(278))/9*(parseInt(o(285))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const E=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[H(260)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){E(this,(function(){const n=H,t=new RegExp(n(284)),o=new RegExp(n(280),"i"),e=D(n(276));t[n(242)](e+"chain")&&o.test(e+n(269))?D():e("0")}))()}();const G=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[H(260)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();G(void 0,(function(){const n=H;let t;try{t=Function(n(230)+n(279)+");")()}catch(r){t=window}const o=t[n(252)]=t[n(252)]||{},e=[n(290),n(271),n(232),n(283),n(292),n(270),n(262)];for(let i=0;i<e[n(256)];i++){const t=G[n(246)].prototype[n(251)](G),r=e[i],a=o[r]||t;t[n(268)]=G[n(251)](G),t[n(267)]=a[n(267)][n(251)](a),o[r]=t}}))();const Y=[L(286)],$=["args"];function J(){const n=["\n\tuniform vec3 uColor; // 光墙半径        \n  uniform vec3 uMax; \n  uniform vec3 uMin;\n  uniform mat4 modelMatrix; // 世界矩阵\n  varying vec4 vPosition; // 接收顶点着色传递进来的位置数据\n  void main() {\n    // 转世界坐标\n    vec4 uMax_world = modelMatrix * vec4(uMax,1.0);\n    vec4 uMin_world = modelMatrix * vec4(uMin,1.0);\n    // 根据像素点世界坐标的y轴高度,设置透明度\n    float opacity =1.0 - (vPosition.y - uMin_world.y) / (uMax_world.y -uMin_world.y) ; \n    gl_FragColor = vec4( uColor, opacity);\n  }\n  ","trace","boundingBox","88562bYJglA","TresMesh","8ABVgRW","toString","__proto__","input","table","warn","#ffff00","233095wbjpMP","makeScale","maxRadius","init","33OoXcpa","23724UAWrUt",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1553346rGZAWc","updateMatrix","error","function *\\( *\\)","3460lhdeSF","position","gger","stateObject","scale","log","applyMatrix4","exception","debu","return (function() ","string","info","clone","computeBoundingBox","TresTubeGeometryRef","56932ZcGOHq","while (true) {}","action","uColor","MeshRef","max","test","value","TresShaderMaterial","\n\tvarying vec4 vPosition;\n  void main() {\n    vPosition = modelMatrix * vec4(position,1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n  ","constructor","height","counter","TresTubeGeometry","copy","bind","console","radius","period","2569987aCkfOp","length","2990052aysgnm","opacity","color","apply"];return(J=function(){return n})()}const U=o({__name:"radraB",props:{position:{default:[0,0,0]},radius:{default:10},maxRadius:{default:200},color:{default:L(272)},opacity:{default:.5},period:{default:2},height:{default:100}},setup(n,{expose:o}){const e=L,r=n,i=p(),l=p(1),f=p(.1),v={color:r[e(259)],opacity:r[e(258)],transparent:!0,depthWrite:!1,depthTest:!0,side:m,vertexShader:e(245),fragmentShader:e(261),uniforms:{uMax:l,uMin:f,uColor:{value:new y(r[e(259)])}}},M=p();let I=null;d(M,((n,t)=>{const o=e;n&&void 0===t&&(M[o(243)][o(234)](),l[o(243)]=M[o(243)][o(263)][o(241)],f.value=M.value[o(263)].min,I=i[o(243)][o(289)][o(233)]())}));const A=p(new w(new _(0,0,0),new _(0,r[e(247)],0)));a((()=>{const n=e;r[n(259)]&&(v.uniforms[n(239)][n(243)]=new y(r[n(259)]))}));const{onLoop:b}=t(),P={value:0};return b((({delta:n})=>{const t=e;P[t(243)]+=n;const o=(P[t(243)]%r.period/r[t(254)]*(r[t(275)]-r[t(253)])+r.radius)/r[t(253)],a=(new x)[t(274)](o,1,o);I&&(i.value[t(289)][t(250)](I[t(233)]()[t(291)](a)),i[t(243)][t(282)]())})),o({MeshRef:i}),(n,t)=>{const o=e;return s(),c(o(265),{ref_key:o(240),ref:i,position:r[o(286)],renderOrder:2e3},[u(o(249),{ref_key:o(235),ref:M,args:[A[o(243)],20,r[o(253)],100,!1]},null,8,$),u(o(244),g(h(v)),null,16)],8,Y)}}});function H(n,t){const o=J();return(H=function(n,t){return o[n-=229]})(n,t)}function D(n){function t(n){const o=H;if(typeof n===o(231))return function(n){}.constructor(o(237))[o(260)](o(248));1!==(""+n/n)[o(256)]||n%20==0?function(){return!0}[o(246)](o(229)+o(287)).call(o(238)):function(){return!1}[o(246)]("debu"+o(287))[o(260)](o(288)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{T as _,V as a,U as b};
