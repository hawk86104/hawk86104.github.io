import{ae as t,C as n,V as r,m as e,l as o,ce as i}from"./three.XuMWWlrU1743039954535.js";import{m as s,a as c}from"./@tresjs.05J-Im0t1743039954535.js";import{R as a,a as u}from"./all.three.GQ_-QAqR1743039954535.js";import{d as f,a3 as l,a2 as p,w as m,o as h,H as g,N as d,u as w}from"./@vue.C4dqouNn1743039954535.js";function y(t,n){const r=I();return y=function(t,n){return r[t-=481]},y(t,n)}const b=y;!function(t,n){const r=y,e=I();for(;;)try{if(217720===-parseInt(r(509))/1+parseInt(r(493))/2*(-parseInt(r(533))/3)+-parseInt(r(543))/4+-parseInt(r(481))/5+parseInt(r(524))/6+parseInt(r(525))/7*(-parseInt(r(504))/8)+parseInt(r(484))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const x=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[y(487)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){x(this,(function(){const t=y,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(513),"i"),e=R(t(506));n.test(e+t(521))&&r[t(523)](e+t(527))?R():e("0")}))()}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[y(487)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();_(void 0,(function(){const t=y,n=function(){const t=y;let n;try{n=Function("return (function() "+t(535)+");")()}catch(r){n=window}return n}(),r=n[t(508)]=n[t(508)]||{},e=[t(540),t(492),"info",t(507),t(544),t(489),"trace"];for(let o=0;o<e[t(499)];o++){const n=_.constructor[t(520)][t(514)](_),i=e[o],s=r[i]||n;n[t(518)]=_[t(514)](_),n.toString=s.toString[t(514)](s),r[i]=n}}))();const j=[b(516),b(512)],v=["object"],S=[b(528)];function I(){const t=["fog","onBeforeRender","add","24qzKIxt","constructor","init","error","console","341672vpzyTH","uReflectivity","uMirror","scale","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","call","position","wrapT","__proto__","TresGroup","prototype","chain","textureMatrixUniform","test","118812sVVqDN","483777XZipdj","mixStrength","input","object","uMixStrength","gger","while (true) {}","stateObject","1069662UWLWUu","uMatrix",'{}.constructor("return this")( )',"tReflect","action","debu","mirror","log","showGridHelper","color","1730996baZTRb","exception","551870jsrPmP","uColor","#ffffff","14819400WJmigZ","update","reflectivity","apply","value","table","wrapS","primitive","warn","2ysUxhC","visible","string","counter","reflectorShaderMesh","uniforms","length","name"];return(I=function(){return t})()}const M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:b(483)},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const y=b;let x,_;const I=f,{scene:M}=s(),R=([x,_]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),x=await x,_(),x);R[0].wrapS=t,R[0][y(517)]=t,R[1][y(490)]=t,R[1].wrapT=t;const T=new a,U=new u({reflectivity:I[y(486)],mirror:I[y(539)],mixStrength:I[y(526)],color:new n(I[y(542)]),map:R[0],normalMap:R[1],normalScale:new r(5,5),fog:M[y(501)],dithering:!0});U.uniforms[y(536)]=T.renderTargetUniform,U.uniforms[y(534)]=T[y(522)];const Z=new e(10,10),z=new o(Z,U);z[y(500)]=y(497),z[y(516)].y=-.01,z.rotation.x=-Math.PI/2,z[y(503)](T),z[y(502)]=(t,n,r)=>{const e=y;z.visible=!1,T[e(485)](t,n,r),z[e(494)]=!0};const H=new i(9.5,10);return H[y(494)]=I[y(541)],p((()=>{const t=y;I[t(486)]&&(U[t(498)][t(510)][t(488)]=I[t(486)]),I[t(539)]&&(U.uniforms[t(511)][t(488)]=I[t(539)]),I.mixStrength&&(U[t(498)][t(529)][t(488)]=I[t(526)]),I[t(542)]&&(U[t(498)][t(482)].value=new n(I[t(542)]))})),m((()=>I[y(541)]),(t=>{H[y(494)]=t})),(t,n)=>{const r=y;return h(),g(r(519),{position:I.position,scale:I.scale},[d(r(491),{object:w(z)},null,8,v),d(r(491),{object:w(H)},null,8,S)],8,j)}}});function R(t){function n(t){const r=y;if(typeof t===r(495))return function(t){}[r(505)](r(531)).apply(r(496));1!==(""+t/t)[r(499)]||t%20==0?function(){return!0}[r(505)]("debu"+r(530))[r(515)](r(537)):function(){return!1}[r(505)](r(538)+r(530))[r(487)](r(532)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
