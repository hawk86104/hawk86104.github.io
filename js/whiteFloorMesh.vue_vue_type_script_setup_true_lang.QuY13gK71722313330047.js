import{bR as t,a6 as n,a0 as o,C as r}from"./three.0L1oP_mX1722313330047.js";import{N as e}from"./@tresjs.Q03Md-En1722313330047.js";import{d as a,b as s,a4 as c,w as i,o as u,D as f,J as l,aj as p,ak as h}from"./@vue.Q1VpS3901722313330047.js";!function(t,n){const o=m,r=d();for(;;)try{if(137795===parseInt(o(534))/1+parseInt(o(492))/2*(parseInt(o(513))/3)+parseInt(o(505))/4+-parseInt(o(484))/5+-parseInt(o(496))/6+parseInt(o(491))/7*(parseInt(o(519))/8)+-parseInt(o(504))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(502)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function d(){const t=["__proto__","common","shadowmap_vertex","938310sIwUcJ","debu","length","info","chain","warn","apply","input","1237059gFEzuI","693408YvzTQR","\n          ","string","shadowmap_pars_fragment","while (true) {}","prototype","lights_pars_begin","worldpos_vertex","534lUHOYR","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","return (function() ","\n       void main() {\n\t\t\t\t\t","function *\\( *\\)","constructor","213728gnlWky","table","console","test","gger","bsdfs","ShaderChunk","\n      \t","trace","error","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defaultnormal_vertex","shadowmask_pars_fragment","beginnormal_vertex","74226hUevsI","bind","1292025XDGwsG","\n\t ",'{}.constructor("return this")( )',"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","shadowmap_pars_vertex","counter","exception","56IatwiQ","2570rXiGHc"];return(d=function(){return t})()}function m(t,n){const o=d();return(m=function(t,n){return o[t-=483]})(t,n)}!function(){g(this,(function(){const t=m,n=new RegExp(t(517)),o=new RegExp(t(530),"i"),r=b("init");n[t(522)](r+t(500))&&o[t(522)](r+t(503))?b():r("0")}))()}();const v=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(502)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=m;let n;try{n=Function(t(515)+t(486)+");")()}catch(e){n=window}const o=n[t(521)]=n[t(521)]||{},r=["log",t(501),t(499),t(528),t(490),t(520),t(527)];for(let a=0;a<r[t(498)];a++){const n=v[t(518)][t(510)][t(483)](v),e=r[a],s=o[e]||n;n[t(493)]=v[t(483)](v),n[t(529)]=s[t(529)].bind(s),o[e]=n}}))();const w=()=>{const o=m;return"\n       varying vec2 vUv;\n\t\t\t \t"+t.common+o(526)+n[o(525)][o(524)]+o(526)+n[o(525)][o(488)]+o(516)+t[o(533)]+"\n          "+n[o(525)][o(531)]+"\n          "+n[o(525)].begin_vertex+o(506)+t.project_vertex+o(506)+n[o(525)][o(512)]+o(506)+t[o(495)]+o(514)},_=()=>{const o=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[o(494)]+o(485)+n[o(525)].packing+"\n\t "+n[o(525)][o(524)]+o(485)+n[o(525)][o(511)]+o(485)+n[o(525)][o(508)]+o(485)+n[o(525)][o(532)]+o(487)};function b(t){function n(t){const o=m;if(typeof t===o(507))return function(t){}[o(518)](o(509)).apply(o(489));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(o(497)+o(523)).call("action"):function(){return!1}[o(518)]("debugger")[o(502)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const x=U;function y(){const t=["uShadowColor","merge","value","wrapT","size","input","trace","uColor","1958144UBczQu","282OIfyFc","__proto__","tmRef","call","length","shadowColor","bind","3665061obgTPS","UniformsUtils","action","DoubleSide","exception","81NbRdEl","lights","return (function() ","Color","debu","TresMesh","uniforms","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","gger","wrapS","557188yqiQEP","39855CLenQD","toString","UniformsLib","whiteFloorMesh","TresShaderMaterial","table","#990","edge","error","init","103350kPKaSN","450779ecEelV","#999","33860rnYuSR","console","warn","fEdge","args","string","apply","TresPlaneGeometry",'{}.constructor("return this")( )',"info","test","color"];return(y=function(){return t})()}!function(t,n){const o=U,r=y();for(;;)try{if(190836===-parseInt(o(469))/1+parseInt(o(458))/2+-parseInt(o(505))/3*(-parseInt(o(472))/4)+-parseInt(o(459))/5*(-parseInt(o(493))/6)+parseInt(o(470))/7+-parseInt(o(492))/8+-parseInt(o(500))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[U(478)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(454),"i"),r=T(t(468));n.test(r+"chain")&&o[t(482)](r+t(489))?T():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[U(478)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=U;let n;try{n=Function(t(448)+t(480)+");")()}catch(e){n=window}const o=n[t(473)]=n[t(473)]||{},r=["log",t(474),t(481),t(467),t(504),t(464),t(490)];for(let a=0;a<r[t(497)];a++){const n=S[t(455)][t(453)][t(499)](S),e=r[a],s=o[e]||n;n[t(494)]=S.bind(S),n[t(460)]=s.toString[t(499)](s),o[e]=n}}))();const C=["rotation-x"],E=[x(476)];function U(t,n){const o=y();return(U=function(t,n){return o[t-=447]})(t,n)}const j=a({__name:x(462),props:{size:{default:[20,20]},color:{default:x(465)},shadowColor:{default:x(471)},edge:{default:.35}},async setup(t){const a=x;let g,d;const m=t,v=s(),{map:b}=([g,d]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,d(),g);b[a(457)]=b[a(487)]=o;const y={uniforms:n[a(501)][a(485)]([n[a(461)][a(447)],{uTexture:{type:"t",value:b},uColor:{value:new(n[a(449)])(m[a(483)])},uShadowColor:{value:new r(m[a(498)])},fEdge:{type:"f",value:m.edge}}]),side:n[a(503)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>m[a(466)]),(t=>{const n=a;y[n(452)][n(475)][n(486)]=t})),i((()=>m[a(483)]),(t=>{const o=a;y[o(452)][o(491)].value=new(n[o(449)])(m[o(483)])})),i((()=>m[a(498)]),(t=>{const n=a;y.uniforms[n(484)][n(486)]=new r(m[n(498)])})),(t,n)=>{const o=a;return u(),f(o(451),{ref_key:o(495),ref:v,"rotation-x":-Math.PI/2},[l(o(479),{args:m[o(488)]},null,8,E),l(o(463),p(h(y)),null,16)],8,C)}}});function T(t){function n(t){const o=U;if(typeof t===o(477))return function(t){}[o(455)]("while (true) {}")[o(478)]("counter");1!==(""+t/t)[o(497)]||t%20==0?function(){return!0}[o(455)](o(450)+o(456))[o(496)](o(502)):function(){return!1}[o(455)](o(450)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{j as _};
