import{P as t}from"./tweakpane.ivGeiIdz1743149128717.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.RZO-bOMi1743149128717.js";import{_ as r}from"./heatmap.js-fix.rGj8nQah1743149128717.js";import{a as i,_ as c,cj as s,M as u,B as a,n as p}from"./three.hBhj0ayh1743149128717.js";import{r as f}from"./utils.5VKV6FAs1743149128717.js";import{d as l}from"./pinia.Vg5gtfOZ1743149128717.js";import{b as h,d,a2 as m,o as g,H as y,N as v,u as b,F as w,q as I,W as _,P as j,R as x,L as S,O as Z,a3 as z,r as R,j as B,g as D,m as E}from"./@vue.L-brCdZe1743149128717.js";import{c as M,d as A,a as O}from"./three-mesh-bvh.LR6BWBbo1743149128717.js";import{_ as P}from"./@fesjs.w7aAWifr1743149128717.js";import"./@tresjs.GCV-1VTd1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";import"./three-custom-shader-material.bIkXJfH11743149128717.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1743149128717.js";import"./@amap.vd0D2A1W1743149128717.js";import"./vue-router.2RdbTeKA1743149128717.js";import"./lodash-es.pklfUAS51743149128717.js";import"./@qlin.o0hjOMCg1743149128717.js";import"./@floating-ui.HzHndBae1743149128717.js";import"./@juggle.4EyLec-41743149128717.js";function W(t,n){const e=F();return W=function(t,n){return e[t-=172]},W(t,n)}!function(t,n){const e=W,o=F();for(;;)try{if(687543===parseInt(e(214))/1+-parseInt(e(203))/2+parseInt(e(213))/3*(parseInt(e(194))/4)+-parseInt(e(216))/5+-parseInt(e(181))/6+parseInt(e(192))/7+parseInt(e(173))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=W,n=new RegExp(t(208)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(207));n[t(195)](o+t(199))&&e[t(195)](o+t(180))?$():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(197)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function("return (function() "+t(201)+");")()}catch(e){n=window}return n}(),e=n[t(205)]=n[t(205)]||{},o=[t(190),t(215),"info",t(174),t(193),t(210),t(176)];for(let r=0;r<o[t(211)];r++){const n=J[t(202)].prototype.bind(J),i=o[r],c=e[i]||n;n[t(184)]=J[t(182)](J),n[t(200)]=c[t(200)].bind(c),e[i]=n}}))();const V=(t,n)=>t.getValueAt(n)+-10;function $(t){function n(t){const e=W;if(typeof t===e(187))return function(t){}[e(202)]("while (true) {}")[e(197)](e(179));1!==(""+t/t)[e(211)]||t%20==0?function(){return!0}.constructor(e(219)+"gger")[e(172)](e(185)):function(){return!1}[e(202)]("debu"+e(206))[e(197)](e(189)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function F(){const t=["exception","2138080DbntyK","test","_config","apply","height","chain","toString",'{}.constructor("return this")( )',"constructor","206128IIqJJe","createElement","console","gger","init","function *\\( *\\)","rgb(0,0,255)","table","length","position","3naAfoC","737547WVYQeI","warn","6583330pJhhSY","yellow","rgb(0,255,0)","debu","body","setData","call","8213440EBxovo","error","appendChild","trace","none","display","counter","input","2761554waGkBl","bind","rgb(255,0,0)","__proto__","action","randInt","string","width","stateObject","log","style","1881495RXYCqZ"];return(F=function(){return t})()}const T=H;!function(t,n){const e=H,o=C();for(;;)try{if(510868===parseInt(e(160))/1*(-parseInt(e(162))/2)+parseInt(e(193))/3+-parseInt(e(171))/4*(parseInt(e(192))/5)+parseInt(e(194))/6*(-parseInt(e(161))/7)+parseInt(e(173))/8*(-parseInt(e(197))/9)+-parseInt(e(182))/10*(-parseInt(e(195))/11)+-parseInt(e(176))/12*(-parseInt(e(190))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(184)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=H,n=new RegExp(t(185)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=X(t(172));n[t(167)](o+"chain")&&e[t(167)](o+t(163))?X():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(184)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=C();return H=function(t,n){return e[t-=159]},H(t,n)}G(void 0,(function(){const t=H;let n;try{n=Function("return (function() "+t(180)+");")()}catch(r){n=window}const e=n[t(191)]=n[t(191)]||{},o=[t(169),t(166),t(179),t(159),t(187),t(177),"trace"];for(let i=0;i<o[t(183)];i++){const n=G[t(181)][t(188)].bind(G),r=o[i],c=e[r]||n;n[t(189)]=G.bind(G),n[t(168)]=c[t(168)][t(170)](c),e[r]=n}}))();const L=l(T(174),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[H(175)]=n},setTemperature:function(t){n[H(175)]=t}}}));function X(t){function n(t){const e=H;if("string"==typeof t)return function(t){}[e(181)](e(198)).apply(e(165));1!==(""+t/t).length||t%20==0?function(){return!0}[e(181)]("debu"+e(164))[e(196)](e(186)):function(){return!1}[e(181)](e(199)+e(164))[e(184)](e(178)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function C(){const t=["32uBWYNr","buildingsHeatmap","value","1023888ojYWZC","table","stateObject","info",'{}.constructor("return this")( )',"constructor","30mgbuyg","length","apply","function *\\( *\\)","action","exception","prototype","__proto__","26phQQRk","console","170uXIJeX","1818354ZeLizA","47502mhDxPd","3478211yWlfVU","call","624168jKwzmy","while (true) {}","debu","error","18BiOtOn","273kFDrfh","13348uzdrVq","input","gger","counter","warn","test","toString","log","bind","59788HZJIrL","init"];return(C=function(){return t})()}const U=K;!function(t,n){const e=K,o=N();for(;;)try{if(267652===parseInt(e(436))/1+parseInt(e(458))/2*(-parseInt(e(474))/3)+parseInt(e(434))/4+parseInt(e(438))/5+-parseInt(e(484))/6*(parseInt(e(426))/7)+-parseInt(e(480))/8*(-parseInt(e(475))/9)+-parseInt(e(441))/10*(parseInt(e(445))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(442)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["makeRotationX","toString","Mesh","3099654gmqTcT","prototype","primitive","model","function *\\( *\\)","bind","log","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","city","uOpacity","clone","7tLcsDW","Texture","trace","height","gger","raycast","数值：","exception","2019648PJmyvZ","DoubleSide","427353cfRxQW","attributes","2006495gSBZHG","needsUpdate","length","1720AvWofH","apply","string","_config","38093mLrJUN","applyMatrix4","error","opacity","matrix","computeBoundsTree","object","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","canvas","init","debu","BufferGeometry","info","2YpRoWX","buildingsHeatmap","input","geometry",'{}.constructor("return this")( )',"rotation-x","while (true) {}","console","return (function() ","test","call","constructor","__proto__","warn","_renderer","setShowDiv","394533VZXBpw","2313XeBFzS","disposeBoundsTree","width","normal","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","5536slzrmz"];return(N=function(){return t})()}!function(){Y(this,(function(){const t=K,n=new RegExp(t(488)),e=new RegExp(t(452),"i"),o=ot(t(454));n[t(467)](o+"chain")&&e.test(o+t(460))?ot():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(442)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(t,n){const e=N();return K=function(t,n){return e[t-=424]},K(t,n)}Q(void 0,(function(){const t=K;let n;try{n=Function(t(466)+t(462)+");")()}catch(r){n=window}const e=n[t(465)]=n[t(465)]||{},o=[t(490),t(471),t(457),t(447),t(433),"table",t(428)];for(let i=0;i<o[t(440)];i++){const n=Q[t(469)][t(485)][t(489)](Q),r=o[i],c=e[r]||n;n[t(470)]=Q[t(489)](Q),n[t(482)]=c.toString[t(489)](c),e[r]=n}}))();const tt=[U(451),U(463)],nt=["object"],et=d({__name:U(459),props:{model:{},opacity:{default:1}},setup(t){const n=U;(()=>{const t=K;c[t(456)][t(485)][t(450)]=M,a[t(485)][t(476)]=A,c[t(483)][t(485)][t(431)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=W,i=document[o(204)]("heatmap-canvas");return i[o(191)][o(212)]="absolute",!e&&(i[o(191)][o(178)]=o(177)),i[o(191)].top="0",i.style.left="0",document[o(220)][o(175)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(209),.55:o(218),.85:o(217),1:o(183)}})})();((t,n)=>{const e=W;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(186)](1,t[e(196)][e(188)]),y:i[e(186)](1,t[e(196)][e(198)]),value:i[e(186)](-10,36)}),o++}t[e(221)]({max:36,min:-10,data:n})})(o);const l=new(c[n(427)])(o[n(472)][n(453)]);l[n(439)]=!0;const h=e.model[n(492)][n(425)]();delete h[n(461)][n(437)][n(478)],delete h.geometry[n(437)].uv;const d=h[n(461)].clone()[n(446)](h[n(449)]),I=e[n(487)].land[n(425)]();delete I.geometry.attributes[n(478)];const _=I[n(461)].clone()[n(446)](I[n(449)]),j=s([d,_]);j.applyMatrix4((new u)[n(481)](Math.PI/2)),f(j),j.computeBoundsTree();const x=(t=>{const o=n;return new p({vertexShader:o(479),fragmentShader:o(491),uniforms:{uOpacity:{value:e[o(448)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(435)]})})(l),S=new(c[n(483)])(j,x);m((()=>{const t=n;e[t(448)]&&(x.uniforms[t(424)].value=e[t(448)])}));const Z=L(),z=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(444)][e(477)],y:(1-t.uv.y)*o._config[e(429)]};console[e(490)](e(432),t),console.log("数值———：",V(o,n)),Z.setTemperature(V(o,n))}},R=t=>{t&&Z.$patch({showDiv:!0})},B=t=>{t&&Z[n(473)](!1)};return(t,o)=>{const r=n;return g(),y(w,null,[v(r(486),{object:b(S),"rotation-x":-Math.PI/2,onPointerMove:z,onPointerEnter:R,onPointerLeave:B},null,40,tt),v(r(486),{object:e.model[r(487)].children[0].clone()},null,8,nt)],64)}}});function ot(t){function n(t){const e=K;if(typeof t===e(443))return function(t){}.constructor(e(464))[e(442)]("counter");1!==(""+t/t)[e(440)]||t%20==0?function(){return!0}[e(469)](e(455)+e(430))[e(468)]("action"):function(){return!1}[e(469)]("debu"+e(430))[e(442)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=P({__name:"dataDiv",setup(t){const n=L(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:Z(e.value)},"温度："+S(b(n).temperature)+"℃ ",5)),[[x,b(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=at;!function(t,n){const e=at,o=ut();for(;;)try{if(756672===-parseInt(e(328))/1+-parseInt(e(300))/2*(-parseInt(e(325))/3)+-parseInt(e(301))/4*(parseInt(e(335))/5)+parseInt(e(316))/6+-parseInt(e(333))/7*(-parseInt(e(321))/8)+-parseInt(e(334))/9*(parseInt(e(318))/10)+parseInt(e(299))/11*(parseInt(e(311))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(320)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ct(this,(function(){const t=at,n=new RegExp(t(296)),e=new RegExp(t(304),"i"),o=ft(t(322));n.test(o+t(323))&&e.test(o+t(307))?ft():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(320)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(){const t=["table","1173163ecJlEt","call","info","__proto__","exception","2009lOwngm","756iVrixN","520zeqJtd","addBinding","opacity","toString","function *\\( *\\)","gger","warn","711293fxGPoj","2801362tfchVn","3188utFcuZ","debu","builds","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","value","input","bind","length",'{}.constructor("return this")( )',"24aVHSPV","action","counter","console","heatmap2","4324548xsgnCH","constructor","33190GRzrJy","string","apply","1136hghqna","init","chain","while (true) {}","3KZlGxG","透明度"];return(ut=function(){return t})()}function at(t,n){const e=ut();return at=function(t,n){return e[t-=296]},at(t,n)}st(void 0,(function(){const t=at,n=function(){const t=at;let n;try{n=Function("return (function() "+t(310)+");")()}catch(e){n=window}return n}(),e=n[t(314)]=n[t(314)]||{},o=["log",t(298),t(330),"error",t(332),t(327),"trace"];for(let r=0;r<o[t(309)];r++){const n=st.constructor[t(305)][t(308)](st),i=o[r],c=e[i]||n;n[t(331)]=st[t(308)](st),n.toString=c[t(338)][t(308)](c),e[i]=n}}))();const pt=d({__name:it(315),async setup(r){const i=it;let c,s;const u=h(!1),a=([c,s]=z((()=>o())),c=await c,s(),c);u[i(306)]=!0;const p=R({width:1,color:"#000",opacity:1,show:!0}),f=R({opacity:.9});return new t({title:"参数",expanded:!0})[i(336)](f,i(337),{label:i(326),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(w,null,[B(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[B(et,E({model:b(a)},f),null,16,["model"]),B(n,E(p,{builds:b(a).city}),null,16,[r(303)])])),_:1}),B(rt)],64)}}});function ft(t){function n(t){const e=at;if(typeof t===e(319))return function(t){}.constructor(e(324)).apply(e(313));1!==(""+t/t)[e(309)]||t%20==0?function(){return!0}[e(317)](e(302)+e(297))[e(329)](e(312)):function(){return!1}[e(317)](e(302)+e(297)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
