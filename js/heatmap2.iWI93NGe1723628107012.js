import{P as t}from"./tweakpane.yHWGBmom1723628107012.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.XDmjp16t1723628107012.js";import{_ as r}from"./heatmap.js-fix.366VdLNY1723628107012.js";import{h as i,a6 as c,ck as s}from"./three.LOnTLfxo1723628107012.js";import{r as u}from"./utils.-HfbVRfT1723628107012.js";import{d as a}from"./pinia.nipTyfok1723628107012.js";import{b as p,d as f,a1 as l,o as h,D as d,J as m,u as g,F as y,q as v,U as w,N as b,P as I,H as _,L as j,a4 as x,r as S,j as E,g as z,m as P}from"./@vue.9bHx4gg21723628107012.js";import{c as T,d as Z,a as R}from"./three-mesh-bvh.-U140OdV1723628107012.js";import{_ as M}from"./@fesjs.BuhZYZEQ1723628107012.js";import"./@tresjs.SUe87xao1723628107012.js";import"./@vueuse.t-c8gU4-1723628107012.js";import"./three-custom-shader-material.n4KbnW0V1723628107012.js";import"./object-hash.eRIADBNa1723628107012.js";import"./@amap.XsUkMUkF1723628107012.js";import"./jszip.TSgBnMkQ1723628107012.js";import"./glsl-tokenizer.ZmKauzU31723628107012.js";import"./glsl-token-string.Z6_i_sVZ1723628107012.js";import"./glsl-token-functions.0T11p6mD1723628107012.js";import"./vue-router.XBF1ZL3N1723628107012.js";import"./lodash-es.nFpJXAf-1723628107012.js";import"./@qlin.yHhFDldE1723628107012.js";import"./@floating-ui.BPbuo5Gx1723628107012.js";import"./@juggle.7yjBMqoW1723628107012.js";!function(t,n){const e=F,o=O();for(;;)try{if(782277===parseInt(e(240))/1+parseInt(e(210))/2*(-parseInt(e(237))/3)+-parseInt(e(255))/4+parseInt(e(235))/5*(parseInt(e(245))/6)+-parseInt(e(219))/7*(-parseInt(e(250))/8)+-parseInt(e(224))/9+-parseInt(e(248))/10*(-parseInt(e(246))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(217)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=F,n=new RegExp(t(208)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=q(t(234));n[t(223)](o+t(239))&&e[t(223)](o+t(209))?q():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(217)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(t,n){const e=O();return(F=function(t,n){return e[t-=208]})(t,n)}function O(){const t=["function *\\( *\\)","input","1421048zBBfCX","console","length","style","debu","warn","info","apply","stateObject","973CTMlwl","bind","yellow","gger","test","8072748pwOqvj","display","width","randInt","table","getValueAt","absolute","counter","top","call","init","1665hScqPq","rgb(0,255,0)","6cDFttc","_config","chain","267666LcPIBP","setData","left","createElement","none","7674cbxlzT","2123KWcGzP","__proto__","52550dTwNuz","push","89432naYLIc","body","prototype","string","position","645488KlWSZw","constructor","create","toString"];return(O=function(){return t})()}D(void 0,(function(){const t=F,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(211)]=n[t(211)]||{},o=["log",t(215),t(216),"error","exception",t(228),"trace"];for(let r=0;r<o[t(212)];r++){const n=D.constructor[t(252)][t(220)](D),i=o[r],c=e[i]||n;n[t(247)]=D.bind(D),n.toString=c[t(258)][t(220)](c),e[i]=n}}))();const k=(t,n)=>t[F(229)](n)+-10;function q(t){function n(t){const e=F;if(typeof t===e(253))return function(t){}[e(256)]("while (true) {}")[e(217)](e(231));1!==(""+t/t)[e(212)]||t%20==0?function(){return!0}.constructor("debugger")[e(233)]("action"):function(){return!1}[e(256)](e(214)+e(222))[e(217)](e(218)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=X;!function(t,n){const e=X,o=L();for(;;)try{if(962287===-parseInt(e(264))/1*(-parseInt(e(292))/2)+-parseInt(e(293))/3+parseInt(e(274))/4*(parseInt(e(295))/5)+parseInt(e(297))/6*(-parseInt(e(267))/7)+-parseInt(e(282))/8+parseInt(e(271))/9*(-parseInt(e(283))/10)+parseInt(e(284))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(272)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=X,n=new RegExp(t(291)),e=new RegExp(t(265),"i"),o=K("init");n[t(288)](o+t(280))&&e.test(o+t(281))?K():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(272)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["__proto__","2526587qrwBeZ","constructor",'{}.constructor("return this")( )',"action","1196181qsVSLY","apply","toString","76SuTcaf","exception","stateObject","return (function() ","bind","warn","chain","input","1379696EqZkbd","20nEyYtt","18875692cuEVFp","info","error","while (true) {}","test","buildingsHeatmap","console","function *\\( *\\)","66YmUXri","4661304mpFwBS","debu","21005lRaOXJ","call","6GfNNEU","prototype","value","gger","trace","length","46045CPmqdA","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(L=function(){return t})()}function X(t,n){const e=L();return(X=function(t,n){return e[t-=264]})(t,n)}C(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(277)+t(269)+");")()}catch(e){n=window}return n}(),e=n[t(290)]=n[t(290)]||{},o=["log",t(279),t(285),t(286),t(275),"table",t(301)];for(let r=0;r<o[t(302)];r++){const n=C.constructor[t(298)][t(278)](C),i=o[r],c=e[i]||n;n[t(266)]=C.bind(C),n[t(273)]=c[t(273)][t(278)](c),e[i]=n}}))();const $=a(U(289),(()=>{const t=p(!1),n=p(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[X(299)]=t}}}));function K(t){function n(t){const e=X;if("string"==typeof t)return function(t){}[e(268)](e(287))[e(272)]("counter");1!==(""+t/t)[e(302)]||t%20==0?function(){return!0}[e(268)](e(294)+e(300))[e(296)](e(270)):function(){return!1}[e(268)](e(294)+"gger")[e(272)](e(276)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=J;function V(){const t=["return (function() ","action","canvas","object","table","prototype","makeRotationX","176uZNJUP","warn","value","3033919TFYrgR","width","constructor","704466hTdXlq","6aoSDrK","Texture","info","matrix","__proto__","chain","length","5628360GeUAoQ","attributes","_config","string","clone","apply","call","5sVCEWU","disposeBoundsTree","log","city","buildingsHeatmap","Matrix4","toString","936921FCAxpu","exception","needsUpdate","BufferGeometry","setShowDiv","uOpacity","32bcRrEm","$patch","computeBoundsTree","152NnzhLK","bind","21570gATqtr","setTemperature","uniforms","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","console","trace","193120OZOZHI","geometry",'{}.constructor("return this")( )',"ShaderMaterial","children","25195wIPXJR","primitive","gger","DoubleSide","Mesh","数值：","applyMatrix4","land","init","height","rotation-x","normal","model","opacity","stateObject","test"];return(V=function(){return t})()}!function(t,n){const e=J,o=V();for(;;)try{if(263466===-parseInt(e(290))/1*(parseInt(e(241))/2)+-parseInt(e(297))/3+parseInt(e(306))/4*(-parseInt(e(246))/5)+-parseInt(e(276))/6*(-parseInt(e(272))/7)+parseInt(e(303))/8*(parseInt(e(275))/9)+-parseInt(e(308))/10*(-parseInt(e(269))/11)+parseInt(e(283))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(288)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Y(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=tt(t(254));n[t(261)](o+t(281))&&e.test(o+"input")?tt():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(t,n){const e=V();return(J=function(t,n){return e[t-=239]})(t,n)}G(void 0,(function(){const t=J;let n;try{n=Function(t(262)+t(243)+");")()}catch(r){n=window}const e=n[t(239)]=n[t(239)]||{},o=["log",t(270),t(278),"error",t(298),t(266),t(240)];for(let i=0;i<o[t(282)];i++){const n=G.constructor[t(267)][t(307)](G),r=o[i],c=e[r]||n;n[t(280)]=G[t(307)](G),n[t(296)]=c[t(296)].bind(c),e[r]=n}}))();const W=[N(265),N(256)],H=[N(265)],Q=f({__name:N(294),props:{model:{},opacity:{default:1}},setup(t){const n=N;(()=>{const t=J;c[t(300)].prototype[t(305)]=T,c[t(300)][t(267)][t(291)]=Z,c[t(250)][t(267)].raycast=R})();const e=t,o=((t=250,n=250,e=!0)=>{const o=F,i=document[o(243)]("heatmap-canvas");return i.style[o(254)]=o(230),!e&&(i[o(213)][o(225)]=o(244)),i[o(213)][o(232)]="0",i[o(213)][o(242)]="0",document[o(251)].appendChild(i),r[o(257)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(236),.85:o(221),1:"rgb(255,0,0)"}})})();((t,n)=>{const e=F;if(!n){let o=0;for(n=[];o<1e3;)n[e(249)]({x:i[e(227)](1,t[e(238)][e(226)]),y:i[e(227)](1,t[e(238)].height),value:i[e(227)](-10,36)}),o++}t[e(241)]({max:36,min:-10,data:n})})(o);const a=new(c[n(277)])(o._renderer[n(264)]);a[n(299)]=!0;const p=e[n(258)][n(293)][n(287)]();delete p[n(242)][n(284)][n(257)],delete p[n(242)][n(284)].uv;const f=p[n(242)][n(287)]().applyMatrix4(p[n(279)]),v=e[n(258)][n(253)][n(287)]();delete v[n(242)][n(284)][n(257)];const w=v[n(242)].clone()[n(252)](v[n(279)]),b=s([f,w]);b[n(252)]((new(c[n(295)]))[n(268)](Math.PI/2)),u(b),b[n(305)]();const I=(t=>{const o=n;return new(c[o(244)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(311),uniforms:{uOpacity:{value:e[o(259)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(249)]})})(a),_=new(c[n(250)])(b,I);l((()=>{const t=n;e.opacity&&(I[t(310)][t(302)][t(271)]=e[t(259)])}));const j=$(),x=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(273)],y:(1-t.uv.y)*o[e(285)][e(255)]};console[e(292)](e(251),t),console[e(292)]("数值———：",k(o,n)),j[e(309)](k(o,n))}},S=t=>{t&&j[n(304)]({showDiv:!0})},E=t=>{t&&j[n(301)](!1)};return(t,o)=>{const r=n;return h(),d(y,null,[m(r(247),{object:g(_),"rotation-x":-Math.PI/2,onPointerMove:x,onPointerEnter:S,onPointerLeave:E},null,40,W),m(r(247),{object:e.model[r(258)][r(245)][0][r(287)]()},null,8,H)],64)}}});function tt(t){function n(t){const e=J;if(typeof t===e(286))return function(t){}.constructor("while (true) {}")[e(288)]("counter");1!==(""+t/t)[e(282)]||t%20==0?function(){return!0}[e(274)]("debu"+e(248))[e(289)](e(263)):function(){return!1}.constructor("debu"+e(248))[e(288)](e(260)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const nt=M({__name:"dataDiv",setup(t){const n=$(),e=p({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return v((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>b((h(),d("div",{class:"title",style:j(e.value)},"温度："+_(g(n).temperature)+"℃ ",5)),[[I,g(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=rt;!function(t,n){const e=rt,o=ct();for(;;)try{if(385099===-parseInt(e(478))/1+-parseInt(e(484))/2+-parseInt(e(470))/3+parseInt(e(491))/4*(parseInt(e(474))/5)+-parseInt(e(463))/6+parseInt(e(488))/7+-parseInt(e(481))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ot=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[rt(480)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function rt(t,n){const e=ct();return(rt=function(t,n){return e[t-=456]})(t,n)}!function(){ot(this,(function(){const t=rt,n=new RegExp(t(479)),e=new RegExp(t(487),"i"),o=ut(t(458));n[t(464)](o+"chain")&&e[t(464)](o+t(473))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[rt(480)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["warn","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4461814aqadwl","console","gger","56436xPbbIB","exception","透明度","init","prototype","while (true) {}","action","heatmap2","76656GrnZtF","test","__proto__","call","table","length","return (function() ","394998eKyXYt","bind","error","input","245jWChVC","stateObject","toString","model","66767QzGTNK","function *\\( *\\)","apply","3275424XrOiUF","debu","info","646014KZJzpL"];return(ct=function(){return t})()}it(void 0,(function(){const t=rt,n=function(){const t=rt;let n;try{n=Function(t(469)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(489)]||{},o=["log",t(485),t(483),t(472),t(456),t(467),"trace"];for(let r=0;r<o[t(468)];r++){const n=it[t(486)][t(459)][t(471)](it),i=o[r],c=e[i]||n;n[t(465)]=it[t(471)](it),n.toString=c[t(476)][t(471)](c),e[i]=n}}))();const st=f({__name:et(462),async setup(r){const i=et;let c,s;const u=p(!1),a=([c,s]=x((()=>o())),c=await c,s(),c);u.value=!0;const f=S({width:1,color:"#000",opacity:1,show:!0}),l=S({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,"opacity",{label:i(457),min:0,max:1,step:.1}),(t,o)=>{const r=i;return h(),d(y,null,[E(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[E(Q,P({model:g(a)},l),null,16,[r(477)]),E(n,P(f,{builds:g(a).city}),null,16,["builds"])])),_:1}),E(nt)],64)}}});function ut(t){function n(t){const e=rt;if("string"==typeof t)return function(t){}[e(486)](e(460)).apply("counter");1!==(""+t/t)[e(468)]||t%20==0?function(){return!0}[e(486)](e(482)+e(490))[e(466)](e(461)):function(){return!1}[e(486)](e(482)+e(490)).apply(e(475)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
