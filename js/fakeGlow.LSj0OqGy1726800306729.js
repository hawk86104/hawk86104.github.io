import{Y as n,_ as t}from"./@tresjs.pv1MNfNv1726800306729.js";import{m as o,ba as e,C as r,aL as i,a0 as a,_ as s}from"./three.ZddO3ejJ1726800306729.js";import{P as l}from"./tweakpane.yHWGBmom1726800306729.js";import{d as c,r as u,a3 as f,e as p,o as d,f as g,g as m,j as v,u as w,L as h,al as y}from"./@vue.bvMz0l_u1726800306729.js";import"./@vueuse.bZHkTEeA1726800306729.js";!function(n,t){for(var o=j,e=b();;)try{if(557668===parseInt(o(511))/1+parseInt(o(507))/2*(parseInt(o(534))/3)+parseInt(o(505))/4+parseInt(o(515))/5+-parseInt(o(503))/6*(-parseInt(o(509))/7)+parseInt(o(512))/8+-parseInt(o(495))/9*(parseInt(o(517))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function b(){var n=["console","3587220tWQTnQ","transparent","10jyWcqd","bind","prototype","glowInternalRadius","chain","function *\\( *\\)","blendMode","fragmentShader","debu","apply","exception","glowColor","warn",'{}.constructor("return this")( )',"toString","uniforms","constructor","7581BjZYiN","setValues","info","init","test","counter","string","action","glowSharpness","gger","32663745voZMVS","#00d5ff","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","blending","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","call","depthTest","side","391284zOBBXp","error","1406536ywivgw","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","248SjhPDl","opacity","112ODtwul","length","1009778MjMhLN","6010760PIAexy","falloff"];return(b=function(){return n})()}function j(n,t){var o=b();return(j=function(n,t){return o[n-=489]})(n,t)}!function(){I(this,(function(){var n=j,t=new RegExp(n(522)),o=new RegExp(n(506),"i"),e=S(n(537));t[n(489)](e+n(521))&&o[n(489)](e+"input")?S():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();x(void 0,(function(){for(var n=j,t=function(){var n,t=j;try{n=Function("return (function() "+t(530)+");")()}catch(o){n=window}return n}(),o=t[n(514)]=t[n(514)]||{},e=["log",n(529),n(536),n(504),n(527),"table","trace"],r=0;r<e.length;r++){var i=x[n(533)][n(519)][n(518)](x),a=e[r],s=o[a]||i;i.__proto__=x[n(518)](x),i[n(531)]=s.toString[n(518)](s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=j;super(),this.vertexShader=t(499),this[t(524)]=t(497),this[t(532)]={opacity:new e(void 0!==n.opacity?n[t(508)]:1),glowInternalRadius:new e(void 0!==n[t(520)]?n[t(520)]:6),glowSharpness:new e(void 0!==n[t(493)]?n[t(493)]:.5),falloff:new e(void 0!==n.falloff?n[t(513)]:.1),glowColor:new e(void 0!==n[t(528)]?new r(n.glowColor):new r(t(496)))},this[t(535)](n),this[t(501)]=void 0!==n[t(501)]&&n.depthTest,this[t(498)]=void 0!==n[t(523)]?n[t(523)]:i,this[t(516)]=!0,this[t(502)]=void 0!==n.side?n[t(502)]:a}};function S(n){function t(n){var o=j;if(typeof n===o(491))return function(n){}[o(533)]("while (true) {}")[o(526)](o(490));1!==(""+n/n)[o(510)]||n%20==0?function(){return!0}[o(533)](o(525)+"gger")[o(500)](o(492)):function(){return!1}[o(533)]("debu"+o(494))[o(526)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const T=z;!function(n,t){const o=z,e=P();for(;;)try{if(583045===-parseInt(o(393))/1+parseInt(o(389))/2*(-parseInt(o(397))/3)+-parseInt(o(359))/4*(parseInt(o(390))/5)+-parseInt(o(369))/6*(parseInt(o(374))/7)+parseInt(o(391))/8+-parseInt(o(405))/9*(-parseInt(o(399))/10)+parseInt(o(412))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const C=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function P(){const n=["warn","606hpkyVI","BackSide","glowInternalRadius","glowSharpness",'{}.constructor("return this")( )',"47264KuCOQz","TresGroup","pos-x.jpg","error","while (true) {}","清晰度","length","neg-y.jpg","TresAmbientLight","gger","init","object","value","Mesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6ECrZQt","7105YfFEat","3618744Tyovro","stateObject","242363dXsxlJ","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","辉光参数","pos-z.jpg","61941rvKmra","DoubleSide","7031580FAnctK","primitive","apply","bind","FrontSide","info","9mmhXJL","neg-x.jpg","TresPerspectiveCamera","constructor","blue","test","counter","10210222OHkBlD","材质面","side","falloff","TresDirectionalLight","addBinding","TorusKnotGeometry","chain","toString","__proto__","TresMesh","trace","TresMeshPhysicalMaterial","console","table","1448JmHXeX","TresTorusKnotGeometry","glowColor","exception","debu","uniforms","TresCanvas","#a058c1","TresGridHelper"];return(P=function(){return n})()}!function(){C(this,(function(){const n=z,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(388),"i"),e=Z(n(384));t.test(e+n(419))&&o[n(410)](e+"input")?Z():e("0")}))()}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function z(n,t){const o=P();return(z=function(n,t){return o[n-=355]})(n,t)}k(void 0,(function(){const n=z;let t;try{t=Function("return (function() "+n(373)+");")()}catch(r){t=window}const o=t.console=t[n(357)]||{},e=["log",n(368),n(404),n(377),n(362),n(358),n(355)];for(let i=0;i<e[n(380)];i++){const t=k[n(408)].prototype[n(402)](k),r=e[i],a=o[r]||t;t[n(421)]=k[n(402)](k),t[n(420)]=a[n(420)][n(402)](a),o[r]=t}}))();const M=h(T(407),{position:[0,25,25],near:.1,fov:65},null,-1),R=h(T(382),{intensity:1.5},null,-1),B=h(T(416),{position:[100,100,60],intensity:20},null,-1),F=h(T(367),{args:[20,10]},null,-1),G={position:[0,6,0]},N=h(T(422),null,[h(T(360),{args:[4,.5,128,128]}),h(T(356),{color:T(409),roughness:.2,clearcoat:1})],-1),D=[T(385)],A=c({__name:"fakeGlow",setup(o){const e=T,i=new l({title:e(395),expanded:!0}),a=u({glowColor:e(366),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(403)],depthTest:!1}),c=new _,I=new(s[e(387)])(new(s[e(418)])(4,3.8,128,128),c);return i[e(417)](a,"glowColor",{label:"颜色"}),i[e(417)](a,e(415),{label:"衰减",min:0,max:10,step:.1}),i.addBinding(a,e(371),{label:"内半径",min:-5,max:5,step:.1}),i[e(417)](a,e(372),{label:e(379),min:0,max:10,step:.1}),i[e(417)](a,"opacity",{label:"透明",min:0,max:1,step:.1}),i.addBinding(a,"side",{label:e(413),options:{FrontSide:s[e(403)],BackSide:s[e(370)],DoubleSide:s[e(398)]}}),f((()=>{const n=e;c[n(364)][n(415)][n(386)]=a[n(415)],c[n(364)].glowColor[n(386)]=new r(a[n(361)]),c[n(364)][n(371)].value=a[n(371)],c.uniforms[n(372)][n(386)]=a[n(372)],c[n(364)].opacity[n(386)]=a.opacity,c.side=a[n(414)]})),(o,r)=>{const i=e,a=p(i(365));return d(),g(a,{"window-size":""},{default:m((()=>[M,R,B,v(w(n),{autoRotate:""}),F,h(i(375),G,[N,h(i(400),{object:w(I)},null,8,D)]),(d(),g(y,null,{default:m((()=>[v(w(t),{files:[i(376),i(406),"pos-y.jpg",i(381),i(396),"neg-z.jpg"],path:i(394)})])),_:1}))])),_:1})}}});function Z(n){function t(n){const o=z;if("string"==typeof n)return function(n){}[o(408)](o(378))[o(401)](o(411));1!==(""+n/n)[o(380)]||n%20==0?function(){return!0}[o(408)](o(363)+o(383)).call("action"):function(){return!1}[o(408)](o(363)+o(383))[o(401)](o(392)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{A as default};
