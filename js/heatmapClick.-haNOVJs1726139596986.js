import{q as t,Y as n}from"./@tresjs.ml1V726H1726139596986.js";import{P as e}from"./tweakpane.yHWGBmom1726139596986.js";import{_ as o,ak as r,al as a}from"./three.ewwqFbMB1726139596986.js";import{_ as s}from"./heatmap.js-fix.N101S2jx1726139596986.js";import{d as i,a4 as c,a3 as u,o as l,E as p,u as f,r as d,e as h,f as m,g,j as v,al as b,aj as y,ak as w,m as x,L as _}from"./@vue.JNsx1iN61726139596986.js";import"./@vueuse.leIfNolX1726139596986.js";import"./@amap.Fadeb9eG1726139596986.js";const I=T;!function(t,n){const e=T,o=k();for(;;)try{if(648750===-parseInt(e(498))/1*(-parseInt(e(524))/2)+-parseInt(e(500))/3*(parseInt(e(510))/4)+parseInt(e(525))/5*(parseInt(e(454))/6)+-parseInt(e(520))/7+parseInt(e(511))/8+-parseInt(e(495))/9*(parseInt(e(468))/10)+parseInt(e(514))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(508)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=T,n=new RegExp(t(517)),e=new RegExp(t(461),"i"),o=D(t(504));n.test(o+t(486))&&e[t(479)](o+"input")?D():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(508)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["stateObject","1386011kawdHg","count","setDataMax","function *\\( *\\)","absolute","ShaderMaterial","5479754OPQbqO","scale","gger","40px","1963158UTtMVT","5KAbWda","info","addData","position","appendChild","length","needsUpdate","3708318BvwmNm","top","canvas","console","string","table","body","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","heatmap-canvas","_renderer",'{}.constructor("return this")( )',"error","prototype","bind","7950NrPwxi","BufferAttribute","left","__proto__","show2dCanvas","geometry","return (function() ","exception","log","Texture","DoubleSide","test","display","primitive","toString","while (true) {}","0.8","layerY","chain","call","object","constructor","./draco/","style","layerX","debu","trace","441IyBkrQ","heatmapClickCom","block","1RHhKTO","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","851052zRytqV","radius","mesh_0","counter","init","createElement","getX","action","apply","attributes","16npjwTb","7037040jlbSEr","deleteAttribute"];return(k=function(){return t})()}C(void 0,(function(){const t=T;let n;try{n=Function(t(474)+t(464)+");")()}catch(r){n=window}const e=n[t(457)]=n[t(457)]||{},o=[t(476),"warn",t(526),t(465),t(475),t(459),t(494)];for(let a=0;a<o[t(530)];a++){const n=C[t(489)][t(466)].bind(C),r=o[a],s=e[r]||n;n[t(471)]=C[t(467)](C),n[t(482)]=s[t(482)][t(467)](s),e[r]=n}}))();const A=[I(488)];function T(t,n){const e=k();return(T=function(t,n){return e[t-=453]})(t,n)}const B=i({__name:I(496),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(490)}))),r=await r,a(),r);d[e(502)].position.set(-5088.96,-3.08,39374.7),d.mesh_0[e(521)].setScalar(.01);let h=null,m=null,g=null;m=new(o[e(477)])((()=>{const t=e;return g=document[t(505)](t(462)),g[t(491)][t(528)]=t(518),g[t(491)][t(455)]=t(523),g.style[t(470)]="0",document[t(460)][t(529)](g),h=s.create({container:g,width:256,height:256,blur:t(484),radius:i[t(501)]}),h._renderer.canvas[t(491)].border="1px solid #5384ff",h[t(463)][t(456)].onclick=function(n){const e=t;h[e(527)]({x:n[e(492)],y:n[e(485)],value:1,radius:i.radius}),h[e(516)](1),m&&(m[e(453)]=!0)},h})()[e(463)][e(456)]);const v={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(499),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(478)]},b=new(o[e(519)])(v);d[e(502)].material=b;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:a}=t.boundingBox;t[n(512)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(509)].position[n(515)];e++)c.push((t[n(509)][n(528)][n(506)](e)-a.x)/s),c.push((t[n(509)][n(528)].getZ(e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(469)])(u,2))})(d.mesh_0[e(473)]),u((()=>{const t=e;g[t(491)][t(480)]=""+(i[t(472)]?t(497):"none")})),(t,n)=>{const o=e;return l(),p(o(481),{object:f(d)[o(502)]},null,8,A)}}});function D(t){function n(t){const e=T;if(typeof t===e(458))return function(t){}[e(489)](e(483)).apply(e(503));1!==(""+t/t)[e(530)]||t%20==0?function(){return!0}[e(489)](e(493)+e(522))[e(487)](e(507)):function(){return!1}[e(489)]("debu"+e(522)).apply(e(513)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const M=E;!function(t,n){const e=E,o=z();for(;;)try{if(784849===-parseInt(e(424))/1+parseInt(e(416))/2+parseInt(e(421))/3*(-parseInt(e(398))/4)+-parseInt(e(405))/5+parseInt(e(418))/6*(-parseInt(e(441))/7)+parseInt(e(407))/8*(-parseInt(e(414))/9)+parseInt(e(408))/10*(parseInt(e(436))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(401)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(){const t=["7rvClYk","debu","stateObject","238580nbDNIX","点击左侧蓝色画框","heatmapClick","apply","function *\\( *\\)",'{}.constructor("return this")( )',"TresGridHelper","3713100LcmheZ","TresPerspectiveCamera","8KWtirs","950qUTBNA","error","#030311","info","__proto__","trace","12686697NxnPcN","gger","228866DsaDAH","TresCanvas","9227316JqAtCc","test","TresDirectionalLight","3KMjnLY","console","exception","1260515WQcoBD","addButton","toString","#ffffff","addBinding","prototype","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","chain","init","length","657767PdvbGa","圆圈的大小","call","radius","show2dCanvas"];return(z=function(){return t})()}!function(){S(this,(function(){const t=E,n=new RegExp(t(402)),e=new RegExp(t(431),"i"),o=L(t(434));n.test(o+t(433))&&e[t(419)](o+t(432))?L():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(401)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function("return (function() "+t(403)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(422)]||{},o=["log","warn",t(411),t(409),t(423),"table",t(413)];for(let r=0;r<o.length;r++){const n=O[t(430)][t(429)].bind(O),a=o[r],s=e[a]||n;n[t(412)]=O.bind(O),n[t(426)]=s[t(426)].bind(s),e[a]=n}}))();const P=_(M(406),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),R=_(M(420),{position:[5,10,7.5],color:M(427),intensity:5},null,-1),U=_(M(404),{args:[50,25]},null,-1);function E(t,n){const e=z();return(E=function(t,n){return e[t-=397]})(t,n)}const q=i({__name:M(400),setup(t){const o=M,s={clearColor:o(410),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(428)](i,o(440),{label:"显示二维图"}),c[o(428)](i,o(439),{label:o(437),min:.1,max:30,step:.1}),c[o(425)]({title:o(399)}),(t,e)=>{const r=h(o(417));return l(),m(r,x(s,{"window-size":""}),{default:g((()=>[P,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),R,U,(l(),m(b,null,{default:g((()=>[v(B,y(w(i)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=E;if("string"==typeof t)return function(t){}[e(430)]("while (true) {}")[e(401)]("counter");1!==(""+t/t)[e(435)]||t%20==0?function(){return!0}[e(430)]("debu"+e(415))[e(438)]("action"):function(){return!1}.constructor(e(442)+e(415))[e(401)](e(397)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
