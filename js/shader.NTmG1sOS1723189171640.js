import{$ as n,p as t,d as e,S as o,N as r}from"./@tresjs.LTwFwASm1723189171640.js";import{a6 as i,A as s,aN as a,ca as c}from"./three.5MXJ6W7w1723189171640.js";import{P as u}from"./tweakpane.yHWGBmom1723189171640.js";import{L as l}from"./three-subdivide.sKs1WrLp1723189171640.js";import{d as f,b as p,a1 as d,w as g,o as h,D as m,J as v,aj as y,ak as w,a4 as b,r as _,e as I,f as S,g as x,j as M,u as T,m as j}from"./@vue.Q1VpS3901723189171640.js";import"./@vueuse.oQlm8k6P1723189171640.js";const A=z;function B(){const n=['{}.constructor("return this")( )',"call","uniforms","action","side","10hzwooK","blending","srcMesh","console","10857vTCtsQ","FrontSide","table","test","apply","clone","4320138FxIEXP","constructor","length","toString","counter","279UWtUSt","log","return (function() ","#ffff00","72112thLQUK","Vector3","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","function *\\( *\\)","602108zLTapP","Color","prototype","input","exception","attributes","bind","init","66RCBlhf","1212740XHmZqK","position","scale","info","11dTwhSi","geometry","modify","7HvDRYA","AdditiveBlending","shineShader","stateObject","trace","gger","value","chain","string","color","while (true) {}","104854kKQjZA","debu","copy","error","subdivision","24827652XWbRKi"];return(B=function(){return n})()}!function(n,t){const e=z,o=B();for(;;)try{if(422905===-parseInt(e(319))/1+parseInt(e(300))/2*(-parseInt(e(334))/3)+-parseInt(e(292))/4*(parseInt(e(330))/5)+-parseInt(e(340))/6*(parseInt(e(308))/7)+parseInt(e(288))/8*(-parseInt(e(284))/9)+parseInt(e(301))/10*(-parseInt(e(305))/11)+parseInt(e(324))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=z,t=new RegExp(n(291)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=N(n(299));t[n(337)](o+n(315))&&e[n(337)](o+n(295))?N():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(n,t){const e=B();return(z=function(n,t){return e[n-=283]})(n,t)}C(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function(n(286)+n(325)+");")()}catch(e){t=window}return t}(),e=t[n(333)]=t.console||{},o=[n(285),"warn",n(304),n(322),n(296),n(336),n(312)];for(let r=0;r<o[n(342)];r++){const t=C.constructor[n(294)][n(298)](C),i=o[r],s=e[i]||t;t.__proto__=C[n(298)](C),t[n(343)]=s[n(343)][n(298)](s),e[i]=t}}))();const R=[A(303)],L=f({__name:A(310),props:{srcMesh:{},scale:{default:1.2},color:{default:A(287)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[A(335)]},blending:{default:i[A(309)]}},setup(e){const o=A,r=e,s=p(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(293)])(r[o(317)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(290),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(331)]};d((()=>{const n=o;if(r.srcMesh&&!s[n(314)][n(306)][n(297)][n(302)]){let t=r[n(332)][n(306)][n(339)]();r[n(323)]&&(t=l[n(307)](t,2)),s.value[n(306)]=t,s.value[n(302)][n(321)](r[n(332)][n(302)])}r.color&&(a.uniforms.glowColor[n(314)]=new(i[n(293)])(r[n(317)])),r.c&&(a.uniforms.c[n(314)]=r.c),r.p&&(a.uniforms.p[n(314)]=r.p)})),g((()=>r[o(323)]),(n=>{const t=o;let e=r[t(332)][t(306)][t(339)]();n&&(e=l[t(307)](e,2)),s[t(314)][t(306)]=e})),g((()=>r.side),(n=>{const t=o;s[t(314)].material[t(329)]=n})),g((()=>r.blending),(n=>{const t=o;s[t(314)].material[t(331)]=n}));const{onLoop:c}=n(),{camera:u}=t();return c((()=>{const n=o;u.value&&s[n(314)]&&(a[n(327)].viewVector.value=(new(i[n(289)])).subVectors(u[n(314)][n(302)],s[n(314)][n(302)]))})),(n,t)=>(h(),m("TresMesh",{ref_key:"TSGref",ref:s,scale:r.scale},[v("TresShaderMaterial",y(w(a)),null,16)],8,R))}});function N(n){function t(n){const e=z;if(typeof n===e(316))return function(n){}[e(341)](e(318))[e(338)](e(283));1!==(""+n/n)[e(342)]||n%20==0?function(){return!0}[e(341)](e(320)+e(313))[e(326)](e(328)):function(){return!1}[e(341)](e(320)+e(313))[e(338)](e(311)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=E;!function(n,t){const e=E,o=K();for(;;)try{if(492084===parseInt(e(258))/1+-parseInt(e(230))/2*(parseInt(e(251))/3)+parseInt(e(245))/4+-parseInt(e(221))/5+parseInt(e(263))/6+parseInt(e(218))/7*(parseInt(e(255))/8)+-parseInt(e(212))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(248)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=E,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=O(n(264));t[n(233)](o+"chain")&&e[n(233)](o+"input")?O():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[E(248)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(n,t){const e=K();return(E=function(n,t){return e[n-=212]})(n,t)}function K(){const n=["subdivision","srcMesh","map","#00dfff","2830513iXuOUC","side","bind","3128020LfJTqa","FrontSide","AdditiveBlending","console","TresAmbientLight","DoubleSide","blending","table","TresCanvas","2IuEusc","call","TresMesh","test","边缘处理","info","TreBoxRef","TresMeshBasicMaterial","TresMeshRefA","length","__proto__","prototype","gger","logo.png","warn","3739136KpdZlc","while (true) {}","TresSphereGeometry","apply","debu",'{}.constructor("return this")( )',"1133667sQDjnA","string","TresBoxGeometry","constructor","16LSSgHv","toString","return (function() ","670627noPyNi","trace","scale","log","addBinding","4883418AlkQrL","init","action","value","TresPerspectiveCamera","15592095nhSgVg","stateObject"];return(K=function(){return n})()}Z(void 0,(function(){const n=E;let t;try{t=Function(n(257)+n(250)+");")()}catch(r){t=window}const e=t[n(224)]=t.console||{},o=[n(261),n(244),n(235),"error","exception",n(228),n(259)];for(let i=0;i<o[n(239)];i++){const t=Z[n(254)][n(241)][n(220)](Z),r=o[i],s=e[r]||t;t[n(240)]=Z[n(220)](Z),t[n(256)]=s[n(256)][n(220)](s),e[r]=t}}))();const P=v(V(267),{position:[5,5,5]},null,-1),D=v(V(225),{intensity:1},null,-1),Q=v("TresGridHelper",{args:[10,10]},null,-1),$=v(V(247),{args:[1,32,16]},null,-1),G=[V(216)],H=[V(216)],U=[v(V(253),{args:[1,1,1,1,1]},null,-1),v(V(237),{color:"#0ff"},null,-1)],X=f({__name:"shader",async setup(n){const t=V;let l,f;const d={clearColor:"#222"},g=p(),m=p(),y=p(),w=([l,f]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(243)]))),l=await l,f(),l),A=_({scale:1.6,color:t(217),subdivision:!0,c:1.1,p:1.4,side:i[t(222)],blending:i[t(223)]}),B=new u({title:"参数",expanded:!0});return B.addBinding(A,"color",{label:"颜色"}),B[t(262)](A,t(260),{label:"大小",min:1,max:3,step:.2}),B.addBinding(A,t(214),{label:t(234)}),B[t(262)](A,"c",{label:"c",min:0,max:2,step:.1}),B[t(262)](A,"p",{label:"p",min:0,max:8,step:.2}),B[t(262)](A,t(219),{options:{FrontSide:i[t(222)],BackSide:s,DoubleSide:i[t(226)]}}),B[t(262)](A,t(227),{options:{AdditiveBlending:a,NormalBlending:c}}),(n,r)=>{const i=t,s=I(i(229));return h(),S(s,j(d,{"window-size":""}),{default:x((()=>[P,D,M(T(e)),Q,v(i(232),{ref_key:i(238),ref:g,position:[-2,1,0]},[$,v(i(237),{map:T(w)[0]},null,8,G)],512),M(L,j({srcMesh:g[i(266)]},A),null,16,[i(215)]),M(T(o),{ref_key:i(236),ref:y,args:[1,1,1],position:[2,1,0]},{default:x((()=>[v(i(237),{map:T(w)[1]},null,8,H)])),_:1},512),M(L,j({srcMesh:y[i(266)]&&y[i(266)].value},A),null,16,["srcMesh"]),v(i(232),{ref_key:"TresMeshRefB",ref:m,position:[0,1,-2]},U,512),M(L,j({srcMesh:m.value},A),null,16,[i(215)])])),_:1},16)}}});function O(n){function t(n){const e=E;if(typeof n===e(252))return function(n){}[e(254)](e(246)).apply("counter");1!==(""+n/n)[e(239)]||n%20==0?function(){return!0}[e(254)](e(249)+e(242))[e(231)](e(265)):function(){return!1}.constructor(e(249)+"gger")[e(248)](e(213)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{X as default};
