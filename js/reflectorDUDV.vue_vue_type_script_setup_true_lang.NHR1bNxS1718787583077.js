import{bZ as t,a0 as e,r as n,s as r}from"./three.OZpCYxlY1718787583077.js";import{N as o}from"./@tresjs.yMGhEK7G1718787583077.js";import{R as s,b as i}from"./all.three.11YPfZz61718787583077.js";import{d as c,a3 as a,a2 as u,w as l,o as f,D as p,J as d,u as h}from"./@vue.CpOXM7bB1718787583077.js";const w=v;!function(t,e){const n=v,r=g();for(;;)try{if(827471===parseInt(n(372))/1*(parseInt(n(374))/2)+parseInt(n(352))/3+-parseInt(n(358))/4*(parseInt(n(319))/5)+-parseInt(n(322))/6*(parseInt(n(341))/7)+-parseInt(n(320))/8+parseInt(n(310))/9*(parseInt(n(332))/10)+parseInt(n(368))/11*(parseInt(n(335))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(369)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function v(t,e){const n=g();return(v=function(t,e){return n[t-=310]})(t,e)}!function(){b(this,(function(){const t=v,e=new RegExp(t(364)),n=new RegExp(t(334),"i"),r=R(t(375));e.test(r+t(311))&&n[t(339)](r+t(331))?R():r("0")}))()}();const m=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(369)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function g(){const t=["uMatrix","7fnPqjw","ignoreObjects","textureMatrixUniform","length","string","call",'{}.constructor("return this")( )',"texture","wrapT","forEach","toString","2855727wUdJVG","repeat","primitive","stateObject","counter","action","4CZdOxB","add","uniforms","exception","log","table","function *\\( *\\)","wrapS","tReflectBlur","set","11380435unlohD","apply","object","bind","1IQLqJB","visible","531494EiNcVG","init","renderTargetUniform","error","568782MthQpp","chain","info","TresGroup","while (true) {}","console","scale","update","size","4539625RjnENQ","729072LXTPzL","tReflect","4450206FxlLbu","constructor","gger","rotation","onBeforeRender","uReflectivity","reflectorDUDV","reflectivity","isMesh","input","50tqswFr","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","12JMXYRE","showGridHelper","prototype","value","test"];return(g=function(){return t})()}m(void 0,(function(){const t=v;let e;try{e=Function("return (function() "+t(347)+");")()}catch(o){e=window}const n=e.console=e[t(315)]||{},r=[t(362),"warn",t(312),t(377),t(361),t(363),"trace"];for(let s=0;s<r[t(344)];s++){const e=m[t(323)][t(337)].bind(m),o=r[s],i=n[o]||e;e.__proto__=m[t(371)](m),e[t(351)]=i[t(351)].bind(i),n[o]=e}}))();const j=[w(316)],y=[w(370)],I=[w(370)],x=c({__name:w(328),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:b}){const v=w;let m,g;const x=c,R=new s,_=new t(x.size[0]-.5,x[v(318)][1]);_.visible=x[v(336)];const{map:z}=([m,g]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),m=await m,g(),m);z[v(365)]=e,z[v(349)]=e,z[v(353)][v(367)](6,3);const E=new i({map:z,reflectivity:x[v(329)]});E[v(360)][v(321)]={value:R.renderTarget[v(348)]},E.uniforms[v(366)]=R[v(376)],E[v(360)][v(340)]=R[v(343)];const G=new n(new r(x[v(318)][0],x.size[1]),E);return G[v(325)].x=-Math.PI/2,G[v(359)](R),G[v(326)]=(t,e,n)=>{const r=v;G.visible=!1,x[r(342)][r(350)]((t=>{const e=r;t[e(330)]&&(t[e(373)]=!1),t[e(338)]&&t[e(338)][e(330)]&&(t[e(338)].visible=!1)})),R[r(317)](t,e,n),x[r(342)][r(350)]((t=>{const e=r;t[e(330)]&&(t.visible=!0),t.value&&t.value[e(330)]&&(t.value[e(373)]=!0)})),G[r(373)]=!0},u((()=>{const t=v;x.reflectivity&&(E[t(360)][t(327)].value=x[t(329)])})),l((()=>x.showGridHelper),(t=>{_[v(373)]=t})),b({reflector:R}),(t,e)=>{const n=v;return f(),p(n(313),{scale:x.scale},[d(n(354),{object:h(G),"position-y":-.01},null,8,y),d(n(354),{object:h(_)},null,8,I)],8,j)}}});function R(t){function e(t){const n=v;if(typeof t===n(345))return function(t){}[n(323)](n(314)).apply(n(356));1!==(""+t/t)[n(344)]||t%20==0?function(){return!0}[n(323)](n(333)+n(324))[n(346)](n(357)):function(){return!1}[n(323)]("debu"+n(324))[n(369)](n(355)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
