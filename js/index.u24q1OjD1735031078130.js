var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.Nz9gzX6o1735031078130.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.swOflITy1735031078130.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.MVIHKmBx1735031078130.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,a9 as v,V as m,Q as w,M as h}from"./three.bc6MLGU_1735031078130.js";import{m as g,e as d}from"./@tresjs.dTM0HLnZ1735031078130.js";import{u as y}from"./index.ENNhtf0D1735031078130.js";import{F as S,C as _}from"./three-stdlib.2VgffRAZ1735031078130.js";import{d as P}from"./@vue.-THQH3GC1735031078130.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.FO7epHks1735031078130.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.nKJHLuWx1735031078130.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.wtdt0fH81735031078130.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.HfHXCZ_a1735031078130.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.evDBKkUj1735031078130.js";function z(){const t=["info","input","163010pMauJU","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","log","chain","1220736xxhBlO","1737896jszzDH","toString","exception","counter","gger","table","4239872qtgjli",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"call","string","259073QHuiKV","102RgmZeT","test","trace","stateObject","constructor","length",'{}.constructor("return this")( )',"return (function() ","bind","1171680SaGumH","console","2693176RblihV","apply","while (true) {}","init"];return(z=function(){return t})()}const b=E;!function(t,e){const n=E,i=z();for(;;)try{if(329592===parseInt(n(474))/1+parseInt(n(463))/2+-parseInt(n(449))/3+-parseInt(n(464))/4+parseInt(n(457))/5*(parseInt(n(475))/6)+-parseInt(n(470))/7+parseInt(n(451))/8)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(452)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){I(this,(function(){const t=E,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(459),"i"),i=D(t(454));e[t(476)](i+t(462))&&n[t(476)](i+t(456))?D():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(452)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function E(t,e){const n=z();return(E=function(t,e){return n[t-=442]})(t,e)}M(void 0,(function(){const t=E;let e;try{e=Function(t(447)+t(446)+");")()}catch(r){e=window}const n=e[t(450)]=e[t(450)]||{},i=[t(461),"warn",t(455),t(458),t(466),t(469),t(442)];for(let a=0;a<i[t(445)];a++){const e=M[t(444)].prototype[t(448)](M),r=i[a],o=n[r]||e;e.__proto__=M.bind(M),e[t(465)]=o[t(465)][t(448)](o),n[r]=e}}))();const A=b(471);function D(t){function e(t){const n=E;if(typeof t===n(473))return function(t){}.constructor(n(453))[n(452)](n(467));1!==(""+t/t)[n(445)]||t%20==0?function(){return!0}[n(444)](n(460)+"gger")[n(472)]("action"):function(){return!1}[n(444)](n(460)+n(468))[n(452)](n(443)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=V;!function(t,e){const n=V,i=O();for(;;)try{if(557174===parseInt(n(412))/1+parseInt(n(441))/2+-parseInt(n(445))/3*(-parseInt(n(437))/4)+-parseInt(n(409))/5*(-parseInt(n(443))/6)+parseInt(n(408))/7+-parseInt(n(420))/8*(parseInt(n(413))/9)+-parseInt(n(406))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[V(436)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){U(this,(function(){const t=V,e=new RegExp(t(444)),n=new RegExp(t(429),"i"),i=k(t(426));e[t(425)](i+"chain")&&n.test(i+t(431))?k():i("0")}))()}();const j=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(){const t=["table","apply","4056508SCwIeA","trace","call","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","1730682iBDlbJ","exception","3606SVFRDl","function *\\( *\\)","3BnHoIf","console","17474830FpjdqG","length","274631oNRqrr","645qeGKiq","action","while (true) {}","555240XWBYxB","96579kujeqW","gger","stateObject","info",'{}.constructor("return this")( )',"defines","bind","184UOlfWr","prototype","__proto__","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","string","test","init","uniforms","clone","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","input","toString","constructor","warn"];return(O=function(){return t})()}function T(t){const e=V,n=a({},t);return e(418)in t&&(n[e(418)]=a({},t[e(418)])),"uniforms"in t&&(n[e(427)]=s[e(428)](t[e(427)])),n}function V(t,e){const n=O();return(V=function(t,e){return n[t-=406]})(t,e)}j(void 0,(function(){const t=V;let e;try{e=Function("return (function() "+t(417)+");")()}catch(r){e=window}const n=e[t(446)]=e[t(446)]||{},i=["log",t(434),t(416),t(430),t(442),t(435),t(438)];for(let a=0;a<i[t(407)];a++){const e=j[t(433)][t(421)][t(419)](j),r=i[a],o=n[r]||e;e[t(422)]=j[t(419)](j),e[t(432)]=o[t(432)][t(419)](o),n[r]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:L(440)+A+L(423)};function k(t){function e(t){const n=V;if(typeof t===n(424))return function(t){}[n(433)](n(411))[n(436)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(433)]("debu"+n(414))[n(439)](n(410)):function(){return!1}[n(433)]("debugger")[n(436)](n(415)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const F=C;!function(t,e){const n=C,i=Z();for(;;)try{if(681623===parseInt(n(358))/1*(parseInt(n(336))/2)+parseInt(n(338))/3*(parseInt(n(337))/4)+parseInt(n(332))/5+-parseInt(n(382))/6+parseInt(n(316))/7+-parseInt(n(344))/8*(-parseInt(n(322))/9)+parseInt(n(356))/10*(-parseInt(n(342))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(314)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=C,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(354),"i"),i=X(t(377));e.test(i+"chain")&&n[t(315)](i+t(378))?X():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(t,e){const n=Z();return(C=function(t,e){return n[t-=311]})(t,e)}W(void 0,(function(){const t=C,e=function(){const t=C;let e;try{e=Function(t(381)+t(363)+");")()}catch(n){e=window}return e}(),n=e[t(335)]=e[t(335)]||{},i=[t(357),"warn",t(349),t(385),"exception",t(350),t(347)];for(let r=0;r<i.length;r++){const e=W[t(386)][t(343)][t(366)](W),a=i[r],o=n[a]||e;e[t(328)]=W.bind(W),e[t(340)]=o[t(340)].bind(o),n[a]=e}}))();const Q=new l;class N{constructor(t){const e=C;!t&&(t=e(372));const n=T(R);n[e(374)]=n[e(374)].replace(/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0][e(376)][e(360)]=0,i[0][e(376)][e(365)]=0,i[1]=new c(T(n)),i[1].defines[e(360)]=1,i[1].defines[e(365)]=0,i[2]=new c(T(n)),i[2][e(376)].X_IS_EVEN=0,i[2][e(376)][e(365)]=1,i[3]=new c(T(n)),i[3][e(376)][e(360)]=1,i[3].defines[e(365)]=1;const r=new u;r[e(317)][e(311)]=p,r[e(317)][e(387)]=p,this[e(346)]=r,this[e(313)]=new S(new c(_)),this._mipQuad=new S(null),this._mipMaterials=i}[F(329)](t,e,n,i=!1){const r=F;t[r(373)]&&(t=t.texture);const o=n[r(327)],s=n[r(320)](),l=n[r(331)]();n[r(324)](Q);const c=this._copyQuad,u=this._mipQuad,p=this._swapTarget,x=this[r(380)];let v,m;i?(v=f[r(334)](t[r(339)][r(383)]),m=f[r(334)](t[r(339)][r(353)])):(v=Math.floor(t[r(339)][r(383)]),m=Math[r(352)](t[r(339)][r(353)]));const w=Math[r(352)](1.5*v),h=Math[r(352)](m);e[r(326)](w,h),p[r(317)][r(388)]!==e[r(317)][r(388)]?(p[r(330)](),p.copy(e),p.texture[r(339)]=a({},p.texture.image)):p[r(326)](w,h),n[r(327)]=!1,n[r(341)](0),n[r(312)](),c[r(379)][r(368)][r(362)].value=t,c[r(351)][r(333)](v,m,0,0,w,h),n[r(371)](e),n.clear(),c[r(370)](n),n[r(371)](p),n[r(345)](),c[r(370)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(368)].map[r(361)]=p[r(317)],t[r(368)][r(369)][r(361)]=y,t[r(368)][r(384)][r(361)][r(318)](g,d),t[r(368)].originalMapSize.value.set(v,m),u[r(379)]=t,g=Math[r(352)](g/2),d=Math[r(352)](d/2);const i=h-2*d;n[r(371)](e),u[r(351)][r(333)](g,d,-v,-i,w,h),u.render(n),n[r(371)](p),t.uniforms[r(319)].value=e[r(317)],u.render(n),y++}return n[r(371)](l),n[r(312)](s),n[r(341)](Q),n[r(327)]=o,y+1}[F(330)](){const t=F;this[t(346)].dispose(),this[t(367)][t(330)](),this[t(313)].dispose(),this[t(380)][t(321)]((e=>e[t(330)]()))}}function X(t){function e(t){const n=C;if("string"==typeof t)return function(t){}[n(386)](n(325))[n(314)](n(359));1!==(""+t/t)[n(323)]||t%20==0?function(){return!0}[n(386)](n(348)+n(375))[n(364)](n(355)):function(){return!1}[n(386)]("debugger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function Z(){const t=["Y_IS_EVEN","bind","_mipQuad","uniforms","parentLevel","render","setRenderTarget","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","isWebGLRenderTarget","fragmentShader","gger","defines","init","input","material","_mipMaterials","return (function() ","4062810mndtZH","width","parentMapSize","error","constructor","magFilter","type","minFilter","setClearAlpha","_copyQuad","apply","test","3081001qPLmaM","texture","set","map","getClearAlpha","forEach","9gWLyvs","length","getClearColor","while (true) {}","setSize","autoClear","__proto__","update","dispose","getRenderTarget","605980NWYvBw","setViewOffset","floorPowerOfTwo","console","54574qokpwQ","277960LcHDhm","15CvXsxS","image","toString","setClearColor","9526ucsqBr","prototype","5815816aFpgdJ","clear","_swapTarget","trace","debu","info","table","camera","floor","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","7610HPbcpf","log","14nFOUQD","counter","X_IS_EVEN","value","tDiffuse",'{}.constructor("return this")( )',"call"];return(Z=function(){return t})()}!function(t,e){const n=Y,i=$();for(;;)try{if(216804===-parseInt(n(457))/1*(-parseInt(n(405))/2)+-parseInt(n(394))/3*(-parseInt(n(387))/4)+parseInt(n(401))/5+-parseInt(n(416))/6*(-parseInt(n(434))/7)+parseInt(n(441))/8+parseInt(n(397))/9*(parseInt(n(461))/10)+-parseInt(n(411))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(439)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){const t=Y,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=J(t(388));e.test(i+t(435))&&n.test(i+"input")?J():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Y(t,e){const n=$();return(Y=function(t,e){return n[t-=384]})(t,e)}G(void 0,(function(){const t=Y,e=function(){const t=Y;let e;try{e=Function(t(447)+t(456)+");")()}catch(n){e=window}return e}(),n=e[t(445)]=e.console||{},i=["log",t(400),t(460),t(420),t(453),t(412),"trace"];for(let r=0;r<i.length;r++){const e=G[t(455)][t(406)][t(458)](G),a=i[r],o=n[a]||e;e[t(423)]=G[t(458)](G),e[t(409)]=o[t(409)][t(458)](o),n[a]=e}}))();const B=P({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(430)]),a=new(x[n(427)]),o=new v,s=new N,l=y({width:i[n(452)],height:i.resolution,settings:{type:x[n(389)]}}),c=y({width:i.resolution,height:i.resolution,settings:{type:x[n(389)]}}),{camera:u,renderer:p,scene:f}=g(),{onBeforeLoop:S}=d();return S((()=>{const t=n;(()=>{const t=n;if(!u[t(428)])return;r.set(new(x[t(384)])(0,1,0),0),r[t(413)](i[t(436)][t(442)]),o[t(448)](u[t(428)]);const e=new(x[t(384)])(0,0,1)[t(433)]().negate(),s=u.value[t(415)](new m);e[t(449)](r[t(417)]);const c=new(x[t(384)]);r[t(392)](s,c);const v=c[t(433)]();v[t(402)](s),v[t(404)](c),o[t(431)][t(448)](v);const g=new(x[t(384)])(0,0,-1);g[t(410)](u[t(428)].getWorldQuaternion(new w)),g[t(404)](s);const d=new(x[t(384)]);i[t(436)][t(415)](d),d[t(402)](g),d[t(449)](r.normal).negate(),d[t(404)](i[t(436)][t(415)](new(x[t(384)]))),o.up.set(0,1,0),o[t(410)](u.value[t(450)](new(x[t(444)]))),o.up[t(449)](r.normal),o.lookAt(d),o[t(385)]();const y=new h;y[t(395)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(432)](o[t(403)]),y[t(432)](o[t(425)]),a[t(448)](y),r.applyMatrix4(o.matrixWorldInverse);const S=new(x[t(438)])(r[t(417)].x,r.normal.y,r.normal.z,r[t(437)]),_=o.projectionMatrix,P=new(x[t(438)]);P.x=(Math.sign(S.x)+_.elements[8])/_[t(391)][0],P.y=(Math.sign(S.y)+_[t(391)][9])/_[t(391)][5],P.z=-1,P.w=(1+_[t(391)][10])/_.elements[14],S[t(426)](2/S[t(418)](P)),_[t(391)][2]=S.x,_[t(391)][6]=S.y,_[t(391)][10]=S.z+1,_[t(391)][14]=S.w;const z=p[t(428)].getRenderTarget();p.value[t(446)](l.value),p.value[t(422)][t(419)][t(393)][t(429)](!0),!1===p[t(428)][t(386)]&&p[t(428)][t(451)](),i[t(398)][t(459)]((e=>e[t(440)]=!1)),p[t(428)].render(f.value,o),i[t(398)][t(459)]((t=>t.visible=!0)),p.value.setRenderTarget(z)})(),l[t(428)]&&c[t(428)]&&p[t(428)]&&s[t(408)](l[t(428)].texture,c[t(428)],p[t(428)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function $(){const t=["forEach","info","580SsOaaH","Vector3","updateMatrixWorld","autoClear","4pRDsnS","init","UnsignedByteType","action","elements","projectPoint","depth","235023RClUMp","set","debu","55368VbORZj","ignoreObjects","counter","warn","1670640DvOmAM","sub","projectionMatrix","add","37836Pkqjrf","prototype","gger","update","toString","applyQuaternion","12830433IqFSuo","table","applyMatrix4","call","getWorldPosition","18QUpebF","normal","dot","buffers","error","string","state","__proto__","length","matrixWorldInverse","multiplyScalar","Matrix4","value","setMask","Plane","position","multiply","clone","431536iFyqgC","chain","parent","constant","Vector4","apply","visible","2826448dXIxXY","matrixWorld","while (true) {}","Quaternion","console","setRenderTarget","return (function() ","copy","reflect","getWorldQuaternion","clear","resolution","exception","stateObject","constructor",'{}.constructor("return this")( )',"4QVGubU","bind"];return($=function(){return t})()}function J(t){function e(t){const n=Y;if(typeof t===n(421))return function(t){}[n(455)](n(443)).apply(n(399));1!==(""+t/t)[n(424)]||t%20==0?function(){return!0}.constructor(n(396)+n(407))[n(414)](n(390)):function(){return!1}[n(455)](n(396)+n(407)).apply(n(454)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=et,i=nt();;)try{if(314301===-parseInt(n(339))/1*(parseInt(n(332))/2)+-parseInt(n(348))/3+parseInt(n(367))/4*(parseInt(n(337))/5)+parseInt(n(343))/6+parseInt(n(363))/7*(parseInt(n(347))/8)+-parseInt(n(361))/9*(-parseInt(n(355))/10)+-parseInt(n(366))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(342)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){K(this,(function(){var t=et,e=new RegExp(t(352)),n=new RegExp(t(346),"i"),i=it("init");e.test(i+t(365))&&n[t(359)](i+t(344))?it():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(342)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(t,e){var n=nt();return(et=function(t,e){return n[t-=332]})(t,e)}function nt(){var t=["2891382swUzlI","input","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8TRIIZi","579438cmGXRD","string","info","stateObject","function *\\( *\\)",'{}.constructor("return this")( )',"return (function() ","822040GuwIQx","console","debu","warn","test","length","45xfXqvT","toString","891373zvFBrl","constructor","chain","5666947PXwxMk","156352DEDfHY","action","1472bzgFmM","table","log","gger","__proto__","10kAOaYB","counter","103lUybcS","exception","error","apply"];return(nt=function(){return t})()}function it(t){function e(t){var n=et;if(typeof t===n(349))return function(t){}[n(364)]("while (true) {}")[n(342)](n(338));1!==(""+t/t)[n(360)]||t%20==0?function(){return!0}[n(364)](n(357)+n(335)).call(n(368)):function(){return!1}[n(364)](n(357)+n(335)).apply(n(351)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=et,e=function(){var t,e=et;try{t=Function(e(354)+e(353)+");")()}catch(n){t=window}return t}(),n=e.console=e[t(356)]||{},i=[t(334),t(358),t(350),t(341),t(340),t(333),"trace"],r=0;r<i.length;r++){var a=tt.constructor.prototype[t(345)](tt),o=i[r],s=n[o]||a;a[t(336)]=tt[t(345)](tt),a[t(362)]=s[t(362)][t(345)](s),n[o]=a}}))();export{B as _};
