import{ab as t,bR as n,_ as o,C as e}from"./three.hBhj0ayh1743149128717.js";import{e as r}from"./@tresjs.GCV-1VTd1743149128717.js";import{g as i}from"./utils.5VKV6FAs1743149128717.js";import{d as s,b as a,a2 as c,w as u,o as f,H as l,N as p,u as v,aj as m,ak as h}from"./@vue.L-brCdZe1743149128717.js";function d(t,n){const o=x();return d=function(t,n){return o[t-=396]},d(t,n)}const y=d;!function(t,n){const o=d,e=x();for(;;)try{if(864510===parseInt(o(406))/1+parseInt(o(428))/2*(parseInt(o(439))/3)+parseInt(o(433))/4+parseInt(o(403))/5*(parseInt(o(451))/6)+parseInt(o(404))/7*(parseInt(o(420))/8)+parseInt(o(437))/9+-parseInt(o(400))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const g=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[d(453)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function x(){const t=["test","TresBufferGeometry","string","\nprecision lowp float;\nprecision lowp int;\n","\nprecision lowp float;\nprecision lowp int;\nuniform float time;\nuniform float opacity;\nuniform vec3 color;\nuniform float num;\nuniform float speed;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 fragColor = vec4(0.);\n\tfloat sin = sin((vUv.y - time * speed) * 10. * num);\n\tfloat high = 0.92;\n\tfloat medium = 0.4;\n\tif (sin > high) {\n\t\tfragColor = vec4(mix(vec3(.8, 1., 1.), color, (1. - sin) / (1. - high)), 1.);\n\t} else if(sin > medium) {\n\t\tfragColor = vec4(color, mix(1., 0., 1.-(sin - medium) / (high - medium)));\n\t} else {\n\t\tfragColor = vec4(color, 0.);\n\t}\n\tvec3 fade = mix(color, vec3(0., 0., 0.), vUv.y);\n\tfragColor = mix(fragColor, vec4(fade, 1.), 0.85);\n\tgl_FragColor = vec4(fragColor.rgb, fragColor.a * opacity * (1. - vUv.y));\n}\n","opacity","error","toString","log","stateObject","bind","__proto__","gger","8TmUaYQ","tresMeshRef",'{}.constructor("return this")( )',"speed","uniforms","time","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","333338SpluTJ","debu","prototype","ShaderChunk","num","450444QtUSZx","table","color","exception","1588545PQHwTh","pv2","6XBHCOz","return (function() ","value","\nvarying vec2 vUv;\nvoid main() {\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t","input","uvs","fog_pars_vertex","info","action","\n}\n","positionSrc","call","152166fhhjko","chain","apply","length","position","function *\\( *\\)","trace","constructor","warn","29432470WvfsWQ","TresShaderMaterial","height","295AEmJdz","10090297ymjYie","counter","247533xVZROv"];return(x=function(){return t})()}!function(){g(this,(function(){const t=d,n=new RegExp(t(396)),o=new RegExp(t(427),"i"),e=b("init");n[t(407)](e+t(452))&&o[t(407)](e+t(443))?b():e("0")}))()}();const w=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[d(453)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();w(void 0,(function(){const t=d;let n;try{n=Function(t(440)+t(422)+");")()}catch(r){n=window}const o=n.console=n.console||{},e=[t(415),t(399),t(446),t(413),t(436),t(434),t(397)];for(let i=0;i<e[t(454)];i++){const n=w[t(398)][t(430)][t(417)](w),r=e[i],s=o[r]||n;n[t(418)]=w.bind(w),n[t(414)]=s[t(414)].bind(s),o[r]=n}}))();const _=[y(455),"uv"],C=s({__name:"rippleMesh",props:{positionSrc:{default:[{x:0,y:0},{x:10,y:10}]},color:{default:"#ffff00"},opacity:{default:.8},height:{default:100},num:{default:8},speed:{default:.15}},setup(s){const d=y,g=s,x=a(),w={side:t,transparent:!0,depthWrite:!1,depthTest:!0,vertexShader:d(410)+n[d(445)]+d(442)+o[d(431)].fog_vertex+d(448),fragmentShader:d(411),uniforms:{time:{type:d(438),value:0},color:{type:d(444),value:new e(g[d(435)])},opacity:{type:"pv2",value:g[d(412)]},num:{type:d(438),value:g[d(432)]},speed:{type:"pv2",value:g[d(423)]}}};let C=null,b=null;function j(t=[],n){const o=d,e=[],r=[];for(let i=0,s=e[o(454)],a=r[o(454)];i<t[o(454)]-1;i++){let o=1,c=t[i],u=t[i+1];e[s++]=c.x,e[s++]=0,e[s++]=c.y,r[a++]=0,r[a++]=0,e[s++]=u.x,e[s++]=0,e[s++]=u.y,r[a++]=1,r[a++]=0,e[s++]=c.x,e[s++]=n,e[s++]=c.y,r[a++]=0,r[a++]=o,e[s++]=c.x,e[s++]=n,e[s++]=c.y,r[a++]=0,r[a++]=o,e[s++]=u.x,e[s++]=0,e[s++]=u.y,r[a++]=1,r[a++]=0,e[s++]=u.x,e[s++]=n,e[s++]=u.y,r[a++]=1,r[a++]=o}C=new Float32Array(e),b=new Float32Array(r)}let{centerPoint:I,points:S}=i(g[d(449)]);j(S,g[d(402)]);const{onLoop:U}=r();return U((({delta:t})=>{const n=d;w[n(424)][n(425)].value+=t})),c((()=>{const t=d;g[t(435)]&&(w[t(424)][t(435)][t(441)]=new e(g[t(435)])),g.opacity&&(w.uniforms[t(412)][t(441)]=g[t(412)]),g[t(432)]&&(w[t(424)].num[t(441)]=g[t(432)]),g[t(423)]&&(w[t(424)][t(423)][t(441)]=g[t(423)]),x[t(441)]&&x[t(441)].position.set(I.x,x[t(441)][t(455)].y,I.y)})),u((()=>g[d(449)]),(t=>{const n=d,{centerPoint:o,points:e}=i(t);I=o,S=e,j(S,g.height),x[n(441)]&&x[n(441)][n(455)].set(I.x,x[n(441)][n(455)].y,I.y)})),(t,n)=>{const o=d;return f(),l("TresMesh",{renderOrder:2200,ref_key:o(421),ref:x},[p(o(408),{position:[v(C),3],uv:[v(b),2]},null,8,_),p(o(401),m(h(w)),null,16)],512)}}});function b(t){function n(t){const o=d;if(typeof t===o(409))return function(t){}.constructor(o(426))[o(453)](o(405));1!==(""+t/t).length||t%20==0?function(){return!0}[o(398)](o(429)+o(419))[o(450)](o(447)):function(){return!1}[o(398)](o(429)+o(419))[o(453)](o(416)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{C as _};
