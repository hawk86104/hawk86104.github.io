import{a6 as t,cu as n,V as e}from"./three.QUrV0R7c1724070319978.js";import{P as o}from"./tweakpane.yHWGBmom1724070319978.js";import{_ as r}from"./@tweenjs.YWzLuvWF1724070319978.js";import{p as s,$ as i}from"./@tresjs.2JnKj_Yj1724070319978.js";import{P as a,b as c,c as p,M as u,T as l,a as m,d as f}from"./index.sXceaGlx1724070319978.js";import{d as g,a1 as h,w as d,o as j,D as b,u as w,X as x,r as y,e as v,j as I,g as M,f as _,al as C,m as z,F as B}from"./@vue.Q1VpS3901724070319978.js";import{_ as k}from"./raycasterEvent.okqKAsdx1724070319978.js";import{a as S}from"./utils.yVl_tROs1724070319978.js";import"./@vueuse.2Yfo77CO1724070319978.js";import"./@mapbox.1fdf1agF1724070319978.js";import"./@amap.PfcO2up21724070319978.js";import"./three-mesh-bvh.4DLdRpxs1724070319978.js";import"./three-custom-shader-material.JQ_xA23o1724070319978.js";import"./object-hash.-UynEDWH1724070319978.js";import"./jszip.ZVB-p0R-1724070319978.js";import"./glsl-tokenizer.P_7ZdKiw1724070319978.js";import"./glsl-token-string.l3IeKluQ1724070319978.js";import"./glsl-token-functions.UEj-2zyG1724070319978.js";import"./@fesjs.fxXnq-gV1724070319978.js";import"./vue-router.7GyIEHku1724070319978.js";import"./lodash-es.nFpJXAf-1724070319978.js";import"./@qlin.yHhFDldE1724070319978.js";import"./pinia.yc2Sjh9i1724070319978.js";import"./@floating-ui.BPbuo5Gx1724070319978.js";import"./@juggle.7yjBMqoW1724070319978.js";import"./http.GUxEGjno1724070319978.js";import"./axios.FVFoCDiv1724070319978.js";import"./color.1dR59aA41724070319978.js";import"./color-string.mC5ZVoAh1724070319978.js";import"./color-name.2dL5fuZD1724070319978.js";import"./simple-swizzle.EAWYbgh-1724070319978.js";import"./is-arrayish.d8Oa_gJk1724070319978.js";import"./color-convert.qEHrMdYL1724070319978.js";import"./lodash.MulNdxbF1724070319978.js";import"./naive-ui.x0PsoqFp1724070319978.js";import"./css-render.JA5rj2G81724070319978.js";import"./@emotion.ZD_ZYAgY1724070319978.js";import"./@css-render.T1FW0Pm81724070319978.js";import"./seemly.SjiSeX2v1724070319978.js";import"./vooks.P1f8eP491724070319978.js";import"./evtd.DtfwxtIl1724070319978.js";import"./vueuc.NbwIVf0-1724070319978.js";import"./vdirs.XGQANxE01724070319978.js";import"./treemate.dcEdf2le1724070319978.js";import"./date-fns.BSpsMZLQ1724070319978.js";import"./date-fns-tz.Yaq1qFJ21724070319978.js";import"./async-validator.-YBkpS4I1724070319978.js";import"./utils.2chDn2kt1724070319978.js";import"./d3-geo.2YlxSB4v1724070319978.js";import"./d3-array.E5C1cfJ61724070319978.js";function T(t,n){const e=A();return(T=function(t,n){return e[t-=318]})(t,n)}const R=T;!function(t,n){const e=T,o=A();for(;;)try{if(872881===-parseInt(e(330))/1+parseInt(e(358))/2+parseInt(e(363))/3+-parseInt(e(362))/4*(-parseInt(e(377))/5)+parseInt(e(378))/6+-parseInt(e(328))/7+parseInt(e(382))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(321)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=T,n=new RegExp(t(384)),e=new RegExp(t(338),"i"),o=N("init");n[t(345)](o+"chain")&&e[t(345)](o+t(339))?N():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(321)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["input","source","bbox","table","innerHeight","Vector3","test","dampingFactor","showBoundingBox","set","stateObject","genBright","gger","isMonochrome","target","rotation","abs","#fff","Color","441566dgFpHp","opposite","log","coordType","4oqupXu","2084361OpiwOK","position","toString","counter","monochrome","__proto__","constructor","genContrast",'{}.constructor("return this")( )',"mapCenter","length","exception","trace","value","1990630Txnxqd","3757062kGvTgZ","genSaturation","console","bind","11975856teNhMM","wireframe","function *\\( *\\)","filter","warn","return (function() ","provider","string","apply","prototype","useStandardMaterial","position0","PerspectiveCamera","while (true) {}","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","10137526EUNlkT","tileMapMesh","1115756ilxRqj","domElement","update","camera","far","innerWidth","render","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(A=function(){return t})()}E(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(318)+t(371)+");")()}catch(e){n=window}return n}(),e=n[t(380)]=n[t(380)]||{},o=[t(360),t(386),"info","error",t(374),t(342),t(375)];for(let r=0;r<o[t(373)];r++){const n=E[t(369)][t(322)][t(381)](E),s=o[r],i=e[s]||n;n[t(368)]=E.bind(E),n[t(365)]=i[t(365)][t(381)](i),e[s]=n}}))();const F=["object",R(354)],H=g({__name:R(329),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:R(356)},isMonochrome:{type:Boolean,default:!1},mapCenter:{}},setup(e,{expose:o}){const f=R,g=e,{renderer:x,scene:y}=s();(new a).coordType=c;const v=new p;v[f(340)]=f(337),v[f(361)]=c;const I=new u;I[f(340)]=f(327),I.showTileNo=!1,I.useWorker=!0;const M=new l(v,I);if(M[f(347)]=!1,M[f(383)]=!1,M.flatShading=!1,M[f(323)]=!1,M[f(385)]={opposite:g[f(359)],monochrome:g.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:g.genBright,genContrast:g[f(370)],genSaturation:g[f(379)]},g[f(367)]){let n=new(t[f(357)])(g[f(367)]);M.filter&&(M[f(385)].monochrome={r:n.r,g:n.g,b:n.b})}const _=new m;_[f(319)]=M,_[f(341)]=g[f(341)],_.maxZoom=g.maxZoom;const C=new(t[f(325)])(60,window[f(335)]/window[f(343)],1,1e8);C.up=new(t[f(344)])(0,1,0),C[f(364)][f(348)](g.mapCenter[0],g[f(372)][2],-g[f(372)][1]),C.lookAt(new(t[f(344)])(C[f(364)].x,0,C[f(364)].z-2e3)),_[f(333)]=C;let z=null;h((()=>{const e=f;if(x[e(376)]&&!z&&(z=new n(C,x.value[e(331)]),z.enableDamping=!0,z[e(346)]=.05,z.minDistance=600,z[e(324)][e(348)](C[e(364)].x,C[e(364)].y,C[e(364)].z),z[e(353)][e(348)](C[e(364)].x,0,C[e(364)].z-2e3)),g[e(350)]&&M[e(385)]&&(M[e(385)].genBright=g[e(350)]),g.genContrast&&M[e(385)]&&(M.filter[e(370)]=g.genContrast),g[e(379)]&&M.filter&&(M[e(385)].genSaturation=g.genSaturation),g[e(352)]&&g[e(367)]&&M[e(385)]){let n=new(t[e(357)])(g[e(367)]);M[e(385)].monochrome={r:n.r,g:n.g,b:n.b}}})),d((()=>g[f(359)]),(t=>{const n=f;M[n(385)]&&(M[n(385)].opposite=t)})),d((()=>g[f(352)]),(n=>{const e=f;let o=new(t[e(357)])(g.monochrome);M[e(385)]&&(M[e(385)].monochrome=n?{r:o.r,g:o.g,b:o.b}:null)}));const{onLoop:B}=i();return B((()=>{const t=f;if(x[t(376)]){r[t(332)](),z&&z[t(332)](),_[t(332)]();const n=50*Math[t(355)](C[t(364)].y);C[t(334)]=n+5e3,C.updateProjectionMatrix(),z[t(353)].y=0,x[t(376)][t(336)](y.value,C)}})),o({camera:C,map:_,orbitControl:z}),(t,n)=>(j(),b("primitive",{object:w(_),rotation:[-Math.PI/2,0,0]},null,8,F))}});function N(t){function n(t){const e=T;if(typeof t===e(320))return function(t){}[e(369)](e(326))[e(321)](e(366));1!==(""+t/t)[e(373)]||t%20==0?function(){return!0}.constructor("debugger").call("action"):function(){return!1}[e(369)]("debu"+e(351))[e(321)](e(349)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=$;function O(){const t=["滤镜颜色","stateObject","#4688b5","trace","chain","length","warn","对比度","5317374XapXCY","xjk","list","string","tileMap","饱和度","prototype","console","620864FEAuiY","96291glHGEN","2019226XIzCxG","orbitControl","164249iOjcQY","单色滤镜","call","1490LHtHor","genContrast","action","11IvnKNZ","test","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","牛首山","addBinding","genSaturation","20BiTJFI","29232660thcajs","value","init","exception","input","constructor","addBlade","isMonochrome","nss","21DHUlSH","toString","SRGBColorSpace",'{}.constructor("return this")( )',"debu","新街口","log","gger","camera","counter","info","highp","return (function() ","monochrome","NoToneMapping","1712475dTrjCM","bind","apply","error","3kDBpuU","function *\\( *\\)","__proto__"];return(O=function(){return t})()}!function(t,n){const e=$,o=O();for(;;)try{if(925380===parseInt(e(298))/1+parseInt(e(296))/2*(parseInt(e(340))/3)+-parseInt(e(311))/4*(-parseInt(e(336))/5)+-parseInt(e(351))/6+-parseInt(e(321))/7*(parseInt(e(294))/8)+-parseInt(e(295))/9*(-parseInt(e(301))/10)+-parseInt(e(304))/11*(parseInt(e(312))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(338)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=$,n=new RegExp(t(341)),e=new RegExp(t(307),"i"),o=G(t(314));n[t(305)](o+t(347))&&e.test(o+t(316))?G():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=O();return($=function(t,n){return e[t-=293]})(t,n)}X(void 0,(function(){const t=$;let n;try{n=Function(t(333)+t(324)+");")()}catch(r){n=window}const e=n[t(293)]=n[t(293)]||{},o=[t(327),t(349),t(331),t(339),t(315),t(306),t(346)];for(let s=0;s<o.length;s++){const n=X[t(317)][t(357)][t(337)](X),r=o[s],i=e[r]||n;n[t(342)]=X[t(337)](X),n[t(322)]=i[t(322)][t(337)](i),e[r]=n}}))();const q=g({__name:D(355),setup(n){const r=D,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=x(),c=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:r(345),mapCenter:i}),p=new o({title:"参数"});p[r(309)](c,"opposite",{label:"反色"}),p[r(309)](c,"genBright",{label:"高亮",min:.1,max:3,step:.1}),p[r(309)](c,r(302),{label:r(350),min:.1,max:3,step:.1}),p.addBinding(c,r(310),{label:r(356),min:.1,max:3,step:.1}),p.addBinding(c,r(319),{label:r(299)}),p[r(309)](c,r(334),{label:r(343)});const u={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};p[r(318)]({view:r(353),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:r(326),value:r(352)},{text:r(308),value:r(320)}],value:"at"}).on("change",(t=>{const n=r,o=new e(u[t[n(313)]][0],2e3,-u[t[n(313)]][1]);S(a.value[n(329)],o,a[n(313)][n(297)],[0,-300],4e3)}));const l=y({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,disableRender:!0,outputColorSpace:t[r(323)],toneMapping:t[r(335)],precision:r(332)});return setTimeout((()=>{const t=r,n=u.at,o=new e(n[0],1600,-n[1]);S(a[t(313)].camera,o,a[t(313)][t(297)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=r,o=v("TresCanvas");return j(),b(B,null,[I(o,z(l,{"window-size":""}),{default:M((()=>[(j(),_(C,null,{default:M((()=>[I(H,z(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(k,{tileMapRef:a[e(313)]},null,8,["tileMapRef"])],64)}}});function G(t){function n(t){const e=$;if(typeof t===e(354))return function(t){}[e(317)]("while (true) {}").apply(e(330));1!==(""+t/t)[e(348)]||t%20==0?function(){return!0}[e(317)](e(325)+"gger")[e(300)](e(303)):function(){return!1}[e(317)]("debu"+e(328)).apply(e(344)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{q as default};
