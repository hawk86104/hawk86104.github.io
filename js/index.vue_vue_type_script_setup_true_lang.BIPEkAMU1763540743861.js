import{_ as t}from"./text.vue_vue_type_script_setup_true_lang.CeOg-e151763540743861.js";import{_ as e}from"./callout.vue_vue_type_script_setup_true_lang.w4D8MmGv1763540743861.js";import{d as a,a as o,q as l,w as n,H as i,o as s,J as u,F as r,X as d,h as c}from"./@vue.Co_gxueH1763540743861.js";import{bb as h,V as p,B as g,f,bS as w}from"./three.rXKzP9fQ1763540743861.js";const _=["position-x"],m=["position"],v=["geometry"],k=["color"],x=a({__name:"index",props:{data:{default:[{title:"2019",value:43.12,right:"%",color:"#5072c4"},{title:"2020",value:24.22,right:"%",color:"#92cb79"},{title:"2021",value:12.33,right:"%",color:"#fcc660"},{title:"2022",value:39.78,right:"%",color:"#f8285b"},{title:"2023",value:14.56,right:"%",color:"#70c1dd"}]},spacing:{default:0},width:{default:4/3},titleSize:{default:.8},calloutPadding:{default:.02},calloutLinkwidth:{default:.2},calloutLinkheight:{default:.1},calloutWidth:{default:.22},calloutBackground:{default:"#333"}},setup(a){const x=a;let S=[];const b=()=>{S.splice(0,S.length),x.data.forEach(t=>{const e=new h(((t,e)=>{const a=[];return a.push(new f(0,0)),a.push(new f(t,0)),a.push(new f(t,e)),a.push(new f(2*t,e)),a.push(new f(0,e+2*t)),a.push(new f(2*-t,e)),a.push(new f(-t,e)),a.push(new f(-t,0)),a.push(new f(0,0)),new w(a)})(.06,t.value/50),{bevelEnabled:!1,depth:.04,bevelSize:.01});e.translate(0,0,-.02),S.push(e)})};b();const y=[],z=()=>{y.splice(0,y.length);const t=(()=>{let t=[];const e=(x.width-x.spacing*(x.data.length+1))/x.data.length;return t=new Array(x.data.length).fill(e),t})();let e=0;x.data.forEach((a,o)=>{const l=(x.spacing+t[o])/2;e+=l;let n=0;if(S[o]){S[o].computeBoundingBox();const t=S[o].boundingBox;if(t){const e=new p;t.getSize(e),n=e.y}}y.push({x:e,y:n,data:a,geometry:S[o]}),e+=l})};z();const j=o(null),B=o(0);return l(()=>{(()=>{const t=(new g).setFromObject(j.value);B.value=-(t.max.x+t.min.x)/2})()}),n(()=>[x.titleSize,x.width,x.spacing],()=>{b(),z()}),(a,o)=>(s(),i("TresGroup",null,[u("TresGroup",{"position-x":B.value,ref_key:"tgroup",ref:j},[(s(),i(r,null,d(y,(o,l)=>u("TresGroup",{position:[o.x,.001,0],key:l},[u("TresMesh",{geometry:o.geometry,castShadow:""},[u("TresMeshStandardMaterial",{color:o.data.color,transparent:""},null,8,k)],8,v),c(t,{rotation:[-Math.PI/2,0,-Math.PI/2],textContent:`${o.data.title}`,fontSize:a.titleSize,position:[0,.01,.3]},null,8,["rotation","textContent","fontSize"]),c(e,{position:[0,o.y+.05,0],rotation:[0,-Math.PI/2,0],data:`${o.data.value}${o.data.right}`,fontSize:a.titleSize,padding:a.calloutPadding,linkwidth:a.calloutLinkwidth,linkheight:a.calloutLinkheight,width:a.calloutWidth,background:a.calloutBackground},null,8,["position","rotation","data","fontSize","padding","linkwidth","linkheight","width","background"])],8,m)),64))],8,_)]))}});export{x as _};
