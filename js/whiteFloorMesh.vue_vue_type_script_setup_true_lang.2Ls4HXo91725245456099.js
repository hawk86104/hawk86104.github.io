import{bR as t,a6 as n,C as r}from"./three.KG2-8r0_1725245456099.js";import{N as o}from"./@tresjs.j5vdYITq1725245456099.js";import{d as e,b as a,a4 as s,w as i,o as u,D as c,J as f,aj as l,ak as p}from"./@vue.Q1VpS3901725245456099.js";function h(t,n){const r=w();return(h=function(t,n){return r[t-=224]})(t,n)}!function(t,n){const r=h,o=w();for(;;)try{if(847983===-parseInt(r(242))/1+parseInt(r(266))/2*(parseInt(r(268))/3)+parseInt(r(228))/4*(parseInt(r(255))/5)+-parseInt(r(263))/6+parseInt(r(249))/7+-parseInt(r(254))/8*(-parseInt(r(233))/9)+-parseInt(r(237))/10*(-parseInt(r(250))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[h(226)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=h,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=_(t(229));n[t(253)](o+t(235))&&r[t(253)](o+"input")?_():o("0")}))()}();const g=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[h(226)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=h;let n;try{n=Function(t(273)+t(265)+");")()}catch(e){n=window}const r=n[t(264)]=n[t(264)]||{},o=[t(232),t(234),"info",t(251),t(256),t(230),t(252)];for(let a=0;a<o[t(275)];a++){const n=g[t(274)][t(248)][t(238)](g),e=o[a],s=r[e]||n;n[t(258)]=g[t(238)](g),n.toString=s[t(227)][t(238)](s),r[e]=n}}))();const m=()=>{const r=h;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[r(244)]+"\n      \t"+n[r(262)][r(239)]+"\n      \t"+n[r(262)].shadowmap_pars_vertex+r(271)+n[r(262)][r(270)]+r(246)+n[r(262)][r(272)]+"\n          "+t[r(240)]+r(246)+t[r(260)]+r(246)+n[r(262)][r(269)]+"\n          "+t.shadowmap_vertex+r(241)},v=()=>{const r=h;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[r(262)][r(244)]+"\n\t "+t[r(231)]+r(224)+t[r(239)]+"\n\t "+n[r(262)][r(259)]+r(224)+t[r(247)]+"\n\t "+n[r(262)][r(225)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function w(){const t=["string","26440CmGuwi","bind","bsdfs","begin_vertex","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","1209860UENrrr","while (true) {}","common","counter","\n          ","shadowmap_pars_fragment","prototype","2720235ipZFHI","1001MOVHgv","error","trace","test","287240nStOZf","1380uiREMU","exception","gger","__proto__","lights_pars_begin","project_vertex","debu","ShaderChunk","10050528SSLPfV","console",'{}.constructor("return this")( )',"16946qCjtMY","action","339xWdMaq","worldpos_vertex","beginnormal_vertex","\n       void main() {\n\t\t\t\t\t","defaultnormal_vertex","return (function() ","constructor","length","\n\t ","shadowmask_pars_fragment","apply","toString","11852ECypJJ","init","table","packing","log","333yOLNPm","warn","chain"];return(w=function(){return t})()}function _(t){function n(t){const r=h;if(typeof t===r(236))return function(t){}[r(274)](r(243))[r(226)](r(245));1!==(""+t/t)[r(275)]||t%20==0?function(){return!0}[r(274)](r(261)+"gger").call(r(267)):function(){return!1}[r(274)](r(261)+r(257))[r(226)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const x=j;!function(t,n){const r=j,o=y();for(;;)try{if(471305===-parseInt(r(181))/1*(-parseInt(r(209))/2)+-parseInt(r(177))/3*(-parseInt(r(197))/4)+parseInt(r(186))/5+-parseInt(r(180))/6*(-parseInt(r(226))/7)+-parseInt(r(185))/8*(-parseInt(r(214))/9)+-parseInt(r(176))/10+-parseInt(r(175))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const I=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){I(this,(function(){const t=j,n=new RegExp(t(179)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=M("init");n[t(220)](o+t(213))&&r[t(220)](o+"input")?M():o("0")}))()}();const b=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[j(221)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function y(){const t=["28752uvWSpE","4603135Kuavmt","__proto__","UniformsLib","call","RepeatWrapping","wrapS","edge","size","#990","fEdge","uShadowColor","12DLNYPs","constructor","warn","string","exception","value","while (true) {}","rotation-x","toString","TresMesh","prototype","TresShaderMaterial","3198BNEIui","return (function() ","Color","tmRef","chain","1305NqOcPF","shadowColor","DoubleSide","console","debu","log","test","apply","whiteFloorMesh","stateObject","bind","#999","553mZxAet","wrapT","gger","UniformsUtils","18911849OrwUBu","7000470SzfsAj","187842TVNnPd","color","function *\\( *\\)","43674zppMxz","429siOJfw","uniforms","uColor","info"];return(y=function(){return t})()}b(void 0,(function(){const t=j;let n;try{n=Function(t(210)+'{}.constructor("return this")( ));')()}catch(e){n=window}const r=n[t(217)]=n.console||{},o=[t(219),t(199),t(184),"error",t(201),"table","trace"];for(let a=0;a<o.length;a++){const n=b[t(198)][t(207)].bind(b),e=o[a],s=r[e]||n;n[t(187)]=b[t(224)](b),n[t(205)]=s[t(205)][t(224)](s),r[e]=n}}))();const S=[x(204)],C=["args"];function j(t,n){const r=y();return(j=function(t,n){return r[t-=173]})(t,n)}const E=e({__name:x(222),props:{size:{default:[20,20]},color:{default:x(194)},shadowColor:{default:x(225)},edge:{default:.35}},async setup(t){const e=x;let h,d;const g=t,w=a(),{map:_}=([h,d]=s((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(191)]=_[e(227)]=n[e(190)];const I={uniforms:n[e(174)].merge([n[e(188)].lights,{uTexture:{type:"t",value:_},uColor:{value:new r(g[e(178)])},uShadowColor:{value:new(n[e(211)])(g[e(215)])},fEdge:{type:"f",value:g[e(192)]}}]),side:n[e(216)],vertexShader:m(),fragmentShader:v(),lights:!0,transparent:!0};return i((()=>g[e(192)]),(t=>{const n=e;I[n(182)][n(195)][n(202)]=t})),i((()=>g[e(178)]),(t=>{const r=e;I[r(182)][r(183)][r(202)]=new(n[r(211)])(g[r(178)])})),i((()=>g[e(215)]),(t=>{const r=e;I[r(182)][r(196)][r(202)]=new(n[r(211)])(g.shadowColor)})),(t,n)=>{const r=e;return u(),c(r(206),{ref_key:r(212),ref:w,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:g[r(193)]},null,8,C),f(r(208),l(p(I)),null,16)],8,S)}}});function M(t){function n(t){const r=j;if(typeof t===r(200))return function(t){}[r(198)](r(203)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(198)]("debugger")[r(189)]("action"):function(){return!1}[r(198)](r(218)+r(173))[r(221)](r(223)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{E as _};
