import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{_ as s}from"./index.aWRnMTX_1741168315107.js";import{_ as i,c,B as u,cy as a}from"./three.FxqAALWt1741168315107.js";import{P as l}from"./tweakpane.yDiyAAkA1741168315107.js";import{I as p,C as f,N as m,c as h,d as g,a as d}from"./three-mesh-bvh.304c-5N01741168315107.js";import{d as y,a3 as w,b as j,a2 as b,o as I,H as _,N as v,u as x,F as T,r as A,e as M,j as B,g as S,m as k,f as z,al as C}from"./@vue.NRI7TcgI1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./index.kSnl58_g1741168315107.js";import"./@fesjs.vxeGrljA1741168315107.js";import"./vue-router.WwZ4Gmuc1741168315107.js";import"./lodash-es.pklfUAS51741168315107.js";import"./@qlin.yHhFDldE1741168315107.js";import"./pinia.54vgoDms1741168315107.js";import"./@floating-ui.BPbuo5Gx1741168315107.js";import"./@juggle.7yjBMqoW1741168315107.js";import"./chalk.9FGrMJNn1741168315107.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1741168315107.js";import"./@iconify.dt4P0LGS1741168315107.js";import"./dompurify.rQUea5mq1741168315107.js";import"./utils.6iEAcPmr1741168315107.js";import"./default.vue_vue_type_script_setup_true_lang.TlkKeFuM1741168315107.js";import"./three-mesh-ui.module.MGBYFofo1741168315107.js";function E(t,n){const e=O();return(E=function(t,n){return e[t-=196]})(t,n)}!function(t,n){const e=E,r=O();for(;;)try{if(470300===parseInt(e(208))/1*(-parseInt(e(241))/2)+parseInt(e(233))/3*(parseInt(e(209))/4)+-parseInt(e(221))/5*(-parseInt(e(242))/6)+parseInt(e(214))/7+parseInt(e(201))/8*(parseInt(e(213))/9)+parseInt(e(200))/10+-parseInt(e(212))/11*(parseInt(e(230))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(236)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=E,n=new RegExp(t(210)),e=new RegExp(t(219),"i"),r=R(t(216));n[t(215)](r+t(243))&&e.test(r+t(207))?R():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(236)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(){const t=["test","init","while (true) {}",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","15ChdsXY","console","__proto__","innerWidth","toString","clientY","length","debu","button","36ifSNsK","string","pointerup","3WqmZIX","counter","warn","apply","pointermove","trace","info","value","10QqQlon","849138fgnKmT","chain","call","clientX","action","return (function() ","addEventListener","bind","intersectObject","prototype","7067300PZSqqH","255592HNpYEk","stateObject","pointerdown","exception","Raycaster","gger","input","100925XglCuT","1329932KkTNQz","function *\\( *\\)","log","5995891nVoUHJ","153tENvMN","4222771HvbrKb"];return(O=function(){return t})()}H(void 0,(function(){const t=E;let n;try{n=Function(t(247)+t(218)+");")()}catch(o){n=window}const e=n[t(222)]=n.console||{},r=[t(211),t(235),t(239),"error",t(204),"table",t(238)];for(let s=0;s<r[t(227)];s++){const n=H[t(220)][t(199)].bind(H),o=r[s],i=e[o]||n;n[t(223)]=H[t(197)](H),n[t(225)]=i.toString[t(197)](i),e[o]=n}}))();function R(t){function n(t){const e=E;if(typeof t===e(231))return function(t){}.constructor(e(217))[e(236)](e(234));1!==(""+t/t)[e(227)]||t%20==0?function(){return!0}.constructor(e(228)+e(206))[e(244)](e(246)):function(){return!1}.constructor(e(228)+e(206))[e(236)](e(202)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=U;function X(){const t=["center","shapecast","constructor","geometry","raycast","DynamicDrawUsage","normal","getY","test","119ldOrxn","TresSphereGeometry","Sphere","setZ","counter","trace","Mesh","6QSKZYt","stateObject","call","610446FMHxCo","input","position","radius","debu","action","prototype","while (true) {}","4770565DnPgAp","66946OPZSqY","index","length","BufferAttribute","getX","bind","72bgdLEe","gger","matrixWorld","283086fJTCWu","console","invert",'{}.constructor("return this")( )',"128640UWVirQ","containsPoint","3480vGwmRr","Vector2","disposeBoundsTree","targetMesh.value init","push","Matrix4","5029504yejqtT","MeshStandardMaterial","attributes","applyMatrix4","info","firstHitOnly","point","controls","TresMesh","scale","260NtYAlj","16724ztzBli","setX","error","Vector3","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","init","boundsTree","instance","value","visible","BufferGeometry","TresMeshStandardMaterial","intersectObject","setUsage","setFromCamera","生成模型","exception","toString","brushMesh","warn","count","computeBoundsTree","点击按钮","return (function() ","needsUpdate","function *\\( *\\)","copy","material","color","enabled","apply","setY","setAttribute","log","fill","model","#023249","getZ"];return(X=function(){return t})()}!function(t,n){const e=U,r=X();for(;;)try{if(769095===parseInt(e(407))/1*(parseInt(e(381))/2)+-parseInt(e(366))/3+-parseInt(e(396))/4+-parseInt(e(374))/5*(-parseInt(e(463))/6)+-parseInt(e(456))/7*(parseInt(e(388))/8)+-parseInt(e(384))/9*(parseInt(e(406))/10)+parseInt(e(375))/11*(parseInt(e(390))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(439)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){F(this,(function(){const t=U,n=new RegExp(t(434)),e=new RegExp(t(412),"i"),r=P(t(414));n[t(455)](r+"chain")&&e.test(r+t(367))?P():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(439)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Y(void 0,(function(){const t=U;let n;try{n=Function(t(432)+t(387)+");")()}catch(o){n=window}const e=n[t(385)]=n[t(385)]||{},r=["log",t(428),t(400),t(409),t(425),t(411),t(461)];for(let s=0;s<r.length;s++){const n=Y[t(449)][t(372)][t(380)](Y),o=r[s],i=e[o]||n;n.__proto__=Y[t(380)](Y),n[t(426)]=i[t(426)][t(380)](i),e[o]=n}}))();const N=[q(450),q(436)],Q=[q(450)];function U(t,n){const e=X();return(U=function(t,n){return e[t-=365]})(t,n)}const W=y({__name:q(444),props:{controls:{}},async setup(r){const o=q;let s,y;const A=r;(()=>{const t=U;i[t(419)][t(372)][t(430)]=h,u[t(372)][t(392)]=g,i[t(462)][t(372)][t(451)]=d})();const M=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),B=new(i[o(397)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),S=new Uint8Array(3*M[o(398)][o(368)][o(429)]);S[o(443)](255);const k=new c(S,3,!0);k[o(422)](i[o(452)]),M.setAttribute(o(437),k);const z=j(null),C=j(null),Z=j(!1),H=j(-1),O=j(.2),R=new(i[o(391)]),{camera:X,raycaster:F}=t(),Y=15/255,W=78/255,P=85/255;let $=null;b((()=>{const t=o;z[t(417)]&&(console[t(442)](t(393),z[t(417)]),z.value.geometry[t(430)](),$=M[t(415)],((t,n,e,r,o,s)=>{const c=E;window[c(196)](c(237),(e=>{const r=c;t.x=e[r(245)]/window.innerWidth*2-1,t.y=-e[r(226)]/window.innerHeight*2+1,n[r(240)]=!0})),window[c(196)](c(203),(u=>{const a=c;t.x=u[a(245)]/window[a(224)]*2-1,t.y=-u[a(226)]/window.innerHeight*2+1,r[a(240)]=u[a(229)];const l=new(i[a(205)]);l.setFromCamera(t,e[a(240)]),l.firstHitOnly=!0;const p=l[a(198)](o[a(240)],!0);n[a(240)]=!0,s.enabled=0===p[a(227)]}),!0),window[c(196)](c(232),(t=>{const e=c;r.value=-1,"touch"===t.pointerType&&(n[e(240)]=!1)}),!0)})(R,Z,X,H,z,A.controls[t(416)]))}));const{onLoop:J}=n();J((()=>{const t=o,n=M[t(376)];if(C[t(417)])if(A.controls.instance.active||!Z[t(417)])C[t(417)][t(418)]=!1;else{C[t(417)][t(405)].setScalar(O[t(417)]),F.value[t(423)](R,X[t(417)]),F[t(417)][t(401)]=!0;const e=F[t(417)][t(421)](z[t(417)],!0);if(e[t(377)]){C[t(417)][t(368)][t(435)](e[0][t(402)]),A[t(403)][t(416)].enabled=!1,C[t(417)][t(418)]=!0;const r=new(i[t(395)]);r[t(435)](z[t(417)][t(383)])[t(386)]();const o=new(i[t(458)]);o[t(447)][t(435)](C.value[t(368)])[t(399)](r),o[t(369)]=100*O[t(417)];const s=[],c=new(i[t(410)]);if(null==$||$[t(448)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c.set(0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(389)](c))return p;return f}return r?p:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(394)](t,t+1,t+2)}return!1}}),0===H[t(417)]||2===H.value){let e=1,r=1,o=1;0===H[t(417)]&&(e=Y,r=W,o=P);for(let i=0,c=s.length;i<c;i++){const c=n[t(379)](s[i]);k[t(408)](c,e),k[t(440)](c,r),k[t(459)](c,o)}k[t(433)]=!0}}else C[t(417)][t(418)]=!1,A.controls[t(416)][t(438)]=!0}}));const K=(new l).addButton({title:o(431),label:o(424)}),V=new(i[o(419)]);return K.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<k[t(429)];o++)k[t(379)](o)===Y&&k[t(454)](o)===W&&k[t(446)](o)===P&&(n.push(M.attributes[t(368)][t(379)](o),M[t(398)][t(368)][t(454)](o),M[t(398)].position[t(446)](o)),e[t(394)](M[t(398)][t(453)][t(379)](o),M[t(398)].normal[t(454)](o),M[t(398)][t(453)][t(446)](o)));const r=new Float32Array(n);V[t(441)](t(368),new(i[t(378)])(r,3)),V.setAttribute(t(453),new(i[t(378)])(r,3))})),(t,n)=>{const e=o;return I(),_(T,null,[v(e(404),{ref_key:"targetMesh",ref:z,geometry:x(M),scale:.005,material:x(B)},null,8,N),v("TresMesh",{ref_key:e(427),ref:C,visible:!1},n[0]||(n[0]=[v(e(457),{args:[1,40,40]},null,-1),v(e(420),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),v(e(404),{geometry:x(V),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[v("TresMeshStandardMaterial",{color:e(445),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,Q)],64)}}});function P(t){function n(t){const e=U;if(typeof t===e(413))return function(t){}[e(449)](e(373))[e(439)](e(460));1!==(""+t/t)[e(377)]||t%20==0?function(){return!0}[e(449)](e(370)+e(382))[e(365)](e(371)):function(){return!1}[e(449)](e(370)+e(382))[e(439)](e(464)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=D;!function(t,n){const e=D,r=V();for(;;)try{if(311864===-parseInt(e(110))/1*(-parseInt(e(146))/2)+-parseInt(e(109))/3*(-parseInt(e(117))/4)+parseInt(e(147))/5+parseInt(e(122))/6+parseInt(e(144))/7*(parseInt(e(131))/8)+parseInt(e(113))/9*(parseInt(e(108))/10)+-parseInt(e(132))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(111)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){J(this,(function(){const t=D,n=new RegExp(t(137)),e=new RegExp(t(143),"i"),r=G(t(134));n[t(128)](r+t(139))&&e[t(128)](r+"input")?G():r("0")}))()}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(111)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function V(){const t=["prototype","debu","228376ptEZWX","21003323BciUOB","__proto__","init","table","call","function *\\( *\\)","value","chain","length","neg-y.jpg","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","105FQXpXV","stateObject","55690AAwrrE","2999875HbBZfe","info",'{}.constructor("return this")( )',"trace","controls","pos-z.jpg","constructor","bind","1100BQmOyb","21kwBCfa","3sgebXq","apply","collectTriangles","32751nwanBT","log","controlsRef","TresAmbientLight","351472msTwjv","exception","TresCanvas","action","error","565056qdTjzE","toString","TresPerspectiveCamera","string","console","return (function() ","test"];return(V=function(){return t})()}function D(t,n){const e=V();return(D=function(t,n){return e[t-=103]})(t,n)}K(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(127)+t(149)+");")()}catch(e){n=window}return n}(),e=n[t(126)]=n[t(126)]||{},r=[t(114),"warn",t(148),t(121),t(118),t(135),t(103)];for(let o=0;o<r[t(140)];o++){const n=K.constructor[t(129)][t(107)](K),s=r[o],i=e[s]||n;n[t(133)]=K[t(107)](K),n[t(123)]=i.toString[t(107)](i),e[s]=n}}))();const L=y({__name:$(112),setup(t){const n=A({clearColor:"#999999",antialias:!0}),e=A({autoRotate:!1}),i=j(null);return(t,c)=>{const u=D,a=M(u(119));return I(),_(T,null,[B(x(s)),B(a,k(n,{"window-size":""}),{default:S((()=>[c[0]||(c[0]=v(u(124),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),B(x(r),k({ref_key:u(115),ref:i},e),null,16),c[1]||(c[1]=v(u(116),{intensity:1},null,-1)),(I(),z(C,null,{default:S((()=>[B(W,{controls:i[u(138)]},null,8,[u(104)])])),_:1})),(I(),z(C,null,{default:S((()=>[B(x(o),{background:!1,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg",u(141),u(105),"neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function G(t){function n(t){const e=D;if(typeof t===e(125))return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(106)]("debu"+e(142))[e(136)](e(120)):function(){return!1}[e(106)](e(130)+e(142))[e(111)](e(145)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{L as default};
