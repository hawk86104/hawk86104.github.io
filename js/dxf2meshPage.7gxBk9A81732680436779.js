import{k as t}from"./@tresjs.ozxSQdlw1732680436779.js";import{cx as n,cy as e,_ as s,a as o,s as r,ac as i,b3 as c,aD as a,$ as u,bU as l,ak as p,am as f}from"./three.HQIWXjA-1732680436779.js";import{P as d}from"./tweakpane.yHWGBmom1732680436779.js";import{a as g}from"./index.FXG2_od01732680436779.js";import"./index.NV-3Ayzh1732680436779.js";import{_ as m}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.HPjlkO-41732680436779.js";import{d as h,r as _,X as w,s as v,q as x,e as j,o as y,D as b,j as I,g as k,J as B,u as S,m as C,f as F,al as M,I as A}from"./@vue.u2cBPEWn1732680436779.js";import{_ as D}from"./@fesjs.PwptM7Gh1732680436779.js";import"./@vueuse.OVEejUj91732680436779.js";import"./three-stdlib.R2eB7x6e1732680436779.js";import"./@pmndrs.XoFR5LkZ1732680436779.js";import"./object-hash.JodcTOV91732680436779.js";import"./@amap.jmLgXK4f1732680436779.js";import"./jszip.E0h5JCwO1732680436779.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.qdr_oQB51732680436779.js";import"./all.three.QoccFgQU1732680436779.js";import"./oimophysics.x0jH7fze1732680436779.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.3TME6GC51732680436779.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.gnq3h8fP1732680436779.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.pbw__cuu1732680436779.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.HkTunY661732680436779.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.2swYC-g41732680436779.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.mEZcvTi71732680436779.js";import"./vue-router.87op6V6j1732680436779.js";import"./lodash-es.guXTxyfJ1732680436779.js";import"./@qlin.yHhFDldE1732680436779.js";import"./pinia.u6SS9Z3a1732680436779.js";import"./vue-demi.C4xddsk91732680436779.js";import"./@floating-ui.BPbuo5Gx1732680436779.js";import"./@juggle.7yjBMqoW1732680436779.js";const T=E;!function(t,n){const e=E,s=X();for(;;)try{if(638315===parseInt(e(372))/1*(parseInt(e(406))/2)+-parseInt(e(354))/3*(parseInt(e(349))/4)+-parseInt(e(365))/5*(parseInt(e(385))/6)+-parseInt(e(392))/7*(-parseInt(e(393))/8)+parseInt(e(391))/9+-parseInt(e(390))/10*(-parseInt(e(346))/11)+parseInt(e(353))/12*(-parseInt(e(358))/13))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const z=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[E(407)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){z(this,(function(){const t=E,n=new RegExp(t(360)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=P("init");n.test(s+t(394))&&e.test(s+t(351))?P():s("0")}))()}();const R=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function E(t,n){const e=X();return(E=function(t,n){return e[t-=340]})(t,n)}R(void 0,(function(){const t=E;let n;try{n=Function(t(343)+t(388)+");")()}catch(o){n=window}const e=n[t(357)]=n[t(357)]||{},s=["log","warn",t(379),t(382),t(342),"table",t(405)];for(let r=0;r<s.length;r++){const n=R[t(399)][t(361)][t(374)](R),o=s[r],i=e[o]||n;n[t(362)]=R[t(374)](R),n.toString=i[t(378)][t(374)](i),e[o]=n}}))();class G{constructor(t){this.name=t}[T(384)](t,a,u){const l=T,p=(new n)[l(352)](a),f=new e;p[l(386)][l(395)](((t,n)=>{const e=l;t[e(396)](!0)[e(395)](((t,s)=>{const o=e;0===n&&0===s?f[o(345)](t):f[o(370)][o(376)](t)}))}));const d=new(s[l(389)])(f,{depth:18,bevelEnabled:!1});d[l(367)]();const g=d[l(397)][l(368)](new(s[l(355)])).negate();d[l(366)](g.x,g.y,g.z),d[l(367)]();const m=d.boundingBox[l(363)],h=d[l(397)][l(347)],_=new(s[l(350)])(0-h.x,0-h.y),w=new(s[l(350)])(m.x-h.x,m.y-h.y);d.attributes.uv=new o(new Float32Array(2*d[l(404)][l(401)].count),2);for(let n=0;n<d[l(404)][l(401)][l(380)];n++){const t=d[l(404)][l(401)][l(383)](n),e=d[l(404)][l(401)][l(340)](n);d.attributes.uv[l(344)](n,(t+_.x)/w.x,(e+_.y)/w.y)}const v=new(s[l(381)])({map:null}),x=new r(d,v);x.material=new(s[l(341)])({map:null,color:l(402),roughness:1,metalness:.1,envMapIntensity:2.5}),x.receiveShadow=!0,x[l(359)]=!0,x[l(401)].x=u,x[l(401)].y=250;const j=new i({color:0}),y=new(s[l(364)])(x[l(403)],1),b=new c(y,j);b[l(398)]=1,b[l(401)][l(345)](x.position),b[l(371)][l(345)](x[l(371)]),x[l(373)]=b,t[l(377)](x,x[l(373)])}}function X(){const t=["counter","console","13ELUUwx","castShadow","function *\\( *\\)","prototype","__proto__","max","EdgesGeometry","4981070ADkPjb","translate","computeBoundingBox","getCenter","action","holes","rotation","1Mwgcsx","mBoundingBox","bind","string","push","add","toString","info","count","MeshBasicMaterial","error","getX","drawImportSpecialBoard","6IoYCHY","paths","while (true) {}",'{}.constructor("return this")( )',"ExtrudeGeometry","62840DkbCbN","8517843AteNoF","3706948wJNGmq","8BuXzFi","chain","forEach","toShapes","boundingBox","renderOrder","constructor","gger","position","#AFAFAD","geometry","attributes","trace","741766pNnmCO","apply","getY","MeshStandardMaterial","exception","return (function() ","setXY","copy","242XGOxlG","min","call","57936hqQnKC","Vector2","input","parse","1078572ZjvnWc","54UsFPIu","Vector3"];return(X=function(){return t})()}function P(t){function n(t){const e=E;if(typeof t===e(375))return function(t){}[e(399)](e(387))[e(407)](e(356));1!==(""+t/t).length||t%20==0?function(){return!0}[e(399)]("debu"+e(400))[e(348)](e(369)):function(){return!1}[e(399)]("debu"+e(400))[e(407)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Z=N;!function(t,n){const e=N,s=O();for(;;)try{if(210848===-parseInt(e(512))/1*(-parseInt(e(445))/2)+parseInt(e(543))/3*(parseInt(e(491))/4)+parseInt(e(496))/5+-parseInt(e(454))/6+parseInt(e(478))/7*(parseInt(e(514))/8)+-parseInt(e(520))/9*(parseInt(e(483))/10)+-parseInt(e(545))/11)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const q=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[N(476)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){q(this,(function(){const t=N,n=new RegExp(t(518)),e=new RegExp(t(535),"i"),s=Y(t(536));n[t(521)](s+t(530))&&e[t(521)](s+t(452))?Y():s("0")}))()}();const L=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[N(476)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();L(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function("return (function() "+t(540)+");")()}catch(e){n=window}return n}(),e=n[t(465)]=n.console||{},s=["log","warn",t(477),t(522),"exception",t(523),t(451)];for(let o=0;o<s[t(466)];o++){const n=L.constructor[t(458)][t(528)](L),r=s[o],i=e[r]||n;n[t(525)]=L[t(528)](L),n.toString=i[t(462)][t(528)](i),e[r]=n}}))();const V={key:0,class:"dialogDiv"},U={class:Z(544)};function Y(t){function n(t){const e=N;if(typeof t===e(492))return function(t){}.constructor(e(446))[e(476)](e(510));1!==(""+t/t)[e(466)]||t%20==0?function(){return!0}[e(508)](e(469)+"gger")[e(500)](e(489)):function(){return!1}[e(508)](e(469)+e(498))[e(476)](e(534)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function N(t,n){const e=O();return(N=function(t,n){return e[t-=445]})(t,n)}function O(){const t=["addButton","_blank","translate(50, 50)","pen1","apply","info","21TSNLrx","初始化","TresGroup","file","children","988490AowsXG","http://www.w3.org/2000/svg","TresPerspectiveCamera","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","neg-x.jpg","TresCanvas","action","加载脚本 ","4zwiZBH","string","assembly","fileInput","localFileReader","254910cKXZYf","dxf2meshPage","gger","type","call","pos-x.jpg","下载测试文件1","button","#svg-display svg","querySelector","#ffffff","remove","constructor","boxMeshRef","counter","pos-z.jpg","37BjLbqn","appendChild","93352tWhpKB","script","http://www.inkscape.org/namespaces/inkscape","then","function *\\( *\\)","导入dxf","36WfZVvb","test","error","table","head","__proto__","drawImportSpecialBoard","click","bind","TresDirectionalLight","chain","TresBoxGeometry","#776A8F","加载脚本时出错","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","createElement","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","main-svg",'{}.constructor("return this")( )',"dialogVisible","plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js","918369IahlJZ","footBtn","880924uaRtoW","16282FvlNav","while (true) {}","dxf2svg","src","onerror","10000","trace","input","open","42006ahCSwA","neg-y.jpg","value","#3a78a2","prototype","TresMesh","div","svg","toString","#627179","下载测试文件2","console","length","1.1"," 时出错","debu","pos-y.jpg","dxfFileInput"];return(O=function(){return t})()}const $=D(h({__name:Z(497),setup(n){const e=Z,s=_({dialogVisible:!1}),o={clearColor:"#82DBC5",shadows:!0,alpha:!1,shadowMapType:l,outputColorSpace:p,toneMapping:f},i=_({cellSize:60,cellThickness:1.1,cellColor:e(463),sectionColor:e(457),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let c=0;const h=w(),D=w(),T=new d;T.addButton({title:e(502)}).on(e(527),(()=>{const t=e;window[t(453)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(473))})),T[e(472)]({title:e(464)}).on("click",(()=>{const t=e;window[t(453)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(473))}));const z=T.addFolder({title:"远近"});function R(){const t=e,n=D[t(456)];s[t(541)]=!1;const o=document[t(505)](t(504));if(o){const e=o.outerHTML;let s=new G;c+=1200,s[t(526)](n,e,c)}}function E(t){return new Promise(((n,e)=>{const s=N,o=document[s(537)](s(515));o[s(448)]=t,o[s(499)]="text/javascript",o.onload=()=>n(),o[s(449)]=()=>e(new Error(s(490)+t+s(468))),document[s(524)][s(513)](o)}))}return z.addButton({title:e(519)}).on(e(527),(()=>{s.dialogVisible=!0,v((()=>{window[N(495)].init()}))})),z[e(472)]({title:e(479)}).on(e(527),(()=>{!function(){const t=e,n=new a(500,500,18),s=new u({color:"blue"}),o=new r(n,s),i=D[t(456)];for(;i[t(482)][t(466)]>0;){const n=i.children[0];i[t(507)](n)}i.add(o)}()})),x((()=>{!function(){const t=e;E(t(538))[t(517)]((()=>E(t(486)))).then((()=>E("plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js")))[t(517)]((()=>E(t(542)))).then((()=>E("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js")))[t(517)]((()=>E("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js"))).catch((n=>console.error(t(533),n)))}()})),(n,r)=>{const c=e,a=j(c(488));return y(),b("div",null,[I(a,C(o,{"window-size":""}),{default:k((()=>[r[2]||(r[2]=B(c(485),{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),I(S(t),{"make-default":""}),r[3]||(r[3]=B("TresGridHelper",{position:[0,-1,0],size:"1000",divisions:c(450)},null,-1)),B(c(480),{ref_key:"groupRef",ref:D,position:[2,250,0]},[B(c(459),{ref_key:c(509),ref:h},r[1]||(r[1]=[B(c(531),{args:[500,500,18]},null,-1),B("TresMeshBasicMaterial",{color:"blue"},null,-1)]),512)],512),r[4]||(r[4]=B("TresAmbientLight",{color:c(506),intensity:1},null,-1)),r[5]||(r[5]=B(c(529),{color:c(506),position:[300,300,250],intensity:6},null,-1)),I(S(m),C({args:[3,3]},i,{position:[0,-.5,0]}),null,16),(y(),F(M,null,{default:k((()=>[I(S(g),{files:[c(501),c(487),c(470),c(455),c(511),"neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16),s.dialogVisible?(y(),b(c(460),V,[r[6]||(r[6]=B("div",{id:"svg-display",class:c(493),style:{}},[B(c(461),{id:c(539),xmlns:c(484),"xmlns:svg":c(484),"xmlns:inkscape":c(516),version:c(467),preserveAspectRatio:"xMidYMid meet"},[B("g",{id:c(447),class:c(475),"stroke-width":"6",fill:c(532),transform:c(474)})])],-1)),r[7]||(r[7]=B(c(460),{class:c(494)},[B(c(452),{id:c(471),type:c(481)})],-1)),B("div",U,[B(c(503),{onClick:r[0]||(r[0]=t=>s[c(541)]=!1)},"取消"),B(c(503),{onClick:R},"确定")])])):A("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{$ as default};
