import{_ as t,cN as n,b as e}from"./three.hBhj0ayh1743149128717.js";import{P as o}from"./tweakpane.ivGeiIdz1743149128717.js";import{m as r,e as s}from"./@tresjs.GCV-1VTd1743149128717.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.RNmoUxV51743149128717.js";import{d as f,a2 as d,w as g,o as h,H as j,u as w,v as b,r as x,e as y,j as v,g as I,m as M,F as S}from"./@vue.L-brCdZe1743149128717.js";import{_}from"./raycasterEvent.na_m9sI91743149128717.js";import{a as C}from"./utils.jU64KqXI1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";import"./@mapbox.lMdYodhq1743149128717.js";import"./three-mesh-bvh.LR6BWBbo1743149128717.js";import"./three-custom-shader-material.bIkXJfH11743149128717.js";import"./@fesjs.w7aAWifr1743149128717.js";import"./vue-router.2RdbTeKA1743149128717.js";import"./lodash-es.pklfUAS51743149128717.js";import"./@qlin.o0hjOMCg1743149128717.js";import"./pinia.Vg5gtfOZ1743149128717.js";import"./@floating-ui.HzHndBae1743149128717.js";import"./@juggle.4EyLec-41743149128717.js";import"./@tweenjs.NwlPAfWW1743149128717.js";import"./utils.5VKV6FAs1743149128717.js";import"./http.82CI8Rzx1743149128717.js";import"./axios.FtfblEUV1743149128717.js";import"./color.Fy5r1yzL1743149128717.js";import"./@amap.vd0D2A1W1743149128717.js";import"./color-string.yKl_jhsn1743149128717.js";import"./color-name.kLMu6GEW1743149128717.js";import"./simple-swizzle.V0LT_BI71743149128717.js";import"./is-arrayish.46y7yEwC1743149128717.js";import"./color-convert.t2NFyxfl1743149128717.js";import"./lodash.Asy50lBn1743149128717.js";import"./naive-ui.WwQV3ahw1743149128717.js";import"./date-fns.GaXm0A5x1743149128717.js";import"./@css-render.t-rPX4yk1743149128717.js";import"./seemly.g-Mp7qhc1743149128717.js";import"./css-render.XdcV5izK1743149128717.js";import"./@emotion.ZD_ZYAgY1743149128717.js";import"./vooks.ijmvoCH91743149128717.js";import"./evtd.uXDg6RK81743149128717.js";import"./vueuc.53kirODD1743149128717.js";import"./vdirs.Q4AYqNEJ1743149128717.js";import"./treemate.dcEdf2le1743149128717.js";import"./date-fns-tz.SXs0f9fh1743149128717.js";import"./async-validator.-YBkpS4I1743149128717.js";import"./d3-geo.KzvnWcwi1743149128717.js";import"./d3-array.pckDbYwZ1743149128717.js";const z=B;function B(t,n){const e=F();return B=function(t,n){return e[t-=257]},B(t,n)}!function(t,n){const e=B,o=F();for(;;)try{if(302073===parseInt(e(259))/1+parseInt(e(313))/2+parseInt(e(301))/3+-parseInt(e(318))/4+parseInt(e(329))/5*(-parseInt(e(279))/6)+parseInt(e(280))/7+parseInt(e(296))/8*(parseInt(e(278))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=B,n=new RegExp(t(324)),e=new RegExp(t(311),"i"),o=R("init");n[t(328)](o+"chain")&&e[t(328)](o+t(305))?R():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(265)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Z(void 0,(function(){const t=B;let n;try{n=Function(t(309)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(306)]||{},o=[t(258),t(270),"info",t(319),t(285),t(286),t(276)];for(let s=0;s<o[t(304)];s++){const n=Z[t(308)][t(294)][t(273)](Z),r=o[s],i=e[r]||n;n[t(323)]=Z[t(273)](Z),n[t(268)]=i[t(268)].bind(i),e[r]=n}}))();const T=[z(291),z(264)],A=f({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:z(303)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const m=z,f=e,{renderer:b,scene:x}=r(),y=new i;y[m(263)]=a;const v=new c;v[m(302)]=m(260),v[m(263)]=a;const I=new u;I[m(302)]="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",I[m(262)]=!1,I[m(326)]=!0;const M=new p(y,I);if(M[m(287)]=!1,M.wireframe=!1,M[m(281)]=!1,M[m(275)]=!1,M[m(312)]={opposite:f.opposite,monochrome:f[m(320)]?{r:.299,g:.587,b:.114}:null,genBright:f[m(288)],genContrast:f[m(299)],genSaturation:f.genSaturation},f[m(269)]){let n=new(t[m(297)])(f[m(269)]);M[m(312)]&&(M[m(312)][m(269)]={r:n.r,g:n.g,b:n.b})}const S=new l;S.provider=M,S[m(325)]=f.bbox,S[m(327)]=f[m(327)];const _=new(t[m(298)])(60,window[m(300)]/window[m(321)],1,1e8);_.up=new(t[m(317)])(0,1,0),_[m(295)].set(f[m(315)][0],f.mapCenter[2],-f[m(315)][1]),_[m(267)](new(t[m(317)])(_[m(295)].x,0,_[m(295)].z-2e3)),S[m(261)]=_;let C=null;d((()=>{const t=m;b[t(283)]&&!C&&(C=new n(_,b.value.domElement),C[t(307)]=!0,C[t(293)]=.05,C[t(289)]=600,C[t(284)].set(_[t(295)].x,_[t(295)].y,_.position.z),C.target[t(271)](_.position.x,0,_[t(295)].z-2e3))})),g((()=>[f.opposite,f[m(320)],f.monochrome]),(([n,e,o])=>{const r=m;if(M[r(312)]){let s=new(t[r(297)])(o);M[r(312)].opposite=n,M[r(312)][r(269)]=e?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[f[m(288)],f[m(299)],f[m(277)]]),(([t,n,e])=>{const o=m;M[o(312)]&&(M[o(312)][o(288)]=t,M[o(312)].genContrast=n,M[o(312)][o(277)]=e)}));const{onLoop:B}=s();return B((()=>{const t=m;if(b.value){f[t(292)]?.update(),C&&C[t(272)](),S[t(272)]();const n=50*Math[t(282)](_[t(295)].y);_[t(322)]=n+5e3,_[t(316)](),b[t(283)][t(266)](x[t(283)],_)}})),o({camera:_,map:S,orbitControl:C}),(t,n)=>(h(),j("primitive",{object:w(S),rotation:[-Math.PI/2,0,0]},null,8,T))}});function F(){const t=["update","bind","debu","useStandardMaterial","trace","genSaturation","56079uLesLk","18VtcBmV","789831TioFID","flatShading","abs","value","position0","exception","table","showBoundingBox","genBright","minDistance","while (true) {}","object","tweenInstance","dampingFactor","prototype","position","136LJykiF","Color","PerspectiveCamera","genContrast","innerWidth","1187796ShFoZs","source","#fff","length","input","console","enableDamping","constructor","return (function() ","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","filter","618026SGCdyz","gger","mapCenter","updateProjectionMatrix","Vector3","2063884VZNhSv","error","isMonochrome","innerHeight","far","__proto__","function *\\( *\\)","bbox","useWorker","maxZoom","test","311255Zybxax","stateObject","log","81092kNgrBV","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","camera","showTileNo","coordType","rotation","apply","render","lookAt","toString","monochrome","warn","set"];return(F=function(){return t})()}function R(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(308)](e(290))[e(265)]("counter");1!==(""+t/t)[e(304)]||t%20==0?function(){return!0}[e(308)](e(274)+e(314))[e(310)]("action"):function(){return!1}.constructor(e(274)+e(314))[e(265)](e(257)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=D;function D(t,n){const e=L();return D=function(t,n){return e[t-=432]},D(t,n)}!function(t,n){const e=D,o=L();for(;;)try{if(550611===parseInt(e(463))/1+-parseInt(e(433))/2*(parseInt(e(479))/3)+-parseInt(e(444))/4*(parseInt(e(448))/5)+-parseInt(e(492))/6+-parseInt(e(442))/7*(-parseInt(e(450))/8)+parseInt(e(452))/9*(parseInt(e(460))/10)+-parseInt(e(464))/11*(-parseInt(e(445))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["21DaNKWg","counter","16yfMYMp","2890512VZzAQW","action","genSaturation","1258570tEYAwd","warn","1601584FWqQmO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","9SZynST","constructor","log","stateObject","input","change","bind","return (function() ","7522060UAToSw","#4688b5","prototype","739848hsarmI","11sMoGbb","SRGBColorSpace","error","对比度","orbitControl","apply","monochrome","tileMapRef","trace","奥体中心","while (true) {}","toString",'{}.constructor("return this")( )',"TresCanvas","饱和度","6jSCOKM","xjk","list","call","isMonochrome","string","camera","exception","#201919","chain","tileMap","addBinding","nss","3064218DZKVmT","滤镜颜色","manual","单色滤镜","新街口","debu","genBright","265354LHwXZy","Vector3","console","test","NoToneMapping","value","gger","tileMapMeshRef","length"];return(L=function(){return t})()}!function(){E(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(451),"i"),o=P("init");n[t(436)](o+t(488))&&e.test(o+t(456))?P():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(469)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(459)+t(476)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(435)]||{},o=[t(454),t(449),"info",t(466),t(486),"table",t(472)];for(let r=0;r<o[t(441)];r++){const n=N[t(453)][t(462)][t(458)](N),s=o[r],i=e[s]||n;n.__proto__=N[t(458)](N),n[t(475)]=i.toString.bind(i),e[s]=n}}))();const W=f({__name:V(489),setup(n){const r=V,s=m(118.779958,32.017136),i=[s[0],s[1],5e3],a=b(),c=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:r(461),mapCenter:i,tweenInstance:null}),u=new o({title:"参数"});u[r(490)](c,"opposite",{label:"反色"}),u[r(490)](c,r(432),{label:"高亮",min:.1,max:3,step:.1}),u.addBinding(c,"genContrast",{label:r(467),min:.1,max:3,step:.1}),u[r(490)](c,r(447),{label:r(478),min:.1,max:3,step:.1}),u[r(490)](c,r(483),{label:r(495)}),u.addBinding(c,r(470),{label:r(493)});const p={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};u.addBlade({view:r(481),label:"飞去",options:[{text:r(473),value:"at"},{text:r(496),value:r(480)},{text:"牛首山",value:r(491)}],value:"at"}).on(r(457),(t=>{const n=r,o=new e(p[t[n(438)]][0],2e3,-p[t[n(438)]][1]);c.tweenInstance=C(a[n(438)][n(485)],o,a.value[n(468)],[0,-300],4e3)}));const l=x({clearColor:r(487),antialias:!0,logarithmicDepthBuffer:!0,renderMode:r(494),outputColorSpace:t[r(465)],toneMapping:t[r(437)]});return setTimeout((()=>{const n=r,e=p.at,o=new(t[n(434)])(e[0],1600,-e[1]);c.tweenInstance=C(a[n(438)][n(485)],o,a[n(438)][n(468)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=r,o=y(e(477));return h(),j(S,null,[v(o,M(l,{"window-size":""}),{default:I((()=>[v(A,M(c,{ref_key:e(440),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1},16),v(_,{tileMapRef:a.value},null,8,[e(471)])],64)}}});function P(t){function n(t){const e=D;if(typeof t===e(484))return function(t){}.constructor(e(474))[e(469)](e(443));1!==(""+t/t)[e(441)]||t%20==0?function(){return!0}.constructor(e(497)+e(439))[e(482)](e(446)):function(){return!1}[e(453)](e(497)+e(439))[e(469)](e(455)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{W as default};
