import{_ as t,bI as n,U as r,au as o,C as e}from"./three.-z-VOBM71731641201182.js";import{b as a}from"./@tresjs.b88d4FZI1731641201182.js";import{d as s,b as c,a6 as u,w as i,o as f,D as l,J as p,aj as g,ak as h}from"./@vue.-THQH3GC1731641201182.js";!function(t,n){const r=w,o=m();for(;;)try{if(577255===-parseInt(r(127))/1+parseInt(r(165))/2*(-parseInt(r(136))/3)+parseInt(r(130))/4*(parseInt(r(137))/5)+parseInt(r(138))/6*(-parseInt(r(161))/7)+parseInt(r(153))/8*(parseInt(r(120))/9)+-parseInt(r(128))/10*(parseInt(r(131))/11)+-parseInt(r(133))/12*(-parseInt(r(123))/13))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[w(147)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function m(){const t=["begin_vertex","return (function() ","exception","259iTaqiL","prototype","worldpos_vertex","function *\\( *\\)","1194QUWNLQ","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","action","string","\n      \t","lights_pars_begin","defaultnormal_vertex","585zQZFIA","error","while (true) {}","442nmUuiV","debu","info","console","503010cNnBZw","100emnCBx","shadowmask_pars_fragment","77796iBXFly","1126796dFdENX","constructor","783528VQwXnc","\n\t ","length","2643rRJeSd","60RbkzSy","153606YBfovb","\n          ",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bsdfs","init","log","project_vertex","gger","apply","stateObject","shadowmap_pars_fragment","bind","chain","toString","138392xIjgYO","common","ShaderChunk","test","shadowmap_vertex"];return(m=function(){return t})()}!function(){d(this,(function(){const t=w,n=new RegExp(t(164)),r=new RegExp(t(141),"i"),o=x(t(143));n[t(156)](o+t(151))&&r[t(156)](o+"input")?x():o("0")}))()}();const v=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[w(147)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function w(t,n){const r=m();return(w=function(t,n){return r[t-=115]})(t,n)}v(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(159)+t(140)+");")()}catch(r){n=window}return n}(),r=n[t(126)]=n[t(126)]||{},o=[t(144),"warn",t(125),t(121),t(160),"table","trace"];for(let e=0;e<o[t(135)];e++){const n=v.constructor[t(162)][t(150)](v),a=o[e],s=r[a]||n;n.__proto__=v[t(150)](v),n.toString=s[t(152)][t(150)](s),r[a]=n}}))();const _=()=>{const r=w;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[r(155)][r(154)]+r(117)+t[r(155)][r(142)]+"\n      \t"+t[r(155)].shadowmap_pars_vertex+"\n       void main() {\n\t\t\t\t\t"+t[r(155)].beginnormal_vertex+r(139)+t[r(155)][r(119)]+"\n          "+t[r(155)][r(158)]+r(139)+t[r(155)][r(145)]+r(139)+t[r(155)][r(163)]+r(139)+n[r(157)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},I=()=>{const r=w;return r(166)+t[r(155)][r(154)]+r(134)+t[r(155)].packing+r(134)+n[r(142)]+r(134)+t[r(155)][r(118)]+r(134)+t[r(155)][r(149)]+"\n\t "+t[r(155)][r(129)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function x(t){function n(t){const r=w;if(typeof t===r(116))return function(t){}[r(132)](r(122)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(132)](r(124)+r(146)).call(r(115)):function(){return!1}[r(132)](r(124)+"gger")[r(147)](r(148)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function y(){const t=["fEdge",'{}.constructor("return this")( )',"function *\\( *\\)","TresShaderMaterial","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","#999","uColor","426483lTuCzX","gger","1216890ytDnRN","whiteFloorMesh","debu","4461uFkVAF","size","test","trace","15lSudec","info","DoubleSide","TresMesh","shadowColor","args","console","uniforms","apply","value","merge","180gYXDPg","2811440DzKxBr","input","error","RepeatWrapping","5486569KXpUMS","36BgVdgw","prototype","color","log","13452eOrciE","length","bind","TresPlaneGeometry","56tEkuZG","string","Color","toString","lights","constructor","edge","warn","478NssrYK","tmRef","stateObject","rotation-x","wrapT","3654539oZjYmN"];return(y=function(){return t})()}const b=E;!function(t,n){const r=E,o=y();for(;;)try{if(549149===-parseInt(r(147))/1*(-parseInt(r(127))/2)+parseInt(r(115))/3*(-parseInt(r(105))/4)+-parseInt(r(151))/5*(-parseInt(r(144))/6)+parseInt(r(132))/7+parseInt(r(119))/8*(parseInt(r(142))/9)+-parseInt(r(106))/10+parseInt(r(110))/11*(-parseInt(r(111))/12))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[E(159)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=E,n=new RegExp(t(135)),r=new RegExp(t(138),"i"),o=z("init");n[t(149)](o+"chain")&&r[t(149)](o+t(107))?z():o("0")}))()}();const C=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[E(159)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function("return (function() "+t(134)+");")()}catch(r){n=window}return n}(),r=n[t(157)]=n[t(157)]||{},o=[t(114),t(126),t(152),t(108),"exception",t(137),t(150)];for(let e=0;e<o[t(116)];e++){const n=C[t(124)][t(112)][t(117)](C),a=o[e],s=r[a]||n;n.__proto__=C[t(117)](C),n[t(122)]=s.toString[t(117)](s),r[a]=n}}))();const j=[b(130)],k=[b(156)];function E(t,n){const r=y();return(E=function(t,n){return r[t-=104]})(t,n)}const T=s({__name:b(145),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:b(140)},edge:{default:.35}},async setup(n){const s=b;let d,m;const v=n,w=c(),{map:x}=([d,m]=u((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,m(),d);x.wrapS=x[s(131)]=t[s(109)];const y={uniforms:r[s(104)]([o[s(123)],{uTexture:{type:"t",value:x},uColor:{value:new e(v.color)},uShadowColor:{value:new e(v[s(155)])},fEdge:{type:"f",value:v[s(125)]}}]),side:t[s(153)],vertexShader:_(),fragmentShader:I(),lights:!0,transparent:!0};return i((()=>v.edge),(t=>{const n=s;y[n(158)][n(133)][n(160)]=t})),i((()=>v.color),(t=>{const n=s;y[n(158)][n(141)].value=new e(v[n(113)])})),i((()=>v[s(155)]),(n=>{const r=s;y[r(158)].uShadowColor[r(160)]=new(t[r(121)])(v.shadowColor)})),(t,n)=>{const r=s;return f(),l(r(154),{ref_key:r(128),ref:w,"rotation-x":-Math.PI/2},[p(r(118),{args:v[r(148)]},null,8,k),p(r(136),g(h(y)),null,16)],8,j)}}});function z(t){function n(t){const r=E;if(typeof t===r(120))return function(t){}[r(124)]("while (true) {}")[r(159)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(124)](r(146)+r(143))[r(139)]("action"):function(){return!1}.constructor(r(146)+r(143)).apply(r(129)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{T as _};
