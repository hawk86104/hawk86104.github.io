import{_ as t,bQ as n,au as o,C as r}from"./three.lAfZYOpc1736493808390.js";import{b as e}from"./@tresjs.g7tJPOCI1736493808390.js";import{d as a,b as c,a4 as s,w as u,o as i,D as f,J as l,aj as p,ak as h}from"./@vue.-Mz_IXfk1736493808390.js";!function(t,n){const o=m,r=v();for(;;)try{if(967158===parseInt(o(266))/1+-parseInt(o(229))/2+parseInt(o(268))/3+parseInt(o(264))/4*(-parseInt(o(231))/5)+-parseInt(o(267))/6*(parseInt(o(271))/7)+-parseInt(o(243))/8+parseInt(o(232))/9*(parseInt(o(252))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(255)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(234),"i"),r=x(t(270));n.test(r+"chain")&&o[t(259)](r+t(226))?x():r("0")}))()}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(t,n){const o=v();return(m=function(t,n){return o[t-=226]})(t,n)}function v(){const t=["\n       varying vec2 vUv;\n\t\t\t \t","constructor","lights_pars_begin","\n      \t","warn","11311144UKCzwx","\n       void main() {\n\t\t\t\t\t","return (function() ","shadowmap_pars_vertex","shadowmask_pars_fragment","bind","console","packing","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","470FRtTCJ","\n\t ","beginnormal_vertex","apply","trace","counter","call","test","shadowmap_pars_fragment","log","__proto__","ShaderChunk","4effknF","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","1045330UBIyYO","1535136cVdbEC","4015065ocZmAQ","stateObject","init","21cCUFyu","defaultnormal_vertex","common","toString","length","table","shadowmap_vertex","\n          ",'{}.constructor("return this")( )',"worldpos_vertex","input","action","gger","2629196OglyRV","begin_vertex","1326020DPTeAh","448992axdlny","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bsdfs","info","debu"];return(v=function(){return t})()}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(245)+t(279)+");")()}catch(o){n=window}return n}(),o=n[t(249)]=n.console||{},r=[t(261),t(242),t(236),"error",t(233),t(276),t(256)];for(let e=0;e<r[t(275)];e++){const n=g.constructor.prototype[t(248)](g),a=r[e],c=o[a]||n;n[t(262)]=g[t(248)](g),n[t(274)]=c[t(274)].bind(c),o[a]=n}}))();const w=()=>{const o=m;return o(238)+t[o(263)][o(273)]+"\n      \t"+t[o(263)].bsdfs+o(241)+n[o(246)]+o(244)+t[o(263)][o(254)]+o(278)+t[o(263)][o(272)]+o(278)+t[o(263)][o(230)]+o(278)+t[o(263)].project_vertex+"\n          "+t[o(263)][o(280)]+o(278)+t[o(263)][o(277)]+o(265)},_=()=>{const o=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[o(263)][o(273)]+"\n\t "+t[o(263)][o(250)]+o(253)+n[o(235)]+o(253)+t[o(263)][o(240)]+o(253)+n[o(260)]+o(253)+t[o(263)][o(247)]+o(251)};function x(t){function n(t){const o=m;if("string"==typeof t)return function(t){}[o(239)]("while (true) {}")[o(255)](o(257));1!==(""+t/t)[o(275)]||t%20==0?function(){return!0}.constructor(o(237)+o(228))[o(258)](o(227)):function(){return!1}.constructor(o(237)+o(228)).apply(o(269)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function b(){const t=["color","prototype","10381851uzppxi","test","Color","info","#999","shadowColor","debu","value","1626112MzvIzo","chain","724638RraYZm","call","console","while (true) {}","merge","constructor","TresShaderMaterial","fEdge","counter","log","tmRef","function *\\( *\\)","DoubleSide","trace","rotation-x","bind","apply","2945187uotHRc",'{}.constructor("return this")( )',"gger","error","wrapS","TresMesh","table","action","whiteFloorMesh","length","UniformsUtils","stateObject","4tVRjER","uShadowColor","3046300RbwPZb","toString","uniforms","TresPlaneGeometry","178416cOdPIK","__proto__","edge","478096OMYYGo","RepeatWrapping","6uHWSfg"];return(b=function(){return t})()}const y=j;!function(t,n){const o=j,r=b();for(;;)try{if(337556===parseInt(o(396))/1+parseInt(o(390))/2*(-parseInt(o(414))/3)+-parseInt(o(399))/4+-parseInt(o(392))/5+parseInt(o(401))/6*(parseInt(o(431))/7)+-parseInt(o(412))/8+parseInt(o(404))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(430)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=j,n=new RegExp(t(425)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=z("init");n[t(405)](r+t(413))&&o.test(r+"input")?z():r("0")}))()}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[j(430)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function("return (function() "+t(432)+");")()}catch(o){n=window}return n}(),o=n[t(416)]=n.console||{},r=[t(423),"warn",t(407),t(434),"exception",t(384),t(427)];for(let e=0;e<r[t(387)];e++){const n=C[t(419)][t(403)][t(429)](C),a=r[e],c=o[a]||n;n[t(397)]=C[t(429)](C),n.toString=c[t(393)][t(429)](c),o[a]=n}}))();const S=[y(428)],R=["args"];function j(t,n){const o=b();return(j=function(t,n){return o[t-=382]})(t,n)}const T=a({__name:y(386),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:y(408)},edge:{default:.35}},async setup(n){const a=y;let d,g;const m=n,v=c(),{map:x}=([d,g]=s((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(382)]=x.wrapT=t[a(400)];const b={uniforms:t[a(388)][a(418)]([o.lights,{uTexture:{type:"t",value:x},uColor:{value:new r(m.color)},uShadowColor:{value:new(t[a(406)])(m.shadowColor)},fEdge:{type:"f",value:m[a(398)]}}]),side:t[a(426)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>m[a(398)]),(t=>{const n=a;b.uniforms[n(421)][n(411)]=t})),u((()=>m[a(402)]),(n=>{const o=a;b[o(394)].uColor[o(411)]=new(t[o(406)])(m.color)})),u((()=>m.shadowColor),(n=>{const o=a;b[o(394)][o(391)][o(411)]=new(t[o(406)])(m[o(409)])})),(t,n)=>{const o=a;return i(),f(o(383),{ref_key:o(424),ref:v,"rotation-x":-Math.PI/2},[l(o(395),{args:m.size},null,8,R),l(o(420),p(h(b)),null,16)],8,S)}}});function z(t){function n(t){const o=j;if("string"==typeof t)return function(t){}[o(419)](o(417))[o(430)](o(422));1!==(""+t/t).length||t%20==0?function(){return!0}[o(419)](o(410)+o(433))[o(415)](o(385)):function(){return!1}[o(419)](o(410)+o(433)).apply(o(389)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
