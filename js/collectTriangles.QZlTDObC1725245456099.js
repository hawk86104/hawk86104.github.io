import{p as t,$ as n,W as e,d as r}from"./@tresjs.j5vdYITq1725245456099.js";import{_ as o}from"./index.s6tbElDP1725245456099.js";import{a as s}from"./index.qrmSQE1-1725245456099.js";import{a5 as i,a6 as c,a as u,cz as a}from"./three.KG2-8r0_1725245456099.js";import{P as l}from"./tweakpane.yHWGBmom1725245456099.js";import{I as p,C as f,N as m,c as g,d as h,a as d}from"./three-mesh-bvh.MH1NM3HB1725245456099.js";import{d as y,a4 as w,b as j,a1 as b,o as I,D as v,J as _,u as x,F as Z,r as T,e as A,j as M,g as z,m as S,f as k,al as C}from"./@vue.Q1VpS3901725245456099.js";import"./@vueuse.whMtq_7M1725245456099.js";import"./index.vXkb3Zi31725245456099.js";import"./@fesjs.Ns9rHvZ61725245456099.js";import"./vue-router.tVftT0SA1725245456099.js";import"./lodash-es.nFpJXAf-1725245456099.js";import"./@qlin.yHhFDldE1725245456099.js";import"./pinia.-1zGxVQz1725245456099.js";import"./@floating-ui.BPbuo5Gx1725245456099.js";import"./@juggle.7yjBMqoW1725245456099.js";import"./chalk.sAH7iSuz1725245456099.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1725245456099.js";import"./@iconify.9PoCakEb1725245456099.js";import"./utils.PqoJfvrT1725245456099.js";import"./default.vue_vue_type_script_setup_true_lang.97mmcBzv1725245456099.js";import"./three-mesh-ui.module.Od_ClJXE1725245456099.js";import"./three-stdlib.7palOSci1725245456099.js";import"./@pmndrs.Ip0yUZ_e1725245456099.js";import"./object-hash.ycpyO56T1725245456099.js";import"./@amap.jyJWu-u51725245456099.js";import"./jszip.Bn2AE-kY1725245456099.js";function E(t,n){const e=F();return(E=function(t,n){return e[t-=142]})(t,n)}!function(t,n){const e=E,r=F();for(;;)try{if(519831===-parseInt(e(176))/1+parseInt(e(147))/2*(-parseInt(e(183))/3)+parseInt(e(161))/4*(-parseInt(e(188))/5)+-parseInt(e(191))/6+-parseInt(e(170))/7+parseInt(e(152))/8*(parseInt(e(153))/9)+-parseInt(e(149))/10*(-parseInt(e(164))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(185)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function F(){const t=["test","39527389NdlQXs","stateObject","addEventListener","constructor","clientX","clientY","6954983XPafiz","log","button","toString","warn","trace","782673DrffSy","while (true) {}","__proto__","prototype","bind","debu","exception","2975622AZtTVO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","value","action","140285KZXCtU","function *\\( *\\)","table","4425318WyTpZj","input","pointerdown","pointerup","enabled","pointerType","2ZedHKy","length","10ncSZuW","init","setFromCamera","40ROhanF","1131300drtlAM","innerWidth","gger","intersectObject","return (function() ","console","call","error","28QNMpYw","pointermove"];return(F=function(){return t})()}!function(){R(this,(function(){const t=E,n=new RegExp(t(189)),e=new RegExp(t(184),"i"),r=X(t(150));n[t(163)](r+"chain")&&e[t(163)](r+t(142))?X():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(185)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();O(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(157)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(158)]||{},r=[t(171),t(174),"info",t(160),t(182),t(190),t(175)];for(let o=0;o<r[t(148)];o++){const n=O[t(167)][t(179)].bind(O),s=r[o],i=e[s]||n;n[t(178)]=O[t(180)](O),n[t(173)]=i[t(173)][t(180)](i),e[s]=n}}))();function X(t){function n(t){const e=E;if("string"==typeof t)return function(t){}[e(167)](e(177))[e(185)]("counter");1!==(""+t/t)[e(148)]||t%20==0?function(){return!0}[e(167)](e(181)+"gger")[e(159)](e(187)):function(){return!1}.constructor(e(181)+e(155))[e(185)](e(165)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=$;!function(t,n){const e=$,r=U();for(;;)try{if(581863===-parseInt(e(521))/1*(parseInt(e(508))/2)+-parseInt(e(491))/3+-parseInt(e(499))/4*(-parseInt(e(465))/5)+parseInt(e(519))/6+parseInt(e(529))/7*(-parseInt(e(532))/8)+-parseInt(e(487))/9+parseInt(e(515))/10*(parseInt(e(537))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[$(528)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=$,n=new RegExp(t(530)),e=new RegExp(t(492),"i"),r=J(t(500));n.test(r+"chain")&&e.test(r+t(488))?J():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[$(528)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Y(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(527)+t(506)+");")()}catch(e){n=window}return n}(),e=n[t(475)]=n.console||{},r=[t(471),"warn",t(459),"error",t(524),t(489),"trace"];for(let o=0;o<r.length;o++){const n=Y[t(512)][t(531)][t(479)](Y),s=r[o],i=e[s]||n;n[t(453)]=Y[t(479)](Y),n.toString=i.toString[t(479)](i),e[s]=n}}))();const P=[B(460),"material"],V=[_("TresSphereGeometry",{args:[1,40,40]},null,-1),_(B(466),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],H=[B(460)],L=[_(B(466),{color:B(525),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function U(){const t=["info","geometry","targetMesh.value init","value","needsUpdate","model","639425itJnZO","TresMeshStandardMaterial","push","setY","addButton","getZ","log","Mesh","index","invert","console","BufferGeometry","copy","intersectsBox","bind","fill","controls","set","intersectObject","computeBoundsTree","TresMesh","applyMatrix4","10098261ZInavn","input","table","active","1408380HLrZdg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","matrixWorld","boundsTree","attributes","Vector2","shapecast","gger","4LeVCMW","init","getY","count","生成模型","firstHitOnly","color",'{}.constructor("return this")( )',"point","690376TVHPWF","length","targetMesh","call","constructor","setX","BufferAttribute","6320220Fowbph","click","enabled","Matrix4","5443026XzfTsL","setAttribute","1YUFimZ","counter","raycast","exception","#023249","string","return (function() ","apply","3656114JPkulT","function *\\( *\\)","prototype","16AqVcrj","debu","Vector3","DynamicDrawUsage","Sphere","44UJtoEe","getX","setUsage","MeshStandardMaterial","position","scale","setFromCamera","__proto__","brushMesh","normal","center","visible","radius"];return(U=function(){return t})()}function $(t,n){const e=U();return($=function(t,n){return e[t-=448]})(t,n)}const D=y({__name:B(464),props:{controls:{}},async setup(r){const o=B;let s,y;const T=r;(()=>{const t=$;c[t(476)][t(531)][t(484)]=g,c[t(476)][t(531)].disposeBoundsTree=h,c[t(472)][t(531)][t(523)]=d})();const A=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),M=new(c[o(449)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),z=new Uint8Array(3*A[o(495)][o(450)][o(502)]);z[o(480)](255);const S=new(c[o(514)])(z,3,!0);S[o(448)](c[o(535)]),A[o(520)](o(505),S);const k=j(null),C=j(null),R=j(!1),F=j(-1),O=j(.2),X=new(c[o(496)]),{camera:W,raycaster:Y}=t(),U=15/255,D=78/255,J=85/255;let q=null;b((()=>{const t=o;k[t(462)]&&(console[t(471)](t(461),k[t(462)]),k[t(462)][t(460)][t(484)](),q=A[t(494)],((t,n,e,r,o,s)=>{const c=E;window.addEventListener(c(162),(e=>{const r=c;t.x=e.clientX/window[r(154)]*2-1,t.y=-e[r(169)]/window.innerHeight*2+1,n[r(186)]=!0})),window[c(166)](c(143),(u=>{const a=c;t.x=u[a(168)]/window[a(154)]*2-1,t.y=-u[a(169)]/window.innerHeight*2+1,r[a(186)]=u[a(172)];const l=new i;l[a(151)](t,e.value),l.firstHitOnly=!0;const p=l[a(156)](o[a(186)],!0);n.value=!0,s[a(145)]=0===p[a(148)]}),!0),window[c(166)](c(144),(t=>{const e=c;r[e(186)]=-1,"touch"===t[e(146)]&&(n[e(186)]=!1)}),!0)})(X,R,W,F,k,T.controls[t(462)]))}));const{onLoop:K}=n();K((()=>{const t=o,n=A[t(473)];if(C[t(462)])if(T[t(481)][t(462)][t(490)]||!R[t(462)])C[t(462)].visible=!1;else{C[t(462)][t(451)].setScalar(O[t(462)]),Y[t(462)][t(452)](X,W.value),Y.value[t(504)]=!0;const e=Y[t(462)][t(483)](k[t(462)],!0);if(e[t(509)]){C[t(462)].position.copy(e[0][t(507)]),T[t(481)][t(462)][t(517)]=!1,C[t(462)].visible=!0;const r=new(c[t(518)]);r[t(477)](k.value[t(493)])[t(474)]();const o=new(c[t(536)]);o[t(456)][t(477)](C[t(462)][t(450)])[t(486)](r),o[t(458)]=100*O.value;const s=[],i=new(c[t(534)]);if(null==q||q[t(497)]({intersectsBounds:n=>{const e=t,r=o[e(478)](n),{min:s,max:c}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(i[e(482)](0===t?s.x:c.x,0===n?s.y:c.y,0===r?s.z:c.z),!o.containsPoint(i))return p;return f}return r?p:m},intersectsTriangle:(t,n,e)=>{if(e||t.intersectsSphere(o)){const t=3*n;s.push(t,t+1,t+2)}return!1}}),0===F[t(462)]||2===F[t(462)]){let e=1,r=1,o=1;0===F[t(462)]&&(e=U,r=D,o=J);for(let i=0,c=s[t(509)];i<c;i++){const c=n[t(538)](s[i]);S[t(513)](c,e),S[t(468)](c,r),S.setZ(c,o)}S[t(463)]=!0}}else C[t(462)][t(457)]=!1,T[t(481)][t(462)].enabled=!0}}));const N=(new l)[o(469)]({title:"点击按钮",label:o(503)}),Q=new(c[o(476)]);return N.on(o(516),(()=>{const t=o,n=[],e=[];for(let o=0;o<S.count;o++)S.getX(o)===U&&S[t(501)](o)===D&&S.getZ(o)===J&&(n[t(467)](A[t(495)][t(450)][t(538)](o),A.attributes[t(450)].getY(o),A[t(495)][t(450)][t(470)](o)),e[t(467)](A[t(495)].normal[t(538)](o),A[t(495)][t(455)].getY(o),A[t(495)].normal.getZ(o)));const r=new Float32Array(n);Q[t(520)](t(450),new(c[t(514)])(r,3)),Q[t(520)]("normal",new u(r,3))})),(t,n)=>{const e=o;return I(),v(Z,null,[_(e(485),{ref_key:e(510),ref:k,geometry:x(A),scale:.005,material:x(M)},null,8,P),_(e(485),{ref_key:e(454),ref:C,visible:!1},V,512),_(e(485),{geometry:x(Q),position:[-2,-2,2],scale:.005},L,8,H)],64)}}});function J(t){function n(t){const e=$;if(typeof t===e(526))return function(t){}[e(512)]("while (true) {}")[e(528)](e(522));1!==(""+t/t).length||t%20==0?function(){return!0}[e(512)]("debugger")[e(511)]("action"):function(){return!1}[e(512)](e(533)+e(498)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=nt;!function(t,n){const e=nt,r=Q();for(;;)try{if(483548===parseInt(e(257))/1+-parseInt(e(249))/2+parseInt(e(250))/3*(-parseInt(e(248))/4)+parseInt(e(280))/5+parseInt(e(268))/6*(-parseInt(e(247))/7)+-parseInt(e(284))/8*(parseInt(e(278))/9)+-parseInt(e(267))/10*(-parseInt(e(274))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(286)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=nt,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=rt("init");n[t(251)](r+"chain")&&e[t(251)](r+t(262))?rt():r("0")}))()}();const N=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(286)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(){const t=["counter","controls",'{}.constructor("return this")( )',"99gWiEmT","controlsRef","stateObject","prototype","16263YtSJPI","debu","1124075bqDoKQ","neg-y.jpg","#999999","length","3784RrZbYQ","return (function() ","apply","bind","exception","7xciahZ","524MEEVch","1264676xhBMnW","16743NAXyTx","test","neg-x.jpg","constructor","info","table","call","279632CaKqRW","collectTriangles","value","string","TresCanvas","input","console","trace","pos-z.jpg","error","2648390BoADdG","1117740CxvnPV","gger","neg-z.jpg"];return(Q=function(){return t})()}N(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(285)+t(273)+");")()}catch(e){n=window}return n}(),e=n[t(263)]=n[t(263)]||{},r=["log","warn",t(254),t(266),t(288),t(255),t(264)];for(let o=0;o<r[t(283)];o++){const n=N[t(253)][t(277)][t(287)](N),s=r[o],i=e[s]||n;n.__proto__=N[t(287)](N),n.toString=i.toString[t(287)](i),e[s]=n}}))();const G=_("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=_("TresAmbientLight",{intensity:1},null,-1);function nt(t,n){const e=Q();return(nt=function(t,n){return e[t-=247]})(t,n)}const et=y({__name:q(258),setup(t){const n=q,e=T({clearColor:n(282),antialias:!0}),i=T({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=A(a(261));return I(),v(Z,null,[M(x(o)),M(l,S(e,{"window-size":""}),{default:z((()=>[G,M(x(r),S({ref_key:a(275),ref:c},i),null,16),tt,(I(),k(C,null,{default:z((()=>[M(D,{controls:c[a(259)]},null,8,[a(272)])])),_:1})),(I(),k(C,null,{default:z((()=>[M(x(s),{background:!1,files:["pos-x.jpg",a(252),"pos-y.jpg",a(281),a(265),a(270)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function rt(t){function n(t){const e=nt;if(typeof t===e(260))return function(t){}[e(253)]("while (true) {}")[e(286)](e(271));1!==(""+t/t)[e(283)]||t%20==0?function(){return!0}[e(253)](e(279)+e(269))[e(256)]("action"):function(){return!1}[e(253)](e(279)+e(269))[e(286)](e(276)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
