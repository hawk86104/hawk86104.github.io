import{F as e,_ as r}from"./@tresjs.BCHtwiaC1763540743861.js";import{A as o,B as s,O as n}from"./3d-tiles-renderer.C21jgnK51763540743861.js";import{S as t,V as a,Q as i,cP as u}from"./three.rXKzP9fQ1763540743861.js";import{d as c,a6 as l,H as d,o as m,J as p,u as g}from"./@vue.Co_gxueH1763540743861.js";const w=["object"],I=c({__name:"cesiumIon3DTile",setup(c){const{camera:I,renderer:z,sizes:j}=e();const x=new o;x.registerPlugin(new s({apiToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhM2RlZDE0YS03NWNlLTQ2ZmItODFmZi0zMDQyZGMxZjdjNzQiLCJpZCI6NDYzMzQsImlhdCI6MTYxNjA1MjY2Nn0.3BRsxy7UmJgW0LemXo6cMsD7xwe7YvUDITeQ3RLxOHI",assetId:"354759"})),x.addEventListener("load-tile-set",()=>{const e=new t;x.getBoundingSphere(e);const r=e.center.clone(),o=r.length(),s=function(e,r){const o=new i,s=(new a).crossVectors(e,r);return o.x=s.x,o.y=s.y,o.z=s.z,o.w=1+e.clone().dot(r),o.normalize(),o}(r.normalize(),new a(0,1,0));x.group.quaternion.x=s.x,x.group.quaternion.y=s.y,x.group.quaternion.z=s.z,x.group.quaternion.w=s.w,x.group.position.y=-o}),x.fetchOptions.mode="cors",x.registerPlugin(new n({dracoLoader:(new u).setDecoderPath("./draco/")})),l(()=>{j.width.value&&(x.setCamera(I.value),x.setResolutionFromRenderer(I.value,z))});const{onBeforeRender:h}=r();return h(()=>{I.value&&j.width.value&&x&&(I.value.updateMatrixWorld(),x.update())}),(e,r)=>(m(),d("TresGroup",null,[p("primitive",{object:g(x).group},null,8,w)]))}});export{I as _};
