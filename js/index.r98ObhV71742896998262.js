import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.u5-iyLpj1742896998262.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.dLWD7sjV1742896998262.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.ntdcS2xn1742896998262.js";import{V as t,K as e,C as n,n as i,u as r,aY as a,a as o,_ as s,U as l,b as c}from"./three.0CcRceKb1742896998262.js";import{m as u,e as p}from"./@tresjs.KzbsBNvc1742896998262.js";import{u as f}from"./index.ndVDlath1742896998262.js";import{F as x,C as v}from"./three-stdlib.89waAD8o1742896998262.js";import{d as m}from"./@vue.L-brCdZe1742896998262.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.FHtLcESB1742896998262.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.q3HWdgZ-1742896998262.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.ESRj9JcF1742896998262.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.ONNv5TLH1742896998262.js";import"./imgFloor.vue_vue_type_script_setup_true_lang._YZc5Zhy1742896998262.js";function w(){const t=["action","info","function *\\( *\\)",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"while (true) {}","159394tFazmW","gger","3127866zDPyWX","error","4638776MiepIY","log","console","return (function() ","call","constructor","length","1919133kcsBVk","toString","11zPxCnX","apply","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","1942857ACPiVa","exception","bind","table","14ZBGnWS","counter","warn","debu","test","init","prototype","2702144Qpapwk","1197220LDnoPi","stateObject"];return(w=function(){return t})()}function h(t,e){const n=w();return h=function(t,e){return n[t-=341]},h(t,e)}const g=h;!function(t,e){const n=h,i=w();for(;;)try{if(858462===parseInt(n(356))/1*(-parseInt(n(343))/2)+-parseInt(n(361))/3+parseInt(n(347))/4+parseInt(n(373))/5+parseInt(n(345))/6+parseInt(n(365))/7*(parseInt(n(372))/8)+-parseInt(n(354))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const d=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){d(this,(function(){const t=h,e=new RegExp(t(377)),n=new RegExp(t(359),"i"),i=_(t(370));e.test(i+t(360))&&n[t(369)](i+t(358))?_():i("0")}))()}();const S=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[h(357)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();S(void 0,(function(){const t=h;let e;try{e=Function(t(350)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(349)]=e.console||{},i=[t(348),t(367),t(376),t(346),t(362),t(364),"trace"];for(let a=0;a<i[t(353)];a++){const e=S[t(352)][t(371)].bind(S),r=i[a],o=n[r]||e;e.__proto__=S[t(363)](S),e.toString=o[t(355)][t(363)](o),n[r]=e}}))();const y=g(341);function _(t){function e(t){const n=h;if("string"==typeof t)return function(t){}[n(352)](n(342))[n(357)](n(366));1!==(""+t/t)[n(353)]||t%20==0?function(){return!0}[n(352)](n(368)+n(344))[n(351)](n(375)):function(){return!1}.constructor("debu"+n(344))[n(357)](n(374)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const P=E;!function(t,e){const n=E,i=b();for(;;)try{if(201257===-parseInt(n(398))/1*(parseInt(n(402))/2)+-parseInt(n(386))/3+parseInt(n(405))/4+parseInt(n(414))/5+parseInt(n(408))/6+parseInt(n(394))/7*(parseInt(n(406))/8)+-parseInt(n(415))/9*(parseInt(n(413))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(395)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=E,e=new RegExp(t(391)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=L("init");e[t(401)](i+t(384))&&n[t(401)](i+"input")?L():i("0")}))()}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(395)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function b(){const t=["1365852yWCQJE","gger","bind","table","constructor","17680LTENav","1526360IIgXkd","2691veRyyl","counter","debu","error","chain","prototype","536307IIxwHo","return (function() ","exception","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","trace","function *\\( *\\)","length","string","491281nGJVHV","apply","toString","while (true) {}","2uEiFQM","defines","clone","test","293966NYSCjw","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","console","1275180aLVqWo","40GLEbyn","info"];return(b=function(){return t})()}function E(t,e){const n=b();return E=function(t,e){return n[t-=383]},E(t,e)}function A(t){const n=E,i={...t};return n(399)in t&&(i[n(399)]={...t[n(399)]}),"uniforms"in t&&(i.uniforms=e[n(400)](t.uniforms)),i}I(void 0,(function(){const t=E;let e;try{e=Function(t(387)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(404)]=e[t(404)]||{},i=["log","warn",t(407),t(383),t(388),t(411),t(390)];for(let a=0;a<i[t(392)];a++){const e=I[t(412)][t(385)][t(410)](I),r=i[a],o=n[r]||e;e.__proto__=I.bind(I),e.toString=o[t(396)][t(410)](o),n[r]=e}}))();const M={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new t},parentMapSize:{value:new t},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:P(389)+y+P(403)};function L(t){function e(t){const n=E;if(typeof t===n(393))return function(t){}[n(412)](n(397))[n(395)](n(416));1!==(""+t/t)[n(392)]||t%20==0?function(){return!0}[n(412)](n(417)+n(409)).call("action"):function(){return!1}[n(412)](n(417)+n(409))[n(395)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function D(){const t=["info","uniforms","toString","constructor","5002528IdNdcV","_copyQuad","defines","action","warn","minFilter","5689937jqReJX","__proto__","9CUTUrQ","593841Qaxxll","setClearAlpha","gger","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","type","floorPowerOfTwo","set","X_IS_EVEN","Y_IS_EVEN","chain","render","setClearColor","fragmentShader","getClearAlpha","bind","function *\\( *\\)","counter","material","replace","magFilter","height","camera","value","floor","setRenderTarget","debu","texture","autoClear","clear","input","setSize","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","image","tDiffuse","while (true) {}","isWebGLRenderTarget","map",'{}.constructor("return this")( )',"getRenderTarget","dispose","306706lzdoTI","5247158VRBULc","_mipMaterials","9616600ljFbXZ","12FkXgcU","init","10CGJCqR","_swapTarget","12697569EnESUq","width","trace","string","5nezXuX","_mipQuad","stateObject","error","getClearColor","parentMapSize","log"];return(D=function(){return t})()}const V=j;!function(t,e){const n=j,i=D();for(;;)try{if(840807===-parseInt(n(521))/1+-parseInt(n(489))/2*(-parseInt(n(520))/3)+parseInt(n(512))/4*(-parseInt(n(501))/5)+parseInt(n(493))/6*(parseInt(n(490))/7)+-parseInt(n(492))/8+parseInt(n(497))/9+-parseInt(n(495))/10*(-parseInt(n(518))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[j(552)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){U(this,(function(){const t=j,e=new RegExp(t(536)),n=new RegExp(t(553),"i"),i=C(t(494));e.test(i+t(530))&&n.test(i+t(550))?C():i("0")}))()}();const T=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[j(552)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(t,e){const n=D();return j=function(t,e){return n[t-=483]},j(t,e)}T(void 0,(function(){const t=j;let e;try{e=Function("return (function() "+t(486)+");")()}catch(r){e=window}const n=e.console=e.console||{},i=[t(507),t(516),t(508),t(504),"exception","table",t(499)];for(let a=0;a<i.length;a++){const e=T[t(511)].prototype[t(535)](T),r=i[a],o=n[r]||e;e[t(519)]=T[t(535)](T),e[t(510)]=o.toString[t(535)](o),n[r]=e}}))();const R=new n;class O{constructor(t){const e=j;!t&&(t=e(524));const n=A(M);n[e(533)]=n[e(533)][e(539)](/<mipmap_logic>/g,t);const o=new Array(4);o[0]=new i(A(n)),o[0][e(514)].X_IS_EVEN=0,o[0][e(514)].Y_IS_EVEN=0,o[1]=new i(A(n)),o[1][e(514)].X_IS_EVEN=1,o[1][e(514)][e(529)]=0,o[2]=new i(A(n)),o[2].defines[e(528)]=0,o[2].defines[e(529)]=1,o[3]=new i(A(n)),o[3].defines[e(528)]=1,o[3][e(514)][e(529)]=1;const s=new r;s[e(547)][e(517)]=a,s.texture[e(540)]=a,this[e(496)]=s,this[e(513)]=new x(new i(v)),this[e(502)]=new x(null),this[e(491)]=o}update(t,e,n,i=!1){const r=j;t[r(484)]&&(t=t[r(547)]);const a=n[r(548)],s=n[r(534)](),l=n[r(487)]();n[r(505)](R);const c=this[r(513)],u=this._mipQuad,p=this[r(496)],f=this[r(491)];let x,v;i?(x=o[r(526)](t.image[r(498)]),v=o[r(526)](t.image[r(541)])):(x=Math[r(544)](t[r(554)][r(498)]),v=Math[r(544)](t.image[r(541)]));const m=Math[r(544)](1.5*x),w=Math[r(544)](v);e[r(551)](m,w),p.texture[r(525)]!==e[r(547)][r(525)]?(p[r(488)](),p.copy(e),p[r(547)][r(554)]={...p[r(547)].image}):p[r(551)](m,w),n[r(548)]=!1,n[r(532)](0),n[r(522)](),c[r(538)][r(509)][r(555)][r(543)]=t,c[r(542)].setViewOffset(x,v,0,0,m,w),n[r(545)](e),n[r(549)](),c.render(n),n[r(545)](p),n.clear(),c.render(n);let h=x,g=v,d=0;for(;h>1&&g>1;){const t=f[(h%2==0?1:0)|(g%2==0?2:0)];t[r(509)][r(485)][r(543)]=p[r(547)],t.uniforms.parentLevel[r(543)]=d,t[r(509)][r(506)][r(543)].set(h,g),t[r(509)].originalMapSize[r(543)][r(527)](x,v),u[r(538)]=t,h=Math[r(544)](h/2),g=Math.floor(g/2);const i=w-2*g;n.setRenderTarget(e),u.camera.setViewOffset(h,g,-x,-i,m,w),u[r(531)](n),n[r(545)](p),t.uniforms[r(485)].value=e.texture,u[r(531)](n),d++}return n[r(545)](l),n[r(522)](s),n[r(532)](R),n[r(548)]=a,d+1}[V(488)](){const t=V;this[t(496)][t(488)](),this[t(502)].dispose(),this[t(513)][t(488)](),this[t(491)].forEach((e=>e[t(488)]()))}}function C(t){function e(t){const n=j;if(typeof t===n(500))return function(t){}[n(511)](n(483))[n(552)](n(537));1!==(""+t/t).length||t%20==0?function(){return!0}[n(511)](n(546)+n(523)).call(n(515)):function(){return!1}[n(511)](n(546)+"gger").apply(n(503)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const F=Y;function k(){const t=["render","constant","4427703bWLiPo","Quaternion","call","debu","value","applyMatrix4","reflect","normal","apply","counter","string","bind","prototype","getWorldPosition","2911818YTnSjz","9515768XWgFYB","position","matrixWorldInverse","multiplyScalar","chain","table","copy","buffers","constructor","error","126YSCVDY","update","Vector4","matrixWorld","UnsignedByteType","716hAeSuY","1486GXCVqi","length","sub","add","setMask","projectPoint","elements","toString","multiply","resolution","1710ZyfQPO","clone","applyQuaternion","Vector3","projectionMatrix","getWorldQuaternion","sign","PerspectiveCamera","gger","Plane","negate","10674CPoDmS","texture","state","reflectorMipMap","set","input","info","autoClear","ignoreObjects","Matrix4","while (true) {}","dot","depth","updateMatrixWorld","forEach","console","4357992BEYzgh","95290YTocXF"];return(k=function(){return t})()}!function(t,e){const n=Y,i=k();for(;;)try{if(835762===-parseInt(n(518))/1*(-parseInt(n(517))/2)+-parseInt(n(501))/3+parseInt(n(483))/4+parseInt(n(528))/5*(parseInt(n(539))/6)+parseInt(n(487))/7+-parseInt(n(502))/8+parseInt(n(512))/9*(parseInt(n(484))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(495)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){X(this,(function(){const t=Y,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Z("init");e.test(i+t(506))&&n.test(i+t(544))?Z():i("0")}))()}();const W=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(495)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Y(t,e){const n=k();return Y=function(t,e){return n[t-=482]},Y(t,e)}W(void 0,(function(){const t=Y;let e;try{e=Function('return (function() {}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(482)]=e[t(482)]||{},i=["log","warn",t(545),t(511),"exception",t(507),"trace"];for(let a=0;a<i[t(519)];a++){const e=W[t(510)][t(499)][t(498)](W),r=i[a],o=n[r]||e;e.__proto__=W.bind(W),e[t(525)]=o.toString[t(498)](o),n[r]=e}}))();const N=m({__name:F(542),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=F,i=t,r=new(s[n(537)]),a=new(s[n(548)]),o=new(s[n(535)]),x=new O,v=f({width:i[n(527)],height:i[n(527)],settings:{type:l}}),m=f({width:i.resolution,height:i[n(527)],settings:{type:s[n(516)]}}),{camera:w,renderer:h,scene:g}=u(),{onBeforeLoop:d}=p();return d((()=>{const t=n;(()=>{const t=n;if(!w[t(491)])return;r[t(543)](new(s[t(531)])(0,1,0),0),r[t(492)](i.parent[t(515)]),o[t(508)](w[t(491)]);const e=new(s[t(531)])(0,0,1)[t(529)]().negate(),l=w[t(491)][t(500)](new(s[t(531)]));e[t(493)](r[t(494)]);const u=new(s[t(531)]);r[t(523)](l,u);const p=u[t(529)]();p[t(520)](l),p[t(521)](u),o[t(503)].copy(p);const f=new c(0,0,-1);f[t(530)](w.value[t(533)](new(s[t(488)]))),f[t(521)](l);const x=new(s[t(531)]);i.parent[t(500)](x),x[t(520)](f),x[t(493)](r[t(494)])[t(538)](),x[t(521)](i.parent[t(500)](new(s[t(531)]))),o.up[t(543)](0,1,0),o[t(530)](w.value[t(533)](new(s[t(488)]))),o.up[t(493)](r.normal),o.lookAt(x),o[t(552)]();const m=new(s[t(548)]);m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m[t(526)](o[t(532)]),m[t(526)](o[t(504)]),a[t(508)](m),r[t(492)](o[t(504)]);const d=new(s[t(514)])(r[t(494)].x,r[t(494)].y,r.normal.z,r[t(486)]),S=o[t(532)],y=new(s[t(514)]);y.x=(Math[t(534)](d.x)+S[t(524)][8])/S.elements[0],y.y=(Math[t(534)](d.y)+S[t(524)][9])/S[t(524)][5],y.z=-1,y.w=(1+S.elements[10])/S.elements[14],d[t(505)](2/d[t(550)](y)),S[t(524)][2]=d.x,S[t(524)][6]=d.y,S[t(524)][10]=d.z+1,S[t(524)][14]=d.w;const _=h[t(491)].getRenderTarget();h[t(491)].setRenderTarget(v[t(491)]),h[t(491)][t(541)][t(509)][t(551)][t(522)](!0),!1===h[t(491)][t(546)]&&h[t(491)].clear(),i[t(547)].forEach((t=>t.visible=!1)),h[t(491)][t(485)](g[t(491)],o),i[t(547)][t(553)]((t=>t.visible=!0)),h[t(491)].setRenderTarget(_)})(),v.value&&m[t(491)]&&h.value&&x[t(513)](v[t(491)][t(540)],m[t(491)],h[t(491)])})),e({matrix:a,renderTarget:m}),(t,e)=>null}});function Z(t){function e(t){const n=Y;if(typeof t===n(497))return function(t){}[n(510)](n(549))[n(495)](n(496));1!==(""+t/t).length||t%20==0?function(){return!0}[n(510)](n(490)+n(536))[n(489)]("action"):function(){return!1}[n(510)]("debu"+n(536))[n(495)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=B,i=q();;)try{if(561583===-parseInt(n(189))/1*(-parseInt(n(188))/2)+parseInt(n(181))/3+parseInt(n(182))/4*(parseInt(n(207))/5)+parseInt(n(213))/6+parseInt(n(208))/7*(-parseInt(n(180))/8)+-parseInt(n(203))/9+-parseInt(n(194))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var H,Q=(H=!0,function(t,e){var n=H?function(){if(e){var n=e[B(209)](t,arguments);return e=null,n}}:function(){};return H=!1,n});!function(){Q(this,(function(){var t=B,e=new RegExp(t(196)),n=new RegExp(t(186),"i"),i=J(t(192));e[t(206)](i+t(184))&&n.test(i+t(200))?J():i("0")}))()}();var G,$=(G=!0,function(t,e){var n=G?function(){if(e){var n=e[B(209)](t,arguments);return e=null,n}}:function(){};return G=!1,n});function B(t,e){var n=q();return B=function(t,e){return n[t-=180]},B(t,e)}function q(){var t=["input","while (true) {}","bind","4775841UAAzXP","constructor","action","test","40955FJSFsX","1687ZOZreg","apply","warn","call","toString","1951212BYVFfT","36056LFyOig","2028669HzyYGo","356RtvVib","string","chain","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","186172ZvgUqW","7ALVHSL","gger","console","init","return (function() ","2036070ITYFDV","length","function *\\( *\\)","prototype","counter","error"];return(q=function(){return t})()}function J(t){function e(t){var n=B;if(typeof t===n(183))return function(t){}[n(204)](n(201))[n(209)](n(198));1!==(""+t/t)[n(195)]||t%20==0?function(){return!0}[n(204)]("debu"+n(190))[n(211)](n(205)):function(){return!1}.constructor("debu"+n(190))[n(209)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}$(void 0,(function(){var t,e=B;try{t=Function(e(193)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t[e(191)]=t[e(191)]||{},i=["log",e(210),e(187),e(199),"exception","table",e(185)],r=0;r<i[e(195)];r++){var a=$[e(204)][e(197)][e(202)]($),o=i[r],s=n[o]||a;a.__proto__=$[e(202)]($),a[e(212)]=s.toString[e(202)](s),n[o]=a}}))();export{N as _};
