import{importShared as o}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{ol as w,Kk as b}from"./index.DTe2qqjO1767148983502.js";import{_sfc_main as _}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.B7dQ_CiZ1767148983502.js";import"./index.vue_vue_type_script_setup_true_lang.CjsHShHS1767148983502.js";import{Pane as x}from"./tweakpane.BQRZXf8M1767148983502.js";import{_sfc_main as v}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.z4H4Pz3b1767148983502.js";const{defineComponent:T}=await o("vue"),{createElementVNode:e,unref:r,normalizeProps:d,guardReactiveProps:p,createVNode:i,Suspense:y,withCtx:c,openBlock:u,createBlock:g,mergeProps:B}=await o("vue"),{ACESFilmicToneMapping:M,Color:S}=await o("three"),{reactive:l,watchEffect:P,shallowRef:C}=await o("vue"),G=T({__name:"accumulativeShadows",setup(k){const f=l({alpha:!0,shadows:!0,shadowMap:!0,toneMapping:M}),h=l({enableDamping:!0,autoRotate:!1}),s=C();P(()=>{if(s.value){const m=s.value.context.scene.value;m.background=new S("grey")}});const n=l({opacity:.8,alphaTest:.9,color:"#000000",blend:2,lightPosition:{x:3,y:5,z:3},frames:60,blendWindow:100,ambient:.5}),t=new x({title:"参数"});return t.addBinding(n,"opacity",{label:"透明度",min:0,max:1,step:.1}),t.addBinding(n,"alphaTest",{label:"透明检测",min:0,max:1,step:.1}),t.addBinding(n,"color",{label:"颜色"}),t.addBinding(n,"blend",{label:"颜色混合",min:0,max:3,step:.1}),t.addBinding(n,"lightPosition",{label:"光源位置",x:{min:-5,max:5},y:{min:1,max:5},z:{min:-5,max:5}}),t.addBinding(n,"frames",{label:"渲染帧数",min:1,max:100,step:1}),t.addBinding(n,"blendWindow",{label:"blend",min:1,max:100,step:1}),t.addBinding(n,"ambient",{label:"ambient",min:0,max:1,step:.1}),(m,a)=>(u(),g(r(w),B(f,{ref_key:"tcRef",ref:s,"window-size":""}),{default:c(()=>[a[0]||(a[0]=e("TresPerspectiveCamera",{position:[2,3,4],fov:45,near:1,far:1e3},null,-1)),i(r(b),d(p(h)),null,16),a[1]||(a[1]=e("TresAmbientLight",{intensity:.5},null,-1)),a[2]||(a[2]=e("TresMesh",{position:[2,.5,-1.5],"receive-shadow":"","cast-shadow":"",name:"sphere"},[e("TresSphereGeometry",{args:[.5]}),e("TresMeshStandardMaterial",{color:16724991,roughness:0,metalness:1})],-1)),a[3]||(a[3]=e("TresMesh",{position:[-1.5,.5,1.5],"receive-shadow":"","cast-shadow":"",name:"cube"},[e("TresCylinderGeometry",{args:[.5,.5,1]}),e("TresMeshStandardMaterial",{color:3407871,roughness:0,metalness:0})],-1)),a[4]||(a[4]=e("TresMesh",{position:[0,.9,0],"receive-shadow":"","cast-shadow":"",name:"torus"},[e("TresTorusKnotGeometry",{args:[.5,.2,80,64]}),e("TresMeshStandardMaterial",{color:16777011,roughness:.3,metalness:.5})],-1)),i(v,d(p(n)),null,16),(u(),g(y,null,{default:c(()=>[i(r(_),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,["path"])]),_:1}))]),_:1},16))}});export{G as default};
