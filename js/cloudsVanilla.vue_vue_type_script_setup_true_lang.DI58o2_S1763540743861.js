import{F as e,_ as a}from"./@tresjs.BCHtwiaC1763540743861.js";import{N as s,c as r,d as t,f as o,T as n,h as i}from"./postprocessing.51l5tmA-1763540743861.js";import{C as p,E as l,b as c,L as u,d,N as h,U as w,e as m,o as g,r as f,f as T,V as v,c as y,u as S}from"./@takram.DcJcNz4v1763540743861.js";import{d as b,w as F,a9 as G,a as x,H as j,o as _,J as k}from"./@vue.Co_gxueH1763540743861.js";import{V as E,ay as U,aE as R,a5 as B,w as D,r as L,az as N,cn as O,aG as P}from"./three.rXKzP9fQ1763540743861.js";const V=b({__name:"cloudsVanilla",setup(b){const{controls:V,camera:W,scene:M,renderer:I}=e(),q=new Date("2000-06-01T10:00:00Z"),z=new p(0,l(67),500).toECEF(),A=c.WGS84.getSurfaceNormal(z);F(()=>V.value,e=>{e&&(W.value?.position.copy(z),W.value?.up.copy(A),G(e)?.target.copy(z))},{immediate:!0});const C=x();F(()=>C.value,e=>{e&&c.WGS84.getEastNorthUpFrame(z).decompose(e.position,e.quaternion,e.scale)});const H=new u(W.value);H.sky=!0,H.sunIrradiance=!0,H.skyIrradiance=!0;const J=new s(M.value,W.value);H.normalBuffer=J.texture;const K=new d(W.value);K.coverage=.4,K.localWeatherVelocity.set(.001,0),K.events.addEventListener("change",function(e){switch(e.property){case"atmosphereOverlay":H.overlay=K.atmosphereOverlay;break;case"atmosphereShadow":H.shadow=K.atmosphereShadow;break;case"atmosphereShadowLength":H.shadowLength=K.atmosphereShadowLength}});const X=new E;h(q,X),H.sunDirection.copy(X),K.sunDirection.copy(X),(new w).setTypeFromRenderer(I).load("./plugins/useThreeGeospatial/exr/",function(e){Object.assign(H,e),Object.assign(K,e)}),(new U).load("./plugins/useThreeGeospatial/images/local_weather.png",function(e){e.minFilter=D,e.magFilter=L,e.wrapS=N,e.wrapT=N,e.colorSpace=O,e.needsUpdate=!0,K.localWeatherTexture=e}),new m(R,g,{width:f,height:f,depth:f}).load("./plugins/useThreeGeospatial/bin/shape.bin",function(e){e.format=P,e.minFilter=L,e.magFilter=L,e.wrapS=N,e.wrapT=N,e.wrapR=N,e.colorSpace=O,e.needsUpdate=!0,K.shapeTexture=e}),new m(R,g,{width:T,height:T,depth:T}).load("./plugins/useThreeGeospatial/bin/shape_detail.bin",function(e){e.format=P,e.minFilter=L,e.magFilter=L,e.wrapS=N,e.wrapT=N,e.wrapR=N,e.colorSpace=O,e.needsUpdate=!0,K.shapeDetailTexture=e}),(new U).load("./plugins/useThreeGeospatial/images/turbulence.png",function(e){e.minFilter=D,e.magFilter=L,e.wrapS=N,e.wrapT=N,e.colorSpace=O,e.needsUpdate=!0,K.turbulenceTexture=e}),(new v).load("./plugins/useThreeGeospatial/bin/stbn.bin",function(e){H.stbnTexture=e,K.stbnTexture=e});const Z=new r(I,{frameBufferType:B,multisampling:0});Z.addPass(new t(M.value,W.value)),Z.addPass(J),Z.addPass(new o(W.value,K,H)),Z.addPass(new o(W.value,new y,new n({mode:i.AGX}),new S));const{onBeforeRender:Q}=a();return Q(()=>{Z.render()}),(e,a)=>(_(),j("TresGroup",{ref_key:"tgRef",ref:C},[...a[0]||(a[0]=[k("TresMesh",{castShadow:"",receiveShadow:""},[k("TresTorusKnotGeometry",{args:[200,60,256,64]}),k("TresMeshBasicMaterial",{color:"white"})],-1)])],512))}});export{V as _};
