import{z as t,p as n,Y as e}from"./@tresjs.JhHPALEY1728703368826.js";import{bn as o,Y as r,_ as i,V as s}from"./three.VoknrmS61728703368826.js";import{n as c,_ as a}from"./three-tile.rGySB-KI1728703368826.js";import{_ as u,a as p}from"./informationDiv.SHG2tiWw1728703368826.js";import{d as l,a4 as f,w as m,o as h,E as g,L as d,u as y,r as I,b,f as w,g as j,j as _,m as x,al as v,F as S,e as E,aj as z,ak as T}from"./@vue.JNsx1iN61728703368826.js";import{P}from"./tweakpane.yHWGBmom1728703368826.js";import"./@vueuse.yeA714RM1728703368826.js";import"./@fesjs.9xYVr0ET1728703368826.js";import"./vue-router.mZGR5lVe1728703368826.js";import"./lodash-es.kYt-_xTG1728703368826.js";import"./@qlin.yHhFDldE1728703368826.js";import"./pinia.V-pS4Ukj1728703368826.js";import"./@floating-ui.BPbuo5Gx1728703368826.js";import"./@juggle.7yjBMqoW1728703368826.js";const k=D;!function(t,n){const e=D,o=A();for(;;)try{if(951123===-parseInt(e(168))/1+-parseInt(e(178))/2*(-parseInt(e(173))/3)+-parseInt(e(192))/4+-parseInt(e(197))/5+-parseInt(e(172))/6+parseInt(e(165))/7+parseInt(e(174))/8*(parseInt(e(181))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(189)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=A();return(D=function(t,n){return e[t-=151]})(t,n)}!function(){B(this,(function(){const t=D,n=new RegExp(t(184)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=F(t(198));n.test(o+"chain")&&e[t(175)](o+t(194))?F():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(189)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["opacity","string",'{}.constructor("return this")( )',"table","prototype","rotateX","TresMesh","log","7524972IqYiLF","length","map","1662175wXsyZh","exception","counter","scaleImg","2905518gtbzIx","1004286yAJBtP","8mPDcUZ","test","color","uniform sampler2D map;\n\t","2cHQECO","height","position-y","24448374PrLUBJ","constructor","DoubleSide","function *\\( *\\)","call","TresGroup","radraImgShow","bind","apply","return (function() ","40.png","141080ibZLjJ","needsUpdate","input","Vector3","vertexShader","4967115pppuMx","init","material","while (true) {}","gger","stateObject","console","geo2pos","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","position","onBeforeCompile","__proto__","push","debu","trace"];return(A=function(){return t})()}M(void 0,(function(){const t=D;let n;try{n=Function(t(190)+t(159)+");")()}catch(r){n=window}const e=n[t(203)]=n.console||{},o=[t(164),"warn","info","error",t(169),t(160),t(156)];for(let i=0;i<o.length;i++){const n=M[t(182)][t(161)][t(188)](M),r=o[i],s=e[r]||n;n[t(153)]=M[t(188)](M),n.toString=s.toString.bind(s),e[r]=n}}))();const L=[k(151)],R=["scale",k(199),k(162),k(180)],Z=[d("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)],J=l({__name:k(187),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=k;let s,c;const a=n,p=new o({displacementMap:new r,transparent:!0,side:i[e(183)],opacity:a[e(157)],displacementScale:.5,displacementBias:0});p[e(152)]=t=>{const n=e;t[n(196)]=n(177)+t[n(196)],t[n(196)]=t.vertexShader.replace("#include <displacementmap_vertex>",n(205))};const l=a[e(167)][e(204)](new(i[e(195)])(105,34,0));l.applyMatrix4(a[e(167)].matrix);const I=u[e(171)](a.map,{x:67,y:11},{x:140,y:57},a[e(179)]),b=[];for(let t=0;t<9;t++)b[e(154)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(191));let w=0;const j=([s,c]=f((()=>t(b))),s=await s,c(),s);p[e(167)]=j[w],m((()=>[a[e(176)],a[e(157)]]),(([t,n])=>{p[e(157)]=n}));let _=null,x=!1;return x?(clearInterval(_),_=null,x=!1):(_=setInterval((()=>{const t=D;w=w<b[t(166)]-1?w+1:0,p.map=j[w],p[t(193)]=!0,console.log(w)}),1e3),x=!0),(t,n)=>{const o=e;return h(),g(o(186),{position:[...y(l)]},[d(o(163),{scale:[y(I).x,y(I).y,t[o(179)]],material:y(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(179)]/5},Z,8,R)],8,L)}}});function F(t){function n(t){const e=D;if(typeof t===e(158))return function(t){}[e(182)](e(200))[e(189)](e(170));1!==(""+t/t).length||t%20==0?function(){return!0}[e(182)](e(155)+e(201))[e(185)]("action"):function(){return!1}[e(182)](e(155)+e(201))[e(189)](e(202)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=Q;!function(t,n){const e=Q,o=C();for(;;)try{if(550090===-parseInt(e(362))/1*(-parseInt(e(365))/2)+parseInt(e(345))/3*(parseInt(e(346))/4)+parseInt(e(347))/5*(-parseInt(e(322))/6)+parseInt(e(358))/7+parseInt(e(318))/8*(parseInt(e(357))/9)+parseInt(e(333))/10+-parseInt(e(326))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=Q,n=new RegExp(t(341)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(364));n.test(o+t(350))&&e.test(o+t(356))?$():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(344)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Y(void 0,(function(){const t=Q;let n;try{n=Function(t(330)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(325)]=n[t(325)]||{},o=[t(319),"warn","info","error",t(321),"table","trace"];for(let i=0;i<o.length;i++){const n=Y.constructor.prototype[t(315)](Y),r=o[i],s=e[r]||n;n[t(342)]=Y.bind(Y),n[t(317)]=s[t(317)].bind(s),e[r]=n}}))();const q=[O(335)];function C(){const t=["map","debu","geo2pos","function *\\( *\\)","__proto__","opacity","apply","474EOrQsu","4052fohWsY","383905wYKaZI","stateObject","tdLight","chain","length","controlsEvents","height","target","mapbox.satellite","input","18VvAwiE","4190011njqCIz","addBinding","call","MapBoxSource","31112VehfuA","value","init","12eepJeq","image","mapBoxShow3","constructor","position","bind","gger","toString","1435936zcKlDc","log","terrain-rgb","exception","6UZtBGO","rotateX","showLocation","console","13468147suIotj","domElement","透明度","Vector3","return (function() ","TresDirectionalLight","localToWorld","5469650NhfmJF","copy","object","TileMap","primitive"];return(C=function(){return t})()}function Q(t,n){const e=C();return(Q=function(t,n){return e[t-=312]})(t,n)}const U="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",V=l({__name:O(312),setup(t){const e=O,o=I({height:200,opacity:1}),r=new P({title:"参数"});r.addBinding(o,e(353),{label:"高度",min:10,max:300,step:1}),r[e(359)](o,e(343),{label:e(328),min:0,max:1,step:.1});const p=new(c[e(361)])({token:U,dataType:e(366),style:e(355)}),l=new(c[e(361)])({token:U,dataType:e(320),style:"mapbox.terrain-rgb",maxLevel:15}),f=new(a[e(336)])({imgSource:p,demSource:l,lon0:90,minLevel:2,maxLevel:20});f[e(323)](-Math.PI/2);const E=new(i[e(329)])(105,34,0),z=new s(110,0,1e4),T=f[e(332)](f[e(340)](E)),k=f[e(332)](f.geo2pos(z)),B=b(),{camera:D,controls:M,scene:A,renderer:L}=n();return D[e(363)]&&D[e(363)][e(314)].copy(k),m((()=>M[e(363)]),(t=>{const n=e;t&&(t[n(354)][n(334)](T),u[n(352)](t,D[n(363)],A[n(363)]))})),m((()=>B.value),(t=>{const n=e;t&&t[n(354)][n(314)][n(334)](T)})),u[e(324)](D[e(363)],L[e(363)][e(327)],f),(t,n)=>{const r=e;return h(),g(S,null,[d(r(331),{ref_key:r(349),ref:B,position:[0,2e3,1e3],intensity:1},null,512),d(r(337),{object:y(f)},null,8,q),(h(),w(v,null,{default:j((()=>[_(J,x({map:y(f)},o),null,16,[r(338)])])),_:1}))],64)}}});function $(t){function n(t){const e=Q;if("string"==typeof t)return function(t){}[e(313)]("while (true) {}")[e(344)]("counter");1!==(""+t/t)[e(351)]||t%20==0?function(){return!0}[e(313)](e(339)+"gger")[e(360)]("action"):function(){return!1}[e(313)](e(339)+e(316))[e(344)](e(348)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=nt;!function(t,n){const e=nt,o=tt();for(;;)try{if(380116===-parseInt(e(447))/1+parseInt(e(425))/2+-parseInt(e(437))/3+parseInt(e(440))/4*(parseInt(e(428))/5)+-parseInt(e(446))/6*(parseInt(e(424))/7)+parseInt(e(442))/8+-parseInt(e(414))/9*(-parseInt(e(432))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[nt(434)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=nt,n=new RegExp(t(431)),e=new RegExp(t(449),"i"),o=ot(t(426));n[t(439)](o+t(412))&&e[t(439)](o+t(421))?ot():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[nt(434)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=nt;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(413)]=n.console||{},o=["log",t(438),"info",t(436),t(420),t(419),t(429)];for(let i=0;i<o[t(445)];i++){const n=X[t(435)][t(423)].bind(X),r=o[i],s=e[r]||n;n[t(430)]=X[t(433)](X),n[t(416)]=s[t(416)][t(433)](s),e[r]=n}}))();const K=d(N(418),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),H=d(N(448),{intensity:1},null,-1);function tt(){const t=["269829JSKPGb","TresAmbientLight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","chain","console","45mJbsYe","while (true) {}","toString","gger","TresPerspectiveCamera","table","exception","input","string","prototype","4837DgGgiq","1025998ttOnKM","init","counter","175585QBaIgR","trace","__proto__","function *\\( *\\)","1932430kPJkMm","bind","apply","constructor","error","1973088dsRTLJ","warn","test","40XERcEP","highp","212816EdVeNu","action","stateObject","length","4770RrIocd"];return(tt=function(){return t})()}function nt(t,n){const e=tt();return(nt=function(t,n){return e[t-=412]})(t,n)}const et=l({__name:"radraImg",setup(t){const n=I({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:N(441)}),o=I({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,r)=>{const i=E("TresCanvas");return h(),g(S,null,[_(i,x(n,{"window-size":""}),{default:j((()=>[K,_(y(e),z(T(o)),null,16),H,_(V)])),_:1},16),_(p)],64)}}});function ot(t){function n(t){const e=nt;if(typeof t===e(422))return function(t){}[e(435)](e(415))[e(434)](e(427));1!==(""+t/t)[e(445)]||t%20==0?function(){return!0}[e(435)](e(450)+e(417)).call(e(443)):function(){return!1}[e(435)](e(450)+e(417)).apply(e(444)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
