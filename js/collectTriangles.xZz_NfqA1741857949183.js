import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.8SAr0PX_1741857949183.js";import{_ as s}from"./index.y91nuGGc1741857949183.js";import{_ as i,X as c,e as u,B as a,c as l,cC as p}from"./three.Gi_-4zeu1741857949183.js";import{P as f}from"./tweakpane.yDiyAAkA1741857949183.js";import{I as h,C as m,N as d,c as g,d as y,a as w}from"./three-mesh-bvh.dyGT1sWA1741857949183.js";import{d as j,a3 as b,b as v,a2 as I,o as _,H as x,N as A,u as T,F as k,r as z,e as C,j as M,g as R,m as S,f as B,al as E}from"./@vue.NRI7TcgI1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./index.JbzRvPjk1741857949183.js";import"./@fesjs._GqZBaJ41741857949183.js";import"./vue-router.vV-TPEpQ1741857949183.js";import"./lodash-es.pklfUAS51741857949183.js";import"./@qlin.yHhFDldE1741857949183.js";import"./pinia.m-1lhBPB1741857949183.js";import"./@floating-ui.BPbuo5Gx1741857949183.js";import"./@juggle.7yjBMqoW1741857949183.js";import"./chalk.9FGrMJNn1741857949183.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1741857949183.js";import"./@iconify.dt4P0LGS1741857949183.js";import"./dompurify.rQUea5mq1741857949183.js";import"./utils.dQyCP_5f1741857949183.js";import"./default.vue_vue_type_script_setup_true_lang.4B-kUXuH1741857949183.js";import"./three-mesh-ui.module.MGj0w7W21741857949183.js";function F(){const t=["value","trace","13316490hzmKAx","init","string","debu","exception","pointerdown","bind","214hSPPbN",'{}.constructor("return this")( )',"addEventListener","counter","while (true) {}","input","pointerType","Raycaster","1851489bENmhU","button","return (function() ","__proto__","setFromCamera","firstHitOnly","action","3045XOvmqr","2454414VgrMkm","info","2524264Nzsqdi","pointerup","touch","enabled","7736aIkHhL","intersectObject","length","console","1453203nqwHgi","chain","apply","2209ZFcsJz","clientY","5etAQru","gger","toString","pointermove","call","innerHeight","clientX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","function *\\( *\\)","10oTVbpn","constructor","warn","innerWidth"];return(F=function(){return t})()}!function(t,n){const e=O,r=F();for(;;)try{if(441869===-parseInt(e(216))/1*(-parseInt(e(241))/2)+parseInt(e(195))/3+-parseInt(e(205))/4+-parseInt(e(218))/5*(parseInt(e(203))/6)+-parseInt(e(202))/7*(parseInt(e(209))/8)+parseInt(e(213))/9*(-parseInt(e(228))/10)+parseInt(e(234))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(215)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){V(this,(function(){const t=O,n=new RegExp(t(227)),e=new RegExp(t(225),"i"),r=Y(t(235));n.test(r+t(214))&&e.test(r+t(246))?Y():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(t,n){const e=F();return(O=function(t,n){return e[t-=195]})(t,n)}Z(void 0,(function(){const t=O;let n;try{n=Function(t(197)+t(242)+");")()}catch(o){n=window}const e=n[t(212)]=n[t(212)]||{},r=["log",t(230),t(204),"error",t(238),t(226),t(233)];for(let s=0;s<r.length;s++){const n=Z[t(229)].prototype[t(240)](Z),o=r[s],i=e[o]||n;n[t(198)]=Z.bind(Z),n.toString=i[t(220)][t(240)](i),e[o]=n}}))();function Y(t){function n(t){const e=O;if(typeof t===e(236))return function(t){}.constructor(e(245)).apply(e(244));1!==(""+t/t)[e(211)]||t%20==0?function(){return!0}[e(229)](e(237)+e(219))[e(222)](e(201)):function(){return!1}.constructor(e(237)+e(219))[e(215)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=P;!function(t,n){const e=P,r=K();for(;;)try{if(535966===parseInt(e(335))/1*(parseInt(e(307))/2)+parseInt(e(337))/3*(parseInt(e(299))/4)+parseInt(e(252))/5+parseInt(e(314))/6*(-parseInt(e(292))/7)+parseInt(e(330))/8+parseInt(e(318))/9+-parseInt(e(300))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(288)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(t,n){const e=K();return(P=function(t,n){return e[t-=252]})(t,n)}!function(){X(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(313),"i"),r=W("init");n[t(301)](r+t(283))&&e[t(301)](r+t(291))?W():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function K(){const t=["生成模型","MeshStandardMaterial","counter","material","attributes","normal","set","needsUpdate","getZ","string","count","enabled","raycast","push","radius","debu","action","warn","geometry","click","console","prototype","intersectsSphere","call",'{}.constructor("return this")( )',"scale","chain","toString","getX","point","targetMesh","apply","trace","visible","input","129178kzoVZh","intersectObject","boundsTree","center","setScalar","firstHitOnly","table","29996PCNEyA","8231630mvYmwu","test","getY","position","点击按钮","fill","Vector2","62ZpVWAi","brushMesh","computeBoundsTree","TresMesh","active","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","246wrFWts","value","color","setY","1305558qNNVoW","while (true) {}","gger","setFromCamera","BufferAttribute","addButton","setZ","#023249","Matrix4","return (function() ","applyMatrix4","disposeBoundsTree","4554576BQTLuJ","instance","controls","constructor","copy","5869KGbjGK","TresSphereGeometry","267fjRVVC","TresMeshStandardMaterial","length","shapecast","containsPoint","model","Vector3","log","Mesh","matrixWorld","2760045HXRmCY","intersectsBox","setAttribute","bind","info"];return(K=function(){return t})()}H(void 0,(function(){const t=P;let n;try{n=Function(t(327)+t(281)+");")()}catch(o){n=window}const e=n[t(277)]=n[t(277)]||{},r=[t(344),t(274),t(256),"error","exception",t(298),t(289)];for(let s=0;s<r[t(339)];s++){const n=H.constructor[t(278)][t(255)](H),o=r[s],i=e[o]||n;n.__proto__=H[t(255)](H),n[t(284)]=i.toString[t(255)](i),e[o]=n}}))();const L=[N(275),N(260)],q=[N(275)],U=j({__name:N(342),props:{controls:{}},async setup(r){const o=N;let s,j;const z=r;(()=>{const t=P;a.prototype[t(309)]=g,a[t(278)][t(329)]=y,i[t(345)][t(278)][t(269)]=w})();const C=([s,j]=b((()=>e(p,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,j(),s),M=new(i[o(258)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),R=new Uint8Array(3*C[o(261)][o(303)][o(267)]);R[o(305)](255);const S=new(i[o(322)])(R,3,!0);S.setUsage(c),C[o(254)](o(316),S);const B=v(null),E=v(null),F=v(!1),V=v(-1),Z=v(.2),Y=new(i[o(306)]),{camera:X,raycaster:H}=t(),K=15/255,U=78/255,W=85/255;let $=null;I((()=>{const t=o;B.value&&(console.log("targetMesh.value init",B.value),B[t(315)][t(275)][t(309)](),$=C[t(294)],((t,n,e,r,o,s)=>{const c=O;window[c(243)](c(221),(e=>{const r=c;t.x=e[r(224)]/window.innerWidth*2-1,t.y=-e[r(217)]/window[r(223)]*2+1,n.value=!0})),window.addEventListener(c(239),(u=>{const a=c;t.x=u[a(224)]/window[a(231)]*2-1,t.y=-u.clientY/window[a(223)]*2+1,r[a(232)]=u[a(196)];const l=new(i[a(248)]);l[a(199)](t,e.value),l[a(200)]=!0;const p=l[a(210)](o.value,!0);n[a(232)]=!0,s[a(208)]=0===p[a(211)]}),!0),window.addEventListener(c(206),(t=>{const e=c;r[e(232)]=-1,t[e(247)]===e(207)&&(n.value=!1)}),!0)})(Y,F,X,V,B,z[t(332)].instance))}));const{onLoop:J}=n();J((()=>{const t=o,n=C.index;if(E[t(315)])if(z[t(332)][t(331)][t(311)]||!F[t(315)])E.value[t(290)]=!1;else{E[t(315)][t(282)][t(296)](Z[t(315)]),H[t(315)][t(321)](Y,X[t(315)]),H[t(315)][t(297)]=!0;const e=H[t(315)][t(293)](B[t(315)],!0);if(e[t(339)]){E[t(315)].position[t(334)](e[0][t(286)]),z[t(332)].instance[t(268)]=!1,E[t(315)][t(290)]=!0;const r=new(i[t(326)]);r[t(334)](B[t(315)][t(346)]).invert();const o=new u;o[t(295)][t(334)](E[t(315)].position)[t(328)](r),o[t(271)]=100*Z.value;const s=[],c=new(i[t(343)]);if(null==$||$[t(340)]({intersectsBounds:n=>{const e=t,r=o[e(253)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(263)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(341)](c))return h;return m}return r?h:d},intersectsTriangle:(n,e,r)=>{if(r||n[t(279)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===V[t(315)]||2===V[t(315)]){let e=1,r=1,o=1;0===V[t(315)]&&(e=K,r=U,o=W);for(let i=0,c=s[t(339)];i<c;i++){const c=n.getX(s[i]);S.setX(c,e),S[t(317)](c,r),S[t(324)](c,o)}S[t(264)]=!0}}else E[t(315)][t(290)]=!1,z.controls.instance[t(268)]=!0}}));const Q=(new f)[o(323)]({title:o(304),label:o(257)}),G=new a;return Q.on(o(276),(()=>{const t=o,n=[],e=[];for(let o=0;o<S.count;o++)S[t(285)](o)===K&&S[t(302)](o)===U&&S[t(265)](o)===W&&(n[t(270)](C[t(261)][t(303)][t(285)](o),C[t(261)][t(303)].getY(o),C[t(261)].position[t(265)](o)),e[t(270)](C.attributes[t(262)][t(285)](o),C[t(261)][t(262)][t(302)](o),C.attributes[t(262)][t(265)](o)));const r=new Float32Array(n);G[t(254)](t(303),new(i[t(322)])(r,3)),G[t(254)](t(262),new l(r,3))})),(t,n)=>{const e=o;return _(),x(k,null,[A(e(310),{ref_key:e(287),ref:B,geometry:T(C),scale:.005,material:T(M)},null,8,L),A(e(310),{ref_key:e(308),ref:E,visible:!1},n[0]||(n[0]=[A(e(336),{args:[1,40,40]},null,-1),A(e(338),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),A("TresMesh",{geometry:T(G),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[A(e(338),{color:e(325),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,q)],64)}}});function W(t){function n(t){const e=P;if(typeof t===e(266))return function(t){}[e(333)](e(319))[e(288)](e(259));1!==(""+t/t).length||t%20==0?function(){return!0}[e(333)](e(272)+e(320))[e(280)](e(273)):function(){return!1}[e(333)](e(272)+e(320))[e(288)](e(312)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=tt;!function(t,n){const e=tt,r=G();for(;;)try{if(451177===parseInt(e(190))/1+parseInt(e(180))/2+parseInt(e(185))/3+-parseInt(e(196))/4*(-parseInt(e(203))/5)+-parseInt(e(186))/6*(parseInt(e(212))/7)+-parseInt(e(191))/8+-parseInt(e(181))/9*(-parseInt(e(202))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){J(this,(function(){const t=tt,n=new RegExp(t(178)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=nt(t(192));n.test(r+t(200))&&e[t(173)](r+t(176))?nt():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[tt(205)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(){const t=["warn","counter","length","112876AoVhoY","TresAmbientLight","gger","info","chain","table","28870RnjiBd","45PXkfYc",'{}.constructor("return this")( )',"apply","pos-z.jpg","pos-y.jpg","while (true) {}","action","value","neg-y.jpg","196tCdFna","trace","debu","test","TresPerspectiveCamera","console","input","collectTriangles","function *\\( *\\)","toString","1676054UKNQTR","549BKUShS","bind","#999999","constructor","249009jQOoPp","171582erAyDi","__proto__","pos-x.jpg","TresCanvas","277053wvzpVI","3010144dKXxuQ","init"];return(G=function(){return t})()}Q(void 0,(function(){const t=tt,n=function(){const t=tt;let n;try{n=Function("return (function() "+t(204)+");")()}catch(e){n=window}return n}(),e=n[t(175)]=n[t(175)]||{},r=["log",t(193),t(199),"error","exception",t(201),t(213)];for(let o=0;o<r[t(195)];o++){const n=Q[t(184)].prototype[t(182)](Q),s=r[o],i=e[s]||n;n[t(187)]=Q[t(182)](Q),n[t(179)]=i[t(179)].bind(i),e[s]=n}}))();const D=j({__name:$(177),setup(t){const n=$,e=z({clearColor:n(183),antialias:!0}),i=z({autoRotate:!1}),c=v(null);return(t,u)=>{const a=n,l=C(a(189));return _(),x(k,null,[M(T(s)),M(l,S(e,{"window-size":""}),{default:R((()=>[u[0]||(u[0]=A(a(174),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),M(T(r),S({ref_key:"controlsRef",ref:c},i),null,16),u[1]||(u[1]=A(a(197),{intensity:1},null,-1)),(_(),B(E,null,{default:R((()=>[M(U,{controls:c[a(210)]},null,8,["controls"])])),_:1})),(_(),B(E,null,{default:R((()=>[M(T(o),{background:!1,files:[a(188),"neg-x.jpg",a(207),a(211),a(206),"neg-z.jpg"],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function tt(t,n){const e=G();return(tt=function(t,n){return e[t-=173]})(t,n)}function nt(t){function n(t){const e=tt;if("string"==typeof t)return function(t){}[e(184)](e(208))[e(205)](e(194));1!==(""+t/t)[e(195)]||t%20==0?function(){return!0}[e(184)]("debu"+e(198)).call(e(209)):function(){return!1}[e(184)](e(214)+e(198))[e(205)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
