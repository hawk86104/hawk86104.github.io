import{_ as n,C as t,ap as r}from"./three.XuMWWlrU1743039954535.js";import{o,J as e}from"./@tresjs.05J-Im0t1743039954535.js";import{P as i}from"./tweakpane.ivGeiIdz1743039954535.js";import{d as s,a2 as c,o as u,H as a,N as l,aj as f,ak as d,r as v,e as g,f as p,g as h,j as m,u as C,al as y,m as x}from"./@vue.C4dqouNn1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";const w=T;function T(n,t){const r=I();return T=function(n,t){return r[n-=121]},T(n,t)}!function(n,t){const r=T,o=I();for(;;)try{if(375503===parseInt(r(155))/1*(parseInt(r(157))/2)+-parseInt(r(154))/3*(-parseInt(r(167))/4)+parseInt(r(163))/5*(parseInt(r(174))/6)+-parseInt(r(134))/7+parseInt(r(168))/8+-parseInt(r(142))/9*(-parseInt(r(172))/10)+-parseInt(r(140))/11)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const b=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){b(this,(function(){const n=T,t=new RegExp(n(124)),r=new RegExp(n(156),"i"),o=j(n(135));t[n(138)](o+n(133))&&r[n(138)](o+n(144))?j():o("0")}))()}();const k=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[T(136)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();k(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(165)+n(164)+");")()}catch(r){t=window}return t}(),r=t[n(141)]=t[n(141)]||{},o=[n(160),"warn","info",n(122),"exception",n(126),n(129)];for(let e=0;e<o[n(130)];e++){const t=k.constructor.prototype[n(125)](k),i=o[e],s=r[i]||t;t[n(137)]=k.bind(k),t[n(147)]=s[n(147)][n(125)](s),r[i]=t}}))();const W=["rotate-x"];function I(){const n=["console","27uqheRF","uCross","input","#7a91df","Color","toString","uCrossThickness","floorColor","gridFloor","crossThickness","uGridColor","while (true) {}","270FSPycI","416273MABtqK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2BwnLkj","gger","uniforms","log","crossColor","TresMesh","1668490AQrfmN",'{}.constructor("return this")( )',"return (function() ","#c4d6ff","32800uisriA","1732984PFRGtY","TresShaderMaterial","uCrossColor","gridThickness","49100sJTEOW","call","12ghZzlX","set","value","error","DoubleSide","function *\\( *\\)","bind","table","constructor","debu","trace","length","#ffffff","counter","chain","3143553IVfEqJ","init","apply","__proto__","test","string","13512840ogXkim"];return(I=function(){return n})()}const A=s({__name:w(150),props:{gridColor:{default:w(166)},gridThickness:{default:.02},crossColor:{default:w(145)},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:w(131)}},setup(r){const o=w,e=r,i={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[o(123)],transparent:!0,uniforms:{uFloorColor:{value:new(n[o(146)])(e[o(149)])},uGridThickness:{value:e[o(171)]},uGridColor:{value:new t(e.gridColor)},uCrossThickness:{value:e[o(151)]},uCross:{value:e[o(143)]},uCrossColor:{value:new(n[o(146)])(e[o(161)])}}};return c((()=>{const n=o;i[n(159)].uFloorColor[n(121)][n(175)](e[n(149)]),i[n(159)][n(152)][n(121)][n(175)](e.gridColor),i[n(159)][n(170)].value.set(e[n(161)]),i[n(159)].uGridThickness[n(121)]=e.gridThickness,i[n(159)][n(148)][n(121)]=e[n(151)],i[n(159)][n(143)][n(121)]=e[n(143)]})),(n,t)=>{const r=o;return u(),a(r(162),{"rotate-x":-Math.PI/2},[t[0]||(t[0]=l("TresPlaneGeometry",{args:[10,10,32,32]},null,-1)),l(r(169),f(d(i)),null,16)],8,W)}}});function j(n){function t(n){const r=T;if(typeof n===r(139))return function(n){}[r(127)](r(153)).apply(r(132));1!==(""+n/n)[r(130)]||n%20==0?function(){return!0}[r(127)]("debugger")[r(173)]("action"):function(){return!1}[r(127)](r(128)+r(158))[r(136)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(r){}}const D=_;function _(n,t){const r=U();return _=function(n,t){return r[n-=232]},_(n,t)}!function(n,t){const r=_,o=U();for(;;)try{if(778096===parseInt(r(293))/1+parseInt(r(260))/2*(-parseInt(r(250))/3)+parseInt(r(265))/4+parseInt(r(283))/5*(-parseInt(r(286))/6)+-parseInt(r(234))/7*(parseInt(r(290))/8)+parseInt(r(296))/9+parseInt(r(247))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[_(269)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function U(){const n=["return (function() ","十字颜色","736164Rtfckg","pos-z.jpg","TresTorusKnotGeometry","12250854mzizQA","chain","gridFloor","log","35980qCAfuv","addBinding","console","十字大小","init","info","exception","call","neg-y.jpg","action","stateObject","resource.cos","bind","18462400jxGYPq","constructor",'{}.constructor("return this")( )',"3AGVAWW","string","test","#ffffff","neg-z.jpg","gger","trace","uCross","neg-x.jpg","十字厚度","2497468BcgHrS","TresAmbientLight","#ef57ff","table","pos-y.jpg","399932cerybE","/images/skyBox/6jpg/","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresCanvas","apply","function *\\( *\\)","counter","debu","toString","while (true) {}","path","prototype","input","crossColor","地板颜色","TresMesh","gridColor","length","15NNioCc","pos-x.jpg","#000000","1401846TvpioU","crossThickness","floorColor","gridThickness","2048Kutcls"];return(U=function(){return n})()}!function(){F(this,(function(){const n=_,t=new RegExp(n(270)),r=new RegExp(n(267),"i"),o=S(n(238));t.test(o+n(297))&&r[n(252)](o+n(277))?S():o("0")}))()}();const z=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[_(269)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();z(void 0,(function(){const n=_,t=function(){const n=_;let t;try{t=Function(n(291)+n(249)+");")()}catch(r){t=window}return t}(),r=t.console=t[n(236)]||{},o=[n(233),"warn",n(239),"error",n(240),n(263),n(256)];for(let e=0;e<o[n(282)];e++){const t=z[n(248)][n(276)][n(246)](z),i=o[e],s=r[i]||t;t.__proto__=z[n(246)](z),t[n(273)]=s.toString[n(246)](s),r[i]=t}}))();const G=s({__name:D(232),setup(n){const t=D,s=v({alpha:!0,toneMapping:r,windowSize:!0,clearColor:3355443}),c=v({enableDamping:!0,autoRotate:!1}),a=v({gridColor:t(253),crossColor:t(262),floorColor:t(285),gridThickness:.02,crossThickness:.03,uCross:.29}),w=new i;return w[t(235)](a,t(281),{label:"网格颜色"}),w[t(235)](a,t(289),{label:"网格厚度",min:.01,max:1,step:.01}),w[t(235)](a,t(278),{label:t(292)}),w.addBinding(a,t(287),{label:t(259),min:.01,max:1,step:.01}),w[t(235)](a,t(257),{label:t(237),min:.01,max:1,step:.01}),w[t(235)](a,t(288),{label:t(279)}),(n,r)=>{const i=t,v=g(i(268));return u(),p(v,x(s,{"window-size":""}),{default:h((()=>[r[0]||(r[0]=l("TresPerspectiveCamera",{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),m(C(o),f(d(c)),null,16),r[1]||(r[1]=l(i(261),{intensity:.5},null,-1)),r[2]||(r[2]=l("TresDirectionalLight",{position:[15,15,15],intensity:1},null,-1)),r[3]||(r[3]=l(i(280),{position:[0,.5,0],scale:.2},[l(i(295),{args:[1,.35,100,32]}),l("TresMeshStandardMaterial",{color:"#ff33ff",roughness:0,metalness:1})],-1)),m(A,f(d(a)),null,16),(u(),p(y,null,{default:h((()=>[m(C(e),{files:[i(284),i(258),i(264),i(242),i(294),i(254)],path:"https://opensource.cdn.icegl.cn"+i(266)},null,8,[i(275)])])),_:1}))])),_:1},16)}}});function S(n){function t(n){const r=_;if(typeof n===r(251))return function(n){}[r(248)](r(274))[r(269)](r(271));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(r(272)+r(255))[r(241)](r(243)):function(){return!1}[r(248)](r(272)+r(255))[r(269)](r(244)),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{G as default};
