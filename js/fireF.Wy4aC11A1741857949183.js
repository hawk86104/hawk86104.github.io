var t,e,s,i,n,r,a,o,c,h,l,u,p,m,f,d,w,S,g=Object.defineProperty,y=(t,e,s)=>(((t,e,s)=>{e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as v}from"./pagesShow.vue_vue_type_script_setup_true_lang.4fHiNYbx1741857949183.js";import{_ as x,V as I,b as P,M as T,c as F,bR as A,B as b,l as z,cw as R,v as E,aX as O,ar as V,C as q,a2 as C}from"./three.Gi_-4zeu1741857949183.js";import{m as M,e as N}from"./@tresjs.8SAr0PX_1741857949183.js";import{d as _,b as U,a2 as B,o as D,f as j,g as X,j as W}from"./@vue.NRI7TcgI1741857949183.js";import"./three-custom-shader-material.5E9LrdfZ1741857949183.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";const Y=Q;!function(t,e){const s=Q,i=Z();for(;;)try{if(825905===parseInt(s(456))/1+parseInt(s(708))/2*(parseInt(s(809))/3)+parseInt(s(501))/4*(parseInt(s(751))/5)+-parseInt(s(499))/6+-parseInt(s(593))/7+parseInt(s(798))/8*(-parseInt(s(654))/9)+-parseInt(s(829))/10*(-parseInt(s(673))/11))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const J=class{constructor(t){this[Y(745)]=t}};t=Y(647),y(J,t,new J(Y(647))),y(J,"Sequence",new J("Sequence"));let L=J;class k{constructor(){this[Y(555)]()}[Y(555)](){const t=Y;this[t(514)]=L.Time,this[t(531)]=1,this[t(817)]=0,this[t(837)]=new(x[t(707)]),this[t(506)]=new(x[t(594)]),this[t(618)]=new(x[t(594)]),this[t(856)]=new(x[t(594)]),this[t(630)]=new(x[t(594)]),this[t(703)]=0,this[t(664)]=0,this[t(468)]=new I,this.color=new(x[t(587)]),this[t(796)]=1,this.initialSize=new(x[t(644)]),this.initialColor=new(x[t(587)]),this[t(716)]=1}[Y(479)](t,e,s,i,n,r,a,o,c,h,l,u,p,m,f,d){const w=Y;this[w(514)]=t,this.lifetime=e,this[w(817)]=s,this[w(837)].copy(i),this[w(506)][w(413)](n),this[w(618)][w(413)](r),this[w(856)][w(413)](a),this.normal[w(413)](o),this[w(703)]=c,this[w(664)]=h,this[w(468)]=l,this[w(480)][w(413)](u),this[w(796)]=p,this[w(451)].copy(m),this[w(635)][w(413)](f),this[w(716)]=d}[Y(421)](t){const e=Y;t[e(479)](this[e(514)],this[e(531)],this.age,this[e(837)],this[e(506)],this[e(618)],this[e(856)],this[e(630)],this[e(703)],this.rotationalSpeed,this[e(468)],this[e(480)],this[e(796)],this.initialSize,this[e(635)],this[e(716)])}copy(t){const e=Y;this[e(479)](t[e(514)],t[e(531)],t[e(817)],t[e(837)],t.position,t[e(618)],t[e(856)],t[e(630)],t[e(703)],t.rotationalSpeed,t[e(468)],t[e(480)],t.alpha,t[e(451)],t[e(635)],t[e(716)])}}class G{constructor(){y(this,e,function(){const t=Y,e=new(x[t(594)]);return function(s=new(x[t(679)]),i=null){const n=t,r=s[n(685)],a=s[n(732)];for(let t=0;t<this[n(605)];t++){const s=this[n(500)](t);let o=s[n(506)];i&&(e.copy(o),e[n(783)](i),o=e);const c=Math[n(732)](s[n(468)].x,s.size.y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return s}}()),y(this,s,function(){const t=Y,e=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){e(this,(function(){const t=Q,e=new RegExp(t(558)),s=new RegExp(t(641),"i"),i=jt(t(555));e.test(i+t(513))&&s[t(624)](i+t(492))?jt():i("0")}))()}();const s=new(x[t(594)]),i=new P,n=new(x[t(594)]);return function(e=new(x[t(681)]),r=null){const a=t;let o=0;for(let t=0;t<this[a(605)];t++){const e=this[a(500)](t);let c=e[a(506)];r&&(n[a(413)](c),n.applyMatrix4(r),c=n);const h=Math[a(732)](e[a(468)].x,e[a(468)].y);if(0==t)s[a(413)](c),o=h;else{i[a(413)](c)[a(457)](s);const t=i.length()+h;if(t>o){const e=(t-o)/2;i[a(851)]()[a(590)](e),s.add(i),o+=e}}}return e[a(441)][a(413)](s),e[a(741)]=o,e}}());const t=Y;this[t(613)]=0,this.activeParticleCount=0,this[t(712)]=[]}init(t){this[Y(756)](t)}[Y(756)](t){const e=Y;this.particleCount!=t&&(this[e(448)](),this.allocate(t)),this.particleCount=t}setActiveParticleCount(t){this.activeParticleCount=t}[Y(617)](t){const e=Y;this[e(712)]=[],this[e(613)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new k}dispose(){}[Y(717)](){return this[Y(613)]}flushParticleStateToBuffers(){}copyState(t,e){const s=Y;if(t>=this[s(613)])throw new Error(s(693));if(e>=this.particleCount)throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const i=this[s(712)][t],n=this[s(712)][e];i[s(421)](n)}setState(t,e){const s=Y;if(t>=this[s(613)])throw new Error('ParticleStateArray::setState() -> "index" is out of range.');return this.particleStates[t][s(413)](e)}[Y(500)](t){const e=Y;if(t>=this[e(613)])throw new Error(e(633));return this[e(712)][t]}}function Z(){const t=["setAll","color","tempUp","light","progressTypes","VertexVars","#include <common>","typeIDGen","fromArray","maxParticleCount","renderOrder","getElementCount","initialSizes","input","void main() { \n","warn","rangePhi","localT","lowerIndex","uniforms","6512634VnlfYa","getState","6352QAygCP","onUpdate",'ParticleSystem::getParticleState() -> "index" is out of range.',"intensityFlux","needsUpdate","position","componentContainer","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","setVisibile","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","updateWorldMatrix","loadJSONParameter","chain","progressType","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","rotations","copyState","castShadow","cameraFar","load","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","advanceActiveParticles","jsonTypeNames","particleSystems","varying vec3 vFragColor;\n","PointLight","initialAlphas","decay","checkAndAddTypeName","splice","lifetime","verticesPerParticle","   } \n","getTexturePath","gger","getSizes","addElements","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","setTransformInitialDirectionInWorldSpace","addComponent","BufferGeometry","autoClear",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"attribute vec4 particlePosition;\n","emissionRate","initialized","Done","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","TextureLoader","internalUpdate","frustumCulled","addFrameSet","interpolateFrames","createMaterial","init","lifetimes","generator","function *\\( *\\)","setSimulateInWorldSpace","activeCount","far","attribute vec2 baseUV;\n","addElementsFromElementClassAndParameters","speed","offsetPhi","attribute vec4 sequenceElement;\n","setEmitter","constructor","counter","   int sequenceStart = int(sequenceElement.z);\n","trace","addNamespace","object","blending","interpolator","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","framesets","attribute float rotation;\n","   float rightSide; \n","timeScaledVelocity","bind","loop","onUpdateCallback","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","FragmentVars","       float uLeftV = rotVecStep.x; \n","Color","emitCount","offsetY","multiplyScalar","speedRange","NotStarted","9265438tNayVq","Vector3","bias","apply","basePositions","positions","sin","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","getParticleState","parent","rangeTheta","join","activeParticleCount","addParticleStateInitializer","setXYZ","OneMinusSrcAlphaFactor","   const vec2 uLeft = vec2(-1.0, 1.0);\n","update","getFragmentShader","getTypePath","particleCount","uniformRange","NormalBlending","emissionMinimum","allocate","velocity","edgeRadius","scaleZ","calculatingBoundingSphereFromBox","operators","maximumActiveParticles","test","activateParticles","setX","__proto__","directionGenerator","startupTime","normal","interpolationElements","setUsage",'ParticleStateArray::getState() -> "index" is out of range.',"offsetZ","initialColor","getSequence","getSimulateInWorldSpace","getInterpolatedValue","getEmitter","getPositions","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","value","Vector2","cameraNear","       float uRightV = rotVecStep.z; \n","Time","attribute vec3 color;\n","outType","action","   const vec2 left = vec2(-1.0, 0.0);\n","console","currentSrc","286929KQPubI","height","emissionDuration","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","element","setActiveParticleCount","getSequenceIDs","Sequence","set","getParticleSystemRenderer","rotationalSpeed","setParticleSequences","lastIntensityFlickerTime","addTypeToNamespace","setXY","uniform sampler2D atlasTexture;\n","getInterpolationValuesForTValue","type","outTypeID","8433216nxlNdm","sizes","   vFragColor = color; \n","AdditiveBlending","sequenceElements",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"Box3","getMaximumActiveParticles","Sphere","clone","mapSize","randomGenerator","min","alphas","camera","map","Default","  \n #include <logdepthbuf_pars_vertex> \n","activateParticle","#include <common> \n",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"JSONTypeStore::addTypeToNamespace() -> typeName already exists","now","substr","getRotations","scaleY","getParticleStateOperatorCount","shadow","simulateInWorldSpace","customIndexes","rotation","ParticleSystem::init() -> trying to intialize more than once.","   float atlasFrameWidth = atlasFrames.z; \n","addParticleSystem","Vector4","100SJYYoT","lastIntensityAdjuster","advanceActiveParticle","assign","particleStates","emitter","Additive","instanced","initialAlpha","getParticleCount","particleStateOperators","components","stateAcceleration","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","   \n  #include <logdepthbuf_vertex> \n","getParticleStateInitializerCount","BufferAttribute","rotationalSpeeds","rangeRadius","addType","relativeToInitialValue","particleStateInitializers","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","getVisible","max","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","   float upperSide; \n","___photonsTypeID","getTypeNames","getInterpolatorForTypeID","colors","texturePath","add","radius","indexOf","       upperSide = baseUV.y; \n","addParticleStateOperator","name","setRGB","jsonTypes","   vec4 color2 = color1; \n","ages","JSONTypeStore::addNamespace() -> namespace already exists","1840PtYUgw","getParticleStateOperator","toString","flushParticleStateToBuffers","v4v","setParticleCount","lastPositionAdjuster","   if (instanced != 1) { \n","uniformOffset","addParticleSequence","parseNamespaceAndTypename","addElementsFromParameters","getSequenceElements","floor","getVertexShader","lastUpdateTime","invert","call","table","instanceCount","render","boundingSphere","exception","copyParticleInArray","getParticleSequences","Shader","setOwner","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","particleSequences","getColors","setState","normals","applyMatrix4","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","material","hasID","range","sqrt","length","addSequence","interpolateAtlasFrames","width","mesh","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","   vec2 rotVec; \n","alpha","InstancedBufferAttribute","176fiPFwc","getParticleStateArray","particleSystemRenderer","       rotVec = position.xy; \n ","parseTypeString","initializers","getInterpolatedElement","accelerations","   } else { \n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","baseUVs","97233jKtbae","frameSets","boundingBox","systemState","addElement","particleEmitter","computeBoundingBox","owner","age","start","timeScaledAcceleration","setXYZW","   vFragAlpha = alpha; \n","split","   float atlasFrameX = atlasFrames.x; \n","   float uvYOffset = atlasFrameHeight * upperSide; \n","   const vec2 dRight = vec2(1.0, -1.0);\n","generateForElement","   gl_FragColor.a *= vFragAlpha; \n","particleStateArray","10ZqBvzG","positionAdjuster","reverse","varying float vFragAlpha;\n","info","hasOwnProperty","   vec2 uv2; \n","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","sequenceElement","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","   float atlasFrameHeight = atlasFrames.w; \n","offsetX","Renderer::init() -> trying to intialize more than once.","string","getTValue","   if (simulateInWorldSpace == 1) { \n","Paused","   vec2 uv1; \n","   float sequenceElementF = sequenceElement.x;\n","DynamicDrawUsage","emissionMaximum","renderer","normalize","upperIndex","JSONTypeStore::getType() -> typeName does not exist","timeActive","       rightSide = step(2.0, customIndex); \n","acceleration","transformInitialDirectionInWorldSpace","emissionRelativeStartTime","getLight",'ContinuousArray::getTValue() -> "index" is out of bounds.',"varying vec2 vUV1;\n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","       float dRightV = rotVecStep.w - rotVecStep.z; \n","calculateBoundingSphereFromBox","nextIntensityAdjuster","       rightSide = baseUV.x; \n","toArray","offset","params","typeName","   vec4 viewPosition; \n","   const vec2 right = vec2(1.0, 0.0);\n","baseUV","texture","getFrameSetCount","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","customIndex","visible","fromJSON","getParameterJSON","geometry","Object3D","   const vec2 dLeft = vec2(-1.0, -1.0);\n","uniformsNeedUpdate","void main()\n","   int nRowYTile = int(SNOverHS);\n","getTexture","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","offsetRadius","intensity","   const vec2 down = vec2(0.0, -1.0);\n","varying vec2 vUV2;\n","getComponent","copy","transformDirection","uniform int simulateInWorldSpace; \n","const int MAX_ATLAS_FRAME_SETS = 16; \n","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","computeBoundingSphere","getGeometry","getParticleStates","copyTo","   int firstSequenceElement = int(sequenceElementF); \n","attribute vec2 size;\n","currentTime","data","sequences","   }  else { \n","generate","emitterInitialized","initializeState","getTypeID","scaleX","elements","setBoundingSphere","toJSON","Normal","normalizeDirection","startTime","getParticleStateInitializer","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","center","atlas","updateEmitCount","getElement","velocities","speedGenerator","tValue","dispose","updateBounds","getType","initialSize","Mesh","particlePosition","offsetTheta","setAttribute","964770OVaElG","sub","ids","tValues","stateVelocity","clamp","initialColors","getFrameSet","random","updateState","setBoundingBox","elementTypeID","size","matrixWorld","varying float vSequenceElementT; \n","ParticleSequenceGroup::getSequence -> Invalid ID.","updateMeshBounds","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","push","Running","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","iterator","return (function() "];return(Z=function(){return t})()}e=Y(815),s=Y(418);class H{constructor(t,e,s=0){const i=Y;this[i(818)]=t,this[i(789)]=e,this.id=s}}class ${constructor(){const t=Y;this[t(426)]={},this[t(458)]=[]}[Y(790)](t,e,s){const i=Y;if(this[i(786)](s))throw new Error(i(440));const n=new H(t,e,s);return this[i(426)][s]=n,this[i(458)][i(474)](s),n}getSequence(t){const e=Y;if(!this[e(786)](t))throw new Error(e(471));return this[e(426)][t]}getSequenceIDs(){return this.ids}hasID(t){return!!this[Y(426)][t]}}class K{constructor(){}[Y(430)](t){const e=Y;t[e(635)].set(1,1,1),t[e(451)][e(662)](1,1),t[e(716)]=1,t.progressType=L[e(647)],t.lifetime=0,t[e(817)]=0,t.sequenceElement[e(662)](0,0,0,0),t[e(506)][e(662)](0,0,0),t[e(618)][e(662)](0,0,0),t.acceleration[e(662)](0,0,0),t.normal[e(662)](0,0,1),t[e(703)]=0,t[e(664)]=0,t.size[e(413)](t[e(451)]),t[e(480)][e(413)](t[e(635)]),t[e(796)]=1}}function Q(t,e){const s=Z();return(Q=function(t,e){return s[t-=407]})(t,e)}class tt extends K{constructor(){super()}[Y(430)](t){super[Y(430)](t)}}class et{constructor(){}[Y(465)](){}}class st extends et{constructor(){const t=Y;super(),this[t(580)]=new(x[t(594)]),this[t(819)]=new(x[t(594)]),this.stateAcceleration=new P,this[t(460)]=new P}updateState(t,e){const s=Y;return super[s(465)](t,e),this[s(720)][s(413)](t.acceleration),this[s(819)].copy(this.stateAcceleration),this[s(819)][s(590)](e),t[s(618)].add(this.timeScaledAcceleration),this[s(460)][s(413)](t[s(618)]),this[s(580)][s(413)](this.stateVelocity),this[s(580)].multiplyScalar(e),t[s(506)][s(740)](this.timeScaledVelocity),t[s(817)]=t[s(817)]+e,t[s(703)]=t.rotation+e*t[s(664)],!0}}class it{static[Y(461)](t,e,s){const i=Y;return Math.min(Math[i(732)](t,e),s)}static[Y(424)](){return performance[Y(695)]()/1e3}}class nt{constructor(){this[Y(719)]=[]}[Y(540)](t){const e=Y;this[e(719)][e(474)](t)}[Y(610)](t,e){for(const s of this.components)s.update(t,e)}[Y(412)](t){const e=Y;if(t>=this[e(719)][e(789)])throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(719)][t]}}const rt=class{constructor(t){this[Y(745)]=t}};i=Y(592),n=Y(475),r=Y(845),a=Y(547),y(rt,i,new rt(Y(592))),y(rt,n,new rt(Y(475))),y(rt,r,new rt(Y(845))),y(rt,a,new rt(Y(547)));let at=rt;class ot{constructor(t,e){y(this,o,function(){const t=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Q(596)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();t(this,(function(){const e=Q;let s;try{s=Function(e(478)+'{}.constructor("return this")( ));')()}catch(r){s=window}const i=s[e(652)]=s[e(652)]||{},n=["log",e(494),e(833),"error",e(773),e(769),e(571)];for(let a=0;a<n[e(789)];a++){const s=t[e(568)].prototype[e(581)](t),r=n[a],o=i[r]||s;s[e(627)]=t[e(581)](t),s[e(753)]=o.toString.bind(o),i[r]=s}}))();const e=new T;return function(){const t=Q;let s=null;this[t(857)]&&(s=e,s.copy(this[t(816)][t(469)])[t(767)]()),this.particleSystemRenderer[t(621)]()?(this[t(712)][t(815)](this[t(811)],s),this.particleSystemRenderer[t(466)](this[t(811)])):(this[t(712)][t(418)](this.boundingSphere,s),this[t(800)][t(434)](this[t(772)]))}}());const s=Y;this[s(816)]=t,this.owner[s(878)]=!1,this.visible=!0,this.particleSystemRenderer=e,this[s(546)]=!1,this[s(623)]=0,this[s(605)]=0,this.simulateInWorldSpace=!0,this[s(429)]=!1,this[s(814)]=null,this.componentContainer=new nt,this.particleStateInitializers=[],this[s(718)]=[],this.particleStates=null,this[s(812)]=at[s(592)],this.particleSequences=new $,this[s(583)]=null,this.transformInitialDirectionInWorldSpace=!0,this[s(811)]=new(x[s(679)]),this[s(772)]=new(x[s(681)])}init(t){const e=Y;if(this[e(546)])throw new Error(e(704));this.maximumActiveParticles=t,this.particleSystemRenderer?(this.particleSystemRenderer[e(777)](this[e(816)]),this[e(800)][e(555)](this.maximumActiveParticles,this.simulateInWorldSpace),this.particleSystemRenderer[e(559)](this.simulateInWorldSpace),this[e(712)]=this.particleSystemRenderer[e(799)]()):(this[e(712)]=new G,this[e(712)][e(555)](this.maximumActiveParticles)),this[e(606)](new tt),this.addParticleStateOperator(new st),this[e(546)]=!0}[Y(731)](){return this[Y(878)]}[Y(509)](t){return this[Y(878)]=t}[Y(502)](t){this[Y(583)]=t}update(t,e){const s=Y;if(this[s(812)]==at[s(475)]){if(this.owner[s(511)](!0),t=null==t||null==t?it.currentTime():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(429)]&&this[s(812)]==at[s(475)]){const t=this[s(814)][s(610)](e);t>0&&this[s(625)](t),this[s(522)](e),this[s(583)]&&this[s(583)](this[s(605)]),this[s(449)]()}this[s(507)][s(610)](t,e),this[s(766)]=t}}[Y(771)](t,e){const s=Y;if(this[s(731)]()&&this[s(800)]){const i=t[s(542)];t.autoClear=!1,this[s(816)][s(878)]=!0,this[s(816)].matrixWorldNeedsUpdate=!0,this.particleSystemRenderer[s(771)](this[s(816)],t,e),this.owner[s(878)]=!1,t[s(542)]=i}}[Y(818)](){const t=Y;this[t(812)]!=at[t(592)]&&this[t(812)]!=at.Paused||(this.systemState=at[t(475)],this[t(438)]=it[t(424)](),this.lastUpdateTime=this.startTime)}pause(){const t=Y;this[t(812)]==at[t(475)]&&(this[t(812)]=at[t(845)])}stop(){}getSystemState(){return this[Y(812)]}[Y(567)](t){const e=Y;return this[e(814)]=t,this.particleEmitter[e(623)]=this[e(623)],this[e(429)]=!0,this[e(814)]}[Y(540)](t){const e=Y;this[e(507)][e(540)](t)}getComponent(t){const e=Y;return this[e(507)][e(412)](t)}[Y(606)](t){const e=Y;return this[e(729)][e(474)](t),t}getParticleStateInitializerCount(){const t=Y;return this.particleStateInitializers[t(789)]}getParticleStateInitializer(t){const e=Y;if(t>=this.particleStateInitializers[e(789)])throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this[e(729)][t]}[Y(744)](t){return this[Y(718)].push(t),t}[Y(699)](){const t=Y;return this[t(718)][t(789)]}[Y(752)](t){const e=Y;if(t>=this[e(718)][e(789)])throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(718)][t]}[Y(680)](){return this[Y(623)]}getActiveParticleCount(){return this[Y(605)]}[Y(601)](t){const e=Y;if(t>=this[e(605)])throw new Error(e(503));return this.particleStates[e(500)](t)}[Y(420)](){return this[Y(712)]}[Y(663)](){return this.particleSystemRenderer}[Y(637)](){return this[Y(701)]}[Y(559)](t){const e=Y;this[e(701)]=t,this[e(800)]&&this[e(800)][e(559)](this[e(701)])}[Y(539)](t){this[Y(857)]=t}[Y(760)](t,e,s=0){this.particleSequences.addSequence(t,e,s)}[Y(775)](){return this[Y(779)]}getEmitter(){return this.particleEmitter}[(o=Y(449),Y(625))](t){const e=Y;if(this[e(812)]==at.Running){const s=it[e(461)](this[e(605)]+t,0,this[e(623)]);for(let t=this.activeParticleCount;t<s;t++)this[e(691)](t);this[e(605)]=s,this[e(712)][e(659)](this[e(605)])}}[Y(691)](t){const e=Y;if(this[e(812)]==at[e(475)]){const s=this.particleStates[e(500)](t);s[e(817)]=0;for(let t=0;t<this.particleStateInitializers[e(789)];t++){this[e(729)][t].initializeState(s)}if(this[e(701)]){s[e(506)][e(783)](this[e(816)].matrixWorld);const t=s.velocity[e(789)]();if(this.transformInitialDirectionInWorldSpace){s.velocity[e(414)](this[e(816)][e(469)])[e(590)](t);const i=s[e(856)].length();s[e(856)][e(414)](this[e(816)][e(469)]).multiplyScalar(i)}}this[e(712)].flushParticleStateToBuffers(t)}}advanceActiveParticles(t){const e=Y;if(this[e(812)]==at[e(475)]){let s=0;for(;s<this.activeParticleCount;){this[e(710)](s,t)?s++:(s<this[e(605)]-1&&this[e(774)](this[e(605)]-1,s),this[e(605)]--)}this[e(712)][e(659)](this[e(605)])}}[Y(710)](t,e){const s=Y;if(this[s(812)]==at[s(475)]){const i=this[s(712)][s(500)](t);for(let t=0;t<this.particleStateOperators[s(789)];t++){const n=this[s(718)][t][s(465)](i,e),r=i.lifetime;if(!n||0!=r&&i.age>=r)return!1}return this[s(712)][s(754)](t),!0}return!1}[Y(774)](t,e){const s=Y;this.particleStates[s(517)](t,e),this[s(712)][s(754)](e)}static[Y(879)](t,e,s){const i=Y,n=(t,e,s)=>{const i=Q;e(t);for(const r in t)if(t[i(834)](r)){const s=t[r];typeof s===i(573)&&n(s,e)}};n(t,(t=>{const s=Q;t[s(671)]&&(t[s(671)]=e[s(802)](t[s(671)]))}));const r=t[i(488)],a=t[i(701)],o=t[i(850)],c=o[i(671)][i(879)](o[i(869)]),h=new(x[i(882)]),l=new ot(h,c,s);l[i(555)](r),l[i(559)](a);const u=t[i(713)],p=u[i(671)].fromJSON(u[i(869)]);if(l[i(567)](p),t[i(426)])for(const m of t[i(426)])l[i(760)](m[i(818)],m[i(789)],m.id);if(t[i(803)])for(const m of t[i(803)])l[i(606)](m[i(671)][i(879)](l,m[i(869)]));if(t[i(622)])for(const m of t.operators){const t=l.addParticleStateOperator(m[i(671)].fromJSON(l,m[i(869)]));m[i(433)]&&t.addElementsFromParameters(m[i(433)])}return[l,h]}[Y(435)](t){const e=Y,s=this[e(663)](),i=this[e(639)](),n=this[e(775)](),r=n.getSequenceIDs()[e(688)]((t=>{const s=e,i=n[s(636)](t);return{id:t,start:i[s(818)],length:i[s(789)]}})),a=[],o=this[e(723)]();for(let l=0;l<o;l++){const s=this[e(439)](l);s[e(568)]!==tt&&a[e(474)]({type:t[e(612)](s[e(568)]),params:s[e(435)](t)})}const c=[],h=this[e(699)]();for(let l=0;l<h;l++){const s=this[e(752)](l);if(s[e(568)]!==st){const i=s[e(435)](t),n=i[e(869)]||i,r=i[e(869)]?i[e(433)]:null,a={type:t[e(612)](s[e(568)]),params:n};r&&(a[e(433)]=r),c[e(474)](a)}}return{maxParticleCount:this[e(680)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(612)](s[e(568)]),params:s[e(435)]()},emitter:{type:t[e(612)](i[e(568)]),params:i[e(435)]()},sequences:r,initializers:a,operators:c}}}class ct{constructor(){const t=Y;this[t(524)]=[],this[t(629)]=performance.now()/1e3,this[t(766)]=this[t(629)],this[t(507)]=new nt}[Y(610)](){const t=Y,e=it.currentTime(),s=e-this.lastUpdateTime;for(const i of this.particleSystems)i[t(610)](e,s);this[t(507)][t(610)](e,s),this[t(766)]=e}[Y(771)](t,e){const s=Y;for(const i of this[s(524)])i[s(771)](t,e)}[Y(706)](t){const e=Y;this.particleSystems[e(474)](t)}[Y(540)](t){const e=Y;this[e(507)][e(540)](t)}getComponent(t){const e=Y;return this.componentContainer[e(412)](t)}}class ht{constructor(){const t=Y;this.initialized=!1,this[t(613)]=0,this[t(816)]=null,this[t(701)]=!1}setSimulateInWorldSpace(t){this[Y(701)]=t}[Y(799)](){}[Y(777)](t){this[Y(816)]=t}init(t){const e=Y;if(this[e(613)]=t,!this[e(546)])return this[e(546)]=!0,!0;throw new Error(e(841))}[Y(771)](){}}class lt extends G{constructor(){const t=Y;super(),this[t(881)]=null,this[t(483)]=null,this[t(556)]=null,this[t(749)]=null,this[t(677)]=null,this[t(598)]=null,this[t(445)]=null,this[t(805)]=null,this[t(782)]=null,this.rotations=null,this[t(725)]=null,this.sizes=null,this.colors=null,this[t(491)]=null,this[t(462)]=null,this[t(715)]=!1,this[t(532)]=6}[Y(555)](t,e=!1){const s=Y;this[s(715)]=e,this[s(715)]?this[s(532)]=1:this[s(532)]=6,super.init(t),this.allocate(t)}[Y(756)](t){super[Y(756)](t)}setActiveParticleCount(t){const e=Y;super.setActiveParticleCount(t),t>0?this[e(715)]?this[e(881)][e(770)]=t:this[e(881)].setDrawRange(0,this[e(532)]*t):this.instanced?this[e(881)].instanceCount=0:this[e(881)].setDrawRange(0,0)}[Y(754)](t){const e=Y;if(t>=this.particleCount)throw new Error(e(543));const s=this[e(500)](t),i=t*this[e(532)];for(let n=0;n<this[e(532)];n++)this.lifetimes[e(626)](i+n,s.lifetime),this[e(556)][e(505)]=!0,this[e(749)][e(626)](i+n,s[e(817)]),this.ages[e(505)]=!0,this[e(677)][e(820)](i+n,s[e(837)].x,s[e(837)].y,s[e(837)].z,s[e(837)].w),this[e(677)][e(505)]=!0,this[e(598)][e(607)](i+n,s[e(506)].x,s[e(506)].y,s.position.z),this[e(598)][e(505)]=!0,this.velocities[e(607)](i+n,s[e(618)].x,s[e(618)].y,s[e(618)].z),this.velocities[e(505)]=!0,this[e(805)][e(607)](i+n,s[e(856)].x,s[e(856)].y,s[e(856)].z),this.accelerations[e(505)]=!0,this[e(782)][e(607)](i+n,s.normal.x,s[e(630)].y,s[e(630)].z),this.normals.needsUpdate=!0,this[e(516)].setX(i+n,s[e(703)]),this[e(516)].needsUpdate=!0,this[e(725)][e(626)](i+n,s[e(664)]),this[e(725)][e(505)]=!0,this[e(674)][e(668)](i+n,s[e(468)].x,s[e(468)].y),this.sizes.needsUpdate=!0,this[e(738)][e(607)](i+n,s.color.r,s.color.g,s[e(480)].b),this[e(738)][e(505)]=!0,this[e(686)][e(626)](i+n,s.alpha),this[e(686)][e(505)]=!0,this[e(491)].setXY(i+n,s[e(451)].x,s.initialSize.y),this[e(491)][e(505)]=!0,this[e(527)][e(626)](i+n,s[e(716)]),this[e(527)].needsUpdate=!0}[Y(517)](t,e){super[Y(517)](t,e),this.flushParticleStateToBuffers(e)}[Y(781)](t,e){const s=Y;if(t>=this[s(613)])throw new Error(s(678));super[s(781)](t,e),this[s(754)](t)}[Y(640)](){return this[Y(598)]}[Y(536)](){return this[Y(674)]}[Y(697)](){return this.rotations}[Y(763)](){return this.sequenceElements}[Y(780)](){return this.colors}[Y(419)](){return this[Y(881)]}[Y(617)](t){const e=Y;super.allocate(t);const s=(t,e)=>{const s=Q;return this.instanced?new(x[s(797)])(t,e):new(x[s(724)])(t,e)},i=this[e(532)]*this[e(613)];if(this[e(715)]){const t=new(x[e(541)]),s=new Float32Array(18);this.basePositions=new F(s,3),t[e(455)](e(506),this[e(597)]),this.basePositions.needsUpdate=!0,this[e(597)][e(607)](0,-1,1,0),this.basePositions[e(607)](1,-1,-1,0),this.basePositions[e(607)](2,1,1,0),this.basePositions[e(607)](3,-1,-1,0),this.basePositions[e(607)](4,1,-1,0),this[e(597)][e(607)](5,1,1,0);const i=new Float32Array(12);this.baseUVs=new(x[e(724)])(i,2),t.setAttribute(e(873),this.baseUVs),this[e(808)][e(505)]=!0,this[e(808)].setXY(0,0,1),this[e(808)][e(668)](1,0,0),this.baseUVs[e(668)](2,1,1),this.baseUVs.setXY(3,0,0),this[e(808)][e(668)](4,1,0),this[e(808)][e(668)](5,1,1);const n=new Float32Array(6);this[e(702)]=new(x[e(724)])(n,1),t.setAttribute("customIndex",this[e(702)]),this[e(702)][e(505)]=!0,this[e(702)].setX(0,0),this[e(702)][e(626)](1,1),this[e(702)][e(626)](2,3),this[e(702)][e(626)](3,1),this[e(702)][e(626)](4,2),this.customIndexes[e(626)](5,3),this[e(881)]=(new A)[e(413)](t),this[e(881)][e(770)]=0}else{this.geometry=new b;const t=new Float32Array(i);this[e(702)]=new F(t,1),this.geometry[e(455)](e(877),this[e(702)]),this.customIndexes.needsUpdate=!0;for(let s=0;s<this[e(613)];s++){const t=s*this[e(532)];this[e(702)].setX(t,0),this.customIndexes.setX(t+1,1),this[e(702)].setX(t+2,3),this.customIndexes.setX(t+3,1),this[e(702)].setX(t+4,2),this[e(702)].setX(t+5,3)}}const n=new Float32Array(i),r=new Float32Array(i),a=new Float32Array(4*i),o=new Float32Array(3*i),c=new Float32Array(3*i),h=new Float32Array(3*i),l=new Float32Array(3*i),u=new Float32Array(i),p=new Float32Array(i),m=new Float32Array(2*i),f=new Float32Array(3*i),d=new Float32Array(i),w=new Float32Array(2*i),S=new Float32Array(3*i),g=new Float32Array(i);this[e(598)]=s(o,3),this[e(598)][e(632)](x[e(848)]),this[e(881)][e(455)](e(453),this[e(598)]),this.lifetimes=s(n,1),this[e(556)].setUsage(x[e(848)]),this[e(881)].setAttribute(e(531),this[e(556)]),this[e(749)]=s(r,1),this[e(749)][e(632)](x[e(848)]),this.geometry[e(455)](e(817),this[e(749)]),this[e(677)]=s(a,4),this[e(677)][e(632)](x[e(848)]),this[e(881)].setAttribute(e(837),this[e(677)]),this[e(445)]=s(c,3),this[e(445)][e(632)](x[e(848)]),this[e(881)][e(455)]("velocity",this[e(445)]),this[e(805)]=s(h,3),this.accelerations.setUsage(x[e(848)]),this[e(881)][e(455)](e(856),this[e(805)]),this[e(782)]=s(l,3),this[e(782)][e(632)](x[e(848)]),this[e(881)][e(455)](e(630),this[e(782)]),this.rotations=s(u,1),this.rotations[e(632)](x[e(848)]),this[e(881)].setAttribute("rotation",this[e(516)]),this[e(725)]=s(p,1),this[e(725)][e(632)](x[e(848)]),this[e(881)][e(455)]("rotationalSpeed",this.rotationalSpeeds),this[e(674)]=s(m,2),this[e(674)].setUsage(x[e(848)]),this.geometry[e(455)]("size",this.sizes),this[e(738)]=s(f,3),this[e(738)][e(632)](x[e(848)]),this[e(881)][e(455)]("color",this[e(738)]),this[e(686)]=s(d,1),this.alphas[e(632)](x[e(848)]),this.geometry[e(455)](e(796),this[e(686)]),this[e(491)]=s(w,2),this[e(491)][e(632)](x[e(848)]),this.geometry.setAttribute(e(451),this[e(491)]),this.initialColors=s(S,3),this[e(462)].setUsage(x[e(848)]),this.geometry[e(455)](e(635),this[e(462)]),this[e(527)]=s(g,1),this.initialAlphas[e(632)](x[e(848)]),this[e(881)].setAttribute("initialAlpha",this.initialAlphas)}[Y(448)](){const t=Y;super[t(448)](),this[t(881)]&&(this[t(881)][t(448)](),this[t(881)]=null)}}class ut{constructor(t,e,s,i,n){const r=Y;this.length=t,this.x=e,this.y=s,this.width=i,this[r(655)]=n}}class pt{constructor(t,e){const s=Y;this[s(874)]=t,this[s(739)]=e,this.frameSets=[]}getTexture(){return this[Y(874)]}[Y(534)](){return this.texturePath}[Y(875)](){const t=Y;return this[t(810)][t(789)]}[Y(552)](t,e,s,i,n){const r=Y;this[r(810)][r(474)](new ut(t,e,s,i,n))}[Y(463)](t){const e=Y;if(t>=this.frameSets[e(789)])throw new Error('Atlas::getFrameSet -> "index" is out of range.');return this.frameSets[t]}}const mt=class t extends ht{constructor(t,e,s=!1,i=x[Y(615)],n=!0,r){const a=Y;super(),y(this,c,function(){const t=Y,e=new(x[t(594)]);return function(){const s=t,i=this[s(828)][s(419)]();if(this.calculateBoundingSphereFromBox){i.boundingBox||(i[s(811)]=new(x[s(679)])),i.boundingBox[s(413)](this[s(811)]),!i[s(772)]&&(i[s(772)]=new(x[s(681)])),e.x=(this[s(811)][s(685)].x+this[s(811)][s(732)].x)/2,e.y=(this[s(811)][s(685)].y+this[s(811)][s(732)].y)/2,e.z=(this[s(811)].min.z+this[s(811)].max.z)/2;const t=this[s(811)][s(732)].x-e.x,n=this[s(811)][s(732)].y-e.y,r=this[s(811)][s(732)].z-e.z,a=Math[s(732)](Math[s(732)](t,n),r);i[s(772)][s(441)][s(413)](e),i[s(772)][s(741)]=Math[s(788)](2*a*a)}else i[s(772)]||(i[s(772)]=new(x[s(681)])),i[s(772)].copy(this[s(772)])}}()),this[a(715)]=t,this[a(828)]=null,this[a(785)]=null,this[a(793)]=null,this.atlas=e,this.interpolateAtlasFrames=s,this[a(574)]=i,this.boundingBox=new(x[a(679)]),this[a(772)]=new(x[a(681)]),this[a(864)]=n,this[a(489)]=r}setOwner(t){super[Y(777)](t)}[Y(799)](){return this[Y(828)]}[Y(559)](t){const e=Y;super[e(559)](t),this[e(785)]&&(this[e(785)][e(498)][e(701)][e(643)]=t?1:0,this.material[e(884)]=!0)}calculatingBoundingSphereFromBox(){return this.calculateBoundingSphereFromBox}[Y(466)](t){const e=Y;this[e(811)][e(413)](t),this[e(793)]&&this[e(472)]()}[Y(434)](t){const e=Y;this[e(772)][e(413)](t),this.mesh&&this.updateMeshBounds()}[Y(771)](t,e,s){e[Y(771)](t,s)}init(t){const e=Y;super.init(t)&&(this[e(828)]=new lt,this[e(828)].init(t,this[e(715)]),this[e(785)]=this[e(554)](null,null,null,!0,!1),this.material.blending=this.blending,this[e(793)]=new(x[e(452)])(this[e(828)].getGeometry(),this.material),this[e(793)][e(551)]=!0,void 0!==this[e(489)]&&(this[e(793)][e(489)]=this[e(489)]),this[e(472)](),this[e(816)][e(740)](this[e(793)]))}dispose(){this[Y(828)].dispose()}[(c=Y(472),Y(554))](e,s,i,n,r){const a=Y,o=[...Array(16).keys()][a(688)]((t=>new(x[a(707)])));if(this[a(442)])for(let t=0;t<this[a(442)].getFrameSetCount();t++){const e=this.atlas[a(463)](t);o[t]=new(x[a(707)])(e.x,e.y,e[a(792)],e[a(655)])}const c=this[a(442)]?this[a(442)][a(887)]():null,h=this.interpolateAtlasFrames,l=this[a(701)],u=this.instanced?1:0,p={atlasFrameSet:{type:a(755),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(x[a(644)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return i=i||{},Object[a(711)](i,p),e=e||t[a(776)][a(765)](r),s=s||t[a(776)][a(611)](n,r),new z({uniforms:i,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:R,blendDstAlpha:x[a(608)],blendSrcAlpha:E,depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=Y,i=e.atlas,n=(new(x[s(549)]))[s(520)](i[s(739)]),r=new pt(n,i[s(739)]),a=i[s(577)];for(const t of a)r[s(552)](t[s(789)],t.x,t.y,t.width,t[s(655)]);const o=new t(e.instanced,r,i[s(553)]);return"Additive"==e.blending?o.blending=x[s(676)]:o.blending=x[s(615)],o}[(h=Y(776),Y(435))](t){const e=Y;t=t||(t=>{const e=Q;if(t[e(739)])return t.texturePath;const s=t.getTexture().source;if(s){const t=s[e(425)];if(t){const s=t.baseURI,i=t[e(653)];return i[e(742)](s)>=0?i[e(696)](s[e(789)],i[e(789)]-s[e(789)]):i}}});const s=[];for(let n=0;n<this[e(442)][e(875)]();n++){const t=this.atlas[e(463)](n);s[e(474)](t)}let i=e(436);this[e(785)][e(574)]===O&&(i=e(714));return{instanced:this[e(715)],blending:i,atlas:{interpolateFrames:this[e(791)],texturePath:t(this[e(442)]),framesets:s}}}};y(mt,h,{get VertexVars(){const t=Y;return[t(416),t(476),"uniform int interpolateAtlasFrames; \n",t(415),"uniform int instanced; \n",t(562),"attribute float customIndex;\n",t(544),t(578),t(423),t(566),t(648),"attribute float alpha;\n",t(861),t(411),"varying vec3 vFragColor;\n",t(832),t(470)][t(604)]("\n")},get FragmentVars(){const t=Y;return["uniform int interpolateAtlasFrames; \n",t(669),"uniform vec2 uvOffset;\n",t(861),t(411),t(525),"varying float vFragAlpha;\n","varying float vSequenceElementT;\n"][t(604)]("\n")},getVertexShader(t){const e=Y;let s=[e(485),this[e(484)]][e(604)]("\n");return t&&(s+=e(690)),s+=[e(836),e(705),e(839),e(823),"   float atlasFrameY = atlasFrames.y; \n","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n",e(642),e(778),"   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(515),e(876),e(886),e(733),"   float nRowX = float(nRowXTile) * atlasFrameWidth;\n",e(584),e(521),"   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n",e(508),"} \n",e(885),"{\n",e(872),"   const vec2 up = vec2(0.0, 1.0);\n",e(651),e(410),"   const vec2 uRight = vec2(1.0, 1.0);\n",e(609),e(883),e(825),e(871),e(844),"       viewPosition = viewMatrix * particlePosition;\n",e(806),e(730),e(533),e(847),"   int sequenceNumber = int(sequenceElement.y);\n",e(570),"   int sequenceLength = int(sequenceElement.w);\n",e(838),e(846),e(835),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(422),e(417),e(576),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(510),"   } \n","   float atlasFrameWidth = atlasFrames.z; \n",e(839),"   float rotMag = rotation; \n",e(548),e(579),e(734),e(758),e(855),e(473),"       upperSide = upperSideStep.x + upperSideStep.y;\n",e(427),e(866),e(743),e(533),"   float uvXOffset = atlasFrameWidth * rightSide; \n",e(824),e(795),e(758),e(794),e(586),e(807),e(646),e(863),e(657),e(427),e(801),e(533),e(784),e(538),"   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n",e(675),e(821)].join("\n"),t&&(s+=e(722)),s+="} \n",s},getFragmentShader(t,e){const s=Y;let i=s(692)+this[s(585)]+"\n";return e&&(i+="  \n #include <logdepthbuf_pars_fragment> \n"),i+=s(493),e&&(i+="    \n  #include <logdepthbuf_fragment> \n"),i+=t?[s(407),s(748),s(600),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(827)][s(604)]("\n"):[s(862),s(748),s(600),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(827)][s(604)]("\n"),i+="}\n",i}});let ft=mt;class dt{constructor(){const t=Y;this.emissionRelativeStartTime=0,this[t(656)]=0,this[t(588)]=0,this.age=0,this[t(854)]=0,this[t(560)]=0,this[t(623)]=0}[Y(610)](t){return this[Y(550)](t),0}[Y(550)](t){const e=Y;return this[e(817)]+=t,this.timeActive=Math[e(732)](this[e(817)]-this[e(858)],0),this[e(817)]>=this.emissionRelativeStartTime&&(0==this[e(656)]||this[e(854)]<=emissionDuration)}updateEmitCount(t){this[Y(588)]+=t}}class wt extends dt{constructor(){const t=Y;super(),this[t(616)]=0,this[t(849)]=0}}class St extends wt{constructor(t=0){const e=Y;super(),this[e(545)]=t}update(t){const e=Y;if(this[e(550)](t)){const t=this[e(545)]*this[e(854)]-this.emitCount;if(t>=1){const s=Math[e(764)](t);return this[e(443)](s),s}}return 0}static[Y(879)](t){const e=Y,s=new St;return s[e(545)]=t[e(545)]||0,s}toJSON(){return{emissionRate:this.emissionRate}}}const gt=class t{constructor(t){this.name=t}static[(l=Y(689),u=Y(644),p=Y(594),m=Y(707),f=Y(587),Y(431))](e){const s=Y;let i=t[s(689)];return e===x[s(644)]?i=t[s(644)]:e===P?i=t.Vector3:e===V?i=t[s(707)]:e===x[s(587)]&&(i=t[s(587)]),i}static[Y(512)](t,e){const s=Y;switch(e){case I:return(new(x[s(644)]))[s(487)](t);case P:return(new P)[s(487)](t);case x[s(707)]:return(new V)[s(487)](t);case x[s(587)]:return(new(x[s(587)]))[s(487)](t)}return t}};y(gt,l,new gt(Y(689))),y(gt,u,new gt(Y(644))),y(gt,p,new gt(Y(594))),y(gt,m,new gt(Y(707))),y(gt,f,new gt(Y(587)));let yt=gt;class vt{constructor(t){const e=Y;this.outType=t,this[e(672)]=yt[e(431)](t)}}class xt extends vt{constructor(t,e,s,i,n,r){const a=Y;super(t),this.range=e,this[a(868)]=s,this[a(614)]=i,this[a(759)]=n,this.normalize=r}[Y(428)](t){const e=Y,s=Math[e(464)]()*this[e(614)];switch(this.outTypeID){case yt.Default:t=Math.random()*this[e(787)]+this[e(868)],this[e(851)]&&(t=t<0?-1:1);break;case yt[e(644)]:t[e(662)](this[e(826)](s,"x"),this[e(826)](s,"y"));break;case yt[e(594)]:t[e(662)](this[e(826)](s,"x"),this[e(826)](s,"y"),this[e(826)](s,"z"));break;case yt[e(707)]:t[e(662)](this[e(826)](s,"x"),this[e(826)](s,"y"),this[e(826)](s,"z"),this[e(826)](s,"w"))}return this.normalize&&t[e(851)](),t}generateForElement(t,e){const s=Y;return t+Math.random()*this[s(787)][e]+this.offset[e]+this[s(759)]}[Y(682)](){const t=Y;return new xt(this[t(649)],this[t(787)],this[t(868)],this.uniformRange,this[t(759)],this[t(851)])}static[Y(880)](t){const e=Y;return t instanceof x[e(644)]||t instanceof x[e(594)]||t instanceof x[e(707)]||t instanceof x[e(587)]?t.toArray():t}static[Y(879)](t){const e=Y;return new xt(t[e(671)],yt.loadJSONParameter(t[e(787)],t[e(671)]),yt.loadJSONParameter(t[e(868)],t[e(671)]),t[e(614)]||0,t[e(759)]||0,t[e(851)])}toJSON(t){const e=Y,s={range:xt.getParameterJSON(this[e(787)]),offset:xt.getParameterJSON(this[e(868)]),uniformRange:this[e(614)],uniformOffset:this[e(759)]},i=t[e(612)](this[e(787)][e(568)]);return null!=i&&(s.type=i),{type:t[e(612)](xt),params:s}}}class It extends K{constructor(t,e,s,i,n){const r=Y;super(),this[r(787)]=t,this[r(868)]=e,this[r(614)]=s,this.uniformOffset=i,this[r(851)]=n,this[r(557)]=new xt(0,this[r(787)],this[r(868)],this[r(614)],this[r(759)],this[r(851)])}[Y(430)](t){const e=Y;t[e(531)]=this[e(557)][e(428)]()}static[Y(879)](t,e){const s=Y;return new It(e[s(787)],e[s(868)],e[s(614)],e[s(759)],e[s(851)])}[Y(435)](){const t=Y;return{range:this[t(787)],offset:this[t(868)],uniformRange:this.uniformRange,uniformOffset:this[t(759)],normalize:this.normalize}}}class Pt extends K{constructor(t){const e=Y;super(),this[e(557)]=t[e(682)]()}[Y(430)](t){const e=Y;t[e(703)]=this[e(557)][e(428)](t.rotation)}static fromJSON(t,e){const s=Y,i=e[s(557)].type[s(879)](e[s(557)].params);return new Pt(i)}[Y(435)](t){const e=Y;return{generator:this[e(557)][e(435)](t)}}}class Tt extends K{constructor(t,e,s,i,n){const r=Y;super(),this[r(787)]=t,this[r(868)]=e,this.uniformRange=s,this[r(759)]=i,this[r(851)]=n,this[r(557)]=new xt(0,this.range,this[r(868)],this[r(614)],this.uniformOffset,this[r(851)])}[Y(430)](t){const e=Y;t.rotationalSpeed=this[e(557)].generate()}static[Y(879)](t,e){const s=Y;return new Tt(e[s(787)],e[s(868)],e[s(614)],e[s(759)],e[s(851)])}[Y(435)](){const t=Y;return{range:this[t(787)],offset:this.offset,uniformRange:this.uniformRange,uniformOffset:this[t(759)],normalize:this[t(851)]}}}class Ft extends K{constructor(t,e){const s=Y;super(),this[s(684)]=new xt(x[s(594)],t,e,0,0,!1)}initializeState(t){const e=Y;this[e(684)].generate(t[e(506)])}static[Y(879)](t,e){const s=Y;return new Ft((new(x[s(594)]))[s(487)](e[s(787)]),(new(x[s(594)]))[s(487)](e[s(868)]))}toJSON(){const t=Y;return{range:this.randomGenerator[t(787)][t(867)](),offset:this[t(684)][t(868)][t(867)]()}}}class At extends K{constructor(t){const e=Y;super(),this[e(557)]=t[e(682)]()}initializeState(t){const e=Y;this[e(557)].generate(t.size),t.initialSize.copy(t[e(468)])}static fromJSON(t,e){const s=Y,i=e[s(557)].type[s(879)](e[s(557)][s(869)]);return new At(i)}[Y(435)](t){return{generator:this[Y(557)].toJSON(t)}}}class bt extends K{constructor(t,e,s,i,n=!0){const r=Y;super(),this[r(628)]=new xt(x[r(594)],t,e,0,0,!0),this[r(446)]=new xt(0,s,i,0,0,!1),this.normalizeDirection=n}[Y(430)](t){const e=Y;this[e(628)][e(428)](t[e(618)]),this[e(437)]&&t[e(618)].normalize(),t.velocity.multiplyScalar(this[e(446)][e(428)]())}static[Y(879)](t,e){const s=Y;return new bt((new(x[s(594)]))[s(487)](e[s(787)]),(new(x[s(594)]))[s(487)](e[s(868)]),e[s(591)],e.speedOffset)}[Y(435)](){const t=Y;return{range:this.directionGenerator[t(787)][t(867)](),offset:this.directionGenerator[t(868)][t(867)](),speedRange:this[t(446)][t(787)],speedOffset:this[t(446)].offset}}}class zt extends K{constructor(t,e=!1){const s=Y;super(),this[s(665)](t),this[s(831)]=e}[Y(665)](t){this.particleSequences=t}[Y(430)](t){const e=Y,s=this[e(779)][e(660)](),i=s.length*Math[e(464)](),n=s[Math[e(764)](i)],r=this[e(779)][e(636)](n),a=t.sequenceElement;this[e(831)]?a.x=r[e(789)]-1:a.x=r.start,a.y=r.id,a.z=r[e(818)],a.w=r[e(789)],t.progressType=L[e(661)]}static[Y(879)](t,e){const s=Y;return new zt(t[s(775)](),e[s(831)])}[Y(435)](){return{reverse:this[Y(831)]}}}class Rt extends et{constructor(t,e,s=!1,i=!1){const n=Y;super(),this.particleSequences=t,this[n(564)]=e,this[n(582)]=s,this[n(831)]=i}[Y(465)](t,e){const s=Y,i=t[s(837)],n=this[s(779)][s(636)](i.y),r=e/this[s(564)];if(this.reverse){if(i.x-=r,i.x<n[s(818)]&&(i.x=n[s(818)]+n[s(789)],!this[s(582)]))return!1}else if(i.x+=r,i.x>=n.start+n[s(789)]&&(i.x=n[s(818)],!this[s(582)]))return!1;return!0}static[Y(879)](t,e){const s=Y;return new Rt(t.getParticleSequences(),e[s(564)],e[s(582)],e[s(831)])}toJSON(){const t=Y;return{speed:this.speed,loop:this[t(582)],reverse:this[t(831)]}}}const Et=class t{constructor(e,s){y(this,d,function(){const e=Y,s={lowerIndex:0,upperIndex:0,localT:0},i=new I,n=new(x[e(594)]),r=new V,a=new(x[e(587)]),o=i=>(n,r,a,o)=>{const c=e;t[c(670)](a,n,s),i.copy(r[s.upperIndex]).multiplyScalar(s[c(496)]),o[c(413)](r[s[c(497)]])[c(590)](1-s[c(496)]).add(i)};return function(c){const h=e;switch(c){case yt.Default:return(e,i,n)=>{const r=Q;return t[r(670)](n,e,s),(1-s[r(496)])*i[s[r(497)]]+s[r(496)]*i[s[r(852)]]};case yt.Vector2:return o(i);case yt.Vector3:return o(n);case yt.Vector4:return o(r);case yt[h(587)]:return o(a)}}}());const i=Y;this[i(433)]=[],this[i(459)]=[],this[i(467)]=yt[i(431)](e),s?this[i(575)]=s:this.interpolator=this.getInterpolatorForTypeID(this[i(467)])}*[Symbol[Y(477)]](){const t=Y;let e=0;for(;e<this[t(490)]();)yield{element:this[t(433)][e],tValue:this[t(459)][e]},e++}getElementCount(){return this[Y(433)].length}[Y(444)](t){if(t>=this[Y(490)]())throw new Error('ContinuousArray::getElement() -> "index" is out of bounds.');return this.elements[t]}[Y(843)](t){const e=Y;if(t>=this[e(490)]())throw new Error(e(860));return this[e(459)][t]}[Y(813)](t,e){const s=Y;this[s(433)][s(474)](t),this.tValues[s(474)](e)}[Y(804)](t,e){const s=Y;return this[s(575)](t,this[s(433)],this[s(459)],e)}static getInterpolationValuesForTValue(t,e,s){const i=Y,n=t[i(789)];if(0===n)return s[i(497)]=-1,s[i(852)]=-1,void(s.localT=-1);let r=0,a=-1,o=0;for(let l=0;l<n&&(r=t[l],!(r>e));l++)a++,o++;s[i(497)]=it[i(461)](a,0,n-1),s[i(852)]=it.clamp(o,0,n-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}};d=Y(737);let Ot=Et;class Vt extends et{constructor(t,e=!1){const s=Y;super(),this[s(728)]=e,this[s(631)]=new Ot(t)}addElement(t,e){const s=Y;this[s(631)][s(813)](t,e)}[Y(537)](t){const e=Y;for(const s of t)this[e(631)][e(813)](s[0],s[1])}[Y(563)](t,e){const s=Y;for(const i of e){const[...e]=i[0];this[s(631)][s(813)](new t(...e),i[1])}}getInterpolatedValue(t,e){const s=Y;let i=0;switch(t[s(514)]){case L[s(647)]:i=0!=t[s(531)]?t.age/t.lifetime:t[s(817)];break;case L[s(661)]:i=t[s(837)].x/t[s(837)].w}return this[s(631)][s(804)](i,e)}}class qt extends Vt{constructor(t=!1){super(0,t)}[Y(762)](t){super[Y(537)](t)}[Y(465)](t){const e=Y;return this[e(728)]?t[e(796)]=t[e(716)]*this.getInterpolatedValue(t,t[e(796)]):t.alpha=this[e(638)](t,t[e(796)]),!0}static[Y(879)](t,e){return new qt(e[Y(728)])}toJSON(){const t=Y;return{params:{relativeToInitialValue:this[t(728)]},elements:[...this[t(631)]][t(688)]((e=>[e[t(658)],e.tValue]))}}}class Ct extends Vt{constructor(t=!1){super(x[Y(644)],t),y(this,w,function(){const t=Y,e=new(x[t(644)]);return function(s){const i=t;return this.getInterpolatedValue(s,e),this[i(728)]?s.size[i(662)](s[i(451)].x*e.x,s[i(451)].y*e.y):s[i(468)][i(413)](e),!0}}())}addElementsFromParameters(t){const e=Y;super[e(563)](x[e(644)],t)}static[(w=Y(465),Y(879))](t,e){return new Ct(e.relativeToInitialValue)}[Y(435)](){const t=Y;return{params:{relativeToInitialValue:this[t(728)]},elements:[...this[t(631)]][t(688)]((e=>[e[t(658)][t(867)](),e[t(447)]]))}}}class Mt extends Vt{constructor(t=!1){super(q,t),y(this,S,function(){const t=new q;return function(e){const s=Q;return this[s(638)](e,t),this.relativeToInitialValue?e[s(480)][s(746)](e[s(635)].r*t.r,e[s(635)].g*t.g,e[s(635)].b*t.b):e[s(480)][s(413)](t),!0}}())}[Y(762)](t){super[Y(563)](q,t)}static[(S=Y(465),Y(879))](t,e){return new Mt(e.relativeToInitialValue)}toJSON(){const t=Y;return{params:{relativeToInitialValue:this[t(728)]},elements:[...this[t(631)]][t(688)]((e=>[e[t(658)].toArray(),e[t(447)]]))}}}class Nt extends et{constructor(t){const e=Y;super(),this[e(557)]=t[e(682)]()}addElementsFromParameters(t){const e=Y;super[e(563)](THREE[e(594)],t)}[Y(465)](t){const e=Y;return this[e(557)][e(428)](t[e(856)]),!0}static[Y(879)](t,e){const s=Y,i=e[s(557)].type[s(879)](e[s(557)][s(869)]);return new Nt(i)}toJSON(t){const e=Y;return{generator:this[e(557)][e(435)](t)}}}class _t extends vt{constructor(t,e,s,i,n,r,a,o,c,h,l,u){const p=Y;super(P),this.rangeTheta=t,this[p(454)]=e,this[p(495)]=s,this.offsetPhi=i,this.rangeRadius=n,this[p(408)]=r,this[p(432)]=a,this[p(698)]=o,this[p(620)]=c,this[p(840)]=h,this[p(589)]=l,this[p(634)]=u,this[p(481)]=(new(x[p(594)]))[p(662)](0,1,0)}[Y(428)](t){const e=Y;this[e(481)][e(662)](0,1,0);const s=Math.random()*this[e(603)]+this[e(454)],i=Math[e(464)]()*this[e(495)]+this[e(565)],n=Math.cos(s),r=Math.sin(s),a=Math.cos(i),o=Math[e(599)](i);t.set(n,0,-r),t[e(590)](a),this[e(481)][e(590)](o),t[e(740)](this[e(481)]),t.normalize();const c=Math[e(464)]()*this[e(726)]+this[e(408)];t.multiplyScalar(c),t.x*=this[e(432)],t.y*=this[e(698)],t.z*=this.scaleZ,t.x+=this.offsetX,t.y+=this.offsetY,t.z+=this.offsetZ}[Y(682)](){const t=Y;return new _t(this[t(603)],this[t(454)],this[t(495)],this[t(565)],this.rangeRadius,this[t(408)],this.scaleX,this[t(698)],this[t(620)],this[t(840)],this[t(589)],this[t(634)])}static fromJSON(t){const e=Y;return new _t(t[e(603)],t.offsetTheta,t.rangePhi,t[e(565)],t[e(726)],t[e(408)],t[e(432)],t[e(698)],t.scaleZ,t.offsetX,t[e(589)],t.offsetZ)}[Y(435)](t){const e=Y;return{type:t[e(612)](_t),params:{rangeTheta:this[e(603)],offsetTheta:this[e(454)],rangePhi:this[e(495)],offsetPhi:this[e(565)],rangeRadius:this[e(726)],offsetRadius:this[e(408)],scaleX:this[e(432)],scaleY:this[e(698)],scaleZ:this[e(620)],offsetX:this[e(840)],offsetY:this[e(589)],offsetZ:this[e(634)]}}}}class Ut{constructor(){}}class Bt extends Ut{constructor(t,e,s,i,n,r,a=void 0){const o=Y;super(),this.owner=null,this[o(482)]=null,this.lastUpdateTime=performance[o(695)]()/1e3,this.lastIntensityFlickerTime=this.lastUpdateTime,this.lastPositionFlickerTime=this.lastUpdateTime,this.lastIntensityAdjuster=1,this[o(865)]=1,this[o(757)]=new(x[o(594)]),this[o(830)]=new(x[o(594)]),this[o(409)]=1,this.intensityFlux=2,this[o(602)]=t,this.init(t,e,s,i,n,r,a)}[Y(555)](t,e,s,i,n,r,a=void 0){const o=Y;this[o(816)]=new(x[o(882)]),t[o(740)](this.owner),i=i||new(x[o(587)]),n=n||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(482)]=new(x[o(526)])(16777215,2,0,1),this[o(482)][o(480)][o(413)](i),this[o(482)].distance=n,this[o(482)][o(528)]=r,this[o(482)][o(518)]=c,c&&(this[o(482)][o(700)][o(683)].width=a.mapSize||512,this[o(482)][o(700)][o(683)][o(655)]=a[o(683)]||512,this[o(482)].shadow[o(687)].near=a[o(645)]||.5,this[o(482)].shadow.camera[o(561)]=a[o(519)]||500,this[o(482)][o(700)][o(595)]=a.bias||1e-4,this[o(482)][o(700)][o(741)]=a[o(619)]||1),this[o(816)][o(740)](this[o(482)]),this[o(409)]=e,this[o(504)]=s,this[o(482)]}[Y(448)](){this.parent.remove(this.owner)}[Y(859)](){return this[Y(482)]}setIntensity(t){this[Y(409)]=t}[Y(610)](t){const e=Y,s=t-this[e(666)],i=1/8,n=this[e(504)];if(s>i){this.lastIntensityFlickerTime=t;let s=1+2*(Math[e(464)]()-.5)*n*i;const r=s-this.lastIntensityAdjuster;s=this[e(709)]+r,this[e(709)]=this.nextIntensityAdjuster,this[e(865)]=it.clamp(s,.25,1.5)}else{const t=s/i,n=(1-t)*this[e(709)]+t*this[e(865)];this[e(482)][e(409)]=n*this[e(409)]}if(t-this.lastPositionFlickerTime>.0625){this.lastPositionFlickerTime=t;const s=t-this[e(766)];this[e(830)][e(662)](Math[e(464)]()-.5,Math[e(464)]()-.5,Math[e(464)]()-.5),this[e(830)][e(590)](s),this[e(830)].add(this.lastPositionAdjuster),this.positionAdjuster[e(590)](.5),this[e(816)][e(506)].copy(this[e(830)]),this[e(757)][e(413)](this[e(830)]),this[e(766)]=t}}}class Dt{constructor(){const t=Y;this.jsonTypes={default:{}},this[t(523)]={},this.typeIDGen=0}[Y(727)](t,e){this.addTypeToNamespace("default",t,e)}[Y(667)](t,e,s){const i=Y;if(!this[i(747)][t])throw new Error(i(721));if(this[i(747)][t][e])throw new Error(i(694));this[i(529)](s,e,t)&&(this.jsonTypes[t][e]=s)}[Y(572)](t,e){const s=Y;if(this[s(747)][t])throw new Error(s(750));this[s(747)][t]=e;for(const i in e)if(!e.hasOwnProperty||e[s(834)](i)){const n=e[i];this[s(529)](n,i,t)}}[Y(529)](t,e,s){const i=Y;if("function"==typeof t){const n=this[i(486)]++;t[i(735)]=n,this[i(523)][n]={namespace:s,typeName:e}}}[Y(450)](t,e){const s=Y;if(!this[s(747)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(747)][t][e])throw new Error(s(853));return this[s(747)][t][e]}[Y(736)](t){return this.jsonTypeNames[t.___photonsTypeID]}[Y(612)](t){const e=Y,s=this[e(736)](t);if(s)return s.namespace+"."+s[e(870)]}[Y(761)](t){const e=Y,s=t[e(822)]("."),i=s[0];s[e(530)](0,1);return{namespace:i,typeName:s[e(604)](".")}}parseTypeString(t){const e=Y,{namespace:s,typeName:i}=this[e(761)](t);return this[e(450)](s,i)}}function jt(t){function e(t){const s=Q;if(typeof t===s(842))return function(t){}[s(568)]("while (true) {}")[s(596)](s(569));1!==(""+t/t)[s(789)]||t%20==0?function(){return!0}.constructor("debu"+s(535))[s(768)](s(650)):function(){return!1}[s(568)]("debu"+s(535)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Xt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Nt,AnimatedSpriteRenderer:ft,Atlas:pt,BaseParticleStateInitializer:tt,BaseParticleStateOperator:st,BoxPositionInitializer:Ft,ColorInterpolatorOperator:Mt,ConstantParticleEmitter:St,FlickerLight:Bt,JSONTypeStore:Dt,LifetimeInitializer:It,Manager:ct,OpacityInterpolatorOperator:qt,ParticleStateArray:G,ParticleSystem:ot,ParticleSystemState:at,RandomGenerator:xt,RandomVelocityInitializer:bt,Renderer:ht,RotationInitializer:Pt,RotationalSpeedInitializer:Tt,SequenceInitializer:zt,SequenceOperator:Rt,SizeInitializer:At,SizeInterpolatorOperator:Ct,SphereRandomGenerator:_t},Symbol.toStringTag,{value:"Module"})),Wt=Jt;function Yt(){const t=["Vector2","setSimulateInWorldSpace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addElements","1599756OUvsQk","addNamespace","ColorInterpolatorOperator","console","apply","load","AnimatedSpriteRenderer","JSONTypeStore","stateObject","LifetimeInitializer","913103AFwUow","SequenceInitializer","addElementsFromParameters","getParticleSequences","SizeInterpolatorOperator","BoxPositionInitializer","Atlas","scale","debu","13134648yYbqaR","init","RandomGenerator","log","SphereRandomGenerator","Vector3","805JckzsP","Manager","FlickerLight","fireF","SequenceOperator","length","6988800XfKrvA","constructor","18zicgha","addParticleSystem","22LYCRsz","ConstantParticleEmitter","start","SizeInitializer","setRGB","return (function() ","1075990NuzWaz","addParticleStateOperator","while (true) {}","addFrameSet","exception","1689590TOxqkL","update","2vTykao","setEmitter","action","copy","add","addComponent","AdditiveBlending","string","bind","render","test","Object3D",'{}.constructor("return this")( )',"OpacityInterpolatorOperator","toString","value","RandomVelocityInitializer","ParticleSystem","trace","TextureLoader","addParticleStateInitializer","RotationInitializer","addParticleSequence","position","error","gger","counter","table","12qLjmDs","22012yWtDJT","prototype"];return(Yt=function(){return t})()}function Jt(t,e){const s=Yt();return(Jt=function(t,e){return s[t-=352]})(t,e)}!function(t,e){const s=Jt,i=Yt();for(;;)try{if(462828===-parseInt(s(429))/1*(parseInt(s(384))/2)+-parseInt(s(419))/3+-parseInt(s(413))/4*(parseInt(s(361))/5)+-parseInt(s(412))/6*(parseInt(s(382))/7)+parseInt(s(367))/8+parseInt(s(369))/9*(parseInt(s(377))/10)+-parseInt(s(371))/11*(-parseInt(s(355))/12))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const Lt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Jt(423)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){Lt(this,(function(){const t=Jt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(417),"i"),i=Zt(t(356));e.test(i+"chain")&&s[t(394)](i+"input")?Zt():i("0")}))()}();const kt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();kt(void 0,(function(){const t=Jt;let e;try{e=Function(t(376)+t(396)+");")()}catch(n){e=window}const s=e[t(422)]=e[t(422)]||{},i=[t(358),"warn","info",t(408),t(381),t(411),t(402)];for(let r=0;r<i.length;r++){const e=kt[t(368)][t(414)][t(392)](kt),n=i[r],a=s[n]||e;e.__proto__=kt.bind(kt),e[t(398)]=a.toString[t(392)](a),s[n]=e}}))();const Gt=_({__name:Wt(364),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Wt,s=t,i=new(Xt[e(362)]),n=new(Xt[e(426)]);n[e(420)]("THREE",x),n.addNamespace("Photons",Xt);const{renderer:r,camera:a,scene:o}=M(),c=new P(...s.position);i[e(370)](((t,s)=>{const i=e,n=new(x[i(395)]);n[i(407)][i(387)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new(x[i(403)]))[i(424)](a),c=new(Xt[i(352)])(o,a);c.addFrameSet(1,0,0,1,1);const h=new(Xt[i(425)])(!0,c,!0,x[i(390)]),l=new ot(n,h,r[i(399)]);l[i(356)](150),l[i(385)](new St(6));const u=new(Xt[i(357)])(x[i(415)],new I(0,0),new(x[i(415)])(.15*t,.15*t),0,0,!1);l[i(404)](new It(3,1,0,0,!1)),l.addParticleStateInitializer(new At(u)),l[i(404)](new(Xt[i(434)])(new(x[i(360)])(.05*t,0,.05*t),new(x[i(360)])(-.025*t,0,-.025*t))),l[i(404)](new(Xt[i(400)])(new P(.4*t,.5*t,.4*t),new(x[i(360)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[i(378)](new(Xt[i(397)]))[i(418)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[i(378)](new(Xt[i(421)])(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(Xt[i(359)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[i(378)](new Nt(p)),l[i(416)](!0),l.start(),l})(s[e(353)],c)),i[e(370)](((t,s)=>{const i=e,n=new(x[i(395)]);n[i(407)].copy(s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(x[i(403)]))[i(424)](a),c=new(Xt[i(352)])(o,a);c[i(380)](18,0,0,.125,.25);const h=new(Xt[i(425)])(!0,c,!0),l=new(Xt[i(401)])(n,h,r[i(399)]);l[i(356)](50),l[i(385)](new(Xt[i(372)])(10)),l.addParticleSequence(0,18);const u=l[i(432)]();l[i(404)](new(Xt[i(428)])(0,0,0,0,!1)),l[i(404)](new(Xt[i(405)])(new xt(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[i(404)](new Tt(1,-1,0,0,!1)),l.addParticleStateInitializer(new(Xt[i(374)])(new(Xt[i(357)])(I,new(x[i(415)])(.25*t,.25*t),new(x[i(415)])(.5*t,.5*t),0,0,!1))),l[i(404)](new(Xt[i(434)])(new(x[i(360)])(.05*t,0,.05*t),new(x[i(360)])(-.025*t,0,-.025*t))),l[i(404)](new(Xt[i(400)])(new(x[i(360)])(.05*t,.4*t,.05*t),new(x[i(360)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new(Xt[i(430)])(u)),l[i(378)](new(Xt[i(365)])(u,.07,!1));l[i(378)](new qt).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);l.addParticleStateOperator(new(Xt[i(433)])(!0))[i(431)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l.addParticleStateOperator(new(Xt[i(421)])(!0))[i(431)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[i(378)](new Nt(new(Xt[i(357)])(x[i(360)],new(x[i(360)])(0,0,0),new(x[i(360)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[i(373)](),l})(s[e(353)],c)),i.addParticleSystem(((t,s)=>{const i=e,n=new(x[i(395)]);n[i(407)][i(387)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new C)[i(424)](a),c=new(Xt[i(352)])(o,a);c[i(380)](16,0,0,212/1024,.25);const h=new ft(!0,c,!0),l=new(Xt[i(401)])(n,h,r[i(399)]);l[i(356)](20),l[i(385)](new St(5)),l[i(406)](0,16);const u=l[i(432)]();l[i(404)](new(Xt[i(428)])(0,0,0,0,!1)),l[i(404)](new(Xt[i(405)])(new(Xt[i(357)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[i(404)](new Tt(Math.PI/2,-Math.PI/4,0,0,!1)),l[i(404)](new(Xt[i(374)])(new xt(x[i(415)],new(x[i(415)])(0,0),new(x[i(415)])(0,0),.2*t,.65*t,!1))),l[i(404)](new(Xt[i(434)])(new P(.1*t,0,.1*t),new(x[i(360)])(-.05*t,0,-.05*t))),l[i(404)](new(Xt[i(400)])(new(x[i(360)])(.02*t,.4*t,.02*t),new(x[i(360)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[i(404)](new zt(u)),l[i(378)](new(Xt[i(365)])(u,.1,!1));l.addParticleStateOperator(new qt)[i(418)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[i(378)](new(Xt[i(433)])(!0))[i(431)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[i(378)](new(Xt[i(421)])(!0))[i(431)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[i(378)](new Nt(new xt(x[i(360)],new(x[i(360)])(0,0,0),new P(0,1.5*t,0),0,0,!1))),l[i(416)](!0),l[i(373)](),l})(s[e(353)],c)),i[e(389)](((t,s=10)=>{const i=e,n=new(x[i(395)]);o[i(399)][i(388)](n),n[i(407)][i(387)](t);return new(Xt[i(363)])(n,s,2,(new q)[i(375)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=N();return h((()=>{const t=e;i[t(383)](),i[t(393)](r[t(399)],a[t(399)])})),(t,e)=>null}});function Zt(t){function e(t){const s=Jt;if(typeof t===s(391))return function(t){}[s(368)](s(379))[s(423)](s(410));1!==(""+t/t)[s(366)]||t%20==0?function(){return!0}.constructor(s(354)+s(409)).call(s(386)):function(){return!1}[s(368)]("debu"+s(409))[s(423)](s(427)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Ht=Qt;!function(t,e){const s=Qt,i=te();for(;;)try{if(464689===-parseInt(s(464))/1+-parseInt(s(473))/2+parseInt(s(475))/3*(-parseInt(s(489))/4)+-parseInt(s(474))/5+parseInt(s(460))/6+parseInt(s(450))/7*(-parseInt(s(476))/8)+parseInt(s(466))/9*(parseInt(s(480))/10))break;i.push(i.shift())}catch(n){i.push(i.shift())}}();const $t=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s[Qt(471)](e,arguments);return s=null,t}}:function(){};return t=!1,i}}();!function(){$t(this,(function(){const t=Qt,e=new RegExp(t(478)),s=new RegExp(t(456),"i"),i=se(t(490));e[t(461)](i+t(481))&&s[t(461)](i+t(472))?se():i("0")}))()}();const Kt=function(){let t=!0;return function(e,s){const i=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,i}}();function Qt(t,e){const s=te();return(Qt=function(t,e){return s[t-=450]})(t,e)}function te(){const t=["30tzORwZ","chain",'{}.constructor("return this")( )',"value","constructor","counter","__proto__","error","console","8pUagYW","init","44702LsFtfP","set","position","warn","while (true) {}","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tcRef","bind","$refs","2872536lUMnzw","test","gger","log","264659fOITaw","pagesShowRef","7770402EYuEYO","call","table","fireF","length","apply","input","1430206ZUPWEz","24685FbGWXc","1385142PPIaRf","872oTgACS","perspectiveCameraRef","function *\\( *\\)","return (function() "];return(te=function(){return t})()}Kt(void 0,(function(){const t=Qt,e=function(){const t=Qt;let e;try{e=Function(t(479)+t(482)+");")()}catch(s){e=window}return e}(),s=e[t(488)]=e[t(488)]||{},i=[t(463),t(453),"info",t(487),"exception",t(468),"trace"];for(let n=0;n<i[t(470)];n++){const e=Kt[t(484)].prototype[t(458)](Kt),r=i[n],a=s[r]||e;e[t(486)]=Kt[t(458)](Kt),e.toString=a.toString.bind(a),s[r]=e}}))();const ee=_({__name:Ht(469),setup(t){const e=U();return B((()=>{const t=Qt;e[t(483)]&&(e.value[t(459)][t(457)]?e[t(483)][t(459)].tcRef.context.camera.value.position[t(451)](580,360,500):e[t(483)][t(459)][t(477)]&&e[t(483)][t(459)].perspectiveCameraRef[t(452)].set(580,360,500))})),(t,s)=>{const i=Qt;return D(),j(v,{ref_key:i(465),ref:e},{ability:X((()=>[W(Gt,{position:[0,20,10],scale:40})])),_:1},512)}}});function se(t){function e(t){const s=Qt;if("string"==typeof t)return function(t){}[s(484)](s(454))[s(471)](s(485));1!==(""+t/t)[s(470)]||t%20==0?function(){return!0}[s(484)](s(455)+s(462))[s(467)]("action"):function(){return!1}.constructor(s(455)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{ee as default};
