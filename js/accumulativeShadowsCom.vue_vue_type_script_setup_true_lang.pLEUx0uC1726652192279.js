import{_ as t}from"./three.3esZ7Hzr1726652192279.js";import{p as n}from"./@tresjs.UGbbWZf51726652192279.js";import{d as e,P as o}from"./@pmndrs.GLf74zq01726652192279.js";import{d as a,b as r,w as s,a3 as i,o as c,E as u,L as l,aj as p,ak as d}from"./@vue.JNsx1iN61726652192279.js";const f=b;!function(t,n){const e=b,o=w();for(;;)try{if(534238===parseInt(e(281))/1+parseInt(e(279))/2*(-parseInt(e(256))/3)+parseInt(e(308))/4+-parseInt(e(267))/5*(-parseInt(e(228))/6)+-parseInt(e(276))/7*(parseInt(e(306))/8)+parseInt(e(284))/9*(parseInt(e(259))/10)+-parseInt(e(246))/11)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(254)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){h(this,(function(){const t=b,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=I(t(270));n.test(o+"chain")&&e[t(296)](o+t(295))?I():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function w(){const t=["465027vAbcXS","stateObject","console","12222YwDnUr","camera","Vector3","near","__proto__","counter","trace","gPlane","toString","MathUtils","rotate-x","input","test","add","cos","value","position","ambient","opacity","width","finish","intensity","6121016nTIzBx","table","2032704RlZSQb","update","while (true) {}","lightPosition","blendWindow","length","accumulativeShadowsCom","left","random","98148mIIJHh","blend","acos","call","texture","bias","action","error","gger","amount","abs","TresSoftShadowMaterial","right",'{}.constructor("return this")( )',"set","constructor","configure","randFloatSpread","4115749jujuRh","sin","progressiveLightMap2","TresPlaneGeometry","shadow","alphaTest","log","castShadow","apply","material","3YKguAb","debu","children","580zbqDOv","mapSize","shadows plm update","prototype","color","frames","bind","prepare","265VUwHzL","#000000","Group","init","shadows render start","height","remove","far","DirectionalLight","7wrPolH","radius","size","490834AVDbMR","clear"];return(w=function(){return t})()}function b(t,n){const e=w();return(b=function(t,n){return e[t-=222]})(t,n)}m(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function("return (function() "+t(241)+");")()}catch(e){n=window}return n}(),e=n[t(283)]=n.console||{},o=[t(252),"warn","info",t(235),"exception",t(307),t(290)];for(let a=0;a<o[t(224)];a++){const n=m.constructor[t(262)][t(265)](m),r=o[a],s=e[r]||n;n[t(288)]=m[t(265)](m),n.toString=s[t(292)][t(265)](s),e[r]=n}}))();const g=[f(294)],M=l(f(249),{args:[1,1]},null,-1),y=a({__name:f(225),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:f(268)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(a){const h=f,m=a;let w=r();const{extend:b,scene:y,renderer:I,camera:S}=n();b({SoftShadowMaterial:e});const z={position:(new(t[h(286)]))[h(242)](m[h(222)].x,m[h(222)].y,m[h(222)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},x=new o(I[h(299)],y.value,z.mapSize),P={map:x[h(248)][h(232)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[h(229)],alphaTest:m[h(251)],opacity:m[h(302)],color:m.color},v=new(t[h(269)]);for(let n=0;n<z[h(237)];n++){const n=new(t[h(275)])(16777215,z[h(305)]/z[h(237)]);n[h(253)]=!0,n[h(250)][h(233)]=z[h(233)],n[h(250)][h(285)][h(287)]=z[h(287)],n[h(250)][h(285)][h(274)]=z[h(274)],n.shadow[h(285)][h(240)]=z[h(278)]/2,n[h(250)][h(285)][h(226)]=-z[h(278)]/2,n.shadow[h(285)].top=z[h(278)]/2,n[h(250)][h(285)].bottom=-z[h(278)]/2,n.shadow[h(260)][h(303)]=z[h(260)],n[h(250)][h(260)][h(272)]=z[h(260)],v[h(297)](n)}const _=()=>{const n=h,e=z[n(300)][n(224)]();for(let o=0;o<v.children[n(224)];o++){const a=v[n(258)][o];if(Math.random()>m[n(301)])a[n(300)].set(z[n(300)].x+t[n(293)][n(245)](z[n(277)]),z[n(300)].y+t[n(293)].randFloatSpread(z[n(277)]),z[n(300)].z+t[n(293)][n(245)](z.radius));else{let t=Math[n(230)](2*Math[n(227)]()-1)-Math.PI/2,o=2*Math.PI*Math[n(227)]();a.position[n(242)](Math[n(298)](t)*Math[n(298)](o)*e,Math[n(238)](Math[n(298)](t)*Math[n(247)](o)*e),Math[n(247)](t)*e)}}},j=(t=1)=>{const n=h;y[n(299)].add(v),x[n(266)]();for(let e=0;e<t;e++)_(),x[n(309)](S[n(299)],m.blendWindow),console.log(n(261),e);y[n(299)][n(273)](v),x[n(304)]()};s((()=>w[h(299)]),(t=>{const n=h;t&&(x[n(244)](t),x[n(280)](),console[n(252)](n(271)),j(m[n(264)]),console[n(252)]("shadows render end"))}));const T=()=>{const t=h;x[t(280)](),j(m[t(264)])};return i((()=>{const t=h;w[t(299)]&&(m[t(302)]&&(w[t(299)][t(255)][t(302)]=m.opacity),m[t(251)]&&(w[t(299)][t(255)][t(251)]=m[t(251)]),m.color&&w[t(299)][t(255)].color.set(m[t(263)]),m[t(229)]&&(w.value.material[t(229)]=m.blend))})),s((()=>m.lightPosition),(t=>{const n=h;t&&(console[n(252)](m.lightPosition),z[n(300)][n(242)](t.x,t.y,t.z),T())}),{deep:!0}),s((()=>[m[h(264)],m[h(223)],m.ambient]),(()=>{T()})),(t,n)=>{const e=h;return c(),u("TresMesh",{"receive-shadow":"",ref_key:e(291),ref:w,scale:10,"rotate-x":-Math.PI/2},[M,l(e(239),p(d(P)),null,16)],8,g)}}});function I(t){function n(t){const e=b;if("string"==typeof t)return function(t){}[e(243)](e(310))[e(254)](e(289));1!==(""+t/t)[e(224)]||t%20==0?function(){return!0}[e(243)](e(257)+e(236))[e(231)](e(234)):function(){return!1}[e(243)](e(257)+"gger")[e(254)](e(282)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as _};
