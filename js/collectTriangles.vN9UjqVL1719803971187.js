import{a as t,r as n,$ as e,d as r}from"./@tresjs.rn1P_YDI1719803971187.js";import{_ as o}from"./index.J6bvtXpc1719803971187.js";import{a as s}from"./index.ABG0hjuI1719803971187.js";import{a5 as i,aO as c,V as u,r as a,cz as l}from"./three.BsQyBKrV1719803971187.js";import{P as p}from"./tweakpane.qqn77PB81719803971187.js";import{I as f,C as g,N as h,c as d,d as m,a as y}from"./three-mesh-bvh.qUEmuYBS1719803971187.js";import{d as w,a3 as j,b,a2 as v,o as _,D as I,J as x,u as S,F as z,r as T,e as A,j as O,g as k,m as C,f as E,al as M}from"./@vue.CpOXM7bB1719803971187.js";import"./@vueuse.T5wlwfAk1719803971187.js";import"./default.vue_vue_type_script_setup_true_lang.PBu2k4sk1719803971187.js";import"./@fesjs.OMA0Tumj1719803971187.js";import"./vue-router.nza8fidy1719803971187.js";import"./lodash-es.nFpJXAf-1719803971187.js";import"./@qlin.yHhFDldE1719803971187.js";import"./pinia.Gj9UzxIP1719803971187.js";import"./@floating-ui.BPbuo5Gx1719803971187.js";import"./@juggle.7yjBMqoW1719803971187.js";import"./three-stdlib.vwixL4nl1719803971187.js";import"./@pmndrs.aJsI2n6-1719803971187.js";import"./object-hash.4kGk0kP-1719803971187.js";import"./@amap.cIAWtN1R1719803971187.js";import"./jszip.Q9Kx2fWV1719803971187.js";!function(t,n){const e=F,r=B();for(;;)try{if(330102===parseInt(e(256))/1+-parseInt(e(234))/2*(-parseInt(e(236))/3)+parseInt(e(243))/4*(-parseInt(e(261))/5)+parseInt(e(225))/6+parseInt(e(230))/7+-parseInt(e(267))/8+parseInt(e(244))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(262)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=F,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(227),"i"),r=W(t(240));n[t(260)](r+"chain")&&e.test(r+t(250))?W():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[F(262)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function B(){const t=["constructor","clientX","4FVSYSn","1977516cJfCJO","counter","call","Raycaster","pointerdown","pointermove","input","__proto__","value","console","innerHeight","length","245220VZVvjN","prototype","setFromCamera","table","test","1109150aOKsUP","apply","pointerup","touch","stateObject","firstHitOnly","4829856kiOZVr","innerWidth","debu","info","addEventListener","1459146jEHKWn","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","pointerType","string","1868972wkWMsd","toString","exception","warn","361066nxExmq","trace","3eSvGhW","bind","gger","return (function() ","init"];return(B=function(){return t})()}function F(t,n){const e=B();return(F=function(t,n){return e[t-=222]})(t,n)}Z(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(239)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(253)]||{},r=["log",t(233),t(223),t(226),t(232),t(259),t(235)];for(let o=0;o<r[t(255)];o++){const n=Z.constructor[t(257)][t(237)](Z),s=r[o],i=e[s]||n;n[t(251)]=Z[t(237)](Z),n[t(231)]=i.toString[t(237)](i),e[s]=n}}))();function W(t){function n(t){const e=F;if(typeof t===e(229))return function(t){}[e(241)]("while (true) {}")[e(262)](e(245));1!==(""+t/t)[e(255)]||t%20==0?function(){return!0}[e(241)](e(222)+e(238))[e(246)]("action"):function(){return!1}[e(241)](e(222)+e(238))[e(262)](e(265)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=P;!function(t,n){const e=P,r=q();for(;;)try{if(822239===-parseInt(e(377))/1+-parseInt(e(363))/2*(parseInt(e(397))/3)+-parseInt(e(367))/4+-parseInt(e(409))/5+parseInt(e(371))/6*(parseInt(e(357))/7)+-parseInt(e(406))/8+parseInt(e(413))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(381)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){H(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(334),"i"),r=X(t(330));n[t(331)](r+t(361))&&e[t(331)](r+t(389))?X():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(381)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();V(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(400)+t(408)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(341)]||{},r=["log",t(365),"info",t(396),t(402),t(350),t(353)];for(let o=0;o<r.length;o++){const n=V[t(344)][t(370)].bind(V),s=r[o],i=e[s]||n;n[t(336)]=V[t(335)](V),n[t(405)]=i[t(405)][t(335)](i),e[s]=n}}))();const Y=["geometry","material"],$=[x(L(403),{args:[1,40,40]},null,-1),x(L(394),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],G=[L(345)],N=[x(L(394),{color:L(378),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function P(t,n){const e=q();return(P=function(t,n){return e[t-=326]})(t,n)}function q(){const t=["intersectObject","applyMatrix4","needsUpdate","getZ","TresMeshStandardMaterial","computeBoundsTree","error","3ipqShF","index","intersectsBox","return (function() ","scale","exception","TresSphereGeometry","point","toString","11737040tIxYyV","controls",'{}.constructor("return this")( )',"6609485jhoBSC","TresMesh","点击按钮","getX","43142661dSCRld","BufferGeometry","visible","Vector2","fill","生成模型","init","test","value","setScalar","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","__proto__","containsPoint","setFromCamera","BufferAttribute","attributes","console","enabled","center","constructor","geometry","Sphere","model","set","setAttribute","table","DynamicDrawUsage","firstHitOnly","trace","setZ","boundsTree","action","6783WgrnFj","intersectsSphere","radius","getY","chain","push","1318934GNpOMH","string","warn","shapecast","4866456jWLXNb","normal","stateObject","prototype","9876uGSuQw","debu","counter","active","setY","length","901256WqRfnA","#023249","count","targetMesh.value init","apply","position","disposeBoundsTree","color","click","copy","invert","Matrix4","input"];return(q=function(){return t})()}const U=w({__name:L(347),props:{controls:{}},async setup(r){const o=L;let s,w;const T=r;(()=>{const t=P;i[t(414)][t(370)][t(395)]=d,i[t(414)][t(370)][t(383)]=m,a.prototype.raycast=y})();const A=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),O=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*A.attributes[o(382)][o(379)]);k[o(328)](255);const C=new(i[o(339)])(k,3,!0);C.setUsage(i[o(351)]),A.setAttribute(o(384),C);const E=b(null),M=b(null),R=b(!1),Z=b(-1),B=b(.2),W=new(i[o(327)]),{camera:H,raycaster:V}=t(),q=15/255,U=78/255,X=85/255;let D=null;v((()=>{const t=o;E[t(332)]&&(console.log(t(380),E[t(332)]),E[t(332)][t(345)][t(395)](),D=A[t(355)],((t,n,e,r,o,s)=>{const c=F;window[c(224)](c(249),(e=>{const r=c;t.x=e[r(242)]/window[r(268)]*2-1,t.y=-e.clientY/window.innerHeight*2+1,n[r(252)]=!0})),window[c(224)](c(248),(u=>{const a=c;t.x=u.clientX/window.innerWidth*2-1,t.y=-u.clientY/window[a(254)]*2+1,r[a(252)]=u.button;const l=new(i[a(247)]);l[a(258)](t,e.value),l[a(266)]=!0;const p=l.intersectObject(o[a(252)],!0);n[a(252)]=!0,s.enabled=0===p[a(255)]}),!0),window.addEventListener(c(263),(t=>{const e=c;r[e(252)]=-1,t[e(228)]===e(264)&&(n[e(252)]=!1)}),!0)})(W,R,H,Z,E,T[t(407)].value))}));const{onLoop:J}=n();J((()=>{const t=o,n=A[t(398)];if(M[t(332)])if(T[t(407)].value[t(374)]||!R[t(332)])M.value[t(326)]=!1;else{M[t(332)][t(401)][t(333)](B[t(332)]),V[t(332)][t(338)](W,H[t(332)]),V[t(332)][t(352)]=!0;const e=V.value[t(390)](E[t(332)],!0);if(e.length){M.value[t(382)][t(386)](e[0][t(404)]),T.controls[t(332)][t(342)]=!1,M[t(332)][t(326)]=!0;const r=new(i[t(388)]);r.copy(E.value.matrixWorld)[t(387)]();const o=new(i[t(346)]);o[t(343)][t(386)](M[t(332)][t(382)])[t(391)](r),o[t(359)]=100*B[t(332)];const s=[],c=new u;if(null==D||D[t(366)]({intersectsBounds:n=>{const e=t,r=o[e(399)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(348)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(337)](c))return f;return g}return r?f:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(358)](o)){const t=3*e;s[i(362)](t,t+1,t+2)}return!1}}),0===Z.value||2===Z[t(332)]){let e=1,r=1,o=1;0===Z[t(332)]&&(e=q,r=U,o=X);for(let i=0,c=s.length;i<c;i++){const c=n[t(412)](s[i]);C.setX(c,e),C[t(375)](c,r),C[t(354)](c,o)}C[t(392)]=!0}}else M[t(332)][t(326)]=!1,T[t(407)].value.enabled=!0}}));const Q=(new p).addButton({title:o(411),label:o(329)}),K=new(i[o(414)]);return Q.on(o(385),(()=>{const t=o,n=[],e=[];for(let o=0;o<C[t(379)];o++)C[t(412)](o)===q&&C.getY(o)===U&&C[t(393)](o)===X&&(n[t(362)](A[t(340)][t(382)][t(412)](o),A[t(340)][t(382)][t(360)](o),A[t(340)][t(382)].getZ(o)),e[t(362)](A.attributes.normal.getX(o),A[t(340)][t(368)][t(360)](o),A.attributes[t(368)][t(393)](o)));const r=new Float32Array(n);K[t(349)](t(382),new(i[t(339)])(r,3)),K[t(349)](t(368),new(i[t(339)])(r,3))})),(t,n)=>{const e=o;return _(),I(z,null,[x(e(410),{ref_key:"targetMesh",ref:E,geometry:S(A),scale:.005,material:S(O)},null,8,Y),x(e(410),{ref_key:"brushMesh",ref:M,visible:!1},$,512),x("TresMesh",{geometry:S(K),position:[-2,-2,2],scale:.005},N,8,G)],64)}}});function X(t){function n(t){const e=P;if(typeof t===e(364))return function(t){}[e(344)]("while (true) {}")[e(381)](e(373));1!==(""+t/t)[e(376)]||t%20==0?function(){return!0}[e(344)](e(372)+"gger").call(e(356)):function(){return!1}[e(344)]("debugger")[e(381)](e(369)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const D=et;!function(t,n){const e=et,r=nt();for(;;)try{if(327473===parseInt(e(186))/1*(-parseInt(e(205))/2)+parseInt(e(207))/3+parseInt(e(185))/4+-parseInt(e(182))/5*(parseInt(e(170))/6)+parseInt(e(181))/7*(-parseInt(e(187))/8)+parseInt(e(178))/9*(parseInt(e(201))/10)+parseInt(e(173))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){J(this,(function(){const t=et,n=new RegExp(t(198)),e=new RegExp(t(183),"i"),r=ot(t(200));n[t(208)](r+"chain")&&e[t(208)](r+t(165))?ot():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Q(void 0,(function(){const t=et;let n;try{n=Function(t(167)+t(203)+");")()}catch(o){n=window}const e=n[t(211)]=n[t(211)]||{},r=[t(168),t(172),"info",t(166),t(189),t(171),t(174)];for(let s=0;s<r[t(177)];s++){const n=Q.constructor.prototype[t(206)](Q),o=r[s],i=e[o]||n;n.__proto__=Q[t(206)](Q),n.toString=i.toString.bind(i),e[o]=n}}))();const K=x(D(190),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=x(D(197),{intensity:1},null,-1);function nt(){const t=["call",'{}.constructor("return this")( )',"controls","316418pBSLxj","bind","1775424HLuwEC","test","pos-x.jpg","pos-y.jpg","console","input","error","return (function() ","log","value","3241206SRcEct","table","warn","3733169QfVGZB","trace","gger","collectTriangles","length","18NWoPLP","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","TresCanvas","388486DzEqIo","5PBxpUn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","574244MYpxNZ","2KgGxan","72QobizT","controlsRef","exception","TresPerspectiveCamera","stateObject","apply","debu","neg-z.jpg","string","pos-z.jpg","TresAmbientLight","function *\\( *\\)","neg-y.jpg","init","3044130HyNSOj"];return(nt=function(){return t})()}function et(t,n){const e=nt();return(et=function(t,n){return e[t-=165]})(t,n)}const rt=w({__name:D(176),setup(t){const n=T({clearColor:"#999999",antialias:!0}),e=T({autoRotate:!1}),i=b(null);return(t,c)=>{const u=et,a=A(u(180));return _(),I(z,null,[O(S(o)),O(a,C(n,{"window-size":""}),{default:k((()=>[K,O(S(r),C({ref_key:u(188),ref:i},e),null,16),tt,(_(),E(M,null,{default:k((()=>[O(U,{controls:i[u(169)]},null,8,[u(204)])])),_:1})),(_(),E(M,null,{default:k((()=>[O(S(s),{background:!1,files:[u(209),"neg-x.jpg",u(210),u(199),u(196),u(194)],path:u(179)},null,8,["files"])])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=et;if(typeof t===e(195))return function(t){}[e(184)]("while (true) {}")[e(192)]("counter");1!==(""+t/t)[e(177)]||t%20==0?function(){return!0}[e(184)](e(193)+e(175))[e(202)]("action"):function(){return!1}[e(184)](e(193)+e(175))[e(192)](e(191)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
