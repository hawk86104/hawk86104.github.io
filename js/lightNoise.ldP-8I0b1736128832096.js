import{_ as n,h as t,q as e,t as o,c5 as r,c3 as i,c4 as s,cf as a,C as c}from"./three.8H01GNxA1736128832096.js";import{e as l,m as u,U as f}from"./@tresjs.pA0fT6uQ1736128832096.js";import{d as p,o as v,D as d,J as g,u as m,F as h,w as b,j as x,x as y,e as w,g as _,aj as I,ak as S}from"./@vue.yG49nQHr1736128832096.js";import{_ as T}from"./@fesjs.egESxg6m1736128832096.js";import"./@vueuse.iB8cUOAP1736128832096.js";import"./vue-router.9xKClDNR1736128832096.js";import"./lodash-es.kYt-_xTG1736128832096.js";import"./@qlin.yHhFDldE1736128832096.js";import"./pinia.fYculRKX1736128832096.js";import"./vue-demi.C4xddsk91736128832096.js";import"./@floating-ui.BPbuo5Gx1736128832096.js";import"./@juggle.7yjBMqoW1736128832096.js";var U="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const B=N;!function(n,t){const e=N,o=F();for(;;)try{if(421082===parseInt(e(121))/1+parseInt(e(132))/2+parseInt(e(144))/3*(parseInt(e(185))/4)+-parseInt(e(170))/5*(parseInt(e(147))/6)+parseInt(e(166))/7*(parseInt(e(112))/8)+parseInt(e(167))/9+-parseInt(e(172))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function N(n,t){const e=F();return(N=function(n,t){return e[n-=111]})(n,t)}!function(){D(this,(function(){const n=N,t=new RegExp(n(111)),e=new RegExp(n(133),"i"),o=P(n(187));t[n(129)](o+n(117))&&e[n(129)](o+n(139))?P():o("0")}))()}();const j=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[N(113)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(){const n=["8PaRfbl","apply","instData","fragmentShader","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","chain","#include <begin_vertex>","toString","\n      uniform vec4 luces[","105807mFSDaO","setAttribute","bind","error","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","Vector4","copy","instanceCount","test","debu","SphereGeometry","309314XBdqko","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","noiseTex","warn","sin","noise","#include <fog_fragment>","input","InstancedBufferGeometry","randFloat","MathUtils","lucesPlane","3vtavLn","replace","string","18eKWvcj","call","MeshBasicMaterial","globalUniforms","vertexShader","exception","\n    ","return (function() ","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","table","stateObject","__proto__","action","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","log","randFloatSpread","setY","constructor","gger","4019036PcWxpj","6095529bAJSij","push","length","831785LDFjPa","while (true) {}","6462570DNKOZT","MeshLambertMaterial","needsUpdate","#include <dithering_fragment>","luces","globalBloom","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","uniforms",'{}.constructor("return this")( )',"TresMesh","prototype","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","InstancedBufferAttribute","218068KvVUey","console","init","function *\\( *\\)"];return(F=function(){return n})()}j(void 0,(function(){const n=N;let t;try{t=Function(n(154)+n(180)+");")()}catch(r){t=window}const e=t[n(186)]=t[n(186)]||{},o=[n(161),n(135),"info",n(124),n(152),n(156),"trace"];for(let i=0;i<o[n(169)];i++){const t=j[n(164)][n(182)][n(123)](j),r=o[i],s=e[r]||t;t[n(158)]=j[n(123)](j),t[n(119)]=s.toString.bind(s),e[r]=t}}))();const z=["geometry","material"],C=["material"],M=["rotateX"],A=100,E=p({__name:B(143),props:{globalUniforms:{}},setup(e){const o=B,r=e,i=[],s=[],a=new(n[o(131)])(1,36,18),c=(new(n[o(140)]))[o(127)](a);c[o(128)]=A;const u=[];for(let l=0;l<A;l++){let e=t[o(162)](49),r=n[o(142)].randFloatSpread(49),a=n[o(142)][o(141)](.0625,.125),c=n[o(142)][o(141)](1,3);u[o(168)](e,r,a),s[o(168)](new(n[o(126)])(e,r,c,n[o(142)][o(141)](1,2))),i[o(168)](new(n[o(126)])(e,r,a,c))}c[o(122)](o(114),new(n[o(184)])(new Float32Array(u),3));const f=new(n[o(149)])({color:16720418,onBeforeCompile:n=>{const t=o;n[t(179)].noiseTex=r[t(150)].noise,n[t(151)]=(t(160)+n.vertexShader+t(153)).replace(t(118),"#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ")}}),p={luces:{value:i}},b=new(n[o(173)])({color:2363940,onBeforeCompile:n=>{const t=o;n[t(179)].luces=p[t(176)],n.uniforms[t(177)]=r.globalUniforms[t(177)],n[t(179)][t(134)]=r[t(150)][t(137)],n[t(151)]=(t(125)+n.vertexShader+"\n    ")[t(145)]("#include <begin_vertex>",t(183)),n.fragmentShader=(t(120)+A+"];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      "+n[t(115)]+t(153))[t(145)](t(138),t(178)+A+t(116))[t(145)](t(175),t(155))}}),{onLoop:x}=l();return x((({elapsed:n})=>{const t=o;for(let e=0;e<A;e++){const o=s[e];let r=(o.y+n+25)%50-25;i[e].y=r,i[e].w=(Math[t(136)](n*o.w*(e%3+1))*Math.cos(n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,c.attributes.instData[t(163)](e,r)}c.attributes[t(114)][t(174)]=!0})),(n,t)=>{const e=o;return v(),d(h,null,[g(e(181),{geometry:m(c),material:m(f)},null,8,z),g(e(181),{material:m(b)},[g("TresPlaneGeometry",{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,M)],8,C)],64)}}});function P(n){function t(n){const e=N;if(typeof n===e(146))return function(n){}[e(164)](e(171))[e(113)]("counter");1!==(""+n/n)[e(169)]||n%20==0?function(){return!0}[e(164)](e(130)+e(165))[e(148)](e(159)):function(){return!1}[e(164)](e(130)+e(165))[e(113)](e(157)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function Z(n,t){const e=O();return(Z=function(n,t){return e[n-=264]})(n,t)}!function(n,t){const e=Z,o=O();for(;;)try{if(477505===-parseInt(e(276))/1+-parseInt(e(264))/2*(parseInt(e(298))/3)+-parseInt(e(277))/4*(parseInt(e(303))/5)+-parseInt(e(307))/6+-parseInt(e(308))/7*(-parseInt(e(295))/8)+-parseInt(e(287))/9*(parseInt(e(292))/10)+-parseInt(e(281))/11*(-parseInt(e(279))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(265)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){k(this,(function(){const n=Z,t=new RegExp(n(285)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(n(282));t[n(301)](o+n(283))&&e.test(o+n(293))?H():o("0")}))()}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(265)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function O(){const n=["19847004KrZDgX","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","11Zkpbox","init","chain","replace","function *\\( *\\)","warn","469323dKlcBf","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","counter","debu","bind","150bgnjBz","input","gger","1087568xdHdcg","while (true) {}","log","31719qPCZCg","__proto__","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","test","call","10vTgUqI","time","console","action","1833822kASwxN","21pfBSKc","string","fragmentShader","length","constructor","error","MeshBasicMaterial","TresPlaneGeometry","#include <dithering_fragment>","64bSKSEN","apply","globalBloom",'{}.constructor("return this")( )',"exception","globalUniforms","TresMesh","prototype","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","uniforms","vec4 diffuseColor = vec4( diffuse, opacity );","toString","17042lNhJyc","282060qwUSLY","trace"];return(O=function(){return n})()}R(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function("return (function() "+n(267)+");")()}catch(e){t=window}return t}(),e=t[n(305)]=t.console||{},o=[n(297),n(286),"info",n(313),n(268),"table",n(278)];for(let r=0;r<o[n(311)];r++){const t=R[n(312)][n(271)][n(291)](R),i=o[r],s=e[i]||t;t[n(299)]=R[n(291)](R),t[n(275)]=s[n(275)][n(291)](s),e[i]=t}}))();const L=["material"],G=p({__name:"portal",props:{globalUniforms:{}},setup(t){const e=Z,o=t,r=new(n[e(314)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(273)].time=o[t(269)][t(304)],n[t(273)][t(266)]=o[t(269)][t(266)],n[t(310)]=(t(288)+U+t(280)+n.fragmentShader+"\n    ")[t(284)](t(274),t(272))[t(284)](t(316),t(300))}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return v(),d(o(270),{material:m(r),position:[0,3.75,-12]},t[0]||(t[0]=[g(o(315),{args:[5,5]},null,-1)]),8,L)}}});function H(n){function t(n){const e=Z;if(typeof n===e(309))return function(n){}[e(312)](e(296)).apply(e(289));1!==(""+n/n)[e(311)]||n%20==0?function(){return!0}[e(312)](e(290)+e(294))[e(302)](e(306)):function(){return!1}[e(312)](e(290)+e(294))[e(265)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const K=V;!function(n,t){const e=V,o=X();for(;;)try{if(852408===-parseInt(e(450))/1+-parseInt(e(486))/2+parseInt(e(504))/3+-parseInt(e(496))/4*(parseInt(e(449))/5)+-parseInt(e(498))/6+parseInt(e(477))/7*(-parseInt(e(508))/8)+parseInt(e(492))/9*(parseInt(e(505))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(463)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){J(this,(function(){const n=V,t=new RegExp(n(485)),e=new RegExp(n(476),"i"),o=Q("init");t.test(o+"chain")&&e[n(461)](o+n(473))?Q():o("0")}))()}();const $=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(463)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function V(n,t){const e=X();return(V=function(n,t){return e[n-=449]})(n,t)}$(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function(n(484)+n(453)+");")()}catch(e){t=window}return t}(),e=t[n(480)]=t.console||{},o=[n(493),n(483),n(462),"error","exception","table",n(452)];for(let r=0;r<o[n(489)];r++){const t=$.constructor.prototype.bind($),i=o[r],s=e[i]||t;t[n(506)]=$.bind($),t[n(464)]=s[n(464)][n(451)](s),e[i]=t}}))();const W=[K(454),K(469)],q=p({__name:K(471),props:{globalUniforms:{}},setup(e){const o=K,r=e,i=[],s=[];for(let l=0;l<2e4;l++){const e=t[o(472)](35),r=n[o(468)].randFloat(-5,10),a=t.randFloatSpread(35),c=n[o(468)][o(488)](.25,.5);i[o(458)](e,r,a,e,r,a),s.push(0,c,1,c)}const a=new(n[o(470)]);a[o(455)](o(490),new(n[o(499)])(i,3)),a[o(455)](o(495),new(n[o(499)])(s,2));const c=new(n[o(487)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n[t(475)][t(456)]=r[t(478)].time,n[t(475)][t(500)]=r.globalUniforms[t(479)],n[t(475)].globalBloom=r[t(478)][t(481)],n[t(465)]=(t(491)+n[t(465)]+"\n    ").replace("#include <begin_vertex>","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(459)]=(t(497)+U+t(502)+n[t(459)]+"\n    ").replace("vec4 diffuseColor = vec4( diffuse, opacity );",t(460))}});return(n,t)=>{const e=o;return v(),d(e(474),{material:m(c),geometry:m(a)},null,8,W)}}});function X(){const n=["push","fragmentShader","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","test","info","apply","toString","vertexShader","stateObject","string","MathUtils","geometry","BufferGeometry","drops","randFloatSpread","input","TresLineSegments","uniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4627dpgMJo","globalUniforms","noise","console","globalBloom","gger","warn","return (function() ","function *\\( *\\)","532146hpFvjZ","LineBasicMaterial","randFloat","length","position","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","20835cZsgcJ","log","while (true) {}","gEnds","3066520xOJsmE","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","6863736ndZJNB","Float32BufferAttribute","noiseTex","constructor","\n      ","counter","4556199tBiIik","21510HNORDN","__proto__","action","12488xsAoQa","10TsxSJE","1670780vyJfCs","bind","trace",'{}.constructor("return this")( )',"material","setAttribute","time","debu"];return(X=function(){return n})()}function Q(n){function t(n){const e=V;if(typeof n===e(467))return function(n){}[e(501)](e(494))[e(463)](e(503));1!==(""+n/n).length||n%20==0?function(){return!0}[e(501)]("debu"+e(482)).call(e(507)):function(){return!1}[e(501)](e(457)+e(482))[e(463)](e(466)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Y=en;!function(n,t){const e=en,o=on();for(;;)try{if(615040===parseInt(e(169))/1+parseInt(e(178))/2*(-parseInt(e(170))/3)+parseInt(e(184))/4*(-parseInt(e(133))/5)+-parseInt(e(181))/6*(parseInt(e(137))/7)+-parseInt(e(149))/8*(-parseInt(e(123))/9)+parseInt(e(175))/10*(parseInt(e(148))/11)+parseInt(e(139))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const nn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[en(126)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){nn(this,(function(){const n=en,t=new RegExp(n(134)),e=new RegExp(n(145),"i"),o=sn(n(127));t[n(132)](o+n(177))&&e[n(132)](o+n(130))?sn():o("0")}))()}();const tn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[en(126)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function en(n,t){const e=on();return(en=function(n,t){return e[n-=118]})(n,t)}function on(){const n=["addPass","constructor","bind","time","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","toString","length","\n      uniform float time;\n      ","setRenderTarget","replace","861104hKAVax","960447ePKpet","baseTexture","warn","table","value","10xuqZny","render","chain","6aNaZoD","renderToScreen","string","1184184hCewmw","action","\n    ","8NmrYZA","log","exception","gger","return (function() ","error","defines","Vector2","2313AghxSY","color","add","apply","init","fog","texture","input","MeshBasicMaterial","test","2800285cifhLQ","function *\\( *\\)","needsSwap","call","35SccztH","debu","12136668WagJOA","fragmentShader","background","Mesh","globalBloom","Camera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniforms","WebGLRenderTarget","10266311rEakMF","27288WzzHiC","height","fboRender","Fog","set","ShaderMaterial","stateObject","info","console","trace"];return(on=function(){return n})()}tn(void 0,(function(){const n=en,t=function(){const n=en;let t;try{t=Function(n(119)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(157)]=t.console||{},o=[n(185),n(172),n(156),n(120),n(186),n(173),n(158)];for(let r=0;r<o[n(165)];r++){const t=tn[n(160)].prototype[n(161)](tn),i=o[r],s=e[i]||t;t.__proto__=tn[n(161)](tn),t[n(164)]=s.toString[n(161)](s),e[i]=t}}))();const rn=p({__name:Y(151),setup(t){const f=Y,p={time:{value:0},globalBloom:{value:0},noise:{value:null}},g=new(n[f(147)])(512,512),m=new e,y=new(n[f(144)]),w=new o(2,2),_=new(n[f(131)])({onBeforeCompile:n=>{const t=f;n[t(146)][t(162)]=p.time,n[t(140)]=(t(166)+U+"\n      "+n.fragmentShader+t(183))[t(168)]("vec4 diffuseColor = vec4( diffuse, opacity );","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ")}});_[f(121)]={USE_UV:""};const I=new(n[f(142)])(w,_);m[f(125)](I),p.noise[f(174)]=g[f(129)];const{camera:S,renderer:T,scene:B,sizes:D,controls:N}=u();b((()=>N[f(174)]),(n=>{const t=f;null==n||n.target[t(153)](0,2,0),!B.value[t(141)]&&(B[t(174)][t(141)]=new c(6706534))}));const j=new r(T[f(174)]),F=new r(T[f(174)]),z=new i(B[f(174)],S.value),C=new s(new(n[f(122)])(D.width[f(174)],D[f(150)][f(174)]),1.2,.5,0);j[f(179)]=!1,j.addPass(z),j.addPass(C);const M=new a(new(n[f(154)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:j.renderTarget2[f(129)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:f(163),defines:{}}),f(171));M[f(135)]=!0,F[f(159)](z),F[f(159)](M),B.value.fog=new(n[f(152)])(6706534,1,25);const{onLoop:A}=l();return A((({elapsed:n})=>{var t,e;const o=f;p.time[o(174)]=n,T.value&&(T[o(174)][o(167)](g),T.value[o(176)](m,y),T[o(174)][o(167)](null),p[o(143)][o(174)]=1.2,B[o(174)].fog[o(124)][o(153)](0),B.value.fog.near=15,null==(t=B[o(174)][o(141)])||t[o(153)](0),j[o(176)](),p[o(143)][o(174)]=0,B[o(174)][o(128)][o(124)][o(153)](6706534),B[o(174)][o(128)].near=10,null==(e=B[o(174)][o(141)])||e[o(153)](6706534),F.render())})),(n,t)=>(v(),d(h,null,[x(E,{globalUniforms:p}),x(G,{globalUniforms:p}),x(q,{globalUniforms:p})],64))}});function sn(n){function t(n){const e=en;if(typeof n===e(180))return function(n){}[e(160)]("while (true) {}")[e(126)]("counter");1!==(""+n/n)[e(165)]||n%20==0?function(){return!0}[e(160)](e(138)+e(118))[e(136)](e(182)):function(){return!1}[e(160)]("debu"+e(118))[e(126)](e(155)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const an={class:"text"};const cn=T({},[["render",function(n,t){return v(),d("div",an,t[0]||(t[0]=[g("span",{class:"retro noselect"},[g("span",{style:{color:"#eae"}},"光"),y("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),ln=vn;!function(n,t){const e=vn,o=pn();for(;;)try{if(441638===parseInt(e(313))/1*(-parseInt(e(325))/2)+parseInt(e(334))/3*(parseInt(e(336))/4)+-parseInt(e(339))/5+-parseInt(e(345))/6+-parseInt(e(320))/7+parseInt(e(329))/8*(parseInt(e(338))/9)+-parseInt(e(317))/10*(-parseInt(e(350))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const un=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(327)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){un(this,(function(){const n=vn,t=new RegExp(n(321)),e=new RegExp(n(314),"i"),o=gn("init");t[n(343)](o+n(331))&&e[n(343)](o+"input")?gn():o("0")}))()}();const fn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(327)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function pn(){const n=["apply","lightNoise","31272gZFyOV","debu","chain","stateObject","manual","42syXpnh","toString","173516IwZOvI","exception","531tFSWFm","129325QVBlvZ","string","warn","DEG2RAD","test","trace","1522572KfRKSX","TresAmbientLight","constructor","__proto__","length","44473QzRSHi","MathUtils","return (function() ","25194HMvOhG","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","log","510WHtaOv","counter","TresPerspectiveCamera","1025549SygUmL","function *\\( *\\)","bind","gger",'{}.constructor("return this")( )',"14MBSHPe","prototype"];return(pn=function(){return n})()}function vn(n,t){const e=pn();return(vn=function(n,t){return e[n-=313]})(n,t)}fn(void 0,(function(){const n=vn,t=function(){const n=vn;let t;try{t=Function(n(352)+n(324)+");")()}catch(e){t=window}return t}(),e=t.console=t.console||{},o=[n(316),n(341),"info",n(315),n(337),"table",n(344)];for(let r=0;r<o[n(349)];r++){const t=fn.constructor[n(326)][n(322)](fn),i=o[r],s=e[i]||t;t[n(348)]=fn[n(322)](fn),t[n(335)]=s[n(335)][n(322)](s),e[i]=t}}))();const dn=p({__name:ln(328),setup(e){const o=ln,r={windowSize:!0,antialias:!0,renderMode:o(333)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[o(342)],maxPolarAngle:90*n[o(351)][o(342)],makeDefault:!0};return(n,t)=>{const e=o,s=w("TresCanvas");return v(),d(h,null,[x(cn),x(s,I(S(r)),{default:_((()=>[t[0]||(t[0]=g(e(319),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),x(m(f),I(S(i)),null,16),t[1]||(t[1]=g(e(346),{intensity:.5},null,-1)),t[2]||(t[2]=g("TresDirectionalLight",{position:[0,3,-12],intensity:1},null,-1)),x(rn)])),_:1},16)],64)}}});function gn(n){function t(n){const e=vn;if(typeof n===e(340))return function(n){}.constructor("while (true) {}")[e(327)](e(318));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(330)+e(323)).call("action"):function(){return!1}[e(347)](e(330)+"gger")[e(327)](e(332)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{dn as default};
