import{b as t,_ as n,a as e}from"./three.3wvNjL8W1741683274763.js";import{m as o}from"./@tresjs.tqalU7S21741683274763.js";import{d as a,P as r}from"./@pmndrs.WfX6M2011741683274763.js";import{d as s,b as i,w as c,a2 as u,o as l,H as f,N as p,aj as d,ak as h}from"./@vue.NRI7TcgI1741683274763.js";const m=w;!function(t,n){const e=w,o=M();for(;;)try{if(425076===parseInt(e(469))/1*(-parseInt(e(493))/2)+parseInt(e(534))/3*(-parseInt(e(521))/4)+-parseInt(e(481))/5+-parseInt(e(502))/6+-parseInt(e(517))/7+parseInt(e(491))/8*(-parseInt(e(510))/9)+-parseInt(e(489))/10*(-parseInt(e(485))/11))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const b=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(532)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=w,n=new RegExp(t(498)),e=new RegExp(t(456),"i"),o=x(t(522));n.test(o+"chain")&&e[t(478)](o+t(472))?x():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(532)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function w(t,n){const e=M();return(w=function(t,n){return e[t-=455]})(t,n)}g(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(538)+t(539)+");")()}catch(e){n=window}return n}(),e=n[t(466)]=n[t(466)]||{},o=[t(523),t(468),t(497),"error","exception",t(467),t(479)];for(let a=0;a<o.length;a++){const n=g[t(507)][t(471)].bind(g),r=o[a],s=e[r]||n;n[t(524)]=g[t(464)](g),n[t(512)]=s.toString[t(464)](s),e[r]=n}}))();const y=[m(541)];function M(){const t=["input","radius","shadow","texture","set","Group","test","trace","acos","1575860OfOTHO","left","amount","color","55PQRYxQ","position","frames","top","3577610JstcQb","randFloatSpread","592304JSyiSy","bias","526QEGkXL","counter","shadows render start","debu","info","function *\\( *\\)","height","lightPosition","blendWindow","2349318ApTTDk","clear","add","while (true) {}","far","constructor","gger","opacity","45EEHqER","mapSize","toString","prepare","remove","length","shadows plm update","836122lqeYRP","children","TresMesh","camera","68fIkoBE","init","log","__proto__","finish","TresPlaneGeometry","right","DirectionalLight","alphaTest","call","update","apply","size","27447CjhibH","material","MathUtils","gPlane","return (function() ",'{}.constructor("return this")( )',"ambient","rotate-x","blend","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","sin","random","action","castShadow","cos","near","shadows render end","bind","value","console","table","warn","45uKElQM","string","prototype"];return(M=function(){return t})()}const I=s({__name:"accumulativeShadowsCom",props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const b=m,g=s;let w=i();const{extend:M,scene:I,renderer:x,camera:S}=o();M({SoftShadowMaterial:a});const z={position:(new t)[b(476)](g.lightPosition.x,g[b(500)].y,g[b(500)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new r(x[b(465)],I[b(465)],z[b(511)]),v={map:P.progressiveLightMap2[b(475)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g.blend,alphaTest:g[b(529)],opacity:g[b(509)],color:g[b(484)]},_=new(n[b(477)]);for(let t=0;t<z[b(483)];t++){const t=new(n[b(528)])(16777215,z.intensity/z[b(483)]);t[b(460)]=!0,t[b(474)][b(492)]=z[b(492)],t[b(474)][b(520)][b(462)]=z[b(462)],t[b(474)][b(520)][b(506)]=z[b(506)],t[b(474)][b(520)][b(527)]=z.size/2,t[b(474)][b(520)][b(482)]=-z[b(533)]/2,t[b(474)][b(520)][b(488)]=z[b(533)]/2,t[b(474)][b(520)].bottom=-z.size/2,t[b(474)][b(511)].width=z[b(511)],t.shadow[b(511)][b(499)]=z[b(511)],_.add(t)}const T=()=>{const t=b,o=z[t(486)][t(515)]();for(let a=0;a<_[t(518)].length;a++){const r=_[t(518)][a];if(Math[t(458)]()>g.ambient)r[t(486)][t(476)](z[t(486)].x+n[t(536)][t(490)](z[t(473)]),z[t(486)].y+e[t(490)](z[t(473)]),z[t(486)].z+n[t(536)][t(490)](z.radius));else{let n=Math[t(480)](2*Math[t(458)]()-1)-Math.PI/2,e=2*Math.PI*Math.random();r[t(486)][t(476)](Math[t(461)](n)*Math[t(461)](e)*o,Math.abs(Math[t(461)](n)*Math[t(457)](e)*o),Math[t(457)](n)*o)}}},j=(t=1)=>{const n=b;I[n(465)][n(504)](_),P[n(513)]();for(let e=0;e<t;e++)T(),P[n(531)](S[n(465)],g[n(501)]),console[n(523)](n(516),e);I[n(465)][n(514)](_),P[n(525)]()};c((()=>w.value),(t=>{const n=b;t&&(P.configure(t),P[n(503)](),console[n(523)](n(495)),j(g[n(487)]),console[n(523)](n(463)))}));const E=()=>{const t=b;P[t(503)](),j(g[t(487)])};return u((()=>{const t=b;w.value&&(g.opacity&&(w.value[t(535)][t(509)]=g[t(509)]),g[t(529)]&&(w.value[t(535)][t(529)]=g[t(529)]),g[t(484)]&&w[t(465)][t(535)][t(484)].set(g.color),g.blend&&(w[t(465)][t(535)][t(455)]=g[t(455)]))})),c((()=>g[b(500)]),(t=>{const n=b;t&&(console[n(523)](g[n(500)]),z[n(486)][n(476)](t.x,t.y,t.z),E())}),{deep:!0}),c((()=>[g[b(487)],g[b(501)],g[b(540)]]),(()=>{E()})),(t,n)=>{const e=b;return l(),f(e(519),{"receive-shadow":"",ref_key:e(537),ref:w,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=p(e(526),{args:[1,1]},null,-1)),p("TresSoftShadowMaterial",d(h(v)),null,16)],8,y)}}});function x(t){function n(t){const e=w;if(typeof t===e(470))return function(t){}[e(507)](e(505)).apply(e(494));1!==(""+t/t)[e(515)]||t%20==0?function(){return!0}.constructor(e(496)+e(508))[e(530)](e(459)):function(){return!1}[e(507)](e(496)+"gger")[e(532)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
