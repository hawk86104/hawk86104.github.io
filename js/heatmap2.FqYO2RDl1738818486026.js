import{P as t}from"./tweakpane.yDiyAAkA1738818486026.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.Y9qQy12V1738818486026.js";import{_ as r}from"./heatmap.js-fix.DPVvGxy11738818486026.js";import{a as i,Y as c,cw as s,_ as u,l as a}from"./three.WgQSjl1J1738818486026.js";import{r as p}from"./utils.YTlh6GeJ1738818486026.js";import{d as f}from"./pinia.GNZjCSUA1738818486026.js";import{b as l,d as h,a2 as d,o as m,H as g,N as y,u as v,F as w,q as b,W as _,P as I,R as x,L as j,O as M,a3 as P,r as S,j as k,g as z,m as R}from"./@vue.NRI7TcgI1738818486026.js";import{c as U,d as D,a as E}from"./three-mesh-bvh.9NycxKmG1738818486026.js";import{_ as O}from"./@fesjs.LLTzkpAZ1738818486026.js";import"./@tresjs.ZGxFoQtw1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";import"./three-custom-shader-material.GL6LOUMf1738818486026.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1738818486026.js";import"./@amap.E-EiiwM61738818486026.js";import"./vue-router.CrYQ3hrU1738818486026.js";import"./lodash-es.pklfUAS51738818486026.js";import"./@qlin.yHhFDldE1738818486026.js";import"./@floating-ui.BPbuo5Gx1738818486026.js";import"./@juggle.7yjBMqoW1738818486026.js";!function(t,n){const e=V,o=F();for(;;)try{if(592138===parseInt(e(295))/1*(parseInt(e(278))/2)+parseInt(e(285))/3+-parseInt(e(262))/4+parseInt(e(297))/5+-parseInt(e(261))/6+parseInt(e(310))/7*(-parseInt(e(256))/8)+-parseInt(e(255))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=V,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(270),"i"),o=A(t(308));n[t(283)](o+"chain")&&e[t(283)](o+t(275))?A():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(304)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(){const t=["create","top","display","gger","exception","info","trace","position","body","17198vPrzdm","warn","5837855UeSNoU","stateObject","createElement","bind","debu",'{}.constructor("return this")( )',"log","apply","return (function() ","_config","yellow","init","rgb(0,255,0)","70SzckKT","3557277yJucVT","86520vkVBJi","table","style","counter","left","4424688niujGN","1165648sSRhwY","heatmap-canvas","getValueAt","length","prototype","toString","randInt","width","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","constructor","action","console","input","absolute","none","24wImqla","push","call","setData","while (true) {}","test","rgb(255,0,0)","2251362lKMske"];return(F=function(){return t})()}Z(void 0,(function(){const t=V,n=function(){const t=V;let n;try{n=Function(t(305)+t(302)+");")()}catch(e){n=window}return n}(),e=n[t(274)]=n.console||{},o=[t(303),t(296),t(291),"error",t(290),t(257),t(292)];for(let r=0;r<o[t(265)];r++){const n=Z.constructor[t(266)][t(300)](Z),i=o[r],c=e[i]||n;n.__proto__=Z[t(300)](Z),n[t(267)]=c[t(267)][t(300)](c),e[i]=n}}))();const L=(t,n)=>t[V(264)](n)+-10;function V(t,n){const e=F();return(V=function(t,n){return e[t-=255]})(t,n)}function A(t){function n(t){const e=V;if(typeof t===e(271))return function(t){}[e(272)](e(282))[e(304)](e(259));1!==(""+t/t)[e(265)]||t%20==0?function(){return!0}[e(272)](e(301)+e(289))[e(280)](e(273)):function(){return!1}.constructor(e(301)+e(289)).apply(e(298)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=Y;!function(t,n){const e=Y,o=B();for(;;)try{if(308632===parseInt(e(196))/1+parseInt(e(210))/2*(-parseInt(e(215))/3)+parseInt(e(188))/4*(-parseInt(e(200))/5)+parseInt(e(201))/6+-parseInt(e(207))/7*(parseInt(e(199))/8)+parseInt(e(198))/9*(-parseInt(e(182))/10)+parseInt(e(195))/11*(parseInt(e(197))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(214)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(){const t=["305683UUpeOO","1164uKPPkV","1561347VlrQYH","51416LPPgTv","545050gLdPCj","3041688HYbmGu","toString","exception","chain","init","test","217vFyZVU","bind",'{}.constructor("return this")( )',"60748UvrHPy","string","return (function() ","debu","apply","3glwNLD","info","warn","constructor","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","10lkrPSf","value","buildingsHeatmap","counter","trace","log","16KcHFQM","table","console","length","call","prototype","action","38005GCaoxf"];return(B=function(){return t})()}!function(){$(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(220),"i"),o=q(t(205));n[t(206)](o+t(204))&&e[t(206)](o+t(181))?q():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(214)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Y(t,n){const e=B();return(Y=function(t,n){return e[t-=181]})(t,n)}C(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(212)+t(209)+");")()}catch(e){n=window}return n}(),e=n[t(190)]=n[t(190)]||{},o=[t(187),t(217),t(216),t(219),t(203),t(189),t(186)];for(let r=0;r<o[t(191)];r++){const n=C.constructor[t(193)][t(208)](C),i=o[r],c=e[i]||n;n.__proto__=C.bind(C),n[t(202)]=c[t(202)][t(208)](c),e[i]=n}}))();const K=f(H(184),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[Y(183)]=n},setTemperature:function(t){n[Y(183)]=t}}}));function q(t){function n(t){const e=Y;if(typeof t===e(211))return function(t){}.constructor("while (true) {}")[e(214)](e(185));1!==(""+t/t)[e(191)]||t%20==0?function(){return!0}[e(218)](e(213)+"gger")[e(192)](e(194)):function(){return!1}[e(218)](e(213)+"gger")[e(214)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=tt;!function(t,n){const e=tt,o=W();for(;;)try{if(769170===-parseInt(e(319))/1+parseInt(e(313))/2+-parseInt(e(326))/3*(parseInt(e(322))/4)+parseInt(e(299))/5*(parseInt(e(356))/6)+parseInt(e(351))/7*(-parseInt(e(321))/8)+parseInt(e(333))/9+parseInt(e(316))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(341)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=tt,n=new RegExp(t(303)),e=new RegExp(t(352),"i"),o=et("init");n[t(318)](o+t(310))&&e[t(318)](o+t(315))?et():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(341)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=tt,n=function(){const t=tt;let n;try{n=Function("return (function() "+t(335)+");")()}catch(e){n=window}return n}(),e=n[t(343)]=n[t(343)]||{},o=["log","warn",t(324),t(340),t(295),t(350),"trace"];for(let r=0;r<o[t(298)];r++){const n=Q[t(355)][t(334)][t(354)](Q),i=o[r],c=e[i]||n;n[t(300)]=Q[t(354)](Q),n[t(338)]=c[t(338)][t(354)](c),e[i]=n}}))();const X=[G(308),G(346)],J=[G(308)];function W(){const t=["数值：","needsUpdate","toString","string","error","apply","gger","console","raycast","land","rotation-x","BufferGeometry","setTemperature","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","table","7MnccMl","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","model","bind","constructor","1371618UzylPi","stateObject","$patch","disposeBoundsTree","value","applyMatrix4","exception","Matrix4","counter","length","10pZUSqr","__proto__","action","opacity","function *\\( *\\)","primitive","clone","setShowDiv","while (true) {}","object","geometry","chain","DoubleSide","normal","435796XLpeqs","Mesh","input","19883400lJrmXG","attributes","test","221726YzoYxI","matrix","6289824FrRLxC","3967028vprzVt","height","info","call","3hnkCzZ","log","_config","数值———：","city","buildingsHeatmap","canvas","948933MiwKCk","prototype",'{}.constructor("return this")( )'];return(W=function(){return t})()}function tt(t,n){const e=W();return(tt=function(t,n){return e[t-=290]})(t,n)}const nt=h({__name:G(331),props:{model:{},opacity:{default:1}},setup(t){const n=G;(()=>{const t=tt;u[t(347)][t(334)].computeBoundsTree=U,u[t(347)][t(334)][t(292)]=D,u[t(314)][t(334)][t(344)]=E})();const e=t,o=((t=250,n=250,e=!0)=>{const o=V,i=document[o(299)](o(263));return i[o(258)][o(293)]=o(276),!e&&(i[o(258)][o(288)]=o(277)),i[o(258)][o(287)]="0",i.style[o(260)]="0",document[o(294)].appendChild(i),r[o(286)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(309),.85:o(307),1:o(284)}})})();((t,n)=>{const e=V;if(!n){let o=0;for(n=[];o<1e3;)n[e(279)]({x:i[e(268)](1,t._config[e(269)]),y:i[e(268)](1,t[e(306)].height),value:i[e(268)](-10,36)}),o++}t[e(281)]({max:36,min:-10,data:n})})(o);const f=new c(o._renderer[n(332)]);f[n(337)]=!0;const l=e[n(353)][n(330)][n(305)]();delete l.geometry[n(317)][n(312)],delete l[n(309)].attributes.uv;const h=l.geometry[n(305)]()[n(294)](l[n(320)]),b=e[n(353)][n(345)][n(305)]();delete b[n(309)][n(317)][n(312)];const _=b.geometry[n(305)]()[n(294)](b.matrix),I=s([h,_]);I[n(294)]((new(u[n(296)])).makeRotationX(Math.PI/2)),p(I),I.computeBoundsTree();const x=(t=>{const o=n;return new a({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(349),uniforms:{uOpacity:{value:e[o(302)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(311)]})})(f),j=new(u[n(314)])(I,x);d((()=>{const t=n;e[t(302)]&&(x.uniforms.uOpacity[t(293)]=e[t(302)])}));const M=K(),P=t=>{const e=n;if(t){const n={x:t.uv.x*o._config.width,y:(1-t.uv.y)*o[e(328)][e(323)]};console.log(e(336),t),console[e(327)](e(329),L(o,n)),M[e(348)](L(o,n))}},S=t=>{t&&M[n(291)]({showDiv:!0})},k=t=>{t&&M[n(306)](!1)};return(t,o)=>{const r=n;return m(),g(w,null,[y(r(304),{object:v(j),"rotation-x":-Math.PI/2,onPointerMove:P,onPointerEnter:S,onPointerLeave:k},null,40,X),y(r(304),{object:e.model.model.children[0][r(305)]()},null,8,J)],64)}}});function et(t){function n(t){const e=tt;if(typeof t===e(339))return function(t){}.constructor(e(307)).apply(e(297));1!==(""+t/t)[e(298)]||t%20==0?function(){return!0}[e(355)]("debu"+e(342))[e(325)](e(301)):function(){return!1}.constructor("debugger")[e(341)](e(290)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=O({__name:"dataDiv",setup(t){const n=K(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((m(),g("div",{class:"title",style:M(e.value)},"温度："+j(v(n).temperature)+"℃ ",5)),[[x,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=ct,o=st();for(;;)try{if(897380===parseInt(e(204))/1+parseInt(e(181))/2*(parseInt(e(206))/3)+-parseInt(e(186))/4*(-parseInt(e(203))/5)+parseInt(e(192))/6*(parseInt(e(182))/7)+-parseInt(e(196))/8+-parseInt(e(200))/9+-parseInt(e(191))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ct,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(173),"i"),o=at(t(197));n.test(o+t(207))&&e[t(210)](o+t(176))?at():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ct(178)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(t,n){const e=st();return(ct=function(t,n){return e[t-=172]})(t,n)}function st(){const t=["error","console","4467416wbunTa","init","#000","exception","5425182xgtyOY","call","log","993445DzyKeT","131712kdiLDs","addBinding","198807iIRrFm","chain","action","toString","test","bind","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","table","input","model","apply","while (true) {}","gger","52cVHsld","31822LsOFms",'{}.constructor("return this")( )',"__proto__","debu","4QKrqcQ","return (function() ","city","string","length","4812120GMBRwv","642EHZkNM","stateObject"];return(st=function(){return t})()}it(void 0,(function(){const t=ct;let n;try{n=Function(t(187)+t(183)+");")()}catch(r){n=window}const e=n[t(195)]=n[t(195)]||{},o=[t(202),"warn","info",t(194),t(199),t(175),"trace"];for(let i=0;i<o[t(190)];i++){const n=it[t(174)].prototype[t(211)](it),r=o[i],c=e[r]||n;n[t(184)]=it[t(211)](it),n[t(209)]=c[t(209)].bind(c),e[r]=n}}))();const ut=h({__name:"heatmap2",async setup(r){const i=ct;let c,s;const u=l(!1),a=([c,s]=P((()=>o())),c=await c,s(),c);u[i(172)]=!0;const p=S({width:1,color:i(198),opacity:1,show:!0}),f=S({opacity:.9});return new t({title:"参数",expanded:!0})[i(205)](f,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(w,null,[k(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[k(nt,R({model:v(a)},f),null,16,[r(177)]),k(n,R(p,{builds:v(a)[r(188)]}),null,16,["builds"])])),_:1}),k(ot)],64)}}});function at(t){function n(t){const e=ct;if(typeof t===e(189))return function(t){}.constructor(e(179))[e(178)]("counter");1!==(""+t/t)[e(190)]||t%20==0?function(){return!0}[e(174)](e(185)+e(180))[e(201)](e(208)):function(){return!1}[e(174)](e(185)+e(180)).apply(e(193)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
