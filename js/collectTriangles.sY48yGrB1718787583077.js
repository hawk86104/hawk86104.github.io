import{a as t,r as n,$ as e,d as r}from"./@tresjs.yMGhEK7G1718787583077.js";import{_ as o}from"./index.-hwd2uJC1718787583077.js";import{a as s}from"./index.NWNYYgod1718787583077.js";import{a5 as i,a as c,cA as a}from"./three.OZpCYxlY1718787583077.js";import{P as u}from"./tweakpane.qqn77PB81718787583077.js";import{I as l,C as p,N as f,c as d,d as h,a as g}from"./three-mesh-bvh.kKYQZqAu1718787583077.js";import{d as m,a3 as y,b as w,a2 as j,o as b,D as I,J as v,u as _,F as x,r as A,e as M,j as T,g as z,m as R,f as k,al as O}from"./@vue.CpOXM7bB1718787583077.js";import"./@vueuse.jAwx0y-e1718787583077.js";import"./default.vue_vue_type_script_setup_true_lang.PLtwinxK1718787583077.js";import"./@fesjs.BvrsBDNW1718787583077.js";import"./vue-router.2IN93cQd1718787583077.js";import"./lodash-es.nFpJXAf-1718787583077.js";import"./@qlin.yHhFDldE1718787583077.js";import"./pinia.jgDkRZDw1718787583077.js";import"./@floating-ui.BPbuo5Gx1718787583077.js";import"./@juggle.7yjBMqoW1718787583077.js";import"./three-stdlib.qiumRy5f1718787583077.js";import"./@pmndrs.14-i3u7y1718787583077.js";import"./object-hash.qNEzwKzz1718787583077.js";import"./@amap.SdFHYHOw1718787583077.js";import"./jszip.b_9tpgnb1718787583077.js";!function(t,n){const e=C,r=S();for(;;)try{if(216194===parseInt(e(147))/1+parseInt(e(134))/2+parseInt(e(162))/3+parseInt(e(161))/4*(-parseInt(e(141))/5)+-parseInt(e(154))/6*(parseInt(e(155))/7)+-parseInt(e(148))/8*(parseInt(e(150))/9)+-parseInt(e(165))/10*(parseInt(e(132))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(142)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function S(){const t=["trace","debu","enabled","22038vLTOpF","42eUHtnh","pointermove","constructor","Raycaster","call","warn","578616AElYIR","795681IOxzLO","innerWidth","pointerType","8600KnCjRI","value","stateObject","toString","exception","button","function *\\( *\\)","firstHitOnly","setFromCamera","addEventListener","prototype","bind","gger","pointerdown","info","console","891AqfUTI",'{}.constructor("return this")( )',"851342qNtOFf","touch","input","counter","innerHeight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","10MQDvZp","apply","string","length","pointerup","action","313652KoaRNl","130352vAvjBa","__proto__","225zceBUP"];return(S=function(){return t})()}function C(t,n){const e=S();return(C=function(t,n){return e[t-=117]})(t,n)}!function(){B(this,(function(){const t=C,n=new RegExp(t(122)),e=new RegExp(t(139),"i"),r=F("init");n[t(140)](r+"chain")&&e.test(r+t(136))?F():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(142)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();E(void 0,(function(){const t=C;let n;try{n=Function("return (function() "+t(133)+");")()}catch(o){n=window}const e=n[t(131)]=n[t(131)]||{},r=["log",t(160),t(130),"error",t(120),"table",t(151)];for(let s=0;s<r[t(144)];s++){const n=E[t(157)][t(126)].bind(E),o=r[s],i=e[o]||n;n[t(149)]=E[t(127)](E),n[t(119)]=i[t(119)][t(127)](i),e[o]=n}}))();function F(t){function n(t){const e=C;if(typeof t===e(143))return function(t){}[e(157)]("while (true) {}")[e(142)](e(137));1!==(""+t/t)[e(144)]||t%20==0?function(){return!0}[e(157)]("debu"+e(128))[e(159)](e(146)):function(){return!1}.constructor(e(152)+"gger")[e(142)](e(118)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=N;!function(t,n){const e=N,r=P();for(;;)try{if(257480===parseInt(e(376))/1+-parseInt(e(445))/2*(parseInt(e(429))/3)+parseInt(e(387))/4*(-parseInt(e(397))/5)+-parseInt(e(378))/6*(parseInt(e(426))/7)+-parseInt(e(435))/8*(parseInt(e(432))/9)+-parseInt(e(453))/10+parseInt(e(415))/11*(parseInt(e(388))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(381)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=N,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(442),"i"),r=H(t(396));n[t(431)](r+t(404))&&e[t(431)](r+"input")?H():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();L(void 0,(function(){const t=N;let n;try{n=Function(t(389)+t(413)+");")()}catch(o){n=window}const e=n[t(438)]=n[t(438)]||{},r=[t(401),t(399),t(412),t(427),t(377),t(398),t(393)];for(let s=0;s<r[t(385)];s++){const n=L[t(402)][t(375)][t(447)](L),o=r[s],i=e[o]||n;n.__proto__=L[t(447)](L),n[t(395)]=i[t(395)].bind(i),e[o]=n}}))();const q=[U(425),U(450)],Y=[v(U(434),{args:[1,40,40]},null,-1),v(U(392),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],$=[U(425)],W=[v("TresMeshStandardMaterial",{color:U(391),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function N(t,n){const e=P();return(N=function(t,n){return e[t-=368]})(t,n)}function P(){const t=["exception","12954xVAdOK","brushMesh","Vector3","apply","invert","matrixWorld","setUsage","length","getX","40rewWfF","12xALEQg","return (function() ","containsPoint","#023249","TresMeshStandardMaterial","trace","stateObject","toString","init","118725LDKtkW","table","warn","setZ","log","constructor","controls","chain","radius","attributes","click","color","action","firstHitOnly","setX","info",'{}.constructor("return this")( )',"DynamicDrawUsage","13973894qJsqej","push","MeshStandardMaterial","value","getY","TresMesh","copy","visible","gger","call","geometry","1015MYsnCQ","error","normal","349893AthacT","Vector2","test","9LlWuvW","model","TresSphereGeometry","870856cJxoBP","computeBoundsTree","Mesh","console","index","boundsTree","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","position","count","2UdWbzU","setAttribute","bind","targetMesh.value init","点击按钮","material","intersectsSphere","BufferGeometry","4625190ksgMyl","Matrix4","needsUpdate","BufferAttribute","getZ","applyMatrix4","setFromCamera","intersectsBox","Sphere","setScalar","counter","debu","targetMesh","prototype","225638tUbHQs"];return(P=function(){return t})()}const D=m({__name:U(433),props:{controls:{}},async setup(r){const o=U;let s,m;const A=r;(()=>{const t=N;i[t(452)][t(375)][t(436)]=d,i[t(452)].prototype.disposeBoundsTree=h,i[t(437)].prototype.raycast=g})();const M=([s,m]=y((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,m(),s),T=new(i[o(417)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),z=new Uint8Array(3*M[o(406)].position[o(444)]);z.fill(255);const R=new(i[o(456)])(z,3,!0);R[o(384)](i[o(414)]),M[o(446)](o(408),R);const k=w(null),O=w(null),B=w(!1),S=w(-1),E=w(.2),F=new(i[o(430)]),{camera:Z,raycaster:L}=t(),P=15/255,D=78/255,H=85/255;let J=null;j((()=>{const t=o;k.value&&(console[t(401)](t(448),k[t(418)]),k[t(418)].geometry[t(436)](),J=M[t(440)],((t,n,e,r,o,s)=>{const c=C;window[c(125)](c(156),(e=>{const r=c;t.x=e.clientX/window[r(163)]*2-1,t.y=-e.clientY/window[r(138)]*2+1,n[r(117)]=!0})),window.addEventListener(c(129),(a=>{const u=c;t.x=a.clientX/window[u(163)]*2-1,t.y=-a.clientY/window[u(138)]*2+1,r.value=a[u(121)];const l=new(i[u(158)]);l[u(124)](t,e.value),l[u(123)]=!0;const p=l.intersectObject(o[u(117)],!0);n[u(117)]=!0,s[u(153)]=0===p.length}),!0),window[c(125)](c(145),(t=>{const e=c;r[e(117)]=-1,t[e(164)]===e(135)&&(n[e(117)]=!1)}),!0)})(F,B,Z,S,k,A[t(403)][t(418)]))}));const{onLoop:K}=n();K((()=>{const t=o,n=M[t(439)];if(O[t(418)])if(A[t(403)].value.active||!B.value)O.value[t(422)]=!1;else{O[t(418)].scale[t(371)](E[t(418)]),L[t(418)][t(368)](F,Z[t(418)]),L[t(418)][t(410)]=!0;const e=L[t(418)].intersectObject(k[t(418)],!0);if(e[t(385)]){O.value[t(443)][t(421)](e[0].point),A[t(403)].value.enabled=!1,O.value[t(422)]=!0;const r=new(i[t(454)]);r[t(421)](k[t(418)][t(383)])[t(382)]();const o=new(i[t(370)]);o.center[t(421)](O[t(418)][t(443)])[t(458)](r),o[t(405)]=100*E[t(418)];const s=[],c=new(i[t(380)]);if(null==J||J.shapecast({intersectsBounds:n=>{const e=t,r=o[e(369)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c.set(0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(390)](c))return l;return p}return r?l:f},intersectsTriangle:(n,e,r)=>{if(r||n[t(451)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===S[t(418)]||2===S[t(418)]){let e=1,r=1,o=1;0===S[t(418)]&&(e=P,r=D,o=H);for(let i=0,c=s[t(385)];i<c;i++){const c=n[t(386)](s[i]);R[t(411)](c,e),R.setY(c,r),R[t(400)](c,o)}R[t(455)]=!0}}else O[t(418)][t(422)]=!1,A[t(403)][t(418)].enabled=!0}}));const Q=(new u).addButton({title:o(449),label:"生成模型"}),G=new(i[o(452)]);return Q.on(o(407),(()=>{const t=o,n=[],e=[];for(let o=0;o<R.count;o++)R[t(386)](o)===P&&R[t(419)](o)===D&&R[t(457)](o)===H&&(n.push(M[t(406)].position[t(386)](o),M[t(406)].position[t(419)](o),M.attributes[t(443)].getZ(o)),e[t(416)](M[t(406)][t(428)][t(386)](o),M[t(406)][t(428)][t(419)](o),M[t(406)][t(428)][t(457)](o)));const r=new Float32Array(n);G[t(446)](t(443),new c(r,3)),G[t(446)]("normal",new(i[t(456)])(r,3))})),(t,n)=>{const e=o;return b(),I(x,null,[v(e(420),{ref_key:e(374),ref:k,geometry:_(M),scale:.005,material:_(T)},null,8,q),v(e(420),{ref_key:e(379),ref:O,visible:!1},Y,512),v(e(420),{geometry:_(G),position:[-2,-2,2],scale:.005},W,8,$)],64)}}});function H(t){function n(t){const e=N;if("string"==typeof t)return function(t){}.constructor(e(441))[e(381)](e(372));1!==(""+t/t)[e(385)]||t%20==0?function(){return!0}[e(402)](e(373)+e(423))[e(424)](e(409)):function(){return!1}[e(402)](e(373)+e(423))[e(381)](e(394)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=G;!function(t,n){const e=G,r=V();for(;;)try{if(754553===-parseInt(e(420))/1+-parseInt(e(449))/2*(-parseInt(e(433))/3)+-parseInt(e(417))/4+-parseInt(e(446))/5+-parseInt(e(412))/6*(parseInt(e(454))/7)+parseInt(e(424))/8*(parseInt(e(418))/9)+parseInt(e(423))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=G,n=new RegExp(t(436)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=et(t(438));n[t(416)](r+t(448))&&e.test(r+t(442))?et():r("0")}))()}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(428)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(t,n){const e=V();return(G=function(t,n){return e[t-=405]})(t,n)}function V(){const t=["input","value","console","constructor","420400gooRdN","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","chain","38RAePlr","bind","controlsRef","collectTriangles","neg-x.jpg","3066742xduFVp","table","toString","pos-z.jpg","pos-y.jpg","info","action","TresPerspectiveCamera","files","6mNSSZU","neg-y.jpg","neg-z.jpg","controls","test","2230108BmAmMq","18Nzmamt",'{}.constructor("return this")( )',"1448934YtAYwI","return (function() ","stateObject","22049310SlcLKe","465424iGITEz","exception","TresAmbientLight","#999999","apply","TresCanvas","counter","prototype","debu","151881qyQkBt","trace","warn","function *\\( *\\)","error","init","pos-x.jpg","__proto__","while (true) {}"];return(V=function(){return t})()}Q(void 0,(function(){const t=G;let n;try{n=Function(t(421)+t(419)+");")()}catch(o){n=window}const e=n[t(444)]=n[t(444)]||{},r=["log",t(435),t(408),t(437),t(425),t(455),t(434)];for(let s=0;s<r.length;s++){const n=Q[t(445)][t(431)][t(450)](Q),o=r[s],i=e[o]||n;n[t(440)]=Q[t(450)](Q),n[t(405)]=i[t(405)][t(450)](i),e[o]=n}}))();const X=v(J(410),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),tt=v(J(426),{intensity:1},null,-1),nt=m({__name:J(452),setup(t){const n=J,e=A({clearColor:n(427),antialias:!0}),i=A({autoRotate:!1}),c=w(null);return(t,a)=>{const u=n,l=M(u(429));return b(),I(x,null,[T(_(o)),T(l,R(e,{"window-size":""}),{default:z((()=>[X,T(_(r),R({ref_key:u(451),ref:c},i),null,16),tt,(b(),k(O,null,{default:z((()=>[T(D,{controls:c[u(443)]},null,8,[u(415)])])),_:1})),(b(),k(O,null,{default:z((()=>[T(_(s),{background:!1,files:[u(439),u(453),u(407),u(413),u(406),u(414)],path:u(447)},null,8,[u(411)])])),_:1}))])),_:1},16)],64)}}});function et(t){function n(t){const e=G;if("string"==typeof t)return function(t){}[e(445)](e(441))[e(428)](e(430));1!==(""+t/t).length||t%20==0?function(){return!0}[e(445)](e(432)+"gger").call(e(409)):function(){return!1}.constructor(e(432)+"gger")[e(428)](e(422)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{nt as default};
