import{a as t,U as n}from"./@tresjs.01P8tiuF1731552996711.js";import{P as e}from"./tweakpane.yHWGBmom1731552996711.js";import{Y as o,a0 as r,m as a,_ as s,ak as i,al as c}from"./three.KG0QRRig1731552996711.js";import{_ as u}from"./heatmap.js-fix.Qdlz11pV1731552996711.js";import{d as l,a6 as p,a3 as f,o as d,D as h,u as m,r as g,e as v,f as y,g as b,J as w,j as x,al as _,aj as j,ak as I,m as C}from"./@vue.-THQH3GC1731552996711.js";import"./@vueuse.YduQ9gvc1731552996711.js";import"./@amap.QHC596bA1731552996711.js";const k=z;function z(t,n){const e=S();return(z=function(t,n){return e[t-=231]})(t,n)}!function(t,n){const e=z,o=S();for(;;)try{if(461495===parseInt(e(235))/1*(-parseInt(e(283))/2)+parseInt(e(239))/3+-parseInt(e(249))/4*(parseInt(e(286))/5)+parseInt(e(273))/6+-parseInt(e(277))/7+-parseInt(e(233))/8+parseInt(e(287))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=z,n=new RegExp(t(294)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=D(t(272));n[t(290)](o+t(247))&&e[t(290)](o+"input")?D():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(268)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function S(){const t=["0.8","BufferAttribute","create","radius","action","stateObject","apply","primitive","display","set","init","379758glPnyv","boundingBox","needsUpdate","attributes","5162185KszyLF","mesh_0","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","while (true) {}","onclick","absolute","6MqPGVk","position","log","40405EjNGBh","14363244JlrfxD","info","setDataMax","test","prototype","setScalar","heatmapClickCom","function *\\( *\\)","layerY","__proto__","material","console","table","layerX","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",'{}.constructor("return this")( )',"2390688pgwSRl","gger","73960pvmmqX","getX","push","counter","2096568KNyrVW","error","_renderer","addData","toString","constructor","setAttribute","left","chain","debu","316jAuQRJ","bind","style","block","canvas","body","heatmap-canvas","trace","getZ","call","computeBoundingBox","geometry","exception"];return(S=function(){return t})()}B(void 0,(function(){const t=z;let n;try{n=Function("return (function() "+t(232)+");")()}catch(r){n=window}const e=n[t(298)]=n[t(298)]||{},o=[t(285),"warn",t(288),t(240),t(261),t(299),t(256)];for(let a=0;a<o.length;a++){const n=B[t(244)][t(291)].bind(B),r=o[a],s=e[r]||n;n[t(296)]=B[t(250)](B),n[t(243)]=s.toString[t(250)](s),e[r]=n}}))();const M=["object"],R=l({__name:k(293),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=k;let i,c;const l=n,{nodes:g}=([i,c]=p((()=>t(e(231),{draco:!0,decoderPath:"./draco/"}))),i=await i,c(),i);g[e(278)][e(284)][e(271)](-5088.96,-3.08,39374.7),g[e(278)].scale[e(292)](.01);let v=null,y=null,b=null;y=new o((()=>{const t=e;return b=document.createElement(t(255)),b[t(251)].position=t(282),b[t(251)].top="40px",b[t(251)][t(246)]="0",document[t(254)].appendChild(b),v=u[t(264)]({container:b,width:256,height:256,blur:t(262),radius:l.radius}),v[t(241)].canvas[t(251)].border="1px solid #5384ff",v[t(241)][t(253)][t(281)]=function(n){const e=t;v[e(242)]({x:n[e(300)],y:n[e(295)],value:1,radius:l[e(265)]}),v[e(289)](1),y&&(y[e(275)]=!0)},v})()[e(241)][e(253)]);const w={vertexShader:e(279),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},x=new a(w);g[e(278)][e(297)]=x;return(t=>{const n=e;t[n(259)]();const{max:o,min:r}=t[n(274)];t.deleteAttribute("uv");const a=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t.attributes[n(284)].count;e++)c[n(237)]((t.attributes[n(284)][n(236)](e)-r.x)/a),c[n(237)]((t[n(276)][n(284)][n(257)](e)-r.z)/i);const u=new Float32Array(c);t[n(245)]("uv",new(s[n(263)])(u,2))})(g[e(278)][e(260)]),f((()=>{const t=e;b[t(251)][t(270)]=""+(l.show2dCanvas?t(252):"none")})),(t,n)=>{const o=e;return d(),h(o(269),{object:m(g)[o(278)]},null,8,M)}}});function D(t){function n(t){const e=z;if("string"==typeof t)return function(t){}[e(244)](e(280)).apply(e(238));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(248)+e(234))[e(258)](e(266)):function(){return!1}[e(244)](e(248)+e(234))[e(268)](e(267)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=P,o=L();for(;;)try{if(297441===parseInt(e(467))/1*(-parseInt(e(454))/2)+-parseInt(e(453))/3*(parseInt(e(472))/4)+-parseInt(e(470))/5+parseInt(e(451))/6+-parseInt(e(447))/7+parseInt(e(448))/8+-parseInt(e(471))/9*(-parseInt(e(484))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(469)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=P,n=new RegExp(t(462)),e=new RegExp(t(477),"i"),o=U(t(463));n[t(486)](o+t(445))&&e[t(486)](o+t(474))?U():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(469)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=L();return(P=function(t,n){return e[t-=445]})(t,n)}function L(){const t=["2IMLWHJ","prototype","apply","1193755kbQRWB","81AmbBlc","71396gAuobG","TresGridHelper","input","info","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","constructor","#030311","length","bind","debu","424300EzJHxf","radius","test","while (true) {}","点击左侧蓝色画框","chain","addBinding","1343489wwOznj","3638952YshPdi","trace","return (function() ","2804514rhZmCt","TresPerspectiveCamera","75OLYfir","129814yvcpHo","stateObject","table","log",'{}.constructor("return this")( )',"toString","显示二维图","#ffffff","function *\\( *\\)","init","gger","warn","addButton"];return(L=function(){return t})()}O(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(450)+t(458)+");")()}catch(e){n=window}return n}(),e=n[t(476)]=n.console||{},o=[t(457),t(465),t(475),t(478),"exception",t(456),t(449)];for(let r=0;r<o[t(481)];r++){const n=O[t(479)][t(468)][t(482)](O),a=o[r],s=e[a]||n;n.__proto__=O[t(482)](O),n.toString=s[t(459)][t(482)](s),e[a]=n}}))();const T=l({__name:"heatmapClick",setup(t){const o=P,r={clearColor:o(480),shadows:!0,alpha:!0,outputColorSpace:i,shadowMapType:c,useLegacyLights:!0,antialias:!0},a=g({show2dCanvas:!0,radius:20}),s=new e({title:"参数",expanded:!0});return s[o(446)](a,"show2dCanvas",{label:o(460)}),s.addBinding(a,o(485),{label:"圆圈的大小",min:.1,max:30,step:.1}),s[o(466)]({title:o(488)}),(t,e)=>{const s=o,i=v("TresCanvas");return d(),y(i,C(r,{"window-size":""}),{default:b((()=>[e[0]||(e[0]=w(s(452),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),x(m(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w("TresDirectionalLight",{position:[5,10,7.5],color:s(461),intensity:5},null,-1)),e[2]||(e[2]=w(s(473),{args:[50,25]},null,-1)),(d(),y(_,null,{default:b((()=>[x(R,j(I(a)),null,16)])),_:1}))])),_:1},16)}}});function U(t){function n(t){const e=P;if("string"==typeof t)return function(t){}.constructor(e(487))[e(469)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(479)]("debugger").call("action"):function(){return!1}.constructor(e(483)+e(464)).apply(e(455)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{T as default};
