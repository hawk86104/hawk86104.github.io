import{importShared as e}from"./3d-tiles-renderer.CPyPbRB51767152766904.js";import{_sfc_main$6 as t}from"./generalFont.vue_vue_type_script_setup_true_lang.BGlCyMZM1767152766904.js";import"./default.vue_vue_type_script_setup_true_lang.Dw-R0TE61767152766904.js";import"./three-mesh-ui.module.C5atkdvh1767152766904.js";import"./domPanel.vue_vue_type_style_index_0_lang.DYISUz3Y1767152766904.js";import{useLoop as a,OrbitControls_default as n}from"./index.BGo9PN8R1767152766904.js";import{_sfc_main as o,_sfc_main$1 as i,_sfc_main$3 as r,_sfc_main$4 as s,_sfc_main$2 as l}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.Dh0yXqlp1767152766904.js";import"./index.vue_vue_type_script_setup_true_lang.C2TY6ijJ1767152766904.js";import{useGLTF as m}from"./index.vUNGB6xt1767152766904.js";import{_sfc_main as d}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.BaEFaZJE1767152766904.js";import{Pane as c}from"./tweakpane.BbuIEN141767152766904.js";const{defineComponent:p}=await e("vue"),{unref:u,createVNode:g,renderList:_,Fragment:y,openBlock:f,createElementBlock:h,createElementVNode:w,withCtx:b,Suspense:v,createBlock:x}=await e("vue"),B=["rotation"],k=["rotation-x"],{ref:M}=await e("vue"),S=p({__name:"env",setup(e){const t=M(null),{onBeforeRender:n}=a();n(({delta:e})=>{t.value&&(t.value.rotation.z+=e)});const r=[2,-2,2,-4,2,-5,2,-9];return(e,a)=>(f(),x(v,null,{default:b(()=>[g(u(o),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:b(()=>[g(u(i),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),g(u(i),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),w("TresGroup",{rotation:[Math.PI/2,1,0]},[(f(),h(y,null,_(r,(e,t)=>g(u(i),{key:t,intensity:1,rotation:[Math.PI/4,0,0],position:[e,4,4*t],scale:[4,1,1]},null,8,["rotation","position"])),64))],8,B),g(u(i),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),g(u(i),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),g(u(i),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),w("TresGroup",{ref_key:"refgroup",ref:t,"rotation-x":Math.PI/2},[g(u(i),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,k)]),_:1},8,["path"])]),_:1}))}}),{withAsyncContext:C,defineComponent:T}=await e("vue"),{unref:j,createElementVNode:P,withCtx:I,createVNode:z,normalizeProps:R,guardReactiveProps:A,openBlock:E,createElementBlock:F}=await e("vue"),D={position:[0,-.5,0],rotation:[0,-.75,0]},N=["geometry","material"],O=["geometry","material"],V=["geometry","material"],$=["geometry","material"],G=["geometry","material"],K=["geometry","material"],L=["geometry","material"],W=["geometry"],Z=["geometry","material"],q=["geometry","material"],H=await e("three"),{reactive:J,toRaw:Q}=await e("vue"),U=T({__name:"models",async setup(e){let t,a;const n=new H.MeshStandardMaterial({transparent:!0,opacity:1,color:"black",roughness:0,side:H.FrontSide,blending:H.AdditiveBlending,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:o,materials:i}=([t,a]=C(()=>m("https://opensource.cdn.icegl.cn/model/eCommerce/glass-transformed.glb")),t=await t,a(),t),p=Q(i.ForkAndKnivesSet001_1K),u=new H.MeshStandardMaterial;u.copy(p),u.color=new H.Color("#999");const g={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},_=J({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),y=new c;y.hidden=!0,y.addBinding(_,"color",{label:"颜色"}),y.addBinding(_,"roughness",{label:"roughness",min:0,max:1,step:.01}),y.addBinding(_,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),y.addBinding(_,"attenuationColor",{label:"attenuationColor"}),y.addBinding(_,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),y.addBinding(_,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),y.addBinding(_,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),y.addBinding(_,"distortion",{label:"distortion",min:0,max:10,step:.01}),y.addBinding(_,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),y.addBinding(_,"backside",{label:"backside"}),y.addBinding(_,"thickness",{label:"thickness",min:0,max:4,step:.01}),y.addBinding(_,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const f=J({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),h=new c({title:"参数"});return h.hidden=!0,h.addBinding(f,"color",{label:"颜色"}),h.addBinding(f,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),h.addBinding(f,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),h.addBinding(f,"far",{label:"可视距离",min:0,max:30,step:1}),h.addBinding(f,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),h.addBinding(f,"intensity",{label:"强度",min:0,max:1,step:.01}),h.addBinding(f,"causticsOnly",{label:"只显示投射"}),h.addBinding(f,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(e,t)=>(E(),F("TresGroup",D,[P("TresMesh",{geometry:j(o).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:Q(j(i).FruitCakeSlice_u1_v1)},null,8,N),P("TresMesh",{geometry:j(o).straw_1.geometry,castShadow:"",material:j(i).straw_2},null,8,O),P("TresMesh",{geometry:j(o).straw_2.geometry,castShadow:"",material:j(i).straw_1},null,8,V),P("TresMesh",{geometry:j(o).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:j(i).straw_2},null,8,$),P("TresMesh",{geometry:j(o).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:j(i).straw_1},null,8,G),z(j(r),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:I(()=>[P("TresMesh",{geometry:j(o).flowers.geometry,castShadow:"",material:j(i)["draifrawer_u1_v1.001"],scale:1.2},null,8,K)]),_:1}),P("TresMesh",{castShadow:"",geometry:Q(j(o).fork.geometry),material:j(u)},null,8,L),z(j(s),R(A(f)),{default:I(()=>[P("TresMesh",{castShadow:"",receiveShadow:"",geometry:j(o).glass.geometry},[z(j(l),R(A(_)),null,16)],8,W)]),_:1},16),P("TresMesh",{geometry:j(o).glass_back.geometry,material:j(n),scale:[.95,1,.95]},null,8,Z),P("TresMesh",{geometry:j(o).glass_inner.geometry,material:j(n)},null,8,q),z(j(d),R(A(g)),null,16)]))}}),{defineComponent:X}=await e("vue"),{unref:Y,createVNode:ee,createElementVNode:te,Suspense:ae,withCtx:ne,openBlock:oe,createBlock:ie,resolveComponent:re,normalizeProps:se,guardReactiveProps:le,Fragment:me,createElementBlock:de}=await e("vue"),ce=await e("three"),pe=X({__name:"arrangement",setup(e){const a={clearColor:"#ffffff",windowSize:!0,toneMapping:ce.ACESFilmicToneMapping,toneMappingExposure:.8,shadows:!0,outputColorSpace:ce.SRGBColorSpace};return(e,o)=>{const i=re("TresCanvas");return oe(),de(me,null,[ee(Y(t)),ee(i,se(le(a)),{default:ne(()=>[o[0]||(o[0]=te("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),ee(Y(n),{enableDamping:""}),(oe(),ie(ae,null,{default:ne(()=>[ee(U)]),_:1})),ee(S)]),_:1},16)],64)}}});export{pe as default};
