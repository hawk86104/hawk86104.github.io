import{F as e,_ as s,K as r}from"./@tresjs.B_KjVy0E1761276103973.js";import{A as t}from"./3d-tiles-renderer.CmKnR68Q1761276103973.js";import{d as a,a3 as o,G as n,o as i,I as l,u,r as p,t as c,g as m,b as d,e as g,h as v,a9 as h,aa as f,m as j}from"./@vue.CKlgtJke1761276103973.js";import{B as w,S as T}from"./three.Bhn4-0ry1761276103973.js";import"./postprocessing.CeTFUAN_1761276103973.js";import"./@vueuse.wtfleElW1761276103973.js";const S=["object"],y=a({__name:"tilesMesh",setup(r){const a=new t("https://opensource.cdn.icegl.cn/3Dtiles/simpleGIS/data/tileset.json");a.errorTarget=0;a.addEventListener("load-model",({scene:e})=>{e.traverse(e=>{e.isMesh&&(e.material.side=2,e.receiveShadow=!1,e.castShadow=!1)});const s=new w,r=new T;a.getBoundingBox(s)?(s.getCenter(a.group.position),a.group.position.multiplyScalar(-1)):a.getBoundingSphere(r)&&(a.group.position.copy(r.center),a.group.position.multiplyScalar(-1))});const{camera:p,renderer:c,sizes:m}=e();o(()=>{m.width.value&&(a.setCamera(p.value),a.setResolutionFromRenderer(p.value,c))});const{onBeforeRender:d}=s();return d(()=>{p.value&&m.width.value&&(p.value.updateMatrixWorld(),a.update())}),(e,s)=>(i(),n("TresGroup",null,[l("primitive",{object:u(a).group},null,8,S)]))}}),_=a({__name:"renderer3DTiles",setup(e){const s=p({clearColor:"#201919"}),t=p({enableDamping:!0,dampingFactor:.05}),a=c();return o(()=>{a.value&&a.value.position.set(1,2,3).multiplyScalar(40)}),(e,o)=>{const n=m("TresCanvas");return i(),d(n,j(s,{"window-size":""}),{default:g(()=>[o[0]||(o[0]=l("TresPerspectiveCamera",{position:[400,400,400],fov:60,near:.1,far:4e3},null,-1)),v(u(r),h(f(t)),null,16),o[1]||(o[1]=l("TresAmbientLight",{intensity:.5},null,-1)),l("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:a,position:[1,2,3],intensity:1.25},null,512),v(y),o[2]||(o[2]=l("TresAxesHelper",{args:[100]},null,-1))]),_:1},16)}}});export{_ as default};
