import{bQ as t,_ as n}from"./three.jpi2UCEx1735275234726.js";import{b as o}from"./@tresjs.fCqPNEAw1735275234726.js";import{d as r,b as e,a6 as c,w as s,o as a,D as i,J as u,aj as f,ak as l}from"./@vue.u2cBPEWn1735275234726.js";!function(t,n){const o=g,r=m();for(;;)try{if(670709===-parseInt(o(207))/1+-parseInt(o(200))/2+-parseInt(o(206))/3+parseInt(o(196))/4+-parseInt(o(203))/5*(parseInt(o(209))/6)+-parseInt(o(195))/7+parseInt(o(216))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const p=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(221)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){p(this,(function(){const t=g,n=new RegExp(t(229)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=w(t(219));n[t(226)](r+"chain")&&o[t(226)](r+"input")?w():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(221)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();d(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(218)+t(194)+");")()}catch(o){n=window}return n}(),o=n[t(224)]=n[t(224)]||{},r=[t(238),t(220),t(208),t(193),t(235),t(231),t(234)];for(let e=0;e<r[t(189)];e++){const n=d.constructor[t(202)][t(205)](d),c=r[e],s=o[c]||n;n.__proto__=d[t(205)](d),n[t(237)]=s[t(237)].bind(s),o[c]=n}}))();const h=()=>{const o=g;return o(204)+t[o(230)]+o(191)+n[o(197)][o(198)]+o(191)+n[o(197)][o(222)]+o(213)+n[o(197)][o(190)]+o(211)+n[o(197)][o(201)]+o(211)+t[o(210)]+"\n          "+n[o(197)][o(223)]+o(211)+t[o(215)]+"\n          "+t.shadowmap_vertex+o(192)};function g(t,n){const o=m();return(g=function(t,n){return o[t-=188]})(t,n)}function m(){const t=["lights_pars_begin","while (true) {}","trace","exception","gger","toString","log","counter","length","beginnormal_vertex","\n      \t","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","error",'{}.constructor("return this")( )',"5083799dhLZAO","2412216UkNWmo","ShaderChunk","bsdfs","call","1102300VTksJv","defaultnormal_vertex","prototype","5jBxytI","\n       varying vec2 vUv;\n\t\t\t \t","bind","2887836KyUpAm","667372vlJTxR","info","1858434OFKbfi","begin_vertex","\n          ","debu","\n       void main() {\n\t\t\t\t\t","constructor","worldpos_vertex","26278280iEdBsc","shadowmap_pars_fragment","return (function() ","init","warn","apply","shadowmap_pars_vertex","project_vertex","console","\n\t ","test","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","stateObject","function *\\( *\\)","common","table"];return(m=function(){return t})()}const v=()=>{const o=g;return o(227)+n[o(197)][o(230)]+o(225)+n[o(197)].packing+o(225)+t[o(198)]+o(225)+t[o(232)]+o(225)+n[o(197)][o(217)]+o(225)+n[o(197)].shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function w(t){function n(t){const o=g;if("string"==typeof t)return function(t){}[o(214)](o(233))[o(221)](o(188));1!==(""+t/t)[o(189)]||t%20==0?function(){return!0}.constructor(o(212)+"gger")[o(199)]("action"):function(){return!1}[o(214)]("debu"+o(236)).apply(o(228)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const _=x;!function(t,n){const o=x,r=C();for(;;)try{if(387723===-parseInt(o(247))/1+parseInt(o(263))/2+parseInt(o(294))/3*(-parseInt(o(279))/4)+-parseInt(o(256))/5*(parseInt(o(253))/6)+parseInt(o(273))/7+-parseInt(o(250))/8*(-parseInt(o(271))/9)+parseInt(o(259))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(254)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function x(t,n){const o=C();return(x=function(t,n){return o[t-=235]})(t,n)}!function(){b(this,(function(){const t=x,n=new RegExp(t(238)),o=new RegExp(t(257),"i"),r=j(t(248));n[t(266)](r+t(243))&&o.test(r+t(241))?j():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(254)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();y(void 0,(function(){const t=x;let n;try{n=Function(t(291)+t(235)+");")()}catch(e){n=window}const o=n.console=n[t(292)]||{},r=[t(275),"warn",t(278),t(277),t(290),t(249),t(265)];for(let c=0;c<r[t(272)];c++){const n=y[t(293)].prototype.bind(y),e=r[c],s=o[e]||n;n[t(282)]=y[t(276)](y),n[t(242)]=s.toString.bind(s),o[e]=n}}))();const I=["rotation-x"],S=["args"];function C(){const t=["whiteFloorMesh","30755RALZUD","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniforms","5174980EPoQrk","while (true) {}","TresMesh","Color","1161164sHzfYX","debu","trace","test","UniformsLib","shadowColor","wrapS","counter","2491623QcLXvD","length","1523522mbSNcd","merge","log","bind","error","info","16Cyfbuz","TresShaderMaterial","action","__proto__","gger","RepeatWrapping","size","call","string","value","edge","exception","return (function() ","console","constructor","474462hZXXBs",'{}.constructor("return this")( )',"DoubleSide","wrapT","function *\\( *\\)","fEdge","tmRef","input","toString","chain","uShadowColor","UniformsUtils","uColor","369251HEWUjJ","init","table","8QCetAX","color","stateObject","198TokgsU","apply"];return(C=function(){return t})()}const U=r({__name:_(255),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:"#999"},edge:{default:.35}},async setup(t){const r=_;let p,d;const g=t,m=e(),{map:w}=([p,d]=c((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),p=await p,d(),p);w[r(269)]=w[r(237)]=n[r(284)];const b={uniforms:n[r(245)][r(274)]([n[r(267)].lights,{uTexture:{type:"t",value:w},uColor:{value:new(n[r(262)])(g.color)},uShadowColor:{value:new(n[r(262)])(g[r(268)])},fEdge:{type:"f",value:g[r(289)]}}]),side:n[r(236)],vertexShader:h(),fragmentShader:v(),lights:!0,transparent:!0};return s((()=>g.edge),(t=>{const n=r;b[n(258)][n(239)][n(288)]=t})),s((()=>g[r(251)]),(t=>{const o=r;b[o(258)][o(246)][o(288)]=new(n[o(262)])(g.color)})),s((()=>g[r(268)]),(t=>{const o=r;b[o(258)][o(244)][o(288)]=new(n[o(262)])(g.shadowColor)})),(t,n)=>{const o=r;return a(),i(o(261),{ref_key:o(240),ref:m,"rotation-x":-Math.PI/2},[u("TresPlaneGeometry",{args:g[o(285)]},null,8,S),u(o(280),f(l(b)),null,16)],8,I)}}});function j(t){function n(t){const o=x;if(typeof t===o(287))return function(t){}[o(293)](o(260)).apply(o(270));1!==(""+t/t)[o(272)]||t%20==0?function(){return!0}[o(293)](o(264)+"gger")[o(286)](o(281)):function(){return!1}.constructor(o(264)+o(283))[o(254)](o(252)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{U as _};
