import{a1 as u,aD as v,cj as x,aI as c,o as n,c as h,Y as a,aa as d,ab as _,bq as f,r as y,x as l,E as p,cl as w,a as r,L as m,ac as S,a$ as T,ag as P}from"./vendor.wxHBbIdo1713352787897.js";import{l as k}from"./utils.Qy8y7fty1713352787897.js";import"./RGBELoader.APk9hsaZ1713352787897.js";const B=["args"],C=u({__name:"skyBoxBmesh",props:{texture:{},size:{default:1e3}},async setup(i){let s,t;const o=i,e=([s,t]=v(()=>k(o.texture)),s=await s,t(),s);e.wrapS=e.wrapT=x,e.generateMipmaps=!1,e.magFilter=c,e.minFilter=c;const g={uniforms:{uSkybox:{type:"t",value:e}},side:f,vertexShader:"\n		varying vec3 vFragPos;\n\n		void main() {\n				vFragPos = position.xyz;\n				vec4 viewSpace = vec4(mat3(modelViewMatrix) * position, 0.0);\n				viewSpace.w = 1.0;\n				gl_Position = projectionMatrix * viewSpace;    \n		}",fragmentShader:"\n		uniform sampler2D uSkybox;\n		varying vec3 vFragPos;\n		const float PI = 3.14159265359;\n		void main() {\n				vec3 dir = normalize(vFragPos);\n				float v = (asin(dir.y) + PI * 0.5) / (PI); \n				float u = (atan(dir.x, dir.z) + PI) / (PI * 2.0);\n				gl_FragColor = texture2D(uSkybox, vec2(u, v));\n		}",depthWrite:!0};return(b,I)=>(n(),h("TresMesh",null,[a("TresBoxGeometry",{args:[o.size,o.size,o.size]},null,8,B),a("TresShaderMaterial",d(_(g)),null,16)]))}}),M=a("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e4,"look-at":[0,0,0]},null,-1),z=a("TresAmbientLight",{intensity:10},null,-1),F=a("TresMesh",{position:[0,2,-4],"cast-shadow":""},[a("TresBoxGeometry",{args:[2,2,2]}),a("TresMeshNormalMaterial")],-1),A=u({__name:"skyBoxB",setup(i){const s={clearColor:"#201919",windowSize:!0,shadows:!0,toneMapping:w,toneMappingExposure:.8};return(t,o)=>{const e=y("TresCanvas");return n(),l(e,d(_(s)),{default:p(()=>[M,r(m(S),{enableDamping:""}),z,r(m(T),{args:[3,3,3],color:"orange",position:[3,2,1],"cast-shadow":""}),F,(n(),l(P,null,{default:p(()=>[r(C,{texture:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/desert_1k.hdr"})]),_:1}))]),_:1},16)}}});export{A as default};
