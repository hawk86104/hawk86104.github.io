import"./index.DrG2fTNt1753782659653.js";import{m as t,e,b as o,k as n,a as r}from"./@tresjs.BTaYoA_d1753782659653.js";import{_ as c}from"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.CMjPM7nF1753782659653.js";import{_ as W}from"./skyBoxAmesh.vue_vue_type_script_setup_true_lang.o4Cr_mPP1753782659653.js";import{P as i}from"./tweakpane.C0HtAJSg1753782659653.js";import{n as a,T as d,ad as u,a3 as l,l as s,aN as f,aH as m,t as k,C as p,V as v,a as C,aa as h,Y as S}from"./three.COeOkYug1753782659653.js";import{d as x,aa as P,a2 as R,w as b,G as g,o as O,u as N,r as y,h as Q,j as w,f as J,I as F,e as G,a5 as q,a7 as T,a8 as V,m as z,F as H}from"./@vue.BzMISRrV1753782659653.js";import{_ as B}from"./randomLoading.vue_vue_type_script_setup_true_lang.9oTt9Hjf1753782659653.js";import"./utils.CMtvRxDA1753782659653.js";import"./@fesjs.D7mvJMlo1753782659653.js";import"./vue-router.11Q-FEO_1753782659653.js";import"./lodash-es.C7pWAXPe1753782659653.js";import"./@qlin.q6OWdsQV1753782659653.js";import"./pinia.BMpzOEFs1753782659653.js";import"./@babel.BPq7uOAK1753782659653.js";import"./@floating-ui.BFjFSAYt1753782659653.js";import"./@juggle.CcBCnTIR1753782659653.js";import"./index.Cx4HcCUA1753782659653.js";import"./three-mesh-ui.module.CZNkefm01753782659653.js";import"./postprocessing.CeqeRjXM1753782659653.js";import"./@vueuse.kHMOgCjI1753782659653.js";import"./whiteFloor.D-bdoYtS1753782659653.js";import"./starLoading.BjRFdIkL1753782659653.js";import"./cssLoaders.CFTF3IGp1753782659653.js";import"./bubbleLoading.Dqsn5rGR1753782659653.js";import"./yangyangLoading.D56JcRFn1753782659653.js";function j(t,e){var o=L();return j=function(e,n){var r=o[e-=342];if(void 0===j.LJNGPj){var c=function(t){for(var e,o,n="",r="",W=n+c,i=0,a=0;o=t.charAt(a++);~o&&(e=i%4?64*e+o:o,i++%4)?n+=W.charCodeAt(a+10)-10!=0?String.fromCharCode(255&e>>(-2*i&6)):i:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,u=n.length;d<u;d++)r+="%"+("00"+n.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(r)};j.uAtVUM=function(t,e){var o,n,r=[],W=0,i="";for(t=c(t),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)W=(W+r[n]+e.charCodeAt(n%e.length))%256,o=r[n],r[n]=r[W],r[W]=o;n=0,W=0;for(var a=0;a<t.length;a++)W=(W+r[n=(n+1)%256])%256,o=r[n],r[n]=r[W],r[W]=o,i+=String.fromCharCode(t.charCodeAt(a)^r[(r[n]+r[W])%256]);return i},t=arguments,j.LJNGPj=!0}var W=e+o[0],i=t[W];if(i)r=i;else{if(void 0===j.NkNwMR){var a=function(t){this.dbnCGO=t,this.EzJtxy=[1,0,0],this.uqMqrF=function(){return"newState"},this.rYWpTg="\\w+ *\\(\\) *{\\w+ *",this.EQHVYV="['|\"].+['|\"];? *}"};a.prototype.YdYHZu=function(){var t=new RegExp(this.rYWpTg+this.EQHVYV).test(this.uqMqrF.toString())?--this.EzJtxy[1]:--this.EzJtxy[0];return this.mALJnb(t)},a.prototype.mALJnb=function(t){return Boolean(~t)?this.ErHMYl(this.dbnCGO):t},a.prototype.ErHMYl=function(t){for(var e=0,o=this.EzJtxy.length;e<o;e++)this.EzJtxy.push(Math.round(Math.random())),o=this.EzJtxy.length;return t(this.EzJtxy[0])},new a(j).YdYHZu(),j.NkNwMR=!0}r=j.uAtVUM(r,n),t[W]=r}return r},j(t,e)}!function(){function t(t,e,o,n,r){return j(e-849,r)}var e,o,n=L();function r(t,e,o,n,r){return j(r- -487,n)}for(;;)try{if(766309===-parseInt(r(0,0,0,"imyy",-128))/1+parseInt(r(0,0,0,"Gl%7",-119))/2*(parseInt(r(0,0,0,"iPnJ",-120))/3)+parseInt(t(0,1278,0,0,"r3gj"))/4*(-parseInt(r(0,0,0,"r3gj",-69))/5)+parseInt(j(450-64,"KCtv"))/6*(parseInt(j(-536- -942,"9lR("))/7)+-parseInt(r(0,0,0,"ps37",-93))/8+-parseInt((e=656,o="LN&o",j(e-275,o)))/9+parseInt(t(0,1203,0,0,"M)TK"))/10)break;n.push(n.shift())}catch(c){n.push(n.shift())}}();var _,K=(_=!0,function(t,e){function o(t,e,o,n,r){return j(n- -919,o)}function n(t,e,o,n,r){return j(o-210,e)}function r(t,e,o,n,r){return j(t-377,r)}if(o(0,0,"trpl",-491)!==o(0,0,"%M1a",-546)){var c=_?function(){function n(t,e,n,r,c){return o(0,0,c,n- -8)}function r(t,e,n,r,c){return o(0,0,t,r-1154)}function c(t,e,n,r,c){return o(0,0,e,t-150)}function W(t,e,n,r,c){return o(0,0,c,e-300)}function i(t,e,o,n,r){return j(o-858- -727,e)}if("XHenC"!==n(0,0,-576,0,"P[w(")){var a=_0xc20e3a?function(){if(_0x3e20eb){var t=_0x4c4471.apply(_0x2ed470,arguments);return _0x1dc4b9=null,t}}:function(){};return _0x4f3b13=!1,a}if(e){if("AzfbS"===n(0,0,-519,0,"%M1a")){var d=e[i(0,"Gl%7",581)](t,arguments);return e=null,d}this[W(0,-254,0,0,"s6uv")][r("9lR(",0,0,678)](_0x4cb7cf),this[i(0,"#7i(",550)][c(-406,"k!XG")][r("4q$2",0,0,679)][i(0,"iEQ5",486)]=_0x21ed9f,this[r("P[w(",0,0,625)][c(-352,"iPnJ")](this[W(0,-210,0,0,"QHn1")],this[W(0,-185,0,0,"9lR(")]),this.renderer.setRenderTarget(null)}}:function(){};return _=!1,c}return _0x177a41[r(814,0,0,0,"8*Gu")]()[o(0,0,"FN%)",-572)](r(751,0,0,0,"NU$Q"))[n(0,"VnoW",651)]()[o(0,0,"pH8L",-471)](_0x2d61fc)[n(0,"s6uv",563)](j(400,"1uWs"))})(void 0,(function(){function t(t,e,o,n,r){return j(n-347,o)}return K[t(0,0,"%M1a",695)]().search(t(0,0,"2a6H",690))[(n="g4Xk",r=-261,j(r- -625,n))]().constructor(K)[(e="8*Gu",o=265,j(o- -137,e))](j(1246-866,"Bo^*"));var e,o,n,r}));K();var I,M=(I=!0,function(t,e){function o(t,e,o,n,r){return j(t- -12,o)}function n(t,e,o,n,r){return j(r- -30,e)}function r(t,e,o,n,r){return j(e- -301,n)}if(r(0,91,0,"LXgS")===o(354,0,"g4Xk")){var c=I?function(){function c(t,e,o,r,c){return n(0,e,0,0,c- -710)}function W(t,e,n,r,c){return o(e-780,0,r)}function i(t,e,o,n,c){return r(0,o-286,0,t)}function a(t,e,n,r,c){return o(c-70,0,t)}if("FMkIl"===a("8*Gu",0,0,0,418)){var d=_0xe1c92e[a("R4)9",0,0,0,453)](_0x1807b2,arguments);return _0xaa780=null,d}if(e){if(n(0,"vaOL",0,0,412)!==c(0,"Eb7D",0,0,-390)){var u=e.apply(t,arguments);return e=null,u}var l;try{l=_0x339cd8(c(0,"NU$Q",0,0,-288)+'{}.constructor("return this")( ));')()}catch(C){l=_0x5b655f}for(var s=l[c(0,"s6uv",0,0,-302)]=l.console||{},f=[W(0,1110,0,"zjyo"),a("CNzk",0,0,0,441),a("g4Xk",0,0,0,434),a("s6uv",0,0,0,402),"exception","table","trace"],m=0;m<f[a("R4)9",0,0,0,430)];m++){var k=_0x5329e5[c(0,"g4Xk",0,0,-295)][W(0,1137,0,"CNzk")][c(0,"^qR0",0,0,-365)](_0x4cb3e9),p=f[m],v=s[p]||k;k[c(0,"zKjE",0,0,-356)]=_0x518ea5[a("zjyo",0,0,0,498)](_0x520f01),k[i("wdH]",0,408)]=v[i("iPnJ",0,356)].bind(v),s[p]=k}}}:function(){};return I=!1,c}if(_0x1ef765){var W=_0x45c44a[o(381,0,"5@wi")](_0x4b1db9,arguments);return _0x8f436f=null,W}});function L(){var t=["WP0IjLLdWPHuAq","W5lcGdNcLZK","hmkHWRFcQ3HCzW","tSk7W7H/W5usWQhcLmkgWRZcJmoU","j0/dO8oPWRtdR8oqWP3dTq","EHC5sCor","w8kVWO3cKKrBu8kP","vuyrWPSoW5u","mSkNW6lcKSk0","WQrxDdJdHWBcJJnUv8o3W74","C0j+uW","W7lcJaBcMG","wKWrWO8oW49Ajd1XxG","zSk/W6FcJcBdKYuV","uHS7o8kqW7SuWRldLeNdH8kzsdG5W7XBWPVdVa","ESk/dCk8AHmyjXHlWQ5W","CgvdWOFdG35Iq8ogW6D1WPi","wmk1W5P0","ifZdVSoZ","wc3cQ3SCWOVcPGpdJq","W5Svg8kVWO7cSmo1","WOzMW47dLK0UW6JdOa","W5VdLCkVWQ/cT8oOWPn2","W7avWPCpnuxdP1iw","xK7dPvS6WOxdG8ocp8oQm8kB","W5HYW6ZdG0pdINRdSq","WOddMq7dJWNdUa","WPeNWQ1BCa","lwD+WRtdSq","g1hcNMbTWROqW6FcRuNcOLTY","wfmpWPad","jJxdU8o2","W4GigSkOWO7cQmoPyCoS","gWSWfYnFWRzvWOhdM8ojW7PNW7ddL8oZW47dLdtdJCozDqFdO1tdU8oGWQldHeZcUKOjpmkkWPr8WPG+oKCMW6f+WQXEWRGrzW4KF8orWQLOWRzzrmokvYZcTSkXA8klW6dcJguzA8oGWR/dKNJdGmo0zKxdPCoLE8kqqNLfW4FdPYZdMCkGzmoIucldStRdTaRcMYpcTSoUW5NdJNyQW4VdL8oEWOOkW6ZdIIVcHCo5W5iuWQxdMqKyrCo3ecXWWRCTW7BcOq","r8k5W6ZcHIy","W6JcU8oJWOtcNSksjt/dJulcGmo0","W40uhmk6WO7cRSo9yG","gdxdQCoSiSop","FePKuNewW7Cz","W5KkbCkWWPG","n2OGWRVdP8oWWQBcJCk4vxCjomorfhFdTSknW5dcJSkpexmVDSk+WOtcNbjeW5CF","WRVdK8kzWQCpke1ZW4BcMCoQyq","nmk1wG","pmkUW4JcUCkv","z8k5W6ZcHIy","qrZcQSoKaSoIAub8WPKZWP0MeSo/uWhdOvG7","fmoJWQiIWPzh","W6FdLfRdPCkiWPvKt1q","jCoGW77dHHyshCoUWOXrd8koW7nsWQTIfCoilCowWRLJx1OcWRRdTSkaW5LWh8ojASo/W7pdKGJdPNGqW44AW6VcN1xdNG4GW7VdTxdcHSo9ohdcQSkiWQ7cImohW7WlWR9BWPDxW7etW5aCWOi2WPXFW5/dVtXqW7KNrsddMCoMtgiWjW7cV8oTl8oiWOpdLxZdGCoXW6NdQmk6W5VdJ2tdSCoStSkAW5ZcVYqSvmo4WQJdMCoXCqy4dSoSW5NcPCoQis/cImohW6xcTKldTSk3rmo+paKUhITdaCo0W490n8ojwf0rWPhcGXv6W6zgt8oiBIntAmo9AmkQuComifFcP8o7emoPn8kbBIiXAa","WPaIpSkGW7pcU8okWPeYtSoQtG","WQL2tNa","bvBdS0vW","xCkLWRdcGLna","WP50DCkIW5dcOsbG","c2BdPuz3W4y2W48","oerVfmkciCoQWOhcGgD4a3u","rmoTWPNdO8o3ECkHbSoqfwBdTq","WRldJ2BdOZpcNdzY","W4WvjSkOWPpcTCo+DG","W6/dI8ktlCk1","tq3dSHuPW61dW4pcPv3cQfekWQuLWO/dG8ojnvtcNSkhACoWowJdSfbBrWChWRrKoSo/uCkAW7VdQa","oZZdQCoWjmoGWPtdHCkyWOnGnCkI","ixz6WR3dUSo3WRtcLq","fxJdMmkWwW","WP1WlCoTWQRdVcvlW6S3hCki","iCo0qmo8ja","W6DFrwH6","emkjpIVdMG","W440BCk2W6i","W6hcGmonW7nlFW","oZxdUSoTmCocWPldNSkCWPbXbmk6sNddJxe","cCkAkY3dJwNdLSoI","hZ/dM8oQm8ooWP/dJq","WOWOjK5jWOzu","W7GiWOCc","bSksmsW","w8k7W7TUvmkhWQuI","vJmSn8ki","W7hcHmouW4rCChHuW5pcQCo4ugmXWPi","WRxdVM3dVYlcMYfL","W7JcJq7cHIVdL2pcUNpdIG4","WPddLq7dJW","qCkXW79YW5euWQ/cNmkXWPFcKSo9","WQDnWQa5W4FdJCo4W77cO8kLmW","mZiwW4hcLW","fSoYWR8RWP0","WRldTSkLW47dKmojA2q","W74AkgpcNKhcHtiJc8kYWRNdQSoXq8o4k8oUW6m","cmkuoa","WRVcGCk1ENi2W6OZcCo/oM8","WOO1oLju","mebPfmkejSoUWOFcLhDAiKi","hmkWW4O","WOJcTx0tqmoC","cCk7W73cR8k0jmkglG","f8kukZRdIG","WOBdMqJdPbW","W7jFW6FdIwu","W67dS8kFlW","WPWIku9fWOi","W49Sf2pdGJyGASonhHZcK1S","lSk7uszL","W7RdH8oZmsTiWQH+vSk+","wMddOmoMcSomWRZdQa","hSoMW4z4uCknWPW8","WQnEW4rFCapdIxOOvmkutG","astdHSoikq","W5qFg8k7WPxcTa","AHFcQge","W5b6BSo1WQ3dUSogWQe","W6/cJtpcGs3dJhJcVG"];return(L=function(){return t})()}M(void 0,(function(){var t;try{if("CAxwa"===a(-12,35,18,9,"zjyo")){var e=_0x38e148[W(471,"wdH]",450,445,439)](_0x2219ae,arguments);return _0x354518=null,e}t=Function(r(-74,-63,-110,"vaOL",-105)+d("5@wi",268,247,256,285)+");")()}catch(k){if("REeuX"===i(1189,1228,"1Cs2")){if(_0x566a46){var o=_0x716dd2[i(1191,1182,"r3gj")](_0x5b2a0b,arguments);return _0x16f7f0=null,o}}else t=window}var n=t.console=t[a(53,8,68,45,"wdH]")]||{};function r(t,e,o,n,r){return j(e- -442,n)}var c=[r(0,-35,0,"iEQ5"),a(76,28,54,42,"VnoW"),d("yx#Z",260,257),"error",r(0,-54,0,"imyy"),"table",W(512,"zjyo",508,452,467)];function W(t,e,o,n,r){return j(r-35,e)}function i(t,e,o,n,r){return j(t-758,o)}function a(t,e,o,n,r){return j(n- -340,r)}function d(t,e,o,n,r){return j(o- -158,t)}for(var u=0;u<c[r(0,-81,0,"wdH]")];u++){if(W(0,"gNbW",0,0,459)!==r(0,-26,0,"#7i(")){var l=_0x34214e?function(){if(_0xcd9aee){var t=_0xae3503.apply(_0x46cd21,arguments);return _0xb560ba=null,t}}:function(){};return _0x2c143c=!1,l}var s=M[i(1135,0,"R4)9")][i(1155,0,"wdH]")][W(0,"Eb7D",0,0,481)](M),f=c[u],m=n[f]||s;s[d("mXxM",0,254)]=M[r(0,-90,0,"gNbW")](M),s[d("VnoW",0,283)]=m[d("tAth",0,229)].bind(m),n[f]=s}}))();class D{constructor(t,e){function o(t,e,o,n,r){return j(n-834,e)}function n(t,e,o,n,r){return j(r-191,n)}function r(t,e,o,n,r){return j(e- -91,o)}function c(t,e,o,n,r){return j(r- -735,n)}function W(t,e,o,n,r){return j(r- -194,t)}this[n(579,565,633,"5@wi",618)]=new a({uniforms:{uTexture:{type:"t",value:null}},vertexShader:c(-283,-361,-357,"iPnJ",-322),fragmentShader:n(635,575,552,"^qR0",589)+(e||W("ps37",185,256,177,231))+r(372,319,"trpl"),depthTest:!1,depthWrite:!1}),this[o(1223,"zKjE",1252,1196)]=new(d[r(290,305,"8*Gu")])(new(d[W("8*Gu",256,217,255,232)])(2,2),this[n(665,593,608,"zjyo",627)]),this.camera=new(d[n(0,0,0,"8*Gu",626)])(45,window[o(0,"2a6H",0,1190)]/window.innerHeight,1,1e3),this.renderer=t,this.scene=new(d[o(0,"QHn1",0,1233)]),this[n(0,0,0,"Bo^*",621)][c(0,0,0,"%M1a",-389)](this[W("imyy",0,0,0,245)])}blit(t,e){function o(t,e,o,n,r){return j(o-503,n)}var n,r,c,W,i,a;function d(t,e,o,n,r){return j(r-327,o)}this[(c="1uWs",W=766,j(W-315,c))].setRenderTarget(e),this[d(780,719,"^qR0",707,730)][o(0,0,904,"wdH]")][d(724,750,"4q$2",773,771)][(n="LN&o",r=818,j(r-369,n))]=t,this[d(0,0,"4q$2",0,749)][o(0,0,894,"Eb7D")](this[(i="KsWD",a=954,j(a-584,i))],this[d(0,0,"Gl%7",0,738)]),this[o(0,0,881,"QHn1")].setRenderTarget(null)}}!function(){const t=A();function e(t,e,o,n,r){return X(n- -301,e)}function o(t,e,o,n,r){return X(e-918,n)}for(;;)try{if(918791===parseInt(e(0,"%kbH",0,29))/1*(parseInt(e(0,"nOUJ",0,83))/2)+-parseInt(e(0,"OJc2",0,179))/3+parseInt(e(0,"e&]1",0,176))/4+parseInt(X(148- -336,"hu[Q"))/5+-parseInt((n=382,r="OY*6",X(n-20,r)))/6+parseInt(e(0,")]Z7",0,221))/7*(-parseInt(o(0,1414,0,"DYdf"))/8)+parseInt(o(0,1406,0,"b^Xo"))/9)break;t.push(t.shift())}catch(c){t.push(t.shift())}var n,r}();function X(t,e){const o=A();return X=function(e,n){let r=o[e-=305];if(void 0===X.ANmzEe){var c=function(t){let e="",o="",n=e+c;for(let r,c,W=0,i=0;c=t.charAt(i++);~c&&(r=W%4?64*r+c:c,W++%4)?e+=n.charCodeAt(i+10)-10!=0?String.fromCharCode(255&r>>(-2*W&6)):W:0)c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(c);for(let r=0,c=e.length;r<c;r++)o+="%"+("00"+e.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(o)};const e=function(t,e){let o,n,r=[],W=0,i="";for(t=c(t),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)W=(W+r[n]+e.charCodeAt(n%e.length))%256,o=r[n],r[n]=r[W],r[W]=o;n=0,W=0;for(let c=0;c<t.length;c++)n=(n+1)%256,W=(W+r[n])%256,o=r[n],r[n]=r[W],r[W]=o,i+=String.fromCharCode(t.charCodeAt(c)^r[(r[n]+r[W])%256]);return i};X.rZEKnA=e,t=arguments,X.ANmzEe=!0}const W=e+o[0],i=t[W];if(i)r=i;else{if(void 0===X.ARcACQ){const t=function(t){this.edryhn=t,this.xhXSCY=[1,0,0],this.lommCL=function(){return"newState"},this.PNhrMX="\\w+ *\\(\\) *{\\w+ *",this.CvADTb="['|\"].+['|\"];? *}"};t.prototype.YJtUAT=function(){const t=new RegExp(this.PNhrMX+this.CvADTb).test(this.lommCL.toString())?--this.xhXSCY[1]:--this.xhXSCY[0];return this.EyYDYf(t)},t.prototype.EyYDYf=function(t){return Boolean(~t)?this.IcxrJU(this.edryhn):t},t.prototype.IcxrJU=function(t){for(let e=0,o=this.xhXSCY.length;e<o;e++)this.xhXSCY.push(Math.round(Math.random())),o=this.xhXSCY.length;return t(this.xhXSCY[0])},new t(X).YJtUAT(),X.ARcACQ=!0}r=X.rZEKnA(r,n),t[W]=r}return r},X(t,e)}const Z=function(){let t=!0;return function(e,o){function n(t,e,o,n,r){return X(o-708,t)}function r(t,e,o,n,r){return X(e- -103,r)}if(n("HBjb",0,1150)!==n("mONE",0,1097)){const c=t?function(){function t(t,e,o,r,c){return n(t,0,o- -1684)}function c(t,e,o,n,r){return X(e- -282- -327,r)}function W(t,e,o,n,c){return r(0,t-850,0,0,n)}function i(t,e,o,n,r){return X(o-1634- -727,n)}function a(t,e,o,n,c){return r(0,c- -387,0,0,e)}if(W(1199,0,0,"wVD7")!==W(1248,0,0,"%kbH")){if(o){if("ECIwm"===c(0,-155,0,0,"mAqc")){const n=o[t(")O#u",0,-643)](e,arguments);return o=null,n}_0x21fbea[W(1087,0,0,"Q$Y4")]=this[t("KvS*",0,-519)]}}else this[c(0,-257,0,0,"qWrN")]=_0x12e99[i(0,0,1285,"ns%4")](),this[W(1237,0,0,"mKR$")]=_0x526cb8,this[i(0,0,1322,"wuMH")]=_0x5543d0,this[a(0,"5Nmr",0,0,-68)]=new _0x4cdc41.Scene,this[i(0,0,1238,"DYdf")][t("KVai",0,-540)](this[i(0,0,1360,"hu[Q")]),this[t("!UR]",0,-557)]=new _0x47e788(this[a(0,"!4u^",0,0,-173)]),this[i(0,0,1367,"b^Xo")]=new(_0x29a4f1[a(0,")O#u",0,0,-165)])(_0x4b183a,_0x5ac5d3,{type:_0x1f3159[a(0,")O#u",0,0,4)],depthBuffer:!1,stencilBuffer:!1}),this.pong=new(_0xef138a[t("fW@S",0,-456)])(_0x410654,_0xab2f58,{type:_0x16c086[t("naM)",0,-568)],depthBuffer:!1,stencilBuffer:!1}),this[t("!*je",0,-625)]=new(_0x138b40[t("$Ctb",0,-493)])(_0x1d3eb9,_0x224579,{type:_0x2b20b5[i(0,0,1279,"xbfz")]}),this[c(0,-175,0,0,"B*$D")]=new _0x2e05e0.ShaderMaterial({uniforms:{uCameraFarInverse:{value:1/this.camera[i(0,0,1356,"mKR$")]}},vertexShader:W(1070,0,0,"mKR$"),fragmentShader:i(0,0,1263,"e&]1"),depthTest:!0,depthWrite:!0,side:_0x4552b0[i(0,0,1227,")O#u")]}),this.material=new _0x138fbd.ShaderMaterial({uniforms:{uScreenSize:{value:new(_0x262606[i(0,0,1297,"Y]lJ")])(_0x32c6f9,_0x389d36)},uPrevDepth:{type:"t",value:this[t("&kTm",0,-505)][a(0,"mONE",0,0,2)]},uCameraFarInverse:{value:1/this[W(1246,0,0,"96nA")].far},uSample:{value:0}},vertexShader:W(1251,0,0,"c*rK"),fragmentShader:t("mONE",0,-521),depthTest:!1,depthWrite:!1,side:_0xe4609f[W(1111,0,0,"mKR$")]}),this.mesh.traverse((e=>{var o,n,r,c,a,d;e instanceof _0x1e9a3a[(a=263,d="PaXK",t(d,0,a-834))]&&(e[(r="qM10",c=98,W(c- -1096,0,0,r))]=this[(o=450,n="96nA",i(0,0,o- -982,n))])}))}:function(){};return t=!1,c}_0x308bf0[r(0,367,0,0,"!*je")]=this[r(0,292,0,0,"!UR]")]}}()(void 0,(function(){return Z.toString()[(W="naM)",i=999,X(i-628,W))]((r="5Nmr",c=-284,X(c- -745,r)))[(o=-173,n="9Bub",X(o- -597,n))]()[(t=1113,e="g^75",X(t-655,e))](Z).search(X(-135- -609,"UEuE"));var t,e,o,n,r,c,W,i}));Z();const E=function(){let t=!0;return function(e,o){function n(t,e,o,n,r){return X(o-456,e)}function r(t,e,o,n,r){return X(n-52,e)}if("qAyJX"!==n(0,"&kTm",771)){const c=t?function(){function t(t,e,o,n,c){return r(0,c,0,o- -381)}function c(t,e,o,r,c){return n(0,o,c- -628)}function W(t,e,o,n,c){return r(0,c,0,e-907)}function i(t,e,o,r,c){return n(0,e,o-407)}if("ZUwpz"!==c(0,0,"mONE",0,171)){if(o){if(i(0,")O#u",1255)===i(0,"N)IX",1220)){const t=o[c(0,0,"9Bub",0,255)](e,arguments);return o=null,t}{let e=_0x4bf964%2==0?this[c(0,0,"N)IX",0,342)]:this[i(0,"!*je",1356)],o=_0x35f551%2==0?this[c(0,0,"9N@e",0,213)]:this[c(0,0,"G%7D",0,352)];this[i(0,"!*je",1333)][W(0,1340,0,0,"o@B^")][i(0,"Osdx",1216)][i(0,"!UR]",1184)]=e[t(0,0,-3,0,"G1Cz")],this[W(0,1320,0,0,"nOUJ")].uniforms[c(0,0,"wuMH",0,175)][t(0,0,111,0,"g^75")]=_0x551dcc,this[t(0,0,102,0,"wVD7")][i(0,"b^Xo",1309)]=!1,this[i(0,"g^75",1207)][t(0,0,-2,0,"e&]1")](o),this[W(0,1317,0,0,"!*je")][i(0,"KvS*",1256)](this[i(0,"96nA",1298)],this[c(0,0,"DYdf",0,139)]),this[c(0,0,"hu[Q",0,317)][c(0,0,"nOUJ",0,222)]=!0,this[i(0,"5Nmr",1325)].blit(o.texture,e)}}}else if(_0x1fdfa9){const t=_0x2a1a14[i(0,"KvS*",1328)](_0x5a8e0f,arguments);return _0x4560ea=null,t}}:function(){};return t=!1,c}this[n(0,"qWrN",795)]=this.pong}}();function U(t,e,o,n,r){return X(e-730,n)}function A(){const t=["WRpcUmolwcW","bd/dSmk3WOJcRrhcGW","qCktW6JdJK7cHaOZtH/dMq","W4eiWQZcSa4","kCkyW5WY","W6rApJecWQuYW7v4W5S2WPm","WQ4EF2T5W752WRSHWPnW","xgJdK8kyWQRcOttcVG","c8o0WR5sWQrZuYWZsuaaW5VcPSojWQdcQa","cc7dTmk+WOm","W5qzWQBcSb/dM8keWO52bSoy","WOv/WQyogSk4CW","W7/dVHNdUdq0xW","nmkuW4e9","WOTXWRWyb8k9D8kj","W6fbwx8","a8ofW6FdH0dcNSkeW73dIsLDWQq","zZXVWRrmBmk5fa","WQpcS0NcOMPVeqamWRZdTSoe","W5DmjW/cTSoZss7dLstcMSkpaW","DCoTurRdQq","iwy2W6atlSoGmW7dRSkOWQf/","oSkEW5WMqvLU","W77dMaddOsq0w29gW6FcLmkouCkgxCkGyW","suVdG18AW6/cSmopqmkoWRv0","bbJdUb/dKNaCWQq","WRyUpZldHG","sSoDyqVdRWNcLuldISo2WQq+W6lcMulcVmol","rSorWQpdGblcVbldGq1kW7NcL8kp","WQmZWQRdNCoS","nmkiWPFdPK3dHmoyW6xdL8kcvq","WQ8tE3PBW60","AmoiWOjNgWrPW4rOW5JcK3G","a8kcW7xcLuddUeFdOa","y8oiW6TjW4Lh","W6ldJ8oBWRK","W5FcHh/cJanWWPW","WPz/WQyA","BCkbWQdcIb/dO8owWQtcHW","WOPYW79AiKBcRwK","ySkpWQGHWRWMomk0rSomumolzG","WROMgZG","Emk5w8oVW53dS8oKWQ1ZW5DigtnqhCozWPNcV8kYoqJdHqRdJbZcHCkRW7JdLmo/yN4","eHFdVbZdJ2m","wCkbWQJdNLxcMaWKsaxdImkvBmozbmoLBbCIAmo3W5hcUSk6u3zUdmkqW4ddUCkz","ESoelmk7WOq","lcNdLSoE","W5aLWRmozXNdVfyeW696WPJcLW","WQ/dJSopfSkxjSkVCWVdQfGqW6P8icJdN0RcO2lcV1zlWR/dGmkQu34IeCkTWQlcK8o7lmk9W6b9WQFcGb8QkaOrcCorBt5IW6RdUrldRd1RWQ0bW4GlbdClWPv6W5zNzGpcOYPNWPtdPXFcNf5aWO/dVx/dHaXLp8kpCgyoWPupW5amF8k4WPFcTSk1ySo2WPCCovbFoN9jEmkCkmkzWOFcT19eE0RcTaVcGaxcO1ddQeO7v8oAbSkXWOFcMXNcS8oKW4hdHSolW6SKnHvUWODBW6pdSGqXCYiJmtFcGWZcRfn+nSoIW6xdUCojtce5W7LpfgBcJqxcG1VdI38hhr8xW7X+WOeKW4/dLGVdTvOXW7pdPtfbefORW63cMSkRW7RdLSkMW6uzuq9hySoMd3jjC1q/xhq3aSofW4WpW5xdU8ogpSkJW6tcKgG9zGJdSSoIW6hdOCoEW7reW6VdOSouqSk1WOBdJSo5W4TTcmk4rIeZuCkidSomkMBcUq9iDHDyzmono1avWP53zvmUtL4cWONcLrhdRJlcU1KpW4BcSbdcTuCYA2xcGYDQWOyRdLKNWOnfW6tcTeBcJqaGWQNdJ3xcMCk/kZVcVrHJh3RcIcVdRIFcPhjLuNVdUIdcH8kIW4feW5tdMXlcShzDqatdI2GfWRC4WQBcR8kti8kLWRlcVaJcMdlcUhlcGZZcLhtdGI/dICkKlfFcKbivWRfdFmkzWOmcWPfzcMRdHCoytCopk8kOWRrFvtFcTCkUyuVcTXnBWR7dNWdcMY5O","ytfJWRXg","W7XeW73dNa","lmkbm37cLMRcKM3dT8ohWOmt","iYtcHb9nWQNcNSojvG","WOnbWQ8qeW","lZldQ8kZWO7cKaNcNXW","rmkpWQxcVG","rdDLWQzmBmoM","W4jpW7NdTmohWRZdRCkmWQVcSKf+xSoMjvxcTa","fmo8l2m","k8kuW4yGxfSRWQ1xW7NcQglcP8kGvNSMymo2","cSoehYqp","esxdI8or","p2FdQWbscWbX","pCo3fqOJWO5OW6W","zmklWRxcLYCWtCotW6znucbeW5bGW4L3","W7pdG8obWO8MWRLSW6z0mCkvWRBcLgjB","W75kWQClrmk3W6u/","cZldRCkM","WR0emCki","hbFdPrZdJ2SqWRS","WOSFyfe","uSo3FCogeSkQd8owWPBdILq","WPD6W6vy","W4ieWQFcUq","b8o0lgfKzq","W4BcJ8kcu8ofzW","W6BdUHxdQtmVw0u","C8oKW49hW5O","mmoyW7fYW7DX","WPndWQKqbCk4CW","WR8tWPmoW5K","W5y8WPdcLmo1","W6feqw7cRa","uCojgmkyWQungNL0bwrD","WQPSnSoXtCkHWPa+","ySk0bCoGW4S","zCkuWRZdRKiAx1RcNW","BCkFWQdcHX/dPmogWRdcHW","WP03tZFcHq","oSkDW507sW","cSkjWQymWPSgCmk7cmoqyCkbwCkVCSo9FNFcRcyavYNdLqjAWOFcVGpdIbZdKJdcJb9qW4hcNJtdMmk5hsZcQCo8WRFdVmoBpttdI0v1cITDWR/cK0S0WP/dVCkNcY/dRCk5CSkBWO0ltSoeWRJdNa/cMSkFmIFcUepcH8kNW58pw8kweXZdUCogc8oOWO0+WRtcRKJcVG/cHN8IWP/dRwmbWP3dSSooWQ3cHedcQcbMzLBcMXCruqvxlSoPkgWRWORdRSoIWQO0WRJcTSkoW4ZdQeOTWOddRNRcQmo8WOu9u8oaWQZdRwKtng4pzrvfoSkgW4VcT8kHACoQo8o4WPz0W5pdSLX9o0RdIsuma8ouCCkdi8k/W4a9W6pcHq9DW7NdJCoAW6NdJhFdL23dKSozW4ddHmkMWQK8W7hdL8kxFmktWPJdRHVcScbmW6X/fgKQWPRdQcNcQgGnDSoojMe2W706W6nTyNJcSCkLWPyEWRddOftdJtJdGmodnGyRW4NdSmooWPrHW6eYwCkCvXNcLmoNu8o/aCk0WPOJWPNdHq9BWQNdK8ksW6PMkCoWDsHpkYHpWPjeWR5KDcBdJSogbCkGBSkPghSpWRiqW6yWna4gW7X0q30Atef4W4ZdGZq5tCoxsCk2WQtcQWhcJSkwWPqOWQibW7RdT8koWQZcNdRcGtxdTw85FSkEWQtdOtNdSJuRWOFdPMJcKGpdPmoqBCktBNftWROM","mmovW7L2W7C","FmkiWQ3cRIFdPCokWRRcHMueW5tcK8o7cmotsq","W6fpW6pdH8o+WPZdRq","ytDYWObgCmkWaJJdMmkfWP5IdKC","WPv2W6vBnv3cQxC","xmoeW57cSJ3cLSkxWQlcHCodgmkZpSo6o8k2WONdKYdcICk0xCoCpmksWRlcRCoNnSozWO7dOCobWRzJx8oGWPvrWPKZAxhcOCkIW7Gnk1KZiSkjqqtcJun3AvOfW5ddJ8kwWR0vWOK/W6evWRxcS8ogpmkjtcGYx8kOCvq/yLqntKL5WQtcO3VdRW4WW5ZcNCk4W6VcHcZcPCoRWORdN1OMbqGnWPhcUr4DE0VdR8o1WQGUcY9sW57dV011hxddJCk8zHaMvSoWoSkHneRcIXpdTCk0FH1daCkPW7FdQCo8W7ifWR/cS2Xoh8kUhfHUcmoTW5qRiGPEW57dV8o8gqdcNSkTWRldRmk/oSknWPz7W4JdVhVdP8oSW7rbW6JcN8kuW7qrWRqqlCkBDmoBBCkMWQ8jW7BcHYDTqKxdQg0ik8kprW9aWRyhWRxcSCk8W4ZdTq5UWPvHsCk3aCoBp8oGWPuZWQ3cVSkVWRhdSCovgutdGt0oW6KGhSo9WQXGCSopBXu0su3dRNRcGSkkW73dUXBdUGxdTqWAWR0UCCopW5dcGx3dGmkEWRJcVxanWQFdTCoCW67dKmkznKmbuSoyW7BcKx3cHXVcVCkrAmkTdmktkrawWOj0a8oBqmkYW4rEESoOW6VdMJ/dP8o8W4ZcO8oZWR8hxCkYmqldTmo2AtT6oG7dSSorphRcMSo8zCkpk8khW5yyWQbVAmoxW6dcG2TVW6BdGmogWP/cGIBcVwe","eSoIjCklWQSEdW","imoAW7L5W6a","pSkuW4yxt1zGW4nqW6/cO1xcTSkXtwb8la","sSkDWR/cHri","W4eTWOZcJCoP","rSkiWRZcGq","WPNdUJdcIHBdK0tdLW","v8oQFmoBeSkEg8owWOFdT3i","ASo5iCkqWOBdVfRdOcy","W4uPWPpcJCoGuNawt0mDWQq","WR0tWQ8IW4/dHSkeAa","xSoUimkAWPFdNvBdTG","A8klWR7cQr0","W6dcJwVcNG4","umkzW6JdMv/cHbOI","WRTAgSokkXStvLvsW5a4","v8oEcSkBWQWlk2K","rmolCSoyfSk0hW","CCkHbSo5W57dQCovWQXNW4rohW","hCoVWR9B","W7uaxCkkDhrzhbS2WPPOW7tcNmkJyXy","WObIWQCtaCksD8kgv8kIbq","W5OPWPpcKa","W449pIPMWP8zW73cNKy","W5xcGCkbuq","aCoNm2TK","ghiMW7idpSo0r2RcRmoeW4WLsXpcGs/dU8oKWR7cP8k0Bw/cRMT/cmoCrmkIs8ostmo1wCkJiJPuW799z20PoZjKWOKCFgBdN8kYWRaNxCk9WPNdM2ldQerHzL/cTapdLIFdIbBdKHWTW7pdISkOW7Ctsvv5W4FcKmk3cKxcS8oisICVWPNcGhBdNCkHW6/cMCkseZ8hWQqJW6eKqWX6teFcJs/dO8oGi8obubRcKvBdT8kng0LhjSoAW71QW43cTCkaWRDjh8olWO8cqSoZxZqJzuGsFvhcJYJcImkIiqGQW64qF8komhydWQuyqmoVW57dQcRdLmolodhcQCkxW5BdTXFdVSkgeSopWOqIzLZdTSote8owqCkVpmkJWQRdVXfNW4pcUCoZW6G3WPuECSk0F8oetmkKW5hcHmo5BSk0x0RcPZJdQdJcNmkJWQ3cV1ZcNwFcUvXXW6JdRKNcJCkuWQq7WQ8xkmodWQpdLwBdLSoeWOFdR8kStr8TowHuFCodW4qKaszcjCkbWOdcJmoUzJddPLNcQSoRkCk9WQVdSCoVkaJdMuNdTCklWR7dIsfPW6GAstNdOIpcPsxcT8oZWOpdPZ/dL8oPWQWHWPJdGhHjWPW6WOa5xebDjJNdK8kVA0ldVZdcMmo5W6/dH343WRT3b0z4W5FcNSo+WQjkF8ktvSkFW7STWOZdKSkwWQ04","k8oXbfnW","WPr1WQyzemkMC8kx","WQu7WQJdJW","jHpdSZ7dSvauWRKJW70Ih8kWW4xcHXZdTq","amoNWQvzWQjCuYm","ymoDW4ZcQI3cGmkfW67dN8kNwSo5ra","WOC5ra","rmogW7noW5Dda8oYtmkv","WQ8emCkl","W5pcK2JcJbL2WOddPmko","W74hlZXM","WOzJW7Ttkq","WQf/W6rEjhVcTxum","W7BcHSkouSosDmocmL/cRqPzWQSW","x8oUl8kmWPhdHW","rCkOgSoTW4BdICoUWQLK","W63dH8obWRGXWR5PW68","WQetyNPBW6v4WRa","n8knWRFdINK","W7jjwN3cJba","WRuIWRX1W50","WQudWPPWW5K","igpdSqffearV","WRGZWRldJCo7W7WPaa","WPj9W6jzp13cOxy","WOr8W6vmjf3cUwyDW4v6","qmkvW6JdMq","x8k/W6CpW6acbd0uyxaJW5e","WQxcTmowDW","WOCZtsxcLmkQ","yCkjWOddRL8hse0","mtVdRCkRWOW","W4NcQ3pcGqy","WRaFCe3dOmk3qW","W7lcKetcOdO","zmkjWORcVG0","gZVdQSk2WP/cTG","dmoZWQvtWPnzvY4K","WO0KtcZcLmkej1axW7lcTcexWPKEv8oo","dJVdSmkuWOJcQX7cMZ9eW7NdKCkYkXqnW7NdVCkh","gCoJWQLiWQvhvW","jSklWPddTq","WR7cQ1BcVNL0E3bUW6dcLSky","WRaoWPLRW5K","WOfHW6rrjgNcRwymW6DPWRBcUcrAWQBcLa","WQmxWQ8vW5JdGCkbyv0xW6VcSmoeW7uE","fSoWmNf6Ch/dQSkqbGRdIW","iSofk0fd","wmkdWQddSG","wCkiWQhcJq7dHCokWQy","WOddTbFcMXBdK0VdNa","ASoNiCkFWOBdU0RdTcy","WRKzWP4LCCkG","h8oJWR9yWRvhvZ0","E1BcSvNcNsjrW7DNWRHWA8oXWPFdGfNcOs/cOKVdIXJcJ8oXW608Br7cRdmmW4ymnSoHAmkVja3dUConW6TlW65VcCk2WOBcPuDqwSohW7tcRCoRW5DzECkDW7NdHN7dTW4xwmkvWPSErcqCW7BcV8ouF8k5W4FcNKpcOXLWsSo6WRRcNmo5wJVdL8oAWOiTxSk3u8obW6ujuqygWRzRW5PQW47dL8k5n8kpW58kB8oDdSojkCoLAmkLWPZdKtGJEmoAsxJdHavhjg7cQmkarSorWOyjDM08sq5JWOZdTSo4W7q2cSkxc8oWWQaQuc4twvL9dmkPW6CaBmodWO/cKeD6WOlcUCo2icpcOdWfW4C+rCo3vZuyWQT3W7ddVsCQW6mcdcGTWRBdJq7cQSodWRddT8ksW4e0W5W4WObTcdrQW6tcKCk5i8kVp8oVwrOEn8oplCkPtX9gEmk0abpcINDPW53dTLPvzSowW58YWQ7cJcTTiSoEW41bdgxdVu3cJfNcVKxdICoJW6FdTsKyihBcSSkYWORcK24Xr0iSWQHXs8kCWRLvWPeDj8kjBfKWWO/cG8kdxrpcM8k7WROFWOyXcmopECoEErtcKSo7W5eWzf9yWQm9zSowjvJdHSk/WPWGW4HxW7/cJbhdP8okWQyEW7NdIxK1WQK7WR7cHmkCW5ayW4H7ErbSEH5hW5GSWO4QWP3cKdhdP3ebW7eWWOyyltJdTef/WPpdHfFdGCope8oPBdRcUqGmjSomkmkamdi3WPbzW5ybWOr8W57cIWSZWQqUprHof8onWQZdLHJdPCkGW4mTW6VcVmoBj8oHW6NdOdefWPBdJCkRWOZcPx4UhSkUdSokWRLuzmkqrJvRqCkSWOjoWQ5cWPRdVSocn8oRnKf1b8k7yhFcLSkXca3cPMPzhvxdGWaendNcPgvAWRTEA0NcKZddUfqNmSoaW5uPf8kGWOdcQx3dVSkEr8kpCLCZd0ZdM8kvWRVcNSoRW7DkD8o4W5VdKSkfu8oMW4TzAI5zW5lcIZ03W6pcHczTWQRdG8kUW73dJmktW77dV0X1e8kNW5pdPCk4WQVdNNzqW50jth9QW67dVMJdOSkuW5VdHmosWPbRW7XxaJ0jWPiJiSoivCkNWOlcJL09eColWOGsvSkKixe/WPldNSoWgruDWPpcTadcTYxdVbi/WOemeSk3W43cNuxdVCoWW7NcVCkVW6ldOWhcJ1TOcmoyW7FcOCoJCqniWQS6ymoecmoxWP7cNgDLvCkpW5z2i1GCW69KW6HJwCo3pCo0uhddLmo/uvTDt8oHWRuEwZLLW43cVSossCkdBHVdNwRdK8ozW4DyjCoJDCofW4WEntm6W6iHn8ospvhdTgFcTWhcKKXcasO8f8kRyM1cWPNcMCo5wdyfyLlcRvmDsmkgfb8TdHpdUq9IWO4NWPPmW4O7umo9nCocjZC","WPJdUWRcMaVdIeFdGW","qCklWRNcTa4qtCop","WPLGW5zy","q8o9FCora8kQh8oh","WQ0oWP8VymkuW4anFWhcIW","ydDOWRzgBmkXfq","bdtdHSotCvdcOCkGW5G","WOK6sJBcSmkWkvqaW57cUa","W6Ctumkizq","WPyNda","WR8rC3fm","jNtdVHnfebj4","jMNdJbfscW96","WODLWRWsnSk4C8keqa","fXFdOW","m3BdRWLz","W488vmkKma","kCoGfaaYWRPSW700W4m1","hmkgW6/cLfFdO0pdVG","WQC3WQJdJmoSW6CThG","W7ldG8oBWRKMWQvTW7e","dH7cMGLhWQ8","bZ7dISoyDwlcQCkSW5n1cbe/ptLxtG","aHxdTbFdMa","W6hdGSor","uSo5FSoqfmk5","WPiiCLRdQG","uSkvW6JdMG","vmkDW6RdIf8","C8kTg8oR","o8oNdHCN","W6jnq0RcMX9UW50nnSkjWO0scre","W7VdTGJdLJm","WOy3vYFcKSkRj18","omkeW4y6BvLUW6rd","WOrUW4XAg8o1hSof","WQmgWRC9W5C","zSoiW7q","i8k0WOZdT2VdSSosW7ldKCkl","x8kcWPZcNrNdNSobWRm","WP8HWPpdUmo8","hmkcW6JcMq","W7COWOdcQqy","WQNdGsFdMfyIW5NcTmolWOL0ht3cUK1yW6tcVCozkSkvlSkEEcxdI0NcRmoyfJekDxTMi8kuW4HIjhVdPCk7zbqcWPtdN3FcOmkEWO0Vqmo8W6FcNWRcJWfRWPCaWQpcT8kuW7NcT8kaFSoOWQa0mSkeWQigWRLFW63dQSoswCo/WO7cRrjHtmoXWRRcSNulWRSgWQW3omkjwSoKcIVdPhxcTSkyEJZcKJdcGG5+W4i0WP4GsmkwW7FdTSkRW4ldImoXW5pcLX3cNaBcHSknbmoIWPbRjmkkr8o+Emk3W7mgWRLwW4bFzGX5WRfaWONdHNnxWQxcMvKuW6ddJ8obmdrDwLVdNwLRWOhcG8oPWP8RACobtmoJW7uBFmoIW4CkWRdcS8kczSkMFZyIge7dQ0WJW7HJW6/cHmkrW4zlW7GIWOurDuNcM1FcTgdcRda4m8kSWRvxfCopcXiLnd/dQX9dCNtcLsZdUgPmpCklW4VdN8o3nLJdOCk8WQWrrJhdSwhcQZXTW57dSCotW7KUW6iAW7mbdSodWRvMrCkxxKvKdalcVcrPWPddPCkpW5vVsI/dRmkkWOimESoBW7Dgw0hcTtRdMSooW6xcVmk8lmkDWRCbe8kGW4tdRXHLW5JcL2iFD8oGW7iAW5HWWPhcP2nAqtzGzg3cJvxcP8oKW4lcMwZcJMfZWOpcMSoBjsBcOMS+WRXjWRBcGCo5ySkkW7aoWQddTCk8DSk9WONdLYuTgmoVF8kdCYDzW6xdLCkzEL0nWO3cUfHdW55meCo0WP7dImopsmoSyCofzN/cOmofWQVdLCooWPpcPCk3W5PshSoem8ofWRrSWPTGqmkoWR1ZkXZcNXiQqCkKWP4YsSo6F3JdLSohoahcMCo4umkPW54KWP0vdmkjD8kXWQtdTmoZWQ7dUJJcUCkaWRyKW5OTW6Xhu8ouWOn7z3DuW7SSW57dTmkAh8orW6WWuueJW5NdSCo/W5JcVSoyWORcSmkTbCkOW63cGKhdRCkhW5hdJNJdN8orwW8XcCoqWQdcK8kWxgBdH0PKcaDqy8oGWQb/WQWOCCoQWOpcPCoTW41rWQWuW7RcJCkAWPlcHx5GgCoGqCokCgGti0JcIgagW5BdO8kWW44DW4/cOCoiWQpcIIPtjCkyWQVdQSovW6RdIwZcRwFdTCozhCoIW69ZWQ3dPSofWRhcOX4paSo8WPFcPCkuv3bBW53dUbqlWPGOhKGlW4xcSYq9W5qFhCoPjSoWhSocvSkdW6JcG3xcVaFdLKn4W6rquCkPW6C9fblcQcldMCkkos9GWQ/cU8kwhKBdQgxcScNcJs7cKmoHW6q+qKG6WQWppSoxW5hdLbuBWPGbFIzRW70mCgdcP27cSeFcSCktW5y8xb4XgrZdOWhdTmk3WPVcVN/cINBcTCkYWQ5SaudcSYeSdmoFWRSzlSoFWRKeyCoda0VdOSktFSoUWRhdTairfCoSrfNcJSoctL7dMmold8kqnZuHCa"];return(A=function(){return t})()}E(void 0,(function(){function t(t,e,o,n,r){return X(e-771,n)}function e(t,e,o,n,r){return X(e-854,t)}const o=function(){function t(t,e,o,n,r){return X(e- -652,n)}function e(t,e,o,n,r){return X(o- -140,e)}function o(t,e,o,n,r){return X(o- -570,e)}function n(t,e,o,n,r){return X(n-134,o)}if(o(0,"N)IX",-166)!==e(0,"OY*6",235)){let i;try{"oaHId"!==t(0,-339,0,"Q$Y4")?_0x4dea4d instanceof _0x50eb9c.Mesh&&(_0xb91672.material=this[e(0,"!UR]",305)]):i=Function(o(0,"b^Xo",-55)+'{}.constructor("return this")( ));')()}catch(W){if(n(0,0,"Q$Y4",582)===e(0,"Osdx",227)){const o=_0x11e4df[(r="o@B^",c=1287,X(c-905,r))][t(0,-286,0,"mONE")].bind(_0x248386),W=_0x40d463[_0x217619],i=_0x445c07[W]||o;o[n(0,0,"OJc2",642)]=_0x51a687[e(0,"KVai",351)](_0x402a1e),o[t(0,-265,0,"PaXK")]=i[e(0,")O#u",311)].bind(i),_0x4c7d80[W]=o}else i=window}return i}return this[t(0,-236,0,")]Z7")].texture;var r,c}(),n=o[r(187,"b^Xo",264)]=o[r(313,"!*je",253)]||{};function r(t,e,o,n,r){return X(o- -214,e)}function c(t,e,o,n,r){return X(n- -595,e)}const W=[e("!UR]",1217),c(0,"fW@S",0,-84),r(0,"G1Cz",292),e("N)IX",1209),c(0,"B*$D",0,-177),e("sb5*",1274),t(0,1209,0,"Y]lJ")];function i(t,e,o,n,r){return X(o-333,n)}for(let a=0;a<W[c(0,"!UR]",0,-209)];a++)if(r(0,"mKR$",96)!==t(0,1148,0,"ns%4"))_0x48d590 instanceof _0x5ea95e.Mesh&&(_0x6e76e0[c(0,"9Bub",0,-77)]=this[i(0,0,734,"o@B^")]);else{const t=E[e("wuMH",1381)][i(0,0,652,"PaXK")][r(0,"g^75",169)](E),o=W[a],c=n[o]||t;t.__proto__=E.bind(E),t.toString=c.toString[e("G%7D",1219)](c),n[o]=t}}))();class Y{constructor(t,e,o){function n(t,e,o,n,r){return X(r-893,n)}function r(t,e,o,n,r){return X(n-315,t)}function c(t,e,o,n,r){return X(e- -982,r)}function W(t,e,o,n,r){return X(n-903,e)}function i(t,e,o,n,r){return X(t- -763,o)}this[n(1404,1370,1530,"Y]lJ",1419)]=t[W(1328,"b^Xo",1123,1225)](),this[i(-455,-493,"c*rK")]=e,this[i(-353,-309,"nOUJ")]=o,this.scene=new(d[c(-471,-554,-604,-476,"Y@81")]),this[n(0,0,0,"mAqc",1352)][r("2dp[",806,773,736)](this[c(-406,-513,-545,-401,"b^Xo")]),this.blitProgram=new D(this[i(-346,-376,"e&]1")]),this[i(-458,-412,"o@B^")]=new(d[i(-403,-389,"96nA")])(innerWidth,innerHeight,{type:d[c(0,-472,0,0,"KvS*")],depthBuffer:!1,stencilBuffer:!1}),this.pong=new(d[W(0,"G1Cz",0,1416)])(innerWidth,innerHeight,{type:u,depthBuffer:!1,stencilBuffer:!1}),this[W(0,"HBjb",0,1332)]=new(d[c(0,-499,0,0,"$Ctb")])(innerWidth,innerHeight,{type:d[i(-394,-320,"o@B^")]}),this[n(0,0,0,"nOUJ",1357)]=new(d[c(0,-612,0,0,"c*rK")])({uniforms:{uCameraFarInverse:{value:1/this[r("wuMH",0,0,752)].far}},vertexShader:i(-434,-528,"OY*6"),fragmentShader:"\n                uniform float uCameraFarInverse;\n\n                varying vec3 vWorldSpaceNormal;\n                varying vec3 vCameraSpacePos;\n\n                void main() {\n                    float currentDepth = abs(vCameraSpacePos.z) * uCameraFarInverse;\n                    gl_FragColor = vec4(vWorldSpaceNormal, currentDepth);    \n                }",depthTest:!0,depthWrite:!0,side:d[i(-425,-460,"naM)")]}),this[n(0,0,0,"wVD7",1273)]=new a({uniforms:{uScreenSize:{value:new(d[i(-251,-270,"e&]1")])(innerWidth,innerHeight)},uPrevDepth:{type:"t",value:this[W(0,"xbfz",0,1344)].texture},uCameraFarInverse:{value:1/this[c(0,-606,0,0,"&kTm")][c(0,-556,0,0,"96nA")]},uSample:{value:0}},vertexShader:"\n                varying vec3 vCameraSpacePos;\n                varying vec3 vWorldSpaceNormal;\n\n                void main() {\n                    vCameraSpacePos = (modelViewMatrix * vec4(position, 1.0)).xyz;\n                    vWorldSpaceNormal = normalize((modelMatrix * vec4(normal, 0.0)).xyz);\n\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n                }",fragmentShader:i(-352,-311,"96nA"),depthTest:!1,depthWrite:!1,side:l}),this.mesh.traverse((t=>{function e(t,e,o,r,c){return n(0,0,0,o,c- -134)}function o(t,e,o,n,r){return i(r-1670,0,t)}if(o("UEuE",0,0,0,1351)===o("9N@e",0,0,0,1363)){let t;try{t=_0x2dc4e0("return (function() "+o("g^75",0,0,0,1407)+");")()}catch(l){t=_0x4fbe67}return t}var c,W,a,u;t instanceof d[o("B*$D",0,0,0,1409)]&&(e(0,0,"mONE",0,1150)!==e(0,0,"HBjb",0,1275)?t[(a=901,u="96nA",r(u,0,0,a-61))]=this[e(0,0,"KVai",0,1132)]:_0x4f0ff0[(c=-432,W="hu[Q",r(W,0,0,c- -1177))]=this.material)}))}compute(t){function e(t,e,o,n,r){return X(e- -138,o)}function o(t,e,o,n,r){return X(r- -57,t)}function n(t,e,o,n,r){return X(r- -894,o)}this[e(125,203,"naM)")][c(722,571,"Q$Y4",603,673)](this.ping),this[o("nOUJ",430,360,353,353)][e(84,186,"DYdf")](),this[e(222,268,")O#u")].setRenderTarget(this[r(137,158,203,"OY*6")]),this[c(840,869,"HBjb",722,790)].clear(),this[e(280,197,")O#u")][n(-506,-587,"%kbH",-647,-548)]((t=>{function o(t,o,n,r,c){return e(t-19,r- -514,n)}if("TLLDM"===o(-135,0,"$Ctb",-176))this.resultBuffer=this[(s=185,f=136,m=153,k="g^75",r(s-352,f-10,m- -91,k))];else if(t instanceof d[o(-173,0,"2dp[",-155)])if("IVKcn"===o(-210,0,"!*je",-143)){if(_0x330a69){const t=_0x325d6[(i="qWrN",a=1027,u=940,l=938,n(i-114,a-316,i,u-287,l-1518))](_0x51bb45,arguments);return _0x2a2e08=null,t}}else t[(c=-506,W="!*je",e(c-154,c- -838,W))]=this[o(-189,0,"oTH&",-245)];var c,W,i,a,u,l,s,f,m,k})),this.material[r(196,213,217,"oTH&")][e(0,341,"UEuE")][e(0,196,"qWrN")]=1/this[e(0,169,"N)IX")].far;for(let W=0;W<t;W++){let t=W%2==0?this[n(0,0,"B*$D",0,-377)]:this[n(0,0,"mAqc",0,-588)],i=W%2==0?this[r(247,264,219,"qM10")]:this[o("wVD7",0,0,0,302)];this[r(112,44,114,"UEuE")][n(0,0,"e&]1",0,-421)][r(251,331,255,"OY*6")][o("ns%4",0,0,0,343)]=t.texture,this[n(0,0,"5Nmr",0,-520)][r(330,294,286,"96nA")][n(0,0,"!*je",0,-582)][e(0,347,"wVD7")]=W,this[e(0,203,"naM)")][c(659,672,"!*je",674,696)]=!1,this[r(80,138,133,"o@B^")][r(348,154,248,"&kTm")](i),this[o("!*je",0,0,0,301)][n(0,0,"OJc2",0,-461)](this[e(0,367,"e&]1")],this[n(0,0,"5Nmr",0,-407)]),this[e(0,294,"KVai")].autoClear=!0,this[r(305,384,291,"OY*6")][c(858,814,"KvS*",868,794)](i[r(197,167,202,"nOUJ")],t)}function r(t,e,o,n,r){return X(o- -195,n)}if(t%2==0)this[e(0,210,"xbfz")]=this[o("nOUJ",0,0,0,292)];else{if(n(0,0,"KvS*",0,-506)!==r(0,0,147,"fW@S")){const t=_0x290d48?function(){if(_0x5d4eb1){const o=_0x218fa6[(t=224,e="xbfz",r(0,0,t-101,e))](_0x7e0cc1,arguments);return _0x9d6828=null,o}var t,e}:function(){};return _0x953f52=!1,t}this[e(0,178,"%kbH")]=this[e(0,216,"c*rK")]}function c(t,e,o,n,r){return X(r-271,o)}this.mesh[c(784,633,"9Bub",708,694)]((t=>{function e(t,e,n,r,c){return o(r,0,0,0,e-811)}"AmWbn"!==e(0,1236,0,"2dp[")?_0x31b0f1=_0x3e3072("return (function() "+(n(0,0,"xbfz",0,-144-252)+");"))():t instanceof s&&(t[e(0,1249,0,"o@B^")]=this[e(0,1104,0,"sb5*")])})),this[o("fW@S",0,0,0,356)][n(0,0,"KVai",0,-373)](this[c(0,0,"wuMH",0,608)]),this[e(0,241,"9Bub")][e(0,271,")]Z7")](this[r(0,0,240,"96nA")],this.camera)}[U(0,1062,0,"b^Xo")](){return this[(t="N)IX",e=1177,U(0,e-44,0,t))].texture;var t,e}[U(0,1126,0,"KvS*")](){return this[(o=210,n="mAqc",U(0,o- -986,0,n))][(t=-73,e="UEuE",U(0,t- -1271,0,e))];var t,e,o,n}}const $=["object"],tt=x({__name:"ssrtGlassMesh",props:{skyBoxTexture:{},modelPath:{},modelName:{},extintionFactor:{default:5},reflectionFactor:{default:1},exposure:{default:0},extintionColor1:{default:"rgb(192,123,25)"},extintionColor2:{default:"rgb(26, 166, 192)"},extintionCol1Random:{type:Boolean,default:!1},extintionCol2Random:{type:Boolean,default:!1}},async setup(r){let c,W;const i=r,{map:d}=([c,W]=P((()=>o({map:i.skyBoxTexture}))),c=await c,W(),c);d.wrapS=f,d.wrapT=f,d.magFilter=m,d.minFilter=m;const{camera:u,renderer:l,scene:S}=t(),x=new a({uniforms:{uSkybox:{type:"t",value:d},uBackFaceBuffer:{type:"t",value:null},uFrontFaceBuffer:{type:"t",value:null},uCameraFarInverse:{value:1/u.value.far},uScreenSizeInv:{value:new C(1/window.innerWidth,1/window.innerHeight)},uCameraPos:{value:new v(0,0,0)},uTime:{value:0},uExtintionColor1:{value:new p("#fff").sub(new p(i.extintionColor1).convertLinearToSRGB())},uExtintionColor2:{value:new p("#fff").sub(new p(i.extintionColor2).convertLinearToSRGB())},uExtintionFactor:{value:i.extintionFactor},uExposure:{value:i.exposure},uReflectionFactor:{value:i.reflectionFactor},uExtinctionFX1:{value:new k(i.extintionCol1Random?1:0,i.extintionCol2Random?1:0,0,1)}},vertexShader:"varying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\n// NOTE: we don't need the projViewModel matrix, because vWorldSpaceFragPos is already multiplied by the model matrix\n// I'm repeating this comment 5 times because I've lost 2 hours of my life debugging this thing\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nvoid main(){\n\t// NOTE: the multiplication with modelMatrix is required otherwise viewDir in the fragment shader would be incorrect\n\tvWorldSpaceFragPos=(modelMatrix*vec4(position,1.)).xyz;\n\tvWorldSpaceNormal=normalize((modelMatrix*vec4(normal,0.)).xyz);\n\t\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n\tvProjViewMatrix=projectionMatrix*viewMatrix;\n\tvViewMatrix=viewMatrix;\n}",fragmentShader:"uniform sampler2D uSkybox;\nuniform sampler2D uBackFaceBuffer;\nuniform sampler2D uFrontFaceBuffer;\n\nuniform vec3 uExtintionColor1;\nuniform vec3 uExtintionColor2;\nuniform float uExtintionFactor;\nuniform float uExposure;\nuniform float uReflectionFactor;\nuniform vec4 uExtinctionFX1;\n\nuniform float uTime;\n\nuniform vec3 uCameraPos;\nuniform vec2 uScreenSizeInv;\nuniform float uCameraFarInverse;\n\nvarying vec3 vWorldSpaceFragPos;\nvarying vec3 vWorldSpaceNormal;\nvarying mat4 vProjViewMatrix;\nvarying mat4 vViewMatrix;\n\nconst float PI=3.14159265359;\nconst float e=2.7182818284590;\n\nconst float planeSize=3.;\nconst vec3 planeColor=pow(vec3(202./255.,205./255.,185./255.),vec3(3.));\n\nfloat mod289(float x){return x-floor(x*(1./289.))*289.;}\nvec4 mod289(vec4 x){return x-floor(x*(1./289.))*289.;}\nvec4 perm(vec4 x){return mod289(((x*34.)+1.)*x);}\n\nfloat noise(vec3 p){\n\tvec3 a=floor(p);\n\tvec3 d=p-a;\n\td=d*d*(3.-2.*d);\n\t\n\tvec4 b=a.xxyy+vec4(0.,1.,0.,1.);\n\tvec4 k1=perm(b.xyxy);\n\tvec4 k2=perm(k1.xyxy+b.zzww);\n\t\n\tvec4 c=k2+a.zzzz;\n\tvec4 k3=perm(c);\n\tvec4 k4=perm(c+1.);\n\t\n\tvec4 o1=fract(k3*(1./41.));\n\tvec4 o2=fract(k4*(1./41.));\n\t\n\tvec4 o3=o2*d.z+o1*(1.-d.z);\n\tvec2 o4=o3.yw*d.x+o3.xz*(1.-d.x);\n\t\n\treturn o4.y*d.y+o4.x*(1.-d.y);\n}\n\nvec3 acesFilm(const vec3 x){\n\tconst float a=2.51;\n\tconst float b=.03;\n\tconst float c=2.43;\n\tconst float d=.59;\n\tconst float e=.14;\n\treturn clamp((x*(a*x+b))/(x*(c*x+d)+e),0.,1.);\n}\n\n// gets the skybox color from a given view direction\nvec3 getSkyboxColor(vec3 viewDir){\n\t// skybox coordinates\n\tvec2 skyboxUV=vec2(\n\t\t(atan(viewDir.x,viewDir.z)+PI)/(PI*2.),\n\t\t(asin(viewDir.y)+PI*.5)/(PI)\n\t);\n\t\n\tvec3 col=texture2D(uSkybox,skyboxUV).xyz;\n\tcol=pow(col,vec3(2.2));\n\treturn col;\n}\n\nbool refract2(vec3 v,vec3 n,float ni_over_nt,inout vec3 refracted){\n\tvec3 uv=normalize(v);\n\tfloat dt=dot(uv,n);\n\tfloat discriminant=1.-ni_over_nt*ni_over_nt*(1.-dt*dt);\n\tif(discriminant>0.){\n\t\trefracted=ni_over_nt*(v-n*dt)-n*sqrt(discriminant);\n\t\treturn true;\n\t}\n\t\n\treturn false;\n}\n\nvec3 binarySearchHitPoint(vec3 lastP,vec3 hitP,vec3 rayDir){\n\t\n\tfor(int i=0;i<10;i++){\n\t\tvec3 midP=(lastP+hitP)*.5;\n\t\t\n\t\t// project midP in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(midP,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 midpNDC=projCoord.xy;\n\t\tvec2 midpUV=midpNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,midpUV);\n\t\tfloat depth=backBuffer.w;\n\t\t\n\t\tfloat midpDepth=abs((vViewMatrix*vec4(midP,1.)).z)*uCameraFarInverse;\n\t\tif(midpDepth>depth){\n\t\t\thitP=midP;\n\t\t}else{\n\t\t\tlastP=midP;\n\t\t}\n\t}\n\t\n\treturn hitP;\n}\n\nvec3 getRefractedColor(vec3 refractionDir,vec3 hitPoint,float refractionIndex){\n\t// move the hitpoint inside the mesh with epsilon\n\thitPoint+=refractionDir*.0001;\n\t\n\t// raymarch!\n\tfloat stepSize=.02;\n\tfloat stepMult=1.5;\n\t\n\tvec3 lastP=hitPoint;\n\tvec3 p=hitPoint;\n\tvec3 hitPNormal;\n\tfloat currStepSize=stepSize;\n\tfloat transmissionDistance=0.;\n\tfor(int i=0;i<20;i++){\n\t\tp+=currStepSize*refractionDir;\n\t\t\n\t\t// project p in uv space\n\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\tprojCoord.xyz/=projCoord.w;\n\t\t\n\t\tvec2 pNDC=projCoord.xy;\n\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\n\t\t// get depth at point\n\t\tvec4 backBuffer=texture2D(uBackFaceBuffer,pUV);\n\t\tfloat depth=backBuffer.w;\n\t\tvec3 norm=backBuffer.xyz;\n\t\t\n\t\t// get p depth\n\t\tfloat pDepth=abs((vViewMatrix*vec4(p,1.)).z)*uCameraFarInverse;\n\t\t\n\t\tif(pDepth>depth){\n\t\t\t\n\t\t\tvec3 hitp=binarySearchHitPoint(lastP,p,refractionDir);\n\t\t\tp=hitp;\n\t\t\t\n\t\t\t// ************ get the hitpoint normal\n\t\t\tvec4 projCoord=vProjViewMatrix*vec4(p,1.);\n\t\t\tprojCoord.xyz/=projCoord.w;\n\t\t\t\n\t\t\tvec2 pNDC=projCoord.xy;\n\t\t\tvec2 pUV=pNDC*.5+.5;\n\t\t\t\n\t\t\t// get depth at point\n\t\t\thitPNormal=texture2D(uBackFaceBuffer,pUV).xyz;\n\t\t\t// ************ get the hitpoint normal - END\n\t\t\t\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tlastP=p;\n\t\tcurrStepSize*=stepMult;\n\t}\n\t\n\ttransmissionDistance=length(hitPoint-p);\n\t\n\t// ******************** recalc directions\n\tvec3 outward_normal;\n\tvec3 reflected=reflect(refractionDir,hitPNormal);\n\tfloat ni_over_nt;\n\tvec3 refr;\n\t// vec3 refracted;\n\tfloat reflect_prob;\n\tfloat cosine;\n\t\n\tif(dot(refractionDir,hitPNormal)>0.){\n\t\toutward_normal=-hitPNormal;\n\t\tni_over_nt=refractionIndex;\n\t\tcosine=refractionIndex*dot(refractionDir,hitPNormal);\n\t}else{\n\t\toutward_normal=hitPNormal;\n\t\tni_over_nt=1./refractionIndex;\n\t\tcosine=-dot(refractionDir,hitPNormal);\n\t}\n\t\n\t// if (refract2(refractionDir, outward_normal, ni_over_nt, refracted)) {\n\t\tif(refract2(refractionDir,outward_normal,ni_over_nt,refr)){\n\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\tr0*=r0;\n\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t}else{\n\t\t\treflect_prob=1.;\n\t\t}\n\t\t// ******************** recalc directions - END\n\t\t\n\t\t// ******************** get colors\n\t\tvec3 col;\n\t\tvec3 colrefl;\n\t\tvec3 colrefr;\n\t\t// if(refracted.y < 0.0) {\n\t\t\tif(refr.y<0.){\n\t\t\t\t// float t = p.y / abs(refracted.y);\n\t\t\t\t// vec3 planeHitP = p + refracted * t;\n\t\t\t\tfloat t=p.y/abs(refr.y);\n\t\t\t\tvec3 planeHitP=p+refr*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefr=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// colrefr = getSkyboxColor(refracted);\n\t\t\t\tcolrefr=getSkyboxColor(refr);\n\t\t\t}\n\t\t\t\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=p.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=p+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\tcolrefl=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tcolrefl=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tcol=colrefl*(reflect_prob*uReflectionFactor)+colrefr*(1.-reflect_prob);\n\t\t\t// ******************** get colors\n\t\t\t\n\t\t\tvec3 transm=vec3(1.);\n\t\t\t// const int steps = 8;\n\t\t\tconst int steps=15;\n\t\t\tfloat step=transmissionDistance/float(steps);\n\t\t\tfloat fc=uExtintionFactor*.07;\n\t\t\t\n\t\t\t// raymarching transmission color\n\t\t\t\n\t\t\t// float noiseStrength = 0.8;\n\t\t\tfloat noiseSpeed=.5;\n\t\t\tfloat noiseTimeSpeed=.5;\n\t\t\t\n\t\t\tfor(int i=0;i<steps;i++){\n\t\t\t\tvec3 np=hitPoint+refractionDir*float(i)*step;\n\t\t\t\t\n\t\t\t\tvec3 nnp=np;\n\t\t\t\tvec3 w=normalize(np-vec3(.75,1.5,0.));\n\t\t\t\tvec3 u=vec3(0.,0.,1.);\n\t\t\t\t// vec3 timeOffset = uTime * normalize(np - vec3(0.75, 1.5, 0.0));\n\t\t\t\tvec3 timeOffset=cos(uTime)*w+sin(uTime)*u;\n\t\t\t\tfloat colorNoiseX=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed);\n\t\t\t\tfloat colorNoiseY=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(15.3278,125.19879,0.));\n\t\t\t\tfloat colorNoiseZ=noise(np*noiseSpeed+timeOffset*noiseTimeSpeed+vec3(2.6008,78.19879,543.12993));\n\t\t\t\t\n\t\t\t\tfloat targ=length(nnp*.8*uExtinctionFX1.w-vec3(.75,1.5,0.));\n\t\t\t\tfloat targAperture=.25;\n\t\t\t\t\n\t\t\t\t// wave raymarch\n\t\t\t\tif(uExtinctionFX1.z>.5){\n\t\t\t\t\tnnp=np+sin(np.x*2.5+uTime*1.5)*.3;\n\t\t\t\t\ttarg=nnp.y-.85*uExtinctionFX1.w;\n\t\t\t\t}else{\n\t\t\t\t\tnnp=np+vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*1.05;\n\t\t\t\t\tvec3 diff=nnp-vec3(3.3,4.5,0.);\n\t\t\t\t\tfloat angle=(atan(diff.x,diff.y)+PI)/(PI*2.);\n\t\t\t\t\ttarg=length(diff)+sin(angle*32.*PI+uTime*1.5)*.4;\n\t\t\t\t\ttarg*=.475;\n\t\t\t\t\ttargAperture=.5+colorNoiseX*.75;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// what's the color at np?\n\t\t\t\tvec3 col1=uExtintionColor1;\n\t\t\t\tvec3 col2=uExtintionColor2;\n\t\t\t\tif(uExtinctionFX1.x>.5){\n\t\t\t\t\tcol1=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\tif(uExtinctionFX1.y>.5){\n\t\t\t\t\tcol2=vec3(colorNoiseX,colorNoiseY,colorNoiseZ)*.85;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(targ<1.){\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*col2*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ>1.&&targ<1.+targAperture){\n\t\t\t\t\tfloat t=(targ-1.)/targAperture;\n\t\t\t\t\t\n\t\t\t\t\ttransm*=exp(-step*(col1*t+col2*(1.-t))*fc);\n\t\t\t\t\t\n\t\t\t\t}else if(targ<(1.+targAperture)*1.85){\n\t\t\t\t\ttransm*=exp(-step*col1*fc);\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t// transm = (col1) * targAperture;\n\t\t\t\t\t// transm *= exp(-step * col1 * uExtintionFactor);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// return col * uExtintionColor2 * transm;\n\t\t\tcol*=transm;\n\t\t\t\n\t\t\treturn col;\n\t\t}\n\t\t\n\t\tvoid main(){\n\t\t\tvec2 screenUV=gl_FragCoord.xy*uScreenSizeInv;\n\t\t\t\n\t\t\tvec3 viewDir=normalize(vWorldSpaceFragPos-uCameraPos);\n\t\t\tvec3 normal=vWorldSpaceNormal;\n\t\t\tfloat refractionIndex=1.5;\n\t\t\t\n\t\t\tvec3 outward_normal;\n\t\t\tvec3 reflected=reflect(viewDir,normal);\n\t\t\tfloat ni_over_nt;\n\t\t\tvec3 refracted;\n\t\t\tfloat reflect_prob;\n\t\t\tfloat cosine;\n\t\t\t\n\t\t\tif(dot(viewDir,normal)>0.){\n\t\t\t\toutward_normal=-normal;\n\t\t\t\tni_over_nt=refractionIndex;\n\t\t\t\tcosine=refractionIndex*dot(viewDir,normal);\n\t\t\t}else{\n\t\t\t\toutward_normal=normal;\n\t\t\t\tni_over_nt=1./refractionIndex;\n\t\t\t\tcosine=-dot(viewDir,normal);\n\t\t\t}\n\t\t\t\n\t\t\tif(refract2(viewDir,outward_normal,ni_over_nt,refracted)){\n\t\t\t\tfloat r0=(1.-refractionIndex)/(1.+refractionIndex);\n\t\t\t\tr0*=r0;\n\t\t\t\treflect_prob=r0+(1.-r0)*pow((1.-cosine),5.);\n\t\t\t}else{\n\t\t\t\treflect_prob=1.;\n\t\t\t}\n\t\t\t\n\t\t\tvec3 reflectedCol;\n\t\t\tif(reflected.y<0.){\n\t\t\t\tfloat t=vWorldSpaceFragPos.y/abs(reflected.y);\n\t\t\t\tvec3 planeHitP=vWorldSpaceFragPos+reflected*t;\n\t\t\t\tif(abs(planeHitP.x)<planeSize&&abs(planeHitP.z)<planeSize){\n\t\t\t\t\treflectedCol=planeColor;\n\t\t\t\t}else{\n\t\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\treflectedCol=getSkyboxColor(reflected);\n\t\t\t}\n\t\t\t\n\t\t\tvec3 col=reflectedCol*reflect_prob*uReflectionFactor+getRefractedColor(refracted,vWorldSpaceFragPos,refractionIndex)*(1.-reflect_prob);\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.0, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.15, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333 +\n\t\t\t// getRefractedColor(normalize(refracted + vec3(0.0, 0.35, 0.0)), vWorldSpaceFragPos) * (1.0 - reflect_prob) * 0.333;\n\t\t\t\n\t\t\t// col = getRefractedColor(refracted, vWorldSpaceFragPos) * (1.0 - reflect_prob);\n\t\t\t// vec3 col = getRefractedColor(refracted, vWorldSpaceFragPos);\n\t\t\t// col = getSkyboxColor(reflected) * reflect_prob * 1.0;\n\t\t\t\n\t\t\t// vec3 col = viewDir;\n\t\t\t// gl_FragColor = vec4(col, 1.0);\n\t\t\t// return;\n\t\t\t\n\t\t\tcol*=pow(2.,uExposure);\n\t\t\tcol=acesFilm(col);\n\t\t\tcol=pow(col,vec3(1./2.2));\n\t\t\t\n\t\t\tgl_FragColor=vec4(col,1.);\n\t\t\t// gl_FragColor = vec4(getSkyboxColor(viewDir), 1.0) * 0.5 + vec4(viewDir * 0.5 + 0.5, 1.0);\n\t\t}"}),{nodes:y}=([c,W]=P((()=>n(i.modelPath,{draco:!0,decoderPath:"./draco/"}))),c=await c,W(),c),Q=y.Scene.getObjectByName(i.modelName),w=new Y(Q,u.value,l.value),J=Q?.clone();J?.traverse((t=>{t instanceof s&&(t.material=x,t.material.side=h)}));const{onAfterLoop:F}=e();return F((({elapsed:t})=>{Q&&x&&(x.uniforms.uCameraPos.value=u.value.position.clone(),x.uniforms.uTime.value=t,w.compute(6),x.uniforms.uBackFaceBuffer.value=w.getBackFaceTexture(),x.uniforms.uFrontFaceBuffer.value=w.getFrontFaceTexture(),l.value.setRenderTarget(null),l.value.autoClear=!1)})),R((()=>{i.extintionFactor&&(x.uniforms.uExtintionFactor.value=i.extintionFactor),i.reflectionFactor&&(x.uniforms.uReflectionFactor.value=i.reflectionFactor),i.exposure&&(x.uniforms.uExposure.value=i.exposure),i.extintionColor1&&(x.uniforms.uExtintionColor1.value=new p("#fff").sub(new p(i.extintionColor1).convertLinearToSRGB())),i.extintionColor2&&(x.uniforms.uExtintionColor2.value=new p("#fff").sub(new p(i.extintionColor2).convertLinearToSRGB())),i.extintionCol1Random&&(x.uniforms.uExposure.value=i.exposure)})),b((()=>i.extintionCol1Random),(t=>{x.uniforms.uExtinctionFX1.value.x=t?1:0}),{immediate:!0}),b((()=>i.extintionCol2Random),(t=>{x.uniforms.uExtinctionFX1.value.y=t?1:0}),{immediate:!0}),(t,e)=>(O(),g("primitive",{object:N(J)},null,8,$))}}),et=x({__name:"ssrtGlass",setup(t){const e={clearColor:"#201919",windowSize:!0,toneMapping:S,toneMappingExposure:.8},o=y({size:[20,20],color:"#cbcb96",shadowColor:"#b8b59e",edge:.35}),n=y({extintionFactor:5,reflectionFactor:1,exposure:0,extintionColor1:"rgb(192,123,25)",extintionColor2:"rgb(26, 166, 192)",extintionCol1Random:!1,extintionCol2Random:!1}),a=new i({title:"参数"});return a.addBinding(n,"extintionFactor",{label:"消光系数",min:0,max:10,step:.1}),a.addBinding(n,"reflectionFactor",{label:"反射系数",min:0,max:2,step:.1}),a.addBinding(n,"exposure",{label:"曝光系数",min:-1,max:1,step:.1}),a.addBinding(n,"extintionColor1",{label:"消光颜色一"}),a.addBinding(n,"extintionColor2",{label:"消光颜色二"}),a.addBinding(n,"extintionCol1Random",{label:"随机色1"}),a.addBinding(n,"extintionCol2Random",{label:"随机色2"}),(t,i)=>{const a=Q("TresCanvas");return O(),g(H,null,[w(N(B)),w(a,T(V(e)),{default:J((()=>[i[0]||(i[0]=F("TresPerspectiveCamera",{position:[0,8,-13],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),w(N(r),{enableDamping:""}),i[1]||(i[1]=F("TresAmbientLight",{intensity:10},null,-1)),(O(),G(q,null,{default:J((()=>[w(c,T(V(o)),null,16)])),_:1})),(O(),G(q,null,{default:J((()=>[w(tt,z({scale:2},n,{modelPath:"https://opensource.cdn.icegl.cn/model/eCommerce/guanYu.glb",modelName:"statue",skyBoxTexture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"}),null,16,["modelPath","skyBoxTexture"])])),_:1})),(O(),G(q,null,{default:J((()=>[w(W,{texture:"https://opensource.cdn.icegl.cn/images/skyBox/workshop_blur.jpg"},null,8,["texture"])])),_:1}))])),_:1},16)],64)}}});export{et as default};
