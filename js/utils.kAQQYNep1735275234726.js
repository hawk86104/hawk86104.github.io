import{a as t,B as n,s as e,c6 as o,C as r,k as s,a0 as c}from"./three.jpi2UCEx1735275234726.js";import{w as i}from"./@fesjs.Okr_vpx41735275234726.js";import{b as a}from"./@tresjs.fCqPNEAw1735275234726.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.4sDkzARF1735275234726.js";!function(t,n){const e=y,o=m();for(;;)try{if(853513===-parseInt(e(186))/1*(-parseInt(e(180))/2)+-parseInt(e(178))/3+parseInt(e(175))/4*(parseInt(e(151))/5)+parseInt(e(199))/6*(parseInt(e(139))/7)+parseInt(e(171))/8*(parseInt(e(184))/9)+parseInt(e(183))/10+-parseInt(e(124))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["gger","catch","counter","stateObject","#fff","get","count","constructor","negate","trace","163569lbIZzp","copy","computeBoundingBox","attributes","input","getX","deleteAttribute","material","exception","uniforms","setAttribute","max","3000765yyVaxO","chain","info","setFromObject","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","side","transparent","sub","json","boundingBox","prototype","Box3","config","reflectivity","test","return (function() ","push","error",'{}.constructor("return this")( )',"16QxZpoB","warn","forEach","console","4FDVzxx","min","apply","3063063izNski","setY","16916INVZNK","debu","features","10998380cZZebz","1165068WXEOpB","position","96phNCua","length","computeBoundsTree","expandByObject","getCenter","depthTest","bind","random","geometry","divideScalar","string","getY","__proto__","246IbUTQB","add","depthWrite","applyMatrix4","20398136iObWFr","action","raycast","set","toString"];return(m=function(){return t})()}!function(){l(this,(function(){const t=y,n=new RegExp(t(155)),e=new RegExp(t(156),"i"),o=j("init");n[t(166)](o+t(152))&&e.test(o+t(143))?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(177)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=y;let n;try{n=Function(t(167)+t(170)+");")()}catch(r){n=window}const e=n[t(174)]=n[t(174)]||{},o=["log",t(172),t(153),t(169),t(147),"table",t(138)];for(let s=0;s<o[t(187)];s++){const n=g[t(136)][t(162)][t(192)](g),r=o[s],c=e[r]||n;n[t(198)]=g[t(192)](g),n[t(128)]=c[t(128)][t(192)](c),e[r]=n}}))();const h=(n,e=!1)=>{const o=y;n[o(141)]();const{max:r,min:s}=n[o(161)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(142)][o(185)][o(135)];t++)e?(a[o(168)]((n[o(142)][o(185)][o(144)](t)-(s.x+r.x)/2)/c),a[o(168)]((n[o(142)].position[o(197)](t)-(s.y+r.y)/2)/i)):(a[o(168)]((n[o(142)][o(185)].getX(t)-s.x)/c),a[o(168)]((n.attributes[o(185)][o(197)](t)-s.y)/i));const u=new Float32Array(a);n[o(149)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=y;i(t,{},{method:r(134),mergeRequest:!0,responseType:r(160)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(182)])}))[r(130)]((t=>{console[r(169)](t),o(t)}))}));function y(t,n){const e=m();return(y=function(t,n){return e[t-=123]})(t,n)}const x=t=>{const n=y,e=(new(THREE[n(163)]))[n(154)](t),o=new THREE.Vector3;e[n(190)](o),t.children[n(173)]((t=>{const e=n;t.position[e(159)](o)})),t[n(185)].copy(o[n(137)]())},w=()=>{const t=y;n[t(162)][t(188)]=u,n[t(162)].disposeBoundsTree=p,e[t(162)][t(126)]=f},b=async t=>{const n=y,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(194)].clone();h(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(133)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(146)][n(158)]=!0,u[n(146)][n(201)]=!0,u[n(146)][n(191)]=!0,u.material[n(157)]=c,u[n(146)][n(148)][n(164)].value.w=20,u[n(146)][n(148)][n(165)].value=.46,u};function I(t){const n=y,e=[];for(let r=0;r<t.length;r++)e[n(168)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(187)];r++)o[n(200)](e[r]);o[n(195)](e[n(187)]);for(let r=0;r<e[n(187)];r++)e[r][n(159)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=y;if(typeof t===e(196))return function(t){}.constructor("while (true) {}")[e(177)](e(131));1!==(""+t/t)[e(187)]||t%20==0?function(){return!0}.constructor(e(181)+e(129)).call(e(125)):function(){return!1}[e(136)](e(181)+e(129))[e(177)](e(132)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,I as g,w as i,d as l,h as r,b as s};
