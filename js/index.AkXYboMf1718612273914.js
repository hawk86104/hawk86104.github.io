var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{aw as c,f as u,r as a,F as f,V as h,M as l,B as p,T as g,s as d,a as I,aa as w,aO as v,Y as b,cm as y}from"./three.HHcT7YAr1718612273914.js";import{t as m}from"./@mapbox.5o5cSoml1718612273914.js";import{c as x,d as _,a as M}from"./three-mesh-bvh.EwUvM4mC1718612273914.js";import{C as Z}from"./three-custom-shader-material.TWM8Wx7T1718612273914.js";import"./object-hash.NQGxxEoE1718612273914.js";import"./@amap.zA6BxCQR1718612273914.js";import"./glsl-tokenizer.yImbcCwc1718612273914.js";const j=T;!function(t,n){const r=T,e=S();for(;;)try{if(685801===parseInt(r(456))/1+-parseInt(r(457))/2*(parseInt(r(425))/3)+-parseInt(r(420))/4+-parseInt(r(435))/5*(-parseInt(r(442))/6)+-parseInt(r(405))/7+parseInt(r(444))/8+parseInt(r(403))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const A=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[T(450)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){A(this,(function(){const t=T,n=new RegExp(t(438)),r=new RegExp(t(396),"i"),e=F(t(451));n[t(408)](e+t(421))&&r[t(408)](e+t(441))?F():e("0")}))()}();const E=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[T(450)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function T(t,n){const r=S();return(T=function(t,n){return r[t-=396]})(t,n)}E(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(461)+t(422)+");")()}catch(r){n=window}return n}(),r=n[t(431)]=n[t(431)]||{},e=[t(429),"warn","info",t(416),t(432),t(399),t(453)];for(let o=0;o<e[t(424)];o++){const n=E[t(406)][t(433)].bind(E),i=e[o],s=r[i]||n;n.__proto__=E[t(439)](E),n[t(434)]=s[t(434)].bind(s),r[i]=n}}))();class P extends c{constructor(){const t=T;super(),this[t(459)]=!1,this[t(440)]=!1,this.childrenTiles=[],this.boundingBoxWorld=new u}init(t,n,r){const e=T;this[e(404)]=t,Object[e(447)](this[e(404)]),this[e(414)]=n,this[e(419)]=r,this.visible=!1,this.renderOrder=t[2],this[e(401)]()}async[j(401)](){const t=j;if(this[t(428)]=await this[t(414)][t(446)][t(443)](this[t(404)]),!this.isDisposed){if(this.add(this.content),this[t(426)][t(418)](this[t(428)])[t(427)](this[t(411)][t(415)](-Math.PI/2)),this[t(414)].add(this),this[t(445)]=!0,this[t(440)]=!0,this[t(419)]){const n=this[t(419)][t(455)];let r=0;for(let e=0;e<n[t(424)];e++)n[e][t(440)]&&r++;4===r&&(this[t(419)].visible=!1)}this.update()}}[j(412)](){const t=j;if(!this[t(440)]||this[t(459)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(414)];if(!n[t(417)](this[t(426)]))return void this.simplify();this.content instanceof a&&this[t(414)][t(446)].filter&&(this[t(428)][t(398)][t(437)].t_Matrix.value=this.map[t(446)][t(454)]());let e=this[t(426)].distanceToPoint(r);const o=this[t(404)][2];e/=Math.pow(2,this[t(414)][t(446)][t(402)]-o),e<60&&this[t(449)](),e>80&&this[t(436)]();this[t(455)].sort(((n,e)=>n[t(426)][t(410)](r)-e[t(426)][t(410)](r)))[t(452)]((n=>n[t(412)]()))}[j(449)](){const t=j,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(424)]>0||i>=e[t(402)])return;m.getChildren(r)[t(452)]((n=>{const r=t,i=new P;i[r(451)](n,e,this),o[r(430)](i)}))}[j(436)](){const t=j;this[t(455)][t(452)]((t=>t.dispose())),this[t(455)]=[],this.visible=!0}dispose(){const t=j;this[t(414)].remove(this),this[t(414)][t(446)][t(458)](this[t(404)]),this.childrenTiles.forEach((n=>n[t(448)]())),this.childrenTiles=[],this.parentTile=void 0,this[t(428)]&&(this.map[t(446)][t(448)](this[t(404)],this.content),this[t(428)]=void 0),this[t(459)]=!0}}function S(){const t=["simplify","uniforms","function *\\( *\\)","bind","isReady","input","48AGKgyg","getTile","7757488sssvDg","visible","provider","freeze","dispose","subdivide","apply","init","forEach","trace","getTranMatrix","childrenTiles","251103waSAwL","270VDLzPU","abort","isDisposed","debu","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","material","table","gger","ready","maxZoom","5092236gPAXUU","tileNo","9116905zwsGKL","constructor","stateObject","test","string","distanceToPoint","matrixWorld","update","counter","map","makeRotationX","error","intersectsBox","setFromObject","parentTile","1230924zAQXcN","chain",'{}.constructor("return this")( )',"while (true) {}","length","6414QuYQbe","boundingBoxWorld","applyMatrix4","content","log","push","console","exception","prototype","toString","498740XSSUhQ"];return(S=function(){return t})()}function F(t){function n(t){const r=T;if(typeof t===r(409))return function(t){}.constructor(r(423)).apply(r(413));1!==(""+t/t)[r(424)]||t%20==0?function(){return!0}[r(406)](r(460)+r(400)).call(r(397)):function(){return!1}[r(406)](r(460)+r(400))[r(450)](r(407)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const O=C;!function(t,n){const r=C,e=k();for(;;)try{if(907372===parseInt(r(277))/1*(parseInt(r(265))/2)+-parseInt(r(296))/3*(-parseInt(r(289))/4)+-parseInt(r(274))/5*(-parseInt(r(317))/6)+-parseInt(r(255))/7*(-parseInt(r(308))/8)+parseInt(r(279))/9+-parseInt(r(269))/10*(-parseInt(r(307))/11)+parseInt(r(288))/12*(-parseInt(r(257))/13))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(260)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){z(this,(function(){const t=C,n=new RegExp(t(263)),r=new RegExp(t(305),"i"),e=B("init");n[t(297)](e+t(256))&&r[t(297)](e+t(299))?B():e("0")}))()}();const R=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(260)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function C(t,n){const r=k();return(C=function(t,n){return r[t-=253]})(t,n)}function k(){const t=["rootForward","40SIzwON","gger","cameraFrustum","maxZoom","constructor","15EEBYQy",'{}.constructor("return this")( )',"multiplyMatrices","7cFtWiR","dispose","8443701xAAjcW","camera","initRootTiles","call","now","visible","push","computeBoundsTree","warn","39228qVDbbE","20zwQqeB","prototype","exception","copy","update","while (true) {}","regenerate","938019UakaAm","test","rootForward needs to be 0 - 3.","input","rootTiles","equals","cameraProjectionMatrix","bbox","[Map.dispose] Method not implemented.","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","3067174XiYEVb","8ECdvdn","raycast","counter","action","debu","string","__proto__","cameraWorldPosition","forEach","1839438OghQFF","return (function() ","lastCameraWorldPosition","bind","7301371WIajMA","chain","25753qfPhOg","length","disposeBoundsTree","apply","log","trace","function *\\( *\\)","getWorldPosition","515314TiHlbX","lastCameraProjectionMatrix","lastUpdateTime"];return(k=function(){return t})()}R(void 0,(function(){const t=C;let n;try{n=Function(t(318)+t(275)+");")()}catch(o){n=window}const r=n[t(306)]=n[t(306)]||{},e=[t(261),"warn","info","error",t(291),"table",t(262)];for(let i=0;i<e[t(258)];i++){const n=R[t(273)][t(290)][t(254)](R),o=e[i],s=r[o]||n;n[t(314)]=R[t(254)](R),n.toString=s.toString[t(254)](s),r[o]=n}}))();let U=class extends c{constructor(){const t=C;super(),this.bbox=[74.390592,6.900905,134.071423,54.318199],this[t(272)]=20,this[t(268)]=0,this[t(271)]=new f,this.cameraWorldPosition=new h,this[t(302)]=new l,this[t(266)]=new l,this[t(253)]=new h,this[t(300)]=[],this[t(267)]=0,!p[t(290)][t(286)]&&(p[t(290)][t(286)]=x),!p[t(290)][t(259)]&&(p[t(290)][t(259)]=_),a.prototype[t(309)]=M}[O(281)](){const t=O;this.rootForward>3&&(console[t(287)](t(298)),this.rootForward=3),this[t(268)]<0&&(console[t(287)](t(298)),this[t(268)]=0);const n=[];let r=[m.bboxToTile(this[t(303)])],e=this[t(268)];for(;e>0;){const n=[...r];r=[],n[t(316)]((n=>{const e=t,o=m.getChildren(n);r[e(285)](...o)})),e--}n.push(...r),n[t(316)]((n=>{const r=t,e=new P;e.init(n,this),this[r(300)].push(e)}))}[O(293)](){const t=O;if(!this[t(284)]||!this[t(280)])return;const n=Date[t(283)]();n-this[t(267)]<300||(0!==this.rootTiles[t(258)]?(this[t(280)][t(264)](this[t(315)]),this[t(302)][t(276)](this[t(280)].projectionMatrix,this.camera.matrixWorldInverse),this[t(315)][t(301)](this[t(253)])&&this[t(302)].equals(this.lastCameraProjectionMatrix)||(this[t(271)].setFromProjectionMatrix(this[t(302)]),this[t(300)][t(316)]((n=>n[t(293)]())),this.lastCameraProjectionMatrix[t(292)](this[t(302)]),this[t(253)][t(292)](this[t(315)]),this[t(267)]=n)):this.initRootTiles())}[O(278)](){throw new Error(O(304))}[O(295)](){throw new Error("[Map.regenerate] Method not implemented.")}};function B(t){function n(t){const r=C;if(typeof t===r(313))return function(t){}[r(273)](r(294))[r(260)](r(310));1!==(""+t/t)[r(258)]||t%20==0?function(){return!0}.constructor(r(312)+"gger")[r(282)](r(311)):function(){return!1}[r(273)](r(312)+r(270))[r(260)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const W=q;!function(t,n){const r=q,e=N();for(;;)try{if(479035===-parseInt(r(397))/1*(-parseInt(r(363))/2)+parseInt(r(362))/3*(parseInt(r(380))/4)+parseInt(r(396))/5*(parseInt(r(379))/6)+parseInt(r(388))/7*(-parseInt(r(381))/8)+-parseInt(r(411))/9+-parseInt(r(413))/10+-parseInt(r(400))/11*(-parseInt(r(370))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Q=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[q(391)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function q(t,n){const r=N();return(q=function(t,n){return r[t-=357]})(t,n)}!function(){Q(this,(function(){const t=q,n=new RegExp(t(402)),r=new RegExp(t(373),"i"),e=V(t(357));n[t(389)](e+t(382))&&r.test(e+t(384))?V():e("0")}))()}();const Y=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[q(391)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Y(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(408)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(377)]=n[t(377)]||{},e=["log",t(361),t(359),t(417),t(364),t(401),t(415)];for(let o=0;o<e[t(405)];o++){const n=Y[t(392)][t(390)][t(371)](Y),i=e[o],s=r[i]||n;n[t(386)]=Y[t(371)](Y),n[t(404)]=s[t(404)][t(371)](s),r[i]=n}}))();const $=class t{constructor(){const t=q;this[t(416)]=new AbortController,this[t(393)]=new Set}fetch(c,u={}){const a=q;var f,h;t.pendings[a(368)](c)||(t[a(406)].set(c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(416)][a(412)]},n(f,r(h))))[a(385)]((t=>{const n=a;this[n(393)][n(376)]((r=>r[n(387)](t[n(394)]())))}))[a(367)]((t=>{const n=a;this.listeners[n(376)]((r=>r[n(358)](t)))}))[a(366)]((()=>{t[a(406)].delete(c)})))}[W(365)](){const t=W;this[t(416)][t(365)]()}};$.pendings=new Map;let X=$;class D{constructor(t,n){const r=W;this[r(360)]=t,this.init=n,this.promise=new Promise(((t,n)=>{const e=r;this[e(387)]=t,this[e(358)]=n}))}[W(398)](){const t=W;let n=X.pendings[t(375)](this[t(360)]);return!n&&(n=new X,n[t(418)](this[t(360)],this[t(357)])),n[t(393)][t(410)](this),this[t(403)]}abort(){const t=W;this[t(358)](t(378));const n=X.pendings[t(375)](this[t(360)]);n&&(n[t(393)][t(369)](this),0===n[t(393)][t(374)]&&n[t(365)]())}}function N(){const t=["pendings","string","return (function() ","debu","add","3393189QsfQTI","signal","7105520Ifbiur","call","trace","_controller","error","fetch","init","reject","info","url","warn","714beqBbO","2ZOdxzf","exception","abort","finally","catch","has","delete","3756vbofrL","bind","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","size","get","forEach","console","User abort.","114YWghJf","848OJTIQS","346264FRiYwA","chain","gger","input","then","__proto__","resolve","28IHYxWn","test","prototype","apply","constructor","listeners","clone","counter","39470Sllcba","595603xtXKDr","ready","action","33165qWhcen","table","function *\\( *\\)","promise","toString","length"];return(N=function(){return t})()}function V(t){function n(t){const r=q;if(typeof t===r(407))return function(t){}.constructor("while (true) {}")[r(391)](r(395));1!==(""+t/t).length||t%20==0?function(){return!0}[r(392)](r(409)+r(383))[r(414)](r(399)):function(){return!1}[r(392)]("debu"+r(383)).apply(r(372)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=J,e=tt();for(;;)try{if(448533===parseInt(r(472))/1*(parseInt(r(484))/2)+parseInt(r(490))/3+-parseInt(r(481))/4*(-parseInt(r(476))/5)+-parseInt(r(489))/6*(parseInt(r(486))/7)+-parseInt(r(468))/8+parseInt(r(500))/9*(parseInt(r(477))/10)+parseInt(r(509))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const G=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[J(469)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){G(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(513),"i"),e=H(t(467));n[t(485)](e+t(504))&&r[t(485)](e+t(512))?H():e("0")}))()}();const K=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[J(469)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();let L;function H(t){function n(t){const r=J;if(typeof t===r(495))return function(t){}[r(470)]("while (true) {}")[r(469)](r(507));1!==(""+t/t)[r(488)]||t%20==0?function(){return!0}[r(470)](r(492)+r(482))[r(478)]("action"):function(){return!1}[r(470)](r(492)+r(482))[r(469)](r(494)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function J(t,n){const r=tt();return(J=function(t,n){return r[t-=467]})(t,n)}function tt(){const t=["chain","warn","20px Arial","counter",'Offscreencanvas.getContext("2d") error!',"6795525OVuToq","#00FFFF",'{}.constructor("return this")( )',"input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","flipY","bind","fillStyle","font","init","6935648zhUmwB","apply","constructor","fillText","2KBmMEZ","strokeStyle","getContext","#FF4444","1201930jjWZil","10bgYONE","call","stroke","ready","12DdYRih","gger","drawImage","4362YFJnZs","test","35sIQvYf","toString","length","1058118QVXyYC","1334619jRGlXG","table","debu","error","stateObject","string","exception","#44FF44","blob","#66AAFF","3681774okEHSR","log","console","rect"];return(tt=function(){return t})()}K(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(514)+t(511)+");")()}catch(r){n=window}return n}(),r=n[t(502)]=n[t(502)]||{},e=[t(501),t(505),"info",t(493),t(496),t(491),"trace"];for(let o=0;o<e.length;o++){const n=K.constructor.prototype.bind(K),i=e[o],s=r[i]||n;n.__proto__=K[t(516)](K),n.toString=s[t(487)][t(516)](s),r[i]=n}}))();const nt=ot;!function(t,n){const r=ot,e=et();for(;;)try{if(843100===-parseInt(r(314))/1+-parseInt(r(315))/2+parseInt(r(321))/3*(parseInt(r(305))/4)+-parseInt(r(309))/5+parseInt(r(322))/6+parseInt(r(306))/7+-parseInt(r(325))/8*(-parseInt(r(288))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ot(318)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function et(){const t=["bind","1143621cZMPBs","function *\\( *\\)","length","terminate","postMessage","test","set","get","info","error","constructor","console","onmessage","call","onMessage","action","terminated","32772BZYgoP","2461207wBKLNu","data","stateObject","4160385gAepts","input","trace","map","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1293858uhCkuh","1318424wHJhHr","exception","delete","apply","chain","toString","231GWhdfw","626430qgqfTa","init","debu","160CiBYPp","gger","warn","__proto__","worker"];return(et=function(){return t})()}function ot(t,n){const r=et();return(ot=function(t,n){return r[t-=286]})(t,n)}!function(){rt(this,(function(){const t=ot,n=new RegExp(t(289)),r=new RegExp(t(313),"i"),e=ct(t(323));n[t(293)](e+t(319))&&r[t(293)](e+t(310))?ct():e("0")}))()}();const it=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ot(318)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();it(void 0,(function(){const t=ot,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n.console=n[t(299)]||{},e=["log",t(327),t(296),t(297),t(316),"table",t(311)];for(let o=0;o<e[t(290)];o++){const n=it[t(298)].prototype[t(287)](it),i=e[o],s=r[i]||n;n[t(328)]=it[t(287)](it),n[t(320)]=s[t(320)][t(287)](s),r[i]=n}}))();class st{constructor(t){const n=ot;this[n(304)]=!0,this[n(312)]=new Map,this.worker=new t,this[n(286)].onmessage=this[n(302)][n(287)](this),this[n(304)]=!1}async[nt(292)](t){const n=nt;if(!this[n(304)])return this.worker.postMessage(t),new Promise(((r,e)=>{const o=n;this[o(312)][o(294)](t.id,r)}))}[nt(302)](t){const n=nt,{id:r,error:e}=t.data,o=this[n(312)][n(295)](r);o&&!e&&o(t[n(307)]),this.map[n(317)](r)}terminate(){const t=nt;this[t(286)][t(300)]=null,this[t(286)][t(291)](),this[t(304)]=!0,this[t(312)].clear()}}function ct(t){function n(t){const r=ot;if("string"==typeof t)return function(t){}[r(298)]("while (true) {}")[r(318)]("counter");1!==(""+t/t)[r(290)]||t%20==0?function(){return!0}[r(298)](r(324)+"gger")[r(301)](r(303)):function(){return!1}[r(298)]("debu"+r(326)).apply(r(308)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=gt;!function(t,n){const r=gt,e=ht();for(;;)try{if(823546===parseInt(r(216))/1+-parseInt(r(245))/2+-parseInt(r(238))/3*(-parseInt(r(204))/4)+parseInt(r(236))/5+-parseInt(r(210))/6+-parseInt(r(233))/7*(-parseInt(r(212))/8)+-parseInt(r(260))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ft=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[gt(202)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ht(){const t=['{}.constructor("return this")( )',"1372634bYokcF","force-cache","image","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","test","input","source","counter","chain","get","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","debu","constructor","init","29357973tTBUwF","console","needsUpdate","apply","_useWorker","4NQjNhC","while (true) {}","join","replace","gger","{z}","1347384YZQipm","length","2104bfyWmd","trace","__proto__","bind","1476869JQpvej","toString","postMessage","showTileNo","dispose","abort","function *\\( *\\)","[y]","fetching","error","set","indexOf","getId","call","_worker","delete","anisotropy","30254JHXRLU","maxZoom","getUrl","6865540tQjfer","[x]","3029283ijVbIT","string","log","return (function() ","[z]","info"];return(ht=function(){return t})()}!function(){ft(this,(function(){const t=gt,n=new RegExp(t(222)),r=new RegExp(t(248),"i"),e=dt(t(259));n.test(e+t(254))&&r[t(250)](e+t(251))?dt():e("0")}))()}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[gt(202)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();lt(void 0,(function(){const t=gt,n=function(){const t=gt;let n;try{n=Function(t(241)+t(244)+");")()}catch(r){n=window}return n}(),r=n[t(261)]=n.console||{},e=[t(240),"warn",t(243),t(225),"exception","table",t(213)];for(let o=0;o<e[t(211)];o++){const n=lt.constructor.prototype[t(215)](lt),i=e[o],s=r[i]||n;n[t(214)]=lt.bind(lt),n.toString=s[t(217)][t(215)](s),r[i]=n}}))();class pt{constructor(){const t=gt;this[t(234)]=20,this[t(252)]=t(256),this[t(219)]=!1,this[t(203)]=!1,this.fetching=new Map}set useWorker(t){var n;const r=gt;this[r(203)]=t,!this._useWorker&&(null==(n=this[r(230)])||n.terminate(),this[r(230)]=void 0)}get useWorker(){return this[gt(203)]}async getTile(t){const n=gt,r=this.getUrl(t),e=new g;if(this._useWorker){!this[n(230)]&&(this[n(230)]=new st(ut));const o=this[n(228)](t),i=await this[n(230)][n(218)]({id:o,tileNo:t,url:r,debug:this[n(219)]});e[n(247)]=i.bitmap}else{const o=new D(r,{cache:n(246),mode:"cors"});this[n(224)][n(226)](t,o);try{e[n(247)]=await async function(t,n,r=!1){const e=J,o=await n[e(480)](),i=await o[e(498)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:"flipY"});if(!r)return s;!L&&(L=new OffscreenCanvas(256,256));const c=L[e(474)]("2d");if(!c)throw new Error(e(508));const{width:u,height:a}=L;return c[e(483)](s,0,0),c[e(503)](0,0,u,a),c[e(473)]=e(510),c[e(518)]=e(506),c[e(479)](),c[e(517)]=e(475),c[e(471)](""+t[0],10,30),c[e(517)]=e(497),c[e(471)](""+t[1],10,55),c[e(517)]=e(499),c.fillText(""+t[2],10,80),await createImageBitmap(L,{imageOrientation:e(515)})}(t,o,this[n(219)])}finally{this[n(224)][n(231)](t)}}return e[n(201)]=!0,e[n(232)]=4,e}[at(221)](t){var n;const r=at;if(this[r(203)])null==(n=this[r(230)])||n[r(218)]({id:this.getId(t),abort:!0});else{const n=this[r(224)][r(255)](t);n&&n[r(221)](),this[r(224)].delete(t)}}[at(220)](t,n){n[at(220)]()}[at(228)](t){return t[at(206)]("-")}[at(235)](t){const n=at,[r,e,o]=t;return-1===this[n(252)][n(227)]("[x]")?this[n(252)][n(207)]("{x}",r+"")[n(207)]("{y}",e+"")[n(207)](n(209),o+""):this[n(252)].replace(n(237),r+"")[n(207)](n(223),e+"")[n(207)](n(242),o+"")}}function gt(t,n){const r=ht();return(gt=function(t,n){return r[t-=201]})(t,n)}function dt(t){function n(t){const r=gt;if(typeof t===r(239))return function(t){}.constructor(r(205))[r(202)](r(253));1!==(""+t/t).length||t%20==0?function(){return!0}[r(258)](r(257)+"gger")[r(229)]("action"):function(){return!1}[r(258)](r(257)+r(208))[r(202)](r(249)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function It(){const t=["sqrt","62421dBcmKw","cos","exp","__proto__","atan","atanh","apply","string","debu","chain","asinh","function *\\( *\\)","abs","test","input","sinh","1736682TbbYOU","trace","tan","charAt","log","4281120mWAhBC","1592550RSSDYM","while (true) {}","14lSXrPX","counter",'{}.constructor("return this")( )',"utm","action","latitude ‘","3261630TIKUrZ","toString","constructor","gger","table","6628419rczpvk","floor","208GLlggc","exception","sin","console","bind","cosh","info","return (function() ","merc","844934kbiGHt","toFixed","warn","tanh","error","atan2"];return(It=function(){return t})()}const wt=Tt;!function(t,n){const r=Tt,e=It();for(;;)try{if(834028===parseInt(r(458))/1+parseInt(r(487))/2+parseInt(r(465))/3*(-parseInt(r(449))/4)+parseInt(r(495))/5+parseInt(r(481))/6*(-parseInt(r(489))/7)+-parseInt(r(486))/8+parseInt(r(447))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const vt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Tt(471)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){vt(this,(function(){const t=Tt,n=new RegExp(t(476)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Ft("init");n[t(478)](e+t(474))&&r.test(e+t(479))?Ft():e("0")}))()}();const bt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();bt(void 0,(function(){const t=Tt;let n;try{n=Function(t(456)+t(491)+");")()}catch(o){n=window}const r=n[t(452)]=n.console||{},e=[t(485),t(460),t(455),t(462),t(450),t(446),t(482)];for(let i=0;i<e.length;i++){const n=bt[t(444)].prototype[t(453)](bt),o=e[i],s=r[o]||n;n[t(468)]=bt[t(453)](bt),n[t(496)]=s[t(496)].bind(s),r[o]=n}}))();const yt=wt(492),mt=wt(457),xt=6378137,_t=Math.PI/180;function Mt(t,n){return[xt*t*_t,xt*Math[wt(485)](Math.tan(.25*Math.PI+n*_t*.5))]}function Zt(t,n){const r=wt;let e=t/(xt*Math.PI)*180,o=n/(xt*Math.PI)*180;return o=180/Math.PI*(2*Math[r(469)](Math[r(467)](o*Math.PI/180))-Math.PI/2),[e,o]}function jt(t){return t*Math.PI/180}function At(t){return 180*t/Math.PI}const Et={a:6378137,b:6356752.314245,f:1/298.257223563};function Tt(t,n){const r=It();return(Tt=function(t,n){return r[t-=444]})(t,n)}function Pt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError(e(494)+n+"’ outside UTM limits");let o=r||Math[e(448)]((t+180)/6)+1,i=jt(6*(o-1)-180+3);const s="CDEFGHJKLMNPQRSTUVWXX"[e(484)](Math[e(448)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=jt(6)):32===o&&"X"===s&&t<9?(o--,i-=jt(6)):32===o&&"X"===s&&t>=9?(o++,i+=jt(6)):34===o&&"X"===s&&t<21?(o--,i-=jt(6)):34===o&&"X"===s&&t>=21?(o++,i+=jt(6)):36===o&&"X"===s&&t<33?(o--,i-=jt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=jt(6));const c=jt(n),u=jt(t)-i,{a:a,f:f}=Et,h=.9996,l=Math.sqrt(f*(2-f)),p=f/(2-f),g=p*p,d=p*g,I=p*d,w=p*I,v=p*w,b=Math.cos(u),y=Math[e(451)](u),m=Math[e(483)](c),x=Math[e(480)](l*Math[e(470)](l*m/Math[e(464)](1+m*m))),_=m*Math[e(464)](1+x*x)-x*Math[e(464)](1+m*m),M=Math[e(463)](_,b),Z=Math[e(475)](y/Math[e(464)](_*_+b*b)),j=a/(1+p)*(1+1/4*g+1/64*I+1/256*v),A=[null,.5*p-2/3*g+5/16*d+41/180*I-127/288*w+7891/37800*v,13/48*g-.6*d+557/1440*I+281/630*w-1983433/1935360*v,61/240*d-103/140*I+15061/26880*w+167603/181440*v,49561/161280*I-179/168*w+6601661/7257600*v,34729/80640*w-3418889/1995840*v,.6650675310896665*v];let E=M;for(let F=1;F<=6;F++)E+=A[F]*Math[e(451)](2*F*M)*Math[e(454)](2*F*Z);let T=Z;for(let F=1;F<=6;F++)T+=A[F]*Math[e(466)](2*F*M)*Math[e(480)](2*F*Z);let P=h*j*T,S=h*j*E;return P+=5e5,S<0&&(S+=1e7),[P,S]}function St(t,n,r){const e=wt,o=r||50,{a:i,f:s}=Et,c=.9996,u=t-5e5,a=n,f=Math.sqrt(s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,I=h*d,w=i/(1+h)*(1+1/4*l+1/64*g+1/256*I),v=u/(c*w),b=a/(c*w),y=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*I,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*I,17/480*p-37/840*g-209/4480*d+5569/90720*I,4397/161280*g-11/504*d-830251/7257600*I,4583/161280*d-108847/3991680*I,20648693/638668800*I];let m=b;for(let C=1;C<=6;C++)m-=y[C]*Math[e(451)](2*C*b)*Math[e(454)](2*C*v);let x=v;for(let C=1;C<=6;C++)x-=y[C]*Math[e(466)](2*C*b)*Math.sinh(2*C*v);const _=Math[e(480)](x),M=Math[e(451)](m),Z=Math[e(466)](m),j=M/Math[e(464)](_*_+Z*Z);let A=null,E=j;do{const t=Math[e(480)](f*Math[e(470)](f*E/Math[e(464)](1+E*E))),n=E*Math.sqrt(1+t*t)-t*Math[e(464)](1+E*E);A=(j-n)/Math.sqrt(1+n*n)*(1+(1-f*f)*E*E)/((1-f*f)*Math[e(464)](1+E*E)),E+=A}while(Math[e(477)](A)>1e-12);const T=E,P=Math.atan(T);let S=Math.atan2(_,Z),F=1;for(let C=1;C<=6;C++)F-=2*C*y[C]*Math.cos(2*C*b)*Math.cosh(2*C*v);let O=0;for(let C=1;C<=6;C++)O+=2*C*y[C]*Math.sin(2*C*b)*Math[e(480)](2*C*v);Math.atan(Math.tan(m)*Math[e(461)](x)),Math[e(463)](O,F);const z=Math[e(451)](P);Math.sqrt(1-f*f*z*z),Math[e(464)](1+T*T),Math.sqrt(_*_+Z*Z),Math[e(464)](F*F+O*O);S+=jt(6*(o-1)-180+3);const R=Number(At(P)[e(459)](14));return[Number(At(S)[e(459)](14)),R]}function Ft(t){function n(t){const r=Tt;if(typeof t===r(472))return function(t){}[r(444)](r(488)).apply(r(490));1!==(""+t/t).length||t%20==0?function(){return!0}[r(444)](r(473)+r(445)).call(r(493)):function(){return!1}[r(444)](r(473)+r(445)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const Ot=Ut;!function(t,n){const r=Ut,e=Ct();for(;;)try{if(541785===parseInt(r(155))/1+-parseInt(r(120))/2*(parseInt(r(160))/3)+parseInt(r(152))/4*(parseInt(r(127))/5)+-parseInt(r(126))/6*(parseInt(r(148))/7)+-parseInt(r(143))/8*(parseInt(r(159))/9)+parseInt(r(157))/10+-parseInt(r(135))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const zt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ut(137)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){zt(this,(function(){const t=Ut,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Bt(t(139));n[t(125)](e+t(128))&&r[t(125)](e+t(158))?Bt():e("0")}))()}();const Rt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Ct(){const t=["call","utmZone","coordType","abort","test","24ASJSdt","15HxhKqm","chain","convertCoordinate","counter","debu","length","__proto__","while (true) {}","1154769wybaUs","console","apply","info","init","maxZoom","warn","dispose","3686008mjNZhv","position","action","trace","setAttribute","1032682nGvSmx",'{}.constructor("return this")( )',"constructor","getTile","875744qvchtQ","log","gger","706507ehdKyq","return (function() ","8100870jxbbHP","input","9miZeve","777dFrNCg","error","bind","3674mqthcO"];return(Ct=function(){return t})()}Rt(void 0,(function(){const t=Ut;let n;try{n=Function(t(156)+t(149)+");")()}catch(o){n=window}const r=n[t(136)]=n.console||{},e=[t(153),t(141),t(138),t(161),"exception","table",t(146)];for(let i=0;i<e[t(132)];i++){const n=Rt[t(150)].prototype[t(119)](Rt),o=e[i],s=r[o]||n;n[t(133)]=Rt[t(119)](Rt),n.toString=s.toString[t(119)](s),r[o]=n}}))();class kt{constructor(){const t=Ut;this.utmZone=50,this[t(123)]=yt,this[t(140)]=20}async[Ot(151)](t){const n=Ot,r=new d,e=m.tileToBBOX(t),o=this[n(129)](e[0],e[3]),i=this[n(129)](e[2],e[3]),s=this.convertCoordinate(e[0],e[1]),c=this.convertCoordinate(e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r[n(147)](n(144),new I(u,3)),r}[Ot(124)](t){}[Ot(142)](t,n){n[Ot(142)]()}[Ot(129)](t,n){const r=Ot;return this[r(123)]===yt?Pt(t,n,this[r(122)]):Mt(t,n)}}function Ut(t,n){const r=Ct();return(Ut=function(t,n){return r[t-=119]})(t,n)}function Bt(t){function n(t){const r=Ut;if("string"==typeof t)return function(t){}[r(150)](r(134))[r(137)](r(130));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+r(154))[r(121)](r(145)):function(){return!1}.constructor(r(131)+r(154))[r(137)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Wt(t){return new Worker(""+new URL("../static/MartiniWorker-uKVHd6U7.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Qt=$t;!function(t,n){const r=$t,e=Yt();for(;;)try{if(606605===-parseInt(r(170))/1*(-parseInt(r(183))/2)+-parseInt(r(181))/3+-parseInt(r(211))/4*(-parseInt(r(180))/5)+-parseInt(r(187))/6+-parseInt(r(191))/7*(parseInt(r(206))/8)+parseInt(r(172))/9+-parseInt(r(222))/10*(-parseInt(r(199))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const qt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[$t(203)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Yt(){const t=["https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","function *\\( *\\)","chain","useWorker","error","constructor","console","5vQzMAU","2514918NXidAM","log","458nTZGFH","getTile","triangles","positions","813636RZYYCj","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","28735LKZIPx","action","toString","counter","bind","replace","getUrl","test","1710544tQnEKS","setIndex","debu","return (function() ","apply","__proto__","init","824JzStXc","setAttribute","string","input","[x]","1063564PDHfql","abort","coordType","join","call",'{}.constructor("return this")( )',"[z]","_useWorker","maxZoom","getInWorkerThread","table","90qJuCAY","while (true) {}","info","source","prototype","_worker","stateObject","getId","1007FQBEZl","postMessage","965718hNAZWr"];return(Yt=function(){return t})()}function $t(t,n){const r=Yt();return($t=function(t,n){return r[t-=168]})(t,n)}!function(){qt(this,(function(){const t=$t,n=new RegExp(t(174)),r=new RegExp(t(189),"i"),e=Nt(t(205));n[t(198)](e+t(175))&&r[t(198)](e+t(209))?Nt():e("0")}))()}();const Xt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Xt(void 0,(function(){const t=$t,n=function(){const t=$t;let n;try{n=Function(t(202)+t(216)+");")()}catch(r){n=window}return n}(),r=n[t(179)]=n[t(179)]||{},e=[t(182),t(190),t(224),t(177),"exception",t(221),t(188)];for(let o=0;o<e.length;o++){const n=Xt.constructor[t(226)][t(195)](Xt),i=e[o],s=r[i]||n;n[t(204)]=Xt[t(195)](Xt),n.toString=s[t(193)].bind(s),r[i]=n}}))();class Dt{constructor(){const t=$t;this[t(219)]=12,this[t(213)]=yt,this.utmZone=50,this[t(218)]=!0,this[t(225)]=t(173)}set[Qt(176)](t){var n;const r=Qt;this._useWorker=t,!this[r(218)]&&(null==(n=this._worker)||n.terminate(),this._worker=void 0)}get[Qt(176)](){return this._useWorker}async[Qt(184)](t){const n=Qt;return this[n(218)]?this[n(220)](t):this.getInMainThread()}async getInMainThread(){return new p}async[Qt(220)](t){const n=Qt;!this[n(227)]&&(this[n(227)]=new st(Wt));const r={tileNo:t,id:this.getId(t),url:this.getUrl(t),maxZ:this[n(219)],coordType:this[n(213)],utmZone:this.utmZone},e=await this[n(227)].postMessage(r),o=new p;return o[n(207)]("position",new I(e[n(186)],3)),o[n(207)]("uv",new I(e.uv,2)),o[n(200)](new I(e[n(185)],1)),o}async[Qt(212)](t){var n;const r=Qt;this[r(218)]&&(null==(n=this[r(227)])||n[r(171)]({id:this.getId(t),abort:!0}))}async dispose(t,n){var r;const e=Qt;n.dispose(),this[e(218)]&&(null==(r=this[e(227)])||r[e(171)]({id:this[e(169)](t),dispose:!0}))}[Qt(169)](t){return t[Qt(214)]("-")}[Qt(197)](t){const n=Qt,[r,e,o]=t;return this[n(225)].replace(n(210),r+"")[n(196)]("[y]",e+"")[n(196)](n(217),o+"")}}function Nt(t){function n(t){const r=$t;if(typeof t===r(208))return function(t){}.constructor(r(223))[r(203)](r(194));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(201)+"gger")[r(215)](r(192)):function(){return!1}[r(178)](r(201)+"gger").apply(r(168)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Vt(){var t=["test","bind",'{}.constructor("return this")( )',"19412724gjFkVU","24lZCmnq","counter","24795IIEkNO","stateObject","input","center","error","1439046uJzFrm","8ZeHgUc","function *\\( *\\)","521670bBhCsI","log","84FjEMSy","while (true) {}","114YTQmmY","__proto__","99HOXcaI","info","prototype","gger","trace","call","console","40544yvOgDI","396001ymJKtc","constructor","exception","string","init","apply","return (function() ","3723447bxxQYu","length","toString"];return(Vt=function(){return t})()}!function(t,n){for(var r=Ht,e=Vt();;)try{if(874402===-parseInt(r(467))/1*(-parseInt(r(451))/2)+parseInt(r(455))/3*(-parseInt(r(466))/4)+-parseInt(r(483))/5*(parseInt(r(457))/6)+parseInt(r(474))/7*(parseInt(r(481))/8)+parseInt(r(488))/9+-parseInt(r(453))/10*(parseInt(r(459))/11)+-parseInt(r(480))/12)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Gt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Gt(this,(function(){var t=Ht,n=new RegExp(t(452)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Jt(t(471));n.test(e+"chain")&&r[t(477)](e+t(485))?Jt():e("0")}))()}();var Kt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Kt(void 0,(function(){for(var t=Ht,n=function(){var t,n=Ht;try{t=Function(n(473)+n(479)+");")()}catch(r){t=window}return t}(),r=n[t(465)]=n[t(465)]||{},e=[t(454),"warn",t(460),t(487),t(469),"table",t(463)],o=0;o<e.length;o++){var i=Kt.constructor[t(461)][t(478)](Kt),s=e[o],c=r[s]||i;i[t(458)]=Kt[t(478)](Kt),i[t(476)]=c[t(476)][t(478)](c),r[s]=i}}))();class Lt extends a{constructor(t){var n=Ht;super(t),this[n(486)]=new h}}function Ht(t,n){var r=Vt();return(Ht=function(t,n){return r[t-=451]})(t,n)}function Jt(t){function n(t){var r=Ht;if(typeof t===r(470))return function(t){}[r(468)](r(456))[r(472)](r(482));1!==(""+t/t)[r(475)]||t%20==0?function(){return!0}.constructor("debu"+r(462))[r(464)]("action"):function(){return!1}[r(468)]("debu"+r(462))[r(472)](r(484)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function tn(){const t=["boundingBox","table","position","return (function() ","5300188enCBSd","getTile","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","constructor","log","trace","genSaturate","apply","monochrome","set","gger","warn","bind","2918394NYoLgV","computeBoundsTree","input","toString","geometryProvider","prototype","error","genContrast","add","textureProvider","function *\\( *\\)","center","dispose","debu","filter","stateObject","while (true) {}","counter","78InZKLI","call","length","console","useStandardMaterial","5513364rdCdna","init","maxZoom","computeBoundingSphere","showBoundingBox","chain","flatShading","abort","getTranMatrix","1053468acoveS","297ioxmnM","132710ttmbND","1283210MQhqUU","__proto__",'{}.constructor("return this")( )',"multiply","test","material","opposite","wireframe","13678bCaKqH","2672fsYUVC","getCenter","copy","string","geometry","genBright","all","colorSpace"];return(tn=function(){return t})()}const nn=on;!function(t,n){const r=on,e=tn();for(;;)try{if(973619===parseInt(r(138))/1+-parseInt(r(175))/2+-parseInt(r(129))/3+-parseInt(r(162))/4+parseInt(r(140))/5*(-parseInt(r(124))/6)+-parseInt(r(149))/7*(-parseInt(r(150))/8)+parseInt(r(139))/9*(parseInt(r(141))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[on(169)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){rn(this,(function(){const t=on,n=new RegExp(t(185)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=cn(t(130));n.test(e+t(134))&&r[t(145)](e+t(177))?cn():e("0")}))()}();const en=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function on(t,n){const r=tn();return(on=function(t,n){return r[t-=120]})(t,n)}en(void 0,(function(){const t=on,n=function(){const t=on;let n;try{n=Function(t(161)+t(143)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(127)]||{},e=[t(166),t(173),"info",t(181),"exception",t(159),t(167)];for(let o=0;o<e[t(126)];o++){const n=en.constructor[t(180)][t(174)](en),i=e[o],s=r[i]||n;n[t(142)]=en.bind(en),n[t(178)]=s[t(178)][t(174)](s),r[i]=n}}))();class sn{constructor(t,n){const r=on;this[r(179)]=t,this[r(184)]=n,this[r(131)]=20,this[r(133)]=!1,this[r(148)]=!1,this[r(135)]=!1,this[r(128)]=!1,this.filter=null}getTranMatrix(){var t,n,r,e,o;const i=on;let s=new l;if(null==(t=this[i(120)])?void 0:t[i(147)]){let t=new l;t[i(171)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(144)](t)}if(null==(n=this[i(120)])?void 0:n.monochrome){let t=new l;const n=this[i(120)][i(170)].r,r=this[i(120)][i(170)].g,e=this[i(120)][i(170)].b;t.set(n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(144)](t)}if(null==(r=this[i(120)])?void 0:r[i(155)]){let t=new l;const n=this.filter[i(155)];t[i(171)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(144)](t)}if(null==(e=this[i(120)])?void 0:e[i(182)]){let t=new l;const n=this[i(120)][i(182)],r=.5*(1-n);t.set(n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(144)](t)}if(null==(o=this[i(120)])?void 0:o[i(168)]){let t=new l;const n=this.filter[i(168)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(171)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(144)](t)}return s}async getTile(t){const n=on,r=[this[n(179)][n(163)](t),this.textureProvider[n(163)](t)],e=await Promise[n(156)](r),o=e[0],i=e[1];i[n(157)]=w;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(128)]?new v({map:i,wireframe:s,flatShading:c}):new b({map:i,wireframe:s}),this[n(120)]&&(u=new Z({baseMaterial:u,vertexShader:n(164),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(137)]()}}}));const f=new Lt;if(f.renderOrder=a,o.computeBoundingBox(),o[n(158)][n(151)](f[n(186)]),o[n(186)](),o[n(132)](),o[n(176)](),f[n(160)][n(152)](f[n(186)]),f[n(154)]=o,f[n(146)]=u,this[n(133)]){const t=new y(o[n(158)]);f[n(183)](t)}return f}abort(t){const n=on;this[n(179)][n(136)](t),this.textureProvider[n(136)](t)}[nn(187)](t,n){const r=nn,e=n[r(154)],o=n[r(146)];e&&this[r(179)][r(187)](t,e),o&&o.map&&this[r(184)][r(187)](t,o.map),null==o||o.dispose()}}function cn(t){function n(t){const r=on;if(typeof t===r(153))return function(t){}[r(165)](r(122)).apply(r(123));1!==(""+t/t).length||t%20==0?function(){return!0}[r(165)](r(188)+r(172))[r(125)]("action"):function(){return!1}[r(165)]("debu"+r(172))[r(169)](r(121)),n(++t)}try{if(t)return n;n(0)}catch(r){}}var un=ln;!function(t,n){for(var r=ln,e=hn();;)try{if(878631===parseInt(r(513))/1*(-parseInt(r(508))/2)+-parseInt(r(495))/3+parseInt(r(519))/4*(parseInt(r(521))/5)+-parseInt(r(505))/6+-parseInt(r(512))/7*(parseInt(r(526))/8)+parseInt(r(507))/9*(-parseInt(r(522))/10)+parseInt(r(527))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var an=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(490)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){an(this,(function(){var t=ln,n=new RegExp(t(500)),r=new RegExp(t(509),"i"),e=gn(t(528));n[t(503)](e+t(524))&&r[t(503)](e+t(494))?gn():e("0")}))()}();var fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(490)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function hn(){var t=["log","prototype","DOWN","function *\\( *\\)","geometry",'{}.constructor("return this")( )',"test","string","10476210OWWOGx","bind","189JLTrPa","10WhZuxy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","length","1019998hUAKZU","26238PzpsBu","debu","call","console","gger","counter","3168ubQyQN","error","7940CKJhGa","33900oPzmPE","__proto__","chain","info","40SVCqVh","35409286uHVdVE","init","apply","MATCH","stateObject","trace","input","2763318KaYpRm","toString"];return(hn=function(){return t})()}function ln(t,n){var r=hn();return(ln=function(t,n){return r[t-=490]})(t,n)}fn(void 0,(function(){var t,n=ln;try{t=Function("return (function() "+n(502)+");")()}catch(u){t=window}for(var r=t[n(516)]=t.console||{},e=[n(497),"warn",n(525),n(520),"exception","table",n(493)],o=0;o<e[n(511)];o++){var i=fn[n(510)][n(498)].bind(fn),s=e[o],c=r[s]||i;i[n(523)]=fn[n(506)](fn),i[n(496)]=c[n(496)][n(506)](c),r[s]=i}}))();const pn=class t{constructor(n){var r=ln;this.mode=t.DOWN,this[r(501)]=n}};pn.UP=1,pn[un(499)]=2,pn[un(491)]=3;function gn(t){function n(t){var r=ln;if(typeof t===r(504))return function(t){}[r(510)]("while (true) {}")[r(490)](r(518));1!==(""+t/t)[r(511)]||t%20==0?function(){return!0}.constructor(r(514)+r(517))[r(515)]("action"):function(){return!1}[r(510)](r(514)+r(517))[r(490)](r(492)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function dn(){var t=["prototype","log","counter","stateObject","exception","info","chain",'{}.constructor("return this")( )',"1543927CQJLwn","1024032jOdqii","bind","test","__proto__","584eMGAJM","string","146499xRqmnK","12112sQRaUy","10GorLjL","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","891990sVbFIX","function *\\( *\\)","init","warn","table","57843shoBPm","apply","return (function() ","10818fvfjGr","120VmGDYj","action","debu","console","constructor","toString","gger"];return(dn=function(){return t})()}function In(t,n){var r=dn();return(In=function(t,n){return r[t-=162]})(t,n)}!function(t,n){for(var r=In,e=dn();;)try{if(118890===parseInt(r(181))/1+parseInt(r(183))/2*(parseInt(r(191))/3)+-parseInt(r(182))/4*(parseInt(r(195))/5)+parseInt(r(175))/6+-parseInt(r(174))/7+-parseInt(r(179))/8*(-parseInt(r(194))/9)+-parseInt(r(186))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var wn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(192)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){wn(this,(function(){var t=In,n=new RegExp(t(187)),r=new RegExp(t(185),"i"),e=bn(t(188));n[t(177)](e+t(172))&&r[t(177)](e+"input")?bn():e("0")}))()}();var vn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(192)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function bn(t){function n(t){var r=In;if(typeof t===r(180))return function(t){}[r(163)]("while (true) {}")[r(192)](r(168));1!==(""+t/t)[r(184)]||t%20==0?function(){return!0}[r(163)]("debu"+r(165)).call(r(196)):function(){return!1}[r(163)](r(197)+"gger")[r(192)](r(169)),n(++t)}try{if(t)return n;n(0)}catch(r){}}vn(void 0,(function(){var t,n=In;try{t=Function(n(193)+n(173)+");")()}catch(u){t=window}for(var r=t.console=t[n(162)]||{},e=[n(167),n(189),n(171),"error",n(170),n(190),"trace"],o=0;o<e[n(184)];o++){var i=vn[n(163)][n(166)].bind(vn),s=e[o],c=r[s]||i;i[n(178)]=vn[n(176)](vn),i[n(164)]=c.toString[n(176)](c),r[s]=i}}))(),function(t,n){for(var r=mn,e=xn();;)try{if(952838===parseInt(r(257))/1*(-parseInt(r(242))/2)+parseInt(r(244))/3*(parseInt(r(249))/4)+-parseInt(r(261))/5+-parseInt(r(256))/6+parseInt(r(263))/7*(-parseInt(r(243))/8)+-parseInt(r(232))/9*(-parseInt(r(248))/10)+parseInt(r(262))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var yn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function mn(t,n){var r=xn();return(mn=function(t,n){return r[t-=231]})(t,n)}function xn(){var t=["chain","constructor","553890TUOfNs","98543VIdBOK","toString","trace","bind","1609360rzmlAw","14443858tgRVEX","28oqENFb","gger","input","apply","1420308MHzlFy","length","test","string","debu","return (function() ","function *\\( *\\)","while (true) {}","warn",'{}.constructor("return this")( )',"34IyjbFa","3560352GpDWwX","2423415ttnpAo","init","call","exception","120AnmuIT","8mIcvDF","info","__proto__","console","stateObject"];return(xn=function(){return t})()}!function(){yn(this,(function(){var t=mn,n=new RegExp(t(238)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Mn(t(245));n[t(234)](e+t(254))&&r[t(234)](e+t(265))?Mn():e("0")}))()}();var _n=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Mn(t){function n(t){var r=mn;if(typeof t===r(235))return function(t){}[r(255)](r(239))[r(231)]("counter");1!==(""+t/t)[r(233)]||t%20==0?function(){return!0}.constructor("debu"+r(264))[r(246)]("action"):function(){return!1}[r(255)](r(236)+"gger").apply(r(253)),n(++t)}try{if(t)return n;n(0)}catch(r){}}_n(void 0,(function(){for(var t=mn,n=function(){var t,n=mn;try{t=Function(n(237)+n(241)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(252)]||{},e=["log",t(240),t(250),"error",t(247),"table",t(259)],o=0;o<e.length;o++){var i=_n[t(255)].prototype[t(260)](_n),s=e[o],c=r[s]||i;i[t(251)]=_n.bind(_n),i[t(258)]=c.toString[t(260)](c),r[s]=i}}))();const Zn=An;function jn(){const t=["8821155jucZHh","data","32UOEISz","table","debu","30070jsGJrf","offscreencanvas","constructor","chain","18BDsWmd","call","input","console","gger","Clip terrain error","__proto__","log","bind","exception","error","info","10199472udBwPg","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","Get context 2d error.","264531zCodDf","test","prototype","stateObject","while (true) {}","clip","getChildPosition","function *\\( *\\)","2017253ubByEi","getImageData","length","round","toString","string","return (function() ","233354PhaBEx","116146kqnLgq","init","1161tsfVAQ","trace"];return(jn=function(){return t})()}function An(t,n){const r=jn();return(An=function(t,n){return r[t-=468]})(t,n)}!function(t,n){const r=An,e=jn();for(;;)try{if(906028===-parseInt(r(471))/1+parseInt(r(472))/2+-parseInt(r(502))/3*(parseInt(r(478))/4)+parseInt(r(476))/5+-parseInt(r(485))/6*(parseInt(r(510))/7)+parseInt(r(497))/8+parseInt(r(474))/9*(-parseInt(r(481))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const En=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[An(500)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){En(this,(function(){const t=An,n=new RegExp(t(509)),r=new RegExp(t(499),"i"),e=Pn(t(473));n[t(503)](e+t(484))&&r[t(503)](e+t(487))?Pn():e("0")}))()}();const Tn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[An(500)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Tn(void 0,(function(){const t=An;let n;try{n=Function(t(470)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(488)]=n[t(488)]||{},e=["log","warn",t(496),t(495),t(494),t(479),t(475)];for(let i=0;i<e[t(512)];i++){const n=Tn[t(483)][t(504)][t(493)](Tn),o=e[i],s=r[o]||n;n[t(491)]=Tn[t(493)](Tn),n[t(468)]=s.toString[t(493)](s),r[o]=n}}))();Zn(507),Zn(508);function Pn(t){function n(t){const r=An;if(typeof t===r(469))return function(t){}[r(483)](r(506))[r(500)](r(498));1!==(""+t/t)[r(512)]||t%20==0?function(){return!0}[r(483)](r(480)+r(489))[r(486)]("action"):function(){return!1}.constructor(r(480)+r(489))[r(500)](r(505)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=On,e=zn();;)try{if(501522===parseInt(r(204))/1*(-parseInt(r(203))/2)+parseInt(r(208))/3+-parseInt(r(185))/4*(parseInt(r(196))/5)+parseInt(r(192))/6*(parseInt(r(209))/7)+parseInt(r(184))/8*(parseInt(r(187))/9)+-parseInt(r(207))/10*(-parseInt(r(183))/11)+parseInt(r(186))/12*(-parseInt(r(215))/13))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Sn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[On(193)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Sn(this,(function(){var t=On,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Rn(t(197));n[t(201)](e+t(211))&&r[t(201)](e+"input")?Rn():e("0")}))()}();var Fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[On(193)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function On(t,n){var r=zn();return(On=function(t,n){return r[t-=183]})(t,n)}function zn(){var t=["gger","bind","stateObject","6flklej","apply","counter","warn","6750POwBCX","init","console",'{}.constructor("return this")( )',"info","test","string","62BlQSOj","26036MIeriZ","log","table","2861030LHeJan","633882PaVBLX","1132803pEnoWS","toString","chain","while (true) {}","constructor","debu","1547RntQkD","exception","prototype","11QtPpXw","5773016lEZtYT","184wkiPMZ","1020AQgpZF","9haYnqu","error"];return(zn=function(){return t})()}function Rn(t){function n(t){var r=On;if(typeof t===r(202))return function(t){}[r(213)](r(212)).apply(r(194));1!==(""+t/t).length||t%20==0?function(){return!0}[r(213)](r(214)+r(189)).call("action"):function(){return!1}[r(213)]("debu"+r(189))[r(193)](r(191)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Fn(void 0,(function(){for(var t=On,n=function(){var t,n=On;try{t=Function("return (function() "+n(199)+");")()}catch(r){t=window}return t}(),r=n[t(198)]=n[t(198)]||{},e=[t(205),t(195),t(200),t(188),t(216),t(206),"trace"],o=0;o<e.length;o++){var i=Fn[t(213)][t(217)].bind(Fn),s=e[o],c=r[s]||i;i.__proto__=Fn[t(190)](Fn),i[t(210)]=c[t(210)].bind(c),r[s]=i}}))();export{pt as M,kt as P,sn as T,yt as U,U as a,mt as b,Dt as c,Mt as d,Pt as l,St as u,Zt as w};
