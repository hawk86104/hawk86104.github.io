import{W as e,S as t,B as r,H as a,V as o}from"./cannon-es.D0mCsqyd1763540743861.js";import{_ as n}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as s}from"./@vue.Co_gxueH1763540743861.js";const p=s({__name:"terrainBallsCannon",props:{sphereGroup:{default:null},plane:{default:null}},setup(s){const p=s,i=new e;i.gravity.set(0,-9.82,0);const l=[];p.sphereGroup.children.forEach(e=>{const a=e.geometry.parameters.radius,o=new t(a),n=new r({mass:1});n.addShape(o),n.position.copy(e.position),l.push(n),i.addBody(n)});let m=[];const d=p.plane.geometry.getAttribute("position"),h=p.plane.geometry.parameters.widthSegments+1,u=p.plane.geometry.parameters.heightSegments+1;for(let e=0;e<u;e++)m.push([]);for(let e=0;e<h;e++)for(let t=0;t<u;t++)m[t][e]=d.getZ((h-1-e)*u+t);const c=new a(m,{elementSize:p.plane.geometry.parameters.width/(h-1)}),g=new r({mass:0});g.addShape(c,new o(-p.plane.geometry.parameters.width/2,-p.plane.geometry.parameters.height/2,0)),g.quaternion.set(...p.plane.quaternion.toArray()),i.addBody(g);const{onRender:y}=n();return y(({delta:e})=>{i.fixedStep(1/120,e),l.forEach((e,t)=>{p.sphereGroup.children[t].position.copy(e.position)})}),(e,t)=>null}});export{p as _};
