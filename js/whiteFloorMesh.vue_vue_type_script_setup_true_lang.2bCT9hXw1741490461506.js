import{_ as t,bO as n,C as o}from"./three.Vxh8Czkt1741490461506.js";import{a as r}from"./@tresjs.rE98Wm941741490461506.js";import{d as e,b as a,a3 as i,w as s,o as c,H as u,N as f,aj as l,ak as p}from"./@vue.NRI7TcgI1741490461506.js";!function(t,n){const o=m,r=g();for(;;)try{if(453955===-parseInt(o(488))/1+parseInt(o(450))/2+-parseInt(o(465))/3*(parseInt(o(483))/4)+parseInt(o(447))/5*(-parseInt(o(457))/6)+-parseInt(o(491))/7+parseInt(o(471))/8+-parseInt(o(468))/9*(-parseInt(o(449))/10))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(445)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){h(this,(function(){const t=m,n=new RegExp(t(446)),o=new RegExp(t(458),"i"),r=_("init");n[t(482)](r+"chain")&&o.test(r+t(456))?_():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[m(445)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","exception","table","log","\n      \t","debu","79668Bjdjai","while (true) {}","call","8421993WufjUh","\n\t ","worldpos_vertex","2469296eTclMn","string","trace","gger","packing","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","warn","ShaderChunk","begin_vertex","__proto__","shadowmap_vertex","test","112kMnbKm","beginnormal_vertex","info","action","\n          ","43555oOpLzk","console","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","5307379FgoUOi","constructor","\n       void main() {\n\t\t\t\t\t","bind","return (function() ","apply","function *\\( *\\)","3845VzpfTm","bsdfs","20wnvLqC","21080IwicsM",'{}.constructor("return this")( )',"\n       varying vec2 vUv;\n\t\t\t \t","common","shadowmap_pars_fragment","toString","input","1494bVoxcH"];return(g=function(){return t})()}function m(t,n){const o=g();return(m=function(t,n){return o[t-=444]})(t,n)}d(void 0,(function(){const t=m;let n;try{n=Function(t(444)+t(451)+");")()}catch(e){n=window}const o=n[t(489)]=n[t(489)]||{},r=[t(462),t(477),t(485),"error",t(460),t(461),t(473)];for(let a=0;a<r.length;a++){const n=d[t(492)][t(459)][t(494)](d),e=r[a],i=o[e]||n;n[t(480)]=d[t(494)](d),n.toString=i[t(455)].bind(i),o[e]=n}}))();const v=()=>{const o=m;return o(452)+t[o(478)].common+o(463)+n[o(448)]+o(463)+t[o(478)].shadowmap_pars_vertex+o(493)+t[o(478)][o(484)]+"\n          "+t[o(478)].defaultnormal_vertex+o(487)+n[o(479)]+o(487)+t[o(478)].project_vertex+o(487)+t[o(478)][o(470)]+"\n          "+t[o(478)][o(481)]+o(476)},w=()=>{const o=m;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[o(453)]+o(469)+n[o(475)]+o(469)+t[o(478)][o(448)]+"\n\t "+t[o(478)].lights_pars_begin+o(469)+t[o(478)][o(454)]+o(469)+t[o(478)].shadowmask_pars_fragment+o(490)};function _(t){function n(t){const o=m;if(typeof t===o(472))return function(t){}[o(492)](o(466)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(492)](o(464)+o(474))[o(467)](o(486)):function(){return!1}[o(492)](o(464)+o(474))[o(445)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=I;!function(t,n){const o=I,r=j();for(;;)try{if(995674===parseInt(o(200))/1*(parseInt(o(221))/2)+-parseInt(o(175))/3+parseInt(o(199))/4+-parseInt(o(213))/5+parseInt(o(210))/6+-parseInt(o(219))/7+-parseInt(o(168))/8*(parseInt(o(212))/9))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(208)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=I,n=new RegExp(t(189)),o=new RegExp(t(167),"i"),r=k(t(188));n.test(r+"chain")&&o.test(r+t(191))?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function I(t,n){const o=j();return(I=function(t,n){return o[t-=165]})(t,n)}y(void 0,(function(){const t=I,n=function(){const t=I;let n;try{n=Function(t(222)+t(178)+");")()}catch(o){n=window}return n}(),o=n[t(205)]=n[t(205)]||{},r=[t(182),t(169),t(166),t(181),t(187),t(192),t(220)];for(let e=0;e<r[t(196)];e++){const n=y[t(165)].prototype[t(214)](y),a=r[e],i=o[a]||n;n[t(197)]=y.bind(y),n[t(195)]=i[t(195)].bind(i),o[a]=n}}))();const S=[b(183)],C=["args"];function j(){const t=["RepeatWrapping","TresShaderMaterial","Color","2451345JQPyUO","#990","wrapS",'{}.constructor("return this")( )',"TresMesh","while (true) {}","error","log","rotation-x","whiteFloorMesh","string","stateObject","exception","init","function *\\( *\\)","UniformsLib","input","table","tmRef","#999","toString","length","__proto__","color","7789572AgFyOB","70423NGHyrw","uShadowColor","shadowColor","fEdge","action","console","uColor","call","apply","lights","8029596YnYuPC","DoubleSide","9CktZMq","911325mVJaEv","bind","merge","UniformsUtils","gger","value","11708515piIEWS","trace","36GrXbSI","return (function() ","constructor","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","7084592LLOGLo","warn","uniforms","TresPlaneGeometry"];return(j=function(){return t})()}const M=e({__name:b(184),props:{size:{default:[20,20]},color:{default:b(176)},shadowColor:{default:b(194)},edge:{default:.35}},async setup(n){const e=b;let h,d;const g=n,m=a(),{map:_}=([h,d]=i((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(177)]=_.wrapT=t[e(172)];const x={uniforms:t[e(216)][e(215)]([t[e(190)][e(209)],{uTexture:{type:"t",value:_},uColor:{value:new(t[e(174)])(g.color)},uShadowColor:{value:new(t[e(174)])(g[e(202)])},fEdge:{type:"f",value:g.edge}}]),side:t[e(211)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return s((()=>g.edge),(t=>{const n=e;x[n(170)][n(203)].value=t})),s((()=>g[e(198)]),(t=>{const n=e;x[n(170)][n(206)][n(218)]=new o(g[n(198)])})),s((()=>g[e(202)]),(n=>{const o=e;x.uniforms[o(201)].value=new(t[o(174)])(g.shadowColor)})),(t,n)=>{const o=e;return c(),u(o(179),{ref_key:o(193),ref:m,"rotation-x":-Math.PI/2},[f(o(171),{args:g.size},null,8,C),f(o(173),l(p(x)),null,16)],8,S)}}});function k(t){function n(t){const o=I;if(typeof t===o(185))return function(t){}[o(165)](o(180))[o(208)]("counter");1!==(""+t/t)[o(196)]||t%20==0?function(){return!0}[o(165)]("debu"+o(217))[o(207)](o(204)):function(){return!1}[o(165)]("debugger").apply(o(186)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{M as _};
