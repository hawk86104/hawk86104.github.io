import{_ as o,K as e}from"./@tresjs.DsQAOGDv1766395949228.js";import{P as t}from"./tweakpane.CqZAnw7f1766395949228.js";import{d as a,a as r,r as s,w as i,G as l,o as n,I as p,a9 as c,aa as u,g as d,b as f,e as m,h,u as v,m as g,ah as y}from"./@vue.BxPWGdWw1766395949228.js";import{bz as P,aE as _,bK as S,a6 as j,k as w}from"./three.F31Lz30M1766395949228.js";import{_ as x}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.BlaJdhxN1766395949228.js";import"./postprocessing.Rj820gp21766395949228.js";import"./@vueuse.D_OASVSl1766395949228.js";import"./dither.glsl.tNAdkJUa1766395949228.js";import"./Reflector.CCEw0uhQ1766395949228.js";import"./OimoPhysicsBuffer.BJHVukRr1766395949228.js";import"./oimophysics.CfVKSiAm1766395949228.js";import"./vite-plugin-qiankun.B06WoCqG1766395949228.js";import"./utils.CNife3_q1766395949228.js";const z=["rotation-x"],b=["args"],T=a({__name:"videoFloor",props:{size:{default:[10,10]},vSrcPath:{},loop:{type:Boolean,default:!0},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},setup(e){const t=r(),{onRender:a}=o();a(()=>{t.value&&(t.value.rotation.z+=d.rotationZ)});const d=e;let f=document.createElement("video");f.src=d.vSrcPath,f.loop=d.loop,f.muted=!0,f.crossOrigin="",f.play();let m=new P(f);m.wrapS=_,m.wrapT=_,m.repeat.set(d.textureRepeat[0],d.textureRepeat[1]);const h=s({color:d.color,alphaMap:m,side:j,transparent:!0,opacity:d.opacity,blending:S,flatShading:!0,depthTest:!0,depthWrite:!0});return i(()=>d.color,o=>{h.color=new w(o)}),i(()=>d.opacity,o=>{h.opacity=o}),(o,e)=>(n(),l("TresMesh",{ref_key:"tmRef",ref:t,"rotation-x":-Math.PI/2},[p("TresPlaneGeometry",{args:d.size},null,8,b),p("TresMeshStandardMaterial",c(u(h)),null,16)],8,z))}}),R=a({__name:"videoFloor",setup(o){const a=s({reflectivity:2.6,showGridHelper:!1,scale:4}),r=s({color:"#fff",opacity:.95,rotationZ:.01}),i=new t({title:"video地面",expanded:!0});return i.addBinding(r,"color",{label:"颜色"}),i.addBinding(r,"opacity",{label:"透明度",min:0,max:1,step:.01}),i.addBinding(r,"rotationZ",{label:"自转速度",min:-.1,max:.1,step:.01}),(o,t)=>{const s=d("TresCanvas");return n(),f(s,{clearColor:"#201919","window-size":""},{default:m(()=>[t[0]||(t[0]=p("TresPerspectiveCamera",{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1)),h(v(e),{enableDamping:""}),t[1]||(t[1]=p("TresAmbientLight",{intensity:6},null,-1)),h(T,g(r,{position:[0,0,10],size:[10,10],vSrcPath:"https://opensource.cdn.icegl.cn/video/floor/floorV1.mp4"}),null,16,["vSrcPath"]),h(T,{color:"#02a7ff",position:[0,-1,10],size:[13,13],vSrcPath:"https://opensource.cdn.icegl.cn/video/floor/floorV2.mp4"},null,8,["vSrcPath"]),h(T,{color:"#7300a8",opacity:.6,position:[0,0,-10],size:[10,10],vSrcPath:"https://opensource.cdn.icegl.cn/video/floor/floorV3.mp4"},null,8,["vSrcPath"]),h(T,{color:"#f605ff",rotationZ:-.01,position:[0,-1,-10],size:[13,13],vSrcPath:"https://opensource.cdn.icegl.cn/video/floor/floorV3.mp4"},null,8,["vSrcPath"]),h(T,{color:"#02a7ff",rotationZ:0,position:[0,-1.99,0],opacity:.06,textureRepeat:[3,2],size:[40,40],vSrcPath:"https://opensource.cdn.icegl.cn/video/floor/grid.mp4"},null,8,["vSrcPath"]),(n(),f(y,null,{default:m(()=>[h(x,g({position:[0,-2,0]},a),null,16)]),_:1}))]),_:1})}}});export{R as default};
