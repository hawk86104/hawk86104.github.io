import{c as t,B as n,r as e,c7 as o,C as r,V as s,a0 as c}from"./three.N4lg2KsY1742297875262.js";import{w as i}from"./@fesjs.5gYNbdbo1742297875262.js";import{a}from"./@tresjs.oW7bfow21742297875262.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.MBlJRBu_1742297875262.js";!function(t,n){const e=d,o=I();for(;;)try{if(413244===parseInt(e(480))/1*(-parseInt(e(511))/2)+-parseInt(e(505))/3*(-parseInt(e(527))/4)+parseInt(e(549))/5+parseInt(e(492))/6*(parseInt(e(553))/7)+-parseInt(e(504))/8*(-parseInt(e(547))/9)+parseInt(e(538))/10*(-parseInt(e(491))/11)+-parseInt(e(484))/12*(parseInt(e(481))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(522)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=d,n=new RegExp(t(501)),e=new RegExp(t(537),"i"),o=j(t(543));n[t(507)](o+t(502))&&e.test(o+t(550))?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(522)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=d;let n;try{n=Function(t(515)+t(490)+");")()}catch(r){n=window}const e=n[t(495)]=n[t(495)]||{},o=["log",t(528),t(512),t(514),t(503),t(539),t(526)];for(let s=0;s<o[t(554)];s++){const n=g[t(545)][t(485)][t(542)](g),r=o[s],c=e[r]||n;n[t(540)]=g[t(542)](g),n.toString=c[t(530)].bind(c),e[r]=n}}))();const m=(n,e=!1)=>{const o=d;n[o(513)]();const{max:r,min:s}=n[o(496)];n[o(510)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(483)][o(518)].count;t++)e?(a[o(479)]((n[o(483)][o(518)][o(555)](t)-(s.x+r.x)/2)/c),a[o(479)]((n[o(483)][o(518)].getY(t)-(s.y+r.y)/2)/i)):(a.push((n[o(483)][o(518)].getX(t)-s.x)/c),a[o(479)]((n[o(483)].position.getY(t)-s.y)/i));const u=new Float32Array(a);n[o(493)]("uv",new t(u,2))},h=(t,n)=>new Promise(((e,o)=>{const r=d;i(t,{},{method:r(499),mergeRequest:!0,responseType:r(548)}).then((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[r(514)](t),o(t)}))}));function d(t,n){const e=I();return(d=function(t,n){return e[t-=479]})(t,n)}const y=t=>{const n=d,e=(new(THREE[n(486)]))[n(489)](t),o=new THREE.Vector3;e[n(482)](o),t[n(520)][n(494)]((t=>{const e=n;t[e(518)][e(546)](o)})),t[n(518)][n(521)](o.negate())},w=()=>{const t=d;n[t(485)][t(506)]=u,n[t(485)][t(551)]=p,e.prototype.raycast=f},x=async t=>{const n=d,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(558)][n(498)]();m(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(532)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(556)].transparent=!0,u[n(556)][n(552)]=!0,u[n(556)][n(541)]=!0,u[n(556)][n(488)]=c,u[n(556)][n(500)].config[n(529)].w=20,u[n(556)][n(500)].reflectivity.value=.46,u};function I(){const t=["console","boundingBox","expandByObject","clone","get","uniforms","function *\\( *\\)","chain","exception","37424YfCvqV","2311581doXHwd","computeBoundsTree","test","random","count","deleteAttribute","2DKKdvB","info","computeBoundingBox","error","return (function() ","min","set","position","call","children","copy","apply","divideScalar","gger","debu","trace","4bmBLgd","warn","value","toString","getSize","#fff","center","stateObject","max","setY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","10tvfrtP","table","__proto__","depthTest","bind","init","action","constructor","sub","774BzYIFm","json","432590pCQHyJ","input","disposeBoundsTree","depthWrite","21035DUlLIu","length","getX","material","negate","geometry","string","push","298901XcgzFR","8436207WKyCyc","getCenter","attributes","12kuIeWe","prototype","Box3","getY","side","setFromObject",'{}.constructor("return this")( )',"5161409aMQfGE","1140RfSTtK","setAttribute","forEach"];return(I=function(){return t})()}function b(t){const n=d,e=[];for(let r=0;r<t[n(554)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(554)];r++)o.add(e[r]);o[n(523)](e[n(554)]);for(let r=0;r<e.length;r++)e[r][n(546)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=d;if(typeof t===e(559))return function(t){}[e(545)]("while (true) {}")[e(522)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(525)+e(524))[e(519)](e(544)):function(){return!1}[e(545)](e(525)+e(524)).apply(e(534)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,b as g,w as i,h as l,m as r,x as s};
