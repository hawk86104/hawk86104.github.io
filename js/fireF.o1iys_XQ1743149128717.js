import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.RZO-bOMi1743149128717.js";import{_ as e,b as s,V as n,h as i,c as r,bU as o,a8 as a,e as c,ct as h,t as l,ad as u,a$ as p,C as f,au as m}from"./three.hBhj0ayh1743149128717.js";import{m as d,e as w}from"./@tresjs.GCV-1VTd1743149128717.js";import{d as g,b as S,a2 as y,o as v,f as x,g as I,j as P}from"./@vue.L-brCdZe1743149128717.js";import"./three-custom-shader-material.bIkXJfH11743149128717.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1743149128717.js";import"./postprocessing.JYKQQ2FM1743149128717.js";import"./@vueuse.K3OHOx4F1743149128717.js";const A=q;!function(t,e){const s=q,n=N();for(;;)try{if(422424===parseInt(s(511))/1*(parseInt(s(426))/2)+parseInt(s(401))/3*(parseInt(s(604))/4)+-parseInt(s(181))/5*(parseInt(s(588))/6)+-parseInt(s(510))/7+parseInt(s(157))/8+-parseInt(s(397))/9*(parseInt(s(551))/10)+parseInt(s(404))/11)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();class F{static Time=new F("Time");static[A(344)]=new F("Sequence");constructor(t){this[A(436)]=t}}class T{constructor(){this.init()}[A(352)](){const t=A;this.progressType=F[t(227)],this[t(280)]=1,this[t(405)]=0,this.sequenceElement=new(e[t(493)]),this[t(173)]=new(e[t(338)]),this[t(487)]=new s,this.acceleration=new(e[t(338)]),this.normal=new(e[t(338)]),this[t(585)]=0,this[t(567)]=0,this[t(482)]=new n,this[t(266)]=new(e[t(278)]),this.alpha=1,this[t(153)]=new(e[t(216)]),this[t(392)]=new(e[t(278)]),this.initialAlpha=1}[A(175)](t,e,s,n,i,r,o,a,c,h,l,u,p,f,m,d){const w=A;this[w(410)]=t,this[w(280)]=e,this.age=s,this[w(355)][w(412)](n),this[w(173)][w(412)](i),this[w(487)].copy(r),this[w(531)][w(412)](o),this[w(163)][w(412)](a),this.rotation=c,this.rotationalSpeed=h,this[w(482)]=l,this[w(266)][w(412)](u),this[w(219)]=p,this[w(153)][w(412)](f),this.initialColor.copy(m),this[w(488)]=d}copyTo(t){const e=A;t.setAll(this[e(410)],this[e(280)],this[e(405)],this[e(355)],this[e(173)],this[e(487)],this[e(531)],this[e(163)],this[e(585)],this.rotationalSpeed,this[e(482)],this[e(266)],this[e(219)],this[e(153)],this[e(392)],this[e(488)])}[A(412)](t){const e=A;this[e(175)](t[e(410)],t.lifetime,t[e(405)],t[e(355)],t[e(173)],t[e(487)],t[e(531)],t[e(163)],t.rotation,t[e(567)],t.size,t[e(266)],t[e(219)],t[e(153)],t[e(392)],t.initialAlpha)}}class b{constructor(){const t=A;this[t(196)]=0,this[t(150)]=0,this.particleStates=[]}[A(352)](t){this.setParticleCount(t)}[A(358)](t){const e=A;this[e(196)]!=t&&(this[e(578)](),this[e(423)](t)),this[e(196)]=t}setActiveParticleCount(t){this[A(150)]=t}[A(423)](t){const e=A;this[e(123)]=[],this[e(196)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new T}dispose(){}[A(361)](){return this[A(196)]}flushParticleStateToBuffers(){}[A(229)](t,e){const s=A;if(t>=this.particleCount)throw new Error(s(197));if(e>=this[s(196)])throw new Error(s(184));const n=this.particleStates[t],i=this.particleStates[e];n[s(155)](i)}[A(211)](t,e){const s=A;if(t>=this[s(196)])throw new Error(s(421));return this[s(123)][t][s(412)](e)}[A(434)](t){const e=A;if(t>=this[e(196)])throw new Error(e(231));return this[e(123)][t]}computeBoundingBox=function(){const t=A,s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[q(430)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();s(this,(function(){const t=q,e=function(){const t=q;let e;try{e=Function(t(490)+t(553)+");")()}catch(s){e=window}return e}(),n=e.console=e[t(124)]||{},i=["log",t(379),t(174),t(293),"exception",t(346),"trace"];for(let r=0;r<i[t(557)];r++){const e=s[t(393)][t(214)][t(340)](s),o=i[r],a=n[o]||e;e[t(241)]=s[t(340)](s),e.toString=a[t(606)][t(340)](a),n[o]=e}}))();const n=new(e[t(338)]);return function(e=new i,s=null){const r=t,o=e.min,a=e[r(348)];for(let t=0;t<this[r(150)];t++){const e=this[r(434)](t);let i=e[r(173)];s&&(n[r(412)](i),n[r(574)](s),i=n);const c=Math[r(348)](e[r(482)].x,e[r(482)].y),h=i.x-c,l=i.x+c,u=i.y-c,p=i.y+c,f=i.z-c,m=i.z+c;(0==t||i.x<o.x)&&(o.x=h),(0==t||i.x>a.x)&&(a.x=l),(0==t||i.y<o.y)&&(o.y=u),(0==t||i.y>a.y)&&(a.y=p),(0==t||i.z<o.z)&&(o.z=f),(0==t||i.z>a.z)&&(a.z=m)}return e}}();[A(341)]=function(){const t=A,s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[q(430)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){s(this,(function(){const t=q,e=new RegExp(t(199)),s=new RegExp(t(262),"i"),n=wt("init");e[t(577)](n+t(558))&&s[t(577)](n+t(277))?wt():n("0")}))()}();const n=new(e[t(338)]),i=new(e[t(338)]),r=new(e[t(338)]);return function(s=new(e[t(303)]),o=null){const a=t;let c=0;for(let t=0;t<this[a(150)];t++){const e=this[a(434)](t);let s=e[a(173)];o&&(r[a(412)](s),r[a(574)](o),s=r);const h=Math[a(348)](e[a(482)].x,e.size.y);if(0==t)n.copy(s),c=h;else{i.copy(s).sub(n);const t=i[a(557)]()+h;if(t>c){const e=(t-c)/2;i[a(596)]()[a(506)](e),n[a(156)](i),c+=e}}}return s.center[a(412)](n),s[a(540)]=c,s}}()}class R{constructor(t,e,s=0){const n=A;this[n(427)]=t,this[n(557)]=e,this.id=s}}class z{constructor(){const t=A;this[t(257)]={},this[t(500)]=[]}addSequence(t,e,s){const n=A;if(this[n(364)](s))throw new Error(n(613));const i=new R(t,e,s);return this[n(257)][s]=i,this[n(500)].push(s),i}[A(400)](t){const e=A;if(!this.hasID(t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this[e(257)][t]}[A(283)](){return this.ids}[A(364)](t){return!!this.sequences[t]}}class E{constructor(){}initializeState(t){const e=A;t.initialColor[e(483)](1,1,1),t[e(153)][e(483)](1,1),t[e(488)]=1,t.progressType=F[e(227)],t[e(280)]=0,t[e(405)]=0,t[e(355)].set(0,0,0,0),t.position.set(0,0,0),t.velocity[e(483)](0,0,0),t.acceleration[e(483)](0,0,0),t[e(163)][e(483)](0,0,1),t[e(585)]=0,t[e(567)]=0,t.size[e(412)](t[e(153)]),t.color[e(412)](t.initialColor),t[e(219)]=1}}class O extends E{constructor(){super()}[A(154)](t){super.initializeState(t)}}class V{constructor(){}[A(127)](){}}class C extends V{constructor(){const t=A;super(),this[t(442)]=new(e[t(338)]),this[t(474)]=new(e[t(338)]),this.stateAcceleration=new(e[t(338)]),this.stateVelocity=new(e[t(338)])}[A(127)](t,e){const s=A;return super[s(127)](t,e),this[s(382)].copy(t.acceleration),this.timeScaledAcceleration[s(412)](this[s(382)]),this[s(474)].multiplyScalar(e),t[s(487)].add(this[s(474)]),this[s(377)][s(412)](t[s(487)]),this.timeScaledVelocity[s(412)](this[s(377)]),this[s(442)][s(506)](e),t[s(173)][s(156)](this[s(442)]),t[s(405)]=t[s(405)]+e,t[s(585)]=t.rotation+e*t[s(567)],!0}}function q(t,e){const s=N();return(q=function(t,e){return s[t-=121]})(t,e)}class M{static[A(313)](t,e,s){const n=A;return Math[n(182)](Math[n(348)](t,e),s)}static[A(523)](){return performance[A(387)]()/1e3}}function N(){const t=["loadJSONParameter","   float uvYOffset = atlasFrameHeight * upperSide; \n","Sequence","offsetY","table","attribute vec3 color;\n","max","onUpdate","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","generator","init",'ContinuousArray::getElement() -> "index" is out of bounds.',"   float uvXOffset = atlasFrameWidth * rightSide; \n","sequenceElement","render",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"setParticleCount","getVertexShader","emissionMaximum","getParticleCount","OneMinusSrcAlphaFactor","offsetZ","hasID","uniform sampler2D atlasTexture;\n","getParticleSystemRenderer","advanceActiveParticles","Shader","load","   if (instanced != 1) { \n","emissionDuration","type","computeBoundingBox","advanceActiveParticle","visible","scaleZ","stateVelocity","uniform int interpolateAtlasFrames; \n","warn","height","} \n","stateAcceleration","fromJSON","setTransformInitialDirectionInWorldSpace","localT","initialized","now","  \n #include <logdepthbuf_pars_fragment> \n",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"void main() { \n","   float atlasFrameY = atlasFrames.y; \n","initialColor","constructor","       upperSide = upperSideStep.x + upperSideStep.y;\n","iterator","particleSystems","342MrZbmc","split","setParticleSequences","getSequence","105375uksdTe","Running","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","4280859rWYaEI","age","AdditiveBlending",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","assign","progressType","uniformRange","copy","stop","   float rightSide; \n","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","cameraFar","namespace","   gl_FragColor.a *= vFragAlpha; \n","simulateInWorldSpace","frustumCulled",'ParticleStateArray::setState() -> "index" is out of range.',"object","allocate","debu","verticesPerParticle","55554AtlGJH","start","getTypeID","addElement","apply","transformDirection","initialSizes","   } else { \n","getState","getRotations","name","mapSize","ParticleSystem::init() -> trying to intialize more than once.","getSequenceElements","fromArray","   float atlasFrameHeight = atlasFrames.w; \n","timeScaledVelocity","   float rotMag = rotation; \n","getParticleStateInitializerCount","emissionRelativeStartTime","attribute vec4 particlePosition;\n","boundingBox","Box3","lastPositionAdjuster","setXYZW","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","elements","uniform vec2 uvOffset;\n","basePositions","onUpdateCallback","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","cameraNear","varying float vFragAlpha;\n","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","checkAndAddTypeName","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","setX","timeActive","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","JSONTypeStore::getType() -> typeName does not exist","positionAdjuster","floor","attribute float customIndex;\n","particleSequences","getFrameSetCount","NotStarted","systemState","shadow","timeScaledAcceleration","outTypeID","setDrawRange","setSimulateInWorldSpace",'ParticleSystem::getParticleState() -> "index" is out of range.',"toArray","mesh","lifetimes","size","set","lastPositionFlickerTime","getMaximumActiveParticles","varying float vSequenceElementT;\n","velocity","initialAlpha","particleStateArray","return (function() ","getInterpolatorForTypeID","jsonTypes","Vector4","customIndex","typeName","alphas","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","Renderer::init() -> trying to intialize more than once.","interpolateAtlasFrames","ids","getSimulateInWorldSpace","       float uRightV = rotVecStep.z; \n","uniformsNeedUpdate","upperIndex","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","multiplyScalar","calculateBoundingSphereFromBox","map","initialAlphas","5103938ZPBYCE","18uDpIId","addParticleSystem","uniform int instanced; \n","   const vec2 uLeft = vec2(-1.0, 1.0);\n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","texture","   vec4 color2 = color1; \n","   \n  #include <logdepthbuf_vertex> \n","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","interpolateFrames","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n",'ComponentContainer::getComponent() -> "index" is out of range.',"currentTime","params","setXYZ","getActiveParticleCount","getInterpolationValuesForTValue","attribute float rotation;\n","addComponent","attribute vec4 sequenceElement;\n","acceleration","getParticleStateOperator","clone","toJSON","   float atlasFrameWidth = atlasFrames.z; \n","rotations","getTValue","width","JSONTypeStore::addNamespace() -> namespace already exists","radius","   const vec2 dRight = vec2(1.0, -1.0);\n","getComponent","maxParticleCount","directionGenerator","updateMeshBounds","relativeToInitialValue","setActiveParticleCount","getParticleStates","getPositions","   const vec2 left = vec2(-1.0, 0.0);\n","50110SNTYiX","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n",'{}.constructor("return this")( )',"Paused","nextIntensityAdjuster","setBoundingSphere","length","chain","particleSystemRenderer","default","setEmitter","getTypeNames","elementTypeID","reverse","castShadow","material","rotationalSpeed","   int sequenceNumber = int(sequenceElement.y);\n","setXY","setUsage","offset","startupTime","maximumActiveParticles","applyMatrix4","parent","rotationalSpeeds","test","dispose","rangeTheta","offsetPhi","transformInitialDirectionInWorldSpace","rangePhi","matrixWorldNeedsUpdate","getTexture","rotation","owner","SrcAlphaFactor","250056dpDyJQ","matrixWorld","customIndexes","distance","getSystemState","geometry","function","#include <common> \n","normalize","sqrt","createMaterial","getParticleStateInitializer","getEmitter","interpolationElements","  \n #include <logdepthbuf_pars_vertex> \n","Matrix4","4IrGUVY","offsetX","toString","attribute vec2 baseUV;\n","___photonsTypeID","needsUpdate","v4v","instanced","element","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","PointLight","copyParticleInArray","randomGenerator","particleStates","console","ShaderMaterial","tempUp","updateState","setIntensity","parseTypeString","lastUpdateTime","updateBounds","particleStateOperators","accelerations","progressTypes","addElementsFromParameters","getTexturePath","blending","scaleX","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","   float atlasFrameX = atlasFrames.x; \n","keys","addParticleSequence","lowerIndex","Default","Additive","emissionRate","near","splice","activeParticleCount","particleStateInitializers","varying vec2 vUV1;\n","initialSize","initializeState","copyTo","add","3674976HOIYnu","addNamespace","remove","boundingSphere","getParticleSequences","positions","normal","   }  else { \n","instanceCount","intensity","scaleY","getParticleStateOperatorCount","   vFragAlpha = alpha; \n","   const vec2 down = vec2(0.0, -1.0);\n","   int nRowYTile = int(SNOverHS);\n","emissionMinimum","position","info","setAll","getParticleStateArray","intensityFlux","InstancedBufferAttribute","initialColors","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","5KFWvxy","min","getType",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"components","hasOwnProperty","getVisible","       viewPosition = viewMatrix * particlePosition;\n","frameSets","       rightSide = step(2.0, customIndex); \n","ages","Mesh","emitCount","VertexVars","center","particleCount",'ParticleStateArray::copyState() -> "srcIndex" is out of range.','Atlas::getFrameSet -> "index" is out of range.',"function *\\( *\\)","   if (simulateInWorldSpace == 1) { \n","BufferAttribute","normalizeDirection","addSequence","varying vec3 vFragColor;\n","tValues","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   vec2 rotVec; \n","typeIDGen","       upperSide = baseUV.y; \n","getFragmentShader","setState","       rotVec = position.xy; \n ","colors","prototype","camera","Vector2","sequenceElements","setBoundingBox","alpha","update","const int MAX_ATLAS_FRAME_SETS = 16; \n","renderer","sizes","emitter","string","activeCount","Time","addElements","copyState","addFrameSet",'ParticleStateArray::getState() -> "index" is out of range.','ContinuousArray::getTValue() -> "index" is out of bounds.',"renderOrder","getSizes","addTypeToNamespace","stateObject","gger","normals","texturePath","JSONTypeStore::addTypeToNamespace() -> typeName already exists","__proto__","random","   const vec2 up = vec2(0.0, 1.0);\n","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","particleEmitter","range","DynamicDrawUsage","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","offsetTheta","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","lastIntensityFlickerTime","varying vec2 vUV2;\n","push","   float upperSide; \n","getInterpolatedValue","getTypePath","sequences","generate","offsetRadius","   float sequenceElementF = sequenceElement.x;\n","   int firstSequenceElement = int(sequenceElementF); \n","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","JSONTypeStore::getType() -> namespace does not exist","addParticleStateInitializer","color","speedRange","invert","emitterInitialized","setAttribute","       rightSide = baseUV.x; \n","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","velocities","join","speed","   const vec2 dLeft = vec2(-1.0, -1.0);\n","input","Color","bias","lifetime","setOwner","lastIntensityAdjuster","getSequenceIDs","calculatingBoundingSphereFromBox","getColors","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","getFrameSet","tValue","Normal","source","updateEmitCount","NormalBlending","error","getInterpolatedElement","componentContainer","getGeometry","baseURI","    \n  #include <logdepthbuf_fragment> \n","baseUVs","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","rangeRadius","setRGB","Sphere","speedGenerator","sin","#include <common>","   } \n","getElementCount","flushParticleStateToBuffers","internalUpdate","interpolator","outType","clamp","atlas","BufferGeometry","initializers","   int sequenceLength = int(sequenceElement.w);\n","activateParticles","varying float vSequenceElementT; \n","generateForElement","Object3D","uniformOffset","data","       float dRightV = rotVecStep.w - rotVecStep.z; \n","   vec2 uv2; \n","attribute float alpha;\n","getElement","updateWorldMatrix","jsonTypeNames","void main()\n","   vec4 viewPosition; \n","light","operators","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","indexOf","addElementsFromElementClassAndParameters","decay","Vector3","call","bind","computeBoundingSphere"];return(N=function(){return t})()}class _{constructor(){this[A(185)]=[]}[A(529)](t){const e=A;this[e(185)][e(253)](t)}update(t,e){const s=A;for(const n of this.components)n[s(220)](t,e)}[A(542)](t){const e=A;if(t>=this[e(185)][e(557)])throw new Error(e(522));return this[e(185)][t]}}class B{static[A(471)]=new B(A(471));static[A(402)]=new B(A(402));static Paused=new B(A(554));static Done=new B("Done");constructor(t){this.name=t}}class U{constructor(t,s){const n=A;this.owner=t,this.owner[n(375)]=!1,this[n(375)]=!0,this[n(559)]=s,this[n(386)]=!1,this[n(573)]=0,this.activeParticleCount=0,this[n(419)]=!0,this.emitterInitialized=!1,this.particleEmitter=null,this[n(295)]=new _,this[n(151)]=[],this[n(132)]=[],this[n(123)]=null,this[n(472)]=B[n(471)],this[n(469)]=new z,this[n(455)]=null,this[n(581)]=!0,this[n(447)]=new(e[n(448)]),this.boundingSphere=new(e[n(303)])}init(t){const e=A;if(this[e(386)])throw new Error(e(438));this[e(573)]=t,this.particleSystemRenderer?(this[e(559)].setOwner(this[e(586)]),this[e(559)][e(352)](this.maximumActiveParticles,this[e(419)]),this.particleSystemRenderer.setSimulateInWorldSpace(this.simulateInWorldSpace),this[e(123)]=this[e(559)][e(176)]()):(this.particleStates=new b,this[e(123)][e(352)](this[e(573)])),this[e(265)](new O),this.addParticleStateOperator(new C),this.initialized=!0}[A(187)](){return this[A(375)]}setVisibile(t){return this[A(375)]=t}[A(349)](t){this[A(455)]=t}[A(220)](t,e){const s=A;if(this[s(472)]==B[s(402)]){if(this.owner[s(328)](!0),t=null==t||null==t?M[s(523)]():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(269)]&&this[s(472)]==B[s(402)]){const t=this[s(245)][s(220)](e);t>0&&this[s(318)](t),this[s(367)](e),this[s(455)]&&this[s(455)](this[s(150)]),this[s(131)]()}this[s(295)][s(220)](t,e),this[s(130)]=t}}[A(356)](t,e){const s=A;if(this[s(187)]()&&this[s(559)]){const n=t.autoClear;t.autoClear=!1,this[s(586)].visible=!0,this[s(586)][s(583)]=!0,this.particleSystemRenderer[s(356)](this[s(586)],t,e),this[s(586)][s(375)]=!1,t.autoClear=n}}start(){const t=A;this[t(472)]!=B[t(471)]&&this[t(472)]!=B[t(554)]||(this.systemState=B[t(402)],this.startTime=M[t(523)](),this[t(130)]=this.startTime)}pause(){const t=A;this[t(472)]==B[t(402)]&&(this[t(472)]=B[t(554)])}[A(413)](){}[A(592)](){return this[A(472)]}[A(561)](t){const e=A;return this[e(245)]=t,this[e(245)][e(573)]=this[e(573)],this[e(269)]=!0,this[e(245)]}[A(529)](t){this[A(295)].addComponent(t)}getComponent(t){return this[A(295)].getComponent(t)}addParticleStateInitializer(t){return this[A(151)].push(t),t}[A(444)](){const t=A;return this[t(151)][t(557)]}[A(599)](t){const e=A;if(t>=this.particleStateInitializers[e(557)])throw new Error(e(389));return this[e(151)][t]}addParticleStateOperator(t){const e=A;return this[e(132)][e(253)](t),t}getParticleStateOperatorCount(){const t=A;return this.particleStateOperators[t(557)]}[A(532)](t){const e=A;if(t>=this[e(132)].length)throw new Error(e(407));return this[e(132)][t]}[A(485)](){return this.maximumActiveParticles}[A(526)](){return this.activeParticleCount}getParticleState(t){const e=A;if(t>=this[e(150)])throw new Error(e(478));return this[e(123)][e(434)](t)}[A(548)](){return this[A(123)]}[A(366)](){return this[A(559)]}[A(501)](){return this[A(419)]}[A(477)](t){const e=A;this[e(419)]=t,this.particleSystemRenderer&&this.particleSystemRenderer[e(477)](this[e(419)])}[A(384)](t){this[A(581)]=t}addParticleSequence(t,e,s=0){const n=A;this[n(469)][n(203)](t,e,s)}[A(161)](){return this[A(469)]}[A(600)](){return this[A(245)]}[A(131)]=function(){const t=A,s=new(e[t(603)]);return function(){const e=t;let n=null;this[e(581)]&&(n=s,n[e(412)](this[e(586)][e(589)])[e(268)]()),this[e(559)].calculatingBoundingSphereFromBox()?(this[e(123)][e(373)](this.boundingBox,n),this[e(559)][e(218)](this[e(447)])):(this[e(123)][e(341)](this[e(160)],n),this[e(559)][e(556)](this[e(160)]))}}();[A(318)](t){const e=A;if(this[e(472)]==B[e(402)]){const s=M.clamp(this[e(150)]+t,0,this.maximumActiveParticles);for(let t=this.activeParticleCount;t<s;t++)this.activateParticle(t);this.activeParticleCount=s,this[e(123)][e(547)](this.activeParticleCount)}}activateParticle(t){const e=A;if(this.systemState==B[e(402)]){const s=this.particleStates[e(434)](t);s[e(405)]=0;for(let t=0;t<this.particleStateInitializers[e(557)];t++){this[e(151)][t][e(154)](s)}if(this[e(419)]){s[e(173)][e(574)](this.owner.matrixWorld);const t=s[e(487)][e(557)]();if(this[e(581)]){s[e(487)][e(431)](this[e(586)][e(589)])[e(506)](t);const n=s[e(531)][e(557)]();s[e(531)].transformDirection(this[e(586)][e(589)])[e(506)](n)}}this[e(123)][e(309)](t)}}advanceActiveParticles(t){const e=A;if(this[e(472)]==B[e(402)]){let s=0;for(;s<this[e(150)];){this[e(374)](s,t)?s++:(s<this[e(150)]-1&&this[e(121)](this[e(150)]-1,s),this[e(150)]--)}this[e(123)][e(547)](this[e(150)])}}[A(374)](t,e){const s=A;if(this[s(472)]==B[s(402)]){const n=this[s(123)][s(434)](t);for(let t=0;t<this[s(132)][s(557)];t++){const i=this[s(132)][t][s(127)](n,e),r=n.lifetime;if(!i||0!=r&&n[s(405)]>=r)return!1}return this[s(123)].flushParticleStateToBuffers(t),!0}return!1}copyParticleInArray(t,e){const s=A;this.particleStates[s(229)](t,e),this[s(123)].flushParticleStateToBuffers(e)}static fromJSON(t,s,n){const i=A,r=(t,e,s)=>{const n=q;e(t);for(const i in t)if(t[n(186)](i)){const s=t[i];typeof s===n(422)&&r(s,e)}};r(t,(t=>{t[q(372)]&&(t.type=s.parseTypeString(t.type))}));const o=t[i(543)],a=t[i(419)],c=t[i(222)],h=c.type.fromJSON(c[i(524)]),l=new(e[i(321)]),u=new U(l,h,n);u.init(o),u[i(477)](a);const p=t[i(224)],f=p[i(372)].fromJSON(p[i(524)]);if(u[i(561)](f),t[i(257)])for(const e of t[i(257)])u[i(143)](e[i(427)],e[i(557)],e.id);if(t[i(316)])for(const e of t[i(316)])u[i(265)](e[i(372)][i(383)](u,e[i(524)]));if(t[i(333)])for(const e of t[i(333)]){const t=u.addParticleStateOperator(e[i(372)][i(383)](u,e[i(524)]));e[i(452)]&&t[i(135)](e[i(452)])}return[u,l]}toJSON(t){const e=A,s=this[e(366)](),n=this[e(600)](),i=this[e(161)](),r=i[e(283)]()[e(508)]((t=>{const s=e,n=i.getSequence(t);return{id:t,start:n[s(427)],length:n[s(557)]}})),o=[],a=this[e(444)]();for(let l=0;l<a;l++){const s=this[e(599)](l);s.constructor!==O&&o[e(253)]({type:t[e(256)](s.constructor),params:s[e(534)](t)})}const c=[],h=this[e(168)]();for(let l=0;l<h;l++){const s=this[e(532)](l);if(s[e(393)]!==C){const n=s[e(534)](t),i=n.params||n,r=n[e(524)]?n[e(452)]:null,o={type:t[e(256)](s[e(393)]),params:i};r&&(o.elements=r),c[e(253)](o)}}return{maxParticleCount:this.getMaximumActiveParticles(),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t.getTypePath(s[e(393)]),params:s[e(534)]()},emitter:{type:t[e(256)](n[e(393)]),params:n[e(534)]()},sequences:r,initializers:o,operators:c}}}class X{constructor(){const t=A;this[t(396)]=[],this.startupTime=performance[t(387)]()/1e3,this[t(130)]=this[t(572)],this.componentContainer=new _}[A(220)](){const t=A,e=M[t(523)](),s=e-this[t(130)];for(const n of this[t(396)])n.update(e,s);this[t(295)][t(220)](e,s),this[t(130)]=e}[A(356)](t,e){const s=A;for(const n of this[s(396)])n[s(356)](t,e)}[A(512)](t){const e=A;this[e(396)][e(253)](t)}addComponent(t){const e=A;this[e(295)][e(529)](t)}[A(542)](t){const e=A;return this.componentContainer[e(542)](t)}}class Y{constructor(){const t=A;this[t(386)]=!1,this[t(196)]=0,this[t(586)]=null,this[t(419)]=!1}[A(477)](t){this.simulateInWorldSpace=t}[A(176)](){}[A(281)](t){this[A(586)]=t}[A(352)](t){const e=A;if(this[e(196)]=t,!this[e(386)])return this[e(386)]=!0,!0;throw new Error(e(498))}[A(356)](){}}class j extends b{constructor(){const t=A;super(),this.geometry=null,this[t(134)]=null,this.lifetimes=null,this[t(191)]=null,this[t(217)]=null,this.positions=null,this[t(273)]=null,this.accelerations=null,this[t(238)]=null,this[t(536)]=null,this[t(576)]=null,this[t(223)]=null,this.colors=null,this[t(432)]=null,this[t(179)]=null,this[t(611)]=!1,this.verticesPerParticle=6}[A(352)](t,e=!1){const s=A;this[s(611)]=e,this[s(611)]?this[s(425)]=1:this[s(425)]=6,super[s(352)](t),this[s(423)](t)}[A(358)](t){super[A(358)](t)}[A(547)](t){const e=A;super[e(547)](t),t>0?this.instanced?this[e(593)][e(165)]=t:this.geometry[e(476)](0,this[e(425)]*t):this[e(611)]?this.geometry[e(165)]=0:this[e(593)].setDrawRange(0,0)}[A(309)](t){const e=A;if(t>=this[e(196)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this.getState(t),n=t*this[e(425)];for(let i=0;i<this[e(425)];i++)this.lifetimes[e(462)](n+i,s[e(280)]),this[e(481)][e(609)]=!0,this.ages[e(462)](n+i,s[e(405)]),this[e(191)][e(609)]=!0,this[e(217)][e(450)](n+i,s[e(355)].x,s[e(355)].y,s.sequenceElement.z,s[e(355)].w),this[e(217)][e(609)]=!0,this[e(162)][e(525)](n+i,s.position.x,s[e(173)].y,s[e(173)].z),this[e(162)][e(609)]=!0,this.velocities[e(525)](n+i,s[e(487)].x,s[e(487)].y,s[e(487)].z),this[e(273)][e(609)]=!0,this[e(133)][e(525)](n+i,s[e(531)].x,s[e(531)].y,s[e(531)].z),this.accelerations[e(609)]=!0,this[e(238)][e(525)](n+i,s[e(163)].x,s[e(163)].y,s[e(163)].z),this[e(238)][e(609)]=!0,this[e(536)][e(462)](n+i,s.rotation),this[e(536)][e(609)]=!0,this[e(576)][e(462)](n+i,s[e(567)]),this[e(576)][e(609)]=!0,this[e(223)][e(569)](n+i,s.size.x,s[e(482)].y),this[e(223)][e(609)]=!0,this[e(213)].setXYZ(n+i,s[e(266)].r,s[e(266)].g,s.color.b),this[e(213)].needsUpdate=!0,this[e(496)][e(462)](n+i,s.alpha),this[e(496)][e(609)]=!0,this[e(432)].setXY(n+i,s[e(153)].x,s[e(153)].y),this[e(432)][e(609)]=!0,this[e(509)].setX(n+i,s[e(488)]),this[e(509)][e(609)]=!0}[A(229)](t,e){const s=A;super[s(229)](t,e),this[s(309)](e)}[A(211)](t,e){const s=A;if(t>=this.particleCount)throw new Error(s(357));super[s(211)](t,e),this.flushParticleStateToBuffers(t)}[A(549)](){return this[A(162)]}[A(234)](){return this[A(223)]}[A(435)](){return this[A(536)]}[A(439)](){return this[A(217)]}[A(285)](){return this[A(213)]}[A(296)](){return this[A(593)]}allocate(t){const s=A;super.allocate(t);const n=(t,s)=>{const n=q;return this[n(611)]?new(e[n(178)])(t,s):new(e[n(201)])(t,s)},i=this[s(425)]*this[s(196)];if(this[s(611)]){const t=new(e[s(315)]),n=new Float32Array(18);this[s(454)]=new(e[s(201)])(n,3),t[s(270)](s(173),this[s(454)]),this[s(454)][s(609)]=!0,this.basePositions[s(525)](0,-1,1,0),this[s(454)].setXYZ(1,-1,-1,0),this[s(454)].setXYZ(2,1,1,0),this.basePositions.setXYZ(3,-1,-1,0),this[s(454)][s(525)](4,1,-1,0),this[s(454)][s(525)](5,1,1,0);const i=new Float32Array(12);this.baseUVs=new r(i,2),t.setAttribute("baseUV",this[s(299)]),this[s(299)][s(609)]=!0,this[s(299)][s(569)](0,0,1),this[s(299)][s(569)](1,0,0),this[s(299)].setXY(2,1,1),this[s(299)].setXY(3,0,0),this[s(299)][s(569)](4,1,0),this[s(299)].setXY(5,1,1);const a=new Float32Array(6);this[s(590)]=new(e[s(201)])(a,1),t[s(270)](s(494),this[s(590)]),this[s(590)][s(609)]=!0,this[s(590)][s(462)](0,0),this.customIndexes[s(462)](1,1),this[s(590)][s(462)](2,3),this[s(590)][s(462)](3,1),this[s(590)].setX(4,2),this.customIndexes[s(462)](5,3),this[s(593)]=(new o)[s(412)](t),this[s(593)].instanceCount=0}else{this[s(593)]=new(e[s(315)]);const t=new Float32Array(i);this.customIndexes=new(e[s(201)])(t,1),this[s(593)][s(270)](s(494),this[s(590)]),this[s(590)].needsUpdate=!0;for(let e=0;e<this[s(196)];e++){const t=e*this[s(425)];this[s(590)][s(462)](t,0),this[s(590)][s(462)](t+1,1),this[s(590)].setX(t+2,3),this[s(590)][s(462)](t+3,1),this[s(590)][s(462)](t+4,2),this.customIndexes.setX(t+5,3)}}const c=new Float32Array(i),h=new Float32Array(i),l=new Float32Array(4*i),u=new Float32Array(3*i),p=new Float32Array(3*i),f=new Float32Array(3*i),m=new Float32Array(3*i),d=new Float32Array(i),w=new Float32Array(i),g=new Float32Array(2*i),S=new Float32Array(3*i),y=new Float32Array(i),v=new Float32Array(2*i),x=new Float32Array(3*i),I=new Float32Array(i);this.positions=n(u,3),this[s(162)][s(570)](e[s(247)]),this[s(593)][s(270)]("particlePosition",this[s(162)]),this[s(481)]=n(c,1),this[s(481)][s(570)](e[s(247)]),this[s(593)].setAttribute(s(280),this[s(481)]),this[s(191)]=n(h,1),this[s(191)].setUsage(a),this[s(593)][s(270)](s(405),this[s(191)]),this.sequenceElements=n(l,4),this[s(217)].setUsage(e[s(247)]),this[s(593)].setAttribute("sequenceElement",this.sequenceElements),this[s(273)]=n(p,3),this.velocities[s(570)](e[s(247)]),this.geometry[s(270)](s(487),this[s(273)]),this[s(133)]=n(f,3),this[s(133)][s(570)](a),this[s(593)].setAttribute(s(531),this[s(133)]),this[s(238)]=n(m,3),this.normals[s(570)](e[s(247)]),this[s(593)].setAttribute(s(163),this.normals),this[s(536)]=n(d,1),this[s(536)][s(570)](a),this[s(593)][s(270)](s(585),this[s(536)]),this[s(576)]=n(w,1),this[s(576)][s(570)](e[s(247)]),this[s(593)].setAttribute(s(567),this[s(576)]),this[s(223)]=n(g,2),this[s(223)][s(570)](e[s(247)]),this.geometry[s(270)](s(482),this[s(223)]),this.colors=n(S,3),this.colors[s(570)](a),this[s(593)][s(270)](s(266),this[s(213)]),this[s(496)]=n(y,1),this[s(496)][s(570)](a),this[s(593)].setAttribute(s(219),this[s(496)]),this.initialSizes=n(v,2),this[s(432)][s(570)](e[s(247)]),this[s(593)][s(270)](s(153),this[s(432)]),this.initialColors=n(x,3),this[s(179)][s(570)](e[s(247)]),this[s(593)].setAttribute(s(392),this[s(179)]),this[s(509)]=n(I,1),this[s(509)].setUsage(e[s(247)]),this[s(593)][s(270)]("initialAlpha",this[s(509)])}[A(578)](){const t=A;super[t(578)](),this[t(593)]&&(this.geometry.dispose(),this[t(593)]=null)}}class D{constructor(t,e,s,n,i){const r=A;this[r(557)]=t,this.x=e,this.y=s,this[r(538)]=n,this[r(380)]=i}}class W{constructor(t,e){const s=A;this[s(516)]=t,this[s(239)]=e,this[s(189)]=[]}[A(584)](){return this[A(516)]}[A(136)](){return this[A(239)]}[A(470)](){const t=A;return this[t(189)][t(557)]}[A(230)](t,e,s,n,i){const r=A;this[r(189)][r(253)](new D(t,e,s,n,i))}[A(287)](t){const e=A;if(t>=this[e(189)][e(557)])throw new Error(e(198));return this[e(189)][t]}}class J extends Y{constructor(t,s,n=!1,i=h,r=!0,o){const a=A;super(),this[a(611)]=t,this.particleStateArray=null,this.material=null,this[a(480)]=null,this.atlas=s,this[a(499)]=n,this.blending=i,this.boundingBox=new(e[a(448)]),this[a(160)]=new c,this[a(507)]=r,this[a(233)]=o}[A(281)](t){super[A(281)](t)}[A(176)](){return this[A(489)]}[A(477)](t){const e=A;super[e(477)](t),this[e(566)]&&(this[e(566)].uniforms[e(419)].value=t?1:0,this[e(566)][e(503)]=!0)}[A(284)](){return this.calculateBoundingSphereFromBox}[A(218)](t){const e=A;this.boundingBox.copy(t),this[e(480)]&&this[e(545)]()}setBoundingSphere(t){const e=A;this[e(160)][e(412)](t),this[e(480)]&&this[e(545)]()}[A(356)](t,e,s){e[A(356)](t,s)}[A(545)]=function(){const t=new s;return function(){const s=q,n=this[s(489)][s(296)]();if(this[s(507)]){n[s(447)]||(n.boundingBox=new(e[s(448)])),n[s(447)][s(412)](this[s(447)]),!n.boundingSphere&&(n.boundingSphere=new(e[s(303)])),t.x=(this[s(447)][s(182)].x+this[s(447)][s(348)].x)/2,t.y=(this.boundingBox[s(182)].y+this[s(447)][s(348)].y)/2,t.z=(this[s(447)][s(182)].z+this[s(447)][s(348)].z)/2;const i=this.boundingBox[s(348)].x-t.x,r=this.boundingBox.max.y-t.y,o=this.boundingBox[s(348)].z-t.z,a=Math.max(Math[s(348)](i,r),o);n[s(160)][s(195)][s(412)](t),n[s(160)][s(540)]=Math[s(597)](2*a*a)}else n.boundingSphere||(n[s(160)]=new c),n[s(160)].copy(this[s(160)])}}();[A(352)](t){const s=A;super[s(352)](t)&&(this.particleStateArray=new j,this[s(489)][s(352)](t,this.instanced),this[s(566)]=this[s(598)](null,null,null,!0,!1),this[s(566)][s(137)]=this[s(137)],this.mesh=new(e[s(192)])(this[s(489)][s(296)](),this.material),this.mesh[s(420)]=!0,void 0!==this.renderOrder&&(this[s(480)][s(233)]=this[s(233)]),this[s(545)](),this[s(586)].add(this[s(480)]))}[A(578)](){const t=A;this[t(489)][t(578)]()}[A(598)](t,s,n,i,r){const o=A,a=[...Array(16)[o(142)]()].map((t=>new l));if(this.atlas)for(let l=0;l<this[o(314)][o(470)]();l++){const t=this.atlas.getFrameSet(l);a[l]=new(e[o(493)])(t.x,t.y,t[o(538)],t[o(380)])}const c=this[o(314)]?this[o(314)][o(584)]():null,h=this[o(499)],u=this.simulateInWorldSpace,p=this[o(611)]?1:0,f={atlasFrameSet:{type:o(610),value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(e[o(216)])},simulateInWorldSpace:{value:u},instanced:{value:p}};return n=n||{},Object[o(409)](n,f),t=t||J[o(368)][o(359)](r),s=s||J[o(368)][o(210)](i,r),new(e[o(125)])({uniforms:n,vertexShader:t,fragmentShader:s,transparent:!0,alphaTest:1,blending:e[o(292)],blendDstAlpha:e[o(362)],blendSrcAlpha:e[o(587)],depthTest:!0,depthWrite:!1})}static[A(368)]={get VertexVars(){const t=A;return[t(221),t(248),t(378),"uniform int simulateInWorldSpace; \n",t(513),t(607),t(468),t(446),t(528),"attribute vec2 size;\n",t(530),t(347),t(326),t(152),t(252),t(204),t(458),t(319)][t(274)]("\n")},get FragmentVars(){const t=A;return[t(378),t(365),t(453),t(152),"varying vec2 vUV2;\n",t(204),t(458),t(486)][t(274)]("\n")},getVertexShader(t){const e=A;let s=[e(306),this[e(194)]][e(274)]("\n");return t&&(s+=e(602)),s+=[e(180),e(535),"   float atlasFrameHeight = atlasFrames.w; \n",e(141),e(391),e(415),e(350),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(464),e(459),e(206),e(171),"   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n",e(456),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n",e(300),e(521),e(381),e(330),"{\n","   const vec2 right = vec2(1.0, 0.0);\n",e(243),e(550),e(170),"   const vec2 uRight = vec2(1.0, 1.0);\n",e(514),e(276),e(541),e(331),e(200),e(188),e(433),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n",e(307),e(260),e(568),"   int sequenceStart = int(sequenceElement.z);\n",e(317),e(451),"   vec2 uv1; \n",e(325),e(272),e(261),e(244),e(497),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(408),"   } \n",e(535),e(441),e(443),e(139),e(414),e(254),"   if (instanced != 1) { \n",e(190),e(263),e(394),e(164),e(271),e(209),e(307),e(354),e(343),e(207),e(370),e(403),"       float uLeftV = rotVecStep.x; \n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(502),e(324),e(334),e(164),e(212),e(307),e(505),e(552),e(140),"   vFragColor = color; \n",e(169)][e(274)]("\n"),t&&(s+=e(518)),s+=e(381),s},getFragmentShader(t,e){const s=A;let n=s(595)+this.FragmentVars+"\n";return e&&(n+=s(388)),n+=s(390),e&&(n+=s(298)),n+=t?[s(519),"   vec4 color2 = color1; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(461),s(418)].join("\n"):[s(286),s(517),s(515),s(461),s(418)].join("\n"),n+="}\n",n}};static[A(383)](t){const s=A,n=t[s(314)],i=(new u)[s(369)](n[s(239)]),r=new W(i,n[s(239)]),o=n.framesets;for(const e of o)r[s(230)](e[s(557)],e.x,e.y,e.width,e.height);const a=new J(t.instanced,r,n[s(520)]);return t[s(137)]==s(146)?a.blending=p:a.blending=e[s(292)],a}toJSON(t){const s=A;t=t||(t=>{const e=q;if(t[e(239)])return t[e(239)];const s=t[e(584)]()[e(290)];if(s){const t=s[e(323)];if(t){const s=t[e(297)],n=t.currentSrc;return n[e(335)](s)>=0?n.substr(s[e(557)],n[e(557)]-s[e(557)]):n}}});const n=[];for(let e=0;e<this[s(314)][s(470)]();e++){const t=this[s(314)][s(287)](e);n[s(253)](t)}let i=s(289);this.material[s(137)]===e[s(406)]&&(i=s(146));return{instanced:this.instanced,blending:i,atlas:{interpolateFrames:this[s(499)],texturePath:t(this[s(314)]),framesets:n}}}}class Z{constructor(){const t=A;this[t(445)]=0,this[t(371)]=0,this[t(193)]=0,this.age=0,this.timeActive=0,this[t(226)]=0,this[t(573)]=0}[A(220)](t){return this[A(310)](t),0}[A(310)](t){const e=A;return this[e(405)]+=t,this.timeActive=Math[e(348)](this[e(405)]-this[e(445)],0),this.age>=this[e(445)]&&(0==this[e(371)]||this[e(463)]<=emissionDuration)}[A(291)](t){this.emitCount+=t}}class L extends Z{constructor(){const t=A;super(),this[t(172)]=0,this[t(360)]=0}}class k extends L{constructor(t=0){super(),this.emissionRate=t}[A(220)](t){const e=A;if(this.internalUpdate(t)){const t=this[e(147)]*this.timeActive-this[e(193)];if(t>=1){const s=Math[e(467)](t);return this[e(291)](s),s}}return 0}static[A(383)](t){const e=A,s=new k;return s[e(147)]=t[e(147)]||0,s}toJSON(){return{emissionRate:this[A(147)]}}}class G{static[A(145)]=new G(A(145));static[A(216)]=new G("Vector2");static[A(338)]=new G(A(338));static[A(493)]=new G("Vector4");static[A(278)]=new G(A(278));constructor(t){this[A(436)]=t}static[A(428)](t){const i=A;let r=G[i(145)];return t===n?r=G[i(216)]:t===s?r=G.Vector3:t===e[i(493)]?r=G.Vector4:t===e[i(278)]&&(r=G[i(278)]),r}static[A(342)](t,s){const n=A;switch(s){case e[n(216)]:return(new(e[n(216)]))[n(440)](t);case e[n(338)]:return(new(e[n(338)]))[n(440)](t);case e[n(493)]:return(new l).fromArray(t);case e[n(278)]:return(new(e[n(278)])).fromArray(t)}return t}}class H{constructor(t){const e=A;this[e(312)]=t,this[e(475)]=G[e(428)](t)}}class $ extends H{constructor(t,e,s,n,i,r){const o=A;super(t),this[o(246)]=e,this[o(571)]=s,this.uniformRange=n,this[o(322)]=i,this[o(596)]=r}[A(258)](t){const e=A,s=Math.random()*this[e(411)];switch(this.outTypeID){case G[e(145)]:t=Math[e(242)]()*this[e(246)]+this[e(571)],this[e(596)]&&(t=t<0?-1:1);break;case G.Vector2:t[e(483)](this.generateForElement(s,"x"),this.generateForElement(s,"y"));break;case G[e(338)]:t[e(483)](this.generateForElement(s,"x"),this[e(320)](s,"y"),this.generateForElement(s,"z"));break;case G[e(493)]:t[e(483)](this[e(320)](s,"x"),this[e(320)](s,"y"),this[e(320)](s,"z"),this[e(320)](s,"w"))}return this.normalize&&t.normalize(),t}[A(320)](t,e){const s=A;return t+Math[s(242)]()*this.range[e]+this[s(571)][e]+this[s(322)]}[A(533)](){const t=A;return new $(this[t(312)],this[t(246)],this[t(571)],this.uniformRange,this[t(322)],this[t(596)])}static getParameterJSON(t){const s=A;return t instanceof n||t instanceof e[s(338)]||t instanceof e[s(493)]||t instanceof f?t[s(479)]():t}static[A(383)](t){const e=A;return new $(t[e(372)],G[e(342)](t[e(246)],t.type),G[e(342)](t[e(571)],t[e(372)]),t[e(411)]||0,t[e(322)]||0,t[e(596)])}[A(534)](t){const e=A,s={range:$.getParameterJSON(this[e(246)]),offset:$.getParameterJSON(this.offset),uniformRange:this[e(411)],uniformOffset:this[e(322)]},n=t[e(256)](this.range.constructor);return null!=n&&(s.type=n),{type:t[e(256)]($),params:s}}}class K extends E{constructor(t,e,s,n,i){const r=A;super(),this[r(246)]=t,this[r(571)]=e,this[r(411)]=s,this.uniformOffset=n,this[r(596)]=i,this[r(351)]=new $(0,this.range,this.offset,this[r(411)],this[r(322)],this[r(596)])}[A(154)](t){const e=A;t[e(280)]=this[e(351)][e(258)]()}static[A(383)](t,e){const s=A;return new K(e.range,e[s(571)],e[s(411)],e[s(322)],e[s(596)])}toJSON(){const t=A;return{range:this[t(246)],offset:this.offset,uniformRange:this[t(411)],uniformOffset:this[t(322)],normalize:this[t(596)]}}}class Q extends E{constructor(t){const e=A;super(),this[e(351)]=t[e(533)]()}[A(154)](t){const e=A;t[e(585)]=this[e(351)][e(258)](t.rotation)}static[A(383)](t,e){const s=A,n=e[s(351)][s(372)][s(383)](e.generator.params);return new Q(n)}[A(534)](t){const e=A;return{generator:this.generator[e(534)](t)}}}class tt extends E{constructor(t,e,s,n,i){const r=A;super(),this[r(246)]=t,this.offset=e,this.uniformRange=s,this[r(322)]=n,this[r(596)]=i,this[r(351)]=new $(0,this.range,this[r(571)],this.uniformRange,this[r(322)],this.normalize)}[A(154)](t){const e=A;t.rotationalSpeed=this[e(351)][e(258)]()}static[A(383)](t,e){const s=A;return new tt(e[s(246)],e[s(571)],e[s(411)],e.uniformOffset,e.normalize)}[A(534)](){const t=A;return{range:this[t(246)],offset:this.offset,uniformRange:this[t(411)],uniformOffset:this[t(322)],normalize:this[t(596)]}}}class et extends E{constructor(t,s){const n=A;super(),this[n(122)]=new $(e[n(338)],t,s,0,0,!1)}[A(154)](t){const e=A;this[e(122)][e(258)](t[e(173)])}static[A(383)](t,s){const n=A;return new et((new(e[n(338)]))[n(440)](s[n(246)]),(new(e[n(338)]))[n(440)](s[n(571)]))}toJSON(){const t=A;return{range:this[t(122)][t(246)][t(479)](),offset:this[t(122)].offset.toArray()}}}class st extends E{constructor(t){const e=A;super(),this.generator=t[e(533)]()}initializeState(t){const e=A;this[e(351)][e(258)](t.size),t.initialSize.copy(t.size)}static[A(383)](t,e){const s=A,n=e[s(351)][s(372)].fromJSON(e.generator.params);return new st(n)}[A(534)](t){const e=A;return{generator:this[e(351)][e(534)](t)}}}class nt extends E{constructor(t,s,n,i,r=!0){const o=A;super(),this[o(544)]=new $(e[o(338)],t,s,0,0,!0),this[o(304)]=new $(0,n,i,0,0,!1),this[o(202)]=r}[A(154)](t){const e=A;this[e(544)][e(258)](t.velocity),this.normalizeDirection&&t.velocity[e(596)](),t[e(487)].multiplyScalar(this.speedGenerator[e(258)]())}static[A(383)](t,n){const i=A;return new nt((new s).fromArray(n[i(246)]),(new(e[i(338)]))[i(440)](n.offset),n[i(267)],n.speedOffset)}toJSON(){const t=A;return{range:this[t(544)][t(246)].toArray(),offset:this[t(544)][t(571)][t(479)](),speedRange:this[t(304)][t(246)],speedOffset:this[t(304)].offset}}}class it extends E{constructor(t,e=!1){const s=A;super(),this[s(399)](t),this[s(564)]=e}[A(399)](t){this[A(469)]=t}[A(154)](t){const e=A,s=this[e(469)][e(283)](),n=s[e(557)]*Math[e(242)](),i=s[Math[e(467)](n)],r=this[e(469)].getSequence(i),o=t[e(355)];this[e(564)]?o.x=r.length-1:o.x=r[e(427)],o.y=r.id,o.z=r[e(427)],o.w=r[e(557)],t[e(410)]=F.Sequence}static[A(383)](t,e){return new it(t[A(161)](),e.reverse)}[A(534)](){return{reverse:this[A(564)]}}}class rt extends V{constructor(t,e,s=!1,n=!1){const i=A;super(),this[i(469)]=t,this.speed=e,this.loop=s,this[i(564)]=n}updateState(t,e){const s=A,n=t[s(355)],i=this[s(469)][s(400)](n.y),r=e/this[s(275)];if(this.reverse){if(n.x-=r,n.x<i[s(427)]&&(n.x=i[s(427)]+i[s(557)],!this.loop))return!1}else if(n.x+=r,n.x>=i[s(427)]+i[s(557)]&&(n.x=i[s(427)],!this.loop))return!1;return!0}static[A(383)](t,e){const s=A;return new rt(t[s(161)](),e.speed,e.loop,e[s(564)])}toJSON(){const t=A;return{speed:this.speed,loop:this.loop,reverse:this[t(564)]}}}class ot{constructor(t,e){const s=A;this.elements=[],this[s(205)]=[],this[s(563)]=G[s(428)](t),this[s(311)]=e||this[s(491)](this.elementTypeID)}*[Symbol[A(395)]](){const t=A;let e=0;for(;e<this[t(308)]();)yield{element:this[t(452)][e],tValue:this.tValues[e]},e++}getElementCount(){const t=A;return this.elements[t(557)]}[A(327)](t){const e=A;if(t>=this[e(308)]())throw new Error(e(353));return this[e(452)][t]}[A(537)](t){const e=A;if(t>=this[e(308)]())throw new Error(e(232));return this[e(205)][t]}[A(429)](t,e){const s=A;this[s(452)].push(t),this[s(205)][s(253)](e)}[A(294)](t,e){const s=A;return this.interpolator(t,this[s(452)],this.tValues,e)}getInterpolatorForTypeID=function(){const t=A,s={lowerIndex:0,upperIndex:0,localT:0},n=new(e[t(216)]),i=new(e[t(338)]),r=new(e[t(493)]),o=new f,a=e=>(n,i,r,o)=>{const a=t;ot.getInterpolationValuesForTValue(r,n,s),e[a(412)](i[s[a(504)]])[a(506)](s[a(385)]),o.copy(i[s[a(144)]]).multiplyScalar(1-s[a(385)]).add(e)};return function(e){const c=t;switch(e){case G[c(145)]:return(t,e,n)=>{const i=c;return ot.getInterpolationValuesForTValue(n,t,s),(1-s[i(385)])*e[s[i(144)]]+s[i(385)]*e[s[i(504)]]};case G[c(216)]:return a(n);case G[c(338)]:return a(i);case G[c(493)]:return a(r);case G[c(278)]:return a(o)}}}();static[A(527)](t,e,s){const n=A,i=t[n(557)];if(0===i)return s.lowerIndex=-1,s[n(504)]=-1,void(s[n(385)]=-1);let r=0,o=-1,a=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)o++,a++;s[n(144)]=M[n(313)](o,0,i-1),s[n(504)]=M[n(313)](a,0,i-1);const c=t[o],h=t[a];s.localT=(e-c)/(h-c)}}class at extends V{constructor(t,e=!1){const s=A;super(),this[s(546)]=e,this[s(601)]=new ot(t)}addElement(t,e){const s=A;this[s(601)][s(429)](t,e)}[A(228)](t){const e=A;for(const s of t)this[e(601)][e(429)](s[0],s[1])}[A(336)](t,e){const s=A;for(const n of e){const[...e]=n[0];this[s(601)][s(429)](new t(...e),n[1])}}[A(255)](t,e){const s=A;let n=0;switch(t[s(410)]){case F[s(227)]:n=0!=t.lifetime?t[s(405)]/t[s(280)]:t[s(405)];break;case F[s(344)]:n=t[s(355)].x/t[s(355)].w}return this[s(601)].getInterpolatedElement(n,e)}}class ct extends at{constructor(t=!1){super(0,t)}[A(135)](t){super[A(228)](t)}updateState(t){const e=A;return this[e(546)]?t[e(219)]=t[e(488)]*this.getInterpolatedValue(t,t[e(219)]):t[e(219)]=this[e(255)](t,t[e(219)]),!0}static fromJSON(t,e){return new ct(e[A(546)])}[A(534)](){const t=A;return{params:{relativeToInitialValue:this[t(546)]},elements:[...this[t(601)]].map((e=>[e.element,e[t(288)]]))}}}class ht extends at{constructor(t=!1){super(e[A(216)],t)}[A(135)](t){const s=A;super[s(336)](e[s(216)],t)}updateState=function(){const t=new n;return function(e){const s=q;return this.getInterpolatedValue(e,t),this[s(546)]?e[s(482)][s(483)](e[s(153)].x*t.x,e[s(153)].y*t.y):e.size[s(412)](t),!0}}();static fromJSON(t,e){return new ht(e[A(546)])}[A(534)](){const t=A;return{params:{relativeToInitialValue:this[t(546)]},elements:[...this[t(601)]].map((e=>[e[t(612)][t(479)](),e[t(288)]]))}}}class lt extends at{constructor(t=!1){super(f,t)}[A(135)](t){const s=A;super[s(336)](e[s(278)],t)}updateState=function(){const t=new f;return function(e){const s=q;return this[s(255)](e,t),this[s(546)]?e[s(266)][s(302)](e[s(392)].r*t.r,e[s(392)].g*t.g,e[s(392)].b*t.b):e.color[s(412)](t),!0}}();static[A(383)](t,e){return new lt(e[A(546)])}toJSON(){const t=A;return{params:{relativeToInitialValue:this[t(546)]},elements:[...this[t(601)]][t(508)]((e=>[e[t(612)].toArray(),e.tValue]))}}}class ut extends V{constructor(t){const e=A;super(),this[e(351)]=t[e(533)]()}[A(135)](t){const e=A;super[e(336)](THREE[e(338)],t)}[A(127)](t){const e=A;return this[e(351)][e(258)](t[e(531)]),!0}static[A(383)](t,e){const s=A,n=e[s(351)].type[s(383)](e[s(351)][s(524)]);return new ut(n)}[A(534)](t){return{generator:this[A(351)].toJSON(t)}}}class pt extends H{constructor(t,n,i,r,o,a,c,h,l,u,p,f){const m=A;super(e[m(338)]),this[m(579)]=t,this.offsetTheta=n,this[m(582)]=i,this.offsetPhi=r,this[m(301)]=o,this.offsetRadius=a,this[m(138)]=c,this.scaleY=h,this[m(376)]=l,this.offsetX=u,this[m(345)]=p,this.offsetZ=f,this[m(126)]=(new s).set(0,1,0)}[A(258)](t){const e=A;this[e(126)][e(483)](0,1,0);const s=Math[e(242)]()*this[e(579)]+this[e(249)],n=Math[e(242)]()*this[e(582)]+this.offsetPhi,i=Math.cos(s),r=Math[e(305)](s),o=Math.cos(n),a=Math.sin(n);t[e(483)](i,0,-r),t[e(506)](o),this[e(126)][e(506)](a),t[e(156)](this.tempUp),t[e(596)]();const c=Math[e(242)]()*this.rangeRadius+this[e(259)];t[e(506)](c),t.x*=this[e(138)],t.y*=this[e(167)],t.z*=this[e(376)],t.x+=this[e(605)],t.y+=this.offsetY,t.z+=this[e(363)]}[A(533)](){const t=A;return new pt(this[t(579)],this[t(249)],this[t(582)],this.offsetPhi,this.rangeRadius,this.offsetRadius,this[t(138)],this[t(167)],this[t(376)],this[t(605)],this[t(345)],this[t(363)])}static[A(383)](t){const e=A;return new pt(t.rangeTheta,t[e(249)],t[e(582)],t.offsetPhi,t.rangeRadius,t.offsetRadius,t[e(138)],t.scaleY,t[e(376)],t.offsetX,t[e(345)],t[e(363)])}[A(534)](t){const e=A;return{type:t[e(256)](pt),params:{rangeTheta:this.rangeTheta,offsetTheta:this[e(249)],rangePhi:this.rangePhi,offsetPhi:this[e(580)],rangeRadius:this[e(301)],offsetRadius:this[e(259)],scaleX:this[e(138)],scaleY:this[e(167)],scaleZ:this[e(376)],offsetX:this[e(605)],offsetY:this[e(345)],offsetZ:this[e(363)]}}}}class ft{constructor(){}}class mt extends ft{constructor(t,n,i,r,o,a,c=void 0){const h=A;super(),this[h(586)]=null,this[h(332)]=null,this[h(130)]=performance.now()/1e3,this[h(251)]=this.lastUpdateTime,this.lastPositionFlickerTime=this.lastUpdateTime,this.lastIntensityAdjuster=1,this[h(555)]=1,this[h(449)]=new s,this[h(466)]=new(e[h(338)]),this[h(166)]=1,this.intensityFlux=2,this[h(575)]=t,this[h(352)](t,n,i,r,o,a,c)}[A(352)](t,s,n,i,r,o,a=void 0){const c=A;this[c(586)]=new m,t[c(156)](this[c(586)]),i=i||new f,r=r||0,null!=o&&null!=o||(o=2);const h=!!a;return this[c(332)]=new(e[c(614)])(16777215,2,0,1),this[c(332)][c(266)][c(412)](i),this[c(332)][c(591)]=r,this[c(332)][c(337)]=o,this[c(332)][c(565)]=h,h&&(this[c(332)][c(473)].mapSize[c(538)]=a[c(437)]||512,this[c(332)][c(473)][c(437)].height=a.mapSize||512,this[c(332)][c(473)][c(215)][c(148)]=a[c(457)]||.5,this[c(332)][c(473)][c(215)].far=a[c(416)]||500,this[c(332)][c(473)][c(279)]=a[c(279)]||1e-4,this[c(332)][c(473)].radius=a.edgeRadius||1),this.owner[c(156)](this.light),this[c(166)]=s,this.intensityFlux=n,this.light}dispose(){const t=A;this.parent[t(159)](this.owner)}getLight(){return this.light}[A(128)](t){this.intensity=t}[A(220)](t){const e=A,s=t-this.lastIntensityFlickerTime,n=1/8,i=this[e(177)];if(s>n){this[e(251)]=t;let s=1+2*(Math[e(242)]()-.5)*i*n;const r=s-this[e(282)];s=this.lastIntensityAdjuster+r,this[e(282)]=this.nextIntensityAdjuster,this.nextIntensityAdjuster=M[e(313)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(282)]+t*this[e(555)];this[e(332)][e(166)]=i*this[e(166)]}if(t-this[e(484)]>.0625){this.lastPositionFlickerTime=t;const s=t-this[e(130)];this[e(466)][e(483)](Math[e(242)]()-.5,Math.random()-.5,Math[e(242)]()-.5),this[e(466)][e(506)](s),this[e(466)].add(this[e(449)]),this.positionAdjuster[e(506)](.5),this[e(586)][e(173)].copy(this.positionAdjuster),this.lastPositionAdjuster[e(412)](this[e(466)]),this.lastUpdateTime=t}}}class dt{constructor(){const t=A;this[t(492)]={default:{}},this[t(329)]={},this.typeIDGen=0}addType(t,e){const s=A;this.addTypeToNamespace(s(560),t,e)}[A(235)](t,e,s){const n=A;if(!this[n(492)][t])throw new Error(n(250));if(this.jsonTypes[t][e])throw new Error(n(240));this[n(460)](s,e,t)&&(this[n(492)][t][e]=s)}[A(158)](t,e){const s=A;if(this[s(492)][t])throw new Error(s(539));this.jsonTypes[t]=e;for(const n in e)if(!e[s(186)]||e[s(186)](n)){const i=e[n];this[s(460)](i,n,t)}}[A(460)](t,e,s){const n=A;if(typeof t===n(594)){const i=this[n(208)]++;t[n(608)]=i,this[n(329)][i]={namespace:s,typeName:e}}}[A(183)](t,e){const s=A;if(!this.jsonTypes[t])throw new Error(s(264));if(!this[s(492)][t][e])throw new Error(s(465));return this[s(492)][t][e]}[A(562)](t){const e=A;return this[e(329)][t[e(608)]]}getTypePath(t){const e=A,s=this[e(562)](t);if(s)return s[e(417)]+"."+s[e(495)]}parseNamespaceAndTypename(t){const e=A,s=t[e(398)]("."),n=s[0];s[e(149)](0,1);return{namespace:n,typeName:s[e(274)](".")}}[A(129)](t){const e=A,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(183)](s,n)}}function wt(t){function e(t){const s=q;if(typeof t===s(225))return function(t){}[s(393)]("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(s(424)+s(237))[s(339)]("action"):function(){return!1}[s(393)](s(424)+s(237)).apply(s(236)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const gt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:ut,AnimatedSpriteRenderer:J,Atlas:W,BaseParticleStateInitializer:O,BaseParticleStateOperator:C,BoxPositionInitializer:et,ColorInterpolatorOperator:lt,ConstantParticleEmitter:k,FlickerLight:mt,JSONTypeStore:dt,LifetimeInitializer:K,Manager:X,OpacityInterpolatorOperator:ct,ParticleStateArray:b,ParticleSystem:U,ParticleSystemState:B,RandomGenerator:$,RandomVelocityInitializer:nt,Renderer:Y,RotationInitializer:Q,RotationalSpeedInitializer:tt,SequenceInitializer:it,SequenceOperator:rt,SizeInitializer:st,SizeInterpolatorOperator:ht,SphereRandomGenerator:pt},Symbol.toStringTag,{value:"Module"}));!function(t,e){const s=xt,n=yt();for(;;)try{if(529225===-parseInt(s(293))/1*(-parseInt(s(273))/2)+parseInt(s(298))/3*(-parseInt(s(263))/4)+parseInt(s(284))/5*(parseInt(s(253))/6)+parseInt(s(316))/7+-parseInt(s(264))/8+-parseInt(s(321))/9+-parseInt(s(287))/10*(parseInt(s(300))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const St=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[xt(324)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function yt(){const t=["table","constructor","Vector3","addParticleSystem","3WirWcX","position","143RYZIwg","test","JSONTypeStore","Vector2","copy","addNamespace","prototype","length","while (true) {}","update","__proto__","getParticleSequences","RandomVelocityInitializer","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","AccelerationOperator","2543744yfgCmX","counter","Photons","start","OpacityInterpolatorOperator","6068529FIzLdS","ParticleSystem","function *\\( *\\)","apply","LifetimeInitializer","render","load","addElementsFromParameters","setRGB","SphereRandomGenerator","setSimulateInWorldSpace","action","log","addElements","7836VREpZw","RandomGenerator","addParticleSequence","RotationInitializer","Atlas","RotationalSpeedInitializer","debu","Object3D","stateObject","addParticleStateInitializer","924788eRrEhu","13440NryuzI","SequenceOperator","scale","gger","AnimatedSpriteRenderer","setEmitter","THREE",'{}.constructor("return this")( )',"string","64iaDqAR","addFrameSet","chain","info","SequenceInitializer","SizeInitializer","SizeInterpolatorOperator","init","bind","BoxPositionInitializer","ConstantParticleEmitter","3845WORrRw","value","add","251590xSVERp","return (function() ","TextureLoader","console","ColorInterpolatorOperator","addParticleStateOperator","12367znZiEZ"];return(yt=function(){return t})()}!function(){St(this,(function(){const t=xt,e=new RegExp(t(323)),s=new RegExp(t(313),"i"),n=Pt(t(280));e[t(301)](n+t(275))&&s[t(301)](n+"input")?Pt():n("0")}))()}();const vt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[xt(324)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function xt(t,e){const s=yt();return xt=function(t,e){return s[t-=250]},xt(t,e)}vt(void 0,(function(){const t=xt;let e;try{e=Function(t(288)+t(271)+");")()}catch(i){e=window}const s=e.console=e[t(290)]||{},n=[t(251),"warn",t(276),"error","exception",t(294),"trace"];for(let r=0;r<n[t(307)];r++){const e=vt.constructor[t(306)][t(281)](vt),i=n[r],o=s[i]||e;e[t(310)]=vt.bind(vt),e.toString=o[t(314)][t(281)](o),s[i]=e}}))();const It=g({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const i=xt,r=t,o=new X,a=new(gt[i(302)]);a[i(305)](i(270),e),a[i(305)](i(318),gt);const{renderer:c,camera:h,scene:l}=d(),u=new s(...r[i(299)]);o.addParticleSystem(((t,s)=>{const n=i,r=new m;r[n(299)].copy(s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new(e[n(289)]))[n(327)](o),h=new(gt[n(257)])(a,o);h.addFrameSet(1,0,0,1,1);const l=new(gt[n(268)])(!0,h,!0,p),u=new(gt[n(322)])(r,l,c[n(285)]);u[n(280)](150),u[n(269)](new(gt[n(283)])(6));const f=new $(e[n(303)],new(e[n(303)])(0,0),new(e[n(303)])(.15*t,.15*t),0,0,!1);u[n(262)](new(gt[n(325)])(3,1,0,0,!1)),u[n(262)](new(gt[n(278)])(f)),u[n(262)](new(gt[n(282)])(new(e[n(296)])(.05*t,0,.05*t),new(e[n(296)])(-.025*t,0,-.025*t))),u[n(262)](new(gt[n(312)])(new(e[n(296)])(.4*t,.5*t,.4*t),new(e[n(296)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));u[n(292)](new(gt[n(320)]))[n(252)]([[0,0],[.7,.25],[.9,.75],[0,1]]);u[n(292)](new(gt[n(291)])(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const d=new(gt[n(330)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return u[n(292)](new ut(d)),u[n(331)](!0),u[n(319)](),u})(r.scale,u)),o[i(297)](((t,r)=>{const o=i,a=new(e[o(260)]);a[o(299)][o(304)](r);const h="./plugins/digitalCity/image/fireF/base_flame.png",l=(new(e[o(289)]))[o(327)](h),u=new(gt[o(257)])(l,h);u.addFrameSet(18,0,0,.125,.25);const p=new J(!0,u,!0),f=new(gt[o(322)])(a,p,c[o(285)]);f[o(280)](50),f.setEmitter(new(gt[o(283)])(10)),f[o(255)](0,18);const m=f.getParticleSequences();f[o(262)](new(gt[o(325)])(0,0,0,0,!1)),f[o(262)](new Q(new(gt[o(254)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),f[o(262)](new(gt[o(258)])(1,-1,0,0,!1)),f[o(262)](new st(new(gt[o(254)])(n,new n(.25*t,.25*t),new(e[o(303)])(.5*t,.5*t),0,0,!1))),f[o(262)](new et(new s(.05*t,0,.05*t),new(e[o(296)])(-.025*t,0,-.025*t))),f[o(262)](new(gt[o(312)])(new(e[o(296)])(.05*t,.4*t,.05*t),new(e[o(296)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),f.addParticleStateInitializer(new(gt[o(277)])(m)),f[o(292)](new rt(m,.07,!1));f[o(292)](new(gt[o(320)])).addElements([[0,0],[.3,.25],[.3,.5],[0,1]]);f.addParticleStateOperator(new(gt[o(279)])(!0))[o(328)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return f.addParticleStateOperator(new(gt[o(291)])(!0))[o(328)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),f.addParticleStateOperator(new(gt[o(315)])(new $(s,new(e[o(296)])(0,0,0),new(e[o(296)])(0,1.5*t,0),0,0,!1))),f.setSimulateInWorldSpace(!0),f[o(319)](),f})(r.scale,u)),o[i(297)](((t,n)=>{const r=i,o=new(e[r(260)]);o[r(299)][r(304)](n);const a="./plugins/digitalCity/image/fireF/bright_flame.png",h=(new(e[r(289)]))[r(327)](a),l=new(gt[r(257)])(h,a);l[r(274)](16,0,0,212/1024,.25);const u=new(gt[r(268)])(!0,l,!0),p=new(gt[r(322)])(o,u,c[r(285)]);p[r(280)](20),p[r(269)](new(gt[r(283)])(5)),p[r(255)](0,16);const f=p[r(311)]();p[r(262)](new(gt[r(325)])(0,0,0,0,!1)),p[r(262)](new(gt[r(256)])(new(gt[r(254)])(0,Math.PI,-Math.PI/2,0,0,!1))),p[r(262)](new(gt[r(258)])(Math.PI/2,-Math.PI/4,0,0,!1)),p[r(262)](new st(new(gt[r(254)])(e[r(303)],new(e[r(303)])(0,0),new(e[r(303)])(0,0),.2*t,.65*t,!1))),p[r(262)](new(gt[r(282)])(new s(.1*t,0,.1*t),new(e[r(296)])(-.05*t,0,-.05*t))),p[r(262)](new(gt[r(312)])(new(e[r(296)])(.02*t,.4*t,.02*t),new(e[r(296)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),p[r(262)](new it(f)),p[r(292)](new(gt[r(265)])(f,.1,!1));p.addParticleStateOperator(new(gt[r(320)]))[r(252)]([[0,0],[.6,.2],[.5,.75],[0,1]]);p[r(292)](new(gt[r(279)])(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return p.addParticleStateOperator(new(gt[r(291)])(!0))[r(328)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),p[r(292)](new(gt[r(315)])(new(gt[r(254)])(e[r(296)],new s(0,0,0),new(e[r(296)])(0,1.5*t,0),0,0,!1))),p.setSimulateInWorldSpace(!0),p[r(319)](),p})(r[i(266)],u)),o.addComponent(((t,s=10)=>{const n=i,r=new(e[n(260)]);l[n(285)][n(286)](r),r[n(299)][n(304)](t);return new mt(r,s,2,(new f)[n(329)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(u,100));const{onBeforeLoop:g}=w();return g((()=>{const t=i;o[t(309)](),o[t(326)](c.value,h[t(285)])})),(t,e)=>null}});function Pt(t){function e(t){const s=xt;if(typeof t===s(272))return function(t){}.constructor(s(308))[s(324)](s(317));1!==(""+t/t).length||t%20==0?function(){return!0}[s(295)](s(259)+"gger").call(s(250)):function(){return!1}[s(295)](s(259)+s(267)).apply(s(261)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const At=bt;function Ft(){const t=["stateObject","perspectiveCameraRef","value","position","4675828fRFTaL",'{}.constructor("return this")( )',"bind","console","__proto__","7bfXjWp","10964120usUFBu","toString","input","log","2HrHCTT","set","$refs","9022194xYAYLh","constructor","test","length","2157555XyFDyc","43784ZXwYcA","4703574YHhfYq","debu","pagesShowRef","1582347DarctN","function *\\( *\\)","return (function() ","tcRef","camera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","apply","info","while (true) {}","trace","fireF","counter","init"];return(Ft=function(){return t})()}!function(t,e){const s=bt,n=Ft();for(;;)try{if(700923===parseInt(s(409))/1+-parseInt(s(401))/2*(parseInt(s(413))/3)+parseInt(s(431))/4+parseInt(s(408))/5+-parseInt(s(410))/6+-parseInt(s(396))/7*(-parseInt(s(397))/8)+-parseInt(s(404))/9)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Tt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function bt(t,e){const s=Ft();return bt=function(t,e){return s[t-=395]},bt(t,e)}!function(){Tt(this,(function(){const t=bt,e=new RegExp(t(414)),s=new RegExp(t(418),"i"),n=Et(t(426));e[t(406)](n+"chain")&&s[t(406)](n+t(399))?Et():n("0")}))()}();const Rt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[bt(420)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Rt(void 0,(function(){const t=bt,e=function(){const t=bt;let e;try{e=Function(t(415)+t(432)+");")()}catch(s){e=window}return e}(),s=e[t(434)]=e[t(434)]||{},n=[t(400),"warn",t(421),"error","exception","table",t(423)];for(let i=0;i<n[t(407)];i++){const e=Rt[t(405)].prototype[t(433)](Rt),r=n[i],o=s[r]||e;e[t(395)]=Rt.bind(Rt),e[t(398)]=o[t(398)][t(433)](o),s[r]=e}}))();const zt=g({__name:At(424),setup(e){const s=S();return y((()=>{const t=bt;s.value&&(s[t(429)].$refs[t(416)]?s[t(429)][t(403)][t(416)].context[t(417)][t(429)].position.set(580,360,500):s.value[t(403)][t(428)]&&s.value[t(403)][t(428)][t(430)][t(402)](580,360,500))})),(e,n)=>{const i=bt;return v(),x(t,{ref_key:i(412),ref:s},{ability:I((()=>[P(It,{position:[0,20,10],scale:40})])),_:1},512)}}});function Et(t){function e(t){const s=bt;if("string"==typeof t)return function(t){}[s(405)](s(422))[s(420)](s(425));1!==(""+t/t).length||t%20==0?function(){return!0}[s(405)]("debu"+s(419)).call("action"):function(){return!1}.constructor(s(411)+s(419))[s(420)](s(427)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{zt as default};
