import{a5 as M,ao as b,aH as C,aI as v,bm as l,aD as R,aL as k,aA as B,o as m,c as P,T as g,r as I,C as d,J as u,a as h,ag as G,ak as N,a1 as e}from"./vendor.n5mLuYaN1718275421844.js";import{R as j}from"./ReflectorMaterial.RbgxccA41718275421844.js";import{R as A}from"./Reflector.jSPkLa-21718275421844.js";import"./OimoPhysicsBuffer.b5DejoFC1718275421844.js";import{m as D}from"./BufferGeometryUtils.1V3G6ouX1718275421844.js";import"./dither.glsl.y2WXw1t-1718275421844.js";const S=["rotation-x","position","object"],V=M({__name:"sciFiModular",props:{position:{default:[0,-1,0]}},async setup(p){let o,n;const i=p,{scene:x}=b(),{nodes:w}=([o,n]=C(()=>v("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/floor/modelDraco.glb",{draco:!0,decoderPath:"./draco/"})),o=await o,n(),o),a=w.Cube016__0;console.log(a);const r=a.geometry,y=D([r.clone(),r.clone().applyMatrix4(new l().makeRotationZ(-Math.PI/2)),r.clone().applyMatrix4(new l().makeRotationZ(Math.PI/2)),r.clone().applyMatrix4(new l().makeRotationZ(-Math.PI))]),s=new A,c=new j({reflectivity:6,mirror:.1,mixStrength:3,color:new R("#fff"),map:a.material.map.clone(),normalMap:a.material.normalMap.clone(),normalScale:new k(1,1),fog:x.fog,dithering:!0});c.uniforms.tReflect=s.renderTargetUniform,c.uniforms.uMatrix=s.textureMatrixUniform;const t=new B(y,c);return t.add(s),t.onBeforeRender=(f,_,T)=>{t.visible=!1,s.update(f,_,T),t.visible=!0},(f,_)=>(m(),P("primitive",{"rotation-x":-Math.PI/2,position:i.position,object:g(t)},null,8,S))}}),Z=e("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1),F=e("TresAmbientLight",{intensity:10},null,-1),L=e("TresMesh",{position:[3,2,0]},[e("TresBoxGeometry",{args:[2,2,2]}),e("TresMeshNormalMaterial",{wireframe:!0})],-1),U=e("TresMesh",{position:[0,1.2,0]},[e("TresBoxGeometry",{args:[1,1,1]}),e("TresMeshNormalMaterial")],-1),O=M({__name:"showFloor",setup(p){return(o,n)=>{const i=I("TresCanvas");return m(),d(i,{clearColor:"#201919","window-size":""},{default:u(()=>[Z,h(g(G),{enableDamping:""}),F,L,U,(m(),d(N,null,{default:u(()=>[h(V,{position:[0,0,0]})]),_:1}))]),_:1})}}});export{O as default};
