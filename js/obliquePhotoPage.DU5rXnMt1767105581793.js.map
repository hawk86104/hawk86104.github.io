{"version":3,"file":"obliquePhotoPage.DU5rXnMt1767105581793.js","sources":["../../src/plugins/simpleGIS/pages/obliquePhotoPage.vue"],"sourcesContent":["<!--\n * @Description: \n * @Version: 1.668\n * @Autor: 地虎降天龙\n * @Date: 2025-08-28 09:23:48\n * @LastEditors: 地虎降天龙\n * @LastEditTime: 2025-09-01 11:43:22\n-->\n<template>\n    <TresCanvas v-bind=\"state\" window-size>\n        <TresPerspectiveCamera :position=\"[800, 800, 800]\" :fov=\"60\" :near=\"1\" :far=\"20000\" />\n        <OrbitControls />\n        <TresAmbientLight :intensity=\"1\" />\n        <TresDirectionalLight :position=\"[1, 2, 3]\" :intensity=\"1.25\" />\n        <TresAxesHelper :args=\"[100]\" />\n\n        <obliquePhoto v-bind=\"configState\" :rotation-x=\"configState.isRotation ? -Math.PI / 2 : 0\" />\n    </TresCanvas>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive, ref } from 'vue'\nimport * as THREE from 'three'\nimport { OrbitControls } from '@tresjs/cientos'\nimport { Pane } from 'tweakpane'\nimport obliquePhoto from '../components/obliquePhoto.vue'\nimport { is3DTilesetJson } from '../common/utils'\n\nconst state = {\n    clearColor: '#201919',\n    windowSize: true,\n    shadows: true,\n    toneMapping: THREE.ACESFilmicToneMapping,\n    toneMappingExposure: 1,\n    shadowMapType: THREE.PCFSoftShadowMap,\n}\n\nconst configState = reactive({\n    tilesUrl: `${\n        process.env.NODE_ENV === 'development' ? 'resource.cos' : 'https://opensource.cdn.icegl.cn'\n    }/3Dtiles/simpleGIS/TilesetWithDiscreteLOD/tileset.json`,\n    isRotation: true,\n    isRranslation: true,\n})\nconst tilesUrl = ref(configState.tilesUrl)\nconst paneControl = new Pane()\npaneControl.addBinding(tilesUrl, 'value', { label: 'tiles地址' })\nconst btn = paneControl.addButton({\n    title: '应用',\n    label: '从url读取tiles',\n})\nbtn.on('click', () => {\n    if (tilesUrl.value === configState.tilesUrl) {\n        return\n    }\n    paneControl.disabled = true\n    is3DTilesetJson(tilesUrl.value).then((isValid) => {\n        if (isValid) {\n            configState.tilesUrl = tilesUrl.value\n        } else {\n            alert('这不是一个有效的3D Tiles地址')\n        }\n        paneControl.disabled = false\n    })\n})\n\npaneControl.addBinding(configState, 'isRotation', { label: '地心旋转' })\npaneControl.addBinding(configState, 'isRranslation', { label: '居中展示' })\n</script>\n"],"names":["OrbitControls","obliquePhoto"],"mappings":"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"}