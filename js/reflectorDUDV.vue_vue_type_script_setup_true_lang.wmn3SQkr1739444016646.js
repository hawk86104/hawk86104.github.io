import{c7 as t,a3 as n,r as e,s as r}from"./three.W6GmiHfn1739444016646.js";import{a as o}from"./@tresjs.Q4_KYO2a1739444016646.js";import{R as s,b as c}from"./all.three.jD4iRnJs1739444016646.js";import{d as i,a3 as a,a2 as u,w as l,o as f,H as p,N as m,u as d}from"./@vue.NRI7TcgI1739444016646.js";const g=v;!function(t,n){const e=v,r=w();for(;;)try{if(373741===parseInt(e(155))/1*(-parseInt(e(194))/2)+-parseInt(e(162))/3*(-parseInt(e(198))/4)+-parseInt(e(178))/5+parseInt(e(174))/6+-parseInt(e(148))/7*(-parseInt(e(175))/8)+-parseInt(e(166))/9+parseInt(e(189))/10*(parseInt(e(183))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function w(){const t=["set","1006170EVecHY","1838536bYAKWV","trace","apply","1655635WxbtEK","uMatrix","log","tReflect","prototype","5740438sOTUgx","uniforms","__proto__","texture","debu","textureMatrixUniform","10ZmRngV","info","value","call","uReflectivity","7678sFwCss","tReflectBlur","ignoreObjects","bind","738548aabYrD","constructor","visible","reflectorDUDV","length","size","rotation","reflectivity","mapUrl","showGridHelper","7IlACVL","input","update","while (true) {}","stateObject","object","renderTarget","20xDlLUR","console","isMesh","wrapS","renderTargetUniform","repeat","exception","9mGgACI","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","toString","6224697OEFIXx","table","primitive","function *\\( *\\)","add","forEach","error"];return(w=function(){return t})()}!function(){h(this,(function(){const t=v,n=new RegExp(t(169)),e=new RegExp(t(163),"i"),r=R("init");n.test(r+"chain")&&e[t(164)](r+t(149))?R():r("0")}))()}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(177)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function v(t,n){const e=w();return(v=function(t,n){return e[t-=143]})(t,n)}b(void 0,(function(){const t=v;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(156)]=n.console||{},r=[t(180),"warn",t(190),t(172),t(161),t(167),t(176)];for(let s=0;s<r[t(202)];s++){const n=b[t(199)][t(182)].bind(b),o=r[s],c=e[o]||n;n[t(185)]=b[t(197)](b),n[t(165)]=c[t(165)][t(197)](c),e[o]=n}}))();const I=["scale"],x=[g(153)],y=["object"],j=i({__name:g(201),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:h}){const w=g;let b,v;const j=i,R=new s,_=new t(j[w(143)][0]-.5,j[w(143)][1]);_[w(200)]=j[w(147)];const{map:U}=([b,v]=a((()=>o({map:j[w(146)]}))),b=await b,v(),b);U[w(158)]=n,U.wrapT=n,U[w(160)][w(173)](6,3);const E=new c({map:U,reflectivity:j[w(145)]});E.uniforms[w(181)]={value:R[w(154)][w(186)]},E.uniforms[w(195)]=R[w(159)],E[w(184)][w(179)]=R[w(188)];const A=new e(new r(j[w(143)][0],j[w(143)][1]),E);return A[w(144)].x=-Math.PI/2,A[w(170)](R),A.onBeforeRender=(t,n,e)=>{const r=w;A[r(200)]=!1,j[r(196)][r(171)]((t=>{const n=r;t[n(157)]&&(t[n(200)]=!1),t.value&&t[n(191)][n(157)]&&(t.value[n(200)]=!1)})),R[r(150)](t,n,e),j[r(196)][r(171)]((t=>{const n=r;t[n(157)]&&(t.visible=!0),t[n(191)]&&t.value.isMesh&&(t.value[n(200)]=!0)})),A[r(200)]=!0},u((()=>{const t=w;j[t(145)]&&(E[t(184)][t(193)][t(191)]=j[t(145)])})),l((()=>j[w(147)]),(t=>{_[w(200)]=t})),h({reflector:R}),(t,n)=>{const e=w;return f(),p("TresGroup",{scale:j.scale},[m(e(168),{object:d(A),"position-y":-.01},null,8,x),m("primitive",{object:d(_)},null,8,y)],8,I)}}});function R(t){function n(t){const e=v;if("string"==typeof t)return function(t){}.constructor(e(151))[e(177)]("counter");1!==(""+t/t)[e(202)]||t%20==0?function(){return!0}.constructor(e(187)+"gger")[e(192)]("action"):function(){return!1}[e(199)](e(187)+"gger")[e(177)](e(152)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{j as _};
