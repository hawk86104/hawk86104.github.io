import{P as t}from"./tweakpane.yHWGBmom1736160428509.js";import{_ as n,l as e,b as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.zh3Kqdjn1736160428509.js";import{_ as r}from"./heatmap.js-fix.pp862QkC1736160428509.js";import{h as i,_ as c,cy as s,M as u,m as a}from"./three.rmsIv-u_1736160428509.js";import{r as p}from"./utils.uYnyhpg91736160428509.js";import{d as f}from"./pinia.F-Vnosig1736160428509.js";import{b as l,d as h,a1 as d,o as m,D as g,J as y,u as v,F as b,q as w,U as I,N as _,P as j,H as x,L as B,a6 as M,r as E,j as R,g as S,m as D}from"./@vue.4u_eOGex1736160428509.js";import{c as Z,d as A,a as O}from"./three-mesh-bvh.dI06GwOp1736160428509.js";import{_ as z}from"./@fesjs.pVksQyts1736160428509.js";import"./@tresjs.8MtVPQyb1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./three-custom-shader-material._2dHD2wr1736160428509.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736160428509.js";import"./@amap.uuGbEc9W1736160428509.js";import"./vue-demi.C4xddsk91736160428509.js";import"./vue-router.jVp56Lac1736160428509.js";import"./lodash-es.kYt-_xTG1736160428509.js";import"./@qlin.yHhFDldE1736160428509.js";import"./@floating-ui.BPbuo5Gx1736160428509.js";import"./@juggle.7yjBMqoW1736160428509.js";!function(t,n){const e=k,o=P();for(;;)try{if(102336===parseInt(e(429))/1+parseInt(e(454))/2+-parseInt(e(443))/3*(parseInt(e(450))/4)+parseInt(e(452))/5*(parseInt(e(447))/6)+parseInt(e(411))/7+parseInt(e(428))/8+parseInt(e(440))/9*(-parseInt(e(458))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(444)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=k,n=new RegExp(t(448)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(t(432));n[t(423)](o+t(415))&&e[t(423)](o+t(418))?H():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(444)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(t,n){const e=P();return(k=function(t,n){return e[t-=405]})(t,n)}function P(){const t=["rgb(0,0,255)","534842QBYRBw","display","body","style","chain","absolute","randInt","input","exception","error","length","_config","test","rgb(255,0,0)","action","left","setData","699880pWscUR","203146BwMXEL","debu","getValueAt","init","width","trace","warn","log","heatmap-canvas","position","constructor","1841184lQgBWV","toString","prototype","9BjYBcG","apply","none","counter","78CHBHsu","function *\\( *\\)","yellow","73416FeaGfK",'{}.constructor("return this")( )',"17095UGjOlX","stateObject","310132OdLBBb","appendChild","string","height","20csxwHU","gger","push","console","bind","__proto__"];return(P=function(){return t})()}U(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function("return (function() "+t(451)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(407)]||{},o=[t(436),t(435),"info",t(420),t(419),"table",t(434)];for(let r=0;r<o[t(421)];r++){const n=U[t(439)][t(442)][t(408)](U),i=o[r],c=e[i]||n;n[t(409)]=U[t(408)](U),n[t(441)]=c.toString[t(408)](c),e[i]=n}}))();const G=(t,n)=>t[k(431)](n)+-10;function H(t){function n(t){const e=k;if(typeof t===e(456))return function(t){}.constructor("while (true) {}").apply(e(446));1!==(""+t/t)[e(421)]||t%20==0?function(){return!0}[e(439)](e(430)+e(405)).call(e(425)):function(){return!1}[e(439)](e(430)+"gger")[e(444)](e(453)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=C,o=$();for(;;)try{if(621091===-parseInt(e(199))/1*(parseInt(e(210))/2)+parseInt(e(201))/3+parseInt(e(220))/4*(-parseInt(e(217))/5)+-parseInt(e(205))/6*(-parseInt(e(215))/7)+-parseInt(e(216))/8*(parseInt(e(234))/9)+parseInt(e(232))/10*(-parseInt(e(238))/11)+-parseInt(e(208))/12*(-parseInt(e(228))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(214)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=C,n=new RegExp(t(203)),e=new RegExp(t(229),"i"),o=X(t(206));n[t(204)](o+t(221))&&e[t(204)](o+t(225))?X():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(){const t=["24066Ejukqs","debu","constructor","counter","26477bjRZej","return (function() ","1iEqGvo","action","2070828bFjUUj",'{}.constructor("return this")( )',"function *\\( *\\)","test","7002QBnZRx","init","trace","9097332wMCZKc","string","2179234gRetQF","stateObject","warn","toString","apply","3885nzBAvJ","64bFmKkV","1230DaIsCN","table","console","11944iXkFaG","chain","info","while (true) {}","log","input","bind","__proto__","26cXjawQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","length","1610KOJmDs","prototype"];return($=function(){return t})()}function C(t,n){const e=$();return(C=function(t,n){return e[t-=198]})(t,n)}L(void 0,(function(){const t=C;let n;try{n=Function(t(198)+t(202)+");")()}catch(r){n=window}const e=n[t(219)]=n[t(219)]||{},o=[t(224),t(212),t(222),"error","exception",t(218),t(207)];for(let i=0;i<o[t(231)];i++){const n=L.constructor[t(233)].bind(L),r=o[i],c=e[r]||n;n[t(227)]=L[t(226)](L),n[t(213)]=c.toString[t(226)](c),e[r]=n}}))();const Q=f("buildingsHeatmap",(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n.value=t}}}));function X(t){function n(t){const e=C;if(typeof t===e(209))return function(t){}[e(236)](e(223))[e(214)](e(237));1!==(""+t/t).length||t%20==0?function(){return!0}[e(236)](e(235)+"gger")[e(230)](e(200)):function(){return!1}.constructor(e(235)+"gger")[e(214)](e(211)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=J;!function(t,n){const e=J,o=Y();for(;;)try{if(732388===parseInt(e(466))/1+parseInt(e(471))/2+-parseInt(e(413))/3+parseInt(e(426))/4+-parseInt(e(468))/5+-parseInt(e(439))/6*(-parseInt(e(419))/7)+-parseInt(e(445))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(444)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=J,n=new RegExp(t(424)),e=new RegExp(t(453),"i"),o=nt(t(462));n[t(428)](o+"chain")&&e[t(428)](o+t(449))?nt():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=J;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(470)]=n[t(470)]||{},o=[t(425),"warn",t(450),t(438),t(447),"table",t(455)];for(let i=0;i<o.length;i++){const n=N[t(448)][t(429)][t(432)](N),r=o[i],c=e[r]||n;n.__proto__=N[t(432)](N),n[t(461)]=c.toString.bind(c),e[r]=n}}))();const V=["object",q(422)],W=[q(472)];function Y(){const t=["apply","614776khHKGp","disposeBoundsTree","exception","constructor","input","info","applyMatrix4","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","normal","trace","geometry","clone","computeBoundsTree","length","canvas","toString","init","action","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","_config","210832fFYiZp","width","4188880fWNjmI","Mesh","console","728026nUqzAj","object","makeRotationX","debu","DoubleSide","opacity","matrix","1411194CcHmlB","数值：","height","string","buildingsHeatmap","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","2814154PbgQsq","call","children","rotation-x","BufferGeometry","function *\\( *\\)","log","2954080QOnapN","setTemperature","test","prototype","needsUpdate","attributes","bind","primitive","uOpacity","_renderer","$patch","counter","error","12ZijjlX","Texture","model","while (true) {}","raycast"];return(Y=function(){return t})()}function J(t,n){const e=Y();return(J=function(t,n){return e[t-=408]})(t,n)}const tt=h({__name:q(417),props:{model:{},opacity:{default:1}},setup(t){const n=q;(()=>{const t=J;c[t(423)][t(429)][t(458)]=Z,c[t(423)].prototype[t(446)]=A,c[t(469)][t(429)][t(443)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=k,i=document.createElement(o(437));return i.style[o(438)]=o(416),!e&&(i[o(414)][o(412)]=o(445)),i[o(414)].top="0",i[o(414)][o(426)]="0",document[o(413)][o(455)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(410),.55:"rgb(0,255,0)",.85:o(449),1:o(424)}})})();((t,n)=>{const e=k;if(!n){let o=0;for(n=[];o<1e3;)n[e(406)]({x:i.randInt(1,t[e(422)][e(433)]),y:i[e(417)](1,t[e(422)][e(457)]),value:i.randInt(-10,36)}),o++}t[e(427)]({max:36,min:-10,data:n})})(o);const f=new(c[n(440)])(o[n(435)][n(460)]);f[n(430)]=!0;const l=e[n(441)].city[n(457)]();delete l[n(456)][n(431)][n(454)],delete l[n(456)][n(431)].uv;const h=l.geometry[n(457)]()[n(451)](l[n(412)]),w=e[n(441)].land.clone();delete w[n(456)].attributes[n(454)];const I=w[n(456)][n(457)]().applyMatrix4(w[n(412)]),_=s([h,I]);_.applyMatrix4((new u)[n(408)](Math.PI/2)),p(_),_[n(458)]();const j=(t=>{const o=n;return new a({vertexShader:o(464),fragmentShader:o(418),uniforms:{uOpacity:{value:e[o(411)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(410)]})})(f),x=new(c[n(469)])(_,j);d((()=>{const t=n;e[t(411)]&&(j.uniforms[t(434)].value=e.opacity)}));const B=Q(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(465)][e(467)],y:(1-t.uv.y)*o[e(465)][e(415)]};console[e(425)](e(414),t),console[e(425)]("数值———：",G(o,n)),B[e(427)](G(o,n))}},E=t=>{t&&B[n(436)]({showDiv:!0})},R=t=>{t&&B.setShowDiv(!1)};return(t,o)=>{const r=n;return m(),g(b,null,[y(r(433),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:E,onPointerLeave:R},null,40,V),y(r(433),{object:e[r(441)].model[r(421)][0][r(457)]()},null,8,W)],64)}}});function nt(t){function n(t){const e=J;if(typeof t===e(416))return function(t){}[e(448)](e(442))[e(444)](e(437));1!==(""+t/t)[e(459)]||t%20==0?function(){return!0}[e(448)](e(409)+e(452))[e(420)](e(463)):function(){return!1}.constructor("debu"+e(452))[e(444)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=z({__name:"dataDiv",setup(t){const n=Q(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:B(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=st;!function(t,n){const e=st,o=ct();for(;;)try{if(618899===-parseInt(e(521))/1+-parseInt(e(528))/2+-parseInt(e(533))/3*(parseInt(e(496))/4)+parseInt(e(507))/5+-parseInt(e(527))/6+parseInt(e(508))/7*(parseInt(e(531))/8)+parseInt(e(489))/9*(parseInt(e(512))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=st,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(503),"i"),o=at(t(502));n[t(504)](o+t(513))&&e.test(o+t(510))?at():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["7LzfdRL","apply","input","stateObject","74810MgDcnc","chain","#000","toString","string","value","length","action","counter","1111458KdnYhm","trace","constructor","heatmap2","透明度","opacity","5180340dmEOSA","958986VzPtxo","model","__proto__","551288Hysdun","call","735stZNAZ","2304GhDyiG","while (true) {}","return (function() ","exception","info","table","city","280mkcKaK","addBinding","gger","bind","debu","builds","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test",'{}.constructor("return this")( )',"console","5531715tlPrrK"];return(ct=function(){return t})()}function st(t,n){const e=ct();return(st=function(t,n){return e[t-=489]})(t,n)}it(void 0,(function(){const t=st,n=function(){const t=st;let n;try{n=Function(t(491)+t(505)+");")()}catch(e){n=window}return n}(),e=n[t(506)]=n[t(506)]||{},o=["log","warn",t(493),"error",t(492),t(494),t(522)];for(let r=0;r<o[t(518)];r++){const n=it.constructor.prototype[t(499)](it),i=o[r],c=e[i]||n;n[t(530)]=it.bind(it),n.toString=c[t(515)][t(499)](c),e[i]=n}}))();const ut=h({__name:ot(524),async setup(r){const i=ot;let c,s;const u=l(!1),a=([c,s]=M((()=>e())),c=await c,s(),c);u[i(517)]=!0;const p=E({width:1,color:i(514),opacity:1,show:!0}),f=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(497)](f,i(526),{label:i(525),min:0,max:1,step:.1}),(t,e)=>{const r=i;return m(),g(b,null,[R(n,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[R(tt,D({model:v(a)},f),null,16,[r(529)]),R(o,D(p,{builds:v(a)[r(495)]}),null,16,[r(501)])])),_:1}),R(et)],64)}}});function at(t){function n(t){const e=st;if(typeof t===e(516))return function(t){}[e(523)](e(490))[e(509)](e(520));1!==(""+t/t)[e(518)]||t%20==0?function(){return!0}[e(523)](e(500)+"gger")[e(532)](e(519)):function(){return!1}[e(523)](e(500)+e(498)).apply(e(511)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
