import{U as t,Y as e}from"./@tresjs.IsKybBdF1729505164040.js";import{l as n}from"./utils.VE4qwlzk1729505164040.js";import{ac as o,B as r,s,cK as a}from"./three.YREzp-_G1729505164040.js";import{m as i}from"./d3-geo.I0tceexv1729505164040.js";import{a4 as c,b as u,a3 as l,o as p,E as f,F as d,W as m,L as h,d as y,r as j,e as g,f as b,g as v,j as w,aj as x,ak as _,u as E,al as T,m as I}from"./@vue.JNsx1iN61729505164040.js";import{c as M,d as P,a as k}from"./three-mesh-bvh.GSW9toAC1729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";import"./@fesjs.ysb1R5mQ1729505164040.js";import"./vue-router.xkfjO_BL1729505164040.js";import"./lodash-es.kYt-_xTG1729505164040.js";import"./@qlin.yHhFDldE1729505164040.js";import"./pinia.LeDA9WVb1729505164040.js";import"./@floating-ui.BPbuo5Gx1729505164040.js";import"./@juggle.7yjBMqoW1729505164040.js";import"./d3-array.E5C1cfJ61729505164040.js";const C=["properties","renderOrder"],O=["args"],B=h("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),R={__name:"chinaMapMesh",async setup(e){let y,j;r.prototype.computeBoundsTree=M,r.prototype.disposeBoundsTree=P,s.prototype.raycast=k;const g=i().center([104,37.5]).translate([0,0]),b=([y,j]=c((()=>n("./plugins/simpleGIS/json/china.json","features"))),y=await y,j(),y),v={depth:10,bevelEnabled:!1},w=[];b.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[o,r]=g(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}w.push({shape:n,properties:t.properties})}))}))}));const x=new o({color:"#3480C4",linewidth:1,linecap:"round"}),_=u();l((()=>{_.value&&_.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,x];t.material=e}))}));let E=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),E=t})();const T=t=>{t.object.material[0].color.set(16711680),E.innerText=t.object.properties.name,E.style.visibility="visible"},I=t=>{t.eventObject.material[0].color.set(3010559),E.style.visibility="hidden"},R=t=>{E.style.left="".concat(t.clientX+6,"px"),E.style.top="".concat(t.clientY+6,"px")},{onLoop:S}=t();return S((()=>{})),(t,e)=>(p(),f("TresGroup",{ref_key:"tgRef",ref:_},[(p(),f(d,null,m(w,((t,e)=>h("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:T,onPointerLeave:I,onPointerMove:R},[h("TresExtrudeGeometry",{args:[t.shape,v]},null,8,O),B],40,C))),64))],512))}},S=z;function F(){const t=["TresCanvas","error","bind","length","54HhHRhD","table","action","prototype","call","warn","info","46345221hHbPlE","toString","307377DSPJPR","stateObject","debu","gger","constructor","chinaMap","793784eHoiky","trace","test","12315224Oceoaq","console","return (function() ","exception","#201919","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresPerspectiveCamera","3040392AVuxFX","1508499wumXlu","while (true) {}","init","2drcOyy","apply","260405ICSdmG","__proto__"];return(F=function(){return t})()}!function(t,e){const n=z,o=F();for(;;)try{if(861731===-parseInt(n(396))/1*(parseInt(n(399))/2)+-parseInt(n(395))/3+parseInt(n(384))/4+parseInt(n(401))/5*(-parseInt(n(407))/6)+parseInt(n(378))/7+-parseInt(n(387))/8+parseInt(n(414))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(400)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=z,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(393),"i"),o=D(t(398));e[t(386)](o+t(392))&&n[t(386)](o+"input")?D():o("0")}))()}();const H=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[z(400)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=z,e=function(){const t=z;let e;try{e=Function(t(389)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(388)]=e[t(388)]||{},o=["log",t(412),t(413),t(404),t(390),t(408),t(385)];for(let r=0;r<o[t(406)];r++){const e=H[t(382)][t(410)][t(405)](H),s=o[r],a=n[s]||e;e[t(402)]=H[t(405)](H),e[t(377)]=a[t(377)][t(405)](a),n[s]=e}}))();const L=h(S(394),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1);function z(t,e){const n=F();return(z=function(t,e){return n[t-=377]})(t,e)}const A=y({__name:S(383),setup(n){const o=S,r=j({clearColor:o(391)}),s=j({enableDamping:!0,dampingFactor:.05}),{onLoop:a}=t();return a((()=>{})),l((()=>{})),(t,n)=>{const a=g(o(403));return p(),b(a,I(r,{"window-size":""}),{default:v((()=>[L,w(E(e),x(_(s)),null,16),(p(),b(T,null,{default:v((()=>[w(R)])),_:1}))])),_:1},16)}}});function D(t){function e(t){const n=z;if("string"==typeof t)return function(t){}.constructor(n(397)).apply("counter");1!==(""+t/t)[n(406)]||t%20==0?function(){return!0}.constructor(n(380)+n(381))[n(411)](n(409)):function(){return!1}[n(382)](n(380)+"gger")[n(400)](n(379)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{A as default};
