import{_ as t,bO as n}from"./three.N4lg2KsY1742297875262.js";import{e as o}from"./@tresjs.oW7bfow21742297875262.js";import{g as e}from"./utils.4kjShNCV1742297875262.js";import{d as r,b as i,a2 as s,w as c,o as a,H as u,N as l,u as f,aj as p,ak as v}from"./@vue.NRI7TcgI1742297875262.js";const m=h;!function(t,n){const o=h,e=g();for(;;)try{if(840203===-parseInt(o(374))/1+parseInt(o(353))/2*(-parseInt(o(387))/3)+-parseInt(o(397))/4*(-parseInt(o(365))/5)+parseInt(o(378))/6*(-parseInt(o(407))/7)+-parseInt(o(373))/8*(-parseInt(o(367))/9)+-parseInt(o(401))/10*(parseInt(o(388))/11)+parseInt(o(362))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const d=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[h(369)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){d(this,(function(){const t=h,n=new RegExp(t(383)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=_(t(385));n[t(409)](e+t(357))&&o.test(e+t(354))?_():e("0")}))()}();const y=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[h(369)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function g(){const t=["log","30kIzAyd","stateObject","position","ShaderChunk","string","height","14vwQlLB","#ffff00","test","fog_pars_vertex","table","debu","trace","counter","2YmtpJj","input","gger","call","chain","TresShaderMaterial","console",'{}.constructor("return this")( )',"return (function() ","16269624XFjRCY","tresMeshRef","positionSrc","5JsmRku","warn","9gjmqUx","fog_vertex","apply","constructor","color","pv2","4898656sTrXgp","46807GThvOX","length","DoubleSide","speed","158772wTvkYR","info","Color","action","toString","function *\\( *\\)","bind","init","value","3055809rSLxwD","4883835ayAsnn","\n}\n","set","__proto__","uniforms","TresBufferGeometry","\nvarying vec2 vUv;\nvoid main() {\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t","uvs","\nprecision lowp float;\nprecision lowp int;\nuniform float time;\nuniform float opacity;\nuniform vec3 color;\nuniform float num;\nuniform float speed;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 fragColor = vec4(0.);\n\tfloat sin = sin((vUv.y - time * speed) * 10. * num);\n\tfloat high = 0.92;\n\tfloat medium = 0.4;\n\tif (sin > high) {\n\t\tfragColor = vec4(mix(vec3(.8, 1., 1.), color, (1. - sin) / (1. - high)), 1.);\n\t} else if(sin > medium) {\n\t\tfragColor = vec4(color, mix(1., 0., 1.-(sin - medium) / (high - medium)));\n\t} else {\n\t\tfragColor = vec4(color, 0.);\n\t}\n\tvec3 fade = mix(color, vec3(0., 0., 0.), vUv.y);\n\tfragColor = mix(fragColor, vec4(fade, 1.), 0.85);\n\tgl_FragColor = vec4(fragColor.rgb, fragColor.a * opacity * (1. - vUv.y));\n}\n","5289432zDNWgO","opacity","num"];return(g=function(){return t})()}function h(t,n){const o=g();return(h=function(t,n){return o[t-=348]})(t,n)}y(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function(t(361)+t(360)+");")()}catch(o){n=window}return n}(),o=n[t(359)]=n[t(359)]||{},e=[t(400),t(366),t(379),"error","exception",t(349),t(351)];for(let r=0;r<e[t(375)];r++){const n=y[t(370)].prototype[t(384)](y),i=e[r],s=o[i]||n;n[t(391)]=y[t(384)](y),n.toString=s[t(382)][t(384)](s),o[i]=n}}))();const x=["position","uv"],w=r({__name:"rippleMesh",props:{positionSrc:{default:[{x:0,y:0},{x:10,y:10}]},color:{default:m(408)},opacity:{default:.8},height:{default:100},num:{default:8},speed:{default:.15}},setup(r){const d=m,y=r,g=i(),h={side:t[d(376)],transparent:!0,depthWrite:!1,depthTest:!0,vertexShader:"\nprecision lowp float;\nprecision lowp int;\n"+t[d(404)][d(348)]+d(394)+n[d(368)]+d(389),fragmentShader:d(396),uniforms:{time:{type:"pv2",value:0},color:{type:d(395),value:new(t[d(380)])(y.color)},opacity:{type:d(372),value:y[d(398)]},num:{type:d(372),value:y[d(399)]},speed:{type:d(372),value:y.speed}}};let w=null,_=null;function I(t=[],n){const o=d,e=[],r=[];for(let i=0,s=e[o(375)],c=r.length;i<t[o(375)]-1;i++){let o=1,a=t[i],u=t[i+1];e[s++]=a.x,e[s++]=0,e[s++]=a.y,r[c++]=0,r[c++]=0,e[s++]=u.x,e[s++]=0,e[s++]=u.y,r[c++]=1,r[c++]=0,e[s++]=a.x,e[s++]=n,e[s++]=a.y,r[c++]=0,r[c++]=o,e[s++]=a.x,e[s++]=n,e[s++]=a.y,r[c++]=0,r[c++]=o,e[s++]=u.x,e[s++]=0,e[s++]=u.y,r[c++]=1,r[c++]=0,e[s++]=u.x,e[s++]=n,e[s++]=u.y,r[c++]=1,r[c++]=o}w=new Float32Array(e),_=new Float32Array(r)}let{centerPoint:C,points:j}=e(y[d(364)]);I(j,y[d(406)]);const{onLoop:b}=o();return b((({delta:t})=>{const n=d;h[n(392)].time[n(386)]+=t})),s((()=>{const n=d;y[n(371)]&&(h[n(392)].color[n(386)]=new(t[n(380)])(y[n(371)])),y[n(398)]&&(h[n(392)].opacity.value=y[n(398)]),y[n(399)]&&(h[n(392)][n(399)][n(386)]=y.num),y[n(377)]&&(h[n(392)][n(377)][n(386)]=y[n(377)]),g[n(386)]&&g[n(386)][n(403)][n(390)](C.x,g[n(386)].position.y,C.y)})),c((()=>y[d(364)]),(t=>{const n=d,{centerPoint:o,points:r}=e(t);C=o,j=r,I(j,y[n(406)]),g[n(386)]&&g[n(386)][n(403)].set(C.x,g[n(386)][n(403)].y,C.y)})),(t,n)=>{const o=d;return a(),u("TresMesh",{renderOrder:2200,ref_key:o(363),ref:g},[l(o(393),{position:[f(w),3],uv:[f(_),2]},null,8,x),l(o(358),p(v(h)),null,16)],512)}}});function _(t){function n(t){const o=h;if(typeof t===o(405))return function(t){}.constructor("while (true) {}")[o(369)](o(352));1!==(""+t/t)[o(375)]||t%20==0?function(){return!0}[o(370)]("debugger")[o(356)](o(381)):function(){return!1}.constructor(o(350)+o(355))[o(369)](o(402)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{w as _};
