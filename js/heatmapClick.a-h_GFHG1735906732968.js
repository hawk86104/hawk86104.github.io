import{a as t,U as n}from"./@tresjs.XlmHwCPa1735906732968.js";import{P as e}from"./tweakpane.yHWGBmom1735906732968.js";import{Y as o,_ as r,ak as a,al as s}from"./three.VhLXWX0H1735906732968.js";import{_ as i}from"./heatmap.js-fix.ExcbCj1l1735906732968.js";import{d as u,a4 as c,a1 as l,o as p,D as f,u as d,r as h,e as m,f as g,g as y,J as v,j as b,al as w,aj as x,ak as _,m as I}from"./@vue.yG49nQHr1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";import"./@amap.goWAqh1c1735906732968.js";const j=z;!function(t,n){const e=z,o=k();for(;;)try{if(917995===parseInt(e(493))/1+-parseInt(e(439))/2+parseInt(e(442))/3*(-parseInt(e(505))/4)+parseInt(e(464))/5+-parseInt(e(475))/6*(parseInt(e(468))/7)+parseInt(e(447))/8+parseInt(e(515))/9*(parseInt(e(463))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=z,n=new RegExp(t(476)),e=new RegExp(t(458),"i"),o=D(t(443));n[t(506)](o+t(503))&&e.test(o+t(465))?D():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(t,n){const e=k();return(z=function(t,n){return e[t-=435]})(t,n)}S(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(500)+t(472)+");")()}catch(e){n=window}return n}(),e=n[t(511)]=n[t(511)]||{},o=[t(495),t(489),t(438),t(477),t(456),t(445),t(512)];for(let r=0;r<o[t(504)];r++){const n=S.constructor[t(450)][t(460)](S),a=o[r],s=e[a]||n;n.__proto__=S[t(460)](S),n[t(483)]=s[t(483)].bind(s),e[a]=n}}))();const B=[j(440)];function k(){const t=["./draco/","table","appendChild","2712120oGOQbF","heatmapClickCom","setScalar","prototype","0.8","computeBoundingBox","action","string","heatmap-canvas","exception","show2dCanvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","bind","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","block","20DyoJGT","7356125vIjzgy","input","mesh_0","constructor","16898VuMgmm","counter","onclick","debu",'{}.constructor("return this")( )',"primitive","getZ","4476nPHtqc","function *\\( *\\)","error","layerY","display","boundingBox","radius","ShaderMaterial","toString","BufferAttribute","push","getX","position","layerX","warn","none","absolute","attributes","1760692QBYbOA","stateObject","log","needsUpdate","top","scale","canvas","return (function() ","set","1px solid #5384ff","chain","length","108GTFYFR","test","DoubleSide","style","apply","setDataMax","console","trace","_renderer","body","6207237GmLjOu","geometry","gger","left","deleteAttribute","info","3200330cFQwTK","object","material","70146kKyWPB","init"];return(k=function(){return t})()}const A=u({__name:j(448),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const u=n,{nodes:h}=([a,s]=c((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(444)}))),a=await a,s(),a);h.mesh_0[e(487)][e(501)](-5088.96,-3.08,39374.7),h.mesh_0[e(498)][e(449)](.01);let m=null,g=null,y=null;g=new o((()=>{const t=e;return y=document.createElement(t(455)),y[t(508)].position=t(491),y[t(508)][t(497)]="40px",y.style[t(436)]="0",document[t(514)][t(446)](y),m=i.create({container:y,width:256,height:256,blur:t(451),radius:u.radius}),m[t(513)][t(499)][t(508)].border=t(502),m[t(513)][t(499)][t(470)]=function(n){const e=t;m.addData({x:n[e(488)],y:n[e(478)],value:1,radius:u[e(481)]}),m[e(510)](1),g&&(g[e(496)]=!0)},m})()[e(513)][e(499)]);const v={vertexShader:e(461),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(507)]},b=new(r[e(482)])(v);h[e(466)][e(441)]=b;return(t=>{const n=e;t[n(452)]();const{max:o,min:a}=t[n(480)];t[n(437)]("uv");const s=o.x-a.x,i=o.z-a.z,u=[];for(let e=0;e<t[n(492)][n(487)].count;e++)u.push((t.attributes[n(487)][n(486)](e)-a.x)/s),u[n(485)]((t[n(492)][n(487)][n(474)](e)-a.z)/i);const c=new Float32Array(u);t.setAttribute("uv",new(r[n(484)])(c,2))})(h[e(466)][e(516)]),l((()=>{const t=e;y[t(508)][t(479)]=""+(u[t(457)]?t(462):t(490))})),(t,n)=>{const o=e;return p(),f(o(473),{object:d(h)[o(466)]},null,8,B)}}});function D(t){function n(t){const e=z;if(typeof t===e(454))return function(t){}[e(467)]("while (true) {}").apply(e(469));1!==(""+t/t).length||t%20==0?function(){return!0}[e(467)](e(471)+e(435))[e(459)](e(453)):function(){return!1}[e(467)]("debu"+e(435))[e(509)](e(494)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const T=F;!function(t,n){const e=F,o=O();for(;;)try{if(267139===-parseInt(e(281))/1*(-parseInt(e(293))/2)+parseInt(e(299))/3+parseInt(e(274))/4*(-parseInt(e(291))/5)+-parseInt(e(297))/6*(parseInt(e(280))/7)+-parseInt(e(263))/8*(-parseInt(e(306))/9)+parseInt(e(284))/10*(-parseInt(e(275))/11)+-parseInt(e(268))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["init","toString","addButton","stateObject","1092fSnWol","1KmNjHo","gger","点击左侧蓝色画框","170HUGxdD","show2dCanvas","prototype","addBinding","constructor","apply","radius","5UbdRUq","console","991498GNqezy","显示二维图","chain","call","3114HxoyDx","#ffffff","1483635rujBOQ","action","log","#030311","exception","TresGridHelper","info","369iizChS","error",'{}.constructor("return this")( )',"bind","table","string","66536fKdSxi","TresPerspectiveCamera","trace","while (true) {}","test","7207344AWCKsq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","length","function *\\( *\\)","heatmapClick","1498820nQLrlI","5093mQpHYT"];return(O=function(){return t})()}!function(){M(this,(function(){const t=F,n=new RegExp(t(272)),e=new RegExp(t(269),"i"),o=G(t(276));n[t(267)](o+t(295))&&e[t(267)](o+"input")?G():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(t,n){const e=O();return(F=function(t,n){return e[t-=259]})(t,n)}U(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function("return (function() "+t(259)+");")()}catch(e){n=window}return n}(),e=n[t(292)]=n[t(292)]||{},o=[t(301),"warn",t(305),t(307),t(303),t(261),t(265)];for(let r=0;r<o[t(271)];r++){const n=U[t(288)][t(286)][t(260)](U),a=o[r],s=e[a]||n;n.__proto__=U[t(260)](U),n.toString=s[t(277)][t(260)](s),e[a]=n}}))();const R=u({__name:T(273),setup(t){const o=T,r={clearColor:o(302),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u.addBinding(i,o(285),{label:o(294)}),u[o(287)](i,o(290),{label:"圆圈的大小",min:.1,max:30,step:.1}),u[o(278)]({title:o(283)}),(t,e)=>{const a=o,s=m("TresCanvas");return p(),g(s,I(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=v(a(264),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v("TresDirectionalLight",{position:[5,10,7.5],color:a(298),intensity:5},null,-1)),e[2]||(e[2]=v(a(304),{args:[50,25]},null,-1)),(p(),g(w,null,{default:y((()=>[b(A,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function G(t){function n(t){const e=F;if(typeof t===e(262))return function(t){}[e(288)](e(266))[e(289)]("counter");1!==(""+t/t)[e(271)]||t%20==0?function(){return!0}[e(288)](e(270)+"gger")[e(296)](e(300)):function(){return!1}[e(288)](e(270)+e(282))[e(289)](e(279)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
