import{aP as t,ai as n}from"./three._P_a_E_Z1730886807320.js";import{a as o,U as i,c as e}from"./@tresjs.iUmyNPdW1730886807320.js";import{a as r,b as s}from"./index.xgqHHD_Y1730886807320.js";import{P as u}from"./tweakpane.yHWGBmom1730886807320.js";import{d as c,a0 as a,w as p,o as l,D as f,a6 as m,u as d,r as g,f as h,g as v,J as I,j as S,al as y,m as b}from"./@vue.-THQH3GC1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./three-stdlib.-Lz596Q01730886807320.js";import"./@pmndrs.wWpbS2XU1730886807320.js";import"./object-hash.rH2Wt7qx1730886807320.js";import"./@amap.T-fZ7qS81730886807320.js";import"./jszip._dv5DHfD1730886807320.js";const w=x;!function(t,n){const o=x,i=R();for(;;)try{if(620146===-parseInt(o(386))/1+-parseInt(o(371))/2+-parseInt(o(387))/3+parseInt(o(391))/4*(-parseInt(o(375))/5)+parseInt(o(383))/6*(parseInt(o(361))/7)+-parseInt(o(366))/8*(-parseInt(o(399))/9)+-parseInt(o(398))/10*(-parseInt(o(373))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[x(393)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function x(t,n){const o=R();return(x=function(t,n){return o[t-=359]})(t,n)}!function(){_(this,(function(){const t=x,n=new RegExp(t(388)),o=new RegExp(t(394),"i"),i=N("init");n[t(392)](i+"chain")&&o[t(392)](i+t(360))?N():i("0")}))()}();const P=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[x(393)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function R(){const t=["prototype","uniforms","uSnappingResolution","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","input","5105317gziNNd","__proto__","gger","warn","vertexShader","431008zZsSdD","srcMaterial","while (true) {}","constructor","counter","1427072NpRtaA",'{}.constructor("return this")( )',"22964183oNKFDb","debu","5cQqFmI","com","onBeforeCompile","action","bind","info","log","return (function() ","6gyrwVT","trace","console","736986BeiTnH","3223035NipoHw","function *\\( *\\)","value","table","196412ZptSBf","test","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","object","#include <project_vertex>","exception","10xAbvCL","63RJudMe","length","replace","toString"];return(R=function(){return t})()}P(void 0,(function(){const t=x;let n;try{n=Function(t(382)+t(372)+");")()}catch(e){n=window}const o=n[t(385)]=n[t(385)]||{},i=[t(381),t(364),t(380),"error",t(397),t(390),t(384)];for(let r=0;r<i[t(400)];r++){const n=P[t(369)][t(403)][t(379)](P),e=i[r],s=o[e]||n;n[t(362)]=P[t(379)](P),n[t(402)]=s.toString[t(379)](s),o[e]=n}}))();const j=[w(395)],M=c({__name:w(376),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new t({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=w,o=t,i=a(o[n(405)]);return o[n(367)][n(377)]=t=>{const o=n;t[o(404)][o(405)]=i,t.vertexShader=t[o(365)].replace("#include <common>","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t"),t[o(365)]=t[o(365)][o(401)](o(396),o(359))},p((()=>o.uSnappingResolution),(t=>{i[n(389)]=t})),(t,o)=>{const i=n;return l(),f("primitive",{object:t[i(367)]},null,8,j)}}});function N(t){function n(t){const o=x;if("string"==typeof t)return function(t){}[o(369)](o(368)).apply(o(370));1!==(""+t/t).length||t%20==0?function(){return!0}[o(369)](o(374)+o(363)).call(o(378)):function(){return!1}.constructor(o(374)+o(363))[o(393)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=z,i=A();for(;;)try{if(925828===-parseInt(o(510))/1+parseInt(o(524))/2*(-parseInt(o(486))/3)+-parseInt(o(515))/4*(-parseInt(o(490))/5)+parseInt(o(484))/6*(-parseInt(o(493))/7)+parseInt(o(481))/8*(-parseInt(o(509))/9)+-parseInt(o(502))/10+parseInt(o(507))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const T=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(508)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function A(){const t=["#include <common>","error","test","37328907SdyDbN","apply","9jFWtmL","934451oyHuoW","warn","table","stateObject","replace","5892lNjBLm",'{}.constructor("return this")( )',"\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","info","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","string","return (function() ","log","onBeforeCompile","3246QtjcUC","exception","__proto__","counter","2979104UQXrsW","vertexShader","gger","8436402btYSVR","prototype","942wqUgqC","uniforms","while (true) {}","length","5285vNmWWV","call","debu","7whkTAe","constructor","#include <project_vertex>","chain","init","bind","uSnappingResolution","function *\\( *\\)","toString","8021420NwTwpM","trace"];return(A=function(){return t})()}!function(){T(this,(function(){const t=z,n=new RegExp(t(500)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=E(t(497));n[t(506)](i+t(496))&&o[t(506)](i+"input")?E():i("0")}))()}();const C=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(508)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function z(t,n){const o=A();return(z=function(t,n){return o[t-=478]})(t,n)}function E(t){function n(t){const o=z;if(typeof t===o(520))return function(t){}[o(494)](o(488))[o(508)](o(480));1!==(""+t/t)[o(489)]||t%20==0?function(){return!0}[o(494)]("debu"+o(483))[o(491)]("action"):function(){return!1}[o(494)](o(492)+o(483))[o(508)](o(513)),n(++t)}try{if(t)return n;n(0)}catch(o){}}C(void 0,(function(){const t=z;let n;try{n=Function(t(521)+t(516)+");")()}catch(e){n=window}const o=n.console=n.console||{},i=[t(522),t(511),t(518),t(505),t(478),t(512),t(503)];for(let r=0;r<i[t(489)];r++){const n=C[t(494)][t(485)].bind(C),e=i[r],s=o[e]||n;n[t(479)]=C[t(498)](C),n[t(501)]=s[t(501)][t(498)](s),o[e]=n}}))();const W=U;!function(t,n){const o=U,i=H();for(;;)try{if(840352===parseInt(o(150))/1*(parseInt(o(137))/2)+parseInt(o(149))/3*(-parseInt(o(162))/4)+-parseInt(o(166))/5*(parseInt(o(138))/6)+-parseInt(o(156))/7+-parseInt(o(152))/8*(parseInt(o(155))/9)+parseInt(o(163))/10+parseInt(o(139))/11)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const k=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=U,n=new RegExp(t(161)),o=new RegExp(t(133),"i"),i=L(t(141));n[t(136)](i+"chain")&&o[t(136)](i+t(175))?L():i("0")}))()}();const B=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[U(151)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function U(t,n){const o=H();return(U=function(t,n){return o[t-=133]})(t,n)}B(void 0,(function(){const t=U;let n;try{n=Function(t(147)+t(143)+");")()}catch(e){n=window}const o=n[t(176)]=n[t(176)]||{},i=["log",t(154),t(174),t(157),t(158),t(167),t(164)];for(let r=0;r<i[t(145)];r++){const n=B.constructor[t(171)].bind(B),e=i[r],s=o[e]||n;n.__proto__=B[t(169)](B),n.toString=s[t(140)][t(169)](s),o[e]=n}}))();const Z=["object"],F=c({__name:W(144),props:{uSnappingResolution:{default:6}},async setup(t){const n=W;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb",{draco:!0,decoderPath:n(160)}))),i=await i,e(),i),c=[];return Object.values(u)[n(148)]((t=>{const o=n;c[o(142)](function(t,n=6){const o=z,i={value:n};return t[o(523)]=t=>{const n=o;t[n(487)][n(499)]=i,t[n(482)]=t[n(482)][n(514)](n(504),n(519)),t.vertexShader=t[n(482)][n(514)](n(495),n(517))},i}(t,r[o(159)]))})),p((()=>r[n(159)]),(t=>{const o=n;c[o(148)]((n=>{n[o(146)]=t}))})),(t,o)=>{const i=n;return l(),f(i(153),{object:d(s),scale:5,position:[0,-2,0]},null,8,Z)}}});function H(){const t=["return (function() ","forEach","3bokFiH","380303pWCmMo","apply","106608TqlwNh","primitive","warn","198liUrhS","4993121nxNbwh","error","exception","uSnappingResolution","./draco/","function *\\( *\\)","3824iHWKpq","13865760zMHXKA","trace","debu","1042555NPMiyB","table","constructor","bind","while (true) {}","prototype","stateObject","call","info","input","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","gger","test","8WQMkQW","36MmicCm","2101671pxpndN","toString","init","push",'{}.constructor("return this")( )',"model","length","value"];return(H=function(){return t})()}function L(t){function n(t){const o=U;if(typeof t===o(134))return function(t){}.constructor(o(170))[o(151)]("counter");1!==(""+t/t)[o(145)]||t%20==0?function(){return!0}[o(168)](o(165)+o(135))[o(173)]("action"):function(){return!1}[o(168)](o(165)+o(135)).apply(o(172)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const Q=$;function $(t,n){const o=D();return($=function(t,n){return o[t-=216]})(t,n)}!function(t,n){const o=$,i=D();for(;;)try{if(967397===parseInt(o(220))/1*(parseInt(o(250))/2)+parseInt(o(245))/3+parseInt(o(226))/4+-parseInt(o(254))/5*(parseInt(o(247))/6)+-parseInt(o(224))/7*(parseInt(o(218))/8)+-parseInt(o(222))/9+parseInt(o(265))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const q=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){const t=$,n=new RegExp(t(262)),o=new RegExp(t(225),"i"),i=V("init");n[t(242)](i+"chain")&&o[t(242)](i+t(243))?V():i("0")}))()}();const G=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[$(231)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function D(){const t=["bind","apply","rotation-y","toString","gger","自行车模型-分辨率","TresCylinderGeometry","while (true) {}","TresPerspectiveCamera","console","__proto__","counter","test","input","action","3407649SUjZeL","vertexSnapping","54606CCrKUT","string","uSnappingResolution","336444SpqyFk","warn","TresDirectionalLight","table","895IQsaTP","torus","rotation-x","TresAmbientLight","info","length","exception","circle","function *\\( *\\)","debu","call","28970450PITLxR","addBinding","TresMesh","TresMeshStandardMaterial","2840LYcoQC","TresTorusKnotGeometry","8dOtgFi","constructor","11253015KogAoW","prototype","37870gRhIhW","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1554628LlDHQW","cube","error","modelSnappingResolution"];return(D=function(){return t})()}G(void 0,(function(){const t=$;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const o=n[t(239)]=n[t(239)]||{},i=["log",t(251),t(258),t(228),t(260),t(253),"trace"];for(let r=0;r<i[t(259)];r++){const n=G.constructor[t(223)][t(230)](G),e=i[r],s=o[e]||n;n[t(240)]=G[t(230)](G),n[t(233)]=s.toString.bind(s),o[e]=n}}))();const K={position:[5,.9,-5],name:Q(255)},O=c({__name:Q(246),setup(t){const o=Q,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p.addBinding(a,o(249),{label:"圆环扭结-分辨率",min:0,max:20,step:.01}),p[o(266)](a,o(229),{label:o(235),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(d(e),b(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(238),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(d(i)),n[2]||(n[2]=I(u(257),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(252),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(216),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(227)},[I(u(236),{args:[1.5,1.5,2]}),I(u(217),{color:16737826,roughness:0,metalness:0})],-1)),I(u(216),K,[n[0]||(n[0]=I(u(219),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a[u(249)]},null,8,[u(249)])]),(l(),h(y,null,{default:v((()=>[S(F,{uSnappingResolution:a[u(229)]},null,8,["uSnappingResolution"])])),_:1})),(l(),h(y,null,{default:v((()=>[S(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(d(s),{intensity:2,form:u(261),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(256)]),S(d(s),{intensity:2,form:u(261),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(256)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,["rotation-y"]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(232)])])),_:1})])),_:1}))])),_:1},16)}}});function V(t){function n(t){const o=$;if(typeof t===o(248))return function(t){}[o(221)](o(237))[o(231)](o(241));1!==(""+t/t)[o(259)]||t%20==0?function(){return!0}[o(221)](o(263)+o(234))[o(264)](o(244)):function(){return!1}.constructor("debu"+o(234))[o(231)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{O as default};
