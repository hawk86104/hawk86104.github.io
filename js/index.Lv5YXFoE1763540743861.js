import{d as e,H as t,o,I as a,J as l,y as r}from"./@vue.Co_gxueH1763540743861.js";import{_ as n}from"./@fesjs.BEMFm_yJ1763540743861.js";function s(e){let t="";const o=()=>{localStorage.setItem(e,t)};return t=(()=>{const o=localStorage.getItem(e);return o&&(t=o),o||""})(),{set(e){t=e,o()},get:()=>t||null,clear(){t="",o()},exportFile(){if(!t)return;const o=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download=e.split("/").pop()||"untitled.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)},loadFile:()=>new Promise((e,a)=>{const l=document.createElement("input");l.type="file",l.accept=".json",l.onchange=l=>{const r=l.target.files?.[0];if(!r)return void a(new Error("未选择文件"));const n=new FileReader;n.onload=()=>{const a=n.result;t=a,o(),e(a)},n.onerror=()=>a(n.error),n.readAsText(r)},l.click()})}}const i={class:"manager"},c=n(e({__name:"index",props:{lf:{},options:{default:()=>({})}},setup(e){const{set:n,loadFile:c,exportFile:d}=s("network-link-topology-editor"),p=e,v=()=>{const e=p.lf.getGraphData();n(JSON.stringify(e)),d()},h=()=>{c().then(e=>{p.lf.render(e?JSON.parse(e):{})})},u=()=>{const e=p.lf.getGraphData();n(JSON.stringify(e))},g=async()=>{const e=p.lf;if(!e)return;const t=e.extension.autoLayout;await t.layoutAll()};return(e,n)=>(o(),t("div",i,[e.options.download?(o(),t("div",{key:0,class:"flex items-center gap-1 flex-col cursor-pointer",onClick:v},[...n[0]||(n[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[l("path",{fill:"currentColor",d:"m12 16l-5-5l1.4-1.45l2.6 2.6V4h2v8.15l2.6-2.6L17 11zm-6 4q-.825 0-1.412-.587T4 18v-3h2v3h12v-3h2v3q0 .825-.587 1.413T18 20z"})],-1),r(" 下载配置 ",-1)])])):a("",!0),e.options.handleLoad?(o(),t("div",{key:1,class:"flex items-center gap-1 flex-col cursor-pointer",onClick:h},[...n[1]||(n[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[l("path",{fill:"currentColor",d:"M11 16V7.85l-2.6 2.6L7 9l5-5l5 5l-1.4 1.45l-2.6-2.6V16zm-5 4q-.825 0-1.412-.587T4 18v-3h2v3h12v-3h2v3q0 .825-.587 1.413T18 20z"})],-1),r(" 载入配置 ",-1)])])):a("",!0),e.options.save?(o(),t("div",{key:2,class:"flex items-center gap-1 flex-col cursor-pointer",onClick:u},[...n[2]||(n[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[l("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[l("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),l("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7M7 3v4a1 1 0 0 0 1 1h7"})])],-1),r(" 保存配置 ",-1)])])):a("",!0),e.options.autoLayout?(o(),t("div",{key:3,class:"flex items-center gap-1 flex-col cursor-pointer",onClick:g},[...n[3]||(n[3]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[l("path",{fill:"currentColor",d:"M5 1v8H1V1zM1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm13 2v5H9V2zM9 1a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM5 13v2H3v-2zm-2-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1zm12-1v2H9v-2zm-6-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1z"})],-1),r(" 自动布局 ",-1)])])):a("",!0)]))}}),[["__scopeId","data-v-3d2956c8"]]),d=Object.freeze(Object.defineProperty({__proto__:null,default:c},Symbol.toStringTag,{value:"Module"}));export{c as M,d as i,s as u};
