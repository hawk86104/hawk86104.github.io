import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.rJvMOgN81722217438692.js";import{B as i,V as s,cj as n,aB as e,N as r,h as o,ae as a,Y as h,q as c,C as u,a6 as l}from"./three.ej3u8izI1722217438692.js";import{$ as p,D as d,i as m}from"./@tresjs.vs5lCFs11722217438692.js";import{c as f}from"./simplex-noise.MycypUyu1722217438692.js";import{d as g,a1 as y,o as b,D as v,u as S,r as x,j as w,g as I,m as _,F as P}from"./@vue.Q1VpS3901722217438692.js";import"./index.DUd6XKTt1722217438692.js";import{_ as M}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.WNuqNNwJ1722217438692.js";import"./three-custom-shader-material.KBQJQbKq1722217438692.js";import"./object-hash.H_vbRcKd1722217438692.js";import"./@amap.FTf_Qzi31722217438692.js";import"./jszip.FHAQs96M1722217438692.js";import"./glsl-tokenizer.BRlB_-gZ1722217438692.js";import"./glsl-token-string.R7dCM80c1722217438692.js";import"./glsl-token-functions.DFHfxlmC1722217438692.js";import"./tweakpane.yHWGBmom1722217438692.js";import"./@vueuse.mG9rDBoo1722217438692.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.n6_dWyKr1722217438692.js";import"./all.three.JQtzNr2g1722217438692.js";import"./oimophysics.x0jH7fze1722217438692.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.zBbCTIfb1722217438692.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.DPYCARLu1722217438692.js";import"./index.DTwgDyGF1722217438692.js";import"./three-stdlib.lHRu5jBh1722217438692.js";import"./@pmndrs.NGMcpQ2E1722217438692.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.YBPyOPaV1722217438692.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.THQmNhrN1722217438692.js";const T=D;!function(t,i){const s=D,n=j();for(;;)try{if(791176===parseInt(s(422))/1*(parseInt(s(433))/2)+parseInt(s(366))/3+parseInt(s(390))/4*(-parseInt(s(429))/5)+parseInt(s(391))/6+parseInt(s(324))/7+-parseInt(s(412))/8*(parseInt(s(369))/9)+-parseInt(s(408))/10*(parseInt(s(409))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const C=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[D(356)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){C(this,(function(){const t=D,i=new RegExp(t(330)),s=new RegExp(t(446),"i"),n=F(t(363));i.test(n+t(451))&&s[t(333)](n+t(399))?F():n("0")}))()}();const A=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[D(356)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();A(void 0,(function(){const t=D,i=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(i){t=window}return t}(),s=i.console=i[t(291)]||{},n=[t(376),t(403),t(377),t(313),t(397),t(352),"trace"];for(let e=0;e<n[t(419)];e++){const i=A[t(286)][t(341)][t(296)](A),r=n[e],o=s[r]||i;i[t(367)]=A[t(296)](A),i[t(417)]=o.toString.bind(o),s[r]=i}}))();class R extends i{constructor(t={}){const i=D;super(),this[i(339)]=!0,this.type=i(328),this[i(363)](R.copyParameters(t,t)),this.createMesh()}static[T(396)](){const t=2053,i=[];for(let n=0;n<t;n++)i.push(Math.random());const s={currentSeed:0,random:function(){const n=D,e=i[s[n(454)]];return s[n(454)]=(s.currentSeed+1)%t,e},getSeed:function(){return s[D(454)]/t},setSeed:function(i){const n=D;s[n(454)]=Math[n(389)](i*t)%t}};return s}static copyParameters(t={},i={}){const n=T,e=function(s){return i===t?s:s.clone()};return t[n(401)]=void 0!==i[n(401)]?e(i[n(401)]):new s(0,100,0),t[n(416)]=void 0!==i.destOffset?e(i.destOffset):new s(0,0,0),t.timeScale=void 0!==i.timeScale?i[n(322)]:1,t[n(440)]=void 0!==i.roughness?i[n(440)]:.9,t[n(415)]=void 0!==i.straightness?i[n(415)]:.7,t.up0=void 0!==i[n(345)]?e(i.up0):new s(0,0,1),t[n(436)]=void 0!==i.up1?e(i[n(436)]):new s(0,0,1),t[n(414)]=void 0!==i[n(414)]?i.radius0:1,t[n(289)]=void 0!==i.radius1?i[n(289)]:1,t.radius0Factor=void 0!==i.radius0Factor?i[n(310)]:.5,t.radius1Factor=void 0!==i[n(309)]?i.radius1Factor:.2,t.minRadius=void 0!==i.minRadius?i[n(292)]:.2,t.isEternal=void 0!==i.isEternal?i[n(314)]:void 0===i[n(327)]||void 0===i[n(413)],t[n(327)]=i[n(327)],t[n(413)]=i[n(413)],t.propagationTimeFactor=void 0!==i.propagationTimeFactor?i[n(338)]:.1,t[n(443)]=void 0!==i[n(443)]?i[n(443)]:.9,t[n(404)]=void 0!==i[n(404)]?i[n(404)]:4,t.subrayDutyCycle=void 0!==i[n(382)]?i.subrayDutyCycle:.6,t.maxIterations=void 0!==i[n(432)]?i[n(432)]:9,t[n(308)]=void 0!==i[n(308)]&&i.isStatic,t.ramification=void 0!==i[n(428)]?i.ramification:5,t[n(312)]=void 0!==i[n(312)]?i[n(312)]:3,t[n(355)]=void 0!==i[n(355)]?i[n(355)]:.6,t.generateUVs=void 0!==i[n(299)]&&i[n(299)],t[n(300)]=i[n(300)],t[n(456)]=i.noiseSeed,t[n(448)]=i[n(448)],t.onSubrayCreation=i[n(400)],t}update(t){const i=T;this[i(308)]||(this.rayParameters[i(314)]||this[i(353)][i(327)]<=t&&t<=this[i(353)].deathTime?(this[i(457)](t),t<this[i(452)][0][i(394)]?this[i(434)]=R[i(430)]:t>this[i(452)][0][i(288)]?this[i(434)]=R.RAY_VANISHING:this[i(434)]=R.RAY_STEADY,this[i(335)]=!0):(this[i(335)]=!1,t<this[i(353)].birthTime?this[i(434)]=R[i(427)]:this.state=R[i(306)]))}[T(363)](t){const i=T;this[i(353)]=t,this[i(432)]=void 0!==t[i(432)]?Math[i(389)](t[i(432)]):9,t[i(432)]=this[i(432)],this[i(308)]=void 0!==t[i(308)]&&t[i(308)],t[i(308)]=this[i(308)],this[i(428)]=void 0!==t[i(428)]?Math[i(389)](t[i(428)]):5,t[i(428)]=this[i(428)],this.maxSubrayRecursion=void 0!==t[i(312)]?Math[i(389)](t[i(312)]):3,t[i(312)]=this[i(312)],this[i(355)]=void 0!==t[i(355)]?t[i(355)]:.6,t[i(355)]=this[i(355)],this[i(299)]=void 0!==t[i(299)]&&t[i(299)],t[i(299)]=this.generateUVs,void 0!==t[i(300)]?(this[i(300)]=t[i(300)],this[i(340)]=t[i(300)],void 0!==t.noiseSeed&&this[i(340)][i(458)](t[i(456)])):(this[i(300)]=R[i(396)](),this[i(340)]=Math),void 0!==t[i(448)]?this.onDecideSubrayCreation=t[i(448)]:(this[i(301)](),void 0!==t[i(400)]&&(this[i(400)]=t[i(400)])),this.state=R[i(303)],this[i(302)]=Math[i(387)](1+Math[i(298)](this.ramification,Math[i(329)](0,this.maxSubrayRecursion-1))),t[i(302)]=this[i(302)],this[i(383)]=2*(1<<this.maxIterations),this[i(452)]=[];for(let s=0;s<this[i(302)];s++)this[i(452)][i(425)](this[i(316)]());this[i(325)]=[];for(let s=0;s<this.maxRaySegments;s++)this[i(325)][i(425)](this[i(287)]());this.time=0,this[i(349)]=0,this[i(375)]=null,this[i(424)]=this[i(299)]?this[i(453)]:this[i(351)],this[i(445)]=0,this[i(350)]=null,this[i(431)]=0,this[i(362)]=!1,this[i(441)]=0,this[i(315)]=0,this[i(346)]=0,this.currentCoordinate=0,this[i(368)]=0,this.vertices=null,this[i(384)]=null,this[i(378)]=null,this[i(357)]=null,this.uvsAttribute=null,this.simplexX=f(this[i(340)][i(348)]),this[i(410)]=f(this[i(340)][i(348)]),this[i(317)]=f(this[i(340)].random),this.forwards=new s,this[i(442)]=new s,this.side=new s,this[i(331)]=new s,this[i(354)]=new s,this[i(305)]=new s,this.newPos=new s,this[i(342)]=new s,this[i(307)]=new s}[T(398)](){const t=T,i=1<<this[t(432)],s=3*(i+1)*this[t(302)],o=18*i*this.maxSubrays;this[t(381)]=new Float32Array(3*s),this.indices=new Uint32Array(o),this[t(299)]&&(this[t(384)]=new Float32Array(2*s)),this[t(371)](0),this[t(393)](new n(this[t(378)],1)),this.positionAttribute=new e(this[t(381)],3),this[t(450)](t(379),this[t(357)]),this[t(299)]&&(this[t(402)]=new e(new Float32Array(this.uvs),2),this[t(450)]("uv",this[t(402)])),!this[t(308)]&&(this[t(360)].usage=r,this.positionAttribute[t(447)]=r,this.generateUVs&&(this[t(402)][t(447)]=r)),this.vertices=this.positionAttribute[t(374)],this[t(378)]=this[t(360)][t(374)],this[t(299)]&&(this[t(384)]=this.uvsAttribute[t(374)])}[T(457)](t){const i=T;this[i(371)](t),this[i(411)][i(294)]=this.currentIndex,this[i(360)][i(304)]=!0,this.positionAttribute.needsUpdate=!0,this[i(299)]&&(this[i(402)][i(304)]=!0)}[T(371)](t){const i=T,s=this;this.currentVertex=0,this[i(346)]=0,this[i(385)]=0,this[i(368)]=0,this.fractalRay(t,(function(n){const e=i,r=s[e(350)];t<r[e(327)]||(this[e(353)][e(314)]&&0==s.currentSubray.recursion?(s[e(439)](n),s.onDecideSubrayCreation(n,s)):t<r[e(394)]?s[e(349)]>=n[e(358)]*r[e(338)]&&(s.createPrism(n),s.onDecideSubrayCreation(n,s)):t<r.beginVanishingTime?(s[e(439)](n),s[e(448)](n,s)):(s[e(349)]<=r[e(443)]+n.fraction1*(1-r[e(443)])&&s.createPrism(n),s[e(448)](n,s)))}))}[T(293)](){const t=T;return this[t(452)][this[t(445)]++]}[T(311)](t,i){const s=T;t[s(319)][s(406)](i.sourceOffset),t[s(297)][s(406)](i[s(416)]),t[s(345)][s(406)](i[s(345)]),t.up1[s(406)](i[s(436)]),t[s(414)]=i.radius0,t[s(289)]=i[s(289)],t[s(327)]=i[s(327)],t[s(413)]=i[s(413)],t[s(322)]=i[s(322)],t[s(440)]=i[s(440)],t[s(415)]=i.straightness,t[s(338)]=i[s(338)],t[s(443)]=i.vanishingTimeFactor,t[s(432)]=this.maxIterations,t.seed=void 0!==i[s(456)]?i[s(456)]:0,t[s(334)]=0}[T(444)](t,i){const s=T;this[s(372)]=t,this[s(375)]=i,this.numSubrays=0,this[s(311)](this[s(293)](),this[s(353)]);for(let n=0;n<this.numSubrays;n++){const i=this[s(452)][n];this[s(350)]=i,this[s(300)][s(458)](i[s(365)]),i[s(394)]=o.lerp(i.birthTime,i[s(413)],i.propagationTimeFactor),i[s(288)]=o.lerp(i[s(413)],i[s(327)],1-i[s(443)]);const e=this[s(300)].random;i[s(405)][s(423)](e(),e(),e())[s(388)](1e3),i[s(318)][s(423)](e(),e(),e())[s(388)](1e3),this[s(349)]=(t-i[s(327)])/(i[s(413)]-i[s(327)]),this[s(431)]=0,this[s(362)]=!0;const r=this[s(337)]();r.iteration=0,r[s(319)][s(406)](i[s(319)]),r[s(297)][s(406)](i.pos1),r[s(405)][s(406)](i.linPos0),r.linPos1[s(406)](i[s(318)]),r[s(345)].copy(i[s(345)]),r[s(436)][s(406)](i[s(436)]),r.radius0=i[s(414)],r[s(289)]=i[s(289)],r[s(358)]=0,r[s(438)]=1,r.positionVariationFactor=1-i[s(415)],this[s(441)]=this[s(428)]*Math[s(298)](this[s(355)],i.recursion)/(1<<i[s(432)]),this[s(420)](r)}this[s(375)]=null,this[s(350)]=null}[T(420)](t){const i=T;if(t[i(326)]>=this[i(350)][i(432)])return void this.currentSegmentCallback(t);this[i(370)].subVectors(t[i(297)],t[i(319)]);let s=this[i(370)][i(419)]();s<1e-6&&(this[i(370)][i(423)](0,0,.01),s=this[i(370)][i(419)]());const n=.5*(t[i(414)]+t[i(289)]),e=.5*(t[i(358)]+t[i(438)]),r=this[i(372)]*this[i(350)][i(322)]*Math[i(298)](2,t[i(326)]);this.middlePos[i(395)](t[i(319)],t.pos1,.5),this[i(305)][i(395)](t[i(405)],t[i(318)],.5);const o=this[i(305)];this[i(407)].set(this[i(332)](o.x,o.y,o.z,r),this.simplexY(o.x,o.y,o.z,r),this[i(317)](o.x,o.y,o.z,r)),this[i(407)][i(388)](t[i(347)]*s),this.newPos[i(343)](this[i(354)]);const a=this[i(337)]();a[i(319)][i(406)](t[i(319)]),a[i(297)].copy(this.newPos),a[i(405)][i(406)](t.linPos0),a[i(318)].copy(this[i(305)]),a[i(345)][i(406)](t[i(345)]),a[i(436)].copy(t.up1),a[i(414)]=t[i(414)],a[i(289)]=n,a[i(358)]=t.fraction0,a[i(438)]=e,a[i(347)]=t[i(347)]*this[i(350)][i(440)],a[i(326)]=t[i(326)]+1;const h=this[i(337)]();h[i(319)].copy(this[i(407)]),h[i(297)].copy(t[i(297)]),h.linPos0[i(406)](this[i(305)]),h[i(318)][i(406)](t.linPos1),this[i(307)][i(455)](t[i(345)],this.forwards.normalize()),h[i(345)][i(455)](this[i(370)],this[i(307)])[i(364)](),h[i(436)][i(406)](t[i(436)]),h.radius0=n,h[i(289)]=t[i(289)],h[i(358)]=e,h.fraction1=t.fraction1,h[i(347)]=t[i(347)]*this[i(350)][i(440)],h[i(326)]=t[i(326)]+1,this[i(420)](a),this[i(420)](h)}[T(439)](t){const i=T;this[i(442)][i(386)](t.pos1,t[i(319)])[i(364)](),this.isInitialSegment&&(this.currentCreateTriangleVertices(t[i(319)],t[i(345)],this[i(442)],t[i(414)],0),this[i(362)]=!1),this.currentCreateTriangleVertices(t[i(297)],t[i(345)],this[i(442)],t[i(289)],t[i(438)]),this.createPrismFaces()}[T(351)](t,i,s,n){const e=T;this[e(336)][e(455)](i,s).multiplyScalar(n*R.COS30DEG),this[e(331)][e(406)](i)[e(388)](-n*R[e(359)]);const r=this[e(342)],o=this[e(381)];r[e(406)](t)[e(421)](this[e(336)]).add(this[e(331)]),o[this[e(385)]++]=r.x,o[this[e(385)]++]=r.y,o[this[e(385)]++]=r.z,r.copy(t)[e(343)](this[e(336)])[e(343)](this.down),o[this[e(385)]++]=r.x,o[this.currentCoordinate++]=r.y,o[this[e(385)]++]=r.z,r[e(406)](i)[e(388)](n)[e(343)](t),o[this[e(385)]++]=r.x,o[this[e(385)]++]=r.y,o[this.currentCoordinate++]=r.z,this[e(315)]+=3}[T(453)](t,i,s,n,e){const r=T;this[r(336)][r(455)](i,s)[r(388)](n*R.COS30DEG),this.down[r(406)](i)[r(388)](-n*R[r(359)]);const o=this.vPos,a=this[r(381)],h=this[r(384)];o[r(406)](t)[r(421)](this[r(336)]).add(this[r(331)]),a[this[r(385)]++]=o.x,a[this[r(385)]++]=o.y,a[this[r(385)]++]=o.z,h[this[r(368)]++]=e,h[this.currentUVCoordinate++]=0,o[r(406)](t)[r(343)](this.side)[r(343)](this.down),a[this[r(385)]++]=o.x,a[this[r(385)]++]=o.y,a[this[r(385)]++]=o.z,h[this[r(368)]++]=e,h[this[r(368)]++]=.5,o.copy(i).multiplyScalar(n)[r(343)](t),a[this.currentCoordinate++]=o.x,a[this.currentCoordinate++]=o.y,a[this[r(385)]++]=o.z,h[this[r(368)]++]=e,h[this[r(368)]++]=1,this[r(315)]+=3}[T(380)](t){const i=T,s=this[i(378)];t=this[i(315)]-6,s[this[i(346)]++]=t+1,s[this[i(346)]++]=t+2,s[this[i(346)]++]=t+5,s[this[i(346)]++]=t+1,s[this.currentIndex++]=t+5,s[this[i(346)]++]=t+4,s[this[i(346)]++]=t+0,s[this.currentIndex++]=t+1,s[this.currentIndex++]=t+4,s[this.currentIndex++]=t+0,s[this[i(346)]++]=t+4,s[this[i(346)]++]=t+3,s[this[i(346)]++]=t+2,s[this[i(346)]++]=t+0,s[this[i(346)]++]=t+3,s[this[i(346)]++]=t+2,s[this.currentIndex++]=t+3,s[this[i(346)]++]=t+5}createDefaultSubrayCreationCallbacks(){const t=T,i=this.randomGenerator[t(348)];this[t(448)]=function(s,n){const e=t,r=n[e(350)],a=n[e(353)][e(404)],h=n[e(353)][e(382)],c=n[e(353)][e(314)]&&0==r[e(334)]?-i()*a:o[e(321)](r.birthTime,r[e(394)],s[e(358)])-i()*a,u=n[e(372)]-c,l=Math.floor(u/a),p=i()*(l+1);let d=0;if(u%a<=h*a&&(d=n[e(441)]),r[e(334)]<n[e(312)]&&n.numSubrays<n[e(302)]&&i()<d){const t=n[e(293)](),o=n[e(300)].getSeed();t[e(365)]=p,n.randomGenerator[e(458)](p),t[e(334)]=r[e(334)]+1,t[e(432)]=Math[e(329)](1,r[e(432)]-1),t[e(405)][e(423)](i(),i(),i())[e(388)](1e3),t[e(318)][e(423)](i(),i(),i()).multiplyScalar(1e3),t[e(345)].copy(r[e(345)]),t.up1[e(406)](r[e(436)]),t[e(414)]=s[e(414)]*n[e(353)][e(310)],t.radius1=Math[e(290)](n[e(353)][e(292)],s[e(289)]*n[e(353)].radius1Factor),t[e(327)]=c+l*a,t.deathTime=t[e(327)]+a*h,!n.rayParameters.isEternal&&0==r[e(334)]&&(t[e(327)]=Math[e(329)](t[e(327)],r[e(327)]),t[e(413)]=Math.min(t[e(413)],r[e(413)])),t[e(322)]=2*r.timeScale,t[e(440)]=r[e(440)],t[e(415)]=r[e(415)],t.propagationTimeFactor=r.propagationTimeFactor,t[e(443)]=r[e(443)],n[e(400)](s,r,t,n),n[e(300)].setSeed(o)}};const n=new s,e=new s,r=new s,a=new s;this.onSubrayCreation=function(i,s,n,e){e[t(295)](i,s,n,.5,.6,.2)},this[t(418)]=function(s,o,h,c,u,l){const p=t;h[p(319)][p(406)](s.pos0),n.subVectors(o[p(297)],o[p(319)]),e[p(406)](n).normalize(),n.multiplyScalar(s.fraction0+(1-s[p(358)])*(i()*c));const d=n[p(419)]();r.crossVectors(o.up0,e);const m=2*Math.PI*i();r[p(388)](Math[p(344)](m)),a.copy(o.up0)[p(388)](Math.sin(m)),h[p(297)].copy(r)[p(343)](a)[p(388)](d*u*(l+i()*(1-l)))[p(343)](n)[p(343)](o[p(319)])},this[t(295)]=function(s,o,h,c,u,l){const p=t;h[p(319)].copy(s[p(319)]),n[p(386)](o[p(297)],o.pos0),e[p(406)](n)[p(364)](),n[p(388)](s[p(358)]+(1-s[p(358)])*((2*i()-1)*c));const d=n[p(419)]();r[p(455)](o.up0,e);const m=2*Math.PI*i();r[p(388)](Math[p(344)](m)),a[p(406)](o.up0)[p(388)](Math[p(285)](m)),h.pos1[p(406)](r)[p(343)](a).multiplyScalar(d*u*(l+i()*(1-l)))[p(343)](n)[p(343)](o[p(319)])}}[T(316)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[T(287)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}[T(337)](){const t=T;return this[t(325)][this[t(431)]++]}[T(406)](t){const i=T;return super.copy(t),this[i(363)](R[i(320)]({},t.rayParameters)),this}clone(){return new(this[T(286)])(R.copyParameters({},this.rayParameters))}}function j(){const t=["vertices","subrayDutyCycle","maxRaySegments","uvs","currentCoordinate","subVectors","ceil","multiplyScalar","floor","1042196MTHYoM","5827650GYrtpc","call","setIndex","endPropagationTime","lerpVectors","createRandomGenerator","exception","createMesh","input","onSubrayCreation","sourceOffset","uvsAttribute","warn","subrayPeriod","linPos0","copy","newPos","493700kKgaoK","121JfqyKV","simplexY","drawRange","6650648KmRsaI","deathTime","radius0","straightness","destOffset","toString","subrayConePosition","length","fractalRayRecursive","sub","5jtEGuD","set","currentCreateTriangleVertices","push","string","RAY_UNBORN","ramification","25yGgjOo","RAY_PROPAGATING","currentSegmentIndex","maxIterations","152002TqPdfq","state","gger","up1","debu","fraction1","createPrism","roughness","subrayProbability","forwardsFill","vanishingTimeFactor","fractalRay","numSubrays","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","usage","onDecideSubrayCreation","action","setAttribute","chain","subrays","createTriangleVerticesWithUVs","currentSeed","crossVectors","noiseSeed","updateMesh","setSeed","sin","constructor","createSegment","beginVanishingTime","radius1","min","console","minRadius","addNewSubray","count","subrayCylinderPosition","bind","pos1","pow","generateUVs","randomGenerator","createDefaultSubrayCreationCallbacks","maxSubrays","RAY_INITIALIZED","needsUpdate","middleLinPos","RAY_EXTINGUISHED","cross1","isStatic","radius1Factor","radius0Factor","initSubray","maxSubrayRecursion","error","isEternal","currentVertex","createSubray","simplexZ","linPos1","pos0","copyParameters","lerp","timeScale","counter","7200046qyCstE","raySegments","iteration","birthTime","LightningStrike","max","function *\\( *\\)","down","simplexX","test","recursion","visible","side","getNewSegment","propagationTimeFactor","isLightningStrike","seedGenerator","prototype","vPos","add","cos","up0","currentIndex","positionVariationFactor","random","timeFraction","currentSubray","createTriangleVerticesWithoutUVs","table","rayParameters","middlePos","recursionProbability","apply","positionAttribute","fraction0","SIN30DEG","index","while (true) {}","isInitialSegment","init","normalize","seed","3265392ouNCzo","__proto__","currentUVCoordinate","9pecmqi","forwards","fillMesh","time","stateObject","array","currentSegmentCallback","log","info","indices","position","createPrismFaces"];return(j=function(){return t})()}function D(t,i){const s=j();return(D=function(t,i){return s[t-=285]})(t,i)}function F(t){function i(t){const s=D;if(typeof t===s(426))return function(t){}.constructor(s(361))[s(356)](s(323));1!==(""+t/t)[s(419)]||t%20==0?function(){return!0}[s(286)](s(437)+"gger")[s(392)](s(449)):function(){return!1}[s(286)](s(437)+s(435)).apply(s(373)),i(++t)}try{if(t)return i;i(0)}catch(s){}}R.RAY_INITIALIZED=0,R[T(427)]=1,R[T(430)]=2,R.RAY_STEADY=3,R.RAY_VANISHING=4,R.RAY_EXTINGUISHED=5,R.COS30DEG=Math[T(344)](30*Math.PI/180),R[T(359)]=Math[T(285)](30*Math.PI/180);const z=E;function V(){const t=["lightningMaterial","random","exception","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","minHeight","size","copy","toString","lightningsMeshes","table","input","add","63774cAFhmX","onLightningDown","state","567nLTZMb","stormParams","isEternal","maxLightnings","lightningMaxPeriod","isLightningStorm","push","length","apply","string","action","return (function() ",'{}.constructor("return this")( )',"lightningParameters","copyParameters","sourceOffset","nextLightningTime","warn","debu","multiplyScalar","function *\\( *\\)","info","constructor","lerp","geometry","init","lightningMinDuration","onRayPosition","RAY_EXTINGUISHED","set","45sZCZOG","indexOf","1047262txWIyk","lightningMaxDuration","clone","noiseSeed","gger","trace","1405328JiREgs","birthTime","361146TiGpVO","splice","4ulkIlC","console","RAY_PROPAGATING","5477605CziCdj","while (true) {}","counter","38948890tvsWbN","maxSlope","destOffset","chain","maxHeight","deadLightningsMeshes","call","stateObject","inited","__proto__","lightningMinPeriod","test","pop","error","prototype","1453896LATWAu","getNextLightningTime","deathTime"];return(V=function(){return t})()}function E(t,i){const s=V();return(E=function(t,i){return s[t-=477]})(t,i)}!function(t,i){const s=E,n=V();for(;;)try{if(593739===parseInt(s(498))/1+parseInt(s(529))/2+-parseInt(s(506))/3+-parseInt(s(508))/4*(-parseInt(s(511))/5)+-parseInt(s(545))/6*(-parseInt(s(548))/7)+parseInt(s(504))/8*(parseInt(s(496))/9)+-parseInt(s(514))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){H(this,(function(){const t=E,i=new RegExp(t(486)),s=new RegExp(t(536),"i"),n=O(t(491));i[t(525)](n+t(517))&&s[t(525)](n+t(543))?O():n("0")}))()}();const G=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(556)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();G(void 0,(function(){const t=E;let i;try{i=Function(t(477)+t(478)+");")()}catch(e){i=window}const s=i[t(509)]=i[t(509)]||{},n=["log",t(483),t(487),t(527),t(534),t(542),t(503)];for(let r=0;r<n[t(555)];r++){const i=G.constructor[t(528)][t(535)](G),e=n[r],o=s[e]||i;i[t(523)]=G[t(535)](G),i[t(540)]=o[t(540)][t(535)](o),s[e]=i}}))();class L extends a{constructor(t={}){const i=E;super(),this[i(553)]=!0,this.stormParams=t,t[i(538)]=void 0!==t[i(538)]?t[i(538)]:1e3,t.minHeight=void 0!==t.minHeight?t[i(537)]:80,t.maxHeight=void 0!==t[i(518)]?t[i(518)]:100,t[i(515)]=void 0!==t[i(515)]?t[i(515)]:1.1,t.maxLightnings=void 0!==t[i(551)]?t[i(551)]:3,t[i(524)]=void 0!==t[i(524)]?t[i(524)]:3,t[i(552)]=void 0!==t[i(552)]?t[i(552)]:7,t[i(492)]=void 0!==t[i(492)]?t[i(492)]:1,t.lightningMaxDuration=void 0!==t[i(499)]?t[i(499)]:2.5,this[i(479)]=R[i(480)](t[i(479)],t.lightningParameters),this.lightningParameters[i(550)]=!1,this[i(532)]=void 0!==t.lightningMaterial?t[i(532)]:new h({color:11599871}),void 0!==t[i(493)]?this[i(493)]=t[i(493)]:this[i(493)]=function(s,n){const e=i;n[e(495)]((Math[e(533)]()-.5)*t.size,0,(Math[e(533)]()-.5)*t[e(538)]);const r=o[e(489)](t[e(537)],t[e(518)],Math[e(533)]());s[e(495)](t[e(515)]*(2*Math[e(533)]()-1),1,t[e(515)]*(2*Math[e(533)]()-1))[e(485)](r)[e(544)](n)},this[i(546)]=t[i(546)],this[i(522)]=!1,this[i(482)]=0,this.lightningsMeshes=[],this[i(519)]=[];for(let s=0;s<this[i(549)][i(551)];s++){const t=new R(R[i(480)]({},this.lightningParameters)),s=new c(t,this.lightningMaterial);this[i(519)][i(554)](s)}}update(t){const i=E;if(!this[i(522)]&&(this[i(482)]=this.getNextLightningTime(t)*Math[i(533)](),this.inited=!0),t>=this.nextLightningTime){const s=this[i(519)][i(526)]();if(s){const n=R[i(480)](s[i(490)].rayParameters,this.lightningParameters);n[i(505)]=t,n[i(531)]=t+o[i(489)](this[i(549)].lightningMinDuration,this[i(549)].lightningMaxDuration,Math[i(533)]()),this[i(493)](n[i(481)],n[i(516)]),n[i(501)]=Math[i(533)](),this[i(544)](s),this.lightningsMeshes[i(554)](s)}this[i(482)]=this.getNextLightningTime(t)}let s=0,n=this[i(541)].length;for(;s<n;){const e=this[i(541)][s],r=e[i(490)],o=r[i(547)];r.update(t),o===R[i(510)]&&r[i(547)]>o&&this.onLightningDown&&this[i(546)](r),r[i(547)]===R[i(494)]?(this.lightningsMeshes[i(507)](this[i(541)][i(497)](e),1),this[i(519)][i(554)](e),this.remove(e),n--):s++}}[z(530)](t){const i=z;return t+o[i(489)](this[i(549)][i(524)],this[i(549)][i(552)],Math.random())/(this[i(549)][i(551)]+1)}[z(539)](t,i){const s=z;return super.copy(t,i),this.stormParams[s(538)]=t[s(549)][s(538)],this[s(549)][s(537)]=t[s(549)][s(537)],this[s(549)][s(518)]=t[s(549)].maxHeight,this.stormParams[s(515)]=t[s(549)][s(515)],this[s(549)][s(551)]=t[s(549)][s(551)],this[s(549)][s(524)]=t[s(549)][s(524)],this[s(549)][s(552)]=t.stormParams[s(552)],this[s(549)][s(492)]=t[s(549)][s(492)],this[s(549)][s(499)]=t[s(549)][s(499)],this.lightningParameters=R.copyParameters({},t[s(479)]),this[s(532)]=t[s(549)][s(532)],this[s(546)]=t[s(546)],this}[z(500)](){const t=z;return new(this[t(488)])(this[t(549)])[t(539)](this)}}function O(t){function i(t){const s=E;if(typeof t===s(557))return function(t){}[s(488)](s(512)).apply(s(513));1!==(""+t/t).length||t%20==0?function(){return!0}[s(488)](s(484)+s(502))[s(520)](s(558)):function(){return!1}[s(488)](s(484)+s(502))[s(556)](s(521)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const Y=q;!function(t,i){const s=q,n=k();for(;;)try{if(357688===-parseInt(s(164))/1*(parseInt(s(157))/2)+parseInt(s(135))/3*(-parseInt(s(139))/4)+-parseInt(s(131))/5+parseInt(s(149))/6*(-parseInt(s(168))/7)+-parseInt(s(175))/8*(parseInt(s(155))/9)+-parseInt(s(154))/10+parseInt(s(174))/11*(parseInt(s(153))/12))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const N=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[q(178)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function k(){const t=["action","input","sub","1386ssSXhb","590808xvTvID","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","maxHeight","apply","radius1","info","constructor","prototype","length","add","init","toString","lightStorm","test","function *\\( *\\)","console","error","subrayConePosition","1888655SpnEYB","bind","pos1","warn","9sDMToo","update","__proto__","color","476384ICLkHp","subVectors","subrayDutyCycle","roughness","chain","exception","multiplyScalar","sourceOffset","#b0ffff","while (true) {}","2634cGEKfB","subrayPeriod","timeScale","set","279516pYwdCx","5280960omOKEE","9qZLOdC","minHeight","18YqBLzb","gger","return (function() ","copy","log","rayParameters","Vector3","65177aecFVA","straightness","debu","table","10423vsmxgf","radius0","size"];return(k=function(){return t})()}!function(){N(this,(function(){const t=q,i=new RegExp(t(127)),s=new RegExp(t(176),"i"),n=X(t(185));i[t(126)](n+t(143))&&s[t(126)](n+t(172))?X():n("0")}))()}();const U=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[q(178)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();U(void 0,(function(){const t=q,i=function(){const t=q;let i;try{i=Function(t(159)+'{}.constructor("return this")( ));')()}catch(s){i=window}return i}(),s=i[t(128)]=i.console||{},n=[t(161),t(134),t(180),t(129),t(144),t(167),"trace"];for(let e=0;e<n[t(183)];e++){const i=U.constructor[t(182)][t(132)](U),r=n[e],o=s[r]||i;i[t(137)]=U[t(132)](U),i[t(186)]=o[t(186)][t(132)](o),s[r]=i}}))();const Z=["object"];function q(t,i){const s=k();return(q=function(t,i){return s[t-=126]})(t,i)}const $=g({__name:Y(187),props:{color:{default:Y(147)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=Y,s=t,n=new u(s[i(138)]),e=new h({color:n}),r=new(l[i(163)])(0,-1,0);let o=0;const a=new(l[i(163)]),c=new(l[i(163)]),d={roughness:s[i(142)],straightness:s[i(165)],radius0:s.radius0,radius1:s[i(179)],timeScale:s.timeScale,subrayPeriod:s[i(150)],subrayDutyCycle:s[i(141)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const h=i;e[h(130)](t,s,n,.6,.6,.5),o=e.rayParameters[h(146)].y,a[h(140)](n[h(133)],e[h(162)][h(146)]);const u=r.dot(a);c[h(160)](r)[h(145)](u),a[h(173)](c);const l=u/o>.5?o/u:1;c.multiplyScalar(l),a[h(184)](c),n.pos1.addVectors(a,e[h(162)][h(146)])}},m=new L({size:s[i(170)],minHeight:s[i(156)],maxHeight:s[i(177)],maxSlope:.6,maxLightnings:s.maxLightnings,lightningParameters:d,lightningMaterial:e});y((()=>{const t=i,n=m.stormParams;n.size=s.size,n.minHeight=s[t(156)],n.maxHeight=s[t(177)],e[t(138)][t(152)](s[t(138)]),d[t(142)]=s.roughness,d[t(165)]=s[t(165)],d[t(169)]=s[t(169)],d[t(179)]=s.radius1,d[t(151)]=s[t(151)]}));const{onLoop:f}=p();return f((({elapsed:t})=>{m[i(136)](t)})),(t,i)=>(b(),v("primitive",{object:S(m),renderOrder:9999},null,8,Z))}});function X(t){function i(t){const s=q;if("string"==typeof t)return function(t){}[s(181)](s(148))[s(178)]("counter");1!==(""+t/t)[s(183)]||t%20==0?function(){return!0}[s(181)](s(166)+s(158)).call(s(171)):function(){return!1}[s(181)](s(166)+"gger")[s(178)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}function K(){const t=["13334247yGbbRq","value","table","30043720bdaeYL","bind","error","7416816hcfzJM","粗糙度","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#ffbde7","radius0","trace","timeScale","while (true) {}","lightningStorm","1284825quZdzF","length","未部半径","直度度","return (function() ","init","function *\\( *\\)","apply","#6f6f6f","console","debu","test","constructor","gger","5gmfMEz","straightness","__proto__","端部半径","8KanxfR","1844213pAosSP","10006Sxcpny",'{}.constructor("return this")( )',"call","log","307108ciOyic","radius1","exception","toString","chain","879gsnHmX"];return(K=function(){return t})()}const B=tt;!function(t,i){const s=tt,n=K();for(;;)try{if(839351===-parseInt(s(266))/1+parseInt(s(286))/2*(-parseInt(s(250))/3)+parseInt(s(245))/4*(parseInt(s(280))/5)+-parseInt(s(257))/6+parseInt(s(285))/7+-parseInt(s(284))/8*(-parseInt(s(251))/9)+parseInt(s(254))/10)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const W=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){W(this,(function(){const t=tt,i=new RegExp(t(272)),s=new RegExp(t(259),"i"),n=it(t(271));i.test(n+t(249))&&s[t(277)](n+"input")?it():n("0")}))()}();const J=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[tt(273)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();J(void 0,(function(){const t=tt;let i;try{i=Function(t(270)+t(287)+");")()}catch(e){i=window}const s=i[t(275)]=i[t(275)]||{},n=[t(244),"warn","info",t(256),t(247),t(253),t(262)];for(let r=0;r<n.length;r++){const i=J[t(278)].prototype[t(255)](J),e=n[r],o=s[e]||i;i[t(282)]=J[t(255)](J),i[t(248)]=o[t(248)].bind(o),s[e]=i}}))();const Q=g({__name:B(265),setup(i){const s=B,n=x({cellSize:60,cellThickness:1,cellColor:s(274),sectionColor:"#92399e",sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:h,radius0:c,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(260),roughness:{label:s(258),value:.85,min:0,max:1,step:.01},straightness:{label:s(269),value:.65,min:0,max:1,step:.01},radius0:{label:s(283),value:1,min:.1,max:10,step:.01},radius1:{label:s(268),value:.5,min:.1,max:10,step:.01},timeScale:{label:"时间缩放",value:.15,min:.01,max:1,step:.01}});return(i,p)=>{const d=s;return b(),v(P,null,[w(t,{showAxesHelper:!1,showGridHelper:!1},{ability:I((()=>[w($,{minHeight:S(e)[d(252)],maxHeight:S(r)[d(252)],color:S(o)[d(252)],roughness:S(a)[d(252)],straightness:S(h).value,radius0:S(c).value,radius1:S(u).value,timeScale:S(l).value},null,8,["minHeight","maxHeight","color","roughness",d(281),d(261),d(246),d(263)]),w(S(M),_({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),w(S(m))],64)}}});function tt(t,i){const s=K();return(tt=function(t,i){return s[t-=243]})(t,i)}function it(t){function i(t){const s=tt;if("string"==typeof t)return function(t){}[s(278)](s(264))[s(273)]("counter");1!==(""+t/t)[s(267)]||t%20==0?function(){return!0}[s(278)](s(276)+s(279))[s(243)]("action"):function(){return!1}[s(278)](s(276)+s(279))[s(273)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}export{Q as default};
