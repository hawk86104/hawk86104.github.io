import{q as t,Y as n}from"./@tresjs.CmAaFQUS1729762363846.js";import{P as e}from"./tweakpane.BCjFYDHx1729762363846.js";import{Y as o,_ as r,ak as a,al as s}from"./three.CQvcOG671729762363846.js";import{_ as i}from"./heatmap.js-fix.B8SySytI1729762363846.js";import{d as c,a5 as u,a2 as p,o as l,E as f,u as d,r as h,e as m,f as g,g as v,j as y,al as w,aj as b,ak as x,m as _,L as I}from"./@vue.n8X62v121729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";import"./@amap.irWeW_Ar1729762363846.js";function j(t,n){const e=S();return(j=function(t,n){return e[t-=210]})(t,n)}!function(t,n){const e=j,o=S();for(;;)try{if(154123===parseInt(e(264))/1*(-parseInt(e(220))/2)+-parseInt(e(225))/3*(-parseInt(e(240))/4)+parseInt(e(259))/5*(parseInt(e(271))/6)+-parseInt(e(266))/7*(parseInt(e(261))/8)+parseInt(e(238))/9*(parseInt(e(215))/10)+-parseInt(e(276))/11+-parseInt(e(286))/12*(-parseInt(e(214))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[j(212)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=j,n=new RegExp(t(211)),e=new RegExp(t(274),"i"),o=O(t(218));n[t(281)](o+t(234))&&e.test(o+t(284))?O():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[j(212)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();k(void 0,(function(){const t=j;let n;try{n=Function(t(253)+t(248)+");")()}catch(r){n=window}const e=n[t(277)]=n[t(277)]||{},o=[t(285),t(268),t(231),t(282),"exception",t(221),"trace"];for(let a=0;a<o[t(250)];a++){const n=k[t(273)].prototype[t(269)](k),r=o[a],s=e[r]||n;n.__proto__=k[t(269)](k),n[t(244)]=s[t(244)][t(269)](s),e[r]=n}}))();const A=["object"];function S(){const t=["_renderer","warn","bind","attributes","1152AySuoo","block","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","layerX","2608551nAkzOG","console","none","geometry","addData","test","error","40px","input","log","840VhDdbx","appendChild","setDataMax","function *\\( *\\)","apply","body","63934UtxZKV","10fFukUM","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","init","display","31142gCoZbU","table","deleteAttribute","needsUpdate","debu","18cmVofC","gger","./draco/","create","style","action","info","string","ShaderMaterial","chain","mesh_0","BufferAttribute","radius","2706633oNOcUB","scale","14020nNvnKJ","layerY","push","set","toString","setScalar","position","call",'{}.constructor("return this")( )',"border","length","left","0.8","return (function() ","setAttribute","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","DoubleSide","while (true) {}","boundingBox","6705PgaCYt","canvas","1194680GcYEOq","primitive","getX","15KarNjg","count","14gwkDNO"];return(S=function(){return t})()}const D=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(255),{draco:!0,decoderPath:e(227)}))),a=await a,s(),a);h[e(235)].position[e(243)](-5088.96,-3.08,39374.7),h[e(235)][e(239)][e(245)](.01);let m=null,g=null,v=null;g=new o((()=>{const t=e;return v=document.createElement("heatmap-canvas"),v[t(229)][t(246)]="absolute",v[t(229)].top=t(283),v[t(229)][t(251)]="0",document[t(213)][t(287)](v),m=i[t(228)]({container:v,width:256,height:256,blur:t(252),radius:c[t(237)]}),m[t(267)][t(260)][t(229)][t(249)]="1px solid #5384ff",m[t(267)][t(260)].onclick=function(n){const e=t;m[e(280)]({x:n[e(275)],y:n[e(241)],value:1,radius:c.radius}),m[e(210)](1),g&&(g[e(223)]=!0)},m})()[e(267)][e(260)]);const y={vertexShader:e(216),fragmentShader:e(217),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(256)]},w=new(r[e(233)])(y);h.mesh_0.material=w;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:a}=t[n(258)];t[n(222)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(270)][n(246)][n(265)];e++)c[n(242)]((t[n(270)].position[n(263)](e)-a.x)/s),c[n(242)]((t[n(270)][n(246)].getZ(e)-a.z)/i);const u=new Float32Array(c);t[n(254)]("uv",new(r[n(236)])(u,2))})(h[e(235)][e(279)]),p((()=>{const t=e;v[t(229)][t(219)]=""+(c.show2dCanvas?t(272):t(278))})),(t,n)=>{const o=e;return l(),f(o(262),{object:d(h)[o(235)]},null,8,A)}}});function O(t){function n(t){const e=j;if(typeof t===e(232))return function(t){}[e(273)](e(257))[e(212)]("counter");1!==(""+t/t)[e(250)]||t%20==0?function(){return!0}[e(273)](e(224)+e(226))[e(247)](e(230)):function(){return!1}[e(273)]("debu"+e(226))[e(212)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=U;!function(t,n){const e=U,o=P();for(;;)try{if(977470===-parseInt(e(265))/1+-parseInt(e(243))/2+-parseInt(e(247))/3+parseInt(e(233))/4+-parseInt(e(234))/5+parseInt(e(244))/6*(-parseInt(e(236))/7)+parseInt(e(245))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=N(t(251));n.test(o+"chain")&&e.test(o+t(266))?N():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(t,n){const e=P();return(U=function(t,n){return e[t-=233]})(t,n)}function P(){const t=["TresPerspectiveCamera","2627860mHkdYT","762ACDPYZ","35932352kmPSPw","console","4951914cAwkpV","constructor","while (true) {}","stateObject","init","addBinding","log","gger","radius","return (function() ","TresGridHelper","trace","length","toString","call","#ffffff","显示二维图","string","770218SLuDOt","input","#030311","3228308wdoarl","1485295iANqsB","exception","15946pWNQYu","圆圈的大小","addButton","apply","show2dCanvas","bind"];return(P=function(){return t})()}M(void 0,(function(){const t=U;let n;try{n=Function(t(256)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(246)]=n[t(246)]||{},o=[t(253),"warn","info","error",t(235),"table",t(258)];for(let a=0;a<o[t(259)];a++){const n=M.constructor.prototype[t(241)](M),r=o[a],s=e[r]||n;n.__proto__=M.bind(M),n[t(260)]=s[t(260)][t(241)](s),e[r]=n}}))();const Y=I(z(242),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),Z=I("TresDirectionalLight",{position:[5,10,7.5],color:z(262),intensity:5},null,-1),E=I(z(257),{args:[50,25]},null,-1),T=c({__name:"heatmapClick",setup(t){const o=z,r={clearColor:o(267),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(252)](i,o(240),{label:o(263)}),c[o(252)](i,o(255),{label:o(237),min:.1,max:30,step:.1}),c[o(238)]({title:"点击左侧蓝色画框"}),(t,e)=>{const o=m("TresCanvas");return l(),g(o,_(r,{"window-size":""}),{default:v((()=>[Y,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),Z,E,(l(),g(w,null,{default:v((()=>[y(D,b(x(i)),null,16)])),_:1}))])),_:1},16)}}});function N(t){function n(t){const e=U;if(typeof t===e(264))return function(t){}.constructor(e(249)).apply("counter");1!==(""+t/t)[e(259)]||t%20==0?function(){return!0}.constructor("debu"+e(254))[e(261)]("action"):function(){return!1}[e(248)]("debu"+e(254))[e(239)](e(250)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{T as default};
