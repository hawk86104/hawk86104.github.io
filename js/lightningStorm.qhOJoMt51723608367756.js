import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.4Qe_mPtI1723608367756.js";import{B as i,V as s,cj as n,aB as e,N as r,h as o,ae as a,Y as c,q as h,a6 as u}from"./three.X8FgZbPT1723608367756.js";import{$ as l,D as d,i as p}from"./@tresjs.zzLYikgQ1723608367756.js";import{c as m}from"./simplex-noise.MycypUyu1723608367756.js";import{d as f,a1 as g,o as y,D as b,u as S,r as x,j as v,g as w,m as I,F as _}from"./@vue.Q1VpS3901723608367756.js";import"./index.yZKdDVni1723608367756.js";import{_ as P}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.He6ca_bk1723608367756.js";import"./three-custom-shader-material.cv-Ci-gX1723608367756.js";import"./object-hash.UuJege4m1723608367756.js";import"./@amap.AaCaABAE1723608367756.js";import"./jszip.fq1N6JAS1723608367756.js";import"./glsl-tokenizer.ThrrjBBu1723608367756.js";import"./glsl-token-string.8SC_GpjQ1723608367756.js";import"./glsl-token-functions.bUknzHyA1723608367756.js";import"./tweakpane.yHWGBmom1723608367756.js";import"./@vueuse.QL9lULrD1723608367756.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.XvLDJXdZ1723608367756.js";import"./all.three.xZ8wTwo21723608367756.js";import"./oimophysics.x0jH7fze1723608367756.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.14Z4BtU41723608367756.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.57ORe-8E1723608367756.js";import"./index.WHdZ4mF61723608367756.js";import"./three-stdlib.dKtHHxUb1723608367756.js";import"./@pmndrs.enT7k5Vt1723608367756.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.RtYXKd1r1723608367756.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.ZrVj1mC41723608367756.js";const M=T;!function(t,i){const s=T,n=A();for(;;)try{if(101287===parseInt(s(224))/1*(-parseInt(s(249))/2)+-parseInt(s(166))/3*(parseInt(s(254))/4)+-parseInt(s(222))/5+-parseInt(s(177))/6*(-parseInt(s(183))/7)+parseInt(s(128))/8+parseInt(s(193))/9*(-parseInt(s(243))/10)+parseInt(s(115))/11)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const C=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[T(133)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function T(t,i){const s=A();return(T=function(t,i){return s[t-=101]})(t,i)}!function(){C(this,(function(){const t=T,i=new RegExp("function *\\( *\\)"),s=new RegExp(t(124),"i"),n=j(t(189));i[t(240)](n+t(175))&&s[t(240)](n+"input")?j():n("0")}))()}();const R=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[T(133)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();R(void 0,(function(){const t=T,i=function(){const t=T;let i;try{i=Function(t(123)+t(207)+");")()}catch(s){i=window}return i}(),s=i.console=i[t(178)]||{},n=[t(192),t(160),t(148),t(273),t(241),t(158),"trace"];for(let e=0;e<n[t(108)];e++){const i=R[t(120)][t(203)][t(111)](R),r=n[e],o=s[r]||i;i[t(196)]=R.bind(R),i[t(225)]=o[t(225)][t(111)](o),s[r]=i}}))();class V extends i{constructor(t={}){const i=T;super(),this[i(159)]=!0,this[i(187)]="LightningStrike",this[i(189)](V[i(191)](t,t)),this.createMesh()}static[M(181)](){const t=M,i=2053,s=[];for(let e=0;e<i;e++)s[t(139)](Math.random());const n={currentSeed:0,random:function(){const e=t,r=s[n[e(165)]];return n[e(165)]=(n[e(165)]+1)%i,r},getSeed:function(){return n[t(165)]/i},setSeed:function(s){const e=t;n[e(165)]=Math[e(266)](s*i)%i}};return n}static[M(191)](t={},i={}){const n=M,e=function(s){return i===t?s:s[T(157)]()};return t[n(211)]=void 0!==i.sourceOffset?e(i[n(211)]):new s(0,100,0),t[n(106)]=void 0!==i[n(106)]?e(i[n(106)]):new s(0,0,0),t[n(105)]=void 0!==i[n(105)]?i[n(105)]:1,t[n(250)]=void 0!==i[n(250)]?i[n(250)]:.9,t[n(271)]=void 0!==i[n(271)]?i[n(271)]:.7,t.up0=void 0!==i[n(144)]?e(i[n(144)]):new s(0,0,1),t.up1=void 0!==i[n(150)]?e(i.up1):new s(0,0,1),t[n(172)]=void 0!==i.radius0?i.radius0:1,t.radius1=void 0!==i.radius1?i[n(179)]:1,t[n(135)]=void 0!==i[n(135)]?i.radius0Factor:.5,t.radius1Factor=void 0!==i[n(251)]?i.radius1Factor:.2,t[n(206)]=void 0!==i.minRadius?i.minRadius:.2,t[n(168)]=void 0!==i[n(168)]?i[n(168)]:void 0===i[n(162)]||void 0===i[n(142)],t.birthTime=i[n(162)],t[n(142)]=i.deathTime,t[n(253)]=void 0!==i[n(253)]?i[n(253)]:.1,t[n(176)]=void 0!==i[n(176)]?i.vanishingTimeFactor:.9,t[n(268)]=void 0!==i[n(268)]?i[n(268)]:4,t[n(257)]=void 0!==i.subrayDutyCycle?i.subrayDutyCycle:.6,t[n(137)]=void 0!==i[n(137)]?i[n(137)]:9,t[n(102)]=void 0!==i[n(102)]&&i[n(102)],t[n(134)]=void 0!==i.ramification?i[n(134)]:5,t.maxSubrayRecursion=void 0!==i[n(155)]?i.maxSubrayRecursion:3,t[n(228)]=void 0!==i[n(228)]?i[n(228)]:.6,t[n(130)]=void 0!==i.generateUVs&&i[n(130)],t.randomGenerator=i[n(185)],t.noiseSeed=i[n(119)],t[n(117)]=i[n(117)],t[n(113)]=i[n(113)],t}[M(194)](t){const i=M;this.isStatic||(this[i(190)][i(168)]||this[i(190)][i(162)]<=t&&t<=this.rayParameters[i(142)]?(this[i(231)](t),t<this[i(248)][0].endPropagationTime?this[i(174)]=V[i(164)]:t>this[i(248)][0][i(197)]?this[i(174)]=V.RAY_VANISHING:this.state=V.RAY_STEADY,this[i(138)]=!0):(this[i(138)]=!1,t<this[i(190)][i(162)]?this[i(174)]=V[i(217)]:this[i(174)]=V[i(210)]))}[M(189)](t){const i=M;this[i(190)]=t,this[i(137)]=void 0!==t.maxIterations?Math.floor(t[i(137)]):9,t.maxIterations=this[i(137)],this[i(102)]=void 0!==t[i(102)]&&t.isStatic,t[i(102)]=this[i(102)],this[i(134)]=void 0!==t[i(134)]?Math[i(266)](t[i(134)]):5,t.ramification=this[i(134)],this[i(155)]=void 0!==t[i(155)]?Math[i(266)](t[i(155)]):3,t[i(155)]=this[i(155)],this[i(228)]=void 0!==t.recursionProbability?t[i(228)]:.6,t.recursionProbability=this.recursionProbability,this[i(130)]=void 0!==t[i(130)]&&t[i(130)],t[i(130)]=this[i(130)],void 0!==t[i(185)]?(this[i(185)]=t[i(185)],this.seedGenerator=t[i(185)],void 0!==t[i(119)]&&this[i(182)][i(195)](t[i(119)])):(this[i(185)]=V[i(181)](),this.seedGenerator=Math),void 0!==t[i(117)]?this[i(117)]=t[i(117)]:(this.createDefaultSubrayCreationCallbacks(),void 0!==t[i(113)]&&(this[i(113)]=t[i(113)])),this[i(174)]=V.RAY_INITIALIZED,this.maxSubrays=Math[i(149)](1+Math[i(272)](this[i(134)],Math.max(0,this[i(155)]-1))),t[i(226)]=this[i(226)],this[i(129)]=2*(1<<this[i(137)]),this[i(248)]=[];for(let s=0;s<this.maxSubrays;s++)this[i(248)][i(139)](this[i(121)]());this[i(221)]=[];for(let s=0;s<this[i(129)];s++)this[i(221)][i(139)](this[i(227)]());this[i(184)]=0,this[i(218)]=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this[i(130)]?this.createTriangleVerticesWithUVs:this[i(126)],this[i(208)]=0,this.currentSubray=null,this[i(169)]=0,this[i(244)]=!1,this.subrayProbability=0,this[i(161)]=0,this.currentIndex=0,this[i(220)]=0,this.currentUVCoordinate=0,this[i(180)]=null,this[i(104)]=null,this[i(143)]=null,this[i(140)]=null,this[i(141)]=null,this[i(199)]=m(this[i(182)].random),this[i(238)]=m(this[i(182)][i(202)]),this[i(223)]=m(this[i(182)].random),this.forwards=new s,this.forwardsFill=new s,this[i(145)]=new s,this[i(270)]=new s,this[i(237)]=new s,this[i(215)]=new s,this[i(219)]=new s,this.vPos=new s,this.cross1=new s}[M(229)](){const t=M,i=1<<this[t(137)],s=3*(i+1)*this[t(226)],o=18*i*this[t(226)];this[t(180)]=new Float32Array(3*s),this.indices=new Uint32Array(o),this.generateUVs&&(this[t(104)]=new Float32Array(2*s)),this[t(200)](0),this[t(132)](new n(this[t(143)],1)),this[t(140)]=new e(this.vertices,3),this.setAttribute(t(275),this[t(140)]),this[t(130)]&&(this[t(141)]=new e(new Float32Array(this[t(104)]),2),this[t(101)]("uv",this[t(141)])),!this[t(102)]&&(this[t(151)][t(201)]=r,this[t(140)][t(201)]=r,this[t(130)]&&(this[t(141)][t(201)]=r)),this.vertices=this[t(140)].array,this[t(143)]=this[t(151)][t(234)],this[t(130)]&&(this[t(104)]=this[t(141)][t(234)])}updateMesh(t){const i=M;this[i(200)](t),this[i(188)][i(103)]=this[i(146)],this[i(151)][i(252)]=!0,this[i(140)][i(252)]=!0,this[i(130)]&&(this.uvsAttribute[i(252)]=!0)}[M(200)](t){const i=M,s=this;this.currentVertex=0,this[i(146)]=0,this[i(220)]=0,this.currentUVCoordinate=0,this[i(242)](t,(function(n){const e=i,r=s.currentSubray;t<r[e(162)]||(this.rayParameters[e(168)]&&0==s[e(260)][e(198)]?(s[e(116)](n),s.onDecideSubrayCreation(n,s)):t<r[e(118)]?s[e(218)]>=n[e(265)]*r.propagationTimeFactor&&(s[e(116)](n),s[e(117)](n,s)):t<r[e(197)]?(s[e(116)](n),s[e(117)](n,s)):(s[e(218)]<=r[e(176)]+n[e(127)]*(1-r[e(176)])&&s[e(116)](n),s.onDecideSubrayCreation(n,s)))}))}[M(255)](){const t=M;return this.subrays[this[t(208)]++]}[M(122)](t,i){const s=M;t[s(125)][s(205)](i[s(211)]),t.pos1[s(205)](i[s(106)]),t.up0[s(205)](i[s(144)]),t[s(150)][s(205)](i[s(150)]),t.radius0=i[s(172)],t[s(179)]=i[s(179)],t[s(162)]=i.birthTime,t[s(142)]=i[s(142)],t[s(105)]=i[s(105)],t[s(250)]=i[s(250)],t[s(271)]=i[s(271)],t[s(253)]=i[s(253)],t.vanishingTimeFactor=i[s(176)],t.maxIterations=this[s(137)],t[s(214)]=void 0!==i[s(119)]?i[s(119)]:0,t[s(198)]=0}fractalRay(t,i){const s=M;this[s(184)]=t,this[s(262)]=i,this[s(208)]=0,this[s(122)](this.addNewSubray(),this[s(190)]);for(let n=0;n<this[s(208)];n++){const i=this[s(248)][n];this[s(260)]=i,this[s(185)].setSeed(i[s(214)]),i[s(118)]=o[s(259)](i[s(162)],i[s(142)],i[s(253)]),i[s(197)]=o[s(259)](i[s(142)],i.birthTime,1-i.vanishingTimeFactor);const e=this[s(185)].random;i.linPos0.set(e(),e(),e()).multiplyScalar(1e3),i[s(163)][s(274)](e(),e(),e())[s(110)](1e3),this.timeFraction=(t-i[s(162)])/(i.deathTime-i[s(162)]),this.currentSegmentIndex=0,this[s(244)]=!0;const r=this[s(136)]();r[s(247)]=0,r[s(125)].copy(i[s(125)]),r[s(109)][s(205)](i[s(109)]),r[s(267)][s(205)](i[s(267)]),r[s(163)].copy(i[s(163)]),r[s(144)][s(205)](i[s(144)]),r[s(150)].copy(i[s(150)]),r[s(172)]=i[s(172)],r[s(179)]=i[s(179)],r[s(265)]=0,r[s(127)]=1,r.positionVariationFactor=1-i[s(271)],this[s(204)]=this[s(134)]*Math[s(272)](this[s(228)],i[s(198)])/(1<<i[s(137)]),this.fractalRayRecursive(r)}this[s(262)]=null,this.currentSubray=null}fractalRayRecursive(t){const i=M;if(t[i(247)]>=this[i(260)][i(137)])return void this[i(262)](t);this[i(256)].subVectors(t[i(109)],t[i(125)]);let s=this.forwards[i(108)]();s<1e-6&&(this[i(256)][i(274)](0,0,.01),s=this[i(256)][i(108)]());const n=.5*(t[i(172)]+t.radius1),e=.5*(t.fraction0+t[i(127)]),r=this.time*this[i(260)][i(105)]*Math[i(272)](2,t[i(247)]);this[i(237)][i(246)](t.pos0,t[i(109)],.5),this[i(215)][i(246)](t[i(267)],t[i(163)],.5);const o=this[i(215)];this.newPos.set(this[i(199)](o.x,o.y,o.z,r),this[i(238)](o.x,o.y,o.z,r),this[i(223)](o.x,o.y,o.z,r)),this[i(219)].multiplyScalar(t[i(232)]*s),this[i(219)][i(261)](this[i(237)]);const a=this.getNewSegment();a[i(125)][i(205)](t.pos0),a[i(109)][i(205)](this[i(219)]),a.linPos0[i(205)](t[i(267)]),a[i(163)][i(205)](this[i(215)]),a[i(144)][i(205)](t.up0),a[i(150)][i(205)](t[i(150)]),a[i(172)]=t[i(172)],a[i(179)]=n,a.fraction0=t.fraction0,a[i(127)]=e,a[i(232)]=t[i(232)]*this[i(260)].roughness,a[i(247)]=t[i(247)]+1;const c=this.getNewSegment();c[i(125)].copy(this.newPos),c[i(109)].copy(t[i(109)]),c[i(267)][i(205)](this[i(215)]),c[i(163)][i(205)](t[i(163)]),this[i(173)][i(107)](t[i(144)],this[i(256)][i(264)]()),c.up0[i(107)](this[i(256)],this[i(173)])[i(264)](),c[i(150)].copy(t[i(150)]),c[i(172)]=n,c[i(179)]=t[i(179)],c.fraction0=e,c[i(127)]=t[i(127)],c.positionVariationFactor=t.positionVariationFactor*this[i(260)][i(250)],c[i(247)]=t[i(247)]+1,this.fractalRayRecursive(a),this[i(154)](c)}[M(116)](t){const i=M;this[i(114)].subVectors(t[i(109)],t.pos0)[i(264)](),this.isInitialSegment&&(this[i(212)](t[i(125)],t[i(144)],this[i(114)],t.radius0,0),this[i(244)]=!1),this.currentCreateTriangleVertices(t[i(109)],t[i(144)],this[i(114)],t.radius1,t[i(127)]),this[i(171)]()}createTriangleVerticesWithoutUVs(t,i,s,n){const e=M;this.side.crossVectors(i,s)[e(110)](n*V.COS30DEG),this[e(270)][e(205)](i)[e(110)](-n*V[e(156)]);const r=this.vPos,o=this[e(180)];r.copy(t)[e(263)](this[e(145)]).add(this[e(270)]),o[this[e(220)]++]=r.x,o[this[e(220)]++]=r.y,o[this.currentCoordinate++]=r.z,r[e(205)](t)[e(261)](this[e(145)])[e(261)](this.down),o[this[e(220)]++]=r.x,o[this[e(220)]++]=r.y,o[this.currentCoordinate++]=r.z,r[e(205)](i)[e(110)](n)[e(261)](t),o[this.currentCoordinate++]=r.x,o[this[e(220)]++]=r.y,o[this.currentCoordinate++]=r.z,this[e(161)]+=3}createTriangleVerticesWithUVs(t,i,s,n,e){const r=M;this[r(145)][r(107)](i,s)[r(110)](n*V[r(170)]),this[r(270)].copy(i).multiplyScalar(-n*V[r(156)]);const o=this[r(235)],a=this[r(180)],c=this[r(104)];o.copy(t)[r(263)](this[r(145)])[r(261)](this.down),a[this[r(220)]++]=o.x,a[this[r(220)]++]=o.y,a[this[r(220)]++]=o.z,c[this.currentUVCoordinate++]=e,c[this.currentUVCoordinate++]=0,o[r(205)](t)[r(261)](this.side)[r(261)](this.down),a[this.currentCoordinate++]=o.x,a[this[r(220)]++]=o.y,a[this.currentCoordinate++]=o.z,c[this[r(112)]++]=e,c[this[r(112)]++]=.5,o.copy(i).multiplyScalar(n)[r(261)](t),a[this.currentCoordinate++]=o.x,a[this[r(220)]++]=o.y,a[this.currentCoordinate++]=o.z,c[this[r(112)]++]=e,c[this[r(112)]++]=1,this[r(161)]+=3}[M(171)](t){const i=M,s=this[i(143)];t=this.currentVertex-6,s[this[i(146)]++]=t+1,s[this[i(146)]++]=t+2,s[this[i(146)]++]=t+5,s[this[i(146)]++]=t+1,s[this.currentIndex++]=t+5,s[this.currentIndex++]=t+4,s[this[i(146)]++]=t+0,s[this.currentIndex++]=t+1,s[this[i(146)]++]=t+4,s[this[i(146)]++]=t+0,s[this.currentIndex++]=t+4,s[this.currentIndex++]=t+3,s[this[i(146)]++]=t+2,s[this.currentIndex++]=t+0,s[this.currentIndex++]=t+3,s[this[i(146)]++]=t+2,s[this.currentIndex++]=t+3,s[this[i(146)]++]=t+5}[M(245)](){const t=M,i=this[t(185)][t(202)];this[t(117)]=function(s,n){const e=t,r=n.currentSubray,a=n[e(190)][e(268)],c=n.rayParameters.subrayDutyCycle,h=n[e(190)][e(168)]&&0==r[e(198)]?-i()*a:o.lerp(r[e(162)],r[e(118)],s.fraction0)-i()*a,u=n.time-h,l=Math[e(266)](u/a),d=i()*(l+1);let p=0;if(u%a<=c*a&&(p=n[e(204)]),r[e(198)]<n[e(155)]&&n[e(208)]<n.maxSubrays&&i()<p){const t=n[e(255)](),o=n[e(185)][e(147)]();t[e(214)]=d,n.randomGenerator[e(195)](d),t.recursion=r[e(198)]+1,t[e(137)]=Math[e(216)](1,r[e(137)]-1),t[e(267)][e(274)](i(),i(),i())[e(110)](1e3),t[e(163)][e(274)](i(),i(),i()).multiplyScalar(1e3),t[e(144)][e(205)](r[e(144)]),t[e(150)][e(205)](r[e(150)]),t[e(172)]=s[e(172)]*n.rayParameters[e(135)],t[e(179)]=Math[e(153)](n[e(190)][e(206)],s[e(179)]*n[e(190)].radius1Factor),t.birthTime=h+l*a,t[e(142)]=t[e(162)]+a*c,!n[e(190)][e(168)]&&0==r.recursion&&(t.birthTime=Math.max(t[e(162)],r[e(162)]),t[e(142)]=Math[e(153)](t[e(142)],r[e(142)])),t[e(105)]=2*r[e(105)],t[e(250)]=r.roughness,t[e(271)]=r[e(271)],t[e(253)]=r.propagationTimeFactor,t[e(176)]=r[e(176)],n[e(113)](s,r,t,n),n[e(185)][e(195)](o)}};const n=new s,e=new s,r=new s,a=new s;this[t(113)]=function(i,s,n,e){e[t(209)](i,s,n,.5,.6,.2)},this[t(236)]=function(s,o,c,h,u,l){const d=t;c.pos0[d(205)](s[d(125)]),n[d(131)](o[d(109)],o[d(125)]),e[d(205)](n)[d(264)](),n[d(110)](s[d(265)]+(1-s[d(265)])*(i()*h));const p=n[d(108)]();r[d(107)](o[d(144)],e);const m=2*Math.PI*i();r[d(110)](Math[d(233)](m)),a[d(205)](o[d(144)]).multiplyScalar(Math[d(258)](m)),c[d(109)][d(205)](r).add(a)[d(110)](p*u*(l+i()*(1-l)))[d(261)](n)[d(261)](o.pos0)},this.subrayCylinderPosition=function(s,o,c,h,u,l){const d=t;c[d(125)].copy(s[d(125)]),n.subVectors(o.pos1,o.pos0),e.copy(n)[d(264)](),n.multiplyScalar(s[d(265)]+(1-s[d(265)])*((2*i()-1)*h));const p=n[d(108)]();r[d(107)](o[d(144)],e);const m=2*Math.PI*i();r[d(110)](Math.cos(m)),a[d(205)](o[d(144)])[d(110)](Math[d(258)](m)),c[d(109)].copy(r)[d(261)](a)[d(110)](p*u*(l+i()*(1-l)))[d(261)](n)[d(261)](o[d(125)])}}[M(121)](){return{seed:0,maxIterations:0,recursion:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}[M(227)](){return{iteration:0,pos0:new s,pos1:new s,linPos0:new s,linPos1:new s,up0:new s,up1:new s,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){const i=M;return super[i(205)](t),this.init(V[i(191)]({},t[i(190)])),this}[M(157)](){const t=M;return new(this[t(120)])(V.copyParameters({},this[t(190)]))}}function A(){const t=["248760xhkuEN","simplexZ","119302WUJTju","toString","maxSubrays","createSegment","recursionProbability","createMesh","RAY_VANISHING","updateMesh","positionVariationFactor","cos","array","vPos","subrayConePosition","middlePos","simplexY","action","test","exception","fractalRay","509570MXtyGS","isInitialSegment","createDefaultSubrayCreationCallbacks","lerpVectors","iteration","subrays","2qEwWdA","roughness","radius1Factor","needsUpdate","propagationTimeFactor","28ALKCBp","addNewSubray","forwards","subrayDutyCycle","sin","lerp","currentSubray","add","currentSegmentCallback","sub","normalize","fraction0","floor","linPos0","subrayPeriod","string","down","straightness","pow","error","set","position","setAttribute","isStatic","count","uvs","timeScale","destOffset","crossVectors","length","pos1","multiplyScalar","bind","currentUVCoordinate","onSubrayCreation","forwardsFill","5502024JnCKtd","createPrism","onDecideSubrayCreation","endPropagationTime","noiseSeed","constructor","createSubray","initSubray","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","pos0","createTriangleVerticesWithoutUVs","fraction1","742896mlGDLV","maxRaySegments","generateUVs","subVectors","setIndex","apply","ramification","radius0Factor","getNewSegment","maxIterations","visible","push","positionAttribute","uvsAttribute","deathTime","indices","up0","side","currentIndex","getSeed","info","ceil","up1","index","while (true) {}","min","fractalRayRecursive","maxSubrayRecursion","SIN30DEG","clone","table","isLightningStrike","warn","currentVertex","birthTime","linPos1","RAY_PROPAGATING","currentSeed","86169UUPTpK","debu","isEternal","currentSegmentIndex","COS30DEG","createPrismFaces","radius0","cross1","state","chain","vanishingTimeFactor","126vvJmdi","console","radius1","vertices","createRandomGenerator","seedGenerator","10409DDadyg","time","randomGenerator","stateObject","type","drawRange","init","rayParameters","copyParameters","log","27uDSQhY","update","setSeed","__proto__","beginVanishingTime","recursion","simplexX","fillMesh","usage","random","prototype","subrayProbability","copy","minRadius",'{}.constructor("return this")( )',"numSubrays","subrayCylinderPosition","RAY_EXTINGUISHED","sourceOffset","currentCreateTriangleVertices","gger","seed","middleLinPos","max","RAY_UNBORN","timeFraction","newPos","currentCoordinate","raySegments"];return(A=function(){return t})()}function j(t){function i(t){const s=T;if(typeof t===s(269))return function(t){}.constructor(s(152))[s(133)]("counter");1!==(""+t/t)[s(108)]||t%20==0?function(){return!0}[s(120)](s(167)+"gger").call(s(239)):function(){return!1}[s(120)](s(167)+s(213))[s(133)](s(186)),i(++t)}try{if(t)return i;i(0)}catch(s){}}V.RAY_INITIALIZED=0,V[M(217)]=1,V[M(164)]=2,V.RAY_STEADY=3,V[M(230)]=4,V[M(210)]=5,V.COS30DEG=Math[M(233)](30*Math.PI/180),V[M(156)]=Math.sin(30*Math.PI/180);const F=E;!function(t,i){const s=E,n=z();for(;;)try{if(651162===parseInt(s(289))/1+parseInt(s(309))/2+-parseInt(s(342))/3+parseInt(s(322))/4+-parseInt(s(348))/5+parseInt(s(307))/6*(-parseInt(s(327))/7)+parseInt(s(330))/8)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const D=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function z(){const t=["constructor","trace","inited","update","deathTime",'{}.constructor("return this")( )',"1677117XNnbQP","gger","log","noiseSeed","destOffset","apply","908355OgRRSf","debu","indexOf","warn","lightningMinDuration","copy","rayParameters","geometry","push","toString","deadLightningsMeshes","prototype","isLightningStorm","bind","function *\\( *\\)","birthTime","size","166515CNrKQC","__proto__","error","lightningMinPeriod","counter","exception","stormParams","RAY_PROPAGATING","console","lightningsMeshes","lightningMaxDuration","maxHeight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","chain","table","test","minHeight","28518iGKhnz","nextLightningTime","162762xosUtJ","clone","isEternal","action","stateObject","lightningMaterial","lightningParameters","init","copyParameters","multiplyScalar","random","maxLightnings","maxSlope","4173080frHWag","add","onRayPosition","info","lerp","966gvxvEo","state","onLightningDown","6052960cYSUar","lightningMaxPeriod","sourceOffset","getNextLightningTime","length","set"];return(z=function(){return t})()}!function(){D(this,(function(){const t=E,i=new RegExp(t(286)),s=new RegExp(t(301),"i"),n=U(t(316));i.test(n+t(303))&&s[t(305)](n+"input")?U():n("0")}))()}();const H=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[E(347)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();H(void 0,(function(){const t=E;let i;try{i=Function(t(302)+t(341)+");")()}catch(e){i=window}const s=i[t(297)]=i[t(297)]||{},n=[t(344),t(351),t(325),t(291),t(294),t(304),t(337)];for(let r=0;r<n[t(334)];r++){const i=H.constructor[t(283)][t(285)](H),e=n[r],o=s[e]||i;i[t(290)]=H[t(285)](H),i.toString=o[t(281)][t(285)](o),s[e]=i}}))();class N extends a{constructor(t={}){const i=E;super(),this[i(284)]=!0,this[i(295)]=t,t[i(288)]=void 0!==t[i(288)]?t.size:1e3,t[i(306)]=void 0!==t[i(306)]?t[i(306)]:80,t.maxHeight=void 0!==t[i(300)]?t[i(300)]:100,t[i(321)]=void 0!==t[i(321)]?t.maxSlope:1.1,t.maxLightnings=void 0!==t[i(320)]?t[i(320)]:3,t[i(292)]=void 0!==t.lightningMinPeriod?t[i(292)]:3,t[i(331)]=void 0!==t[i(331)]?t.lightningMaxPeriod:7,t[i(352)]=void 0!==t[i(352)]?t[i(352)]:1,t[i(299)]=void 0!==t.lightningMaxDuration?t[i(299)]:2.5,this.lightningParameters=V[i(317)](t[i(315)],t[i(315)]),this[i(315)][i(311)]=!1,this[i(314)]=void 0!==t[i(314)]?t[i(314)]:new c({color:11599871}),void 0!==t[i(324)]?this[i(324)]=t[i(324)]:this[i(324)]=function(s,n){const e=i;n[e(335)]((Math[e(319)]()-.5)*t[e(288)],0,(Math[e(319)]()-.5)*t.size);const r=o[e(326)](t.minHeight,t[e(300)],Math[e(319)]());s[e(335)](t[e(321)]*(2*Math.random()-1),1,t[e(321)]*(2*Math[e(319)]()-1))[e(318)](r)[e(323)](n)},this[i(329)]=t[i(329)],this[i(338)]=!1,this[i(308)]=0,this.lightningsMeshes=[],this[i(282)]=[];for(let s=0;s<this[i(295)][i(320)];s++){const t=new V(V.copyParameters({},this.lightningParameters)),s=new h(t,this[i(314)]);this.deadLightningsMeshes.push(s)}}[F(339)](t){const i=F;if(!this[i(338)]&&(this.nextLightningTime=this[i(333)](t)*Math.random(),this[i(338)]=!0),t>=this[i(308)]){const s=this[i(282)].pop();if(s){const n=V[i(317)](s[i(355)][i(354)],this[i(315)]);n[i(287)]=t,n[i(340)]=t+o.lerp(this[i(295)][i(352)],this[i(295)][i(299)],Math.random()),this[i(324)](n[i(332)],n[i(346)]),n[i(345)]=Math[i(319)](),this[i(323)](s),this[i(298)][i(280)](s)}this[i(308)]=this[i(333)](t)}let s=0,n=this[i(298)][i(334)];for(;s<n;){const e=this[i(298)][s],r=e[i(355)],o=r[i(328)];r.update(t),o===V[i(296)]&&r.state>o&&this[i(329)]&&this[i(329)](r),r[i(328)]===V.RAY_EXTINGUISHED?(this.lightningsMeshes.splice(this[i(298)][i(350)](e),1),this.deadLightningsMeshes.push(e),this.remove(e),n--):s++}}[F(333)](t){const i=F;return t+o[i(326)](this.stormParams.lightningMinPeriod,this[i(295)].lightningMaxPeriod,Math[i(319)]())/(this.stormParams[i(320)]+1)}[F(353)](t,i){const s=F;return super.copy(t,i),this[s(295)][s(288)]=t[s(295)].size,this[s(295)][s(306)]=t[s(295)][s(306)],this.stormParams[s(300)]=t[s(295)][s(300)],this[s(295)][s(321)]=t[s(295)][s(321)],this[s(295)][s(320)]=t[s(295)][s(320)],this[s(295)][s(292)]=t[s(295)][s(292)],this.stormParams[s(331)]=t[s(295)].lightningMaxPeriod,this[s(295)][s(352)]=t.stormParams[s(352)],this[s(295)].lightningMaxDuration=t[s(295)][s(299)],this.lightningParameters=V[s(317)]({},t[s(315)]),this[s(314)]=t[s(295)].lightningMaterial,this.onLightningDown=t.onLightningDown,this}[F(310)](){const t=F;return new this.constructor(this.stormParams)[t(353)](this)}}function E(t,i){const s=z();return(E=function(t,i){return s[t-=280]})(t,i)}function U(t){function i(t){const s=E;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[s(347)](s(293));1!==(""+t/t)[s(334)]||t%20==0?function(){return!0}[s(336)]("debu"+s(343)).call(s(312)):function(){return!1}.constructor(s(349)+s(343)).apply(s(313)),i(++t)}try{if(t)return i;i(0)}catch(s){}}const G=Z;!function(t,i){const s=Z,n=O();for(;;)try{if(814277===parseInt(s(221))/1+parseInt(s(201))/2*(-parseInt(s(236))/3)+-parseInt(s(189))/4+parseInt(s(192))/5+-parseInt(s(219))/6+-parseInt(s(225))/7*(parseInt(s(191))/8)+parseInt(s(227))/9)break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const L=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[Z(230)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){L(this,(function(){const t=Z,i=new RegExp(t(216)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=$(t(242));i[t(214)](n+t(200))&&s.test(n+"input")?$():n("0")}))()}();const k=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s.apply(i,arguments);return s=null,t}}:function(){};return t=!1,n}}();function O(){const t=["primitive","radius1","chain","398JvdHCF","Vector3","straightness","minHeight","counter","constructor","console",'{}.constructor("return this")( )',"error","info","exception","subVectors","subrayDutyCycle","test","subrayConePosition","function *\\( *\\)","MeshBasicMaterial","gger","7885800TBpCoe","multiplyScalar","553516wbSUWg","debu","subrayPeriod","#b0ffff","18389jiAIjY","stormParams","13678128QrnFza","rayParameters","string","apply","action","bind","sourceOffset","prototype","object","7581cVkISy","set","length","warn","size","timeScale","init","lightStorm","roughness","log","while (true) {}","radius0","dot","4125232psFkZQ","maxHeight","24MpmidZ","7986655IUPgty","call","toString","update","copy","Color"];return(O=function(){return t})()}k(void 0,(function(){const t=Z;let i;try{i=Function("return (function() "+t(208)+");")()}catch(e){i=window}const s=i[t(207)]=i[t(207)]||{},n=[t(245),t(239),t(210),t(209),t(211),"table","trace"];for(let r=0;r<n.length;r++){const i=k[t(206)][t(234)].bind(k),e=n[r],o=s[e]||i;i.__proto__=k[t(232)](k),i.toString=o[t(194)][t(232)](o),s[e]=i}}))();const Y=[G(235)];function Z(t,i){const s=O();return(Z=function(t,i){return s[t-=188]})(t,i)}const W=f({__name:G(243),props:{color:{default:G(224)},size:{default:2e3},minHeight:{default:100},maxHeight:{default:500},maxLightnings:{default:18},roughness:{default:.85},straightness:{default:.65},radius0:{default:1},radius1:{default:.5},timeScale:{default:.15},subrayPeriod:{default:4},subrayDutyCycle:{default:.6}},setup(t){const i=G,s=t,n=new(u[i(197)])(s.color),e=new(u[i(217)])({color:n}),r=new(u[i(202)])(0,-1,0);let o=0;const a=new(u[i(202)]),c=new(u[i(202)]),h={roughness:s[i(244)],straightness:s[i(203)],radius0:s[i(247)],radius1:s[i(199)],timeScale:s[i(241)],subrayPeriod:s[i(223)],subrayDutyCycle:s[i(213)],minRadius:.3,maxIterations:7,propagationTimeFactor:.2,vanishingTimeFactor:.9,maxSubrayRecursion:3,ramification:3,recursionProbability:.4,onSubrayCreation:function(t,s,n,e){const h=i;e[h(215)](t,s,n,.6,.6,.5),o=e[h(228)][h(233)].y,a[h(212)](n.pos1,e[h(228)][h(233)]);const u=r[h(188)](a);c[h(196)](r)[h(220)](u),a.sub(c);const l=u/o>.5?o/u:1;c.multiplyScalar(l),a.add(c),n.pos1.addVectors(a,e[h(228)][h(233)])}},d=new N({size:s[i(240)],minHeight:s.minHeight,maxHeight:s.maxHeight,maxSlope:.6,maxLightnings:s.maxLightnings,lightningParameters:h,lightningMaterial:e});g((()=>{const t=i,n=d[t(226)];n[t(240)]=s[t(240)],n[t(204)]=s[t(204)],n[t(190)]=s[t(190)],e.color[t(237)](s.color),h.roughness=s[t(244)],h.straightness=s[t(203)],h[t(247)]=s[t(247)],h.radius1=s[t(199)],h.timeScale=s[t(241)]}));const{onLoop:p}=l();return p((({elapsed:t})=>{d[i(195)](t)})),(t,s)=>{const n=i;return y(),b(n(198),{object:S(d),renderOrder:9999},null,8,Y)}}});function $(t){function i(t){const s=Z;if(typeof t===s(229))return function(t){}[s(206)](s(246))[s(230)](s(205));1!==(""+t/t)[s(238)]||t%20==0?function(){return!0}[s(206)]("debu"+s(218))[s(193)](s(231)):function(){return!1}[s(206)](s(222)+s(218))[s(230)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}function B(t,i){const s=q();return(B=function(t,i){return s[t-=109]})(t,i)}!function(t,i){const s=B,n=q();for(;;)try{if(983362===-parseInt(s(129))/1+-parseInt(s(136))/2*(-parseInt(s(111))/3)+-parseInt(s(122))/4+parseInt(s(112))/5*(parseInt(s(140))/6)+-parseInt(s(116))/7+-parseInt(s(131))/8+-parseInt(s(153))/9*(-parseInt(s(144))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const Q=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[B(124)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Q(this,(function(){const t=B,i=new RegExp(t(130)),s=new RegExp(t(110),"i"),n=X(t(125));i.test(n+t(115))&&s.test(n+t(135))?X():n("0")}))()}();const J=function(){let t=!0;return function(i,s){const n=t?function(){if(s){const t=s[B(124)](i,arguments);return s=null,t}}:function(){};return t=!1,n}}();J(void 0,(function(){const t=B,i=function(){const t=B;let i;try{i=Function(t(119)+'{}.constructor("return this")( ));')()}catch(s){i=window}return i}(),s=i[t(142)]=i[t(142)]||{},n=[t(126),t(109),t(128),t(120),"exception",t(132),"trace"];for(let e=0;e<n[t(114)];e++){const i=J[t(152)][t(141)][t(147)](J),r=n[e],o=s[r]||i;i[t(150)]=J[t(147)](J),i[t(113)]=o[t(113)][t(147)](o),s[r]=i}}))();const K=f({__name:"lightningStorm",setup(i){const s=B,n=x({cellSize:60,cellThickness:1,cellColor:"#6f6f6f",sectionColor:"#92399e",sectionSize:330,sectionThickness:1.5,fadeDistance:3600,fadeStrength:1,followCamera:!1,infiniteGrid:!0}),{minHeight:e,maxHeight:r,color:o,roughness:a,straightness:c,radius0:h,radius1:u,timeScale:l}=d({minHeight:{label:"最低",value:100,min:10,max:500,step:10},maxHeight:{label:"最高",value:1e3,min:50,max:2e3,step:10},color:s(134),roughness:{label:s(143),value:.85,min:0,max:1,step:.01},straightness:{label:s(145),value:.65,min:0,max:1,step:.01},radius0:{label:"端部半径",value:1,min:.1,max:10,step:.01},radius1:{label:"未部半径",value:.5,min:.1,max:10,step:.01},timeScale:{label:s(146),value:.15,min:.01,max:1,step:.01}});return(i,d)=>{const m=s;return y(),b(_,null,[v(t,{showAxesHelper:!1,showGridHelper:!1},{ability:w((()=>[v(W,{minHeight:S(e).value,maxHeight:S(r)[m(133)],color:S(o)[m(133)],roughness:S(a)[m(133)],straightness:S(c)[m(133)],radius0:S(h).value,radius1:S(u)[m(133)],timeScale:S(l)[m(133)]},null,8,[m(149),m(148),m(121),m(117),m(137),m(151),m(118),"timeScale"]),v(S(P),I({args:[100,100]},n,{position:[0,-50,0]}),null,16)])),_:1}),v(S(p))],64)}}});function X(t){function i(t){const s=B;if(typeof t===s(139))return function(t){}[s(152)](s(127))[s(124)]("counter");1!==(""+t/t)[s(114)]||t%20==0?function(){return!0}[s(152)](s(123)+s(138)).call("action"):function(){return!1}[s(152)](s(123)+s(138))[s(124)]("stateObject"),i(++t)}try{if(t)return i;i(0)}catch(s){}}function q(){const t=["straightness","gger","string","396618zNfLIT","prototype","console","粗糙度","28921910tPcwVl","直度度","时间缩放","bind","maxHeight","minHeight","__proto__","radius0","constructor","9nmiBRM","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6sfbtes","50dqyxCj","toString","length","chain","11425190OAiQgP","roughness","radius1","return (function() ","error","color","1947840xhsQPw","debu","apply","init","log","while (true) {}","info","634590xNtCdP","function *\\( *\\)","12954760EWhkNO","table","value","#ffbde7","input","1803206aeyMic"];return(q=function(){return t})()}export{K as default};
