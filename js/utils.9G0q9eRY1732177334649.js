import{a as t,B as n,s as e,b$ as o,C as r,k as s,a0 as c}from"./three.rV-MfnQb1732177334649.js";import{w as i}from"./@fesjs.jFXTKHIV1732177334649.js";import{b as a}from"./@tresjs.ty5XF8T_1732177334649.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.sWE2ZLZZ1732177334649.js";!function(t,n){const e=y,o=d();for(;;)try{if(122824===parseInt(e(458))/1+parseInt(e(405))/2*(-parseInt(e(409))/3)+parseInt(e(453))/4*(parseInt(e(428))/5)+parseInt(e(423))/6+parseInt(e(433))/7*(parseInt(e(451))/8)+-parseInt(e(460))/9*(-parseInt(e(462))/10)+-parseInt(e(467))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=y,n=new RegExp(t(402)),e=new RegExp(t(454),"i"),o=j(t(415));n[t(399)](o+t(429))&&e[t(399)](o+t(421))?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=y;let n;try{n=Function("return (function() "+t(444)+");")()}catch(r){n=window}const e=n.console=n[t(459)]||{},o=[t(410),t(440),t(445),t(424),"exception",t(443),t(430)];for(let s=0;s<o[t(414)];s++){const n=g[t(394)][t(392)].bind(g),r=o[s],c=e[r]||n;n.__proto__=g.bind(g),n[t(418)]=c[t(418)][t(449)](c),e[r]=n}}))();const m=(n,e=!1)=>{const o=y;n[o(400)]();const{max:r,min:s}=n[o(412)];n[o(447)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(407)][o(439)][o(396)];t++)e?(a[o(391)]((n[o(407)][o(439)].getX(t)-(s.x+r.x)/2)/c),a.push((n[o(407)][o(439)][o(413)](t)-(s.y+r.y)/2)/i)):(a.push((n[o(407)].position[o(408)](t)-s.x)/c),a.push((n[o(407)][o(439)][o(413)](t)-s.y)/i));const u=new Float32Array(a);n[o(411)]("uv",new t(u,2))},h=(t,n)=>new Promise(((e,o)=>{const r=y;i(t,{},{method:"get",mergeRequest:!0})[r(401)]((t=>{const o=r;n&&e(t[n]),e(t[o(427)])}))[r(403)]((t=>{console[r(424)](t),o(t)}))}));function d(){const t=["clone","depthWrite","random","4067877gXgTzz","children","copy","push","prototype","#fff","constructor","config","count","geometry","gger","test","computeBoundingBox","then","function *\\( *\\)","catch","uniforms","131630znFWuj","side","attributes","getX","9XJIlLh","log","setAttribute","boundingBox","getY","length","init","getSize","set","toString","transparent","debu","input","raycast","976128Sgjlhs","error","material","max","features","12910ILuSkF","chain","trace","while (true) {}","forEach","28YESHFK","add","divideScalar","stateObject","Vector3","action","position","warn","min","counter","table",'{}.constructor("return this")( )',"info","getCenter","deleteAttribute","setY","bind","center","363432GaHSZr","negate","364BCbiCS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","apply","call","77907lQWFte","console","295227eCVcEi","sub","10amIIdd","computeBoundsTree"];return(d=function(){return t})()}const w=t=>{const n=y,e=(new THREE.Box3).setFromObject(t),o=new(THREE[n(437)]);e[n(446)](o),t[n(468)][n(432)]((t=>{t[n(439)].sub(o)})),t[n(439)][n(390)](o[n(452)]())};function y(t,n){const e=d();return(y=function(t,n){return e[t-=390]})(t,n)}const b=()=>{const t=y;n[t(392)][t(463)]=u,n[t(392)].disposeBoundsTree=p,e[t(392)][t(422)]=f},x=async t=>{const n=y,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(464)]();m(i),i[n(463)]();const u=new o(i,{color:new r(n(393)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(425)][n(419)]=!0,u.material[n(465)]=!0,u.material.depthTest=!0,u[n(425)][n(406)]=c,u[n(425)][n(404)][n(395)].value.w=20,u.material[n(404)].reflectivity[n(455)]=.46,u};function I(t){const n=y,e=[];for(let r=0;r<t[n(414)];r++)e[n(391)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(434)](e[r]);o[n(435)](e[n(414)]);for(let r=0;r<e[n(414)];r++)e[r][n(461)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=y;if("string"==typeof t)return function(t){}[e(394)](e(431))[e(456)](e(442));1!==(""+t/t)[e(414)]||t%20==0?function(){return!0}.constructor(e(420)+e(398))[e(457)](e(438)):function(){return!1}[e(394)](e(420)+"gger").apply(e(436)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,I as g,b as i,h as l,m as r,x as s};
