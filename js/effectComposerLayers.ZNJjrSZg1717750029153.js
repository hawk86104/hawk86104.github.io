import{a5 as m,ao as P,q as t,aa as h,o as v,c as M,a as _,T as p,b3 as b,a1 as s,K as E,ad as L,aL as R,r as N,C as $,J as G,ag as V}from"./vendor.v0nfbpA-1717750029153.js";import{R as z,E as S}from"./EffectComposer.IpaBRjo51717750029153.js";import{U}from"./UnrealBloomPass.CmCQVBYi1717750029153.js";import"./Pass.Xl_Vrgur1717750029153.js";const q=s("TresBoxGeometry",{args:[1,1,1]},null,-1),A=s("TresMeshNormalMaterial",null,null,-1),D=[q,A],F=s("TresBoxGeometry",{args:[1,1,1]},null,-1),H=s("TresMeshNormalMaterial",null,null,-1),J=[F,H],K=m({__name:"ecLayers",setup(y){const{camera:e,renderer:a,scene:n,sizes:r}=P(),l=t(),c=t(),i=t();let o=null;const u={threshold:0,strength:.972,radius:.21},g=(f,d,B,T,C)=>{const w=new z(f,d),k=new U(new R(T,C),u.strength,u.radius,u.threshold);o=new S(B),o.addPass(w),o.addPass(k)};h(()=>{l.value&&l.value.value.layers.set(0),c.value&&c.value.layers.set(1),i.value&&i.value.layers.set(2),r.width.value&&g(n.value,e.value,a.value,r.width.value,r.height.value)});const{onLoop:x}=L();return x(()=>{o&&e.value&&(a.value.clear(),e.value.layers.set(1),o.render(),a.value.clearDepth(),e.value.layers.set(0),a.value.render(n.value,e.value))}),(f,d)=>(v(),M(E,null,[_(p(b),{ref_key:"normalBox",ref:l,args:[1,1,1],color:"orange",position:[3,2,1]},null,512),s("TresMesh",{ref_key:"shineBox",ref:c,position:[0,2,-4]},D,512),s("TresMesh",{ref_key:"filmBox",ref:i,position:[1,2,3]},J,512)],64))}}),j=s("TresPerspectiveCamera",{position:[10,10,10]},null,-1),I=s("TresAmbientLight",{intensity:1},null,-1),O=s("TresGridHelper",{args:[10,10]},null,-1),Z=m({__name:"effectComposerLayers",setup(y){const e=t();return h(()=>{if(e.value){let a=e.value.context.renderer.value;a.autoClear=!1}}),(a,n)=>{const r=N("TresCanvas");return v(),$(r,{disableRender:"","window-size":"",ref_key:"tcRef",ref:e},{default:G(()=>[j,I,_(p(V)),O,_(K)]),_:1},512)}}});export{Z as default};
