import{U as n,p as t,Y as e,n as r,z as o}from"./@tresjs.ml1V726H1726139596986.js";import{_ as i,K as s,cd as a}from"./three.ewwqFbMB1726139596986.js";import{P as c}from"./tweakpane.yHWGBmom1726139596986.js";import{L as u}from"./three-subdivide.udLGP9TQ1726139596986.js";import{d as l,b as f,a3 as p,w as d,o as g,E as h,L as m,aj as v,ak as y,a4 as b,r as w,e as I,f as _,g as M,j as x,u as S,m as T,J as j}from"./@vue.JNsx1iN61726139596986.js";import"./@vueuse.leIfNolX1726139596986.js";const A=C;function k(){const n=["init","position","clone","__proto__","Vector3","469euaSVG","copy","TresMesh","blending","counter","modify","side","25370rCOaNe","trace","glowColor","12IYioDY","length","1116noJepg","warn","material","color","while (true) {}","apply","TresShaderMaterial","toString","action","AdditiveBlending","geometry","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","exception","log","bind","scale","srcMesh","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5etgPrZ","66gzYxMr","741483GLNFIO","#ffff00","11128XYujAf","gger","subdivision","table","uniforms","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","attributes","108XyMbyi","value","106510xKgVkt","8998528fHtDdY","FrontSide",'{}.constructor("return this")( )',"debu","233762pdvgUp","Color","31048qXPYmR","constructor","call","prototype","viewVector","string"];return(k=function(){return n})()}!function(n,t){const e=C,r=k();for(;;)try{if(423493===-parseInt(e(344))/1*(-parseInt(e(362))/2)+parseInt(e(346))/3*(parseInt(e(385))/4)+-parseInt(e(357))/5*(parseInt(e(345))/6)+parseInt(e(375))/7*(parseInt(e(364))/8)+-parseInt(e(355))/9*(parseInt(e(382))/10)+-parseInt(e(358))/11+parseInt(e(387))/12*(-parseInt(e(348))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(392)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){B(this,(function(){const n=C,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(343),"i"),r=Y(n(370));t.test(r+"chain")&&e.test(r+"input")?Y():r("0")}))()}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(392)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=k();return(C=function(n,t){return e[n-=332]})(n,t)}z(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function("return (function() "+n(360)+");")()}catch(e){t=window}return t}(),e=t[n(342)]=t.console||{},r=[n(338),n(388),"info","error",n(337),n(351),n(383)];for(let o=0;o<r.length;o++){const t=z[n(365)][n(367)][n(339)](z),i=r[o],s=e[i]||t;t[n(373)]=z.bind(z),t.toString=s[n(332)].bind(s),e[i]=t}}))();const F=[A(340)],V=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:A(347)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[A(359)]},blending:{default:i[A(334)]}},setup(e){const r=A,o=e,s=f(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(i[r(363)])(o[r(390)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(353),fragmentShader:r(336),side:o[r(381)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(378)]};p((()=>{const n=r;if(o.srcMesh&&s[n(356)]&&!s[n(356)][n(335)][n(354)][n(371)]){let t=o[n(341)][n(335)][n(372)]();o[n(350)]&&(t=u[n(380)](t,2)),s[n(356)].geometry=t,s[n(356)][n(371)][n(376)](o[n(341)][n(371)])}o[n(390)]&&(a[n(352)][n(384)].value=new(i[n(363)])(o[n(390)])),o.c&&(a[n(352)].c[n(356)]=o.c),o.p&&(a[n(352)].p[n(356)]=o.p)})),d((()=>o[r(350)]),(n=>{const t=r;let e=o[t(341)][t(335)].clone();n&&(e=u[t(380)](e,2)),s.value[t(335)]=e})),d((()=>o.side),(n=>{const t=r;s[t(356)][t(389)].side=n})),d((()=>o[r(378)]),(n=>{s[r(356)].material.blending=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=r;l.value&&s[n(356)]&&(a[n(352)][n(368)][n(356)]=(new(i[n(374)])).subVectors(l[n(356)][n(371)],s[n(356)][n(371)]))})),(n,t)=>{const e=r;return g(),h(e(377),{ref_key:"TSGref",ref:s,scale:o[e(340)]},[m(e(393),v(y(a)),null,16)],8,F)}}});function Y(n){function t(n){const e=C;if(typeof n===e(369))return function(n){}[e(365)](e(391))[e(392)](e(379));1!==(""+n/n)[e(386)]||n%20==0?function(){return!0}.constructor(e(361)+e(349))[e(366)](e(333)):function(){return!1}[e(365)](e(361)+e(349))[e(392)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=N;!function(n,t){const e=N,r=U();for(;;)try{if(931607===parseInt(e(198))/1*(parseInt(e(176))/2)+-parseInt(e(210))/3+-parseInt(e(208))/4+parseInt(e(216))/5*(-parseInt(e(182))/6)+-parseInt(e(185))/7*(-parseInt(e(215))/8)+parseInt(e(187))/9*(parseInt(e(237))/10)+-parseInt(e(200))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function N(n,t){const e=U();return(N=function(n,t){return e[n-=175]})(n,t)}!function(){G(this,(function(){const n=N,t=new RegExp(n(222)),e=new RegExp(n(193),"i"),r=X("init");t[n(219)](r+n(207))&&e[n(219)](r+n(211))?X():r("0")}))()}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[N(181)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();R(void 0,(function(){const n=N,t=function(){const n=N;let t;try{t=Function(n(202)+n(233)+");")()}catch(e){t=window}return t}(),e=t[n(228)]=t[n(228)]||{},r=["log",n(218),n(236),n(209),n(224),n(189),"trace"];for(let o=0;o<r[n(201)];o++){const t=R[n(175)][n(227)][n(217)](R),i=r[o],s=e[i]||t;t[n(230)]=R[n(217)](R),t.toString=s[n(184)][n(217)](s),e[i]=t}}))();const L=m(D(194),{position:[5,5,5]},null,-1),E=m(D(197),{intensity:1},null,-1),O=m(D(203),{args:[10,10]},null,-1),Z=m(D(190),{args:[1,32,16]},null,-1),P=[D(212)],H=[D(212)],J=[m(D(180),{args:[1,1,1,1,1]},null,-1),m("TresMeshBasicMaterial",{color:D(191)},null,-1)];function U(){const n=["bind","warn","test","addBinding","TresMesh","function *\\( *\\)","#00dfff","exception","side","blending","prototype","console","debu","__proto__","instance","while (true) {}",'{}.constructor("return this")( )',"stateObject","string","info","10AgCsLD","constructor","2IEkLgO","subdivision","counter","TreBoxRef","TresBoxGeometry","apply","301386txTDHh","value","toString","4668783lGSJUA","color","12246867wFKfkl","call","table","TresSphereGeometry","#0ff","FrontSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresPerspectiveCamera","TresMeshBasicMaterial","shader","TresAmbientLight","1700800nWJucG","srcMesh","18497886vWuQDQ","length","return (function() ","TresGridHelper","DoubleSide","gger","AdditiveBlending","chain","2320496YUHYyt","error","249288NZnqAh","input","map","TresMeshRefA","action","8zhWmse","45FdXDOw"];return(U=function(){return n})()}const W=l({__name:D(196),async setup(n){const t=D;let u,l;const p={clearColor:"#222"},d=f(),h=f(),v=f(),y=([u,l]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),u=await u,l(),u),A=w({scale:1.6,color:t(223),subdivision:!0,c:1.1,p:1.4,side:i[t(192)],blending:i[t(206)]}),k=new c({title:"参数",expanded:!0});return k[t(220)](A,t(186),{label:"颜色"}),k[t(220)](A,"scale",{label:"大小",min:1,max:3,step:.2}),k[t(220)](A,t(177),{label:"边缘处理"}),k[t(220)](A,"c",{label:"c",min:0,max:2,step:.1}),k[t(220)](A,"p",{label:"p",min:0,max:8,step:.2}),k[t(220)](A,t(225),{options:{FrontSide:i[t(192)],BackSide:s,DoubleSide:i[t(204)]}}),k[t(220)](A,t(226),{options:{AdditiveBlending:i[t(206)],NormalBlending:a}}),(n,o)=>{const i=t,s=I("TresCanvas");return g(),_(s,T(p,{"window-size":""}),{default:M((()=>[L,E,x(S(e)),O,m(i(221),{ref_key:i(213),ref:d,position:[-2,1,0]},[Z,m(i(195),{map:S(y)[0]},null,8,P)],512),x(V,T({srcMesh:d[i(183)]},A),null,16,["srcMesh"]),x(S(r),{ref_key:i(179),ref:v,args:[1,1,1],position:[2,1,0]},{default:M((()=>[m(i(195),{map:S(y)[1]},null,8,H)])),_:1},512),v.value&&v[i(183)].instance?(g(),_(V,T({key:0,srcMesh:v[i(183)][i(231)]},A),null,16,[i(199)])):j("",!0),m(i(221),{ref_key:"TresMeshRefB",ref:h,position:[0,1,-2]},J,512),x(V,T({srcMesh:h[i(183)]},A),null,16,[i(199)])])),_:1},16)}}});function X(n){function t(n){const e=N;if(typeof n===e(235))return function(n){}[e(175)](e(232))[e(181)](e(178));1!==(""+n/n).length||n%20==0?function(){return!0}[e(175)]("debugger")[e(188)](e(214)):function(){return!1}[e(175)](e(229)+e(205))[e(181)](e(234)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{W as default};
