import{U as n,C as t}from"./@tresjs.KsuCtVXf1731055558423.js";import{m as o,ba as e,C as r,az as i,a0 as a,_ as s,ce as l,z as c}from"./three.3b9CEYeV1731055558423.js";import{P as u}from"./tweakpane.yHWGBmom1731055558423.js";import{d as f,r as p,a3 as g,e as d,o as v,f as m,g as w,J as h,j as y,u as b,al as I}from"./@vue.u2cBPEWn1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";function j(n,t){var o=_();return(j=function(n,t){return o[n-=138]})(n,t)}!function(n,t){for(var o=j,e=_();;)try{if(810066===-parseInt(o(153))/1+parseInt(o(146))/2+parseInt(o(159))/3*(-parseInt(o(173))/4)+-parseInt(o(181))/5+-parseInt(o(144))/6+parseInt(o(160))/7*(-parseInt(o(170))/8)+-parseInt(o(174))/9*(-parseInt(o(143))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(175)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){x(this,(function(){var n=j,t=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=C("init");t.test(e+n(183))&&o[n(169)](e+"input")?C():e("0")}))()}();var S=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[j(175)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(){var n=["console","toString","glowSharpness","debu","393NMbvzP","2922479rnJNiP","stateObject","transparent","length","falloff","__proto__","error","side","bind","test","8RJsxLf","blending","glowInternalRadius","36564jJCgOP","54LKdddw","apply","uniforms","blendMode","depthTest","setValues","action","1643115pcUgCk","constructor","chain","prototype","trace","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","gger","warn","counter","3747570gwVwrE","1148496DazRoG","return (function() ","3020498ooJBtU","opacity","table","exception","vertexShader",'{}.constructor("return this")( )',"string","813718dYgLlH","log"];return(_=function(){return n})()}S(void 0,(function(){var n,t=j;try{n=Function(t(145)+t(151)+");")()}catch(l){n=window}for(var o=n[t(155)]=n[t(155)]||{},e=[t(154),t(141),"info",t(166),t(149),t(148),t(138)],r=0;r<e[t(163)];r++){var i=S[t(182)][t(184)][t(168)](S),a=e[r],s=o[a]||i;i[t(165)]=S.bind(S),i[t(156)]=s.toString[t(168)](s),o[a]=i}}))();const z=class extends o{constructor(n={}){var t=j;super(),this[t(150)]="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this.fragmentShader=t(139),this[t(176)]={opacity:new e(void 0!==n.opacity?n[t(147)]:1),glowInternalRadius:new e(void 0!==n[t(172)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n[t(157)]?n[t(157)]:.5),falloff:new e(void 0!==n[t(164)]?n.falloff:.1),glowColor:new e(void 0!==n.glowColor?new r(n.glowColor):new r("#00d5ff"))},this[t(179)](n),this.depthTest=void 0!==n[t(178)]&&n[t(178)],this[t(171)]=void 0!==n[t(177)]?n[t(177)]:i,this[t(162)]=!0,this[t(167)]=void 0!==n.side?n[t(167)]:a}};function C(n){function t(n){var o=j;if(typeof n===o(152))return function(n){}.constructor("while (true) {}")[o(175)](o(142));1!==(""+n/n)[o(163)]||n%20==0?function(){return!0}[o(182)]("debu"+o(140)).call(o(180)):function(){return!1}[o(182)](o(158)+"gger")[o(175)](o(161)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const P=T;!function(n,t){const o=T,e=k();for(;;)try{if(824735===-parseInt(o(387))/1+parseInt(o(390))/2+parseInt(o(333))/3+-parseInt(o(356))/4+parseInt(o(343))/5+-parseInt(o(371))/6+parseInt(o(382))/7*(-parseInt(o(352))/8))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(346)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function T(n,t){const o=k();return(T=function(n,t){return o[n-=332]})(n,t)}function k(){const n=["opacity","glowSharpness","console","379032hjbKDS","fakeGlow","function *\\( *\\)","2570782PyiOhb","trace","falloff","FrontSide","chain","bind","3940143NfUFav","value","table","warn","test","BackSide","glowColor","side","primitive","addBinding","3142990IiGMCC","constructor","uniforms","apply","length",'{}.constructor("return this")( )',"call","TresCanvas","TresAmbientLight","8jiNSAl","neg-x.jpg","prototype","string","4670400QafuRS","info","TresTorusKnotGeometry","glowInternalRadius","return (function() ","object","TresGroup","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","exception","action","while (true) {}","pos-z.jpg","DoubleSide","TresGridHelper","1197912YNSmLz","debu","Mesh","neg-z.jpg","__proto__","toString","pos-x.jpg","#a058c1","清晰度","log","材质面","4594457zZhVwj","gger"];return(k=function(){return n})()}!function(){R(this,(function(){const n=T,t=new RegExp(n(389)),o=new RegExp(n(363),"i"),e=D("init");t[n(337)](e+n(394))&&o.test(e+n(364))?D():e("0")}))()}();const N=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(346)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();N(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(360)+n(348)+");")()}catch(o){t=window}return t}(),o=t[n(386)]=t.console||{},e=[n(380),n(336),n(357),"error",n(365),n(335),n(391)];for(let r=0;r<e[n(347)];r++){const t=N.constructor[n(354)].bind(N),i=e[r],a=o[i]||t;t[n(375)]=N[n(332)](N),t.toString=a[n(376)].bind(a),o[i]=t}}))();const M={position:[0,6,0]},G=[P(361)],F=f({__name:P(388),setup(o){const e=P,i=new u({title:"辉光参数",expanded:!0}),a=p({glowColor:e(378),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s[e(393)],depthTest:!1}),f=new z,j=new(s[e(373)])(new l(4,3.8,128,128),f);return i[e(342)](a,"glowColor",{label:"颜色"}),i[e(342)](a,e(392),{label:"衰减",min:0,max:10,step:.1}),i[e(342)](a,"glowInternalRadius",{label:"内半径",min:-5,max:5,step:.1}),i[e(342)](a,e(385),{label:e(379),min:0,max:10,step:.1}),i[e(342)](a,e(384),{label:"透明",min:0,max:1,step:.1}),i[e(342)](a,e(340),{label:e(381),options:{FrontSide:c,BackSide:s[e(338)],DoubleSide:s[e(369)]}}),g((()=>{const n=e;f[n(345)][n(392)].value=a[n(392)],f[n(345)][n(339)].value=new r(a[n(339)]),f[n(345)][n(359)].value=a[n(359)],f[n(345)].glowSharpness[n(334)]=a[n(385)],f.uniforms[n(384)].value=a[n(384)],f[n(340)]=a[n(340)]})),(o,r)=>{const i=e,a=d(i(350));return v(),m(a,{"window-size":""},{default:w((()=>[r[1]||(r[1]=h("TresPerspectiveCamera",{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=h(i(351),{intensity:1.5},null,-1)),r[3]||(r[3]=h("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1)),y(b(n),{autoRotate:""}),r[4]||(r[4]=h(i(370),{args:[20,10]},null,-1)),h(i(362),M,[r[0]||(r[0]=h("TresMesh",null,[h(i(358),{args:[4,.5,128,128]}),h("TresMeshPhysicalMaterial",{color:"blue",roughness:.2,clearcoat:1})],-1)),h(i(341),{object:b(j)},null,8,G)]),(v(),m(I,null,{default:w((()=>[y(b(t),{files:[i(377),i(353),"pos-y.jpg","neg-y.jpg",i(368),i(374)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1})}}});function D(n){function t(n){const o=T;if(typeof n===o(355))return function(n){}[o(344)](o(367))[o(346)]("counter");1!==(""+n/n)[o(347)]||n%20==0?function(){return!0}[o(344)](o(372)+"gger")[o(349)](o(366)):function(){return!1}[o(344)](o(372)+o(383))[o(346)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{F as default};
