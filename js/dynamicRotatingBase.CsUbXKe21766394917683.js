import{_ as o,K as e}from"./@tresjs.CC-VM6g11766394917683.js";import{P as t}from"./tweakpane.CqZAnw7f1766394917683.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.B10xVLCB1766394917683.js";import"./OimoPhysicsBuffer.CZ5jbQLF1766394917683.js";import"./shapeConfigurator.vue_vue_type_style_index_1_scoped_abbf0cc1_lang.CXJ66YiI1766394917683.js";import"./Resource.CDqX8L841766394917683.js";import"./three-custom-shader-material.-uIL0IHF1766394917683.js";import"./PackedMipMapGenerator._063ERT-1766394917683.js";import"./three.quarks.zV5tjxhZ1766394917683.js";import{u as a}from"./utils.C2DuXFZ81766394917683.js";import{d as r,a as s,r as p,w as n,G as l,o as m,I as c,a9 as d,aa as u,g as f,b as g,e as y,h as v,u as h,m as j}from"./@vue.BxPWGdWw1766394917683.js";import{bK as _,a6 as x,A as B,aE as b,bz as w,k as P}from"./three.F31Lz30M1766394917683.js";import"./postprocessing.DnKKyAPS1766394917683.js";import"./@vueuse.PX2Ih8Bm1766394917683.js";import"./dither.glsl.tNAdkJUa1766394917683.js";import"./Reflector.oCCTq04i1766394917683.js";import"./vite-plugin-qiankun.B06WoCqG1766394917683.js";import"./utils.CNife3_q1766394917683.js";import"./oimophysics.CfVKSiAm1766394917683.js";import"./object-hash.BlsCJiuO1766394917683.js";import"./@amap.fjyZdsU91766394917683.js";import"./jszip.CCQtYoU41766394917683.js";import"./three-stdlib.DKf5n1fq1766394917683.js";import"./quarks.core.C3xH0YPO1766394917683.js";const M=r({__name:"dynamicRotatingBase",props:{type:{default:"imgA"},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},videoLoop:{type:Boolean,default:!1}},setup(e){const t=s(),{onBeforeRender:i}=o();i(()=>{t.value&&(t.value.rotation.z+=f.rotationZ)});const r={imgA:{type:"img",path:"./plugins/floor/image/imgFloor1.png"},imgB:{type:"img",path:"./plugins/floor/image/imgFloor2.png"},imgC:{type:"img",path:"./plugins/floor/image/imgFloor3.png"},videoA:{type:"video",path:"https://opensource.cdn.icegl.cnvideo/floor/floorV1.mp4"},videoB:{type:"video",path:"https://opensource.cdn.icegl.cnvideo/floor/floorV2.mp4"},videoC:{type:"video",path:"https://opensource.cdn.icegl.cnvideo/floor/floorV3.mp4"}},f=e,g=p({color:f.color,map:null,side:x,transparent:!0,opacity:f.opacity,blending:_,depthTest:!0,depthWrite:!1}),y=document.createElement("video");return n(()=>f.type,async o=>{if(g.map?.dispose(),"img"===r[o].type){const e=await a(r[o].path);e.colorSpace=B,e.wrapS=b,e.wrapT=b,e.repeat.set(1,1),g.map=e}else if("video"===r[o].type){y.src=r[o].path,y.crossOrigin="anonymous",y.loop=f.videoLoop,y.muted=!0,y.play();const e=new w(y);e.colorSpace=B,e.wrapS=b,e.wrapT=b,e.repeat.set(1,1),g.map=e}},{immediate:!0}),n(()=>[f.color,f.opacity,f.videoLoop],([o,e,t])=>{g.color=new P(o),g.opacity=e,y.loop=t}),(o,e)=>(m(),l("TresMesh",{ref_key:"tmRef",ref:t},[e[0]||(e[0]=c("TresPlaneGeometry",{args:[10,10]},null,-1)),c("TresMeshBasicMaterial",d(u(g)),null,16)],512))}}),A=r({__name:"dynamicRotatingBase",setup(o){const a=p({reflectivity:2.6,showGridHelper:!1,scale:4}),r=p({type:"videoA",color:"#fff",opacity:.95,rotationZ:.01,videoLoop:!1}),s=new t;return s.addBlade({view:"list",label:"底座类型",options:["imgA","imgB","imgC","videoA","videoB","videoC"].map(o=>({text:o,value:o})),value:r.type}).on("change",o=>{r.type=o.value}),s.addBinding(r,"videoLoop",{label:"视频重复"}),s.addBinding(r,"color",{label:"颜色"}),s.addBinding(r,"opacity",{label:"透明度",min:0,max:1,step:.01}),s.addBinding(r,"rotationZ",{label:"自转速度",min:-.1,max:.1,step:.01}),(o,t)=>{const s=f("TresCanvas");return m(),g(s,{clearColor:"#201919","window-size":""},{default:y(()=>[t[0]||(t[0]=c("TresPerspectiveCamera",{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1)),v(h(e),{enableDamping:""}),t[1]||(t[1]=c("TresAmbientLight",{intensity:6},null,-1)),v(h(M),j({"rotation-x":-Math.PI/2,position:[2,-.6,2]},r),null,16,["rotation-x"]),v(h(M),{"rotation-x":-Math.PI/2,position:[2,.1,2],color:"#f605ff",type:"imgB"},null,8,["rotation-x"]),v(h(M),{"rotation-x":-Math.PI/2,position:[-2,0,-2],color:"#02a7ff",type:"imgC"},null,8,["rotation-x"]),v(h(M),{"rotation-x":-Math.PI/2,position:[0,0,-10],color:"#f605ff",type:"videoB"},null,8,["rotation-x"]),v(h(M),{"rotation-x":-Math.PI/2,position:[0,-.7,-10],color:"#02a7ff",type:"videoC"},null,8,["rotation-x"]),v(h(M),{"rotation-x":-Math.PI/2,position:[0,-.5,10],color:"#f605ff",type:"imgA"},null,8,["rotation-x"]),v(i,j({position:[0,-1,0]},a),null,16)]),_:1})}}});export{A as default};
