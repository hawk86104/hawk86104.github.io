import{P as t}from"./tweakpane.yHWGBmom1731552996711.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.PBzOUcTS1731552996711.js";import{_ as r}from"./heatmap.js-fix.Qdlz11pV1731552996711.js";import{h as i,_ as c,bW as s,s as u,m as a}from"./three.KG0QRRig1731552996711.js";import{r as p}from"./utils.L-vmRhm51731552996711.js";import{d as f}from"./pinia.Yf0ZNVo31731552996711.js";import{b as l,d as h,a3 as d,o as m,D as g,J as v,u as y,F as w,q as b,U as I,N as _,P as x,H as j,L as E,a6 as z,r as D,j as M,g as T,m as O}from"./@vue.-THQH3GC1731552996711.js";import{c as R,d as A,a as S}from"./three-mesh-bvh.dPsz5KU41731552996711.js";import{_ as P}from"./@fesjs.ffiiLppw1731552996711.js";import"./@tresjs.01P8tiuF1731552996711.js";import"./@vueuse.YduQ9gvc1731552996711.js";import"./three-custom-shader-material.B7Wbwjde1731552996711.js";import"./@amap.QHC596bA1731552996711.js";import"./vue-demi.C4xddsk91731552996711.js";import"./vue-router.4ictOE9I1731552996711.js";import"./lodash-es.kYt-_xTG1731552996711.js";import"./@qlin.yHhFDldE1731552996711.js";import"./@floating-ui.BPbuo5Gx1731552996711.js";import"./@juggle.7yjBMqoW1731552996711.js";function Z(){const t=["6059855fxvhhE","table","debu","stateObject","test","randInt","error","toString","setData","bind","gger","prototype","top","create","yellow","__proto__","16egZCjo","rgb(255,0,0)","function *\\( *\\)","style","init","length","2536400TebUiw","heatmap-canvas","counter","call","width","149603IwpEdT","exception","chain","getValueAt","appendChild","return (function() ","rgb(0,255,0)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","position","left","4579878xekbgZ","input","4887288nRNiTy","_config","string","306621LKMfhA","rgb(0,0,255)","warn","constructor","19831008xvjAgv","log","display"];return(Z=function(){return t})()}!function(t,n){const e=L,o=Z();for(;;)try{if(655109===-parseInt(e(317))/1*(-parseInt(e(306))/2)+-parseInt(e(283))/3+-parseInt(e(312))/4+parseInt(e(290))/5+parseInt(e(328))/6+parseInt(e(330))/7+-parseInt(e(287))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(325)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=L,n=new RegExp(t(308)),e=new RegExp(t(324),"i"),o=$(t(310));n.test(o+t(319))&&e[t(294)](o+t(329))?$():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(325)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=L;let n;try{n=Function(t(322)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n.console||{},o=[t(288),t(285),"info",t(296),t(318),t(291),"trace"];for(let i=0;i<o.length;i++){const n=U[t(286)][t(301)][t(299)](U),r=o[i],c=e[r]||n;n[t(305)]=U.bind(U),n[t(297)]=c[t(297)][t(299)](c),e[r]=n}}))();const F=(t,n)=>t[L(320)](n)+-10;function L(t,n){const e=Z();return(L=function(t,n){return e[t-=282]})(t,n)}function $(t){function n(t){const e=L;if(typeof t===e(282))return function(t){}.constructor("while (true) {}")[e(325)](e(314));1!==(""+t/t)[e(311)]||t%20==0?function(){return!0}.constructor(e(292)+e(300))[e(315)]("action"):function(){return!1}[e(286)](e(292)+e(300))[e(325)](e(293)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=B;function B(t,n){const e=H();return(B=function(t,n){return e[t-=146]})(t,n)}!function(t,n){const e=B,o=H();for(;;)try{if(430290===-parseInt(e(154))/1+parseInt(e(176))/2*(parseInt(e(157))/3)+-parseInt(e(172))/4+-parseInt(e(149))/5+parseInt(e(161))/6+parseInt(e(171))/7+-parseInt(e(159))/8*(-parseInt(e(174))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(168)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=B,n=new RegExp(t(152)),e=new RegExp(t(162),"i"),o=q(t(153));n.test(o+t(151))&&e[t(167)](o+"input")?q():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(168)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(){const t=["gger","trace","297VJmDhs","bind","1291256RyxZFU","buildingsHeatmap","2326062RoqZuK","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","while (true) {}","call","value","test","apply","prototype","warn","3670541AOEtHn","560344tzDKTg","error","9qdliYk","length","12452OzOjsr","action","return (function() ","debu",'{}.constructor("return this")( )',"constructor","log","counter","info","toString","3843535HbouQK","console","chain","function *\\( *\\)","init","350738ozOlkX"];return(H=function(){return t})()}V(void 0,(function(){const t=B;let n;try{n=Function(t(178)+t(180)+");")()}catch(r){n=window}const e=n.console=n[t(150)]||{},o=[t(182),t(170),t(147),t(173),"exception",t(163),t(156)];for(let i=0;i<o[t(175)];i++){const n=V.constructor[t(169)][t(158)](V),r=o[i],c=e[r]||n;n.__proto__=V[t(158)](V),n[t(148)]=c[t(148)][t(158)](c),e[r]=n}}))();const W=f(J(160),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[B(166)]=n},setTemperature:function(t){n[B(166)]=t}}}));function q(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(181)](e(164)).apply(e(146));1!==(""+t/t).length||t%20==0?function(){return!0}[e(181)](e(179)+e(155))[e(165)](e(177)):function(){return!1}[e(181)](e(179)+e(155))[e(168)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=Q;!function(t,n){const e=Q,o=et();for(;;)try{if(920598===-parseInt(e(312))/1*(parseInt(e(339))/2)+-parseInt(e(329))/3+-parseInt(e(348))/4*(-parseInt(e(281))/5)+parseInt(e(316))/6+-parseInt(e(283))/7*(-parseInt(e(297))/8)+parseInt(e(346))/9*(parseInt(e(327))/10)+parseInt(e(343))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(299)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=Q,n=new RegExp(t(292)),e=new RegExp(t(320),"i"),o=nt(t(330));n.test(o+t(284))&&e[t(306)](o+t(347))?nt():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=Q;let n;try{n=Function(t(328)+t(349)+");")()}catch(r){n=window}const e=n[t(289)]=n[t(289)]||{},o=[t(331),t(353),t(322),t(285),"exception","table",t(310)];for(let i=0;i<o[t(291)];i++){const n=X[t(305)][t(340)][t(314)](X),r=o[i],c=e[r]||n;n[t(304)]=X[t(314)](X),n[t(333)]=c[t(333)].bind(c),e[r]=n}}))();const Y=[C(336),C(341)],N=["object"];function Q(t,n){const e=et();return(Q=function(t,n){return e[t-=281]})(t,n)}const tt=h({__name:C(319),props:{model:{},opacity:{default:1}},setup(t){const n=C;(()=>{const t=Q;c[t(337)].prototype.computeBoundsTree=R,c[t(337)][t(340)][t(357)]=A,u[t(340)][t(324)]=S})();const e=t,o=((t=250,n=250,e=!0)=>{const o=L,i=document.createElement(o(313));return i[o(309)][o(326)]="absolute",!e&&(i[o(309)][o(289)]="none"),i[o(309)][o(302)]="0",i[o(309)][o(327)]="0",document.body[o(321)](i),r[o(303)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(284),.55:o(323),.85:o(304),1:o(307)}})})();((t,n)=>{const e=L;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(295)](1,t[e(331)][e(316)]),y:i[e(295)](1,t._config.height),value:i[e(295)](-10,36)}),o++}t[e(298)]({max:36,min:-10,data:n})})(o);const f=new(c[n(342)])(o[n(286)][n(354)]);f[n(338)]=!0;const l=e[n(308)][n(287)][n(290)]();delete l.geometry[n(295)][n(313)],delete l[n(294)][n(295)].uv;const h=l[n(294)][n(290)]()[n(302)](l[n(309)]),b=e.model[n(300)].clone();delete b[n(294)][n(295)].normal;const I=b[n(294)][n(290)]()[n(302)](b[n(309)]),_=s[n(334)]([h,I]);_[n(302)]((new(c[n(344)]))[n(325)](Math.PI/2)),p(_),_[n(321)]();const x=(t=>{const o=n;return new a({vertexShader:o(303),fragmentShader:o(332),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(311)]})})(f),j=new(c[n(317)])(_,x);d((()=>{const t=n;e[t(307)]&&(x.uniforms[t(352)][t(318)]=e[t(307)])}));const E=W(),z=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(288)][e(296)],y:(1-t.uv.y)*o[e(288)][e(355)]};console[e(331)](e(326),t),console.log(e(323),F(o,n)),E[e(350)](F(o,n))}},D=t=>{t&&E[n(351)]({showDiv:!0})},M=t=>{t&&E[n(335)](!1)};return(t,o)=>{const r=n;return m(),g(w,null,[v(r(293),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:z,onPointerEnter:D,onPointerLeave:M},null,40,Y),v(r(293),{object:e[r(308)][r(308)].children[0][r(290)]()},null,8,N)],64)}}});function nt(t){function n(t){const e=Q;if(typeof t===e(298))return function(t){}.constructor(e(356))[e(299)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(305)]("debu"+e(282)).call(e(315)):function(){return!1}[e(305)](e(301)+"gger")[e(299)](e(345)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function et(){const t=["return (function() ","3715107XdPrLK","init","log","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","toString","mergeGeometries","setShowDiv","object","BufferGeometry","needsUpdate","370198AyYAVP","prototype","rotation-x","Texture","24723545OeXJKv","Matrix4","stateObject","80253IxzvES","input","2508300sWWEPY",'{}.constructor("return this")( )',"setTemperature","$patch","uOpacity","warn","canvas","height","while (true) {}","disposeBoundsTree","10MIVdPw","gger","541513FSJhQT","chain","error","_renderer","city","_config","console","clone","length","function *\\( *\\)","primitive","geometry","attributes","width","8aFozCE","string","apply","land","debu","applyMatrix4","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","__proto__","constructor","test","opacity","model","matrix","trace","DoubleSide","9MTSVxN","normal","bind","action","511488JEzGQz","Mesh","value","buildingsHeatmap","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","computeBoundsTree","info","数值———：","raycast","makeRotationX","数值：","180bEwKcW"];return(et=function(){return t})()}const ot=P({__name:"dataDiv",setup(t){const n=W(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:E(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[x,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=ut;!function(t,n){const e=ut,o=st();for(;;)try{if(261681===parseInt(e(494))/1+-parseInt(e(467))/2*(parseInt(e(460))/3)+-parseInt(e(492))/4*(parseInt(e(499))/5)+parseInt(e(474))/6+-parseInt(e(465))/7+-parseInt(e(493))/8*(-parseInt(e(477))/9)+-parseInt(e(462))/10*(parseInt(e(490))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(478)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=ut,n=new RegExp(t(473)),e=new RegExp(t(463),"i"),o=pt(t(471));n[t(496)](o+t(470))&&e[t(496)](o+t(488))?pt():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(478)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["console","129031hUIMbw","trace","6nBJynJ","info","bind","chain","init","toString","function *\\( *\\)","1316868InDTaT","city","透明度","60426ETYzOi","apply",'{}.constructor("return this")( )',"call","heatmap2","length","warn","__proto__","value","gger","debu","input","opacity","33ltDIOt","exception","12aLdDUQ","544kzeHlL","260145wlqpMo","constructor","test","log","error","5585jmJxLG","counter","prototype","builds","37377WzUGta","stateObject","2051110kCNEpR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(st=function(){return t})()}function ut(t,n){const e=st();return(ut=function(t,n){return e[t-=457]})(t,n)}ct(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function("return (function() "+t(479)+");")()}catch(e){n=window}return n}(),e=n[t(464)]=n[t(464)]||{},o=[t(497),t(483),t(468),t(498),t(491),"table",t(466)];for(let r=0;r<o[t(482)];r++){const n=ct[t(495)][t(458)].bind(ct),i=o[r],c=e[i]||n;n[t(484)]=ct.bind(ct),n[t(472)]=c[t(472)][t(469)](c),e[i]=n}}))();const at=h({__name:rt(481),async setup(r){const i=rt;let c,s;const u=l(!1),a=([c,s]=z((()=>o())),c=await c,s(),c);u[i(485)]=!0;const p=D({width:1,color:"#000",opacity:1,show:!0}),f=D({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(f,i(489),{label:i(476),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(w,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:T((()=>[M(tt,O({model:y(a)},f),null,16,["model"]),M(n,O(p,{builds:y(a)[r(475)]}),null,16,[r(459)])])),_:1}),M(ot)],64)}}});function pt(t){function n(t){const e=ut;if("string"==typeof t)return function(t){}[e(495)]("while (true) {}")[e(478)](e(457));1!==(""+t/t)[e(482)]||t%20==0?function(){return!0}.constructor(e(487)+e(486))[e(480)]("action"):function(){return!1}[e(495)](e(487)+e(486))[e(478)](e(461)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
