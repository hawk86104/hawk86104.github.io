import{D as t,m as n,e,U as r,C as o}from"./@tresjs.C3WO4ZW41730883607874.js";import{_ as s}from"./index.CVieFNGr1730883607874.js";import{_ as i,X as c,g as u,B as a,ct as l}from"./three.fIUcjaNz1730883607874.js";import{P as f}from"./tweakpane.BCjFYDHx1730883607874.js";import{I as p,C as g,N as h,c as m,d,a as y}from"./three-mesh-bvh.yJpBh0Yi1730883607874.js";import{d as w,a6 as b,b as v,a3 as j,o as I,D as _,J as x,u as M,F as T,r as k,e as z,j as A,g as R,m as B,f as S,al as Z}from"./@vue.Cfu43fwq1730883607874.js";import"./@vueuse.BSum2YDk1730883607874.js";import"./utils.DZn_exdt1730883607874.js";import"./@fesjs.DQmvwjPe1730883607874.js";import"./vue-router.BDLCs4Ld1730883607874.js";import"./lodash-es.BBTWvufR1730883607874.js";import"./@qlin.BIlp8Yi21730883607874.js";import"./pinia.DKpn0rzI1730883607874.js";import"./vue-demi.Dq6ymT-81730883607874.js";import"./@babel.BBWsvBIa1730883607874.js";import"./@floating-ui.B75jtkXD1730883607874.js";import"./@juggle.BnTvdTVm1730883607874.js";import"./default.vue_vue_type_script_setup_true_lang.ZAggwT5g1730883607874.js";import"./three-mesh-ui.module.CnYVgkR-1730883607874.js";function C(){const t=["bind","string","intersectObject","chain","length","test","info","init","enabled","32499ZvjZgP","Raycaster","pointerType","clientY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","function *\\( *\\)","innerHeight","warn","innerWidth","table","touch","error","506388YRXQGs","8HKPRfM","gger","1127LtMBuB","button","input","83120AyVEvl","console","2350064vuxIiQ","stateObject","addEventListener","4790sICzZw","pointermove","call","counter","constructor","20618708kJuRXA","clientX","exception","return (function() ","toString","log","value","3387366Syvbcx","__proto__","10zvOtZT","apply","prototype","while (true) {}","128327fweSky","pointerdown"];return(C=function(){return t})()}!function(t,n){const e=E,r=C();for(;;)try{if(881467===parseInt(e(124))/1+parseInt(e(149))/2*(parseInt(e(148))/3)+-parseInt(e(156))/4*(parseInt(e(120))/5)+-parseInt(e(118))/6+parseInt(e(151))/7*(parseInt(e(154))/8)+-parseInt(e(135))/9*(parseInt(e(106))/10)+parseInt(e(111))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){O(this,(function(){const t=E,n=new RegExp(t(141)),e=new RegExp(t(139),"i"),r=Y(t(133));n[t(131)](r+t(129))&&e.test(r+t(153))?Y():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(121)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(t,n){const e=C();return(E=function(t,n){return e[t-=104]})(t,n)}X(void 0,(function(){const t=E;let n;try{n=Function(t(114)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(155)]=n[t(155)]||{},r=[t(116),t(143),t(132),t(147),t(113),t(145),"trace"];for(let s=0;s<r[t(130)];s++){const n=X[t(110)][t(122)][t(126)](X),o=r[s],i=e[o]||n;n[t(119)]=X[t(126)](X),n[t(115)]=i[t(115)].bind(i),e[o]=n}}))();function Y(t){function n(t){const e=E;if(typeof t===e(127))return function(t){}.constructor(e(123))[e(121)](e(109));1!==(""+t/t)[e(130)]||t%20==0?function(){return!0}[e(110)]("debu"+e(150))[e(108)](e(140)):function(){return!1}.constructor("debu"+e(150))[e(121)](e(104)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=U;!function(t,n){const e=U,r=L();for(;;)try{if(254599===-parseInt(e(174))/1*(parseInt(e(198))/2)+parseInt(e(142))/3*(-parseInt(e(203))/4)+-parseInt(e(171))/5+-parseInt(e(202))/6*(parseInt(e(150))/7)+-parseInt(e(167))/8*(-parseInt(e(207))/9)+-parseInt(e(155))/10*(-parseInt(e(125))/11)+parseInt(e(168))/12*(parseInt(e(141))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(140)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){F(this,(function(){const t=U,n=new RegExp(t(121)),e=new RegExp(t(182),"i"),r=$(t(152));n[t(154)](r+t(133))&&e[t(154)](r+t(165))?$():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(140)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(t,n){const e=L();return(U=function(t,n){return e[t-=117]})(t,n)}function L(){const t=["BufferAttribute","controls","BufferGeometry","生成模型","bind","66QnlWkB","push","Mesh","toString","2867922IUzVok","21444BcQIzC","counter","click","warn","99tLhFYr","error","console","call","info","applyMatrix4","getY","function *\\( *\\)","set","setFromCamera","geometry","187YolqAN","gger","invert","material","intersectsSphere","trace","enabled","containsPoint","chain","setScalar","targetMesh","computeBoundsTree","exception","MeshStandardMaterial","#023249","apply","13585TtdoVx","63vHuMfS","length","string","count","visible","Vector3","TresMeshStandardMaterial","needsUpdate","7yNqcXq",'{}.constructor("return this")( )',"init","点击按钮","test","62690HkAjzb","boundsTree","Matrix4","getZ","instance","intersectsBox","__proto__","copy","TresMesh","model","input","attributes","287528BNtmQp","7212WWMcXT","table","position","1235580iRWvCy","color","Vector2","1142MpSiBM","normal","active","point","prototype","constructor","addButton","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","while (true) {}","firstHitOnly","return (function() ","targetMesh.value init","log","setAttribute","setUsage","shapecast","stateObject"];return(L=function(){return t})()}H(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(186)+t(151)+");")()}catch(e){n=window}return n}(),e=n[t(209)]=n.console||{},r=[t(188),t(206),t(118),t(208),t(137),t(169),t(130)];for(let o=0;o<r[t(143)];o++){const n=H.constructor[t(178)][t(197)](H),s=r[o],i=e[s]||n;n[t(161)]=H[t(197)](H),n[t(201)]=i[t(201)][t(197)](i),e[s]=n}}))();const N=[Q(124),Q(128)],V=["geometry"],W=w({__name:Q(164),props:{controls:{}},async setup(r){const o=Q;let s,w;const k=r;(()=>{const t=U;a[t(178)][t(136)]=m,a[t(178)].disposeBoundsTree=d,i[t(200)][t(178)].raycast=y})();const z=([s,w]=b((()=>t(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),A=new(i[o(138)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),R=new Uint8Array(3*z[o(166)].position[o(145)]);R.fill(255);const B=new(i[o(193)])(R,3,!0);B[o(190)](c),z[o(189)](o(172),B);const S=v(null),Z=v(null),C=v(!1),O=v(-1),X=v(.2),Y=new(i[o(173)]),{camera:F,raycaster:H}=n(),L=15/255,W=78/255,$=85/255;let q=null;j((()=>{const t=o;S[t(183)]&&(console[t(188)](t(187),S.value),S.value[t(124)][t(136)](),q=z[t(156)],((t,n,e,r,o,s)=>{const c=E;window[c(105)](c(107),(e=>{const r=c;t.x=e[r(112)]/window[r(144)]*2-1,t.y=-e[r(138)]/window[r(142)]*2+1,n[r(117)]=!0})),window[c(105)](c(125),(u=>{const a=c;t.x=u[a(112)]/window[a(144)]*2-1,t.y=-u.clientY/window[a(142)]*2+1,r[a(117)]=u[a(152)];const l=new(i[a(136)]);l.setFromCamera(t,e.value),l.firstHitOnly=!0;const f=l[a(128)](o[a(117)],!0);n[a(117)]=!0,s[a(134)]=0===f[a(130)]}),!0),window[c(105)]("pointerup",(t=>{const e=c;r.value=-1,t[e(137)]===e(146)&&(n[e(117)]=!1)}),!0)})(Y,C,F,O,S,k.controls.instance))}));const{onLoop:D}=e();D((()=>{const t=o,n=z.index;if(Z[t(183)])if(k[t(194)][t(159)][t(176)]||!C[t(183)])Z[t(183)][t(146)]=!1;else{Z[t(183)].scale[t(134)](X[t(183)]),H[t(183)][t(123)](Y,F.value),H[t(183)][t(185)]=!0;const e=H[t(183)].intersectObject(S[t(183)],!0);if(e[t(143)]){Z[t(183)][t(170)][t(162)](e[0][t(177)]),k[t(194)].instance[t(131)]=!1,Z.value.visible=!0;const r=new(i[t(157)]);r[t(162)](S[t(183)].matrixWorld)[t(127)]();const o=new u;o.center.copy(Z[t(183)].position)[t(119)](r),o.radius=100*X.value;const s=[],c=new(i[t(147)]);if(null==q||q[t(191)]({intersectsBounds:n=>{const e=t,r=o[e(160)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(122)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(132)](c))return p;return g}return r?p:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(129)](o)){const t=3*e;s[i(199)](t,t+1,t+2)}return!1}}),0===O.value||2===O[t(183)]){let e=1,r=1,o=1;0===O[t(183)]&&(e=L,r=W,o=$);for(let i=0,c=s[t(143)];i<c;i++){const t=n.getX(s[i]);B.setX(t,e),B.setY(t,r),B.setZ(t,o)}B[t(149)]=!0}}else Z[t(183)][t(146)]=!1,k[t(194)].instance[t(131)]=!0}}));const P=(new f)[o(180)]({title:o(153),label:o(196)}),J=new(i[o(195)]);return P.on(o(205),(()=>{const t=o,n=[],e=[];for(let o=0;o<B[t(145)];o++)B.getX(o)===L&&B[t(120)](o)===W&&B.getZ(o)===$&&(n[t(199)](z[t(166)][t(170)].getX(o),z[t(166)][t(170)][t(120)](o),z.attributes[t(170)].getZ(o)),e[t(199)](z[t(166)].normal.getX(o),z[t(166)][t(175)].getY(o),z[t(166)][t(175)][t(158)](o)));const r=new Float32Array(n);J[t(189)](t(170),new(i[t(193)])(r,3)),J[t(189)](t(175),new(i[t(193)])(r,3))})),(t,n)=>{const e=o;return I(),_(T,null,[x(e(163),{ref_key:e(135),ref:S,geometry:M(z),scale:.005,material:M(A)},null,8,N),x(e(163),{ref_key:"brushMesh",ref:Z,visible:!1},n[0]||(n[0]=[x("TresSphereGeometry",{args:[1,40,40]},null,-1),x(e(148),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),x(e(163),{geometry:M(J),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[x(e(148),{color:e(139),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,V)],64)}}});function $(t){function n(t){const e=U;if(typeof t===e(144))return function(t){}[e(179)](e(184))[e(140)](e(204));1!==(""+t/t).length||t%20==0?function(){return!0}[e(179)](e(181)+e(126))[e(117)]("action"):function(){return!1}[e(179)](e(181)+e(126))[e(140)](e(192)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=D;function D(t,n){const e=G();return(D=function(t,n){return e[t-=297]})(t,n)}!function(t,n){const e=D,r=G();for(;;)try{if(602878===parseInt(e(310))/1+-parseInt(e(320))/2+parseInt(e(297))/3+-parseInt(e(312))/4+-parseInt(e(303))/5+-parseInt(e(306))/6*(-parseInt(e(317))/7)+parseInt(e(318))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(308)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=D,n=new RegExp(t(323)),e=new RegExp(t(307),"i"),r=tt(t(322));n[t(329)](r+t(313))&&e.test(r+t(299))?tt():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(308)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(){const t=["neg-x.jpg","exception","TresAmbientLight","constructor","console","gger","TresCanvas","call","trace","2346087lCxhwS","table","input","log","error","controls","2642305cnDJRy","pos-y.jpg","value","18QigkVH","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","counter","80517NdZOul","collectTriangles","4040400UcLDNE","chain","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","action","while (true) {}","2202613cYDOjY","9879888MxQTQy","TresPerspectiveCamera","1800140vlEbuR","length","init","function *\\( *\\)","pos-z.jpg","warn","debu","info","bind","test","stateObject","neg-z.jpg","controlsRef","prototype"];return(G=function(){return t})()}J(void 0,(function(){const t=D,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(338)]=n[t(338)]||{},r=[t(300),t(325),t(327),t(301),t(335),t(298),t(342)];for(let o=0;o<r[t(321)];o++){const n=J[t(337)][t(333)][t(328)](J),s=r[o],i=e[s]||n;n.__proto__=J[t(328)](J),n.toString=i.toString.bind(i),e[s]=n}}))();const K=w({__name:q(311),setup(t){const n=k({clearColor:"#999999",antialias:!0}),e=k({autoRotate:!1}),i=v(null);return(t,c)=>{const u=D,a=z(u(340));return I(),_(T,null,[A(M(s)),A(a,B(n,{"window-size":""}),{default:R((()=>[c[0]||(c[0]=x(u(319),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),A(M(r),B({ref_key:u(332),ref:i},e),null,16),c[1]||(c[1]=x(u(336),{intensity:1},null,-1)),(I(),S(Z,null,{default:R((()=>[A(W,{controls:i[u(305)]},null,8,[u(302)])])),_:1})),(I(),S(Z,null,{default:R((()=>[A(M(o),{background:!1,files:["pos-x.jpg",u(334),u(304),"neg-y.jpg",u(324),u(331)],path:u(314)})])),_:1}))])),_:1},16)],64)}}});function tt(t){function n(t){const e=D;if("string"==typeof t)return function(t){}[e(337)](e(316))[e(308)](e(309));1!==(""+t/t)[e(321)]||t%20==0?function(){return!0}[e(337)](e(326)+e(339))[e(341)](e(315)):function(){return!1}[e(337)]("debu"+e(339))[e(308)](e(330)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
