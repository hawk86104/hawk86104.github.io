import{a6 as t,a_ as n}from"./three.X8FgZbPT1723608367756.js";import{p as e}from"./@tresjs.zzLYikgQ1723608367756.js";import{d as a,P as o}from"./@pmndrs.enT7k5Vt1723608367756.js";import{d as r,b as s,w as i,a1 as c,o as u,D as l,J as p,aj as f,ak as d}from"./@vue.Q1VpS3901723608367756.js";function h(t,n){const e=y();return(h=function(t,n){return e[t-=327]})(t,n)}const m=h;!function(t,n){const e=h,a=y();for(;;)try{if(523599===parseInt(e(390))/1*(-parseInt(e(339))/2)+-parseInt(e(404))/3*(parseInt(e(337))/4)+-parseInt(e(347))/5*(parseInt(e(406))/6)+-parseInt(e(369))/7*(parseInt(e(327))/8)+-parseInt(e(389))/9*(parseInt(e(364))/10)+-parseInt(e(333))/11*(-parseInt(e(372))/12)+parseInt(e(345))/13)break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const w=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[h(411)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();!function(){w(this,(function(){const t=h,n=new RegExp(t(385)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),a=I(t(378));n.test(a+t(403))&&e[t(346)](a+t(374))?I():a("0")}))()}();const b=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[h(411)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();b(void 0,(function(){const t=h,n=function(){const t=h;let n;try{n=Function(t(368)+t(396)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},a=[t(352),t(391),t(377),t(400),t(407),t(330),t(375)];for(let o=0;o<a[t(338)];o++){const n=b[t(388)][t(334)][t(329)](b),r=a[o],s=e[r]||n;n.__proto__=b[t(329)](b),n.toString=s.toString[t(329)](s),e[r]=n}}))();const M=[m(397)],g=p(m(395),{args:[1,1]},null,-1);function y(){const t=["log","string","Vector3","shadow","remove","accumulativeShadowsCom","alphaTest","size","blendWindow","gger","shadows plm update","sin","3730ayYlSE","amount","counter","configure","return (function() ","1379DXYUvO","acos","random","81564mMcWnJ","prepare","input","trace","Group","info","init","height","blend","intensity","debu","position","width","function *\\( *\\)","while (true) {}","right","constructor","9702lkjEjp","1ynJdAz","warn","ambient","near","call","TresPlaneGeometry",'{}.constructor("return this")( )',"rotate-x","value","abs","error","cos","camera","chain","388401WMAKUs","opacity","6LfxnLA","exception","#000000","children","update","apply","TresMesh","20168pPUpFX","add","bind","table","radius","lightPosition","451neVWwb","prototype","frames","color","28ugAylj","length","304042zaDiiQ","MathUtils","far","randFloatSpread","left","shadows render end","39137306VtbsJH","test","4043095iUEsna","bias","set","material","mapSize"];return(y=function(){return t})()}const z=r({__name:m(357),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(408)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const h=m,w=r;let b=s();const{extend:y,scene:z,renderer:I,camera:S}=e();y({SoftShadowMaterial:a});const x={position:(new(t[h(354)])).set(w[h(332)].x,w[h(332)].y,w[h(332)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},j=new o(I.value,z[h(398)],x.mapSize),_={map:j.progressiveLightMap2.texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[h(380)],alphaTest:w[h(358)],opacity:w[h(405)],color:w[h(336)]},v=new(t[h(376)]);for(let t=0;t<x[h(365)];t++){const t=new n(16777215,x[h(381)]/x.amount);t.castShadow=!0,t.shadow[h(348)]=x[h(348)],t.shadow.camera[h(393)]=x.near,t[h(355)][h(402)][h(341)]=x[h(341)],t[h(355)][h(402)][h(387)]=x[h(359)]/2,t[h(355)][h(402)][h(343)]=-x.size/2,t[h(355)][h(402)].top=x.size/2,t[h(355)][h(402)].bottom=-x[h(359)]/2,t[h(355)][h(351)][h(384)]=x.mapSize,t[h(355)].mapSize[h(379)]=x[h(351)],v[h(328)](t)}const P=()=>{const n=h,e=x[n(383)][n(338)]();for(let a=0;a<v[n(409)][n(338)];a++){const o=v[n(409)][a];if(Math.random()>w.ambient)o[n(383)][n(349)](x[n(383)].x+t[n(340)][n(342)](x[n(331)]),x[n(383)].y+t[n(340)].randFloatSpread(x[n(331)]),x.position.z+t[n(340)][n(342)](x[n(331)]));else{let t=Math[n(370)](2*Math[n(371)]()-1)-Math.PI/2,a=2*Math.PI*Math.random();o[n(383)][n(349)](Math[n(401)](t)*Math[n(401)](a)*e,Math[n(399)](Math[n(401)](t)*Math[n(363)](a)*e),Math[n(363)](t)*e)}}},W=(t=1)=>{const n=h;z[n(398)][n(328)](v),j[n(373)]();for(let e=0;e<t;e++)P(),j[n(410)](S[n(398)],w[n(360)]),console[n(352)](n(362),e);z[n(398)][n(356)](v),j.finish()};i((()=>b[h(398)]),(t=>{const n=h;t&&(j[n(367)](t),j.clear(),console[n(352)]("shadows render start"),W(w.frames),console[n(352)](n(344)))}));const A=()=>{const t=h;j.clear(),W(w[t(335)])};return c((()=>{const t=h;b[t(398)]&&(w.opacity&&(b[t(398)][t(350)][t(405)]=w[t(405)]),w[t(358)]&&(b.value[t(350)][t(358)]=w[t(358)]),w[t(336)]&&b[t(398)][t(350)][t(336)][t(349)](w[t(336)]),w.blend&&(b[t(398)].material.blend=w[t(380)]))})),i((()=>w[h(332)]),(t=>{const n=h;t&&(console[n(352)](w[n(332)]),x.position.set(t.x,t.y,t.z),A())}),{deep:!0}),i((()=>[w[h(335)],w.blendWindow,w[h(392)]]),(()=>{A()})),(t,n)=>{const e=h;return u(),l(e(412),{"receive-shadow":"",ref_key:"gPlane",ref:b,scale:10,"rotate-x":-Math.PI/2},[g,p("TresSoftShadowMaterial",f(d(_)),null,16)],8,M)}}});function I(t){function n(t){const e=h;if(typeof t===e(353))return function(t){}[e(388)](e(386))[e(411)](e(366));1!==(""+t/t)[e(338)]||t%20==0?function(){return!0}[e(388)](e(382)+"gger")[e(394)]("action"):function(){return!1}[e(388)](e(382)+e(361))[e(411)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{z as _};
