import{e,a as t}from"./@tresjs.DLq12syC1752136696158.js";import{_ as a}from"./index.B9Z9A2ny1752136696158.js";import"./index.Bxzb_MXf1752136696158.js";import{P as i}from"./tweakpane.C0HtAJSg1752136696158.js";import{i as n}from"./index.coH2xK-x1752136696158.js";import{d as l,b as s,w as o,G as r,o as d,I as u,r as p,h as m,e as g,f,j as c,u as h,ak as x,al as y,am as j,m as _}from"./@vue.BInVSO3Q1752136696158.js";import{c_ as v,V as b,b as w,cC as L,ae as M,ab as P}from"./three.BNH6wr6-1752136696158.js";import{_ as T}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.CC_G2T__1752136696158.js";import{_ as B}from"./component.vue_vue_type_script_setup_true_lang.CASFiL-11752136696158.js";import"./postprocessing.CPr5BoQh1752136696158.js";import"./@vueuse.BmvRw4vU1752136696158.js";import"./object-hash.AYVzxFSg1752136696158.js";import"./@amap.CGUF9xH41752136696158.js";import"./jszip.Dfvg2heu1752136696158.js";import"./all.three.67DLxSVx1752136696158.js";import"./oimophysics.BBtHVm4j1752136696158.js";import"./reflectorDiffuse.BoFN4B0f1752136696158.js";import"./vite-plugin-qiankun.B06WoCqG1752136696158.js";import"./three-stdlib.xEJufcdC1752136696158.js";import"./whiteFloor.DkbqjjMh1752136696158.js";const I=["args"],A=["color","side","map"],S=l({__name:"flexiblePipe",props:{color:{default:"0xff0000"},radius:{default:.1},bodyLength:{default:2},headLength:{default:1},headAngle:{default:0},radialSegments:{default:16},tailAngle:{default:0},tailLength:{default:.5},speed:{default:.01}},setup(t){const a=t,i=s(new v);o((()=>[a.bodyLength,a.headLength,a.headAngle,a.tailAngle,a.tailLength]),(([e,t,a,n,l])=>{const s=e/2,o=new b(0,0,-s),r=new b(0,0,s),d=w.degToRad(a),u=new b(Math.cos(d),Math.sin(d),0),p=r.clone().add(u.multiplyScalar(t)),m=w.degToRad(n),g=new b(Math.cos(m),Math.sin(m),0),f=o.clone().add(g.multiplyScalar(l));i.value=new v,i.value.add(new L(f,o)),i.value.add(new L(o,r)),i.value.add(new L(r,p))}),{immediate:!0}),n.getResource("TextureLoader","./plugins/digitalCity/image/line.png","line.png");const l=n.getReactiveItem("line.png"),p=s(null);o(l,(e=>{e?.isTexture&&(p.value=e.clone(),p.value.wrapS=p.value.wrapT=M)}),{immediate:!0});const m=s(null),{onLoop:g}=e();return g((()=>{p.value&&(p.value.offset.x-=a.speed)})),(e,t)=>(d(),r("TresMesh",null,[u("TresTubeGeometry",{args:[i.value,64,e.radius,e.radialSegments,!1]},null,8,I),u("TresMeshStandardMaterial",{ref_key:"tmsmRef",ref:m,color:e.color,metalness:.3,roughness:.5,side:P,transparent:"",map:p.value?p.value:null},null,8,A)]))}}),k=l({__name:"flexiblePipePage",setup(e){const n={clearColor:"#15151a",antialias:!1,logarithmicDepthBuffer:!0},l={autoRotate:!0},s=p({color:"#ff0000",radius:.1,bodyLength:2,headLength:1,tailLength:.5,headAngle:0,radialSegments:16,tailAngle:0,speed:.01}),o=new i({title:"参数"});return o.addBinding(s,"color",{label:"颜色"}),o.addBinding(s,"radius",{label:"管道粗细",min:.001,max:1,step:.001}),o.addBinding(s,"bodyLength",{label:"中间长度",min:.1,max:10,step:.1}),o.addBinding(s,"headLength",{label:"前段长度",min:0,max:10,step:.1}),o.addBinding(s,"headAngle",{label:"前段角度",min:0,max:359,step:1}),o.addBinding(s,"tailLength",{label:"后段长度",min:0,max:10,step:.1}),o.addBinding(s,"tailAngle",{label:"后段角度",min:0,max:359,step:1}),o.addBinding(s,"radialSegments",{label:"管平滑",min:2,max:16,step:1}),o.addBinding(s,"speed",{label:"速度",min:-.1,max:.1,step:.001}),(e,i)=>{const o=m("TresCanvas");return d(),g(o,_(n,{"window-size":""}),{default:f((()=>[i[0]||(i[0]=u("TresPerspectiveCamera",{position:[0,10,15],fov:25,near:.1,far:1e4},null,-1)),c(h(t),x(y(l)),null,16),i[1]||(i[1]=u("TresAmbientLight",{color:"#ffffff",intensity:2},null,-1)),(d(),g(j,null,{default:f((()=>[c(h(T),{position:[0,-1.562,0],reflectivity:2.6,showGridHelper:!1,scale:1.5})])),_:1})),c(S,x(y(s)),null,16),(d(),g(j,null,{default:f((()=>[c(h(B),{resolution:512},{default:f((()=>[c(h(a),{intensity:2,position:[0,1,3],scale:[10,1,1]}),c(h(a),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,-6],scale:[10,1,1]},null,8,["rotation-x"]),c(h(a),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,-3],scale:[10,1,1]},null,8,["rotation-x"]),c(h(a),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,0],scale:[10,1,1]},null,8,["rotation-x"]),c(h(a),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,3],scale:[10,1,1]},null,8,["rotation-x"]),c(h(a),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,6],scale:[10,1,1]},null,8,["rotation-x"]),c(h(a),{intensity:2,"rotation-x":Math.PI/2,position:[0,4,9],scale:[10,1,1]},null,8,["rotation-x"]),c(h(a),{intensity:2,"rotation-y":Math.PI/2,position:[-50,2,0],scale:[100,2,1]},null,8,["rotation-y"]),c(h(a),{intensity:2,"rotation-y":-Math.PI/2,position:[50,2,0],scale:[100,2,1]},null,8,["rotation-y"]),c(h(a),{form:"ring",color:"red",intensity:10,scale:2,position:[10,5,10]})])),_:1})])),_:1}))])),_:1},16)}}});export{k as default};
