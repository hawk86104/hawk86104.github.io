var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.yoGxxmGc1729821967160.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.iAW5Ex2N1729821967160.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.U5W1A2RG1729821967160.js";import{k as o,U as s,C as l,m as c,W as u,bb as p,h as f,_ as x,a9 as v,V as m,Q as h,at as w}from"./three.x4oqFJNT1729821967160.js";import{p as g,U as d}from"./@tresjs.QjD7q5YC1729821967160.js";import{u as y}from"./index.rr4JiF8d1729821967160.js";import{F as S,C as _}from"./three-stdlib.7oc1T0_b1729821967160.js";import{d as P}from"./@vue.JNsx1iN61729821967160.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.SIF_yMdv1729821967160.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.2NvSUyNP1729821967160.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.K0R8O5Kj1729821967160.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.Lp3DrC251729821967160.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.fFwdMlX41729821967160.js";const z=b;function b(t,e){const n=D();return(b=function(t,e){return n[t-=480]})(t,e)}!function(t,e){const n=b,i=D();for(;;)try{if(541091===parseInt(n(500))/1*(parseInt(n(482))/2)+-parseInt(n(503))/3+-parseInt(n(519))/4+-parseInt(n(518))/5*(parseInt(n(480))/6)+-parseInt(n(505))/7+-parseInt(n(517))/8+parseInt(n(509))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(502)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){I(this,(function(){const t=b,e=new RegExp(t(511)),n=new RegExp(t(515),"i"),i=A(t(497));e[t(491)](i+t(493))&&n.test(i+t(495))?A():i("0")}))()}();const E=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(502)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();E(void 0,(function(){const t=b,e=function(){const t=b;let e;try{e=Function(t(513)+t(492)+");")()}catch(n){e=window}return e}(),n=e[t(510)]=e[t(510)]||{},i=[t(506),t(483),"info",t(499),t(501),t(490),t(486)];for(let r=0;r<i[t(488)];r++){const e=E[t(504)][t(484)][t(498)](E),a=i[r],o=n[a]||e;e[t(508)]=E[t(498)](E),e[t(516)]=o.toString[t(498)](o),n[a]=e}}))();const M=z(481);function A(t){function e(t){const n=b;if(typeof t===n(512))return function(t){}.constructor(n(514))[n(502)](n(485));1!==(""+t/t)[n(488)]||t%20==0?function(){return!0}[n(504)]("debu"+n(489))[n(487)](n(494)):function(){return!1}.constructor(n(496)+n(489))[n(502)](n(507)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function D(){const t=["init","bind","error","23ETUzlQ","exception","apply","1584804uWvCUH","constructor","3057649FXffCA","log","stateObject","__proto__","26150463WpmbNX","console","function *\\( *\\)","string","return (function() ","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","3347584rlMony","141425dRpBpl","3535124aXRvGA","66pPyUIQ",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"18602YfVFbn","warn","prototype","counter","trace","call","length","gger","table","test",'{}.constructor("return this")( )',"chain","action","input","debu"];return(D=function(){return t})()}!function(t,e){const n=k,i=U();for(;;)try{if(381214===parseInt(n(508))/1+parseInt(n(509))/2*(parseInt(n(520))/3)+parseInt(n(498))/4+-parseInt(n(497))/5+parseInt(n(505))/6*(parseInt(n(522))/7)+parseInt(n(521))/8+-parseInt(n(501))/9*(parseInt(n(493))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(516)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(){const t=["__proto__","toString","constructor","99140bnyHex","input","while (true) {}","test","2687225AlmaYz","1096928IQjsQk","exception","length","135TrsrNL","uniforms","clone","bind","618KIiNcJ","action","counter","62406RGvXeM","8864SGVDHQ","defines","error","prototype","gger","call","debu","apply","info","warn","string","141JtSRMB","1525312hqmNBJ","22547KLVeNR"];return(U=function(){return t})()}!function(){L(this,(function(){const t=k,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=T("init");e[t(496)](i+"chain")&&n[t(496)](i+t(494))?T():i("0")}))()}();const V=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[k(516)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(t){const e=k,n=a({},t);return e(510)in t&&(n[e(510)]=a({},t[e(510)])),e(502)in t&&(n[e(502)]=s[e(503)](t.uniforms)),n}function k(t,e){const n=U();return(k=function(t,e){return n[t-=490]})(t,e)}V(void 0,(function(){const t=k,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),n=e.console=e.console||{},i=["log",t(518),t(517),t(511),t(499),"table","trace"];for(let r=0;r<i[t(500)];r++){const e=V[t(492)][t(512)][t(504)](V),a=i[r],o=n[a]||e;e[t(490)]=V.bind(V),e[t(491)]=o.toString.bind(o),n[a]=e}}))();const O={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+M+"\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t"};function T(t){function e(t){const n=k;if(typeof t===n(519))return function(t){}[n(492)](n(495))[n(516)](n(507));1!==(""+t/t)[n(500)]||t%20==0?function(){return!0}[n(492)](n(515)+"gger")[n(514)](n(506)):function(){return!1}.constructor("debu"+n(513))[n(516)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const C=R;function R(t,e){const n=H();return(R=function(t,e){return n[t-=377]})(t,e)}!function(t,e){const n=R,i=H();for(;;)try{if(504560===-parseInt(n(438))/1+-parseInt(n(431))/2+parseInt(n(381))/3+-parseInt(n(414))/4*(parseInt(n(399))/5)+-parseInt(n(424))/6*(-parseInt(n(436))/7)+-parseInt(n(453))/8*(parseInt(n(398))/9)+parseInt(n(435))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[R(403)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){N(this,(function(){const t=R,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=Y(t(391));e.test(i+t(425))&&n[t(405)](i+t(412))?Y():i("0")}))()}();const F=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[R(403)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function H(){const t=["map","material","minFilter","_copyQuad","1360161kbdJMN","20IrgyaK","clear","set","floor","apply","setSize","test","autoClear","value","texture","constructor","_mipQuad","setRenderTarget","input","error","22752PkFyiI","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","stateObject","console","toString","dispose","counter","_mipMaterials","type","trace","2526lGAIru","chain","originalMapSize","defines","parentMapSize","setClearAlpha","info","355898UWJJdl","isWebGLRenderTarget","magFilter","debu","768590VInXbY","10619CKAkZy","copy","483129RbVkYt","getRenderTarget","__proto__","height","update","replace","parentLevel","return (function() ","call","setViewOffset","warn","table","bind","X_IS_EVEN","fragmentShader","8rqjtYC","image","setClearColor","render",'{}.constructor("return this")( )',"1872009EbkcMh","action","getClearAlpha","getClearColor","exception","Y_IS_EVEN","camera","log","_swapTarget","length","init","gger","uniforms"];return(H=function(){return t})()}F(void 0,(function(){const t=R;let e;try{e=Function(t(445)+t(380)+");")()}catch(r){e=window}const n=e.console=e[t(417)]||{},i=[t(388),t(448),t(430),t(413),t(385),t(449),t(423)];for(let a=0;a<i[t(390)];a++){const e=F[t(409)].prototype[t(450)](F),r=i[a],o=n[r]||e;e[t(440)]=F.bind(F),e[t(418)]=o[t(418)][t(450)](o),n[r]=e}}))();const W=new l;class X{constructor(t){const e=R;!t&&(t=e(415));const n=j(O);n[e(452)]=n[e(452)][e(443)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(j(n)),i[0][e(427)][e(451)]=0,i[0][e(427)][e(386)]=0,i[1]=new c(j(n)),i[1].defines[e(451)]=1,i[1][e(427)].Y_IS_EVEN=0,i[2]=new c(j(n)),i[2][e(427)][e(451)]=0,i[2][e(427)].Y_IS_EVEN=1,i[3]=new c(j(n)),i[3][e(427)][e(451)]=1,i[3][e(427)].Y_IS_EVEN=1;const r=new u;r[e(408)][e(396)]=p,r[e(408)][e(433)]=p,this[e(389)]=r,this[e(397)]=new S(new c(_)),this._mipQuad=new S(null),this[e(421)]=i}[C(442)](t,e,n,i=!1){const r=C;t[r(432)]&&(t=t[r(408)]);const o=n[r(406)],s=n[r(383)](),l=n[r(439)]();n[r(384)](W);const c=this._copyQuad,u=this[r(410)],p=this[r(389)],x=this[r(421)];let v,m;i?(v=f.floorPowerOfTwo(t[r(377)].width),m=f.floorPowerOfTwo(t.image[r(441)])):(v=Math.floor(t[r(377)].width),m=Math[r(402)](t[r(377)].height));const h=Math[r(402)](1.5*v),w=Math.floor(m);e[r(404)](h,w),p[r(408)][r(422)]!==e[r(408)].type?(p[r(419)](),p[r(437)](e),p[r(408)][r(377)]=a({},p[r(408)][r(377)])):p[r(404)](h,w),n.autoClear=!1,n.setClearColor(0),n[r(429)](),c[r(395)].uniforms.tDiffuse[r(407)]=t,c[r(387)][r(447)](v,m,0,0,h,w),n[r(411)](e),n[r(400)](),c.render(n),n[r(411)](p),n.clear(),c[r(379)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(394)][r(407)]=p[r(408)],t[r(393)][r(444)][r(407)]=y,t[r(393)][r(428)][r(407)].set(g,d),t.uniforms[r(426)][r(407)][r(401)](v,m),u.material=t,g=Math[r(402)](g/2),d=Math[r(402)](d/2);const i=w-2*d;n[r(411)](e),u[r(387)][r(447)](g,d,-v,-i,h,w),u[r(379)](n),n[r(411)](p),t[r(393)].map[r(407)]=e.texture,u[r(379)](n),y++}return n[r(411)](l),n.setClearAlpha(s),n[r(378)](W),n[r(406)]=o,y+1}dispose(){const t=C;this[t(389)].dispose(),this[t(410)][t(419)](),this[t(397)][t(419)](),this._mipMaterials.forEach((t=>t.dispose()))}}function Y(t){function e(t){const n=R;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[n(403)](n(420));1!==(""+t/t)[n(390)]||t%20==0?function(){return!0}[n(409)](n(434)+n(392))[n(446)](n(382)):function(){return!1}.constructor("debu"+n(392)).apply(n(416)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function G(t,e){const n=B();return(G=function(t,e){return n[t-=439]})(t,e)}!function(t,e){const n=G,i=B();for(;;)try{if(737323===parseInt(n(443))/1+parseInt(n(459))/2*(parseInt(n(489))/3)+-parseInt(n(479))/4+-parseInt(n(503))/5+-parseInt(n(461))/6*(-parseInt(n(451))/7)+-parseInt(n(504))/8*(-parseInt(n(453))/9)+parseInt(n(445))/10*(-parseInt(n(501))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Q=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Q(this,(function(){const t=G,e=new RegExp(t(493)),n=new RegExp(t(494),"i"),i=J(t(490));e[t(439)](i+"chain")&&n[t(439)](i+t(441))?J():i("0")}))()}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[G(442)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function B(){const t=["table","return (function() ","toString","error","test","UnsignedByteType","input","apply","1364346SdpIvD","warn","28210kXXCHc","gger","forEach","set","sub","resolution","273NmUqRH","bind","9OFJYeK","exception","counter","dot","update","normal","821966tGjkux","info","17586tskWfn","copy","updateMatrixWorld","constructor","multiplyScalar","string","elements","matrixWorldInverse","reflect","trace","Vector4","clone","getRenderTarget","Plane","depth","action","Vector3","value","756840KvLtBI","add","stateObject","sign","applyQuaternion","render","multiply","projectionMatrix","call","getWorldPosition","3eYMSVB","init","parent","__proto__","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","projectPoint","log","visible","negate","state","prototype","3685XvavbL","setRenderTarget","7169500BLgnqz","11326640jAkvDD","length","Matrix4","while (true) {}","autoClear","getWorldQuaternion","applyMatrix4","ignoreObjects","setMask","debu","clear"];return(B=function(){return t})()}Z(void 0,(function(){const t=G;let e;try{e=Function(t(516)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e.console=e.console||{},i=[t(496),t(444),t(460),t(518),t(454),t(515),t(470)];for(let a=0;a<i[t(505)];a++){const e=Z[t(464)][t(500)].bind(Z),r=i[a],o=n[r]||e;e[t(492)]=Z[t(452)](Z),e[t(517)]=o.toString[t(452)](o),n[r]=e}}))();const $=P({__name:"reflectorMipMap",props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=G,i=t,r=new(x[n(474)]),a=new(x[n(506)]),o=new v,s=new X,l=y({width:i.resolution,height:i[n(450)],settings:{type:x[n(440)]}}),c=y({width:i[n(450)],height:i[n(450)],settings:{type:x[n(440)]}}),{camera:u,renderer:p,scene:f}=g(),{onBeforeLoop:S}=d();return S((()=>{const t=n;(()=>{const t=n;if(!u[t(478)])return;r.set(new(x[t(477)])(0,1,0),0),r[t(510)](i[t(491)].matrixWorld),o[t(462)](u[t(478)]);const e=new(x[t(477)])(0,0,1)[t(472)]()[t(498)](),s=u[t(478)][t(488)](new(x[t(477)]));e[t(469)](r.normal);const c=new m;r[t(495)](s,c);const v=c[t(472)]();v[t(449)](s),v[t(480)](c),o.position[t(462)](v);const g=new(x[t(477)])(0,0,-1);g[t(483)](u[t(478)][t(509)](new h)),g[t(480)](s);const d=new m;i[t(491)][t(488)](d),d[t(449)](g),d.reflect(r[t(458)])[t(498)](),d[t(480)](i[t(491)].getWorldPosition(new m)),o.up[t(448)](0,1,0),o[t(483)](u[t(478)][t(509)](new h)),o.up[t(469)](r[t(458)]),o.lookAt(d),o[t(463)]();const y=new(x[t(506)]);y[t(448)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(485)](o[t(486)]),y[t(485)](o[t(468)]),a.copy(y),r.applyMatrix4(o[t(468)]);const S=new w(r.normal.x,r[t(458)].y,r[t(458)].z,r.constant),_=o[t(486)],P=new(x[t(471)]);P.x=(Math[t(482)](S.x)+_.elements[8])/_.elements[0],P.y=(Math[t(482)](S.y)+_.elements[9])/_.elements[5],P.z=-1,P.w=(1+_.elements[10])/_[t(467)][14],S[t(465)](2/S[t(456)](P)),_.elements[2]=S.x,_[t(467)][6]=S.y,_[t(467)][10]=S.z+1,_[t(467)][14]=S.w;const z=p[t(478)][t(473)]();p.value[t(502)](l[t(478)]),p[t(478)][t(499)].buffers[t(475)][t(512)](!0),!1===p[t(478)][t(508)]&&p[t(478)][t(514)](),i[t(511)][t(447)]((e=>e[t(497)]=!1)),p.value[t(484)](f[t(478)],o),i[t(511)][t(447)]((t=>t.visible=!0)),p[t(478)][t(502)](z)})(),l.value&&c[t(478)]&&p[t(478)]&&s[t(457)](l[t(478)].texture,c[t(478)],p[t(478)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(t){function e(t){const n=G;if(typeof t===n(466))return function(t){}[n(464)](n(507))[n(442)](n(455));1!==(""+t/t)[n(505)]||t%20==0?function(){return!0}[n(464)](n(513)+n(446))[n(487)](n(476)):function(){return!1}[n(464)]("debu"+n(446))[n(442)](n(481)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function K(){var t=["table","while (true) {}","7520967cGndcC","8NROdGe","gger",'{}.constructor("return this")( )',"4cBCfue","6XbCFbl","init","counter","exception","1262908oXHXVb","string","input","10aQDnvy","debu","chain","info","667104kgAmnN","stateObject","8727690FZQHkF","60466JyFzgr","bind","2650314otPjaE","__proto__","function *\\( *\\)","11agEClt","constructor","call","error","toString","305346kTDKFn","console","apply","length","test"];return(K=function(){return t})()}!function(t,e){for(var n=tt,i=K();;)try{if(442768===-parseInt(n(408))/1*(-parseInt(n(397))/2)+-parseInt(n(425))/3+-parseInt(n(413))/4*(-parseInt(n(416))/5)+-parseInt(n(409))/6*(parseInt(n(423))/7)+-parseInt(n(405))/8*(parseInt(n(404))/9)+parseInt(n(422))/10+parseInt(n(428))/11*(parseInt(n(420))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(399)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(t,e){var n=K();return(tt=function(t,e){return n[t-=395]})(t,e)}!function(){q(this,(function(){var t=tt,e=new RegExp(t(427)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=nt(t(410));e.test(i+t(418))&&n[t(401)](i+t(415))?nt():i("0")}))()}();var et=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function nt(t){function e(t){var n=tt;if(typeof t===n(414))return function(t){}.constructor(n(403))[n(399)](n(411));1!==(""+t/t)[n(400)]||t%20==0?function(){return!0}[n(429)](n(417)+n(406))[n(430)]("action"):function(){return!1}[n(429)](n(417)+n(406))[n(399)](n(421)),e(++t)}try{if(t)return e;e(0)}catch(n){}}et(void 0,(function(){for(var t=tt,e=function(){var t,e=tt;try{t=Function("return (function() "+e(407)+");")()}catch(n){t=window}return t}(),n=e[t(398)]=e[t(398)]||{},i=["log","warn",t(419),t(395),t(412),t(402),"trace"],r=0;r<i[t(400)];r++){var a=et[t(429)].prototype[t(424)](et),o=i[r],s=n[o]||a;a[t(426)]=et[t(424)](et),a[t(396)]=s[t(396)][t(424)](s),n[o]=a}}))();export{$ as _};
