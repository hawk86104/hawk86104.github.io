import{D as t,o as n}from"./@tresjs.gjafZgVK1741594518249.js";import{P as e}from"./tweakpane.yDiyAAkA1741594518249.js";import{Y as o,_ as r,l as a,c as s,ak as i,al as c}from"./three.8y0_KTxz1741594518249.js";import{_ as u}from"./heatmap.js-fix.nNFfKmuX1741594518249.js";import{d as p,a3 as l,a2 as f,o as d,H as h,u as m,r as g,e as v,f as y,g as b,N as w,j as _,al as x,aj as I,ak as j,m as C}from"./@vue.NRI7TcgI1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";import"./@amap.gPFcnYXF1741594518249.js";const D=z;!function(t,n){const e=z,o=M();for(;;)try{if(495331===parseInt(e(239))/1+-parseInt(e(238))/2*(parseInt(e(212))/3)+parseInt(e(250))/4*(parseInt(e(256))/5)+-parseInt(e(213))/6*(parseInt(e(261))/7)+-parseInt(e(231))/8+-parseInt(e(247))/9+parseInt(e(276))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(268),"i"),o=F("init");n[t(234)](o+t(224))&&e[t(234)](o+"input")?F():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=z;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(232)]||{},o=[t(229),t(217),t(262),t(254),t(270),t(233),"trace"];for(let a=0;a<o[t(252)];a++){const n=S[t(273)][t(223)][t(265)](S),r=o[a],s=e[r]||n;n.__proto__=S.bind(S),n[t(209)]=s[t(209)][t(265)](s),e[r]=n}}))();const A=[D(219)];function z(t,n){const e=M();return(z=function(t,n){return e[t-=208]})(t,n)}const B=p({__name:D(240),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=D;let i,c;const p=n,{nodes:g}=([i,c]=l((()=>t(e(228),{draco:!0,decoderPath:e(248)}))),i=await i,c(),i);g.mesh_0[e(259)][e(278)](-5088.96,-3.08,39374.7),g[e(208)][e(249)][e(225)](.01);let v=null,y=null,b=null;y=new o((()=>{const t=e;return b=document[t(257)]("heatmap-canvas"),b[t(227)][t(259)]=t(269),b[t(227)].top=t(260),b.style.left="0",document[t(258)][t(277)](b),v=u[t(215)]({container:b,width:256,height:256,blur:t(243),radius:p[t(255)]}),v._renderer.canvas[t(227)][t(267)]=t(266),v[t(244)][t(274)][t(214)]=function(n){const e=t;v.addData({x:n.layerX,y:n[e(226)],value:1,radius:p[e(255)]}),v.setDataMax(1),y&&(y[e(211)]=!0)},v})()._renderer[e(274)]);const w={vertexShader:e(263),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(242)]},_=new a(w);g[e(208)][e(221)]=_;return(t=>{const n=e;t[n(241)]();const{max:o,min:r}=t[n(251)];t.deleteAttribute("uv");const a=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t.attributes[n(259)][n(235)];e++)c[n(222)]((t[n(230)][n(259)][n(271)](e)-r.x)/a),c[n(222)]((t[n(230)].position[n(210)](e)-r.z)/i);const u=new Float32Array(c);t[n(218)]("uv",new s(u,2))})(g.mesh_0[e(253)]),f((()=>{const t=e;b.style[t(237)]=""+(p.show2dCanvas?t(272):"none")})),(t,n)=>{const o=e;return d(),h(o(236),{object:m(g).mesh_0},null,8,A)}}});function F(t){function n(t){const e=z;if("string"==typeof t)return function(t){}[e(273)]("while (true) {}")[e(245)](e(216));1!==(""+t/t)[e(252)]||t%20==0?function(){return!0}[e(273)](e(246)+e(275))[e(220)](e(264)):function(){return!1}[e(273)](e(246)+e(275))[e(245)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function M(){const t=["5JpeJSV","createElement","body","position","40px","203hHiync","info","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","action","bind","1px solid #5384ff","border","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","absolute","exception","getX","block","constructor","canvas","gger","20302970eRDJTf","appendChild","set","mesh_0","toString","getZ","needsUpdate","3GXgpYN","139488DJnTaP","onclick","create","counter","warn","setAttribute","object","call","material","push","prototype","chain","setScalar","layerY","style","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","log","attributes","5924856hDmgcP","console","table","test","count","primitive","display","1690268LkPcHu","726444heBQge","heatmapClickCom","computeBoundingBox","DoubleSide","0.8","_renderer","apply","debu","5290065fDjunF","./draco/","scale","2345232JBfpEe","boundingBox","length","geometry","error","radius"];return(M=function(){return t})()}function T(){const t=["40016MrDvCA","3063HaNmdG","function *\\( *\\)","debu","console","显示二维图","10592004vhYqAp","6083464APDgon","1909295UnxwFZ","68810WfJFNh","306CYLOMD","#030311","addBinding","action","table","addButton",'{}.constructor("return this")( )',"constructor","6zxaqNh","TresDirectionalLight","bind","5277573CEeFJH","show2dCanvas","TresCanvas","gger","99WVvWuB","warn","chain","#ffffff","apply","点击左侧蓝色画框","test","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","__proto__","exception","length","trace","while (true) {}","189xFTuqq","info","error","toString","init","7OhrSQO","TresPerspectiveCamera","TresGridHelper"];return(T=function(){return t})()}!function(t,n){const e=P,o=T();for(;;)try{if(401600===parseInt(e(337))/1*(-parseInt(e(298))/2)+-parseInt(e(328))/3*(parseInt(e(336))/4)+-parseInt(e(296))/5*(-parseInt(e(306))/6)+parseInt(e(333))/7*(parseInt(e(295))/8)+-parseInt(e(309))/9+parseInt(e(297))/10*(parseInt(e(313))/11)+parseInt(e(294))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(317)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=T();return(P=function(t,n){return e[t-=290]})(t,n)}!function(){O(this,(function(){const t=P,n=new RegExp(t(290)),e=new RegExp(t(321),"i"),o=R(t(332));n[t(319)](o+t(315))&&e[t(319)](o+"input")?R():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(317)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(320)+t(304)+");")()}catch(e){n=window}return n}(),e=n[t(292)]=n[t(292)]||{},o=[t(322),t(314),t(329),t(330),t(324),t(302),t(326)];for(let r=0;r<o[t(325)];r++){const n=E.constructor.prototype[t(308)](E),a=o[r],s=e[a]||n;n[t(323)]=E.bind(E),n.toString=s[t(331)].bind(s),e[a]=n}}))();const J=p({__name:"heatmapClick",setup(t){const o=P,r={clearColor:o(299),shadows:!0,alpha:!0,outputColorSpace:i,shadowMapType:c,useLegacyLights:!0,antialias:!0},a=g({show2dCanvas:!0,radius:20}),s=new e({title:"参数",expanded:!0});return s[o(300)](a,o(310),{label:o(293)}),s[o(300)](a,"radius",{label:"圆圈的大小",min:.1,max:30,step:.1}),s[o(303)]({title:o(318)}),(t,e)=>{const s=o,i=v(s(311));return d(),y(i,C(r,{"window-size":""}),{default:b((()=>[e[0]||(e[0]=w(s(334),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),_(m(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w(s(307),{position:[5,10,7.5],color:s(316),intensity:5},null,-1)),e[2]||(e[2]=w(s(335),{args:[50,25]},null,-1)),(d(),y(x,null,{default:b((()=>[_(B,I(j(a)),null,16)])),_:1}))])),_:1},16)}}});function R(t){function n(t){const e=P;if("string"==typeof t)return function(t){}[e(305)](e(327))[e(317)]("counter");1!==(""+t/t)[e(325)]||t%20==0?function(){return!0}[e(305)](e(291)+"gger").call(e(301)):function(){return!1}[e(305)](e(291)+e(312))[e(317)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
