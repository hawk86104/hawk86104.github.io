import{o as n,J as t}from"./@tresjs.ZmhvXhx31741583630766.js";import{l as o,a_ as e,C as r,aX as i,a0 as a,y as s,_ as l,cl as c}from"./three.sQDbNBks1741583630766.js";import{P as u}from"./tweakpane.yDiyAAkA1741583630766.js";import{d as f,r as p,a2 as d,e as g,o as v,f as m,g as w,N as h,j as y,u as I,al as b}from"./@vue.NRI7TcgI1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";!function(n,t){for(var o=S,e=_();;)try{if(631024===parseInt(o(240))/1*(parseInt(o(242))/2)+-parseInt(o(238))/3+parseInt(o(250))/4+-parseInt(o(233))/5+parseInt(o(241))/6+-parseInt(o(260))/7*(parseInt(o(268))/8)+-parseInt(o(274))/9*(-parseInt(o(249))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[S(246)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){j(this,(function(){var n=S,t=new RegExp(n(265)),o=new RegExp(n(280),"i"),e=k(n(256));t[n(257)](e+"chain")&&o[n(257)](e+n(283))?k():e("0")}))()}();var x=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[S(246)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function _(){var n=["3624642RYqfuf","error","7ZDRowT","2340390PWUuJH","180014BfHorX","constructor","side","gger","apply","opacity",'{}.constructor("return this")( )',"10kNqOOE","5037520DarZxA","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","glowColor","console","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","falloff","init","test","bind","log","2429161qbRvQa","warn","prototype","table","string","function *\\( *\\)","action","length","8xQQKiW","setValues","exception","debu","info","glowInternalRadius","2319606DrlaOo","transparent","trace","__proto__","blending","depthTest","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#00d5ff","vertexShader","input","blendMode","1754835IEtEcX","glowSharpness","toString","call","return (function() "];return(_=function(){return n})()}function S(n,t){var o=_();return(S=function(n,t){return o[n-=232]})(n,t)}x(void 0,(function(){for(var n=S,t=function(){var n,t=S;try{n=Function(t(237)+t(248)+");")()}catch(o){n=window}return n}(),o=t[n(253)]=t[n(253)]||{},e=[n(259),n(261),n(272),n(239),n(270),n(263),n(276)],r=0;r<e[n(267)];r++){var i=x.constructor[n(262)][n(258)](x),a=e[r],s=o[a]||i;i[n(277)]=x[n(258)](x),i[n(235)]=s[n(235)][n(258)](s),o[a]=i}}))();const R=class extends o{constructor(n={}){var t=S;super(),this[t(282)]=t(251),this.fragmentShader=t(254),this.uniforms={opacity:new e(void 0!==n[t(247)]?n.opacity:1),glowInternalRadius:new e(void 0!==n[t(273)]?n.glowInternalRadius:6),glowSharpness:new e(void 0!==n[t(234)]?n[t(234)]:.5),falloff:new e(void 0!==n[t(255)]?n[t(255)]:.1),glowColor:new e(void 0!==n[t(252)]?new r(n.glowColor):new r(t(281)))},this[t(269)](n),this[t(279)]=void 0!==n.depthTest&&n[t(279)],this[t(278)]=void 0!==n[t(232)]?n[t(232)]:i,this[t(275)]=!0,this[t(244)]=void 0!==n.side?n[t(244)]:a}};function k(n){function t(n){var o=S;if(typeof n===o(264))return function(n){}[o(243)]("while (true) {}").apply("counter");1!==(""+n/n)[o(267)]||n%20==0?function(){return!0}[o(243)]("debu"+o(245))[o(236)](o(266)):function(){return!1}[o(243)](o(271)+o(245))[o(246)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const C=F;!function(n,t){const o=F,e=D();for(;;)try{if(906944===-parseInt(o(498))/1*(-parseInt(o(497))/2)+parseInt(o(461))/3+-parseInt(o(520))/4*(parseInt(o(474))/5)+parseInt(o(482))/6*(parseInt(o(513))/7)+-parseInt(o(476))/8+-parseInt(o(500))/9+-parseInt(o(512))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){T(this,(function(){const n=F,t=new RegExp(n(460)),o=new RegExp(n(511),"i"),e=M(n(484));t[n(518)](e+n(499))&&o.test(e+"input")?M():e("0")}))()}();const P=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[F(469)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();P(void 0,(function(){const n=F,t=function(){const n=F;let t;try{t=Function(n(507)+'{}.constructor("return this")( ));')()}catch(o){t=window}return t}(),o=t[n(479)]=t[n(479)]||{},e=[n(495),n(501),n(481),"error","exception","table","trace"];for(let r=0;r<e[n(465)];r++){const t=P[n(463)].prototype[n(489)](P),i=e[r],a=o[i]||t;t.__proto__=P.bind(P),t.toString=a[n(470)].bind(a),o[i]=t}}))();const z={position:[0,6,0]},B=[C(509)];function D(){const n=["TresAmbientLight","uniforms","counter","log","glowColor","28HeBZXm","90262glFcbF","chain","8375076IiBVGK","warn","pos-x.jpg","材质面","debu","while (true) {}","falloff","return (function() ","neg-z.jpg","object","neg-y.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5078280CjWGvH","259231DjmYxS","call","action","pos-z.jpg","TresMesh","test","fakeGlow","68XZpkCj","TresGridHelper","Mesh","function *\\( *\\)","4582764FWiBjb","string","constructor","内半径","length","辉光参数","FrontSide","gger","apply","toString","glowInternalRadius","TresPerspectiveCamera","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","94845DooqJr","opacity","1283840jxWXxq","glowSharpness","清晰度","console","side","info","6geEgJl","TresTorusKnotGeometry","init","#a058c1","blue","BackSide","addBinding","bind","value","DoubleSide"];return(D=function(){return n})()}function F(n,t){const o=D();return(F=function(n,t){return o[n-=460]})(n,t)}const G=f({__name:C(519),setup(o){const e=C,i=new u({title:e(466),expanded:!0}),a=p({glowColor:e(485),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),f=new R,j=new(l[e(522)])(new c(4,3.8,128,128),f);return i[e(488)](a,e(496),{label:"颜色"}),i.addBinding(a,"falloff",{label:"衰减",min:0,max:10,step:.1}),i.addBinding(a,"glowInternalRadius",{label:e(464),min:-5,max:5,step:.1}),i[e(488)](a,e(477),{label:e(478),min:0,max:10,step:.1}),i[e(488)](a,"opacity",{label:"透明",min:0,max:1,step:.1}),i.addBinding(a,e(480),{label:e(503),options:{FrontSide:l[e(467)],BackSide:l[e(487)],DoubleSide:l[e(491)]}}),d((()=>{const n=e;f[n(493)][n(506)][n(490)]=a[n(506)],f[n(493)][n(496)][n(490)]=new r(a.glowColor),f.uniforms[n(471)][n(490)]=a.glowInternalRadius,f[n(493)].glowSharpness.value=a[n(477)],f[n(493)].opacity[n(490)]=a[n(475)],f.side=a[n(480)]})),(o,r)=>{const i=e,a=g("TresCanvas");return v(),m(a,{"window-size":""},{default:w((()=>[r[1]||(r[1]=h(i(472),{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=h(i(492),{intensity:1.5},null,-1)),r[3]||(r[3]=h("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1)),y(I(n),{autoRotate:""}),r[4]||(r[4]=h(i(521),{args:[20,10]},null,-1)),h("TresGroup",z,[r[0]||(r[0]=h(i(517),null,[h(i(483),{args:[4,.5,128,128]}),h("TresMeshPhysicalMaterial",{color:i(486),roughness:.2,clearcoat:1})],-1)),h("primitive",{object:I(j)},null,8,B)]),(v(),m(b,null,{default:w((()=>[y(I(t),{files:[i(502),"neg-x.jpg","pos-y.jpg",i(510),i(516),i(508)],path:i(473)})])),_:1}))])),_:1})}}});function M(n){function t(n){const o=F;if(typeof n===o(462))return function(n){}[o(463)](o(505)).apply(o(494));1!==(""+n/n)[o(465)]||n%20==0?function(){return!0}[o(463)](o(504)+o(468))[o(514)](o(515)):function(){return!1}[o(463)](o(504)+o(468)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{G as default};
