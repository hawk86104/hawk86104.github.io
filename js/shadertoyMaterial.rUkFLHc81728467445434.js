import{U as t,Y as n,z as e}from"./@tresjs.ED4ePb8T1728467445434.js";import{a6 as o,a0 as r,c as s,k as i,aB as a,t as c,cN as u,s as l}from"./three.5octV-9b1728467445434.js";import{C as f}from"./three-custom-shader-material.uHGW21Ih1728467445434.js";import"./object-hash.o8Ug78mP1728467445434.js";import"./@amap.lDXqmBX01728467445434.js";import"./glsl-tokenizer.yxFRgXmJ1728467445434.js";import{P as p}from"./tweakpane.yHWGBmom1728467445434.js";import{a as h}from"./axios.Ng308AU61728467445434.js";import{d as m,r as d,a4 as v,q as g,e as w,o as y,f as j,g as I,L as b,j as C,u as _,aj as x,ak as A,m as T}from"./@vue.JNsx1iN61728467445434.js";import"./@vueuse.G8I04tzi1728467445434.js";import"./glsl-token-string.GZl6bhWe1728467445434.js";import"./glsl-token-functions.jWw0IkB61728467445434.js";import"./jszip.PJ3UEA1u1728467445434.js";const R=E;function z(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","exception","warn","void main()","uniforms","console","input","vUv","material","chain","7376IKnutC",'{}.constructor("return this")( )',"800htoTBj","3886452WWPvTF","94212viGtEW","561644WjkAGF","351213PdGLvD","test","replaceVariable","bind","split","call","constructor","prototype","debu","replace","stateObject","length","log","return (function() ","string","6224990rrAdQy","info","4119972sMzXBQ","trace","apply","function *\\( *\\)","gger","uniform sampler2D  utexture;\n","161syagJt","umouse","toString","error","varying vec2 vUv;\n","uniform float utime;\n","__proto__","2FqengH"];return(z=function(){return t})()}!function(t,n){const e=E,o=z();for(;;)try{if(847530===parseInt(e(281))/1+-parseInt(e(312))/2*(parseInt(e(282))/3)+-parseInt(e(279))/4+parseInt(e(297))/5+-parseInt(e(299))/6+-parseInt(e(305))/7*(parseInt(e(276))/8)+parseInt(e(280))/9*(parseInt(e(278))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(301)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=E,n=new RegExp(t(302)),e=new RegExp(t(313),"i"),o=U("init");n.test(o+t(275))&&e[t(283)](o+t(272))?U():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(301)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=z();return(E=function(t,n){return e[t-=266]})(t,n)}k(void 0,(function(){const t=E;let n;try{n=Function(t(295)+t(277)+");")()}catch(r){n=window}const e=n[t(271)]=n.console||{},o=[t(294),t(268),t(298),t(308),t(267),t(266),t(300)];for(let s=0;s<o[t(293)];s++){const n=k.constructor[t(289)].bind(k),r=o[s],i=e[r]||n;n[t(311)]=k[t(285)](k),n.toString=i[t(307)][t(285)](i),e[r]=n}}))();class G{constructor(t,n){const e=E,s=G[e(284)](t),i=new f({baseMaterial:o,vertexShader:"\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ",fragmentShader:s,side:r,uniforms:n[e(274)][e(270)]});this[e(274)]=i,console[e(294)](this[e(274)])}static[R(284)](t){const n=R;t=n(309)+t;if(/iTime|iTimeDelta/g[n(283)](t)){let e=t.split("varying vec2 vUv;\n");t=(t=n(309)+n(310)+e[1])[n(291)](/iTime|iTimeDelta/g,"utime")}if(/iResolution\.[a-zA-Z_]+/g[n(283)](t)){let e=t[n(286)](n(309));t=(t=(t=n(309)+"uniform vec2 uresolution;\n"+e[1])[n(291)](/iResolution\.[a-zA-Z_]+/g,"1."))[n(291)](/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(283)](t)){let e=t[n(286)](n(309));t=(t="varying vec2 vUv;\n"+n(304)+e[1]).replace(/iChannel0|iChannel1|iChannel2|iChannel3/g,"utexture")}return t[n(291)](/iMouse/g,n(306)),t[n(291)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(269))[n(291)](/fragColor/g,"csm_DiffuseColor")[n(291)](/fragCoord/g,n(273))}}function U(t){function n(t){const e=E;if(typeof t===e(296))return function(t){}[e(288)]("while (true) {}")[e(301)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(290)+e(303))[e(287)]("action"):function(){return!1}[e(288)](e(290)+e(303))[e(301)](e(292)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function S(t,n){const e=K();return(S=function(t,n){return e[t-=410]})(t,n)}const L=S;!function(t,n){const e=S,o=K();for(;;)try{if(976548===-parseInt(e(470))/1*(-parseInt(e(436))/2)+-parseInt(e(429))/3*(-parseInt(e(438))/4)+parseInt(e(419))/5*(-parseInt(e(424))/6)+-parseInt(e(474))/7+parseInt(e(475))/8*(parseInt(e(434))/9)+-parseInt(e(435))/10+parseInt(e(426))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(446)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(471),"i"),o=V(t(466));n[t(421)](o+t(425))&&e[t(421)](o+t(478))?V():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(446)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(463)+t(482)+");")()}catch(e){n=window}return n}(),e=n[t(414)]=n.console||{},o=[t(442),t(461),"info",t(452),"exception",t(420),t(410)];for(let r=0;r<o[t(411)];r++){const n=B[t(418)][t(440)][t(428)](B),s=o[r],i=e[s]||n;n[t(423)]=B.bind(B),n[t(445)]=i[t(445)][t(428)](i),e[s]=n}}))();const H={ref:L(441),position:[300,250,-122],fov:45,near:1,far:1e4},Z=b(L(469),{color:L(451)},null,-1),F=b("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:L(451)},null,-1),O=[L(448),"side"],W=b(L(439),{args:[1e3],position:[0,19,0]},null,-1),$=b(L(430),{args:[6e3,100],position:[0,19,0]},null,-1);function K(){const t=["init","TresPerspectiveCamera","action","TresAmbientLight","911DTtDvU","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","get","4581031YvRaXo","8tUKElG","stateObject","call","input","#000000","https://www.shadertoy.com/view/","addBlade",'{}.constructor("return this")( )',"trace","length","uniforms","renderpass","console","utime","TorusKnot","shadertoy在线地址","constructor","445CcPmrG","table","test","shadervalue","__proto__","65874iURdIn","chain","19504419OOnOoN","几何体","bind","1173786lYgyAP","TresGridHelper","Error","addres","value","7330572vVpJcA","17878100fEEdFu","534fAtHEc","then","16pCoHVL","TresAxesHelper","prototype","perspectiveCameraRef","log","list","https://www.shadertoy.com/view/ttKGDt","toString","apply","change","object","children","Shader","#ffffff","error","string","gger","dispose","while (true) {}","catch","clear","https://www.shadertoy.com/view/tlVGDt","TresCanvas","warn","https://www.shadertoy.com/view/mtyGWy","return (function() ","data","material"];return(K=function(){return t})()}const M=m({__name:"shadertoyMaterial",async setup(o){const f=L;let m,R;const z={clearColor:f(479),shadows:!0,alpha:!1,useLegacyLights:!0},D={autoRotate:!0,enableDamping:!0},k=new p({title:"参数"}),E=d({addres:"https://www.shadertoy.com/view/mtyGWy",shadervalue:""});let U=([m,R]=v((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),m=await m,R(),m),S=new s,P=d({material:{uniforms:{utime:{value:0},uresolution:{value:new i(40,40)},utexture:{value:U}}}}),B=new a(100,100,100);k.addBlade({view:f(443),label:f(417),parse:t=>String(t),options:[{text:"1",value:f(462)},{text:"2",value:f(459)},{text:"3",value:f(444)}],value:f(462)}).on(f(447),(t=>{const n=f;E[n(432)]=t[n(433)],Q(B)}));let K=new a(100,100,100),M=new c(100,100),V=new u(100,10,100,16);k[f(481)]({view:f(443),label:f(427),options:[{text:"BOX",value:K},{text:"Plane",value:M},{text:f(416),value:V}],value:K}).on(f(447),(t=>{B=t[f(433)],Q(B)}));const Q=t=>{const n=f;let e="https://www.shadertoy.com/api/v1/shaders/"+E.addres.split(n(480))[1]+"?key=BdHlhH";h[n(473)](e)[n(437)]((function(e){const o=n;e.data[o(431)]&&alert(e.data[o(431)]),E[o(422)]=e[o(464)][o(450)][o(413)][0].code;let r=new G(E.shadervalue,P);S[o(458)]();let s=new l(t,r[o(465)]);S.add(s),X(S,t)}))[n(457)]((function(t){console[n(442)](t)}))},X=(t,n)=>{const e=f;t.children[0].geometry[e(455)](),t[e(449)][0].geometry=n},{onLoop:Y}=t();return Y((({delta:t})=>{const n=f;P[n(465)][n(412)][n(415)][n(433)]+=t})),g((()=>{let t=new a(100,100,100);Q(t)})),(t,e)=>{const o=f,s=w(o(460));return y(),j(s,T(z,{"window-size":""}),{default:I((()=>[b(o(467),H,null,512),C(_(n),x(A(D)),null,16),Z,F,b("primitive",{object:_(S),side:_(r)},null,8,O),W,$])),_:1},16)}}});function V(t){function n(t){const e=S;if(typeof t===e(453))return function(t){}[e(418)](e(456)).apply("counter");1!==(""+t/t)[e(411)]||t%20==0?function(){return!0}.constructor("debugger")[e(477)](e(468)):function(){return!1}[e(418)](e(472)+e(454))[e(446)](e(476)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as default};
