import{_ as n,a as t,ar as e,$ as o,ab as r,c6 as i,c4 as s,c5 as a,ch as c}from"./three.FyUEtfsR1741658416045.js";import{e as l,m as u,o as f}from"./@tresjs.W3PFJhMo1741658416045.js";import{d as p,o as v,H as d,N as g,u as m,F as h,w as b,j as y,z as x,e as w,g as _,aj as I,ak as T}from"./@vue.NRI7TcgI1741658416045.js";import{_ as U}from"./@fesjs.hAnhKQG-1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./vue-router.qhodDV9M1741658416045.js";import"./lodash-es.pklfUAS51741658416045.js";import"./@qlin.yHhFDldE1741658416045.js";import"./pinia.Iw2DqQac1741658416045.js";import"./@floating-ui.BPbuo5Gx1741658416045.js";import"./@juggle.7yjBMqoW1741658416045.js";var S="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const D=M;!function(n,t){const e=M,o=E();for(;;)try{if(371266===parseInt(e(518))/1+-parseInt(e(517))/2*(-parseInt(e(498))/3)+parseInt(e(510))/4*(parseInt(e(490))/5)+-parseInt(e(545))/6*(-parseInt(e(527))/7)+parseInt(e(514))/8*(parseInt(e(521))/9)+-parseInt(e(531))/10+-parseInt(e(523))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){F(this,(function(){const n=M,t=new RegExp(n(528)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=k("init");t[n(544)](o+n(537))&&e.test(o+"input")?k():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();A(void 0,(function(){const n=M,t=function(){const n=M;let t;try{t=Function(n(493)+n(506)+");")()}catch(e){t=window}return t}(),e=t[n(491)]=t.console||{},o=[n(526),n(504),n(481),"error","exception","table",n(547)];for(let r=0;r<o[n(486)];r++){const t=A[n(501)][n(512)][n(529)](A),i=o[r],s=e[i]||t;t[n(500)]=A.bind(A),t[n(497)]=s[n(497)][n(529)](s),e[i]=t}}))();const B=[D(482),"material"],j=[D(495)],N=["rotateX"];function E(){const n=["#include <begin_vertex>","vertexShader","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","instanceCount","string","info","geometry","luces","MeshLambertMaterial","noiseTex","length","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","counter","randFloat","59245jFbBaf","console","\n    ","return (function() ","MathUtils","material","globalUniforms","toString","6549KfRuUK","push","__proto__","constructor","sin","TresMesh","warn","InstancedBufferAttribute",'{}.constructor("return this")( )',"#include <dithering_fragment>","\n      uniform vec4 luces[","lucesPlane","52TkTOvi","instData","prototype","debu","32216cnQSfJ","noise","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","404WguIPF","377473GQFyuN","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","TresPlaneGeometry","9wYAKIl","stateObject","2660603xJfnTS","SphereGeometry","call","log","7bCFAfn","function *\\( *\\)","bind","apply","6988160LfZmub","attributes","randFloatSpread","cos","uniforms","globalBloom","chain","InstancedBufferGeometry","needsUpdate","#include <fog_fragment>","fragmentShader","Vector4","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","test","2012712iGewqJ","replace","trace"];return(E=function(){return n})()}function M(n,t){const e=E();return(M=function(n,t){return e[n-=479]})(n,t)}const P=100,z=p({__name:D(509),props:{globalUniforms:{}},setup(r){const i=D,s=r,a=[],c=[],u=new(n[i(524)])(1,36,18),f=(new(n[i(538)])).copy(u);f[i(479)]=P;const p=[];for(let o=0;o<P;o++){let o=n[i(494)][i(533)](49),r=n[i(494)][i(533)](49),s=t[i(489)](.0625,.125),l=t[i(489)](1,3);p[i(499)](o,r,s),c.push(new(n[i(542)])(o,r,l,n[i(494)].randFloat(1,2))),a.push(new e(o,r,s,l))}f.setAttribute(i(511),new(n[i(505)])(new Float32Array(p),3));const b=new o({color:16720418,onBeforeCompile:n=>{const t=i;n[t(535)][t(485)]=s[t(496)][t(515)],n[t(549)]=(t(487)+n[t(549)]+t(492)).replace(t(548),t(543))}}),y={luces:{value:a}},x=new(n[i(484)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(535)][t(483)]=y[t(483)],n[t(535)][t(536)]=s[t(496)][t(536)],n[t(535)].noiseTex=s[t(496)][t(515)],n[t(549)]=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      "+n[t(549)]+t(492)).replace("#include <begin_vertex>",t(519)),n.fragmentShader=(t(508)+P+"];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      "+n[t(541)]+t(492))[t(546)](t(540),"\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < "+P+t(550))[t(546)](t(507),t(516))}}),{onLoop:w}=l();return w((({elapsed:n})=>{const t=i;for(let e=0;e<P;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(502)](n*o.w*(e%3+1))*Math[t(534)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,f[t(532)][t(511)].setY(e,r)}f.attributes.instData[t(539)]=!0})),(n,t)=>{const e=i;return v(),d(h,null,[g(e(503),{geometry:m(f),material:m(b)},null,8,B),g("TresMesh",{material:m(x)},[g(e(520),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,N)],8,j)],64)}}});function k(n){function t(n){const e=M;if(typeof n===e(480))return function(n){}[e(501)]("while (true) {}")[e(530)](e(488));1!==(""+n/n)[e(486)]||n%20==0?function(){return!0}[e(501)](e(513)+"gger")[e(525)]("action"):function(){return!1}[e(501)]("debugger")[e(530)](e(522)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const C=L;function G(){const n=["8pfMCtd","material","#include <dithering_fragment>","time","19337715udzXsA","MeshBasicMaterial","16908yewwgf","test","trace","toString","gger","init","function *\\( *\\)","stateObject","replace","debu","TresMesh","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1230020JrGSwi","apply","1758oxUfdY","length","info","fragmentShader","log","bind","chain","counter","while (true) {}","1414630mYlxKs","globalUniforms","input","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","prototype","console","uniforms","return (function() ","__proto__","924FPHTwA","globalBloom","error","16014eTfNFi","exception","5047980fBPrhw","TresPlaneGeometry","action",'{}.constructor("return this")( )'];return(G=function(){return n})()}!function(n,t){const e=L,o=G();for(;;)try{if(954890===-parseInt(e(451))/1+parseInt(e(478))/2*(-parseInt(e(496))/3)+parseInt(e(476))/4+-parseInt(e(453))/5+-parseInt(e(463))/6+-parseInt(e(487))/7+parseInt(e(457))/8*(parseInt(e(461))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){R(this,(function(){const n=L,t=new RegExp(n(469)),e=new RegExp(n(475),"i"),o=$(n(468));t[n(464)](o+n(484))&&e[n(464)](o+n(489))?$():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[L(477)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function L(n,t){const e=G();return(L=function(n,t){return e[n-=450]})(n,t)}Z(void 0,(function(){const n=L;let t;try{t=Function(n(494)+n(456)+");")()}catch(r){t=window}const e=t[n(492)]=t[n(492)]||{},o=[n(482),"warn",n(480),n(450),n(452),"table",n(465)];for(let i=0;i<o.length;i++){const t=Z.constructor[n(491)].bind(Z),r=o[i],s=e[r]||t;t[n(495)]=Z[n(483)](Z),t[n(466)]=s.toString[n(483)](s),e[r]=t}}))();const H=[C(458)],J=p({__name:"portal",props:{globalUniforms:{}},setup(t){const e=C,o=t,r=new(n[e(462)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms[t(460)]=o[t(488)][t(460)],n[t(493)].globalBloom=o[t(488)][t(497)],n[t(481)]=("\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      "+S+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n[t(481)]+"\n    ")[t(471)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(490))[t(471)](t(459),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ")}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return v(),d(o(473),{material:m(r),position:[0,3.75,-12]},t[0]||(t[0]=[g(o(454),{args:[5,5]},null,-1)]),8,H)}}});function $(n){function t(n){const e=L;if("string"==typeof n)return function(n){}[e(474)](e(486))[e(477)](e(485));1!==(""+n/n)[e(479)]||n%20==0?function(){return!0}.constructor(e(472)+e(467)).call(e(455)):function(){return!1}.constructor(e(472)+e(467)).apply(e(470)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function O(n,t){const e=V();return(O=function(n,t){return e[n-=252]})(n,t)}const Y=O;function V(){const n=["\n    ","fragmentShader","932154GaVHIx","trace","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","108725jnUhlc","uniforms","3209040RGAoau","drops","warn","test","5BFbgLN","length","randFloatSpread","2uXBMkF","table","exception","noise","init","input","call","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","counter","1584zPITbu","push","replace","time","material","Float32BufferAttribute","5944aSYOAk","setAttribute","LineBasicMaterial","gEnds","bind","__proto__","debu","TresLineSegments","MathUtils","vertexShader",'{}.constructor("return this")( )',"\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","console","string","randFloat","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","constructor","gger","info","error","prototype","geometry","action","vec4 diffuseColor = vec4( diffuse, opacity );","apply","2397XDwDYG","toString","position","globalUniforms","log","736637lHJnwB","noiseTex","408wVPplv","while (true) {}","1323JPKGgA","BufferGeometry","7461570BkEmaJ"];return(V=function(){return n})()}!function(n,t){const e=O,o=V();for(;;)try{if(615911===parseInt(e(300))/1*(parseInt(e(309))/2)+parseInt(e(283))/3*(-parseInt(e(258))/4)+-parseInt(e(306))/5*(parseInt(e(297))/6)+parseInt(e(292))/7*(-parseInt(e(252))/8)+parseInt(e(302))/9+-parseInt(e(294))/10+-parseInt(e(288))/11*(-parseInt(e(290))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(282)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){X(this,(function(){const n=O,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=q(n(313));t[n(305)](o+"chain")&&e[n(305)](o+n(314))?q():o("0")}))()}();const Q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(282)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Q(void 0,(function(){const n=O,t=function(){const n=O;let t;try{t=Function("return (function() "+n(268)+");")()}catch(e){t=window}return t}(),e=t[n(270)]=t[n(270)]||{},o=[n(287),n(304),n(276),n(277),n(311),n(310),n(298)];for(let r=0;r<o.length;r++){const t=Q[n(274)][n(278)][n(262)](Q),i=o[r],s=e[i]||t;t[n(263)]=Q.bind(Q),t[n(284)]=s[n(284)][n(262)](s),e[i]=t}}))();const W=[Y(256),Y(279)],K=p({__name:Y(303),props:{globalUniforms:{}},setup(t){const e=Y,o=t,i=[],s=[];for(let r=0;r<2e4;r++){const t=n[e(266)][e(308)](35),o=n[e(266)].randFloat(-5,10),r=n[e(266)][e(308)](35),a=n[e(266)][e(272)](.25,.5);i[e(253)](t,o,r,t,o,r),s[e(253)](0,a,1,a)}const a=new(n[e(293)]);a[e(259)](e(285),new(n[e(257)])(i,3)),a.setAttribute(e(261),new r(s,2));const c=new(n[e(260)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(301)][t(255)]=o[t(286)][t(255)],n[t(301)][t(289)]=o[t(286)][t(312)],n[t(301)].globalBloom=o.globalUniforms.globalBloom,n[t(267)]=(t(316)+n[t(267)]+"\n    ").replace("#include <begin_vertex>",t(273)),n.fragmentShader=(t(299)+S+"\n      "+n[t(296)]+t(295))[t(254)](t(281),t(269))}});return(n,t)=>{const o=e;return v(),d(o(265),{material:m(c),geometry:m(a)},null,8,W)}}});function q(n){function t(n){const e=O;if(typeof n===e(271))return function(n){}[e(274)](e(291))[e(282)](e(317));1!==(""+n/n)[e(307)]||n%20==0?function(){return!0}[e(274)](e(264)+e(275))[e(315)](e(280)):function(){return!1}[e(274)](e(264)+e(275))[e(282)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const nn=on;!function(n,t){const e=on,o=rn();for(;;)try{if(416662===-parseInt(e(261))/1+-parseInt(e(230))/2*(parseInt(e(245))/3)+parseInt(e(226))/4*(-parseInt(e(196))/5)+-parseInt(e(219))/6*(-parseInt(e(250))/7)+parseInt(e(259))/8+-parseInt(e(248))/9*(-parseInt(e(200))/10)+-parseInt(e(238))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const tn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[on(189)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){tn(this,(function(){const n=on,t=new RegExp(n(243)),e=new RegExp(n(213),"i"),o=an(n(208));t[n(229)](o+"chain")&&e[n(229)](o+n(249))?an():o("0")}))()}();const en=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[on(189)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function on(n,t){const e=rn();return(on=function(n,t){return e[n-=189]})(n,t)}function rn(){const n=["add","counter","console","defines","14976467xhuPOg","width","constructor","action","near","function *\\( *\\)","stateObject","18951iYwAib","gger","color","7273575ypnoyu","input","722365wmbYmW","Camera","vec4 diffuseColor = vec4( diffuse, opacity );","globalBloom","\n      uniform float time;\n      ","Color","Scene","time","height","4587872RFFZlk","background","91603byMyLQ","apply","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","uniforms","noise","Fog","setRenderTarget","\n    ","5AEDZfg","call","__proto__","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","10jZOcSq","exception","while (true) {}","prototype","bind",'{}.constructor("return this")( )',"fragmentShader","addPass","init","ShaderMaterial","value","target","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","renderToScreen","string","fog","MeshBasicMaterial","42vkbEjI","Vector2","PlaneGeometry","fboRender","render","\n      ","Mesh","179008NHMobf","texture","return (function() ","test","60bMDGDQ","toString","set","WebGLRenderTarget"];return(rn=function(){return n})()}en(void 0,(function(){const n=on,t=function(){const n=on;let t;try{t=Function(n(228)+n(205)+");")()}catch(e){t=window}return t}(),e=t[n(236)]=t.console||{},o=[n(214),"warn","info","error",n(201),"table","trace"];for(let r=0;r<o.length;r++){const t=en[n(240)][n(203)].bind(en),i=o[r],s=e[i]||t;t[n(198)]=en[n(204)](en),t[n(231)]=s[n(231)][n(204)](s),e[i]=t}}))();const sn=p({__name:nn(222),setup(t){const e=nn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(233)])(512,512),f=new(n[e(256)]),p=new(n[e(251)]),g=new(n[e(221)])(2,2),m=new(n[e(218)])({onBeforeCompile:n=>{const t=e;n[t(191)].time=o[t(257)],n.fragmentShader=(t(254)+S+t(224)+n[t(206)]+t(195)).replace(t(252),t(212))}});m[e(237)]={USE_UV:""};const x=new(n[e(225)])(g,m);f[e(234)](x),o[e(192)][e(210)]=r[e(227)];const{camera:w,renderer:_,scene:I,sizes:T,controls:U}=u();b((()=>U[e(210)]),(t=>{const o=e;null==t||t[o(211)][o(232)](0,2,0),!I[o(210)][o(260)]&&(I[o(210)].background=new(n[o(255)])(6706534))}));const D=new i(_[e(210)]),F=new i(_[e(210)]),A=new s(I[e(210)],w.value),B=new a(new(n[e(220)])(T[e(239)][e(210)],T[e(258)][e(210)]),1.2,.5,0);D[e(215)]=!1,D.addPass(A),D[e(207)](B);const j=new c(new(n[e(209)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:D.renderTarget2.texture}},vertexShader:e(190),fragmentShader:e(199),defines:{}}),"baseTexture");j.needsSwap=!0,F[e(207)](A),F.addPass(j),I[e(210)][e(217)]=new(n[e(193)])(6706534,1,25);const{onLoop:N}=l();return N((({elapsed:n})=>{var t,i;const s=e;o[s(257)][s(210)]=n,_[s(210)]&&(_.value[s(194)](r),_[s(210)].render(f,p),_[s(210)][s(194)](null),o[s(253)][s(210)]=1.2,I.value[s(217)][s(247)][s(232)](0),I[s(210)].fog[s(242)]=15,null==(t=I[s(210)][s(260)])||t[s(232)](0),D[s(223)](),o[s(253)][s(210)]=0,I[s(210)][s(217)].color[s(232)](6706534),I[s(210)][s(217)].near=10,null==(i=I[s(210)][s(260)])||i[s(232)](6706534),F[s(223)]())})),(n,t)=>(v(),d(h,null,[y(z,{globalUniforms:o}),y(J,{globalUniforms:o}),y(K,{globalUniforms:o})],64))}});function an(n){function t(n){const e=on;if(typeof n===e(216))return function(n){}[e(240)](e(202))[e(189)](e(235));1!==(""+n/n).length||n%20==0?function(){return!0}[e(240)]("debu"+e(246))[e(197)](e(241)):function(){return!1}[e(240)]("debu"+e(246))[e(189)](e(244)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const cn={class:"text"};const ln=U({},[["render",function(n,t){return v(),d("div",cn,t[0]||(t[0]=[g("span",{class:"retro noselect"},[g("span",{style:{color:"#eae"}},"光"),x("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),un=pn;!function(n,t){const e=pn,o=dn();for(;;)try{if(930754===parseInt(e(378))/1*(-parseInt(e(369))/2)+parseInt(e(365))/3*(-parseInt(e(358))/4)+-parseInt(e(349))/5+parseInt(e(371))/6*(-parseInt(e(361))/7)+parseInt(e(379))/8+parseInt(e(355))/9*(parseInt(e(376))/10)+parseInt(e(370))/11*(parseInt(e(352))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const fn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[pn(357)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function pn(n,t){const e=dn();return(pn=function(n,t){return e[n-=347]})(n,t)}!function(){fn(this,(function(){const n=pn,t=new RegExp(n(362)),e=new RegExp(n(359),"i"),o=mn("init");t[n(372)](o+n(373))&&e[n(372)](o+n(374))?mn():o("0")}))()}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[pn(357)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function dn(){const n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","21eEXJwe","function *\\( *\\)",'{}.constructor("return this")( )',"prototype","2386653AFlYxX","bind","constructor","return (function() ","118kEGaQp","11ifbPDu","2327610bojlxe","test","chain","input","TresDirectionalLight","20610kBWfJU","TresCanvas","21081ztMENL","11534280SAAZAv","log","action","__proto__","MathUtils","counter","DEG2RAD","debu","info","call","warn","2967550FpTpwN","lightNoise","TresPerspectiveCamera","36335868FCJQJl","console","string","1125fwgxSH","toString","apply","4FMUHmn"];return(dn=function(){return n})()}vn(void 0,(function(){const n=pn;let t;try{t=Function(n(368)+n(363)+");")()}catch(r){t=window}const e=t[n(353)]=t.console||{},o=[n(380),n(348),n(387),"error","exception","table","trace"];for(let i=0;i<o[n(360)];i++){const t=vn[n(367)][n(364)][n(366)](vn),r=o[i],s=e[r]||t;t[n(382)]=vn.bind(vn),t[n(356)]=s[n(356)][n(366)](s),e[r]=t}}))();const gn=p({__name:un(350),setup(e){const o=un,r={windowSize:!0,antialias:!0,renderMode:"manual"},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t.DEG2RAD,maxPolarAngle:90*n[o(383)][o(385)],makeDefault:!0};return(n,t)=>{const e=o,s=w(e(377));return v(),d(h,null,[y(ln),y(s,I(T(r)),{default:_((()=>[t[0]||(t[0]=g(e(351),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),y(m(f),I(T(i)),null,16),t[1]||(t[1]=g("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=g(e(375),{position:[0,3,-12],intensity:1},null,-1)),y(sn)])),_:1},16)],64)}}});function mn(n){function t(n){const e=pn;if(typeof n===e(354))return function(n){}[e(367)]("while (true) {}")[e(357)](e(384));1!==(""+n/n)[e(360)]||n%20==0?function(){return!0}[e(367)](e(386)+"gger")[e(347)](e(381)):function(){return!1}[e(367)](e(386)+"gger")[e(357)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{gn as default};
