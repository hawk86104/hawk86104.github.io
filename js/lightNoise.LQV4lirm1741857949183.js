import{_ as n,a as t,ar as e,$ as o,ab as r,ac as i,C as s,c6 as a,c4 as c,c5 as l,ci as u}from"./three.Gi_-4zeu1741857949183.js";import{e as f,m as p,o as d}from"./@tresjs.8SAr0PX_1741857949183.js";import{d as v,o as g,H as m,N as h,u as b,F as x,w as y,j as w,z as _,e as I,g as T,aj as U,ak as S}from"./@vue.NRI7TcgI1741857949183.js";import{_ as D}from"./@fesjs._GqZBaJ41741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./vue-router.vV-TPEpQ1741857949183.js";import"./lodash-es.pklfUAS51741857949183.js";import"./@qlin.yHhFDldE1741857949183.js";import"./pinia.m-1lhBPB1741857949183.js";import"./@floating-ui.BPbuo5Gx1741857949183.js";import"./@juggle.7yjBMqoW1741857949183.js";var B="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const j=k;!function(n,t){const e=k,o=P();for(;;)try{if(601290===-parseInt(e(504))/1+-parseInt(e(519))/2*(parseInt(e(515))/3)+-parseInt(e(557))/4+-parseInt(e(551))/5+parseInt(e(542))/6+parseInt(e(548))/7*(parseInt(e(566))/8)+parseInt(e(501))/9*(-parseInt(e(529))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=k,t=new RegExp(n(508)),e=new RegExp(n(553),"i"),o=A("init");t[n(495)](o+n(514))&&e[n(495)](o+n(554))?A():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(537)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function(n(564)+n(502)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(555)]||{},o=["log","warn",n(539),n(528),n(489),n(512),n(517)];for(let r=0;r<o[n(562)];r++){const t=N[n(494)][n(518)][n(510)](N),i=o[r],s=e[i]||t;t.__proto__=N.bind(N),t[n(565)]=s[n(565)][n(510)](s),e[i]=t}}))();const z=[j(503),j(527)],F=[j(527)],C=["rotateX"];function P(){const n=["#include <begin_vertex>","SphereGeometry","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","TresPlaneGeometry","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","material","error","1701220edUOwb","MathUtils","string","uniforms","MeshBasicMaterial","globalUniforms","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","Vector4","apply","setY","info","luces","sin","6342120uHpcgG","globalBloom","instData","call","noise","attributes","82985OYVQUB","counter","needsUpdate","48845CWqCfj","randFloat","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","console","noiseTex","333920qWaiqk","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","push","vertexShader","lucesPlane","length","#include <dithering_fragment>","return (function() ","toString","744HdPHvf","MeshLambertMaterial","debu","exception","\n    ","while (true) {}","fragmentShader","stateObject","constructor","test","InstancedBufferAttribute","gger","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","action","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","9niXxrX",'{}.constructor("return this")( )',"geometry","801145pnkmxt","setAttribute","InstancedBufferGeometry","cos","function *\\( *\\)","TresMesh","bind","replace","table","\n      uniform vec4 luces[","chain","3NUDtyQ","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","trace","prototype","987458kBvrRL","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","instanceCount"];return(P=function(){return n})()}const R=100;function k(n,t){const e=P();return(k=function(n,t){return e[n-=487]})(n,t)}const M=v({__name:j(561),props:{globalUniforms:{}},setup(o){const r=j,i=o,s=[],a=[],c=new(n[r(523)])(1,36,18),l=(new(n[r(506)])).copy(c);l[r(521)]=R;const u=[];for(let f=0;f<R;f++){let o=n[r(530)].randFloatSpread(49),i=t.randFloatSpread(49),c=n[r(530)][r(552)](.0625,.125),l=t[r(552)](1,3);u[r(559)](o,i,c),a[r(559)](new e(o,i,l,n[r(530)][r(552)](1,2))),s[r(559)](new(n[r(536)])(o,i,c,l))}l[r(505)](r(544),new(n[r(496)])(new Float32Array(u),3));const p=new(n[r(533)])({color:16720418,onBeforeCompile:n=>{const t=r;n.uniforms[t(556)]=i[t(534)][t(546)],n.vertexShader=(t(558)+n[t(560)]+t(490)).replace(t(522),t(524))}}),d={luces:{value:s}},v=new(n[r(487)])({color:2363940,onBeforeCompile:n=>{const t=r;n[t(532)][t(540)]=d[t(540)],n[t(532)].globalBloom=i[t(534)][t(543)],n[t(532)][t(556)]=i[t(534)][t(546)],n[t(560)]=(t(498)+n[t(560)]+t(490))[t(511)]("#include <begin_vertex>",t(535)),n[t(492)]=(t(513)+R+t(516)+n[t(492)]+t(490))[t(511)]("#include <fog_fragment>",t(500)+R+t(526))[t(511)](t(563),t(520))}}),{onLoop:y}=f();return y((({elapsed:n})=>{const t=r;for(let e=0;e<R;e++){const o=a[e];let r=(o.y+n+25)%50-25;s[e].y=r,s[e].w=(Math[t(541)](n*o.w*(e%3+1))*Math[t(507)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,l[t(547)][t(544)][t(538)](e,r)}l[t(547)][t(544)][t(550)]=!0})),(n,t)=>{const e=r;return g(),m(x,null,[h(e(509),{geometry:b(l),material:b(p)},null,8,z),h(e(509),{material:b(v)},[h(e(525),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,C)],8,F)],64)}}});function A(n){function t(n){const e=k;if(typeof n===e(531))return function(n){}[e(494)](e(491))[e(537)](e(549));1!==(""+n/n).length||n%20==0?function(){return!0}[e(494)](e(488)+e(497))[e(545)](e(499)):function(){return!1}.constructor(e(488)+e(497))[e(537)](e(493)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=Z;!function(n,t){const e=Z,o=$();for(;;)try{if(217050===parseInt(e(181))/1*(parseInt(e(163))/2)+parseInt(e(200))/3*(parseInt(e(192))/4)+-parseInt(e(207))/5+parseInt(e(189))/6+parseInt(e(195))/7*(-parseInt(e(177))/8)+parseInt(e(183))/9+-parseInt(e(161))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(170)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Z(n,t){const e=$();return(Z=function(n,t){return e[n-=159]})(n,t)}!function(){H(this,(function(){const n=Z,t=new RegExp(n(199)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=L(n(196));t[n(205)](o+n(184))&&e[n(205)](o+n(185))?L():o("0")}))()}();const W=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();W(void 0,(function(){const n=Z;let t;try{t=Function(n(187)+n(164)+");")()}catch(r){t=window}const e=t[n(167)]=t[n(167)]||{},o=["log",n(188),n(175),n(168),n(169),"table",n(172)];for(let i=0;i<o[n(162)];i++){const t=W[n(203)][n(179)].bind(W),r=o[i],s=e[r]||t;t[n(198)]=W.bind(W),t.toString=s[n(204)][n(159)](s),e[r]=t}}))();const X=[G(165)];function $(){const n=["\n    ","8dZiqsZ","call","prototype","debu","1283lCLrcD","string","2295333jfolUh","chain","input","gger","return (function() ","warn","1747956gFeTEi","TresMesh","TresPlaneGeometry","310876dJtWKG","stateObject","replace","1421623iPEExr","init","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","__proto__","function *\\( *\\)","3PbFHSJ","fragmentShader","vec4 diffuseColor = vec4( diffuse, opacity );","constructor","toString","test","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","562895kHfxYd","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","globalBloom","bind","globalUniforms","4210950CEhltp","length","514cbSEac",'{}.constructor("return this")( )',"material","uniforms","console","error","exception","apply","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","trace","#include <dithering_fragment>","time","info"];return($=function(){return n})()}const q=v({__name:"portal",props:{globalUniforms:{}},setup(n){const t=n,e=new o({color:16737843,transparent:!0,onBeforeCompile:n=>{const e=Z;n[e(166)][e(174)]=t[e(160)].time,n[e(166)][e(209)]=t.globalUniforms[e(209)],n[e(201)]=(e(197)+B+e(171)+n[e(201)]+e(176))[e(194)](e(202),e(208))[e(194)](e(173),e(206))}});return e.defines={USE_UV:""},(n,t)=>{const o=Z;return g(),m(o(190),{material:b(e),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(191),{args:[5,5]},null,-1)]),8,X)}}});function L(n){function t(n){const e=Z;if(typeof n===e(182))return function(n){}[e(203)]("while (true) {}")[e(170)]("counter");1!==(""+n/n)[e(162)]||n%20==0?function(){return!0}[e(203)](e(180)+e(186))[e(178)]("action"):function(){return!1}[e(203)](e(180)+e(186)).apply(e(193)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=V;!function(n,t){const e=V,o=Q();for(;;)try{if(354973===parseInt(e(398))/1*(parseInt(e(400))/2)+parseInt(e(396))/3+-parseInt(e(385))/4+-parseInt(e(391))/5*(parseInt(e(390))/6)+parseInt(e(401))/7+parseInt(e(386))/8*(-parseInt(e(399))/9)+-parseInt(e(362))/10*(parseInt(e(365))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(406)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Y(this,(function(){const n=V,t=new RegExp(n(361)),e=new RegExp(n(368),"i"),o=tn(n(402));t[n(355)](o+"chain")&&e[n(355)](o+n(382))?tn():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(406)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function V(n,t){const e=Q();return(V=function(n,t){return e[n-=354]})(n,t)}K(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function(n(384)+n(407)+");")()}catch(e){t=window}return t}(),e=t[n(410)]=t.console||{},o=[n(360),"warn",n(375),"error","exception",n(356),n(405)];for(let r=0;r<o[n(376)];r++){const t=K[n(374)].prototype.bind(K),i=o[r],s=e[i]||t;t[n(389)]=K.bind(K),t.toString=s[n(378)][n(393)](s),e[i]=t}}))();const J=[O(357),O(395)];function Q(){const n=["info","length","#include <begin_vertex>","toString","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","counter","noiseTex","input","fragmentShader","return (function() ","1261840oYbrEI","352kHUdAw","setAttribute","push","__proto__","4182540zoMhKB","5PuNUxh","gger","bind","MathUtils","geometry","1964580hBYbPF","globalBloom","4TFsnKw","1593OoBKjf","325078upIpHD","4327932gGxZxX","init","action","\n    ","trace","apply",'{}.constructor("return this")( )',"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","drops","console","Float32BufferAttribute","test","table","material","BufferGeometry","replace","log","function *\\( *\\)","5479810rNXRpU","gEnds","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","11JiatSN","TresLineSegments","globalUniforms","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniforms","string","time","call","randFloatSpread","constructor"];return(Q=function(){return n})()}const nn=v({__name:O(409),props:{globalUniforms:{}},setup(e){const o=O,s=e,a=[],c=[];for(let r=0;r<2e4;r++){const e=n[o(394)].randFloatSpread(35),r=t.randFloat(-5,10),i=n[o(394)][o(373)](35),s=n[o(394)].randFloat(.25,.5);a[o(388)](e,r,i,e,r,i),c.push(0,s,1,s)}const l=new(n[o(358)]);l[o(387)]("position",new r(a,3)),l[o(387)](o(363),new(n[o(354)])(c,2));const u=new i({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n[t(369)][t(371)]=s[t(367)][t(371)],n[t(369)][t(381)]=s[t(367)].noise,n[t(369)][t(397)]=s[t(367)][t(397)],n.vertexShader=(t(364)+n.vertexShader+t(404))[t(359)](t(377),t(408)),n[t(383)]=(t(379)+B+"\n      "+n.fragmentShader+"\n    ")[t(359)]("vec4 diffuseColor = vec4( diffuse, opacity );","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ")}});return(n,t)=>{const e=o;return g(),m(e(366),{material:b(u),geometry:b(l)},null,8,J)}}});function tn(n){function t(n){const e=V;if(typeof n===e(370))return function(n){}[e(374)]("while (true) {}")[e(406)](e(380));1!==(""+n/n)[e(376)]||n%20==0?function(){return!0}[e(374)]("debu"+e(392))[e(372)](e(403)):function(){return!1}[e(374)]("debu"+e(392))[e(406)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}function en(n,t){const e=sn();return(en=function(n,t){return e[n-=254]})(n,t)}!function(n,t){const e=en,o=sn();for(;;)try{if(101937===-parseInt(e(254))/1*(-parseInt(e(275))/2)+parseInt(e(307))/3*(parseInt(e(280))/4)+-parseInt(e(264))/5+parseInt(e(311))/6*(-parseInt(e(281))/7)+parseInt(e(302))/8+-parseInt(e(306))/9+-parseInt(e(325))/10*(-parseInt(e(283))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[en(289)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){on(this,(function(){const n=en,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(322),"i"),o=cn(n(260));t[n(296)](o+n(261))&&e[n(296)](o+n(321))?cn():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[en(289)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(){const n=["console","log","apply","MeshBasicMaterial","render","debu","needsSwap","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","background","test","color","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","Mesh","fragmentShader","add","918632RaHgeq","trace","prototype","baseTexture","1304523WxdzRv","6558dHfrXn","replace","texture","Fog","566442TPzUAp","info","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","exception",'{}.constructor("return this")( )',"ShaderMaterial","return (function() ","string","fog","Scene","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","renderTarget2","WebGLRenderTarget","890DtdGXi","gger","161103WRYKfi","width","set","addPass","vec4 diffuseColor = vec4( diffuse, opacity );","Vector2","init","chain","bind","constructor","636465UiFFyj","target","uniforms","\n      uniform float time;\n      ","length","call","stateObject","height","near","Camera","time","2fibkbH","while (true) {}","toString","PlaneGeometry","setRenderTarget","316qOThBM","14smztMs","value","14135yCqjTJ","error","\n    ","globalBloom"];return(sn=function(){return n})()}rn(void 0,(function(){const n=en,t=function(){const n=en;let t;try{t=Function(n(317)+n(315)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(287)]||{},o=[n(288),"warn",n(312),n(284),n(314),"table",n(303)];for(let r=0;r<o.length;r++){const t=rn[n(263)][n(304)][n(262)](rn),i=o[r],s=e[i]||t;t.__proto__=rn[n(262)](rn),t[n(277)]=s[n(277)][n(262)](s),e[i]=t}}))();const an=v({__name:"fboRender",setup(t){const e=en,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new(n[e(324)])(512,512),i=new(n[e(320)]),d=new(n[e(273)]),v=new(n[e(278)])(2,2),h=new(n[e(290)])({onBeforeCompile:n=>{const t=e;n[t(266)][t(274)]=o.time,n[t(300)]=(t(267)+B+"\n      "+n.fragmentShader+t(285))[t(308)](t(258),t(298))}});h.defines={USE_UV:""};const b=new(n[e(299)])(v,h);i[e(301)](b),o.noise[e(282)]=r[e(309)];const{camera:_,renderer:I,scene:T,sizes:U,controls:S}=p();y((()=>S[e(282)]),(n=>{const t=e;null==n||n[t(265)][t(256)](0,2,0),!T[t(282)][t(295)]&&(T[t(282)][t(295)]=new s(6706534))}));const D=new a(I.value),j=new a(I[e(282)]),E=new c(T[e(282)],_[e(282)]),N=new l(new(n[e(259)])(U[e(255)].value,U[e(271)][e(282)]),1.2,.5,0);D.renderToScreen=!1,D.addPass(E),D[e(257)](N);const z=new u(new(n[e(316)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:D[e(323)][e(309)]}},vertexShader:e(313),fragmentShader:e(294),defines:{}}),e(305));z[e(293)]=!0,j.addPass(E),j[e(257)](z),T[e(282)][e(319)]=new(n[e(310)])(6706534,1,25);const{onLoop:F}=f();return F((({elapsed:n})=>{var t,s;const a=e;o[a(274)][a(282)]=n,I[a(282)]&&(I[a(282)].setRenderTarget(r),I[a(282)][a(291)](i,d),I[a(282)][a(279)](null),o[a(286)].value=1.2,T[a(282)][a(319)][a(297)][a(256)](0),T.value.fog[a(272)]=15,null==(t=T[a(282)].background)||t[a(256)](0),D.render(),o[a(286)].value=0,T[a(282)].fog.color[a(256)](6706534),T[a(282)][a(319)][a(272)]=10,null==(s=T.value.background)||s[a(256)](6706534),j[a(291)]())})),(n,t)=>(g(),m(x,null,[w(M,{globalUniforms:o}),w(q,{globalUniforms:o}),w(nn,{globalUniforms:o})],64))}});function cn(n){function t(n){const e=en;if(typeof n===e(318))return function(n){}[e(263)](e(276))[e(289)]("counter");1!==(""+n/n)[e(268)]||n%20==0?function(){return!0}[e(263)]("debu"+e(326))[e(269)]("action"):function(){return!1}[e(263)](e(292)+e(326))[e(289)](e(270)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=D({},[["render",function(n,t){return g(),m("div",ln,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);function fn(n,t){const e=dn();return(fn=function(n,t){return e[n-=414]})(n,t)}const pn=fn;function dn(){const n=["info","stateObject","bind",'{}.constructor("return this")( )',"prototype","string","counter","action","debu","trace","gger","DEG2RAD","call","console","33ZYUIxM","test","300069lSZmRa","40IXrWXj","log","1195776JjXWlp","9xYQqYr","201988WQElDR","warn","3881484tKRKRq","length","input","48hEaBLO","1130736dyWRKG","MathUtils","apply","manual","1SlvSZs","lightNoise","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","531914BkvNmd","1726800iMHngr","TresDirectionalLight","TresCanvas","constructor","return (function() "];return(dn=function(){return n})()}!function(n,t){const e=fn,o=dn();for(;;)try{if(243254===-parseInt(e(453))/1*(parseInt(e(416))/2)+-parseInt(e(449))/3+-parseInt(e(443))/4*(parseInt(e(439))/5)+parseInt(e(448))/6*(parseInt(e(438))/7)+parseInt(e(441))/8+parseInt(e(442))/9*(-parseInt(e(417))/10)+parseInt(e(436))/11*(parseInt(e(445))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){vn(this,(function(){const n=fn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(415),"i"),o=hn("init");t[n(437)](o+"chain")&&e[n(437)](o+n(447))?hn():o("0")}))()}();const gn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();gn(void 0,(function(){const n=fn,t=function(){const n=fn;let t;try{t=Function(n(421)+n(425)+");")()}catch(e){t=window}return t}(),e=t[n(435)]=t[n(435)]||{},o=[n(440),n(444),n(422),"error","exception","table",n(431)];for(let r=0;r<o[n(446)];r++){const t=gn.constructor[n(426)][n(424)](gn),i=o[r],s=e[i]||t;t.__proto__=gn.bind(gn),t[n(414)]=s.toString[n(424)](s),e[i]=t}}))();const mn=v({__name:pn(454),setup(e){const o=pn,r={windowSize:!0,antialias:!0,renderMode:o(452)},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[o(450)][o(433)],maxPolarAngle:90*t.DEG2RAD,makeDefault:!0};return(n,t)=>{const e=o,s=I(e(419));return g(),m(x,null,[w(un),w(s,U(S(r)),{default:T((()=>[t[0]||(t[0]=h("TresPerspectiveCamera",{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(d),U(S(i)),null,16),t[1]||(t[1]=h("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=h(e(418),{position:[0,3,-12],intensity:1},null,-1)),w(an)])),_:1},16)],64)}}});function hn(n){function t(n){const e=fn;if(typeof n===e(427))return function(n){}[e(420)]("while (true) {}").apply(e(428));1!==(""+n/n)[e(446)]||n%20==0?function(){return!0}[e(420)](e(430)+e(432))[e(434)](e(429)):function(){return!1}.constructor(e(430)+"gger")[e(451)](e(423)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{mn as default};
