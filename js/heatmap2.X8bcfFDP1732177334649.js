import{P as t}from"./tweakpane.yHWGBmom1732177334649.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.chZ9ZCT41732177334649.js";import{_ as r}from"./heatmap.js-fix.YaGzpOzl1732177334649.js";import{h as i,Y as c,bX as s,M as u,_ as a,a0 as p}from"./three.rV-MfnQb1732177334649.js";import{r as f}from"./utils.9G0q9eRY1732177334649.js";import{d as l}from"./pinia.gDmc4Bet1732177334649.js";import{b as h,d,a3 as m,o as g,D as y,J as v,u as w,F as b,q as I,U as _,N as x,P as j,H as S,L as E,a6 as M,r as R,j as U,g as Z,m as P}from"./@vue.-THQH3GC1732177334649.js";import{c as D,d as k,a as A}from"./three-mesh-bvh.sWE2ZLZZ1732177334649.js";import{_ as V}from"./@fesjs.jFXTKHIV1732177334649.js";import"./@tresjs.ty5XF8T_1732177334649.js";import"./@vueuse.n223N0GC1732177334649.js";import"./three-custom-shader-material.O0AJb93d1732177334649.js";import"./@amap.IbXCphpR1732177334649.js";import"./vue-demi.C4xddsk91732177334649.js";import"./vue-router.mzGhX2Y31732177334649.js";import"./lodash-es.kYt-_xTG1732177334649.js";import"./@qlin.yHhFDldE1732177334649.js";import"./@floating-ui.BPbuo5Gx1732177334649.js";import"./@juggle.7yjBMqoW1732177334649.js";function z(){const t=["console","style","574372psskNR","12GuXZCv","function *\\( *\\)","top","width",'{}.constructor("return this")( )',"60597vMmYWY","table","log","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","return (function() ","rgb(0,0,255)","820eNVkYp","2693061kagWPU","toString","action","randInt","while (true) {}","17140937jtDohm","prototype","debu","createElement","test","call","constructor","appendChild","push","493813WxVzvZ","100EpotvJ","1720912jPRdUC","chain","info","counter","absolute","init","position","none","string","create","_config","stateObject","length","error","rgb(255,0,0)","195324miHXiK","3MuCZsI","trace","warn","apply"];return(z=function(){return t})()}!function(t,n){const e=B,o=z();for(;;)try{if(748392===-parseInt(e(158))/1+parseInt(e(182))/2*(parseInt(e(176))/3)+-parseInt(e(175))/4*(-parseInt(e(159))/5)+-parseInt(e(183))/6*(-parseInt(e(144))/7)+parseInt(e(160))/8+-parseInt(e(135))/9*(-parseInt(e(143))/10)+-parseInt(e(149))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=B,n=new RegExp(t(184)),e=new RegExp(t(139),"i"),o=C(t(165));n[t(153)](o+t(161))&&e[t(153)](o+"input")?C():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(179)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();$(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(141)+t(134)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(180)]||{},o=[t(137),t(178),t(162),t(173),"exception",t(136),t(177)];for(let r=0;r<o[t(172)];r++){const n=$[t(155)][t(150)].bind($),i=o[r],c=e[i]||n;n.__proto__=$[t(138)]($),n[t(145)]=c.toString[t(138)](c),e[i]=n}}))();const q=(t,n)=>t.getValueAt(n)+-10;function B(t,n){const e=z();return(B=function(t,n){return e[t-=132]})(t,n)}function C(t){function n(t){const e=B;if(typeof t===e(168))return function(t){}.constructor(e(148))[e(179)](e(163));1!==(""+t/t).length||t%20==0?function(){return!0}[e(155)](e(151)+e(140))[e(154)](e(146)):function(){return!1}[e(155)](e(151)+e(140)).apply(e(171)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const J=T;!function(t,n){const e=T,o=F();for(;;)try{if(622821===-parseInt(e(145))/1*(parseInt(e(169))/2)+parseInt(e(138))/3+parseInt(e(154))/4*(parseInt(e(148))/5)+parseInt(e(139))/6*(-parseInt(e(149))/7)+parseInt(e(132))/8*(parseInt(e(166))/9)+parseInt(e(147))/10*(-parseInt(e(137))/11)+-parseInt(e(151))/12*(-parseInt(e(158))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=F();return(T=function(t,n){return e[t-=129]})(t,n)}function F(){const t=["log","bind","toString","counter","9kBqCqh","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","699242tgPrVe","__proto__","init","exception","chain","286312erxysD","buildingsHeatmap",'{}.constructor("return this")( )',"input","while (true) {}","2339458wdNiVU","2173140dKCMQJ","132546YBzuxN","console","trace","apply","length","error","1jCuqUk","action","50SZbQJX","1685lleKyl","203ndxVjl","function *\\( *\\)","8400828UOQRLb","test","return (function() ","14436wWwlbG","stateObject","table","gger","13ZuKsnX","string","call","warn"];return(F=function(){return t})()}!function(){N(this,(function(){const t=T,n=new RegExp(t(150)),e=new RegExp(t(168),"i"),o=X(t(129));n[t(152)](o+t(131))&&e[t(152)](o+t(135))?X():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(142)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function(t(153)+t(134)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(140)]||{},o=[t(162),t(161),"info",t(144),t(130),t(156),t(141)];for(let r=0;r<o[t(143)];r++){const n=L.constructor.prototype[t(163)](L),i=o[r],c=e[i]||n;n[t(170)]=L.bind(L),n[t(164)]=c[t(164)][t(163)](c),e[i]=n}}))();const Q=l(J(133),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[T(167)]=n},setTemperature:function(t){n.value=t}}}));function X(t){function n(t){const e=T;if(typeof t===e(159))return function(t){}.constructor(e(136))[e(142)](e(165));1!==(""+t/t)[e(143)]||t%20==0?function(){return!0}.constructor("debugger")[e(160)](e(146)):function(){return!1}.constructor("debu"+e(157)).apply(e(155)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=tt;!function(t,n){const e=tt,o=ot();for(;;)try{if(541132===parseInt(e(419))/1*(-parseInt(e(415))/2)+-parseInt(e(397))/3*(-parseInt(e(414))/4)+-parseInt(e(385))/5*(parseInt(e(420))/6)+parseInt(e(429))/7*(-parseInt(e(396))/8)+parseInt(e(394))/9*(parseInt(e(444))/10)+parseInt(e(407))/11+parseInt(e(438))/12*(parseInt(e(435))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(443)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=tt,n=new RegExp(t(421)),e=new RegExp(t(400),"i"),o=et(t(426));n[t(416)](o+t(383))&&e[t(416)](o+t(431))?et():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[tt(443)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=tt;let n;try{n=Function("return (function() "+t(422)+");")()}catch(r){n=window}const e=n.console=n[t(393)]||{},o=[t(395),"warn",t(439),t(398),t(399),t(428),"trace"];for(let i=0;i<o[t(430)];i++){const n=H.constructor[t(448)][t(387)](H),r=o[i],c=e[r]||n;n[t(378)]=H[t(387)](H),n.toString=c[t(380)][t(387)](c),e[r]=n}}))();const K=[Y(424),"rotation-x"],W=[Y(424)];function tt(t,n){const e=ot();return(tt=function(t,n){return e[t-=374]})(t,n)}const nt=d({__name:Y(409),props:{model:{},opacity:{default:1}},setup(t){const n=Y;(()=>{const t=tt;a[t(375)][t(448)].computeBoundsTree=D,a[t(375)][t(448)][t(445)]=k,a[t(441)][t(448)][t(386)]=A})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document[o(152)]("heatmap-canvas");return i[o(181)][o(166)]=o(164),!e&&(i[o(181)].display=o(167)),i.style[o(132)]="0",i.style.left="0",document.body[o(156)](i),r[o(169)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(142),.55:"rgb(0,255,0)",.85:"yellow",1:o(174)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(157)]({x:i.randInt(1,t[e(170)][e(133)]),y:i[e(147)](1,t[e(170)].height),value:i[e(147)](-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const l=new c(o[n(402)][n(404)]);l[n(432)]=!0;const h=e[n(447)][n(425)][n(417)]();delete h[n(390)].attributes.normal,delete h[n(390)].attributes.uv;const d=h[n(390)].clone()[n(442)](h[n(374)]),I=e[n(447)][n(388)].clone();delete I.geometry[n(381)][n(405)];const _=I.geometry[n(417)]()[n(442)](I.matrix),x=s[n(377)]([d,_]);x.applyMatrix4((new u)[n(391)](Math.PI/2)),f(x),x[n(384)]();const j=(t=>{const o=n;return new(a[o(427)])({vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t",fragmentShader:o(408),uniforms:{uOpacity:{value:e[o(379)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:p})})(l),S=new(a[n(441)])(x,j);m((()=>{const t=n;e[t(379)]&&(j[t(437)][t(440)][t(389)]=e[t(379)])}));const E=Q(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(382)],y:(1-t.uv.y)*o[e(412)][e(434)]};console[e(395)](e(413),t),console[e(395)](e(423),q(o,n)),E[e(406)](q(o,n))}},R=t=>{t&&E[n(392)]({showDiv:!0})},U=t=>{t&&E.setShowDiv(!1)};return(t,o)=>{const r=n;return g(),y(b,null,[v(r(403),{object:w(S),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:R,onPointerLeave:U},null,40,K),v(r(403),{object:e[r(447)][r(447)][r(433)][0].clone()},null,8,W)],64)}}});function et(t){function n(t){const e=tt;if("string"==typeof t)return function(t){}.constructor(e(418))[e(443)](e(401));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(411)+e(436)).call(e(376)):function(){return!1}[e(446)]("debu"+e(436))[e(443)](e(410)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ot(){const t=["36RllaOq","log","1504yRzfeN","118380xShtZv","error","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","_renderer","primitive","canvas","normal","setTemperature","10960631eAbsdl","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","buildingsHeatmap","stateObject","debu","_config","数值：","52QrwaJj","70QDivlT","test","clone","while (true) {}","28351rllvls","120UEysAG","function *\\( *\\)",'{}.constructor("return this")( )',"数值———：","object","city","init","ShaderMaterial","table","13769tefwlP","length","input","needsUpdate","children","height","114556SUEtQo","gger","uniforms","1524YRkEJp","info","uOpacity","Mesh","applyMatrix4","apply","651570oKtibL","disposeBoundsTree","constructor","model","prototype","matrix","BufferGeometry","action","mergeGeometries","__proto__","opacity","toString","attributes","width","chain","computeBoundsTree","246485lvHNOP","raycast","bind","land","value","geometry","makeRotationX","$patch","console"];return(ot=function(){return t})()}const rt=V({__name:"dataDiv",setup(t){const n=Q(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>x((g(),y("div",{class:"title",style:E(e.value)},"温度："+S(w(n).temperature)+"℃ ",5)),[[j,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=ut,o=ct();for(;;)try{if(949404===parseInt(e(525))/1+-parseInt(e(531))/2*(parseInt(e(495))/3)+parseInt(e(519))/4+parseInt(e(527))/5*(-parseInt(e(506))/6)+parseInt(e(498))/7+parseInt(e(501))/8+-parseInt(e(515))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(522)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["action","counter","gger","1782cdETdV","console","call","prototype","return (function() ","opacity","test","bind","string","1193823hjyJfS","toString","while (true) {}","__proto__","3154260ZSLeoF","debu",'{}.constructor("return this")( )',"apply","table","exception","397074tgcVUd","trace","11265PSKndM","透明度","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","2UyQJyx","warn","length","1442577uNlqdi","city","constructor","6774369HVafGR","error","input","629160xhnEiq","model"];return(ct=function(){return t})()}!function(){it(this,(function(){const t=ut,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(529),"i"),o=pt("init");n[t(512)](o+"chain")&&e[t(512)](o+t(500))?pt():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(522)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(t,n){const e=ct();return(ut=function(t,n){return e[t-=495]})(t,n)}st(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function(t(510)+t(521)+");")()}catch(e){n=window}return n}(),e=n[t(507)]=n.console||{},o=["log",t(532),"info",t(499),t(524),t(523),t(526)];for(let r=0;r<o[t(533)];r++){const n=st[t(497)][t(509)][t(513)](st),i=o[r],c=e[i]||n;n[t(518)]=st[t(513)](st),n.toString=c[t(516)][t(513)](c),e[i]=n}}))();const at=d({__name:"heatmap2",async setup(r){const i=ut;let c,s;const u=h(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u[i(530)]=!0;const p=R({width:1,color:"#000",opacity:1,show:!0}),f=R({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(f,i(511),{label:i(528),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(b,null,[U(e,{showBuildings:!1,autoRotate:!1},{ability:Z((()=>[U(nt,P({model:w(a)},f),null,16,[r(502)]),U(n,P(p,{builds:w(a)[r(496)]}),null,16,["builds"])])),_:1}),U(rt)],64)}}});function pt(t){function n(t){const e=ut;if(typeof t===e(514))return function(t){}[e(497)](e(517))[e(522)](e(504));1!==(""+t/t)[e(533)]||t%20==0?function(){return!0}[e(497)](e(520)+e(505))[e(508)](e(503)):function(){return!1}[e(497)](e(520)+"gger")[e(522)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
