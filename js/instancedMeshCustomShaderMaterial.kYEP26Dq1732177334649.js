import{_ as t,ai as n}from"./three.rV-MfnQb1732177334649.js";import{e,W as r,U as o,c as i}from"./@tresjs.ty5XF8T_1732177334649.js";import{a,b as s}from"./index.os2b9iNQ1732177334649.js";import{d as c,b as u,w as f,o as p,D as l,J as h,j as v,u as g,r as d,f as m,g as b,aj as x,ak as y,al as I,m as w}from"./@vue.-THQH3GC1732177334649.js";import"./@vueuse.n223N0GC1732177334649.js";import"./three-stdlib.k-UoDs271732177334649.js";import"./@pmndrs.tHJhZmW91732177334649.js";import"./object-hash.4qHr6pa21732177334649.js";import"./@amap.IbXCphpR1732177334649.js";import"./jszip.LcW-vLxa1732177334649.js";!function(t,n){for(var e=j,r=z();;)try{if(131818===parseInt(e(197))/1*(parseInt(e(208))/2)+parseInt(e(186))/3*(parseInt(e(214))/4)+parseInt(e(187))/5*(-parseInt(e(209))/6)+parseInt(e(189))/7*(-parseInt(e(207))/8)+parseInt(e(190))/9*(parseInt(e(224))/10)+-parseInt(e(220))/11+-parseInt(e(183))/12*(-parseInt(e(210))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();var M=function(){var t=!0;return function(n,e){var r=t?function(){if(e){var t=e[j(201)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){M(this,(function(){var t=j,n=new RegExp(t(199)),e=new RegExp(t(202),"i"),r=P("init");n[t(221)](r+t(191))&&e.test(r+t(217))?P():r("0")}))()}();var _=function(){var t=!0;return function(n,e){var r=t?function(){if(e){var t=e[j(201)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();_(void 0,(function(){var t,n=j;try{t=Function(n(185)+n(218)+");")()}catch(c){t=window}for(var e=t[n(184)]=t[n(184)]||{},r=[n(198),n(204),n(203),n(193),n(206),n(215),n(223)],o=0;o<r.length;o++){var i=_.constructor[n(216)].bind(_),a=r[o],s=e[a]||i;i[n(222)]=_[n(213)](_),i[n(211)]=s.toString[n(213)](s),e[a]=i}}))();function j(t,n){var e=z();return(j=function(t,n){return e[t-=183]})(t,n)}function z(){var t=["stateObject","1866293WakYgW","test","__proto__","trace","10qpmDNm","58812Snpimb","console","return (function() ","177EMQHtM","105FhgaYN","action","1106ukIKQb","2201391fsnyAP","chain","constructor","error","gger","while (true) {}","length","3RzTHxi","log","function *\\( *\\)","debu","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","warn","counter","exception","1888Nespbx","56570WtMzPc","1572xvclmj","26LjZbIH","toString","call","bind","340wBKekL","table","prototype","input",'{}.constructor("return this")( )'];return(z=function(){return t})()}function P(t){function n(t){var e=j;if("string"==typeof t)return function(t){}.constructor(e(195))[e(201)](e(205));1!==(""+t/t)[e(196)]||t%20==0?function(){return!0}[e(192)](e(200)+e(194))[e(212)](e(188)):function(){return!1}[e(192)]("debu"+e(194))[e(201)](e(219)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=D,r=T();for(;;)try{if(663089===-parseInt(e(207))/1*(parseInt(e(212))/2)+parseInt(e(219))/3+-parseInt(e(227))/4*(parseInt(e(185))/5)+-parseInt(e(182))/6+parseInt(e(183))/7*(-parseInt(e(211))/8)+parseInt(e(190))/9+parseInt(e(224))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(206)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function T(){const t=["input","\n    vec3 displace(vec3 point) {\n      vec3 instancePosition = (instanceMatrix * vec4(point, 1.)).xyz;\n      return instancePosition + (normal * noise((instancePosition * 3.) + uTime) * 0.8);\n    }  \n\n    vec3 orthogonal(vec3 v) {\n      return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)\n      : vec3(0.0, -v.z, v.y));\n    }\n\n    vec3 recalcNormals(vec3 newPos) {\n      float offset = 0.001;\n      vec3 tangent = orthogonal(normal);\n      vec3 bitangent = normalize(cross(normal, tangent));\n      vec3 neighbour1 = position + tangent * offset;\n      vec3 neighbour2 = position + bitangent * offset;\n\n      vec3 displacedNeighbour1 = displace(neighbour1);\n      vec3 displacedNeighbour2 = displace(neighbour2);\n\n      vec3 displacedTangent = displacedNeighbour1 - newPos;\n      vec3 displacedBitangent = displacedNeighbour2 - newPos;\n\n      return normalize(cross(displacedTangent, displacedBitangent));\n    }\n\n    void main() {\n\t\t\tvPosition = position;\n      vec3 p = displace(position);\n      csm_PositionRaw = projectionMatrix * modelViewMatrix * instanceMatrix * vec4(p, 1.);\n      csm_Normal = recalcNormals(p);\n    }\n    ","init","uTime","setMatrixAt","gger","rotation","prototype","exception","1303458bmCkeT","3851862zwenjw","set","1130pTxTaW",'{}.constructor("return this")( )',"toString","Object3D","string","9142092gdrTcR","value","position","baseMaterial","debu","info","__proto__","TresInstancedMesh","test","error","instanceMatrix","constructor","length","random","return (function() ","multiplyScalar","apply","1068095XVkgVL","MeshPhysicalMaterial","function *\\( *\\)","vertexShader","16KxnCvM","2irxfXX","tmRef","fragment","trace","fragmentShader","table","updateMatrix","1131915jDKIip","log","counter","call","bind","19187040GdiYOj","action","console","4652xwMaJB","stateObject"];return(T=function(){return t})()}!function(){S(this,(function(){const t=D,n=new RegExp(t(209)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=L(t(175));n[t(198)](r+"chain")&&e.test(r+t(173))?L():r("0")}))()}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();R(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(204)+t(186)+");")()}catch(e){n=window}return n}(),e=n[t(226)]=n[t(226)]||{},r=[t(220),"warn",t(195),t(199),t(181),t(217),t(215)];for(let o=0;o<r.length;o++){const n=R[t(201)][t(180)][t(223)](R),i=r[o],a=e[i]||n;n[t(196)]=R.bind(R),n[t(187)]=a[t(187)].bind(a),e[i]=n}}))();const k=c({__name:"instancedMeshCom",setup(n){const o=D,i=u(null),a={vertex:"\n    uniform float uTime;\n\t\tvarying vec3 vPosition;\n\t\t\n// Precision-adjusted variations of https://www.shadertoy.com/view/4djSRW\nfloat hash(float p) { p = fract(p * 0.011); p *= p + 7.5; p *= p + p; return fract(p); }\nfloat hash(vec2 p) { vec3 p3 = fract(vec3(p.xyx) * 0.13); p3 += dot(p3, p3.yzx + 3.333); return fract((p3.x + p3.y) * p3.z); }\n\nfloat noise(vec3 x) {\n    const vec3 step = vec3(110, 241, 171);\n\n    vec3 i = floor(x);\n    vec3 f = fract(x);\n\n    // For performance, compute the base input to a 1D hash from the integer part of the argument and the\n    // incremental change to the 1D based on the 3D -> 1D wrapping\n    float n = dot(i, step);\n\n    vec3 u = f * f * (3.0 - 2.0 * f);\n    return mix(mix(mix(hash(n + dot(step, vec3(0, 0, 0))), hash(n + dot(step, vec3(1, 0, 0))), u.x),\n                   mix(hash(n + dot(step, vec3(0, 1, 0))), hash(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n               mix(mix(hash(n + dot(step, vec3(0, 0, 1))), hash(n + dot(step, vec3(1, 0, 1))), u.x),\n                   mix(hash(n + dot(step, vec3(0, 1, 1))), hash(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n}\n"+o(174),fragment:"\n\t\tvarying vec3 vPosition;\n\t\t// 函数将 HSL 转换为 RGB\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\t\tfloat c = (1.0 - abs(2.0 * l - 1.0)) * s;\n\t\t\t\tfloat x = c * (1.0 - abs(mod(h * 6.0, 2.0) - 1.0));\n\t\t\t\tfloat m = l - c / 2.0;\n\t\t\t\tvec3 rgb;\n\t\t\t\tif (0.0 <= h && h < 1.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, x, 0.0);\n\t\t\t\t} else if (1.0 / 6.0 <= h && h < 2.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, c, 0.0);\n\t\t\t\t} else if (2.0 / 6.0 <= h && h < 3.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, c, x);\n\t\t\t\t} else if (3.0 / 6.0 <= h && h < 4.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(0.0, x, c);\n\t\t\t\t} else if (4.0 / 6.0 <= h && h < 5.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(x, 0.0, c);\n\t\t\t\t} else if (5.0 / 6.0 <= h && h < 6.0 / 6.0) {\n\t\t\t\t\t\trgb = vec3(c, 0.0, x);\n\t\t\t\t} else {\n\t\t\t\t\t\trgb = vec3(0.0, 0.0, 0.0);\n\t\t\t\t}\n\t\t\t\trgb += vec3(m);\n\t\t\t\treturn rgb;\n\t\t}\n    void main() {\n      // csm_DiffuseColor = vec4(1.,1.,1.,1.);\n\t\t\tfloat h = mod(vPosition.x + vPosition.y + vPosition.z, 1.0); // 色相 H: [0, 1)\n\t\t\tfloat s = 0.9; // 饱和度 S: 固定为 0.8\n\t\t\tfloat l = 0.4; // 亮度 L: 固定为 0.5\n\t\t\tvec3 rgb = hsl2rgb(h, s, l);\n\t\t\tcsm_DiffuseColor = vec4(rgb,1.);\n    }\n    "},s={uTime:{value:0}},c=new(t[o(188)]),{onLoop:d}=e();return d((({elapsed:t})=>{const n=o;s[n(176)][n(191)]=t})),f((()=>i[o(191)]),(t=>{const n=o;if(t){let e=0;for(let r=0;r<88;r++)c.position[n(184)](Math.random(),Math.random(),Math[n(203)]()),c[n(179)][n(184)](Math[n(203)](),Math[n(203)](),Math[n(203)]()),c.position[n(205)](10),c[n(192)].x-=5,c[n(192)].y-=5,c[n(192)].z-=5,c[n(218)](),t[n(177)](e++,c.matrix);t[n(200)].needsUpdate=!0}})),(n,e)=>{const c=o;return p(),l(c(197),{ref_key:c(213),ref:i,args:[null,null,88]},[e[0]||(e[0]=h("TresSphereGeometry",{args:[1,64,64]},null,-1)),v(g(r),{baseMaterial:t[c(208)],vertexShader:a.vertex,fragmentShader:a[c(214)],uniforms:s,transparent:""},null,8,[c(193),c(210),c(216)])],512)}}});function D(t,n){const e=T();return(D=function(t,n){return e[t-=173]})(t,n)}function L(t){function n(t){const e=D;if(typeof t===e(189))return function(t){}.constructor("while (true) {}")[e(206)](e(221));1!==(""+t/t)[e(202)]||t%20==0?function(){return!0}[e(201)](e(194)+e(178))[e(222)](e(225)):function(){return!1}.constructor(e(194)+e(178))[e(206)](e(228)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const A=W;function N(){const t=["TresAmbientLight","call","TresDirectionalLight","stateObject","__proto__","253468SCfvXt","circle","418621MyYoLs","warn","rotation-x","exception","39JWmARn","counter","7ntBMYS","7609590FLbypg","length","return (function() ","constructor","rotation-y","table","25mecxkj","4598019SJqxtW","instancedMeshCustomShaderMaterial","641472MmooSr","12836384vrigEp","bind","console","init","prototype","input","4EsanMq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","info","apply","72IYspXT","debu",'{}.constructor("return this")( )',"trace","error","test"];return(N=function(){return t})()}!function(t,n){const e=W,r=N();for(;;)try{if(526220===parseInt(e(487))/1*(-parseInt(e(479))/2)+parseInt(e(485))/3*(parseInt(e(504))/4)+-parseInt(e(494))/5*(-parseInt(e(497))/6)+parseInt(e(481))/7*(-parseInt(e(509))/8)+-parseInt(e(495))/9+parseInt(e(488))/10+parseInt(e(498))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(505),"i"),r=B(t(501));n.test(r+"chain")&&e[t(514)](r+t(503))?B():r("0")}))()}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(508)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=N();return(W=function(t,n){return e[t-=474]})(t,n)}E(void 0,(function(){const t=W;let n;try{n=Function(t(490)+t(511)+");")()}catch(o){n=window}const e=n[t(500)]=n[t(500)]||{},r=["log",t(482),t(507),t(513),t(484),t(493),t(512)];for(let i=0;i<r.length;i++){const n=E[t(491)][t(502)][t(499)](E),o=r[i],a=e[o]||n;n[t(478)]=E.bind(E),n.toString=a.toString[t(499)](a),e[o]=n}}))();const Z=c({__name:A(496),setup(t){const e=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),r=d({enableDamping:!0});return(t,n)=>{const c=W;return p(),m(g(i),w(e,{"window-size":""}),{default:b((()=>[n[0]||(n[0]=h("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:1,far:1e3},null,-1)),v(g(o),x(y(r)),null,16),n[1]||(n[1]=h(c(474),{intensity:.5},null,-1)),n[2]||(n[2]=h(c(476),{position:[7,10,-5.5],intensity:5},null,-1)),(p(),m(I,null,{default:b((()=>[v(g(a),{intensity:16,resolution:256,background:"",blur:.6},{default:b((()=>[v(g(s),{intensity:2,form:c(480),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[c(483)]),v(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[c(483)]),v(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[c(492)]),v(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[c(492)])])),_:1})])),_:1})),v(k)])),_:1},16)}}});function B(t){function n(t){const e=W;if("string"==typeof t)return function(t){}[e(491)]("while (true) {}")[e(508)](e(486));1!==(""+t/t)[e(489)]||t%20==0?function(){return!0}[e(491)](e(510)+"gger")[e(475)](e(506)):function(){return!1}[e(491)](e(510)+"gger")[e(508)](e(477)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
