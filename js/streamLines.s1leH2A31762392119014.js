import{_ as e,K as s}from"./@tresjs.hGs-POUu1762392119014.js";import{P as a}from"./tweakpane.CqZAnw7f1762392119014.js";import"./OimoPhysicsBuffer.Bm1-uN4Y1762392119014.js";import{_ as t}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.CNrw3GKO1762392119014.js";import"./shapeConfigurator.vue_vue_type_style_index_1_scoped_abbf0cc1_lang.DZ0IZ-Ox1762392119014.js";import"./Resource.S1Cir9aE1762392119014.js";import"./PackedMipMapGenerator.vFejDEUx1762392119014.js";import{u as i}from"./utils.DK3PjDrr1762392119014.js";import{d as r,ac as l,w as o,G as n,o as p,I as m,u,r as d,g as c,b as f,e as j,h as g,ah as b,a9 as _,aa as h,m as w}from"./@vue.DQUdVfVE1762392119014.js";import{aE as v,aD as y,V as B,bA as M,a6 as S,bK as x}from"./three.CDsL_76W1762392119014.js";import{g as k}from"./utils.Dm6dbdZA1762392119014.js";import"./postprocessing.fZnJ7mZA1762392119014.js";import"./@vueuse.CnFTmRHc1762392119014.js";import"./oimophysics.CfVKSiAm1762392119014.js";import"./dither.glsl.tNAdkJUa1762392119014.js";import"./Reflector.CNoJMSWJ1762392119014.js";import"./vite-plugin-qiankun.B06WoCqG1762392119014.js";import"./utils.CNife3_q1762392119014.js";import"./object-hash.CF39HzT91762392119014.js";import"./@amap.fjyZdsU91762392119014.js";import"./jszip.LyM0NlAT1762392119014.js";import"./three-stdlib.DtFXvC-s1762392119014.js";import"./@tweenjs.C9YEcV0Y1762392119014.js";import"./utils.Cy8iL7tz1762392119014.js";import"./@fesjs.A8NDsaeg1762392119014.js";import"./vue-router.0qiUGQol1762392119014.js";import"./lodash-es.DWe8oqPO1762392119014.js";import"./pinia.CHmD3xPj1762392119014.js";import"./@qlin.y-0Z8WnK1762392119014.js";import"./@babel.BPq7uOAK1762392119014.js";import"./@floating-ui.Bhq4ibgf1762392119014.js";import"./@juggle.Vc7cP4_P1762392119014.js";import"./useTexture.Bb9SlT3X1762392119014.js";import"./three-mesh-bvh.BCkrv0811762392119014.js";import"./d3-geo.C51lZA-81762392119014.js";const T=["args"],L=["blending","map","side","alphaMap","color"],G=r({__name:"streamLine",props:{color:{default:"#2bc4dc"},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(s){let a,t;const r=s,d=([a,t]=l(()=>i("./plugins/digitalCity/image/line2.png")),a=await a,t(),a);d.needsUpdate=!0,d.wrapS=d.wrapT=v,d.repeat.set(r.fewNum,1),d.rotation=r.clockwise?0:Math.PI,d.generateMipmaps=!1,d.magFilter=y;let c=[];r.linesList.forEach(e=>{c.push((new B).fromArray(e))});const f=new M(c),{onBeforeRender:j}=e();return j(()=>{d.offset.x+=.002*r.speed}),o(()=>[r.clockwise,r.fewNum],([e,s])=>{d.rotation=e?0:Math.PI,d.repeat.set(s,1)}),(e,s)=>(p(),n("TresMesh",null,[m("TresTubeGeometry",{args:[u(f),r.tubularSegments,r.radius,r.radialSegments,r.closed]},null,8,T),m("TresMeshBasicMaterial",{blending:x,map:u(d),side:S,alphaMap:u(d),transparent:!0,color:r.color},null,8,L)]))}}),P=r({__name:"streamLines",async setup(e){let i,r;const o=d({reflectivity:.1,showGridHelper:!1,scale:5}),n=d({color:"#bd01ff",radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),v=new a;v.addBinding(n,"color",{label:"流光颜色"}),v.addBinding(n,"radius",{label:"管道半径",min:.01,max:1,step:.01}),v.addBinding(n,"speed",{label:"跑动速度",min:.1,max:10,step:.1}),v.addBinding(n,"tubularSegments",{label:"管道路径平滑",min:1,max:100,step:1}),v.addBinding(n,"radialSegments",{label:"管道壁圆润",min:1,max:20,step:1}),v.addBinding(n,"closed",{label:"闭合管道"}),v.addBinding(n,"clockwise",{label:"顺时针流动"}),v.addBinding(n,"fewNum",{label:"流线数量",min:1,max:10,step:1});const y=([i,r]=l(()=>k("./plugins/simpleGIS/json/320000_full.json")),i=await i,r(),i);return(e,a)=>{const i=c("TresCanvas");return p(),f(i,{clearColor:"#201919","window-size":""},{default:j(()=>[a[0]||(a[0]=m("TresPerspectiveCamera",{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1)),g(u(s),{enableDamping:"",autoRotate:""}),(p(),f(b,null,{default:j(()=>[g(G,_(h(n)),null,16)]),_:1})),(p(),f(b,null,{default:j(()=>[g(G,{linesList:u(y),position:[0,0,-4]},null,8,["linesList"])]),_:1})),(p(),f(b,null,{default:j(()=>[g(u(t),w({position:[0,-.5,0]},o),null,16)]),_:1}))]),_:1})}}});export{P as default};
