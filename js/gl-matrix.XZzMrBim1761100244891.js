var r=1e-6,a="undefined"!=typeof Float32Array?Float32Array:Array;function t(){var r=new a(16);return a!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function n(r,a,t){var n=a[0],u=a[1],s=a[2],e=a[3],o=a[4],f=a[5],i=a[6],v=a[7],c=a[8],h=a[9],M=a[10],l=a[11],y=a[12],q=a[13],A=a[14],b=a[15],p=t[0],F=t[1],d=t[2],m=t[3];return r[0]=p*n+F*o+d*c+m*y,r[1]=p*u+F*f+d*h+m*q,r[2]=p*s+F*i+d*M+m*A,r[3]=p*e+F*v+d*l+m*b,p=t[4],F=t[5],d=t[6],m=t[7],r[4]=p*n+F*o+d*c+m*y,r[5]=p*u+F*f+d*h+m*q,r[6]=p*s+F*i+d*M+m*A,r[7]=p*e+F*v+d*l+m*b,p=t[8],F=t[9],d=t[10],m=t[11],r[8]=p*n+F*o+d*c+m*y,r[9]=p*u+F*f+d*h+m*q,r[10]=p*s+F*i+d*M+m*A,r[11]=p*e+F*v+d*l+m*b,p=t[12],F=t[13],d=t[14],m=t[15],r[12]=p*n+F*o+d*c+m*y,r[13]=p*u+F*f+d*h+m*q,r[14]=p*s+F*i+d*M+m*A,r[15]=p*e+F*v+d*l+m*b,r}function u(r,a,t){var n,u,s,e,o,f,i,v,c,h,M,l,y=t[0],q=t[1],A=t[2];return a===r?(r[12]=a[0]*y+a[4]*q+a[8]*A+a[12],r[13]=a[1]*y+a[5]*q+a[9]*A+a[13],r[14]=a[2]*y+a[6]*q+a[10]*A+a[14],r[15]=a[3]*y+a[7]*q+a[11]*A+a[15]):(n=a[0],u=a[1],s=a[2],e=a[3],o=a[4],f=a[5],i=a[6],v=a[7],c=a[8],h=a[9],M=a[10],l=a[11],r[0]=n,r[1]=u,r[2]=s,r[3]=e,r[4]=o,r[5]=f,r[6]=i,r[7]=v,r[8]=c,r[9]=h,r[10]=M,r[11]=l,r[12]=n*y+o*q+c*A+a[12],r[13]=u*y+f*q+h*A+a[13],r[14]=s*y+i*q+M*A+a[14],r[15]=e*y+v*q+l*A+a[15]),r}function s(r,a,t){var n=t[0],u=t[1],s=t[2];return r[0]=a[0]*n,r[1]=a[1]*n,r[2]=a[2]*n,r[3]=a[3]*n,r[4]=a[4]*u,r[5]=a[5]*u,r[6]=a[6]*u,r[7]=a[7]*u,r[8]=a[8]*s,r[9]=a[9]*s,r[10]=a[10]*s,r[11]=a[11]*s,r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r}function e(a,t,n,u){var s,e,o,f,i,v,c,h,M,l,y,q,A,b,p,F,d,m,w,x,g,j,k,z,B=u[0],C=u[1],D=u[2],E=Math.sqrt(B*B+C*C+D*D);return E<r?null:(B*=E=1/E,C*=E,D*=E,s=Math.sin(n),o=1-(e=Math.cos(n)),f=t[0],i=t[1],v=t[2],c=t[3],h=t[4],M=t[5],l=t[6],y=t[7],q=t[8],A=t[9],b=t[10],p=t[11],F=B*B*o+e,d=C*B*o+D*s,m=D*B*o-C*s,w=B*C*o-D*s,x=C*C*o+e,g=D*C*o+B*s,j=B*D*o+C*s,k=C*D*o-B*s,z=D*D*o+e,a[0]=f*F+h*d+q*m,a[1]=i*F+M*d+A*m,a[2]=v*F+l*d+b*m,a[3]=c*F+y*d+p*m,a[4]=f*w+h*x+q*g,a[5]=i*w+M*x+A*g,a[6]=v*w+l*x+b*g,a[7]=c*w+y*x+p*g,a[8]=f*j+h*k+q*z,a[9]=i*j+M*k+A*z,a[10]=v*j+l*k+b*z,a[11]=c*j+y*k+p*z,t!==a&&(a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15]),a)}var o=function(r,a,t,n,u){var s=1/Math.tan(a/2);if(r[0]=s/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,null!=u&&u!==1/0){var e=1/(n-u);r[10]=(u+n)*e,r[14]=2*u*n*e}else r[10]=-1,r[14]=-2*n;return r};var f=function(r,a,t,n,u,s,e){var o=1/(a-t),f=1/(n-u),i=1/(s-e);return r[0]=-2*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*i,r[11]=0,r[12]=(a+t)*o,r[13]=(u+n)*f,r[14]=(e+s)*i,r[15]=1,r};function i(a,t,n,u){var s,e,o,f,i,v,c,h,M,l,y=t[0],q=t[1],A=t[2],b=u[0],p=u[1],F=u[2],d=n[0],m=n[1],w=n[2];return Math.abs(y-d)<r&&Math.abs(q-m)<r&&Math.abs(A-w)<r?function(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}(a):(c=y-d,h=q-m,M=A-w,s=p*(M*=l=1/Math.sqrt(c*c+h*h+M*M))-F*(h*=l),e=F*(c*=l)-b*M,o=b*h-p*c,(l=Math.sqrt(s*s+e*e+o*o))?(s*=l=1/l,e*=l,o*=l):(s=0,e=0,o=0),f=h*o-M*e,i=M*s-c*o,v=c*e-h*s,(l=Math.sqrt(f*f+i*i+v*v))?(f*=l=1/l,i*=l,v*=l):(f=0,i=0,v=0),a[0]=s,a[1]=f,a[2]=c,a[3]=0,a[4]=e,a[5]=i,a[6]=h,a[7]=0,a[8]=o,a[9]=v,a[10]=M,a[11]=0,a[12]=-(s*y+e*q+o*A),a[13]=-(f*y+i*q+v*A),a[14]=-(c*y+h*q+M*A),a[15]=1,a)}export{t as c,i as l,n as m,f as o,o as p,e as r,s,u as t};
