import{bI as t,_ as n,C as o}from"./three.8iJMi2lU1733198294833.js";import{b as r}from"./@tresjs.sklxXn0u1733198294833.js";import{d as e,b as a,a6 as c,w as i,o as s,D as u,J as f,aj as l,ak as p}from"./@vue.-THQH3GC1733198294833.js";function h(t,n){const o=m();return(h=function(t,n){return o[t-=407]})(t,n)}!function(t,n){const o=h,r=m();for(;;)try{if(197856===parseInt(o(415))/1+-parseInt(o(443))/2+parseInt(o(411))/3+parseInt(o(414))/4+parseInt(o(445))/5+-parseInt(o(434))/6+-parseInt(o(432))/7*(-parseInt(o(435))/8))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[h(421)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=h,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(456),"i"),r=_(t(430));n[t(454)](r+"chain")&&o[t(454)](r+t(441))?_():r("0")}))()}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function m(){const t=["constructor","__proto__","shadowmap_vertex","ShaderChunk","bind","test","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call",'{}.constructor("return this")( )',"defaultnormal_vertex","info","trace","table","312771OkBXuz","packing","\n\t ","649972VYDDic","61857bNJHBe","toString","length","common","\n       void main() {\n\t\t\t\t\t","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","apply","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","log","worldpos_vertex","gger","lights_pars_begin","shadowmask_pars_fragment","return (function() ","\n      \t","init","beginnormal_vertex","7280OAnLKL","\n          ","2370102aQwgAh","1928WAXiaH","exception","bsdfs","shadowmap_pars_fragment","string","\n       varying vec2 vUv;\n\t\t\t \t","input","console","171938SVzwQZ","action","497975uIyQgS","debu","project_vertex","prototype"];return(m=function(){return t})()}d(void 0,(function(){const t=h;let n;try{n=Function(t(428)+t(458)+");")()}catch(e){n=window}const o=n[t(442)]=n[t(442)]||{},r=[t(423),"warn",t(408),"error",t(436),t(410),t(409)];for(let a=0;a<r[t(417)];a++){const n=d[t(449)][t(448)].bind(d),e=r[a],c=o[e]||n;n[t(450)]=d[t(453)](d),n.toString=c[t(416)][t(453)](c),o[e]=n}}))();const v=()=>{const o=h;return o(440)+t.common+o(429)+n[o(452)][o(437)]+o(429)+n[o(452)].shadowmap_pars_vertex+o(419)+n[o(452)][o(431)]+o(433)+n[o(452)][o(407)]+o(433)+t.begin_vertex+o(433)+n[o(452)][o(447)]+o(433)+n[o(452)][o(424)]+o(433)+t[o(451)]+o(420)},w=()=>{const t=h;return t(422)+n[t(452)][t(418)]+t(413)+n[t(452)][t(412)]+"\n\t "+n[t(452)][t(437)]+"\n\t "+n[t(452)][t(426)]+t(413)+n[t(452)][t(438)]+t(413)+n[t(452)][t(427)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=h;if(typeof t===o(439))return function(t){}[o(449)]("while (true) {}")[o(421)]("counter");1!==(""+t/t)[o(417)]||t%20==0?function(){return!0}[o(449)](o(446)+o(425))[o(457)](o(444)):function(){return!1}[o(449)](o(446)+o(425)).apply(o(455)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=U;function x(){const t=["12902087fYJNec","action","fEdge","1857690EXpRbM","error","size","rotation-x","whiteFloorMesh","apply","call","66DEniHb","return (function() ","wrapS","RepeatWrapping","warn","exception","shadowColor","prototype","96pwLdPe","Color","UniformsLib","input","uColor","trace","UniformsUtils",'{}.constructor("return this")( )',"debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#999","wrapT","tmRef","init","gger","edge","info","bind","uniforms","168472hvUmEk","TresMesh","10478016UgSWLo","test","table","420tGvVlt","15USXcHJ","705929qULmkY","5238pUDxkg","string","7886QhPcpi","constructor","DoubleSide","lights","value","log","stateObject","args","__proto__","console","function *\\( *\\)"];return(x=function(){return t})()}!function(t,n){const o=U,r=x();for(;;)try{if(731120===-parseInt(o(338))/1*(parseInt(o(367))/2)+-parseInt(o(363))/3*(-parseInt(o(357))/4)+-parseInt(o(381))/5+parseInt(o(388))/6*(parseInt(o(364))/7)+parseInt(o(359))/8+-parseInt(o(365))/9*(-parseInt(o(362))/10)+-parseInt(o(378))/11)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=U,n=new RegExp(t(377)),o=new RegExp(t(347),"i"),r=E(t(351));n.test(r+"chain")&&o[t(360)](r+t(341))?E():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(389)+t(345)+");")()}catch(o){n=window}return n}(),o=n[t(376)]=n[t(376)]||{},r=[t(372),t(392),t(354),t(382),t(393),t(361),t(343)];for(let e=0;e<r.length;e++){const n=I.constructor[t(395)][t(355)](I),a=r[e],c=o[a]||n;n[t(375)]=I.bind(I),n.toString=c.toString.bind(c),o[a]=n}}))();const S=[b(384)],C=[b(374)];function U(t,n){const o=x();return(U=function(t,n){return o[t-=338]})(t,n)}const k=e({__name:b(385),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:b(348)},edge:{default:.35}},async setup(t){const e=b;let h,g;const d=t,m=a(),{map:_}=([h,g]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,g(),h);_[e(390)]=_[e(349)]=n[e(391)];const x={uniforms:n[e(344)].merge([n[e(340)][e(370)],{uTexture:{type:"t",value:_},uColor:{value:new o(d.color)},uShadowColor:{value:new(n[e(339)])(d[e(394)])},fEdge:{type:"f",value:d[e(353)]}}]),side:n[e(369)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return i((()=>d[e(353)]),(t=>{const n=e;x[n(356)][n(380)][n(371)]=t})),i((()=>d.color),(t=>{const o=e;x[o(356)][o(342)][o(371)]=new(n[o(339)])(d.color)})),i((()=>d.shadowColor),(t=>{const o=e;x[o(356)].uShadowColor[o(371)]=new(n[o(339)])(d[o(394)])})),(t,n)=>{const o=e;return s(),u(o(358),{ref_key:o(350),ref:m,"rotation-x":-Math.PI/2},[f("TresPlaneGeometry",{args:d[o(383)]},null,8,C),f("TresShaderMaterial",l(p(x)),null,16)],8,S)}}});function E(t){function n(t){const o=U;if(typeof t===o(366))return function(t){}[o(368)]("while (true) {}")[o(386)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(368)](o(346)+o(352))[o(387)](o(379)):function(){return!1}.constructor(o(346)+"gger").apply(o(373)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{k as _};
