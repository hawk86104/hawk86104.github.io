import{_ as t,cm as e,bT as i,k as n,C as s,V as o,at as r}from"./three.ewwqFbMB1726139596986.js";function a(t,e){const i=d();return(a=function(t,e){return i[t-=420]})(t,e)}const h=a;!function(t,e){const i=a,n=d();for(;;)try{if(617946===-parseInt(i(529))/1*(parseInt(i(618))/2)+-parseInt(i(619))/3*(-parseInt(i(464))/4)+parseInt(i(520))/5+parseInt(i(513))/6+parseInt(i(593))/7+-parseInt(i(626))/8+-parseInt(i(839))/9*(-parseInt(i(485))/10))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){c(this,(function(){const t=a,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(650),"i"),n=p("init");e[t(588)](n+t(849))&&i[t(588)](n+t(456))?p():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(718)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=a;let e;try{e=Function(t(797)+t(547)+");")()}catch(s){e=window}const i=e[t(701)]=e.console||{},n=[t(786),"warn","info",t(542),t(838),t(620),t(606)];for(let o=0;o<n.length;o++){const e=l[t(867)][t(441)][t(835)](l),s=n[o],r=i[s]||e;e.__proto__=l.bind(l),e[t(720)]=r[t(720)].bind(r),i[s]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===h(590)&&define[h(791)]?define(h(767),u):typeof exports!==h(427)&&"undefined"!=typeof module&&(module[h(421)]=u),u.TypedArrayHelper=function(t,e,i,n){const s=h;this[s(482)]=i||1,this[s(689)]=e||1,this[s(666)]=t||Float32Array,this[s(818)]=new t(e*this[s(482)]),this.indexOffset=n||0},u[h(714)][h(867)]=u[h(714)],u[h(714)][h(441)][h(622)]=function(t,e){const i=h,n=this[i(818)].length;return!e&&(t*=this[i(482)]),t<n?this[i(779)](t):t>n?this[i(462)](t):void console[i(631)](i(455),t+".",i(667))},u.TypedArrayHelper[h(441)][h(779)]=function(t){const e=h;return this.array=this[e(818)][e(858)](0,t),this.size=t,this},u[h(714)][h(441)][h(462)]=function(t){const e=h,i=this.array,n=new(this[e(666)])(t);return n[e(607)](i),this[e(818)]=n,this[e(689)]=t,this},u[h(714)][h(441)][h(693)]=function(t,e){const i=h;t*=this[i(482)],e*=this[i(482)];const n=[],s=this[i(818)],o=s.length;for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(695)](s[r]);return this[i(597)](0,n),this},u.TypedArrayHelper[h(441)][h(597)]=function(t,e){const i=h,n=t+e[i(827)];return n>this[i(818)][i(827)]?this[i(462)](n):n<this[i(818)].length&&this.shrink(n),this[i(818)][i(607)](e,this[i(857)]+t),this},u[h(714)][h(441)][h(431)]=function(t,e){return this.setVec2Components(t,e.x,e.y)},u[h(714)].prototype[h(798)]=function(t,e,i){const n=h,s=this[n(818)],o=this[n(857)]+t*this[n(482)];return s[o]=e,s[o+1]=i,this},u.TypedArrayHelper.prototype[h(781)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},u.TypedArrayHelper[h(441)][h(708)]=function(t,e,i,n){const s=h,o=this.array,r=this[s(857)]+t*this[s(482)];return o[r]=e,o[r+1]=i,o[r+2]=n,this},u[h(714)][h(441)][h(819)]=function(t,e){return this[h(869)](t,e.x,e.y,e.z,e.w)},u.TypedArrayHelper[h(441)][h(869)]=function(t,e,i,n,s){const o=h,r=this[o(818)],a=this[o(857)]+t*this.componentSize;return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},u[h(714)][h(441)][h(559)]=function(t,e){const i=h;return this[i(597)](this[i(857)]+t*this[i(482)],e[i(804)])},u.TypedArrayHelper[h(441)][h(739)]=function(t,e){const i=h;return this.setFromArray(this[i(857)]+t*this[i(482)],e[i(804)])},u[h(714)][h(441)][h(694)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},u.TypedArrayHelper[h(441)][h(629)]=function(t,e){const i=h;return this.array[this[i(857)]+t*this[i(482)]]=e,this},u[h(714)].prototype[h(476)]=function(t){const e=h;return this[e(818)][this[e(857)]+t]},u.TypedArrayHelper[h(441)][h(574)]=function(t){const e=h;return this[e(818)][e(858)](this.indexOffset+t*this[e(482)])},u[h(641)]=function(t,e,i){const n=h,s=u[n(641)][n(722)];this.type=typeof t===n(518)&&s[n(833)](t)?t:"f",this[n(482)]=s[this.type],this.arrayType=i||Float32Array,this[n(749)]=null,this[n(737)]=null,this[n(817)]=!!e,this[n(423)]=0,this[n(736)]=0},u[h(641)][h(867)]=u.ShaderAttribute,u[h(641)][h(722)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[h(641)][h(441)][h(706)]=function(t,e){const i=h;this[i(423)]=Math[i(809)](t*this.componentSize,this[i(423)]*this.componentSize),this.updateMax=Math[i(449)](e*this[i(482)],this.updateMax*this.componentSize)},u[h(641)][h(441)][h(424)]=function(){const t=h,e=this[t(737)],i=e.updateRange;i.offset=this[t(423)],i.count=Math.min(this.updateMax-this.updateMin+this[t(482)],this[t(749)][t(818)][t(827)]),e.needsUpdate=!0},u[h(641)].prototype[h(740)]=function(){const t=h;this[t(423)]=0,this[t(736)]=0},u[h(641)].prototype[h(604)]=function(){const e=h;this[e(737)].usage=this.dynamicBuffer?t[e(605)]:t[e(692)]},u[h(641)][h(441)][h(693)]=function(t,e){const i=h;this[i(749)].splice(t,e),this[i(795)]()},u[h(641)][h(441)].forceUpdateAll=function(){const e=h;this[e(737)][e(818)]=this[e(749)][e(818)],this[e(737)][e(823)][e(760)]=0,this[e(737)][e(823)][e(550)]=-1,this[e(737)].usage=t[e(692)],this[e(737)][e(730)]=!0},u.ShaderAttribute.prototype[h(480)]=function(t){const e=h;null!==this[e(749)]&&this[e(749)].size===t*this[e(482)]||(null!==this[e(749)]&&this[e(749)][e(689)]!==t?this.typedArray[e(622)](t):null===this.typedArray&&(this[e(749)]=new(u[e(714)])(this[e(747)],t,this[e(482)])))},u[h(641)][h(441)][h(771)]=function(i){const n=h;if(this[n(480)](i),null!==this[n(737)])return this.bufferAttribute[n(818)]=this[n(749)][n(818)],parseFloat(t[n(586)])>=81&&(this[n(737)][n(550)]=this.bufferAttribute[n(818)][n(827)]/this[n(737)][n(688)]),void(this[n(737)].needsUpdate=!0);this[n(737)]=new(t[n(444)])(this[n(749)][n(818)],this[n(482)]),this[n(737)][n(705)]=this[n(817)]?t[n(605)]:e},u.ShaderAttribute[h(441)].getLength=function(){const t=h;return null===this.typedArray?0:this.typedArray[t(818)][t(827)]},u[h(729)]={defines:[h(499),"#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:[h(761),"uniform float runTime;",h(457),h(509),h(812)][h(430)]("\n"),attributes:[h(861),h(602),h(726),h(428),h(646),h(851),"attribute vec4 angle;",h(778),h(677)][h(430)]("\n"),varyings:[h(578),h(879),h(794),"#endif",h(881),"    varying vec4 vSpriteSheet;",h(634)][h(430)]("\n"),branchAvoidanceFunctions:[h(571),h(776),"}",h(563),h(472),"}",h(674),h(731),"}",h(725),"  return 1.0 - when_lt(x, y);","}",h(583),"  return 1.0 - when_gt(x, y);","}",h(670),h(468),"}",h(451),h(816),"}"][h(430)]("\n"),unpackColor:[h(852),h(493),h(657),h(572),"   float b = mod( hex, PACKED_COLOR_SIZE );",h(815),h(837),h(876),"   return c;","}"][h(430)]("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {","   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",h(572),h(756),h(815),h(837),h(876),h(866),h(473),h(877),"}"].join("\n"),floatOverLifetime:[h(700),h(743),h(460),h(553),h(664),h(751),"",h(872),h(489),"       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",h(561),h(564),"","    return value;","}"][h(430)]("\n"),colorOverLifetime:[h(769),"    vec3 value = vec3( 0.0 );",h(625),h(579),h(532),"    return value;","}"][h(430)]("\n"),paramFetchingFunctions:[h(807),"   return params.x;","}",h(582),h(651),"}",h(453),h(826),"}",h(814),h(560),"}"][h(430)]("\n"),forceFetchingFunctions:[h(600),h(871),"}",h(800),"   return velocity * age;","}",h(793),h(448),"}"].join("\n"),rotationFunctions:[h(531),h(783),h(784),h(715),h(802),h(510),"","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,",h(799),h(507),h(422),h(633),"",h(544),h(789),h(556),h(717),"",h(758),h(638),"      vec3 translated;","      mat4 rotationMatrix;",h(496),h(568),h(698),"      translated = rotationCenter - pos;",h(481),h(459),h(633),"#endif"][h(430)]("\n"),rotateTexture:[h(576),"",h(765),h(465),h(863),h(570),h(552),h(655),h(562),"",h(534),h(484),h(702),"        float columnNorm = vSpriteSheet.z;",h(685),h(750),"        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);",h(562),"",h(639)][h(430)]("\n")},u[h(796)]={vertex:[u.shaderChunks.defines,u[h(729)][h(447)],u.shaderChunks[h(611)],u[h(729)][h(742)],t[h(596)][h(663)],t[h(596)].logdepthbuf_pars_vertex,t[h(596)].fog_pars_vertex,u.shaderChunks[h(541)],u.shaderChunks[h(575)],u[h(729)].unpackRotationAxis,u.shaderChunks[h(828)],u[h(729)][h(660)],u[h(729)][h(543)],u[h(729)][h(445)],u[h(729)].rotationFunctions,h(682),"    highp float age = getAge();",h(691),h(522),h(519),h(832),"    #ifdef SHOULD_WIGGLE_PARTICLES",h(713),"        float wiggleSin = isAlive * sin( wiggleAmount );",h(821),"    #endif",h(536),h(721),h(643),h(598),h(539),h(624),"    force *= drag;",h(549),h(426),h(703),h(436),h(724),h(681),h(562),h(466),h(521),h(562),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",h(770),"    #ifdef HAS_PERSPECTIVE",h(500),"    #else",h(609),h(562),h(635),h(608),h(420),h(599),h(486),h(454),"           unpackColor( color.z ),","           unpackColor( color.w )",h(785),"    #else","       vec3 c = vec3(1.0);",h(562),h(757),h(841),h(765),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",h(562),h(534),h(450),"        float framesY = textureAnimation.y;","        float loopCount = textureAnimation.w;",h(834),h(516),"        float column = floor(mod( frameNumber, framesX ));",h(873),"        float columnNorm = column / framesX;",h(505),h(690),h(647),"        vSpriteSheet.z = columnNorm;",h(533),h(562),"    gl_PointSize = pointSizePerspective;","    gl_Position = projectionMatrix * mvPosition;",t[h(596)].logdepthbuf_vertex,i[h(752)],"}"][h(430)]("\n"),fragment:[u.shaderChunks.uniforms,t[h(596)][h(663)],t[h(596)][h(498)],i.logdepthbuf_pars_fragment,u[h(729)][h(742)],u[h(729)][h(541)],h(682),"    vec3 outgoingLight = vColor.xyz;",h(859),h(728),h(438),h(562),u[h(729)][h(741)],t[h(596)].logdepthbuf_fragment,h(675),h(860),i.fog_fragment,"}"][h(430)]("\n")},u[h(825)]={types:{BOOLEAN:h(665),STRING:h(518),NUMBER:h(864),OBJECT:h(642)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){if(Array[h(671)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=h;if(Array[n(671)](t)){for(let s=t[n(827)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=h;e=e||3,i=i||3,!1===Array[n(671)](t[n(540)])&&(t[n(540)]=[t._value]),!1===Array[n(671)](t[n(517)])&&(t[n(517)]=[t[n(517)]]);const s=this[n(801)](t._value.length,e,i),o=this[n(801)](t._spread[n(827)],e,i),r=Math[n(449)](s,o);t._value.length!==r&&(t._value=this[n(495)](t._value,r)),t[n(517)][n(827)]!==r&&(t._spread=this[n(495)](t[n(517)],r))},interpolateArray(t,e){const i=h,n=t[i(827)],s=[typeof t[0][i(581)]===i(590)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math.floor(e),a=Math[i(469)](e),h=e-n;s[r]=this[i(584)](t[n],t[a],h)}return s[i(695)](typeof t[n-1][i(581)]===i(590)?t[n-1][i(581)]():t[n-1]),s},clamp:(t,e,i)=>Math.max(e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[h(530)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,o){const r=h;let a,c=this[r(745)];return typeof e===c.NUMBER&&typeof i===c[r(585)]?e+(i-e)*o:e instanceof n&&i instanceof t[r(659)]?(a=e[r(581)](),a.x=this.lerp(e.x,i.x,o),a.y=this[r(555)](e.y,i.y,o),a):e instanceof t[r(432)]&&i instanceof t[r(432)]?(a=e[r(581)](),a.x=this[r(555)](e.x,i.x,o),a.y=this[r(555)](e.y,i.y,o),a.z=this[r(555)](e.z,i.z,o),a):e instanceof t[r(623)]&&i instanceof t[r(623)]?(a=e[r(581)](),a.x=this[r(555)](e.x,i.x,o),a.y=this[r(555)](e.y,i.y,o),a.z=this[r(555)](e.z,i.z,o),a.w=this.lerp(e.w,i.w,o),a):e instanceof s&&i instanceof t[r(594)]?(a=e[r(581)](),a.r=this.lerp(e.r,i.r,o),a.g=this[r(555)](e.g,i.g,o),a.b=this.lerp(e.b,i.b,o),a):void console.warn("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=h;let n=0;return 0===e?t:(n=Math[i(525)](t)%e,0===n?t:t<0?-(Math[i(525)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[h(530)]()-.5),randomVector3(t,e,i,n,s){const o=h;let r=i.x+(Math[o(530)]()*n.x-.5*n.x),a=i.y+(Math[o(530)]()*n.y-.5*n.y),c=i.z+(Math[o(530)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(656)](r,s.x),a=.5*-s.y+this[o(656)](a,s.y),c=.5*-s.z+this[o(656)](c,s.z)),t[o(749)][o(708)](e,r,a,c)},randomColor(t,e,i,n){const s=h;let o=i.r+Math[s(530)]()*n.x,r=i.g+Math[s(530)]()*n.y,a=i.b+Math[s(530)]()*n.z;o=this[s(801)](o,0,1),r=this[s(801)](r,0,1),a=this[s(801)](a,0,1),t.typedArray[s(708)](e,o,r,a)},randomColorAsHex:function(){const e=h,i=new(t[e(594)]);return function(t,n,s,o){const r=e,a=s[r(827)],h=[];for(let e=0;e<a;++e){const t=o[e];i[r(467)](s[e]),i.r+=Math[r(530)]()*t.x-.5*t.x,i.g+=Math[r(530)]()*t.y-.5*t.y,i.b+=Math[r(530)]()*t.z-.5*t.z,i.r=this[r(801)](i.r,0,1),i.g=this[r(801)](i.g,0,1),i.b=this[r(801)](i.b,0,1),h.push(i[r(452)]())}t.typedArray[r(869)](n,h[0],h[1],h[2],h[3])}}(),randomVector3OnLine(t,e,i,n){const s=h,o=i.clone();o[s(555)](n,Math[s(530)]()),t[s(749)][s(708)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=h;let l=2*Math[c(530)]()-1,u=6.2832*Math.random(),f=Math.sqrt(1-l*l),p=this[c(653)](n,s),d=0,m=0,g=0;r&&(p=Math[c(645)](p/r)*r),d=f*Math[c(846)](u)*p,m=f*Math[c(777)](u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(749)][c(708)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=h;let c=6.2832*Math[a(530)](),l=Math[a(525)](this[a(653)](n,s)),u=0,f=0,p=0;r&&(l=Math[a(645)](l/r)*r),u=Math[a(846)](c)*l,f=Math[a(777)](c)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[a(749)][a(708)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=h,i=new(t[e(432)]);return function(t,n,s,o,r,a,h,c){const l=e;i[l(467)](a),i.x-=s,i.y-=o,i.z-=r,i[l(662)]()[l(874)](-this.randomFloat(h,c)),t[l(749)][l(708)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=h,i=new(t[e(432)]);return function(t,n,s,o,r,a,h,c){const l=e;i[l(467)](a),i.x-=s,i.y-=o,i.z-=r,i[l(662)]()[l(874)](-this[l(653)](h,c)),t[l(749)].setVec3Components(n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=h,i=new(t[e(432)]),n=new(t[e(432)]),s=new(t[e(594)]),r=new o(1,1,1);return function(t,o){const a=e;return i[a(467)](t).normalize(),n[a(467)](o)[a(662)](),i.x+=.5*-o.x+Math[a(530)]()*o.x,i.y+=.5*-o.y+Math[a(530)]()*o.y,i.z+=.5*-o.z+Math[a(530)]()*o.z,i[a(662)]()[a(738)](r)[a(874)](.5),s.setRGB(i.x,i.y,i.z),s[a(452)]()}}()},u[h(847)]=function(e){const i=h,n=u[i(825)],o=n[i(745)];(e=n[i(603)](e,o[i(673)],{}))[i(661)]=n[i(603)](e[i(661)],o[i(673)],{}),this[i(637)]=t[i(803)][i(875)](),this[i(806)]=n.ensureTypedArg(e[i(806)],o.NUMBER,.016),this[i(661)]=n[i(491)](e[i(661)][i(775)],t[i(830)],null),this.textureFrames=n.ensureInstanceOf(e[i(661)].frames,t[i(659)],new(t[i(659)])(1,1)),this.textureFrameCount=n[i(603)](e[i(661)].frameCount,o[i(585)],this[i(712)].x*this[i(712)].y),this[i(479)]=n[i(603)](e.texture[i(515)],o[i(585)],1),this[i(712)][i(449)](new(t[i(659)])(1,1)),this[i(862)]=n.ensureTypedArg(e[i(862)],o[i(764)],!0),this[i(744)]=n[i(603)](e.colorize,o[i(764)],!0),this[i(640)]=n[i(603)](e.maxParticleCount,o.NUMBER,null),this[i(853)]=n[i(603)](e[i(853)],o.NUMBER,t[i(733)]),this[i(551)]=n[i(603)](e[i(551)],o[i(764)],!0),this[i(537)]=parseFloat(n[i(603)](e[i(537)],o.NUMBER,0)),this[i(506)]=n[i(603)](e.depthWrite,o.BOOLEAN,!1),this[i(565)]=n[i(603)](e[i(565)],o.BOOLEAN,!0),this[i(711)]=n[i(603)](e[i(711)],o[i(764)],!0),this[i(523)]=n[i(603)](e[i(523)],o[i(585)],300),this[i(446)]=[],this.emitterIDs=[],this._pool=[],this[i(511)]=null,this._createNewWhenPoolEmpty=0,this[i(668)]=!1,this[i(754)]=!1,this[i(672)]=0,this.uniforms={tex:{type:"t",value:this[i(661)]},textureAnimation:{type:"v4",value:new r(this[i(712)].x,this[i(712)].y,this[i(843)],Math[i(449)](Math[i(525)](this[i(479)]),1))},fogColor:{type:"c",value:this.fog?new s:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(523)]}},this[i(548)]={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this[i(744)],VALUE_OVER_LIFETIME_LENGTH:u.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(712)].x>1||this[i(712)].y>1},this[i(611)]={position:new u.ShaderAttribute("v3",!0),acceleration:new u.ShaderAttribute("v4",!0),velocity:new(u[i(641)])("v3",!0),rotation:new u.ShaderAttribute("v4",!0),rotationCenter:new(u[i(641)])("v3",!0),params:new u.ShaderAttribute("v4",!0),size:new(u[i(641)])("v4",!0),angle:new(u[i(641)])("v4",!0),color:new u.ShaderAttribute("v4",!0),opacity:new(u[i(641)])("v4",!0)},this.attributeKeys=Object[i(610)](this[i(611)]),this[i(613)]=this[i(850)][i(827)],this.material=new(t[i(644)])({uniforms:this[i(447)],vertexShader:u[i(796)].vertex,fragmentShader:u[i(796)].fragment,blending:this.blending,transparent:this.transparent,alphaTest:this[i(537)],depthWrite:this[i(506)],depthTest:this[i(565)],defines:this[i(548)],fog:this.fog}),this[i(648)]=new(t[i(442)]),this.mesh=new(t[i(433)])(this[i(648)],this[i(774)]),null===this[i(640)]&&console[i(490)](i(763))},u.Group[h(867)]=u[h(847)],u[h(847)][h(441)][h(707)]=function(){const t=h;let e,i=this.emitters,n=i.length-1,s=this[t(548)];for(;n>=0;--n)e=i[n],!s[t(567)]&&(s.SHOULD_ROTATE_TEXTURE=s[t(497)]||!!Math[t(449)](Math.max[t(718)](null,e[t(762)][t(775)]),Math[t(449)][t(718)](null,e[t(762)][t(566)]))),s[t(526)]=s[t(526)]||!!Math[t(449)](e[t(615)][t(762)],e.rotation[t(854)]),s[t(477)]=s[t(477)]||!!Math[t(449)](e[t(870)][t(775)],e[t(870)].spread);this[t(774)][t(730)]=!0},u[h(847)].prototype[h(589)]=function(){const t=h;let e,i,n=this[t(611)],s=this.geometry,o=s[t(611)];for(const r in n)n[t(833)](r)&&(e=n[r],i=o[r],i?i[t(818)]=e[t(749)][t(818)]:s[t(527)](r,e[t(737)]),e[t(737)][t(730)]=!0);this[t(648)][t(474)](0,this[t(672)])},u.Group.prototype[h(686)]=function(t){const e=h;if(t instanceof u[e(679)]==!1)return void console.error(e(844),t);if(this.emitterIDs[e(790)](t[e(637)])>-1)return void console[e(542)](e(687));if(null!==t[e(628)])return void console[e(542)](e(538));const i=this[e(611)],n=this[e(672)],s=n+t[e(672)];this[e(672)]=s,null!==this[e(640)]&&this[e(672)]>this[e(640)]&&console[e(490)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(672)],e(616),this[e(640)]),t[e(435)](t[e(831)][e(540)]+t[e(831)][e(517)]),t[e(704)](this[e(850)]),t[e(494)](n),t.group=this,t[e(611)]=this[e(611)];for(const o in i)i.hasOwnProperty(o)&&i[o][e(771)](null!==this[e(640)]?this[e(640)]:this[e(672)]);for(let o=n;o<s;++o)t[e(577)](o),t._assignForceValue(o,"velocity"),t._assignForceValue(o,"acceleration"),t[e(483)](o,e(697)),t[e(483)](o,e(689)),t[e(475)](o),t[e(488)](o),t[e(735)](o),t[e(748)](o);return this[e(589)](),this.emitters[e(695)](t),this[e(443)].push(t.uuid),this[e(707)](t),this[e(774)][e(730)]=!0,this.geometry[e(730)]=!0,this[e(668)]=!0,this},u[h(847)][h(441)][h(545)]=function(t){const e=h,i=this.emitterIDs[e(790)](t.uuid);if(t instanceof u.Emitter==!1)return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console.error(e(492));const n=t.attributeOffset,s=n+t[e(672)],o=this.attributes[e(782)][e(749)];for(let r=n;r<s;++r)o[e(818)][4*r]=0,o[e(818)][4*r+1]=0;this.emitters[e(693)](i,1),this[e(443)][e(693)](i,1);for(const r in this[e(611)])this[e(611)].hasOwnProperty(r)&&this.attributes[r][e(693)](n,s);this[e(672)]-=t.particleCount,t._onRemove(),this[e(668)]=!0},u[h(847)][h(441)][h(734)]=function(){const t=h,e=this[t(528)],i=this[t(535)];if(e[t(827)])return e.pop();if(i){const e=new u.Emitter(this._poolCreationSettings);return this[t(686)](e),e}return null},u[h(847)][h(441)].releaseIntoPool=function(t){const e=h;if(t instanceof u.Emitter!=!1)return t[e(595)](),this[e(528)].unshift(t),this;console[e(542)](e(855),t)},u[h(847)].prototype[h(470)]=function(){return this[h(528)]},u[h(847)][h(441)][h(808)]=function(t,e,i){const n=h;let s;this[n(511)]=e,this[n(535)]=!!i;for(let o=0;o<t;++o)s=Array[n(671)](e)?new u.Emitter(e[o]):new(u[n(679)])(e),this[n(686)](s),this[n(865)](s);return this},u[h(847)].prototype[h(829)]=function(e){const i=h,n=this[i(734)](),s=this;if(null!==n)return e instanceof t[i(432)]&&(n.position.value[i(467)](e),n[i(546)].value=n[i(546)][i(775)]),n.enable(),setTimeout((()=>{const t=i;n[t(569)](),s[t(865)](n)}),1e3*Math[i(449)](n.duration,n[i(831)][i(775)]+n[i(831)][i(566)])),this;console[i(786)](i(684))},u[h(847)][h(441)][h(845)]=function(t,e){const i=h;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(829)](e);else this[i(829)](e);return this},u[h(847)][h(441)][h(636)]=function(t){const e=h;this.uniforms.runTime.value+=t,this[e(447)][e(612)][e(775)]=t},u[h(847)][h(441)][h(842)]=function(){const t=h;let e=this.attributeKeys,i=this[t(613)]-1,n=this[t(611)];for(;i>=0;--i)n[e[i]].resetUpdateRange()},u[h(847)][h(441)][h(792)]=function(t){const e=h;let i,n,s,o=this[e(850)],r=this[e(613)]-1,a=this.attributes,c=t[e(755)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(706)](n.min,n[e(449)]),s[e(424)]()},u[h(847)][h(441)].tick=function(t){const e=h;var i=this[e(446)],n=i[e(827)],s=t||this[e(806)],o=this[e(850)],r=this[e(611)];if(this[e(636)](s),this._resetBufferRanges(),0!==n||!1!==this[e(668)]||!1!==this[e(754)]){for(var a,c=0;c<n;++c)(a=i[c])[e(732)](s),this[e(792)](a);if(!0===this[e(754)]){for(c=this[e(613)]-1;c>=0;--c)r[o[c]].resetDynamic();this[e(754)]=!1}if(!0===this._attributesNeedRefresh){for(c=this.attributeCount-1;c>=0;--c)r[o[c]][e(795)]();this[e(668)]=!1,this[e(754)]=!0}}},u[h(847)][h(441)].dispose=function(){const t=h;return this[t(648)][t(810)](),this[t(774)][t(810)](),this},u[h(679)]=function(e){const i=h,n=u.utils,s=n[i(745)],r=u.valueOverLifetimeLength;(e=n.ensureTypedArg(e,s[i(673)],{}))[i(546)]=n.ensureTypedArg(e[i(546)],s[i(673)],{}),e[i(558)]=n[i(603)](e[i(558)],s.OBJECT,{}),e[i(766)]=n[i(603)](e.acceleration,s[i(673)],{}),e.radius=n.ensureTypedArg(e[i(461)],s.OBJECT,{}),e[i(434)]=n[i(603)](e[i(434)],s[i(673)],{}),e[i(615)]=n[i(603)](e[i(615)],s[i(673)],{}),e[i(669)]=n[i(603)](e.color,s[i(673)],{}),e[i(697)]=n[i(603)](e[i(697)],s.OBJECT,{}),e[i(689)]=n[i(603)](e.size,s[i(673)],{}),e[i(762)]=n[i(603)](e.angle,s[i(673)],{}),e[i(870)]=n[i(603)](e[i(870)],s[i(673)],{}),e[i(831)]=n[i(603)](e[i(831)],s.OBJECT,{}),e[i(632)]&&console[i(490)](i(840)),this.uuid=t[i(803)].generateUUID(),this.type=n.ensureTypedArg(e.type,s.NUMBER,u[i(617)][i(504)]),this[i(546)]={_value:n[i(491)](e.position[i(775)],o,new(t[i(432)])),_spread:n[i(491)](e[i(546)][i(566)],t[i(432)],new(t[i(432)])),_spreadClamp:n[i(491)](e[i(546)].spreadClamp,t[i(432)],new(t[i(432)])),_distribution:n[i(603)](e[i(546)][i(471)],s.NUMBER,this[i(630)]),_randomise:n[i(603)](e[i(546)][i(478)],s.BOOLEAN,!1),_radius:n[i(603)](e[i(546)][i(461)],s[i(585)],10),_radiusScale:n[i(491)](e[i(546)][i(772)],t[i(432)],new(t[i(432)])(1,1,1)),_distributionClamp:n[i(603)](e[i(546)][i(503)],s[i(585)],0)},this[i(558)]={_value:n[i(491)](e.velocity[i(775)],t[i(432)],new(t[i(432)])),_spread:n.ensureInstanceOf(e[i(558)][i(566)],t[i(432)],new(t[i(432)])),_distribution:n[i(603)](e[i(558)].distribution,s[i(585)],this.type),_randomise:n[i(603)](e[i(546)][i(478)],s[i(764)],!1)},this[i(766)]={_value:n[i(491)](e[i(766)][i(775)],o,new(t[i(432)])),_spread:n[i(491)](e[i(766)][i(566)],o,new(t[i(432)])),_distribution:n.ensureTypedArg(e[i(766)][i(471)],s.NUMBER,this[i(630)]),_randomise:n[i(603)](e[i(546)][i(478)],s[i(764)],!1)},this[i(434)]={_value:n.ensureTypedArg(e.drag.value,s[i(585)],0),_spread:n[i(603)](e[i(434)][i(566)],s[i(585)],0),_randomise:n.ensureTypedArg(e.position[i(478)],s.BOOLEAN,!1)},this.wiggle={_value:n.ensureTypedArg(e[i(870)][i(775)],s[i(585)],0),_spread:n[i(603)](e[i(870)].spread,s[i(585)],0)},this[i(615)]={_axis:n[i(491)](e.rotation[i(848)],t[i(432)],new o(0,1,0)),_axisSpread:n[i(491)](e[i(615)][i(580)],o,new(t[i(432)])),_angle:n[i(603)](e[i(615)][i(762)],s[i(585)],0),_angleSpread:n[i(603)](e[i(615)].angleSpread,s.NUMBER,0),_static:n[i(603)](e[i(615)][i(780)],s[i(764)],!1),_center:n.ensureInstanceOf(e.rotation.center,t[i(432)],this[i(546)]._value[i(581)]()),_randomise:n[i(603)](e.position[i(478)],s[i(764)],!1)},this[i(831)]={_value:n[i(603)](e.maxAge[i(775)],s[i(585)],2),_spread:n[i(603)](e[i(831)][i(566)],s.NUMBER,0)},this[i(669)]={_value:n[i(709)](e.color[i(775)],t[i(594)],new(t[i(594)])),_spread:n[i(709)](e[i(669)][i(566)],t[i(432)],new(t[i(432)])),_randomise:n[i(603)](e.position[i(478)],s[i(764)],!1)},this[i(697)]={_value:n[i(458)](e.opacity[i(775)],s[i(585)],1),_spread:n.ensureArrayTypedArg(e[i(697)].spread,s.NUMBER,0),_randomise:n[i(603)](e[i(546)][i(478)],s[i(764)],!1)},this[i(689)]={_value:n.ensureArrayTypedArg(e[i(689)][i(775)],s[i(585)],1),_spread:n[i(458)](e[i(689)][i(566)],s[i(585)],0),_randomise:n.ensureTypedArg(e[i(546)][i(478)],s[i(764)],!1)},this.angle={_value:n.ensureArrayTypedArg(e.angle[i(775)],s[i(585)],0),_spread:n.ensureArrayTypedArg(e.angle.spread,s[i(585)],0),_randomise:n.ensureTypedArg(e.position.randomise,s.BOOLEAN,!1)},this[i(672)]=n[i(603)](e[i(672)],s[i(585)],100),this[i(680)]=n[i(603)](e.duration,s[i(585)],null),this[i(723)]=n[i(603)](e[i(723)],s[i(764)],!1),this[i(676)]=n[i(603)](e.activeMultiplier,s[i(585)],1),this[i(824)]=n[i(603)](e.direction,s[i(585)],1),this[i(524)]=n[i(603)](e[i(524)],s[i(764)],!0),this[i(856)]=0,this[i(805)]=0,this[i(429)]=0,this.attributeEnd=0,this[i(621)]=0,this[i(592)]=0,this[i(628)]=null,this[i(611)]=null,this[i(787)]=null,this[i(759)]={position:n[i(603)](e[i(546)][i(478)],s[i(764)],!1)||n[i(603)](e[i(461)].randomise,s.BOOLEAN,!1),velocity:n[i(603)](e.velocity[i(478)],s[i(764)],!1),acceleration:n[i(603)](e[i(766)][i(478)],s.BOOLEAN,!1)||n.ensureTypedArg(e.drag[i(478)],s[i(764)],!1),rotation:n.ensureTypedArg(e[i(615)][i(478)],s.BOOLEAN,!1),rotationCenter:n[i(603)](e[i(615)][i(478)],s[i(764)],!1),size:n.ensureTypedArg(e[i(689)][i(478)],s[i(764)],!1),color:n[i(603)](e[i(669)][i(478)],s[i(764)],!1),opacity:n[i(603)](e.opacity[i(478)],s[i(764)],!1),angle:n[i(603)](e.angle[i(478)],s[i(764)],!1)},this[i(788)]={},this[i(614)]={},this[i(463)]={maxAge:i(782),position:"position",velocity:i(558),acceleration:i(766),drag:i(766),wiggle:"params",rotation:i(615),size:i(689),color:i(669),opacity:i(697),angle:i(762)};for(const t in this[i(463)])this[i(463)][i(833)](t)&&(this[i(614)][this[i(463)][t]]=0,this[i(788)][this[i(463)][t]]=!1,this._createGetterSetters(this[t],t));this[i(755)]={},this.attributeKeys=null,this[i(613)]=0,n[i(880)](this.color,r,r),n[i(880)](this.opacity,r,r),n.ensureValueOverLifetimeCompliance(this[i(689)],r,r),n[i(880)](this[i(762)],r,r)},u[h(679)][h(867)]=u.Emitter,u[h(679)][h(441)][h(557)]=function(t,e){const i=h,n=this;for(const s in t)if(t[i(833)](s)){const o=s[i(601)]("_","");Object[i(836)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=a,o=n[s(463)][e],r=this[t],h=u.valueOverLifetimeLength;t===s(746)?(n[s(788)][s(811)]=!0,n.updateCounts[s(811)]=0):t===s(773)?n.resetFlags[o]=i:(n[s(788)][o]=!0,n.updateCounts[o]=0),n[s(628)][s(707)](),this[t]=i,Array[s(671)](r)&&u[s(825)][s(880)](n[e],h,h)}}(s)})}},u.Emitter[h(441)][h(704)]=function(t){const e=h;this[e(850)]=t,this[e(613)]=t[e(827)];for(let i=this[e(613)]-1;i>=0;--i)this[e(755)][t[i]]={min:Number[e(658)],max:Number.NEGATIVE_INFINITY}},u[h(679)][h(441)][h(435)]=function(t){const e=h,i=this[e(672)];this.duration?this.particlesPerSecond=i/(t<this[e(680)]?t:this[e(680)]):this[e(856)]=i/t},u[h(679)][h(441)][h(494)]=function(t){const e=h;this[e(429)]=t,this.activationIndex=t,this.activationEnd=t+this[e(672)]},u[h(679)][h(441)]._assignValue=function(t,e){const i=h;switch(t){case i(546):this._assignPositionValue(e);break;case i(558):case"acceleration":this._assignForceValue(e,t);break;case i(689):case i(697):this._assignAbsLifetimeValue(e,t);break;case i(762):this[i(475)](e);break;case i(782):this[i(735)](e);break;case i(615):this[i(488)](e);break;case i(669):this[i(748)](e)}},u.Emitter[h(441)][h(577)]=function(t){const e=h,i=u[e(617)],n=u[e(825)],s=this[e(546)],o=this[e(611)][e(546)],r=s[e(540)],a=s[e(517)];switch(s[e(425)]){case i[e(504)]:n.randomVector3(o,t,r,a,s[e(710)]);break;case i.SPHERE:n[e(683)](o,t,r,s[e(654)],s[e(517)].x,s._radiusScale,s[e(710)].x,s[e(820)]||this.particleCount);break;case i[e(487)]:n[e(727)](o,t,r,s._radius,s[e(517)].x,s[e(554)],s[e(710)].x);break;case i.LINE:n.randomVector3OnLine(o,t,r,a)}},u[h(679)][h(441)][h(649)]=function(t,e){const i=h;let n,s,o,r,a,c=u[i(617)],l=u[i(825)],f=this[e],p=f[i(540)],d=f[i(517)];switch(f[i(425)]){case c[i(504)]:l[i(514)](this.attributes[e],t,p,d);break;case c.SPHERE:n=this.attributes[i(546)][i(749)][i(818)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l.randomDirectionVector3OnSphere(this[i(611)][e],t,s,o,r,this.position[i(540)],f[i(540)].x,f[i(517)].x);break;case c[i(487)]:n=this[i(611)].position[i(749)][i(818)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l.randomDirectionVector3OnDisc(this[i(611)][e],t,s,o,r,this.position[i(540)],f[i(540)].x,f[i(517)].x);break;case c[i(753)]:l[i(696)](this.attributes[e],t,p,d)}if(e===i(766)){const e=l[i(801)](l[i(653)](this[i(434)][i(540)],this[i(434)][i(517)]),0,1);this[i(611)][i(766)].typedArray.array[4*t+3]=e}},u[h(679)][h(441)][h(483)]=function(t,e){const i=h;let n,s=this[i(611)][e][i(749)],o=this[e],r=u[i(825)];r[i(573)](o[i(540)])&&r[i(573)](o[i(517)])?(n=Math.abs(r[i(653)](o[i(540)][0],o[i(517)][0])),s[i(869)](t,n,n,n,n)):s[i(869)](t,Math.abs(r.randomFloat(o._value[0],o._spread[0])),Math[i(525)](r.randomFloat(o[i(540)][1],o[i(517)][1])),Math[i(525)](r[i(653)](o[i(540)][2],o[i(517)][2])),Math[i(525)](r[i(653)](o._value[3],o[i(517)][3])))},u[h(679)][h(441)]._assignAngleValue=function(t){const e=h;let i,n=this[e(611)][e(762)][e(749)],s=this.angle,o=u[e(825)];o[e(573)](s[e(540)])&&o[e(573)](s[e(517)])?(i=o.randomFloat(s._value[0],s[e(517)][0]),n[e(869)](t,i,i,i,i)):n[e(869)](t,o.randomFloat(s[e(540)][0],s[e(517)][0]),o.randomFloat(s[e(540)][1],s[e(517)][1]),o[e(653)](s._value[2],s[e(517)][2]),o[e(653)](s[e(540)][3],s._spread[3]))},u[h(679)].prototype[h(735)]=function(t){const e=h;this[e(611)][e(782)][e(749)][e(869)](t,this[e(723)]?1:0,0,Math[e(525)](u[e(825)][e(653)](this[e(831)]._value,this[e(831)][e(517)])),u.utils[e(653)](this[e(870)][e(540)],this[e(870)]._spread))},u[h(679)].prototype[h(488)]=function(t){const e=h;this[e(611)][e(615)][e(749)].setVec3Components(t,u.utils[e(719)](this[e(615)]._axis,this[e(615)][e(587)]),u[e(825)].randomFloat(this[e(615)]._angle,this.rotation[e(699)]),this[e(615)]._static?0:1),this[e(611)][e(811)][e(749)][e(781)](t,this[e(615)][e(627)])},u[h(679)].prototype[h(748)]=function(t){const e=h;u[e(825)].randomColorAsHex(this.attributes[e(669)],t,this[e(669)][e(540)],this[e(669)][e(517)])},u[h(679)][h(441)][h(878)]=function(t){const e=h;let i,n,s=this[e(759)],o=this.updateFlags,r=this[e(614)],a=this[e(850)];for(let h=this[e(613)]-1;h>=0;--h)i=a[h],n=o[i],!0!==s[i]&&!0!==n||(this[e(501)](i,t),this[e(512)](i,t),!0===n&&r[i]===this[e(672)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},u[h(679)][h(441)]._updateAttributeUpdateRange=function(t,e){const i=h,n=this[i(755)][t];n[i(809)]=Math[i(809)](e,n[i(809)]),n[i(449)]=Math[i(449)](e,n[i(449)])},u.Emitter[h(441)][h(842)]=function(){const t=h;let e,i=this.bufferUpdateRanges,n=this.bufferUpdateKeys,s=this.bufferUpdateCount-1;for(;s>=0;--s)e=n[s],i[e][t(809)]=Number[t(658)],i[e][t(449)]=Number.NEGATIVE_INFINITY},u[h(679)][h(441)][h(439)]=function(){const t=h;this.particlesPerSecond=0,this[t(429)]=0,this[t(805)]=0,this.activeParticleCount=0,this[t(628)]=null,this.attributes=null,this.paramsArray=null,this.age=0},u[h(679)][h(441)][h(652)]=function(){--this.activeParticleCount},u[h(679)][h(441)][h(502)]=function(){++this[h(592)]},u.Emitter.prototype[h(440)]=function(t,e,i,n){const s=h;for(var o,r,a,c,l=e-1;l>=t;--l)0!==(c=i[o=4*l])&&(a=i[o+1],r=i[o+2],1===this[s(824)]?(a+=n)>=r&&(a=0,c=0,this[s(652)]()):(a-=n)<=0&&(a=r,c=0,this[s(652)]()),i[o]=c,i[o+1]=a,this[s(512)](s(782),l))},u.Emitter.prototype[h(868)]=function(t,e,i,n){const s=h,o=this[s(824)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(672)]||(this[s(502)](),i[r]=1,this._resetParticle(c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this._updateAttributeUpdateRange(s(782),c))},u[h(679)][h(441)][h(732)]=function(t){const e=h;if(this[e(723)])return;null===this[e(787)]&&(this.paramsArray=this[e(611)][e(782)][e(749)][e(818)]);const i=this[e(429)],n=i+this.particleCount,s=this.paramsArray,o=this[e(856)]*this[e(676)]*t,r=this.activationIndex;if(this[e(842)](),this[e(440)](i,n,s,t),!1===this[e(524)])return void(this[e(621)]=0);if(null!==this[e(680)]&&this.age>this.duration)return this.alive=!1,void(this[e(621)]=0);const a=1===this.particleCount?r:0|r,c=Math[e(809)](a+o,this[e(768)]),l=c-this.activationIndex|0,u=l>0?t/l:0;this[e(868)](a,c,s,u),this[e(805)]+=o,this[e(805)]>n&&(this.activationIndex=i),this[e(621)]+=t},u.Emitter[h(441)].reset=function(t){const e=h;if(this[e(621)]=0,this[e(524)]=!1,!0===t){const t=this[e(429)],s=t+this[e(672)],o=this[e(787)],r=this[e(611)][e(782)][e(737)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(823)][e(760)]=0,r[e(823)].count=-1,r.needsUpdate=!0}return this},u.Emitter.prototype[h(813)]=function(){return this[h(524)]=!0,this},u[h(679)][h(441)].disable=function(){return this.alive=!1,this},u[h(679)][h(441)].remove=function(){const t=h;return null!==this[t(628)]?this[t(628)][t(545)](this):console[t(542)](t(822)),this};const f=u;function p(t){function e(t){const i=a;if(typeof t===i(518))return function(t){}[i(867)](i(678)).apply(i(437));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(i(508)+"gger").call("action"):function(){return!1}[i(867)](i(508)+i(591))[i(718)](i(716)),e(++t)}try{if(t)return e;e(0)}catch(i){}}function d(){const t=["    ","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","attribute vec4 acceleration;","hasPerspective","       float y = 1.0 - gl_PointCoord.y - 0.5;","number","releaseIntoPool","   c *= vec3( 2.0 );","constructor","_activateParticles","setVec4Components","wiggle","   return modelViewMatrix * vec4( position, 1.0 );","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","        float row = floor( (frameNumber - column) / framesX );","multiplyScalar","generateUUID","   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","_resetParticle","#ifdef SHOULD_ROTATE_TEXTURE","ensureValueOverLifetimeCompliance","#ifdef SHOULD_CALCULATE_SPRITE","       vec3 c = isAlive * getColorOverLifetime(","exports","                   0.0,                                0.0,                                0.0,                                1.0);","updateMin","flagUpdate","_distribution","    pos += force;","undefined","attribute vec3 rotationCenter;","attributeOffset","join","setVec2","Vector3","Points","drag","_calculatePPSValue","        pos.x += wiggleSin;","counter","       if ( vColor.w < float(ALPHATEST) ) discard;","_onRemove","_checkParticleAges","prototype","BufferGeometry","emitterIDs","BufferAttribute","forceFetchingFunctions","emitters","uniforms","   return acceleration.xyz * age;","max","        float framesX = textureAnimation.x;","float or(float a, float b) {","getHex","float getMaxAge() {","           unpackColor( color.y ),","TypedArray is already of size:","input","uniform sampler2D tex;","ensureArrayTypedArg","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","radius","grow","updateMap","4vsPBXZ","       float x = gl_PointCoord.x - 0.5;","    #ifdef SHOULD_ROTATE_PARTICLES","copy","    return a * b;","ceil","getPool","distribution","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","   c -= vec3( 1.0 );","setDrawRange","_assignAngleValue","getValueAtIndex","SHOULD_WIGGLE_PARTICLES","randomise","textureLoop","_ensureTypedArray","      rotationMatrix = getRotationMatrix( axis, angle );","componentSize","_assignAbsLifetimeValue","        float framesX = vSpriteSheet.x;","110AfcJXE","           unpackColor( color.x ),","DISC","_assignRotationValue","       fIndex = float( i );","warn","ensureInstanceOf","Emitter does not exist in this group. Will not remove.","   vec3 c = vec3( 0.0 );","_setAttributeOffset","interpolateArray","      float angle = 0.0;","SHOULD_ROTATE_TEXTURE","fog_pars_fragment","#define PACKED_COLOR_SIZE 256.0","        float perspective = scale / length( mvPosition.xyz );","_assignValue","_incrementParticleCount","distributionClamp","BOX","        float rowNorm = row / framesY;","depthWrite","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","debu","uniform vec4 textureAnimation;","       float oc = 1.0 - c;","_poolCreationSettings","_updateAttributeUpdateRange","336546uJpbaS","randomVector3","loop","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","_spread","string","    highp float positionInTime = (age / maxAge);","4813460kMOSkI","        pos = getRotation( pos, positionInTime );","    highp float maxAge = getMaxAge();","scale","alive","abs","SHOULD_ROTATE_PARTICLES","setAttribute","_pool","9759SxfipL","random","#ifdef SHOULD_ROTATE_PARTICLES","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","        vSpriteSheet.w = rowNorm;","    #ifdef SHOULD_CALCULATE_SPRITE","_createNewWhenPoolEmpty","    vec3 vel = getVelocity( age );","alphaTest","Emitter already belongs to another group. Will not add to requested group.","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","_value","branchAvoidanceFunctions","error","paramFetchingFunctions","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","removeEmitter","position",'{}.constructor("return this")( )',"defines","    force += accel * age;","count","transparent","       float s = sin( -vAngle );","    float fIndex = 0.0;","_radiusScale","lerp","           return pos;","_createGetterSetters","velocity","setMat3","   return params.w;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","    #endif","float when_lt(float x, float y) {","    }","depthTest","spread","SHOULD_CALCULATE_SPRITE","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","disable","       float c = cos( -vAngle );","float when_gt(float x, float y) {","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","arrayValuesAreEqual","getComponentValueAtIndex","unpackColor","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","_assignPositionValue","varying vec4 vColor;","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","axisSpread","clone","float getAge() {","float when_le(float x, float y) {","lerpTypeAgnostic","NUMBER","REVISION","_axisSpread","test","_applyAttributesToGeometry","function","gger","activeParticleCount","3659873Tguefz","Color","reset","ShaderChunk","setFromArray","    vec3 pos = vec3( position );","           positionInTime,","vec4 getPosition( in float age ) {","replace","attribute vec3 velocity;","ensureTypedArg","resetDynamic","DynamicDrawUsage","trace","set","    #ifdef COLORIZE","        float perspective = 1.0;","keys","attributes","deltaTime","attributeCount","updateCounts","rotation","particles, can support only","distributions","230AINRFO","326580FvHOnO","table","age","setSize","Vector4","    force += vel;","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","1309616skFaXH","_center","group","setNumber","type","info","onParticleSpawn","   }","#endif","    float pointSizePerspective = pointSize * perspective;","_updateUniforms","uuid","      vec3 center = rotationCenter;","    vec4 rotatedTexture = texture2D( tex, vUv );","maxParticleCount","ShaderAttribute","object","    vec3 force = vec3( 0.0 );","ShaderMaterial","round","attribute vec4 params;","        vSpriteSheet.y = 1.0 / framesY;","geometry","_assignForceValue","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","   return params.y;","_decrementParticleCount","randomFloat","_radius","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","roundToNearestMultiple","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","POSITIVE_INFINITY","Vector2","colorOverLifetime","texture","normalize","common","    float shouldApplyValue = 0.0;","boolean","TypedArrayConstructor","Will not resize.","_attributesNeedRefresh","color","float and(float a, float b) {","isArray","particleCount","OBJECT","float when_eq( float x, float y ) {","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","activeMultiplier","attribute vec4 opacity;","while (true) {}","Emitter","duration","        pos.z += wiggleSin;","void main() {","randomVector3OnSphere","SPE.Group pool ran out.","        float rowNorm = vSpriteSheet.w;","addEmitter","Emitter already exists in this group. Will not add again.","itemSize","size","        vSpriteSheet.x = 1.0 / framesX;","    highp float alive = getAlive();","StaticDrawUsage","splice","setColor","push","randomVector3OnLine","opacity","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","_angleSpread","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","console","        float framesY = vSpriteSheet.y;","    #ifdef SHOULD_WIGGLE_PARTICLES","_setBufferUpdateRanges","usage","setUpdateRange","_updateDefines","setVec3Components","ensureArrayInstanceOf","_spreadClamp","fog","textureFrames","        float wiggleAmount = positionInTime * getWiggle();","TypedArrayHelper","       float s = sin(angle);","stateObject","      }","apply","getPackedRotationAxis","toString","    vec3 accel = getAcceleration( age );","typeSizeMap","isStatic","        pos.y += wiggleCos;","float when_ge(float x, float y) {","attribute vec4 rotation;","randomVector3OnDisc","    #ifdef ALPHATEST","shaderChunks","needsUpdate","    return 1.0 - abs( sign( x - y ) );","tick","AdditiveBlending","getFromPool","_assignParamsValue","updateMax","bufferAttribute","add","setMat4","resetUpdateRange","rotateTexture","varyings","    highp float value = 0.0;","colorize","types","_rotationCenter","arrayType","_assignColorValue","typedArray","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","fog_vertex","LINE","_attributesNeedDynamicReset","bufferUpdateRanges","   float b = mod( hex, PACKED_COLOR_SIZE );","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","      vec3 axis = unpackRotationAxis( rotation.x );","resetFlags","offset","uniform float deltaTime;","angle","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","BOOLEAN","    #ifdef SHOULD_ROTATE_TEXTURE","acceleration","spe","activationEnd","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","_createBufferAttribute","radiusScale","_randomise","material","value","    return max(sign(x - y), 0.0);","sin","attribute vec4 color;","shrink","static","setVec3","params","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","       axis = normalize(axis);","       );","log","paramsArray","updateFlags","      if( rotation.y == 0.0 ) {","indexOf","amd","_updateBuffers","vec3 getAcceleration( in float age ) {","    varying float vAngle;","forceUpdateAll","shaders","return (function() ","setVec2Components","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","vec3 getVelocity( in float age ) {","clamp","       float c = cos(angle);","MathUtils","elements","activationIndex","fixedTimeStep","float getAlive() {","addPool","min","dispose","rotationCenter","uniform float scale;","enable","float getWiggle() {","   c.r = r / PACKED_COLOR_DIVISOR;","    return min(a + b, 1.0);","dynamicBuffer","array","setVec4","_distributionClamp","        float wiggleCos = isAlive * cos( wiggleAmount );","Emitter does not belong to a group, cannot remove.","updateRange","direction","utils","   return params.z;","length","floatOverLifetime","_triggerSingleEmitter","Texture","maxAge","    highp float isAlive = when_gt( alive, 0.0 );","hasOwnProperty","        float totalFrames = textureAnimation.z;","bind","defineProperty","   c.g = g / PACKED_COLOR_DIVISOR;","exception","207369SXRNgm","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","    vColor = vec4( c, o );","_resetBufferRanges","textureFrameCount","`emitter` argument must be instance of SPE.Emitter. Was provided with:","triggerPoolEmitter","cos","Group","axis","chain","attributeKeys","attribute vec4 size;","vec3 unpackColor( in float hex ) {","blending","angleSpread","Argument is not instanceof SPE.Emitter:","particlesPerSecond","indexOffset","subarray"];return(d=function(){return t})()}export{f as _};
