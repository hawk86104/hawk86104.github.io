import{e as t,a as e,o as n}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{P as s}from"./tweakpane.yDiyAAkA1741168315107.js";import"./index.f80mnL9X1741168315107.js";import{a3 as r,_ as o,b as i,cs as a,aX as u,a0 as c}from"./three.FxqAALWt1741168315107.js";import{d as l,a3 as p,w as f,o as m,H as d,N as _,u as g,r as j,e as h,f as w,g as b,j as y,al as v,aj as I,ak as x,m as S}from"./@vue.NRI7TcgI1741168315107.js";import{g as k}from"./utils.W1doP2RG1741168315107.js";import{_ as M}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.3Qut_-XR1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.kCBCfqMq1741168315107.js";import"./all.three.hCBbh0t71741168315107.js";import"./oimophysics.x0jH7fze1741168315107.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.szIQGpVs1741168315107.js";import"./index.kxnBajYY1741168315107.js";import"./three-stdlib.dTHRtr7H1741168315107.js";import"./@pmndrs.rn5_p8x-1741168315107.js";import"./object-hash.Ter1BX541741168315107.js";import"./@amap.d8-LJgNK1741168315107.js";import"./jszip.it_63bJF1741168315107.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.7IrD6muy1741168315107.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.0K-eyQD01741168315107.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.wPt8KkDb1741168315107.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.5i3AigwW1741168315107.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.RBLRdAhu1741168315107.js";import"./@tweenjs.kK3a15lv1741168315107.js";import"./utils.R1pzgsk61741168315107.js";import"./@fesjs.vxeGrljA1741168315107.js";import"./vue-router.WwZ4Gmuc1741168315107.js";import"./lodash-es.pklfUAS51741168315107.js";import"./@qlin.yHhFDldE1741168315107.js";import"./pinia.54vgoDms1741168315107.js";import"./@floating-ui.BPbuo5Gx1741168315107.js";import"./@juggle.7yjBMqoW1741168315107.js";import"./three-mesh-bvh.304c-5N01741168315107.js";import"./d3-geo.UTz_kAQr1741168315107.js";import"./d3-array.AhNJy1f41741168315107.js";import"./http.cgGX3NbT1741168315107.js";import"./axios.qd3pZFDv1741168315107.js";import"./color.mhuBA9Z51741168315107.js";import"./color-string.GJstsyyI1741168315107.js";import"./color-name.LTh6gYcA1741168315107.js";import"./simple-swizzle.Pq7b-kOQ1741168315107.js";import"./is-arrayish.B9VLVZ9I1741168315107.js";import"./color-convert.o76smMoW1741168315107.js";import"./lodash.g47Pjbdy1741168315107.js";const z=L;!function(t,e){const n=L,s=A();for(;;)try{if(181430===-parseInt(n(159))/1*(parseInt(n(169))/2)+-parseInt(n(141))/3+parseInt(n(184))/4*(-parseInt(n(158))/5)+-parseInt(n(153))/6*(-parseInt(n(157))/7)+parseInt(n(167))/8*(-parseInt(n(174))/9)+-parseInt(n(168))/10+-parseInt(n(155))/11*(-parseInt(n(187))/12))break;s.push(s.shift())}catch(r){s.push(s.shift())}}();const T=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[L(181)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();!function(){T(this,(function(){const t=L,e=new RegExp(t(162)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=Z(t(148));e.test(s+t(160))&&n[t(189)](s+"input")?Z():s("0")}))()}();const F=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[L(181)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();function L(t,e){const n=A();return(L=function(t,e){return n[t-=133]})(t,e)}F(void 0,(function(){const t=L,e=function(){const t=L;let e;try{e=Function(t(183)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e.console=e[t(139)]||{},s=["log",t(136),t(161),t(163),t(192),t(144),t(173)];for(let r=0;r<s[t(191)];r++){const e=F[t(134)].prototype[t(138)](F),o=s[r],i=n[o]||e;e[t(175)]=F[t(138)](F),e[t(149)]=i[t(149)].bind(i),n[o]=e}}))();const N=[z(165)],R=[z(152),"map",z(146),z(177),"color"],C=l({__name:z(166),props:{color:{default:z(172)},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(n){const s=z;let l,j;const h=n,{map:w}=([l,j]=p((()=>e({map:"./plugins/digitalCity/image/line2.png"}))),l=await l,j(),l);w[s(150)]=!0,w.wrapS=w.wrapT=r,w[s(145)][s(182)](h.fewNum,1),w[s(151)]=h.clockwise?0:Math.PI,w[s(147)]=!1,w[s(171)]=o[s(143)];let b=[];h[s(185)][s(180)]((t=>{const e=s;b.push((new i)[e(142)](t))}));const y=new a(b),{onLoop:v}=t();return v((()=>{w[s(186)].x+=.002*h.speed})),f((()=>[h[s(164)],h[s(140)]]),(([t,e])=>{const n=s;w[n(151)]=t?0:Math.PI,w[n(145)].set(e,1)})),(t,e)=>{const n=s;return m(),d(n(154),null,[_(n(190),{args:[g(y),h.tubularSegments,h[n(156)],h[n(133)],h.closed]},null,8,N),_("TresMeshBasicMaterial",{blending:u,map:g(w),side:c,alphaMap:g(w),transparent:!0,color:h[n(179)]},null,8,R)])}}});function Z(t){function e(t){const n=L;if(typeof t===n(178))return function(t){}[n(134)](n(176))[n(181)](n(170));1!==(""+t/t)[n(191)]||t%20==0?function(){return!0}[n(134)](n(137)+n(135))[n(188)]("action"):function(){return!1}[n(134)](n(137)+n(135))[n(181)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}function A(){const t=["1626752uHNXXq","1238240tFvZOt","1922lhsUZM","counter","magFilter","#2bc4dc","trace","9YcuoWR","__proto__","while (true) {}","alphaMap","string","color","forEach","apply","set","return (function() ","12klhXKa","linesList","offset","18672FiZDTo","call","test","TresTubeGeometry","length","exception","radialSegments","constructor","gger","warn","debu","bind","console","fewNum","364089amLbky","fromArray","NearestFilter","table","repeat","side","generateMipmaps","init","toString","needsUpdate","rotation","blending","177246naHlzf","TresMesh","5797LhNOTH","radius","42vawLQJ","432775TtpRZk","112olJJBb","chain","info","function *\\( *\\)","error","clockwise","args","streamLine"];return(A=function(){return t})()}const B=D;!function(t,e){const n=D,s=G();for(;;)try{if(988113===parseInt(n(177))/1*(parseInt(n(159))/2)+parseInt(n(178))/3+parseInt(n(171))/4*(-parseInt(n(165))/5)+-parseInt(n(176))/6+-parseInt(n(156))/7*(-parseInt(n(161))/8)+parseInt(n(149))/9+parseInt(n(167))/10*(-parseInt(n(166))/11))break;s.push(s.shift())}catch(r){s.push(s.shift())}}();const E=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,s}}();!function(){E(this,(function(){const t=D,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=H("init");e.test(s+t(174))&&n[t(137)](s+"input")?H():s("0")}))()}();const U=function(){let t=!0;return function(e,n){const s=t?function(){if(n){const t=n[D(151)](e,arguments);return n=null,t}}:function(){};return t=!1,s}}();function D(t,e){const n=G();return(D=function(t,e){return n[t-=136]})(t,e)}function G(){const t=["管道路径平滑","return (function() ","流线数量","2345mWCdyV","8421017yooCSu","30zYxISu","constructor","table","color","1588UYxauG","closed","exception","chain","trace","8436zjwXtd","1GgSRec","623832OYtifR","error","顺时针流动","radialSegments","string","fewNum","action","test","radius","#bd01ff","addBinding","debu","gger","TresCanvas","闭合管道","while (true) {}","speed","streamLines","tubularSegments","3717549WCxfpT","toString","apply","length","log","console","info","21UAuMdu","bind","call","3142046SJMnUA","clockwise","3414200EmqFfY"];return(G=function(){return t})()}U(void 0,(function(){const t=D,e=function(){const t=D;let e;try{e=Function(t(163)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(154)]=e[t(154)]||{},s=[t(153),"warn",t(155),t(179),t(173),t(169),t(175)];for(let r=0;r<s.length;r++){const e=U[t(168)].prototype[t(157)](U),o=s[r],i=n[o]||e;e.__proto__=U.bind(U),e[t(150)]=i[t(150)][t(157)](i),n[o]=e}}))();const O=l({__name:B(147),async setup(t){const e=B;let r,o;const i=j({reflectivity:.1,showGridHelper:!1,scale:5}),a=j({color:e(139),radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),u=new s;u[e(140)](a,e(170),{label:"流光颜色"}),u.addBinding(a,e(138),{label:"管道半径",min:.01,max:1,step:.01}),u[e(140)](a,e(146),{label:"跑动速度",min:.1,max:10,step:.1}),u[e(140)](a,e(148),{label:e(162),min:1,max:100,step:1}),u.addBinding(a,e(181),{label:"管道壁圆润",min:1,max:20,step:1}),u[e(140)](a,e(172),{label:e(144)}),u[e(140)](a,e(160),{label:e(180)}),u[e(140)](a,e(183),{label:e(164),min:1,max:10,step:1});const c=([r,o]=p((()=>k("./plugins/simpleGIS/json/320000_full.json"))),r=await r,o(),r);return(t,s)=>{const r=h(e(143));return m(),w(r,{clearColor:"#201919","window-size":""},{default:b((()=>[s[0]||(s[0]=_("TresPerspectiveCamera",{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1)),y(g(n),{enableDamping:"",autoRotate:""}),(m(),w(v,null,{default:b((()=>[y(C,I(x(a)),null,16)])),_:1})),(m(),w(v,null,{default:b((()=>[y(C,{linesList:g(c),position:[0,0,-4]},null,8,["linesList"])])),_:1})),(m(),w(v,null,{default:b((()=>[y(g(M),S({position:[0,-.5,0]},i),null,16)])),_:1}))])),_:1})}}});function H(t){function e(t){const n=D;if(typeof t===n(182))return function(t){}[n(168)](n(145))[n(151)]("counter");1!==(""+t/t)[n(152)]||t%20==0?function(){return!0}[n(168)](n(141)+n(142))[n(158)](n(136)):function(){return!1}[n(168)]("debu"+n(142))[n(151)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{O as default};
