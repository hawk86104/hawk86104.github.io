import{e as n,m as t,o as e}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{_ as o,a as r,$ as i,B as s,p as c,aj as a,r as l,c6 as u,c4 as f,c5 as p,ch as v}from"./three.FxqAALWt1741168315107.js";import{d as g,o as m,H as d,N as h,u as b,F as y,w as x,j as w,z as _,e as I,g as T,aj as U,ak as S}from"./@vue.NRI7TcgI1741168315107.js";import{_ as j}from"./@fesjs.vxeGrljA1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./vue-router.WwZ4Gmuc1741168315107.js";import"./lodash-es.pklfUAS51741168315107.js";import"./@qlin.yHhFDldE1741168315107.js";import"./pinia.54vgoDms1741168315107.js";import"./@floating-ui.BPbuo5Gx1741168315107.js";import"./@juggle.7yjBMqoW1741168315107.js";var N="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const B=P;!function(n,t){const e=P,o=z();for(;;)try{if(498059===-parseInt(e(426))/1+-parseInt(e(460))/2+parseInt(e(420))/3*(parseInt(e(433))/4)+-parseInt(e(438))/5+-parseInt(e(424))/6+parseInt(e(456))/7+parseInt(e(410))/8*(parseInt(e(430))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){D(this,(function(){const n=P,t=new RegExp(n(445)),e=new RegExp(n(459),"i"),o=R(n(467));t.test(o+"chain")&&e[n(434)](o+"input")?R():o("0")}))()}();const M=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[P(477)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function z(){const n=["counter","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","4061240yumkSF","return (function() ","fragmentShader","#include <begin_vertex>","TresMesh","exception","#include <dithering_fragment>","function *\\( *\\)","material","log","TresPlaneGeometry","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","info","push","gger","MeshLambertMaterial","console","SphereGeometry","4263280vshNYr","luces","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1153166JOKFJP","stateObject","call","noise","bind","globalBloom","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","init","string","MathUtils","Vector4","length","geometry","__proto__","instData","vertexShader","table","apply","randFloat","action","copy","cos","setY","9907680hSDrnh","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","needsUpdate","setAttribute","#include <fog_fragment>","uniforms","constructor","noiseTex","\n    ","attributes","61851EEMKZM","debu","trace","lucesPlane","1317732QZUzio","toString","565668rnSeLM","globalUniforms","replace","InstancedBufferAttribute","9dBlcnP","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","InstancedBufferGeometry","160NeDtKw","test","randFloatSpread"];return(z=function(){return n})()}function P(n,t){const e=z();return(P=function(n,t){return e[n-=405]})(n,t)}M(void 0,(function(){const n=P,t=function(){const n=P;let t;try{t=Function(n(439)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t.console=t[n(454)]||{},o=[n(447),"warn",n(450),"error",n(443),n(476),n(422)];for(let r=0;r<o[n(471)];r++){const t=M.constructor.prototype[n(464)](M),i=o[r],s=e[i]||t;t[n(473)]=M[n(464)](M),t.toString=s[n(425)][n(464)](s),e[i]=t}}))();const E=[B(472),B(446)],F=[B(446)],A=["rotateX"],C=100,k=g({__name:B(423),props:{globalUniforms:{}},setup(t){const e=B,s=t,c=[],a=[],l=new(o[e(455)])(1,36,18),u=(new(o[e(432)]))[e(407)](l);u.instanceCount=C;const f=[];for(let n=0;n<C;n++){let n=o[e(469)][e(435)](49),t=o[e(469)][e(435)](49),i=r[e(405)](.0625,.125),s=o[e(469)][e(405)](1,3);f.push(n,t,i),a[e(451)](new(o[e(470)])(n,t,s,o[e(469)].randFloat(1,2))),c.push(new(o[e(470)])(n,t,i,s))}u[e(413)]("instData",new(o[e(429)])(new Float32Array(f),3));const p=new i({color:16720418,onBeforeCompile:n=>{const t=e;n.uniforms[t(417)]=s[t(427)][t(463)],n[t(475)]=(t(437)+n[t(475)]+"\n    ")[t(428)](t(441),t(449))}}),v={luces:{value:c}},g=new(o[e(453)])({color:2363940,onBeforeCompile:n=>{const t=e;n[t(415)][t(457)]=v[t(457)],n[t(415)][t(465)]=s[t(427)].globalBloom,n.uniforms[t(417)]=s.globalUniforms[t(463)],n[t(475)]=("\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      "+n[t(475)]+t(418)).replace(t(441),t(411)),n[t(440)]=("\n      uniform vec4 luces["+C+t(466)+n[t(440)]+t(418))[t(428)](t(414),t(458)+C+"; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ").replace(t(444),t(431))}}),{onLoop:x}=n();return x((({elapsed:n})=>{const t=e;for(let e=0;e<C;e++){const o=a[e];let r=(o.y+n+25)%50-25;c[e].y=r,c[e].w=(Math.sin(n*o.w*(e%3+1))*Math[t(408)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(419)][t(474)][t(409)](e,r)}u[t(419)][t(474)][t(412)]=!0})),(n,t)=>{const o=e;return m(),d(y,null,[h(o(442),{geometry:b(u),material:b(p)},null,8,E),h("TresMesh",{material:b(g)},[h(o(448),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,A)],8,F)],64)}}});function R(n){function t(n){const e=P;if(typeof n===e(468))return function(n){}[e(416)]("while (true) {}")[e(477)](e(436));1!==(""+n/n)[e(471)]||n%20==0?function(){return!0}[e(416)](e(421)+e(452))[e(462)](e(406)):function(){return!1}.constructor(e(421)+e(452)).apply(e(461)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const Z=G;function G(n,t){const e=K();return(G=function(n,t){return e[n-=378]})(n,t)}!function(n,t){const e=G,o=K();for(;;)try{if(490331===-parseInt(e(427))/1+-parseInt(e(405))/2*(-parseInt(e(401))/3)+parseInt(e(380))/4+-parseInt(e(396))/5*(-parseInt(e(418))/6)+parseInt(e(386))/7*(parseInt(e(400))/8)+parseInt(e(409))/9+-parseInt(e(414))/10*(parseInt(e(411))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){O(this,(function(){const n=G,t=new RegExp(n(424)),e=new RegExp(n(392),"i"),o=V(n(422));t[n(381)](o+n(379))&&e[n(381)](o+n(403))?V():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[G(421)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();L(void 0,(function(){const n=G;let t;try{t=Function(n(402)+n(412)+");")()}catch(r){t=window}const e=t[n(384)]=t[n(384)]||{},o=[n(388),n(428),"info","error",n(397),n(398),"trace"];for(let i=0;i<o.length;i++){const t=L[n(415)][n(407)][n(429)](L),r=o[i],s=e[r]||t;t[n(419)]=L[n(429)](L),t[n(382)]=s.toString[n(429)](s),e[r]=t}}))();const $=[Z(399)],H=g({__name:"portal",props:{globalUniforms:{}},setup(n){const t=Z,e=n,r=new(o[t(391)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const o=t;n.uniforms[o(404)]=e[o(425)][o(404)],n[o(426)].globalBloom=e[o(425)][o(394)],n[o(406)]=(o(385)+N+o(389)+n.fragmentShader+o(417)).replace(o(408),"\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ")[o(416)](o(387),o(390))}});return r.defines={USE_UV:""},(n,e)=>{const o=t;return m(),d(o(393),{material:b(r),position:[0,3.75,-12]},e[0]||(e[0]=[h(o(430),{args:[5,5]},null,-1)]),8,$)}}});function K(){const n=["test","toString","gger","console","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","8351pHPxti","#include <dithering_fragment>","log","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","MeshBasicMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresMesh","globalBloom","length","327965FMBwfP","exception","table","material","3624NFgHwf","95505tJYzbN","return (function() ","input","time","60JvqjHp","fragmentShader","prototype","vec4 diffuseColor = vec4( diffuse, opacity );","6799230DIGfgK","call","1551308kjjufF",'{}.constructor("return this")( )',"string","220PRAtAk","constructor","replace","\n    ","42fjbfpj","__proto__","action","apply","init","while (true) {}","function *\\( *\\)","globalUniforms","uniforms","85292XaaSEB","warn","bind","TresPlaneGeometry","stateObject","chain","3872556wHBeyM"];return(K=function(){return n})()}function V(n){function t(n){const e=G;if(typeof n===e(413))return function(n){}[e(415)](e(423))[e(421)]("counter");1!==(""+n/n)[e(395)]||n%20==0?function(){return!0}[e(415)]("debugger")[e(410)](e(420)):function(){return!1}.constructor("debu"+e(383)).apply(e(378)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function X(n,t){const e=q();return(X=function(n,t){return e[n-=280]})(n,t)}const J=X;!function(n,t){const e=X,o=q();for(;;)try{if(493443===-parseInt(e(304))/1*(parseInt(e(290))/2)+parseInt(e(313))/3*(-parseInt(e(319))/4)+parseInt(e(338))/5*(-parseInt(e(318))/6)+-parseInt(e(292))/7*(parseInt(e(293))/8)+-parseInt(e(335))/9+-parseInt(e(337))/10*(parseInt(e(282))/11)+parseInt(e(334))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(336)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){W(this,(function(){const n=X,t=new RegExp(n(329)),e=new RegExp(n(343),"i"),o=tn("init");t[n(285)](o+n(315))&&e[n(285)](o+n(305))?tn():o("0")}))()}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Y(void 0,(function(){const n=X;let t;try{t=Function(n(306)+n(311)+");")()}catch(r){t=window}const e=t.console=t[n(316)]||{},o=["log",n(322),n(299),n(324),"exception",n(289),n(286)];for(let i=0;i<o[n(328)];i++){const t=Y[n(326)][n(317)][n(295)](Y),r=o[i],s=e[r]||t;t[n(283)]=Y.bind(Y),t[n(330)]=s.toString.bind(s),e[r]=t}}))();const Q=["material","geometry"];function q(){const n=["121QzfGvd","__proto__","debu","test","trace","call","vec4 diffuseColor = vec4( diffuse, opacity );","table","133926dXnNni","while (true) {}","60207BCiXdC","264PfWNuJ","LineBasicMaterial","bind","counter","\n      ","globalBloom","info","Float32BufferAttribute","gEnds","#include <begin_vertex>","gger","1iIimiJ","input","return (function() ","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","stateObject","position","TresLineSegments",'{}.constructor("return this")( )',"noise","905511FvKjWv","vertexShader","chain","console","prototype","15474DTpEjc","8aViMXM","string","setAttribute","warn","replace","error","\n    ","constructor","uniforms","length","function *\\( *\\)","toString","randFloatSpread","time","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","38136132DxPNFP","590004WKLbGr","apply","816890uajAZn","1485OkGISv","action","drops","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","randFloat","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","globalUniforms","MathUtils","fragmentShader"];return(q=function(){return n})()}const nn=g({__name:J(340),props:{globalUniforms:{}},setup(n){const t=J,e=n,i=[],c=[];for(let s=0;s<2e4;s++){const n=r[t(331)](35),e=r[t(342)](-5,10),s=o[t(280)][t(331)](35),a=o[t(280)][t(342)](.25,.5);i.push(n,e,s,n,e,s),c.push(0,a,1,a)}const a=new s;a[t(321)](t(309),new(o[t(300)])(i,3)),a[t(321)](t(301),new(o[t(300)])(c,2));const l=new(o[t(294)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const o=t;n[o(327)][o(332)]=e[o(344)].time,n.uniforms.noiseTex=e.globalUniforms[o(312)],n[o(327)].globalBloom=e[o(344)][o(298)],n[o(314)]=(o(333)+n[o(314)]+o(325))[o(323)](o(302),o(341)),n[o(281)]=(o(307)+N+o(297)+n[o(281)]+o(325))[o(323)](o(288),"\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ")}});return(n,e)=>{const o=t;return m(),d(o(310),{material:b(l),geometry:b(a)},null,8,Q)}}});function tn(n){function t(n){const e=X;if(typeof n===e(320))return function(n){}.constructor(e(291)).apply(e(296));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(284)+e(303))[e(287)](e(339)):function(){return!1}[e(326)](e(284)+"gger")[e(336)](e(308)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const en=rn;!function(n,t){const e=rn,o=ln();for(;;)try{if(245267===parseInt(e(218))/1+-parseInt(e(278))/2+parseInt(e(217))/3+parseInt(e(242))/4+-parseInt(e(210))/5*(parseInt(e(212))/6)+-parseInt(e(221))/7+parseInt(e(262))/8*(parseInt(e(241))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function rn(n,t){const e=ln();return(rn=function(n,t){return e[n-=208]})(n,t)}!function(){on(this,(function(){const n=rn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(238),"i"),o=an(n(239));t[n(264)](o+n(220))&&e[n(264)](o+n(254))?an():o("0")}))()}();const sn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[rn(231)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();sn(void 0,(function(){const n=rn;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(223)]=t[n(223)]||{},o=[n(255),n(226),"info",n(257),n(215),n(253),"trace"];for(let i=0;i<o[n(269)];i++){const t=sn[n(235)][n(256)][n(263)](sn),r=o[i],s=e[r]||t;t.__proto__=sn[n(263)](sn),t[n(272)]=s.toString[n(263)](s),e[r]=t}}))();const cn=g({__name:en(211),setup(e){const r=en,i={time:{value:0},globalBloom:{value:0},noise:{value:null}},s=new(o[r(216)])(512,512),g=new c,h=new a,b=new(o[r(258)])(2,2),_=new(o[r(237)])({onBeforeCompile:n=>{const t=r;n[t(247)][t(259)]=i[t(259)],n[t(270)]=("\n      uniform float time;\n      "+N+t(273)+n[t(270)]+t(248)).replace(t(274),t(275))}});_[r(228)]={USE_UV:""};const I=new l(b,_);g[r(245)](I),i[r(234)][r(208)]=s.texture;const{camera:T,renderer:U,scene:S,sizes:j,controls:B}=t();x((()=>B[r(208)]),(n=>{const t=r;null==n||n[t(251)][t(261)](0,2,0),!S[t(208)][t(236)]&&(S.value[t(236)]=new(o[t(214)])(6706534))}));const D=new u(U[r(208)]),M=new u(U[r(208)]),z=new f(S.value,T[r(208)]),P=new p(new(o[r(229)])(j.width[r(208)],j[r(222)][r(208)]),1.2,.5,0);D[r(265)]=!1,D[r(232)](z),D[r(232)](P);const E=new v(new(o[r(225)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:D[r(209)][r(277)]}},vertexShader:r(268),fragmentShader:r(260),defines:{}}),r(219));E[r(240)]=!0,M[r(232)](z),M[r(232)](E),S[r(208)][r(244)]=new(o[r(252)])(6706534,1,25);const{onLoop:F}=n();return F((({elapsed:n})=>{var t,e;const o=r;i[o(259)][o(208)]=n,U.value&&(U[o(208)][o(246)](s),U[o(208)][o(227)](g,h),U[o(208)][o(246)](null),i[o(243)][o(208)]=1.2,S.value.fog[o(224)].set(0),S[o(208)][o(244)][o(250)]=15,null==(t=S.value[o(236)])||t[o(261)](0),D.render(),i[o(243)][o(208)]=0,S[o(208)][o(244)][o(224)].set(6706534),S[o(208)][o(244)][o(250)]=10,null==(e=S[o(208)][o(236)])||e[o(261)](6706534),M[o(227)]())})),(n,t)=>(m(),d(y,null,[w(k,{globalUniforms:i}),w(H,{globalUniforms:i}),w(nn,{globalUniforms:i})],64))}});function an(n){function t(n){const e=rn;if(typeof n===e(249))return function(n){}.constructor(e(267))[e(231)](e(276));1!==(""+n/n)[e(269)]||n%20==0?function(){return!0}[e(235)](e(271)+e(266))[e(230)](e(233)):function(){return!1}[e(235)](e(271)+e(266))[e(231)](e(213)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function ln(){const n=["time","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}","set","81520cxjMOx","bind","test","renderToScreen","gger","while (true) {}","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","length","fragmentShader","debu","toString","\n      ","vec4 diffuseColor = vec4( diffuse, opacity );","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","counter","texture","510904OYYVTW","value","renderTarget2","55measXK","fboRender","148692dtoAEN","stateObject","Color","exception","WebGLRenderTarget","177219rSIKzS","254534JRtirG","baseTexture","chain","2150974YfaoNU","height","console","color","ShaderMaterial","warn","render","defines","Vector2","call","apply","addPass","action","noise","constructor","background","MeshBasicMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","needsSwap","657GXOkgp","92504SsrMvc","globalBloom","fog","add","setRenderTarget","uniforms","\n    ","string","near","target","Fog","table","input","log","prototype","error","PlaneGeometry"];return(ln=function(){return n})()}const un={class:"text"};const fn=j({},[["render",function(n,t){return m(),d("div",un,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),pn=dn;!function(n,t){const e=dn,o=gn();for(;;)try{if(340244===-parseInt(e(151))/1*(-parseInt(e(119))/2)+-parseInt(e(152))/3+-parseInt(e(145))/4+parseInt(e(128))/5*(parseInt(e(124))/6)+parseInt(e(129))/7+-parseInt(e(138))/8+-parseInt(e(123))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const vn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function gn(){const n=["TresCanvas","545PvNAlm","2793371oilcZJ","bind","counter","lightNoise","constructor","__proto__","TresPerspectiveCamera",'{}.constructor("return this")( )',"trace","297480aZLMNs","test","TresDirectionalLight","apply","debu","info","table","183560SSnVqZ","string","prototype","while (true) {}","console","chain","4859zNOOng","157593RjmOfQ","return (function() ","init","DEG2RAD","toString","length","input","134OxpZQC","function *\\( *\\)","TresAmbientLight","stateObject","5247531VMxRcI","18402zXZKfB","action","gger"];return(gn=function(){return n})()}!function(){vn(this,(function(){const n=dn,t=new RegExp(n(120)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=bn(n(154));t.test(o+n(150))&&e[n(139)](o+n(118))?bn():o("0")}))()}();const mn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[dn(141)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function dn(n,t){const e=gn();return(dn=function(n,t){return e[n-=115]})(n,t)}mn(void 0,(function(){const n=dn,t=function(){const n=dn;let t;try{t=Function(n(153)+n(136)+");")()}catch(e){t=window}return t}(),e=t[n(149)]=t.console||{},o=["log","warn",n(143),"error","exception",n(144),n(137)];for(let r=0;r<o[n(117)];r++){const t=mn[n(133)][n(147)][n(130)](mn),i=o[r],s=e[i]||t;t[n(134)]=mn[n(130)](mn),t[n(116)]=s[n(116)].bind(s),e[i]=t}}))();const hn=g({__name:pn(132),setup(n){const t=pn,o={windowSize:!0,antialias:!0,renderMode:"manual"},i={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*r[t(115)],maxPolarAngle:90*r[t(115)],makeDefault:!0};return(n,r)=>{const s=t,c=I(s(127));return m(),d(y,null,[w(fn),w(c,U(S(o)),{default:T((()=>[r[0]||(r[0]=h(s(135),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(e),U(S(i)),null,16),r[1]||(r[1]=h(s(121),{intensity:.5},null,-1)),r[2]||(r[2]=h(s(140),{position:[0,3,-12],intensity:1},null,-1)),w(cn)])),_:1},16)],64)}}});function bn(n){function t(n){const e=dn;if(typeof n===e(146))return function(n){}.constructor(e(148))[e(141)](e(131));1!==(""+n/n)[e(117)]||n%20==0?function(){return!0}.constructor(e(142)+e(126)).call(e(125)):function(){return!1}.constructor(e(142)+e(126))[e(141)](e(122)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{hn as default};
