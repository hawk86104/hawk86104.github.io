import{d as e,H as o,o as n,u as i}from"./@vue.Co_gxueH1763540743861.js";import{j as t,k as s,m as a,q as r,b8 as l,l as u}from"./three.rXKzP9fQ1763540743861.js";const v=["object"],c=e({__name:"particalMesh",props:{progress:{default:0},width:{default:256},height:{default:256}},setup(e,{expose:c}){const m=e;let p=((e,o)=>{const n=e*o;let i=new Float32Array(3*n);for(let t=0;t<n;t++){let n=3*t;i[n+0]=t%e/e,i[n+1]=t/e/o}const v=new t;return v.setAttribute("position",new s(i,3)),new a(v,new r({uniforms:{uPositions:{value:null},uSize:{value:12},uPixelRatio:{value:Math.min(window.devicePixelRatio,2)},uColor:{value:new u("#ffaa00")}},vertexShader:"uniform sampler2D\n    uPositions; \nuniform float uSize;\nuniform float uPixelRatio;\nvarying vec3 vPos;\nvarying vec2 vUv;\nvoid main() {\n  vec3 pos = texture2D(uPositions, position.xy).xyz;\n\n  float customSize = uSize;\n\n  vec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n  vec4 viewPosition = viewMatrix * modelPosition;\n  vec4 projectionPosition = projectionMatrix * viewPosition;\n\n  gl_Position = projectionPosition;\n  gl_PointSize = customSize * uPixelRatio;\n  gl_PointSize *= (1.0 / -viewPosition.z);\n\n  vPos = pos;\n}",fragmentShader:"precision mediump float;\nvarying vec3 vPos;\nuniform vec3 uColor; \nvoid main() {\n\n  float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n  float strength = 0.05 / distanceToCenter - 0.1;\n\n  \n\n  gl_FragColor = vec4(uColor, strength * length(vPos));\n}",transparent:!0,depthWrite:!1,blending:l}))})(m.width,m.height);return c({particles:p}),(e,t)=>(n(),o("primitive",{object:i(p)},null,8,v))}});export{c as _};
