import{P as t}from"./tweakpane.yHWGBmom1731055558423.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.CPptAKz41731055558423.js";import{_ as r}from"./heatmap.js-fix.By-B7-XK1731055558423.js";import{h as i,Y as c,cs as s,_ as u,B as a,m as p}from"./three.3b9CEYeV1731055558423.js";import{r as f}from"./utils.x-O_6p0F1731055558423.js";import{d as l}from"./pinia.c8BQk2fm1731055558423.js";import{b as d,d as h,a3 as m,o as g,D as v,J as y,u as w,F as b,q as I,U as _,N as j,P as x,H as M,L as D,a6 as S,r as E,j as Z,g as R,m as P}from"./@vue.u2cBPEWn1731055558423.js";import{c as U,d as A,a as O}from"./three-mesh-bvh.7zTu_jjo1731055558423.js";import{_ as z}from"./@fesjs.yotB665w1731055558423.js";import"./@tresjs.KsuCtVXf1731055558423.js";import"./@vueuse.GLWi_e1b1731055558423.js";import"./three-custom-shader-material.JEUeb9V91731055558423.js";import"./@amap.Gx_2STAs1731055558423.js";import"./vue-demi.C4xddsk91731055558423.js";import"./vue-router.IFFB8cPj1731055558423.js";import"./lodash-es.guXTxyfJ1731055558423.js";import"./@qlin.yHhFDldE1731055558423.js";import"./@floating-ui.BPbuo5Gx1731055558423.js";import"./@juggle.7yjBMqoW1731055558423.js";!function(t,n){const e=$,o=k();for(;;)try{if(236263===-parseInt(e(386))/1+-parseInt(e(382))/2+-parseInt(e(354))/3+parseInt(e(375))/4*(parseInt(e(363))/5)+parseInt(e(364))/6*(-parseInt(e(383))/7)+-parseInt(e(380))/8*(-parseInt(e(387))/9)+parseInt(e(389))/10*(parseInt(e(396))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=$,n=new RegExp(t(369)),e=new RegExp(t(384),"i"),o=J(t(368));n[t(367)](o+t(346))&&e[t(367)](o+t(395))?J():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=k();return($=function(t,n){return e[t-=342]})(t,n)}function k(){const t=["chain","left","rgb(0,255,0)","height","bind","_config","rgb(255,0,0)","none","613086KuBUKX","body","exception","info","return (function() ","__proto__","console","randInt","log","5HriySo","38322awMYmM","gger","top","test","init","function *\\( *\\)","create","setData","trace","absolute","counter","989872nJYKgx","createElement","appendChild","apply","while (true) {}","152dtZlal","heatmap-canvas","107590vrGVDZ","238TrOqXO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","429264xDoYwo","5499qyfeMn","constructor","50tPHxrw","push","position","warn","error","debu","input","1939883JPirjj","style","yellow","action","width","string","toString","prototype"];return(k=function(){return t})()}T(void 0,(function(){const t=$;let n;try{n=Function(t(358)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(360)]=n[t(360)]||{},o=[t(362),t(392),t(357),t(393),t(356),"table",t(372)];for(let i=0;i<o[t(385)];i++){const n=T.constructor[t(345)][t(350)](T),r=o[i],c=e[r]||n;n[t(359)]=T[t(350)](T),n.toString=c[t(344)][t(350)](c),e[r]=n}}))();const H=(t,n)=>t.getValueAt(n)+-10;function J(t){function n(t){const e=$;if(typeof t===e(343))return function(t){}[e(388)](e(379))[e(378)](e(374));1!==(""+t/t)[e(385)]||t%20==0?function(){return!0}[e(388)](e(394)+e(365)).call(e(399)):function(){return!1}[e(388)](e(394)+e(365))[e(378)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=q;!function(t,n){const e=q,o=F();for(;;)try{if(471195===parseInt(e(436))/1*(parseInt(e(462))/2)+parseInt(e(469))/3+-parseInt(e(466))/4+-parseInt(e(447))/5*(-parseInt(e(467))/6)+parseInt(e(437))/7*(parseInt(e(464))/8)+-parseInt(e(465))/9+-parseInt(e(449))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function F(){const t=["console","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1841970OLJioC","return (function() ","7200710zelfCD","bind","debu","info","toString","trace","table","init","counter","buildingsHeatmap","test","stateObject","log","2GVKodM","value","4519648MHQFet","8188479jbLUdv","1535112yUGPJB","12xEvlKY","warn","1049802nvVJLI","input","length","apply","function *\\( *\\)","833197yBgDzA","7NZunwo","exception","string","call","while (true) {}","gger","prototype"];return(F=function(){return t})()}!function(){Y(this,(function(){const t=q,n=new RegExp(t(435)),e=new RegExp(t(446),"i"),o=K(t(456));n[t(459)](o+"chain")&&e.test(o+t(470))?K():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=F();return(q=function(t,n){return e[t-=435]})(t,n)}V(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(448)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(444)]=n[t(444)]||{},o=[t(461),t(468),t(452),"error",t(438),t(455),t(454)];for(let r=0;r<o[t(471)];r++){const n=V[t(445)][t(443)].bind(V),i=o[r],c=e[i]||n;n.__proto__=V[t(450)](V),n.toString=c[t(453)][t(450)](c),e[i]=n}}))();const C=l(L(458),(()=>{const t=d(!1),n=d(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[q(463)]=n},setTemperature:function(t){n.value=t}}}));function K(t){function n(t){const e=q;if(typeof t===e(439))return function(t){}[e(445)](e(441))[e(472)](e(457));1!==(""+t/t)[e(471)]||t%20==0?function(){return!0}[e(445)](e(451)+"gger")[e(440)]("action"):function(){return!1}.constructor("debu"+e(442)).apply(e(460)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=tt;!function(t,n){const e=tt,o=nt();for(;;)try{if(321956===-parseInt(e(173))/1+parseInt(e(146))/2+-parseInt(e(171))/3+-parseInt(e(121))/4+-parseInt(e(128))/5+-parseInt(e(139))/6+parseInt(e(184))/7*(parseInt(e(127))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=tt,n=new RegExp(t(145)),e=new RegExp(t(126),"i"),o=ot(t(136));n[t(156)](o+"chain")&&e[t(156)](o+t(155))?ot():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=tt,n=function(){const t=tt;let n;try{n=Function(t(123)+t(167)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(183)]||{},o=[t(143),t(149),"info","error",t(130),t(125),t(144)];for(let r=0;r<o[t(180)];r++){const n=G.constructor[t(174)].bind(G),i=o[r],c=e[i]||n;n[t(137)]=G[t(182)](G),n.toString=c[t(158)][t(182)](c),e[i]=n}}))();const W=[Q(154),Q(172)],N=[Q(154)];function tt(t,n){const e=nt();return(tt=function(t,n){return e[t-=119]})(t,n)}function nt(){const t=["while (true) {}","geometry","applyMatrix4","DoubleSide","gger","length","opacity","bind","console","944909UydWVb","height","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","needsUpdate","2491488PdOAKs","call","return (function() ","数值———：","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","104EHnMMv","499170ZfDvnu","clone","exception","disposeBoundsTree","string","constructor","uniforms","primitive","init","__proto__","canvas","3306690JbTUBE","_config","setShowDiv","children","log","trace","function *\\( *\\)","840912sHdjna","apply","Matrix4","warn","attributes","raycast","model","Mesh","object","input","test","counter","toString","value","matrix","数值：","land","setTemperature","computeBoundsTree","$patch","makeRotationX",'{}.constructor("return this")( )',"action","city","stateObject","795552AeLzps","rotation-x","314326UsXbQc","prototype"];return(nt=function(){return t})()}const et=h({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=Q;(()=>{const t=tt;a[t(174)][t(164)]=U,a.prototype[t(131)]=A,u[t(153)][t(174)][t(151)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=$,i=document[o(376)](o(381));return i[o(397)][o(391)]=o(373),!e&&(i[o(397)].display=o(353)),i.style[o(366)]="0",i[o(397)][o(347)]="0",document[o(355)][o(377)](i),r[o(370)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(348),.85:o(398),1:o(352)}})})();((t,n)=>{const e=$;if(!n){let o=0;for(n=[];o<1e3;)n[e(390)]({x:i[e(361)](1,t[e(351)][e(342)]),y:i[e(361)](1,t._config[e(349)]),value:i[e(361)](-10,36)}),o++}t[e(371)]({max:36,min:-10,data:n})})(o);const l=new c(o._renderer[n(138)]);l[n(120)]=!0;const d=e[n(152)][n(169)][n(129)]();delete d[n(176)][n(150)].normal,delete d[n(176)].attributes.uv;const h=d[n(176)][n(129)]()[n(177)](d[n(160)]),I=e[n(152)][n(162)][n(129)]();delete I[n(176)][n(150)].normal;const _=I[n(176)][n(129)]().applyMatrix4(I[n(160)]),j=s([h,_]);j[n(177)]((new(u[n(148)]))[n(166)](Math.PI/2)),f(j),j[n(164)]();const x=(t=>{const o=n;return new p({vertexShader:o(119),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(181)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(178)]})})(l),M=new(u[n(153)])(j,x);m((()=>{const t=n;e[t(181)]&&(x[t(134)].uOpacity[t(159)]=e[t(181)])}));const D=C(),S=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(140)].width,y:(1-t.uv.y)*o[e(140)][e(185)]};console[e(143)](e(161),t),console[e(143)](e(124),H(o,n)),D[e(163)](H(o,n))}},E=t=>{t&&D[n(165)]({showDiv:!0})},Z=t=>{t&&D[n(141)](!1)};return(t,o)=>{const r=n;return g(),v(b,null,[y(r(135),{object:w(M),"rotation-x":-Math.PI/2,onPointerMove:S,onPointerEnter:E,onPointerLeave:Z},null,40,W),y(r(135),{object:e[r(152)].model[r(142)][0][r(129)]()},null,8,N)],64)}}});function ot(t){function n(t){const e=tt;if(typeof t===e(132))return function(t){}[e(133)](e(175))[e(147)](e(157));1!==(""+t/t)[e(180)]||t%20==0?function(){return!0}[e(133)]("debu"+e(179))[e(122)](e(168)):function(){return!1}[e(133)]("debu"+e(179))[e(147)](e(170)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=z({__name:"dataDiv",setup(t){const n=C(),e=d({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),v("div",{class:"title",style:D(e.value)},"温度："+M(w(n).temperature)+"℃ ",5)),[[x,w(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);function it(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","243912SDUZZw","118fdmSQJ","heatmap2","2766540pYsMBm","string","1183731WsQdPn","toString","city","prototype","model","5TqrRfk","73227dMmZIa","bind","table","init","test","apply","stateObject","value","warn","error","length","constructor","call","chain","12TCYhRZ","9682432TRCcqI","builds","48084NDDokE","9brbRrs","info","__proto__","trace","action","function *\\( *\\)","7183lamhGW","2441igwvdd","debu","addBinding","return (function() ",'{}.constructor("return this")( )',"input","console"];return(it=function(){return t})()}const ct=ut;!function(t,n){const e=ut,o=it();for(;;)try{if(631073===parseInt(e(272))/1*(-parseInt(e(281))/2)+-parseInt(e(285))/3+parseInt(e(280))/4*(parseInt(e(290))/5)+-parseInt(e(261))/6*(parseInt(e(291))/7)+parseInt(e(262))/8*(-parseInt(e(265))/9)+-parseInt(e(283))/10+parseInt(e(271))/11*(parseInt(e(264))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(296)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(t,n){const e=it();return(ut=function(t,n){return e[t-=258]})(t,n)}!function(){st(this,(function(){const t=ut,n=new RegExp(t(270)),e=new RegExp(t(279),"i"),o=ft(t(294));n[t(295)](o+t(260))&&e.test(o+t(277))?ft():o("0")}))()}();const at=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(296)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();at(void 0,(function(){const t=ut;let n;try{n=Function(t(275)+t(276)+");")()}catch(r){n=window}const e=n.console=n[t(278)]||{},o=["log",t(299),t(266),t(300),"exception",t(293),t(268)];for(let i=0;i<o.length;i++){const n=at.constructor[t(288)][t(292)](at),r=o[i],c=e[r]||n;n[t(267)]=at[t(292)](at),n[t(286)]=c.toString[t(292)](c),e[r]=n}}))();const pt=h({__name:ct(282),async setup(r){const i=ct;let c,s;const u=d(!1),a=([c,s]=S((()=>o())),c=await c,s(),c);u[i(298)]=!0;const p=E({width:1,color:"#000",opacity:1,show:!0}),f=E({opacity:.9});return new t({title:"参数",expanded:!0})[i(274)](f,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),v(b,null,[Z(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[Z(et,P({model:w(a)},f),null,16,[r(289)]),Z(n,P(p,{builds:w(a)[r(287)]}),null,16,[r(263)])])),_:1}),Z(rt)],64)}}});function ft(t){function n(t){const e=ut;if(typeof t===e(284))return function(t){}[e(258)]("while (true) {}")[e(296)]("counter");1!==(""+t/t)[e(301)]||t%20==0?function(){return!0}.constructor("debugger")[e(259)](e(269)):function(){return!1}[e(258)](e(273)+"gger")[e(296)](e(297)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
