import{a as t,B as n,s as e,b_ as o,C as r,k as s,a0 as i}from"./three.KG0QRRig1731552996711.js";import{w as c}from"./@fesjs.ffiiLppw1731552996711.js";import{b as a}from"./@tresjs.01P8tiuF1731552996711.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.dPsz5KU41731552996711.js";!function(t,n){const e=w,o=m();for(;;)try{if(845057===parseInt(e(456))/1+parseInt(e(395))/2+-parseInt(e(389))/3*(parseInt(e(414))/4)+parseInt(e(420))/5*(-parseInt(e(413))/6)+parseInt(e(403))/7*(parseInt(e(435))/8)+-parseInt(e(465))/9*(parseInt(e(421))/10)+parseInt(e(418))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(430)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=w,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(407),"i"),o=_(t(433));n.test(o+t(424))&&e[t(393)](o+t(428))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(430)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["deleteAttribute","table","input","count","apply","uniforms","setY","init","Box3","4280bWfSpV","forEach","console","value","getSize","negate","length","prototype","setAttribute","Vector3","add","config","computeBoundsTree","push","side","disposeBoundsTree","geometry","info","action","counter","warn","494153RexdSl","attributes","transparent","gger","error","center","reflectivity","return (function() ","setFromObject","1029285TXVKZG","divideScalar","constructor","21KPHXzp","material","getX","computeBoundingBox","test","get","460492OCIWql","log","catch","children","random","position","toString","getY","18718yfiWfl","applyMatrix4","trace","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","depthWrite","copy","bind","debu","then","6ZtUwzL","804328bHmqZS","string","max","boundingBox","20786370yImofS","getCenter","6101015IMaFnT","50hvKJkf","stateObject","min","chain","call"];return(m=function(){return t})()}g(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(463)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(437)]||{},o=[t(396),t(455),t(452),t(460),"exception",t(427),t(405)];for(let r=0;r<o[t(441)];r++){const n=g[t(388)].prototype[t(410)](g),s=o[r],i=e[s]||n;n.__proto__=g[t(410)](g),n[t(401)]=i[t(401)][t(410)](i),e[s]=n}}))();const h=(n,e=!1)=>{const o=w;n.computeBoundingBox();const{max:r,min:s}=n.boundingBox;n[o(426)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(457)][o(400)][o(429)];t++)e?(a.push((n[o(457)][o(400)][o(391)](t)-(s.x+r.x)/2)/i),a[o(448)]((n.attributes[o(400)][o(402)](t)-(s.y+r.y)/2)/c)):(a[o(448)]((n[o(457)].position.getX(t)-s.x)/i),a[o(448)]((n[o(457)][o(400)].getY(t)-s.y)/c));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=w;c(t,{},{method:r(394),mergeRequest:!0})[r(412)]((t=>{n&&e(t[n]),e(t.features)}))[r(397)]((t=>{console.error(t),o(t)}))})),d=t=>{const n=w,e=(new(THREE[n(434)]))[n(464)](t),o=new(THREE[n(444)]);e.getCenter(o),t[n(398)][n(436)]((t=>{t[n(400)].sub(o)})),t[n(400)].copy(o[n(440)]())};function w(t,n){const e=m();return(w=function(t,n){return e[t-=388]})(t,n)}const x=()=>{const t=w;n[t(442)][t(447)]=u,n[t(442)][t(450)]=p,e.prototype.raycast=f},b=async t=>{const n=w,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(451)].clone();h(c),c[n(447)]();const u=new o(c,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(458)]=!0,u[n(390)][n(408)]=!0,u[n(390)].depthTest=!0,u.material[n(449)]=i,u.material[n(431)][n(446)][n(438)].w=20,u[n(390)][n(431)][n(462)][n(438)]=.46,u};function I(t){const n=w,e=[];for(let r=0;r<t[n(441)];r++)e[n(448)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(441)];r++)o[n(445)](e[r]);o[n(466)](e[n(441)]);for(let r=0;r<e[n(441)];r++)e[r].sub(o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=w;if(typeof t===e(415))return function(t){}[e(388)](e(406)).apply(e(454));1!==(""+t/t)[e(441)]||t%20==0?function(){return!0}[e(388)](e(411)+"gger")[e(425)](e(453)):function(){return!1}[e(388)](e(411)+e(459)).apply(e(422)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{d as a,I as g,x as i,y as l,h as r,b as s};
