import{a as t,B as n,s as e,b$ as o,C as r,k as s,a0 as i}from"./three.QbUqWzuy1728531791220.js";import{x as c}from"./@fesjs.AIUeUkBK1728531791220.js";import{z as a}from"./@tresjs.TFxw2EXb1728531791220.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.AYIyC3ZD1728531791220.js";!function(t,n){const e=m,o=x();for(;;)try{if(671587===parseInt(e(247))/1*(parseInt(e(240))/2)+parseInt(e(230))/3+parseInt(e(254))/4*(-parseInt(e(237))/5)+parseInt(e(295))/6*(parseInt(e(243))/7)+-parseInt(e(269))/8+parseInt(e(283))/9+-parseInt(e(290))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(251)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=x();return(m=function(t,n){return e[t-=221]})(t,n)}!function(){l(this,(function(){const t=m,n=new RegExp(t(236)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=_(t(253));n[t(232)](o+t(275))&&e[t(232)](o+t(235))?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=m;let n;try{n=Function("return (function() "+t(272)+");")()}catch(r){n=window}const e=n[t(250)]=n[t(250)]||{},o=[t(239),"warn",t(244),t(234),t(227),"table",t(281)];for(let s=0;s<o[t(225)];s++){const n=g[t(279)][t(261)].bind(g),r=o[s],i=e[r]||n;n[t(242)]=g[t(274)](g),n.toString=i.toString[t(274)](i),e[r]=n}}))();const h=(n,e=!1)=>{const o=m;n.computeBoundingBox();const{max:r,min:s}=n[o(270)];n[o(259)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(297)].position.count;t++)e?(a[o(229)]((n[o(297)].position.getX(t)-(s.x+r.x)/2)/i),a[o(229)]((n[o(297)][o(277)][o(266)](t)-(s.y+r.y)/2)/c)):(a[o(229)]((n.attributes[o(277)].getX(t)-s.x)/i),a[o(229)]((n[o(297)][o(277)].getY(t)-s.y)/c));const u=new Float32Array(a);n[o(223)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=m;c(t,{},{method:"get",mergeRequest:!0})[r(286)]((t=>{n&&e(t[n]),e(t.features)}))[r(260)]((t=>{console[r(234)](t),o(t)}))})),y=t=>{const n=m,e=(new(THREE[n(264)]))[n(221)](t),o=new(THREE[n(257)]);e[n(262)](o),t[n(271)][n(273)]((t=>{const e=n;t.position[e(265)](o)})),t[n(277)].copy(o[n(267)]())},w=()=>{const t=m;n[t(261)][t(294)]=u,n[t(261)][t(246)]=p,e[t(261)][t(292)]=f};function x(){const t=["material","position","depthWrite","constructor","count","trace","min","1416096zwpoiQ","uniforms","stateObject","then","add","setY","#fff","1394610cKsTae","expandByObject","raycast","random","computeBoundsTree","10854hblPZT","computeBoundingBox","attributes","action","reflectivity","clone","setFromObject","while (true) {}","setAttribute","config","length","depthTest","exception","debu","push","3136686TJthNX","counter","test","side","error","input","function *\\( *\\)","2539770lPtixf","geometry","log","2954dbodKQ","divideScalar","__proto__","2289KJyQER","info","applyMatrix4","disposeBoundsTree","319OFhFeV","set","getX","console","apply","gger","init","8SuTRoy","copy","center","Vector3","value","deleteAttribute","catch","prototype","getCenter","max","Box3","sub","getY","negate","string","3509248OKLFmX","boundingBox","children",'{}.constructor("return this")( )',"forEach","bind","chain"];return(x=function(){return t})()}const b=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t.geometry[n(300)]();h(c),c[n(294)]();const u=new o(c,{color:new r(n(289)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(276)].transparent=!0,u[n(276)][n(278)]=!0,u.material[n(226)]=!0,u[n(276)][n(233)]=i,u.material[n(284)][n(224)].value.w=20,u[n(276)][n(284)][n(299)][n(258)]=.46,u};function j(t){const n=m,e=[];for(let r=0;r<t[n(225)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(225)];r++)o[n(287)](e[r]);o[n(241)](e[n(225)]);for(let r=0;r<e[n(225)];r++)e[r][n(265)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=m;if(typeof t===e(268))return function(t){}[e(279)](e(222))[e(251)](e(231));1!==(""+t/t).length||t%20==0?function(){return!0}[e(279)]("debu"+e(252)).call(e(298)):function(){return!1}[e(279)](e(228)+e(252)).apply(e(285)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,w as i,d as l,h as r,b as s};
