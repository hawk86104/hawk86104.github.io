import{_ as t,h as n}from"./three.bXjbKLxC1731379053498.js";import{m as e}from"./@tresjs.bLKO3xyw1731379053498.js";import{d as o,P as a}from"./@pmndrs.WRC-eauj1731379053498.js";import{d as r,b as s,w as i,a3 as c,o as l,D as u,J as p,aj as d,ak as f}from"./@vue.-THQH3GC1731379053498.js";const h=y;!function(t,n){const e=y,o=g();for(;;)try{if(153232===-parseInt(e(450))/1+-parseInt(e(412))/2+-parseInt(e(396))/3*(-parseInt(e(415))/4)+-parseInt(e(467))/5+-parseInt(e(409))/6*(-parseInt(e(475))/7)+parseInt(e(432))/8+parseInt(e(456))/9)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(426),"i"),o=x(t(457));n[t(472)](o+t(461))&&e[t(472)](o+t(465))?x():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[y(476)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();w(void 0,(function(){const t=y;let n;try{n=Function(t(403)+t(464)+");")()}catch(a){n=window}const e=n[t(447)]=n[t(447)]||{},o=[t(430),t(458),t(444),t(439),t(433),t(394),"trace"];for(let r=0;r<o[t(410)];r++){const n=w[t(469)][t(427)][t(425)](w),a=o[r],s=e[a]||n;n[t(404)]=w.bind(w),n[t(416)]=s[t(416)][t(425)](s),e[a]=n}}))();const b=[h(422)];function g(){const t=["width","log","#000000","1976216NqzCOr","exception","castShadow","TresPlaneGeometry","while (true) {}","amount","shadows plm update","error","lightPosition","sin","remove","value","info","shadows render start","camera","console","gger","acos","80284UlkWxC","Group","call","random","alphaTest","blend","505368Xdynuz","init","warn","action","TresMesh","chain","position","blendWindow",'{}.constructor("return this")( )',"input","material","1137625FzHtFv","bias","constructor","DirectionalLight","children","test","add","far","7YinVnv","apply","bottom","table","size","3vDJLBt","ambient","intensity","texture","progressiveLightMap2","opacity","shadow","return (function() ","__proto__","string","debu","clear","near","903396CokmBk","length","cos","61962ZZrUqE","MathUtils","set","153108CvQSWc","toString","finish","color","randFloatSpread","Vector3","accumulativeShadowsCom","rotate-x","radius","frames","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","mapSize"];return(g=function(){return t})()}function y(t,n){const e=g();return(y=function(t,n){return e[t-=393]})(t,n)}const M=r({__name:h(421),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(431)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=h,w=r;let g=s();const{extend:y,scene:M,renderer:x,camera:z}=e();y({SoftShadowMaterial:o});const I={position:(new(t[m(420)]))[m(414)](w[m(440)].x,w[m(440)].y,w[m(440)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},v=new a(x[m(443)],M[m(443)],I[m(428)]),S={map:v[m(400)][m(399)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w[m(455)],alphaTest:w[m(454)],opacity:w[m(401)],color:w.color},_=new(t[m(451)]);for(let n=0;n<I.amount;n++){const n=new(t[m(470)])(16777215,I[m(398)]/I[m(437)]);n[m(434)]=!0,n[m(402)][m(468)]=I[m(468)],n.shadow[m(446)][m(408)]=I[m(408)],n[m(402)][m(446)][m(474)]=I[m(474)],n[m(402)][m(446)].right=I[m(395)]/2,n[m(402)][m(446)].left=-I[m(395)]/2,n[m(402)][m(446)].top=I[m(395)]/2,n[m(402)][m(446)][m(393)]=-I[m(395)]/2,n[m(402)][m(428)][m(429)]=I[m(428)],n.shadow[m(428)].height=I[m(428)],_[m(473)](n)}const P=()=>{const e=m,o=I[e(462)][e(410)]();for(let a=0;a<_[e(471)][e(410)];a++){const r=_[e(471)][a];if(Math[e(453)]()>w.ambient)r[e(462)][e(414)](I.position.x+t[e(413)][e(419)](I[e(423)]),I[e(462)].y+n.randFloatSpread(I[e(423)]),I[e(462)].z+t[e(413)][e(419)](I[e(423)]));else{let t=Math[e(449)](2*Math[e(453)]()-1)-Math.PI/2,n=2*Math.PI*Math[e(453)]();r.position.set(Math[e(411)](t)*Math[e(411)](n)*o,Math.abs(Math[e(411)](t)*Math.sin(n)*o),Math[e(441)](t)*o)}}},T=(t=1)=>{const n=m;M[n(443)].add(_),v.prepare();for(let e=0;e<t;e++)P(),v.update(z[n(443)],w.blendWindow),console.log(n(438),e);M[n(443)][n(442)](_),v[n(417)]()};i((()=>g[m(443)]),(t=>{const n=m;t&&(v.configure(t),v[n(407)](),console[n(430)](n(445)),T(w[n(424)]),console[n(430)]("shadows render end"))}));const j=()=>{const t=m;v[t(407)](),T(w[t(424)])};return c((()=>{const t=m;g[t(443)]&&(w[t(401)]&&(g[t(443)].material.opacity=w[t(401)]),w.alphaTest&&(g[t(443)][t(466)][t(454)]=w.alphaTest),w[t(418)]&&g.value.material[t(418)][t(414)](w.color),w[t(455)]&&(g[t(443)][t(466)].blend=w.blend))})),i((()=>w[m(440)]),(t=>{const n=m;t&&(console[n(430)](w.lightPosition),I.position[n(414)](t.x,t.y,t.z),j())}),{deep:!0}),i((()=>[w[m(424)],w[m(463)],w[m(397)]]),(()=>{j()})),(t,n)=>{const e=m;return l(),u(e(460),{"receive-shadow":"",ref_key:"gPlane",ref:g,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=p(e(435),{args:[1,1]},null,-1)),p("TresSoftShadowMaterial",d(f(S)),null,16)],8,b)}}});function x(t){function n(t){const e=y;if(typeof t===e(405))return function(t){}[e(469)](e(436)).apply("counter");1!==(""+t/t)[e(410)]||t%20==0?function(){return!0}[e(469)](e(406)+"gger")[e(452)](e(459)):function(){return!1}[e(469)](e(406)+e(448))[e(476)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
