var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,f as u,s as a,F as f,V as h,M as l,B as p,Y as g,t as d,a as w,ak as v,aN as I,$ as y,cq as b}from"./three.ZWd_rX7H1726563592429.js";import{t as m}from"./@mapbox.COxYkzOd1726563592429.js";import{c as x,d as _,a as M}from"./three-mesh-bvh.Z7OdME_M1726563592429.js";import{C as Z}from"./three-custom-shader-material.fdrKMsxZ1726563592429.js";import"./object-hash.PY2g7Wtg1726563592429.js";import"./@amap.JADYh6_E1726563592429.js";import"./glsl-tokenizer.Mx0qLbNn1726563592429.js";const E=S;!function(t,n){const r=S,e=R();for(;;)try{if(885361===-parseInt(r(329))/1*(parseInt(r(307))/2)+parseInt(r(342))/3+parseInt(r(319))/4+parseInt(r(359))/5*(-parseInt(r(355))/6)+parseInt(r(315))/7*(parseInt(r(361))/8)+parseInt(r(353))/9*(parseInt(r(314))/10)+parseInt(r(328))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const j=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){j(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(330),"i"),e=P(t(337));n[t(327)](e+t(335))&&r[t(327)](e+t(360))?P():e("0")}))()}();const k=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[S(301)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function S(t,n){const r=R();return(S=function(t,n){return r[t-=298]})(t,n)}k(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function(t(313)+t(332)+");")()}catch(r){n=window}return n}(),r=n[t(345)]=n[t(345)]||{},e=[t(334),t(351),"info","error","exception",t(331),t(300)];for(let o=0;o<e[t(318)];o++){const n=k[t(305)][t(322)][t(302)](k),i=e[o],s=r[i]||n;n.__proto__=k[t(302)](k),n.toString=s[t(321)][t(302)](s),r[i]=n}}))();class F extends c{constructor(){const t=S;super(),this[t(340)]=!1,this[t(333)]=!1,this.childrenTiles=[],this[t(352)]=new u}[E(337)](t,n,r){const e=E;this[e(354)]=t,Object[e(324)](this.tileNo),this[e(311)]=n,this[e(348)]=r,this[e(339)]=!1,this[e(365)]=t[2],this[e(323)]()}async ready(){const t=E;if(this[t(358)]=await this[t(311)][t(346)][t(343)](this.tileNo),!this[t(340)]){if(this.add(this.content),this[t(352)][t(298)](this[t(358)])[t(347)](this[t(325)].makeRotationX(-Math.PI/2)),this.map[t(308)](this),this[t(339)]=!0,this[t(333)]=!0,this[t(348)]){const n=this.parentTile.childrenTiles;let r=0;for(let e=0;e<n.length;e++)n[e][t(333)]&&r++;4===r&&(this[t(348)].visible=!1)}this[t(349)]()}}update(){const t=E;if(!this[t(333)]||this[t(340)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this.map;if(!n[t(350)](this.boundingBoxWorld))return void this.simplify();this[t(358)]instanceof a&&this[t(311)][t(346)][t(364)]&&(this[t(358)].material.uniforms[t(326)].value=this.map[t(346)][t(312)]());let e=this.boundingBoxWorld.distanceToPoint(r);const o=this[t(354)][2];e/=Math[t(320)](2,this[t(311)][t(346)][t(317)]-o),e<60&&this.subdivide(),e>80&&this[t(306)]();this[t(304)].sort(((n,e)=>n.boundingBoxWorld[t(363)](r)-e.boundingBoxWorld[t(363)](r)))[t(357)]((n=>n[t(349)]()))}subdivide(){const t=E,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(318)]>0||i>=e[t(317)])return;m.getChildren(r).forEach((n=>{const r=t,i=new F;i[r(337)](n,e,this),o[r(309)](i)}))}[E(306)](){const t=E;this[t(304)][t(357)]((n=>n[t(316)]())),this[t(304)]=[],this[t(339)]=!0}[E(316)](){const t=E;this.map[t(338)](this),this.map[t(346)][t(310)](this[t(354)]),this[t(304)][t(357)]((n=>n[t(316)]())),this[t(304)]=[],this[t(348)]=void 0,this[t(358)]&&(this[t(311)][t(346)][t(316)](this[t(354)],this.content),this[t(358)]=void 0),this[t(340)]=!0}}function P(t){function n(t){const r=S;if(typeof t===r(362))return function(t){}[r(305)](r(356))[r(301)](r(299));1!==(""+t/t)[r(318)]||t%20==0?function(){return!0}[r(305)]("debugger").call(r(341)):function(){return!1}[r(305)](r(344)+r(336)).apply(r(303)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function R(){const t=["intersectsBox","warn","boundingBoxWorld","18kiokgt","tileNo","8633748OhIjgC","while (true) {}","forEach","content","5WuwmZt","input","64984RVVtRn","string","distanceToPoint","filter","renderOrder","setFromObject","counter","trace","apply","bind","stateObject","childrenTiles","constructor","simplify","70VNqVjG","add","push","abort","map","getTranMatrix","return (function() ","7518460CTIPpw","371mqrabm","dispose","maxZoom","length","4160524fnoOmP","pow","toString","prototype","ready","freeze","matrixWorld","t_Matrix","test","117172RcFsdg","44102nroftf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table",'{}.constructor("return this")( )',"isReady","log","chain","gger","init","remove","visible","isDisposed","action","2648685wEotTb","getTile","debu","console","provider","applyMatrix4","parentTile","update"];return(R=function(){return t})()}const O=W;!function(t,n){const r=W,e=C();for(;;)try{if(740637===-parseInt(r(408))/1*(-parseInt(r(384))/2)+parseInt(r(376))/3*(-parseInt(r(351))/4)+-parseInt(r(406))/5*(parseInt(r(365))/6)+-parseInt(r(359))/7*(-parseInt(r(357))/8)+-parseInt(r(377))/9*(parseInt(r(375))/10)+parseInt(r(361))/11+parseInt(r(418))/12*(parseInt(r(405))/13))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const T=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){T(this,(function(){const t=W,n=new RegExp(t(398)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=B(t(397));n[t(393)](e+"chain")&&r[t(393)](e+t(371))?B():e("0")}))()}();const A=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[W(395)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function C(){const t=["apply","length","init","function *\\( *\\)","[Map.dispose] Method not implemented.","stateObject","info","exception","forEach","multiplyMatrices","13GWOdmt","50595OVBkAR","lastUpdateTime","1TpYLyo","string","bind","computeBoundsTree","__proto__","equals","rootTiles","trace","rootForward needs to be 0 - 3.","while (true) {}","87972hxOsbw","disposeBoundsTree","copy","matrixWorldInverse","160blNXkv","warn","lastCameraWorldPosition","console","prototype","initRootTiles","112ebtGVl","toString","404089PDUZbl","getWorldPosition","4276591hKLIMy","now","debu","maxZoom","30Edrulq","error","cameraFrustum","counter","gger","raycast","input","table","action","projectionMatrix","610NZqJOM","8781Nesptn","174987tMEMWA","push","update","camera","bbox","rootForward","dispose","1780090GJDMOd","lastCameraProjectionMatrix","return (function() ","call","cameraWorldPosition","regenerate","setFromProjectionMatrix","constructor","cameraProjectionMatrix","test",'{}.constructor("return this")( )'];return(C=function(){return t})()}function W(t,n){const r=C();return(W=function(t,n){return r[t-=351]})(t,n)}A(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(386)+t(394)+");")()}catch(r){n=window}return n}(),r=n[t(354)]=n.console||{},e=["log",t(352),t(401),t(366),t(402),t(372),t(415)];for(let o=0;o<e[t(396)];o++){const n=A.constructor.prototype[t(410)](A),i=e[o],s=r[i]||n;n[t(412)]=A[t(410)](A),n.toString=s[t(358)].bind(s),r[i]=n}}))();let z=class extends c{constructor(){const t=W;super(),this[t(381)]=[74.390592,6.900905,134.071423,54.318199],this[t(364)]=20,this[t(382)]=0,this[t(367)]=new f,this[t(388)]=new h,this.cameraProjectionMatrix=new l,this[t(385)]=new l,this.lastCameraWorldPosition=new h,this[t(414)]=[],this[t(407)]=0,!p[t(355)][t(411)]&&(p[t(355)][t(411)]=x),!p[t(355)][t(419)]&&(p[t(355)][t(419)]=_),a[t(355)][t(370)]=M}initRootTiles(){const t=W;this[t(382)]>3&&(console.warn(t(416)),this.rootForward=3),this[t(382)]<0&&(console[t(352)](t(416)),this[t(382)]=0);const n=[];let r=[m.bboxToTile(this[t(381)])],e=this[t(382)];for(;e>0;){const n=[...r];r=[],n.forEach((n=>{const e=t,o=m.getChildren(n);r[e(378)](...o)})),e--}n[t(378)](...r),n[t(403)]((n=>{const r=t,e=new F;e[r(397)](n,this),this[r(414)].push(e)}))}[O(379)](){const t=O;if(!this.visible||!this.camera)return;const n=Date[t(362)]();n-this[t(407)]<300||(0!==this[t(414)].length?(this[t(380)][t(360)](this[t(388)]),this[t(392)][t(404)](this[t(380)][t(374)],this[t(380)][t(421)]),this[t(388)][t(413)](this[t(353)])&&this.cameraProjectionMatrix.equals(this[t(385)])||(this[t(367)][t(390)](this[t(392)]),this[t(414)][t(403)]((n=>n[t(379)]())),this[t(385)][t(420)](this[t(392)]),this[t(353)].copy(this[t(388)]),this[t(407)]=n)):this[t(356)]())}[O(383)](){throw new Error(O(399))}[O(389)](){throw new Error("[Map.regenerate] Method not implemented.")}};function B(t){function n(t){const r=W;if(typeof t===r(409))return function(t){}[r(391)](r(417)).apply(r(368));1!==(""+t/t).length||t%20==0?function(){return!0}[r(391)](r(363)+"gger")[r(387)](r(373)):function(){return!1}.constructor(r(363)+r(369))[r(395)](r(400)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const U=$;function $(t,n){const r=G();return($=function(t,n){return r[t-=496]})(t,n)}!function(t,n){const r=$,e=G();for(;;)try{if(819178===parseInt(r(530))/1+-parseInt(r(543))/2+-parseInt(r(523))/3+parseInt(r(546))/4+-parseInt(r(515))/5+parseInt(r(528))/6+parseInt(r(549))/7)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const V=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){V(this,(function(){const t=$,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(502),"i"),e=K(t(496));n[t(536)](e+t(551))&&r[t(536)](e+t(520))?K():e("0")}))()}();const D=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[$(525)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();D(void 0,(function(){const t=$;let n;try{n=Function(t(521)+t(506)+");")()}catch(o){n=window}const r=n[t(503)]=n[t(503)]||{},e=[t(507),"warn",t(537),t(512),t(533),"table",t(547)];for(let i=0;i<e[t(498)];i++){const n=D[t(501)][t(508)].bind(D),o=e[i],s=r[o]||n;n[t(545)]=D[t(516)](D),n[t(511)]=s[t(511)][t(516)](s),r[o]=n}}))();const q=class t{constructor(){this[$(514)]=new AbortController,this.listeners=new Set}fetch(c,u={}){const a=$;var f,h;t.pendings[a(539)](c)||(t[a(497)][a(513)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(514)][a(499)]},n(f,r(h))))[a(510)]((t=>{const n=a;this[n(531)][n(532)]((r=>r[n(542)](t[n(541)]())))}))[a(550)]((t=>{const n=a;this[n(531)].forEach((r=>r[n(522)](t)))}))[a(538)]((()=>{const n=a;t[n(497)][n(526)](c)})))}[U(540)](){const t=U;this._controller[t(540)]()}};q.pendings=new Map;let X=q;class N{constructor(t,n){const r=U;this[r(518)]=t,this.init=n,this.promise=new Promise(((t,n)=>{this[r(542)]=t,this.reject=n}))}[U(517)](){const t=U;let n=X[t(497)][t(529)](this[t(518)]);return!n&&(n=new X,n.fetch(this.url,this[t(496)])),n[t(531)][t(509)](this),this[t(505)]}[U(540)](){const t=U;this[t(522)](t(504));const n=X[t(497)][t(529)](this.url);n&&(n.listeners[t(526)](this),0===n.listeners[t(500)]&&n[t(540)]())}}function G(){const t=["toString","error","set","_controller","4355625IpEKmV","bind","ready","url","stateObject","input","return (function() ","reject","1250211XdwoMU","counter","apply","delete","gger","2803788YsNvIQ","get","153120XrIVZJ","listeners","forEach","exception","string","debu","test","info","finally","has","abort","clone","resolve","2271086lyuOXa","while (true) {}","__proto__","4257452dbXyDK","trace","action","10904614WeAJGz","catch","chain","init","pendings","length","signal","size","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","User abort.","promise",'{}.constructor("return this")( )',"log","prototype","add","then"];return(G=function(){return t})()}function K(t){function n(t){const r=$;if(typeof t===r(534))return function(t){}.constructor(r(544)).apply(r(524));1!==(""+t/t)[r(498)]||t%20==0?function(){return!0}[r(501)](r(535)+r(527)).call(r(548)):function(){return!1}[r(501)](r(535)+r(527)).apply(r(519)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Y(t,n){const r=Q();return(Y=function(t,n){return r[t-=403]})(t,n)}function Q(){const t=["toString","console","1547192euoHoT","counter","test","log","function *\\( *\\)","input","return (function() ","chain","850086khwnzu","error","fillStyle","getContext","blob","strokeStyle","4942264tYnRPe","font","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","stateObject","rect","call","fillText","apply","constructor","#66AAFF","stroke","18323151FeSRWz","table","#00FFFF","length","9021222ALkIZK","3954657fhatBI","warn","bind","#44FF44","while (true) {}",'Offscreencanvas.getContext("2d") error!',"flipY","init","gger","trace","4819280rwsGtt","debu"];return(Q=function(){return t})()}!function(t,n){const r=Y,e=Q();for(;;)try{if(779903===-parseInt(r(438))/1+-parseInt(r(430))/2+parseInt(r(416))/3+parseInt(r(444))/4+parseInt(r(426))/5+parseInt(r(415))/6+-parseInt(r(411))/7)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const L=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Y(407)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){L(this,(function(){const t=Y,n=new RegExp(t(434)),r=new RegExp(t(446),"i"),e=tt(t(423));n[t(432)](e+t(437))&&r[t(432)](e+t(435))?tt():e("0")}))()}();const H=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Y(407)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();let J;function tt(t){function n(t){const r=Y;if("string"==typeof t)return function(t){}.constructor(r(420)).apply(r(431));1!==(""+t/t)[r(414)]||t%20==0?function(){return!0}[r(408)](r(427)+r(424))[r(405)]("action"):function(){return!1}[r(408)](r(427)+"gger").apply(r(403)),n(++t)}try{if(t)return n;n(0)}catch(r){}}H(void 0,(function(){const t=Y;let n;try{n=Function(t(436)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(429)]=n.console||{},e=[t(433),t(417),"info",t(439),t(447),t(412),t(425)];for(let i=0;i<e[t(414)];i++){const n=H[t(408)].prototype[t(418)](H),o=e[i],s=r[o]||n;n.__proto__=H.bind(H),n[t(428)]=s.toString[t(418)](s),r[o]=n}}))();const nt=it;function rt(){const t=["315693YDhCrJ","onMessage","map","10457414SWDkqu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4133YQwGAD",'{}.constructor("return this")( )',"console","postMessage","warn","toString","error","3010960FOSAVu","apply","test","worker","exception","clear","terminated","set","7ZxKSoa","terminate","__proto__","function *\\( *\\)","1178916imkwil","return (function() ","60uoluwl","bind","input","init","19620XxypGi","onmessage","5IaZgVm","data","call","info","gger","trace","constructor","2EhBWcI","debu","action","chain","string","log","141124jdxEUa","length"];return(rt=function(){return t})()}!function(t,n){const r=it,e=rt();for(;;)try{if(200230===parseInt(r(438))/1*(parseInt(r(472))/2)+-parseInt(r(463))/3+parseInt(r(478))/4*(parseInt(r(465))/5)+-parseInt(r(457))/6*(parseInt(r(453))/7)+-parseInt(r(445))/8+-parseInt(r(480))/9*(parseInt(r(459))/10)+parseInt(r(483))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const et=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[it(446)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){et(this,(function(){const t=it,n=new RegExp(t(456)),r=new RegExp(t(437),"i"),e=ct(t(462));n[t(447)](e+t(475))&&r.test(e+t(461))?ct():e("0")}))()}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function it(t,n){const r=rt();return(it=function(t,n){return r[t-=437]})(t,n)}ot(void 0,(function(){const t=it;let n;try{n=Function(t(458)+t(439)+");")()}catch(o){n=window}const r=n[t(440)]=n[t(440)]||{},e=[t(477),t(442),t(468),t(444),t(449),"table",t(470)];for(let i=0;i<e[t(479)];i++){const n=ot[t(471)].prototype[t(460)](ot),o=e[i],s=r[o]||n;n[t(455)]=ot[t(460)](ot),n[t(443)]=s[t(443)][t(460)](s),r[o]=n}}))();class st{constructor(t){const n=it;this.terminated=!0,this[n(482)]=new Map,this[n(448)]=new t,this[n(448)].onmessage=this.onMessage.bind(this),this[n(451)]=!1}async[nt(441)](t){const n=nt;if(!this[n(451)])return this.worker[n(441)](t),new Promise(((r,e)=>{const o=n;this[o(482)][o(452)](t.id,r)}))}[nt(481)](t){const n=nt,{id:r,error:e}=t[n(466)],o=this[n(482)].get(r);o&&!e&&o(t[n(466)]),this[n(482)].delete(r)}[nt(454)](){const t=nt;this[t(448)][t(464)]=null,this[t(448)][t(454)](),this[t(451)]=!0,this.map[t(450)]()}}function ct(t){function n(t){const r=it;if(typeof t===r(476))return function(t){}.constructor("while (true) {}")[r(446)]("counter");1!==(""+t/t)[r(479)]||t%20==0?function(){return!0}.constructor(r(473)+r(469))[r(467)](r(474)):function(){return!1}.constructor(r(473)+r(469)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=ht;!function(t,n){const r=ht,e=pt();for(;;)try{if(225432===parseInt(r(340))/1+-parseInt(r(300))/2*(-parseInt(r(353))/3)+-parseInt(r(349))/4*(parseInt(r(329))/5)+parseInt(r(326))/6+-parseInt(r(313))/7+-parseInt(r(306))/8+parseInt(r(317))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ft=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ht(358)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ht(t,n){const r=pt();return(ht=function(t,n){return r[t-=296]})(t,n)}!function(){ft(this,(function(){const t=ht,n=new RegExp(t(309)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=dt(t(297));n.test(e+t(348))&&r.test(e+t(328))?dt():e("0")}))()}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function pt(){const t=["21NjdZdI","join","abort","exception","error","apply","delete","init","get","showTileNo","22170FGlvgX","log","bind","getTile","indexOf","trace","1915912CZleyk","call","[x]","function *\\( *\\)","_useWorker",'{}.constructor("return this")( )',"constructor","2893240MQaNsu","set","getId","force-cache","4108599heWpxy","length","prototype","console","{z}","postMessage","fetching","replace","debu","2484354edxIPp","action","input","266515zHjcZF","[z]","source","cors","stateObject","toString","string","getUrl","return (function() ","gger","needsUpdate","303197iLanVm","{x}","_worker","maxZoom","useWorker","terminate","image","dispose","chain","28BYtlwp","table","bitmap","__proto__"];return(pt=function(){return t})()}lt(void 0,(function(){const t=ht;let n;try{n=Function(t(337)+t(311)+");")()}catch(o){n=window}const r=n[t(320)]=n[t(320)]||{},e=[t(301),"warn","info",t(357),t(356),t(350),t(305)];for(let i=0;i<e[t(318)];i++){const n=lt[t(312)][t(319)][t(302)](lt),o=e[i],s=r[o]||n;n[t(352)]=lt[t(302)](lt),n[t(334)]=s[t(334)][t(302)](s),r[o]=n}}))();class gt{constructor(){const t=ht;this[t(343)]=20,this[t(331)]="https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]",this[t(299)]=!1,this[t(310)]=!1,this[t(323)]=new Map}set[at(344)](t){var n;const r=at;this[r(310)]=t,!this[r(310)]&&(null==(n=this[r(342)])||n[r(345)](),this[r(342)]=void 0)}get[at(344)](){return this[at(310)]}async[at(303)](t){const n=at,r=this[n(336)](t),e=new g;if(this[n(310)]){!this._worker&&(this[n(342)]=new st(ut));const o=this[n(315)](t),i=await this._worker[n(322)]({id:o,tileNo:t,url:r,debug:this[n(299)]});e[n(346)]=i[n(351)]}else{const o=new N(r,{cache:n(316),mode:n(332)});this[n(323)][n(314)](t,o);try{e[n(346)]=await async function(t,n,r=!1){const e=Y,o=await n.ready(),i=await o[e(442)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(422)});if(!r)return s;!J&&(J=new OffscreenCanvas(256,256));const c=J[e(441)]("2d");if(!c)throw new Error(e(421));const{width:u,height:a}=J;return c.drawImage(s,0,0),c[e(404)](0,0,u,a),c[e(443)]=e(413),c[e(445)]="20px Arial",c[e(410)](),c[e(440)]="#FF4444",c[e(406)](""+t[0],10,30),c.fillStyle=e(419),c[e(406)](""+t[1],10,55),c[e(440)]=e(409),c[e(406)](""+t[2],10,80),await createImageBitmap(J,{imageOrientation:e(422)})}(t,o,this[n(299)])}finally{this[n(323)].delete(t)}}return e[n(339)]=!0,e.anisotropy=4,e}[at(355)](t){var n;const r=at;if(this._useWorker)null==(n=this[r(342)])||n[r(322)]({id:this[r(315)](t),abort:!0});else{const n=this[r(323)][r(298)](t);n&&n.abort(),this[r(323)][r(296)](t)}}[at(347)](t,n){n[at(347)]()}[at(315)](t){return t[at(354)]("-")}getUrl(t){const n=at,[r,e,o]=t;return-1===this[n(331)][n(304)](n(308))?this.source.replace(n(341),r+"")[n(324)]("{y}",e+"").replace(n(321),o+""):this.source.replace(n(308),r+"")[n(324)]("[y]",e+"")[n(324)](n(330),o+"")}}function dt(t){function n(t){const r=ht;if(typeof t===r(335))return function(t){}[r(312)]("while (true) {}")[r(358)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[r(312)]("debu"+r(338))[r(307)](r(327)):function(){return!1}[r(312)](r(325)+r(338))[r(358)](r(333)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const wt=vt;function vt(t,n){const r=bt();return(vt=function(t,n){return r[t-=137]})(t,n)}!function(t,n){const r=vt,e=bt();for(;;)try{if(569973===parseInt(r(141))/1+parseInt(r(152))/2*(parseInt(r(154))/3)+parseInt(r(138))/4+parseInt(r(166))/5+-parseInt(r(173))/6+-parseInt(r(163))/7*(parseInt(r(153))/8)+-parseInt(r(161))/9*(parseInt(r(150))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const It=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[vt(159)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){It(this,(function(){const t=vt,n=new RegExp(t(176)),r=new RegExp(t(148),"i"),e=Ot(t(190));n[t(157)](e+t(160))&&r.test(e+t(139))?Ot():e("0")}))()}();const yt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[vt(159)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function bt(){const t=["error","751796LClryN","console","cosh","tan","debu","’ outside UTM limits","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","sqrt","10dftVqi","atan2","6874vGOWyH","73096vbZMif","141xxcfFJ","constructor","atanh","test","utm","apply","chain","1084581GJVUZz","warn","259dQxALA","call","toString","1556075gcDFBC","bind","cos","log","info","toFixed","trace","2350086ACshUd","sinh","sin","function *\\( *\\)","return (function() ","table","CDEFGHJKLMNPQRSTUVWXX","latitude ‘","exp","floor","abs","gger","prototype","counter","string","merc",'{}.constructor("return this")( )',"init","length","atan","782728SvZJkX","input"];return(bt=function(){return t})()}yt(void 0,(function(){const t=vt,n=function(){const t=vt;let n;try{n=Function(t(177)+t(189)+");")()}catch(r){n=window}return n}(),r=n[t(142)]=n[t(142)]||{},e=["log",t(162),t(170),t(140),"exception",t(178),t(172)];for(let o=0;o<e[t(191)];o++){const n=yt[t(155)][t(185)][t(167)](yt),i=e[o],s=r[i]||n;n.__proto__=yt[t(167)](yt),n[t(165)]=s[t(165)][t(167)](s),r[i]=n}}))();const mt=wt(158),xt=wt(188),_t=6378137,Mt=Math.PI/180;function Zt(t,n){const r=wt;return[_t*t*Mt,_t*Math[r(169)](Math[r(144)](.25*Math.PI+n*Mt*.5))]}function Et(t,n){const r=wt;let e=t/(_t*Math.PI)*180,o=n/(_t*Math.PI)*180;return o=180/Math.PI*(2*Math[r(137)](Math[r(181)](o*Math.PI/180))-Math.PI/2),[e,o]}function jt(t){return t*Math.PI/180}function kt(t){return 180*t/Math.PI}const St={a:6378137,b:6356752.314245,f:1/298.257223563},Ft=wt(179);function Pt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError(e(180)+n+e(146));let o=r||Math.floor((t+180)/6)+1,i=jt(6*(o-1)-180+3);const s=Ft.charAt(Math[e(182)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=jt(6)):32===o&&"X"===s&&t<9?(o--,i-=jt(6)):32===o&&"X"===s&&t>=9?(o++,i+=jt(6)):34===o&&"X"===s&&t<21?(o--,i-=jt(6)):34===o&&"X"===s&&t>=21?(o++,i+=jt(6)):36===o&&"X"===s&&t<33?(o--,i-=jt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=jt(6));const c=jt(n),u=jt(t)-i,{a:a,f:f}=St,h=.9996,l=Math[e(149)](f*(2-f)),p=f/(2-f),g=p*p,d=p*g,w=p*d,v=p*w,I=p*v,y=Math[e(168)](u),b=Math[e(175)](u),m=Math[e(144)](c),x=Math[e(174)](l*Math[e(156)](l*m/Math[e(149)](1+m*m))),_=m*Math[e(149)](1+x*x)-x*Math.sqrt(1+m*m),M=Math[e(151)](_,y),Z=Math.asinh(b/Math[e(149)](_*_+y*y)),E=a/(1+p)*(1+1/4*g+1/64*w+1/256*I),j=[null,.5*p-2/3*g+5/16*d+41/180*w-127/288*v+7891/37800*I,13/48*g-.6*d+557/1440*w+281/630*v-1983433/1935360*I,61/240*d-103/140*w+15061/26880*v+167603/181440*I,49561/161280*w-179/168*v+6601661/7257600*I,34729/80640*v-3418889/1995840*I,.6650675310896665*I];let k=M;for(let R=1;R<=6;R++)k+=j[R]*Math[e(175)](2*R*M)*Math[e(143)](2*R*Z);let S=Z;for(let R=1;R<=6;R++)S+=j[R]*Math.cos(2*R*M)*Math[e(174)](2*R*Z);let F=h*E*S,P=h*E*k;return F+=5e5,P<0&&(P+=1e7),[F,P]}function Rt(t,n,r){const e=wt,o=r||50,{a:i,f:s}=St,c=.9996,u=t-5e5,a=n,f=Math[e(149)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,w=h*d,v=i/(1+h)*(1+1/4*l+1/64*g+1/256*w),I=u/(c*v),y=a/(c*v),b=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*w,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*w,17/480*p-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=y;for(let C=1;C<=6;C++)m-=b[C]*Math[e(175)](2*C*y)*Math[e(143)](2*C*I);let x=I;for(let C=1;C<=6;C++)x-=b[C]*Math[e(168)](2*C*y)*Math[e(174)](2*C*I);const _=Math.sinh(x),M=Math[e(175)](m),Z=Math[e(168)](m),E=M/Math[e(149)](_*_+Z*Z);let j=null,k=E;do{const t=Math[e(174)](f*Math[e(156)](f*k/Math.sqrt(1+k*k))),n=k*Math[e(149)](1+t*t)-t*Math.sqrt(1+k*k);j=(E-n)/Math[e(149)](1+n*n)*(1+(1-f*f)*k*k)/((1-f*f)*Math[e(149)](1+k*k)),k+=j}while(Math[e(183)](j)>1e-12);const S=k,F=Math[e(137)](S);let P=Math.atan2(_,Z),R=1;for(let C=1;C<=6;C++)R-=2*C*b[C]*Math.cos(2*C*y)*Math[e(143)](2*C*I);let O=0;for(let C=1;C<=6;C++)O+=2*C*b[C]*Math[e(175)](2*C*y)*Math[e(174)](2*C*I);Math[e(137)](Math.tan(m)*Math.tanh(x));const T=Math[e(175)](F);Math[e(149)](1-f*f*T*T),Math.sqrt(1+S*S),Math[e(149)](_*_+Z*Z),Math[e(149)](R*R+O*O);P+=jt(6*(o-1)-180+3);const A=Number(kt(F)[e(171)](14));return[Number(kt(P)[e(171)](14)),A]}function Ot(t){function n(t){const r=vt;if(typeof t===r(187))return function(t){}[r(155)]("while (true) {}")[r(159)](r(186));1!==(""+t/t)[r(191)]||t%20==0?function(){return!0}[r(155)](r(145)+r(184))[r(164)](r(147)):function(){return!1}[r(155)](r(145)+r(184)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Tt(){const t=["prototype","test","apply","gger","toString","415143QPqamW","input","coordType","chain","call","getTile","440410UHdWcH","console","5405976GXbdSR","stateObject","bind","maxZoom","45eYcjIs","length","convertCoordinate","counter","debu","string","position","setAttribute","while (true) {}","function *\\( *\\)","2gWnNpu","12MsnUEb","__proto__","constructor","log","14955TadDbu","13585319luEhhU","exception","dispose","331091lyplBv","action","table","2390997FXyjjs","1314osTaVS","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(Tt=function(){return t})()}const At=zt;!function(t,n){const r=zt,e=Tt();for(;;)try{if(381977===-parseInt(r(245))/1*(-parseInt(r(236))/2)+parseInt(r(214))/3*(-parseInt(r(237))/4)+-parseInt(r(241))/5*(parseInt(r(249))/6)+parseInt(r(248))/7+-parseInt(r(222))/8+-parseInt(r(226))/9*(-parseInt(r(220))/10)+parseInt(r(242))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Ct=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[zt(211)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Ct(this,(function(){const t=zt,n=new RegExp(t(235)),r=new RegExp(t(251),"i"),e=Ut("init");n[t(210)](e+t(217))&&r[t(210)](e+t(215))?Ut():e("0")}))()}();const Wt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[zt(211)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function zt(t,n){const r=Tt();return(zt=function(t,n){return r[t-=210]})(t,n)}Wt(void 0,(function(){const t=zt;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(221)]=n[t(221)]||{},e=[t(240),"warn",t(250),"error",t(243),t(247),"trace"];for(let i=0;i<e[t(227)];i++){const n=Wt.constructor[t(252)][t(224)](Wt),o=e[i],s=r[o]||n;n[t(238)]=Wt.bind(Wt),n[t(213)]=s[t(213)][t(224)](s),r[o]=n}}))();class Bt{constructor(){const t=zt;this.utmZone=50,this.coordType=mt,this[t(225)]=20}async[At(219)](t){const n=At,r=new d,e=m.tileToBBOX(t),o=this.convertCoordinate(e[0],e[3]),i=this[n(228)](e[2],e[3]),s=this[n(228)](e[0],e[1]),c=this[n(228)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r[n(233)](n(232),new w(u,3)),r}abort(t){}dispose(t,n){n[At(244)]()}convertCoordinate(t,n){return this[At(216)]===mt?Pt(t,n,this.utmZone):Zt(t,n)}}function Ut(t){function n(t){const r=zt;if(typeof t===r(231))return function(t){}[r(239)](r(234))[r(211)](r(229));1!==(""+t/t).length||t%20==0?function(){return!0}[r(239)](r(230)+r(212))[r(218)](r(246)):function(){return!1}[r(239)](r(230)+r(212))[r(211)](r(223)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function $t(t){return new Worker(""+new URL("../static/MartiniWorker-uKVHd6U7.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Vt=Nt;!function(t,n){const r=Nt,e=Xt();for(;;)try{if(404728===-parseInt(r(202))/1*(parseInt(r(215))/2)+-parseInt(r(192))/3+-parseInt(r(181))/4+parseInt(r(203))/5*(parseInt(r(198))/6)+parseInt(r(209))/7*(-parseInt(r(189))/8)+parseInt(r(174))/9+parseInt(r(221))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Dt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Nt(197)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Dt(this,(function(){const t=Nt,n=new RegExp(t(226)),r=new RegExp(t(180),"i"),e=Kt(t(224));n.test(e+"chain")&&r.test(e+t(182))?Kt():e("0")}))()}();const qt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Nt(197)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Xt(){const t=['{}.constructor("return this")( )',"call","3349800RFniTv","replace","getInMainThread","error","_worker","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","647284dsqgje","input","[x]","gger","source","terminate","[z]","string","2689928FHRaul","prototype","console","547701ogIfVe","positions","action","getId","utmZone","apply","6rQaYCd","constructor","getUrl","stateObject","778umrRdk","811105gIAKwj","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","info","counter","debu","_useWorker","7SrVNaC","coordType","exception","join","getInWorkerThread","useWorker","172BVjUKm","setIndex","trace","maxZoom","warn","bind","6178440iwaEKo","table","log","init","postMessage","function *\\( *\\)"];return(Xt=function(){return t})()}function Nt(t,n){const r=Xt();return(Nt=function(t,n){return r[t-=172]})(t,n)}qt(void 0,(function(){const t=Nt;let n;try{n=Function("return (function() "+t(172)+");")()}catch(o){n=window}const r=n[t(191)]=n[t(191)]||{},e=[t(223),t(219),t(205),t(177),t(211),t(222),t(217)];for(let i=0;i<e.length;i++){const n=qt[t(199)][t(190)].bind(qt),o=e[i],s=r[o]||n;n.__proto__=qt.bind(qt),n[t(179)]=s[t(179)][t(220)](s),r[o]=n}}))();class Gt{constructor(){const t=Nt;this[t(218)]=12,this[t(210)]=mt,this[t(196)]=50,this[t(208)]=!0,this[t(185)]=t(204)}set[Vt(214)](t){var n;const r=Vt;this[r(208)]=t,!this[r(208)]&&(null==(n=this[r(178)])||n[r(186)](),this._worker=void 0)}get[Vt(214)](){return this._useWorker}async getTile(t){const n=Vt;return this[n(208)]?this[n(213)](t):this[n(176)]()}async[Vt(176)](){return new p}async getInWorkerThread(t){const n=Vt;!this._worker&&(this[n(178)]=new st($t));const r={tileNo:t,id:this[n(195)](t),url:this[n(200)](t),maxZ:this[n(218)],coordType:this.coordType,utmZone:this[n(196)]},e=await this[n(178)][n(225)](r),o=new p;return o.setAttribute("position",new w(e[n(193)],3)),o.setAttribute("uv",new w(e.uv,2)),o[n(216)](new w(e.triangles,1)),o}async abort(t){var n;const r=Vt;this[r(208)]&&(null==(n=this[r(178)])||n[r(225)]({id:this.getId(t),abort:!0}))}async dispose(t,n){var r;const e=Vt;n.dispose(),this[e(208)]&&(null==(r=this[e(178)])||r.postMessage({id:this[e(195)](t),dispose:!0}))}getId(t){return t[Vt(212)]("-")}[Vt(200)](t){const n=Vt,[r,e,o]=t;return this[n(185)][n(175)](n(183),r+"")[n(175)]("[y]",e+"")[n(175)](n(187),o+"")}}function Kt(t){function n(t){const r=Nt;if(typeof t===r(188))return function(t){}[r(199)]("while (true) {}")[r(197)](r(206));1!==(""+t/t).length||t%20==0?function(){return!0}[r(199)](r(207)+r(184))[r(173)](r(194)):function(){return!1}[r(199)](r(207)+r(184))[r(197)](r(201)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Jt,e=Lt();;)try{if(781588===-parseInt(r(489))/1*(parseInt(r(496))/2)+-parseInt(r(481))/3*(parseInt(r(483))/4)+-parseInt(r(471))/5*(parseInt(r(500))/6)+-parseInt(r(495))/7+-parseInt(r(479))/8*(parseInt(r(480))/9)+-parseInt(r(477))/10+-parseInt(r(504))/11*(-parseInt(r(490))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Yt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Yt(this,(function(){var t=Jt,n=new RegExp(t(503)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=tn(t(487));n[t(488)](e+t(475))&&r.test(e+"input")?tn():e("0")}))()}();var Qt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Jt(498)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Lt(){var t=["toString",'{}.constructor("return this")( )',"chain","error","15198710DmnBpe","exception","160824HqEsKb","324vCgziZ","3hEAdJq","warn","2932964dXoXhf","table","string","__proto__","init","test","852183MmSveT","12kkMumh","console","call","gger","counter","4721213wgEdhY","2VVFaKo","trace","apply","return (function() ","24gPvfhm","debu","stateObject","function *\\( *\\)","59410582PoDEOZ","constructor","center","log","length","bind","while (true) {}","prototype","144890SUDzsg","action"];return(Lt=function(){return t})()}Qt(void 0,(function(){for(var t=Jt,n=function(){var t,n=Jt;try{t=Function(n(499)+n(474)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(491)]||{},e=[t(507),t(482),"info",t(476),t(478),t(484),t(497)],o=0;o<e[t(467)];o++){var i=Qt.constructor[t(470)][t(468)](Qt),s=e[o],c=r[s]||i;i[t(486)]=Qt[t(468)](Qt),i[t(473)]=c[t(473)].bind(c),r[s]=i}}))();class Ht extends a{constructor(t){var n=Jt;super(t),this[n(506)]=new h}}function Jt(t,n){var r=Lt();return(Jt=function(t,n){return r[t-=467]})(t,n)}function tn(t){function n(t){var r=Jt;if(typeof t===r(485))return function(t){}[r(505)](r(469))[r(498)](r(494));1!==(""+t/t)[r(467)]||t%20==0?function(){return!0}.constructor(r(501)+r(493))[r(492)](r(472)):function(){return!1}[r(505)]("debu"+r(493))[r(498)](r(502)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const nn=on;!function(t,n){const r=on,e=sn();for(;;)try{if(304715===parseInt(r(273))/1+-parseInt(r(219))/2+parseInt(r(254))/3+-parseInt(r(279))/4*(parseInt(r(248))/5)+-parseInt(r(276))/6*(-parseInt(r(240))/7)+parseInt(r(259))/8+parseInt(r(250))/9*(parseInt(r(274))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){rn(this,(function(){const t=on,n=new RegExp(t(251)),r=new RegExp(t(286),"i"),e=un(t(277));n[t(258)](e+t(278))&&r[t(258)](e+t(228))?un():e("0")}))()}();const en=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function on(t,n){const r=sn();return(on=function(t,n){return r[t-=219]})(t,n)}function sn(){const t=["console","trace","action","14ujoUFM","info","log","add","filter","boundingBox","error","computeBoundsTree","430chUsSY","useStandardMaterial","171PKronu","function *\\( *\\)","\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }","multiply","1008936ECVcwt","computeBoundingSphere","all","__proto__","test","237400Tqiofl","monochrome","genBright","showBoundingBox","prototype","center","while (true) {}","counter","geometry","flatShading","debu","getTile","geometryProvider","maxZoom","585990ksxHvd","67250bPgxyD","gger","232668QwCaQU","init","chain","11924ndfwBC","map","textureProvider","call","renderOrder","dispose","copy","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1192454QnfeYW","set","return (function() ","getTranMatrix","genSaturate","table","string","abort","constructor","input","bind","material","length","colorSpace","toString","opposite","apply","genContrast"];return(sn=function(){return t})()}en(void 0,(function(){const t=on,n=function(){const t=on;let n;try{n=Function(t(221)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(237)]=n[t(237)]||{},e=[t(242),"warn",t(241),t(246),"exception",t(224),t(238)];for(let o=0;o<e[t(231)];o++){const n=en[t(227)][t(263)][t(229)](en),i=e[o],s=r[i]||n;n[t(257)]=en[t(229)](en),n.toString=s[t(233)].bind(s),r[i]=n}}))();class cn{constructor(t,n){const r=on;this[r(271)]=t,this[r(281)]=n,this[r(272)]=20,this[r(262)]=!1,this.wireframe=!1,this[r(268)]=!1,this.useStandardMaterial=!1,this[r(244)]=null}[nn(222)](){var t,n,r,e,o;const i=nn;let s=new l;if(null==(t=this.filter)?void 0:t[i(234)]){let t=new l;t[i(220)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(253)](t)}if(null==(n=this[i(244)])?void 0:n[i(260)]){let t=new l;const n=this[i(244)].monochrome.r,r=this.filter[i(260)].g,e=this[i(244)][i(260)].b;t[i(220)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(253)](t)}if(null==(r=this[i(244)])?void 0:r[i(261)]){let t=new l;const n=this[i(244)][i(261)];t[i(220)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(253)](t)}if(null==(e=this[i(244)])?void 0:e[i(236)]){let t=new l;const n=this.filter[i(236)],r=.5*(1-n);t[i(220)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(253)](t)}if(null==(o=this.filter)?void 0:o[i(223)]){let t=new l;const n=this[i(244)].genSaturate,r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t.set(r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(253)](t)}return s}async[nn(270)](t){const n=nn,r=[this[n(271)][n(270)](t),this.textureProvider.getTile(t)],e=await Promise[n(256)](r),o=e[0],i=e[1];i[n(232)]=v;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(249)]?new I({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this[n(244)]&&(u=new Z({baseMaterial:u,vertexShader:"\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ",fragmentShader:n(252),silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(222)]()}}}));const f=new Ht;if(f[n(283)]=a,o.computeBoundingBox(),o[n(245)].getCenter(f[n(264)]),o[n(264)](),o[n(255)](),o[n(247)](),f.position[n(285)](f[n(264)]),f.geometry=o,f[n(230)]=u,this.showBoundingBox){const t=new b(o[n(245)]);f[n(243)](t)}return f}[nn(226)](t){const n=nn;this[n(271)].abort(t),this[n(281)].abort(t)}[nn(284)](t,n){const r=nn,e=n[r(267)],o=n.material;e&&this[r(271)].dispose(t,e),o&&o[r(280)]&&this[r(281)][r(284)](t,o[r(280)]),null==o||o[r(284)]()}}function un(t){function n(t){const r=on;if(typeof t===r(225))return function(t){}[r(227)](r(265))[r(235)](r(266));1!==(""+t/t)[r(231)]||t%20==0?function(){return!0}[r(227)]("debugger")[r(282)](r(239)):function(){return!1}.constructor(r(269)+r(275))[r(235)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}var an=ln;!function(t,n){for(var r=ln,e=gn();;)try{if(650112===-parseInt(r(293))/1+parseInt(r(321))/2*(-parseInt(r(304))/3)+parseInt(r(320))/4*(parseInt(r(325))/5)+parseInt(r(315))/6+-parseInt(r(327))/7+-parseInt(r(311))/8+parseInt(r(318))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(322)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){fn(this,(function(){var t=ln,n=new RegExp(t(314)),r=new RegExp(t(301),"i"),e=dn(t(326));n[t(308)](e+"chain")&&r.test(e+t(306))?dn():e("0")}))()}();var hn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ln(t,n){var r=gn();return(ln=function(t,n){return r[t-=293]})(t,n)}hn(void 0,(function(){var t,n=ln;try{t=Function(n(303)+n(296)+");")()}catch(u){t=window}for(var r=t[n(319)]=t[n(319)]||{},e=[n(324),n(316),n(297),"error",n(298),n(323),n(300)],o=0;o<e[n(305)];o++){var i=hn.constructor.prototype[n(295)](hn),s=e[o],c=r[s]||i;i[n(317)]=hn[n(295)](hn),i[n(313)]=c.toString[n(295)](c),r[s]=i}}))();const pn=class t{constructor(n){var r=ln;this[r(299)]=t.DOWN,this[r(302)]=n}};pn.UP=1,pn[an(310)]=2,pn.MATCH=3;function gn(){var t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geometry","return (function() ","3BqYVYo","length","input","stateObject","test","while (true) {}","DOWN","9126824vVrBKu","constructor","toString","function *\\( *\\)","2645046qOexbG","warn","__proto__","21122397QqkwMR","console","33692wehwbR","1139258gfgNsE","apply","table","log","310nOexOP","init","3925572YZBdrH","counter","388610BrVLrq","action","bind",'{}.constructor("return this")( )',"info","exception","mode","trace"];return(gn=function(){return t})()}function dn(t){function n(t){var r=ln;if("string"==typeof t)return function(t){}[r(312)](r(309)).apply(r(328));1!==(""+t/t)[r(305)]||t%20==0?function(){return!0}.constructor("debugger").call(r(294)):function(){return!1}[r(312)]("debugger")[r(322)](r(307)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=In,e=yn();;)try{if(658034===parseInt(r(133))/1*(parseInt(r(114))/2)+-parseInt(r(123))/3+parseInt(r(137))/4*(parseInt(r(112))/5)+-parseInt(r(138))/6*(parseInt(r(103))/7)+-parseInt(r(135))/8+-parseInt(r(118))/9*(-parseInt(r(129))/10)+parseInt(r(105))/11*(parseInt(r(125))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var wn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(134)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){wn(this,(function(){var t=In,n=new RegExp(t(119)),r=new RegExp(t(104),"i"),e=bn(t(121));n[t(128)](e+t(124))&&r[t(128)](e+t(107))?bn():e("0")}))()}();var vn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(134)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function In(t,n){var r=yn();return(In=function(t,n){return r[t-=103]})(t,n)}function yn(){var t=["10527SWPjsi","constructor","input","length","return (function() ","call","table","10Pqlsup","stateObject","6BmfpwT","debu","info","log","5454468gFkzaS","function *\\( *\\)","console","init","warn","3836460tEDWZW","chain","4848PSftxb","__proto__","action","test","20HpiXih","trace","gger","bind","235329CPjeVa","apply","7069392qcUWbl","while (true) {}","2432116mvZDCx","66iFYxKW","counter","445613vQSaUs","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(yn=function(){return t})()}function bn(t){function n(t){var r=In;if("string"==typeof t)return function(t){}[r(106)](r(136))[r(134)](r(139));1!==(""+t/t)[r(108)]||t%20==0?function(){return!0}.constructor("debu"+r(131))[r(110)](r(127)):function(){return!1}[r(106)](r(115)+r(131)).apply(r(113)),n(++t)}try{if(t)return n;n(0)}catch(r){}}vn(void 0,(function(){var t,n=In;try{t=Function(n(109)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t[n(120)]=t[n(120)]||{},e=["log",n(122),n(116),"error","exception",n(111),n(130)],o=0;o<e.length;o++){var i=vn[n(106)].prototype[n(132)](vn),s=e[o],c=r[s]||i;i[n(126)]=vn[n(132)](vn),i.toString=c.toString.bind(c),r[s]=i}}))(),function(t,n){for(var r=_n,e=Mn();;)try{if(524858===parseInt(r(178))/1*(-parseInt(r(153))/2)+parseInt(r(177))/3*(parseInt(r(158))/4)+parseInt(r(171))/5+-parseInt(r(156))/6+-parseInt(r(162))/7+-parseInt(r(150))/8+parseInt(r(180))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var mn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(155)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){mn(this,(function(){var t=_n,n=new RegExp(t(166)),r=new RegExp(t(173),"i"),e=Zn(t(179));n[t(161)](e+t(165))&&r[t(161)](e+"input")?Zn():e("0")}))()}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(155)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function _n(t,n){var r=Mn();return(_n=function(t,n){return r[t-=147]})(t,n)}function Mn(){var t=["4635820QBJEnp","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","length","log","9BLOLur","2Ztrjgg","init","18651915LfuceM",'{}.constructor("return this")( )',"debu","bind","8080552oqElUz","__proto__","while (true) {}","624428BhuvKG","prototype","apply","6026586RtmkvT","action","388324UMyogU","console","constructor","test","889392pobFWJ","gger","return (function() ","chain","function *\\( *\\)","exception","counter","toString","string"];return(Mn=function(){return t})()}function Zn(t){function n(t){var r=_n;if(typeof t===r(170))return function(t){}[r(160)](r(152)).apply(r(168));1!==(""+t/t)[r(175)]||t%20==0?function(){return!0}[r(160)](r(148)+r(163)).call(r(157)):function(){return!1}.constructor(r(148)+r(163))[r(155)](r(172)),n(++t)}try{if(t)return n;n(0)}catch(r){}}xn(void 0,(function(){var t,n=_n;try{t=Function(n(164)+n(147)+");")()}catch(u){t=window}for(var r=t[n(159)]=t.console||{},e=[n(176),"warn","info","error",n(167),"table",n(174)],o=0;o<e[n(175)];o++){var i=xn[n(160)][n(154)][n(149)](xn),s=e[o],c=r[s]||i;i[n(151)]=xn[n(149)](xn),i[n(169)]=c[n(169)][n(149)](c),r[s]=i}}))();const En=jn;function jn(t,n){const r=Sn();return(jn=function(t,n){return r[t-=141]})(t,n)}!function(t,n){const r=jn,e=Sn();for(;;)try{if(492534===parseInt(r(181))/1*(-parseInt(r(147))/2)+-parseInt(r(168))/3+-parseInt(r(175))/4*(parseInt(r(154))/5)+-parseInt(r(153))/6*(parseInt(r(166))/7)+-parseInt(r(158))/8*(-parseInt(r(143))/9)+parseInt(r(191))/10+-parseInt(r(189))/11*(-parseInt(r(146))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const kn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[jn(180)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Sn(){const t=["1806676GQiFCp","prototype",'{}.constructor("return this")( )',"return (function() ","__proto__","apply","681067eZBVKo","log","chain","table","string","debu","while (true) {}","input","12221rxsvjF","getChildPosition","2253400JueoXv","exception","Get context 2d error.","45MObbsC","length","offscreencanvas","29208WAdpwy","2uLKWMg","bind","getImageData","test","info","constructor","1716SKwgOo","10FoDjUp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","warn","drawImage","560288akkOuf","data","clip: ","counter","toString","gger","clip","getContext","12334vOPjHS","init","2096469VIEXWg","console","stateObject","action","trace","round","Clip terrain error"];return(Sn=function(){return t})()}!function(){kn(this,(function(){const t=jn,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(155),"i"),e=Pn(t(167));n[t(150)](e+t(183))&&r[t(150)](e+t(188))?Pn():e("0")}))()}();const Fn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[jn(180)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();Fn(void 0,(function(){const t=jn;let n;try{n=Function(t(178)+t(177)+");")()}catch(o){n=window}const r=n[t(169)]=n[t(169)]||{},e=[t(182),t(156),t(151),"error",t(141),t(184),t(172)];for(let i=0;i<e[t(144)];i++){const n=Fn.constructor[t(176)][t(148)](Fn),o=e[i],s=r[o]||n;n[t(179)]=Fn[t(148)](Fn),n[t(162)]=s[t(162)][t(148)](s),r[o]=n}}))();En(164),En(190);function Pn(t){function n(t){const r=jn;if(typeof t===r(185))return function(t){}[r(152)](r(187))[r(180)](r(161));1!==(""+t/t)[r(144)]||t%20==0?function(){return!0}[r(152)](r(186)+r(163)).call(r(171)):function(){return!1}[r(152)]("debu"+r(163))[r(180)](r(170)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=An,e=Tn();;)try{if(127992===parseInt(r(509))/1+parseInt(r(522))/2+parseInt(r(497))/3+parseInt(r(494))/4+parseInt(r(495))/5+parseInt(r(502))/6*(parseInt(r(518))/7)+-parseInt(r(516))/8*(parseInt(r(505))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Rn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[An(514)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Rn(this,(function(){var t=An,n=new RegExp(t(524)),r=new RegExp(t(504),"i"),e=Cn("init");n[t(517)](e+t(511))&&r[t(517)](e+"input")?Cn():e("0")}))()}();var On=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[An(514)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Tn(){var t=["apply","exception","24WUCVSw","test","259686ZoPwuv","prototype","return (function() ","trace","480604wcGZDM","info","function *\\( *\\)","toString","length","constructor","762044lBZPvl","738655kkRDQi","debu","310311EpGENB","counter","error","console","string","18QviiSV","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2199852ZGmoCh","gger","stateObject","while (true) {}","68001ZmPxqk","table","chain","__proto__","action"];return(Tn=function(){return t})()}function An(t,n){var r=Tn();return(An=function(t,n){return r[t-=494]})(t,n)}function Cn(t){function n(t){var r=An;if(typeof t===r(501))return function(t){}[r(527)](r(508))[r(514)](r(498));1!==(""+t/t)[r(526)]||t%20==0?function(){return!0}[r(527)](r(496)+r(506)).call(r(513)):function(){return!1}[r(527)](r(496)+r(506))[r(514)](r(507)),n(++t)}try{if(t)return n;n(0)}catch(r){}}On(void 0,(function(){var t,n=An;try{t=Function(n(520)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t.console=t[n(500)]||{},e=["log",n(503),n(523),n(499),n(515),n(510),n(521)],o=0;o<e[n(526)];o++){var i=On[n(527)][n(519)].bind(On),s=e[o],c=r[s]||i;i[n(512)]=On.bind(On),i[n(525)]=c[n(525)].bind(c),r[s]=i}}))();export{gt as M,Bt as P,cn as T,mt as U,z as a,xt as b,Gt as c,Zt as d,Pt as l,Rt as u,Et as w};
