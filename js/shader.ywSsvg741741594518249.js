import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.gjafZgVK1741594518249.js";import{_ as i,C as s}from"./three.8y0_KTxz1741594518249.js";import{P as a}from"./tweakpane.yDiyAAkA1741594518249.js";import{L as c}from"./three-subdivide.yzKchuM71741594518249.js";import{d as l,b as u,a2 as f,w as p,o as d,H as g,N as m,aj as h,ak as v,a3 as y,r as b,e as w,f as I,g as _,j as x,u as M,m as S,M as j}from"./@vue.NRI7TcgI1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";const T=k;!function(n,t){const e=k,o=F();for(;;)try{if(100842===parseInt(e(136))/1+parseInt(e(167))/2*(parseInt(e(148))/3)+parseInt(e(162))/4*(-parseInt(e(165))/5)+parseInt(e(131))/6*(parseInt(e(138))/7)+-parseInt(e(118))/8+-parseInt(e(134))/9*(-parseInt(e(116))/10)+parseInt(e(129))/11*(parseInt(e(156))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(157)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function k(n,t){const e=F();return(k=function(n,t){return e[n-=107]})(n,t)}!function(){B(this,(function(){const n=k,t=new RegExp(n(151)),e=new RegExp(n(113),"i"),o=C(n(122));t[n(112)](o+n(141))&&e.test(o+n(159))?C():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(157)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(){const n=["srcMesh","init","FrontSide","scale","log","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","console","while (true) {}","121ZKQwTQ","action","6HdLPlB","gger","bind","18IZgpSX","modify","95824RoxjtS","geometry","510209jjfFKc","side","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","chain","viewVector","TSGref","Vector3","__proto__","TresShaderMaterial","uniforms","406974xXUhYS","subVectors","value","function *\\( *\\)","prototype","toString","call","position","5220MbybiH","apply","attributes","input","debu","TresMesh","4sVpslU","info","stateObject","961555IwWlOI","clone","2fVhSag","AdditiveBlending","warn","trace","subdivision","blending","error","length","material","#ffff00","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","glowColor","constructor","911510zhoThQ","color","1586424FIRFiD",'{}.constructor("return this")( )',"copy"];return(F=function(){return n})()}A(void 0,(function(){const n=k;let t;try{t=Function("return (function() "+n(119)+");")()}catch(r){t=window}const e=t.console=t[n(127)]||{},o=[n(125),n(169),n(163),n(108),"exception","table",n(170)];for(let i=0;i<o[n(109)];i++){const t=A[n(115)][n(152)][n(133)](A),r=o[i],s=e[r]||t;t[n(145)]=A[n(133)](A),t.toString=s[n(153)].bind(s),e[r]=t}}))();const z=[T(124)],R=l({__name:"shineShader",props:{srcMesh:{},scale:{default:1.2},color:{default:T(111)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[T(123)]},blending:{default:i[T(168)]}},setup(e){const o=T,r=e,a=u(),l={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new s(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(140),fragmentShader:o(126),side:r[o(139)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(107)]};f((()=>{const n=o;if(r[n(121)]&&a[n(150)]&&!a[n(150)][n(137)][n(158)][n(155)]){let t=r[n(121)][n(137)][n(166)]();r[n(171)]&&(t=c[n(135)](t,2)),a[n(150)].geometry=t,a[n(150)][n(155)][n(120)](r.srcMesh[n(155)])}r[n(117)]&&(l[n(147)][n(114)].value=new s(r[n(117)])),r.c&&(l[n(147)].c.value=r.c),r.p&&(l[n(147)].p[n(150)]=r.p)})),p((()=>r[o(171)]),(n=>{const t=o;let e=r[t(121)][t(137)][t(166)]();n&&(e=c[t(135)](e,2)),a[t(150)].geometry=e})),p((()=>r.side),(n=>{const t=o;a[t(150)].material[t(139)]=n})),p((()=>r.blending),(n=>{const t=o;a.value[t(110)][t(107)]=n}));const{onLoop:y}=n(),{camera:b}=t();return y((()=>{const n=o;b[n(150)]&&a.value&&(l.uniforms[n(142)].value=(new(i[n(144)]))[n(149)](b[n(150)][n(155)],a.value[n(155)]))})),(n,t)=>{const e=o;return d(),g(e(161),{ref_key:e(143),ref:a,scale:r[e(124)]},[m(e(146),h(v(l)),null,16)],8,z)}}});function C(n){function t(n){const e=k;if("string"==typeof n)return function(n){}[e(115)](e(128))[e(157)]("counter");1!==(""+n/n)[e(109)]||n%20==0?function(){return!0}[e(115)](e(160)+e(132))[e(154)](e(130)):function(){return!1}[e(115)](e(160)+e(132))[e(157)](e(164)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=V;function V(n,t){const e=H();return(V=function(n,t){return e[n-=103]})(n,t)}function H(){const n=["call","scale","warn","TresMesh","#0ff","19407kxGlYl","function *\\( *\\)","TresPerspectiveCamera","debu","TresGridHelper","counter","shader","while (true) {}","16SWROhq","logo.png","log","info","TresMeshRefB","FrontSide","side","constructor",'{}.constructor("return this")( )',"NormalBlending","apply","DoubleSide","toString","addBinding","length","action","gger","init","边缘处理","TresMeshBasicMaterial","TresMeshRefA","srcMesh","map","#00dfff","2202319MPgNtN","value","prototype","1884852dWmhbd","3561645ezidPF","BackSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","2113716dFKIZW","test","82qnmHPu","1157802pHHcus","AdditiveBlending","11874708lGhAYh","TreBoxRef","stateObject","trace","instance","TresSphereGeometry","chain","input","bind"];return(H=function(){return n})()}!function(n,t){const e=V,o=H();for(;;)try{if(700437===parseInt(e(103))/1+parseInt(e(161))/2*(-parseInt(e(119))/3)+-parseInt(e(159))/4+parseInt(e(155))/5+parseInt(e(154))/6+parseInt(e(151))/7*(parseInt(e(127))/8)+-parseInt(e(105))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){P(this,(function(){const n=V,t=new RegExp(n(120)),e=new RegExp(n(157),"i"),o=L(n(144));t[n(160)](o+n(111))&&e[n(160)](o+n(112))?L():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(137)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Z(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function("return (function() "+n(135)+");")()}catch(e){t=window}return t}(),e=t[n(158)]=t.console||{},o=[n(129),n(116),n(130),"error","exception","table",n(108)];for(let r=0;r<o[n(141)];r++){const t=Z[n(134)][n(153)][n(113)](Z),i=o[r],s=e[i]||t;t.__proto__=Z[n(113)](Z),t[n(139)]=s[n(139)][n(113)](s),e[i]=t}}))();const G=[N(149)],E=[N(149)],W=l({__name:N(125),async setup(n){const t=N;let s,c;const l={clearColor:"#222"},f=u(),p=u(),g=u(),h=([s,c]=y((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(128)]))),s=await s,c(),s),v=b({scale:1.6,color:t(150),subdivision:!0,c:1.1,p:1.4,side:i[t(132)],blending:i[t(104)]}),T=new a({title:"参数",expanded:!0});return T[t(140)](v,"color",{label:"颜色"}),T[t(140)](v,t(115),{label:"大小",min:1,max:3,step:.2}),T[t(140)](v,"subdivision",{label:t(145)}),T.addBinding(v,"c",{label:"c",min:0,max:2,step:.1}),T[t(140)](v,"p",{label:"p",min:0,max:8,step:.2}),T.addBinding(v,t(133),{options:{FrontSide:i[t(132)],BackSide:i[t(156)],DoubleSide:i[t(138)]}}),T[t(140)](v,"blending",{options:{AdditiveBlending:i[t(104)],NormalBlending:i[t(136)]}}),(n,r)=>{const i=t,s=w("TresCanvas");return d(),I(s,S(l,{"window-size":""}),{default:_((()=>[r[2]||(r[2]=m(i(121),{position:[5,5,5]},null,-1)),r[3]||(r[3]=m("TresAmbientLight",{intensity:1},null,-1)),x(M(e)),r[4]||(r[4]=m(i(123),{args:[10,10]},null,-1)),m("TresMesh",{ref_key:i(147),ref:f,position:[-2,1,0]},[r[0]||(r[0]=m(i(110),{args:[1,32,16]},null,-1)),m(i(146),{map:M(h)[0]},null,8,G)],512),x(R,S({srcMesh:f[i(152)]},v),null,16,[i(148)]),x(M(o),{ref_key:i(106),ref:g,args:[1,1,1],position:[2,1,0]},{default:_((()=>[m(i(146),{map:M(h)[1]},null,8,E)])),_:1},512),g[i(152)]&&g.value.instance?(d(),I(R,S({key:0,srcMesh:g[i(152)][i(109)]},v),null,16,[i(148)])):j("",!0),m(i(117),{ref_key:i(131),ref:p,position:[0,1,-2]},r[1]||(r[1]=[m("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),m(i(146),{color:i(118)},null,-1)]),512),x(R,S({srcMesh:p[i(152)]},v),null,16,[i(148)])])),_:1},16)}}});function L(n){function t(n){const e=V;if("string"==typeof n)return function(n){}[e(134)](e(126)).apply(e(124));1!==(""+n/n)[e(141)]||n%20==0?function(){return!0}.constructor("debu"+e(143))[e(114)](e(142)):function(){return!1}[e(134)](e(122)+e(143))[e(137)](e(107)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{W as default};
