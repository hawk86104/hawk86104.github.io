import{_ as t,bN as n,a3 as o,U as r,bU as e,C as a}from"./three.6w8Allze1738810638719.js";import{a as c}from"./@tresjs.8axf5yqM1738810638719.js";import{d as s,b as u,a3 as i,w as f,o as l,H as p,N as h,aj as d,ak as g}from"./@vue.NRI7TcgI1738810638719.js";function v(t,n){const o=w();return(v=function(t,n){return o[t-=101]})(t,n)}function w(){const t=["10uOnNnh","debu","\n       void main() {\n\t\t\t\t\t","input","project_vertex","call","table","string","info","while (true) {}","shadowmask_pars_fragment","return (function() ","6828960ndOOvR","warn","2dJDioq","4722720MgzYpO","packing","length","shadowmap_vertex","error","42787789LHZHJc","beginnormal_vertex","console",'{}.constructor("return this")( )',"gger","4372445hzwBYV","chain","ShaderChunk","\n\t ","prototype","lights_pars_begin","__proto__","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","counter","5079414JkKRSq","exception","stateObject","constructor","shadowmap_pars_vertex","850494yKTKDV","worldpos_vertex","action","shadowmap_pars_fragment","9tgECRt","test","\n          ","apply","4jQvWZD","\n       varying vec2 vUv;\n\t\t\t \t","common","toString","\n      \t","bind","bsdfs","defaultnormal_vertex","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1626081cnvHXc"];return(w=function(){return t})()}!function(t,n){const o=v,r=w();for(;;)try{if(763080===-parseInt(o(105))/1*(parseInt(o(137))/2)+-parseInt(o(122))/3*(parseInt(o(113))/4)+-parseInt(o(135))/5+parseInt(o(157))/6+-parseInt(o(148))/7+parseInt(o(138))/8*(-parseInt(o(109))/9)+parseInt(o(123))/10*(parseInt(o(143))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(112)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=v,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(121),"i"),r=y("init");n[t(110)](r+t(149))&&o[t(110)](r+t(126))?y():r("0")}))()}();const _=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(112)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();_(void 0,(function(){const t=v,n=function(){const t=v;let n;try{n=Function(t(134)+t(146)+");")()}catch(o){n=window}return n}(),o=n[t(145)]=n.console||{},r=["log",t(136),t(131),t(142),t(101),t(129),"trace"];for(let e=0;e<r.length;e++){const n=_[t(103)][t(152)][t(118)](_),a=r[e],c=o[a]||n;n[t(154)]=_[t(118)](_),n[t(116)]=c[t(116)].bind(c),o[a]=n}}))();const x=()=>{const o=v;return o(114)+t[o(150)][o(115)]+o(117)+n[o(119)]+"\n      \t"+n[o(104)]+o(125)+t[o(150)][o(144)]+"\n          "+t[o(150)][o(120)]+"\n          "+t[o(150)].begin_vertex+"\n          "+n[o(127)]+o(111)+t[o(150)][o(106)]+o(111)+n[o(141)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},b=()=>{const o=v;return o(155)+n[o(115)]+o(151)+t[o(150)][o(139)]+o(151)+n[o(119)]+"\n\t "+n[o(153)]+"\n\t "+t[o(150)][o(108)]+"\n\t "+t[o(150)][o(133)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function y(t){function n(t){const o=v;if(typeof t===o(130))return function(t){}[o(103)](o(132))[o(112)](o(156));1!==(""+t/t)[o(140)]||t%20==0?function(){return!0}[o(103)](o(124)+o(147))[o(128)](o(107)):function(){return!1}.constructor(o(124)+"gger")[o(112)](o(102)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const I=R;!function(t,n){const o=R,r=S();for(;;)try{if(824161===parseInt(o(411))/1+parseInt(o(430))/2*(parseInt(o(418))/3)+parseInt(o(402))/4*(-parseInt(o(393))/5)+parseInt(o(449))/6+-parseInt(o(415))/7+parseInt(o(416))/8+-parseInt(o(406))/9)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[R(428)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function S(){const t=["toString","#999","Color","return (function() ","args","constructor","trace","edge","action","counter","debu","tmRef","color","warn","table","fEdge","input","TresShaderMaterial","4332084skXWRB","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","shadowColor","25fbNRzJ","info","__proto__","log","wrapS","stateObject","error","wrapT","lights","1251848IwpeeB",'{}.constructor("return this")( )',"length","chain","11587284ntgdcM","call","test","bind","DoubleSide","1128295lEvgGa","init","#990","console","335097dDxobN","3739864goNoJa","size","9999hRAydf","uColor","prototype","string","while (true) {}","value","TresPlaneGeometry","merge","TresMesh","gger","apply","uniforms","844MVFwAk"];return(S=function(){return t})()}!function(){C(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(450),"i"),r=T(t(412));n[t(408)](r+t(405))&&o[t(408)](r+t(447))?T():r("0")}))()}();const j=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[R(428)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();j(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(434)+t(403)+");")()}catch(o){n=window}return n}(),o=n[t(414)]=n[t(414)]||{},r=[t(396),t(444),t(394),t(399),"exception",t(445),t(437)];for(let e=0;e<r[t(404)];e++){const n=j[t(436)][t(420)][t(409)](j),a=r[e],c=o[a]||n;n[t(395)]=j[t(409)](j),n[t(431)]=c[t(431)][t(409)](c),o[a]=n}}))();const k=["rotation-x"],M=[I(435)];function R(t,n){const o=S();return(R=function(t,n){return o[t-=392]})(t,n)}const E=s({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:I(413)},shadowColor:{default:I(432)},edge:{default:.35}},async setup(n){const s=I;let v,w;const m=n,_=u(),{map:y}=([v,w]=i((()=>c({map:"./plugins/floor/image/whiteFloor.jpg"}))),v=await v,w(),v);y[s(397)]=y[s(400)]=o;const C={uniforms:r[s(425)]([e[s(401)],{uTexture:{type:"t",value:y},uColor:{value:new(t[s(433)])(m[s(443)])},uShadowColor:{value:new a(m.shadowColor)},fEdge:{type:"f",value:m[s(438)]}}]),side:t[s(410)],vertexShader:x(),fragmentShader:b(),lights:!0,transparent:!0};return f((()=>m.edge),(t=>{const n=s;C[n(429)][n(446)][n(423)]=t})),f((()=>m.color),(t=>{const n=s;C[n(429)][n(419)].value=new a(m[n(443)])})),f((()=>m.shadowColor),(t=>{const n=s;C[n(429)].uShadowColor[n(423)]=new a(m[n(392)])})),(t,n)=>{const o=s;return l(),p(o(426),{ref_key:o(442),ref:_,"rotation-x":-Math.PI/2},[h(o(424),{args:m[o(417)]},null,8,M),h(o(448),d(g(C)),null,16)],8,k)}}});function T(t){function n(t){const o=R;if(typeof t===o(421))return function(t){}[o(436)](o(422)).apply(o(440));1!==(""+t/t)[o(404)]||t%20==0?function(){return!0}[o(436)](o(441)+o(427))[o(407)](o(439)):function(){return!1}.constructor(o(441)+"gger")[o(428)](o(398)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
