import{a as t,o as n}from"./@tresjs.ZmhvXhx31741583630766.js";import"./index.NM9dLbgt1741583630766.js";import{P as o}from"./tweakpane.yDiyAAkA1741583630766.js";import{C as e,_ as r}from"./three.sQDbNBks1741583630766.js";import{d as s,a3 as i,w as u,o as c,H as a,N as l,u as p,aj as f,ak as m,r as _,e as d,f as g,g as v,j as h,al as C,m as j}from"./@vue.NRI7TcgI1741583630766.js";import{_ as y}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.4TnY_Fpj1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.f-4hVQjg1741583630766.js";import"./all.three.B_wkcYmQ1741583630766.js";import"./oimophysics.x0jH7fze1741583630766.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.yVFyn7_g1741583630766.js";import"./index.tJ5USi7G1741583630766.js";import"./three-stdlib.apjMrEFM1741583630766.js";import"./@pmndrs.tHVKIvRt1741583630766.js";import"./object-hash.0KhWAYO_1741583630766.js";import"./@amap.-0-3lXdo1741583630766.js";import"./jszip.aE9nyDsq1741583630766.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.MfWUg7gL1741583630766.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.cohSAmW81741583630766.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.sDrJlqWW1741583630766.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.coUXzRj71741583630766.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.PRmqHHv51741583630766.js";const w=P;!function(t,n){const o=P,e=z();for(;;)try{if(748086===parseInt(o(130))/1+-parseInt(o(137))/2*(parseInt(o(144))/3)+-parseInt(o(110))/4*(parseInt(o(107))/5)+parseInt(o(161))/6+-parseInt(o(109))/7+-parseInt(o(106))/8+-parseInt(o(108))/9*(-parseInt(o(150))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const b=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[P(157)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){b(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(151),"i"),e=M(t(146));n[t(152)](e+t(121))&&o.test(e+"input")?M():e("0")}))()}();const I=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[P(157)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function P(t,n){const o=z();return(P=function(t,n){return o[t-=105]})(t,n)}function z(){const t=["test","imgParticleMesh","data","TresPoints","gger","apply","useCustomColor","console","toString","5813238giaDJC","image","error","251352HVSXPD","5ibJmeV","28307277jviFqC","9740101CMlBBZ","4697092SwWtNh","width","./logo.png","exception","info","__proto__","while (true) {}","return (function() ","stateObject","value","length","chain","drawImage","canvas","string","height","debu","\n\t\t\tvarying vec3 vColor;\n\t\t\tuniform bool useCustomColor;\n\t\t\tuniform vec3 customColor;\n\t\t\tvoid main() {\n\t\t\tif(useCustomColor){\n\t\t\t\tgl_FragColor = vec4(customColor, 1.0);\n\t\t\t}else{\n\t\t\t\tgl_FragColor = vec4(vColor, 1.0);\n\t\t\t}\n\t\t}","TresShaderMaterial","constructor","400263DIJysB","push","set","log","AdditiveBlending","#ff0000","table","146146ldBtXT","trace","warn","uniforms","prototype","getImageData",'{}.constructor("return this")( )',"48KgDimb","\n\t\tattribute vec3 color_list;\n\t\tvarying vec3 vColor;\n\t\tuniform float zPos;\n\t\tvoid main() {\n\t\t\tvec3 pos = position;\n\t\t\tpos.z *= zPos;\n\t\t\tvColor = color_list;\n\t\t\tvec4 modelPosition = modelMatrix * vec4(pos, 1.0);\n\t\t\tvec4 viewPosition = viewMatrix * modelPosition;\n\t\t\tgl_PointSize = 0.001 * (1.0 - viewPosition.z);\n\t\t\tgl_Position = projectionMatrix * viewPosition;\n\t\t}","init","createElement","bind","zPos","10jpObjC","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(z=function(){return t})()}I(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(117)+t(143)+");")()}catch(o){n=window}return n}(),o=n[t(159)]=n[t(159)]||{},e=[t(133),t(139),t(114),t(105),t(113),t(136),t(138)];for(let r=0;r<e[t(120)];r++){const n=I.constructor[t(141)].bind(I),s=e[r],i=o[s]||n;n[t(115)]=I.bind(I),n.toString=i[t(160)][t(148)](i),o[s]=n}}))();const x={position:[-8,10,-2],scale:.02},T=["position","color_list"],F=s({__name:w(153),props:{zPos:{default:1},useCustomColor:{default:!1},customColor:{default:w(135)}},async setup(n){const o=w;let s,_;const d=n,g=([s,_]=i((()=>t([o(112)]))),s=await s,_(),s),v=document[o(147)](o(123)),h=g.image[o(111)],C=g[o(162)][o(125)];v[o(111)]=h,v[o(125)]=C;const j=v.getContext("2d");null==j||j[o(122)](g.image,0,0);const y=null==j?void 0:j[o(142)](0,0,h,C)[o(154)],b=[],I=[];if(y)for(let t=0;t<C;t++)for(let n=0;n<h;n++){const e=4*(t*h+n);if(y[e+3]>0){const r=y[e]/255,s=y[e+1]/255,i=y[e+2]/255,u=100*Math.random();b[o(131)](n,-t,u),I[o(131)](r,s,i)}}const P=new Float32Array(b),z=new Float32Array(I),F={uniforms:{zPos:{value:d[o(149)]},useCustomColor:{value:d[o(158)]},customColor:{value:new e(d.customColor)}},vertexShader:o(145),fragmentShader:o(127),transparent:!0,depthTest:!1,blending:r[o(134)]};return u((()=>[d[o(149)],d[o(158)],d.customColor]),(([t,n,e])=>{const r=o;F.uniforms[r(149)][r(119)]=t,F[r(140)].useCustomColor[r(119)]=n,F[r(140)].customColor[r(119)][r(132)](e)})),(t,n)=>{const e=o;return c(),a(e(155),x,[l("TresBufferGeometry",{position:[p(P),3],color_list:[p(z),3]},null,8,T),l(e(128),f(m(F)),null,16)])}}});function M(t){function n(t){const o=P;if(typeof t===o(124))return function(t){}.constructor(o(116)).apply("counter");1!==(""+t/t)[o(120)]||t%20==0?function(){return!0}[o(129)](o(126)+o(156)).call("action"):function(){return!1}.constructor("debu"+o(156))[o(157)](o(118)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const S=Z;!function(t,n){const o=Z,e=O();for(;;)try{if(768243===-parseInt(o(465))/1*(parseInt(o(462))/2)+parseInt(o(446))/3+parseInt(o(436))/4*(-parseInt(o(435))/5)+parseInt(o(470))/6*(parseInt(o(439))/7)+-parseInt(o(454))/8*(-parseInt(o(461))/9)+parseInt(o(427))/10+-parseInt(o(458))/11)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const A=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){A(this,(function(){const t=Z,n=new RegExp(t(471)),o=new RegExp(t(443),"i"),e=k(t(464));n[t(463)](e+t(440))&&o[t(463)](e+t(456))?k():e("0")}))()}();const B=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function Z(t,n){const o=O();return(Z=function(t,n){return o[t-=427]})(t,n)}B(void 0,(function(){const t=Z,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),o=n[t(459)]=n[t(459)]||{},e=[t(433),t(469),t(460),"error","exception",t(438),t(472)];for(let r=0;r<e[t(452)];r++){const n=B[t(448)].prototype.bind(B),s=e[r],i=o[s]||n;n[t(441)]=B[t(455)](B),n[t(428)]=i[t(428)][t(455)](i),o[s]=n}}))();const D=s({__name:S(466),setup(t){const e=S,r={clearColor:"#050505",antialias:!1},s={reflectivity:.8,showGridHelper:!1,scale:6},i=_({zPos:1,useCustomColor:!1,customColor:e(453)}),u=new o({title:"参数"});return u.addBinding(i,e(457),{label:"厚度",min:.5,max:10,step:.5}),u.addBinding(i,e(429),{label:e(447)}),u[e(430)](i,e(434),{label:e(442)}),(t,o)=>{const u=e,a=d(u(467));return c(),g(a,j(r,{"window-size":""}),{default:v((()=>[o[0]||(o[0]=l(u(432),{position:[0,3,38],fov:45,near:.1,far:1e3},null,-1)),h(p(n)),o[1]||(o[1]=l(u(451),{intensity:.5},null,-1)),(c(),g(C,null,{default:v((()=>[h(F,f(m(i)),null,16)])),_:1})),(c(),g(C,null,{default:v((()=>[h(p(y),j({position:[0,-6,0]},s),null,16)])),_:1}))])),_:1},16)}}});function O(){const t=["while (true) {}","string","1027086tOZEZu","使用自定义颜色","constructor","debu","gger","TresAmbientLight","length","#ff0000","8OlvOcM","bind","input","zPos","21754942XwvFpT","console","info","11548863ZQWniQ","136zLaTTk","test","init","7273YgTFrI","imgParticle","TresCanvas","call","warn","24270YOyQxA","function *\\( *\\)","trace","11205310ntCLfe","toString","useCustomColor","addBinding","stateObject","TresPerspectiveCamera","log","customColor","3310MpsAwd","752iZKmQd","counter","table","1071UhJnYy","chain","__proto__","自定义颜色","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(O=function(){return t})()}function k(t){function n(t){const o=Z;if(typeof t===o(445))return function(t){}[o(448)](o(444)).apply(o(437));1!==(""+t/t)[o(452)]||t%20==0?function(){return!0}[o(448)]("debu"+o(450))[o(468)]("action"):function(){return!1}[o(448)](o(449)+o(450)).apply(o(431)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{D as default};
