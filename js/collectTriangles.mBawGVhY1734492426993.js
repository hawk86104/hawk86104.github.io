import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.WiFlZbqU1734492426993.js";import{_ as s}from"./index.gnaaJ3Uy1734492426993.js";import{_ as i,M as c,cB as u}from"./three.-W-Avfc61734492426993.js";import{P as a}from"./tweakpane.yHWGBmom1734492426993.js";import{I as l,C as p,N as f,c as g,d as m,a as d}from"./three-mesh-bvh.Ibne3Tc81734492426993.js";import{d as h,a6 as y,b as w,a3 as j,o as b,D as I,J as v,u as _,F as x,r as C,e as M,j as k,g as T,m as A,f as S,al as O}from"./@vue.-THQH3GC1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";import"./index.fO3pFmT61734492426993.js";import"./@fesjs.-ojmPQ0_1734492426993.js";import"./vue-router.XKFr-7ni1734492426993.js";import"./lodash-es.kYt-_xTG1734492426993.js";import"./@qlin.yHhFDldE1734492426993.js";import"./pinia.21wZrGqi1734492426993.js";import"./vue-demi.C4xddsk91734492426993.js";import"./@floating-ui.BPbuo5Gx1734492426993.js";import"./@juggle.7yjBMqoW1734492426993.js";import"./chalk.sAH7iSuz1734492426993.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1734492426993.js";import"./@iconify.3mYF4lU71734492426993.js";import"./dompurify.rQUea5mq1734492426993.js";import"./utils.5-VmCHCT1734492426993.js";import"./default.vue_vue_type_script_setup_true_lang.iMcVTCm11734492426993.js";import"./three-mesh-ui.module.nJC4ySDn1734492426993.js";!function(t,n){const e=R,r=E();for(;;)try{if(840284===-parseInt(e(439))/1+parseInt(e(424))/2*(parseInt(e(440))/3)+-parseInt(e(422))/4*(-parseInt(e(428))/5)+-parseInt(e(398))/6*(parseInt(e(420))/7)+-parseInt(e(412))/8*(parseInt(e(399))/9)+parseInt(e(417))/10*(-parseInt(e(407))/11)+parseInt(e(403))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(431)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){z(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(448),"i"),r=Z(t(442));n.test(r+t(432))&&e[t(429)](r+t(414))?Z():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[R(431)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(){const t=["chain","__proto__","call","value","trace","exception","pointerdown","601199PhMQBv","4786386skOPRp","touch","init","action","error","firstHitOnly","info","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","enabled","66CewmjC","9CHeqCx","console","setFromCamera","intersectObject","19578468inkrtW","pointerup","debu","table","121ZKsaCY","toString","gger","innerHeight","clientY","12161952hjKDIE","counter","input","constructor",'{}.constructor("return this")( )',"434030yYJOUB","bind","addEventListener","729582IOzafM","return (function() ","20JWGJUf","innerWidth","2jkCGOH","Raycaster","length","prototype","1358645yZFYcN","test","while (true) {}","apply"];return(E=function(){return t})()}B(void 0,(function(){const t=R;let n;try{n=Function(t(421)+t(416)+");")()}catch(o){n=window}const e=n[t(400)]=n[t(400)]||{},r=[t(396),t(447),t(446),t(444),t(437),t(406),t(436)];for(let s=0;s<r.length;s++){const n=B[t(415)][t(427)].bind(B),o=r[s],i=e[o]||n;n[t(433)]=B[t(418)](B),n[t(408)]=i.toString.bind(i),e[o]=n}}))();function R(t,n){const e=E();return(R=function(t,n){return e[t-=396]})(t,n)}function Z(t){function n(t){const e=R;if("string"==typeof t)return function(t){}[e(415)](e(430))[e(431)](e(413));1!==(""+t/t)[e(426)]||t%20==0?function(){return!0}[e(415)](e(405)+e(409))[e(434)](e(443)):function(){return!1}[e(415)]("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=Y;!function(t,n){const e=Y,r=q();for(;;)try{if(341171===parseInt(e(380))/1+-parseInt(e(386))/2*(-parseInt(e(447))/3)+-parseInt(e(367))/4+parseInt(e(382))/5*(-parseInt(e(454))/6)+parseInt(e(388))/7*(parseInt(e(387))/8)+parseInt(e(439))/9+parseInt(e(430))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(407)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){F(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(370),"i"),r=P(t(446));n.test(r+t(372))&&e[t(420)](r+t(453))?P():r("0")}))()}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Y(407)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Y(t,n){const e=q();return(Y=function(t,n){return e[t-=364]})(t,n)}H(void 0,(function(){const t=Y;let n;try{n=Function(t(448)+t(423)+");")()}catch(o){n=window}const e=n.console=n[t(364)]||{},r=[t(409),t(392),"info",t(427),t(410),t(381),t(417)];for(let s=0;s<r[t(424)];s++){const n=H[t(389)][t(436)].bind(H),o=r[s],i=e[o]||n;n.__proto__=H[t(419)](H),n[t(377)]=i.toString[t(419)](i),e[o]=n}}))();const W=[U(373),U(393)],J=[U(373)];function q(){const t=["setFromCamera","matrixWorld","raycast","normal","count","enabled","apply","DynamicDrawUsage","log","exception","intersectsBox","while (true) {}","addButton","setScalar","Vector3","center","trace","counter","bind","test","radius","Vector2",'{}.constructor("return this")( )',"length","needsUpdate","boundsTree","error","string","TresMesh","3849730yezHUz","index","applyMatrix4","instance","Sphere","MeshStandardMaterial","prototype","controls","setUsage","4509378LAQKFF","action","debu","visible","#023249","TresSphereGeometry","push","init","11067AmHUit","return (function() ","intersectObject","TresMeshStandardMaterial","intersectsSphere","fill","input","6SFIMTU","click","console","Mesh","生成模型","1363524CEsTkA","position","disposeBoundsTree","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","firstHitOnly","chain","geometry","point","gger","call","toString","setAttribute","value","34326VyqBeD","table","2646065QkTccr","getX","BufferAttribute","getY","22nOWjoY","400552WZGBgn","35KUwyrC","constructor","containsPoint","computeBoundsTree","warn","material","invert","getZ","targetMesh","BufferGeometry","setY","targetMesh.value init","attributes"];return(q=function(){return t})()}const L=h({__name:"model",props:{controls:{}},async setup(r){const o=U;let s,h;const C=r;(()=>{const t=Y;i[t(397)][t(436)][t(391)]=g,i[t(397)][t(436)][t(369)]=m,i[t(365)][t(436)][t(403)]=d})();const M=([s,h]=y((()=>e(u,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,h(),s),k=new(i[o(435)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),T=new Uint8Array(3*M[o(400)][o(368)].count);T[o(452)](255);const A=new(i[o(384)])(T,3,!0);A[o(438)](i[o(408)]),M[o(378)]("color",A);const S=w(null),O=w(null),z=w(!1),B=w(-1),E=w(.2),Z=new(i[o(422)]),{camera:F,raycaster:H}=t(),q=15/255,L=78/255,P=85/255;let X=null;j((()=>{const t=o;S.value&&(console[t(409)](t(399),S[t(379)]),S[t(379)][t(373)].computeBoundsTree(),X=M[t(426)],((t,n,e,r,o,s)=>{const c=R;window[c(419)]("pointermove",(e=>{const r=c;t.x=e.clientX/window[r(423)]*2-1,t.y=-e[r(411)]/window[r(410)]*2+1,n.value=!0})),window.addEventListener(c(438),(u=>{const a=c;t.x=u.clientX/window[a(423)]*2-1,t.y=-u[a(411)]/window[a(410)]*2+1,r[a(435)]=u.button;const l=new(i[a(425)]);l[a(401)](t,e[a(435)]),l[a(445)]=!0;const p=l[a(402)](o[a(435)],!0);n[a(435)]=!0,s[a(397)]=0===p.length}),!0),window.addEventListener(c(404),(t=>{const e=c;r[e(435)]=-1,t.pointerType===e(441)&&(n[e(435)]=!1)}),!0)})(Z,z,F,B,S,C.controls[t(433)]))}));const{onLoop:D}=n();D((()=>{const t=o,n=M[t(431)];if(O.value)if(C[t(437)].instance.active||!z[t(379)])O[t(379)].visible=!1;else{O[t(379)].scale[t(414)](E[t(379)]),H[t(379)][t(401)](Z,F[t(379)]),H[t(379)][t(371)]=!0;const e=H[t(379)][t(449)](S[t(379)],!0);if(e[t(424)]){O[t(379)].position.copy(e[0][t(374)]),C[t(437)].instance[t(406)]=!1,O[t(379)][t(442)]=!0;const r=new c;r.copy(S.value[t(402)])[t(394)]();const o=new(i[t(434)]);o[t(416)].copy(O[t(379)][t(368)])[t(432)](r),o[t(421)]=100*E[t(379)];const s=[],u=new(i[t(415)]);if(null==X||X.shapecast({intersectsBounds:n=>{const e=t,r=o[e(411)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(u.set(0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(390)](u))return l;return p}return r?l:f},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(451)](o)){const t=3*e;s[i(445)](t,t+1,t+2)}return!1}}),0===B[t(379)]||2===B[t(379)]){let e=1,r=1,o=1;0===B.value&&(e=q,r=L,o=P);for(let i=0,c=s.length;i<c;i++){const c=n[t(383)](s[i]);A.setX(c,e),A[t(398)](c,r),A.setZ(c,o)}A[t(425)]=!0}}else O.value[t(442)]=!1,C.controls.instance.enabled=!0}}));const $=(new a)[o(413)]({title:"点击按钮",label:o(366)}),G=new(i[o(397)]);return $.on(o(455),(()=>{const t=o,n=[],e=[];for(let o=0;o<A[t(405)];o++)A[t(383)](o)===q&&A[t(385)](o)===L&&A.getZ(o)===P&&(n[t(445)](M[t(400)][t(368)].getX(o),M.attributes.position[t(385)](o),M[t(400)][t(368)].getZ(o)),e[t(445)](M[t(400)][t(404)][t(383)](o),M[t(400)].normal.getY(o),M[t(400)].normal[t(395)](o)));const r=new Float32Array(n);G.setAttribute("position",new(i[t(384)])(r,3)),G[t(378)](t(404),new(i[t(384)])(r,3))})),(t,n)=>{const e=o;return b(),I(x,null,[v(e(429),{ref_key:e(396),ref:S,geometry:_(M),scale:.005,material:_(k)},null,8,W),v(e(429),{ref_key:"brushMesh",ref:O,visible:!1},n[0]||(n[0]=[v(e(444),{args:[1,40,40]},null,-1),v(e(450),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),v(e(429),{geometry:_(G),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[v("TresMeshStandardMaterial",{color:e(443),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,J)],64)}}});function P(t){function n(t){const e=Y;if(typeof t===e(428))return function(t){}.constructor(e(412))[e(407)](e(418));1!==(""+t/t)[e(424)]||t%20==0?function(){return!0}[e(389)](e(441)+"gger")[e(376)](e(440)):function(){return!1}[e(389)](e(441)+e(375))[e(407)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=G;!function(t,n){const e=G,r=K();for(;;)try{if(440055===parseInt(e(344))/1+parseInt(e(349))/2+-parseInt(e(353))/3*(-parseInt(e(362))/4)+-parseInt(e(380))/5*(-parseInt(e(338))/6)+parseInt(e(360))/7+parseInt(e(378))/8*(parseInt(e(366))/9)+parseInt(e(351))/10*(-parseInt(e(355))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[G(379)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=G,n=new RegExp(t(345)),e=new RegExp(t(340),"i"),r=V("init");n[t(352)](r+t(383))&&e[t(352)](r+t(369))?V():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function G(t,n){const e=K();return(G=function(t,n){return e[t-=338]})(t,n)}function K(){const t=["https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","pos-y.jpg","24waIyRJ","apply","789195XYpWhW","stateObject","constructor","chain","console","action","12vVynkE","pos-z.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","neg-x.jpg","neg-y.jpg","controls","226291SEfUub","function *\\( *\\)","debu","exception","__proto__","1269410CNJsiH","warn","23192620gPymgs","test","95466JskmWQ","TresCanvas","11OqHeyK","length","while (true) {}","toString","prototype","4660502fAanmv","pos-x.jpg","48LtMorS",'{}.constructor("return this")( )',"value","error","1604979EcOHVY","return (function() ","bind","input","info","collectTriangles","trace","call","TresAmbientLight","gger"];return(K=function(){return t})()}$(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function(t(367)+t(363)+");")()}catch(e){n=window}return n}(),e=n[t(384)]=n[t(384)]||{},r=["log",t(350),t(370),t(365),t(347),"table",t(372)];for(let o=0;o<r.length;o++){const n=$[t(382)][t(359)].bind($),s=r[o],i=e[s]||n;n[t(348)]=$.bind($),n[t(358)]=i.toString[t(368)](i),e[s]=n}}))();const Q=h({__name:X(371),setup(t){const n=C({clearColor:"#999999",antialias:!0}),e=C({autoRotate:!1}),i=w(null);return(t,c)=>{const u=G,a=M(u(354));return b(),I(x,null,[k(_(s)),k(a,A(n,{"window-size":""}),{default:T((()=>[c[0]||(c[0]=v("TresPerspectiveCamera",{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),k(_(r),A({ref_key:"controlsRef",ref:i},e),null,16),c[1]||(c[1]=v(u(374),{intensity:1},null,-1)),(b(),S(O,null,{default:T((()=>[k(L,{controls:i[u(364)]},null,8,[u(343)])])),_:1})),(b(),S(O,null,{default:T((()=>[k(_(o),{background:!1,files:[u(361),u(341),u(377),u(342),u(339),"neg-z.jpg"],path:u(376)})])),_:1}))])),_:1},16)],64)}}});function V(t){function n(t){const e=G;if("string"==typeof t)return function(t){}[e(382)](e(357))[e(379)]("counter");1!==(""+t/t)[e(356)]||t%20==0?function(){return!0}[e(382)](e(346)+e(375))[e(373)](e(385)):function(){return!1}[e(382)](e(346)+"gger")[e(379)](e(381)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
