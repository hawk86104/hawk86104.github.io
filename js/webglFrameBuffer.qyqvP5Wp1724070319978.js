import{c as t,m as n,_ as r}from"./gl-matrix.AFK4LjqA1724070319978.js";import{i as e,r as o,d as i}from"./ice-utils.cPiLz_at1724070319978.js";import{d as a,q as c,o as u,D as s}from"./@vue.Q1VpS3901724070319978.js";const f=E;!function(t,n){const r=E,e=T();for(;;)try{if(964041===parseInt(r(519))/1*(-parseInt(r(482))/2)+-parseInt(r(496))/3+parseInt(r(503))/4*(-parseInt(r(494))/5)+parseInt(r(507))/6+parseInt(r(471))/7+-parseInt(r(511))/8*(-parseInt(r(467))/9)+parseInt(r(501))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const _=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){_(this,(function(){const t=E,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(517),"i"),e=v(t(493));n[t(487)](e+t(485))&&r[t(487)](e+t(508))?v():e("0")}))()}();const l=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[E(473)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function E(t,n){const r=T();return(E=function(t,n){return r[t-=439]})(t,n)}function T(){const t=["3113800PYODnW","rotate","createFramebuffer","perspective","8720136ApWIsr","input","pixelStorei","TEXTURE_WRAP_S","140304BVExLc","constructor","querySelector","length","COLOR_BUFFER_BIT","multiply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","NEAREST","91617wYivym","bufferData",'{}.constructor("return this")( )',"create","createBuffer","bind","table","action","TEXTURE_2D","clientWidth","u_texture","canvaswebgl","counter","enableVertexAttribArray","DEPTH_BUFFER_BIT","clear","u_matrix","useProgram","STATIC_DRAW","while (true) {}","RGBA","ARRAY_BUFFER","texParameteri","console","FRAMEBUFFER","FLOAT","__proto__","texImage2D","TEXTURE_MAG_FILTER","TEXTURE_WRAP_T","TRIANGLES","\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\nuniform mat4 u_matrix;\nvarying vec2 v_texcoord;\nvoid main() {\n  gl_Position = u_matrix * a_position;\n  v_texcoord = a_texcoord;\n}","getAttribLocation","bindBuffer","enable","toString","return (function() ","\nprecision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\nvoid main(){\n\tgl_FragColor=texture2D(u_texture, v_texcoord.xy);\n}\n","getUniformLocation","mat4","string","162nUNIXW","width","a_position","UNPACK_ALIGNMENT","4082575FCLfip","height","apply","warn","a_texcoord","call","exception","gger","debu","UNSIGNED_BYTE","bindTexture","26FmFbLA","uniformMatrix4fv","bindFramebuffer","chain","clearColor","test","500px","COLOR_ATTACHMENT0","CLAMP_TO_EDGE","vertexAttribPointer","canvas","init","5FpmjmB","createTexture","5068797nOIKqO","clientHeight","stateObject","webgl","DEPTH_TEST","22708460MEdnnR","uniform1i"];return(T=function(){return t})()}l(void 0,(function(){const t=E;let n;try{n=Function(t(462)+t(521)+");")()}catch(o){n=window}const r=n.console=n[t(449)]||{},e=["log",t(474),"info","error",t(477),t(525),"trace"];for(let i=0;i<e[t(514)];i++){const n=l.constructor.prototype[t(524)](l),o=e[i],a=r[o]||n;n[t(452)]=l[t(524)](l),n[t(461)]=a[t(461)][t(524)](a),r[o]=n}}))();const p={id:f(530),style:{height:f(488),width:"500px"}},m=f(457),A=f(463),R=a({__name:"webglFrameBuffer",setup(a){const f=function(){const a=E,c=document[a(513)]("#canvaswebgl"),u=null==c?void 0:c.getContext(a(499));if(!u)return;var s=e(u,m,A),f=u.getAttribLocation(s,a(469)),_=u[a(458)](s,a(475)),l=u[a(464)](s,a(442)),T=u.getUniformLocation(s,a(529)),p=u[a(523)]();u[a(459)](u[a(447)],p),function(t){const n=E;var r=new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5]);t[n(520)](t[n(447)],r,t.STATIC_DRAW)}(u);var R=u.createBuffer();u.bindBuffer(u[a(447)],R),function(t){const n=E;t[n(520)](t[n(447)],new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1]),t[n(444)])}(u);var v=u[a(495)]();u[a(481)](u[a(527)],v);{const t=0,n=u.RGBA,r=1,e=1,o=0,i=u[a(446)],c=u.UNSIGNED_BYTE,s=new Uint8Array([255,255,0,255]),f=1;u[a(509)](u[a(470)],f),u[a(453)](u[a(527)],t,n,r,e,o,i,c,s),u[a(448)](u[a(527)],u.TEXTURE_MIN_FILTER,u.NEAREST),u[a(448)](u[a(527)],u[a(454)],u[a(518)]),u[a(448)](u[a(527)],u[a(510)],u[a(490)]),u.texParameteri(u[a(527)],u[a(455)],u.CLAMP_TO_EDGE)}const x=u.createTexture();u[a(481)](u.TEXTURE_2D,x);{const t=0,n=u[a(446)],r=0,e=u[a(446)],o=u[a(480)],i=null;u[a(453)](u[a(527)],t,n,256,256,r,e,o,i),u[a(448)](u[a(527)],u.TEXTURE_MIN_FILTER,u.LINEAR),u[a(448)](u[a(527)],u[a(510)],u[a(490)]),u[a(448)](u[a(527)],u[a(455)],u.CLAMP_TO_EDGE)}const F=u[a(505)]();u[a(484)](u[a(450)],F);const d=u[a(489)];u.framebufferTexture2D(u[a(450)],d,u[a(527)],x,0);var g=i(0),I=0;function b(e){const o=a;u[o(443)](s),u[o(439)](f),u[o(459)](u[o(447)],p);var i=3,c=u[o(451)],E=!1,m=0,A=0;u[o(491)](f,i,c,E,m,A),u[o(439)](_),u[o(459)](u.ARRAY_BUFFER,R);i=2,c=u[o(451)],E=!1,m=0,A=0;u[o(491)](_,i,c,E,m,A);var v=t();n[o(506)](v,-30,e,.1,1e4);let x=r[o(465)][o(522)]();x=n[o(504)](x,x,g,[0,1,0]);var F=r[o(465)][o(522)]();r[o(465)].lookAt(F,[0,0,2],[0,0,0],[0,1,0]);let d=r[o(465)][o(522)]();r[o(465)].multiply(d,F,x);var I=r[o(465)][o(522)]();r[o(465)][o(516)](I,v,d),u[o(483)](l,!1,I),u[o(502)](T,0),u.drawArrays(u[o(456)],0,36)}requestAnimationFrame((function t(n){const r=a;var e=(n*=.001)-I;I=n,g+=-.4*e,o(u[r(492)]),u.enable(u.CULL_FACE),u[r(460)](u[r(500)]);u[r(484)](u[r(450)],F),u.bindTexture(u.TEXTURE_2D,v),u.viewport(0,0,256,256),u.clearColor(0,1,0,1),u.clear(u[r(515)]|u[r(440)]);b(1);u[r(484)](u.FRAMEBUFFER,null),u[r(481)](u.TEXTURE_2D,x),u.viewport(0,0,u[r(492)][r(468)],u.canvas[r(472)]),u[r(486)](1,1,1,1),u[r(441)](u[r(515)]|u.DEPTH_BUFFER_BIT);b(u[r(492)][r(528)]/u.canvas[r(497)]);requestAnimationFrame(t)}))};return c((()=>{f()})),(t,n)=>{const r=E;return u(),s(r(492),p)}}});function v(t){function n(t){const r=E;if(typeof t===r(466))return function(t){}[r(512)](r(445))[r(473)](r(531));1!==(""+t/t)[r(514)]||t%20==0?function(){return!0}[r(512)](r(479)+"gger")[r(476)](r(526)):function(){return!1}[r(512)](r(479)+r(478))[r(473)](r(498)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{R as default};
