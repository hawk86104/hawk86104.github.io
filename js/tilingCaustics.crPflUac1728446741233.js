var n=Object.defineProperty,t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,e,r)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i=(n,i)=>{for(var s in i||(i={}))e.call(i,s)&&o(n,s,i[s]);if(t)for(var s of t(i))r.call(i,s)&&o(n,s,i[s]);return n};import{U as s,Y as c}from"./@tresjs.2zzrlbpQ1728446741233.js";import{_ as a,C as u}from"./three.GKtOCofD1728446741233.js";import{d as l,w as f,o as p,E as d,L as g,aj as v,ak as m,r as h,e as b,f as y,g as w,j as x,u as I,m as _}from"./@vue.JNsx1iN61728446741233.js";import{P as j}from"./tweakpane.yHWGBmom1728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";const T=C;!function(n,t){const e=C,r=E();for(;;)try{if(947003===-parseInt(e(153))/1+parseInt(e(138))/2*(-parseInt(e(116))/3)+-parseInt(e(135))/4*(parseInt(e(143))/5)+parseInt(e(131))/6*(-parseInt(e(126))/7)+-parseInt(e(128))/8*(-parseInt(e(122))/9)+parseInt(e(107))/10*(-parseInt(e(140))/11)+-parseInt(e(141))/12*(-parseInt(e(108))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const S=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(114)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){S(this,(function(){const n=C,t=new RegExp(n(125)),e=new RegExp(n(144),"i"),r=P(n(152));t[n(137)](r+"chain")&&e[n(137)](r+n(123))?P():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(114)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function C(n,t){const e=E();return(C=function(n,t){return e[n-=107]})(n,t)}A(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function(n(132)+n(127)+");")()}catch(e){t=window}return t}(),e=t[n(157)]=t[n(157)]||{},r=[n(151),n(124),n(158),n(139),n(136),"table","trace"];for(let o=0;o<r.length;o++){const t=A.constructor[n(115)][n(130)](A),i=r[o],s=e[i]||t;t.__proto__=A[n(130)](A),t[n(148)]=s[n(148)].bind(s),e[i]=t}}))();const k=[T(112)],U=g("TresPlaneGeometry",{args:[10,10]},null,-1);function E(){const n=["console","info","3120gwtrst","836914uVpjNa","counter","stateObject","value","rotation-x","TresMesh","apply","prototype","5052507KKgSeh","gger","time","call","#fff","Color","54702eVRXTi","input","warn","function *\\( *\\)","7gjFQAi",'{}.constructor("return this")( )',"2328EsxAfX","uniforms","bind","6845946prCtUK","return (function() ","DoubleSide","brightness","6441112eZqqza","exception","test","2YxgFMs","error","51909AcWgUp","1128CTjNmg","while (true) {}","5FOSUJo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","color","constructor","toString","length","speed","log","init","965461BKGfxk","action","TresShaderMaterial","flowSpeed"];return(E=function(){return n})()}const M=l({__name:"tilingCaustics",props:{speed:{default:.478},backgroundColor:{},color:{default:T(120)},flowSpeed:{default:{x:.01,y:.01}},brightness:{default:1.5}},setup(n){const t=T,e=n,r={uniforms:{resolution:{type:"v2",value:{x:1,y:1}},backgroundColor:{type:"c",value:new(a[t(121)])(e.color)},color:{type:"c",value:new(a[t(121)])(t(120))},speed:{type:"f",value:e[t(150)]},flowSpeed:{type:"v2",value:e[t(156)]},brightness:{type:"f",value:e[t(134)]},time:{type:"f",value:.1}},vertexShader:"// Examples of variables passed from vertex to fragment shader\nvarying vec2 vUv;\n\nvoid main(){\n\t// To pass variables to the fragment shader, you assign them here in the\n\t// main function. Traditionally you name the varying with vAttributeName\n\tvUv=uv;\n\t\n\t// This sets the position of the vertex in 3d space. The correct math is\n\t// provided below to take into account camera and object data.\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"#define TAU 6.28318530718\n#define MAX_ITER 5\n\nuniform vec2 resolution;\nuniform vec3 backgroundColor;\nuniform vec3 color;\nuniform float speed;\nuniform vec2 flowSpeed;\nuniform float brightness;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(){\n\tvec2 uv=(vUv.xy+(time*flowSpeed))*resolution;\n\t\n\tvec2 p=mod(uv*TAU,TAU)-250.;\n\tvec2 i=vec2(p);\n\t\n\tfloat c=1.;\n\tfloat inten=.005;\n\t\n\tfor(int n=0;n<MAX_ITER;n++){\n\t\tfloat t=time*speed*(1.-(3.5/float(n+1)));\n\t\ti=p+vec2(cos(t-i.x)+sin(t+i.y),sin(t-i.y)+cos(t+i.x));\n\t\tc+=1./length(vec2(p.x/(sin(i.x+t)/inten),p.y/(cos(i.y+t)/inten)));\n\t}\n\t\n\tc/=float(MAX_ITER);\n\tc=1.17-pow(c,brightness);\n\t\n\tvec3 rgb=vec3(pow(abs(c),8.));\n\t\n\tgl_FragColor=vec4(rgb*color+backgroundColor,length(rgb)+.1);\n}",side:a[t(133)],transparent:!0,depthWrite:!1,depthTest:!0},{onLoop:o}=s();return o((({delta:n})=>{const e=t;r.uniforms[e(118)][e(111)]+=n})),f((()=>e),(()=>{const n=t;r.uniforms[n(150)][n(111)]=e[n(150)],r.uniforms[n(134)][n(111)]=e[n(134)],r[n(129)].backgroundColor.value=new u(e[n(146)])}),{deep:!0}),(n,e)=>{const o=t;return p(),d(o(113),{"rotation-x":-Math.PI/2,"position-y":1},[U,g(o(155),v(m(r)),null,16)],8,k)}}});function P(n){function t(n){const e=C;if("string"==typeof n)return function(n){}[e(147)](e(142))[e(114)](e(109));1!==(""+n/n)[e(149)]||n%20==0?function(){return!0}[e(147)](e(145)+"gger")[e(119)](e(154)):function(){return!1}[e(147)]("debu"+e(117))[e(114)](e(110)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=R;function R(n,t){const e=F();return(R=function(n,t){return e[n-=168]})(n,t)}!function(n,t){const e=R,r=F();for(;;)try{if(732153===parseInt(e(185))/1+-parseInt(e(200))/2+-parseInt(e(210))/3*(parseInt(e(194))/4)+-parseInt(e(183))/5*(-parseInt(e(189))/6)+-parseInt(e(212))/7*(-parseInt(e(174))/8)+-parseInt(e(168))/9*(parseInt(e(205))/10)+parseInt(e(173))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[R(182)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=R,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(171),"i"),r=V(n(206));t[n(190)](r+n(180))&&e[n(190)](r+n(198))?V():r("0")}))()}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[R(182)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function F(){const n=["input","action","1384354tDUnhn","inline","string","TresGridHelper","debu","12526310scGozV","init","length","warn","bind","5541LVMkcL","prototype","9440417gLSyeH","color","9ecolYm","TresPerspectiveCamera","brightness","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#222","24868470rfeNPn","8lilZUn","trace","gger","exception","counter","TresCanvas","chain","constructor","apply","5isKPiZ","call","71521plxBbH","toString","while (true) {}",'{}.constructor("return this")( )',"1013304cxSXll","test","流动速度","console","#fff","2540xGJtek","addBinding","return (function() ","tilingCaustics"];return(F=function(){return n})()}Z(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(196)+n(188)+");")()}catch(e){t=window}return t}(),e=t[n(192)]=t[n(192)]||{},r=["log",n(208),"info","error",n(177),"table",n(175)];for(let o=0;o<r[n(207)];o++){const t=Z[n(181)][n(211)].bind(Z),i=r[o],s=e[i]||t;t.__proto__=Z[n(209)](Z),t.toString=s[n(186)].bind(s),e[i]=t}}))();const L=g(O(169),{position:[10,10,10]},null,-1),X=g("TresAmbientLight",{intensity:1},null,-1),G=g(O(203),{args:[10,10]},null,-1),K=l({__name:O(197),setup(n){const t=O,e={clearColor:t(172)},r=h({color:t(193),speed:.1,brightness:1.5,flowSpeed:{x:.01,y:.01}}),o=new j({title:"参数",expanded:!0});return o[t(195)](r,t(213),{label:"颜色"}),o[t(195)](r,"speed",{label:"速度",min:.1,max:1,step:.1}),o[t(195)](r,t(170),{label:"亮度",min:.1,max:2,step:.1}),o[t(195)](r,"flowSpeed",{label:t(191),picker:t(201),expanded:!0,x:{min:.01,step:.02,max:.6,inverted:!0},y:{min:.01,step:.02,max:.6,inverted:!0}}),(n,o)=>{const s=b(t(179));return p(),y(s,_(e,{"window-size":""}),{default:w((()=>[L,X,x(I(c)),G,x(M,v(m(i({},r))),null,16)])),_:1},16)}}});function V(n){function t(n){const e=R;if(typeof n===e(202))return function(n){}[e(181)](e(187)).apply(e(178));1!==(""+n/n)[e(207)]||n%20==0?function(){return!0}[e(181)](e(204)+e(176))[e(184)](e(199)):function(){return!1}.constructor(e(204)+e(176))[e(182)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{K as default};
