import{_ as n,ai as t}from"./three.8y0_KTxz1741594518249.js";import{o as r,J as o,f as e}from"./@tresjs.gjafZgVK1741594518249.js";import{P as i}from"./tweakpane.yDiyAAkA1741594518249.js";import{d as s,a2 as c,o as u,H as a,N as l,aj as f,ak as d,r as v,f as g,g as p,j as h,u as m,al as C,m as y}from"./@vue.NRI7TcgI1741594518249.js";import"./postprocessing.iiPTtJPW1741594518249.js";import"./@vueuse.8xnC6EWf1741594518249.js";function w(n,t){const r=T();return(w=function(n,t){return r[n-=295]})(n,t)}const x=w;!function(n,t){const r=w,o=T();for(;;)try{if(716116===parseInt(r(302))/1*(-parseInt(r(328))/2)+-parseInt(r(312))/3*(parseInt(r(358))/4)+-parseInt(r(299))/5*(-parseInt(r(322))/6)+parseInt(r(301))/7*(parseInt(r(323))/8)+parseInt(r(352))/9*(-parseInt(r(316))/10)+-parseInt(r(338))/11*(parseInt(r(340))/12)+parseInt(r(298))/13*(parseInt(r(335))/14))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const b=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[w(319)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){b(this,(function(){const n=w,t=new RegExp(n(347)),r=new RegExp(n(325),"i"),o=W(n(337));t[n(327)](o+n(297))&&r[n(327)](o+n(343))?W():o("0")}))()}();const D=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[w(319)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();D(void 0,(function(){const n=w;let t;try{t=Function(n(314)+n(344)+");")()}catch(e){t=window}const r=t[n(304)]=t[n(304)]||{},o=[n(306),n(346),n(357),n(333),n(318),n(349),n(339)];for(let i=0;i<o.length;i++){const t=D[n(348)][n(295)].bind(D),e=o[i],s=r[e]||t;t[n(336)]=D.bind(D),t[n(309)]=s.toString.bind(s),r[e]=t}}))();const I=[x(320)];function T(){const n=["uCrossColor","crossThickness","input",'{}.constructor("return this")( )',"counter","warn","function *\\( *\\)","constructor","table","set","#7a91df","3897tGJhpW","action","uGridThickness","floorColor","debu","info","16112KDBYDu","prototype","Color","chain","1019226XGARfF","5whlGwS","DoubleSide","7azmeIE","118dsXEru","TresMesh","console","uCross","log","string","uFloorColor","toString","value","TresPlaneGeometry","981CYMhPf","#ffffff","return (function() ","call","26310nldBmc","uniforms","exception","apply","rotate-x","gridColor","4809108GULnUN","1925872hXlTtt","crossColor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#c4d6ff","test","13670GrLhPz","gger","stateObject","length","uCrossThickness","error","gridThickness","644AOwLfN","__proto__","init","671EVXwIk","trace","131748ffuBdq"];return(T=function(){return n})()}const k=s({__name:"gridFloor",props:{gridColor:{default:x(326)},gridThickness:{default:.02},crossColor:{default:x(351)},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:x(313)}},setup(t){const r=x,o=t,e={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[r(300)],transparent:!0,uniforms:{uFloorColor:{value:new(n[r(296)])(o[r(355)])},uGridThickness:{value:o[r(334)]},uGridColor:{value:new(n[r(296)])(o[r(321)])},uCrossThickness:{value:o[r(342)]},uCross:{value:o.uCross},uCrossColor:{value:new(n[r(296)])(o[r(324)])}}};return c((()=>{const n=r;e[n(317)][n(308)].value[n(350)](o.floorColor),e.uniforms.uGridColor[n(310)][n(350)](o[n(321)]),e[n(317)][n(341)][n(310)].set(o[n(324)]),e[n(317)][n(354)].value=o[n(334)],e.uniforms[n(332)][n(310)]=o[n(342)],e[n(317)].uCross[n(310)]=o[n(305)]})),(n,t)=>{const o=r;return u(),a(o(303),{"rotate-x":-Math.PI/2},[t[0]||(t[0]=l(o(311),{args:[10,10,32,32]},null,-1)),l("TresShaderMaterial",f(d(e)),null,16)],8,I)}}});function W(n){function t(n){const r=w;if(typeof n===r(307))return function(n){}[r(348)]("while (true) {}")[r(319)](r(345));1!==(""+n/n)[r(331)]||n%20==0?function(){return!0}[r(348)](r(356)+"gger")[r(315)](r(353)):function(){return!1}.constructor(r(356)+r(329))[r(319)](r(330)),t(++n)}try{if(n)return t;t(0)}catch(r){}}const j=F;!function(n,t){const r=F,o=G();for(;;)try{if(281642===-parseInt(r(257))/1+parseInt(r(235))/2+parseInt(r(218))/3+parseInt(r(228))/4*(parseInt(r(220))/5)+-parseInt(r(264))/6+-parseInt(r(209))/7*(-parseInt(r(214))/8)+-parseInt(r(255))/9)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const _=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){_(this,(function(){const n=F,t=new RegExp(n(244)),r=new RegExp(n(259),"i"),o=X("init");t.test(o+n(207))&&r[n(224)](o+"input")?X():o("0")}))()}();const A=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[F(217)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function F(n,t){const r=G();return(F=function(n,t){return r[n-=205]})(n,t)}function G(){const n=["while (true) {}","__proto__","debu","string","counter","669296HUTJGG","pos-x.jpg","return (function() ","网格厚度","#ff33ff","length","TresDirectionalLight","gridFloor","网格颜色","function *\\( *\\)","十字颜色","warn","neg-y.jpg","prototype","gridThickness","neg-x.jpg","TresPerspectiveCamera","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","stateObject","exception","5255469eyDpPM","#ef57ff","86377ZqDYPk","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","toString","console","error","2411076adcmmq",'{}.constructor("return this")( )',"neg-z.jpg","table","十字厚度","chain","addBinding","487711XipLgA","TresMesh","uCross","地板颜色","TresTorusKnotGeometry","64mPSynD","crossThickness","bind","apply","1119861LHGNiM","call","35bgdMOD","pos-y.jpg","pos-z.jpg","constructor","test","trace","gger","#000000","50564yvqgxi","floorColor"];return(G=function(){return n})()}A(void 0,(function(){const n=F;let t;try{t=Function(n(237)+n(265)+");")()}catch(e){t=window}const r=t[n(262)]=t.console||{},o=[n(260),n(246),n(258),n(263),n(254),n(205),n(225)];for(let i=0;i<o[n(240)];i++){const t=A[n(223)][n(248)].bind(A),e=o[i],s=r[e]||t;t[n(231)]=A[n(216)](A),t[n(261)]=s[n(261)].bind(s),r[e]=t}}))();const U=s({__name:j(242),setup(n){const s=j,c=v({alpha:!0,toneMapping:t,windowSize:!0,clearColor:3355443}),a=v({enableDamping:!0,autoRotate:!1}),w=v({gridColor:"#ffffff",crossColor:s(256),floorColor:s(227),gridThickness:.02,crossThickness:.03,uCross:.29}),x=new i;return x.addBinding(w,"gridColor",{label:s(243)}),x[s(208)](w,s(249),{label:s(238),min:.01,max:1,step:.01}),x[s(208)](w,"crossColor",{label:s(245)}),x[s(208)](w,s(215),{label:s(206),min:.01,max:1,step:.01}),x[s(208)](w,s(211),{label:"十字大小",min:.01,max:1,step:.01}),x[s(208)](w,s(229),{label:s(212)}),(n,t)=>{const i=s;return u(),g(m(e),y(c,{"window-size":""}),{default:p((()=>[t[0]||(t[0]=l(i(251),{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),h(m(r),f(d(a)),null,16),t[1]||(t[1]=l("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=l(i(241),{position:[15,15,15],intensity:1},null,-1)),t[3]||(t[3]=l(i(210),{position:[0,.5,0],scale:.2},[l(i(213),{args:[1,.35,100,32]}),l("TresMeshStandardMaterial",{color:i(239),roughness:0,metalness:1})],-1)),h(k,f(d(w)),null,16),(u(),g(C,null,{default:p((()=>[h(m(o),{files:[i(236),i(250),i(221),i(247),i(222),i(266)],path:i(252)})])),_:1}))])),_:1},16)}}});function X(n){function t(n){const r=F;if(typeof n===r(233))return function(n){}.constructor(r(230))[r(217)](r(234));1!==(""+n/n)[r(240)]||n%20==0?function(){return!0}[r(223)](r(232)+r(226))[r(219)]("action"):function(){return!1}[r(223)]("debu"+r(226))[r(217)](r(253)),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{U as default};
