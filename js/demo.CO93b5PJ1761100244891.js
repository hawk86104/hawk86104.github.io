import{ar as e,a8 as t,A as i,ad as a,cn as s}from"./three.DvmzhRS91761100244891.js";import{U as o,g as l,z as n,C as r,_ as u,K as p,o as c}from"./@tresjs.DqJWjmrH1761100244891.js";import"./OimoPhysicsBuffer.RP9_cA631761100244891.js";import{_ as m}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.C3soJrEE1761100244891.js";import{_ as f}from"./vanilla.esm.5.5.0.CsbunUBT1761100244891.js";import{i as d}from"./Resource.mX5inOAT1761100244891.js";import"./PackedMipMapGenerator.D8sBv6ND1761100244891.js";import"./@fesjs.DbrjsIBT1761100244891.js";/* empty css                                                                             */import{l as h}from"./yangyangLoading.BaxHfpnX1761100244891.js";import"./three-mesh-ui.module.B6HSvFaK1761100244891.js";import"./global.CFybmx-G1761100244891.js";/* empty css                                                              */import{d as g,G as v,o as _,F as y,b as M,e as j,h as b,u as P,m as I,I as T,a9 as w,aa as x,ap as L,r as S,J as H,a as D,ac as R,H as B}from"./@vue.CKlgtJke1761100244891.js";import{d as F}from"./pinia.-nSLzXOT1761100244891.js";import{_ as z}from"./component.vue_vue_type_script_setup_true_lang.DUKfhYhy1761100244891.js";import{u as G}from"./utils.pnKaL4Sf1761100244891.js";import"./postprocessing.CYU4Fj-U1761100244891.js";import"./@vueuse.mZcBai3M1761100244891.js";import"./oimophysics.CfVKSiAm1761100244891.js";import"./dither.glsl.tNAdkJUa1761100244891.js";import"./Reflector.C-cnab8L1761100244891.js";import"./vite-plugin-qiankun.B06WoCqG1761100244891.js";import"./utils.CNife3_q1761100244891.js";import"./object-hash.zo7S6bgL1761100244891.js";import"./@amap.fjyZdsU91761100244891.js";import"./jszip.DTlig5CR1761100244891.js";import"./three-stdlib.Bkbtr8od1761100244891.js";import"./vue-router.AUgVvTqV1761100244891.js";import"./lodash-es.DWe8oqPO1761100244891.js";import"./@qlin.y-0Z8WnK1761100244891.js";import"./@babel.BPq7uOAK1761100244891.js";import"./@floating-ui.Bhq4ibgf1761100244891.js";import"./@juggle.Vc7cP4_P1761100244891.js";import"./utils.g-0SwCPh1761100244891.js";import"./color.DSPNiGxi1761100244891.js";import"./color-string.Bn2Vqey71761100244891.js";import"./color-name.gyPnsvCn1761100244891.js";import"./lodash.DPxB_j171761100244891.js";import"./useLoader.DWT9Jk041761100244891.js";const U=g({__name:"livingRoomInfo",props:{title:{default:"客厅"},temperature:{default:"26.2"},humidity:{default:"31"}},setup(e){const t={height:.1,curveSegments:5,bevelEnabled:!0,bevelThickness:.065,bevelSize:.032,bevelOffset:.02,bevelSegments:6},i={color:"#ffffff",metalness:.6,roughness:0,reflectivity:0};return(a,s)=>(_(),v(y,null,[(_(),M(L,null,{default:j(()=>[b(P(o),I({text:e.title,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[-2.2,.2,1]},t,{"cast-shadow":"",size:.5,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1})),(_(),M(L,null,{default:j(()=>[b(P(o),I({text:`${e.temperature} ℃ `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[-1.2,.2,1]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1})),(_(),M(L,null,{default:j(()=>[b(P(o),I({text:`${e.humidity} % `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[-.6,.2,.8]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1}))],64))}}),k=g({__name:"bedRoomA",props:{title:{default:"主卧"},temperature:{default:"16.2"},humidity:{default:"22"}},setup(e){const t={height:.1,curveSegments:5,bevelEnabled:!0,bevelThickness:.065,bevelSize:.032,bevelOffset:.02,bevelSegments:6},i={color:"#ffffff",metalness:.6,roughness:0,reflectivity:0};return(a,s)=>(_(),v(y,null,[(_(),M(L,null,{default:j(()=>[b(P(o),I({text:e.title,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[2.56,.6,5.5]},t,{"cast-shadow":"",size:.5,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1})),(_(),M(L,null,{default:j(()=>[b(P(o),I({text:`${e.temperature} ℃ `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[1.881,.2,2.865]},t,{"cast-shadow":"",size:.26,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1})),(_(),M(L,null,{default:j(()=>[b(P(o),I({text:`${e.humidity} % `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[2.56,.2,2.865]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1}))],64))}}),A=g({__name:"bedRoomB",props:{title:{default:"次卧"},temperature:{default:"28.6"},humidity:{default:"18"}},setup(e){const t={height:.1,curveSegments:5,bevelEnabled:!0,bevelThickness:.065,bevelSize:.032,bevelOffset:.02,bevelSegments:6},i={color:"#ffffff",metalness:.6,roughness:0,reflectivity:0};return(a,s)=>(_(),v(y,null,[(_(),M(L,null,{default:j(()=>[b(P(o),I({text:e.title,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[3.92,.99,-2.499]},t,{"cast-shadow":"",size:.5,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1})),(_(),M(L,null,{default:j(()=>[b(P(o),I({text:`${e.temperature} ℃ `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[1.8,.2,-2.499]},t,{"cast-shadow":"",size:.28,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1})),(_(),M(L,null,{default:j(()=>[b(P(o),I({text:`${e.humidity} % `,rotation:[Math.PI/2,Math.PI,-Math.PI/2],position:[2.36,.2,-2.499]},t,{"cast-shadow":"",size:.3,font:"./plugins/freeDigitalHome/fonts/FZLanTingHeiS-UL-GB_Regular.json"}),{default:j(()=>[T("TresMeshPhysicalMaterial",w(x(i)),null,16)]),_:1},16,["text","rotation"])]),_:1}))],64))}}),C=F("hasw",()=>({lights:S({living:!0,bedA:!0,bedB:!0}),tv:S({switch:!0,live:""}),infors:S({living:{temp:16,hum:30},bedA:{temp:16,hum:30},bedB:{temp:16,hum:30}})})),Z=["object"],E=g({__name:"rooms",setup(t){const i=C(),{scene:a,nodes:s}=d.getItem("rooms"),o=new e({color:"#707070"});return o.reflectivity=6,o.ior=1.2,o.roughness=1,o.metalness=0,o.transparent=!0,o.opacity=.88,Object.values(s).forEach(e=>{e.material=o}),(e,t)=>(_(),v("TresGroup",null,[T("primitive",{object:P(a),scale:1,position:[-8.832,-2.036,2.174],rotation:[0,0,0]},null,8,Z),b(U,{temperature:P(i).infors.living.temp,humidity:P(i).infors.living.hum},null,8,["temperature","humidity"]),b(k),b(A)]))}}),O=["visible"],$=["visible"],q=["visible"],J=g({__name:"lights",setup(e){const t=C(),i={wrapperClass:"illustrate2",as:"div",sprite:!0,transform:!0,distanceFactor:3,center:!0},a=t.lights,s=e=>{a[e]=!a[e]};return(e,t)=>(_(),v(y,null,[t[9]||(t[9]=T("TresAmbientLight",{intensity:.06},null,-1)),b(P(l),I(i,{position:[-2.1,1.739,2.88]}),{default:j(()=>[t[4]||(t[4]=T("div",{class:"cStyle1 pos-relative text-white"},null,-1)),T("div",{class:H(["parallelogram",{off:!P(a).living}])},[T("span",{onClick:t[0]||(t[0]=e=>s("living"))},"💡 客厅灯"),t[3]||(t[3]=T("div",{class:"contentDiv"},"点击开关",-1))],2)]),_:1},16),b(P(l),I(i,{position:[3.445,1.93,4.281]}),{default:j(()=>[t[6]||(t[6]=T("div",{class:"cStyle1 cRight pos-relative text-white"},null,-1)),T("div",{class:H(["parallelogram cRight bedA",{off:!P(a).bedA}])},[T("span",{onClick:t[1]||(t[1]=e=>s("bedA"))},"💡 主卧灯"),t[5]||(t[5]=T("div",{class:"contentDiv"},"点击开关",-1))],2)]),_:1},16),b(P(l),I(i,{position:[3.912,1.532,-2.41]}),{default:j(()=>[t[8]||(t[8]=T("div",{class:"cStyle1 cRight pos-relative text-white"},null,-1)),T("div",{class:H(["parallelogram cRight bedB",{off:!P(a).bedB}])},[T("span",{onClick:t[2]||(t[2]=e=>s("bedB"))},"💡 次卧灯"),t[7]||(t[7]=T("div",{class:"contentDiv"},"点击开关",-1))],2)]),_:1},16),T("TresPointLight",{color:"#D485FF",visible:P(a).living,position:[-2.1,1.739,2.88],intensity:9.54,distance:5.378,decay:0},null,8,O),T("TresPointLight",{color:"#FFEE99",visible:P(a).bedA,position:[3.445,1.93,4.281],intensity:10,distance:3.478,decay:0},null,8,$),T("TresPointLight",{color:"#ffa66b",visible:P(a).bedB,position:[3.912,1.532,-2.41],intensity:11,distance:4.12,decay:.52},null,8,q)],64))}}),K=g({__name:"env",setup(e){const{scene:t}=n();return t.value.backgroundBlurriness=1,(e,t)=>(_(),M(P(z),{resolution:512,background:!0},{default:j(()=>[b(P(f),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,2],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"]),b(P(f),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,-4],scale:[1,1,1],color:"#222222"},null,8,["rotation-y"]),b(P(f),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,-2],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"]),b(P(f),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,0],scale:[1,1,1],color:"#222222"},null,8,["rotation-y"]),b(P(f),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,2],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"]),b(P(f),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,3],scale:[1,1,1],color:"#222222"},null,8,["rotation-y"]),b(P(f),{intensity:40,"rotation-y":-Math.PI/2,position:[3,0,6],scale:[1,1,1],color:"#333333"},null,8,["rotation-y"])]),_:1}))}}),N=["visible","rotation"],V=["map"],X=g({__name:"tv",async setup(e){let a,s;const o=C().tv,n=D(null);if(o.live){const e=new t;e.setCrossOrigin("anonymous"),n.value=e.load(o.live,()=>{console.log("Texture loaded")},void 0,async e=>{console.error("Error loading texture:",e),o.live="",n.value=await r("./plugins/freeDigitalHome/video/xiaomi.mp4",{loop:!0})})}else n.value=([a,s]=R(()=>r("./plugins/freeDigitalHome/video/xiaomi.mp4",{loop:!0})),a=await a,s(),a);n.value.colorSpace=i;const p=()=>{o.switch=!o.switch},c={wrapperClass:"illustrate2",as:"div",sprite:!0,transform:!0,distanceFactor:3,center:!0},{onBeforeRender:m}=u();let f=0;return m(({elapsed:e})=>{const t=Math.floor(10*e);var i;t!==f&&(t%10==0&&(f=t,o.live&&(i=n,G(o.live).then(e=>{i.value.image=e.image,i.needsUpdate=!0}))))}),(e,t)=>(_(),v(y,null,[T("TresMesh",{visible:!P(o).switch,position:[.58,1.526,4.67],rotation:[0,-Math.PI/2,0],renderOrder:9999},[t[0]||(t[0]=T("TresPlaneGeometry",{args:[1.36,.77]},null,-1)),T("TresMeshBasicMaterial",{map:n.value},null,8,V)],8,N),b(P(l),I(c,{position:[.58,1.526,4.67]}),{default:j(()=>[t[2]||(t[2]=T("div",{class:"cStyle1 pos-relative text-white"},null,-1)),T("div",{class:H(["parallelogram tv",{off:P(o).switch}])},[T("span",{onClick:p},"📺 电视"),t[1]||(t[1]=T("div",{class:"contentDiv"},"点击开关",-1))],2)]),_:1},16)],64))}}),Y=g({__name:"demo",setup(e){const t=S({clearColor:"#000000",shadows:!1,alpha:!1,shadowMapType:s,outputColorSpace:i,toneMapping:a,windowSize:!0}),o={reflectivity:8,showGridHelper:!1,scale:6.6,mapUrl:"./plugins/freeDigitalHome/image/waterdudv.jpg"},l=S({enableDamping:!0,dampingFactor:.05,enableZoom:!0,autoRotateSpeed:2});return d.loadResources([{functionName:"GLTFLoader",url:"./plugins/freeDigitalHome/models/floor_plan.glb",resourceID:"rooms"}]),(e,i)=>(_(),v(y,null,[b(P(h),{useResourceManager:""}),b(P(c),w(x(t)),{default:j(()=>[i[0]||(i[0]=T("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e3},null,-1)),b(P(p),w(x(l)),null,16),b(J),P(d).hasAllFinished.value?(_(),M(E,{key:0})):B("",!0),(_(),M(L,null,{default:j(()=>[b(X)]),_:1})),b(P(m),w(x(o)),null,16),(_(),M(L,null,{default:j(()=>[b(K)]),_:1}))]),_:1},16)],64))}});export{Y as default};
