import{a as t,m as n,o as e}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{_ as o,b as r}from"./three.FxqAALWt1741168315107.js";import{_ as c,h as i}from"./three-tile.ZNBVZvYD1741168315107.js";import{_ as s}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.34-iUyl61741168315107.js";import{d as a,a3 as u,w as p,o as l,H as f,N as m,u as g,r as h,b as d,f as _,g as y,j as I,m as w,al as j,F as S,e as b,aj as v,ak as x}from"./@vue.NRI7TcgI1741168315107.js";import{P as D}from"./tweakpane.yDiyAAkA1741168315107.js";import{_ as M}from"./informationDiv.Bf1aLKwp1741168315107.js";import"./postprocessing.hfy6Kqg11741168315107.js";import"./@vueuse.Z8xAfE_A1741168315107.js";import"./@fesjs.vxeGrljA1741168315107.js";import"./vue-router.WwZ4Gmuc1741168315107.js";import"./lodash-es.pklfUAS51741168315107.js";import"./@qlin.yHhFDldE1741168315107.js";import"./pinia.54vgoDms1741168315107.js";import"./@floating-ui.BPbuo5Gx1741168315107.js";import"./@juggle.7yjBMqoW1741168315107.js";const T=B;!function(t,n){const e=B,o=L();for(;;)try{if(579825===parseInt(e(219))/1+-parseInt(e(215))/2*(parseInt(e(251))/3)+-parseInt(e(246))/4*(parseInt(e(225))/5)+parseInt(e(230))/6+parseInt(e(228))/7+parseInt(e(217))/8+parseInt(e(258))/9*(-parseInt(e(240))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(222)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=B,n=new RegExp(t(257)),e=new RegExp(t(255),"i"),o=k("init");n.test(o+t(248))&&e[t(224)](o+t(239))?k():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(222)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=B;let n;try{n=Function("return (function() "+t(233)+");")()}catch(r){n=window}const e=n[t(210)]=n.console||{},o=[t(232),t(213),t(205),t(242),t(241),t(208),"trace"];for(let c=0;c<o[t(223)];c++){const n=A[t(254)].prototype[t(236)](A),r=o[c],i=e[r]||n;n[t(226)]=A.bind(A),n[t(265)]=i.toString[t(236)](i),e[r]=n}}))();const E=[T(207)],G=["scale",T(264),"rotateX",T(268)];function B(t,n){const e=L();return(B=function(t,n){return e[t-=205]})(t,n)}function L(){const t=['{}.constructor("return this")( )',"\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","scaleImg","bind","action","debu","input","10eExPDm","exception","error","cloundSateShow","TresGroup","opacity","12872yfBVcA","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png","chain","DoubleSide","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );","2049BVGLmp","applyMatrix4","Color","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","function *\\( *\\)","12175578GyPOfk","MeshPhongMaterial","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","#cccccc","color","setStyle","material","toString","Texture","#include <alphamap_fragment>","position-y","vertexShader","info","while (true) {}","position","table","string","console","onBeforeCompile","map","warn","matrix","1904iqPWrn","fragmentShader","8548168SMEXIi","replace","741913vLlMDv","gger","TresMesh","apply","length","test","1365WyzBGy","__proto__","stateObject","3827299ztjyNV","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","6625236rknNdv","height","log"];return(L=function(){return t})()}const z=a({__name:T(243),props:{map:{},height:{default:100},color:{default:T(261)},opacity:{default:.6}},async setup(n){const e=T;let c,i;const a=n,h=new(o[e(259)])({displacementMap:new(o[e(266)]),transparent:!0,side:o[e(249)],opacity:a[e(245)],color:new(o[e(253)])(a[e(262)])});h[e(211)]=t=>{const n=e;t[n(269)]="uniform sampler2D map;\n\t\t"+t[n(269)],t[n(269)]=t[n(269)][n(218)]("#include <displacementmap_vertex>",n(250)),t[n(216)]=t[n(216)][n(218)](n(267),n(234))};const d=a[e(212)].geo2pos(new r(105,34,0));d[e(252)](a[e(212)][e(214)]);const _=s[e(235)](a.map,{x:67,y:11},{x:140,y:57},a.height),y=[e(229),e(247),e(256),e(260)];let I=0;const w=([c,i]=u((()=>t(y))),c=await c,i(),c);h[e(212)]=w[I],p((()=>[a[e(262)],a.opacity]),(([t,n])=>{const o=e;h[o(262)][o(263)](t),h[o(245)]=n}));let j=null,S=!1;return S?(clearInterval(j),j=null,S=!1):(j=setInterval((()=>{I=I<y.length-1?I+1:0,h.map=w[I],h.needsUpdate=!0,console.log(I)}),1e3),S=!0),(t,n)=>{const o=e;return l(),f(o(244),{position:[...g(d)]},[m(o(221),{scale:[g(_).x,g(_).y,t[o(231)]],material:g(h),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(231)]/5},n[0]||(n[0]=[m("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,G)],8,E)}}});function k(t){function n(t){const e=B;if(typeof t===e(209))return function(t){}[e(254)](e(206))[e(222)]("counter");1!==(""+t/t)[e(223)]||t%20==0?function(){return!0}[e(254)](e(238)+"gger").call(e(237)):function(){return!1}[e(254)](e(238)+e(220))[e(222)](e(227)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=q;!function(t,n){const e=q,o=W();for(;;)try{if(244524===-parseInt(e(409))/1+-parseInt(e(410))/2+parseInt(e(389))/3+parseInt(e(381))/4+parseInt(e(359))/5*(-parseInt(e(379))/6)+parseInt(e(358))/7*(parseInt(e(378))/8)+-parseInt(e(394))/9*(-parseInt(e(391))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(){const t=["MapBoxSource","plugin","chain","domElement","counter","target","1917349VZUqdw","5zrcAfc","action","localToWorld","position","showLocation","rotateX","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","warn","toString","__proto__","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","debu","terrain-rgb","透明度","copy","return (function() ","height","color","8figOcS","1086486EVVeuS","test","1750792nLMWwt","exception","trace","geo2pos","string","primitive","bind","tdLight","200247aCIRqT","TresDirectionalLight","10RLKJQz","constructor","Vector3","1621008huNpah","map","function *\\( *\\)","GDSource","gger","TileMap","mapBoxShow2","stateObject","length","error","init","apply","value","object","#cccccc","126471gGwIZm","812780xqmjvq","info","opacity","controlsEvents","console"];return(W=function(){return t})()}!function(){R(this,(function(){const t=q,n=new RegExp(t(396)),e=new RegExp(t(365),"i"),o=Z(t(404));n.test(o+t(354))&&e[t(380)](o+t(366))?Z():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();O(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(375)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(351)]||{},o=["log",t(367),t(348),t(403),t(382),"table",t(383)];for(let r=0;r<o[t(402)];r++){const n=O[t(392)].prototype[t(387)](O),c=o[r],i=e[c]||n;n[t(369)]=O.bind(O),n[t(368)]=i[t(368)][t(387)](i),e[c]=n}}))();const P=[N(407)],V=N(370);function q(t,n){const e=W();return(q=function(t,n){return e[t-=348]})(t,n)}const C=a({__name:N(400),setup(t){const e=N,r=h({height:500,color:e(408),opacity:.6}),a=new D({title:"参数"});a.addBinding(r,e(377),{label:"颜色"}),a.addBinding(r,e(376),{label:"高度",min:10,max:5e3,step:10}),a.addBinding(r,e(349),{label:e(373),min:0,max:1,step:.1});const u=new(c[e(353)][e(352)])({token:V,dataType:e(372),style:"mapbox.terrain-rgb",maxLevel:15}),b=new(c[e(399)])({imgSource:[new(i[e(397)])({style:"6"}),new(c[e(353)][e(397)])({style:"8"})],demSource:u,lon0:90,minLevel:2,maxLevel:20});b[e(364)](-Math.PI/2);const v=new(o[e(393)])(105,34,0),x=new(o[e(393)])(110,0,1e4),M=b.localToWorld(b[e(384)](v)),T=b[e(361)](b[e(384)](x)),F=d(),{camera:A,controls:E,scene:G,renderer:B}=n();return A[e(406)]&&A[e(406)][e(362)][e(374)](T),p((()=>E[e(406)]),(t=>{const n=e;t&&(t[n(357)][n(374)](M),s[n(350)](t,A[n(406)],G.value))})),p((()=>F[e(406)]),(t=>{const n=e;t&&t[n(357)][n(362)][n(374)](M)})),s[e(363)](A[e(406)],B[e(406)][e(355)],b),(t,n)=>{const o=e;return l(),f(S,null,[m(o(390),{ref_key:o(388),ref:F,position:[0,2e3,1e3],intensity:1},null,512),m(o(386),{object:g(b)},null,8,P),(l(),_(j,null,{default:y((()=>[I(z,w({map:g(b)},r),null,16,[o(395)])])),_:1}))],64)}}});function Z(t){function n(t){const e=q;if(typeof t===e(385))return function(t){}[e(392)]("while (true) {}")[e(405)](e(356));1!==(""+t/t)[e(402)]||t%20==0?function(){return!0}.constructor(e(371)+e(398)).call(e(360)):function(){return!1}[e(392)](e(371)+e(398))[e(405)](e(401)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=X;!function(t,n){const e=X,o=Q();for(;;)try{if(540157===parseInt(e(142))/1*(parseInt(e(158))/2)+-parseInt(e(131))/3+parseInt(e(138))/4*(parseInt(e(164))/5)+parseInt(e(145))/6+parseInt(e(132))/7+-parseInt(e(147))/8*(-parseInt(e(151))/9)+-parseInt(e(160))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=K(t(133));n[t(137)](o+t(155))&&e.test(o+t(143))?K():o("0")}))()}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(136)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["2905002WCNceA","772030kQETlt","init","bind","string","apply","test","931852AgKPGQ","action","debu","table","971ORUjed","input","return (function() ","6076590Hhydey","toString","3400cjnZqj","TresAmbientLight","error","counter","3501ZsbANj","console",'{}.constructor("return this")( )',"constructor","chain","TresPerspectiveCamera","TresCanvas","1762OJorUi","#dbf0ff","11012660ULiFbw","length","cloundSate","highp","10crVBSK","call","prototype","exception","stateObject"];return(Q=function(){return t})()}function X(t,n){const e=Q();return(X=function(t,n){return e[t-=131]})(t,n)}$(void 0,(function(){const t=X;let n;try{n=Function(t(144)+t(153)+");")()}catch(r){n=window}const e=n[t(152)]=n[t(152)]||{},o=["log","warn","info",t(149),t(167),t(141),"trace"];for(let c=0;c<o[t(161)];c++){const n=$[t(154)][t(166)][t(134)]($),r=o[c],i=e[r]||n;n.__proto__=$[t(134)]($),n.toString=i[t(146)][t(134)](i),e[r]=n}}))();const J=a({__name:H(162),setup(t){const n=H,o=h({clearColor:n(159),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(163)}),r=h({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,c)=>{const i=n,s=b(i(157));return l(),f(S,null,[I(s,w(o,{"window-size":""}),{default:y((()=>[c[0]||(c[0]=m(i(156),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),I(g(e),v(x(r)),null,16),c[1]||(c[1]=m(i(148),{intensity:1},null,-1)),I(C)])),_:1},16),I(M)],64)}}});function K(t){function n(t){const e=X;if(typeof t===e(135))return function(t){}[e(154)]("while (true) {}")[e(136)](e(150));1!==(""+t/t)[e(161)]||t%20==0?function(){return!0}[e(154)](e(140)+"gger")[e(165)](e(139)):function(){return!1}[e(154)](e(140)+"gger")[e(136)](e(168)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{J as default};
