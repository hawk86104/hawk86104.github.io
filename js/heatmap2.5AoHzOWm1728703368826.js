import{P as t}from"./tweakpane.yHWGBmom1728703368826.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.1S7QjIhd1728703368826.js";import{_ as r}from"./heatmap.js-fix.93457T1x1728703368826.js";import{h as i,_ as c,bW as s,M as u,s as a,B as p,m as f}from"./three.VoknrmS61728703368826.js";import{r as l}from"./utils.8X0b8GRF1728703368826.js";import{d as h}from"./pinia.V-pS4Ukj1728703368826.js";import{b as d,d as m,a3 as g,o as y,E as v,L as w,u as I,F as b,q as _,V as x,O as j,Q as R,I as D,M,a4 as A,r as O,j as z,g as E,m as k}from"./@vue.JNsx1iN61728703368826.js";import{c as B,d as F,a as S}from"./three-mesh-bvh.fYJV0gw01728703368826.js";import{_ as Z}from"./@fesjs.9xYVr0ET1728703368826.js";import"./@tresjs.JhHPALEY1728703368826.js";import"./@vueuse.yeA714RM1728703368826.js";import"./three-custom-shader-material.3rBk2L9x1728703368826.js";import"./object-hash.gPx1SZYa1728703368826.js";import"./@amap.LlG4vVLC1728703368826.js";import"./jszip.VrfDZcNx1728703368826.js";import"./glsl-tokenizer.N1Ao8h3g1728703368826.js";import"./glsl-token-string.bxQbWgRM1728703368826.js";import"./glsl-token-functions.5GJf-mGG1728703368826.js";import"./vue-router.mZGR5lVe1728703368826.js";import"./lodash-es.kYt-_xTG1728703368826.js";import"./@qlin.yHhFDldE1728703368826.js";import"./@floating-ui.BPbuo5Gx1728703368826.js";import"./@juggle.7yjBMqoW1728703368826.js";function P(){const t=["display","create","action","function *\\( *\\)","getValueAt","toString","trace","randInt","71119KKTyha","4tKXKBI","constructor","bind","width","init","counter","10HadaaE","console","error","1252592nYORaF","body","call","log","info","734635LEalcH","2430618vVuQve","apply","left","table","_config","setData","rgb(0,0,255)",'{}.constructor("return this")( )',"stateObject","length","708534CDiOFR","prototype","while (true) {}","warn","gger","top","test","9576783RtrvPG","input","debu","4zYUQVX","return (function() ","absolute","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","style","heatmap-canvas","2340870xzXScx"];return(P=function(){return t})()}!function(t,n){const e=T,o=P();for(;;)try{if(240281===parseInt(e(272))/1*(parseInt(e(257))/2)+-parseInt(e(298))/3*(parseInt(e(273))/4)+-parseInt(e(287))/5+-parseInt(e(288))/6+-parseInt(e(263))/7+parseInt(e(282))/8+parseInt(e(254))/9*(parseInt(e(279))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){H(this,(function(){const t=T,n=new RegExp(t(267)),e=new RegExp(t(260),"i"),o=C(t(277));n[t(253)](o+"chain")&&e.test(o+t(255))?C():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(289)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=P();return(T=function(t,n){return e[t-=251]})(t,n)}L(void 0,(function(){const t=T;let n;try{n=Function(t(258)+t(295)+");")()}catch(r){n=window}const e=n[t(280)]=n[t(280)]||{},o=[t(285),t(301),t(286),t(281),"exception",t(291),t(270)];for(let i=0;i<o.length;i++){const n=L[t(274)][t(299)][t(275)](L),r=o[i],c=e[r]||n;n.__proto__=L[t(275)](L),n[t(269)]=c[t(269)][t(275)](c),e[r]=n}}))();const $=(t,n)=>t[T(268)](n)+-10;function C(t){function n(t){const e=T;if("string"==typeof t)return function(t){}.constructor(e(300))[e(289)](e(278));1!==(""+t/t)[e(297)]||t%20==0?function(){return!0}.constructor(e(256)+e(251))[e(284)](e(266)):function(){return!1}[e(274)](e(256)+e(251))[e(289)](e(296)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function U(){const t=["2852970gbhzPn","error","chain","call","value","22429QcbcLX","console","__proto__","7shCkIL","constructor","action","debu","string","warn","length","init","stateObject","info","bind","312rBFMcJ",'{}.constructor("return this")( )',"prototype","while (true) {}","toString","apply","input","counter","350LtxXuo","test","26RBoXBM","579365YZVnqq","buildingsHeatmap","trace","22761xtgiCB","gger","19769DAiTVM","11039160IZATbV","4QxZPWw","return (function() ","table","log","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1055442Hasdku"];return(U=function(){return t})()}const V=W;!function(t,n){const e=W,o=U();for(;;)try{if(261011===parseInt(e(419))/1*(parseInt(e(413))/2)+-parseInt(e(427))/3*(parseInt(e(421))/4)+-parseInt(e(414))/5+parseInt(e(428))/6*(-parseInt(e(392))/7)+parseInt(e(403))/8*(parseInt(e(417))/9)+-parseInt(e(411))/10*(parseInt(e(389))/11)+parseInt(e(420))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(408)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=W,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(426),"i"),o=Q(t(399));n[t(412)](o+t(386))&&e[t(412)](o+t(409))?Q():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(408)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=U();return(W=function(t,n){return e[t-=385]})(t,n)}K(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(422)+t(404)+");")()}catch(e){n=window}return n}(),e=n[t(390)]=n.console||{},o=[t(424),t(397),t(401),t(385),t(425),t(423),t(416)];for(let r=0;r<o[t(398)];r++){const n=K[t(393)][t(405)][t(402)](K),i=o[r],c=e[i]||n;n[t(391)]=K.bind(K),n[t(407)]=c[t(407)][t(402)](c),e[i]=n}}))();const q=h(V(415),(()=>{const t=d(!1),n=d(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[W(388)]=n},setTemperature:function(t){n[W(388)]=t}}}));function Q(t){function n(t){const e=W;if(typeof t===e(396))return function(t){}.constructor(e(406))[e(408)](e(410));1!==(""+t/t)[e(398)]||t%20==0?function(){return!0}[e(393)]("debu"+e(418))[e(387)](e(394)):function(){return!1}[e(393)](e(395)+e(418)).apply(e(400)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=nt;!function(t,n){const e=nt,o=et();for(;;)try{if(886197===-parseInt(e(418))/1+-parseInt(e(417))/2+parseInt(e(423))/3+parseInt(e(399))/4+parseInt(e(392))/5*(-parseInt(e(420))/6)+parseInt(e(379))/7+-parseInt(e(366))/8*(-parseInt(e(411))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=nt,n=new RegExp(t(430)),e=new RegExp(t(394),"i"),o=rt("init");n[t(407)](o+t(369))&&e.test(o+t(408))?rt():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=nt;let n;try{n=Function(t(413)+t(400)+");")()}catch(r){n=window}const e=n.console=n[t(415)]||{},o=[t(368),"warn",t(384),t(380),"exception",t(370),t(416)];for(let i=0;i<o[t(401)];i++){const n=N.constructor[t(410)].bind(N),r=o[i],c=e[r]||n;n[t(428)]=N[t(377)](N),n[t(395)]=c[t(395)][t(377)](c),e[r]=n}}))();const J=[Y(371),"rotation-x"],tt=[Y(371)];function nt(t,n){const e=et();return(nt=function(t,n){return e[t-=364]})(t,n)}function et(){const t=["return (function() ","mergeGeometries","console","trace","1729272FFkqYs","1472208wvDYdO","normal","30TuADcA","action","constructor","1593357RBRUOD","opacity","_config","model","counter","__proto__","applyMatrix4","function *\\( *\\)","apply","primitive","height","800ztAfNz","uniforms","log","chain","table","object","city","raycast","value","Mesh","canvas","bind","computeBoundsTree","9345595tspLtv","error","BufferGeometry","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","Texture","info","geometry","debu","setShowDiv","clone","attributes","DoubleSide","数值：","220105LIabKd","uOpacity","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","setTemperature","call","children","777768fustIN",'{}.constructor("return this")( )',"length","stateObject","disposeBoundsTree","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","needsUpdate","matrix","test","input","gger","prototype","124425xOnOtW","$patch"];return(et=function(){return t})()}const ot=m({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=Y;(()=>{const t=nt;c[t(381)][t(410)][t(378)]=B,p.prototype[t(403)]=F,c[t(375)][t(410)][t(373)]=S})();const e=t,o=((t=250,n=250,e=!0)=>{const o=T,i=document.createElement(o(262));return i[o(261)].position=o(259),!e&&(i[o(261)][o(264)]="none"),i.style[o(252)]="0",i.style[o(290)]="0",document[o(283)].appendChild(i),r[o(265)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(294),.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"}})})();((t,n)=>{const e=T;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(271)](1,t[e(292)][e(276)]),y:i[e(271)](1,t._config.height),value:i.randInt(-10,36)}),o++}t[e(293)]({max:36,min:-10,data:n})})(o);const h=new(c[n(383)])(o._renderer[n(376)]);h[n(405)]=!0;const d=e[n(426)][n(372)].clone();delete d[n(385)][n(389)][n(419)],delete d[n(385)][n(389)].uv;const m=d.geometry[n(388)]().applyMatrix4(d[n(406)]),_=e.model.land[n(388)]();delete _[n(385)][n(389)].normal;const x=_[n(385)][n(388)]().applyMatrix4(_.matrix),j=s[n(414)]([m,x]);j[n(429)]((new u).makeRotationX(Math.PI/2)),l(j),j[n(378)]();const R=(t=>{const o=n;return new f({vertexShader:o(404),fragmentShader:o(382),uniforms:{uOpacity:{value:e[o(424)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(390)]})})(h),D=new a(j,R);g((()=>{const t=n;e[t(424)]&&(R[t(367)][t(393)][t(374)]=e[t(424)])}));const M=q(),A=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(425)].width,y:(1-t.uv.y)*o[e(425)][e(365)]};console[e(368)](e(391),t),console.log("数值———：",$(o,n)),M[e(396)]($(o,n))}},O=t=>{t&&M[n(412)]({showDiv:!0})},z=t=>{t&&M[n(387)](!1)};return(t,o)=>{const r=n;return y(),v(b,null,[w(r(364),{object:I(D),"rotation-x":-Math.PI/2,onPointerMove:A,onPointerEnter:O,onPointerLeave:z},null,40,J),w(r(364),{object:e[r(426)][r(426)][r(398)][0][r(388)]()},null,8,tt)],64)}}});function rt(t){function n(t){const e=nt;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(431)](e(427));1!==(""+t/t)[e(401)]||t%20==0?function(){return!0}[e(422)](e(386)+e(409))[e(397)](e(421)):function(){return!1}[e(422)](e(386)+e(409))[e(431)](e(402)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const it=Z({__name:"dataDiv",setup(t){const n=q(),e=d({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return _((()=>{window.addEventListener("mousemove",o)})),x((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((y(),v("div",{class:"title",style:M(e.value)},"温度："+D(I(n).temperature)+"℃ ",5)),[[R,I(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);function ct(){const t=["17461616KcixfH","trace","prototype","action","info","value","opacity","test","console","2249332PDHFDk","builds","stateObject","bind","return (function() ","debu","toString","8638970cFCodW","透明度","input","__proto__","8687256uBChKH","exception","table","gger","3kAvwuG","init","while (true) {}","apply","warn","log","city","1690273rAeCsS","error","length","addBinding","988897RwWIuO",'{}.constructor("return this")( )',"chain","constructor","3117762WIHGfH","function *\\( *\\)","string","counter"];return(ct=function(){return t})()}!function(t,n){const e=at,o=ct();for(;;)try{if(925308===parseInt(e(255))/1+parseInt(e(263))/2+parseInt(e(248))/3*(-parseInt(e(233))/4)+parseInt(e(240))/5+-parseInt(e(244))/6+parseInt(e(259))/7+-parseInt(e(267))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(251)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){st(this,(function(){const t=at,n=new RegExp(t(264)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ft(t(249));n[t(231)](o+t(261))&&e[t(231)](o+t(242))?ft():o("0")}))()}();const ut=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(251)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function at(t,n){const e=ct();return(at=function(t,n){return e[t-=231]})(t,n)}ut(void 0,(function(){const t=at,n=function(){const t=at;let n;try{n=Function(t(237)+t(260)+");")()}catch(e){n=window}return n}(),e=n[t(232)]=n[t(232)]||{},o=[t(253),t(252),t(271),t(256),t(245),t(246),t(268)];for(let r=0;r<o[t(257)];r++){const n=ut[t(262)][t(269)][t(236)](ut),i=o[r],c=e[i]||n;n[t(243)]=ut[t(236)](ut),n[t(239)]=c[t(239)].bind(c),e[i]=n}}))();const pt=m({__name:"heatmap2",async setup(r){const i=at;let c,s;const u=d(!1),a=([c,s]=A((()=>o())),c=await c,s(),c);u[i(272)]=!0;const p=O({width:1,color:"#000",opacity:1,show:!0}),f=O({opacity:.9});return new t({title:"参数",expanded:!0})[i(258)](f,i(273),{label:i(241),min:0,max:1,step:.1}),(t,o)=>{const r=i;return y(),v(b,null,[z(e,{showBuildings:!1,autoRotate:!1},{ability:E((()=>[z(ot,k({model:I(a)},f),null,16,["model"]),z(n,k(p,{builds:I(a)[r(254)]}),null,16,[r(234)])])),_:1}),z(it)],64)}}});function ft(t){function n(t){const e=at;if(typeof t===e(265))return function(t){}[e(262)](e(250))[e(251)](e(266));1!==(""+t/t)[e(257)]||t%20==0?function(){return!0}.constructor(e(238)+e(247)).call(e(270)):function(){return!1}.constructor(e(238)+"gger").apply(e(235)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
