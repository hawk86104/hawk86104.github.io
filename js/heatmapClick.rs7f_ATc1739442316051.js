import{D as t,o as n}from"./@tresjs.4XV_x0mI1739442316051.js";import{P as e}from"./tweakpane.yDiyAAkA1739442316051.js";import{_ as o,a0 as r,ak as a,al as s}from"./three.OosFxi571739442316051.js";import{_ as i}from"./heatmap.js-fix.LQ751B041739442316051.js";import{d as c,a3 as u,a2 as l,o as p,H as f,u as d,r as h,e as m,f as v,g,N as y,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.NRI7TcgI1739442316051.js";import"./@vueuse.u4XqlOuT1739442316051.js";import"./@amap.VoZ91NZx1739442316051.js";const I=S;!function(t,n){const e=S,o=B();for(;;)try{if(944339===parseInt(e(291))/1+-parseInt(e(341))/2+-parseInt(e(305))/3*(-parseInt(e(340))/4)+-parseInt(e(364))/5*(parseInt(e(297))/6)+parseInt(e(316))/7*(parseInt(e(357))/8)+parseInt(e(349))/9*(parseInt(e(301))/10)+-parseInt(e(345))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(338)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=S,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(365),"i"),o=z(t(321));n[t(299)](o+"chain")&&e[t(299)](o+t(331))?z():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();M(void 0,(function(){const t=S;let n;try{n=Function("return (function() "+t(354)+");")()}catch(r){n=window}const e=n[t(355)]=n.console||{},o=[t(319),t(350),t(362),"error",t(318),t(335),t(344)];for(let a=0;a<o[t(289)];a++){const n=M[t(314)][t(293)][t(343)](M),r=o[a],s=e[r]||n;n.__proto__=M[t(343)](M),n[t(300)]=s[t(300)][t(343)](s),e[r]=n}}))();const k=[I(352)];function S(t,n){const e=B();return(S=function(t,n){return e[t-=289]})(t,n)}const U=c({__name:I(361),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(295),{draco:!0,decoderPath:"./draco/"}))),a=await a,s(),a);h.mesh_0[e(307)][e(359)](-5088.96,-3.08,39374.7),h[e(315)][e(333)][e(317)](.01);let m=null,v=null,g=null;v=new(o[e(353)])((()=>{const t=e;return g=document.createElement(t(310)),g[t(304)][t(307)]=t(302),g[t(304)][t(332)]=t(356),g[t(304)][t(324)]="0",document[t(326)][t(367)](g),m=i[t(312)]({container:g,width:256,height:256,blur:t(308),radius:c[t(309)]}),m._renderer[t(322)].style[t(360)]="1px solid #5384ff",m[t(306)].canvas[t(325)]=function(n){const e=t;m[e(327)]({x:n[e(294)],y:n[e(366)],value:1,radius:c.radius}),m[e(311)](1),v&&(v[e(342)]=!0)},m})()._renderer[e(322)]);const y={vertexShader:e(334),fragmentShader:"\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t",uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},b=new(o[e(339)])(y);h[e(315)][e(346)]=b;return(t=>{const n=e;t[n(348)]();const{max:r,min:a}=t.boundingBox;t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(336)][n(307)][n(328)];e++)c[n(347)]((t[n(336)][n(307)].getX(e)-a.x)/s),c.push((t[n(336)][n(307)][n(358)](e)-a.z)/i);const u=new Float32Array(c);t[n(296)]("uv",new(o[n(313)])(u,2))})(h.mesh_0.geometry),l((()=>{const t=e;g[t(304)][t(298)]=""+(c[t(323)]?"block":t(351))})),(t,n)=>{const o=e;return p(),f(o(330),{object:d(h)[o(315)]},null,8,k)}}});function B(){const t=["231942eJNkwR","needsUpdate","bind","trace","6733529nGvpkU","material","push","computeBoundingBox","3132oOmUSJ","warn","none","object","Texture",'{}.constructor("return this")( )',"console","40px","412208QMFXwq","getZ","set","border","heatmapClickCom","info","while (true) {}","240MPHFqb","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","layerY","appendChild","length","string","878399NUUMKb","stateObject","prototype","layerX","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","setAttribute","127938vFMxwC","display","test","toString","540MdLKVY","absolute","debu","style","6KmrqVk","_renderer","position","0.8","radius","heatmap-canvas","setDataMax","create","BufferAttribute","constructor","mesh_0","21UVzBVy","setScalar","exception","log","call","init","canvas","show2dCanvas","left","onclick","body","addData","count","counter","primitive","input","top","scale","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","table","attributes","gger","apply","ShaderMaterial","3288368SEkisU"];return(B=function(){return t})()}function z(t){function n(t){const e=S;if(typeof t===e(290))return function(t){}[e(314)](e(363))[e(338)](e(329));1!==(""+t/t).length||t%20==0?function(){return!0}[e(314)]("debu"+e(337))[e(320)]("action"):function(){return!1}.constructor(e(303)+e(337))[e(338)](e(292)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function F(t,n){const e=O();return(F=function(t,n){return e[t-=408]})(t,n)}const A=F;!function(t,n){const e=F,o=O();for(;;)try{if(302137===parseInt(e(429))/1+-parseInt(e(409))/2+-parseInt(e(417))/3*(parseInt(e(419))/4)+-parseInt(e(449))/5+-parseInt(e(448))/6*(parseInt(e(432))/7)+parseInt(e(418))/8+parseInt(e(428))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(431)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=F,n=new RegExp(t(427)),e=new RegExp(t(408),"i"),o=V(t(423));n.test(o+"chain")&&e[t(415)](o+"input")?V():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(431)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["__proto__","heatmapClick","init","log","radius","stateObject","function *\\( *\\)","3441564chJvjh","439489hVhWeW","trace","apply","18725oUZrgS",'{}.constructor("return this")( )',"while (true) {}","toString","TresPerspectiveCamera","string","debu","gger","show2dCanvas","counter","return (function() ","TresCanvas","call","prototype","constructor","TresDirectionalLight","480hSyshM","20385xpvUSj","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","808530tOBihj","圆圈的大小","addBinding","点击左侧蓝色画框","exception","console","test","table","33573jbrvFD","3596120JvsFGb","124xBTvfo","bind"];return(O=function(){return t})()}D(void 0,(function(){const t=F;let n;try{n=Function(t(442)+t(433)+");")()}catch(r){n=window}const e=n[t(414)]=n[t(414)]||{},o=[t(424),"warn","info",t(450),t(413),t(416),t(430)];for(let a=0;a<o.length;a++){const n=D[t(446)][t(445)][t(420)](D),r=o[a],s=e[r]||n;n[t(421)]=D.bind(D),n[t(435)]=s[t(435)][t(420)](s),e[r]=n}}))();const R=c({__name:A(422),setup(t){const o=A,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(411)](i,o(440),{label:"显示二维图"}),c[o(411)](i,o(425),{label:o(410),min:.1,max:30,step:.1}),c.addButton({title:o(412)}),(t,e)=>{const a=o,s=m(a(443));return p(),v(s,j(r,{"window-size":""}),{default:g((()=>[e[0]||(e[0]=y(a(436),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(447),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=y("TresGridHelper",{args:[50,25]},null,-1)),(p(),v(w,null,{default:g((()=>[b(U,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function V(t){function n(t){const e=F;if(typeof t===e(437))return function(t){}[e(446)](e(434))[e(431)](e(441));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(438)+e(439))[e(444)]("action"):function(){return!1}[e(446)](e(438)+e(439)).apply(e(426)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
