import{n as e,F as a,_ as t}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as s,x as o,t as r,c as l,H as u,o as n,m as p,J as d,F as i,X as f,u as h}from"./@vue.Co_gxueH1763540743861.js";const m=["position"],c=["position"],v=["map","depth-test","color","opacity"],y=s({__name:"smokeA",props:{color:{default:"#ffffff"},opacity:{default:.5},speed:{default:.4},width:{default:10},depth:{default:1.5},segments:{default:20},texture:{default:"https://raw.githubusercontent.com/Tresjs/assets/main/textures/clouds/defaultCloud.png"},depthTest:{type:Boolean,default:!0}},setup(s,{expose:y}){const M=s,{width:x,depth:T,segments:_,texture:g,color:k,depthTest:w,opacity:j,speed:G}=o(M),R=r(),A=r();y({value:R});const C=[...new Array(_.value)].map((e,a)=>({x:x.value/2-Math.random()*x.value,y:x.value/2-Math.random()*x.value,scale:.4+Math.sin((a+1)/_.value*Math.PI)*(10*(.2+Math.random())),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*G.value})),F=(e,a)=>e/6*a*j.value,{state:P}=e(g.value),{renderer:S,camera:b}=a();l(()=>S.value?.outputColorSpace);const{onRender:z}=t();return z(()=>{R.value&&b.value&&A.value&&A.value.children.forEach((e,a)=>{e.rotation.z+=C[a].rotation})}),(e,a)=>(n(),u("TresGroup",p({ref_key:"smokeRef",ref:R},e.$attrs),[d("TresGroup",{ref_key:"groupRef",ref:A,position:[0,0,h(_)/2*h(T)]},[(n(!0),u(i,null,f(h(C),({scale:e,x:t,y:s,density:o},r)=>(n(),u("TresMesh",{key:r,position:[t,s,-r*h(T)]},[a[0]||(a[0]=d("TresPlaneGeometry",{scale:[10,10,10],rotation:[0,0,0]},null,-1)),d("TresMeshStandardMaterial",{map:h(P).value,"depth-test":h(w),color:h(k),"depth-write":!1,transparent:"",opacity:F(e,o)},null,8,v)],8,c))),128))],8,m)],16))}});export{y as _};
