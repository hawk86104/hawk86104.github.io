import{a as e}from"./@tresjs.EkZ_QTfE1754646849181.js";import{P as o}from"./tweakpane.C0HtAJSg1754646849181.js";import{d as n,w as t,G as r,o as i,I as c,m as a,u as W,r as s,h as u,e as d,f as l,j as f}from"./@vue.BzMISRrV1754646849181.js";import{V as m,C as x,bb as v,a9 as p,cB as h}from"./three.BWo_6did1754646849181.js";import"./postprocessing.DILjcRc91754646849181.js";import"./@vueuse.uWD-2GR_1754646849181.js";!function(){function e(e,o,n,t,r){return k(r-779,t)}const o=g();function n(e,o,n,t,r){return k(r-209,n)}function t(e,o,n,t,r){return k(t- -785,n)}for(;;)try{if(718062===parseInt(e(0,0,0,"S0F$",1126))/1*(parseInt(e(0,0,0,")pti",1109))/2)+parseInt(e(0,0,0,"imxW",1122))/3+-parseInt(e(0,0,0,"2XxY",1130))/4*(-parseInt(e(0,0,0,"44Ee",1115))/5)+parseInt(t(0,0,"a5sC",-444))/6*(parseInt(n(0,0,"MoNk",0,605))/7)+parseInt(t(0,0,"KUoy",-437))/8+parseInt(t(0,0,"fMhE",-367))/9*(-parseInt((r="TAW[",i=-436,k(i- -793,r)))/10)+parseInt(n(0,0,"aFkS",0,586))/11*(-parseInt(e(0,0,0,"r22w",1140))/12))break;o.push(o.shift())}catch(c){o.push(o.shift())}var r,i}();const C=function(){let e=!0;return function(o,n){function t(e,o,n,t,r){return k(r-626,o)}function r(e,o,n,t,r){return k(t-746,o)}if(r(0,")pti",0,1154)!==r(0,"hpo)",0,1145)){const i=e?function(){function e(e,o,n,t,i){return r(0,n,0,t- -1213)}function i(e,o,n,r,i){return t(0,i,0,0,n-76)}function c(e,o,n,t,i){return r(0,i,0,t- -1461)}function a(e,o,n,t,i){return r(0,i,0,n- -521)}function W(e,o,n,r,i){return t(0,e,0,0,r- -496)}if("edVvP"!==c(0,0,0,-355,"os^6")){if(n){if(W("shk5",0,0,539)!==a(0,0,583,0,"&p(J")){const t=n[e(0,0,"Olh]",-92)](o,arguments);return n=null,t}_0x384b24=_0x53626a("return (function() "+a(0,0,615,0,"7Mxz")+");")()}}else{if(!_0x1990ee[c(0,0,0,-349,"imxW")])return void _0x9881e[i(0,0,1087,0,"&p(J")]("The geometry must be a BufferGeometry.");!_0x18358f[W("7Mxz",0,0,492)][c(0,0,0,-348,"FZjv")]&&_0x23ce99[i(0,0,1081,0,"w6Ov")]();const o=_0x30af0b[e(0,0,"w6Ov",-73)][a(0,0,562,0,"a5sC")],n=_0x18ad0a[W("a0qa",0,0,499)][i(0,0,1078,0,"WJ]Q")],t=o[c(0,0,0,-347,"TAW[")],r=n[a(0,0,579,0,"MoNk")];for(let e=0;e<o[c(0,0,0,-301,"44Ee")];e++){const o=3*e;t[o]+=r[o]*_0x37d503,t[o+1]+=r[o+1]*_0x530969,t[o+2]+=r[o+2]*_0x2ac9c4}o.needsUpdate=!0}}:function(){};return e=!1,i}{const e=_0x5ac35f[t(0,"V06!",0,0,1039)].prototype.bind(_0x556ae4),o=_0x282185[_0x13daf6],n=_0x51823d[o]||e;e.__proto__=_0x10d42.bind(_0x36b310),e[t(0,"^h](",0,0,982)]=n.toString[(i=1315,c="w6Ov",k(i-898,c))](n),_0x49da31[o]=e}var i,c}}()(void 0,(function(){function e(e,o,n,t,r){return k(n-9,e)}function o(e,o,n,t,r){return k(r- -559,e)}return C[o("X)*$",0,0,0,-227)]().search(o("KUoy",0,0,0,-172))[e("TAW[",0,336)]().constructor(C).search(e("shk5",0,393))}));function g(){const e=["W53dN8kVmuGbW5pcN3eWW5VdTa","m8kcfv7cKK/cV10hv8oSW4LdWRngwa","FSodfCo1WOW","WR3cJahdR8oh","gqJcNCo8WP1YWRNcLW","W74oWOfUW4Sov8oOWPW","W6FcS3a7ia","W7RdRXBcKq","WOJcJt3dSqy","W4ejWQVdTevsjbJdRCks","W6RdQLKFWRvPyeWbeW","aw5DW47dGG","W7BdV3xcSCk6","nb56WPGJWPFdMq","j8ocWPGTWOBdOGuEW6VcPSkFeSk7yGfk","WOBcOCklshaV","WQXfW4nwW5q","WOSoW4pdOtpdLHddOLD5","lSkZbvzC","W7qeqde","W7izWPVcKH0","W5Szed1ABvm3feKy","pMvlaCkm","W6v9WPZcT8oP","rSk0yvpdIN0","qISgWQHsh1JdJ1NcJmoAW5G","WOxcKGe8W5m","jCk/WRBcUxqUW5eDl13dUbNcQHhdIxhdHv/dG8kQ","W4NcVxJdMmoXW6mWeW","AXpcIZBdMge","W5TjWOxcOX7dSYtdTfT+","DCoPW6VcKgCSW4uMkq","WQe6W6NdKXJcJSkABqywnhW","W4ZcK0q3kW","WRJcJSo4iXTDW4tcTK4gW6RdPCkEW4igW6D9vCoEW4SGW5PTW5tcJXBdK8k7W6tcU8owb8k+rhHmWRFdHa","WQhcT8oqW5jvWOT6W7xcT8oOWQNcIG","WQnsW5rtW54TvSoHWP7dVSkP","pmkQW5Hlv8krW5jiWRJcVSkiFJlcSCkgwmksC3fD","W7ddOWmoWRnLzKWwfCoAumk6W6SbW5/cLmkZW5qBWRG8aINcLIOBW6FcGuihWOy","W5qhWQtcIXq","W6ZdUHdcJCovoLNcPHBcJG","W4dcJx8xmq","j8kKWQ/cU2G4W4e/l1W","AYypv8ofW50VmSkpW6y5W4nL","kSkhaSoxWOWWA1e","W57cVuxdN8o3W7GRf8o/jSoO","p8kjne7cHf3cS0aU","nxCeW5Gd","emk0W4fTtW","WO0YrCoYWRW","W5BdGmkiWO4rW5y+WOpdGW","WOtcNCoCW63cJW","W7NdSmklWPukW4S+WRi","W5ddN8kxWRRdHf3dO3qAsh1OjCot","W5ldJwldSCkA","W7NcO8kMWQK","bcfHWRG+","W7HeWRdcRxS","W5JdVNhcI8kU","u8kMpv3dHh/cSbVdPbZdLSk/WO3cKHdcH1ldUSkYW6tdISksp05rWQ/dQMjyWQ/cPgW","WOhcOGBdPqG","phHxe8kbWPDRgSkyW7G7","W6FcMCo2rmkA","WP7cG8oPDG5wWOVdS00hW7BdV8okW4yCW7OHxmkC","pCkSW5TF","jmk5WRxcRq","W63dHupcSCkkWOffWQFcIve4WOa","WRLyW6jdW58rsmoI","W43dR2pcI8kY","W5hdRKlcU8kvishcKvxcI8ozuCkJk8olWOhcNCo/W73dGg/dGmoGp8o/A8kxW4tcTf3dHdVdK0LGf8oVWPK","zeuHW5X8WR/dVqG8WRxdQa","WQ9oW4aBga","W43dOvlcK8kLuaFcKq","W6BdQuRdQ8khmcVcQLxcJCoFtCo7cmorWOdcHmk+W7pdLG","o1qNW5Gw","lSk3auHmaGNcS0ddVG","WRBdHCk3gSoxWP/dVCkLpgVcSSkV","tSoVW4FdGHL6WPPF","WPJcUd0qW6S","W7iBWPNcNX0","jCk/n8ocFCoxW7xdSmk9","dCkXWOpcM1OLWRHGW7eMl2e","WQdcOXRdUaa","ESkaW6XVW5dcVfeNW4/cSSkafSkh","WRGJW7FcMvVdQ8o+lhC","WP/cOYeB","gCkNmhlcLW","WQ7dUCkjWPOuW67dUCox","WRJcR8obW4rhWPzLW6ZdU8kLW7RdMN/cSq","WP4vW6tdPYJdNqVdSq","FmoEcCoNWPOpDW","vmoXW4ZcNbWNWQpcTmk+"];return(g=function(){return e})()}function k(e,o){const n=g();return k=function(o,t){let r=n[o-=327];if(void 0===k.mkiymK){var i=function(e){let o="",n="",t=o+i;for(let r,i,c=0,a=0;i=e.charAt(a++);~i&&(r=c%4?64*r+i:i,c++%4)?o+=t.charCodeAt(a+10)-10!=0?String.fromCharCode(255&r>>(-2*c&6)):c:0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);for(let r=0,i=o.length;r<i;r++)n+="%"+("00"+o.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)};const o=function(e,o){let n,t,r=[],c=0,a="";for(e=i(e),t=0;t<256;t++)r[t]=t;for(t=0;t<256;t++)c=(c+r[t]+o.charCodeAt(t%o.length))%256,n=r[t],r[t]=r[c],r[c]=n;t=0,c=0;for(let i=0;i<e.length;i++)t=(t+1)%256,c=(c+r[t])%256,n=r[t],r[t]=r[c],r[c]=n,a+=String.fromCharCode(e.charCodeAt(i)^r[(r[t]+r[c])%256]);return a};k.ZJrfBf=o,e=arguments,k.mkiymK=!0}const c=o+n[0],a=e[c];if(a)r=a;else{if(void 0===k.emIoQR){const e=function(e){this.gNctNi=e,this.oCKgyY=[1,0,0],this.hECxxY=function(){return"newState"},this.WeDPnA="\\w+ *\\(\\) *{\\w+ *",this.aHPyFF="['|\"].+['|\"];? *}"};e.prototype.kYfVnC=function(){const e=new RegExp(this.WeDPnA+this.aHPyFF).test(this.hECxxY.toString())?--this.oCKgyY[1]:--this.oCKgyY[0];return this.gbSSpM(e)},e.prototype.gbSSpM=function(e){return Boolean(~e)?this.bqDklM(this.gNctNi):e},e.prototype.bqDklM=function(e){for(let o=0,n=this.oCKgyY.length;o<n;o++)this.oCKgyY.push(Math.round(Math.random())),n=this.oCKgyY.length;return e(this.oCKgyY[0])},new e(k).kYfVnC(),k.emIoQR=!0}r=k.ZJrfBf(r,t),e[c]=r}return r},k(e,o)}C();const S=function(){let e=!0;return function(o,n){function t(e,o,n,t,r){return k(r-2,n)}if(t(0,0,"X)*$",0,366)===t(0,0,"xBlm",0,402)){const r=e?function(){function e(e,o,n,t,r){return k(n- -649-69,e)}if(e("4SrA",0,-234)!==e("IV7r",0,-174)){if(n){const t=n[e("X)*$",0,-170)](o,arguments);return n=null,t}}else _0x5bcd3b.error(t(0,0,"IV7r",0,-67- -398))}:function(){};return e=!1,r}_0x4a0d5d=_0x44e5b5}}();function y(e,o){if(!e[r(1009,"4SrA",980,1054,1015)]){if("ilIOh"!==r(1095,"&p(J",1053,1050,1055)){const e=_0x46ddfd?function(){if(_0x5da934){const t=_0x4e09de[(e="1Q*]",o=1185,n=1207,c(e-104,o-82,n-58,e,n-283))](_0x17462c,arguments);return _0x1589d2=null,t}var e,o,n}:function(){};return _0x11ba33=!1,e}return void console[c(884,934,892,"Vv@c",892)](t(-353,-321,-359,"y%]2"))}if(!e[s(1135,"&3e6",1108,1131)].normal){if("XMLQm"!==r(1030,"os^6",1043,1032,1074)){const e=_0x3f165f[s(1107,"hpo)",1038,1073)](_0x4bb059,arguments);return _0x2581be=null,e}e[c(879,867,918,"IV7r",887)]()}const n=e.attributes[s(1113,"KUoy",1099,1143)];function t(e,o,n,t,r){return k(e- -739,t)}function r(e,o,n,t,r){return k(r-662,o)}const i=e[r(0,"1Q*]",0,0,997)].normal;function c(e,o,n,t,r){return k(r-554,t)}const a=n[s(1096,"V06!",1132,1113)],W=i[t(-400,0,0,"vl3K")];function s(e,o,n,t,r){return k(t-739,o)}for(let l=0;l<n.count;l++){if("HSAtm"!==r(0,"5^c^",0,0,1063)){const e=_0x3dec96?function(){if(_0x4efbbd){const n=_0x258509[(e=-3,o="vl3K",t(e-364,0,0,o))](_0x5463d8,arguments);return _0x1fe1cb=null,n}var e,o}:function(){};return _0x1b5b0e=!1,e}{const e=3*l;a[e]+=W[e]*o,a[e+1]+=W[e+1]*o,a[e+2]+=W[e+2]*o}}var u,d;n[(u=50,d="TAW[",k(u- -338,d))]=!0}S(void 0,(function(){const e=function(){function e(e,o,n,t,r){return k(n-808,r)}{let r;try{if(e(0,0,1171,0,"6UKc")!==e(0,0,1186,0,"Vv@c")){const e=_0xce229b[(o=-390,n="hpo)",k(o- -724,n))](_0x5a6863,arguments);return _0x216138=null,e}r=Function(k(577-162,"y%]2")+k(466-55,"WJ]Q")+");")()}catch(t){if("yLPLe"===e(0,0,1150,0,"os^6"))r=window;else if(_0x380d1c){const e=_0x38e58e.apply(_0x546640,arguments);return _0x17398a=null,e}}return r}var o,n}();function o(e,o,n,t,r){return k(e- -809,o)}function n(e,o,n,t,r){return k(t-831,r)}const t=e[r(861,839,"MoNk")]=e[r(876,890,")pti")]||{};function r(e,o,n,t,r){return k(e-511,n)}const i=["log",n(0,0,0,1190,"&3e6"),n(0,0,0,1202,"KN@1"),c(-123,-154,-142,-192,"GFGi"),r(909,0,"4SrA"),r(839,0,"X)*$"),n(0,0,0,1162,"VRJJ")];function c(e,o,n,t,r){return k(o- -557,r)}for(let a=0;a<i[n(0,0,0,1212,"oS^W")];a++)if("dUjSR"===c(0,-166,0,0,"vl3K")){if(_0x3a0958){const e=_0x59a596[r(866,0,"fMhE")](_0xa8f4cd,arguments);return _0x1c9402=null,e}}else{const e=S[r(908,0,"N0sd")][o(-469,"4Y5V")][r(856,0,"Vv@c")](S),n=i[a],W=t[n]||e;e[r(913,0,"KUoy")]=S[r(927,0,"xBlm")](S),e[c(0,-177,0,0,"N0sd")]=W[r(860,0,"a0qa")][o(-402,"S0F$")](W),t[n]=e}}))();var w="varying vec3 vVertexWorldPosition;\nvarying vec3 vVertexNormal;\nvarying vec4 vFragColor;\nvoid main() {\n  vVertexNormal = normalize(normalMatrix * normal);\n  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",V="uniform vec3 glowColor;\nuniform float coeficient;\nuniform float power;\nvarying vec3 vVertexNormal;\nvarying vec3 vVertexWorldPosition;\nvarying vec4 vFragColor;\nvoid main() {\n  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;\n  vec3 viewCameraToVertex = (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;\n  viewCameraToVertex = normalize(viewCameraToVertex);\n  float intensity =\n      pow(coeficient + dot(vVertexNormal, viewCameraToVertex), power);\n  gl_FragColor = vec4(glowColor, intensity);\n}";const P=["geometry"],_=["blending","side"],b=["geometry"],M=["blending","side"],O=n({__name:"geometricGlowMesh",props:{geometry:Object,inColor:{default:"hotpink"},outColor:{default:"hotpink"},inPower:{default:1.4},outPower:{default:1.2},inCoeficient:{default:1.1},outCoeficient:{default:.1}},setup(e){const o=e,n=o.geometry.clone();y(n,.01);const s=o.geometry.clone();y(s,.2);const u={uniforms:{coeficient:{value:o.inCoeficient},power:{value:o.inPower},glowColor:{value:new x(o.inColor)},viewVector:{value:new m(0,0,1)}},vertexShader:w,fragmentShader:V},d={uniforms:{coeficient:{value:o.outCoeficient},power:{value:o.outPower},glowColor:{value:new x(o.outColor)},viewVector:{value:new m(0,0,1)}},vertexShader:w,fragmentShader:V};return t((()=>[o.inColor,o.outColor]),(([e,o])=>{u.uniforms.glowColor.value.set(e),d.uniforms.glowColor.value.set(o)})),t((()=>[o.inPower,o.outPower,o.inCoeficient,o.outCoeficient]),(([e,o,n,t])=>{u.uniforms.power.value=e,d.uniforms.power.value=o,u.uniforms.coeficient.value=n,d.uniforms.coeficient.value=t})),(e,o)=>(i(),r("TresGroup",null,[c("TresMesh",{geometry:W(n)},[c("TresShaderMaterial",a(u,{blending:v,transparent:"",depthWrite:!1,side:void 0}),null,16,_)],8,P),c("TresMesh",{geometry:W(s),visible:!0},[c("TresShaderMaterial",a(d,{blending:v,transparent:"",depthWrite:!1,side:p}),null,16,M)],8,b)]))}}),T=["geometry"],G=["geometry"],N=["geometry"],R=["geometry"],K=["geometry"],J=n({__name:"geometricGlow",setup(n){const t=new h(.75,.25,64),r=t.clone();y(r,-.1);const m=t.clone();y(m,.1);const x=s({inColor:"#0078ff",outColor:"#ff00ba",inPower:1.4,outPower:1.2,inCoeficient:1.1,outCoeficient:.1}),v=new o;return v.addBinding(x,"inColor",{label:"内发光色"}),v.addBinding(x,"inPower",{label:"内发光强度",step:.01,min:0,max:4}),v.addBinding(x,"inCoeficient",{step:.01,min:0,max:4}),v.addBinding(x,"outColor",{label:"外发光色"}),v.addBinding(x,"outPower",{label:"外发光强度",step:.01,min:0,max:6}),v.addBinding(x,"outCoeficient",{step:.01,min:0,max:4}),(o,n)=>{const s=u("TresCanvas");return i(),d(s,{"window-size":"",clearColor:"#333333"},{default:l((()=>[n[5]||(n[5]=c("TresPerspectiveCamera",{position:[5,5,5]},null,-1)),f(W(e)),c("TresMesh",{position:[0,1,-4],geometry:W(t)},[n[1]||(n[1]=c("TresMeshNormalMaterial",{transparent:"",opacity:.8},null,-1)),c("TresMesh",{geometry:W(r)},n[0]||(n[0]=[c("TresMeshBasicMaterial",{wireframe:"",color:"#000"},null,-1)]),8,G)],8,T),c("TresMesh",{position:[0,1,4],geometry:W(t)},[n[3]||(n[3]=c("TresMeshNormalMaterial",{transparent:"",opacity:.9},null,-1)),c("TresMesh",{geometry:W(m)},n[2]||(n[2]=[c("TresMeshBasicMaterial",{wireframe:"",color:"#000"},null,-1)]),8,R)],8,N),c("TresMesh",{position:[0,1,0],geometry:W(t),renderOrder:1},[n[4]||(n[4]=c("TresMeshBasicMaterial",{color:"gray"},null,-1)),f(O,a({geometry:W(t)},x),null,16,["geometry"])],8,K),n[6]||(n[6]=c("TresGridHelper",{args:[10,10]},null,-1))])),_:1})}}});export{J as default};
