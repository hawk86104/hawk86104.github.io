import{D as t,o as n}from"./@tresjs.yaBKiR-I1741309500666.js";import{P as e}from"./tweakpane.yDiyAAkA1741309500666.js";import{_ as o,l as r,ak as a,al as s}from"./three.8tDGqmLF1741309500666.js";import{_ as i}from"./heatmap.js-fix.RMOyviOZ1741309500666.js";import{d as c,a3 as u,a2 as l,o as p,H as f,u as d,r as h,e as g,f as m,g as v,N as y,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.NRI7TcgI1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";import"./@amap.dm2alPWO1741309500666.js";const I=A;!function(t,n){const e=A,o=k();for(;;)try{if(952269===-parseInt(e(430))/1+parseInt(e(393))/2+-parseInt(e(398))/3+parseInt(e(452))/4*(parseInt(e(451))/5)+parseInt(e(444))/6*(-parseInt(e(403))/7)+parseInt(e(443))/8*(parseInt(e(401))/9)+parseInt(e(421))/10*(parseInt(e(465))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(434)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["layerX","addData","21150XsCAVh","1620QUkiau","40px","test","style","attributes","gger","./draco/","trace","push","show2dCanvas","material","BufferAttribute","info","121lNHrVj","__proto__","display","scale","set","bind","0.8","604886wodyMR","stateObject","geometry","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","call","3612483ELzVvW","object","none","5508oXWxbV","constructor","10415762xsZJQM","console","boundingBox","toString","length","radius","log","Texture","canvas","deleteAttribute","input","absolute","counter","layerY","string","chain","primitive",'{}.constructor("return this")( )',"2120660FFNEHs","init","while (true) {}","getZ","return (function() ","body","mesh_0","table","setScalar","1513599PTLOnN","action","DoubleSide","left","apply","heatmap-canvas","1px solid #5384ff","top","onclick","create","count","debu","block","10584dEDbZi","6JdrUEs","position","_renderer","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","border"];return(k=function(){return t})()}!function(){C(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z(t(422));n.test(o+t(418))&&e[t(454)](o+t(413))?z():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(434)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=k();return(A=function(t,n){return e[t-=388]})(t,n)}E(void 0,(function(){const t=A;let n;try{n=Function(t(425)+t(420)+");")()}catch(r){n=window}const e=n[t(404)]=n.console||{},o=[t(409),"warn",t(464),"error","exception",t(428),t(459)];for(let a=0;a<o.length;a++){const n=E[t(402)].prototype[t(391)](E),r=o[a],s=e[r]||n;n[t(466)]=E[t(391)](E),n.toString=s[t(406)][t(391)](s),e[r]=n}}))();const D=[I(399)],S=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(458)}))),a=await a,s(),a);h[e(427)].position[e(390)](-5088.96,-3.08,39374.7),h.mesh_0[e(389)][e(429)](.01);let g=null,m=null,v=null;m=new(o[e(410)])((()=>{const t=e;return v=document.createElement(t(435)),v[t(455)][t(445)]=t(414),v[t(455)][t(437)]=t(453),v[t(455)][t(433)]="0",document[t(426)].appendChild(v),g=i[t(439)]({container:v,width:256,height:256,blur:t(392),radius:c[t(408)]}),g._renderer[t(411)][t(455)][t(448)]=t(436),g[t(446)][t(411)][t(438)]=function(n){const e=t;g[e(450)]({x:n[e(449)],y:n[e(416)],value:1,radius:c[e(408)]}),g.setDataMax(1),m&&(m.needsUpdate=!0)},g})()._renderer[e(411)]);const y={vertexShader:e(447),fragmentShader:e(396),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(432)]},b=new r(y);h[e(427)][e(462)]=b;return(t=>{const n=e;t.computeBoundingBox();const{max:r,min:a}=t[n(405)];t[n(412)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(456)][n(445)][n(440)];e++)c.push((t[n(456)].position.getX(e)-a.x)/s),c[n(460)]((t[n(456)][n(445)][n(424)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(463)])(u,2))})(h[e(427)][e(395)]),l((()=>{const t=e;v[t(455)][t(388)]=""+(c[t(461)]?t(442):t(400))})),(t,n)=>{const o=e;return p(),f(o(419),{object:d(h)[o(427)]},null,8,D)}}});function z(t){function n(t){const e=A;if(typeof t===e(417))return function(t){}[e(402)](e(423))[e(434)](e(415));1!==(""+t/t)[e(407)]||t%20==0?function(){return!0}.constructor(e(441)+e(457))[e(397)](e(431)):function(){return!1}.constructor(e(441)+"gger")[e(434)](e(394)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=B;!function(t,n){const e=B,o=Z();for(;;)try{if(825611===parseInt(e(236))/1*(parseInt(e(237))/2)+-parseInt(e(253))/3*(parseInt(e(264))/4)+parseInt(e(257))/5+-parseInt(e(258))/6+-parseInt(e(269))/7*(parseInt(e(279))/8)+parseInt(e(271))/9+parseInt(e(262))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(242)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){M(this,(function(){const t=B,n=new RegExp(t(245)),e=new RegExp(t(249),"i"),o=P(t(241));n[t(248)](o+t(250))&&e[t(248)](o+t(240))?P():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["gger","input","init","apply","heatmapClick","info","function *\\( *\\)","__proto__","counter","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","TresDirectionalLight","call","3WptXCO","radius","点击左侧蓝色画框","while (true) {}","6560615OoehfC","8902086jCSKEf","warn","TresGridHelper","log","10836160dhxaHA","show2dCanvas","28852kxDGIP","length","trace","prototype",'{}.constructor("return this")( )',"7VFvwZk","显示二维图","11118393WsfrFB","#ffffff","table","addBinding","TresPerspectiveCamera","console","toString","debu","11195792ZaEibo","#030311","bind","113ijYlrc","1502DTPHGF","addButton"];return(Z=function(){return t})()}function B(t,n){const e=Z();return(B=function(t,n){return e[t-=234]})(t,n)}T(void 0,(function(){const t=B;let n;try{n=Function("return (function() "+t(268)+");")()}catch(r){n=window}const e=n[t(276)]=n[t(276)]||{},o=[t(261),t(259),t(244),"error","exception",t(273),t(266)];for(let a=0;a<o[t(265)];a++){const n=T.constructor[t(267)][t(235)](T),r=o[a],s=e[r]||n;n[t(246)]=T[t(235)](T),n[t(277)]=s[t(277)][t(235)](s),e[r]=n}}))();const O=c({__name:F(243),setup(t){const o=F,r={clearColor:o(234),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(274)](i,o(263),{label:o(270)}),c[o(274)](i,o(254),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[o(238)]({title:o(255)}),(t,e)=>{const a=o,s=g("TresCanvas");return p(),m(s,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(275),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(251),{position:[5,10,7.5],color:a(272),intensity:5},null,-1)),e[2]||(e[2]=y(a(260),{args:[50,25]},null,-1)),(p(),m(w,null,{default:v((()=>[b(S,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=B;if("string"==typeof t)return function(t){}.constructor(e(256))[e(242)](e(247));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(239))[e(252)]("action"):function(){return!1}.constructor(e(278)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
