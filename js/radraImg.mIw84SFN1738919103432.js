import{a as t,m as n,o as e}from"./@tresjs.G4idgyWs1738919103432.js";import{bk as r,_ as o}from"./three.CYhYNU4g1738919103432.js";import{_ as s,h as c}from"./three-tile.yD7csj4A1738919103432.js";import{_ as i,c as a}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.G_4f6gRk1738919103432.js";import{d as u,a3 as p,w as l,o as f,H as m,N as h,u as d,r as g,b as y,f as I,g as _,j as b,m as w,al as j,F as x,e as v,aj as S,ak as T}from"./@vue.NRI7TcgI1738919103432.js";import{P as D}from"./tweakpane.yDiyAAkA1738919103432.js";import{_ as M}from"./informationDiv.8TbHIcY21738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";import"./@fesjs.28Jx3VJe1738919103432.js";import"./vue-router.NKoGOf7E1738919103432.js";import"./lodash-es.pklfUAS51738919103432.js";import"./@qlin.yHhFDldE1738919103432.js";import"./pinia.yqLlAjUg1738919103432.js";import"./@floating-ui.BPbuo5Gx1738919103432.js";import"./@juggle.7yjBMqoW1738919103432.js";const E=P;!function(t,n){const e=P,r=L();for(;;)try{if(313480===parseInt(e(330))/1*(-parseInt(e(324))/2)+-parseInt(e(371))/3+-parseInt(e(365))/4*(-parseInt(e(375))/5)+parseInt(e(340))/6+-parseInt(e(326))/7*(parseInt(e(354))/8)+parseInt(e(377))/9+-parseInt(e(345))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(351)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){k(this,(function(){const t=P,n=new RegExp(t(317)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=W(t(364));n.test(r+t(341))&&e[t(346)](r+t(348))?W():r("0")}))()}();const z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[P(351)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(t,n){const e=L();return(P=function(t,n){return e[t-=317]})(t,n)}z(void 0,(function(){const t=P;let n;try{n=Function(t(374)+t(352)+");")()}catch(o){n=window}const e=n.console=n[t(329)]||{},r=[t(339),t(321),t(327),t(358),t(347),t(370),t(342)];for(let s=0;s<r[t(336)];s++){const n=z[t(361)][t(378)].bind(z),o=r[s],c=e[o]||n;n[t(368)]=z[t(337)](z),n[t(363)]=c[t(363)][t(337)](c),e[o]=n}}))();const A=[E(332)],B=[E(338),E(369),"rotateX",E(349)],Q=u({__name:E(325),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=E;let s,c;const a=n,u=new r({displacementMap:new(o[e(333)]),transparent:!0,side:o[e(380)],opacity:a[e(355)],displacementScale:.5,displacementBias:0});u[e(367)]=t=>{const n=e;t[n(353)]=n(356)+t[n(353)],t.vertexShader=t[n(353)][n(376)]("#include <displacementmap_vertex>",n(344))};const g=a[e(323)][e(343)](new(o[e(334)])(105,34,0));g.applyMatrix4(a[e(323)][e(319)]);const y=i[e(331)](a[e(323)],{x:67,y:11},{x:140,y:57},a[e(320)]),I=[];for(let t=0;t<9;t++)I[e(379)](e(335)+t+e(322));let _=0;const b=([s,c]=p((()=>t(I))),s=await s,c(),s);u.map=b[_],l((()=>[a.color,a[e(355)]]),(([t,n])=>{u[e(355)]=n}));let w=null,j=!1;return j?(clearInterval(w),w=null,j=!1):(w=setInterval((()=>{const t=P;_=_<I[t(336)]-1?_+1:0,u[t(323)]=b[_],u[t(328)]=!0,console[t(339)](_)}),1e3),j=!0),(t,n)=>{const r=e;return f(),m(r(360),{position:[...d(g)]},[h(r(366),{scale:[d(y).x,d(y).y,t[r(320)]],material:d(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[r(320)]/5},n[0]||(n[0]=[h(r(362),{args:[1,1,529,420]},null,-1)]),8,B)],8,A)}}});function L(){const t=["TresPlaneGeometry","toString","init","172bTegLn","TresMesh","onBeforeCompile","__proto__","material","table","1120818exGHct","string","stateObject","return (function() ","43045ncENah","replace","2787246xPaDRr","prototype","push","DoubleSide","function *\\( *\\)","action","matrix","height","warn","40.png","map","62686IENdgD","radraImgShow","273qGWQST","info","needsUpdate","console","1KaFdVJ","scaleImg","position","Texture","Vector3","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","length","bind","scale","log","3453858USujrF","chain","trace","geo2pos","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","575510CWMpal","test","exception","input","position-y","debu","apply",'{}.constructor("return this")( )',"vertexShader","98368elQxrw","opacity","uniform sampler2D map;\n\t","counter","error","while (true) {}","TresGroup","constructor"];return(L=function(){return t})()}function W(t){function n(t){const e=P;if(typeof t===e(372))return function(t){}.constructor(e(359))[e(351)](e(357));1!==(""+t/t)[e(336)]||t%20==0?function(){return!0}.constructor(e(350)+"gger").call(e(318)):function(){return!1}.constructor(e(350)+"gger").apply(e(373)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=H;!function(t,n){const e=H,r=N();for(;;)try{if(837805===parseInt(e(517))/1*(-parseInt(e(461))/2)+parseInt(e(474))/3*(-parseInt(e(468))/4)+-parseInt(e(518))/5*(parseInt(e(495))/6)+-parseInt(e(484))/7*(parseInt(e(491))/8)+parseInt(e(499))/9+parseInt(e(509))/10*(-parseInt(e(466))/11)+parseInt(e(494))/12*(parseInt(e(493))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(463)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=H,n=new RegExp(t(503)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=C(t(498));n.test(r+t(457))&&e[t(500)](r+t(514))?C():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(463)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();V(void 0,(function(){const t=H;let n;try{n=Function(t(465)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(456)]=n.console||{},r=[t(511),"warn",t(507),t(488),t(477),t(469),t(467)];for(let s=0;s<r.length;s++){const n=V[t(490)][t(508)].bind(V),o=r[s],c=e[o]||n;n[t(519)]=V.bind(V),n[t(510)]=c[t(510)][t(471)](c),e[o]=n}}))();const F=[G(496)];function H(t,n){const e=N();return(H=function(t,n){return e[t-=456]})(t,n)}const Z=G(497),q=u({__name:G(512),setup(t){const e=G,r=g({height:200,opacity:1}),u=new D({title:"参数"});u[e(483)](r,e(460),{label:"高度",min:10,max:300,step:1}),u[e(483)](r,e(462),{label:e(504),min:0,max:1,step:.1}),new(s[e(481)].MapBoxSource)({token:Z,dataType:"image",style:e(516)});const p=new c.MapBoxSource({token:Z,dataType:e(458),style:e(464),maxLevel:15}),v=new(s[e(501)])({imgSource:[new(c[e(476)])({style:"6"}),new(c[e(476)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});v.rotateX(-Math.PI/2);const S=new(o[e(513)])(105,34,0),T=new(o[e(513)])(110,0,1e4),M=v[e(487)](v[e(486)](S)),E=v[e(487)](v[e(486)](T)),k=y(),{camera:z,controls:P,scene:A,renderer:B}=n();return z[e(459)]&&z[e(459)][e(485)].copy(E),l((()=>P[e(459)]),(t=>{const n=e;t&&(t[n(489)][n(475)](M),a(t,z[n(459)],A[n(459)]))})),l((()=>k[e(459)]),(t=>{const n=e;t&&t[n(489)][n(485)][n(475)](M)})),i[e(482)](z[e(459)],B.value[e(473)],v),(t,n)=>{const o=e;return f(),m(x,null,[h(o(472),{ref_key:"tdLight",ref:k,position:[0,2e3,1e3],intensity:1},null,512),h(o(480),{object:d(v)},null,8,F),(f(),I(j,null,{default:_((()=>[b(Q,w({map:d(v)},r),null,16,["map"])])),_:1}))],64)}}});function C(t){function n(t){const e=H;if(typeof t===e(502))return function(t){}.constructor(e(505)).apply(e(506));1!==(""+t/t)[e(478)]||t%20==0?function(){return!0}[e(490)](e(492)+e(470))[e(479)](e(515)):function(){return!1}.constructor(e(492)+e(470))[e(463)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function N(){const t=["console","chain","terrain-rgb","value","height","273826HBmVsE","opacity","apply","mapbox.terrain-rgb","return (function() ","18304vGMvQN","trace","1913672ngHYWl","table","gger","bind","TresDirectionalLight","domElement","6OraVnm","copy","GDSource","exception","length","call","primitive","plugin","showLocation","addBinding","469EEboqe","position","geo2pos","localToWorld","error","target","constructor","129176uTPekW","debu","1053HDMHrP","635484gIsVOm","6qoKRqE","object","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","init","13384053BDzLLW","test","TileMap","string","function *\\( *\\)","透明度","while (true) {}","counter","info","prototype","8220rjygCM","toString","log","mapBoxShow3","Vector3","input","action","mapbox.satellite","11USvPDc","131465ZGyemE","__proto__"];return(N=function(){return t})()}const O=J;!function(t,n){const e=J,r=U();for(;;)try{if(145645===parseInt(e(277))/1+parseInt(e(267))/2*(-parseInt(e(268))/3)+parseInt(e(258))/4*(-parseInt(e(282))/5)+parseInt(e(286))/6*(parseInt(e(285))/7)+-parseInt(e(265))/8+-parseInt(e(256))/9*(parseInt(e(249))/10)+parseInt(e(260))/11*(parseInt(e(280))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(261)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(){const t=["radraImg","9Adwses","bind","607356ydQmMf","warn","14146WSumIK","apply","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","1565808YscWQQ","highp","6gYpdQp","263736KQALMV","exception","TresCanvas","TresAmbientLight","while (true) {}","#dbf0ff","trace","debu","test","172580cVVlAj","input","length","3900yEBhJR","table","5dZomjQ","info","console","2394JPxIVh","3918sGdjXi","counter","gger","error","constructor","stateObject","569100CqSupk","prototype",'{}.constructor("return this")( )',"string","toString","function *\\( *\\)"];return(U=function(){return t})()}function J(t,n){const e=U();return(J=function(t,n){return e[t-=246]})(t,n)}!function(){$(this,(function(){const t=J,n=new RegExp(t(254)),e=new RegExp(t(263),"i"),r=Y(t(262));n[t(276)](r+"chain")&&e.test(r+t(278))?Y():r("0")}))()}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();K(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function("return (function() "+t(251)+");")()}catch(e){n=window}return n}(),e=n[t(284)]=n[t(284)]||{},r=["log",t(259),t(283),t(246),t(269),t(281),t(274)];for(let o=0;o<r[t(279)];o++){const n=K[t(247)][t(250)][t(257)](K),s=r[o],c=e[s]||n;n.__proto__=K[t(257)](K),n[t(253)]=c.toString[t(257)](c),e[s]=n}}))();const X=u({__name:O(255),setup(t){const n=O,r=g({clearColor:n(273),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(266)}),o=g({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,s)=>{const c=n,i=v(c(270));return f(),m(x,null,[b(i,w(r,{"window-size":""}),{default:_((()=>[s[0]||(s[0]=h("TresPerspectiveCamera",{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(d(e),S(T(o)),null,16),s[1]||(s[1]=h(c(271),{intensity:1},null,-1)),b(q)])),_:1},16),b(M)],64)}}});function Y(t){function n(t){const e=J;if(typeof t===e(252))return function(t){}[e(247)](e(272)).apply(e(287));1!==(""+t/t)[e(279)]||t%20==0?function(){return!0}[e(247)](e(275)+e(288)).call(e(264)):function(){return!1}[e(247)](e(275)+e(288))[e(261)](e(248)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{X as default};
