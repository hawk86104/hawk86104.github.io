import{A as t}from"./@amap.CGUF9xH41744075368226.js";import{v as n,d as e,s as a,H as o,o as r,a3 as c}from"./@vue.DK6ok9LJ1744075368226.js";import{_ as s}from"./@fesjs.DVzkLEh_1744075368226.js";import{m as u}from"./@tresjs.DYJWvbJh1744075368226.js";import{d as i}from"./pinia.BwN9Gs_m1744075368226.js";const l=p;function p(t,n){const e=d();return p=function(t,n){return e[t-=131]},p(t,n)}!function(){const t=p,n=d();for(;;)try{if(846489===parseInt(t(136))/1+parseInt(t(151))/2*(parseInt(t(146))/3)+parseInt(t(138))/4*(-parseInt(t(142))/5)+parseInt(t(162))/6+-parseInt(t(166))/7*(parseInt(t(152))/8)+-parseInt(t(145))/9+parseInt(t(137))/10*(parseInt(t(165))/11))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();const f=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[p(133)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();!function(){f(this,(function(){const t=p,n=new RegExp(t(141)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),a=g(t(159));n[t(156)](a+t(150))&&e.test(a+"input")?g():a("0")}))()}();const m=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,a}}();function d(){const t=["init","table","console","5484324GLHMEz","warn","length","6079172uEFHUB","56kiWaaQ","prototype","error","stateObject","while (true) {}","apply","log","counter","816718mxZxwO","30ypioAJ","4qfZOVm","call",'{}.constructor("return this")( )',"function *\\( *\\)","8306330DXxsna","debu","info","2112219IgAtzc","54057JwgjkV","bind","gger","action","chain","100idEsPA","1547232kPmptm","exception","constructor","return (function() ","test","mapStore","toString"];return(d=function(){return t})()}m(void 0,(function(){const t=p,n=function(){const t=p;let n;try{n=Function(t(155)+t(140)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(161)]||{},a=[t(134),t(163),t(144),t(168),t(153),t(160),"trace"];for(let o=0;o<a[t(164)];o++){const n=m[t(154)][t(167)][t(147)](m),r=a[o],c=e[r]||n;n.__proto__=m[t(147)](m),n[t(158)]=c.toString[t(147)](c),e[r]=n}}))();const v=i(l(157),(()=>({aMap:n(null),mapHandle:n(null),cameraState:n(null)})));function g(t){function n(t){const e=p;if("string"==typeof t)return function(t){}.constructor(e(132))[e(133)](e(135));1!==(""+t/t)[e(164)]||t%20==0?function(){return!0}.constructor(e(143)+e(148))[e(139)](e(149)):function(){return!1}[e(154)](e(143)+e(148))[e(133)](e(131)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const h={id:"mapContainer"},y=s(e({__name:"mapContainer",props:{center:{default:[0,0]},zoom:{default:14},pitch:{default:50},mapStyle:{default:"normal"}},setup(n){const e=n,c=v();let s=null;return a((async()=>{await t.load({key:"0c7222955570f1b434c4adfcc1e955e8",version:"2.0"}).then((t=>{s=new t.Map("mapContainer",{center:e.center,zooms:[1,20],viewMode:"3D",zoom:e.zoom,pitch:e.pitch,mapStyle:"amap://styles/"+e.mapStyle}),s.on("click",(t=>{const n=`您在 [ ${t.lnglat.getLng()},${t.lnglat.getLat()} ] 的位置单击了地图！`;console.log(n)})),c.$patch({aMap:t}),c.$patch({mapHandle:s})})).catch((t=>{console.log(t)}))})),(t,n)=>(r(),o("div",h))}}),[["__scopeId","data-v-e1a7e2c4"]]),I={__name:"mergeTres",props:{center:{default:[0,0]}},setup(t){const n=t,{camera:e,scene:a,renderer:o}=u(),r=v();let s=null,i=null;return c((()=>{r.aMap&&(s=r.mapHandle.customCoords,i=new r.aMap.CustomLayer(o.value.domElement,{zIndex:10,render:()=>{o.value.resetState(),s.setCenter(n.center);const{near:t,far:c,fov:u,up:i,lookAt:l,position:p}=s.getCameraParams();e.value.near=t,e.value.far=c,e.value.fov=u,r.$patch({cameraState:{near:t,far:c,fov:u,position:p}}),e.value.position.set(...p),e.value.up.set(...i),e.value.lookAt(...l),e.value.updateProjectionMatrix(),o.value.render(a.value,e.value),o.value.resetState()},alwaysRender:!0}),r.mapHandle.add(i))})),(t,n)=>null}};export{I as _,y as m,v as u};
