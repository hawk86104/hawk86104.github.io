import{C as t,_ as n,b as e,cH as o}from"./three.WgQSjl1J1738818486026.js";import{P as r}from"./tweakpane.yDiyAAkA1738818486026.js";import{m as s,e as i}from"./@tresjs.ZGxFoQtw1738818486026.js";import{P as a,b as c,c as u,M as p,T as l,a as f,d as m}from"./index.8zN-FpxA1738818486026.js";import{d,a2 as g,w as h,o as j,H as w,u as b,v as y,r as x,e as v,j as I,g as M,f as _,al as C,m as z,F as S}from"./@vue.NRI7TcgI1738818486026.js";import{_ as B}from"./raycasterEvent.-Svw9PZg1738818486026.js";import{a as k}from"./utils.YMCUW7wj1738818486026.js";import"./@vueuse.Fak-HUpz1738818486026.js";import"./@mapbox.lMdYodhq1738818486026.js";import"./three-mesh-bvh.9NycxKmG1738818486026.js";import"./three-custom-shader-material.GL6LOUMf1738818486026.js";import"./@fesjs.LLTzkpAZ1738818486026.js";import"./vue-router.CrYQ3hrU1738818486026.js";import"./lodash-es.pklfUAS51738818486026.js";import"./@qlin.yHhFDldE1738818486026.js";import"./pinia.GNZjCSUA1738818486026.js";import"./@floating-ui.BPbuo5Gx1738818486026.js";import"./@juggle.7yjBMqoW1738818486026.js";import"./@tweenjs.R8fUzFTs1738818486026.js";import"./utils.YTlh6GeJ1738818486026.js";import"./http.Pnfiz88_1738818486026.js";import"./axios.qd3pZFDv1738818486026.js";import"./color.15LbDL6d1738818486026.js";import"./@amap.E-EiiwM61738818486026.js";import"./color-string.WHGcZAhE1738818486026.js";import"./color-name.2djgOasr1738818486026.js";import"./simple-swizzle.LxaUlXdx1738818486026.js";import"./is-arrayish.O_kF_PZy1738818486026.js";import"./color-convert.reRBRzrG1738818486026.js";import"./lodash.4Jlr4qVS1738818486026.js";import"./naive-ui.Ufe3qrzT1738818486026.js";import"./date-fns.nmuTTsCK1738818486026.js";import"./@css-render.S1exyoEj1738818486026.js";import"./seemly.vIsyOXn81738818486026.js";import"./css-render.szBqoAim1738818486026.js";import"./@emotion.ZD_ZYAgY1738818486026.js";import"./vooks.AXVF1tLm1738818486026.js";import"./evtd.DtfwxtIl1738818486026.js";import"./vueuc.clPa0K2F1738818486026.js";import"./vdirs.WUP4Ds3B1738818486026.js";import"./treemate.dcEdf2le1738818486026.js";import"./date-fns-tz.EsRB2Dlt1738818486026.js";import"./async-validator.-YBkpS4I1738818486026.js";import"./d3-geo.UZmyykhH1738818486026.js";import"./d3-array.E5C1cfJ61738818486026.js";function T(t,n){const e=V();return(T=function(t,n){return e[t-=353]})(t,n)}!function(t,n){const e=T,o=V();for(;;)try{if(591960===parseInt(e(354))/1+parseInt(e(397))/2*(parseInt(e(387))/3)+parseInt(e(381))/4+-parseInt(e(414))/5+-parseInt(e(386))/6*(-parseInt(e(409))/7)+-parseInt(e(375))/8*(-parseInt(e(362))/9)+-parseInt(e(382))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=T,n=new RegExp(t(380)),e=new RegExp(t(369),"i"),o=D(t(364));n.test(o+"chain")&&e.test(o+t(379))?D():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=T;let n;try{n=Function("return (function() "+t(402)+");")()}catch(r){n=window}const e=n[t(374)]=n.console||{},o=["log",t(411),"info",t(373),"exception",t(365),"trace"];for(let s=0;s<o.length;s++){const n=E[t(370)][t(389)].bind(E),r=o[s],i=e[r]||n;n[t(385)]=E[t(359)](E),n[t(367)]=i.toString[t(359)](i),e[r]=n}}))();const L=["object","rotation"],Z=d({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:m}){const d=T,y=r,{renderer:x,scene:v}=s();(new a).coordType=c;const I=new u;I.source=d(396),I.coordType=c;const M=new p;M[d(398)]=d(399),M[d(376)]=!1,M.useWorker=!0;const _=new l(I,M);if(_[d(395)]=!1,_[d(368)]=!1,_[d(360)]=!1,_[d(408)]=!1,_[d(418)]={opposite:y[d(420)],monochrome:y[d(401)]?{r:.299,g:.587,b:.114}:null,genBright:y[d(416)],genContrast:y[d(412)],genSaturation:y.genSaturation},y[d(378)]){let n=new t(y[d(378)]);_[d(418)]&&(_[d(418)][d(378)]={r:n.r,g:n.g,b:n.b})}const C=new f;C[d(415)]=_,C[d(390)]=y[d(390)],C[d(357)]=y[d(357)];const z=new(n[d(355)])(60,window.innerWidth/window.innerHeight,1,1e8);z.up=new(n[d(371)])(0,1,0),z[d(358)].set(y[d(383)][0],y.mapCenter[2],-y[d(383)][1]),z.lookAt(new e(z[d(358)].x,0,z[d(358)].z-2e3)),C[d(361)]=z;let S=null;g((()=>{const t=d;x.value&&!S&&(S=new o(z,x[t(353)].domElement),S[t(413)]=!0,S[t(406)]=.05,S[t(407)]=600,S.position0[t(356)](z[t(358)].x,z[t(358)].y,z[t(358)].z),S.target[t(356)](z[t(358)].x,0,z[t(358)].z-2e3))})),h((()=>[y.opposite,y[d(401)],y[d(378)]]),(([n,e,o])=>{const r=d;if(_.filter){let s=new t(o);_[r(418)][r(420)]=n,_[r(418)][r(378)]=e?{r:s.r,g:s.g,b:s.b}:null}})),h((()=>[y[d(416)],y.genContrast,y[d(393)]]),(([t,n,e])=>{const o=d;_.filter&&(_[o(418)][o(416)]=t,_[o(418)][o(412)]=n,_[o(418)][o(393)]=e)}));const{onLoop:B}=i();return B((()=>{var t;const n=d;if(x[n(353)]){null==(t=y.tweenInstance)||t[n(372)](),S&&S[n(372)](),C[n(372)]();const e=50*Math[n(363)](z[n(358)].y);z[n(388)]=e+5e3,z[n(410)](),x[n(353)][n(404)](v[n(353)],z)}})),m({camera:z,map:C,orbitControl:S}),(t,n)=>{const e=d;return j(),w(e(403),{object:b(C),rotation:[-Math.PI/2,0,0]},null,8,L)}}});function D(t){function n(t){const e=T;if(typeof t===e(366))return function(t){}.constructor(e(391))[e(405)](e(392));1!==(""+t/t)[e(384)]||t%20==0?function(){return!0}.constructor(e(394)+e(377))[e(400)](e(419)):function(){return!1}[e(370)]("debu"+e(377))[e(405)](e(417)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function V(){const t=["provider","genBright","stateObject","filter","action","opposite","value","150552uLliVo","PerspectiveCamera","set","maxZoom","position","bind","flatShading","camera","152631KJMJVP","abs","init","table","string","toString","wireframe","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","Vector3","update","error","console","16CZNUfG","showTileNo","gger","monochrome","input","function *\\( *\\)","2188368TdqNTE","7529840KtjfIH","mapCenter","length","__proto__","2336214iDqUgi","3TWnRVs","far","prototype","bbox","while (true) {}","counter","genSaturation","debu","showBoundingBox","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","735374RhNyVT","source","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","call","isMonochrome",'{}.constructor("return this")( )',"primitive","render","apply","dampingFactor","minDistance","useStandardMaterial","7bEyVKd","updateProjectionMatrix","warn","genContrast","enableDamping","718370kCYKfM"];return(V=function(){return t})()}const A=P;!function(t,n){const e=P,o=q();for(;;)try{if(902991===parseInt(e(291))/1+-parseInt(e(279))/2+parseInt(e(288))/3*(parseInt(e(311))/4)+parseInt(e(274))/5*(-parseInt(e(324))/6)+parseInt(e(322))/7*(parseInt(e(325))/8)+-parseInt(e(316))/9*(parseInt(e(273))/10)+-parseInt(e(296))/11*(-parseInt(e(314))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(303)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=P,n=new RegExp(t(307)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=Q("init");n[t(298)](o+"chain")&&e.test(o+t(278))?Q():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(303)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=q();return(P=function(t,n){return e[t-=266]})(t,n)}function q(){const t=["2935229KcSoDO","xjk","test","#4688b5","monochrome","constructor","camera","apply","action","奥体中心","console","function *\\( *\\)","table","饱和度","while (true) {}","36BaCwqS","genBright","Vector3","60FNStTj","return (function() ","10890jhnIRd","call","info","value","对比度","单色滤镜","14DiujLU","trace","48894qIhBLG","3785816QrIJZy","__proto__","prototype","toString","tileMapRef","NoToneMapping","滤镜颜色","新街口","stateObject","gger","TresCanvas","12550mfhlcY","990LiKrUt","tileMap","debu","orbitControl","input","157988pxLQdQ","#201919","warn","SRGBColorSpace","牛首山","bind","list","length","counter","372129EXyvLz","manual","nss","717001eIazXQ","tweenInstance","isMonochrome","addBinding","string"];return(q=function(){return t})()}N(void 0,(function(){const t=P;let n;try{n=Function(t(315)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(306)]=n.console||{},o=["log",t(281),t(318),"error","exception",t(308),t(323)];for(let s=0;s<o[t(286)];s++){const n=N[t(301)][t(327)][t(284)](N),r=o[s],i=e[r]||n;n[t(326)]=N.bind(N),n.toString=i[t(328)][t(284)](i),e[r]=n}}))();const F=d({__name:A(275),setup(t){const e=A,o=m(118.779958,32.017136),s=[o[0],o[1],5e3],i=y(),a=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(299),mapCenter:s,tweenInstance:null}),c=new r({title:"参数"});c[e(294)](a,"opposite",{label:"反色"}),c[e(294)](a,e(312),{label:"高亮",min:.1,max:3,step:.1}),c[e(294)](a,"genContrast",{label:e(320),min:.1,max:3,step:.1}),c[e(294)](a,"genSaturation",{label:e(309),min:.1,max:3,step:.1}),c[e(294)](a,e(293),{label:e(321)}),c.addBinding(a,e(300),{label:e(268)});const u={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c.addBlade({view:e(285),label:"飞去",options:[{text:e(305),value:"at"},{text:e(269),value:e(297)},{text:e(283),value:e(290)}],value:"at"}).on("change",(t=>{const o=e,r=new(n[o(313)])(u[t[o(319)]][0],2e3,-u[t.value][1]);a[o(292)]=k(i[o(319)][o(302)],r,i[o(319)][o(277)],[0,-300],4e3)}));const p=x({clearColor:e(280),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(289),outputColorSpace:n[e(282)],toneMapping:n[e(267)]});return setTimeout((()=>{const t=e,o=u.at,r=new(n[t(313)])(o[0],1600,-o[1]);a[t(292)]=k(i[t(319)][t(302)],r,i[t(319)][t(277)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=v(o(272));return j(),w(S,null,[I(r,z(p,{"window-size":""}),{default:M((()=>[(j(),_(C,null,{default:M((()=>[I(Z,z(a,{ref_key:"tileMapMeshRef",ref:i,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),I(B,{tileMapRef:i[o(319)]},null,8,[o(266)])],64)}}});function Q(t){function n(t){const e=P;if(typeof t===e(295))return function(t){}[e(301)](e(310))[e(303)](e(287));1!==(""+t/t)[e(286)]||t%20==0?function(){return!0}[e(301)](e(276)+e(271))[e(317)](e(304)):function(){return!1}.constructor(e(276)+e(271))[e(303)](e(270)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
