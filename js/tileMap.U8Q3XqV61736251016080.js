import{_ as t,cI as n}from"./three.RuuDeeIf1736251016080.js";import{P as e}from"./tweakpane.yHWGBmom1736251016080.js";import{m as o,e as r}from"./@tresjs.8C7OKmBm1736251016080.js";import{P as s,b as a,c as i,M as c,T as u,a as p,d as l}from"./index.fniYOD3l1736251016080.js";import{d as f,a1 as m,w as g,o as h,D as d,u as w,X as b,r as j,e as x,j as v,g as I,f as y,al as M,m as B,F as _}from"./@vue.-Mz_IXfk1736251016080.js";import{_ as C}from"./raycasterEvent.SdcxCDUi1736251016080.js";import{a as z}from"./utils.cc2BQk6R1736251016080.js";import"./@vueuse.HhUha1mw1736251016080.js";import"./@mapbox.n7w8AH1p1736251016080.js";import"./@amap.RhAVlD5U1736251016080.js";import"./three-mesh-bvh.-gqSJxGX1736251016080.js";import"./three-custom-shader-material.zkLsy8Lq1736251016080.js";import"./@fesjs.SlXnoRjV1736251016080.js";import"./vue-router.JOEPJWPi1736251016080.js";import"./lodash-es.guXTxyfJ1736251016080.js";import"./@qlin.yHhFDldE1736251016080.js";import"./pinia.PKDK8ItA1736251016080.js";import"./vue-demi.C4xddsk91736251016080.js";import"./@floating-ui.BPbuo5Gx1736251016080.js";import"./@juggle.7yjBMqoW1736251016080.js";import"./@tweenjs.R8fUzFTs1736251016080.js";import"./utils.2pE-dga51736251016080.js";import"./d3-geo.Mr66USYM1736251016080.js";import"./d3-array.AhNJy1f41736251016080.js";import"./http.dDGHk7o31736251016080.js";import"./axios.Ng308AU61736251016080.js";import"./color.aOq2yrg91736251016080.js";import"./color-string.rwH7X8e-1736251016080.js";import"./color-name.2Ea-ymgI1736251016080.js";import"./simple-swizzle.EjFvuqhU1736251016080.js";import"./is-arrayish.tX-a0Ai31736251016080.js";import"./color-convert._f3j0eCw1736251016080.js";import"./lodash.vWlZFpWG1736251016080.js";const S=E;!function(t,n){const e=E,o=P();for(;;)try{if(365826===parseInt(e(394))/1*(parseInt(e(430))/2)+parseInt(e(422))/3+-parseInt(e(397))/4*(parseInt(e(427))/5)+parseInt(e(407))/6*(-parseInt(e(390))/7)+-parseInt(e(429))/8*(-parseInt(e(440))/9)+-parseInt(e(459))/10*(-parseInt(e(452))/11)+-parseInt(e(448))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(456)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=E,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(401),"i"),o=A(t(441));n[t(410)](o+t(382))&&e[t(410)](o+t(406))?A():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=P();return(E=function(t,n){return e[t-=382]})(t,n)}T(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(462)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(443)]||{},o=[t(417),t(431),t(392),t(411),"exception",t(461),t(451)];for(let r=0;r<o[t(449)];r++){const n=T[t(438)][t(402)][t(455)](T),s=o[r],a=e[s]||n;n[t(403)]=T[t(455)](T),n[t(399)]=a[t(399)][t(455)](a),e[s]=n}}))();const R=[S(457),S(432)];function P(){const t=["7105600XqgiMS","dampingFactor","table","return (function() ","chain","gger","target","coordType","domElement","showTileNo","position0","updateProjectionMatrix","7lMVELs","action","info","useStandardMaterial","1840CfhmYE","counter","far","1370936qBZBwx","#fff","toString","tileMapMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","__proto__","flatShading","while (true) {}","input","446046lBltff","genContrast","innerHeight","test","error","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","primitive","source","PerspectiveCamera","stateObject","log","minDistance","Color","filter","maxZoom","493236wYOLBM","mapCenter","lookAt","Vector3","string","5qXGIio","innerWidth","358992HgKnxI","544QwbPve","warn","rotation","genBright","tweenInstance","useWorker","wireframe","call","constructor","update","135cOVEYs","init","position","console","provider","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","set","monochrome","15187932KMFuwT","length","opposite","trace","11jaqJoo","render","debu","bind","apply","object","abs"];return(P=function(){return t})()}const Z=f({__name:S(400),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:S(398)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:l}){const f=S,b=e,{renderer:j,scene:x}=o();(new s)[f(385)]=a;const v=new i;v[f(414)]=f(445),v[f(385)]=a;const I=new c;I.source=f(412),I[f(387)]=!1,I[f(435)]=!0;const y=new u(v,I);if(y.showBoundingBox=!1,y[f(436)]=!1,y[f(404)]=!1,y[f(393)]=!1,y[f(420)]={opposite:b[f(450)],monochrome:b.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:b.genBright,genContrast:b[f(408)],genSaturation:b.genSaturation},b[f(447)]){let n=new(t[f(419)])(b[f(447)]);y[f(420)]&&(y.filter[f(447)]={r:n.r,g:n.g,b:n.b})}const M=new p;M[f(444)]=y,M.bbox=b.bbox,M[f(421)]=b[f(421)];const B=new(t[f(415)])(60,window[f(428)]/window[f(409)],1,1e8);B.up=new(t[f(425)])(0,1,0),B[f(442)][f(446)](b[f(423)][0],b.mapCenter[2],-b[f(423)][1]),B[f(424)](new(t[f(425)])(B[f(442)].x,0,B[f(442)].z-2e3)),M.camera=B;let _=null;m((()=>{const t=f;j.value&&!_&&(_=new n(B,j.value[t(386)]),_.enableDamping=!0,_[t(460)]=.05,_[t(418)]=600,_[t(388)][t(446)](B.position.x,B[t(442)].y,B[t(442)].z),_[t(384)][t(446)](B[t(442)].x,0,B.position.z-2e3))})),g((()=>[b[f(450)],b.isMonochrome,b[f(447)]]),(([n,e,o])=>{const r=f;if(y[r(420)]){let s=new(t[r(419)])(o);y[r(420)][r(450)]=n,y[r(420)].monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[b.genBright,b[f(408)],b.genSaturation]),(([t,n,e])=>{const o=f;y[o(420)]&&(y[o(420)][o(433)]=t,y[o(420)][o(408)]=n,y.filter.genSaturation=e)}));const{onLoop:C}=r();return C((()=>{var t;const n=f;if(j.value){null==(t=b[n(434)])||t[n(439)](),_&&_[n(439)](),M[n(439)]();const e=50*Math[n(458)](B[n(442)].y);B[n(396)]=e+5e3,B[n(389)](),j.value[n(453)](x.value,B)}})),l({camera:B,map:M,orbitControl:_}),(t,n)=>{const e=f;return h(),d(e(413),{object:w(M),rotation:[-Math.PI/2,0,0]},null,8,R)}}});function A(t){function n(t){const e=E;if(typeof t===e(426))return function(t){}[e(438)](e(405))[e(456)](e(395));1!==(""+t/t)[e(449)]||t%20==0?function(){return!0}[e(438)](e(454)+e(383))[e(437)](e(391)):function(){return!1}.constructor(e(454)+e(383))[e(456)](e(416)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=D;!function(t,n){const e=D,o=N();for(;;)try{if(159855===parseInt(e(371))/1+-parseInt(e(385))/2+-parseInt(e(370))/3+-parseInt(e(378))/4*(-parseInt(e(350))/5)+-parseInt(e(359))/6*(parseInt(e(327))/7)+parseInt(e(351))/8*(parseInt(e(325))/9)+-parseInt(e(334))/10*(-parseInt(e(335))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(353)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){L(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=O(t(354));n.test(o+t(338))&&e[t(369)](o+t(340))?O():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=N();return(D=function(t,n){return e[t-=324]})(t,n)}q(void 0,(function(){const t=D;let n;try{n=Function(t(362)+t(342)+");")()}catch(r){n=window}const e=n[t(379)]=n[t(379)]||{},o=[t(367),t(349),t(328),t(352),t(358),"table",t(332)];for(let s=0;s<o[t(357)];s++){const n=q[t(390)].prototype.bind(q),r=o[s],a=e[r]||n;n[t(341)]=q[t(384)](q),n[t(345)]=a[t(345)][t(384)](a),e[r]=n}}))();const Y=f({__name:F(372),setup(n){const o=F,r=l(118.779958,32.017136),s=[r[0],r[1],5e3],a=b(),i=j({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:o(382),mapCenter:s,tweenInstance:null}),c=new e({title:"参数"});c[o(366)](i,"opposite",{label:"反色"}),c[o(366)](i,o(377),{label:"高亮",min:.1,max:3,step:.1}),c[o(366)](i,o(381),{label:o(375),min:.1,max:3,step:.1}),c.addBinding(i,o(365),{label:o(331),min:.1,max:3,step:.1}),c[o(366)](i,o(348),{label:o(344)}),c[o(366)](i,o(336),{label:o(337)});const u={at:l(118.7425,31.9998),xjk:l(118.7842,32.0418),nss:l(118.7503,31.9082)};c[o(360)]({view:o(388),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:o(356),value:o(380)},{text:o(383),value:o(343)}],value:"at"}).on(o(373),(n=>{const e=o,r=new(t[e(361)])(u[n[e(386)]][0],2e3,-u[n[e(386)]][1]);i[e(389)]=z(a.value[e(374)],r,a.value[e(324)],[0,-300],4e3)}));const p=j({clearColor:o(346),antialias:!0,logarithmicDepthBuffer:!0,renderMode:o(355),outputColorSpace:t[o(329)],toneMapping:t[o(333)]});return setTimeout((()=>{const n=o,e=u.at,r=new(t[n(361)])(e[0],1600,-e[1]);i.tweenInstance=z(a.value.camera,r,a[n(386)][n(324)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=o,r=x(e(376));return h(),d(_,null,[v(r,B(p,{"window-size":""}),{default:I((()=>[(h(),y(M,null,{default:I((()=>[v(Z,B(i,{ref_key:e(368),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),v(C,{tileMapRef:a[e(386)]},null,8,["tileMapRef"])],64)}}});function N(){const t=["牛首山","bind","299956DgmTfA","value","while (true) {}","list","tweenInstance","constructor","gger","orbitControl","9flzLkY","debu","12509Cgyhhz","info","SRGBColorSpace","action","饱和度","trace","NoToneMapping","1703630BUMJNt","11rrxpsl","monochrome","滤镜颜色","chain","stateObject","input","__proto__",'{}.constructor("return this")( )',"nss","单色滤镜","toString","#201919","call","isMonochrome","warn","200rBQmPF","2268896BcRnMB","error","apply","init","manual","新街口","length","exception","894MWAZCj","addBlade","Vector3","return (function() ","string","counter","genSaturation","addBinding","log","tileMapMeshRef","test","697011LEQPwe","195778viNTFT","tileMap","change","camera","对比度","TresCanvas","genBright","15868gTSfmv","console","xjk","genContrast","#4688b5"];return(N=function(){return t})()}function O(t){function n(t){const e=D;if(typeof t===e(363))return function(t){}[e(390)](e(387)).apply(e(364));1!==(""+t/t)[e(357)]||t%20==0?function(){return!0}[e(390)]("debu"+e(391))[e(347)](e(330)):function(){return!1}[e(390)](e(326)+"gger")[e(353)](e(339)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
