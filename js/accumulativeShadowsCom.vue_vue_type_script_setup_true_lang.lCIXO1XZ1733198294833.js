import{V as t,_ as n,h as e}from"./three.8iJMi2lU1733198294833.js";import{m as a}from"./@tresjs.sklxXn0u1733198294833.js";import{d as o,P as r}from"./@pmndrs.D5ZkFGQo1733198294833.js";import{d as s,b as i,w as c,a3 as u,o as l,D as p,J as f,aj as d,ak as h}from"./@vue.-THQH3GC1733198294833.js";const m=y;!function(t,n){const e=y,a=b();for(;;)try{if(648254===-parseInt(e(258))/1*(-parseInt(e(308))/2)+-parseInt(e(261))/3+-parseInt(e(299))/4+-parseInt(e(271))/5*(parseInt(e(244))/6)+-parseInt(e(243))/7*(-parseInt(e(302))/8)+-parseInt(e(257))/9+parseInt(e(311))/10*(parseInt(e(281))/11))break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const w=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[y(233)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();!function(){w(this,(function(){const t=y,n=new RegExp(t(298)),e=new RegExp(t(249),"i"),a=x(t(289));n[t(293)](a+t(240))&&e[t(293)](a+t(264))?x():a("0")}))()}();const g=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[y(233)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();function b(){const t=["while (true) {}","sin","3743094HVMBCZ","__proto__","Group","input","camera",'{}.constructor("return this")( )',"castShadow","children","cos","intensity","15GzOdll","clear","blend","near","mapSize","string","log","DirectionalLight","return (function() ","blendWindow","34949783DOecMI","texture","constructor","gPlane","shadow","top","acos","bias","init","randFloatSpread","TresMesh","ambient","test","console","color","width","height","function *\\( *\\)","3540528FrbUSR","alphaTest","finish","6516472TjFiao","set","shadows plm update","MathUtils","action","prepare","132OEOfDx","rotate-x","frames","10shtPYg","debu","add","error","amount","table","TresPlaneGeometry","prototype","apply","length","lightPosition","value","accumulativeShadowsCom","shadows render end","size","chain","progressiveLightMap2","random","7gOLEZb","2454492TUWKWU","position","radius","gger","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","right","shadows render start","exception","info","material","opacity","far","6959142lmPExX","11966Tsrpwx"];return(b=function(){return t})()}g(void 0,(function(){const t=y;let n;try{n=Function(t(279)+t(266)+");")()}catch(o){n=window}const e=n.console=n[t(294)]||{},a=[t(277),"warn",t(253),t(314),t(252),t(316),"trace"];for(let r=0;r<a[t(234)];r++){const n=g[t(283)][t(232)].bind(g),o=a[r],s=e[o]||n;n[t(262)]=g[t(248)](g),n.toString=s.toString[t(248)](s),e[o]=n}}))();const M=[m(309)];function y(t,n){const e=b();return(y=function(t,n){return e[t-=232]})(t,n)}const I=s({__name:m(237),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,g=s;let b=i();const{extend:y,scene:I,renderer:x,camera:S}=a();y({SoftShadowMaterial:o});const z={position:(new t)[w(303)](g.lightPosition.x,g[w(235)].y,g[w(235)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new r(x.value,I[w(236)],z[w(275)]),_={map:P[w(241)][w(282)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[w(273)],alphaTest:g[w(300)],opacity:g[w(255)],color:g[w(295)]},v=new(n[w(263)]);for(let t=0;t<z[w(315)];t++){const t=new(n[w(278)])(16777215,z[w(270)]/z.amount);t[w(267)]=!0,t[w(285)][w(288)]=z[w(288)],t[w(285)][w(265)].near=z[w(274)],t[w(285)].camera[w(256)]=z[w(256)],t.shadow[w(265)][w(250)]=z[w(239)]/2,t[w(285)].camera.left=-z[w(239)]/2,t[w(285)][w(265)][w(286)]=z[w(239)]/2,t[w(285)].camera.bottom=-z[w(239)]/2,t[w(285)][w(275)][w(296)]=z.mapSize,t.shadow[w(275)][w(297)]=z.mapSize,v[w(313)](t)}const T=()=>{const t=w,a=z[t(245)].length();for(let o=0;o<v[t(268)][t(234)];o++){const r=v[t(268)][o];if(Math[t(242)]()>g[t(292)])r[t(245)].set(z[t(245)].x+n[t(305)].randFloatSpread(z[t(246)]),z.position.y+e[t(290)](z[t(246)]),z[t(245)].z+n[t(305)][t(290)](z.radius));else{let n=Math[t(287)](2*Math[t(242)]()-1)-Math.PI/2,e=2*Math.PI*Math[t(242)]();r[t(245)][t(303)](Math.cos(n)*Math[t(269)](e)*a,Math.abs(Math[t(269)](n)*Math[t(260)](e)*a),Math[t(260)](n)*a)}}},j=(t=1)=>{const n=w;I[n(236)][n(313)](v),P[n(307)]();for(let e=0;e<t;e++)T(),P.update(S[n(236)],g[n(280)]),console[n(277)](n(304),e);I[n(236)].remove(v),P[n(301)]()};c((()=>b.value),(t=>{const n=w;t&&(P.configure(t),P[n(272)](),console[n(277)](n(251)),j(g[n(310)]),console[n(277)](n(238)))}));const O=()=>{const t=w;P.clear(),j(g[t(310)])};return u((()=>{const t=w;b[t(236)]&&(g.opacity&&(b[t(236)][t(254)][t(255)]=g.opacity),g[t(300)]&&(b.value[t(254)][t(300)]=g[t(300)]),g[t(295)]&&b[t(236)].material[t(295)][t(303)](g[t(295)]),g[t(273)]&&(b[t(236)][t(254)][t(273)]=g[t(273)]))})),c((()=>g[w(235)]),(t=>{const n=w;t&&(console[n(277)](g[n(235)]),z.position[n(303)](t.x,t.y,t.z),O())}),{deep:!0}),c((()=>[g[w(310)],g.blendWindow,g.ambient]),(()=>{O()})),(t,n)=>{const e=w;return l(),p(e(291),{"receive-shadow":"",ref_key:e(284),ref:b,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=f(e(317),{args:[1,1]},null,-1)),f("TresSoftShadowMaterial",d(h(_)),null,16)],8,M)}}});function x(t){function n(t){const e=y;if(typeof t===e(276))return function(t){}[e(283)](e(259)).apply("counter");1!==(""+t/t)[e(234)]||t%20==0?function(){return!0}[e(283)](e(312)+e(247)).call(e(306)):function(){return!1}[e(283)](e(312)+e(247))[e(233)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
