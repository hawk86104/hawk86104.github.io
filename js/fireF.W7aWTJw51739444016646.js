var t,e,s,n,i,r,a,o,c,h,l,u,p,m,d=Object.defineProperty,f=(t,e,s)=>(((t,e,s)=>{e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as g}from"./pagesShow.vue_vue_type_script_setup_true_lang.E2JG-lK41739444016646.js";import{_ as w,b as S,C as y,e as x,X as v,h as I,ck as P,aX as A,ar as b,V as F,b6 as T,T as z,an as E,a2 as R}from"./three.W6GmiHfn1739444016646.js";import{m as O,e as V}from"./@tresjs.Q4_KYO2a1739444016646.js";import{d as C,b as q,a2 as M,o as N,f as _,g as U,j as B}from"./@vue.NRI7TcgI1739444016646.js";import"./three-custom-shader-material.kf-ieBUt1739444016646.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";const j=rt;!function(t,e){const s=rt,n=Z();for(;;)try{if(487084===-parseInt(s(169))/1+-parseInt(s(609))/2*(parseInt(s(240))/3)+parseInt(s(148))/4+parseInt(s(555))/5*(-parseInt(s(336))/6)+-parseInt(s(342))/7+parseInt(s(392))/8+parseInt(s(199))/9)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const D=class{constructor(t){this[j(277)]=t}};t=j(464),e=j(540),f(D,t,new D(j(464))),f(D,e,new D(j(540)));let W=D;class X{constructor(){this.init()}[j(147)](){const t=j;this[t(175)]=W[t(464)],this[t(255)]=1,this[t(311)]=0,this.sequenceElement=new(w[t(387)]),this[t(478)]=new(w[t(242)]),this[t(140)]=new(w[t(242)]),this[t(251)]=new(w[t(242)]),this[t(585)]=new S,this.rotation=0,this[t(174)]=0,this[t(368)]=new(w[t(437)]),this[t(151)]=new(w[t(208)]),this.alpha=1,this[t(137)]=new(w[t(437)]),this[t(450)]=new y,this[t(418)]=1}[j(207)](t,e,s,n,i,r,a,o,c,h,l,u,p,m,d,f){const g=j;this.progressType=t,this[g(255)]=e,this.age=s,this[g(479)].copy(n),this[g(478)].copy(i),this[g(140)].copy(r),this.acceleration.copy(a),this[g(585)][g(231)](o),this[g(388)]=c,this[g(174)]=h,this[g(368)]=l,this.color[g(231)](u),this[g(201)]=p,this[g(137)][g(231)](m),this[g(450)].copy(d),this[g(418)]=f}[j(431)](t){const e=j;t.setAll(this[e(175)],this[e(255)],this[e(311)],this[e(479)],this[e(478)],this[e(140)],this[e(251)],this[e(585)],this.rotation,this.rotationalSpeed,this[e(368)],this[e(151)],this.alpha,this[e(137)],this[e(450)],this.initialAlpha)}[j(231)](t){const e=j;this[e(207)](t[e(175)],t[e(255)],t[e(311)],t.sequenceElement,t[e(478)],t[e(140)],t[e(251)],t.normal,t[e(388)],t[e(174)],t[e(368)],t[e(151)],t.alpha,t[e(137)],t[e(450)],t.initialAlpha)}}class J{constructor(){f(this,"computeBoundingBox",function(){const t=j,e=new(w[t(242)]);return function(s=new(w[t(237)]),n=null){const i=t,r=s[i(234)],a=s[i(484)];for(let t=0;t<this[i(565)];t++){const s=this.getState(t);let o=s[i(478)];n&&(e[i(231)](o),e.applyMatrix4(n),o=e);const c=Math[i(484)](s[i(368)].x,s.size.y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,d=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=d)}return s}}()),f(this,s,function(){const t=j,e=new(w[t(242)]),s=new(w[t(242)]),n=new S;return function(i=new(w[t(226)]),r=null){const a=t;let o=0;for(let t=0;t<this.activeParticleCount;t++){const i=this[a(393)](t);let c=i[a(478)];r&&(n.copy(c),n[a(399)](r),c=n);const h=Math[a(484)](i.size.x,i.size.y);if(0==t)e[a(231)](c),o=h;else{s[a(231)](c)[a(362)](e);const t=s.length()+h;if(t>o){const n=(t-o)/2;s.normalize()[a(511)](n),e.add(s),o+=n}}}return i[a(363)][a(231)](e),i.radius=o,i}}());const t=j;this[t(328)]=0,this.activeParticleCount=0,this[t(436)]=[]}[j(147)](t){this[j(556)](t)}[j(556)](t){const e=j;this[e(328)]!=t&&(this.dispose(),this[e(304)](t)),this[e(328)]=t}[j(186)](t){this[j(565)]=t}[j(304)](t){const e=j;this[e(436)]=[],this.particleCount=t;for(let s=0;s<t;s++)this[e(436)][s]=new X}[j(391)](){}[j(459)](){return this[j(328)]}[j(421)](){}copyState(t,e){const s=j;if(t>=this[s(328)])throw new Error('ParticleStateArray::copyState() -> "srcIndex" is out of range.');if(e>=this[s(328)])throw new Error(s(524));const n=this[s(436)][t],i=this[s(436)][e];n[s(431)](i)}setState(t,e){const s=j;if(t>=this.particleCount)throw new Error(s(522));return this[s(436)][t][s(231)](e)}[j(393)](t){const e=j;if(t>=this[e(328)])throw new Error(e(236));return this[e(436)][t]}}s=j(407);class Y{constructor(t,e,s=0){const n=j;this[n(233)]=t,this[n(229)]=e,this.id=s}}class L{constructor(){this.sequences={},this.ids=[]}addSequence(t,e,s){const n=j;if(this[n(475)](s))throw new Error(n(531));const i=new Y(t,e,s);return this[n(570)][s]=i,this.ids.push(s),i}[j(350)](t){const e=j;if(!this[e(475)](t))throw new Error(e(356));return this[e(570)][t]}[j(439)](){return this.ids}[j(475)](t){return!!this.sequences[t]}}class k{constructor(){}initializeState(t){const e=j;t[e(450)][e(452)](1,1,1),t[e(137)].set(1,1),t[e(418)]=1,t[e(175)]=W[e(464)],t[e(255)]=0,t.age=0,t.sequenceElement[e(452)](0,0,0,0),t[e(478)].set(0,0,0),t[e(140)][e(452)](0,0,0),t[e(251)][e(452)](0,0,0),t[e(585)][e(452)](0,0,1),t.rotation=0,t[e(174)]=0,t[e(368)][e(231)](t.initialSize),t[e(151)][e(231)](t[e(450)]),t[e(201)]=1}}class G extends k{constructor(){super()}[j(281)](t){super[j(281)](t)}}function Z(){const t=["alphas","TextureLoader","   float atlasFrameX = atlasFrames.x; \n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","varying float vFragAlpha;\n","onUpdate","   const vec2 uLeft = vec2(-1.0, 1.0);\n","setState","lowerIndex","gger","params","bind","OneMinusSrcAlphaFactor","updateWorldMatrix","join","cameraNear","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","       float uRightV = rotVecStep.z; \n","uniform int instanced; \n","multiplyScalar","exception","  \n #include <logdepthbuf_pars_vertex> \n","       rotVec = position.xy; \n ","VertexVars","lastPositionAdjuster","particleStateInitializers","instanceCount","updateState","components","loop",'ParticleStateArray::setState() -> "index" is out of range.',"string",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","getInterpolatorForTypeID","visible","particlePosition","Matrix4","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","stop","atlas","directionGenerator","particleSystems","height","emissionDuration","AdditiveBlending","attribute vec4 particlePosition;\n","Sequence","element","transformDirection","checkAndAddTypeName","updateEmitCount","cos","addTypeToNamespace","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","setBoundingSphere","simulateInWorldSpace","getComponent","counter","offsetX","boundingBox","normalizeDirection","5BLTwAI","setParticleCount","customIndex","jsonTypeNames","namespace","castShadow","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","while (true) {}","BufferGeometry","initializers","activeParticleCount","getParticleStateInitializerCount","initialized","lifetimes","setXYZ","sequences","particleEmitter","DynamicDrawUsage","call","renderOrder","offsetPhi","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   float rotMag = rotation; \n","getTypePath","getElement","ShaderMaterial","owner","log","generateForElement","advanceActiveParticle","normal","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","upperIndex","scaleX","decay","getPositions","   vec2 uv2; \n","particleSystemRenderer","remove","advanceActiveParticles","getMaximumActiveParticles","elements","startTime","assign","instanced","needsUpdate","getType","getParticleSystemRenderer","BufferAttribute","baseURI","copyState","add","scaleZ","   const vec2 right = vec2(1.0, 0.0);\n","6ynEsgm","sequenceElements","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","       float uLeftV = rotVecStep.x; \n","addParticleSystem","intensityFlux","InstancedBufferGeometry","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","addComponent","info","constructor","relativeToInitialValue","stateAcceleration","initialSize","maxParticleCount","material","velocity","addNamespace","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","reverse","       rightSide = step(2.0, customIndex); \n","sin","far","init","1311472AwqsVL","NormalBlending","rotations","color","NotStarted","lastPositionFlickerTime","getGeometry","   const vec2 up = vec2(0.0, 1.0);\n","getParticleSequences","currentSrc","maximumActiveParticles","   float rightSide; \n","action","return (function() ","Done","void main() { \n","render","setOwner","range","activateParticle","trace","552331rxqKfx","texture","framesets","typeIDGen","getRotations","rotationalSpeed","progressType","} \n","getSizes","elementTypeID","positionAdjuster","invert","update","initialAlphas","Shader","updateMeshBounds","sizes","setActiveParticleCount",'Atlas::getFrameSet -> "index" is out of range.',"JSONTypeStore::addTypeToNamespace() -> typeName already exists","   gl_FragColor.a *= vFragAlpha; \n","getVisible","speedOffset","getTypeID","timeScaledVelocity","   float atlasFrameY = atlasFrames.y; \n","cameraFar","basePositions","getFrameSetCount","initialColors","13578471VIHhAW","emissionRelativeStartTime","alpha","   if (instanced != 1) { \n","addElement","intensity","addParticleStateOperator","varying vec2 vUV1;\n","setAll","Color","offsetY","normalize","attribute float alpha;\n","emitCount","speed","attribute vec2 baseUV;\n","clone","   } \n","operators","rangeRadius","onUpdateCallback","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","frameSets","setUsage","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","   float atlasFrameHeight = atlasFrames.w; \n","       rightSide = baseUV.x; \n","Sphere","test","type","length","pause","copy","toString","start","min","offset",'ParticleStateArray::getState() -> "index" is out of range.',"Box3","v4v","setSimulateInWorldSpace","789273pMPxEu","JSONTypeStore::getType() -> namespace does not exist","Vector3","verticesPerParticle","   float atlasFrameWidth = atlasFrames.z; \n","speedRange","geometry","setRGB","progressTypes","uniform vec2 uvOffset;\n","currentTime","acceleration","interpolateAtlasFrames","iterator","push","lifetime","getSequenceElements","setXYZW","error","getParticleState","getInterpolatedValue","radius","Default","       upperSide = upperSideStep.x + upperSideStep.y;\n",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"activeCount","timeScaledAcceleration","#include <common>","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","getInterpolationValuesForTValue","uniforms","toArray","setBoundingBox","       float dRightV = rotVecStep.w - rotVecStep.z; \n","   vFragColor = color; \n","generate","varying vec3 vFragColor;\n","name","getParticleStates","addElementsFromParameters","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","initializeState","fromArray","timeActive","setX","SrcAlphaFactor","Additive","setXY","localT","function","getParticleStateInitializer","jsonTypes","addFrameSet","   } else { \n","boundingSphere","Object3D","varying float vSequenceElementT;\n","   }  else { \n","camera","particleStateOperators","light","   int sequenceStart = int(sequenceElement.z);\n","getColors","random","allocate","   float uvYOffset = atlasFrameHeight * upperSide; \n","attribute float customIndex;\n","scaleY","internalUpdate","setDrawRange","initialSizes","age","addParticleStateInitializer","ages","hasOwnProperty","sqrt","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","   int sequenceNumber = int(sequenceElement.y);\n","addParticleSequence","accelerations","particleSequences","bias","setParticleSequences","rotationalSpeeds","value","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","generator","stateVelocity","particleCount","load","uniform sampler2D atlasTexture;\n","rangeTheta","Renderer::init() -> trying to intialize more than once.","addType","Mesh","emitter","2669136MqrFGf","   int nRowYTile = int(SNOverHS);\n","blending","getSimulateInWorldSpace","speedGenerator","randomGenerator","2199519zmhezj","systemState","texturePath","console","setIntensity",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"offsetZ","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","getSequence","uniformRange","typeName","addElements","emissionMinimum","JSONTypeStore::addNamespace() -> namespace already exists","ParticleSequenceGroup::getSequence -> Invalid ID.","debu","baseUVs","rangePhi","floor","lastIntensityFlickerTime","sub","center","addElementsFromElementClassAndParameters","clamp","splice","parseTypeString","size","stateObject","attribute float rotation;\n","__proto__","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","velocities","offsetTheta","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","   const vec2 down = vec2(0.0, -1.0);\n","interpolateFrames",'{}.constructor("return this")( )',"Running","split","Normal","getActiveParticleCount","updateBounds","getVertexShader","   float uvXOffset = atlasFrameWidth * rightSide; \n","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","Vector4","rotation","loadJSONParameter","   vec2 uv1; \n","dispose","6009392OzshDb","getState","customIndexes","  \n #include <logdepthbuf_pars_fragment> \n","getFragmentShader","tValues","getFrameSet","applyMatrix4","JSONTypeStore::getType() -> typeName does not exist","tValue","warn","   vec2 rotVec; \n","emissionRate","shadow","___photonsTypeID","computeBoundingSphere","map",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"       upperSide = baseUV.y; \n","particleStateArray","edgeRadius","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","attribute vec2 size;\n","chain","   if (simulateInWorldSpace == 1) { \n",'ComponentContainer::getComponent() -> "index" is out of range.',"initialAlpha","offsetRadius","mesh","flushParticleStateToBuffers","   int firstSequenceElement = int(sequenceElementF); \n","getInterpolatedElement","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","startupTime","varying vec2 vUV2;\n","normals","getTypeNames","mapSize","table","copyTo","distance","input","interpolationElements","nextIntensityAdjuster","particleStates","Vector2","setVisibile","getSequenceIDs","object","getEmitter","fromJSON","createMaterial","calculateBoundingSphereFromBox","positions","setEmitter","autoClear","getTexture","default","initialColor","attribute vec4 sequenceElement;\n","set","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","componentContainer","getParameterJSON","width","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","indexOf","getParticleCount","colors","frustumCulled","transformInitialDirectionInWorldSpace","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","Time","lastIntensityAdjuster","copyParticleInArray","matrixWorld","calculatingBoundingSphereFromBox","interpolator","varying float vSequenceElementT; \n","getParticleStateOperatorCount","getElementCount","tempUp","lastUpdateTime","hasID","   vec4 viewPosition; \n","uniformOffset","position","sequenceElement","apply","setAttribute","toJSON","parseNamespaceAndTypename","max","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","getParticleStateOperator","now","Paused","parent","emitterInitialized","getParticleStateArray"];return(Z=function(){return t})()}class H{constructor(){}[j(519)](){}}class $ extends H{constructor(){const t=j;super(),this[t(193)]=new(w[t(242)]),this[t(266)]=new S,this[t(136)]=new(w[t(242)]),this[t(327)]=new(w[t(242)])}[j(519)](t,e){const s=j;return super[s(519)](t,e),this[s(136)][s(231)](t[s(251)]),this[s(266)][s(231)](this.stateAcceleration),this[s(266)][s(511)](e),t[s(140)].add(this[s(266)]),this[s(327)][s(231)](t[s(140)]),this.timeScaledVelocity[s(231)](this.stateVelocity),this[s(193)][s(511)](e),t.position[s(606)](this[s(193)]),t[s(311)]=t[s(311)]+e,t[s(388)]=t[s(388)]+e*t[s(174)],!0}}class K{static[j(365)](t,e,s){const n=j;return Math[n(234)](Math[n(484)](t,e),s)}static[j(250)](){return performance[j(487)]()/1e3}}class Q{constructor(){this[j(520)]=[]}[j(132)](t){const e=j;this[e(520)][e(254)](t)}[j(181)](t,e){const s=j;for(const n of this[s(520)])n[s(181)](t,e)}[j(550)](t){const e=j;if(t>=this[e(520)][e(229)])throw new Error(e(417));return this[e(520)][t]}}const tt=class{constructor(t){this.name=t}};n=j(488),i=j(162),f(tt,"NotStarted",new tt(j(152))),f(tt,"Running",new tt(j(379))),f(tt,n,new tt(j(488))),f(tt,i,new tt(j(162)));let et=tt;class st{constructor(t,e){f(this,r,function(){const t=j,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=rt,e=new RegExp("function *\\( *\\)"),s=new RegExp(t(453),"i"),n=Nt(t(147));e.test(n+t(415))&&s[t(227)](n+t(433))?Nt():n("0")}))()}();const s=new(w[t(529)]);return function(){const e=t;let n=null;this[e(462)]&&(n=s,n[e(231)](this.owner[e(467)])[e(180)]()),this[e(592)][e(468)]()?(this[e(436)].computeBoundingBox(this.boundingBox,n),this[e(592)].setBoundingBox(this.boundingBox)):(this[e(436)][e(407)](this[e(294)],n),this[e(592)][e(548)](this.boundingSphere))}}());const s=j;this.owner=t,this[s(581)][s(527)]=!1,this.visible=!0,this[s(592)]=e,this[s(567)]=!1,this[s(158)]=0,this.activeParticleCount=0,this.simulateInWorldSpace=!0,this[s(490)]=!1,this[s(571)]=null,this[s(454)]=new Q,this[s(517)]=[],this[s(299)]=[],this.particleStates=null,this.systemState=et[s(152)],this[s(320)]=new L,this[s(219)]=null,this[s(462)]=!0,this.boundingBox=new(w[s(237)]),this.boundingSphere=new x}init(t){const e=j;if(this.initialized)throw new Error("ParticleSystem::init() -> trying to intialize more than once.");this[e(158)]=t,this[e(592)]?(this[e(592)][e(165)](this[e(581)]),this[e(592)][e(147)](this.maximumActiveParticles,this[e(549)]),this[e(592)][e(239)](this[e(549)]),this.particleStates=this[e(592)].getParticleStateArray()):(this.particleStates=new J,this.particleStates[e(147)](this[e(158)])),this[e(312)](new G),this[e(205)](new $),this[e(567)]=!0}getVisible(){return this[j(527)]}[j(438)](t){return this[j(527)]=t}[j(497)](t){this.onUpdateCallback=t}[j(181)](t,e){const s=j;if(this[s(343)]==et[s(379)]){if(this[s(581)][s(505)](!0),t=null==t||null==t?K[s(250)]():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(490)]&&this[s(343)]==et[s(379)]){const t=this[s(571)][s(181)](e);t>0&&this.activateParticles(t),this[s(594)](e),this.onUpdateCallback&&this[s(219)](this[s(565)]),this.updateBounds()}this.componentContainer[s(181)](t,e),this[s(474)]=t}}[j(164)](t,e){const s=j;if(this[s(190)]()&&this[s(592)]){const n=t[s(447)];t[s(447)]=!1,this.owner[s(527)]=!0,this[s(581)].matrixWorldNeedsUpdate=!0,this.particleSystemRenderer[s(164)](this[s(581)],t,e),this[s(581)][s(527)]=!1,t[s(447)]=n}}start(){const t=j;this.systemState!=et[t(152)]&&this[t(343)]!=et[t(488)]||(this.systemState=et[t(379)],this[t(597)]=K[t(250)](),this.lastUpdateTime=this[t(597)])}[j(230)](){const t=j;this[t(343)]==et[t(379)]&&(this[t(343)]=et[t(488)])}[j(532)](){}getSystemState(){return this[j(343)]}setEmitter(t){const e=j;return this[e(571)]=t,this.particleEmitter[e(158)]=this[e(158)],this.emitterInitialized=!0,this[e(571)]}[j(132)](t){const e=j;this[e(454)][e(132)](t)}[j(550)](t){return this[j(454)].getComponent(t)}[j(312)](t){return this.particleStateInitializers.push(t),t}[j(566)](){const t=j;return this[t(517)][t(229)]}[j(290)](t){const e=j;if(t>=this[e(517)][e(229)])throw new Error(e(264));return this[e(517)][t]}addParticleStateOperator(t){const e=j;return this[e(299)][e(254)](t),t}[j(471)](){const t=j;return this[t(299)][t(229)]}[j(486)](t){const e=j;if(t>=this[e(299)][e(229)])throw new Error(e(347));return this.particleStateOperators[t]}[j(595)](){return this.maximumActiveParticles}[j(382)](){return this[j(565)]}[j(259)](t){const e=j;if(t>=this.activeParticleCount)throw new Error('ParticleSystem::getParticleState() -> "index" is out of range.');return this[e(436)][e(393)](t)}[j(278)](){return this.particleStates}[j(602)](){return this[j(592)]}getSimulateInWorldSpace(){return this.simulateInWorldSpace}[j(239)](t){const e=j;this[e(549)]=t,this.particleSystemRenderer&&this[e(592)].setSimulateInWorldSpace(this[e(549)])}setTransformInitialDirectionInWorldSpace(t){this[j(462)]=t}[j(318)](t,e,s=0){this.particleSequences.addSequence(t,e,s)}getParticleSequences(){return this[j(320)]}[j(441)](){return this.particleEmitter}activateParticles(t){const e=j;if(this.systemState==et[e(379)]){const s=K[e(365)](this[e(565)]+t,0,this[e(158)]);for(let t=this.activeParticleCount;t<s;t++)this[e(167)](t);this[e(565)]=s,this[e(436)][e(186)](this[e(565)])}}[(r=j(383),j(167))](t){const e=j;if(this[e(343)]==et.Running){const s=this[e(436)].getState(t);s[e(311)]=0;for(let t=0;t<this[e(517)][e(229)];t++){this.particleStateInitializers[t].initializeState(s)}if(this[e(549)]){s[e(478)][e(399)](this[e(581)][e(467)]);const t=s[e(140)][e(229)]();if(this[e(462)]){s.velocity[e(542)](this[e(581)].matrixWorld)[e(511)](t);const n=s.acceleration[e(229)]();s[e(251)][e(542)](this.owner.matrixWorld)[e(511)](n)}}this[e(436)][e(421)](t)}}advanceActiveParticles(t){const e=j;if(this.systemState==et.Running){let s=0;for(;s<this[e(565)];){this[e(584)](s,t)?s++:(s<this[e(565)]-1&&this[e(466)](this[e(565)]-1,s),this[e(565)]--)}this.particleStates[e(186)](this[e(565)])}}[j(584)](t,e){const s=j;if(this[s(343)]==et[s(379)]){const n=this[s(436)][s(393)](t);for(let t=0;t<this[s(299)][s(229)];t++){const i=this.particleStateOperators[t][s(519)](n,e),r=n.lifetime;if(!i||0!=r&&n[s(311)]>=r)return!1}return this.particleStates[s(421)](t),!0}return!1}[j(466)](t,e){const s=j;this[s(436)][s(605)](t,e),this[s(436)][s(421)](e)}static[j(442)](t,e,s){const n=j,i=(t,e,s)=>{const n=rt;e(t);for(const r in t)if(t[n(314)](r)){const s=t[r];typeof s===n(440)&&i(s,e)}};i(t,(t=>{const s=rt;t[s(228)]&&(t.type=e.parseTypeString(t[s(228)]))}));const r=t[n(138)],a=t.simulateInWorldSpace,o=t.renderer,c=o[n(228)][n(442)](o[n(502)]),h=new(w[n(295)]),l=new st(h,c,s);l[n(147)](r),l[n(239)](a);const u=t[n(335)],p=u[n(228)].fromJSON(u.params);if(l[n(446)](p),t[n(570)])for(const m of t[n(570)])l.addParticleSequence(m[n(233)],m[n(229)],m.id);if(t[n(564)])for(const m of t.initializers)l[n(312)](m.type[n(442)](l,m[n(502)]));if(t[n(217)])for(const m of t[n(217)]){const t=l[n(205)](m.type[n(442)](l,m[n(502)]));m.elements&&t[n(279)](m[n(596)])}return[l,h]}[j(482)](t){const e=j,s=this[e(602)](),n=this.getEmitter(),i=this[e(156)](),r=i[e(439)]().map((t=>{const s=e,n=i[s(350)](t);return{id:t,start:n[s(233)],length:n[s(229)]}})),a=[],o=this[e(566)]();for(let l=0;l<o;l++){const s=this[e(290)](l);s[e(134)]!==G&&a.push({type:t.getTypePath(s[e(134)]),params:s.toJSON(t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this.getParticleStateOperator(l);if(s[e(134)]!==$){const n=s.toJSON(t),i=n[e(502)]||n,r=n[e(502)]?n.elements:null,a={type:t[e(578)](s[e(134)]),params:i};r&&(a.elements=r),c[e(254)](a)}}return{maxParticleCount:this.getMaximumActiveParticles(),simulateInWorldSpace:this[e(339)](),renderer:{type:t.getTypePath(s[e(134)]),params:s.toJSON()},emitter:{type:t[e(578)](n.constructor),params:n[e(482)]()},sequences:r,initializers:a,operators:c}}}class nt{constructor(){const t=j;this[t(535)]=[],this[t(425)]=performance.now()/1e3,this[t(474)]=this[t(425)],this.componentContainer=new Q}update(){const t=j,e=K.currentTime(),s=e-this.lastUpdateTime;for(const n of this[t(535)])n[t(181)](e,s);this[t(454)][t(181)](e,s),this[t(474)]=e}[j(164)](t,e){const s=j;for(const n of this[s(535)])n[s(164)](t,e)}[j(128)](t){this.particleSystems.push(t)}[j(132)](t){const e=j;this[e(454)][e(132)](t)}[j(550)](t){return this[j(454)].getComponent(t)}}class it{constructor(){const t=j;this[t(567)]=!1,this[t(328)]=0,this[t(581)]=null,this[t(549)]=!1}[j(239)](t){this.simulateInWorldSpace=t}[j(491)](){}[j(165)](t){this[j(581)]=t}[j(147)](t){const e=j;if(this[e(328)]=t,!this[e(567)])return this[e(567)]=!0,!0;throw new Error(e(332))}[j(164)](){}}function rt(t,e){const s=Z();return(rt=function(t,e){return s[t-=128]})(t,e)}class at extends J{constructor(){const t=j;super(),this[t(246)]=null,this[t(248)]=null,this[t(568)]=null,this[t(313)]=null,this[t(610)]=null,this[t(445)]=null,this[t(373)]=null,this[t(319)]=null,this[t(427)]=null,this[t(150)]=null,this.rotationalSpeeds=null,this[t(185)]=null,this.colors=null,this.initialSizes=null,this[t(198)]=null,this[t(599)]=!1,this[t(243)]=6}init(t,e=!1){const s=j;this.instanced=e,this[s(599)]?this[s(243)]=1:this[s(243)]=6,super[s(147)](t),this[s(304)](t)}[j(556)](t){super[j(556)](t)}[j(186)](t){const e=j;super.setActiveParticleCount(t),t>0?this[e(599)]?this.geometry.instanceCount=t:this.geometry.setDrawRange(0,this[e(243)]*t):this[e(599)]?this[e(246)][e(518)]=0:this.geometry[e(309)](0,0)}[j(421)](t){const e=j;if(t>=this[e(328)])throw new Error(e(409));const s=this[e(393)](t),n=t*this[e(243)];for(let i=0;i<this[e(243)];i++)this[e(568)].setX(n+i,s[e(255)]),this.lifetimes[e(600)]=!0,this[e(313)].setX(n+i,s.age),this.ages[e(600)]=!0,this[e(610)][e(257)](n+i,s.sequenceElement.x,s[e(479)].y,s[e(479)].z,s[e(479)].w),this[e(610)][e(600)]=!0,this[e(445)][e(569)](n+i,s[e(478)].x,s.position.y,s.position.z),this.positions[e(600)]=!0,this[e(373)][e(569)](n+i,s[e(140)].x,s.velocity.y,s[e(140)].z),this.velocities[e(600)]=!0,this.accelerations[e(569)](n+i,s.acceleration.x,s[e(251)].y,s.acceleration.z),this[e(319)][e(600)]=!0,this.normals[e(569)](n+i,s[e(585)].x,s.normal.y,s.normal.z),this.normals[e(600)]=!0,this[e(150)][e(284)](n+i,s[e(388)]),this[e(150)][e(600)]=!0,this[e(323)][e(284)](n+i,s[e(174)]),this[e(323)][e(600)]=!0,this[e(185)][e(287)](n+i,s[e(368)].x,s[e(368)].y),this[e(185)][e(600)]=!0,this[e(460)].setXYZ(n+i,s.color.r,s[e(151)].g,s[e(151)].b),this[e(460)][e(600)]=!0,this.alphas[e(284)](n+i,s[e(201)]),this[e(492)].needsUpdate=!0,this[e(310)][e(287)](n+i,s[e(137)].x,s[e(137)].y),this[e(310)].needsUpdate=!0,this[e(182)][e(284)](n+i,s.initialAlpha),this[e(182)][e(600)]=!0}[j(605)](t,e){const s=j;super[s(605)](t,e),this[s(421)](e)}setState(t,e){const s=j;if(t>=this[s(328)])throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super[s(499)](t,e),this[s(421)](t)}[j(590)](){return this[j(445)]}[j(177)](){return this[j(185)]}[j(173)](){return this[j(150)]}[j(256)](){return this.sequenceElements}[j(302)](){return this.colors}[j(154)](){return this[j(246)]}[j(304)](t){const e=j;super[e(304)](t);const s=(t,s)=>{const n=e;return this[n(599)]?new z(t,s):new(w[n(603)])(t,s)},n=this[e(243)]*this[e(328)];if(this[e(599)]){const t=new(w[e(563)]),s=new Float32Array(18);this.basePositions=new(w[e(603)])(s,3),t[e(481)](e(478),this[e(196)]),this[e(196)][e(600)]=!0,this.basePositions[e(569)](0,-1,1,0),this[e(196)][e(569)](1,-1,-1,0),this[e(196)].setXYZ(2,1,1,0),this[e(196)][e(569)](3,-1,-1,0),this[e(196)][e(569)](4,1,-1,0),this[e(196)].setXYZ(5,1,1,0);const n=new Float32Array(12);this[e(358)]=new(w[e(603)])(n,2),t.setAttribute("baseUV",this[e(358)]),this[e(358)].needsUpdate=!0,this.baseUVs.setXY(0,0,1),this[e(358)][e(287)](1,0,0),this[e(358)][e(287)](2,1,1),this.baseUVs[e(287)](3,0,0),this[e(358)][e(287)](4,1,0),this[e(358)][e(287)](5,1,1);const i=new Float32Array(6);this.customIndexes=new(w[e(603)])(i,1),t.setAttribute("customIndex",this.customIndexes),this[e(394)][e(600)]=!0,this.customIndexes[e(284)](0,0),this.customIndexes[e(284)](1,1),this[e(394)].setX(2,3),this.customIndexes[e(284)](3,1),this[e(394)][e(284)](4,2),this[e(394)][e(284)](5,3),this[e(246)]=(new(w[e(130)]))[e(231)](t),this[e(246)][e(518)]=0}else{this[e(246)]=new(w[e(563)]);const t=new Float32Array(n);this[e(394)]=new(w[e(603)])(t,1),this[e(246)][e(481)](e(557),this[e(394)]),this[e(394)].needsUpdate=!0;for(let s=0;s<this[e(328)];s++){const t=s*this[e(243)];this[e(394)][e(284)](t,0),this[e(394)][e(284)](t+1,1),this[e(394)][e(284)](t+2,3),this[e(394)][e(284)](t+3,1),this.customIndexes[e(284)](t+4,2),this.customIndexes[e(284)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),d=new Float32Array(3*n),f=new Float32Array(n),g=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n);this[e(445)]=s(o,3),this[e(445)][e(222)](w[e(572)]),this[e(246)].setAttribute(e(528),this[e(445)]),this[e(568)]=s(i,1),this[e(568)][e(222)](w[e(572)]),this[e(246)][e(481)](e(255),this[e(568)]),this[e(313)]=s(r,1),this[e(313)][e(222)](w[e(572)]),this[e(246)][e(481)]("age",this[e(313)]),this[e(610)]=s(a,4),this[e(610)][e(222)](w[e(572)]),this.geometry[e(481)](e(479),this[e(610)]),this[e(373)]=s(c,3),this[e(373)].setUsage(w[e(572)]),this[e(246)][e(481)](e(140),this[e(373)]),this[e(319)]=s(h,3),this[e(319)].setUsage(w[e(572)]),this[e(246)][e(481)]("acceleration",this[e(319)]),this[e(427)]=s(l,3),this[e(427)].setUsage(w[e(572)]),this.geometry.setAttribute(e(585),this.normals),this.rotations=s(u,1),this[e(150)].setUsage(w[e(572)]),this[e(246)][e(481)](e(388),this[e(150)]),this.rotationalSpeeds=s(p,1),this.rotationalSpeeds.setUsage(w[e(572)]),this[e(246)].setAttribute(e(174),this[e(323)]),this.sizes=s(m,2),this[e(185)][e(222)](w[e(572)]),this[e(246)][e(481)]("size",this[e(185)]),this[e(460)]=s(d,3),this[e(460)][e(222)](w[e(572)]),this.geometry[e(481)](e(151),this.colors),this[e(492)]=s(f,1),this[e(492)][e(222)](w[e(572)]),this.geometry[e(481)](e(201),this.alphas),this[e(310)]=s(g,2),this[e(310)][e(222)](w[e(572)]),this.geometry[e(481)](e(137),this[e(310)]),this.initialColors=s(S,3),this.initialColors.setUsage(v),this[e(246)][e(481)](e(450),this.initialColors),this.initialAlphas=s(y,1),this.initialAlphas[e(222)](w[e(572)]),this[e(246)].setAttribute("initialAlpha",this[e(182)])}dispose(){const t=j;super[t(391)](),this.geometry&&(this[t(246)][t(391)](),this.geometry=null)}}class ot{constructor(t,e,s,n,i){const r=j;this[r(229)]=t,this.x=e,this.y=s,this[r(456)]=n,this[r(536)]=i}}class ct{constructor(t,e){const s=j;this[s(170)]=t,this[s(344)]=e,this[s(221)]=[]}[j(448)](){return this[j(170)]}getTexturePath(){return this[j(344)]}[j(197)](){const t=j;return this.frameSets[t(229)]}[j(292)](t,e,s,n,i){const r=j;this.frameSets[r(254)](new ot(t,e,s,n,i))}[j(398)](t){const e=j;if(t>=this[e(221)][e(229)])throw new Error(e(187));return this[e(221)][t]}}const ht=class t extends it{constructor(t,e,s=!1,n=w[j(149)],i=!0,r){const o=j;super(),f(this,a,function(){const t=j,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[rt(480)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=rt;let s;try{s=Function(t(161)+t(378)+");")()}catch(r){s=window}const n=s[t(345)]=s[t(345)]||{},i=[t(582),t(402),t(133),t(258),t(512),t(430),t(168)];for(let a=0;a<i[t(229)];a++){const s=e[t(134)].prototype[t(503)](e),r=i[a],o=n[r]||s;s[t(371)]=e.bind(e),s[t(232)]=o.toString[t(503)](o),n[r]=s}}))();const s=new(w[t(242)]);return function(){const e=t,n=this.particleStateArray[e(154)]();if(this[e(444)]){n[e(553)]||(n[e(553)]=new I),n[e(553)][e(231)](this[e(553)]),!n.boundingSphere&&(n[e(294)]=new(w[e(226)])),s.x=(this.boundingBox[e(234)].x+this.boundingBox[e(484)].x)/2,s.y=(this[e(553)][e(234)].y+this[e(553)][e(484)].y)/2,s.z=(this[e(553)][e(234)].z+this[e(553)][e(484)].z)/2;const t=this.boundingBox[e(484)].x-s.x,i=this[e(553)][e(484)].y-s.y,r=this.boundingBox[e(484)].z-s.z,a=Math[e(484)](Math[e(484)](t,i),r);n[e(294)].center[e(231)](s),n[e(294)][e(261)]=Math[e(315)](2*a*a)}else n[e(294)]||(n[e(294)]=new(w[e(226)])),n[e(294)][e(231)](this[e(294)])}}()),this.instanced=t,this[o(411)]=null,this[o(139)]=null,this[o(420)]=null,this.atlas=e,this[o(252)]=s,this.blending=n,this.boundingBox=new(w[o(237)]),this[o(294)]=new(w[o(226)]),this[o(444)]=i,this[o(574)]=r}[j(165)](t){super[j(165)](t)}[j(491)](){return this[j(411)]}[j(239)](t){const e=j;super[e(239)](t),this[e(139)]&&(this[e(139)][e(270)][e(549)][e(324)]=t?1:0,this[e(139)].uniformsNeedUpdate=!0)}[j(468)](){return this[j(444)]}[j(272)](t){const e=j;this[e(553)][e(231)](t),this[e(420)]&&this.updateMeshBounds()}setBoundingSphere(t){const e=j;this[e(294)][e(231)](t),this[e(420)]&&this[e(184)]()}[j(164)](t,e,s){e[j(164)](t,s)}[(a=j(184),j(147))](t){const e=j;super[e(147)](t)&&(this[e(411)]=new at,this[e(411)][e(147)](t,this[e(599)]),this[e(139)]=this[e(443)](null,null,null,!0,!1),this[e(139)].blending=this[e(338)],this.mesh=new(w[e(334)])(this[e(411)][e(154)](),this[e(139)]),this[e(420)][e(461)]=!0,void 0!==this[e(574)]&&(this[e(420)][e(574)]=this[e(574)]),this[e(184)](),this.owner[e(606)](this[e(420)]))}[j(391)](){const t=j;this[t(411)][t(391)]()}[j(443)](e,s,n,i,r){const a=j,o=[...Array(16).keys()][a(408)]((t=>new(w[a(387)])));if(this[a(533)])for(let t=0;t<this[a(533)][a(197)]();t++){const e=this.atlas[a(398)](t);o[t]=new(w[a(387)])(e.x,e.y,e.width,e[a(536)])}const c=this.atlas?this[a(533)][a(448)]():null,h=this.interpolateAtlasFrames,l=this[a(549)],u=this[a(599)]?1:0,p={atlasFrameSet:{type:a(238),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(w[a(437)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(598)](n,p),e=e||t[a(183)][a(384)](r),s=s||t[a(183)][a(396)](i,r),new(w[a(580)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:w[a(149)],blendDstAlpha:w[a(504)],blendSrcAlpha:w[a(285)],depthTest:!0,depthWrite:!1})}static[j(442)](e){const s=j,n=e.atlas,i=(new(w[s(493)]))[s(329)](n[s(344)]),r=new ct(i,n.texturePath),a=n[s(171)];for(const t of a)r.addFrameSet(t[s(229)],t.x,t.y,t[s(456)],t[s(536)]);const o=new t(e[s(599)],r,n[s(377)]);return"Additive"==e[s(338)]?o.blending=w[s(538)]:o.blending=P,o}[j(482)](t){const e=j;t=t||(t=>{const e=rt;if(t.texturePath)return t[e(344)];const s=t[e(448)]().source;if(s){const t=s.data;if(t){const s=t[e(604)],n=t[e(157)];return n[e(458)](s)>=0?n.substr(s.length,n.length-s[e(229)]):n}}});const s=[];for(let i=0;i<this[e(533)].getFrameSetCount();i++){const t=this[e(533)].getFrameSet(i);s.push(t)}let n=e(381);this[e(139)][e(338)]===A&&(n=e(286));return{instanced:this[e(599)],blending:n,atlas:{interpolateFrames:this[e(252)],texturePath:t(this[e(533)]),framesets:s}}}};f(ht,"Shader",{get VertexVars(){const t=j;return["const int MAX_ATLAS_FRAME_SETS = 16; \n",t(508),"uniform int interpolateAtlasFrames; \n","uniform int simulateInWorldSpace; \n",t(510),t(214),t(306),t(539),t(370),t(414),t(451),"attribute vec3 color;\n",t(211),t(206),t(426),"varying vec3 vFragColor;\n",t(496),t(470)].join("\n")},get FragmentVars(){const t=j;return["uniform int interpolateAtlasFrames; \n",t(330),t(249),t(206),t(426),t(276),"varying float vFragAlpha;\n",t(296)][t(506)]("\n")},getVertexShader(t){const e=j;let s=[e(267),this[e(515)]][e(506)]("\n");return t&&(s+=e(513)),s+=[e(280),e(244),e(224),e(494),e(194),e(525),"   int maxRowSections = int(1.0 / atlasFrameWidth); \n",e(586),e(530),e(325),e(576),e(337),e(375),e(611),"   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(220),e(372),e(457),e(176),"void main()\n","{\n",e(608),e(155),"   const vec2 left = vec2(-1.0, 0.0);\n",e(376),"   const vec2 uRight = vec2(1.0, 1.0);\n",e(498),"   const vec2 dLeft = vec2(-1.0, -1.0);\n","   const vec2 dRight = vec2(1.0, -1.0);\n",e(476),e(416),"       viewPosition = viewMatrix * particlePosition;\n",e(293),e(561),e(216),"   float sequenceElementF = sequenceElement.x;\n",e(317),e(301),"   int sequenceLength = int(sequenceElement.w);\n",e(316),e(390),e(591),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n",e(422),e(386),e(142),e(223),"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n",e(216),"   float atlasFrameWidth = atlasFrames.z; \n",e(224),e(577),e(547),e(159),"   float upperSide; \n",e(202),e(144),e(268),e(263),e(297),e(225),e(410),e(216),e(385),e(305),e(403),e(202),"       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n",e(612),e(495),e(509),e(273),e(485),"   }  else { \n",e(514),e(216),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n",e(131),e(349),e(274),"   vFragAlpha = alpha; \n"][e(506)]("\n"),t&&(s+="   \n  #include <logdepthbuf_vertex> \n"),s+=e(176),s},getFragmentShader(t,e){const s=j;let n="#include <common> \n"+this.FragmentVars+"\n";return e&&(n+=s(395)),n+=s(163),e&&(n+="    \n  #include <logdepthbuf_fragment> \n"),n+=t?[s(413),"   vec4 color2 = color1; \n",s(463),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","   gl_FragColor.a *= vFragAlpha; \n"][s(506)]("\n"):["   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   vec4 color2 = color1; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(424),s(189)].join("\n"),n+="}\n",n}});let lt=ht;class ut{constructor(){const t=j;this[t(200)]=0,this[t(537)]=0,this.emitCount=0,this[t(311)]=0,this.timeActive=0,this[t(265)]=0,this[t(158)]=0}[j(181)](t){return this[j(308)](t),0}internalUpdate(t){const e=j;return this[e(311)]+=t,this[e(283)]=Math.max(this[e(311)]-this[e(200)],0),this.age>=this.emissionRelativeStartTime&&(0==this[e(537)]||this[e(283)]<=emissionDuration)}[j(544)](t){this[j(212)]+=t}}class pt extends ut{constructor(){const t=j;super(),this[t(354)]=0,this.emissionMaximum=0}}class mt extends pt{constructor(t=0){const e=j;super(),this[e(404)]=t}update(t){const e=j;if(this.internalUpdate(t)){const t=this[e(404)]*this[e(283)]-this[e(212)];if(t>=1){const s=Math.floor(t);return this[e(544)](s),s}}return 0}static[j(442)](t){const e=j,s=new mt;return s[e(404)]=t[e(404)]||0,s}[j(482)](){return{emissionRate:this.emissionRate}}}const dt=class t{constructor(t){this[j(277)]=t}static[(o=j(437),c=j(242),h=j(387),l=j(208),j(192))](e){const s=j;let n=t[s(262)];return e===w[s(437)]?n=t[s(437)]:e===w[s(242)]?n=t.Vector3:e===b?n=t[s(387)]:e===w[s(208)]&&(n=t.Color),n}static[j(389)](t,e){const s=j;switch(e){case w[s(437)]:return(new(w[s(437)]))[s(282)](t);case w[s(242)]:return(new(w[s(242)]))[s(282)](t);case w[s(387)]:return(new(w[s(387)]))[s(282)](t);case w[s(208)]:return(new y)[s(282)](t)}return t}};f(dt,"Default",new dt(j(262))),f(dt,o,new dt(j(437))),f(dt,c,new dt("Vector3")),f(dt,h,new dt(j(387))),f(dt,l,new dt(j(208)));let ft=dt;class gt{constructor(t){const e=j;this.outType=t,this.outTypeID=ft[e(192)](t)}}class wt extends gt{constructor(t,e,s,n,i,r){const a=j;super(t),this.range=e,this[a(235)]=s,this[a(351)]=n,this[a(477)]=i,this[a(210)]=r}[j(275)](t){const e=j,s=Math[e(303)]()*this[e(351)];switch(this.outTypeID){case ft[e(262)]:t=Math[e(303)]()*this[e(166)]+this[e(235)],this[e(210)]&&(t=t<0?-1:1);break;case ft.Vector2:t.set(this[e(583)](s,"x"),this[e(583)](s,"y"));break;case ft[e(242)]:t[e(452)](this[e(583)](s,"x"),this[e(583)](s,"y"),this[e(583)](s,"z"));break;case ft.Vector4:t[e(452)](this[e(583)](s,"x"),this[e(583)](s,"y"),this[e(583)](s,"z"),this[e(583)](s,"w"))}return this[e(210)]&&t[e(210)](),t}[j(583)](t,e){const s=j;return t+Math[s(303)]()*this[s(166)][e]+this[s(235)][e]+this[s(477)]}[j(215)](){const t=j;return new wt(this.outType,this[t(166)],this[t(235)],this[t(351)],this[t(477)],this[t(210)])}static[j(455)](t){const e=j;return t instanceof w[e(437)]||t instanceof w[e(242)]||t instanceof w[e(387)]||t instanceof y?t[e(271)]():t}static fromJSON(t){const e=j;return new wt(t.type,ft[e(389)](t[e(166)],t.type),ft[e(389)](t[e(235)],t.type),t[e(351)]||0,t[e(477)]||0,t.normalize)}[j(482)](t){const e=j,s={range:wt.getParameterJSON(this[e(166)]),offset:wt[e(455)](this.offset),uniformRange:this[e(351)],uniformOffset:this[e(477)]},n=t[e(578)](this.range[e(134)]);return null!=n&&(s[e(228)]=n),{type:t[e(578)](wt),params:s}}}class St extends k{constructor(t,e,s,n,i){const r=j;super(),this[r(166)]=t,this[r(235)]=e,this[r(351)]=s,this.uniformOffset=n,this[r(210)]=i,this.generator=new wt(0,this[r(166)],this[r(235)],this[r(351)],this[r(477)],this.normalize)}initializeState(t){const e=j;t[e(255)]=this.generator[e(275)]()}static[j(442)](t,e){const s=j;return new St(e.range,e[s(235)],e[s(351)],e.uniformOffset,e[s(210)])}[j(482)](){const t=j;return{range:this[t(166)],offset:this.offset,uniformRange:this[t(351)],uniformOffset:this.uniformOffset,normalize:this[t(210)]}}}class yt extends k{constructor(t){super(),this.generator=t.clone()}[j(281)](t){const e=j;t[e(388)]=this[e(326)].generate(t[e(388)])}static[j(442)](t,e){const s=j,n=e[s(326)][s(228)][s(442)](e[s(326)][s(502)]);return new yt(n)}[j(482)](t){return{generator:this[j(326)].toJSON(t)}}}class xt extends k{constructor(t,e,s,n,i){const r=j;super(),this[r(166)]=t,this[r(235)]=e,this[r(351)]=s,this.uniformOffset=n,this.normalize=i,this[r(326)]=new wt(0,this.range,this.offset,this[r(351)],this[r(477)],this[r(210)])}initializeState(t){const e=j;t[e(174)]=this[e(326)][e(275)]()}static[j(442)](t,e){const s=j;return new xt(e.range,e[s(235)],e[s(351)],e[s(477)],e.normalize)}[j(482)](){const t=j;return{range:this.range,offset:this[t(235)],uniformRange:this.uniformRange,uniformOffset:this[t(477)],normalize:this.normalize}}}class vt extends k{constructor(t,e){const s=j;super(),this[s(341)]=new wt(w[s(242)],t,e,0,0,!1)}[j(281)](t){const e=j;this.randomGenerator[e(275)](t.position)}static fromJSON(t,e){const s=j;return new vt((new(w[s(242)]))[s(282)](e[s(166)]),(new(w[s(242)])).fromArray(e[s(235)]))}[j(482)](){const t=j;return{range:this[t(341)][t(166)][t(271)](),offset:this[t(341)].offset[t(271)]()}}}class It extends k{constructor(t){const e=j;super(),this[e(326)]=t[e(215)]()}[j(281)](t){const e=j;this[e(326)][e(275)](t[e(368)]),t[e(137)].copy(t[e(368)])}static fromJSON(t,e){const s=j,n=e[s(326)].type[s(442)](e[s(326)][s(502)]);return new It(n)}[j(482)](t){const e=j;return{generator:this[e(326)][e(482)](t)}}}class Pt extends k{constructor(t,e,s,n,i=!0){const r=j;super(),this[r(534)]=new wt(w[r(242)],t,e,0,0,!0),this[r(340)]=new wt(0,s,n,0,0,!1),this[r(554)]=i}[j(281)](t){const e=j;this[e(534)][e(275)](t[e(140)]),this.normalizeDirection&&t[e(140)].normalize(),t[e(140)][e(511)](this[e(340)].generate())}static[j(442)](t,e){const s=j;return new Pt((new(w[s(242)]))[s(282)](e[s(166)]),(new(w[s(242)]))[s(282)](e[s(235)]),e[s(245)],e[s(191)])}[j(482)](){const t=j;return{range:this[t(534)].range[t(271)](),offset:this[t(534)][t(235)][t(271)](),speedRange:this[t(340)].range,speedOffset:this[t(340)][t(235)]}}}class At extends k{constructor(t,e=!1){const s=j;super(),this[s(322)](t),this[s(143)]=e}[j(322)](t){this[j(320)]=t}initializeState(t){const e=j,s=this[e(320)][e(439)](),n=s[e(229)]*Math.random(),i=s[Math[e(360)](n)],r=this[e(320)][e(350)](i),a=t.sequenceElement;this.reverse?a.x=r[e(229)]-1:a.x=r[e(233)],a.y=r.id,a.z=r[e(233)],a.w=r[e(229)],t[e(175)]=W[e(540)]}static[j(442)](t,e){const s=j;return new At(t[s(156)](),e[s(143)])}[j(482)](){return{reverse:this[j(143)]}}}class bt extends H{constructor(t,e,s=!1,n=!1){const i=j;super(),this[i(320)]=t,this[i(213)]=e,this[i(521)]=s,this[i(143)]=n}[j(519)](t,e){const s=j,n=t[s(479)],i=this[s(320)][s(350)](n.y),r=e/this[s(213)];if(this[s(143)]){if(n.x-=r,n.x<i[s(233)]&&(n.x=i[s(233)]+i.length,!this[s(521)]))return!1}else if(n.x+=r,n.x>=i[s(233)]+i[s(229)]&&(n.x=i.start,!this[s(521)]))return!1;return!0}static[j(442)](t,e){const s=j;return new bt(t[s(156)](),e[s(213)],e.loop,e[s(143)])}[j(482)](){const t=j;return{speed:this[t(213)],loop:this[t(521)],reverse:this[t(143)]}}}class Ft{constructor(t,e){f(this,u,function(){const t=j,e={lowerIndex:0,upperIndex:0,localT:0},s=new(w[t(437)]),n=new(w[t(242)]),i=new(w[t(387)]),r=new(w[t(208)]),a=s=>(n,i,r,a)=>{const o=t;Ft[o(269)](r,n,e),s[o(231)](i[e[o(587)]])[o(511)](e[o(288)]),a[o(231)](i[e[o(500)]]).multiplyScalar(1-e[o(288)])[o(606)](s)};return function(o){const c=t;switch(o){case ft[c(262)]:return(t,s,n)=>{const i=c;return Ft.getInterpolationValuesForTValue(n,t,e),(1-e[i(288)])*s[e[i(500)]]+e[i(288)]*s[e.upperIndex]};case ft.Vector2:return a(s);case ft[c(242)]:return a(n);case ft[c(387)]:return a(i);case ft[c(208)]:return a(r)}}}());const s=j;this[s(596)]=[],this[s(397)]=[],this[s(178)]=ft[s(192)](t),this[s(469)]=e||this[s(526)](this[s(178)])}*[Symbol[j(253)]](){const t=j;let e=0;for(;e<this[t(472)]();)yield{element:this[t(596)][e],tValue:this.tValues[e]},e++}getElementCount(){const t=j;return this[t(596)][t(229)]}[j(579)](t){const e=j;if(t>=this[e(472)]())throw new Error('ContinuousArray::getElement() -> "index" is out of bounds.');return this[e(596)][t]}getTValue(t){const e=j;if(t>=this[e(472)]())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this[e(397)][t]}[j(203)](t,e){this[j(596)].push(t),this.tValues.push(e)}[j(423)](t,e){const s=j;return this[s(469)](t,this[s(596)],this[s(397)],e)}static[(u=j(526),j(269))](t,e,s){const n=j,i=t.length;if(0===i)return s[n(500)]=-1,s[n(587)]=-1,void(s.localT=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(500)]=K[n(365)](a,0,i-1),s[n(587)]=K[n(365)](o,0,i-1);const c=t[a],h=t[o];s[n(288)]=(e-c)/(h-c)}}class Tt extends H{constructor(t,e=!1){const s=j;super(),this[s(135)]=e,this[s(434)]=new Ft(t)}[j(203)](t,e){const s=j;this[s(434)][s(203)](t,e)}[j(353)](t){const e=j;for(const s of t)this[e(434)][e(203)](s[0],s[1])}[j(364)](t,e){const s=j;for(const n of e){const[...e]=n[0];this[s(434)][s(203)](new t(...e),n[1])}}[j(260)](t,e){const s=j;let n=0;switch(t[s(175)]){case W[s(464)]:n=0!=t[s(255)]?t.age/t.lifetime:t.age;break;case W.Sequence:n=t[s(479)].x/t[s(479)].w}return this.interpolationElements.getInterpolatedElement(n,e)}}class zt extends Tt{constructor(t=!1){super(0,t)}[j(279)](t){super.addElements(t)}[j(519)](t){const e=j;return this[e(135)]?t[e(201)]=t[e(418)]*this.getInterpolatedValue(t,t[e(201)]):t[e(201)]=this[e(260)](t,t[e(201)]),!0}static[j(442)](t,e){return new zt(e[j(135)])}[j(482)](){const t=j;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(434)]][t(408)]((e=>[e[t(541)],e[t(401)]]))}}}class Et extends Tt{constructor(t=!1){super(F,t),f(this,p,function(){const t=j,e=new(w[t(437)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this[n(135)]?s[n(368)][n(452)](s.initialSize.x*e.x,s[n(137)].y*e.y):s[n(368)][n(231)](e),!0}}())}addElementsFromParameters(t){super[j(364)](F,t)}static[(p=j(519),j(442))](t,e){return new Et(e.relativeToInitialValue)}[j(482)](){const t=j;return{params:{relativeToInitialValue:this[t(135)]},elements:[...this[t(434)]][t(408)]((e=>[e[t(541)][t(271)](),e[t(401)]]))}}}class Rt extends Tt{constructor(t=!1){super(w[j(208)],t),f(this,m,function(){const t=new y;return function(e){const s=rt;return this[s(260)](e,t),this[s(135)]?e[s(151)][s(247)](e.initialColor.r*t.r,e.initialColor.g*t.g,e[s(450)].b*t.b):e[s(151)].copy(t),!0}}())}[j(279)](t){const e=j;super.addElementsFromElementClassAndParameters(w[e(208)],t)}static fromJSON(t,e){return new Rt(e[j(135)])}[(m=j(519),j(482))](){const t=j;return{params:{relativeToInitialValue:this[t(135)]},elements:[...this[t(434)]][t(408)]((e=>[e[t(541)].toArray(),e[t(401)]]))}}}class Ot extends H{constructor(t){const e=j;super(),this[e(326)]=t[e(215)]()}[j(279)](t){super.addElementsFromElementClassAndParameters(THREE.Vector3,t)}updateState(t){const e=j;return this[e(326)][e(275)](t[e(251)]),!0}static fromJSON(t,e){const s=j,n=e.generator[s(228)][s(442)](e[s(326)].params);return new Ot(n)}toJSON(t){return{generator:this.generator.toJSON(t)}}}class Vt extends gt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=j;super(w[p(242)]),this.rangeTheta=t,this[p(374)]=e,this[p(359)]=s,this[p(575)]=n,this[p(218)]=i,this[p(419)]=r,this[p(588)]=a,this[p(307)]=o,this[p(607)]=c,this[p(552)]=h,this[p(209)]=l,this.offsetZ=u,this[p(473)]=(new S)[p(452)](0,1,0)}[j(275)](t){const e=j;this.tempUp[e(452)](0,1,0);const s=Math[e(303)]()*this.rangeTheta+this[e(374)],n=Math[e(303)]()*this[e(359)]+this[e(575)],i=Math[e(545)](s),r=Math.sin(s),a=Math[e(545)](n),o=Math[e(145)](n);t.set(i,0,-r),t[e(511)](a),this.tempUp[e(511)](o),t.add(this[e(473)]),t[e(210)]();const c=Math[e(303)]()*this[e(218)]+this[e(419)];t[e(511)](c),t.x*=this[e(588)],t.y*=this[e(307)],t.z*=this[e(607)],t.x+=this[e(552)],t.y+=this[e(209)],t.z+=this[e(348)]}[j(215)](){const t=j;return new Vt(this[t(331)],this.offsetTheta,this[t(359)],this.offsetPhi,this.rangeRadius,this[t(419)],this[t(588)],this[t(307)],this[t(607)],this[t(552)],this[t(209)],this[t(348)])}static[j(442)](t){const e=j;return new Vt(t.rangeTheta,t[e(374)],t[e(359)],t.offsetPhi,t[e(218)],t[e(419)],t[e(588)],t.scaleY,t.scaleZ,t.offsetX,t[e(209)],t[e(348)])}[j(482)](t){const e=j;return{type:t[e(578)](Vt),params:{rangeTheta:this[e(331)],offsetTheta:this[e(374)],rangePhi:this[e(359)],offsetPhi:this[e(575)],rangeRadius:this.rangeRadius,offsetRadius:this[e(419)],scaleX:this[e(588)],scaleY:this[e(307)],scaleZ:this.scaleZ,offsetX:this[e(552)],offsetY:this[e(209)],offsetZ:this[e(348)]}}}}class Ct{constructor(){}}class qt extends Ct{constructor(t,e,s,n,i,r,a=void 0){const o=j;super(),this[o(581)]=null,this.light=null,this.lastUpdateTime=performance[o(487)]()/1e3,this[o(361)]=this[o(474)],this[o(153)]=this[o(474)],this[o(465)]=1,this[o(435)]=1,this[o(516)]=new(w[o(242)]),this.positionAdjuster=new(w[o(242)]),this[o(204)]=1,this[o(129)]=2,this[o(489)]=t,this[o(147)](t,e,s,n,i,r,a)}[j(147)](t,e,s,n,i,r,a=void 0){const o=j;this[o(581)]=new(w[o(295)]),t[o(606)](this[o(581)]),n=n||new y,i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(300)]=new T(16777215,2,0,1),this[o(300)][o(151)][o(231)](n),this[o(300)][o(432)]=i,this[o(300)][o(589)]=r,this.light[o(560)]=c,c&&(this[o(300)][o(405)][o(429)].width=a.mapSize||512,this.light[o(405)].mapSize.height=a.mapSize||512,this[o(300)].shadow[o(298)].near=a[o(507)]||.5,this[o(300)][o(405)][o(298)][o(146)]=a[o(195)]||500,this.light[o(405)][o(321)]=a.bias||1e-4,this[o(300)][o(405)][o(261)]=a[o(412)]||1),this[o(581)].add(this[o(300)]),this.intensity=e,this.intensityFlux=s,this[o(300)]}[j(391)](){const t=j;this[t(489)][t(593)](this[t(581)])}getLight(){return this[j(300)]}[j(346)](t){this[j(204)]=t}[j(181)](t){const e=j,s=t-this[e(361)],n=1/8,i=this.intensityFlux;if(s>n){this[e(361)]=t;let s=1+2*(Math.random()-.5)*i*n;const r=s-this[e(465)];s=this.lastIntensityAdjuster+r,this[e(465)]=this[e(435)],this[e(435)]=K[e(365)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(465)]+t*this[e(435)];this[e(300)][e(204)]=i*this[e(204)]}if(t-this[e(153)]>.0625){this[e(153)]=t;const s=t-this[e(474)];this[e(179)][e(452)](Math[e(303)]()-.5,Math.random()-.5,Math[e(303)]()-.5),this.positionAdjuster[e(511)](s),this[e(179)][e(606)](this[e(516)]),this[e(179)][e(511)](.5),this[e(581)][e(478)][e(231)](this.positionAdjuster),this[e(516)][e(231)](this.positionAdjuster),this[e(474)]=t}}}class Mt{constructor(){const t=j;this[t(291)]={default:{}},this.jsonTypeNames={},this[t(172)]=0}[j(333)](t,e){const s=j;this.addTypeToNamespace(s(449),t,e)}[j(546)](t,e,s){const n=j;if(!this[n(291)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(291)][t][e])throw new Error(n(188));this[n(543)](s,e,t)&&(this.jsonTypes[t][e]=s)}[j(141)](t,e){const s=j;if(this[s(291)][t])throw new Error(s(355));this.jsonTypes[t]=e;for(const n in e)if(!e.hasOwnProperty||e[s(314)](n)){const s=e[n];this.checkAndAddTypeName(s,n,t)}}[j(543)](t,e,s){const n=j;if(typeof t===n(289)){const i=this.typeIDGen++;t[n(406)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}getType(t,e){const s=j;if(!this.jsonTypes[t])throw new Error(s(241));if(!this.jsonTypes[t][e])throw new Error(s(400));return this.jsonTypes[t][e]}getTypeNames(t){return this[j(558)][t.___photonsTypeID]}[j(578)](t){const e=j,s=this[e(428)](t);if(s)return s[e(559)]+"."+s[e(352)]}[j(483)](t){const e=j,s=t[e(380)]("."),n=s[0];s[e(366)](0,1);return{namespace:n,typeName:s[e(506)](".")}}[j(367)](t){const e=j,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(601)](s,n)}}function Nt(t){function e(t){const s=rt;if(typeof t===s(523))return function(t){}.constructor(s(562)).apply(s(551));1!==(""+t/t)[s(229)]||t%20==0?function(){return!0}.constructor(s(357)+s(501))[s(573)](s(160)):function(){return!1}[s(134)](s(357)+s(501))[s(480)](s(369)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const _t=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Ot,AnimatedSpriteRenderer:lt,Atlas:ct,BaseParticleStateInitializer:G,BaseParticleStateOperator:$,BoxPositionInitializer:vt,ColorInterpolatorOperator:Rt,ConstantParticleEmitter:mt,FlickerLight:qt,JSONTypeStore:Mt,LifetimeInitializer:St,Manager:nt,OpacityInterpolatorOperator:zt,ParticleStateArray:J,ParticleSystem:st,ParticleSystemState:et,RandomGenerator:wt,RandomVelocityInitializer:Pt,Renderer:it,RotationInitializer:yt,RotationalSpeedInitializer:xt,SequenceInitializer:At,SequenceOperator:bt,SizeInitializer:It,SizeInterpolatorOperator:Et,SphereRandomGenerator:Vt},Symbol.toStringTag,{value:"Module"}));!function(t,e){const s=Dt,n=Bt();for(;;)try{if(532896===-parseInt(s(507))/1*(-parseInt(s(439))/2)+parseInt(s(467))/3*(-parseInt(s(435))/4)+-parseInt(s(463))/5+parseInt(s(478))/6+-parseInt(s(510))/7+parseInt(s(469))/8*(-parseInt(s(445))/9)+-parseInt(s(453))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Ut=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Dt(461)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Bt(){const t=["error","AdditiveBlending","37152qpXapX","FlickerLight","SequenceInitializer","string","console","addParticleStateInitializer","load","addElements","2472200iFSrUX","RandomVelocityInitializer","warn","getParticleSequences","Vector3","start","function *\\( *\\)","LifetimeInitializer","apply","__proto__","473175mTiBvm","RandomGenerator","OpacityInterpolatorOperator","ParticleSystem","376149bwfPiE","log","816MByvSh","return (function() ","Vector2","trace","exception","gger","update","position","Object3D","4256358fmEVyr","add","init","scale","info","setEmitter","render","call","test",'{}.constructor("return this")( )',"Photons","setSimulateInWorldSpace","table","SizeInterpolatorOperator","RotationInitializer","addNamespace","chain","RotationalSpeedInitializer","prototype","SequenceOperator","AnimatedSpriteRenderer","AccelerationOperator","addParticleSystem","addParticleSequence","addElementsFromParameters","setRGB","ConstantParticleEmitter","input","Color","794unWJKQ","counter","addParticleStateOperator","1875993oDZTll","JSONTypeStore","SphereRandomGenerator","ColorInterpolatorOperator","BoxPositionInitializer","debu","SizeInitializer","constructor","bind","addFrameSet","value","4JzeqRJ","copy","TextureLoader","stateObject","2468hsHbaU","length","Manager","Atlas"];return(Bt=function(){return t})()}!function(){Ut(this,(function(){const t=Dt,e=new RegExp(t(459)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Xt(t(480));e[t(486)](n+t(494))&&s[t(486)](n+t(505))?Xt():n("0")}))()}();const jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Dt(461)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Dt(t,e){const s=Bt();return(Dt=function(t,e){return s[t-=425]})(t,e)}jt(void 0,(function(){const t=Dt;let e;try{e=Function(t(470)+t(487)+");")()}catch(i){e=window}const s=e.console=e[t(449)]||{},n=[t(468),t(455),t(482),t(443),t(473),t(490),t(472)];for(let r=0;r<n[t(440)];r++){const e=jt[t(431)][t(496)][t(432)](jt),i=n[r],a=s[i]||e;e[t(462)]=jt.bind(jt),e.toString=a.toString[t(432)](a),s[i]=e}}))();const Wt=C({__name:"fireF",props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Dt,s=t,n=new(_t[e(441)]),i=new(_t[e(425)]);i[e(493)]("THREE",w),i[e(493)](e(488),_t);const{renderer:r,camera:a,scene:o}=O(),c=new(w[e(457)])(...s.position);n.addParticleSystem(((t,s)=>{const n=e,i=new E;i[n(476)][n(436)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new R)[n(451)](a),c=new(_t[n(442)])(o,a);c[n(433)](1,0,0,1,1);const h=new(_t[n(498)])(!0,c,!0,w[n(444)]),l=new(_t[n(466)])(i,h,r[n(434)]);l[n(480)](150),l[n(483)](new mt(6));const u=new(_t[n(464)])(F,new(w[n(471)])(0,0),new(w[n(471)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new St(3,1,0,0,!1)),l[n(450)](new(_t[n(430)])(u)),l[n(450)](new(_t[n(428)])(new S(.05*t,0,.05*t),new S(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new Pt(new S(.4*t,.5*t,.4*t),new(w[n(457)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l.addParticleStateOperator(new(_t[n(465)]))[n(452)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(509)](new(_t[n(427)])(!0))[n(502)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new(_t[n(426)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(_t[n(499)])(p)),l[n(489)](!0),l[n(458)](),l})(s[e(481)],c)),n[e(500)](((t,s)=>{const n=e,i=new(w[n(477)]);i[n(476)][n(436)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new R)[n(451)](a),c=new(_t[n(442)])(o,a);c[n(433)](18,0,0,.125,.25);const h=new(_t[n(498)])(!0,c,!0),l=new(_t[n(466)])(i,h,r[n(434)]);l[n(480)](50),l[n(483)](new(_t[n(504)])(10)),l.addParticleSequence(0,18);const u=l[n(456)]();l[n(450)](new(_t[n(460)])(0,0,0,0,!1)),l[n(450)](new(_t[n(492)])(new wt(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(450)](new(_t[n(495)])(1,-1,0,0,!1)),l.addParticleStateInitializer(new(_t[n(430)])(new wt(w[n(471)],new F(.25*t,.25*t),new F(.5*t,.5*t),0,0,!1))),l[n(450)](new(_t[n(428)])(new(w[n(457)])(.05*t,0,.05*t),new(w[n(457)])(-.025*t,0,-.025*t))),l[n(450)](new(_t[n(454)])(new(w[n(457)])(.05*t,.4*t,.05*t),new(w[n(457)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l.addParticleStateInitializer(new At(u)),l.addParticleStateOperator(new(_t[n(497)])(u,.07,!1));l[n(509)](new(_t[n(465)]))[n(452)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l.addParticleStateOperator(new(_t[n(491)])(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(509)](new(_t[n(427)])(!0))[n(502)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(509)](new(_t[n(499)])(new(_t[n(464)])(w[n(457)],new S(0,0,0),new(w[n(457)])(0,1.5*t,0),0,0,!1))),l[n(489)](!0),l[n(458)](),l})(s.scale,c)),n.addParticleSystem(((t,s)=>{const n=e,i=new(w[n(477)]);i[n(476)][n(436)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new(w[n(437)]))[n(451)](a),c=new(_t[n(442)])(o,a);c[n(433)](16,0,0,212/1024,.25);const h=new(_t[n(498)])(!0,c,!0),l=new(_t[n(466)])(i,h,r[n(434)]);l.init(20),l[n(483)](new(_t[n(504)])(5)),l[n(501)](0,16);const u=l[n(456)]();l[n(450)](new(_t[n(460)])(0,0,0,0,!1)),l[n(450)](new(_t[n(492)])(new(_t[n(464)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(450)](new(_t[n(495)])(Math.PI/2,-Math.PI/4,0,0,!1)),l.addParticleStateInitializer(new(_t[n(430)])(new(_t[n(464)])(w[n(471)],new(w[n(471)])(0,0),new(w[n(471)])(0,0),.2*t,.65*t,!1))),l[n(450)](new(_t[n(428)])(new(w[n(457)])(.1*t,0,.1*t),new S(-.05*t,0,-.05*t))),l[n(450)](new(_t[n(454)])(new(w[n(457)])(.02*t,.4*t,.02*t),new(w[n(457)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(450)](new(_t[n(447)])(u)),l[n(509)](new bt(u,.1,!1));l[n(509)](new(_t[n(465)]))[n(452)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(509)](new(_t[n(491)])(!0))[n(502)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(509)](new Rt(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(509)](new(_t[n(499)])(new wt(w[n(457)],new S(0,0,0),new(w[n(457)])(0,1.5*t,0),0,0,!1))),l[n(489)](!0),l[n(458)](),l})(s.scale,c)),n.addComponent(((t,s=10)=>{const n=e,i=new(w[n(477)]);o[n(434)][n(479)](i),i[n(476)].copy(t);return new(_t[n(446)])(i,s,2,(new(w[n(506)]))[n(503)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=V();return h((()=>{const t=e;n[t(475)](),n[t(484)](r[t(434)],a[t(434)])})),(t,e)=>null}});function Xt(t){function e(t){const s=Dt;if(typeof t===s(448))return function(t){}[s(431)]("while (true) {}").apply(s(508));1!==(""+t/t)[s(440)]||t%20==0?function(){return!0}[s(431)]("debu"+s(474))[s(485)]("action"):function(){return!1}[s(431)](s(429)+s(474))[s(461)](s(438)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Jt=kt;!function(t,e){const s=kt,n=Zt();for(;;)try{if(593930===parseInt(s(157))/1*(parseInt(s(148))/2)+parseInt(s(150))/3*(-parseInt(s(143))/4)+-parseInt(s(144))/5+parseInt(s(147))/6+-parseInt(s(155))/7+-parseInt(s(160))/8*(parseInt(s(165))/9)+parseInt(s(138))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Yt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[kt(176)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Yt(this,(function(){const t=kt,e=new RegExp(t(163)),s=new RegExp(t(161),"i"),n=Ht(t(154));e[t(139)](n+t(162))&&s[t(139)](n+t(135))?Ht():n("0")}))()}();const Lt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[kt(176)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function kt(t,e){const s=Zt();return(kt=function(t,e){return s[t-=135]})(t,e)}Lt(void 0,(function(){const t=kt,e=function(){const t=kt;let e;try{e=Function(t(141)+t(140)+");")()}catch(s){e=window}return e}(),s=e[t(145)]=e.console||{},n=[t(169),"warn",t(156),t(175),t(173),t(149),t(146)];for(let i=0;i<n[t(166)];i++){const e=Lt[t(168)][t(152)][t(174)](Lt),r=n[i],a=s[r]||e;e[t(167)]=Lt[t(174)](Lt),e.toString=a[t(170)][t(174)](a),s[r]=e}}))();const Gt=C({__name:Jt(177),setup(t){const e=q();return M((()=>{const t=kt;e[t(172)]&&(e.value.$refs[t(137)]?e[t(172)][t(158)][t(137)][t(136)].camera[t(172)][t(151)][t(164)](580,360,500):e[t(172)][t(158)].perspectiveCameraRef&&e[t(172)][t(158)][t(142)][t(151)].set(580,360,500))})),(t,s)=>{const n=kt;return N(),_(g,{ref_key:n(159),ref:e},{ability:U((()=>[B(Wt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Zt(){const t=["$refs","pagesShowRef","4507024WbBUaQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","function *\\( *\\)","set","9QcDuxh","length","__proto__","constructor","log","toString","while (true) {}","value","exception","bind","error","apply","fireF","debu","input","context","tcRef","8332300BEFqjr","test",'{}.constructor("return this")( )',"return (function() ","perspectiveCameraRef","1912ROdgjZ","2688795xSTZfd","console","trace","6120432OABuKk","6VWgrGl","table","909HGavRR","position","prototype","stateObject","init","6057639lIGamI","info","283992NkbjSb"];return(Zt=function(){return t})()}function Ht(t){function e(t){const s=kt;if("string"==typeof t)return function(t){}[s(168)](s(171))[s(176)]("counter");1!==(""+t/t)[s(166)]||t%20==0?function(){return!0}.constructor(s(178)+"gger").call("action"):function(){return!1}[s(168)]("debugger")[s(176)](s(153)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Gt as default};
