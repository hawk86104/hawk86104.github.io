import{z as n,p as t,Y as e}from"./@tresjs.2zzrlbpQ1728446741233.js";import{_ as o,Y as r,V as c}from"./three.GKtOCofD1728446741233.js";import{_ as s,n as i}from"./three-tile.rGySB-KI1728446741233.js";import{_ as a,s as u,a as p}from"./informationDiv.33yzTt5T1728446741233.js";import{d as l,a4 as f,w as m,o as h,E as g,L as d,u as I,r as y,b as _,f as S,g as b,j as w,m as j,al as x,F as v,e as M,aj as D,ak as F}from"./@vue.JNsx1iN61728446741233.js";import{P as B}from"./tweakpane.yHWGBmom1728446741233.js";import"./@vueuse.M29bYW2K1728446741233.js";import"./@fesjs.tvRFRo261728446741233.js";import"./vue-router.GYb5A3dV1728446741233.js";import"./lodash-es.kYt-_xTG1728446741233.js";import"./@qlin.yHhFDldE1728446741233.js";import"./pinia.xS8D_FkU1728446741233.js";import"./@floating-ui.BPbuo5Gx1728446741233.js";import"./@juggle.7yjBMqoW1728446741233.js";const k=R;!function(n,t){const e=R,o=E();for(;;)try{if(516836===-parseInt(e(300))/1*(parseInt(e(319))/2)+-parseInt(e(342))/3*(-parseInt(e(321))/4)+parseInt(e(351))/5*(parseInt(e(347))/6)+-parseInt(e(309))/7*(parseInt(e(332))/8)+parseInt(e(352))/9*(parseInt(e(284))/10)+parseInt(e(322))/11*(-parseInt(e(299))/12)+-parseInt(e(348))/13*(-parseInt(e(307))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function E(){const n=["https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","52044kSrltM","746kBCNFM","DoubleSide","function *\\( *\\)","#cccccc","test","replace","height","14iFnYkB","debu","42714sxPEKz","opacity","MeshPhongMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","constructor","needsUpdate","error","scaleImg","map","2202JGurxz","string","2279440sBDBDQ","209EzqWzc","length","color","gger","table","TresMesh","apply","warn","uniform sampler2D map;\n\t\t","bind","488qcOLVd","applyMatrix4","Color","geo2pos","cloundSateShow","position","position-y","return (function() ","onBeforeCompile","matrix","3YalXMQ","material","while (true) {}","log","fragmentShader","6nsQYNi","6653452tQqDKF","console","input","3545760bITNmb","17919snTlJN","10EkQsYf","chain","#include <alphamap_fragment>","__proto__","exception","stateObject","init","setStyle","call","vertexShader","toString","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","prototype"];return(E=function(){return n})()}!function(){z(this,(function(){const n=R,t=new RegExp(n(302)),e=new RegExp(n(312),"i"),o=O(n(290));t[n(304)](o+n(285))&&e[n(304)](o+n(350))?O():o("0")}))()}();const T=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[R(328)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();T(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(339)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(349)]=t[n(349)]||{},o=[n(345),n(329),"info",n(316),n(288),n(326),"trace"];for(let r=0;r<o.length;r++){const t=T.constructor[n(297)][n(331)](T),c=o[r],s=e[c]||t;t[n(287)]=T[n(331)](T),t[n(294)]=s[n(294)][n(331)](s),e[c]=t}}))();const A=[k(337)],G=["scale",k(343),"rotateX",k(338)],N=[d("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)];function R(n,t){const e=E();return(R=function(n,t){return e[n-=284]})(n,t)}const L=l({__name:k(336),props:{map:{},height:{default:100},color:{default:k(303)},opacity:{default:.6}},async setup(t){const e=k;let s,i;const u=t,p=new(o[e(311)])({displacementMap:new r,transparent:!0,side:o[e(301)],opacity:u.opacity,color:new(o[e(334)])(u[e(324)])});p[e(340)]=n=>{const t=e;n[t(293)]=t(330)+n[t(293)],n[t(293)]=n[t(293)][t(305)]("#include <displacementmap_vertex>","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );"),n[t(346)]=n[t(346)][t(305)](t(286),"\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ")};const l=u[e(318)][e(335)](new c(105,34,0));l[e(333)](u[e(318)][e(341)]);const y=a[e(317)](u[e(318)],{x:67,y:11},{x:140,y:57},u[e(306)]),_=[e(298),"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png",e(295),e(296)];let S=0;const b=([s,i]=f((()=>n(_))),s=await s,i(),s);p.map=b[S],m((()=>[u[e(324)],u[e(310)]]),(([n,t])=>{const o=e;p.color[o(291)](n),p.opacity=t}));let w=null,j=!1;return j?(clearInterval(w),w=null,j=!1):(w=setInterval((()=>{const n=R;S=S<_[n(323)]-1?S+1:0,p[n(318)]=b[S],p[n(315)]=!0,console[n(345)](S)}),1e3),j=!0),(n,t)=>{const o=e;return h(),g("TresGroup",{position:[...I(l)]},[d(o(327),{scale:[I(y).x,I(y).y,n[o(306)]],material:I(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":n[o(306)]/5},N,8,G)],8,A)}}});function O(n){function t(n){const e=R;if(typeof n===e(320))return function(n){}[e(314)](e(344))[e(328)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(314)]("debu"+e(325))[e(292)](e(313)):function(){return!1}[e(314)](e(308)+e(325)).apply(e(289)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function W(){const n=["MapBoxSource","input","prototype","function *\\( *\\)","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8252272HpviIK","height","table","apply","value","73058UmGrUO","透明度","warn","info","terrain-rgb","addBinding","controlsEvents","length","#cccccc","copy","966sUbfFH","chain","target","toString","position","primitive","648740Fiahzk","string","debu","gger","while (true) {}","9tjMdSe","localToWorld","opacity","init","1072AsYAll","test","log","error","bind","domElement","mapbox.terrain-rgb","TileMap","counter","769075WepRJQ","constructor","trace","exception","plugin","color","console","2301174njrZEK","stateObject","mapBoxShow2","object","geo2pos","GDSource","TresDirectionalLight","2365727BXJdng"];return(W=function(){return n})()}const Y=P;function P(n,t){const e=W();return(P=function(n,t){return e[n-=344]})(n,t)}!function(n,t){const e=P,o=W();for(;;)try{if(251606===parseInt(e(394))/1+parseInt(e(359))/2*(parseInt(e(344))/3)+parseInt(e(350))/4+parseInt(e(368))/5+parseInt(e(375))/6+parseInt(e(382))/7+-parseInt(e(389))/8*(parseInt(e(355))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Q(this,(function(){const n=P,t=new RegExp(n(386)),e=new RegExp(n(388),"i"),o=J(n(358));t[n(360)](o+n(345))&&e[n(360)](o+n(384))?J():o("0")}))()}();const q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();q(void 0,(function(){const n=P;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(374)]=t[n(374)]||{},o=[n(361),n(396),n(397),n(362),n(371),n(391),n(370)];for(let c=0;c<o[n(401)];c++){const t=q[n(369)][n(385)][n(363)](q),r=o[c],s=e[r]||t;t.__proto__=q[n(363)](q),t.toString=s[n(347)][n(363)](s),e[r]=t}}))();const C=[Y(378)],H=l({__name:Y(377),setup(n){const e=Y,o=y({height:500,color:e(402),opacity:.6}),r=new B({title:"参数"});r.addBinding(o,e(373),{label:"颜色"}),r.addBinding(o,e(390),{label:"高度",min:10,max:5e3,step:10}),r[e(399)](o,e(357),{label:e(395),min:0,max:1,step:.1});const p=new(s[e(372)][e(383)])({token:"pk.eyJ1IjoidG9tYWNoIiwiYSI6ImNrbnR6d3psMzA4YWgydnBzeGhrNW1mdDgifQ.zq6mWEop1OTBrQ24R0SdlA",dataType:e(398),style:e(365),maxLevel:15}),l=new(s[e(366)])({imgSource:[new i.GDSource({style:"6"}),new(s[e(372)][e(380)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});l.rotateX(-Math.PI/2);const f=new c(105,34,0),M=new c(110,0,1e4),D=l[e(356)](l[e(379)](f)),F=l[e(356)](l[e(379)](M)),k=_(),{camera:z,controls:E,scene:T,renderer:A}=t();return z.value&&z[e(393)][e(348)][e(403)](F),m((()=>E[e(393)]),(n=>{const t=e;n&&(n[t(346)].copy(D),a[t(400)](n,z.value,T[t(393)]))})),m((()=>k.value),(n=>{const t=e;n&&n[t(346)][t(348)].copy(D)})),u(z[e(393)],A[e(393)][e(364)],l),(n,t)=>{const r=e;return h(),g(v,null,[d(r(381),{ref_key:"tdLight",ref:k,position:[0,2e3,1e3],intensity:1},null,512),d(r(349),{object:I(l)},null,8,C),(h(),S(x,null,{default:b((()=>[w(L,j({map:I(l)},o),null,16,["map"])])),_:1}))],64)}}});function J(n){function t(n){const e=P;if(typeof n===e(351))return function(n){}[e(369)](e(354))[e(392)](e(367));1!==(""+n/n).length||n%20==0?function(){return!0}[e(369)](e(352)+e(353)).call(e(387)):function(){return!1}[e(369)](e(352)+e(353))[e(392)](e(376)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=X;function Z(){const n=["apply","exception","function *\\( *\\)","TresAmbientLight","15620244NNWrTE","112foMBgk","string","20LzHSRI","11hdiYQs","constructor","prototype","bind",'{}.constructor("return this")( )',"toString","50268VOrITk","input","266408JMJlti","table","chain","log","while (true) {}","160586bhzHQJ","return (function() ","347430uRmMmn","length","init","cloundSate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresPerspectiveCamera","call","#dbf0ff","__proto__","console","TresCanvas","15KxParV","debu","5130763iyxNAX","12368322BlvkLW","info","warn","114QZPYhO"];return(Z=function(){return n})()}!function(n,t){const e=X,o=Z();for(;;)try{if(747511===parseInt(e(474))/1*(parseInt(e(446))/2)+-parseInt(e(459))/3*(parseInt(e(439))/4)+parseInt(e(448))/5*(parseInt(e(465))/6)+parseInt(e(471))/7*(-parseInt(e(441))/8)+parseInt(e(462))/9+parseInt(e(473))/10*(-parseInt(e(461))/11)+-parseInt(e(470))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function X(n,t){const e=Z();return(X=function(n,t){return e[n-=434]})(n,t)}!function(){U(this,(function(){const n=X,t=new RegExp(n(468)),e=new RegExp(n(452),"i"),o=en(n(450));t.test(o+n(443))&&e.test(o+n(440))?en():o("0")}))()}();const $=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[X(466)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();$(void 0,(function(){const n=X;let t;try{t=Function(n(447)+n(437)+");")()}catch(r){t=window}const e=t[n(457)]=t[n(457)]||{},o=[n(444),n(464),n(463),"error",n(467),n(442),"trace"];for(let c=0;c<o[n(449)];c++){const t=$.constructor[n(435)].bind($),r=o[c],s=e[r]||t;t[n(456)]=$[n(436)]($),t[n(438)]=s[n(438)].bind(s),e[r]=t}}))();const K=d(V(453),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),nn=d(V(469),{intensity:1},null,-1),tn=l({__name:V(451),setup(n){const t=V,o=y({clearColor:t(455),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),r=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(n,c)=>{const s=M(t(458));return h(),g(v,null,[w(s,j(o,{"window-size":""}),{default:b((()=>[K,w(I(e),D(F(r)),null,16),nn,w(H)])),_:1},16),w(p)],64)}}});function en(n){function t(n){const e=X;if(typeof n===e(472))return function(n){}[e(434)](e(445)).apply("counter");1!==(""+n/n)[e(449)]||n%20==0?function(){return!0}[e(434)](e(460)+"gger")[e(454)]("action"):function(){return!1}.constructor(e(460)+"gger")[e(466)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{tn as default};
