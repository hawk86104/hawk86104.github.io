import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.qmCJ68Vp1722409645193.js";import{x as s,a6 as i,C as a,V as c,aL as l}from"./three.6E5muTWJ1722409645193.js";import{P as u}from"./tweakpane.yHWGBmom1722409645193.js";import{L as f}from"./three-subdivide.xCXijnO41722409645193.js";import{d as p,b as d,a1 as h,w as m,o as g,D as v,J as y,aj as b,ak as w,a4 as M,r as _,e as I,f as x,g as B,j as T,u as S,m as j}from"./@vue.9bHx4gg21722409645193.js";import"./@vueuse.NFOCyQQL1722409645193.js";const C=A;!function(n,t){const e=A,r=V();for(;;)try{if(111251===parseInt(e(312))/1+parseInt(e(270))/2+parseInt(e(314))/3+parseInt(e(261))/4*(-parseInt(e(313))/5)+-parseInt(e(283))/6+parseInt(e(310))/7*(parseInt(e(278))/8)+-parseInt(e(282))/9*(parseInt(e(288))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[A(301)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function A(n,t){const e=V();return(A=function(n,t){return e[n-=259]})(n,t)}!function(){k(this,(function(){const n=A,t=new RegExp(n(302)),e=new RegExp(n(259),"i"),r=N("init");t.test(r+n(298))&&e[n(291)](r+"input")?N():r("0")}))()}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function V(){const n=["clone","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","100360HCdEXw","action","srcMesh","position","blending","counter","return (function() ","value","8lXORlD",'{}.constructor("return this")( )',"AdditiveBlending","stateObject","36kIQGPf","848832bPZoiU","toString","console","color","copy","460960AjblBf","TSGref","bind","test","side","log","length","subVectors","shineShader","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","chain","TresShaderMaterial","constructor","apply","function *\\( *\\)","gger","debu","glowColor","Color","table","material","call","1542121DFjOnn","info","71261cUGZwl","400ysVLdk","520329lMJPww","modify","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uniforms","3904wFeHOW","__proto__","geometry","trace","scale","warn","subdivision"];return(V=function(){return n})()}z(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function(n(276)+n(279)+");")()}catch(e){t=window}return t}(),e=t[n(285)]=t.console||{},r=[n(293),n(266),n(311),"error","exception",n(307),n(264)];for(let o=0;o<r.length;o++){const t=z.constructor.prototype[n(290)](z),s=r[o],i=e[s]||t;t[n(262)]=z[n(290)](z),t[n(284)]=i[n(284)][n(290)](i),e[s]=t}}))();const F=[C(265)],G=p({__name:C(296),props:{srcMesh:{},scale:{default:1.2},color:{default:"#ffff00"},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s},blending:{default:i[C(280)]}},setup(e){const r=C,o=e,s=d(),l={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new a(o[r(286)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(297),fragmentShader:r(269),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(274)]};h((()=>{const n=r;if(o[n(272)]&&!s[n(277)].geometry.attributes[n(273)]){let t=o.srcMesh[n(263)][n(268)]();o[n(267)]&&(t=f.modify(t,2)),s[n(277)][n(263)]=t,s[n(277)][n(273)][n(287)](o[n(272)][n(273)])}o[n(286)]&&(l[n(260)][n(305)][n(277)]=new(i[n(306)])(o[n(286)])),o.c&&(l[n(260)].c[n(277)]=o.c),o.p&&(l.uniforms.p[n(277)]=o.p)})),m((()=>o.subdivision),(n=>{const t=r;let e=o[t(272)][t(263)][t(268)]();n&&(e=f[t(315)](e,2)),s[t(277)][t(263)]=e})),m((()=>o.side),(n=>{const t=r;s[t(277)][t(308)][t(292)]=n})),m((()=>o[r(274)]),(n=>{const t=r;s.value[t(308)].blending=n}));const{onLoop:u}=n(),{camera:p}=t();return u((()=>{const n=r;p[n(277)]&&s[n(277)]&&(l[n(260)].viewVector[n(277)]=(new c)[n(295)](p.value[n(273)],s[n(277)][n(273)]))})),(n,t)=>{const e=r;return g(),v("TresMesh",{ref_key:e(289),ref:s,scale:o.scale},[y(e(299),b(w(l)),null,16)],8,F)}}});function N(n){function t(n){const e=A;if("string"==typeof n)return function(n){}[e(300)]("while (true) {}").apply(e(275));1!==(""+n/n)[e(294)]||n%20==0?function(){return!0}[e(300)]("debu"+e(303))[e(309)](e(271)):function(){return!1}[e(300)](e(304)+e(303))[e(301)](e(281)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const O=D;!function(n,t){const e=D,r=J();for(;;)try{if(870268===parseInt(e(356))/1*(-parseInt(e(322))/2)+-parseInt(e(315))/3+-parseInt(e(347))/4*(-parseInt(e(299))/5)+-parseInt(e(323))/6+-parseInt(e(303))/7+-parseInt(e(352))/8*(parseInt(e(301))/9)+-parseInt(e(331))/10*(-parseInt(e(318))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(320)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function D(n,t){const e=J();return(D=function(n,t){return e[n-=299]})(n,t)}!function(){R(this,(function(){const n=D,t=new RegExp(n(310)),e=new RegExp(n(329),"i"),r=Y(n(361));t.test(r+n(357))&&e[n(306)](r+n(333))?Y():r("0")}))()}();const P=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[D(320)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();P(void 0,(function(){const n=D;let t;try{t=Function(n(340)+n(335)+");")()}catch(o){t=window}const e=t[n(351)]=t[n(351)]||{},r=[n(327),n(317),"info",n(362),n(332),n(363),n(345)];for(let s=0;s<r[n(338)];s++){const t=P[n(339)][n(355)][n(313)](P),o=r[s],i=e[o]||t;t[n(305)]=P[n(313)](P),t[n(325)]=i[n(325)][n(313)](i),e[o]=t}}))();const E=y(O(354),{position:[5,5,5]},null,-1),L=y(O(350),{intensity:1},null,-1),Z=y(O(341),{args:[10,10]},null,-1),U=y(O(358),{args:[1,32,16]},null,-1),$=["map"],H=["map"],W=[y("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),y(O(360),{color:"#0ff"},null,-1)],X=p({__name:O(344),async setup(n){const t=O;let s,a;const c={clearColor:t(342)},f=d(),p=d(),h=d(),m=([s,a]=M((()=>o(["./plugins/earthSample/image/earthA/earth.jpg","logo.png"]))),s=await s,a(),s),v=_({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(308)],blending:l}),b=new u({title:"参数",expanded:!0});return b.addBinding(v,t(359),{label:"颜色"}),b[t(302)](v,"scale",{label:"大小",min:1,max:3,step:.2}),b[t(302)](v,t(304),{label:t(314)}),b[t(302)](v,"c",{label:"c",min:0,max:2,step:.1}),b[t(302)](v,"p",{label:"p",min:0,max:8,step:.2}),b[t(302)](v,t(349),{options:{FrontSide:i[t(308)],BackSide:i[t(319)],DoubleSide:i[t(324)]}}),b.addBinding(v,t(307),{options:{AdditiveBlending:i[t(348)],NormalBlending:i[t(300)]}}),(n,o)=>{const s=t,i=I(s(346));return g(),x(i,j(c,{"window-size":""}),{default:B((()=>[E,L,T(S(e)),Z,y("TresMesh",{ref_key:s(343),ref:f,position:[-2,1,0]},[U,y("TresMeshBasicMaterial",{map:S(m)[0]},null,8,$)],512),T(G,j({srcMesh:f[s(337)]},v),null,16,[s(326)]),T(S(r),{ref_key:s(309),ref:h,args:[1,1,1],position:[2,1,0]},{default:B((()=>[y("TresMeshBasicMaterial",{map:S(m)[1]},null,8,H)])),_:1},512),T(G,j({srcMesh:h[s(337)]&&h.value[s(337)]},v),null,16,["srcMesh"]),y(s(321),{ref_key:s(353),ref:p,position:[0,1,-2]},W,512),T(G,j({srcMesh:p.value},v),null,16,[s(326)])])),_:1},16)}}});function J(){const n=["771612FwzMmC","DoubleSide","toString","srcMesh","log","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","23110VASPbW","exception","input","call",'{}.constructor("return this")( )',"action","value","length","constructor","return (function() ","TresGridHelper","#222","TresMeshRefA","shader","trace","TresCanvas","299316iaSyGE","AdditiveBlending","side","TresAmbientLight","console","3184016kWnhBh","TresMeshRefB","TresPerspectiveCamera","prototype","2040HGVcaz","chain","TresSphereGeometry","color","TresMeshBasicMaterial","init","error","table","85nXiaDw","NormalBlending","36YdOaKU","addBinding","9736349MVOIDd","subdivision","__proto__","test","blending","FrontSide","TreBoxRef","function *\\( *\\)","gger","counter","bind","边缘处理","2342133OChbdz","stateObject","warn","24343UxGYLT","BackSide","apply","TresMesh","1592NCxFUC"];return(J=function(){return n})()}function Y(n){function t(n){const e=D;if(typeof n===e(328))return function(n){}.constructor("while (true) {}").apply(e(312));1!==(""+n/n)[e(338)]||n%20==0?function(){return!0}.constructor(e(330)+e(311))[e(334)](e(336)):function(){return!1}[e(339)]("debu"+e(311))[e(320)](e(316)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{X as default};
