var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.zu86ju0c1739442316051.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.yYVd8oDx1739442316051.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.ZJEBctPC1739442316051.js";import{V as o,U as s,C as l,l as c,W as p,aU as u,a as f,_ as x,A as v,b as m,ar as w}from"./three.OosFxi571739442316051.js";import{m as h,e as g}from"./@tresjs.4XV_x0mI1739442316051.js";import{u as d}from"./index.MAqtmckJ1739442316051.js";import{F as y,C as S}from"./three-stdlib.5JCQavfA1739442316051.js";import{d as P}from"./@vue.NRI7TcgI1739442316051.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.HGLG62Bn1739442316051.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.UakOeyq-1739442316051.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.0qTa8EUW1739442316051.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.WaK7yJQx1739442316051.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.uyvKW9zA1739442316051.js";function _(){const t=["init","length","chain","bind","return (function() ","890072wxKBIn","log","info","45FjjUTq","5123520xXlPRP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","10WYhpCv","test","string","1302410DSdUWM","2VzNGOu","1654278OKrOrS","exception","421266qQWJTw","function *\\( *\\)","27176039tSWMgu",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"console","action","constructor","prototype","21wAJzSS","error","debu","stateObject","toString","gger","1573259rmpSqH","apply"];return(_=function(){return t})()}const z=b;function b(t,e){const n=_();return(b=function(t,e){return n[t-=427]})(t,e)}!function(t,e){const n=b,i=_();for(;;)try{if(859574===parseInt(n(445))/1+parseInt(n(428))/2*(-parseInt(n(429))/3)+parseInt(n(456))/4+parseInt(n(427))/5+-parseInt(n(431))/6*(-parseInt(n(439))/7)+-parseInt(n(452))/8*(-parseInt(n(455))/9)+parseInt(n(459))/10*(-parseInt(n(433))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(446)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){I(this,(function(){const t=b,e=new RegExp(t(432)),n=new RegExp(t(457),"i"),i=E(t(447));e[t(460)](i+t(449))&&n[t(460)](i+"input")?E():i("0")}))()}();const M=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[b(446)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();M(void 0,(function(){const t=b;let e;try{e=Function(t(451)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(435)]=e.console||{},i=[t(453),"warn",t(454),t(440),t(430),"table","trace"];for(let a=0;a<i[t(448)];a++){const e=M[t(437)][t(438)].bind(M),r=i[a],o=n[r]||e;e.__proto__=M[t(450)](M),e[t(443)]=o[t(443)].bind(o),n[r]=e}}))();const A=z(434);function E(t){function e(t){const n=b;if(typeof t===n(461))return function(t){}[n(437)]("while (true) {}")[n(446)](n(458));1!==(""+t/t).length||t%20==0?function(){return!0}[n(437)]("debu"+n(444)).call(n(436)):function(){return!1}[n(437)](n(441)+n(444))[n(446)](n(442)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const L=j;!function(t,e){const n=j,i=O();for(;;)try{if(533612===parseInt(n(217))/1*(parseInt(n(195))/2)+-parseInt(n(209))/3*(-parseInt(n(207))/4)+-parseInt(n(218))/5+parseInt(n(203))/6*(parseInt(n(200))/7)+-parseInt(n(201))/8+parseInt(n(198))/9+parseInt(n(219))/10*(parseInt(n(184))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){D(this,(function(){const t=j,e=new RegExp(t(190)),n=new RegExp(t(194),"i"),i=R(t(214));e.test(i+t(196))&&n[t(189)](i+t(199))?R():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function O(){const t=["input","12838ujWGJp","4215336pWRIOo","string","2226CDteUl","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","console","constructor","124sZlXRQ","exception","30597cfrLOF","gger","clone",'{}.constructor("return this")( )',"counter","init","apply","defines","254TjmiSf","3574400vsALBe","63010uCXnKI","prototype","return (function() ","toString","length","bind","671uXXtJT","table","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","debu","action","test","function *\\( *\\)","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","uniforms","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1990appiCW","chain","warn","1275615LeUpBd"];return(O=function(){return t})()}function j(t,e){const n=O();return(j=function(t,e){return n[t-=180]})(t,e)}function T(t){const e=j,n=a({},t);return e(216)in t&&(n[e(216)]=a({},t[e(216)])),"uniforms"in t&&(n[e(192)]=s[e(211)](t[e(192)])),n}U(void 0,(function(){const t=j;let e;try{e=Function(t(180)+t(212)+");")()}catch(r){e=window}const n=e[t(205)]=e.console||{},i=["log",t(197),"info","error",t(208),t(185),"trace"];for(let a=0;a<i[t(182)];a++){const e=U[t(206)][t(220)][t(183)](U),r=i[a],o=n[r]||e;e.__proto__=U[t(183)](U),e[t(181)]=o[t(181)][t(183)](o),n[r]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:L(191),fragmentShader:L(204)+A+L(186)};function R(t){function e(t){const n=j;if(typeof t===n(202))return function(t){}.constructor("while (true) {}")[n(215)](n(213));1!==(""+t/t).length||t%20==0?function(){return!0}[n(206)](n(187)+n(210)).call(n(188)):function(){return!1}.constructor("debu"+n(210))[n(215)](n(193)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const W=X;!function(t,e){const n=X,i=Q();for(;;)try{if(732112===parseInt(n(204))/1*(parseInt(n(165))/2)+-parseInt(n(205))/3+-parseInt(n(177))/4*(-parseInt(n(185))/5)+parseInt(n(187))/6+-parseInt(n(138))/7+-parseInt(n(180))/8*(-parseInt(n(157))/9)+parseInt(n(189))/10*(parseInt(n(137))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const C=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[X(188)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){C(this,(function(){const t=X,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(145),"i"),i=G(t(139));e[t(199)](i+"chain")&&n[t(199)](i+t(174))?G():i("0")}))()}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Q(){const t=["trace","autoClear","texture","parentLevel","render","gger","_copyQuad","stateObject","input","string","uniforms","4XoPRMr","minFilter","getClearColor","979144hnwIie","debu","map","camera","height","7049680YQbMjh","Y_IS_EVEN","360348LQgVeh","apply","98650ydoGdm","image","_mipQuad","constructor","action","_mipMaterials","floor","material","X_IS_EVEN","fragmentShader","test","floorPowerOfTwo","value","setRenderTarget","clear","1913zRmWmn","4303602QdtbrQ","forEach","isWebGLRenderTarget","copy","table","replace","originalMapSize","console","return (function() ","187QJuoPG","8868517UJocwY","init","exception","warn","info","_swapTarget","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","setClearAlpha","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t",'{}.constructor("return this")( )',"defines","type","toString","set","__proto__","update","setSize","width","99RHwEcw","log","bind","setViewOffset","setClearColor","call","while (true) {}","dispose","470bADcCL"];return(Q=function(){return t})()}N(void 0,(function(){const t=X;let e;try{e=Function(t(136)+t(148)+");")()}catch(r){e=window}const n=e[t(135)]=e[t(135)]||{},i=[t(158),t(141),t(142),"error",t(140),t(209),t(166)];for(let a=0;a<i[t(144)];a++){const e=N[t(192)].prototype[t(159)](N),r=i[a],o=n[r]||e;e[t(153)]=N.bind(N),e[t(151)]=o[t(151)].bind(o),n[r]=e}}))();const k=new l;class F{constructor(t){const e=X;!t&&(t=e(147));const n=T(V);n.fragmentShader=n[e(198)][e(133)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0][e(149)].X_IS_EVEN=0,i[0][e(149)][e(186)]=0,i[1]=new c(T(n)),i[1][e(149)][e(197)]=1,i[1][e(149)][e(186)]=0,i[2]=new c(T(n)),i[2].defines[e(197)]=0,i[2][e(149)][e(186)]=1,i[3]=new c(T(n)),i[3].defines[e(197)]=1,i[3][e(149)][e(186)]=1;const r=new p;r.texture[e(178)]=u,r[e(168)].magFilter=u,this[e(143)]=r,this[e(172)]=new y(new c(S)),this._mipQuad=new y(null),this[e(194)]=i}[W(154)](t,e,n,i=!1){const r=W;t[r(207)]&&(t=t[r(168)]);const o=n[r(167)],s=n.getClearAlpha(),l=n.getRenderTarget();n[r(179)](k);const c=this[r(172)],p=this[r(191)],u=this[r(143)],x=this._mipMaterials;let v,m;i?(v=f.floorPowerOfTwo(t[r(190)][r(156)]),m=f[r(200)](t[r(190)][r(184)])):(v=Math[r(195)](t[r(190)][r(156)]),m=Math[r(195)](t[r(190)][r(184)]));const w=Math.floor(1.5*v),h=Math[r(195)](m);e[r(155)](w,h),u[r(168)].type!==e.texture[r(150)]?(u[r(164)](),u[r(208)](e),u[r(168)][r(190)]=a({},u[r(168)][r(190)])):u[r(155)](w,h),n[r(167)]=!1,n[r(161)](0),n.setClearAlpha(),c.material[r(176)].tDiffuse[r(201)]=t,c.camera.setViewOffset(v,m,0,0,w,h),n[r(202)](e),n[r(203)](),c[r(170)](n),n.setRenderTarget(u),n[r(203)](),c[r(170)](n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(176)][r(182)][r(201)]=u[r(168)],t[r(176)][r(169)][r(201)]=y,t[r(176)].parentMapSize[r(201)][r(152)](g,d),t[r(176)][r(134)][r(201)][r(152)](v,m),p[r(196)]=t,g=Math[r(195)](g/2),d=Math[r(195)](d/2);const i=h-2*d;n[r(202)](e),p[r(183)][r(160)](g,d,-v,-i,w,h),p[r(170)](n),n[r(202)](u),t[r(176)][r(182)][r(201)]=e[r(168)],p[r(170)](n),y++}return n[r(202)](l),n[r(146)](s),n[r(161)](k),n[r(167)]=o,y+1}[W(164)](){const t=W;this[t(143)][t(164)](),this._mipQuad.dispose(),this._copyQuad[t(164)](),this[t(194)][t(206)]((e=>e[t(164)]()))}}function X(t,e){const n=Q();return(X=function(t,e){return n[t-=133]})(t,e)}function G(t){function e(t){const n=X;if(typeof t===n(175))return function(t){}.constructor(n(163)).apply("counter");1!==(""+t/t)[n(144)]||t%20==0?function(){return!0}[n(192)](n(181)+n(171))[n(162)](n(193)):function(){return!1}[n(192)]("debu"+n(171))[n(188)](n(173)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const H=Y;!function(t,e){const n=Y,i=B();for(;;)try{if(626833===-parseInt(n(219))/1*(parseInt(n(264))/2)+-parseInt(n(242))/3*(parseInt(n(197))/4)+-parseInt(n(225))/5*(-parseInt(n(240))/6)+-parseInt(n(218))/7+-parseInt(n(208))/8+parseInt(n(195))/9*(parseInt(n(226))/10)+-parseInt(n(262))/11*(-parseInt(n(244))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function Y(t,e){const n=B();return(Y=function(t,e){return n[t-=188]})(t,e)}!function(){Z(this,(function(){const t=Y,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(207),"i"),i=K(t(237));e[t(202)](i+t(259))&&n[t(202)](i+t(215))?K():i("0")}))()}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Y(233)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function B(){const t=["table","projectionMatrix","set","resolution","multiply","state","bind","console","constant","chain","applyQuaternion","error","33OAQMWB","toString","1402yErNBb","visible","reflectorMipMap","Plane","autoClear","Vector3","dot","warn","exception","getWorldPosition","position","stateObject",'{}.constructor("return this")( )',"318195eIylRT","trace","12btNHNF","PerspectiveCamera","normal","update","counter","test","projectPoint","log","getWorldQuaternion","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6077880mzhuuL","constructor","updateMatrixWorld","forEach","call","elements","setRenderTarget","input","Vector4","parent","2120531zMxAsd","1267NXzoXm","while (true) {}","return (function() ","setMask","Quaternion","ignoreObjects","5RueKPB","10ZGnKCG","texture","string","lookAt","depth","__proto__","copy","apply","debu","UnsignedByteType","clone","init","add","gger","6223566IJhItg","applyMatrix4","103374UzgrTF","negate","6433704lPywns","Matrix4","value","length","reflect","sub"];return(B=function(){return t})()}$(void 0,(function(){const t=Y;let e;try{e=Function(t(221)+t(194)+");")()}catch(r){e=window}const n=e.console=e[t(257)]||{},i=[t(204),t(189),t(206),t(261),t(190),t(250),t(196)];for(let a=0;a<i[t(247)];a++){const e=$[t(209)].prototype[t(256)]($),r=i[a],o=n[r]||e;e[t(231)]=$.bind($),e[t(263)]=o[t(263)][t(256)](o),n[r]=e}}))();const J=P({__name:H(266),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=H,i=t,r=new(x[n(267)]),a=new(x[n(245)]),o=new(x[n(198)]),s=new F,l=d({width:i[n(253)],height:i[n(253)],settings:{type:x[n(235)]}}),c=d({width:i[n(253)],height:i[n(253)],settings:{type:v}}),{camera:p,renderer:u,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!p[t(246)])return;r[t(252)](new(x[t(269)])(0,1,0),0),r[t(241)](i[t(217)].matrixWorld),o[t(232)](p[t(246)]);const e=new m(0,0,1)[t(236)]()[t(243)](),s=p[t(246)][t(191)](new(x[t(269)]));e[t(248)](r[t(199)]);const c=new(x[t(269)]);r[t(203)](s,c);const v=c[t(236)]();v[t(249)](s),v[t(238)](c),o[t(192)].copy(v);const h=new(x[t(269)])(0,0,-1);h[t(260)](p[t(246)][t(205)](new(x[t(223)]))),h[t(238)](s);const g=new m;i[t(217)].getWorldPosition(g),g[t(249)](h),g[t(248)](r[t(199)])[t(243)](),g[t(238)](i[t(217)][t(191)](new(x[t(269)]))),o.up[t(252)](0,1,0),o[t(260)](p[t(246)].getWorldQuaternion(new(x[t(223)]))),o.up[t(248)](r[t(199)]),o[t(229)](g),o[t(210)]();const d=new(x[t(245)]);d[t(252)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(254)](o.projectionMatrix),d[t(254)](o.matrixWorldInverse),a[t(232)](d),r.applyMatrix4(o.matrixWorldInverse);const y=new w(r[t(199)].x,r[t(199)].y,r[t(199)].z,r[t(258)]),S=o[t(251)],P=new(x[t(216)]);P.x=(Math.sign(y.x)+S[t(213)][8])/S[t(213)][0],P.y=(Math.sign(y.y)+S[t(213)][9])/S.elements[5],P.z=-1,P.w=(1+S[t(213)][10])/S.elements[14],y.multiplyScalar(2/y[t(188)](P)),S.elements[2]=y.x,S[t(213)][6]=y.y,S[t(213)][10]=y.z+1,S.elements[14]=y.w;const _=u[t(246)].getRenderTarget();u[t(246)][t(214)](l[t(246)]),u[t(246)][t(255)].buffers[t(230)][t(222)](!0),!1===u.value[t(268)]&&u[t(246)].clear(),i[t(224)][t(211)]((e=>e[t(265)]=!1)),u[t(246)].render(f[t(246)],o),i[t(224)][t(211)]((e=>e[t(265)]=!0)),u[t(246)][t(214)](_)})(),l.value&&c[t(246)]&&u.value&&s[t(200)](l[t(246)][t(227)],c[t(246)],u.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function K(t){function e(t){const n=Y;if(typeof t===n(228))return function(t){}[n(209)](n(220))[n(233)](n(201));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(234)+"gger")[n(212)]("action"):function(){return!1}[n(209)](n(234)+n(239))[n(233)](n(193)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=nt,i=et();;)try{if(887295===-parseInt(n(315))/1*(-parseInt(n(339))/2)+-parseInt(n(322))/3*(parseInt(n(331))/4)+-parseInt(n(314))/5*(-parseInt(n(323))/6)+-parseInt(n(319))/7+-parseInt(n(318))/8+parseInt(n(330))/9+-parseInt(n(324))/10*(-parseInt(n(316))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(342)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){var t=nt,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=it(t(312));e[t(344)](i+t(333))&&n[t(344)](i+"input")?it():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(342)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(){var t=["warn","gger","log","771370cmmVUr","exception","string","apply","call","test","toString","bind","info","init","table","468235jPrlbk","3JYSoCI","11aAErDR","while (true) {}","5294408GGYgOw","4926215xeCKZK","action","trace","3341829AgCdEu","60zgVQKE","967970NuXWOf","stateObject","error","return (function() ","length","constructor","10588158GDhabW","4JBhvjE","__proto__","chain","console","debu"];return(et=function(){return t})()}function nt(t,e){var n=et();return(nt=function(t,e){return n[t-=310]})(t,e)}function it(t){function e(t){var n=nt;if(typeof t===n(341))return function(t){}.constructor(n(317))[n(342)]("counter");1!==(""+t/t)[n(328)]||t%20==0?function(){return!0}[n(329)](n(335)+n(337))[n(343)](n(320)):function(){return!1}[n(329)](n(335)+n(337))[n(342)](n(325)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){var t,e=nt;try{t=Function(e(327)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t.console=t[e(334)]||{},i=[e(338),e(336),e(311),e(326),e(340),e(313),e(321)],r=0;r<i[e(328)];r++){var a=tt.constructor.prototype[e(310)](tt),o=i[r],s=n[o]||a;a[e(332)]=tt[e(310)](tt),a[e(345)]=s[e(345)][e(310)](s),n[o]=a}}))();export{J as _};
