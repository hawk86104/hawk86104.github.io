import{c as t,B as n,l as e,ca as r,C as o,V as s,ab as i}from"./three.2wx8FU0g1743660816268.js";import{z as c}from"./@fesjs.9AUNBPBQ1743660816268.js";import{a}from"./@tresjs.zc7faK4J1743660816268.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.HGLjHqG91743660816268.js";!function(t,n){const e=w,r=m();for(;;)try{if(339334===-parseInt(e(496))/1+parseInt(e(471))/2+-parseInt(e(463))/3*(parseInt(e(483))/4)+parseInt(e(456))/5+parseInt(e(509))/6*(parseInt(e(479))/7)+parseInt(e(490))/8+parseInt(e(442))/9*(-parseInt(e(443))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=w,n=new RegExp(t(478)),e=new RegExp(t(468),"i"),r=_("init");n[t(484)](r+t(503))&&e[t(484)](r+t(493))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function m(){const t=["setY","computeBoundingBox","getSize","value","exception","setFromObject","Box3","sub","261297oYdJAL","220OhAXZu","copy","geometry","gger","info","transparent","position","bind","toString","while (true) {}","add","material","then","1803130eFajRN","__proto__","min","getY","#fff","trace","apply","132ibDJur","count","getX","Vector3","push","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","attributes","223002ZGYFSL",'{}.constructor("return this")( )',"getCenter","clone","negate","console","applyMatrix4","function *\\( *\\)","35dDrkAl","uniforms","constructor","length","5532VlNwAW","test","prototype","boundingBox","call","log","table","3327416XgTAKN","random","max","input","computeBoundsTree","setAttribute","404337wKXrCE","expandByObject","depthWrite","children","debu","divideScalar","stateObject","chain","depthTest","forEach","json","side","deleteAttribute","666234SqMYUt"];return(m=function(){return t})()}g(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function(t(469)+t(472)+");")()}catch(e){n=window}return n}(),e=n[t(476)]=n[t(476)]||{},r=[t(488),"warn",t(447),"error",t(514),t(489),t(461)];for(let o=0;o<r.length;o++){const n=g[t(481)][t(485)].bind(g),s=r[o],i=e[s]||n;n[t(457)]=g[t(450)](g),n[t(451)]=i.toString.bind(i),e[s]=n}}))();const h=(n,e=!1)=>{const r=w;n[r(511)]();const{max:o,min:s}=n[r(486)];n[r(508)]("uv");const i=o.x-s.x,c=o.y-s.y,a=[];for(let t=0;t<n[r(470)][r(449)][r(464)];t++)e?(a[r(467)]((n[r(470)][r(449)].getX(t)-(s.x+o.x)/2)/i),a.push((n[r(470)][r(449)][r(459)](t)-(s.y+o.y)/2)/c)):(a.push((n[r(470)][r(449)][r(465)](t)-s.x)/i),a[r(467)]((n[r(470)].position.getY(t)-s.y)/c));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=w;c(t,{},{method:"get",mergeRequest:!0,responseType:o(506)})[o(455)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console.error(t),r(t)}))}));function w(t,n){const e=m();return w=function(t,n){return e[t-=440]},w(t,n)}const y=t=>{const n=w,e=(new(THREE[n(440)]))[n(515)](t),r=new(THREE[n(466)]);e[n(473)](r),t[n(499)][n(505)]((t=>{const e=n;t[e(449)][e(441)](r)})),t[n(449)][n(444)](r.negate())},x=()=>{const t=w;n[t(485)][t(494)]=u,n[t(485)].disposeBoundsTree=f,e[t(485)].raycast=p},b=async t=>{const n=w,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(445)][n(474)]();h(c),c[n(494)]();const u=new r(c,{color:new o(n(460)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(454)][n(448)]=!0,u.material[n(498)]=!0,u[n(454)][n(504)]=!0,u.material[n(507)]=i,u[n(454)][n(480)].config[n(513)].w=20,u.material.uniforms.reflectivity[n(513)]=.46,u};function j(t){const n=w,e=[];for(let o=0;o<t[n(482)];o++)e[n(467)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(482)];o++)r[n(453)](e[o]);r[n(501)](e[n(482)]);for(let o=0;o<e[n(482)];o++)e[o][n(441)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=w;if("string"==typeof t)return function(t){}[e(481)](e(452))[e(462)]("counter");1!==(""+t/t)[e(482)]||t%20==0?function(){return!0}[e(481)](e(500)+"gger")[e(487)]("action"):function(){return!1}[e(481)](e(500)+e(446))[e(462)](e(502)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,x as i,d as l,h as r,b as s};
