import{bT as t,_ as n,a3 as r}from"./three.5octV-9b1728467445434.js";import{z as o}from"./@tresjs.ED4ePb8T1728467445434.js";import{d as e,b as a,a4 as s,w as u,o as c,E as i,L as f,aj as l,ak as p}from"./@vue.JNsx1iN61728467445434.js";!function(t,n){const r=g,o=m();for(;;)try{if(687721===parseInt(r(294))/1*(-parseInt(r(291))/2)+parseInt(r(300))/3*(parseInt(r(280))/4)+-parseInt(r(328))/5*(parseInt(r(302))/6)+-parseInt(r(327))/7+parseInt(r(306))/8+parseInt(r(314))/9+-parseInt(r(295))/10*(-parseInt(r(281))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const h=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[g(286)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){h(this,(function(){const t=g,n=new RegExp(t(305)),r=new RegExp(t(316),"i"),o=_(t(317));n[t(299)](o+t(330))&&r.test(o+t(333))?_():o("0")}))()}();const d=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function g(t,n){const r=m();return(g=function(t,n){return r[t-=280]})(t,n)}function m(){const t=["init","\n\t ","ShaderChunk","info","trace",'{}.constructor("return this")( )',"gger","bind","exception","debu","7760865yhRBBD","5715785VCCtdd","shadowmap_vertex","chain","bsdfs","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","input","66680DxTXht","374hWMcob","prototype","common","begin_vertex","return (function() ","apply","shadowmask_pars_fragment","shadowmap_pars_vertex","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","table","2mXLfjK","length","console","1374173bGbCFa","878770REnCUM","\n       varying vec2 vUv;\n\t\t\t \t","constructor","\n       void main() {\n\t\t\t\t\t","test","18ybdCSy","error","6ypHcYG","while (true) {}","beginnormal_vertex","function *\\( *\\)","8398504IOsDlw","string","log","lights_pars_begin","\n          ","warn","packing","\n      \t","1584855aAZDUd","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(m=function(){return t})()}d(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(285)+t(322)+");")()}catch(r){n=window}return n}(),r=n[t(293)]=n[t(293)]||{},o=[t(308),t(311),t(320),t(301),t(325),t(290),t(321)];for(let e=0;e<o[t(292)];e++){const n=d[t(297)][t(282)][t(324)](d),a=o[e],s=r[a]||n;n[t(315)]=d[t(324)](d),n.toString=s.toString[t(324)](s),r[a]=n}}))();const v=()=>{const r=g;return r(296)+t[r(283)]+r(313)+n[r(319)][r(331)]+r(313)+n[r(319)][r(288)]+r(298)+t[r(304)]+r(310)+n[r(319)].defaultnormal_vertex+r(310)+t[r(284)]+r(310)+n[r(319)].project_vertex+r(310)+t.worldpos_vertex+r(310)+n[r(319)][r(329)]+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},w=()=>{const r=g;return r(332)+t[r(283)]+r(318)+n[r(319)][r(312)]+r(318)+n[r(319)][r(331)]+r(318)+t[r(309)]+r(318)+n[r(319)].shadowmap_pars_fragment+"\n\t "+n[r(319)][r(287)]+r(289)};function _(t){function n(t){const r=g;if(typeof t===r(307))return function(t){}.constructor(r(303))[r(286)]("counter");1!==(""+t/t)[r(292)]||t%20==0?function(){return!0}[r(297)](r(326)+"gger").call("action"):function(){return!1}[r(297)]("debu"+r(323))[r(286)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function b(){const t=["Color","uColor","3569585dhLxuN","DoubleSide","while (true) {}","function *\\( *\\)","UniformsLib","189HEWYFM","chain","bind","74796DQVueo","__proto__","args","135016MEgUfT","10220QtVHfO","error","lights","table","fEdge","uShadowColor","6VPYegO","stateObject","UniformsUtils","edge","7695CxsaRK","init","1433180FVZXzB","1044426GVZOnw","TresShaderMaterial","log","constructor","counter","exception","toString","action","TresPlaneGeometry","TresMesh","info","187181BtTPhw","12MJRWZk","trace","return (function() ","input","rotation-x","gger","shadowColor","debu","uniforms","wrapS","test","value","3377jyaRVB","whiteFloorMesh","merge","console","warn","apply","#999","length","color"];return(b=function(){return t})()}const x=C;!function(t,n){const r=C,o=b();for(;;)try{if(640828===parseInt(r(531))/1+parseInt(r(519))/2+parseInt(r(520))/3*(-parseInt(r(532))/4)+parseInt(r(495))/5*(-parseInt(r(513))/6)+parseInt(r(500))/7*(parseInt(r(506))/8)+-parseInt(r(517))/9*(parseInt(r(507))/10)+-parseInt(r(484))/11*(-parseInt(r(503))/12))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const y=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[C(489)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();!function(){y(this,(function(){const t=C,n=new RegExp(t(498)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=T(t(518));n[t(482)](o+t(501))&&r.test(o+t(475))?T():o("0")}))()}();const I=function(){let t=!0;return function(n,r){const o=t?function(){if(r){const t=r[C(489)](n,arguments);return r=null,t}}:function(){};return t=!1,o}}();function C(t,n){const r=b();return(C=function(t,n){return r[t-=475]})(t,n)}I(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function(t(534)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(487)]=n[t(487)]||{},o=[t(522),t(488),t(530),t(508),t(525),t(510),t(533)];for(let e=0;e<o[t(491)];e++){const n=I[t(523)].prototype[t(502)](I),a=o[e],s=r[a]||n;n[t(504)]=I[t(502)](I),n[t(526)]=s[t(526)].bind(s),r[a]=n}}))();const S=[x(476)],j=[x(505)],M=e({__name:x(485),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:x(490)},edge:{default:.35}},async setup(t){const e=x;let h,d;const g=t,m=a(),{map:_}=([h,d]=s((()=>o({map:"./plugins/floor/image/whiteFloor.jpg"}))),h=await h,d(),h);_[e(481)]=_.wrapT=r;const b={uniforms:n[e(515)][e(486)]([n[e(499)][e(509)],{uTexture:{type:"t",value:_},uColor:{value:new(n[e(493)])(g[e(492)])},uShadowColor:{value:new(n[e(493)])(g[e(478)])},fEdge:{type:"f",value:g[e(516)]}}]),side:n[e(496)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return u((()=>g[e(516)]),(t=>{const n=e;b[n(480)][n(511)][n(483)]=t})),u((()=>g[e(492)]),(t=>{const r=e;b[r(480)][r(494)].value=new(n[r(493)])(g[r(492)])})),u((()=>g[e(478)]),(t=>{const r=e;b.uniforms[r(512)][r(483)]=new(n[r(493)])(g[r(478)])})),(t,n)=>{const r=e;return c(),i(r(529),{ref_key:"tmRef",ref:m,"rotation-x":-Math.PI/2},[f(r(528),{args:g.size},null,8,j),f(r(521),l(p(b)),null,16)],8,S)}}});function T(t){function n(t){const r=C;if("string"==typeof t)return function(t){}[r(523)](r(497))[r(489)](r(524));1!==(""+t/t)[r(491)]||t%20==0?function(){return!0}[r(523)]("debu"+r(477)).call(r(527)):function(){return!1}[r(523)](r(479)+r(477)).apply(r(514)),n(++t)}try{if(t)return n;n(0)}catch(r){}}export{M as _};
