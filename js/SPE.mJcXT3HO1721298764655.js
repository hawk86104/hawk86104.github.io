import{a6 as t,a as e,N as i,bR as n,V as o,T as s,j as r,al as a,k as c,C as h}from"./three.0bBjBDi41721298764655.js";const l=d;!function(t,e){const i=d,n=m();for(;;)try{if(275210===parseInt(i(485))/1+parseInt(i(373))/2*(-parseInt(i(326))/3)+parseInt(i(344))/4*(-parseInt(i(276))/5)+-parseInt(i(578))/6+parseInt(i(677))/7*(-parseInt(i(632))/8)+parseInt(i(666))/9+parseInt(i(621))/10*(parseInt(i(659))/11))break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[d(517)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){u(this,(function(){const t=d,e=new RegExp(t(379)),i=new RegExp(t(601),"i"),n=y(t(648));e.test(n+t(458))&&i[t(381)](n+t(649))?y():n("0")}))()}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[d(517)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();f(void 0,(function(){const t=d;let e;try{e=Function(t(532)+'{}.constructor("return this")( ));')()}catch(o){e=window}const i=e[t(263)]=e[t(263)]||{},n=[t(473),t(436),"info",t(409),t(595),"table","trace"];for(let s=0;s<n.length;s++){const e=f[t(377)][t(680)].bind(f),o=n[s],r=i[o]||e;e[t(370)]=f[t(252)](f),e[t(418)]=r[t(418)][t(252)](r),i[o]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function d(t,e){const i=m();return(d=function(t,e){return i[t-=246]})(t,e)}function m(){const t=["typeSizeMap","    highp float positionInTime = (age / maxAge);","colorOverLifetime","BOX","bufferUpdateCount","sqrt","_distribution","_axis","loop","randomColorAsHex","       float y = 1.0 - gl_PointCoord.y - 0.5;","indexOf","maxParticleCount","fragment","Emitter does not exist in this group. Will not remove.","reset","resetDynamic","SHOULD_ROTATE_TEXTURE","distributions","vec3 unpackColor( in float hex ) {","interpolateArray","normalize","indexOffset","position","        vSpriteSheet.w = rowNorm;","_createBufferAttribute","      mat4 rotationMatrix;","        pos.x += wiggleSin;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","_assignForceValue","apply","    #endif","float when_gt(float x, float y) {","        vSpriteSheet.y = 1.0 / framesY;","fixedTimeStep","       float c = cos( -vAngle );","clone","bufferUpdateKeys","particleCount","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","SHOULD_CALCULATE_SPRITE","_ensureTypedArray","    ","forceFetchingFunctions","TypedArrayConstructor","return (function() ","float when_le(float x, float y) {","SHOULD_WIGGLE_PARTICLES","void main() {","#ifdef SHOULD_CALCULATE_SPRITE","center","           unpackColor( color.w )","counter","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","setVec3Components","rotationFunctions","_calculatePPSValue","Emitter","dispose","bufferAttribute","AdditiveBlending","paramFetchingFunctions","  return 1.0 - when_lt(x, y);","triggerPoolEmitter","    vec4 rotatedTexture = texture2D( tex, vUv );","TypedArray is already of size:","   return acceleration.xyz * age;","needsUpdate","spreadClamp","dynamicBuffer","direction","randomVector3OnDisc","onParticleSpawn","OBJECT","setVec4","attributeCount","while (true) {}","_assignParamsValue","attributeEnd","logdepthbuf_vertex","    #ifdef SHOULD_ROTATE_PARTICLES","radiusScale","logdepthbuf_pars_vertex","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","SPHERE","_updateAttributeUpdateRange","      }","emitters","        float rowNorm = vSpriteSheet.w;","NEGATIVE_INFINITY","   return c;","1725384usrRMu","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","uniform sampler2D tex;","StaticDrawUsage","texture","updateMin","_createGetterSetters","velocity","setMat4","arrayValuesAreEqual","frameCount","      vec3 center = rotationCenter;","   return params.w;","    return min(a + b, 1.0);","resetUpdateRange","attribute vec4 angle;","setVec2","exception","      float angle = 0.0;","multiplyScalar","_assignAngleValue","       float s = sin( -vAngle );","valueOverLifetimeLength","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","distribution","        float column = floor(mod( frameNumber, framesX ));","randomDirectionVector3OnDisc","colorize","unpackRotationAxis","Color","uniform vec4 textureAnimation;","debu","alive","tick","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","activationEnd","   c *= vec3( 2.0 );","hasPerspective","float when_eq( float x, float y ) {","randomise","min","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","radius","4220nkJWsb","updateMax","value","           unpackColor( color.x ),","ensureValueOverLifetimeCompliance","updateCounts","_assignValue","           unpackColor( color.y ),","floatOverLifetime","angle","ensureTypedArg","367704lTfnvO","    #ifdef HAS_PERSPECTIVE","scale","activeParticleCount","mesh","                   0.0,                                0.0,                                0.0,                                1.0);","ensureArrayInstanceOf","        float wiggleAmount = positionInTime * getWiggle();","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","       float s = sin(angle);","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","_distributionClamp","array","maxAge","        float perspective = scale / length( mvPosition.xyz );","textureFrames","init","input","        float columnNorm = column / framesX;","_setAttributeOffset","generateUUID","round","enable","fog_pars_fragment","attribute vec3 rotationCenter;","isStatic","spread","11187zlnCMs","getFromPool","setRGB","boolean","_radiusScale","ceil","opacity","1875744rSjXoJ","splice","grow","setMat3","       float c = cos(angle);","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","_assignColorValue","      if( rotation.y == 0.0 ) {","    vec3 vel = getVelocity( age );","        pos.z += wiggleSin;","randomDirectionVector3OnSphere","7aNQZtj","float getWiggle() {","_updateUniforms","prototype","ensureInstanceOf","NUMBER","forceUpdateAll","        float wiggleSin = isAlive * sin( wiggleAmount );","defines","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","distributionClamp","SHOULD_ROTATE_PARTICLES","_static","angleSpread","`emitter` argument must be instance of SPE.Emitter. Was provided with:","      rotationMatrix = getRotationMatrix( axis, angle );","   return velocity * age;","textureLoop","        vSpriteSheet.z = columnNorm;","Points","SPE.Group pool ran out.","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","branchAvoidanceFunctions","function","_randomise","randomVector3","attributeOffset","    #ifdef SHOULD_WIGGLE_PARTICLES","isArray","_angle","copy","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","set","MathUtils","_attributesNeedDynamicReset","age","bind","deltaTime","arrayType","_updateDefines","        float totalFrames = textureAnimation.z;","    #else","getHex","    #ifdef SHOULD_CALCULATE_SPRITE","number","_poolCreationSettings","_axisSpread","console","    #ifdef SHOULD_ROTATE_TEXTURE","remove","_setBufferUpdateRanges","Emitter already exists in this group. Will not add again.","getValueAtIndex","vec3 getVelocity( in float age ) {","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","action","unpackColor","        float framesY = textureAnimation.y;","ShaderAttribute","amd","85mJcFow","alphaTest","depthWrite","rotationCenter","      vec3 translated;","rotation","_checkParticleAges","params","removeEmitter","clamp","float and(float a, float b) {","BufferGeometry","attributeKeys","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","typedArray","wiggle","#endif","gger","attributes","acceleration","resetFlags","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","        pos.y += wiggleCos;","activationIndex","       axis = normalize(axis);","setVec2Components","offset","activeMultiplier","geometry","fog_vertex","_spreadClamp","length","_createNewWhenPoolEmpty","    }","    return value;","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","        float wiggleCos = isAlive * cos( wiggleAmount );","setVec3","type","color","transparent","randomVector3OnLine","cos","sin","float getAge() {","    varying float vAngle;","drag","depthTest","setSize","        float loopCount = textureAnimation.w;","3thgFTv","_activateParticles","float when_ge(float x, float y) {","_assignPositionValue","ensureArrayTypedArg","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","       fIndex = float( i );","setFromArray","   return params.y;","usage","_rotationCenter","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","_pool","_radius","max","   float b = mod( hex, PACKED_COLOR_SIZE );","random","vec4 getPosition( in float age ) {","31548HgvAYe","Group","runTime","unshift","setNumber","updateFlags","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","disable","Emitter does not belong to a group, cannot remove.","lerp","updateMap","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","POSITIVE_INFINITY","    #ifdef ALPHATEST","TypedArrayHelper","flagUpdate","elements","#define PACKED_COLOR_DIVISOR 255.0","    vColor = vec4( c, o );","push","size","spe","    vec3 outgoingLight = vColor.xyz;","shaders","    float fIndex = 0.0;","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","__proto__","_value","   c.g = g / PACKED_COLOR_DIVISOR;","577130zEpHZN","undefined","    vec3 force = vec3( 0.0 );","Vector2","constructor","           unpackColor( color.z ),","function *\\( *\\)","LINE","test","utils","roundToNearestMultiple","float getAlive() {","vertex","           positionInTime,","    float shouldApplyValue = 0.0;","itemSize","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","       float x = gl_PointCoord.x - 0.5;","_applyAttributesToGeometry","_incrementParticleCount","shrink","attribute vec4 params;","randomVector3OnSphere","_resetParticle","getPool","  return 1.0 - when_gt(x, y);","uniform float runTime;","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","        float columnNorm = vSpriteSheet.z;","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","common","addEmitter","shaderChunks","_center","fog_pars_vertex","    vec3 accel = getAcceleration( age );","error","float getMaxAge() {","Will not resize.","Vector3","varyings","emitterIDs","#ifdef SHOULD_ROTATE_PARTICLES","exports","getComponentValueAtIndex","toString","setAttribute","paramsArray","string","_triggerSingleEmitter","attribute vec4 size;","setVec4Components","DISC","material","particlesPerSecond","_spread","vec3 getAcceleration( in float age ) {","_assignAbsLifetimeValue","_resetBufferRanges","   return params.z;","REVISION","_assignRotationValue","group","warn","updateRange","uniforms","BOOLEAN","attribute vec4 opacity;","      translated = rotationCenter - pos;","Vector4","    varying vec4 vSpriteSheet;","_decrementParticleCount","        vSpriteSheet.x = 1.0 / framesX;","    highp float age = getAge();","bufferUpdateRanges","varying vec4 vColor;","_attributesNeedRefresh","_onRemove","        float rowNorm = row / framesY;","   vec3 c = vec3( 0.0 );","join","abs","ShaderChunk","    highp float value = 0.0;","blending","chain","Emitter already belongs to another group. Will not add to requested group.","keys","count","    highp float isAlive = when_gt( alive, 0.0 );","types","static","hasOwnProperty","    vec3 pos = vec3( position );","DynamicDrawUsage","componentSize","    gl_Position = projectionMatrix * mvPosition;","logdepthbuf_fragment","        pos = getRotation( pos, positionInTime );","axisSpread","log","   c.b = b / PACKED_COLOR_DIVISOR;","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","fog","float when_lt(float x, float y) {","lerpTypeAgnostic","uuid","releaseIntoPool","randomFloat","duration","   }","setUpdateRange","393791TtuEwD","   c.r = r / PACKED_COLOR_DIVISOR;"];return(m=function(){return t})()}"function"==typeof define&&define[l(275)]?define(l(365),p):typeof exports!==l(374)&&typeof module!==l(374)&&(module[l(416)]=p),p[l(358)]=function(t,e,i,n){const o=l;this[o(468)]=i||1,this[o(364)]=e||1,this[o(531)]=t||Float32Array,this[o(644)]=new t(e*this[o(468)]),this[o(509)]=n||0},p[l(358)][l(377)]=p[l(358)],p[l(358)][l(680)].setSize=function(t,e){const i=l,n=this[i(644)].length;return!e&&(t*=this[i(468)]),t<n?this[i(393)](t):t>n?this[i(668)](t):void console.info(i(552),t+".",i(411))},p[l(358)][l(680)].shrink=function(t){const e=l;return this[e(644)]=this.array.subarray(0,t),this[e(364)]=t,this},p[l(358)][l(680)].grow=function(t){const e=l,i=this[e(644)],n=new(this[e(531)])(t);return n[e(248)](i),this[e(644)]=n,this[e(364)]=t,this},p[l(358)][l(680)][l(667)]=function(t,e){const i=l;t*=this[i(468)],e*=this.componentSize;const n=[],o=this.array,s=o.length;for(let r=0;r<s;++r)(r<t||r>=e)&&n.push(o[r]);return this[i(333)](0,n),this},p[l(358)][l(680)][l(333)]=function(t,e){const i=l,n=t+e.length;return n>this[i(644)][i(307)]?this[i(668)](n):n<this[i(644)].length&&this[i(393)](n),this.array[i(248)](e,this[i(509)]+t),this},p[l(358)][l(680)][l(594)]=function(t,e){return this[l(301)](t,e.x,e.y)},p[l(358)][l(680)].setVec2Components=function(t,e,i){const n=l,o=this[n(644)],s=this[n(509)]+t*this.componentSize;return o[s]=e,o[s+1]=i,this},p[l(358)][l(680)][l(313)]=function(t,e){return this[l(541)](t,e.x,e.y,e.z)},p[l(358)].prototype.setVec3Components=function(t,e,i,n){const o=l,s=this[o(644)],r=this[o(509)]+t*this[o(468)];return s[r]=e,s[r+1]=i,s[r+2]=n,this},p[l(358)][l(680)][l(561)]=function(t,e){return this[l(424)](t,e.x,e.y,e.z,e.w)},p.TypedArrayHelper[l(680)][l(424)]=function(t,e,i,n,o){const s=l,r=this[s(644)],a=this[s(509)]+t*this[s(468)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=o,this},p.TypedArrayHelper.prototype[l(669)]=function(t,e){const i=l;return this[i(333)](this[i(509)]+t*this.componentSize,e[i(360)])},p[l(358)][l(680)][l(586)]=function(t,e){const i=l;return this[i(333)](this[i(509)]+t*this.componentSize,e[i(360)])},p[l(358)][l(680)].setColor=function(t,e){return this[l(541)](t,e.r,e.g,e.b)},p[l(358)].prototype[l(348)]=function(t,e){const i=l;return this[i(644)][this[i(509)]+t*this.componentSize]=e,this},p[l(358)][l(680)][l(268)]=function(t){const e=l;return this.array[this[e(509)]+t]},p[l(358)][l(680)][l(417)]=function(t){const e=l;return this[e(644)].subarray(this[e(509)]+t*this[e(468)])},p[l(274)]=function(t,e,i){const n=l,o=p[n(274)][n(487)];this.type="string"==typeof t&&o[n(465)](t)?t:"f",this.componentSize=o[this[n(314)]],this.arrayType=i||Float32Array,this[n(290)]=null,this[n(546)]=null,this.dynamicBuffer=!!e,this[n(583)]=0,this[n(622)]=0},p[l(274)][l(377)]=p.ShaderAttribute,p.ShaderAttribute[l(487)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p[l(274)][l(680)][l(484)]=function(t,e){const i=l;this[i(583)]=Math[i(618)](t*this.componentSize,this[i(583)]*this.componentSize),this.updateMax=Math[i(340)](e*this[i(468)],this[i(622)]*this[i(468)])},p[l(274)][l(680)].flagUpdate=function(){const t=l,e=this.bufferAttribute,i=e[t(437)];i[t(302)]=this[t(583)],i.count=Math.min(this[t(622)]-this[t(583)]+this[t(468)],this[t(290)].array.length),e.needsUpdate=!0},p[l(274)][l(680)][l(592)]=function(){const t=l;this.updateMin=0,this[t(622)]=0},p[l(274)][l(680)][l(503)]=function(){const e=l;this[e(546)].usage=this[e(556)]?t[e(467)]:t[e(581)]},p[l(274)][l(680)][l(667)]=function(t,e){const i=l;this[i(290)][i(667)](t,e),this[i(683)]()},p.ShaderAttribute.prototype.forceUpdateAll=function(){const e=l;this[e(546)].array=this[e(290)].array,this.bufferAttribute[e(437)].offset=0,this.bufferAttribute.updateRange[e(461)]=-1,this.bufferAttribute[e(335)]=t[e(581)],this[e(546)][e(554)]=!0},p[l(274)][l(680)][l(528)]=function(t){const e=l;null!==this[e(290)]&&this[e(290)][e(364)]===t*this.componentSize||(null!==this[e(290)]&&this[e(290)][e(364)]!==t?this[e(290)][e(324)](t):null===this[e(290)]&&(this[e(290)]=new p.TypedArrayHelper(this[e(254)],t,this[e(468)])))},p[l(274)].prototype[l(512)]=function(n){const o=l;if(this[o(528)](n),null!==this.bufferAttribute)return this[o(546)].array=this[o(290)][o(644)],parseFloat(t[o(433)])>=81&&(this[o(546)][o(461)]=this.bufferAttribute[o(644)].length/this[o(546)][o(388)]),void(this[o(546)][o(554)]=!0);this[o(546)]=new e(this.typedArray.array,this[o(468)]),this[o(546)][o(335)]=this[o(556)]?i:t[o(581)]},p[l(274)].prototype.getLength=function(){const t=l;return null===this[t(290)]?0:this.typedArray.array[t(307)]},p.shaderChunks={defines:["#define PACKED_COLOR_SIZE 256.0",l(361)][l(453)]("\n"),uniforms:["uniform float deltaTime;",l(399),l(580),l(608),"uniform float scale;"][l(453)]("\n"),attributes:["attribute vec4 acceleration;","attribute vec3 velocity;","attribute vec4 rotation;",l(656),l(394),l(423),l(593),"attribute vec4 color;",l(440)][l(453)]("\n"),varyings:[l(448),"#ifdef SHOULD_ROTATE_TEXTURE",l(321),"#endif",l(536),l(443),"#endif"][l(453)]("\n"),branchAvoidanceFunctions:[l(519),"    return max(sign(x - y), 0.0);","}",l(477),"    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",l(616),"    return 1.0 - abs( sign( x - y ) );","}",l(328),l(549),"}",l(533),l(398),"}",l(286),"    return a * b;","}","float or(float a, float b) {",l(591),"}"].join("\n"),unpackColor:[l(506),l(452),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",l(341),"   c.r = r / PACKED_COLOR_DIVISOR;","   c.g = g / PACKED_COLOR_DIVISOR;",l(474),"   return c;","}"][l(453)]("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {",l(452),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",l(341),l(486),l(372),l(474),l(614),"   c -= vec3( 1.0 );",l(577),"}"].join("\n"),floatOverLifetime:[l(270),l(456),l(642),l(368),l(387),l(612),"",l(331),l(332),"       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );",l(309),"",l(310),"}"][l(453)]("\n"),colorOverLifetime:[l(400),"    vec3 value = vec3( 0.0 );",l(671),l(297),l(355),"    return value;","}"][l(453)]("\n"),paramFetchingFunctions:[l(384),"   return params.x;","}",l(320),l(334),"}",l(410),l(432),"}",l(678),l(590),"}"][l(453)]("\n"),forceFetchingFunctions:[l(343),"   return modelViewMatrix * vec4( position, 1.0 );","}",l(269),l(693),"}",l(429),l(553),"}"][l(453)]("\n"),rotationFunctions:[l(415),l(402),l(300),l(641),l(670),"       float oc = 1.0 - c;","",l(698),l(579),l(311),l(637),"   }","",l(475),l(673),"           return pos;",l(573),"","      vec3 axis = unpackRotationAxis( rotation.x );",l(589),l(280),l(513),l(596),"      angle += when_eq( rotation.z, 0.0 ) * rotation.y;",l(526),l(441),l(692),l(686),l(483),l(292)][l(453)]("\n"),rotateTexture:[l(369),"",l(264),l(390),l(497),l(522),l(599),l(515),l(518),"",l(259),"        float framesX = vSpriteSheet.x;","        float framesY = vSpriteSheet.y;",l(401),l(575),l(337),l(289),"    #endif","",l(551)][l(453)]("\n")},p[l(367)]={vertex:[p[l(405)].defines,p[l(405)][l(438)],p.shaderChunks[l(294)],p[l(405)].varyings,n[l(403)],t[l(455)][l(569)],t[l(455)][l(407)],p.shaderChunks[l(699)],p[l(405)][l(272)],p.shaderChunks[l(606)],p[l(405)][l(629)],p.shaderChunks[l(489)],p[l(405)][l(548)],p[l(405)][l(530)],p.shaderChunks[l(542)],l(535),l(446),"    highp float alive = getAlive();","    highp float maxAge = getMaxAge();",l(488),l(462),l(704),l(639),l(684),l(312),"    #endif",l(674),l(408),l(375),l(466),l(247),"    force += vel;","    force *= drag;","    force += accel * age;","    pos += force;","    #ifdef SHOULD_WIGGLE_PARTICLES",l(514),l(298),l(675),l(518),l(567),l(471),"    #endif",l(570),l(350),l(633),l(646),"    #else","        float perspective = 1.0;",l(518),"    float pointSizePerspective = pointSize * perspective;","    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(",l(386),l(624),l(628),l(378),l(538),"       );",l(257),"       vec3 c = vec3(1.0);","    #endif",l(619),l(362),l(264),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",l(518),l(259),"        float framesX = textureAnimation.x;",l(273),l(325),l(256),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",l(603),"        float row = floor( (frameNumber - column) / framesX );",l(650),l(451),l(445),l(520),l(695),l(511),"    #endif","    gl_PointSize = pointSizePerspective;",l(469),t[l(455)][l(566)],t[l(455)][l(305)],"}"][l(453)]("\n"),fragment:[p[l(405)][l(438)],t[l(455)][l(403)],t[l(455)][l(655)],t[l(455)].logdepthbuf_pars_fragment,p[l(405)][l(413)],p[l(405)][l(699)],"void main() {",l(366),l(529),l(357),"       if ( vColor.w < float(ALPHATEST) ) discard;",l(518),p[l(405)].rotateTexture,n[l(470)],l(640),l(540),t[l(455)].fog_fragment,"}"][l(453)]("\n")},p[l(382)]={types:{BOOLEAN:l(662),STRING:l(421),NUMBER:"number",OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=l;if(Array.isArray(t)){for(let o=t[n(307)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this[n(631)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=l;if(Array[n(705)](t)){for(let n=t.length-1;n>=0;--n)if(void 0!==e&&t[n]instanceof e==!1)return i;return t}return this[n(681)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=l;e=e||3,i=i||3,!1===Array.isArray(t[n(371)])&&(t[n(371)]=[t[n(371)]]),!1===Array[n(705)](t._spread)&&(t[n(428)]=[t[n(428)]]);const o=this[n(285)](t[n(371)][n(307)],e,i),s=this[n(285)](t[n(428)][n(307)],e,i),r=Math.max(o,s);t[n(371)][n(307)]!==r&&(t._value=this[n(507)](t[n(371)],r)),t[n(428)][n(307)]!==r&&(t[n(428)]=this.interpolateArray(t[n(428)],r))},interpolateArray(t,e){const i=l,n=t[i(307)],o=["function"==typeof t[0][i(523)]?t[0][i(523)]():t[0]],s=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*s,n=Math.floor(e),a=Math[i(664)](e),c=e-n;o[r]=this[i(478)](t[n],t[a],c)}return o[i(363)](typeof t[n-1][i(523)]===i(700)?t[n-1][i(523)]():t[n-1]),o},clamp(t,e,i){const n=l;return Math[n(340)](e,Math[n(618)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[l(342)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=l;let r,a=this.types;return typeof e===a[s(682)]&&typeof i===a.NUMBER?e+(i-e)*n:e instanceof t[s(376)]&&i instanceof t[s(376)]?(r=e[s(523)](),r.x=this.lerp(e.x,i.x,n),r.y=this[s(353)](e.y,i.y,n),r):e instanceof o&&i instanceof o?(r=e[s(523)](),r.x=this[s(353)](e.x,i.x,n),r.y=this.lerp(e.y,i.y,n),r.z=this[s(353)](e.z,i.z,n),r):e instanceof t[s(442)]&&i instanceof t[s(442)]?(r=e[s(523)](),r.x=this.lerp(e.x,i.x,n),r.y=this[s(353)](e.y,i.y,n),r.z=this[s(353)](e.z,i.z,n),r.w=this.lerp(e.w,i.w,n),r):e instanceof t[s(607)]&&i instanceof t[s(607)]?(r=e[s(523)](),r.r=this.lerp(e.r,i.r,n),r.g=this.lerp(e.g,i.g,n),r.b=this[s(353)](e.b,i.b,n),r):void console[s(436)]("Invalid argument types, or argument types do not match:",e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=l;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(454)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=l;for(let i=0;i<t[e(307)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[l(342)]()-.5),randomVector3(t,e,i,n,o){const s=l;let r=i.x+(Math[s(342)]()*n.x-.5*n.x),a=i.y+(Math.random()*n.y-.5*n.y),c=i.z+(Math[s(342)]()*n.z-.5*n.z);o&&(r=.5*-o.x+this[s(383)](r,o.x),a=.5*-o.y+this[s(383)](a,o.y),c=.5*-o.z+this[s(383)](c,o.z)),t[s(290)][s(541)](e,r,a,c)},randomColor(t,e,i,n){const o=l;let s=i.r+Math[o(342)]()*n.x,r=i.g+Math[o(342)]()*n.y,a=i.b+Math[o(342)]()*n.z;s=this[o(285)](s,0,1),r=this[o(285)](r,0,1),a=this[o(285)](a,0,1),t[o(290)][o(541)](e,s,r,a)},randomColorAsHex:function(){const e=l,i=new(t[e(607)]);return function(t,n,o,s){const r=e,a=o[r(307)],c=[];for(let e=0;e<a;++e){const t=s[e];i[r(246)](o[e]),i.r+=Math[r(342)]()*t.x-.5*t.x,i.g+=Math[r(342)]()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this[r(285)](i.r,0,1),i.g=this[r(285)](i.g,0,1),i.b=this[r(285)](i.b,0,1),c[r(363)](i[r(258)]())}t.typedArray[r(424)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const o=l,s=i[o(523)]();s[o(353)](n,Math[o(342)]()),t[o(290)][o(541)](e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,o,s,r,a){const c=l;let h=2*Math[c(342)]()-1,u=6.2832*Math.random(),f=Math[c(492)](1-h*h),p=this[c(481)](n,o),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math[c(318)](u)*p,m=f*Math[c(319)](u)*p,g=h*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t[c(290)][c(541)](e,d,m,g)},seededRandom(t){const e=1e4*Math[l(319)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,s,r){const a=l;let c=6.2832*Math[a(342)](),h=Math[a(454)](this.randomFloat(n,o)),u=0,f=0,p=0;r&&(h=Math[a(653)](h/r)*r),u=Math[a(318)](c)*h,f=Math.sin(c)*h,u*=s.x,f*=s.y,u+=i.x,f+=i.y,p+=i.z,t.typedArray.setVec3Components(e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=l,i=new(t[e(412)]);return function(t,n,o,s,r,a,c,h){const l=e;i[l(246)](a),i.x-=o,i.y-=s,i.z-=r,i[l(508)]().multiplyScalar(-this.randomFloat(c,h)),t.typedArray[l(541)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=l,i=new(t[e(412)]);return function(t,n,o,s,r,a,c,h){const l=e;i[l(246)](a),i.x-=o,i.y-=s,i.z-=r,i[l(508)]()[l(597)](-this.randomFloat(c,h)),t[l(290)][l(541)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=l,i=new(t[e(412)]),n=new(t[e(412)]),o=new(t[e(607)]),s=new(t[e(412)])(1,1,1);return function(t,r){const a=e;return i[a(246)](t)[a(508)](),n[a(246)](r)[a(508)](),i.x+=.5*-r.x+Math[a(342)]()*r.x,i.y+=.5*-r.y+Math[a(342)]()*r.y,i.z+=.5*-r.z+Math[a(342)]()*r.z,i.normalize().add(s)[a(597)](.5),o[a(661)](i.x,i.y,i.z),o[a(258)]()}}()},p[l(345)]=function(e){const i=l,n=p[i(382)],o=n[i(463)];(e=n[i(631)](e,o[i(560)],{}))[i(582)]=n[i(631)](e[i(582)],o[i(560)],{}),this[i(479)]=t[i(249)][i(652)](),this[i(521)]=n[i(631)](e[i(521)],o[i(682)],.016),this[i(582)]=n[i(681)](e[i(582)][i(623)],s,null),this.textureFrames=n[i(681)](e[i(582)].frames,t[i(376)],new r(1,1)),this.textureFrameCount=n[i(631)](e[i(582)][i(588)],o.NUMBER,this.textureFrames.x*this[i(647)].y),this[i(694)]=n.ensureTypedArg(e[i(582)][i(495)],o[i(682)],1),this.textureFrames[i(340)](new(t[i(376)])(1,1)),this[i(615)]=n[i(631)](e[i(615)],o[i(439)],!0),this[i(605)]=n[i(631)](e[i(605)],o.BOOLEAN,!0),this[i(499)]=n.ensureTypedArg(e[i(499)],o.NUMBER,null),this[i(457)]=n[i(631)](e.blending,o[i(682)],t[i(547)]),this[i(316)]=n[i(631)](e.transparent,o[i(439)],!0),this[i(277)]=parseFloat(n[i(631)](e.alphaTest,o[i(682)],0)),this[i(278)]=n.ensureTypedArg(e[i(278)],o[i(439)],!1),this[i(323)]=n.ensureTypedArg(e[i(323)],o.BOOLEAN,!0),this.fog=n[i(631)](e.fog,o.BOOLEAN,!0),this[i(634)]=n[i(631)](e.scale,o.NUMBER,300),this[i(574)]=[],this[i(414)]=[],this[i(338)]=[],this[i(261)]=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this[i(250)]=!1,this[i(525)]=0,this.uniforms={tex:{type:"t",value:this[i(582)]},textureAnimation:{type:"v4",value:new a(this.textureFrames.x,this[i(647)].y,this.textureFrameCount,Math[i(340)](Math[i(454)](this[i(694)]),1))},fogColor:{type:"c",value:this[i(476)]?new(t[i(607)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(634)]}},this[i(685)]={HAS_PERSPECTIVE:this[i(615)],COLORIZE:this[i(605)],VALUE_OVER_LIFETIME_LENGTH:p[i(600)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(647)].x>1||this[i(647)].y>1},this.attributes={position:new(p[i(274)])("v3",!0),acceleration:new(p[i(274)])("v4",!0),velocity:new(p[i(274)])("v3",!0),rotation:new(p[i(274)])("v4",!0),rotationCenter:new(p[i(274)])("v3",!0),params:new(p[i(274)])("v4",!0),size:new(p[i(274)])("v4",!0),angle:new(p[i(274)])("v4",!0),color:new(p[i(274)])("v4",!0),opacity:new(p[i(274)])("v4",!0)},this.attributeKeys=Object[i(460)](this.attributes),this[i(562)]=this[i(288)][i(307)],this[i(426)]=new c({uniforms:this[i(438)],vertexShader:p[i(367)][i(385)],fragmentShader:p.shaders[i(500)],blending:this[i(457)],transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this[i(278)],depthTest:this[i(323)],defines:this[i(685)],fog:this[i(476)]}),this.geometry=new(t[i(287)]),this[i(636)]=new(t[i(696)])(this[i(304)],this[i(426)]),null===this[i(499)]&&console[i(436)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},p.Group[l(377)]=p.Group,p[l(345)][l(680)]._updateDefines=function(){const t=l;let e,i=this[t(574)],n=i.length-1,o=this[t(685)];for(;n>=0;--n)e=i[n],!o[t(527)]&&(o[t(504)]=o.SHOULD_ROTATE_TEXTURE||!!Math[t(340)](Math[t(340)].apply(null,e[t(630)][t(623)]),Math.max[t(517)](null,e.angle[t(658)]))),o[t(688)]=o.SHOULD_ROTATE_PARTICLES||!!Math[t(340)](e[t(281)][t(630)],e[t(281)][t(690)]),o[t(534)]=o[t(534)]||!!Math.max(e[t(291)][t(623)],e[t(291)][t(658)]);this.material.needsUpdate=!0},p[l(345)][l(680)][l(391)]=function(){const t=l;let e,i,n=this[t(294)],o=this[t(304)],s=o[t(294)];for(const r in n)n[t(465)](r)&&(e=n[r],i=s[r],i?i[t(644)]=e[t(290)][t(644)]:o[t(419)](r,e[t(546)]),e[t(546)].needsUpdate=!0);this[t(304)].setDrawRange(0,this[t(525)])},p[l(345)].prototype.addEmitter=function(t){const e=l;if(t instanceof p[e(544)]==!1)return void console.error(e(691),t);if(this.emitterIDs.indexOf(t[e(479)])>-1)return void console[e(409)](e(267));if(null!==t[e(435)])return void console.error(e(459));const i=this[e(294)],n=this[e(525)],o=n+t[e(525)];this.particleCount=o,null!==this.maxParticleCount&&this.particleCount>this.maxParticleCount&&console[e(436)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(525)],"particles, can support only",this[e(499)]),t._calculatePPSValue(t.maxAge[e(371)]+t.maxAge[e(428)]),t._setBufferUpdateRanges(this[e(288)]),t[e(651)](n),t[e(435)]=this,t[e(294)]=this[e(294)];for(const s in i)i[e(465)](s)&&i[s]._createBufferAttribute(null!==this.maxParticleCount?this[e(499)]:this[e(525)]);for(let s=n;s<o;++s)t._assignPositionValue(s),t._assignForceValue(s,"velocity"),t[e(516)](s,e(295)),t._assignAbsLifetimeValue(s,e(665)),t[e(430)](s,e(364)),t[e(598)](s),t[e(434)](s),t[e(564)](s),t[e(672)](s);return this[e(391)](),this[e(574)].push(t),this[e(414)][e(363)](t.uuid),this[e(255)](t),this.material.needsUpdate=!0,this[e(304)][e(554)]=!0,this._attributesNeedRefresh=!0,this},p[l(345)][l(680)][l(284)]=function(t){const e=l,i=this[e(414)][e(498)](t[e(479)]);if(t instanceof p[e(544)]==!1)return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console[e(409)](e(501));const n=t[e(703)],o=n+t[e(525)],s=this[e(294)][e(283)].typedArray;for(let r=n;r<o;++r)s[e(644)][4*r]=0,s[e(644)][4*r+1]=0;this[e(574)][e(667)](i,1),this.emitterIDs[e(667)](i,1);for(const r in this[e(294)])this[e(294)].hasOwnProperty(r)&&this[e(294)][r][e(667)](n,o);this[e(525)]-=t[e(525)],t[e(450)](),this._attributesNeedRefresh=!0},p[l(345)][l(680)][l(660)]=function(){const t=l,e=this[t(338)],i=this._createNewWhenPoolEmpty;if(e[t(307)])return e.pop();if(i){const e=new p.Emitter(this[t(261)]);return this[t(404)](e),e}return null},p[l(345)][l(680)].releaseIntoPool=function(t){const e=l;if(t instanceof p.Emitter!=!1)return t[e(502)](),this[e(338)][e(347)](t),this;console[e(409)]("Argument is not instanceof SPE.Emitter:",t)},p.Group[l(680)][l(397)]=function(){return this._pool},p[l(345)][l(680)].addPool=function(t,e,i){const n=l;let o;this[n(261)]=e,this[n(308)]=!!i;for(let s=0;s<t;++s)o=Array[n(705)](e)?new(p[n(544)])(e[s]):new(p[n(544)])(e),this[n(404)](o),this[n(480)](o);return this},p[l(345)][l(680)][l(422)]=function(e){const i=l,n=this.getFromPool(),o=this;if(null!==n)return e instanceof t[i(412)]&&(n[i(510)].value.copy(e),n.position[i(623)]=n[i(510)].value),n[i(654)](),setTimeout((()=>{const t=i;n[t(351)](),o[t(480)](n)}),1e3*Math[i(340)](n[i(482)],n[i(645)][i(623)]+n[i(645)][i(658)])),this;console[i(473)](i(697))},p[l(345)][l(680)][l(550)]=function(t,e){const i=l;if(typeof t===i(260)&&t>1)for(let n=0;n<t;++n)this[i(422)](e);else this[i(422)](e);return this},p[l(345)][l(680)][l(679)]=function(t){const e=l;this[e(438)][e(346)][e(623)]+=t,this[e(438)][e(253)][e(623)]=t},p[l(345)][l(680)][l(431)]=function(){const t=l;let e=this[t(288)],i=this[t(562)]-1,n=this[t(294)];for(;i>=0;--i)n[e[i]][t(592)]()},p[l(345)].prototype._updateBuffers=function(t){const e=l;let i,n,o,s=this[e(288)],r=this[e(562)]-1,a=this[e(294)],c=t[e(447)];for(;r>=0;--r)i=s[r],n=c[i],o=a[i],o[e(484)](n.min,n[e(340)]),o[e(359)]()},p[l(345)].prototype.tick=function(t){const e=l;var i=this[e(574)],n=i.length,o=t||this[e(521)],s=this[e(288)],r=this[e(294)];if(this._updateUniforms(o),this[e(431)](),0!==n||!1!==this._attributesNeedRefresh||!1!==this[e(250)]){for(var a,c=0;c<n;++c)(a=i[c])[e(611)](o),this._updateBuffers(a);if(!0===this._attributesNeedDynamicReset){for(c=this.attributeCount-1;c>=0;--c)r[s[c]][e(503)]();this[e(250)]=!1}if(!0===this[e(449)]){for(c=this[e(562)]-1;c>=0;--c)r[s[c]].forceUpdateAll();this[e(449)]=!1,this[e(250)]=!0}}},p[l(345)].prototype[l(545)]=function(){const t=l;return this[t(304)][t(545)](),this.material[t(545)](),this},p[l(544)]=function(e){const i=l,n=p.utils,s=n[i(463)],r=p[i(600)];(e=n[i(631)](e,s[i(560)],{}))[i(510)]=n[i(631)](e[i(510)],s[i(560)],{}),e[i(585)]=n.ensureTypedArg(e[i(585)],s.OBJECT,{}),e.acceleration=n[i(631)](e[i(295)],s[i(560)],{}),e.radius=n[i(631)](e[i(620)],s[i(560)],{}),e[i(322)]=n[i(631)](e[i(322)],s[i(560)],{}),e[i(281)]=n[i(631)](e[i(281)],s[i(560)],{}),e.color=n[i(631)](e[i(315)],s[i(560)],{}),e[i(665)]=n[i(631)](e[i(665)],s.OBJECT,{}),e[i(364)]=n[i(631)](e[i(364)],s[i(560)],{}),e[i(630)]=n[i(631)](e[i(630)],s[i(560)],{}),e[i(291)]=n[i(631)](e.wiggle,s.OBJECT,{}),e[i(645)]=n[i(631)](e.maxAge,s[i(560)],{}),e[i(559)]&&console[i(436)](i(389)),this[i(479)]=t[i(249)][i(652)](),this[i(314)]=n[i(631)](e[i(314)],s.NUMBER,p[i(505)].BOX),this[i(510)]={_value:n.ensureInstanceOf(e[i(510)].value,t[i(412)],new o),_spread:n[i(681)](e.position[i(658)],t[i(412)],new(t[i(412)])),_spreadClamp:n.ensureInstanceOf(e[i(510)][i(555)],t[i(412)],new(t[i(412)])),_distribution:n[i(631)](e[i(510)].distribution,s.NUMBER,this[i(314)]),_randomise:n[i(631)](e[i(510)][i(617)],s[i(439)],!1),_radius:n[i(631)](e.position[i(620)],s[i(682)],10),_radiusScale:n.ensureInstanceOf(e[i(510)][i(568)],t[i(412)],new(t[i(412)])(1,1,1)),_distributionClamp:n.ensureTypedArg(e[i(510)][i(687)],s[i(682)],0)},this.velocity={_value:n[i(681)](e[i(585)][i(623)],t[i(412)],new(t[i(412)])),_spread:n.ensureInstanceOf(e[i(585)].spread,t[i(412)],new o),_distribution:n.ensureTypedArg(e[i(585)].distribution,s[i(682)],this[i(314)]),_randomise:n[i(631)](e[i(510)][i(617)],s[i(439)],!1)},this.acceleration={_value:n.ensureInstanceOf(e.acceleration[i(623)],t[i(412)],new(t[i(412)])),_spread:n[i(681)](e.acceleration[i(658)],t[i(412)],new o),_distribution:n[i(631)](e[i(295)][i(602)],s[i(682)],this[i(314)]),_randomise:n[i(631)](e[i(510)].randomise,s[i(439)],!1)},this.drag={_value:n[i(631)](e[i(322)].value,s[i(682)],0),_spread:n.ensureTypedArg(e[i(322)].spread,s.NUMBER,0),_randomise:n.ensureTypedArg(e[i(510)][i(617)],s[i(439)],!1)},this[i(291)]={_value:n[i(631)](e[i(291)][i(623)],s[i(682)],0),_spread:n[i(631)](e[i(291)].spread,s.NUMBER,0)},this[i(281)]={_axis:n.ensureInstanceOf(e[i(281)].axis,t[i(412)],new o(0,1,0)),_axisSpread:n[i(681)](e[i(281)][i(472)],t[i(412)],new(t[i(412)])),_angle:n[i(631)](e[i(281)][i(630)],s.NUMBER,0),_angleSpread:n[i(631)](e.rotation.angleSpread,s.NUMBER,0),_static:n[i(631)](e.rotation[i(464)],s[i(439)],!1),_center:n[i(681)](e.rotation[i(537)],t[i(412)],this[i(510)]._value[i(523)]()),_randomise:n[i(631)](e.position[i(617)],s[i(439)],!1)},this[i(645)]={_value:n[i(631)](e[i(645)].value,s[i(682)],2),_spread:n[i(631)](e.maxAge[i(658)],s[i(682)],0)},this[i(315)]={_value:n[i(638)](e[i(315)][i(623)],h,new h),_spread:n[i(638)](e[i(315)][i(658)],t[i(412)],new(t[i(412)])),_randomise:n.ensureTypedArg(e.position[i(617)],s[i(439)],!1)},this.opacity={_value:n[i(330)](e.opacity[i(623)],s[i(682)],1),_spread:n[i(330)](e[i(665)][i(658)],s[i(682)],0),_randomise:n[i(631)](e[i(510)][i(617)],s[i(439)],!1)},this[i(364)]={_value:n[i(330)](e[i(364)][i(623)],s[i(682)],1),_spread:n[i(330)](e.size[i(658)],s.NUMBER,0),_randomise:n[i(631)](e.position[i(617)],s[i(439)],!1)},this[i(630)]={_value:n[i(330)](e.angle.value,s[i(682)],0),_spread:n.ensureArrayTypedArg(e[i(630)][i(658)],s[i(682)],0),_randomise:n[i(631)](e[i(510)][i(617)],s[i(439)],!1)},this.particleCount=n[i(631)](e[i(525)],s[i(682)],100),this[i(482)]=n.ensureTypedArg(e[i(482)],s[i(682)],null),this[i(657)]=n.ensureTypedArg(e.isStatic,s.BOOLEAN,!1),this[i(303)]=n[i(631)](e[i(303)],s[i(682)],1),this[i(557)]=n[i(631)](e.direction,s.NUMBER,1),this[i(610)]=n.ensureTypedArg(e.alive,s[i(439)],!0),this[i(427)]=0,this[i(299)]=0,this[i(703)]=0,this[i(565)]=0,this[i(251)]=0,this.activeParticleCount=0,this[i(435)]=null,this.attributes=null,this[i(420)]=null,this.resetFlags={position:n[i(631)](e[i(510)][i(617)],s[i(439)],!1)||n[i(631)](e[i(620)][i(617)],s.BOOLEAN,!1),velocity:n[i(631)](e[i(585)][i(617)],s[i(439)],!1),acceleration:n[i(631)](e[i(295)].randomise,s[i(439)],!1)||n[i(631)](e[i(322)].randomise,s.BOOLEAN,!1),rotation:n.ensureTypedArg(e[i(281)].randomise,s[i(439)],!1),rotationCenter:n.ensureTypedArg(e.rotation[i(617)],s[i(439)],!1),size:n[i(631)](e[i(364)][i(617)],s[i(439)],!1),color:n.ensureTypedArg(e[i(315)][i(617)],s[i(439)],!1),opacity:n[i(631)](e[i(665)][i(617)],s[i(439)],!1),angle:n[i(631)](e[i(630)][i(617)],s[i(439)],!1)},this[i(349)]={},this[i(626)]={},this[i(354)]={maxAge:i(283),position:i(510),velocity:i(585),acceleration:i(295),drag:i(295),wiggle:i(283),rotation:i(281),size:i(364),color:i(315),opacity:i(665),angle:"angle"};for(const t in this[i(354)])this[i(354)].hasOwnProperty(t)&&(this[i(626)][this[i(354)][t]]=0,this.updateFlags[this[i(354)][t]]=!1,this._createGetterSetters(this[t],t));this[i(447)]={},this.attributeKeys=null,this.attributeCount=0,n[i(625)](this[i(315)],r,r),n.ensureValueOverLifetimeCompliance(this.opacity,r,r),n[i(625)](this[i(364)],r,r),n[i(625)](this[i(630)],r,r)},p[l(544)][l(377)]=p[l(544)],p[l(544)][l(680)][l(584)]=function(t,e){const i=this;for(const n in t)if(t.hasOwnProperty(n)){const o=n.replace("_","");Object.defineProperty(t,o,{get:function(t){return function(){return this[t]}}(n),set:function(t){return function(n){const o=d,s=i[o(354)][e],r=this[t],a=p[o(600)];t===o(336)?(i[o(349)][o(279)]=!0,i[o(626)][o(279)]=0):t===o(701)?i.resetFlags[s]=n:(i[o(349)][s]=!0,i[o(626)][s]=0),i[o(435)][o(255)](),this[t]=n,Array[o(705)](r)&&p[o(382)][o(625)](i[e],a,a)}}(n)})}},p[l(544)][l(680)][l(266)]=function(t){const e=l;this[e(288)]=t,this[e(562)]=t[e(307)];for(let i=this.attributeCount-1;i>=0;--i)this[e(447)][t[i]]={min:Number[e(356)],max:Number[e(576)]}},p[l(544)][l(680)][l(543)]=function(t){const e=l,i=this[e(525)];this[e(482)]?this.particlesPerSecond=i/(t<this[e(482)]?t:this[e(482)]):this.particlesPerSecond=i/t},p.Emitter[l(680)]._setAttributeOffset=function(t){const e=l;this[e(703)]=t,this[e(299)]=t,this[e(613)]=t+this[e(525)]},p[l(544)][l(680)][l(627)]=function(t,e){const i=l;switch(t){case i(510):this._assignPositionValue(e);break;case i(585):case i(295):this[i(516)](e,t);break;case i(364):case i(665):this[i(430)](e,t);break;case i(630):this[i(598)](e);break;case i(283):this[i(564)](e);break;case i(281):this[i(434)](e);break;case i(315):this._assignColorValue(e)}},p.Emitter.prototype[l(329)]=function(t){const e=l,i=p[e(505)],n=p[e(382)],o=this[e(510)],s=this[e(294)].position,r=o._value,a=o._spread;switch(o._distribution){case i[e(490)]:n[e(702)](s,t,r,a,o[e(306)]);break;case i[e(571)]:n[e(395)](s,t,r,o._radius,o[e(428)].x,o[e(663)],o[e(306)].x,o[e(643)]||this[e(525)]);break;case i[e(425)]:n[e(558)](s,t,r,o[e(339)],o._spread.x,o[e(663)],o[e(306)].x);break;case i.LINE:n[e(317)](s,t,r,a)}},p[l(544)][l(680)][l(516)]=function(t,e){const i=l;let n,o,s,r,a,c=p[i(505)],h=p[i(382)],u=this[e],f=u._value,d=u[i(428)];switch(u[i(493)]){case c[i(490)]:h.randomVector3(this.attributes[e],t,f,d);break;case c[i(571)]:n=this.attributes.position.typedArray[i(644)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],h[i(676)](this[i(294)][e],t,o,s,r,this.position[i(371)],u._value.x,u[i(428)].x);break;case c[i(425)]:n=this[i(294)][i(510)][i(290)][i(644)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],h[i(604)](this[i(294)][e],t,o,s,r,this[i(510)][i(371)],u._value.x,u[i(428)].x);break;case c[i(380)]:h[i(317)](this[i(294)][e],t,f,d)}if(e===i(295)){const e=h[i(285)](h[i(481)](this[i(322)]._value,this.drag[i(428)]),0,1);this[i(294)][i(295)].typedArray[i(644)][4*t+3]=e}},p[l(544)][l(680)][l(430)]=function(t,e){const i=l;let n,o=this[i(294)][e][i(290)],s=this[e],r=p[i(382)];r[i(587)](s[i(371)])&&r[i(587)](s[i(428)])?(n=Math.abs(r[i(481)](s[i(371)][0],s[i(428)][0])),o[i(424)](t,n,n,n,n)):o[i(424)](t,Math[i(454)](r[i(481)](s[i(371)][0],s[i(428)][0])),Math[i(454)](r.randomFloat(s._value[1],s[i(428)][1])),Math[i(454)](r[i(481)](s[i(371)][2],s[i(428)][2])),Math[i(454)](r.randomFloat(s._value[3],s[i(428)][3])))},p[l(544)].prototype._assignAngleValue=function(t){const e=l;let i,n=this[e(294)].angle[e(290)],o=this[e(630)],s=p[e(382)];s[e(587)](o[e(371)])&&s[e(587)](o[e(428)])?(i=s[e(481)](o[e(371)][0],o._spread[0]),n[e(424)](t,i,i,i,i)):n[e(424)](t,s.randomFloat(o[e(371)][0],o._spread[0]),s[e(481)](o[e(371)][1],o[e(428)][1]),s[e(481)](o[e(371)][2],o[e(428)][2]),s.randomFloat(o._value[3],o[e(428)][3]))},p[l(544)].prototype[l(564)]=function(t){const e=l;this[e(294)][e(283)].typedArray[e(424)](t,this[e(657)]?1:0,0,Math.abs(p[e(382)].randomFloat(this[e(645)][e(371)],this.maxAge[e(428)])),p[e(382)][e(481)](this[e(291)][e(371)],this.wiggle[e(428)]))},p.Emitter[l(680)]._assignRotationValue=function(t){const e=l;this[e(294)].rotation[e(290)][e(541)](t,p[e(382)].getPackedRotationAxis(this[e(281)][e(494)],this.rotation[e(262)]),p[e(382)][e(481)](this[e(281)][e(706)],this.rotation._angleSpread),this.rotation[e(689)]?0:1),this[e(294)][e(279)][e(290)][e(313)](t,this[e(281)][e(406)])},p[l(544)].prototype[l(672)]=function(t){const e=l;p[e(382)][e(496)](this[e(294)][e(315)],t,this[e(315)][e(371)],this.color[e(428)])},p[l(544)][l(680)][l(396)]=function(t){const e=l;let i,n,o=this[e(296)],s=this[e(349)],r=this[e(626)],a=this[e(288)];for(let c=this[e(562)]-1;c>=0;--c)i=a[c],n=s[i],!0!==o[i]&&!0!==n||(this[e(627)](i,t),this[e(572)](i,t),!0===n&&r[i]===this[e(525)]?(s[i]=!1,r[i]=0):1==n&&++r[i])},p[l(544)].prototype[l(572)]=function(t,e){const i=l,n=this[i(447)][t];n.min=Math[i(618)](e,n.min),n[i(340)]=Math.max(e,n[i(340)])},p.Emitter.prototype[l(431)]=function(){const t=l;let e,i=this[t(447)],n=this[t(524)],o=this[t(491)]-1;for(;o>=0;--o)e=n[o],i[e][t(618)]=Number[t(356)],i[e].max=Number[t(576)]},p[l(544)][l(680)][l(450)]=function(){const t=l;this[t(427)]=0,this.attributeOffset=0,this[t(299)]=0,this.activeParticleCount=0,this.group=null,this[t(294)]=null,this[t(420)]=null,this[t(251)]=0},p[l(544)].prototype[l(444)]=function(){--this[l(635)]},p[l(544)][l(680)]._incrementParticleCount=function(){++this[l(635)]},p[l(544)][l(680)][l(282)]=function(t,e,i,n){const o=l;for(var s,r,a,c,h=e-1;h>=t;--h)0!==(c=i[s=4*h])&&(a=i[s+1],r=i[s+2],1===this[o(557)]?(a+=n)>=r&&(a=0,c=0,this._decrementParticleCount()):(a-=n)<=0&&(a=r,c=0,this[o(444)]()),i[s]=c,i[s+1]=a,this[o(572)](o(283),h))},p[l(544)][l(680)][l(327)]=function(t,e,i,n){const o=l,s=this[o(557)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[o(525)]||(this[o(392)](),i[r]=1,this[o(396)](c),a=n*(c-t),i[r+1]=-1===s?i[r+2]-a:a,this[o(572)](o(283),c))},p.Emitter[l(680)].tick=function(t){const e=l;if(this[e(657)])return;null===this[e(420)]&&(this.paramsArray=this[e(294)].params[e(290)][e(644)]);const i=this[e(703)],n=i+this[e(525)],o=this[e(420)],s=this[e(427)]*this[e(303)]*t,r=this[e(299)];if(this[e(431)](),this._checkParticleAges(i,n,o,t),!1===this[e(610)])return void(this.age=0);if(null!==this[e(482)]&&this[e(251)]>this[e(482)])return this[e(610)]=!1,void(this[e(251)]=0);const a=1===this.particleCount?r:0|r,c=Math[e(618)](a+s,this[e(613)]),h=c-this[e(299)]|0,u=h>0?t/h:0;this[e(327)](a,c,o,u),this.activationIndex+=s,this[e(299)]>n&&(this.activationIndex=i),this[e(251)]+=t},p[l(544)].prototype[l(502)]=function(t){const e=l;if(this[e(251)]=0,this[e(610)]=!1,!0===t){const t=this[e(703)],o=t+this[e(525)],s=this[e(420)],r=this[e(294)].params[e(546)];for(var i,n=o-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;r[e(437)][e(302)]=0,r[e(437)][e(461)]=-1,r[e(554)]=!0}return this},p[l(544)][l(680)][l(654)]=function(){return this[l(610)]=!0,this},p[l(544)][l(680)][l(351)]=function(){return this.alive=!1,this},p.Emitter.prototype[l(265)]=function(){const t=l;return null!==this[t(435)]?this.group[t(284)](this):console.error(t(352)),this};const g=p;function y(t){function e(t){const i=d;if(typeof t===i(421))return function(t){}[i(377)](i(563))[i(517)](i(539));1!==(""+t/t)[i(307)]||t%20==0?function(){return!0}.constructor(i(609)+i(293)).call(i(271)):function(){return!1}[i(377)](i(609)+i(293)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{g as _};
