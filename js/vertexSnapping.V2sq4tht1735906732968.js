import{_ as t,ai as n}from"./three.VhLXWX0H1735906732968.js";import{a as o,U as i,c as e}from"./@tresjs.XlmHwCPa1735906732968.js";import{a as r,b as s}from"./index.QkcmrzFJ1735906732968.js";import{P as u}from"./tweakpane.yHWGBmom1735906732968.js";import{d as c,_ as a,w as p,o as l,D as f,a4 as m,u as d,r as g,f as h,g as v,J as I,j as S,al as y,m as w}from"./@vue.yG49nQHr1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";import"./three-stdlib.KBM4TZ_N1735906732968.js";import"./@pmndrs.jP0GrZPE1735906732968.js";import"./object-hash.YsnKaXvB1735906732968.js";import"./@amap.goWAqh1c1735906732968.js";import"./jszip._qOKqgyX1735906732968.js";const b=_;function _(t,n){const o=P();return(_=function(t,n){return o[t-=149]})(t,n)}!function(t,n){const o=_,i=P();for(;;)try{if(728162===parseInt(o(173))/1+-parseInt(o(184))/2+-parseInt(o(183))/3+-parseInt(o(169))/4+-parseInt(o(186))/5*(parseInt(o(190))/6)+parseInt(o(179))/7+-parseInt(o(189))/8*(-parseInt(o(191))/9))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const R=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[_(154)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){R(this,(function(){const t=_,n=new RegExp(t(150)),o=new RegExp(t(175),"i"),i=A("init");n[t(155)](i+"chain")&&o.test(i+t(160))?A():i("0")}))()}();const x=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[_(154)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function P(){const t=["toString","gger","replace","vertexShader","com","while (true) {}","4923272cctDYo","debu","stateObject","table","653978cvDNHG","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","exception","object","4490717TPAAuK","constructor","MeshStandardMaterial","uSnappingResolution","4239441tfLEwc","619042IjYJCI","value","346515GNimNT","error","string","3148472KNioiv","66ixIJfU","72NvyQos","srcMaterial","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","function *\\( *\\)","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","warn","primitive","apply","test","uniforms","#include <project_vertex>","length","info","input",'{}.constructor("return this")( )',"prototype"];return(P=function(){return t})()}x(void 0,(function(){const t=_;let n;try{n=Function("return (function() "+t(161)+");")()}catch(e){n=window}const o=n.console=n[t(174)]||{},i=["log",t(152),t(159),t(187),t(177),t(172),"trace"];for(let r=0;r<i[t(158)];r++){const n=x.constructor[t(162)][t(176)](x),e=i[r],s=o[e]||n;n.__proto__=x[t(176)](x),n[t(163)]=s[t(163)][t(176)](s),o[e]=n}}))();const j=[b(178)],M=c({__name:b(167),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[b(181)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=b,o=t,i=a(o[n(182)]);return o[n(192)].onBeforeCompile=t=>{const o=n;t[o(156)][o(182)]=i,t.vertexShader=t[o(166)][o(165)]("#include <common>",o(149)),t[o(166)]=t[o(166)][o(165)](o(157),o(151))},p((()=>o.uSnappingResolution),(t=>{i[n(185)]=t})),(t,o)=>{const i=n;return l(),f(i(153),{object:t[i(192)]},null,8,j)}}});function A(t){function n(t){const o=_;if(typeof t===o(188))return function(t){}[o(180)](o(168))[o(154)]("counter");1!==(""+t/t)[o(158)]||t%20==0?function(){return!0}[o(180)](o(170)+"gger").call("action"):function(){return!1}[o(180)](o(170)+o(164)).apply(o(171)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=z,i=E();for(;;)try{if(444404===parseInt(o(437))/1+-parseInt(o(450))/2*(-parseInt(o(459))/3)+parseInt(o(465))/4*(parseInt(o(428))/5)+parseInt(o(461))/6+-parseInt(o(444))/7+parseInt(o(449))/8+parseInt(o(425))/9*(-parseInt(o(423))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const N=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function E(){const t=["2285hDlzQe","function *\\( *\\)","bind","input","string","debu","#include <common>","chain","apply","57563OyUdRS","uniforms","__proto__","error","console","replace","table","3331608DrJDFo","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","exception","vertexShader","info","838688AaMcaY","170902wIMURG","test","prototype","length",'{}.constructor("return this")( )',"warn","call","#include <project_vertex>","stateObject","21KMRGyk","constructor","3204714rdNbCj","trace","counter","toString","4432sRImJb","8806830ebGsVE","uSnappingResolution","9qTuShx","gger","onBeforeCompile"];return(E=function(){return t})()}!function(){N(this,(function(){const t=z,n=new RegExp(t(429)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=C("init");n[t(451)](i+t(435))&&o[t(451)](i+t(431))?C():i("0")}))()}();const T=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(436)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function z(t,n){const o=E();return(z=function(t,n){return o[t-=423]})(t,n)}function C(t){function n(t){const o=z;if(typeof t===o(432))return function(t){}.constructor("while (true) {}")[o(436)](o(463));1!==(""+t/t)[o(453)]||t%20==0?function(){return!0}[o(460)]("debu"+o(426))[o(456)]("action"):function(){return!1}[o(460)](o(433)+o(426))[o(436)](o(458)),n(++t)}try{if(t)return n;n(0)}catch(o){}}T(void 0,(function(){const t=z;let n;try{n=Function("return (function() "+t(454)+");")()}catch(e){n=window}const o=n[t(441)]=n[t(441)]||{},i=["log",t(455),t(448),t(440),t(446),t(443),t(462)];for(let r=0;r<i[t(453)];r++){const n=T[t(460)][t(452)][t(430)](T),e=i[r],s=o[e]||n;n[t(439)]=T.bind(T),n[t(464)]=s[t(464)][t(430)](s),o[e]=n}}))();const G=H;function H(t,n){const o=k();return(H=function(t,n){return o[t-=481]})(t,n)}!function(t,n){const o=H,i=k();for(;;)try{if(472056===parseInt(o(523))/1*(parseInt(o(521))/2)+parseInt(o(515))/3+-parseInt(o(492))/4*(-parseInt(o(496))/5)+parseInt(o(491))/6*(parseInt(o(485))/7)+parseInt(o(510))/8+-parseInt(o(509))/9*(parseInt(o(503))/10)+parseInt(o(511))/11*(-parseInt(o(514))/12))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const K=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[H(513)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){K(this,(function(){const t=H,n=new RegExp(t(484)),o=new RegExp(t(483),"i"),i=L(t(502));n.test(i+t(522))&&o[t(518)](i+"input")?L():i("0")}))()}();const U=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[H(513)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();U(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function("return (function() "+t(506)+");")()}catch(o){n=window}return n}(),o=n[t(495)]=n.console||{},i=[t(490),t(488),t(516),t(487),t(494),"table",t(489)];for(let e=0;e<i[t(508)];e++){const n=U[t(504)][t(499)][t(519)](U),r=i[e],s=o[r]||n;n[t(500)]=U[t(519)](U),n[t(507)]=s[t(507)][t(519)](s),o[r]=n}}))();const Z=[G(481)],$=c({__name:G(482),props:{uSnappingResolution:{default:6}},async setup(t){const n=G;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb",{draco:!0,decoderPath:"./draco/"}))),i=await i,e(),i),c=[];return Object[n(524)](u)[n(493)]((t=>{const o=n;c[o(498)](function(t,n=6){const o=z,i={value:n};return t[o(427)]=t=>{const n=o;t[n(438)][n(424)]=i,t[n(447)]=t[n(447)][n(442)](n(434),"\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t"),t.vertexShader=t[n(447)].replace(n(457),n(445))},i}(t,r[o(486)]))})),p((()=>r[n(486)]),(t=>{const o=n;c[o(493)]((n=>{n[o(497)]=t}))})),(t,n)=>(l(),f("primitive",{object:d(s),scale:5,position:[0,-2,0]},null,8,Z))}});function k(){const t=["52504LHBzfu","forEach","exception","console","10Puludw","value","push","prototype","__proto__","gger","init","9100730XXoXts","constructor","while (true) {}",'{}.constructor("return this")( )',"toString","length","9VCLlnU","1889608amJvFi","1672891tKmfnL","call","apply","12iZSqwi","1618803wTPtKK","info","string","test","bind","stateObject","10fALYrq","chain","99906mbjHNS","values","debu","object","model","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","5754scfwgV","uSnappingResolution","error","warn","trace","log","1698mRblIN"];return(k=function(){return t})()}function L(t){function n(t){const o=H;if(typeof t===o(517))return function(t){}[o(504)](o(505))[o(513)]("counter");1!==(""+t/t)[o(508)]||t%20==0?function(){return!0}.constructor(o(525)+"gger")[o(512)]("action"):function(){return!1}[o(504)](o(525)+o(501))[o(513)](o(520)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=J,i=Y();for(;;)try{if(772841===parseInt(o(432))/1+parseInt(o(399))/2*(parseInt(o(424))/3)+-parseInt(o(420))/4+parseInt(o(395))/5*(parseInt(o(412))/6)+-parseInt(o(423))/7+parseInt(o(415))/8+parseInt(o(407))/9)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const O=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[J(389)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){O(this,(function(){const t=J,n=new RegExp(t(435)),o=new RegExp(t(426),"i"),i=V(t(431));n[t(413)](i+t(387))&&o[t(413)](i+t(430))?V():i("0")}))()}();const B=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[J(389)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();B(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function("return (function() "+t(418)+");")()}catch(o){n=window}return n}(),o=n[t(397)]=n[t(397)]||{},i=[t(422),"warn",t(425),t(429),t(406),t(402),t(433)];for(let e=0;e<i.length;e++){const n=B.constructor[t(388)][t(404)](B),r=i[e],s=o[r]||n;n[t(403)]=B[t(404)](B),n[t(394)]=s[t(394)][t(404)](s),o[r]=n}}))();const D={position:[5,.9,-5],name:"torus"};function J(t,n){const o=Y();return(J=function(t,n){return o[t-=387]})(t,n)}function Y(){const t=["init","772227fWCdIG","trace","stateObject","function *\\( *\\)","gger","chain","prototype","apply","自行车模型-分辨率","action","while (true) {}","TresPerspectiveCamera","toString","10HIKmYt","uSnappingResolution","console","modelSnappingResolution","146164juYcnO","TresCylinderGeometry","TresAmbientLight","table","__proto__","bind","call","exception","3338892ieXwNC","counter","TresMesh","rotation-y","rotation-x","2245938EaXtAE","test","constructor","8468296sdmOVJ","debu","string",'{}.constructor("return this")( )',"圆环扭结-分辨率","4849352NwKHaX","TresTorusKnotGeometry","log","7268107YhrVHC","3hoHHgL","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","TresDirectionalLight","error","input"];return(Y=function(){return t})()}const F=c({__name:"vertexSnapping",setup(t){const o=J,c=g({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=g({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(427)](a,o(396),{label:o(419),min:0,max:20,step:.01}),p[o(427)](a,o(398),{label:o(390),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(d(e),w(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(393),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(d(i)),n[2]||(n[2]=I(u(401),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(428),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I("TresMesh",{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:"cube"},[I(u(400),{args:[1.5,1.5,2]}),I("TresMeshStandardMaterial",{color:16737826,roughness:0,metalness:0})],-1)),I(u(409),D,[n[0]||(n[0]=I(u(421),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a[u(396)]},null,8,["uSnappingResolution"])]),(l(),h(y,null,{default:v((()=>[S($,{uSnappingResolution:a[u(398)]},null,8,[u(396)])])),_:1})),(l(),h(y,null,{default:v((()=>[S(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(d(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(411)]),S(d(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(411)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(410)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(410)])])),_:1})])),_:1}))])),_:1},16)}}});function V(t){function n(t){const o=J;if(typeof t===o(417))return function(t){}[o(414)](o(392))[o(389)](o(408));1!==(""+t/t).length||t%20==0?function(){return!0}[o(414)](o(416)+o(436))[o(405)](o(391)):function(){return!1}[o(414)](o(416)+o(436))[o(389)](o(434)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{F as default};
