import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{ai as t,as as n,s,i as o,p as i,d as a,b as r,w as l,bh as u,c,aH as p,n as d,k as f,u as v}from"./@vue.Dg3dyR4l1767066396612.js";import{n as h,t as g}from"./echarts.CnRtVePW1767066396612.js";await e("vue");const m=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function O(e){return function(){const t=Object.create(null);return m.forEach(n=>{t[n]=function(t){return(...n)=>{if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[t].apply(e.value,n)}}(n)}),t}()}const _={autoresize:[Boolean,Object]},b=/^on[^a-z]/,E=e=>b.test(e);function j(e,t){const n=f(e)?v(e):e;return n&&"object"==typeof n&&"value"in n?n.value||t:n||t}const y={loading:Boolean,loadingOptions:Object};let w=null;const x="x-vue-echarts";document.head.appendChild(document.createElement("style")).textContent="x-vue-echarts{display:block;width:100%;height:100%;min-width:0}\n";const L=function(){if(null!=w)return w;if("undefined"==typeof HTMLElement||"undefined"==typeof customElements)return w=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(x)}catch(e){return w=!1}return w=!0}(),z=/(^&?~?!?)native:/;var C=t({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,..._,...y},emits:{},inheritAttrs:!1,setup(e,{attrs:t}){const n=s(),f=s(),v=s(),m=o("ecTheme",null),_=o("ecInitOptions",null),b=o("ecUpdateOptions",null),{autoresize:y,manualUpdate:w,loading:x,loadingOptions:C}=i(e),A=a(()=>v.value||e.option||null),U=a(()=>e.theme||j(m,{})),k=a(()=>e.initOptions||j(_,{})),D=a(()=>e.updateOptions||j(b,{})),H=a(()=>function(e){const t={};for(const n in e)E(n)||(t[n]=e[n]);return t}(t)),$={},R=r().proxy.$listeners,T={};function B(t){if(!n.value)return;const s=f.value=h(n.value,U.value,k.value);function o(){const e=t||A.value;e&&s.setOption(e,D.value)}e.group&&(s.group=e.group),Object.keys(T).forEach(e=>{let t=T[e];if(!t)return;let n=e.toLowerCase();"~"===n.charAt(0)&&(n=n.substring(1),t.__once__=!0);let o=s;if(0===n.indexOf("zr:")&&(o=s.getZr(),n=n.substring(3)),t.__once__){delete t.__once__;const e=t;t=(...s)=>{e(...s),o.off(n,t)}}o.on(n,t)}),y.value?d(()=>{s&&!s.isDisposed()&&s.resize(),o()}):o()}function M(){f.value&&(f.value.dispose(),f.value=void 0)}R?Object.keys(R).forEach(e=>{z.test(e)?$[e.replace(z,"$1")]=R[e]:T[e]=R[e]}):Object.keys(t).filter(e=>E(e)).forEach(e=>{let n=e.charAt(2).toLowerCase()+e.slice(3);if(0===n.indexOf("native:")){const s=`on${n.charAt(7).toUpperCase()}${n.slice(8)}`;return void($[s]=t[e])}"Once"===n.substring(n.length-4)&&(n=`~${n.substring(0,n.length-4)}`),T[n]=t[e]});let P=null;l(w,t=>{"function"==typeof P&&(P(),P=null),t||(P=l(()=>e.option,(e,t)=>{e&&(f.value?f.value.setOption(e,{notMerge:e!==t,...D.value}):B())},{deep:!0}))},{immediate:!0}),l([U,k],()=>{M(),B()},{deep:!0}),u(()=>{e.group&&f.value&&(f.value.group=e.group)});const W=O(f);return function(e,t,n){const s=o("ecLoadingOptions",{}),i=a(()=>({...j(s,{}),...n?.value}));u(()=>{const n=e.value;n&&(t.value?n.showLoading(i.value):n.hideLoading())})}(f,x,C),function(e,t,n){l([n,e,t],([e,t,n],s,o)=>{let i=null;if(e&&t&&n){const{offsetWidth:s,offsetHeight:o}=e,a=!0===n?{}:n,{throttle:r=100,onResize:l}=a;let u=!1;const c=()=>{t.resize(),l?.()},p=r?g(c,r):c;i=new ResizeObserver(()=>{(u||(u=!0,e.offsetWidth!==s||e.offsetHeight!==o))&&p()}),i.observe(e)}o(()=>{i&&(i.disconnect(),i=null)})})}(f,y,n),c(()=>{B()}),p(()=>{L&&n.value?n.value.__dispose=M:M()}),{chart:f,root:n,setOption:function(t,n){e.manualUpdate&&(v.value=t),f.value?f.value.setOption(t,n||{}):B(t)},nonEventAttrs:H,nativeListeners:$,...W}},render(){const e={...this.nonEventAttrs,...this.nativeListeners};return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",n(x,e)}});export{C as E};
