import{D as t,e as o,o as e,Q as a}from"./@tresjs.zc7faK4J1743660816268.js";import{ar as s,as as n}from"./three.2wx8FU0g1743660816268.js";import{_ as i}from"./default.vue_vue_type_script_setup_true_lang.GPuSGd7F1743660816268.js";import{d as r,a4 as l,w as p,o as u,H as c,u as d,v as h,N as m,j as g,F as j,X as M,e as w,g as y,m as f,f as v,al as _}from"./@vue.B5PFBfKs1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";import"./@fesjs.9AUNBPBQ1743660816268.js";import"./vue-router.K4ys0Z-O1743660816268.js";import"./lodash-es.IJc9G_SW1743660816268.js";import"./@qlin.o0hjOMCg1743660816268.js";import"./pinia.0dYyFDku1743660816268.js";import"./@floating-ui.HzHndBae1743660816268.js";import"./@juggle.4EyLec-41743660816268.js";const b=["object"],S=r({__name:"airplane",props:{planet:{}},async setup(e){let a,s;const n=e,{scene:i}=([a,s]=l((()=>t("./plugins/earthSample/model/lowpolyPlanet/airplane.gltf"))),a=await a,s(),a),r=i;r.rotation.set(0,Math.PI,0),i.traverse((t=>{t.isMesh&&(t.castShadow=!0)})),r.updateMatrixWorld();const{onLoop:h}=o();p((()=>n.planet),(t=>{if(!t)return;t.geometry.computeBoundingSphere();const o=Math.abs(1|t.geometry.boundingSphere?.radius);r.position.set(o,0,0),r.lookAt(t.position)}));let m=0;return h((({delta:t})=>{if(!r||!n.planet)return;const o=Math.abs(n.planet.geometry.boundingSphere.radius)+.5;m+=.2*t;const e=o*Math.cos(m),a=o*Math.sin(m);r.position.x=e,r.position.z=a,r.rotation.z=-Math.PI/2,r.rotation.y=-m,r.updateMatrixWorld()})),(t,o)=>(u(),c("primitive",{object:d(r)},null,8,b))}}),x=["object"],P=r({__name:"cloud",props:{planet:{}},async setup(e){let a,s;const n=e,{scene:i}=([a,s]=l((()=>t("./plugins/earthSample/model/lowpolyPlanet/cloud.gltf"))),a=await a,s(),a);h();const r=i.children[0];function m(t,o){const e=Math.random()*(o-t)+t;return Math.random()<.5?-e:e}r.castShadow=!0,r.position.set(m(-8,8),m(.5,1),m(-8,8));const g=m(.5,1);r.scale.set(g,g,g),r.updateMatrixWorld(),p((()=>n.planet),(t=>{t&&(r.lookAt(t.position),r.updateMatrixWorld())}));const{onLoop:j}=o();let M=m(-1,1)*Math.PI;const w=Math.random()/10;return j((({delta:t})=>{if(!r)return;const o=Math.abs(n.planet.geometry.boundingSphere.radius-.5);M+=t*w;const e=o*Math.cos(M),a=o*Math.sin(M);r.position.x=e,r.position.z=a,r.rotation.y=-M,r.lookAt(n.planet.position),r.updateMatrixWorld()})),(t,o)=>(u(),c("primitive",{object:d(i),"cast-shadow":""},null,8,x))}}),z=["object"],L=r({__name:"planet",async setup(e){let a,s;const{nodes:n}=([a,s]=l((()=>t("./plugins/earthSample/model/lowpolyPlanet/planet.gltf"))),a=await a,s(),a),i=n.Planet,r=n.Icosphere;i.traverse((t=>{t.isMesh&&(t.receiveShadow=!0)}));const{onLoop:p}=o();return p((({delta:t})=>{i&&(i.rotation.y+=.04*t,i.rotation.z+=.02*t,i.rotation.x+=.05*t,i.updateMatrixWorld())})),(t,o)=>(u(),c(j,null,[m("primitive",{object:d(i)},null,8,z),g(S,{planet:d(r)},null,8,["planet"]),(u(),c(j,null,M([1,2,3,4,5,6,7,8,9],(t=>g(P,{key:t,planet:d(r)},null,8,["planet"]))),64))],64))}}),T=r({__name:"lowpolyPlanet",setup(t){const r={clearColor:"#11101B",shadows:!0,alpha:!1,outputColorSpace:s,shadowMapType:n,useLegacyLights:!0},l=h(0);return o().onLoop((({delta:t})=>{l.value+=.02*t})),(t,o)=>{const s=w("TresCanvas");return u(),c(j,null,[g(i),g(s,f(r,{"window-size":""}),{default:y((()=>[o[0]||(o[0]=m("TresPerspectiveCamera",{position:[0,1,5],fov:75,near:.1,far:1e3},null,-1)),g(d(e)),o[1]||(o[1]=m("TresAmbientLight",{color:"#484068",intensity:1},null,-1)),(u(),v(_,null,{default:y((()=>[g(L)])),_:1})),g(d(a),{rotation:[0,l.value,0],radius:50,depth:50,count:5e3,size:.3,"size-attenuation":!0},null,8,["rotation"]),o[2]||(o[2]=m("TresPointLight",{color:"#1BFFEF",position:[0,0,-8],intensity:80,"cast-shadow":""},null,-1)),o[3]||(o[3]=m("TresDirectionalLight",{position:[0,2,4],intensity:3,"cast-shadow":"","shadow-mapSize-width":2048,"shadow-mapSize-height":2048},null,-1))])),_:1},16)],64)}}});export{T as default};
