import{b as n,e as t}from"./@tresjs.ty5XF8T_1732177334649.js";import{d as o,a6 as e,r,X as i,a3 as a,o as u,D as s,J as c,m as l,u as f,b as p,w as d,aj as g,ak as h}from"./@vue.-THQH3GC1732177334649.js";import{aB as v,a0 as m,C as y,M as x,ch as w,V as _}from"./three.rV-MfnQb1732177334649.js";const M=b;!function(n,t){const o=b,e=S();for(;;)try{if(638530===parseInt(o(340))/1*(-parseInt(o(310))/2)+-parseInt(o(341))/3*(-parseInt(o(360))/4)+-parseInt(o(339))/5*(parseInt(o(351))/6)+-parseInt(o(356))/7*(parseInt(o(349))/8)+parseInt(o(353))/9+-parseInt(o(338))/10*(-parseInt(o(361))/11)+parseInt(o(335))/12*(parseInt(o(328))/13))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const I=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[b(329)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function b(n,t){const o=S();return(b=function(n,t){return o[n-=308]})(n,t)}!function(){I(this,(function(){const n=b,t=new RegExp(n(347)),o=new RegExp(n(331),"i"),e=R("init");t[n(333)](e+"chain")&&o[n(333)](e+n(322))?R():e("0")}))()}();const A=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[b(329)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();A(void 0,(function(){const n=b,t=function(){const n=b;let t;try{t=Function(n(348)+n(311)+");")()}catch(o){t=window}return t}(),o=t[n(309)]=t[n(309)]||{},e=[n(315),n(344),n(354),n(337),n(324),n(336),n(319)];for(let r=0;r<e[n(316)];r++){const t=A[n(330)][n(357)][n(359)](A),i=e[r],a=o[i]||t;t[n(350)]=A.bind(A),t[n(308)]=a[n(308)][n(359)](a),o[i]=t}}))();const T=[M(327),M(355)],F=[M(313)],P=o({__name:M(317),props:{color:{default:M(346)},position:{default:[0,0,0]},scale:{default:.1},img:{},offset:{default:[.344,.394]},foremost:{type:Boolean,default:!0},sizeAttenuation:{type:Boolean,default:!1}},async setup(t){const o=M;let p,d;const g=t,{map:h}=([p,d]=e((()=>n({map:g[o(314)]}))),p=await p,d(),p),v=r({color:g.color,transparent:!0,depthWrite:!1,sizeAttenuation:g[o(321)],toneMapped:!1,depthTest:!g[o(343)]}),m=i(null);return a((()=>{const n=o;m[n(352)]&&(m[n(352)][n(326)]=m[n(352)][n(326)][n(312)](),m[n(352)][n(326)].translate(g[n(323)][0],g[n(323)][1],0))})),(n,t)=>{const e=o;return u(),s(e(332),{ref_key:"tsRef",ref:m,position:g[e(327)],scale:g.scale,renderOrder:e(320)},[c(e(358),l(v,{map:f(h)}),null,16,F)],8,T)}}});function R(n){function t(n){const o=b;if(typeof n===o(363))return function(n){}[o(330)](o(362)).apply(o(325));1!==(""+n/n).length||n%20==0?function(){return!0}[o(330)](o(334)+o(345))[o(342)]("action"):function(){return!1}[o(330)](o(334)+o(345))[o(329)](o(318)),t(++n)}try{if(n)return t;t(0)}catch(o){}}function S(){const n=["toString","console","4742JexCtd",'{}.constructor("return this")( )',"clone","map","img","log","length","buildingsMarkA","stateObject","trace","99999","sizeAttenuation","input","offset","exception","counter","geometry","position","986908fCfoPa","apply","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresSprite","test","debu","108MOrJin","table","error","10XyTOlC","4585765uVdzBZ","243lwMUVs","165XAJoLy","call","foremost","warn","gger","#fff","function *\\( *\\)","return (function() ","8148272fKKQAU","__proto__","6drTAwa","value","1570707hfLZfd","info","scale","7mZrUCI","prototype","TresSpriteMaterial","bind","77564bFfMzZ","13487078cHYJwC","while (true) {}","string"];return(S=function(){return n})()}function z(n,t){const o=C();return(z=function(n,t){return o[n-=478]})(n,t)}function C(){const n=["MeshRef","11904220fKQtvL","#ffff00","TresCircleGeometry","9SxMsYs","chain",'{}.constructor("return this")( )',"length","TresShaderMaterial","size","5440226hNgXeS","162IYXLgy","\n\tuniform float uRadius;     \n  uniform float uTime;            \n  uniform float uSpeed; \n  uniform float uFollowWidth; \n  varying vec3 vPosition;\n\tuniform vec3 ncolor;\n  float calcAngle(vec3 oFrag){\n    float fragAngle;\n    const vec3 ox = vec3(1,0,0);\n    float dianji = oFrag.x * ox.x + oFrag.z*ox.z;\n    float oFrag_length = length(oFrag); // length是内置函数\n    float ox_length = length(ox); // length是内置函数\n    float yuxian = dianji / (oFrag_length * ox_length);\n    fragAngle = acos(yuxian);\n    fragAngle = degrees(fragAngle);\n    if(oFrag.z > 0.0) {\n      fragAngle = -fragAngle + 360.0;\n    }\n    float scanAngle = uTime * uSpeed - floor(uTime * uSpeed / 360.0) * 360.0;\n    float angle = scanAngle - fragAngle;\n    if(angle < 0.0){\n      angle = angle + 360.0;\n    }\n    return angle;\n  }\n  void main() {\n\t\t\t// length内置函数，取向量的长度\n\t\tif(length(vPosition) == 0.0 || length(vPosition) > uRadius-2.0){\n\t\t\tgl_FragColor = vec4( ncolor, 1.0 );\n\t\t} else {\n\t\t\tfloat angle = calcAngle(vPosition);\n\t\t\tif(angle < uFollowWidth){\n\t\t\t\t// 尾焰区域\n\t\t\t\tfloat opacity =  1.0 - angle / uFollowWidth; \n\t\t\t\tgl_FragColor = vec4( ncolor, 1.0 * opacity );  \n\t\t\t} else {\n\t\t\t\t// 其他位置的像素均为透明\n\t\t\t\tgl_FragColor = vec4( ncolor, 0.0 ); \n\t\t\t}\n\t\t}\n\t}\n  ","toString","trace","104864RHmaAX","makeRotationX","bind","test","action","4463825GYdEHa","ncolor","console","table","debu","position","TresCircleGeometryRef","84bDIOur","10289752zJUYUe","stateObject","radraA","counter","error","4825ciqLiV","294413QWApvY","string","uRadius","gger","value","args","94zRlTLI","color","speed","log","init","36FCSIdC","uniforms","constructor","apply","radius","\n\tvarying vec3 vPosition;\n\tvoid main() {\n\t\tvPosition = position;\n\t\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\tvec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n    gl_Position = projectionPosition;\n  }\n  ","exception","while (true) {}","warn"];return(C=function(){return n})()}const j=z;!function(n,t){const o=z,e=C();for(;;)try{if(728498===parseInt(o(531))/1*(parseInt(o(484))/2)+-parseInt(o(525))/3*(parseInt(o(513))/4)+-parseInt(o(518))/5+parseInt(o(509))/6*(parseInt(o(478))/7)+parseInt(o(526))/8+parseInt(o(502))/9*(parseInt(o(499))/10)+parseInt(o(508))/11*(-parseInt(o(489))/12))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(492)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){k(this,(function(){const n=z,t=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=X(n(488));t[n(516)](e+n(503))&&o[n(516)](e+"input")?X():e("0")}))()}();const B=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();B(void 0,(function(){const n=z,t=function(){const n=z;let t;try{t=Function("return (function() "+n(504)+");")()}catch(o){t=window}return t}(),o=t[n(520)]=t[n(520)]||{},e=[n(487),n(497),"info",n(530),n(495),n(521),n(512)];for(let r=0;r<e[n(505)];r++){const t=B.constructor.prototype[n(515)](B),i=e[r],a=o[i]||t;t.__proto__=B[n(515)](B),t.toString=a[n(511)].bind(a),o[i]=t}}))();const Z=[j(523)],W=[j(483)],O=o({__name:j(528),props:{position:{default:[0,0,0]},size:{default:300},radius:{default:240},color:{default:j(500)},opacity:{default:.9},speed:{default:300},followWidth:{default:220}},setup(n,{expose:o}){const e=j,r=n,{onLoop:i}=t(),l={value:0},f=p();i((({delta:n})=>{l.value+=n}));const w={transparent:!0,blending:v,depthWrite:!1,side:m,depthTest:!0,vertexShader:e(494),fragmentShader:e(510),uniforms:{uSpeed:{value:r[e(486)]},uRadius:{value:r[e(493)]},uTime:l,uFollowWidth:{value:r.followWidth},ncolor:{value:new y(r[e(485)])}}};d(f,((n,t)=>{const o=e;if(n&&void 0===t){const n=(new x)[o(514)](-Math.PI/180*90);f[o(482)].applyMatrix4(n)}}));const _=p();return a((()=>{const n=e;r.color&&(w.uniforms[n(519)][n(482)]=new y(r[n(485)])),r.radius&&(w[n(490)][n(480)][n(482)]=r[n(493)])})),p(-Math.PI/180*90),o({MeshRef:_}),(n,t)=>{const o=e;return u(),s("TresMesh",{ref_key:o(498),ref:_,position:r[o(523)]},[c(o(501),{ref_key:o(524),ref:f,args:[r[o(507)],1e3]},null,8,W),c(o(506),g(h(w)),null,16)],8,Z)}}});function X(n){function t(n){const o=z;if(typeof n===o(479))return function(n){}[o(491)](o(496))[o(492)](o(529));1!==(""+n/n)[o(505)]||n%20==0?function(){return!0}[o(491)]("debu"+o(481)).call(o(517)):function(){return!1}[o(491)](o(522)+o(481))[o(492)](o(527)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const L=J;!function(n,t){const o=J,e=V();for(;;)try{if(205407===-parseInt(o(406))/1+-parseInt(o(410))/2*(-parseInt(o(384))/3)+-parseInt(o(371))/4+-parseInt(o(374))/5*(-parseInt(o(408))/6)+-parseInt(o(373))/7+parseInt(o(363))/8*(-parseInt(o(395))/9)+parseInt(o(413))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const E=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){E(this,(function(){const n=J,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(366),"i"),e=Q(n(404));t[n(381)](e+"chain")&&o[n(381)](e+"input")?Q():e("0")}))()}();const G=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function J(n,t){const o=V();return(J=function(n,t){return o[n-=360]})(n,t)}function V(){const n=['{}.constructor("return this")( )',"TresShaderMaterial","toString","test","radraB","makeScale","3mTQdNx","trace","prototype","constructor","position","color","call","uniforms","height","__proto__","apply","12060NnMBcC","gger","exception","TresTubeGeometryRef","min","string","length","warn","boundingBox","init","radius","126868zheFfp","TresTubeGeometry","12BFufuZ","#ffff00","46362yOjdGe","max","\n\tuniform vec3 uColor; // 光墙半径        \n  uniform vec3 uMax; \n  uniform vec3 uMin;\n  uniform mat4 modelMatrix; // 世界矩阵\n  varying vec4 vPosition; // 接收顶点着色传递进来的位置数据\n  void main() {\n    // 转世界坐标\n    vec4 uMax_world = modelMatrix * vec4(uMax,1.0);\n    vec4 uMin_world = modelMatrix * vec4(uMin,1.0);\n    // 根据像素点世界坐标的y轴高度,设置透明度\n    float opacity =1.0 - (vPosition.y - uMin_world.y) / (uMax_world.y -uMin_world.y) ; \n    gl_FragColor = vec4( uColor, opacity);\n  }\n  ","5118990laXqTP","console","maxRadius","value","period","uColor","debu","table","296JgVtjB","scale","applyMatrix4","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","MeshRef","action","TresMesh","369576alsGya","error","2727263fgjXMF","821945jVlDth","opacity","log","stateObject"];return(V=function(){return n})()}G(void 0,(function(){const n=J,t=function(){const n=J;let t;try{t=Function("return (function() "+n(378)+");")()}catch(o){t=window}return t}(),o=t[n(414)]=t.console||{},e=[n(376),n(402),"info",n(372),n(397),n(362),n(385)];for(let r=0;r<e[n(401)];r++){const t=G.constructor[n(386)][n(367)](G),i=e[r],a=o[i]||t;t[n(393)]=G[n(367)](G),t.toString=a[n(380)][n(367)](a),o[i]=t}}))();const Y=[L(388)],$=["args"],U=o({__name:L(382),props:{position:{default:[0,0,0]},radius:{default:10},maxRadius:{default:200},color:{default:L(409)},opacity:{default:.5},period:{default:2},height:{default:100}},setup(n,{expose:o}){const e=L,r=n,i=p(),l=p(1),f=p(.1),v={color:r[e(389)],opacity:r[e(375)],transparent:!0,depthWrite:!1,depthTest:!0,side:m,vertexShader:"\n\tvarying vec4 vPosition;\n  void main() {\n    vPosition = modelMatrix * vec4(position,1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n  ",fragmentShader:e(412),uniforms:{uMax:l,uMin:f,uColor:{value:new y(r.color)}}},M=p();let I=null;d(M,((n,t)=>{const o=e;n&&void 0===t&&(M[o(416)].computeBoundingBox(),l[o(416)]=M.value.boundingBox[o(411)],f[o(416)]=M[o(416)][o(403)][o(399)],I=i.value[o(364)].clone())}));const b=p(new w(new _(0,0,0),new _(0,r[e(392)],0)));a((()=>{const n=e;r[n(389)]&&(v[n(391)][n(360)].value=new y(r[n(389)]))}));const{onLoop:A}=t(),T={value:0};return A((({delta:n})=>{const t=e;T[t(416)]+=n;const o=(T[t(416)]%r[t(417)]/r[t(417)]*(r[t(415)]-r.radius)+r.radius)/r[t(405)],a=(new x)[t(383)](o,1,o);I&&(i.value[t(364)].copy(I.clone()[t(365)](a)),i.value.updateMatrix())})),o({MeshRef:i}),(n,t)=>{const o=e;return u(),s(o(370),{ref_key:o(368),ref:i,position:r.position,renderOrder:2e3},[c(o(407),{ref_key:o(398),ref:M,args:[b[o(416)],20,r[o(405)],100,!1]},null,8,$),c(o(379),g(h(v)),null,16)],8,Y)}}});function Q(n){function t(n){const o=J;if(typeof n===o(400))return function(n){}.constructor("while (true) {}")[o(394)]("counter");1!==(""+n/n)[o(401)]||n%20==0?function(){return!0}[o(387)](o(361)+o(396))[o(390)](o(369)):function(){return!1}[o(387)](o(361)+o(396))[o(394)](o(377)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{P as _,O as a,U as b};
