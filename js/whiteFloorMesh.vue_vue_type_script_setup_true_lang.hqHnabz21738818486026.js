import{_ as t,bN as n,a3 as o,bU as r,C as e}from"./three.WgQSjl1J1738818486026.js";import{a}from"./@tresjs.ZGxFoQtw1738818486026.js";import{d as s,b as c,a3 as i,w as u,o as f,H as l,N as p,aj as h,ak as d}from"./@vue.NRI7TcgI1738818486026.js";!function(t,n){const o=x,r=v();for(;;)try{if(787196===parseInt(o(223))/1*(-parseInt(o(192))/2)+-parseInt(o(227))/3*(parseInt(o(208))/4)+parseInt(o(233))/5*(-parseInt(o(240))/6)+parseInt(o(198))/7+-parseInt(o(219))/8+-parseInt(o(222))/9+-parseInt(o(218))/10*(-parseInt(o(205))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[x(229)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=x,n=new RegExp(t(236)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=I(t(207));n[t(194)](r+t(202))&&o[t(194)](r+t(217))?I():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(){const t=["170iHPIYc","trace","return (function() ","function *\\( *\\)","__proto__","constructor","string","138786IDIqxb","shadowmap_vertex","project_vertex","gger","length","bsdfs","45530XljTIV","defaultnormal_vertex","test","bind","\n      \t","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","1434867MDhgfZ","shadowmask_pars_fragment","info","table","chain","while (true) {}","shadowmap_pars_fragment","3806FfigYd","begin_vertex","init","4924lpOdVS","packing","error","toString","\n\t ","log","ShaderChunk","prototype","action","input","117330AVPZIT","6539496PWdfEV","debu",'{}.constructor("return this")( )',"10138797cbdtRO","28OOFLvp","counter","\n       varying vec2 vUv;\n\t\t\t \t","warn","267piGobW","common","apply","\n       void main() {\n\t\t\t\t\t","\n          ","exception"];return(v=function(){return t})()}m(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function(t(235)+t(221)+");")()}catch(o){n=window}return n}(),o=n.console=n.console||{},r=[t(213),t(226),t(200),t(210),t(232),t(201),t(234)];for(let e=0;e<r[t(244)];e++){const n=m[t(238)][t(215)][t(195)](m),a=r[e],s=o[a]||n;n[t(237)]=m[t(195)](m),n[t(211)]=s[t(211)][t(195)](s),o[a]=n}}))();const w=()=>{const o=x;return o(225)+t[o(214)][o(228)]+"\n      \t"+t[o(214)].bsdfs+o(196)+t[o(214)].shadowmap_pars_vertex+o(230)+n.beginnormal_vertex+o(231)+n[o(193)]+o(231)+t[o(214)][o(206)]+o(231)+n[o(242)]+"\n          "+t[o(214)].worldpos_vertex+"\n          "+t[o(214)][o(241)]+o(197)},_=()=>{const n=x;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+t[n(214)][n(228)]+n(212)+t[n(214)][n(209)]+n(212)+t[n(214)][n(191)]+"\n\t "+t[n(214)].lights_pars_begin+n(212)+t[n(214)][n(204)]+n(212)+t[n(214)][n(199)]+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function x(t,n){const o=v();return(x=function(t,n){return o[t-=191]})(t,n)}function I(t){function n(t){const o=x;if(typeof t===o(239))return function(t){}[o(238)](o(203))[o(229)](o(224));1!==(""+t/t)[o(244)]||t%20==0?function(){return!0}[o(238)](o(220)+o(243)).call(o(216)):function(){return!1}[o(238)](o(220)+o(243))[o(229)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=M;!function(t,n){const o=M,r=E();for(;;)try{if(426297===-parseInt(o(415))/1+parseInt(o(361))/2*(parseInt(o(378))/3)+-parseInt(o(372))/4*(parseInt(o(375))/5)+parseInt(o(369))/6*(-parseInt(o(385))/7)+parseInt(o(408))/8+parseInt(o(416))/9+-parseInt(o(402))/10*(parseInt(o(396))/11))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[M(395)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){y(this,(function(){const t=M,n=new RegExp(t(414)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=O(t(417));n[t(398)](r+t(406))&&o[t(398)](r+t(384))?O():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[M(395)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=M,n=function(){const t=M;let n;try{n=Function(t(366)+'{}.constructor("return this")( ));')()}catch(o){n=window}return n}(),o=n[t(411)]=n[t(411)]||{},r=[t(370),t(373),t(397),t(362),t(410),t(399),t(388)];for(let e=0;e<r.length;e++){const n=S[t(394)][t(364)][t(365)](S),a=r[e],s=o[a]||n;n[t(376)]=S[t(365)](S),n[t(382)]=s[t(382)].bind(s),o[a]=n}}))();const C=[b(403)],j=[b(404)];function M(t,n){const o=E();return(M=function(t,n){return o[t-=360]})(t,n)}const T=s({__name:b(386),props:{size:{default:[20,20]},color:{default:"#990"},shadowColor:{default:b(390)},edge:{default:.35}},async setup(n){const s=b;let g,m;const v=n,x=c(),{map:I}=([g,m]=i((()=>a({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,m(),g);I[s(407)]=I[s(363)]=o;const y={uniforms:t[s(368)].merge([r[s(380)],{uTexture:{type:"t",value:I},uColor:{value:new(t[s(379)])(v.color)},uShadowColor:{value:new e(v[s(360)])},fEdge:{type:"f",value:v[s(391)]}}]),side:t[s(392)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return u((()=>v[s(391)]),(t=>{const n=s;y[n(400)][n(383)].value=t})),u((()=>v[s(418)]),(n=>{const o=s;y[o(400)][o(405)][o(393)]=new(t[o(379)])(v[o(418)])})),u((()=>v[s(360)]),(n=>{const o=s;y.uniforms[o(367)][o(393)]=new(t[o(379)])(v.shadowColor)})),(t,n)=>{const o=s;return f(),l("TresMesh",{ref_key:o(412),ref:x,"rotation-x":-Math.PI/2},[p("TresPlaneGeometry",{args:v[o(389)]},null,8,j),p(o(381),h(d(y)),null,16)],8,C)}}});function E(){const t=["stateObject","4383MwmCLx","Color","lights","TresShaderMaterial","toString","fEdge","input","7273rdtSlH","whiteFloorMesh","call","trace","size","#999","edge","DoubleSide","value","constructor","apply","75427OvQOHf","info","test","table","uniforms","counter","100vBSfGX","rotation-x","args","uColor","chain","wrapS","6508736XWpnJf","while (true) {}","exception","console","tmRef","debu","function *\\( *\\)","256530xKghre","7393086hMcOaG","init","color","shadowColor","478lxFrga","error","wrapT","prototype","bind","return (function() ","uShadowColor","UniformsUtils","3954SwdAhw","log","gger","12gJnwzz","warn","action","913545jbRMRX","__proto__"];return(E=function(){return t})()}function O(t){function n(t){const o=M;if("string"==typeof t)return function(t){}[o(394)](o(409))[o(395)](o(401));1!==(""+t/t).length||t%20==0?function(){return!0}[o(394)](o(413)+o(371))[o(387)](o(374)):function(){return!1}[o(394)](o(413)+o(371))[o(395)](o(377)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
