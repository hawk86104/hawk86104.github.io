import{e as n,m as t,U as e,s as o,b as r}from"./@tresjs.ozxSQdlw1732680436779.js";import{_ as i,V as s,az as a,K as c,a0 as u}from"./three.HQIWXjA-1732680436779.js";import{P as l}from"./tweakpane.yHWGBmom1732680436779.js";import{L as f}from"./three-subdivide.CMvpBHte1732680436779.js";import{d as p,b as d,a3 as m,w as h,o as g,D as v,J as y,aj as b,ak as w,a6 as I,r as M,e as _,f as x,g as T,j as S,u as j,m as A,I as B}from"./@vue.u2cBPEWn1732680436779.js";import"./@vueuse.OVEejUj91732680436779.js";const k=R;!function(n,t){const e=R,o=G();for(;;)try{if(351106===parseInt(e(127))/1*(-parseInt(e(122))/2)+-parseInt(e(135))/3*(parseInt(e(169))/4)+parseInt(e(162))/5*(parseInt(e(152))/6)+parseInt(e(137))/7+parseInt(e(133))/8*(-parseInt(e(150))/9)+-parseInt(e(165))/10*(-parseInt(e(173))/11)+-parseInt(e(121))/12*(parseInt(e(156))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[R(129)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){C(this,(function(){const n=R,t=new RegExp(n(130)),e=new RegExp(n(143),"i"),o=N("init");t[n(176)](o+"chain")&&e[n(176)](o+n(175))?N():o("0")}))()}();const z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[R(129)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function G(){const n=["shineShader","console","999yfDkEA","srcMesh","396918WxLRRc","color","gger","return (function() ","26pDioAa","prototype","#ffff00","while (true) {}","AdditiveBlending","log","45obyMvg","error","subdivision","940BhGiae","FrontSide","TresShaderMaterial","copy","392sulVhk","scale","toString","Color","50171NGvoPL","TSGref","input","test","bind","side","uniforms","action","1263948ZMFDbT","1140kHotwo","counter","call","clone","position","13fYczhS","blending","apply","function *\\( *\\)","constructor","geometry","7664yFRjTC","viewVector","20274CemAnx","debu","2195795EQkSMo","table","glowColor","info","exception","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","material","value","TresMesh","length"];return(G=function(){return n})()}function R(n,t){const e=G();return(R=function(n,t){return e[n-=118]})(n,t)}z(void 0,(function(){const n=R,t=function(){const n=R;let t;try{t=Function(n(155)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(149)]=t[n(149)]||{},o=[n(161),"warn",n(140),n(163),n(141),n(138),"trace"];for(let r=0;r<o[n(147)];r++){const t=z[n(131)][n(157)][n(177)](z),i=o[r],s=e[i]||t;t.__proto__=z[n(177)](z),t[n(171)]=s[n(171)][n(177)](s),e[i]=t}}))();const V=[k(170)],F=p({__name:k(148),props:{srcMesh:{},scale:{default:1.2},color:{default:k(158)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(166)]},blending:{default:i[k(160)]}},setup(e){const o=k,r=e,a=d(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(172)])(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(142),fragmentShader:"\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ",side:r[o(118)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};m((()=>{const n=o;if(r.srcMesh&&a[n(145)]&&!a.value[n(132)].attributes[n(126)]){let t=r[n(151)][n(132)][n(125)]();r[n(164)]&&(t=f.modify(t,2)),a.value.geometry=t,a[n(145)].position[n(168)](r.srcMesh.position)}r.color&&(c[n(119)][n(139)][n(145)]=new(i[n(172)])(r[n(153)])),r.c&&(c[n(119)].c[n(145)]=r.c),r.p&&(c.uniforms.p[n(145)]=r.p)})),h((()=>r[o(164)]),(n=>{const t=o;let e=r[t(151)][t(132)].clone();n&&(e=f.modify(e,2)),a[t(145)][t(132)]=e})),h((()=>r.side),(n=>{const t=o;a[t(145)][t(144)][t(118)]=n})),h((()=>r.blending),(n=>{const t=o;a[t(145)][t(144)][t(128)]=n}));const{onLoop:u}=n(),{camera:l}=t();return u((()=>{const n=o;l[n(145)]&&a[n(145)]&&(c.uniforms[n(134)][n(145)]=(new s).subVectors(l[n(145)].position,a.value[n(126)]))})),(n,t)=>{const e=o;return g(),v(e(146),{ref_key:e(174),ref:a,scale:r[e(170)]},[y(e(167),b(w(c)),null,16)],8,V)}}});function N(n){function t(n){const e=R;if("string"==typeof n)return function(n){}[e(131)](e(159))[e(129)](e(123));1!==(""+n/n)[e(147)]||n%20==0?function(){return!0}[e(131)]("debu"+e(154))[e(124)](e(120)):function(){return!1}[e(131)](e(136)+e(154)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const D=W;!function(n,t){const e=W,o=L();for(;;)try{if(376271===parseInt(e(430))/1*(parseInt(e(395))/2)+-parseInt(e(390))/3+parseInt(e(433))/4*(-parseInt(e(398))/5)+parseInt(e(411))/6*(-parseInt(e(421))/7)+parseInt(e(393))/8+-parseInt(e(418))/9+parseInt(e(432))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(424)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Z(this,(function(){const n=W,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=H(n(384));t.test(o+"chain")&&e.test(o+n(386))?H():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(424)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function L(){const n=['{}.constructor("return this")( )',"TresMesh","967830vLKyZx","TresCanvas","subdivision","AdditiveBlending","console","debu","addBinding","shader","log","stateObject","FrontSide","TresPerspectiveCamera","TresBoxGeometry","72sZrosh","#222","table","toString","logo.png","constructor","exception","1755315gWwfWi","side","map","166929KVXwMI","value","action","apply","NormalBlending","TresMeshRefA","bind","srcMesh","warn","611iyAMoG","__proto__","15350940NKGhnA","12HuqGbp","TresSphereGeometry","TresMeshBasicMaterial","string","return (function() ","TreBoxRef","color","init","instance","input","counter","while (true) {}","scale","1746291DnnQGp","error","length","3495216UyrohD","gger","158bcPKxv"];return(L=function(){return n})()}E(void 0,(function(){const n=W;let t;try{t=Function(n(437)+n(396)+");")()}catch(r){t=window}const e=t[n(402)]=t[n(402)]||{},o=[n(406),n(429),"info",n(391),n(417),n(413),"trace"];for(let i=0;i<o[n(392)];i++){const t=E[n(416)].prototype[n(427)](E),r=o[i],s=e[r]||t;t[n(431)]=E.bind(E),t[n(414)]=s[n(414)][n(427)](s),e[r]=t}}))();const K=[D(420)],P=["map"];function W(n,t){const e=L();return(W=function(n,t){return e[n-=384]})(n,t)}const $=p({__name:D(405),async setup(n){const t=D;let s,f;const p={clearColor:t(412)},m=d(),h=d(),v=d(),b=([s,f]=I((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(415)]))),s=await s,f(),s),w=M({scale:1.6,color:"#00dfff",subdivision:!0,c:1.1,p:1.4,side:i[t(408)],blending:a}),k=new l({title:"参数",expanded:!0});return k[t(404)](w,t(439),{label:"颜色"}),k[t(404)](w,t(389),{label:"大小",min:1,max:3,step:.2}),k.addBinding(w,t(400),{label:"边缘处理"}),k[t(404)](w,"c",{label:"c",min:0,max:2,step:.1}),k[t(404)](w,"p",{label:"p",min:0,max:8,step:.2}),k.addBinding(w,t(419),{options:{FrontSide:i[t(408)],BackSide:c,DoubleSide:u}}),k[t(404)](w,"blending",{options:{AdditiveBlending:i[t(401)],NormalBlending:i[t(425)]}}),(n,r)=>{const i=t,s=_(i(399));return g(),x(s,A(p,{"window-size":""}),{default:T((()=>[r[2]||(r[2]=y(i(409),{position:[5,5,5]},null,-1)),r[3]||(r[3]=y("TresAmbientLight",{intensity:1},null,-1)),S(j(e)),r[4]||(r[4]=y("TresGridHelper",{args:[10,10]},null,-1)),y(i(397),{ref_key:i(426),ref:m,position:[-2,1,0]},[r[0]||(r[0]=y(i(434),{args:[1,32,16]},null,-1)),y(i(435),{map:j(b)[0]},null,8,K)],512),S(F,A({srcMesh:m[i(422)]},w),null,16,["srcMesh"]),S(j(o),{ref_key:i(438),ref:v,args:[1,1,1],position:[2,1,0]},{default:T((()=>[y(i(435),{map:j(b)[1]},null,8,P)])),_:1},512),v.value&&v[i(422)].instance?(g(),x(F,A({key:0,srcMesh:v[i(422)][i(385)]},w),null,16,[i(428)])):B("",!0),y(i(397),{ref_key:"TresMeshRefB",ref:h,position:[0,1,-2]},r[1]||(r[1]=[y(i(410),{args:[1,1,1,1,1]},null,-1),y(i(435),{color:"#0ff"},null,-1)]),512),S(F,A({srcMesh:h[i(422)]},w),null,16,[i(428)])])),_:1},16)}}});function H(n){function t(n){const e=W;if(typeof n===e(436))return function(n){}[e(416)](e(388))[e(424)](e(387));1!==(""+n/n)[e(392)]||n%20==0?function(){return!0}[e(416)](e(403)+e(394)).call(e(423)):function(){return!1}[e(416)](e(403)+e(394))[e(424)](e(407)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{$ as default};
