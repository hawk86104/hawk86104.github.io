import{q as t,Y as n}from"./@tresjs.S6PXiQcG1729820105274.js";import{P as e}from"./tweakpane.yHWGBmom1729820105274.js";import{_ as o,ak as r,al as a}from"./three.0W5n8UBO1729820105274.js";import{_ as s}from"./heatmap.js-fix.acwX8JSh1729820105274.js";import{d as i,a4 as u,a3 as c,o as l,E as p,u as f,r as d,e as h,f as m,g,j as v,al as y,aj as b,ak as w,m as x,L as _}from"./@vue.bvMz0l_u1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";import"./@amap.UuvR34pR1729820105274.js";const I=z;!function(t,n){const e=z,o=k();for(;;)try{if(905326===-parseInt(e(564))/1*(-parseInt(e(521))/2)+-parseInt(e(547))/3*(-parseInt(e(561))/4)+-parseInt(e(491))/5*(parseInt(e(509))/6)+parseInt(e(498))/7+parseInt(e(543))/8*(-parseInt(e(559))/9)+parseInt(e(523))/10*(parseInt(e(544))/11)+-parseInt(e(501))/12*(parseInt(e(565))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(537)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=z,n=new RegExp(t(494)),e=new RegExp(t(529),"i"),o=A("init");n[t(531)](o+"chain")&&e[t(531)](o+t(496))?A():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(537)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=z;let n;try{n=Function(t(524)+t(558)+");")()}catch(r){n=window}const e=n[t(500)]=n[t(500)]||{},o=[t(571),t(570),t(505),t(497),t(540),t(541),t(549)];for(let a=0;a<o[t(568)];a++){const n=C[t(534)].prototype.bind(C),r=o[a],s=e[r]||n;n[t(495)]=C[t(542)](C),n.toString=s[t(539)][t(542)](s),e[r]=n}}))();const S=[I(555)];function z(t,n){const e=k();return(z=function(t,n){return e[t-=490]})(t,n)}const U=i({__name:I(538),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let r,a;const i=n,{nodes:d}=([r,a]=u((()=>t(e(519),{draco:!0,decoderPath:"./draco/"}))),r=await r,a(),r);d.mesh_0[e(528)][e(517)](-5088.96,-3.08,39374.7),d[e(518)][e(550)][e(551)](.01);let h=null,m=null,g=null;m=new(o[e(548)])((()=>{const t=e;return g=document.createElement(t(512)),g[t(566)][t(528)]=t(535),g[t(566)].top="40px",g[t(566)][t(545)]="0",document[t(546)][t(492)](g),h=s[t(510)]({container:g,width:256,height:256,blur:"0.8",radius:i[t(572)]}),h[t(560)][t(507)].style.border=t(525),h._renderer[t(507)][t(503)]=function(n){const e=t;h[e(552)]({x:n[e(493)],y:n[e(562)],value:1,radius:i[e(572)]}),h[e(520)](1),m&&(m[e(567)]=!0)},h})()[e(560)][e(507)]);const v={vertexShader:e(569),fragmentShader:e(499),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(515)]},y=new(o[e(522)])(v);d.mesh_0[e(506)]=y;return(t=>{const n=e;t[n(516)]();const{max:r,min:a}=t.boundingBox;t[n(563)]("uv");const s=r.x-a.x,i=r.z-a.z,u=[];for(let e=0;e<t[n(533)].position[n(504)];e++)u[n(536)]((t[n(533)][n(528)][n(508)](e)-a.x)/s),u[n(536)]((t[n(533)].position[n(502)](e)-a.z)/i);const c=new Float32Array(u);t[n(554)]("uv",new(o[n(532)])(c,2))})(d[e(518)].geometry),c((()=>{const t=e;g[t(566)].display=""+(i[t(557)]?t(556):t(514))})),(t,n)=>(l(),p("primitive",{object:f(d).mesh_0},null,8,S))}});function k(){const t=["3536599iTXEBm","left","body","9237aalslH","Texture","trace","scale","setScalar","addData","debu","setAttribute","object","block","show2dCanvas",'{}.constructor("return this")( )',"2025243dKUjra","_renderer","1436uZfRJU","layerY","deleteAttribute","3372baHAda","8937604xfpIkv","style","needsUpdate","length","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","warn","log","radius","call","27785qgRNod","appendChild","layerX","function *\\( *\\)","__proto__","input","error","2993571Qfunlg","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","console","12nwrltD","getZ","onclick","count","info","material","canvas","getX","1716nzCVKd","create","action","heatmap-canvas","while (true) {}","none","DoubleSide","computeBoundingBox","set","mesh_0","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","setDataMax","692pIQJzx","ShaderMaterial","50xUePCP","return (function() ","1px solid #5384ff","gger","counter","position","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","test","BufferAttribute","attributes","constructor","absolute","push","apply","heatmapClickCom","toString","exception","table","bind","40pEYoUv"];return(k=function(){return t})()}function A(t){function n(t){const e=z;if(typeof t===e(530))return function(t){}[e(534)](e(513)).apply(e(527));1!==(""+t/t).length||t%20==0?function(){return!0}[e(534)]("debu"+e(526))[e(490)](e(511)):function(){return!1}[e(534)](e(553)+e(526)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=P;!function(t,n){const e=P,o=R();for(;;)try{if(154280===parseInt(e(346))/1*(parseInt(e(342))/2)+-parseInt(e(358))/3*(-parseInt(e(353))/4)+parseInt(e(360))/5+parseInt(e(356))/6*(parseInt(e(357))/7)+-parseInt(e(375))/8+-parseInt(e(344))/9+-parseInt(e(368))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(369)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=P,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(377),"i"),o=L("init");n.test(o+"chain")&&e.test(o+t(351))?L():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[P(369)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(){const t=["toString","counter","__proto__","3705960Rucwgm","apply","trace","#030311","显示二维图","call","log","1842288tbxlZS","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","constructor","prototype","圆圈的大小","4vDwiep","action","1666359GfWLlg","string","121781CyBgSx","heatmapClick","stateObject","addBinding","bind","input","TresDirectionalLight","2776ebzcSp","console","gger","6QiDwAQ","1561903nsMgUl","753rXXjKQ","warn","1497140JFJuum","TresPerspectiveCamera","length","error","exception"];return(R=function(){return t})()}M(void 0,(function(){const t=P,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(354)]=n[t(354)]||{},o=[t(374),t(359),t(376),t(363),t(364),t(378),t(370)];for(let r=0;r<o[t(362)];r++){const n=M[t(379)][t(380)][t(350)](M),a=o[r],s=e[a]||n;n[t(367)]=M[t(350)](M),n[t(365)]=s.toString.bind(s),e[a]=n}}))();const E=_(B(361),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),T=_(B(352),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1),Z=_("TresGridHelper",{args:[50,25]},null,-1);function P(t,n){const e=R();return(P=function(t,n){return e[t-=342]})(t,n)}const F=i({__name:B(347),setup(t){const o=B,s={clearColor:o(371),shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(349)](i,"show2dCanvas",{label:o(372)}),u[o(349)](i,"radius",{label:o(381),min:.1,max:30,step:.1}),u.addButton({title:"点击左侧蓝色画框"}),(t,e)=>{const o=h("TresCanvas");return l(),m(o,x(s,{"window-size":""}),{default:g((()=>[E,v(f(n),{autoRotate:!1,autoRotateSpeed:2}),T,Z,(l(),m(y,null,{default:g((()=>[v(U,b(w(i)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=P;if(typeof t===e(345))return function(t){}[e(379)]("while (true) {}")[e(369)](e(366));1!==(""+t/t)[e(362)]||t%20==0?function(){return!0}[e(379)]("debu"+e(355))[e(373)](e(343)):function(){return!1}[e(379)]("debugger")[e(369)](e(348)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{F as default};
