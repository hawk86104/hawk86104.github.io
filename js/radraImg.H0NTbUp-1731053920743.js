import{b as t,m as n,U as e}from"./@tresjs.hJVQLtpa1731053920743.js";import{_ as o,Y as r}from"./three.eGpwEcxC1731053920743.js";import{_ as i,n as s,c}from"./three-tile.aZFEED7i1731053920743.js";import{s as a,_ as u,c as p,b as l}from"./informationDiv.nC_oYw2o1731053920743.js";import{d as f,a6 as m,w as h,o as g,D as d,J as y,u as I,r as b,b as w,f as j,g as x,j as _,m as v,al as S,F as T,e as M,aj as k,ak as P}from"./@vue.u2cBPEWn1731053920743.js";import{P as z}from"./tweakpane.yHWGBmom1731053920743.js";import"./@vueuse.weJ7f3dz1731053920743.js";import"./@fesjs.jcfJqFb-1731053920743.js";import"./vue-router.VZFAJYMT1731053920743.js";import"./lodash-es.guXTxyfJ1731053920743.js";import"./@qlin.yHhFDldE1731053920743.js";import"./pinia.OLC9kXJl1731053920743.js";import"./vue-demi.C4xddsk91731053920743.js";import"./@floating-ui.BPbuo5Gx1731053920743.js";import"./@juggle.7yjBMqoW1731053920743.js";const D=E;!function(t,n){const e=E,o=F();for(;;)try{if(592904===parseInt(e(187))/1+-parseInt(e(222))/2*(parseInt(e(192))/3)+parseInt(e(208))/4*(-parseInt(e(244))/5)+parseInt(e(221))/6+parseInt(e(242))/7*(-parseInt(e(238))/8)+parseInt(e(239))/9*(parseInt(e(231))/10)+parseInt(e(193))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(226)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(t,n){const e=F();return(E=function(t,n){return e[t-=185]})(t,n)}!function(){A(this,(function(){const t=E,n=new RegExp(t(215)),e=new RegExp(t(203),"i"),o=Q(t(220));n[t(190)](o+t(230))&&e[t(190)](o+"input")?Q():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();B(void 0,(function(){const t=E;let n;try{n=Function("return (function() "+t(216)+");")()}catch(r){n=window}const e=n[t(232)]=n[t(232)]||{},o=[t(235),t(185),t(205),"error",t(229),t(186),t(195)];for(let i=0;i<o[t(237)];i++){const n=B.constructor[t(228)][t(217)](B),r=o[i],s=e[r]||n;n.__proto__=B[t(217)](B),n[t(223)]=s[t(223)][t(217)](s),e[r]=n}}))();const G=[D(198)],L=[D(197),D(212),"rotateX","position-y"],N=f({__name:D(204),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=D;let i,s;const c=n,u=new(o[e(207)])({displacementMap:new r,transparent:!0,side:o[e(191)],opacity:c[e(211)],displacementScale:.5,displacementBias:0});u[e(200)]=t=>{const n=e;t[n(225)]=n(213)+t[n(225)],t[n(225)]=t[n(225)].replace(n(240),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );")};const p=c.map[e(243)](new(o[e(233)])(105,34,0));p[e(188)](c[e(219)][e(196)]);const l=a(c[e(219)],{x:67,y:11},{x:140,y:57},c[e(209)]),f=[];for(let t=0;t<9;t++)f.push(e(245)+t+e(199));let b=0;const w=([i,s]=m((()=>t(f))),i=await i,s(),i);u.map=w[b],h((()=>[c[e(224)],c[e(211)]]),(([t,n])=>{u[e(211)]=n}));let j=null,x=!1;return x?(clearInterval(j),j=null,x=!1):(j=setInterval((()=>{const t=E;b=b<f.length-1?b+1:0,u[t(219)]=w[b],u[t(214)]=!0,console[t(235)](b)}),1e3),x=!0),(t,n)=>{const o=e;return g(),d(o(227),{position:[...I(p)]},[y("TresMesh",{scale:[I(l).x,I(l).y,t[o(209)]],material:I(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(209)]/5},n[0]||(n[0]=[y(o(210),{args:[1,1,529,420]},null,-1)]),8,L)],8,G)}}});function F(){const t=["TresPlaneGeometry","opacity","material","uniform sampler2D map;\n\t","needsUpdate","function *\\( *\\)",'{}.constructor("return this")( )',"bind","string","map","init","4129608CNfjua","145024KGNAvP","toString","color","vertexShader","apply","TresGroup","prototype","exception","chain","554300STsehT","console","Vector3","constructor","log","call","length","384DslDbX","27SnTWaS","#include <displacementmap_vertex>","stateObject","140455lQmAee","geo2pos","95YaIpAh","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","warn","table","986269UeNANa","applyMatrix4","debu","test","DoubleSide","3lGIKUh","9832570uxMZLu","while (true) {}","trace","matrix","scale","position","40.png","onBeforeCompile","gger","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radraImgShow","info","counter","MeshPhongMaterial","232876fgedtu","height"];return(F=function(){return t})()}function Q(t){function n(t){const e=E;if(typeof t===e(218))return function(t){}[e(234)](e(194))[e(226)](e(206));1!==(""+t/t).length||t%20==0?function(){return!0}[e(234)](e(189)+e(201))[e(236)](e(202)):function(){return!1}[e(234)](e(189)+e(201)).apply(e(241)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=C;function R(){const t=["geo2pos","object","value","init","domElement","2977510ryHpcx","call","showLocation","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",'{}.constructor("return this")( )',"bind","2326904ECooBi","target","mapBoxShow3","__proto__","action","stateObject","addBinding","prototype","chain","localToWorld","76935sbPQqc","map","12hMiGeF","return (function() ","414IBKrHl","rotateX","2555828tJpzkD","debu","counter","opacity","透明度","copy","mapbox.satellite","4611QuxlYI","MapBoxSource","mapbox.terrain-rgb","function *\\( *\\)","plugin","1468OaQyLS","gger","27MbuEwf","constructor","length","Vector3","while (true) {}","apply","toString","terrain-rgb","exception","trace","position","test","420378NzMREP","63086tEGwYw","warn","console"];return(R=function(){return t})()}!function(t,n){const e=C,o=R();for(;;)try{if(541556===parseInt(e(351))/1*(parseInt(e(320))/2)+-parseInt(e(331))/3*(-parseInt(e(336))/4)+-parseInt(e(318))/5*(-parseInt(e(322))/6)+-parseInt(e(350))/7+parseInt(e(308))/8*(-parseInt(e(338))/9)+-parseInt(e(302))/10+-parseInt(e(324))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(343)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=C,n=new RegExp(t(334)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=X(t(300));n[t(349)](o+t(316))&&e.test(o+"input")?X():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(343)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();H(void 0,(function(){const t=C;let n;try{n=Function(t(321)+t(306)+");")()}catch(r){n=window}const e=n[t(296)]=n[t(296)]||{},o=["log",t(352),"info","error",t(346),"table",t(347)];for(let i=0;i<o[t(340)];i++){const n=H[t(339)][t(315)][t(307)](H),r=o[i],s=e[r]||n;n[t(311)]=H.bind(H),n[t(344)]=s[t(344)][t(307)](s),e[r]=n}}))();const U=[O(298)];function C(t,n){const e=R();return(C=function(t,n){return e[t-=296]})(t,n)}const K=O(305),W=f({__name:O(310),setup(t){const e=O,r=b({height:200,opacity:1}),a=new z({title:"参数"});a[e(314)](r,"height",{label:"高度",min:10,max:300,step:1}),a[e(314)](r,e(327),{label:e(328),min:0,max:1,step:.1});const l=new(i[e(335)][e(332)])({token:K,dataType:"image",style:e(330)}),f=new s.MapBoxSource({token:K,dataType:e(345),style:e(333),maxLevel:15}),m=new c({imgSource:l,demSource:f,lon0:90,minLevel:2,maxLevel:20});m[e(323)](-Math.PI/2);const M=new(o[e(341)])(105,34,0),k=new(o[e(341)])(110,0,1e4),P=m.localToWorld(m[e(297)](M)),D=m[e(317)](m[e(297)](k)),A=w(),{camera:E,controls:B,scene:G,renderer:L}=n();return E[e(299)]&&E[e(299)][e(348)][e(329)](D),h((()=>B.value),(t=>{const n=e;t&&(t.target.copy(P),p(t,E[n(299)],G[n(299)]))})),h((()=>A[e(299)]),(t=>{t&&t[e(309)].position.copy(P)})),u[e(304)](E[e(299)],L[e(299)][e(301)],m),(t,n)=>{const o=e;return g(),d(T,null,[y("TresDirectionalLight",{ref_key:"tdLight",ref:A,position:[0,2e3,1e3],intensity:1},null,512),y("primitive",{object:I(m)},null,8,U),(g(),j(S,null,{default:x((()=>[_(N,v({map:I(m)},r),null,16,[o(319)])])),_:1}))],64)}}});function X(t){function n(t){const e=C;if("string"==typeof t)return function(t){}[e(339)](e(342))[e(343)](e(326));1!==(""+t/t)[e(340)]||t%20==0?function(){return!0}[e(339)]("debu"+e(337))[e(303)](e(312)):function(){return!1}.constructor(e(325)+e(337)).apply(e(313)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=q;function Y(){const t=["11NuNnJF","string","3230IcKgpl","error","prototype","init","call","2HcdkaG","apply","debu","9149676hVPtMn","gger","console","352ePltcT","TresAmbientLight","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2201838TkKPfp","__proto__","test","constructor","32814fxGzHE","66920LOyOfQ","232355bxGtOg","function *\\( *\\)","counter","797644ilLHNX","length","stateObject","30imKQjX","chain","return (function() ",'{}.constructor("return this")( )',"TresCanvas","highp","#dbf0ff","bind","table","radraImg","6609390ZUkxdo","log","TresPerspectiveCamera"];return(Y=function(){return t})()}!function(t,n){const e=q,o=Y();for(;;)try{if(648091===-parseInt(e(458))/1*(parseInt(e(443))/2)+-parseInt(e(452))/3+-parseInt(e(461))/4*(-parseInt(e(423))/5)+-parseInt(e(433))/6+-parseInt(e(457))/7*(parseInt(e(449))/8)+parseInt(e(456))/9*(parseInt(e(438))/10)+-parseInt(e(436))/11*(-parseInt(e(446))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(444)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(t,n){const e=Y();return(q=function(t,n){return e[t-=421]})(t,n)}!function(){J(this,(function(){const t=q,n=new RegExp(t(459)),e=new RegExp(t(451),"i"),o=nt(t(441));n[t(454)](o+t(424))&&e[t(454)](o+"input")?nt():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(444)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();V(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(425)+t(426)+");")()}catch(e){n=window}return n}(),e=n[t(448)]=n[t(448)]||{},o=[t(434),"warn","info",t(439),"exception",t(431),"trace"];for(let r=0;r<o[t(421)];r++){const n=V[t(455)][t(440)].bind(V),i=o[r],s=e[i]||n;n[t(453)]=V[t(430)](V),n.toString=s.toString[t(430)](s),e[i]=n}}))();const tt=f({__name:$(432),setup(t){const n=$,o=b({clearColor:n(429),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(428)}),r=b({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=M(s(427));return g(),d(T,null,[_(c,v(o,{"window-size":""}),{default:x((()=>[i[0]||(i[0]=y(s(435),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(I(e),k(P(r)),null,16),i[1]||(i[1]=y(s(450),{intensity:1},null,-1)),_(W)])),_:1},16),_(l)],64)}}});function nt(t){function n(t){const e=q;if(typeof t===e(437))return function(t){}[e(455)]("while (true) {}")[e(444)](e(460));1!==(""+t/t).length||t%20==0?function(){return!0}[e(455)](e(445)+e(447))[e(442)]("action"):function(){return!1}.constructor(e(445)+"gger")[e(444)](e(422)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
