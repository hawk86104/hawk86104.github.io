import{e as n,m as t,o as e,E as r,a as o}from"./@tresjs.xCsT8yve1742895693222.js";import{_ as s,ab as i,ct as a}from"./three.DqHgeVY11742895693222.js";import{P as c}from"./tweakpane.ivGeiIdz1742895693222.js";import{L as u}from"./three-subdivide.oIWAHM981742895693222.js";import{d as l,b as f,a2 as p,w as d,o as g,H as m,N as h,aj as v,ak as y,a3 as b,r as w,e as I,f as x,g as _,j as M,u as j,m as S,M as B}from"./@vue.C4dqouNn1742895693222.js";import"./postprocessing.vTwfsnPH1742895693222.js";import"./@vueuse.q8TRDI1e1742895693222.js";const T=C;!function(n,t){const e=C,r=V();for(;;)try{if(150694===parseInt(e(308))/1*(-parseInt(e(275))/2)+parseInt(e(290))/3+parseInt(e(281))/4*(-parseInt(e(272))/5)+-parseInt(e(321))/6*(-parseInt(e(317))/7)+parseInt(e(330))/8*(parseInt(e(331))/9)+-parseInt(e(312))/10*(parseInt(e(294))/11)+parseInt(e(311))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){k(this,(function(){const n=C,t=new RegExp(n(301)),e=new RegExp(n(291),"i"),r=N(n(295));t[n(300)](r+n(319))&&e.test(r+"input")?N():r("0")}))()}();const A=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[C(307)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function V(){const n=["action","subdivision","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","11249dsDxWk","trace","chain","table","66BrRxxK","clone","geometry","debu","__proto__","value","uniforms","TSGref","stateObject","112664dBCjHQ","108opyiJO","FrontSide","#ffff00","srcMesh","scale","TresMesh","warn","position","230byRVzM","side","modify","521788YbOwQo","length","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","console","AdditiveBlending","log","15472qcGVfL","gger","toString","exception","viewVector","counter","while (true) {}","copy","call","495777HAzJhk","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","string","88484fzapLh","init","Color","info","Vector3","attributes","test","function *\\( *\\)","constructor","glowColor","shineShader",'{}.constructor("return this")( )',"material","apply","1rxVxZj","bind","blending","4105872qIAjtL","130daCPet","color"];return(V=function(){return n})()}A(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function(n(292)+n(305)+");")()}catch(e){t=window}return t}(),e=t[n(278)]=t[n(278)]||{},r=[n(280),n(337),n(297),"error",n(284),n(320),n(318)];for(let o=0;o<r[n(276)];o++){const t=A[n(302)].prototype[n(309)](A),s=r[o],i=e[s]||t;t[n(325)]=A[n(309)](A),t[n(283)]=i.toString[n(309)](i),e[s]=t}}))();const z=[T(335)];function C(n,t){const e=V();return C=function(n,t){return e[n-=272]},C(n,t)}const R=l({__name:T(304),props:{srcMesh:{},scale:{default:1.2},color:{default:T(333)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:s[T(332)]},blending:{default:s[T(279)]}},setup(e){const r=T,o=e,i=f(),a={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new(s[r(296)])(o[r(313)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(277),fragmentShader:r(316),side:o[r(273)],transparent:!0,depthWrite:!1,depthTest:!0,blending:o.blending};p((()=>{const n=r;if(o[n(334)]&&i.value&&!i.value[n(323)][n(299)][n(338)]){let t=o[n(334)][n(323)][n(322)]();o.subdivision&&(t=u[n(274)](t,2)),i.value.geometry=t,i[n(326)].position[n(288)](o[n(334)].position)}o.color&&(a[n(327)][n(303)][n(326)]=new(s[n(296)])(o[n(313)])),o.c&&(a[n(327)].c[n(326)]=o.c),o.p&&(a[n(327)].p[n(326)]=o.p)})),d((()=>o[r(315)]),(n=>{const t=r;let e=o.srcMesh[t(323)][t(322)]();n&&(e=u[t(274)](e,2)),i.value[t(323)]=e})),d((()=>o[r(273)]),(n=>{const t=r;i[t(326)].material[t(273)]=n})),d((()=>o.blending),(n=>{const t=r;i[t(326)][t(306)][t(310)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=r;l[n(326)]&&i[n(326)]&&(a[n(327)][n(285)].value=(new(s[n(298)])).subVectors(l.value[n(338)],i[n(326)][n(338)]))})),(n,t)=>{const e=r;return g(),m(e(336),{ref_key:e(328),ref:i,scale:o[e(335)]},[h("TresShaderMaterial",v(y(a)),null,16)],8,z)}}});function N(n){function t(n){const e=C;if(typeof n===e(293))return function(n){}.constructor(e(287)).apply(e(286));1!==(""+n/n)[e(276)]||n%20==0?function(){return!0}[e(302)](e(324)+e(282))[e(289)](e(314)):function(){return!1}[e(302)](e(324)+e(282))[e(307)](e(329)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const L=P;!function(n,t){const e=P,r=H();for(;;)try{if(697178===-parseInt(e(338))/1*(parseInt(e(353))/2)+parseInt(e(343))/3*(parseInt(e(359))/4)+parseInt(e(368))/5*(parseInt(e(331))/6)+-parseInt(e(367))/7*(-parseInt(e(320))/8)+parseInt(e(314))/9+-parseInt(e(311))/10+-parseInt(e(328))/11*(parseInt(e(312))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[P(339)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Z(this,(function(){const n=P,t=new RegExp(n(317)),e=new RegExp(n(352),"i"),r=O(n(340));t[n(364)](r+n(363))&&e[n(364)](r+"input")?O():r("0")}))()}();const E=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[P(339)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();E(void 0,(function(){const n=P,t=function(){const n=P;let t;try{t=Function(n(345)+n(334)+");")()}catch(e){t=window}return t}(),e=t[n(361)]=t[n(361)]||{},r=[n(321),n(323),"info","error",n(350),n(365),n(309)];for(let o=0;o<r[n(336)];o++){const t=E.constructor[n(356)][n(358)](E),s=r[o],i=e[s]||t;t.__proto__=E[n(358)](E),t[n(319)]=i[n(319)][n(358)](i),e[s]=t}}))();const F=[L(344)],G=["map"];function H(){const n=["TresMeshBasicMaterial","TresMesh","11VovIgJ","TresGridHelper","call","1594806eWNugm","addBinding","string",'{}.constructor("return this")( )',"instance","length","logo.png","339362gsNaSi","apply","init","stateObject","TresBoxGeometry","3865209YnBjQU","map","return (function() ","scale","constructor","TresCanvas","FrontSide","exception","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2stSpKX","action","#00dfff","prototype","BackSide","bind","4eeSmYV","color","console","gger","chain","test","table","debu","35ZAtxyd","5yKLgJH","while (true) {}","trace","side","3948360nETUab","23349624ilVSuu","#222","3957651BlQleU","TreBoxRef","AdditiveBlending","function *\\( *\\)","srcMesh","toString","2213176GzZBPH","log","TresPerspectiveCamera","warn","value","TresMeshRefB"];return(H=function(){return n})()}function P(n,t){const e=H();return P=function(n,t){return e[n-=309]},P(n,t)}const J=l({__name:"shader",async setup(n){const t=L;let u,l;const p={clearColor:t(313)},d=f(),m=f(),v=f(),y=([u,l]=b((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(337)]))),u=await u,l(),u),T=w({scale:1.6,color:t(355),subdivision:!0,c:1.1,p:1.4,side:s[t(349)],blending:s[t(316)]}),k=new c({title:"参数",expanded:!0});return k[t(332)](T,t(360),{label:"颜色"}),k[t(332)](T,t(346),{label:"大小",min:1,max:3,step:.2}),k[t(332)](T,"subdivision",{label:"边缘处理"}),k[t(332)](T,"c",{label:"c",min:0,max:2,step:.1}),k[t(332)](T,"p",{label:"p",min:0,max:8,step:.2}),k[t(332)](T,t(310),{options:{FrontSide:s[t(349)],BackSide:s[t(357)],DoubleSide:i}}),k.addBinding(T,"blending",{options:{AdditiveBlending:s[t(316)],NormalBlending:a}}),(n,o)=>{const s=t,i=I(s(348));return g(),x(i,S(p,{"window-size":""}),{default:_((()=>[o[2]||(o[2]=h(s(322),{position:[5,5,5]},null,-1)),o[3]||(o[3]=h("TresAmbientLight",{intensity:1},null,-1)),M(j(e)),o[4]||(o[4]=h(s(329),{args:[10,10]},null,-1)),h(s(327),{ref_key:"TresMeshRefA",ref:d,position:[-2,1,0]},[o[0]||(o[0]=h("TresSphereGeometry",{args:[1,32,16]},null,-1)),h(s(326),{map:j(y)[0]},null,8,F)],512),M(R,S({srcMesh:d[s(324)]},T),null,16,["srcMesh"]),M(j(r),{ref_key:s(315),ref:v,args:[1,1,1],position:[2,1,0]},{default:_((()=>[h(s(326),{map:j(y)[1]},null,8,G)])),_:1},512),v[s(324)]&&v[s(324)][s(335)]?(g(),x(R,S({key:0,srcMesh:v[s(324)].instance},T),null,16,[s(318)])):B("",!0),h("TresMesh",{ref_key:s(325),ref:m,position:[0,1,-2]},o[1]||(o[1]=[h(s(342),{args:[1,1,1,1,1]},null,-1),h("TresMeshBasicMaterial",{color:"#0ff"},null,-1)]),512),M(R,S({srcMesh:m[s(324)]},T),null,16,[s(318)])])),_:1},16)}}});function O(n){function t(n){const e=P;if(typeof n===e(333))return function(n){}.constructor(e(369))[e(339)](e(351));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(366)+e(362))[e(330)](e(354)):function(){return!1}[e(347)](e(366)+e(362)).apply(e(341)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{J as default};
