import{p as t,$ as n,W as e,d as r}from"./@tresjs.5lh7VmqZ1725416517797.js";import{_ as o}from"./index.KZVn_uwt1725416517797.js";import{a as s}from"./index.6rFj34yJ1725416517797.js";import{a6 as i,aP as c,B as u,a,cB as l}from"./three.VTQVqxMx1725416517797.js";import{P as p}from"./tweakpane.yHWGBmom1725416517797.js";import{I as f,C as m,N as h,c as g,d,a as y}from"./three-mesh-bvh.wPvA9dFk1725416517797.js";import{d as w,a5 as j,b,a2 as _,o as v,E as I,L as x,u as T,F as A,r as k,e as z,j as O,g as M,m as B,f as C,al as R}from"./@vue._6MD2XyK1725416517797.js";import"./@vueuse.L-salR9N1725416517797.js";import"./index.gebJ5XSZ1725416517797.js";import"./@fesjs.ILazvsHx1725416517797.js";import"./vue-router.oJSnFzhA1725416517797.js";import"./lodash-es.kYt-_xTG1725416517797.js";import"./@qlin.yHhFDldE1725416517797.js";import"./pinia.QjdSMCYS1725416517797.js";import"./@floating-ui.BPbuo5Gx1725416517797.js";import"./@juggle.7yjBMqoW1725416517797.js";import"./chalk.sAH7iSuz1725416517797.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1725416517797.js";import"./@iconify.9PoCakEb1725416517797.js";import"./utils.niQh9fO11725416517797.js";import"./default.vue_vue_type_script_setup_true_lang.XiUa4s0U1725416517797.js";import"./three-mesh-ui.module.jT3A9sPc1725416517797.js";import"./three-stdlib.a3mqXhLa1725416517797.js";import"./@pmndrs.3SP8A_bt1725416517797.js";import"./object-hash.UdqO8HjX1725416517797.js";import"./@amap.LUDXTi4z1725416517797.js";import"./jszip.7CKSmb6c1725416517797.js";function Z(t,n){const e=S();return(Z=function(t,n){return e[t-=313]})(t,n)}!function(t,n){const e=Z,r=S();for(;;)try{if(590644===parseInt(e(328))/1+parseInt(e(336))/2+-parseInt(e(346))/3*(parseInt(e(323))/4)+-parseInt(e(326))/5*(parseInt(e(318))/6)+parseInt(e(343))/7+-parseInt(e(317))/8+parseInt(e(314))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(315)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=Z,n=new RegExp(t(347)),e=new RegExp(t(344),"i"),r=L(t(342));n[t(339)](r+"chain")&&e[t(339)](r+t(352))?L():r("0")}))()}();const F=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(315)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function S(){const t=["apply","prototype","3073168EuvFAY","6GGejmt","exception","intersectObject","pointerType","return (function() ","3512RiOTAx","setFromCamera","clientX","5325205wUqlhP","clientY","136594BZAwWX","warn","__proto__","touch","toString","addEventListener","Raycaster","value","1915118dVJABm","constructor","string","test","action","length","init","946491DjjwDS","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","744lXvFUz","function *\\( *\\)","stateObject","firstHitOnly","table","while (true) {}","input","info","gger","pointerdown","button","innerWidth","9253881XWrkTs"];return(S=function(){return t})()}F(void 0,(function(){const t=Z;let n;try{n=Function(t(322)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n.console||{},r=["log",t(329),t(353),"error",t(319),t(350),"trace"];for(let s=0;s<r.length;s++){const n=F[t(337)][t(316)].bind(F),o=r[s],i=e[o]||n;n[t(330)]=F[t(345)](F),n[t(332)]=i[t(332)][t(345)](i),e[o]=n}}))();function L(t){function n(t){const e=Z;if(typeof t===e(338))return function(t){}[e(337)](e(351)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(337)]("debu"+e(354)).call(e(340)):function(){return!1}[e(337)]("debu"+e(354))[e(315)](e(348)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function X(){const t=["string","2672068jCxmJx","getX","setX","intersectObject","position","Vector2","Matrix4","boundsTree","2424iEXHyX","点击按钮","log","43464gKxraP","containsPoint","enabled","value","test","controls","getZ","153ggmQTo","index","getY","8790ipALdd","length","debu","console",'{}.constructor("return this")( )',"生成模型","toString","26260innqdz","center","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","attributes","intersectsSphere","Mesh","788013ECxryV","setAttribute","bind","TresSphereGeometry","needsUpdate","radius","shapecast","computeBoundsTree","apply","targetMesh.value init","color","action","intersectsBox","targetMesh","Vector3","BufferGeometry","normal","raycast","trace","fill","16RFGgHy","geometry","brushMesh","8266LlnyMy","139448utiWoJ","active","error","copy","DynamicDrawUsage","exception","function *\\( *\\)","warn","material","count","35TuFipk","init","__proto__","gger","TresMeshStandardMaterial","prototype","constructor","12639TWamCZ","applyMatrix4","point","BufferAttribute","addButton","push","#023249","info","set","model","matrixWorld","Sphere","counter","TresMesh","firstHitOnly","121OOxfxm","setZ","click","chain","visible","setUsage","table"];return(X=function(){return t})()}const P=U;!function(t,n){const e=U,r=X();for(;;)try{if(678683===parseInt(e(277))/1*(parseInt(e(244))/2)+parseInt(e(221))/3*(-parseInt(e(241))/4)+-parseInt(e(255))/5*(parseInt(e(296))/6)+parseInt(e(285))/7+parseInt(e(245))/8*(parseInt(e(303))/9)+parseInt(e(208))/10*(parseInt(e(262))/11)+parseInt(e(293))/12*(-parseInt(e(215))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(229)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=U,n=new RegExp(t(251)),e=new RegExp(t(217),"i"),r=J(t(256));n.test(r+t(280))&&e[t(300)](r+"input")?J():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(229)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function U(t,n){const e=X();return(U=function(t,n){return e[t-=206]})(t,n)}D(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function("return (function() "+t(212)+");")()}catch(e){n=window}return n}(),e=n[t(211)]=n[t(211)]||{},r=[t(295),t(252),t(269),t(247),t(250),t(283),t(239)];for(let o=0;o<r[t(209)];o++){const n=D[t(261)][t(260)][t(223)](D),s=r[o],i=e[s]||n;n[t(257)]=D[t(223)](D),n[t(214)]=i[t(214)][t(223)](i),e[s]=n}}))();const Y=[P(242),P(253)],$=[x(P(224),{args:[1,40,40]},null,-1),x("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],H=[P(242)],G=[x(P(259),{color:P(268),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],q=w({__name:P(271),props:{controls:{}},async setup(r){const o=P;let s,w;const k=r;(()=>{const t=U;i[t(236)][t(260)][t(228)]=g,i[t(236)][t(260)].disposeBoundsTree=d,i[t(220)][t(260)][t(238)]=y})();const z=([s,w]=j((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),O=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*z[o(218)][o(289)][o(254)]);M[o(240)](255);const B=new(i[o(265)])(M,3,!0);B[o(282)](i[o(249)]),z[o(222)](o(231),B);const C=b(null),R=b(null),E=b(!1),F=b(-1),S=b(.2),L=new(i[o(290)]),{camera:X,raycaster:W}=t(),D=15/255,q=78/255,J=85/255;let N=null;_((()=>{const t=o;C.value&&(console[t(295)](t(230),C[t(299)]),C[t(299)][t(242)][t(228)](),N=z[t(292)],((t,n,e,r,o,s)=>{const c=Z;window[c(333)]("pointermove",(e=>{const r=c;t.x=e[r(325)]/window[r(313)]*2-1,t.y=-e[r(327)]/window.innerHeight*2+1,n[r(335)]=!0})),window[c(333)](c(355),(u=>{const a=c;t.x=u[a(325)]/window.innerWidth*2-1,t.y=-u[a(327)]/window.innerHeight*2+1,r[a(335)]=u[a(356)];const l=new(i[a(334)]);l[a(324)](t,e[a(335)]),l[a(349)]=!0;const p=l[a(320)](o.value,!0);n[a(335)]=!0,s.enabled=0===p[a(341)]}),!0),window[c(333)]("pointerup",(t=>{const e=c;r[e(335)]=-1,t[e(321)]===e(331)&&(n[e(335)]=!1)}),!0)})(L,E,X,F,C,k[t(301)][t(299)]))}));const{onLoop:V}=n();V((()=>{const t=o,n=z[t(206)];if(R[t(299)])if(k[t(301)].value[t(246)]||!E[t(299)])R[t(299)].visible=!1;else{R[t(299)].scale.setScalar(S[t(299)]),W[t(299)].setFromCamera(L,X[t(299)]),W[t(299)][t(276)]=!0;const e=W[t(299)][t(288)](C[t(299)],!0);if(e.length){R[t(299)][t(289)][t(248)](e[0][t(264)]),k.controls[t(299)][t(298)]=!1,R[t(299)].visible=!0;const r=new(i[t(291)]);r[t(248)](C[t(299)][t(272)]).invert();const o=new(i[t(273)]);o[t(216)].copy(R[t(299)][t(289)])[t(263)](r),o[t(226)]=100*S.value;const s=[],c=new(i[t(235)]);if(null==N||N[t(227)]({intersectsBounds:n=>{const e=t,r=o[e(233)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(270)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(297)](c))return f;return m}return r?f:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(219)](o)){const t=3*e;s[i(267)](t,t+1,t+2)}return!1}}),0===F[t(299)]||2===F[t(299)]){let e=1,r=1,o=1;0===F.value&&(e=D,r=q,o=J);for(let i=0,c=s.length;i<c;i++){const c=n[t(286)](s[i]);B[t(287)](c,e),B.setY(c,r),B[t(278)](c,o)}B[t(225)]=!0}}else R.value[t(281)]=!1,k[t(301)][t(299)][t(298)]=!0}}));const K=(new p)[o(266)]({title:o(294),label:o(213)}),Q=new u;return K.on(o(279),(()=>{const t=o,n=[],e=[];for(let o=0;o<B[t(254)];o++)B[t(286)](o)===D&&B.getY(o)===q&&B[t(302)](o)===J&&(n.push(z.attributes[t(289)][t(286)](o),z[t(218)][t(289)][t(207)](o),z.attributes[t(289)][t(302)](o)),e.push(z.attributes[t(237)][t(286)](o),z.attributes.normal[t(207)](o),z[t(218)][t(237)][t(302)](o)));const r=new Float32Array(n);Q[t(222)]("position",new(i[t(265)])(r,3)),Q.setAttribute(t(237),new a(r,3))})),(t,n)=>{const e=o;return v(),I(A,null,[x(e(275),{ref_key:e(234),ref:C,geometry:T(z),scale:.005,material:T(O)},null,8,Y),x(e(275),{ref_key:e(243),ref:R,visible:!1},$,512),x(e(275),{geometry:T(Q),position:[-2,-2,2],scale:.005},G,8,H)],64)}}});function J(t){function n(t){const e=U;if(typeof t===e(284))return function(t){}.constructor("while (true) {}")[e(229)](e(274));1!==(""+t/t)[e(209)]||t%20==0?function(){return!0}.constructor(e(210)+"gger").call(e(232)):function(){return!1}[e(261)](e(210)+e(258))[e(229)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=Q;!function(t,n){const e=Q,r=K();for(;;)try{if(130856===-parseInt(e(526))/1+parseInt(e(492))/2*(parseInt(e(489))/3)+parseInt(e(485))/4+parseInt(e(504))/5*(-parseInt(e(520))/6)+-parseInt(e(502))/7+parseInt(e(494))/8+parseInt(e(518))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(497)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function K(){const t=["https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","info","979678ZNPTNT","function *\\( *\\)","1229555aUnwLc","controlsRef","console","init","TresAmbientLight","pos-z.jpg","constructor","TresCanvas","#999999","TresPerspectiveCamera","error","pos-y.jpg","action","log","1087299sDTYPS","stateObject","6rDwuzf","bind","toString","value","debu","input","172117loMmkN","controls","neg-z.jpg","prototype","counter","chain","962536DznzZY","__proto__","length","call","3eILQer","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","389030hkyOtO","gger","1063024LOyKkO","neg-x.jpg","table","apply","exception",'{}.constructor("return this")( )'];return(K=function(){return t})()}function Q(t,n){const e=K();return(Q=function(t,n){return e[t-=485]})(t,n)}!function(){V(this,(function(){const t=Q,n=new RegExp(t(503)),e=new RegExp(t(490),"i"),r=ot(t(507));n.test(r+t(531))&&e.test(r+t(525))?ot():r("0")}))()}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();tt(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function("return (function() "+t(499)+");")()}catch(e){n=window}return n}(),e=n[t(506)]=n.console||{},r=[t(517),"warn",t(501),t(514),t(498),t(496),"trace"];for(let o=0;o<r.length;o++){const n=tt.constructor[t(529)][t(521)](tt),s=r[o],i=e[s]||n;n[t(486)]=tt[t(521)](tt),n[t(522)]=i[t(522)].bind(i),e[s]=n}}))();const nt=x(N(513),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),et=x(N(508),{intensity:1},null,-1),rt=w({__name:"collectTriangles",setup(t){const n=N,e=k({clearColor:n(512),antialias:!0}),i=k({autoRotate:!1}),c=b(null);return(t,u)=>{const a=n,l=z(a(511));return v(),I(A,null,[O(T(o)),O(l,B(e,{"window-size":""}),{default:M((()=>[nt,O(T(r),B({ref_key:a(505),ref:c},i),null,16),et,(v(),C(R,null,{default:M((()=>[O(q,{controls:c[a(523)]},null,8,[a(527)])])),_:1})),(v(),C(R,null,{default:M((()=>[O(T(s),{background:!1,files:["pos-x.jpg",a(495),a(515),"neg-y.jpg",a(509),a(528)],path:a(500)})])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=Q;if(typeof t===e(491))return function(t){}[e(510)]("while (true) {}").apply(e(530));1!==(""+t/t)[e(487)]||t%20==0?function(){return!0}.constructor(e(524)+"gger")[e(488)](e(516)):function(){return!1}[e(510)]("debu"+e(493))[e(497)](e(519)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
