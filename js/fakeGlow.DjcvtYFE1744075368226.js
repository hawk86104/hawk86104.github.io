import{a as n,t as o}from"./@tresjs.DYJWvbJh1744075368226.js";import{P as e}from"./tweakpane.C0HtAJSg1744075368226.js";import{n as a,br as r,C as t,bq as i,ab as l,a2 as s,l as f,ct as u,a4 as c}from"./three.Cqu7jvck1744075368226.js";import{d as p,r as d,a3 as g,h as m,e as v,o as w,f as h,J as y,j as b,u as j,am as x}from"./@vue.DK6ok9LJ1744075368226.js";import"./postprocessing.BQUpsS8o1744075368226.js";import"./@vueuse.3dpzNfMJ1744075368226.js";function I(){var n=["apply","string","constructor","#00d5ff","stateObject","chain","prototype","depthTest","blending","info","30280210dYGvDC","4108428KnCkMQ","trace","table","bind","248235JQKkvT","length","17672DDlfXN","vertexShader","10051076MeRtmA","opacity",'{}.constructor("return this")( )',"input","setValues","side","return (function() ","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","init","debu","4023lLmLKe","4yWluav","glowInternalRadius","console","exception","glowColor","log","11LTLDen","fragmentShader","warn","7649274UTKcby","26390txjmji","test","glowSharpness","while (true) {}","function *\\( *\\)","83qmnXBA","gger","toString","blendMode"];return(I=function(){return n})()}!function(){for(var n=P,o=I();;)try{if(980759===-parseInt(n(248))/1*(-parseInt(n(243))/2)+parseInt(n(263))/3*(-parseInt(n(233))/4)+-parseInt(n(267))/5+-parseInt(n(242))/6+-parseInt(n(271))/7+parseInt(n(269))/8*(parseInt(n(232))/9)+parseInt(n(262))/10*(parseInt(n(239))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();var C,S=(C=!0,function(n,o){var e=C?function(){if(o){var e=o[P(252)](n,arguments);return o=null,e}}:function(){};return C=!1,e});!function(){S(this,(function(){var n=P,o=new RegExp(n(247)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),a=R(n(279));o[n(244)](a+n(257))&&e[n(244)](a+n(274))?R():a("0")}))()}();var T,_=(T=!0,function(n,o){var e=T?function(){if(o){var e=o[P(252)](n,arguments);return o=null,e}}:function(){};return T=!1,e});_(void 0,(function(){for(var n=P,o=function(){var n,o=P;try{n=Function(o(277)+o(273)+");")()}catch(e){n=window}return n}(),e=o[n(235)]=o.console||{},a=[n(238),n(241),n(261),"error",n(236),n(265),n(264)],r=0;r<a[n(268)];r++){var t=_.constructor[n(258)][n(266)](_),i=a[r],l=e[i]||t;t.__proto__=_.bind(_),t[n(250)]=l[n(250)].bind(l),e[i]=t}}))();class k extends a{constructor(n={}){var o=P;super(),this[o(270)]=o(278),this[o(240)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this.uniforms={opacity:new r(void 0!==n[o(272)]?n[o(272)]:1),glowInternalRadius:new r(void 0!==n[o(234)]?n[o(234)]:6),glowSharpness:new r(void 0!==n[o(245)]?n.glowSharpness:.5),falloff:new r(void 0!==n.falloff?n.falloff:.1),glowColor:new r(void 0!==n[o(237)]?new t(n[o(237)]):new t(o(255)))},this[o(275)](n),this[o(259)]=void 0!==n[o(259)]&&n[o(259)],this[o(260)]=void 0!==n[o(251)]?n[o(251)]:i,this.transparent=!0,this[o(276)]=void 0!==n[o(276)]?n[o(276)]:l}}function P(n,o){var e=I();return P=function(n,o){return e[n-=232]},P(n,o)}function R(n){function o(n){var e=P;if(typeof n===e(253))return function(n){}[e(254)](e(246)).apply("counter");1!==(""+n/n)[e(268)]||n%20==0?function(){return!0}[e(254)](e(280)+e(249)).call("action"):function(){return!1}[e(254)]("debugger")[e(252)](e(256)),o(++n)}try{if(n)return o;o(0)}catch(e){}}const M={position:[0,6,0]},z=["object"],B=p({__name:"fakeGlow",setup(a){const r=new e({title:"辉光参数",expanded:!0}),i=d({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),p=new k,I=new f(new u(4,3.8,128,128),p);return r.addBinding(i,"glowColor",{label:"颜色"}),r.addBinding(i,"falloff",{label:"衰减",min:0,max:10,step:.1}),r.addBinding(i,"glowInternalRadius",{label:"内半径",min:-5,max:5,step:.1}),r.addBinding(i,"glowSharpness",{label:"清晰度",min:0,max:10,step:.1}),r.addBinding(i,"opacity",{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,"side",{label:"材质面",options:{FrontSide:s,BackSide:c,DoubleSide:l}}),g((()=>{p.uniforms.falloff.value=i.falloff,p.uniforms.glowColor.value=new t(i.glowColor),p.uniforms.glowInternalRadius.value=i.glowInternalRadius,p.uniforms.glowSharpness.value=i.glowSharpness,p.uniforms.opacity.value=i.opacity,p.side=i.side})),(e,a)=>{const r=m("TresCanvas");return w(),v(r,{"window-size":"",clearColor:1},{default:h((()=>[a[1]||(a[1]=y("TresPerspectiveCamera",{position:[0,25,25],near:.1,fov:65},null,-1)),a[2]||(a[2]=y("TresAmbientLight",{intensity:1.5},null,-1)),a[3]||(a[3]=y("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1)),b(j(n),{autoRotate:""}),a[4]||(a[4]=y("TresGridHelper",{args:[20,10]},null,-1)),y("TresGroup",M,[a[0]||(a[0]=y("TresMesh",null,[y("TresTorusKnotGeometry",{args:[4,.5,128,128]}),y("TresMeshPhysicalMaterial",{color:"blue",roughness:.2,clearcoat:1})],-1)),y("primitive",{object:j(I)},null,8,z)]),(w(),v(x,null,{default:h((()=>[b(j(o),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,["path"])])),_:1}))])),_:1})}}});export{B as default};
