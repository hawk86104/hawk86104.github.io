import{D as t,o as n}from"./@tresjs.u6hJLBm41741007821308.js";import{P as e}from"./tweakpane.yDiyAAkA1741007821308.js";import{_ as o,ak as r,al as a}from"./three.sBrYSCgq1741007821308.js";import{_ as s}from"./heatmap.js-fix.KPps7EkJ1741007821308.js";import{d as i,a3 as c,a2 as u,o as p,H as l,u as f,r as d,e as h,f as m,g,N as v,j as y,al as b,aj as w,ak as x,m as I}from"./@vue.NRI7TcgI1741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";import"./@amap.1goFCJT_1741007821308.js";const _=k;!function(t,n){const e=k,o=M();for(;;)try{if(900695===-parseInt(e(403))/1+parseInt(e(401))/2*(parseInt(e(372))/3)+-parseInt(e(363))/4+parseInt(e(370))/5*(-parseInt(e(394))/6)+parseInt(e(333))/7*(parseInt(e(409))/8)+parseInt(e(357))/9*(-parseInt(e(356))/10)+parseInt(e(406))/11*(parseInt(e(338))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(348)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=k,n=new RegExp(t(400)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=D(t(408));n[t(330)](o+"chain")&&e.test(o+t(336))?D():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(348)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();C(void 0,(function(){const t=k;let n;try{n=Function(t(350)+t(410)+");")()}catch(r){n=window}const e=n.console=n[t(378)]||{},o=["log",t(335),t(367),"error",t(398),t(342),t(359)];for(let a=0;a<o[t(353)];a++){const n=C[t(349)][t(405)].bind(C),r=o[a],s=e[r]||n;n[t(390)]=C.bind(C),n[t(339)]=s[t(339)][t(364)](s),e[r]=n}}))();const S=[_(327)];function M(){const t=["./draco/","setScalar","length","left","absolute","1310SXtSxj","92439YispGK","Texture","trace","none","count","string","3760864hcFuMN","bind","geometry","block","info","1px solid #5384ff","appendChild","20NynpuT","gger","6DeFLaD","primitive","ShaderMaterial","attributes","style","setAttribute","console","set","debu","layerY","DoubleSide","40px","radius","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","create","setDataMax","body","needsUpdate","__proto__","top","counter","heatmapClickCom","2385804fMvxis","stateObject","BufferAttribute","createElement","exception","while (true) {}","function *\\( *\\)","321038KcALmw","mesh_0","831798dKVAIG","show2dCanvas","prototype","19415GmaVOb","0.8","init","72USPjIV",'{}.constructor("return this")( )',"display","canvas","border","addData","object","computeBoundingBox","material","test","getZ","position","553049ooITkP","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","warn","input","action","31116WiejSi","toString","getX","_renderer","table","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","push","heatmap-canvas","layerX","scale","apply","constructor","return (function() "];return(M=function(){return t})()}function k(t,n){const e=M();return(k=function(t,n){return e[t-=327]})(t,n)}const A=i({__name:_(393),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=_;let r,a;const i=n,{nodes:d}=([r,a]=c((()=>t(e(334),{draco:!0,decoderPath:e(351)}))),r=await r,a(),r);d[e(402)].position[e(379)](-5088.96,-3.08,39374.7),d.mesh_0[e(347)][e(352)](.01);let h=null,m=null,g=null;m=new(o[e(358)])((()=>{const t=e;return g=document[t(397)](t(345)),g[t(376)][t(332)]=t(355),g[t(376)][t(391)]=t(383),g[t(376)][t(354)]="0",document[t(388)][t(369)](g),h=s[t(386)]({container:g,width:256,height:256,blur:t(407),radius:i[t(384)]}),h._renderer[t(412)][t(376)][t(413)]=t(368),h[t(341)][t(412)].onclick=function(n){const e=t;h[e(414)]({x:n[e(346)],y:n[e(381)],value:1,radius:i[e(384)]}),h[e(387)](1),m&&(m[e(389)]=!0)},h})()[e(341)][e(412)]);const v={vertexShader:e(343),fragmentShader:e(385),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(382)]},y=new(o[e(374)])(v);d[e(402)][e(329)]=y;return(t=>{const n=e;t[n(328)]();const{max:r,min:a}=t.boundingBox;t.deleteAttribute("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t[n(375)][n(332)][n(361)];e++)c[n(344)]((t.attributes[n(332)][n(340)](e)-a.x)/s),c[n(344)]((t.attributes[n(332)][n(331)](e)-a.z)/i);const u=new Float32Array(c);t[n(377)]("uv",new(o[n(396)])(u,2))})(d.mesh_0[e(365)]),u((()=>{const t=e;g[t(376)][t(411)]=""+(i[t(404)]?t(366):t(360))})),(t,n)=>{const o=e;return p(),l(o(373),{object:f(d)[o(402)]},null,8,S)}}});function D(t){function n(t){const e=k;if(typeof t===e(362))return function(t){}[e(349)](e(399))[e(348)](e(392));1!==(""+t/t)[e(353)]||t%20==0?function(){return!0}.constructor(e(380)+e(371)).call(e(337)):function(){return!1}[e(349)](e(380)+e(371))[e(348)](e(395)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const T=B;!function(t,n){const e=B,o=L();for(;;)try{if(580420===-parseInt(e(214))/1+parseInt(e(251))/2+parseInt(e(216))/3+parseInt(e(252))/4*(parseInt(e(243))/5)+parseInt(e(228))/6*(-parseInt(e(220))/7)+parseInt(e(229))/8*(parseInt(e(253))/9)+-parseInt(e(226))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(t,n){const e=L();return(B=function(t,n){return e[t-=211]})(t,n)}!function(){z(this,(function(){const t=B,n=new RegExp(t(227)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=P(t(218));n.test(o+t(244))&&e[t(212)](o+t(241))?P():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["点击左侧蓝色画框","addButton","TresPerspectiveCamera","313856GGfNGn","2595156rgegwO","6300MoIfBc","toString","#ffffff","test","TresDirectionalLight","221202JqPnIw","constructor","1862478pLLbNC","info","init","__proto__","20454IKXaxs","debu","exception","table","gger","trace","14638110QGcHSj","function *\\( *\\)","330qCuofo","11424LdeKYO","log","圆圈的大小",'{}.constructor("return this")( )',"counter","TresCanvas","heatmapClick","显示二维图","bind","string","while (true) {}","return (function() ","input","length","5WXMnQy","chain","apply","addBinding","show2dCanvas"];return(L=function(){return t})()}G(void 0,(function(){const t=B;let n;try{n=Function(t(240)+t(232)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(230),"warn",t(217),"error",t(222),t(223),t(225)];for(let a=0;a<o.length;a++){const n=G.constructor.prototype[t(237)](G),r=o[a],s=e[r]||n;n[t(219)]=G[t(237)](G),n[t(254)]=s[t(254)].bind(s),e[r]=n}}))();const O=i({__name:T(235),setup(t){const o=T,s={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:r,shadowMapType:a,useLegacyLights:!0,antialias:!0},i=d({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(246)](i,o(247),{label:o(236)}),c[o(246)](i,"radius",{label:o(231),min:.1,max:30,step:.1}),c[o(249)]({title:o(248)}),(t,e)=>{const r=o,a=h(r(234));return p(),m(a,I(s,{"window-size":""}),{default:g((()=>[e[0]||(e[0]=v(r(250),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),y(f(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=v(r(213),{position:[5,10,7.5],color:r(211),intensity:5},null,-1)),e[2]||(e[2]=v("TresGridHelper",{args:[50,25]},null,-1)),(p(),m(b,null,{default:g((()=>[y(A,w(x(i)),null,16)])),_:1}))])),_:1},16)}}});function P(t){function n(t){const e=B;if(typeof t===e(238))return function(t){}[e(215)](e(239))[e(245)](e(233));1!==(""+t/t)[e(242)]||t%20==0?function(){return!0}[e(215)](e(221)+"gger").call("action"):function(){return!1}[e(215)]("debu"+e(224)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
