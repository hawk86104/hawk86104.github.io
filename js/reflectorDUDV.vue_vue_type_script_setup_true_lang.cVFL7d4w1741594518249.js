import{c8 as t,a3 as e,r as n,s as r}from"./three.8y0_KTxz1741594518249.js";import{a as o}from"./@tresjs.gjafZgVK1741594518249.js";import{R as s,b as c}from"./all.three.aalXMn071741594518249.js";import{d as i,a3 as a,a2 as u,w as f,o as l,H as p,N as d,u as h}from"./@vue.NRI7TcgI1741594518249.js";const m=v;!function(t,e){const n=v,r=b();for(;;)try{if(693845===-parseInt(n(211))/1+parseInt(n(187))/2+parseInt(n(188))/3+-parseInt(n(215))/4*(parseInt(n(205))/5)+parseInt(n(162))/6+-parseInt(n(218))/7*(-parseInt(n(160))/8)+-parseInt(n(195))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(170)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=v,e=new RegExp(t(206)),n=new RegExp(t(180),"i"),r=_(t(203));e.test(r+t(209))&&n[t(214)](r+t(190))?_():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(170)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function b(){const t=["wrapT","constructor","13934853dJijWV","isMesh","size","while (true) {}","error","add","action","log","init","tReflectBlur","5ArSOJV","function *\\( *\\)","wrapS","showGridHelper","chain","mapUrl","125232muTLvD","bind","console","test","4696756giCNdn","ignoreObjects","debu","161ODfzRI","tReflect",'{}.constructor("return this")( )',"object","scale","set","update","208064bvAeVG","counter","8098032VgmDYQ","warn","table","forEach","reflectivity","info","visible","uniforms","apply","call","toString","string","gger","repeat","textureMatrixUniform","renderTargetUniform","uMatrix","renderTarget","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","prototype","return (function() ","primitive","TresGroup","value","2418024ceVuNx","1154145sVTLXE","length","input","texture","onBeforeRender"];return(b=function(){return t})()}function v(t,e){const n=b();return(v=function(t,e){return n[t-=160]})(t,e)}g(void 0,(function(){const t=v;let e;try{e=Function(t(183)+t(220)+");")()}catch(o){e=window}const n=e[t(213)]=e[t(213)]||{},r=[t(202),t(163),t(167),t(199),"exception",t(164),t(181)];for(let s=0;s<r[t(189)];s++){const e=g[t(194)][t(182)][t(212)](g),o=r[s],c=n[o]||e;e.__proto__=g[t(212)](g),e[t(172)]=c[t(172)][t(212)](c),n[o]=e}}))();const j=["scale"],y=[m(221)],x=["object"],I=i({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:w}){const g=m;let b,v;const I=i,_=new s,R=new t(I[g(197)][0]-.5,I[g(197)][1]);R[g(168)]=I[g(208)];const{map:z}=([b,v]=a((()=>o({map:I[g(210)]}))),b=await b,v(),b);z[g(207)]=e,z[g(193)]=e,z[g(175)][g(223)](6,3);const V=new c({map:z,reflectivity:I[g(166)]});V[g(169)][g(219)]={value:_[g(179)][g(191)]},V[g(169)][g(204)]=_[g(177)],V[g(169)][g(178)]=_[g(176)];const M=new n(new r(I.size[0],I.size[1]),V);return M.rotation.x=-Math.PI/2,M[g(200)](_),M[g(192)]=(t,e,n)=>{const r=g;M[r(168)]=!1,I[r(216)].forEach((t=>{const e=r;t[e(196)]&&(t[e(168)]=!1),t[e(186)]&&t[e(186)].isMesh&&(t[e(186)][e(168)]=!1)})),_[r(224)](t,e,n),I.ignoreObjects[r(165)]((t=>{const e=r;t.isMesh&&(t[e(168)]=!0),t.value&&t[e(186)][e(196)]&&(t[e(186)][e(168)]=!0)})),M[r(168)]=!0},u((()=>{const t=g;I[t(166)]&&(V[t(169)].uReflectivity[t(186)]=I.reflectivity)})),f((()=>I.showGridHelper),(t=>{R.visible=t})),w({reflector:_}),(t,e)=>{const n=g;return l(),p(n(185),{scale:I[n(222)]},[d(n(184),{object:h(M),"position-y":-.01},null,8,y),d(n(184),{object:h(R)},null,8,x)],8,j)}}});function _(t){function e(t){const n=v;if(typeof t===n(173))return function(t){}.constructor(n(198))[n(170)](n(161));1!==(""+t/t)[n(189)]||t%20==0?function(){return!0}[n(194)]("debu"+n(174))[n(171)](n(201)):function(){return!1}[n(194)](n(217)+n(174)).apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
