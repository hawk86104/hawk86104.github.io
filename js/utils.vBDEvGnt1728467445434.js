import{a as t,B as n,s as e,b$ as o,C as r,k as s,a0 as c}from"./three.5octV-9b1728467445434.js";import{x as i}from"./@fesjs.BZc1KM0D1728467445434.js";import{z as u}from"./@tresjs.ED4ePb8T1728467445434.js";import{c as a,d as p,a as f}from"./three-mesh-bvh.tsDD7Nj61728467445434.js";function l(t,n){const e=h();return(l=function(t,n){return e[t-=454]})(t,n)}!function(t,n){const e=l,o=h();for(;;)try{if(153543===parseInt(e(504))/1*(parseInt(e(455))/2)+parseInt(e(507))/3+parseInt(e(461))/4+parseInt(e(491))/5*(parseInt(e(515))/6)+-parseInt(e(480))/7+-parseInt(e(526))/8*(parseInt(e(478))/9)+-parseInt(e(476))/10*(parseInt(e(492))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(500)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=l,n=new RegExp(t(522)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=B(t(501));n[t(506)](o+"chain")&&e[t(506)](o+"input")?B():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(500)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=l,n=function(){const t=l;let n;try{n=Function(t(474)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(482)]=n.console||{},o=[t(488),t(475),t(490),"error",t(467),t(459),t(464)];for(let r=0;r<o[t(502)];r++){const n=m.constructor[t(481)].bind(m),s=o[r],c=e[s]||n;n[t(471)]=m[t(484)](m),n[t(489)]=c[t(489)][t(484)](c),e[s]=n}}))();const d=(n,e=!1)=>{const o=l;n.computeBoundingBox();const{max:r,min:s}=n[o(497)];n.deleteAttribute("uv");const c=r.x-s.x,i=r.y-s.y,u=[];for(let t=0;t<n[o(465)].position[o(494)];t++)e?(u[o(463)]((n[o(465)][o(487)][o(496)](t)-(s.x+r.x)/2)/c),u[o(463)]((n[o(465)].position[o(528)](t)-(s.y+r.y)/2)/i)):(u[o(463)]((n.attributes[o(487)].getX(t)-s.x)/c),u[o(463)]((n[o(465)].position[o(528)](t)-s.y)/i));const a=new Float32Array(u);n[o(458)]("uv",new t(a,2))};function h(){const t=["33WNRGSB","getSize","count","raycast","getX","boundingBox","counter","max","apply","init","length","value","26183kwKuIL","Vector3","test","83394XWUJxH","min","copy","material","sub","action","config","catch","6CoWWRb","center","features","setFromObject","reflectivity","then","setY","function *\\( *\\)","#fff","deleteAttribute","expandByObject","111136uuMcbH","get","getY","string","divideScalar","18Lisekp","add","gger","setAttribute","table","clone","103820uXkthF","getCenter","push","trace","attributes","error","exception","Box3","transparent","computeBoundingBox","__proto__","constructor","children","return (function() ","warn","162260qAqRyB","debu","90sjGpKD","negate","1508759DsXzcU","prototype","console","random","bind","uniforms","depthWrite","position","log","toString","info","1336390trpwXm"];return(h=function(){return t})()}const w=(t,n)=>new Promise(((e,o)=>{const r=l;i(t,{},{method:r(527),mergeRequest:!0})[r(520)]((t=>{const o=r;n&&e(t[n]),e(t[o(517)])}))[r(514)]((t=>{console[r(466)](t),o(t)}))})),y=t=>{const n=l,e=(new(THREE[n(468)]))[n(518)](t),o=new(THREE[n(505)]);e[n(462)](o),t[n(473)].forEach((t=>{const e=n;t.position[e(511)](o)})),t[n(487)][n(509)](o[n(479)]())},b=()=>{const t=l;n.prototype.computeBoundsTree=a,n.prototype.disposeBoundsTree=p,e.prototype[t(495)]=f},x=async t=>{const n=l,e=await u(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t.geometry[n(460)]();d(i),i.computeBoundsTree();const a=new o(i,{color:new r(n(523)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return a[n(510)][n(469)]=!0,a[n(510)][n(486)]=!0,a[n(510)].depthTest=!0,a[n(510)].side=c,a[n(510)][n(485)][n(513)][n(503)].w=20,a[n(510)][n(485)][n(519)][n(503)]=.46,a};function j(t){const n=l,e=[];for(let r=0;r<t[n(502)];r++)e[n(463)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(502)];r++)o[n(456)](e[r]);o[n(454)](e[n(502)]);for(let r=0;r<e.length;r++)e[r].sub(o);return{points:e,centerPoint:o}}function B(t){function n(t){const e=l;if(typeof t===e(529))return function(t){}[e(472)]("while (true) {}")[e(500)](e(498));1!==(""+t/t)[e(502)]||t%20==0?function(){return!0}.constructor(e(477)+e(457)).call(e(512)):function(){return!1}.constructor("debugger")[e(500)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{y as a,j as g,b as i,w as l,d as r,x as s};
