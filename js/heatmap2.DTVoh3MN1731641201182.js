import{P as t}from"./tweakpane.yHWGBmom1731641201182.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.Bf9g-MHK1731641201182.js";import{_ as r}from"./heatmap.js-fix.ovsrMqW31731641201182.js";import{h as i,_ as c,bX as s,s as u,a0 as a}from"./three.-z-VOBM71731641201182.js";import{r as p}from"./utils.uVVAyv6Q1731641201182.js";import{d as f}from"./pinia.KbEhbnNi1731641201182.js";import{b as l,d as h,a3 as d,o as g,D as m,J as y,u as v,F as w,q as b,U as I,N as _,P as x,H as j,L as S,a6 as E,r as R,j as M,g as U,m as D}from"./@vue.-THQH3GC1731641201182.js";import{c as z,d as A,a as Z}from"./three-mesh-bvh.cO6YqTc81731641201182.js";import{_ as O}from"./@fesjs.Y6wvFf_31731641201182.js";import"./@tresjs.b88d4FZI1731641201182.js";import"./@vueuse.XeXqlNFe1731641201182.js";import"./three-custom-shader-material.h_zYovtn1731641201182.js";import"./@amap.ZfMFVSXv1731641201182.js";import"./vue-demi.C4xddsk91731641201182.js";import"./vue-router.JI-MlJL41731641201182.js";import"./lodash-es.kYt-_xTG1731641201182.js";import"./@qlin.yHhFDldE1731641201182.js";import"./@floating-ui.BPbuo5Gx1731641201182.js";import"./@juggle.7yjBMqoW1731641201182.js";!function(t,n){const e=k,o=H();for(;;)try{if(718190===parseInt(e(134))/1+-parseInt(e(160))/2*(-parseInt(e(179))/3)+parseInt(e(140))/4*(-parseInt(e(157))/5)+parseInt(e(130))/6*(parseInt(e(132))/7)+parseInt(e(161))/8*(-parseInt(e(128))/9)+parseInt(e(163))/10+-parseInt(e(172))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=k,n=new RegExp(t(167)),e=new RegExp(t(178),"i"),o=X(t(147));n[t(159)](o+"chain")&&e[t(159)](o+t(177))?X():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(168)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(){const t=["position","321021zKjfkT","debu","697002innuJK","table","7uriQJn","absolute","247503oxxXrM","constructor","none","log","trace","_config","4ydVKIG","toString","push","create","__proto__","style","console","init","call","counter","action","while (true) {}","display","width","left","rgb(0,0,255)","error","4803065rgEQfE","gger","test","2315242XhHNcS","88uJWUMk","randInt","7085140eagLRZ","bind","return (function() ","warn","function *\\( *\\)","apply","rgb(255,0,0)",'{}.constructor("return this")( )',"stateObject","1745073ywhUcg","info","length","getValueAt","height","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3vAnpRw","yellow","exception"];return(H=function(){return t})()}function k(t,n){const e=H();return(k=function(t,n){return e[t-=126]})(t,n)}P(void 0,(function(){const t=k;let n;try{n=Function(t(165)+t(170)+");")()}catch(r){n=window}const e=n.console=n[t(146)]||{},o=[t(137),t(166),t(173),t(156),t(126),t(131),t(138)];for(let i=0;i<o[t(174)];i++){const n=P.constructor.prototype[t(164)](P),r=o[i],c=e[r]||n;n[t(144)]=P[t(164)](P),n[t(141)]=c.toString.bind(c),e[r]=n}}))();const J=(t,n)=>t[k(175)](n)+-10;function X(t){function n(t){const e=k;if("string"==typeof t)return function(t){}.constructor(e(151))[e(168)](e(149));1!==(""+t/t)[e(174)]||t%20==0?function(){return!0}[e(135)](e(129)+e(158))[e(148)](e(150)):function(){return!1}.constructor(e(129)+e(158)).apply(e(171)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=L,o=B();for(;;)try{if(899209===-parseInt(e(141))/1+-parseInt(e(151))/2+-parseInt(e(163))/3+parseInt(e(156))/4*(parseInt(e(154))/5)+parseInt(e(160))/6+parseInt(e(166))/7*(-parseInt(e(148))/8)+-parseInt(e(164))/9*(-parseInt(e(138))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(){const t=["597414AHJBuv","apply","string","8377890yHSfXJ","warn","4TCtpWj","function *\\( *\\)",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1458114hWgptY","debu","input","1373226FSzVdK","1095642RBppGL","action","69986TUxiyn","gger","error","counter","chain","return (function() ","test","200ZIUubM","stateObject","trace","1737891THrjIg","constructor","value","console","__proto__","log","bind","768bDcjvU","toString","call"];return(B=function(){return t})()}!function(){$(this,(function(){const t=L,n=new RegExp(t(157)),e=new RegExp(t(159),"i"),o=C("init");n[t(137)](o+t(135))&&e[t(137)](o+t(162))?C():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(152)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=B();return(L=function(t,n){return e[t-=135]})(t,n)}F(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(136)+t(158)+");")()}catch(e){n=window}return n}(),e=n[t(144)]=n[t(144)]||{},o=[t(146),t(155),"info",t(168),"exception","table",t(140)];for(let r=0;r<o.length;r++){const n=F[t(142)].prototype[t(147)](F),i=o[r],c=e[i]||n;n[t(145)]=F[t(147)](F),n.toString=c[t(149)][t(147)](c),e[i]=n}}))();const q=f("buildingsHeatmap",(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[L(143)]=n},setTemperature:function(t){n[L(143)]=t}}}));function C(t){function n(t){const e=L;if(typeof t===e(153))return function(t){}[e(142)]("while (true) {}")[e(152)](e(169));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(161)+"gger")[e(150)](e(165)):function(){return!1}[e(142)](e(161)+e(167)).apply(e(139)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=Y;!function(t,n){const e=Y,o=Q();for(;;)try{if(697295===parseInt(e(485))/1+parseInt(e(496))/2+parseInt(e(447))/3*(-parseInt(e(480))/4)+-parseInt(e(474))/5+parseInt(e(450))/6+parseInt(e(452))/7*(-parseInt(e(477))/8)+-parseInt(e(499))/9*(-parseInt(e(472))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(503)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=Y,n=new RegExp(t(444)),e=new RegExp(t(504),"i"),o=nt(t(473));n[t(493)](o+"chain")&&e[t(493)](o+t(454))?nt():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(503)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();W(void 0,(function(){const t=Y,n=function(){const t=Y;let n;try{n=Function(t(489)+t(481)+");")()}catch(e){n=window}return n}(),e=n[t(446)]=n[t(446)]||{},o=[t(487),t(470),t(501),t(479),t(505),t(455),"trace"];for(let r=0;r<o.length;r++){const n=W[t(442)][t(460)][t(486)](W),i=o[r],c=e[i]||n;n.__proto__=W[t(486)](W),n[t(458)]=c[t(458)].bind(c),e[i]=n}}))();const G=[K(468),"rotation-x"],N=["object"];function Q(){const t=["数值：","warn","disposeBoundsTree","10mUxqlx","init","4012025Uzacnk","raycast","ShaderMaterial","7286024CxvqxZ","height","error","7340wJHSOt",'{}.constructor("return this")( )',"while (true) {}","Matrix4","debu","84097UNSybT","bind","log","computeBoundsTree","return (function() ","Mesh","setShowDiv","width","test","$patch","gger","2504968EcEqjR","_renderer","applyMatrix4","5322087OgzVUR","stateObject","info","normal","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","action","clone","needsUpdate","counter","buildingsHeatmap","constructor","model","function *\\( *\\)","call","console","510TQOSjp","geometry","primitive","4766874KggGRC","BufferGeometry","7poJSaS","Texture","input","table","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","land","toString","_config","prototype","matrix","makeRotationX","setTemperature","uOpacity","opacity","attributes","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","object"];return(Q=function(){return t})()}function Y(t,n){const e=Q();return(Y=function(t,n){return e[t-=437]})(t,n)}const tt=h({__name:K(441),props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=Y;c[t(451)][t(460)][t(488)]=z,c[t(451)][t(460)][t(471)]=A,c[t(490)].prototype[t(475)]=Z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=k,i=document.createElement("heatmap-canvas");return i[o(145)][o(127)]=o(133),!e&&(i[o(145)][o(152)]=o(136)),i[o(145)].top="0",i[o(145)][o(154)]="0",document.body.appendChild(i),r[o(143)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(155),.55:"rgb(0,255,0)",.85:o(180),1:o(169)}})})();((t,n)=>{const e=k;if(!n){let o=0;for(n=[];o<1e3;)n[e(142)]({x:i[e(162)](1,t._config[e(153)]),y:i[e(162)](1,t[e(139)][e(176)]),value:i[e(162)](-10,36)}),o++}t.setData({max:36,min:-10,data:n})})(o);const f=new(c[n(453)])(o[n(497)].canvas);f[n(439)]=!0;const l=e[n(443)].city[n(438)]();delete l.geometry.attributes[n(502)],delete l[n(448)][n(466)].uv;const h=l[n(448)][n(438)]()[n(498)](l[n(461)]),b=e.model[n(457)].clone();delete b[n(448)].attributes[n(502)];const I=b[n(448)][n(438)]()[n(498)](b[n(461)]),_=s([h,I]);_[n(498)]((new(c[n(483)]))[n(462)](Math.PI/2)),p(_),_[n(488)]();const x=(t=>{const o=n;return new(c[o(476)])({vertexShader:o(456),fragmentShader:o(467),uniforms:{uOpacity:{value:e[o(465)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),j=new u(_,x);d((()=>{const t=n;e[t(465)]&&(x.uniforms[t(464)].value=e[t(465)])}));const S=q(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(459)][e(492)],y:(1-t.uv.y)*o._config[e(478)]};console[e(487)](e(469),t),console[e(487)]("数值———：",J(o,n)),S[e(463)](J(o,n))}},R=t=>{t&&S[n(494)]({showDiv:!0})},M=t=>{t&&S[n(491)](!1)};return(t,o)=>{const r=n;return g(),m(w,null,[y(r(449),{object:v(j),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:R,onPointerLeave:M},null,40,G),y(r(449),{object:e[r(443)][r(443)].children[0][r(438)]()},null,8,N)],64)}}});function nt(t){function n(t){const e=Y;if("string"==typeof t)return function(t){}[e(442)](e(482)).apply(e(440));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(484)+e(495))[e(445)](e(437)):function(){return!1}[e(442)](e(484)+e(495))[e(503)](e(500)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=O({__name:"dataDiv",setup(t){const n=q(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((g(),m("div",{class:"title",style:S(e.value)},"温度："+j(v(n).temperature)+"℃ ",5)),[[x,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=ct;!function(t,n){const e=ct,o=st();for(;;)try{if(543166===-parseInt(e(497))/1+parseInt(e(513))/2+parseInt(e(516))/3*(parseInt(e(499))/4)+parseInt(e(515))/5+parseInt(e(502))/6*(-parseInt(e(519))/7)+-parseInt(e(512))/8*(parseInt(e(517))/9)+-parseInt(e(533))/10*(parseInt(e(508))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ct(526)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ct,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=at("init");n[t(521)](o+"chain")&&e.test(o+t(522))?at():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(t,n){const e=st();return(ct=function(t,n){return e[t-=496]})(t,n)}function st(){const t=["counter","length","349975DDHhfE","action","384JPXfwv","builds","value","112152AhnayQ","addBinding","__proto__","info","log","trace","66wqSWLA","toString","constructor","warn","136632SHdbgZ","1333718XPBPoN","bind","4338535Odysxz","2148fdxoLF","9IeCCDw","stateObject","56jXtSyE","gger","test","input","exception","string","table","apply","debu","console","prototype","heatmap2","#000","return (function() ","905910ZoKnqE","call"];return(st=function(){return t})()}it(void 0,(function(){const t=ct,n=function(){const t=ct;let n;try{n=Function(t(532)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(528)]=n[t(528)]||{},o=[t(506),t(511),t(505),"error",t(523),t(525),t(507)];for(let r=0;r<o[t(496)];r++){const n=it[t(510)][t(529)][t(514)](it),i=o[r],c=e[i]||n;n[t(504)]=it[t(514)](it),n[t(509)]=c[t(509)].bind(c),e[i]=n}}))();const ut=h({__name:ot(530),async setup(r){const i=ot;let c,s;const u=l(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(501)]=!0;const p=R({width:1,color:i(531),opacity:1,show:!0}),f=R({opacity:.9});return new t({title:"参数",expanded:!0})[i(503)](f,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),m(w,null,[M(e,{showBuildings:!1,autoRotate:!1},{ability:U((()=>[M(tt,D({model:v(a)},f),null,16,["model"]),M(n,D(p,{builds:v(a).city}),null,16,[r(500)])])),_:1}),M(et)],64)}}});function at(t){function n(t){const e=ct;if(typeof t===e(524))return function(t){}.constructor("while (true) {}")[e(526)](e(535));1!==(""+t/t)[e(496)]||t%20==0?function(){return!0}.constructor(e(527)+"gger")[e(534)](e(498)):function(){return!1}[e(510)](e(527)+e(520))[e(526)](e(518)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
