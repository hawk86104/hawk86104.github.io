import{p as t,$ as n,W as e,d as o}from"./@tresjs.OrqGCbtj1724983368286.js";import{_ as r}from"./index.HXrxMesx1724983368286.js";import{a as s}from"./index.LdVI1Df31724983368286.js";import{a6 as i,aP as c,N as u,V as a,B as l,q as p,cC as f}from"./three.p-9BQwc31724983368286.js";import{P as m}from"./tweakpane.yHWGBmom1724983368286.js";import{I as d,C as h,N as g,c as y,d as w,a as j}from"./three-mesh-bvh.4G0P0Enb1724983368286.js";import{d as b,a4 as v,b as _,a1 as x,o as I,D as k,J as z,u as A,F as S,r as T,e as X,j as C,g as M,m as R,f as F,al as Z}from"./@vue.Q1VpS3901724983368286.js";import"./@vueuse.n6I5WvfU1724983368286.js";import"./index.Aoi53OPO1724983368286.js";import"./@fesjs.Gs8eM-sM1724983368286.js";import"./vue-router.Zdcy26aq1724983368286.js";import"./lodash-es.nFpJXAf-1724983368286.js";import"./@qlin.yHhFDldE1724983368286.js";import"./pinia.TzFzuyxp1724983368286.js";import"./@floating-ui.BPbuo5Gx1724983368286.js";import"./@juggle.7yjBMqoW1724983368286.js";import"./chalk.sAH7iSuz1724983368286.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1724983368286.js";import"./@iconify.9PoCakEb1724983368286.js";import"./utils.BKPC842d1724983368286.js";import"./default.vue_vue_type_script_setup_true_lang.sHsV8pYJ1724983368286.js";import"./three-mesh-ui.module.dsdly6AD1724983368286.js";import"./three-stdlib._CB_uvPa1724983368286.js";import"./@pmndrs.OCGdGm_L1724983368286.js";import"./object-hash.X2exW7z_1724983368286.js";import"./@amap.-Bisu7YL1724983368286.js";import"./jszip.VoLYwi951724983368286.js";!function(t,n){const e=B,o=O();for(;;)try{if(294545===-parseInt(e(318))/1+-parseInt(e(280))/2+-parseInt(e(298))/3*(parseInt(e(291))/4)+parseInt(e(313))/5*(-parseInt(e(306))/6)+-parseInt(e(289))/7*(-parseInt(e(294))/8)+parseInt(e(309))/9+parseInt(e(290))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function O(){const t=["trace","pointermove","test","function *\\( *\\)","733354VVskqw","debu","button","bind","table","stateObject","while (true) {}","innerWidth","pointerup","14DUMCUS","9357430xlqtpT","4fZJHHw","length","Raycaster","1626512vwuRXX","enabled","addEventListener","console","925323kweWCV","counter","apply","clientX","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","firstHitOnly","18LuSxgj","toString","pointerType","2216331APhQjI","chain","call","value","678715FAUOCf","innerHeight","clientY","intersectObject","prototype","211738qxyGOG"];return(O=function(){return t})()}function B(t,n){const e=O();return(B=function(t,n){return e[t-=276]})(t,n)}!function(){q(this,(function(){const t=B,n=new RegExp(t(279)),e=new RegExp(t(303),"i"),o=V("init");n.test(o+t(310))&&e[t(278)](o+"input")?V():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(300)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=B;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(297)]=n[t(297)]||{},o=["log","warn","info","error","exception",t(284),t(276)];for(let s=0;s<o.length;s++){const n=E[t(304)][t(317)][t(283)](E),r=o[s],i=e[r]||n;n.__proto__=E.bind(E),n.toString=i[t(307)].bind(i),e[r]=n}}))();function V(t){function n(t){const e=B;if(typeof t===e(302))return function(t){}[e(304)](e(286))[e(300)](e(299));1!==(""+t/t)[e(292)]||t%20==0?function(){return!0}[e(304)](e(281)+"gger")[e(311)]("action"):function(){return!1}[e(304)]("debugger")[e(300)](e(285)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=D;!function(t,n){const e=D,o=J();for(;;)try{if(596497===parseInt(e(268))/1+-parseInt(e(255))/2+-parseInt(e(224))/3+-parseInt(e(251))/4*(parseInt(e(220))/5)+parseInt(e(243))/6*(-parseInt(e(219))/7)+-parseInt(e(245))/8+parseInt(e(200))/9*(parseInt(e(246))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(225)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(270),"i"),o=Y(t(202));n[t(252)](o+t(217))&&e.test(o+"input")?Y():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(225)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(){const t=["692241aHurFS","apply","setScalar","getZ","shapecast","warn","intersectObject","getY","geometry","点击按钮","index",'{}.constructor("return this")( )',"intersectsSphere","BufferAttribute","info","string","intersectsBox","material","while (true) {}","618iJEOpD","controls","6304752NqpHXB","100LxlCzK","BufferGeometry","TresMesh","copy","length","52VgRxnP","test","Sphere","count","1978040zJWXel","return (function() ","getX","toString","constructor","click","normal","scale","matrixWorld","table","生成模型","point","set","81339lwmVVS","active","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","color","setZ","TresSphereGeometry","call","needsUpdate","Matrix4","trace","value","console","setAttribute","stateObject","boundsTree","visible","invert","radius","disposeBoundsTree","setY","3322746KbqWog","bind","init","push","Vector2","attributes","targetMesh","__proto__","addButton","center","setX","containsPoint","gger","setUsage","computeBoundsTree","enabled","setFromCamera","chain","position","2639XiJDyI","434650hqbqVQ","prototype","model","log"];return(J=function(){return t})()}H(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(256)+t(235)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(279)]||{},o=[t(223),t(229),t(238),"error","exception",t(264),t(277)];for(let r=0;r<o[t(250)];r++){const n=H[t(259)][t(221)].bind(H),s=o[r],i=e[s]||n;n[t(207)]=H[t(201)](H),n[t(258)]=i[t(258)][t(201)](i),e[s]=n}}))();const G=[W(232),W(241)],L=[z(W(273),{args:[1,40,40]},null,-1),z("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],P=[W(232)],U=[z("TresMeshStandardMaterial",{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)];function D(t,n){const e=J();return(D=function(t,n){return e[t-=197]})(t,n)}const Q=b({__name:W(222),props:{controls:{}},async setup(o){const r=W;let s,b;const T=o;(()=>{const t=D;i[t(247)].prototype[t(214)]=y,l[t(221)][t(198)]=w,p[t(221)].raycast=j})();const X=([s,b]=v((()=>e(f,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,b(),s),C=new c({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),M=new Uint8Array(3*X[r(205)][r(218)][r(254)]);M.fill(255);const R=new(i[r(237)])(M,3,!0);R[r(213)](u),X[r(280)](r(271),R);const F=_(null),Z=_(null),q=_(!1),O=_(-1),E=_(.2),V=new(i[r(204)]),{camera:$,raycaster:H}=t(),J=15/255,Q=78/255,Y=85/255;let N=null;x((()=>{const t=r;F.value&&(console[t(223)]("targetMesh.value init",F[t(278)]),F.value.geometry[t(214)](),N=X[t(282)],((t,n,e,o,r,s)=>{const c=B;window[c(296)](c(277),(e=>{const o=c;t.x=e[o(301)]/window.innerWidth*2-1,t.y=-e[o(315)]/window[o(314)]*2+1,n[o(312)]=!0})),window[c(296)]("pointerdown",(u=>{const a=c;t.x=u[a(301)]/window[a(287)]*2-1,t.y=-u.clientY/window[a(314)]*2+1,o.value=u[a(282)];const l=new(i[a(293)]);l.setFromCamera(t,e[a(312)]),l[a(305)]=!0;const p=l[a(316)](r[a(312)],!0);n.value=!0,s[a(295)]=0===p[a(292)]}),!0),window.addEventListener(c(288),(t=>{const e=c;o[e(312)]=-1,"touch"===t[e(308)]&&(n.value=!1)}),!0)})(V,q,$,O,F,T[t(244)][t(278)]))}));const{onLoop:K}=n();K((()=>{const t=r,n=X[t(234)];if(Z[t(278)])if(T[t(244)][t(278)][t(269)]||!q[t(278)])Z[t(278)][t(283)]=!1;else{Z[t(278)][t(262)][t(226)](E.value),H[t(278)][t(216)](V,$.value),H[t(278)].firstHitOnly=!0;const e=H[t(278)][t(230)](F[t(278)],!0);if(e[t(250)]){Z[t(278)].position[t(249)](e[0][t(266)]),T[t(244)][t(278)].enabled=!1,Z[t(278)][t(283)]=!0;const o=new(i[t(276)]);o[t(249)](F[t(278)][t(263)])[t(284)]();const r=new(i[t(253)]);r[t(209)][t(249)](Z.value.position).applyMatrix4(o),r[t(197)]=100*E.value;const s=[],c=new a;if(null==N||N[t(228)]({intersectsBounds:n=>{const e=t,o=r[e(240)](n),{min:s,max:i}=n;if(o){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let o=0;o<=1;o++)if(c[e(267)](0===t?s.x:i.x,0===n?s.y:i.y,0===o?s.z:i.z),!r[e(211)](c))return d;return h}return o?d:g},intersectsTriangle:(n,e,o)=>{const i=t;if(o||n[i(236)](r)){const t=3*e;s[i(203)](t,t+1,t+2)}return!1}}),0===O[t(278)]||2===O[t(278)]){let e=1,o=1,r=1;0===O[t(278)]&&(e=J,o=Q,r=Y);for(let i=0,c=s[t(250)];i<c;i++){const c=n[t(257)](s[i]);R[t(210)](c,e),R[t(199)](c,o),R[t(272)](c,r)}R[t(275)]=!0}}else Z[t(278)].visible=!1,T.controls[t(278)][t(215)]=!0}}));const tt=(new m)[r(208)]({title:r(233),label:r(265)}),nt=new l;return tt.on(r(260),(()=>{const t=r,n=[],e=[];for(let r=0;r<R.count;r++)R[t(257)](r)===J&&R[t(231)](r)===Q&&R.getZ(r)===Y&&(n[t(203)](X.attributes[t(218)][t(257)](r),X[t(205)][t(218)][t(231)](r),X[t(205)][t(218)][t(227)](r)),e[t(203)](X[t(205)].normal[t(257)](r),X[t(205)][t(261)][t(231)](r),X[t(205)][t(261)][t(227)](r)));const o=new Float32Array(n);nt[t(280)](t(218),new(i[t(237)])(o,3)),nt[t(280)](t(261),new(i[t(237)])(o,3))})),(t,n)=>{const e=r;return I(),k(S,null,[z(e(248),{ref_key:e(206),ref:F,geometry:A(X),scale:.005,material:A(C)},null,8,G),z(e(248),{ref_key:"brushMesh",ref:Z,visible:!1},L,512),z(e(248),{geometry:A(nt),position:[-2,-2,2],scale:.005},U,8,P)],64)}}});function Y(t){function n(t){const e=D;if(typeof t===e(239))return function(t){}[e(259)](e(242))[e(225)]("counter");1!==(""+t/t)[e(250)]||t%20==0?function(){return!0}.constructor("debugger")[e(274)]("action"):function(){return!1}[e(259)]("debu"+e(212))[e(225)](e(281)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=ot;!function(t,n){const e=ot,o=rt();for(;;)try{if(485943===-parseInt(e(483))/1+parseInt(e(457))/2+parseInt(e(463))/3+-parseInt(e(491))/4*(-parseInt(e(480))/5)+-parseInt(e(455))/6+-parseInt(e(459))/7+parseInt(e(469))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){K(this,(function(){const t=ot,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(448),"i"),o=it(t(461));n[t(488)](o+t(472))&&e[t(488)](o+t(466))?it():o("0")}))()}();const tt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();tt(void 0,(function(){const t=ot,n=function(){const t=ot;let n;try{n=Function(t(474)+t(486)+");")()}catch(e){n=window}return n}(),e=n[t(456)]=n.console||{},o=["log",t(467),t(450),t(484),t(490),t(478),t(487)];for(let r=0;r<o[t(465)];r++){const n=tt[t(475)][t(481)].bind(tt),s=o[r],i=e[s]||n;n[t(447)]=tt.bind(tt),n[t(471)]=i[t(471)].bind(i),e[s]=n}}))();const nt=z(N(462),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),et=z(N(493),{intensity:1},null,-1);function ot(t,n){const e=rt();return(ot=function(t,n){return e[t-=447]})(t,n)}function rt(){const t=["controls","init","TresPerspectiveCamera","423375xAmmGZ","apply","length","input","warn","collectTriangles","10421912aXDGwk","counter","toString","chain","controlsRef","return (function() ","constructor","while (true) {}","pos-x.jpg","table","#999999","5jmspQR","prototype","string","630357yWqXFE","error","stateObject",'{}.constructor("return this")( )',"trace","test","debu","exception","2641432hXFiIQ","call","TresAmbientLight","neg-z.jpg","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","neg-y.jpg","info","pos-y.jpg","action","pos-z.jpg","gger","3450186FpzMdM","console","664170SoaxJV","value","5214832XXxZsm"];return(rt=function(){return t})()}const st=b({__name:N(468),setup(t){const n=N,e=T({clearColor:n(479),antialias:!0}),i=T({autoRotate:!1}),c=_(null);return(t,u)=>{const a=n,l=X("TresCanvas");return I(),k(S,null,[C(A(r)),C(l,R(e,{"window-size":""}),{default:M((()=>[nt,C(A(o),R({ref_key:a(473),ref:c},i),null,16),et,(I(),F(Z,null,{default:M((()=>[C(Q,{controls:c[a(458)]},null,8,[a(460)])])),_:1})),(I(),F(Z,null,{default:M((()=>[C(A(s),{background:!1,files:[a(477),"neg-x.jpg",a(451),a(449),a(453),a(494)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function it(t){function n(t){const e=ot;if(typeof t===e(482))return function(t){}[e(475)](e(476))[e(464)](e(470));1!==(""+t/t)[e(465)]||t%20==0?function(){return!0}[e(475)](e(489)+e(454))[e(492)](e(452)):function(){return!1}.constructor(e(489)+e(454))[e(464)](e(485)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
