import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{F as t,K as a}from"./@tresjs.B1f7s3pS1767066396612.js";import{_ as o}from"./reflectorMesh.vue_vue_type_script_setup_true_lang.DXgr9guh1767066396612.js";import{f as r}from"./generalFont.vue_vue_type_script_setup_true_lang.Z5LxGLZ21767066396612.js";import"./default.vue_vue_type_script_setup_true_lang.VHSeCGYE1767066396612.js";import"./three-mesh-ui.module.dA3oDDhS1767066396612.js";import"./domPanel.vue_vue_type_style_index_0_lang.D11M9pLL1767066396612.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DS9PWjZT1767066396612.js";import"./index.vue_vue_type_script_setup_true_lang.iYOGhvYh1767066396612.js";import{u as n}from"./index.Y8o_qofm1767066396612.js";import{_ as l}from"./cloudPoints.vue_vue_type_script_setup_true_lang.Bv0eirCh1767066396612.js";import{P as i}from"./tweakpane.CqZAnw7f1767066396612.js";const{withAsyncContext:s,defineComponent:c}=await e("vue"),{unref:u,createElementVNode:m,createVNode:p,Fragment:_,openBlock:d,createElementBlock:f}=await e("vue"),v=["object"],{toRaw:w}=await e("vue"),{Plane:h,Vector3:g}=await e("three"),j=c({__name:"planeClipping",async setup(e){let a,o;const{renderer:r}=t();r.localClippingEnabled=!0;const{nodes:c}=([a,o]=s(()=>n("https://opensource.cdn.icegl.cn/model/industry4/plane/scene.gltf")),a=await a,o(),a);c.Sketchfab_model.getObjectByName("Floor").removeFromParent();const j=c.Sketchfab_model.getObjectByName("Cube006_Avion_0");j.castShadow=!0;const y=[new h(new g(1,0,0),0),new h(new g(0,0,-1),0)];j.material.clipIntersection=!0,j.material.clippingPlanes=y;const b=c.Sketchfab_model.getObjectByName("Cube006_M_Moteur_0");b.material.clipIntersection=!0,b.material.clippingPlanes=y;const C=c.Sketchfab_model.getObjectByName("CS_Black_0"),S=new i({title:"裁剪参数",expanded:!0});return S.addBinding(y[0],"constant",{label:"x",min:-200,max:200,step:1}),S.addBinding(y[1],"constant",{label:"y",min:-200,max:250,step:1}),(e,t)=>(d(),f(_,null,[m("primitive",{object:w(u(c).Sketchfab_model)},null,8,v),p(l,{isRemoveSrc:"",model:w(u(C)),color:"#fff"},null,8,["model"])],64))}}),{defineComponent:y}=await e("vue"),{unref:b,createVNode:C,createElementVNode:S,Suspense:k,withCtx:B,openBlock:x,createBlock:P,normalizeProps:N,guardReactiveProps:E,resolveComponent:F,Fragment:z,createElementBlock:R}=await e("vue"),{shallowRef:T,watchEffect:V,reactive:L}=await e("vue"),M=y({__name:"planeClipping",setup(e){const t=L({mirrorSize:900,gridSize:880,mirrorColor:"#efefef",divisions:10,colorCenterLine:"#444444",colorGrid:"#888888"}),n=T();return V(()=>{n.value&&(n.value.shadow.mapSize.set(1e3,1e3),n.value.shadow.camera.near=.1,n.value.shadow.camera.far=5e3,n.value.shadow.camera.top=200,n.value.shadow.camera.right=200,n.value.shadow.camera.left=-200,n.value.shadow.camera.bottom=-200,n.value.shadow.radius=10)}),(e,l)=>{const i=F("TresCanvas");return x(),R(z,null,[C(b(r)),C(i,{clearColor:"#333",shadows:"","window-size":""},{default:B(()=>[l[0]||(l[0]=S("TresPerspectiveCamera",{position:[500,330,500],fov:50,near:.1,far:1e4},null,-1)),C(b(a)),l[1]||(l[1]=S("TresAmbientLight",{color:"#ffffff",intensity:1},null,-1)),S("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:n,color:"#ffffff",position:[300,300,350],intensity:6,"cast-shadow":""},null,512),(x(),P(k,null,{default:B(()=>[C(j)]),_:1})),C(o,N(E(t)),null,16)]),_:1})],64)}}});export{M as default};
