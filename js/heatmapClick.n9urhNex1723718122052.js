import{a as t,d as n}from"./@tresjs.GO-cpSrO1723718122052.js";import{P as e}from"./tweakpane.yHWGBmom1723718122052.js";import{a6 as o,a as r,ab as a,ac as s}from"./three.eXhPIzTa1723718122052.js";import{_ as i}from"./heatmap.js-fix.sNR9rS331723718122052.js";import{d as c,a4 as u,a1 as l,o as p,D as f,u as d,r as h,e as g,f as m,g as v,j as y,al as b,aj as w,ak as _,m as x,J as I}from"./@vue.Q1VpS3901723718122052.js";import"./@vueuse.z522fCYR1723718122052.js";import"./@amap.r0EhX7fK1723718122052.js";const j=R;function C(){const t=["273639sLXqjp","canvas","length","object","apply","error","DoubleSide","position","__proto__","createElement","string","boundingBox","28ggEpHJ","_renderer","ShaderMaterial","display","call","computeBoundingBox","15089690TsPSpS","init","geometry","action","while (true) {}","absolute","chain","body","gger","create","11842IXzBGX","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","stateObject","left","7000984EShRHb","debu","1392894UySoEl","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","log","console","show2dCanvas","767105UBQGpO","mesh_0","constructor","top","test","getZ","heatmap-canvas","40px","function *\\( *\\)","0.8","material","addData","1px solid #5384ff","8187070KsRpKh","setAttribute","getX","primitive","9Uuutnw","warn","radius","counter","style","return (function() ",'{}.constructor("return this")( )',"attributes","border","set","./draco/","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","onclick","block","layerY","setDataMax","prototype","needsUpdate","Texture","table","scale","160rhlwIR","28PFMypt","push","none","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t"];return(C=function(){return t})()}!function(t,n){const e=R,o=C();for(;;)try{if(571182===parseInt(e(325))/1*(parseInt(e(358))/2)+parseInt(e(330))/3+parseInt(e(342))/4*(-parseInt(e(371))/5)+parseInt(e(366))/6*(parseInt(e(326))/7)+-parseInt(e(364))/8+parseInt(e(388))/9*(-parseInt(e(384))/10)+parseInt(e(348))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(334)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(t,n){const e=C();return(R=function(t,n){return e[t-=309]})(t,n)}!function(){S(this,(function(){const t=R,n=new RegExp(t(379)),e=new RegExp(t(360),"i"),o=A(t(349));n[t(375)](o+t(354))&&e.test(o+"input")?A():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(334)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=R;let n;try{n=Function(t(309)+t(310)+");")()}catch(r){n=window}const e=n[t(369)]=n.console||{},o=[t(368),t(389),t(359),t(335),"exception",t(323),"trace"];for(let a=0;a<o[t(332)];a++){const n=T[t(373)][t(320)].bind(T),r=o[a],s=e[r]||n;n[t(338)]=T.bind(T),n[t(361)]=s[t(361)].bind(s),e[r]=n}}))();const k=[j(333)],z=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(315),{draco:!0,decoderPath:e(314)}))),a=await a,s(),a);h[e(372)].position[e(313)](-5088.96,-3.08,39374.7),h[e(372)][e(324)].setScalar(.01);let g=null,m=null,v=null;m=new(o[e(322)])((()=>{const t=e;return v=document[t(339)](t(377)),v[t(392)][t(337)]=t(353),v[t(392)][t(374)]=t(378),v[t(392)][t(363)]="0",document[t(355)].appendChild(v),g=i[t(357)]({container:v,width:256,height:256,blur:t(380),radius:c[t(390)]}),g._renderer[t(331)][t(392)][t(312)]=t(383),g._renderer[t(331)][t(316)]=function(n){const e=t;g[e(382)]({x:n.layerX,y:n[e(318)],value:1,radius:c[e(390)]}),g[e(319)](1),m&&(m[e(321)]=!0)},g})()[e(343)].canvas);const y={vertexShader:e(367),fragmentShader:e(329),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(336)]},b=new(o[e(344)])(y);h[e(372)][e(381)]=b;return(t=>{const n=e;t[n(347)]();const{max:o,min:a}=t[n(341)];t.deleteAttribute("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(311)][n(337)].count;e++)c[n(327)]((t[n(311)].position[n(386)](e)-a.x)/s),c[n(327)]((t[n(311)][n(337)][n(376)](e)-a.z)/i);const u=new Float32Array(c);t[n(385)]("uv",new r(u,2))})(h.mesh_0[e(350)]),l((()=>{const t=e;v[t(392)][t(345)]=""+(c[t(370)]?t(317):t(328))})),(t,n)=>{const o=e;return p(),f(o(387),{object:d(h).mesh_0},null,8,k)}}});function A(t){function n(t){const e=R;if(typeof t===e(340))return function(t){}[e(373)](e(352))[e(334)](e(391));1!==(""+t/t)[e(332)]||t%20==0?function(){return!0}[e(373)](e(365)+e(356))[e(346)](e(351)):function(){return!1}[e(373)](e(365)+"gger")[e(334)](e(362)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=D;!function(t,n){const e=D,o=U();for(;;)try{if(800318===parseInt(e(362))/1+parseInt(e(357))/2*(parseInt(e(372))/3)+-parseInt(e(341))/4+parseInt(e(344))/5+-parseInt(e(354))/6*(parseInt(e(360))/7)+parseInt(e(373))/8+parseInt(e(352))/9*(-parseInt(e(353))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(364)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function U(){const t=["error","init","addBinding","length","table","string","TresGridHelper","input","#030311","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addButton","action","显示二维图","constructor","trace","113924qmtWjh","call","while (true) {}","1276930XrHggg","show2dCanvas","debu","warn","console","圆圈的大小","prototype","stateObject","45qvuNoH","1583380SXQTAr","2136gtnCdZ","radius","TresCanvas","63634tTtcnE","点击左侧蓝色画框","TresDirectionalLight","10927DUOrbd","bind","536109rKsddC","function *\\( *\\)","apply","chain","counter","info","return (function() ","gger","__proto__","#ffffff","9RAaSbd","10314072mPXCll","heatmapClick"];return(U=function(){return t})()}!function(){M(this,(function(){const t=D,n=new RegExp(t(363)),e=new RegExp(t(335),"i"),o=F(t(327));n.test(o+t(365))&&e.test(o+t(333))?F():o("0")}))()}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(364)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=U();return(D=function(t,n){return e[t-=326]})(t,n)}B(void 0,(function(){const t=D;let n;try{n=Function(t(368)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(348)]=n[t(348)]||{},o=["log",t(347),t(367),t(326),"exception",t(330),t(340)];for(let a=0;a<o.length;a++){const n=B[t(339)][t(350)][t(361)](B),r=o[a],s=e[r]||n;n[t(370)]=B.bind(B),n.toString=s.toString[t(361)](s),e[r]=n}}))();const X=I("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1),O=I(E(359),{position:[5,10,7.5],color:E(371),intensity:5},null,-1),P=I(E(332),{args:[50,25]},null,-1),Z=c({__name:E(374),setup(t){const o=E,r={clearColor:o(334),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(328)](i,o(345),{label:o(338)}),c[o(328)](i,o(355),{label:o(349),min:.1,max:30,step:.1}),c[o(336)]({title:o(358)}),(t,e)=>{const a=g(o(356));return p(),m(a,x(r,{"window-size":""}),{default:v((()=>[X,y(d(n),{autoRotate:!1,autoRotateSpeed:2}),O,P,(p(),m(b,null,{default:v((()=>[y(z,w(_(i)),null,16)])),_:1}))])),_:1},16)}}});function F(t){function n(t){const e=D;if(typeof t===e(331))return function(t){}[e(339)](e(343))[e(364)](e(366));1!==(""+t/t)[e(329)]||t%20==0?function(){return!0}[e(339)](e(346)+"gger")[e(342)](e(337)):function(){return!1}[e(339)](e(346)+e(369))[e(364)](e(351)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Z as default};
