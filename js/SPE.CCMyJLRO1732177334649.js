import{_ as t,cl as e,bI as i,k as n,V as o,h as s,Y as r}from"./three.rV-MfnQb1732177334649.js";const a=c;function c(t,e){const i=f();return(c=function(t,e){return i[t-=290]})(t,e)}!function(t,e){const i=c,n=f();for(;;)try{if(844358===-parseInt(i(727))/1+-parseInt(i(723))/2*(-parseInt(i(502))/3)+parseInt(i(648))/4*(parseInt(i(698))/5)+parseInt(i(417))/6+-parseInt(i(325))/7*(parseInt(i(703))/8)+parseInt(i(389))/9+parseInt(i(380))/10*(-parseInt(i(743))/11))break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[c(434)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){h(this,(function(){const t=c,e=new RegExp(t(410)),i=new RegExp(t(362),"i"),n=d("init");e.test(n+t(683))&&i[t(358)](n+t(670))?d():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[c(434)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=c;let e;try{e=Function("return (function() "+t(374)+");")()}catch(o){e=window}const i=e[t(495)]=e[t(495)]||{},n=[t(725),t(359),t(489),t(364),t(488),t(533),t(726)];for(let s=0;s<n.length;s++){const e=l[t(657)][t(304)].bind(l),o=n[s],r=i[o]||e;e[t(414)]=l[t(580)](l),e[t(396)]=r[t(396)][t(580)](r),i[o]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function f(){const t=["releaseIntoPool","   c *= vec3( 2.0 );","__proto__","float and(float a, float b) {","material","3918138BSVLwm","logdepthbuf_pars_fragment","        float column = floor(mod( frameNumber, framesX ));","   return c;","       float x = gl_PointCoord.x - 0.5;","unpackRotationAxis","shaderChunks","_resetBufferRanges","bufferUpdateRanges","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","Color","setMat3","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","sqrt","setVec3Components","    vec3 outgoingLight = vColor.xyz;","textureLoop","apply","    highp float isAlive = when_gt( alive, 0.0 );","paramFetchingFunctions","maxAge","_distributionClamp","fog_fragment","    return value;","    }","SHOULD_CALCULATE_SPRITE","    vec3 accel = getAcceleration( age );","types","_applyAttributesToGeometry","amd","_incrementParticleCount","StaticDrawUsage","getHex","interpolateArray","_updateAttributeUpdateRange","_updateBuffers","_assignForceValue","_attributesNeedDynamicReset","attribute vec4 params;","        vSpriteSheet.z = columnNorm;","texture","shrink","subarray","#ifdef SHOULD_CALCULATE_SPRITE","_checkParticleAges","ensureTypedArg","static","attribute vec4 angle;","_triggerSingleEmitter","call","   vec3 c = vec3( 0.0 );","    return min(a + b, 1.0);","_activateParticles","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","activeMultiplier","action","randomFloat","  return 1.0 - when_gt(x, y);","updateMap","BufferGeometry","SPHERE","    #endif","_onRemove","exports","                   0.0,                                0.0,                                0.0,                                1.0);","_radius","DISC","_assignRotationValue","_axis","  return 1.0 - when_lt(x, y);","defineProperty","exception","info","uniforms","sin","isStatic","    #else","setFromArray","console","_center","typedArray","    ","grow","resetDynamic","updateMax","7518hEEYJz","number","#endif","   return velocity * age;","getPackedRotationAxis","logdepthbuf_fragment","arrayValuesAreEqual","debu","wiggle","attribute vec4 opacity;","while (true) {}","bufferUpdateKeys","float when_ge(float x, float y) {","Emitter","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","alive","_angleSpread","onParticleSpawn","triggerPoolEmitter","uuid","_spreadClamp","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","_distribution","hasPerspective","REVISION","varyings","array","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","needsUpdate","group","emitterIDs","table","      rotationMatrix = getRotationMatrix( axis, angle );","        float framesY = textureAnimation.y;","shaders","setNumber","scale","float when_gt(float x, float y) {","fixedTimeStep","removeEmitter","_createGetterSetters","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","logdepthbuf_vertex","updateRange","      translated = rotationCenter - pos;","counter","       float y = 1.0 - gl_PointCoord.y - 0.5;","activationEnd","getValueAtIndex","uniform vec4 textureAnimation;","arrayType","    vColor = vec4( c, o );","           return pos;","object","   float b = mod( hex, PACKED_COLOR_SIZE );","_pool","fog","    float shouldApplyValue = 0.0;","attributeCount","ensureArrayInstanceOf","random","function","    #ifdef ALPHATEST","       float c = cos( -vAngle );","    vec3 force = vec3( 0.0 );","direction","attribute vec3 velocity;","indexOffset","depthWrite","setDrawRange","   return params.y;","_setAttributeOffset","reset","frameCount","       float s = sin(angle);","generateUUID","SPE.Group: maxParticleCount exceeded. Requesting","   }","bind","branchAvoidanceFunctions","Vector4","Group","Emitter does not belong to a group, cannot remove.","_ensureTypedArray","AdditiveBlending","randomVector3OnSphere","splice","        pos.x += wiggleSin;","_decrementParticleCount","alphaTest","activationIndex","    return max(sign(x - y), 0.0);","attributeOffset","_resetParticle","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    highp float value = 0.0;","setColor","      if( rotation.y == 0.0 ) {","   return params.z;","_radiusScale","attributeKeys","ensureInstanceOf","randomDirectionVector3OnSphere","stateObject","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","randomVector3OnDisc","rotation","        pos.y += wiggleCos;","setVec2","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","_rotationCenter","ShaderMaterial","NEGATIVE_INFINITY","setVec4Components","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","_attributesNeedRefresh","_randomise","opacity","replace","    #ifdef SHOULD_CALCULATE_SPRITE","        float wiggleAmount = positionInTime * getWiggle();","    force += accel * age;","unpackColor","setRGB","#define PACKED_COLOR_DIVISOR 255.0","_updateDefines","POSITIVE_INFINITY","updateFlags","transparent","resetUpdateRange","           unpackColor( color.z ),","TypedArrayConstructor","textureFrameCount","        float framesX = vSpriteSheet.x;","setSize","    highp float alive = getAlive();","multiplyScalar","SHOULD_ROTATE_PARTICLES","utils","disable","Points","particleCount","   c.r = r / PACKED_COLOR_DIVISOR;","isArray","_assignPositionValue","5189084vYEbnC","radiusScale","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","    force *= drag;","dispose","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","        float rowNorm = row / framesY;","   c -= vec3( 1.0 );","_assignAbsLifetimeValue","constructor","indexOf","Vector3","lerpTypeAgnostic","_updateUniforms","attribute vec4 acceleration;","_setBufferUpdateRanges","rotationCenter","       vec3 c = vec3(1.0);","   c.g = g / PACKED_COLOR_DIVISOR;","normalize","_poolCreationSettings","_value","input","float or(float a, float b) {","copy","       if ( vColor.w < float(ALPHATEST) ) discard;","void main() {","duration","resetFlags","      vec3 axis = unpackRotationAxis( rotation.x );","componentSize","age","        float wiggleCos = isAlive * cos( wiggleAmount );","   c.b = b / PACKED_COLOR_DIVISOR;","        float framesX = textureAnimation.x;","chain","_static","        pos.z += wiggleSin;","      vec3 translated;","typeSizeMap","        float columnNorm = vSpriteSheet.z;","distribution","           unpackColor( color.x ),","           unpackColor( color.y ),","setAttribute","    vec3 pos = vec3( position );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","   return acceleration.xyz * age;","    #ifdef SHOULD_WIGGLE_PARTICLES","vec3 unpackColor( in float hex ) {","5gVDoCC","        vSpriteSheet.x = 1.0 / framesX;","    #ifdef SHOULD_ROTATE_PARTICLES","ShaderChunk","radius","3933896MfQnGC","push","setMat4","lerp","Emitter does not exist in this group. Will not remove.","keys","        vSpriteSheet.w = rowNorm;","    highp float positionInTime = (age / maxAge);","forceUpdateAll","roundToNearestMultiple","randomColorAsHex","abs","depthTest","fragment","updateCounts","bufferAttribute","       );","   return modelViewMatrix * vec4( position, 1.0 );","spread","velocity","746qiDlMu","Vector2","log","trace","225380fBVYCj","    gl_PointSize = pointSizePerspective;","ensureValueOverLifetimeCompliance","float getMaxAge() {","LINE","Argument is not instanceof SPE.Emitter:","acceleration","        pos = getRotation( pos, positionInTime );","forceFetchingFunctions","blending","getFromPool","spreadClamp","_assignAngleValue","addEmitter","size","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","88BYitlO","ShaderAttribute","getPool","vec3 unpackRotationAxis( in float hex ) {","paramsArray","_createBufferAttribute","_assignColorValue","enable","flagUpdate","hasOwnProperty","TypedArrayHelper","axisSpread","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","    vec3 vel = getVelocity( age );","rotateTexture","_assignParamsValue","SHOULD_ROTATE_TEXTURE","tick","particlesPerSecond","attributes","add","uniform float runTime;","axis","defines","prototype","offset","BufferAttribute","length","center","Invalid argument types, or argument types do not match:","textureFrames","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","clone","type","setVec4","randomDirectionVector3OnDisc","      }","randomVector3","colorize","runTime","logdepthbuf_pars_vertex","ceil","emitters","NUMBER","float getAge() {","7UDgsGL","attribute vec3 rotationCenter;","BOOLEAN","maxParticleCount","        float perspective = scale / length( mvPosition.xyz );","_assignValue","#define PACKED_COLOR_SIZE 256.0","elements","floatOverLifetime","        float framesY = vSpriteSheet.y;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","position","params","clamp","   return params.w;","string","cos","DynamicDrawUsage","set","activeParticleCount","gger","setVec2Components","    #ifdef SHOULD_ROTATE_TEXTURE","drag","floor","    vec3 value = vec3( 0.0 );","loop","           unpackColor( color.w )","angleSpread","boolean","       axis = normalize(axis);","    vec4 rotatedTexture = texture2D( tex, vUv );","test","warn","        float totalFrames = textureAnimation.z;","        float loopCount = textureAnimation.w;","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","error","#ifdef SHOULD_ROTATE_TEXTURE","BOX","min","colorOverLifetime","`emitter` argument must be instance of SPE.Emitter. Was provided with:","_createNewWhenPoolEmpty","_calculatePPSValue","geometry","Emitter already exists in this group. Will not add again.",'{}.constructor("return this")( )',"round","    float pointSizePerspective = pointSize * perspective;","setVec3","unshift","ensureArrayTypedArg","2130510xrxEhY","remove","usage","uniform float deltaTime;","attributeEnd","getLength","value","_spread","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","3427659fVJajd","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","spe","fog_pars_vertex","uniform sampler2D tex;","uniform float scale;","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","toString","        float perspective = 1.0;","max","common","angle","OBJECT","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","distributions","particles, can support only","updateMin","count","randomise","bufferUpdateCount","join","function *\\( *\\)","color"];return(f=function(){return t})()}typeof define===a(563)&&define[a(446)]?define(a(391),u):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module[a(480)]=u),u[a(290)]=function(t,e,i,n){const o=a;this[o(678)]=i||1,this.size=e||1,this[o(634)]=t||Float32Array,this.array=new t(e*this[o(678)]),this[o(569)]=n||0},u.TypedArrayHelper[a(657)]=u[a(290)],u[a(290)][a(304)][a(637)]=function(t,e){const i=a,n=this[i(528)][i(307)];return!e&&(t*=this[i(678)]),t<n?this[i(458)](t):t>n?this[i(499)](t):void console[i(489)]("TypedArray is already of size:",t+".","Will not resize.")},u[a(290)][a(304)][a(458)]=function(t){const e=a;return this.array=this[e(528)][e(459)](0,t),this.size=t,this},u[a(290)][a(304)][a(499)]=function(t){const e=a,i=this[e(528)],n=new(this[e(634)])(t);return n[e(344)](i),this[e(528)]=n,this[e(741)]=t,this},u.TypedArrayHelper[a(304)].splice=function(t,e){const i=a;t*=this[i(678)],e*=this[i(678)];const n=[],o=this[i(528)],s=o[i(307)];for(let r=0;r<s;++r)(r<t||r>=e)&&n[i(704)](o[r]);return this.setFromArray(0,n),this},u[a(290)][a(304)][a(494)]=function(t,e){const i=a,n=t+e[i(307)];return n>this[i(528)].length?this[i(499)](n):n<this[i(528)][i(307)]&&this[i(458)](n),this[i(528)][i(344)](e,this.indexOffset+t),this},u.TypedArrayHelper.prototype[a(611)]=function(t,e){return this[a(347)](t,e.x,e.y)},u.TypedArrayHelper[a(304)][a(347)]=function(t,e,i){const n=a,o=this[n(528)],s=this[n(569)]+t*this.componentSize;return o[s]=e,o[s+1]=i,this},u[a(290)][a(304)][a(377)]=function(t,e){return this[a(431)](t,e.x,e.y,e.z)},u[a(290)][a(304)][a(431)]=function(t,e,i,n){const o=a,s=this[o(528)],r=this.indexOffset+t*this[o(678)];return s[r]=e,s[r+1]=i,s[r+2]=n,this},u[a(290)][a(304)][a(314)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},u[a(290)].prototype[a(616)]=function(t,e,i,n,o){const s=a,r=this.array,c=this[s(569)]+t*this[s(678)];return r[c]=e,r[c+1]=i,r[c+2]=n,r[c+3]=o,this},u.TypedArrayHelper[a(304)][a(428)]=function(t,e){const i=a;return this[i(494)](this[i(569)]+t*this[i(678)],e[i(332)])},u[a(290)][a(304)][a(705)]=function(t,e){const i=a;return this[i(494)](this[i(569)]+t*this[i(678)],e[i(332)])},u[a(290)][a(304)][a(598)]=function(t,e){return this[a(431)](t,e.r,e.g,e.b)},u.TypedArrayHelper[a(304)][a(537)]=function(t,e){const i=a;return this[i(528)][this[i(569)]+t*this[i(678)]]=e,this},u[a(290)][a(304)][a(550)]=function(t){const e=a;return this[e(528)][this[e(569)]+t]},u[a(290)][a(304)].getComponentValueAtIndex=function(t){const e=a;return this[e(528)][e(459)](this[e(569)]+t*this[e(678)])},u[a(744)]=function(t,e,i){const n=a,o=u[n(744)][n(687)];this[n(313)]=typeof t===n(341)&&o.hasOwnProperty(t)?t:"f",this[n(678)]=o[this.type],this[n(552)]=i||Float32Array,this[n(497)]=null,this[n(718)]=null,this.dynamicBuffer=!!e,this[n(405)]=0,this.updateMax=0},u[a(744)][a(657)]=u.ShaderAttribute,u[a(744)][a(687)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[a(744)][a(304)].setUpdateRange=function(t,e){const i=a;this.updateMin=Math[i(367)](t*this[i(678)],this[i(405)]*this.componentSize),this[i(501)]=Math[i(398)](e*this[i(678)],this.updateMax*this[i(678)])},u[a(744)][a(304)][a(751)]=function(){const t=a,e=this[t(718)];!e[t(545)]&&(e[t(545)]={});const i=e[t(545)];i.offset=this[t(405)],i[t(406)]=Math.min(this.updateMax-this[t(405)]+this[t(678)],this.typedArray.array[t(307)]),e[t(530)]=!0},u.ShaderAttribute[a(304)][a(632)]=function(){const t=a;this[t(405)]=0,this[t(501)]=0},u[a(744)].prototype[a(500)]=function(){const e=a;this[e(718)].usage=this.dynamicBuffer?t[e(343)]:t[e(448)]},u.ShaderAttribute[a(304)][a(588)]=function(t,e){const i=a;this[i(497)][i(588)](t,e),this[i(711)]()},u[a(744)][a(304)][a(711)]=function(){const t=a;this[t(718)][t(528)]=this.typedArray[t(528)],this[t(718)][t(545)][t(305)]=0,this[t(718)][t(545)][t(406)]=-1,this[t(718)].usage=e,this.bufferAttribute[t(530)]=!0},u[a(744)][a(304)][a(585)]=function(t){const e=a;null!==this[e(497)]&&this[e(497)][e(741)]===t*this[e(678)]||(null!==this[e(497)]&&this.typedArray[e(741)]!==t?this[e(497)].setSize(t):null===this[e(497)]&&(this[e(497)]=new u.TypedArrayHelper(this[e(552)],t,this[e(678)])))},u[a(744)][a(304)][a(748)]=function(e){const i=a;if(this._ensureTypedArray(e),null!==this[i(718)])return this[i(718)][i(528)]=this[i(497)].array,parseFloat(t[i(526)])>=81&&(this[i(718)][i(406)]=this[i(718)][i(528)][i(307)]/this[i(718)].itemSize),void(this.bufferAttribute[i(530)]=!0);this[i(718)]=new(t[i(306)])(this.typedArray[i(528)],this[i(678)]),this.bufferAttribute[i(382)]=this.dynamicBuffer?t[i(343)]:t[i(448)]},u[a(744)].prototype[a(385)]=function(){const t=a;return null===this[t(497)]?0:this[t(497)][t(528)][t(307)]},u.shaderChunks={defines:[a(331),a(627)][a(409)]("\n"),uniforms:[a(383),a(301),a(393),a(551),a(394)][a(409)]("\n"),attributes:[a(662),a(568),"attribute vec4 rotation;",a(326),a(455),"attribute vec4 size;",a(464),"attribute vec4 color;",a(511)][a(409)]("\n"),varyings:["varying vec4 vColor;",a(365),"    varying float vAngle;",a(504),a(460),"    varying vec4 vSpriteSheet;",a(504)][a(409)]("\n"),branchAvoidanceFunctions:[a(539),a(593),"}","float when_lt(float x, float y) {",a(612),"}","float when_eq( float x, float y ) {","    return 1.0 - abs( sign( x - y ) );","}",a(514),a(486),"}","float when_le(float x, float y) {",a(474),"}",a(415),"    return a * b;","}",a(671),a(468),"}"][a(409)]("\n"),unpackColor:[a(697),"   vec3 c = vec3( 0.0 );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",a(556),"   c.r = r / PACKED_COLOR_DIVISOR;",a(666),"   c.b = b / PACKED_COLOR_DIVISOR;",a(420),"}"][a(409)]("\n"),unpackRotationAxis:[a(746),a(467),a(336),a(388),a(556),a(645),"   c.g = g / PACKED_COLOR_DIVISOR;",a(681),a(413),a(655),a(420),"}"][a(409)]("\n"),floatOverLifetime:[a(617),a(597),a(390),"    float fIndex = 0.0;",a(559),a(363),"",a(607),"       fIndex = float( i );",a(694),a(335),a(441),"",a(440),"}"].join("\n"),colorOverLifetime:[a(650),a(351),a(529),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",a(596),"    return value;","}"][a(409)]("\n"),paramFetchingFunctions:["float getAlive() {","   return params.x;","}",a(324),a(572),"}",a(730),a(600),"}","float getWiggle() {",a(340),"}"][a(409)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",a(720),"}","vec3 getVelocity( in float age ) {",a(505),"}","vec3 getAcceleration( in float age ) {",a(695),"}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES","   mat4 getRotationMatrix( in vec3 axis, in float angle) {",a(356),a(576),"       float c = cos(angle);","       float oc = 1.0 - c;","",a(653),a(742),"                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",a(481),a(579),"",a(402),a(599),a(554),a(316),"",a(677),"      vec3 center = rotationCenter;",a(686),"      mat4 rotationMatrix;","      float angle = 0.0;",a(292),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",a(546),a(534),a(426),a(579),"#endif"][a(409)]("\n"),rotateTexture:[a(516),"","    #ifdef SHOULD_ROTATE_TEXTURE",a(421),a(548),a(565),"       float s = sin( -vAngle );",a(606),a(478),"","    #ifdef SHOULD_CALCULATE_SPRITE",a(636),a(334),a(688),"        float rowNorm = vSpriteSheet.w;","        vUv.x = gl_PointCoord.x * framesX + columnNorm;",a(395),a(478),"",a(357)].join("\n")},u[a(536)]={vertex:[u[a(423)].defines,u[a(423)][a(490)],u[a(423)][a(299)],u[a(423)].varyings,i[a(399)],t[a(701)][a(320)],t[a(701)][a(392)],u[a(423)][a(581)],u[a(423)][a(625)],u[a(423)][a(422)],u[a(423)][a(333)],u[a(423)][a(368)],u[a(423)][a(436)],u[a(423)][a(735)],u[a(423)].rotationFunctions,a(674),"    highp float age = getAge();",a(638),"    highp float maxAge = getMaxAge();",a(710),a(435),a(696),a(623),"        float wiggleSin = isAlive * sin( wiggleAmount );",a(680),a(478),a(293),a(443),a(566),a(693),a(470),"    force += vel;",a(651),a(624),"    pos += force;",a(696),a(589),a(610),a(685),a(478),a(700),a(734),a(478),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",a(523),"    #ifdef HAS_PERSPECTIVE",a(329),a(493),a(397),a(478),a(376),"    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,",a(690),a(691),a(633),a(353),a(719),a(493),a(665),a(478),"    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );",a(553),a(348),a(543),a(478),a(622),a(682),a(535),a(361),a(360),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",a(419),"        float row = floor( (frameNumber - column) / framesX );","        float columnNorm = column / framesX;",a(654),a(699),"        vSpriteSheet.y = 1.0 / framesY;",a(456),a(709),a(478),a(728),"    gl_Position = projectionMatrix * mvPosition;",i[a(544)],t[a(701)].fog_vertex,"}"][a(409)]("\n"),fragment:[u[a(423)][a(490)],t[a(701)][a(399)],t[a(701)].fog_pars_fragment,t[a(701)][a(418)],u[a(423)][a(527)],u[a(423)][a(581)],"void main() {",a(432),a(498),a(564),a(673),a(478),u[a(423)][a(294)],t[a(701)][a(507)],"    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",t[a(701)][a(439)],"}"][a(409)]("\n")},u.utils={types:{BOOLEAN:a(355),STRING:a(341),NUMBER:a(503),OBJECT:a(555)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=a;if(Array[n(646)](t)){for(let o=t[n(307)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=a;if(Array[n(646)](t)){for(let o=t[n(307)]-1;o>=0;--o)if(void 0!==e&&t[o]instanceof e==!1)return i;return t}return this[n(603)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=a;e=e||3,i=i||3,!1===Array[n(646)](t._value)&&(t._value=[t[n(669)]]),!1===Array[n(646)](t[n(387)])&&(t[n(387)]=[t[n(387)]]);const o=this.clamp(t[n(669)].length,e,i),s=this[n(339)](t[n(387)].length,e,i),r=Math[n(398)](o,s);t[n(669)][n(307)]!==r&&(t[n(669)]=this[n(450)](t[n(669)],r)),t._spread[n(307)]!==r&&(t._spread=this[n(450)](t[n(387)],r))},interpolateArray(t,e){const i=a,n=t[i(307)],o=[typeof t[0].clone===i(563)?t[0].clone():t[0]],s=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*s,n=Math[i(350)](e),a=Math[i(321)](e),c=e-n;o[r]=this[i(660)](t[n],t[a],c)}return o.push(typeof t[n-1].clone===i(563)?t[n-1][i(312)]():t[n-1]),o},clamp:(t,e,i)=>Math[a(398)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[a(562)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,o){const s=a;let r,c=this[s(444)];return typeof e===c[s(323)]&&typeof i===c[s(323)]?e+(i-e)*o:e instanceof t[s(724)]&&i instanceof n?(r=e[s(312)](),r.x=this[s(706)](e.x,i.x,o),r.y=this[s(706)](e.y,i.y,o),r):e instanceof t[s(659)]&&i instanceof t[s(659)]?(r=e[s(312)](),r.x=this[s(706)](e.x,i.x,o),r.y=this[s(706)](e.y,i.y,o),r.z=this[s(706)](e.z,i.z,o),r):e instanceof t[s(582)]&&i instanceof t[s(582)]?(r=e[s(312)](),r.x=this[s(706)](e.x,i.x,o),r.y=this.lerp(e.y,i.y,o),r.z=this[s(706)](e.z,i.z,o),r.w=this[s(706)](e.w,i.w,o),r):e instanceof t[s(427)]&&i instanceof t[s(427)]?(r=e[s(312)](),r.r=this.lerp(e.r,i.r,o),r.g=this[s(706)](e.g,i.g,o),r.b=this.lerp(e.b,i.b,o),r):void console[s(359)](s(309),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=a;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(714)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=a;for(let i=0;i<t[e(307)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[a(562)]()-.5),randomVector3(t,e,i,n,o){const s=a;let r=i.x+(Math[s(562)]()*n.x-.5*n.x),c=i.y+(Math[s(562)]()*n.y-.5*n.y),h=i.z+(Math.random()*n.z-.5*n.z);o&&(r=.5*-o.x+this[s(712)](r,o.x),c=.5*-o.y+this[s(712)](c,o.y),h=.5*-o.z+this.roundToNearestMultiple(h,o.z)),t.typedArray.setVec3Components(e,r,c,h)},randomColor(t,e,i,n){const o=a;let s=i.r+Math.random()*n.x,r=i.g+Math.random()*n.y,c=i.b+Math[o(562)]()*n.z;s=this.clamp(s,0,1),r=this[o(339)](r,0,1),c=this[o(339)](c,0,1),t[o(497)][o(431)](e,s,r,c)},randomColorAsHex:function(){const e=a,i=new(t[e(427)]);return function(t,n,o,s){const r=e,a=o.length,c=[];for(let e=0;e<a;++e){const t=s[e];i[r(672)](o[e]),i.r+=Math[r(562)]()*t.x-.5*t.x,i.g+=Math[r(562)]()*t.y-.5*t.y,i.b+=Math[r(562)]()*t.z-.5*t.z,i.r=this[r(339)](i.r,0,1),i.g=this[r(339)](i.g,0,1),i.b=this.clamp(i.b,0,1),c[r(704)](i[r(449)]())}t[r(497)].setVec4Components(n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const o=a,s=i[o(312)]();s[o(706)](n,Math.random()),t[o(497)][o(431)](e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,o,s,r,c){const h=a;let l=2*Math.random()-1,u=6.2832*Math.random(),f=Math[h(430)](1-l*l),p=this[h(473)](n,o),d=0,m=0,g=0;r&&(p=Math[h(375)](p/r)*r),d=f*Math[h(342)](u)*p,m=f*Math[h(491)](u)*p,g=l*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t[h(497)][h(431)](e,d,m,g)},seededRandom(t){const e=1e4*Math[a(491)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,s,r){const c=a;let h=6.2832*Math[c(562)](),l=Math[c(714)](this[c(473)](n,o)),u=0,f=0,p=0;r&&(l=Math.round(l/r)*r),u=Math[c(342)](h)*l,f=Math[c(491)](h)*l,u*=s.x,f*=s.y,u+=i.x,f+=i.y,p+=i.z,t[c(497)][c(431)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=a,i=new(t[e(659)]);return function(t,n,o,s,r,a,c,h){const l=e;i[l(672)](a),i.x-=o,i.y-=s,i.z-=r,i[l(667)]()[l(639)](-this[l(473)](c,h)),t[l(497)][l(431)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=a,i=new(t[e(659)]);return function(t,n,o,s,r,a,c,h){const l=e;i.copy(a),i.x-=o,i.y-=s,i.z-=r,i.normalize()[l(639)](-this[l(473)](c,h)),t[l(497)][l(431)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=a,i=new o,n=new o,s=new(t[e(427)]),r=new(t[e(659)])(1,1,1);return function(t,o){const a=e;return i[a(672)](t)[a(667)](),n[a(672)](o)[a(667)](),i.x+=.5*-o.x+Math.random()*o.x,i.y+=.5*-o.y+Math[a(562)]()*o.y,i.z+=.5*-o.z+Math[a(562)]()*o.z,i.normalize()[a(300)](r).multiplyScalar(.5),s[a(626)](i.x,i.y,i.z),s[a(449)]()}}()},u[a(583)]=function(e){const i=a,o=u[i(641)],c=o.types;(e=o.ensureTypedArg(e,c.OBJECT,{}))[i(457)]=o[i(462)](e.texture,c[i(401)],{}),this[i(521)]=s.generateUUID(),this.fixedTimeStep=o[i(462)](e[i(540)],c[i(323)],.016),this.texture=o[i(603)](e.texture[i(386)],r,null),this[i(310)]=o[i(603)](e[i(457)].frames,t[i(724)],new(t[i(724)])(1,1)),this[i(635)]=o[i(462)](e[i(457)][i(575)],c[i(323)],this.textureFrames.x*this[i(310)].y),this[i(433)]=o.ensureTypedArg(e[i(457)][i(352)],c[i(323)],1),this.textureFrames[i(398)](new n(1,1)),this[i(525)]=o[i(462)](e[i(525)],c[i(327)],!0),this.colorize=o[i(462)](e[i(318)],c.BOOLEAN,!0),this[i(328)]=o.ensureTypedArg(e[i(328)],c[i(323)],null),this[i(736)]=o[i(462)](e.blending,c[i(323)],t[i(586)]),this[i(631)]=o[i(462)](e[i(631)],c.BOOLEAN,!0),this[i(591)]=parseFloat(o[i(462)](e[i(591)],c[i(323)],0)),this[i(570)]=o[i(462)](e[i(570)],c[i(327)],!1),this.depthTest=o.ensureTypedArg(e.depthTest,c.BOOLEAN,!0),this.fog=o[i(462)](e[i(558)],c[i(327)],!0),this[i(538)]=o[i(462)](e[i(538)],c[i(323)],300),this[i(322)]=[],this[i(532)]=[],this[i(557)]=[],this[i(668)]=null,this[i(370)]=0,this[i(618)]=!1,this[i(454)]=!1,this[i(644)]=0,this[i(490)]={tex:{type:"t",value:this[i(457)]},textureAnimation:{type:"v4",value:new(t[i(582)])(this[i(310)].x,this[i(310)].y,this.textureFrameCount,Math[i(398)](Math[i(714)](this[i(433)]),1))},fogColor:{type:"c",value:this[i(558)]?new(t[i(427)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(538)]}},this[i(303)]={HAS_PERSPECTIVE:this[i(525)],COLORIZE:this[i(318)],VALUE_OVER_LIFETIME_LENGTH:u.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(310)].x>1||this[i(310)].y>1},this.attributes={position:new u.ShaderAttribute("v3",!0),acceleration:new(u[i(744)])("v4",!0),velocity:new(u[i(744)])("v3",!0),rotation:new(u[i(744)])("v4",!0),rotationCenter:new(u[i(744)])("v3",!0),params:new(u[i(744)])("v4",!0),size:new(u[i(744)])("v4",!0),angle:new(u[i(744)])("v4",!0),color:new u.ShaderAttribute("v4",!0),opacity:new(u[i(744)])("v4",!0)},this[i(602)]=Object[i(708)](this[i(299)]),this.attributeCount=this[i(602)].length,this.material=new(t[i(614)])({uniforms:this[i(490)],vertexShader:u[i(536)].vertex,fragmentShader:u.shaders[i(716)],blending:this[i(736)],transparent:this[i(631)],alphaTest:this[i(591)],depthWrite:this[i(570)],depthTest:this[i(715)],defines:this[i(303)],fog:this[i(558)]}),this.geometry=new(t[i(476)]),this.mesh=new(t[i(643)])(this.geometry,this[i(416)]),null===this[i(328)]&&console[i(359)](i(429))},u.Group.constructor=u.Group,u[a(583)][a(304)][a(628)]=function(){const t=a;let e,i=this.emitters,n=i[t(307)]-1,o=this[t(303)];for(;n>=0;--n)e=i[n],!o[t(442)]&&(o[t(296)]=o[t(296)]||!!Math.max(Math[t(398)][t(434)](null,e.angle[t(386)]),Math[t(398)].apply(null,e.angle.spread))),o[t(640)]=o[t(640)]||!!Math[t(398)](e[t(609)][t(400)],e[t(609)][t(354)]),o.SHOULD_WIGGLE_PARTICLES=o.SHOULD_WIGGLE_PARTICLES||!!Math.max(e[t(510)][t(386)],e.wiggle.spread);this.material[t(530)]=!0},u[a(583)][a(304)][a(445)]=function(){const t=a;let e,i,n=this[t(299)],o=this[t(372)],s=o[t(299)];for(const r in n)n.hasOwnProperty(r)&&(e=n[r],i=s[r],i?i[t(528)]=e[t(497)].array:o[t(692)](r,e[t(718)]),e[t(718)][t(530)]=!0);this[t(372)][t(571)](0,this.particleCount)},u.Group.prototype[a(740)]=function(t){const e=a;if(t instanceof u[e(515)]==!1)return void console.error(e(369),t);if(this.emitterIDs.indexOf(t.uuid)>-1)return void console[e(364)](e(373));if(null!==t[e(531)])return void console.error("Emitter already belongs to another group. Will not add to requested group.");const i=this.attributes,n=this[e(644)],o=n+t[e(644)];this.particleCount=o,null!==this[e(328)]&&this[e(644)]>this[e(328)]&&console[e(359)](e(578),this.particleCount,e(404),this[e(328)]),t[e(371)](t[e(437)][e(669)]+t.maxAge[e(387)]),t._setBufferUpdateRanges(this[e(602)]),t[e(573)](n),t.group=this,t[e(299)]=this[e(299)];for(const s in i)i.hasOwnProperty(s)&&i[s][e(748)](null!==this[e(328)]?this.maxParticleCount:this[e(644)]);for(let s=n;s<o;++s)t[e(647)](s),t[e(453)](s,e(722)),t[e(453)](s,e(733)),t[e(656)](s,e(620)),t[e(656)](s,e(741)),t._assignAngleValue(s),t[e(484)](s),t[e(295)](s),t[e(749)](s);return this[e(445)](),this.emitters[e(704)](t),this[e(532)][e(704)](t[e(521)]),this[e(628)](t),this[e(416)][e(530)]=!0,this[e(372)].needsUpdate=!0,this[e(618)]=!0,this},u[a(583)].prototype[a(541)]=function(t){const e=a,i=this[e(532)][e(658)](t.uuid);if(t instanceof u.Emitter==!1)return void console[e(364)](e(369),t);if(-1===i)return void console[e(364)](e(707));const n=t[e(594)],o=n+t[e(644)],s=this[e(299)][e(338)][e(497)];for(let r=n;r<o;++r)s[e(528)][4*r]=0,s[e(528)][4*r+1]=0;this[e(322)][e(588)](i,1),this.emitterIDs[e(588)](i,1);for(const r in this[e(299)])this[e(299)].hasOwnProperty(r)&&this[e(299)][r].splice(n,o);this.particleCount-=t[e(644)],t[e(479)](),this[e(618)]=!0},u.Group.prototype.getFromPool=function(){const t=a,e=this._pool,i=this[t(370)];if(e[t(307)])return e.pop();if(i){const e=new(u[t(515)])(this[t(668)]);return this[t(740)](e),e}return null},u.Group[a(304)][a(412)]=function(t){const e=a;if(t instanceof u[e(515)]!=!1)return t[e(574)](),this[e(557)][e(378)](t),this;console[e(364)](e(732),t)},u[a(583)].prototype[a(745)]=function(){return this._pool},u[a(583)][a(304)].addPool=function(t,e,i){const n=a;let o;this._poolCreationSettings=e,this[n(370)]=!!i;for(let s=0;s<t;++s)o=Array.isArray(e)?new(u[n(515)])(e[s]):new u.Emitter(e),this[n(740)](o),this.releaseIntoPool(o);return this},u.Group[a(304)][a(465)]=function(e){const i=a,n=this[i(737)](),o=this;if(null!==n)return e instanceof t[i(659)]&&(n[i(337)][i(386)].copy(e),n[i(337)][i(386)]=n[i(337)][i(386)]),n[i(750)](),setTimeout((()=>{const t=i;n.disable(),o[t(412)](n)}),1e3*Math.max(n[i(675)],n.maxAge.value+n[i(437)][i(721)])),this;console[i(725)]("SPE.Group pool ran out.")},u.Group[a(304)][a(520)]=function(t,e){const i=a;if(typeof t===i(503)&&t>1)for(let n=0;n<t;++n)this._triggerSingleEmitter(e);else this[i(465)](e);return this},u[a(583)].prototype[a(661)]=function(t){const e=a;this.uniforms[e(319)][e(386)]+=t,this[e(490)].deltaTime[e(386)]=t},u.Group[a(304)][a(424)]=function(){let t=this.attributeKeys,e=this.attributeCount-1,i=this.attributes;for(;e>=0;--e)i[t[e]].resetUpdateRange()},u[a(583)].prototype[a(452)]=function(t){const e=a;let i,n,o,s=this[e(602)],r=this[e(560)]-1,c=this[e(299)],h=t.bufferUpdateRanges;for(;r>=0;--r)i=s[r],n=h[i],o=c[i],o.setUpdateRange(n[e(367)],n.max),o[e(751)]()},u[a(583)][a(304)].tick=function(t){const e=a;var i=this[e(322)],n=i[e(307)],o=t||this.fixedTimeStep,s=this[e(602)],r=this[e(299)];if(this[e(661)](o),this[e(424)](),0!==n||!1!==this[e(618)]||!1!==this[e(454)]){for(var c,h=0;h<n;++h)(c=i[h])[e(297)](o),this._updateBuffers(c);if(!0===this[e(454)]){for(h=this[e(560)]-1;h>=0;--h)r[s[h]][e(500)]();this[e(454)]=!1}if(!0===this[e(618)]){for(h=this.attributeCount-1;h>=0;--h)r[s[h]][e(711)]();this[e(618)]=!1,this._attributesNeedDynamicReset=!0}}},u.Group.prototype.dispose=function(){const t=a;return this[t(372)][t(652)](),this[t(416)].dispose(),this},u[a(515)]=function(e){const i=a,n=u[i(641)],r=n[i(444)],c=u.valueOverLifetimeLength;(e=n[i(462)](e,r.OBJECT,{}))[i(337)]=n.ensureTypedArg(e[i(337)],r[i(401)],{}),e[i(722)]=n.ensureTypedArg(e[i(722)],r[i(401)],{}),e.acceleration=n[i(462)](e[i(733)],r[i(401)],{}),e[i(702)]=n.ensureTypedArg(e[i(702)],r[i(401)],{}),e.drag=n[i(462)](e[i(349)],r[i(401)],{}),e[i(609)]=n[i(462)](e[i(609)],r[i(401)],{}),e[i(411)]=n[i(462)](e[i(411)],r[i(401)],{}),e.opacity=n[i(462)](e[i(620)],r[i(401)],{}),e[i(741)]=n[i(462)](e[i(741)],r[i(401)],{}),e[i(400)]=n[i(462)](e[i(400)],r[i(401)],{}),e.wiggle=n[i(462)](e[i(510)],r.OBJECT,{}),e[i(437)]=n[i(462)](e[i(437)],r[i(401)],{}),e[i(519)]&&console[i(359)](i(311)),this[i(521)]=s[i(577)](),this[i(313)]=n[i(462)](e[i(313)],r.NUMBER,u[i(403)].BOX),this[i(337)]={_value:n.ensureInstanceOf(e.position[i(386)],o,new o),_spread:n.ensureInstanceOf(e[i(337)][i(721)],t[i(659)],new(t[i(659)])),_spreadClamp:n[i(603)](e[i(337)][i(738)],t[i(659)],new(t[i(659)])),_distribution:n[i(462)](e[i(337)].distribution,r.NUMBER,this[i(313)]),_randomise:n.ensureTypedArg(e[i(337)][i(407)],r[i(327)],!1),_radius:n[i(462)](e[i(337)].radius,r[i(323)],10),_radiusScale:n[i(603)](e[i(337)][i(649)],t[i(659)],new o(1,1,1)),_distributionClamp:n[i(462)](e.position.distributionClamp,r[i(323)],0)},this.velocity={_value:n[i(603)](e.velocity[i(386)],t[i(659)],new(t[i(659)])),_spread:n[i(603)](e.velocity[i(721)],o,new(t[i(659)])),_distribution:n.ensureTypedArg(e[i(722)][i(689)],r.NUMBER,this[i(313)]),_randomise:n[i(462)](e[i(337)][i(407)],r[i(327)],!1)},this.acceleration={_value:n[i(603)](e[i(733)][i(386)],t[i(659)],new o),_spread:n[i(603)](e[i(733)][i(721)],t[i(659)],new(t[i(659)])),_distribution:n[i(462)](e.acceleration[i(689)],r[i(323)],this[i(313)]),_randomise:n[i(462)](e[i(337)][i(407)],r[i(327)],!1)},this.drag={_value:n[i(462)](e[i(349)][i(386)],r[i(323)],0),_spread:n[i(462)](e[i(349)][i(721)],r[i(323)],0),_randomise:n[i(462)](e[i(337)][i(407)],r.BOOLEAN,!1)},this[i(510)]={_value:n.ensureTypedArg(e[i(510)][i(386)],r[i(323)],0),_spread:n[i(462)](e[i(510)][i(721)],r[i(323)],0)},this[i(609)]={_axis:n[i(603)](e[i(609)][i(302)],t[i(659)],new(t[i(659)])(0,1,0)),_axisSpread:n[i(603)](e.rotation[i(291)],t[i(659)],new(t[i(659)])),_angle:n.ensureTypedArg(e.rotation[i(400)],r[i(323)],0),_angleSpread:n[i(462)](e[i(609)][i(354)],r[i(323)],0),_static:n.ensureTypedArg(e[i(609)][i(463)],r[i(327)],!1),_center:n[i(603)](e[i(609)][i(308)],t[i(659)],this.position[i(669)][i(312)]()),_randomise:n[i(462)](e[i(337)][i(407)],r.BOOLEAN,!1)},this[i(437)]={_value:n[i(462)](e.maxAge[i(386)],r.NUMBER,2),_spread:n.ensureTypedArg(e[i(437)][i(721)],r[i(323)],0)},this[i(411)]={_value:n.ensureArrayInstanceOf(e[i(411)].value,t[i(427)],new(t[i(427)])),_spread:n[i(561)](e[i(411)][i(721)],t[i(659)],new o),_randomise:n.ensureTypedArg(e[i(337)][i(407)],r[i(327)],!1)},this.opacity={_value:n[i(379)](e[i(620)].value,r[i(323)],1),_spread:n[i(379)](e[i(620)][i(721)],r.NUMBER,0),_randomise:n[i(462)](e[i(337)][i(407)],r[i(327)],!1)},this[i(741)]={_value:n[i(379)](e[i(741)][i(386)],r[i(323)],1),_spread:n[i(379)](e[i(741)][i(721)],r[i(323)],0),_randomise:n[i(462)](e[i(337)][i(407)],r[i(327)],!1)},this[i(400)]={_value:n.ensureArrayTypedArg(e[i(400)][i(386)],r[i(323)],0),_spread:n.ensureArrayTypedArg(e[i(400)][i(721)],r[i(323)],0),_randomise:n[i(462)](e.position.randomise,r.BOOLEAN,!1)},this[i(644)]=n.ensureTypedArg(e[i(644)],r.NUMBER,100),this[i(675)]=n[i(462)](e.duration,r[i(323)],null),this[i(492)]=n[i(462)](e[i(492)],r[i(327)],!1),this[i(471)]=n.ensureTypedArg(e[i(471)],r.NUMBER,1),this[i(567)]=n[i(462)](e[i(567)],r[i(323)],1),this.alive=n.ensureTypedArg(e[i(517)],r.BOOLEAN,!0),this[i(298)]=0,this.activationIndex=0,this[i(594)]=0,this[i(384)]=0,this[i(679)]=0,this[i(345)]=0,this[i(531)]=null,this[i(299)]=null,this[i(747)]=null,this.resetFlags={position:n[i(462)](e.position.randomise,r.BOOLEAN,!1)||n.ensureTypedArg(e[i(702)][i(407)],r[i(327)],!1),velocity:n[i(462)](e.velocity.randomise,r[i(327)],!1),acceleration:n.ensureTypedArg(e[i(733)][i(407)],r.BOOLEAN,!1)||n.ensureTypedArg(e[i(349)].randomise,r[i(327)],!1),rotation:n[i(462)](e[i(609)][i(407)],r.BOOLEAN,!1),rotationCenter:n[i(462)](e[i(609)][i(407)],r[i(327)],!1),size:n[i(462)](e[i(741)][i(407)],r.BOOLEAN,!1),color:n.ensureTypedArg(e[i(411)][i(407)],r[i(327)],!1),opacity:n.ensureTypedArg(e[i(620)][i(407)],r.BOOLEAN,!1),angle:n[i(462)](e[i(400)][i(407)],r[i(327)],!1)},this[i(630)]={},this[i(717)]={},this[i(475)]={maxAge:i(338),position:"position",velocity:i(722),acceleration:i(733),drag:i(733),wiggle:i(338),rotation:i(609),size:i(741),color:i(411),opacity:i(620),angle:i(400)};for(const t in this[i(475)])this.updateMap[i(752)](t)&&(this[i(717)][this[i(475)][t]]=0,this[i(630)][this.updateMap[t]]=!1,this[i(542)](this[t],t));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,n[i(729)](this[i(411)],c,c),n[i(729)](this.opacity,c,c),n[i(729)](this[i(741)],c,c),n[i(729)](this.angle,c,c)},u[a(515)][a(657)]=u[a(515)],u[a(515)][a(304)][a(542)]=function(t,e){const i=a,n=this;for(const o in t)if(t[i(752)](o)){const s=o[i(621)]("_","");Object[i(487)](t,s,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=c,s=n[o(475)][e],r=this[t],a=u.valueOverLifetimeLength;t===o(613)?(n[o(630)].rotationCenter=!0,n[o(717)][o(664)]=0):t===o(619)?n[o(676)][s]=i:(n[o(630)][s]=!0,n[o(717)][s]=0),n[o(531)]._updateDefines(),this[t]=i,Array[o(646)](r)&&u.utils[o(729)](n[e],a,a)}}(o)})}},u[a(515)].prototype[a(663)]=function(t){const e=a;this[e(602)]=t,this[e(560)]=t[e(307)];for(let i=this[e(560)]-1;i>=0;--i)this[e(425)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(615)]}},u[a(515)].prototype[a(371)]=function(t){const e=a,i=this[e(644)];this.duration?this[e(298)]=i/(t<this[e(675)]?t:this[e(675)]):this[e(298)]=i/t},u[a(515)].prototype[a(573)]=function(t){const e=a;this[e(594)]=t,this[e(592)]=t,this[e(549)]=t+this[e(644)]},u[a(515)][a(304)][a(330)]=function(t,e){const i=a;switch(t){case i(337):this[i(647)](e);break;case i(722):case i(733):this[i(453)](e,t);break;case i(741):case i(620):this[i(656)](e,t);break;case i(400):this._assignAngleValue(e);break;case i(338):this[i(295)](e);break;case i(609):this[i(484)](e);break;case i(411):this[i(749)](e)}},u[a(515)][a(304)][a(647)]=function(t){const e=a,i=u[e(403)],n=u[e(641)],o=this[e(337)],s=this[e(299)][e(337)],r=o._value,c=o[e(387)];switch(o[e(524)]){case i[e(366)]:n[e(317)](s,t,r,c,o._spreadClamp);break;case i[e(477)]:n[e(587)](s,t,r,o[e(482)],o[e(387)].x,o._radiusScale,o[e(522)].x,o[e(438)]||this.particleCount);break;case i[e(483)]:n[e(608)](s,t,r,o[e(482)],o[e(387)].x,o[e(601)],o[e(522)].x);break;case i[e(731)]:n.randomVector3OnLine(s,t,r,c)}},u[a(515)][a(304)][a(453)]=function(t,e){const i=a;let n,o,s,r,c,h=u.distributions,l=u[i(641)],f=this[e],p=f[i(669)],d=f._spread;switch(f._distribution){case h[i(366)]:l[i(317)](this[i(299)][e],t,p,d);break;case h[i(477)]:n=this[i(299)][i(337)][i(497)][i(528)],c=3*t,o=n[c],s=n[c+1],r=n[c+2],l[i(604)](this.attributes[e],t,o,s,r,this[i(337)][i(669)],f[i(669)].x,f[i(387)].x);break;case h.DISC:n=this[i(299)][i(337)][i(497)].array,c=3*t,o=n[c],s=n[c+1],r=n[c+2],l[i(315)](this.attributes[e],t,o,s,r,this[i(337)]._value,f._value.x,f[i(387)].x);break;case h[i(731)]:l.randomVector3OnLine(this.attributes[e],t,p,d)}if(e===i(733)){const e=l[i(339)](l[i(473)](this[i(349)][i(669)],this[i(349)][i(387)]),0,1);this[i(299)][i(733)][i(497)][i(528)][4*t+3]=e}},u[a(515)][a(304)]._assignAbsLifetimeValue=function(t,e){const i=a;let n,o=this[i(299)][e][i(497)],s=this[e],r=u.utils;r[i(508)](s._value)&&r[i(508)](s[i(387)])?(n=Math[i(714)](r[i(473)](s[i(669)][0],s[i(387)][0])),o[i(616)](t,n,n,n,n)):o.setVec4Components(t,Math[i(714)](r[i(473)](s[i(669)][0],s[i(387)][0])),Math[i(714)](r.randomFloat(s[i(669)][1],s[i(387)][1])),Math[i(714)](r[i(473)](s._value[2],s[i(387)][2])),Math[i(714)](r.randomFloat(s[i(669)][3],s[i(387)][3])))},u.Emitter.prototype[a(739)]=function(t){const e=a;let i,n=this.attributes[e(400)][e(497)],o=this[e(400)],s=u[e(641)];s[e(508)](o[e(669)])&&s[e(508)](o._spread)?(i=s[e(473)](o._value[0],o[e(387)][0]),n[e(616)](t,i,i,i,i)):n[e(616)](t,s.randomFloat(o._value[0],o[e(387)][0]),s[e(473)](o._value[1],o[e(387)][1]),s[e(473)](o._value[2],o[e(387)][2]),s.randomFloat(o[e(669)][3],o[e(387)][3]))},u[a(515)].prototype[a(295)]=function(t){const e=a;this[e(299)][e(338)].typedArray[e(616)](t,this[e(492)]?1:0,0,Math.abs(u[e(641)].randomFloat(this[e(437)][e(669)],this.maxAge._spread)),u[e(641)][e(473)](this[e(510)][e(669)],this[e(510)][e(387)]))},u[a(515)][a(304)]._assignRotationValue=function(t){const e=a;this[e(299)][e(609)][e(497)][e(431)](t,u[e(641)][e(506)](this[e(609)][e(485)],this[e(609)]._axisSpread),u[e(641)][e(473)](this.rotation._angle,this.rotation[e(518)]),this[e(609)][e(684)]?0:1),this[e(299)][e(664)][e(497)][e(377)](t,this[e(609)][e(496)])},u[a(515)].prototype[a(749)]=function(t){const e=a;u[e(641)][e(713)](this[e(299)][e(411)],t,this[e(411)]._value,this[e(411)][e(387)])},u[a(515)][a(304)][a(595)]=function(t){const e=a;let i,n,o=this[e(676)],s=this.updateFlags,r=this[e(717)],c=this[e(602)];for(let a=this[e(560)]-1;a>=0;--a)i=c[a],n=s[i],!0!==o[i]&&!0!==n||(this._assignValue(i,t),this[e(451)](i,t),!0===n&&r[i]===this[e(644)]?(s[i]=!1,r[i]=0):1==n&&++r[i])},u[a(515)].prototype[a(451)]=function(t,e){const i=a,n=this[i(425)][t];n[i(367)]=Math[i(367)](e,n.min),n[i(398)]=Math[i(398)](e,n[i(398)])},u.Emitter[a(304)][a(424)]=function(){const t=a;let e,i=this[t(425)],n=this[t(513)],o=this[t(408)]-1;for(;o>=0;--o)e=n[o],i[e][t(367)]=Number[t(629)],i[e][t(398)]=Number[t(615)]},u[a(515)][a(304)][a(479)]=function(){const t=a;this[t(298)]=0,this[t(594)]=0,this.activationIndex=0,this[t(345)]=0,this.group=null,this[t(299)]=null,this[t(747)]=null,this[t(679)]=0},u.Emitter.prototype[a(590)]=function(){--this[a(345)]},u[a(515)][a(304)]._incrementParticleCount=function(){++this[a(345)]},u[a(515)].prototype[a(461)]=function(t,e,i,n){const o=a;for(var s,r,c,h,l=e-1;l>=t;--l)0!==(h=i[s=4*l])&&(c=i[s+1],r=i[s+2],1===this[o(567)]?(c+=n)>=r&&(c=0,h=0,this._decrementParticleCount()):(c-=n)<=0&&(c=r,h=0,this[o(590)]()),i[s]=h,i[s+1]=c,this[o(451)]("params",l))},u.Emitter[a(304)][a(469)]=function(t,e,i,n){const o=a,s=this[o(567)];for(var r,c,h=t;h<e;++h)0!=i[r=4*h]&&1!==this[o(644)]||(this[o(447)](),i[r]=1,this._resetParticle(h),c=n*(h-t),i[r+1]=-1===s?i[r+2]-c:c,this[o(451)](o(338),h))},u[a(515)][a(304)].tick=function(t){const e=a;if(this[e(492)])return;null===this[e(747)]&&(this[e(747)]=this[e(299)].params[e(497)][e(528)]);const i=this[e(594)],n=i+this[e(644)],o=this[e(747)],s=this[e(298)]*this[e(471)]*t,r=this.activationIndex;if(this[e(424)](),this[e(461)](i,n,o,t),!1===this[e(517)])return void(this[e(679)]=0);if(null!==this[e(675)]&&this.age>this[e(675)])return this[e(517)]=!1,void(this[e(679)]=0);const c=1===this.particleCount?r:0|r,h=Math[e(367)](c+s,this[e(549)]),l=h-this[e(592)]|0,u=l>0?t/l:0;this[e(469)](c,h,o,u),this[e(592)]+=s,this[e(592)]>n&&(this[e(592)]=i),this[e(679)]+=t},u.Emitter.prototype[a(574)]=function(t){const e=a;if(this[e(679)]=0,this[e(517)]=!1,!0===t){const t=this[e(594)],o=t+this[e(644)],s=this[e(747)],r=this[e(299)].params[e(718)];for(var i,n=o-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;r[e(545)][e(305)]=0,r[e(545)][e(406)]=-1,r[e(530)]=!0}return this},u[a(515)].prototype[a(750)]=function(){return this[a(517)]=!0,this},u[a(515)][a(304)][a(642)]=function(){return this[a(517)]=!1,this},u[a(515)][a(304)][a(381)]=function(){const t=a;return null!==this[t(531)]?this.group.removeEmitter(this):console[t(364)](t(584)),this};const p=u;function d(t){function e(t){const i=c;if(typeof t===i(341))return function(t){}[i(657)](i(512)).apply(i(547));1!==(""+t/t).length||t%20==0?function(){return!0}[i(657)](i(509)+i(346))[i(466)](i(472)):function(){return!1}[i(657)](i(509)+i(346)).apply(i(605)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{p as _};
