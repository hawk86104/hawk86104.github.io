import{c7 as t,a3 as e,s as n,t as r}from"./three.RuuDeeIf1736251016080.js";import{b as o}from"./@tresjs.8C7OKmBm1736251016080.js";import{R as s,b as i}from"./all.three.jnv7gLSV1736251016080.js";import{d as c,a4 as u,a1 as a,w as f,o as l,D as p,J as d,u as m}from"./@vue.-Mz_IXfk1736251016080.js";const h=x;function w(){const t=["chain","3461088lfgqYC","reflectivity","scale","log","tReflectBlur","object","debu","constructor","string","onBeforeRender","add","toString","uReflectivity","tReflect","isMesh","exception","18793647WkKcwB","2429988GLWWIK","74708nsuiuc","init","size","uMatrix","TresGroup","__proto__",'{}.constructor("return this")( )',"renderTarget","value","forEach","set","wrapS","apply","3828776PofrVb","ignoreObjects","error","7718795JTDdHQ","275rKkejG","wrapT","textureMatrixUniform","2839oizXzr","repeat","return (function() ","bind","renderTargetUniform","call","850HVDmnx","showGridHelper","while (true) {}","visible","texture","uniforms","mapUrl","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","test","primitive","length","input","stateObject","console"];return(w=function(){return t})()}!function(t,e){const n=x,r=w();for(;;)try{if(617129===-parseInt(n(449))/1*(parseInt(n(455))/2)+parseInt(n(428))/3+-parseInt(n(429))/4*(parseInt(n(446))/5)+parseInt(n(471))/6+-parseInt(n(445))/7+parseInt(n(442))/8+parseInt(n(487))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[x(441)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=x,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(462),"i"),r=_(t(430));e.test(r+t(470))&&n[t(464)](r+t(467))?_():r("0")}))()}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();b(void 0,(function(){const t=x;let e;try{e=Function(t(451)+t(435)+");")()}catch(o){e=window}const n=e[t(469)]=e[t(469)]||{},r=[t(474),"warn","info",t(444),t(486),"table","trace"];for(let s=0;s<r[t(466)];s++){const e=b[t(478)][t(463)][t(452)](b),o=r[s],i=n[o]||e;e[t(434)]=b[t(452)](b),e[t(482)]=i[t(482)][t(452)](i),n[o]=e}}))();const v=[h(473)],y=[h(476)],j=[h(476)];function x(t,e){const n=w();return(x=function(t,e){return n[t-=428]})(t,e)}const I=c({__name:"reflectorDUDV",props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const g=h;let b,x;const I=c,_=new s,z=new t(I[g(431)][0]-.5,I.size[1]);z.visible=I.showGridHelper;const{map:R}=([b,x]=u((()=>o({map:I[g(461)]}))),b=await b,x(),b);R[g(440)]=e,R[g(447)]=e,R[g(450)][g(439)](6,3);const G=new i({map:R,reflectivity:I[g(472)]});G.uniforms[g(484)]={value:_[g(436)][g(459)]},G.uniforms[g(475)]=_[g(453)],G.uniforms[g(432)]=_[g(448)];const T=new n(new r(I[g(431)][0],I[g(431)][1]),G);return T.rotation.x=-Math.PI/2,T[g(481)](_),T[g(480)]=(t,e,n)=>{const r=g;T[r(458)]=!1,I[r(443)][r(438)]((t=>{const e=r;t[e(485)]&&(t[e(458)]=!1),t[e(437)]&&t[e(437)][e(485)]&&(t[e(437)][e(458)]=!1)})),_.update(t,e,n),I[r(443)][r(438)]((t=>{const e=r;t[e(485)]&&(t.visible=!0),t.value&&t[e(437)][e(485)]&&(t[e(437)][e(458)]=!0)})),T[r(458)]=!0},a((()=>{const t=g;I.reflectivity&&(G[t(460)][t(483)][t(437)]=I.reflectivity)})),f((()=>I[g(456)]),(t=>{z.visible=t})),w({reflector:_}),(t,e)=>{const n=g;return l(),p(n(433),{scale:I.scale},[d(n(465),{object:m(T),"position-y":-.01},null,8,y),d(n(465),{object:m(z)},null,8,j)],8,v)}}});function _(t){function e(t){const n=x;if(typeof t===n(479))return function(t){}[n(478)](n(457))[n(441)]("counter");1!==(""+t/t)[n(466)]||t%20==0?function(){return!0}[n(478)](n(477)+"gger")[n(454)]("action"):function(){return!1}.constructor(n(477)+"gger")[n(441)](n(468)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
