import{a8 as t,_ as e,bR as i,C as n,b as o,a9 as s,V as r,t as a,d as c}from"./three.DqHgeVY11742895693222.js";const l=u;!function(t,e){const i=u,n=f();for(;;)try{if(412222===-parseInt(i(540))/1*(parseInt(i(398))/2)+-parseInt(i(592))/3+-parseInt(i(621))/4+parseInt(i(524))/5+-parseInt(i(820))/6+-parseInt(i(694))/7*(parseInt(i(771))/8)+-parseInt(i(821))/9*(-parseInt(i(626))/10))break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[u(497)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();function u(t,e){const i=f();return u=function(t,e){return i[t-=390]},u(t,e)}function f(){const t=["gger","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","axis","Emitter already exists in this group. Will not add again.","ShaderChunk","_assignRotationValue","exception","ensureTypedArg","bufferUpdateRanges","ensureArrayTypedArg","POSITIVE_INFINITY","forceFetchingFunctions","    }","_axisSpread","_attributesNeedDynamicReset","   c *= vec3( 2.0 );","        vSpriteSheet.y = 1.0 / framesY;","activationEnd","emitters","geometry","test","shaders","distributions","    return value;","   return acceleration.xyz * age;","_resetBufferRanges","vec3 unpackRotationAxis( in float hex ) {","resetUpdateRange","#ifdef SHOULD_ROTATE_TEXTURE","_value","removeEmitter","roundToNearestMultiple","usage","angle","distribution","rotation","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","grow","_attributesNeedRefresh","apply","        float framesX = vSpriteSheet.x;","        float wiggleCos = isAlive * cos( wiggleAmount );","uniform float scale;","    #else","   return params.w;","updateMin","stateObject","particlesPerSecond","fragment","_assignPositionValue","   c.g = g / PACKED_COLOR_DIVISOR;","MathUtils","attributeKeys","    varying vec4 vSpriteSheet;","fog","typedArray","attributeCount","mesh","log","shrink","_pool","interpolateArray","enable","SHOULD_ROTATE_TEXTURE","        float framesY = textureAnimation.y;","        pos.y += wiggleCos;","95100rpUaxS","valueOverLifetimeLength","setColor","      rotationMatrix = getRotationMatrix( axis, angle );","setVec4Components","distributionClamp","console","arrayType","    #ifdef HAS_PERSPECTIVE","radius","   float b = mod( hex, PACKED_COLOR_SIZE );","_createNewWhenPoolEmpty","_assignParamsValue","remove","texture","   c -= vec3( 1.0 );","177jvcRcY","Vector3","randomVector3OnSphere","depthTest","       float s = sin(angle);","generateUUID","hasOwnProperty","BOX","utils","frames","ensureArrayInstanceOf","float when_le(float x, float y) {","       float y = 1.0 - gl_PointCoord.y - 0.5;","getHex","    #endif","    gl_PointSize = pointSizePerspective;","radiusScale","           unpackColor( color.y ),","Emitter already belongs to another group. Will not add to requested group.","_incrementParticleCount","setNumber","attribute vec4 acceleration;","warn","attribute vec3 velocity;","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","                   0.0,                                0.0,                                0.0,                                1.0);","replace","        float totalFrames = textureAnimation.z;","unshift","      translated = rotationCenter - pos;","acceleration","      if( rotation.y == 0.0 ) {","__proto__","string","fixedTimeStep","push","number","_spreadClamp","color","getFromPool","elements","setSize","particles, can support only","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","logdepthbuf_fragment","DISC","_activateParticles","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","flagUpdate","Vector2","       vec3 c = vec3(1.0);","2424153SaQeYd","float or(float a, float b) {","   return c;","SHOULD_ROTATE_PARTICLES","vec3 getAcceleration( in float age ) {","    highp float alive = getAlive();","_setBufferUpdateRanges","count","float when_ge(float x, float y) {","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","exports","floor",'{}.constructor("return this")( )',"Emitter does not belong to a group, cannot remove.","    #ifdef SHOULD_WIGGLE_PARTICLES","_radiusScale","tick","OBJECT","   c.b = b / PACKED_COLOR_DIVISOR;","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","material","      float angle = 0.0;","_radius","randomVector3OnLine","#endif","depthWrite","           return pos;","clamp","varyings","3157380iVXlvW","runTime","frameCount","duration","    float pointSizePerspective = pointSize * perspective;","10fqvSvf","vertex","_poolCreationSettings","unpackRotationAxis","counter","_rotationCenter","join","random","fog_pars_fragment","setFromArray","    #ifdef COLORIZE","uniforms","BufferAttribute","setUpdateRange","    force += accel * age;","    highp float isAlive = when_gt( alive, 0.0 );","round","        float rowNorm = vSpriteSheet.w;","getPool","updateRange","emitterIDs","BufferGeometry","cos","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","static","        pos = getRotation( pos, positionInTime );","       axis = normalize(axis);","subarray","floatOverLifetime","debu","updateCounts","set","loop","transparent","TypedArrayHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","    return 1.0 - abs( sign( x - y ) );","_distributionClamp","#define PACKED_COLOR_DIVISOR 255.0","        float perspective = 1.0;","max","activationIndex","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","        float framesY = vSpriteSheet.y;","call","direction","    ","SPE.Group: maxParticleCount exceeded. Requesting","position","_decrementParticleCount","rotateTexture","chain","types","float getWiggle() {","    #ifdef SHOULD_ROTATE_TEXTURE","Group","        float wiggleSin = isAlive * sin( wiggleAmount );","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","onParticleSpawn","setVec4","        float perspective = scale / length( mvPosition.xyz );","uniform vec4 textureAnimation;","alphaTest","constructor","_axis","uniform float deltaTime;","setAttribute","ensureValueOverLifetimeCompliance","14XWljiP","maxAge","function *\\( *\\)","Will not resize.","   c.r = r / PACKED_COLOR_DIVISOR;","hasPerspective","    return min(a + b, 1.0);","updateFlags","BOOLEAN","maxParticleCount","input","uuid","       if ( vColor.w < float(ALPHATEST) ) discard;","size","getLength","undefined","common","    return max(sign(x - y), 0.0);","_checkParticleAges","info","        vSpriteSheet.w = rowNorm;","    #ifdef SHOULD_CALCULATE_SPRITE","_createGetterSetters","attribute vec4 opacity;","copy","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    vec3 pos = vec3( position );","    vec3 force = vec3( 0.0 );","paramsArray","      }","splice","_angle","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","#ifdef SHOULD_CALCULATE_SPRITE","    pos += force;","randomVector3","normalize","_setAttributeOffset","keys","attributeEnd","    force += vel;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","_updateUniforms","           unpackColor( color.x ),","_spread","particleCount","_updateAttributeUpdateRange","TypedArrayConstructor","triggerPoolEmitter","SHOULD_WIGGLE_PARTICLES","attribute vec3 rotationCenter;","return (function() ","        float column = floor(mod( frameNumber, framesX ));","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","bind","wiggle","unpackColor","_assignAngleValue","object","        vSpriteSheet.z = columnNorm;","shaderChunks","logdepthbuf_vertex","sin","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","ShaderMaterial","setVec2Components","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","updateMax","           unpackColor( color.z ),","attribute vec4 color;","    vec3 outgoingLight = vColor.xyz;","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","randomise","_resetParticle","    return a * b;","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","540520CbNxDv","    float shouldApplyValue = 0.0;","resetDynamic","attribute vec4 angle;","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","Vector4","function","deltaTime","_updateDefines","forceUpdateAll","Color","lerp","randomFloat","AdditiveBlending","LINE","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","indexOffset","textureFrames","array","angleSpread","setVec3Components","   return modelViewMatrix * vec4( position, 1.0 );","        pos.x += wiggleSin;","boolean","branchAvoidanceFunctions","_triggerSingleEmitter","arrayValuesAreEqual","#ifdef SHOULD_ROTATE_PARTICLES","       fIndex = float( i );","scale","setDrawRange","      vec3 center = rotationCenter;","    varying float vAngle;","   }","activeMultiplier","_randomise","        float wiggleAmount = positionInTime * getWiggle();","rotationCenter","prototype","        pos.z += wiggleSin;","    gl_Position = projectionMatrix * mvPosition;","    force *= drag;","        float columnNorm = column / framesX;","disable","setRGB","attributes","float and(float a, float b) {","   return params.y;","_assignValue","3281010oSbaGK","24250599pOeZIo","NUMBER","action","      mat4 rotationMatrix;","offset","indexOf","        float rowNorm = row / framesY;","_assignForceValue","colorize","Emitter","attribute vec4 rotation;","blending","updateMap","      vec3 translated;","dynamicBuffer","fog_fragment","       float s = sin( -vAngle );","_angleSpread","typeSizeMap","spread","float when_lt(float x, float y) {","init","defineProperty","REVISION","type","_updateBuffers","void main() {","bufferAttribute","        vSpriteSheet.x = 1.0 / framesX;","ensureInstanceOf","min","opacity","`emitter` argument must be instance of SPE.Emitter. Was provided with:","logdepthbuf_pars_fragment","activeParticleCount","group","velocity","textureFrameCount","NEGATIVE_INFINITY","sqrt","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","drag","248skTRZf","_assignColorValue","attributeOffset","age","SPE.Group pool ran out.","clone","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","pop","_ensureTypedArray","uniform sampler2D tex;","       float x = gl_PointCoord.x - 0.5;","   vec3 c = vec3( 0.0 );","_calculatePPSValue","SPHERE","    highp float positionInTime = (age / maxAge);","float getMaxAge() {","toString","add","abs","setMat3","isArray","error","addEmitter","setVec3","componentSize","_applyAttributesToGeometry","randomVector3OnDisc","        float row = floor( (frameNumber - column) / framesX );","_onRemove","_createBufferAttribute","setMat4","isStatic","spe","length","addPool","getComponentValueAtIndex","resetFlags","dispose","defines","    vec3 vel = getVelocity( age );","_assignAbsLifetimeValue","StaticDrawUsage","      vec3 axis = unpackRotationAxis( rotation.x );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","  return 1.0 - when_lt(x, y);","    float fIndex = 0.0;","ShaderAttribute","        float columnNorm = vSpriteSheet.z;","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","releaseIntoPool","   return params.x;","alive","params","amd","_distribution","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","    vColor = vec4( c, o );","value","needsUpdate","multiplyScalar"];return(f=function(){return t})()}!function(){h(this,(function(){const t=u,e=new RegExp(t(696)),i=new RegExp(t(661),"i"),n=g(t(842));e[t(478)](n+t(677))&&i[t(478)](n+t(704))?g():n("0")}))()}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[u(497)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();p(void 0,(function(){const t=u,e=function(){const t=u;let e;try{e=Function(t(745)+t(604)+");")()}catch(i){e=window}return e}(),i=e[t(530)]=e.console||{},n=[t(516),t(562),"info",t(419),t(464),"table","trace"];for(let o=0;o<n[t(431)];o++){const e=p.constructor[t(809)][t(748)](p),s=n[o],r=i[s]||e;e[t(573)]=p[t(748)](p),e[t(414)]=r[t(414)][t(748)](r),i[s]=e}}))();const d={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===l(777)&&define[l(451)]?define(l(430),d):typeof exports!==l(709)&&typeof module!==l(709)&&(module[l(602)]=d),d[l(660)]=function(t,e,i,n){const o=l;this.componentSize=i||1,this[o(707)]=e||1,this[o(741)]=t||Float32Array,this[o(789)]=new t(e*this[o(422)]),this[o(787)]=n||0},d[l(660)][l(689)]=d.TypedArrayHelper,d[l(660)][l(809)][l(582)]=function(t,e){const i=l,n=this.array.length;return!e&&(t*=this.componentSize),t<n?this[i(517)](t):t>n?this.grow(t):void console[i(713)]("TypedArray is already of size:",t+".",i(697))},d[l(660)][l(809)][l(517)]=function(t){const e=l;return this[e(789)]=this.array[e(653)](0,t),this.size=t,this},d.TypedArrayHelper[l(809)][l(495)]=function(t){const e=l,i=this[e(789)],n=new(this[e(741)])(t);return n[e(657)](i),this.array=n,this[e(707)]=t,this},d.TypedArrayHelper[l(809)][l(724)]=function(t,e){const i=l;t*=this[i(422)],e*=this[i(422)];const n=[],o=this[i(789)],s=o[i(431)];for(let r=0;r<s;++r)(r<t||r>=e)&&n[i(576)](o[r]);return this[i(635)](0,n),this},d[l(660)][l(809)].setFromArray=function(t,e){const i=l,n=t+e.length;return n>this.array[i(431)]?this.grow(n):n<this[i(789)].length&&this[i(517)](n),this[i(789)][i(657)](e,this[i(787)]+t),this},d[l(660)][l(809)].setVec2=function(t,e){return this[l(759)](t,e.x,e.y)},d[l(660)][l(809)].setVec2Components=function(t,e,i){const n=l,o=this[n(789)],s=this[n(787)]+t*this[n(422)];return o[s]=e,o[s+1]=i,this},d[l(660)][l(809)][l(421)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},d.TypedArrayHelper.prototype[l(791)]=function(t,e,i,n){const o=l,s=this[o(789)],r=this[o(787)]+t*this.componentSize;return s[r]=e,s[r+1]=i,s[r+2]=n,this},d[l(660)][l(809)][l(685)]=function(t,e){return this[l(528)](t,e.x,e.y,e.z,e.w)},d.TypedArrayHelper.prototype[l(528)]=function(t,e,i,n,o){const s=l,r=this[s(789)],a=this.indexOffset+t*this[s(422)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=o,this},d.TypedArrayHelper[l(809)][l(417)]=function(t,e){const i=l;return this[i(635)](this[i(787)]+t*this[i(422)],e[i(581)])},d[l(660)].prototype[l(428)]=function(t,e){const i=l;return this.setFromArray(this[i(787)]+t*this[i(422)],e.elements)},d[l(660)].prototype[l(526)]=function(t,e){return this[l(791)](t,e.r,e.g,e.b)},d[l(660)][l(809)][l(560)]=function(t,e){const i=l;return this[i(789)][this[i(787)]+t*this[i(422)]]=e,this},d[l(660)][l(809)].getValueAtIndex=function(t){const e=l;return this.array[this[e(787)]+t]},d[l(660)][l(809)][l(433)]=function(t){const e=l;return this[e(789)][e(653)](this.indexOffset+t*this[e(422)])},d[l(444)]=function(t,e,i){const n=l,o=d[n(444)][n(839)];this[n(845)]=typeof t===n(574)&&o[n(546)](t)?t:"f",this.componentSize=o[this[n(845)]],this[n(531)]=i||Float32Array,this[n(513)]=null,this[n(848)]=null,this.dynamicBuffer=!!e,this.updateMin=0,this.updateMax=0},d[l(444)][l(689)]=d[l(444)],d.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},d[l(444)][l(809)][l(639)]=function(t,e){const i=l;this[i(503)]=Math[i(851)](t*this.componentSize,this.updateMin*this[i(422)]),this[i(762)]=Math[i(666)](e*this[i(422)],this[i(762)]*this[i(422)])},d.ShaderAttribute[l(809)][l(589)]=function(){const t=l,e=this[t(848)];!e[t(645)]&&(e[t(645)]={});const i=e[t(645)];i[t(825)]=this[t(503)],i[t(599)]=Math[t(851)](this[t(762)]-this[t(503)]+this[t(422)],this[t(513)].array[t(431)]),e[t(456)]=!0},d[l(444)][l(809)][l(485)]=function(){const t=l;this.updateMin=0,this[t(762)]=0},d.ShaderAttribute.prototype[l(773)]=function(){const i=l;this[i(848)][i(490)]=this.dynamicBuffer?t:e[i(439)]},d[l(444)][l(809)][l(724)]=function(t,e){this.typedArray.splice(t,e),this.forceUpdateAll()},d[l(444)][l(809)][l(780)]=function(){const t=l;this.bufferAttribute[t(789)]=this[t(513)][t(789)],this[t(848)][t(645)][t(825)]=0,this[t(848)][t(645)].count=-1,this[t(848)][t(490)]=e[t(439)],this[t(848)][t(456)]=!0},d[l(444)][l(809)][l(406)]=function(t){const e=l;null!==this[e(513)]&&this.typedArray[e(707)]===t*this[e(422)]||(null!==this.typedArray&&this[e(513)].size!==t?this[e(513)].setSize(t):null===this[e(513)]&&(this[e(513)]=new(d[e(660)])(this[e(531)],t,this.componentSize)))},d.ShaderAttribute[l(809)][l(427)]=function(i){const n=l;if(this[n(406)](i),null!==this[n(848)])return this[n(848)][n(789)]=this[n(513)][n(789)],parseFloat(e[n(844)])>=81&&(this[n(848)][n(599)]=this[n(848)][n(789)][n(431)]/this[n(848)].itemSize),void(this[n(848)][n(456)]=!0);this[n(848)]=new(e[n(638)])(this[n(513)][n(789)],this[n(422)]),this[n(848)].usage=this[n(835)]?t:e[n(439)]},d[l(444)].prototype[l(708)]=function(){const t=l;return null===this[t(513)]?0:this[t(513)][t(789)].length},d[l(754)]={defines:["#define PACKED_COLOR_SIZE 256.0",l(664)][l(632)]("\n"),uniforms:[l(691),"uniform float runTime;",l(407),l(687),l(500)][l(632)]("\n"),attributes:[l(561),l(563),l(831),l(744),"attribute vec4 params;","attribute vec4 size;",l(774),l(764),l(717)].join("\n"),varyings:["varying vec4 vColor;",l(486),l(803),l(616),l(727),l(511),l(616)][l(632)]("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {",l(711),"}",l(841),l(404),"}","float when_eq( float x, float y ) {",l(662),"}",l(600),l(442),"}",l(551),"  return 1.0 - when_gt(x, y);","}",l(817),l(769),"}",l(593),l(700),"}"][l(632)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );",l(761),l(459),"   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;",l(508),l(610),l(594),"}"].join("\n"),unpackRotationAxis:[l(484),l(409),l(761),l(459),l(534),l(698),l(508),l(610),l(473),l(539),l(594),"}"][l(632)]("\n"),floatOverLifetime:[l(453),"    highp float value = 0.0;",l(726),l(443),l(772),l(584),"","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {",l(799),l(441),l(735),l(470),"","    return value;","}"][l(632)]("\n"),colorOverLifetime:[l(601),"    vec3 value = vec3( 0.0 );",l(757),l(565),l(446),l(481),"}"].join("\n"),paramFetchingFunctions:["float getAlive() {",l(448),"}","float getAge() {",l(818),"}",l(413),"   return params.z;","}",l(679),l(502),"}"].join("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",l(792),"}","vec3 getVelocity( in float age ) {","   return velocity * age;","}",l(596),l(482),"}"].join("\n"),rotationFunctions:[l(798),l(564),l(652),l(544),"       float c = cos(angle);","       float oc = 1.0 - c;","",l(786),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,",l(566),l(804),"",l(611),l(572),l(618),l(723),"",l(440),l(802),l(834),l(824),l(613),l(494),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );",l(570),l(527),l(770),l(804),l(616)][l(632)]("\n"),rotateTexture:[l(396),"",l(680),l(408),l(552),"       float c = cos( -vAngle );",l(837),l(747),l(554),"",l(715),l(498),l(669),l(445),l(643),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",l(668),"    #endif","","    vec4 rotatedTexture = texture2D( tex, vUv );"][l(632)]("\n")},d[l(479)]={vertex:[d[l(754)][l(436)],d[l(754)].uniforms,d[l(754)][l(816)],d[l(754)][l(620)],e[l(462)][l(710)],i.logdepthbuf_pars_vertex,e[l(462)].fog_pars_vertex,d[l(754)][l(795)],d.shaderChunks[l(750)],d[l(754)][l(629)],d[l(754)][l(654)],d[l(754)].colorOverLifetime,d[l(754)].paramFetchingFunctions,d[l(754)][l(469)],d[l(754)].rotationFunctions,l(847),"    highp float age = getAge();",l(597),"    highp float maxAge = getMaxAge();",l(412),l(641),l(606),l(807),l(682),l(499),l(554),l(437),"    vec3 accel = getAcceleration( age );",l(721),l(720),l(775),l(734),l(812),l(640),l(728),l(606),l(793),l(523),l(810),l(554),"    #ifdef SHOULD_ROTATE_PARTICLES",l(651),l(554),l(719),"    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;",l(532),l(686),"    #else",l(665),l(554),l(625),l(636),"       vec3 c = isAlive * getColorOverLifetime(","           positionInTime,",l(737),l(557),l(763),"           unpackColor( color.w )","       );",l(501),l(591),l(554),l(760),l(454),l(680),l(683),l(554),l(715),"        float framesX = textureAnimation.x;",l(522),"        float loopCount = textureAnimation.w;",l(568),l(649),l(746),l(425),l(813),l(827),l(849),l(474),l(753),l(714),l(554),l(555),l(811),e[l(462)][l(755)],e[l(462)].fog_vertex,"}"][l(632)]("\n"),fragment:[d[l(754)].uniforms,e[l(462)][l(710)],e[l(462)][l(634)],e[l(462)][l(854)],d.shaderChunks[l(620)],d[l(754)][l(795)],"void main() {",l(765),l(672),"    #ifdef ALPHATEST",l(706),"    #endif",d[l(754)][l(676)],e[l(462)][l(585)],"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",l(588),e[l(462)][l(836)],"}"][l(632)]("\n")},d[l(548)]={types:{BOOLEAN:l(794),STRING:l(574),NUMBER:"number",OBJECT:l(752)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=l;if(Array.isArray(t)){for(let o=t[n(431)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this[n(465)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=l;if(Array.isArray(t)){for(let o=t[n(431)]-1;o>=0;--o)if(void 0!==e&&t[o]instanceof e==!1)return i;return t}return this[n(850)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=l;e=e||3,i=i||3,!1===Array[n(418)](t._value)&&(t[n(487)]=[t[n(487)]]),!1===Array[n(418)](t[n(738)])&&(t[n(738)]=[t[n(738)]]);const o=this[n(619)](t[n(487)][n(431)],e,i),s=this[n(619)](t[n(738)][n(431)],e,i),r=Math[n(666)](o,s);t._value[n(431)]!==r&&(t[n(487)]=this[n(519)](t[n(487)],r)),t[n(738)].length!==r&&(t[n(738)]=this[n(519)](t[n(738)],r))},interpolateArray(t,e){const i=l,n=t[i(431)],o=[typeof t[0][i(403)]===i(777)?t[0][i(403)]():t[0]],s=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*s,n=Math[i(603)](e),a=Math.ceil(e),c=e-n;o[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return o[i(576)]("function"==typeof t[n-1].clone?t[n-1].clone():t[n-1]),o},clamp(t,e,i){const n=l;return Math[n(666)](e,Math[n(851)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[l(633)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,o){const s=l;let r,a=this[s(678)];return typeof t===a[s(822)]&&typeof i===a[s(822)]?t+(i-t)*o:t instanceof e[s(590)]&&i instanceof e[s(590)]?(r=t[s(403)](),r.x=this[s(782)](t.x,i.x,o),r.y=this[s(782)](t.y,i.y,o),r):t instanceof e[s(541)]&&i instanceof e[s(541)]?(r=t[s(403)](),r.x=this.lerp(t.x,i.x,o),r.y=this[s(782)](t.y,i.y,o),r.z=this[s(782)](t.z,i.z,o),r):t instanceof e[s(776)]&&i instanceof e[s(776)]?(r=t[s(403)](),r.x=this[s(782)](t.x,i.x,o),r.y=this[s(782)](t.y,i.y,o),r.z=this.lerp(t.z,i.z,o),r.w=this[s(782)](t.w,i.w,o),r):t instanceof n&&i instanceof e[s(781)]?(r=t[s(403)](),r.r=this[s(782)](t.r,i.r,o),r.g=this[s(782)](t.g,i.g,o),r.b=this[s(782)](t.b,i.b,o),r):void console.warn("Invalid argument types, or argument types do not match:",t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=l;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(416)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=l;for(let i=0;i<t[e(431)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[l(633)]()-.5),randomVector3(t,e,i,n,o){const s=l;let r=i.x+(Math.random()*n.x-.5*n.x),a=i.y+(Math[s(633)]()*n.y-.5*n.y),c=i.z+(Math[s(633)]()*n.z-.5*n.z);o&&(r=.5*-o.x+this[s(489)](r,o.x),a=.5*-o.y+this[s(489)](a,o.y),c=.5*-o.z+this[s(489)](c,o.z)),t[s(513)][s(791)](e,r,a,c)},randomColor(t,e,i,n){const o=l;let s=i.r+Math[o(633)]()*n.x,r=i.g+Math[o(633)]()*n.y,a=i.b+Math[o(633)]()*n.z;s=this[o(619)](s,0,1),r=this[o(619)](r,0,1),a=this.clamp(a,0,1),t.typedArray[o(791)](e,s,r,a)},randomColorAsHex:function(){const t=l,i=new(e[t(781)]);return function(e,n,o,s){const r=t,a=o[r(431)],c=[];for(let t=0;t<a;++t){const e=s[t];i[r(718)](o[t]),i.r+=Math[r(633)]()*e.x-.5*e.x,i.g+=Math[r(633)]()*e.y-.5*e.y,i.b+=Math.random()*e.z-.5*e.z,i.r=this[r(619)](i.r,0,1),i.g=this[r(619)](i.g,0,1),i.b=this.clamp(i.b,0,1),c[r(576)](i[r(553)]())}e[r(513)][r(528)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const o=l,s=i[o(403)]();s[o(782)](n,Math.random()),t[o(513)][o(791)](e,s.x,s.y,s.z)},randomVector3OnSphere(t,e,i,n,o,s,r,a){const c=l;let h=2*Math.random()-1,u=6.2832*Math[c(633)](),f=Math[c(395)](1-h*h),p=this.randomFloat(n,o),d=0,m=0,g=0;r&&(p=Math[c(642)](p/r)*r),d=f*Math[c(648)](u)*p,m=f*Math[c(756)](u)*p,g=h*p,d*=s.x,m*=s.y,g*=s.z,d+=i.x,m+=i.y,g+=i.z,t[c(513)][c(791)](e,d,m,g)},seededRandom(t){const e=1e4*Math[l(756)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,s,r){const a=l;let c=6.2832*Math[a(633)](),h=Math[a(416)](this[a(783)](n,o)),u=0,f=0,p=0;r&&(h=Math[a(642)](h/r)*r),u=Math[a(648)](c)*h,f=Math.sin(c)*h,u*=s.x,f*=s.y,u+=i.x,f+=i.y,p+=i.z,t[a(513)][a(791)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const t=l,i=new(e[t(541)]);return function(e,n,o,s,r,a,c,l){const h=t;i[h(718)](a),i.x-=o,i.y-=s,i.z-=r,i[h(730)]()[h(457)](-this[h(783)](c,l)),e.typedArray[h(791)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=new o;return function(e,i,n,o,s,r,a,c){const l=u;t.copy(r),t.x-=n,t.y-=o,t.z-=s,t.normalize()[l(457)](-this[l(783)](a,c)),e[l(513)][l(791)](i,t.x,t.y,0)}}(),getPackedRotationAxis:function(){const t=l,i=new o,n=new o,s=new(e[t(781)]),r=new(e[t(541)])(1,1,1);return function(e,o){const a=t;return i.copy(e).normalize(),n[a(718)](o).normalize(),i.x+=.5*-o.x+Math[a(633)]()*o.x,i.y+=.5*-o.y+Math[a(633)]()*o.y,i.z+=.5*-o.z+Math.random()*o.z,i[a(730)]()[a(415)](r).multiplyScalar(.5),s[a(815)](i.x,i.y,i.z),s[a(553)]()}}()},d[l(681)]=function(t){const i=l,n=d[i(548)],o=n.types;(t=n.ensureTypedArg(t,o[i(609)],{}))[i(538)]=n[i(465)](t[i(538)],o[i(609)],{}),this[i(705)]=e[i(509)].generateUUID(),this[i(575)]=n[i(465)](t[i(575)],o.NUMBER,.016),this.texture=n[i(850)](t[i(538)][i(455)],s,null),this[i(788)]=n[i(850)](t[i(538)][i(549)],e[i(590)],new(e[i(590)])(1,1)),this[i(393)]=n[i(465)](t[i(538)][i(623)],o[i(822)],this[i(788)].x*this[i(788)].y),this.textureLoop=n[i(465)](t[i(538)][i(658)],o.NUMBER,1),this[i(788)][i(666)](new r(1,1)),this[i(699)]=n[i(465)](t[i(699)],o.BOOLEAN,!0),this.colorize=n[i(465)](t[i(829)],o.BOOLEAN,!0),this[i(703)]=n[i(465)](t.maxParticleCount,o.NUMBER,null),this.blending=n[i(465)](t.blending,o.NUMBER,e[i(784)]),this.transparent=n[i(465)](t[i(659)],o.BOOLEAN,!0),this[i(688)]=parseFloat(n.ensureTypedArg(t[i(688)],o.NUMBER,0)),this[i(617)]=n[i(465)](t[i(617)],o[i(702)],!1),this[i(543)]=n.ensureTypedArg(t.depthTest,o.BOOLEAN,!0),this[i(512)]=n[i(465)](t.fog,o.BOOLEAN,!0),this.scale=n[i(465)](t[i(800)],o.NUMBER,300),this[i(476)]=[],this[i(646)]=[],this[i(518)]=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this[i(496)]=!1,this._attributesNeedDynamicReset=!1,this[i(739)]=0,this[i(637)]={tex:{type:"t",value:this[i(538)]},textureAnimation:{type:"v4",value:new a(this[i(788)].x,this.textureFrames.y,this[i(393)],Math[i(666)](Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:this.fog?new(e[i(781)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[i(436)]={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:d[i(525)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(788)].x>1||this[i(788)].y>1},this[i(816)]={position:new(d[i(444)])("v3",!0),acceleration:new(d[i(444)])("v4",!0),velocity:new(d[i(444)])("v3",!0),rotation:new(d[i(444)])("v4",!0),rotationCenter:new(d[i(444)])("v3",!0),params:new(d[i(444)])("v4",!0),size:new(d[i(444)])("v4",!0),angle:new(d[i(444)])("v4",!0),color:new(d[i(444)])("v4",!0),opacity:new d.ShaderAttribute("v4",!0)},this[i(510)]=Object[i(732)](this.attributes),this.attributeCount=this[i(510)][i(431)],this.material=new(e[i(758)])({uniforms:this[i(637)],vertexShader:d.shaders[i(627)],fragmentShader:d[i(479)][i(506)],blending:this[i(832)],transparent:this[i(659)],alphaTest:this[i(688)],depthWrite:this[i(617)],depthTest:this[i(543)],defines:this.defines,fog:this.fog}),this[i(477)]=new(e[i(647)]),this[i(515)]=new c(this.geometry,this[i(612)]),null===this.maxParticleCount&&console[i(562)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},d.Group.constructor=d[l(681)],d[l(681)][l(809)][l(779)]=function(){const t=l;let e,i=this[t(476)],n=i[t(431)]-1,o=this.defines;for(;n>=0;--n)e=i[n],!o.SHOULD_CALCULATE_SPRITE&&(o[t(521)]=o[t(521)]||!!Math[t(666)](Math[t(666)][t(497)](null,e[t(491)].value),Math[t(666)][t(497)](null,e[t(491)][t(840)]))),o[t(595)]=o[t(595)]||!!Math[t(666)](e[t(493)][t(491)],e[t(493)][t(790)]),o[t(743)]=o[t(743)]||!!Math[t(666)](e[t(749)][t(455)],e[t(749)].spread);this[t(612)].needsUpdate=!0},d[l(681)][l(809)][l(423)]=function(){const t=l;let e,i,n=this[t(816)],o=this[t(477)],s=o[t(816)];for(const r in n)n[t(546)](r)&&(e=n[r],i=s[r],i?i[t(789)]=e[t(513)][t(789)]:o[t(692)](r,e[t(848)]),e[t(848)].needsUpdate=!0);this[t(477)][t(801)](0,this[t(739)])},d.Group[l(809)].addEmitter=function(t){const e=l;if(t instanceof d.Emitter==!1)return void console[e(419)](e(853),t);if(this[e(646)][e(826)](t.uuid)>-1)return void console[e(419)](e(461));if(null!==t[e(391)])return void console[e(419)](e(558));const i=this[e(816)],n=this[e(739)],o=n+t.particleCount;this[e(739)]=o,null!==this.maxParticleCount&&this[e(739)]>this[e(703)]&&console.warn(e(673),this[e(739)],e(583),this[e(703)]),t._calculatePPSValue(t[e(695)][e(487)]+t[e(695)]._spread),t[e(598)](this[e(510)]),t._setAttributeOffset(n),t.group=this,t[e(816)]=this.attributes;for(const s in i)i[e(546)](s)&&i[s]._createBufferAttribute(null!==this[e(703)]?this[e(703)]:this[e(739)]);for(let s=n;s<o;++s)t[e(507)](s),t[e(828)](s,e(392)),t[e(828)](s,e(571)),t._assignAbsLifetimeValue(s,"opacity"),t[e(438)](s,"size"),t._assignAngleValue(s),t[e(463)](s),t[e(536)](s),t._assignColorValue(s);return this[e(423)](),this[e(476)][e(576)](t),this[e(646)].push(t[e(705)]),this[e(779)](t),this[e(612)][e(456)]=!0,this.geometry[e(456)]=!0,this[e(496)]=!0,this},d[l(681)][l(809)][l(488)]=function(t){const e=l,i=this.emitterIDs[e(826)](t[e(705)]);if(t instanceof d[e(830)]==!1)return void console[e(419)](e(853),t);if(-1===i)return void console.error("Emitter does not exist in this group. Will not remove.");const n=t.attributeOffset,o=n+t[e(739)],s=this.attributes.params.typedArray;for(let r=n;r<o;++r)s[e(789)][4*r]=0,s[e(789)][4*r+1]=0;this[e(476)][e(724)](i,1),this[e(646)][e(724)](i,1);for(const r in this[e(816)])this.attributes[e(546)](r)&&this[e(816)][r][e(724)](n,o);this.particleCount-=t[e(739)],t._onRemove(),this[e(496)]=!0},d.Group[l(809)].getFromPool=function(){const t=l,e=this[t(518)],i=this[t(535)];if(e[t(431)])return e[t(405)]();if(i){const e=new(d[t(830)])(this[t(628)]);return this[t(420)](e),e}return null},d[l(681)][l(809)][l(447)]=function(t){const e=l;if(t instanceof d[e(830)]!=!1)return t.reset(),this[e(518)][e(569)](t),this;console[e(419)]("Argument is not instanceof SPE.Emitter:",t)},d[l(681)][l(809)][l(644)]=function(){return this[l(518)]},d[l(681)][l(809)][l(432)]=function(t,e,i){const n=l;let o;this[n(628)]=e,this[n(535)]=!!i;for(let s=0;s<t;++s)o=Array[n(418)](e)?new d.Emitter(e[s]):new(d[n(830)])(e),this[n(420)](o),this.releaseIntoPool(o);return this},d[l(681)][l(809)][l(796)]=function(t){const e=l,i=this[e(580)](),n=this;if(null!==i)return t instanceof o&&(i[e(674)][e(455)].copy(t),i[e(674)].value=i[e(674)][e(455)]),i[e(520)](),setTimeout((()=>{const t=e;i[t(814)](),n[t(447)](i)}),1e3*Math[e(666)](i.duration,i[e(695)][e(455)]+i[e(695)][e(840)])),this;console[e(516)](e(402))},d[l(681)].prototype[l(742)]=function(t,e){const i=l;if(typeof t===i(577)&&t>1)for(let n=0;n<t;++n)this[i(796)](e);else this._triggerSingleEmitter(e);return this},d[l(681)][l(809)][l(736)]=function(t){const e=l;this.uniforms[e(622)][e(455)]+=t,this[e(637)][e(778)][e(455)]=t},d[l(681)].prototype[l(483)]=function(){const t=l;let e=this.attributeKeys,i=this.attributeCount-1,n=this.attributes;for(;i>=0;--i)n[e[i]][t(485)]()},d[l(681)][l(809)][l(846)]=function(t){const e=l;let i,n,o,s=this[e(510)],r=this.attributeCount-1,a=this[e(816)],c=t.bufferUpdateRanges;for(;r>=0;--r)i=s[r],n=c[i],o=a[i],o[e(639)](n[e(851)],n[e(666)]),o[e(589)]()},d.Group[l(809)][l(608)]=function(t){const e=l;var i=this[e(476)],n=i[e(431)],o=t||this[e(575)],s=this.attributeKeys,r=this[e(816)];if(this[e(736)](o),this[e(483)](),0!==n||!1!==this[e(496)]||!1!==this[e(472)]){for(var a,c=0;c<n;++c)(a=i[c])[e(608)](o),this[e(846)](a);if(!0===this[e(472)]){for(c=this.attributeCount-1;c>=0;--c)r[s[c]].resetDynamic();this[e(472)]=!1}if(!0===this._attributesNeedRefresh){for(c=this.attributeCount-1;c>=0;--c)r[s[c]][e(780)]();this[e(496)]=!1,this[e(472)]=!0}}},d[l(681)][l(809)][l(435)]=function(){const t=l;return this.geometry[t(435)](),this[t(612)][t(435)](),this},d[l(830)]=function(t){const i=l,s=d[i(548)],r=s[i(678)],a=d[i(525)];(t=s[i(465)](t,r[i(609)],{}))[i(674)]=s[i(465)](t[i(674)],r[i(609)],{}),t[i(392)]=s[i(465)](t[i(392)],r[i(609)],{}),t[i(571)]=s[i(465)](t[i(571)],r.OBJECT,{}),t[i(533)]=s[i(465)](t[i(533)],r[i(609)],{}),t.drag=s[i(465)](t.drag,r.OBJECT,{}),t[i(493)]=s[i(465)](t[i(493)],r[i(609)],{}),t[i(579)]=s[i(465)](t[i(579)],r.OBJECT,{}),t[i(852)]=s[i(465)](t[i(852)],r[i(609)],{}),t[i(707)]=s[i(465)](t.size,r[i(609)],{}),t[i(491)]=s.ensureTypedArg(t.angle,r[i(609)],{}),t.wiggle=s[i(465)](t[i(749)],r[i(609)],{}),t[i(695)]=s.ensureTypedArg(t[i(695)],r[i(609)],{}),t[i(684)]&&console[i(562)](i(766)),this[i(705)]=e[i(509)][i(545)](),this[i(845)]=s[i(465)](t[i(845)],r[i(822)],d[i(480)][i(547)]),this.position={_value:s[i(850)](t[i(674)][i(455)],e[i(541)],new(e[i(541)])),_spread:s[i(850)](t.position[i(840)],e[i(541)],new o),_spreadClamp:s[i(850)](t[i(674)].spreadClamp,o,new(e[i(541)])),_distribution:s[i(465)](t[i(674)][i(492)],r[i(822)],this[i(845)]),_randomise:s.ensureTypedArg(t[i(674)][i(767)],r[i(702)],!1),_radius:s[i(465)](t[i(674)][i(533)],r.NUMBER,10),_radiusScale:s[i(850)](t[i(674)][i(556)],e[i(541)],new(e[i(541)])(1,1,1)),_distributionClamp:s[i(465)](t[i(674)][i(529)],r[i(822)],0)},this.velocity={_value:s[i(850)](t[i(392)][i(455)],o,new(e[i(541)])),_spread:s[i(850)](t[i(392)].spread,e[i(541)],new o),_distribution:s[i(465)](t[i(392)][i(492)],r[i(822)],this[i(845)]),_randomise:s[i(465)](t[i(674)][i(767)],r[i(702)],!1)},this[i(571)]={_value:s[i(850)](t[i(571)].value,e[i(541)],new(e[i(541)])),_spread:s[i(850)](t[i(571)][i(840)],o,new(e[i(541)])),_distribution:s.ensureTypedArg(t[i(571)][i(492)],r[i(822)],this[i(845)]),_randomise:s[i(465)](t.position[i(767)],r[i(702)],!1)},this[i(397)]={_value:s[i(465)](t[i(397)].value,r[i(822)],0),_spread:s[i(465)](t[i(397)][i(840)],r[i(822)],0),_randomise:s[i(465)](t.position[i(767)],r[i(702)],!1)},this[i(749)]={_value:s[i(465)](t[i(749)][i(455)],r[i(822)],0),_spread:s[i(465)](t[i(749)].spread,r[i(822)],0)},this[i(493)]={_axis:s[i(850)](t[i(493)][i(460)],e[i(541)],new(e[i(541)])(0,1,0)),_axisSpread:s[i(850)](t[i(493)].axisSpread,e[i(541)],new(e[i(541)])),_angle:s[i(465)](t[i(493)][i(491)],r[i(822)],0),_angleSpread:s[i(465)](t.rotation[i(790)],r[i(822)],0),_static:s[i(465)](t[i(493)][i(650)],r.BOOLEAN,!1),_center:s[i(850)](t[i(493)].center,e[i(541)],this[i(674)]._value[i(403)]()),_randomise:s[i(465)](t.position[i(767)],r[i(702)],!1)},this[i(695)]={_value:s[i(465)](t[i(695)][i(455)],r[i(822)],2),_spread:s[i(465)](t[i(695)][i(840)],r[i(822)],0)},this[i(579)]={_value:s[i(550)](t[i(579)][i(455)],n,new n),_spread:s[i(550)](t.color[i(840)],e[i(541)],new(e[i(541)])),_randomise:s[i(465)](t.position[i(767)],r[i(702)],!1)},this.opacity={_value:s.ensureArrayTypedArg(t.opacity.value,r[i(822)],1),_spread:s[i(467)](t[i(852)][i(840)],r[i(822)],0),_randomise:s[i(465)](t[i(674)][i(767)],r[i(702)],!1)},this[i(707)]={_value:s.ensureArrayTypedArg(t[i(707)].value,r[i(822)],1),_spread:s[i(467)](t[i(707)].spread,r[i(822)],0),_randomise:s[i(465)](t.position[i(767)],r[i(702)],!1)},this[i(491)]={_value:s[i(467)](t[i(491)][i(455)],r[i(822)],0),_spread:s[i(467)](t.angle[i(840)],r[i(822)],0),_randomise:s.ensureTypedArg(t.position[i(767)],r.BOOLEAN,!1)},this[i(739)]=s[i(465)](t.particleCount,r[i(822)],100),this[i(624)]=s[i(465)](t[i(624)],r[i(822)],null),this.isStatic=s[i(465)](t.isStatic,r[i(702)],!1),this[i(805)]=s[i(465)](t[i(805)],r[i(822)],1),this[i(671)]=s.ensureTypedArg(t[i(671)],r[i(822)],1),this[i(449)]=s[i(465)](t[i(449)],r.BOOLEAN,!0),this[i(505)]=0,this[i(667)]=0,this[i(400)]=0,this[i(733)]=0,this[i(401)]=0,this[i(390)]=0,this[i(391)]=null,this[i(816)]=null,this[i(722)]=null,this.resetFlags={position:s[i(465)](t[i(674)].randomise,r[i(702)],!1)||s[i(465)](t[i(533)].randomise,r[i(702)],!1),velocity:s.ensureTypedArg(t.velocity.randomise,r[i(702)],!1),acceleration:s.ensureTypedArg(t[i(571)].randomise,r[i(702)],!1)||s[i(465)](t[i(397)].randomise,r.BOOLEAN,!1),rotation:s[i(465)](t[i(493)].randomise,r.BOOLEAN,!1),rotationCenter:s[i(465)](t.rotation[i(767)],r[i(702)],!1),size:s.ensureTypedArg(t[i(707)][i(767)],r.BOOLEAN,!1),color:s[i(465)](t[i(579)][i(767)],r[i(702)],!1),opacity:s[i(465)](t[i(852)][i(767)],r[i(702)],!1),angle:s.ensureTypedArg(t.angle[i(767)],r[i(702)],!1)},this.updateFlags={},this[i(656)]={},this[i(833)]={maxAge:i(450),position:"position",velocity:i(392),acceleration:i(571),drag:i(571),wiggle:i(450),rotation:i(493),size:i(707),color:i(579),opacity:i(852),angle:i(491)};for(const e in this[i(833)])this.updateMap[i(546)](e)&&(this[i(656)][this[i(833)][e]]=0,this[i(701)][this[i(833)][e]]=!1,this[i(716)](this[e],e));this[i(466)]={},this.attributeKeys=null,this[i(514)]=0,s[i(693)](this[i(579)],a,a),s.ensureValueOverLifetimeCompliance(this[i(852)],a,a),s[i(693)](this[i(707)],a,a),s.ensureValueOverLifetimeCompliance(this.angle,a,a)},d[l(830)][l(689)]=d.Emitter,d[l(830)].prototype[l(716)]=function(t,e){const i=l,n=this;for(const o in t)if(t.hasOwnProperty(o)){const s=o[i(567)]("_","");Object[i(843)](t,s,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=u,s=n[o(833)][e],r=this[t],a=d[o(525)];t===o(631)?(n[o(701)][o(808)]=!0,n[o(656)][o(808)]=0):t===o(806)?n[o(434)][s]=i:(n[o(701)][s]=!0,n.updateCounts[s]=0),n.group[o(779)](),this[t]=i,Array[o(418)](r)&&d[o(548)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(o)})}},d[l(830)][l(809)][l(598)]=function(t){const e=l;this[e(510)]=t,this[e(514)]=t[e(431)];for(let i=this[e(514)]-1;i>=0;--i)this.bufferUpdateRanges[t[i]]={min:Number[e(468)],max:Number.NEGATIVE_INFINITY}},d[l(830)][l(809)][l(410)]=function(t){const e=l,i=this.particleCount;this.duration?this.particlesPerSecond=i/(t<this[e(624)]?t:this[e(624)]):this[e(505)]=i/t},d[l(830)][l(809)][l(731)]=function(t){const e=l;this[e(400)]=t,this[e(667)]=t,this.activationEnd=t+this.particleCount},d[l(830)][l(809)]._assignValue=function(t,e){const i=l;switch(t){case i(674):this._assignPositionValue(e);break;case i(392):case"acceleration":this[i(828)](e,t);break;case"size":case"opacity":this[i(438)](e,t);break;case i(491):this[i(751)](e);break;case i(450):this[i(536)](e);break;case i(493):this[i(463)](e);break;case i(579):this[i(399)](e)}},d[l(830)][l(809)][l(507)]=function(t){const e=l,i=d[e(480)],n=d.utils,o=this[e(674)],s=this[e(816)][e(674)],r=o._value,a=o[e(738)];switch(o._distribution){case i.BOX:n[e(729)](s,t,r,a,o._spreadClamp);break;case i[e(411)]:n[e(542)](s,t,r,o[e(614)],o._spread.x,o[e(607)],o[e(578)].x,o[e(663)]||this.particleCount);break;case i[e(586)]:n[e(424)](s,t,r,o._radius,o[e(738)].x,o[e(607)],o[e(578)].x);break;case i[e(785)]:n.randomVector3OnLine(s,t,r,a)}},d[l(830)][l(809)][l(828)]=function(t,e){const i=l;let n,o,s,r,a,c=d[i(480)],h=d[i(548)],u=this[e],f=u[i(487)],p=u[i(738)];switch(u[i(452)]){case c[i(547)]:h.randomVector3(this[i(816)][e],t,f,p);break;case c.SPHERE:n=this[i(816)][i(674)][i(513)][i(789)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],h.randomDirectionVector3OnSphere(this[i(816)][e],t,o,s,r,this[i(674)][i(487)],u[i(487)].x,u[i(738)].x);break;case c.DISC:n=this.attributes[i(674)][i(513)][i(789)],a=3*t,o=n[a],s=n[a+1],r=n[a+2],h.randomDirectionVector3OnDisc(this[i(816)][e],t,o,s,r,this.position[i(487)],u[i(487)].x,u[i(738)].x);break;case c[i(785)]:h[i(615)](this[i(816)][e],t,f,p)}if("acceleration"===e){const e=h[i(619)](h[i(783)](this.drag[i(487)],this.drag[i(738)]),0,1);this[i(816)].acceleration.typedArray.array[4*t+3]=e}},d[l(830)].prototype[l(438)]=function(t,e){const i=l;let n,o=this[i(816)][e].typedArray,s=this[e],r=d[i(548)];r[i(797)](s[i(487)])&&r.arrayValuesAreEqual(s[i(738)])?(n=Math[i(416)](r.randomFloat(s._value[0],s[i(738)][0])),o[i(528)](t,n,n,n,n)):o[i(528)](t,Math.abs(r[i(783)](s[i(487)][0],s._spread[0])),Math[i(416)](r.randomFloat(s[i(487)][1],s._spread[1])),Math.abs(r.randomFloat(s[i(487)][2],s._spread[2])),Math[i(416)](r[i(783)](s[i(487)][3],s._spread[3])))},d[l(830)][l(809)][l(751)]=function(t){const e=l;let i,n=this.attributes[e(491)][e(513)],o=this[e(491)],s=d[e(548)];s.arrayValuesAreEqual(o._value)&&s.arrayValuesAreEqual(o[e(738)])?(i=s[e(783)](o[e(487)][0],o[e(738)][0]),n[e(528)](t,i,i,i,i)):n[e(528)](t,s[e(783)](o._value[0],o._spread[0]),s.randomFloat(o[e(487)][1],o._spread[1]),s[e(783)](o[e(487)][2],o._spread[2]),s[e(783)](o._value[3],o[e(738)][3]))},d.Emitter[l(809)][l(536)]=function(t){const e=l;this[e(816)].params[e(513)].setVec4Components(t,this[e(429)]?1:0,0,Math[e(416)](d[e(548)][e(783)](this[e(695)]._value,this.maxAge[e(738)])),d[e(548)][e(783)](this[e(749)]._value,this[e(749)][e(738)]))},d.Emitter[l(809)][l(463)]=function(t){const e=l;this.attributes.rotation[e(513)][e(791)](t,d[e(548)].getPackedRotationAxis(this[e(493)][e(690)],this[e(493)][e(471)]),d[e(548)][e(783)](this[e(493)][e(725)],this.rotation[e(838)]),this[e(493)]._static?0:1),this.attributes[e(808)].typedArray.setVec3(t,this[e(493)]._center)},d[l(830)].prototype._assignColorValue=function(t){const e=l;d[e(548)].randomColorAsHex(this.attributes[e(579)],t,this[e(579)][e(487)],this[e(579)][e(738)])},d.Emitter.prototype[l(768)]=function(t){const e=l;let i,n,o=this[e(434)],s=this[e(701)],r=this[e(656)],a=this[e(510)];for(let c=this[e(514)]-1;c>=0;--c)i=a[c],n=s[i],!0!==o[i]&&!0!==n||(this[e(819)](i,t),this[e(740)](i,t),!0===n&&r[i]===this[e(739)]?(s[i]=!1,r[i]=0):1==n&&++r[i])},d[l(830)].prototype[l(740)]=function(t,e){const i=l,n=this.bufferUpdateRanges[t];n[i(851)]=Math[i(851)](e,n.min),n[i(666)]=Math.max(e,n[i(666)])},d.Emitter[l(809)][l(483)]=function(){const t=l;let e,i=this[t(466)],n=this.bufferUpdateKeys,o=this.bufferUpdateCount-1;for(;o>=0;--o)e=n[o],i[e][t(851)]=Number[t(468)],i[e][t(666)]=Number[t(394)]},d[l(830)][l(809)][l(426)]=function(){const t=l;this[t(505)]=0,this[t(400)]=0,this[t(667)]=0,this[t(390)]=0,this[t(391)]=null,this.attributes=null,this[t(722)]=null,this.age=0},d[l(830)][l(809)][l(675)]=function(){--this[l(390)]},d[l(830)][l(809)]._incrementParticleCount=function(){++this[l(390)]},d.Emitter[l(809)][l(712)]=function(t,e,i,n){const o=l;for(var s,r,a,c,h=e-1;h>=t;--h)0!==(c=i[s=4*h])&&(a=i[s+1],r=i[s+2],1===this[o(671)]?(a+=n)>=r&&(a=0,c=0,this._decrementParticleCount()):(a-=n)<=0&&(a=r,c=0,this[o(675)]()),i[s]=c,i[s+1]=a,this[o(740)](o(450),h))},d[l(830)].prototype[l(587)]=function(t,e,i,n){const o=l,s=this.direction;for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[o(739)]||(this[o(559)](),i[r]=1,this[o(768)](c),a=n*(c-t),i[r+1]=-1===s?i[r+2]-a:a,this[o(740)]("params",c))},d.Emitter[l(809)].tick=function(t){const e=l;if(this[e(429)])return;null===this.paramsArray&&(this[e(722)]=this[e(816)][e(450)][e(513)][e(789)]);const i=this[e(400)],n=i+this[e(739)],o=this.paramsArray,s=this.particlesPerSecond*this[e(805)]*t,r=this[e(667)];if(this[e(483)](),this[e(712)](i,n,o,t),!1===this.alive)return void(this[e(401)]=0);if(null!==this[e(624)]&&this[e(401)]>this[e(624)])return this.alive=!1,void(this[e(401)]=0);const a=1===this[e(739)]?r:0|r,c=Math[e(851)](a+s,this[e(475)]),h=c-this[e(667)]|0,u=h>0?t/h:0;this[e(587)](a,c,o,u),this[e(667)]+=s,this.activationIndex>n&&(this[e(667)]=i),this[e(401)]+=t},d[l(830)].prototype.reset=function(t){const e=l;if(this[e(401)]=0,this.alive=!1,!0===t){const t=this[e(400)],o=t+this[e(739)],s=this.paramsArray,r=this[e(816)][e(450)][e(848)];for(var i,n=o-1;n>=t;--n)s[i=4*n]=0,s[i+1]=0;r.updateRange.offset=0,r[e(645)][e(599)]=-1,r[e(456)]=!0}return this},d[l(830)][l(809)][l(520)]=function(){return this.alive=!0,this},d[l(830)][l(809)][l(814)]=function(){return this[l(449)]=!1,this},d[l(830)][l(809)][l(537)]=function(){const t=l;return null!==this[t(391)]?this[t(391)].removeEmitter(this):console.error(t(605)),this};const m=d;function g(t){function e(t){const i=u;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[i(497)](i(630));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(i(655)+i(458))[i(670)](i(823)):function(){return!1}.constructor(i(655)+"gger")[i(497)](i(504)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{m as _};
