import{a as t,m as n,o as e}from"./@tresjs.W3PFJhMo1741658416045.js";import{bk as o,Y as r,a0 as i,b as s,_ as c}from"./three.FyUEtfsR1741658416045.js";import{_ as a,h as u}from"./three-tile.lrC690Y_1741658416045.js";import{_ as p}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.2mYHylNE1741658416045.js";import{d as l,a3 as f,w as m,o as h,H as g,N as d,u as y,r as w,b as I,f as _,g as b,j,m as v,al as x,F as S,e as k,aj as T,ak as z}from"./@vue.NRI7TcgI1741658416045.js";import{P as Z}from"./tweakpane.yDiyAAkA1741658416045.js";import{_ as D}from"./informationDiv.Qlu6lxcc1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./@fesjs.hAnhKQG-1741658416045.js";import"./vue-router.qhodDV9M1741658416045.js";import"./lodash-es.pklfUAS51741658416045.js";import"./@qlin.yHhFDldE1741658416045.js";import"./pinia.Iw2DqQac1741658416045.js";import"./@floating-ui.BPbuo5Gx1741658416045.js";import"./@juggle.7yjBMqoW1741658416045.js";const M=E;function E(t,n){const e=W();return(E=function(t,n){return e[t-=201]})(t,n)}!function(t,n){const e=E,o=W();for(;;)try{if(612521===parseInt(e(231))/1+-parseInt(e(251))/2+parseInt(e(214))/3*(parseInt(e(254))/4)+-parseInt(e(253))/5*(parseInt(e(207))/6)+-parseInt(e(229))/7*(-parseInt(e(245))/8)+-parseInt(e(236))/9*(-parseInt(e(217))/10)+-parseInt(e(242))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(211)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=E,n=new RegExp(t(239)),e=new RegExp(t(225),"i"),o=A(t(220));n[t(252)](o+t(201))&&e[t(252)](o+t(244))?A():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(211)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=E;let n;try{n=Function(t(218)+t(238)+");")()}catch(r){n=window}const e=n[t(228)]=n.console||{},o=[t(256),t(206),t(249),t(240),t(222),"table",t(209)];for(let i=0;i<o[t(234)];i++){const n=G[t(221)][t(223)][t(233)](G),r=o[i],s=e[r]||n;n[t(230)]=G.bind(G),n.toString=s[t(241)][t(233)](s),e[r]=n}}))();const P=[M(203)],R=[M(205),"material",M(255),M(227)],O=l({__name:M(226),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=M;let c,a;const u=n,l=new o({displacementMap:new r,transparent:!0,side:i,opacity:u.opacity,displacementScale:.5,displacementBias:0});l.onBeforeCompile=t=>{const n=E;t[n(219)]="uniform sampler2D map;\n\t"+t.vertexShader,t[n(219)]=t.vertexShader[n(248)](n(243),n(210))};const w=u[e(216)][e(202)](new s(105,34,0));w[e(257)](u[e(216)][e(259)]);const I=p[e(208)](u[e(216)],{x:67,y:11},{x:140,y:57},u[e(250)]),_=[];for(let t=0;t<9;t++)_[e(235)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(215));let b=0;const j=([c,a]=f((()=>t(_))),c=await c,a(),c);l[e(216)]=j[b],m((()=>[u[e(213)],u.opacity]),(([t,n])=>{l[e(224)]=n}));let v=null,x=!1;return x?(clearInterval(v),v=null,x=!1):(v=setInterval((()=>{const t=E;b=b<_[t(234)]-1?b+1:0,l[t(216)]=j[b],l[t(212)]=!0,console[t(256)](b)}),1e3),x=!0),(t,n)=>{const o=e;return h(),g(o(237),{position:[...y(w)]},[d("TresMesh",{scale:[y(I).x,y(I).y,t[o(250)]],material:y(l),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[d("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,R)],8,P)}}});function W(){const t=["bind","length","push","774hSkOkG","TresGroup",'{}.constructor("return this")( )',"function *\\( *\\)","error","toString","1864555tkGOLC","#include <displacementmap_vertex>","input","272EfyzZk","gger","while (true) {}","replace","info","height","1012220EFtkBk","test","5ltttRw","251252PymGRY","rotateX","log","applyMatrix4","string","matrix","chain","geo2pos","position","debu","scale","warn","5220078aQtsYH","scaleImg","trace","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","apply","needsUpdate","color","3pWIQWT","40.png","map","122240kGztcr","return (function() ","vertexShader","init","constructor","exception","prototype","opacity","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","radraImgShow","position-y","console","113267vZCPNW","__proto__","493918QbmZZU","counter"];return(W=function(){return t})()}function A(t){function n(t){const e=E;if(typeof t===e(258))return function(t){}.constructor(e(247))[e(211)](e(232));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(204)+e(246)).call("action"):function(){return!1}[e(221)](e(204)+e(246))[e(211)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=B;!function(t,n){const e=B,o=L();for(;;)try{if(886722===parseInt(e(516))/1*(-parseInt(e(549))/2)+parseInt(e(503))/3+-parseInt(e(542))/4+parseInt(e(513))/5*(parseInt(e(507))/6)+-parseInt(e(531))/7+parseInt(e(497))/8+parseInt(e(532))/9*(-parseInt(e(518))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(521)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["warn","85755LxYtXh","showLocation","MapBoxSource","2NuHrjZ","bind","173050gOSsTH","constructor","geo2pos","apply","mapbox.terrain-rgb","map","mapbox.satellite","counter","debu","value","addBinding","string","chain","1975078qGwgRM","963ialgrW","length","rotateX","table","console","error","input","domElement","toString","controlsEvents","3066940gZCPfH","TresDirectionalLight","gger","height","TileMap","action","plugin","577378kUFzfj","localToWorld","target","return (function() ","copy","test","__proto__","9496080CiwEHh","exception","GDSource","Vector3","mapBoxShow3","透明度","5262243zNvoZn","init","stateObject","image","498fcoMxH","position","call","prototype","trace"];return(L=function(){return t})()}function B(t,n){const e=L();return(B=function(t,n){return e[t-=495]})(t,n)}!function(){H(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=$(t(504));n[t(495)](o+t(530))&&e[t(495)](o+t(538))?$():o("0")}))()}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=B;let n;try{n=Function(t(552)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(536)]=n.console||{},o=["log",t(512),"info",t(537),t(498),t(535),t(511)];for(let i=0;i<o[t(533)];i++){const n=N[t(519)][t(510)][t(517)](N),r=o[i],s=e[r]||n;n[t(496)]=N[t(517)](N),n[t(540)]=s[t(540)][t(517)](s),e[r]=n}}))();const Q=["object"],U="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",Y=l({__name:C(501),setup(t){const e=C,o=w({height:200,opacity:1}),r=new Z({title:"参数"});r[e(528)](o,e(545),{label:"高度",min:10,max:300,step:1}),r[e(528)](o,"opacity",{label:e(502),min:0,max:1,step:.1}),new(a[e(548)][e(515)])({token:U,dataType:e(506),style:e(524)});const i=new(a[e(548)][e(515)])({token:U,dataType:"terrain-rgb",style:e(522),maxLevel:15}),s=new(a[e(546)])({imgSource:[new(u[e(499)])({style:"6"}),new(a[e(548)].GDSource)({style:"8"})],demSource:i,lon0:90,minLevel:2,maxLevel:20});s[e(534)](-Math.PI/2);const l=new(c[e(500)])(105,34,0),f=new(c[e(500)])(110,0,1e4),k=s[e(550)](s.geo2pos(l)),T=s.localToWorld(s[e(520)](f)),z=I(),{camera:D,controls:M,scene:E,renderer:F}=n();return D[e(527)]&&D[e(527)][e(508)][e(553)](T),m((()=>M[e(527)]),(t=>{const n=e;t&&(t[n(551)][n(553)](k),p[n(541)](t,D[n(527)],E.value))})),m((()=>z[e(527)]),(t=>{t&&t[e(551)].position.copy(k)})),p[e(514)](D[e(527)],F.value[e(539)],s),(t,n)=>{const r=e;return h(),g(S,null,[d(r(543),{ref_key:"tdLight",ref:z,position:[0,2e3,1e3],intensity:1},null,512),d("primitive",{object:y(s)},null,8,Q),(h(),_(x,null,{default:b((()=>[j(O,v({map:y(s)},o),null,16,[r(523)])])),_:1}))],64)}}});function $(t){function n(t){const e=B;if(typeof t===e(529))return function(t){}[e(519)]("while (true) {}").apply(e(525));1!==(""+t/t)[e(533)]||t%20==0?function(){return!0}.constructor("debugger")[e(509)](e(547)):function(){return!1}[e(519)](e(526)+e(544))[e(521)](e(505)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=J;!function(t,n){const e=J,o=K();for(;;)try{if(564025===-parseInt(e(111))/1+-parseInt(e(144))/2*(-parseInt(e(135))/3)+-parseInt(e(130))/4+parseInt(e(134))/5*(-parseInt(e(126))/6)+parseInt(e(108))/7+parseInt(e(141))/8*(parseInt(e(119))/9)+-parseInt(e(105))/10*(-parseInt(e(139))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(132)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(t,n){const e=K();return(J=function(t,n){return e[t-=105]})(t,n)}!function(){X(this,(function(){const t=J,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(136),"i"),o=nt(t(124));n.test(o+t(145))&&e[t(133)](o+"input")?nt():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(132)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(){const t=["8930LwlmDA","error","console","5317816lSoZqy","while (true) {}","stateObject","760421tRJWtp","gger","exception","#dbf0ff","__proto__","return (function() ","TresPerspectiveCamera","table","18hvrMeO","constructor","action","highp","bind","init","trace","764934ywzIbR","debu","prototype","toString","4247220FkwZDw","length","apply","test","15kZUOct","232536jWQdae","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","TresCanvas","19932UwoOaY","radraImg","323464exCeiP","call","info","8oDFCHO","chain"];return(K=function(){return t})()}V(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(116)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(107)]||{},o=[t(137),"warn",t(143),t(106),t(113),t(118),t(125)];for(let r=0;r<o[t(131)];r++){const n=V[t(120)][t(128)][t(123)](V),i=o[r],s=e[i]||n;n[t(115)]=V[t(123)](V),n[t(129)]=s[t(129)][t(123)](s),e[i]=n}}))();const tt=l({__name:q(140),setup(t){const n=q,o=w({clearColor:n(114),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(122)}),r=w({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,c=k(s(138));return h(),g(S,null,[j(c,v(o,{"window-size":""}),{default:b((()=>[i[0]||(i[0]=d(s(117),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),j(y(e),T(z(r)),null,16),i[1]||(i[1]=d("TresAmbientLight",{intensity:1},null,-1)),j(Y)])),_:1},16),j(D)],64)}}});function nt(t){function n(t){const e=J;if("string"==typeof t)return function(t){}.constructor(e(109))[e(132)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(120)](e(127)+e(112))[e(142)](e(121)):function(){return!1}.constructor(e(127)+e(112))[e(132)](e(110)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{tt as default};
