import{aK as t,ai as n}from"./three.HaMTRCf61740450466561.js";import{D as o,o as i,f as e}from"./@tresjs.9lmhsV6t1740450466561.js";import{a as r,b as s}from"./index.f6g8K_Pe1740450466561.js";import{P as u}from"./tweakpane.yDiyAAkA1740450466561.js";import{d as c,$ as a,w as p,o as l,H as f,a3 as m,u as g,r as d,f as h,g as v,N as I,j as S,al as y,m as b}from"./@vue.NRI7TcgI1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";import"./three-stdlib.vB_UH6QL1740450466561.js";import"./@pmndrs.OKEm8oAd1740450466561.js";import"./object-hash.g8NhVH2H1740450466561.js";import"./@amap.dPX4GHML1740450466561.js";import"./jszip.NDo38iES1740450466561.js";const R=P;!function(t,n){const o=P,i=w();for(;;)try{if(408314===-parseInt(o(483))/1*(-parseInt(o(490))/2)+parseInt(o(488))/3*(-parseInt(o(469))/4)+parseInt(o(500))/5+-parseInt(o(501))/6+-parseInt(o(497))/7+parseInt(o(476))/8+-parseInt(o(484))/9*(parseInt(o(480))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[P(487)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){_(this,(function(){const t=P,n=new RegExp(t(461)),o=new RegExp(t(472),"i"),i=E("init");n[t(496)](i+"chain")&&o[t(496)](i+t(470))?E():i("0")}))()}();const j=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[P(487)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();j(void 0,(function(){const t=P,n=function(){const t=P;let n;try{n=Function(t(478)+t(460)+");")()}catch(o){n=window}return n}(),o=n[t(493)]=n[t(493)]||{},i=[t(489),t(502),"info","error",t(464),t(492),t(463)];for(let e=0;e<i[t(473)];e++){const n=j[t(474)][t(495)][t(471)](j),r=i[e],s=o[r]||n;n[t(468)]=j[t(471)](j),n.toString=s[t(459)].bind(s),o[r]=n}}))();const x=[R(479)];function P(t,n){const o=w();return(P=function(t,n){return o[t-=459]})(t,n)}function w(){const t=["constructor","vertexShader","4775904BlCeLH","counter","return (function() ","object","1410bXDaVc","action","gger","157798WQMMvt","32823AuyAbi","debu","while (true) {}","apply","3qrJRBv","log","6GcxBER","replace","table","console","primitive","prototype","test","967190bKpjdE","uSnappingResolution","#include <common>","3333055iOXjmn","3055650gjylNR","warn","toString",'{}.constructor("return this")( )',"function *\\( *\\)","stateObject","trace","exception","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","string","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","__proto__","668028BNpIoZ","input","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length"];return(w=function(){return t})()}const M=c({__name:"com",props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new t({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=R,o=t,i=a(o[n(498)]);return o.srcMaterial.onBeforeCompile=t=>{const o=n;t.uniforms.uSnappingResolution=i,t[o(475)]=t[o(475)][o(491)](o(499),o(465)),t[o(475)]=t.vertexShader[o(491)]("#include <project_vertex>",o(467))},p((()=>o[n(498)]),(t=>{i.value=t})),(t,o)=>{const i=n;return l(),f(i(494),{object:t.srcMaterial},null,8,x)}}});function E(t){function n(t){const o=P;if(typeof t===o(466))return function(t){}.constructor(o(486))[o(487)](o(477));1!==(""+t/t)[o(473)]||t%20==0?function(){return!0}[o(474)](o(485)+o(482)).call(o(481)):function(){return!1}[o(474)](o(485)+o(482))[o(487)](o(462)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=T,i=z();for(;;)try{if(106698===parseInt(o(317))/1+parseInt(o(314))/2+parseInt(o(322))/3+parseInt(o(335))/4+-parseInt(o(341))/5*(-parseInt(o(306))/6)+-parseInt(o(304))/7*(-parseInt(o(330))/8)+-parseInt(o(337))/9*(parseInt(o(305))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const A=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[T(329)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function T(t,n){const o=z();return(T=function(t,n){return o[t-=304]})(t,n)}!function(){A(this,(function(){const t=T,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(333),"i"),i=Z(t(318));n.test(i+t(320))&&o[t(312)](i+"input")?Z():i("0")}))()}();const C=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function z(){const t=["toString","warn","490581QKaecm","330MCnniw","1920dXhKsk","debu","return (function() ","console","exception","#include <common>","test","vertexShader","130214HHjCaf","bind","trace","115725eRpJSL","init","uSnappingResolution","chain","constructor","625860pvZZmP","length","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t","info","replace","gger","string","apply","24ojEbNq","__proto__","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"596344KfHJEX","error","190737CerRkq","log","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","while (true) {}","895ICwPjq"];return(z=function(){return t})()}function Z(t){function n(t){const o=T;if(typeof t===o(328))return function(t){}.constructor(o(340)).apply("counter");1!==(""+t/t)[o(323)]||t%20==0?function(){return!0}[o(321)](o(307)+"gger").call(o(332)):function(){return!1}[o(321)](o(307)+o(327))[o(329)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}C(void 0,(function(){const t=T;let n;try{n=Function(t(308)+t(334)+");")()}catch(e){n=window}const o=n.console=n[t(309)]||{},i=[t(338),t(343),t(325),t(336),t(310),"table",t(316)];for(let r=0;r<i[t(323)];r++){const n=C[t(321)].prototype[t(315)](C),e=i[r],s=o[e]||n;n[t(331)]=C.bind(C),n[t(342)]=s[t(342)].bind(s),o[e]=n}}))();const B=k;!function(t,n){const o=k,i=G();for(;;)try{if(822792===parseInt(o(145))/1+-parseInt(o(141))/2*(parseInt(o(122))/3)+-parseInt(o(143))/4*(parseInt(o(137))/5)+-parseInt(o(135))/6+parseInt(o(136))/7+-parseInt(o(132))/8+parseInt(o(126))/9)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const N=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[k(147)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){N(this,(function(){const t=k,n=new RegExp(t(142)),o=new RegExp(t(148),"i"),i=$(t(115));n.test(i+"chain")&&o.test(i+t(134))?$():i("0")}))()}();const O=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[k(147)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function k(t,n){const o=G();return(k=function(t,n){return o[t-=109]})(t,n)}O(void 0,(function(){const t=k;let n;try{n=Function(t(111)+t(140)+");")()}catch(e){n=window}const o=n[t(114)]=n[t(114)]||{},i=[t(129),t(112),"info","error","exception",t(139),t(144)];for(let r=0;r<i[t(127)];r++){const n=O[t(120)].prototype[t(121)](O),e=i[r],s=o[e]||n;n[t(128)]=O[t(121)](O),n.toString=s[t(146)][t(121)](s),o[e]=n}}))();const q=[B(138)];function G(){const t=["trace","899266uAjDVd","toString","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","forEach","./draco/","return (function() ","warn","values","console","init","uSnappingResolution","model","call","debu","constructor","bind","26961VtjpLO","counter","string","while (true) {}","37192824kTOZFh","length","__proto__","log","value","action","1172968GgocAJ","push","input","9523206tjMgCm","4066202MfYylE","1600180yHqhtF","object","table",'{}.constructor("return this")( )',"324ZIxSrj","function *\\( *\\)","20EcGgUa"];return(G=function(){return t})()}const H=c({__name:B(117),props:{uSnappingResolution:{default:6}},async setup(t){const n=B;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb",{draco:!0,decoderPath:n(110)}))),i=await i,e(),i),c=[];return Object[n(113)](u)[n(109)]((t=>{c[n(133)](function(t,n=6){const o={value:n};return t.onBeforeCompile=t=>{const n=T;t.uniforms[n(319)]=o,t.vertexShader=t[n(313)][n(326)](n(311),n(339)),t[n(313)]=t.vertexShader.replace("#include <project_vertex>",n(324))},o}(t,r.uSnappingResolution))})),p((()=>r[n(116)]),(t=>{c.forEach((n=>{n[k(130)]=t}))})),(t,n)=>(l(),f("primitive",{object:g(s),scale:5,position:[0,-2,0]},null,8,q))}});function $(t){function n(t){const o=k;if(typeof t===o(124))return function(t){}[o(120)](o(125))[o(147)](o(123));1!==(""+t/t)[o(127)]||t%20==0?function(){return!0}[o(120)](o(119)+o(149))[o(118)](o(131)):function(){return!1}.constructor(o(119)+o(149))[o(147)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const L=Q;!function(t,n){const o=Q,i=U();for(;;)try{if(376654===parseInt(o(487))/1+-parseInt(o(455))/2*(-parseInt(o(495))/3)+-parseInt(o(484))/4+parseInt(o(452))/5*(parseInt(o(476))/6)+parseInt(o(492))/7+parseInt(o(471))/8+parseInt(o(462))/9*(-parseInt(o(466))/10))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const K=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[Q(461)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){K(this,(function(){const t=Q,n=new RegExp(t(458)),o=new RegExp(t(486),"i"),i=V(t(496));n.test(i+t(498))&&o[t(469)](i+t(501))?V():i("0")}))()}();const F=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[Q(461)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function U(){const t=["2165500estqyM","vertexSnapping","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","544668YcGWMW","log","TresPerspectiveCamera","rotation-y","return (function() ","2337741Pspmos","exception","modelSnappingResolution","1902807aOdzqS","init","gger","chain","__proto__","call","input","rotation-x","10QBJLaT","prototype","stateObject","2qaTETH","TresDirectionalLight","TresMesh","function *\\( *\\)","console",'{}.constructor("return this")( )',"apply","7608879yQUjWf","uSnappingResolution","TresAmbientLight","debu","10EwLIqV","info","length","test","addBinding","549184PAIAMD","warn","circle","string","toString","545736OBKoOn","bind","TresCylinderGeometry","torus","constructor","TresTorusKnotGeometry","action","trace"];return(U=function(){return t})()}F(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function(t(491)+t(460)+");")()}catch(o){n=window}return n}(),o=n[t(459)]=n[t(459)]||{},i=[t(488),t(472),t(467),"error",t(493),"table",t(483)];for(let e=0;e<i.length;e++){const n=F[t(480)][t(453)].bind(F),r=i[e],s=o[r]||n;n[t(499)]=F[t(477)](F),n.toString=s[t(475)][t(477)](s),o[r]=n}}))();const D={position:[5,.9,-5],name:L(479)},J=c({__name:L(485),setup(t){const o=L,c=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=d({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(470)](a,"uSnappingResolution",{label:"圆环扭结-分辨率",min:0,max:20,step:.01}),p[o(470)](a,"modelSnappingResolution",{label:"自行车模型-分辨率",min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(g(e),b(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(489),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(g(i)),n[2]||(n[2]=I(u(464),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(456),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(457),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:"cube"},[I(u(478),{args:[1.5,1.5,2]}),I("TresMeshStandardMaterial",{color:16737826,roughness:0,metalness:0})],-1)),I(u(457),D,[n[0]||(n[0]=I(u(481),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a[u(463)]},null,8,[u(463)])]),(l(),h(y,null,{default:v((()=>[S(H,{uSnappingResolution:a[u(494)]},null,8,["uSnappingResolution"])])),_:1})),(l(),h(y,null,{default:v((()=>[S(g(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(g(s),{intensity:2,form:u(473),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(502)]),S(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(502)]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(490)]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(490)])])),_:1})])),_:1}))])),_:1},16)}}});function Q(t,n){const o=U();return(Q=function(t,n){return o[t-=452]})(t,n)}function V(t){function n(t){const o=Q;if(typeof t===o(474))return function(t){}.constructor("while (true) {}")[o(461)]("counter");1!==(""+t/t)[o(468)]||t%20==0?function(){return!0}[o(480)](o(465)+o(497))[o(500)](o(482)):function(){return!1}[o(480)](o(465)+o(497)).apply(o(454)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{J as default};
