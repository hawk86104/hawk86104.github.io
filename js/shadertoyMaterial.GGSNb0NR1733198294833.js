import{e as t,U as n,b as e}from"./@tresjs.sklxXn0u1733198294833.js";import{a6 as o,a0 as r,c as i,k as a,aF as s,t as c,cM as u,s as l}from"./three.8iJMi2lU1733198294833.js";import{z as f}from"./three-custom-shader-material.GYlVajj-1733198294833.js";import{P as p}from"./tweakpane.yHWGBmom1733198294833.js";import{a as h}from"./axios.Ng308AU61733198294833.js";import{d,r as m,a6 as v,q as g,e as w,o as y,f as x,g as b,J as I,j as _,u as j,aj as C,ak as T,m as R}from"./@vue.-THQH3GC1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";!function(t,n){const e=D,o=z();for(;;)try{if(808724===parseInt(e(455))/1*(parseInt(e(459))/2)+parseInt(e(450))/3+parseInt(e(418))/4*(parseInt(e(439))/5)+-parseInt(e(435))/6+-parseInt(e(442))/7*(-parseInt(e(421))/8)+parseInt(e(445))/9+-parseInt(e(451))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(441)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(){const t=["info","string","1034496VThURx","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","test","chain","bind","3310953YNvTjh","22927870UIiVYX","table","vUv","warn","811vpMGQo","uniform sampler2D  utexture;\n",'{}.constructor("return this")( )',"toString","278tfBUtt","replace","split","void main()","trace","__proto__","44CCDUWM","length","function *\\( *\\)","1144fKGEzH","uniforms","uniform vec2 uresolution;\n","action","utime","gger","prototype","uniform float utime;\n","while (true) {}","constructor","console","error","counter","material","1014876EpiQEA","log","call","utexture","394730gXnfXT","varying vec2 vUv;\n","apply","52423qdNBwf"];return(z=function(){return t})()}!function(){U(this,(function(){const t=D,n=new RegExp(t(420)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=k("init");n[t(447)](o+t(448))&&e[t(447)](o+"input")?k():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(441)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=z();return(D=function(t,n){return e[t-=414]})(t,n)}A(void 0,(function(){const t=D;let n;try{n=Function("return (function() "+t(457)+");")()}catch(r){n=window}const e=n[t(431)]=n.console||{},o=["log",t(454),t(443),t(432),"exception",t(452),t(416)];for(let i=0;i<o[t(419)];i++){const n=A[t(430)][t(427)][t(449)](A),r=o[i],a=e[r]||n;n[t(417)]=A.bind(A),n[t(458)]=a[t(458)][t(449)](a),e[r]=n}}))();class E{constructor(t,n){const e=D,i=E.replaceVariable(t),a=new f({baseMaterial:o,vertexShader:e(446),fragmentShader:i,side:r,uniforms:n[e(434)][e(422)]});this[e(434)]=a,console[e(436)](this[e(434)])}static replaceVariable(t){const n=D;t=n(440)+t;if(/iTime|iTimeDelta/g[n(447)](t)){let e=t[n(414)](n(440));t=(t="varying vec2 vUv;\n"+n(428)+e[1]).replace(/iTime|iTimeDelta/g,n(425))}if(/iResolution\.[a-zA-Z_]+/g[n(447)](t)){let e=t[n(414)](n(440));t=(t=(t=n(440)+n(423)+e[1])[n(460)](/iResolution\.[a-zA-Z_]+/g,"1."))[n(460)](/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(447)](t)){let e=t[n(414)](n(440));t=(t=n(440)+n(456)+e[1])[n(460)](/iChannel0|iChannel1|iChannel2|iChannel3/g,n(438))}return t[n(460)](/iMouse/g,"umouse"),t[n(460)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(415))[n(460)](/fragColor/g,"csm_DiffuseColor").replace(/fragCoord/g,n(453))}}function k(t){function n(t){const e=D;if(typeof t===e(444))return function(t){}[e(430)](e(429))[e(441)](e(433));1!==(""+t/t).length||t%20==0?function(){return!0}[e(430)]("debu"+e(426))[e(437)](e(424)):function(){return!1}[e(430)]("debu"+e(426)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=Z;!function(t,n){const e=Z,o=L();for(;;)try{if(180414===parseInt(e(453))/1+parseInt(e(461))/2*(-parseInt(e(468))/3)+parseInt(e(409))/4*(-parseInt(e(448))/5)+-parseInt(e(414))/6+-parseInt(e(416))/7+-parseInt(e(446))/8+parseInt(e(403))/9*(parseInt(e(421))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=Z,n=new RegExp(t(440)),e=new RegExp(t(450),"i"),o=V(t(454));n.test(o+t(452))&&e[t(419)](o+t(449))?V():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(441)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=Z;let n;try{n=Function(t(437)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(429)]||{},o=[t(404),t(464),t(456),"error",t(433),"table",t(425)];for(let i=0;i<o[t(469)];i++){const n=G[t(444)][t(406)][t(447)](G),r=o[i],a=e[r]||n;n[t(463)]=G[t(447)](G),n[t(445)]=a[t(445)][t(447)](a),e[r]=n}}))();const H={ref:"perspectiveCameraRef",position:[300,250,-122],fov:45,near:1,far:1e4},S=[B(415),B(466)];function Z(t,n){const e=L();return(Z=function(t,n){return e[t-=403]})(t,n)}function L(){const t=["prototype","catch","https://www.shadertoy.com/view/mtyGWy","16jFxDzY","addres","几何体","TresAmbientLight","call","1475154zFicfe","object","156065KHjiBU","#ffffff","TresAxesHelper","test","Shader","10263800NpOuVx","shadervalue","list","string","trace","TorusKnot","https://www.shadertoy.com/view/tlVGDt","primitive","console","action","children","material","exception","addBlade","geometry","change","return (function() ","utime","clear","function *\\( *\\)","apply","https://www.shadertoy.com/view/","Error","constructor","toString","2396408cthrRL","bind","236815NoavXd","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","chain","129332TWPujF","init","dispose","info","BOX","renderpass","?key=BdHlhH","uniforms","2EymRTE","then","__proto__","warn","shadertoyMaterial","side","data","654423dxTIKk","length","gger","debu","stateObject","9xWHZFQ","log","TresPerspectiveCamera"];return(L=function(){return t})()}const M=d({__name:B(465),async setup(o){const f=B;let d,U;const z={clearColor:"#000000",shadows:!0,alpha:!1,useLegacyLights:!0},A={autoRotate:!0,enableDamping:!0},D=new p({title:"参数"}),k=m({addres:f(408),shadervalue:""});let F=([d,U]=v((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),d=await d,U(),d),G=new i,Z=m({material:{uniforms:{utime:{value:0},uresolution:{value:new a(40,40)},utexture:{value:F}}}}),L=new s(100,100,100);D.addBlade({view:f(423),label:"shadertoy在线地址",parse:t=>String(t),options:[{text:"1",value:f(408)},{text:"2",value:f(427)},{text:"3",value:"https://www.shadertoy.com/view/ttKGDt"}],value:"https://www.shadertoy.com/view/mtyGWy"}).on(f(436),(t=>{const n=f;k[n(410)]=t[n(451)],P(L)}));let M=new s(100,100,100),V=new c(100,100),K=new u(100,10,100,16);D[f(434)]({view:f(423),label:f(411),options:[{text:f(457),value:M},{text:"Plane",value:V},{text:f(426),value:K}],value:M}).on("change",(t=>{L=t.value,P(L)}));const P=t=>{const n=f;let e="https://www.shadertoy.com/api/v1/shaders/"+k[n(410)].split(n(442))[1]+n(459);h.get(e)[n(462)]((function(e){const o=n;e[o(467)][o(443)]&&alert(e[o(467)][o(443)]),k[o(422)]=e[o(467)][o(420)][o(458)][0].code;let r=new E(k[o(422)],Z);G[o(439)]();let i=new l(t,r[o(432)]);G.add(i),W(G,t)}))[n(407)]((function(t){console[n(404)](t)}))},W=(t,n)=>{const e=f;t.children[0][e(435)][e(455)](),t[e(431)][0][e(435)]=n},{onLoop:X}=t();return X((({delta:t})=>{const n=f;Z[n(432)][n(460)][n(438)][n(451)]+=t})),g((()=>{let t=new s(100,100,100);P(t)})),(t,e)=>{const o=f,i=w("TresCanvas");return y(),x(i,R(z,{"window-size":""}),{default:b((()=>[I(o(405),H,null,512),_(j(n),C(T(A)),null,16),e[0]||(e[0]=I(o(412),{color:o(417)},null,-1)),e[1]||(e[1]=I("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:o(417)},null,-1)),I(o(428),{object:j(G),side:j(r)},null,8,S),e[2]||(e[2]=I(o(418),{args:[1e3],position:[0,19,0]},null,-1)),e[3]||(e[3]=I("TresGridHelper",{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});function V(t){function n(t){const e=Z;if(typeof t===e(424))return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(444)](e(471)+e(470))[e(413)](e(430)):function(){return!1}.constructor("debu"+e(470))[e(441)](e(472)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as default};
