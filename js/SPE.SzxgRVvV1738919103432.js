import{X as t,_ as e,c as i,bN as n,V as s,ar as o,a as r,l as a,b as c,C as h}from"./three.CYhYNU4g1738919103432.js";function l(t,e){const i=f();return(l=function(t,e){return i[t-=446]})(t,e)}const u=l;function f(){const t=["rotation","_radius","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","_randomise","textureFrames","toString","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","fog","    #ifdef COLORIZE","unpackRotationAxis","isStatic","attributeCount","ensureTypedArg","        float rowNorm = row / framesY;","Points","axis","_angle","logdepthbuf_pars_vertex","fog_fragment","getFromPool","_rotationCenter","setVec4Components","group","offset","addEmitter","Vector4","float when_ge(float x, float y) {","uniform float deltaTime;","lerp","size","    float pointSizePerspective = pointSize * perspective;","        pos.y += wiggleCos;","getValueAtIndex","distributionClamp","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","_assignPositionValue","        float wiggleAmount = positionInTime * getWiggle();","88PNyyBh","    vColor = vec4( c, o );","       vec3 c = isAlive * getColorOverLifetime(","updateFlags","   float b = mod( hex, PACKED_COLOR_SIZE );","SPE.Group pool ran out.","removeEmitter","    vec4 rotatedTexture = texture2D( tex, vUv );","geometry","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","           unpackColor( color.z ),","_assignAbsLifetimeValue","string","textureFrameCount","apply","           unpackColor( color.y ),","round","randomVector3","gger","_assignAngleValue","_assignRotationValue","varyings","dispose","logdepthbuf_vertex","#endif","_distribution","uniform float scale;","setMat4","6865jbXbMd","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;",'{}.constructor("return this")( )',"    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","spread","float and(float a, float b) {","enable","float when_le(float x, float y) {","setVec2Components","DISC","TypedArray is already of size:","function","grow","resetDynamic","        float column = floor(mod( frameNumber, framesX ));","_incrementParticleCount","texture","copy","usage","Emitter already belongs to another group. Will not add to requested group.","prototype","    }","   return c;","    float shouldApplyValue = 0.0;","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","_spreadClamp","NUMBER","Will not resize.","depthWrite","        float columnNorm = column / framesX;","    #endif","set","setUpdateRange","float or(float a, float b) {","sin","52072PoqAvm","colorize","debu","ensureValueOverLifetimeCompliance","radius","params","defineProperty","push","_updateAttributeUpdateRange","Group","common","           unpackColor( color.x ),","fog_pars_vertex","NEGATIVE_INFINITY","_createBufferAttribute","           positionInTime,","dynamicBuffer","_assignForceValue","Vector3","pop","      vec3 axis = unpackRotationAxis( rotation.x );","unshift","    #ifdef HAS_PERSPECTIVE","warn","   return acceleration.xyz * age;","ShaderAttribute","bufferUpdateCount","interpolateArray","emitterIDs","randomVector3OnSphere","getLength","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","    highp float isAlive = when_gt( alive, 0.0 );","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","attribute vec3 rotationCenter;","updateMax","activeParticleCount","    return value;","age","_decrementParticleCount","activationIndex","floor","valueOverLifetimeLength","updateMin","#ifdef SHOULD_ROTATE_PARTICLES","POSITIVE_INFINITY","Emitter does not exist in this group. Will not remove.","log","_center","float when_lt(float x, float y) {","REVISION","drag","           unpackColor( color.w )","uniform float runTime;","_pool","MathUtils","maxAge","randomFloat","void main() {","splice","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","array","disable","logdepthbuf_pars_fragment","paramFetchingFunctions","34477707GpxWLY","remove","BOX","_poolCreationSettings","vertex","_updateUniforms","  return 1.0 - when_gt(x, y);","   vec3 getRotation( in vec3 pos, in float positionInTime ) {","      rotationMatrix = getRotationMatrix( axis, angle );","_checkParticleAges","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","init","ensureArrayTypedArg","length","vec3 unpackRotationAxis( in float hex ) {","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","setRGB","196HPPhUK","sqrt","setFromArray","TypedArrayConstructor","emitters","chain","textureLoop","   c.g = g / PACKED_COLOR_DIVISOR;","maxParticleCount","elements","    #ifdef SHOULD_WIGGLE_PARTICLES","_resetParticle","activationEnd","error","SHOULD_ROTATE_TEXTURE","`emitter` argument must be instance of SPE.Emitter. Was provided with:","distribution","wiggle","bind","   c *= vec3( 2.0 );","    force *= drag;","blending","alive","acceleration","attributeKeys","SPE.Group: maxParticleCount exceeded. Requesting","arrayType","keys","typeSizeMap","_createGetterSetters","min","   return params.w;","join","test","#define PACKED_COLOR_SIZE 256.0","OBJECT","arrayValuesAreEqual","multiplyScalar","max","fog_vertex","_axisSpread","float when_eq( float x, float y ) {","SHOULD_WIGGLE_PARTICLES","frameCount","        float framesY = textureAnimation.y;","random","3549285xoOhSZ","abs","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","_createNewWhenPoolEmpty","ShaderChunk","frames","attribute vec4 rotation;","colorOverLifetime","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","forceUpdateAll","normalize","indexOffset","_onRemove","        vSpriteSheet.w = rowNorm;","clone","randomVector3OnDisc","BufferGeometry","particles, can support only","setAttribute","typedArray","hasPerspective","object","setNumber","alphaTest","Emitter does not belong to a group, cannot remove.","stateObject","        float perspective = 1.0;","_assignValue","randomDirectionVector3OnDisc","itemSize","attribute vec4 acceleration;","angleSpread","rotationCenter","_attributesNeedDynamicReset","bufferUpdateKeys","counter","_setBufferUpdateRanges","      vec3 translated;","_updateDefines","return (function() ","transparent","Texture","deltaTime","updateMap","      if( rotation.y == 0.0 ) {","attribute vec4 size;","radiusScale","releaseIntoPool","    varying vec4 vSpriteSheet;","spe","scale","DynamicDrawUsage","      float angle = 0.0;","Emitter already exists in this group. Will not add again.","type","clamp","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","_triggerSingleEmitter","_value","        float totalFrames = textureAnimation.z;","needsUpdate","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","    float fIndex = 0.0;","axisSpread","   return params.x;","duration","306DLOTpN","opacity","       float c = cos(angle);","fragment","randomDirectionVector3OnSphere","attributes","        pos.z += wiggleSin;","Vector2","_ensureTypedArray","ensureInstanceOf","    gl_Position = projectionMatrix * mvPosition;","attribute vec4 params;","__proto__","roundToNearestMultiple","console","spreadClamp","_axis","color","flagUpdate","_assignColorValue","replace","_applyAttributesToGeometry","BOOLEAN","setMat3","        float framesX = vSpriteSheet.x;","        vSpriteSheet.z = columnNorm;","direction","utils","   c -= vec3( 1.0 );","       float s = sin(angle);","attribute vec4 opacity;","       float s = sin( -vAngle );","    gl_PointSize = pointSizePerspective;","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","SHOULD_ROTATE_PARTICLES","getHex","types","shaders","componentSize","   c.r = r / PACKED_COLOR_DIVISOR;","   vec3 c = vec3( 0.0 );","      mat4 rotationMatrix;","_angleSpread","    highp float age = getAge();","AdditiveBlending","_radiusScale","_calculatePPSValue","defines","isArray","_updateBuffers","updateCounts","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","position","amd","   return velocity * age;","    #else","hasOwnProperty","setVec3","    #ifdef ALPHATEST","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","reset","      }","info","varying vec4 vColor;","uniform sampler2D tex;","bufferUpdateRanges","trace","runTime","static","        float row = floor( (frameNumber - column) / framesX );","        float wiggleCos = isAlive * cos( wiggleAmount );","4894610frrPts","setSize","setVec3Components","57351UNWKgy","setDrawRange","    return 1.0 - abs( sign( x - y ) );","Emitter","LINE","    pos += force;","_distributionClamp","        pos.x += wiggleSin;","randomColorAsHex","        float wiggleSin = isAlive * sin( wiggleAmount );","    force += vel;","Color","    highp float positionInTime = (age / maxAge);","logdepthbuf_fragment","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","#ifdef SHOULD_CALCULATE_SPRITE","                   0.0,                                0.0,                                0.0,                                1.0);","constructor","input","undefined","rotateTexture","number","vec3 getVelocity( in float age ) {","resetUpdateRange","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","    highp float value = 0.0;","#ifdef SHOULD_ROTATE_TEXTURE","        pos = getRotation( pos, positionInTime );","setColor","ensureArrayInstanceOf","fixedTimeStep","paramsArray","indexOf","setVec4","Argument is not instanceof SPE.Emitter:","randomise","_setAttributeOffset","distributions","rotationFunctions","_assignParamsValue","_resetBufferRanges","uuid","branchAvoidanceFunctions","_activateParticles","updateRange","lerpTypeAgnostic","       axis = normalize(axis);","bufferAttribute","particlesPerSecond","resetFlags","        vSpriteSheet.y = 1.0 / framesY;","count","fog_pars_fragment","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","_attributesNeedRefresh","table","velocity","value","        vSpriteSheet.x = 1.0 / framesX;","material","    highp float alive = getAlive();","uniforms","SPHERE","unpackColor","StaticDrawUsage","boolean","    ","       float oc = 1.0 - c;","attributeEnd","attribute vec4 angle;","   }","_spread","540rvKNQp","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","9483wcIoOz","TypedArrayHelper","shrink","_static","float getAge() {","exception","    highp float maxAge = getMaxAge();","addPool","   c.b = b / PACKED_COLOR_DIVISOR;","angle","particleCount","activeMultiplier","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","attributeOffset","float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {","depthTest","triggerPoolEmitter","tick","shaderChunks","ceil"];return(f=function(){return t})()}!function(t,e){const i=l,n=f();for(;;)try{if(384324===parseInt(i(756))/1*(-parseInt(i(875))/2)+-parseInt(i(671))/3*(parseInt(i(728))/4)+-parseInt(i(456))/5+-parseInt(i(523))/6*(parseInt(i(597))/7)+parseInt(i(792))/8*(-parseInt(i(669))/9)+-parseInt(i(594))/10+parseInt(i(857))/11)break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const p=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(742)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){p(this,(function(){const t=l,e=new RegExp("function *\\( *\\)"),i=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=y(t(869));e[t(908)](n+t(880))&&i[t(908)](n+t(615))?y():n("0")}))()}();const d=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[l(742)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();d(void 0,(function(){const t=l;let e;try{e=Function(t(496)+t(758)+");")()}catch(s){e=window}const i=e[t(537)]=e[t(537)]||{},n=[t(839),"warn","info",t(888),t(676),t(652),t(589)];for(let o=0;o<n.length;o++){const e=d[t(614)][t(776)].bind(d),s=n[o],r=i[s]||e;e[t(535)]=d[t(893)](d),e[t(696)]=r[t(696)].bind(r),i[s]=e}}))();const m={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===u(767)&&define[u(576)]?define(u(506),m):typeof exports!==u(616)&&typeof module!==u(616)&&(module.exports=m),m[u(672)]=function(t,e,i,n){const s=u;this[s(561)]=i||1,this.size=e||1,this[s(878)]=t||Float32Array,this[s(853)]=new t(e*this[s(561)]),this.indexOffset=n||0},m[u(672)][u(614)]=m[u(672)],m[u(672)].prototype.setSize=function(t,e){const i=u,n=this[i(853)][i(871)];return!e&&(t*=this[i(561)]),t<n?this.shrink(t):t>n?this[i(768)](t):void console[i(585)](i(766),t+".",i(784))},m.TypedArrayHelper[u(776)][u(673)]=function(t){const e=u;return this[e(853)]=this.array.subarray(0,t),this[e(720)]=t,this},m[u(672)][u(776)][u(768)]=function(t){const e=u,i=this[e(853)],n=new(this[e(878)])(t);return n[e(788)](i),this[e(853)]=n,this[e(720)]=t,this},m[u(672)][u(776)][u(851)]=function(t,e){const i=u;t*=this[i(561)],e*=this[i(561)];const n=[],s=this[i(853)],o=s.length;for(let r=0;r<o;++r)(r<t||r>=e)&&n.push(s[r]);return this[i(877)](0,n),this},m[u(672)].prototype[u(877)]=function(t,e){const i=u,n=t+e.length;return n>this[i(853)].length?this.grow(n):n<this.array[i(871)]&&this[i(673)](n),this.array.set(e,this[i(468)]+t),this},m[u(672)][u(776)].setVec2=function(t,e){return this.setVec2Components(t,e.x,e.y)},m[u(672)][u(776)][u(764)]=function(t,e,i){const n=this[u(853)],s=this.indexOffset+t*this.componentSize;return n[s]=e,n[s+1]=i,this},m[u(672)][u(776)][u(580)]=function(t,e){return this[u(596)](t,e.x,e.y,e.z)},m.TypedArrayHelper[u(776)][u(596)]=function(t,e,i,n){const s=this.array,o=this.indexOffset+t*this.componentSize;return s[o]=e,s[o+1]=i,s[o+2]=n,this},m[u(672)][u(776)][u(630)]=function(t,e){return this[u(712)](t,e.x,e.y,e.z,e.w)},m[u(672)].prototype[u(712)]=function(t,e,i,n,s){const o=u,r=this[o(853)],a=this.indexOffset+t*this[o(561)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},m[u(672)][u(776)][u(546)]=function(t,e){const i=u;return this[i(877)](this[i(468)]+t*this[i(561)],e[i(884)])},m[u(672)][u(776)][u(755)]=function(t,e){const i=u;return this[i(877)](this[i(468)]+t*this[i(561)],e[i(884)])},m[u(672)][u(776)][u(625)]=function(t,e){return this[u(596)](t,e.r,e.g,e.b)},m[u(672)][u(776)][u(479)]=function(t,e){const i=u;return this.array[this[i(468)]+t*this[i(561)]]=e,this},m[u(672)][u(776)][u(723)]=function(t){return this[u(853)][this.indexOffset+t]},m.TypedArrayHelper.prototype.getComponentValueAtIndex=function(t){const e=u;return this[e(853)].subarray(this[e(468)]+t*this[e(561)])},m.ShaderAttribute=function(t,e,i){const n=u,s=m[n(817)][n(903)];this.type=typeof t===n(740)&&s[n(579)](t)?t:"f",this[n(561)]=s[this[n(511)]],this[n(901)]=i||Float32Array,this[n(476)]=null,this[n(644)]=null,this[n(808)]=!!e,this[n(835)]=0,this[n(827)]=0},m[u(817)][u(614)]=m[u(817)],m.ShaderAttribute[u(903)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},m[u(817)][u(776)][u(789)]=function(t,e){const i=u;this.updateMin=Math.min(t*this[i(561)],this.updateMin*this.componentSize),this[i(827)]=Math[i(448)](e*this.componentSize,this.updateMax*this.componentSize)},m[u(817)][u(776)].flagUpdate=function(){const t=u,e=this[t(644)];!e[t(641)]&&(e[t(641)]={});const i=e[t(641)];i[t(714)]=this[t(835)],i[t(648)]=Math[t(905)](this[t(827)]-this.updateMin+this.componentSize,this[t(476)][t(853)][t(871)]),e[t(517)]=!0},m[u(817)][u(776)][u(620)]=function(){const t=u;this.updateMin=0,this[t(827)]=0},m[u(817)][u(776)].resetDynamic=function(){const i=u;this[i(644)][i(774)]=this[i(808)]?t:e[i(661)]},m.ShaderAttribute[u(776)][u(851)]=function(t,e){const i=u;this[i(476)].splice(t,e),this[i(466)]()},m[u(817)][u(776)][u(466)]=function(){const t=u;this.bufferAttribute.array=this[t(476)][t(853)],this.bufferAttribute[t(641)][t(714)]=0,this[t(644)][t(641)][t(648)]=-1,this[t(644)][t(774)]=e[t(661)],this[t(644)][t(517)]=!0},m.ShaderAttribute[u(776)][u(531)]=function(t){const e=u;null!==this[e(476)]&&this[e(476)][e(720)]===t*this.componentSize||(null!==this.typedArray&&this[e(476)][e(720)]!==t?this[e(476)][e(595)](t):null===this[e(476)]&&(this[e(476)]=new(m[e(672)])(this[e(901)],t,this[e(561)])))},m[u(817)][u(776)]._createBufferAttribute=function(t){const n=u;if(this[n(531)](t),null!==this[n(644)])return this[n(644)][n(853)]=this[n(476)][n(853)],parseFloat(e[n(842)])>=81&&(this[n(644)][n(648)]=this[n(644)][n(853)][n(871)]/this.bufferAttribute[n(486)]),void(this.bufferAttribute.needsUpdate=!0);this[n(644)]=new i(this[n(476)][n(853)],this[n(561)]),this[n(644)][n(774)]=this[n(808)]?e[n(508)]:e[n(661)]},m[u(817)][u(776)][u(822)]=function(){const t=u;return null===this.typedArray?0:this[t(476)][t(853)][t(871)]},m[u(689)]={defines:[u(909),"#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:[u(718),u(845),u(587),"uniform vec4 textureAnimation;",u(754)][u(907)]("\n"),attributes:[u(487),"attribute vec3 velocity;",u(462),u(826),u(534),u(502),u(666),"attribute vec4 color;",u(553)].join("\n"),varyings:[u(586),u(623),"    varying float vAngle;",u(752),u(612),u(505),"#endif"].join("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {","    return max(sign(x - y), 0.0);","}",u(841),u(683),"}",u(451),u(599),"}",u(717),"  return 1.0 - when_lt(x, y);","}",u(763),u(863),"}",u(761),"    return a * b;","}",u(790),"    return min(a + b, 1.0);","}"][u(907)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {",u(563),u(611),u(650),u(732),u(562),u(882),u(679),"   return c;","}"][u(907)]("\n"),unpackRotationAxis:[u(872),u(563),u(611),u(650),"   float b = mod( hex, PACKED_COLOR_SIZE );",u(562),u(882),u(679),u(894),u(551),u(778),"}"][u(907)]("\n"),floatOverLifetime:[u(685),u(622),"    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );",u(519),u(779),u(464),"",u(693),"       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );",u(777),"",u(829),"}"][u(907)]("\n"),colorOverLifetime:[u(556),"    vec3 value = vec3( 0.0 );",u(759),u(465),u(825),"    return value;","}"][u(907)]("\n"),paramFetchingFunctions:["float getAlive() {",u(521),"}",u(675),"   return params.y;","}","float getMaxAge() {","   return params.z;","}","float getWiggle() {",u(906),"}"][u(907)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {","   return modelViewMatrix * vec4( position, 1.0 );","}",u(619),u(577),"}","vec3 getAcceleration( in float age ) {",u(816),"}"][u(907)]("\n"),rotationFunctions:[u(836),u(737),u(643),u(552),u(525),u(664),"",u(574),u(852),u(518),u(613),u(667),"",u(864),u(501),"           return pos;",u(584),"",u(812),"      vec3 center = rotationCenter;",u(494),u(564),u(509),u(621),u(513),"      translated = rotationCenter - pos;",u(865),u(823),"   }",u(752)][u(907)]("\n"),rotateTexture:[u(458),"","    #ifdef SHOULD_ROTATE_TEXTURE","       float x = gl_PointCoord.x - 0.5;","       float y = 1.0 - gl_PointCoord.y - 0.5;","       float c = cos( -vAngle );",u(554),u(697),u(787),"","    #ifdef SHOULD_CALCULATE_SPRITE",u(547),"        float framesY = vSpriteSheet.y;","        float columnNorm = vSpriteSheet.z;","        float rowNorm = vSpriteSheet.w;",u(725),"        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);",u(787),"",u(735)][u(907)]("\n")},m[u(560)]={vertex:[m[u(689)][u(570)],m[u(689)][u(658)],m[u(689)][u(528)],m[u(689)].varyings,n[u(802)],e[u(460)][u(708)],e[u(460)][u(804)],m[u(689)][u(639)],m[u(689)][u(660)],m.shaderChunks[u(700)],m[u(689)].floatOverLifetime,m[u(689)][u(463)],m[u(689)][u(856)],m[u(689)].forceFetchingFunctions,m[u(689)][u(635)],u(850),u(566),u(657),u(677),u(609),u(824),u(885),u(727),u(606),u(593),"    #endif","    vec3 vel = getVelocity( age );","    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );",u(757),u(607),u(895),"    force += accel * age;",u(602),u(885),u(604),u(722),u(529),u(787),"    #ifdef SHOULD_ROTATE_PARTICLES",u(624),u(787),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",u(868),u(814),"        float perspective = scale / length( mvPosition.xyz );",u(578),u(483),u(787),u(721),u(699),u(730),u(807),u(803),u(743),u(738),u(844),"       );",u(578),"       vec3 c = vec3(1.0);",u(787),u(582),u(729),"    #ifdef SHOULD_ROTATE_TEXTURE",u(670),u(787),"    #ifdef SHOULD_CALCULATE_SPRITE","        float framesX = textureAnimation.x;",u(454),"        float loopCount = textureAnimation.w;",u(516),u(867),u(770),u(592),u(786),u(704),u(655),u(647),u(548),u(470),"    #endif",u(555),u(533),e[u(460)][u(751)],e[u(460)][u(449)],"}"].join("\n"),fragment:[m[u(689)][u(658)],e[u(460)][u(802)],e[u(460)][u(649)],e[u(460)][u(855)],m[u(689)][u(749)],m.shaderChunks[u(639)],u(850),"    vec3 outgoingLight = vColor.xyz;",u(663),u(581),"       if ( vColor.w < float(ALPHATEST) ) discard;",u(787),m[u(689)][u(617)],e[u(460)][u(610)],u(781),"    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",e[u(460)][u(709)],"}"][u(907)]("\n")},m[u(550)]={types:{BOOLEAN:u(662),STRING:"string",NUMBER:u(618),OBJECT:u(478)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=u;if(Array[n(571)](t)){for(let n=t.length-1;n>=0;--n)if(typeof t[n]!==e)return i;return t}return this[n(703)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=u;if(Array[n(571)](t)){for(let s=t[n(871)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(532)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=u;e=e||3,i=i||3,!1===Array[n(571)](t[n(515)])&&(t[n(515)]=[t[n(515)]]),!1===Array[n(571)](t._spread)&&(t[n(668)]=[t._spread]);const s=this[n(512)](t[n(515)][n(871)],e,i),o=this[n(512)](t[n(668)].length,e,i),r=Math.max(s,o);t[n(515)].length!==r&&(t[n(515)]=this[n(819)](t[n(515)],r)),t[n(668)].length!==r&&(t[n(668)]=this[n(819)](t[n(668)],r))},interpolateArray(t,e){const i=u,n=t[i(871)],s=[typeof t[0].clone===i(767)?t[0].clone():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(833)](e),a=Math[i(690)](e),c=e-n;s[r]=this[i(642)](t[n],t[a],c)}return s.push("function"==typeof t[n-1].clone?t[n-1].clone():t[n-1]),s},clamp(t,e,i){const n=u;return Math[n(448)](e,Math[n(905)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[u(455)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(t,i,n){const r=u;let a,c=this.types;return typeof t===c.NUMBER&&typeof i===c.NUMBER?t+(i-t)*n:t instanceof e[r(530)]&&i instanceof s?(a=t[r(471)](),a.x=this[r(719)](t.x,i.x,n),a.y=this[r(719)](t.y,i.y,n),a):t instanceof e[r(810)]&&i instanceof e[r(810)]?(a=t.clone(),a.x=this.lerp(t.x,i.x,n),a.y=this[r(719)](t.y,i.y,n),a.z=this.lerp(t.z,i.z,n),a):t instanceof e[r(716)]&&i instanceof o?(a=t[r(471)](),a.x=this.lerp(t.x,i.x,n),a.y=this.lerp(t.y,i.y,n),a.z=this.lerp(t.z,i.z,n),a.w=this.lerp(t.w,i.w,n),a):t instanceof e[r(608)]&&i instanceof e[r(608)]?(a=t[r(471)](),a.r=this[r(719)](t.r,i.r,n),a.g=this[r(719)](t.g,i.g,n),a.b=this[r(719)](t.b,i.b,n),a):void console.warn("Invalid argument types, or argument types do not match:",t,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=u;let n=0;return 0===e?t:(n=Math[i(457)](t)%e,0===n?t:t<0?-(Math[i(457)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=u;for(let i=0;i<t[e(871)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,s){const o=u;let r=i.x+(Math[o(455)]()*n.x-.5*n.x),a=i.y+(Math[o(455)]()*n.y-.5*n.y),c=i.z+(Math[o(455)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this.roundToNearestMultiple(r,s.x),a=.5*-s.y+this[o(536)](a,s.y),c=.5*-s.z+this[o(536)](c,s.z)),t[o(476)][o(596)](e,r,a,c)},randomColor(t,e,i,n){const s=u;let o=i.r+Math[s(455)]()*n.x,r=i.g+Math.random()*n.y,a=i.b+Math[s(455)]()*n.z;o=this[s(512)](o,0,1),r=this[s(512)](r,0,1),a=this[s(512)](a,0,1),t[s(476)].setVec3Components(e,o,r,a)},randomColorAsHex:function(){const t=u,i=new(e[t(608)]);return function(e,n,s,o){const r=t,a=s[r(871)],c=[];for(let t=0;t<a;++t){const e=o[t];i[r(773)](s[t]),i.r+=Math[r(455)]()*e.x-.5*e.x,i.g+=Math[r(455)]()*e.y-.5*e.y,i.b+=Math[r(455)]()*e.z-.5*e.z,i.r=this[r(512)](i.r,0,1),i.g=this[r(512)](i.g,0,1),i.b=this[r(512)](i.b,0,1),c[r(799)](i[r(558)]())}e[r(476)][r(712)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=u,o=i.clone();o[s(719)](n,Math[s(455)]()),t.typedArray[s(596)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=u;let h=2*Math[c(455)]()-1,l=6.2832*Math.random(),f=Math[c(876)](1-h*h),p=this[c(849)](n,s),d=0,m=0,g=0;r&&(p=Math[c(744)](p/r)*r),d=f*Math.cos(l)*p,m=f*Math.sin(l)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[c(476)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[u(791)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=u;let c=6.2832*Math[a(455)](),h=Math[a(457)](this.randomFloat(n,s)),l=0,f=0,p=0;r&&(h=Math.round(h/r)*r),l=Math.cos(c)*h,f=Math[a(791)](c)*h,l*=o.x,f*=o.y,l+=i.x,f+=i.y,p+=i.z,t.typedArray[a(596)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const t=u,i=new(e[t(810)]);return function(e,n,s,o,r,a,c,h){const l=t;i[l(773)](a),i.x-=s,i.y-=o,i.z-=r,i[l(467)]()[l(447)](-this.randomFloat(c,h)),e[l(476)][l(596)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const t=u,i=new(e[t(810)]);return function(e,n,s,o,r,a,c,h){const l=t;i[l(773)](a),i.x-=s,i.y-=o,i.z-=r,i[l(467)]().multiplyScalar(-this[l(849)](c,h)),e.typedArray[l(596)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const t=u,i=new(e[t(810)]),n=new(e[t(810)]),s=new(e[t(608)]),o=new(e[t(810)])(1,1,1);return function(e,r){const a=t;return i[a(773)](e)[a(467)](),n[a(773)](r).normalize(),i.x+=.5*-r.x+Math.random()*r.x,i.y+=.5*-r.y+Math[a(455)]()*r.y,i.z+=.5*-r.z+Math[a(455)]()*r.z,i[a(467)]().add(o)[a(447)](.5),s[a(874)](i.x,i.y,i.z),s.getHex()}}()},m[u(801)]=function(t){const i=u,n=m[i(550)],o=n[i(559)];(t=n[i(703)](t,o[i(910)],{}))[i(772)]=n[i(703)](t.texture,o[i(910)],{}),this[i(638)]=r.generateUUID(),this[i(627)]=n.ensureTypedArg(t[i(627)],o[i(783)],.016),this[i(772)]=n[i(532)](t[i(772)][i(654)],e[i(498)],null),this[i(695)]=n[i(532)](t[i(772)][i(461)],s,new(e[i(530)])(1,1)),this[i(741)]=n[i(703)](t[i(772)][i(453)],o[i(783)],this[i(695)].x*this.textureFrames.y),this[i(881)]=n[i(703)](t[i(772)].loop,o[i(783)],1),this[i(695)][i(448)](new(e[i(530)])(1,1)),this[i(477)]=n[i(703)](t[i(477)],o[i(545)],!0),this[i(793)]=n[i(703)](t.colorize,o[i(545)],!0),this[i(883)]=n[i(703)](t[i(883)],o[i(783)],null),this[i(896)]=n[i(703)](t.blending,o[i(783)],e[i(567)]),this[i(497)]=n[i(703)](t[i(497)],o[i(545)],!0),this[i(480)]=parseFloat(n[i(703)](t[i(480)],o[i(783)],0)),this[i(785)]=n[i(703)](t.depthWrite,o[i(545)],!1),this[i(686)]=n[i(703)](t.depthTest,o[i(545)],!0),this[i(698)]=n.ensureTypedArg(t[i(698)],o[i(545)],!0),this[i(507)]=n[i(703)](t.scale,o[i(783)],300),this[i(879)]=[],this[i(820)]=[],this[i(846)]=[],this[i(860)]=null,this[i(459)]=0,this[i(651)]=!1,this._attributesNeedDynamicReset=!1,this[i(681)]=0,this[i(658)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(e[i(716)])(this[i(695)].x,this[i(695)].y,this[i(741)],Math[i(448)](Math[i(457)](this[i(881)]),1))},fogColor:{type:"c",value:this[i(698)]?new(e[i(608)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(507)]}},this[i(570)]={HAS_PERSPECTIVE:this[i(477)],COLORIZE:this[i(793)],VALUE_OVER_LIFETIME_LENGTH:m[i(834)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this[i(695)].y>1},this[i(528)]={position:new m.ShaderAttribute("v3",!0),acceleration:new(m[i(817)])("v4",!0),velocity:new(m[i(817)])("v3",!0),rotation:new(m[i(817)])("v4",!0),rotationCenter:new(m[i(817)])("v3",!0),params:new(m[i(817)])("v4",!0),size:new m.ShaderAttribute("v4",!0),angle:new(m[i(817)])("v4",!0),color:new(m[i(817)])("v4",!0),opacity:new(m[i(817)])("v4",!0)},this[i(899)]=Object[i(902)](this[i(528)]),this[i(702)]=this[i(899)][i(871)],this[i(656)]=new a({uniforms:this[i(658)],vertexShader:m.shaders[i(861)],fragmentShader:m[i(560)][i(526)],blending:this[i(896)],transparent:this[i(497)],alphaTest:this[i(480)],depthWrite:this[i(785)],depthTest:this.depthTest,defines:this[i(570)],fog:this[i(698)]}),this[i(736)]=new(e[i(473)]),this.mesh=new(e[i(705)])(this[i(736)],this[i(656)]),null===this[i(883)]&&console.warn(i(873))},m[u(801)].constructor=m[u(801)],m[u(801)][u(776)]._updateDefines=function(){const t=u;let e,i=this.emitters,n=i[t(871)]-1,s=this[t(570)];for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(889)]=s[t(889)]||!!Math.max(Math[t(448)][t(742)](null,e.angle[t(654)]),Math[t(448)][t(742)](null,e[t(680)][t(760)]))),s[t(557)]=s[t(557)]||!!Math[t(448)](e[t(691)].angle,e[t(691)][t(488)]),s.SHOULD_WIGGLE_PARTICLES=s[t(452)]||!!Math[t(448)](e[t(892)][t(654)],e[t(892)][t(760)]);this.material[t(517)]=!0},m.Group.prototype._applyAttributesToGeometry=function(){const t=u;let e,i,n=this[t(528)],s=this.geometry,o=s[t(528)];for(const r in n)n[t(579)](r)&&(e=n[r],i=o[r],i?i[t(853)]=e[t(476)].array:s[t(475)](r,e[t(644)]),e[t(644)][t(517)]=!0);this[t(736)][t(598)](0,this[t(681)])},m.Group[u(776)][u(715)]=function(t){const e=u;if(t instanceof m[e(600)]==!1)return void console[e(888)](e(890),t);if(this[e(820)][e(629)](t[e(638)])>-1)return void console[e(888)](e(510));if(null!==t[e(713)])return void console[e(888)](e(775));const i=this[e(528)],n=this.particleCount,s=n+t[e(681)];this[e(681)]=s,null!==this[e(883)]&&this[e(681)]>this.maxParticleCount&&console.warn(e(900),this[e(681)],e(474),this.maxParticleCount),t[e(569)](t[e(848)][e(515)]+t[e(848)][e(668)]),t[e(493)](this[e(899)]),t[e(633)](n),t[e(713)]=this,t[e(528)]=this[e(528)];for(const o in i)i.hasOwnProperty(o)&&i[o][e(806)](null!==this[e(883)]?this[e(883)]:this[e(681)]);for(let o=n;o<s;++o)t[e(726)](o),t[e(809)](o,e(653)),t[e(809)](o,e(898)),t[e(739)](o,e(524)),t[e(739)](o,"size"),t[e(747)](o),t[e(748)](o),t[e(636)](o),t[e(542)](o);return this[e(544)](),this[e(879)][e(799)](t),this[e(820)][e(799)](t[e(638)]),this[e(495)](t),this[e(656)].needsUpdate=!0,this[e(736)].needsUpdate=!0,this[e(651)]=!0,this},m[u(801)][u(776)][u(734)]=function(t){const e=u,i=this[e(820)].indexOf(t[e(638)]);if(t instanceof m[e(600)]==!1)return void console[e(888)](e(890),t);if(-1===i)return void console[e(888)](e(838));const n=t[e(684)],s=n+t[e(681)],o=this[e(528)].params[e(476)];for(let r=n;r<s;++r)o[e(853)][4*r]=0,o[e(853)][4*r+1]=0;this[e(879)][e(851)](i,1),this.emitterIDs[e(851)](i,1);for(const r in this[e(528)])this[e(528)][e(579)](r)&&this[e(528)][r].splice(n,s);this[e(681)]-=t[e(681)],t[e(469)](),this[e(651)]=!0},m[u(801)].prototype[u(710)]=function(){const t=u,e=this._pool,i=this[t(459)];if(e[t(871)])return e[t(811)]();if(i){const e=new(m[t(600)])(this[t(860)]);return this[t(715)](e),e}return null},m[u(801)].prototype[u(504)]=function(t){const e=u;if(t instanceof m[e(600)]!=!1)return t[e(583)](),this[e(846)][e(813)](t),this;console[e(888)](e(631),t)},m[u(801)][u(776)].getPool=function(){return this[u(846)]},m[u(801)].prototype[u(678)]=function(t,e,i){const n=u;let s;this._poolCreationSettings=e,this[n(459)]=!!i;for(let o=0;o<t;++o)s=Array[n(571)](e)?new m.Emitter(e[o]):new(m[n(600)])(e),this[n(715)](s),this[n(504)](s);return this},m[u(801)][u(776)][u(514)]=function(t){const e=u,i=this[e(710)](),n=this;if(null!==i)return t instanceof c&&(i[e(575)][e(654)][e(773)](t),i.position[e(654)]=i[e(575)][e(654)]),i.enable(),setTimeout((()=>{i[e(854)](),n.releaseIntoPool(i)}),1e3*Math[e(448)](i.duration,i.maxAge.value+i[e(848)][e(760)])),this;console[e(839)](e(733))},m[u(801)].prototype[u(687)]=function(t,e){const i=u;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this._triggerSingleEmitter(e);else this[i(514)](e);return this},m[u(801)][u(776)]._updateUniforms=function(t){const e=u;this.uniforms[e(590)].value+=t,this[e(658)][e(499)].value=t},m[u(801)][u(776)][u(637)]=function(){const t=u;let e=this[t(899)],i=this.attributeCount-1,n=this[t(528)];for(;i>=0;--i)n[e[i]][t(620)]()},m[u(801)][u(776)][u(572)]=function(t){const e=u;let i,n,s,o=this[e(899)],r=this[e(702)]-1,a=this[e(528)],c=t.bufferUpdateRanges;for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s.setUpdateRange(n[e(905)],n[e(448)]),s[e(541)]()},m[u(801)].prototype.tick=function(t){const e=u;var i=this.emitters,n=i[e(871)],s=t||this[e(627)],o=this[e(899)],r=this[e(528)];if(this[e(862)](s),this._resetBufferRanges(),0!==n||!1!==this._attributesNeedRefresh||!1!==this[e(490)]){for(var a,c=0;c<n;++c)(a=i[c])[e(688)](s),this[e(572)](a);if(!0===this[e(490)]){for(c=this[e(702)]-1;c>=0;--c)r[o[c]][e(769)]();this[e(490)]=!1}if(!0===this[e(651)]){for(c=this[e(702)]-1;c>=0;--c)r[o[c]][e(466)]();this[e(651)]=!1,this[e(490)]=!0}}},m.Group[u(776)][u(750)]=function(){const t=u;return this.geometry[t(750)](),this[t(656)][t(750)](),this},m[u(600)]=function(t){const i=u,n=m.utils,s=n[i(559)],o=m[i(834)];(t=n[i(703)](t,s[i(910)],{}))[i(575)]=n[i(703)](t[i(575)],s.OBJECT,{}),t[i(653)]=n.ensureTypedArg(t[i(653)],s[i(910)],{}),t[i(898)]=n.ensureTypedArg(t[i(898)],s[i(910)],{}),t.radius=n[i(703)](t[i(796)],s.OBJECT,{}),t.drag=n[i(703)](t[i(843)],s.OBJECT,{}),t.rotation=n[i(703)](t[i(691)],s[i(910)],{}),t[i(540)]=n.ensureTypedArg(t[i(540)],s.OBJECT,{}),t.opacity=n.ensureTypedArg(t.opacity,s[i(910)],{}),t[i(720)]=n[i(703)](t[i(720)],s[i(910)],{}),t[i(680)]=n[i(703)](t[i(680)],s.OBJECT,{}),t[i(892)]=n[i(703)](t[i(892)],s[i(910)],{}),t[i(848)]=n[i(703)](t[i(848)],s[i(910)],{}),t.onParticleSpawn&&console[i(815)](i(780)),this[i(638)]=e[i(847)].generateUUID(),this.type=n.ensureTypedArg(t[i(511)],s[i(783)],m.distributions[i(859)]),this[i(575)]={_value:n.ensureInstanceOf(t[i(575)][i(654)],e[i(810)],new(e[i(810)])),_spread:n[i(532)](t[i(575)][i(760)],e[i(810)],new(e[i(810)])),_spreadClamp:n.ensureInstanceOf(t.position[i(538)],e[i(810)],new(e[i(810)])),_distribution:n[i(703)](t[i(575)].distribution,s[i(783)],this[i(511)]),_randomise:n[i(703)](t.position[i(632)],s.BOOLEAN,!1),_radius:n.ensureTypedArg(t[i(575)][i(796)],s.NUMBER,10),_radiusScale:n.ensureInstanceOf(t.position[i(503)],e[i(810)],new c(1,1,1)),_distributionClamp:n[i(703)](t.position[i(724)],s[i(783)],0)},this[i(653)]={_value:n.ensureInstanceOf(t[i(653)][i(654)],e[i(810)],new(e[i(810)])),_spread:n[i(532)](t[i(653)].spread,c,new c),_distribution:n.ensureTypedArg(t[i(653)][i(891)],s.NUMBER,this.type),_randomise:n[i(703)](t[i(575)][i(632)],s[i(545)],!1)},this.acceleration={_value:n[i(532)](t[i(898)][i(654)],e[i(810)],new c),_spread:n[i(532)](t[i(898)].spread,e[i(810)],new(e[i(810)])),_distribution:n[i(703)](t[i(898)][i(891)],s[i(783)],this[i(511)]),_randomise:n[i(703)](t[i(575)].randomise,s[i(545)],!1)},this[i(843)]={_value:n[i(703)](t[i(843)][i(654)],s.NUMBER,0),_spread:n[i(703)](t[i(843)].spread,s[i(783)],0),_randomise:n.ensureTypedArg(t[i(575)].randomise,s.BOOLEAN,!1)},this[i(892)]={_value:n.ensureTypedArg(t[i(892)][i(654)],s[i(783)],0),_spread:n[i(703)](t[i(892)][i(760)],s[i(783)],0)},this[i(691)]={_axis:n[i(532)](t[i(691)][i(706)],e[i(810)],new(e[i(810)])(0,1,0)),_axisSpread:n[i(532)](t.rotation[i(520)],e[i(810)],new(e[i(810)])),_angle:n[i(703)](t[i(691)][i(680)],s[i(783)],0),_angleSpread:n.ensureTypedArg(t[i(691)].angleSpread,s[i(783)],0),_static:n.ensureTypedArg(t[i(691)][i(591)],s.BOOLEAN,!1),_center:n[i(532)](t[i(691)].center,c,this.position[i(515)][i(471)]()),_randomise:n.ensureTypedArg(t[i(575)][i(632)],s[i(545)],!1)},this[i(848)]={_value:n[i(703)](t[i(848)][i(654)],s[i(783)],2),_spread:n[i(703)](t[i(848)][i(760)],s[i(783)],0)},this.color={_value:n[i(626)](t[i(540)][i(654)],e[i(608)],new h),_spread:n[i(626)](t[i(540)][i(760)],e[i(810)],new c),_randomise:n[i(703)](t[i(575)][i(632)],s[i(545)],!1)},this[i(524)]={_value:n[i(870)](t.opacity[i(654)],s[i(783)],1),_spread:n[i(870)](t[i(524)][i(760)],s[i(783)],0),_randomise:n[i(703)](t[i(575)][i(632)],s[i(545)],!1)},this[i(720)]={_value:n[i(870)](t[i(720)][i(654)],s[i(783)],1),_spread:n[i(870)](t[i(720)][i(760)],s[i(783)],0),_randomise:n[i(703)](t[i(575)].randomise,s[i(545)],!1)},this[i(680)]={_value:n[i(870)](t[i(680)][i(654)],s[i(783)],0),_spread:n[i(870)](t[i(680)][i(760)],s[i(783)],0),_randomise:n.ensureTypedArg(t.position.randomise,s[i(545)],!1)},this[i(681)]=n.ensureTypedArg(t[i(681)],s[i(783)],100),this[i(522)]=n.ensureTypedArg(t[i(522)],s[i(783)],null),this.isStatic=n[i(703)](t[i(701)],s[i(545)],!1),this[i(682)]=n[i(703)](t[i(682)],s[i(783)],1),this[i(549)]=n.ensureTypedArg(t[i(549)],s[i(783)],1),this.alive=n.ensureTypedArg(t.alive,s[i(545)],!0),this[i(645)]=0,this[i(832)]=0,this[i(684)]=0,this[i(665)]=0,this[i(830)]=0,this[i(828)]=0,this[i(713)]=null,this[i(528)]=null,this[i(628)]=null,this[i(646)]={position:n[i(703)](t[i(575)][i(632)],s[i(545)],!1)||n[i(703)](t[i(796)][i(632)],s[i(545)],!1),velocity:n[i(703)](t[i(653)].randomise,s[i(545)],!1),acceleration:n[i(703)](t[i(898)].randomise,s[i(545)],!1)||n[i(703)](t[i(843)][i(632)],s[i(545)],!1),rotation:n[i(703)](t[i(691)][i(632)],s[i(545)],!1),rotationCenter:n[i(703)](t[i(691)].randomise,s[i(545)],!1),size:n.ensureTypedArg(t[i(720)][i(632)],s[i(545)],!1),color:n[i(703)](t[i(540)].randomise,s[i(545)],!1),opacity:n[i(703)](t[i(524)][i(632)],s[i(545)],!1),angle:n[i(703)](t[i(680)][i(632)],s[i(545)],!1)},this[i(731)]={},this[i(573)]={},this.updateMap={maxAge:i(797),position:"position",velocity:i(653),acceleration:i(898),drag:"acceleration",wiggle:"params",rotation:"rotation",size:i(720),color:"color",opacity:i(524),angle:i(680)};for(const e in this.updateMap)this[i(500)].hasOwnProperty(e)&&(this[i(573)][this[i(500)][e]]=0,this[i(731)][this[i(500)][e]]=!1,this._createGetterSetters(this[e],e));this[i(588)]={},this[i(899)]=null,this.attributeCount=0,n[i(795)](this[i(540)],o,o),n[i(795)](this[i(524)],o,o),n[i(795)](this[i(720)],o,o),n[i(795)](this[i(680)],o,o)},m[u(600)][u(614)]=m.Emitter,m[u(600)].prototype[u(904)]=function(t,e){const i=u,n=this;for(const s in t)if(t[i(579)](s)){const o=s[i(543)]("_","");Object[i(798)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=l,o=n[s(500)][e],r=this[t],a=m[s(834)];t===s(711)?(n[s(731)][s(489)]=!0,n[s(573)][s(489)]=0):t===s(694)?n[s(646)][o]=i:(n[s(731)][o]=!0,n.updateCounts[o]=0),n[s(713)][s(495)](),this[t]=i,Array[s(571)](r)&&m[s(550)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},m.Emitter.prototype[u(493)]=function(t){const e=u;this[e(899)]=t,this[e(702)]=t[e(871)];for(let i=this[e(702)]-1;i>=0;--i)this[e(588)][t[i]]={min:Number[e(837)],max:Number[e(805)]}},m[u(600)].prototype[u(569)]=function(t){const e=u,i=this[e(681)];this[e(522)]?this[e(645)]=i/(t<this[e(522)]?t:this.duration):this[e(645)]=i/t},m[u(600)][u(776)][u(633)]=function(t){const e=u;this[e(684)]=t,this[e(832)]=t,this[e(887)]=t+this[e(681)]},m[u(600)][u(776)][u(484)]=function(t,e){const i=u;switch(t){case i(575):this[i(726)](e);break;case i(653):case i(898):this[i(809)](e,t);break;case i(720):case"opacity":this[i(739)](e,t);break;case i(680):this._assignAngleValue(e);break;case i(797):this[i(636)](e);break;case i(691):this._assignRotationValue(e);break;case i(540):this[i(542)](e)}},m[u(600)][u(776)][u(726)]=function(t){const e=u,i=m[e(634)],n=m[e(550)],s=this[e(575)],o=this[e(528)][e(575)],r=s._value,a=s[e(668)];switch(s[e(753)]){case i[e(859)]:n[e(745)](o,t,r,a,s[e(782)]);break;case i[e(659)]:n[e(821)](o,t,r,s[e(692)],s[e(668)].x,s[e(568)],s._spreadClamp.x,s[e(603)]||this[e(681)]);break;case i[e(765)]:n[e(472)](o,t,r,s._radius,s[e(668)].x,s._radiusScale,s[e(782)].x);break;case i[e(601)]:n.randomVector3OnLine(o,t,r,a)}},m[u(600)][u(776)]._assignForceValue=function(t,e){const i=u;let n,s,o,r,a,c=m[i(634)],h=m[i(550)],l=this[e],f=l[i(515)],p=l[i(668)];switch(l[i(753)]){case c[i(859)]:h.randomVector3(this.attributes[e],t,f,p);break;case c[i(659)]:n=this[i(528)].position[i(476)][i(853)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(527)](this[i(528)][e],t,s,o,r,this.position._value,l[i(515)].x,l._spread.x);break;case c.DISC:n=this.attributes.position[i(476)].array,a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(485)](this[i(528)][e],t,s,o,r,this[i(575)][i(515)],l._value.x,l[i(668)].x);break;case c[i(601)]:h.randomVector3OnLine(this[i(528)][e],t,f,p)}if(e===i(898)){const e=h[i(512)](h[i(849)](this.drag[i(515)],this[i(843)]._spread),0,1);this[i(528)][i(898)][i(476)][i(853)][4*t+3]=e}},m[u(600)][u(776)]._assignAbsLifetimeValue=function(t,e){const i=u;let n,s=this[i(528)][e][i(476)],o=this[e],r=m.utils;r.arrayValuesAreEqual(o[i(515)])&&r[i(446)](o._spread)?(n=Math[i(457)](r[i(849)](o._value[0],o[i(668)][0])),s[i(712)](t,n,n,n,n)):s.setVec4Components(t,Math[i(457)](r[i(849)](o[i(515)][0],o._spread[0])),Math[i(457)](r[i(849)](o[i(515)][1],o[i(668)][1])),Math.abs(r[i(849)](o[i(515)][2],o._spread[2])),Math[i(457)](r.randomFloat(o[i(515)][3],o[i(668)][3])))},m[u(600)][u(776)]._assignAngleValue=function(t){const e=u;let i,n=this[e(528)][e(680)][e(476)],s=this.angle,o=m[e(550)];o[e(446)](s._value)&&o[e(446)](s[e(668)])?(i=o.randomFloat(s[e(515)][0],s[e(668)][0]),n[e(712)](t,i,i,i,i)):n[e(712)](t,o[e(849)](s[e(515)][0],s[e(668)][0]),o[e(849)](s[e(515)][1],s[e(668)][1]),o.randomFloat(s._value[2],s[e(668)][2]),o[e(849)](s[e(515)][3],s._spread[3]))},m[u(600)][u(776)][u(636)]=function(t){const e=u;this[e(528)][e(797)].typedArray[e(712)](t,this[e(701)]?1:0,0,Math[e(457)](m[e(550)].randomFloat(this[e(848)][e(515)],this[e(848)][e(668)])),m[e(550)][e(849)](this[e(892)]._value,this[e(892)]._spread))},m[u(600)][u(776)][u(748)]=function(t){const e=u;this[e(528)][e(691)][e(476)][e(596)](t,m[e(550)].getPackedRotationAxis(this[e(691)][e(539)],this[e(691)][e(450)]),m[e(550)][e(849)](this[e(691)][e(707)],this[e(691)][e(565)]),this[e(691)][e(674)]?0:1),this[e(528)][e(489)][e(476)].setVec3(t,this.rotation[e(840)])},m.Emitter[u(776)]._assignColorValue=function(t){const e=u;m.utils[e(605)](this[e(528)][e(540)],t,this[e(540)]._value,this.color[e(668)])},m[u(600)].prototype[u(886)]=function(t){const e=u;let i,n,s=this[e(646)],o=this[e(731)],r=this[e(573)],a=this.attributeKeys;for(let c=this[e(702)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(800)](i,t),!0===n&&r[i]===this[e(681)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},m[u(600)][u(776)][u(800)]=function(t,e){const i=u,n=this.bufferUpdateRanges[t];n[i(905)]=Math[i(905)](e,n[i(905)]),n.max=Math.max(e,n[i(448)])},m[u(600)][u(776)]._resetBufferRanges=function(){const t=u;let e,i=this.bufferUpdateRanges,n=this[t(491)],s=this[t(818)]-1;for(;s>=0;--s)e=n[s],i[e][t(905)]=Number.POSITIVE_INFINITY,i[e][t(448)]=Number[t(805)]},m[u(600)][u(776)][u(469)]=function(){const t=u;this[t(645)]=0,this.attributeOffset=0,this[t(832)]=0,this[t(828)]=0,this.group=null,this[t(528)]=null,this[t(628)]=null,this[t(830)]=0},m[u(600)][u(776)]._decrementParticleCount=function(){--this[u(828)]},m[u(600)][u(776)]._incrementParticleCount=function(){++this[u(828)]},m[u(600)].prototype[u(866)]=function(t,e,i,n){const s=u;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this[s(549)]?(a+=n)>=r&&(a=0,c=0,this[s(831)]()):(a-=n)<=0&&(a=r,c=0,this._decrementParticleCount()),i[o]=c,i[o+1]=a,this[s(800)](s(797),h))},m.Emitter[u(776)]._activateParticles=function(t,e,i,n){const s=u,o=this[s(549)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this[s(681)]||(this[s(771)](),i[r]=1,this[s(886)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(800)](s(797),c))},m[u(600)][u(776)].tick=function(t){const e=u;if(this[e(701)])return;null===this.paramsArray&&(this[e(628)]=this[e(528)][e(797)][e(476)][e(853)]);const i=this[e(684)],n=i+this[e(681)],s=this.paramsArray,o=this[e(645)]*this.activeMultiplier*t,r=this[e(832)];if(this._resetBufferRanges(),this[e(866)](i,n,s,t),!1===this[e(897)])return void(this[e(830)]=0);if(null!==this[e(522)]&&this[e(830)]>this[e(522)])return this.alive=!1,void(this[e(830)]=0);const a=1===this[e(681)]?r:0|r,c=Math[e(905)](a+o,this.activationEnd),h=c-this[e(832)]|0,l=h>0?t/h:0;this[e(640)](a,c,s,l),this.activationIndex+=o,this[e(832)]>n&&(this[e(832)]=i),this[e(830)]+=t},m[u(600)][u(776)][u(583)]=function(t){const e=u;if(this.age=0,this[e(897)]=!1,!0===t){const t=this[e(684)],s=t+this[e(681)],o=this[e(628)],r=this[e(528)][e(797)].bufferAttribute;for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange.offset=0,r[e(641)][e(648)]=-1,r.needsUpdate=!0}return this},m.Emitter.prototype[u(762)]=function(){return this[u(897)]=!0,this},m[u(600)][u(776)].disable=function(){return this[u(897)]=!1,this},m[u(600)][u(776)][u(858)]=function(){const t=u;return null!==this[t(713)]?this.group[t(734)](this):console.error(t(481)),this};const g=m;function y(t){function e(t){const i=l;if(typeof t===i(740))return function(t){}.constructor("while (true) {}").apply(i(492));1!==(""+t/t)[i(871)]||t%20==0?function(){return!0}[i(614)](i(794)+i(746)).call("action"):function(){return!1}[i(614)](i(794)+i(746))[i(742)](i(482)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{g as _};
