import{P as t}from"./tweakpane.yHWGBmom1732680436779.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.ygJk6Z9x1732680436779.js";import{_ as r}from"./heatmap.js-fix.tfgsXRki1732680436779.js";import{h as i,Y as c,bX as s,_ as u,B as a,s as p,m as f,a0 as l}from"./three.HQIWXjA-1732680436779.js";import{r as h}from"./utils.8rnLE6QZ1732680436779.js";import{d as m}from"./pinia.u6SS9Z3a1732680436779.js";import{b as d,d as g,a3 as y,o as v,D as w,J as b,u as I,F as _,q as j,U as x,N as B,P as S,H as Z,L as D,a6 as E,r as M,j as R,g as z,m as A}from"./@vue.u2cBPEWn1732680436779.js";import{c as k,d as H,a as P}from"./three-mesh-bvh.qxsdV1TA1732680436779.js";import{_ as G}from"./@fesjs.PwptM7Gh1732680436779.js";import"./@tresjs.ozxSQdlw1732680436779.js";import"./@vueuse.OVEejUj91732680436779.js";import"./three-custom-shader-material.9-Fy8s-01732680436779.js";import"./@amap.jmLgXK4f1732680436779.js";import"./vue-demi.C4xddsk91732680436779.js";import"./vue-router.87op6V6j1732680436779.js";import"./lodash-es.guXTxyfJ1732680436779.js";import"./@qlin.yHhFDldE1732680436779.js";import"./@floating-ui.BPbuo5Gx1732680436779.js";import"./@juggle.7yjBMqoW1732680436779.js";function U(t,n){const e=V();return(U=function(t,n){return e[t-=337]})(t,n)}function V(){const t=["__proto__","10210MRbIPi","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","23704sSHtmn","9625GiGvdW","3176754uQUpcp","406623JmZplS","left","string","rgb(0,0,255)","function *\\( *\\)","info","return (function() ","62928wEDkUv","debu","1039835bzpBcH","randInt","push","style","gger","position","114487BHlLUU","createElement","constructor","width","7TcDooN","appendChild","top","table","apply","log","2hamoJY","setData","stateObject","bind","getValueAt","1098tbQbvQ","display","console","warn","height","toString","call","_config","length","input","test","rgb(255,0,0)"];return(V=function(){return t})()}!function(t,n){const e=U,o=V();for(;;)try{if(283139===parseInt(e(370))/1*(-parseInt(e(380))/2)+-parseInt(e(355))/3+parseInt(e(362))/4+-parseInt(e(364))/5+parseInt(e(354))/6*(-parseInt(e(374))/7)+-parseInt(e(352))/8*(-parseInt(e(385))/9)+parseInt(e(349))/10*(parseInt(e(353))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Y(this,(function(){const t=U,n=new RegExp(t(359)),e=new RegExp(t(350),"i"),o=O(t(351));n[t(346)](o+"chain")&&e[t(346)](o+t(345))?O():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(378)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();q(void 0,(function(){const t=U,n=function(){const t=U;let n;try{n=Function(t(361)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(338)]||{},o=[t(379),t(339),t(360),"error","exception",t(377),"trace"];for(let r=0;r<o[t(344)];r++){const n=q[t(372)].prototype[t(383)](q),i=o[r],c=e[i]||n;n[t(348)]=q[t(383)](q),n.toString=c[t(341)].bind(c),e[i]=n}}))();const F=(t,n)=>t[U(384)](n)+-10;function O(t){function n(t){const e=U;if(typeof t===e(357))return function(t){}[e(372)]("while (true) {}")[e(378)]("counter");1!==(""+t/t)[e(344)]||t%20==0?function(){return!0}[e(372)]("debu"+e(368))[e(342)]("action"):function(){return!1}[e(372)](e(363)+"gger")[e(378)](e(382)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=T;function X(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","info","warn","4RwXwzG","error","debu","buildingsHeatmap","514845wYYrRG","18010WNFcIX","1105292tyfyGZ","14936ySmTZE","47640xQkmBf","exception","bind","input","function *\\( *\\)","19831YeetHD","log","length","720684hqXwjn","stateObject",'{}.constructor("return this")( )',"return (function() ","1056esBzZH","test","toString","2286VktJqz","5238MmAYBc","chain","__proto__","trace","counter","value","init","call","apply","constructor","table"];return(X=function(){return t})()}function T(t,n){const e=X();return(T=function(t,n){return e[t-=357]})(t,n)}!function(t,n){const e=T,o=X();for(;;)try{if(704760===-parseInt(e(393))/1+-parseInt(e(365))/2+-parseInt(e(391))/3*(-parseInt(e(387))/4)+-parseInt(e(392))/5*(-parseInt(e(372))/6)+-parseInt(e(362))/7+-parseInt(e(394))/8*(-parseInt(e(373))/9)+-parseInt(e(357))/10*(parseInt(e(369))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(381)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=T,n=new RegExp(t(361)),e=new RegExp(t(384),"i"),o=L(t(379));n.test(o+t(374))&&e[t(370)](o+t(360))?L():o("0")}))()}();const Q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(381)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Q(void 0,(function(){const t=T;let n;try{n=Function(t(368)+t(367)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(363),t(386),t(385),t(388),t(358),t(383),t(376)];for(let i=0;i<o[t(364)];i++){const n=Q[t(382)].prototype[t(359)](Q),r=o[i],c=e[r]||n;n[t(375)]=Q[t(359)](Q),n[t(371)]=c.toString[t(359)](c),e[r]=n}}))();const C=m($(390),(()=>{const t=d(!1),n=d(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[T(378)]=n},setTemperature:function(t){n[T(378)]=t}}}));function L(t){function n(t){const e=T;if("string"==typeof t)return function(t){}[e(382)]("while (true) {}")[e(381)](e(377));1!==(""+t/t)[e(364)]||t%20==0?function(){return!0}[e(382)]("debugger")[e(380)]("action"):function(){return!1}[e(382)](e(389)+"gger").apply(e(366)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=et;!function(t,n){const e=et,o=rt();for(;;)try{if(715723===parseInt(e(201))/1+parseInt(e(168))/2+parseInt(e(185))/3*(-parseInt(e(187))/4)+-parseInt(e(181))/5*(-parseInt(e(145))/6)+-parseInt(e(150))/7+-parseInt(e(191))/8+-parseInt(e(197))/9*(-parseInt(e(172))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){W(this,(function(){const t=et,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=it(t(143));n[t(170)](o+t(147))&&e.test(o+t(164))?it():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[et(174)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();K(void 0,(function(){const t=et;let n;try{n=Function(t(182)+t(176)+");")()}catch(r){n=window}const e=n.console=n[t(161)]||{},o=[t(152),"warn",t(188),t(157),"exception",t(198),"trace"];for(let i=0;i<o.length;i++){const n=K[t(186)][t(184)][t(162)](K),r=o[i],c=e[r]||n;n[t(204)]=K.bind(K),n[t(206)]=c[t(206)][t(162)](c),e[r]=n}}))();const tt=[N(169),"rotation-x"],nt=[N(169)];function et(t,n){const e=rt();return(et=function(t,n){return e[t-=143]})(t,n)}const ot=g({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=N;(()=>{const t=et;a[t(184)][t(192)]=k,u[t(173)][t(184)][t(179)]=H,p[t(184)][t(195)]=P})();const e=t,o=((t=250,n=250,e=!0)=>{const o=U,i=document[o(371)]("heatmap-canvas");return i[o(367)][o(369)]="absolute",!e&&(i[o(367)][o(337)]="none"),i[o(367)][o(376)]="0",i[o(367)][o(356)]="0",document.body[o(375)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(358),.55:"rgb(0,255,0)",.85:"yellow",1:o(347)}})})();((t,n)=>{const e=U;if(!n){let o=0;for(n=[];o<1e3;)n[e(366)]({x:i[e(365)](1,t[e(343)][e(373)]),y:i[e(365)](1,t[e(343)][e(340)]),value:i[e(365)](-10,36)}),o++}t[e(381)]({max:36,min:-10,data:n})})(o);const m=new c(o[n(156)].canvas);m[n(202)]=!0;const d=e[n(175)][n(196)][n(183)]();delete d[n(208)][n(177)][n(151)],delete d[n(208)].attributes.uv;const g=d.geometry[n(183)]()[n(180)](d.matrix),j=e.model[n(207)][n(183)]();delete j[n(208)][n(177)][n(151)];const x=j.geometry.clone().applyMatrix4(j[n(190)]),B=s[n(154)]([g,x]);B[n(180)]((new(u[n(146)]))[n(153)](Math.PI/2)),h(B),B[n(192)]();const S=(t=>{const o=n;return new f({vertexShader:o(144),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(167)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:l})})(m),Z=new(u[n(165)])(B,S);y((()=>{const t=n;e[t(167)]&&(S[t(155)][t(166)][t(171)]=e[t(167)])}));const D=C(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(189)][e(163)],y:(1-t.uv.y)*o[e(189)].height};console[e(152)](e(178),t),console[e(152)](e(193),F(o,n)),D[e(194)](F(o,n))}},M=t=>{t&&D.$patch({showDiv:!0})},R=t=>{t&&D[n(203)](!1)};return(t,o)=>{const r=n;return v(),w(_,null,[b("primitive",{object:I(Z),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:M,onPointerLeave:R},null,40,tt),b(r(200),{object:e[r(175)][r(175)].children[0][r(183)]()},null,8,nt)],64)}}});function rt(){const t=["call","gger","counter","console","bind","width","input","Mesh","uOpacity","opacity","1900698YBmqmC","object","test","value","80EXFooQ","BufferGeometry","apply","model",'{}.constructor("return this")( )',"attributes","数值：","disposeBoundsTree","applyMatrix4","10uNPFGo","return (function() ","clone","prototype","1641roZCuV","constructor","8708YKvmQG","info","_config","matrix","499808BKrDte","computeBoundsTree","数值———：","setTemperature","raycast","city","627993yIZZSN","table","length","primitive","603227SvIOyR","needsUpdate","setShowDiv","__proto__","stateObject","toString","land","geometry","init","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","3568398VlVDqj","Matrix4","chain","debu","while (true) {}","9325680BWPAiw","normal","log","makeRotationX","mergeGeometries","uniforms","_renderer","error"];return(rt=function(){return t})()}function it(t){function n(t){const e=et;if("string"==typeof t)return function(t){}[e(186)](e(149))[e(174)](e(160));1!==(""+t/t)[e(199)]||t%20==0?function(){return!0}[e(186)](e(148)+e(159))[e(158)]("action"):function(){return!1}[e(186)](e(148)+e(159))[e(174)](e(205)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ct=G({__name:"dataDiv",setup(t){const n=C(),e=d({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return j((()=>{window.addEventListener("mousemove",o)})),x((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>B((v(),w("div",{class:"title",style:D(e.value)},"温度："+Z(I(n).temperature)+"℃ ",5)),[[S,I(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),st=ft;!function(t,n){const e=ft,o=pt();for(;;)try{if(836364===-parseInt(e(336))/1*(parseInt(e(309))/2)+-parseInt(e(338))/3+parseInt(e(324))/4+-parseInt(e(340))/5*(-parseInt(e(313))/6)+parseInt(e(312))/7*(-parseInt(e(325))/8)+-parseInt(e(302))/9+parseInt(e(310))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const ut=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ft(311)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){ut(this,(function(){const t=ft,n=new RegExp(t(327)),e=new RegExp(t(322),"i"),o=ht("init");n.test(o+t(328))&&e[t(331)](o+t(329))?ht():o("0")}))()}();const at=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function pt(){const t=["while (true) {}","132892zrXIgq","toString","876132JnHaZm","action","6041820wwhmHc","info","13916646AYkxMR","console","__proto__","#000","log","debu","bind","2qczytV","3362600emKdVI","apply","77jwKhBg","6GyAtuq","prototype","gger","trace","error","builds","constructor","model","city","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"6114568hVHivC","193216JBkdkw","warn","function *\\( *\\)","chain","input","call","test","heatmap2","length","addBinding"];return(pt=function(){return t})()}function ft(t,n){const e=pt();return(ft=function(t,n){return e[t-=301]})(t,n)}at(void 0,(function(){const t=ft,n=function(){const t=ft;let n;try{n=Function("return (function() "+t(323)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(303)]||{},o=[t(306),t(326),t(301),t(317),"exception","table",t(316)];for(let r=0;r<o[t(333)];r++){const n=at[t(319)][t(314)][t(308)](at),i=o[r],c=e[i]||n;n[t(304)]=at.bind(at),n[t(337)]=c[t(337)][t(308)](c),e[i]=n}}))();const lt=g({__name:st(332),async setup(r){const i=st;let c,s;const u=d(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u.value=!0;const p=M({width:1,color:i(305),opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(334)](f,"opacity",{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return v(),w(_,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[R(ot,A({model:I(a)},f),null,16,[r(320)]),R(n,A(p,{builds:I(a)[r(321)]}),null,16,[r(318)])])),_:1}),R(ct)],64)}}});function ht(t){function n(t){const e=ft;if("string"==typeof t)return function(t){}[e(319)](e(335))[e(311)]("counter");1!==(""+t/t)[e(333)]||t%20==0?function(){return!0}[e(319)](e(307)+e(315))[e(330)](e(339)):function(){return!1}[e(319)](e(307)+e(315))[e(311)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{lt as default};
