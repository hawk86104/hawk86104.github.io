import{P as t}from"./tweakpane.yDiyAAkA1738810638719.js";import{a as n,b as e,l as r}from"./pagesShow.vue_vue_type_script_setup_true_lang.Y1YyTabW1738810638719.js";import{_ as o}from"./heatmap.js-fix.S5cb3XA51738810638719.js";import{a as i,_ as c,c2 as s,r as u,a0 as a}from"./three.6w8Allze1738810638719.js";import{r as p}from"./utils.6QzdQGGp1738810638719.js";import{d as f}from"./pinia.a31yeUkM1738810638719.js";import{b as l,d,a2 as h,o as m,H as g,N as y,u as v,F as b,q as I,W as w,P as _,R as x,L as j,O as R,a3 as M,r as S,j as O,g as z,m as D}from"./@vue.NRI7TcgI1738810638719.js";import{c as P,d as T,a as E}from"./three-mesh-bvh.wW9dzxva1738810638719.js";import{_ as G}from"./@fesjs.5sDv5KaN1738810638719.js";import"./@tresjs.8axf5yqM1738810638719.js";import"./@vueuse.hJpps2zM1738810638719.js";import"./three-custom-shader-material.srZQa-4o1738810638719.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1738810638719.js";import"./@amap.OmDF_WNh1738810638719.js";import"./vue-router.bGXYs4Br1738810638719.js";import"./lodash-es.pklfUAS51738810638719.js";import"./@qlin.yHhFDldE1738810638719.js";import"./@floating-ui.BPbuo5Gx1738810638719.js";import"./@juggle.7yjBMqoW1738810638719.js";!function(t,n){const e=L,r=k();for(;;)try{if(606023===-parseInt(e(161))/1*(-parseInt(e(204))/2)+-parseInt(e(176))/3*(-parseInt(e(170))/4)+-parseInt(e(197))/5+-parseInt(e(179))/6*(parseInt(e(166))/7)+parseInt(e(206))/8*(-parseInt(e(196))/9)+-parseInt(e(191))/10+parseInt(e(160))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=Q(t(199));n[t(211)](r+t(202))&&e[t(211)](r+"input")?Q():r("0")}))()}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(173)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function k(){const t=["string","info","_config","table","trace","console","counter","heatmap-canvas","5899060ufwDnX","__proto__","while (true) {}","bind",'{}.constructor("return this")( )',"368298ladzlN","2046690yRssdG","action","init","rgb(255,0,0)","length","chain","push","28838qWJFdX","gger","104tcWOxF","debu","randInt","toString","width","test","rgb(0,0,255)","25615414WQeRgu","53VFcjdz","log","return (function() ","setData","position","3405850oQQKob","createElement","create","prototype","156DhXOfG","constructor","height","apply","getValueAt","call","1344GuaeDz","rgb(0,255,0)","style","12byfbNd","body","error","stateObject"];return(k=function(){return t})()}A(void 0,(function(){const t=L;let n;try{n=Function(t(163)+t(195)+");")()}catch(o){n=window}const e=n[t(188)]=n[t(188)]||{},r=[t(162),"warn",t(184),t(181),"exception",t(186),t(187)];for(let i=0;i<r[t(201)];i++){const n=A[t(171)][t(169)].bind(A),o=r[i],c=e[o]||n;n[t(192)]=A[t(194)](A),n.toString=c[t(209)][t(194)](c),e[o]=n}}))();const F=(t,n)=>t[L(174)](n)+-10;function L(t,n){const e=k();return(L=function(t,n){return e[t-=159]})(t,n)}function Q(t){function n(t){const e=L;if(typeof t===e(183))return function(t){}[e(171)](e(193)).apply(e(189));1!==(""+t/t)[e(201)]||t%20==0?function(){return!0}[e(171)](e(207)+e(205))[e(175)](e(198)):function(){return!1}[e(171)]("debugger")[e(173)](e(182)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=W,r=N();for(;;)try{if(395810===-parseInt(e(338))/1*(parseInt(e(312))/2)+-parseInt(e(332))/3*(parseInt(e(337))/4)+-parseInt(e(317))/5+parseInt(e(351))/6+-parseInt(e(336))/7*(parseInt(e(334))/8)+-parseInt(e(330))/9+parseInt(e(335))/10*(parseInt(e(318))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(339)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function N(){const t=["string","debu","3431795SiMHZI","945318tMlIQx","gger","log","console","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","error","constructor","info","stateObject","function *\\( *\\)","4778730eKyeRt","prototype","3akhPgL","call","24RUWGMd","240YtIRuz","509124SimGVW","686332eVrVBT","670991hdLTuw","apply","value","test","return (function() ","init",'{}.constructor("return this")( )',"while (true) {}","table","bind","action","input","warn","3668382DPPedg","2NQZOIB","exception","counter"];return(N=function(){return t})()}!function(){B(this,(function(){const t=W,n=new RegExp(t(329)),e=new RegExp(t(323),"i"),r=q(t(343));n.test(r+"chain")&&e[t(341)](r+t(349))?q():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=N();return(W=function(t,n){return e[t-=312]})(t,n)}V(void 0,(function(){const t=W;let n;try{n=Function(t(342)+t(344)+");")()}catch(o){n=window}const e=n[t(321)]=n[t(321)]||{},r=[t(320),t(350),t(327),t(325),t(313),t(346),t(324)];for(let i=0;i<r.length;i++){const n=V[t(326)][t(331)][t(347)](V),o=r[i],c=e[o]||n;n.__proto__=V.bind(V),n[t(322)]=c[t(322)][t(347)](c),e[o]=n}}))();const $=f("buildingsHeatmap",(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[W(340)]=t}}}));function q(t){function n(t){const e=W;if(typeof t===e(315))return function(t){}[e(326)](e(345))[e(339)](e(314));1!==(""+t/t).length||t%20==0?function(){return!0}[e(326)](e(316)+e(319))[e(333)](e(348)):function(){return!1}.constructor("debu"+e(319)).apply(e(328)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=H;function H(t,n){const e=X();return(H=function(t,n){return e[t-=127]})(t,n)}!function(t,n){const e=H,r=X();for(;;)try{if(241974===-parseInt(e(130))/1*(parseInt(e(140))/2)+-parseInt(e(153))/3*(-parseInt(e(135))/4)+-parseInt(e(164))/5*(parseInt(e(141))/6)+-parseInt(e(190))/7+parseInt(e(186))/8*(parseInt(e(147))/9)+parseInt(e(133))/10*(parseInt(e(195))/11)+parseInt(e(134))/12*(parseInt(e(166))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=H,n=new RegExp(t(129)),e=new RegExp(t(138),"i"),r=nt(t(149));n[t(139)](r+t(132))&&e[t(139)](r+t(193))?nt():r("0")}))()}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(192)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function X(){const t=["ShaderMaterial","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","call","Matrix4","height","object","raycast","55uWcCps","bind","104ncqGVy","length","gger","Mesh","setTemperature","clone",'{}.constructor("return this")( )',"canvas","makeRotationX","geometry","normal","Texture","toString","trace","children","matrix","mergeGeometries","rotation-x","value","stateObject","657168lAKYiY","uOpacity","数值：","buildingsHeatmap","1439767nyfymD","computeBoundsTree","apply","input","exception","1903qeOXjx","table","opacity","info","land","log","error","_config","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","_renderer","applyMatrix4","function *\\( *\\)","3BHPsTy","attributes","chain","6980ViCwGf","741876CCuNld","9348dRQQHr","action","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","97972GSvNit","123672OMmxfY","BufferGeometry","console","disposeBoundsTree","counter","width","9UaTyQG","string","init","prototype","model","needsUpdate","159hkgxOk","constructor","$patch","warn"];return(X=function(){return t})()}Y(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function("return (function() "+t(172)+");")()}catch(e){n=window}return n}(),e=n[t(143)]=n.console||{},r=[t(200),t(156),t(198),t(201),t(194),t(196),t(179)];for(let o=0;o<r[t(167)];o++){const n=Y[t(154)][t(150)][t(165)](Y),i=r[o],c=e[i]||n;n.__proto__=Y[t(165)](Y),n[t(178)]=c[t(178)][t(165)](c),e[i]=n}}))();const K=[C(162),C(183)],J=[C(162)],tt=d({__name:C(189),props:{model:{},opacity:{default:1}},setup(t){const n=C;(()=>{const t=H;c[t(142)][t(150)].computeBoundsTree=P,c[t(142)][t(150)][t(144)]=T,u[t(150)][t(163)]=E})();const e=t,r=((t=250,n=250,e=!0)=>{const r=L,i=document[r(167)](r(190));return i[r(178)][r(165)]="absolute",!e&&(i[r(178)].display="none"),i.style.top="0",i[r(178)].left="0",document[r(180)].appendChild(i),o[r(168)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:r(159),.55:r(177),.85:"yellow",1:r(200)}})})();((t,n)=>{const e=L;if(!n){let r=0;for(n=[];r<1e3;)n[e(203)]({x:i.randInt(1,t[e(185)][e(210)]),y:i[e(208)](1,t[e(185)][e(172)]),value:i[e(208)](-10,36)}),r++}t[e(164)]({max:36,min:-10,data:n})})(r);const f=new(c[n(177)])(r[n(127)][n(173)]);f[n(152)]=!0;const l=e[n(151)].city[n(171)]();delete l[n(175)][n(131)][n(176)],delete l[n(175)][n(131)].uv;const d=l[n(175)][n(171)]()[n(128)](l.matrix),I=e[n(151)][n(199)].clone();delete I[n(175)][n(131)][n(176)];const w=I[n(175)].clone()[n(128)](I[n(181)]),_=s[n(182)]([d,w]);_[n(128)]((new(c[n(160)]))[n(174)](Math.PI/2)),p(_),_[n(191)]();const x=(t=>{const r=n;return new(c[r(157)])({vertexShader:r(158),fragmentShader:r(203),uniforms:{uOpacity:{value:e.opacity},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),j=new(c[n(169)])(_,x);h((()=>{const t=n;e[t(197)]&&(x.uniforms[t(187)][t(184)]=e[t(197)])}));const R=$(),M=t=>{const e=n;if(t){const n={x:t.uv.x*r[e(202)][e(146)],y:(1-t.uv.y)*r[e(202)][e(161)]};console[e(200)](e(188),t),console[e(200)]("数值———：",F(r,n)),R[e(170)](F(r,n))}},S=t=>{t&&R[n(155)]({showDiv:!0})},O=t=>{t&&R.setShowDiv(!1)};return(t,r)=>{const o=n;return m(),g(b,null,[y("primitive",{object:v(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:S,onPointerLeave:O},null,40,K),y("primitive",{object:e[o(151)][o(151)][o(180)][0][o(171)]()},null,8,J)],64)}}});function nt(t){function n(t){const e=H;if(typeof t===e(148))return function(t){}.constructor("while (true) {}")[e(192)](e(145));1!==(""+t/t)[e(167)]||t%20==0?function(){return!0}[e(154)](e(137)+"gger")[e(159)](e(136)):function(){return!1}.constructor("debu"+e(168))[e(192)](e(185)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=G({__name:"dataDiv",setup(t){const n=$(),e=l({top:0,left:0});function r(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",r)})),w((()=>{window.removeEventListener("mousemove",r)})),(t,r)=>_((m(),g("div",{class:"title",style:R(e.value)},"温度："+j(v(n).temperature)+"℃ ",5)),[[x,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=ct,r=ot();for(;;)try{if(466204===-parseInt(e(308))/1+parseInt(e(324))/2+-parseInt(e(330))/3*(parseInt(e(326))/4)+parseInt(e(325))/5+parseInt(e(319))/6*(-parseInt(e(329))/7)+parseInt(e(296))/8+-parseInt(e(299))/9*(-parseInt(e(298))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const rt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[ct(306)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ot(){const t=["透明度","debu","apply","length","778243NLrcOF","stateObject","table","action","exception","info","toString","test","bind","error","prototype","6sebeqn","value","chain","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","38758YLkmRy","2114235SxwHgx","73448izvSeL","trace","init","3204166PzGAQr","54QDrTqN","console","#000","call","model","__proto__","gger",'{}.constructor("return this")( )',"builds","function *\\( *\\)","opacity","5523096CqRtaN","return (function() ","2250220MZHtZb","36WbczLY","input","city","warn","counter"];return(ot=function(){return t})()}!function(){rt(this,(function(){const t=ct,n=new RegExp(t(294)),e=new RegExp(t(323),"i"),r=ut(t(328));n.test(r+t(321))&&e[t(315)](r+t(300))?ut():r("0")}))()}();const it=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ct(t,n){const e=ot();return(ct=function(t,n){return e[t-=292]})(t,n)}it(void 0,(function(){const t=ct,n=function(){const t=ct;let n;try{n=Function(t(297)+t(292)+");")()}catch(e){n=window}return n}(),e=n[t(331)]=n[t(331)]||{},r=["log",t(302),t(313),t(317),t(312),t(310),t(327)];for(let o=0;o<r[t(307)];o++){const n=it[t(322)][t(318)][t(316)](it),i=r[o],c=e[i]||n;n[t(335)]=it.bind(it),n[t(314)]=c[t(314)][t(316)](c),e[i]=n}}))();const st=d({__name:"heatmap2",async setup(o){const i=ct;let c,s;const u=l(!1),a=([c,s]=M((()=>r())),c=await c,s(),c);u[i(320)]=!0;const p=S({width:1,color:i(332),opacity:1,show:!0}),f=S({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(f,i(295),{label:i(304),min:0,max:1,step:.1}),(t,r)=>{const o=i;return m(),g(b,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:z((()=>[O(tt,D({model:v(a)},f),null,16,[o(334)]),O(n,D(p,{builds:v(a)[o(301)]}),null,16,[o(293)])])),_:1}),O(et)],64)}}});function ut(t){function n(t){const e=ct;if("string"==typeof t)return function(t){}[e(322)]("while (true) {}")[e(306)](e(303));1!==(""+t/t)[e(307)]||t%20==0?function(){return!0}[e(322)](e(305)+e(336))[e(333)](e(311)):function(){return!1}[e(322)](e(305)+e(336))[e(306)](e(309)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{st as default};
