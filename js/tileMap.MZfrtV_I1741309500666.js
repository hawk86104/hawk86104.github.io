import{_ as t,cM as n,b as e}from"./three.8tDGqmLF1741309500666.js";import{P as o}from"./tweakpane.yDiyAAkA1741309500666.js";import{m as r,e as s}from"./@tresjs.yaBKiR-I1741309500666.js";import{P as i,b as a,c,M as u,T as p,a as l,d as m}from"./index.cneaZ_BU1741309500666.js";import{d as f,a2 as d,w as g,o as h,H as j,u as w,v as b,r as x,e as v,j as y,g as I,f as M,al as _,m as C,F as z}from"./@vue.NRI7TcgI1741309500666.js";import{_ as B}from"./raycasterEvent.BVnhE9pp1741309500666.js";import{a as S}from"./utils.-wUxafv31741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";import"./@mapbox.lMdYodhq1741309500666.js";import"./three-mesh-bvh.gdrUeCX71741309500666.js";import"./three-custom-shader-material.VwrDYuIS1741309500666.js";import"./@fesjs.x4z0tZxE1741309500666.js";import"./vue-router.vxk1Hu8C1741309500666.js";import"./lodash-es.pklfUAS51741309500666.js";import"./@qlin.yHhFDldE1741309500666.js";import"./pinia.f1wUCX_f1741309500666.js";import"./@floating-ui.BPbuo5Gx1741309500666.js";import"./@juggle.7yjBMqoW1741309500666.js";import"./@tweenjs.03TsBd2S1741309500666.js";import"./utils.cLV941yt1741309500666.js";import"./http.vIPCZAFV1741309500666.js";import"./axios.qd3pZFDv1741309500666.js";import"./color.OYvvMtAs1741309500666.js";import"./@amap.dm2alPWO1741309500666.js";import"./color-string.yge3I4741741309500666.js";import"./color-name.0KKXcovp1741309500666.js";import"./simple-swizzle.5kQq5mRp1741309500666.js";import"./is-arrayish.IOohe-Z_1741309500666.js";import"./color-convert.ojiJxRVw1741309500666.js";import"./lodash.vAVI4T0C1741309500666.js";import"./naive-ui.-iVHd2bE1741309500666.js";import"./date-fns.nmuTTsCK1741309500666.js";import"./@css-render._ZH8V9zb1741309500666.js";import"./seemly.vIsyOXn81741309500666.js";import"./css-render._BZ1l5cg1741309500666.js";import"./@emotion.ZD_ZYAgY1741309500666.js";import"./vooks.ES4U1LSp1741309500666.js";import"./evtd.DtfwxtIl1741309500666.js";import"./vueuc.8pr7_8r91741309500666.js";import"./vdirs.N3WcTQYV1741309500666.js";import"./treemate.dcEdf2le1741309500666.js";import"./date-fns-tz.HeaRe84o1741309500666.js";import"./async-validator.-YBkpS4I1741309500666.js";import"./d3-geo.jKo3-YIi1741309500666.js";import"./d3-array.E5C1cfJ61741309500666.js";const k=R;function R(t,n){const e=Z();return(R=function(t,n){return e[t-=416]})(t,n)}function Z(){const t=["7753720FdZJnM","init","genBright","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","opposite","gger","table","constructor","far","stateObject","info","showTileNo","monochrome","target","while (true) {}","input","maxZoom","trace","error","innerWidth","set","filter","camera","domElement","30NjlBRo","toString","flatShading","dampingFactor","log","isMonochrome","prototype","bind","genContrast","position","4746xXMXhM","source","debu","updateProjectionMatrix","coordType","lookAt","2400004VEnhGc","tileMapMesh","genSaturation","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2110pjLeWr","provider","counter","warn","showBoundingBox","54tBCrht",'{}.constructor("return this")( )',"1345337VuJnUN","value","useWorker","mapCenter","#fff","exception","test","512379lIXQux","action","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","enableDamping","wireframe","543376iDaNVr","primitive","74716HczDQI","return (function() ","console","update","string","Color","PerspectiveCamera","Vector3","apply"];return(Z=function(){return t})()}!function(t,n){const e=R,o=Z();for(;;)try{if(370953===-parseInt(e(437))/1+-parseInt(e(444))/2*(parseInt(e(477))/3)+parseInt(e(418))/4+-parseInt(e(423))/5*(parseInt(e(487))/6)+-parseInt(e(430))/7+parseInt(e(442))/8*(parseInt(e(428))/9)+parseInt(e(453))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(422),"i"),o=P(t(454));n[t(436)](o+"chain")&&e[t(436)](o+t(468))?P():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(452)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=R;let n;try{n=Function(t(445)+t(429)+");")()}catch(r){n=window}const e=n[t(446)]=n[t(446)]||{},o=[t(481),t(426),t(463),t(471),t(435),t(459),t(470)];for(let s=0;s<o.length;s++){const n=A[t(460)][t(483)][t(484)](A),r=o[s],i=e[r]||n;n.__proto__=A.bind(A),n[t(478)]=i[t(478)][t(484)](i),e[r]=n}}))();const E=["object","rotation"],F=f({__name:k(419),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(434)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const m=k,f=e,{renderer:b,scene:x}=r();(new i).coordType=a;const v=new c;v[m(488)]=m(439),v[m(416)]=a;const y=new u;y.source=m(456),y[m(464)]=!1,y[m(432)]=!0;const I=new p(v,y);if(I[m(427)]=!1,I[m(441)]=!1,I[m(479)]=!1,I.useStandardMaterial=!1,I[m(474)]={opposite:f[m(457)],monochrome:f.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:f[m(455)],genContrast:f.genContrast,genSaturation:f[m(420)]},f[m(465)]){let n=new(t[m(449)])(f[m(465)]);I[m(474)]&&(I[m(474)].monochrome={r:n.r,g:n.g,b:n.b})}const M=new l;M[m(424)]=I,M.bbox=f.bbox,M.maxZoom=f[m(469)];const _=new(t[m(450)])(60,window[m(472)]/window.innerHeight,1,1e8);_.up=new(t[m(451)])(0,1,0),_[m(486)].set(f[m(433)][0],f.mapCenter[2],-f[m(433)][1]),_[m(417)](new(t[m(451)])(_[m(486)].x,0,_[m(486)].z-2e3)),M[m(475)]=_;let C=null;d((()=>{const t=m;b.value&&!C&&(C=new n(_,b.value[t(476)]),C[t(440)]=!0,C[t(480)]=.05,C.minDistance=600,C.position0[t(473)](_.position.x,_[t(486)].y,_.position.z),C[t(466)][t(473)](_.position.x,0,_[t(486)].z-2e3))})),g((()=>[f[m(457)],f[m(482)],f[m(465)]]),(([n,e,o])=>{const r=m;if(I[r(474)]){let s=new(t[r(449)])(o);I.filter.opposite=n,I[r(474)].monochrome=e?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[f[m(455)],f.genContrast,f[m(420)]]),(([t,n,e])=>{const o=m;I.filter&&(I[o(474)][o(455)]=t,I[o(474)][o(485)]=n,I[o(474)].genSaturation=e)}));const{onLoop:z}=s();return z((()=>{var t;const n=m;if(b[n(431)]){null==(t=f.tweenInstance)||t.update(),C&&C[n(447)](),M[n(447)]();const e=50*Math.abs(_.position.y);_[n(461)]=e+5e3,_[n(490)](),b[n(431)].render(x.value,_)}})),o({camera:_,map:M,orbitControl:C}),(t,n)=>{const e=m;return h(),j(e(443),{object:w(M),rotation:[-Math.PI/2,0,0]},null,8,E)}}});function P(t){function n(t){const e=R;if(typeof t===e(448))return function(t){}[e(460)](e(467)).apply(e(425));1!==(""+t/t).length||t%20==0?function(){return!0}[e(460)](e(489)+e(458))[e(421)](e(438)):function(){return!1}.constructor(e(489)+"gger")[e(452)](e(462)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=J,o=D();for(;;)try{if(848231===-parseInt(e(409))/1*(-parseInt(e(425))/2)+parseInt(e(449))/3*(-parseInt(e(424))/4)+-parseInt(e(440))/5*(-parseInt(e(451))/6)+-parseInt(e(423))/7+-parseInt(e(438))/8*(-parseInt(e(444))/9)+-parseInt(e(434))/10*(-parseInt(e(414))/11)+-parseInt(e(448))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["input","2397856UwThlW","tileMapRef","153520fPjMVF","tweenInstance","牛首山","camera","36ADjTQP","length","__proto__","TresCanvas","21346056ZcYIFc","27IOwbpi","genContrast","168qxCAwh","tileMapMeshRef","toString","constructor","orbitControl","function *\\( *\\)","debu","新街口","trace","console","SRGBColorSpace","#4688b5","change","stateObject","value","NoToneMapping","test","1401881FqKCVf","list","exception","Vector3","genSaturation","913396sgvfdJ",'{}.constructor("return this")( )',"prototype","apply","counter","bind","while (true) {}","addBinding","init","2291443qOmqJX","446364loaapP","2RUYnZK","opposite","xjk","chain","error","log","string","对比度","call","60cKLYKG","isMonochrome","gger"];return(D=function(){return t})()}!function(){V(this,(function(){const t=J,n=new RegExp(t(456)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=N(t(422));n[t(408)](o+t(428))&&e[t(408)](o+t(437))?N():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[J(417)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(t,n){const e=D();return(J=function(t,n){return e[t-=399]})(t,n)}q(void 0,(function(){const t=J;let n;try{n=Function("return (function() "+t(415)+");")()}catch(r){n=window}const e=n[t(401)]=n[t(401)]||{},o=[t(430),"warn","info",t(429),t(411),"table",t(400)];for(let s=0;s<o[t(445)];s++){const n=q[t(454)][t(416)].bind(q),r=o[s],i=e[r]||n;n[t(446)]=q[t(419)](q),n.toString=i[t(453)][t(419)](i),e[r]=n}}))();const L=f({__name:"tileMap",setup(n){const r=J,s=m(118.779958,32.017136),i=[s[0],s[1],5e3],a=b(),c=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:r(403),mapCenter:i,tweenInstance:null}),u=new o({title:"参数"});u.addBinding(c,r(426),{label:"反色"}),u.addBinding(c,"genBright",{label:"高亮",min:.1,max:3,step:.1}),u[r(421)](c,r(450),{label:r(432),min:.1,max:3,step:.1}),u[r(421)](c,r(413),{label:"饱和度",min:.1,max:3,step:.1}),u[r(421)](c,r(435),{label:"单色滤镜"}),u[r(421)](c,"monochrome",{label:"滤镜颜色"});const p={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};u.addBlade({view:r(410),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:r(399),value:r(427)},{text:r(442),value:"nss"}],value:"at"}).on(r(404),(t=>{const n=r,o=new e(p[t.value][0],2e3,-p[t.value][1]);c[n(441)]=S(a.value[n(443)],o,a[n(406)][n(455)],[0,-300],4e3)}));const l=x({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:"manual",outputColorSpace:t[r(402)],toneMapping:t[r(407)]});return setTimeout((()=>{const n=r,e=p.at,o=new(t[n(412)])(e[0],1600,-e[1]);c[n(441)]=S(a[n(406)][n(443)],o,a[n(406)][n(455)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=r,o=v(e(447));return h(),j(z,null,[y(o,C(l,{"window-size":""}),{default:I((()=>[(h(),M(_,null,{default:I((()=>[y(F,C(c,{ref_key:e(452),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),y(B,{tileMapRef:a[e(406)]},null,8,[e(439)])],64)}}});function N(t){function n(t){const e=J;if(typeof t===e(431))return function(t){}[e(454)](e(420))[e(417)](e(418));1!==(""+t/t)[e(445)]||t%20==0?function(){return!0}[e(454)](e(457)+e(436))[e(433)]("action"):function(){return!1}[e(454)](e(457)+"gger")[e(417)](e(405)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{L as default};
