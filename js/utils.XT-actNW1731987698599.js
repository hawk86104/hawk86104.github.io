import{a as t,B as n,s as e,b$ as o,C as r,k as s,a0 as i}from"./three.3RwiW87x1731987698599.js";import{w as a}from"./@fesjs.6cRBmkVw1731987698599.js";import{b as c}from"./@tresjs.juy9qkLz1731987698599.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.L_h1M-WP1731987698599.js";!function(t,n){const e=m,o=x();for(;;)try{if(977958===-parseInt(e(394))/1*(parseInt(e(448))/2)+parseInt(e(432))/3+parseInt(e(446))/4*(parseInt(e(390))/5)+-parseInt(e(417))/6+-parseInt(e(444))/7*(-parseInt(e(380))/8)+parseInt(e(387))/9*(-parseInt(e(408))/10)+parseInt(e(441))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(376)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=m,n=new RegExp(t(410)),e=new RegExp(t(431),"i"),o=_(t(425));n[t(434)](o+"chain")&&e[t(434)](o+"input")?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=x();return(m=function(t,n){return e[t-=372]})(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function(t(435)+t(378)+");")()}catch(e){n=window}return n}(),e=n[t(424)]=n[t(424)]||{},o=[t(428),"warn",t(409),t(386),t(395),t(375),"trace"];for(let r=0;r<o.length;r++){const n=g[t(440)][t(447)][t(383)](g),s=o[r],i=e[s]||n;n[t(385)]=g.bind(g),n.toString=i.toString[t(383)](i),e[s]=n}}))();const h=(n,e=!1)=>{const o=m;n[o(404)]();const{max:r,min:s}=n.boundingBox;n[o(392)]("uv");const i=r.x-s.x,a=r.y-s.y,c=[];for(let t=0;t<n[o(382)].position[o(426)];t++)e?(c[o(372)]((n[o(382)][o(407)].getX(t)-(s.x+r.x)/2)/i),c[o(372)]((n.attributes[o(407)].getY(t)-(s.y+r.y)/2)/a)):(c[o(372)]((n[o(382)].position[o(400)](t)-s.x)/i),c.push((n.attributes[o(407)][o(397)](t)-s.y)/a));const u=new Float32Array(c);n[o(429)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=m;a(t,{},{method:r(423),mergeRequest:!0})[r(416)]((t=>{n&&e(t[n]),e(t.features)})).catch((t=>{console[r(386)](t),o(t)}))})),w=t=>{const n=m,e=(new(THREE[n(436)]))[n(422)](t),o=new(THREE[n(445)]);e.getCenter(o),t.children.forEach((t=>{t[n(407)].sub(o)})),t.position.copy(o.negate())},y=()=>{const t=m;n[t(447)][t(412)]=u,n[t(447)].disposeBoundsTree=p,e.prototype.raycast=f},b=async t=>{const n=m,e=await c(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),a=t[n(396)][n(418)]();h(a),a.computeBoundsTree();const u=new o(a,{color:new r(n(437)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(419)][n(438)]=!0,u.material[n(391)]=!0,u[n(419)][n(443)]=!0,u.material[n(399)]=i,u[n(419)][n(420)][n(377)].value.w=20,u[n(419)][n(420)][n(398)][n(401)]=.46,u};function x(){const t=["116dIaTOt","prototype","354434BQuOSv","push","getSize","string","table","apply","config",'{}.constructor("return this")( )',"sub","96UEWyFK","length","attributes","bind","center","__proto__","error","54EiEglF","while (true) {}","random","227775fNDOqT","depthWrite","deleteAttribute","set","7tksIoU","exception","geometry","getY","reflectivity","side","getX","value","stateObject","boundingBox","computeBoundingBox","setY","add","position","2003710oIRfdv","info","function *\\( *\\)","applyMatrix4","computeBoundsTree","getCenter","gger","negate","then","5875170sCUtDe","clone","material","uniforms","debu","setFromObject","get","console","init","count","copy","log","setAttribute","divideScalar","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4201950RXNXBK","min","test","return (function() ","Box3","#fff","transparent","call","constructor","7120487Ullvjq","max","depthTest","601321UQwaZS","Vector3"];return(x=function(){return t})()}function I(t){const n=m,e=[];for(let r=0;r<t[n(381)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(381)];r++)o[n(406)](e[r]);o[n(430)](e.length);for(let r=0;r<e[n(381)];r++)e[r][n(379)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=m;if(typeof t===e(374))return function(t){}[e(440)](e(388))[e(376)]("counter");1!==(""+t/t)[e(381)]||t%20==0?function(){return!0}[e(440)](e(421)+e(414))[e(439)]("action"):function(){return!1}[e(440)](e(421)+e(414))[e(376)](e(402)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,I as g,y as i,d as l,h as r,b as s};
