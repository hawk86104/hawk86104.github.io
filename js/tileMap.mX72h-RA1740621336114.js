import{_ as t,cJ as n,ak as e}from"./three.sXv6UbbL1740621336114.js";import{P as o}from"./tweakpane.yDiyAAkA1740621336114.js";import{m as r,e as s}from"./@tresjs.Td0X-dew1740621336114.js";import{P as i,b as a,c,M as u,T as p,a as l,d as f}from"./index.AmODLUhy1740621336114.js";import{d as m,a2 as d,w as g,o as h,H as w,u as j,v as b,r as x,e as y,j as v,g as I,f as M,al as _,m as C,F as z}from"./@vue.NRI7TcgI1740621336114.js";import{_ as B}from"./raycasterEvent.L3k7O_vv1740621336114.js";import{a as S}from"./utils.dEqXB-AT1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";import"./@mapbox.lMdYodhq1740621336114.js";import"./three-mesh-bvh.C_z0wpFH1740621336114.js";import"./three-custom-shader-material.zFJQzgaY1740621336114.js";import"./@fesjs.LqZjJP5K1740621336114.js";import"./vue-router.42s9Lhcm1740621336114.js";import"./lodash-es.pklfUAS51740621336114.js";import"./@qlin.yHhFDldE1740621336114.js";import"./pinia.va49Nygd1740621336114.js";import"./@floating-ui.BPbuo5Gx1740621336114.js";import"./@juggle.7yjBMqoW1740621336114.js";import"./@tweenjs.zdhk2VeU1740621336114.js";import"./utils.HPQMEn2J1740621336114.js";import"./d3-geo.bawx3j7v1740621336114.js";import"./d3-array.AhNJy1f41740621336114.js";import"./http.Hsv2YIdt1740621336114.js";import"./axios.qd3pZFDv1740621336114.js";import"./color.FphPPCrD1740621336114.js";import"./@amap.xyvkHt4K1740621336114.js";import"./color-string.XHVxSVUY1740621336114.js";import"./color-name.kWyLK6WE1740621336114.js";import"./simple-swizzle.IZyBFKf-1740621336114.js";import"./is-arrayish.ufjc-bjZ1740621336114.js";import"./color-convert.F_88l3pk1740621336114.js";import"./lodash.h60NsyMk1740621336114.js";const k=F;!function(t,n){const e=F,o=E();for(;;)try{if(289781===-parseInt(e(455))/1+parseInt(e(452))/2+parseInt(e(500))/3+parseInt(e(436))/4*(-parseInt(e(496))/5)+parseInt(e(508))/6+-parseInt(e(495))/7*(parseInt(e(464))/8)+parseInt(e(481))/9*(parseInt(e(491))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=F,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(448),"i"),o=Z(t(470));n[t(485)](o+"chain")&&e.test(o+t(475))?Z():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[F(509)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(){const t=["toString","dampingFactor","lookAt","object","showBoundingBox","abs","gger","return (function() ","debu","trace","monochrome","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","opposite","__proto__","primitive","159542XufOAm","call","while (true) {}","577947wsPKLO","tweenInstance","isMonochrome","genContrast","exception","minDistance","flatShading","action","updateProjectionMatrix","24Kaewnf","render","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","mapCenter","stateObject","camera","init","set","value","constructor","wireframe","input","coordType","table","far","console","prototype","112428zddhwM","length","#fff","Vector3","test","update","warn","log","target","PerspectiveCamera","780PdKNpD","provider","bbox","bind","1277563jmSkGN","14145UFAvua","genBright","maxZoom","filter","1022982LRDaKQ","tileMapMesh","useStandardMaterial","counter",'{}.constructor("return this")( )',"error","genSaturation","position","2615862YwcFWp","apply","showTileNo","Color","588urQotH"];return(E=function(){return t})()}P(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function(t(444)+t(504)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(479)]||{},o=[t(488),t(487),"info",t(505),t(459),t(477),t(446)];for(let r=0;r<o[t(482)];r++){const n=P[t(473)][t(480)].bind(P),s=o[r],i=e[s]||n;n[t(450)]=P[t(494)](P),n[t(437)]=i.toString[t(494)](i),e[s]=n}}))();const R=[k(440),"rotation"];function F(t,n){const e=E();return(F=function(t,n){return e[t-=436]})(t,n)}const T=m({__name:k(501),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(483)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const f=k,m=e,{renderer:b,scene:x}=r();(new i)[f(476)]=a;const y=new c;y.source=f(466),y.coordType=a;const v=new u;v.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",v[f(510)]=!1,v.useWorker=!0;const I=new p(y,v);if(I[f(441)]=!1,I[f(474)]=!1,I[f(461)]=!1,I[f(502)]=!1,I.filter={opposite:m[f(449)],monochrome:m.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:m[f(497)],genContrast:m.genContrast,genSaturation:m.genSaturation},m[f(447)]){let n=new(t[f(511)])(m[f(447)]);I[f(499)]&&(I[f(499)][f(447)]={r:n.r,g:n.g,b:n.b})}const M=new l;M[f(492)]=I,M[f(493)]=m[f(493)],M[f(498)]=m[f(498)];const _=new(t[f(490)])(60,window.innerWidth/window.innerHeight,1,1e8);_.up=new(t[f(484)])(0,1,0),_[f(507)][f(471)](m[f(467)][0],m[f(467)][2],-m[f(467)][1]),_[f(439)](new(t[f(484)])(_[f(507)].x,0,_.position.z-2e3)),M[f(469)]=_;let C=null;d((()=>{const t=f;b[t(472)]&&!C&&(C=new n(_,b[t(472)].domElement),C.enableDamping=!0,C[t(438)]=.05,C[t(460)]=600,C.position0[t(471)](_[t(507)].x,_[t(507)].y,_.position.z),C[t(489)].set(_[t(507)].x,0,_.position.z-2e3))})),g((()=>[m[f(449)],m[f(457)],m[f(447)]]),(([n,e,o])=>{const r=f;if(I[r(499)]){let s=new(t[r(511)])(o);I.filter.opposite=n,I.filter[r(447)]=e?{r:s.r,g:s.g,b:s.b}:null}})),g((()=>[m[f(497)],m.genContrast,m[f(506)]]),(([t,n,e])=>{const o=f;I.filter&&(I[o(499)][o(497)]=t,I[o(499)][o(458)]=n,I[o(499)][o(506)]=e)}));const{onLoop:z}=s();return z((()=>{var t;const n=f;if(b[n(472)]){null==(t=m[n(456)])||t[n(486)](),C&&C[n(486)](),M[n(486)]();const e=50*Math[n(442)](_[n(507)].y);_[n(478)]=e+5e3,_[n(463)](),b[n(472)][n(465)](x[n(472)],_)}})),o({camera:_,map:M,orbitControl:C}),(t,n)=>{const e=f;return h(),w(e(451),{object:j(M),rotation:[-Math.PI/2,0,0]},null,8,R)}}});function Z(t){function n(t){const e=F;if("string"==typeof t)return function(t){}[e(473)](e(454))[e(509)](e(503));1!==(""+t/t).length||t%20==0?function(){return!0}[e(473)](e(445)+e(443))[e(453)](e(462)):function(){return!1}.constructor(e(445)+"gger")[e(509)](e(468)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=K;!function(t,n){const e=K,o=N();for(;;)try{if(387292===parseInt(e(278))/1+parseInt(e(286))/2+parseInt(e(280))/3*(-parseInt(e(282))/4)+-parseInt(e(249))/5*(-parseInt(e(252))/6)+parseInt(e(265))/7+-parseInt(e(268))/8+-parseInt(e(276))/9*(parseInt(e(279))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(t,n){const e=N();return(K=function(t,n){return e[t-=239]})(t,n)}!function(){D(this,(function(){const t=K,n=new RegExp(t(255)),e=new RegExp(t(283),"i"),o=W(t(295));n.test(o+t(297))&&e.test(o+t(264))?W():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(277)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["monochrome","list","init","addBinding","chain","camera","log","牛首山","string","error","change","#201919","奥体中心","tweenInstance","trace","Vector3","新街口","#4688b5","对比度","18970FzdIfO","stateObject","info","666aWOhnb","orbitControl","tileMap","function *\\( *\\)","addBlade","counter","nss","genBright","genSaturation","return (function() ","opposite","gger","input","3869670vdaVHA","tileMapRef","debu","3216832jtubKg","NoToneMapping","饱和度","length","constructor","manual","warn","value","216xPBsVi","apply","10681UidCSE","122620PPlknw","3vlYNBV",'{}.constructor("return this")( )',"386500sclmvx","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","xjk","391368dAwjeq","isMonochrome","action","tileMapMeshRef","toString","genContrast","滤镜颜色"];return(N=function(){return t})()}L(void 0,(function(){const t=K;let n;try{n=Function(t(261)+t(281)+");")()}catch(r){n=window}const e=n.console=n.console||{},o=[t(299),t(274),t(251),t(239),"exception","table",t(244)];for(let s=0;s<o[t(271)];s++){const n=L[t(272)][t(284)].bind(L),r=o[s],i=e[r]||n;n.__proto__=L.bind(L),n[t(290)]=i[t(290)].bind(i),e[r]=n}}))();const V=m({__name:O(254),setup(n){const r=O,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=b(),c=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:r(247),mapCenter:i,tweenInstance:null}),u=new o({title:"参数"});u[r(296)](c,r(262),{label:"反色"}),u.addBinding(c,r(259),{label:"高亮",min:.1,max:3,step:.1}),u[r(296)](c,r(291),{label:r(248),min:.1,max:3,step:.1}),u[r(296)](c,r(260),{label:r(270),min:.1,max:3,step:.1}),u.addBinding(c,r(287),{label:"单色滤镜"}),u[r(296)](c,r(293),{label:r(292)});const p={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};u[r(256)]({view:r(294),label:"飞去",options:[{text:r(242),value:"at"},{text:r(246),value:r(285)},{text:r(300),value:r(258)}],value:"at"}).on(r(240),(n=>{const e=r,o=new(t[e(245)])(p[n[e(275)]][0],2e3,-p[n[e(275)]][1]);c.tweenInstance=S(a[e(275)][e(298)],o,a.value[e(253)],[0,-300],4e3)}));const l=x({clearColor:r(241),antialias:!0,logarithmicDepthBuffer:!0,renderMode:r(273),outputColorSpace:e,toneMapping:t[r(269)]});return setTimeout((()=>{const n=r,e=p.at,o=new(t[n(245)])(e[0],1600,-e[1]);c[n(243)]=S(a[n(275)][n(298)],o,a.value[n(253)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=r,o=y("TresCanvas");return h(),w(z,null,[v(o,C(l,{"window-size":""}),{default:I((()=>[(h(),M(_,null,{default:I((()=>[v(T,C(c,{ref_key:e(289),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),v(B,{tileMapRef:a[e(275)]},null,8,[e(266)])],64)}}});function W(t){function n(t){const e=K;if(typeof t===e(301))return function(t){}[e(272)]("while (true) {}")[e(277)](e(257));1!==(""+t/t).length||t%20==0?function(){return!0}[e(272)](e(267)+e(263)).call(e(288)):function(){return!1}[e(272)](e(267)+e(263)).apply(e(250)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
