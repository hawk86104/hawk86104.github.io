import{c8 as t,a3 as n,r as e,s as r}from"./three.sQDbNBks1741583630766.js";import{a as o}from"./@tresjs.ZmhvXhx31741583630766.js";import{R as s,b as c}from"./all.three.B_wkcYmQ1741583630766.js";import{d as i,a3 as u,a2 as a,w as f,o as l,H as p,N as d,u as m}from"./@vue.NRI7TcgI1741583630766.js";const h=v;!function(t,n){const e=v,r=b();for(;;)try{if(979289===-parseInt(e(269))/1+parseInt(e(302))/2*(-parseInt(e(260))/3)+parseInt(e(289))/4+-parseInt(e(300))/5+parseInt(e(249))/6*(-parseInt(e(274))/7)+-parseInt(e(296))/8*(parseInt(e(281))/9)+parseInt(e(258))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const w=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(284)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){w(this,(function(){const t=v,n=new RegExp(t(272)),e=new RegExp(t(277),"i"),r=_(t(257));n.test(r+t(306))&&e[t(262)](r+t(275))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function b(){const t=["primitive","texture","mapUrl","wrapS","795924fqGUlg","prototype","warn","visible","forEach","value","call","ignoreObjects","init","47917000OnyToI","counter","86853FOSTgb","toString","test","action","log","string","bind","size","rotation","1228438woTBUj","gger","isMesh","function *\\( *\\)","stateObject","14WBDhVp","input","renderTarget","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","uReflectivity",'{}.constructor("return this")( )',"while (true) {}","291078ANcsre","scale","console","apply","TresGroup","constructor","uniforms","showGridHelper","7295444uFjOHB","update","return (function() ","wrapT","add","table","reflectorDUDV","472TjFeoC","error","repeat","exception","3789235kuYWnM","reflectivity","102cicDGr","object","trace","set","chain","debu","renderTargetUniform"];return(b=function(){return t})()}function v(t,n){const e=b();return(v=function(t,n){return e[t-=243]})(t,n)}g(void 0,(function(){const t=v;let n;try{n=Function(t(291)+t(279)+");")()}catch(o){n=window}const e=n[t(283)]=n[t(283)]||{},r=[t(264),t(251),"info",t(297),t(299),t(294),t(304)];for(let s=0;s<r.length;s++){const n=g.constructor[t(250)][t(266)](g),o=r[s],c=e[o]||n;n.__proto__=g[t(266)](g),n[t(261)]=c[t(261)][t(266)](c),e[o]=n}}))();const j=[h(282)],y=[h(303)],I=[h(303)],x=i({__name:h(295),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(i,{expose:w}){const g=h;let b,v;const x=i,_=new s,T=new t(x[g(267)][0]-.5,x[g(267)][1]);T.visible=x[g(288)];const{map:R}=([b,v]=u((()=>o({map:x[g(247)]}))),b=await b,v(),b);R[g(248)]=n,R[g(292)]=n,R[g(298)][g(305)](6,3);const U=new c({map:R,reflectivity:x[g(301)]});U[g(287)].tReflect={value:_[g(276)][g(246)]},U.uniforms.tReflectBlur=_[g(244)],U[g(287)].uMatrix=_.textureMatrixUniform;const B=new e(new r(x[g(267)][0],x.size[1]),U);return B[g(268)].x=-Math.PI/2,B[g(293)](_),B.onBeforeRender=(t,n,e)=>{const r=g;B[r(252)]=!1,x[r(256)][r(253)]((t=>{const n=r;t[n(271)]&&(t[n(252)]=!1),t.value&&t[n(254)][n(271)]&&(t[n(254)].visible=!1)})),_[r(290)](t,n,e),x[r(256)][r(253)]((t=>{const n=r;t[n(271)]&&(t.visible=!0),t[n(254)]&&t[n(254)][n(271)]&&(t[n(254)][n(252)]=!0)})),B[r(252)]=!0},a((()=>{const t=g;x[t(301)]&&(U.uniforms[t(278)].value=x[t(301)])})),f((()=>x[g(288)]),(t=>{T[g(252)]=t})),w({reflector:_}),(t,n)=>{const e=g;return l(),p(e(285),{scale:x[e(282)]},[d(e(245),{object:m(B),"position-y":-.01},null,8,y),d("primitive",{object:m(T)},null,8,I)],8,j)}}});function _(t){function n(t){const e=v;if(typeof t===e(265))return function(t){}.constructor(e(280))[e(284)](e(259));1!==(""+t/t).length||t%20==0?function(){return!0}[e(286)](e(243)+e(270))[e(255)](e(263)):function(){return!1}.constructor("debu"+e(270))[e(284)](e(273)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
