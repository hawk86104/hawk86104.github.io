import{c as t,B as n,r as e,c6 as o,C as r,V as s,a0 as c}from"./three.CYhYNU4g1738919103432.js";import{w as i}from"./@fesjs.28Jx3VJe1738919103432.js";import{a}from"./@tresjs.G4idgyWs1738919103432.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.zFSHwbLi1738919103432.js";!function(t,n){const e=g,o=h();for(;;)try{if(564799===-parseInt(e(212))/1*(parseInt(e(243))/2)+parseInt(e(229))/3+-parseInt(e(202))/4+parseInt(e(183))/5+parseInt(e(213))/6+-parseInt(e(191))/7*(parseInt(e(192))/8)+-parseInt(e(216))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(247)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=g,n=new RegExp(t(205)),e=new RegExp(t(240),"i"),o=B(t(182));n[t(189)](o+t(203))&&e[t(189)](o+"input")?B():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=h();return(g=function(t,n){return e[t-=178]})(t,n)}function h(){const t=["setFromObject","copy","console","2861904TtUpYI","uniforms","catch","min","push","setY","add","depthWrite","value","geometry","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","deleteAttribute","sub","4592CGLSBc","action","setAttribute","#fff","apply","disposeBoundsTree","expandByObject","center","material","init","4630380GFyuVG","json","info","position","table","computeBoundsTree","test","depthTest","3730825SFbWTf","8rGzcdw","getX","random","getY","negate","applyMatrix4","prototype","boundingBox","side","string","830452IJoclE","chain","gger","function *\\( *\\)","getCenter","count","bind","raycast","Vector3","clone","419brotUS","4855026ORXuIA",'{}.constructor("return this")( )',"config","3796236OBdQtK","length","trace","toString","attributes","getSize","constructor","call","computeBoundingBox","max"];return(h=function(){return t})()}m(void 0,(function(){const t=g;let n;try{n=Function(t(239)+t(214)+");")()}catch(r){n=window}const e=n[t(228)]=n[t(228)]||{},o=["log","warn",t(185),"error","exception",t(187),t(218)];for(let s=0;s<o[t(217)];s++){const n=m.constructor.prototype.bind(m),r=o[s],c=e[r]||n;n.__proto__=m[t(208)](m),n.toString=c[t(219)][t(208)](c),e[r]=n}}))();const d=(n,e=!1)=>{const o=g;n.computeBoundingBox();const{max:r,min:s}=n[o(199)];n[o(241)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(220)][o(186)][o(207)];t++)e?(a[o(233)]((n[o(220)][o(186)][o(193)](t)-(s.x+r.x)/2)/c),a[o(233)]((n[o(220)].position[o(195)](t)-(s.y+r.y)/2)/i)):(a[o(233)]((n[o(220)].position[o(193)](t)-s.x)/c),a[o(233)]((n[o(220)][o(186)][o(195)](t)-s.y)/i));const u=new Float32Array(a);n[o(245)]("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=g;i(t,{},{method:"get",mergeRequest:!0,responseType:r(184)}).then((t=>{n&&e(t[n]),e(t.features)}))[r(231)]((t=>{console.error(t),o(t)}))})),w=t=>{const n=g,e=(new THREE.Box3)[n(226)](t),o=new(THREE[n(210)]);e[n(206)](o),t.children.forEach((t=>{t[n(186)].sub(o)})),t.position[n(227)](o[n(196)]())},x=()=>{const t=g;n[t(198)][t(188)]=u,n[t(198)][t(178)]=p,e[t(198)][t(209)]=f},b=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(238)][n(211)]();d(i),i[n(188)]();const u=new o(i,{color:new r(n(246)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material.transparent=!0,u.material[n(236)]=!0,u.material[n(190)]=!0,u[n(181)][n(200)]=c,u[n(181)][n(230)][n(215)][n(237)].w=20,u.material[n(230)].reflectivity[n(237)]=.46,u};function j(t){const n=g,e=[];for(let r=0;r<t.length;r++)e[n(233)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(235)](e[r]);o.divideScalar(e.length);for(let r=0;r<e[n(217)];r++)e[r][n(242)](o);return{points:e,centerPoint:o}}function B(t){function n(t){const e=g;if(typeof t===e(201))return function(t){}[e(222)]("while (true) {}")[e(247)]("counter");1!==(""+t/t)[e(217)]||t%20==0?function(){return!0}[e(222)]("debu"+e(204))[e(223)](e(244)):function(){return!1}[e(222)]("debu"+e(204))[e(247)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,y as l,d as r,b as s};
