var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,h as u,r as a,F as f,b as h,M as l,B as p,Y as d,s as g,c as w,ak as I,aK as v,$ as y,cu as b}from"./three.HaMTRCf61740450466561.js";import{g as m,b as x,t as _}from"./@mapbox.lMdYodhq1740450466561.js";import{c as M,d as F,a as A}from"./three-mesh-bvh.BNJ61NKr1740450466561.js";import{z}from"./three-custom-shader-material.PpIb7yur1740450466561.js";const Z=R;!function(t,n){const r=R,e=E();for(;;)try{if(879237===parseInt(r(312))/1*(parseInt(r(322))/2)+-parseInt(r(348))/3+-parseInt(r(372))/4+parseInt(r(349))/5*(-parseInt(r(329))/6)+-parseInt(r(345))/7*(-parseInt(r(363))/8)+parseInt(r(371))/9*(-parseInt(r(369))/10)+parseInt(r(324))/11*(parseInt(r(373))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const S=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[R(335)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){S(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(359),"i"),e=O(t(308));n[t(365)](e+t(352))&&r[t(365)](e+t(358))?O():e("0")}))()}();const T=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function E(){const t=["visible","4323263FDaVjq","stateObject","while (true) {}","2495328kKEaNV","1418195dcrECd","renderOrder","distanceToPoint","chain","intersectsBox","getTranMatrix","forEach","freeze","info","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","tileNo","push","8rjPZZB","exception","test","isDisposed","isReady","add","19610LOuFQv","gger","5517QxqSao","6840956kZofJa","44303676SzAcpL","value","trace","bind","action","childrenTiles","subdivide","init","uniforms","counter","toString","351qMAylH","pow","remove","boundingBoxWorld","maxZoom","return (function() ","matrixWorld","map",'{}.constructor("return this")( )',"content","3404eZcCAl","prototype","11KDRczS","warn","parentTile","applyMatrix4","makeRotationX","6Xymcbg","debu","string","simplify","ready","update","apply","error","__proto__","setFromObject","provider","dispose","material","abort","constructor"];return(E=function(){return t})()}function R(t,n){const r=E();return(R=function(t,n){return r[t-=306]})(t,n)}T(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(317)+t(320)+");")()}catch(r){n=window}return n}(),r=n.console=n.console||{},e=["log",t(325),t(357),t(336),t(364),"table",t(375)];for(let o=0;o<e[t(360)];o++){const n=T[t(343)][t(323)][t(376)](T),i=e[o],s=r[i]||n;n[t(337)]=T[t(376)](T),n.toString=s[t(311)].bind(s),r[i]=n}}))();class k extends c{constructor(){const t=R;super(),this.isDisposed=!1,this[t(367)]=!1,this.childrenTiles=[],this.boundingBoxWorld=new u}[Z(308)](t,n,r){const e=Z;this[e(361)]=t,Object[e(356)](this.tileNo),this[e(319)]=n,this[e(326)]=r,this[e(344)]=!1,this[e(350)]=t[2],this.ready()}async[Z(333)](){const t=Z;if(this.content=await this[t(319)].provider.getTile(this.tileNo),!this[t(366)]){if(this.add(this.content),this[t(315)][t(338)](this.content)[t(327)](this[t(318)][t(328)](-Math.PI/2)),this[t(319)][t(368)](this),this[t(344)]=!0,this[t(367)]=!0,this[t(326)]){const n=this[t(326)].childrenTiles;let r=0;for(let e=0;e<n[t(360)];e++)n[e][t(367)]&&r++;4===r&&(this[t(326)][t(344)]=!1)}this[t(334)]()}}[Z(334)](){const t=Z;if(!this.isReady||this[t(366)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this.map;if(!n[t(353)](this[t(315)]))return void this[t(332)]();this[t(321)]instanceof a&&this[t(319)][t(339)].filter&&(this.content[t(341)][t(309)].t_Matrix[t(374)]=this[t(319)].provider[t(354)]());let e=this[t(315)][t(351)](r);const o=this[t(361)][2];e/=Math[t(313)](2,this[t(319)][t(339)].maxZoom-o),e<60&&this[t(307)](),e>80&&this[t(332)]();this[t(306)].sort(((n,e)=>n.boundingBoxWorld[t(351)](r)-e[t(315)].distanceToPoint(r)))[t(355)]((n=>n[t(334)]()))}subdivide(){const t=Z,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(360)]>0||i>=e[t(316)])return;m(r)[t(355)]((n=>{const r=t,i=new k;i[r(308)](n,e,this),o[r(362)](i)}))}[Z(332)](){const t=Z;this.childrenTiles[t(355)]((t=>t.dispose())),this.childrenTiles=[],this[t(344)]=!0}[Z(340)](){const t=Z;this[t(319)][t(314)](this),this[t(319)][t(339)][t(342)](this.tileNo),this[t(306)].forEach((t=>t.dispose())),this[t(306)]=[],this[t(326)]=void 0,this[t(321)]&&(this[t(319)].provider[t(340)](this[t(361)],this.content),this[t(321)]=void 0),this[t(366)]=!0}}function O(t){function n(t){const r=R;if(typeof t===r(331))return function(t){}[r(343)](r(347)).apply(r(310));1!==(""+t/t)[r(360)]||t%20==0?function(){return!0}[r(343)]("debu"+r(370)).call(r(377)):function(){return!1}[r(343)](r(330)+r(370))[r(335)](r(346)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const j=C;function C(t,n){const r=W();return(C=function(t,n){return r[t-=497]})(t,n)}!function(t,n){const r=C,e=W();for(;;)try{if(241138===-parseInt(r(501))/1*(parseInt(r(540))/2)+-parseInt(r(563))/3+-parseInt(r(557))/4*(-parseInt(r(545))/5)+-parseInt(r(520))/6+-parseInt(r(530))/7*(parseInt(r(554))/8)+parseInt(r(553))/9*(-parseInt(r(522))/10)+-parseInt(r(547))/11*(-parseInt(r(528))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const P=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(539)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){P(this,(function(){const t=C,n=new RegExp(t(502)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=D(t(562));n.test(e+t(555))&&r[t(510)](e+"input")?D():e("0")}))()}();const U=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[C(539)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function W(){const t=["maxZoom","equals","lastCameraWorldPosition","test","bind","gger","log","regenerate","disposeBoundsTree","warn","push","constructor","now","951666ncUudO","exception","20070URkHOB","trace","forEach","return (function() ","debu","camera","1295736oOtLVL","update","805wISncC","dispose","lastUpdateTime","toString","setFromProjectionMatrix","raycast","cameraFrustum","info","action","apply","407554RNZkPK","lastCameraProjectionMatrix","projectionMatrix","[Map.dispose] Method not implemented.","error","485zxqtEW","cameraWorldPosition","121pwzAkl","copy","computeBoundsTree","__proto__","string","length","1539YUsHIE","7320KwAYhG","chain","stateObject","5068LegJqe","rootForward","console","rootTiles","initRootTiles","init","164796hzuFFx","rootForward needs to be 0 - 3.","getWorldPosition","multiplyMatrices","cameraProjectionMatrix","matrixWorldInverse","2EYGkGf","function *\\( *\\)","prototype","bbox","counter","call"];return(W=function(){return t})()}U(void 0,(function(){const t=C;let n;try{n=Function(t(525)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(559)]=n.console||{},e=[t(513),t(516),t(537),t(544),t(521),"table",t(523)];for(let i=0;i<e[t(552)];i++){const n=U.constructor[t(503)][t(511)](U),o=e[i],s=r[o]||n;n[t(550)]=U[t(511)](U),n.toString=s[t(533)].bind(s),r[o]=n}}))();let B=class extends c{constructor(){const t=C;super(),this[t(504)]=[74.390592,6.900905,134.071423,54.318199],this[t(507)]=20,this.rootForward=0,this[t(536)]=new f,this[t(546)]=new h,this[t(499)]=new l,this[t(541)]=new l,this[t(509)]=new h,this.rootTiles=[],this[t(532)]=0,!p[t(503)].computeBoundsTree&&(p[t(503)][t(549)]=M),!p[t(503)][t(515)]&&(p.prototype.disposeBoundsTree=F),a.prototype[t(535)]=A}[j(561)](){const t=j;this[t(558)]>3&&(console[t(516)]("rootForward needs to be 0 - 3."),this[t(558)]=3),this.rootForward<0&&(console[t(516)](t(564)),this[t(558)]=0);const n=[];let r=[x(this[t(504)])],e=this[t(558)];for(;e>0;){const t=[...r];r=[],t.forEach((t=>{const n=m(t);r.push(...n)})),e--}n[t(517)](...r),n[t(524)]((n=>{const r=t,e=new k;e[r(562)](n,this),this[r(560)][r(517)](e)}))}update(){const t=j;if(!this.visible||!this.camera)return;const n=Date[t(519)]();n-this[t(532)]<300||(0!==this[t(560)].length?(this[t(527)][t(497)](this[t(546)]),this[t(499)][t(498)](this.camera[t(542)],this.camera[t(500)]),this.cameraWorldPosition[t(508)](this[t(509)])&&this[t(499)][t(508)](this[t(541)])||(this[t(536)][t(534)](this[t(499)]),this.rootTiles[t(524)]((n=>n[t(529)]())),this.lastCameraProjectionMatrix[t(548)](this[t(499)]),this[t(509)][t(548)](this.cameraWorldPosition),this[t(532)]=n)):this[t(561)]())}[j(531)](){throw new Error(j(543))}[j(514)](){throw new Error("[Map.regenerate] Method not implemented.")}};function D(t){function n(t){const r=C;if(typeof t===r(551))return function(t){}.constructor("while (true) {}").apply(r(505));1!==(""+t/t)[r(552)]||t%20==0?function(){return!0}[r(518)]("debugger")[r(506)](r(538)):function(){return!1}[r(518)](r(526)+r(512))[r(539)](r(556)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const L=Y;!function(t,n){const r=Y,e=X();for(;;)try{if(143018===-parseInt(r(148))/1*(parseInt(r(185))/2)+-parseInt(r(177))/3+parseInt(r(182))/4*(parseInt(r(169))/5)+-parseInt(r(167))/6*(parseInt(r(150))/7)+-parseInt(r(168))/8+parseInt(r(139))/9+parseInt(r(190))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){$(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=H(t(164));n.test(e+t(142))&&r[t(174)](e+t(181))?H():e("0")}))()}();const q=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();q(void 0,(function(){const t=Y;let n;try{n=Function("return (function() "+t(189)+");")()}catch(o){n=window}const r=n[t(175)]=n[t(175)]||{},e=[t(183),"warn",t(172),t(162),t(170),t(143),t(176)];for(let i=0;i<e[t(178)];i++){const n=q.constructor[t(180)].bind(q),o=e[i],s=r[o]||n;n.__proto__=q[t(154)](q),n[t(163)]=s.toString[t(154)](s),r[o]=n}}))();const G=class t{constructor(){const t=Y;this[t(184)]=new AbortController,this[t(146)]=new Set}[L(153)](c,u={}){const a=L;var f,h;t[a(166)][a(141)](c)||(t[a(166)][a(160)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(184)].signal},n(f,r(h))))[a(188)]((t=>{const n=a;this.listeners[n(137)]((r=>r[n(158)](t[n(138)]())))}))[a(145)]((t=>{const n=a;this[n(146)][n(137)]((n=>n.reject(t)))}))[a(147)]((()=>{const n=a;t[n(166)][n(159)](c)})))}[L(156)](){const t=L;this._controller[t(156)]()}};G[L(166)]=new Map;let N=G;function X(){const t=["input","308340ONUTfr","log","_controller","452262ovSrJj","reject","constructor","then",'{}.constructor("return this")( )',"4380220guVagR","forEach","clone","273087MqcUzr","get","has","chain","table","string","catch","listeners","finally","1LGXnLe","User abort.","7FGHOUh","debu","ready","fetch","bind","action","abort","url","resolve","delete","set","gger","error","toString","init","counter","pendings","1328820fOmKNB","154432fETQCc","15HqYLPJ","exception","promise","info","apply","test","console","trace","269091bDELCS","length","add","prototype"];return(X=function(){return t})()}function Y(t,n){const r=X();return(Y=function(t,n){return r[t-=137]})(t,n)}class V{constructor(t,n){const r=L;this[r(157)]=t,this[r(164)]=n,this[r(171)]=new Promise(((t,n)=>{const e=r;this[e(158)]=t,this[e(186)]=n}))}[L(152)](){const t=L;let n=N[t(166)][t(140)](this[t(157)]);return!n&&(n=new N,n[t(153)](this[t(157)],this[t(164)])),n[t(146)][t(179)](this),this.promise}[L(156)](){const t=L;this.reject(t(149));const n=N[t(166)].get(this[t(157)]);n&&(n[t(146)][t(159)](this),0===n[t(146)].size&&n.abort())}}function H(t){function n(t){const r=Y;if(typeof t===r(144))return function(t){}[r(187)]("while (true) {}")[r(173)](r(165));1!==(""+t/t)[r(178)]||t%20==0?function(){return!0}[r(187)]("debu"+r(161)).call(r(155)):function(){return!1}.constructor(r(151)+r(161))[r(173)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=tt,e=Q();for(;;)try{if(515465===parseInt(r(520))/1*(parseInt(r(506))/2)+-parseInt(r(494))/3*(parseInt(r(523))/4)+-parseInt(r(513))/5*(parseInt(r(497))/6)+parseInt(r(519))/7+-parseInt(r(485))/8*(parseInt(r(493))/9)+-parseInt(r(480))/10+parseInt(r(511))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const K=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[tt(521)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Q(){const t=["chain","init","stateObject","table","test","flipY","35487WDRYLC","3TnQmhm","#66AAFF",'{}.constructor("return this")( )',"5177850abjSAI","20px Arial","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","input","prototype","__proto__","toString","1510252FUmdFA","blob","rect","strokeStyle","#00FFFF","15353668SRIIAf","call","5PnCojy","function *\\( *\\)","fillText","bind","ready","drawImage","4413997ylCMbh","1AIRBiz","apply","return (function() ","789916NCLGbI","counter","stroke","8230950kbeMKi","fillStyle","warn","console","gger","776mLHLDN","length"];return(Q=function(){return t})()}!function(){K(this,(function(){const t=tt,n=new RegExp(t(514)),r=new RegExp(t(500),"i"),e=rt(t(488));n[t(491)](e+t(487))&&r.test(e+t(502))?rt():e("0")}))()}();const J=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[tt(521)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function tt(t,n){const r=Q();return(tt=function(t,n){return r[t-=478]})(t,n)}let nt;function rt(t){function n(t){const r=tt;if("string"==typeof t)return function(t){}[r(501)]("while (true) {}").apply(r(478));1!==(""+t/t)[r(486)]||t%20==0?function(){return!0}[r(501)]("debu"+r(484))[r(512)]("action"):function(){return!1}[r(501)]("debu"+r(484)).apply(r(489)),n(++t)}try{if(t)return n;n(0)}catch(r){}}J(void 0,(function(){const t=tt,n=function(){const t=tt;let n;try{n=Function(t(522)+t(496)+");")()}catch(r){n=window}return n}(),r=n[t(483)]=n[t(483)]||{},e=["log",t(482),t(499),"error","exception",t(490),"trace"];for(let o=0;o<e[t(486)];o++){const n=J[t(501)][t(503)][t(516)](J),i=e[o],s=r[i]||n;n[t(504)]=J[t(516)](J),n[t(505)]=s[t(505)][t(516)](s),r[i]=n}}))();const et=ct;!function(t,n){const r=ct,e=ut();for(;;)try{if(900671===parseInt(r(265))/1+parseInt(r(293))/2*(-parseInt(r(287))/3)+-parseInt(r(303))/4+parseInt(r(264))/5+parseInt(r(291))/6*(-parseInt(r(262))/7)+parseInt(r(277))/8+-parseInt(r(288))/9*(-parseInt(r(302))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ct(269)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ot(this,(function(){const t=ct,n=new RegExp(t(292)),r=new RegExp(t(300),"i"),e=at(t(306));n[t(290)](e+t(275))&&r[t(290)](e+t(294))?at():e("0")}))()}();const it=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[ct(269)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();it(void 0,(function(){const t=ct;let n;try{n=Function("return (function() "+t(295)+");")()}catch(o){n=window}const r=n[t(298)]=n[t(298)]||{},e=["log",t(274),t(286),t(296),t(289),"table","trace"];for(let i=0;i<e[t(273)];i++){const n=it[t(263)][t(278)][t(308)](it),o=e[i],s=r[o]||n;n[t(271)]=it[t(308)](it),n[t(285)]=s[t(285)].bind(s),r[o]=n}}))();class st{constructor(t){const n=ct;this.terminated=!0,this[n(276)]=new Map,this[n(267)]=new t,this.worker[n(305)]=this[n(307)][n(308)](this),this[n(283)]=!1}async[et(301)](t){const n=et;if(!this[n(283)])return this.worker[n(301)](t),new Promise(((r,e)=>{const o=n;this[o(276)][o(282)](t.id,r)}))}[et(307)](t){const n=et,{id:r,error:e}=t[n(304)],o=this[n(276)][n(272)](r);o&&!e&&o(t[n(304)]),this[n(276)].delete(r)}[et(299)](){const t=et;this[t(267)][t(305)]=null,this[t(267)][t(299)](),this[t(283)]=!0,this[t(276)][t(297)]()}}function ct(t,n){const r=ut();return(ct=function(t,n){return r[t-=262]})(t,n)}function ut(){const t=["function *\\( *\\)","78878xWvBNU","input",'{}.constructor("return this")( )',"error","clear","console","terminate","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","postMessage","140XChfyy","1104608eIQqYz","data","onmessage","init","onMessage","bind","6917183bLGbyg","constructor","985370nAomUv","469025eUaMXt","gger","worker","stateObject","apply","debu","__proto__","get","length","warn","chain","map","12127248VilDZg","prototype","counter","action","while (true) {}","set","terminated","string","toString","info","93qDqlgO","775026oZfleN","exception","test","6bLCIix"];return(ut=function(){return t})()}function at(t){function n(t){const r=ct;if(typeof t===r(284))return function(t){}[r(263)](r(281)).apply(r(279));1!==(""+t/t)[r(273)]||t%20==0?function(){return!0}.constructor("debu"+r(266)).call(r(280)):function(){return!1}[r(263)](r(270)+r(266)).apply(r(268)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ft(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const ht=wt;!function(t,n){const r=wt,e=dt();for(;;)try{if(915796===-parseInt(r(335))/1+parseInt(r(331))/2+-parseInt(r(282))/3+parseInt(r(294))/4*(parseInt(r(289))/5)+parseInt(r(340))/6*(parseInt(r(329))/7)+-parseInt(r(342))/8+-parseInt(r(332))/9*(-parseInt(r(327))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[wt(334)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){lt(this,(function(){const t=wt,n=new RegExp(t(312)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=It(t(341));n[t(339)](e+t(338))&&r[t(339)](e+t(297))?It():e("0")}))()}();const pt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[wt(334)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function dt(){const t=["_useWorker","set","anisotropy","string","1380992kZwSqG","getTile","dispose","input","source","[y]","abort","return (function() ","debu","_worker","delete","table","{x}","[x]","trace","image","warn","get","function *\\( *\\)","gger","getId","action","replace","join","terminate","getUrl","console","length","showTileNo","while (true) {}","postMessage","toString","log","160690GRBTeh","prototype","7yMYBUs","stateObject","314480mRZoJy","1683djKnoM","fetching","apply","1802433IpnmrD","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","needsUpdate","chain","test","7652844dFmfde","init","4774736FrJiuW","5439126nGIgyF","constructor","maxZoom","error","bind","useWorker",'{}.constructor("return this")( )',"10NZTmYZ"];return(dt=function(){return t})()}pt(void 0,(function(){const t=wt;let n;try{n=Function(t(301)+t(288)+");")()}catch(o){n=window}const r=n[t(320)]=n[t(320)]||{},e=[t(326),t(310),"info",t(285),"exception",t(305),t(308)];for(let i=0;i<e[t(321)];i++){const n=pt[t(283)][t(328)][t(286)](pt),o=e[i],s=r[o]||n;n.__proto__=pt[t(286)](pt),n[t(325)]=s[t(325)][t(286)](s),r[o]=n}}))();class gt{constructor(){const t=wt;this[t(284)]=20,this.source=t(336),this[t(322)]=!1,this[t(290)]=!1,this[t(333)]=new Map}set[ht(287)](t){var n;const r=ht;this._useWorker=t,!this[r(290)]&&(null==(n=this[r(303)])||n[r(318)](),this[r(303)]=void 0)}get useWorker(){return this[ht(290)]}async[ht(295)](t){const n=ht,r=this[n(319)](t),e=new d;if(this[n(290)]){!this[n(303)]&&(this[n(303)]=new st(ft));const o=this[n(314)](t),i=await this[n(303)][n(324)]({id:o,tileNo:t,url:r,debug:this[n(322)]});e.image=i.bitmap}else{const o=new V(r,{cache:"force-cache",mode:"cors"});this[n(333)][n(291)](t,o);try{e[n(309)]=await async function(t,n,r=!1){const e=tt,o=await n[e(517)](),i=await o[e(507)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(492)});if(!r)return s;!nt&&(nt=new OffscreenCanvas(256,256));const c=nt.getContext("2d");if(!c)throw new Error('Offscreencanvas.getContext("2d") error!');const{width:u,height:a}=nt;return c[e(518)](s,0,0),c[e(508)](0,0,u,a),c[e(509)]=e(510),c.font=e(498),c[e(479)](),c[e(481)]="#FF4444",c[e(515)](""+t[0],10,30),c[e(481)]="#44FF44",c.fillText(""+t[1],10,55),c[e(481)]=e(495),c[e(515)](""+t[2],10,80),await createImageBitmap(nt,{imageOrientation:"flipY"})}(t,o,this[n(322)])}finally{this.fetching[n(304)](t)}}return e[n(337)]=!0,e[n(292)]=4,e}[ht(300)](t){var n;const r=ht;if(this._useWorker)null==(n=this._worker)||n[r(324)]({id:this[r(314)](t),abort:!0});else{const n=this[r(333)][r(311)](t);n&&n.abort(),this[r(333)].delete(t)}}[ht(296)](t,n){n[ht(296)]()}[ht(314)](t){return t[ht(317)]("-")}[ht(319)](t){const n=ht,[r,e,o]=t;return-1===this.source.indexOf(n(307))?this.source[n(316)](n(306),r+"")[n(316)]("{y}",e+"")[n(316)]("{z}",o+""):this[n(298)][n(316)]("[x]",r+"")[n(316)](n(299),e+"")[n(316)]("[z]",o+"")}}function wt(t,n){const r=dt();return(wt=function(t,n){return r[t-=282]})(t,n)}function It(t){function n(t){const r=wt;if(typeof t===r(293))return function(t){}[r(283)](r(323))[r(334)]("counter");1!==(""+t/t)[r(321)]||t%20==0?function(){return!0}.constructor("debu"+r(313)).call(r(315)):function(){return!1}.constructor(r(302)+r(313))[r(334)](r(330)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const vt=Ft;!function(t,n){const r=Ft,e=kt();for(;;)try{if(146809===parseInt(r(195))/1*(parseInt(r(176))/2)+-parseInt(r(178))/3+-parseInt(r(203))/4*(parseInt(r(201))/5)+parseInt(r(206))/6+parseInt(r(219))/7+parseInt(r(199))/8*(parseInt(r(184))/9)+-parseInt(r(186))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const yt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ft(172)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){yt(this,(function(){const t=Ft,n=new RegExp(t(187)),r=new RegExp(t(207),"i"),e=Ot(t(204));n[t(222)](e+t(208))&&r[t(222)](e+t(177))?Ot():e("0")}))()}();const bt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ft(172)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();bt(void 0,(function(){const t=Ft;let n;try{n=Function(t(217)+t(182)+");")()}catch(o){n=window}const r=n[t(209)]=n[t(209)]||{},e=[t(213),t(212),"info","error","exception","table",t(179)];for(let i=0;i<e[t(174)];i++){const n=bt.constructor[t(190)][t(185)](bt),o=e[i],s=r[o]||n;n[t(202)]=bt.bind(bt),n[t(198)]=s.toString[t(185)](s),r[o]=n}}))();const mt=vt(170),xt=vt(171),_t=6378137,Mt=Math.PI/180;function Ft(t,n){const r=kt();return(Ft=function(t,n){return r[t-=170]})(t,n)}function At(t,n){return[_t*t*Mt,_t*Math[vt(213)](Math.tan(.25*Math.PI+n*Mt*.5))]}function zt(t,n){const r=vt;let e=t/(_t*Math.PI)*180,o=n/(_t*Math.PI)*180;return o=180/Math.PI*(2*Math[r(191)](Math[r(197)](o*Math.PI/180))-Math.PI/2),[e,o]}function Zt(t){return t*Math.PI/180}function St(t){return 180*t/Math.PI}const Tt={a:6378137,b:6356752.314245,f:1/298.257223563};function Et(t,n,r){const e=vt;if(!(-80<=n&&n<=84))throw new RangeError("latitude ‘"+n+e(210));let o=r||Math[e(205)]((t+180)/6)+1,i=Zt(6*(o-1)-180+3);const s="CDEFGHJKLMNPQRSTUVWXX"[e(181)](Math.floor(n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Zt(6)):32===o&&"X"===s&&t<9?(o--,i-=Zt(6)):32===o&&"X"===s&&t>=9?(o++,i+=Zt(6)):34===o&&"X"===s&&t<21?(o--,i-=Zt(6)):34===o&&"X"===s&&t>=21?(o++,i+=Zt(6)):36===o&&"X"===s&&t<33?(o--,i-=Zt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Zt(6));const c=Zt(n),u=Zt(t)-i,{a:a,f:f}=Tt,h=.9996,l=Math.sqrt(f*(2-f)),p=f/(2-f),d=p*p,g=p*d,w=p*g,I=p*w,v=p*I,y=Math[e(188)](u),b=Math[e(200)](u),m=Math[e(216)](c),x=Math[e(180)](l*Math[e(183)](l*m/Math.sqrt(1+m*m))),_=m*Math[e(211)](1+x*x)-x*Math.sqrt(1+m*m),M=Math.atan2(_,y),F=Math[e(215)](b/Math[e(211)](_*_+y*y)),A=a/(1+p)*(1+1/4*d+1/64*w+1/256*v),z=[null,.5*p-2/3*d+5/16*g+41/180*w-127/288*I+7891/37800*v,13/48*d-.6*g+557/1440*w+281/630*I-1983433/1935360*v,61/240*g-103/140*w+15061/26880*I+167603/181440*v,49561/161280*w-179/168*I+6601661/7257600*v,34729/80640*I-3418889/1995840*v,.6650675310896665*v];let Z=M;for(let R=1;R<=6;R++)Z+=z[R]*Math[e(200)](2*R*M)*Math[e(175)](2*R*F);let S=F;for(let R=1;R<=6;R++)S+=z[R]*Math[e(188)](2*R*M)*Math[e(180)](2*R*F);let T=h*A*S,E=h*A*Z;return T+=5e5,E<0&&(E+=1e7),[T,E]}function Rt(t,n,r){const e=vt,o=r||50,{a:i,f:s}=Tt,c=.9996,u=t-5e5,a=n,f=Math[e(211)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,d=h*p,g=h*d,w=h*g,I=i/(1+h)*(1+1/4*l+1/64*d+1/256*w),v=u/(c*I),y=a/(c*I),b=[null,.5*h-2/3*l+37/96*p-1/360*d-81/512*g+96199/604800*w,1/48*l+1/15*p-437/1440*d+46/105*g-1118711/3870720*w,17/480*p-37/840*d-209/4480*g+5569/90720*w,4397/161280*d-11/504*g-830251/7257600*w,4583/161280*g-108847/3991680*w,20648693/638668800*w];let m=y;for(let C=1;C<=6;C++)m-=b[C]*Math.sin(2*C*y)*Math[e(175)](2*C*v);let x=v;for(let C=1;C<=6;C++)x-=b[C]*Math.cos(2*C*y)*Math[e(180)](2*C*v);const _=Math[e(180)](x),M=Math[e(200)](m),F=Math.cos(m),A=M/Math.sqrt(_*_+F*F);let z=null,Z=A;do{const t=Math.sinh(f*Math[e(183)](f*Z/Math[e(211)](1+Z*Z))),n=Z*Math.sqrt(1+t*t)-t*Math[e(211)](1+Z*Z);z=(A-n)/Math[e(211)](1+n*n)*(1+(1-f*f)*Z*Z)/((1-f*f)*Math[e(211)](1+Z*Z)),Z+=z}while(Math[e(189)](z)>1e-12);const S=Z,T=Math.atan(S);let E=Math[e(221)](_,F),R=1;for(let C=1;C<=6;C++)R-=2*C*b[C]*Math.cos(2*C*y)*Math[e(175)](2*C*v);let k=0;for(let C=1;C<=6;C++)k+=2*C*b[C]*Math.sin(2*C*y)*Math[e(180)](2*C*v);Math.atan(Math[e(216)](m)*Math[e(214)](x)),Math[e(221)](k,R);const O=Math[e(200)](T);Math[e(211)](1-f*f*O*O),Math[e(211)](1+S*S),Math.sqrt(_*_+F*F),Math[e(211)](R*R+k*k);E+=Zt(6*(o-1)-180+3);const j=Number(St(T)[e(192)](14));return[Number(St(E).toFixed(14)),j]}function kt(){const t=["toFixed","while (true) {}","constructor","71EYWIpF","stateObject","exp","toString","1123176qQFZDD","sin","10KlzsEi","__proto__","100816oOPuvS","init","floor","1511778cmCmAB","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","console","’ outside UTM limits","sqrt","warn","log","tanh","asinh","tan","return (function() ","counter","59857AZldyv","action","atan2","test","debu","utm","merc","apply","string","length","cosh","626AOjowl","input","195729mZUdyJ","trace","sinh","charAt",'{}.constructor("return this")( )',"atanh","9lLRhaH","bind","1606740OAuBqW","function *\\( *\\)","cos","abs","prototype","atan"];return(kt=function(){return t})()}function Ot(t){function n(t){const r=Ft;if(typeof t===r(173))return function(t){}.constructor(r(193))[r(172)](r(218));1!==(""+t/t)[r(174)]||t%20==0?function(){return!0}[r(194)](r(223)+"gger").call(r(220)):function(){return!1}[r(194)](r(223)+"gger")[r(172)](r(196)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const jt=Wt;function Ct(){const t=["utmZone","abort","action","log","length","debu","bind","6ZZUAzp","390039kTGprp","error","toString","console","gger","dispose","constructor","2367001uRXdKx","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"warn","75NLhFzn","setAttribute","89502lVcdBm","position","18ebASFY","convertCoordinate","__proto__","return (function() ","input","178406mVJIqA","string","5438030bsyASQ","getTile","1132356DpIOHm","test","trace","2493704CHdRvf","coordType","apply","exception","table","function *\\( *\\)"];return(Ct=function(){return t})()}!function(t,n){const r=Wt,e=Ct();for(;;)try{if(459353===-parseInt(r(185))/1+parseInt(r(164))/2+parseInt(r(184))/3*(parseInt(r(168))/4)+parseInt(r(196))/5*(-parseInt(r(157))/6)+parseInt(r(192))/7+parseInt(r(171))/8*(parseInt(r(159))/9)+-parseInt(r(166))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Pt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Wt(173)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Pt(this,(function(){const t=Wt,n=new RegExp(t(176)),r=new RegExp(t(193),"i"),e=Dt("init");n[t(169)](e+"chain")&&r[t(169)](e+t(163))?Dt():e("0")}))()}();const Ut=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Wt(173)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Wt(t,n){const r=Ct();return(Wt=function(t,n){return r[t-=156]})(t,n)}Ut(void 0,(function(){const t=Wt;let n;try{n=Function(t(162)+t(194)+");")()}catch(o){n=window}const r=n[t(188)]=n[t(188)]||{},e=[t(180),t(195),"info",t(186),t(174),t(175),t(170)];for(let i=0;i<e.length;i++){const n=Ut.constructor.prototype[t(183)](Ut),o=e[i],s=r[o]||n;n[t(161)]=Ut.bind(Ut),n[t(187)]=s[t(187)][t(183)](s),r[o]=n}}))();class Bt{constructor(){const t=Wt;this[t(177)]=50,this[t(172)]=mt,this.maxZoom=20}async[jt(167)](t){const n=jt,r=new g,e=_(t),o=this.convertCoordinate(e[0],e[3]),i=this[n(160)](e[2],e[3]),s=this[n(160)](e[0],e[1]),c=this[n(160)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r[n(156)](n(158),new w(u,3)),r}[jt(178)](t){}[jt(190)](t,n){n[jt(190)]()}[jt(160)](t,n){return this.coordType===mt?Et(t,n,this.utmZone):At(t,n)}}function Dt(t){function n(t){const r=Wt;if(typeof t===r(165))return function(t){}[r(191)]("while (true) {}")[r(173)]("counter");1!==(""+t/t)[r(181)]||t%20==0?function(){return!0}.constructor(r(182)+r(189)).call(r(179)):function(){return!1}.constructor(r(182)+r(189)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Lt(t){return new Worker(""+new URL("../static/MartiniWorker-dNq5D85X.js",import.meta.url).href,{name:null==t?void 0:t.name})}function $t(){const t=["coordType","abort","__proto__","_useWorker","apply","setIndex","getUrl","triangles","test","join","init","dispose","_worker","counter","stateObject","call","11686110tnqXmG","4141405zkamSM","[x]","gger","chain","1110018PGWdzt","function *\\( *\\)","postMessage","getId","table","length","3164mgvisF","bind","string","getInMainThread","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","terminate","maxZoom","info","2099528ToEOsj","warn","toString","utmZone","8oUIIXw","error","while (true) {}","setAttribute","position","30736953pKEMXQ","constructor","return (function() ","console","debu","[y]","1144181FIBISN","replace","getInWorkerThread","3507ugEpUD","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","useWorker"];return($t=function(){return t})()}const qt=Xt;!function(t,n){const r=Xt,e=$t();for(;;)try{if(978120===-parseInt(r(437))/1+parseInt(r(414))/2*(parseInt(r(440))/3)+-parseInt(r(422))/4+-parseInt(r(404))/5+-parseInt(r(403))/6+parseInt(r(408))/7+-parseInt(r(426))/8*(-parseInt(r(431))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Gt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Xt(447)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Gt(this,(function(){const t=Xt,n=new RegExp(t(409)),r=new RegExp(t(418),"i"),e=Vt(t(453));n[t(451)](e+t(407))&&r[t(451)](e+"input")?Vt():e("0")}))()}();const Nt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Xt(447)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Xt(t,n){const r=$t();return(Xt=function(t,n){return r[t-=399]})(t,n)}Nt(void 0,(function(){const t=Xt,n=function(){const t=Xt;let n;try{n=Function(t(433)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(434)]=n[t(434)]||{},e=["log",t(423),t(421),t(427),"exception",t(412),"trace"];for(let o=0;o<e.length;o++){const n=Nt[t(432)].prototype[t(415)](Nt),i=e[o],s=r[i]||n;n[t(445)]=Nt[t(415)](Nt),n.toString=s[t(424)].bind(s),r[i]=n}}))();class Yt{constructor(){const t=Xt;this[t(420)]=12,this[t(443)]=mt,this[t(425)]=50,this[t(446)]=!0,this.source=t(441)}set[qt(442)](t){var n;const r=qt;this[r(446)]=t,!this._useWorker&&(null==(n=this._worker)||n[r(419)](),this[r(399)]=void 0)}get[qt(442)](){return this._useWorker}async getTile(t){const n=qt;return this[n(446)]?this[n(439)](t):this.getInMainThread()}async[qt(417)](){return new p}async getInWorkerThread(t){const n=qt;!this[n(399)]&&(this[n(399)]=new st(Lt));const r={tileNo:t,id:this[n(411)](t),url:this[n(449)](t),maxZ:this[n(420)],coordType:this[n(443)],utmZone:this[n(425)]},e=await this[n(399)][n(410)](r),o=new p;return o.setAttribute(n(430),new w(e.positions,3)),o[n(429)]("uv",new w(e.uv,2)),o[n(448)](new w(e[n(450)],1)),o}async[qt(444)](t){var n;const r=qt;this[r(446)]&&(null==(n=this[r(399)])||n[r(410)]({id:this.getId(t),abort:!0}))}async[qt(454)](t,n){var r;const e=qt;n[e(454)](),this[e(446)]&&(null==(r=this._worker)||r[e(410)]({id:this[e(411)](t),dispose:!0}))}[qt(411)](t){return t[qt(452)]("-")}getUrl(t){const n=qt,[r,e,o]=t;return this.source[n(438)](n(405),r+"")[n(438)](n(436),e+"")[n(438)]("[z]",o+"")}}function Vt(t){function n(t){const r=Xt;if(typeof t===r(416))return function(t){}[r(432)](r(428))[r(447)](r(400));1!==(""+t/t)[r(413)]||t%20==0?function(){return!0}[r(432)](r(435)+"gger")[r(402)]("action"):function(){return!1}[r(432)](r(435)+r(406))[r(447)](r(401)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Qt,e=tn();;)try{if(568345===parseInt(r(222))/1+parseInt(r(237))/2*(parseInt(r(225))/3)+parseInt(r(219))/4+parseInt(r(221))/5*(parseInt(r(244))/6)+-parseInt(r(229))/7+parseInt(r(233))/8+-parseInt(r(239))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Ht=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Qt(213)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Ht(this,(function(){var t=Qt,n=new RegExp(t(241)),r=new RegExp(t(215),"i"),e=nn("init");n[t(243)](e+t(234))&&r[t(243)](e+t(220))?nn():e("0")}))()}();var Kt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Qt(t,n){var r=tn();return(Qt=function(t,n){return r[t-=213]})(t,n)}Kt(void 0,(function(){for(var t=Qt,n=function(){var t,n=Qt;try{t=Function(n(214)+n(226)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(232)]||{},e=[t(240),t(218),t(245),"error",t(238),t(236),"trace"],o=0;o<e[t(235)];o++){var i=Kt.constructor[t(230)][t(223)](Kt),s=e[o],c=r[s]||i;i.__proto__=Kt.bind(Kt),i[t(216)]=c[t(216)][t(223)](c),r[s]=i}}))();class Jt extends a{constructor(t){super(t),this.center=new h}}function tn(){var t=["warn","2001112yRDmOr","input","5449645OCTAPa","646310csmAZS","bind","gger","9BqdIMV",'{}.constructor("return this")( )',"while (true) {}","debu","471884AOxFYo","prototype","counter","console","5300384AKOgcw","chain","length","table","192878xXCvuw","exception","22973625FxFSQo","log","function *\\( *\\)","constructor","test","6vUaKGZ","info","stateObject","apply","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","string"];return(tn=function(){return t})()}function nn(t){function n(t){var r=Qt;if(typeof t===r(217))return function(t){}[r(242)](r(227))[r(213)](r(231));1!==(""+t/t).length||t%20==0?function(){return!0}[r(242)](r(228)+"gger").call("action"):function(){return!1}[r(242)]("debu"+r(224)).apply(r(246)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const rn=cn;!function(t,n){const r=cn,e=sn();for(;;)try{if(408105===-parseInt(r(174))/1*(-parseInt(r(160))/2)+-parseInt(r(134))/3+parseInt(r(162))/4*(parseInt(r(153))/5)+-parseInt(r(158))/6+-parseInt(r(119))/7*(-parseInt(r(136))/8)+parseInt(r(122))/9*(parseInt(r(152))/10)+-parseInt(r(177))/11*(parseInt(r(156))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const en=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[cn(142)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){en(this,(function(){const t=cn,n=new RegExp(t(178)),r=new RegExp(t(117),"i"),e=an(t(111));n[t(154)](e+"chain")&&r[t(154)](e+t(133))?an():e("0")}))()}();const on=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[cn(142)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function sn(){const t=["string","apply",'{}.constructor("return this")( )',"set","boundingBox","warn","console","constructor","error","call","gger","1713290LLRIlO","221570HlTsfU","test","monochrome","12DLRSpc","dispose","1463442wWlfva","getTile","2DVjFnT","while (true) {}","16ycDazf","counter","info","getTranMatrix","multiply","computeBoundingSphere","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","copy","flatShading","showBoundingBox","colorSpace","position","788293foijqw","genSaturate","center","7035479aeyDGI","function *\\( *\\)","map","init","bind","getCenter","abort","computeBoundingBox","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","genBright","301gLdVni","length","table","9atgJvy","exception","prototype","log","genContrast","maxZoom","filter","__proto__","geometry","renderOrder","geometryProvider","input","23193JNuSCc","useStandardMaterial","30224qLlBtz","toString","action","add","textureProvider"];return(sn=function(){return t})()}function cn(t,n){const r=sn();return(cn=function(t,n){return r[t-=110]})(t,n)}on(void 0,(function(){const t=cn;let n;try{n=Function("return (function() "+t(143)+");")()}catch(o){n=window}const r=n[t(147)]=n[t(147)]||{},e=[t(125),t(146),t(164),t(149),t(123),t(121),t(116)];for(let i=0;i<e.length;i++){const n=on[t(148)][t(124)][t(112)](on),o=e[i],s=r[o]||n;n[t(129)]=on[t(112)](on),n[t(137)]=s.toString.bind(s),r[o]=n}}))();class un{constructor(t,n){const r=cn;this[r(132)]=t,this[r(140)]=n,this[r(127)]=20,this[r(171)]=!1,this.wireframe=!1,this[r(170)]=!1,this[r(135)]=!1,this.filter=null}[rn(165)](){var t,n,r,e,o;const i=rn;let s=new l;if(null==(t=this.filter)?void 0:t.opposite){let t=new l;t[i(144)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(166)](t)}if(null==(n=this[i(128)])?void 0:n[i(155)]){let t=new l;const n=this.filter.monochrome.r,r=this[i(128)].monochrome.g,e=this[i(128)][i(155)].b;t[i(144)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(166)](t)}if(null==(r=this.filter)?void 0:r[i(118)]){let t=new l;const n=this[i(128)].genBright;t[i(144)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s[i(166)](t)}if(null==(e=this.filter)?void 0:e[i(126)]){let t=new l;const n=this[i(128)].genContrast,r=.5*(1-n);t[i(144)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s.multiply(t)}if(null==(o=this[i(128)])?void 0:o[i(175)]){let t=new l;const n=this[i(128)][i(175)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(144)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(166)](t)}return s}async getTile(t){const n=rn,r=[this[n(132)][n(159)](t),this.textureProvider[n(159)](t)],e=await Promise.all(r),o=e[0],i=e[1];i[n(172)]=I;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this.useStandardMaterial?new v({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this[n(128)]&&(u=new z({baseMaterial:u,vertexShader:n(168),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this.getTranMatrix()}}}));const f=new Jt;if(f[n(131)]=a,o[n(115)](),o[n(145)][n(113)](f[n(176)]),o[n(176)](),o[n(167)](),o.computeBoundsTree(),f[n(173)][n(169)](f[n(176)]),f[n(130)]=o,f.material=u,this.showBoundingBox){const t=new b(o.boundingBox);f[n(139)](t)}return f}[rn(114)](t){const n=rn;this.geometryProvider.abort(t),this[n(140)][n(114)](t)}[rn(157)](t,n){const r=rn,e=n[r(130)],o=n.material;e&&this[r(132)][r(157)](t,e),o&&o.map&&this[r(140)][r(157)](t,o[r(110)]),null==o||o.dispose()}}function an(t){function n(t){const r=cn;if(typeof t===r(141))return function(t){}[r(148)](r(161)).apply(r(163));1!==(""+t/t)[r(120)]||t%20==0?function(){return!0}[r(148)]("debu"+r(151))[r(150)](r(138)):function(){return!1}.constructor("debu"+r(151)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}var fn=hn;function hn(t,n){var r=wn();return(hn=function(t,n){return r[t-=284]})(t,n)}!function(t,n){for(var r=hn,e=wn();;)try{if(463678===parseInt(r(319))/1+parseInt(r(313))/2+parseInt(r(306))/3+parseInt(r(314))/4+-parseInt(r(297))/5+parseInt(r(316))/6+-parseInt(r(317))/7)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var ln=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[hn(315)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ln(this,(function(){var t=hn,n=new RegExp(t(292)),r=new RegExp(t(290),"i"),e=gn(t(284));n[t(288)](e+"chain")&&r[t(288)](e+t(307))?gn():e("0")}))()}();var pn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[hn(315)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();pn(void 0,(function(){for(var t=hn,n=function(){var t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n.console=n[t(293)]||{},e=[t(289),t(312),t(285),t(300),t(295),t(310),"trace"],o=0;o<e[t(287)];o++){var i=pn[t(301)][t(311)].bind(pn),s=e[o],c=r[s]||i;i.__proto__=pn[t(291)](pn),i[t(286)]=c[t(286)].bind(c),r[s]=i}}))();const dn=class t{constructor(n){this[hn(299)]=t.DOWN,this.geometry=n}};dn.UP=1,dn[fn(305)]=2,dn[fn(303)]=3;function gn(t){function n(t){var r=hn;if(typeof t===r(302))return function(t){}[r(301)](r(296))[r(315)](r(304));1!==(""+t/t)[r(287)]||t%20==0?function(){return!0}[r(301)](r(294)+r(309))[r(308)](r(318)):function(){return!1}[r(301)](r(294)+r(309))[r(315)](r(298)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function wn(){var t=["6157389WVLmoy","action","303444IJzCru","init","info","toString","length","test","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","function *\\( *\\)","console","debu","exception","while (true) {}","2020930djftIV","stateObject","mode","error","constructor","string","MATCH","counter","DOWN","1876272gkTlUC","input","call","gger","table","prototype","warn","202944rmMuFQ","1491456UixPHS","apply","2065722GCXwow"];return(wn=function(){return t})()}function In(){var t=["10NzeUfw","warn",'{}.constructor("return this")( )',"constructor","input","prototype","string","function *\\( *\\)","log","action","length","1456772gyrqdO","chain","3502554zEUCuy","init","685864vynjwC","table","gger","stateObject","32247CGswMX","console","call","counter","1144dpTxtw","1195047QazEek","apply","714435vLzYmF","33492590hZEEvI","info","bind","return (function() ","test","__proto__","debu","1LMWkCl","toString","error"];return(In=function(){return t})()}function vn(t,n){var r=In();return(vn=function(t,n){return r[t-=206]})(t,n)}!function(t,n){for(var r=vn,e=In();;)try{if(836944===parseInt(r(225))/1*(-parseInt(r(239))/2)+parseInt(r(217))/3+-parseInt(r(206))/4+-parseInt(r(228))/5*(parseInt(r(241))/6)+-parseInt(r(215))/7+-parseInt(r(214))/8*(parseInt(r(210))/9)+parseInt(r(218))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var yn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[vn(216)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){yn(this,(function(){var t=vn,n=new RegExp(t(235)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=mn(t(242));n.test(e+t(240))&&r[t(222)](e+t(232))?mn():e("0")}))()}();var bn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[vn(216)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function mn(t){function n(t){var r=vn;if(typeof t===r(234))return function(t){}[r(231)]("while (true) {}")[r(216)](r(213));1!==(""+t/t)[r(238)]||t%20==0?function(){return!0}[r(231)](r(224)+r(208))[r(212)](r(237)):function(){return!1}[r(231)](r(224)+r(208))[r(216)](r(209)),n(++t)}try{if(t)return n;n(0)}catch(r){}}bn(void 0,(function(){var t,n=vn;try{t=Function(n(221)+n(230)+");")()}catch(u){t=window}for(var r=t[n(211)]=t[n(211)]||{},e=[n(236),n(229),n(219),n(227),"exception",n(207),"trace"],o=0;o<e.length;o++){var i=bn.constructor[n(233)].bind(bn),s=e[o],c=r[s]||i;i[n(223)]=bn.bind(bn),i[n(226)]=c[n(226)][n(220)](c),r[s]=i}}))(),function(t,n){for(var r=_n,e=Mn();;)try{if(849368===-parseInt(r(276))/1+-parseInt(r(286))/2*(-parseInt(r(272))/3)+parseInt(r(273))/4+-parseInt(r(274))/5+parseInt(r(301))/6*(parseInt(r(302))/7)+-parseInt(r(270))/8+-parseInt(r(280))/9*(parseInt(r(269))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(298)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function _n(t,n){var r=Mn();return(_n=function(t,n){return r[t-=268]})(t,n)}function Mn(){var t=["while (true) {}","chain","10GjJVzM","3514712YraODY","prototype","474YSaYtP","5419404rYLcXQ","364640UbfVmC","trace","76793KxvdjD","warn","exception","error","24124887itrBLA","string","bind","log","length","toString","20252irzDtx","table","function *\\( *\\)","info","stateObject",'{}.constructor("return this")( )',"constructor","console","gger","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","apply","test","input","249474fpDSnZ","196hOGDez","call","debu"];return(Mn=function(){return t})()}!function(){xn(this,(function(){var t=_n,n=new RegExp(t(288)),r=new RegExp(t(296),"i"),e=An(t(295));n[t(299)](e+t(268))&&r.test(e+t(300))?An():e("0")}))()}();var Fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(298)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function An(t){function n(t){var r=_n;if(typeof t===r(281))return function(t){}.constructor(r(305)).apply("counter");1!==(""+t/t)[r(284)]||t%20==0?function(){return!0}[r(292)](r(304)+r(294))[r(303)](r(297)):function(){return!1}[r(292)](r(304)+r(294))[r(298)](r(290)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Fn(void 0,(function(){var t,n=_n;try{t=Function("return (function() "+n(291)+");")()}catch(u){t=window}for(var r=t[n(293)]=t[n(293)]||{},e=["log",n(277),n(289),n(279),n(278),n(287),n(275)],o=0;o<e[n(284)];o++){var i=Fn[n(292)][n(271)][n(282)](Fn),s=e[o],c=r[s]||i;i.__proto__=Fn[n(282)](Fn),i[n(285)]=c.toString.bind(c),r[s]=i}}))();const zn=Tn;function Zn(){const t=["call","463442eOFRoL","6086133YraWUa","debu","apply","getImageData","action","getContext","function *\\( *\\)","error","constructor","1531533PzPysx","round","10HqfJai","gger","56DopguW","7343742lKwYTF","1YBggAW","log","bind","offscreencanvas",'{}.constructor("return this")( )',"console","clip: ","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","trace","8546820aiLkHw","getChildPosition","counter","return (function() ","string","test","table","261096hYdPnL","while (true) {}","getFromBitmap","Get context 2d error.","data","372778vXeGrX","stateObject"];return(Zn=function(){return t})()}!function(t,n){const r=Tn,e=Zn();for(;;)try{if(862912===-parseInt(r(505))/1*(parseInt(r(486))/2)+-parseInt(r(499))/3+-parseInt(r(481))/4+parseInt(r(516))/5+-parseInt(r(504))/6+-parseInt(r(489))/7*(-parseInt(r(503))/8)+-parseInt(r(490))/9*(-parseInt(r(501))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Sn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Tn(492)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Tn(t,n){const r=Zn();return(Tn=function(t,n){return r[t-=477]})(t,n)}!function(){Sn(this,(function(){const t=Tn,n=new RegExp(t(496)),r=new RegExp(t(513),"i"),e=Rn("init");n[t(479)](e+"chain")&&r.test(e+"input")?Rn():e("0")}))()}();const En=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Tn(492)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();En(void 0,(function(){const t=Tn;let n;try{n=Function(t(477)+t(509)+");")()}catch(o){n=window}const r=n.console=n[t(510)]||{},e=[t(506),"warn","info",t(497),t(514),t(480),t(515)];for(let i=0;i<e.length;i++){const n=En[t(498)].prototype.bind(En),o=e[i],s=r[o]||n;n.__proto__=En.bind(En),n[t(512)]=s.toString[t(507)](s),r[o]=n}}))();zn(483),zn(517);function Rn(t){function n(t){const r=Tn;if(typeof t===r(478))return function(t){}.constructor(r(482))[r(492)](r(518));1!==(""+t/t).length||t%20==0?function(){return!0}[r(498)](r(491)+r(502))[r(488)](r(494)):function(){return!1}[r(498)](r(491)+r(502))[r(492)](r(487)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=jn,e=Cn();;)try{if(227973===parseInt(r(364))/1+parseInt(r(349))/2+-parseInt(r(344))/3+-parseInt(r(343))/4*(-parseInt(r(350))/5)+-parseInt(r(348))/6*(parseInt(r(359))/7)+-parseInt(r(353))/8+parseInt(r(345))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var kn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[jn(341)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){kn(this,(function(){var t=jn,n=new RegExp(t(351)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Pn("init");n[t(339)](e+t(335))&&r[t(339)](e+t(337))?Pn():e("0")}))()}();var On=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[jn(341)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function jn(t,n){var r=Cn();return(jn=function(t,n){return r[t-=332]})(t,n)}function Cn(){var t=["debu","chain","counter","input","bind","test","action","apply","prototype","4BMucTc","967554xfSajp","4576671eFcGLO","warn","__proto__","12jEIdIH","431170yUGciH","212710YXQUEm","function *\\( *\\)","console","866008yqWeVk","exception","table","return (function() ","constructor","call","1281063vsaMTx","length","toString","while (true) {}","gger","258114QDayev","info","log"];return(Cn=function(){return t})()}function Pn(t){function n(t){var r=jn;if("string"==typeof t)return function(t){}[r(357)](r(362)).apply(r(336));1!==(""+t/t)[r(360)]||t%20==0?function(){return!0}[r(357)](r(334)+r(363))[r(358)](r(340)):function(){return!1}[r(357)](r(334)+r(363)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}On(void 0,(function(){for(var t=jn,n=function(){var t,n=jn;try{t=Function(n(356)+'{}.constructor("return this")( ));')()}catch(r){t=window}return t}(),r=n[t(352)]=n.console||{},e=[t(333),t(346),t(332),"error",t(354),t(355),"trace"],o=0;o<e.length;o++){var i=On[t(357)][t(342)][t(338)](On),s=e[o],c=r[s]||i;i[t(347)]=On[t(338)](On),i[t(361)]=c[t(361)][t(338)](c),r[s]=i}}))();export{gt as M,Bt as P,un as T,mt as U,B as a,xt as b,Yt as c,At as d,Et as l,Rt as u,zt as w};
