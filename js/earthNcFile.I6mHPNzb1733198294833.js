import{m as n,U as t}from"./@tresjs.sklxXn0u1733198294833.js";import"./index.3i7KAdu11733198294833.js";import{_ as e,p as r,ac as o,cR as i,n as a,bg as s,V as c}from"./three.8iJMi2lU1733198294833.js";import{_ as l,n as u}from"./three-tile.aZFEED7i1733198294833.js";import{N as p}from"./netcdfjs.znMhPlew1733198294833.js";import{u as f,a as m,_ as v}from"./colorList.nP2LkVTh1733198294833.js";import{P as d}from"./tweakpane.yHWGBmom1733198294833.js";import{d as y,b as g,a6 as h,a as x,w as b,o as w,D as j,J as I,aj as _,ak as T,u as D,I as S,j as E,f as P,g as z,al as A,F as M,r as F,e as k,m as L}from"./@vue.-THQH3GC1733198294833.js";import{c as C,s as R}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.7u9QBPVE1733198294833.js";import{a as B}from"./mapBoxShow.vue_vue_type_script_setup_true_lang.UFIhFNBP1733198294833.js";import{i as O}from"./informationDiv.yaG8qDwD1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";import"./three-custom-shader-material.GYlVajj-1733198294833.js";import"./3d-tiles-renderer.rJha8kes1733198294833.js";import"./index.xCEay1oD1733198294833.js";import"./@mapbox.0_u-ee9v1733198294833.js";import"./@amap.DgFRMjnW1733198294833.js";import"./three-mesh-bvh.oXi0pqYE1733198294833.js";import"./utils.5KluHusY1733198294833.js";import"./@tweenjs.J1BAvmPw1733198294833.js";import"./utils.mPUSF2NM1733198294833.js";import"./@fesjs.X1U4uwri1733198294833.js";import"./vue-router.H2Xo87u11733198294833.js";import"./lodash-es.kYt-_xTG1733198294833.js";import"./@qlin.yHhFDldE1733198294833.js";import"./pinia.ZJJJwhVu1733198294833.js";import"./vue-demi.C4xddsk91733198294833.js";import"./@floating-ui.BPbuo5Gx1733198294833.js";import"./@juggle.7yjBMqoW1733198294833.js";import"./http.WNFyz1e-1733198294833.js";import"./axios.Ng308AU61733198294833.js";import"./color.jojxHvU71733198294833.js";import"./color-string.MLbc3nFT1733198294833.js";import"./color-name.wZtbERCd1733198294833.js";import"./simple-swizzle.vN4jMomp1733198294833.js";import"./is-arrayish.3YRC725L1733198294833.js";import"./color-convert.wFbfNiW-1733198294833.js";import"./lodash.g0L_0TEs1733198294833.js";import"./naive-ui.GnAwRF6S1733198294833.js";import"./date-fns.dsKIdits1733198294833.js";import"./@css-render.p9vfyQxp1733198294833.js";import"./seemly.SjiSeX2v1733198294833.js";import"./css-render.Cdja4FaB1733198294833.js";import"./@emotion.ZD_ZYAgY1733198294833.js";import"./vooks.jh4X_sUQ1733198294833.js";import"./evtd.DtfwxtIl1733198294833.js";import"./vueuc.GKEI1yRw1733198294833.js";import"./vdirs.R6FXrH4p1733198294833.js";import"./treemate.dcEdf2le1733198294833.js";import"./date-fns-tz.nq2RXdwW1733198294833.js";import"./async-validator.-YBkpS4I1733198294833.js";import"./d3-geo.kglYp31S1733198294833.js";import"./d3-array.E5C1cfJ61733198294833.js";import"./iobuffer.X3Ykb-iF1733198294833.js";!function(n,t){const e=Q,r=W();for(;;)try{if(376710===-parseInt(e(470))/1+-parseInt(e(458))/2+parseInt(e(419))/3+-parseInt(e(457))/4+-parseInt(e(434))/5+parseInt(e(484))/6+parseInt(e(466))/7*(parseInt(e(493))/8))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Q(448)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){Z(this,(function(){const n=Q,t=new RegExp(n(487)),e=new RegExp(n(426),"i"),r=$("init");t[n(498)](r+n(449))&&e[n(498)](r+"input")?$():r("0")}))()}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();G(void 0,(function(){const n=Q,t=function(){const n=Q;let t;try{t=Function(n(435)+n(471)+");")()}catch(e){t=window}return t}(),e=t[n(422)]=t[n(422)]||{},r=[n(499),"warn",n(461),n(413),n(469),n(431),n(428)];for(let o=0;o<r.length;o++){const t=G[n(454)].prototype[n(492)](G),i=r[o],a=e[i]||t;t[n(473)]=G[n(492)](G),t.toString=a[n(486)].bind(a),e[i]=t}}))();function N(n,t,e=0){const r=Q,o=function(n,t,e){const r=Q;switch(e){case"byte":return e=>n.getInt8(t+e,!1);case r(416):return e=>n.getInt16(t+2*e,!1);case r(494):return e=>n[r(440)](t+4*e,!1);case"float":return e=>n[r(450)](t+4*e,!1);case r(445):return e=>n[r(423)](t+8*e,!1);default:return console[r(413)](r(476),e),()=>0}}(new DataView(n),e,t[r(496)]);t[r(502)]=function(n){const t=Q;switch(n[t(496)]){case"byte":return new Uint8Array(n[t(497)]);case"short":case t(494):case t(452):case t(445):return new Float32Array(n[t(497)]);default:return console[t(413)](t(476),n[t(496)]),()=>0}}(t),t[r(465)]=1/0,t.max=-1/0,t.record&&console.warn(r(468),t[r(447)]);for(let i=0;i<t[r(497)];i++){const n=o(i);t[r(502)][i]=n,t[r(465)]>n&&(t[r(465)]=n),t[r(495)]<n&&(t.max=n)}return t}function U(n,t,e){const r=Q;if(e>=t[r(429)][r(456)])return 1;const o=t.dimensions[e],i=n[r(478)];return o===i.id?i.length:n[r(429)][o].size}function V(n){const t=Q;if(function(n){const t=Q;switch(n){case t(443):return e[t(480)];case t(416):case t(494):return e[t(475)];case t(452):case t(445):return r;default:return void console[t(413)](t(476),n)}}(n.type)!==e[t(475)])return n;for(let e=0;e<n[t(497)];e++)n[t(502)][e]=Math.min(1,Math[t(495)](0,(n[t(502)][e]-n[t(465)])/(n[t(495)]-n[t(465)])));return n}function Q(n,t){const e=W();return(Q=function(n,t){return e[n-=413]})(n,t)}function W(){const n=["exception","528484hpkQmN",'{}.constructor("return this")( )',"counter","__proto__","zLength","FloatType","unsupported type : ","xLength","recordDimension","read","UnsignedByteType","url","debu","arrayBuffer","1424160FQGZDt","minFilter","toString","function *\\( *\\)","bytes","Accept-Ranges","HTTP error! status: ","reader","bind","24VuFFKa","int","max","type","size","test","log","variables","while (true) {}","data","error","Data3DTexture","offset","short","resolve","needsUpdate","1615614nhVUOZ","then","headers","console","getFloat64","bytes=","buffer","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","GET","trace","dimensions","body","table","format","magFilter","228225kiQMIz","return (function() ","acceptRanges","get","subarray","call","getInt32","variable","getReader","byte","bytesReceived","double","stateObject","record","apply","chain","getFloat32","set","float","yLength","constructor","unpackAlignment","length","621944AcpzTX","352414PFsheX","name","netcdf header头文件不合法!","info","bytesTotal","done","value","min","1182146IAhTuj","gger","decoding of record data is not fully supported yet"];return(W=function(){return n})()}function $(n){function t(n){const e=Q;if("string"==typeof n)return function(n){}[e(454)](e(501)).apply(e(472));1!==(""+n/n)[e(456)]||n%20==0?function(){return!0}[e(454)](e(482)+e(467))[e(439)]("action"):function(){return!1}[e(454)](e(482)+"gger")[e(448)](e(446)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const H=q;function q(n,t){const e=X();return(q=function(n,t){return e[n-=490]})(n,t)}!function(n,t){const e=q,r=X();for(;;)try{if(601613===-parseInt(e(561))/1+-parseInt(e(560))/2*(parseInt(e(515))/3)+-parseInt(e(500))/4+-parseInt(e(577))/5*(-parseInt(e(552))/6)+parseInt(e(526))/7*(-parseInt(e(492))/8)+parseInt(e(530))/9*(parseInt(e(571))/10)+parseInt(e(554))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[q(576)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){J(this,(function(){const n=q,t=new RegExp(n(508)),e=new RegExp(n(540),"i"),r=rn(n(591));t[n(545)](r+n(504))&&e[n(545)](r+n(535))?rn():r("0")}))()}();const K=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function X(){const n=["setArrayBuffer","体积采样率","matrix","clim1","setDataTypeFromJSdata","return (function() ","toString","getThreeType","clim2","bind","zExtent","init","needsUpdate","BoxGeometry","addBinding","208iYUtLp","gger","byteArray","list","value","TresGroup","map","debu","4781708LtgzcP","maximumIntensity","counter","EdgesGeometry","chain","是否反色","format","table","function *\\( *\\)","exception","体绘制的阈值","zLength","magFilter","alphaScale","thresholding","59361WqIeik","colorTexture","composeType","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/ncFile/2003.nc","info","wrapS","TresBoxGeometry","uniforms","filter","name","variables","201992qExETO","气象要素","console",'{}.constructor("return this")( )',"63asybqr","BackSide","constructor","wrapR","while (true) {}","input","trace","string","primitive","ClampToEdgeWrapping","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","type","samplingRate","scale","test","stateObject","updateTransferFunction","RedFormat","visible","volumeMesh","Vector2","6HjFhXu","geo2pos","16252577lMWAvG","__proto__","length","minFilter","dataTexture","rotation","12NGUmQi","898719DuZcPZ","prototype","action","LineSegments","xLength","data","LinearFilter","u_clim","xExtent","change","1689530EpneUp","THT","log","yExtent","TresMesh","apply","4522795eedphA","object","显示边框"];return(X=function(){return n})()}K(void 0,(function(){const n=q;let t;try{t=Function(n(585)+n(529)+");")()}catch(o){t=window}const e=t.console=t[n(528)]||{},r=["log","warn",n(519),"error",n(509),n(507),n(536)];for(let i=0;i<r[n(556)];i++){const t=K.constructor[n(562)][n(589)](K),o=r[i],a=e[o]||t;t[n(555)]=K.bind(K),t[n(586)]=a[n(586)].bind(a),e[o]=t}}))();const Y=["position",H(559)],nn=[H(544),H(549)],tn=[H(578)],en=y({__name:H(550),props:{map:{}},async setup(n){const t=H;let r,c;const l=n,u=l[t(498)][t(553)](new(e[t(541)])(118.724419,32.010354,200.8));u.applyMatrix4(l.map[t(582)]);const v=g(1),y=g(1),E=g(1),P=f(),z=new(e[t(564)])(new(e[t(503)])(new(e[t(490)])(1,1,1)),new o({color:10066329})),A=([r,c]=h((()=>(async n=>{const t=Q,e=await fetch(n,{method:t(427)});if(!e.ok)throw new Error(t(490)+e.status);const r=e[t(430)][t(442)]();let o=0,i=null;return await r.read()[t(420)]((function n(a){const s=t,c=o+a.value.length;if(i){const n=i[s(438)](0,o);i=new Uint8Array(c),i[s(451)](n,0,o),i[s(451)](a.value,o)}else i=a[s(464)];o=c;try{const n=new p(i);return n[s(481)]=e[s(481)],n[s(491)]=r,n[s(462)]=e[s(421)][s(437)]("Content-Length"),n.acceptRanges=e[s(421)][s(437)](s(489))===s(488),n[s(444)]=o,n}catch(l){return a[s(463)]?void console[s(499)](s(460)):r[s(479)]()[s(420)](n)}}))})(t(518)))),r=await r,c(),r),M=A[t(525)][t(523)]((n=>3==n.dimensions[t(556)])),F=g(t(572)),k=m(),L=async()=>{const n=t,e=V(await function(n,t,e=!1){const r=Q;void 0===n[r(444)]&&(n[r(444)]=n.buffer.byteLength);const o=e||n[r(436)],i=n[r(500)].find((n=>n[r(459)]===t)),a={variable:t,xLength:U(n,i,0),yLength:U(n,i,1),zLength:U(n,i,2),type:i[r(496)]};i[r(447)]&&(a[r(447)]=n[r(478)]),a[r(497)]=a[r(477)]*a[r(453)]*a[r(474)];const s=i[r(415)],c=s+i.size-1;if(!o&&c>=n[r(444)])return fetch(n.url)[r(420)]((n=>n.arrayBuffer())).then((n=>N(n,a,s)));if(n[r(491)]&&(n.reader.cancel(),n[r(491)]=void 0),c<n[r(444)])return Promise[r(417)](N(n[r(425)][r(425)],a,s));const l=new Headers({Range:r(424)+s+"-"+c});return fetch(n[r(481)],{headers:l})[r(420)]((n=>n[r(483)]()))[r(420)]((n=>N(n,a)))}(A,F[n(496)]));console[n(573)](e),k[n(584)](e[n(566)]),k.xExtent=e[n(565)],k.yExtent=e.yLength,k[n(590)]=e[n(511)],k[n(580)](e[n(566)]),v[n(496)]=400,y[n(496)]=k[n(574)]/k[n(569)]*400,E[n(496)]=k.zExtent/k.xExtent*400};[r,c]=h((()=>L())),await r,c();const C=x((()=>{const n=t;return!(v[n(496)]<=.01&&v[n(496)]>=-.01)&&(!(y.value<=.01&&y[n(496)]>=-.01)&&!(E.value<=.01&&E[n(496)]>=-.01))})),R=()=>{const n=t,r=new i(k[n(494)],k.xExtent,k[n(574)],k[n(590)]);return r[n(506)]=e[n(548)],r[n(542)]=k[n(587)](),r[n(557)]=e[n(567)],r[n(512)]=a,r[n(520)]=s,r.wrapT=s,r[n(533)]=e[n(539)],r[n(592)]=!0,r},B={uniforms:{dataTexture:{value:R()},colorTexture:{value:P.updateTransferFunction()},samplingRate:{value:4},threshold:{value:.5},alphaScale:{value:1},invertColor:{value:!1},composeType:{value:1},u_clim:{value:new(e[t(551)])(.093,-.001)}},vertexShader:"out vec3 vOrigin; \nout vec3 vDirection;  \nvarying vec3 vPosition;\n\nvoid main() {\n  vPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  \n  \n  vOrigin = vec3(inverse(modelMatrix) * vec4(cameraPosition, 1.0)).xyz;\n  \n  vDirection = position - vOrigin;\n\n  \n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}",fragmentShader:"precision highp sampler3D; \nprecision highp float;     \n\nuniform sampler3D dataTexture;  \nuniform sampler2D colorTexture; \nuniform float samplingRate;     \nuniform float threshold;  \nuniform float alphaScale; \nuniform bool invertColor; \nuniform float composeType;\n\nin vec3 vOrigin;    \nin vec3 vDirection; \n\nuniform vec4 clipPlanesArray[3]; \nvarying vec3 vPosition;\nuniform vec2 u_clim;\n\nfloat sampleData(vec3 texcoords) {\n\t\treturn (texture(dataTexture, texcoords.xyz).r - u_clim[0]) / (u_clim[1] - u_clim[0]);\n}\n\nvec4 sampleColor(float value) {\n  \n  \n  float x = invertColor ? 1. - value : value;\n  return texture(colorTexture, vec2(x, .5));\n}\n\nvec2 intersectAABB(vec3 rayOrigin, vec3 rayDir, vec3 boxMin, vec3 boxMax) {\n  vec3 tMin = (boxMin - rayOrigin) / rayDir;\n  vec3 tMax = (boxMax - rayOrigin) / rayDir;\n  vec3 t1 = min(tMin, tMax);\n  vec3 t2 = max(tMin, tMax);\n  float tNear = max(max(t1.x, t1.y), t1.z);\n  float tFar = min(min(t2.x, t2.y), t2.z);\n\n  return vec2(tNear, tFar);\n}\n\nvec4 compose_maximumIntensity(vec4 color, vec3 entryPoint, vec3 rayDir,\n                              float samples, float tStart, float tEnd,\n                              float tIncr) {\n  \n  \n  float density = 0.;\n  for (float i = 0.; i < samples; i += 1.) {\n    \n    float t = tStart + tIncr * i;     \n    vec3 p = entryPoint + rayDir * t; \n\n    \n    float value = sampleData(p);\n\n    \n    if (value > density) {\n      \n      density = value;\n    }\n\n    \n    \n    if (density >= 1. || t > tEnd) {\n      break;\n    }\n  }\n\n  \n  color.rgb = sampleColor(density).rgb;\n  \n  color.a = alphaScale * (invertColor ? 1. - density : density);\n\n  \n  return color;\n}\n\nvec4 compose_thresholding(vec4 color, vec3 entryPoint, vec3 rayDir,\n                          float samples, float tStart, float tEnd,\n                          float tIncr) {\n  \n  \n\n  \n  \n  for (float i = 0.; i < samples; i += 1.) {\n    \n    float t = tStart + tIncr * i;     \n    vec3 p = entryPoint + rayDir * t; \n\n    \n    float value = sampleData(p);\n\n    \n    if (value >= threshold || t > tEnd) {\n      \n      color.rgb = sampleColor(value).rgb;\n      \n      color.a = alphaScale;\n      break;\n    }\n  }\n\n  \n  return color;\n}\nvec4 compose_emissionAbsorption(vec4 color, vec3 entryPoint, vec3 rayDir,\n                                float samples, float tStart, float tEnd,\n                                float tIncr) {\n  \n\n  \n  \n  for (float i = 0.; i < samples; i += 1.) {\n    \n    float t = tStart + tIncr * i;     \n    vec3 p = entryPoint + rayDir * t; \n\n    \n    float value = sampleData(p);\n    \n    vec4 valueColor = sampleColor(value);\n\n    \n    valueColor.a *= value * alphaScale;\n    valueColor.rgb *= valueColor.a;\n\n    color.rgb += (1. - color.a) * valueColor.rgb;\n    color.a += (1. - color.a) * valueColor.a;\n\n    \n    \n    if (color.a >= .99 || t > tEnd) {\n      break;\n    }\n  }\n\n  \n  return color;\n}\nvec4 compose(vec4 color, vec3 entryPoint, vec3 rayDir, float samples,\n             float tStart, float tEnd, float tIncr) {\n  if (composeType == 1.) {\n    return compose_maximumIntensity(color, entryPoint, rayDir, samples, tStart,\n                                    tEnd, tIncr);\n  }\n  if (composeType == 2.) {\n    return compose_thresholding(color, entryPoint, rayDir, samples, tStart,\n                                tEnd, tIncr);\n  }\n  if (composeType == 3.) {\n    return compose_emissionAbsorption(color, entryPoint, rayDir, samples,\n                                      tStart, tEnd, tIncr);\n  }\n}\n\nvoid main() {\n  \n  vec3 rayDir = normalize(vDirection);\n  vec3 aabbmin = vec3(-.5);\n  vec3 aabbmax = vec3(.5);\n  vec2 intersection = intersectAABB(vOrigin, rayDir, aabbmin, aabbmax);\n\n  \n  vec4 color = vec4(0.);\n\n  \n  \n  if (intersection.x <= intersection.y) {\n    \n    \n    intersection.x = max(intersection.x, 0.);\n    \n    vec3 entryPoint = vOrigin + rayDir * intersection.x;\n    vec3 exitPoint = vOrigin + rayDir * intersection.y;\n\n    \n    \n    \n    vec3 dimensions = vec3(textureSize(dataTexture, 0));\n    vec3 entryToExit = exitPoint - entryPoint;\n    float samples =\n        ceil(samplingRate * length(entryToExit * (dimensions - vec3(1.))));\n    float tEnd = length(entryToExit);\n    float tIncr = tEnd / samples;\n    float tStart = .5 * tIncr;\n\n    \n    vec3 texEntry = (entryPoint - aabbmin) / (aabbmax - aabbmin);\n\n    \n    color = compose(color, texEntry, rayDir, samples, tStart, tEnd, tIncr);\n  }\n\n  \n  vec4 eeee = vec4(.0, .0, .0, 1.0);\n  eeee.x = dot(vPosition, clipPlanesArray[0].xyz)+clipPlanesArray[0].w;\n  if (eeee.x < 0.0)\n      discard; \n  eeee.y = dot(vPosition, clipPlanesArray[1].xyz)+clipPlanesArray[1].w;\n  if (eeee.y < 0.0)\n      discard; \n  eeee.z = dot(vPosition, clipPlanesArray[2].xyz)+clipPlanesArray[2].w;\n  if (eeee.z < 0.0)\n      discard; \n  \n  gl_FragColor = color;\n}",side:e[t(531)],transparent:!0},O=g(!0),Z=new d;return Z.addBlade({view:"list",label:t(527),options:M.map((n=>({text:n[t(524)],value:n[t(524)]}))),value:F[t(496)]}).on(t(570),(async n=>{const e=t;F[e(496)]=n.value,await L(),B.uniforms[e(558)][e(496)]=R()})),Z[t(491)](B[t(522)][t(568)].value,"x",{label:t(583),min:.01,max:.6,step:.001}),Z[t(491)](B.uniforms[t(568)].value,"y",{label:t(588),min:-.1,max:.03,step:.001}),Z.addBlade({view:t(495),label:"模式",options:[{text:t(501),value:1},{text:t(514),value:2},{text:"emissionAbsorption",value:3}],value:B[t(522)].composeType.value}).on(t(570),(n=>{const e=t;B[e(522)][e(517)][e(496)]=n[e(496)]})),Z.addBinding(B[t(522)][t(543)],t(496),{label:t(581),min:0,max:5,step:.01}),Z[t(491)](B[t(522)].threshold,"value",{label:t(510),min:0,max:1,step:.01}),Z[t(491)](B.uniforms[t(513)],t(496),{label:"透明度",min:0,max:1,step:.01}),Z[t(491)](B[t(522)].invertColor,t(496),{label:t(505)}),Z[t(491)](O,t(496),{label:t(579)}),b((()=>P.colorsStops),(()=>{const n=t;B.uniforms[n(516)][n(496)]=P[n(547)]()}),{deep:!0,immediate:!0}),(n,e)=>{const r=t;return w(),j(r(497),{position:[...D(u)],rotation:[-Math.PI/2,0,0]},[I(r(575),{scale:[v[r(496)],y.value,E[r(496)]],visible:C.value,renderOrder:99990},[e[0]||(e[0]=I(r(521),{args:[1,1,1]},null,-1)),I("TresShaderMaterial",_(T(B)),null,16),O[r(496)]?(w(),j(r(538),{key:0,object:D(z)},null,8,tn)):S("",!0)],8,nn)],8,Y)}}});function rn(n){function t(n){const e=q;if(typeof n===e(537))return function(n){}[e(532)](e(534))[e(576)](e(502));1!==(""+n/n)[e(556)]||n%20==0?function(){return!0}[e(532)](e(499)+"gger").call(e(563)):function(){return!1}[e(532)](e(499)+e(493))[e(576)](e(546)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const on=fn;function an(){const n=["4178050YoiCOG","stateObject","console","exception",'{}.constructor("return this")( )',"tdLight","35zrAPuY","target","warn","localToWorld","input","error","apply","copy","964536ojkJMW","constructor","object","GDSource","debu","toString","flyToGeo","4972473IIDsxP","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","primitive","table","test","trace","position","counter","action","Vector3","93716kGbSFw","init","78MvsSGs","chain","TileMap","1719832rSMZwX","value","geo2pos","length","call","__proto__","524184ZTGleL","bind","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","MapBoxSource","log","map","562609SZQwIz","TresDirectionalLight","plugin","domElement"];return(an=function(){return n})()}!function(n,t){const e=fn,r=an();for(;;)try{if(456489===-parseInt(e(457))/1+parseInt(e(445))/2+-parseInt(e(442))/3*(-parseInt(e(440))/4)+-parseInt(e(461))/5+parseInt(e(475))/6+parseInt(e(467))/7*(-parseInt(e(451))/8)+parseInt(e(429))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const sn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[fn(473)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){sn(this,(function(){const n=fn,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(430),"i"),r=mn(n(441));t[n(434)](r+n(443))&&e[n(434)](r+n(471))?mn():r("0")}))()}();const cn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[fn(473)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();cn(void 0,(function(){const n=fn;let t;try{t=Function("return (function() "+n(465)+");")()}catch(o){t=window}const e=t.console=t[n(463)]||{},r=[n(455),n(469),"info",n(472),n(464),n(433),n(435)];for(let i=0;i<r[n(448)];i++){const t=cn[n(476)].prototype[n(452)](cn),o=r[i],a=e[o]||t;t[n(450)]=cn[n(452)](cn),t.toString=a[n(427)][n(452)](a),e[o]=t}}))();const ln=[on(477)],un=on(453),pn=y({__name:on(456),setup(t){const r=on,o=new(l[r(459)][r(454)])({token:un,dataType:"terrain-rgb",style:"mapbox.terrain-rgb",maxLevel:15}),i=new(l[r(444)])({imgSource:[new u.GDSource({style:"6"}),new(l[r(459)][r(478)])({style:"8"})],demSource:o,lon0:90,minLevel:2,maxLevel:20});i.rotateX(-Math.PI/2);const a=new(e[r(439)])(110,30,0),s=new(e[r(439)])(110,0,1e4),p=i[r(470)](i[r(447)](a)),f=i.localToWorld(i[r(447)](s)),m=g(),{camera:v,controls:d,scene:y,renderer:h}=n();v[r(446)]&&v[r(446)][r(436)][r(474)](f),b((()=>d.value),(n=>{const t=r;n&&(n[t(468)].copy(p),C(n,v[t(446)],y[t(446)]))})),b((()=>m.value),(n=>{const t=r;n&&n[t(468)][t(436)][t(474)](p)}));const x=g();return b((()=>x[r(446)]),(n=>{const t=r;if(n){const r=new c(108.724419,30.510354,200),o=new(e[t(439)])(118.724419,32.010354,0);setTimeout((()=>{n[t(428)](r,o)}),500)}})),R(v.value,h[r(446)][r(460)],i),(n,t)=>{const e=r;return w(),j(M,null,[I(e(458),{ref_key:e(466),ref:m,position:[0,2e3,1e3],intensity:1},null,512),I(e(432),{object:D(i)},null,8,ln),E(D(B),{map:D(i),ref_key:"flyToRef",ref:x},null,8,[e(456)]),(w(),P(A,null,{default:z((()=>[E(en,{map:D(i)},null,8,[e(456)])])),_:1}))],64)}}});function fn(n,t){const e=an();return(fn=function(n,t){return e[n-=427]})(n,t)}function mn(n){function t(n){const e=fn;if(typeof n===e(431))return function(n){}[e(476)]("while (true) {}")[e(473)](e(437));1!==(""+n/n)[e(448)]||n%20==0?function(){return!0}[e(476)](e(479)+"gger")[e(449)](e(438)):function(){return!1}[e(476)]("debugger")[e(473)](e(462)),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=gn,r=dn();for(;;)try{if(645647===-parseInt(e(214))/1*(-parseInt(e(231))/2)+-parseInt(e(248))/3*(-parseInt(e(246))/4)+parseInt(e(237))/5+parseInt(e(226))/6*(parseInt(e(252))/7)+parseInt(e(243))/8*(parseInt(e(212))/9)+parseInt(e(225))/10+parseInt(e(247))/11*(-parseInt(e(216))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const vn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[gn(217)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function dn(){const n=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1632951sQeoMS","init","18ZAFweV","error","792jZNnKd","apply","call","__proto__","rgba(242, 0, 0, 1)","gger","length","toString","exception","278120ljMEwN","18erFHyE","test","rgba(106, 204, 0, 1)","rgba(0, 130, 250, 1)","TresCanvas","128178jgFCDB","chain","prototype","TresAmbientLight","debu","action","3342230YNcAbz","bind","constructor","log","trace","rgba(255, 220, 0, 1)","8wGQAfK","warn","console","196fhkmFV","358985oKkMpw","8217BzvJci","while (true) {}","TresPerspectiveCamera","function *\\( *\\)","1479443EgMmwV","stateObject","info","table"];return(dn=function(){return n})()}!function(){vn(this,(function(){const n=gn,t=new RegExp(n(251)),e=new RegExp(n(211),"i"),r=xn(n(213));t[n(227)](r+n(232))&&e[n(227)](r+"input")?xn():r("0")}))()}();const yn=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[gn(217)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function gn(n,t){const e=dn();return(gn=function(n,t){return e[n-=211]})(n,t)}yn(void 0,(function(){const n=gn,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t[n(245)]=t.console||{},r=[n(240),n(244),n(254),n(215),n(224),n(255),n(241)];for(let o=0;o<r[n(222)];o++){const t=yn[n(239)][n(233)].bind(yn),i=r[o],a=e[i]||t;t[n(219)]=yn.bind(yn),t[n(223)]=a[n(223)][n(238)](a),e[i]=t}}))();const hn=y({__name:"earthNcFile",setup(n){const e=F({alpha:!0,precision:"highp"}),r=F({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,minDistance:.1,maxDistance:3e4,maxPolarAngle:1.2,dampingFactor:.035,keyPanSpeed:5});return(n,o)=>{const i=gn,a=k(i(230));return w(),j(M,null,[E(v,{showSetup:!0,curColorList:[[i(229),.6228070175438597],["rgba(0, 204, 146, 1)",.7105263157894737],[i(228),.8114035087719298],[i(242),.8947368421052632],[i(220),1]]}),E(a,L(e,{"window-size":""}),{default:z((()=>[o[0]||(o[0]=I(i(250),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),E(D(t),_(T(r)),null,16),o[1]||(o[1]=I(i(234),{intensity:1},null,-1)),E(pn)])),_:1},16),E(D(O))],64)}}});function xn(n){function t(n){const e=gn;if("string"==typeof n)return function(n){}[e(239)](e(249)).apply("counter");1!==(""+n/n)[e(222)]||n%20==0?function(){return!0}[e(239)](e(235)+e(221))[e(218)](e(236)):function(){return!1}.constructor(e(235)+e(221))[e(217)](e(253)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{hn as default};
