import{i as n}from"./ice-utils.Vno-VObP1738810638719.js";import{_ as t,m as e}from"./gl-matrix.AFK4LjqA1738810638719.js";import{P as o}from"./tweakpane.yDiyAAkA1738810638719.js";import{d as r,r as i,q as a,o as c,H as s,N as u,u as f}from"./@vue.NRI7TcgI1738810638719.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",d=g;!function(n,t){const e=g,o=_();for(;;)try{if(850386===-parseInt(e(509))/1*(-parseInt(e(471))/2)+parseInt(e(473))/3+-parseInt(e(502))/4+-parseInt(e(469))/5*(-parseInt(e(439))/6)+parseInt(e(438))/7+parseInt(e(478))/8*(-parseInt(e(462))/9)+-parseInt(e(488))/10*(parseInt(e(436))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[g(527)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function _(){const n=["useProgram","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TEXTURE_2D","ELEMENT_ARRAY_BUFFER","string","2101PFnqtg","uniform1f","1754851KlPzHR","54BwXVZf","getContext","UNSIGNED_BYTE","TEXTURE_MAG_FILTER","translate","value","stateObject","innerHeight","querySelector","mat4","canvaswebgl","offset_left_bottom","addBinding","BLEND","slider","enableVertexAttribArray","uProjection","length","uModel","test","action","ortho","change","210483vYDzoT","info","logo-texture","width","texImage2D","innerWidth","inline","755115puFUCj","error","14204kwOqXc","FRAMEBUFFER","3208464CyLKjw","gger","prototype","blendFunc","counter","312jEYdsZ","lookAt","input","offset_right_bottom","console","CLAMP_TO_EDGE","STATIC_DRAW","createBuffer","offset_right_top","getElementById","91950xJCsxk","bufferData","FLOAT","getUniformLocation","createTexture","constructor","vertexAttribPointer","COLOR_ATTACHMENT0","NEAREST","clearColor","uniformMatrix4fv","exception","bindTexture","bindBuffer","3148088gbrfhI","RGBA","bindFramebuffer",'{}.constructor("return this")( )',"bind","ARRAY_BUFFER","TEXTURE_WRAP_S","229NNwZds","enable","COLOR_BUFFER_BIT","none","BYTES_PER_ELEMENT","createFramebuffer","texParameteri","TRIANGLES","framebufferTexture2D","addBlade","mixParam","hidden","log","offset_left_top","height","while (true) {}","warn","init","apply","drawElements","chain","uView","clear","trace","create","img","是否后处理","ONE_MINUS_SRC_ALPHA","webglPostProcessing","TEXTURE_WRAP_T","toString","canvas","debu"];return(_=function(){return n})()}!function(){x(this,(function(){const n=g,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(432),"i"),o=R(n(526));t.test(o+n(529))&&e[n(458)](o+n(480))?R():o("0")}))()}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[g(527)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function g(n,t){const e=_();return(g=function(n,t){return e[n-=426]})(n,t)}E(void 0,(function(){const n=g;let t;try{t=Function("return (function() "+n(505)+");")()}catch(r){t=window}const e=t.console=t[n(482)]||{},o=[n(521),n(525),n(463),n(470),n(499),"table",n(532)];for(let i=0;i<o.length;i++){const t=E[n(493)][n(475)][n(506)](E),r=o[i],a=e[r]||t;t.__proto__=E[n(506)](E),t.toString=a[n(428)].bind(a),e[r]=t}}))();const p={id:d(449)},T=["src"],A=r({__name:d(426),setup(r){const x=d;let _,E,g,A,R,b,y,v,F,w,h,P,C;const B=1,I=.71,U=.76,N=new o({title:"参数"}),S=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});N[x(518)]({view:x(453),label:"颜色",min:0,max:1,value:.5}).on(x(461),(n=>{const t=x;O(),E[t(437)](P,n[t(444)])}));let D=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);N[x(451)](S,x(520),{label:x(535)}),N[x(451)](S,x(486),{picker:x(468),x:{min:0,max:1},y:{min:0,max:1}}).on(x(461),(n=>{const t=x;D[0]=S.offset_right_top.x,D[1]=S[t(486)].y,O()})),N.addBinding(S,x(481),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(461),(n=>{const t=x;D[5]=S[t(481)].x,D[6]=S[t(481)].y,O()})),N.addBinding(S,x(450),{picker:x(468),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(461),(n=>{const t=x;D[10]=S[t(450)].x,D[11]=S.offset_left_bottom.y,O()})),N[x(451)](S,x(522),{picker:x(468),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(461),(n=>{const t=x;D[15]=S[t(522)].x,D[16]=S[t(522)].y,O()})),a((()=>{L()}));const L=function(){const t=x;_=document[t(447)]("#canvaswebgl"),_[t(465)]=window[t(467)],_[t(523)]=window[t(446)],E=_[t(440)]("webgl"),E&&(function(){const t=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);A=k(e,o),g=n(E,l,m),F=E[t(491)](g,t(455)),w=E[t(491)](g,t(530)),h=E[t(491)](g,t(457)),C=Y(document[t(487)](t(464)))}(),O(),E[t(510)](E[t(452)]),E[t(476)](E.SRC_ALPHA,E[t(536)]),M())};function M(){const n=x;E[n(504)](E[n(472)],y),E[n(497)](B,I,U,1),E[n(531)](E[n(511)]),function(){const n=x;E[n(431)](g),E[n(501)](E[n(507)],A);const o=t[n(448)][n(533)]();e[n(460)](o,0,_[n(465)],_[n(523)],0,.1,100),E[n(498)](F,!1,o);const r=t[n(448)].create();e[n(479)](r,[0,0,1],[0,0,0],[0,1,0]),E.uniformMatrix4fv(w,!1,r),j(C,600,600),j(C,400,400)}(),E[n(504)](E[n(472)],null),S[n(520)]&&(E[n(531)](E[n(511)]),E[n(497)](0,0,1,1),E.bindBuffer(E[n(507)],R),E.useProgram(b),E[n(500)](E.TEXTURE_2D,v)),E[n(528)](E[n(516)],6,E[n(441)],0),requestAnimationFrame(M)}function j(n,o,r){const i=x;let a=t[i(448)][i(533)]();e[i(443)](a,a,[o,r,0]),t[i(448)].scale(a,a,[250,250,0]),E.uniformMatrix4fv(h,!1,a),E[i(500)](E[i(433)],n),E.drawElements(E[i(516)],6,E.UNSIGNED_BYTE,0)}function O(){const t=x,e=new Uint8Array([0,1,2,0,2,3]);R=k(D,e),b=n(E,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),P=E[t(491)](b,t(519)),E[t(491)](b,"color"),function(){const n=x;v=Y(_),y=E[n(514)](),E.bindFramebuffer(E.FRAMEBUFFER,y),E[n(517)](E[n(472)],E[n(495)],E[n(433)],v,0),E[n(504)](E[n(472)],null)}()}function Y(n){const t=x,e=E[t(492)]();return E[t(500)](E.TEXTURE_2D,e),n instanceof HTMLImageElement?E[t(466)](E[t(433)],0,E[t(503)],E.RGBA,E[t(441)],n):E[t(466)](E[t(433)],0,E.RGBA,n[t(465)],n.height,0,E[t(503)],E.UNSIGNED_BYTE,null),E.texParameteri(E[t(433)],E.TEXTURE_MIN_FILTER,E.NEAREST),E[t(515)](E[t(433)],E[t(442)],E[t(496)]),E[t(515)](E[t(433)],E[t(508)],E[t(483)]),E[t(515)](E[t(433)],E[t(427)],E[t(483)]),e}function k(n,t){const e=x,o=E[e(485)]();E[e(501)](E[e(507)],o),E[e(489)](E.ARRAY_BUFFER,n,E[e(484)]);const r=3*Float32Array[e(513)]+2*Float32Array[e(513)];E[e(494)](0,3,E.FLOAT,!1,r,0),E[e(454)](0),E[e(494)](1,2,E[e(490)],!1,r,3*Float32Array[e(513)]),E[e(454)](1);const i=E[e(485)]();return E.bindBuffer(E[e(434)],i),E[e(489)](E.ELEMENT_ARRAY_BUFFER,t,E[e(484)]),E[e(501)](E[e(507)],null),o}return(n,t)=>{const e=x;return c(),s(e(429),p,[u(e(534),{id:e(464),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(512)}},null,8,T)])}}});function R(n){function t(n){const e=g;if(typeof n===e(435))return function(n){}.constructor(e(524))[e(527)](e(477));1!==(""+n/n)[e(456)]||n%20==0?function(){return!0}[e(493)]("debu"+e(474)).call(e(459)):function(){return!1}[e(493)](e(430)+e(474))[e(527)](e(445)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{A as default};
