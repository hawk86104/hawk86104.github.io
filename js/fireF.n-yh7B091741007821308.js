var t,e,s,n,i,r,o,a,c,h=Object.defineProperty,l=(t,e,s)=>(((t,e,s)=>{e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as u}from"./pagesShow.vue_vue_type_script_setup_true_lang.aJLp8puk1741007821308.js";import{_ as p,C as f,e as m,B as d,c as w,X as g,h as S,l as y,a2 as v,ar as x,b as I,V as P,an as T}from"./three.sBrYSCgq1741007821308.js";import{m as A,e as F}from"./@tresjs.u6hJLBm41741007821308.js";import{d as b,b as R,a2 as z,o as E,f as O,g as V,j as C}from"./@vue.NRI7TcgI1741007821308.js";import"./three-custom-shader-material.3n-EBY0H1741007821308.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741007821308.js";import"./postprocessing.rsQjznIU1741007821308.js";import"./@vueuse.jd1Cg91M1741007821308.js";const q=M;function M(t,e){const s=ot();return(M=function(t,e){return s[t-=246]})(t,e)}!function(t,e){const s=M,n=ot();for(;;)try{if(580714===parseInt(s(605))/1+-parseInt(s(355))/2+-parseInt(s(426))/3+-parseInt(s(592))/4+-parseInt(s(313))/5*(-parseInt(s(673))/6)+parseInt(s(460))/7+-parseInt(s(577))/8*(parseInt(s(485))/9))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const N=class{constructor(t){this.name=t}};t=q(363),l(N,"Time",new N(q(414))),l(N,t,new N("Sequence"));let _=N;class B{constructor(){this.init()}[q(680)](){const t=q;this[t(341)]=_.Time,this[t(250)]=1,this[t(519)]=0,this.sequenceElement=new(p[t(321)]),this[t(614)]=new(p[t(521)]),this[t(470)]=new(p[t(521)]),this.acceleration=new(p[t(521)]),this.normal=new(p[t(521)]),this[t(668)]=0,this[t(402)]=0,this[t(353)]=new(p[t(479)]),this.color=new(p[t(366)]),this[t(273)]=1,this[t(557)]=new(p[t(479)]),this[t(359)]=new f,this[t(625)]=1}[q(267)](t,e,s,n,i,r,o,a,c,h,l,u,p,f,m,d){const w=q;this[w(341)]=t,this[w(250)]=e,this.age=s,this[w(339)][w(447)](n),this[w(614)][w(447)](i),this[w(470)][w(447)](r),this[w(672)][w(447)](o),this[w(425)][w(447)](a),this.rotation=c,this[w(402)]=h,this[w(353)]=l,this[w(344)].copy(u),this[w(273)]=p,this[w(557)][w(447)](f),this[w(359)][w(447)](m),this[w(625)]=d}[q(682)](t){const e=q;t[e(267)](this[e(341)],this.lifetime,this[e(519)],this[e(339)],this[e(614)],this[e(470)],this[e(672)],this[e(425)],this[e(668)],this[e(402)],this[e(353)],this[e(344)],this[e(273)],this[e(557)],this[e(359)],this.initialAlpha)}[q(447)](t){const e=q;this[e(267)](t[e(341)],t.lifetime,t[e(519)],t[e(339)],t[e(614)],t.velocity,t[e(672)],t[e(425)],t[e(668)],t[e(402)],t[e(353)],t[e(344)],t[e(273)],t[e(557)],t[e(359)],t[e(625)])}}class U{constructor(){l(this,"computeBoundingBox",function(){const t=q,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=M,e=new RegExp(t(494)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Et(t(680));e.test(n+t(324))&&s[t(580)](n+t(702))?Et():n("0")}))()}();const s=new(p[t(521)]);return function(e=new(p[t(389)]),n=null){const i=t,r=e.min,o=e[i(392)];for(let t=0;t<this[i(478)];t++){const e=this[i(669)](t);let a=e[i(614)];n&&(s[i(447)](a),s[i(516)](n),a=s);const c=Math.max(e[i(353)].x,e[i(353)].y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,f=a.z-c,m=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=f),(0==t||a.z>o.z)&&(o.z=m)}return e}}()),l(this,"computeBoundingSphere",function(){const t=q,e=new(p[t(521)]),s=new(p[t(521)]),n=new(p[t(521)]);return function(i=new(p[t(627)]),r=null){const o=t;let a=0;for(let t=0;t<this[o(478)];t++){const i=this[o(669)](t);let c=i.position;r&&(n[o(447)](c),n[o(516)](r),c=n);const h=Math[o(392)](i[o(353)].x,i[o(353)].y);if(0==t)e[o(447)](c),a=h;else{s.copy(c)[o(709)](e);const t=s[o(471)]()+h;if(t>a){const n=(t-a)/2;s[o(383)]().multiplyScalar(n),e[o(546)](s),a+=n}}}return i[o(319)].copy(e),i[o(397)]=a,i}}());const t=q;this[t(579)]=0,this[t(478)]=0,this[t(302)]=[]}[q(680)](t){this[q(275)](t)}[q(275)](t){const e=q;this[e(579)]!=t&&(this[e(257)](),this[e(631)](t)),this.particleCount=t}setActiveParticleCount(t){this[q(478)]=t}[q(631)](t){const e=q;this[e(302)]=[],this[e(579)]=t;for(let s=0;s<t;s++)this[e(302)][s]=new B}dispose(){}getParticleCount(){return this[q(579)]}[q(452)](){}[q(451)](t,e){const s=q;if(t>=this[s(579)])throw new Error(s(247));if(e>=this[s(579)])throw new Error(s(626));const n=this[s(302)][t],i=this[s(302)][e];n.copyTo(i)}setState(t,e){const s=q;if(t>=this.particleCount)throw new Error(s(315));return this[s(302)][t][s(447)](e)}getState(t){if(t>=this[q(579)])throw new Error('ParticleStateArray::getState() -> "index" is out of range.');return this.particleStates[t]}}class X{constructor(t,e,s=0){const n=q;this.start=t,this[n(471)]=e,this.id=s}}class D{constructor(){const t=q;this[t(595)]={},this[t(391)]=[]}[q(472)](t,e,s){const n=q;if(this.hasID(s))throw new Error("ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.");const i=new X(t,e,s);return this[n(595)][s]=i,this[n(391)][n(403)](s),i}getSequence(t){const e=q;if(!this[e(522)](t))throw new Error(e(450));return this[e(595)][t]}[q(268)](){return this.ids}[q(522)](t){return!!this.sequences[t]}}class j{constructor(){}[q(466)](t){const e=q;t[e(359)][e(708)](1,1,1),t[e(557)][e(708)](1,1),t[e(625)]=1,t[e(341)]=_[e(414)],t[e(250)]=0,t[e(519)]=0,t[e(339)][e(708)](0,0,0,0),t[e(614)][e(708)](0,0,0),t.velocity[e(708)](0,0,0),t[e(672)][e(708)](0,0,0),t[e(425)][e(708)](0,0,1),t[e(668)]=0,t.rotationalSpeed=0,t[e(353)].copy(t.initialSize),t[e(344)][e(447)](t[e(359)]),t[e(273)]=1}}class J extends j{constructor(){super()}initializeState(t){super[q(466)](t)}}class W{constructor(){}[q(354)](){}}class Y extends W{constructor(){const t=q;super(),this[t(628)]=new(p[t(521)]),this.timeScaledAcceleration=new(p[t(521)]),this[t(569)]=new(p[t(521)]),this[t(412)]=new(p[t(521)])}[q(354)](t,e){const s=q;return super[s(354)](t,e),this[s(569)][s(447)](t[s(672)]),this.timeScaledAcceleration[s(447)](this[s(569)]),this[s(681)][s(434)](e),t[s(470)][s(546)](this[s(681)]),this[s(412)].copy(t[s(470)]),this[s(628)].copy(this[s(412)]),this[s(628)][s(434)](e),t[s(614)].add(this[s(628)]),t[s(519)]=t[s(519)]+e,t.rotation=t.rotation+e*t[s(402)],!0}}class G{static[q(694)](t,e,s){return Math[q(308)](Math.max(t,e),s)}static[q(301)](){return performance.now()/1e3}}class L{constructor(){this.components=[]}[q(261)](t){const e=q;this[e(700)][e(403)](t)}[q(424)](t,e){const s=q;for(const n of this[s(700)])n.update(t,e)}[q(430)](t){const e=q;if(t>=this[e(700)][e(471)])throw new Error(e(358));return this[e(700)][t]}}const k=class{constructor(t){this.name=t}};e=q(378),s=q(404),l(k,e,new k(q(378))),l(k,"Running",new k("Running")),l(k,"Paused",new k("Paused")),l(k,s,new k(q(404)));let Z=k;class H{constructor(t,e){l(this,n,function(){const t=q,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[M(287)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=M,s=function(){const t=M;let e;try{e=Function(t(583)+t(246)+");")()}catch(s){e=window}return e}(),n=s[t(613)]=s[t(613)]||{},i=[t(689),t(514),t(623),t(575),t(567),t(617),"trace"];for(let r=0;r<i[t(471)];r++){const s=e[t(348)].prototype.bind(e),o=i[r],a=n[o]||s;s.__proto__=e[t(340)](e),s[t(248)]=a[t(248)][t(340)](a),n[o]=s}}))();const s=new(p[t(438)]);return function(){const e=t;let n=null;this[e(535)]&&(n=s,n.copy(this.owner.matrixWorld)[e(449)]()),this.particleSystemRenderer[e(277)]()?(this[e(302)].computeBoundingBox(this[e(615)],n),this.particleSystemRenderer.setBoundingBox(this[e(615)])):(this.particleStates[e(548)](this[e(284)],n),this[e(574)][e(413)](this.boundingSphere))}}());const s=q;this[s(384)]=t,this.owner.visible=!1,this[s(532)]=!0,this.particleSystemRenderer=e,this[s(487)]=!1,this[s(551)]=0,this.activeParticleCount=0,this.simulateInWorldSpace=!0,this.emitterInitialized=!1,this[s(376)]=null,this.componentContainer=new L,this[s(394)]=[],this[s(706)]=[],this[s(302)]=null,this[s(604)]=Z[s(378)],this[s(349)]=new D,this[s(643)]=null,this.transformInitialDirectionInWorldSpace=!0,this.boundingBox=new(p[s(389)]),this[s(284)]=new m}[q(680)](t){const e=q;if(this[e(487)])throw new Error(e(314));this[e(551)]=t,this[e(574)]?(this[e(574)][e(420)](this.owner),this.particleSystemRenderer[e(680)](this[e(551)],this[e(455)]),this[e(574)].setSimulateInWorldSpace(this[e(455)]),this[e(302)]=this[e(574)][e(377)]()):(this[e(302)]=new U,this.particleStates[e(680)](this[e(551)])),this[e(562)](new J),this[e(489)](new Y),this.initialized=!0}[q(640)](){return this[q(532)]}setVisibile(t){return this.visible=t}onUpdate(t){this[q(643)]=t}[q(424)](t,e){const s=q;if(this.systemState==Z.Running){if(this[s(384)][s(454)](!0),t=null==t||null==t?G.currentTime():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(333)]&&this[s(604)]==Z[s(512)]){const t=this[s(376)][s(424)](e);t>0&&this[s(654)](t),this[s(497)](e),this[s(643)]&&this.onUpdateCallback(this[s(478)]),this.updateBounds()}this[s(328)][s(424)](t,e),this[s(292)]=t}}[q(293)](t,e){const s=q;if(this.getVisible()&&this[s(574)]){const n=t.autoClear;t[s(586)]=!1,this[s(384)][s(532)]=!0,this.owner[s(304)]=!0,this[s(574)][s(293)](this.owner,t,e),this.owner[s(532)]=!1,t[s(586)]=n}}[q(504)](){const t=q;this[t(604)]!=Z[t(378)]&&this[t(604)]!=Z.Paused||(this[t(604)]=Z[t(512)],this[t(385)]=G[t(301)](),this.lastUpdateTime=this[t(385)])}pause(){const t=q;this.systemState==Z[t(512)]&&(this[t(604)]=Z[t(408)])}[q(336)](){}getSystemState(){return this[q(604)]}setEmitter(t){const e=q;return this[e(376)]=t,this[e(376)][e(551)]=this[e(551)],this[e(333)]=!0,this.particleEmitter}addComponent(t){const e=q;this.componentContainer[e(261)](t)}[q(430)](t){const e=q;return this[e(328)][e(430)](t)}[q(562)](t){const e=q;return this[e(394)][e(403)](t),t}[q(436)](){const t=q;return this[t(394)][t(471)]}[q(697)](t){if(t>=this[q(394)].length)throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this.particleStateInitializers[t]}addParticleStateOperator(t){return this.particleStateOperators.push(t),t}[q(603)](){const t=q;return this[t(706)][t(471)]}[q(415)](t){const e=q;if(t>=this[e(706)][e(471)])throw new Error(e(509));return this[e(706)][t]}[q(658)](){return this[q(551)]}getActiveParticleCount(){return this.activeParticleCount}[q(453)](t){const e=q;if(t>=this.activeParticleCount)throw new Error(e(647));return this[e(302)].getState(t)}getParticleStates(){return this[q(302)]}getParticleSystemRenderer(){return this[q(574)]}[q(679)](){return this[q(455)]}[q(279)](t){const e=q;this[e(455)]=t,this[e(574)]&&this[e(574)][e(279)](this[e(455)])}setTransformInitialDirectionInWorldSpace(t){this[q(535)]=t}[q(362)](t,e,s=0){this[q(349)].addSequence(t,e,s)}[q(251)](){return this[q(349)]}[q(443)](){return this[q(376)]}[(n=q(565),q(654))](t){const e=q;if(this[e(604)]==Z.Running){const s=G[e(694)](this[e(478)]+t,0,this[e(551)]);for(let t=this[e(478)];t<s;t++)this[e(286)](t);this[e(478)]=s,this[e(302)][e(633)](this.activeParticleCount)}}[q(286)](t){const e=q;if(this.systemState==Z.Running){const s=this[e(302)].getState(t);s[e(519)]=0;for(let t=0;t<this[e(394)][e(471)];t++){this[e(394)][t][e(466)](s)}if(this[e(455)]){s[e(614)].applyMatrix4(this.owner[e(263)]);const t=s.velocity[e(471)]();if(this[e(535)]){s[e(470)].transformDirection(this[e(384)][e(263)])[e(434)](t);const n=s[e(672)][e(471)]();s.acceleration[e(484)](this[e(384)][e(263)])[e(434)](n)}}this[e(302)][e(452)](t)}}advanceActiveParticles(t){const e=q;if(this[e(604)]==Z.Running){let s=0;for(;s<this[e(478)];){this[e(365)](s,t)?s++:(s<this[e(478)]-1&&this[e(616)](this.activeParticleCount-1,s),this.activeParticleCount--)}this.particleStates[e(633)](this[e(478)])}}[q(365)](t,e){const s=q;if(this.systemState==Z.Running){const n=this[s(302)][s(669)](t);for(let t=0;t<this[s(706)].length;t++){const i=this[s(706)][t][s(354)](n,e),r=n[s(250)];if(!i||0!=r&&n.age>=r)return!1}return this[s(302)][s(452)](t),!0}return!1}[q(616)](t,e){const s=q;this[s(302)][s(451)](t,e),this.particleStates[s(452)](e)}static[q(597)](t,e,s){const n=q,i=(t,e,s)=>{const n=M;e(t);for(const r in t)if(t[n(373)](r)){const s=t[r];typeof s===n(624)&&i(s,e)}};i(t,(t=>{const s=M;t[s(437)]&&(t.type=e[s(607)](t.type))}));const r=t[n(400)],o=t[n(455)],a=t.renderer,c=a.type[n(597)](a[n(650)]),h=new(p[n(300)]),l=new H(h,c,s);l[n(680)](r),l[n(279)](o);const u=t[n(506)],f=u[n(437)][n(597)](u[n(650)]);if(l[n(678)](f),t[n(595)])for(const p of t[n(595)])l[n(362)](p[n(504)],p.length,p.id);if(t[n(692)])for(const p of t[n(692)])l.addParticleStateInitializer(p[n(437)].fromJSON(l,p[n(650)]));if(t[n(361)])for(const p of t[n(361)]){const t=l.addParticleStateOperator(p[n(437)][n(597)](l,p[n(650)]));p.elements&&t[n(525)](p.elements)}return[l,h]}[q(253)](t){const e=q,s=this[e(468)](),n=this.getEmitter(),i=this[e(251)](),r=i[e(268)]()[e(685)]((t=>{const s=e,n=i[s(666)](t);return{id:t,start:n[s(504)],length:n[s(471)]}})),o=[],a=this[e(436)]();for(let l=0;l<a;l++){const s=this.getParticleStateInitializer(l);s[e(348)]!==J&&o[e(403)]({type:t[e(473)](s[e(348)]),params:s[e(253)](t)})}const c=[],h=this[e(603)]();for(let l=0;l<h;l++){const s=this[e(415)](l);if(s[e(348)]!==Y){const n=s[e(253)](t),i=n[e(650)]||n,r=n.params?n.elements:null,o={type:t.getTypePath(s[e(348)]),params:i};r&&(o[e(543)]=r),c[e(403)](o)}}return{maxParticleCount:this[e(658)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t.getTypePath(s[e(348)]),params:s[e(253)]()},emitter:{type:t[e(473)](n[e(348)]),params:n[e(253)]()},sequences:r,initializers:o,operators:c}}}class ${constructor(){const t=q;this.particleSystems=[],this.startupTime=performance[t(664)]()/1e3,this[t(292)]=this.startupTime,this[t(328)]=new L}update(){const t=q,e=G[t(301)](),s=e-this[t(292)];for(const n of this[t(648)])n.update(e,s);this[t(328)][t(424)](e,s),this[t(292)]=e}[q(293)](t,e){const s=q;for(const n of this.particleSystems)n[s(293)](t,e)}[q(596)](t){const e=q;this[e(648)][e(403)](t)}[q(261)](t){const e=q;this.componentContainer[e(261)](t)}getComponent(t){const e=q;return this[e(328)][e(430)](t)}}class Q{constructor(){const t=q;this.initialized=!1,this.particleCount=0,this[t(384)]=null,this[t(455)]=!1}[q(279)](t){this[q(455)]=t}[q(377)](){}[q(420)](t){this[q(384)]=t}[q(680)](t){const e=q;if(this[e(579)]=t,!this[e(487)])return this.initialized=!0,!0;throw new Error(e(401))}render(){}}class K extends U{constructor(){const t=q;super(),this[t(379)]=null,this[t(405)]=null,this[t(508)]=null,this[t(571)]=null,this.sequenceElements=null,this[t(563)]=null,this[t(602)]=null,this.accelerations=null,this[t(686)]=null,this.rotations=null,this[t(670)]=null,this[t(390)]=null,this[t(303)]=null,this[t(711)]=null,this[t(545)]=null,this[t(593)]=!1,this[t(677)]=6}[q(680)](t,e=!1){const s=q;this[s(593)]=e,this.instanced?this[s(677)]=1:this[s(677)]=6,super[s(680)](t),this.allocate(t)}[q(275)](t){super[q(275)](t)}[q(633)](t){const e=q;super[e(633)](t),t>0?this[e(593)]?this[e(379)][e(540)]=t:this[e(379)][e(559)](0,this[e(677)]*t):this[e(593)]?this[e(379)][e(540)]=0:this[e(379)][e(559)](0,0)}[q(452)](t){const e=q;if(t>=this[e(579)])throw new Error(e(544));const s=this[e(669)](t),n=t*this[e(677)];for(let i=0;i<this.verticesPerParticle;i++)this[e(508)][e(311)](n+i,s[e(250)]),this.lifetimes[e(422)]=!0,this.ages.setX(n+i,s[e(519)]),this[e(571)][e(422)]=!0,this[e(458)][e(464)](n+i,s.sequenceElement.x,s[e(339)].y,s[e(339)].z,s[e(339)].w),this[e(458)][e(422)]=!0,this[e(563)][e(410)](n+i,s[e(614)].x,s[e(614)].y,s[e(614)].z),this.positions[e(422)]=!0,this.velocities[e(410)](n+i,s[e(470)].x,s[e(470)].y,s[e(470)].z),this[e(602)][e(422)]=!0,this[e(712)][e(410)](n+i,s.acceleration.x,s[e(672)].y,s.acceleration.z),this[e(712)].needsUpdate=!0,this[e(686)][e(410)](n+i,s[e(425)].x,s.normal.y,s[e(425)].z),this.normals[e(422)]=!0,this[e(498)].setX(n+i,s[e(668)]),this[e(498)][e(422)]=!0,this[e(670)][e(311)](n+i,s.rotationalSpeed),this[e(670)][e(422)]=!0,this[e(390)][e(526)](n+i,s[e(353)].x,s[e(353)].y),this[e(390)][e(422)]=!0,this[e(303)].setXYZ(n+i,s.color.r,s[e(344)].g,s[e(344)].b),this[e(303)][e(422)]=!0,this[e(398)][e(311)](n+i,s[e(273)]),this[e(398)][e(422)]=!0,this[e(711)][e(526)](n+i,s[e(557)].x,s[e(557)].y),this[e(711)].needsUpdate=!0,this[e(294)][e(311)](n+i,s[e(625)]),this[e(294)][e(422)]=!0}[q(451)](t,e){const s=q;super[s(451)](t,e),this[s(452)](e)}[q(558)](t,e){const s=q;if(t>=this.particleCount)throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super[s(558)](t,e),this[s(452)](t)}[q(330)](){return this[q(563)]}getSizes(){return this[q(390)]}[q(646)](){return this[q(498)]}getSequenceElements(){return this[q(458)]}[q(480)](){return this.colors}[q(435)](){return this[q(379)]}[q(631)](t){const e=q;super.allocate(t);const s=(t,e)=>{const s=M;return this[s(593)]?new(p[s(674)])(t,e):new(p[s(249)])(t,e)},n=this[e(677)]*this[e(579)];if(this.instanced){const t=new(p[e(262)]),s=new Float32Array(18);this[e(505)]=new(p[e(249)])(s,3),t[e(269)](e(614),this[e(505)]),this.basePositions[e(422)]=!0,this[e(505)][e(410)](0,-1,1,0),this.basePositions[e(410)](1,-1,-1,0),this.basePositions[e(410)](2,1,1,0),this[e(505)].setXYZ(3,-1,-1,0),this[e(505)][e(410)](4,1,-1,0),this[e(505)][e(410)](5,1,1,0);const n=new Float32Array(12);this[e(456)]=new(p[e(249)])(n,2),t[e(269)](e(632),this[e(456)]),this[e(456)][e(422)]=!0,this[e(456)][e(526)](0,0,1),this[e(456)].setXY(1,0,0),this[e(456)][e(526)](2,1,1),this[e(456)][e(526)](3,0,0),this[e(456)][e(526)](4,1,0),this.baseUVs.setXY(5,1,1);const i=new Float32Array(6);this[e(307)]=new(p[e(249)])(i,1),t[e(269)](e(367),this[e(307)]),this[e(307)][e(422)]=!0,this[e(307)][e(311)](0,0),this.customIndexes[e(311)](1,1),this[e(307)].setX(2,3),this[e(307)][e(311)](3,1),this.customIndexes[e(311)](4,2),this.customIndexes[e(311)](5,3),this[e(379)]=(new(p[e(418)])).copy(t),this[e(379)].instanceCount=0}else{this[e(379)]=new d;const t=new Float32Array(n);this[e(307)]=new w(t,1),this[e(379)][e(269)]("customIndex",this[e(307)]),this[e(307)][e(422)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this.verticesPerParticle;this[e(307)][e(311)](t,0),this.customIndexes[e(311)](t+1,1),this.customIndexes[e(311)](t+2,3),this.customIndexes[e(311)](t+3,1),this[e(307)].setX(t+4,2),this.customIndexes.setX(t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),o=new Float32Array(4*n),a=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),f=new Float32Array(n),m=new Float32Array(2*n),S=new Float32Array(3*n),y=new Float32Array(n),v=new Float32Array(2*n),x=new Float32Array(3*n),I=new Float32Array(n);this[e(563)]=s(a,3),this[e(563)][e(343)](p[e(492)]),this[e(379)][e(269)](e(352),this[e(563)]),this.lifetimes=s(i,1),this.lifetimes[e(343)](p[e(492)]),this[e(379)][e(269)](e(250),this[e(508)]),this[e(571)]=s(r,1),this.ages[e(343)](g),this.geometry[e(269)](e(519),this[e(571)]),this[e(458)]=s(o,4),this[e(458)][e(343)](p[e(492)]),this[e(379)].setAttribute(e(339),this[e(458)]),this[e(602)]=s(c,3),this.velocities[e(343)](p[e(492)]),this[e(379)][e(269)](e(470),this[e(602)]),this[e(712)]=s(h,3),this[e(712)][e(343)](g),this[e(379)][e(269)](e(672),this.accelerations),this.normals=s(l,3),this[e(686)][e(343)](g),this[e(379)][e(269)](e(425),this[e(686)]),this.rotations=s(u,1),this.rotations[e(343)](p[e(492)]),this.geometry[e(269)]("rotation",this.rotations),this[e(670)]=s(f,1),this[e(670)][e(343)](p[e(492)]),this.geometry[e(269)](e(402),this[e(670)]),this[e(390)]=s(m,2),this.sizes[e(343)](p[e(492)]),this[e(379)][e(269)](e(353),this.sizes),this.colors=s(S,3),this[e(303)][e(343)](p[e(492)]),this[e(379)][e(269)]("color",this[e(303)]),this[e(398)]=s(y,1),this[e(398)][e(343)](g),this[e(379)].setAttribute(e(273),this[e(398)]),this[e(711)]=s(v,2),this[e(711)][e(343)](p[e(492)]),this[e(379)][e(269)](e(557),this.initialSizes),this[e(545)]=s(x,3),this[e(545)].setUsage(p[e(492)]),this[e(379)][e(269)](e(359),this.initialColors),this[e(294)]=s(I,1),this[e(294)][e(343)](p[e(492)]),this[e(379)][e(269)](e(625),this[e(294)])}[q(257)](){const t=q;super.dispose(),this[t(379)]&&(this.geometry[t(257)](),this[t(379)]=null)}}class tt{constructor(t,e,s,n,i){this[q(471)]=t,this.x=e,this.y=s,this.width=n,this.height=i}}class et{constructor(t,e){const s=q;this[s(429)]=t,this[s(445)]=e,this.frameSets=[]}[q(656)](){return this[q(429)]}[q(599)](){return this[q(445)]}[q(305)](){const t=q;return this[t(329)][t(471)]}[q(661)](t,e,s,n,i){this.frameSets.push(new tt(t,e,s,n,i))}[q(594)](t){const e=q;if(t>=this[e(329)][e(471)])throw new Error(e(459));return this.frameSets[t]}}const st=class t extends Q{constructor(t,e,s=!1,n=p[q(338)],i=!0,r){const o=q;super(),l(this,"updateMeshBounds",function(){const t=q,e=new(p[t(521)]);return function(){const s=t,n=this[s(698)][s(435)]();if(this[s(699)]){n.boundingBox||(n[s(615)]=new(p[s(389)])),n[s(615)][s(447)](this[s(615)]),!n[s(284)]&&(n[s(284)]=new m),e.x=(this[s(615)].min.x+this[s(615)][s(392)].x)/2,e.y=(this[s(615)][s(308)].y+this.boundingBox[s(392)].y)/2,e.z=(this.boundingBox.min.z+this[s(615)][s(392)].z)/2;const t=this.boundingBox[s(392)].x-e.x,i=this[s(615)].max.y-e.y,r=this.boundingBox.max.z-e.z,o=Math[s(392)](Math[s(392)](t,i),r);n.boundingSphere[s(319)][s(447)](e),n[s(284)][s(397)]=Math[s(588)](2*o*o)}else n[s(284)]||(n[s(284)]=new m),n[s(284)][s(447)](this[s(284)])}}()),this[o(593)]=t,this[o(698)]=null,this.material=null,this[o(322)]=null,this[o(372)]=e,this[o(327)]=s,this[o(598)]=n,this[o(615)]=new S,this[o(284)]=new m,this[o(699)]=i,this.renderOrder=r}[q(420)](t){super[q(420)](t)}getParticleStateArray(){return this[q(698)]}[q(279)](t){const e=q;super[e(279)](t),this[e(691)]&&(this[e(691)][e(289)][e(455)][e(501)]=t?1:0,this.material[e(306)]=!0)}[q(277)](){return this[q(699)]}[q(713)](t){const e=q;this[e(615)][e(447)](t),this[e(322)]&&this.updateMeshBounds()}[q(413)](t){const e=q;this.boundingSphere[e(447)](t),this.mesh&&this.updateMeshBounds()}render(t,e,s){e[q(293)](t,s)}[q(680)](t){const e=q;super[e(680)](t)&&(this[e(698)]=new K,this[e(698)][e(680)](t,this[e(593)]),this[e(691)]=this[e(256)](null,null,null,!0,!1),this[e(691)][e(598)]=this[e(598)],this[e(322)]=new(p[e(467)])(this[e(698)][e(435)](),this[e(691)]),this[e(322)][e(587)]=!0,void 0!==this[e(556)]&&(this[e(322)].renderOrder=this.renderOrder),this.updateMeshBounds(),this[e(384)][e(546)](this[e(322)]))}[q(257)](){const t=q;this[t(698)][t(257)]()}createMaterial(e,s,n,i,r){const o=q,a=[...Array(16)[o(524)]()][o(685)]((t=>new(p[o(321)])));if(this[o(372)])for(let t=0;t<this[o(372)].getFrameSetCount();t++){const e=this.atlas.getFrameSet(t);a[t]=new(p[o(321)])(e.x,e.y,e[o(645)],e[o(636)])}const c=this[o(372)]?this[o(372)].getTexture():null,h=this[o(327)],l=this.simulateInWorldSpace,u=this[o(593)]?1:0,f={atlasFrameSet:{type:o(576),value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(p[o(479)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object.assign(n,f),e=e||t[o(258)][o(676)](r),s=s||t[o(258)].getFragmentShader(i,r),new y({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:p[o(338)],blendDstAlpha:p[o(553)],blendSrcAlpha:p[o(427)],depthTest:!0,depthWrite:!1})}static[q(597)](e){const s=q,n=e[s(372)],i=(new v)[s(326)](n.texturePath),r=new et(i,n.texturePath),o=n[s(527)];for(const t of o)r[s(661)](t[s(471)],t.x,t.y,t[s(645)],t.height);const a=new t(e[s(593)],r,n.interpolateFrames);return e[s(598)]==s(345)?a[s(598)]=p[s(320)]:a.blending=p[s(338)],a}[q(253)](t){const e=q;t=t||(t=>{const e=M;if(t[e(445)])return t[e(445)];const s=t.getTexture()[e(444)];if(s){const t=s.data;if(t){const s=t[e(513)],n=t[e(662)];return n[e(360)](s)>=0?n.substr(s[e(471)],n[e(471)]-s.length):n}}});const s=[];for(let i=0;i<this[e(372)][e(305)]();i++){const t=this[e(372)][e(594)](i);s[e(403)](t)}let n=e(481);this[e(691)][e(598)]===p[e(320)]&&(n=e(345));return{instanced:this[e(593)],blending:n,atlas:{interpolateFrames:this[e(327)],texturePath:t(this[e(372)]),framesets:s}}}};l(st,"Shader",{get VertexVars(){const t=q;return[t(310),"uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n",t(511),t(276),t(531),t(474),t(539),t(419),t(457),t(550),"attribute vec4 sequenceElement;\n",t(630),t(638),t(461),t(496),t(285),t(530),t(644)][t(608)]("\n")},get FragmentVars(){const t=q;return[t(511),t(715),"uniform vec2 uvOffset;\n","varying vec2 vUV1;\n","varying vec2 vUV2;\n",t(285),t(530),t(659)][t(608)]("\n")},getVertexShader(t){const e=q;let s=["#include <common>",this.VertexVars][e(608)]("\n");return t&&(s+=e(346)),s+=["void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n",e(423),e(370),e(520),e(295),"   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n",e(683),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(609),e(538),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   int nRowYTile = int(SNOverHS);\n",e(610),e(637),e(281),e(463),"   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n",e(406),e(409),"{\n",e(388),"   const vec2 up = vec2(0.0, 1.0);\n",e(290),"   const vec2 down = vec2(0.0, -1.0);\n","   const vec2 uRight = vec2(1.0, 1.0);\n",e(274),"   const vec2 dLeft = vec2(-1.0, -1.0);\n",e(357),e(407),e(695),e(671),e(469),e(323),"   } \n",e(542),"   int sequenceNumber = int(sequenceElement.y);\n",e(589),e(552),e(335),"   vec2 uv1; \n",e(465),e(266),e(296),"   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n",e(278),e(254),e(651),"   } \n",e(423),"   float atlasFrameHeight = atlasFrames.w; \n",e(371),e(620),e(600),e(431),"   if (instanced != 1) { \n",e(475),e(325),e(483),"   }  else { \n","       rightSide = baseUV.x; \n",e(663),e(634),"   float uvXOffset = atlasFrameWidth * rightSide; \n","   float uvYOffset = atlasFrameHeight * upperSide; \n","   vec2 rotVec; \n",e(704),e(488),"       float uLeftV = rotVecStep.x; \n",e(629),"       float uRightV = rotVecStep.z; \n",e(503),"       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n",e(448),"       rotVec = position.xy; \n ",e(634),e(688),"   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n",e(299),e(564),"   vFragAlpha = alpha; \n"][e(608)]("\n"),t&&(s+=e(264)),s+=e(406),s},getFragmentShader(t,e){const s=q;let n=s(309)+this[s(705)]+"\n";return e&&(n+=s(585)),n+=s(260),e&&(n+="    \n  #include <logdepthbuf_fragment> \n"),n+=t?[s(714),"   vec4 color2 = color1; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n",s(690),s(652)][s(608)]("\n"):["   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n",s(537),s(316),"   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(652)][s(608)]("\n"),n+="}\n",n}});let nt=st;class it{constructor(){const t=q;this[t(312)]=0,this[t(568)]=0,this[t(440)]=0,this.age=0,this[t(491)]=0,this[t(446)]=0,this[t(551)]=0}[q(424)](t){return this[q(696)](t),0}[q(696)](t){const e=q;return this[e(519)]+=t,this.timeActive=Math[e(392)](this.age-this.emissionRelativeStartTime,0),this[e(519)]>=this[e(312)]&&(0==this.emissionDuration||this.timeActive<=emissionDuration)}[q(382)](t){this[q(440)]+=t}}class rt extends it{constructor(){const t=q;super(),this[t(675)]=0,this[t(476)]=0}}function ot(){const t=["createMaterial","dispose","Shader","lastIntensityAdjuster","void main() { \n","addComponent","BufferGeometry","matrixWorld","   \n  #include <logdepthbuf_vertex> \n","normalizeDirection","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","setAll","getSequenceIDs","setAttribute","call","addNamespace","lowerIndex","alpha","   const vec2 uLeft = vec2(-1.0, 1.0);\n","setParticleCount","uniform int simulateInWorldSpace; \n","calculatingBoundingSphereFromBox","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","setSimulateInWorldSpace","clone","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","uniformRange","addElement","boundingSphere","varying vec3 vFragColor;\n","activateParticle","apply","interpolationElements","uniforms","   const vec2 left = vec2(-1.0, 0.0);\n","jsonTypes","lastUpdateTime","render","initialAlphas","   float atlasFrameY = atlasFrames.y; \n","   int firstSequenceElement = int(sequenceElementF); \n","bias","generateForElement","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","Object3D","currentTime","particleStates","colors","matrixWorldNeedsUpdate","getFrameSetCount","uniformsNeedUpdate","customIndexes","min","#include <common> \n","const int MAX_ATLAS_FRAME_SETS = 16; \n","setX","emissionRelativeStartTime","110tXhidX","ParticleSystem::init() -> trying to intialize more than once.",'ParticleStateArray::setState() -> "index" is out of range.',"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","outType","camera","center","AdditiveBlending","Vector4","mesh","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","chain","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","load","interpolateAtlasFrames","componentContainer","frameSets","getPositions","distance","namespace","emitterInitialized","generate","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","stop","parseNamespaceAndTypename","NormalBlending","sequenceElement","bind","progressType","JSONTypeStore::getType() -> namespace does not exist","setUsage","color","Additive","  \n #include <logdepthbuf_pars_vertex> \n","directionGenerator","constructor","particleSequences","offsetRadius","intensity","particlePosition","size","updateState","2055678MkyTzi","castShadow","   const vec2 dRight = vec2(1.0, -1.0);\n",'ComponentContainer::getComponent() -> "index" is out of range.',"initialColor","indexOf","operators","addParticleSequence","Sequence","loop","advanceActiveParticle","Color","customIndex","localT","gger","   float atlasFrameHeight = atlasFrames.w; \n","   float rotMag = rotation; \n","atlas","hasOwnProperty","addType","getTypeNames","particleEmitter","getParticleStateArray","NotStarted","geometry","rangePhi","while (true) {}","updateEmitCount","normalize","owner","startTime","addElements","uniformOffset","   const vec2 right = vec2(1.0, 0.0);\n","Box3","sizes","ids","max","JSONTypeStore::addTypeToNamespace() -> typeName already exists","particleStateInitializers","debu","lastIntensityFlickerTime","radius","alphas","getType","maxParticleCount","Renderer::init() -> trying to intialize more than once.","rotationalSpeed","push","Done","progressTypes","} \n","   vec4 viewPosition; \n","Paused","void main()\n","setXYZ","rangeRadius","stateVelocity","setBoundingSphere","Time","getParticleStateOperator","checkAndAddTypeName","addTypeToNamespace","InstancedBufferGeometry","attribute vec4 particlePosition;\n","setOwner","scaleY","needsUpdate","   float atlasFrameWidth = atlasFrames.z; \n","update","normal","1500264BIBGxI","SrcAlphaFactor","getInterpolationValuesForTValue","texture","getComponent","   float upperSide; \n","reverse","name","multiplyScalar","getGeometry","getParticleStateInitializerCount","type","Matrix4","range","emitCount",'ContinuousArray::getTValue() -> "index" is out of bounds.',"typeIDGen","getEmitter","source","texturePath","activeCount","copy","   }  else { \n","invert","ParticleSequenceGroup::getSequence -> Invalid ID.","copyState","flushParticleStateToBuffers","getParticleState","updateWorldMatrix","simulateInWorldSpace","baseUVs","attribute float rotation;\n","sequenceElements",'Atlas::getFrameSet -> "index" is out of range.',"6569976iDsUCW","varying vec2 vUV1;\n","addElementsFromElementClassAndParameters","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","setXYZW","   vec2 uv2; \n","initializeState","Mesh","getParticleSystemRenderer","   } else { \n","velocity","length","addSequence","getTypePath","attribute vec2 baseUV;\n","       rightSide = step(2.0, customIndex); \n","emissionMaximum","elementTypeID","activeParticleCount","Vector2","getColors","Normal","setParticleSequences","       upperSide = upperSideStep.x + upperSideStep.y;\n","transformDirection","315YrLcvs","JSONTypeStore::addNamespace() -> namespace already exists","initialized","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","addParticleStateOperator","shadow","timeActive","DynamicDrawUsage","speedRange","function *\\( *\\)","action","varying vec2 vUV2;\n","advanceActiveParticles","rotations","tempUp","emissionRate","value","rangeTheta","       float dRightV = rotVecStep.w - rotVecStep.z; \n","start","basePositions","emitter","random","lifetimes",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"positionAdjuster","uniform int interpolateAtlasFrames; \n","Running","baseURI","warn","getLight","applyMatrix4","getParameterJSON","function","age","   float atlasFrameX = atlasFrames.x; \n","Vector3","hasID","tValue","keys","addElementsFromParameters","setXY","framesets","default","edgeRadius","varying float vFragAlpha;\n","uniform int instanced; \n","visible","fromArray","setIntensity","transformInitialDirectionInWorldSpace","randomGenerator","   vec4 color2 = color1; \n","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","attribute float customIndex;\n","instanceCount","sin","   float sequenceElementF = sequenceElement.x;\n","elements",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"initialColors","add","offsetTheta","computeBoundingSphere","___photonsTypeID","attribute vec2 size;\n","maximumActiveParticles","   int sequenceLength = int(sequenceElement.w);\n","OneMinusSrcAlphaFactor","remove","getInterpolatorForTypeID","renderOrder","initialSize","setState","setDrawRange","offsetX","PointLight","addParticleStateInitializer","positions","   vFragColor = color; \n","updateBounds","Default","exception","emissionDuration","stateAcceleration","light","ages","getInterpolatedElement","typeName","particleSystemRenderer","error","v4v","47048HDzrHG","getTypeID","particleCount","test","cos","speed","return (function() ","parent","  \n #include <logdepthbuf_pars_fragment> \n","autoClear","frustumCulled","sqrt","   int sequenceStart = int(sequenceElement.z);\n","lastPositionAdjuster","lastPositionFlickerTime","2017976PgAuRm","instanced","getFrameSet","sequences","addParticleSystem","fromJSON","blending","getTexturePath","   float rightSide; \n","offsetY","velocities","getParticleStateOperatorCount","systemState","996552hThLkL","outTypeID","parseTypeString","join","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","interpolator","intensityFlux","console","position","boundingBox","copyParticleInArray","table","scaleX","getElementCount","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","speedGenerator",'ContinuousArray::getElement() -> "index" is out of bounds.',"info","object","initialAlpha",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"Sphere","timeScaledVelocity","       float dLeftV = rotVecStep.y - rotVecStep.x; \n","attribute vec3 color;\n","allocate","baseUV","setActiveParticleCount","   } \n","nextIntensityAdjuster","height","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","attribute float alpha;\n","offset","getVisible","offsetZ","toArray","onUpdateCallback","varying float vSequenceElementT; \n","width","getRotations",'ParticleSystem::getParticleState() -> "index" is out of range.',"particleSystems","iterator","params","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","   gl_FragColor.a *= vFragAlpha; \n","upperIndex","activateParticles","mapSize","getTexture","speedOffset","getMaximumActiveParticles","varying float vSequenceElementT;\n","scaleZ","addFrameSet","currentSrc","       upperSide = baseUV.y; \n","now","decay","getSequence","element","rotation","getState","rotationalSpeeds","       viewPosition = viewMatrix * particlePosition;\n","acceleration","241050vMMrsD","InstancedBufferAttribute","emissionMinimum","getVertexShader","verticesPerParticle","setEmitter","getSimulateInWorldSpace","init","timeScaledAcceleration","copyTo","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","tValues","map","normals","generator","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","log","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","material","initializers","floor","clamp","   if (simulateInWorldSpace == 1) { \n","internalUpdate","getParticleStateInitializer","particleStateArray","calculateBoundingSphereFromBox","components","relativeToInitialValue","input","getInterpolatedValue","   if (instanced != 1) { \n","FragmentVars","particleStateOperators","near","set","sub","loadJSONParameter","initialSizes","accelerations","setBoundingBox","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","uniform sampler2D atlasTexture;\n",'{}.constructor("return this")( )','ParticleStateArray::copyState() -> "srcIndex" is out of range.',"toString","BufferAttribute","lifetime","getParticleSequences","offsetPhi","toJSON","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","jsonTypeNames"];return(ot=function(){return t})()}class at extends rt{constructor(t=0){const e=q;super(),this[e(500)]=t}[q(424)](t){const e=q;if(this[e(696)](t)){const t=this[e(500)]*this.timeActive-this[e(440)];if(t>=1){const s=Math[e(693)](t);return this[e(382)](s),s}}return 0}static fromJSON(t){const e=q,s=new at;return s[e(500)]=t[e(500)]||0,s}[q(253)](){return{emissionRate:this[q(500)]}}}const ct=class t{constructor(t){this[q(433)]=t}static getTypeID(e){const s=q;let n=t[s(566)];return e===p[s(479)]?n=t[s(479)]:e===p[s(521)]?n=t[s(521)]:e===p[s(321)]?n=t[s(321)]:e===p[s(366)]&&(n=t[s(366)]),n}static loadJSONParameter(t,e){const s=q;switch(e){case P:return(new P)[s(533)](t);case I:return(new(p[s(521)]))[s(533)](t);case x:return(new(p[s(321)]))[s(533)](t);case p[s(366)]:return(new(p[s(366)]))[s(533)](t)}return t}};i=q(566),r=q(479),o=q(521),a=q(321),l(ct,i,new ct(q(566))),l(ct,r,new ct(q(479))),l(ct,o,new ct(q(521))),l(ct,a,new ct("Vector4")),l(ct,"Color",new ct(q(366)));let ht=ct;class lt{constructor(t){const e=q;this[e(317)]=t,this[e(606)]=ht[e(578)](t)}}class ut extends lt{constructor(t,e,s,n,i,r){const o=q;super(t),this[o(439)]=e,this.offset=s,this[o(282)]=n,this.uniformOffset=i,this[o(383)]=r}[q(334)](t){const e=q,s=Math[e(507)]()*this.uniformRange;switch(this[e(606)]){case ht[e(566)]:t=Math[e(507)]()*this[e(439)]+this.offset,this[e(383)]&&(t=t<0?-1:1);break;case ht[e(479)]:t[e(708)](this[e(298)](s,"x"),this[e(298)](s,"y"));break;case ht[e(521)]:t[e(708)](this[e(298)](s,"x"),this.generateForElement(s,"y"),this[e(298)](s,"z"));break;case ht[e(321)]:t[e(708)](this[e(298)](s,"x"),this.generateForElement(s,"y"),this[e(298)](s,"z"),this.generateForElement(s,"w"))}return this.normalize&&t[e(383)](),t}[q(298)](t,e){const s=q;return t+Math[s(507)]()*this[s(439)][e]+this[s(639)][e]+this[s(387)]}[q(280)](){const t=q;return new ut(this[t(317)],this[t(439)],this[t(639)],this[t(282)],this[t(387)],this[t(383)])}static getParameterJSON(t){const e=q;return t instanceof p[e(479)]||t instanceof p[e(521)]||t instanceof p[e(321)]||t instanceof p[e(366)]?t[e(642)]():t}static[q(597)](t){const e=q;return new ut(t[e(437)],ht[e(710)](t[e(439)],t[e(437)]),ht[e(710)](t[e(639)],t[e(437)]),t[e(282)]||0,t[e(387)]||0,t[e(383)])}toJSON(t){const e=q,s={range:ut.getParameterJSON(this[e(439)]),offset:ut[e(517)](this[e(639)]),uniformRange:this[e(282)],uniformOffset:this.uniformOffset},n=t[e(473)](this[e(439)].constructor);return null!=n&&(s[e(437)]=n),{type:t.getTypePath(ut),params:s}}}class pt extends j{constructor(t,e,s,n,i){const r=q;super(),this.range=t,this[r(639)]=e,this[r(282)]=s,this[r(387)]=n,this[r(383)]=i,this[r(687)]=new ut(0,this[r(439)],this.offset,this.uniformRange,this.uniformOffset,this[r(383)])}initializeState(t){const e=q;t[e(250)]=this[e(687)][e(334)]()}static[q(597)](t,e){const s=q;return new pt(e[s(439)],e[s(639)],e.uniformRange,e[s(387)],e[s(383)])}[q(253)](){const t=q;return{range:this[t(439)],offset:this.offset,uniformRange:this[t(282)],uniformOffset:this[t(387)],normalize:this.normalize}}}class ft extends j{constructor(t){const e=q;super(),this[e(687)]=t.clone()}[q(466)](t){t[q(668)]=this.generator.generate(t.rotation)}static[q(597)](t,e){const s=q,n=e.generator[s(437)][s(597)](e[s(687)].params);return new ft(n)}[q(253)](t){return{generator:this.generator.toJSON(t)}}}class mt extends j{constructor(t,e,s,n,i){const r=q;super(),this[r(439)]=t,this[r(639)]=e,this[r(282)]=s,this[r(387)]=n,this[r(383)]=i,this[r(687)]=new ut(0,this[r(439)],this.offset,this[r(282)],this.uniformOffset,this[r(383)])}initializeState(t){const e=q;t.rotationalSpeed=this.generator[e(334)]()}static fromJSON(t,e){const s=q;return new mt(e[s(439)],e[s(639)],e[s(282)],e[s(387)],e[s(383)])}[q(253)](){const t=q;return{range:this.range,offset:this.offset,uniformRange:this[t(282)],uniformOffset:this[t(387)],normalize:this.normalize}}}class dt extends j{constructor(t,e){const s=q;super(),this[s(536)]=new ut(p[s(521)],t,e,0,0,!1)}[q(466)](t){const e=q;this[e(536)][e(334)](t[e(614)])}static[q(597)](t,e){const s=q;return new dt((new I)[s(533)](e.range),(new(p[s(521)]))[s(533)](e[s(639)]))}[q(253)](){const t=q;return{range:this.randomGenerator[t(439)][t(642)](),offset:this[t(536)][t(639)][t(642)]()}}}class wt extends j{constructor(t){const e=q;super(),this[e(687)]=t[e(280)]()}[q(466)](t){const e=q;this[e(687)][e(334)](t[e(353)]),t.initialSize[e(447)](t[e(353)])}static[q(597)](t,e){const s=q,n=e.generator[s(437)].fromJSON(e.generator.params);return new wt(n)}toJSON(t){return{generator:this[q(687)].toJSON(t)}}}class gt extends j{constructor(t,e,s,n,i=!0){const r=q;super(),this[r(347)]=new ut(p[r(521)],t,e,0,0,!0),this[r(621)]=new ut(0,s,n,0,0,!1),this[r(265)]=i}[q(466)](t){const e=q;this[e(347)][e(334)](t.velocity),this[e(265)]&&t.velocity[e(383)](),t.velocity[e(434)](this.speedGenerator[e(334)]())}static[q(597)](t,e){const s=q;return new gt((new(p[s(521)]))[s(533)](e[s(439)]),(new(p[s(521)])).fromArray(e.offset),e[s(493)],e[s(657)])}[q(253)](){const t=q;return{range:this.directionGenerator[t(439)][t(642)](),offset:this[t(347)][t(639)][t(642)](),speedRange:this.speedGenerator.range,speedOffset:this[t(621)][t(639)]}}}class St extends j{constructor(t,e=!1){const s=q;super(),this[s(482)](t),this[s(432)]=e}[q(482)](t){this[q(349)]=t}[q(466)](t){const e=q,s=this.particleSequences[e(268)](),n=s.length*Math[e(507)](),i=s[Math[e(693)](n)],r=this.particleSequences[e(666)](i),o=t[e(339)];this[e(432)]?o.x=r[e(471)]-1:o.x=r[e(504)],o.y=r.id,o.z=r[e(504)],o.w=r[e(471)],t.progressType=_[e(363)]}static[q(597)](t,e){return new St(t.getParticleSequences(),e.reverse)}[q(253)](){return{reverse:this[q(432)]}}}class yt extends W{constructor(t,e,s=!1,n=!1){const i=q;super(),this[i(349)]=t,this[i(582)]=e,this.loop=s,this.reverse=n}[q(354)](t,e){const s=q,n=t[s(339)],i=this.particleSequences[s(666)](n.y),r=e/this[s(582)];if(this[s(432)]){if(n.x-=r,n.x<i[s(504)]&&(n.x=i[s(504)]+i[s(471)],!this[s(364)]))return!1}else if(n.x+=r,n.x>=i[s(504)]+i[s(471)]&&(n.x=i.start,!this[s(364)]))return!1;return!0}static[q(597)](t,e){const s=q;return new yt(t[s(251)](),e[s(582)],e.loop,e[s(432)])}toJSON(){const t=q;return{speed:this[t(582)],loop:this.loop,reverse:this[t(432)]}}}class vt{constructor(t,e){l(this,"getInterpolatorForTypeID",function(){const t=q,e={lowerIndex:0,upperIndex:0,localT:0},s=new(p[t(479)]),n=new(p[t(521)]),i=new x,r=new(p[t(366)]),o=s=>(n,i,r,o)=>{const a=t;vt[a(428)](r,n,e),s[a(447)](i[e[a(653)]]).multiplyScalar(e[a(368)]),o[a(447)](i[e[a(272)]])[a(434)](1-e.localT)[a(546)](s)};return function(a){const c=t;switch(a){case ht[c(566)]:return(t,s,n)=>{const i=c;return vt[i(428)](n,t,e),(1-e[i(368)])*s[e[i(272)]]+e[i(368)]*s[e.upperIndex]};case ht[c(479)]:return o(s);case ht[c(521)]:return o(n);case ht[c(321)]:return o(i);case ht[c(366)]:return o(r)}}}());const s=q;this.elements=[],this.tValues=[],this[s(477)]=ht[s(578)](t),this[s(611)]=e||this[s(555)](this.elementTypeID)}*[Symbol[q(649)]](){const t=q;let e=0;for(;e<this[t(619)]();)yield{element:this[t(543)][e],tValue:this[t(684)][e]},e++}[q(619)](){const t=q;return this[t(543)][t(471)]}getElement(t){const e=q;if(t>=this.getElementCount())throw new Error(e(622));return this[e(543)][t]}getTValue(t){const e=q;if(t>=this[e(619)]())throw new Error(e(441));return this[e(684)][t]}[q(283)](t,e){const s=q;this[s(543)][s(403)](t),this.tValues[s(403)](e)}[q(572)](t,e){const s=q;return this[s(611)](t,this[s(543)],this.tValues,e)}static[q(428)](t,e,s){const n=q,i=t.length;if(0===i)return s[n(272)]=-1,s.upperIndex=-1,void(s[n(368)]=-1);let r=0,o=-1,a=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)o++,a++;s[n(272)]=G[n(694)](o,0,i-1),s[n(653)]=G[n(694)](a,0,i-1);const c=t[o],h=t[a];s[n(368)]=(e-c)/(h-c)}}class xt extends W{constructor(t,e=!1){const s=q;super(),this[s(701)]=e,this[s(288)]=new vt(t)}[q(283)](t,e){this.interpolationElements.addElement(t,e)}[q(386)](t){const e=q;for(const s of t)this[e(288)][e(283)](s[0],s[1])}[q(462)](t,e){const s=q;for(const n of e){const[...e]=n[0];this[s(288)][s(283)](new t(...e),n[1])}}[q(703)](t,e){const s=q;let n=0;switch(t.progressType){case _[s(414)]:n=0!=t[s(250)]?t[s(519)]/t[s(250)]:t[s(519)];break;case _[s(363)]:n=t[s(339)].x/t[s(339)].w}return this[s(288)].getInterpolatedElement(n,e)}}class It extends xt{constructor(t=!1){super(0,t)}[q(525)](t){super[q(386)](t)}[q(354)](t){const e=q;return this[e(701)]?t.alpha=t.initialAlpha*this[e(703)](t,t[e(273)]):t[e(273)]=this[e(703)](t,t[e(273)]),!0}static[q(597)](t,e){return new It(e.relativeToInitialValue)}toJSON(){const t=q;return{params:{relativeToInitialValue:this[t(701)]},elements:[...this[t(288)]].map((e=>[e.element,e[t(523)]]))}}}class Pt extends xt{constructor(t=!1){super(p[q(479)],t),l(this,"updateState",function(){const t=q,e=new(p[t(479)]);return function(s){const n=t;return this.getInterpolatedValue(s,e),this.relativeToInitialValue?s.size[n(708)](s[n(557)].x*e.x,s[n(557)].y*e.y):s[n(353)][n(447)](e),!0}}())}[q(525)](t){const e=q;super[e(462)](p[e(479)],t)}static fromJSON(t,e){return new Pt(e[q(701)])}[q(253)](){const t=q;return{params:{relativeToInitialValue:this[t(701)]},elements:[...this[t(288)]][t(685)]((e=>[e[t(667)][t(642)](),e[t(523)]]))}}}c=q(354);let Tt=class t extends xt{constructor(t=!1){super(f,t),l(this,c,function(){const t=new f;return function(e){const s=M;return this[s(703)](e,t),this[s(701)]?e.color.setRGB(e[s(359)].r*t.r,e[s(359)].g*t.g,e[s(359)].b*t.b):e[s(344)][s(447)](t),!0}}())}addElementsFromParameters(t){const e=q;super[e(462)](p[e(366)],t)}static fromJSON(e,s){return new t(s[q(701)])}toJSON(){const t=q;return{params:{relativeToInitialValue:this[t(701)]},elements:[...this[t(288)]].map((e=>[e[t(667)][t(642)](),e.tValue]))}}};class At extends W{constructor(t){const e=q;super(),this[e(687)]=t[e(280)]()}[q(525)](t){const e=q;super[e(462)](THREE[e(521)],t)}[q(354)](t){const e=q;return this[e(687)][e(334)](t[e(672)]),!0}static fromJSON(t,e){const s=q,n=e[s(687)].type[s(597)](e[s(687)][s(650)]);return new At(n)}toJSON(t){return{generator:this[q(687)].toJSON(t)}}}class Ft extends lt{constructor(t,e,s,n,i,r,o,a,c,h,l,u){const f=q;super(p[f(521)]),this.rangeTheta=t,this[f(547)]=e,this.rangePhi=s,this[f(252)]=n,this[f(411)]=i,this[f(350)]=r,this[f(618)]=o,this[f(421)]=a,this.scaleZ=c,this[f(560)]=h,this[f(601)]=l,this[f(641)]=u,this.tempUp=(new(p[f(521)]))[f(708)](0,1,0)}[q(334)](t){const e=q;this[e(499)].set(0,1,0);const s=Math[e(507)]()*this[e(502)]+this[e(547)],n=Math[e(507)]()*this.rangePhi+this[e(252)],i=Math.cos(s),r=Math[e(541)](s),o=Math[e(581)](n),a=Math[e(541)](n);t[e(708)](i,0,-r),t[e(434)](o),this.tempUp[e(434)](a),t[e(546)](this[e(499)]),t[e(383)]();const c=Math[e(507)]()*this[e(411)]+this[e(350)];t.multiplyScalar(c),t.x*=this[e(618)],t.y*=this.scaleY,t.z*=this[e(660)],t.x+=this.offsetX,t.y+=this.offsetY,t.z+=this[e(641)]}[q(280)](){const t=q;return new Ft(this.rangeTheta,this[t(547)],this[t(380)],this[t(252)],this[t(411)],this[t(350)],this.scaleX,this[t(421)],this[t(660)],this[t(560)],this[t(601)],this[t(641)])}static[q(597)](t){const e=q;return new Ft(t[e(502)],t[e(547)],t[e(380)],t[e(252)],t.rangeRadius,t[e(350)],t.scaleX,t[e(421)],t[e(660)],t[e(560)],t[e(601)],t.offsetZ)}[q(253)](t){const e=q;return{type:t[e(473)](Ft),params:{rangeTheta:this.rangeTheta,offsetTheta:this.offsetTheta,rangePhi:this[e(380)],offsetPhi:this[e(252)],rangeRadius:this.rangeRadius,offsetRadius:this[e(350)],scaleX:this[e(618)],scaleY:this.scaleY,scaleZ:this[e(660)],offsetX:this.offsetX,offsetY:this.offsetY,offsetZ:this[e(641)]}}}}class bt{constructor(){}}class Rt extends bt{constructor(t,e,s,n,i,r,o=void 0){const a=q;super(),this[a(384)]=null,this[a(570)]=null,this[a(292)]=performance[a(664)]()/1e3,this[a(396)]=this[a(292)],this.lastPositionFlickerTime=this.lastUpdateTime,this[a(259)]=1,this[a(635)]=1,this[a(590)]=new(p[a(521)]),this[a(510)]=new(p[a(521)]),this[a(351)]=1,this[a(612)]=2,this[a(584)]=t,this.init(t,e,s,n,i,r,o)}[q(680)](t,e,s,n,i,r,o=void 0){const a=q;this[a(384)]=new(p[a(300)]),t[a(546)](this[a(384)]),n=n||new f,i=i||0,null!=r&&null!=r||(r=2);const c=!!o;return this.light=new(p[a(561)])(16777215,2,0,1),this[a(570)].color[a(447)](n),this[a(570)][a(331)]=i,this[a(570)][a(665)]=r,this[a(570)][a(356)]=c,c&&(this[a(570)].shadow.mapSize[a(645)]=o[a(655)]||512,this[a(570)].shadow[a(655)][a(636)]=o[a(655)]||512,this[a(570)][a(490)].camera[a(707)]=o.cameraNear||.5,this[a(570)][a(490)][a(318)].far=o.cameraFar||500,this[a(570)].shadow[a(297)]=o[a(297)]||1e-4,this[a(570)].shadow[a(397)]=o[a(529)]||1),this[a(384)][a(546)](this[a(570)]),this.intensity=e,this[a(612)]=s,this[a(570)]}[q(257)](){const t=q;this.parent[t(554)](this[t(384)])}[q(515)](){return this[q(570)]}[q(534)](t){this.intensity=t}[q(424)](t){const e=q,s=t-this.lastIntensityFlickerTime,n=1/8,i=this[e(612)];if(s>n){this[e(396)]=t;let s=1+2*(Math[e(507)]()-.5)*i*n;const r=s-this.lastIntensityAdjuster;s=this[e(259)]+r,this.lastIntensityAdjuster=this[e(635)],this[e(635)]=G[e(694)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(259)]+t*this[e(635)];this.light.intensity=i*this[e(351)]}if(t-this[e(591)]>.0625){this[e(591)]=t;const s=t-this[e(292)];this[e(510)].set(Math.random()-.5,Math[e(507)]()-.5,Math.random()-.5),this[e(510)][e(434)](s),this.positionAdjuster.add(this.lastPositionAdjuster),this[e(510)][e(434)](.5),this[e(384)][e(614)][e(447)](this[e(510)]),this[e(590)].copy(this.positionAdjuster),this[e(292)]=t}}}class zt{constructor(){const t=q;this[t(291)]={default:{}},this[t(255)]={},this[t(442)]=0}[q(374)](t,e){const s=q;this[s(417)](s(528),t,e)}[q(417)](t,e,s){const n=q;if(!this[n(291)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(291)][t][e])throw new Error(n(393));this.checkAndAddTypeName(s,e,t)&&(this[n(291)][t][e]=s)}[q(271)](t,e){const s=q;if(this[s(291)][t])throw new Error(s(486));this[s(291)][t]=e;for(const n in e)if(!e[s(373)]||e[s(373)](n)){const i=e[n];this[s(416)](i,n,t)}}checkAndAddTypeName(t,e,s){const n=q;if(typeof t===n(518)){const i=this.typeIDGen++;t.___photonsTypeID=i,this[n(255)][i]={namespace:s,typeName:e}}}[q(399)](t,e){const s=q;if(!this[s(291)][t])throw new Error(s(342));if(!this[s(291)][t][e])throw new Error("JSONTypeStore::getType() -> typeName does not exist");return this.jsonTypes[t][e]}[q(375)](t){const e=q;return this[e(255)][t[e(549)]]}[q(473)](t){const e=q,s=this[e(375)](t);if(s)return s[e(332)]+"."+s[e(573)]}[q(337)](t){const e=t.split("."),s=e[0];e.splice(0,1);return{namespace:s,typeName:e.join(".")}}parseTypeString(t){const e=q,{namespace:s,typeName:n}=this[e(337)](t);return this[e(399)](s,n)}}function Et(t){function e(t){const s=M;if("string"==typeof t)return function(t){}[s(348)](s(381))[s(287)]("counter");1!==(""+t/t)[s(471)]||t%20==0?function(){return!0}.constructor(s(395)+s(369))[s(270)](s(495)):function(){return!1}[s(348)](s(395)+"gger").apply("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Ot=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:At,AnimatedSpriteRenderer:nt,Atlas:et,BaseParticleStateInitializer:J,BaseParticleStateOperator:Y,BoxPositionInitializer:dt,ColorInterpolatorOperator:Tt,ConstantParticleEmitter:at,FlickerLight:Rt,JSONTypeStore:zt,LifetimeInitializer:pt,Manager:$,OpacityInterpolatorOperator:It,ParticleStateArray:U,ParticleSystem:H,ParticleSystemState:Z,RandomGenerator:ut,RandomVelocityInitializer:gt,Renderer:Q,RotationInitializer:ft,RotationalSpeedInitializer:mt,SequenceInitializer:St,SequenceOperator:yt,SizeInitializer:wt,SizeInterpolatorOperator:Pt,SphereRandomGenerator:Ft},Symbol.toStringTag,{value:"Module"}));function Vt(){const t=["SequenceInitializer","stateObject","action","Object3D","LifetimeInitializer","fireF","gger","Manager","OpacityInterpolatorOperator","AnimatedSpriteRenderer","console","RandomVelocityInitializer","warn","TextureLoader","27mdFCBr","755586ZJeBic","setEmitter","copy","THREE","SizeInterpolatorOperator","35YKWbTJ","addNamespace","trace","debu",'{}.constructor("return this")( )',"setSimulateInWorldSpace","init","addComponent","addElementsFromParameters","BoxPositionInitializer","21340utjPIR","AdditiveBlending","addFrameSet","38QwqJND","RandomGenerator","SphereRandomGenerator","string","addParticleSequence","value","addParticleStateInitializer","prototype","bind","451176cZdSUs","10866IOSMLK","render","while (true) {}","getParticleSequences","load","301320PWuXYA","SizeInitializer","RotationInitializer","Atlas","ParticleSystem","52663GpcWVO","addParticleSystem","JSONTypeStore","ColorInterpolatorOperator","RotationalSpeedInitializer","input","Vector3","toString","FlickerLight","update","Vector2","call","counter","start","1085652QuOGhu","SequenceOperator","addElements","ConstantParticleEmitter","length","test","error","apply","return (function() ","addParticleStateOperator","position","info"];return(Vt=function(){return t})()}const Ct=qt;function qt(t,e){const s=Vt();return(qt=function(t,e){return s[t-=481]})(t,e)}!function(t,e){const s=qt,n=Vt();for(;;)try{if(204122===parseInt(s(502))/1+-parseInt(s(482))/2*(-parseInt(s(492))/3)+-parseInt(s(516))/4+-parseInt(s(497))/5+parseInt(s(543))/6+parseInt(s(548))/7*(parseInt(s(491))/8)+-parseInt(s(542))/9*(-parseInt(s(558))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Mt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[qt(523)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Mt(this,(function(){const t=qt,e=new RegExp("function *\\( *\\)"),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Bt(t(554));e[t(521)](n+"chain")&&s[t(521)](n+t(507))?Bt():n("0")}))()}();const Nt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[qt(523)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();Nt(void 0,(function(){const t=qt;let e;try{e=Function(t(524)+t(552)+");")()}catch(i){e=window}const s=e[t(538)]=e.console||{},n=["log",t(540),t(527),t(522),"exception","table",t(550)];for(let r=0;r<n[t(520)];r++){const e=Nt.constructor[t(489)][t(490)](Nt),i=n[r],o=s[i]||e;e.__proto__=Nt[t(490)](Nt),e[t(509)]=o[t(509)][t(490)](o),s[i]=e}}))();const _t=b({__name:Ct(533),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Ct,s=t,n=new(Ot[e(535)]),i=new(Ot[e(504)]);i[e(549)](e(546),p),i[e(549)]("Photons",Ot);const{renderer:r,camera:o,scene:a}=A(),c=new(p[e(508)])(...s.position);n[e(503)](((t,s)=>{const n=e,i=new(p[n(531)]);i[n(526)][n(545)](s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new v)[n(496)](o),c=new et(a,o);c[n(481)](1,0,0,1,1);const h=new(Ot[n(537)])(!0,c,!0,p[n(559)]),l=new H(i,h,r[n(487)]);l.init(150),l[n(544)](new at(6));const u=new(Ot[n(483)])(p[n(512)],new P(0,0),new(p[n(512)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new pt(3,1,0,0,!1)),l[n(488)](new(Ot[n(498)])(u)),l[n(488)](new dt(new(p[n(508)])(.05*t,0,.05*t),new(p[n(508)])(-.025*t,0,-.025*t))),l[n(488)](new(Ot[n(539)])(new I(.4*t,.5*t,.4*t),new(p[n(508)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(525)](new(Ot[n(536)]))[n(518)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l.addParticleStateOperator(new(Ot[n(505)])(!0))[n(556)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const f=new(Ot[n(484)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new At(f)),l[n(553)](!0),l[n(515)](),l})(s.scale,c)),n[e(503)](((t,s)=>{const n=e,i=new(p[n(531)]);i[n(526)][n(545)](s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new(p[n(541)])).load(o),c=new(Ot[n(500)])(a,o);c[n(481)](18,0,0,.125,.25);const h=new(Ot[n(537)])(!0,c,!0),l=new(Ot[n(501)])(i,h,r[n(487)]);l[n(554)](50),l[n(544)](new(Ot[n(519)])(10)),l[n(486)](0,18);const u=l[n(495)]();l[n(488)](new(Ot[n(532)])(0,0,0,0,!1)),l[n(488)](new(Ot[n(499)])(new(Ot[n(483)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(488)](new(Ot[n(506)])(1,-1,0,0,!1)),l[n(488)](new(Ot[n(498)])(new(Ot[n(483)])(p[n(512)],new(p[n(512)])(.25*t,.25*t),new(p[n(512)])(.5*t,.5*t),0,0,!1))),l[n(488)](new(Ot[n(557)])(new(p[n(508)])(.05*t,0,.05*t),new(p[n(508)])(-.025*t,0,-.025*t))),l[n(488)](new(Ot[n(539)])(new(p[n(508)])(.05*t,.4*t,.05*t),new I(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(488)](new(Ot[n(528)])(u)),l.addParticleStateOperator(new(Ot[n(517)])(u,.07,!1));l[n(525)](new(Ot[n(536)]))[n(518)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(525)](new Pt(!0))[n(556)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(525)](new(Ot[n(505)])(!0))[n(556)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(525)](new At(new ut(I,new(p[n(508)])(0,0,0),new(p[n(508)])(0,1.5*t,0),0,0,!1))),l[n(553)](!0),l[n(515)](),l})(s.scale,c)),n[e(503)](((t,s)=>{const n=e,i=new T;i[n(526)][n(545)](s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new(p[n(541)]))[n(496)](o),c=new(Ot[n(500)])(a,o);c[n(481)](16,0,0,212/1024,.25);const h=new(Ot[n(537)])(!0,c,!0),l=new(Ot[n(501)])(i,h,r.value);l[n(554)](20),l[n(544)](new(Ot[n(519)])(5)),l[n(486)](0,16);const u=l[n(495)]();l[n(488)](new(Ot[n(532)])(0,0,0,0,!1)),l[n(488)](new(Ot[n(499)])(new(Ot[n(483)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(488)](new(Ot[n(506)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(488)](new(Ot[n(498)])(new(Ot[n(483)])(p[n(512)],new(p[n(512)])(0,0),new(p[n(512)])(0,0),.2*t,.65*t,!1))),l[n(488)](new dt(new I(.1*t,0,.1*t),new(p[n(508)])(-.05*t,0,-.05*t))),l[n(488)](new(Ot[n(539)])(new(p[n(508)])(.02*t,.4*t,.02*t),new(p[n(508)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(488)](new(Ot[n(528)])(u)),l[n(525)](new(Ot[n(517)])(u,.1,!1));l.addParticleStateOperator(new(Ot[n(536)])).addElements([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(525)](new(Ot[n(547)])(!0))[n(556)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(525)](new(Ot[n(505)])(!0))[n(556)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(525)](new At(new(Ot[n(483)])(p[n(508)],new(p[n(508)])(0,0,0),new I(0,1.5*t,0),0,0,!1))),l[n(553)](!0),l[n(515)](),l})(s.scale,c)),n[e(555)](((t,s=10)=>{const n=e,i=new T;a[n(487)].add(i),i[n(526)][n(545)](t);return new(Ot[n(510)])(i,s,2,(new f).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=F();return h((()=>{const t=e;n[t(511)](),n[t(493)](r[t(487)],o.value)})),(t,e)=>null}});function Bt(t){function e(t){const s=qt;if(typeof t===s(485))return function(t){}.constructor(s(494))[s(523)](s(514));1!==(""+t/t)[s(520)]||t%20==0?function(){return!0}.constructor(s(551)+s(534))[s(513)](s(530)):function(){return!1}.constructor("debu"+s(534))[s(523)](s(529)),e(++t)}try{if(t)return e;e(0)}catch(s){}}!function(t,e){const s=jt,n=Dt();for(;;)try{if(555817===parseInt(s(267))/1+parseInt(s(270))/2+-parseInt(s(263))/3+parseInt(s(254))/4+parseInt(s(239))/5*(parseInt(s(250))/6)+-parseInt(s(251))/7+parseInt(s(249))/8*(-parseInt(s(240))/9))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Ut=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Ut(this,(function(){const t=jt,e=new RegExp(t(265)),s=new RegExp(t(246),"i"),n=Wt("init");e.test(n+"chain")&&s[t(269)](n+t(244))?Wt():n("0")}))()}();const Xt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[jt(264)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Dt(){const t=["debu","log","length","bind","$refs","info","trace","perspectiveCameraRef","string","34855pZWNUl","27UYhnXD","toString","exception","console","input","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","stateObject","2284472yxzppy","12abHnXf","440293tXimii",'{}.constructor("return this")( )',"counter","4327772BGBCyO","prototype","while (true) {}","return (function() ","__proto__","tcRef","pagesShowRef","warn","position","496671RodQWz","apply","function *\\( *\\)","action","523967RvHSda","set","test","42196ZLpprx","gger"];return(Dt=function(){return t})()}function jt(t,e){const s=Dt();return(jt=function(t,e){return s[t-=236]})(t,e)}Xt(void 0,(function(){const t=jt,e=function(){const t=jt;let e;try{e=Function(t(257)+t(252)+");")()}catch(s){e=window}return e}(),s=e[t(243)]=e[t(243)]||{},n=[t(273),t(261),t(277),"error",t(242),"table",t(236)];for(let i=0;i<n[t(274)];i++){const e=Xt[t(247)][t(255)][t(275)](Xt),r=n[i],o=s[r]||e;e[t(258)]=Xt[t(275)](Xt),e[t(241)]=o[t(241)][t(275)](o),s[r]=e}}))();const Jt=b({__name:"fireF",setup(t){const e=R();return z((()=>{const t=jt;e[t(245)]&&(e.value.$refs[t(259)]?e.value.$refs.tcRef.context.camera.value.position[t(268)](580,360,500):e[t(245)][t(276)][t(237)]&&e[t(245)][t(276)][t(237)][t(262)].set(580,360,500))})),(t,s)=>{const n=jt;return E(),O(u,{ref_key:n(260),ref:e},{ability:V((()=>[C(_t,{position:[0,20,10],scale:40})])),_:1},512)}}});function Wt(t){function e(t){const s=jt;if(typeof t===s(238))return function(t){}[s(247)](s(256))[s(264)](s(253));1!==(""+t/t)[s(274)]||t%20==0?function(){return!0}[s(247)](s(272)+s(271)).call(s(266)):function(){return!1}[s(247)](s(272)+s(271))[s(264)](s(248)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{Jt as default};
