import{c0 as t,a3 as n,s as e,t as r}from"./three.-z-VOBM71731641201182.js";import{b as o}from"./@tresjs.b88d4FZI1731641201182.js";import{R as s,b as i}from"./all.three.2tQ_z9k71731641201182.js";import{d as c,a6 as a,a3 as u,w as f,o as l,D as p,J as d,u as m}from"./@vue.-THQH3GC1731641201182.js";function w(){const t=["console","while (true) {}","toString","gger","tReflect","input","action","tReflectBlur","warn","2472903nqOsRo","1rzwUFT","return (function() ","init","log","mapUrl","add","primitive","584fbfGkl","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","50WExlSm","error","stateObject","forEach","reflectivity","object","isMesh","uMatrix","length","chain",'{}.constructor("return this")( )',"235665YQdmwx","227978vYoOBq","trace","constructor","wrapS","scale","apply","reflectorDUDV","visible","wrapT","test","value","debu","6051950UHwNxB","bind","151828OOKBlj","ignoreObjects","renderTarget","repeat","uniforms","421908UgOySJ","exception","showGridHelper","call","3521tbjfGw","string","size","rotation","prototype","TresGroup"];return(w=function(){return t})()}const h=g;!function(t,n){const e=g,r=w();for(;;)try{if(444002===parseInt(e(347))/1*(parseInt(e(368))/2)+parseInt(e(367))/3+parseInt(e(322))/4+parseInt(e(356))/5*(-parseInt(e(327))/6)+-parseInt(e(331))/7*(-parseInt(e(354))/8)+parseInt(e(346))/9+parseInt(e(380))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(373)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=w();return(g=function(t,n){return e[t-=322]})(t,n)}!function(){b(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(355),"i"),r=_(t(349));n[t(377)](r+t(365))&&e[t(377)](r+t(342))?_():r("0")}))()}();const v=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(373)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();v(void 0,(function(){const t=g;let n;try{n=Function(t(348)+t(366)+");")()}catch(o){n=window}const e=n[t(337)]=n[t(337)]||{},r=[t(350),t(345),"info",t(357),t(328),"table",t(369)];for(let s=0;s<r[t(364)];s++){const n=v[t(370)][t(335)][t(381)](v),o=r[s],i=e[o]||n;n.__proto__=v[t(381)](v),n[t(339)]=i[t(339)].bind(i),e[o]=n}}))();const y=[h(372)],j=[h(361)],x=[h(361)],I=c({__name:h(374),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const b=h;let g,v;const I=c,_=new s,O=new t(I.size[0]-.5,I[b(333)][1]);O.visible=I[b(329)];const{map:R}=([g,v]=a((()=>o({map:I[b(351)]}))),g=await g,v(),g);R[b(371)]=n,R[b(376)]=n,R[b(325)].set(6,3);const U=new i({map:R,reflectivity:I.reflectivity});U[b(326)][b(341)]={value:_[b(324)].texture},U.uniforms[b(344)]=_.renderTargetUniform,U[b(326)][b(363)]=_.textureMatrixUniform;const z=new e(new r(I[b(333)][0],I[b(333)][1]),U);return z[b(334)].x=-Math.PI/2,z[b(352)](_),z.onBeforeRender=(t,n,e)=>{const r=b;z[r(375)]=!1,I[r(323)][r(359)]((t=>{const n=r;t.isMesh&&(t[n(375)]=!1),t.value&&t[n(378)][n(362)]&&(t[n(378)][n(375)]=!1)})),_.update(t,n,e),I[r(323)][r(359)]((t=>{const n=r;t[n(362)]&&(t[n(375)]=!0),t[n(378)]&&t[n(378)][n(362)]&&(t[n(378)][n(375)]=!0)})),z[r(375)]=!0},u((()=>{const t=b;I.reflectivity&&(U[t(326)].uReflectivity[t(378)]=I[t(360)])})),f((()=>I[b(329)]),(t=>{O[b(375)]=t})),w({reflector:_}),(t,n)=>{const e=b;return l(),p(e(336),{scale:I[e(372)]},[d(e(353),{object:m(z),"position-y":-.01},null,8,j),d(e(353),{object:m(O)},null,8,x)],8,y)}}});function _(t){function n(t){const e=g;if(typeof t===e(332))return function(t){}[e(370)](e(338))[e(373)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(370)](e(379)+e(340))[e(330)](e(343)):function(){return!1}[e(370)](e(379)+e(340))[e(373)](e(358)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
