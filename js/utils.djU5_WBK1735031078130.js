import{a as t,B as n,s as e,c7 as o,C as r,k as s,a0 as c}from"./three.bc6MLGU_1735031078130.js";import{w as i}from"./@fesjs.I05ciYa-1735031078130.js";import{b as a}from"./@tresjs.dTM0HLnZ1735031078130.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.M5kBNwHd1735031078130.js";!function(t,n){const e=g,o=m();for(;;)try{if(180873===parseInt(e(200))/1+parseInt(e(182))/2+-parseInt(e(246))/3+-parseInt(e(224))/4+parseInt(e(190))/5+parseInt(e(204))/6*(parseInt(e(181))/7)+-parseInt(e(249))/8*(parseInt(e(185))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[g(201)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=m();return(g=function(t,n){return e[t-=179]})(t,n)}!function(){l(this,(function(){const t=g,n=new RegExp(t(234)),e=new RegExp(t(237),"i"),o=_(t(215));n[t(228)](o+t(194))&&e.test(o+t(243))?_():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["config","reflectivity","uniforms","transparent","input","add","clone","70326zwsEkZ","length","computeBoundingBox","5016aFQqEN","setY","min","computeBoundsTree","#fff","stateObject","exception","catch","deleteAttribute","return (function() ","269136SMvipq","257802jzXPMq","push","Box3","3186kJZMWP","__proto__","getCenter","depthWrite","setAttribute","1587350dkSRcI","center","count","raycast","chain","material","set","json","warn","random","101347oZAAmS","apply","counter","forEach","24ypkEVf","call","depthTest","while (true) {}","negate","gger","divideScalar","expandByObject","boundingBox","copy","bind","init","value","Vector3","get","getSize","constructor","position","error","attributes","1100948TefVoN","getX","console","prototype","test","max","getY","sub","log","geometry","function *\\( *\\)","applyMatrix4","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu"];return(m=function(){return t})()}h(void 0,(function(){const t=g,n=function(){const t=g;let n;try{n=Function(t(180)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(226)]=n[t(226)]||{},o=[t(232),t(198),t(236),"error",t(255),"table","trace"];for(let r=0;r<o[t(247)];r++){const n=h[t(220)][t(227)][t(214)](h),s=o[r],c=e[s]||n;n[t(186)]=h[t(214)](h),n.toString=c.toString[t(214)](c),e[s]=n}}))();const d=(n,e=!1)=>{const o=g;n[o(248)]();const{max:r,min:s}=n[o(212)];n[o(179)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(223)][o(221)].count;t++)e?(a.push((n.attributes[o(221)][o(225)](t)-(s.x+r.x)/2)/c),a.push((n[o(223)][o(221)].getY(t)-(s.y+r.y)/2)/i)):(a[o(183)]((n.attributes[o(221)][o(225)](t)-s.x)/c),a[o(183)]((n.attributes.position[o(230)](t)-s.y)/i));const u=new Float32Array(a);n[o(189)]("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=g;i(t,{},{method:r(218),mergeRequest:!0,responseType:r(197)}).then((t=>{n&&e(t[n]),e(t.features)}))[r(256)]((t=>{console[r(222)](t),o(t)}))})),w=t=>{const n=g,e=(new(THREE[n(184)])).setFromObject(t),o=new(THREE[n(217)]);e.getCenter(o),t.children[n(203)]((t=>{const e=n;t[e(221)][e(231)](o)})),t[n(221)].copy(o[n(208)]())},x=()=>{const t=g;n[t(227)][t(252)]=u,n[t(227)].disposeBoundsTree=p,e[t(227)][t(193)]=f},b=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(233)][n(245)]();d(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(253)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(195)][n(242)]=!0,u[n(195)][n(188)]=!0,u[n(195)][n(206)]=!0,u[n(195)].side=c,u[n(195)][n(241)][n(239)][n(216)].w=20,u[n(195)][n(241)][n(240)][n(216)]=.46,u};function j(t){const n=g,e=[];for(let r=0;r<t.length;r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(247)];r++)o[n(244)](e[r]);o[n(210)](e.length);for(let r=0;r<e[n(247)];r++)e[r][n(231)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=g;if("string"==typeof t)return function(t){}[e(220)](e(207)).apply(e(202));1!==(""+t/t).length||t%20==0?function(){return!0}[e(220)]("debu"+e(209))[e(205)]("action"):function(){return!1}.constructor(e(238)+e(209))[e(201)](e(254)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,y as l,d as r,b as s};
