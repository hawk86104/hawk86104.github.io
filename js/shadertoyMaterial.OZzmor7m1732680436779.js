import{e as t,U as n,b as e}from"./@tresjs.ozxSQdlw1732680436779.js";import{a6 as o,a0 as r,c as i,k as s,aD as a,t as c,cR as u,s as l}from"./three.HQIWXjA-1732680436779.js";import{z as f}from"./three-custom-shader-material.9-Fy8s-01732680436779.js";import{P as p}from"./tweakpane.yHWGBmom1732680436779.js";import{a as h}from"./axios.Ng308AU61732680436779.js";import{d as m,r as d,a6 as v,q as g,e as w,o as y,f as I,g as b,J as x,j as _,u as j,aj as C,ak as R,m as A}from"./@vue.u2cBPEWn1732680436779.js";import"./@vueuse.OVEejUj91732680436779.js";!function(t,n){const e=S,o=k();for(;;)try{if(172149===parseInt(e(252))/1+-parseInt(e(276))/2*(-parseInt(e(261))/3)+-parseInt(e(259))/4*(-parseInt(e(285))/5)+-parseInt(e(258))/6+-parseInt(e(280))/7+parseInt(e(272))/8+-parseInt(e(273))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(279)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=S,n=new RegExp(t(255)),e=new RegExp(t(287),"i"),o=H(t(290));n[t(277)](o+"chain")&&e[t(277)](o+t(275))?H():o("0")}))()}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(279)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function S(t,n){const e=k();return(S=function(t,n){return e[t-=250]})(t,n)}function k(){const t=["495232lZRzEd","1494252eVMSkU","counter","input","8mcZjRl","test","split","apply","697088cnehhb","table","uniform sampler2D  utexture;\n","log","constructor","1287865RsqLdd","replace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","__proto__","gger","init","umouse","error","bind","47358UvAAsW","uniform vec2 uresolution;\n","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","function *\\( *\\)","length","uniform float utime;\n","1630596QtSlHN","4ddomAL","varying vec2 vUv;\n","257019mgwkMH","debu","prototype",'{}.constructor("return this")( )',"void main()","material","utexture","console","csm_DiffuseColor","toString","string"];return(k=function(){return t})()}D(void 0,(function(){const t=S;let n;try{n=Function("return (function() "+t(264)+");")()}catch(r){n=window}const e=n[t(268)]=n.console||{},o=[t(283),"warn","info",t(250),"exception",t(281),"trace"];for(let i=0;i<o[t(256)];i++){const n=D[t(284)][t(263)][t(251)](D),r=o[i],s=e[r]||n;n[t(288)]=D[t(251)](D),n[t(270)]=s[t(270)][t(251)](s),e[r]=n}}))();class z{constructor(t,n){const e=S,i=z.replaceVariable(t),s=new f({baseMaterial:o,vertexShader:e(254),fragmentShader:i,side:r,uniforms:n[e(266)].uniforms});this[e(266)]=s,console.log(this[e(266)])}static replaceVariable(t){const n=S;t=n(260)+t;if(/iTime|iTimeDelta/g[n(277)](t)){let e=t[n(278)](n(260));t=(t="varying vec2 vUv;\n"+n(257)+e[1])[n(286)](/iTime|iTimeDelta/g,"utime")}if(/iResolution\.[a-zA-Z_]+/g.test(t)){let e=t[n(278)](n(260));t=(t=(t=n(260)+n(253)+e[1])[n(286)](/iResolution\.[a-zA-Z_]+/g,"1.")).replace(/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g[n(277)](t)){let e=t.split(n(260));t=(t=n(260)+n(282)+e[1])[n(286)](/iChannel0|iChannel1|iChannel2|iChannel3/g,n(267))}return t[n(286)](/iMouse/g,n(291)),t[n(286)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(265))[n(286)](/fragColor/g,n(269))[n(286)](/fragCoord/g,"vUv")}}function H(t){function n(t){const e=S;if(typeof t===e(271))return function(t){}[e(284)]("while (true) {}")[e(279)](e(274));1!==(""+t/t)[e(256)]||t%20==0?function(){return!0}[e(284)](e(262)+e(289)).call("action"):function(){return!1}[e(284)]("debu"+e(289)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=L;!function(t,n){const e=L,o=V();for(;;)try{if(448023===parseInt(e(354))/1+-parseInt(e(340))/2*(parseInt(e(307))/3)+-parseInt(e(331))/4+parseInt(e(301))/5*(parseInt(e(319))/6)+-parseInt(e(345))/7*(-parseInt(e(335))/8)+parseInt(e(317))/9*(parseInt(e(332))/10)+parseInt(e(349))/11*(-parseInt(e(299))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(350)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=L,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(324),"i"),o=M(t(295));n[t(310)](o+"chain")&&e[t(310)](o+t(346))?M():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(350)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(t,n){const e=V();return(L=function(t,n){return e[t-=294]})(t,n)}Z(void 0,(function(){const t=L;let n;try{n=Function(t(326)+t(300)+");")()}catch(r){n=window}const e=n[t(311)]=n[t(311)]||{},o=[t(325),t(343),t(337),"error","exception",t(351),t(347)];for(let i=0;i<o.length;i++){const n=Z.constructor[t(334)][t(296)](Z),r=o[i],s=e[r]||n;n[t(305)]=Z.bind(Z),n[t(321)]=s[t(321)][t(296)](s),e[r]=n}}))();const B={ref:"perspectiveCameraRef",position:[300,250,-122],fov:45,near:1,far:1e4},P=["object",E(313)];function V(){const t=["几何体","?key=BdHlhH","warn","TresAmbientLight","133RmCPHl","input","trace","material","11BaDKQw","apply","table","shadertoy在线地址","shadervalue","768417JwkqNN","clear","uniforms","change","stateObject","string","split","TresAxesHelper","renderpass","addres","length","init","bind","Error","data","4423764JRHgzq",'{}.constructor("return this")( )',"1122285vBlEjh","counter","debu","gger","__proto__","add","6RDYjPd","addBlade","while (true) {}","test","console","TresCanvas","side","code","action","BOX","281619xTRgWV","children","12IXNvEj","TorusKnot","toString","https://www.shadertoy.com/view/mtyGWy","catch","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","return (function() ","dispose","value","TresPerspectiveCamera","TresGridHelper","2424020nNyJQT","170iTRIOa","constructor","prototype","22744iclgVs","https://www.shadertoy.com/view/ttKGDt","info","utime","#ffffff","380620AHnAaS"];return(V=function(){return t})()}const G=m({__name:"shadertoyMaterial",async setup(o){const f=E;let m,T;const D={clearColor:"#000000",shadows:!0,alpha:!1,useLegacyLights:!0},S={autoRotate:!0,enableDamping:!0},k=new p({title:"参数"}),H=d({addres:f(322),shadervalue:""});let U=([m,T]=v((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),m=await m,T(),m),Z=new i,L=d({material:{uniforms:{utime:{value:0},uresolution:{value:new s(40,40)},utexture:{value:U}}}}),V=new a(100,100,100);k[f(308)]({view:"list",label:f(352),parse:t=>String(t),options:[{text:"1",value:f(322)},{text:"2",value:"https://www.shadertoy.com/view/tlVGDt"},{text:"3",value:f(336)}],value:"https://www.shadertoy.com/view/mtyGWy"}).on(f(357),(t=>{const n=f;H[n(363)]=t[n(328)],q(V)}));let G=new a(100,100,100),M=new c(100,100),N=new u(100,10,100,16);k.addBlade({view:"list",label:f(341),options:[{text:f(316),value:G},{text:"Plane",value:M},{text:f(320),value:N}],value:G}).on(f(357),(t=>{V=t[f(328)],q(V)}));const q=t=>{const n=f;let e="https://www.shadertoy.com/api/v1/shaders/"+H[n(363)][n(360)]("https://www.shadertoy.com/view/")[1]+n(342);h.get(e).then((function(e){const o=n;e[o(298)][o(297)]&&alert(e[o(298)][o(297)]),H[o(353)]=e[o(298)].Shader[o(362)][0][o(314)];let r=new z(H.shadervalue,L);Z[o(355)]();let i=new l(t,r.material);Z[o(306)](i),J(Z,t)}))[n(323)]((function(t){console[n(325)](t)}))},J=(t,n)=>{const e=f;t[e(318)][0].geometry[e(327)](),t[e(318)][0].geometry=n},{onLoop:O}=t();return O((({delta:t})=>{const n=f;L[n(348)][n(356)][n(338)][n(328)]+=t})),g((()=>{let t=new a(100,100,100);q(t)})),(t,e)=>{const o=f,i=w(o(312));return y(),I(i,A(D,{"window-size":""}),{default:b((()=>[x(o(329),B,null,512),_(j(n),C(R(S)),null,16),e[0]||(e[0]=x(o(344),{color:o(339)},null,-1)),e[1]||(e[1]=x("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:o(339)},null,-1)),x("primitive",{object:j(Z),side:j(r)},null,8,P),e[2]||(e[2]=x(o(361),{args:[1e3],position:[0,19,0]},null,-1)),e[3]||(e[3]=x(o(330),{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});function M(t){function n(t){const e=L;if(typeof t===e(359))return function(t){}.constructor(e(309))[e(350)](e(302));1!==(""+t/t)[e(294)]||t%20==0?function(){return!0}.constructor(e(303)+e(304)).call(e(315)):function(){return!1}[e(333)](e(303)+e(304))[e(350)](e(358)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{G as default};
