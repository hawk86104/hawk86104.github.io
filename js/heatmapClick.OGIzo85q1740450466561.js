import{D as t,o as n}from"./@tresjs.9lmhsV6t1740450466561.js";import{P as e}from"./tweakpane.yDiyAAkA1740450466561.js";import{_ as r,l as o,ak as a,al as s}from"./three.HaMTRCf61740450466561.js";import{_ as i}from"./heatmap.js-fix.KQAX2Mgm1740450466561.js";import{d as c,a3 as u,a2 as l,o as p,H as f,u as d,r as h,e as m,f as g,g as v,N as y,j as b,al as w,aj as x,ak as _,m as I}from"./@vue.NRI7TcgI1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";import"./@amap.dPX4GHML1740450466561.js";const j=C;!function(t,n){const e=C,r=k();for(;;)try{if(561627===parseInt(e(221))/1+-parseInt(e(199))/2*(parseInt(e(249))/3)+-parseInt(e(194))/4*(-parseInt(e(251))/5)+-parseInt(e(225))/6*(parseInt(e(242))/7)+-parseInt(e(212))/8+-parseInt(e(256))/9*(-parseInt(e(240))/10)+-parseInt(e(220))/11*(parseInt(e(189))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(232)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function C(t,n){const e=k();return(C=function(t,n){return e[t-=184]})(t,n)}function k(){const t=["push","layerY","44MipFQR","555520VkArqB","setScalar","body","mesh_0","18CpwYdc","attributes","toString","onclick","length","_renderer","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","apply","border","left","while (true) {}","display","Texture","return (function() ","chain","80khnEsk","primitive","69181airvUR","counter","warn","position","constructor","stateObject","test","12BOGzMI","prototype","18790MuxrbC","scale","./draco/","none","top","1127583yAWLsa","0.8","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getZ","action","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","block","1816260XVTlqB","layerX","material","count","object","444TtbqPw","40px","input","debu","exception","277922VcsetK","console","BufferAttribute","absolute","bind","create","DoubleSide","radius","geometry","gger","heatmap-canvas","computeBoundingBox","style","1779312fGSKdN","info","canvas","needsUpdate","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","setDataMax"];return(k=function(){return t})()}!function(){B(this,(function(){const t=C,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(184),"i"),r=M("init");n[t(248)](r+t(239))&&e[t(248)](r+t(196))?M():r("0")}))()}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(232)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=C;let n;try{n=Function(t(238)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(200)]=n[t(200)]||{},r=["log",t(244),t(213),"error",t(198),"table","trace"];for(let a=0;a<r[t(229)];a++){const n=S.constructor[t(250)].bind(S),o=r[a],s=e[o]||n;n.__proto__=S[t(203)](S),n[t(227)]=s[t(227)][t(203)](s),e[o]=n}}))();const z=[j(193)],A=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=j;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(231),{draco:!0,decoderPath:e(253)}))),a=await a,s(),a);h[e(224)][e(245)].set(-5088.96,-3.08,39374.7),h[e(224)][e(252)][e(222)](.01);let m=null,g=null,v=null;g=new(r[e(237)])((()=>{const t=e;return v=document.createElement(t(209)),v.style[t(245)]=t(202),v[t(211)][t(255)]=t(195),v[t(211)][t(234)]="0",document[t(223)].appendChild(v),m=i[t(204)]({container:v,width:256,height:256,blur:t(257),radius:c.radius}),m[t(230)][t(214)][t(211)][t(233)]="1px solid #5384ff",m._renderer[t(214)][t(228)]=function(n){const e=t;m.addData({x:n[e(190)],y:n[e(219)],value:1,radius:c[e(206)]}),m[e(217)](1),g&&(g[e(215)]=!0)},m})()[e(230)].canvas);const y={vertexShader:e(216),fragmentShader:e(187),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(205)]},b=new o(y);h[e(224)][e(191)]=b;return(t=>{const n=e;t[n(210)]();const{max:o,min:a}=t.boundingBox;t.deleteAttribute("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t[n(226)][n(245)][n(192)];e++)c[n(218)]((t[n(226)][n(245)].getX(e)-a.x)/s),c.push((t[n(226)][n(245)][n(185)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(r[n(201)])(u,2))})(h[e(224)][e(207)]),l((()=>{const t=e;v[t(211)][t(236)]=""+(c.show2dCanvas?t(188):t(254))})),(t,n)=>{const r=e;return p(),f(r(241),{object:d(h)[r(224)]},null,8,z)}}});function M(t){function n(t){const e=C;if("string"==typeof t)return function(t){}[e(246)](e(235))[e(232)](e(243));1!==(""+t/t)[e(229)]||t%20==0?function(){return!0}.constructor(e(197)+e(208)).call(e(186)):function(){return!1}.constructor(e(197)+e(208)).apply(e(247)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=E,r=T();for(;;)try{if(266081===parseInt(e(413))/1*(parseInt(e(438))/2)+-parseInt(e(416))/3+-parseInt(e(427))/4+parseInt(e(399))/5+parseInt(e(436))/6*(parseInt(e(411))/7)+parseInt(e(400))/8+-parseInt(e(428))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function T(){const t=["7007xwFRBv","return (function() ","11uNEPXd","#ffffff","counter","257460YNYPLL","__proto__","bind","addBinding","call","stateObject","#030311","addButton","info","console","debu","977656mSBdgB","2982627gekSvH","trace","init","TresCanvas","warn","gger","length","TresGridHelper","1218bVBKZP","toString","25342fDfBrv","error","chain","log","test","显示二维图","function *\\( *\\)","constructor","2267780rLcGzd","1052624GxYcvh","table",'{}.constructor("return this")( )',"prototype","apply","string","action","show2dCanvas","exception","radius","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)"];return(T=function(){return t})()}!function(){R(this,(function(){const t=E,n=new RegExp(t(397)),e=new RegExp(t(410),"i"),r=L(t(430));n[t(395)](r+t(440))&&e[t(395)](r+"input")?L():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(404)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();D(void 0,(function(){const t=E;let n;try{n=Function(t(412)+t(402)+");")()}catch(o){n=window}const e=n[t(425)]=n[t(425)]||{},r=[t(394),t(432),t(424),t(439),t(408),t(401),t(429)];for(let a=0;a<r[t(434)];a++){const n=D[t(398)][t(403)].bind(D),o=r[a],s=e[o]||n;n[t(417)]=D[t(418)](D),n[t(437)]=s[t(437)][t(418)](s),e[o]=n}}))();const P=c({__name:"heatmapClick",setup(t){const r=E,o={clearColor:r(422),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,r(407),{label:r(396)}),c[r(419)](i,r(409),{label:"圆圈的大小",min:.1,max:30,step:.1}),c[r(423)]({title:"点击左侧蓝色画框"}),(t,e)=>{const a=r,s=m(a(431));return p(),g(s,I(o,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y("TresDirectionalLight",{position:[5,10,7.5],color:a(414),intensity:5},null,-1)),e[2]||(e[2]=y(a(435),{args:[50,25]},null,-1)),(p(),g(w,null,{default:v((()=>[b(A,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function E(t,n){const e=T();return(E=function(t,n){return e[t-=394]})(t,n)}function L(t){function n(t){const e=E;if(typeof t===e(405))return function(t){}[e(398)]("while (true) {}")[e(404)](e(415));1!==(""+t/t)[e(434)]||t%20==0?function(){return!0}[e(398)](e(426)+e(433))[e(420)](e(406)):function(){return!1}[e(398)](e(426)+"gger")[e(404)](e(421)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{P as default};
