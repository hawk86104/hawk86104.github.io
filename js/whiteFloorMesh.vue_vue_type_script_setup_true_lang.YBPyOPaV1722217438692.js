import{a6 as t,bR as n,C as o,Z as r}from"./three.ej3u8izI1722217438692.js";import{N as e}from"./@tresjs.vs5lCFs11722217438692.js";import{d as a,b as s,a4 as c,w as i,o as u,D as f,J as l,aj as p,ak as h}from"./@vue.Q1VpS3901722217438692.js";function d(t,n){const o=_();return(d=function(t,n){return o[t-=346]})(t,n)}!function(t,n){const o=d,r=_();for(;;)try{if(710441===parseInt(o(401))/1+parseInt(o(352))/2+-parseInt(o(396))/3*(-parseInt(o(386))/4)+-parseInt(o(385))/5+parseInt(o(358))/6*(-parseInt(o(349))/7)+-parseInt(o(395))/8*(parseInt(o(372))/9)+parseInt(o(384))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[d(365)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){g(this,(function(){const t=d,n=new RegExp(t(346)),o=new RegExp(t(360),"i"),r=x(t(389));n[t(367)](r+"chain")&&o.test(r+t(373))?x():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=d;let n;try{n=Function("return (function() "+t(381)+");")()}catch(e){n=window}const o=n.console=n[t(355)]||{},r=[t(368),t(378),t(380),"error",t(388),t(394),t(374)];for(let a=0;a<r[t(387)];a++){const n=m[t(400)][t(363)][t(369)](m),e=r[a],s=o[e]||n;n[t(348)]=m[t(369)](m),n[t(397)]=s[t(397)].bind(s),o[e]=n}}))();const v=()=>{const o=d;return o(351)+t[o(366)].common+o(383)+t[o(366)][o(399)]+o(383)+n[o(375)]+o(379)+t[o(366)].beginnormal_vertex+o(361)+t[o(366)][o(370)]+o(361)+t[o(366)][o(377)]+"\n          "+t[o(366)][o(398)]+"\n          "+n[o(393)]+o(361)+t[o(366)][o(364)]+o(362)},w=()=>{const o=d;return o(359)+n.common+o(390)+t[o(366)][o(371)]+o(390)+t[o(366)][o(399)]+o(390)+n[o(356)]+o(390)+n[o(347)]+"\n\t "+t[o(366)].shadowmask_pars_fragment+o(353)};function _(){const t=["toString","project_vertex","bsdfs","constructor","627630kyNvgd","function *\\( *\\)","shadowmap_pars_fragment","__proto__","1267geRCBP","string","\n       varying vec2 vUv;\n\t\t\t \t","209422BCVwdE","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","debu","console","lights_pars_begin","action","12270KDlaMp","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n          ","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","prototype","shadowmap_vertex","apply","ShaderChunk","test","log","bind","defaultnormal_vertex","packing","1722393sZecNj","input","trace","shadowmap_pars_vertex","while (true) {}","begin_vertex","warn","\n       void main() {\n\t\t\t\t\t","info",'{}.constructor("return this")( )',"gger","\n      \t","4666010lZkLmn","3045155gUFMWU","2129612axlbFU","length","exception","init","\n\t ","counter","call","worldpos_vertex","table","24AWIBOe","6GoAkyD"];return(_=function(){return t})()}function x(t){function n(t){const o=d;if(typeof t===o(350))return function(t){}[o(400)](o(376))[o(365)](o(391));1!==(""+t/t)[o(387)]||t%20==0?function(){return!0}[o(400)]("debu"+o(382))[o(392)](o(357)):function(){return!1}.constructor(o(354)+o(382))[o(365)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}function b(){const t=["log","toString","gger","return (function() ","bind","wrapS","rotation-x","TresMesh","whiteFloorMesh","prototype","wrapT","edge","value","132535PpgUoa","debu","input","init","fEdge","size","counter","263839JrwZSb","shadowColor","RepeatWrapping","uniforms","Color","stateObject","action","merge","187028vjAkvv","#990","3225138pCjPXW","while (true) {}","trace","UniformsLib","args","1390182owlJiN","UniformsUtils","console","uColor","9226248HQMMMZ","error","#999","lights","TresPlaneGeometry","__proto__","info","uShadowColor","test","string","68DrPtCR","exception","chain","apply","1420830xFEDPW","call","color","constructor"];return(b=function(){return t})()}const y=I;function I(t,n){const o=b();return(I=function(t,n){return o[t-=254]})(t,n)}!function(t,n){const o=I,r=b();for(;;)try{if(292872===-parseInt(o(268))/1+parseInt(o(276))/2+-parseInt(o(283))/3+-parseInt(o(297))/4*(parseInt(o(261))/5)+-parseInt(o(301))/6+parseInt(o(278))/7+parseInt(o(287))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[I(300)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=I,n=new RegExp("function *\\( *\\)"),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=U(t(264));n[t(295)](r+t(299))&&o[t(295)](r+t(263))?U():r("0")}))()}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,r}}();S(void 0,(function(){const t=I;let n;try{n=Function(t(308)+'{}.constructor("return this")( ));')()}catch(e){n=window}const o=n.console=n[t(285)]||{},r=[t(305),"warn",t(293),t(288),t(298),"table",t(280)];for(let a=0;a<r.length;a++){const n=S.constructor[t(257)][t(309)](S),e=r[a],s=o[e]||n;n[t(292)]=S[t(309)](S),n[t(306)]=s[t(306)][t(309)](s),o[e]=n}}))();const j=[y(254)],M=[y(282)],k=a({__name:y(256),props:{size:{default:[20,20]},color:{default:y(277)},shadowColor:{default:y(289)},edge:{default:.35}},async setup(n){const a=y;let d,g;const m=n,_=s(),{map:x}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(310)]=x[a(258)]=t[a(270)];const b={uniforms:t[a(284)][a(275)]([t[a(281)][a(290)],{uTexture:{type:"t",value:x},uColor:{value:new o(m[a(303)])},uShadowColor:{value:new(t[a(272)])(m.shadowColor)},fEdge:{type:"f",value:m[a(259)]}}]),side:r,vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return i((()=>m[a(259)]),(t=>{const n=a;b[n(271)][n(265)][n(260)]=t})),i((()=>m[a(303)]),(n=>{const o=a;b[o(271)][o(286)][o(260)]=new(t[o(272)])(m[o(303)])})),i((()=>m[a(269)]),(n=>{const o=a;b.uniforms[o(294)][o(260)]=new(t[o(272)])(m[o(269)])})),(t,n)=>{const o=a;return u(),f(o(255),{ref_key:"tmRef",ref:_,"rotation-x":-Math.PI/2},[l(o(291),{args:m[o(266)]},null,8,M),l("TresShaderMaterial",p(h(b)),null,16)],8,j)}}});function U(t){function n(t){const o=I;if(typeof t===o(296))return function(t){}[o(304)](o(279)).apply(o(267));1!==(""+t/t).length||t%20==0?function(){return!0}[o(304)](o(262)+o(307))[o(302)](o(274)):function(){return!1}.constructor(o(262)+o(307))[o(300)](o(273)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{k as _};
