import{a as t,B as n,s as e,c0 as o,C as r,k as s,a0 as i}from"./three.wKRaqyB-1731462043013.js";import{w as c}from"./@fesjs.uG2EzMwn1731462043013.js";import{b as a}from"./@tresjs.xlnLF3O61731462043013.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.KZ7d0h7V1731462043013.js";function l(t,n){const e=y();return(l=function(t,n){return e[t-=428]})(t,n)}!function(t,n){const e=l,o=y();for(;;)try{if(512423===-parseInt(e(488))/1+parseInt(e(437))/2+-parseInt(e(448))/3+parseInt(e(487))/4+parseInt(e(466))/5+parseInt(e(502))/6+-parseInt(e(490))/7)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(484)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){g(this,(function(){const t=l,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(460),"i"),o=_(t(446));n[t(438)](o+t(432))&&e[t(438)](o+t(465))?_():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[l(484)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();m(void 0,(function(){const t=l,n=function(){const t=l;let n;try{n=Function(t(463)+t(457)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(439)]||{},o=[t(491),"warn",t(462),t(477),"exception",t(497),"trace"];for(let r=0;r<o[t(452)];r++){const n=m[t(447)].prototype[t(458)](m),s=o[r],i=e[s]||n;n[t(451)]=m.bind(m),n.toString=i.toString[t(458)](i),e[s]=n}}))();const h=(n,e=!1)=>{const o=l;n[o(464)]();const{max:r,min:s}=n[o(503)];n[o(483)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(500)][o(496)][o(444)];t++)e?(a.push((n.attributes.position[o(482)](t)-(s.x+r.x)/2)/i),a[o(473)]((n.attributes.position[o(474)](t)-(s.y+r.y)/2)/c)):(a[o(473)]((n[o(500)][o(496)].getX(t)-s.x)/i),a[o(473)]((n[o(500)][o(496)].getY(t)-s.y)/c));const u=new Float32Array(a);n[o(441)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=l;c(t,{},{method:r(445),mergeRequest:!0})[r(479)]((t=>{const o=r;n&&e(t[n]),e(t[o(485)])}))[r(443)]((t=>{console.error(t),o(t)}))})),w=t=>{const n=l,e=(new(THREE[n(455)]))[n(450)](t),o=new(THREE[n(442)]);e[n(468)](o),t[n(501)][n(492)]((t=>{const e=n;t.position[e(428)](o)})),t[n(496)][n(461)](o[n(467)]())};function y(){const t=["getCenter","debu","transparent","geometry","computeBoundsTree","push","getY","max","uniforms","error","reflectivity","then","divideScalar","center","getX","deleteAttribute","apply","features","clone","2460064LWgESG","173972eZcHdS","add","12535600isXhnN","log","forEach","set","value","min","position","table","config","material","attributes","children","5502996KpzPCZ","boundingBox","sub","call","applyMatrix4","depthWrite","chain","action","string","getSize","prototype","1588342JkcaNp","test","console","stateObject","setAttribute","Vector3","catch","count","get","init","constructor","199314PSDQej","expandByObject","setFromObject","__proto__","length","random","side","Box3","setY",'{}.constructor("return this")( )',"bind","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copy","info","return (function() ","computeBoundingBox","input","1086400tKEeJH","negate"];return(y=function(){return t})()}const x=()=>{const t=l;n[t(436)][t(472)]=u,n.prototype.disposeBoundsTree=f,e[t(436)].raycast=p},b=async t=>{const n=l,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(471)][n(486)]();h(c),c[n(472)]();const u=new o(c,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(470)]=!0,u.material[n(431)]=!0,u[n(499)].depthTest=!0,u[n(499)][n(454)]=i,u[n(499)][n(476)][n(498)].value.w=20,u[n(499)].uniforms[n(478)][n(494)]=.46,u};function j(t){const n=l,e=[];for(let r=0;r<t[n(452)];r++)e[n(473)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(452)];r++)o[n(489)](e[r]);o[n(480)](e.length);for(let r=0;r<e[n(452)];r++)e[r][n(428)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=l;if(typeof t===e(434))return function(t){}[e(447)]("while (true) {}")[e(484)]("counter");1!==(""+t/t)[e(452)]||t%20==0?function(){return!0}[e(447)](e(469)+e(459))[e(429)](e(433)):function(){return!1}[e(447)]("debu"+e(459))[e(484)](e(440)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,d as l,h as r,b as s};
