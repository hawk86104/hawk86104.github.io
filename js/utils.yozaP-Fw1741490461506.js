import{c as t,B as n,r as e,c7 as o,C as r,V as s,a0 as c}from"./three.Vxh8Czkt1741490461506.js";import{w as i}from"./@fesjs.IWF3W7Eu1741490461506.js";import{a}from"./@tresjs.rE98Wm941741490461506.js";import{c as u,d as p,a as f}from"./three-mesh-bvh.un6HGGrA1741490461506.js";!function(t,n){const e=d,o=h();for(;;)try{if(172470===-parseInt(e(532))/1+parseInt(e(544))/2+-parseInt(e(537))/3*(-parseInt(e(492))/4)+-parseInt(e(549))/5+-parseInt(e(548))/6+-parseInt(e(511))/7*(-parseInt(e(503))/8)+parseInt(e(526))/9*(parseInt(e(489))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=d,n=new RegExp(t(536)),e=new RegExp(t(500),"i"),o=_(t(501));n.test(o+"chain")&&e[t(518)](o+"input")?_():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[d(485)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();g(void 0,(function(){const t=d,n=function(){const t=d;let n;try{n=Function(t(508)+t(483)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(488)]||{},o=[t(502),t(509),"info",t(510),t(507),t(550),t(545)];for(let r=0;r<o[t(490)];r++){const n=g[t(531)][t(495)][t(497)](g),s=o[r],c=e[s]||n;n[t(484)]=g.bind(g),n.toString=c.toString[t(497)](c),e[s]=n}}))();const m=(n,e=!1)=>{const o=d;n[o(546)]();const{max:r,min:s}=n[o(547)];n[o(521)]("uv");const c=r.x-s.x,i=r.y-s.y,a=[];for(let t=0;t<n[o(504)][o(542)][o(487)];t++)e?(a[o(535)]((n[o(504)][o(542)][o(558)](t)-(s.x+r.x)/2)/c),a[o(535)]((n[o(504)][o(542)].getY(t)-(s.y+r.y)/2)/i)):(a[o(535)]((n[o(504)][o(542)][o(558)](t)-s.x)/c),a.push((n.attributes[o(542)].getY(t)-s.y)/i));const u=new Float32Array(a);n[o(517)]("uv",new t(u,2))};function h(){const t=["12tbOaOX","random","expandByObject","prototype","get","bind","geometry","children","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","log","342728dYxEnS","attributes","features","debu","exception","return (function() ","warn","error","7pJSvaf","transparent","side","uniforms","getSize","setFromObject","setAttribute","test","getCenter","copy","deleteAttribute","setY","min","max","stateObject","169515SMqMZF","depthWrite","computeBoundsTree","raycast","action","constructor","114359orPfKl","negate","gger","push","function *\\( *\\)","45993cjokvo","config","string","while (true) {}","divideScalar","position","sub","123850kDRXJV","trace","computeBoundingBox","boundingBox","1318158iOUUVe","1423135epjRAd","table","counter","depthTest","material","#fff","center","applyMatrix4","set","getX","value",'{}.constructor("return this")( )',"__proto__","apply","catch","count","console","340Hpqbja","length","json"];return(h=function(){return t})()}function d(t,n){const e=h();return(d=function(t,n){return e[t-=482]})(t,n)}const y=(t,n)=>new Promise(((e,o)=>{const r=d;i(t,{},{method:r(496),mergeRequest:!0,responseType:r(491)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(505)])}))[r(486)]((t=>{console[r(510)](t),o(t)}))})),w=t=>{const n=d,e=(new THREE.Box3)[n(516)](t),o=new THREE.Vector3;e.getCenter(o),t[n(499)].forEach((t=>{t[n(542)].sub(o)})),t[n(542)].copy(o[n(533)]())},x=()=>{const t=d;n[t(495)][t(528)]=u,n.prototype.disposeBoundsTree=p,e[t(495)][t(529)]=f},b=async t=>{const n=d,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(498)].clone();m(i),i.computeBoundsTree();const u=new o(i,{color:new r(n(554)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(553)][n(512)]=!0,u[n(553)][n(527)]=!0,u[n(553)][n(552)]=!0,u[n(553)][n(513)]=c,u[n(553)][n(514)][n(538)].value.w=20,u[n(553)][n(514)].reflectivity[n(482)]=.46,u};function j(t){const n=d,e=[];for(let r=0;r<t[n(490)];r++)e[n(535)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o.add(e[r]);o[n(541)](e[n(490)]);for(let r=0;r<e.length;r++)e[r][n(543)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=d;if(typeof t===e(539))return function(t){}.constructor(e(540))[e(485)](e(551));1!==(""+t/t)[e(490)]||t%20==0?function(){return!0}[e(531)](e(506)+e(534)).call(e(530)):function(){return!1}[e(531)]("debugger")[e(485)](e(525)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,y as l,m as r,b as s};
