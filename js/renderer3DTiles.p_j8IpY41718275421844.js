import{a5 as m,ao as T,aa as _,o as f,c as w,a1 as t,T as h,by as x,bx as C,ad as g,a6 as u,ah as y,r as B,C as S,J as L,ac as b,a as d,ae as D,af as M,ag as R}from"./vendor.n5mLuYaN1718275421844.js";import{T as j}from"./TilesRenderer.vo1ik1AS1718275421844.js";import"./BufferGeometryUtils.1V3G6ouX1718275421844.js";const k=["object"],P=m({__name:"tilesMesh",setup(v){const e=new j("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/3Dtiles/simpleGIS/data/tileset.json");e.errorTarget=0;const n=s=>{s.traverse(r=>{r.isMesh&&(r.material.side=2,r.receiveShadow=!1,r.castShadow=!1)});const l=new x,p=new C;e.getBoundingBox(l)?(l.getCenter(e.group.position),e.group.position.multiplyScalar(-1)):e.getBoundingSphere(p)&&(e.group.position.copy(p.center),e.group.position.multiplyScalar(-1))};e.onLoadModel=n;const{camera:o,renderer:a,sizes:i}=T();_(()=>{i.width.value&&(e.setCamera(o.value),e.setResolutionFromRenderer(o.value,a.value))});const{onBeforeLoop:c}=g();return c(()=>{o.value&&i.width.value&&(o.value.updateMatrixWorld(),e.update())}),(s,l)=>(f(),w("TresGroup",null,[t("primitive",{object:h(e).group},null,8,k)]))}}),z=t("TresPerspectiveCamera",{position:[400,400,400],fov:60,near:.1,far:4e3},null,-1),A=t("TresAmbientLight",{intensity:.5},null,-1),E=t("TresAxesHelper",{args:[100]},null,-1),V=m({__name:"renderer3DTiles",setup(v){const e=u({clearColor:"#201919"}),n=u({enableDamping:!0,dampingFactor:.05}),{onLoop:o}=g();o(()=>{});const a=y();return _(()=>{a.value&&a.value.position.set(1,2,3).multiplyScalar(40)}),(i,c)=>{const s=B("TresCanvas");return f(),S(s,b(e,{"window-size":""}),{default:L(()=>[z,d(h(R),D(M(n)),null,16),A,t("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:a,position:[1,2,3],intensity:1.25},null,512),d(P),E]),_:1},16)}}});export{V as default};
