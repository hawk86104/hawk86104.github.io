import{P as t}from"./tweakpane.yHWGBmom1721721076264.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.gP9bIAYD1721721076264.js";import{_ as r}from"./heatmap.js-fix.Y2rw1JKs1721721076264.js";import{h as i,T as s,bU as c,M as u,a6 as a,k as p}from"./three.fnkrvySq1721721076264.js";import{r as f}from"./utils.rTaeW1AE1721721076264.js";import{d as l}from"./pinia.G6Yd8Ztp1721721076264.js";import{b as h,d as m,a1 as d,o as g,D as y,J as v,u as b,F as w,q as I,U as _,N as j,P as x,H as S,L as k,a4 as D,r as M,j as z,g as R,m as E}from"./@vue.Q1VpS3901721721076264.js";import{c as O,d as T,a as A}from"./three-mesh-bvh.TXD2-bq71721721076264.js";import{_ as L}from"./@fesjs.ODHTSx0A1721721076264.js";import"./@tresjs.tWkmYPO61721721076264.js";import"./@vueuse._hUvP73U1721721076264.js";import"./three-custom-shader-material.UAECXI501721721076264.js";import"./object-hash.n-lQHd521721721076264.js";import"./@amap.b3gYyCW_1721721076264.js";import"./jszip.vimxEq251721721076264.js";import"./glsl-tokenizer.rVSxTaVo1721721076264.js";import"./glsl-token-string.qKZvKI-H1721721076264.js";import"./glsl-token-functions.nzsekdRK1721721076264.js";import"./vue-router.wK6Z5ZPK1721721076264.js";import"./lodash-es.nFpJXAf-1721721076264.js";import"./@qlin.yHhFDldE1721721076264.js";import"./@floating-ui.BPbuo5Gx1721721076264.js";import"./@juggle.7yjBMqoW1721721076264.js";!function(t,n){const e=P,o=$();for(;;)try{if(197225===-parseInt(e(297))/1+parseInt(e(261))/2*(-parseInt(e(275))/3)+-parseInt(e(308))/4*(-parseInt(e(264))/5)+parseInt(e(288))/6*(parseInt(e(266))/7)+-parseInt(e(295))/8+parseInt(e(277))/9+parseInt(e(292))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=P,n=new RegExp(t(272)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=q("init");n[t(271)](o+t(255))&&e.test(o+"input")?q():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(t,n){const e=$();return(P=function(t,n){return e[t-=254]})(t,n)}Z(void 0,(function(){const t=P;let n;try{n=Function(t(302)+t(300)+");")()}catch(r){n=window}const e=n[t(298)]=n[t(298)]||{},o=[t(305),t(294),t(281),t(286),t(267),t(282),t(299)];for(let i=0;i<o[t(254)];i++){const n=Z.constructor[t(268)][t(259)](Z),r=o[i],s=e[r]||n;n.__proto__=Z[t(259)](Z),n.toString=s[t(256)].bind(s),e[r]=n}}))();const B=(t,n)=>t[P(270)](n)+-10;function $(){const t=["test","function *\\( *\\)","setData","action","14433BkrUhD","left","1497303DOKnze","constructor","rgb(0,0,255)","_config","info","table","width","heatmap-canvas","rgb(0,255,0)","error","string","6XvChrf","none","gger","display","5421220EiCScS","style","warn","2820232Mkjsus","counter","294608LPxVjV","console","trace",'{}.constructor("return this")( )',"call","return (function() ","apply","height","log","push","appendChild","4QlTpdS","length","chain","toString","rgb(255,0,0)","randInt","bind","yellow","160LgDetJ","absolute","createElement","1566790vHdFKI","debu","1451765mmMOLy","exception","prototype","while (true) {}","getValueAt"];return($=function(){return t})()}function q(t){function n(t){const e=P;if(typeof t===e(287))return function(t){}[e(278)](e(269)).apply(e(296));1!==(""+t/t)[e(254)]||t%20==0?function(){return!0}[e(278)](e(265)+"gger")[e(301)](e(274)):function(){return!1}[e(278)](e(265)+e(290))[e(303)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function N(){const t=["info","constructor","39678zboRNh","135fLLdro","while (true) {}","974430fEITvp","counter","chain","debu","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind","return (function() ","1911350nbkWpD","log","stateObject","table","366420dMchWb","buildingsHeatmap","toString","action","3739020pkUJRB","prototype","function *\\( *\\)","exception","1240PZqsmq","__proto__","init","40747hrEixZ","string","call","value","apply","7235660NxAVgJ","input","test","48RUTbSA","gger","length",'{}.constructor("return this")( )'];return(N=function(){return t})()}const F=H;function H(t,n){const e=N();return(H=function(t,n){return e[t-=210]})(t,n)}!function(t,n){const e=H,o=N();for(;;)try{if(927929===parseInt(e(235))/1+parseInt(e(220))/2*(parseInt(e(214))/3)+parseInt(e(211))/4+-parseInt(e(231))/5+-parseInt(e(239))/6+-parseInt(e(246))/7*(-parseInt(e(243))/8)+parseInt(e(221))/9*(-parseInt(e(223))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(210)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){V(this,(function(){const t=H,n=new RegExp(t(241)),e=new RegExp(t(228),"i"),o=Q(t(245));n[t(213)](o+t(225))&&e[t(213)](o+t(212))?Q():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(210)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();W(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(230)+t(217)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(227)]||{},o=[t(232),"warn",t(218),"error",t(242),t(234),"trace"];for(let r=0;r<o[t(216)];r++){const n=W.constructor[t(240)][t(229)](W),i=o[r],s=e[i]||n;n[t(244)]=W[t(229)](W),n[t(237)]=s[t(237)][t(229)](s),e[i]=n}}))();const C=l(F(236),(()=>{const t=h(!1),n=h(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[H(249)]=n},setTemperature:function(t){n[H(249)]=t}}}));function Q(t){function n(t){const e=H;if(typeof t===e(247))return function(t){}.constructor(e(222))[e(210)](e(224));1!==(""+t/t)[e(216)]||t%20==0?function(){return!0}[e(219)](e(226)+e(215))[e(248)](e(238)):function(){return!1}[e(219)](e(226)+e(215))[e(210)](e(233)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=et;!function(t,n){const e=et,o=tt();for(;;)try{if(846770===-parseInt(e(181))/1*(parseInt(e(185))/2)+parseInt(e(146))/3+parseInt(e(169))/4*(parseInt(e(172))/5)+parseInt(e(211))/6+parseInt(e(178))/7*(parseInt(e(176))/8)+parseInt(e(199))/9*(-parseInt(e(186))/10)+-parseInt(e(158))/11*(-parseInt(e(174))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){X(this,(function(){const t=et,n=new RegExp(t(191)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ot("init");n[t(204)](o+t(184))&&e[t(204)](o+t(160))?ot():o("0")}))()}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();J(void 0,(function(){const t=et;let n;try{n=Function("return (function() "+t(214)+");")()}catch(r){n=window}const e=n[t(153)]=n.console||{},o=["log",t(212),t(215),t(201),t(207),t(147),t(151)];for(let i=0;i<o[t(183)];i++){const n=J[t(171)][t(182)][t(170)](J),r=o[i],s=e[r]||n;n.__proto__=J.bind(J),n[t(175)]=s[t(175)].bind(s),e[r]=n}}))();const K=[G(206),G(165)],Y=[G(206)];function tt(){const t=["prototype","length","chain","7792THWfNl","11640710igCXuB","clone","数值：","数值———：","string","function *\\( *\\)","apply","buildingsHeatmap","gger","normal","log","city","_config","9NMGgDs","model","error","value","raycast","test","makeRotationX","object","exception","geometry","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","while (true) {}","3749010qOtmQj","warn","Mesh",'{}.constructor("return this")( )',"info","computeBoundsTree","3008517zoQmDh","table","stateObject","debu","DoubleSide","trace","applyMatrix4","console","setTemperature","$patch","canvas","BufferGeometry","131813gRSdQh","_renderer","input","uniforms","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","matrix","needsUpdate","rotation-x","children","mergeGeometries","attributes","4812ycNmkm","bind","constructor","2895dnsOIc","action","12vsnYjn","toString","2456pnHNtq","opacity","15323HvRqdL","primitive","uOpacity","256wPtqpj"];return(tt=function(){return t})()}const nt=m({__name:G(193),props:{model:{},opacity:{default:1}},setup(t){const n=G;(()=>{const t=et;a[t(157)][t(182)][t(145)]=O,a[t(157)][t(182)].disposeBoundsTree=T,a[t(213)][t(182)][t(203)]=A})();const e=t,o=((t=250,n=250,e=!0)=>{const o=P,i=document[o(263)](o(284));return i[o(293)].position=o(262),!e&&(i[o(293)][o(291)]=o(289)),i[o(293)].top="0",i[o(293)][o(276)]="0",document.body[o(307)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(279),.55:o(285),.85:o(260),1:o(257)}})})();((t,n)=>{const e=P;if(!n){let o=0;for(n=[];o<1e3;)n[e(306)]({x:i[e(258)](1,t._config[e(283)]),y:i[e(258)](1,t[e(280)][e(304)]),value:i[e(258)](-10,36)}),o++}t[e(273)]({max:36,min:-10,data:n})})(o);const l=new s(o[n(159)][n(156)]);l[n(164)]=!0;const h=e[n(200)][n(197)][n(187)]();delete h[n(208)][n(168)][n(195)],delete h.geometry[n(168)].uv;const m=h[n(208)][n(187)]()[n(152)](h[n(163)]),I=e[n(200)].land[n(187)]();delete I[n(208)][n(168)][n(195)];const _=I.geometry.clone()[n(152)](I.matrix),j=c[n(167)]([m,_]);j[n(152)]((new u)[n(205)](Math.PI/2)),f(j),j[n(145)]();const x=(t=>{const o=n;return new p({vertexShader:o(162),fragmentShader:o(209),uniforms:{uOpacity:{value:e[o(177)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a[o(150)]})})(l),S=new(a[n(213)])(j,x);d((()=>{const t=n;e[t(177)]&&(x[t(161)][t(180)][t(202)]=e[t(177)])}));const k=C(),D=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(198)].width,y:(1-t.uv.y)*o[e(198)].height};console[e(196)](e(188),t),console.log(e(189),B(o,n)),k[e(154)](B(o,n))}},M=t=>{t&&k[n(155)]({showDiv:!0})},z=t=>{t&&k.setShowDiv(!1)};return(t,o)=>{const r=n;return g(),y(w,null,[v(r(179),{object:b(S),"rotation-x":-Math.PI/2,onPointerMove:D,onPointerEnter:M,onPointerLeave:z},null,40,K),v("primitive",{object:e[r(200)].model[r(166)][0][r(187)]()},null,8,Y)],64)}}});function et(t,n){const e=tt();return(et=function(t,n){return e[t-=145]})(t,n)}function ot(t){function n(t){const e=et;if(typeof t===e(190))return function(t){}[e(171)](e(210)).apply("counter");1!==(""+t/t)[e(183)]||t%20==0?function(){return!0}.constructor(e(149)+e(194)).call(e(173)):function(){return!1}[e(171)](e(149)+e(194))[e(192)](e(148)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const rt=L({__name:"dataDiv",setup(t){const n=C(),e=h({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),_((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>j((g(),y("div",{class:"title",style:k(e.value)},"温度："+S(b(n).temperature)+"℃ ",5)),[[x,b(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),it=at;!function(t,n){const e=at,o=ut();for(;;)try{if(228410===-parseInt(e(285))/1*(-parseInt(e(294))/2)+parseInt(e(311))/3+parseInt(e(291))/4+parseInt(e(296))/5*(-parseInt(e(305))/6)+parseInt(e(308))/7+parseInt(e(314))/8*(parseInt(e(284))/9)+-parseInt(e(304))/10*(parseInt(e(315))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){st(this,(function(){const t=at,n=new RegExp(t(286)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ft("init");n.test(o+t(281))&&e[t(298)](o+"input")?ft():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[at(283)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ut(){const t=["while (true) {}","heatmap2","482601TOzczO","city","call","1134288SmQsas","table",'{}.constructor("return this")( )',"8aywCaw","407prSeLx","counter","exception","透明度","return (function() ","log","bind","debu","string","gger","chain","constructor","apply","3943287GSWAVQ","1XKkLGj","function *\\( *\\)","model","info","__proto__","addBinding","263020WeMUMT","console","length","587624rNpBbZ","stateObject","340265cynUrl","opacity","test","warn","error","toString","#000","action","164330lOgWrg","36zvZrhx"];return(ut=function(){return t})()}function at(t,n){const e=ut();return(at=function(t,n){return e[t-=277]})(t,n)}ct(void 0,(function(){const t=at;let n;try{n=Function(t(319)+t(313)+");")()}catch(r){n=window}const e=n[t(292)]=n[t(292)]||{},o=[t(320),t(299),t(288),t(300),t(317),t(312),"trace"];for(let i=0;i<o[t(293)];i++){const n=ct[t(282)].prototype[t(277)](ct),r=o[i],s=e[r]||n;n[t(289)]=ct[t(277)](ct),n.toString=s[t(301)][t(277)](s),e[r]=n}}))();const pt=m({__name:it(307),async setup(r){const i=it;let s,c;const u=h(!1),a=([s,c]=D((()=>o())),s=await s,c(),s);u.value=!0;const p=M({width:1,color:i(302),opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(290)](f,i(297),{label:i(318),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),y(w,null,[z(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[z(nt,E({model:b(a)},f),null,16,[r(287)]),z(n,E(p,{builds:b(a)[r(309)]}),null,16,["builds"])])),_:1}),z(rt)],64)}}});function ft(t){function n(t){const e=at;if(typeof t===e(279))return function(t){}.constructor(e(306))[e(283)](e(316));1!==(""+t/t)[e(293)]||t%20==0?function(){return!0}[e(282)]("debu"+e(280))[e(310)](e(303)):function(){return!1}[e(282)](e(278)+"gger")[e(283)](e(295)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{pt as default};
