import{_ as e,K as s}from"./@tresjs.MD0a_GHJ1763541780170.js";import{P as a}from"./tweakpane.CqZAnw7f1763541780170.js";import"./OimoPhysicsBuffer.BCl5B0L-1763541780170.js";import{_ as t}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.DxkUPSMe1763541780170.js";import"./shapeConfigurator.vue_vue_type_style_index_1_scoped_abbf0cc1_lang.D34gkB8O1763541780170.js";import"./Resource.Cw8OnALu1763541780170.js";import"./PackedMipMapGenerator.lj9KyKtn1763541780170.js";import{u as i}from"./utils.5F_t4e-P1763541780170.js";import{d as r,ac as l,w as o,G as n,o as p,I as m,u,r as d,g as c,b as f,e as j,h as g,ah as b,a9 as _,aa as h,m as w}from"./@vue.D9fSGD371763541780170.js";import{aE as v,aD as y,V as B,bA as M,a6 as S,bK as x}from"./three.F31Lz30M1763541780170.js";import{g as T}from"./utils.BS1FyDcS1763541780170.js";import"./postprocessing.CQ_CcmSv1763541780170.js";import"./@vueuse.C5rlNtd31763541780170.js";import"./oimophysics.CfVKSiAm1763541780170.js";import"./dither.glsl.tNAdkJUa1763541780170.js";import"./Reflector.CODhdXeQ1763541780170.js";import"./vite-plugin-qiankun.B06WoCqG1763541780170.js";import"./utils.CNife3_q1763541780170.js";import"./object-hash.Bg6hZt921763541780170.js";import"./@amap.fjyZdsU91763541780170.js";import"./jszip.DlMTIJ0v1763541780170.js";import"./three-stdlib.lHESeGzj1763541780170.js";import"./@tweenjs.C9YEcV0Y1763541780170.js";import"./utils.FwzfjL-M1763541780170.js";import"./@fesjs.DD9azIsJ1763541780170.js";import"./vue-router.Bt0PFAN11763541780170.js";import"./lodash-es.DWe8oqPO1763541780170.js";import"./pinia.CbQiAydb1763541780170.js";import"./@qlin.y-0Z8WnK1763541780170.js";import"./@babel.BPq7uOAK1763541780170.js";import"./@floating-ui.Bhq4ibgf1763541780170.js";import"./@juggle.Vc7cP4_P1763541780170.js";import"./useTexture.B4sZ_qnH1763541780170.js";import"./three-mesh-bvh.DeAaRUDX1763541780170.js";import"./d3-geo.C51lZA-81763541780170.js";const k=["args"],L=["blending","map","side","alphaMap","color"],P=r({__name:"streamLine",props:{color:{default:"#2bc4dc"},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(s){let a,t;const r=s,d=([a,t]=l(()=>i("./plugins/digitalCity/image/line2.png")),a=await a,t(),a);d.needsUpdate=!0,d.wrapS=d.wrapT=v,d.repeat.set(r.fewNum,1),d.rotation=r.clockwise?0:Math.PI,d.generateMipmaps=!1,d.magFilter=y;let c=[];r.linesList.forEach(e=>{c.push((new B).fromArray(e))});const f=new M(c),{onBeforeRender:j}=e();return j(()=>{d.offset.x+=.002*r.speed}),o(()=>[r.clockwise,r.fewNum],([e,s])=>{d.rotation=e?0:Math.PI,d.repeat.set(s,1)}),(e,s)=>(p(),n("TresMesh",null,[m("TresTubeGeometry",{args:[u(f),r.tubularSegments,r.radius,r.radialSegments,r.closed]},null,8,k),m("TresMeshBasicMaterial",{blending:x,map:u(d),side:S,alphaMap:u(d),transparent:!0,color:r.color},null,8,L)]))}}),G=r({__name:"streamLines",async setup(e){let i,r;const o=d({reflectivity:.1,showGridHelper:!1,scale:5}),n=d({color:"#bd01ff",radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),v=new a;v.addBinding(n,"color",{label:"流光颜色"}),v.addBinding(n,"radius",{label:"管道半径",min:.01,max:1,step:.01}),v.addBinding(n,"speed",{label:"跑动速度",min:.1,max:10,step:.1}),v.addBinding(n,"tubularSegments",{label:"管道路径平滑",min:1,max:100,step:1}),v.addBinding(n,"radialSegments",{label:"管道壁圆润",min:1,max:20,step:1}),v.addBinding(n,"closed",{label:"闭合管道"}),v.addBinding(n,"clockwise",{label:"顺时针流动"}),v.addBinding(n,"fewNum",{label:"流线数量",min:1,max:10,step:1});const y=([i,r]=l(()=>T("./plugins/simpleGIS/json/320000_full.json")),i=await i,r(),i);return(e,a)=>{const i=c("TresCanvas");return p(),f(i,{clearColor:"#201919","window-size":""},{default:j(()=>[a[0]||(a[0]=m("TresPerspectiveCamera",{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1)),g(u(s),{enableDamping:"",autoRotate:""}),(p(),f(b,null,{default:j(()=>[g(P,_(h(n)),null,16)]),_:1})),(p(),f(b,null,{default:j(()=>[g(P,{linesList:u(y),position:[0,0,-4]},null,8,["linesList"])]),_:1})),(p(),f(b,null,{default:j(()=>[g(u(t),w({position:[0,-.5,0]},o),null,16)]),_:1}))]),_:1})}}});export{G as default};
