var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.f-4hVQjg1741583630766.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.4TnY_Fpj1741583630766.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.yVFyn7_g1741583630766.js";import{V as o,U as s,C as l,l as c,W as u,aU as p,a as f,_ as v,M as x,b as m,Q as w}from"./three.sQDbNBks1741583630766.js";import{m as g,e as h}from"./@tresjs.ZmhvXhx31741583630766.js";import{u as d}from"./index.tJ5USi7G1741583630766.js";import{F as y,C as S}from"./three-stdlib.apjMrEFM1741583630766.js";import{d as _}from"./@vue.NRI7TcgI1741583630766.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.MfWUg7gL1741583630766.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.cohSAmW81741583630766.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.sDrJlqWW1741583630766.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.coUXzRj71741583630766.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.PRmqHHv51741583630766.js";const P=I;!function(t,e){const n=I,i=E();for(;;)try{if(884186===-parseInt(n(434))/1*(parseInt(n(418))/2)+parseInt(n(438))/3+-parseInt(n(447))/4*(parseInt(n(440))/5)+parseInt(n(431))/6*(-parseInt(n(427))/7)+parseInt(n(448))/8+parseInt(n(433))/9*(-parseInt(n(453))/10)+parseInt(n(432))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(422)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=I,e=new RegExp(t(442)),n=new RegExp(t(420),"i"),i=M("init");e[t(421)](i+t(436))&&n[t(421)](i+t(443))?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[I(422)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(t,e){const n=E();return(I=function(t,e){return n[t-=418]})(t,e)}function E(){const t=["console","1204872YThGDc","length","95iKFnNB","info","function *\\( *\\)","input",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n','{}.constructor("return this")( )',"action","12724ZBYLli","3739944tPWbAb","constructor","gger","counter","prototype","1392340sehcpU","call","2nkSwXS","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","apply","return (function() ","toString","while (true) {}","debu","10101oWtccc","__proto__","exception","bind","294kqHOSH","21087220czzZAY","36dCqIDB","1213869AWtkGY","log","chain"];return(E=function(){return t})()}b(void 0,(function(){const t=I;let e;try{e=Function(t(423)+t(445)+");")()}catch(r){e=window}const n=e.console=e[t(437)]||{},i=[t(435),"warn",t(441),"error",t(429),t(419),"trace"];for(let a=0;a<i[t(439)];a++){const e=b[t(449)][t(452)][t(430)](b),r=i[a],o=n[r]||e;e[t(428)]=b[t(430)](b),e[t(424)]=o[t(424)][t(430)](o),n[r]=e}}))();const A=P(444);function M(t){function e(t){const n=I;if("string"==typeof t)return function(t){}[n(449)](n(425))[n(422)](n(451));1!==(""+t/t)[n(439)]||t%20==0?function(){return!0}[n(449)](n(426)+"gger")[n(454)](n(446)):function(){return!1}[n(449)](n(426)+n(450))[n(422)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}const D=U;!function(t,e){const n=U,i=W();for(;;)try{if(101960===-parseInt(n(510))/1+-parseInt(n(514))/2+-parseInt(n(528))/3*(-parseInt(n(503))/4)+parseInt(n(519))/5+parseInt(n(516))/6*(parseInt(n(506))/7)+parseInt(n(501))/8*(parseInt(n(494))/9)+-parseInt(n(502))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const V=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(508)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){V(this,(function(){const t=U,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(521),"i"),i=O(t(511));e.test(i+"chain")&&n.test(i+"input")?O():i("0")}))()}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(t,e){const n=W();return(U=function(t,e){return n[t-=490]})(t,e)}function T(t){const e=U,n=a({},t);return e(493)in t&&(n[e(493)]=a({},t[e(493)])),e(492)in t&&(n[e(492)]=s[e(520)](t[e(492)])),n}L(void 0,(function(){const t=U;let e;try{e=Function(t(504)+t(525)+");")()}catch(r){e=window}const n=e[t(522)]=e[t(522)]||{},i=[t(523),t(499),t(509),"error",t(498),"table",t(490)];for(let a=0;a<i[t(507)];a++){const e=L[t(496)][t(500)][t(515)](L),r=i[a],o=n[r]||e;e[t(505)]=L[t(515)](L),e[t(526)]=o[t(526)][t(515)](o),n[r]=e}}))();const j={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:D(495),fragmentShader:D(497)+A+D(491)};function O(t){function e(t){const n=U;if(typeof t===n(518))return function(t){}.constructor(n(517))[n(508)](n(513));1!==(""+t/t)[n(507)]||t%20==0?function(){return!0}[n(496)](n(512)+n(524)).call("action"):function(){return!1}[n(496)](n(512)+"gger")[n(508)](n(527)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function W(){const t=["27IVFMpJ","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","constructor","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","exception","warn","prototype","474312EXBtuW","1600070uWAcAB","257456xQFPOK","return (function() ","__proto__","3353XYBnIN","length","apply","info","181617NqgdTs","init","debu","counter","200488GlTpGd","bind","852wsHcfg","while (true) {}","string","524255QcASuZ","clone","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","log","gger",'{}.constructor("return this")( )',"toString","stateObject","9mNLaBV","trace","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","uniforms","defines"];return(W=function(){return t})()}const k=C;!function(t,e){const n=C,i=R();for(;;)try{if(392912===parseInt(n(297))/1+-parseInt(n(267))/2*(-parseInt(n(303))/3)+parseInt(n(294))/4*(-parseInt(n(254))/5)+-parseInt(n(262))/6*(parseInt(n(230))/7)+parseInt(n(245))/8*(parseInt(n(293))/9)+-parseInt(n(288))/10*(parseInt(n(241))/11)+-parseInt(n(257))/12*(-parseInt(n(266))/13))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(240)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function C(t,e){const n=R();return(C=function(t,e){return n[t-=228]})(t,e)}function R(){const t=["uniforms","32sZvIaY","gger","defines","update","chain","constructor","call","trace","setSize","2970645kezjvk","fragmentShader","log","6257652tTjVUy","getRenderTarget","texture","setClearAlpha","debu","6yozQgA","getClearAlpha","camera","return (function() ","39JkEKWN","36422diMbjp","init","floorPowerOfTwo","map","autoClear","bind","while (true) {}","toString","__proto__","set","floor","setRenderTarget",'{}.constructor("return this")( )',"height","X_IS_EVEN","replace","function *\\( *\\)","setViewOffset","_mipMaterials","length","forEach","40yOHlpD","console","_swapTarget","setClearColor","_mipQuad","506241SGKcsR","4zNCsdj","originalMapSize","isWebGLRenderTarget","35744XCmroc","render","parentMapSize","table","dispose","image","51wYTblh","info","width","stateObject","3895409ishJbO","material","value","tDiffuse","Y_IS_EVEN","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_copyQuad","type","copy","apply","1625833DzgJuI","parentLevel","minFilter"];return(R=function(){return t})()}!function(){N(this,(function(){const t=C,e=new RegExp(t(283)),n=new RegExp(t(236),"i"),i=Y(t(268));e.test(i+t(249))&&n[t(235)](i+"input")?Y():i("0")}))()}();const Z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[C(240)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();Z(void 0,(function(){const t=C;let e;try{e=Function(t(265)+t(279)+");")()}catch(r){e=window}const n=e[t(289)]=e[t(289)]||{},i=[t(256),"warn",t(304),"error","exception",t(300),t(252)];for(let a=0;a<i[t(286)];a++){const e=Z[t(250)].prototype[t(272)](Z),r=i[a],o=n[r]||e;e[t(275)]=Z[t(272)](Z),e[t(274)]=o[t(274)][t(272)](o),n[r]=e}}))();const H=new l;class Q{constructor(t){const e=C;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=T(j);n.fragmentShader=n[e(255)][e(282)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0][e(247)][e(281)]=0,i[0].defines.Y_IS_EVEN=0,i[1]=new c(T(n)),i[1].defines[e(281)]=1,i[1][e(247)].Y_IS_EVEN=0,i[2]=new c(T(n)),i[2][e(247)][e(281)]=0,i[2][e(247)][e(234)]=1,i[3]=new c(T(n)),i[3].defines.X_IS_EVEN=1,i[3][e(247)][e(234)]=1;const r=new u;r.texture[e(243)]=p,r[e(259)].magFilter=p,this[e(290)]=r,this[e(237)]=new y(new c(S)),this._mipQuad=new y(null),this[e(285)]=i}[k(248)](t,e,n,i=!1){const r=k;t[r(296)]&&(t=t[r(259)]);const o=n[r(271)],s=n[r(263)](),l=n[r(258)]();n.getClearColor(H);const c=this[r(237)],u=this[r(292)],p=this[r(290)],v=this[r(285)];let x,m;i?(x=f[r(269)](t.image[r(228)]),m=f[r(269)](t[r(302)][r(280)])):(x=Math[r(277)](t.image[r(228)]),m=Math[r(277)](t.image[r(280)]));const w=Math[r(277)](1.5*x),g=Math[r(277)](m);e[r(253)](w,g),p[r(259)][r(238)]!==e.texture[r(238)]?(p.dispose(),p[r(239)](e),p[r(259)][r(302)]=a({},p[r(259)].image)):p[r(253)](w,g),n.autoClear=!1,n[r(291)](0),n[r(260)](),c[r(231)][r(244)][r(233)][r(232)]=t,c[r(264)][r(284)](x,m,0,0,w,g),n.setRenderTarget(e),n.clear(),c[r(298)](n),n[r(278)](p),n.clear(),c[r(298)](n);let h=x,d=m,y=0;for(;h>1&&d>1;){const t=v[(h%2==0?1:0)|(d%2==0?2:0)];t[r(244)][r(270)][r(232)]=p[r(259)],t.uniforms[r(242)][r(232)]=y,t[r(244)][r(299)][r(232)][r(276)](h,d),t.uniforms[r(295)][r(232)][r(276)](x,m),u[r(231)]=t,h=Math[r(277)](h/2),d=Math[r(277)](d/2);const i=g-2*d;n[r(278)](e),u[r(264)].setViewOffset(h,d,-x,-i,w,g),u[r(298)](n),n[r(278)](p),t[r(244)][r(270)].value=e[r(259)],u[r(298)](n),y++}return n.setRenderTarget(l),n[r(260)](s),n[r(291)](H),n.autoClear=o,y+1}[k(301)](){const t=k;this[t(290)][t(301)](),this[t(292)][t(301)](),this[t(237)].dispose(),this[t(285)][t(287)]((e=>e[t(301)]()))}}function Y(t){function e(t){const n=C;if("string"==typeof t)return function(t){}.constructor(n(273)).apply("counter");1!==(""+t/t)[n(286)]||t%20==0?function(){return!0}.constructor(n(261)+n(246))[n(251)]("action"):function(){return!1}[n(250)]("debu"+n(246))[n(240)](n(229)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const G=$;function F(){const t=["resolution","action","bind","visible","value","Vector4","reflect","toString","5841136VjVQEX","return (function() ","2979258rcRfbA","copy","apply","info","stateObject","projectionMatrix","Vector3","setRenderTarget","depth","28810gGKZbz","53154QHuILJ","constructor","Plane","exception","applyMatrix4","set","elements","1233ZdmCrG","input","multiplyScalar","sub","constant","87CltQbY","normal","position","UnsignedByteType","error","7wZDHXX","length","projectPoint","390rAdiNw","forEach","console","warn","table","sign","12BvnlbN","call","reflectorMipMap","prototype","74720WwDiWh","render","12426997VqVYNc","log","PerspectiveCamera","add","getWorldPosition","counter","while (true) {}","buffers","autoClear","updateMatrixWorld","trace","test","ignoreObjects","clone","debu","parent","state","dot","applyQuaternion","matrixWorld","multiply","init",'{}.constructor("return this")( )',"string","negate","matrixWorldInverse","Quaternion","4227988EMyVQg"];return(F=function(){return t})()}!function(t,e){const n=$,i=F();for(;;)try{if(875385===parseInt(n(385))/1*(-parseInt(n(372))/2)+parseInt(n(363))/3+-parseInt(n(352))/4+-parseInt(n(313))/5*(parseInt(n(373))/6)+-parseInt(n(390))/7*(-parseInt(n(361))/8)+-parseInt(n(380))/9*(-parseInt(n(323))/10)+parseInt(n(325))/11*(parseInt(n(319))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){X(this,(function(){const t=$,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=J(t(346));e.test(i+"chain")&&n[t(336)](i+t(381))?J():i("0")}))()}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[$(365)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function $(t,e){const n=F();return($=function(t,e){return n[t-=311]})(t,e)}B(void 0,(function(){const t=$,e=function(){const t=$;let e;try{e=Function(t(362)+t(347)+");")()}catch(n){e=window}return e}(),n=e[t(315)]=e[t(315)]||{},i=[t(326),t(316),t(366),t(389),t(376),t(317),t(335)];for(let r=0;r<i[t(311)];r++){const e=B[t(374)][t(322)].bind(B),a=i[r],o=n[a]||e;e.__proto__=B[t(355)](B),e.toString=o[t(360)][t(355)](o),n[a]=e}}))();const K=_({__name:G(321),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=G,i=t,r=new(v[n(375)]),a=new x,o=new(v[n(327)]),s=new Q,l=d({width:i.resolution,height:i[n(353)],settings:{type:v[n(388)]}}),c=d({width:i[n(353)],height:i[n(353)],settings:{type:v[n(388)]}}),{camera:u,renderer:p,scene:f}=g(),{onBeforeLoop:y}=h();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(357)])return;r[t(378)](new m(0,1,0),0),r[t(377)](i[t(340)][t(344)]),o[t(364)](u[t(357)]);const e=new m(0,0,1)[t(338)]()[t(349)](),s=u[t(357)].getWorldPosition(new(v[t(369)]));e[t(359)](r[t(386)]);const c=new m;r[t(312)](s,c);const g=c[t(338)]();g[t(383)](s),g[t(328)](c),o[t(387)][t(364)](g);const h=new(v[t(369)])(0,0,-1);h.applyQuaternion(u[t(357)].getWorldQuaternion(new w)),h.add(s);const d=new(v[t(369)]);i[t(340)][t(329)](d),d[t(383)](h),d[t(359)](r[t(386)])[t(349)](),d.add(i[t(340)].getWorldPosition(new(v[t(369)]))),o.up[t(378)](0,1,0),o[t(343)](u.value.getWorldQuaternion(new(v[t(351)]))),o.up.reflect(r[t(386)]),o.lookAt(d),o[t(334)]();const y=new x;y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(345)](o[t(368)]),y[t(345)](o.matrixWorldInverse),a[t(364)](y),r[t(377)](o[t(350)]);const S=new(v[t(358)])(r[t(386)].x,r.normal.y,r.normal.z,r[t(384)]),_=o[t(368)],P=new(v[t(358)]);P.x=(Math[t(318)](S.x)+_[t(379)][8])/_[t(379)][0],P.y=(Math.sign(S.y)+_[t(379)][9])/_[t(379)][5],P.z=-1,P.w=(1+_[t(379)][10])/_[t(379)][14],S[t(382)](2/S[t(342)](P)),_[t(379)][2]=S.x,_[t(379)][6]=S.y,_[t(379)][10]=S.z+1,_[t(379)][14]=S.w;const z=p[t(357)].getRenderTarget();p[t(357)][t(370)](l[t(357)]),p[t(357)][t(341)][t(332)][t(371)].setMask(!0),!1===p[t(357)][t(333)]&&p[t(357)].clear(),i[t(337)][t(314)]((t=>t.visible=!1)),p.value[t(324)](f[t(357)],o),i[t(337)].forEach((e=>e[t(356)]=!0)),p[t(357)][t(370)](z)})(),l.value&&c.value&&p[t(357)]&&s.update(l.value.texture,c.value,p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(t){function e(t){const n=$;if(typeof t===n(348))return function(t){}[n(374)](n(331))[n(365)](n(330));1!==(""+t/t)[n(311)]||t%20==0?function(){return!0}[n(374)](n(339)+"gger")[n(320)](n(354)):function(){return!1}[n(374)](n(339)+"gger")[n(365)](n(367)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function q(t,e){var n=et();return(q=function(t,e){return n[t-=111]})(t,e)}!function(t,e){for(var n=q,i=et();;)try{if(461352===-parseInt(n(133))/1*(-parseInt(n(147))/2)+parseInt(n(125))/3*(-parseInt(n(116))/4)+parseInt(n(124))/5*(-parseInt(n(139))/6)+parseInt(n(118))/7+parseInt(n(145))/8*(-parseInt(n(117))/9)+parseInt(n(119))/10+parseInt(n(114))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[q(148)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(){var t=["warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1713591TvKbAU","test","180FzLIkw","2668203fVCytv","1512798VGrYmZ","6680580QkvivD",'{}.constructor("return this")( )',"init","stateObject","trace","5QjWmcV","58173pNDtIE","info","while (true) {}","input","return (function() ","constructor","call","debu","103395lWBZWG","gger","counter","action","chain","bind","1420194gcscDA","length","string","console","error","log","8OUGCds","prototype","16RdVaVE","apply","toString"];return(et=function(){return t})()}!function(){tt(this,(function(){var t=q,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(113),"i"),i=it(t(121));e[t(115)](i+t(137))&&n[t(115)](i+t(128))?it():i("0")}))()}();var nt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[q(148)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function it(t){function e(t){var n=q;if(typeof t===n(141))return function(t){}[n(130)](n(127))[n(148)](n(135));1!==(""+t/t)[n(140)]||t%20==0?function(){return!0}[n(130)](n(132)+n(134))[n(131)](n(136)):function(){return!1}[n(130)](n(132)+"gger").apply(n(122)),e(++t)}try{if(t)return e;e(0)}catch(n){}}nt(void 0,(function(){for(var t=q,e=function(){var t,e=q;try{t=Function(e(129)+e(120)+");")()}catch(n){t=window}return t}(),n=e[t(142)]=e.console||{},i=[t(144),t(112),t(126),t(143),"exception","table",t(123)],r=0;r<i[t(140)];r++){var a=nt[t(130)][t(146)][t(138)](nt),o=i[r],s=n[o]||a;a.__proto__=nt[t(138)](nt),a[t(111)]=s[t(111)].bind(s),n[o]=a}}))();export{K as _};
