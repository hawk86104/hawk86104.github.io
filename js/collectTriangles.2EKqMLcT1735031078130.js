import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.dTM0HLnZ1735031078130.js";import{_ as s}from"./index.cTJ-gXe51735031078130.js";import{_ as i,V as c,cx as u}from"./three.bc6MLGU_1735031078130.js";import{P as a}from"./tweakpane.yHWGBmom1735031078130.js";import{I as l,C as p,N as f,c as m,d as h,a as d}from"./three-mesh-bvh.M5kBNwHd1735031078130.js";import{d as g,a6 as y,b as w,a3 as b,o as j,D as v,J as I,u as _,F as x,r as T,e as k,j as M,g as A,m as S,f as z,al as C}from"./@vue.-THQH3GC1735031078130.js";import"./@vueuse.COyzlgw71735031078130.js";import"./index.36uN9A4_1735031078130.js";import"./@fesjs.I05ciYa-1735031078130.js";import"./vue-router.v9AQvngO1735031078130.js";import"./lodash-es.kYt-_xTG1735031078130.js";import"./@qlin.yHhFDldE1735031078130.js";import"./pinia.67PZ8qep1735031078130.js";import"./vue-demi.C4xddsk91735031078130.js";import"./@floating-ui.BPbuo5Gx1735031078130.js";import"./@juggle.7yjBMqoW1735031078130.js";import"./chalk.sAH7iSuz1735031078130.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1735031078130.js";import"./@iconify.3mYF4lU71735031078130.js";import"./dompurify.rQUea5mq1735031078130.js";import"./utils.JNfN2BSZ1735031078130.js";import"./default.vue_vue_type_script_setup_true_lang.Pq1TYH9Y1735031078130.js";import"./three-mesh-ui.module.QajxiggY1735031078130.js";!function(t,n){const e=D,r=O();for(;;)try{if(176701===-parseInt(e(281))/1*(-parseInt(e(271))/2)+-parseInt(e(248))/3*(-parseInt(e(239))/4)+parseInt(e(252))/5*(parseInt(e(251))/6)+-parseInt(e(250))/7+-parseInt(e(273))/8+-parseInt(e(247))/9*(parseInt(e(265))/10)+parseInt(e(267))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const R=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){R(this,(function(){const t=D,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(264),"i"),r=F(t(257));n[t(236)](r+t(240))&&e[t(236)](r+t(263))?F():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(244)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function O(){const t=["innerWidth","Raycaster","6712ilzclt","chain","length","string","console","apply","exception","constructor","690705JvwlPf","6KvUXXa","value","1470098MLXeFk","655686jxIujn","10tmrfEz","gger","error","debu","innerHeight","init","clientY","log","call","clientX",'{}.constructor("return this")( )',"input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","20cOylBP","firstHitOnly","4985343dHGurj","warn","while (true) {}","return (function() ","6OdGHbZ","trace","1740872iYCvbw","prototype","pointerType","bind","table","touch","addEventListener","stateObject","27561FGmxtD","enabled","button","info","setFromCamera","action","test"];return(O=function(){return t})()}B(void 0,(function(){const t=D;let n;try{n=Function(t(270)+t(262)+");")()}catch(o){n=window}const e=n.console=n[t(243)]||{},r=[t(259),t(268),t(284),t(254),t(245),t(277),t(272)];for(let s=0;s<r.length;s++){const n=B[t(246)][t(274)][t(276)](B),o=r[s],i=e[o]||n;n.__proto__=B[t(276)](B),n.toString=i.toString.bind(i),e[o]=n}}))();function D(t,n){const e=O();return(D=function(t,n){return e[t-=234]})(t,n)}function F(t){function n(t){const e=D;if(typeof t===e(242))return function(t){}[e(246)](e(269)).apply("counter");1!==(""+t/t)[e(241)]||t%20==0?function(){return!0}[e(246)]("debu"+e(253))[e(260)](e(235)):function(){return!1}.constructor(e(255)+e(253))[e(244)](e(280)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=Z;!function(t,n){const e=Z,r=G();for(;;)try{if(965143===-parseInt(e(518))/1+-parseInt(e(477))/2+-parseInt(e(466))/3*(parseInt(e(467))/4)+parseInt(e(449))/5*(parseInt(e(513))/6)+parseInt(e(481))/7+-parseInt(e(484))/8+parseInt(e(488))/9*(parseInt(e(464))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(499)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){P(this,(function(){const t=Z,n=new RegExp(t(445)),e=new RegExp(t(498),"i"),r=H(t(434));n[t(432)](r+t(504))&&e.test(r+"input")?H():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(499)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Z(t,n){const e=G();return(Z=function(t,n){return e[t-=430]})(t,n)}X(void 0,(function(){const t=Z;let n;try{n=Function(t(430)+t(517)+");")()}catch(o){n=window}const e=n[t(491)]=n[t(491)]||{},r=[t(452),t(474),t(470),t(453),"exception","table","trace"];for(let s=0;s<r.length;s++){const n=X[t(509)][t(500)].bind(X),o=r[s],i=e[o]||n;n[t(444)]=X[t(492)](X),n[t(506)]=i[t(506)].bind(i),e[o]=n}}))();const Y=["geometry","material"],q=[E(487)];function G(){const t=["Mesh","color","info","attributes","setFromCamera","visible","warn","brushMesh","count","1884476gzRpaC","targetMesh","getY","invert","2032835SrobtD","set","生成模型","7607744jDvTDW","model","center","geometry","13077kxAmRo","TresMesh","intersectsSphere","console","bind","intersectObject","getX","DynamicDrawUsage","click","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","apply","prototype","Vector2","value","debu","chain","点击按钮","toString","TresMeshStandardMaterial","BufferAttribute","constructor","index","shapecast","controls","12006bQBxTA","getZ","computeBoundsTree","radius",'{}.constructor("return this")( )',"136772gqFHPb","containsPoint","return (function() ","normal","test","string","init","setX","firstHitOnly","copy","disposeBoundsTree","point","setZ","applyMatrix4","BufferGeometry","fill","__proto__","function *\\( *\\)","length","instance","setUsage","3160PYPBde","targetMesh.value init","setAttribute","log","error","position","action","matrixWorld","scale","Sphere","call","Matrix4","MeshStandardMaterial","enabled","setY","13310vXSsMk","push","1481577NhqtYq","4AhhsSV"];return(G=function(){return t})()}const U=g({__name:E(485),props:{controls:{}},async setup(r){const o=E;let s,g;const T=r;(()=>{const t=Z;i[t(442)].prototype[t(515)]=m,i[t(442)][t(500)][t(438)]=h,i[t(468)].prototype.raycast=d})();const k=([s,g]=y((()=>e(u,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,g(),s),M=new(i[o(461)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),A=new Uint8Array(3*k[o(471)].position[o(476)]);A[o(443)](255);const S=new(i[o(508)])(A,3,!0);S[o(448)](i[o(495)]),k[o(451)](o(469),S);const z=w(null),C=w(null),R=w(!1),B=w(-1),O=w(.2),F=new(i[o(501)]),{camera:P,raycaster:X}=t(),G=15/255,U=78/255,H=85/255;let L=null;b((()=>{const t=o;z[t(502)]&&(console[t(452)](t(450),z.value),z.value[t(487)][t(515)](),L=k.boundsTree,((t,n,e,r,o,s)=>{const c=D;window[c(279)]("pointermove",(e=>{const r=c;t.x=e[r(261)]/window[r(237)]*2-1,t.y=-e[r(258)]/window[r(256)]*2+1,n[r(249)]=!0})),window[c(279)]("pointerdown",(u=>{const a=c;t.x=u.clientX/window[a(237)]*2-1,t.y=-u[a(258)]/window[a(256)]*2+1,r[a(249)]=u[a(283)];const l=new(i[a(238)]);l[a(234)](t,e[a(249)]),l[a(266)]=!0;const p=l.intersectObject(o[a(249)],!0);n.value=!0,s[a(282)]=0===p[a(241)]}),!0),window[c(279)]("pointerup",(t=>{const e=c;r[e(249)]=-1,t[e(275)]===e(278)&&(n[e(249)]=!1)}),!0)})(F,R,P,B,z,T[t(512)][t(447)]))}));const{onLoop:$}=n();$((()=>{const t=o,n=k[t(510)];if(C[t(502)])if(T.controls[t(447)].active||!R[t(502)])C.value[t(473)]=!1;else{C.value[t(457)].setScalar(O[t(502)]),X.value[t(472)](F,P[t(502)]),X[t(502)][t(436)]=!0;const e=X[t(502)][t(493)](z[t(502)],!0);if(e[t(446)]){C[t(502)].position[t(437)](e[0][t(439)]),T.controls[t(447)][t(462)]=!1,C.value.visible=!0;const r=new(i[t(460)]);r[t(437)](z[t(502)][t(456)])[t(480)]();const o=new(i[t(458)]);o[t(486)][t(437)](C[t(502)][t(454)])[t(441)](r),o[t(516)]=100*O[t(502)];const s=[],u=new c;if(null==L||L[t(511)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(u[e(482)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(519)](u))return l;return p}return r?l:f},intersectsTriangle:(n,e,r)=>{if(r||n[t(490)](o)){const t=3*e;s.push(t,t+1,t+2)}return!1}}),0===B[t(502)]||2===B.value){let e=1,r=1,o=1;0===B.value&&(e=G,r=U,o=H);for(let i=0,c=s[t(446)];i<c;i++){const c=n[t(494)](s[i]);S[t(435)](c,e),S[t(463)](c,r),S[t(440)](c,o)}S.needsUpdate=!0}}else C.value.visible=!1,T[t(512)][t(447)][t(462)]=!0}}));const J=(new a).addButton({title:o(505),label:o(483)}),W=new(i[o(442)]);return J.on(o(496),(()=>{const t=o,n=[],e=[];for(let o=0;o<S[t(476)];o++)S[t(494)](o)===G&&S[t(479)](o)===U&&S[t(514)](o)===H&&(n[t(465)](k.attributes[t(454)][t(494)](o),k[t(471)][t(454)][t(479)](o),k[t(471)][t(454)][t(514)](o)),e[t(465)](k[t(471)].normal[t(494)](o),k[t(471)].normal[t(479)](o),k[t(471)][t(431)][t(514)](o)));const r=new Float32Array(n);W[t(451)](t(454),new(i[t(508)])(r,3)),W[t(451)](t(431),new(i[t(508)])(r,3))})),(t,n)=>{const e=o;return j(),v(x,null,[I(e(489),{ref_key:e(478),ref:z,geometry:_(k),scale:.005,material:_(M)},null,8,Y),I(e(489),{ref_key:e(475),ref:C,visible:!1},n[0]||(n[0]=[I("TresSphereGeometry",{args:[1,40,40]},null,-1),I(e(507),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),I(e(489),{geometry:_(W),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[I(e(507),{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,q)],64)}}});function H(t){function n(t){const e=Z;if(typeof t===e(433))return function(t){}[e(509)]("while (true) {}")[e(499)]("counter");1!==(""+t/t)[e(446)]||t%20==0?function(){return!0}[e(509)]("debu"+e(497))[e(459)](e(455)):function(){return!1}.constructor(e(503)+e(497))[e(499)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function L(t,n){const e=J();return(L=function(t,n){return e[t-=388]})(t,n)}const $=L;function J(){const t=["2538560DrWxLu","chain","string","2tisfpt","toString","TresPerspectiveCamera","error","bind",'{}.constructor("return this")( )',"controls","prototype","3961736tMgkUI","7555824AEdPYw","counter","690590KDvOkB","121724TyDIbu","call","stateObject","debu","input","console","38070054BxYftG","neg-x.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","36TpklLI","while (true) {}","#999999","action","3668710etvnMl","value","info","constructor","controlsRef","length","log","7JnGMul","78mjsRTC","trace","TresAmbientLight","function *\\( *\\)","neg-y.jpg","apply","gger","neg-z.jpg","collectTriangles","TresCanvas"];return(J=function(){return t})()}!function(t,n){const e=L,r=J();for(;;)try{if(768009===-parseInt(e(421))/1*(parseInt(e(432))/2)+parseInt(e(408))/3*(-parseInt(e(433))/4)+-parseInt(e(418))/5+parseInt(e(430))/6+-parseInt(e(407))/7*(parseInt(e(429))/8)+-parseInt(e(396))/9*(parseInt(e(400))/10)+parseInt(e(393))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const W=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(413)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){W(this,(function(){const t=L,n=new RegExp(t(411)),e=new RegExp(t(395),"i"),r=N("init");n.test(r+t(419))&&e.test(r+t(391))?N():r("0")}))()}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();V(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function("return (function() "+t(426)+");")()}catch(e){n=window}return n}(),e=n[t(392)]=n.console||{},r=[t(406),"warn",t(402),t(424),"exception","table",t(409)];for(let o=0;o<r[t(405)];o++){const n=V[t(403)][t(428)][t(425)](V),s=r[o],i=e[s]||n;n.__proto__=V[t(425)](V),n.toString=i[t(422)][t(425)](i),e[s]=n}}))();const K=g({__name:$(416),setup(t){const n=$,e=T({clearColor:n(398),antialias:!0}),i=T({autoRotate:!1}),c=w(null);return(t,u)=>{const a=n,l=k(a(417));return j(),v(x,null,[M(_(s)),M(l,S(e,{"window-size":""}),{default:A((()=>[u[0]||(u[0]=I(a(423),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),M(_(r),S({ref_key:a(404),ref:c},i),null,16),u[1]||(u[1]=I(a(410),{intensity:1},null,-1)),(j(),z(C,null,{default:A((()=>[M(U,{controls:c[a(401)]},null,8,[a(427)])])),_:1})),(j(),z(C,null,{default:A((()=>[M(_(o),{background:!1,files:["pos-x.jpg",a(394),"pos-y.jpg",a(412),"pos-z.jpg",a(415)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function N(t){function n(t){const e=L;if(typeof t===e(420))return function(t){}[e(403)](e(397))[e(413)](e(431));1!==(""+t/t)[e(405)]||t%20==0?function(){return!0}[e(403)](e(390)+"gger")[e(388)](e(399)):function(){return!1}[e(403)](e(390)+e(414))[e(413)](e(389)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
