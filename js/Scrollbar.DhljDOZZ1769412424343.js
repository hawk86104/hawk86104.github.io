import{importShared as e}from"./3d-tiles-renderer.DFcJBJdg1769412424343.js";import{c as t,commonVariables as l,derived as r,cB as o,cM as n,cE as i,useConfig as a,useTheme as s,useThemeClass as c}from"./light.hBNtc1mL1769412424343.js";import{ResizeObserver as u}from"./index.B2-FHinZ1769412424343.js";import{useRtl as d}from"./use-rtl.CLJyeQqk1769412424343.js";import{off as v,on as h}from"./use-merged-state.-p4GBhEq1769412424343.js";function f(e){return e.composedPath()[0]||null}function b(e){return"string"==typeof e?e.endsWith("px")?Number(e.slice(0,e.length-2)):Number(e):e}function p(e){if(null!=e)return"number"==typeof e?`${e}px`:e.endsWith("px")?e:`${e}px`}function m(e,t){const l=e.trim().split(/\s+/g),r={top:l[0]};switch(l.length){case 1:r.right=l[0],r.bottom=l[0],r.left=l[0];break;case 2:r.right=l[1],r.left=l[1],r.bottom=l[0];break;case 3:r.right=l[1],r.bottom=l[2],r.left=l[1];break;case 4:r.right=l[1],r.bottom=l[2],r.left=l[3];break;default:throw new Error("[seemly/getMargin]:"+e+" is not a valid value.")}return void 0===t?r:r[t]}function g(e,t){const[l,r]=e.split(" ");return{row:l,col:r||l}}function w(e=8){return Math.random().toString(16).slice(2,2+e)}function x(e,t){const l=[];for(let r=0;r<e;++r)l.push(t);return l}function y(e,t){const l=[];if(!t){for(let t=0;t<e;++t)l.push(t);return l}for(let r=0;r<e;++r)l.push(t(r));return l}const z="undefined"!=typeof window&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;function S(){return z}const{onActivated:R,onDeactivated:$}=await e("vue");function B(e){const t={isDeactivated:!1};let l=!1;return R(()=>{t.isDeactivated=!1,l?e():l=!0}),$(()=>{t.isDeactivated=!0,l||(l=!0)}),t}function M(e,t){console.error(`[vueuc/${e}]: ${t}`)}const T=new class{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new("undefined"!=typeof window&&window.ResizeObserver||u)(this.handleResize),this.elHandlersMap=new Map}handleResize(e){for(const t of e){const e=this.elHandlersMap.get(t.target);void 0!==e&&e(t)}}registerHandler(e,t){this.elHandlersMap.set(e,t),this.observer.observe(e)}unregisterHandler(e){this.elHandlersMap.has(e)&&(this.elHandlersMap.delete(e),this.observer.unobserve(e))}},{defineComponent:C,renderSlot:H,getCurrentInstance:P,onMounted:D,onBeforeUnmount:W}=await e("vue"),j=C({name:"ResizeObserver",props:{onResize:Function},setup(e){let t=!1;const l=P().proxy;function r(t){const{onResize:l}=e;void 0!==l&&l(t)}D(()=>{const e=l.$el;void 0!==e?e.nextElementSibling===e.nextSibling||3!==e.nodeType||""===e.nodeValue?null!==e.nextElementSibling&&(T.registerHandler(e.nextElementSibling,r),t=!0):M("resize-observer","$el can not be observed (it may be a text node)."):M("resize-observer","$el does not exist.")}),W(()=>{t&&T.unregisterHandler(l.$el.nextElementSibling)})},render(){return H(this.$slots,"default")}});function O(e){const{left:t,right:l,top:r,bottom:o}=m(e);return`${r} ${t} ${o} ${l}`}const{Comment:E,createTextVNode:I,Fragment:L}=await e("vue");function k(e,t=!0,l=[]){return e.forEach(e=>{if(null!==e)if("object"==typeof e)if(Array.isArray(e))k(e,t,l);else if(e.type===L){if(null===e.children)return;Array.isArray(e.children)&&k(e.children,t,l)}else{if(e.type===E&&t)return;l.push(e)}else"string"!=typeof e&&"number"!=typeof e||l.push(I(String(e)))}),l}const{defineComponent:X}=await e("vue"),F=X({render(){var e,t;return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)}}),{cubicBezierEaseInOut:Y}=l;function A({name:e="fade-in",enterDuration:l="0.2s",leaveDuration:r="0.2s",enterCubicBezier:o=Y,leaveCubicBezier:n=Y}={}){return[t(`&.${e}-transition-enter-active`,{transition:`all ${l} ${o}!important`}),t(`&.${e}-transition-leave-active`,{transition:`all ${r} ${n}!important`}),t(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0}),t(`&.${e}-transition-leave-from, &.${e}-transition-enter-to`,{opacity:1})]}const V={railInsetHorizontalBottom:"auto 2px 4px 2px",railInsetHorizontalTop:"4px 2px auto 2px",railInsetVerticalRight:"2px 4px 2px auto",railInsetVerticalLeft:"2px auto 2px 4px",railColor:"transparent"};function U(e){const{scrollbarColor:t,scrollbarColorHover:l,scrollbarHeight:r,scrollbarWidth:o,scrollbarBorderRadius:n}=e;return Object.assign(Object.assign({},V),{height:r,width:o,borderRadius:n,color:t,colorHover:l})}const N={name:"Scrollbar",common:r,self:U},_=o("scrollbar","\n overflow: hidden;\n position: relative;\n z-index: auto;\n height: 100%;\n width: 100%;\n",[t(">",[o("scrollbar-container","\n width: 100%;\n overflow: scroll;\n height: 100%;\n min-height: inherit;\n max-height: inherit;\n scrollbar-width: none;\n ",[t("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb","\n width: 0;\n height: 0;\n display: none;\n "),t(">",[o("scrollbar-content","\n box-sizing: border-box;\n min-width: 100%;\n ")])])]),t(">, +",[o("scrollbar-rail","\n position: absolute;\n pointer-events: none;\n user-select: none;\n background: var(--n-scrollbar-rail-color);\n -webkit-user-select: none;\n ",[n("horizontal","\n height: var(--n-scrollbar-height);\n ",[t(">",[i("scrollbar","\n height: var(--n-scrollbar-height);\n border-radius: var(--n-scrollbar-border-radius);\n right: 0;\n ")])]),n("horizontal--top","\n top: var(--n-scrollbar-rail-top-horizontal-top); \n right: var(--n-scrollbar-rail-right-horizontal-top); \n bottom: var(--n-scrollbar-rail-bottom-horizontal-top); \n left: var(--n-scrollbar-rail-left-horizontal-top); \n "),n("horizontal--bottom","\n top: var(--n-scrollbar-rail-top-horizontal-bottom); \n right: var(--n-scrollbar-rail-right-horizontal-bottom); \n bottom: var(--n-scrollbar-rail-bottom-horizontal-bottom); \n left: var(--n-scrollbar-rail-left-horizontal-bottom); \n "),n("vertical","\n width: var(--n-scrollbar-width);\n ",[t(">",[i("scrollbar","\n width: var(--n-scrollbar-width);\n border-radius: var(--n-scrollbar-border-radius);\n bottom: 0;\n ")])]),n("vertical--left","\n top: var(--n-scrollbar-rail-top-vertical-left); \n right: var(--n-scrollbar-rail-right-vertical-left); \n bottom: var(--n-scrollbar-rail-bottom-vertical-left); \n left: var(--n-scrollbar-rail-left-vertical-left); \n "),n("vertical--right","\n top: var(--n-scrollbar-rail-top-vertical-right); \n right: var(--n-scrollbar-rail-right-vertical-right); \n bottom: var(--n-scrollbar-rail-bottom-vertical-right); \n left: var(--n-scrollbar-rail-left-vertical-right); \n "),n("disabled",[t(">",[i("scrollbar","pointer-events: none;")])]),t(">",[i("scrollbar","\n z-index: 1;\n position: absolute;\n cursor: pointer;\n pointer-events: all;\n background-color: var(--n-scrollbar-color);\n transition: background-color .2s var(--n-scrollbar-bezier);\n ",[A(),t("&:hover","background-color: var(--n-scrollbar-color-hover);")])])])])]),{computed:G,defineComponent:q,Fragment:J,h:K,mergeProps:Q,onBeforeUnmount:Z,onMounted:ee,ref:te,Transition:le,watchEffect:re}=await e("vue"),oe=q({name:"Scrollbar",props:Object.assign(Object.assign({},s.props),{duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:[String,Array],contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:l,mergedRtlRef:r}=a(e),o=d("Scrollbar",r,t),n=te(null),i=te(null),u=te(null),p=te(null),g=te(null),w=te(null),x=te(null),y=te(null),z=te(null),R=te(null),$=te(null),M=te(0),T=te(0),C=te(!1),H=te(!1);let P,D,W=!1,j=!1,E=0,I=0,L=0,k=0;const X=S(),F=s("Scrollbar","-scrollbar",_,N,e,t),Y=G(()=>{const{value:e}=y,{value:t}=w,{value:l}=R;return null===e||null===t||null===l?0:Math.min(e,l*e/t+1.5*b(F.value.self.width))}),A=G(()=>`${Y.value}px`),V=G(()=>{const{value:e}=z,{value:t}=x,{value:l}=$;return null===e||null===t||null===l?0:l*e/t+1.5*b(F.value.self.height)}),U=G(()=>`${V.value}px`),q=G(()=>{const{value:e}=y,{value:t}=M,{value:l}=w,{value:r}=R;if(null===e||null===l||null===r)return 0;{const o=l-e;return o?t/o*(r-Y.value):0}}),J=G(()=>`${q.value}px`),K=G(()=>{const{value:e}=z,{value:t}=T,{value:l}=x,{value:r}=$;if(null===e||null===l||null===r)return 0;{const o=l-e;return o?t/o*(r-V.value):0}}),Q=G(()=>`${K.value}px`),le=G(()=>{const{value:e}=y,{value:t}=w;return null!==e&&null!==t&&t>e}),oe=G(()=>{const{value:e}=z,{value:t}=x;return null!==e&&null!==t&&t>e}),ne=G(()=>{const{trigger:t}=e;return"none"===t||C.value}),ie=G(()=>{const{trigger:t}=e;return"none"===t||H.value}),ae=G(()=>{const{container:t}=e;return t?t():i.value}),se=G(()=>{const{content:t}=e;return t?t():u.value}),ce=(t,l)=>{if(!e.scrollable)return;if("number"==typeof t)return void de(t,null!=l?l:0,0,!1,"auto");const{left:r,top:o,index:n,elSize:i,position:a,behavior:s,el:c,debounce:u=!0}=t;void 0===r&&void 0===o||de(null!=r?r:0,null!=o?o:0,0,!1,s),void 0!==c?de(0,c.offsetTop,c.offsetHeight,u,s):void 0!==n&&void 0!==i?de(0,n*i,i,u,s):"bottom"===a?de(0,Number.MAX_SAFE_INTEGER,0,!1,s):"top"===a&&de(0,0,0,!1,s)},ue=B(()=>{e.container||ce({top:M.value,left:T.value})});function de(e,t,l,r,o){const{value:n}=ae;if(n){if(r){const{scrollTop:r,offsetHeight:i}=n;if(t>r)return void(t+l<=r+i||n.scrollTo({left:e,top:t+l-i,behavior:o}))}n.scrollTo({left:e,top:t,behavior:o})}}function ve(){!function(){void 0!==D&&window.clearTimeout(D);D=window.setTimeout(()=>{H.value=!1},e.duration)}(),function(){void 0!==P&&window.clearTimeout(P);P=window.setTimeout(()=>{C.value=!1},e.duration)}()}function he(){const{value:e}=ae;e&&(M.value=e.scrollTop,T.value=e.scrollLeft*((null==o?void 0:o.value)?-1:1))}function fe(){const{value:e}=ae;e&&(M.value=e.scrollTop,T.value=e.scrollLeft*((null==o?void 0:o.value)?-1:1),y.value=e.offsetHeight,z.value=e.offsetWidth,w.value=e.scrollHeight,x.value=e.scrollWidth);const{value:t}=g,{value:l}=p;t&&($.value=t.offsetWidth),l&&(R.value=l.offsetHeight)}function be(){e.scrollable&&(e.useUnifiedContainer?fe():(!function(){const{value:e}=se;e&&(w.value=e.offsetHeight,x.value=e.offsetWidth);const{value:t}=ae;t&&(y.value=t.offsetHeight,z.value=t.offsetWidth);const{value:l}=g,{value:r}=p;l&&($.value=l.offsetWidth),r&&(R.value=r.offsetHeight)}(),he()))}function pe(e){var t;return!(null===(t=n.value)||void 0===t?void 0:t.contains(f(e)))}function me(t){if(!j)return;void 0!==P&&window.clearTimeout(P),void 0!==D&&window.clearTimeout(D);const{value:l}=z,{value:r}=x,{value:n}=V;if(null===l||null===r)return;const i=(null==o?void 0:o.value)?window.innerWidth-t.clientX-L:t.clientX-L,a=r-l;let s=I+i*(r-l)/(l-n);s=Math.min(a,s),s=Math.max(s,0);const{value:c}=ae;if(c){c.scrollLeft=s*((null==o?void 0:o.value)?-1:1);const{internalOnUpdateScrollLeft:t}=e;t&&t(s)}}function ge(e){e.preventDefault(),e.stopPropagation(),v("mousemove",window,me,!0),v("mouseup",window,ge,!0),j=!1,be(),pe(e)&&ve()}function we(e){if(!W)return;void 0!==P&&window.clearTimeout(P),void 0!==D&&window.clearTimeout(D);const{value:t}=y,{value:l}=w,{value:r}=Y;if(null===t||null===l)return;const o=e.clientY-k,n=l-t;let i=E+o*(l-t)/(t-r);i=Math.min(n,i),i=Math.max(i,0);const{value:a}=ae;a&&(a.scrollTop=i)}function xe(e){e.preventDefault(),e.stopPropagation(),v("mousemove",window,we,!0),v("mouseup",window,xe,!0),W=!1,be(),pe(e)&&ve()}re(()=>{const{value:e}=oe,{value:l}=le,{value:r}=t,{value:o}=g,{value:n}=p;o&&(e?o.classList.remove(`${r}-scrollbar-rail--disabled`):o.classList.add(`${r}-scrollbar-rail--disabled`)),n&&(l?n.classList.remove(`${r}-scrollbar-rail--disabled`):n.classList.add(`${r}-scrollbar-rail--disabled`))}),ee(()=>{e.container||be()}),Z(()=>{void 0!==P&&window.clearTimeout(P),void 0!==D&&window.clearTimeout(D),v("mousemove",window,we,!0),v("mouseup",window,xe,!0)});const ye=G(()=>{const{common:{cubicBezierEaseInOut:e},self:{color:t,colorHover:l,height:r,width:n,borderRadius:i,railInsetHorizontalTop:a,railInsetHorizontalBottom:s,railInsetVerticalRight:c,railInsetVerticalLeft:u,railColor:d}}=F.value,{top:v,right:h,bottom:f,left:b}=m(a),{top:p,right:g,bottom:w,left:x}=m(s),{top:y,right:z,bottom:S,left:R}=m((null==o?void 0:o.value)?O(c):c),{top:$,right:B,bottom:M,left:T}=m((null==o?void 0:o.value)?O(u):u);return{"--n-scrollbar-bezier":e,"--n-scrollbar-color":t,"--n-scrollbar-color-hover":l,"--n-scrollbar-border-radius":i,"--n-scrollbar-width":n,"--n-scrollbar-height":r,"--n-scrollbar-rail-top-horizontal-top":v,"--n-scrollbar-rail-right-horizontal-top":h,"--n-scrollbar-rail-bottom-horizontal-top":f,"--n-scrollbar-rail-left-horizontal-top":b,"--n-scrollbar-rail-top-horizontal-bottom":p,"--n-scrollbar-rail-right-horizontal-bottom":g,"--n-scrollbar-rail-bottom-horizontal-bottom":w,"--n-scrollbar-rail-left-horizontal-bottom":x,"--n-scrollbar-rail-top-vertical-right":y,"--n-scrollbar-rail-right-vertical-right":z,"--n-scrollbar-rail-bottom-vertical-right":S,"--n-scrollbar-rail-left-vertical-right":R,"--n-scrollbar-rail-top-vertical-left":$,"--n-scrollbar-rail-right-vertical-left":B,"--n-scrollbar-rail-bottom-vertical-left":M,"--n-scrollbar-rail-left-vertical-left":T,"--n-scrollbar-rail-color":d}}),ze=l?c("scrollbar",void 0,ye,e):void 0,Se={scrollTo:ce,scrollBy:(t,l)=>{if(!e.scrollable)return;const{value:r}=ae;r&&("object"==typeof t?r.scrollBy(t):r.scrollBy(t,l||0))},sync:be,syncUnifiedContainer:fe,handleMouseEnterWrapper:function(){!function(){void 0!==P&&window.clearTimeout(P);C.value=!0}(),function(){void 0!==D&&window.clearTimeout(D);H.value=!0}(),be()},handleMouseLeaveWrapper:function(){ve()}};return Object.assign(Object.assign({},Se),{mergedClsPrefix:t,rtlEnabled:o,containerScrollTop:M,wrapperRef:n,containerRef:i,contentRef:u,yRailRef:p,xRailRef:g,needYBar:le,needXBar:oe,yBarSizePx:A,xBarSizePx:U,yBarTopPx:J,xBarLeftPx:Q,isShowXBar:ne,isShowYBar:ie,isIos:X,handleScroll:function(t){const{onScroll:l}=e;l&&l(t),he()},handleContentResize:()=>{ue.isDeactivated||be()},handleContainerResize:t=>{if(ue.isDeactivated)return;const{onResize:l}=e;l&&l(t),be()},handleYScrollMouseDown:function(e){e.preventDefault(),e.stopPropagation(),W=!0,h("mousemove",window,we,!0),h("mouseup",window,xe,!0),E=M.value,k=e.clientY},handleXScrollMouseDown:function(e){e.preventDefault(),e.stopPropagation(),j=!0,h("mousemove",window,me,!0),h("mouseup",window,ge,!0),I=T.value,L=(null==o?void 0:o.value)?window.innerWidth-e.clientX:e.clientX},cssVars:l?void 0:ye,themeClass:null==ze?void 0:ze.themeClass,onRender:null==ze?void 0:ze.onRender})},render(){var e;const{$slots:t,mergedClsPrefix:l,triggerDisplayManually:r,rtlEnabled:o,internalHoistYRail:n,yPlacement:i,xPlacement:a,xScrollable:s}=this;if(!this.scrollable)return null===(e=t.default)||void 0===e?void 0:e.call(t);const c="none"===this.trigger,u=(e,t)=>K("div",{ref:"yRailRef",class:[`${l}-scrollbar-rail`,`${l}-scrollbar-rail--vertical`,`${l}-scrollbar-rail--vertical--${i}`,e],"data-scrollbar-rail":!0,style:[t||"",this.verticalRailStyle],"aria-hidden":!0},K(c?F:le,c?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?K("div",{class:`${l}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),d=()=>{var e,i;return null===(e=this.onRender)||void 0===e||e.call(this),K("div",Q(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${l}-scrollbar`,this.themeClass,o&&`${l}-scrollbar--rtl`],style:this.cssVars,onMouseenter:r?void 0:this.handleMouseEnterWrapper,onMouseleave:r?void 0:this.handleMouseLeaveWrapper}),[this.container?null===(i=t.default)||void 0===i?void 0:i.call(t):K("div",{role:"none",ref:"containerRef",class:[`${l}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},K(j,{onResize:this.handleContentResize},{default:()=>K("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${l}-scrollbar-content`,this.contentClass]},t)})),n?null:u(void 0,void 0),s&&K("div",{ref:"xRailRef",class:[`${l}-scrollbar-rail`,`${l}-scrollbar-rail--horizontal`,`${l}-scrollbar-rail--horizontal--${a}`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},K(c?F:le,c?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?K("div",{class:`${l}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:o?this.xBarLeftPx:void 0,left:o?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},v=this.container?d():K(j,{onResize:this.handleContainerResize},{default:d});return n?K(J,null,v,u(this.themeClass,this.cssVars)):v}}),ne=oe;export{oe as Scrollbar,j as VResizeObserver,F as Wrapper,ne as XScrollbar,w as createId,b as depx,A as fadeInTransition,k as flatten,g as getGap,m as getMargin,f as getPreciseEventTarget,y as indexMap,p as pxfy,x as repeat,T as resizeObserverManager,N as scrollbarLight,U as self,B as useReactivated};
