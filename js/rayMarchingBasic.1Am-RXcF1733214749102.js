import{e as n,U as t}from"./@tresjs.lftldzUe1733214749102.js";import{a0 as e,k as r}from"./three.aWgA1gea1733214749102.js";import{d as o,a3 as i,o as s,D as c,J as u,aj as a,ak as f,q as l,e as p,f as h,g as d,j as m,u as v,m as g}from"./@vue.-THQH3GC1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";function w(n,t){const e=j();return(w=function(n,t){return e[n-=366]})(n,t)}!function(n,t){const e=w,r=j();for(;;)try{if(105295===parseInt(e(384))/1*(-parseInt(e(393))/2)+-parseInt(e(390))/3*(parseInt(e(392))/4)+-parseInt(e(375))/5*(parseInt(e(374))/6)+parseInt(e(381))/7+-parseInt(e(372))/8+-parseInt(e(395))/9*(-parseInt(e(367))/10)+-parseInt(e(401))/11*(-parseInt(e(411))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const I=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[w(383)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){I(this,(function(){const n=w,t=new RegExp(n(373)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=x(n(406));t[n(370)](r+n(396))&&e[n(370)](r+n(408))?x():r("0")}))()}();const _=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[w(383)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();_(void 0,(function(){const n=w;let t;try{t=Function(n(402)+n(369)+");")()}catch(o){t=window}const e=t[n(404)]=t[n(404)]||{},r=["log",n(382),n(388),n(397),n(405),"table","trace"];for(let i=0;i<r[n(391)];i++){const t=_.constructor[n(378)].bind(_),o=r[i],s=e[o]||t;t.__proto__=_[n(377)](_),t[n(399)]=s[n(399)][n(377)](s),e[o]=t}}))();const b=["rotation"],y={ref:"TresTubeGeometryRef",args:[1e3,1e3]};function j(){const n=["1217704YDgWNV","function *\\( *\\)","66DZkGmm","91335WRQfeF","uniforms","bind","prototype","action","innerWidth","461230oZFTHS","warn","apply","76324FbsBbF","TresMesh","debu","string","info","while (true) {}","54162YooGzi","length","4KbAopQ","2wwCMOo","MeshRef","50733GaNNEp","chain","error","innerHeight","toString","constructor","4984221eIkUtc","return (function() ","addEventListener","console","exception","init","value","input","clientX","gger","12MkDbDd","u_time","60cKGUHI","TresShaderMaterial",'{}.constructor("return this")( )',"test","counter"];return(j=function(){return n})()}const T=o({__name:"rayMarchingMaterialBasic",setup(t){const o=w,{onLoop:l,onAfterLoop:p}=n(),h={transparent:!0,depthWrite:!0,depthTest:!0,side:e,vertexShader:"varying vec2 vUv;\nvoid main(){\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n\tvUv=uv;\n}",fragmentShader:"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform vec2 u_resolution;\nuniform vec3 u_mouse;\nuniform float u_time;\nvarying vec2 vUv;\nfloat map(vec3 p){\n  return length(p)-1.;\n}\nvoid main(){\n  vec3 ro=vec3(0.,0.,-3.);//起始位置\n  vec3 rd=normalize(vec3(vUv-.5,1.));//方向\n  float t=0.;\n  vec3 color=vec3(0.);\n  for(int i=0;i<80;i++){\n    vec3 p=ro+rd*t;\n    float d=map(p);\n    t+=d;\n    //优化效率\n    if(t>100.||d<.001){\n      break;\n    }\n    \n  }\n  color=vec3(t)*.2;\n  gl_FragColor=vec4(color,1.);\n  \n}",uniforms:{u_resolution:{value:new r(window[o(380)],window[o(398)])},u_mouse:{value:new r(0,0)},u_time:{value:0}}},d=window[o(380)]/2,m=window[o(398)]/2;let v=0,g=0;return document[o(403)]("mousemove",(function(n){v=n[o(409)]-d,g=n.clientY-m}),!1),i((()=>{})),l((({elapsed:n})=>{const t=o;h.uniforms[t(366)][t(407)]+=.001,h[t(376)].u_mouse[t(407)]=new r(v,g)})),p((()=>{})),(n,t)=>{const e=o;return s(),c(e(385),{ref:e(394),rotation:[Math.PI/2,0,0]},[u("TresPlaneGeometry",y,null,512),u(e(368),a(f(h)),null,16)],8,b)}}});function x(n){function t(n){const e=w;if(typeof n===e(387))return function(n){}.constructor(e(389))[e(383)](e(371));1!==(""+n/n).length||n%20==0?function(){return!0}[e(400)](e(386)+e(410)).call(e(379)):function(){return!1}[e(400)](e(386)+e(410))[e(383)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const A=z;!function(n,t){const e=z,r=R();for(;;)try{if(312965===parseInt(e(225))/1*(-parseInt(e(246))/2)+parseInt(e(240))/3+-parseInt(e(235))/4*(-parseInt(e(221))/5)+parseInt(e(253))/6*(-parseInt(e(254))/7)+-parseInt(e(255))/8*(parseInt(e(239))/9)+-parseInt(e(249))/10*(parseInt(e(244))/11)+-parseInt(e(241))/12*(-parseInt(e(231))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const M=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[z(218)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){M(this,(function(){const n=z,t=new RegExp(n(256)),e=new RegExp(n(248),"i"),r=G(n(232));t[n(216)](r+n(243))&&e[n(216)](r+n(222))?G():r("0")}))()}();const L=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[z(218)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function R(){const n=["13548tbCwxA","#000000","TresPerspectiveCamera","TresDirectionalLight","33876ARmjhm","181722wzMQCj","33612FGAWiu","#ffffff","chain","22319HRrQAO","prototype","561138gxqhnb","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","560fMPWpu","constructor","console","perspectiveCameraRef","708IIrHYY","13979ZjLSgb","248hZftAZ","function *\\( *\\)","table","return (function() ","test","string","apply","gger","call","15RFCzNO","input","TresAmbientLight","TresGridHelper","1TfLICb","bind","counter","warn","info","__proto__","4589LKpfwV","init","while (true) {}","exception"];return(R=function(){return n})()}L(void 0,(function(){const n=z;let t;try{t=Function(n(215)+'{}.constructor("return this")( ));')()}catch(o){t=window}const e=t[n(251)]=t.console||{},r=["log",n(228),n(229),"error",n(234),n(257),"trace"];for(let i=0;i<r.length;i++){const t=L[n(250)][n(245)][n(226)](L),o=r[i],s=e[o]||t;t[n(230)]=L[n(226)](L),t.toString=s.toString[n(226)](s),e[o]=t}}))();const C={ref:A(252),position:[0,800,0],fov:45,near:1,far:1e4};function z(n,t){const e=R();return(z=function(n,t){return e[n-=215]})(n,t)}const F=o({__name:"rayMarchingBasic",setup(e){const r=A,o={clearColor:r(236),shadows:!0,alpha:!1,useLegacyLights:!0},i={autoRotate:!0,enableDamping:!0},{onLoop:c}=n();return c((({delta:n})=>{})),l((()=>{})),(n,e)=>{const c=r,l=p("TresCanvas");return s(),h(l,g(o,{"window-size":""}),{default:d((()=>[u(c(237),C,null,512),m(v(t),a(f(i)),null,16),e[0]||(e[0]=u(c(223),{color:c(242)},null,-1)),e[1]||(e[1]=u(c(238),{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),m(T),e[2]||(e[2]=u("TresAxesHelper",{args:[1e3],position:[0,19,0]},null,-1)),e[3]||(e[3]=u(c(224),{args:[6e3,100],position:[0,19,0]},null,-1))])),_:1},16)}}});function G(n){function t(n){const e=z;if(typeof n===e(217))return function(n){}.constructor(e(233))[e(218)](e(227));1!==(""+n/n).length||n%20==0?function(){return!0}[e(250)]("debu"+e(219))[e(220)]("action"):function(){return!1}.constructor(e(247)+e(219))[e(218)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{F as default};
