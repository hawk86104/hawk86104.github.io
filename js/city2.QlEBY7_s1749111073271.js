import{e as o,k as W,a as e}from"./@tresjs.D5XVXE0C1749111073271.js";import{n,aM as r,C as c,p as d,bt as t,a2 as i,ab as a,aJ as m,cx as s,cy as k,cz as u,cA as l}from"./three.B8H7tP0r1749111073271.js";import{z as f}from"./three-custom-shader-material.CSemEkuG1749111073271.js";import{r as S,i as v,s as C}from"./utils.BH5EvUtA1749111073271.js";import{b as p,a as h}from"./buildingsCustomShaderMaterial.DyBo--wu1749111073271.js";import{d as O,a3 as g,b as R,G as x,o as P,e as b,j as N,am as w,f as J,I as j,u as q,F as Q,h as y}from"./@vue.Mugdq9o81749111073271.js";import{_ as G}from"./roadLight.vue_vue_type_script_setup_true_lang.ChpHRl641749111073271.js";import"./postprocessing.CFk4752N1749111073271.js";import"./@vueuse.BjDsO4x01749111073271.js";import"./@fesjs.HpbjsMAs1749111073271.js";import"./vue-router.ttOgDZer1749111073271.js";import"./lodash-es.C7pWAXPe1749111073271.js";import"./@qlin.q6OWdsQV1749111073271.js";import"./pinia.pLtK9Sf_1749111073271.js";import"./@babel.BPq7uOAK1749111073271.js";import"./@floating-ui.BFjFSAYt1749111073271.js";import"./@juggle.CcBCnTIR1749111073271.js";import"./three-mesh-bvh.DJZtjPOF1749111073271.js";function T(o,W,e,n,r){return M(W- -70,n)}!function(){var o,W,e=_();function n(o,W,e,n,r){return M(o-386,n)}function r(o,W,e,n,r){return M(o- -811,r)}for(;;)try{if(273558===-parseInt(n(884,0,0,"8v($"))/1+-parseInt((o="3fs8",W=267,M(W- -256,o)))/2*(parseInt(n(894,0,0,"Y8@I"))/3)+parseInt(r(-308,0,0,0,"g4oV"))/4+-parseInt(n(895,0,0,"@akH"))/5+parseInt(r(-345,0,0,0,"8MIR"))/6*(-parseInt(n(829,0,0,"@akH"))/7)+-parseInt(r(-354,0,0,0,"jRMu"))/8+parseInt(n(929,0,0,"Ntb4"))/9)break;e.push(e.shift())}catch(c){e.push(e.shift())}}();var H,I=(H=!0,function(o,W){function e(o,W,e,n,r){return M(r- -865,n)}function n(o,W,e,n,r){return M(e- -40,n)}function r(o,W,e,n,r){return M(r- -115,e)}function c(o,W,e,n,r){return M(o- -484,e)}function d(o,W,e,n,r){return M(r-184,n)}if(n(0,0,486,"!(^j")!==r(0,0,"g4oV",0,336)){var t=H?function(){function e(o,W,e,n,r){return c(o-867,0,n)}function n(o,W,e,n,r){return c(W-38,0,n)}function r(o,W,e,n,r){return c(o-1126,0,e)}if("fwCrJ"===e(865,0,0,"$0(d")){var t=_0x371dd9[e(908,0,0,"fl4l")](_0x1ee742,arguments);return _0x10ba2c=null,t}if(W){if(n(0,3,0,"gNvq")===e(847,0,0,"JwY6")){var i=W[(a="537a",m=1003,d(0,0,0,a,m-323))](o,arguments);return W=null,i}this[n(0,92,0,"aTv$")][e(848,0,0,"pGeb")][r(1083,0,"SxNv")]=this.clock[r(1179,0,"64A1")]()}var a,m}:function(){};return H=!1,t}var i;try{i=_0x18b3bf(r(0,0,"SxNv",0,420)+'{}.constructor("return this")( ));')()}catch(f){i=_0x406fcc}for(var a=i[n(0,0,460,"jRMu")]=i[d(0,0,0,"klE3",671)]||{},m=["log","warn",d(0,0,0,"3fs8",720),d(0,0,0,"4jV8",731),d(0,0,0,"rSRo",702),e(0,0,0,"klE3",-338),d(0,0,0,"klE3",646)],s=0;s<m[d(0,0,0,"rSRo",739)];s++){var k=_0x212f0d[r(0,0,"8MIR",0,366)][c(62,0,"jRMu")].bind(_0x30bc61),u=m[s],l=a[u]||k;k[c(69,0,"@xc!")]=_0x1b340f[e(0,0,0,"537a",-406)](_0x1512c6),k[e(0,0,0,"cFmR",-393)]=l.toString[n(0,0,510,"%pqi")](l),a[u]=k}})(void 0,(function(){function o(o,W,e,n,r){return M(o- -846,W)}function W(o,W,e,n,r){return M(e- -58,r)}return I[(r="llBj",c=503,M(c-2,r))]()[o(-340,"AfwK")]((e=-348,n="65gp",M(e- -833,n)))[W(0,0,388,0,"JwY6")]()[W(0,0,447,0,"jRMu")](I)[o(-353,"xprk")](M(-344- -888,"CZ0e"));var e,n,r,c}));function _(){var o=["vCkogmkrB1WqWPxcHSownYHA","W4iJWQ4iW5/dMmoEW6/cKG","zSkVWO9J","W4WhcJS","W4BcJWjqAW","gYzPmKa","WP3cOmohCdLwCKldNtGgW6VdPmkP","iSozW4OXpW","W45oW68s","WRD+WRVdHG5yWOBdPrFdUq","W6yUW6TbW4jv","vXvmWOhcPG","p1n1lsqnWOz7W78","W65mW4/cP8kEwCo1WOFdGSkHW7BcNSkgWOf8","imkam3KatSkbW57cVbBdLrKGdG","mCkbaw8EqSkTW5u","WP7dVG9W","FmoPWPFcOCoF","aCogEI19W7u","W4qtqd1NlmkWnmkuWRGRW57dIc3dJb9IWQZcGSkJlYa3WRVdK8okWPOaWPZdHWzT","WOmdaSkTAwhdSh5YreVdJWG","W4XgW64czq","ACo9WRdcQSozWRpdTWm+WQ1J","W5fBWQuRCSkWWRTJWRC","W6CKW6dcJsTyWOVdSGNdPG4","W6ldUd4cW5O","W68KW43dRWZdV8oOW6zLjq","W7CIW6RcMW","W60/pCoHdmkCD18cW6NcLdq","kb/dGatdSX7cGmocWPJcVa","ddTMiKOOfa","ySk0WObGjCkRWRddHMtdRmo0W6/cJCkl","rhxcHu7dJrJcL8oPWQ0","WRlcP8oSrY8","W5BcImoNWQ3dKq","W7tcJmobexpcLJi2","W7vgW4lcUSkAqW","W4tcHSoZaCkf","W5iPWRqTW4RdHSoEW6NcLsPu","zCk2WPfRmq","Emo3WRlcOCoAWRFdVX41","WOmhcmkRA2BcIN1bDgddOG","gxHwWOXCDSkp","b8osrmovnGrf","W6bbW7T3WO0Mzxu","gg9Ir8oFrgdcQSkm","WRhdLmkAW5RcIthcOqHXodfJcq","W5C4zmk1","b8osrmovlrPvWPtcImoXbW","W5C0yCkIftC","W6RcOM7cS8kO","sNn5cSoaW6DxrM7cOG","uJ0YAN9jWPb8W6G7WOyx","WPvMomoHqMWFfGPSWQ7dUW","W5bCvCo0oXJcR3HT","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","mmonhSkAvW","bYT+o8oB","lmkanhq","W6vmW43cU8kwr8oX","ddX1mSotbSk3pCoslSo/h8oM","WP1Ew8oyWPvBWOddRN4","W7H1ESoWea","twdcVcvkgeHmW6e","WQlcMaWVrLbwW4BdLmkJo1O","W5mQWRmWW5xdSSozW6/cKITdW6JdGfWIjG","W5JcRsTrthLybq","WOL7lmoyWR7dUCoSW77dICk0dSolqCk0","xmkNiCkXWR4","W5rWWRyRFG","gZvQpua","W53cJCoMcmkb","WPpcVCooBdbbF2ddRJyjW63dOG","axX1mZi","bsnPmCon","eCoeBcn7","WP3dRrX9Bq","zgZcNrDy","WONcT8owDIvDpIxdIYWlW6hdPmk5W6rab1Hs","WOddSrTX","W4FdLNRdQ8oEW7rVWPDWzCoWd8kHWO8","WQ59WPpcVqFdR8ohW5i","WOVdTHn6","Fe/cGxNdJG3cImofWPFcQahcPSkWlG","W4rvqSoUoI3cK3rPAgZdSq","W64xWReRWPH3WQ4w","W6n2jCojx8kRnmomWP90mG7cMq","nCkNW7NdQSkbW6RcVvHWW6O8tG","ubPXWRxcHq","fmoprCosnHXzWOFcMq","W7NcK8oybmkb","uCkphmkEgJ94WRxcL8o/","WQ7dKmkDxSohiXrkBIaCWRG","iqXBgW","W6lcJ8odWO4","W5ZcO8ofEG","zrCwWPOgzmkgWQu5","W5uJWQOQW5BdOmooW7NcLq","WPrdvSoAWPfh","bJxcSSk3","W7pcJ8okWOtdMw3dIIjElJy","WO3cS8ooDJi","W4pdN2hdJCoz","vdSYAY8BWQTJW5ig","W4RdOmo0tbnXtu8","W7GuWOSXWOfyWRiuDSoIWQ3cOhRdNaBcNq","hmo7W5exomoED8or","qwRcOd5fpKXsW5C2WQTtW6jFgfqoWPG","bsZcRmk/Fq","pSo7vH58","W5KPWRyXW5NdHSokW6FcOZDpW6pdP0yGoSk5fW","W5NcRmoFWOldKW","WOL7lmoyWR7dUCoSW7ddLmk6gmomqq","tIKeWOqm","W4xcRmoJm2W","WO1Gj8op","WPdcKCoZzG"];return(_=function(){return o})()}I();var V,L=(V=!0,function(o,W){function e(o,W,e,n,r){return M(r-507,W)}function n(o,W,e,n,r){return M(n- -245,W)}if(e(0,"Dy1#",0,0,1052)!==n(0,"4jV8",0,283)){var r=V?function(){function r(o,W,n,r,c){return e(0,c,0,0,W- -1130)}function c(o,W,e,r,c){return n(0,o,0,r-673)}if(r(0,-109,0,0,"%pqi")!==r(0,-169,0,0,"dK#&")){var d=_0x12f1d2[r(0,-93,0,0,"@akH")](_0x27bab4,arguments);return _0x5aef82=null,d}if(W){if(e(0,"CZ0e",0,0,981)!==r(0,-133,0,0,"SxNv")){var t=W[c("zI]O",0,0,959)](o,arguments);return W=null,t}if(_0x1d6f1a){var i=_0x2fd578[c("cGEd",0,0,876)](_0x51fe77,arguments);return _0x5588a5=null,i}}}:function(){};return V=!1,r}if(_0x219b16){var c=_0x514c07.apply(_0x299f85,arguments);return _0x539f71=null,c}});function M(o,W){var e=_();return M=function(W,n){var r=e[W-=440];if(void 0===M.TFitXL){var c=function(o){for(var W,e,n="",r="",d=n+c,t=0,i=0;e=o.charAt(i++);~e&&(W=t%4?64*W+e:e,t++%4)?n+=d.charCodeAt(i+10)-10!=0?String.fromCharCode(255&W>>(-2*t&6)):t:0)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(var a=0,m=n.length;a<m;a++)r+="%"+("00"+n.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(r)};M.BkkqxF=function(o,W){var e,n,r=[],d=0,t="";for(o=c(o),n=0;n<256;n++)r[n]=n;for(n=0;n<256;n++)d=(d+r[n]+W.charCodeAt(n%W.length))%256,e=r[n],r[n]=r[d],r[d]=e;n=0,d=0;for(var i=0;i<o.length;i++)d=(d+r[n=(n+1)%256])%256,e=r[n],r[n]=r[d],r[d]=e,t+=String.fromCharCode(o.charCodeAt(i)^r[(r[n]+r[d])%256]);return t},o=arguments,M.TFitXL=!0}var d=W+e[0],t=o[d];if(t)r=t;else{if(void 0===M.QEOeSN){var i=function(o){this.yVTdzv=o,this.TNZvkT=[1,0,0],this.fEqpYC=function(){return"newState"},this.pCKNbn="\\w+ *\\(\\) *{\\w+ *",this.cZsvnr="['|\"].+['|\"];? *}"};i.prototype.SSvEXO=function(){var o=new RegExp(this.pCKNbn+this.cZsvnr).test(this.fEqpYC.toString())?--this.TNZvkT[1]:--this.TNZvkT[0];return this.SAErME(o)},i.prototype.SAErME=function(o){return Boolean(~o)?this.bUHlQj(this.yVTdzv):o},i.prototype.bUHlQj=function(o){for(var W=0,e=this.TNZvkT.length;W<e;W++)this.TNZvkT.push(Math.round(Math.random())),e=this.TNZvkT.length;return o(this.TNZvkT[0])},new i(M).SSvEXO(),M.QEOeSN=!0}r=M.BkkqxF(r,n),o[d]=r}return r},M(o,W)}L(void 0,(function(){function o(o,W,e,n,r){return M(o-197,W)}var W;try{if(o(665,"Dy1#")!==o(731,"CPba"))_0x319126=_0x12f99c;else W=Function("return (function() "+i(879,"!jc[",876,909,819)+");")()}catch(S){if(o(691,"4jV8")===o(716,"8v($")){var e=_0x45f642?function(){if(_0xb9832b){var o=_0x23735e[(W=-354,e=-370,n=-372,r="KQF9",d(W-170,e-206,n-75,W- -1722,r))](_0x4d07cd,arguments);return _0xd553f2=null,o}var W,e,n,r}:function(){};return _0x2594c5=!1,e}W=window}function n(o,W,e,n,r){return M(o- -324,e)}var r=W.console=W[t(526,493,540,"xprk")]||{},c=["log",d(1374,1311,1391,1334,"3fs8"),t(536,489,539,"cFmR"),o(729,"gNvq"),o(694,"CZ0e"),t(531,531,477,"@xc!"),n(209,0,"3fs8")];function d(o,W,e,n,r){return M(n-861,r)}function t(o,W,e,n,r){return M(e-24,n)}function i(o,W,e,n,r){return M(e-400,W)}for(var a=0;a<c[t(0,0,491,"F[Fj")];a++)if(o(688,"g4oV")===o(710,"N1xF")){var m=L[n(171,0,"1nr2")].prototype[d(0,0,0,1400,"3fs8")](L),s=c[a],k=r[s]||m;m[n(145,0,"@akH")]=L.bind(L),m.toString=k.toString[o(652,"MJAz")](k),r[s]=m}else{var u=_0x45e496[n(171,0,"1nr2")].prototype[i(0,"cGEd",956)](_0x1188b9),l=_0x4502f6[_0xfafbc6],f=_0x41e958[l]||u;u[n(165,0,"[xHx")]=_0xfd226a[n(227,0,"g4oV")](_0x41b428),u[o(739,"lOZ@")]=f[i(0,"JwY6",846)][o(653,"Eg27")](f),_0x1074cb[l]=u}}))();class Z extends n{constructor(o={}){function W(o,W,e,n,r){return M(o- -825,e)}function e(o,W,e,n,r){return M(n-897,W)}function n(o,W,e,n,r){return M(r-267,e)}function a(o,W,e,n,r){return M(W- -158,e)}function m(o,W,e,n,r){return M(e- -350,W)}super(),this[a(353,383,"8v($")]="\n      #define STANDARD\n      varying vec3 vViewPosition;\n      #ifdef USE_TRANSMISSION\n      varying vec3 vWorldPosition;\n      #endif\n    \n      varying vec2 vUv;\n      varying vec4 vPos;\n      varying vec3 vNormalW;\n      varying vec3 vPositionW;\n\n      #include <common>\n      #include <uv_pars_vertex>\n      #include <envmap_pars_vertex>\n      #include <color_pars_vertex>\n      #include <fog_pars_vertex>\n      #include <morphtarget_pars_vertex>\n      #include <skinning_pars_vertex>\n      #include <logdepthbuf_pars_vertex>\n      #include <clipping_planes_pars_vertex>\n\n      void main() {\n        \n        #include <uv_vertex>\n        #include <color_vertex>\n        #include <morphcolor_vertex>\n      \n        #if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n      \n          #include <beginnormal_vertex>\n          #include <morphnormal_vertex>\n          #include <skinbase_vertex>\n          #include <skinnormal_vertex>\n          #include <defaultnormal_vertex>\n      \n        #endif\n      \n        #include <begin_vertex>\n        #include <morphtarget_vertex>\n        #include <skinning_vertex>\n        #include <project_vertex>\n        #include <logdepthbuf_vertex>\n        #include <clipping_planes_vertex>\n      \n        #include <worldpos_vertex>\n        #include <envmap_vertex>\n        #include <fog_vertex>\n\n        mat4 modelViewProjectionMatrix = projectionMatrix * modelViewMatrix;\n\n        vUv = uv;\n        vPos = projectionMatrix * modelViewMatrix * vec4( transformed, 1.0 );\n        vPositionW = vec3( vec4( transformed, 1.0 ) * modelMatrix);\n        vNormalW = normalize( vec3( vec4( normal, 0.0 ) * modelMatrix ) );\n        \n        gl_Position = modelViewProjectionMatrix * vec4( transformed, 1.0 );\n\n      }",this[a(339,330,"537a")]=a(381,354,"64A1"),this[W(-333,0,"dK#&")]={time:new r(0),fresnelOpacity:new r(void 0!==o[W(-301,0,"MJAz")]?o[a(363,305,"SxNv")]:1),fresnelAmount:new r(void 0!==o[a(350,294,"MJAz")]?o.fresnelAmount:.45),scanlineSize:new r(void 0!==o.scanlineSize?o[n(760,730,"9#Lp",770,788)]:8),hologramBrightness:new r(void 0!==o[m(120,"CPba",97)]?o[e(1372,"1nr2",1316,1347)]:1),signalSpeed:new r(void 0!==o.signalSpeed?o[W(-385,0,"g4oV")]:1),hologramColor:new r(void 0!==o[e(1444,"SxNv",1402,1426)]?new c(o[n(754,822,"zI]O",784,784)]):new c(W(-326,0,"@xc!"))),enableBlinking:new r(void 0===o.enableBlinking||o[n(680,729,"cFmR",696,738)]),blinkFresnelOnly:new r(void 0===o[e(1362,"1nr2",1399,1419)]||o[m(128,"lOZ@",95)]),hologramOpacity:new r(void 0!==o[m(136,"xprk",120)]?o.hologramOpacity:1)},this[a(266,303,"GW0X")]=new d,this[m(79,"1nr2",108)](o),this[n(783,843,"1nr2",776,821)]=void 0!==o[n(751,788,"CPba",775,787)]&&o[m(131,"s96w",152)],this.blending=void 0!==o[a(305,353,"8v($")]?o[n(800,803,"!(^j",771,747)]:t,this[n(798,716,"CZ0e",744,746)]=!0,this[e(0,"!jc[",0,1357)]=void 0!==o[e(0,"AfwK",0,1401)]?o[a(0,326,"8MIR")]:i}[T(0,405,0,"gNvq")](){function o(o,W,e,n,r){return T(0,n- -837,0,r)}var W,e;this.uniforms[o(0,0,0,-355,"Ne&g")][o(0,0,0,-429,"pGeb")]=this[(W="64A1",e=166,T(0,e- -206,0,W))][o(0,0,0,-367,"[xHx")]()}}const K=O({__name:"importantBuildings",props:{group:{}},setup(W){const e=W,n=0,r=0,d=15,i=1.3,m="#e05b0f",s=new Z({blendMode:t,hologramBrightness:2.5,side:a});s.uniforms.fresnelAmount.value=n,s.uniforms.scanlineSize.value=d,s.uniforms.signalSpeed.value=i,s.uniforms.fresnelOpacity.value=r,s.uniforms.hologramColor.value=new c(m),s.uniforms.enableBlinking.value=!1,s.depthTest=!0;let k,u,l=null;(()=>{const o=e.group.getObjectByName("02-huanqiujinrongzhongxin_huanqiujinrongzhongxin_0");o.name="环球金融中心",o.material.dispose(),S(o.geometry),o.material=s,k=e.group.getObjectByName("01-shanghaizhongxindasha_shanghaizhongxindasha_0"),k.name="上海中心",k.material.dispose(),S(k.geometry),k.material=s.clone(),k.material.uniforms.hologramColor.value=new c("#006cf9"),k.material.uniforms.fresnelAmount.value=1,k.material.uniforms.scanlineSize.value=2.1,k.material.uniforms.signalSpeed.value=.4,u=e.group.getObjectByName("03-jinmaodasha_jjinmaodasha_0"),u.name="金茂大厦",u.material.dispose(),S(u.geometry),u.material=s.clone(),u.material.uniforms.hologramColor.value=new c("#5e0fe0"),u.material.uniforms.scanlineSize.value=15,u.material.uniforms.signalSpeed.value=.18,l=e.group.getObjectByName("04-dongfangmingzhu_dongfangmingzhu_0"),l.name="东方明珠塔",l.material.dispose(),S(l.geometry),l.material=s.clone(),l.material.uniforms.scanlineSize.value=5,l.material.uniforms.signalSpeed.value=1.3,l.material.uniforms.hologramColor.value=new c("#e00f0f"),l.material.uniforms.fresnelOpacity.value=.1})();const{onLoop:f}=o();return f((()=>{s.update(),k.material.update(),u.material.update(),l.material.update()})),(o,W)=>null}}),B=["object"],F=O({__name:"buildingsMode",async setup(e){let n,r;v();const{scene:d}=([n,r]=g((()=>W("./plugins/digitalCity/model/shanghaiDraco/shanghaiDraco.gltf",{draco:!0,decoderPath:"./draco/"}))),n=await n,r(),n),t=d.clone(),i=R(0);t.traverse((async o=>{if(o.isMesh&&(-1!==o.name.indexOf("Shanghai")||-1!==o.name.indexOf("Object")))if(-1!==o.name.indexOf("Floor"));else if(-1!==o.name.indexOf("River")){const W=await C(o);W.position.set(0,0,1800),o.add(W)}else(o=>{const{geometry:W}=o;W.computeBoundingBox(),W.computeBoundingSphere(),W.computeBoundsTree();const{max:e,min:n}=W.boundingBox,r=new f({baseMaterial:m,vertexShader:h,fragmentShader:p,silent:!0,uniforms:{uMax:{value:e},uMin:{value:n},uBorderWidth:{value:.006},uCircleTime:{value:3},uColor:{value:new c("#005c58")},uOpacity:{value:.8},uLightColor:{value:new c("#990")},uTopColor:{value:new c("#888800")},uTime:i,uGradient:{value:!0}},depthWrite:!0,depthTest:!0,transparent:!0,side:a});o.material.dispose(),o.material=r})(o),(o=>{const W=new s(o.geometry,1e3);let e=(new k).fromEdgesGeometry(W);e.computeBoundsTree();let n=new u({color:new c("#000"),linewidth:.8,opacity:.6,transparent:!0,depthWrite:!0,depthTest:!0});n.resolution.set(window.innerWidth,window.innerHeight),o.add(new l(e,n))})(o)}));const{onLoop:S}=o();return S((({delta:o})=>{i.value+=o})),(o,W)=>(P(),x(Q,null,[(P(),b(w,null,{default:J((()=>[j("primitive",{object:q(t),position:[1,0,1],"cast-shadow":"","receive-shadow":""},null,8,B)])),_:1})),N(K,{group:q(t)},null,8,["group"])],64))}}),z=O({__name:"city2",setup:o=>(o,W)=>{const n=y("TresCanvas");return P(),b(n,{shadows:"","window-size":"",clearColor:"#333"},{default:J((()=>[W[0]||(W[0]=j("TresPerspectiveCamera",{position:[.5,2,1.5],fov:45,near:.1,far:1e5},null,-1)),N(q(e)),W[1]||(W[1]=j("TresAmbientLight",{color:"#ffffff"},null,-1)),W[2]||(W[2]=j("TresDirectionalLight",{position:[0,3,3],intensity:2,color:"#ffffff","cast-shadow":"","shadow-mapSize-width":1024,"shadow-mapSize-height":1024},null,-1)),(P(),b(w,null,{default:J((()=>[N(F)])),_:1})),(P(),b(w,null,{default:J((()=>[N(G,{color:"#ffffff",radius:1,speed:1,geoJson:"plugins/digitalCity/geojson/secondarySmall.geojson","rotation-y":1.3826597599330712,scale:.001025905404044292,position:[-1.877460474821603,.01,-1.5464791950519081]})])),_:1})),W[3]||(W[3]=j("TresGridHelper",{args:[6,10],position:[0,0,0]},null,-1))])),_:1})}});export{z as default};
