import{P as t}from"./tweakpane.yHWGBmom1721298764655.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.2JXDzzMt1721298764655.js";import{_ as r}from"./heatmap.js-fix.kKNY85lA1721298764655.js";import{h as i,a6 as s,bV as c,q as u,Z as a}from"./three.0bBjBDi41721298764655.js";import{r as p}from"./utils.O9A1bznY1721298764655.js";import{d as f}from"./pinia.3lNuHAZQ1721298764655.js";import{b as l,d as h,a1 as m,o as g,D as d,J as y,u as v,F as w,q as I,U as b,N as _,P as j,H as x,L as S,a4 as E,r as M,j as R,g as A,m as D}from"./@vue.Q1VpS3901721298764655.js";import{c as Z,d as k,a as z}from"./three-mesh-bvh.LM_bczGP1721298764655.js";import{_ as C}from"./@fesjs.brW7jqtK1721298764655.js";import"./@tresjs.iXEJQd7J1721298764655.js";import"./@vueuse.hS-CVzal1721298764655.js";import"./three-custom-shader-material.wt6if9qU1721298764655.js";import"./object-hash.eR6rYsIK1721298764655.js";import"./@amap.x_Go35DX1721298764655.js";import"./jszip.-g-_Ii-P1721298764655.js";import"./glsl-tokenizer.ZFLos1PC1721298764655.js";import"./glsl-token-string.BCXfLWyP1721298764655.js";import"./glsl-token-functions._ALfgfbj1721298764655.js";import"./vue-router.i1Z-d_LR1721298764655.js";import"./lodash-es.nFpJXAf-1721298764655.js";import"./@qlin.yHhFDldE1721298764655.js";import"./@floating-ui.BPbuo5Gx1721298764655.js";import"./@juggle.7yjBMqoW1721298764655.js";!function(t,n){const e=V,o=O();for(;;)try{if(617842===parseInt(e(356))/1*(-parseInt(e(402))/2)+parseInt(e(361))/3+-parseInt(e(370))/4+parseInt(e(363))/5*(-parseInt(e(375))/6)+-parseInt(e(358))/7*(-parseInt(e(355))/8)+parseInt(e(378))/9+parseInt(e(396))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=V,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(387),"i"),o=P(t(351));n[t(385)](o+t(391))&&e.test(o+"input")?P():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(389)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=O();return(V=function(t,n){return e[t-=349]})(t,n)}U(void 0,(function(){const t=V;let n;try{n=Function(t(369)+t(374)+");")()}catch(r){n=window}const e=n.console=n[t(372)]||{},o=[t(371),"warn",t(364),t(357),t(400),t(376),"trace"];for(let i=0;i<o[t(382)];i++){const n=U.constructor[t(401)][t(377)](U),r=o[i],s=e[r]||n;n[t(404)]=U[t(377)](U),n.toString=s[t(390)][t(377)](s),e[r]=n}}))();const F=(t,n)=>t[V(381)](n)+-10;function O(){const t=["exception","prototype","2NCUHlZ","rgb(255,0,0)","__proto__","top","appendChild","init","createElement","style","counter","8StLCVA","512405UVwuYX","error","3388931gNxnJg","display","stateObject","3403479AsiMVb","position","851410JuJoCC","info","setData","push","action","height","return (function() ","1770640HSQHea","log","console","constructor",'{}.constructor("return this")( )',"42pQYUrI","table","bind","5000787kyBjyT","absolute","none","getValueAt","length","while (true) {}","gger","test","randInt","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_config","apply","toString","chain","rgb(0,255,0)","call","debu","body","5906120Waoqyk","create","left","rgb(0,0,255)"];return(O=function(){return t})()}function P(t){function n(t){const e=V;if("string"==typeof t)return function(t){}[e(373)](e(383))[e(389)](e(354));1!==(""+t/t)[e(382)]||t%20==0?function(){return!0}.constructor(e(394)+e(384))[e(393)](e(367)):function(){return!1}[e(373)](e(394)+"gger")[e(389)](e(360)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const H=$;!function(t,n){const e=$,o=N();for(;;)try{if(652010===parseInt(e(149))/1*(parseInt(e(152))/2)+parseInt(e(137))/3*(-parseInt(e(129))/4)+parseInt(e(141))/5*(parseInt(e(147))/6)+parseInt(e(159))/7*(parseInt(e(153))/8)+-parseInt(e(150))/9+-parseInt(e(133))/10*(-parseInt(e(138))/11)+parseInt(e(145))/12*(-parseInt(e(130))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(160)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function N(){const t=["action","buildingsHeatmap","while (true) {}","stateObject","4npzFNV","5692999uLNnAE","bind","warn","1090lBJSKC","init","call","string","1404021tsoavc","957KvlTtl","toString","debu","5senqcm","trace","prototype","log","12cGimQQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2959146txatcT","gger","1121273WGEWuD","2664936ecVQFX","constructor","2arHsDE","168KFVQDh","exception","table","counter","info","error","76699oTCOaX","apply","console","value","length","input"];return(N=function(){return t})()}!function(){L(this,(function(){const t=$,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(146),"i"),o=Q(t(134));n.test(o+"chain")&&e.test(o+t(164))?Q():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function $(t,n){const e=N();return($=function(t,n){return e[t-=129]})(t,n)}X(void 0,(function(){const t=$,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n[t(161)]=n[t(161)]||{},o=[t(144),t(132),t(157),t(158),t(154),t(155),t(142)];for(let r=0;r<o[t(163)];r++){const n=X[t(151)][t(143)][t(131)](X),i=o[r],s=e[i]||n;n.__proto__=X[t(131)](X),n.toString=s[t(139)][t(131)](s),e[i]=n}}))();const J=f(H(166),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[$(162)]=n},setTemperature:function(t){n[$(162)]=t}}}));function Q(t){function n(t){const e=$;if(typeof t===e(136))return function(t){}.constructor(e(167))[e(160)](e(156));1!==(""+t/t).length||t%20==0?function(){return!0}[e(151)](e(140)+e(148))[e(135)](e(165)):function(){return!1}.constructor(e(140)+e(148)).apply(e(168)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=Y;!function(t,n){const e=Y,o=tt();for(;;)try{if(454322===-parseInt(e(150))/1*(parseInt(e(168))/2)+-parseInt(e(155))/3+parseInt(e(153))/4*(-parseInt(e(137))/5)+parseInt(e(156))/6+-parseInt(e(185))/7*(-parseInt(e(136))/8)+parseInt(e(141))/9+-parseInt(e(158))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=Y,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=et(t(157));n[t(200)](o+t(182))&&e[t(200)](o+t(181))?et():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Y(151)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();G(void 0,(function(){const t=Y;let n;try{n=Function("return (function() "+t(183)+");")()}catch(r){n=window}const e=n[t(154)]=n[t(154)]||{},o=[t(145),t(197),t(198),t(135),"exception",t(176),t(175)];for(let i=0;i<o[t(180)];i++){const n=G[t(134)][t(194)][t(196)](G),r=o[i],s=e[r]||n;n.__proto__=G[t(196)](G),n[t(142)]=s[t(142)][t(196)](s),e[r]=n}}))();const K=["object",q(184)],W=["object"];function Y(t,n){const e=tt();return(Y=function(t,n){return e[t-=132]})(t,n)}function tt(){const t=["setTemperature","constructor","error","8gTeUiL","4925DwKshW","clone","model","opacity","5244489HPlhGn","toString","land","children","log","matrix","uniforms","attributes","BufferGeometry","68745YSCNfs","apply","city","2500IZCAag","console","657900eRacZA","5218890tNlUGy","init","7336630QJjyCb","Texture","disposeBoundsTree","canvas","makeRotationX","uOpacity","raycast","setShowDiv","_renderer","geometry","2XWZVeJ","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","Matrix4","needsUpdate","action","$patch","stateObject","trace","table","string","debu","buildingsHeatmap","length","input","chain",'{}.constructor("return this")( )',"rotation-x","4473833qnNoGH","normal","gger","数值———：","applyMatrix4","counter","_config","computeBoundsTree","width","prototype","Mesh","bind","warn","info","ShaderMaterial","test","数值："];return(tt=function(){return t})()}const nt=h({__name:q(179),props:{model:{},opacity:{default:1}},setup(t){const n=q;(()=>{const t=Y;s[t(149)][t(194)][t(192)]=Z,s[t(149)].prototype[t(160)]=k,u[t(194)][t(164)]=z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=V,i=document[o(352)]("heatmap-canvas");return i[o(353)][o(362)]=o(379),!e&&(i.style[o(359)]=o(380)),i.style[o(349)]="0",i[o(353)][o(398)]="0",document[o(395)][o(350)](i),r[o(397)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(399),.55:o(392),.85:"yellow",1:o(403)}})})();((t,n)=>{const e=V;if(!n){let o=0;for(n=[];o<1e3;)n[e(366)]({x:i.randInt(1,t[e(388)].width),y:i[e(386)](1,t[e(388)][e(368)]),value:i[e(386)](-10,36)}),o++}t[e(365)]({max:36,min:-10,data:n})})(o);const f=new(s[n(159)])(o[n(166)][n(161)]);f[n(171)]=!0;const l=e[n(139)][n(152)].clone();delete l.geometry.attributes[n(186)],delete l[n(167)][n(148)].uv;const h=l.geometry[n(138)]()[n(189)](l[n(146)]),I=e[n(139)][n(143)][n(138)]();delete I[n(167)][n(148)].normal;const b=I[n(167)][n(138)]()[n(189)](I[n(146)]),_=c([h,b]);_[n(189)]((new(s[n(170)]))[n(162)](Math.PI/2)),p(_),_[n(192)]();const j=(t=>{const o=n;return new(s[o(199)])({vertexShader:o(169),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(140)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(f),x=new(s[n(195)])(_,j);m((()=>{const t=n;e[t(140)]&&(j[t(147)][t(163)].value=e[t(140)])}));const S=J(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(193)],y:(1-t.uv.y)*o[e(191)].height};console.log(e(132),t),console[e(145)](e(188),F(o,n)),S[e(133)](F(o,n))}},M=t=>{t&&S[n(173)]({showDiv:!0})},R=t=>{t&&S[n(165)](!1)};return(t,o)=>{const r=n;return g(),d(w,null,[y("primitive",{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:M,onPointerLeave:R},null,40,K),y("primitive",{object:e[r(139)][r(139)][r(144)][0][r(138)]()},null,8,W)],64)}}});function et(t){function n(t){const e=Y;if(typeof t===e(177))return function(t){}[e(134)]("while (true) {}")[e(151)](e(190));1!==(""+t/t)[e(180)]||t%20==0?function(){return!0}[e(134)]("debugger").call(e(172)):function(){return!1}[e(134)](e(178)+e(187))[e(151)](e(174)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=C({__name:"dataDiv",setup(t){const n=J(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return I((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((g(),d("div",{class:"title",style:S(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);!function(t,n){const e=st,o=at();for(;;)try{if(924061===parseInt(e(491))/1+-parseInt(e(517))/2*(parseInt(e(489))/3)+-parseInt(e(508))/4+parseInt(e(527))/5+-parseInt(e(503))/6*(parseInt(e(513))/7)+-parseInt(e(516))/8+parseInt(e(495))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(515)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=st,n=new RegExp(t(505)),e=new RegExp(t(524),"i"),o=ut(t(529));n[t(521)](o+t(518))&&e[t(521)](o+"input")?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[st(515)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(t,n){const e=at();return(st=function(t,n){return e[t-=489]})(t,n)}it(void 0,(function(){const t=st;let n;try{n=Function(t(522)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(506)]=n[t(506)]||{},o=[t(492),t(496),t(493),"error",t(520),t(514),t(494)];for(let i=0;i<o[t(510)];i++){const n=it[t(497)][t(528)][t(509)](it),r=o[i],s=e[r]||n;n[t(490)]=it[t(509)](it),n[t(500)]=s[t(500)][t(509)](s),e[r]=n}}))();const ct=h({__name:"heatmap2",async setup(r){const i=st;let s,c;const u=l(!1),a=([s,c]=E((()=>o())),s=await s,c(),s);u[i(504)]=!0;const p=M({width:1,color:i(498),opacity:1,show:!0}),f=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(512)](f,i(501),{label:i(519),min:0,max:1,step:.1}),(t,o)=>{const r=i;return g(),d(w,null,[R(e,{showBuildings:!1,autoRotate:!1},{ability:A((()=>[R(nt,D({model:v(a)},f),null,16,[r(507)]),R(n,D(p,{builds:v(a).city}),null,16,["builds"])])),_:1}),R(ot)],64)}}});function ut(t){function n(t){const e=st;if(typeof t===e(525))return function(t){}.constructor("while (true) {}")[e(515)](e(526));1!==(""+t/t).length||t%20==0?function(){return!0}[e(497)](e(502)+e(530))[e(523)](e(511)):function(){return!1}[e(497)](e(502)+e(530))[e(515)](e(499)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function at(){const t=["info","trace","32494293RMKcas","warn","constructor","#000","stateObject","toString","opacity","debu","22698gjXCPz","value","function *\\( *\\)","console","model","811324INIfmo","bind","length","action","addBinding","2828MrkhtK","table","apply","13598448mXLwRQ","4grKmGq","chain","透明度","exception","test","return (function() ","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","counter","8102820nLhbXi","prototype","init","gger","1816431xjcWOa","__proto__","334943RsdFef","log"];return(at=function(){return t})()}export{ct as default};
