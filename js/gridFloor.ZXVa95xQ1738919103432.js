import{_ as n,ai as t}from"./three.CYhYNU4g1738919103432.js";import{o as r,J as o,f as e}from"./@tresjs.G4idgyWs1738919103432.js";import{P as i}from"./tweakpane.yDiyAAkA1738919103432.js";import{d as s,a2 as c,o as u,H as a,N as l,aj as f,ak as d,r as v,f as g,g as p,j as h,u as m,al as C,m as y}from"./@vue.NRI7TcgI1738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";const x=T;!function(n,t){const r=T,o=k();for(;;)try{if(657531===parseInt(r(353))/1+parseInt(r(326))/2+-parseInt(r(352))/3+-parseInt(r(319))/4*(parseInt(r(343))/5)+-parseInt(r(335))/6*(parseInt(r(342))/7)+parseInt(r(314))/8+parseInt(r(347))/9)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const w=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[T(340)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function T(n,t){const r=k();return(T=function(n,t){return r[n-=313]})(n,t)}!function(){w(this,(function(){const n=T,t=new RegExp(n(336)),r=new RegExp(n(363),"i"),o=D("init");t[n(333)](o+n(360))&&r[n(333)](o+n(357))?D():o("0")}))()}();const b=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[T(340)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();b(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(332)+n(328)+");")()}catch(r){t=window}return t}(),r=t[n(368)]=t[n(368)]||{},o=[n(330),n(346),n(349),"error",n(321),"table",n(327)];for(let e=0;e<o[n(341)];e++){const t=b[n(362)].prototype.bind(b),i=o[e],s=r[i]||t;t[n(317)]=b[n(338)](b),t[n(366)]=s[n(366)][n(338)](s),r[i]=t}}))();const W=[x(334)];function k(){const n=["481308Tmacdh","trace",'{}.constructor("return this")( )',"#7a91df","log","TresMesh","return (function() ","test","rotate-x","33348lbjUif","function *\\( *\\)","string","bind","gridColor","apply","length","483oddkIu","145TGBjJR","debu","gridThickness","warn","17450208bTDVOB","gger","info","crossThickness","call","3682128Jszuod","737572cZhaoO","uGridThickness","set","#ffffff","input","uniforms","gridFloor","chain","crossColor","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","DoubleSide","uGridColor","toString","stateObject","console","while (true) {}","3868840tgVOTs","TresShaderMaterial","uCrossThickness","__proto__","uCrossColor","156184anuSEn","uFloorColor","exception","value","floorColor","counter","Color"];return(k=function(){return n})()}const I=s({__name:x(359),props:{gridColor:{default:"#c4d6ff"},gridThickness:{default:.02},crossColor:{default:x(329)},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:x(356)}},setup(t){const r=x,o=t,e={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[r(364)],transparent:!0,uniforms:{uFloorColor:{value:new(n[r(325)])(o[r(323)])},uGridThickness:{value:o[r(345)]},uGridColor:{value:new(n[r(325)])(o.gridColor)},uCrossThickness:{value:o[r(350)]},uCross:{value:o.uCross},uCrossColor:{value:new(n[r(325)])(o[r(361)])}}};return c((()=>{const n=r;e[n(358)][n(320)][n(322)][n(355)](o[n(323)]),e[n(358)][n(365)][n(322)][n(355)](o[n(339)]),e[n(358)][n(318)][n(322)][n(355)](o[n(361)]),e.uniforms[n(354)].value=o[n(345)],e[n(358)][n(316)].value=o.crossThickness,e[n(358)].uCross[n(322)]=o.uCross})),(n,t)=>{const o=r;return u(),a(o(331),{"rotate-x":-Math.PI/2},[t[0]||(t[0]=l("TresPlaneGeometry",{args:[10,10,32,32]},null,-1)),l(o(315),f(d(e)),null,16)],8,W)}}});function D(n){function t(n){const r=T;if(typeof n===r(337))return function(n){}[r(362)](r(313))[r(340)](r(324));1!==(""+n/n)[r(341)]||n%20==0?function(){return!0}[r(362)](r(344)+r(348))[r(351)]("action"):function(){return!1}[r(362)](r(344)+"gger").apply(r(367)),t(++n)}try{if(n)return t;t(0)}catch(r){}}const j=U;function _(){const n=["6aFTmHR","neg-x.jpg","TresMesh","4ddVIhz","地板颜色","chain","119109mkJXvi","console","input","uCross","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","error","counter","TresTorusKnotGeometry","#ff33ff","#ef57ff","return (function() ","constructor","log","#ffffff","427095mLYsvB","pos-z.jpg","62811WfeANS","728493VdYXqt","toString","function *\\( *\\)","pos-y.jpg","TresMeshStandardMaterial","TresPerspectiveCamera","crossThickness","exception","200GUrRJL","__proto__","warn","debu","#000000","neg-z.jpg","gridFloor","8046820yEnVgp","while (true) {}","length","stateObject","neg-y.jpg","bind","703652rRdvln","test","1589112tPWUgP","apply","TresDirectionalLight","addBinding","gger","action","trace","gridColor","pos-x.jpg","prototype"];return(_=function(){return n})()}!function(n,t){const r=U,o=_();for(;;)try{if(146472===parseInt(r(466))/1*(-parseInt(r(463))/2)+parseInt(r(484))/3+-parseInt(r(448))/4+-parseInt(r(481))/5+-parseInt(r(460))/6*(parseInt(r(450))/7)+-parseInt(r(492))/8*(parseInt(r(483))/9)+parseInt(r(442))/10)break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const A=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){A(this,(function(){const n=U,t=new RegExp(n(486)),r=new RegExp(n(470),"i"),o=V("init");t[n(449)](o+n(465))&&r.test(o+n(468))?V():o("0")}))()}();const F=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[U(451)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function U(n,t){const r=_();return(U=function(n,t){return r[n-=442]})(n,t)}F(void 0,(function(){const n=U,t=function(){const n=U;let t;try{t=Function(n(477)+'{}.constructor("return this")( ));')()}catch(r){t=window}return t}(),r=t[n(467)]=t.console||{},o=[n(479),n(494),"info",n(472),n(491),"table",n(456)];for(let e=0;e<o[n(444)];e++){const t=F[n(478)][n(459)][n(447)](F),i=o[e],s=r[i]||t;t[n(493)]=F.bind(F),t.toString=s[n(485)][n(447)](s),r[i]=t}}))();const S=s({__name:j(498),setup(n){const s=j,c=v({alpha:!0,toneMapping:t,windowSize:!0,clearColor:3355443}),a=v({enableDamping:!0,autoRotate:!1}),x=v({gridColor:s(480),crossColor:s(476),floorColor:s(496),gridThickness:.02,crossThickness:.03,uCross:.29}),w=new i;return w[s(453)](x,s(457),{label:"网格颜色"}),w[s(453)](x,"gridThickness",{label:"网格厚度",min:.01,max:1,step:.01}),w[s(453)](x,"crossColor",{label:"十字颜色"}),w.addBinding(x,s(490),{label:"十字厚度",min:.01,max:1,step:.01}),w[s(453)](x,s(469),{label:"十字大小",min:.01,max:1,step:.01}),w[s(453)](x,"floorColor",{label:s(464)}),(n,t)=>{const i=s;return u(),g(m(e),y(c,{"window-size":""}),{default:p((()=>[t[0]||(t[0]=l(i(489),{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),h(m(r),f(d(a)),null,16),t[1]||(t[1]=l("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=l(i(452),{position:[15,15,15],intensity:1},null,-1)),t[3]||(t[3]=l(i(462),{position:[0,.5,0],scale:.2},[l(i(474),{args:[1,.35,100,32]}),l(i(488),{color:i(475),roughness:0,metalness:1})],-1)),h(I,f(d(x)),null,16),(u(),g(C,null,{default:p((()=>[h(m(o),{files:[i(458),i(461),i(487),i(446),i(482),i(497)],path:i(471)})])),_:1}))])),_:1},16)}}});function V(n){function t(n){const r=U;if("string"==typeof n)return function(n){}[r(478)](r(443))[r(451)](r(473));1!==(""+n/n)[r(444)]||n%20==0?function(){return!0}[r(478)](r(495)+r(454)).call(r(455)):function(){return!1}[r(478)]("debu"+r(454))[r(451)](r(445)),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{S as default};
