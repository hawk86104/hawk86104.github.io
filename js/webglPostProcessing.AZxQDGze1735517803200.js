import{i as t}from"./ice-utils.6Vzw2Wmv1735517803200.js";import{_ as n,m as e}from"./gl-matrix.aWmMz91p1735517803200.js";import{P as o}from"./tweakpane.yHWGBmom1735517803200.js";import{d as r,r as i,q as a,o as c,D as s,J as u,u as f}from"./@vue.-THQH3GC1735517803200.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",_=x;function x(t,n){const e=E();return(x=function(t,n){return e[t-=192]})(t,n)}!function(t,n){const e=x,o=E();for(;;)try{if(361413===parseInt(e(295))/1*(parseInt(e(272))/2)+parseInt(e(224))/3+-parseInt(e(230))/4*(parseInt(e(193))/5)+-parseInt(e(296))/6*(-parseInt(e(267))/7)+parseInt(e(256))/8*(parseInt(e(217))/9)+-parseInt(e(213))/10*(-parseInt(e(287))/11)+-parseInt(e(262))/12*(parseInt(e(303))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[x(198)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=x,n=new RegExp(t(223)),e=new RegExp(t(289),"i"),o=A(t(205));n[t(297)](o+t(249))&&e[t(297)](o+t(225))?A():o("0")}))()}();const p=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(){const t=["mat4","addBinding","bind","clearColor","26817ScjARH","bindTexture","mixParam","offset_left_bottom","TRIANGLES","1337546qgKbZR","warn","NEAREST","exception","__proto__","uModel","stateObject","canvas","length",'{}.constructor("return this")( )',"offset_right_top","createTexture","img","clear","bindBuffer","1705OjEoSI","blendFunc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","width","constructor","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","logo-texture","1BfetTo","1110kDusst","test","FRAMEBUFFER","addBlade","canvaswebgl","prototype","height","533XFGuSx","bufferData","1451245NKtWjL","vertexAttribPointer","value","TEXTURE_WRAP_T","TEXTURE_2D","apply","UNSIGNED_BYTE","TEXTURE_MAG_FILTER","RGBA","create","change","console","init","BLEND","offset_left_top","COLOR_ATTACHMENT0","createBuffer","#canvaswebgl","slider","while (true) {}","9210fIDJkZ","gger","string","createFramebuffer","6251256PDOHba","debu","getContext","BYTES_PER_ELEMENT","scale","src","function *\\( *\\)","1517301yQckwa","input","getUniformLocation","counter","enable","uniformMatrix4fv","8EcNkIX","bindFramebuffer","texImage2D","是否后处理","innerHeight","CLAMP_TO_EDGE","COLOR_BUFFER_BIT","ARRAY_BUFFER","info","lookAt","webglPostProcessing","TEXTURE_MIN_FILTER","useProgram","STATIC_DRAW","offset_right_bottom","hidden","FLOAT","toString","action","chain","trace","ELEMENT_ARRAY_BUFFER","uProjection","texParameteri","TEXTURE_WRAP_S","getElementById","8RkoNZW","enableVertexAttribArray","color","log","inline","drawElements","520596TrcEhH"];return(E=function(){return t})()}p(void 0,(function(){const t=x,n=function(){const t=x;let n;try{n=Function("return (function() "+t(281)+");")()}catch(e){n=window}return n}(),e=n[t(204)]=n.console||{},o=[t(259),t(273),t(238),"error",t(275),"table",t(250)];for(let r=0;r<o[t(280)];r++){const n=p[t(291)][t(301)].bind(p),i=o[r],a=e[i]||n;n[t(276)]=p[t(265)](p),n[t(247)]=a.toString[t(265)](a),e[i]=n}}))();const g={id:_(300)},b=[_(222)],T=r({__name:_(240),setup(r){const x=_;let d,p,E,T,A,R,y,h,v,F,I,P,w;const C=1,B=.71,D=.76,S=new o({title:"参数"}),U=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});S[x(299)]({view:x(211),label:"颜色",min:0,max:1,value:.5}).on(x(203),(t=>{const n=x;k(),p.uniform1f(P,t[n(195)])}));let L=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);S[x(264)](U,"hidden",{label:x(233)}),S[x(264)](U,"offset_right_top",{picker:x(260),x:{min:0,max:1},y:{min:0,max:1}}).on(x(203),(t=>{const n=x;L[0]=U[n(282)].x,L[1]=U.offset_right_top.y,k()})),S[x(264)](U,x(244),{picker:x(260),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(203),(t=>{L[5]=U.offset_right_bottom.x,L[6]=U.offset_right_bottom.y,k()})),S[x(264)](U,x(270),{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(t=>{L[10]=U.offset_left_bottom.x,L[11]=U.offset_left_bottom.y,k()})),S.addBinding(U,x(207),{picker:x(260),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(203),(t=>{const n=x;L[15]=U[n(207)].x,L[16]=U[n(207)].y,k()})),a((()=>{N()}));const N=function(){const n=x;d=document.querySelector(n(210)),d[n(290)]=window.innerWidth,d[n(302)]=window[n(234)],p=d[n(219)]("webgl"),p&&(function(){const n=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);T=G(e,o),E=t(p,l,m),v=p[n(226)](E,n(252)),F=p[n(226)](E,"uView"),I=p[n(226)](E,n(277)),w=j(document[n(255)](n(294)))}(),k(),p[n(228)](p[n(206)]),p[n(288)](p[n(292)],p[n(293)]),M())};function M(){const t=x;p[t(231)](p[t(298)],y),p[t(266)](C,B,D,1),p[t(285)](p[t(236)]),function(){const t=x;p[t(242)](E),p[t(286)](p[t(237)],T);const o=n[t(263)][t(202)]();n[t(263)].ortho(o,0,d[t(290)],d[t(302)],0,.1,100),p[t(229)](v,!1,o);const r=n[t(263)][t(202)]();e[t(239)](r,[0,0,1],[0,0,0],[0,1,0]),p[t(229)](F,!1,r),O(w,600,600),O(w,400,400)}(),p[t(231)](p[t(298)],null),U[t(245)]&&(p[t(285)](p.COLOR_BUFFER_BIT),p[t(266)](0,0,1,1),p[t(286)](p[t(237)],A),p[t(242)](R),p[t(268)](p.TEXTURE_2D,h)),p[t(261)](p[t(271)],6,p[t(199)],0),requestAnimationFrame(M)}function O(t,o,r){const i=x;let a=e[i(202)]();n[i(263)].translate(a,a,[o,r,0]),n[i(263)][i(221)](a,a,[250,250,0]),p.uniformMatrix4fv(I,!1,a),p[i(268)](p[i(197)],t),p.drawElements(p[i(271)],6,p[i(199)],0)}function k(){const n=x,e=new Uint8Array([0,1,2,0,2,3]);A=G(L,e),R=t(p,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),P=p[n(226)](R,n(269)),p[n(226)](R,n(258)),function(){const t=x;h=j(d),y=p[t(216)](),p[t(231)](p[t(298)],y),p.framebufferTexture2D(p[t(298)],p[t(208)],p.TEXTURE_2D,h,0),p.bindFramebuffer(p[t(298)],null)}()}function j(t){const n=x,e=p[n(283)]();return p.bindTexture(p[n(197)],e),t instanceof HTMLImageElement?p.texImage2D(p[n(197)],0,p.RGBA,p[n(201)],p[n(199)],t):p[n(232)](p[n(197)],0,p[n(201)],t[n(290)],t.height,0,p[n(201)],p.UNSIGNED_BYTE,null),p[n(253)](p[n(197)],p[n(241)],p[n(274)]),p[n(253)](p[n(197)],p[n(200)],p[n(274)]),p[n(253)](p[n(197)],p[n(254)],p[n(235)]),p[n(253)](p[n(197)],p[n(196)],p.CLAMP_TO_EDGE),e}function G(t,n){const e=x,o=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,o),p[e(192)](p[e(237)],t,p[e(243)]);const r=3*Float32Array[e(220)]+2*Float32Array[e(220)];p.vertexAttribPointer(0,3,p.FLOAT,!1,r,0),p[e(257)](0),p[e(194)](1,2,p[e(246)],!1,r,3*Float32Array[e(220)]),p.enableVertexAttribArray(1);const i=p[e(209)]();return p[e(286)](p.ELEMENT_ARRAY_BUFFER,i),p[e(192)](p[e(251)],n,p[e(243)]),p[e(286)](p[e(237)],null),o}return(t,n)=>{const e=x;return c(),s(e(279),g,[u(e(284),{id:e(294),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:"none"}},null,8,b)])}}});function A(t){function n(t){const e=x;if(typeof t===e(215))return function(t){}[e(291)](e(212))[e(198)](e(227));1!==(""+t/t)[e(280)]||t%20==0?function(){return!0}[e(291)](e(218)+e(214)).call(e(248)):function(){return!1}[e(291)](e(218)+e(214))[e(198)](e(278)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{T as default};
