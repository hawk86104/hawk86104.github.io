import{m as t,e as n,D as e,U as r,C as o}from"./@tresjs.8MtVPQyb1736160428509.js";import{_ as s}from"./index.5CDpwhi_1736160428509.js";import{_ as i,a as c,s as u,cA as a}from"./three.rmsIv-u_1736160428509.js";import{P as l}from"./tweakpane.yHWGBmom1736160428509.js";import{c as p,d as f,a as h,I as m,C as d,N as g}from"./three-mesh-bvh.dI06GwOp1736160428509.js";import{d as y,a6 as w,b as j,a1 as v,o as b,D as I,J as _,u as x,F as M,r as T,e as A,j as R,g as k,m as z,f as C,al as L}from"./@vue.4u_eOGex1736160428509.js";import"./@vueuse.GObPVvIB1736160428509.js";import"./index.vujIQswb1736160428509.js";import"./@fesjs.pVksQyts1736160428509.js";import"./vue-router.jVp56Lac1736160428509.js";import"./lodash-es.kYt-_xTG1736160428509.js";import"./@qlin.yHhFDldE1736160428509.js";import"./pinia.F-Vnosig1736160428509.js";import"./vue-demi.C4xddsk91736160428509.js";import"./@floating-ui.BPbuo5Gx1736160428509.js";import"./@juggle.7yjBMqoW1736160428509.js";import"./chalk.w3XuUwyA1736160428509.js";/* empty css                                 */import"./iconify-icon.l-H2-fnN1736160428509.js";import"./@iconify.3mYF4lU71736160428509.js";import"./dompurify.rQUea5mq1736160428509.js";import"./utils.BM3M6OxP1736160428509.js";import"./default.vue_vue_type_script_setup_true_lang.iI-9ijCe1736160428509.js";import"./three-mesh-ui.module.7iO-YNOi1736160428509.js";function S(){const t=['{}.constructor("return this")( )',"init","Raycaster","stateObject","innerWidth","enabled","exception","140kQSmCK","return (function() ","trace","pointerType","clientX","609VWWtsB","chain","apply","intersectObject","clientY","debu","button","__proto__","addEventListener","while (true) {}","error","pointerdown","test","173187YsNlWA","constructor","310464XvnFCj","259792GfMBGd","function *\\( *\\)","222224ZiaPNV","touch","prototype","8496ZaWkWB","125RsNTXL","length","innerHeight","gger","input","value","string","160643zFhrho","bind","console","log","16338UPdjdk","counter","toString"];return(S=function(){return t})()}!function(t,n){const e=D,r=S();for(;;)try{if(258234===parseInt(e(453))/1+-parseInt(e(455))/2+parseInt(e(485))/3*(parseInt(e(458))/4)+parseInt(e(459))/5*(-parseInt(e(470))/6)+-parseInt(e(466))/7+parseInt(e(452))/8+parseInt(e(450))/9*(-parseInt(e(480))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(487)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Z(this,(function(){const t=D,n=new RegExp(t(454)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=F(t(474));n[t(449)](r+t(486))&&e[t(449)](r+t(463))?F():r("0")}))()}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[D(487)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();B(void 0,(function(){const t=D,n=function(){const t=D;let n;try{n=Function(t(481)+t(473)+");")()}catch(e){n=window}return n}(),e=n[t(468)]=n[t(468)]||{},r=[t(469),"warn","info",t(447),t(479),"table",t(482)];for(let o=0;o<r[t(460)];o++){const n=B[t(451)][t(457)].bind(B),s=r[o],i=e[s]||n;n[t(492)]=B[t(467)](B),n[t(472)]=i[t(472)][t(467)](i),e[s]=n}}))();function D(t,n){const e=S();return(D=function(t,n){return e[t-=447]})(t,n)}function F(t){function n(t){const e=D;if(typeof t===e(465))return function(t){}.constructor(e(494))[e(487)](e(471));1!==(""+t/t)[e(460)]||t%20==0?function(){return!0}[e(451)]("debu"+e(462)).call("action"):function(){return!1}.constructor(e(490)+e(462))[e(487)](e(476)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function W(){const t=["__proto__","Vector3","Vector2","TresMeshStandardMaterial","BufferGeometry","getX","invert","生成模型","234zPMTFG","setUsage","MeshStandardMaterial","string","call","material","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","setY","setX","matrixWorld","2700168AoWzoi","normal","423825DheRut","firstHitOnly","1708CIrqMp","console","disposeBoundsTree","apply","intersectsBox","setZ","boundsTree","43294MRADqm","DynamicDrawUsage","brushMesh","value","copy","intersectObject","attributes","instance","targetMesh","geometry","length","点击按钮","applyMatrix4","1812rDIDyG","push","while (true) {}","BufferAttribute","addButton","needsUpdate","exception","bind","Matrix4","computeBoundsTree","radius","setAttribute","info","gger","raycast","getY","setScalar","shapecast","constructor","intersectsSphere","setFromCamera","containsPoint","log","model",'{}.constructor("return this")( )',"error","count","point","position","625036cRNKoR","return (function() ","controls","33gnLjWy","visible","color","test","center","3HvVtlv","#023249","function *\\( *\\)","7uLQyIc","trace","debu","1244080lXVkhg","TresMesh","Sphere","enabled","40072MehiCN","getZ"];return(W=function(){return t})()}const U=O;!function(t,n){const e=O,r=W();for(;;)try{if(101535===-parseInt(e(339))/1*(parseInt(e(378))/2)+-parseInt(e(336))/3*(parseInt(e(328))/4)+-parseInt(e(369))/5+parseInt(e(299))/6*(parseInt(e(371))/7)+-parseInt(e(346))/8*(parseInt(e(356))/9)+-parseInt(e(342))/10+-parseInt(e(331))/11*(-parseInt(e(367))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const E=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(374)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){E(this,(function(){const t=O,n=new RegExp(t(338)),e=new RegExp(t(362),"i"),r=N("init");n[t(334)](r+t(363))&&e[t(334)](r+"input")?N():r("0")}))()}();const X=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[O(374)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();X(void 0,(function(){const t=O;let n;try{n=Function(t(329)+t(323)+");")()}catch(o){n=window}const e=n.console=n[t(372)]||{},r=[t(321),"warn",t(311),t(324),t(305),"table",t(340)];for(let s=0;s<r[t(296)];s++){const n=X[t(317)].prototype[t(306)](X),o=r[s],i=e[o]||n;n[t(348)]=X[t(306)](X),n.toString=i.toString[t(306)](i),e[o]=n}}))();const G=["geometry",U(361)],J=[U(295)];function O(t,n){const e=W();return(O=function(t,n){return e[t-=287]})(t,n)}const H=y({__name:U(322),props:{controls:{}},async setup(r){const o=U;let s,y;const T=r;(()=>{const t=O;i[t(352)].prototype[t(308)]=p,i[t(352)].prototype[t(373)]=f,u.prototype[t(313)]=h})();const A=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),R=new(i[o(358)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),k=new Uint8Array(3*A[o(292)].position[o(325)]);k.fill(255);const z=new c(k,3,!0);z[o(357)](i[o(287)]),A.setAttribute(o(333),z);const C=j(null),L=j(null),S=j(!1),Z=j(-1),B=j(.2),F=new(i[o(350)]),{camera:W,raycaster:E}=t(),X=15/255,H=78/255,N=85/255;let P=null;v((()=>{const t=o;C[t(289)]&&(console[t(321)]("targetMesh.value init",C[t(289)]),C[t(289)].geometry[t(308)](),P=A[t(377)],((t,n,e,r,o,s)=>{const c=D;window[c(493)]("pointermove",(e=>{const r=c;t.x=e.clientX/window.innerWidth*2-1,t.y=-e.clientY/window[r(461)]*2+1,n[r(464)]=!0})),window.addEventListener(c(448),(u=>{const a=c;t.x=u[a(484)]/window[a(477)]*2-1,t.y=-u[a(489)]/window[a(461)]*2+1,r[a(464)]=u[a(491)];const l=new(i[a(475)]);l.setFromCamera(t,e[a(464)]),l.firstHitOnly=!0;const p=l[a(488)](o[a(464)],!0);n[a(464)]=!0,s[a(478)]=0===p[a(460)]}),!0),window[c(493)]("pointerup",(t=>{const e=c;r.value=-1,t[e(483)]===e(456)&&(n.value=!1)}),!0)})(F,S,W,Z,C,T[t(330)][t(293)]))}));const{onLoop:Y}=n();Y((()=>{const t=o,n=A.index;if(L[t(289)])if(T[t(330)][t(293)].active||!S[t(289)])L[t(289)].visible=!1;else{L[t(289)].scale[t(315)](B[t(289)]),E[t(289)][t(319)](F,W[t(289)]),E[t(289)][t(370)]=!0;const e=E.value[t(291)](C.value,!0);if(e[t(296)]){L[t(289)].position[t(290)](e[0][t(326)]),T.controls[t(293)][t(345)]=!1,L.value[t(332)]=!0;const r=new(i[t(307)]);r[t(290)](C[t(289)][t(366)])[t(354)]();const o=new(i[t(344)]);o[t(335)][t(290)](L.value[t(327)])[t(298)](r),o[t(309)]=100*B.value;const s=[],c=new(i[t(349)]);if(null==P||P[t(316)]({intersectsBounds:n=>{const e=t,r=o[e(375)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c.set(0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o[e(320)](c))return m;return d}return r?m:g},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(318)](o)){const t=3*e;s[i(300)](t,t+1,t+2)}return!1}}),0===Z.value||2===Z[t(289)]){let e=1,r=1,o=1;0===Z[t(289)]&&(e=X,r=H,o=N);for(let i=0,c=s.length;i<c;i++){const c=n.getX(s[i]);z[t(365)](c,e),z[t(364)](c,r),z[t(376)](c,o)}z[t(304)]=!0}}else L[t(289)][t(332)]=!1,T[t(330)][t(293)][t(345)]=!0}}));const V=(new l)[o(303)]({title:o(297),label:o(355)}),$=new(i[o(352)]);return V.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<z.count;o++)z.getX(o)===X&&z[t(314)](o)===H&&z[t(347)](o)===N&&(n[t(300)](A[t(292)][t(327)][t(353)](o),A[t(292)][t(327)][t(314)](o),A[t(292)][t(327)].getZ(o)),e[t(300)](A[t(292)].normal[t(353)](o),A.attributes[t(368)][t(314)](o),A[t(292)].normal[t(347)](o)));const r=new Float32Array(n);$[t(310)](t(327),new(i[t(302)])(r,3)),$[t(310)](t(368),new(i[t(302)])(r,3))})),(t,n)=>{const e=o;return b(),I(M,null,[_("TresMesh",{ref_key:e(294),ref:C,geometry:x(A),scale:.005,material:x(R)},null,8,G),_(e(343),{ref_key:e(288),ref:L,visible:!1},n[0]||(n[0]=[_("TresSphereGeometry",{args:[1,40,40]},null,-1),_(e(351),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),_(e(343),{geometry:x($),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[_("TresMeshStandardMaterial",{color:e(337),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,J)],64)}}});function N(t){function n(t){const e=O;if(typeof t===e(359))return function(t){}[e(317)](e(301))[e(374)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+e(312))[e(360)]("action"):function(){return!1}[e(317)](e(341)+e(312))[e(374)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=V;!function(t,n){const e=V,r=K();for(;;)try{if(853391===parseInt(e(387))/1*(-parseInt(e(381))/2)+parseInt(e(357))/3*(parseInt(e(371))/4)+parseInt(e(365))/5+parseInt(e(363))/6+parseInt(e(388))/7+parseInt(e(379))/8*(-parseInt(e(374))/9)+-parseInt(e(367))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Y=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(372)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function V(t,n){const e=K();return(V=function(t,n){return e[t-=355]})(t,n)}!function(){Y(this,(function(){const t=V,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(378),"i"),r=Q(t(376));n[t(362)](r+t(364))&&e[t(362)](r+t(369))?Q():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[V(372)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();$(void 0,(function(){const t=V;let n;try{n=Function(t(390)+t(397)+");")()}catch(o){n=window}const e=n.console=n[t(380)]||{},r=[t(358),"warn",t(391),t(389),"exception",t(370),t(366)];for(let s=0;s<r[t(393)];s++){const n=$.constructor[t(385)][t(392)]($),o=r[s],i=e[o]||n;n.__proto__=$[t(392)]($),n[t(395)]=i[t(395)][t(392)](i),e[o]=n}}))();const q=y({__name:P(361),setup(t){const n=P,e=T({clearColor:n(375),antialias:!0}),i=T({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=A("TresCanvas");return b(),I(M,null,[R(x(s)),R(l,z(e,{"window-size":""}),{default:k((()=>[u[0]||(u[0]=_(a(373),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),R(x(r),z({ref_key:a(368),ref:c},i),null,16),u[1]||(u[1]=_(a(382),{intensity:1},null,-1)),(b(),C(L,null,{default:k((()=>[R(H,{controls:c.value},null,8,[a(359)])])),_:1})),(b(),C(L,null,{default:k((()=>[R(x(o),{background:!1,files:["pos-x.jpg",a(356),a(396),"neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:a(384)})])),_:1}))])),_:1},16)],64)}}});function Q(t){function n(t){const e=V;if("string"==typeof t)return function(t){}.constructor(e(386))[e(372)](e(355));1!==(""+t/t)[e(393)]||t%20==0?function(){return!0}.constructor(e(377)+e(383)).call(e(360)):function(){return!1}.constructor(e(377)+"gger")[e(372)](e(394)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function K(){const t=["prototype","while (true) {}","44653jMIyGJ","3516121hHFbLG","error","return (function() ","info","bind","length","stateObject","toString","pos-y.jpg",'{}.constructor("return this")( )',"counter","neg-x.jpg","411711JukQTH","log","controls","action","collectTriangles","test","4293240qheZTD","chain","3180330LUIAKU","trace","2954580UdbrJH","controlsRef","input","table","44LNJEUY","apply","TresPerspectiveCamera","63TuexLe","#999999","init","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","949056CLDovv","console","62JWRzpJ","TresAmbientLight","gger","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"];return(K=function(){return t})()}export{q as default};
