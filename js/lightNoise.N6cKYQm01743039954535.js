import{aH as n,_ as t,a as e,t as o,B as r,aj as i,u as s,Y as a,c9 as c,c7 as l,c8 as u,co as f,n as p,C as v}from"./three.XuMWWlrU1743039954535.js";import{e as g,m as d,o as m}from"./@tresjs.05J-Im0t1743039954535.js";import{d as h,o as b,H as y,N as x,u as w,F as I,w as _,j as T,z as U,e as S,g as D,aj as B,ak as j}from"./@vue.C4dqouNn1743039954535.js";import{_ as F}from"./@fesjs.q_HvOfeM1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";import"./vue-router.F5lDLjOj1743039954535.js";import"./lodash-es.p1wj6C0b1743039954535.js";import"./@qlin.o0hjOMCg1743039954535.js";import"./pinia.MiZyWHUj1743039954535.js";import"./@floating-ui.HzHndBae1743039954535.js";import"./@juggle.4EyLec-41743039954535.js";var C="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const z=M;!function(n,t){const e=M,o=Z();for(;;)try{if(821698===-parseInt(e(182))/1*(parseInt(e(174))/2)+parseInt(e(139))/3*(-parseInt(e(128))/4)+parseInt(e(149))/5+-parseInt(e(181))/6+-parseInt(e(124))/7*(-parseInt(e(129))/8)+-parseInt(e(138))/9*(-parseInt(e(147))/10)+parseInt(e(170))/11*(-parseInt(e(119))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[M(132)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){E(this,(function(){const n=M,t=new RegExp(n(190)),e=new RegExp(n(136),"i"),o=H(n(145));t[n(185)](o+n(166))&&e.test(o+n(126))?H():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[M(132)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();N(void 0,(function(){const n=M,t=function(){const n=M;let t;try{t=Function(n(137)+n(121)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(183)]||{},o=["log",n(158),"info",n(152),n(184),"table",n(176)];for(let r=0;r<o[n(180)];r++){const t=N[n(133)][n(134)][n(179)](N),i=o[r],s=e[i]||t;t[n(143)]=N.bind(N),t.toString=s[n(161)][n(179)](s),e[i]=t}}))();const P=[z(193),z(171)],k=[z(171)],A=[z(169)];function M(n,t){const e=Z();return M=function(n,t){return e[n-=118]},M(n,t)}const R=100;function Z(){const n=["string","38240eidahk","MeshBasicMaterial","trace","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","vertexShader","bind","length","2617728pjvWUt","28LQtLlJ","console","exception","test","InstancedBufferGeometry","InstancedBufferAttribute","#include <begin_vertex>","MeshLambertMaterial","function *\\( *\\)","uniforms","setAttribute","geometry","action","needsUpdate","instData","108TYZRtY","TresMesh",'{}.constructor("return this")( )',"replace","#include <fog_fragment>","70gsirgU","MathUtils","input","randFloat","102696XIxgEg","876536mDpKdu","counter","sin","apply","constructor","prototype","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","9RPlmph","6cRZvRU","push","randFloatSpread","noiseTex","__proto__","gger","init","globalUniforms","10811650ZHVzDJ","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ","6728330YEDHJp","noise","debu","error","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","globalBloom","\n    ","\n      uniform vec4 luces[","warn","TresPlaneGeometry","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ","toString","cos","fragmentShader","attributes","Vector4","chain","copy","luces","rotateX","2050653jtlGAm","material","lucesPlane"];return(Z=function(){return n})()}const G=h({__name:z(172),props:{globalUniforms:{}},setup(r){const i=z,s=r,a=[],c=[],l=new n(1,36,18),u=(new(t[i(186)]))[i(167)](l);u.instanceCount=R;const f=[];for(let n=0;n<R;n++){let n=e.randFloatSpread(49),r=t[i(125)][i(141)](49),s=t[i(125)][i(127)](.0625,.125),l=t[i(125)][i(127)](1,3);f[i(140)](n,r,s),c[i(140)](new o(n,r,l,t[i(125)][i(127)](1,2))),a[i(140)](new(t[i(165)])(n,r,s,l))}u[i(192)](i(118),new(t[i(187)])(new Float32Array(f),3));const p=new(t[i(175)])({color:16720418,onBeforeCompile:n=>{const t=i;n[t(191)][t(142)]=s[t(146)].noise,n[t(178)]=("\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      "+n[t(178)]+t(156))[t(122)](t(188),t(153))}}),v={luces:{value:a}},d=new(t[i(189)])({color:2363940,onBeforeCompile:n=>{const t=i;n[t(191)][t(168)]=v[t(168)],n[t(191)].globalBloom=s[t(146)][t(155)],n[t(191)][t(142)]=s[t(146)][t(150)],n[t(178)]=(t(177)+n[t(178)]+"\n    ")[t(122)]("#include <begin_vertex>",t(154)),n.fragmentShader=(t(157)+R+"];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      "+n[t(163)]+t(156))[t(122)](t(123),t(135)+R+t(160))[t(122)]("#include <dithering_fragment>",t(148))}}),{onLoop:m}=g();return m((({elapsed:n})=>{const t=i;for(let e=0;e<R;e++){const o=c[e];let r=(o.y+n+25)%50-25;a[e].y=r,a[e].w=(Math[t(131)](n*o.w*(e%3+1))*Math[t(162)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,u[t(164)][t(118)].setY(e,r)}u[t(164)][t(118)][t(195)]=!0})),(n,t)=>{const e=i;return b(),y(I,null,[x(e(120),{geometry:w(u),material:w(p)},null,8,P),x(e(120),{material:w(d)},[x(e(159),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,A)],8,k)],64)}}});function H(n){function t(n){const e=M;if(typeof n===e(173))return function(n){}[e(133)]("while (true) {}").apply(e(130));1!==(""+n/n)[e(180)]||n%20==0?function(){return!0}.constructor("debu"+e(144)).call(e(194)):function(){return!1}[e(133)](e(151)+e(144)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const L=O;!function(n,t){const e=O,o=X();for(;;)try{if(475305===parseInt(e(192))/1*(parseInt(e(194))/2)+parseInt(e(211))/3*(parseInt(e(193))/4)+parseInt(e(179))/5*(parseInt(e(191))/6)+-parseInt(e(187))/7*(parseInt(e(215))/8)+-parseInt(e(164))/9*(parseInt(e(178))/10)+parseInt(e(189))/11+-parseInt(e(207))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Y(this,(function(){const n=O,t=new RegExp(n(188)),e=new RegExp(n(196),"i"),o=J(n(203));t[n(201)](o+n(163))&&e[n(201)](o+n(169))?J():o("0")}))()}();const V=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[O(183)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function X(){const n=["9786854yliZSK","#include <dithering_fragment>","10770tEoVvd","20393rNSwvH","20tXiYIq","10avHsjF","fragmentShader","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","table","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","MeshBasicMaterial","exception","test","trace","init","stateObject","toString","debu","8888652ngkunm","TresMesh",'{}.constructor("return this")( )',"log","158487FXpPPb","portal","counter","\n    ","16NvWCEZ","call","chain","225GVaele","gger","__proto__","console","TresPlaneGeometry","input","material","prototype","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","action","time","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","error","252250ILVimX","2395JigPad","uniforms","globalBloom","constructor","apply","while (true) {}","bind","string","941423JKwBup","function *\\( *\\)"];return(X=function(){return n})()}V(void 0,(function(){const n=O;let t;try{t=Function("return (function() "+n(209)+");")()}catch(r){t=window}const e=t[n(167)]=t[n(167)]||{},o=[n(210),"warn","info",n(177),n(200),n(197),n(202)];for(let i=0;i<o.length;i++){const t=V.constructor[n(171)].bind(V),r=o[i],s=e[r]||t;t[n(166)]=V[n(185)](V),t[n(205)]=s[n(205)][n(185)](s),e[r]=t}}))();const $=[L(170)];function O(n,t){const e=X();return O=function(n,t){return e[n-=162]},O(n,t)}const W=h({__name:L(212),props:{globalUniforms:{}},setup(n){const e=L,o=n,r=new(t[e(199)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(180)][t(175)]=o.globalUniforms[t(175)],n[t(180)][t(181)]=o.globalUniforms.globalBloom,n[t(195)]=(t(198)+C+t(176)+n[t(195)]+t(214)).replace("vec4 diffuseColor = vec4( diffuse, opacity );",t(173)).replace(t(190),t(172))}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return b(),y(o(208),{material:w(r),position:[0,3.75,-12]},t[0]||(t[0]=[x(o(168),{args:[5,5]},null,-1)]),8,$)}}});function J(n){function t(n){const e=O;if(typeof n===e(186))return function(n){}[e(182)](e(184))[e(183)](e(213));1!==(""+n/n).length||n%20==0?function(){return!0}[e(182)](e(206)+e(165))[e(162)](e(174)):function(){return!1}[e(182)](e(206)+"gger")[e(183)](e(204)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const q=Q;!function(n,t){const e=Q,o=tn();for(;;)try{if(217974===parseInt(e(543))/1+-parseInt(e(492))/2+parseInt(e(549))/3*(parseInt(e(500))/4)+-parseInt(e(523))/5*(-parseInt(e(542))/6)+parseInt(e(506))/7*(parseInt(e(539))/8)+parseInt(e(522))/9+-parseInt(e(511))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Q(496)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Q(n,t){const e=tn();return Q=function(n,t){return e[n-=489]},Q(n,t)}!function(){K(this,(function(){const n=Q,t=new RegExp(n(520)),e=new RegExp(n(490),"i"),o=rn(n(514));t[n(504)](o+n(531))&&e[n(504)](o+n(505))?rn():o("0")}))()}();const nn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function tn(){const n=["fragmentShader","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"322554ScBgDn","MathUtils","globalBloom","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","apply","push","toString","while (true) {}","620nFyeYQ","noise","__proto__","geometry","test","input","272622HQdCBc","#include <begin_vertex>","gEnds","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      ","globalUniforms","5250300uYoUuL","debu","stateObject","init","time","length","table","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","exception","function *\\( *\\)","bind","1195488tGknGr","145gzThDw","counter","console","replace","vec4 diffuseColor = vec4( diffuse, opacity );","action","vertexShader","constructor","chain","randFloatSpread","setAttribute","\n    ","return (function() ","noiseTex","prototype","info","64xshyLe","uniforms","LineBasicMaterial","63402RlFWkW","110968IsgIuT","randFloat","string","trace","gger","\n      ","822YWCglf","position","Float32BufferAttribute"];return(tn=function(){return n})()}nn(void 0,(function(){const n=Q,t=function(){const n=Q;let t;try{t=Function(n(535)+n(491)+");")()}catch(e){t=window}return t}(),e=t[n(525)]=t[n(525)]||{},o=["log","warn",n(538),"error",n(519),n(517),n(546)];for(let r=0;r<o[n(516)];r++){const t=nn.constructor[n(537)][n(521)](nn),i=o[r],s=e[i]||t;t[n(502)]=nn[n(521)](nn),t.toString=s[n(498)][n(521)](s),e[i]=t}}))();const en=["material",q(503)],on=h({__name:"drops",props:{globalUniforms:{}},setup(n){const e=q,o=n,s=[],a=[];for(let r=0;r<2e4;r++){const n=t[e(493)][e(532)](35),o=t[e(493)].randFloat(-5,10),r=t[e(493)].randFloatSpread(35),i=t[e(493)][e(544)](.25,.5);s[e(497)](n,o,r,n,o,r),a[e(497)](0,i,1,i)}const c=new r;c[e(533)](e(550),new(t[e(551)])(s,3)),c[e(533)](e(508),new i(a,2));const l=new(t[e(541)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms.time=o[t(510)][t(515)],n[t(540)][t(536)]=o[t(510)][t(501)],n[t(540)][t(494)]=o[t(510)].globalBloom,n[t(529)]=(t(518)+n.vertexShader+t(534))[t(526)](t(507),t(509)),n.fragmentShader=(t(495)+C+t(548)+n[t(489)]+"\n    ")[t(526)](t(527),"\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ")}});return(n,t)=>(b(),y("TresLineSegments",{material:w(l),geometry:w(c)},null,8,en))}});function rn(n){function t(n){const e=Q;if(typeof n===e(545))return function(n){}[e(530)](e(499)).apply(e(524));1!==(""+n/n)[e(516)]||n%20==0?function(){return!0}[e(530)](e(512)+e(547)).call(e(528)):function(){return!1}[e(530)](e(512)+e(547))[e(496)](e(513)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const sn=un;!function(n,t){const e=un,o=ln();for(;;)try{if(164780===parseInt(e(227))/1*(-parseInt(e(250))/2)+-parseInt(e(216))/3+-parseInt(e(254))/4+-parseInt(e(234))/5+parseInt(e(248))/6*(parseInt(e(240))/7)+parseInt(e(205))/8+parseInt(e(212))/9*(parseInt(e(200))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const an=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){an(this,(function(){const n=un,t=new RegExp(n(255)),e=new RegExp(n(195),"i"),o=pn(n(258));t[n(251)](o+n(226))&&e[n(251)](o+n(246))?pn():o("0")}))()}();const cn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[un(228)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function ln(){const n=["696uecDzl","defines","2dDJaCO","test","\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",'{}.constructor("return this")( )',"759908CQCcDj","function *\\( *\\)","fboRender","constructor","init","counter","color","bind","near","trace","return (function() ","table","fog","Camera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector2","renderToScreen","value","time","25490XRmhEL","width","call","renderTarget2","while (true) {}","1214296mrSeva","fragmentShader","setRenderTarget","string","height","texture","\n    ","1062ymSlgF","console","baseTexture","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","35877XKtwKF","info","\n      ","toString","log","target","prototype","needsSwap","length","globalBloom","chain","231442VlbFOY","apply","background","debu","PlaneGeometry","action","__proto__","797455zXPFqB","gger","vec4 diffuseColor = vec4( diffuse, opacity );","Mesh","addPass","uniforms","18410UkILlH","exception","warn","MeshBasicMaterial","Fog","set","input","render"];return(ln=function(){return n})()}function un(n,t){const e=ln();return un=function(n,t){return e[n-=186]},un(n,t)}cn(void 0,(function(){const n=un;let t;try{t=Function(n(191)+n(253)+");")()}catch(r){t=window}const e=t.console=t[n(213)]||{},o=[n(220),n(242),n(217),"error",n(241),n(192),n(190)];for(let i=0;i<o[n(224)];i++){const t=cn[n(257)][n(222)][n(188)](cn),r=o[i],s=e[r]||t;t[n(233)]=cn[n(188)](cn),t[n(219)]=s.toString[n(188)](s),e[r]=t}}))();const fn=h({__name:sn(256),setup(n){const e=sn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},r=new s(512,512),i=new a,m=new(t[e(194)]),h=new(t[e(231)])(2,2),x=new(t[e(243)])({onBeforeCompile:n=>{const t=e;n[t(239)].time=o.time,n.fragmentShader=("\n      uniform float time;\n      "+C+t(218)+n[t(206)]+t(211)).replace(t(236),t(215))}});x[e(249)]={USE_UV:""};const w=new(t[e(237)])(h,x);i.add(w),o.noise[e(198)]=r[e(210)];const{camera:U,renderer:S,scene:D,sizes:B,controls:j}=d();_((()=>j[e(198)]),(n=>{const t=e;n?.[t(221)][t(245)](0,2,0),!D.value[t(229)]&&(D[t(198)][t(229)]=new v(6706534))}));const F=new c(S[e(198)]),z=new c(S.value),E=new l(D[e(198)],U[e(198)]),N=new u(new(t[e(196)])(B[e(201)][e(198)],B[e(209)][e(198)]),1.2,.5,0);F[e(197)]=!1,F[e(238)](E),F[e(238)](N);const P=new f(new p({uniforms:{baseTexture:{value:null},bloomTexture:{value:F[e(203)][e(210)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:e(252),defines:{}}),e(214));P[e(223)]=!0,z[e(238)](E),z.addPass(P),D[e(198)][e(193)]=new(t[e(244)])(6706534,1,25);const{onLoop:k}=g();return k((({elapsed:n})=>{const t=e;o[t(199)][t(198)]=n,S.value&&(S[t(198)][t(207)](r),S[t(198)].render(i,m),S.value.setRenderTarget(null),o[t(225)][t(198)]=1.2,D[t(198)][t(193)][t(187)][t(245)](0),D[t(198)].fog.near=15,D[t(198)].background?.[t(245)](0),F.render(),o[t(225)][t(198)]=0,D[t(198)][t(193)][t(187)][t(245)](6706534),D[t(198)][t(193)][t(189)]=10,D.value[t(229)]?.[t(245)](6706534),z[t(247)]())})),(n,t)=>(b(),y(I,null,[T(G,{globalUniforms:o}),T(W,{globalUniforms:o}),T(on,{globalUniforms:o})],64))}});function pn(n){function t(n){const e=un;if(typeof n===e(208))return function(n){}[e(257)](e(204)).apply(e(186));1!==(""+n/n)[e(224)]||n%20==0?function(){return!0}[e(257)](e(230)+e(235))[e(202)](e(232)):function(){return!1}[e(257)](e(230)+e(235)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const vn={class:"text"};const gn=F({},[["render",function(n,t){return b(),y("div",vn,t[0]||(t[0]=[x("span",{class:"retro noselect"},[x("span",{style:{color:"#eae"}},"光"),U("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]),dn=bn;!function(n,t){const e=bn,o=yn();for(;;)try{if(823245===-parseInt(e(352))/1*(parseInt(e(346))/2)+-parseInt(e(379))/3*(parseInt(e(386))/4)+-parseInt(e(362))/5*(-parseInt(e(348))/6)+parseInt(e(371))/7*(parseInt(e(342))/8)+parseInt(e(372))/9*(-parseInt(e(350))/10)+parseInt(e(377))/11*(-parseInt(e(358))/12)+parseInt(e(367))/13)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const mn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[bn(347)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){mn(this,(function(){const n=bn,t=new RegExp(n(357)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=wn("init");t[n(381)](o+n(366))&&e[n(381)](o+n(385))?wn():o("0")}))()}();const hn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[bn(347)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function bn(n,t){const e=yn();return bn=function(n,t){return e[n-=341]},bn(n,t)}function yn(){const n=["275BjDwcd","manual","gger","info","chain","23722712fwVUqV","stateObject","length","trace","7YWMHmt","805158NtoCcw","lightNoise","bind","TresCanvas","MathUtils","17139551ZgohbA","counter","15AZOOqx","string","test","prototype","exception","DEG2RAD","input","603256wpyHvP","constructor","8828120oidcMo","__proto__","TresPerspectiveCamera","call","134438jXGAnk","apply","86058rvjalh","console","50bYlAYI","TresAmbientLight","2aHDMLm","error","debu","return (function() ",'{}.constructor("return this")( )',"function *\\( *\\)","12kIeRyk","table","while (true) {}","toString"];return(yn=function(){return n})()}hn(void 0,(function(){const n=bn;let t;try{t=Function(n(355)+n(356)+");")()}catch(r){t=window}const e=t[n(349)]=t[n(349)]||{},o=["log","warn",n(365),n(353),n(383),n(359),n(370)];for(let i=0;i<o.length;i++){const t=hn[n(341)][n(382)][n(374)](hn),r=o[i],s=e[r]||t;t[n(343)]=hn[n(374)](hn),t.toString=s[n(361)][n(374)](s),e[r]=t}}))();const xn=h({__name:dn(373),setup(n){const e=dn,o={windowSize:!0,antialias:!0,renderMode:e(363)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[e(376)].DEG2RAD,maxPolarAngle:90*t[e(376)][e(384)],makeDefault:!0};return(n,t)=>{const i=e,s=S(i(375));return b(),y(I,null,[T(gn),T(s,B(j(o)),{default:D((()=>[t[0]||(t[0]=x(i(344),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),T(w(m),B(j(r)),null,16),t[1]||(t[1]=x(i(351),{intensity:.5},null,-1)),t[2]||(t[2]=x("TresDirectionalLight",{position:[0,3,-12],intensity:1},null,-1)),T(fn)])),_:1},16)],64)}}});function wn(n){function t(n){const e=bn;if(typeof n===e(380))return function(n){}[e(341)](e(360))[e(347)](e(378));1!==(""+n/n)[e(369)]||n%20==0?function(){return!0}[e(341)](e(354)+"gger")[e(345)]("action"):function(){return!1}[e(341)](e(354)+e(364))[e(347)](e(368)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{xn as default};
