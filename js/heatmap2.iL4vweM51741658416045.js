import{P as t}from"./tweakpane.yDiyAAkA1741658416045.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.6Bo5lrOF1741658416045.js";import{_ as r}from"./heatmap.js-fix.M_DOcMz41741658416045.js";import{a as i,_ as c,c3 as s,r as u}from"./three.FyUEtfsR1741658416045.js";import{r as a}from"./utils.2o1PLPEO1741658416045.js";import{d as p}from"./pinia.Iw2DqQac1741658416045.js";import{b as f,d as l,a2 as h,o as d,H as m,N as g,u as y,F as v,q as w,W as I,P as b,R as _,L as x,O as j,a3 as E,r as M,j as O,g as S,m as Z}from"./@vue.NRI7TcgI1741658416045.js";import{c as D,d as R,a as z}from"./three-mesh-bvh.FHydkdim1741658416045.js";import{_ as P}from"./@fesjs.hAnhKQG-1741658416045.js";import"./@tresjs.W3PFJhMo1741658416045.js";import"./postprocessing.llR5x4wQ1741658416045.js";import"./@vueuse.5uFvLf9q1741658416045.js";import"./three-custom-shader-material.irEwOpzM1741658416045.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1741658416045.js";import"./@amap.smZgnC9y1741658416045.js";import"./vue-router.qhodDV9M1741658416045.js";import"./lodash-es.pklfUAS51741658416045.js";import"./@qlin.yHhFDldE1741658416045.js";import"./@floating-ui.BPbuo5Gx1741658416045.js";import"./@juggle.7yjBMqoW1741658416045.js";!function(t,n){const e=B,o=T();for(;;)try{if(686110===-parseInt(e(160))/1+parseInt(e(155))/2+-parseInt(e(167))/3+-parseInt(e(152))/4*(parseInt(e(151))/5)+-parseInt(e(149))/6+parseInt(e(147))/7*(-parseInt(e(145))/8)+parseInt(e(172))/9*(parseInt(e(140))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(148)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){k(this,(function(){const t=B,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(173),"i"),o=G("init");n[t(141)](o+t(186))&&e.test(o+t(154))?G():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(148)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(){const t=["rgb(0,255,0)","randInt","yellow","chain","setData",'{}.constructor("return this")( )',"rgb(0,0,255)","1390crnnst","test","stateObject","_config","push","8612024yPNHgK","warn","7TFtiqe","apply","1310874SCawBw","__proto__","26895qdaIlx","748bkDNHd","height","input","1025686llwEQm","call","gger","table","style","865386aiVxhu","top","appendChild","action","bind","position","debu","2152455xGsphA","length","counter","prototype","trace","262683VOzXsE","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","body","rgb(255,0,0)","width","console","error","toString","return (function() ","exception"];return(T=function(){return t})()}A(void 0,(function(){const t=B;let n;try{n=Function(t(181)+t(188)+");")()}catch(r){n=window}const e=n[t(178)]=n[t(178)]||{},o=["log",t(146),"info",t(179),t(182),t(158),t(171)];for(let i=0;i<o.length;i++){const n=A[t(174)][t(170)][t(164)](A),r=o[i],c=e[r]||n;n[t(150)]=A.bind(A),n[t(180)]=c[t(180)][t(164)](c),e[r]=n}}))();function B(t,n){const e=T();return(B=function(t,n){return e[t-=140]})(t,n)}const q=(t,n)=>t.getValueAt(n)+-10;function G(t){function n(t){const e=B;if("string"==typeof t)return function(t){}[e(174)]("while (true) {}")[e(148)](e(169));1!==(""+t/t)[e(168)]||t%20==0?function(){return!0}[e(174)](e(166)+e(157))[e(156)](e(163)):function(){return!1}.constructor(e(166)+e(157)).apply(e(142)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function $(t,n){const e=V();return($=function(t,n){return e[t-=129]})(t,n)}!function(t,n){const e=$,o=V();for(;;)try{if(432060===-parseInt(e(131))/1+-parseInt(e(135))/2+-parseInt(e(161))/3*(-parseInt(e(139))/4)+-parseInt(e(142))/5*(-parseInt(e(146))/6)+-parseInt(e(153))/7+-parseInt(e(136))/8*(parseInt(e(162))/9)+-parseInt(e(132))/10*(-parseInt(e(155))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(160)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(){const t=["function *\\( *\\)","732xyeXJM","constructor","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject",'{}.constructor("return this")( )',"chain","5582423wZhArk","debu","1364088pvnDOV","__proto__","init","input","test","apply","24QVcPep","114822zPNooO","info","exception","action","toString","console","length","counter","593576uneTmy","200zWtObR","log","warn","1155354xksKdx","224uUZLVP","table","bind","74212iETAXJ","string","gger","5305nIPMNw","return (function() ","value"];return(V=function(){return t})()}!function(){U(this,(function(){const t=$,n=new RegExp(t(145)),e=new RegExp(t(149),"i"),o=H(t(157));n[t(159)](o+t(152))&&e[t(159)](o+t(158))?H():o("0")}))()}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(160)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();F(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(143)+t(151)+");")()}catch(e){n=window}return n}(),e=n[t(167)]=n[t(167)]||{},o=[t(133),t(134),t(163),"error",t(164),t(137),"trace"];for(let r=0;r<o[t(129)];r++){const n=F[t(147)].prototype[t(138)](F),i=o[r],c=e[i]||n;n[t(156)]=F[t(138)](F),n[t(166)]=c[t(166)][t(138)](c),e[i]=n}}))();const Y=p("buildingsHeatmap",(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t.value=n},setTemperature:function(t){n[$(144)]=t}}}));function H(t){function n(t){const e=$;if(typeof t===e(140))return function(t){}[e(147)](e(148))[e(160)](e(130));1!==(""+t/t)[e(129)]||t%20==0?function(){return!0}.constructor(e(154)+"gger").call(e(165)):function(){return!1}[e(147)](e(154)+e(141))[e(160)](e(150)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const L=W;!function(t,n){const e=W,o=tt();for(;;)try{if(693578===parseInt(e(433))/1+parseInt(e(418))/2+parseInt(e(398))/3+-parseInt(e(408))/4*(-parseInt(e(438))/5)+-parseInt(e(444))/6*(parseInt(e(448))/7)+parseInt(e(392))/8+parseInt(e(413))/9*(-parseInt(e(414))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){N(this,(function(){const t=W,n=new RegExp(t(450)),e=new RegExp(t(421),"i"),o=K("init");n.test(o+"chain")&&e.test(o+t(420))?K():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(405)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();X(void 0,(function(){const t=W;let n;try{n=Function(t(449)+t(399)+");")()}catch(r){n=window}const e=n[t(432)]=n.console||{},o=[t(451),"warn",t(442),"error","exception",t(391),t(404)];for(let i=0;i<o[t(447)];i++){const n=X[t(430)][t(393)][t(412)](X),r=o[i],c=e[r]||n;n[t(396)]=X[t(412)](X),n[t(400)]=c[t(400)].bind(c),e[r]=n}}))();const C=[L(423),L(394)],Q=["object"];function W(t,n){const e=tt();return(W=function(t,n){return e[t-=390]})(t,n)}const J=l({__name:L(458),props:{model:{},opacity:{default:1}},setup(t){const n=L;(()=>{const t=W;c[t(424)][t(393)][t(409)]=D,c[t(424)].prototype[t(455)]=R,u[t(393)][t(456)]=z})();const e=t,o=((t=250,n=250,e=!0)=>{const o=B,i=document.createElement("heatmap-canvas");return i[o(159)][o(165)]="absolute",!e&&(i[o(159)].display="none"),i[o(159)][o(161)]="0",i[o(159)].left="0",document[o(175)][o(162)](i),r.create({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:o(189),.55:o(183),.85:o(185),1:o(176)}})})();((t,n)=>{const e=B;if(!n){let o=0;for(n=[];o<1e3;)n[e(144)]({x:i[e(184)](1,t._config[e(177)]),y:i[e(184)](1,t[e(143)][e(153)]),value:i[e(184)](-10,36)}),o++}t[e(187)]({max:36,min:-10,data:n})})(o);const p=new(c[n(435)])(o._renderer.canvas);p[n(422)]=!0;const f=e[n(431)][n(407)][n(395)]();delete f[n(452)][n(410)].normal,delete f[n(452)].attributes.uv;const l=f[n(452)][n(395)]().applyMatrix4(f[n(426)]),w=e.model[n(443)][n(395)]();delete w[n(452)][n(410)][n(417)];const I=w[n(452)][n(395)]()[n(457)](w[n(426)]),b=s[n(440)]([l,I]);b[n(457)]((new(c[n(403)]))[n(416)](Math.PI/2)),a(b),b[n(409)]();const _=(t=>{const o=n;return new(c[o(402)])({vertexShader:o(419),fragmentShader:o(390),uniforms:{uOpacity:{value:e[o(425)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:c[o(427)]})})(p),x=new u(b,_);h((()=>{const t=n;e.opacity&&(_[t(434)][t(415)][t(397)]=e[t(425)])}));const j=Y(),E=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(401)],y:(1-t.uv.y)*o[e(428)][e(453)]};console[e(451)](e(437),t),console[e(451)]("数值———：",q(o,n)),j.setTemperature(q(o,n))}},M=t=>{t&&j[n(454)]({showDiv:!0})},O=t=>{t&&j[n(436)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(441),{object:y(x),"rotation-x":-Math.PI/2,onPointerMove:E,onPointerEnter:M,onPointerLeave:O},null,40,C),g(r(441),{object:e.model[r(431)].children[0][r(395)]()},null,8,Q)],64)}}});function K(t){function n(t){const e=W;if(typeof t===e(446))return function(t){}[e(430)](e(445)).apply("counter");1!==(""+t/t)[e(447)]||t%20==0?function(){return!0}[e(430)](e(411)+e(429))[e(406)](e(439)):function(){return!1}[e(430)](e(411)+e(429)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function tt(){const t=["Texture","setShowDiv","数值：","6615opSslY","action","mergeGeometries","primitive","info","land","5283606fYDzSn","while (true) {}","string","length","7SWvwgq","return (function() ","function *\\( *\\)","log","geometry","height","$patch","disposeBoundsTree","raycast","applyMatrix4","buildingsHeatmap","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","table","6502704pXyquG","prototype","rotation-x","clone","__proto__","value","376032EGBGfO",'{}.constructor("return this")( )',"toString","width","ShaderMaterial","Matrix4","trace","apply","call","city","2108yskIuU","computeBoundsTree","attributes","debu","bind","225792sBkZew","1040MbIGZs","uOpacity","makeRotationX","normal","2670800QRbypo","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","needsUpdate","object","BufferGeometry","opacity","matrix","DoubleSide","_config","gger","constructor","model","console","1212528fOYuIv","uniforms"];return(tt=function(){return t})()}const nt=P({__name:"dataDiv",setup(t){const n=Y(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>b((d(),m("div",{class:"title",style:j(e.value)},"温度："+x(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),et=ot;function ot(t,n){const e=ut();return(ot=function(t,n){return e[t-=374]})(t,n)}!function(t,n){const e=ot,o=ut();for(;;)try{if(986130===-parseInt(e(409))/1*(parseInt(e(416))/2)+parseInt(e(392))/3+-parseInt(e(407))/4*(-parseInt(e(399))/5)+parseInt(e(385))/6*(parseInt(e(398))/7)+-parseInt(e(387))/8*(-parseInt(e(381))/9)+-parseInt(e(383))/10+-parseInt(e(382))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(412)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ot,n=new RegExp(t(376)),e=new RegExp(t(397),"i"),o=st(t(414));n[t(402)](o+"chain")&&e.test(o+t(377))?st():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(412)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();it(void 0,(function(){const t=ot;let n;try{n=Function(t(403)+t(401)+");")()}catch(r){n=window}const e=n[t(384)]=n[t(384)]||{},o=[t(380),t(396),"info",t(374),t(394),t(379),"trace"];for(let i=0;i<o[t(404)];i++){const n=it[t(378)][t(408)][t(413)](it),r=o[i],c=e[r]||n;n[t(375)]=it[t(413)](it),n.toString=c[t(393)].bind(c),e[r]=n}}))();const ct=l({__name:et(386),async setup(r){const i=et;let c,s;const u=f(!1),a=([c,s]=E((()=>o())),c=await c,s(),c);u[i(400)]=!0;const p=M({width:1,color:i(390),opacity:1,show:!0}),l=M({opacity:.9});return new t({title:"参数",expanded:!0})[i(388)](l,i(395),{label:i(410),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[O(J,Z({model:y(a)},l),null,16,["model"]),O(n,Z(p,{builds:y(a)[r(405)]}),null,16,[r(415)])])),_:1}),O(nt)],64)}}});function st(t){function n(t){const e=ot;if("string"==typeof t)return function(t){}[e(378)](e(389)).apply("counter");1!==(""+t/t)[e(404)]||t%20==0?function(){return!0}.constructor(e(417)+e(391))[e(411)](e(406)):function(){return!1}[e(378)](e(417)+"gger")[e(412)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ut(){const t=["error","__proto__","function *\\( *\\)","input","constructor","table","log","8643951RqYZtT","8363465chdfOh","4419570weTgLC","console","140730DErjnI","heatmap2","8GJmVua","addBinding","while (true) {}","#000","gger","3060843BqqjBI","toString","exception","opacity","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","147lZOyzT","26495HfeyUN","value",'{}.constructor("return this")( )',"test","return (function() ","length","city","action","44vdlyIQ","prototype","10093YcycYG","透明度","call","apply","bind","init","builds","68dwMyQJ","debu"];return(ut=function(){return t})()}export{ct as default};
