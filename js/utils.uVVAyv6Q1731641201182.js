import{a as t,B as n,s as e,b$ as o,C as r,k as s,a0 as i}from"./three.-z-VOBM71731641201182.js";import{w as c}from"./@fesjs.Y6wvFf_31731641201182.js";import{b as u}from"./@tresjs.b88d4FZI1731641201182.js";import{c as a,d as p,a as f}from"./three-mesh-bvh.cO6YqTc81731641201182.js";!function(t,n){const e=h,o=b();for(;;)try{if(247402===-parseInt(e(507))/1+-parseInt(e(502))/2+parseInt(e(495))/3*(parseInt(e(491))/4)+-parseInt(e(525))/5*(parseInt(e(520))/6)+parseInt(e(500))/7*(-parseInt(e(469))/8)+-parseInt(e(527))/9+parseInt(e(481))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(493)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=h,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(537),"i"),o=j(t(479));n[t(477)](o+t(486))&&e[t(477)](o+t(478))?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[h(493)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(t,n){const e=b();return(h=function(t,n){return e[t-=465]})(t,n)}g(void 0,(function(){const t=h;let n;try{n=Function(t(523)+t(471)+");")()}catch(r){n=window}const e=n[t(476)]=n[t(476)]||{},o=[t(474),t(529),"info","error",t(490),t(494),t(498)];for(let s=0;s<o.length;s++){const n=g[t(526)].prototype.bind(g),r=o[s],i=e[r]||n;n.__proto__=g[t(470)](g),n[t(467)]=i[t(467)][t(470)](i),e[r]=n}}))();const m=(n,e=!1)=>{const o=h;n[o(536)]();const{max:r,min:s}=n[o(484)];n[o(492)]("uv");const i=r.x-s.x,c=r.y-s.y,u=[];for(let t=0;t<n[o(482)].position[o(530)];t++)e?(u[o(465)]((n[o(482)][o(518)][o(534)](t)-(s.x+r.x)/2)/i),u.push((n[o(482)].position[o(503)](t)-(s.y+r.y)/2)/c)):(u.push((n.attributes[o(518)].getX(t)-s.x)/i),u[o(465)]((n[o(482)].position[o(503)](t)-s.y)/c));const a=new Float32Array(u);n[o(510)]("uv",new t(a,2))},d=(t,n)=>new Promise(((e,o)=>{const r=h;c(t,{},{method:r(528),mergeRequest:!0}).then((t=>{n&&e(t[n]),e(t.features)}))[r(475)]((t=>{console.error(t),o(t)}))})),w=t=>{const n=h,e=(new THREE.Box3)[n(511)](t),o=new(THREE[n(538)]);e.getCenter(o),t[n(506)][n(501)]((t=>{t[n(518)].sub(o)})),t[n(518)][n(483)](o[n(535)]())},y=()=>{const t=h;n[t(468)].computeBoundsTree=a,n[t(468)][t(517)]=p,e[t(468)][t(496)]=f};function b(){const t=["apply","table","1079349HSpmoS","raycast","length","trace","divideScalar","1768039rmukiW","forEach","287198ykuWKi","getY","geometry","action","children","1128BFKrDE","add","applyMatrix4","setAttribute","setFromObject","random","setY","#fff","material","transparent","disposeBoundsTree","position","string","6iJLLJd","reflectivity","min","return (function() ","gger","189235jiQuYs","constructor","2501145hkHnQi","get","warn","count","clone","while (true) {}","stateObject","getX","negate","computeBoundingBox","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","Vector3","push","call","toString","prototype","8ZasLbA","bind",'{}.constructor("return this")( )',"computeBoundsTree","getCenter","log","catch","console","test","input","init","uniforms","6006750ZwOsRb","attributes","copy","boundingBox","sub","chain","side","value","getSize","exception","4tQvXEl","deleteAttribute"];return(b=function(){return t})()}const x=async t=>{const n=h,e=await u(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(504)][n(531)]();m(c),c[n(472)]();const a=new o(c,{color:new r(n(514)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return a[n(515)][n(516)]=!0,a[n(515)].depthWrite=!0,a[n(515)].depthTest=!0,a[n(515)][n(487)]=i,a[n(515)][n(480)].config.value.w=20,a[n(515)][n(480)][n(521)][n(488)]=.46,a};function _(t){const n=h,e=[];for(let r=0;r<t[n(497)];r++)e[n(465)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e.length;r++)o[n(508)](e[r]);o[n(499)](e[n(497)]);for(let r=0;r<e[n(497)];r++)e[r][n(485)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=h;if(typeof t===e(519))return function(t){}.constructor(e(532))[e(493)]("counter");1!==(""+t/t)[e(497)]||t%20==0?function(){return!0}.constructor("debu"+e(524))[e(466)](e(505)):function(){return!1}[e(526)]("debu"+e(524))[e(493)](e(533)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,_ as g,y as i,d as l,m as r,x as s};
