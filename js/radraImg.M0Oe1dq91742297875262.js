import{a as t,m as n,o as e}from"./@tresjs.oW7bfow21742297875262.js";import{_ as o,Y as r,a0 as i,b as c}from"./three.N4lg2KsY1742297875262.js";import{h as s,_ as a}from"./three-tile.TtZzIr8M1742297875262.js";import{_ as u}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.snQ-ZSxT1742297875262.js";import{d as p,a3 as l,w as f,o as m,H as h,N as g,u as d,r as y,b,f as I,g as w,j as _,m as j,al as v,F as x,e as S,aj as D,ak as T}from"./@vue.NRI7TcgI1742297875262.js";import{P as M}from"./tweakpane.yDiyAAkA1742297875262.js";import{_ as E}from"./informationDiv.iFzAXaXK1742297875262.js";import"./postprocessing.9PKUyDJ51742297875262.js";import"./@vueuse.Y8_DCJgq1742297875262.js";import"./@fesjs.5gYNbdbo1742297875262.js";import"./vue-router.voBLX0XL1742297875262.js";import"./lodash-es.pklfUAS51742297875262.js";import"./@qlin.yHhFDldE1742297875262.js";import"./pinia.qX8pw0bq1742297875262.js";import"./@floating-ui.BPbuo5Gx1742297875262.js";import"./@juggle.7yjBMqoW1742297875262.js";const F=z;function P(){const t=["stateObject","console","6iWODWK","trace","debu","needsUpdate","2902595gUqlmW","TresGroup","test","5397648LhDWPH","applyMatrix4","apply","__proto__","Vector3","material","40.png","position-y","log","constructor","bind","8BUIevY","scale","1418967iEgyux","height","exception",'{}.constructor("return this")( )',"4743288uUPFpE","counter","position","gger","color","function *\\( *\\)","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com","resource.cos","uniform sampler2D map;\n\t","vertexShader","init","map","#include <displacementmap_vertex>","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","call","info","1541752TSJNcA","1791433UgAPMq","TresPlaneGeometry","radraImgShow","string","scaleImg","opacity","TresMesh","prototype","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","return (function() ","34157RbQpbw","action","geo2pos","MeshPhongMaterial","matrix","table","onBeforeCompile","toString","length"];return(P=function(){return t})()}!function(t,n){const e=z,o=P();for(;;)try{if(414377===-parseInt(e(398))/1*(-parseInt(e(364))/2)+-parseInt(e(366))/3+parseInt(e(387))/4+-parseInt(e(350))/5+-parseInt(e(409))/6*(parseInt(e(388))/7)+parseInt(e(353))/8+parseInt(e(370))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(355)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=z,n=new RegExp(t(375)),e=new RegExp(t(384),"i"),o=L(t(380));n[t(352)](o+"chain")&&e[t(352)](o+"input")?L():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(355)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(t,n){const e=P();return(z=function(t,n){return e[t-=347]})(t,n)}k(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(397)+t(369)+");")()}catch(e){n=window}return n}(),e=n[t(408)]=n[t(408)]||{},o=[t(361),"warn",t(386),"error",t(368),t(403),t(347)];for(let r=0;r<o.length;r++){const n=k[t(362)][t(395)][t(363)](k),i=o[r],c=e[i]||n;n[t(356)]=k[t(363)](k),n[t(405)]=c[t(405)].bind(c),e[i]=n}}))();const B=[F(372)],U=[F(365),F(358),"rotateX",F(360)],H=p({__name:F(390),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=F;let c,s;const a=n,p=new(o[e(401)])({displacementMap:new r,transparent:!0,side:i,opacity:a.opacity,displacementScale:.5,displacementBias:0});p[e(404)]=t=>{const n=e;t[n(379)]=n(378)+t[n(379)],t[n(379)]=t.vertexShader.replace(n(382),n(396))};const y=a[e(381)][e(400)](new(o[e(357)])(105,34,0));y[e(354)](a[e(381)][e(402)]);const b=u[e(392)](a.map,{x:67,y:11},{x:140,y:57},a[e(367)]),I=[];for(let t=0;t<9;t++)I.push(e(376)+"/images/simpleGIS/QPFRef_202405311"+t+e(359));let w=0;const _=([c,s]=l((()=>t(I))),c=await c,s(),c);p[e(381)]=_[w],f((()=>[a[e(374)],a[e(393)]]),(([t,n])=>{p[e(393)]=n}));let j=null,v=!1;return v?(clearInterval(j),j=null,v=!1):(j=setInterval((()=>{const t=z;w=w<I[t(406)]-1?w+1:0,p.map=_[w],p[t(349)]=!0,console.log(w)}),1e3),v=!0),(t,n)=>{const o=e;return m(),h(o(351),{position:[...d(y)]},[g(o(394),{scale:[d(b).x,d(b).y,t.height],material:d(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(367)]/5},n[0]||(n[0]=[g(o(389),{args:[1,1,529,420]},null,-1)]),8,U)],8,B)}}});function L(t){function n(t){const e=z;if(typeof t===e(391))return function(t){}[e(362)](e(383))[e(355)](e(371));1!==(""+t/t)[e(406)]||t%20==0?function(){return!0}[e(362)](e(348)+e(373))[e(385)](e(399)):function(){return!1}.constructor(e(348)+e(373))[e(355)](e(407)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function N(){const t=["map","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","image","geo2pos","log","init","43757840FoJvqA","target","input","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBinding","return (function() ","trace","opacity","__proto__","terrain-rgb","domElement","test","apply","console","localToWorld","rotateX","gger","339VtDwXq","TileMap","GDSource","MapBoxSource","action","toString","height","debu","length","table","plugin","showLocation","call","9905cSdNSe","counter","9368OqxfUV","exception","info","493602gPcxpu","mapbox.terrain-rgb","11750580NnhAcw","constructor","copy","string","value","1237082jiuEna","object","733950hvIBOb","controlsEvents","110FJcoQL","error","position","1920NgXSIw","warn","stateObject","mapBoxShow3","bind","TresDirectionalLight","primitive","while (true) {}",'{}.constructor("return this")( )',"Vector3","tdLight"];return(N=function(){return t})()}const q=R;!function(t,n){const e=R,o=N();for(;;)try{if(916314===-parseInt(e(470))/1+-parseInt(e(468))/2+-parseInt(e(443))/3*(-parseInt(e(475))/4)+parseInt(e(472))/5*(-parseInt(e(461))/6)+parseInt(e(456))/7*(-parseInt(e(458))/8)+parseInt(e(463))/9+parseInt(e(492))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(505)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=R,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(496),"i"),o=Q(t(491));n[t(504)](o+t(495))&&e[t(504)](o+t(494))?Q():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function R(t,n){const e=N();return(R=function(t,n){return e[t-=443]})(t,n)}O(void 0,(function(){const t=R;let n;try{n=Function(t(498)+t(483)+");")()}catch(r){n=window}const e=n[t(506)]=n[t(506)]||{},o=[t(490),t(476),t(460),t(473),t(459),t(452),t(499)];for(let i=0;i<o[t(451)];i++){const n=O[t(464)].prototype.bind(O),r=o[i],c=e[r]||n;n[t(501)]=O.bind(O),n[t(448)]=c.toString[t(479)](c),e[r]=n}}))();const W=[q(469)],Z=q(487),J=p({__name:q(478),setup(t){const e=q,r=y({height:200,opacity:1}),i=new M({title:"参数"});i[e(497)](r,e(449),{label:"高度",min:10,max:300,step:1}),i[e(497)](r,e(500),{label:"透明度",min:0,max:1,step:.1}),new s.MapBoxSource({token:Z,dataType:e(488),style:"mapbox.satellite"});const p=new(s[e(446)])({token:Z,dataType:e(502),style:e(462),maxLevel:15}),l=new(a[e(444)])({imgSource:[new(a[e(453)].GDSource)({style:"6"}),new(a[e(453)][e(445)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});l[e(508)](-Math.PI/2);const S=new(o[e(484)])(105,34,0),D=new c(110,0,1e4),T=l[e(507)](l[e(489)](S)),E=l[e(507)](l[e(489)](D)),F=b(),{camera:P,controls:A,scene:k,renderer:z}=n();return P.value&&P[e(467)][e(474)][e(465)](E),f((()=>A[e(467)]),(t=>{const n=e;t&&(t.target[n(465)](T),u[n(471)](t,P[n(467)],k.value))})),f((()=>F[e(467)]),(t=>{t&&t[e(493)].position.copy(T)})),u[e(454)](P[e(467)],z.value[e(503)],l),(t,n)=>{const o=e;return m(),h(x,null,[g(o(480),{ref_key:o(485),ref:F,position:[0,2e3,1e3],intensity:1},null,512),g(o(481),{object:d(l)},null,8,W),(m(),I(v,null,{default:w((()=>[_(H,j({map:d(l)},r),null,16,[o(486)])])),_:1}))],64)}}});function Q(t){function n(t){const e=R;if(typeof t===e(466))return function(t){}[e(464)](e(482))[e(505)](e(457));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(450)+e(509))[e(455)](e(447)):function(){return!1}.constructor("debugger")[e(505)](e(477)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=C;!function(t,n){const e=C,o=K();for(;;)try{if(774858===-parseInt(e(179))/1*(parseInt(e(181))/2)+-parseInt(e(187))/3+parseInt(e(150))/4+parseInt(e(155))/5*(-parseInt(e(154))/6)+-parseInt(e(148))/7*(parseInt(e(147))/8)+parseInt(e(156))/9*(parseInt(e(176))/10)+parseInt(e(152))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(169)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=C,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(159),"i"),o=tt(t(165));n[t(163)](o+t(185))&&e[t(163)](o+"input")?tt():o("0")}))()}();const V=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(169)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function C(t,n){const e=K();return(C=function(t,n){return e[t-=147]})(t,n)}function K(){const t=["2948298lZThEQ","314544yaDDFz","224JfcTHM","gger","4137668VrSoKn","warn","14746479ffHHdK","prototype","2406006beUHEm","10bcNUdO","29331Jvxjsr","constructor","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","TresCanvas","toString","test","length","init","stateObject","counter","trace","apply","action","call","while (true) {}","log","TresPerspectiveCamera","radraImg","4630HdGXjF","string","debu","11aKpPnt","__proto__","12022qFonwi","error",'{}.constructor("return this")( )',"info","chain","exception"];return(K=function(){return t})()}V(void 0,(function(){const t=C;let n;try{n=Function("return (function() "+t(183)+");")()}catch(r){n=window}const e=n[t(160)]=n[t(160)]||{},o=[t(173),t(151),t(184),t(182),t(186),"table",t(168)];for(let i=0;i<o.length;i++){const n=V.constructor[t(153)][t(158)](V),r=o[i],c=e[r]||n;n[t(180)]=V.bind(V),n[t(162)]=c[t(162)][t(158)](c),e[r]=n}}))();const Y=p({__name:X(175),setup(t){const n=y({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:"highp"}),o=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,r)=>{const i=C,c=S(i(161));return m(),h(x,null,[_(c,j(n,{"window-size":""}),{default:w((()=>[r[0]||(r[0]=g(i(174),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),_(d(e),D(T(o)),null,16),r[1]||(r[1]=g("TresAmbientLight",{intensity:1},null,-1)),_(J)])),_:1},16),_(E)],64)}}});function tt(t){function n(t){const e=C;if(typeof t===e(177))return function(t){}[e(157)](e(172))[e(169)](e(167));1!==(""+t/t)[e(164)]||t%20==0?function(){return!0}[e(157)]("debu"+e(149))[e(171)](e(170)):function(){return!1}[e(157)](e(178)+e(149)).apply(e(166)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
