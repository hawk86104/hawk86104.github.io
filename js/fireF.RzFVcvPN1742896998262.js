import{b as t}from"./pagesShow.vue_vue_type_script_setup_true_lang.CXSzGukN1742896998262.js";import{t as e,_ as s,V as n,C as i,e as r,bU as a,a8 as o,b as c,h,cD as l,cE as u,au as p}from"./three.0CcRceKb1742896998262.js";import{m as f,e as m}from"./@tresjs.KzbsBNvc1742896998262.js";import{d,b as w,a2 as g,o as S,f as y,g as v,j as x}from"./@vue.L-brCdZe1742896998262.js";import"./three-custom-shader-material.IukAW29E1742896998262.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1742896998262.js";import"./postprocessing.JNDZZkh81742896998262.js";import"./@vueuse.AtktgvWs1742896998262.js";const I=ut;!function(t,e){const s=ut,n=b();for(;;)try{if(232745===parseInt(s(671))/1+-parseInt(s(670))/2*(-parseInt(s(758))/3)+-parseInt(s(733))/4*(-parseInt(s(754))/5)+-parseInt(s(459))/6+-parseInt(s(713))/7*(parseInt(s(468))/8)+parseInt(s(833))/9*(parseInt(s(706))/10)+parseInt(s(609))/11*(-parseInt(s(837))/12))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();class P{static Time=new P(I(776));static[I(759)]=new P("Sequence");constructor(t){this.name=t}}class A{constructor(){this[I(757)]()}[I(757)](){const t=I;this[t(591)]=P[t(776)],this[t(766)]=1,this.age=0,this[t(467)]=new e,this[t(542)]=new(s[t(794)]),this.velocity=new(s[t(794)]),this[t(674)]=new(s[t(794)]),this[t(549)]=new(s[t(794)]),this[t(854)]=0,this[t(791)]=0,this[t(493)]=new(s[t(652)]),this.color=new(s[t(392)]),this[t(596)]=1,this[t(762)]=new n,this.initialColor=new i,this[t(774)]=1}[I(619)](t,e,s,n,i,r,a,o,c,h,l,u,p,f,m,d){const w=I;this[w(591)]=t,this[w(766)]=e,this[w(650)]=s,this[w(467)].copy(n),this[w(542)][w(548)](i),this.velocity[w(548)](r),this[w(674)][w(548)](a),this[w(549)][w(548)](o),this[w(854)]=c,this.rotationalSpeed=h,this.size=l,this[w(494)][w(548)](u),this[w(596)]=p,this[w(762)][w(548)](f),this[w(414)][w(548)](m),this[w(774)]=d}copyTo(t){const e=I;t.setAll(this[e(591)],this[e(766)],this[e(650)],this[e(467)],this[e(542)],this[e(377)],this[e(674)],this[e(549)],this.rotation,this.rotationalSpeed,this[e(493)],this.color,this.alpha,this.initialSize,this[e(414)],this[e(774)])}[I(548)](t){const e=I;this[e(619)](t[e(591)],t[e(766)],t[e(650)],t.sequenceElement,t[e(542)],t[e(377)],t[e(674)],t[e(549)],t[e(854)],t[e(791)],t[e(493)],t[e(494)],t[e(596)],t[e(762)],t[e(414)],t[e(774)])}}class F{constructor(){const t=I;this[t(495)]=0,this[t(400)]=0,this[t(476)]=[]}[I(757)](t){this.setParticleCount(t)}[I(613)](t){const e=I;this[e(495)]!=t&&(this[e(813)](),this[e(572)](t)),this[e(495)]=t}setActiveParticleCount(t){this[I(400)]=t}[I(572)](t){const e=I;this[e(476)]=[],this[e(495)]=t;for(let s=0;s<t;s++)this[e(476)][s]=new A}[I(813)](){}[I(688)](){return this[I(495)]}[I(741)](){}[I(464)](t,e){const s=I;if(t>=this[s(495)])throw new Error(s(502));if(e>=this.particleCount)throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const n=this[s(476)][t],i=this[s(476)][e];n[s(543)](i)}[I(704)](t,e){const s=I;if(t>=this[s(495)])throw new Error(s(538));return this[s(476)][t][s(548)](e)}[I(834)](t){const e=I;if(t>=this[e(495)])throw new Error('ParticleStateArray::getState() -> "index" is out of range.');return this[e(476)][t]}computeBoundingBox=function(){const t=I,e=new(s[t(794)]);return function(n=new(s[t(748)]),i=null){const r=t,a=n[r(855)],o=n.max;for(let t=0;t<this[r(400)];t++){const s=this[r(834)](t);let n=s[r(542)];i&&(e[r(548)](n),e[r(827)](i),n=e);const c=Math[r(628)](s.size.x,s[r(493)].y),h=n.x-c,l=n.x+c,u=n.y-c,p=n.y+c,f=n.z-c,m=n.z+c;(0==t||n.x<a.x)&&(a.x=h),(0==t||n.x>o.x)&&(o.x=l),(0==t||n.y<a.y)&&(a.y=u),(0==t||n.y>o.y)&&(o.y=p),(0==t||n.z<a.z)&&(a.z=f),(0==t||n.z>o.z)&&(o.z=m)}return n}}();[I(744)]=function(){const t=I,e=new(s[t(794)]),n=new(s[t(794)]),i=new(s[t(794)]);return function(s=new r,a=null){const o=t;let c=0;for(let t=0;t<this[o(400)];t++){const s=this[o(834)](t);let r=s[o(542)];a&&(i.copy(r),i[o(827)](a),r=i);const h=Math.max(s[o(493)].x,s[o(493)].y);if(0==t)e[o(548)](r),c=h;else{n[o(548)](r).sub(e);const t=n[o(489)]()+h;if(t>c){const s=(t-c)/2;n.normalize()[o(570)](s),e[o(612)](n),c+=s}}}return s.center[o(548)](e),s[o(851)]=c,s}}()}class T{constructor(t,e,s=0){this[I(557)]=t,this.length=e,this.id=s}}function b(){const t=["void main()\n","exception","baseURI","renderOrder","call","width","stop","varying float vSequenceElementT; \n","velocity","   float atlasFrameWidth = atlasFrames.z; \n","console","source","   float atlasFrameHeight = atlasFrames.w; \n","NormalBlending","getParticleStates","render","transformDirection","update","parseNamespaceAndTypename","emissionMaximum","gger","set","getRotations","Color","setAttribute","cameraFar","autoClear","needsUpdate","colors","loop","getParameterJSON","activeParticleCount","emitCount","tValues","timeActive","       upperSide = upperSideStep.x + upperSideStep.y;\n","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","matrixWorld","bind","addType","fromArray","offsetTheta","updateMeshBounds","getTypeNames","JSONTypeStore::addTypeToNamespace() -> typeName already exists","initialColor","jsonTypeNames","lastUpdateTime","ParticleSystem::init() -> trying to intialize more than once.","varying vec3 vFragColor;\n","positions","addSequence","getParticleStateInitializer","getParticleState","transformInitialDirectionInWorldSpace","       float dRightV = rotVecStep.w - rotVecStep.z; \n","SrcAlphaFactor","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","   float upperSide; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","remove","getSequence","function *\\( *\\)","addParticleStateOperator","localT","       viewPosition = viewMatrix * particlePosition;\n","   vec2 rotVec; \n","counter","attribute vec4 sequenceElement;\n","   vec4 color2 = color1; \n","   int firstSequenceElement = int(sequenceElementF); \n","   const vec2 left = vec2(-1.0, 0.0);\n","light","getVisible","join","range","fromJSON","   int sequenceNumber = int(sequenceElement.y);\n","getLight","getInterpolatorForTypeID","sqrt","basePositions","getFrameSet","       rotVec = position.xy; \n ","   const vec2 dRight = vec2(1.0, -1.0);\n","systemState","lastPositionFlickerTime","sin","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","texturePath","355422MZczXi",'ContinuousArray::getElement() -> "index" is out of bounds.',"geometry","offsetRadius","element","copyState","object","progressTypes","sequenceElement","98776YlgeUX","addParticleStateInitializer","verticesPerParticle","getParticleStateOperatorCount","lastIntensityFlickerTime","lastPositionAdjuster","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","getMaximumActiveParticles","particleStates","emissionDuration","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","getElement",'ComponentContainer::getComponent() -> "index" is out of range.',"map","addTypeToNamespace","getParticleSystemRenderer","BufferAttribute","speedGenerator","addElements","getParticleStateInitializerCount","uniform int instanced; \n","length","       upperSide = baseUV.y; \n","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","simulateInWorldSpace","size","color","particleCount","calculateBoundingSphereFromBox","attribute vec2 size;\n","addElement","offsetPhi","setTransformInitialDirectionInWorldSpace","uniform vec2 uvOffset;\n",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"initialAlphas","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","addParticleSystem","uniformOffset","   vec2 uv2; \n","hasID","test","addElementsFromElementClassAndParameters","now","setXY","hasOwnProperty","DynamicDrawUsage","Sphere","getSequenceIDs","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n","Additive","rangePhi","getTexture","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","iterator","addParticleSequence","elements","mapSize","cameraNear","setX","updateBounds","upperIndex","varying vec2 vUV2;\n","owner","sequences","default","getVertexShader","return (function() ","toArray","accelerations",'ParticleStateArray::setState() -> "index" is out of range.',"varying vec2 vUV1;\n","   const vec2 uLeft = vec2(-1.0, 1.0);\n","initialized","position","copyTo","function","AdditiveBlending","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","Default","copy","normal","activateParticles","} \n","material","getTypePath","timeScaledAcceleration","   vec2 uv1; \n","tValue","start","onUpdateCallback","Running","rangeTheta","atlas","NotStarted","uniform sampler2D atlasTexture;\n","stateObject","name","maxParticleCount","getInterpolationValuesForTValue","BufferGeometry","setActiveParticleCount","multiplyScalar","offset","allocate","__proto__","getParticleStateArray","parseTypeString","emissionRate","Mesh","load","const int MAX_ATLAS_FRAME_SETS = 16; \n","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","toJSON","getColors","varying float vFragAlpha;\n","setDrawRange","intensity","rangeRadius","split","castShadow","   }  else { \n","progressType","addComponent","addNamespace","calculatingBoundingSphereFromBox","   vFragAlpha = alpha; \n","alpha","interpolateFrames","constructor",'ParticleSystem::getParticleState() -> "index" is out of range.',"activateParticle","Object3D","getParticleSequences","instanced","prototype","cos","InstancedBufferAttribute","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","particleStateOperators","19811CWaMiL","VertexVars","normalize","add","setParticleCount","relativeToInitialValue","tempUp","addElementsFromParameters","currentSrc","offsetZ","setAll","near","   int nRowYTile = int(SNOverHS);\n","getInterpolatedElement","getType","speedOffset","setUsage","particlePosition","getTexturePath","max","matrixWorldNeedsUpdate","Normal","typeIDGen","timeScaledVelocity","getSequenceElements","#include <common>","Matrix4","uniform int simulateInWorldSpace; \n","Done","   \n  #include <logdepthbuf_vertex> \n","string","   const vec2 up = vec2(0.0, 1.0);\n","rotationalSpeeds","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","updateWorldMatrix","attribute float alpha;\n","lowerIndex","action","void main() { \n","stateVelocity","       rightSide = step(2.0, customIndex); \n","age","center","Vector2","interpolator","chain","operators","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","texture","nextIntensityAdjuster","ShaderMaterial","getTypeID","   } \n","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   int sequenceStart = int(sequenceElement.z);\n","getSimulateInWorldSpace","getComponent","setOwner","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","params","rotations","84308EoKHNl","803lrkDer","keys","reverse","acceleration","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","updateEmitCount","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","positionAdjuster","randomGenerator","setBoundingBox","setXYZ","   const vec2 uRight = vec2(1.0, 1.0);\n","addFrameSet","emissionMinimum","computeBoundingBox","   } else { \n","particleStateArray","getParticleCount","setIntensity","   float uvXOffset = atlasFrameWidth * rightSide; \n","info","getActiveParticleCount","splice","componentContainer","generate","log","ParticleSequenceGroup::getSequence -> Invalid ID.","   vFragColor = color; \n","FragmentVars","  \n #include <logdepthbuf_pars_fragment> \n","attribute vec3 color;\n","PointLight","debu","setState","   float rotMag = rotation; \n","26700VrAKEg","lastIntensityAdjuster","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","intensityFlux","push","   float uvYOffset = atlasFrameHeight * upperSide; \n","getEmitter","77mwSnRx","mesh","alphas","getSizes","uniformRange","lifetimes","Shader","elementTypeID","instanceCount","  \n #include <logdepthbuf_pars_vertex> \n","scaleZ","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","JSONTypeStore::addNamespace() -> namespace already exists","setParticleSequences","while (true) {}","floor","initialColors","outType","advanceActiveParticle","renderer","1396GpMeLJ","random","initialSizes","boundingSphere","namespace","v4v","currentTime","   gl_FragColor.a *= vFragAlpha; \n","flushParticleStateToBuffers","getGeometry","baseUV","computeBoundingSphere","createMaterial","   vec4 viewPosition; \n","___photonsTypeID","Box3","type","edgeRadius","far","scaleY","maximumActiveParticles","895aYBalS","toString","initializeState","init","30DLpwhv","Sequence","startupTime","indexOf","initialSize","jsonTypes","getFrameSetCount","varying float vSequenceElementT;\n","lifetime","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getFragmentShader","baseUVs","updateState","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","advanceActiveParticles","   const vec2 down = vec2(0.0, -1.0);\n","initialAlpha","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","Time","ages","stateAcceleration","   if (instanced != 1) { \n","clone","initializers","       rightSide = baseUV.x; \n","Vector4","   int sequenceLength = int(sequenceElement.w);\n","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","shadow","internalUpdate","apply","offsetX","camera","rotationalSpeed","normals","parent","Vector3","scaleX","blending","boundingBox","visible","checkAndAddTypeName","emitterInitialized","particleStateInitializers","onUpdate","setRGB","JSONTypeStore::getType() -> typeName does not exist","getElementCount","interpolateAtlasFrames","uniform int interpolateAtlasFrames; \n","particleSystemRenderer","loadJSONParameter","velocities","attribute float rotation;\n","components","dispose","interpolationElements","clamp","getInterpolatedValue","getParticleStateOperator","       float uLeftV = rotVecStep.x; \n","Renderer::init() -> trying to intialize more than once.","setSimulateInWorldSpace","customIndexes","sequenceElements","speed","particleEmitter","particleSequences","TextureLoader","applyMatrix4","ids","getTValue","   const vec2 right = vec2(1.0, 0.0);\n","sizes","customIndex","81LboKAV","getState","attribute vec2 baseUV;\n","normalizeDirection","540rxUNIj","emissionRelativeStartTime","setBoundingSphere","bias","Paused","    \n  #include <logdepthbuf_fragment> \n","generator","warn","outTypeID","generateForElement","offsetY","directionGenerator","value","copyParticleInArray","radius","frameSets","setVisibile","rotation","min","particleSystems","   float rightSide; \n"];return(b=function(){return t})()}class z{constructor(){const t=I;this[t(532)]={},this[t(828)]=[]}[I(420)](t,e,s){const n=I;if(this[n(508)](s))throw new Error(n(474));const i=new T(t,e,s);return this[n(532)][s]=i,this.ids[n(710)](s),i}[I(430)](t){const e=I;if(!this[e(508)](t))throw new Error(e(697));return this[e(532)][t]}[I(516)](){return this[I(828)]}[I(508)](t){return!!this[I(532)][t]}}class E{constructor(){}[I(756)](t){const e=I;t[e(414)][e(390)](1,1,1),t[e(762)][e(390)](1,1),t[e(774)]=1,t[e(591)]=P[e(776)],t[e(766)]=0,t[e(650)]=0,t[e(467)][e(390)](0,0,0,0),t.position.set(0,0,0),t[e(377)][e(390)](0,0,0),t[e(674)][e(390)](0,0,0),t.normal[e(390)](0,0,1),t.rotation=0,t[e(791)]=0,t[e(493)].copy(t[e(762)]),t[e(494)][e(548)](t[e(414)]),t.alpha=1}}class R extends E{constructor(){super()}[I(756)](t){super.initializeState(t)}}class O{constructor(){}updateState(){}}class V extends O{constructor(){const t=I;super(),this[t(632)]=new(s[t(794)]),this[t(554)]=new(s[t(794)]),this[t(778)]=new(s[t(794)]),this[t(648)]=new(s[t(794)])}[I(770)](t,e){const s=I;return super[s(770)](t,e),this[s(778)].copy(t[s(674)]),this[s(554)][s(548)](this[s(778)]),this[s(554)][s(570)](e),t[s(377)][s(612)](this[s(554)]),this.stateVelocity.copy(t[s(377)]),this.timeScaledVelocity[s(548)](this[s(648)]),this[s(632)].multiplyScalar(e),t[s(542)][s(612)](this[s(632)]),t[s(650)]=t.age+e,t.rotation=t[s(854)]+e*t.rotationalSpeed,!0}}class C{static[I(815)](t,e,s){const n=I;return Math[n(855)](Math[n(628)](t,e),s)}static[I(739)](){return performance[I(511)]()/1e3}}class q{constructor(){this.components=[]}[I(592)](t){this[I(812)].push(t)}[I(386)](t,e){const s=I;for(const n of this[s(812)])n.update(t,e)}[I(665)](t){const e=I;if(t>=this[e(812)][e(489)])throw new Error(e(480));return this.components[t]}}class M{static[I(562)]=new M(I(562));static[I(559)]=new M(I(559));static[I(841)]=new M(I(841));static[I(637)]=new M(I(637));constructor(t){this.name=t}}class N{constructor(t,e){const n=I;this[n(531)]=t,this.owner.visible=!1,this[n(798)]=!0,this.particleSystemRenderer=e,this[n(541)]=!1,this.maximumActiveParticles=0,this[n(400)]=0,this[n(492)]=!0,this[n(800)]=!1,this.particleEmitter=null,this.componentContainer=new q,this.particleStateInitializers=[],this[n(608)]=[],this[n(476)]=null,this[n(454)]=M[n(562)],this[n(825)]=new z,this.onUpdateCallback=null,this.transformInitialDirectionInWorldSpace=!0,this[n(797)]=new(s[n(748)]),this[n(736)]=new(s[n(515)])}[I(757)](t){const e=I;if(this.initialized)throw new Error(e(417));this.maximumActiveParticles=t,this.particleSystemRenderer?(this[e(808)][e(666)](this[e(531)]),this[e(808)][e(757)](this[e(753)],this[e(492)]),this[e(808)][e(820)](this[e(492)]),this[e(476)]=this[e(808)][e(574)]()):(this[e(476)]=new F,this[e(476)].init(this[e(753)])),this[e(469)](new R),this.addParticleStateOperator(new V),this[e(541)]=!0}getVisible(){return this[I(798)]}[I(853)](t){return this[I(798)]=t}[I(802)](t){this.onUpdateCallback=t}update(t,e){const s=I;if(this[s(454)]==M.Running){if(this.owner[s(643)](!0),t=null==t||null==t?C.currentTime():t,e=null==e||null==e?t-this.lastUpdateTime:e,this[s(800)]&&this[s(454)]==M[s(559)]){const t=this[s(824)][s(386)](e);t>0&&this[s(550)](t),this[s(772)](e),this[s(558)]&&this[s(558)](this[s(400)]),this[s(528)]()}this.componentContainer.update(t,e),this[s(416)]=t}}[I(384)](t,e){const s=I;if(this[s(442)]()&&this[s(808)]){const n=t[s(395)];t[s(395)]=!1,this[s(531)][s(798)]=!0,this[s(531)][s(629)]=!0,this[s(808)][s(384)](this[s(531)],t,e),this.owner[s(798)]=!1,t[s(395)]=n}}[I(557)](){const t=I;this[t(454)]!=M[t(562)]&&this[t(454)]!=M.Paused||(this[t(454)]=M[t(559)],this.startTime=C[t(739)](),this[t(416)]=this.startTime)}pause(){const t=I;this[t(454)]==M[t(559)]&&(this.systemState=M[t(841)])}[I(375)](){}getSystemState(){return this.systemState}setEmitter(t){const e=I;return this[e(824)]=t,this[e(824)][e(753)]=this[e(753)],this[e(800)]=!0,this[e(824)]}[I(592)](t){const e=I;this[e(694)][e(592)](t)}[I(665)](t){const e=I;return this.componentContainer[e(665)](t)}[I(469)](t){const e=I;return this[e(801)][e(710)](t),t}[I(487)](){return this.particleStateInitializers.length}[I(421)](t){const e=I;if(t>=this.particleStateInitializers[e(489)])throw new Error('ParticleSystem::getParticleStateInitializer() -> "index" is out of range.');return this[e(801)][t]}[I(432)](t){const e=I;return this.particleStateOperators[e(710)](t),t}[I(471)](){const t=I;return this.particleStateOperators[t(489)]}getParticleStateOperator(t){const e=I;if(t>=this.particleStateOperators[e(489)])throw new Error('ParticleSystem::getParticleStateOperator() -> "index" is out of range.');return this[e(608)][t]}[I(475)](){return this[I(753)]}[I(692)](){return this[I(400)]}[I(422)](t){const e=I;if(t>=this[e(400)])throw new Error(e(599));return this.particleStates[e(834)](t)}[I(383)](){return this[I(476)]}[I(483)](){return this[I(808)]}[I(664)](){return this[I(492)]}setSimulateInWorldSpace(t){const e=I;this[e(492)]=t,this[e(808)]&&this.particleSystemRenderer[e(820)](this.simulateInWorldSpace)}[I(500)](t){this[I(423)]=t}[I(523)](t,e,s=0){this[I(825)].addSequence(t,e,s)}[I(602)](){return this[I(825)]}getEmitter(){return this[I(824)]}updateBounds=function(){const t=I,e=new(s[t(635)]);return function(){const s=t;let n=null;this.transformInitialDirectionInWorldSpace&&(n=e,n[s(548)](this[s(531)][s(406)]).invert()),this[s(808)].calculatingBoundingSphereFromBox()?(this[s(476)][s(685)](this.boundingBox,n),this.particleSystemRenderer[s(680)](this[s(797)])):(this[s(476)][s(744)](this[s(736)],n),this[s(808)].setBoundingSphere(this[s(736)]))}}();[I(550)](t){const e=I;if(this[e(454)]==M[e(559)]){const s=C[e(815)](this[e(400)]+t,0,this.maximumActiveParticles);for(let t=this[e(400)];t<s;t++)this[e(600)](t);this.activeParticleCount=s,this[e(476)][e(569)](this[e(400)])}}activateParticle(t){const e=I;if(this[e(454)]==M[e(559)]){const s=this[e(476)].getState(t);s[e(650)]=0;for(let t=0;t<this[e(801)][e(489)];t++){this[e(801)][t][e(756)](s)}if(this.simulateInWorldSpace){s[e(542)][e(827)](this[e(531)][e(406)]);const t=s.velocity[e(489)]();if(this[e(423)]){s.velocity[e(385)](this[e(531)][e(406)])[e(570)](t);const n=s.acceleration[e(489)]();s.acceleration[e(385)](this[e(531)][e(406)])[e(570)](n)}}this.particleStates.flushParticleStateToBuffers(t)}}[I(772)](t){const e=I;if(this[e(454)]==M.Running){let s=0;for(;s<this[e(400)];){this[e(731)](s,t)?s++:(s<this[e(400)]-1&&this[e(850)](this.activeParticleCount-1,s),this[e(400)]--)}this[e(476)][e(569)](this[e(400)])}}[I(731)](t,e){const s=I;if(this[s(454)]==M[s(559)]){const n=this.particleStates.getState(t);for(let t=0;t<this[s(608)][s(489)];t++){const i=this.particleStateOperators[t][s(770)](n,e),r=n[s(766)];if(!i||0!=r&&n.age>=r)return!1}return this.particleStates[s(741)](t),!0}return!1}[I(850)](t,e){const s=I;this[s(476)][s(464)](t,e),this[s(476)][s(741)](e)}static[I(445)](t,e,n){const i=I,r=(t,e,s)=>{const n=ut;e(t);for(const i in t)if(t[n(513)](i)){const s=t[i];typeof s===n(465)&&r(s,e)}};r(t,(t=>{const s=ut;t[s(749)]&&(t[s(749)]=e[s(575)](t[s(749)]))}));const a=t[i(566)],o=t[i(492)],c=t[i(732)],h=c[i(749)][i(445)](c[i(668)]),l=new(s[i(601)]),u=new N(l,h,n);u[i(757)](a),u[i(820)](o);const p=t.emitter,f=p.type.fromJSON(p[i(668)]);if(u.setEmitter(f),t.sequences)for(const s of t[i(532)])u[i(523)](s[i(557)],s[i(489)],s.id);if(t[i(781)])for(const s of t[i(781)])u.addParticleStateInitializer(s.type[i(445)](u,s[i(668)]));if(t.operators)for(const s of t[i(655)]){const t=u.addParticleStateOperator(s[i(749)][i(445)](u,s[i(668)]));s[i(524)]&&t[i(616)](s[i(524)])}return[u,l]}[I(582)](t){const e=I,s=this[e(483)](),n=this[e(712)](),i=this[e(602)](),r=i[e(516)]()[e(481)]((t=>{const s=e,n=i[s(430)](t);return{id:t,start:n[s(557)],length:n[s(489)]}})),a=[],o=this[e(487)]();for(let l=0;l<o;l++){const s=this[e(421)](l);s[e(598)]!==R&&a[e(710)]({type:t[e(553)](s[e(598)]),params:s[e(582)](t)})}const c=[],h=this[e(471)]();for(let l=0;l<h;l++){const s=this[e(817)](l);if(s[e(598)]!==V){const n=s[e(582)](t),i=n[e(668)]||n,r=n[e(668)]?n[e(524)]:null,a={type:t[e(553)](s[e(598)]),params:i};r&&(a[e(524)]=r),c[e(710)](a)}}return{maxParticleCount:this[e(475)](),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(553)](s[e(598)]),params:s.toJSON()},emitter:{type:t[e(553)](n[e(598)]),params:n[e(582)]()},sequences:r,initializers:a,operators:c}}}class _{constructor(){const t=I;this[t(367)]=[],this[t(760)]=performance.now()/1e3,this[t(416)]=this[t(760)],this[t(694)]=new q}[I(386)](){const t=I,e=C[t(739)](),s=e-this[t(416)];for(const n of this[t(367)])n[t(386)](e,s);this.componentContainer[t(386)](e,s),this[t(416)]=e}[I(384)](t,e){const s=I;for(const n of this[s(367)])n[s(384)](t,e)}[I(505)](t){const e=I;this[e(367)][e(710)](t)}[I(592)](t){const e=I;this.componentContainer[e(592)](t)}[I(665)](t){const e=I;return this[e(694)][e(665)](t)}}class U{constructor(){const t=I;this.initialized=!1,this[t(495)]=0,this[t(531)]=null,this[t(492)]=!1}[I(820)](t){this[I(492)]=t}[I(574)](){}[I(666)](t){this[I(531)]=t}[I(757)](t){const e=I;if(this[e(495)]=t,!this[e(541)])return this[e(541)]=!0,!0;throw new Error(e(819))}[I(384)](){}}class B extends F{constructor(){const t=I;super(),this[t(461)]=null,this[t(466)]=null,this[t(718)]=null,this[t(777)]=null,this[t(822)]=null,this.positions=null,this.velocities=null,this[t(537)]=null,this[t(792)]=null,this[t(669)]=null,this[t(641)]=null,this.sizes=null,this[t(397)]=null,this[t(735)]=null,this[t(729)]=null,this[t(603)]=!1,this[t(470)]=6}[I(757)](t,e=!1){const s=I;this[s(603)]=e,this[s(603)]?this[s(470)]=1:this.verticesPerParticle=6,super.init(t),this.allocate(t)}[I(613)](t){super[I(613)](t)}setActiveParticleCount(t){const e=I;super[e(569)](t),t>0?this.instanced?this[e(461)][e(721)]=t:this[e(461)][e(585)](0,this[e(470)]*t):this[e(603)]?this[e(461)][e(721)]=0:this[e(461)][e(585)](0,0)}[I(741)](t){const e=I;if(t>=this[e(495)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this[e(834)](t),n=t*this[e(470)];for(let i=0;i<this[e(470)];i++)this[e(718)][e(527)](n+i,s[e(766)]),this[e(718)][e(396)]=!0,this[e(777)][e(527)](n+i,s[e(650)]),this[e(777)].needsUpdate=!0,this[e(822)].setXYZW(n+i,s[e(467)].x,s[e(467)].y,s[e(467)].z,s[e(467)].w),this[e(822)][e(396)]=!0,this.positions[e(681)](n+i,s[e(542)].x,s[e(542)].y,s[e(542)].z),this[e(419)][e(396)]=!0,this[e(810)][e(681)](n+i,s.velocity.x,s[e(377)].y,s.velocity.z),this[e(810)][e(396)]=!0,this.accelerations[e(681)](n+i,s[e(674)].x,s.acceleration.y,s[e(674)].z),this[e(537)][e(396)]=!0,this.normals[e(681)](n+i,s[e(549)].x,s[e(549)].y,s[e(549)].z),this[e(792)][e(396)]=!0,this[e(669)][e(527)](n+i,s[e(854)]),this[e(669)][e(396)]=!0,this.rotationalSpeeds.setX(n+i,s.rotationalSpeed),this.rotationalSpeeds.needsUpdate=!0,this[e(831)][e(512)](n+i,s.size.x,s[e(493)].y),this.sizes.needsUpdate=!0,this[e(397)][e(681)](n+i,s[e(494)].r,s[e(494)].g,s[e(494)].b),this[e(397)][e(396)]=!0,this[e(715)][e(527)](n+i,s[e(596)]),this.alphas[e(396)]=!0,this[e(735)][e(512)](n+i,s.initialSize.x,s[e(762)].y),this[e(735)][e(396)]=!0,this[e(503)][e(527)](n+i,s[e(774)]),this[e(503)][e(396)]=!0}[I(464)](t,e){const s=I;super[s(464)](t,e),this[s(741)](e)}[I(704)](t,e){const s=I;if(t>=this.particleCount)throw new Error('ParticleStateAttributeArray::setState() -> "index" is out of range.');super[s(704)](t,e),this.flushParticleStateToBuffers(t)}getPositions(){return this[I(419)]}[I(716)](){return this.sizes}[I(391)](){return this[I(669)]}[I(633)](){return this.sequenceElements}[I(583)](){return this.colors}getGeometry(){return this[I(461)]}[I(572)](t){const e=I;super.allocate(t);const n=(t,e)=>{const n=ut;return this[n(603)]?new(s[n(606)])(t,e):new(s[n(484)])(t,e)},i=this.verticesPerParticle*this[e(495)];if(this[e(603)]){const t=new(s[e(568)]),n=new Float32Array(18);this[e(450)]=new(s[e(484)])(n,3),t[e(393)](e(542),this[e(450)]),this[e(450)][e(396)]=!0,this[e(450)][e(681)](0,-1,1,0),this[e(450)][e(681)](1,-1,-1,0),this[e(450)][e(681)](2,1,1,0),this[e(450)][e(681)](3,-1,-1,0),this.basePositions[e(681)](4,1,-1,0),this.basePositions.setXYZ(5,1,1,0);const i=new Float32Array(12);this[e(769)]=new(s[e(484)])(i,2),t[e(393)](e(743),this[e(769)]),this.baseUVs[e(396)]=!0,this.baseUVs.setXY(0,0,1),this[e(769)][e(512)](1,0,0),this.baseUVs[e(512)](2,1,1),this[e(769)].setXY(3,0,0),this.baseUVs[e(512)](4,1,0),this[e(769)][e(512)](5,1,1);const r=new Float32Array(6);this[e(821)]=new(s[e(484)])(r,1),t[e(393)](e(832),this[e(821)]),this.customIndexes.needsUpdate=!0,this[e(821)][e(527)](0,0),this[e(821)].setX(1,1),this.customIndexes.setX(2,3),this.customIndexes[e(527)](3,1),this.customIndexes[e(527)](4,2),this[e(821)][e(527)](5,3),this[e(461)]=(new a)[e(548)](t),this[e(461)][e(721)]=0}else{this[e(461)]=new(s[e(568)]);const t=new Float32Array(i);this[e(821)]=new(s[e(484)])(t,1),this.geometry[e(393)](e(832),this[e(821)]),this[e(821)].needsUpdate=!0;for(let s=0;s<this[e(495)];s++){const t=s*this.verticesPerParticle;this[e(821)][e(527)](t,0),this.customIndexes.setX(t+1,1),this[e(821)].setX(t+2,3),this[e(821)][e(527)](t+3,1),this[e(821)][e(527)](t+4,2),this[e(821)][e(527)](t+5,3)}}const r=new Float32Array(i),c=new Float32Array(i),h=new Float32Array(4*i),l=new Float32Array(3*i),u=new Float32Array(3*i),p=new Float32Array(3*i),f=new Float32Array(3*i),m=new Float32Array(i),d=new Float32Array(i),w=new Float32Array(2*i),g=new Float32Array(3*i),S=new Float32Array(i),y=new Float32Array(2*i),v=new Float32Array(3*i),x=new Float32Array(i);this[e(419)]=n(l,3),this[e(419)][e(625)](o),this[e(461)][e(393)](e(626),this[e(419)]),this[e(718)]=n(r,1),this[e(718)][e(625)](s[e(514)]),this[e(461)][e(393)](e(766),this[e(718)]),this[e(777)]=n(c,1),this.ages[e(625)](s[e(514)]),this.geometry[e(393)]("age",this[e(777)]),this[e(822)]=n(h,4),this.sequenceElements[e(625)](s[e(514)]),this.geometry.setAttribute(e(467),this[e(822)]),this[e(810)]=n(u,3),this[e(810)][e(625)](o),this[e(461)][e(393)]("velocity",this[e(810)]),this[e(537)]=n(p,3),this[e(537)][e(625)](s[e(514)]),this.geometry[e(393)](e(674),this.accelerations),this[e(792)]=n(f,3),this[e(792)][e(625)](s[e(514)]),this[e(461)].setAttribute(e(549),this[e(792)]),this[e(669)]=n(m,1),this[e(669)][e(625)](s[e(514)]),this.geometry.setAttribute(e(854),this[e(669)]),this[e(641)]=n(d,1),this[e(641)][e(625)](s[e(514)]),this[e(461)][e(393)](e(791),this[e(641)]),this[e(831)]=n(w,2),this[e(831)].setUsage(s[e(514)]),this[e(461)].setAttribute(e(493),this[e(831)]),this.colors=n(g,3),this[e(397)].setUsage(s[e(514)]),this[e(461)][e(393)]("color",this[e(397)]),this.alphas=n(S,1),this[e(715)].setUsage(o),this[e(461)].setAttribute(e(596),this.alphas),this.initialSizes=n(y,2),this[e(735)][e(625)](s[e(514)]),this[e(461)][e(393)](e(762),this[e(735)]),this.initialColors=n(v,3),this[e(729)][e(625)](o),this[e(461)][e(393)](e(414),this.initialColors),this[e(503)]=n(x,1),this[e(503)].setUsage(o),this.geometry.setAttribute(e(774),this.initialAlphas)}[I(813)](){const t=I;super.dispose(),this[t(461)]&&(this[t(461)][t(813)](),this[t(461)]=null)}}class j{constructor(t,e,s,n,i){const r=I;this.length=t,this.x=e,this.y=s,this[r(374)]=n,this.height=i}}class D{constructor(t,e){const s=I;this[s(657)]=t,this[s(458)]=e,this[s(852)]=[]}[I(520)](){return this[I(657)]}[I(627)](){return this[I(458)]}[I(764)](){return this[I(852)].length}[I(683)](t,e,s,n,i){this[I(852)].push(new j(t,e,s,n,i))}getFrameSet(t){const e=I;if(t>=this[e(852)][e(489)])throw new Error('Atlas::getFrameSet -> "index" is out of range.');return this[e(852)][t]}}class X extends U{constructor(t,e,n=!1,i=s[I(382)],a=!0,o){const c=I;super(),this[c(603)]=t,this.particleStateArray=null,this.material=null,this[c(714)]=null,this[c(561)]=e,this[c(806)]=n,this.blending=i,this[c(797)]=new(s[c(748)]),this[c(736)]=new r,this[c(496)]=a,this[c(372)]=o}[I(666)](t){super[I(666)](t)}[I(574)](){return this[I(687)]}[I(820)](t){const e=I;super[e(820)](t),this[e(552)]&&(this.material.uniforms[e(492)][e(849)]=t?1:0,this[e(552)].uniformsNeedUpdate=!0)}[I(594)](){return this[I(496)]}[I(680)](t){const e=I;this.boundingBox[e(548)](t),this[e(714)]&&this[e(411)]()}[I(839)](t){const e=I;this[e(736)].copy(t),this[e(714)]&&this[e(411)]()}[I(384)](t,e,s){e[I(384)](t,s)}[I(411)]=function(){const t=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){t(this,(function(){const t=ut,e=new RegExp(t(431)),s=new RegExp(t(767),"i"),n=mt(t(757));e.test(n+t(654))&&s[t(509)](n+"input")?mt():n("0")}))()}();const e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[ut(788)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=ut;let s;try{s=Function(t(535)+'{}.constructor("return this")( ));')()}catch(r){s=window}const n=s[t(379)]=s[t(379)]||{},i=[t(696),t(844),t(691),"error",t(370),"table","trace"];for(let a=0;a<i[t(489)];a++){const s=e.constructor[t(604)][t(407)](e),r=i[a],o=n[r]||s;s[t(573)]=e[t(407)](e),s[t(755)]=o.toString[t(407)](o),n[r]=s}}))();const n=new c;return function(){const t=ut,e=this[t(687)][t(742)]();if(this[t(496)]){e.boundingBox||(e[t(797)]=new h),e[t(797)][t(548)](this.boundingBox),!e.boundingSphere&&(e[t(736)]=new(s[t(515)])),n.x=(this[t(797)][t(855)].x+this[t(797)][t(628)].x)/2,n.y=(this[t(797)].min.y+this[t(797)].max.y)/2,n.z=(this[t(797)][t(855)].z+this[t(797)][t(628)].z)/2;const i=this[t(797)][t(628)].x-n.x,r=this[t(797)][t(628)].y-n.y,a=this[t(797)][t(628)].z-n.z,o=Math[t(628)](Math[t(628)](i,r),a);e[t(736)][t(651)][t(548)](n),e.boundingSphere.radius=Math[t(449)](2*o*o)}else e.boundingSphere||(e[t(736)]=new(s[t(515)])),e.boundingSphere[t(548)](this[t(736)])}}();[I(757)](t){const e=I;super[e(757)](t)&&(this[e(687)]=new B,this.particleStateArray[e(757)](t,this[e(603)]),this[e(552)]=this[e(745)](null,null,null,!0,!1),this[e(552)][e(796)]=this[e(796)],this[e(714)]=new(s[e(577)])(this[e(687)][e(742)](),this[e(552)]),this.mesh.frustumCulled=!0,void 0!==this.renderOrder&&(this[e(714)][e(372)]=this.renderOrder),this[e(411)](),this[e(531)].add(this[e(714)]))}dispose(){const t=I;this[t(687)][t(813)]()}[I(745)](t,i,r,a,o){const c=I,h=[...Array(16)[c(672)]()].map((t=>new e));if(this[c(561)])for(let e=0;e<this[c(561)][c(764)]();e++){const t=this[c(561)].getFrameSet(e);h[e]=new(s[c(783)])(t.x,t.y,t[c(374)],t.height)}const p=this[c(561)]?this.atlas[c(520)]():null,f=this[c(806)],m=this[c(492)],d=this.instanced?1:0,w={atlasFrameSet:{type:c(738),value:h},atlasTexture:{type:"t",value:p},interpolateAtlasFrames:{value:f},uvOffset:{type:"v2",value:new n},simulateInWorldSpace:{value:m},instanced:{value:d}};return r=r||{},Object.assign(r,w),t=t||X[c(719)][c(534)](o),i=i||X[c(719)][c(768)](a,o),new(s[c(659)])({uniforms:r,vertexShader:t,fragmentShader:i,transparent:!0,alphaTest:1,blending:l,blendDstAlpha:u,blendSrcAlpha:s[c(425)],depthTest:!0,depthWrite:!1})}static Shader={get VertexVars(){const t=I;return[t(579),t(581),t(807),t(636),t(488),t(835),"attribute float customIndex;\n","attribute vec4 particlePosition;\n",t(811),t(497),t(437),t(701),t(644),t(539),t(530),t(418),t(584),t(376)].join("\n")},get FragmentVars(){const t=I;return[t(807),t(563),t(501),t(539),"varying vec2 vUV2;\n",t(418),t(584),t(765)][t(443)]("\n")},getVertexShader(t){const e=I;let s=[e(634),this[e(610)]][e(443)]("\n");return t&&(s+=e(722)),s+=[e(785),e(378),e(381),"   float atlasFrameX = atlasFrames.x; \n","   float atlasFrameY = atlasFrames.y; \n",e(546),e(405),"   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n",e(580),e(478),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n",e(621),e(775),e(675),e(517),"   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n",e(677),e(551),e(369),"{\n",e(830),e(640),e(440),e(773),e(682),e(540),"   const vec2 dLeft = vec2(-1.0, -1.0);\n",e(453),e(746),"   if (simulateInWorldSpace == 1) { \n",e(434),e(686),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   } \n","   float sequenceElementF = sequenceElement.x;\n",e(446),e(663),e(784),e(642),e(555),e(507),e(708),e(439),e(504),e(771),e(491),e(656),"   } \n","   float atlasFrameWidth = atlasFrames.z; \n",e(381),e(705),e(521),e(368),e(427),e(779),e(649),e(457),e(404),e(590),e(782),e(490),e(661),e(690),e(711),e(435),e(779),e(607),e(818),"       float dLeftV = rotVecStep.y - rotVecStep.x; \n","       float uRightV = rotVecStep.z; \n",e(424),"       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n",e(590),e(452),e(661),"   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n",e(667),e(698),e(595)].join("\n"),t&&(s+=e(638)),s+="} \n",s},getFragmentShader(t,e){const s=I;let n="#include <common> \n"+this[s(699)]+"\n";return e&&(n+=s(700)),n+=s(647),e&&(n+=s(842)),n+=t?[s(662),s(438),"   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n",s(740)][s(443)]("\n"):[s(724),s(438),s(428),s(426),s(740)][s(443)]("\n"),n+="}\n",n}};static[I(445)](t){const e=I,n=t[e(561)],i=(new(s[e(826)]))[e(578)](n[e(458)]),r=new D(i,n.texturePath),a=n.framesets;for(const s of a)r[e(683)](s[e(489)],s.x,s.y,s[e(374)],s.height);const o=new X(t[e(603)],r,n[e(597)]);return t.blending==e(518)?o[e(796)]=s[e(545)]:o.blending=s[e(382)],o}toJSON(t){const e=I;t=t||(t=>{const e=ut;if(t[e(458)])return t[e(458)];const s=t[e(520)]()[e(380)];if(s){const t=s.data;if(t){const s=t[e(371)],n=t[e(617)];return n[e(761)](s)>=0?n.substr(s[e(489)],n[e(489)]-s.length):n}}});const n=[];for(let s=0;s<this[e(561)][e(764)]();s++){const t=this[e(561)][e(451)](s);n[e(710)](t)}let i=e(630);this[e(552)][e(796)]===s[e(545)]&&(i=e(518));return{instanced:this[e(603)],blending:i,atlas:{interpolateFrames:this.interpolateAtlasFrames,texturePath:t(this.atlas),framesets:n}}}}class J{constructor(){const t=I;this.emissionRelativeStartTime=0,this[t(477)]=0,this[t(401)]=0,this[t(650)]=0,this[t(403)]=0,this.activeCount=0,this[t(753)]=0}[I(386)](t){return this[I(787)](t),0}[I(787)](t){const e=I;return this[e(650)]+=t,this[e(403)]=Math[e(628)](this[e(650)]-this[e(838)],0),this.age>=this.emissionRelativeStartTime&&(0==this[e(477)]||this[e(403)]<=emissionDuration)}[I(676)](t){this[I(401)]+=t}}class W extends J{constructor(){const t=I;super(),this[t(684)]=0,this[t(388)]=0}}class Y extends W{constructor(t=0){const e=I;super(),this[e(576)]=t}update(t){const e=I;if(this[e(787)](t)){const t=this[e(576)]*this[e(403)]-this[e(401)];if(t>=1){const s=Math[e(728)](t);return this[e(676)](s),s}}return 0}static[I(445)](t){const e=I,s=new Y;return s[e(576)]=t.emissionRate||0,s}[I(582)](){return{emissionRate:this[I(576)]}}}class L{static[I(547)]=new L("Default");static[I(652)]=new L(I(652));static[I(794)]=new L("Vector3");static[I(783)]=new L(I(783));static Color=new L(I(392));constructor(t){this[I(565)]=t}static[I(660)](t){const e=I;let i=L[e(547)];return t===n?i=L.Vector2:t===s[e(794)]?i=L[e(794)]:t===s[e(783)]?i=L[e(783)]:t===s[e(392)]&&(i=L.Color),i}static loadJSONParameter(t,i){const r=I;switch(i){case s[r(652)]:return(new n)[r(409)](t);case s[r(794)]:return(new(s[r(794)]))[r(409)](t);case s[r(783)]:return(new e)[r(409)](t);case s[r(392)]:return(new(s[r(392)]))[r(409)](t)}return t}}class k{constructor(t){const e=I;this[e(730)]=t,this[e(845)]=L[e(660)](t)}}class G extends k{constructor(t,e,s,n,i,r){const a=I;super(t),this.range=e,this.offset=s,this[a(717)]=n,this[a(506)]=i,this.normalize=r}generate(t){const e=I,s=Math[e(734)]()*this[e(717)];switch(this.outTypeID){case L[e(547)]:t=Math[e(734)]()*this[e(444)]+this.offset,this[e(611)]&&(t=t<0?-1:1);break;case L[e(652)]:t[e(390)](this[e(846)](s,"x"),this[e(846)](s,"y"));break;case L.Vector3:t[e(390)](this[e(846)](s,"x"),this.generateForElement(s,"y"),this[e(846)](s,"z"));break;case L.Vector4:t[e(390)](this[e(846)](s,"x"),this[e(846)](s,"y"),this[e(846)](s,"z"),this[e(846)](s,"w"))}return this.normalize&&t.normalize(),t}[I(846)](t,e){const s=I;return t+Math[s(734)]()*this[s(444)][e]+this.offset[e]+this.uniformOffset}[I(780)](){const t=I;return new G(this.outType,this[t(444)],this[t(571)],this[t(717)],this[t(506)],this[t(611)])}static[I(399)](t){const e=I;return t instanceof n||t instanceof s[e(794)]||t instanceof s[e(783)]||t instanceof i?t[e(536)]():t}static fromJSON(t){const e=I;return new G(t.type,L[e(809)](t[e(444)],t[e(749)]),L[e(809)](t[e(571)],t[e(749)]),t[e(717)]||0,t[e(506)]||0,t[e(611)])}[I(582)](t){const e=I,s={range:G[e(399)](this[e(444)]),offset:G[e(399)](this[e(571)]),uniformRange:this[e(717)],uniformOffset:this.uniformOffset},n=t.getTypePath(this[e(444)][e(598)]);return null!=n&&(s[e(749)]=n),{type:t[e(553)](G),params:s}}}class Z extends E{constructor(t,e,s,n,i){const r=I;super(),this.range=t,this.offset=e,this.uniformRange=s,this[r(506)]=n,this.normalize=i,this[r(843)]=new G(0,this.range,this.offset,this[r(717)],this[r(506)],this.normalize)}[I(756)](t){const e=I;t[e(766)]=this[e(843)][e(695)]()}static[I(445)](t,e){const s=I;return new Z(e[s(444)],e[s(571)],e[s(717)],e.uniformOffset,e[s(611)])}[I(582)](){const t=I;return{range:this.range,offset:this[t(571)],uniformRange:this[t(717)],uniformOffset:this[t(506)],normalize:this[t(611)]}}}class H extends E{constructor(t){const e=I;super(),this[e(843)]=t[e(780)]()}[I(756)](t){const e=I;t[e(854)]=this.generator.generate(t[e(854)])}static[I(445)](t,e){const s=I,n=e.generator[s(749)][s(445)](e[s(843)].params);return new H(n)}toJSON(t){return{generator:this[I(843)].toJSON(t)}}}class $ extends E{constructor(t,e,s,n,i){const r=I;super(),this[r(444)]=t,this.offset=e,this[r(717)]=s,this.uniformOffset=n,this[r(611)]=i,this.generator=new G(0,this.range,this[r(571)],this[r(717)],this[r(506)],this.normalize)}initializeState(t){const e=I;t[e(791)]=this[e(843)][e(695)]()}static[I(445)](t,e){const s=I;return new $(e.range,e[s(571)],e[s(717)],e[s(506)],e[s(611)])}[I(582)](){const t=I;return{range:this[t(444)],offset:this[t(571)],uniformRange:this[t(717)],uniformOffset:this[t(506)],normalize:this[t(611)]}}}class K extends E{constructor(t,e){const n=I;super(),this[n(679)]=new G(s[n(794)],t,e,0,0,!1)}[I(756)](t){const e=I;this[e(679)][e(695)](t[e(542)])}static[I(445)](t,e){const n=I;return new K((new(s[n(794)]))[n(409)](e.range),(new(s[n(794)]))[n(409)](e[n(571)]))}toJSON(){const t=I;return{range:this[t(679)][t(444)][t(536)](),offset:this.randomGenerator[t(571)][t(536)]()}}}class Q extends E{constructor(t){const e=I;super(),this[e(843)]=t[e(780)]()}[I(756)](t){const e=I;this[e(843)][e(695)](t[e(493)]),t[e(762)][e(548)](t[e(493)])}static fromJSON(t,e){const s=I,n=e[s(843)][s(749)][s(445)](e[s(843)].params);return new Q(n)}toJSON(t){return{generator:this[I(843)].toJSON(t)}}}class tt extends E{constructor(t,e,n,i,r=!0){const a=I;super(),this[a(848)]=new G(s[a(794)],t,e,0,0,!0),this[a(485)]=new G(0,n,i,0,0,!1),this.normalizeDirection=r}initializeState(t){const e=I;this[e(848)][e(695)](t[e(377)]),this[e(836)]&&t[e(377)][e(611)](),t[e(377)][e(570)](this[e(485)].generate())}static[I(445)](t,e){const n=I;return new tt((new c)[n(409)](e[n(444)]),(new(s[n(794)]))[n(409)](e.offset),e.speedRange,e[n(624)])}[I(582)](){const t=I;return{range:this[t(848)][t(444)][t(536)](),offset:this[t(848)][t(571)][t(536)](),speedRange:this[t(485)][t(444)],speedOffset:this[t(485)][t(571)]}}}class et extends E{constructor(t,e=!1){const s=I;super(),this[s(726)](t),this.reverse=e}[I(726)](t){this[I(825)]=t}[I(756)](t){const e=I,s=this.particleSequences[e(516)](),n=s[e(489)]*Math[e(734)](),i=s[Math[e(728)](n)],r=this[e(825)].getSequence(i),a=t[e(467)];this[e(673)]?a.x=r[e(489)]-1:a.x=r.start,a.y=r.id,a.z=r[e(557)],a.w=r[e(489)],t.progressType=P[e(759)]}static[I(445)](t,e){const s=I;return new et(t[s(602)](),e[s(673)])}[I(582)](){return{reverse:this.reverse}}}class st extends O{constructor(t,e,s=!1,n=!1){const i=I;super(),this[i(825)]=t,this[i(823)]=e,this[i(398)]=s,this[i(673)]=n}[I(770)](t,e){const s=I,n=t[s(467)],i=this[s(825)][s(430)](n.y),r=e/this[s(823)];if(this[s(673)]){if(n.x-=r,n.x<i.start&&(n.x=i[s(557)]+i[s(489)],!this.loop))return!1}else if(n.x+=r,n.x>=i[s(557)]+i[s(489)]&&(n.x=i.start,!this[s(398)]))return!1;return!0}static[I(445)](t,e){const s=I;return new st(t[s(602)](),e[s(823)],e[s(398)],e[s(673)])}toJSON(){const t=I;return{speed:this[t(823)],loop:this[t(398)],reverse:this.reverse}}}class nt{constructor(t,e){const s=I;this[s(524)]=[],this[s(402)]=[],this[s(720)]=L.getTypeID(t),e?this.interpolator=e:this[s(653)]=this[s(448)](this[s(720)])}*[Symbol[I(522)]](){const t=I;let e=0;for(;e<this[t(805)]();)yield{element:this[t(524)][e],tValue:this[t(402)][e]},e++}[I(805)](){return this[I(524)].length}[I(479)](t){const e=I;if(t>=this[e(805)]())throw new Error(e(460));return this[e(524)][t]}[I(829)](t){const e=I;if(t>=this.getElementCount())throw new Error('ContinuousArray::getTValue() -> "index" is out of bounds.');return this[e(402)][t]}[I(498)](t,e){const s=I;this[s(524)][s(710)](t),this[s(402)][s(710)](e)}[I(622)](t,e){const s=I;return this[s(653)](t,this[s(524)],this[s(402)],e)}[I(448)]=function(){const t=I,e={lowerIndex:0,upperIndex:0,localT:0},n=new(s[t(652)]),i=new(s[t(794)]),r=new(s[t(783)]),a=new(s[t(392)]),o=s=>(n,i,r,a)=>{const o=t;nt.getInterpolationValuesForTValue(r,n,e),s[o(548)](i[e[o(529)]]).multiplyScalar(e[o(433)]),a[o(548)](i[e[o(645)]]).multiplyScalar(1-e[o(433)]).add(s)};return function(s){const c=t;switch(s){case L[c(547)]:return(t,s,n)=>{const i=c;return nt[i(567)](n,t,e),(1-e[i(433)])*s[e[i(645)]]+e[i(433)]*s[e[i(529)]]};case L[c(652)]:return o(n);case L[c(794)]:return o(i);case L[c(783)]:return o(r);case L[c(392)]:return o(a)}}}();static[I(567)](t,e,s){const n=I,i=t[n(489)];if(0===i)return s.lowerIndex=-1,s[n(529)]=-1,void(s[n(433)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(645)]=C[n(815)](a,0,i-1),s.upperIndex=C.clamp(o,0,i-1);const c=t[a],h=t[o];s.localT=(e-c)/(h-c)}}class it extends O{constructor(t,e=!1){const s=I;super(),this[s(614)]=e,this[s(814)]=new nt(t)}[I(498)](t,e){const s=I;this[s(814)][s(498)](t,e)}[I(486)](t){const e=I;for(const s of t)this[e(814)].addElement(s[0],s[1])}[I(510)](t,e){const s=I;for(const n of e){const[...e]=n[0];this.interpolationElements[s(498)](new t(...e),n[1])}}getInterpolatedValue(t,e){const s=I;let n=0;switch(t[s(591)]){case P.Time:n=0!=t[s(766)]?t[s(650)]/t[s(766)]:t[s(650)];break;case P.Sequence:n=t[s(467)].x/t[s(467)].w}return this[s(814)][s(622)](n,e)}}class rt extends it{constructor(t=!1){super(0,t)}addElementsFromParameters(t){super[I(486)](t)}[I(770)](t){const e=I;return this.relativeToInitialValue?t.alpha=t.initialAlpha*this[e(816)](t,t[e(596)]):t[e(596)]=this[e(816)](t,t[e(596)]),!0}static fromJSON(t,e){return new rt(e[I(614)])}[I(582)](){const t=I;return{params:{relativeToInitialValue:this[t(614)]},elements:[...this[t(814)]].map((e=>[e[t(463)],e.tValue]))}}}class at extends it{constructor(t=!1){super(n,t)}addElementsFromParameters(t){const e=I;super.addElementsFromElementClassAndParameters(s[e(652)],t)}updateState=function(){const t=I,e=new(s[t(652)]);return function(s){const n=t;return this[n(816)](s,e),this[n(614)]?s[n(493)][n(390)](s[n(762)].x*e.x,s[n(762)].y*e.y):s[n(493)][n(548)](e),!0}}();static[I(445)](t,e){return new at(e[I(614)])}[I(582)](){const t=I;return{params:{relativeToInitialValue:this[t(614)]},elements:[...this[t(814)]][t(481)]((e=>[e[t(463)][t(536)](),e[t(556)]]))}}}class ot extends it{constructor(t=!1){super(i,t)}[I(616)](t){const e=I;super[e(510)](s[e(392)],t)}[I(770)]=function(){const t=new i;return function(e){const s=ut;return this.getInterpolatedValue(e,t),this[s(614)]?e[s(494)][s(803)](e[s(414)].r*t.r,e[s(414)].g*t.g,e[s(414)].b*t.b):e[s(494)][s(548)](t),!0}}();static fromJSON(t,e){return new ot(e[I(614)])}[I(582)](){const t=I;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this.interpolationElements].map((e=>[e[t(463)][t(536)](),e[t(556)]]))}}}class ct extends O{constructor(t){const e=I;super(),this[e(843)]=t[e(780)]()}addElementsFromParameters(t){const e=I;super[e(510)](THREE[e(794)],t)}[I(770)](t){const e=I;return this[e(843)][e(695)](t[e(674)]),!0}static fromJSON(t,e){const s=I,n=e[s(843)][s(749)].fromJSON(e[s(843)].params);return new ct(n)}[I(582)](t){return{generator:this[I(843)].toJSON(t)}}}class ht extends k{constructor(t,e,n,i,r,a,o,h,l,u,p,f){const m=I;super(s[m(794)]),this[m(560)]=t,this[m(410)]=e,this[m(519)]=n,this.offsetPhi=i,this.rangeRadius=r,this[m(462)]=a,this[m(795)]=o,this[m(752)]=h,this[m(723)]=l,this[m(789)]=u,this[m(847)]=p,this.offsetZ=f,this[m(615)]=(new c)[m(390)](0,1,0)}[I(695)](t){const e=I;this[e(615)][e(390)](0,1,0);const s=Math.random()*this.rangeTheta+this.offsetTheta,n=Math[e(734)]()*this[e(519)]+this[e(499)],i=Math.cos(s),r=Math[e(456)](s),a=Math[e(605)](n),o=Math.sin(n);t.set(i,0,-r),t[e(570)](a),this[e(615)][e(570)](o),t.add(this[e(615)]),t[e(611)]();const c=Math[e(734)]()*this.rangeRadius+this[e(462)];t.multiplyScalar(c),t.x*=this[e(795)],t.y*=this[e(752)],t.z*=this[e(723)],t.x+=this[e(789)],t.y+=this[e(847)],t.z+=this.offsetZ}clone(){const t=I;return new ht(this[t(560)],this[t(410)],this[t(519)],this.offsetPhi,this[t(587)],this[t(462)],this[t(795)],this[t(752)],this[t(723)],this.offsetX,this.offsetY,this.offsetZ)}static[I(445)](t){const e=I;return new ht(t[e(560)],t[e(410)],t.rangePhi,t[e(499)],t.rangeRadius,t[e(462)],t.scaleX,t.scaleY,t[e(723)],t[e(789)],t[e(847)],t.offsetZ)}[I(582)](t){const e=I;return{type:t[e(553)](ht),params:{rangeTheta:this[e(560)],offsetTheta:this.offsetTheta,rangePhi:this[e(519)],offsetPhi:this[e(499)],rangeRadius:this[e(587)],offsetRadius:this[e(462)],scaleX:this.scaleX,scaleY:this[e(752)],scaleZ:this[e(723)],offsetX:this[e(789)],offsetY:this.offsetY,offsetZ:this[e(618)]}}}}class lt{constructor(){}}function ut(t,e){const s=b();return(ut=function(t,e){return s[t-=367]})(t,e)}class pt extends lt{constructor(t,e,n,i,r,a,o=void 0){const c=I;super(),this.owner=null,this[c(441)]=null,this[c(416)]=performance[c(511)]()/1e3,this[c(472)]=this[c(416)],this[c(455)]=this.lastUpdateTime,this[c(707)]=1,this.nextIntensityAdjuster=1,this.lastPositionAdjuster=new(s[c(794)]),this[c(678)]=new(s[c(794)]),this[c(586)]=1,this[c(709)]=2,this.parent=t,this[c(757)](t,e,n,i,r,a,o)}[I(757)](t,e,n,i,r,a,o=void 0){const c=I;this.owner=new p,t[c(612)](this[c(531)]),i=i||new(s[c(392)]),r=r||0,null!=a&&null!=a||(a=2);const h=!!o;return this[c(441)]=new(s[c(702)])(16777215,2,0,1),this.light[c(494)][c(548)](i),this[c(441)].distance=r,this[c(441)].decay=a,this.light[c(589)]=h,h&&(this.light.shadow.mapSize[c(374)]=o[c(525)]||512,this.light[c(786)].mapSize.height=o[c(525)]||512,this.light[c(786)].camera[c(620)]=o[c(526)]||.5,this[c(441)][c(786)][c(790)][c(751)]=o[c(394)]||500,this[c(441)][c(786)][c(840)]=o[c(840)]||1e-4,this[c(441)][c(786)].radius=o[c(750)]||1),this[c(531)][c(612)](this.light),this[c(586)]=e,this[c(709)]=n,this[c(441)]}[I(813)](){const t=I;this[t(793)][t(429)](this[t(531)])}[I(447)](){return this[I(441)]}[I(689)](t){this[I(586)]=t}[I(386)](t){const e=I,s=t-this[e(472)],n=1/8,i=this[e(709)];if(s>n){this[e(472)]=t;let s=1+2*(Math[e(734)]()-.5)*i*n;const r=s-this[e(707)];s=this[e(707)]+r,this[e(707)]=this[e(658)],this.nextIntensityAdjuster=C[e(815)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this.lastIntensityAdjuster+t*this[e(658)];this[e(441)].intensity=i*this[e(586)]}if(t-this[e(455)]>.0625){this[e(455)]=t;const s=t-this[e(416)];this[e(678)][e(390)](Math[e(734)]()-.5,Math[e(734)]()-.5,Math[e(734)]()-.5),this.positionAdjuster[e(570)](s),this[e(678)][e(612)](this[e(473)]),this[e(678)][e(570)](.5),this[e(531)].position[e(548)](this[e(678)]),this[e(473)][e(548)](this.positionAdjuster),this[e(416)]=t}}}class ft{constructor(){const t=I;this[t(763)]={default:{}},this[t(415)]={},this[t(631)]=0}[I(408)](t,e){const s=I;this[s(482)](s(533),t,e)}addTypeToNamespace(t,e,s){const n=I;if(!this[n(763)][t])throw new Error("JSONTypeStore::addTypeToNamespace() -> namespace does not exist");if(this[n(763)][t][e])throw new Error(n(413));this.checkAndAddTypeName(s,e,t)&&(this.jsonTypes[t][e]=s)}[I(593)](t,e){const s=I;if(this.jsonTypes[t])throw new Error(s(725));this.jsonTypes[t]=e;for(const n in e)if(!e[s(513)]||e[s(513)](n)){const i=e[n];this[s(799)](i,n,t)}}[I(799)](t,e,s){const n=I;if(typeof t===n(544)){const i=this.typeIDGen++;t[n(747)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}[I(623)](t,e){const s=I;if(!this[s(763)][t])throw new Error("JSONTypeStore::getType() -> namespace does not exist");if(!this[s(763)][t][e])throw new Error(s(804));return this[s(763)][t][e]}[I(412)](t){const e=I;return this[e(415)][t[e(747)]]}[I(553)](t){const e=I,s=this[e(412)](t);if(s)return s[e(737)]+"."+s.typeName}[I(387)](t){const e=I,s=t[e(588)]("."),n=s[0];s[e(693)](0,1);return{namespace:n,typeName:s.join(".")}}parseTypeString(t){const e=I,{namespace:s,typeName:n}=this.parseNamespaceAndTypename(t);return this[e(623)](s,n)}}function mt(t){function e(t){const s=ut;if(typeof t===s(639))return function(t){}[s(598)](s(727)).apply(s(436));1!==(""+t/t)[s(489)]||t%20==0?function(){return!0}[s(598)](s(703)+s(389))[s(373)](s(646)):function(){return!1}[s(598)](s(703)+s(389))[s(788)](s(564)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const dt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:ct,AnimatedSpriteRenderer:X,Atlas:D,BaseParticleStateInitializer:R,BaseParticleStateOperator:V,BoxPositionInitializer:K,ColorInterpolatorOperator:ot,ConstantParticleEmitter:Y,FlickerLight:pt,JSONTypeStore:ft,LifetimeInitializer:Z,Manager:_,OpacityInterpolatorOperator:rt,ParticleStateArray:F,ParticleSystem:N,ParticleSystemState:M,RandomGenerator:G,RandomVelocityInitializer:tt,Renderer:U,RotationInitializer:H,RotationalSpeedInitializer:$,SequenceInitializer:et,SequenceOperator:st,SizeInitializer:Q,SizeInterpolatorOperator:at,SphereRandomGenerator:ht},Symbol.toStringTag,{value:"Module"})),wt=yt;!function(t,e){const s=yt,n=vt();for(;;)try{if(240735===parseInt(s(446))/1+-parseInt(s(432))/2*(parseInt(s(422))/3)+parseInt(s(397))/4*(parseInt(s(443))/5)+-parseInt(s(406))/6+-parseInt(s(398))/7+parseInt(s(383))/8*(parseInt(s(380))/9)+parseInt(s(424))/10*(parseInt(s(410))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const gt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){gt(this,(function(){const t=yt,e=new RegExp(t(393)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=It(t(385));e[t(402)](n+t(431))&&s[t(402)](n+t(409))?It():n("0")}))()}();const St=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[yt(378)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function yt(t,e){const s=vt();return yt=function(t,e){return s[t-=369]},yt(t,e)}function vt(){const t=["prototype","Vector2","table","chain","1002DHPesm","error","getParticleSequences","update","render","SequenceInitializer","Color","console","call","Atlas","RandomGenerator","195IAfUuk","TextureLoader","length","263095EiUzoG","value","SequenceOperator","FlickerLight","start","string","setEmitter","addElementsFromParameters","THREE","load","addElements","JSONTypeStore","apply","addParticleStateOperator","9cQggiH","position","SizeInitializer","2003928KBWEQR","toString","init","RotationInitializer","RandomVelocityInitializer","SizeInterpolatorOperator","setSimulateInWorldSpace","add","Object3D","BoxPositionInitializer","function *\\( *\\)","AdditiveBlending","scale","SphereRandomGenerator","13644BQbIDO","1963038KZYKOF","AccelerationOperator","addParticleStateInitializer","addParticleSystem","test","constructor","ConstantParticleEmitter","addNamespace","2195898bfdyUb","addFrameSet","stateObject","input","1240184izTPYW","OpacityInterpolatorOperator","addComponent","ParticleSystem","copy","LifetimeInitializer","while (true) {}","ColorInterpolatorOperator","AnimatedSpriteRenderer","trace","bind","Vector3","585XDCXLz","RotationalSpeedInitializer","30FBylDT","fireF","addParticleSequence","gger"];return(vt=function(){return t})()}St(void 0,(function(){const t=yt,e=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(e){t=window}return t}(),s=e[t(439)]=e[t(439)]||{},n=["log","warn","info",t(433),"exception",t(430),t(419)];for(let i=0;i<n[t(445)];i++){const e=St[t(403)][t(428)][t(420)](St),r=n[i],a=s[r]||e;e.__proto__=St[t(420)](St),e[t(384)]=a[t(384)][t(420)](a),s[r]=e}}))();const xt=d({__name:wt(425),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=wt,n=t,i=new _,r=new(dt[e(377)]);r[e(405)](e(374),s),r[e(405)]("Photons",dt);const{renderer:a,camera:o,scene:h}=f(),l=new(s[e(421)])(...n.position);i[e(401)](((t,n)=>{const i=e,r=new(s[i(391)]);r.position[i(414)](n);const o="./plugins/digitalCity/image/fireF/ember.png",h=(new(s[i(444)]))[i(375)](o),l=new(dt[i(441)])(h,o);l[i(407)](1,0,0,1,1);const u=new X(!0,l,!0,s[i(394)]),p=new N(r,u,a[i(447)]);p[i(385)](150),p[i(372)](new(dt[i(404)])(6));const f=new(dt[i(442)])(s[i(429)],new(s[i(429)])(0,0),new(s[i(429)])(.15*t,.15*t),0,0,!1);p[i(400)](new(dt[i(415)])(3,1,0,0,!1)),p[i(400)](new(dt[i(382)])(f)),p[i(400)](new K(new(s[i(421)])(.05*t,0,.05*t),new c(-.025*t,0,-.025*t))),p[i(400)](new(dt[i(387)])(new c(.4*t,.5*t,.4*t),new c(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));p[i(379)](new(dt[i(411)]))[i(376)]([[0,0],[.7,.25],[.9,.75],[0,1]]);p[i(379)](new ot(!0)).addElementsFromParameters([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const m=new(dt[i(396)])(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return p[i(379)](new ct(m)),p[i(389)](!0),p[i(370)](),p})(n[e(395)],l)),i[e(401)](((t,n)=>{const i=e,r=new(s[i(391)]);r[i(381)][i(414)](n);const o="./plugins/digitalCity/image/fireF/base_flame.png",h=(new(s[i(444)]))[i(375)](o),l=new(dt[i(441)])(h,o);l[i(407)](18,0,0,.125,.25);const u=new(dt[i(418)])(!0,l,!0),p=new(dt[i(413)])(r,u,a[i(447)]);p[i(385)](50),p[i(372)](new(dt[i(404)])(10)),p[i(426)](0,18);const f=p[i(434)]();p.addParticleStateInitializer(new(dt[i(415)])(0,0,0,0,!1)),p[i(400)](new(dt[i(386)])(new(dt[i(442)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),p.addParticleStateInitializer(new(dt[i(423)])(1,-1,0,0,!1)),p[i(400)](new(dt[i(382)])(new(dt[i(442)])(s[i(429)],new(s[i(429)])(.25*t,.25*t),new(s[i(429)])(.5*t,.5*t),0,0,!1))),p[i(400)](new(dt[i(392)])(new(s[i(421)])(.05*t,0,.05*t),new(s[i(421)])(-.025*t,0,-.025*t))),p.addParticleStateInitializer(new tt(new c(.05*t,.4*t,.05*t),new c(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),p[i(400)](new et(f)),p[i(379)](new(dt[i(448)])(f,.07,!1));p[i(379)](new(dt[i(411)]))[i(376)]([[0,0],[.3,.25],[.3,.5],[0,1]]);p[i(379)](new(dt[i(388)])(!0))[i(373)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return p[i(379)](new(dt[i(417)])(!0))[i(373)]([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),p[i(379)](new ct(new(dt[i(442)])(s[i(421)],new c(0,0,0),new(s[i(421)])(0,1.5*t,0),0,0,!1))),p[i(389)](!0),p[i(370)](),p})(n[e(395)],l)),i[e(401)](((t,n)=>{const i=e,r=new(s[i(391)]);r[i(381)].copy(n);const o="./plugins/digitalCity/image/fireF/bright_flame.png",h=(new(s[i(444)]))[i(375)](o),l=new(dt[i(441)])(h,o);l[i(407)](16,0,0,212/1024,.25);const u=new X(!0,l,!0),p=new(dt[i(413)])(r,u,a[i(447)]);p[i(385)](20),p[i(372)](new Y(5)),p[i(426)](0,16);const f=p[i(434)]();p[i(400)](new Z(0,0,0,0,!1)),p[i(400)](new(dt[i(386)])(new(dt[i(442)])(0,Math.PI,-Math.PI/2,0,0,!1))),p[i(400)](new(dt[i(423)])(Math.PI/2,-Math.PI/4,0,0,!1)),p[i(400)](new(dt[i(382)])(new(dt[i(442)])(s[i(429)],new(s[i(429)])(0,0),new(s[i(429)])(0,0),.2*t,.65*t,!1))),p[i(400)](new(dt[i(392)])(new(s[i(421)])(.1*t,0,.1*t),new(s[i(421)])(-.05*t,0,-.05*t))),p[i(400)](new(dt[i(387)])(new(s[i(421)])(.02*t,.4*t,.02*t),new(s[i(421)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),p[i(400)](new(dt[i(437)])(f)),p[i(379)](new st(f,.1,!1));p[i(379)](new(dt[i(411)]))[i(376)]([[0,0],[.6,.2],[.5,.75],[0,1]]);p.addParticleStateOperator(new(dt[i(388)])(!0)).addElementsFromParameters([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return p[i(379)](new ot(!0))[i(373)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),p[i(379)](new(dt[i(399)])(new(dt[i(442)])(c,new c(0,0,0),new(s[i(421)])(0,1.5*t,0),0,0,!1))),p[i(389)](!0),p[i(370)](),p})(n[e(395)],l)),i[e(412)](((t,n=10)=>{const i=e,r=new(s[i(391)]);h[i(447)][i(390)](r),r.position[i(414)](t);return new(dt[i(369)])(r,n,2,(new(s[i(438)])).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(l,100));const{onBeforeLoop:u}=m();return u((()=>{const t=e;i[t(435)](),i[t(436)](a.value,o[t(447)])})),(t,e)=>null}});function It(t){function e(t){const s=yt;if(typeof t===s(371))return function(t){}[s(403)](s(416))[s(378)]("counter");1!==(""+t/t)[s(445)]||t%20==0?function(){return!0}[s(403)]("debugger")[s(440)]("action"):function(){return!1}.constructor("debu"+s(427)).apply(s(408)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Pt=At;function At(t,e){const s=Tt();return At=function(t,e){return s[t-=155]},At(t,e)}!function(t,e){const s=At,n=Tt();for(;;)try{if(920446===-parseInt(s(163))/1+parseInt(s(201))/2*(parseInt(s(170))/3)+parseInt(s(198))/4+-parseInt(s(196))/5*(parseInt(s(166))/6)+parseInt(s(188))/7*(-parseInt(s(177))/8)+-parseInt(s(194))/9*(parseInt(s(191))/10)+parseInt(s(195))/11*(parseInt(s(167))/12))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Ft=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[At(160)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Tt(){const t=["stateObject","init","error","apply","exception","function *\\( *\\)","700155ekSsJx","toString","string","12PCbltk","473532WMhWLg","length","console","1731Inpcyi","chain","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","fireF","camera","217808vMpJgM","return (function() ","info","debu","test","bind","counter","action","constructor","tcRef","prototype","133OmVwHw","__proto__","table","10PYJgYG","$refs","trace","15300594xjSiei","968rgmJBe","2443715GELisj","call","5147640qpFKqd","pagesShowRef","set","194ocAMod","position","input"];return(Tt=function(){return t})()}!function(){Ft(this,(function(){const t=At,e=new RegExp(t(162)),s=new RegExp(t(173),"i"),n=Et(t(158));e[t(181)](n+t(171))&&s[t(181)](n+t(156))?Et():n("0")}))()}();const bt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();bt(void 0,(function(){const t=At;let e;try{e=Function(t(178)+'{}.constructor("return this")( ));')()}catch(i){e=window}const s=e[t(169)]=e[t(169)]||{},n=["log","warn",t(179),t(159),t(161),t(190),t(193)];for(let r=0;r<n[t(168)];r++){const e=bt[t(185)][t(187)][t(182)](bt),i=n[r],a=s[i]||e;e[t(189)]=bt[t(182)](bt),e[t(164)]=a[t(164)][t(182)](a),s[i]=e}}))();const zt=d({__name:Pt(175),setup(e){const s=w();return g((()=>{const t=At;s.value&&(s[t(172)][t(192)][t(186)]?s.value[t(192)][t(186)].context[t(176)][t(172)][t(155)][t(200)](580,360,500):s[t(172)][t(192)].perspectiveCameraRef&&s.value[t(192)].perspectiveCameraRef[t(155)][t(200)](580,360,500))})),(e,n)=>{const i=At;return S(),y(t,{ref_key:i(199),ref:s},{ability:v((()=>[x(xt,{position:[0,20,10],scale:40})])),_:1},512)}}});function Et(t){function e(t){const s=At;if(typeof t===s(165))return function(t){}[s(185)]("while (true) {}")[s(160)](s(183));1!==(""+t/t).length||t%20==0?function(){return!0}[s(185)](s(180)+s(174))[s(197)](s(184)):function(){return!1}[s(185)](s(180)+s(174))[s(160)](s(157)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{zt as default};
