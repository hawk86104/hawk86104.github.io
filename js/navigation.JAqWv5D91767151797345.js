import{importShared as e}from"./3d-tiles-renderer.BWkWgmMi1767151797345.js";import{_export_sfc as t,useGLTF as n,OrbitControls_default as a}from"./index.DdZsEhdb1767151797345.js";import{OrbitControls as o}from"./OrbitControls.D2DB3MAE1767151797345.js";const{defineComponent:i}=await e("vue"),{openBlock:l,createElementBlock:s}=await e("vue"),r={id:"containerNav"},{onMounted:c,watchEffect:m}=await e("vue"),d=await e("three"),u=t(i({__name:"navigation",props:{message:{}},setup(e){const t=e;let n=null,a=null,i=null,u=null,f=null,p=()=>{let e=[];return["右","左","上","下","前","后"].forEach(function(t){var n=document.createElement("canvas");n.width=256,n.height=256;var a=n.getContext("2d");a.fillStyle="#f6fcff",a.fillRect(0,0,n.width,n.height),a.fillStyle="black",a.font="bold 100px arial",a.textAlign="center",a.textBaseline="middle",a.fillText(t,n.width/2,n.height/2);var o=new d.Texture(n);o.needsUpdate=!0;var i=new d.MeshStandardMaterial({map:o,color:16777215,emissive:0,side:d.DoubleSide});e.push(i)}),e},v=e=>{var t=new d.Raycaster,n=new d.Vector2;i.domElement.addEventListener("click",function(o){n.x=o.offsetX/u.clientWidth*2-1,n.y=-o.offsetY/u.clientHeight*2+1,t.setFromCamera(n,a);for(var i=t.intersectObjects([f]),l=0;l<e.length;l++)e[l].emissive.set(0);if(i.length>0){let t=i[0].face.materialIndex;g(t),e[t].emissive.set("#eb780a")}},!1)},g=e=>{console.log("message",t.message);let n=50;4==e?t.message.position.set(0,0,n):5==e?t.message.position.set(0,0,-50):1==e?t.message.position.set(-50,0,0):0==e?t.message.position.set(n,0,0):3==e?t.message.position.set(0,-50,0):2==e&&t.message.position.set(0,n,0),t.message.lookAt(new d.Vector3(0,0,0))};return c(()=>{(()=>{u=document.getElementById("containerNav"),n=new d.Scene,n.background=new d.Color("#f7f7f9"),a=new d.PerspectiveCamera(75,u.clientWidth/u.clientHeight,.1,1e4),a.position.z=2500,i=new d.WebGLRenderer({antialias:!0,canvas:u}),i.setSize(u.clientWidth,u.clientHeight),i.setPixelRatio(window.devicePixelRatio);var e=new d.AmbientLight(16777215);n.add(e);var t=new d.DirectionalLight(16777215,1);t.position.set(1,1,1).normalize(),n.add(t);const l=new o(a,i.domElement);l.enableDamping=!0,l.dampingFactor=.05,l.enabled=!0,l.enableZoom=!0,l.enableRotate=!0,l.enablePan=!1;const s=new d.AxesHelper(5);n.add(s),function e(){requestAnimationFrame(e),i.render(n,a)}()})(),(()=>{let e=new d.BoxGeometry(1800,1800,1800),t=p();f=new d.Mesh(e,t),f.position.set(0,0,0),n.add(f),v(t)})()}),m(()=>{}),(e,t)=>(l(),s("canvas",r))}}),[["__scopeId","data-v-67395f0d"]]),{withAsyncContext:f,defineComponent:p}=await e("vue"),{unref:v,openBlock:g,createElementBlock:w,createCommentVNode:h}=await e("vue"),b=["object"],{onMounted:x,watchEffect:C}=await e("vue"),k=p({__name:"navScene",async setup(e){let t,a;const{state:o}=([t,a]=f(()=>n("https://opensource.cdn.icegl.cn/model/operationTool/湖中小亭/湖中小亭.gltf")),t=await t,a(),t);return x(()=>{}),C(()=>{}),(e,t)=>v(o)?(g(),w("primitive",{key:0,object:v(o)?.scene},null,8,b)):h("",!0)}}),{defineComponent:E}=await e("vue"),{createElementVNode:y,unref:_,normalizeProps:B,guardReactiveProps:S,createVNode:P,Suspense:R,withCtx:A,openBlock:j,createBlock:T,resolveComponent:z,mergeProps:D,createElementBlock:L}=await e("vue"),{reactive:M,ref:N}=await e("vue"),V=E({__name:"navigation",setup(e){const t=N(null),n=M({windowSize:!0,alpha:!0,antialias:!0}),o=M({enableDamping:!0,enableZoom:!0,enablePan:!0,enableRotate:!0,makeDefault:!0});return(e,i)=>{const l=z("TresCanvas");return j(),L("div",null,[P(l,D({clearColor:"#201919"},n),{default:A(()=>[y("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,0,50],"look-at":[0,0,0],ref_key:"navSceneCamera",ref:t},null,512),i[0]||(i[0]=y("TresAmbientLight",{intensity:2},null,-1)),P(_(a),B(S(o)),null,16),(j(),T(R,null,{default:A(()=>[P(k)]),_:1}))]),_:1},16),P(u,{message:t.value},null,8,["message"])])}}});export{V as default};
