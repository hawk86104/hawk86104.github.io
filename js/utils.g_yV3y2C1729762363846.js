import{a as t,B as n,s as e,c6 as r,C as o,k as s,a0 as c}from"./three.CQvcOG671729762363846.js";import{x as i}from"./@fesjs.CZZ05Yp51729762363846.js";import{z as a}from"./@tresjs.CmAaFQUS1729762363846.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.B7v5qCD_1729762363846.js";!function(t,n){const e=g,r=y();for(;;)try{if(931415===parseInt(e(361))/1*(-parseInt(e(365))/2)+-parseInt(e(347))/3+-parseInt(e(334))/4+-parseInt(e(300))/5+-parseInt(e(350))/6*(-parseInt(e(304))/7)+parseInt(e(307))/8*(-parseInt(e(299))/9)+parseInt(e(306))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const l=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(305)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){l(this,(function(){const t=g,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(308),"i"),r=_(t(351));n[t(353)](r+t(338))&&e.test(r+t(295))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[g(305)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function g(t,n){const e=y();return(g=function(t,n){return e[t-=290]})(t,n)}m(void 0,(function(){const t=g;let n;try{n=Function("return (function() "+t(312)+");")()}catch(o){n=window}const e=n[t(322)]=n[t(322)]||{},r=[t(302),t(320),t(292),t(315),t(357),"table",t(354)];for(let s=0;s<r[t(356)];s++){const n=m[t(293)].prototype[t(337)](m),o=r[s],c=e[o]||n;n[t(362)]=m.bind(m),n[t(319)]=c[t(319)][t(337)](c),e[o]=n}}))();const h=(n,e=!1)=>{const r=g;n[r(313)]();const{max:o,min:s}=n[r(291)];n[r(327)]("uv");const c=o.x-s.x,i=o.y-s.y,a=[];for(let t=0;t<n[r(360)][r(297)][r(314)];t++)e?(a.push((n[r(360)].position[r(336)](t)-(s.x+o.x)/2)/c),a[r(363)]((n.attributes[r(297)][r(370)](t)-(s.y+o.y)/2)/i)):(a[r(363)]((n[r(360)][r(297)][r(336)](t)-s.x)/c),a[r(363)]((n[r(360)][r(297)].getY(t)-s.y)/i));const u=new Float32Array(a);n[r(303)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=g;i(t,{},{method:o(311),mergeRequest:!0})[o(309)]((t=>{const r=o;n&&e(t[n]),e(t[r(343)])}))[o(301)]((t=>{console[o(315)](t),r(t)}))}));function y(){const t=["getCenter","attributes","1csUCnM","__proto__","push","raycast","2883646ttcLbv","transparent","setY","while (true) {}","depthWrite","getY","copy","boundingBox","info","constructor","Box3","input","forEach","position","set","179352kgrMnL","8357100jHfwMn","catch","log","setAttribute","63UYWQro","apply","53503320Wrmjay","176aHmyrp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","then","applyMatrix4","get",'{}.constructor("return this")( )',"computeBoundingBox","count","error","sub","stateObject","min","toString","warn","gger","console","divideScalar","material","clone","Vector3","deleteAttribute","uniforms","string","computeBoundsTree","config","negate","random","6104996PynRPk","debu","getX","bind","chain","geometry","disposeBoundsTree","counter","prototype","features","value","action","center","3530730kfnmos","getSize","#fff","1223934hHLkvq","init","add","test","trace","depthTest","length","exception","max"];return(y=function(){return t})()}const w=t=>{const n=g,e=(new(THREE[n(294)])).setFromObject(t),r=new(THREE[n(326)]);e.getCenter(r),t.children[n(296)]((t=>{const e=n;t[e(297)][e(316)](r)})),t[n(297)][n(290)](r.negate())},x=()=>{const t=g;n[t(342)][t(330)]=u,n[t(342)][t(340)]=f,e[t(342)][t(364)]=p},b=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),i=t[n(339)][n(325)]();h(i),i.computeBoundsTree();const u=new r(i,{color:new o(n(349)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(366)]=!0,u[n(324)][n(369)]=!0,u[n(324)][n(355)]=!0,u[n(324)].side=c,u[n(324)][n(328)][n(331)].value.w=20,u.material.uniforms.reflectivity[n(344)]=.46,u};function j(t){const n=g,e=[];for(let o=0;o<t[n(356)];o++)e.push(new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(356)];o++)r[n(352)](e[o]);r[n(323)](e.length);for(let o=0;o<e[n(356)];o++)e[o].sub(r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=g;if(typeof t===e(329))return function(t){}[e(293)](e(368))[e(305)](e(341));1!==(""+t/t)[e(356)]||t%20==0?function(){return!0}[e(293)](e(335)+"gger").call(e(345)):function(){return!1}[e(293)]("debu"+e(321))[e(305)](e(317)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,d as l,h as r,b as s};
