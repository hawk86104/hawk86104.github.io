var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,o=(t,o)=>{for(var s in o||(o={}))e.call(o,s)&&a(t,s,o[s]);if(n)for(var s of n(o))r.call(o,s)&&a(t,s,o[s]);return t};import{U as s,c as i}from"./@tresjs.iUmyNPdW1730886807320.js";import{a as u,u as c,_ as l}from"./rawData.bKEn1SLa1730886807320.js";import{a$ as p,_ as f,a0 as d,cX as m,M as h}from"./three._P_a_E_Z1730886807320.js";import{z as y}from"./three-custom-shader-material.-r7dCNA-1730886807320.js";import{P as g}from"./tweakpane.yHWGBmom1730886807320.js";import{d as x,b,a as w,r as _,w as v,o as I,D as j,J as z,u as A,j as T,g as D,x as R,F as S,V as M,f as E,H as L,I as O,m as V}from"./@vue.-THQH3GC1730886807320.js";import{z as k,x as B,a5 as F,a6 as U,a7 as G,N as P,a8 as Y,a9 as C,t as $,$ as Z,aa as H,v as q,_ as N}from"./@fesjs.rCnyFuNL1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./pinia.ZAQpp9No1730886807320.js";import"./vue-demi.C4xddsk91730886807320.js";import"./vue-router.QnjVwwup1730886807320.js";import"./lodash-es.kYt-_xTG1730886807320.js";import"./@qlin.yHhFDldE1730886807320.js";import"./@floating-ui.BPbuo5Gx1730886807320.js";import"./@juggle.7yjBMqoW1730886807320.js";const W=Q;!function(t,n){const e=Q,r=ot();for(;;)try{if(640662===-parseInt(e(177))/1*(parseInt(e(190))/2)+-parseInt(e(235))/3*(-parseInt(e(181))/4)+-parseInt(e(220))/5*(-parseInt(e(163))/6)+parseInt(e(207))/7*(parseInt(e(213))/8)+-parseInt(e(183))/9+parseInt(e(173))/10+-parseInt(e(175))/11*(parseInt(e(170))/12))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(228)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=Q,n=new RegExp(t(198)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=it(t(176));n.test(r+t(211))&&e[t(194)](r+"input")?it():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(228)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function Q(t,n){const e=ot();return(Q=function(t,n){return e[t-=160]})(t,n)}J(void 0,(function(){const t=Q;let n;try{n=Function(t(203)+t(236)+");")()}catch(a){n=window}const e=n.console=n[t(226)]||{},r=["log","warn",t(242),"error",t(189),"table",t(191)];for(let o=0;o<r[t(218)];o++){const n=J[t(205)].prototype[t(193)](J),a=r[o],s=e[a]||n;n[t(201)]=J[t(193)](J),n[t(192)]=s.toString.bind(s),e[a]=n}}))();const X=[W(214),W(244)],tt=[W(214)],nt=["object"],et=[W(238)],rt=[W(238)],at=[W(238)];function ot(){const t=["zLength","434732uduGzd","addBinding","8521632tIhxJw","repaintAllSlices","x轴缩放","zExtent","string","index","exception","2WAtInd","trace","toString","bind","test","windowHigh","RASDimensions","BoxGeometry","function *\\( *\\)","gger","uniforms","__proto__","EdgesGeometry","return (function() ","inverseMatrix","constructor","value","4221931qNVGKk","y轴缩放","windowLow","extractSlice","chain","LineBasicMaterial","8UvvOBo","scale","Matrix4","min","computeMinMax","length","colorsStops","3479665gOvKHr","dataType","scene","updateTransferFunction","spacing","mesh","console","z剖面","apply","TresGroup","yExtent","x剖面","upperThreshold","stateObject","xLength","15ITPexQ",'{}.constructor("return this")( )',"material","object","lowerThreshold","NormalBlending","copy","info","z轴缩放","visible","eTexture","byteArray","floor","y剖面","6YxmwYW","repaint","primitive","max","matrix","yLength","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","2394780HIUnDr","debu","change","10536490xPNHnn","invert","33qBMFqj","init","709925MVDIYb","selectDataType","call"];return(ot=function(){return t})()}const st=x({__name:W(222),setup(t){const n=W,e=b(-1),r=b(-1),a=b(.6),s=w((()=>{const t=Q;return!(e[t(206)]<=.01&&e.value>=-.01)&&(!(r[t(206)]<=.01&&r[t(206)]>=-.01)&&!(a.value<=.01&&a.value>=-.01))})),i=u(),l=c(),x=(t=>{const n=Q,e=new m(l.xExtent,l[n(230)],l[n(186)],l[n(221)][l[n(178)]].title,l[n(160)]);e[n(224)]=[1,1,1],e.RASDimensions=[Math.floor(e[n(234)]),Math.floor(e.yLength),Math.floor(e[n(180)])],e[n(167)]=new h,e[n(204)]=new(f[n(215)]),e[n(204)][n(241)](e.matrix)[n(174)]();const r=e[n(217)](),a=r[0],o=r[1];return e[n(209)]=a,e[n(195)]=o,e.lowerThreshold=a,e[n(232)]=o,e})(l.byteArray),T=new p(new(f[n(202)])(new(f[n(197)])(x[n(234)],x[n(168)],x.zLength)),new(f[n(212)])({color:6710886})),D=_({x:Math[n(161)](x[n(196)][0]/2),y:Math[n(161)](x[n(196)][1]/2),z:Math.floor(x[n(196)][2]/4)});x[n(195)]=136;const R=x[n(210)]("x",D.x),S=x[n(210)]("y",D.y),M=x.extractSlice("z",D.z),E={vertexShader:n(169),fragmentShader:"\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ",uniforms:{eTexture:{value:i[n(223)]()}},silent:!0,flatShading:!0,side:d,transparent:!0,depthTest:!0,depthWrite:!1,blending:f[n(240)]};R[n(225)][n(237)]=new y(o({baseMaterial:R[n(225)][n(237)]},E)),S[n(225)].material=new y(o({baseMaterial:S.mesh[n(237)]},E)),M[n(225)][n(237)]=new y(o({baseMaterial:M.mesh[n(237)]},E));const L=new g;return L[n(182)](e,"value",{label:n(185),min:-2,max:2,step:.01}),L[n(182)](r,n(206),{label:n(208),min:-2,max:2,step:.01}),L[n(182)](a,"value",{label:n(243),min:-2,max:2,step:.01}),L.addBinding(D,"x",{label:n(231),min:0,max:x[n(196)][0],step:1}),L[n(182)](D,"y",{label:n(162),min:0,max:x.RASDimensions[1],step:1}),L[n(182)](D,"z",{label:n(227),min:0,max:x.RASDimensions[2],step:1}),L.addBinding(x,n(239),{label:"lowerThreshold",min:x[n(216)],max:x[n(166)],step:1}).on(n(172),(()=>{x.repaintAllSlices()})),L[n(182)](x,"upperThreshold",{label:n(232),min:x[n(216)],max:x[n(166)],step:1}).on("change",(()=>{x.repaintAllSlices()})),L.addBinding(x,n(209),{label:n(209),min:x[n(216)],max:x[n(166)],step:1}).on(n(172),(()=>{x[n(184)]()})),L[n(182)](x,n(195),{label:n(195),min:x[n(216)],max:x[n(166)],step:1}).on(n(172),(()=>{x[n(184)]()})),v((()=>D),(t=>{const e=n;R.index=t.x,R[e(164)].call(R),S.index=t.y,S[e(164)][e(179)](S),M[e(188)]=t.z,M[e(164)].call(M)}),{deep:!0}),v((()=>i[n(219)]),(()=>{const t=n;R.mesh[t(237)].uniforms[t(245)].value=i[t(223)](),S.mesh.material[t(200)][t(245)][t(206)]=i.updateTransferFunction(),M[t(225)][t(237)][t(200)][t(245)][t(206)]=i[t(223)]()}),{deep:!0,immediate:!0}),(t,o)=>{const i=n;return I(),j(i(229),{scale:[e[i(206)],r.value,a[i(206)]],visible:s[i(206)]},[z(i(229),{scale:[1/A(x)[i(234)],1/A(x)[i(234)]*A(x)[i(234)]/A(x).yLength,1/A(x).xLength*A(x)[i(234)]/A(x).zLength]},[z(i(165),{object:A(R)[i(225)],renderOrder:1},null,8,nt),z(i(165),{object:A(S).mesh,renderOrder:2},null,8,et),z(i(165),{object:A(M)[i(225)],renderOrder:3},null,8,rt),z(i(165),{object:A(T)},null,8,at)],8,tt)],8,X)}}});function it(t){function n(t){const e=Q;if(typeof t===e(187))return function(t){}[e(205)]("while (true) {}").apply("counter");1!==(""+t/t)[e(218)]||t%20==0?function(){return!0}.constructor(e(171)+e(199)).call("action"):function(){return!1}[e(205)](e(171)+e(199)).apply(e(233)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function ut(){const t=["warning","byteArray","10px","370191bdvRTL"," z轴长度： ","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6351980DVwmLY","log","yExtent","value","result","div","240336IKrxGo","文件类型必须为:'image/x-panasonic-raw'","debu","dataType",'{}.constructor("return this")( )',"modelValue","image/x-panasonic-raw","length"," 点击或者拖拽rawData文件到此区域 ","exception","call","importRawUI","2.8em","300px","2.4em","fileList","action","xExtent","__proto__","title","6543GThwTj"," x轴长度： ","读取Raw原始数据"," 面剖体数据","table","3368ZuWPlc","console","block","apply","请正确输入数值","zExtent","test","target","147512EjYKnA","[change] param:","type","while (true) {}","chain","selectDataType","prototype","constructor","removeFile","11px","counter"," y轴长度： ","input","function *\\( *\\)","readAsArrayBuffer","onload","8bzjeOT","head_256x256x109_uint8.raw","请正确选择rawData文件","2374491IhRNfA","5652reMDmw","toString","10px auto -3px","1065CuGror","bind"];return(ut=function(){return t})()}const ct=dt;!function(t,n){const e=dt,r=ut();for(;;)try{if(193560===-parseInt(e(312))/1+parseInt(e(279))/2+parseInt(e(340))/3*(-parseInt(e(328))/4)+-parseInt(e(335))/5*(parseInt(e(332))/6)+parseInt(e(331))/7+parseInt(e(304))/8*(-parseInt(e(299))/9)+parseInt(e(344))/10)break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const lt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){lt(this,(function(){const t=dt,n=new RegExp(t(325)),e=new RegExp(t(343),"i"),r=mt("init");n.test(r+t(316))&&e[t(310)](r+t(324))?mt():r("0")}))()}();const pt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();pt(void 0,(function(){const t=dt;let n;try{n=Function("return (function() "+t(283)+");")()}catch(a){n=window}const e=n[t(305)]=n.console||{},r=[t(345),"warn","info","error",t(288),t(303),"trace"];for(let o=0;o<r[t(286)];o++){const n=pt[t(319)][t(318)].bind(pt),a=r[o],s=e[a]||n;n[t(297)]=pt[t(336)](pt),n[t(333)]=s[t(333)][t(336)](s),e[a]=n}}))();const ft={key:0,class:"card-wrapper"};function dt(t,n){const e=ut();return(dt=function(t,n){return e[t-=278]})(t,n)}function mt(t){function n(t){const e=dt;if("string"==typeof t)return function(t){}.constructor(e(315))[e(307)](e(322));1!==(""+t/t).length||t%20==0?function(){return!0}[e(319)](e(281)+"gger")[e(289)](e(295)):function(){return!1}[e(319)]("debugger")[e(307)](e(342)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ht=N(x({__name:ct(290),setup(t){const n=ct,e=c();e[n(296)]=256,e[n(346)]=256,e.zExtent=109;const r=b(null),a=b([]),o=t=>{const e=n;console[e(345)](e(313),t)},s=()=>{var t;const e=n;a.value[e(286)]>1&&(null==(t=r[e(347)])||t[e(320)](a.value[0]))},i=()=>{const t=n;if(1!=a[t(347)].length)return q[t(337)](t(330)),!1;if(e.xExtent<=0||e[t(346)]<=0||e[t(309)]<=0)return q.warning(t(308)),!1;if(a.value[0].raw[t(314)]!==t(285))return q[t(337)](t(280)),!1;const r=new FileReader;return r[t(327)]=function(n){const r=t,a=n[r(311)][r(348)];e.setArrayBuffer(a)},r[t(326)](a[t(347)][0].raw),!0};return(t,u)=>{const c=n;return A(e)[c(338)]?O("",!0):(I(),j("div",ft,[T(A(H),{header:c(301)},{default:D((()=>[u[10]||(u[10]=z(c(278),{style:{"margin-bottom":c(321)}},[R("演示参考头部👨‍🦲RawData数据,下载 : "),z("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(329))],-1)),T(A(k),{style:{"min-height":c(291)}},{default:D((()=>[T(A(B),{span:6,style:{"line-height":c(293)}},{default:D((()=>u[5]||(u[5]=[R(c(300))]))),_:1}),T(A(B),{span:18},{default:D((()=>[T(A(F),{precision:0,modelValue:A(e)[c(296)],"onUpdate:modelValue":u[0]||(u[0]=t=>A(e)[c(296)]=t),autofocus:""},null,8,[c(284)])])),_:1})])),_:1}),T(A(k),{style:{"min-height":"2.8em"}},{default:D((()=>[T(A(B),{span:6,style:{"line-height":c(293)}},{default:D((()=>u[6]||(u[6]=[R(c(323))]))),_:1}),T(A(B),{span:18},{default:D((()=>[T(A(F),{precision:0,modelValue:A(e)[c(346)],"onUpdate:modelValue":u[1]||(u[1]=t=>A(e)[c(346)]=t),autofocus:""},null,8,["modelValue"])])),_:1})])),_:1}),T(A(k),{style:{"min-height":c(291)}},{default:D((()=>[T(A(B),{span:6,style:{"line-height":c(293)}},{default:D((()=>u[7]||(u[7]=[R(c(341))]))),_:1}),T(A(B),{span:18},{default:D((()=>[T(A(F),{precision:0,modelValue:A(e)[c(309)],"onUpdate:modelValue":u[2]||(u[2]=t=>A(e)[c(309)]=t),autofocus:""},null,8,[c(284)])])),_:1})])),_:1}),T(A(U),{modelValue:A(e).selectDataType,"onUpdate:modelValue":u[3]||(u[3]=t=>A(e)[c(317)]=t),style:{"margin-bottom":c(339)}},{default:D((()=>[(I(!0),j(S,null,M(A(e)[c(282)],((t,n)=>{const e=c;return I(),E(A(G),{key:n,value:n},{default:D((()=>[T(A(P),{style:{"max-width":e(292)}},{default:D((()=>[R(L(t[e(298)]),1)])),_:2},1024)])),_:2},1032,["value"])})),128))])),_:1},8,[c(284)]),T(A(Y),{ref_key:"uploadRef",ref:r,fileList:a.value,"onUpdate:fileList":u[4]||(u[4]=t=>a[c(347)]=t),onChange:o,httpRequest:s},{default:D((()=>[T(A(C),null,{default:D((()=>u[8]||(u[8]=[R(c(287))]))),_:1})])),_:1},8,[c(294)]),T(A($),{style:{display:c(306),margin:c(334)},onClick:i},{icon:D((()=>[T(A(Z))])),default:D((()=>[u[9]||(u[9]=R(c(302)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]);function yt(){const t=["__proto__","warn","3506118FSdaVr","5395512bBkrOh","apply","rgb(0, 255, 255)","2583981yvWjIF","string","prototype","byteArray","441200pvUFYa","info","#201919","113910yQjjbY","log","TresPerspectiveCamera","rgb(255, 0, 0)","call","gger","test","4827718zRvsYH","counter","while (true) {}","toString","bind","529nIAaYG","constructor",'{}.constructor("return this")( )',"52gRuBMk","debu","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","74ithzaU","error","init","exception","1602JrcARf"];return(yt=function(){return t})()}!function(t,n){const e=bt,r=yt();for(;;)try{if(599166===-parseInt(e(414))/1*(parseInt(e(420))/2)+-parseInt(e(395))/3+-parseInt(e(417))/4*(parseInt(e(399))/5)+parseInt(e(391))/6+parseInt(e(409))/7+-parseInt(e(392))/8+-parseInt(e(388))/9*(-parseInt(e(402))/10))break;r.push(r.shift())}catch(a){r.push(r.shift())}}();const gt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[bt(393)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){gt(this,(function(){const t=bt,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(419),"i"),r=_t(t(422));n.test(r+"chain")&&e[t(408)](r+"input")?_t():r("0")}))()}();const xt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function bt(t,n){const e=yt();return(bt=function(t,n){return e[t-=388]})(t,n)}xt(void 0,(function(){const t=bt,n=function(){const t=bt;let n;try{n=Function("return (function() "+t(416)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=[t(403),t(390),t(400),t(421),t(423),"table","trace"];for(let a=0;a<r.length;a++){const n=xt[t(415)][t(397)][t(413)](xt),o=r[a],s=e[o]||n;n[t(389)]=xt[t(413)](xt),n[t(412)]=s[t(412)][t(413)](s),e[o]=n}}))();const wt=x({__name:"rawDataSurfaceSection",setup(t){const n=bt,e=_({clearColor:n(401),antialias:!0}),r=c();return(t,a)=>{const o=n;return I(),j(S,null,[A(r)[o(398)]?(I(),E(l,{key:0,curColorList:[["rgba(0, 0, 0, 0)",0],[o(394),.4],[o(405),1]]})):O("",!0),T(A(i),V(e,{"window-size":""}),{default:D((()=>[a[0]||(a[0]=z(o(404),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),T(A(s)),A(r).byteArray?(I(),E(st,{key:0})):O("",!0)])),_:1},16),T(ht)],64)}}});function _t(t){function n(t){const e=bt;if(typeof t===e(396))return function(t){}[e(415)](e(411))[e(393)](e(410));1!==(""+t/t).length||t%20==0?function(){return!0}[e(415)](e(418)+e(407))[e(406)]("action"):function(){return!1}[e(415)]("debu"+e(407))[e(393)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{wt as default};
