import{bZ as t,a0 as n,q as e,r}from"./three.fnkrvySq1721721076264.js";import{N as o}from"./@tresjs.tWkmYPO61721721076264.js";import{R as s,b as i}from"./all.three.e2UOJjs11721721076264.js";import{d as c,a4 as a,a1 as u,w as f,o as l,D as p,J as b,u as d}from"./@vue.Q1VpS3901721721076264.js";const h=w;!function(t,n){const e=w,r=y();for(;;)try{if(214353===-parseInt(e(382))/1*(-parseInt(e(359))/2)+-parseInt(e(395))/3+parseInt(e(396))/4*(parseInt(e(362))/5)+-parseInt(e(403))/6*(-parseInt(e(385))/7)+parseInt(e(406))/8*(-parseInt(e(408))/9)+parseInt(e(353))/10*(-parseInt(e(374))/11)+parseInt(e(356))/12)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(407)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function w(t,n){const e=y();return(w=function(t,n){return e[t-=350]})(t,n)}!function(){m(this,(function(){const t=w,n=new RegExp(t(401)),e=new RegExp(t(372),"i"),r=_(t(369));n[t(388)](r+t(352))&&e[t(388)](r+t(355))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[w(407)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=w;let n;try{n=Function(t(390)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(354)]||{},r=["log",t(410),t(365),t(351),"exception","table","trace"];for(let s=0;s<r.length;s++){const n=g.constructor[t(370)].bind(g),o=r[s],i=e[o]||n;n[t(398)]=g[t(377)](g),n[t(367)]=i[t(367)].bind(i),e[o]=n}}))();const v=["scale"],j=[h(404)],I=[h(404)];function y(){const t=["string","toString","renderTargetUniform","init","prototype","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","stateObject","33rSqALf","debu","while (true) {}","bind","add","uniforms","primitive","repeat","463zCGeIW","constructor","update","49hjkxKA","length","reflectorDUDV","test","uReflectivity","return (function() ","size","reflectivity","visible","value","797112bITNVI","56EPCtEa","uMatrix","__proto__","forEach","ignoreObjects","function *\\( *\\)","set","233646aRECYK","object","TresGroup","8PLZqzs","apply","3692718quFAwm","wrapT","warn","isMesh","showGridHelper","counter","renderTarget","error","chain","42270YBPLbw","console","input","1288488GbPUeO","onBeforeRender","action","1394WcsSSp","texture","tReflect","71560PNpwvj","wrapS","rotation","info"];return(y=function(){return t})()}const x=c({__name:h(387),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]}},async setup(c,{expose:m}){const w=h;let g,y;const x=c,_=new s,R=new t(x[w(391)][0]-.5,x.size[1]);R.visible=x[w(412)];const{map:z}=([g,y]=a((()=>o({map:"./plugins/floor/image/waterdudv.jpg"}))),g=await g,y(),g);z[w(363)]=n,z[w(409)]=n,z[w(381)][w(402)](6,3);const P=new i({map:z,reflectivity:x[w(392)]});P[w(379)][w(361)]={value:_[w(350)][w(360)]},P.uniforms.tReflectBlur=_[w(368)],P[w(379)][w(397)]=_.textureMatrixUniform;const E=new e(new r(x[w(391)][0],x[w(391)][1]),P);return E[w(364)].x=-Math.PI/2,E[w(378)](_),E[w(357)]=(t,n,e)=>{const r=w;E.visible=!1,x[r(400)][r(399)]((t=>{const n=r;t[n(411)]&&(t[n(393)]=!1),t[n(394)]&&t.value[n(411)]&&(t[n(394)][n(393)]=!1)})),_[r(384)](t,n,e),x.ignoreObjects[r(399)]((t=>{const n=r;t[n(411)]&&(t.visible=!0),t[n(394)]&&t[n(394)][n(411)]&&(t[n(394)][n(393)]=!0)})),E[r(393)]=!0},u((()=>{const t=w;x[t(392)]&&(P.uniforms[t(389)][t(394)]=x[t(392)])})),f((()=>x[w(412)]),(t=>{R[w(393)]=t})),m({reflector:_}),(t,n)=>{const e=w;return l(),p(e(405),{scale:x.scale},[b(e(380),{object:d(E),"position-y":-.01},null,8,j),b("primitive",{object:d(R)},null,8,I)],8,v)}}});function _(t){function n(t){const e=w;if(typeof t===e(366))return function(t){}[e(383)](e(376))[e(407)](e(413));1!==(""+t/t)[e(386)]||t%20==0?function(){return!0}[e(383)](e(375)+"gger")[e(371)](e(358)):function(){return!1}[e(383)](e(375)+"gger")[e(407)](e(373)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as _};
