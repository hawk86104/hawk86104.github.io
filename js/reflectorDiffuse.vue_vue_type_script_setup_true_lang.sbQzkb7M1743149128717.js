import{ce as t,ae as n,C as e,V as r}from"./three.hBhj0ayh1743149128717.js";import{a as o}from"./@tresjs.GCV-1VTd1743149128717.js";import{R as c}from"./all.three.I-k2KxK_1743149128717.js";import{d as a,b as i,a3 as s,a2 as u,o as l,H as f,N as p,m,u as d}from"./@vue.L-brCdZe1743149128717.js";!function(t,n){const e=v,r=x();for(;;)try{if(901742===-parseInt(e(162))/1+parseInt(e(157))/2*(-parseInt(e(166))/3)+parseInt(e(169))/4+parseInt(e(150))/5*(-parseInt(e(163))/6)+-parseInt(e(155))/7+parseInt(e(161))/8+parseInt(e(136))/9*(parseInt(e(140))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const h=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(137)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function v(t,n){const e=x();return v=function(t,n){return e[t-=130]},v(t,n)}!function(){h(this,(function(){const t=v,n=new RegExp(t(132)),e=new RegExp(t(154),"i"),r=y("init");n[t(133)](r+t(139))&&e.test(r+"input")?y():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(137)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=v;let n;try{n=Function(t(164)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n[t(165)]=n.console||{},r=[t(131),t(144),"info",t(170),t(151),"table",t(153)];for(let c=0;c<r.length;c++){const n=g.constructor[t(171)][t(141)](g),o=r[c],a=e[o]||n;n.__proto__=g[t(141)](g),n[t(160)]=a[t(160)][t(141)](a),e[o]=n}}))();function x(){const t=["while (true) {}","1703596CaZKFS","error","prototype","string","\n\t\t#include <project_vertex>\n\n\t\tvCoord = textureMatrix * vec4(transformed, 1.0);\n\t\tvToEye = cameraPosition - (modelMatrix * vec4(transformed, 1.0)).xyz;\n\t\t","vertexShader","log","function *\\( *\\)","test","stateObject","call","432Cecevr","apply","#include <project_vertex>","chain","388210BWOppi","bind","fragmentShader","#include <emissivemap_fragment>","warn","void main() {","replace","gger","debu","action","5375jWjKJU","exception","\n\t\tuniform mat4 textureMatrix;\n\t\tout vec4 vCoord;\n\t\tout vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5847408lUMfJG","\n\t\t#include <emissivemap_fragment>\n\n\t\tvec4 normalColor = texture2D(normalMap, vNormalMapUv * normalScale);\n\t\tvec3 reflectNormal = normalize(vec3(normalColor.r * 2.0 - 1.0, normalColor.b, normalColor.g * 2.0 - 1.0));\n\t\tvec3 reflectCoord = vCoord.xyz / vCoord.w;\n\t\tvec2 reflectUv = reflectCoord.xy + reflectCoord.z * reflectNormal.xz * 0.05;\n\t\tvec4 reflectColor = texture2D(reflectMap, reflectUv);\n\n\t\t// Fresnel term\n\t\tvec3 toEye = normalize(vToEye);\n\t\tfloat theta = max(dot(toEye, normal), 0.0);\n\t\tfloat reflectance = pow((1.0 - theta), 5.0);\n\n\t\treflectColor = mix(vec4(0), reflectColor, reflectance);\n\n\t\tdiffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + reflectColor.rgb * mixStrength);\n\t\t","22HCMisd","\n\t\tuniform sampler2D reflectMap;\n\t\tuniform float mirror;\n\t\tuniform float mixStrength;\n\t\tin vec4 vCoord;\n\t\tin vec3 vToEye;\n\n\t\tvoid main() {\n\t\t","length","toString","10394776NoIQcm","197218KidabA","5556xsoWcC","return (function() ","console","179700Vasgrz","constructor"];return(x=function(){return t})()}function y(t){function n(t){const e=v;if(typeof t===e(172))return function(t){}.constructor(e(168))[e(137)]("counter");1!==(""+t/t)[e(159)]||t%20==0?function(){return!0}[e(167)](e(148)+e(147))[e(135)](e(149)):function(){return!1}[e(167)](e(148)+e(147)).apply(e(134)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const _=M;!function(t,n){const e=M,r=S();for(;;)try{if(496491===-parseInt(e(548))/1+-parseInt(e(515))/2*(parseInt(e(551))/3)+parseInt(e(508))/4*(-parseInt(e(518))/5)+parseInt(e(510))/6*(-parseInt(e(501))/7)+parseInt(e(521))/8+-parseInt(e(543))/9+-parseInt(e(553))/10*(-parseInt(e(503))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[M(523)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=M,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=E(t(531));n[t(547)](r+t(536))&&e[t(547)](r+"input")?E():r("0")}))()}();const I=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=M;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(529)]||{},r=[t(525),t(537),t(520),"error",t(507),t(505),t(534)];for(let c=0;c<r[t(528)];c++){const n=I[t(502)][t(550)][t(519)](I),o=r[c],a=e[o]||n;n[t(539)]=I[t(519)](I),n.toString=a[t(556)][t(519)](a),e[o]=n}}))();const w=[_(506)],C=[_(541),_(544)];function M(t,n){const e=S();return M=function(t,n){return e[t-=496]},M(t,n)}const j=a({__name:_(499),props:{mirror:{default:1},mixStrength:{default:10},showGridHelper:{type:Boolean,default:!0},color:{default:_(516)}},async setup(a){const h=_;let g,x;const y=a,b=new t(9.5,10),I=i(),M=i(),j=i(),S=new c,E={mirror:{value:y.mirror},mixStrength:{value:y[h(533)]}},z=([g,x]=s((()=>o(["./plugins/floor/image/polished_concrete_basecolor.jpg","./plugins/floor/image/polished_concrete_normal.jpg","./plugins/floor/image/polished_concrete_orm.jpg"]))),g=await g,x(),g);for(var R=0;R<3;R++)z[R][h(549)]=n,z[R][h(535)]=n,z[R].repeat.set(16,16);const T={color:new e(h(517)),metalness:1,roughness:1,map:z[0],metalnessMap:z[2],roughnessMap:z[2],aoMap:z[2],aoMapIntensity:1,normalMap:z[1],normalScale:new r(3,3)},G=t=>{const n=h;t[n(496)][n(509)]=S[n(497)],t.uniforms[n(498)]=S.textureMatrixUniform,t[n(496)]=Object[n(552)](t.uniforms,E),(t=>{const n=v;t[n(130)]=t[n(130)][n(146)](n(145),n(152)),t[n(130)]=t.vertexShader.replace(n(138),n(173))})(t),(t=>{const n=v;t[n(142)]=t[n(142)][n(146)](n(145),n(158)),t[n(142)]=t.fragmentShader[n(146)](n(143),n(156))})(t)};return u((()=>{const t=h;I[t(524)]&&(I.value.attributes[t(522)]=I[t(524)][t(504)].uv),j[t(524)]&&(j.value[t(526)][t(527)]=1,j[t(524)][t(555)]=G),M[t(524)]&&(M[t(524)].add(S),M.value.onBeforeRender=(n,e,r)=>{S[t(500)](n,e,r)}),y[t(554)]&&j[t(524)]&&(j.value.color=new e(y[t(554)]))})),(t,n)=>{const e=h;return l(),f("TresGroup",null,[p("TresMesh",{ref_key:e(530),ref:M,"rotation-x":-Math.PI/2,"position-y":-.1},[p(e(513),{ref_key:e(511),ref:I,args:[10,10]},null,512),p("TresMeshStandardMaterial",m({ref_key:"tmsmRef",ref:j},T),null,16)],8,w),p(e(540),{object:d(b),visible:t[e(532)]},null,8,C)])}}});function S(){const t=["wrapS","prototype","4392qFRtdN","assign","10lhaGFx","color","onBeforeCompile","toString","uniforms","renderTargetUniform","textureMatrix","reflectorDiffuse","update","6692PXKMEI","constructor","41237009fhVOJi","attributes","table","rotation-x","exception","4BnbODL","reflectMap","5316pkfqGv","tpgRef","debu","TresPlaneGeometry","while (true) {}","674Oxxsdr","#ffffff","#444","4642100hEwobc","bind","info","230960snpaQo","uv1","apply","value","log","aoMap","channel","length","console","tmRef","init","showGridHelper","mixStrength","trace","wrapT","chain","warn","stateObject","__proto__","primitive","object","gger","654957GhIsJK","visible","call","counter","test","939621xcjhtS"];return(S=function(){return t})()}function E(t){function n(t){const e=M;if("string"==typeof t)return function(t){}.constructor(e(514))[e(523)](e(546));1!==(""+t/t)[e(528)]||t%20==0?function(){return!0}[e(502)](e(512)+e(542))[e(545)]("action"):function(){return!1}[e(502)](e(512)+e(542))[e(523)](e(538)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{j as _};
