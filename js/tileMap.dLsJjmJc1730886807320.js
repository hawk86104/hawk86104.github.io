import{C as t,_ as n,cz as e,ak as o,am as r}from"./three._P_a_E_Z1730886807320.js";import{P as s}from"./tweakpane.yHWGBmom1730886807320.js";import{m as i,e as a}from"./@tresjs.iUmyNPdW1730886807320.js";import{P as c,b as u,c as p,M as l,T as m,a as f,d}from"./index.FV6Z3qVa1730886807320.js";import{d as g,a3 as h,w as j,o as b,D as w,u as x,X as y,r as v,e as I,j as M,g as _,f as C,al as z,m as B,F as S}from"./@vue.-THQH3GC1730886807320.js";import{_ as k}from"./raycasterEvent.HtwUaJy-1730886807320.js";import{a as T}from"./utils.4CdJZlT81730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./@mapbox.8-eKqrpv1730886807320.js";import"./@amap.T-fZ7qS81730886807320.js";import"./three-mesh-bvh.2CmIl65_1730886807320.js";import"./three-custom-shader-material.-r7dCNA-1730886807320.js";import"./@fesjs.rCnyFuNL1730886807320.js";import"./vue-router.QnjVwwup1730886807320.js";import"./lodash-es.kYt-_xTG1730886807320.js";import"./@qlin.yHhFDldE1730886807320.js";import"./pinia.ZAQpp9No1730886807320.js";import"./vue-demi.C4xddsk91730886807320.js";import"./@floating-ui.BPbuo5Gx1730886807320.js";import"./@juggle.7yjBMqoW1730886807320.js";import"./@tweenjs.J1BAvmPw1730886807320.js";import"./utils.LYsUcLmI1730886807320.js";import"./d3-geo.WOS_GJaB1730886807320.js";import"./d3-array.AhNJy1f41730886807320.js";import"./http.Al6bUCbg1730886807320.js";import"./axios.Ng308AU61730886807320.js";import"./color.LqcrbDA_1730886807320.js";import"./color-string.zgHMGU4c1730886807320.js";import"./color-name.5TTp0dT01730886807320.js";import"./simple-swizzle.qFzbSnIZ1730886807320.js";import"./is-arrayish.F4IZzwIn1730886807320.js";import"./color-convert.b0T5vYBg1730886807320.js";import"./lodash.KS9xUVdL1730886807320.js";import"./naive-ui.RdP4QYdN1730886807320.js";import"./date-fns.dsKIdits1730886807320.js";import"./@css-render.-hhNaGfa1730886807320.js";import"./seemly.SjiSeX2v1730886807320.js";import"./css-render.1oj8AUAE1730886807320.js";import"./@emotion.ZD_ZYAgY1730886807320.js";import"./vooks.ZJpOeBRA1730886807320.js";import"./evtd.DtfwxtIl1730886807320.js";import"./vueuc.RLxK3AmV1730886807320.js";import"./vdirs.6RGGECGW1730886807320.js";import"./treemate.dcEdf2le1730886807320.js";import"./date-fns-tz.qzoT4pvw1730886807320.js";import"./async-validator.-YBkpS4I1730886807320.js";const Z=R;!function(t,n){const e=R,o=A();for(;;)try{if(181622===parseInt(e(421))/1+-parseInt(e(414))/2*(-parseInt(e(440))/3)+parseInt(e(393))/4+parseInt(e(452))/5*(parseInt(e(426))/6)+parseInt(e(396))/7+parseInt(e(404))/8+-parseInt(e(453))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(446)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=R,n=new RegExp(t(382)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=K(t(445));n[t(388)](o+"chain")&&e.test(o+t(401))?K():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(446)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(){const t=["provider","function *\\( *\\)","string","mapCenter","rotation","target","length","test","Color","updateProjectionMatrix","tileMapMesh","showBoundingBox","670124iKJLSm","#fff","info","1504307xOQhjc","genBright","enableDamping","monochrome","primitive","input","filter","bbox","566360PEUgVa","tweenInstance","isMonochrome","position0","console","stateObject","debu","showTileNo","table","action","74BPGPNf","gger","exception","maxZoom","update","genSaturation","trace","105813qhEhKQ","source","toString","minDistance","flatShading","180834kyDrMl","opposite","PerspectiveCamera","dampingFactor","Vector3","while (true) {}","warn","error","value","position","lookAt","call","useStandardMaterial","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","16557IxMqjJ","wireframe",'{}.constructor("return this")( )',"https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","bind","init","apply","log","far","coordType","constructor","return (function() ","40wTDaJz","7404597lJnntn","set","useWorker","genContrast"];return(A=function(){return t})()}P(void 0,(function(){const t=R,n=function(){const t=R;let n;try{n=Function(t(451)+t(442)+");")()}catch(e){n=window}return n}(),e=n[t(408)]=n[t(408)]||{},o=[t(447),t(432),t(395),t(433),t(416),t(412),t(420)];for(let r=0;r<o[t(387)];r++){const n=P.constructor.prototype[t(444)](P),s=o[r],i=e[s]||n;n.__proto__=P.bind(P),n[t(423)]=i[t(423)][t(444)](i),e[s]=n}}))();const D=["object",Z(385)];function R(t,n){const e=A();return(R=function(t,n){return e[t-=378]})(t,n)}const F=g({__name:Z(391),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:Z(394)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(o,{expose:r}){const s=Z,d=o,{renderer:g,scene:y}=i();(new c).coordType=u;const v=new p;v[s(422)]=s(443),v[s(449)]=u;const I=new l;I[s(422)]=s(439),I[s(411)]=!1,I[s(379)]=!0;const M=new m(v,I);if(M[s(392)]=!1,M[s(441)]=!1,M[s(425)]=!1,M[s(438)]=!1,M[s(402)]={opposite:d.opposite,monochrome:d.isMonochrome?{r:.299,g:.587,b:.114}:null,genBright:d[s(397)],genContrast:d.genContrast,genSaturation:d[s(419)]},d[s(399)]){let n=new t(d[s(399)]);M[s(402)]&&(M[s(402)][s(399)]={r:n.r,g:n.g,b:n.b})}const _=new f;_[s(381)]=M,_.bbox=d[s(403)],_.maxZoom=d[s(417)];const C=new(n[s(428)])(60,window.innerWidth/window.innerHeight,1,1e8);C.up=new(n[s(430)])(0,1,0),C[s(435)].set(d[s(384)][0],d[s(384)][2],-d.mapCenter[1]),C[s(436)](new(n[s(430)])(C[s(435)].x,0,C[s(435)].z-2e3)),_.camera=C;let z=null;h((()=>{const t=s;g[t(434)]&&!z&&(z=new e(C,g[t(434)].domElement),z[t(398)]=!0,z[t(429)]=.05,z[t(424)]=600,z[t(407)][t(378)](C.position.x,C[t(435)].y,C[t(435)].z),z[t(386)].set(C[t(435)].x,0,C.position.z-2e3))})),j((()=>[d[s(427)],d[s(406)],d[s(399)]]),(([t,e,o])=>{const r=s;if(M[r(402)]){let s=new(n[r(389)])(o);M[r(402)][r(427)]=t,M[r(402)][r(399)]=e?{r:s.r,g:s.g,b:s.b}:null}})),j((()=>[d[s(397)],d.genContrast,d[s(419)]]),(([t,n,e])=>{const o=s;M[o(402)]&&(M.filter[o(397)]=t,M[o(402)][o(380)]=n,M[o(402)].genSaturation=e)}));const{onLoop:B}=a();return B((()=>{var t;const n=s;if(g[n(434)]){null==(t=d[n(405)])||t[n(418)](),z&&z[n(418)](),_.update();const e=50*Math.abs(C.position.y);C[n(448)]=e+5e3,C[n(390)](),g[n(434)].render(y[n(434)],C)}})),r({camera:C,map:_,orbitControl:z}),(t,n)=>{const e=s;return b(),w(e(400),{object:x(_),rotation:[-Math.PI/2,0,0]},null,8,D)}}});function K(t){function n(t){const e=R;if(typeof t===e(383))return function(t){}[e(450)](e(431))[e(446)]("counter");1!==(""+t/t)[e(387)]||t%20==0?function(){return!0}[e(450)]("debu"+e(415))[e(437)](e(413)):function(){return!1}[e(450)](e(410)+e(415))[e(446)](e(409)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const X=Q;!function(t,n){const e=Q,o=J();for(;;)try{if(437158===parseInt(e(339))/1*(parseInt(e(304))/2)+parseInt(e(315))/3+parseInt(e(322))/4+parseInt(e(302))/5+parseInt(e(334))/6+parseInt(e(306))/7+-parseInt(e(312))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Q(324)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(){const t=["addBinding","string","addBlade","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","genSaturation","TresCanvas","while (true) {}","2208774FqKTjx","gger","bind","对比度","tileMap","109191noXZMS","prototype","#201919","#4688b5","tileMapMeshRef","xjk","length","camera","test","chain","error","list","stateObject","genContrast","input","console","饱和度","tweenInstance","3880780DgdGpI","change","16BTcyMd","orbitControl","794206UXieyn","exception","action","opposite","toString","debu","22555456lvAIQe","call","新街口","2186793BXXYCd","monochrome","nss","trace","value","manual","单色滤镜","1585552KlyKWM","constructor","apply","Vector3"];return(J=function(){return t})()}!function(){q(this,(function(){const t=Q,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(329),"i"),o=$("init");n[t(292)](o+t(293))&&e.test(o+t(298))?$():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(t,n){const e=J();return(Q=function(t,n){return e[t-=287]})(t,n)}L(void 0,(function(){const t=Q;let n;try{n=Function(t(330)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(299)]||{},o=["log","warn","info",t(294),t(307),"table",t(318)];for(let s=0;s<o[t(290)];s++){const n=L[t(323)][t(340)][t(336)](L),r=o[s],i=e[r]||n;n.__proto__=L[t(336)](L),n.toString=i[t(310)].bind(i),e[r]=n}}))();const W=g({__name:X(338),setup(t){const e=X,i=d(118.779958,32.017136),a=[i[0],i[1],5e3],c=y(),u=v({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(287),mapCenter:a,tweenInstance:null}),p=new s({title:"参数"});p.addBinding(u,e(309),{label:"反色"}),p[e(326)](u,"genBright",{label:"高亮",min:.1,max:3,step:.1}),p[e(326)](u,e(297),{label:e(337),min:.1,max:3,step:.1}),p.addBinding(u,e(331),{label:e(300),min:.1,max:3,step:.1}),p[e(326)](u,"isMonochrome",{label:e(321)}),p.addBinding(u,e(316),{label:"滤镜颜色"});const l={at:d(118.7425,31.9998),xjk:d(118.7842,32.0418),nss:d(118.7503,31.9082)};p[e(328)]({view:e(295),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:e(314),value:e(289)},{text:"牛首山",value:e(317)}],value:"at"}).on(e(303),(t=>{const o=e,r=new(n[o(325)])(l[t.value][0],2e3,-l[t.value][1]);u[o(301)]=T(c[o(319)][o(291)],r,c[o(319)][o(305)],[0,-300],4e3)}));const m=v({clearColor:e(341),antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(320),outputColorSpace:o,toneMapping:r});return setTimeout((()=>{const t=e,o=l.at,r=new(n[t(325)])(o[0],1600,-o[1]);u[t(301)]=T(c.value[t(291)],r,c[t(319)][t(305)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=I(o(332));return b(),w(S,null,[M(r,B(m,{"window-size":""}),{default:_((()=>[(b(),C(z,null,{default:_((()=>[M(F,B(u,{ref_key:o(288),ref:c,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),M(k,{tileMapRef:c[o(319)]},null,8,["tileMapRef"])],64)}}});function $(t){function n(t){const e=Q;if(typeof t===e(327))return function(t){}[e(323)](e(333))[e(324)]("counter");1!==(""+t/t)[e(290)]||t%20==0?function(){return!0}[e(323)](e(311)+"gger")[e(313)](e(308)):function(){return!1}[e(323)]("debu"+e(335)).apply(e(296)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{W as default};
