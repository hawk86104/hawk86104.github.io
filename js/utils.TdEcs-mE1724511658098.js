import{a as t,B as n,q as e,b_ as r,C as o,j as s,Z as i}from"./three.6cxCQsIj1724511658098.js";import{x as c}from"./@fesjs.OLRUJJVs1724511658098.js";import{N as a}from"./@tresjs.6SjGVF2a1724511658098.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.ePC05_bs1724511658098.js";function l(t,n){const e=y();return(l=function(t,n){return e[t-=178]})(t,n)}!function(t,n){const e=l,r=y();for(;;)try{if(593071===-parseInt(e(197))/1+parseInt(e(193))/2+parseInt(e(229))/3+parseInt(e(253))/4*(-parseInt(e(208))/5)+parseInt(e(210))/6+parseInt(e(178))/7+parseInt(e(188))/8*(-parseInt(e(221))/9))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const m=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){m(this,(function(){const t=l,n=new RegExp(t(250)),e=new RegExp(t(252),"i"),r=_(t(218));n[t(190)](r+t(241))&&e.test(r+t(187))?_():r("0")}))()}();const g=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[l(192)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=l,n=function(){const t=l;let n;try{n=Function(t(248)+t(242)+");")()}catch(e){n=window}return n}(),e=n[t(223)]=n.console||{},r=["log",t(255),t(212),t(198),"exception",t(219),t(209)];for(let o=0;o<r[t(246)];o++){const n=g[t(232)][t(233)][t(207)](g),s=r[o],i=e[s]||n;n.__proto__=g.bind(g),n[t(181)]=i[t(181)][t(207)](i),e[s]=n}}))();const h=(n,e=!1)=>{const r=l;n[r(184)]();const{max:o,min:s}=n[r(244)];n[r(214)]("uv");const i=o.x-s.x,c=o.y-s.y,a=[];for(let t=0;t<n.attributes[r(204)].count;t++)e?(a[r(230)]((n[r(224)][r(204)][r(236)](t)-(s.x+o.x)/2)/i),a[r(230)]((n[r(224)][r(204)][r(203)](t)-(s.y+o.y)/2)/c)):(a[r(230)]((n.attributes[r(204)][r(236)](t)-s.x)/i),a[r(230)]((n[r(224)][r(204)][r(203)](t)-s.y)/c));const u=new Float32Array(a);n[r(206)]("uv",new t(u,2))},d=(t,n)=>new Promise(((e,r)=>{const o=l;c(t,{},{method:"get",mergeRequest:!0})[o(243)]((t=>{n&&e(t[n]),e(t.features)}))[o(237)]((t=>{console.error(t),r(t)}))}));function y(){const t=["uniforms","Box3","set","2394378PfkOxW","push","applyMatrix4","constructor","prototype","negate","computeBoundsTree","getX","catch","counter","gger","value","chain",'{}.constructor("return this")( )',"then","boundingBox","expandByObject","length","#fff","return (function() ","reflectivity","function *\\( *\\)","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","95332hqMWWx","depthTest","warn","5360642LiIMMv","min","setY","toString","while (true) {}","max","computeBoundingBox","random","side","input","8jDwPai","geometry","test","copy","apply","146420EBnngf","call","add","material","349326OpqJbj","error","divideScalar","getSize","sub","children","getY","position","disposeBoundsTree","setAttribute","bind","185FRjGIt","trace","4083570zEFjKa","depthWrite","info","debu","deleteAttribute","transparent","forEach","count","init","table","stateObject","4441671tJymCx","getCenter","console","attributes","action"];return(y=function(){return t})()}const x=t=>{const n=l,e=(new(THREE[n(227)])).setFromObject(t),r=new THREE.Vector3;e[n(222)](r),t[n(202)][n(216)]((t=>{t[n(204)].sub(r)})),t.position[n(191)](r[n(234)]())},w=()=>{const t=l;n.prototype[t(235)]=u,n[t(233)][t(205)]=f,e.prototype.raycast=p},b=async t=>{const n=l,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t.geometry.clone();h(c),c[n(235)]();const u=new r(c,{color:new o(n(247)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material[n(215)]=!0,u[n(196)][n(211)]=!0,u.material[n(254)]=!0,u.material[n(186)]=i,u[n(196)].uniforms.config[n(240)].w=20,u.material[n(226)][n(249)][n(240)]=.46,u};function j(t){const n=l,e=[];for(let o=0;o<t[n(246)];o++)e[n(230)](new s(t[o].x,t[o].y));const r=new s;for(let o=0;o<e[n(246)];o++)r[n(195)](e[o]);r[n(199)](e[n(246)]);for(let o=0;o<e[n(246)];o++)e[o][n(201)](r);return{points:e,centerPoint:r}}function _(t){function n(t){const e=l;if(typeof t===e(251))return function(t){}[e(232)](e(182))[e(192)](e(238));1!==(""+t/t)[e(246)]||t%20==0?function(){return!0}.constructor(e(213)+e(239))[e(194)](e(225)):function(){return!1}[e(232)]("debu"+e(239))[e(192)](e(220)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,j as g,w as i,d as l,h as r,b as s};
