import{z as t,p as n,Y as e}from"./@tresjs.IsKybBdF1729505164040.js";import{_ as r,Y as o,V as s}from"./three.YREzp-_G1729505164040.js";import{_ as c,n as i,c as a}from"./three-tile.aZFEED7i1729505164040.js";import{s as u,b as p,_ as l,a as f}from"./informationDiv.DCki9jH_1729505164040.js";import{d as m,a4 as h,w as d,o as g,E as y,L as b,u as I,r as w,b as j,f as _,g as x,j as v,m as S,al as k,F as T,e as z,aj as A,ak as M}from"./@vue.JNsx1iN61729505164040.js";import{P as B}from"./tweakpane.yHWGBmom1729505164040.js";import"./@vueuse.9dhnH8nd1729505164040.js";import"./@fesjs.ysb1R5mQ1729505164040.js";import"./vue-router.xkfjO_BL1729505164040.js";import"./lodash-es.kYt-_xTG1729505164040.js";import"./@qlin.yHhFDldE1729505164040.js";import"./pinia.LeDA9WVb1729505164040.js";import"./@floating-ui.BPbuo5Gx1729505164040.js";import"./@juggle.7yjBMqoW1729505164040.js";const E=Z;!function(t,n){const e=Z,r=P();for(;;)try{if(748680===parseInt(e(444))/1*(-parseInt(e(446))/2)+parseInt(e(438))/3*(parseInt(e(388))/4)+-parseInt(e(404))/5*(parseInt(e(421))/6)+parseInt(e(436))/7+parseInt(e(429))/8+-parseInt(e(394))/9*(-parseInt(e(427))/10)+-parseInt(e(442))/11*(parseInt(e(397))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){D(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(417),"i"),r=W("init");n.test(r+t(419))&&e.test(r+"input")?W():r("0")}))()}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Z(396)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function P(){const t=["275bWQfES","log","144yjSaAn","info","4408KCdJhG","194580aNFOml","counter","TresGroup","warn","toString","rotateX","12136023bAyvni","console","apply","1825020RknuSc","radraImgShow","trace","table","applyMatrix4","error","return (function() ","162325PdFCWd","needsUpdate","MeshPhongMaterial","40.png","scale","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311","DoubleSide","constructor","opacity","__proto__","bind","TresMesh","onBeforeCompile","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geo2pos","chain","action","6VwAcmx","prototype","material","string","position-y","debu","10mbTjOj",'{}.constructor("return this")( )',"10291728lFkeUx","position","vertexShader","stateObject","uniform sampler2D map;\n\t","map","height","7006741sLkmpV","replace","78zQBiZy","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","exception","length"];return(P=function(){return t})()}G(void 0,(function(){const t=Z;let n;try{n=Function(t(403)+t(428)+");")()}catch(o){n=window}const e=n[t(395)]=n[t(395)]||{},r=[t(443),t(391),t(445),t(402),t(440),t(400),t(399)];for(let s=0;s<r[t(441)];s++){const n=G[t(411)][t(422)][t(414)](G),o=r[s],c=e[o]||n;n[t(413)]=G.bind(G),n[t(392)]=c[t(392)][t(414)](c),e[o]=n}}))();const F=[E(430)],L=[E(408),E(423),E(393),E(425)],Q=[b("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)];function Z(t,n){const e=P();return(Z=function(t,n){return e[t-=388]})(t,n)}const R=m({__name:E(398),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=E;let c,i;const a=n,p=new(r[e(406)])({displacementMap:new o,transparent:!0,side:r[e(410)],opacity:a[e(412)],displacementScale:.5,displacementBias:0});p[e(416)]=t=>{const n=e;t.vertexShader=n(433)+t[n(431)],t.vertexShader=t[n(431)][n(437)]("#include <displacementmap_vertex>",n(439))};const l=a[e(434)][e(418)](new s(105,34,0));l[e(401)](a[e(434)].matrix);const f=u(a[e(434)],{x:67,y:11},{x:140,y:57},a[e(435)]),m=[];for(let t=0;t<9;t++)m.push(e(409)+t+e(407));let w=0;const j=([c,i]=h((()=>t(m))),c=await c,i(),c);p[e(434)]=j[w],d((()=>[a.color,a.opacity]),(([t,n])=>{p.opacity=n}));let _=null,x=!1;return x?(clearInterval(_),_=null,x=!1):(_=setInterval((()=>{const t=Z;w=w<m[t(441)]-1?w+1:0,p[t(434)]=j[w],p[t(405)]=!0,console[t(443)](w)}),1e3),x=!0),(t,n)=>{const r=e;return g(),y(r(390),{position:[...I(l)]},[b(r(415),{scale:[I(f).x,I(f).y,t[r(435)]],material:I(p),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},Q,8,L)],8,F)}}});function W(t){function n(t){const e=Z;if(typeof t===e(424))return function(t){}.constructor("while (true) {}")[e(396)](e(389));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(426)+"gger").call(e(420)):function(){return!1}.constructor(e(426)+"gger")[e(396)](e(432)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=$;!function(t,n){const e=$,r=K();for(;;)try{if(101582===parseInt(e(370))/1+-parseInt(e(418))/2+-parseInt(e(383))/3*(-parseInt(e(373))/4)+parseInt(e(400))/5*(-parseInt(e(387))/6)+-parseInt(e(374))/7+-parseInt(e(372))/8*(parseInt(e(403))/9)+parseInt(e(410))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[$(385)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){H(this,(function(){const t=$,n=new RegExp(t(386)),e=new RegExp(t(402),"i"),r=Y("init");n[t(382)](r+t(393))&&e[t(382)](r+t(392))?Y():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[$(385)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();O(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(398)+t(417)+");")()}catch(e){n=window}return n}(),e=n[t(394)]=n[t(394)]||{},r=[t(395),t(424),"info",t(396),t(378),t(388),t(420)];for(let o=0;o<r.length;o++){const n=O[t(422)][t(416)][t(411)](O),s=r[o],c=e[s]||n;n[t(405)]=O.bind(O),n.toString=c.toString[t(411)](c),e[s]=n}}))();const N=[C(381)],U="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw";function $(t,n){const e=K();return($=function(t,n){return e[t-=370]})(t,n)}function K(){const t=["debu","exception","height","mapbox.terrain-rgb","object","test","12dhyleH","stateObject","apply","function *\\( *\\)","318pKapBs","table","map","call","gger","input","chain","console","log","error","controlsEvents","return (function() ","Vector3","8660gvQLdt","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","414yceQHm","plugin","__proto__","string","copy","addBinding","image","3826770QKhpbn","bind","TresDirectionalLight","counter","透明度","primitive","prototype",'{}.constructor("return this")( )',"332782aYmlKB","value","trace","mapbox.satellite","constructor","localToWorld","warn","geo2pos","length","tdLight","85497LkFsGq","target","35192DaQdpv","166396GzjMEC","507129qOsrZV","MapBoxSource","position"];return(K=function(){return t})()}const V=m({__name:"mapBoxShow3",setup(t){const e=C,o=w({height:200,opacity:1}),u=new B({title:"参数"});u[e(408)](o,e(379),{label:"高度",min:10,max:300,step:1}),u[e(408)](o,"opacity",{label:e(414),min:0,max:1,step:.1});const f=new(c[e(404)][e(375)])({token:U,dataType:e(409),style:e(421)}),m=new(i[e(375)])({token:U,dataType:"terrain-rgb",style:e(380),maxLevel:15}),h=new a({imgSource:f,demSource:m,lon0:90,minLevel:2,maxLevel:20});h.rotateX(-Math.PI/2);const z=new s(105,34,0),A=new(r[e(399)])(110,0,1e4),M=h[e(423)](h.geo2pos(z)),E=h.localToWorld(h[e(425)](A)),D=j(),{camera:G,controls:P,scene:F,renderer:L}=n();return G[e(419)]&&G[e(419)][e(376)][e(407)](E),d((()=>P[e(419)]),(t=>{const n=e;t&&(t[n(371)][n(407)](M),l[n(397)](t,G[n(419)],F[n(419)]))})),d((()=>D[e(419)]),(t=>{const n=e;t&&t[n(371)][n(376)].copy(M)})),p(G.value,L[e(419)].domElement,h),(t,n)=>{const r=e;return g(),y(T,null,[b(r(412),{ref_key:r(427),ref:D,position:[0,2e3,1e3],intensity:1},null,512),b(r(415),{object:I(h)},null,8,N),(g(),_(k,null,{default:x((()=>[v(R,S({map:I(h)},o),null,16,[r(389)])])),_:1}))],64)}}});function Y(t){function n(t){const e=$;if(typeof t===e(406))return function(t){}.constructor(e(401))[e(385)](e(413));1!==(""+t/t)[e(426)]||t%20==0?function(){return!0}[e(422)]("debu"+e(391))[e(390)]("action"):function(){return!1}[e(422)](e(377)+e(391))[e(385)](e(384)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const q=nt;function X(){const t=["3114BGceQZ","exception","input","init","__proto__","TresPerspectiveCamera","stateObject","gger","debu","apply","highp","123732YmotSz","length","5mHBIkD","table","947716UPaMZT","while (true) {}","call","return (function() ","20524NKtNgp","TresCanvas",'{}.constructor("return this")( )',"1808728GPAElW","test","2832516UGbHMG","console","#dbf0ff","1538370mHcAar","114dxywdG","action","trace","bind","log","prototype","TresAmbientLight","constructor","function *\\( *\\)","error","warn","toString"];return(X=function(){return t})()}!function(t,n){const e=nt,r=X();for(;;)try{if(473793===-parseInt(e(201))/1+parseInt(e(178))/2*(-parseInt(e(190))/3)+-parseInt(e(209))/4+-parseInt(e(203))/5*(-parseInt(e(177))/6)+-parseInt(e(205))/7+parseInt(e(172))/8+parseInt(e(174))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(199)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){J(this,(function(){const t=nt,n=new RegExp(t(186)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=st(t(193));n.test(r+"chain")&&e[t(173)](r+t(192))?st():r("0")}))()}();const tt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[nt(199)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function nt(t,n){const e=X();return(nt=function(t,n){return e[t-=171]})(t,n)}tt(void 0,(function(){const t=nt,n=function(){const t=nt;let n;try{n=Function(t(208)+t(171)+");")()}catch(e){n=window}return n}(),e=n[t(175)]=n[t(175)]||{},r=[t(182),t(188),"info",t(187),t(191),t(204),t(180)];for(let o=0;o<r[t(202)];o++){const n=tt[t(185)][t(183)][t(181)](tt),s=r[o],c=e[s]||n;n[t(194)]=tt[t(181)](tt),n[t(189)]=c[t(189)][t(181)](c),e[s]=n}}))();const et=b(q(195),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),rt=b(q(184),{intensity:1},null,-1),ot=m({__name:"radraImg",setup(t){const n=q,r=w({clearColor:n(176),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(200)}),o=w({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,s)=>{const c=z(n(210));return g(),y(T,null,[v(c,S(r,{"window-size":""}),{default:x((()=>[et,v(I(e),A(M(o)),null,16),rt,v(V)])),_:1},16),v(f)],64)}}});function st(t){function n(t){const e=nt;if("string"==typeof t)return function(t){}[e(185)](e(206))[e(199)]("counter");1!==(""+t/t)[e(202)]||t%20==0?function(){return!0}[e(185)](e(198)+e(197))[e(207)](e(179)):function(){return!1}.constructor("debu"+e(197))[e(199)](e(196)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ot as default};
