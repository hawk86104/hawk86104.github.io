import{P as t}from"./tweakpane.ivGeiIdz1742896998262.js";import{e,h as n,a as o,o as r}from"./@tresjs.KzbsBNvc1742896998262.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.dLWD7sjV1742896998262.js";import{cN as a,B as s,C as l,P as u,_ as c}from"./three.0CcRceKb1742896998262.js";import{d as f,a6 as m,a3 as d,w as p,o as h,H as g,N as v,u as x,j as I,r as w,e as S,f as b,g as y,al as _,m as N}from"./@vue.L-brCdZe1742896998262.js";import"./postprocessing.JNDZZkh81742896998262.js";import"./@vueuse.AtktgvWs1742896998262.js";import"./all.three.eMqwCp1p1742896998262.js";import"./oimophysics.WhCxc1Ho1742896998262.js";const T=R;!function(t,e){const n=R,o=D();for(;;)try{if(428865===-parseInt(n(486))/1*(parseInt(n(468))/2)+-parseInt(n(451))/3*(-parseInt(n(445))/4)+-parseInt(n(464))/5+parseInt(n(450))/6+parseInt(n(493))/7+-parseInt(n(496))/8*(-parseInt(n(475))/9)+-parseInt(n(494))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[R(458)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=R,e=new RegExp(t(473)),n=new RegExp(t(498),"i"),o=A(t(488));e.test(o+t(442))&&n[t(460)](o+"input")?A():o("0")}))()}();const P=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[R(458)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=R,e=function(){const t=R;let e;try{e=Function(t(465)+t(467)+");")()}catch(n){e=window}return e}(),n=e[t(466)]=e.console||{},o=[t(495),t(453),t(485),"error",t(456),t(480),t(478)];for(let r=0;r<o[t(482)];r++){const e=P.constructor[t(492)][t(440)](P),i=o[r],a=n[i]||e;e[t(441)]=P[t(440)](P),e[t(462)]=a[t(462)][t(440)](a),n[i]=e}}))();const j=["rotateX"],C=[T(459),T(461),"aNormal"];function R(t,e){const n=D();return R=function(t,e){return n[t-=437]},R(t,e)}const z=T(452),M=T(449),W=f({__name:"lineMagicZone",props:{height:{default:1.6},speed:{default:1},color:{default:"#90ee90"}},async setup(t){const r=T;let i,f;const w=m(),S=t,b=([i,f]=d((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,f(),i),y=new a(0,0,8,8,0,2*Math.PI,!1,0),_=[];for(let e=0;e<5;e++)_.push(...y.getPoints(719)),y[r(438)]+=.2,y[r(476)]+=.2;const N=new Float32Array(_[r(457)](((t,e)=>e))),U=(new s)[r(470)](_)[r(439)](r(459)).array,P=new Float32Array(U.length);for(let e=0;e<U[r(482)]/3;e++){const t=3*e;U[t+1]+=.15*Math[r(497)](e/720);const n=e%720*3,o=3*(e%720+2880);P[t]=U[o]-U[n],P[t+1]=U[o+1]-U[n+1],P[t+2]=U[o+2]-U[n+2]}const R={uTime:{value:0},uScale:{value:w[r(454)]?w[r(454)]:1},uHeight:{value:S[r(437)]},uPerlinTexture:{value:b[1]},baseColor:{value:new l(S[r(474)])}},{onLoop:W}=e();return W((()=>{const t=r;R[t(446)][t(447)]+=.01*S[t(472)]})),p((()=>[S[r(474)],w[r(454)],S[r(437)]]),(([t,e,n])=>{const o=r;R[o(483)].value[o(491)](t),R[o(479)][o(447)]=e,R[o(477)][o(447)]=n})),(t,e)=>{const o=r;return h(),g(o(463),null,[v(o(455),{rotateX:-Math.PI/2,scale:.1},[v(o(487),{position:[x(U),3],aIndex:[x(N),1],aNormal:[x(P),3]},null,8,C),I(x(n),{baseMaterial:u,vertexShader:z,fragmentShader:M,uniforms:R,map:x(b)[0],alphaMap:x(b)[0],transparent:"",depthWrite:!1,blending:c[o(471)],color:"#409eff",size:.1},null,8,[o(481),o(457),"alphaMap","blending"])],8,j)])}}});function A(t){function e(t){const n=R;if(typeof t===n(489))return function(t){}[n(444)](n(490))[n(458)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debugger")[n(443)]("action"):function(){return!1}.constructor(n(448)+n(469))[n(458)](n(484)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function D(){const t=["144442yaxuVU","gger","setFromPoints","AdditiveBlending","speed","function *\\( *\\)","color","27RzyCZB","yRadius","uHeight","trace","uScale","table","baseMaterial","length","baseColor","stateObject","info","3EdbsRK","TresBufferGeometry","init","string","while (true) {}","set","prototype","5728436ezQHxl","6942690mQIQdF","log","707048QOGUEb","floor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","height","xRadius","getAttribute","bind","__proto__","chain","call","constructor","85756RazXtZ","uTime","value","debu","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","184878SNeRht","48YQNMwL","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","warn","scale","TresPoints","exception","map","apply","position","test","aIndex","toString","TresGroup","587655wEgixc","return (function() ","console",'{}.constructor("return this")( )'];return(D=function(){return t})()}const E=B;!function(t,e){const n=B,o=L();for(;;)try{if(963083===-parseInt(n(422))/1*(-parseInt(n(439))/2)+parseInt(n(424))/3+-parseInt(n(411))/4+parseInt(n(418))/5*(parseInt(n(436))/6)+-parseInt(n(432))/7*(parseInt(n(440))/8)+-parseInt(n(412))/9*(-parseInt(n(445))/10)+-parseInt(n(413))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[B(430)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=B,e=new RegExp(t(435)),n=new RegExp(t(443),"i"),o=H(t(417));e[t(434)](o+"chain")&&n[t(434)](o+"input")?H():o("0")}))()}();const Z=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[B(430)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function B(t,e){const n=L();return B=function(t,e){return n[t-=411]},B(t,e)}function L(){const t=["length","TresCanvas",'{}.constructor("return this")( )',"info","height","apply","while (true) {}","51961PaSkGA","lineMagicZone","test","function *\\( *\\)","1696590EabkBN","string","toString","2708OcjjpG","368istPQn","#201919","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","390pscEZs","constructor","log","bind","TresPerspectiveCamera","3700120DntRmw","146079MEqAKw","7514001pKWGEj","addBinding","#ff0000","speed","init","5DxlJnh","action","debu","trace","652lgAoAB","gger","3342240VXZwdN"];return(L=function(){return t})()}Z(void 0,(function(){const t=B;let e;try{e=Function("return (function() "+t(427)+");")()}catch(r){e=window}const n=e.console=e[t(442)]||{},o=[t(447),"warn",t(428),"error",t(444),"table",t(421)];for(let i=0;i<o[t(425)];i++){const e=Z.constructor.prototype.bind(Z),r=o[i],a=n[r]||e;e.__proto__=Z[t(448)](Z),e[t(438)]=a[t(438)][t(448)](a),n[r]=e}}))();const G=f({__name:E(433),setup(e){const n=E,o=w({reflectivity:.1,showGridHelper:!0,scale:1}),a=w({color:n(415),scale:1.8,height:2.4,speed:1}),s=new t;return s[n(414)](a,"color",{label:"颜色"}),s.addBinding(a,"scale",{label:"大小",min:.1,max:3,step:.1}),s[n(414)](a,n(429),{label:"高度",min:.1,max:3,step:.1}),s[n(414)](a,n(416),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=S(s(426));return h(),b(l,{clearColor:s(441),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:y((()=>[e[0]||(e[0]=v(s(449),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),I(x(r),{enableDamping:""}),e[1]||(e[1]=v("TresAmbientLight",{intensity:2},null,-1)),(h(),b(_,null,{default:y((()=>[I(W,N({position:[3,0,0]},a),null,16)])),_:1})),(h(),b(_,null,{default:y((()=>[I(W,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(h(),b(_,null,{default:y((()=>[I(i,N({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function H(t){function e(t){const n=B;if(typeof t===n(437))return function(t){}[n(446)](n(431))[n(430)]("counter");1!==(""+t/t)[n(425)]||t%20==0?function(){return!0}.constructor("debu"+n(423)).call(n(419)):function(){return!1}[n(446)](n(420)+n(423))[n(430)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{G as default};
