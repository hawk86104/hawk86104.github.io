import{b as t,m as n,U as e}from"./@tresjs.iUmyNPdW1730886807320.js";import{_ as o,V as r}from"./three._P_a_E_Z1730886807320.js";import{_ as i}from"./three-tile.rGySB-KI1730886807320.js";import{_ as c,s,a}from"./informationDiv.V1P_rGGg1730886807320.js";import{d as u,a6 as p,w as l,o as f,D as m,J as h,u as g,r as d,b as y,f as b,g as I,j as w,m as j,al as _,F as v,e as x,aj as S,ak as k}from"./@vue.-THQH3GC1730886807320.js";import{P as T}from"./tweakpane.yHWGBmom1730886807320.js";import"./@vueuse.Uoe2bW0Q1730886807320.js";import"./@fesjs.rCnyFuNL1730886807320.js";import"./vue-router.QnjVwwup1730886807320.js";import"./lodash-es.kYt-_xTG1730886807320.js";import"./@qlin.yHhFDldE1730886807320.js";import"./pinia.ZAQpp9No1730886807320.js";import"./vue-demi.C4xddsk91730886807320.js";import"./@floating-ui.BPbuo5Gx1730886807320.js";import"./@juggle.7yjBMqoW1730886807320.js";const z=A;!function(t,n){const e=A,o=X();for(;;)try{if(981972===-parseInt(e(283))/1+-parseInt(e(242))/2+-parseInt(e(265))/3*(-parseInt(e(275))/4)+-parseInt(e(291))/5*(parseInt(e(285))/6)+parseInt(e(294))/7+parseInt(e(246))/8+-parseInt(e(276))/9*(-parseInt(e(297))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(252)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function X(){const t=["rotateX","function *\\( *\\)","toString","onBeforeCompile","constructor","20kvFYtG","transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","string","9867235NXdyas","applyMatrix4","init","4687090JRbeaU","push","return (function() ","3164752eXXkbh","info","trace","height","11660424bnpEor","scaleImg","counter","40.png","geo2pos","position","apply",'{}.constructor("return this")( )',"#include <displacementmap_vertex>","scale","color","matrix","test","replace","bind","gger","map","TresGroup","warn","6qlAXKQ","log","Texture","debu","length","vertexShader","Vector3","console","MeshPhongMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1232608VeYfdb","9olwwqF","needsUpdate","error","opacity","position-y","DoubleSide","exception","44919aykXEL","call","2014356XvmLgV"];return(X=function(){return t})()}!function(){M(this,(function(){const t=A,n=new RegExp(t(287)),e=new RegExp(t(274),"i"),o=B(t(296));n[t(258)](o+"chain")&&e[t(258)](o+"input")?B():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(252)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=X();return(A=function(t,n){return e[t-=242]})(t,n)}E(void 0,(function(){const t=A;let n;try{n=Function(t(299)+t(253)+");")()}catch(r){n=window}const e=n[t(272)]=n[t(272)]||{},o=[t(266),t(264),t(243),t(278),t(282),"table",t(244)];for(let i=0;i<o[t(269)];i++){const n=E[t(290)].prototype[t(260)](E),r=o[i],c=e[r]||n;n.__proto__=E[t(260)](E),n[t(288)]=c[t(288)].bind(c),e[r]=n}}))();const D=[z(251)],L=[z(255),"material",z(286),z(280)],R=u({__name:"radraImgShow",props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=z;let r,i;const s=n,a=new(o[e(273)])({displacementMap:new(o[e(267)]),transparent:!0,side:o[e(281)],opacity:s[e(279)],displacementScale:.5,displacementBias:0});a[e(289)]=t=>{const n=e;t[n(270)]="uniform sampler2D map;\n\t"+t[n(270)],t[n(270)]=t[n(270)][n(259)](n(254),n(292))};const u=s[e(262)][e(250)](new(o[e(271)])(105,34,0));u[e(295)](s[e(262)][e(257)]);const d=c[e(247)](s[e(262)],{x:67,y:11},{x:140,y:57},s[e(245)]),y=[];for(let t=0;t<9;t++)y[e(298)]("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(249));let b=0;const I=([r,i]=p((()=>t(y))),r=await r,i(),r);a.map=I[b],l((()=>[s[e(256)],s[e(279)]]),(([t,n])=>{a[e(279)]=n}));let w=null,j=!1;return j?(clearInterval(w),w=null,j=!1):(w=setInterval((()=>{const t=A;b=b<y.length-1?b+1:0,a[t(262)]=I[b],a[t(277)]=!0,console[t(266)](b)}),1e3),j=!0),(t,n)=>{const o=e;return f(),m(o(263),{position:[...g(u)]},[h("TresMesh",{scale:[g(d).x,g(d).y,t.height],material:g(a),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(245)]/5},n[0]||(n[0]=[h("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,L)],8,D)}}});function B(t){function n(t){const e=A;if(typeof t===e(293))return function(t){}[e(290)]("while (true) {}")[e(252)](e(248));1!==(""+t/t)[e(269)]||t%20==0?function(){return!0}[e(290)](e(268)+e(261))[e(284)]("action"):function(){return!1}.constructor("debu"+e(261)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=q;!function(t,n){const e=q,o=Q();for(;;)try{if(279012===-parseInt(e(260))/1*(parseInt(e(245))/2)+parseInt(e(235))/3+parseInt(e(227))/4+-parseInt(e(230))/5+parseInt(e(273))/6*(-parseInt(e(252))/7)+parseInt(e(254))/8*(-parseInt(e(262))/9)+parseInt(e(282))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(275)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=q,n=new RegExp(t(268)),e=new RegExp(t(246),"i"),o=Z(t(250));n[t(263)](o+t(226))&&e[t(263)](o+t(236))?Z():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[q(275)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["controlsEvents","constructor","console","length","object","return (function() ","domElement","45040VcLRnq","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","gger","prototype","init","debu","3692059QFhJgW","primitive","4624zudkbu","__proto__","geo2pos","MapBoxSource","error","localToWorld","7DIvhMH","plugin","900xkXonn","test","target","mapBoxShow3","toString","trace","function *\\( *\\)","stateObject","map","value","opacity","6bLfOXR","terrain-rgb","apply","copy","透明度","TileMap","tdLight","Vector3","TresDirectionalLight","1980010DhzExJ","bind","chain","1356064wXsIoz","height","counter","276275WnhhLo","addBinding","rotateX","table","warn","1620381GXTALP","input",'{}.constructor("return this")( )'];return(Q=function(){return t})()}W(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(243)+t(237)+");")()}catch(e){n=window}return n}(),e=n[t(240)]=n[t(240)]||{},o=["log",t(234),"info",t(258),"exception",t(233),t(267)];for(let r=0;r<o[t(241)];r++){const n=W[t(239)][t(249)].bind(W),i=o[r],c=e[i]||n;n[t(255)]=W[t(283)](W),n[t(266)]=c[t(266)][t(283)](c),e[i]=n}}))();const V=[F(242)];function q(t,n){const e=Q();return(q=function(t,n){return e[t-=226]})(t,n)}const G="pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",U=u({__name:F(265),setup(t){const e=F,a=d({height:200,opacity:1}),u=new T({title:"参数"});u[e(231)](a,e(228),{label:"高度",min:10,max:300,step:1}),u[e(231)](a,e(272),{label:e(277),min:0,max:1,step:.1});const p=new(i[e(261)][e(257)])({token:G,dataType:"image",style:"mapbox.satellite"}),x=new(i[e(261)].MapBoxSource)({token:G,dataType:e(274),style:"mapbox.terrain-rgb",maxLevel:15}),S=new(i[e(278)])({imgSource:p,demSource:x,lon0:90,minLevel:2,maxLevel:20});S[e(232)](-Math.PI/2);const k=new r(105,34,0),z=new(o[e(280)])(110,0,1e4),M=S.localToWorld(S[e(256)](k)),X=S[e(259)](S.geo2pos(z)),E=y(),{camera:A,controls:D,scene:L,renderer:B}=n();return A[e(271)]&&A.value.position.copy(X),l((()=>D[e(271)]),(t=>{const n=e;t&&(t[n(264)].copy(M),c[n(238)](t,A.value,L[n(271)]))})),l((()=>E[e(271)]),(t=>{const n=e;t&&t[n(264)].position[n(276)](M)})),s(A[e(271)],B[e(271)][e(244)],S),(t,n)=>{const o=e;return f(),m(v,null,[h(o(281),{ref_key:o(279),ref:E,position:[0,2e3,1e3],intensity:1},null,512),h(o(253),{object:g(S)},null,8,V),(f(),b(_,null,{default:I((()=>[w(R,j({map:g(S)},a),null,16,[o(270)])])),_:1}))],64)}}});function Z(t){function n(t){const e=q;if("string"==typeof t)return function(t){}[e(239)](e(247))[e(275)](e(229));1!==(""+t/t).length||t%20==0?function(){return!0}[e(239)](e(251)+e(248)).call("action"):function(){return!1}[e(239)]("debugger").apply(e(269)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const $=O;!function(t,n){const e=O,o=J();for(;;)try{if(600003===parseInt(e(321))/1+parseInt(e(328))/2*(parseInt(e(323))/3)+parseInt(e(356))/4*(parseInt(e(324))/5)+-parseInt(e(331))/6*(-parseInt(e(341))/7)+-parseInt(e(334))/8+parseInt(e(335))/9+-parseInt(e(357))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=O,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(326),"i"),o=Y(t(327));n[t(352)](o+t(345))&&e[t(352)](o+t(359))?Y():o("0")}))()}();const H=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(353)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(){const t=["6353664bvbrHb","8292717UitVlS","console","while (true) {}","log","length","info","770490RKXywq","call","radraImg","return (function() ","chain","gger","prototype","table","exception","warn","highp","test","apply","action","TresPerspectiveCamera","4XQsjWB","7184470zScvcQ","TresAmbientLight","input",'{}.constructor("return this")( )',"debu","87512VARinE","TresCanvas","1622601ygkemo","1713630LhRcAz","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","2pWCHMe","bind","constructor","12sSQErw","toString","__proto__"];return(J=function(){return t})()}function O(t,n){const e=J();return(O=function(t,n){return e[t-=319]})(t,n)}H(void 0,(function(){const t=O;let n;try{n=Function(t(344)+t(319)+");")()}catch(r){n=window}const e=n[t(336)]=n[t(336)]||{},o=[t(338),t(350),t(340),"error",t(349),t(348),"trace"];for(let i=0;i<o[t(339)];i++){const n=H.constructor[t(347)][t(329)](H),r=o[i],c=e[r]||n;n[t(333)]=H[t(329)](H),n.toString=c[t(332)][t(329)](c),e[r]=n}}))();const N=u({__name:$(343),setup(t){const n=$,o=d({clearColor:"#dbf0ff",alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(351)}),r=d({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const c=n,s=x(c(322));return f(),m(v,null,[w(s,j(o,{"window-size":""}),{default:I((()=>[i[0]||(i[0]=h(c(355),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),w(g(e),S(k(r)),null,16),i[1]||(i[1]=h(c(358),{intensity:1},null,-1)),w(U)])),_:1},16),w(a)],64)}}});function Y(t){function n(t){const e=O;if("string"==typeof t)return function(t){}[e(330)](e(337)).apply(e(325));1!==(""+t/t).length||t%20==0?function(){return!0}[e(330)](e(320)+e(346))[e(342)](e(354)):function(){return!1}[e(330)]("debu"+e(346))[e(353)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{N as default};
