import{a as t,U as n}from"./@tresjs.sklxXn0u1733198294833.js";import{P as e}from"./tweakpane.yHWGBmom1733198294833.js";import{Y as o,_ as r,ak as a,al as s}from"./three.8iJMi2lU1733198294833.js";import{_ as i}from"./heatmap.js-fix.lOP7Mxv_1733198294833.js";import{d as u,a6 as c,a3 as p,o as l,D as f,u as d,r as h,e as m,f as g,g as v,J as y,j as b,al as w,aj as x,ak as _,m as j}from"./@vue.-THQH3GC1733198294833.js";import"./@vueuse.N_fQXUYA1733198294833.js";import"./@amap.DgFRMjnW1733198294833.js";const I=z;!function(t,n){const e=z,o=E();for(;;)try{if(725067===-parseInt(e(260))/1*(parseInt(e(222))/2)+parseInt(e(271))/3*(-parseInt(e(230))/4)+-parseInt(e(233))/5+parseInt(e(238))/6+parseInt(e(211))/7+-parseInt(e(261))/8*(-parseInt(e(231))/9)+parseInt(e(250))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(240)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=z,n=new RegExp(t(239)),e=new RegExp(t(254),"i"),o=T(t(225));n[t(224)](o+"chain")&&e[t(224)](o+t(243))?T():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(262)+t(270)+");")()}catch(e){n=window}return n}(),e=n[t(246)]=n[t(246)]||{},o=[t(245),t(269),t(242),"error",t(235),t(263),"trace"];for(let r=0;r<o[t(220)];r++){const n=S[t(268)].prototype.bind(S),a=o[r],s=e[a]||n;n[t(267)]=S[t(259)](S),n[t(252)]=s[t(252)][t(259)](s),e[a]=n}}))();const k=[I(237)];function z(t,n){const e=E();return(z=function(t,n){return e[t-=200]})(t,n)}function E(){const t=["show2dCanvas","toString","ShaderMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","geometry","action","canvas","left","bind","1SVxDTF","832juzGWp","return (function() ","table","layerY","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","needsUpdate","__proto__","constructor","warn",'{}.constructor("return this")( )',"6ejntvE","layerX","attributes","1px solid #5384ff","absolute","gger","border","setScalar","BufferAttribute","none","position","while (true) {}","body","setAttribute","40px","primitive","push","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","onclick","9682281pCZhvS","radius","block","stateObject","count","heatmapClickCom","setDataMax","0.8","call","length","scale","466098qHSTzl","_renderer","test","init","style","create","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","debu","2107984tjeyHm","57807iZkjpW","material","6412120KiwTPF","./draco/","exception","DoubleSide","object","2809722WbcXpF","function *\\( *\\)","apply","top","info","input","getZ","log","console","mesh_0","getX","set","7750700ogpvuf"];return(E=function(){return t})()}const F=u({__name:I(216),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=I;let a,s;const u=n,{nodes:h}=([a,s]=c((()=>t(e(228),{draco:!0,decoderPath:e(234)}))),a=await a,s(),a);h[e(247)][e(202)][e(249)](-5088.96,-3.08,39374.7),h[e(247)][e(221)][e(278)](.01);let m=null,g=null,v=null;g=new o((()=>{const t=e;return v=document.createElement("heatmap-canvas"),v.style[t(202)]=t(275),v[t(226)][t(241)]=t(206),v[t(226)][t(258)]="0",document[t(204)].appendChild(v),m=i[t(227)]({container:v,width:256,height:256,blur:t(218),radius:u[t(212)]}),m[t(223)][t(257)][t(226)][t(277)]=t(274),m[t(223)][t(257)][t(210)]=function(n){const e=t;m.addData({x:n[e(272)],y:n[e(264)],value:1,radius:u.radius}),m[e(217)](1),g&&(g[e(266)]=!0)},m})()[e(223)][e(257)]);const y={vertexShader:e(265),fragmentShader:e(209),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:g}},depthWrite:!0,depthTest:!0,transparent:!0,side:r[e(236)]},b=new(r[e(253)])(y);h[e(247)][e(232)]=b;return(t=>{const n=e;t.computeBoundingBox();const{max:o,min:a}=t.boundingBox;t.deleteAttribute("uv");const s=o.x-a.x,i=o.z-a.z,u=[];for(let e=0;e<t.attributes[n(202)][n(215)];e++)u.push((t[n(273)][n(202)][n(248)](e)-a.x)/s),u[n(208)]((t[n(273)][n(202)][n(244)](e)-a.z)/i);const c=new Float32Array(u);t[n(205)]("uv",new(r[n(200)])(c,2))})(h[e(247)][e(255)]),p((()=>{const t=e;v[t(226)].display=""+(u[t(251)]?t(213):t(201))})),(t,n)=>{const o=e;return l(),f(o(207),{object:d(h).mesh_0},null,8,k)}}});function T(t){function n(t){const e=z;if("string"==typeof t)return function(t){}.constructor(e(203))[e(240)]("counter");1!==(""+t/t)[e(220)]||t%20==0?function(){return!0}[e(268)](e(229)+e(276))[e(219)](e(256)):function(){return!1}[e(268)](e(229)+e(276))[e(240)](e(214)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=A,o=B();for(;;)try{if(680721===parseInt(e(152))/1+parseInt(e(172))/2*(-parseInt(e(170))/3)+-parseInt(e(162))/4+-parseInt(e(176))/5+parseInt(e(192))/6+parseInt(e(185))/7*(parseInt(e(149))/8)+parseInt(e(186))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(164)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){Z(this,(function(){const t=A,n=new RegExp(t(180)),e=new RegExp(t(159),"i"),o=R(t(177));n[t(156)](o+t(158))&&e.test(o+t(174))?R():o("0")}))()}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function A(t,n){const e=B();return(A=function(t,n){return e[t-=149]})(t,n)}function B(){const t=["stateObject","gger","constructor",'{}.constructor("return this")( )',"TresCanvas","2159532VJEPEg","addButton","error","6536FYhoWd","__proto__","warn","977250pYFZEJ","TresPerspectiveCamera","return (function() ","while (true) {}","test","table","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","action","711464CRZETr","trace","apply","log","radius","counter","prototype","string","267549oUWdqY","#030311","18HjkIbY","addBinding","input","TresDirectionalLight","6706435EMzdBN","init","console","点击左侧蓝色画框","function *\\( *\\)","show2dCanvas","info","TresGridHelper","bind","8603wtodFn","5951304xiZRoX"];return(B=function(){return t})()}M(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(154)+t(190)+");")()}catch(e){n=window}return n}(),e=n[t(178)]=n[t(178)]||{},o=[t(165),t(151),t(182),t(194),"exception",t(157),t(163)];for(let r=0;r<o[t(160)];r++){const n=M[t(189)][t(168)][t(184)](M),a=o[r],s=e[a]||n;n[t(150)]=M[t(184)](M),n.toString=s.toString.bind(s),e[a]=n}}))();const D=u({__name:"heatmapClick",setup(t){const o=A,r={clearColor:o(171),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(173)](i,o(181),{label:"显示二维图"}),u[o(173)](i,o(166),{label:"圆圈的大小",min:.1,max:30,step:.1}),u[o(193)]({title:o(179)}),(t,e)=>{const a=o,s=m(a(191));return l(),g(s,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(153),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(175),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=y(a(183),{args:[50,25]},null,-1)),(l(),g(w,null,{default:v((()=>[b(F,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function R(t){function n(t){const e=A;if(typeof t===e(169))return function(t){}[e(189)](e(155)).apply(e(167));1!==(""+t/t)[e(160)]||t%20==0?function(){return!0}[e(189)]("debu"+e(188)).call(e(161)):function(){return!1}.constructor("debu"+e(188))[e(164)](e(187)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
