import{u as t}from"./index.Crdf3MNx1763540743861.js";import{_ as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{d as o,a8 as a,w as s,H as n,o as r,a9 as i,u as p}from"./@vue.Co_gxueH1763540743861.js";const l=["object"],u=o({__name:"airplane",props:{planet:{}},async setup(o){let u,d;const m=o,{scene:c}=([u,d]=a(()=>t("./plugins/earthSample/model/lowpolyPlanet/airplane.gltf")),u=await u,d(),u),h=c;h.rotation.set(0,Math.PI,0),c.traverse(t=>{t.isMesh&&(t.castShadow=!0)}),h.updateMatrixWorld();const{onBeforeRender:M}=e();s(()=>m.planet,t=>{if(!t)return;t.geometry.computeBoundingSphere();const e=Math.abs(1|t.geometry.boundingSphere?.radius);h.position.set(e,0,0),h.lookAt(t.position)});let g=0;return M(({delta:t})=>{if(!h||!m.planet)return;const e=Math.abs(m.planet.geometry.boundingSphere.radius)+.5;g+=.2*t;const o=e*Math.cos(g),a=e*Math.sin(g);h.position.x=o,h.position.z=a,h.rotation.z=-Math.PI/2,h.rotation.y=-g,h.updateMatrixWorld()}),(t,e)=>(r(),n("primitive",{object:i(p(h))},null,8,l))}});export{u as _};
