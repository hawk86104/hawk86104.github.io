import{c8 as t,a3 as e,r as n,s as r}from"./three.3wvNjL8W1741683274763.js";import{a as o}from"./@tresjs.tqalU7S21741683274763.js";import{R as s,b as i}from"./all.three.WECQOlM11741683274763.js";import{d as c,a3 as a,a2 as u,w as f,o as l,H as p,N as h,u as d}from"./@vue.NRI7TcgI1741683274763.js";const m=x;function w(){const t=["25148hJYXmG","test","counter","input","debu","gger","uMatrix","wrapS","ignoreObjects","uReflectivity","set","value","table","while (true) {}","toString","2464767VpvhZr","constructor","trace","8oLYaef","rotation","action","init","warn","105PJWMwP","tReflectBlur","reflectivity","7SDkFaB","TresGroup","prototype","size","object","return (function() ","1951191isAKXx","info","renderTargetUniform","694464XeRYgu","add","reflectorDUDV","forEach","apply","chain","primitive","scale","bind","tReflect","length","showGridHelper","log","update","uniforms","exception","20pboplY","texture","18967GUYsPB","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","isMesh","6365592zGuXHm","9585455npyCHh","console","visible","onBeforeRender"];return(w=function(){return t})()}!function(t,e){const n=x,r=w();for(;;)try{if(409396===-parseInt(n(334))/1*(parseInt(n(360))/2)+-parseInt(n(313))/3+-parseInt(n(342))/4*(-parseInt(n(304))/5)+-parseInt(n(316))/6+-parseInt(n(307))/7*(-parseInt(n(337))/8)+parseInt(n(357))/9*(-parseInt(n(332))/10)+parseInt(n(338))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[x(320)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=x,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(335),"i"),r=_(t(363));e[t(343)](r+t(321))&&n.test(r+t(345))?_():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[x(320)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=x;let e;try{e=Function(t(312)+'{}.constructor("return this")( ));')()}catch(o){e=window}const n=e[t(339)]=e[t(339)]||{},r=[t(328),t(303),t(314),"error",t(331),t(354),t(359)];for(let s=0;s<r[t(326)];s++){const e=g[t(358)][t(309)].bind(g),o=r[s],i=n[o]||e;e.__proto__=g[t(324)](g),e[t(356)]=i[t(356)][t(324)](i),n[o]=e}}))();const v=["scale"],y=[m(311)],j=[m(311)],I=c({__name:m(318),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const b=m;let g,I;const x=c,_=new s,R=new t(x[b(310)][0]-.5,x.size[1]);R[b(340)]=x[b(327)];const{map:z}=([g,I]=a((()=>o({map:x.mapUrl}))),g=await g,I(),g);z[b(349)]=e,z.wrapT=e,z.repeat[b(352)](6,3);const G=new i({map:z,reflectivity:x[b(306)]});G[b(330)][b(325)]={value:_.renderTarget[b(333)]},G[b(330)][b(305)]=_[b(315)],G.uniforms[b(348)]=_.textureMatrixUniform;const M=new n(new r(x[b(310)][0],x[b(310)][1]),G);return M[b(361)].x=-Math.PI/2,M[b(317)](_),M[b(341)]=(t,e,n)=>{const r=b;M.visible=!1,x[r(350)].forEach((t=>{const e=r;t.isMesh&&(t[e(340)]=!1),t[e(353)]&&t[e(353)][e(336)]&&(t[e(353)][e(340)]=!1)})),_[r(329)](t,e,n),x.ignoreObjects[r(319)]((t=>{const e=r;t[e(336)]&&(t[e(340)]=!0),t[e(353)]&&t[e(353)][e(336)]&&(t[e(353)][e(340)]=!0)})),M[r(340)]=!0},u((()=>{const t=b;x.reflectivity&&(G[t(330)][t(351)][t(353)]=x[t(306)])})),f((()=>x[b(327)]),(t=>{R[b(340)]=t})),w({reflector:_}),(t,e)=>{const n=b;return l(),p(n(308),{scale:x[n(323)]},[h(n(322),{object:d(M),"position-y":-.01},null,8,y),h("primitive",{object:d(R)},null,8,j)],8,v)}}});function x(t,e){const n=w();return(x=function(t,e){return n[t-=303]})(t,e)}function _(t){function e(t){const n=x;if("string"==typeof t)return function(t){}.constructor(n(355))[n(320)](n(344));1!==(""+t/t)[n(326)]||t%20==0?function(){return!0}[n(358)](n(346)+n(347)).call(n(362)):function(){return!1}[n(358)]("debu"+n(347))[n(320)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{I as _};
