import{a as t,B as n,q as e,bZ as o,C as r,j as s,Z as i}from"./three.0L1oP_mX1722313330047.js";import{x as c}from"./@fesjs.Tyv7j4eO1722313330047.js";import{N as a}from"./@tresjs.Q03Md-En1722313330047.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.Q4SF0_jl1722313330047.js";!function(t,n){const e=m,o=g();for(;;)try{if(729299===parseInt(e(229))/1+-parseInt(e(273))/2+-parseInt(e(278))/3*(-parseInt(e(286))/4)+parseInt(e(259))/5+parseInt(e(237))/6*(parseInt(e(236))/7)+parseInt(e(243))/8+-parseInt(e(264))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=g();return(m=function(t,n){return e[t-=218]})(t,n)}function g(){const t=['{}.constructor("return this")( )',"33275313RPlwSW","center","min","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","sub","forEach","call","gger","308080NCjmsr","apply","setY","computeBoundsTree","add","1888356heRBER","input","init","depthWrite","attributes","then","features","length","4ToJYPK","getSize","count","geometry","material","bind","getCenter","computeBoundingBox","trace","catch","error","getX","boundingBox","debu","stateObject","transparent","depthTest","value","log","negate","prototype","902833XggJAm","position","string","clone","console","uniforms","return (function() ","350NxQVZO","27024FyFGfB","copy","table","side","max","constructor","11346320gSjdtm","Box3","divideScalar","random","counter","setAttribute","expandByObject","action","test","chain","push","deleteAttribute","getY","function *\\( *\\)","setFromObject","toString","7024105QKVdCh","Vector3","warn","config"];return(g=function(){return t})()}!function(){l(this,(function(){const t=m,n=new RegExp(t(256)),e=new RegExp(t(267),"i"),o=_(t(280));n.test(o+t(252))&&e[t(251)](o+t(279))?_():o("0")}))()}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();h(void 0,(function(){const t=m;let n;try{n=Function(t(235)+t(263)+");")()}catch(r){n=window}const e=n[t(233)]=n[t(233)]||{},o=[t(226),t(261),"info",t(218),"exception",t(239),t(294)];for(let s=0;s<o[t(285)];s++){const n=h[t(242)][t(228)][t(291)](h),r=o[s],i=e[r]||n;n.__proto__=h[t(291)](h),n[t(258)]=i[t(258)][t(291)](i),e[r]=n}}))();const d=(n,e=!1)=>{const o=m;n[o(293)]();const{max:r,min:s}=n.boundingBox;n[o(254)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n.attributes[o(230)][o(288)];t++)e?(a[o(253)]((n[o(282)].position[o(219)](t)-(s.x+r.x)/2)/i),a[o(253)]((n[o(282)][o(230)][o(255)](t)-(s.y+r.y)/2)/c)):(a.push((n[o(282)].position[o(219)](t)-s.x)/i),a[o(253)]((n[o(282)].position[o(255)](t)-s.y)/c));const u=new Float32Array(a);n[o(248)]("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=m;c(t,{},{method:"get",mergeRequest:!0})[r(283)]((t=>{const o=r;n&&e(t[n]),e(t[o(284)])}))[r(295)]((t=>{console[r(218)](t),o(t)}))})),w=t=>{const n=m,e=(new(THREE[n(244)]))[n(257)](t),o=new(THREE[n(260)]);e[n(292)](o),t.children[n(270)]((t=>{const e=n;t.position[e(269)](o)})),t[n(230)][n(238)](o[n(227)]())},x=()=>{const t=m;n[t(228)][t(276)]=u,n[t(228)].disposeBoundsTree=f,e.prototype.raycast=p},b=async t=>{const n=m,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t.geometry[n(232)]();d(c),c[n(276)]();const u=new o(c,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(290)][n(223)]=!0,u.material[n(281)]=!0,u[n(290)][n(224)]=!0,u.material[n(240)]=i,u[n(290)].uniforms[n(262)][n(225)].w=20,u[n(290)][n(234)].reflectivity.value=.46,u};function j(t){const n=m,e=[];for(let r=0;r<t[n(285)];r++)e[n(253)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(285)];r++)o[n(277)](e[r]);o[n(245)](e[n(285)]);for(let r=0;r<e[n(285)];r++)e[r][n(269)](o);return{points:e,centerPoint:o}}function _(t){function n(t){const e=m;if(typeof t===e(231))return function(t){}[e(242)](e(268))[e(274)](e(247));1!==(""+t/t)[e(285)]||t%20==0?function(){return!0}[e(242)](e(221)+"gger")[e(271)](e(250)):function(){return!1}.constructor(e(221)+e(272))[e(274)](e(222)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,x as i,y as l,d as r,b as s};
