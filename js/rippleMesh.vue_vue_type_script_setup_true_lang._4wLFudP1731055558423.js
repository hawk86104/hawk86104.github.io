import{_ as n,bI as t,C as o}from"./three.3b9CEYeV1731055558423.js";import{e}from"./@tresjs.KsuCtVXf1731055558423.js";import{g as r}from"./utils.x-O_6p0F1731055558423.js";import{d as i,b as s,a3 as c,o as a,D as u,J as f,u as l,aj as p,ak as v}from"./@vue.u2cBPEWn1731055558423.js";const m=h;function d(){const n=["constructor","TresMesh","speed","info","height","uvs","init","2450187xZxjAK","DoubleSide","gger","fog_pars_vertex","set","1018udfyEK","uniforms",'{}.constructor("return this")( )',"684luWJXq","positionSrc","toString","warn","value","length","action","4465176UuKTEh","trace","1276ZTHJjF","TresShaderMaterial","Color","time","function *\\( *\\)","2442944waPHNV","#ffff00","return (function() ","log","tresMeshRef","exception","\nvarying vec2 vUv;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    ","counter","396285jsoCWm","4915926SCCwAA","50AAVseb","num","pv2","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","while (true) {}","test","console","position","fog_vertex","bind","color","52661ydLSTz","TresBufferGeometry","debu","apply","\n}\n","opacity"];return(d=function(){return n})()}!function(n,t){const o=h,e=d();for(;;)try{if(458063===-parseInt(o(496))/1*(-parseInt(o(508))/2)+-parseInt(o(491))/3+-parseInt(o(513))/4+-parseInt(o(521))/5+-parseInt(o(499))/6*(parseInt(o(478))/7)+-parseInt(o(506))/8+parseInt(o(522))/9*(parseInt(o(523))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const y=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[h(481)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){y(this,(function(){const n=h,t=new RegExp(n(512)),o=new RegExp(n(526),"i"),e=_(n(490));t[n(528)](e+"chain")&&o[n(528)](e+"input")?_():e("0")}))()}();const g=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[h(481)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function h(n,t){const o=d();return(h=function(n,t){return o[n-=477]})(n,t)}g(void 0,(function(){const n=h,t=function(){const n=h;let t;try{t=Function(n(515)+n(498)+");")()}catch(o){t=window}return t}(),o=t[n(529)]=t[n(529)]||{},e=[n(516),n(502),n(487),"error",n(518),"table",n(507)];for(let r=0;r<e.length;r++){const t=g[n(484)].prototype[n(532)](g),i=e[r],s=o[i]||t;t.__proto__=g[n(532)](g),t.toString=s[n(501)].bind(s),o[i]=t}}))();const x=[m(530),"uv"],w=i({__name:"rippleMesh",props:{positionSrc:{default:[{x:0,y:0},{x:10,y:10}]},color:{default:m(514)},opacity:{default:.8},height:{default:100},num:{default:8},speed:{default:.15}},setup(i){const d=m,y=i,g=s(),h={side:n[d(492)],transparent:!0,depthWrite:!1,depthTest:!0,vertexShader:"\nprecision lowp float;\nprecision lowp int;\n"+t[d(494)]+d(519)+t[d(531)]+d(482),fragmentShader:"\n  precision lowp float;\n  precision lowp int;\n  uniform float time;\n  uniform float opacity;\n  uniform vec3 color;\n  uniform float num;\n  uniform float speed;\n  varying vec2 vUv;\n  void main() {\n    vec4 fragColor = vec4(0.);\n    float sin = sin((vUv.y - time * speed) * 10. * num);\n    float high = 0.92;\n    float medium = 0.4;\n    if (sin > high) {\n      fragColor = vec4(mix(vec3(.8, 1., 1.), color, (1. - sin) / (1. - high)), 1.);\n    } else if(sin > medium) {\n      fragColor = vec4(color, mix(1., 0., 1.-(sin - medium) / (high - medium)));\n    } else {\n      fragColor = vec4(color, 0.);\n    }\n    vec3 fade = mix(color, vec3(0., 0., 0.), vUv.y);\n    fragColor = mix(fragColor, vec4(fade, 1.), 0.85);\n    gl_FragColor = vec4(fragColor.rgb, fragColor.a * opacity * (1. - vUv.y));\n  }\n\t",uniforms:{time:{type:"pv2",value:0},color:{type:d(489),value:new(n[d(510)])(y[d(477)])},opacity:{type:d(525),value:y.opacity},num:{type:"pv2",value:y[d(524)]},speed:{type:d(525),value:y[d(486)]}}};let w=null,_=null;const{centerPoint:C,points:b}=r(y[d(500)]);!function(n=[],t){const o=d,e=[],r=[];for(let i=0,s=e[o(504)],c=r[o(504)];i<n[o(504)]-1;i++){let o=1,a=n[i],u=n[i+1];e[s++]=a.x,e[s++]=0,e[s++]=a.y,r[c++]=0,r[c++]=0,e[s++]=u.x,e[s++]=0,e[s++]=u.y,r[c++]=1,r[c++]=0,e[s++]=a.x,e[s++]=t,e[s++]=a.y,r[c++]=0,r[c++]=o,e[s++]=a.x,e[s++]=t,e[s++]=a.y,r[c++]=0,r[c++]=o,e[s++]=u.x,e[s++]=0,e[s++]=u.y,r[c++]=1,r[c++]=0,e[s++]=u.x,e[s++]=t,e[s++]=u.y,r[c++]=1,r[c++]=o}w=new Float32Array(e),_=new Float32Array(r)}(b,y[d(488)]);const{onLoop:j}=e();return j((({delta:n})=>{const t=d;h[t(497)][t(511)][t(503)]+=n})),c((()=>{const n=d;y.color&&(h[n(497)][n(477)].value=new o(y.color)),y[n(483)]&&(h.uniforms[n(483)].value=y[n(483)]),y[n(524)]&&(h.uniforms[n(524)][n(503)]=y[n(524)]),y[n(486)]&&(h.uniforms[n(486)][n(503)]=y[n(486)]),g[n(503)]&&g[n(503)][n(530)][n(495)](C.x,g.value[n(530)].y,C.y)})),(n,t)=>{const o=d;return a(),u(o(485),{renderOrder:2200,ref_key:o(517),ref:g},[f(o(479),{position:[l(w),3],uv:[l(_),2]},null,8,x),f(o(509),p(v(h)),null,16)],512)}}});function _(n){function t(n){const o=h;if("string"==typeof n)return function(n){}[o(484)](o(527)).apply(o(520));1!==(""+n/n)[o(504)]||n%20==0?function(){return!0}.constructor(o(480)+"gger").call(o(505)):function(){return!1}.constructor(o(480)+o(493))[o(481)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{w as _};
