import{importShared as n}from"./3d-tiles-renderer.DZNovkLO1767148983502.js";import{_l as u}from"./index.DTe2qqjO1767148983502.js";const{defineComponent:m}=await n("vue"),{createElementVNode:p,normalizeProps:f,guardReactiveProps:_,openBlock:h,createElementBlock:v}=await n("vue"),R=["rotation-x"],g=["args"],o=await n("three"),{watch:c,reactive:w,ref:x}=await n("vue"),E=m({__name:"videoFloor",props:{size:{default:[10,10]},vSrcPath:{},loop:{type:Boolean,default:!0},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},setup(s){const i=x(),{onRender:d}=u();d(()=>{i.value&&(i.value.rotation.z+=e.rotationZ)});const e=s;let t=document.createElement("video");t.src=e.vSrcPath,t.loop=e.loop,t.muted=!0,t.crossOrigin="",t.play();let r=new o.VideoTexture(t);r.wrapS=o.RepeatWrapping,r.wrapT=o.RepeatWrapping,r.repeat.set(e.textureRepeat[0],e.textureRepeat[1]);const l=w({color:e.color,alphaMap:r,side:o.DoubleSide,transparent:!0,opacity:e.opacity,blending:o.AdditiveBlending,flatShading:!0,depthTest:!0,depthWrite:!0});return c(()=>e.color,a=>{l.color=new o.Color(a)}),c(()=>e.opacity,a=>{l.opacity=a}),(a,y)=>(h(),v("TresMesh",{ref_key:"tmRef",ref:i,"rotation-x":-Math.PI/2},[p("TresPlaneGeometry",{args:e.size},null,8,g),p("TresMeshStandardMaterial",f(_(l)),null,16)],8,R))}});export{E as _sfc_main};
