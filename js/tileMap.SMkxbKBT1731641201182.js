import{_ as t,cz as n,V as e}from"./three.-z-VOBM71731641201182.js";import{P as o}from"./tweakpane.yHWGBmom1731641201182.js";import{m as r,e as s}from"./@tresjs.b88d4FZI1731641201182.js";import{P as i,b as a,c,M as u,T as p,a as l,d as f}from"./index.58Ww95vE1731641201182.js";import{d as m,a3 as g,w as d,o as h,D as j,u as b,X as w,r as x,e as v,j as y,g as I,f as M,al as _,m as z,F as C}from"./@vue.-THQH3GC1731641201182.js";import{_ as S}from"./raycasterEvent.p8tN9J6B1731641201182.js";import{a as B}from"./utils.Y6R0Jav31731641201182.js";import"./@vueuse.XeXqlNFe1731641201182.js";import"./@mapbox.UEb0hH5A1731641201182.js";import"./@amap.ZfMFVSXv1731641201182.js";import"./three-mesh-bvh.cO6YqTc81731641201182.js";import"./three-custom-shader-material.h_zYovtn1731641201182.js";import"./@fesjs.Y6wvFf_31731641201182.js";import"./vue-router.JI-MlJL41731641201182.js";import"./lodash-es.kYt-_xTG1731641201182.js";import"./@qlin.yHhFDldE1731641201182.js";import"./pinia.KbEhbnNi1731641201182.js";import"./vue-demi.C4xddsk91731641201182.js";import"./@floating-ui.BPbuo5Gx1731641201182.js";import"./@juggle.7yjBMqoW1731641201182.js";import"./@tweenjs.zdhk2VeU1731641201182.js";import"./utils.uVVAyv6Q1731641201182.js";import"./d3-geo.XZqdYSS21731641201182.js";import"./d3-array.AhNJy1f41731641201182.js";import"./http.171xTbo31731641201182.js";import"./axios.Ng308AU61731641201182.js";import"./color.-0_cfphq1731641201182.js";import"./color-string.wDsV_or31731641201182.js";import"./color-name.cAkUkPfO1731641201182.js";import"./simple-swizzle.ZATgQo_C1731641201182.js";import"./is-arrayish.BSkEwQJj1731641201182.js";import"./color-convert.9WBmUyc_1731641201182.js";import"./lodash.xhEN0bON1731641201182.js";import"./naive-ui.PiZsgBYf1731641201182.js";import"./date-fns.dsKIdits1731641201182.js";import"./@css-render.A_Lb2zqX1731641201182.js";import"./seemly.SjiSeX2v1731641201182.js";import"./css-render.KX8SYTRD1731641201182.js";import"./@emotion.ZD_ZYAgY1731641201182.js";import"./vooks.yHFwEEi11731641201182.js";import"./evtd.DtfwxtIl1731641201182.js";import"./vueuc.7trDYahx1731641201182.js";import"./vdirs.gK8Gbbxw1731641201182.js";import"./treemate.dcEdf2le1731641201182.js";import"./date-fns-tz.H44F4SGP1731641201182.js";import"./async-validator.-YBkpS4I1731641201182.js";const k=A;!function(t,n){const e=A,o=P();for(;;)try{if(983394===-parseInt(e(410))/1+parseInt(e(419))/2+parseInt(e(473))/3*(-parseInt(e(429))/4)+-parseInt(e(445))/5+parseInt(e(455))/6*(parseInt(e(454))/7)+parseInt(e(418))/8+-parseInt(e(474))/9*(-parseInt(e(462))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(427)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(441),"i"),o=Z("init");n[t(404)](o+t(421))&&e.test(o+"input")?Z():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[A(427)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=A,n=function(){const t=A;let n;try{n=Function(t(464)+t(457)+");")()}catch(e){n=window}return n}(),e=n[t(467)]=n.console||{},o=[t(458),t(431),t(402),t(423),t(476),"table",t(425)];for(let r=0;r<o[t(437)];r++){const n=E.constructor[t(469)].bind(E),s=o[r],i=e[s]||n;n[t(406)]=E[t(456)](E),n[t(463)]=i[t(463)].bind(i),e[s]=n}}))();const R=[k(444),"rotation"];function A(t,n){const e=P();return(A=function(t,n){return e[t-=401]})(t,n)}function P(){const t=["test","gger","__proto__","stateObject","debu","primitive","1829171deVxPg","domElement","constructor","lookAt","useWorker","mapCenter","coordType","maxZoom","6662768tiAcyz","174968jSUmwS","genContrast","chain","minDistance","error","set","trace","dampingFactor","apply","filter","2431436DOYBYn","source","warn","showBoundingBox","Vector3","action","call","genSaturation","length","far","camera","opposite","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","showTileNo","target","object","2123610ytrotv","genBright","counter","Color","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","useStandardMaterial","isMonochrome","PerspectiveCamera","updateProjectionMatrix","7MELsgw","1194198fnqChS","bind",'{}.constructor("return this")( )',"log","while (true) {}","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","update","10KbDUMf","toString","return (function() ","position0","tweenInstance","console","render","prototype","innerHeight","position","bbox","3lXsbtt","24532047zqsYfE","monochrome","exception","#fff","string","info","value"];return(P=function(){return t})()}const T=m({__name:"tileMapMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:k(477)},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(e,{expose:o}){const f=k,m=e,{renderer:w,scene:x}=r();(new i)[f(416)]=a;const v=new c;v.source=f(449),v[f(416)]=a;const y=new u;y[f(430)]=f(460),y[f(442)]=!1,y[f(414)]=!0;const I=new p(v,y);if(I[f(432)]=!1,I.wireframe=!1,I.flatShading=!1,I[f(450)]=!1,I[f(428)]={opposite:m.opposite,monochrome:m[f(451)]?{r:.299,g:.587,b:.114}:null,genBright:m[f(446)],genContrast:m[f(420)],genSaturation:m[f(436)]},m[f(475)]){let n=new(t[f(448)])(m[f(475)]);I.filter&&(I[f(428)][f(475)]={r:n.r,g:n.g,b:n.b})}const M=new l;M.provider=I,M[f(472)]=m[f(472)],M[f(417)]=m[f(417)];const _=new(t[f(452)])(60,window.innerWidth/window[f(470)],1,1e8);_.up=new(t[f(433)])(0,1,0),_[f(471)][f(424)](m[f(415)][0],m[f(415)][2],-m[f(415)][1]),_[f(413)](new(t[f(433)])(_[f(471)].x,0,_[f(471)].z-2e3)),M[f(439)]=_;let z=null;g((()=>{const t=f;w[t(403)]&&!z&&(z=new n(_,w[t(403)][t(411)]),z.enableDamping=!0,z[t(426)]=.05,z[t(422)]=600,z[t(465)][t(424)](_[t(471)].x,_[t(471)].y,_[t(471)].z),z[t(443)].set(_[t(471)].x,0,_[t(471)].z-2e3))})),d((()=>[m[f(440)],m.isMonochrome,m[f(475)]]),(([n,e,o])=>{const r=f;if(I[r(428)]){let s=new(t[r(448)])(o);I.filter[r(440)]=n,I[r(428)][r(475)]=e?{r:s.r,g:s.g,b:s.b}:null}})),d((()=>[m[f(446)],m.genContrast,m[f(436)]]),(([t,n,e])=>{const o=f;I[o(428)]&&(I.filter[o(446)]=t,I[o(428)].genContrast=n,I.filter[o(436)]=e)}));const{onLoop:C}=s();return C((()=>{var t;const n=f;if(w[n(403)]){null==(t=m[n(466)])||t[n(461)](),z&&z[n(461)](),M[n(461)]();const e=50*Math.abs(_[n(471)].y);_[n(438)]=e+5e3,_[n(453)](),w[n(403)][n(468)](x[n(403)],_)}})),o({camera:_,map:M,orbitControl:z}),(t,n)=>{const e=f;return h(),j(e(409),{object:b(M),rotation:[-Math.PI/2,0,0]},null,8,R)}}});function Z(t){function n(t){const e=A;if(typeof t===e(401))return function(t){}.constructor(e(459))[e(427)](e(447));1!==(""+t/t)[e(437)]||t%20==0?function(){return!0}[e(412)]("debugger")[e(435)](e(434)):function(){return!1}[e(412)](e(408)+e(405))[e(427)](e(407)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=K;!function(t,n){const e=K,o=V();for(;;)try{if(155581===parseInt(e(246))/1*(parseInt(e(268))/2)+parseInt(e(209))/3*(-parseInt(e(266))/4)+parseInt(e(240))/5+parseInt(e(215))/6+parseInt(e(249))/7+-parseInt(e(211))/8*(-parseInt(e(264))/9)+-parseInt(e(261))/10*(parseInt(e(237))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(){const t=["1680912mKBKUu","tweenInstance","toString","camera","monochrome","test","call","length","value","genContrast","牛首山","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","addBlade","orbitControl","xjk","#4688b5","tileMap","SRGBColorSpace","__proto__","info","单色滤镜","2190815gNygXb","change","action","1491645uHUnou","trace","新街口","对比度","opposite","apply","1MZrVHW","console","chain","382900JIcWnJ","genSaturation",'{}.constructor("return this")( )',"stateObject","init","string","addBinding","tileMapRef","prototype","function *\\( *\\)","table","debu","30TjJOID","constructor","return (function() ","42876XoEKDa","饱和度","4kPyFMe","log","297836QLVegT","bind","NoToneMapping","901713SxRFaA","list","456FzSPLm","warn","TresCanvas","input"];return(V=function(){return t})()}!function(){L(this,(function(){const t=K,n=new RegExp(t(258)),e=new RegExp(t(227),"i"),o=U(t(253));n[t(220)](o+t(248))&&e.test(o+t(214))?U():o("0")}))()}();const W=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[K(245)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function K(t,n){const e=V();return(K=function(t,n){return e[t-=207]})(t,n)}W(void 0,(function(){const t=K;let n;try{n=Function(t(263)+t(251)+");")()}catch(r){n=window}const e=n.console=n[t(247)]||{},o=[t(267),t(212),t(235),"error","exception",t(259),t(241)];for(let s=0;s<o[t(222)];s++){const n=W[t(262)][t(257)].bind(W),r=o[s],i=e[r]||n;n[t(234)]=W.bind(W),n[t(217)]=i[t(217)][t(207)](i),e[r]=n}}))();const O=m({__name:F(232),setup(n){const r=F,s=f(118.779958,32.017136),i=[s[0],s[1],5e3],a=w(),c=x({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:r(231),mapCenter:i,tweenInstance:null}),u=new o({title:"参数"});u.addBinding(c,r(244),{label:"反色"}),u[r(255)](c,"genBright",{label:"高亮",min:.1,max:3,step:.1}),u[r(255)](c,r(224),{label:r(243),min:.1,max:3,step:.1}),u[r(255)](c,r(250),{label:r(265),min:.1,max:3,step:.1}),u[r(255)](c,"isMonochrome",{label:r(236)}),u[r(255)](c,r(219),{label:"滤镜颜色"});const p={at:f(118.7425,31.9998),xjk:f(118.7842,32.0418),nss:f(118.7503,31.9082)};u[r(228)]({view:r(210),label:"飞去",options:[{text:"奥体中心",value:"at"},{text:r(242),value:r(230)},{text:r(225),value:"nss"}],value:"at"}).on(r(238),(n=>{const e=r,o=new(t[e(226)])(p[n[e(223)]][0],2e3,-p[n[e(223)]][1]);c[e(216)]=B(a.value[e(218)],o,a.value[e(229)],[0,-300],4e3)}));const l=x({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:"manual",outputColorSpace:t[r(233)],toneMapping:t[r(208)]});return setTimeout((()=>{const t=r,n=p.at,o=new e(n[0],1600,-n[1]);c.tweenInstance=B(a[t(223)][t(218)],o,a.value[t(229)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const e=r,o=v(e(213));return h(),j(C,null,[y(o,z(l,{"window-size":""}),{default:I((()=>[(h(),M(_,null,{default:I((()=>[y(T,z(c,{ref_key:"tileMapMeshRef",ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),y(S,{tileMapRef:a.value},null,8,[e(256)])],64)}}});function U(t){function n(t){const e=K;if(typeof t===e(254))return function(t){}.constructor("while (true) {}")[e(245)]("counter");1!==(""+t/t)[e(222)]||t%20==0?function(){return!0}[e(262)](e(260)+"gger")[e(221)](e(239)):function(){return!1}[e(262)](e(260)+"gger").apply(e(252)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
