import{P as t}from"./tweakpane.ivGeiIdz1743066865732.js";import{e,h as n,a as o,o as r}from"./@tresjs.NxYvETXi1743066865732.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.z5wnD9Re1743066865732.js";import{cR as a,_ as s,C as l}from"./three.qSkR4_5R1743066865732.js";import{d as u,a6 as c,a3 as f,w as m,o as d,H as p,N as h,u as g,j as v,r as x,e as I,f as w,g as S,al as y,m as _}from"./@vue.L-brCdZe1743066865732.js";import"./postprocessing.ncQBP5me1743066865732.js";import"./@vueuse.2gpu5LGS1743066865732.js";import"./all.three.-jXJLs_M1743066865732.js";import"./oimophysics.WhCxc1Ho1743066865732.js";const b=M;!function(t,e){const n=M,o=U();for(;;)try{if(324117===-parseInt(n(154))/1+-parseInt(n(125))/2+parseInt(n(165))/3+parseInt(n(174))/4+parseInt(n(179))/5*(parseInt(n(122))/6)+-parseInt(n(180))/7*(parseInt(n(168))/8)+-parseInt(n(159))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[M(134)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function U(){const t=["15aoxcJd","63Kxxdwq","TresPoints","test","toString","TresGroup","length","setFromPoints","639690fxpJrE","return (function() ","info","425388mJpPoC","#409eff","aNormal","color","debu","array","bind","string","floor","apply","gger","xRadius","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","__proto__","aIndex","error","height","prototype","function *\\( *\\)","AdditiveBlending","uTime","speed","table","value","exception","PointsMaterial","constructor","map","set","270103PIUMmj","trace","blending","alphaMap","console","847440QKtvYc","scale","push","getPoints","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","uHeight","1727679OaRUfg","call",'{}.constructor("return this")( )',"522024aVGuGr","baseColor","log","stateObject","action","init","2370452cqzxbQ","BufferGeometry","rotateX","#90ee90","position"];return(U=function(){return t})()}!function(){T(this,(function(){const t=M,e=new RegExp(t(143)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=D(t(173));e[t(182)](o+"chain")&&n.test(o+"input")?D():o("0")}))()}();const N=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[M(134)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();N(void 0,(function(){const t=M,e=function(){const t=M;let e;try{e=Function(t(123)+t(167)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(158)]||{},o=[t(170),"warn",t(124),t(140),t(149),t(147),t(155)];for(let r=0;r<o[t(120)];r++){const e=N[t(151)][t(142)].bind(N),i=o[r],a=n[i]||e;e[t(138)]=N[t(131)](N),e[t(183)]=a[t(183)].bind(a),n[i]=e}}))();const P=[b(176)],j=[b(178),b(139),b(127)];function M(t,e){const n=U();return M=function(t,e){return n[t-=120]},M(t,e)}const W=b(163),C=b(137),z=u({__name:"lineMagicZone",props:{height:{default:1.6},speed:{default:1},color:{default:b(177)}},async setup(t){const r=b;let i,u;const x=c(),I=t,w=([i,u]=f((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,u(),i),S=new a(0,0,8,8,0,2*Math.PI,!1,0),y=[];for(let e=0;e<5;e++)y[r(161)](...S[r(162)](719)),S[r(136)]+=.2,S.yRadius+=.2;const _=new Float32Array(y[r(152)](((t,e)=>e))),T=(new(s[r(175)]))[r(121)](y).getAttribute(r(178))[r(130)],U=new Float32Array(T[r(120)]);for(let e=0;e<T[r(120)]/3;e++){const t=3*e;T[t+1]+=.15*Math[r(133)](e/720);const n=e%720*3,o=3*(e%720+2880);U[t]=T[o]-T[n],U[t+1]=T[o+1]-T[n+1],U[t+2]=T[o+2]-T[n+2]}const N={uTime:{value:0},uScale:{value:x[r(160)]?x[r(160)]:1},uHeight:{value:I[r(141)]},uPerlinTexture:{value:w[1]},baseColor:{value:new l(I[r(128)])}},{onLoop:M}=e();return M((()=>{const t=r;N[t(145)][t(148)]+=.01*I[t(146)]})),m((()=>[I[r(128)],x.scale,I.height]),(([t,e,n])=>{const o=r;N[o(169)].value[o(153)](t),N.uScale[o(148)]=e,N[o(164)][o(148)]=n})),(t,e)=>{const o=r;return d(),p(o(184),null,[h(o(181),{rotateX:-Math.PI/2,scale:.1},[h("TresBufferGeometry",{position:[g(T),3],aIndex:[g(_),1],aNormal:[g(U),3]},null,8,j),v(g(n),{baseMaterial:s[o(150)],vertexShader:W,fragmentShader:C,uniforms:N,map:g(w)[0],alphaMap:g(w)[0],transparent:"",depthWrite:!1,blending:s[o(144)],color:o(126),size:.1},null,8,["baseMaterial",o(152),o(157),o(156)])],8,P)])}}});function D(t){function e(t){const n=M;if(typeof t===n(132))return function(t){}[n(151)]("while (true) {}")[n(134)]("counter");1!==(""+t/t)[n(120)]||t%20==0?function(){return!0}[n(151)](n(129)+"gger")[n(166)](n(172)):function(){return!1}.constructor(n(129)+n(135))[n(134)](n(171)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function R(){const t=["1489260vsyoYg","chain","toString","debu","8113gjioyS","while (true) {}","color","console","counter","10OjsfTM","exception","table","speed","string","#201919","bind","height","warn","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#ff0000","action","call","13712KYizQu","3zDqNwH","scale","4040945swYEMA","info","constructor","function *\\( *\\)","110BKkYDA","lineMagicZone","TresAmbientLight","length","test","294811hRSnKd","4975844MrEPFc","input","1992MLUoUj","13923027VWQPWW",'{}.constructor("return this")( )',"trace","gger","error","prototype","7049kWEuJS","addBinding","stateObject"];return(R=function(){return t})()}const O=L;!function(t,e){const n=L,o=R();for(;;)try{if(997228===parseInt(n(526))/1*(-parseInt(n(511))/2)+-parseInt(n(505))/3*(-parseInt(n(517))/4)+parseInt(n(507))/5+parseInt(n(529))/6+-parseInt(n(533))/7*(-parseInt(n(504))/8)+parseInt(n(520))/9*(parseInt(n(490))/10)+-parseInt(n(516))/11*(parseInt(n(519))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[L(499)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=L,e=new RegExp(t(510)),n=new RegExp(t(500),"i"),o=H("init");e[t(515)](o+t(530))&&n[t(515)](o+t(518))?H():o("0")}))()}();const E=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[L(499)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function L(t,e){const n=R();return L=function(t,e){return n[t-=487]},L(t,e)}E(void 0,(function(){const t=L,e=function(){const t=L;let e;try{e=Function("return (function() "+t(521)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(488)]||{},o=["log",t(498),t(508),t(524),t(491),t(492),t(522)];for(let r=0;r<o[t(514)];r++){const e=E[t(509)][t(525)][t(496)](E),i=o[r],a=n[i]||e;e.__proto__=E[t(496)](E),e[t(531)]=a[t(531)].bind(a),n[i]=e}}))();const B=u({__name:O(512),setup(e){const n=O,o=x({reflectivity:.1,showGridHelper:!0,scale:1}),a=x({color:n(501),scale:1.8,height:2.4,speed:1}),s=new t;return s.addBinding(a,n(487),{label:"颜色"}),s[n(527)](a,n(506),{label:"大小",min:.1,max:3,step:.1}),s[n(527)](a,n(497),{label:"高度",min:.1,max:3,step:.1}),s[n(527)](a,n(493),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=I("TresCanvas");return d(),w(l,{clearColor:s(495),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:S((()=>[e[0]||(e[0]=h("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),v(g(r),{enableDamping:""}),e[1]||(e[1]=h(s(513),{intensity:2},null,-1)),(d(),w(y,null,{default:S((()=>[v(z,_({position:[3,0,0]},a),null,16)])),_:1})),(d(),w(y,null,{default:S((()=>[v(z,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(d(),w(y,null,{default:S((()=>[v(i,_({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function H(t){function e(t){const n=L;if(typeof t===n(494))return function(t){}[n(509)](n(534))[n(499)](n(489));1!==(""+t/t).length||t%20==0?function(){return!0}[n(509)](n(532)+n(523))[n(503)](n(502)):function(){return!1}[n(509)](n(532)+n(523))[n(499)](n(528)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{B as default};
