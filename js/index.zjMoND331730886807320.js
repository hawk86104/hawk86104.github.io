var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&i(t,o,a[o]);if(e)for(var o of e(a))r.call(a,o)&&i(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.vwzCU7Ru1730886807320.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.yme4K4Qp1730886807320.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.gv5A03N01730886807320.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,a9 as v,A as m,V as h,Q as w,as as g}from"./three._P_a_E_Z1730886807320.js";import{m as d,e as y}from"./@tresjs.iUmyNPdW1730886807320.js";import{u as S}from"./index.xgqHHD_Y1730886807320.js";import{F as _,C as P}from"./three-stdlib.-Lz596Q01730886807320.js";import{d as z}from"./@vue.-THQH3GC1730886807320.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.A6U1VkhS1730886807320.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.qUlfFylV1730886807320.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.J-kHX_gc1730886807320.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.3NZVIIOZ1730886807320.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.eHBCZn-81730886807320.js";const b=I;function I(t,e){const n=E();return(I=function(t,e){return n[t-=489]})(t,e)}function E(){const t=["1rQkQJh","2422DYExLv","chain","180sdYHaI","error","counter","call","debu","gger","action","exception","input","547257xusxkS",'{}.constructor("return this")( )',"warn",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"init","length","bind","console","10WdftzL","function *\\( *\\)","table","12609XgEOUY","toString","3344WwDNNk","return (function() ","stateObject","while (true) {}","__proto__","2568LGEJUY","constructor","apply","prototype","188108zrbbkW","1898168vfQrBb","4579014iEqKZT","trace","test"];return(E=function(){return t})()}!function(t,e){const n=I,r=E();for(;;)try{if(147975===parseInt(n(502))/1*(-parseInt(n(497))/2)+parseInt(n(514))/3+-parseInt(n(527))/4*(-parseInt(n(505))/5)+-parseInt(n(493))/6*(parseInt(n(503))/7)+-parseInt(n(498))/8+-parseInt(n(525))/9+parseInt(n(522))/10*(parseInt(n(499))/11))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const M=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[I(495)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){M(this,(function(){const t=I,e=new RegExp(t(523)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=L(t(518));e[t(501)](r+t(504))&&n[t(501)](r+t(513))?L():r("0")}))()}();const A=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[I(495)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();A(void 0,(function(){const t=I;let e;try{e=Function(t(489)+t(515)+");")()}catch(i){e=window}const n=e[t(521)]=e[t(521)]||{},r=["log",t(516),"info",t(506),t(512),t(524),t(500)];for(let a=0;a<r[t(519)];a++){const e=A.constructor[t(496)].bind(A),i=r[a],o=n[i]||e;e[t(492)]=A.bind(A),e[t(526)]=o[t(526)][t(520)](o),n[i]=e}}))();const D=b(517);function L(t){function e(t){const n=I;if("string"==typeof t)return function(t){}[n(494)](n(491))[n(495)](n(507));1!==(""+t/t)[n(519)]||t%20==0?function(){return!0}[n(494)](n(509)+n(510))[n(508)](n(511)):function(){return!1}.constructor(n(509)+n(510)).apply(n(490)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const U=j;!function(t,e){const n=j,r=N();for(;;)try{if(844869===-parseInt(n(454))/1*(parseInt(n(445))/2)+-parseInt(n(474))/3*(-parseInt(n(477))/4)+parseInt(n(469))/5+-parseInt(n(453))/6+parseInt(n(460))/7*(parseInt(n(450))/8)+-parseInt(n(464))/9*(-parseInt(n(449))/10)+parseInt(n(458))/11*(parseInt(n(480))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const T=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[j(446)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function j(t,e){const n=N();return(j=function(t,e){return n[t-=441]})(t,e)}!function(){T(this,(function(){const t=j,e=new RegExp(t(441)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=k(t(466));e[t(467)](r+t(457))&&n[t(467)](r+t(459))?k():r("0")}))()}();const V=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function O(t){const e=j,n=a({},t);return e(461)in t&&(n[e(461)]=a({},t.defines)),e(478)in t&&(n[e(478)]=s[e(483)](t[e(478)])),n}V(void 0,(function(){const t=j,e=function(){const t=j;let e;try{e=Function(t(482)+t(476)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(442)]||{},r=[t(452),"warn",t(481),t(470),t(465),"table",t(475)];for(let i=0;i<r.length;i++){const e=V[t(451)].prototype.bind(V),a=r[i],o=n[a]||e;e[t(448)]=V.bind(V),e.toString=o.toString[t(472)](o),n[a]=e}}))();const R={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:U(444)+D+U(468)};function k(t){function e(t){const n=j;if(typeof t===n(443))return function(t){}.constructor(n(462)).apply(n(463));1!==(""+t/t)[n(471)]||t%20==0?function(){return!0}[n(451)]("debugger")[n(479)](n(447)):function(){return!1}[n(451)](n(473)+n(455))[n(446)](n(456)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function N(){const t=["12eoXDnd","info","return (function() ","clone","function *\\( *\\)","console","string","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","14UmYRMg","apply","action","__proto__","330RCtwBw","8JxfsSS","constructor","log","9922944gHenVX","155697ujAmxG","gger","stateObject","chain","9955913WuUXrz","input","2981209steBqx","defines","while (true) {}","counter","456957ftyvtX","exception","init","test","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","1611125Tcxmpm","error","length","bind","debu","12Dkmebp","trace",'{}.constructor("return this")( )',"259868BIHLRJ","uniforms","call"];return(N=function(){return t})()}const W=Y;!function(t,e){const n=Y,r=X();for(;;)try{if(828801===-parseInt(n(460))/1*(parseInt(n(430))/2)+-parseInt(n(495))/3*(-parseInt(n(456))/4)+-parseInt(n(479))/5*(-parseInt(n(475))/6)+-parseInt(n(441))/7*(parseInt(n(485))/8)+parseInt(n(457))/9+parseInt(n(472))/10*(-parseInt(n(455))/11)+parseInt(n(433))/12)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const C=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=Y,e=new RegExp(t(459)),n=new RegExp(t(429),"i"),r=Z(t(436));e[t(480)](r+t(466))&&n.test(r+t(500))?Z():r("0")}))()}();const H=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[Y(487)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function X(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","10aIupfL","update","type","23441700vKhljA","setSize","error","init","return (function() ","set","table","__proto__","3457706wCPwoE","floorPowerOfTwo","defines","warn","tDiffuse","map","toString","_swapTarget","constructor","_mipMaterials","prototype","gger","value","height","11zDnBLi","636488bhDzoX","8878302RmWptP","autoClear","function *\\( *\\)","262261yvtnSt","X_IS_EVEN","floor","bind","trace","stateObject","chain","action","texture","uniforms","render","setClearAlpha","6274850KXNYHs","getClearColor","_copyQuad","40602jqAseK","minFilter","fragmentShader","material","850paZfbr","test","magFilter","setRenderTarget","isWebGLRenderTarget",'{}.constructor("return this")( )',"24hbWszB","debu","apply","log","setViewOffset","width","exception","parentMapSize","_mipQuad","replace","3lDZjDO","clear","image","dispose","Y_IS_EVEN","input","getRenderTarget","parentLevel","console","setClearColor","length"];return(X=function(){return t})()}function Y(t,e){const n=X();return(Y=function(t,e){return n[t-=428]})(t,e)}H(void 0,(function(){const t=Y,e=function(){const t=Y;let e;try{e=Function(t(437)+t(484)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(503)]||{},r=[t(488),t(444),"info",t(435),t(491),t(439),t(464)];for(let i=0;i<r[t(428)];i++){const e=H[t(449)][t(451)][t(463)](H),a=r[i],o=n[a]||e;e[t(440)]=H[t(463)](H),e[t(447)]=o[t(447)][t(463)](o),n[a]=e}}))();const F=new l;class Q{constructor(t){const e=Y;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=O(R);n[e(477)]=n.fragmentShader[e(494)](/<mipmap_logic>/g,t);const r=new Array(4);r[0]=new c(O(n)),r[0][e(443)][e(461)]=0,r[0][e(443)].Y_IS_EVEN=0,r[1]=new c(O(n)),r[1][e(443)].X_IS_EVEN=1,r[1].defines[e(499)]=0,r[2]=new c(O(n)),r[2][e(443)][e(461)]=0,r[2][e(443)].Y_IS_EVEN=1,r[3]=new c(O(n)),r[3][e(443)][e(461)]=1,r[3][e(443)][e(499)]=1;const i=new u;i[e(468)][e(476)]=p,i[e(468)][e(481)]=p,this._swapTarget=i,this[e(474)]=new _(new c(P)),this[e(493)]=new _(null),this[e(450)]=r}[W(431)](t,e,n,r=!1){const i=W;t[i(483)]&&(t=t.texture);const o=n.autoClear,s=n.getClearAlpha(),l=n[i(501)]();n[i(473)](F);const c=this._copyQuad,u=this[i(493)],p=this[i(448)],x=this[i(450)];let v,m;r?(v=f[i(442)](t[i(497)][i(490)]),m=f[i(442)](t[i(497)].height)):(v=Math[i(462)](t[i(497)][i(490)]),m=Math[i(462)](t[i(497)][i(454)]));const h=Math[i(462)](1.5*v),w=Math[i(462)](m);e.setSize(h,w),p.texture.type!==e.texture[i(432)]?(p[i(498)](),p.copy(e),p.texture[i(497)]=a({},p[i(468)][i(497)])):p[i(434)](h,w),n[i(458)]=!1,n[i(504)](0),n[i(471)](),c[i(478)][i(469)][i(445)].value=t,c.camera[i(489)](v,m,0,0,h,w),n.setRenderTarget(e),n[i(496)](),c.render(n),n[i(482)](p),n.clear(),c.render(n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[i(469)][i(446)][i(453)]=p[i(468)],t[i(469)][i(502)].value=y,t[i(469)][i(492)].value[i(438)](g,d),t.uniforms.originalMapSize[i(453)][i(438)](v,m),u[i(478)]=t,g=Math[i(462)](g/2),d=Math[i(462)](d/2);const r=w-2*d;n.setRenderTarget(e),u.camera[i(489)](g,d,-v,-r,h,w),u.render(n),n.setRenderTarget(p),t[i(469)].map[i(453)]=e[i(468)],u[i(470)](n),y++}return n[i(482)](l),n[i(471)](s),n[i(504)](F),n.autoClear=o,y+1}[W(498)](){const t=W;this._swapTarget[t(498)](),this._mipQuad[t(498)](),this[t(474)][t(498)](),this._mipMaterials.forEach((t=>t.dispose()))}}function Z(t){function e(t){const n=Y;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor("debu"+n(452)).call(n(467)):function(){return!1}[n(449)](n(486)+"gger")[n(487)](n(465)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const G=J;!function(t,e){const n=J,r=q();for(;;)try{if(157106===parseInt(n(201))/1*(parseInt(n(234))/2)+-parseInt(n(232))/3*(-parseInt(n(206))/4)+-parseInt(n(250))/5*(parseInt(n(251))/6)+parseInt(n(202))/7+parseInt(n(214))/8*(-parseInt(n(194))/9)+-parseInt(n(217))/10+-parseInt(n(245))/11*(-parseInt(n(199))/12))break;r.push(r.shift())}catch(i){r.push(r.shift())}}();const B=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[J(230)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){B(this,(function(){const t=J,e=new RegExp(t(239)),n=new RegExp(t(226),"i"),r=tt("init");e.test(r+t(224))&&n[t(256)](r+"input")?tt():r("0")}))()}();const $=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[J(230)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function J(t,e){const n=q();return(J=function(t,e){return n[t-=193]})(t,e)}$(void 0,(function(){const t=J,e=function(){const t=J;let e;try{e=Function(t(216)+t(209)+");")()}catch(n){e=window}return e}(),n=e[t(227)]=e[t(227)]||{},r=[t(259),t(263),t(253),t(262),"exception","table",t(244)];for(let i=0;i<r[t(266)];i++){const e=$[t(231)][t(193)][t(204)]($),a=r[i],o=n[a]||e;e.__proto__=$.bind($),e.toString=o[t(222)][t(204)](o),n[a]=e}}))();const K=z({__name:G(246),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=G,r=t,i=new(x[n(221)]),a=new(x[n(223)]),o=new v,s=new Q,l=S({width:r[n(210)],height:r[n(210)],settings:{type:x[n(261)]}}),c=S({width:r[n(210)],height:r[n(210)],settings:{type:m}}),{camera:u,renderer:p,scene:f}=d(),{onBeforeLoop:_}=y();return _((()=>{const t=n;(()=>{const t=n;if(!u[t(265)])return;i.set(new(x[t(198)])(0,1,0),0),i[t(271)](r[t(241)][t(258)]),o[t(228)](u[t(265)]);const e=new h(0,0,1).clone().negate(),s=u.value.getWorldPosition(new(x[t(198)]));e[t(238)](i[t(207)]);const c=new(x[t(198)]);i[t(215)](s,c);const v=c[t(200)]();v.sub(s),v.add(c),o.position[t(228)](v);const m=new(x[t(198)])(0,0,-1);m[t(195)](u[t(265)][t(225)](new w)),m[t(257)](s);const d=new(x[t(198)]);r[t(241)][t(236)](d),d[t(255)](m),d[t(238)](i[t(207)]).negate(),d[t(257)](r[t(241)][t(236)](new(x[t(198)]))),o.up[t(208)](0,1,0),o[t(195)](u[t(265)].getWorldQuaternion(new(x[t(272)]))),o.up[t(238)](i[t(207)]),o.lookAt(d),o[t(203)]();const y=new(x[t(223)]);y[t(208)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(197)](o[t(220)]),y[t(197)](o[t(237)]),a[t(228)](y),i[t(271)](o[t(237)]);const S=new(x[t(248)])(i[t(207)].x,i[t(207)].y,i[t(207)].z,i.constant),_=o[t(220)],P=new g;P.x=(Math.sign(S.x)+_[t(254)][8])/_[t(254)][0],P.y=(Math[t(243)](S.y)+_[t(254)][9])/_[t(254)][5],P.z=-1,P.w=(1+_.elements[10])/_[t(254)][14],S[t(242)](2/S[t(229)](P)),_[t(254)][2]=S.x,_.elements[6]=S.y,_.elements[10]=S.z+1,_.elements[14]=S.w;const z=p[t(265)][t(205)]();p[t(265)].setRenderTarget(l[t(265)]),p[t(265)][t(249)][t(219)][t(212)][t(252)](!0),!1===p[t(265)][t(270)]&&p[t(265)].clear(),r[t(218)][t(211)]((t=>t.visible=!1)),p[t(265)][t(233)](f[t(265)],o),r[t(218)][t(211)]((e=>e[t(196)]=!0)),p.value[t(235)](z)})(),l[t(265)]&&c[t(265)]&&p[t(265)]&&s[t(269)](l[t(265)][t(264)],c[t(265)],p[t(265)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function q(){const t=["applyQuaternion","visible","multiply","Vector3","474492BaiLhE","clone","2VKrZpQ","235375edngDQ","updateMatrixWorld","bind","getRenderTarget","77980wlodzh","normal","set",'{}.constructor("return this")( )',"resolution","forEach","depth","gger","8DpsSMF","projectPoint","return (function() ","640080pUAHvN","ignoreObjects","buffers","projectionMatrix","Plane","toString","Matrix4","chain","getWorldQuaternion","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","copy","dot","apply","constructor","21aXEDRV","render","277172HkIiQM","setRenderTarget","getWorldPosition","matrixWorldInverse","reflect","function *\\( *\\)","call","parent","multiplyScalar","sign","trace","11xzYBFp","reflectorMipMap","while (true) {}","Vector4","state","1540qVPWmf","138iSpqoL","setMask","info","elements","sub","test","add","matrixWorld","log","action","UnsignedByteType","error","warn","texture","value","length","debu","stateObject","update","autoClear","applyMatrix4","Quaternion","prototype","2327445JomjLG"];return(q=function(){return t})()}function tt(t){function e(t){const n=J;if("string"==typeof t)return function(t){}[n(231)](n(247))[n(230)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(231)]("debugger")[n(240)](n(260)):function(){return!1}.constructor(n(267)+n(213))[n(230)](n(268)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function et(){var t=["return (function() ","2121285OhTuVx","error","toString","function *\\( *\\)","log","console","info","144uYzwqK","1oXQbZu","action","while (true) {}","2133288jGDCbA","bind","string","7kYXLWl","warn","call","table","974858pdJxfN","constructor","11612bFmbSG","apply","4216370yfMuaN","stateObject","test","247254MMijbJ","debu","init","counter","gger","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1584176NUzVTl","trace"];return(et=function(){return t})()}!function(t,e){for(var n=it,r=et();;)try{if(265246===parseInt(n(482))/1*(parseInt(n(457))/2)+-parseInt(n(481))/3*(parseInt(n(459))/4)+-parseInt(n(474))/5+-parseInt(n(464))/6+parseInt(n(453))/7*(parseInt(n(471))/8)+-parseInt(n(450))/9+parseInt(n(461))/10)break;r.push(r.shift())}catch(i){r.push(r.shift())}}();var nt=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n[it(460)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){nt(this,(function(){var t=it,e=new RegExp(t(477)),n=new RegExp(t(470),"i"),r=at(t(466));e[t(463)](r+"chain")&&n[t(463)](r+"input")?at():r("0")}))()}();var rt=function(){var t=!0;return function(e,n){var r=t?function(){if(n){var t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function it(t,e){var n=et();return(it=function(t,e){return n[t-=449]})(t,e)}function at(t){function e(t){var n=it;if(typeof t===n(452))return function(t){}[n(458)](n(449))[n(460)](n(467));1!==(""+t/t)[n(469)]||t%20==0?function(){return!0}[n(458)](n(465)+n(468))[n(455)](n(483)):function(){return!1}[n(458)]("debugger")[n(460)](n(462)),e(++t)}try{if(t)return e;e(0)}catch(n){}}rt(void 0,(function(){var t,e=it;try{t=Function(e(473)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t[e(479)]=t[e(479)]||{},r=[e(478),e(454),e(480),e(475),"exception",e(456),e(472)],i=0;i<r[e(469)];i++){var a=rt[e(458)].prototype.bind(rt),o=r[i],s=n[o]||a;a.__proto__=rt[e(451)](rt),a[e(476)]=s.toString[e(451)](s),n[o]=a}}))();export{K as _};
