var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(n,e,o)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,i=(t,i)=>{for(var s in i||(i={}))e.call(i,s)&&r(t,s,i[s]);if(n)for(var s of n(i))o.call(i,s)&&r(t,s,i[s]);return t};import{e as s,o as c}from"./@tresjs.yaBKiR-I1741309500666.js";import{_ as a,C as u}from"./three.8tDGqmLF1741309500666.js";import{d as l,w as f,o as p,H as d,N as v,aj as b,ak as h,r as m,e as g,f as y,g as w,j as x,u as I,m as _}from"./@vue.NRI7TcgI1741309500666.js";import{P as j}from"./tweakpane.yDiyAAkA1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";const T=E;!function(t,n){const e=E,o=k();for(;;)try{if(631769===parseInt(e(150))/1*(-parseInt(e(123))/2)+parseInt(e(177))/3*(-parseInt(e(151))/4)+parseInt(e(148))/5*(-parseInt(e(165))/6)+-parseInt(e(146))/7*(parseInt(e(172))/8)+-parseInt(e(164))/9+parseInt(e(153))/10*(-parseInt(e(157))/11)+parseInt(e(130))/12*(parseInt(e(132))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[E(125)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){S(this,(function(){const t=E,n=new RegExp(t(176)),e=new RegExp(t(169),"i"),o=R(t(156));n.test(o+t(170))&&e[t(138)](o+t(155))?R():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(154)+t(137)+");")()}catch(e){n=window}return n}(),e=n[t(159)]=n[t(159)]||{},o=[t(152),t(166),t(158),"error",t(126),t(134),t(143)];for(let r=0;r<o[t(173)];r++){const n=A[t(127)][t(128)][t(133)](A),i=o[r],s=e[i]||n;n[t(161)]=A[t(133)](A),n.toString=s[t(162)].bind(s),e[i]=n}}))();const C=[T(175)];function k(){const t=["114283vZXBCP","bind","table","gger","DoubleSide",'{}.constructor("return this")( )',"test","action","debu","color","TresShaderMaterial","trace","TresPlaneGeometry","tilingCaustics","4789708rfhtZb","Color","5584715pLYjCB","speed","1zLMVRZ","143588eDRmtZ","log","2318510KUKSTU","return (function() ","input","init","55qKpDbD","info","console","backgroundColor","__proto__","toString","counter","4742388vsjdhq","6VXGSDE","warn","stateObject","#fff","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","call","8sGEuvX","length","uniforms","rotation-x","function *\\( *\\)","90cDrcwd","1510908fVFrye","TresMesh","apply","exception","constructor","prototype","brightness","8124RaQXbw","value"];return(k=function(){return t})()}function E(t,n){const e=k();return(E=function(t,n){return e[t-=123]})(t,n)}const M=l({__name:T(145),props:{speed:{default:.478},backgroundColor:{},color:{default:T(168)},flowSpeed:{default:{x:.01,y:.01}},brightness:{default:1.5}},setup(t){const n=T,e=t,o={uniforms:{resolution:{type:"v2",value:{x:1,y:1}},backgroundColor:{type:"c",value:new(a[n(147)])(e[n(141)])},color:{type:"c",value:new u(n(168))},speed:{type:"f",value:e.speed},flowSpeed:{type:"v2",value:e.flowSpeed},brightness:{type:"f",value:e[n(129)]},time:{type:"f",value:.1}},vertexShader:"// Examples of variables passed from vertex to fragment shader\nvarying vec2 vUv;\n\nvoid main(){\n\t// To pass variables to the fragment shader, you assign them here in the\n\t// main function. Traditionally you name the varying with vAttributeName\n\tvUv=uv;\n\t\n\t// This sets the position of the vertex in 3d space. The correct math is\n\t// provided below to take into account camera and object data.\n\tgl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.);\n}",fragmentShader:"#define TAU 6.28318530718\n#define MAX_ITER 5\n\nuniform vec2 resolution;\nuniform vec3 backgroundColor;\nuniform vec3 color;\nuniform float speed;\nuniform vec2 flowSpeed;\nuniform float brightness;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(){\n\tvec2 uv=(vUv.xy+(time*flowSpeed))*resolution;\n\t\n\tvec2 p=mod(uv*TAU,TAU)-250.;\n\tvec2 i=vec2(p);\n\t\n\tfloat c=1.;\n\tfloat inten=.005;\n\t\n\tfor(int n=0;n<MAX_ITER;n++){\n\t\tfloat t=time*speed*(1.-(3.5/float(n+1)));\n\t\ti=p+vec2(cos(t-i.x)+sin(t+i.y),sin(t-i.y)+cos(t+i.x));\n\t\tc+=1./length(vec2(p.x/(sin(i.x+t)/inten),p.y/(cos(i.y+t)/inten)));\n\t}\n\t\n\tc/=float(MAX_ITER);\n\tc=1.17-pow(c,brightness);\n\t\n\tvec3 rgb=vec3(pow(abs(c),8.));\n\t\n\tgl_FragColor=vec4(rgb*color+backgroundColor,length(rgb)+.1);\n}",side:a[n(136)],transparent:!0,depthWrite:!1,depthTest:!0},{onLoop:r}=s();return r((({delta:t})=>{const e=n;o[e(174)].time[e(131)]+=t})),f((()=>e),(()=>{const t=n;o[t(174)][t(149)].value=e.speed,o[t(174)][t(129)][t(131)]=e[t(129)],o[t(174)][t(160)][t(131)]=new u(e[t(141)])}),{deep:!0}),(t,e)=>{const r=n;return p(),d(r(124),{"rotation-x":-Math.PI/2,"position-y":1},[e[0]||(e[0]=v(r(144),{args:[10,10]},null,-1)),v(r(142),b(h(o)),null,16)],8,C)}}});function R(t){function n(t){const e=E;if("string"==typeof t)return function(t){}[e(127)]("while (true) {}")[e(125)](e(163));1!==(""+t/t)[e(173)]||t%20==0?function(){return!0}.constructor("debu"+e(135))[e(171)](e(139)):function(){return!1}[e(127)](e(140)+e(135))[e(125)](e(167)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const U=z;!function(t,n){const e=z,o=Z();for(;;)try{if(522989===parseInt(e(162))/1*(parseInt(e(164))/2)+-parseInt(e(152))/3+-parseInt(e(151))/4+-parseInt(e(133))/5*(parseInt(e(157))/6)+-parseInt(e(130))/7+parseInt(e(165))/8+parseInt(e(147))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(155)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(){const t=["7830261VkMnaA","counter","error","speed","1725332NAttfw","63384Xqxopz","TresGridHelper","warn","apply","table","6UqlZTy","__proto__","tilingCaustics","#222","call","36839XKPUKR","init","6mbbzGw","7675680cdVWZS","toString","流动速度","console","addBinding","3307423bSBoAp","TresPerspectiveCamera","exception","2460335oboqiM","action","test","inline","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","brightness","return (function() ","prototype","length","gger","string","bind","stateObject","constructor"];return(Z=function(){return t})()}!function(){P(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(137),"i"),o=B(t(163));n[t(135)](o+"chain")&&e[t(135)](o+"input")?B():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[z(155)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(t,n){const e=Z();return(z=function(t,n){return e[t-=130]})(t,n)}X(void 0,(function(){const t=z;let n;try{n=Function(t(139)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(168)]=n.console||{},o=["log",t(154),"info",t(149),t(132),t(156),"trace"];for(let i=0;i<o[t(141)];i++){const n=X.constructor[t(140)].bind(X),r=o[i],s=e[r]||n;n[t(158)]=X.bind(X),n[t(166)]=s[t(166)][t(144)](s),e[r]=n}}))();const O=l({__name:U(159),setup(t){const n=U,e={clearColor:n(160)},o=m({color:"#fff",speed:.1,brightness:1.5,flowSpeed:{x:.01,y:.01}}),r=new j({title:"参数",expanded:!0});return r[n(169)](o,"color",{label:"颜色"}),r.addBinding(o,n(150),{label:"速度",min:.1,max:1,step:.1}),r.addBinding(o,n(138),{label:"亮度",min:.1,max:2,step:.1}),r[n(169)](o,"flowSpeed",{label:n(167),picker:n(136),expanded:!0,x:{min:.01,step:.02,max:.6,inverted:!0},y:{min:.01,step:.02,max:.6,inverted:!0}}),(t,r)=>{const s=n,a=g("TresCanvas");return p(),y(a,_(e,{"window-size":""}),{default:w((()=>[r[0]||(r[0]=v(s(131),{position:[10,10,10]},null,-1)),r[1]||(r[1]=v("TresAmbientLight",{intensity:1},null,-1)),x(I(c)),r[2]||(r[2]=v(s(153),{args:[10,10]},null,-1)),x(M,b(h(i({},o))),null,16)])),_:1},16)}}});function B(t){function n(t){const e=z;if(typeof t===e(143))return function(t){}[e(146)]("while (true) {}").apply(e(148));1!==(""+t/t)[e(141)]||t%20==0?function(){return!0}[e(146)]("debu"+e(142))[e(161)](e(134)):function(){return!1}[e(146)]("debu"+e(142))[e(155)](e(145)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{O as default};
