var t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d=Object.defineProperty,w=(t,e,s)=>(((t,e,s)=>{e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as g}from"./pagesShow.vue_vue_type_script_setup_true_lang.5jEyDwKa1736406294003.js";import{as as S,V as y,_ as v,f as x,M as I,an as P,B as A,a as F,X as b,g as T,C as z,k as E,T as O,a2 as R}from"./three.jaHX2_hY1736406294003.js";import{m as C,e as V}from"./@tresjs.AACxYGk_1736406294003.js";import{d as q,b as M,a1 as N,o as _,f as B,g as U,j}from"./@vue.yG49nQHr1736406294003.js";import"./three-custom-shader-material.XndQbWGF1736406294003.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1736406294003.js";import"./@vueuse.d_orRt1V1736406294003.js";const X=qt;!function(t,e){const s=qt,n=Mt();for(;;)try{if(879174===parseInt(s(447))/1*(parseInt(s(364))/2)+-parseInt(s(561))/3+-parseInt(s(624))/4*(parseInt(s(301))/5)+parseInt(s(336))/6*(parseInt(s(673))/7)+-parseInt(s(297))/8+-parseInt(s(556))/9*(-parseInt(s(535))/10)+parseInt(s(245))/11*(parseInt(s(628))/12))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const D=class{constructor(t){this[X(494)]=t}};t=X(518),w(D,t,new D(X(518))),w(D,"Sequence",new D(X(339)));let W=D;class J{constructor(){this.init()}[X(502)](){const t=X;this.progressType=W.Time,this[t(354)]=1,this.age=0,this.sequenceElement=new S,this[t(659)]=new y,this[t(702)]=new(v[t(415)]),this[t(575)]=new y,this[t(625)]=new(v[t(415)]),this.rotation=0,this.rotationalSpeed=0,this[t(675)]=new(v[t(504)]),this[t(677)]=new(v[t(495)]),this[t(703)]=1,this.initialSize=new(v[t(504)]),this[t(678)]=new(v[t(495)]),this[t(293)]=1}[X(562)](t,e,s,n,i,r,a,o,c,h,l,u,p,m,f,d){const w=X;this[w(421)]=t,this[w(354)]=e,this[w(338)]=s,this[w(317)][w(603)](n),this[w(659)][w(603)](i),this[w(702)][w(603)](r),this[w(575)][w(603)](a),this[w(625)][w(603)](o),this.rotation=c,this[w(521)]=h,this[w(675)]=l,this[w(677)].copy(u),this.alpha=p,this.initialSize[w(603)](m),this.initialColor.copy(f),this[w(293)]=d}copyTo(t){const e=X;t.setAll(this[e(421)],this[e(354)],this.age,this.sequenceElement,this[e(659)],this[e(702)],this[e(575)],this[e(625)],this[e(455)],this[e(521)],this[e(675)],this[e(677)],this[e(703)],this[e(547)],this[e(678)],this[e(293)])}[X(603)](t){const e=X;this.setAll(t[e(421)],t[e(354)],t[e(338)],t[e(317)],t[e(659)],t.velocity,t[e(575)],t.normal,t[e(455)],t[e(521)],t.size,t[e(677)],t.alpha,t[e(547)],t[e(678)],t[e(293)])}}class Y{constructor(){w(this,e,function(){const t=X,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[qt(373)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();e(this,(function(){const t=qt,s=function(){const t=qt;let e;try{e=Function(t(288)+t(409)+");")()}catch(s){e=window}return e}(),n=s[t(604)]=s[t(604)]||{},i=[t(507),t(467),t(388),t(563),t(346),t(261),"trace"];for(let r=0;r<i[t(557)];r++){const s=e[t(345)].prototype.bind(e),a=i[r],o=n[a]||s;s[t(598)]=e.bind(e),s[t(708)]=o.toString[t(705)](o),n[a]=s}}))();const s=new(v[t(415)]);return function(e=new x,n=null){const i=t,r=e[i(509)],a=e[i(720)];for(let t=0;t<this[i(670)];t++){const e=this[i(425)](t);let o=e[i(659)];n&&(s[i(603)](o),s[i(344)](n),o=s);const c=Math[i(720)](e.size.x,e[i(675)].y),h=o.x-c,l=o.x+c,u=o.y-c,p=o.y+c,m=o.z-c,f=o.z+c;(0==t||o.x<r.x)&&(r.x=h),(0==t||o.x>a.x)&&(a.x=l),(0==t||o.y<r.y)&&(r.y=u),(0==t||o.y>a.y)&&(a.y=p),(0==t||o.z<r.z)&&(r.z=m),(0==t||o.z>a.z)&&(a.z=f)}return e}}()),w(this,"computeBoundingSphere",function(){const t=X,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[qt(373)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=qt,e=new RegExp(t(616)),s=new RegExp(t(501),"i"),n=_t(t(502));e[t(586)](n+"chain")&&s[t(586)](n+t(375))?_t():n("0")}))()}();const s=new(v[t(415)]),n=new y,i=new y;return function(e=new(v[t(269)]),r=null){const a=t;let o=0;for(let t=0;t<this[a(670)];t++){const e=this[a(425)](t);let c=e[a(659)];r&&(i[a(603)](c),i[a(344)](r),c=i);const h=Math[a(720)](e[a(675)].x,e[a(675)].y);if(0==t)s[a(603)](c),o=h;else{n[a(603)](c).sub(s);const t=n[a(557)]()+h;if(t>o){const e=(t-o)/2;n[a(524)]()[a(294)](e),s[a(413)](n),o+=e}}}return e.center[a(603)](s),e[a(453)]=o,e}}());const t=X;this[t(483)]=0,this[t(670)]=0,this[t(325)]=[]}init(t){this.setParticleCount(t)}[X(335)](t){const e=X;this[e(483)]!=t&&(this[e(254)](),this[e(662)](t)),this[e(483)]=t}[X(389)](t){this[X(670)]=t}[X(662)](t){const e=X;this[e(325)]=[],this[e(483)]=t;for(let s=0;s<t;s++)this.particleStates[s]=new J}[X(254)](){}[X(565)](){return this[X(483)]}[X(631)](){}[X(398)](t,e){const s=X;if(t>=this.particleCount)throw new Error(s(424));if(e>=this.particleCount)throw new Error('ParticleStateArray::copyState() -> "destIndex" is out of range.');const n=this[s(325)][t],i=this[s(325)][e];n[s(380)](i)}[X(629)](t,e){const s=X;if(t>=this[s(483)])throw new Error('ParticleStateArray::setState() -> "index" is out of range.');return this[s(325)][t].copy(e)}getState(t){const e=X;if(t>=this[e(483)])throw new Error('ParticleStateArray::getState() -> "index" is out of range.');return this[e(325)][t]}}e=X(400);class k{constructor(t,e,s=0){this[X(528)]=t,this.length=e,this.id=s}}class G{constructor(){const t=X;this[t(572)]={},this[t(465)]=[]}[X(329)](t,e,s){const n=X;if(this.hasID(s))throw new Error(n(646));const i=new k(t,e,s);return this[n(572)][s]=i,this.ids[n(536)](s),i}getSequence(t){if(!this.hasID(t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this.sequences[t]}[X(614)](){return this[X(465)]}[X(593)](t){return!!this[X(572)][t]}}class L{constructor(){}[X(333)](t){const e=X;t[e(678)][e(623)](1,1,1),t.initialSize.set(1,1),t[e(293)]=1,t.progressType=W.Time,t[e(354)]=0,t[e(338)]=0,t[e(317)].set(0,0,0,0),t.position[e(623)](0,0,0),t[e(702)][e(623)](0,0,0),t[e(575)][e(623)](0,0,0),t[e(625)].set(0,0,1),t[e(455)]=0,t[e(521)]=0,t.size[e(603)](t.initialSize),t.color.copy(t[e(678)]),t[e(703)]=1}}class Z extends L{constructor(){super()}[X(333)](t){super[X(333)](t)}}class H{constructor(){}updateState(){}}class $ extends H{constructor(){const t=X;super(),this[t(534)]=new y,this[t(284)]=new(v[t(415)]),this[t(637)]=new(v[t(415)]),this[t(531)]=new(v[t(415)])}updateState(t,e){const s=X;return super[s(374)](t,e),this[s(637)].copy(t[s(575)]),this[s(284)][s(603)](this.stateAcceleration),this[s(284)].multiplyScalar(e),t[s(702)][s(413)](this[s(284)]),this[s(531)][s(603)](t[s(702)]),this[s(534)][s(603)](this[s(531)]),this[s(534)][s(294)](e),t[s(659)][s(413)](this[s(534)]),t[s(338)]=t[s(338)]+e,t.rotation=t.rotation+e*t[s(521)],!0}}class K{static[X(567)](t,e,s){return Math[X(509)](Math.max(t,e),s)}static[X(258)](){return performance[X(310)]()/1e3}}class Q{constructor(){this[X(641)]=[]}[X(428)](t){const e=X;this[e(641)][e(536)](t)}update(t,e){const s=X;for(const n of this[s(641)])n[s(476)](t,e)}[X(701)](t){const e=X;if(t>=this[e(641)][e(557)])throw new Error(e(644));return this[e(641)][t]}}const tt=class{constructor(t){this[X(494)]=t}};s=X(450),n=X(257),i=X(695),r=X(510),w(tt,s,new tt(X(450))),w(tt,n,new tt("Running")),w(tt,i,new tt(X(695))),w(tt,r,new tt("Done"));let et=tt;class st{constructor(t,e){w(this,"updateBounds",function(){const t=new I;return function(){const e=qt;let s=null;this[e(511)]&&(s=t,s[e(603)](this.owner[e(538)])[e(419)]()),this[e(632)].calculatingBoundingSphereFromBox()?(this[e(325)][e(400)](this[e(668)],s),this[e(632)][e(435)](this[e(668)])):(this.particleStates[e(378)](this[e(656)],s),this.particleSystemRenderer[e(337)](this[e(656)]))}}());const s=X;this[s(583)]=t,this[s(583)][s(506)]=!1,this[s(506)]=!0,this[s(632)]=e,this[s(635)]=!1,this[s(522)]=0,this.activeParticleCount=0,this[s(492)]=!0,this[s(348)]=!1,this.particleEmitter=null,this[s(717)]=new Q,this.particleStateInitializers=[],this[s(376)]=[],this[s(325)]=null,this.systemState=et.NotStarted,this[s(655)]=new G,this[s(709)]=null,this[s(511)]=!0,this[s(668)]=new(v[s(334)]),this.boundingSphere=new(v[s(269)])}init(t){const e=X;if(this[e(635)])throw new Error(e(347));this[e(522)]=t,this[e(632)]?(this[e(632)][e(514)](this[e(583)]),this.particleSystemRenderer[e(502)](this[e(522)],this[e(492)]),this[e(632)][e(448)](this.simulateInWorldSpace),this.particleStates=this[e(632)].getParticleStateArray()):(this.particleStates=new Y,this.particleStates[e(502)](this[e(522)])),this[e(498)](new Z),this.addParticleStateOperator(new $),this[e(635)]=!0}[X(356)](){return this.visible}[X(259)](t){return this[X(506)]=t}[X(362)](t){this[X(709)]=t}[X(476)](t,e){const s=X;if(this.systemState==et[s(257)]){if(this[s(583)][s(488)](!0),t=null==t||null==t?K[s(258)]():t,e=null==e||null==e?t-this[s(311)]:e,this[s(348)]&&this[s(471)]==et[s(257)]){const t=this[s(569)][s(476)](e);t>0&&this.activateParticles(t),this[s(699)](e),this[s(709)]&&this.onUpdateCallback(this[s(670)]),this.updateBounds()}this[s(717)][s(476)](t,e),this[s(311)]=t}}render(t,e){const s=X;if(this.getVisible()&&this[s(632)]){const n=t.autoClear;t[s(552)]=!1,this[s(583)][s(506)]=!0,this[s(583)].matrixWorldNeedsUpdate=!0,this[s(632)].render(this.owner,t,e),this[s(583)][s(506)]=!1,t[s(552)]=n}}start(){const t=X;this.systemState!=et.NotStarted&&this[t(471)]!=et[t(695)]||(this[t(471)]=et[t(257)],this[t(487)]=K[t(258)](),this.lastUpdateTime=this[t(487)])}[X(462)](){const t=X;this[t(471)]==et.Running&&(this[t(471)]=et[t(695)])}[X(652)](){}getSystemState(){return this[X(471)]}setEmitter(t){const e=X;return this[e(569)]=t,this[e(569)].maximumActiveParticles=this[e(522)],this[e(348)]=!0,this[e(569)]}[X(428)](t){const e=X;this.componentContainer[e(428)](t)}[X(701)](t){return this.componentContainer.getComponent(t)}[X(498)](t){const e=X;return this[e(367)][e(536)](t),t}[X(664)](){return this[X(367)].length}getParticleStateInitializer(t){const e=X;if(t>=this[e(367)][e(557)])throw new Error(e(312));return this[e(367)][t]}[X(391)](t){const e=X;return this.particleStateOperators[e(536)](t),t}[X(636)](){const t=X;return this[t(376)][t(557)]}[X(323)](t){const e=X;if(t>=this[e(376)][e(557)])throw new Error(e(683));return this.particleStateOperators[t]}getMaximumActiveParticles(){return this.maximumActiveParticles}[X(643)](){return this.activeParticleCount}[X(272)](t){const e=X;if(t>=this.activeParticleCount)throw new Error(e(700));return this[e(325)][e(425)](t)}[X(687)](){return this.particleStates}[X(429)](){return this[X(632)]}[X(280)](){return this[X(492)]}[X(448)](t){const e=X;this.simulateInWorldSpace=t,this[e(632)]&&this[e(632)][e(448)](this[e(492)])}[X(715)](t){this[X(511)]=t}[X(484)](t,e,s=0){this[X(655)].addSequence(t,e,s)}[X(394)](){return this[X(655)]}getEmitter(){return this[X(569)]}[X(314)](t){const e=X;if(this[e(471)]==et[e(257)]){const s=K[e(567)](this[e(670)]+t,0,this[e(522)]);for(let t=this[e(670)];t<s;t++)this[e(649)](t);this[e(670)]=s,this.particleStates[e(389)](this.activeParticleCount)}}activateParticle(t){const e=X;if(this[e(471)]==et[e(257)]){const s=this.particleStates[e(425)](t);s.age=0;for(let t=0;t<this[e(367)][e(557)];t++){this[e(367)][t][e(333)](s)}if(this[e(492)]){s[e(659)][e(344)](this[e(583)][e(538)]);const t=s[e(702)][e(557)]();if(this[e(511)]){s.velocity[e(594)](this[e(583)].matrixWorld).multiplyScalar(t);const n=s.acceleration.length();s[e(575)].transformDirection(this[e(583)].matrixWorld).multiplyScalar(n)}}this[e(325)][e(631)](t)}}[X(699)](t){const e=X;if(this[e(471)]==et[e(257)]){let s=0;for(;s<this[e(670)];){this[e(609)](s,t)?s++:(s<this[e(670)]-1&&this[e(307)](this[e(670)]-1,s),this.activeParticleCount--)}this.particleStates[e(389)](this.activeParticleCount)}}[X(609)](t,e){const s=X;if(this[s(471)]==et[s(257)]){const n=this[s(325)].getState(t);for(let t=0;t<this[s(376)][s(557)];t++){const i=this.particleStateOperators[t][s(374)](n,e),r=n.lifetime;if(!i||0!=r&&n[s(338)]>=r)return!1}return this.particleStates[s(631)](t),!0}return!1}[X(307)](t,e){const s=X;this.particleStates.copyState(t,e),this[s(325)][s(631)](e)}static[X(638)](t,e,s){const n=X,i=(t,e,s)=>{const n=qt;e(t);for(const r in t)if(t[n(581)](r)){const s=t[r];typeof s===n(438)&&i(s,e)}};i(t,(t=>{const s=qt;t[s(553)]&&(t[s(553)]=e[s(460)](t[s(553)]))}));const r=t.maxParticleCount,a=t[n(492)],o=t[n(390)],c=o[n(553)][n(638)](o.params),h=new P,l=new st(h,c,s);l[n(502)](r),l[n(448)](a);const u=t[n(674)],p=u.type[n(638)](u[n(442)]);if(l.setEmitter(p),t[n(572)])for(const m of t[n(572)])l.addParticleSequence(m[n(528)],m[n(557)],m.id);if(t[n(564)])for(const m of t.initializers)l[n(498)](m[n(553)][n(638)](l,m[n(442)]));if(t[n(357)])for(const m of t[n(357)]){const t=l[n(391)](m.type.fromJSON(l,m[n(442)]));m[n(444)]&&t.addElementsFromParameters(m.elements)}return[l,h]}[X(618)](t){const e=X,s=this[e(429)](),n=this[e(688)](),i=this[e(394)](),r=i[e(614)]()[e(289)]((t=>{const s=e,n=i[s(571)](t);return{id:t,start:n.start,length:n[s(557)]}})),a=[],o=this.getParticleStateInitializerCount();for(let l=0;l<o;l++){const s=this[e(716)](l);s[e(345)]!==Z&&a.push({type:t[e(584)](s[e(345)]),params:s[e(618)](t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this[e(323)](l);if(s.constructor!==$){const n=s[e(618)](t),i=n[e(442)]||n,r=n[e(442)]?n[e(444)]:null,a={type:t[e(584)](s[e(345)]),params:i};r&&(a[e(444)]=r),c[e(536)](a)}}return{maxParticleCount:this.getMaximumActiveParticles(),simulateInWorldSpace:this.getSimulateInWorldSpace(),renderer:{type:t[e(584)](s[e(345)]),params:s[e(618)]()},emitter:{type:t[e(584)](n[e(345)]),params:n[e(618)]()},sequences:r,initializers:a,operators:c}}}class nt{constructor(){const t=X;this.particleSystems=[],this[t(545)]=performance.now()/1e3,this[t(311)]=this[t(545)],this[t(717)]=new Q}[X(476)](){const t=X,e=K[t(258)](),s=e-this.lastUpdateTime;for(const n of this[t(672)])n.update(e,s);this[t(717)][t(476)](e,s),this[t(311)]=e}[X(422)](t,e){const s=X;for(const n of this[s(672)])n[s(422)](t,e)}[X(296)](t){const e=X;this[e(672)][e(536)](t)}[X(428)](t){const e=X;this[e(717)][e(428)](t)}[X(701)](t){return this[X(717)].getComponent(t)}}class it{constructor(){const t=X;this[t(635)]=!1,this[t(483)]=0,this[t(583)]=null,this[t(492)]=!1}[X(448)](t){this.simulateInWorldSpace=t}[X(302)](){}[X(514)](t){this.owner=t}[X(502)](t){const e=X;if(this[e(483)]=t,!this.initialized)return this.initialized=!0,!0;throw new Error(e(407))}render(){}}class rt extends Y{constructor(){const t=X;super(),this[t(574)]=null,this.progressTypes=null,this[t(403)]=null,this[t(263)]=null,this[t(622)]=null,this[t(479)]=null,this[t(278)]=null,this[t(433)]=null,this[t(505)]=null,this[t(546)]=null,this[t(689)]=null,this[t(281)]=null,this[t(714)]=null,this[t(473)]=null,this.initialColors=null,this[t(361)]=!1,this[t(568)]=6}[X(502)](t,e=!1){const s=X;this[s(361)]=e,this.instanced?this[s(568)]=1:this[s(568)]=6,super.init(t),this.allocate(t)}[X(335)](t){super[X(335)](t)}[X(389)](t){const e=X;super[e(389)](t),t>0?this[e(361)]?this[e(574)][e(411)]=t:this[e(574)][e(358)](0,this.verticesPerParticle*t):this[e(361)]?this[e(574)][e(411)]=0:this[e(574)][e(358)](0,0)}flushParticleStateToBuffers(t){const e=X;if(t>=this[e(483)])throw new Error(e(680));const s=this[e(425)](t),n=t*this[e(568)];for(let i=0;i<this[e(568)];i++)this.lifetimes[e(692)](n+i,s[e(354)]),this[e(403)][e(332)]=!0,this[e(263)][e(692)](n+i,s[e(338)]),this[e(263)][e(332)]=!0,this[e(622)][e(723)](n+i,s[e(317)].x,s[e(317)].y,s[e(317)].z,s[e(317)].w),this[e(622)].needsUpdate=!0,this.positions.setXYZ(n+i,s[e(659)].x,s[e(659)].y,s[e(659)].z),this[e(479)][e(332)]=!0,this[e(278)][e(353)](n+i,s[e(702)].x,s[e(702)].y,s[e(702)].z),this[e(278)][e(332)]=!0,this.accelerations[e(353)](n+i,s[e(575)].x,s.acceleration.y,s[e(575)].z),this.accelerations[e(332)]=!0,this.normals[e(353)](n+i,s[e(625)].x,s.normal.y,s[e(625)].z),this[e(505)].needsUpdate=!0,this[e(546)][e(692)](n+i,s.rotation),this[e(546)].needsUpdate=!0,this[e(689)][e(692)](n+i,s[e(521)]),this[e(689)][e(332)]=!0,this[e(281)][e(342)](n+i,s[e(675)].x,s[e(675)].y),this[e(281)][e(332)]=!0,this[e(714)][e(353)](n+i,s.color.r,s[e(677)].g,s[e(677)].b),this[e(714)][e(332)]=!0,this.alphas[e(692)](n+i,s.alpha),this[e(275)][e(332)]=!0,this[e(473)][e(342)](n+i,s.initialSize.x,s[e(547)].y),this[e(473)][e(332)]=!0,this.initialAlphas[e(692)](n+i,s[e(293)]),this[e(437)][e(332)]=!0}[X(398)](t,e){const s=X;super[s(398)](t,e),this[s(631)](e)}[X(629)](t,e){const s=X;if(t>=this[s(483)])throw new Error(s(445));super[s(629)](t,e),this[s(631)](t)}[X(401)](){return this[X(479)]}[X(397)](){return this[X(281)]}[X(266)](){return this[X(546)]}getSequenceElements(){return this[X(622)]}[X(468)](){return this[X(714)]}[X(420)](){return this[X(574)]}[X(662)](t){const e=X;super.allocate(t);const s=(t,e)=>this[qt(361)]?new O(t,e):new F(t,e),n=this[e(568)]*this[e(483)];if(this[e(361)]){const t=new A,s=new Float32Array(18);this[e(671)]=new(v[e(267)])(s,3),t[e(601)](e(659),this[e(671)]),this[e(671)][e(332)]=!0,this[e(671)][e(353)](0,-1,1,0),this[e(671)][e(353)](1,-1,-1,0),this.basePositions[e(353)](2,1,1,0),this[e(671)].setXYZ(3,-1,-1,0),this[e(671)][e(353)](4,1,-1,0),this.basePositions[e(353)](5,1,1,0);const n=new Float32Array(12);this[e(606)]=new(v[e(267)])(n,2),t[e(601)](e(537),this[e(606)]),this[e(606)][e(332)]=!0,this[e(606)][e(342)](0,0,1),this.baseUVs[e(342)](1,0,0),this[e(606)][e(342)](2,1,1),this[e(606)][e(342)](3,0,0),this[e(606)][e(342)](4,1,0),this[e(606)][e(342)](5,1,1);const i=new Float32Array(6);this[e(600)]=new F(i,1),t[e(601)](e(351),this[e(600)]),this[e(600)][e(332)]=!0,this[e(600)].setX(0,0),this[e(600)][e(692)](1,1),this[e(600)].setX(2,3),this[e(600)].setX(3,1),this.customIndexes[e(692)](4,2),this[e(600)][e(692)](5,3),this[e(574)]=(new(v[e(560)])).copy(t),this[e(574)][e(411)]=0}else{this.geometry=new(v[e(451)]);const t=new Float32Array(n);this[e(600)]=new F(t,1),this[e(574)][e(601)]("customIndex",this[e(600)]),this[e(600)][e(332)]=!0;for(let s=0;s<this[e(483)];s++){const t=s*this[e(568)];this[e(600)].setX(t,0),this[e(600)][e(692)](t+1,1),this[e(600)].setX(t+2,3),this.customIndexes[e(692)](t+3,1),this[e(600)][e(692)](t+4,2),this.customIndexes[e(692)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),a=new Float32Array(4*n),o=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),f=new Float32Array(3*n),d=new Float32Array(n),w=new Float32Array(2*n),g=new Float32Array(3*n),S=new Float32Array(n);this[e(479)]=s(o,3),this[e(479)][e(588)](b),this.geometry[e(601)](e(539),this[e(479)]),this.lifetimes=s(i,1),this[e(403)][e(588)](v[e(352)]),this[e(574)][e(601)](e(354),this[e(403)]),this[e(263)]=s(r,1),this[e(263)][e(588)](v[e(352)]),this[e(574)][e(601)](e(338),this[e(263)]),this[e(622)]=s(a,4),this[e(622)][e(588)](v[e(352)]),this[e(574)][e(601)](e(317),this[e(622)]),this[e(278)]=s(c,3),this[e(278)][e(588)](v[e(352)]),this[e(574)][e(601)](e(702),this[e(278)]),this[e(433)]=s(h,3),this.accelerations[e(588)](v[e(352)]),this.geometry[e(601)](e(575),this.accelerations),this[e(505)]=s(l,3),this.normals[e(588)](b),this[e(574)][e(601)](e(625),this[e(505)]),this[e(546)]=s(u,1),this[e(546)][e(588)](v[e(352)]),this.geometry.setAttribute(e(455),this.rotations),this[e(689)]=s(p,1),this[e(689)][e(588)](v[e(352)]),this[e(574)][e(601)](e(521),this.rotationalSpeeds),this.sizes=s(m,2),this[e(281)][e(588)](v[e(352)]),this[e(574)][e(601)]("size",this[e(281)]),this.colors=s(f,3),this[e(714)].setUsage(v[e(352)]),this.geometry[e(601)]("color",this.colors),this[e(275)]=s(d,1),this[e(275)].setUsage(v[e(352)]),this.geometry.setAttribute(e(703),this[e(275)]),this.initialSizes=s(w,2),this[e(473)][e(588)](v[e(352)]),this[e(574)].setAttribute(e(547),this[e(473)]),this[e(648)]=s(g,3),this[e(648)][e(588)](v[e(352)]),this[e(574)][e(601)](e(678),this[e(648)]),this[e(437)]=s(S,1),this[e(437)][e(588)](b),this.geometry[e(601)](e(293),this[e(437)])}[X(254)](){const t=X;super[t(254)](),this[t(574)]&&(this[t(574)][t(254)](),this[t(574)]=null)}}class at{constructor(t,e,s,n,i){const r=X;this[r(557)]=t,this.x=e,this.y=s,this[r(611)]=n,this[r(299)]=i}}class ot{constructor(t,e){const s=X;this[s(285)]=t,this[s(404)]=e,this[s(363)]=[]}getTexture(){return this.texture}[X(619)](){return this.texturePath}getFrameSetCount(){return this.frameSets.length}[X(248)](t,e,s,n,i){const r=X;this.frameSets[r(536)](new at(t,e,s,n,i))}[X(255)](t){const e=X;if(t>=this[e(363)][e(557)])throw new Error('Atlas::getFrameSet -> "index" is out of range.');return this[e(363)][t]}}const ct=class t extends it{constructor(t,e,s=!1,n=v[X(319)],i=!0,r){const o=X;super(),w(this,a,function(){const t=X,e=new(v[t(415)]);return function(){const s=t,n=this.particleStateArray.getGeometry();if(this[s(519)]){n.boundingBox||(n[s(668)]=new x),n.boundingBox[s(603)](this[s(668)]),!n[s(656)]&&(n.boundingSphere=new(v[s(269)])),e.x=(this[s(668)][s(509)].x+this[s(668)][s(720)].x)/2,e.y=(this[s(668)].min.y+this.boundingBox.max.y)/2,e.z=(this.boundingBox[s(509)].z+this[s(668)][s(720)].z)/2;const t=this[s(668)][s(720)].x-e.x,i=this[s(668)].max.y-e.y,r=this[s(668)].max.z-e.z,a=Math[s(720)](Math[s(720)](t,i),r);n.boundingSphere.center[s(603)](e),n[s(656)].radius=Math[s(452)](2*a*a)}else n.boundingSphere||(n[s(656)]=new(v[s(269)])),n.boundingSphere[s(603)](this.boundingSphere)}}()),this.instanced=t,this.particleStateArray=null,this[o(497)]=null,this[o(526)]=null,this[o(416)]=e,this[o(321)]=s,this[o(676)]=n,this[o(668)]=new(v[o(334)]),this[o(656)]=new T,this[o(519)]=i,this[o(613)]=r}setOwner(t){super[X(514)](t)}[X(302)](){return this[X(555)]}setSimulateInWorldSpace(t){const e=X;super.setSimulateInWorldSpace(t),this[e(497)]&&(this[e(497)][e(426)][e(492)][e(512)]=t?1:0,this[e(497)][e(475)]=!0)}[X(414)](){return this.calculateBoundingSphereFromBox}setBoundingBox(t){const e=X;this[e(668)][e(603)](t),this[e(526)]&&this[e(647)]()}[X(337)](t){const e=X;this[e(656)][e(603)](t),this[e(526)]&&this[e(647)]()}[X(422)](t,e,s){e[X(422)](t,s)}init(t){const e=X;super[e(502)](t)&&(this.particleStateArray=new rt,this[e(555)][e(502)](t,this[e(361)]),this[e(497)]=this.createMaterial(null,null,null,!0,!1),this[e(497)].blending=this.blending,this[e(526)]=new(v[e(264)])(this[e(555)].getGeometry(),this.material),this[e(526)][e(316)]=!0,void 0!==this[e(613)]&&(this[e(526)].renderOrder=this[e(613)]),this[e(647)](),this.owner[e(413)](this[e(526)]))}dispose(){const t=X;this.particleStateArray[t(254)]()}[(a=X(647),X(366))](e,s,n,i,r){const a=X,o=[...Array(16)[a(706)]()].map((t=>new(v[a(306)])));if(this.atlas)for(let t=0;t<this.atlas[a(359)]();t++){const e=this[a(416)][a(255)](t);o[t]=new(v[a(306)])(e.x,e.y,e[a(611)],e.height)}const c=this[a(416)]?this[a(416)].getTexture():null,h=this[a(321)],l=this[a(492)],u=this[a(361)]?1:0,p={atlasFrameSet:{type:a(694),value:o},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(v[a(504)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[a(262)](n,p),e=e||t[a(385)].getVertexShader(r),s=s||t[a(385)][a(371)](i,r),new(v[a(246)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:v[a(319)],blendDstAlpha:v[a(369)],blendSrcAlpha:v[a(464)],depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=X,n=e[s(416)],i=(new(v[s(250)]))[s(395)](n[s(404)]),r=new ot(i,n[s(404)]),a=n[s(291)];for(const t of a)r[s(248)](t.length,t.x,t.y,t.width,t[s(299)]);const o=new t(e[s(361)],r,n[s(443)]);return e[s(676)]==s(543)?o[s(676)]=v[s(327)]:o.blending=v[s(319)],o}[X(618)](t){const e=X;t=t||(t=>{const e=qt;if(t[e(404)])return t[e(404)];const s=t[e(439)]().source;if(s){const t=s[e(665)];if(t){const s=t[e(308)],n=t[e(698)];return n[e(596)](s)>=0?n[e(681)](s.length,n[e(557)]-s[e(557)]):n}}});const s=[];for(let i=0;i<this.atlas[e(359)]();i++){const t=this.atlas[e(255)](i);s.push(t)}let n=e(599);this[e(497)][e(676)]===v[e(327)]&&(n="Additive");return{instanced:this[e(361)],blending:n,atlas:{interpolateFrames:this[e(321)],texturePath:t(this.atlas),framesets:s}}}};w(ct,"Shader",{get VertexVars(){const t=X;return["const int MAX_ATLAS_FRAME_SETS = 16; \n",t(617),t(548),t(309),t(372),t(602),t(270),t(377),t(608),"attribute vec2 size;\n","attribute vec4 sequenceElement;\n",t(370),t(592),"varying vec2 vUV1;\n",t(282),t(440),t(551),"varying float vSequenceElementT; \n"][t(423)]("\n")},get FragmentVars(){const t=X;return[t(548),t(265),t(253),t(283),t(282),"varying vec3 vFragColor;\n",t(551),t(360)][t(423)]("\n")},getVertexShader(t){const e=X;let s=[e(287),this[e(515)]][e(423)]("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=[e(417),e(459),e(645),e(559),"   float atlasFrameY = atlasFrames.y; \n",e(418),e(268),e(470),e(304),e(486),e(540),"   int nRowYTile = int(SNOverHS);\n",e(660),"   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",e(305),"   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n",e(381),e(530),"void main()\n","{\n",e(481),"   const vec2 up = vec2(0.0, 1.0);\n",e(591),"   const vec2 down = vec2(0.0, -1.0);\n","   const vec2 uRight = vec2(1.0, 1.0);\n","   const vec2 uLeft = vec2(-1.0, 1.0);\n",e(441),"   const vec2 dRight = vec2(1.0, -1.0);\n","   vec4 viewPosition; \n","   if (simulateInWorldSpace == 1) { \n",e(315),e(633),"       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   } \n","   float sequenceElementF = sequenceElement.x;\n",e(529),"   int sequenceStart = int(sequenceElement.z);\n",e(365),e(558),e(500),e(566),"   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","   int firstSequenceElement = int(sequenceElementF); \n",e(585),e(686),"   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ",e(249),e(554),"   float atlasFrameWidth = atlasFrames.z; \n",e(645),e(279),e(290),e(331),"   float upperSide; \n",e(582),"       rightSide = step(2.0, customIndex); \n","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n",e(712),"   }  else { \n","       rightSide = baseUV.x; \n","       upperSide = baseUV.y; \n","   } \n",e(368),e(653),e(724),"   if (instanced != 1) { \n","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","       float uLeftV = rotVecStep.x; \n","       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(658),e(626),e(587),e(478),e(679),e(554),e(456),e(533),e(458),e(432),e(710)][e(423)]("\n"),t&&(s+=e(405)),s+="} \n",s},getFragmentShader(t,e){const s=X;let n="#include <common> \n"+this[s(517)]+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+="void main() { \n",e&&(n+=s(396)),n+=t?[s(627),s(382),s(722),s(607),s(721)][s(423)]("\n"):[s(469),s(382),s(722),s(607),s(721)][s(423)]("\n"),n+="}\n",n}});let ht=ct;class lt{constructor(){const t=X;this[t(491)]=0,this[t(577)]=0,this[t(379)]=0,this[t(338)]=0,this.timeActive=0,this[t(590)]=0,this.maximumActiveParticles=0}[X(476)](t){return this.internalUpdate(t),0}[X(682)](t){const e=X;return this.age+=t,this.timeActive=Math[e(720)](this.age-this[e(491)],0),this.age>=this[e(491)]&&(0==this[e(577)]||this[e(260)]<=emissionDuration)}[X(661)](t){this[X(379)]+=t}}class ut extends lt{constructor(){const t=X;super(),this[t(463)]=0,this[t(639)]=0}}class pt extends ut{constructor(t=0){const e=X;super(),this[e(322)]=t}[X(476)](t){const e=X;if(this[e(682)](t)){const t=this.emissionRate*this[e(260)]-this[e(379)];if(t>=1){const s=Math[e(527)](t);return this[e(661)](s),s}}return 0}static fromJSON(t){const e=X,s=new pt;return s[e(322)]=t[e(322)]||0,s}[X(618)](){return{emissionRate:this[X(322)]}}}const mt=class t{constructor(t){this[X(494)]=t}static[(o=X(427),c=X(504),h=X(415),l=X(306),u=X(495),X(541))](e){const s=X;let n=t[s(427)];return e===v[s(504)]?n=t[s(504)]:e===v[s(415)]?n=t[s(415)]:e===v[s(306)]?n=t[s(306)]:e===v[s(495)]&&(n=t.Color),n}static loadJSONParameter(t,e){const s=X;switch(e){case E:return(new(v[s(504)])).fromArray(t);case v[s(415)]:return(new y).fromArray(t);case v[s(306)]:return(new(v[s(306)]))[s(320)](t);case z:return(new(v[s(495)]))[s(320)](t)}return t}};w(mt,o,new mt(X(427))),w(mt,c,new mt(X(504))),w(mt,h,new mt("Vector3")),w(mt,l,new mt(X(306))),w(mt,u,new mt("Color"));let ft=mt;class dt{constructor(t){const e=X;this.outType=t,this.outTypeID=ft[e(541)](t)}}class wt extends dt{constructor(t,e,s,n,i,r){const a=X;super(t),this.range=e,this[a(570)]=s,this[a(578)]=n,this[a(449)]=i,this[a(524)]=r}[X(412)](t){const e=X,s=Math.random()*this[e(578)];switch(this[e(589)]){case ft[e(427)]:t=Math[e(384)]()*this[e(605)]+this[e(570)],this[e(524)]&&(t=t<0?-1:1);break;case ft.Vector2:t[e(623)](this[e(654)](s,"x"),this[e(654)](s,"y"));break;case ft.Vector3:t.set(this[e(654)](s,"x"),this.generateForElement(s,"y"),this[e(654)](s,"z"));break;case ft[e(306)]:t[e(623)](this.generateForElement(s,"x"),this.generateForElement(s,"y"),this[e(654)](s,"z"),this.generateForElement(s,"w"))}return this[e(524)]&&t[e(524)](),t}[X(654)](t,e){const s=X;return t+Math[s(384)]()*this[s(605)][e]+this[s(570)][e]+this[s(449)]}clone(){const t=X;return new wt(this[t(256)],this[t(605)],this.offset,this[t(578)],this[t(449)],this[t(524)])}static[X(642)](t){const e=X;return t instanceof E||t instanceof y||t instanceof v[e(306)]||t instanceof v[e(495)]?t.toArray():t}static[X(638)](t){const e=X;return new wt(t[e(553)],ft.loadJSONParameter(t.range,t[e(553)]),ft[e(597)](t[e(570)],t[e(553)]),t[e(578)]||0,t[e(449)]||0,t[e(524)])}[X(618)](t){const e=X,s={range:wt[e(642)](this[e(605)]),offset:wt[e(642)](this[e(570)]),uniformRange:this[e(578)],uniformOffset:this[e(449)]},n=t[e(584)](this[e(605)][e(345)]);return null!=n&&(s[e(553)]=n),{type:t[e(584)](wt),params:s}}}class gt extends L{constructor(t,e,s,n,i){const r=X;super(),this[r(605)]=t,this[r(570)]=e,this[r(578)]=s,this[r(449)]=n,this.normalize=i,this[r(457)]=new wt(0,this[r(605)],this[r(570)],this.uniformRange,this.uniformOffset,this[r(524)])}initializeState(t){const e=X;t[e(354)]=this[e(457)].generate()}static[X(638)](t,e){const s=X;return new gt(e[s(605)],e[s(570)],e[s(578)],e[s(449)],e[s(524)])}[X(618)](){const t=X;return{range:this.range,offset:this[t(570)],uniformRange:this[t(578)],uniformOffset:this[t(449)],normalize:this.normalize}}}class St extends L{constructor(t){const e=X;super(),this[e(457)]=t[e(330)]()}initializeState(t){const e=X;t.rotation=this[e(457)][e(412)](t.rotation)}static[X(638)](t,e){const s=X,n=e[s(457)].type.fromJSON(e[s(457)].params);return new St(n)}[X(618)](t){return{generator:this.generator.toJSON(t)}}}class yt extends L{constructor(t,e,s,n,i){const r=X;super(),this[r(605)]=t,this.offset=e,this.uniformRange=s,this.uniformOffset=n,this[r(524)]=i,this[r(457)]=new wt(0,this[r(605)],this[r(570)],this[r(578)],this[r(449)],this[r(524)])}initializeState(t){const e=X;t[e(521)]=this[e(457)][e(412)]()}static[X(638)](t,e){const s=X;return new yt(e.range,e[s(570)],e[s(578)],e[s(449)],e[s(524)])}[X(618)](){const t=X;return{range:this.range,offset:this[t(570)],uniformRange:this[t(578)],uniformOffset:this.uniformOffset,normalize:this[t(524)]}}}class vt extends L{constructor(t,e){const s=X;super(),this[s(474)]=new wt(y,t,e,0,0,!1)}[X(333)](t){const e=X;this[e(474)][e(412)](t[e(659)])}static fromJSON(t,e){const s=X;return new vt((new y).fromArray(e[s(605)]),(new y)[s(320)](e[s(570)]))}[X(618)](){const t=X;return{range:this[t(474)].range[t(386)](),offset:this[t(474)][t(570)][t(386)]()}}}class xt extends L{constructor(t){const e=X;super(),this.generator=t[e(330)]()}[X(333)](t){const e=X;this[e(457)][e(412)](t.size),t[e(547)][e(603)](t[e(675)])}static fromJSON(t,e){const s=X,n=e[s(457)][s(553)].fromJSON(e.generator[s(442)]);return new xt(n)}toJSON(t){const e=X;return{generator:this.generator[e(618)](t)}}}class It extends L{constructor(t,e,s,n,i=!0){const r=X;super(),this[r(298)]=new wt(v[r(415)],t,e,0,0,!0),this[r(615)]=new wt(0,s,n,0,0,!1),this[r(454)]=i}[X(333)](t){const e=X;this[e(298)][e(412)](t[e(702)]),this.normalizeDirection&&t.velocity[e(524)](),t.velocity.multiplyScalar(this[e(615)][e(412)]())}static[X(638)](t,e){const s=X;return new It((new y).fromArray(e[s(605)]),(new(v[s(415)]))[s(320)](e[s(570)]),e[s(704)],e[s(499)])}toJSON(){const t=X;return{range:this.directionGenerator[t(605)][t(386)](),offset:this.directionGenerator[t(570)].toArray(),speedRange:this.speedGenerator.range,speedOffset:this[t(615)][t(570)]}}}class Pt extends L{constructor(t,e=!1){const s=X;super(),this[s(693)](t),this[s(326)]=e}[X(693)](t){this[X(655)]=t}[X(333)](t){const e=X,s=this[e(655)][e(614)](),n=s[e(557)]*Math[e(384)](),i=s[Math[e(527)](n)],r=this.particleSequences[e(571)](i),a=t[e(317)];this[e(326)]?a.x=r[e(557)]-1:a.x=r[e(528)],a.y=r.id,a.z=r[e(528)],a.w=r.length,t.progressType=W.Sequence}static[X(638)](t,e){const s=X;return new Pt(t[s(394)](),e[s(326)])}toJSON(){return{reverse:this[X(326)]}}}class At extends H{constructor(t,e,s=!1,n=!1){const i=X;super(),this[i(655)]=t,this[i(274)]=e,this[i(252)]=s,this[i(326)]=n}[X(374)](t,e){const s=X,n=t[s(317)],i=this[s(655)].getSequence(n.y),r=e/this.speed;if(this.reverse){if(n.x-=r,n.x<i[s(528)]&&(n.x=i[s(528)]+i[s(557)],!this[s(252)]))return!1}else if(n.x+=r,n.x>=i[s(528)]+i[s(557)]&&(n.x=i.start,!this[s(252)]))return!1;return!0}static[X(638)](t,e){const s=X;return new At(t.getParticleSequences(),e[s(274)],e[s(252)],e[s(326)])}[X(618)](){const t=X;return{speed:this[t(274)],loop:this[t(252)],reverse:this[t(326)]}}}class Ft{constructor(t,e){w(this,p,function(){const t=X,e={lowerIndex:0,upperIndex:0,localT:0},s=new(v[t(504)]),n=new(v[t(415)]),i=new(v[t(306)]),r=new z,a=s=>(n,i,r,a)=>{const o=t;Ft[o(544)](r,n,e),s[o(603)](i[e[o(349)]])[o(294)](e[o(725)]),a.copy(i[e[o(621)]])[o(294)](1-e.localT).add(s)};return function(o){const c=t;switch(o){case ft[c(427)]:return(t,s,n)=>{const i=c;return Ft[i(544)](n,t,e),(1-e[i(725)])*s[e[i(621)]]+e[i(725)]*s[e[i(349)]]};case ft[c(504)]:return a(s);case ft.Vector3:return a(n);case ft[c(306)]:return a(i);case ft[c(495)]:return a(r)}}}());const s=X;this.elements=[],this[s(489)]=[],this[s(697)]=ft[s(541)](t),e?this[s(303)]=e:this.interpolator=this[s(324)](this.elementTypeID)}*[Symbol[X(392)]](){const t=X;let e=0;for(;e<this[t(318)]();)yield{element:this.elements[e],tValue:this[t(489)][e]},e++}[X(318)](){return this.elements.length}[X(718)](t){const e=X;if(t>=this.getElementCount())throw new Error(e(482));return this[e(444)][t]}[X(286)](t){const e=X;if(t>=this[e(318)]())throw new Error(e(271));return this[e(489)][t]}[X(355)](t,e){const s=X;this[s(444)][s(536)](t),this[s(489)][s(536)](e)}[X(657)](t,e){const s=X;return this.interpolator(t,this.elements,this[s(489)],e)}static[(p=X(324),X(544))](t,e,s){const n=X,i=t[n(557)];if(0===i)return s.lowerIndex=-1,s.upperIndex=-1,void(s[n(725)]=-1);let r=0,a=-1,o=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)a++,o++;s[n(621)]=K.clamp(a,0,i-1),s[n(349)]=K[n(567)](o,0,i-1);const c=t[a],h=t[o];s[n(725)]=(e-c)/(h-c)}}class bt extends H{constructor(t,e=!1){const s=X;super(),this[s(485)]=e,this.interpolationElements=new Ft(t)}addElement(t,e){const s=X;this.interpolationElements[s(355)](t,e)}[X(579)](t){const e=X;for(const s of t)this.interpolationElements[e(355)](s[0],s[1])}[X(666)](t,e){const s=X;for(const n of e){const[...e]=n[0];this.interpolationElements[s(355)](new t(...e),n[1])}}getInterpolatedValue(t,e){const s=X;let n=0;switch(t[s(421)]){case W[s(518)]:n=0!=t[s(354)]?t.age/t[s(354)]:t.age;break;case W[s(339)]:n=t[s(317)].x/t[s(317)].w}return this.interpolationElements[s(657)](n,e)}}class Tt extends bt{constructor(t=!1){super(0,t)}addElementsFromParameters(t){super[X(579)](t)}[X(374)](t){const e=X;return this.relativeToInitialValue?t[e(703)]=t.initialAlpha*this.getInterpolatedValue(t,t[e(703)]):t[e(703)]=this[e(684)](t,t[e(703)]),!0}static fromJSON(t,e){return new Tt(e.relativeToInitialValue)}[X(618)](){const t=X;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this.interpolationElements].map((e=>[e[t(292)],e[t(630)]]))}}}class zt extends bt{constructor(t=!1){super(E,t),w(this,m,function(){const t=X,e=new(v[t(504)]);return function(s){const n=t;return this[n(684)](s,e),this[n(485)]?s[n(675)][n(623)](s[n(547)].x*e.x,s.initialSize.y*e.y):s[n(675)].copy(e),!0}}())}[X(273)](t){super[X(666)](E,t)}static[(m=X(374),X(638))](t,e){return new zt(e[X(485)])}[X(618)](){const t=X;return{params:{relativeToInitialValue:this[t(485)]},elements:[...this[t(466)]][t(289)]((e=>[e[t(292)][t(386)](),e[t(630)]]))}}}class Et extends bt{constructor(t=!1){super(v[X(495)],t),w(this,f,function(){const t=X,e=new(v[t(495)]);return function(s){const n=t;return this[n(684)](s,e),this.relativeToInitialValue?s[n(677)][n(707)](s[n(678)].r*e.r,s[n(678)].g*e.g,s.initialColor.b*e.b):s[n(677)][n(603)](e),!0}}())}addElementsFromParameters(t){const e=X;super.addElementsFromElementClassAndParameters(v[e(495)],t)}static[(f=X(374),X(638))](t,e){return new Et(e[X(485)])}[X(618)](){const t=X;return{params:{relativeToInitialValue:this[t(485)]},elements:[...this.interpolationElements][t(289)]((e=>[e[t(292)][t(386)](),e.tValue]))}}}class Ot extends H{constructor(t){const e=X;super(),this.generator=t[e(330)]()}[X(273)](t){const e=X;super.addElementsFromElementClassAndParameters(THREE[e(415)],t)}[X(374)](t){const e=X;return this.generator[e(412)](t[e(575)]),!0}static[X(638)](t,e){const s=X,n=e.generator[s(553)].fromJSON(e[s(457)][s(442)]);return new Ot(n)}toJSON(t){const e=X;return{generator:this.generator[e(618)](t)}}}class Rt extends dt{constructor(t,e,s,n,i,r,a,o,c,h,l,u){const p=X;super(y),this[p(490)]=t,this[p(341)]=e,this[p(383)]=s,this[p(685)]=n,this[p(580)]=i,this.offsetRadius=r,this[p(350)]=a,this[p(477)]=o,this[p(295)]=c,this[p(276)]=h,this[p(542)]=l,this[p(247)]=u,this[p(313)]=(new y).set(0,1,0)}[X(412)](t){const e=X;this[e(313)][e(623)](0,1,0);const s=Math[e(384)]()*this[e(490)]+this[e(341)],n=Math[e(384)]()*this[e(383)]+this[e(685)],i=Math.cos(s),r=Math[e(430)](s),a=Math[e(640)](n),o=Math.sin(n);t[e(623)](i,0,-r),t[e(294)](a),this.tempUp[e(294)](o),t[e(413)](this[e(313)]),t.normalize();const c=Math.random()*this[e(580)]+this[e(650)];t[e(294)](c),t.x*=this[e(350)],t.y*=this[e(477)],t.z*=this.scaleZ,t.x+=this.offsetX,t.y+=this[e(542)],t.z+=this[e(247)]}[X(330)](){const t=X;return new Rt(this[t(490)],this[t(341)],this[t(383)],this[t(685)],this[t(580)],this[t(650)],this.scaleX,this.scaleY,this[t(295)],this.offsetX,this[t(542)],this.offsetZ)}static[X(638)](t){const e=X;return new Rt(t[e(490)],t.offsetTheta,t[e(383)],t[e(685)],t.rangeRadius,t[e(650)],t[e(350)],t[e(477)],t[e(295)],t[e(276)],t[e(542)],t[e(247)])}[X(618)](t){const e=X;return{type:t[e(584)](Rt),params:{rangeTheta:this[e(490)],offsetTheta:this[e(341)],rangePhi:this[e(383)],offsetPhi:this[e(685)],rangeRadius:this[e(580)],offsetRadius:this[e(650)],scaleX:this[e(350)],scaleY:this[e(477)],scaleZ:this[e(295)],offsetX:this.offsetX,offsetY:this.offsetY,offsetZ:this[e(247)]}}}}class Ct{constructor(){}}class Vt extends Ct{constructor(t,e,s,n,i,r,a=void 0){const o=X;super(),this[o(583)]=null,this[o(399)]=null,this[o(311)]=performance.now()/1e3,this[o(620)]=this[o(311)],this.lastPositionFlickerTime=this[o(311)],this[o(696)]=1,this[o(410)]=1,this[o(402)]=new(v[o(415)]),this[o(513)]=new y,this[o(461)]=1,this[o(480)]=2,this[o(711)]=t,this[o(502)](t,e,s,n,i,r,a)}init(t,e,s,n,i,r,a=void 0){const o=X;this[o(583)]=new(v[o(663)]),t[o(413)](this[o(583)]),n=n||new z,i=i||0,null!=r&&null!=r||(r=2);const c=!!a;return this[o(399)]=new(v[o(690)])(16777215,2,0,1),this[o(399)].color[o(603)](n),this[o(399)][o(436)]=i,this[o(399)].decay=r,this[o(399)][o(340)]=c,c&&(this[o(399)].shadow[o(251)][o(611)]=a[o(251)]||512,this.light[o(434)][o(251)][o(299)]=a[o(251)]||512,this[o(399)][o(434)][o(713)][o(493)]=a[o(612)]||.5,this[o(399)][o(434)][o(713)][o(576)]=a[o(719)]||500,this[o(399)].shadow[o(523)]=a[o(523)]||1e-4,this.light.shadow.radius=a[o(669)]||1),this[o(583)].add(this[o(399)]),this.intensity=e,this.intensityFlux=s,this[o(399)]}dispose(){const t=X;this[t(711)].remove(this[t(583)])}[X(550)](){return this[X(399)]}[X(520)](t){this[X(461)]=t}[X(476)](t){const e=X,s=t-this[e(620)],n=1/8,i=this.intensityFlux;if(s>n){this.lastIntensityFlickerTime=t;let s=1+2*(Math[e(384)]()-.5)*i*n;const r=s-this.lastIntensityAdjuster;s=this[e(696)]+r,this[e(696)]=this[e(410)],this.nextIntensityAdjuster=K.clamp(s,.25,1.5)}else{const t=s/n,i=(1-t)*this.lastIntensityAdjuster+t*this[e(410)];this.light.intensity=i*this[e(461)]}if(t-this[e(496)]>.0625){this[e(496)]=t;const s=t-this[e(311)];this[e(513)][e(623)](Math[e(384)]()-.5,Math[e(384)]()-.5,Math[e(384)]()-.5),this[e(513)][e(294)](s),this[e(513)][e(413)](this.lastPositionAdjuster),this[e(513)][e(294)](.5),this.owner[e(659)][e(603)](this.positionAdjuster),this[e(402)][e(603)](this[e(513)]),this[e(311)]=t}}}function qt(t,e){const s=Mt();return(qt=function(t,e){return s[t-=245]})(t,e)}function Mt(){const t=["   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","timeScaledVelocity","415420dkkPON","push","baseUV","matrixWorld","particlePosition","   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","getTypeID","offsetY","Additive","getInterpolationValuesForTValue","startupTime","rotations","initialSize","uniform int interpolateAtlasFrames; \n","parseNamespaceAndTypename","getLight","varying float vFragAlpha;\n","autoClear","type","   } \n","particleStateArray","189UZbxUC","length","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","   float atlasFrameX = atlasFrames.x; \n","InstancedBufferGeometry","4572087qRtZQM","setAll","error","initializers","getParticleCount","   vec2 uv2; \n","clamp","verticesPerParticle","particleEmitter","offset","getSequence","sequences","gger","geometry","acceleration","far","emissionDuration","uniformRange","addElements","rangeRadius","hasOwnProperty","   if (instanced != 1) { \n","owner","getTypePath","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","test","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","setUsage","outTypeID","activeCount","   const vec2 left = vec2(-1.0, 0.0);\n","attribute float alpha;\n","hasID","transformDirection","JSONTypeStore::getType() -> namespace does not exist","indexOf","loadJSONParameter","__proto__","Normal","customIndexes","setAttribute","attribute vec2 baseUV;\n","copy","console","range","baseUVs","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","attribute float rotation;\n","advanceActiveParticle","split","width","cameraNear","renderOrder","getSequenceIDs","speedGenerator","function *\\( *\\)","uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n","toJSON","getTexturePath","lastIntensityFlickerTime","lowerIndex","sequenceElements","set","518844okOTPc","normal","       float dRightV = rotVecStep.w - rotVecStep.z; \n","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","255804LCIdzT","setState","tValue","flushParticleStateToBuffers","particleSystemRenderer","   } else { \n","getTypeNames","initialized","getParticleStateOperatorCount","stateAcceleration","fromJSON","emissionMaximum","cos","components","getParameterJSON","getActiveParticleCount",'ComponentContainer::getComponent() -> "index" is out of range.',"   float atlasFrameHeight = atlasFrames.w; \n","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","updateMeshBounds","initialColors","activateParticle","offsetRadius","action","stop","   float uvYOffset = atlasFrameHeight * upperSide; \n","generateForElement","particleSequences","boundingSphere","getInterpolatedElement","       float uRightV = rotVecStep.z; \n","position","   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","updateEmitCount","allocate","Object3D","getParticleStateInitializerCount","data","addElementsFromElementClassAndParameters","splice","boundingBox","edgeRadius","activeParticleCount","basePositions","particleSystems","1287797caAReM","emitter","size","blending","color","initialColor","       rotVec = position.xy; \n ",'ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.',"substr","internalUpdate",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"getInterpolatedValue","offsetPhi","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","getParticleStates","getEmitter","rotationalSpeeds","PointLight","jsonTypeNames","setX","setParticleSequences","v4v","Paused","lastIntensityAdjuster","elementTypeID","currentSrc","advanceActiveParticles",'ParticleSystem::getParticleState() -> "index" is out of range.',"getComponent","velocity","alpha","speedRange","bind","keys","setRGB","toString","onUpdateCallback","   vFragAlpha = alpha; \n","parent","       upperSide = upperSideStep.x + upperSideStep.y;\n","camera","colors","setTransformInitialDirectionInWorldSpace","getParticleStateInitializer","componentContainer","getElement","cameraFar","max","   gl_FragColor.a *= vFragAlpha; \n","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","setXYZW","   vec2 rotVec; \n","localT","517dWLEKS","ShaderMaterial","offsetZ","addFrameSet","       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n","TextureLoader","mapSize","loop","uniform vec2 uvOffset;\n","dispose","getFrameSet","outType","Running","currentTime","setVisibile","timeActive","table","assign","ages","Mesh","uniform sampler2D atlasTexture;\n","getRotations","BufferAttribute","   int maxRowSections = int(1.0 / atlasFrameWidth); \n","Sphere","attribute float customIndex;\n",'ContinuousArray::getTValue() -> "index" is out of bounds.',"getParticleState","addElementsFromParameters","speed","alphas","offsetX","typeIDGen","velocities","   float rotMag = rotation; \n","getSimulateInWorldSpace","sizes","varying vec2 vUV2;\n","varying vec2 vUV1;\n","timeScaledAcceleration","texture","getTValue","#include <common>","return (function() ","map","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","framesets","element","initialAlpha","multiplyScalar","scaleZ","addParticleSystem","3912832oGkXSX","directionGenerator","height","namespace","20icAWGp","getParticleStateArray","interpolator","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","Vector4","copyParticleInArray","baseURI","uniform int simulateInWorldSpace; \n","now","lastUpdateTime",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"tempUp","activateParticles","       viewPosition = viewMatrix * particlePosition;\n","frustumCulled","sequenceElement","getElementCount","NormalBlending","fromArray","interpolateAtlasFrames","emissionRate","getParticleStateOperator","getInterpolatorForTypeID","particleStates","reverse","AdditiveBlending","string","addSequence","clone","   float rightSide; \n","needsUpdate","initializeState","Box3","setParticleCount","6aGnZxS","setBoundingSphere","age","Sequence","castShadow","offsetTheta","setXY","addTypeToNamespace","applyMatrix4","constructor","exception","ParticleSystem::init() -> trying to intialize more than once.","emitterInitialized","upperIndex","scaleX","customIndex","DynamicDrawUsage","setXYZ","lifetime","addElement","getVisible","operators","setDrawRange","getFrameSetCount","varying float vSequenceElementT;\n","instanced","onUpdate","frameSets","5794hyVNPV","   int sequenceLength = int(sequenceElement.w);\n","createMaterial","particleStateInitializers","   float uvXOffset = atlasFrameWidth * rightSide; \n","OneMinusSrcAlphaFactor","attribute vec3 color;\n","getFragmentShader","uniform int instanced; \n","apply","updateState","input","particleStateOperators","attribute vec4 particlePosition;\n","computeBoundingSphere","emitCount","copyTo","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n","   vec4 color2 = color1; \n","rangePhi","random","Shader","toArray","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","info","setActiveParticleCount","renderer","addParticleStateOperator","iterator","counter","getParticleSequences","load","    \n  #include <logdepthbuf_fragment> \n","getSizes","copyState","light","computeBoundingBox","getPositions","lastPositionAdjuster","lifetimes","texturePath","   \n  #include <logdepthbuf_vertex> \n","JSONTypeStore::getType() -> typeName does not exist","Renderer::init() -> trying to intialize more than once.","stateObject",'{}.constructor("return this")( )',"nextIntensityAdjuster","instanceCount","generate","add","calculatingBoundingSphereFromBox","Vector3","atlas","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","invert","getGeometry","progressType","render","join",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"getState","uniforms","Default","addComponent","getParticleSystemRenderer","sin","checkAndAddTypeName","   vFragColor = color; \n","accelerations","shadow","setBoundingBox","distance","initialAlphas","object","getTexture","varying vec3 vFragColor;\n","   const vec2 dLeft = vec2(-1.0, -1.0);\n","params","interpolateFrames","elements",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"addNamespace","467Gwlznj","setSimulateInWorldSpace","uniformOffset","NotStarted","BufferGeometry","sqrt","radius","normalizeDirection","rotation","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","generator","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","   float atlasFrameWidth = atlasFrames.z; \n","parseTypeString","intensity","pause","emissionMinimum","SrcAlphaFactor","ids","interpolationElements","warn","getColors","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","systemState","jsonTypes","initialSizes","randomGenerator","uniformsNeedUpdate","update","scaleY","   }  else { \n","positions","intensityFlux","   const vec2 right = vec2(1.0, 0.0);\n",'ContinuousArray::getElement() -> "index" is out of bounds.',"particleCount","addParticleSequence","relativeToInitialValue","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","startTime","updateWorldMatrix","tValues","rangeTheta","emissionRelativeStartTime","simulateInWorldSpace","near","name","Color","lastPositionFlickerTime","material","addParticleStateInitializer","speedOffset","   vec2 uv1; \n","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","getType","Vector2","normals","visible","log","default","min","Done","transformInitialDirectionInWorldSpace","value","positionAdjuster","setOwner","VertexVars","debu","FragmentVars","Time","calculateBoundingSphereFromBox","setIntensity","rotationalSpeed","maximumActiveParticles","bias","normalize","call","mesh","floor","start","   int sequenceNumber = int(sequenceElement.y);\n","} \n","stateVelocity","addType"];return(Mt=function(){return t})()}class Nt{constructor(){const t=X;this.jsonTypes={default:{}},this[t(691)]={},this[t(277)]=0}[X(532)](t,e){const s=X;this[s(343)](s(508),t,e)}[X(343)](t,e,s){const n=X;if(!this[n(472)][t])throw new Error(n(387));if(this.jsonTypes[t][e])throw new Error("JSONTypeStore::addTypeToNamespace() -> typeName already exists");this.checkAndAddTypeName(s,e,t)&&(this[n(472)][t][e]=s)}[X(446)](t,e){const s=X;if(this[s(472)][t])throw new Error("JSONTypeStore::addNamespace() -> namespace already exists");this.jsonTypes[t]=e;for(const n in e)if(!e[s(581)]||e[s(581)](n)){const i=e[n];this[s(431)](i,n,t)}}[X(431)](t,e,s){const n=X;if("function"==typeof t){const i=this[n(277)]++;t.___photonsTypeID=i,this[n(691)][i]={namespace:s,typeName:e}}}[X(503)](t,e){const s=X;if(!this[s(472)][t])throw new Error(s(595));if(!this[s(472)][t][e])throw new Error(s(406));return this.jsonTypes[t][e]}[X(634)](t){return this[X(691)][t.___photonsTypeID]}[X(584)](t){const e=X,s=this[e(634)](t);if(s)return s[e(300)]+"."+s.typeName}[X(549)](t){const e=X,s=t[e(610)]("."),n=s[0];s[e(667)](0,1);return{namespace:n,typeName:s[e(423)](".")}}[X(460)](t){const e=X,{namespace:s,typeName:n}=this[e(549)](t);return this[e(503)](s,n)}}function _t(t){function e(t){const s=qt;if(typeof t===s(328))return function(t){}[s(345)]("while (true) {}").apply(s(393));1!==(""+t/t).length||t%20==0?function(){return!0}[s(345)](s(516)+s(573))[s(525)](s(651)):function(){return!1}.constructor(s(516)+s(573))[s(373)](s(408)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Bt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Ot,AnimatedSpriteRenderer:ht,Atlas:ot,BaseParticleStateInitializer:Z,BaseParticleStateOperator:$,BoxPositionInitializer:vt,ColorInterpolatorOperator:Et,ConstantParticleEmitter:pt,FlickerLight:Vt,JSONTypeStore:Nt,LifetimeInitializer:gt,Manager:nt,OpacityInterpolatorOperator:Tt,ParticleStateArray:Y,ParticleSystem:st,ParticleSystemState:et,RandomGenerator:wt,RandomVelocityInitializer:It,Renderer:it,RotationInitializer:St,RotationalSpeedInitializer:yt,SequenceInitializer:Pt,SequenceOperator:At,SizeInitializer:xt,SizeInterpolatorOperator:zt,SphereRandomGenerator:Rt},Symbol.toStringTag,{value:"Module"})),Ut=Dt;!function(t,e){const s=Dt,n=Wt();for(;;)try{if(185743===-parseInt(s(195))/1*(parseInt(s(203))/2)+parseInt(s(223))/3*(parseInt(s(158))/4)+-parseInt(s(167))/5*(parseInt(s(189))/6)+-parseInt(s(197))/7+parseInt(s(206))/8+parseInt(s(226))/9+-parseInt(s(181))/10*(-parseInt(s(205))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const jt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){jt(this,(function(){const t=Dt,e=new RegExp(t(169)),s=new RegExp(t(190),"i"),n=Yt(t(192));e[t(170)](n+t(179))&&s[t(170)](n+t(173))?Yt():n("0")}))()}();const Xt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Dt(162)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Dt(t,e){const s=Wt();return(Dt=function(t,e){return s[t-=144]})(t,e)}function Wt(){const t=["2108390ozAAKd","THREE","TextureLoader","AnimatedSpriteRenderer","counter","Color","Vector3","RotationalSpeedInitializer","6YbcgGJ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getParticleSequences","init","addParticleStateOperator","scale","732fZSaMA","bind","1277948dCPvBD","addNamespace","BoxPositionInitializer","LifetimeInitializer","log","add","656ApFiyM","fireF","11RMaqYK","1912296AvldEc","trace","toString","FlickerLight","Photons","addParticleSequence","return (function() ","addComponent","position","AccelerationOperator","error","AdditiveBlending","setSimulateInWorldSpace","ConstantParticleEmitter","RandomGenerator","call","constructor","89307ZRMvPO","gger","addFrameSet","2811483ztLsys","__proto__","addElements",'{}.constructor("return this")( )',"warn","RotationInitializer","OpacityInterpolatorOperator","Manager","debu","ParticleSystem","table","update","addElementsFromParameters","start","SizeInterpolatorOperator","Vector2","RandomVelocityInitializer","Atlas","8exhnFA","SequenceOperator","value","prototype","apply","copy","load","SequenceInitializer","length","1066990Kpvsxz","exception","function *\\( *\\)","test","addParticleSystem","JSONTypeStore","input","action","addParticleStateInitializer","Object3D","SizeInitializer","console","chain","ColorInterpolatorOperator"];return(Wt=function(){return t})()}Xt(void 0,(function(){const t=Dt,e=function(){const t=Dt;let e;try{e=Function(t(212)+t(229)+");")()}catch(s){e=window}return e}(),s=e[t(178)]=e.console||{},n=[t(201),t(144),"info",t(216),t(168),t(150),t(207)];for(let i=0;i<n[t(166)];i++){const e=Xt[t(222)][t(161)].bind(Xt),r=n[i],a=s[r]||e;e[t(227)]=Xt.bind(Xt),e[t(208)]=a[t(208)][t(196)](a),s[r]=e}}))();const Jt=q({__name:Ut(204),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Ut,s=t,n=new(Bt[e(147)]),i=new(Bt[e(172)]);i[e(198)](e(182),v),i[e(198)](e(210),Bt);const{renderer:r,camera:a,scene:o}=C(),c=new y(...s[e(214)]);n.addParticleSystem(((t,s)=>{const n=e,i=new P;i.position[n(163)](s);const a="./plugins/digitalCity/image/fireF/ember.png",o=(new R)[n(164)](a),c=new(Bt[n(157)])(o,a);c[n(225)](1,0,0,1,1);const h=new(Bt[n(184)])(!0,c,!0,v[n(217)]),l=new(Bt[n(149)])(i,h,r[n(160)]);l[n(192)](150),l.setEmitter(new(Bt[n(219)])(6));const u=new(Bt[n(220)])(E,new(v[n(155)])(0,0),new(v[n(155)])(.15*t,.15*t),0,0,!1);l[n(175)](new(Bt[n(200)])(3,1,0,0,!1)),l[n(175)](new(Bt[n(177)])(u)),l[n(175)](new(Bt[n(199)])(new y(.05*t,0,.05*t),new(v[n(187)])(-.025*t,0,-.025*t))),l[n(175)](new(Bt[n(156)])(new(v[n(187)])(.4*t,.5*t,.4*t),new(v[n(187)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l.addParticleStateOperator(new Tt).addElements([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(193)](new(Bt[n(180)])(!0))[n(152)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new Rt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l.addParticleStateOperator(new(Bt[n(215)])(p)),l.setSimulateInWorldSpace(!0),l[n(153)](),l})(s[e(194)],c)),n[e(171)](((t,s)=>{const n=e,i=new(v[n(176)]);i.position[n(163)](s);const a="./plugins/digitalCity/image/fireF/base_flame.png",o=(new(v[n(183)]))[n(164)](a),c=new(Bt[n(157)])(o,a);c[n(225)](18,0,0,.125,.25);const h=new(Bt[n(184)])(!0,c,!0),l=new(Bt[n(149)])(i,h,r[n(160)]);l[n(192)](50),l.setEmitter(new(Bt[n(219)])(10)),l.addParticleSequence(0,18);const u=l[n(191)]();l[n(175)](new(Bt[n(200)])(0,0,0,0,!1)),l.addParticleStateInitializer(new(Bt[n(145)])(new(Bt[n(220)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l[n(175)](new yt(1,-1,0,0,!1)),l.addParticleStateInitializer(new xt(new(Bt[n(220)])(v[n(155)],new E(.25*t,.25*t),new(v[n(155)])(.5*t,.5*t),0,0,!1))),l[n(175)](new(Bt[n(199)])(new(v[n(187)])(.05*t,0,.05*t),new(v[n(187)])(-.025*t,0,-.025*t))),l.addParticleStateInitializer(new(Bt[n(156)])(new(v[n(187)])(.05*t,.4*t,.05*t),new(v[n(187)])(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(175)](new(Bt[n(165)])(u)),l[n(193)](new At(u,.07,!1));l.addParticleStateOperator(new(Bt[n(146)]))[n(228)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(193)](new(Bt[n(154)])(!0))[n(152)]([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(193)](new(Bt[n(180)])(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(193)](new(Bt[n(215)])(new(Bt[n(220)])(v[n(187)],new(v[n(187)])(0,0,0),new(v[n(187)])(0,1.5*t,0),0,0,!1))),l[n(218)](!0),l[n(153)](),l})(s[e(194)],c)),n[e(171)](((t,s)=>{const n=e,i=new P;i[n(214)][n(163)](s);const a="./plugins/digitalCity/image/fireF/bright_flame.png",o=(new R)[n(164)](a),c=new(Bt[n(157)])(o,a);c[n(225)](16,0,0,212/1024,.25);const h=new ht(!0,c,!0),l=new(Bt[n(149)])(i,h,r.value);l[n(192)](20),l.setEmitter(new(Bt[n(219)])(5)),l[n(211)](0,16);const u=l[n(191)]();l[n(175)](new(Bt[n(200)])(0,0,0,0,!1)),l[n(175)](new(Bt[n(145)])(new wt(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(175)](new(Bt[n(188)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(175)](new(Bt[n(177)])(new(Bt[n(220)])(v[n(155)],new(v[n(155)])(0,0),new(v[n(155)])(0,0),.2*t,.65*t,!1))),l[n(175)](new(Bt[n(199)])(new(v[n(187)])(.1*t,0,.1*t),new(v[n(187)])(-.05*t,0,-.05*t))),l[n(175)](new(Bt[n(156)])(new(v[n(187)])(.02*t,.4*t,.02*t),new(v[n(187)])(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(175)](new(Bt[n(165)])(u)),l[n(193)](new(Bt[n(159)])(u,.1,!1));l.addParticleStateOperator(new(Bt[n(146)]))[n(228)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(193)](new(Bt[n(154)])(!0))[n(152)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(193)](new Et(!0))[n(152)]([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l.addParticleStateOperator(new Ot(new(Bt[n(220)])(v[n(187)],new y(0,0,0),new(v[n(187)])(0,1.5*t,0),0,0,!1))),l[n(218)](!0),l.start(),l})(s[e(194)],c)),n[e(213)](((t,s=10)=>{const n=e,i=new(v[n(176)]);o.value[n(202)](i),i.position[n(163)](t);return new(Bt[n(209)])(i,s,2,(new(v[n(186)])).setRGB(1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=V();return h((()=>{const t=e;n[t(151)](),n.render(r[t(160)],a[t(160)])})),(t,e)=>null}});function Yt(t){function e(t){const s=Dt;if("string"==typeof t)return function(t){}[s(222)]("while (true) {}")[s(162)](s(185));1!==(""+t/t)[s(166)]||t%20==0?function(){return!0}[s(222)](s(148)+s(224))[s(221)](s(174)):function(){return!1}[s(222)](s(148)+s(224))[s(162)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(s){}}const kt=Gt;function Gt(t,e){const s=Ht();return(Gt=function(t,e){return s[t-=199]})(t,e)}!function(t,e){const s=Gt,n=Ht();for(;;)try{if(737648===parseInt(s(235))/1+-parseInt(s(227))/2+-parseInt(s(208))/3+-parseInt(s(239))/4+parseInt(s(236))/5+-parseInt(s(203))/6+parseInt(s(222))/7)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Lt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Lt(this,(function(){const t=Gt,e=new RegExp(t(232)),s=new RegExp(t(199),"i"),n=Kt(t(233));e[t(224)](n+"chain")&&s[t(224)](n+t(204))?Kt():n("0")}))()}();const Zt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Gt(237)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Ht(){const t=["7356875mWWblm","apply","table","4685928zsTGLA","$refs","camera","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","stateObject","fireF","4840794DtCune","input","string","call","set","3770262bWiCBX","value","info","warn","position","action","error","bind","prototype","context","counter","tcRef","toString","__proto__","12507222xtnibO","trace","test","gger",'{}.constructor("return this")( )',"1025436IPrqYf","debu","constructor","exception","perspectiveCameraRef","function *\\( *\\)","init","console","1227280KykBJy"];return(Ht=function(){return t})()}Zt(void 0,(function(){const t=Gt,e=function(){const t=Gt;let e;try{e=Function("return (function() "+t(226)+");")()}catch(s){e=window}return e}(),s=e[t(234)]=e[t(234)]||{},n=["log",t(211),t(210),t(214),t(230),t(238),t(223)];for(let i=0;i<n[t(200)];i++){const e=Zt[t(229)][t(216)][t(215)](Zt),r=n[i],a=s[r]||e;e[t(221)]=Zt[t(215)](Zt),e[t(220)]=a[t(220)].bind(a),s[r]=e}}))();const $t=q({__name:kt(202),setup(t){const e=M();return N((()=>{const t=Gt;e[t(209)]&&(e.value.$refs[t(219)]?e[t(209)].$refs[t(219)][t(217)][t(241)][t(209)][t(212)][t(207)](580,360,500):e.value[t(240)][t(231)]&&e[t(209)].$refs.perspectiveCameraRef[t(212)][t(207)](580,360,500))})),(t,s)=>(_(),B(g,{ref_key:"pagesShowRef",ref:e},{ability:U((()=>[j(Jt,{position:[0,20,10],scale:40})])),_:1},512))}});function Kt(t){function e(t){const s=Gt;if(typeof t===s(205))return function(t){}[s(229)]("while (true) {}")[s(237)](s(218));1!==(""+t/t)[s(200)]||t%20==0?function(){return!0}[s(229)]("debu"+s(225))[s(206)](s(213)):function(){return!1}[s(229)](s(228)+s(225))[s(237)](s(201)),e(++t)}try{if(t)return e;e(0)}catch(s){}}export{$t as default};
