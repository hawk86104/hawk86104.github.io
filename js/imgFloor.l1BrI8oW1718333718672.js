import{a5 as S,q as C,aH as P,bk as v,a8 as w,bt as x,a6 as _,at as B,aE as T,B as y,o as s,c as b,a1 as m,ae as R,af as k,ad as z,aD as F,au as M,r as Z,C as n,J as i,a as l,T as $,ag as A,ak as p,ac as f}from"./vendor.V7oUbPUv1718333718672.js";import{_ as D}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.qTBmD9Dq1718333718672.js";import"./dither.glsl.y2WXw1t-1718333718672.js";import"./Reflector.Lc38wQlj1718333718672.js";import"./OimoPhysicsBuffer.b5DejoFC1718333718672.js";const G=["rotation-x"],N=["args"],d=S({__name:"imgFloor",props:{size:{default:[10,10]},imgSrcPath:{},color:{default:"#fff"},opacity:{default:.95},rotationZ:{default:.01},textureRepeat:{default:[1,1]}},async setup(g){let r,a;const t=C(),{onLoop:h}=z();h(()=>{t.value&&(t.value.rotation.z+=e.rotationZ)});const e=g,o=([r,a]=P(()=>v([e.imgSrcPath])),r=await r,a(),r);o.colorSpace=w,o.wrapS=x,o.wrapT=x,o.repeat.set(e.textureRepeat[0],e.textureRepeat[1]);const u=_({color:e.color,map:o,side:B,transparent:!0,opacity:e.opacity,blending:T,depthTest:!1});return y(()=>e.color,c=>{u.color=new F(c)}),y(()=>e.opacity,c=>{u.opacity=c}),(c,L)=>(s(),b("TresMesh",{ref_key:"tmRef",ref:t,"rotation-x":-Math.PI/2},[m("TresPlaneGeometry",{args:e.size},null,8,N),m("TresMeshBasicMaterial",R(k(u)),null,16)],8,G))}}),E=m("TresPerspectiveCamera",{position:[15,20,0],fov:45,near:.1,far:1e4},null,-1),H=m("TresAmbientLight",{intensity:6},null,-1),j=S({__name:"imgFloor",setup(g){const r=_({reflectivity:2.6,showGridHelper:!1,scale:4}),a=_({color:"#fff",opacity:.95,rotationZ:.01}),t=new M;return t.addBinding(a,"color",{label:"颜色"}),t.addBinding(a,"opacity",{label:"透明度",min:0,max:1,step:.01}),t.addBinding(a,"rotationZ",{label:"自转速度",min:-.1,max:.1,step:.01}),(h,e)=>{const o=Z("TresCanvas");return s(),n(o,{clearColor:"#201919","window-size":""},{default:i(()=>[E,l($(A),{enableDamping:""}),H,(s(),n(p,null,{default:i(()=>[l(d,f({position:[2,-2,2]},a,{imgSrcPath:"./plugins/floor/image/imgFloor1.png"}),null,16)]),_:1})),(s(),n(p,null,{default:i(()=>[l(d,f({position:[2,0,2]},a,{imgSrcPath:"./plugins/floor/image/imgFloor2.png"}),null,16)]),_:1})),(s(),n(p,null,{default:i(()=>[l(d,{position:[-2,0,-2],imgSrcPath:"./plugins/floor/image/imgFloor3.png"})]),_:1})),(s(),n(p,null,{default:i(()=>[l(D,f({position:[0,-2,0]},r),null,16)]),_:1}))]),_:1})}}});export{j as default};
