import{k as t}from"./@tresjs.lftldzUe1733214749102.js";import{cv as n,_ as e,k as o,a as s,s as r,aP as i,aF as c,$ as a,bU as u,ak as l,am as p}from"./three.aWgA1gea1733214749102.js";import{P as f}from"./tweakpane.yHWGBmom1733214749102.js";import{a as d}from"./index.lVnY7P4X1733214749102.js";import"./index.71UrRKXp1733214749102.js";import{_ as g}from"./gridPlusCom.vue_vue_type_script_setup_true_lang.me4twjRF1733214749102.js";import{d as m,r as h,X as _,s as w,q as v,e as x,o as j,D as y,j as b,g as I,J as k,u as M,m as B,f as F,al as S,I as T}from"./@vue.-THQH3GC1733214749102.js";import{_ as C}from"./@fesjs.Of4PiCSw1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./three-stdlib.kzq9IQVk1733214749102.js";import"./@pmndrs.EXEjBNTl1733214749102.js";import"./object-hash.qVCBUHAu1733214749102.js";import"./@amap.ICsgtrgy1733214749102.js";import"./jszip._enF9xwA1733214749102.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.V1EyDJrW1733214749102.js";import"./all.three.xz7w2iRS1733214749102.js";import"./oimophysics.x0jH7fze1733214749102.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.AFROaWQU1733214749102.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.anW_P6yc1733214749102.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.omPtp8bl1733214749102.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.WU7Z9XmE1733214749102.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.5F-Vp0T91733214749102.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.pqmSga7w1733214749102.js";import"./vue-router.lCq72hq_1733214749102.js";import"./lodash-es.kYt-_xTG1733214749102.js";import"./@qlin.yHhFDldE1733214749102.js";import"./pinia.YZvRaeWc1733214749102.js";import"./vue-demi.C4xddsk91733214749102.js";import"./@floating-ui.BPbuo5Gx1733214749102.js";import"./@juggle.7yjBMqoW1733214749102.js";const z=D;!function(t,n){const e=D,o=E();for(;;)try{if(570306===parseInt(e(184))/1+-parseInt(e(174))/2+-parseInt(e(132))/3*(parseInt(e(168))/4)+parseInt(e(163))/5+-parseInt(e(130))/6*(parseInt(e(157))/7)+-parseInt(e(179))/8+-parseInt(e(131))/9*(-parseInt(e(142))/10))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(134)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=D,n=new RegExp(t(146)),e=new RegExp(t(129),"i"),o=P("init");n.test(o+t(141))&&e.test(o+t(133))?P():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[D(134)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(t,n){const e=E();return(D=function(t,n){return e[t-=123]})(t,n)}function E(){const t=["constructor","1093522uGZuMG","console","action","log","position","2439544thMzMn","table","Vector3","setXY","max","54952nSTipi","computeBoundingBox","drawImportSpecialBoard","receiveShadow","material","string","rotation","prototype","Shape","#AFAFAD",'{}.constructor("return this")( )',"min","count","getY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","61824jwbBBn","5805288feAkOK","543SzMNUb","input","apply","info","exception","negate","__proto__","MeshBasicMaterial","name","chain","40UkfpWF","warn","boundingBox","while (true) {}","function *\\( *\\)","getX","attributes","length","trace","mBoundingBox","bind","EdgesGeometry","call","geometry","LineSegments","217yakMbk","copy","paths","stateObject","LineBasicMaterial","return (function() ","464925XgIEAL","debu","push","Vector2","ExtrudeGeometry","21804MvuTso","toString","holes","gger","renderOrder"];return(E=function(){return t})()}X(void 0,(function(){const t=D;let n;try{n=Function(t(162)+t(125)+");")()}catch(s){n=window}const e=n.console=n[t(175)]||{},o=[t(177),t(143),t(135),"error",t(136),t(180),t(150)];for(let r=0;r<o.length;r++){const n=X[t(173)][t(191)].bind(X),s=o[r],i=e[s]||n;n[t(138)]=X.bind(X),n[t(169)]=i[t(169)][t(152)](i),e[s]=n}}))();class R{constructor(t){this[D(140)]=t}[z(186)](t,c,a){const u=z,l=(new n).parse(c),p=new(e[u(123)]);l[u(159)].forEach(((t,n)=>{t.toShapes(!0).forEach(((t,e)=>{const o=D;0===n&&0===e?p[o(158)](t):p[o(170)][o(165)](t)}))}));const f=new(e[u(167)])(p,{depth:18,bevelEnabled:!1});f[u(185)]();const d=f[u(144)].getCenter(new(e[u(181)]))[u(137)]();f.translate(d.x,d.y,d.z),f.computeBoundingBox();const g=f.boundingBox[u(183)],m=f[u(144)][u(126)],h=new o(0-m.x,0-m.y),_=new(e[u(166)])(g.x-m.x,g.y-m.y);f[u(148)].uv=new s(new Float32Array(2*f[u(148)][u(178)][u(127)]),2);for(let n=0;n<f[u(148)][u(178)][u(127)];n++){const t=f[u(148)][u(178)][u(147)](n),e=f[u(148)].position[u(128)](n);f[u(148)].uv[u(182)](n,(t+h.x)/_.x,(e+h.y)/_.y)}const w=new(e[u(139)])({map:null}),v=new r(f,w);v[u(188)]=new i({map:null,color:u(124),roughness:1,metalness:.1,envMapIntensity:2.5}),v[u(187)]=!0,v.castShadow=!0,v[u(178)].x=a,v[u(178)].y=250;const x=new(e[u(161)])({color:0}),j=new(e[u(153)])(v[u(155)],1),y=new(e[u(156)])(j,x);y[u(172)]=1,y[u(178)][u(158)](v.position),y[u(190)][u(158)](v.rotation),v[u(151)]=y,t.add(v,v[u(151)])}}function P(t){function n(t){const e=D;if(typeof t===e(189))return function(t){}.constructor(e(145)).apply("counter");1!==(""+t/t)[e(149)]||t%20==0?function(){return!0}[e(173)](e(164)+e(171))[e(154)](e(176)):function(){return!1}.constructor("debu"+e(171))[e(134)](e(160)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const V=$;!function(t,n){const e=$,o=L();for(;;)try{if(333130===parseInt(e(261))/1*(-parseInt(e(310))/2)+parseInt(e(288))/3*(-parseInt(e(270))/4)+-parseInt(e(222))/5*(parseInt(e(290))/6)+-parseInt(e(239))/7+-parseInt(e(286))/8+parseInt(e(279))/9*(-parseInt(e(230))/10)+-parseInt(e(211))/11*(-parseInt(e(281))/12))break;o.push(o.shift())}catch(s){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(233)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=$,n=new RegExp(t(220)),e=new RegExp(t(276),"i"),o=O(t(303));n.test(o+t(294))&&e.test(o+"input")?O():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(233)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function L(){const t=["78exXjNX","prototype","131352DfPpOI","remove","导入dxf","plugins/dxf2mesh/lib/dxf2svg/DXFcolors.js","chain","svg-display","then","debu","TresMeshBasicMaterial","warn","初始化","dialogVisible","action","init","addFolder","querySelector","http://www.inkscape.org/namespaces/inkscape","1.1","#ffffff","value","4HUvCMH","appendChild"," 时出错","11WKDslI","main-svg","click","type","xMidYMid meet","fileInput","counter","constructor","#776A8F","function *\\( *\\)","pos-y.jpg","65pXRcQl","neg-y.jpg","head","TresBoxGeometry","_blank","pos-z.jpg","string","dialogDiv","30RuZawP","TresMesh","http://www.w3.org/2000/svg","apply","length","#3a78a2","dxfFileInput","TresDirectionalLight","text/javascript","1879997MMXIuV","plugins/dxf2mesh/lib/dxf2svg/doXPathQueryX.js","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","plugins/dxf2mesh/lib/dxf2svg/LIBRARYextract.js","onload",'{}.constructor("return this")( )',"svg","TresGridHelper","createElement","translate(50, 50)","script","outerHTML","div","toString","footBtn","addButton","neg-z.jpg","exception","error","TresCanvas","src","children","81097FgTnSI","add","10000","trace","#627179","assembly","dxf2svg","open","bind","63632XIjEli","file","blue","console","下载测试文件1","#svg-display svg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","button","加载脚本 ","644067UPCvhg","groupRef","23950932maqwPt","pen1","__proto__","return (function() ","gger","2552984hVqFmL","drawImportSpecialBoard"];return(L=function(){return t})()}q(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(284)+t(244)+");")()}catch(e){n=window}return n}(),e=n[t(273)]=n[t(273)]||{},o=["log",t(299),"info",t(257),t(256),"table",t(264)];for(let s=0;s<o[t(234)];s++){const n=q[t(218)][t(289)][t(269)](q),r=o[s],i=e[r]||n;n[t(283)]=q.bind(q),n[t(252)]=i[t(252)].bind(i),e[r]=n}}))();const U={key:0,class:V(229)},Z={class:V(253)};function $(t,n){const e=L();return($=function(t,n){return e[t-=210]})(t,n)}function O(t){function n(t){const e=$;if(typeof t===e(228))return function(t){}[e(218)]("while (true) {}")[e(233)](e(217));1!==(""+t/t)[e(234)]||t%20==0?function(){return!0}[e(218)](e(297)+e(285)).call(e(302)):function(){return!1}[e(218)](e(297)+e(285)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Y=C(m({__name:"dxf2meshPage",setup(n){const e=V,o=h({dialogVisible:!1}),s={clearColor:"#82DBC5",shadows:!0,alpha:!1,shadowMapType:u,outputColorSpace:l,toneMapping:p},i=h({cellSize:60,cellThickness:1.1,cellColor:e(265),sectionColor:e(235),sectionSize:240,sectionThickness:1.8,fadeDistance:1e4,fadeStrength:.76,followCamera:!1,infiniteGrid:!0});let m=0;const C=_(),z=_(),A=new f;A[e(254)]({title:e(274)}).on(e(213),(()=>{const t=e;window[t(268)]("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi1.dxf",t(226))})),A[e(254)]({title:"下载测试文件2"}).on(e(213),(()=>{const t=e;window.open("https://opensource.icegl.cn/plugins/dxf2mesh/dxf/ceshi2.dxf",t(226))}));const X=A[e(304)]({title:"远近"});function D(){const t=e,n=z[t(309)];o.dialogVisible=!1;const s=document[t(305)](t(275));if(s){const e=s[t(250)];let o=new R;m+=1200,o[t(287)](n,e,m)}}function E(t){return new Promise(((n,e)=>{const o=$,s=document[o(247)](o(249));s[o(259)]=t,s[o(214)]=o(238),s[o(243)]=()=>n(),s.onerror=()=>e(new Error(o(278)+t+o(210))),document[o(224)][o(311)](s)}))}return X[e(254)]({title:e(292)}).on(e(213),(()=>{o[e(301)]=!0,w((()=>{window.localFileReader.init()}))})),X[e(254)]({title:e(300)}).on(e(213),(()=>{!function(){const t=e,n=new c(500,500,18),o=new a({color:t(272)}),s=new r(n,o),i=z.value;for(;i[t(260)].length>0;){const n=i[t(260)][0];i[t(291)](n)}i[t(262)](s)}()})),v((()=>{!function(){const t=e;E(t(242))[t(296)]((()=>E(t(240))))[t(296)]((()=>E(t(293))))[t(296)]((()=>E("plugins/dxf2mesh/lib/dxf2svg/DXFsequences.js"))).then((()=>E("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg.js"))).then((()=>E("plugins/dxf2mesh/lib/dxf2svg/dxf2tbl2svg_UI.js"))).catch((t=>console.error("加载脚本时出错",t)))}()})),(n,r)=>{const c=e,a=x(c(258));return j(),y(c(251),null,[b(a,B(s,{"window-size":""}),{default:I((()=>[r[2]||(r[2]=k("TresPerspectiveCamera",{position:[0,1e3,4e3],fov:60,near:.1,far:1e6},null,-1)),b(M(t),{"make-default":""}),r[3]||(r[3]=k(c(246),{position:[0,-1,0],size:"1000",divisions:c(263)},null,-1)),k("TresGroup",{ref_key:c(280),ref:z,position:[2,250,0]},[k(c(231),{ref_key:"boxMeshRef",ref:C},r[1]||(r[1]=[k(c(225),{args:[500,500,18]},null,-1),k(c(298),{color:"blue"},null,-1)]),512)],512),r[4]||(r[4]=k("TresAmbientLight",{color:c(308),intensity:1},null,-1)),r[5]||(r[5]=k(c(237),{color:c(308),position:[300,300,250],intensity:6},null,-1)),b(M(g),B({args:[3,3]},i,{position:[0,-.5,0]}),null,16),(j(),F(S,null,{default:I((()=>[b(M(d),{files:["pos-x.jpg","neg-x.jpg",c(221),c(223),c(227),c(255)],path:c(241)})])),_:1}))])),_:1},16),o.dialogVisible?(j(),y(c(251),U,[r[6]||(r[6]=k(c(251),{id:c(295),class:c(266),style:{}},[k(c(245),{id:c(212),xmlns:c(232),"xmlns:svg":"http://www.w3.org/2000/svg","xmlns:inkscape":c(306),version:c(307),preserveAspectRatio:c(215)},[k("g",{id:c(267),class:c(282),"stroke-width":"6",fill:c(219),transform:c(248)})])],-1)),r[7]||(r[7]=k(c(251),{class:c(216)},[k("input",{id:c(236),type:c(271)})],-1)),k(c(251),Z,[k(c(277),{onClick:r[0]||(r[0]=t=>o.dialogVisible=!1)},"取消"),k(c(277),{onClick:D},"确定")])])):T("",!0)])}}}),[["__scopeId","data-v-9af703c5"]]);export{Y as default};
