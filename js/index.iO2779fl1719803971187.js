var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.0znOHpFl1719803971187.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.uAs378Kt1719803971187.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.l1dxJXYM1719803971187.js";import{j as o,U as s,C as l,k as c,W as u,ba as p,h as f,a5 as x,V as v,aj as m}from"./three.BsQyBKrV1719803971187.js";import{a as w,r as h}from"./@tresjs.rn1P_YDI1719803971187.js";import{u as g}from"./index.ABG0hjuI1719803971187.js";import{F as y,C as d}from"./three-stdlib.vwixL4nl1719803971187.js";import{d as S}from"./@vue.CpOXM7bB1719803971187.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.mgGILrvK1719803971187.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.VPe_FRYd1719803971187.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.WJPZIY9H1719803971187.js";function P(t,e){const n=I();return(P=function(t,e){return n[t-=166]})(t,e)}const _=P;!function(t,e){const n=P,i=I();for(;;)try{if(335602===-parseInt(n(172))/1*(-parseInt(n(175))/2)+parseInt(n(170))/3+parseInt(n(176))/4+parseInt(n(198))/5+parseInt(n(186))/6*(parseInt(n(193))/7)+-parseInt(n(191))/8*(parseInt(n(174))/9)+-parseInt(n(184))/10)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(195)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=P,e=new RegExp(t(181)),n=new RegExp(t(177),"i"),i=M(t(196));e[t(166)](i+"chain")&&n[t(166)](i+t(185))?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[P(195)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function I(){const t=["trace","test","call","string","bind","1361688iZeGcD","while (true) {}","3ltJTPy",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"287451svoFHE","143662LXyTfj","2352824SotEOa","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","table","length","function *\\( *\\)","constructor","__proto__","12549350eXESgB","input","40164pNdCnK","return (function() ",'{}.constructor("return this")( )',"gger","log","168BHrigX","error","609SuyRWD","prototype","apply","init","stateObject","2106415bAlaFk","console"];return(I=function(){return t})()}b(void 0,(function(){const t=P,e=function(){const t=P;let e;try{e=Function(t(187)+t(188)+");")()}catch(n){e=window}return e}(),n=e[t(199)]=e.console||{},i=[t(190),"warn","info",t(192),"exception",t(179),t(200)];for(let r=0;r<i[t(180)];r++){const e=b[t(182)][t(194)][t(169)](b),a=i[r],o=n[a]||e;e[t(183)]=b[t(169)](b),e.toString=o[t(178)].bind(o),n[a]=e}}))();const E=_(173);function M(t){function e(t){const n=P;if(typeof t===n(168))return function(t){}[n(182)](n(171))[n(195)]("counter");1!==(""+t/t)[n(180)]||t%20==0?function(){return!0}[n(182)]("debu"+n(189))[n(167)]("action"):function(){return!1}.constructor("debu"+n(189))[n(195)](n(197)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=L;!function(t,e){const n=L,i=j();for(;;)try{if(643772===parseInt(n(458))/1+-parseInt(n(470))/2*(-parseInt(n(471))/3)+-parseInt(n(467))/4+-parseInt(n(447))/5*(parseInt(n(454))/6)+-parseInt(n(446))/7+parseInt(n(451))/8+parseInt(n(476))/9)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[L(461)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function L(t,e){const n=j();return(L=function(t,e){return n[t-=443]})(t,e)}!function(){D(this,(function(){const t=L,e=new RegExp(t(448)),n=new RegExp(t(466),"i"),i=O(t(477));e[t(449)](i+t(479))&&n[t(449)](i+"input")?O():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(){const t=["constructor","6UVGOhf","defines","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","warn","685683WWYyeE","bind","action","apply","trace","error","while (true) {}","gger","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1085040csveIk","uniforms","toString","26642RtWjWM","24PfwwIi","__proto__","string","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","length","7487460TNCFWf","init","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","chain","console","debu","call","prototype","stateObject","return (function() ","counter",'{}.constructor("return this")( )',"table","7670810ZMcybb","3489385mOUvML","function *\\( *\\)","test","exception","8676384wMpAWK","clone"];return(j=function(){return t})()}function T(t){const e=L,n=a({},t);return"defines"in t&&(n.defines=a({},t[e(455)])),e(468)in t&&(n[e(468)]=s[e(452)](t[e(468)])),n}U(void 0,(function(){const t=L;let e;try{e=Function(t(485)+t(444)+");")()}catch(r){e=window}const n=e[t(480)]=e.console||{},i=["log",t(457),"info",t(463),t(450),t(445),t(462)];for(let a=0;a<i[t(475)];a++){const e=U[t(453)][t(483)][t(459)](U),r=i[a],o=n[r]||e;e[t(472)]=U[t(459)](U),e[t(469)]=o[t(469)][t(459)](o),n[r]=e}}))();const V={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:A(456),fragmentShader:A(478)+E+A(474)};function O(t){function e(t){const n=L;if(typeof t===n(473))return function(t){}[n(453)](n(464))[n(461)](n(443));1!==(""+t/t)[n(475)]||t%20==0?function(){return!0}[n(453)](n(481)+n(465))[n(482)](n(460)):function(){return!1}[n(453)]("debu"+n(465))[n(461)](n(484)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function W(t,e){const n=R();return(W=function(t,e){return n[t-=100]})(t,e)}const C=W;function R(){const t=["set","uniforms","316414Fwstao","trace","autoClear","10VZAanX",'{}.constructor("return this")( )',"fragmentShader","16024XJrhYR","getClearColor","console","_swapTarget","copy","log","setRenderTarget","test","2PMqCnX","call","stateObject","apply","magFilter","table","toString","render","5Oyqqch","bind","while (true) {}","_mipQuad","material","value","parentLevel","update","image","setClearAlpha","195TBIrza","info","4596064XxYvBX","replace","Y_IS_EVEN","chain","debu","camera","_mipMaterials","function *\\( *\\)","map","floor","init","847584rxynJu","action","constructor","floorPowerOfTwo","X_IS_EVEN","2048658uTbvdg","defines","setSize","gger","setViewOffset","1731793UTVGKr","height","input","texture","setClearColor","_copyQuad","warn","type","counter","forEach","1240506qipmFZ","getClearAlpha","parentMapSize","length","prototype","dispose"];return(R=function(){return t})()}!function(t,e){const n=W,i=R();for(;;)try{if(186080===-parseInt(n(136))/1*(parseInt(n(150))/2)+-parseInt(n(168))/3*(parseInt(n(142))/4)+parseInt(n(158))/5*(parseInt(n(113))/6)+parseInt(n(118))/7+-parseInt(n(108))/8+-parseInt(n(128))/9+-parseInt(n(139))/10*(-parseInt(n(170))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=W,e=new RegExp(t(104)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=F(t(107));e[t(149)](i+t(100))&&n[t(149)](i+t(120))?F():i("0")}))()}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[W(153)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();N(void 0,(function(){const t=W;let e;try{e=Function("return (function() "+t(140)+");")()}catch(r){e=window}const n=e[t(144)]=e[t(144)]||{},i=[t(147),t(124),t(169),"error","exception",t(155),t(137)];for(let a=0;a<i[t(131)];a++){const e=N[t(110)][t(132)][t(159)](N),r=i[a],o=n[r]||e;e.__proto__=N[t(159)](N),e[t(156)]=o.toString[t(159)](o),n[r]=e}}))();const Z=new l;class X{constructor(t){const e=W;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=T(V);n[e(141)]=n[e(141)][e(171)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0].defines[e(112)]=0,i[0].defines[e(172)]=0,i[1]=new c(T(n)),i[1][e(114)].X_IS_EVEN=1,i[1][e(114)].Y_IS_EVEN=0,i[2]=new c(T(n)),i[2][e(114)][e(112)]=0,i[2][e(114)].Y_IS_EVEN=1,i[3]=new c(T(n)),i[3][e(114)][e(112)]=1,i[3][e(114)].Y_IS_EVEN=1;const r=new u;r[e(121)].minFilter=p,r[e(121)][e(154)]=p,this._swapTarget=r,this[e(123)]=new y(new c(d)),this[e(161)]=new y(null),this[e(103)]=i}[C(165)](t,e,n,i=!1){const r=C;t.isWebGLRenderTarget&&(t=t[r(121)]);const o=n.autoClear,s=n[r(129)](),l=n.getRenderTarget();n[r(143)](Z);const c=this[r(123)],u=this[r(161)],p=this._swapTarget,x=this._mipMaterials;let v,m;i?(v=f[r(111)](t[r(166)].width),m=f[r(111)](t[r(166)][r(119)])):(v=Math[r(106)](t[r(166)].width),m=Math[r(106)](t[r(166)][r(119)]));const w=Math[r(106)](1.5*v),h=Math.floor(m);e[r(115)](w,h),p[r(121)][r(125)]!==e[r(121)][r(125)]?(p[r(133)](),p[r(146)](e),p[r(121)][r(166)]=a({},p[r(121)][r(166)])):p[r(115)](w,h),n[r(138)]=!1,n.setClearColor(0),n[r(167)](),c[r(162)][r(135)].tDiffuse[r(163)]=t,c[r(102)][r(117)](v,m,0,0,w,h),n[r(148)](e),n.clear(),c[r(157)](n),n[r(148)](p),n.clear(),c[r(157)](n);let g=v,y=m,d=0;for(;g>1&&y>1;){const t=x[(g%2==0?1:0)|(y%2==0?2:0)];t.uniforms[r(105)][r(163)]=p[r(121)],t[r(135)][r(164)].value=d,t.uniforms[r(130)][r(163)][r(134)](g,y),t[r(135)].originalMapSize.value[r(134)](v,m),u.material=t,g=Math.floor(g/2),y=Math[r(106)](y/2);const i=h-2*y;n[r(148)](e),u[r(102)][r(117)](g,y,-v,-i,w,h),u[r(157)](n),n[r(148)](p),t.uniforms.map.value=e.texture,u[r(157)](n),d++}return n[r(148)](l),n[r(167)](s),n[r(122)](Z),n.autoClear=o,d+1}[C(133)](){const t=C;this[t(145)][t(133)](),this[t(161)][t(133)](),this[t(123)].dispose(),this[t(103)][t(127)]((e=>e[t(133)]()))}}function F(t){function e(t){const n=W;if("string"==typeof t)return function(t){}[n(110)](n(160))[n(153)](n(126));1!==(""+t/t)[n(131)]||t%20==0?function(){return!0}.constructor(n(101)+n(116))[n(151)](n(109)):function(){return!1}[n(110)](n(101)+n(116))[n(153)](n(152)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Y=Q;!function(t,e){const n=Q,i=G();for(;;)try{if(155887===-parseInt(n(503))/1*(parseInt(n(517))/2)+parseInt(n(526))/3*(parseInt(n(537))/4)+parseInt(n(479))/5*(parseInt(n(527))/6)+parseInt(n(530))/7*(-parseInt(n(518))/8)+parseInt(n(525))/9*(-parseInt(n(519))/10)+parseInt(n(500))/11+-parseInt(n(469))/12)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Q(538)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){H(this,(function(){const t=Q,e=new RegExp(t(476)),n=new RegExp(t(498),"i"),i=q(t(472));e.test(i+"chain")&&n[t(529)](i+t(501))?q():i("0")}))()}();const B=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function G(){const t=["2801880QTKvNH","Vector4","parent","init","toString","Plane","value","function *\\( *\\)","clear","UnsignedByteType","853095MYhzua","constructor","visible","PerspectiveCamera","console","return (function() ","reflect","bind","multiply","reflectorMipMap","while (true) {}","negate",'{}.constructor("return this")( )',"multiplyScalar","prototype","getWorldPosition","getWorldQuaternion","exception","lookAt","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","1541716xluqzX","input","set","3wWACQa","elements","projectionMatrix","buffers","sub","ignoreObjects","gger","setMask","action","updateMatrixWorld","setRenderTarget","trace","update","add","39628jUWOUY","736KdCasn","10PuMzMx","matrixWorld","log","Vector3","call","applyQuaternion","722457ZjmfBs","705BBjLpv","6awdbFL","stateObject","test","4613YDZYmA","copy","table","normal","applyMatrix4","warn","sign","4748JGBOGl","apply","forEach","state","clone","Quaternion","counter","Matrix4","error","projectPoint","resolution","info","matrixWorldInverse","dot","length"];return(G=function(){return t})()}B(void 0,(function(){const t=Q;let e;try{e=Function(t(484)+t(491)+");")()}catch(r){e=window}const n=e[t(483)]=e[t(483)]||{},i=[t(521),t(535),t(465),t(545),t(496),t(532),t(514)];for(let a=0;a<i[t(468)];a++){const e=B.constructor[t(493)][t(486)](B),r=i[a],o=n[r]||e;e.__proto__=B[t(486)](B),e[t(473)]=o[t(473)][t(486)](o),n[r]=e}}))();const $=S({__name:Y(488),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Y,i=t,r=new(x[n(474)]),a=new(x[n(544)]),o=new(x[n(482)]),s=new X,l=g({width:i[n(464)],height:i.resolution,settings:{type:x[n(478)]}}),c=g({width:i[n(464)],height:i.resolution,settings:{type:x[n(478)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:y}=h();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(475)])return;r[t(502)](new v(0,1,0),0),r[t(534)](i.parent[t(520)]),o[t(531)](u.value);const e=new(x[t(522)])(0,0,1).clone()[t(490)](),s=u[t(475)][t(494)](new(x[t(522)]));e[t(485)](r[t(533)]);const c=new(x[t(522)]);r[t(546)](s,c);const w=c[t(541)]();w.sub(s),w[t(516)](c),o.position[t(531)](w);const h=new(x[t(522)])(0,0,-1);h[t(524)](u.value[t(495)](new(x[t(542)]))),h[t(516)](s);const g=new(x[t(522)]);i[t(471)].getWorldPosition(g),g[t(507)](h),g[t(485)](r[t(533)]).negate(),g[t(516)](i[t(471)].getWorldPosition(new v)),o.up[t(502)](0,1,0),o.applyQuaternion(u[t(475)][t(495)](new(x[t(542)]))),o.up[t(485)](r[t(533)]),o[t(497)](g),o[t(512)]();const y=new(x[t(544)]);y[t(502)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(487)](o.projectionMatrix),y.multiply(o[t(466)]),a[t(531)](y),r[t(534)](o.matrixWorldInverse);const d=new(x[t(470)])(r[t(533)].x,r[t(533)].y,r[t(533)].z,r.constant),S=o[t(505)],P=new m;P.x=(Math[t(536)](d.x)+S[t(504)][8])/S[t(504)][0],P.y=(Math[t(536)](d.y)+S[t(504)][9])/S.elements[5],P.z=-1,P.w=(1+S[t(504)][10])/S[t(504)][14],d[t(492)](2/d[t(467)](P)),S[t(504)][2]=d.x,S.elements[6]=d.y,S.elements[10]=d.z+1,S[t(504)][14]=d.w;const _=p.value.getRenderTarget();p[t(475)].setRenderTarget(l.value),p[t(475)][t(540)][t(506)].depth[t(510)](!0),!1===p[t(475)].autoClear&&p[t(475)][t(477)](),i.ignoreObjects[t(539)]((t=>t.visible=!1)),p[t(475)].render(f.value,o),i[t(508)].forEach((e=>e[t(481)]=!0)),p[t(475)][t(513)](_)})(),l.value&&c[t(475)]&&p[t(475)]&&s[t(515)](l[t(475)].texture,c[t(475)],p.value)})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function Q(t,e){const n=G();return(Q=function(t,e){return n[t-=464]})(t,e)}function q(t){function e(t){const n=Q;if("string"==typeof t)return function(t){}[n(480)](n(489)).apply(n(543));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(499)+n(509))[n(523)](n(511)):function(){return!1}.constructor(n(499)+n(509))[n(538)](n(528)),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=tt,i=et();;)try{if(798346===-parseInt(n(125))/1*(-parseInt(n(149))/2)+parseInt(n(122))/3+-parseInt(n(135))/4+parseInt(n(115))/5+-parseInt(n(129))/6+parseInt(n(146))/7*(parseInt(n(147))/8)+parseInt(n(140))/9*(-parseInt(n(138))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var J=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(132)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){J(this,(function(){var t=tt,e=new RegExp(t(150)),n=new RegExp(t(130),"i"),i=nt(t(144));e[t(141)](i+t(117))&&n.test(i+t(139))?nt():i("0")}))()}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[tt(132)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function tt(t,e){var n=et();return(tt=function(t,e){return n[t-=115]})(t,e)}function et(){var t=["while (true) {}","5087212ccxLgX","error","call","506390UCjheD","input","126CSrXhC","test","table","debu","init","log","7803026bqZqpZ","8vcbfVi","stateObject","12242GbjUoS","function *\\( *\\)","5618000ntBPZW","bind","chain","counter","gger","length","toString","823071EeiDUy","console","return (function() ","112nuNltz","action","__proto__","trace","2514792nVcUBw","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","apply","warn"];return(et=function(){return t})()}function nt(t){function e(t){var n=tt;if("string"==typeof t)return function(t){}.constructor(n(134)).apply(n(118));1!==(""+t/t)[n(120)]||t%20==0?function(){return!0}[n(131)](n(143)+n(119))[n(137)](n(126)):function(){return!1}[n(131)](n(143)+n(119))[n(132)](n(148)),e(++t)}try{if(t)return e;e(0)}catch(n){}}K(void 0,(function(){var t,e=tt;try{t=Function(e(124)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t[e(123)]=t[e(123)]||{},i=[e(145),e(133),"info",e(136),"exception",e(142),e(128)],r=0;r<i.length;r++){var a=K[e(131)].prototype.bind(K),o=i[r],s=n[o]||a;a[e(127)]=K[e(116)](K),a[e(121)]=s[e(121)].bind(s),n[o]=a}}))();export{$ as _};
