import{_ as t,X as e,bQ as i,as as n,V as s,h as o,C as r}from"./three.jpi2UCEx1735275234726.js";function a(t,e){const i=p();return(a=function(t,e){return i[t-=393]})(t,e)}const c=a;!function(t,e){const i=a,n=p();for(;;)try{if(676057===parseInt(i(551))/1*(-parseInt(i(657))/2)+parseInt(i(587))/3+-parseInt(i(769))/4+parseInt(i(690))/5*(-parseInt(i(412))/6)+parseInt(i(612))/7*(parseInt(i(601))/8)+parseInt(i(822))/9*(parseInt(i(571))/10)+parseInt(i(775))/11*(parseInt(i(573))/12))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const h=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(786)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){h(this,(function(){const t=a,e=new RegExp(t(729)),i=new RegExp(t(830),"i"),n=d(t(709));e[t(576)](n+t(840))&&i[t(576)](n+t(477))?d():n("0")}))()}();const l=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[a(786)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();l(void 0,(function(){const t=a;let e;try{e=Function(t(488)+'{}.constructor("return this")( ));')()}catch(s){e=window}const i=e[t(483)]=e[t(483)]||{},n=["log","warn",t(688),t(486),t(496),"table","trace"];for(let o=0;o<n[t(799)];o++){const e=l[t(449)][t(784)][t(506)](l),s=n[o],r=i[s]||e;e[t(771)]=l[t(506)](l),e.toString=r[t(461)].bind(r),i[s]=e}}))();const u={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===c(504)&&define[c(500)]?define(c(617),u):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module[c(590)]=u),u[c(473)]=function(t,e,i,n){const s=c;this[s(577)]=i||1,this[s(430)]=e||1,this[s(623)]=t||Float32Array,this.array=new t(e*this[s(577)]),this[s(634)]=n||0},u[c(473)].constructor=u.TypedArrayHelper,u.TypedArrayHelper[c(784)][c(740)]=function(t,e){const i=c,n=this[i(852)][i(799)];return!e&&(t*=this.componentSize),t<n?this[i(591)](t):t>n?this.grow(t):void console.info("TypedArray is already of size:",t+".",i(593))},u[c(473)][c(784)][c(591)]=function(t){const e=c;return this.array=this[e(852)].subarray(0,t),this[e(430)]=t,this},u[c(473)][c(784)][c(716)]=function(t){const e=c,i=this.array,n=new(this[e(623)])(t);return n[e(725)](i),this[e(852)]=n,this[e(430)]=t,this},u[c(473)][c(784)][c(522)]=function(t,e){const i=c;t*=this.componentSize,e*=this.componentSize;const n=[],s=this[i(852)],o=s[i(799)];for(let r=0;r<o;++r)(r<t||r>=e)&&n[i(804)](s[r]);return this[i(658)](0,n),this},u[c(473)].prototype[c(658)]=function(t,e){const i=c,n=t+e.length;return n>this[i(852)].length?this[i(716)](n):n<this[i(852)][i(799)]&&this[i(591)](n),this[i(852)][i(725)](e,this[i(634)]+t),this},u[c(473)][c(784)][c(745)]=function(t,e){return this[c(722)](t,e.x,e.y)},u[c(473)][c(784)][c(722)]=function(t,e,i){const n=c,s=this.array,o=this[n(634)]+t*this.componentSize;return s[o]=e,s[o+1]=i,this},u[c(473)][c(784)][c(609)]=function(t,e){return this[c(759)](t,e.x,e.y,e.z)},u[c(473)][c(784)].setVec3Components=function(t,e,i,n){const s=c,o=this[s(852)],r=this[s(634)]+t*this.componentSize;return o[r]=e,o[r+1]=i,o[r+2]=n,this},u.TypedArrayHelper[c(784)].setVec4=function(t,e){return this[c(691)](t,e.x,e.y,e.z,e.w)},u[c(473)][c(784)][c(691)]=function(t,e,i,n,s){const o=c,r=this.array,a=this[o(634)]+t*this[o(577)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},u[c(473)][c(784)][c(560)]=function(t,e){const i=c;return this.setFromArray(this[i(634)]+t*this[i(577)],e.elements)},u[c(473)][c(784)].setMat4=function(t,e){const i=c;return this.setFromArray(this[i(634)]+t*this[i(577)],e.elements)},u[c(473)][c(784)][c(648)]=function(t,e){return this[c(759)](t,e.r,e.g,e.b)},u[c(473)][c(784)][c(629)]=function(t,e){const i=c;return this[i(852)][this.indexOffset+t*this[i(577)]]=e,this},u.TypedArrayHelper[c(784)][c(438)]=function(t){const e=c;return this.array[this[e(634)]+t]},u[c(473)][c(784)][c(641)]=function(t){const e=c;return this[e(852)].subarray(this[e(634)]+t*this[e(577)])},u.ShaderAttribute=function(t,e,i){const n=c,s=u.ShaderAttribute[n(685)];this[n(664)]=typeof t===n(542)&&s[n(834)](t)?t:"f",this.componentSize=s[this[n(664)]],this.arrayType=i||Float32Array,this[n(646)]=null,this.bufferAttribute=null,this[n(732)]=!!e,this.updateMin=0,this[n(581)]=0},u[c(812)][c(449)]=u[c(812)],u.ShaderAttribute[c(685)]={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},u[c(812)][c(784)][c(409)]=function(t,e){const i=c;this.updateMin=Math[i(738)](t*this[i(577)],this.updateMin*this.componentSize),this[i(581)]=Math.max(e*this[i(577)],this[i(581)]*this.componentSize)},u[c(812)].prototype[c(394)]=function(){const t=c,e=this[t(457)];!e[t(800)]&&(e[t(800)]={});const i=e[t(800)];i.offset=this[t(463)],i[t(762)]=Math[t(738)](this[t(581)]-this[t(463)]+this[t(577)],this[t(646)][t(852)][t(799)]),e[t(649)]=!0},u.ShaderAttribute[c(784)][c(541)]=function(){const t=c;this[t(463)]=0,this[t(581)]=0},u[c(812)][c(784)].resetDynamic=function(){const e=c;this[e(457)][e(611)]=this.dynamicBuffer?t[e(750)]:t[e(402)]},u[c(812)][c(784)][c(522)]=function(t,e){const i=c;this.typedArray[i(522)](t,e),this.forceUpdateAll()},u[c(812)][c(784)][c(692)]=function(){const e=c;this[e(457)][e(852)]=this[e(646)].array,this[e(457)][e(800)][e(472)]=0,this[e(457)][e(800)][e(762)]=-1,this.bufferAttribute[e(611)]=t[e(402)],this[e(457)][e(649)]=!0},u[c(812)][c(784)][c(414)]=function(t){const e=c;null!==this[e(646)]&&this[e(646)][e(430)]===t*this[e(577)]||(null!==this[e(646)]&&this.typedArray[e(430)]!==t?this[e(646)].setSize(t):null===this[e(646)]&&(this.typedArray=new u.TypedArrayHelper(this[e(519)],t,this.componentSize)))},u[c(812)][c(784)][c(518)]=function(i){const n=c;if(this[n(414)](i),null!==this[n(457)])return this[n(457)][n(852)]=this[n(646)][n(852)],parseFloat(t[n(815)])>=81&&(this.bufferAttribute[n(762)]=this[n(457)].array.length/this[n(457)].itemSize),void(this[n(457)][n(649)]=!0);this[n(457)]=new(t[n(552)])(this.typedArray[n(852)],this[n(577)]),this[n(457)].usage=this[n(732)]?e:t[n(402)]},u[c(812)][c(784)].getLength=function(){const t=c;return null===this[t(646)]?0:this[t(646)].array[t(799)]},u.shaderChunks={defines:["#define PACKED_COLOR_SIZE 256.0","#define PACKED_COLOR_DIVISOR 255.0"].join("\n"),uniforms:[c(632),c(428),c(580),c(743),"uniform float scale;"].join("\n"),attributes:[c(682),c(836),c(835),c(696),c(578),c(444),c(825),c(566),"attribute vec4 opacity;"][c(700)]("\n"),varyings:[c(458),c(791),c(655),c(626),c(768),c(474),c(626)][c(700)]("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {",c(427),"}",c(779),c(679),"}",c(796),c(824),"}","float when_ge(float x, float y) {",c(622),"}",c(831),c(819),"}","float and(float a, float b) {","    return a * b;","}",c(610),c(619),"}"][c(700)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {",c(512),c(399),c(452),"   float b = mod( hex, PACKED_COLOR_SIZE );",c(487),c(713),"   c.b = b / PACKED_COLOR_DIVISOR;","   return c;","}"][c(700)]("\n"),unpackRotationAxis:[c(529),"   vec3 c = vec3( 0.0 );",c(399),c(452),c(558),"   c.r = r / PACKED_COLOR_DIVISOR;",c(713),"   c.b = b / PACKED_COLOR_DIVISOR;",c(446),"   c -= vec3( 1.0 );",c(669),"}"][c(700)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",c(404),c(535),c(579),c(625),c(774),"",c(772),"       fIndex = float( i );",c(697),"       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );",c(766),"",c(703),"}"].join("\n"),colorOverLifetime:[c(645),"    vec3 value = vec3( 0.0 );",c(635),c(491),c(752),c(703),"}"][c(700)]("\n"),paramFetchingFunctions:["float getAlive() {",c(620),"}",c(624),c(589),"}","float getMaxAge() {","   return params.z;","}",c(847),c(783),"}"][c(700)]("\n"),forceFetchingFunctions:["vec4 getPosition( in float age ) {",c(820),"}",c(671),c(724),"}",c(807),c(828),"}"][c(700)]("\n"),rotationFunctions:[c(707),"   mat4 getRotationMatrix( in vec3 axis, in float angle) {",c(689),c(536),"       float c = cos(angle);",c(475),"",c(514),"                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,",c(437),c(850),"   }","","   vec3 getRotation( in vec3 pos, in float positionInTime ) {",c(767),c(524),c(450),"",c(710),c(662),c(537),c(749),c(684),c(739),"      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","      translated = rotationCenter - pos;",c(747),c(848),c(717),c(626)][c(700)]("\n"),rotateTexture:[c(764),"","    #ifdef SHOULD_ROTATE_TEXTURE",c(728),c(817),c(604),"       float s = sin( -vAngle );","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );",c(528),"",c(596),c(497),"        float framesY = vSpriteSheet.y;",c(795),c(572),c(441),"        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);",c(528),"",c(647)].join("\n")},u[c(798)]={vertex:[u[c(429)][c(494)],u[c(429)][c(533)],u.shaderChunks[c(842)],u[c(429)][c(643)],t[c(821)][c(434)],t[c(821)][c(479)],t[c(821)].fog_pars_vertex,u.shaderChunks[c(727)],u[c(429)][c(701)],u.shaderChunks[c(846)],u[c(429)][c(633)],u[c(429)][c(805)],u[c(429)][c(652)],u[c(429)][c(456)],u.shaderChunks[c(780)],c(424),c(548),c(565),c(478),c(714),c(597),c(853),c(445),c(482),"        float wiggleCos = isAlive * cos( wiggleAmount );",c(528),c(723),"    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );",c(832),c(694),c(708),c(420),c(405),"    #ifdef SHOULD_WIGGLE_PARTICLES",c(854),"        pos.y += wiggleCos;","        pos.z += wiggleSin;",c(528),c(754),c(811),"    #endif",c(813),c(797),"    #ifdef HAS_PERSPECTIVE",c(459),c(550),c(403),c(528),c(553),c(465),c(422),"           positionInTime,",c(663),c(534),c(748),c(639),c(755),"    #else",c(554),"    #endif",c(640),c(742),c(744),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",c(528),c(596),"        float framesX = textureAnimation.x;",c(674),c(702),c(802),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","        float column = floor(mod( frameNumber, framesX ));",c(668),c(788),c(806),c(661),"        vSpriteSheet.y = 1.0 / framesY;",c(582),c(489),"    #endif",c(844),"    gl_Position = projectionMatrix * mvPosition;",t[c(821)].logdepthbuf_vertex,t[c(821)][c(520)],"}"].join("\n"),fragment:[u[c(429)][c(533)],i.common,t[c(821)][c(693)],t[c(821)][c(736)],u.shaderChunks[c(643)],u.shaderChunks[c(727)],c(424),c(398),c(654),"    #ifdef ALPHATEST",c(816),c(528),u[c(429)][c(667)],t[c(821)][c(711)],c(753),c(613),i[c(760)],"}"][c(700)]("\n")},u[c(440)]={types:{BOOLEAN:c(814),STRING:c(542),NUMBER:c(746),OBJECT:c(653)},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=c;if(Array.isArray(t)){for(let s=t[n(799)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(417)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=c;if(Array[n(555)](t)){for(let s=t[n(799)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(436)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=c;e=e||3,i=i||3,!1===Array[n(555)](t[n(705)])&&(t._value=[t[n(705)]]),!1===Array.isArray(t[n(683)])&&(t[n(683)]=[t[n(683)]]);const s=this[n(453)](t[n(705)].length,e,i),o=this[n(453)](t[n(683)][n(799)],e,i),r=Math[n(516)](s,o);t[n(705)][n(799)]!==r&&(t[n(705)]=this[n(451)](t[n(705)],r)),t[n(683)].length!==r&&(t[n(683)]=this[n(451)](t[n(683)],r))},interpolateArray(t,e){const i=c,n=t[i(799)],s=[typeof t[0][i(829)]===i(504)?t[0][i(829)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(464)](e),a=Math[i(493)](e),c=e-n;s[r]=this[i(469)](t[n],t[a],c)}return s[i(804)](typeof t[n-1][i(829)]===i(504)?t[n-1][i(829)]():t[n-1]),s},clamp:(t,e,i)=>Math[c(516)](e,Math.min(t,i)),zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math[c(527)]()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,s){const o=c;let r,a=this[o(546)];return typeof e===a[o(676)]&&typeof i===a[o(676)]?e+(i-e)*s:e instanceof t[o(447)]&&i instanceof t[o(447)]?(r=e[o(829)](),r.x=this[o(531)](e.x,i.x,s),r.y=this[o(531)](e.y,i.y,s),r):e instanceof t[o(600)]&&i instanceof t[o(600)]?(r=e.clone(),r.x=this[o(531)](e.x,i.x,s),r.y=this[o(531)](e.y,i.y,s),r.z=this[o(531)](e.z,i.z,s),r):e instanceof n&&i instanceof t[o(480)]?(r=e[o(829)](),r.x=this.lerp(e.x,i.x,s),r.y=this[o(531)](e.y,i.y,s),r.z=this[o(531)](e.z,i.z,s),r.w=this.lerp(e.w,i.w,s),r):e instanceof t[o(659)]&&i instanceof t[o(659)]?(r=e[o(829)](),r.r=this[o(531)](e.r,i.r,s),r.g=this[o(531)](e.g,i.g,s),r.b=this[o(531)](e.b,i.b,s),r):void console[o(704)](o(614),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=c;let n=0;return 0===e?t:(n=Math[i(621)](t)%e,0===n?t:t<0?-(Math[i(621)](t)-n):t+e-n)},arrayValuesAreEqual(t){const e=c;for(let i=0;i<t[e(799)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[c(527)]()-.5),randomVector3(t,e,i,n,s){const o=c;let r=i.x+(Math[o(527)]()*n.x-.5*n.x),a=i.y+(Math[o(527)]()*n.y-.5*n.y),h=i.z+(Math[o(527)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(547)](r,s.x),a=.5*-s.y+this.roundToNearestMultiple(a,s.y),h=.5*-s.z+this[o(547)](h,s.z)),t.typedArray[o(759)](e,r,a,h)},randomColor(t,e,i,n){const s=c;let o=i.r+Math.random()*n.x,r=i.g+Math[s(527)]()*n.y,a=i.b+Math[s(527)]()*n.z;o=this[s(453)](o,0,1),r=this[s(453)](r,0,1),a=this[s(453)](a,0,1),t[s(646)][s(759)](e,o,r,a)},randomColorAsHex:function(){const e=c,i=new(t[e(659)]);return function(t,n,s,o){const r=e,a=s[r(799)],c=[];for(let e=0;e<a;++e){const t=o[e];i[r(644)](s[e]),i.r+=Math[r(527)]()*t.x-.5*t.x,i.g+=Math[r(527)]()*t.y-.5*t.y,i.b+=Math.random()*t.z-.5*t.z,i.r=this[r(453)](i.r,0,1),i.g=this[r(453)](i.g,0,1),i.b=this[r(453)](i.b,0,1),c.push(i[r(508)]())}t[r(646)][r(691)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=c,o=i.clone();o[s(531)](n,Math[s(527)]()),t[s(646)][s(759)](e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const h=c;let l=2*Math[h(527)]()-1,u=6.2832*Math[h(527)](),f=Math[h(481)](1-l*l),p=this[h(442)](n,s),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math[h(827)](u)*p,m=f*Math.sin(u)*p,g=l*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t[h(646)].setVec3Components(e,d,m,g)},seededRandom(t){const e=1e4*Math[c(505)](t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=c;let h=6.2832*Math[a(527)](),l=Math[a(621)](this[a(442)](n,s)),u=0,f=0,p=0;r&&(l=Math[a(539)](l/r)*r),u=Math[a(827)](h)*l,f=Math[a(505)](h)*l,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[a(646)][a(759)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const t=new s;return function(e,i,n,s,o,r,c,h){const l=a;t[l(644)](r),t.x-=n,t.y-=s,t.z-=o,t.normalize()[l(715)](-this[l(442)](c,h)),e.typedArray[l(759)](i,t.x,t.y,t.z)}}(),randomDirectionVector3OnDisc:function(){const e=c,i=new(t[e(600)]);return function(t,n,s,o,r,a,c,h){const l=e;i.copy(a),i.x-=s,i.y-=o,i.z-=r,i[l(660)]()[l(715)](-this[l(442)](c,h)),t[l(646)].setVec3Components(n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=c,i=new(t[e(600)]),n=new(t[e(600)]),o=new(t[e(659)]),r=new s(1,1,1);return function(t,s){const a=e;return i[a(644)](t).normalize(),n.copy(s)[a(660)](),i.x+=.5*-s.x+Math.random()*s.x,i.y+=.5*-s.y+Math[a(527)]()*s.y,i.z+=.5*-s.z+Math[a(527)]()*s.z,i[a(660)]().add(r)[a(715)](.5),o[a(770)](i.x,i.y,i.z),o[a(508)]()}}()},u.Group=function(e){const i=c,n=u[i(440)],s=n[i(546)];(e=n[i(417)](e,s.OBJECT,{})).texture=n[i(417)](e[i(421)],s.OBJECT,{}),this[i(841)]=o[i(406)](),this.fixedTimeStep=n[i(417)](e.fixedTimeStep,s[i(676)],.016),this[i(421)]=n.ensureInstanceOf(e.texture[i(564)],t[i(393)],null),this[i(585)]=n.ensureInstanceOf(e[i(421)][i(513)],t[i(447)],new(t[i(447)])(1,1)),this.textureFrameCount=n[i(417)](e[i(421)][i(530)],s.NUMBER,this[i(585)].x*this[i(585)].y),this.textureLoop=n[i(417)](e[i(421)][i(407)],s[i(676)],1),this[i(585)][i(516)](new(t[i(447)])(1,1)),this[i(507)]=n.ensureTypedArg(e[i(507)],s[i(484)],!0),this.colorize=n.ensureTypedArg(e[i(843)],s[i(484)],!0),this[i(397)]=n[i(417)](e[i(397)],s[i(676)],null),this[i(826)]=n[i(417)](e[i(826)],s[i(676)],t[i(809)]),this[i(801)]=n[i(417)](e.transparent,s.BOOLEAN,!0),this.alphaTest=parseFloat(n[i(417)](e[i(557)],s.NUMBER,0)),this[i(485)]=n[i(417)](e[i(485)],s.BOOLEAN,!1),this[i(426)]=n[i(417)](e.depthTest,s.BOOLEAN,!0),this[i(628)]=n.ensureTypedArg(e.fog,s[i(484)],!0),this.scale=n[i(417)](e[i(789)],s[i(676)],300),this.emitters=[],this[i(502)]=[],this._pool=[],this[i(845)]=null,this[i(666)]=0,this[i(583)]=!1,this[i(586)]=!1,this[i(460)]=0,this[i(533)]={tex:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new(t[i(480)])(this.textureFrames.x,this.textureFrames.y,this[i(670)],Math[i(516)](Math[i(621)](this.textureLoop),1))},fogColor:{type:"c",value:this[i(628)]?new(t[i(659)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[i(494)]={HAS_PERSPECTIVE:this[i(507)],COLORIZE:this[i(843)],VALUE_OVER_LIFETIME_LENGTH:u[i(511)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(585)].x>1||this[i(585)].y>1},this[i(842)]={position:new(u[i(812)])("v3",!0),acceleration:new u.ShaderAttribute("v4",!0),velocity:new(u[i(812)])("v3",!0),rotation:new(u[i(812)])("v4",!0),rotationCenter:new(u[i(812)])("v3",!0),params:new(u[i(812)])("v4",!0),size:new(u[i(812)])("v4",!0),angle:new(u[i(812)])("v4",!0),color:new u.ShaderAttribute("v4",!0),opacity:new u.ShaderAttribute("v4",!0)},this[i(510)]=Object[i(782)](this[i(842)]),this.attributeCount=this[i(510)][i(799)],this.material=new(t[i(718)])({uniforms:this[i(533)],vertexShader:u[i(798)].vertex,fragmentShader:u[i(798)][i(838)],blending:this[i(826)],transparent:this.transparent,alphaTest:this[i(557)],depthWrite:this.depthWrite,depthTest:this[i(426)],defines:this[i(494)],fog:this[i(628)]}),this.geometry=new(t[i(521)]),this[i(721)]=new(t[i(454)])(this.geometry,this.material),null===this[i(397)]&&console[i(704)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},u[c(411)].constructor=u.Group,u[c(411)][c(784)][c(678)]=function(){const t=c;let e,i=this[t(839)],n=i.length-1,s=this.defines;for(;n>=0;--n)e=i[n],!s.SHOULD_CALCULATE_SPRITE&&(s[t(793)]=s[t(793)]||!!Math[t(516)](Math[t(516)][t(786)](null,e[t(695)].value),Math.max[t(786)](null,e[t(695)][t(777)]))),s[t(726)]=s[t(726)]||!!Math[t(516)](e[t(544)][t(695)],e[t(544)][t(415)]),s[t(559)]=s[t(559)]||!!Math[t(516)](e[t(603)][t(564)],e.wiggle.spread);this[t(849)][t(649)]=!0},u.Group[c(784)]._applyAttributesToGeometry=function(){const t=c;let e,i,n=this[t(842)],s=this[t(803)],o=s.attributes;for(const r in n)n[t(834)](r)&&(e=n[r],i=o[r],i?i[t(852)]=e[t(646)].array:s[t(790)](r,e[t(457)]),e[t(457)][t(649)]=!0);this.geometry.setDrawRange(0,this[t(460)])},u[c(411)][c(784)].addEmitter=function(t){const e=c;if(t instanceof u[e(765)]==!1)return void console[e(486)](e(808),t);if(this.emitterIDs.indexOf(t.uuid)>-1)return void console[e(486)](e(638));if(null!==t.group)return void console[e(486)](e(509));const i=this.attributes,n=this[e(460)],s=n+t[e(460)];this[e(460)]=s,null!==this[e(397)]&&this[e(460)]>this[e(397)]&&console[e(704)]("SPE.Group: maxParticleCount exceeded. Requesting",this[e(460)],e(627),this[e(397)]),t[e(410)](t[e(616)][e(705)]+t[e(616)][e(683)]),t[e(677)](this.attributeKeys),t._setAttributeOffset(n),t[e(681)]=this,t[e(842)]=this.attributes;for(const o in i)i[e(834)](o)&&i[o][e(518)](null!==this[e(397)]?this[e(397)]:this[e(460)]);for(let o=n;o<s;++o)t[e(462)](o),t[e(642)](o,e(435)),t._assignForceValue(o,e(595)),t._assignAbsLifetimeValue(o,e(419)),t[e(673)](o,e(430)),t._assignAngleValue(o),t._assignRotationValue(o),t._assignParamsValue(o),t[e(538)](o);return this[e(737)](),this.emitters.push(t),this[e(502)].push(t[e(841)]),this[e(678)](t),this[e(849)][e(649)]=!0,this[e(803)][e(649)]=!0,this[e(583)]=!0,this},u.Group[c(784)].removeEmitter=function(t){const e=c,i=this.emitterIDs.indexOf(t[e(841)]);if(t instanceof u[e(765)]==!1)return void console[e(486)](e(808),t);if(-1===i)return void console[e(486)]("Emitter does not exist in this group. Will not remove.");const n=t.attributeOffset,s=n+t[e(460)],o=this[e(842)].params[e(646)];for(let r=n;r<s;++r)o[e(852)][4*r]=0,o[e(852)][4*r+1]=0;this[e(839)][e(522)](i,1),this[e(502)].splice(i,1);for(const r in this[e(842)])this.attributes[e(834)](r)&&this[e(842)][r][e(522)](n,s);this[e(460)]-=t[e(460)],t[e(432)](),this[e(583)]=!0},u[c(411)][c(784)][c(651)]=function(){const t=c,e=this[t(631)],i=this[t(666)];if(e[t(799)])return e[t(439)]();if(i){const e=new(u[t(765)])(this[t(845)]);return this[t(408)](e),e}return null},u[c(411)][c(784)][c(470)]=function(t){const e=c;if(t instanceof u[e(765)]!=!1)return t[e(598)](),this[e(631)][e(630)](t),this;console.error(e(569),t)},u[c(411)][c(784)][c(570)]=function(){return this[c(631)]},u[c(411)][c(784)][c(606)]=function(t,e,i){const n=c;let s;this[n(845)]=e,this[n(666)]=!!i;for(let o=0;o<t;++o)s=Array[n(555)](e)?new(u[n(765)])(e[o]):new u.Emitter(e),this[n(408)](s),this[n(470)](s);return this},u[c(411)][c(784)][c(466)]=function(e){const i=c,n=this[i(651)](),s=this;if(null!==n)return e instanceof t[i(600)]&&(n[i(526)][i(564)][i(644)](e),n[i(526)].value=n[i(526)][i(564)]),n[i(787)](),setTimeout((()=>{const t=i;n[t(778)](),s[t(470)](n)}),1e3*Math[i(516)](n[i(818)],n[i(616)][i(564)]+n[i(616)][i(777)])),this;console[i(471)](i(423))},u[c(411)][c(784)][c(615)]=function(t,e){const i=c;if(typeof t===i(746)&&t>1)for(let n=0;n<t;++n)this[i(466)](e);else this[i(466)](e);return this},u[c(411)].prototype._updateUniforms=function(t){const e=c;this[e(533)][e(396)][e(564)]+=t,this[e(533)].deltaTime[e(564)]=t},u[c(411)][c(784)][c(851)]=function(){let t=this.attributeKeys,e=this.attributeCount-1,i=this.attributes;for(;e>=0;--e)i[t[e]].resetUpdateRange()},u[c(411)].prototype[c(495)]=function(t){const e=c;let i,n,s,o=this[e(510)],r=this.attributeCount-1,a=this[e(842)],h=t.bufferUpdateRanges;for(;r>=0;--r)i=o[r],n=h[i],s=a[i],s[e(409)](n[e(738)],n[e(516)]),s[e(394)]()},u[c(411)][c(784)][c(492)]=function(t){const e=c;var i=this[e(839)],n=i[e(799)],s=t||this[e(443)],o=this[e(510)],r=this[e(842)];if(this._updateUniforms(s),this[e(851)](),0!==n||!1!==this[e(583)]||!1!==this[e(586)]){for(var a,h=0;h<n;++h)(a=i[h]).tick(s),this._updateBuffers(a);if(!0===this._attributesNeedDynamicReset){for(h=this[e(532)]-1;h>=0;--h)r[o[h]][e(823)]();this[e(586)]=!1}if(!0===this._attributesNeedRefresh){for(h=this[e(532)]-1;h>=0;--h)r[o[h]][e(692)]();this[e(583)]=!1,this[e(586)]=!0}}},u[c(411)].prototype[c(785)]=function(){const t=c;return this.geometry[t(785)](),this[t(849)][t(785)](),this},u[c(765)]=function(e){const i=c,n=u[i(440)],o=n[i(546)],a=u.valueOverLifetimeLength;(e=n[i(417)](e,o[i(699)],{}))[i(526)]=n[i(417)](e[i(526)],o[i(699)],{}),e[i(435)]=n[i(417)](e.velocity,o.OBJECT,{}),e[i(595)]=n[i(417)](e[i(595)],o[i(699)],{}),e[i(656)]=n[i(417)](e[i(656)],o[i(699)],{}),e[i(476)]=n[i(417)](e[i(476)],o[i(699)],{}),e[i(544)]=n[i(417)](e[i(544)],o[i(699)],{}),e[i(602)]=n[i(417)](e[i(602)],o[i(699)],{}),e[i(419)]=n[i(417)](e[i(419)],o[i(699)],{}),e[i(430)]=n[i(417)](e[i(430)],o[i(699)],{}),e.angle=n.ensureTypedArg(e[i(695)],o.OBJECT,{}),e[i(603)]=n[i(417)](e[i(603)],o.OBJECT,{}),e[i(616)]=n[i(417)](e[i(616)],o[i(699)],{}),e[i(575)]&&console.warn(i(425)),this.uuid=t[i(637)][i(406)](),this[i(664)]=n[i(417)](e[i(664)],o[i(676)],u[i(556)][i(433)]),this[i(526)]={_value:n[i(436)](e[i(526)][i(564)],t[i(600)],new(t[i(600)])),_spread:n[i(436)](e[i(526)][i(777)],t[i(600)],new(t[i(600)])),_spreadClamp:n[i(436)](e.position[i(561)],t[i(600)],new s),_distribution:n.ensureTypedArg(e[i(526)][i(599)],o[i(676)],this[i(664)]),_randomise:n[i(417)](e[i(526)].randomise,o[i(484)],!1),_radius:n.ensureTypedArg(e[i(526)][i(656)],o[i(676)],10),_radiusScale:n[i(436)](e[i(526)][i(584)],t[i(600)],new(t[i(600)])(1,1,1)),_distributionClamp:n[i(417)](e.position.distributionClamp,o[i(676)],0)},this[i(435)]={_value:n.ensureInstanceOf(e.velocity[i(564)],t[i(600)],new(t[i(600)])),_spread:n[i(436)](e[i(435)][i(777)],t[i(600)],new(t[i(600)])),_distribution:n[i(417)](e[i(435)][i(599)],o[i(676)],this[i(664)]),_randomise:n[i(417)](e[i(526)].randomise,o.BOOLEAN,!1)},this[i(595)]={_value:n[i(436)](e.acceleration.value,t[i(600)],new(t[i(600)])),_spread:n[i(436)](e[i(595)][i(777)],t[i(600)],new(t[i(600)])),_distribution:n[i(417)](e[i(595)].distribution,o[i(676)],this.type),_randomise:n.ensureTypedArg(e[i(526)][i(781)],o.BOOLEAN,!1)},this.drag={_value:n[i(417)](e[i(476)][i(564)],o.NUMBER,0),_spread:n[i(417)](e[i(476)][i(777)],o[i(676)],0),_randomise:n.ensureTypedArg(e[i(526)].randomise,o[i(484)],!1)},this.wiggle={_value:n.ensureTypedArg(e[i(603)][i(564)],o[i(676)],0),_spread:n[i(417)](e[i(603)][i(777)],o[i(676)],0)},this[i(544)]={_axis:n[i(436)](e[i(544)][i(680)],t[i(600)],new(t[i(600)])(0,1,0)),_axisSpread:n[i(436)](e[i(544)][i(719)],t[i(600)],new(t[i(600)])),_angle:n.ensureTypedArg(e[i(544)].angle,o.NUMBER,0),_angleSpread:n[i(417)](e[i(544)][i(415)],o[i(676)],0),_static:n[i(417)](e[i(544)].static,o[i(484)],!1),_center:n.ensureInstanceOf(e.rotation[i(636)],t[i(600)],this[i(526)][i(705)][i(829)]()),_randomise:n[i(417)](e[i(526)][i(781)],o[i(484)],!1)},this[i(616)]={_value:n[i(417)](e[i(616)].value,o.NUMBER,2),_spread:n[i(417)](e[i(616)][i(777)],o[i(676)],0)},this.color={_value:n.ensureArrayInstanceOf(e[i(602)][i(564)],t[i(659)],new r),_spread:n[i(499)](e.color.spread,t[i(600)],new s),_randomise:n[i(417)](e.position[i(781)],o[i(484)],!1)},this[i(419)]={_value:n[i(455)](e[i(419)].value,o.NUMBER,1),_spread:n.ensureArrayTypedArg(e[i(419)][i(777)],o[i(676)],0),_randomise:n[i(417)](e.position[i(781)],o[i(484)],!1)},this.size={_value:n[i(455)](e[i(430)][i(564)],o.NUMBER,1),_spread:n.ensureArrayTypedArg(e[i(430)].spread,o[i(676)],0),_randomise:n[i(417)](e[i(526)].randomise,o[i(484)],!1)},this[i(695)]={_value:n[i(455)](e[i(695)][i(564)],o.NUMBER,0),_spread:n[i(455)](e[i(695)][i(777)],o.NUMBER,0),_randomise:n.ensureTypedArg(e.position[i(781)],o.BOOLEAN,!1)},this.particleCount=n[i(417)](e[i(460)],o[i(676)],100),this[i(818)]=n[i(417)](e[i(818)],o[i(676)],null),this[i(503)]=n[i(417)](e.isStatic,o[i(484)],!1),this[i(416)]=n[i(417)](e.activeMultiplier,o[i(676)],1),this[i(400)]=n[i(417)](e.direction,o[i(676)],1),this[i(563)]=n[i(417)](e[i(563)],o[i(484)],!0),this[i(517)]=0,this[i(608)]=0,this.attributeOffset=0,this.attributeEnd=0,this.age=0,this[i(588)]=0,this[i(681)]=null,this[i(842)]=null,this[i(418)]=null,this.resetFlags={position:n.ensureTypedArg(e[i(526)][i(781)],o[i(484)],!1)||n[i(417)](e[i(656)][i(781)],o.BOOLEAN,!1),velocity:n[i(417)](e.velocity[i(781)],o[i(484)],!1),acceleration:n[i(417)](e.acceleration[i(781)],o[i(484)],!1)||n.ensureTypedArg(e[i(476)][i(781)],o[i(484)],!1),rotation:n[i(417)](e[i(544)][i(781)],o[i(484)],!1),rotationCenter:n[i(417)](e[i(544)][i(781)],o.BOOLEAN,!1),size:n[i(417)](e[i(430)][i(781)],o[i(484)],!1),color:n[i(417)](e[i(602)][i(781)],o[i(484)],!1),opacity:n[i(417)](e[i(419)][i(781)],o[i(484)],!1),angle:n[i(417)](e.angle.randomise,o[i(484)],!1)},this[i(741)]={},this.updateCounts={},this[i(698)]={maxAge:"params",position:i(526),velocity:i(435),acceleration:i(595),drag:i(595),wiggle:i(549),rotation:i(544),size:i(430),color:"color",opacity:i(419),angle:"angle"};for(const t in this[i(698)])this[i(698)][i(834)](t)&&(this[i(448)][this.updateMap[t]]=0,this[i(741)][this.updateMap[t]]=!1,this[i(401)](this[t],t));this[i(523)]={},this[i(510)]=null,this[i(532)]=0,n[i(756)](this.color,a,a),n[i(756)](this[i(419)],a,a),n.ensureValueOverLifetimeCompliance(this[i(430)],a,a),n[i(756)](this[i(695)],a,a)},u[c(765)][c(449)]=u[c(765)],u[c(765)][c(784)][c(401)]=function(t,e){const i=c,n=this;for(const s in t)if(t[i(834)](s)){const o=s.replace("_","");Object[i(837)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=a,o=n[s(698)][e],r=this[t],c=u[s(511)];"_rotationCenter"===t?(n.updateFlags[s(395)]=!0,n[s(448)][s(395)]=0):"_randomise"===t?n[s(431)][o]=i:(n.updateFlags[o]=!0,n[s(448)][o]=0),n[s(681)]._updateDefines(),this[t]=i,Array[s(555)](r)&&u[s(440)][s(756)](n[e],c,c)}}(s)})}},u[c(765)][c(784)]._setBufferUpdateRanges=function(t){const e=c;this[e(510)]=t,this[e(532)]=t[e(799)];for(let i=this[e(532)]-1;i>=0;--i)this[e(523)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(687)]}},u.Emitter[c(784)][c(410)]=function(t){const e=c,i=this[e(460)];this[e(818)]?this.particlesPerSecond=i/(t<this.duration?t:this[e(818)]):this.particlesPerSecond=i/t},u[c(765)][c(784)][c(650)]=function(t){const e=c;this[e(592)]=t,this[e(608)]=t,this[e(607)]=t+this[e(460)]},u[c(765)][c(784)]._assignValue=function(t,e){const i=c;switch(t){case i(526):this[i(462)](e);break;case i(435):case"acceleration":this._assignForceValue(e,t);break;case"size":case i(419):this[i(673)](e,t);break;case i(695):this._assignAngleValue(e);break;case i(549):this[i(574)](e);break;case i(544):this._assignRotationValue(e);break;case"color":this[i(538)](e)}},u[c(765)][c(784)][c(462)]=function(t){const e=c,i=u.distributions,n=u.utils,s=this[e(526)],o=this[e(842)][e(526)],r=s[e(705)],a=s[e(683)];switch(s[e(525)]){case i[e(433)]:n.randomVector3(o,t,r,a,s[e(712)]);break;case i[e(706)]:n[e(686)](o,t,r,s._radius,s[e(683)].x,s[e(758)],s._spreadClamp.x,s._distributionClamp||this[e(460)]);break;case i[e(545)]:n.randomVector3OnDisc(o,t,r,s[e(720)],s._spread.x,s._radiusScale,s[e(712)].x);break;case i[e(468)]:n[e(731)](o,t,r,a)}},u.Emitter[c(784)][c(642)]=function(t,e){const i=c;let n,s,o,r,a,h=u.distributions,l=u[i(440)],f=this[e],p=f[i(705)],d=f[i(683)];switch(f[i(525)]){case h[i(433)]:l[i(618)](this[i(842)][e],t,p,d);break;case h.SPHERE:n=this[i(842)].position[i(646)][i(852)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l[i(515)](this[i(842)][e],t,s,o,r,this[i(526)][i(705)],f[i(705)].x,f._spread.x);break;case h[i(545)]:n=this[i(842)][i(526)][i(646)][i(852)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],l[i(751)](this[i(842)][e],t,s,o,r,this[i(526)][i(705)],f[i(705)].x,f._spread.x);break;case h[i(468)]:l[i(731)](this[i(842)][e],t,p,d)}if("acceleration"===e){const e=l[i(453)](l[i(442)](this[i(476)][i(705)],this.drag[i(683)]),0,1);this.attributes[i(595)][i(646)].array[4*t+3]=e}},u[c(765)][c(784)]._assignAbsLifetimeValue=function(t,e){const i=c;let n,s=this.attributes[e].typedArray,o=this[e],r=u[i(440)];r[i(501)](o[i(705)])&&r[i(501)](o[i(683)])?(n=Math[i(621)](r[i(442)](o[i(705)][0],o[i(683)][0])),s[i(691)](t,n,n,n,n)):s[i(691)](t,Math[i(621)](r[i(442)](o[i(705)][0],o._spread[0])),Math[i(621)](r.randomFloat(o._value[1],o[i(683)][1])),Math[i(621)](r[i(442)](o._value[2],o[i(683)][2])),Math[i(621)](r[i(442)](o._value[3],o[i(683)][3])))},u[c(765)][c(784)][c(776)]=function(t){const e=c;let i,n=this.attributes[e(695)][e(646)],s=this.angle,o=u[e(440)];o[e(501)](s[e(705)])&&o[e(501)](s[e(683)])?(i=o.randomFloat(s[e(705)][0],s._spread[0]),n.setVec4Components(t,i,i,i,i)):n.setVec4Components(t,o[e(442)](s[e(705)][0],s[e(683)][0]),o[e(442)](s[e(705)][1],s[e(683)][1]),o[e(442)](s[e(705)][2],s[e(683)][2]),o.randomFloat(s._value[3],s._spread[3]))},u[c(765)].prototype[c(574)]=function(t){const e=c;this[e(842)][e(549)][e(646)][e(691)](t,this[e(503)]?1:0,0,Math.abs(u[e(440)][e(442)](this.maxAge._value,this[e(616)][e(683)])),u[e(440)].randomFloat(this[e(603)][e(705)],this[e(603)][e(683)]))},u.Emitter[c(784)][c(567)]=function(t){const e=c;this[e(842)][e(544)][e(646)][e(759)](t,u[e(440)][e(761)](this[e(544)][e(605)],this[e(544)][e(734)]),u[e(440)][e(442)](this.rotation[e(794)],this[e(544)]._angleSpread),this[e(544)]._static?0:1),this.attributes[e(395)][e(646)].setVec3(t,this[e(544)][e(735)])},u[c(765)][c(784)]._assignColorValue=function(t){const e=c;u.utils[e(540)](this[e(842)][e(602)],t,this[e(602)]._value,this[e(602)]._spread)},u[c(765)][c(784)]._resetParticle=function(t){const e=c;let i,n,s=this[e(431)],o=this[e(741)],r=this[e(448)],a=this[e(510)];for(let c=this[e(532)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this._assignValue(i,t),this[e(562)](i,t),!0===n&&r[i]===this[e(460)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},u[c(765)][c(784)][c(562)]=function(t,e){const i=c,n=this[i(523)][t];n[i(738)]=Math.min(e,n[i(738)]),n[i(516)]=Math.max(e,n.max)},u[c(765)][c(784)][c(851)]=function(){const t=c;let e,i=this.bufferUpdateRanges,n=this[t(675)],s=this[t(568)]-1;for(;s>=0;--s)e=n[s],i[e][t(738)]=Number[t(594)],i[e][t(516)]=Number.NEGATIVE_INFINITY},u.Emitter[c(784)][c(432)]=function(){const t=c;this[t(517)]=0,this[t(592)]=0,this[t(608)]=0,this[t(588)]=0,this[t(681)]=null,this[t(842)]=null,this[t(418)]=null,this[t(733)]=0},u[c(765)].prototype[c(413)]=function(){--this[c(588)]},u[c(765)].prototype[c(665)]=function(){++this[c(588)]},u[c(765)][c(784)][c(763)]=function(t,e,i,n){const s=c;for(var o,r,a,h,l=e-1;l>=t;--l)0!==(h=i[o=4*l])&&(a=i[o+1],r=i[o+2],1===this.direction?(a+=n)>=r&&(a=0,h=0,this[s(413)]()):(a-=n)<=0&&(a=r,h=0,this[s(413)]()),i[o]=h,i[o+1]=a,this[s(562)](s(549),l))},u[c(765)][c(784)][c(467)]=function(t,e,i,n){const s=c,o=this.direction;for(var r,a,h=t;h<e;++h)0!=i[r=4*h]&&1!==this.particleCount||(this._incrementParticleCount(),i[r]=1,this[s(672)](h),a=n*(h-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(562)]("params",h))},u.Emitter.prototype[c(492)]=function(t){const e=c;if(this[e(503)])return;null===this[e(418)]&&(this[e(418)]=this[e(842)][e(549)][e(646)][e(852)]);const i=this[e(592)],n=i+this[e(460)],s=this.paramsArray,o=this[e(517)]*this[e(416)]*t,r=this[e(608)];if(this[e(851)](),this[e(763)](i,n,s,t),!1===this.alive)return void(this[e(733)]=0);if(null!==this.duration&&this[e(733)]>this.duration)return this.alive=!1,void(this[e(733)]=0);const a=1===this.particleCount?r:0|r,h=Math[e(738)](a+o,this.activationEnd),l=h-this[e(608)]|0,u=l>0?t/l:0;this[e(467)](a,h,s,u),this[e(608)]+=o,this[e(608)]>n&&(this[e(608)]=i),this[e(733)]+=t},u[c(765)].prototype[c(598)]=function(t){const e=c;if(this[e(733)]=0,this[e(563)]=!1,!0===t){const t=this[e(592)],s=t+this[e(460)],o=this.paramsArray,r=this[e(842)][e(549)][e(457)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r[e(800)].offset=0,r.updateRange[e(762)]=-1,r[e(649)]=!0}return this},u[c(765)].prototype[c(787)]=function(){return this.alive=!0,this},u[c(765)][c(784)][c(778)]=function(){return this.alive=!1,this},u[c(765)][c(784)][c(757)]=function(){const t=c;return null!==this[t(681)]?this[t(681)][t(792)](this):console.error("Emitter does not belong to a group, cannot remove."),this};const f=u;function p(){const t=["    varying float vAngle;","radius","2jtKrcO","setFromArray","Color","normalize","        vSpriteSheet.x = 1.0 / framesX;","      vec3 center = rotationCenter;","           unpackColor( color.x ),","type","_incrementParticleCount","_createNewWhenPoolEmpty","rotateTexture","        float row = floor( (frameNumber - column) / framesX );","   return c;","textureFrameCount","vec3 getVelocity( in float age ) {","_resetParticle","_assignAbsLifetimeValue","        float framesY = textureAnimation.y;","bufferUpdateKeys","NUMBER","_setBufferUpdateRanges","_updateDefines","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","axis","group","attribute vec4 acceleration;","_spread","      float angle = 0.0;","typeSizeMap","randomVector3OnSphere","NEGATIVE_INFINITY","info","       axis = normalize(axis);","50NslLOz","setVec4Components","forceUpdateAll","fog_pars_fragment","    force += vel;","angle","attribute vec3 rotationCenter;","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","updateMap","OBJECT","join","unpackColor","        float loopCount = textureAnimation.w;","    return value;","warn","_value","SPHERE","#ifdef SHOULD_ROTATE_PARTICLES","    force *= drag;","init","      vec3 axis = unpackRotationAxis( rotation.x );","logdepthbuf_fragment","_spreadClamp","   c.g = g / PACKED_COLOR_DIVISOR;","    highp float positionInTime = (age / maxAge);","multiplyScalar","grow","   }","ShaderMaterial","axisSpread","_radius","mesh","setVec2Components","    vec3 vel = getVelocity( age );","   return velocity * age;","set","SHOULD_ROTATE_PARTICLES","branchAvoidanceFunctions","       float x = gl_PointCoord.x - 0.5;","function *\\( *\\)","call","randomVector3OnLine","dynamicBuffer","age","_axisSpread","_center","logdepthbuf_pars_fragment","_applyAttributesToGeometry","min","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","setSize","updateFlags","    vColor = vec4( c, o );","uniform vec4 textureAnimation;","    #ifdef SHOULD_ROTATE_TEXTURE","setVec2","number","      rotationMatrix = getRotationMatrix( axis, angle );","           unpackColor( color.z ),","      mat4 rotationMatrix;","DynamicDrawUsage","randomDirectionVector3OnDisc","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    #ifdef SHOULD_ROTATE_PARTICLES","       );","ensureValueOverLifetimeCompliance","remove","_radiusScale","setVec3Components","fog_fragment","getPackedRotationAxis","count","_checkParticleAges","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","Emitter","    }","      if( rotation.y == 0.0 ) {","#ifdef SHOULD_CALCULATE_SPRITE","4928424UuQVcJ","setRGB","__proto__","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","counter","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","6809amxpWw","_assignAngleValue","spread","disable","float when_lt(float x, float y) {","rotationFunctions","randomise","keys","   return params.w;","prototype","dispose","apply","enable","        float columnNorm = column / framesX;","scale","setAttribute","#ifdef SHOULD_ROTATE_TEXTURE","removeEmitter","SHOULD_ROTATE_TEXTURE","_angle","        float columnNorm = vSpriteSheet.z;","float when_eq( float x, float y ) {","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","shaders","length","updateRange","transparent","        float totalFrames = textureAnimation.z;","geometry","push","colorOverLifetime","        float rowNorm = row / framesY;","vec3 getAcceleration( in float age ) {","`emitter` argument must be instance of SPE.Emitter. Was provided with:","AdditiveBlending","debu","        pos = getRotation( pos, positionInTime );","ShaderAttribute","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","boolean","REVISION","       if ( vColor.w < float(ALPHATEST) ) discard;","       float y = 1.0 - gl_PointCoord.y - 0.5;","duration","  return 1.0 - when_gt(x, y);","   return modelViewMatrix * vec4( position, 1.0 );","ShaderChunk","127152tcBlfs","resetDynamic","    return 1.0 - abs( sign( x - y ) );","attribute vec4 angle;","blending","cos","   return acceleration.xyz * age;","clone","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","float when_le(float x, float y) {","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","action","hasOwnProperty","attribute vec4 rotation;","attribute vec3 velocity;","defineProperty","fragment","emitters","chain","uuid","attributes","colorize","    gl_PointSize = pointSizePerspective;","_poolCreationSettings","unpackRotationAxis","float getWiggle() {","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","material","                   0.0,                                0.0,                                0.0,                                1.0);","_resetBufferRanges","array","    #ifdef SHOULD_WIGGLE_PARTICLES","        pos.x += wiggleSin;","Texture","flagUpdate","rotationCenter","runTime","maxParticleCount","    vec3 outgoingLight = vColor.xyz;","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","direction","_createGetterSetters","StaticDrawUsage","        float perspective = 1.0;","    highp float value = 0.0;","    pos += force;","generateUUID","loop","addEmitter","setUpdateRange","_calculatePPSValue","Group","429168srvHFE","_decrementParticleCount","_ensureTypedArray","angleSpread","activeMultiplier","ensureTypedArg","paramsArray","opacity","    force += accel * age;","texture","       vec3 c = isAlive * getColorOverLifetime(","SPE.Group pool ran out.","void main() {","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","depthTest","    return max(sign(x - y), 0.0);","uniform float runTime;","shaderChunks","size","resetFlags","_onRemove","BOX","common","velocity","ensureInstanceOf","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","getValueAtIndex","pop","utils","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","randomFloat","fixedTimeStep","attribute vec4 size;","        float wiggleAmount = positionInTime * getWiggle();","   c *= vec3( 2.0 );","Vector2","updateCounts","constructor","      }","interpolateArray","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","clamp","Points","ensureArrayTypedArg","forceFetchingFunctions","bufferAttribute","varying vec4 vColor;","        float perspective = scale / length( mvPosition.xyz );","particleCount","toString","_assignPositionValue","updateMin","floor","    #ifdef COLORIZE","_triggerSingleEmitter","_activateParticles","LINE","lerpTypeAgnostic","releaseIntoPool","log","offset","TypedArrayHelper","    varying vec4 vSpriteSheet;","       float oc = 1.0 - c;","drag","input","    highp float maxAge = getMaxAge();","logdepthbuf_pars_vertex","Vector4","sqrt","        float wiggleSin = isAlive * sin( wiggleAmount );","console","BOOLEAN","depthWrite","error","   c.r = r / PACKED_COLOR_DIVISOR;","return (function() ","        vSpriteSheet.w = rowNorm;","stateObject","    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );","tick","ceil","defines","_updateBuffers","exception","        float framesX = vSpriteSheet.x;","gger","ensureArrayInstanceOf","amd","arrayValuesAreEqual","emitterIDs","isStatic","function","sin","bind","hasPerspective","getHex","Emitter already belongs to another group. Will not add to requested group.","attributeKeys","valueOverLifetimeLength","   vec3 c = vec3( 0.0 );","frames","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","randomDirectionVector3OnSphere","max","particlesPerSecond","_createBufferAttribute","arrayType","fog_vertex","BufferGeometry","splice","bufferUpdateRanges","           return pos;","_distribution","position","random","    #endif","vec3 unpackRotationAxis( in float hex ) {","frameCount","lerp","attributeCount","uniforms","           unpackColor( color.y ),","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","       float s = sin(angle);","      vec3 translated;","_assignColorValue","round","randomColorAsHex","resetUpdateRange","string","while (true) {}","rotation","DISC","types","roundToNearestMultiple","    highp float age = getAge();","params","    #else","31757kLVMus","BufferAttribute","    float pointSizePerspective = pointSize * perspective;","       vec3 c = vec3(1.0);","isArray","distributions","alphaTest","   float b = mod( hex, PACKED_COLOR_SIZE );","SHOULD_WIGGLE_PARTICLES","setMat3","spreadClamp","_updateAttributeUpdateRange","alive","value","    highp float alive = getAlive();","attribute vec4 color;","_assignRotationValue","bufferUpdateCount","Argument is not instanceof SPE.Emitter:","getPool","270CaPBFn","        float rowNorm = vSpriteSheet.w;","15852nOOCKw","_assignParamsValue","onParticleSpawn","test","componentSize","attribute vec4 params;","    float fIndex = 0.0;","uniform sampler2D tex;","updateMax","        vSpriteSheet.z = columnNorm;","_attributesNeedRefresh","radiusScale","textureFrames","_attributesNeedDynamicReset","3607086OxHYNL","activeParticleCount","   return params.y;","exports","shrink","attributeOffset","Will not resize.","POSITIVE_INFINITY","acceleration","    #ifdef SHOULD_CALCULATE_SPRITE","    highp float isAlive = when_gt( alive, 0.0 );","reset","distribution","Vector3","225496MKpezm","color","wiggle","       float c = cos( -vAngle );","_axis","addPool","activationEnd","activationIndex","setVec3","float or(float a, float b) {","usage","63SlDcmi","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","Invalid argument types, or argument types do not match:","triggerPoolEmitter","maxAge","spe","randomVector3","    return min(a + b, 1.0);","   return params.x;","abs","  return 1.0 - when_lt(x, y);","TypedArrayConstructor","float getAge() {","    float shouldApplyValue = 0.0;","#endif","particles, can support only","fog","setNumber","unshift","_pool","uniform float deltaTime;","floatOverLifetime","indexOffset","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","center","MathUtils","Emitter already exists in this group. Will not add again.","           unpackColor( color.w )","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","getComponentValueAtIndex","_assignForceValue","varyings","copy","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","typedArray","    vec4 rotatedTexture = texture2D( tex, vUv );","setColor","needsUpdate","_setAttributeOffset","getFromPool","paramFetchingFunctions","object","    "];return(p=function(){return t})()}function d(t){function e(t){const i=a;if(typeof t===i(542))return function(t){}.constructor(i(543)).apply(i(773));1!==(""+t/t)[i(799)]||t%20==0?function(){return!0}[i(449)](i(810)+i(498))[i(730)](i(833)):function(){return!1}[i(449)](i(810)+i(498))[i(786)](i(490)),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{f as _};
