import{_ as t}from"./three.FxqAALWt1741168315107.js";import{m as n}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{d as e,P as o}from"./@pmndrs.rn5_p8x-1741168315107.js";import{d as a,b as r,w as s,a2 as i,o as c,H as u,N as l,aj as p,ak as f}from"./@vue.NRI7TcgI1741168315107.js";const d=b;!function(t,n){const e=b,o=m();for(;;)try{if(765720===parseInt(e(499))/1+parseInt(e(521))/2+-parseInt(e(484))/3+parseInt(e(470))/4+-parseInt(e(522))/5+parseInt(e(515))/6+-parseInt(e(526))/7)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const h=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(473)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["counter","camera","__proto__","bottom","function *\\( *\\)","2226228wiPyzz","MathUtils","abs","radius","blend","blendWindow","498054JfIato","895290zKsmuH","table","stateObject","gger","11157552RRxQQB","TresPlaneGeometry","mapSize","add","alphaTest","test","TresMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prepare","lightPosition","cos","children","bias","color","error","DirectionalLight","Vector3","amount","exception","prototype","top","while (true) {}","intensity","log","info","texture","opacity","clear","remove","action","randFloatSpread","2345112VQpoLG","debu","near","apply","Group","shadows render end","constructor","bind","configure","progressiveLightMap2","castShadow","toString","gPlane","material","579573xOQxQR","length","string","acos","width","console","#000000","finish","shadow","update","init","accumulativeShadowsCom","value",'{}.constructor("return this")( )',"set","1525562YmHPFF","random","sin","size","far","frames","shadows plm update","input","warn","position","left"];return(m=function(){return t})()}!function(){h(this,(function(){const t=b,n=new RegExp(t(514)),e=new RegExp(t(533),"i"),o=y(t(494));n[t(531)](o+"chain")&&e.test(o+t(506))?y():o("0")}))()}();const w=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[b(473)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function b(t,n){const e=m();return(b=function(t,n){return e[t-=469]})(t,n)}w(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function("return (function() "+t(497)+");")()}catch(e){n=window}return n}(),e=n[t(489)]=n[t(489)]||{},o=[t(549),t(507),t(550),t(540),t(544),t(523),"trace"];for(let a=0;a<o[t(485)];a++){const n=w[t(476)][t(545)].bind(w),r=o[a],s=e[r]||n;n[t(512)]=w[t(477)](w),n[t(481)]=s[t(481)][t(477)](s),e[r]=n}}))();const g=["rotate-x"],M=a({__name:d(495),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:d(490)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(a){const h=d,m=a;let w=r();const{extend:b,scene:M,renderer:y,camera:x}=n();b({SoftShadowMaterial:e});const z={position:(new(t[h(542)]))[h(498)](m[h(535)].x,m[h(535)].y,m[h(535)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},I=new o(y[h(496)],M[h(496)],z[h(528)]),S={map:I[h(479)][h(551)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[h(519)],alphaTest:m[h(530)],opacity:m[h(552)],color:m[h(539)]},P=new(t[h(474)]);for(let n=0;n<z.amount;n++){const n=new(t[h(541)])(16777215,z[h(548)]/z[h(543)]);n[h(480)]=!0,n[h(492)][h(538)]=z[h(538)],n[h(492)][h(511)][h(472)]=z[h(472)],n[h(492)][h(511)][h(503)]=z[h(503)],n.shadow[h(511)].right=z[h(502)]/2,n[h(492)][h(511)][h(509)]=-z[h(502)]/2,n[h(492)][h(511)][h(546)]=z.size/2,n[h(492)][h(511)][h(513)]=-z[h(502)]/2,n[h(492)][h(528)][h(488)]=z[h(528)],n[h(492)][h(528)].height=z.mapSize,P[h(529)](n)}const _=()=>{const n=h,e=z.position[n(485)]();for(let o=0;o<P.children.length;o++){const a=P[n(537)][o];if(Math[n(500)]()>m.ambient)a[n(508)].set(z.position.x+t[n(516)][n(469)](z[n(518)]),z.position.y+t[n(516)].randFloatSpread(z[n(518)]),z.position.z+t[n(516)][n(469)](z[n(518)]));else{let t=Math[n(487)](2*Math[n(500)]()-1)-Math.PI/2,o=2*Math.PI*Math[n(500)]();a.position[n(498)](Math[n(536)](t)*Math[n(536)](o)*e,Math[n(517)](Math[n(536)](t)*Math[n(501)](o)*e),Math[n(501)](t)*e)}}},j=(t=1)=>{const n=h;M[n(496)][n(529)](P),I[n(534)]();for(let e=0;e<t;e++)_(),I[n(493)](x[n(496)],m[n(520)]),console[n(549)](n(505),e);M[n(496)][n(554)](P),I[n(491)]()};s((()=>w[h(496)]),(t=>{const n=h;t&&(I[n(478)](t),I[n(553)](),console.log("shadows render start"),j(m[n(504)]),console.log(n(475)))}));const v=()=>{const t=h;I.clear(),j(m[t(504)])};return i((()=>{const t=h;w[t(496)]&&(m[t(552)]&&(w[t(496)].material[t(552)]=m[t(552)]),m.alphaTest&&(w[t(496)].material[t(530)]=m[t(530)]),m.color&&w[t(496)].material[t(539)][t(498)](m[t(539)]),m.blend&&(w[t(496)][t(483)][t(519)]=m.blend))})),s((()=>m[h(535)]),(t=>{const n=h;t&&(console[n(549)](m[n(535)]),z.position[n(498)](t.x,t.y,t.z),v())}),{deep:!0}),s((()=>[m[h(504)],m[h(520)],m.ambient]),(()=>{v()})),(t,n)=>{const e=h;return c(),u(e(532),{"receive-shadow":"",ref_key:e(482),ref:w,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=l(e(527),{args:[1,1]},null,-1)),l("TresSoftShadowMaterial",p(f(S)),null,16)],8,g)}}});function y(t){function n(t){const e=b;if(typeof t===e(486))return function(t){}[e(476)](e(547))[e(473)](e(510));1!==(""+t/t)[e(485)]||t%20==0?function(){return!0}[e(476)](e(471)+e(525)).call(e(555)):function(){return!1}[e(476)]("debu"+e(525))[e(473)](e(524)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
