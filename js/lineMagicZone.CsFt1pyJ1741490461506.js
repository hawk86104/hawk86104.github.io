import{P as t}from"./tweakpane.yDiyAAkA1741490461506.js";import{e,h as n,a as o,o as r}from"./@tresjs.rE98Wm941741490461506.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.XNHpIq5r1741490461506.js";import{_ as a,B as s,C as l,aX as u}from"./three.Vxh8Czkt1741490461506.js";import{d as c,a6 as f,a3 as m,w as p,o as d,H as h,N as g,u as v,j as I,r as x,e as w,f as S,g as y,al as _,m as b}from"./@vue.NRI7TcgI1741490461506.js";import"./postprocessing.wUw4_rsV1741490461506.js";import"./@vueuse.9Z-Ayxy41741490461506.js";import"./all.three.9g6ASlnm1741490461506.js";import"./oimophysics.x0jH7fze1741490461506.js";const N=P;!function(t,e){const n=P,o=j();for(;;)try{if(664197===-parseInt(n(386))/1*(-parseInt(n(387))/2)+-parseInt(n(389))/3+parseInt(n(367))/4*(parseInt(n(336))/5)+parseInt(n(355))/6+-parseInt(n(368))/7+parseInt(n(340))/8*(parseInt(n(341))/9)+-parseInt(n(350))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[P(392)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=P,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z(t(345));e[t(356)](o+t(349))&&n[t(356)](o+t(342))?z():o("0")}))()}();const U=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function j(){const t=["counter","info","gger","PointsMaterial","toString","trace","height","action","uScale","#90ee90","4zLZyhj","3196081CsmHgV","debu","while (true) {}","xRadius","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","__proto__","EllipseCurve","constructor","push","bind","aIndex","length","error","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","floor","stateObject","map","value","7XtDMsE","268004CIueMy","TresGroup","53667iLfiUl","TresPoints","scale","apply","call","string","speed","512255uPahDN","color","prototype","blending","9968488KojjMZ","9BNBMjG","input","table","uTime","init","baseColor","alphaMap",'{}.constructor("return this")( )',"chain","23202870joJZdn","lineMagicZone","#409eff","log","exception","7034580xAqvdB","test"];return(j=function(){return t})()}U(void 0,(function(){const t=P;let e;try{e=Function("return (function() "+t(348)+");")()}catch(r){e=window}const n=e.console=e.console||{},o=[t(353),"warn",t(358),t(380),t(354),t(343),t(362)];for(let i=0;i<o[t(379)];i++){const e=U[t(375)][t(338)].bind(U),r=o[i],a=n[r]||e;e[t(373)]=U[t(377)](U),e[t(361)]=a[t(361)][t(377)](a),n[r]=e}}))();const C=["rotateX"],M=["position",N(378),"aNormal"];function P(t,e){const n=j();return(P=function(t,e){return n[t-=333]})(t,e)}const B=N(381),D=N(372),W=c({__name:N(351),props:{height:{default:1.6},speed:{default:1},color:{default:N(366)}},async setup(t){const r=N;let i,c;const x=f(),w=t,S=([i,c]=m((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,c(),i),y=new(a[r(374)])(0,0,8,8,0,2*Math.PI,!1,0),_=[];for(let e=0;e<5;e++)_[r(376)](...y.getPoints(719)),y[r(371)]+=.2,y.yRadius+=.2;const b=new Float32Array(_[r(384)](((t,e)=>e))),T=(new s).setFromPoints(_).getAttribute("position").array,U=new Float32Array(T[r(379)]);for(let e=0;e<T[r(379)]/3;e++){const t=3*e;T[t+1]+=.15*Math[r(382)](e/720);const n=e%720*3,o=3*(e%720+2880);U[t]=T[o]-T[n],U[t+1]=T[o+1]-T[n+1],U[t+2]=T[o+2]-T[n+2]}const j={uTime:{value:0},uScale:{value:x.scale?x[r(391)]:1},uHeight:{value:w.height},uPerlinTexture:{value:S[1]},baseColor:{value:new l(w[r(337)])}},{onLoop:P}=e();return P((()=>{const t=r;j[t(344)][t(385)]+=.01*w[t(335)]})),p((()=>[w.color,x[r(391)],w[r(363)]]),(([t,e,n])=>{const o=r;j[o(346)][o(385)].set(t),j[o(365)][o(385)]=e,j.uHeight[o(385)]=n})),(t,e)=>{const o=r;return d(),h(o(388),null,[g(o(390),{rotateX:-Math.PI/2,scale:.1},[g("TresBufferGeometry",{position:[v(T),3],aIndex:[v(b),1],aNormal:[v(U),3]},null,8,M),I(v(n),{baseMaterial:a[o(360)],vertexShader:B,fragmentShader:D,uniforms:j,map:v(S)[0],alphaMap:v(S)[0],transparent:"",depthWrite:!1,blending:u,color:o(352),size:.1},null,8,["baseMaterial","map",o(347),o(339)])],8,C)])}}});function z(t){function e(t){const n=P;if(typeof t===n(334))return function(t){}[n(375)](n(370)).apply(n(357));1!==(""+t/t)[n(379)]||t%20==0?function(){return!0}[n(375)](n(369)+n(359))[n(333)](n(364)):function(){return!1}.constructor(n(369)+n(359))[n(392)](n(383)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function O(){const t=["1572uBBcsi","prototype","#201919","trace","call","constructor","length","scale","addBinding","height","input","apply","debu","TresAmbientLight","70IhInlD","TresCanvas","bind","195005WiNEBl","577698EkjAXs","info","toString","8wUnjNB","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","gger","error","9155QKMVJV","warn","color","7446684XhBhBK","3089948jmoFsQ","stateObject","__proto__","init","table","return (function() ","lineMagicZone","1032392FdOAtw","console","1423701bBauuU","speed","function *\\( *\\)"];return(O=function(){return t})()}const A=R;!function(t,e){const n=R,o=O();for(;;)try{if(579217===parseInt(n(481))/1*(-parseInt(n(485))/2)+parseInt(n(482))/3+parseInt(n(494))/4+parseInt(n(490))/5*(parseInt(n(506))/6)+-parseInt(n(493))/7+-parseInt(n(501))/8+-parseInt(n(503))/9*(-parseInt(n(478))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[R(475)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){E(this,(function(){const t=R,e=new RegExp(t(505)),n=new RegExp(t(486),"i"),o=F(t(497));e[t(487)](o+"chain")&&n[t(487)](o+t(474))?F():o("0")}))()}();const L=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function R(t,e){const n=O();return(R=function(t,e){return n[t-=466]})(t,e)}L(void 0,(function(){const t=R,e=function(){const t=R;let e;try{e=Function(t(499)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e.console=e[t(502)]||{},o=["log",t(491),t(483),t(489),"exception",t(498),t(467)];for(let r=0;r<o[t(470)];r++){const e=L.constructor[t(507)][t(480)](L),i=o[r],a=n[i]||e;e[t(496)]=L[t(480)](L),e.toString=a[t(484)][t(480)](a),n[i]=e}}))();const Z=c({__name:A(500),setup(e){const n=A,o=x({reflectivity:.1,showGridHelper:!0,scale:1}),a=x({color:"#ff0000",scale:1.8,height:2.4,speed:1}),s=new t;return s[n(472)](a,n(492),{label:"颜色"}),s[n(472)](a,n(471),{label:"大小",min:.1,max:3,step:.1}),s[n(472)](a,n(473),{label:"高度",min:.1,max:3,step:.1}),s[n(472)](a,n(504),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=w(s(479));return d(),S(l,{clearColor:s(466),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:y((()=>[e[0]||(e[0]=g("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),I(v(r),{enableDamping:""}),e[1]||(e[1]=g(s(477),{intensity:2},null,-1)),(d(),S(_,null,{default:y((()=>[I(W,b({position:[3,0,0]},a),null,16)])),_:1})),(d(),S(_,null,{default:y((()=>[I(W,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(d(),S(_,null,{default:y((()=>[I(i,b({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function F(t){function e(t){const n=R;if("string"==typeof t)return function(t){}[n(469)]("while (true) {}")[n(475)]("counter");1!==(""+t/t)[n(470)]||t%20==0?function(){return!0}[n(469)](n(476)+n(488))[n(468)]("action"):function(){return!1}.constructor(n(476)+n(488))[n(475)](n(495)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{Z as default};
