import"./@fesjs.Okr_vpx41735275234726.js";import{_ as t}from"./jszip._AevLh8r1735275234726.js";import{F as n}from"./file-saver.qUKbZcra1735275234726.js";import{_ as e,aL as s}from"./three.jpi2UCEx1735275234726.js";const o=r;!function(t,n){const e=r,s=u();for(;;)try{if(282628===-parseInt(e(245))/1*(-parseInt(e(190))/2)+-parseInt(e(208))/3*(-parseInt(e(216))/4)+parseInt(e(241))/5+parseInt(e(246))/6*(parseInt(e(223))/7)+parseInt(e(194))/8*(parseInt(e(193))/9)+parseInt(e(201))/10*(parseInt(e(219))/11)+-parseInt(e(253))/12*(parseInt(e(256))/13))break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[r(166)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function r(t,n){const e=u();return(r=function(t,n){return e[t-=156]})(t,n)}!function(){a(this,(function(){const t=r,n=new RegExp(t(221)),e=new RegExp(t(213),"i"),s=b(t(236));n.test(s+t(188))&&e[t(243)](s+t(251))?b():s("0")}))()}();const i=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[r(166)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();async function c(t){const n=new s;return new Promise(((e,s)=>{const o=r;n[o(239)](t,(t=>e(JSON[o(200)](t))),void 0,(t=>s(t)))}))}function u(){const t=["11rbxmkF","image/png","function *\\( *\\)","info","14rhXtMV","image/webp","images","while (true) {}","data:image/png;base64,","stringify","setResponseType","JPEG","WEBP","__proto__","application/octet-stream","GIF","exception","init","stateObject","data:image/","load",";base64,","358020HrufaG","FileLoader","test","uuid","11378LFkieM","663738agYpHY","非标准文件：不存在 app.json","file","app.json","data:","input","toLowerCase","564QexkKB","onloadend","url:images/","479011eWnwjj","console","data:image/GIF;base64,","constructor","push","log","url:geometries/","slice","BufferGeometry","enabled","loadAsync","base64","apply","files","Cache","bind","call",'{}.constructor("return this")( )',"data:image/JPEG;base64,","PNG","image/bmp",".json","url:","data","gger","url","async","error","length","type","catch","trace","then","forEach","chain","pop","76LKDVLc","scene","geometries","9BRwAWQ","3192216EzuYCF","substring","split","string","name","image/jpeg","parse","5334440SrVQzH","endsWith","blob","debu","table","action","counter","12tNcHwx","prototype","readAsDataURL","toString","Unknown","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","get","result","356752FJMRpK","onerror","startsWith"];return(u=function(){return t})()}async function l(t){const n=o,s=new(e[n(242)]);return new Promise(((e,a)=>{const r=n;s[r(229)](r(203)),s[r(239)](t,(n=>{const s=r,i=new FileReader;i[s(254)]=()=>{const n=s,a=function(t){const n=o,e=t.split(".")[n(189)]()[n(252)]();return{jpg:n(199),jpeg:n(199),png:n(220),gif:"image/gif",bmp:n(174),webp:n(224)}[e]||n(233)}(t),r=i[n(215)][n(196)](",")[1];e(n(250)+a+n(240)+r)},i[s(217)]=t=>{a(t)},i[s(210)](n)}),void 0,(t=>a(t)))}))}i(void 0,(function(){const t=r;let n;try{n=Function("return (function() "+t(171)+");")()}catch(o){n=window}const e=n.console=n[t(257)]||{},s=[t(159),"warn",t(222),t(181),t(235),t(205),t(185)];for(let a=0;a<s[t(182)];a++){const n=i.constructor[t(209)].bind(i),o=s[a],r=e[o]||n;n[t(232)]=i[t(169)](i),n[t(211)]=r[t(211)][t(169)](r),e[o]=n}}))(),e[o(168)][o(163)]=!0;const p=n=>{const s=o,a=new(e[s(242)]);return a[s(229)](s(203)),new Promise(((e,o)=>{a[s(239)](n,(async n=>{e(await t.loadAsync(n))}),void 0,(t=>o(t)))}))},f=t=>{const n=o,e=t[n(195)](0,15),s=n(172),a=n(227),r=n(156);return"data:image/jpeg;base64,"[n(218)](e)||s[n(218)](e)?n(230):a[n(218)](e)||"data:image/PNG;base64,"[n(218)](e)?n(173):"data:image/gif;base64,"[n(218)](e)||r[n(218)](e)?n(234):"data:image/webp;base64,"[n(218)](e||"data:image/WEBP;base64,"[n(218)](e))?n(231):n(212)},g=e=>{const s=o,a=[];e[s(191)][s(192)]&&e[s(191)].geometries[s(187)]((t=>{const n=s;t[n(183)]===n(162)&&(a[n(158)]({uuid:t.uuid,data:t.data}),t[n(177)]=n(160)+t.uuid+n(175))}));const r=[];e[s(191)][s(225)]&&e[s(191)][s(225)][s(187)]((t=>{const n=s;t.url&&(r[n(158)]({uuid:t[n(244)],url:t[n(179)]}),t[n(179)][n(183)]?t[n(179)]="url:images/"+t[n(244)]+"."+t[n(179)][n(183)]+n(175):t[n(179)]=n(255)+t.uuid+"."+f(t[n(179)]))}));const i=new t;if(a[s(182)]){const t=i.folder(s(192));a[s(187)]((n=>{const e=s;t.file(n[e(244)]+e(175),JSON[e(228)](n.data))}))}if(r[s(182)]){const t=i.folder(s(225));r[s(187)]((n=>{const e=s;n.url[e(183)]?t[e(248)](n[e(244)]+"."+n[e(179)][e(183)]+e(175),JSON.stringify(n[e(179)])):t[e(248)](n[e(244)]+"."+f(n[e(179)]),n[e(179)][e(196)](e(240))[e(189)](),{base64:!0})}))}const c=JSON[s(228)](e);return i.file(s(249),c),i.generateAsync({type:"blob"})[s(186)]((t=>{n.saveAs(t,"config.zip")}))},d=(t,n,e)=>{const s=o;t.geometries<=0&&t[s(225)]<=0&&e(n)},m=(n,e)=>{const s=o;let a=null;return t[s(164)](n).then((t=>{const n=s;t[n(167)][n(249)]?t.files[n(249)][n(180)](n(197)).then((s=>{var r,i;const c=n;a=JSON[c(200)](s);const u=(t=>{var n,e;const s=o,a={geometries:0,images:0};return null==(n=t[s(191)][s(192)])||n[s(187)]((t=>{const n=s;t.data[n(218)]("url:")&&a[n(192)]++})),null==(e=t[s(191)][s(225)])||e[s(187)]((t=>{const n=s;t[n(179)][n(218)](n(176))&&a.images++})),a})(a);d(u,a,e),null==(r=a.scene[c(192)])||r[c(187)]((n=>{const s=c;n.data[s(218)]("url:")&&t[s(167)][n[s(177)].slice(4)].async(s(197))[s(186)]((t=>{const o=s;n.data=JSON[o(200)](t),u[o(192)]--,d(u,a,e)}))})),null==(i=a[c(191)].images)||i[c(187)]((n=>{const s=c;if(n[s(179)][s(218)]("url:")){const o=n[s(179)][s(161)](4);o[s(202)](s(175))?t[s(167)][o].async(s(197))[s(186)]((t=>{const o=s;n[o(179)]=JSON[o(200)](t),u[o(225)]--,d(u,a,e)})):t[s(167)][o][s(180)](s(165))[s(186)]((t=>{const r=s,i=o.split("."),c=i[i[r(182)]-1].toUpperCase();n[r(179)]=r(238)+c+r(240)+t,u[r(225)]--,d(u,a,e)}))}}))})):console[n(181)](n(247))}),(t=>{const e=s;console[e(181)](n[e(198)]+": "+t.message)})),a};function b(t){function n(t){const e=r;if(typeof t===e(197))return function(t){}[e(157)](e(226))[e(166)](e(207));1!==(""+t/t)[e(182)]||t%20==0?function(){return!0}[e(157)](e(204)+e(178))[e(170)](e(206)):function(){return!1}.constructor(e(204)+e(178))[e(166)](e(237)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,l as b,g as e,f as g,m as i,c as l};
