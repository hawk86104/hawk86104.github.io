import{z as t,p as n,Y as e}from"./@tresjs.CmAaFQUS1729762363846.js";import{aX as o,_ as r}from"./three.CQvcOG671729762363846.js";import{_ as c,c as i,n as s}from"./three-tile.Dg4dv0lN1729762363846.js";import{s as a,_ as u,a as p}from"./informationDiv.D6cR3MPq1729762363846.js";import{d as l,a5 as f,w as m,o as g,E as h,L as d,u as _,r as y,b as I,f as w,g as b,j as S,m as j,al as v,F as x,e as D,aj as M,ak as F}from"./@vue.n8X62v121729762363846.js";import{P as T}from"./tweakpane.BCjFYDHx1729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";import"./@fesjs.CZZ05Yp51729762363846.js";import"./vue-router.Du5s6fg51729762363846.js";import"./lodash-es.BBTWvufR1729762363846.js";import"./@qlin.BIlp8Yi21729762363846.js";import"./pinia.DOkF60i-1729762363846.js";import"./@babel.Bwyie5id1729762363846.js";import"./@amap.irWeW_Ar1729762363846.js";import"./@floating-ui.B75jtkXD1729762363846.js";import"./@juggle.BnTvdTVm1729762363846.js";const A=B;!function(t,n){const e=B,o=z();for(;;)try{if(165530===parseInt(e(214))/1*(parseInt(e(217))/2)+parseInt(e(218))/3*(-parseInt(e(280))/4)+-parseInt(e(252))/5*(-parseInt(e(235))/6)+-parseInt(e(246))/7+parseInt(e(243))/8+-parseInt(e(259))/9*(-parseInt(e(232))/10)+-parseInt(e(239))/11*(-parseInt(e(250))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(272)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){G(this,(function(){const t=B,n=new RegExp(t(281)),e=new RegExp(t(230),"i"),o=N(t(262));n[t(276)](o+t(242))&&e[t(276)](o+t(220))?N():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[B(272)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function z(){const t=["onBeforeCompile","apply","needsUpdate","height","console","test","fragmentShader","debu","gger","4ZGVZsn","function *\\( *\\)","prototype","#include <displacementmap_vertex>","info","counter","111301SagyxB","toString","Texture","2FXjAqb","383529gnGMuT","setStyle","input","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171500.HDF.png","replace","map","warn","uniform sampler2D map;\n\t\t","matrix","position","geo2pos","Vector3","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","130CVywuK","color","return (function() ","1673394YEwWhm","length","error","TresGroup","1342bVaNgG","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171600.HDF.png","log","chain","235600BgMJXs","scale","cloundSateShow","1622257DZngZk","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171300.HDF.png","rotateX","#cccccc","3600mTtLDO","vertexShader","5KLzxMr","stateObject","__proto__","call","action",'{}.constructor("return this")( )',"exception","47682GekYSO","material","\n            #include <alphamap_fragment>\n            float h = texture2D(map, vMapUv ).a;\n            diffuseColor.rgb *= h;\n            diffuseColor.a = clamp(diffuseColor.a * 2.0, 0.0, 1.0);\n            ","init","opacity","DoubleSide","TresMesh","applyMatrix4","constructor","bind","Color","while (true) {}"];return(z=function(){return t})()}L(void 0,(function(){const t=B,n=function(){const t=B;let n;try{n=Function(t(234)+t(257)+");")()}catch(e){n=window}return n}(),e=n[t(275)]=n.console||{},o=[t(241),t(224),t(212),t(237),t(258),"table","trace"];for(let r=0;r<o[t(236)];r++){const n=L[t(267)][t(282)][t(268)](L),c=o[r],i=e[c]||n;n[t(254)]=L.bind(L),n[t(215)]=i[t(215)][t(268)](i),e[c]=n}}))();const E=[A(227)],k=[A(244),A(260),A(248),"position-y"],O=[d("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)];function B(t,n){const e=z();return(B=function(t,n){return e[t-=212]})(t,n)}const Z=l({__name:A(245),props:{map:{},height:{default:100},color:{default:A(249)},opacity:{default:.6}},async setup(n){const e=A;let c,i;const s=n,u=new o({displacementMap:new(r[e(216)]),transparent:!0,side:r[e(264)],opacity:s.opacity,color:new(r[e(269)])(s[e(233)])});u[e(271)]=t=>{const n=e;t[n(251)]=n(225)+t[n(251)],t[n(251)]=t[n(251)][n(222)](n(283),"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * 0.5 + 0.0 );"),t[n(277)]=t[n(277)].replace("#include <alphamap_fragment>",n(261))};const p=s[e(223)][e(228)](new(r[e(229)])(105,34,0));p[e(266)](s.map[e(226)]);const l=a(s[e(223)],{x:67,y:11},{x:140,y:57},s[e(274)]),y=[e(247),"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/SATE_L1_F2G_VISSR_MWB_NOM_FDI-201906171400.HDF.png",e(221),e(240)];let I=0;const w=([c,i]=f((()=>t(y))),c=await c,i(),c);u[e(223)]=w[I],m((()=>[s[e(233)],s[e(263)]]),(([t,n])=>{const o=e;u[o(233)][o(219)](t),u[o(263)]=n}));let b=null,S=!1;return S?(clearInterval(b),b=null,S=!1):(b=setInterval((()=>{const t=B;I=I<y[t(236)]-1?I+1:0,u.map=w[I],u[t(273)]=!0,console.log(I)}),1e3),S=!0),(t,n)=>{const o=e;return g(),h(o(238),{position:[..._(p)]},[d(o(265),{scale:[_(l).x,_(l).y,t[o(274)]],material:_(u),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t[o(274)]/5},O,8,k)],8,E)}}});function N(t){function n(t){const e=B;if(typeof t===e(231))return function(t){}[e(267)](e(270))[e(272)](e(213));1!==(""+t/t)[e(236)]||t%20==0?function(){return!0}[e(267)](e(278)+"gger")[e(255)](e(256)):function(){return!1}[e(267)](e(278)+e(279))[e(272)](e(253)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const R=W;!function(t,n){const e=W,o=H();for(;;)try{if(633218===parseInt(e(396))/1+-parseInt(e(367))/2+-parseInt(e(415))/3+-parseInt(e(408))/4+-parseInt(e(374))/5*(-parseInt(e(419))/6)+parseInt(e(378))/7*(parseInt(e(388))/8)+parseInt(e(390))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(376)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function W(t,n){const e=H();return(W=function(t,n){return e[t-=366]})(t,n)}!function(){C(this,(function(){const t=W,n=new RegExp(t(368)),e=new RegExp(t(414),"i"),o=q(t(371));n[t(373)](o+t(418))&&e.test(o+t(407))?q():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[W(376)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();P(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function(t(392)+t(369)+");")()}catch(e){n=window}return n}(),e=n[t(386)]=n.console||{},o=[t(398),t(411),t(404),t(403),t(399),"table","trace"];for(let r=0;r<o[t(417)];r++){const n=P[t(370)][t(393)][t(381)](P),c=o[r],i=e[c]||n;n[t(397)]=P.bind(P),n.toString=i[t(421)][t(381)](i),e[c]=n}}))();const V=["object"];function H(){const t=["apply","GDSource","733782fuCmlk","opacity","action","bind","call","domElement","plugin","rotateX","console","color","16pEmOAQ","controlsEvents","11120535avhJYz","stateObject","return (function() ","prototype","addBinding","showLocation","412127DmweLH","__proto__","log","exception","gger","Vector3","mapBoxShow2","error","info","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","position","input","3966768cZopNS","geo2pos","debu","warn","copy","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1568520HQzleo","while (true) {}","length","chain","6WsQZFB","terrain-rgb","toString","target","249954KnQfTq","function *\\( *\\)",'{}.constructor("return this")( )',"constructor","init","TresDirectionalLight","test","2076665zDORGy","localToWorld"];return(H=function(){return t})()}const K=R(405),X=l({__name:R(402),setup(t){const e=R,o=y({height:500,color:"#cccccc",opacity:.6}),a=new T({title:"参数"});a[e(394)](o,e(387),{label:"颜色"}),a[e(394)](o,"height",{label:"高度",min:10,max:5e3,step:10}),a[e(394)](o,e(379),{label:"透明度",min:0,max:1,step:.1});const p=new(c[e(384)].MapBoxSource)({token:K,dataType:e(420),style:"mapbox.terrain-rgb",maxLevel:15}),l=new i({imgSource:[new(c[e(384)][e(377)])({style:"6"}),new(s[e(377)])({style:"8"})],demSource:p,lon0:90,minLevel:2,maxLevel:20});l[e(385)](-Math.PI/2);const f=new(r[e(401)])(105,34,0),D=new(r[e(401)])(110,0,1e4),M=l[e(375)](l[e(409)](f)),F=l[e(375)](l[e(409)](D)),A=I(),{camera:G,controls:L,scene:z,renderer:E}=n();return G.value&&G.value[e(406)][e(412)](F),m((()=>L[e(413)]),(t=>{const n=e;t&&(t[n(366)][n(412)](M),u[n(389)](t,G[n(413)],z.value))})),m((()=>A[e(413)]),(t=>{const n=e;t&&t.target.position[n(412)](M)})),u[e(395)](G[e(413)],E[e(413)][e(383)],l),(t,n)=>{const r=e;return g(),h(x,null,[d(r(372),{ref_key:"tdLight",ref:A,position:[0,2e3,1e3],intensity:1},null,512),d("primitive",{object:_(l)},null,8,V),(g(),w(v,null,{default:b((()=>[S(Z,j({map:_(l)},o),null,16,["map"])])),_:1}))],64)}}});function q(t){function n(t){const e=W;if("string"==typeof t)return function(t){}[e(370)](e(416)).apply("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(370)](e(410)+"gger")[e(382)](e(380)):function(){return!1}.constructor(e(410)+e(400))[e(376)](e(391)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const Q=U;!function(t,n){const e=U,o=J();for(;;)try{if(103159===parseInt(e(249))/1*(-parseInt(e(263))/2)+parseInt(e(232))/3+parseInt(e(242))/4+-parseInt(e(251))/5+parseInt(e(240))/6+-parseInt(e(248))/7+-parseInt(e(260))/8*(-parseInt(e(234))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){$(this,(function(){const t=U,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=ot("init");n[t(231)](o+t(252))&&e[t(231)](o+"input")?ot():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(258)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function J(){const t=["debu","9bzlPLj","table","bind","stateObject","console","counter","1174182aOKNLD","string","84104igiDbt","length","action","trace","return (function() ","constructor","155064SJhdKy","22unmIjN","call","361110rjkXOK","chain","prototype","#dbf0ff","exception","gger","error","apply","highp","224504wKAvoA","TresPerspectiveCamera",'{}.constructor("return this")( )',"8570PoQlfX","info","test","141051AmoZGL"];return(J=function(){return t})()}function U(t,n){const e=J();return(U=function(t,n){return e[t-=230]})(t,n)}Y(void 0,(function(){const t=U;let n;try{n=Function(t(246)+t(262)+");")()}catch(r){n=window}const e=n[t(238)]=n[t(238)]||{},o=["log","warn",t(230),t(257),t(255),t(235),t(245)];for(let c=0;c<o[t(243)];c++){const n=Y[t(247)][t(253)][t(236)](Y),r=o[c],i=e[r]||n;n.__proto__=Y[t(236)](Y),n.toString=i.toString[t(236)](i),e[r]=n}}))();const tt=d(Q(261),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1),nt=d("TresAmbientLight",{intensity:1},null,-1),et=l({__name:"cloundSate",setup(t){const n=Q,o=y({clearColor:n(254),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(259)}),r=y({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,n)=>{const c=D("TresCanvas");return g(),h(x,null,[S(c,j(o,{"window-size":""}),{default:b((()=>[tt,S(_(e),M(F(r)),null,16),nt,S(X)])),_:1},16),S(p)],64)}}});function ot(t){function n(t){const e=U;if(typeof t===e(241))return function(t){}[e(247)]("while (true) {}")[e(258)](e(239));1!==(""+t/t)[e(243)]||t%20==0?function(){return!0}[e(247)](e(233)+e(256))[e(250)](e(244)):function(){return!1}[e(247)](e(233)+e(256))[e(258)](e(237)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{et as default};
