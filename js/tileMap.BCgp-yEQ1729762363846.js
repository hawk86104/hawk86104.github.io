import{_ as t,a9 as n,V as e,cD as o}from"./three.CQvcOG671729762363846.js";import{P as r}from"./tweakpane.BCjFYDHx1729762363846.js";import{p as s,U as a}from"./@tresjs.CmAaFQUS1729762363846.js";import{P as i,b as c,c as u,M as p,T as l,a as f,d as m}from"./index.D3DMGidC1729762363846.js";import{d as g,a2 as h,w as d,o as b,E as w,u as j,Y as x,r as y,e as I,j as v,g as _,f as z,al as B,m as M,F as k}from"./@vue.n8X62v121729762363846.js";import{_ as C}from"./raycasterEvent.67ovnuBk1729762363846.js";import{a as S}from"./utils.BKAEJ67Y1729762363846.js";import"./@vueuse.DvZn62wO1729762363846.js";import"./@mapbox.JoFM55BZ1729762363846.js";import"./@amap.irWeW_Ar1729762363846.js";import"./three-mesh-bvh.B7v5qCD_1729762363846.js";import"./three-custom-shader-material.CWa5qaDo1729762363846.js";import"./object-hash.BiCA96VN1729762363846.js";import"./jszip.B5yG0Hpd1729762363846.js";import"./glsl-tokenizer.DodQ2RCy1729762363846.js";import"./glsl-token-string.Eyit8_HG1729762363846.js";import"./glsl-token-functions.D2Lt0tGo1729762363846.js";import"./@fesjs.CZZ05Yp51729762363846.js";import"./vue-router.Du5s6fg51729762363846.js";import"./lodash-es.BBTWvufR1729762363846.js";import"./@qlin.BIlp8Yi21729762363846.js";import"./pinia.DOkF60i-1729762363846.js";import"./@babel.Bwyie5id1729762363846.js";import"./@floating-ui.B75jtkXD1729762363846.js";import"./@juggle.BnTvdTVm1729762363846.js";import"./@tweenjs.l_ZFvaN51729762363846.js";import"./utils.g_yV3y2C1729762363846.js";import"./d3-geo.7JUgQZ7N1729762363846.js";import"./d3-array.CKz3hFNy1729762363846.js";const R=Z;function Z(t,n){const e=W();return(Z=function(t,n){return e[t-=375]})(t,n)}!function(t,n){const e=Z,o=W();for(;;)try{if(633849===parseInt(e(402))/1*(-parseInt(e(384))/2)+-parseInt(e(436))/3*(parseInt(e(376))/4)+parseInt(e(395))/5+parseInt(e(401))/6*(parseInt(e(419))/7)+-parseInt(e(434))/8*(-parseInt(e(432))/9)+parseInt(e(389))/10+-parseInt(e(398))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=N(t(391));n[t(394)](o+t(375))&&e.test(o+t(380))?N():o("0")}))()}();const E=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(416)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();E(void 0,(function(){const t=Z;let n;try{n=Function(t(417)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(427)]=n[t(427)]||{},o=[t(409),t(383),t(385),"error",t(421),t(390),"trace"];for(let s=0;s<o[t(444)];s++){const n=E[t(422)][t(447)][t(415)](E),r=o[s],a=e[r]||n;n[t(379)]=E[t(415)](E),n[t(425)]=a[t(425)][t(415)](a),e[r]=n}}))();const T=[R(387),R(403)];function W(){const t=["while (true) {}","stateObject","mapCenter","source","log","genContrast","abs","showBoundingBox","camera","maxZoom","bind","apply","return (function() ","innerHeight","21mKQYbg","set","exception","constructor","position","opposite","toString","tileMapMesh","console","action","innerWidth","showTileNo","coordType","5792067Ikwcng","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","8ZWyIgR","genSaturation","55677kZYRiR","wireframe","enableDamping","string","Vector3","counter","Color","useStandardMaterial","length","target","update","prototype","gger","chain","28zrXssv","debu","monochrome","__proto__","input","dampingFactor","primitive","warn","383140uudwdW","info","filter","object","isMonochrome","10952340qHpLJw","table","init","bbox","useWorker","test","4140660kiQKNi","lookAt","genBright","20683454brxiHN","https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}","far","2069994yhiCHX","5WJPify","rotation","value"];return(W=function(){return t})()}const H=g({__name:R(426),props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},opposite:{type:Boolean,default:!1},genBright:{default:1},genContrast:{default:1},genSaturation:{default:1},monochrome:{default:"#fff"},isMonochrome:{type:Boolean,default:!1},mapCenter:{},tweenInstance:{default:null}},setup(r,{expose:m}){const g=R,x=r,{renderer:y,scene:I}=s();(new i)[g(431)]=c;const v=new u;v[g(408)]=g(433),v[g(431)]=c;const _=new p;_[g(408)]=g(399),_[g(430)]=!1,_[g(393)]=!0;const z=new l(v,_);if(z[g(412)]=!1,z[g(437)]=!1,z.flatShading=!1,z[g(443)]=!1,z[g(386)]={opposite:x[g(424)],monochrome:x[g(388)]?{r:.299,g:.587,b:.114}:null,genBright:x.genBright,genContrast:x[g(410)],genSaturation:x[g(435)]},x[g(378)]){let n=new(t[g(442)])(x[g(378)]);z.filter&&(z[g(386)][g(378)]={r:n.r,g:n.g,b:n.b})}const B=new f;B.provider=z,B[g(392)]=x[g(392)],B.maxZoom=x[g(414)];const M=new n(60,window[g(429)]/window[g(418)],1,1e8);M.up=new(t[g(440)])(0,1,0),M[g(423)][g(420)](x[g(407)][0],x[g(407)][2],-x[g(407)][1]),M[g(396)](new e(M.position.x,0,M[g(423)].z-2e3)),B[g(413)]=M;let k=null;h((()=>{const t=g;y[t(404)]&&!k&&(k=new o(M,y[t(404)].domElement),k[t(438)]=!0,k[t(381)]=.05,k.minDistance=600,k.position0[t(420)](M[t(423)].x,M[t(423)].y,M[t(423)].z),k[t(445)][t(420)](M[t(423)].x,0,M[t(423)].z-2e3))})),d((()=>[x[g(424)],x[g(388)],x[g(378)]]),(([n,e,o])=>{const r=g;if(z[r(386)]){let s=new(t[r(442)])(o);z[r(386)].opposite=n,z[r(386)][r(378)]=e?{r:s.r,g:s.g,b:s.b}:null}})),d((()=>[x[g(397)],x[g(410)],x[g(435)]]),(([t,n,e])=>{const o=g;z.filter&&(z[o(386)].genBright=t,z[o(386)][o(410)]=n,z[o(386)].genSaturation=e)}));const{onLoop:C}=a();return C((()=>{var t;const n=g;if(y.value){null==(t=x.tweenInstance)||t[n(446)](),k&&k[n(446)](),B[n(446)]();const e=50*Math[n(411)](M[n(423)].y);M[n(400)]=e+5e3,M.updateProjectionMatrix(),y.value.render(I[n(404)],M)}})),m({camera:M,map:B,orbitControl:k}),(t,n)=>{const e=g;return b(),w(e(382),{object:j(B),rotation:[-Math.PI/2,0,0]},null,8,T)}}});function N(t){function n(t){const e=Z;if(typeof t===e(439))return function(t){}[e(422)](e(405))[e(416)](e(441));1!==(""+t/t)[e(444)]||t%20==0?function(){return!0}[e(422)]("debu"+e(448)).call(e(428)):function(){return!1}[e(422)](e(377)+"gger")[e(416)](e(406)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=L;function L(t,n){const e=P();return(L=function(t,n){return e[t-=132]})(t,n)}!function(t,n){const e=L,o=P();for(;;)try{if(845697===-parseInt(e(153))/1*(-parseInt(e(141))/2)+-parseInt(e(156))/3*(parseInt(e(173))/4)+parseInt(e(187))/5*(-parseInt(e(151))/6)+parseInt(e(158))/7+parseInt(e(138))/8+-parseInt(e(140))/9*(parseInt(e(181))/10)+-parseInt(e(142))/11*(-parseInt(e(172))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(162)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){A(this,(function(){const t=L,n=new RegExp(t(160)),e=new RegExp(t(176),"i"),o=X(t(186));n.test(o+"chain")&&e[t(155)](o+"input")?X():o("0")}))()}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[L(162)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function P(){const t=["while (true) {}","54gEWzpN","60VCOaFQ","4327301UMDbOb","#4688b5","xjk","info","TresCanvas","console","tileMapMeshRef","string","nss","3534rpwDaX","length","3880lnoBOC","stateObject","test","2280NZDizq","bind","3723454XyXZTN","camera","function *\\( *\\)","单色滤镜","apply","NoToneMapping","addBinding","__proto__","log","toString","opposite","牛首山","genContrast","return (function() ","36RZkjzh","4432bKWIBd","tileMap","prototype","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","tweenInstance","tileMapRef","warn","list","127410vKLHSH","table","error","orbitControl","SRGBColorSpace","init","9360sgvzkJ","Vector3","value","constructor","饱和度","滤镜颜色","debu","对比度","change","monochrome","gger","isMonochrome","manual","奥体中心","exception","8306688FQDUkB"];return(P=function(){return t})()}O(void 0,(function(){const t=L,n=function(){const t=L;let n;try{n=Function(t(171)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(147)]||{},o=[t(166),t(179),t(145),t(183),t(137),t(182),"trace"];for(let r=0;r<o[t(152)];r++){const n=O.constructor[t(175)][t(157)](O),s=o[r],a=e[s]||n;n[t(165)]=O[t(157)](O),n[t(167)]=a[t(167)][t(157)](a),e[s]=n}}))();const Q=g({__name:F(174),setup(n){const e=F,o=m(118.779958,32.017136),s=[o[0],o[1],5e3],a=x(),i=y({opposite:!0,genBright:1.3,genContrast:1,genSaturation:1,isMonochrome:!0,monochrome:e(143),mapCenter:s,tweenInstance:null}),c=new r({title:"参数"});c.addBinding(i,e(168),{label:"反色"}),c.addBinding(i,"genBright",{label:"高亮",min:.1,max:3,step:.1}),c[e(164)](i,e(170),{label:e(194),min:.1,max:3,step:.1}),c.addBinding(i,"genSaturation",{label:e(191),min:.1,max:3,step:.1}),c[e(164)](i,e(134),{label:e(161)}),c[e(164)](i,e(132),{label:e(192)});const u={at:m(118.7425,31.9998),xjk:m(118.7842,32.0418),nss:m(118.7503,31.9082)};c.addBlade({view:e(180),label:"飞去",options:[{text:e(136),value:"at"},{text:"新街口",value:e(144)},{text:e(169),value:e(150)}],value:"at"}).on(e(195),(n=>{const o=e,r=new(t[o(188)])(u[n[o(189)]][0],2e3,-u[n[o(189)]][1]);i[o(177)]=S(a[o(189)].camera,r,a.value[o(184)],[0,-300],4e3)}));const p=y({clearColor:"#201919",antialias:!0,logarithmicDepthBuffer:!0,renderMode:e(135),outputColorSpace:t[e(185)],toneMapping:t[e(163)]});return setTimeout((()=>{const n=e,o=u.at,r=new(t[n(188)])(o[0],1600,-o[1]);i.tweenInstance=S(a[n(189)][n(159)],r,a[n(189)][n(184)],[-2e3,-2e3],2e3)}),1e3),(t,n)=>{const o=e,r=I(o(146));return b(),w(k,null,[v(r,M(p,{"window-size":""}),{default:_((()=>[(b(),z(B,null,{default:_((()=>[v(H,M(i,{ref_key:o(148),ref:a,bbox:[80,16,128,50]}),null,16)])),_:1}))])),_:1},16),v(C,{tileMapRef:a[o(189)]},null,8,[o(178)])],64)}}});function X(t){function n(t){const e=L;if(typeof t===e(149))return function(t){}[e(190)](e(139))[e(162)]("counter");1!==(""+t/t)[e(152)]||t%20==0?function(){return!0}[e(190)](e(193)+"gger").call("action"):function(){return!1}[e(190)](e(193)+e(133)).apply(e(154)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Q as default};
