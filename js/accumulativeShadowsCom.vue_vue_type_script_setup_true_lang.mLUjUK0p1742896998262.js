import{_ as t}from"./three.0CcRceKb1742896998262.js";import{m as n}from"./@tresjs.KzbsBNvc1742896998262.js";import{d as e,P as o}from"./@pmndrs.o17bi-dk1742896998262.js";import{d as a,b as r,w as s,a2 as i,o as c,H as u,N as l,aj as p,ak as d}from"./@vue.L-brCdZe1742896998262.js";const h=w;!function(t,n){const e=w,o=M();for(;;)try{if(889841===-parseInt(e(475))/1+parseInt(e(418))/2+-parseInt(e(422))/3*(-parseInt(e(445))/4)+parseInt(e(428))/5+parseInt(e(487))/6*(-parseInt(e(476))/7)+parseInt(e(456))/8+-parseInt(e(440))/9)break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const f=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){f(this,(function(){const t=w,n=new RegExp(t(459)),e=new RegExp(t(430),"i"),o=y(t(425));n[t(457)](o+t(471))&&e.test(o+"input")?y():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function w(t,n){const e=M();return w=function(t,n){return e[t-=409]},w(t,n)}m(void 0,(function(){const t=w;let n;try{n=Function(t(409)+t(410)+");")()}catch(a){n=window}const e=n.console=n.console||{},o=["log",t(424),t(412),t(466),t(411),t(448),t(451)];for(let r=0;r<o[t(452)];r++){const n=m.constructor.prototype[t(454)](m),a=o[r],s=e[a]||n;n.__proto__=m[t(454)](m),n.toString=s[t(446)].bind(s),e[a]=n}}))();const g=["rotate-x"],b=a({__name:h(473),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:h(439)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(a){const f=h,m=a;let w=r();const{extend:b,scene:y,renderer:M,camera:I}=n();b({SoftShadowMaterial:e});const z={position:(new(t[f(435)]))[f(472)](m[f(450)].x,m.lightPosition.y,m.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},S=new o(M.value,y[f(474)],z[f(416)]),P={map:S.progressiveLightMap2.texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:m[f(479)],alphaTest:m[f(444)],opacity:m[f(423)],color:m[f(417)]},x=new(t[f(465)]);for(let n=0;n<z[f(480)];n++){const n=new(t[f(481)])(16777215,z[f(431)]/z[f(480)]);n[f(469)]=!0,n[f(455)][f(467)]=z[f(467)],n.shadow[f(433)][f(441)]=z.near,n.shadow[f(433)].far=z.far,n.shadow.camera[f(436)]=z.size/2,n.shadow[f(433)].left=-z.size/2,n.shadow[f(433)][f(420)]=z.size/2,n[f(455)].camera.bottom=-z.size/2,n[f(455)].mapSize.width=z[f(416)],n.shadow.mapSize[f(461)]=z[f(416)],x[f(488)](n)}const v=()=>{const n=f,e=z.position.length();for(let o=0;o<x[n(489)].length;o++){const a=x[n(489)][o];if(Math.random()>m.ambient)a[n(483)].set(z[n(483)].x+t[n(484)][n(477)](z[n(463)]),z[n(483)].y+t[n(484)].randFloatSpread(z.radius),z[n(483)].z+t[n(484)][n(477)](z.radius));else{let t=Math[n(415)](2*Math[n(443)]()-1)-Math.PI/2,o=2*Math.PI*Math[n(443)]();a[n(483)].set(Math[n(482)](t)*Math.cos(o)*e,Math[n(426)](Math[n(482)](t)*Math.sin(o)*e),Math[n(419)](t)*e)}}},_=(t=1)=>{const n=f;y[n(474)][n(488)](x),S.prepare();for(let e=0;e<t;e++)v(),S.update(I[n(474)],m[n(478)]),console[n(470)](n(427),e);y.value.remove(x),S[n(414)]()};s((()=>w[f(474)]),(t=>{const n=f;t&&(S.configure(t),S[n(458)](),console[n(470)]("shadows render start"),_(m[n(460)]),console[n(470)](n(464)))}));const j=()=>{const t=f;S[t(458)](),_(m[t(460)])};return i((()=>{const t=f;w[t(474)]&&(m.opacity&&(w[t(474)][t(468)][t(423)]=m[t(423)]),m[t(444)]&&(w.value[t(468)][t(444)]=m[t(444)]),m.color&&w[t(474)][t(468)][t(417)][t(472)](m[t(417)]),m.blend&&(w[t(474)][t(468)].blend=m.blend))})),s((()=>m[f(450)]),(t=>{const n=f;t&&(console.log(m[n(450)]),z[n(483)][n(472)](t.x,t.y,t.z),j())}),{deep:!0}),s((()=>[m[f(460)],m[f(478)],m[f(442)]]),(()=>{j()})),(t,n)=>{const e=f;return c(),u(e(449),{"receive-shadow":"",ref_key:"gPlane",ref:w,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=l(e(429),{args:[1,1]},null,-1)),l(e(485),p(d(P)),null,16)],8,g)}}});function y(t){function n(t){const e=w;if(typeof t===e(453))return function(t){}.constructor(e(437)).apply(e(421));1!==(""+t/t)[e(452)]||t%20==0?function(){return!0}[e(434)](e(447)+e(486))[e(432)](e(413)):function(){return!1}.constructor(e(447)+e(486))[e(462)](e(438)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function M(){const t=["591101uDbRco","randFloatSpread","blendWindow","blend","amount","DirectionalLight","cos","position","MathUtils","TresSoftShadowMaterial","gger","30LdaCqX","add","children","return (function() ",'{}.constructor("return this")( )',"exception","info","action","finish","acos","mapSize","color","911898muvoCd","sin","top","counter","318738wnCgCT","opacity","warn","init","abs","shadows plm update","4312275wyPIgq","TresPlaneGeometry","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","intensity","call","camera","constructor","Vector3","right","while (true) {}","stateObject","#000000","23152941kAIIpY","near","ambient","random","alphaTest","40VDRjSK","toString","debu","table","TresMesh","lightPosition","trace","length","string","bind","shadow","13186080pVKdjT","test","clear","function *\\( *\\)","frames","height","apply","radius","shadows render end","Group","error","bias","material","castShadow","log","chain","set","accumulativeShadowsCom","value","144519uhGKuP"];return(M=function(){return t})()}export{b as _};
