import{d as t,r as n,N as e}from"./@tresjs.aawOCoPx1718698100638.js";import{a3 as r,Z as o,c as i,j as s,az as a,s as c,cE as u,r as l}from"./three.erXpfL-r1718698100638.js";import{C as f}from"./three-custom-shader-material.tCYfd9sl1718698100638.js";import"./object-hash.SpRbwitp1718698100638.js";import"./@amap.TW6HTmRb1718698100638.js";import"./glsl-tokenizer.RLlRtTA81718698100638.js";import{P as p}from"./tweakpane.qqn77PB81718698100638.js";import{a as h}from"./axios.o4dqSy1c1718698100638.js";import{d as g,r as m,a3 as d,q as v,e as w,o as y,f as b,g as I,J as j,j as x,u as _,aj as C,ak as T,m as R}from"./@vue.CpOXM7bB1718698100638.js";import"./@vueuse.TW6-TkVF1718698100638.js";import"./glsl-token-string.IbwI77yI1718698100638.js";import"./glsl-token-functions.LDKY2qLw1718698100638.js";import"./jszip.KspeudHJ1718698100638.js";!function(t,n){const e=S,r=z();for(;;)try{if(313886===-parseInt(e(462))/1*(parseInt(e(475))/2)+-parseInt(e(443))/3+parseInt(e(442))/4*(-parseInt(e(460))/5)+-parseInt(e(441))/6+-parseInt(e(464))/7+-parseInt(e(457))/8*(-parseInt(e(439))/9)+-parseInt(e(449))/10*(-parseInt(e(465))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const k=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(473)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function z(){const t=["error","3217584GheNda","1427764QOikvF","694356mOgopN","varying vec2 vUv;\n","__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","utime","log","1840HaGjQN","function *\\( *\\)","exception","uniform sampler2D  utexture;\n","chain","replace","string","uniform float utime;\n","4830512HOcTNS","bind","debu","5QOadTQ","counter","1ikBqAw","warn","3360084bgnLNg","89969OnjRHB","test","utexture","constructor","toString","prototype","\t\n            varying vec2 vUv;\n            void main() {\n                csm_Position = position * vec3(1.0);\n                vUv = uv;\n            } ","split","apply","length","380390HlGgGM","stateObject","material","action","umouse","void main()","uniforms","csm_DiffuseColor","console","gger",'{}.constructor("return this")( )',"call","9uKXKIy"];return(z=function(){return t})()}!function(){k(this,(function(){const t=S,n=new RegExp(t(450)),e=new RegExp(t(446),"i"),r=B("init");n[t(466)](r+t(453))&&e.test(r+"input")?B():r("0")}))()}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[S(473)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function S(t,n){const e=z();return(S=function(t,n){return e[t-=436]})(t,n)}A(void 0,(function(){const t=S,n=function(){const t=S;let n;try{n=Function("return (function() "+t(437)+");")()}catch(e){n=window}return n}(),e=n[t(483)]=n.console||{},r=["log",t(463),"info",t(440),t(451),"table","trace"];for(let o=0;o<r[t(474)];o++){const n=A[t(468)][t(470)].bind(A),i=r[o],s=e[i]||n;n[t(445)]=A[t(458)](A),n.toString=s[t(469)][t(458)](s),e[i]=n}}))();class U{constructor(t,n){const e=S,i=U.replaceVariable(t),s=new f({baseMaterial:r,vertexShader:e(471),fragmentShader:i,side:o,uniforms:n[e(477)][e(481)]});this[e(477)]=s,console[e(448)](this.material)}static replaceVariable(t){const n=S;t="varying vec2 vUv;\n"+t;if(/iTime|iTimeDelta/g[n(466)](t)){let e=t[n(472)](n(444));t=(t="varying vec2 vUv;\n"+n(456)+e[1])[n(454)](/iTime|iTimeDelta/g,n(447))}if(/iResolution\.[a-zA-Z_]+/g[n(466)](t)){let e=t[n(472)](n(444));t=(t=(t=n(444)+"uniform vec2 uresolution;\n"+e[1]).replace(/iResolution\.[a-zA-Z_]+/g,"1."))[n(454)](/iResolution/g,"1.")}if(/iChannel0|iChannel1|iChannel2|iChannel3/g.test(t)){let e=t[n(472)]("varying vec2 vUv;\n");t=(t=n(444)+n(452)+e[1]).replace(/iChannel0|iChannel1|iChannel2|iChannel3/g,n(467))}return t[n(454)](/iMouse/g,n(479)),t[n(454)](/void mainImage\( out vec4 fragColor, in vec2 fragCoord \)/g,n(480))[n(454)](/fragColor/g,n(482))[n(454)](/fragCoord/g,"vUv")}}function B(t){function n(t){const e=S;if(typeof t===e(455))return function(t){}.constructor("while (true) {}")[e(473)](e(461));1!==(""+t/t)[e(474)]||t%20==0?function(){return!0}[e(468)](e(459)+e(436))[e(438)](e(478)):function(){return!1}.constructor(e(459)+e(436))[e(473)](e(476)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function H(){const t=["string","Shader","20oLxSsB","2765799fDyBiB","TresCanvas","10blgUBs","uniforms","stateObject","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","https://www.shadertoy.com/api/v1/shaders/","constructor","data","input","BOX","412819uHICfx","__proto__","https://www.shadertoy.com/view/ttKGDt","add","perspectiveCameraRef","geometry","table","几何体","513897FndVqf","#ffffff","action","children",'{}.constructor("return this")( )',"TorusKnot","function *\\( *\\)","bind","primitive","228ZZGrhb","6NHgcXJ","chain","TresAxesHelper","exception","code","length","#000000","shadertoyMaterial","dispose","prototype","info","toString","322010hPUkbN","object","apply","Plane","clear","Error","addres","14QzRJyp","material","catch","24IPUMRE","log","value","trace","renderpass","call","counter","TresPerspectiveCamera","while (true) {}","299887lMpqjR","console","change","https://www.shadertoy.com/view/mtyGWy","shadervalue","debu","43514OKfnfQ","https://www.shadertoy.com/view/tlVGDt","1734775WAbiza","gger","test","TresGridHelper","addBlade","warn"];return(H=function(){return t})()}const D=Q;!function(t,n){const e=Q,r=H();for(;;)try{if(459255===-parseInt(e(390))/1*(parseInt(e(372))/2)+-parseInt(e(420))/3*(-parseInt(e(400))/4)+-parseInt(e(392))/5*(parseInt(e(430))/6)+-parseInt(e(384))/7*(-parseInt(e(375))/8)+-parseInt(e(401))/9+parseInt(e(403))/10*(-parseInt(e(412))/11)+parseInt(e(429))/12*(parseInt(e(442))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(444)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=Q,n=new RegExp(t(426)),e=new RegExp(t(406),"i"),r=$("init");n[t(394)](r+t(431))&&e[t(394)](r+t(410))?$():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[Q(444)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();O(void 0,(function(){const t=Q,n=function(){const t=Q;let n;try{n=Function("return (function() "+t(424)+");")()}catch(e){n=window}return n}(),e=n[t(385)]=n.console||{},r=["log",t(397),t(440),"error",t(433),t(418),t(378)];for(let o=0;o<r[t(435)];o++){const n=O.constructor[t(439)][t(427)](O),i=r[o],s=e[i]||n;n[t(413)]=O.bind(O),n[t(441)]=s[t(441)].bind(s),e[i]=n}}))();const Z={ref:D(416),position:[300,250,-122],fov:45,near:1,far:1e4},N=j("TresAmbientLight",{color:D(421)},null,-1),E=j("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:D(421)},null,-1),L=[D(443),"side"],M=j(D(432),{args:[1e3],position:[0,19,0]},null,-1),P=j(D(395),{args:[6e3,100],position:[0,19,0]},null,-1);function Q(t,n){const e=H();return(Q=function(t,n){return e[t-=369]})(t,n)}const K=g({__name:D(437),async setup(r){const f=D;let g,k;const z={clearColor:f(436),shadows:!0,alpha:!1,useLegacyLights:!0},A={autoRotate:!0,enableDamping:!0},S=new p({title:"参数"}),B=m({addres:f(387),shadervalue:""});let H=([g,k]=d((()=>e(["./plugins/earthSample/image/earthA/moon_ring.png"]))),g=await g,k(),g),G=new i,O=m({material:{uniforms:{utime:{value:0},uresolution:{value:new s(40,40)},utexture:{value:H}}}}),Q=new a(100,100,100);S[f(396)]({view:"list",label:"shadertoy在线地址",parse:t=>String(t),options:[{text:"1",value:f(387)},{text:"2",value:f(391)},{text:"3",value:f(414)}],value:f(387)}).on(f(386),(t=>{const n=f;B[n(371)]=t[n(377)],F(Q)}));let K=new a(100,100,100),$=new c(100,100),q=new u(100,10,100,16);S.addBlade({view:"list",label:f(419),options:[{text:f(411),value:K},{text:f(445),value:$},{text:f(425),value:q}],value:K}).on("change",(t=>{Q=t[f(377)],F(Q)}));const F=t=>{const n=f;let e=n(407)+B.addres.split("https://www.shadertoy.com/view/")[1]+"?key=BdHlhH";h.get(e).then((function(e){const r=n;e.data[r(370)]&&alert(e[r(409)][r(370)]),B[r(388)]=e[r(409)][r(399)][r(379)][0][r(434)];let o=new U(B[r(388)],O);G[r(369)]();let i=new l(t,o[r(373)]);G[r(415)](i),V(G,t)}))[n(374)]((function(t){console[n(376)](t)}))},V=(t,n)=>{const e=f;t[e(423)][0].geometry[e(438)](),t[e(423)][0][e(417)]=n},{onLoop:J}=n();return J((({delta:t})=>{const n=f;O[n(373)][n(404)].utime.value+=t})),v((()=>{let t=new a(100,100,100);F(t)})),(n,e)=>{const r=f,i=w(r(402));return y(),b(i,R(z,{"window-size":""}),{default:I((()=>[j(r(382),Z,null,512),x(_(t),C(T(A)),null,16),N,E,j(r(428),{object:_(G),side:_(o)},null,8,L),M,P])),_:1},16)}}});function $(t){function n(t){const e=Q;if(typeof t===e(398))return function(t){}.constructor(e(383))[e(444)](e(381));1!==(""+t/t)[e(435)]||t%20==0?function(){return!0}[e(408)](e(389)+"gger")[e(380)](e(422)):function(){return!1}[e(408)](e(389)+e(393))[e(444)](e(405)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{K as default};
