var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.1SJIE9a11731462043013.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.fPHf6LI31731462043013.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.9SAeh0Fo1731462043013.js";import{k as o,U as s,C as l,m as c,W as u,bc as p,h as f,_ as x,V as v,Q as m,as as w}from"./three.wKRaqyB-1731462043013.js";import{m as h,e as g}from"./@tresjs.xlnLF3O61731462043013.js";import{u as d}from"./index.R1BN6iSd1731462043013.js";import{F as y,C as S}from"./three-stdlib.1CDoKLj-1731462043013.js";import{d as _}from"./@vue.-THQH3GC1731462043013.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.iEswbC8q1731462043013.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.0ErHuUDz1731462043013.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.TDdUcPXA1731462043013.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.AKqNjNFA1731462043013.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.7hGs5oW01731462043013.js";const P=E;!function(t,e){const n=E,i=A();for(;;)try{if(211632===-parseInt(n(357))/1*(parseInt(n(352))/2)+-parseInt(n(355))/3+parseInt(n(370))/4*(parseInt(n(348))/5)+-parseInt(n(379))/6*(-parseInt(n(373))/7)+-parseInt(n(361))/8*(-parseInt(n(363))/9)+parseInt(n(353))/10+parseInt(n(369))/11*(-parseInt(n(365))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const z=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(364)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){z(this,(function(){const t=E,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(380),"i"),i=M("init");e[t(376)](i+t(375))&&n.test(i+t(356))?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[E(364)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();b(void 0,(function(){const t=E;let e;try{e=Function(t(358)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(367)]=e[t(367)]||{},i=["log","warn",t(360),t(371),t(347),t(377),t(350)];for(let a=0;a<i[t(381)];a++){const e=b[t(354)][t(362)][t(372)](b),r=i[a],o=n[r]||e;e[t(349)]=b[t(372)](b),e.toString=o[t(366)][t(372)](o),n[r]=e}}))();const I=P(346);function M(t){function e(t){const n=E;if(typeof t===n(378))return function(t){}[n(354)]("while (true) {}")[n(364)](n(359));1!==(""+t/t)[n(381)]||t%20==0?function(){return!0}[n(354)](n(382)+n(374))[n(351)]("action"):function(){return!1}[n(354)](n(382)+n(374)).apply(n(368)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function E(t,e){const n=A();return(E=function(t,e){return n[t-=346]})(t,e)}function A(){const t=["12ARQsWV","toString","console","stateObject","250833CFLpFw","12476NwdIJH","error","bind","7cFSEsv","gger","chain","test","table","string","1589034GAQGbR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","debu",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"exception","215GskuZz","__proto__","trace","call","496YJnHaG","1845050cbnxRi","constructor","713718kYoycr","input","1086QDHhUu","return (function() ","counter","info","24HAFeul","prototype","474624SYecIg","apply"];return(A=function(){return t})()}const D=O;!function(t,e){const n=O,i=j();for(;;)try{if(937740===parseInt(n(327))/1+parseInt(n(347))/2+parseInt(n(326))/3+-parseInt(n(332))/4+parseInt(n(343))/5*(parseInt(n(354))/6)+parseInt(n(329))/7*(parseInt(n(321))/8)+-parseInt(n(324))/9*(parseInt(n(351))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[O(336)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){L(this,(function(){const t=O,e=new RegExp(t(335)),n=new RegExp(t(337),"i"),i=V(t(340));e[t(342)](i+"chain")&&n[t(342)](i+t(349))?V():i("0")}))()}();const U=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function j(){const t=["constructor","init","stateObject","test","18325OjBjPD","gger","__proto__","while (true) {}","1687842WjygCD","log","input","\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t","1265740BuzBcn","call","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","36elwoHQ","console","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t","string","error","300640ARTVen","bind","table","126SFMwgb",'{}.constructor("return this")( )',"4159587VinDue","1659081utWhtG","return (function() ","84IDUikK","debu","clone","6610820BnEfEb","uniforms","length","function *\\( *\\)","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","defines"];return(j=function(){return t})()}function O(t,e){const n=j();return(O=function(t,e){return n[t-=319]})(t,e)}function R(t){const e=O,n=a({},t);return e(338)in t&&(n[e(338)]=a({},t.defines)),e(333)in t&&(n[e(333)]=s[e(331)](t[e(333)])),n}U(void 0,(function(){const t=O;let e;try{e=Function(t(328)+t(325)+");")()}catch(r){e=window}const n=e[t(355)]=e[t(355)]||{},i=[t(348),"warn","info",t(320),"exception",t(323),"trace"];for(let a=0;a<i.length;a++){const e=U[t(339)].prototype.bind(U),r=i[a],o=n[r]||e;e[t(345)]=U[t(322)](U),e.toString=o.toString[t(322)](o),n[r]=e}}))();const T={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:D(356),fragmentShader:D(350)+I+D(353)};function V(t){function e(t){const n=O;if(typeof t===n(319))return function(t){}[n(339)](n(346))[n(336)]("counter");1!==(""+t/t)[n(334)]||t%20==0?function(){return!0}[n(339)](n(330)+n(344))[n(352)]("action"):function(){return!1}[n(339)]("debugger")[n(336)](n(341)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const k=F;!function(t,e){const n=F,i=W();for(;;)try{if(396629===parseInt(n(361))/1*(-parseInt(n(343))/2)+-parseInt(n(350))/3*(-parseInt(n(389))/4)+parseInt(n(367))/5*(parseInt(n(340))/6)+parseInt(n(345))/7+-parseInt(n(369))/8*(-parseInt(n(357))/9)+-parseInt(n(386))/10+-parseInt(n(358))/11*(parseInt(n(379))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const H=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[F(363)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function F(t,e){const n=W();return(F=function(t,e){return n[t-=340]})(t,e)}!function(){H(this,(function(){const t=F,e=new RegExp(t(344)),n=new RegExp(t(365),"i"),i=Z(t(412));e[t(414)](i+t(356))&&n.test(i+t(346))?Z():i("0")}))()}();const N=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function W(){const t=["isWebGLRenderTarget","uniforms","3XjoGNd","setRenderTarget","apply","replace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"245355LKllFP","floorPowerOfTwo","1976272MdvGHz","debu","defines","warn","call","return (function() ","stateObject","getRenderTarget","prototype","originalMapSize","4837260tnZukQ","dispose","_mipQuad","value","error","_mipMaterials","setViewOffset","3676660LpaPjA","gger","X_IS_EVEN","2113052doWibI","setClearAlpha","floor","action","console","setSize","getClearAlpha","material","forEach","tDiffuse","while (true) {}","_swapTarget","log","image","parentMapSize","texture","string","width","bind","table","type","map","render","init","trace","test","counter","66eRrVCw","Y_IS_EVEN","parentLevel","282442UiLWSO","function *\\( *\\)","1931895vvjZSo","input","_copyQuad","getClearColor","toString","3QwqJRl","info","setClearColor","autoClear","constructor","height","chain","9ucrstg","11Xnjffb"];return(W=function(){return t})()}N(void 0,(function(){const t=F;let e;try{e=Function(t(374)+t(366)+");")()}catch(r){e=window}const n=e.console=e[t(393)]||{},i=[t(401),t(372),t(351),t(383),"exception",t(408),t(413)];for(let a=0;a<i.length;a++){const e=N[t(354)][t(377)].bind(N),r=i[a],o=n[r]||e;e.__proto__=N[t(407)](N),e.toString=o[t(349)][t(407)](o),n[r]=e}}))();const C=new l;class G{constructor(t){const e=F;!t&&(t="\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t");const n=R(T);n.fragmentShader=n.fragmentShader[e(364)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(R(n)),i[0][e(371)][e(388)]=0,i[0][e(371)][e(341)]=0,i[1]=new c(R(n)),i[1][e(371)][e(388)]=1,i[1][e(371)][e(341)]=0,i[2]=new c(R(n)),i[2][e(371)][e(388)]=0,i[2][e(371)].Y_IS_EVEN=1,i[3]=new c(R(n)),i[3][e(371)][e(388)]=1,i[3][e(371)][e(341)]=1;const r=new u;r[e(404)].minFilter=p,r[e(404)].magFilter=p,this[e(400)]=r,this[e(347)]=new y(new c(S)),this[e(381)]=new y(null),this._mipMaterials=i}update(t,e,n,i=!1){const r=F;t[r(359)]&&(t=t[r(404)]);const o=n.autoClear,s=n[r(395)](),l=n[r(376)]();n[r(348)](C);const c=this[r(347)],u=this[r(381)],p=this[r(400)],x=this[r(384)];let v,m;i?(v=f[r(368)](t.image[r(406)]),m=f[r(368)](t[r(402)][r(355)])):(v=Math[r(391)](t[r(402)][r(406)]),m=Math[r(391)](t.image[r(355)]));const w=Math[r(391)](1.5*v),h=Math[r(391)](m);e[r(394)](w,h),p[r(404)][r(409)]!==e[r(404)].type?(p[r(380)](),p.copy(e),p[r(404)][r(402)]=a({},p[r(404)][r(402)])):p.setSize(w,h),n[r(353)]=!1,n[r(352)](0),n[r(390)](),c[r(396)][r(360)][r(398)].value=t,c.camera[r(385)](v,m,0,0,w,h),n[r(362)](e),n.clear(),c[r(411)](n),n[r(362)](p),n.clear(),c.render(n);let g=v,d=m,y=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t[r(360)].map[r(382)]=p[r(404)],t.uniforms[r(342)][r(382)]=y,t[r(360)][r(403)][r(382)].set(g,d),t[r(360)][r(378)].value.set(v,m),u[r(396)]=t,g=Math[r(391)](g/2),d=Math[r(391)](d/2);const i=h-2*d;n[r(362)](e),u.camera[r(385)](g,d,-v,-i,w,h),u.render(n),n.setRenderTarget(p),t[r(360)][r(410)].value=e[r(404)],u[r(411)](n),y++}return n.setRenderTarget(l),n[r(390)](s),n[r(352)](C),n[r(353)]=o,y+1}[k(380)](){const t=k;this[t(400)][t(380)](),this._mipQuad[t(380)](),this[t(347)][t(380)](),this[t(384)][t(397)]((e=>e[t(380)]()))}}function Z(t){function e(t){const n=F;if(typeof t===n(405))return function(t){}.constructor(n(399))[n(363)](n(415));1!==(""+t/t).length||t%20==0?function(){return!0}[n(354)](n(370)+n(387))[n(373)](n(392)):function(){return!1}.constructor(n(370)+"gger")[n(363)](n(375)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const Q=B;function Y(){const t=["projectionMatrix","negate","updateMatrixWorld","setRenderTarget","trace","console","sub","UnsignedByteType","forEach","reflectorMipMap","counter","init","834828BtiPma","Plane","matrixWorldInverse","call","update","784OekNyD","getWorldPosition","Vector4","12210GHAmps","Vector3","while (true) {}","reflect","depth","log","applyMatrix4","bind","info","6RdTBdB","test","multiplyScalar","value","4423686qeMcoq","action","getRenderTarget","gger","projectPoint","debu","660374XYsqIf","clone","warn","38215HKzErd","4741MKFJFP","error","toString","7OEzKIm","apply","PerspectiveCamera","Matrix4","multiply","set","12002256yrKDpM","resolution","ignoreObjects","render","5086332wvuzHK","applyQuaternion","normal","string","sign","constructor","Quaternion","add","input","position","clear",'{}.constructor("return this")( )',"getWorldQuaternion","constant","function *\\( *\\)","parent","elements","chain","copy","visible","setMask"];return(Y=function(){return t})()}function B(t,e){const n=Y();return(B=function(t,e){return n[t-=371]})(t,e)}!function(t,e){const n=B,i=Y();for(;;)try{if(870584===-parseInt(n(385))/1+parseInt(n(375))/2*(parseInt(n(435))/3)+-parseInt(n(440))/4*(-parseInt(n(388))/5)+-parseInt(n(379))/6*(-parseInt(n(392))/7)+-parseInt(n(398))/8+-parseInt(n(402))/9+-parseInt(n(443))/10*(-parseInt(n(389))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const X=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[B(393)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){X(this,(function(){const t=B,e=new RegExp(t(416)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=J(t(434));e[t(376)](i+t(419))&&n[t(376)](i+t(410))?J():i("0")}))()}();const $=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[B(393)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();$(void 0,(function(){const t=B,e=function(){const t=B;let e;try{e=Function("return (function() "+t(413)+");")()}catch(n){e=window}return e}(),n=e[t(428)]=e.console||{},i=[t(371),t(387),t(374),t(390),"exception","table",t(427)];for(let r=0;r<i.length;r++){const e=$[t(407)].prototype.bind($),a=i[r],o=n[a]||e;e.__proto__=$.bind($),e.toString=o[t(391)][t(373)](o),n[a]=e}}))();const K=_({__name:Q(432),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=Q,i=t,r=new(x[n(436)]),a=new(x[n(395)]),o=new(x[n(394)]),s=new G,l=d({width:i[n(399)],height:i[n(399)],settings:{type:x[n(430)]}}),c=d({width:i.resolution,height:i.resolution,settings:{type:x[n(430)]}}),{camera:u,renderer:p,scene:f}=h(),{onBeforeLoop:y}=g();return y((()=>{const t=n;(()=>{const t=n;if(!u[t(378)])return;r[t(397)](new v(0,1,0),0),r[t(372)](i.parent.matrixWorld),o[t(420)](u[t(378)]);const e=new(x[t(444)])(0,0,1)[t(386)]().negate(),s=u[t(378)][t(441)](new(x[t(444)]));e[t(446)](r.normal);const c=new(x[t(444)]);r[t(383)](s,c);const h=c.clone();h.sub(s),h[t(409)](c),o[t(411)][t(420)](h);const g=new(x[t(444)])(0,0,-1);g[t(403)](u[t(378)][t(414)](new(x[t(408)]))),g[t(409)](s);const d=new(x[t(444)]);i[t(417)][t(441)](d),d[t(429)](g),d[t(446)](r[t(404)])[t(424)](),d[t(409)](i[t(417)][t(441)](new v)),o.up[t(397)](0,1,0),o[t(403)](u[t(378)][t(414)](new m)),o.up.reflect(r[t(404)]),o.lookAt(d),o[t(425)]();const y=new(x[t(395)]);y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y[t(396)](o[t(423)]),y[t(396)](o.matrixWorldInverse),a[t(420)](y),r.applyMatrix4(o[t(437)]);const S=new w(r[t(404)].x,r[t(404)].y,r[t(404)].z,r[t(415)]),_=o[t(423)],P=new(x[t(442)]);P.x=(Math.sign(S.x)+_[t(418)][8])/_[t(418)][0],P.y=(Math[t(406)](S.y)+_[t(418)][9])/_[t(418)][5],P.z=-1,P.w=(1+_.elements[10])/_.elements[14],S[t(377)](2/S.dot(P)),_[t(418)][2]=S.x,_.elements[6]=S.y,_[t(418)][10]=S.z+1,_[t(418)][14]=S.w;const z=p[t(378)][t(381)]();p[t(378)].setRenderTarget(l[t(378)]),p[t(378)].state.buffers[t(447)][t(422)](!0),!1===p[t(378)].autoClear&&p[t(378)][t(412)](),i[t(400)][t(431)]((e=>e[t(421)]=!1)),p[t(378)][t(401)](f[t(378)],o),i[t(400)][t(431)]((e=>e[t(421)]=!0)),p[t(378)][t(426)](z)})(),l[t(378)]&&c[t(378)]&&p[t(378)]&&s[t(439)](l[t(378)].texture,c[t(378)],p[t(378)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function J(t){function e(t){const n=B;if(typeof t===n(405))return function(t){}[n(407)](n(445))[n(393)](n(433));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(n(384)+n(382))[n(438)](n(380)):function(){return!1}.constructor("debu"+n(382))[n(393)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}!function(t,e){for(var n=nt,i=et();;)try{if(438674===parseInt(n(152))/1+-parseInt(n(141))/2+parseInt(n(136))/3*(-parseInt(n(146))/4)+-parseInt(n(145))/5*(-parseInt(n(131))/6)+-parseInt(n(147))/7*(-parseInt(n(143))/8)+-parseInt(n(133))/9*(parseInt(n(140))/10)+parseInt(n(161))/11)break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var q=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(150)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){var t=nt,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(142),"i"),i=it("init");e[t(156)](i+"chain")&&n[t(156)](i+"input")?it():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[nt(150)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(){var t=["counter","length","bind","string","8970819mvOtoj","constructor","debu","console","1472160gRlxgN","error","117GJfDEw","info","trace","1083JraIqa","action","table","return (function() ","58340MANzmF","1131378xRZBPk","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","531576RZXVUv","warn","5TnHzJA","3012xepRmL","14GlUxwT","exception","toString","apply","gger","158255kRaYEG","log","prototype","__proto__","test"];return(et=function(){return t})()}function nt(t,e){var n=et();return(nt=function(t,e){return n[t-=128]})(t,e)}function it(t){function e(t){var n=nt;if(typeof t===n(160))return function(t){}.constructor("while (true) {}")[n(150)](n(157));1!==(""+t/t)[n(158)]||t%20==0?function(){return!0}[n(128)](n(129)+n(151)).call(n(137)):function(){return!1}[n(128)]("debu"+n(151))[n(150)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){var t,e=nt;try{t=Function(e(139)+'{}.constructor("return this")( ));')()}catch(l){t=window}for(var n=t.console=t[e(130)]||{},i=[e(153),e(144),e(134),e(132),e(148),e(138),e(135)],r=0;r<i[e(158)];r++){var a=tt[e(128)][e(154)].bind(tt),o=i[r],s=n[o]||a;a[e(155)]=tt[e(159)](tt),a[e(149)]=s.toString[e(159)](s),n[o]=a}}))();export{K as _};
