import{P as t}from"./tweakpane.yHWGBmom1734492426993.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.aZYcMjV11734492426993.js";import{_ as r}from"./heatmap.js-fix.4bpBIo0A1734492426993.js";import{h as i,_ as s,cz as c,s as u}from"./three.-W-Avfc61734492426993.js";import{r as a}from"./utils.eLz0ibWs1734492426993.js";import{d as p}from"./pinia.21wZrGqi1734492426993.js";import{b as f,d as l,a3 as h,o as d,D as m,J as g,u as y,F as v,q as w,U as b,N as I,P as _,H as j,L as x,a6 as M,r as S,j as D,g as R,m as A}from"./@vue.-THQH3GC1734492426993.js";import{c as F,d as E,a as O}from"./three-mesh-bvh.Ibne3Tc81734492426993.js";import{_ as P}from"./@fesjs.-ojmPQ0_1734492426993.js";import"./@tresjs.WiFlZbqU1734492426993.js";import"./@vueuse.HnQgsJ961734492426993.js";import"./three-custom-shader-material.5sc6Ku_Y1734492426993.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1734492426993.js";import"./@amap.VVwFehhA1734492426993.js";import"./vue-demi.C4xddsk91734492426993.js";import"./vue-router.XKFr-7ni1734492426993.js";import"./lodash-es.kYt-_xTG1734492426993.js";import"./@qlin.yHhFDldE1734492426993.js";import"./@floating-ui.BPbuo5Gx1734492426993.js";import"./@juggle.7yjBMqoW1734492426993.js";function Z(){const t=["yellow","height","body","randInt","toString","function *\\( *\\)","error","info","constructor","chain","length","stateObject","position","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","none","width","4PFITDB",'{}.constructor("return this")( )',"exception","debu","getValueAt","343586ryoIFF","string","apply","prototype","input","style","setData","gger","2873637juOUTO","createElement","1560629TbVulK","trace","table","1254400pqGZPR","1284186VtEvsY","return (function() ","1306152EhyRDz","_config","test","absolute","rgb(0,255,0)","1964456TyGlfN","while (true) {}","heatmap-canvas","bind","log","appendChild","create"];return(Z=function(){return t})()}!function(t,n){const e=T,o=Z();for(;;)try{if(537786===-parseInt(e(418))/1*(parseInt(e(423))/2)+parseInt(e(431))/3+parseInt(e(439))/4+-parseInt(e(436))/5+parseInt(e(437))/6+parseInt(e(433))/7+-parseInt(e(444))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=T,n=new RegExp(t(406)),e=new RegExp(t(415),"i"),o=B("init");n.test(o+t(410))&&e[t(441)](o+t(427))?B():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[T(425)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();U(void 0,(function(){const t=T;let n;try{n=Function(t(438)+t(419)+");")()}catch(r){n=window}const e=n[t(414)]=n[t(414)]||{},o=[t(448),"warn",t(408),t(407),t(420),t(435),t(434)];for(let i=0;i<o[t(411)];i++){const n=U[t(409)][t(426)][t(447)](U),r=o[i],s=e[r]||n;n.__proto__=U[t(447)](U),n.toString=s[t(405)][t(447)](s),e[r]=n}}))();const V=(t,n)=>t[T(422)](n)+-10;function T(t,n){const e=Z();return(T=function(t,n){return e[t-=399]})(t,n)}function B(t){function n(t){const e=T;if(typeof t===e(424))return function(t){}[e(409)](e(445))[e(425)]("counter");1!==(""+t/t)[e(411)]||t%20==0?function(){return!0}[e(409)](e(421)+"gger").call("action"):function(){return!1}[e(409)]("debu"+e(430))[e(425)](e(412)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=k;!function(t,n){const e=k,o=H();for(;;)try{if(238035===-parseInt(e(270))/1+-parseInt(e(288))/2+-parseInt(e(286))/3+parseInt(e(274))/4*(parseInt(e(290))/5)+-parseInt(e(277))/6+parseInt(e(266))/7*(-parseInt(e(295))/8)+parseInt(e(275))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const $=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(294)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(t,n){const e=H();return(k=function(t,n){return e[t-=262]})(t,n)}!function(){$(this,(function(){const t=k,n=new RegExp(t(264)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=C(t(280));n[t(273)](o+t(284))&&e[t(273)](o+t(272))?C():o("0")}))()}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(294)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(){const t=["table","init","console","buildingsHeatmap","string","chain","exception","1425918yFiAlg","prototype","298474QKReso","toString","325xiXgFN","log","bind","value","apply","83848JjqQPq","call","gger","action","counter","trace","function *\\( *\\)",'{}.constructor("return this")( )',"210UGpQFA","__proto__","warn","constructor","127686hzvjrf","length","input","test","508daFmsK","13638069PjNUxe","debu","1313412GRBoyO","stateObject"];return(H=function(){return t})()}q(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function("return (function() "+t(265)+");")()}catch(e){n=window}return n}(),e=n[t(281)]=n[t(281)]||{},o=[t(291),t(268),"info","error",t(285),t(279),t(263)];for(let r=0;r<o[t(271)];r++){const n=q[t(269)][t(287)][t(292)](q),i=o[r],s=e[i]||n;n[t(267)]=q[t(292)](q),n[t(289)]=s.toString[t(292)](s),e[i]=n}}))();const L=p(G(282),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[k(293)]=n},setTemperature:function(t){n.value=t}}}));function C(t){function n(t){const e=k;if(typeof t===e(283))return function(t){}[e(269)]("while (true) {}")[e(294)](e(262));1!==(""+t/t)[e(271)]||t%20==0?function(){return!0}[e(269)](e(276)+e(297))[e(296)](e(298)):function(){return!1}[e(269)](e(276)+e(297)).apply(e(278)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const K=X;!function(t,n){const e=X,o=Q();for(;;)try{if(144716===-parseInt(e(320))/1*(parseInt(e(337))/2)+parseInt(e(325))/3*(-parseInt(e(345))/4)+-parseInt(e(348))/5+-parseInt(e(329))/6*(parseInt(e(335))/7)+-parseInt(e(338))/8+parseInt(e(316))/9+-parseInt(e(327))/10*(-parseInt(e(314))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(326)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["model","13068HuyMoP","table","939825WTMtvn","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","makeRotationX","geometry","1qbjGwD","while (true) {}","info","BufferGeometry",'{}.constructor("return this")( )',"101709KlVlVO","apply","3280CepDQn","input","9138dBozCG","_renderer","ShaderMaterial","log","Texture","debu","490kwpjfy","function *\\( *\\)","50950oamDFV","955864rmsUld","opacity","Matrix4","数值：","_config","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4xsvngw","toString","city","319510mVibYb","call","constructor","test","height","disposeBoundsTree","attributes","raycast","buildingsHeatmap","length","stateObject","needsUpdate","uOpacity","gger","object","mergeGeometries","chain","setTemperature","primitive","string","$patch","__proto__","rotation-x","Mesh","trace","init","computeBoundsTree","counter","数值———：","bind","canvas","matrix","applyMatrix4","DoubleSide","prototype","clone","normal","error","return (function() "];return(Q=function(){return t})()}!function(){N(this,(function(){const t=X,n=new RegExp(t(336)),e=new RegExp(t(344),"i"),o=nt(t(373));n[t(351)](o+t(364))&&e[t(351)](o+t(328))?nt():o("0")}))()}();const Y=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(326)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();Y(void 0,(function(){const t=X;let n;try{n=Function(t(312)+t(324)+");")()}catch(r){n=window}const e=n.console=n[t(343)]||{},o=[t(332),"warn",t(322),t(311),"exception",t(315),t(372)];for(let i=0;i<o[t(357)];i++){const n=Y[t(350)][t(308)][t(377)](Y),r=o[i],s=e[r]||n;n[t(369)]=Y[t(377)](Y),n[t(346)]=s[t(346)][t(377)](s),e[r]=n}}))();const J=["object",K(370)],W=[K(362)];function X(t,n){const e=Q();return(X=function(t,n){return e[t-=305]})(t,n)}const tt=l({__name:K(356),props:{model:{},opacity:{default:1}},setup(t){const n=K;(()=>{const t=X;s[t(323)][t(308)][t(374)]=F,s[t(323)][t(308)][t(353)]=E,s[t(371)][t(308)][t(355)]=O})();const e=t,o=((t=250,n=250,e=!0)=>{const o=T,i=document[o(432)](o(446));return i[o(428)][o(413)]=o(442),!e&&(i.style.display=o(416)),i[o(428)].top="0",i[o(428)].left="0",document[o(403)][o(399)](i),r[o(400)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(443),.85:o(401),1:"rgb(255,0,0)"}})})();((t,n)=>{const e=T;if(!n){let o=0;for(n=[];o<1e3;)n.push({x:i[e(404)](1,t[e(440)][e(417)]),y:i.randInt(1,t._config[e(402)]),value:i[e(404)](-10,36)}),o++}t[e(429)]({max:36,min:-10,data:n})})(o);const p=new(s[n(333)])(o[n(330)][n(378)]);p[n(359)]=!0;const f=e[n(313)][n(347)][n(309)]();delete f[n(319)].attributes[n(310)],delete f[n(319)].attributes.uv;const l=f.geometry[n(309)]().applyMatrix4(f[n(305)]),w=e[n(313)].land[n(309)]();delete w[n(319)][n(354)][n(310)];const b=w[n(319)][n(309)]()[n(306)](w.matrix),I=c[n(363)]([l,b]);I.applyMatrix4((new(s[n(340)]))[n(318)](Math.PI/2)),a(I),I[n(374)]();const _=(t=>{const o=n;return new(s[o(331)])({vertexShader:o(317),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(339)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:s[o(307)]})})(p),j=new u(I,_);h((()=>{const t=n;e[t(339)]&&(_.uniforms[t(360)].value=e[t(339)])}));const x=L(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(342)].width,y:(1-t.uv.y)*o._config[e(352)]};console[e(332)](e(341),t),console[e(332)](e(376),V(o,n)),x[e(365)](V(o,n))}},S=t=>{t&&x[n(368)]({showDiv:!0})},D=t=>{t&&x.setShowDiv(!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g(r(366),{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:S,onPointerLeave:D},null,40,J),g(r(366),{object:e[r(313)][r(313)].children[0][r(309)]()},null,8,W)],64)}}});function nt(t){function n(t){const e=X;if(typeof t===e(367))return function(t){}.constructor(e(321))[e(326)](e(375));1!==(""+t/t)[e(357)]||t%20==0?function(){return!0}.constructor(e(334)+"gger")[e(349)]("action"):function(){return!1}[e(350)](e(334)+e(361))[e(326)](e(358)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=P({__name:"dataDiv",setup(t){const n=L(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return w((()=>{window.addEventListener("mousemove",o)})),b((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]);function ot(t,n){const e=st();return(ot=function(t,n){return e[t-=159]})(t,n)}!function(t,n){const e=ot,o=st();for(;;)try{if(378396===-parseInt(e(201))/1*(parseInt(e(203))/2)+-parseInt(e(160))/3*(-parseInt(e(197))/4)+-parseInt(e(192))/5*(parseInt(e(191))/6)+-parseInt(e(199))/7*(parseInt(e(187))/8)+parseInt(e(183))/9+-parseInt(e(168))/10*(parseInt(e(184))/11)+-parseInt(e(169))/12*(-parseInt(e(179))/13))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const rt=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ot(165)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){rt(this,(function(){const t=ot,n=new RegExp(t(159)),e=new RegExp(t(189),"i"),o=ut(t(190));n[t(181)](o+t(198))&&e.test(o+t(186))?ut():o("0")}))()}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["error","prototype","640LgkZYQ","chain","28nWtuyC","log","1lGAuMl","value","1476782RHVIeJ","constructor","function *\\( *\\)","5199duHhvN","透明度","exception","debu","bind","apply","builds","model","786760JYBPhZ","20697492FSYVhL","return (function() ","city","info","__proto__","action",'{}.constructor("return this")( )',"trace","warn","string","13ZAOhNw","stateObject","test","while (true) {}","365841nKcISW","88gljRAs","counter","input","14792AlBUKO","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","init","1734774QshZIc","5UreVwH","toString","console"];return(st=function(){return t})()}it(void 0,(function(){const t=ot;let n;try{n=Function(t(170)+t(175)+");")()}catch(r){n=window}const e=n.console=n[t(194)]||{},o=[t(200),t(177),t(172),t(195),t(162),"table",t(176)];for(let i=0;i<o[t(188)];i++){const n=it[t(204)][t(196)].bind(it),r=o[i],s=e[r]||n;n[t(173)]=it[t(164)](it),n[t(193)]=s.toString[t(164)](s),e[r]=n}}))();const ct=l({__name:"heatmap2",async setup(r){const i=ot;let s,c;const u=f(!1),a=([s,c]=M((()=>o())),s=await s,c(),s);u[i(202)]=!0;const p=S({width:1,color:"#000",opacity:1,show:!0}),l=S({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,"opacity",{label:i(161),min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[D(e,{showBuildings:!1,autoRotate:!1},{ability:R((()=>[D(tt,A({model:y(a)},l),null,16,[r(167)]),D(n,A(p,{builds:y(a)[r(171)]}),null,16,[r(166)])])),_:1}),D(et)],64)}}});function ut(t){function n(t){const e=ot;if(typeof t===e(178))return function(t){}[e(204)](e(182))[e(165)](e(185));1!==(""+t/t).length||t%20==0?function(){return!0}[e(204)](e(163)+"gger").call(e(174)):function(){return!1}.constructor(e(163)+"gger")[e(165)](e(180)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ct as default};
