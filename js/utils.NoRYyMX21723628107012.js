import"./@fesjs.BuhZYZEQ1723628107012.js";import{_ as t}from"./jszip.TSgBnMkQ1723628107012.js";import{F as n}from"./file-saver.Ffc6h_KC1723628107012.js";import{cA as e,a6 as s}from"./three.LOnTLfxo1723628107012.js";const o=l;!function(t,n){const e=l,s=i();for(;;)try{if(732274===-parseInt(e(229))/1+parseInt(e(225))/2+parseInt(e(275))/3+-parseInt(e(216))/4+-parseInt(e(212))/5*(-parseInt(e(215))/6)+-parseInt(e(283))/7+parseInt(e(272))/8)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[l(301)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){r(this,(function(){const t=l,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),s=b(t(214));n.test(s+t(256))&&e[t(213)](s+t(224))?b():s("0")}))()}();const a=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[l(301)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function i(){const t=["split","data:","slice","data:image/png;base64,","counter","data:image/","FileLoader","images","string","apply","readAsDataURL","endsWith","image/bmp","gger","image/png","table","substring","while (true) {}",'{}.constructor("return this")( )',"99620eRzzwK","test","init","12rtYyZf","3462304CvutOq","error","uuid","setResponseType","forEach","toLowerCase","length",";base64,","input","1492250EdeRKf","base64","get",".json","630585yKleRG","url:images/","result","BufferGeometry","file","loadAsync","generateAsync","load","url:geometries/","startsWith","app.json","warn","pop","toString","log","exception","JPEG","enabled","GIF","files","data:image/WEBP;base64,","onloadend","action","data:image/jpeg;base64,","application/octet-stream","console","PNG","chain","trace","data:image/gif;base64,","image/jpeg","url","geometries","push","Unknown","data:image/PNG;base64,","parse","onerror","message","data:image/webp;base64,","stateObject","stringify","toUpperCase","12416488fLiFaI","debu","return (function() ","1290297AoPbht","folder","async","bind","prototype","then","constructor","type","3777886PjjGmW","WEBP","config.zip","data","scene","image/webp","url:","非标准文件：不存在 app.json","blob"];return(i=function(){return t})()}async function c(t){const n=o,e=new(s[n(298)]);return new Promise(((s,o)=>{const r=n;e[r(236)](t,(t=>s(JSON[r(265)](t))),void 0,(t=>o(t)))}))}async function u(t){const n=o,e=new(s[n(298)]);return new Promise(((s,r)=>{const a=n;e[a(219)]("blob"),e[a(236)](t,(n=>{const e=a,i=new FileReader;i[e(250)]=()=>{const n=e,r=function(t){const n=o,e=t[n(292)](".").pop()[n(221)]();return{jpg:n(259),jpeg:n(259),png:n(207),gif:"image/gif",bmp:n(304),webp:n(288)}[e]||n(253)}(t),a=i.result[n(292)](",")[1];s(n(293)+r+n(223)+a)},i[e(266)]=t=>{r(t)},i[e(302)](n)}),void 0,(t=>r(t)))}))}a(void 0,(function(){const t=l,n=function(){const t=l;let n;try{n=Function(t(274)+t(211)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(254)]||{},s=[t(243),t(240),"info",t(217),t(244),t(208),t(257)];for(let o=0;o<s[t(222)];o++){const n=a[t(281)][t(279)][t(278)](a),r=s[o],i=e[r]||n;n.__proto__=a[t(278)](a),n.toString=i[t(242)].bind(i),e[r]=n}}))(),e[o(246)]=!0;const p=n=>{const e=o,r=new(s[e(298)]);return r[e(219)](e(291)),new Promise(((s,o)=>{const a=e;r[a(236)](n,(async n=>{const e=a;s(await t[e(234)](n))}),void 0,(t=>o(t)))}))};function l(t,n){const e=i();return(l=function(t,n){return e[t-=206]})(t,n)}const f=t=>{const n=o,e=t[n(209)](0,15),s=n(252),r=n(295),a=n(264),i=n(258),c=n(268),u=n(249);return s[n(238)](e)||"data:image/JPEG;base64,"[n(238)](e)?n(245):r[n(238)](e)||a.startsWith(e)?n(255):i.startsWith(e)||"data:image/GIF;base64,"[n(238)](e)?n(247):c[n(238)](e||u.startsWith(e))?n(284):n(263)},g=e=>{const s=o,r=[];e[s(287)].geometries&&e[s(287)][s(261)][s(220)]((t=>{const n=s;t[n(282)]===n(232)&&(r.push({uuid:t[n(218)],data:t[n(286)]}),t[n(286)]=n(237)+t[n(218)]+n(228))}));const a=[];e[s(287)][s(299)]&&e.scene[s(299)][s(220)]((t=>{const n=s;t[n(260)]&&(a[n(262)]({uuid:t.uuid,url:t[n(260)]}),t[n(260)][n(282)]?t[n(260)]="url:images/"+t.uuid+"."+t[n(260)][n(282)]+n(228):t[n(260)]=n(230)+t.uuid+"."+f(t.url))}));const i=new t;if(r[s(222)]){const t=i[s(276)](s(261));r[s(220)]((n=>{const e=s;t[e(233)](n.uuid+e(228),JSON[e(270)](n.data))}))}if(a[s(222)]){const t=i[s(276)](s(299));a[s(220)]((n=>{const e=s;n[e(260)].type?t[e(233)](n[e(218)]+"."+n[e(260)].type+e(228),JSON[e(270)](n.url)):t[e(233)](n[e(218)]+"."+f(n[e(260)]),n[e(260)].split(e(223))[e(241)](),{base64:!0})}))}const c=JSON[s(270)](e);return i[s(233)](s(239),c),i[s(235)]({type:s(291)}).then((t=>{const e=s;n.saveAs(t,e(285))}))},d=(t,n,e)=>{const s=o;t[s(261)]<=0&&t[s(299)]<=0&&e(n)},m=(n,e)=>{let s=null;return t.loadAsync(n).then((t=>{const n=l;t[n(248)][n(239)]?t[n(248)][n(239)][n(277)](n(300))[n(280)]((r=>{var a,i;const c=n;s=JSON[c(265)](r);const u=(t=>{var n,e;const s=o,r={geometries:0,images:0};return null==(n=t[s(287)][s(261)])||n[s(220)]((t=>{const n=s;t.data[n(238)](n(289))&&r[n(261)]++})),null==(e=t[s(287)][s(299)])||e[s(220)]((t=>{const n=s;t[n(260)][n(238)](n(289))&&r[n(299)]++})),r})(s);d(u,s,e),null==(a=s.scene[c(261)])||a[c(220)]((n=>{const o=c;n[o(286)].startsWith(o(289))&&t[o(248)][n.data[o(294)](4)][o(277)](o(300))[o(280)]((t=>{const r=o;n[r(286)]=JSON[r(265)](t),u[r(261)]--,d(u,s,e)}))})),null==(i=s[c(287)][c(299)])||i[c(220)]((n=>{const o=c;if(n.url[o(238)]("url:")){const r=n[o(260)][o(294)](4);r[o(303)](o(228))?t[o(248)][r][o(277)](o(300))[o(280)]((t=>{const r=o;n[r(260)]=JSON[r(265)](t),u.images--,d(u,s,e)})):t[o(248)][r][o(277)](o(226))[o(280)]((t=>{const a=o,i=r[a(292)]("."),c=i[i[a(222)]-1][a(271)]();n[a(260)]=a(297)+c+";base64,"+t,u[a(299)]--,d(u,s,e)}))}}))})):console[n(217)](n(290))}),(t=>{const e=l;console[e(217)](n.name+": "+t[e(267)])})),s};function b(t){function n(t){const e=l;if(typeof t===e(300))return function(t){}[e(281)](e(210))[e(301)](e(296));1!==(""+t/t)[e(222)]||t%20==0?function(){return!0}[e(281)](e(273)+e(206)).call(e(251)):function(){return!1}.constructor(e(273)+e(206)).apply(e(269)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{p as a,u as b,g as e,f as g,m as i,c as l};
