import{importShared as e}from"./3d-tiles-renderer.COLnOnaF1767661981680.js";const{FileLoader:t,Loader:s,ShapePath:n}=await e("three");class o extends s{constructor(e){super(e)}load(e,s,n,o){const r=this,a=new t(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){const t=r.parse(JSON.parse(e));s&&s(t)},n,o)}parse(e){return new r(e)}}class r{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const s=[],n=function(e,t,s){const n=Array.from(e),o=t/s.resolution,r=(s.boundingBox.yMax-s.boundingBox.yMin+s.underlineThickness)*o,i=[];let c=0,h=0;for(let l=0;l<n.length;l++){const e=n[l];if("\n"===e)c=0,h-=r;else{const t=a(e,o,c,h,s);c+=t.offsetX,i.push(t.path)}}return i}(e,t,this.data);for(let o=0,r=n.length;o<r;o++)s.push(...n[o].toShapes());return s}}function a(e,t,s,o,r){const a=r.glyphs[e]||r.glyphs["?"];if(!a)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");const i=new n;let c,h,l,u,d,f,p,g;if(a.o){const e=a._cachedOutline||(a._cachedOutline=a.o.split(" "));for(let n=0,r=e.length;n<r;){switch(e[n++]){case"m":c=e[n++]*t+s,h=e[n++]*t+o,i.moveTo(c,h);break;case"l":c=e[n++]*t+s,h=e[n++]*t+o,i.lineTo(c,h);break;case"q":l=e[n++]*t+s,u=e[n++]*t+o,d=e[n++]*t+s,f=e[n++]*t+o,i.quadraticCurveTo(d,f,l,u);break;case"b":l=e[n++]*t+s,u=e[n++]*t+o,d=e[n++]*t+s,f=e[n++]*t+o,p=e[n++]*t+s,g=e[n++]*t+o,i.bezierCurveTo(d,f,p,g,l,u)}}}return{offsetX:a.ha*t,path:i}}export{o as FontLoader};
