var t=Object.defineProperty,n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(n,e,r)=>e in n?t(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,a=(t,a)=>{for(var i in a||(a={}))e.call(a,i)&&o(t,i,a[i]);if(n)for(var i of n(a))r.call(a,i)&&o(t,i,a[i]);return t};import{U as i,c as s}from"./@tresjs.0qL_P2CE1735517803200.js";import{u,a as c,_ as l}from"./colorList.ha7jBqfi1735517803200.js";import{_ as p,d2 as f}from"./three.-uH5I3Xp1735517803200.js";import{z as d}from"./three-custom-shader-material.T7xd34Ba1735517803200.js";import{P as m}from"./tweakpane.yHWGBmom1735517803200.js";import{d as h,b as g,a as x,r as y,w as b,o as w,D as _,J as v,u as I,j,g as z,x as S,F as E,V as A,f as L,H as D,I as M,m as R}from"./@vue.-THQH3GC1735517803200.js";import{z as T,x as O,a6 as P,a7 as F,a8 as V,N as Z,a9 as k,aa as B,t as C,$ as U,ab as G,v as N,_ as $}from"./@fesjs.2Oz5LDgh1735517803200.js";import"./@vueuse.oT9wchAS1735517803200.js";import"./pinia.7wRRlR_11735517803200.js";import"./vue-demi.C4xddsk91735517803200.js";import"./vue-router.alj9m51K1735517803200.js";import"./lodash-es.kYt-_xTG1735517803200.js";import"./@qlin.yHhFDldE1735517803200.js";import"./@floating-ui.BPbuo5Gx1735517803200.js";import"./@juggle.7yjBMqoW1735517803200.js";const H=q;function q(t,n){const e=W();return(q=function(t,n){return e[t-=450]})(t,n)}!function(t,n){const e=q,r=W();for(;;)try{if(659167===-parseInt(e(463))/1+-parseInt(e(476))/2*(-parseInt(e(515))/3)+parseInt(e(480))/4+parseInt(e(501))/5*(parseInt(e(489))/6)+-parseInt(e(493))/7*(parseInt(e(468))/8)+parseInt(e(509))/9*(parseInt(e(456))/10)+-parseInt(e(503))/11*(-parseInt(e(477))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Q(this,(function(){const t=q,n=new RegExp(t(500)),e=new RegExp(t(486),"i"),r=ot(t(526));n.test(r+t(459))&&e[t(531)](r+t(518))?ot():r("0")}))()}();const J=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[q(483)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(){const t=["549xrlALP","invert","yExtent","console","TresGroup","scene","3819ZTzxoD","x轴缩放","gger","input","change","exception","y剖面","mesh","y轴缩放","info","upperThreshold","init","counter","extractSlice","error","Matrix4","test","computeMinMax","max","windowLow","LineSegments","EdgesGeometry","xExtent","xLength","log","addBinding","action","primitive","repaint","uniforms","constructor","stateObject","scale","LineBasicMaterial","119510fCFXmL","material","BoxGeometry","chain","\n\t\tvoid main() {\n\t\t\tcsm_Position = position * vec3(1.0);\n\t\t}\n\t\t","warn","copy","1060027ztMPlM","colorsStops","zLength","bind","byteArray","21512IJBLSC","lowerThreshold","floor","yLength","trace","x剖面","windowHigh","zExtent","38yNEZiE","2233932oiLnSP","index","RASDimensions","2145916tBznzF","__proto__","NormalBlending","apply","length","visible","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","string","toString","3041268XEbmOo","selectDataType","repaintAllSlices","value","686igpplG","object","updateTransferFunction","call","min","DoubleSide","eTexture","function *\\( *\\)","5CfFeiD","inverseMatrix","11iEOGyG","matrix","debu","return (function() ",'{}.constructor("return this")( )',"z剖面"];return(W=function(){return t})()}J(void 0,(function(){const t=q;let n;try{n=Function(t(506)+t(507)+");")()}catch(o){n=window}const e=n[t(512)]=n[t(512)]||{},r=[t(539),t(461),t(524),t(529),t(520),"table",t(472)];for(let a=0;a<r.length;a++){const n=J.constructor.prototype[t(466)](J),o=r[a],i=e[o]||n;n[t(481)]=J[t(466)](J),n[t(488)]=i[t(488)][t(466)](i),e[o]=n}}))();const X=[H(454),H(485)],K=[H(454)],Y=[H(494)],tt=[H(494)],nt=[H(494)],et=[H(494)],rt=h({__name:H(514),setup(t){const n=H,e=g(-1),r=g(-1),o=g(.6),i=x((()=>{const t=q;return!(e[t(492)]<=.01&&e.value>=-.01)&&(!(r[t(492)]<=.01&&r.value>=-.01)&&!(o[t(492)]<=.01&&o[t(492)]>=-.01))})),s=u(),l=c(),h=(t=>{const n=q,e=new f(l[n(537)],l[n(511)],l[n(475)],l.dataType[l[n(490)]].title,l[n(467)]);e.spacing=[1,1,1],e[n(479)]=[Math[n(470)](e[n(538)]),Math[n(470)](e[n(471)]),Math[n(470)](e[n(465)])],e[n(504)]=new(p[n(530)]),e[n(502)]=new(p[n(530)]),e[n(502)][n(462)](e[n(504)])[n(510)]();const r=e[n(532)](),o=r[0],a=r[1];return e[n(534)]=o,e[n(474)]=a,e.lowerThreshold=o,e[n(525)]=a,e})(l.byteArray),j=new(p[n(535)])(new(p[n(536)])(new(p[n(458)])(h[n(538)],h[n(471)],h[n(465)])),new(p[n(455)])({color:6710886})),z=y({x:Math[n(470)](h.RASDimensions[0]/2),y:Math[n(470)](h[n(479)][1]/2),z:Math[n(470)](h[n(479)][2]/4)});h[n(474)]=136;const S=h[n(528)]("x",z.x),E=h.extractSlice("y",z.y),A=h[n(528)]("z",z.z),L={vertexShader:n(460),fragmentShader:"\n        uniform sampler2D eTexture;     //纹理图像\n        void main() {\n            csm_DiffuseColor = texture2D( eTexture, vec2(csm_DiffuseColor.r*1.,0.5));\n        }\n    ",uniforms:{eTexture:{value:s[n(495)]()}},silent:!0,flatShading:!0,side:p[n(498)],transparent:!0,depthTest:!0,depthWrite:!1,blending:p[n(482)]};S[n(522)][n(457)]=new d(a({baseMaterial:S[n(522)][n(457)]},L)),E[n(522)][n(457)]=new d(a({baseMaterial:E[n(522)][n(457)]},L)),A[n(522)][n(457)]=new d(a({baseMaterial:A[n(522)][n(457)]},L));const D=new m;return D.addBinding(e,n(492),{label:n(516),min:-2,max:2,step:.01}),D.addBinding(r,"value",{label:n(523),min:-2,max:2,step:.01}),D[n(540)](o,n(492),{label:"z轴缩放",min:-2,max:2,step:.01}),D.addBinding(z,"x",{label:n(473),min:0,max:h.RASDimensions[0],step:1}),D[n(540)](z,"y",{label:n(521),min:0,max:h[n(479)][1],step:1}),D[n(540)](z,"z",{label:n(508),min:0,max:h[n(479)][2],step:1}),D.addBinding(h,n(469),{label:n(469),min:h.min,max:h[n(533)],step:1}).on(n(519),(()=>{h.repaintAllSlices()})),D[n(540)](h,n(525),{label:n(525),min:h[n(497)],max:h[n(533)],step:1}).on(n(519),(()=>{h.repaintAllSlices()})),D[n(540)](h,"windowLow",{label:n(534),min:h[n(497)],max:h[n(533)],step:1}).on(n(519),(()=>{h.repaintAllSlices()})),D[n(540)](h,n(474),{label:"windowHigh",min:h[n(497)],max:h[n(533)],step:1}).on(n(519),(()=>{h[n(491)]()})),b((()=>z),(t=>{const e=n;S[e(478)]=t.x,S.repaint[e(496)](S),E[e(478)]=t.y,E[e(450)][e(496)](E),A[e(478)]=t.z,A.repaint[e(496)](A)}),{deep:!0}),b((()=>s[n(464)]),(()=>{const t=n;S.mesh[t(457)][t(451)][t(499)][t(492)]=s[t(495)](),E[t(522)][t(457)][t(451)][t(499)][t(492)]=s[t(495)](),A[t(522)][t(457)][t(451)].eTexture.value=s[t(495)]()}),{deep:!0,immediate:!0}),(t,a)=>{const s=n;return w(),_(s(513),{scale:[e.value,r[s(492)],o.value],visible:i[s(492)]},[v(s(513),{scale:[1/I(h)[s(538)],1/I(h)[s(538)]*I(h).xLength/I(h).yLength,1/I(h)[s(538)]*I(h).xLength/I(h)[s(465)]]},[v(s(542),{object:I(S).mesh,renderOrder:1},null,8,Y),v(s(542),{object:I(E)[s(522)],renderOrder:2},null,8,tt),v("primitive",{object:I(A)[s(522)],renderOrder:3},null,8,nt),v(s(542),{object:I(j)},null,8,et)],8,K)],8,X)}}});function ot(t){function n(t){const e=q;if(typeof t===e(487))return function(t){}[e(452)]("while (true) {}").apply(e(527));1!==(""+t/t)[e(484)]||t%20==0?function(){return!0}.constructor(e(505)+e(517))[e(496)](e(541)):function(){return!1}[e(452)](e(505)+e(517))[e(483)](e(453)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const at=lt;!function(t,n){const e=lt,r=ut();for(;;)try{if(153060===-parseInt(e(449))/1*(-parseInt(e(450))/2)+parseInt(e(471))/3+-parseInt(e(434))/4*(parseInt(e(422))/5)+-parseInt(e(493))/6*(parseInt(e(423))/7)+parseInt(e(443))/8*(-parseInt(e(445))/9)+parseInt(e(481))/10+parseInt(e(437))/11*(parseInt(e(496))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const it=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[lt(463)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){it(this,(function(){const t=lt,n=new RegExp(t(457)),e=new RegExp(t(430),"i"),r=pt(t(490));n[t(461)](r+t(475))&&e.test(r+t(426))?pt():r("0")}))()}();const st=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function ut(){const t=["chain","文件类型必须为:'image/x-panasonic-raw'","300px","length","selectDataType","fileList","1661570LFFdKu","dataType","请正确输入数值","image/x-panasonic-raw","onload","prototype","string","div","target","init","log","return (function() ","6PisUbQ","call","gger","12RYZHGE","265cLzZMg","1889902ePAaLT","modelValue","10px","input","exception","importRawUI","演示参考头部👨‍🦲RawData数据,下载 : ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","bind"," z轴长度： ","xExtent","1772hNvIOl","console","type","4031555RAnthb","error"," 面剖体数据","card-wrapper","toString","constructor","223128TueULV","debu","81ANWpcX","table","stateObject","读取Raw原始数据","132HjNPaL","762DMFtdy","readAsArrayBuffer","setArrayBuffer"," 点击或者拖拽rawData文件到此区域 ","2.4em","result","10px auto -3px","function *\\( *\\)","value","请正确选择rawData文件","removeFile","test","raw","apply","2.8em","warn"," x轴长度： ","zExtent","11px"," y轴长度： ","yExtent","343770vRkFut","warning","head_256x256x109_uint8.raw","title"];return(ut=function(){return t})()}st(void 0,(function(){const t=lt,n=function(){const t=lt;let n;try{n=Function(t(492)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(435)]=n.console||{},r=[t(491),t(465),"info",t(438),t(427),t(446),"trace"];for(let o=0;o<r[t(478)];o++){const n=st.constructor[t(486)][t(431)](st),a=r[o],i=e[a]||n;n.__proto__=st[t(431)](st),n[t(441)]=i.toString[t(431)](i),e[a]=n}}))();const ct={key:0,class:at(440)};function lt(t,n){const e=ut();return(lt=function(t,n){return e[t-=422]})(t,n)}function pt(t){function n(t){const e=lt;if(typeof t===e(487))return function(t){}[e(442)]("while (true) {}")[e(463)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(442)](e(444)+"gger")[e(494)]("action"):function(){return!1}.constructor(e(444)+e(495))[e(463)](e(447)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ft=$(h({__name:at(428),setup(t){const n=at,e=c();e.xExtent=256,e.yExtent=256,e[n(467)]=109;const r=g(null),o=g([]),a=t=>{console[n(491)]("[change] param:",t)},i=()=>{var t;const e=n;o[e(458)].length>1&&(null==(t=r.value)||t[e(460)](o[e(458)][0]))},s=()=>{const t=n;if(1!=o.value[t(478)])return N[t(472)](t(459)),!1;if(e.xExtent<=0||e.yExtent<=0||e[t(467)]<=0)return N[t(472)](t(483)),!1;if(o[t(458)][0][t(462)][t(436)]!==t(484))return N[t(472)](t(476)),!1;const r=new FileReader;return r[t(485)]=function(n){const r=t,o=n[r(489)][r(455)];e[r(452)](o)},r[t(451)](o[t(458)][0][t(462)]),!0};return(t,u)=>{const c=n;return I(e).byteArray?M("",!0):(w(),_(c(488),ct,[j(I(G),{header:c(448)},{default:z((()=>[u[10]||(u[10]=v(c(488),{style:{"margin-bottom":c(468)}},[S(c(429)),v("a",{href:"./plugins/tvtVolumeRendering/rawData/head_256x256x109_uint8.raw"},c(473))],-1)),j(I(T),{style:{"min-height":c(464)}},{default:z((()=>[j(I(O),{span:6,style:{"line-height":c(454)}},{default:z((()=>u[5]||(u[5]=[S(c(466))]))),_:1}),j(I(O),{span:18},{default:z((()=>[j(I(P),{precision:0,modelValue:I(e)[c(433)],"onUpdate:modelValue":u[0]||(u[0]=t=>I(e)[c(433)]=t),autofocus:""},null,8,[c(424)])])),_:1})])),_:1}),j(I(T),{style:{"min-height":"2.8em"}},{default:z((()=>[j(I(O),{span:6,style:{"line-height":c(454)}},{default:z((()=>u[6]||(u[6]=[S(c(469))]))),_:1}),j(I(O),{span:18},{default:z((()=>[j(I(P),{precision:0,modelValue:I(e)[c(470)],"onUpdate:modelValue":u[1]||(u[1]=t=>I(e)[c(470)]=t),autofocus:""},null,8,[c(424)])])),_:1})])),_:1}),j(I(T),{style:{"min-height":c(464)}},{default:z((()=>[j(I(O),{span:6,style:{"line-height":c(454)}},{default:z((()=>u[7]||(u[7]=[S(c(432))]))),_:1}),j(I(O),{span:18},{default:z((()=>[j(I(P),{precision:0,modelValue:I(e).zExtent,"onUpdate:modelValue":u[2]||(u[2]=t=>I(e)[c(467)]=t),autofocus:""},null,8,[c(424)])])),_:1})])),_:1}),j(I(F),{modelValue:I(e)[c(479)],"onUpdate:modelValue":u[3]||(u[3]=t=>I(e).selectDataType=t),style:{"margin-bottom":c(425)}},{default:z((()=>[(w(!0),_(E,null,A(I(e)[c(482)],((t,n)=>{const e=c;return w(),L(I(V),{key:n,value:n},{default:z((()=>[j(I(Z),{style:{"max-width":e(477)}},{default:z((()=>[S(D(t[e(474)]),1)])),_:2},1024)])),_:2},1032,["value"])})),128))])),_:1},8,[c(424)]),j(I(k),{ref_key:"uploadRef",ref:r,fileList:o[c(458)],"onUpdate:fileList":u[4]||(u[4]=t=>o[c(458)]=t),onChange:a,httpRequest:i},{default:z((()=>[j(I(B),null,{default:z((()=>u[8]||(u[8]=[S(c(453))]))),_:1})])),_:1},8,[c(480)]),j(I(C),{style:{display:"block",margin:c(456)},onClick:s},{icon:z((()=>[j(I(U))])),default:z((()=>[u[9]||(u[9]=S(c(439)))])),_:1})])),_:1})]))}}}),[["__scopeId","data-v-9b8281cf"]]),dt=gt;!function(t,n){const e=gt,r=xt();for(;;)try{if(462060===parseInt(e(289))/1*(-parseInt(e(316))/2)+-parseInt(e(295))/3+parseInt(e(311))/4+-parseInt(e(314))/5+-parseInt(e(300))/6*(-parseInt(e(307))/7)+-parseInt(e(290))/8+parseInt(e(304))/9*(parseInt(e(306))/10))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const mt=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[gt(322)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){mt(this,(function(){const t=gt,n=new RegExp(t(302)),e=new RegExp(t(293),"i"),r=bt("init");n.test(r+"chain")&&e[t(297)](r+t(313))?bt():r("0")}))()}();const ht=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[gt(322)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function gt(t,n){const e=xt();return(gt=function(t,n){return e[t-=289]})(t,n)}function xt(){const t=["450EWQPlg","419741SiMKsy","action","gger","byteArray","2784392GNnziz","error","input","1559130ZlItCm","length","43814mrsqgU","rgba(0, 0, 0, 0)","bind","console","counter","trace","apply","39JlQQpZ","5100048fHVwMt","constructor",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","rawDataSurfaceSection","481959osNvsq","table","test","#201919","string","30xdReOY","call","function *\\( *\\)","TresPerspectiveCamera","286101ixmPPx","prototype"];return(xt=function(){return t})()}ht(void 0,(function(){const t=gt;let n;try{n=Function("return (function() "+t(292)+");")()}catch(o){n=window}const e=n.console=n[t(319)]||{},r=["log","warn","info",t(312),"exception",t(296),t(321)];for(let a=0;a<r[t(315)];a++){const n=ht[t(291)][t(305)][t(318)](ht),o=r[a],i=e[o]||n;n.__proto__=ht.bind(ht),n.toString=i.toString[t(318)](i),e[o]=n}}))();const yt=h({__name:dt(294),setup(t){const n=dt,e=y({clearColor:n(298),antialias:!0}),r=c();return(t,o)=>{const a=n;return w(),_(E,null,[I(r)[a(310)]?(w(),L(l,{key:0,curColorList:[[a(317),0],["rgb(0, 255, 255)",.4],["rgb(255, 0, 0)",1]]})):M("",!0),j(I(s),R(e,{"window-size":""}),{default:z((()=>[o[0]||(o[0]=v(a(303),{position:[0,0,-2],fov:40,near:.01,far:1e3},null,-1)),j(I(i)),I(r)[a(310)]?(w(),L(rt,{key:0})):M("",!0)])),_:1},16),j(ft)],64)}}});function bt(t){function n(t){const e=gt;if(typeof t===e(299))return function(t){}[e(291)]("while (true) {}")[e(322)](e(320));1!==(""+t/t).length||t%20==0?function(){return!0}[e(291)]("debu"+e(309))[e(301)](e(308)):function(){return!1}[e(291)]("debu"+e(309))[e(322)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{yt as default};
