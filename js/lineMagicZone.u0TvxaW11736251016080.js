import{P as t}from"./tweakpane.yHWGBmom1736251016080.js";import{e,W as n,b as o,U as r}from"./@tresjs.8C7OKmBm1736251016080.js";import{_ as i}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.HE9bTtTP1736251016080.js";import{_ as a,B as s,P as l}from"./three.RuuDeeIf1736251016080.js";import{d as u,a6 as c,a4 as f,w as m,o as p,D as d,J as h,u as g,j as v,r as I,e as x,f as w,g as S,al as y,m as b}from"./@vue.-Mz_IXfk1736251016080.js";import"./@vueuse.HhUha1mw1736251016080.js";import"./all.three.jnv7gLSV1736251016080.js";import"./oimophysics.x0jH7fze1736251016080.js";const _=M;!function(t,e){const n=M,o=N();for(;;)try{if(697411===-parseInt(n(260))/1*(parseInt(n(253))/2)+parseInt(n(273))/3*(parseInt(n(294))/4)+-parseInt(n(272))/5*(parseInt(n(259))/6)+parseInt(n(266))/7+parseInt(n(280))/8+parseInt(n(288))/9+-parseInt(n(293))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const T=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){T(this,(function(){const t=M,e=new RegExp(t(232)),n=new RegExp(t(250),"i"),o=O(t(231));e[t(267)](o+t(256))&&n[t(267)](o+t(233))?O():o("0")}))()}();const U=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[M(268)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function N(){const t=["baseColor","map","chain","bind","console","234084BEpgzj","1tjbUyD","debu","speed","__proto__","yRadius","gger","7945448AXaLIO","test","apply","error","xRadius","stateObject","65BDtKqo","370137OFyarl","trace","toString","length","rotateX","call","setFromPoints","4626640gGrYkg","counter","scale","Color","info","return (function() ","uTime","exception","10054233LbcxKo","action","constructor","aNormal","\nvarying vec2 vMapUv;\nvarying float vIndex;\nuniform float uTime;\nuniform vec3 baseColor;\nuniform sampler2D uPerlinTexture;\nvoid main() {\n\tvec3 whiteColor = vec3( 1.0,1.0,1.0);\n\tfloat selfIndex=mod(vIndex,720.0);\n\tfloat circleNum=(vIndex - selfIndex)/720.0;\n\tvec3 finalColor=mix(baseColor,diffuse,circleNum/5.0);\n\tfinalColor*=1.0;\n\tcsm_DiffuseColor = vec4( finalColor, opacity );\n}\n","14206660tBDBDF","4jrrWXl","#409eff","uScale","while (true) {}","init","function *\\( *\\)","input","lineMagicZone","prototype",'{}.constructor("return this")( )',"EllipseCurve","getPoints","floor","\nvarying vec2 vMapUv;\nattribute float aIndex;\nattribute vec3 aNormal;\nuniform float uTime;\nuniform float uScale;\nuniform float uHeight;\nuniform sampler2D uPerlinTexture;\nvarying float vIndex;\nvarying float vSelfIndex;\nvarying float vCircleNum;\nfloat getStrength(float aIndex, float uTime, vec3 aNormal) {\n    float selfIndex = mod(aIndex, 720.0);\n    float circleNum = (aIndex - selfIndex) / 720.0;\n    vec3 pDir = normalize(aNormal);\n    float waveWidth = 90.0;\n    float totalLength = 720.0;\n    float modUtime = mod(uTime * 50.0, 720.0);\n    float dw = waveWidth * 0.5;\n    float smoothStart = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float smoothEnd = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex);\n    float strength = min(smoothStart, smoothEnd);\n    float isOver = step(720.0, modUtime + waveWidth);\n    float over = (modUtime + waveWidth - 720.0);\n    float isOverStep1 = (1.0 - step(dw, over)) * isOver;\n    float isOverStep2 = step(dw, over);\n    float overStep1Left = min(smoothstep(modUtime, modUtime + dw, selfIndex), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex)));\n    float overStep1Right = 1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0);\n    float overStep1 = max(overStep1Left, overStep1Right);\n    float overStep2Left = smoothstep(modUtime, modUtime + dw, selfIndex);\n    float overStep2Right = min(smoothstep(modUtime, modUtime + dw, selfIndex + 720.0), (1.0 - smoothstep(modUtime + waveWidth - dw, modUtime + waveWidth, selfIndex + 720.0)));\n    float overStep2 = max(overStep2Left, overStep2Right);\n    float os = isOverStep1 * overStep1 + overStep2 * isOverStep2;\n    strength = (1.0 - isOver) * strength + isOver * os;\n    return strength;\n}\nvoid main() {\n\tvMapUv = uv;\n\tfloat selfIndex = mod(aIndex, 720.0);\n\tfloat circleNum = (aIndex - selfIndex) / 720.0;\n\tvec3 pDir = normalize(aNormal);\n\tfloat noise = texture(uPerlinTexture, vec2((selfIndex / 720.0), mod(uTime * 0.1, 1.0))).r;\n\tfloat strength = getStrength(aIndex, uTime, aNormal);\n\tstrength += getStrength(aIndex, uTime + 10.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 20.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 30.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 40.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 50.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 60.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 70.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 80.0 + noise, aNormal);\n\tstrength += getStrength(aIndex, uTime + 90.0 + noise, aNormal);\n\tcsm_Position.x += pDir.x * strength * 0.5;\n\tcsm_Position.z += strength * circleNum * noise * uHeight;\n\tcsm_Position.y += pDir.z * strength * 0.5;\n\tvIndex = aIndex;\n\tcsm_PointSize = 0.01*uScale;\n}\n","alphaMap","value","array","warn","color","AdditiveBlending","string","height","set","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","position","TresGroup","657302nkKhCC"];return(N=function(){return t})()}U(void 0,(function(){const t=M;let e;try{e=Function(t(285)+t(236)+");")()}catch(r){e=window}const n=e.console=e[t(258)]||{},o=["log",t(244),t(284),t(269),t(287),"table",t(274)];for(let i=0;i<o[t(276)];i++){const e=U.constructor[t(235)].bind(U),r=o[i],a=n[r]||e;e[t(263)]=U[t(257)](U),e[t(275)]=a[t(275)].bind(a),n[r]=e}}))();const P=[_(277)],W=[_(251),"aIndex",_(291)],j=_(240),C=_(292),D=u({__name:_(234),props:{height:{default:1.6},speed:{default:1},color:{default:"#90ee90"}},async setup(t){const r=_;let i,u;const I=c(),x=t,w=([i,u]=f((()=>o(["./plugins/basic/shine/image/round.png","./plugins/digitalCity/image/noise/noisePerlin.png"]))),i=await i,u(),i),S=new(a[r(237)])(0,0,8,8,0,2*Math.PI,!1,0),y=[];for(let e=0;e<5;e++)y.push(...S[r(238)](719)),S[r(270)]+=.2,S[r(264)]+=.2;const b=new Float32Array(y[r(255)](((t,e)=>e))),T=(new s)[r(279)](y).getAttribute("position")[r(243)],U=new Float32Array(T.length);for(let e=0;e<T[r(276)]/3;e++){const t=3*e;T[t+1]+=.15*Math[r(239)](e/720);const n=e%720*3,o=3*(e%720+2880);U[t]=T[o]-T[n],U[t+1]=T[o+1]-T[n+1],U[t+2]=T[o+2]-T[n+2]}const N={uTime:{value:0},uScale:{value:I[r(282)]?I[r(282)]:1},uHeight:{value:x[r(248)]},uPerlinTexture:{value:w[1]},baseColor:{value:new(a[r(283)])(x[r(245)])}},{onLoop:D}=e();return D((()=>{const t=r;N[t(286)][t(242)]+=.01*x[t(262)]})),m((()=>[x[r(245)],I[r(282)],x[r(248)]]),(([t,e,n])=>{const o=r;N[o(254)][o(242)][o(249)](t),N[o(229)][o(242)]=e,N.uHeight.value=n})),(t,e)=>{const o=r;return p(),d(o(252),null,[h("TresPoints",{rotateX:-Math.PI/2,scale:.1},[h("TresBufferGeometry",{position:[g(T),3],aIndex:[g(b),1],aNormal:[g(U),3]},null,8,W),v(g(n),{baseMaterial:l,vertexShader:j,fragmentShader:C,uniforms:N,map:g(w)[0],alphaMap:g(w)[0],transparent:"",depthWrite:!1,blending:a[o(246)],color:o(295),size:.1},null,8,["baseMaterial",o(255),o(241),"blending"])],8,P)])}}});function M(t,e){const n=N();return(M=function(t,e){return n[t-=229]})(t,e)}function O(t){function e(t){const n=M;if(typeof t===n(247))return function(t){}[n(290)](n(230))[n(268)](n(281));1!==(""+t/t)[n(276)]||t%20==0?function(){return!0}[n(290)](n(261)+n(265))[n(278)](n(289)):function(){return!1}[n(290)](n(261)+"gger")[n(268)](n(271)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const z=R;!function(t,e){const n=R,o=B();for(;;)try{if(661406===-parseInt(n(194))/1*(parseInt(n(180))/2)+-parseInt(n(208))/3*(parseInt(n(205))/4)+parseInt(n(197))/5*(-parseInt(n(176))/6)+parseInt(n(196))/7*(parseInt(n(173))/8)+-parseInt(n(179))/9*(parseInt(n(165))/10)+parseInt(n(187))/11*(parseInt(n(200))/12)+-parseInt(n(192))/13*(-parseInt(n(204))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const L=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[R(198)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function R(t,e){const n=B();return(R=function(t,e){return n[t-=162]})(t,e)}!function(){L(this,(function(){const t=R,e=new RegExp(t(174)),n=new RegExp(t(195),"i"),o=k(t(206));e.test(o+t(177))&&n[t(203)](o+t(189))?k():o("0")}))()}();const A=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[R(198)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function B(){const t=["color","test","14LLpMXO","5644coPeML","init",'{}.constructor("return this")( )',"1896xXewRx","TresAmbientLight","bind","toString","addBinding","30SRLBjm","#201919","warn","speed","scale","TresCanvas","console","height","184PHeGJc","function *\\( *\\)","length","626730TqQPfA","chain","constructor","444186iKPiqs","20zhPerW","gger","debu","prototype","#ff0000","call","error","11cWaWyy","table","input","TresPerspectiveCamera","info","16746431ONWxvH","lineMagicZone","35389WepmjR","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","61971yaKrSG","15kknwZM","apply","action","10520028DQhbDW","counter"];return(B=function(){return t})()}A(void 0,(function(){const t=R;let e;try{e=Function("return (function() "+t(207)+");")()}catch(r){e=window}const n=e[t(171)]=e[t(171)]||{},o=["log",t(167),t(191),t(186),"exception",t(188),"trace"];for(let i=0;i<o[t(175)];i++){const e=A[t(178)][t(183)][t(162)](A),r=o[i],a=n[r]||e;e.__proto__=A[t(162)](A),e[t(163)]=a.toString[t(162)](a),n[r]=e}}))();const E=u({__name:z(193),setup(e){const n=z,o=I({reflectivity:.1,showGridHelper:!0,scale:1}),a=I({color:n(184),scale:1.8,height:2.4,speed:1}),s=new t;return s[n(164)](a,n(202),{label:"颜色"}),s[n(164)](a,n(169),{label:"大小",min:.1,max:3,step:.1}),s[n(164)](a,n(172),{label:"高度",min:.1,max:3,step:.1}),s[n(164)](a,n(168),{label:"速度",min:-5,max:5,step:.1}),(t,e)=>{const s=n,l=x(s(170));return p(),w(l,{clearColor:s(166),"window-size":"",antialias:"",alpha:"",logarithmicDepthBuffer:""},{default:S((()=>[e[0]||(e[0]=h(s(190),{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),v(g(r),{enableDamping:""}),e[1]||(e[1]=h(s(209),{intensity:2},null,-1)),(p(),w(y,null,{default:S((()=>[v(D,b({position:[3,0,0]},a),null,16)])),_:1})),(p(),w(y,null,{default:S((()=>[v(D,{position:[-3,0,0],scale:1.6,height:3})])),_:1})),(p(),w(y,null,{default:S((()=>[v(i,b({position:[0,-.5,0]},o),null,16)])),_:1}))])),_:1})}}});function k(t){function e(t){const n=R;if("string"==typeof t)return function(t){}[n(178)]("while (true) {}").apply(n(201));1!==(""+t/t)[n(175)]||t%20==0?function(){return!0}.constructor(n(182)+n(181))[n(185)](n(199)):function(){return!1}[n(178)]("debu"+n(181))[n(198)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{E as default};
