import{_ as t,b1 as n,h as e}from"./three.ZddO3ejJ1726800306729.js";import{p as o}from"./@tresjs.pv1MNfNv1726800306729.js";import{d as a,P as r}from"./@pmndrs.b0vWz2y51726800306729.js";import{d as s,b as i,w as c,a3 as u,o as l,E as p,L as d,aj as f,ak as h}from"./@vue.bvMz0l_u1726800306729.js";const m=w;function w(t,n){const e=M();return(w=function(t,n){return e[t-=338]})(t,n)}!function(t,n){const e=w,o=M();for(;;)try{if(114838===parseInt(e(341))/1*(parseInt(e(383))/2)+parseInt(e(352))/3*(parseInt(e(384))/4)+-parseInt(e(378))/5*(-parseInt(e(386))/6)+parseInt(e(409))/7+-parseInt(e(405))/8*(-parseInt(e(365))/9)+-parseInt(e(376))/10*(parseInt(e(412))/11)+-parseInt(e(400))/12*(parseInt(e(357))/13))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const b=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(359)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){b(this,(function(){const t=w,n=new RegExp(t(372)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=x("init");n[t(371)](o+t(346))&&e.test(o+t(410))?x():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(359)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function M(){const t=["console","gger","TresPlaneGeometry","rotate-x","TresMesh","position","60VKeDZn","top","bias","__proto__","far","848NWrbwJ","camera","update","Group","511721tQPQCE","input","acos","11OqTdmq","accumulativeShadowsCom","table","set","MathUtils","#000000","size","width","TresSoftShadowMaterial","material","toString","Vector3","string","castShadow","stateObject","gPlane","log","1BDoORI","constructor","trace","random","warn","chain","radius","info","cos","value","randFloatSpread","3477AFwURu","ambient",'{}.constructor("return this")( )',"bind","lightPosition","907101VcPgYJ","near","apply","progressiveLightMap2","intensity","prepare","children","left","7947ocquDj","texture","debu","frames","mapSize","blendWindow","test","function *\\( *\\)","sin","shadow","add","2275540dMhLgu","shadows render end","1175repkHb","blend","configure","finish","bottom","266156OFGlqO","708VSWaWO","alphaTest","4758albCGd","call","clear","opacity","color","error","length","shadows render start"];return(M=function(){return t})()}g(void 0,(function(){const t=w,n=function(){const t=w;let n;try{n=Function("return (function() "+t(354)+");")()}catch(e){n=window}return n}(),e=n[t(394)]=n[t(394)]||{},o=[t(340),t(345),t(348),t(391),"exception",t(414),t(343)];for(let a=0;a<o[t(392)];a++){const n=g.constructor.prototype.bind(g),r=o[a],s=e[r]||n;n[t(403)]=g[t(355)](g),n[t(422)]=s[t(422)][t(355)](s),e[r]=n}}))();const y=[m(397)],I=d(m(396),{args:[1,1]},null,-1),P=s({__name:m(413),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(417)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const w=m,b=s;let g=i();const{extend:M,scene:P,renderer:x,camera:S}=o();M({SoftShadowMaterial:a});const _={position:(new(t[w(423)]))[w(415)](b[w(356)].x,b[w(356)].y,b.lightPosition.z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},z=new r(x[w(350)],P[w(350)],_[w(369)]),j={map:z[w(360)][w(366)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:b.blend,alphaTest:b.alphaTest,opacity:b[w(389)],color:b[w(390)]},T=new(t[w(408)]);for(let t=0;t<_.amount;t++){const t=new n(16777215,_[w(361)]/_.amount);t[w(425)]=!0,t[w(374)][w(402)]=_[w(402)],t[w(374)][w(406)][w(358)]=_.near,t[w(374)][w(406)][w(404)]=_[w(404)],t[w(374)][w(406)].right=_[w(418)]/2,t.shadow[w(406)][w(364)]=-_[w(418)]/2,t.shadow[w(406)][w(401)]=_[w(418)]/2,t[w(374)].camera[w(382)]=-_[w(418)]/2,t[w(374)][w(369)][w(419)]=_[w(369)],t[w(374)][w(369)].height=_[w(369)],T[w(375)](t)}const v=()=>{const n=w,o=_.position[n(392)]();for(let a=0;a<T[n(363)][n(392)];a++){const r=T[n(363)][a];if(Math.random()>b[n(353)])r[n(399)][n(415)](_[n(399)].x+e.randFloatSpread(_.radius),_[n(399)].y+e[n(351)](_[n(347)]),_[n(399)].z+t[n(416)][n(351)](_.radius));else{let t=Math[n(411)](2*Math[n(344)]()-1)-Math.PI/2,e=2*Math.PI*Math[n(344)]();r[n(399)][n(415)](Math[n(349)](t)*Math[n(349)](e)*o,Math.abs(Math[n(349)](t)*Math[n(373)](e)*o),Math.sin(t)*o)}}},O=(t=1)=>{const n=w;P[n(350)][n(375)](T),z[n(362)]();for(let e=0;e<t;e++)v(),z[n(407)](S[n(350)],b[n(370)]),console[n(340)]("shadows plm update",e);P[n(350)].remove(T),z[n(381)]()};c((()=>g[w(350)]),(t=>{const n=w;t&&(z[n(380)](t),z[n(388)](),console[n(340)](n(393)),O(b[n(368)]),console.log(n(377)))}));const W=()=>{const t=w;z[t(388)](),O(b[t(368)])};return u((()=>{const t=w;g[t(350)]&&(b.opacity&&(g.value[t(421)][t(389)]=b[t(389)]),b[t(385)]&&(g[t(350)][t(421)].alphaTest=b[t(385)]),b.color&&g[t(350)][t(421)][t(390)][t(415)](b[t(390)]),b[t(379)]&&(g[t(350)][t(421)][t(379)]=b[t(379)]))})),c((()=>b.lightPosition),(t=>{const n=w;t&&(console[n(340)](b[n(356)]),_[n(399)][n(415)](t.x,t.y,t.z),W())}),{deep:!0}),c((()=>[b[w(368)],b[w(370)],b[w(353)]]),(()=>{W()})),(t,n)=>{const e=w;return l(),p(e(398),{"receive-shadow":"",ref_key:e(339),ref:g,scale:10,"rotate-x":-Math.PI/2},[I,d(e(420),f(h(j)),null,16)],8,y)}}});function x(t){function n(t){const e=w;if(typeof t===e(424))return function(t){}[e(342)]("while (true) {}")[e(359)]("counter");1!==(""+t/t)[e(392)]||t%20==0?function(){return!0}[e(342)](e(367)+e(395))[e(387)]("action"):function(){return!1}[e(342)](e(367)+e(395)).apply(e(338)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{P as _};
