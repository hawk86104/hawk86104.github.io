import{c as t,B as n,r as e,c7 as o,C as r,V as s,a0 as i}from"./three.FxqAALWt1741168315107.js";import{w as c}from"./@fesjs.vxeGrljA1741168315107.js";import{a as u}from"./@tresjs.Ea5Oq_-I1741168315107.js";import{c as a,d as p,a as f}from"./three-mesh-bvh.304c-5N01741168315107.js";!function(t,n){const e=m,o=x();for(;;)try{if(255209===parseInt(e(306))/1*(parseInt(e(353))/2)+-parseInt(e(359))/3+parseInt(e(360))/4*(-parseInt(e(352))/5)+-parseInt(e(295))/6*(parseInt(e(300))/7)+-parseInt(e(322))/8+parseInt(e(292))/9+-parseInt(e(348))/10*(-parseInt(e(367))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[m(361)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=m,n=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=I(t(321));n[t(303)](o+t(305))&&e[t(303)](o+t(329))?I():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(t,n){const e=x();return(m=function(t,n){return e[t-=291]})(t,n)}g(void 0,(function(){const t=m,n=function(){const t=m;let n;try{n=Function("return (function() "+t(341)+");")()}catch(e){n=window}return n}(),e=n[t(357)]=n[t(357)]||{},o=[t(351),t(326),"info","error",t(349),t(368),t(317)];for(let r=0;r<o[t(334)];r++){const n=g[t(346)][t(301)][t(325)](g),s=o[r],i=e[s]||n;n[t(358)]=g[t(325)](g),n[t(354)]=i[t(354)].bind(i),e[s]=n}}))();const h=(n,e=!1)=>{const o=m;n.computeBoundingBox();const{max:r,min:s}=n[o(331)];n[o(310)]("uv");const i=r.x-s.x,c=r.y-s.y,u=[];for(let t=0;t<n.attributes.position[o(323)];t++)e?(u[o(297)]((n[o(337)][o(338)].getX(t)-(s.x+r.x)/2)/i),u[o(297)]((n[o(337)][o(338)][o(298)](t)-(s.y+r.y)/2)/c)):(u[o(297)]((n[o(337)].position.getX(t)-s.x)/i),u.push((n.attributes[o(338)][o(298)](t)-s.y)/c));const a=new Float32Array(u);n.setAttribute("uv",new t(a,2))},d=(t,n)=>new Promise(((e,o)=>{const r=m;c(t,{},{method:r(344),mergeRequest:!0,responseType:r(332)}).then((t=>{const o=r;n&&e(t[n]),e(t[o(333)])}))[r(304)]((t=>{console[r(356)](t),o(t)}))}));function x(){const t=["attributes","position","string","set",'{}.constructor("return this")( )',"getCenter","computeBoundsTree","get","setFromObject","constructor","config","10VdtKMp","exception","stateObject","log","35ZCxTFJ","6AoVoak","toString","transparent","error","console","__proto__","237XtWRlG","164248gYAAZE","apply","action","divideScalar","computeBoundingBox","geometry","negate","7998419RpiuxQ","table","copy","counter","1666881oyJEUU","value","add","6XJiLzz","applyMatrix4","push","getY","setAttribute","2467227nDjoxt","prototype","getX","test","catch","chain","70537PIkTxN","gger","Vector3","side","deleteAttribute","disposeBoundsTree","getSize","Box3","material","random","children","trace","debu","min","sub","init","1830128ohuvxJ","count","max","bind","warn","reflectivity","raycast","input","forEach","boundingBox","json","features","length","setY","center"];return(x=function(){return t})()}const w=t=>{const n=m,e=(new(THREE[n(313)]))[n(345)](t),o=new(THREE[n(308)]);e[n(342)](o),t[n(316)][n(330)]((t=>{t.position.sub(o)})),t[n(338)][n(369)](o[n(366)]())},y=()=>{const t=m;n[t(301)].computeBoundsTree=a,n[t(301)][t(311)]=p,e[t(301)][t(328)]=f},b=async t=>{const n=m,e=await u(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(365)].clone();h(c),c[n(343)]();const a=new o(c,{color:new r("#fff"),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return a[n(314)][n(355)]=!0,a.material.depthWrite=!0,a[n(314)].depthTest=!0,a[n(314)][n(309)]=i,a[n(314)].uniforms[n(347)][n(293)].w=20,a[n(314)].uniforms[n(327)][n(293)]=.46,a};function j(t){const n=m,e=[];for(let r=0;r<t[n(334)];r++)e.push(new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(334)];r++)o[n(294)](e[r]);o[n(363)](e.length);for(let r=0;r<e[n(334)];r++)e[r][n(320)](o);return{points:e,centerPoint:o}}function I(t){function n(t){const e=m;if(typeof t===e(339))return function(t){}.constructor("while (true) {}")[e(361)](e(291));1!==(""+t/t).length||t%20==0?function(){return!0}[e(346)](e(318)+"gger").call(e(362)):function(){return!1}.constructor(e(318)+e(307))[e(361)](e(350)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{w as a,j as g,y as i,d as l,h as r,b as s};
