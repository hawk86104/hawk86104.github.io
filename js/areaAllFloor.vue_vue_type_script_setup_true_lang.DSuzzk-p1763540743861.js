import{F as a,_ as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{_ as o}from"./oneAreaFloor.vue_vue_type_script_setup_true_lang.Cu7DU8I51763540743861.js";import{f as r,p as l}from"./utils.D7CR8Ywg1763540743861.js";import{u as s}from"./commonData.BQ6HGNAS1763540743861.js";import{d as t,a9 as n,a as u,w as m,H as i,o as c,u as p,F as f,X as v,b as d}from"./@vue.Co_gxueH1763540743861.js";import{V as _}from"./three.rXKzP9fQ1763540743861.js";const y=["position"],I=t({__name:"areaAllFloor",setup(t){const I=s(),g=n(I.floorsPrimary),b={};b.all={camera:new _(-8,8,9),target:new _(0,0,0)};const j=u({});g.forEach((a,e)=>{b[a.floorId]={camera:new _(-5,8-1.2*e+1,6),target:new _(0,1.2*-e,0)},j.value[a.floorId]=1});let F=null,P=null;const{camera:w,controls:A}=a();m(()=>I.selectFloorId,a=>{const e=b[a];A.value.enablePan=!1,A.value.enableZoom=!1,A.value.enableRotate=!1,F=r(w.value,e.camera,A.value,e.target,2e3,()=>{A.value.enablePan=!0,A.value.enableZoom=!0,A.value.enableRotate=!0}),P=l(j.value,a,2e3)});const{onBeforeRender:h}=e();return h(()=>{F?.update(),P?.update()}),(a,e)=>(c(),i("TresGroup",{position:[0,1.2*p(g).length/2,0]},[(c(!0),i(f,null,v(p(g),(a,e)=>(c(),d(o,{key:e,areasPrimary:a.areasPrimary,position:[0,1.2*-e,0],floorId:a.floorId,opacity:j.value[a.floorId],clickArea:j.value[a.floorId]>=.9&&"all"!==p(I).selectFloorId},null,8,["areasPrimary","position","floorId","opacity","clickArea"]))),128))],8,y))}});export{I as _};
