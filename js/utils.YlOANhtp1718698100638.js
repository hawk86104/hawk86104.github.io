import"./@fesjs.IcRnDBLi1718698100638.js";import{_ as n}from"./jszip.KspeudHJ1718698100638.js";import{F as t}from"./file-saver.-Pk7Qzup1718698100638.js";import{a5 as e,aI as s}from"./three.erXpfL-r1718698100638.js";const o=c;!function(n,t){const e=c,s=i();for(;;)try{if(546450===parseInt(e(353))/1+-parseInt(e(344))/2*(parseInt(e(422))/3)+-parseInt(e(412))/4+parseInt(e(341))/5*(parseInt(e(361))/6)+-parseInt(e(401))/7+parseInt(e(367))/8*(-parseInt(e(331))/9)+parseInt(e(362))/10)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const r=function(){let n=!0;return function(t,e){const s=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,s}}();!function(){r(this,(function(){const n=c,t=new RegExp(n(429)),e=new RegExp(n(399),"i"),s=b(n(421));t[n(383)](s+"chain")&&e[n(383)](s+n(398))?b():s("0")}))()}();const a=function(){let n=!0;return function(t,e){const s=n?function(){if(e){const n=e[c(326)](t,arguments);return e=null,n}}:function(){};return n=!1,s}}();function c(n,t){const e=i();return(c=function(n,t){return e[n-=326]})(n,t)}function i(){const n=["substring","file","load","async","trace","forEach","result","__proto__","endsWith","base64","test",'{}.constructor("return this")( )',"files","url","bind","app.json","then","error","setResponseType",".json","prototype","uuid","gger","type","GIF","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","895545VEngmm","data","slice","startsWith","data:image/jpeg;base64,","image/jpeg","counter","readAsDataURL","split","debu","image/bmp","3760088MxjNsN","loadAsync","JPEG","constructor","scene","data:image/JPEG;base64,","image/gif","config.zip","log","init","3106341ERUCKS","length","onloadend","geometries","push","FileLoader","WEBP","function *\\( *\\)","image/png","apply","application/octet-stream","parse","catch","url:images/","64017UdwDQV","PNG","data:","folder","toString","data:image/gif;base64,","pop","data:image/","onerror","Cache","3759295qpPeCS","blob","info","2tRqSzL","string","data:image/PNG;base64,","非标准文件：不存在 app.json","BufferGeometry","name","enabled","console","url:","874007MYwmtr","call","stateObject",";base64,","data:image/png;base64,","data:image/webp;base64,","images","while (true) {}","6yyWedc","18846610gxVFmf","url:geometries/","stringify","table","data:image/GIF;base64,","968PMJVmv","toLowerCase","exception","data:image/WEBP;base64,","image/webp","generateAsync"];return(i=function(){return n})()}async function u(n){const t=o,s=new(e[t(427)]);return new Promise(((e,o)=>{const r=t;s[r(375)](n,(n=>e(JSON[r(328)](n))),void 0,(n=>o(n)))}))}async function p(n){const t=new s;return new Promise(((e,s)=>{const r=c;t.setResponseType(r(342)),t[r(375)](n,(t=>{const a=r,c=new FileReader;c[a(424)]=()=>{const t=a,s=function(n){const t=o,e=n[t(409)](".")[t(337)]()[t(368)]();return{jpg:"image/jpeg",jpeg:t(406),png:t(430),gif:t(418),bmp:t(411),webp:t(371)}[e]||t(327)}(n),r=c[t(379)][t(409)](",")[1];e(t(333)+s+";base64,"+r)},c[a(339)]=n=>{s(n)},c[a(408)](t)}),void 0,(n=>s(n)))}))}a(void 0,(function(){const n=c,t=function(){const n=c;let t;try{t=Function(n(400)+n(384)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(351)]||{},s=[n(420),"warn",n(343),n(390),n(369),n(365),n(377)];for(let o=0;o<s.length;o++){const t=a[n(415)][n(393)][n(387)](a),r=s[o],c=e[r]||t;t[n(380)]=a[n(387)](a),t[n(335)]=c[n(335)].bind(c),e[r]=t}}))(),e[o(340)][o(350)]=!0;const l=t=>{const s=o,r=new(e[s(427)]);return r[s(391)](s(342)),new Promise(((e,o)=>{const a=s;r[a(375)](t,(async t=>{const s=a;e(await n[s(413)](t))}),void 0,(n=>o(n)))}))},f=n=>{const t=o,e=n[t(373)](0,15),s=t(405),r=t(417),a=t(357),c=t(346),i=t(336),u=t(366),p=t(358),l=t(370);return s[t(404)](e)||r[t(404)](e)?t(414):a[t(404)](e)||c.startsWith(e)?t(332):i[t(404)](e)||u[t(404)](e)?t(397):p[t(404)](e||l[t(404)](e))?t(428):"Unknown"},g=e=>{const s=o,r=[];e[s(416)].geometries&&e.scene[s(425)][s(378)]((n=>{const t=s;n[t(396)]===t(348)&&(r[t(426)]({uuid:n.uuid,data:n[t(402)]}),n[t(402)]=t(363)+n[t(394)]+t(392))}));const a=[];e[s(416)][s(359)]&&e[s(416)].images[s(378)]((n=>{const t=s;n[t(386)]&&(a.push({uuid:n[t(394)],url:n.url}),n[t(386)][t(396)]?n.url=t(330)+n[t(394)]+"."+n[t(386)][t(396)]+t(392):n[t(386)]=t(330)+n[t(394)]+"."+f(n.url))}));const c=new n;if(r[s(423)]){const n=c[s(334)]("geometries");r[s(378)]((t=>{const e=s;n[e(374)](t[e(394)]+e(392),JSON[e(364)](t[e(402)]))}))}if(a[s(423)]){const n=c.folder("images");a[s(378)]((t=>{const e=s;t[e(386)][e(396)]?n.file(t[e(394)]+"."+t[e(386)].type+e(392),JSON[e(364)](t[e(386)])):n[e(374)](t[e(394)]+"."+f(t[e(386)]),t.url[e(409)](e(356))[e(337)](),{base64:!0})}))}const i=JSON[s(364)](e);return c[s(374)]("app.json",i),c[s(372)]({type:s(342)})[s(389)]((n=>{const e=s;t.saveAs(n,e(419))}))},m=(n,t,e)=>{n.geometries<=0&&n.images<=0&&e(t)},d=(t,e)=>{const s=o;let r=null;return n[s(413)](t)[s(389)]((n=>{const t=s;n[t(385)]["app.json"]?n[t(385)][t(388)][t(376)]("string")[t(389)]((s=>{var a,c;const i=t;r=JSON[i(328)](s);const u=(n=>{var t,e;const s=o,r={geometries:0,images:0};return null==(t=n[s(416)][s(425)])||t.forEach((n=>{const t=s;n[t(402)][t(404)](t(352))&&r[t(425)]++})),null==(e=n[s(416)][s(359)])||e.forEach((n=>{const t=s;n[t(386)][t(404)](t(352))&&r[t(359)]++})),r})(r);m(u,r,e),null==(a=r.scene[i(425)])||a[i(378)]((t=>{const s=i;t.data[s(404)]("url:")&&n[s(385)][t[s(402)][s(403)](4)][s(376)](s(345))[s(389)]((n=>{const o=s;t.data=JSON[o(328)](n),u[o(425)]--,m(u,r,e)}))})),null==(c=r[i(416)][i(359)])||c[i(378)]((t=>{const s=i;if(t[s(386)][s(404)](s(352))){const o=t.url[s(403)](4);o[s(381)](s(392))?n[s(385)][o].async(s(345))[s(389)]((n=>{const o=s;t[o(386)]=JSON[o(328)](n),u[o(359)]--,m(u,r,e)})):n[s(385)][o][s(376)](s(382))[s(389)]((n=>{const a=s,c=o[a(409)]("."),i=c[c[a(423)]-1].toUpperCase();t[a(386)]=a(338)+i+a(356)+n,u[a(359)]--,m(u,r,e)}))}}))})):console.error(t(347))}),(n=>{const e=s;console[e(390)](t[e(349)]+": "+n.message)})),r};function b(n){function t(n){const e=c;if(typeof n===e(345))return function(n){}[e(415)](e(360))[e(326)](e(407));1!==(""+n/n).length||n%20==0?function(){return!0}.constructor(e(410)+e(395))[e(354)]("action"):function(){return!1}.constructor(e(410)+e(395)).apply(e(355)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{l as a,p as b,g as e,f as g,d as i,u as l};
