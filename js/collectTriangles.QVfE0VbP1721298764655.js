import{p as t,$ as n,W as e,d as r}from"./@tresjs.iXEJQd7J1721298764655.js";import{_ as o}from"./index.vsdHi7KB1721298764655.js";import{a as s}from"./index.2g5Dz76W1721298764655.js";import{a6 as i,a as c,M as u,B as a,cz as l}from"./three.0bBjBDi41721298764655.js";import{P as p}from"./tweakpane.yHWGBmom1721298764655.js";import{I as f,C as g,N as h,c as d,d as m,a as y}from"./three-mesh-bvh.LM_bczGP1721298764655.js";import{d as w,a4 as b,b as j,a1 as v,o as I,D as _,J as x,u as T,F as z,r as M,e as R,j as O,g as S,m as k,f as A,al as B}from"./@vue.Q1VpS3901721298764655.js";import"./@vueuse.hS-CVzal1721298764655.js";import"./default.vue_vue_type_script_setup_true_lang.RPKdbnlp1721298764655.js";import"./@fesjs.brW7jqtK1721298764655.js";import"./vue-router.i1Z-d_LR1721298764655.js";import"./lodash-es.nFpJXAf-1721298764655.js";import"./@qlin.yHhFDldE1721298764655.js";import"./pinia.3lNuHAZQ1721298764655.js";import"./@floating-ui.BPbuo5Gx1721298764655.js";import"./@juggle.7yjBMqoW1721298764655.js";import"./three-stdlib.z4qNuiyK1721298764655.js";import"./@pmndrs.18kFuzzQ1721298764655.js";import"./object-hash.eR6rYsIK1721298764655.js";import"./@amap.x_Go35DX1721298764655.js";import"./jszip.-g-_Ii-P1721298764655.js";!function(t,n){const e=E,r=U();for(;;)try{if(687037===-parseInt(e(156))/1+parseInt(e(154))/2+-parseInt(e(187))/3+-parseInt(e(169))/4+-parseInt(e(159))/5*(-parseInt(e(164))/6)+-parseInt(e(149))/7+parseInt(e(160))/8)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(181)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){C(this,(function(){const t=E,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(178),"i"),r=J(t(153));n[t(179)](r+t(174))&&e[t(179)](r+"input")?J():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[E(181)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function E(t,n){const e=U();return(E=function(t,n){return e[t-=143]})(t,n)}Z(void 0,(function(){const t=E;let n;try{n=Function("return (function() "+t(184)+");")()}catch(o){n=window}const e=n[t(147)]=n[t(147)]||{},r=[t(171),t(158),"info","error",t(176),t(167),t(188)];for(let s=0;s<r.length;s++){const n=Z.constructor[t(185)][t(161)](Z),o=r[s],i=e[o]||n;n[t(165)]=Z[t(161)](Z),n[t(150)]=i[t(150)][t(161)](i),e[o]=n}}))();function J(t){function n(t){const e=E;if(typeof t===e(177))return function(t){}[e(180)](e(168))[e(181)]("counter");1!==(""+t/t)[e(151)]||t%20==0?function(){return!0}.constructor(e(157)+e(173)).call(e(162)):function(){return!1}[e(180)]("debu"+e(173))[e(181)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function U(){const t=["innerHeight",'{}.constructor("return this")( )',"prototype","innerWidth","1298139TccxRO","trace","value","clientX","pointerdown","setFromCamera","console","addEventListener","2312107zwTUlj","toString","length","firstHitOnly","init","2704606KJOWqs","pointermove","412235eCQyVu","debu","warn","91470ECyztl","8830176xTenvV","bind","action","Raycaster","246WcxUoH","__proto__","clientY","table","while (true) {}","5375372JVElBw","button","log","enabled","gger","chain","intersectObject","exception","string","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","test","constructor","apply","touch"];return(U=function(){return t})()}const Y=W;!function(t,n){const e=W,r=X();for(;;)try{if(691088===-parseInt(e(265))/1+-parseInt(e(299))/2+parseInt(e(309))/3*(-parseInt(e(330))/4)+-parseInt(e(256))/5+parseInt(e(274))/6*(parseInt(e(335))/7)+parseInt(e(291))/8*(parseInt(e(326))/9)+parseInt(e(262))/10*(parseInt(e(325))/11))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const V=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(283)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function W(t,n){const e=X();return(W=function(t,n){return e[t-=256]})(t,n)}function X(){const t=["call","controls","info","action","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","intersectsBox","6028968dDSJRq","1489950ZBoYDD","position","exception","console","4kxQUve","setAttribute","MeshStandardMaterial","生成模型","visible","7QlujtZ","material","model","Sphere",'{}.constructor("return this")( )',"点击按钮","constructor","5306270BQYJan","attributes","getY","getX","error","chain","30QnVVvU","prototype","BufferGeometry","1218419bXnIun","boundsTree","setUsage","enabled","copy","Vector3","function *\\( *\\)","shapecast","debu","6433866GjMNvx","fill","center","input","log","color","TresMesh","__proto__","bind","apply","push","value","BufferAttribute","targetMesh.value init","test","TresMeshStandardMaterial","setFromCamera","48dmUMuP","radius","stateObject","click","getZ","count","set","TresSphereGeometry","976990wsNuxP","setX","raycast","targetMesh","warn","init","setScalar","normal","point","geometry","751857hSIkOH","Vector2","needsUpdate","Mesh","counter","firstHitOnly","toString","DynamicDrawUsage","length","index"];return(X=function(){return t})()}!function(){V(this,(function(){const t=W,n=new RegExp(t(271)),e=new RegExp(t(323),"i"),r=q(t(304));n[t(288)](r+t(261))&&e[t(288)](r+t(277))?q():r("0")}))()}();const D=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[W(283)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();D(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function("return (function() "+t(339)+");")()}catch(e){n=window}return n}(),e=n[t(329)]=n[t(329)]||{},r=[t(278),t(303),t(321),t(260),t(328),"table","trace"];for(let o=0;o<r[t(317)];o++){const n=D[t(341)].prototype[t(282)](D),s=r[o],i=e[s]||n;n[t(281)]=D.bind(D),n.toString=i[t(315)][t(282)](i),e[s]=n}}))();const F=[Y(308),Y(336)],P=[x(Y(298),{args:[1,40,40]},null,-1),x(Y(289),{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)],Q=[Y(308)],$=[x("TresMeshStandardMaterial",{color:"#023249",roughness:.2,metalness:0,envMapIntensity:.2},null,-1)],H=w({__name:Y(337),props:{controls:{}},async setup(r){const o=Y;let s,w;const M=r;(()=>{const t=W;i[t(264)][t(263)].computeBoundsTree=d,a[t(263)].disposeBoundsTree=m,i[t(312)][t(263)][t(301)]=y})();const R=([s,w]=b((()=>e(l,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,w(),s),O=new(i[o(332)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),S=new Uint8Array(3*R[o(257)][o(327)].count);S[o(275)](255);const k=new c(S,3,!0);k[o(267)](i[o(316)]),R.setAttribute(o(279),k);const A=j(null),B=j(null),C=j(!1),Z=j(-1),J=j(.2),U=new(i[o(310)]),{camera:V,raycaster:X}=t(),D=15/255,H=78/255,q=85/255;let G=null;v((()=>{const t=o;A[t(285)]&&(console[t(278)](t(287),A[t(285)]),A.value[t(308)].computeBoundsTree(),G=R[t(266)],((t,n,e,r,o,s)=>{const c=E;window[c(148)](c(155),(e=>{const r=c;t.x=e[r(144)]/window.innerWidth*2-1,t.y=-e.clientY/window[r(183)]*2+1,n.value=!0})),window[c(148)](c(145),(u=>{const a=c;t.x=u[a(144)]/window[a(186)]*2-1,t.y=-u[a(166)]/window[a(183)]*2+1,r[a(143)]=u[a(170)];const l=new(i[a(163)]);l[a(146)](t,e[a(143)]),l[a(152)]=!0;const p=l[a(175)](o[a(143)],!0);n[a(143)]=!0,s[a(172)]=0===p[a(151)]}),!0),window[c(148)]("pointerup",(t=>{const e=c;r[e(143)]=-1,t.pointerType===e(182)&&(n[e(143)]=!1)}),!0)})(U,C,V,Z,A,M[t(320)][t(285)]))}));const{onLoop:N}=n();N((()=>{const t=o,n=R[t(318)];if(B[t(285)])if(M[t(320)][t(285)].active||!C.value)B.value[t(334)]=!1;else{B[t(285)].scale[t(305)](J[t(285)]),X[t(285)][t(290)](U,V[t(285)]),X[t(285)][t(314)]=!0;const e=X[t(285)].intersectObject(A[t(285)],!0);if(e.length){B[t(285)][t(327)].copy(e[0][t(307)]),M[t(320)][t(285)][t(268)]=!1,B.value.visible=!0;const r=new u;r[t(269)](A[t(285)].matrixWorld).invert();const o=new(i[t(338)]);o[t(276)].copy(B[t(285)][t(327)]).applyMatrix4(r),o[t(292)]=100*J.value;const s=[],c=new(i[t(270)]);if(null==G||G[t(272)]({intersectsBounds:n=>{const e=t,r=o[e(324)](n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(297)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return f;return g}return r?f:h},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n.intersectsSphere(o)){const t=3*e;s[i(284)](t,t+1,t+2)}return!1}}),0===Z.value||2===Z.value){let e=1,r=1,o=1;0===Z.value&&(e=D,r=H,o=q);for(let i=0,c=s.length;i<c;i++){const c=n.getX(s[i]);k[t(300)](c,e),k.setY(c,r),k.setZ(c,o)}k[t(311)]=!0}}else B[t(285)][t(334)]=!1,M[t(320)][t(285)][t(268)]=!0}}));const K=(new p).addButton({title:o(340),label:o(333)}),L=new(i[o(264)]);return K.on(o(294),(()=>{const t=o,n=[],e=[];for(let o=0;o<k[t(296)];o++)k[t(259)](o)===D&&k.getY(o)===H&&k.getZ(o)===q&&(n[t(284)](R.attributes.position[t(259)](o),R[t(257)].position[t(258)](o),R.attributes.position[t(295)](o)),e[t(284)](R.attributes[t(306)][t(259)](o),R[t(257)].normal.getY(o),R[t(257)][t(306)][t(295)](o)));const r=new Float32Array(n);L[t(331)]("position",new(i[t(286)])(r,3)),L[t(331)](t(306),new c(r,3))})),(t,n)=>{const e=o;return I(),_(z,null,[x(e(280),{ref_key:e(302),ref:A,geometry:T(R),scale:.005,material:T(O)},null,8,F),x(e(280),{ref_key:"brushMesh",ref:B,visible:!1},P,512),x("TresMesh",{geometry:T(L),position:[-2,-2,2],scale:.005},$,8,Q)],64)}}});function q(t){function n(t){const e=W;if("string"==typeof t)return function(t){}.constructor("while (true) {}").apply(e(313));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(273)+"gger")[e(319)](e(322)):function(){return!1}[e(341)](e(273)+"gger")[e(283)](e(293)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const G=N;function N(t,n){const e=et();return(N=function(t,n){return e[t-=385]})(t,n)}!function(t,n){const e=N,r=et();for(;;)try{if(336805===-parseInt(e(410))/1*(parseInt(e(415))/2)+parseInt(e(412))/3*(parseInt(e(407))/4)+parseInt(e(397))/5*(parseInt(e(421))/6)+parseInt(e(417))/7*(parseInt(e(401))/8)+-parseInt(e(418))/9*(parseInt(e(399))/10)+-parseInt(e(406))/11+parseInt(e(390))/12*(parseInt(e(411))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const K=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(432)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){K(this,(function(){const t=N,n=new RegExp(t(396)),e=new RegExp(t(423),"i"),r=ot(t(393));n[t(426)](r+t(388))&&e[t(426)](r+"input")?ot():r("0")}))()}();const L=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[N(432)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();L(void 0,(function(){const t=N;let n;try{n=Function(t(409)+'{}.constructor("return this")( ));')()}catch(o){n=window}const e=n.console=n[t(427)]||{},r=[t(405),t(400),t(391),"error",t(414),"table",t(429)];for(let s=0;s<r[t(398)];s++){const n=L[t(420)][t(387)][t(419)](L),o=r[s],i=e[o]||n;n[t(422)]=L[t(419)](L),n[t(394)]=i.toString[t(419)](i),e[o]=n}}))();const tt=x(G(425),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1),nt=x(G(408),{intensity:1},null,-1);function et(){const t=["__proto__","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","controls","TresPerspectiveCamera","test","console","debu","trace","gger","pos-z.jpg","apply","controlsRef","neg-z.jpg","string","pos-x.jpg","TresCanvas","prototype","chain","#999999","342156ozwQiT","info","collectTriangles","init","toString","call","function *\\( *\\)","32355RREOsR","length","952440JkdICW","warn","19384yKblmQ","stateObject","action","neg-y.jpg","log","2684638uDToiR","56JOldXJ","TresAmbientLight","return (function() ","246121ynxbZT","169HzMTWP","6882EtrOtt","pos-y.jpg","exception","2PCVsZX","neg-x.jpg","112lTYrzX","18vzAGsR","bind","constructor","534OEaove"];return(et=function(){return t})()}const rt=w({__name:G(392),setup(t){const n=G,e=M({clearColor:n(389),antialias:!0}),i=M({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=R(a(386));return I(),_(z,null,[O(T(o)),O(l,k(e,{"window-size":""}),{default:S((()=>[tt,O(T(r),k({ref_key:a(433),ref:c},i),null,16),nt,(I(),A(B,null,{default:S((()=>[O(H,{controls:c.value},null,8,[a(424)])])),_:1})),(I(),A(B,null,{default:S((()=>[O(T(s),{background:!1,files:[a(385),a(416),a(413),a(404),a(431),a(434)],path:"https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/"})])),_:1}))])),_:1},16)],64)}}});function ot(t){function n(t){const e=N;if(typeof t===e(435))return function(t){}[e(420)]("while (true) {}").apply("counter");1!==(""+t/t)[e(398)]||t%20==0?function(){return!0}[e(420)](e(428)+e(430))[e(395)](e(403)):function(){return!1}.constructor(e(428)+"gger")[e(432)](e(402)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{rt as default};
