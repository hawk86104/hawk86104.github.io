import"./@fesjs.Le0G27v81726273176332.js";import{_ as t}from"./jszip.nlLK-hOV1726273176332.js";import{F as n}from"./file-saver.Qhj_1Fdl1726273176332.js";import{_ as e}from"./three.874nNzAX1726273176332.js";const s=a;!function(t,n){const e=a,s=d();for(;;)try{if(408524===parseInt(e(282))/1*(-parseInt(e(293))/2)+parseInt(e(260))/3+-parseInt(e(249))/4+-parseInt(e(303))/5*(-parseInt(e(213))/6)+-parseInt(e(256))/7+parseInt(e(211))/8+parseInt(e(231))/9)break;s.push(s.shift())}catch(o){s.push(s.shift())}}();const o=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[a(266)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();!function(){o(this,(function(){const t=a,n=new RegExp(t(270)),e=new RegExp(t(224),"i"),s=m(t(264));n[t(229)](s+t(257))&&e[t(229)](s+t(274))?m():s("0")}))()}();const r=function(){let t=!0;return function(n,e){const s=t?function(){if(e){const t=e[a(266)](n,arguments);return e=null,t}}:function(){};return t=!1,s}}();function a(t,n){const e=d();return(a=function(t,n){return e[t-=208]})(t,n)}async function i(t){const n=s,o=new(e[n(285)]);return new Promise(((e,s)=>{const r=n;o.load(t,(t=>e(JSON[r(284)](t))),void 0,(t=>s(t)))}))}async function c(t){const n=s,o=new(e[n(285)]);return new Promise(((e,r)=>{const i=n;o[i(241)](i(252)),o[i(267)](t,(n=>{const o=i,c=new FileReader;c.onloadend=()=>{const n=a,o=function(t){const n=s,e=t[n(223)](".")[n(228)]()[n(246)]();return{jpg:n(297),jpeg:n(297),png:"image/png",gif:n(245),bmp:"image/bmp",webp:n(286)}[e]||n(276)}(t),r=c[n(242)][n(223)](",")[1];e(n(248)+o+n(244)+r)},c[o(218)]=t=>{r(t)},c[o(261)](n)}),void 0,(t=>r(t)))}))}r(void 0,(function(){const t=a,n=function(){const t=a;let n;try{n=Function(t(273)+t(290)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(233)]||{},s=["log","warn",t(307),t(295),t(305),t(258),t(262)];for(let o=0;o<s[t(291)];o++){const n=r[t(215)][t(263)].bind(r),a=s[o],i=e[a]||n;n[t(287)]=r[t(272)](r),n[t(208)]=i.toString[t(272)](i),e[a]=n}}))(),e[s(232)][s(220)]=!0;const u=n=>{const o=s,r=new(e[o(285)]);return r[o(241)](o(252)),new Promise(((e,s)=>{const a=o;r[a(267)](n,(async n=>{const s=a;e(await t[s(247)](n))}),void 0,(t=>s(t)))}))},f=t=>{const n=s,e=t[n(277)](0,15),o=n(253),r=n(308),a=n(275),i=n(268),c=n(289),u=n(250),f=n(217);return"data:image/jpeg;base64,"[n(226)](e)||o.startsWith(e)?n(214):r.startsWith(e)||a[n(226)](e)?n(281):i[n(226)](e)||c.startsWith(e)?n(278):u[n(226)](e||f[n(226)](e))?"WEBP":"Unknown"},p=e=>{const o=s,r=[];e[o(234)][o(259)]&&e[o(234)][o(259)][o(240)]((t=>{const n=o;t[n(227)]===n(222)&&(r[n(209)]({uuid:t[n(298)],data:t[n(255)]}),t.data="url:geometries/"+t[n(298)]+".json")}));const a=[];e[o(234)].images&&e[o(234)][o(306)][o(240)]((t=>{const n=o;t.url&&(a[n(209)]({uuid:t[n(298)],url:t[n(230)]}),t[n(230)][n(227)]?t[n(230)]=n(304)+t[n(298)]+"."+t[n(230)][n(227)]+n(283):t[n(230)]=n(304)+t[n(298)]+"."+f(t[n(230)]))}));const i=new t;if(r[o(291)]){const t=i[o(236)](o(259));r[o(240)]((n=>{const e=o;t.file(n[e(298)]+e(283),JSON[e(221)](n.data))}))}if(a[o(291)]){const t=i[o(236)](o(306));a.forEach((n=>{const e=o;n[e(230)][e(227)]?t[e(265)](n[e(298)]+"."+n[e(230)][e(227)]+e(283),JSON[e(221)](n.url)):t[e(265)](n[e(298)]+"."+f(n.url),n.url[e(223)](e(244))[e(228)](),{base64:!0})}))}const c=JSON[o(221)](e);return i[o(265)]("app.json",c),i[o(237)]({type:o(252)})[o(243)]((t=>{const e=o;n.saveAs(t,e(280))}))},l=(t,n,e)=>{const o=s;t.geometries<=0&&t[o(306)]<=0&&e(n)},g=(n,e)=>{const o=s;let r=null;return t[o(247)](n).then((t=>{const n=o;t[n(301)]["app.json"]?t.files[n(296)].async(n(238)).then((o=>{var a,i;const c=n;r=JSON[c(284)](o);const u=(t=>{var n,e;const o=s,r={geometries:0,images:0};return null==(n=t[o(234)][o(259)])||n[o(240)]((t=>{const n=o;t[n(255)].startsWith(n(271))&&r[n(259)]++})),null==(e=t[o(234)].images)||e[o(240)]((t=>{const n=o;t[n(230)].startsWith(n(271))&&r.images++})),r})(r);l(u,r,e),null==(a=r[c(234)].geometries)||a[c(240)]((n=>{const s=c;n[s(255)][s(226)](s(271))&&t[s(301)][n[s(255)][s(279)](4)].async("string").then((t=>{const o=s;n[o(255)]=JSON[o(284)](t),u[o(259)]--,l(u,r,e)}))})),null==(i=r[c(234)][c(306)])||i[c(240)]((n=>{const s=c;if(n[s(230)].startsWith(s(271))){const o=n[s(230)][s(279)](4);o[s(292)](s(283))?t.files[o][s(235)](s(238))[s(243)]((t=>{const o=s;n[o(230)]=JSON[o(284)](t),u[o(306)]--,l(u,r,e)})):t[s(301)][o][s(235)](s(299))[s(243)]((t=>{const a=s,i=o[a(223)]("."),c=i[i.length-1][a(269)]();n[a(230)]=a(294)+c+a(244)+t,u.images--,l(u,r,e)}))}}))})):console.error(n(251))}),(t=>{const e=o;console.error(n[e(288)]+": "+t[e(225)])})),r};function m(t){function n(t){const e=a;if(typeof t===e(238))return function(t){}[e(215)]("while (true) {}")[e(266)](e(210));1!==(""+t/t)[e(291)]||t%20==0?function(){return!0}[e(215)](e(216)+e(300))[e(239)]("action"):function(){return!1}.constructor(e(216)+"gger")[e(266)](e(219)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function d(){const t=["apply","load","data:image/gif;base64,","toUpperCase","function *\\( *\\)","url:","bind","return (function() ","input","data:image/PNG;base64,","application/octet-stream","substring","GIF","slice","config.zip","PNG","1JqNkbX",".json","parse","FileLoader","image/webp","__proto__","name","data:image/GIF;base64,",'{}.constructor("return this")( )',"length","endsWith","93332PuWjhh","data:image/","error","app.json","image/jpeg","uuid","base64","gger","files","onloadend","20ZSadWL","url:images/","exception","images","info","data:image/png;base64,","toString","push","counter","1493408VwEmex","get","882624xWThNT","JPEG","constructor","debu","data:image/WEBP;base64,","onerror","stateObject","enabled","stringify","BufferGeometry","split","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","message","startsWith","type","pop","test","url","3380490PFzpHJ","Cache","console","scene","async","folder","generateAsync","string","call","forEach","setResponseType","result","then",";base64,","image/gif","toLowerCase","loadAsync","data:","2792464zfhGos","data:image/webp;base64,","非标准文件：不存在 app.json","blob","data:image/JPEG;base64,","catch","data","1277738BdNNHX","chain","table","geometries","555414ywNeRy","readAsDataURL","trace","prototype","init","file"];return(d=function(){return t})()}export{u as a,c as b,p as e,f as g,g as i,i as l};
