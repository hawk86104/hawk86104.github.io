import{$ as t,d as e}from"./@tresjs.iXEJQd7J1721298764655.js";import{l as n}from"./utils.O9A1bznY1721298764655.js";import{ay as o,B as r,q as s,ck as a}from"./three.0bBjBDi41721298764655.js";import{c as i,d as c,a as p}from"./three-mesh-bvh.LM_bczGP1721298764655.js";import{m as l}from"./d3-geo.fnMf5TRh1721298764655.js";import{a4 as u,b as f,a1 as m,o as d,D as h,F as y,V as j,J as g,d as b,r as v,e as w,f as _,g as T,j as x,u as I,aj as E,ak as k,al as M,m as z}from"./@vue.Q1VpS3901721298764655.js";import"./tweakpane.yHWGBmom1721298764655.js";import"./@vueuse.hS-CVzal1721298764655.js";import"./@fesjs.brW7jqtK1721298764655.js";import"./vue-router.i1Z-d_LR1721298764655.js";import"./lodash-es.nFpJXAf-1721298764655.js";import"./@qlin.yHhFDldE1721298764655.js";import"./pinia.3lNuHAZQ1721298764655.js";import"./@floating-ui.BPbuo5Gx1721298764655.js";import"./@juggle.7yjBMqoW1721298764655.js";import"./d3-array.AhNJy1f41721298764655.js";const B=["properties","renderOrder"],C=["args"],L=g("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1),A={__name:"chinaMapMesh",async setup(e){let b,v;r.prototype.computeBoundsTree=i,r.prototype.disposeBoundsTree=c,s.prototype.raycast=p;const w=l().center([104,37.5]).translate([0,0]),_=([b,v]=u((()=>n("./plugins/simpleGIS/json/china.json","features"))),b=await b,v(),b),T={depth:10,bevelEnabled:!1},x=[];_.forEach((t=>{t.geometry.coordinates.forEach((e=>{e.forEach((e=>{const n=new a;for(let t=0;t<e.length;t++){const[o,r]=w(e[t]);0===t&&n.moveTo(o,-r),n.lineTo(o,-r)}x.push({shape:n,properties:t.properties})}))}))}));const I=new o({color:"#3480C4",linewidth:1,linecap:"round"}),E=f();m((()=>{E.value&&E.value.children.forEach((t=>{t.geometry.computeBoundsTree();const e=[t.material,I];t.material=e}))}));let k=null;(()=>{const t=document.createElement("div");t.className="tooltip",t.style.border="1px solid white",t.style.position="absolute",t.style.color="white",t.style.padding="0px 6px",t.style.whiteSpace="no-wrap",t.style.visibility="hidden",document.body.appendChild(t),k=t})();const M=t=>{t.object.material[0].color.set(16711680),k.innerText=t.object.properties.name,k.style.visibility="visible"},z=t=>{t.eventObject.material[0].color.set(3010559),k.style.visibility="hidden"},A=t=>{k.style.left="".concat(t.clientX+6,"px"),k.style.top="".concat(t.clientY+6,"px")},{onLoop:F}=t();return F((()=>{})),(t,e)=>(d(),h("TresGroup",{ref_key:"tgRef",ref:E},[(d(),h(y,null,j(x,((t,e)=>g("TresMesh",{key:"".concat(e),properties:t.properties,renderOrder:e,onPointerEnter:M,onPointerLeave:z,onPointerMove:A},[g("TresExtrudeGeometry",{args:[t.shape,T]},null,8,C),L],40,B))),64))],512))}},F=q;!function(t,e){const n=q,o=P();for(;;)try{if(613382===-parseInt(n(325))/1+-parseInt(n(306))/2+-parseInt(n(301))/3+-parseInt(n(320))/4+parseInt(n(314))/5+parseInt(n(318))/6*(-parseInt(n(295))/7)+parseInt(n(305))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=q,e=new RegExp(t(308)),n=new RegExp(t(299),"i"),o=G(t(302));e.test(o+t(309))&&n.test(o+t(319))?G():o("0")}))()}();const O=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n.apply(e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function P(){const t=["string","counter","gger","5212235aipZQg","TresCanvas","constructor","info","3370092mFzKLU","input","1542644kAmHIu","table","console","apply","length","124064hWlKsi","bind","TresPerspectiveCamera","trace","7IDtrjA","log","prototype","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","2106645jsNJUV","init","debu","exception","15667104JqMebV","1227662LlZNcz","toString","function *\\( *\\)","chain",'{}.constructor("return this")( )'];return(P=function(){return t})()}O(void 0,(function(){const t=q,e=function(){const t=q;let e;try{e=Function(t(300)+t(310)+");")()}catch(n){e=window}return e}(),n=e[t(322)]=e.console||{},o=[t(296),"warn",t(317),t(298),t(304),t(321),t(328)];for(let r=0;r<o[t(324)];r++){const e=O[t(316)][t(297)][t(326)](O),s=o[r],a=n[s]||e;e.__proto__=O[t(326)](O),e[t(307)]=a[t(307)][t(326)](a),n[s]=e}}))();const Z=g(F(327),{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1);function q(t,e){const n=P();return(q=function(t,e){return n[t-=295]})(t,e)}const D=b({__name:"chinaMap",setup(n){const o=v({clearColor:"#201919"}),r=v({enableDamping:!0,dampingFactor:.05}),{onLoop:s}=t();return s((()=>{})),m((()=>{})),(t,n)=>{const s=w(q(315));return d(),_(s,z(o,{"window-size":""}),{default:T((()=>[Z,x(I(e),E(k(r)),null,16),(d(),_(M,null,{default:T((()=>[x(A)])),_:1}))])),_:1},16)}}});function G(t){function e(t){const n=q;if(typeof t===n(311))return function(t){}[n(316)]("while (true) {}").apply(n(312));1!==(""+t/t)[n(324)]||t%20==0?function(){return!0}[n(316)](n(303)+n(313)).call("action"):function(){return!1}[n(316)](n(303)+"gger")[n(323)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{D as default};
