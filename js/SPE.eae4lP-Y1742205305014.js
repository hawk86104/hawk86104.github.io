import{_ as t,cz as e,bO as i,C as n,b as o,ar as r}from"./three.LxxvsMJG1742205305014.js";const s=u;!function(t,e){const i=u,n=p();for(;;)try{if(900431===parseInt(i(286))/1*(-parseInt(i(580))/2)+parseInt(i(698))/3+-parseInt(i(605))/4*(parseInt(i(593))/5)+-parseInt(i(724))/6*(-parseInt(i(383))/7)+parseInt(i(689))/8+parseInt(i(377))/9*(-parseInt(i(278))/10)+parseInt(i(638))/11*(parseInt(i(406))/12))break;n.push(n.shift())}catch(o){n.push(n.shift())}}();const a=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[u(536)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){a(this,(function(){const t=u,e=new RegExp(t(498)),i=new RegExp(t(464),"i"),n=f(t(442));e.test(n+t(725))&&i[t(598)](n+t(518))?f():n("0")}))()}();const c=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[u(536)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();c(void 0,(function(){const t=u,e=function(){const t=u;let e;try{e=Function("return (function() "+t(444)+");")()}catch(i){e=window}return e}(),i=e[t(477)]=e[t(477)]||{},n=[t(586),t(659),t(682),"error",t(353),t(376),"trace"];for(let o=0;o<n[t(677)];o++){const e=c[t(421)][t(656)][t(437)](c),r=n[o],s=i[r]||e;e[t(381)]=c[t(437)](c),e[t(331)]=s.toString.bind(s),i[r]=e}}))();const h={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};function u(t,e){const i=p();return(u=function(t,e){return i[t-=278]})(t,e)}typeof define===s(696)&&define[s(571)]?define("spe",h):"undefined"!=typeof exports&&typeof module!==s(595)&&(module.exports=h),h[s(326)]=function(t,e,i,n){const o=s;this[o(614)]=i||1,this[o(304)]=e||1,this[o(423)]=t||Float32Array,this[o(662)]=new t(e*this.componentSize),this[o(509)]=n||0},h.TypedArrayHelper[s(421)]=h.TypedArrayHelper,h.TypedArrayHelper.prototype[s(592)]=function(t,e){const i=s,n=this[i(662)].length;return!e&&(t*=this[i(614)]),t<n?this[i(282)](t):t>n?this.grow(t):void console[i(682)](i(494),t+".",i(452))},h[s(326)][s(656)][s(282)]=function(t){const e=s;return this[e(662)]=this[e(662)][e(491)](0,t),this[e(304)]=t,this},h[s(326)][s(656)][s(531)]=function(t){const e=s,i=this[e(662)],n=new(this[e(423)])(t);return n[e(296)](i),this.array=n,this[e(304)]=t,this},h[s(326)].prototype[s(540)]=function(t,e){const i=s;t*=this.componentSize,e*=this[i(614)];const n=[],o=this[i(662)],r=o[i(677)];for(let s=0;s<r;++s)(s<t||s>=e)&&n.push(o[s]);return this[i(330)](0,n),this},h[s(326)].prototype[s(330)]=function(t,e){const i=s,n=t+e[i(677)];return n>this[i(662)].length?this[i(531)](n):n<this[i(662)][i(677)]&&this[i(282)](n),this[i(662)].set(e,this.indexOffset+t),this},h.TypedArrayHelper[s(656)][s(519)]=function(t,e){return this[s(439)](t,e.x,e.y)},h[s(326)].prototype[s(439)]=function(t,e,i){const n=s,o=this[n(662)],r=this[n(509)]+t*this[n(614)];return o[r]=e,o[r+1]=i,this},h[s(326)][s(656)][s(316)]=function(t,e){return this.setVec3Components(t,e.x,e.y,e.z)},h[s(326)].prototype.setVec3Components=function(t,e,i,n){const o=s,r=this[o(662)],a=this[o(509)]+t*this[o(614)];return r[a]=e,r[a+1]=i,r[a+2]=n,this},h[s(326)][s(656)][s(397)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},h[s(326)][s(656)][s(622)]=function(t,e,i,n,o){const r=s,a=this[r(662)],c=this[r(509)]+t*this.componentSize;return a[c]=e,a[c+1]=i,a[c+2]=n,a[c+3]=o,this},h[s(326)][s(656)][s(523)]=function(t,e){const i=s;return this.setFromArray(this[i(509)]+t*this.componentSize,e[i(671)])},h.TypedArrayHelper[s(656)][s(611)]=function(t,e){const i=s;return this[i(330)](this.indexOffset+t*this[i(614)],e[i(671)])},h[s(326)][s(656)][s(289)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},h[s(326)][s(656)][s(302)]=function(t,e){const i=s;return this[i(662)][this[i(509)]+t*this[i(614)]]=e,this},h[s(326)].prototype.getValueAtIndex=function(t){const e=s;return this.array[this[e(509)]+t]},h[s(326)][s(656)][s(398)]=function(t){const e=s;return this.array.subarray(this[e(509)]+t*this[e(614)])},h[s(599)]=function(t,e,i){const n=s,o=h.ShaderAttribute[n(577)];this.type=typeof t===n(332)&&o[n(367)](t)?t:"f",this.componentSize=o[this.type],this[n(501)]=i||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!e,this[n(290)]=0,this[n(467)]=0},h[s(599)].constructor=h[s(599)],h.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},h.ShaderAttribute[s(656)][s(454)]=function(t,e){const i=s;this[i(290)]=Math[i(456)](t*this[i(614)],this[i(290)]*this[i(614)]),this[i(467)]=Math[i(703)](e*this[i(614)],this[i(467)]*this[i(614)])},h.ShaderAttribute[s(656)].flagUpdate=function(){const t=s,e=this[t(329)];!e[t(564)]&&(e[t(564)]={});const i=e.updateRange;i.offset=this[t(290)],i[t(713)]=Math[t(456)](this[t(467)]-this[t(290)]+this[t(614)],this[t(613)].array[t(677)]),e[t(647)]=!0},h[s(599)][s(656)][s(389)]=function(){this[s(290)]=0,this.updateMax=0},h[s(599)][s(656)][s(723)]=function(){const i=s;this[i(329)][i(679)]=this[i(705)]?t[i(488)]:e},h[s(599)].prototype.splice=function(t,e){const i=s;this[i(613)][i(540)](t,e),this[i(589)]()},h.ShaderAttribute.prototype[s(589)]=function(){const e=s;this[e(329)][e(662)]=this.typedArray[e(662)],this[e(329)].updateRange[e(298)]=0,this[e(329)][e(564)][e(713)]=-1,this.bufferAttribute[e(679)]=t[e(495)],this[e(329)].needsUpdate=!0},h[s(599)].prototype[s(673)]=function(t){const e=s;null!==this[e(613)]&&this[e(613)][e(304)]===t*this[e(614)]||(null!==this[e(613)]&&this.typedArray[e(304)]!==t?this[e(613)].setSize(t):null===this.typedArray&&(this.typedArray=new(h[e(326)])(this[e(501)],t,this[e(614)])))},h[s(599)].prototype._createBufferAttribute=function(e){const i=s;if(this[i(673)](e),null!==this.bufferAttribute)return this[i(329)][i(662)]=this[i(613)][i(662)],parseFloat(t[i(604)])>=81&&(this[i(329)].count=this[i(329)][i(662)][i(677)]/this.bufferAttribute[i(635)]),void(this[i(329)][i(647)]=!0);this.bufferAttribute=new(t[i(462)])(this[i(613)][i(662)],this.componentSize),this.bufferAttribute[i(679)]=this.dynamicBuffer?t[i(488)]:t[i(495)]},h.ShaderAttribute[s(656)][s(651)]=function(){const t=s;return null===this[t(613)]?0:this.typedArray[t(662)][t(677)]},h[s(305)]={defines:[s(313),s(359)][s(493)]("\n"),uniforms:["uniform float deltaTime;",s(339),s(317),"uniform vec4 textureAnimation;",s(348)][s(493)]("\n"),attributes:[s(315),s(434),"attribute vec4 rotation;","attribute vec3 rotationCenter;",s(380),s(594),"attribute vec4 angle;",s(312),"attribute vec4 opacity;"][s(493)]("\n"),varyings:[s(307),s(629),s(392),s(320),"#ifdef SHOULD_CALCULATE_SPRITE",s(687),s(320)][s(493)]("\n"),branchAvoidanceFunctions:["float when_gt(float x, float y) {","    return max(sign(x - y), 0.0);","}","float when_lt(float x, float y) {",s(609),"}",s(711),"    return 1.0 - abs( sign( x - y ) );","}",s(455),s(422),"}",s(565),s(463),"}",s(708),s(731),"}","float or(float a, float b) {",s(350),"}"][s(493)]("\n"),unpackColor:[s(686),"   vec3 c = vec3( 0.0 );",s(505),s(368),"   float b = mod( hex, PACKED_COLOR_SIZE );",s(575),"   c.g = g / PACKED_COLOR_DIVISOR;",s(414),s(665),"}"].join("\n"),unpackRotationAxis:[s(321),"   vec3 c = vec3( 0.0 );",s(505),s(368),s(551),s(575),s(715),s(414),s(640),s(293),s(665),"}"][s(493)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",s(396),s(628),s(318),s(352),s(710),"",s(356),"       fIndex = float( i );",s(400),s(691),s(706),"","    return value;","}"][s(493)]("\n"),colorOverLifetime:[s(443),"    vec3 value = vec3( 0.0 );",s(402),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",s(702),"    return value;","}"][s(493)]("\n"),paramFetchingFunctions:[s(418),s(340),"}",s(468),s(574),"}",s(669),"   return params.z;","}",s(582),s(578),"}"][s(493)]("\n"),forceFetchingFunctions:[s(555),"   return modelViewMatrix * vec4( position, 1.0 );","}",s(693),"   return velocity * age;","}","vec3 getAcceleration( in float age ) {","   return acceleration.xyz * age;","}"][s(493)]("\n"),rotationFunctions:[s(450),s(695),"       axis = normalize(axis);",s(447),s(596),s(683),"",s(517),s(390),s(542),s(726),s(546),"","   vec3 getRotation( in vec3 pos, in float positionInTime ) {",s(470),"           return pos;",s(281),"","      vec3 axis = unpackRotationAxis( rotation.x );","      vec3 center = rotationCenter;",s(480),s(730),"      float angle = 0.0;",s(624),s(403),s(676),s(474),s(453),s(546),s(320)][s(493)]("\n"),rotateTexture:[s(643),"","    #ifdef SHOULD_ROTATE_TEXTURE",s(429),s(526),"       float c = cos( -vAngle );",s(492),s(393),s(419),"","    #ifdef SHOULD_CALCULATE_SPRITE",s(448),"        float framesY = vSpriteSheet.y;",s(535),s(432),s(371),s(646),s(419),"",s(522)][s(493)]("\n")},h.shaders={vertex:[h[s(305)][s(319)],h[s(305)][s(342)],h[s(305)][s(385)],h[s(305)][s(658)],t[s(486)][s(473)],i.logdepthbuf_pars_vertex,t[s(486)].fog_pars_vertex,h[s(305)].branchAvoidanceFunctions,h.shaderChunks[s(607)],h[s(305)][s(716)],h[s(305)][s(537)],h.shaderChunks[s(692)],h[s(305)][s(554)],h[s(305)][s(496)],h[s(305)][s(373)],s(413),s(489),"    highp float alive = getAlive();",s(369),s(718),s(446),s(308),s(615),s(644),s(387),"    #endif",s(430),"    vec3 accel = getAcceleration( age );","    vec3 force = vec3( 0.0 );","    vec3 pos = vec3( position );",s(441),s(684),s(652),s(634),s(579),s(308),s(568),"        pos.y += wiggleCos;",s(510),s(419),s(709),s(279),"    #endif",s(616),s(588),s(587),"        float perspective = scale / length( mvPosition.xyz );","    #else","        float perspective = 1.0;",s(419),"    float pointSizePerspective = pointSize * perspective;","    #ifdef COLORIZE","       vec3 c = isAlive * getColorOverLifetime(",s(648),s(649),s(600),s(487),"           unpackColor( color.w )",s(355),s(660),"       vec3 c = vec3(1.0);",s(419),s(449),s(547),s(733),s(602),s(419),s(363),s(358),s(632),s(507),s(409),s(364),"        float column = floor(mod( frameNumber, framesX ));","        float row = floor( (frameNumber - column) / framesX );",s(642),s(500),s(309),s(690),"        vSpriteSheet.z = columnNorm;",s(712),"    #endif",s(362),s(284),t[s(486)].logdepthbuf_vertex,t[s(486)][s(541)],"}"].join("\n"),fragment:[h.shaderChunks.uniforms,t[s(486)][s(473)],t[s(486)].fog_pars_fragment,t[s(486)][s(349)],h[s(305)][s(658)],h.shaderChunks[s(612)],s(413),s(425),"    ",s(678),"       if ( vColor.w < float(ALPHATEST) ) discard;",s(419),h[s(305)][s(440)],i.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;",s(280),t[s(486)][s(366)],"}"][s(493)]("\n")},h[s(529)]={types:{BOOLEAN:"boolean",STRING:s(332),NUMBER:s(722),OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=s;if(Array[n(497)](t)){for(let o=t[n(677)]-1;o>=0;--o)if(typeof t[o]!==e)return i;return t}return this.ensureTypedArg(t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=s;if(Array[n(497)](t)){for(let o=t[n(677)]-1;o>=0;--o)if(void 0!==e&&t[o]instanceof e==!1)return i;return t}return this.ensureInstanceOf(t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=s;e=e||3,i=i||3,!1===Array[n(497)](t[n(714)])&&(t[n(714)]=[t[n(714)]]),!1===Array.isArray(t[n(583)])&&(t[n(583)]=[t._spread]);const o=this[n(515)](t[n(714)][n(677)],e,i),r=this[n(515)](t[n(583)].length,e,i),a=Math[n(703)](o,r);t[n(714)][n(677)]!==a&&(t[n(714)]=this[n(636)](t[n(714)],a)),t[n(583)][n(677)]!==a&&(t[n(583)]=this[n(636)](t._spread,a))},interpolateArray(t,e){const i=s,n=t.length,o=[typeof t[0][i(506)]===i(696)?t[0][i(506)]():t[0]],r=(n-1)/(e-1);for(let s=1;s<e-1;++s){const e=s*r,n=Math[i(370)](e),a=Math[i(481)](e),c=e-n;o[s]=this.lerpTypeAgnostic(t[n],t[a],c)}return o.push(typeof t[n-1][i(506)]===i(696)?t[n-1][i(506)]():t[n-1]),o},clamp(t,e,i){const n=s;return Math.max(e,Math[n(456)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,o){const r=s;let a,c=this.types;return typeof e===c.NUMBER&&typeof i===c.NUMBER?e+(i-e)*o:e instanceof t[r(597)]&&i instanceof t[r(597)]?(a=e[r(506)](),a.x=this[r(410)](e.x,i.x,o),a.y=this[r(410)](e.y,i.y,o),a):e instanceof t[r(543)]&&i instanceof t[r(543)]?(a=e[r(506)](),a.x=this[r(410)](e.x,i.x,o),a.y=this[r(410)](e.y,i.y,o),a.z=this.lerp(e.z,i.z,o),a):e instanceof t[r(415)]&&i instanceof t[r(415)]?(a=e[r(506)](),a.x=this[r(410)](e.x,i.x,o),a.y=this.lerp(e.y,i.y,o),a.z=this[r(410)](e.z,i.z,o),a.w=this.lerp(e.w,i.w,o),a):e instanceof n&&i instanceof t[r(504)]?(a=e[r(506)](),a.r=this[r(410)](e.r,i.r,o),a.g=this[r(410)](e.g,i.g,o),a.b=this[r(410)](e.b,i.b,o),a):void console[r(659)](r(416),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){const i=s;let n=0;return 0===e?t:(n=Math.abs(t)%e,0===n?t:t<0?-(Math[i(451)](t)-n):t+e-n)},arrayValuesAreEqual(t){for(let e=0;e<t.length-1;++e)if(t[e]!==t[e+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math.random()-.5),randomVector3(t,e,i,n,o){const r=s;let a=i.x+(Math.random()*n.x-.5*n.x),c=i.y+(Math.random()*n.y-.5*n.y),h=i.z+(Math[r(633)]()*n.z-.5*n.z);o&&(a=.5*-o.x+this.roundToNearestMultiple(a,o.x),c=.5*-o.y+this.roundToNearestMultiple(c,o.y),h=.5*-o.z+this.roundToNearestMultiple(h,o.z)),t[r(613)][r(401)](e,a,c,h)},randomColor(t,e,i,n){const o=s;let r=i.r+Math[o(633)]()*n.x,a=i.g+Math[o(633)]()*n.y,c=i.b+Math[o(633)]()*n.z;r=this[o(515)](r,0,1),a=this[o(515)](a,0,1),c=this[o(515)](c,0,1),t[o(613)][o(401)](e,r,a,c)},randomColorAsHex:function(){const e=s,i=new(t[e(504)]);return function(t,n,o,r){const s=e,a=o[s(677)],c=[];for(let e=0;e<a;++e){const t=r[e];i[s(654)](o[e]),i.r+=Math[s(633)]()*t.x-.5*t.x,i.g+=Math.random()*t.y-.5*t.y,i.b+=Math[s(633)]()*t.z-.5*t.z,i.r=this[s(515)](i.r,0,1),i.g=this[s(515)](i.g,0,1),i.b=this[s(515)](i.b,0,1),c.push(i[s(322)]())}t[s(613)][s(622)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const o=s,r=i[o(506)]();r[o(410)](n,Math[o(633)]()),t[o(613)][o(401)](e,r.x,r.y,r.z)},randomVector3OnSphere(t,e,i,n,o,r,a,c){const h=s;let u=2*Math[h(633)]()-1,l=6.2832*Math.random(),f=Math.sqrt(1-u*u),p=this[h(655)](n,o),d=0,m=0,g=0;a&&(p=Math[h(475)](p/a)*a),d=f*Math[h(374)](l)*p,m=f*Math.sin(l)*p,g=u*p,d*=r.x,m*=r.y,g*=r.z,d+=i.x,m+=i.y,g+=i.z,t[h(613)][h(401)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,o,r,a){const c=s;let h=6.2832*Math[c(633)](),u=Math.abs(this.randomFloat(n,o)),l=0,f=0,p=0;a&&(u=Math[c(475)](u/a)*a),l=Math[c(374)](h)*u,f=Math[c(520)](h)*u,l*=r.x,f*=r.y,l+=i.x,f+=i.y,p+=i.z,t[c(613)][c(401)](e,l,f,p)},randomDirectionVector3OnSphere:function(){const e=s,i=new(t[e(543)]);return function(t,n,o,r,s,a,c,h){const u=e;i.copy(a),i.x-=o,i.y-=r,i.z-=s,i[u(394)]()[u(297)](-this.randomFloat(c,h)),t[u(613)][u(401)](n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=s,i=new(t[e(543)]);return function(t,n,o,r,s,a,c,h){const u=e;i.copy(a),i.x-=o,i.y-=r,i.z-=s,i[u(394)]()[u(297)](-this[u(655)](c,h)),t[u(613)][u(401)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=s,i=new(t[e(543)]),r=new(t[e(543)]),a=new n,c=new o(1,1,1);return function(t,n){const o=e;return i[o(654)](t)[o(394)](),r[o(654)](n).normalize(),i.x+=.5*-n.x+Math[o(633)]()*n.x,i.y+=.5*-n.y+Math[o(633)]()*n.y,i.z+=.5*-n.z+Math[o(633)]()*n.z,i.normalize().add(c)[o(297)](.5),a.setRGB(i.x,i.y,i.z),a[o(322)]()}}()},h[s(513)]=function(e){const i=s,n=h.utils,o=n[i(585)];(e=n[i(303)](e,o[i(563)],{}))[i(457)]=n[i(303)](e.texture,o[i(563)],{}),this[i(405)]=t[i(499)][i(549)](),this.fixedTimeStep=n[i(303)](e.fixedTimeStep,o.NUMBER,.016),this[i(457)]=n[i(567)](e[i(457)].value,t[i(573)],null),this[i(333)]=n[i(567)](e[i(457)].frames,t[i(597)],new(t[i(597)])(1,1)),this[i(675)]=n[i(303)](e[i(457)][i(382)],o[i(591)],this[i(333)].x*this.textureFrames.y),this[i(384)]=n[i(303)](e.texture[i(545)],o[i(591)],1),this.textureFrames[i(703)](new(t[i(597)])(1,1)),this[i(528)]=n[i(303)](e[i(528)],o[i(544)],!0),this[i(719)]=n[i(303)](e.colorize,o[i(544)],!0),this.maxParticleCount=n[i(303)](e.maxParticleCount,o.NUMBER,null),this.blending=n[i(303)](e.blending,o[i(591)],t[i(347)]),this[i(361)]=n.ensureTypedArg(e[i(361)],o[i(544)],!0),this[i(375)]=parseFloat(n[i(303)](e[i(375)],o[i(591)],0)),this.depthWrite=n.ensureTypedArg(e.depthWrite,o[i(544)],!1),this[i(701)]=n.ensureTypedArg(e[i(701)],o[i(544)],!0),this[i(707)]=n[i(303)](e[i(707)],o.BOOLEAN,!0),this[i(530)]=n[i(303)](e.scale,o[i(591)],300),this[i(372)]=[],this[i(650)]=[],this[i(328)]=[],this._poolCreationSettings=null,this[i(699)]=0,this[i(561)]=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this[i(342)]={tex:{type:"t",value:this[i(457)]},textureAnimation:{type:"v4",value:new r(this.textureFrames.x,this[i(333)].y,this.textureFrameCount,Math[i(703)](Math[i(451)](this[i(384)]),1))},fogColor:{type:"c",value:this[i(707)]?new(t[i(504)]):null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this[i(530)]}},this[i(319)]={HAS_PERSPECTIVE:this[i(528)],COLORIZE:this[i(719)],VALUE_OVER_LIFETIME_LENGTH:h[i(556)],SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(333)].x>1||this.textureFrames.y>1},this[i(385)]={position:new h.ShaderAttribute("v3",!0),acceleration:new(h[i(599)])("v4",!0),velocity:new h.ShaderAttribute("v3",!0),rotation:new(h[i(599)])("v4",!0),rotationCenter:new h.ShaderAttribute("v3",!0),params:new h.ShaderAttribute("v4",!0),size:new(h[i(599)])("v4",!0),angle:new(h[i(599)])("v4",!0),color:new(h[i(599)])("v4",!0),opacity:new(h[i(599)])("v4",!0)},this.attributeKeys=Object[i(490)](this[i(385)]),this[i(508)]=this[i(666)][i(677)],this[i(351)]=new(t[i(327)])({uniforms:this.uniforms,vertexShader:h[i(344)][i(483)],fragmentShader:h.shaders[i(704)],blending:this[i(345)],transparent:this.transparent,alphaTest:this[i(375)],depthWrite:this[i(479)],depthTest:this[i(701)],defines:this[i(319)],fog:this[i(707)]}),this[i(631)]=new(t[i(427)]),this[i(428)]=new(t[i(478)])(this[i(631)],this[i(351)]),null===this[i(601)]&&console.warn(i(360))},h.Group[s(421)]=h[s(513)],h.Group[s(656)][s(639)]=function(){const t=s;let e,i=this.emitters,n=i[t(677)]-1,o=this.defines;for(;n>=0;--n)e=i[n],!o.SHOULD_CALCULATE_SPRITE&&(o[t(664)]=o[t(664)]||!!Math.max(Math[t(703)][t(536)](null,e[t(674)][t(436)]),Math[t(703)].apply(null,e[t(674)][t(661)]))),o[t(557)]=o.SHOULD_ROTATE_PARTICLES||!!Math[t(703)](e.rotation[t(674)],e[t(617)].angleSpread),o[t(379)]=o[t(379)]||!!Math.max(e[t(407)][t(436)],e[t(407)].spread);this[t(351)][t(647)]=!0},h[s(513)][s(656)][s(395)]=function(){const t=s;let e,i,n=this[t(385)],o=this[t(631)],r=o[t(385)];for(const s in n)n[t(367)](s)&&(e=n[s],i=r[s],i?i[t(662)]=e[t(613)][t(662)]:o.setAttribute(s,e[t(329)]),e[t(329)][t(647)]=!0);this[t(631)][t(623)](0,this[t(378)])},h[s(513)][s(656)].addEmitter=function(t){const e=s;if(t instanceof h[e(323)]==!1)return void console[e(285)](e(291),t);if(this[e(650)][e(538)](t.uuid)>-1)return void console[e(285)](e(552));if(null!==t.group)return void console[e(285)](e(590));const i=this[e(385)],n=this[e(378)],o=n+t[e(378)];this[e(378)]=o,null!==this[e(601)]&&this.particleCount>this[e(601)]&&console[e(659)](e(471),this[e(378)],e(411),this.maxParticleCount),t[e(461)](t[e(431)][e(714)]+t[e(431)][e(583)]),t[e(325)](this[e(666)]),t[e(532)](n),t[e(720)]=this,t.attributes=this[e(385)];for(const r in i)i.hasOwnProperty(r)&&i[r][e(667)](null!==this[e(601)]?this[e(601)]:this[e(378)]);for(let r=n;r<o;++r)t[e(572)](r),t[e(727)](r,e(299)),t[e(727)](r,e(668)),t._assignAbsLifetimeValue(r,"opacity"),t[e(524)](r,e(304)),t[e(697)](r),t[e(388)](r),t[e(306)](r),t[e(534)](r);return this._applyAttributesToGeometry(),this[e(372)].push(t),this[e(650)][e(503)](t[e(405)]),this[e(639)](t),this[e(351)][e(647)]=!0,this[e(631)].needsUpdate=!0,this[e(561)]=!0,this},h.Group[s(656)][s(292)]=function(t){const e=s,i=this[e(650)].indexOf(t.uuid);if(t instanceof h[e(323)]==!1)return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console[e(285)](e(511));const n=t[e(558)],o=n+t[e(378)],r=this[e(385)][e(625)][e(613)];for(let s=n;s<o;++s)r[e(662)][4*s]=0,r[e(662)][4*s+1]=0;this[e(372)][e(540)](i,1),this.emitterIDs[e(540)](i,1);for(const s in this[e(385)])this[e(385)].hasOwnProperty(s)&&this.attributes[s][e(540)](n,o);this[e(378)]-=t[e(378)],t[e(670)](),this._attributesNeedRefresh=!0},h.Group[s(656)].getFromPool=function(){const t=s,e=this[t(328)],i=this[t(699)];if(e[t(677)])return e[t(663)]();if(i){const e=new(h[t(323)])(this[t(512)]);return this[t(732)](e),e}return null},h[s(513)][s(656)][s(700)]=function(t){const e=s;if(t instanceof h.Emitter!=!1)return t[e(681)](),this[e(328)].unshift(t),this;console[e(285)](e(343),t)},h[s(513)].prototype[s(502)]=function(){return this._pool},h[s(513)][s(656)][s(420)]=function(t,e,i){const n=s;let o;this[n(512)]=e,this[n(699)]=!!i;for(let r=0;r<t;++r)o=Array[n(497)](e)?new(h[n(323)])(e[r]):new h.Emitter(e),this[n(732)](o),this.releaseIntoPool(o);return this},h[s(513)].prototype._triggerSingleEmitter=function(t){const e=s,i=this[e(310)](),n=this;if(null!==i)return t instanceof o&&(i.position[e(436)].copy(t),i[e(645)][e(436)]=i[e(645)][e(436)]),i.enable(),setTimeout((()=>{const t=e;i.disable(),n[t(700)](i)}),1e3*Math[e(703)](i[e(728)],i[e(431)].value+i.maxAge.spread)),this;console[e(586)](e(365))},h[s(513)][s(656)][s(301)]=function(t,e){const i=s;if("number"==typeof t&&t>1)for(let n=0;n<t;++n)this[i(386)](e);else this[i(386)](e);return this},h[s(513)][s(656)][s(566)]=function(t){const e=s;this[e(342)][e(417)][e(436)]+=t,this.uniforms.deltaTime[e(436)]=t},h.Group.prototype._resetBufferRanges=function(){const t=s;let e=this[t(666)],i=this.attributeCount-1,n=this[t(385)];for(;i>=0;--i)n[e[i]].resetUpdateRange()},h[s(513)][s(656)]._updateBuffers=function(t){const e=s;let i,n,o,r=this[e(666)],a=this.attributeCount-1,c=this[e(385)],h=t[e(717)];for(;a>=0;--a)i=r[a],n=h[i],o=c[i],o[e(454)](n[e(456)],n[e(703)]),o[e(553)]()},h[s(513)][s(656)][s(619)]=function(t){const e=s;var i=this[e(372)],n=i[e(677)],o=t||this[e(485)],r=this[e(666)],a=this[e(385)];if(this[e(566)](o),this[e(603)](),0!==n||!1!==this[e(561)]||!1!==this[e(426)]){for(var c,h=0;h<n;++h)(c=i[h])[e(619)](o),this._updateBuffers(c);if(!0===this[e(426)]){for(h=this[e(508)]-1;h>=0;--h)a[r[h]].resetDynamic();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(h=this[e(508)]-1;h>=0;--h)a[r[h]][e(589)]();this[e(561)]=!1,this[e(426)]=!0}}},h.Group[s(656)][s(288)]=function(){const t=s;return this.geometry[t(288)](),this[t(351)][t(288)](),this},h[s(323)]=function(e){const i=s,n=h[i(529)],r=n[i(585)],a=h.valueOverLifetimeLength;(e=n.ensureTypedArg(e,r[i(563)],{})).position=n.ensureTypedArg(e[i(645)],r.OBJECT,{}),e[i(299)]=n.ensureTypedArg(e[i(299)],r[i(563)],{}),e[i(668)]=n[i(303)](e.acceleration,r[i(563)],{}),e[i(460)]=n[i(303)](e[i(460)],r[i(563)],{}),e[i(337)]=n[i(303)](e.drag,r[i(563)],{}),e[i(617)]=n[i(303)](e.rotation,r[i(563)],{}),e[i(570)]=n[i(303)](e.color,r.OBJECT,{}),e[i(560)]=n[i(303)](e.opacity,r.OBJECT,{}),e[i(304)]=n[i(303)](e[i(304)],r[i(563)],{}),e[i(674)]=n[i(303)](e[i(674)],r[i(563)],{}),e.wiggle=n[i(303)](e.wiggle,r[i(563)],{}),e[i(431)]=n[i(303)](e[i(431)],r[i(563)],{}),e[i(539)]&&console[i(659)](i(533)),this.uuid=t[i(499)][i(549)](),this[i(734)]=n[i(303)](e[i(734)],r[i(591)],h.distributions[i(311)]),this[i(645)]={_value:n[i(567)](e[i(645)][i(436)],t[i(543)],new(t[i(543)])),_spread:n[i(567)](e[i(645)][i(661)],t[i(543)],new(t[i(543)])),_spreadClamp:n.ensureInstanceOf(e[i(645)][i(618)],t[i(543)],new o),_distribution:n[i(303)](e[i(645)][i(324)],r[i(591)],this[i(734)]),_randomise:n[i(303)](e[i(645)].randomise,r[i(544)],!1),_radius:n[i(303)](e[i(645)][i(460)],r[i(591)],10),_radiusScale:n[i(567)](e[i(645)].radiusScale,o,new o(1,1,1)),_distributionClamp:n[i(303)](e[i(645)].distributionClamp,r[i(591)],0)},this[i(299)]={_value:n[i(567)](e[i(299)][i(436)],t[i(543)],new(t[i(543)])),_spread:n[i(567)](e[i(299)][i(661)],t[i(543)],new(t[i(543)])),_distribution:n[i(303)](e[i(299)].distribution,r[i(591)],this[i(734)]),_randomise:n.ensureTypedArg(e[i(645)][i(672)],r[i(544)],!1)},this.acceleration={_value:n[i(567)](e.acceleration[i(436)],t[i(543)],new o),_spread:n[i(567)](e[i(668)][i(661)],t[i(543)],new(t[i(543)])),_distribution:n[i(303)](e[i(668)].distribution,r[i(591)],this[i(734)]),_randomise:n.ensureTypedArg(e.position[i(672)],r.BOOLEAN,!1)},this.drag={_value:n.ensureTypedArg(e[i(337)][i(436)],r[i(591)],0),_spread:n.ensureTypedArg(e[i(337)].spread,r[i(591)],0),_randomise:n.ensureTypedArg(e[i(645)][i(672)],r.BOOLEAN,!1)},this.wiggle={_value:n[i(303)](e[i(407)][i(436)],r[i(591)],0),_spread:n[i(303)](e.wiggle.spread,r[i(591)],0)},this[i(617)]={_axis:n[i(567)](e[i(617)].axis,t[i(543)],new(t[i(543)])(0,1,0)),_axisSpread:n[i(567)](e[i(617)][i(576)],t[i(543)],new(t[i(543)])),_angle:n[i(303)](e[i(617)][i(674)],r[i(591)],0),_angleSpread:n[i(303)](e[i(617)][i(433)],r.NUMBER,0),_static:n.ensureTypedArg(e.rotation[i(657)],r[i(544)],!1),_center:n[i(567)](e[i(617)][i(412)],t[i(543)],this.position._value[i(506)]()),_randomise:n[i(303)](e[i(645)][i(672)],r[i(544)],!1)},this[i(431)]={_value:n[i(303)](e[i(431)][i(436)],r[i(591)],2),_spread:n.ensureTypedArg(e[i(431)][i(661)],r[i(591)],0)},this[i(570)]={_value:n.ensureArrayInstanceOf(e[i(570)][i(436)],t[i(504)],new(t[i(504)])),_spread:n.ensureArrayInstanceOf(e[i(570)][i(661)],o,new(t[i(543)])),_randomise:n[i(303)](e[i(645)][i(672)],r.BOOLEAN,!1)},this.opacity={_value:n.ensureArrayTypedArg(e[i(560)][i(436)],r[i(591)],1),_spread:n.ensureArrayTypedArg(e[i(560)][i(661)],r[i(591)],0),_randomise:n[i(303)](e[i(645)][i(672)],r.BOOLEAN,!1)},this.size={_value:n[i(458)](e[i(304)][i(436)],r[i(591)],1),_spread:n[i(458)](e.size[i(661)],r[i(591)],0),_randomise:n.ensureTypedArg(e.position[i(672)],r[i(544)],!1)},this[i(674)]={_value:n[i(458)](e[i(674)][i(436)],r.NUMBER,0),_spread:n[i(458)](e[i(674)][i(661)],r[i(591)],0),_randomise:n[i(303)](e[i(645)][i(672)],r[i(544)],!1)},this[i(378)]=n[i(303)](e[i(378)],r[i(591)],100),this[i(728)]=n[i(303)](e[i(728)],r.NUMBER,null),this[i(562)]=n.ensureTypedArg(e[i(562)],r.BOOLEAN,!1),this[i(354)]=n[i(303)](e[i(354)],r[i(591)],1),this[i(653)]=n[i(303)](e.direction,r[i(591)],1),this[i(404)]=n[i(303)](e[i(404)],r[i(544)],!0),this[i(516)]=0,this[i(626)]=0,this[i(558)]=0,this[i(287)]=0,this[i(295)]=0,this[i(641)]=0,this[i(720)]=null,this[i(385)]=null,this[i(476)]=null,this[i(300)]={position:n[i(303)](e.position[i(672)],r[i(544)],!1)||n[i(303)](e.radius[i(672)],r[i(544)],!1),velocity:n[i(303)](e[i(299)][i(672)],r[i(544)],!1),acceleration:n[i(303)](e.acceleration[i(672)],r[i(544)],!1)||n[i(303)](e.drag[i(672)],r[i(544)],!1),rotation:n.ensureTypedArg(e[i(617)].randomise,r[i(544)],!1),rotationCenter:n[i(303)](e.rotation[i(672)],r[i(544)],!1),size:n.ensureTypedArg(e[i(304)][i(672)],r[i(544)],!1),color:n[i(303)](e[i(570)][i(672)],r[i(544)],!1),opacity:n[i(303)](e[i(560)].randomise,r[i(544)],!1),angle:n.ensureTypedArg(e[i(674)][i(672)],r[i(544)],!1)},this[i(338)]={},this[i(514)]={},this[i(336)]={maxAge:i(625),position:i(645),velocity:i(299),acceleration:i(668),drag:i(668),wiggle:i(625),rotation:"rotation",size:i(304),color:i(570),opacity:i(560),angle:i(674)};for(const t in this[i(336)])this[i(336)][i(367)](t)&&(this[i(514)][this.updateMap[t]]=0,this[i(338)][this[i(336)][t]]=!1,this[i(469)](this[t],t));this[i(717)]={},this.attributeKeys=null,this[i(508)]=0,n[i(391)](this[i(570)],a,a),n[i(391)](this.opacity,a,a),n[i(391)](this[i(304)],a,a),n[i(391)](this[i(674)],a,a)},h[s(323)].constructor=h[s(323)],h.Emitter[s(656)][s(469)]=function(t,e){const i=s,n=this;for(const o in t)if(t[i(367)](o)){const r=o[i(438)]("_","");Object[i(346)](t,r,{get:function(t){return function(){return this[t]}}(o),set:function(t){return function(i){const o=u,r=n.updateMap[e],s=this[t],a=h[o(556)];"_rotationCenter"===t?(n[o(338)].rotationCenter=!0,n[o(514)][o(569)]=0):t===o(341)?n[o(300)][r]=i:(n[o(338)][r]=!0,n.updateCounts[r]=0),n.group[o(639)](),this[t]=i,Array.isArray(s)&&h.utils[o(391)](n[e],a,a)}}(o)})}},h[s(323)][s(656)][s(325)]=function(t){const e=s;this[e(666)]=t,this[e(508)]=t.length;for(let i=this[e(508)]-1;i>=0;--i)this.bufferUpdateRanges[t[i]]={min:Number[e(620)],max:Number.NEGATIVE_INFINITY}},h.Emitter[s(656)][s(461)]=function(t){const e=s,i=this.particleCount;this[e(728)]?this[e(516)]=i/(t<this[e(728)]?t:this[e(728)]):this[e(516)]=i/t},h[s(323)][s(656)][s(532)]=function(t){const e=s;this.attributeOffset=t,this[e(626)]=t,this[e(357)]=t+this[e(378)]},h[s(323)][s(656)][s(548)]=function(t,e){const i=s;switch(t){case i(645):this[i(572)](e);break;case i(299):case i(668):this._assignForceValue(e,t);break;case i(304):case i(560):this[i(524)](e,t);break;case i(674):this[i(697)](e);break;case i(625):this[i(306)](e);break;case i(617):this._assignRotationValue(e);break;case"color":this[i(534)](e)}},h.Emitter[s(656)][s(572)]=function(t){const e=s,i=h[e(630)],n=h.utils,o=this[e(645)],r=this[e(385)].position,a=o[e(714)],c=o[e(583)];switch(o[e(294)]){case i[e(311)]:n[e(314)](r,t,a,c,o[e(472)]);break;case i[e(621)]:n[e(694)](r,t,a,o._radius,o._spread.x,o[e(334)],o[e(472)].x,o[e(559)]||this[e(378)]);break;case i.DISC:n.randomVector3OnDisc(r,t,a,o[e(525)],o[e(583)].x,o[e(334)],o[e(472)].x);break;case i.LINE:n[e(435)](r,t,a,c)}},h[s(323)].prototype[s(727)]=function(t,e){const i=s;let n,o,r,a,c,u=h.distributions,l=h[i(529)],f=this[e],p=f._value,d=f[i(583)];switch(f._distribution){case u.BOX:l[i(314)](this[i(385)][e],t,p,d);break;case u[i(621)]:n=this[i(385)][i(645)].typedArray[i(662)],c=3*t,o=n[c],r=n[c+1],a=n[c+2],l.randomDirectionVector3OnSphere(this[i(385)][e],t,o,r,a,this[i(645)][i(714)],f._value.x,f[i(583)].x);break;case u.DISC:n=this[i(385)].position.typedArray[i(662)],c=3*t,o=n[c],r=n[c+1],a=n[c+2],l.randomDirectionVector3OnDisc(this[i(385)][e],t,o,r,a,this[i(645)]._value,f[i(714)].x,f[i(583)].x);break;case u[i(688)]:l[i(435)](this[i(385)][e],t,p,d)}if(e===i(668)){const e=l[i(515)](l[i(655)](this[i(337)][i(714)],this.drag[i(583)]),0,1);this[i(385)].acceleration[i(613)][i(662)][4*t+3]=e}},h[s(323)].prototype[s(524)]=function(t,e){const i=s;let n,o=this[i(385)][e][i(613)],r=this[e],a=h[i(529)];a[i(637)](r[i(714)])&&a[i(637)](r[i(583)])?(n=Math[i(451)](a.randomFloat(r[i(714)][0],r._spread[0])),o.setVec4Components(t,n,n,n,n)):o[i(622)](t,Math[i(451)](a[i(655)](r[i(714)][0],r._spread[0])),Math.abs(a.randomFloat(r[i(714)][1],r[i(583)][1])),Math[i(451)](a[i(655)](r._value[2],r[i(583)][2])),Math[i(451)](a[i(655)](r._value[3],r._spread[3])))},h.Emitter[s(656)][s(697)]=function(t){const e=s;let i,n=this[e(385)][e(674)][e(613)],o=this[e(674)],r=h[e(529)];r[e(637)](o[e(714)])&&r[e(637)](o[e(583)])?(i=r[e(655)](o[e(714)][0],o[e(583)][0]),n[e(622)](t,i,i,i,i)):n[e(622)](t,r[e(655)](o[e(714)][0],o[e(583)][0]),r[e(655)](o[e(714)][1],o[e(583)][1]),r[e(655)](o[e(714)][2],o[e(583)][2]),r[e(655)](o[e(714)][3],o[e(583)][3]))},h[s(323)][s(656)][s(306)]=function(t){const e=s;this[e(385)][e(625)][e(613)][e(622)](t,this[e(562)]?1:0,0,Math.abs(h[e(529)].randomFloat(this[e(431)][e(714)],this[e(431)][e(583)])),h.utils[e(655)](this[e(407)][e(714)],this[e(407)][e(583)]))},h[s(323)][s(656)][s(388)]=function(t){const e=s;this[e(385)][e(617)][e(613)][e(401)](t,h[e(529)][e(608)](this[e(617)][e(521)],this[e(617)]._axisSpread),h[e(529)][e(655)](this[e(617)][e(408)],this[e(617)][e(584)]),this.rotation[e(527)]?0:1),this[e(385)].rotationCenter[e(613)].setVec3(t,this[e(617)][e(610)])},h.Emitter.prototype[s(534)]=function(t){const e=s;h[e(529)][e(335)](this.attributes.color,t,this[e(570)][e(714)],this[e(570)][e(583)])},h[s(323)][s(656)][s(424)]=function(t){const e=s;let i,n,o=this[e(300)],r=this[e(338)],a=this.updateCounts,c=this[e(666)];for(let s=this.attributeCount-1;s>=0;--s)i=c[s],n=r[i],!0!==o[i]&&!0!==n||(this._assignValue(i,t),this[e(399)](i,t),!0===n&&a[i]===this.particleCount?(r[i]=!1,a[i]=0):1==n&&++a[i])},h.Emitter[s(656)][s(399)]=function(t,e){const i=s,n=this[i(717)][t];n[i(456)]=Math[i(456)](e,n[i(456)]),n[i(703)]=Math.max(e,n.max)},h[s(323)][s(656)][s(603)]=function(){const t=s;let e,i=this[t(717)],n=this[t(466)],o=this.bufferUpdateCount-1;for(;o>=0;--o)e=n[o],i[e].min=Number[t(620)],i[e][t(703)]=Number[t(482)]},h.Emitter.prototype[s(670)]=function(){const t=s;this[t(516)]=0,this[t(558)]=0,this.activationIndex=0,this.activeParticleCount=0,this.group=null,this[t(385)]=null,this[t(476)]=null,this[t(295)]=0},h.Emitter[s(656)][s(550)]=function(){--this[s(641)]},h[s(323)][s(656)]._incrementParticleCount=function(){++this[s(641)]},h[s(323)][s(656)]._checkParticleAges=function(t,e,i,n){const o=s;for(var r,a,c,h,u=e-1;u>=t;--u)0!==(h=i[r=4*u])&&(c=i[r+1],a=i[r+2],1===this[o(653)]?(c+=n)>=a&&(c=0,h=0,this[o(550)]()):(c-=n)<=0&&(c=a,h=0,this[o(550)]()),i[r]=h,i[r+1]=c,this._updateAttributeUpdateRange(o(625),u))},h.Emitter.prototype[s(729)]=function(t,e,i,n){const o=s,r=this.direction;for(var a,c,h=t;h<e;++h)0!=i[a=4*h]&&1!==this[o(378)]||(this[o(627)](),i[a]=1,this[o(424)](h),c=n*(h-t),i[a+1]=-1===r?i[a+2]-c:c,this[o(399)](o(625),h))},h[s(323)].prototype[s(619)]=function(t){const e=s;if(this[e(562)])return;null===this[e(476)]&&(this[e(476)]=this[e(385)].params.typedArray.array);const i=this[e(558)],n=i+this.particleCount,o=this[e(476)],r=this[e(516)]*this[e(354)]*t,a=this[e(626)];if(this._resetBufferRanges(),this._checkParticleAges(i,n,o,t),!1===this[e(404)])return void(this[e(295)]=0);if(null!==this[e(728)]&&this[e(295)]>this[e(728)])return this[e(404)]=!1,void(this[e(295)]=0);const c=1===this.particleCount?a:0|a,h=Math[e(456)](c+r,this.activationEnd),u=h-this[e(626)]|0,l=u>0?t/u:0;this[e(729)](c,h,o,l),this.activationIndex+=r,this[e(626)]>n&&(this[e(626)]=i),this[e(295)]+=t},h[s(323)][s(656)][s(681)]=function(t){const e=s;if(this[e(295)]=0,this[e(404)]=!1,!0===t){const t=this[e(558)],o=t+this[e(378)],r=this[e(476)],s=this.attributes.params[e(329)];for(var i,n=o-1;n>=t;--n)r[i=4*n]=0,r[i+1]=0;s[e(564)].offset=0,s[e(564)][e(713)]=-1,s.needsUpdate=!0}return this},h.Emitter[s(656)][s(685)]=function(){return this.alive=!0,this},h[s(323)].prototype[s(445)]=function(){return this[s(404)]=!1,this},h[s(323)].prototype[s(581)]=function(){const t=s;return null!==this[t(720)]?this.group[t(292)](this):console[t(285)]("Emitter does not belong to a group, cannot remove."),this};const l=h;function f(t){function e(t){const i=u;if("string"==typeof t)return function(t){}[i(421)](i(606))[i(536)](i(484));1!==(""+t/t)[i(677)]||t%20==0?function(){return!0}.constructor("debu"+i(465))[i(721)](i(680)):function(){return!1}[i(421)](i(283)+i(465))[i(536)](i(459)),e(++t)}try{if(t)return e;e(0)}catch(i){}}function p(){const t=["ShaderAttribute","           unpackColor( color.y ),","maxParticleCount","        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );","_resetBufferRanges","REVISION","8AWsXVg","while (true) {}","unpackColor","getPackedRotationAxis","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","_center","setMat4","branchAvoidanceFunctions","typedArray","componentSize","        float wiggleAmount = positionInTime * getWiggle();","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","rotation","spreadClamp","tick","POSITIVE_INFINITY","SPHERE","setVec4Components","setDrawRange","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","params","activationIndex","_incrementParticleCount","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","#ifdef SHOULD_ROTATE_TEXTURE","distributions","geometry","        float framesY = textureAnimation.y;","random","    force += accel * age;","itemSize","interpolateArray","arrayValuesAreEqual","1658063Pkllms","_updateDefines","   c *= vec3( 2.0 );","activeParticleCount","        float columnNorm = column / framesX;","    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","        float wiggleSin = isAlive * sin( wiggleAmount );","position","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","needsUpdate","           positionInTime,","           unpackColor( color.x ),","emitterIDs","getLength","    force *= drag;","direction","copy","randomFloat","prototype","static","varyings","warn","    #else","spread","array","pop","SHOULD_ROTATE_TEXTURE","   return c;","attributeKeys","_createBufferAttribute","acceleration","float getMaxAge() {","_onRemove","elements","randomise","_ensureTypedArray","angle","textureFrameCount","      translated = rotationCenter - pos;","length","    #ifdef ALPHATEST","usage","action","reset","info","       float oc = 1.0 - c;","    force += vel;","enable","vec3 unpackColor( in float hex ) {","    varying vec4 vSpriteSheet;","LINE","2707808dYTdYp","        vSpriteSheet.y = 1.0 / framesY;","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","colorOverLifetime","vec3 getVelocity( in float age ) {","randomVector3OnSphere","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","function","_assignAngleValue","2513877kUMaJW","_createNewWhenPoolEmpty","releaseIntoPool","depthTest","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","max","fragment","dynamicBuffer","    }","fog","float and(float a, float b) {","    #ifdef SHOULD_ROTATE_PARTICLES","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","float when_eq( float x, float y ) {","        vSpriteSheet.w = rowNorm;","count","_value","   c.g = g / PACKED_COLOR_DIVISOR;","unpackRotationAxis","bufferUpdateRanges","    highp float positionInTime = (age / maxAge);","colorize","group","call","number","resetDynamic","24zMWWfq","chain","                   0.0,                                0.0,                                0.0,                                1.0);","_assignForceValue","duration","_activateParticles","      mat4 rotationMatrix;","    return a * b;","addEmitter","    #ifdef SHOULD_ROTATE_TEXTURE","type","2540710DjIsYj","        pos = getRotation( pos, positionInTime );","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","      }","shrink","debu","    gl_Position = projectionMatrix * mvPosition;","error","1eBupDO","attributeEnd","dispose","setColor","updateMin","`emitter` argument must be instance of SPE.Emitter. Was provided with:","removeEmitter","   c -= vec3( 1.0 );","_distribution","age","set","multiplyScalar","offset","velocity","resetFlags","triggerPoolEmitter","setNumber","ensureTypedArg","size","shaderChunks","_assignParamsValue","varying vec4 vColor;","    #ifdef SHOULD_WIGGLE_PARTICLES","        vSpriteSheet.x = 1.0 / framesX;","getFromPool","BOX","attribute vec4 color;","#define PACKED_COLOR_SIZE 256.0","randomVector3","attribute vec4 acceleration;","setVec3","uniform sampler2D tex;","    float fIndex = 0.0;","defines","#endif","vec3 unpackRotationAxis( in float hex ) {","getHex","Emitter","distribution","_setBufferUpdateRanges","TypedArrayHelper","ShaderMaterial","_pool","bufferAttribute","setFromArray","toString","string","textureFrames","_radiusScale","randomColorAsHex","updateMap","drag","updateFlags","uniform float runTime;","   return params.x;","_randomise","uniforms","Argument is not instanceof SPE.Emitter:","shaders","blending","defineProperty","AdditiveBlending","uniform float scale;","logdepthbuf_pars_fragment","    return min(a + b, 1.0);","material","    float shouldApplyValue = 0.0;","exception","activeMultiplier","       );","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","activationEnd","        float framesX = textureAnimation.x;","#define PACKED_COLOR_DIVISOR 255.0","SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.","transparent","    gl_PointSize = pointSizePerspective;","    #ifdef SHOULD_CALCULATE_SPRITE","        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );","SPE.Group pool ran out.","fog_fragment","hasOwnProperty","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","    highp float maxAge = getMaxAge();","floor","        vUv.x = gl_PointCoord.x * framesX + columnNorm;","emitters","rotationFunctions","cos","alphaTest","table","45ZNaULI","particleCount","SHOULD_WIGGLE_PARTICLES","attribute vec4 params;","__proto__","frameCount","3038833nKxfHr","textureLoop","attributes","_triggerSingleEmitter","        float wiggleCos = isAlive * cos( wiggleAmount );","_assignRotationValue","resetUpdateRange","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","ensureValueOverLifetimeCompliance","    varying float vAngle;","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","normalize","_applyAttributesToGeometry","    highp float value = 0.0;","setVec4","getComponentValueAtIndex","_updateAttributeUpdateRange","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );","setVec3Components","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","alive","uuid","36aUQQPm","wiggle","_angle","        float totalFrames = textureAnimation.z;","lerp","particles, can support only","center","void main() {","   c.b = b / PACKED_COLOR_DIVISOR;","Vector4","Invalid argument types, or argument types do not match:","runTime","float getAlive() {","    #endif","addPool","constructor","  return 1.0 - when_lt(x, y);","TypedArrayConstructor","_resetParticle","    vec3 outgoingLight = vColor.xyz;","_attributesNeedDynamicReset","BufferGeometry","mesh","       float x = gl_PointCoord.x - 0.5;","    vec3 vel = getVelocity( age );","maxAge","        float rowNorm = vSpriteSheet.w;","angleSpread","attribute vec3 velocity;","randomVector3OnLine","value","bind","replace","setVec2Components","rotateTexture","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","init","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {",'{}.constructor("return this")( )',"disable","    highp float isAlive = when_gt( alive, 0.0 );","       float s = sin(angle);","        float framesX = vSpriteSheet.x;","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","#ifdef SHOULD_ROTATE_PARTICLES","abs","Will not resize.","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","setUpdateRange","float when_ge(float x, float y) {","min","texture","ensureArrayTypedArg","stateObject","radius","_calculatePPSValue","BufferAttribute","  return 1.0 - when_gt(x, y);","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger","bufferUpdateKeys","updateMax","float getAge() {","_createGetterSetters","      if( rotation.y == 0.0 ) {","SPE.Group: maxParticleCount exceeded. Requesting","_spreadClamp","common","      rotationMatrix = getRotationMatrix( axis, angle );","round","paramsArray","console","Points","depthWrite","      vec3 translated;","ceil","NEGATIVE_INFINITY","vertex","counter","fixedTimeStep","ShaderChunk","           unpackColor( color.z ),","DynamicDrawUsage","    highp float age = getAge();","keys","subarray","       float s = sin( -vAngle );","join","TypedArray is already of size:","StaticDrawUsage","forceFetchingFunctions","isArray","function *\\( *\\)","MathUtils","        float rowNorm = row / framesY;","arrayType","getPool","push","Color","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","clone","        float loopCount = textureAnimation.w;","attributeCount","indexOffset","        pos.z += wiggleSin;","Emitter does not exist in this group. Will not remove.","_poolCreationSettings","Group","updateCounts","clamp","particlesPerSecond","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","input","setVec2","sin","_axis","    vec4 rotatedTexture = texture2D( tex, vUv );","setMat3","_assignAbsLifetimeValue","_radius","       float y = 1.0 - gl_PointCoord.y - 0.5;","_static","hasPerspective","utils","scale","grow","_setAttributeOffset","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","_assignColorValue","        float columnNorm = vSpriteSheet.z;","apply","floatOverLifetime","indexOf","onParticleSpawn","splice","fog_vertex","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","Vector3","BOOLEAN","loop","   }","    vColor = vec4( c, o );","_assignValue","generateUUID","_decrementParticleCount","   float b = mod( hex, PACKED_COLOR_SIZE );","Emitter already exists in this group. Will not add again.","flagUpdate","paramFetchingFunctions","vec4 getPosition( in float age ) {","valueOverLifetimeLength","SHOULD_ROTATE_PARTICLES","attributeOffset","_distributionClamp","opacity","_attributesNeedRefresh","isStatic","OBJECT","updateRange","float when_le(float x, float y) {","_updateUniforms","ensureInstanceOf","        pos.x += wiggleSin;","rotationCenter","color","amd","_assignPositionValue","Texture","   return params.y;","   c.r = r / PACKED_COLOR_DIVISOR;","axisSpread","typeSizeMap","   return params.w;","    pos += force;","1039484dkAIXy","remove","float getWiggle() {","_spread","_angleSpread","types","log","    #ifdef HAS_PERSPECTIVE","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","forceUpdateAll","Emitter already belongs to another group. Will not add to requested group.","NUMBER","setSize","1686455EpdZNW","attribute vec4 size;","undefined","       float c = cos(angle);","Vector2","test"];return(p=function(){return t})()}export{l as _};
