import{_ as n,T as t,h as e,q as o,aj as r,$ as i,c6 as s,c4 as a,c5 as c,cg as l,m as u}from"./three.NPKhDGTA1734239885681.js";import{e as f,m as p,U as v}from"./@tresjs.qWeugQU61734239885681.js";import{d as m,o as d,D as g,J as h,u as b,F as y,w as x,j as w,x as _,e as I,g as T,aj as U,ak as D}from"./@vue.-THQH3GC1734239885681.js";import{_ as S}from"./@fesjs.1fC4qdx91734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./vue-router.KCZH8FnA1734239885681.js";import"./lodash-es.kYt-_xTG1734239885681.js";import"./@qlin.yHhFDldE1734239885681.js";import"./pinia.XvNnwauR1734239885681.js";import"./vue-demi.C4xddsk91734239885681.js";import"./@floating-ui.BPbuo5Gx1734239885681.js";import"./@juggle.7yjBMqoW1734239885681.js";var E="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const B=F;function j(){const n=["error","function *\\( *\\)","noiseTex","#include <dithering_fragment>","Vector4","setY","while (true) {}","init","log","MeshBasicMaterial","console","constructor","toString","vertexShader","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","exception","counter","MeshLambertMaterial","material","warn","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","replace","randFloatSpread","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","trace","4592588keGPUX","table","action","fragmentShader","noise","input","rotateX","86429EDiQfL","instanceCount","debu","; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ",'{}.constructor("return this")( )',"#include <begin_vertex>","instData","SphereGeometry","length","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","9mIFtxv","luces","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","uniforms","test","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","attributes","\n      uniform vec4 luces[","4428350NUjoNG","setAttribute","push","stateObject","TresPlaneGeometry","6622456wftiyh","26276yiqpqb","21DzPImE","614349EJEdlc","InstancedBufferGeometry","apply","lucesPlane","globalUniforms","gger","bind","485CbPuqu","TresMesh","72AySMNR","randFloat","177214zeyFqu","MathUtils","string","sin","globalBloom","call","geometry"];return(j=function(){return n})()}!function(n,t){const e=F,o=j();for(;;)try{if(416705===parseInt(e(456))/1+-parseInt(e(467))/2*(-parseInt(e(455))/3)+-parseInt(e(454))/4*(parseInt(e(463))/5)+-parseInt(e(465))/6*(parseInt(e(430))/7)+-parseInt(e(453))/8*(-parseInt(e(440))/9)+-parseInt(e(448))/10+-parseInt(e(423))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(458)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(n,t){const e=j();return(F=function(n,t){return e[n-=413]})(n,t)}!function(){N(this,(function(){const n=F,t=new RegExp(n(475)),e=new RegExp(n(421),"i"),o=R(n(481));t[n(444)](o+"chain")&&e.test(o+n(428))?R():o("0")}))()}();const M=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(458)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();M(void 0,(function(){const n=F;let t;try{t=Function("return (function() "+n(434)+");")()}catch(r){t=window}const e=t[n(484)]=t[n(484)]||{},o=[n(482),n(417),"info",n(474),n(413),n(424),n(422)];for(let i=0;i<o[n(438)];i++){const t=M[n(485)].prototype[n(462)](M),r=o[i],s=e[r]||t;t.__proto__=M[n(462)](M),t.toString=s[n(486)][n(462)](s),e[r]=t}}))();const z=[B(473),B(416)],C=[B(416)],k=[B(429)],P=100,A=m({__name:B(459),props:{globalUniforms:{}},setup(e){const o=B,r=e,i=[],s=[],a=new(n[o(437)])(1,36,18),c=(new(n[o(457)])).copy(a);c[o(431)]=P;const l=[];for(let t=0;t<P;t++){let t=n[o(468)][o(420)](49),e=n[o(468)][o(420)](49),r=n[o(468)][o(466)](.0625,.125),a=n[o(468)].randFloat(1,3);l[o(450)](t,e,r),s[o(450)](new(n[o(478)])(t,e,a,n[o(468)].randFloat(1,2))),i[o(450)](new(n[o(478)])(t,e,r,a))}c[o(449)]("instData",new t(new Float32Array(l),3));const u=new(n[o(483)])({color:16720418,onBeforeCompile:n=>{const t=o;n.uniforms[t(476)]=r[t(460)][t(427)],n.vertexShader=(t(442)+n[t(487)]+"\n    ")[t(419)](t(435),t(418))}}),p={luces:{value:i}},v=new(n[o(415)])({color:2363940,onBeforeCompile:n=>{const t=o;n[t(443)][t(441)]=p[t(441)],n.uniforms[t(471)]=r[t(460)][t(471)],n[t(443)][t(476)]=r[t(460)].noise,n[t(487)]=(t(488)+n[t(487)]+"\n    ")[t(419)]("#include <begin_vertex>","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      "),n[t(426)]=(t(447)+P+t(445)+n[t(426)]+"\n    ")[t(419)]("#include <fog_fragment>",t(439)+P+t(433))[t(419)](t(477),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:m}=f();return m((({elapsed:n})=>{const t=o;for(let e=0;e<P;e++){const o=s[e];let r=(o.y+n+25)%50-25;i[e].y=r,i[e].w=(Math[t(470)](n*o.w*(e%3+1))*Math.cos(n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,c[t(446)][t(436)][t(479)](e,r)}c[t(446)].instData.needsUpdate=!0})),(n,t)=>{const e=o;return d(),g(y,null,[h(e(464),{geometry:b(c),material:b(u)},null,8,z),h("TresMesh",{material:b(v)},[h(e(452),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,k)],8,C)],64)}}});function R(n){function t(n){const e=F;if(typeof n===e(469))return function(n){}[e(485)](e(480))[e(458)](e(414));1!==(""+n/n)[e(438)]||n%20==0?function(){return!0}[e(485)](e(432)+e(461))[e(472)](e(425)):function(){return!1}[e(485)]("debu"+e(461)).apply(e(451)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=Z;function Z(n,t){const e=O();return(Z=function(n,t){return e[n-=208]})(n,t)}!function(n,t){const e=Z,o=O();for(;;)try{if(858469===-parseInt(e(253))/1+-parseInt(e(239))/2*(parseInt(e(235))/3)+-parseInt(e(238))/4*(parseInt(e(226))/5)+parseInt(e(254))/6*(parseInt(e(252))/7)+parseInt(e(244))/8*(parseInt(e(250))/9)+-parseInt(e(225))/10+parseInt(e(220))/11*(parseInt(e(208))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){q(this,(function(){const n=Z,t=new RegExp(n(222)),e=new RegExp(n(231),"i"),o=Y("init");t[n(215)](o+n(212))&&e.test(o+n(213))?Y():o("0")}))()}();const L=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(228)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function O(){const n=["warn","gger","exception","chain","input","bind","test","globalBloom","counter",'{}.constructor("return this")( )',"\n    ","673783VZCBbe","TresMesh","function *\\( *\\)","MeshBasicMaterial","toString","10115730OZWvkv","3175yOcbnP","constructor","apply","while (true) {}","#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","replace","globalUniforms","1473102QOmeuK","debu","trace","10124pyCtON","2KfiVfU","vec4 diffuseColor = vec4( diffuse, opacity );","call","time","__proto__","32kdeRVw","stateObject","material","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","console","prototype","3545649chkPWO","fragmentShader","7OYjqeL","1145527bVBAEF","9834606ysQKml","uniforms","TresPlaneGeometry","action","\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      ","372vxamEg"];return(O=function(){return n})()}L(void 0,(function(){const n=Z;let t;try{t=Function("return (function() "+n(218)+");")()}catch(r){t=window}const e=t.console=t[n(248)]||{},o=["log",n(209),"info","error",n(211),"table",n(237)];for(let i=0;i<o[n(232)];i++){const t=L.constructor[n(249)].bind(L),r=o[i],s=e[r]||t;t[n(243)]=L[n(214)](L),t[n(224)]=s[n(224)].bind(s),e[r]=t}}))();const $=[G(246)],K=m({__name:"portal",props:{globalUniforms:{}},setup(t){const e=G,o=t,r=new(n[e(223)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms[t(242)]=o[t(234)][t(242)],n[t(255)][t(216)]=o[t(234)].globalBloom,n[t(251)]=("\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      "+E+t(258)+n.fragmentShader+t(219))[t(233)](t(240),t(247))[t(233)]("#include <dithering_fragment>",t(230))}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return d(),g(o(221),{material:b(r),position:[0,3.75,-12]},t[0]||(t[0]=[h(o(256),{args:[5,5]},null,-1)]),8,$)}}});function Y(n){function t(n){const e=Z;if("string"==typeof n)return function(n){}[e(227)](e(229))[e(228)](e(217));1!==(""+n/n)[e(232)]||n%20==0?function(){return!0}.constructor("debu"+e(210))[e(241)](e(257)):function(){return!1}[e(227)](e(236)+e(210)).apply(e(245)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const V=W;!function(n,t){const e=W,o=X();for(;;)try{if(513356===parseInt(e(238))/1*(parseInt(e(266))/2)+-parseInt(e(261))/3+parseInt(e(274))/4*(-parseInt(e(254))/5)+parseInt(e(246))/6*(parseInt(e(250))/7)+parseInt(e(284))/8*(parseInt(e(239))/9)+parseInt(e(243))/10+-parseInt(e(265))/11*(parseInt(e(277))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(291)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){H(this,(function(){const n=W,t=new RegExp(n(281)),e=new RegExp(n(279),"i"),o=tn(n(256));t.test(o+"chain")&&e[n(286)](o+n(275))?tn():o("0")}))()}();const Q=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(291)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function W(n,t){const e=X();return(W=function(n,t){return e[n-=233]})(n,t)}function X(){const n=["toString","table","warn","uniforms","1419210QPQqok","exception","BufferGeometry","push","8231938fCpMqY","6WCpKmW","trace","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","gger","geometry","error","\n    ","bind","4tJoHhB","input","replace","24ItvXOx",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","vertexShader","function *\\( *\\)","prototype","console","11744LhQlnk","globalUniforms","test","time","call","log","globalBloom","apply","Float32BufferAttribute","while (true) {}","gEnds","constructor","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","223166puHToT","720ZtqaNJ","return (function() ","debu","randFloat","7409010mJxuDC","LineBasicMaterial","#include <begin_vertex>","312rbLlxF","length","setAttribute","randFloatSpread","132951kgUyYM","info","vec4 diffuseColor = vec4( diffuse, opacity );","\n      ","161665KcGmNG","MathUtils","init"];return(X=function(){return n})()}Q(void 0,(function(){const n=W,t=function(){const n=W;let t;try{t=Function(n(240)+n(278)+");")()}catch(e){t=window}return t}(),e=t[n(283)]=t[n(283)]||{},o=[n(289),n(259),n(251),n(271),n(262),n(258),n(267)];for(let r=0;r<o[n(247)];r++){const t=Q[n(236)][n(282)][n(273)](Q),i=o[r],s=e[i]||t;t.__proto__=Q[n(273)](Q),t[n(257)]=s[n(257)].bind(s),e[i]=t}}))();const J=["material",V(270)],nn=m({__name:"drops",props:{globalUniforms:{}},setup(t){const o=V,r=t,i=[],s=[];for(let l=0;l<2e4;l++){const t=n[o(255)][o(249)](35),r=e[o(242)](-5,10),a=n[o(255)].randFloatSpread(35),c=n[o(255)][o(242)](.25,.5);i[o(264)](t,r,a,t,r,a),s[o(264)](0,c,1,c)}const a=new(n[o(263)]);a.setAttribute("position",new(n[o(233)])(i,3)),a[o(248)](o(235),new(n[o(233)])(s,2));const c=new(n[o(244)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=o;n[t(260)][t(287)]=r[t(285)].time,n.uniforms.noiseTex=r[t(285)].noise,n[t(260)][t(290)]=r.globalUniforms[t(290)],n[t(280)]=(t(268)+n[t(280)]+t(272))[t(276)](t(245),"#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n.fragmentShader=(t(237)+E+t(253)+n.fragmentShader+"\n    ")[t(276)](t(252),"\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ")}});return(n,t)=>(d(),g("TresLineSegments",{material:b(c),geometry:b(a)},null,8,J))}});function tn(n){function t(n){const e=W;if("string"==typeof n)return function(n){}[e(236)](e(234))[e(291)]("counter");1!==(""+n/n)[e(247)]||n%20==0?function(){return!0}[e(236)]("debu"+e(269))[e(288)]("action"):function(){return!1}[e(236)](e(241)+e(269))[e(291)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}!function(n,t){const e=sn,o=rn();for(;;)try{if(584770===parseInt(e(302))/1+-parseInt(e(244))/2*(parseInt(e(284))/3)+parseInt(e(242))/4*(parseInt(e(265))/5)+-parseInt(e(280))/6+parseInt(e(249))/7+-parseInt(e(296))/8*(parseInt(e(254))/9)+-parseInt(e(243))/10*(parseInt(e(287))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const en=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(273)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){en(this,(function(){const n=sn,t=new RegExp(n(264)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=cn(n(300));t[n(278)](o+"chain")&&e[n(278)](o+"input")?cn():o("0")}))()}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(273)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function rn(){const n=["test","toString","3340860knzYyM","\n      uniform float time;\n      ","\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}","Mesh","653934BdvMGw","noise","exception","7225009tvgbnu","debu","WebGLRenderTarget","gger","value","string","counter","Vector2","prototype","16XltNYJ","while (true) {}","background","color","init","renderTarget2","1158320XYjZko","setRenderTarget","warn","constructor","8hgDzJQ","10BUKdam","2lMKhfu","PlaneGeometry","info","table","render","3706479hXERYv","needsSwap","addPass","fragmentShader","log","2348658FGhLNE","near","replace","time","return (function() ","trace","texture","add","console","action","function *\\( *\\)","2126210hqvoin","set","stateObject","uniforms","length","fog","Fog","renderToScreen","apply","globalBloom","Color","bind","target"];return(rn=function(){return n})()}function sn(n,t){const e=rn();return(sn=function(n,t){return e[n-=239]})(n,t)}on(void 0,(function(){const n=sn;let t;try{t=Function(n(258)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t[n(262)]=t.console||{},o=[n(253),n(240),n(246),"error",n(286),n(247),n(259)];for(let i=0;i<o[n(269)];i++){const t=on.constructor[n(295)][n(276)](on),r=o[i],s=e[r]||t;t.__proto__=on[n(276)](on),t[n(279)]=s[n(279)].bind(s),e[r]=t}}))();const an=m({__name:"fboRender",setup(t){const e=sn,v={time:{value:0},globalBloom:{value:0},noise:{value:null}},m=new(n[e(289)])(512,512),h=new o,b=new r,_=new(n[e(245)])(2,2),I=new i({onBeforeCompile:n=>{const t=e;n[t(268)][t(257)]=v[t(257)],n[t(252)]=(t(281)+E+"\n      "+n[t(252)]+"\n    ")[t(256)]("vec4 diffuseColor = vec4( diffuse, opacity );","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ")}});I.defines={USE_UV:""};const T=new(n[e(283)])(_,I);h[e(261)](T),v[e(285)].value=m.texture;const{camera:U,renderer:D,scene:S,sizes:B,controls:j}=p();x((()=>j.value),(t=>{const o=e;null==t||t[o(277)][o(266)](0,2,0),!S[o(291)].background&&(S[o(291)][o(298)]=new(n[o(275)])(6706534))}));const N=new s(D.value),F=new s(D[e(291)]),M=new a(S[e(291)],U[e(291)]),z=new c(new(n[e(294)])(B.width[e(291)],B.height.value),1.2,.5,0);N[e(272)]=!1,N[e(251)](M),N[e(251)](z);const C=new l(new u({uniforms:{baseTexture:{value:null},bloomTexture:{value:N[e(301)][e(260)]}},vertexShader:e(282),fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),"baseTexture");C[e(250)]=!0,F[e(251)](M),F[e(251)](C),S[e(291)][e(270)]=new(n[e(271)])(6706534,1,25);const{onLoop:k}=f();return k((({elapsed:n})=>{var t,o;const r=e;v[r(257)].value=n,D.value&&(D.value[r(239)](m),D[r(291)][r(248)](h,b),D[r(291)][r(239)](null),v[r(274)][r(291)]=1.2,S.value[r(270)][r(299)][r(266)](0),S.value.fog.near=15,null==(t=S[r(291)][r(298)])||t.set(0),N[r(248)](),v[r(274)][r(291)]=0,S[r(291)][r(270)][r(299)][r(266)](6706534),S.value[r(270)][r(255)]=10,null==(o=S.value[r(298)])||o[r(266)](6706534),F[r(248)]())})),(n,t)=>(d(),g(y,null,[w(A,{globalUniforms:v}),w(K,{globalUniforms:v}),w(nn,{globalUniforms:v})],64))}});function cn(n){function t(n){const e=sn;if(typeof n===e(292))return function(n){}.constructor(e(297)).apply(e(293));1!==(""+n/n)[e(269)]||n%20==0?function(){return!0}[e(241)]("debu"+e(290)).call(e(263)):function(){return!1}[e(241)](e(288)+"gger").apply(e(267)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=S({},[["render",function(n,t){return d(),g("div",ln,t[0]||(t[0]=[h("span",{class:"retro noselect"},[h("span",{style:{color:"#eae"}},"光"),_("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);!function(n,t){const e=mn,o=vn();for(;;)try{if(274775===-parseInt(e(215))/1*(parseInt(e(247))/2)+parseInt(e(241))/3*(-parseInt(e(212))/4)+parseInt(e(237))/5*(parseInt(e(240))/6)+-parseInt(e(220))/7+-parseInt(e(224))/8+parseInt(e(217))/9*(-parseInt(e(223))/10)+-parseInt(e(211))/11*(-parseInt(e(213))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const fn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[mn(233)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){fn(this,(function(){const n=mn,t=new RegExp(n(230)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=gn(n(248));t[n(221)](o+n(246))&&e[n(221)](o+"input")?gn():o("0")}))()}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[mn(233)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function vn(){const n=["console","counter","__proto__","length","chain","1754qgupKF","init","MathUtils","TresAmbientLight","stateObject","539605mYBTRW","33716qDpSsY","516vEpfKX","constructor","458mKkpMq","info","5346tIdoco","debu","gger","2820349IjsguZ","test","trace","9180gsqHpB","2164368rfeUym","bind","toString","TresDirectionalLight","DEG2RAD","exception","function *\\( *\\)","TresPerspectiveCamera","warn","apply","TresCanvas","action","manual","35950PjQgME","call","log","180FFHnZw","153frnEcl"];return(vn=function(){return n})()}function mn(n,t){const e=vn();return(mn=function(n,t){return e[n-=210]})(n,t)}pn(void 0,(function(){const n=mn,t=function(){let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(t){n=window}return n}(),e=t.console=t[n(242)]||{},o=[n(239),n(232),n(216),"error",n(229),"table",n(222)];for(let r=0;r<o.length;r++){const t=pn[n(214)].prototype.bind(pn),i=o[r],s=e[i]||t;t[n(244)]=pn[n(225)](pn),t.toString=s[n(226)][n(225)](s),e[i]=t}}))();const dn=m({__name:"lightNoise",setup(t){const e=mn,o={windowSize:!0,antialias:!0,renderMode:e(236)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*n[e(249)].DEG2RAD,maxPolarAngle:90*n[e(249)][e(228)],makeDefault:!0};return(n,t)=>{const i=e,s=I(i(234));return d(),g(y,null,[w(un),w(s,U(D(o)),{default:T((()=>[t[0]||(t[0]=h(i(231),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),w(b(v),U(D(r)),null,16),t[1]||(t[1]=h(i(250),{intensity:.5},null,-1)),t[2]||(t[2]=h(i(227),{position:[0,3,-12],intensity:1},null,-1)),w(an)])),_:1},16)],64)}}});function gn(n){function t(n){const e=mn;if("string"==typeof n)return function(n){}[e(214)]("while (true) {}")[e(233)](e(243));1!==(""+n/n)[e(245)]||n%20==0?function(){return!0}.constructor(e(218)+e(219))[e(238)](e(235)):function(){return!1}[e(214)](e(218)+e(219))[e(233)](e(210)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{dn as default};
