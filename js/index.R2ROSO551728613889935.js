var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,f as u,s as a,F as f,V as h,M as l,B as p,Y as g,t as d,a as w,ak as y,aP as v,$ as I,cn as b}from"./three.-yu4716U1728613889935.js";import{t as m}from"./@mapbox.ueWQWseJ1728613889935.js";import{c as x,d as _,a as M}from"./three-mesh-bvh.JI04JGj81728613889935.js";import{C as k}from"./three-custom-shader-material.jRyIW-S_1728613889935.js";import"./object-hash.bAoGVkRV1728613889935.js";import"./@amap.CWBvQ_Sh1728613889935.js";import"./glsl-tokenizer.bRDW_uEr1728613889935.js";const P=F;!function(t,n){const r=F,e=A();for(;;)try{if(645568===parseInt(r(194))/1+parseInt(r(229))/2*(-parseInt(r(202))/3)+-parseInt(r(185))/4*(parseInt(r(212))/5)+-parseInt(r(195))/6*(-parseInt(r(174))/7)+-parseInt(r(210))/8*(-parseInt(r(216))/9)+-parseInt(r(226))/10+-parseInt(r(187))/11*(-parseInt(r(221))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const T=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[F(166)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){T(this,(function(){const t=F,n=new RegExp(t(208)),r=new RegExp(t(213),"i"),e=z(t(223));n[t(224)](e+t(204))&&r[t(224)](e+t(175))?z():e("0")}))()}();const E=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[F(166)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function A(){const t=["2253040viJCKE","dispose","matrixWorld","2363522PxOPpY","remove","content","while (true) {}","intersectsBox","apply","tileNo","action","subdivide","applyMatrix4","map","console","t_Matrix","266INncuS","input","gger","setFromObject","boundingBoxWorld","getTranMatrix","bind","parentTile","makeRotationX","distanceToPoint","constructor","764OCkqks","log","77mYmqCd","push","toString","value","info","__proto__","prototype","119120icUtwL","4422vHtEsf","provider",'{}.constructor("return this")( )',"isReady","simplify","forEach","isDisposed","3DXwMyT","renderOrder","chain","childrenTiles","trace","counter","function *\\( *\\)","length","24dqwDEm","update","29485AFlrUo","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","pow","visible","121131POVJXG","ready","freeze","error","maxZoom","5128212UUnYgu","table","init","test","call"];return(A=function(){return t})()}function F(t,n){const r=A();return(F=function(t,n){return r[t-=166]})(t,n)}E(void 0,(function(){const t=F,n=function(){const t=F;let n;try{n=Function("return (function() "+t(197)+");")()}catch(r){n=window}return n}(),r=n[t(172)]=n[t(172)]||{},e=[t(186),"warn",t(191),t(219),"exception",t(222),t(206)];for(let o=0;o<e.length;o++){const n=E.constructor[t(193)][t(180)](E),i=e[o],s=r[i]||n;n[t(192)]=E[t(180)](E),n[t(189)]=s[t(189)][t(180)](s),r[i]=n}}))();class R extends c{constructor(){const t=F;super(),this.isDisposed=!1,this.isReady=!1,this[t(205)]=[],this.boundingBoxWorld=new u}[P(223)](t,n,r){const e=P;this[e(167)]=t,Object[e(218)](this.tileNo),this.map=n,this[e(181)]=r,this[e(215)]=!1,this[e(203)]=t[2],this[e(217)]()}async ready(){const t=P;if(this.content=await this[t(171)][t(196)].getTile(this[t(167)]),!this[t(201)]){if(this.add(this[t(231)]),this[t(178)][t(177)](this[t(231)])[t(170)](this[t(228)][t(182)](-Math.PI/2)),this[t(171)].add(this),this.visible=!0,this.isReady=!0,this[t(181)]){const n=this[t(181)][t(205)];let r=0;for(let e=0;e<n.length;e++)n[e][t(198)]&&r++;4===r&&(this.parentTile.visible=!1)}this[t(211)]()}}update(){const t=P;if(!this[t(198)]||this[t(201)])return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(171)];if(!n[t(233)](this[t(178)]))return void this[t(199)]();this[t(231)]instanceof a&&this[t(171)][t(196)].filter&&(this[t(231)].material.uniforms[t(173)][t(190)]=this[t(171)].provider[t(179)]());let e=this.boundingBoxWorld[t(183)](r);const o=this.tileNo[2];e/=Math[t(214)](2,this.map[t(196)][t(220)]-o),e<60&&this[t(169)](),e>80&&this[t(199)]();this[t(205)].sort(((n,e)=>n[t(178)][t(183)](r)-e[t(178)][t(183)](r)))[t(200)]((t=>t.update()))}[P(169)](){const t=P,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o.length>0||i>=e.maxZoom)return;m.getChildren(r)[t(200)]((n=>{const r=t,i=new R;i[r(223)](n,e,this),o[r(188)](i)}))}simplify(){const t=P;this[t(205)][t(200)]((t=>t.dispose())),this[t(205)]=[],this.visible=!0}[P(227)](){const t=P;this[t(171)][t(230)](this),this[t(171)][t(196)].abort(this[t(167)]),this.childrenTiles[t(200)]((n=>n[t(227)]())),this[t(205)]=[],this.parentTile=void 0,this[t(231)]&&(this[t(171)].provider.dispose(this[t(167)],this[t(231)]),this[t(231)]=void 0),this.isDisposed=!0}}function z(t){function n(t){const r=F;if("string"==typeof t)return function(t){}[r(184)](r(232))[r(166)](r(207));1!==(""+t/t)[r(209)]||t%20==0?function(){return!0}[r(184)]("debu"+r(176))[r(225)](r(168)):function(){return!1}.constructor("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const C=Z;!function(t,n){const r=Z,e=O();for(;;)try{if(769021===parseInt(r(247))/1*(-parseInt(r(233))/2)+-parseInt(r(244))/3+parseInt(r(246))/4+parseInt(r(250))/5+parseInt(r(203))/6+parseInt(r(196))/7+-parseInt(r(229))/8*(-parseInt(r(230))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const S=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Z(219)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function O(){const t=["raycast","disposeBoundsTree","[Map.regenerate] Method not implemented.","chain","lastUpdateTime","forEach","cameraProjectionMatrix","rootForward","toString","test","exception","regenerate","[Map.dispose] Method not implemented.","length","lastCameraProjectionMatrix","apply","bind","rootForward needs to be 0 - 3.","counter","matrixWorldInverse","trace","info","prototype","call","push","32GrsCuR","1311237ocPcPE","console","cameraWorldPosition","49834bXTtoy","getWorldPosition","gger","multiplyMatrices","log","action","function *\\( *\\)","camera","computeBoundsTree","error","__proto__","186156GyXwck","copy","771132dzEwWz","51DQrNkB","lastCameraWorldPosition","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","945990kLiSgu","now","debu","visible","update","warn","init","660212cxNveS","rootTiles","cameraFrustum","dispose","constructor","return (function() ","equals","6256626jysPSq"];return(O=function(){return t})()}!function(){S(this,(function(){const t=Z,n=new RegExp(t(239)),r=new RegExp(t(249),"i"),e=B(t(195));n.test(e+t(207))&&r[t(213)](e+"input")?B():e("0")}))()}();const j=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Z(219)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Z(t,n){const r=O();return(Z=function(t,n){return r[t-=195]})(t,n)}j(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(201)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(231)]=n[t(231)]||{},e=[t(237),t(255),t(225),t(242),t(214),"table",t(224)];for(let o=0;o<e.length;o++){const n=j[t(200)].prototype[t(220)](j),i=e[o],s=r[i]||n;n[t(243)]=j[t(220)](j),n[t(212)]=s[t(212)][t(220)](s),r[i]=n}}))();let U=class extends c{constructor(){const t=Z;super(),this.bbox=[74.390592,6.900905,134.071423,54.318199],this.maxZoom=20,this.rootForward=0,this[t(198)]=new f,this[t(232)]=new h,this[t(210)]=new l,this[t(218)]=new l,this[t(248)]=new h,this[t(197)]=[],this.lastUpdateTime=0,!p[t(226)][t(241)]&&(p[t(226)][t(241)]=x),!p[t(226)][t(205)]&&(p.prototype[t(205)]=_),a[t(226)][t(204)]=M}initRootTiles(){const t=Z;this[t(211)]>3&&(console[t(255)]("rootForward needs to be 0 - 3."),this[t(211)]=3),this.rootForward<0&&(console[t(255)](t(221)),this.rootForward=0);const n=[];let r=[m.bboxToTile(this.bbox)],e=this[t(211)];for(;e>0;){const n=[...r];r=[],n[t(209)]((n=>{const e=t,o=m.getChildren(n);r[e(228)](...o)})),e--}n[t(228)](...r),n[t(209)]((n=>{const r=t,e=new R;e[r(195)](n,this),this[r(197)].push(e)}))}[C(254)](){const t=C;if(!this[t(253)]||!this.camera)return;const n=Date[t(251)]();n-this.lastUpdateTime<300||(0!==this.rootTiles[t(217)]?(this[t(240)][t(234)](this[t(232)]),this[t(210)][t(236)](this[t(240)].projectionMatrix,this[t(240)][t(223)]),this[t(232)][t(202)](this[t(248)])&&this[t(210)][t(202)](this[t(218)])||(this.cameraFrustum.setFromProjectionMatrix(this[t(210)]),this.rootTiles[t(209)]((n=>n[t(254)]())),this.lastCameraProjectionMatrix[t(245)](this[t(210)]),this[t(248)][t(245)](this[t(232)]),this[t(208)]=n)):this.initRootTiles())}[C(199)](){throw new Error(C(216))}[C(215)](){throw new Error(C(206))}};function B(t){function n(t){const r=Z;if("string"==typeof t)return function(t){}[r(200)]("while (true) {}").apply(r(222));1!==(""+t/t)[r(217)]||t%20==0?function(){return!0}[r(200)](r(252)+r(235))[r(227)](r(238)):function(){return!1}[r(200)](r(252)+"gger")[r(219)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function W(){const t=["toString","171758OFHbBK","ready","6qZktqK","delete","trace","info","46952onvaDY","init","error","chain","851344hPoRFV","resolve","function *\\( *\\)","length","promise","log","listeners","12073900LHKHpA","abort","has","catch","637jIYoFB","137223AErGFB","set","string","apply","exception","size","bind","User abort.","call","fetch","4lKIrPQ","console","__proto__","stateObject","input","842637aXrUzx","test","gger","clone","_controller","while (true) {}","url","prototype",'{}.constructor("return this")( )',"get","counter","pendings","reject","add","signal","constructor","3420545Uimpzf","return (function() ","warn","debu","table"];return(W=function(){return t})()}const $=K;!function(t,n){const r=K,e=W();for(;;)try{if(342596===parseInt(r(531))/1+parseInt(r(541))/2+-parseInt(r(509))/3*(parseInt(r(504))/4)+parseInt(r(525))/5*(parseInt(r(533))/6)+-parseInt(r(493))/7*(-parseInt(r(537))/8)+parseInt(r(494))/9+-parseInt(r(489))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const X=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[K(497)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function K(t,n){const r=W();return(K=function(t,n){return r[t-=484]})(t,n)}!function(){X(this,(function(){const t=K,n=new RegExp(t(484)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=q(t(538));n[t(510)](e+t(540))&&r[t(510)](e+t(508))?q():e("0")}))()}();const N=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[K(497)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();N(void 0,(function(){const t=K,n=function(){const t=K;let n;try{n=Function(t(526)+t(517)+");")()}catch(r){n=window}return n}(),r=n[t(505)]=n[t(505)]||{},e=[t(487),t(527),t(536),t(539),t(498),t(529),t(535)];for(let o=0;o<e.length;o++){const n=N[t(524)][t(516)][t(500)](N),i=e[o],s=r[i]||n;n[t(506)]=N[t(500)](N),n[t(530)]=s[t(530)][t(500)](s),r[i]=n}}))();const L=class t{constructor(){const t=K;this._controller=new AbortController,this[t(488)]=new Set}[$(503)](c,u={}){const a=$;var f,h;t[a(520)][a(491)](c)||(t[a(520)][a(495)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this._controller[a(523)]},n(f,r(h)))).then((t=>{const n=a;this[n(488)].forEach((r=>r[n(542)](t[n(512)]())))}))[a(492)]((t=>{const n=a;this.listeners.forEach((r=>r[n(521)](t)))})).finally((()=>{const n=a;t[n(520)][n(534)](c)})))}[$(490)](){this[$(513)].abort()}};L.pendings=new Map;let V=L;class D{constructor(t,n){const r=$;this[r(515)]=t,this[r(538)]=n,this[r(486)]=new Promise(((t,n)=>{const e=r;this[e(542)]=t,this[e(521)]=n}))}[$(532)](){const t=$;let n=V.pendings[t(518)](this[t(515)]);return!n&&(n=new V,n.fetch(this[t(515)],this.init)),n[t(488)][t(522)](this),this[t(486)]}[$(490)](){const t=$;this[t(521)](t(501));const n=V[t(520)][t(518)](this[t(515)]);n&&(n[t(488)].delete(this),0===n[t(488)][t(499)]&&n[t(490)]())}}function q(t){function n(t){const r=K;if(typeof t===r(496))return function(t){}.constructor(r(514)).apply(r(519));1!==(""+t/t)[r(485)]||t%20==0?function(){return!0}[r(524)](r(528)+r(511))[r(502)]("action"):function(){return!1}[r(524)](r(528)+"gger")[r(497)](r(507)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function G(t,n){const r=H();return(G=function(t,n){return r[t-=494]})(t,n)}!function(t,n){const r=G,e=H();for(;;)try{if(630063===-parseInt(r(527))/1+-parseInt(r(503))/2+parseInt(r(494))/3+-parseInt(r(528))/4*(-parseInt(r(508))/5)+parseInt(r(497))/6*(parseInt(r(513))/7)+parseInt(r(514))/8+-parseInt(r(507))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const J=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){J(this,(function(){const t=G,n=new RegExp(t(520)),r=new RegExp(t(535),"i"),e=tt("init");n[t(526)](e+t(501))&&r[t(526)](e+"input")?tt():e("0")}))()}();const Q=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[G(519)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();let Y;function H(){const t=["#66AAFF","drawImage","chain","debu","752362DIPcww",'{}.constructor("return this")( )',"while (true) {}","prototype","10831545COiTsX","10QdCkIr","toString","string","fillText","fillStyle","21GqXBni","9867632vpVIiy","info","length","rect","counter","apply","function *\\( *\\)","gger",'Offscreencanvas.getContext("2d") error!',"getContext","font","ready","test","935065PpNztf","1280384gqBolP","call","#FF4444","__proto__","strokeStyle","#44FF44","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","flipY","2725449QAWSdn","#00FFFF","20px Arial","725370CNHeIW","bind"];return(H=function(){return t})()}function tt(t){function n(t){const r=G;if(typeof t===r(510))return function(t){}.constructor(r(505))[r(519)](r(518));1!==(""+t/t)[r(516)]||t%20==0?function(){return!0}.constructor(r(502)+r(521))[r(529)]("action"):function(){return!1}.constructor(r(502)+r(521))[r(519)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function nt(){const t=["console","constructor","38464ITsiBu","__proto__","gger","test","exception","postMessage","init","291491KsoiJx","table","2428nBdyVv","10504703KVUQMc","set","onmessage","call","2DHkGDU","861470uiGXtl","delete","while (true) {}","terminated","bind","toString",'{}.constructor("return this")( )',"1054290abXMNU","action","counter","get","data","apply","6sNRLdm","worker","trace","error","stateObject","1263290PkKzAD","terminate","414JzOOsv","debu","12bdLgdq","string","length","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","map","clear","57BfQEKf","input","function *\\( *\\)","info"];return(nt=function(){return t})()}Q(void 0,(function(){const t=G,n=function(){const t=G;let n;try{n=Function("return (function() "+t(504)+");")()}catch(r){n=window}return n}(),r=n[t(536)]=n[t(536)]||{},e=["log","warn",t(515),"error",t(534),"table","trace"];for(let o=0;o<e[t(516)];o++){const n=Q.constructor[t(506)][t(498)](Q),i=e[o],s=r[i]||n;n[t(531)]=Q.bind(Q),n.toString=s[t(509)][t(498)](s),r[i]=n}}))();const rt=ot;!function(t,n){const r=ot,e=nt();for(;;)try{if(148666===-parseInt(r(150))/1*(parseInt(r(157))/2)+-parseInt(r(137))/3*(-parseInt(r(152))/4)+-parseInt(r(116))/5+-parseInt(r(122))/6*(parseInt(r(127))/7)+parseInt(r(143))/8*(-parseInt(r(129))/9)+parseInt(r(109))/10+-parseInt(r(153))/11*(-parseInt(r(131))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const et=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function ot(t,n){const r=nt();return(ot=function(t,n){return r[t-=109]})(t,n)}!function(){et(this,(function(){const t=ot,n=new RegExp(t(139)),r=new RegExp(t(134),"i"),e=ct(t(149));n.test(e+"chain")&&r[t(146)](e+t(138))?ct():e("0")}))()}();const it=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();it(void 0,(function(){const t=ot;let n;try{n=Function("return (function() "+t(115)+");")()}catch(o){n=window}const r=n[t(141)]=n[t(141)]||{},e=["log","warn",t(140),t(125),t(147),t(151),t(124)];for(let i=0;i<e[t(133)];i++){const n=it[t(142)].prototype[t(113)](it),o=e[i],s=r[o]||n;n[t(144)]=it[t(113)](it),n[t(114)]=s[t(114)][t(113)](s),r[o]=n}}))();class st{constructor(t){const n=ot;this[n(112)]=!0,this[n(135)]=new Map,this[n(123)]=new t,this[n(123)][n(155)]=this.onMessage[n(113)](this),this[n(112)]=!1}async[rt(148)](t){const n=rt;if(!this[n(112)])return this.worker.postMessage(t),new Promise(((r,e)=>{const o=n;this[o(135)][o(154)](t.id,r)}))}onMessage(t){const n=rt,{id:r,error:e}=t[n(120)],o=this[n(135)][n(119)](r);o&&!e&&o(t[n(120)]),this[n(135)][n(110)](r)}[rt(128)](){const t=rt;this[t(123)][t(155)]=null,this.worker[t(128)](),this[t(112)]=!0,this.map[t(136)]()}}function ct(t){function n(t){const r=ot;if(typeof t===r(132))return function(t){}[r(142)](r(111)).apply(r(118));1!==(""+t/t).length||t%20==0?function(){return!0}[r(142)](r(130)+r(145))[r(156)](r(117)):function(){return!1}[r(142)](r(130)+"gger")[r(121)](r(126)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ut(t){return new Worker(""+new URL("../static/MapWorker-XbKdsMxw.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=lt;!function(t,n){const r=lt,e=pt();for(;;)try{if(876581===-parseInt(r(265))/1+parseInt(r(285))/2*(-parseInt(r(292))/3)+parseInt(r(310))/4+-parseInt(r(303))/5+-parseInt(r(257))/6+parseInt(r(279))/7*(parseInt(r(298))/8)+parseInt(r(286))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ft=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[lt(309)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){ft(this,(function(){const t=lt,n=new RegExp(t(260)),r=new RegExp(t(272),"i"),e=dt(t(281));n[t(295)](e+t(256))&&r.test(e+"input")?dt():e("0")}))()}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[lt(309)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function lt(t,n){const r=pt();return(lt=function(t,n){return r[t-=250]})(t,n)}function pt(){const t=["dispose","bitmap","75186hcjEtS","set","image","test","return (function() ","prototype","3311848Nkmxcu","while (true) {}",'{}.constructor("return this")( )',"__proto__","getId","3038915TdyRhV","trace","showTileNo","toString","[y]","action","apply","4906204wtcYvs","replace","needsUpdate","counter","getUrl","postMessage","fetching","useWorker","length","chain","206454etPonW","bind","indexOf","function *\\( *\\)","maxZoom","{y}","terminate","debu","1709309VeyGUV","source","get","string","{z}","anisotropy","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","[x]","error","constructor","exception","info","abort","14gQdKro","table","init","getTile","cors","_useWorker","22VPzZfN","13043259CtRxlK","delete","_worker","log"];return(pt=function(){return t})()}ht(void 0,(function(){const t=lt;let n;try{n=Function(t(296)+t(300)+");")()}catch(o){n=window}const r=n[t(271)]=n[t(271)]||{},e=[t(289),"warn",t(277),t(274),t(276),t(280),t(304)];for(let i=0;i<e[t(255)];i++){const n=ht[t(275)][t(297)][t(258)](ht),o=e[i],s=r[o]||n;n[t(301)]=ht[t(258)](ht),n.toString=s[t(306)][t(258)](s),r[o]=n}}))();class gt{constructor(){const t=lt;this[t(261)]=20,this[t(266)]="https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]",this[t(305)]=!1,this[t(284)]=!1,this[t(253)]=new Map}set[at(254)](t){var n;const r=at;this[r(284)]=t,!this[r(284)]&&(null==(n=this._worker)||n[r(263)](),this[r(288)]=void 0)}get[at(254)](){return this[at(284)]}async[at(282)](t){const n=at,r=this.getUrl(t),e=new g;if(this._useWorker){!this[n(288)]&&(this._worker=new st(ut));const o=this[n(302)](t),i=await this._worker[n(252)]({id:o,tileNo:t,url:r,debug:this.showTileNo});e[n(294)]=i[n(291)]}else{const o=new D(r,{cache:"force-cache",mode:n(283)});this.fetching[n(293)](t,o);try{e[n(294)]=await async function(t,n,r=!1){const e=G,o=await n[e(525)](),i=await o.blob(),s=await createImageBitmap(i,r?void 0:{imageOrientation:e(537)});if(!r)return s;!Y&&(Y=new OffscreenCanvas(256,256));const c=Y[e(523)]("2d");if(!c)throw new Error(e(522));const{width:u,height:a}=Y;return c[e(500)](s,0,0),c[e(517)](0,0,u,a),c[e(532)]=e(495),c[e(524)]=e(496),c.stroke(),c[e(512)]=e(530),c[e(511)](""+t[0],10,30),c[e(512)]=e(533),c.fillText(""+t[1],10,55),c.fillStyle=e(499),c.fillText(""+t[2],10,80),await createImageBitmap(Y,{imageOrientation:e(537)})}(t,o,this.showTileNo)}finally{this[n(253)][n(287)](t)}}return e[n(312)]=!0,e[n(270)]=4,e}[at(278)](t){var n;const r=at;if(this._useWorker)null==(n=this._worker)||n[r(252)]({id:this[r(302)](t),abort:!0});else{const n=this[r(253)][r(267)](t);n&&n[r(278)](),this[r(253)][r(287)](t)}}[at(290)](t,n){n[at(290)]()}[at(302)](t){return t.join("-")}[at(251)](t){const n=at,[r,e,o]=t;return-1===this[n(266)][n(259)](n(273))?this[n(266)][n(311)]("{x}",r+"")[n(311)](n(262),e+"")[n(311)](n(269),o+""):this[n(266)][n(311)]("[x]",r+"")[n(311)](n(307),e+"")[n(311)]("[z]",o+"")}}function dt(t){function n(t){const r=lt;if(typeof t===r(268))return function(t){}[r(275)](r(299)).apply(r(250));1!==(""+t/t)[r(255)]||t%20==0?function(){return!0}.constructor(r(264)+"gger").call(r(308)):function(){return!1}.constructor(r(264)+"gger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const wt=xt;!function(t,n){const r=xt,e=It();for(;;)try{if(633852===parseInt(r(528))/1+-parseInt(r(519))/2+parseInt(r(536))/3*(-parseInt(r(506))/4)+parseInt(r(538))/5*(-parseInt(r(544))/6)+-parseInt(r(499))/7+parseInt(r(505))/8*(parseInt(r(533))/9)+parseInt(r(525))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const yt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[xt(516)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){yt(this,(function(){const t=xt,n=new RegExp(t(501)),r=new RegExp(t(509),"i"),e=Ct("init");n[t(524)](e+t(504))&&r.test(e+t(534))?Ct():e("0")}))()}();const vt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function It(){const t=["charAt","CDEFGHJKLMNPQRSTUVWXX","stateObject","apply","error","bind","1907852aRbPZQ","sqrt","sinh","utm","console","test","25413800HYFmLr","length","prototype","1195831cXCEGk","exp","’ outside UTM limits","log","sin","54CsFiyk","input","tan","1800996KdiVhS","toString","5729305PhEYph","constructor","cosh","asinh","action","info","6NfxXcC","atan","cos","trace","__proto__","merc","counter","warn","4311034gNEPLc","call","function *\\( *\\)","atanh","gger","chain","283496oqCpED","4LlJnKV","exception","atan2","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toFixed","floor","debu"];return(It=function(){return t})()}vt(void 0,(function(){const t=xt;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(523)]=n.console||{},e=[t(531),t(498),t(543),t(517),t(507),"table",t(547)];for(let i=0;i<e[t(526)];i++){const n=vt[t(539)][t(527)][t(518)](vt),o=e[i],s=r[o]||n;n[t(548)]=vt.bind(vt),n.toString=s[t(537)][t(518)](s),r[o]=n}}))();const bt=wt(522),mt=wt(496);function xt(t,n){const r=It();return(xt=function(t,n){return r[t-=496]})(t,n)}const _t=6378137,Mt=Math.PI/180;function kt(t,n){const r=wt;return[_t*t*Mt,_t*Math.log(Math[r(535)](.25*Math.PI+n*Mt*.5))]}function Pt(t,n){const r=wt;let e=t/(_t*Math.PI)*180,o=n/(_t*Math.PI)*180;return o=180/Math.PI*(2*Math[r(545)](Math[r(529)](o*Math.PI/180))-Math.PI/2),[e,o]}function Tt(t){return t*Math.PI/180}function Et(t){return 180*t/Math.PI}const At={a:6378137,b:6356752.314245,f:1/298.257223563},Ft=wt(514);function Rt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError("latitude ‘"+n+e(530));let o=r||Math[e(511)]((t+180)/6)+1,i=Tt(6*(o-1)-180+3);const s=Ft[e(513)](Math[e(511)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Tt(6)):32===o&&"X"===s&&t<9?(o--,i-=Tt(6)):32===o&&"X"===s&&t>=9?(o++,i+=Tt(6)):34===o&&"X"===s&&t<21?(o--,i-=Tt(6)):34===o&&"X"===s&&t>=21?(o++,i+=Tt(6)):36===o&&"X"===s&&t<33?(o--,i-=Tt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Tt(6));const c=Tt(n),u=Tt(t)-i,{a:a,f:f}=At,h=.9996,l=Math[e(520)](f*(2-f)),p=f/(2-f),g=p*p,d=p*g,w=p*d,y=p*w,v=p*y,I=Math.cos(u),b=Math[e(532)](u),m=Math[e(535)](c),x=Math.sinh(l*Math[e(502)](l*m/Math.sqrt(1+m*m))),_=m*Math.sqrt(1+x*x)-x*Math[e(520)](1+m*m),M=Math[e(508)](_,I),k=Math[e(541)](b/Math.sqrt(_*_+I*I)),P=a/(1+p)*(1+1/4*g+1/64*w+1/256*v),T=[null,.5*p-2/3*g+5/16*d+41/180*w-127/288*y+7891/37800*v,13/48*g-.6*d+557/1440*w+281/630*y-1983433/1935360*v,61/240*d-103/140*w+15061/26880*y+167603/181440*v,49561/161280*w-179/168*y+6601661/7257600*v,34729/80640*y-3418889/1995840*v,.6650675310896665*v];let E=M;for(let z=1;z<=6;z++)E+=T[z]*Math.sin(2*z*M)*Math[e(540)](2*z*k);let A=k;for(let z=1;z<=6;z++)A+=T[z]*Math[e(546)](2*z*M)*Math[e(521)](2*z*k);let F=h*P*A,R=h*P*E;return F+=5e5,R<0&&(R+=1e7),[F,R]}function zt(t,n,r){const e=wt,o=r||50,{a:i,f:s}=At,c=.9996,u=t-5e5,a=n,f=Math[e(520)](s*(2-s)),h=s/(2-s),l=h*h,p=h*l,g=h*p,d=h*g,w=h*d,y=i/(1+h)*(1+1/4*l+1/64*g+1/256*w),v=u/(c*y),I=a/(c*y),b=[null,.5*h-2/3*l+37/96*p-1/360*g-81/512*d+96199/604800*w,1/48*l+1/15*p-437/1440*g+46/105*d-1118711/3870720*w,17/480*p-37/840*g-209/4480*d+5569/90720*w,4397/161280*g-11/504*d-830251/7257600*w,4583/161280*d-108847/3991680*w,20648693/638668800*w];let m=I;for(let O=1;O<=6;O++)m-=b[O]*Math.sin(2*O*I)*Math[e(540)](2*O*v);let x=v;for(let O=1;O<=6;O++)x-=b[O]*Math[e(546)](2*O*I)*Math[e(521)](2*O*v);const _=Math[e(521)](x),M=Math[e(532)](m),k=Math[e(546)](m),P=M/Math[e(520)](_*_+k*k);let T=null,E=P;do{const t=Math[e(521)](f*Math[e(502)](f*E/Math[e(520)](1+E*E))),n=E*Math[e(520)](1+t*t)-t*Math[e(520)](1+E*E);T=(P-n)/Math[e(520)](1+n*n)*(1+(1-f*f)*E*E)/((1-f*f)*Math[e(520)](1+E*E)),E+=T}while(Math.abs(T)>1e-12);const A=E,F=Math[e(545)](A);let R=Math[e(508)](_,k),z=0;for(let O=1;O<=6;O++)z+=2*O*b[O]*Math.sin(2*O*I)*Math[e(521)](2*O*v);Math[e(545)](Math[e(535)](m)*Math.tanh(x));const C=Math[e(532)](F);Math[e(520)](1-f*f*C*C),Math.sqrt(1+A*A),Math[e(520)](_*_+k*k);R+=Tt(6*(o-1)-180+3);const S=Number(Et(F)[e(510)](14));return[Number(Et(R)[e(510)](14)),S]}function Ct(t){function n(t){const r=xt;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[r(516)](r(497));1!==(""+t/t).length||t%20==0?function(){return!0}[r(539)](r(512)+"gger")[r(500)](r(542)):function(){return!1}.constructor(r(512)+r(503)).apply(r(515)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const St=Ut;!function(t,n){const r=Ut,e=jt();for(;;)try{if(332086===parseInt(r(404))/1+-parseInt(r(393))/2+-parseInt(r(401))/3+-parseInt(r(383))/4*(parseInt(r(380))/5)+-parseInt(r(392))/6+-parseInt(r(378))/7+parseInt(r(403))/8*(parseInt(r(384))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ut(395)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function jt(){const t=["info","abort","string","1700406UPczSs","379890oEBkLA","error","apply","constructor","return (function() ","gger","trace","bind","1491570YWUMKk","init","1856iUaAOQ","450299LPZFAX","exception","toString","maxZoom","test","console","dispose","utmZone","getTile","warn","convertCoordinate","counter","function *\\( *\\)","3134789HakFoC","setAttribute","30luRfar","while (true) {}","call","197804kIhxcw","61947WcUyGk","debu","input","coordType","length"];return(jt=function(){return t})()}!function(){Ot(this,(function(){const t=Ut,n=new RegExp(t(377)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Wt(t(402));n[t(408)](e+"chain")&&r[t(408)](e+t(386))?Wt():e("0")}))()}();const Zt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ut(395)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Ut(t,n){const r=jt();return(Ut=function(t,n){return r[t-=377]})(t,n)}Zt(void 0,(function(){const t=Ut,n=function(){const t=Ut;let n;try{n=Function(t(397)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n[t(409)]=n[t(409)]||{},e=["log",t(413),t(389),t(394),t(405),"table",t(399)];for(let o=0;o<e[t(388)];o++){const n=Zt[t(396)].prototype[t(400)](Zt),i=e[o],s=r[i]||n;n.__proto__=Zt.bind(Zt),n[t(406)]=s[t(406)][t(400)](s),r[i]=n}}))();class Bt{constructor(){const t=Ut;this[t(411)]=50,this.coordType=bt,this[t(407)]=20}async[St(412)](t){const n=St,r=new d,e=m.tileToBBOX(t),o=this[n(414)](e[0],e[3]),i=this[n(414)](e[2],e[3]),s=this[n(414)](e[0],e[1]),c=this[n(414)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r[n(379)]("position",new w(u,3)),r}[St(390)](t){}[St(410)](t,n){n.dispose()}[St(414)](t,n){const r=St;return this[r(387)]===bt?Rt(t,n,this[r(411)]):kt(t,n)}}function Wt(t){function n(t){const r=Ut;if(typeof t===r(391))return function(t){}[r(396)](r(381)).apply(r(415));1!==(""+t/t).length||t%20==0?function(){return!0}[r(396)](r(385)+r(398))[r(382)]("action"):function(){return!1}[r(396)](r(385)+r(398)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function $t(t){return new Worker(""+new URL("../static/MartiniWorker-n0tAem7r.js",import.meta.url).href,{name:null==t?void 0:t.name})}const Xt=Kt;function Kt(t,n){const r=Vt();return(Kt=function(t,n){return r[t-=147]})(t,n)}!function(t,n){const r=Kt,e=Vt();for(;;)try{if(606309===parseInt(r(187))/1*(-parseInt(r(195))/2)+parseInt(r(153))/3+parseInt(r(164))/4+-parseInt(r(151))/5+-parseInt(r(158))/6*(-parseInt(r(197))/7)+parseInt(r(160))/8+-parseInt(r(176))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Nt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Kt(177)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Nt(this,(function(){const t=Kt,n=new RegExp(t(149)),r=new RegExp(t(192),"i"),e=qt(t(175));n[t(166)](e+t(194))&&r[t(166)](e+"input")?qt():e("0")}))()}();const Lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Kt(177)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Vt(){const t=["5681688JvzubA","position","gger","exception","2199524bxglQA","useWorker","test","__proto__","[y]",'{}.constructor("return this")( )',"bind","while (true) {}","debu","warn","join","init","2501739kcIvSy","apply","log","getUrl","counter","getId","console","_worker","stateObject","getInWorkerThread","maxZoom","14vkwdJO","replace","call","coordType","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","triangles","chain","141222aOJxLA","_useWorker","7542591uEOzJL","terminate","[z]","toString","length","positions","source","postMessage","function *\\( *\\)","abort","3091375qfYRTl","utmZone","460512VpnTpQ","dispose","setAttribute","getInMainThread","trace","6rMrYkJ","[x]"];return(Vt=function(){return t})()}Lt(void 0,(function(){const t=Kt,n=function(){const t=Kt;let n;try{n=Function("return (function() "+t(169)+");")()}catch(r){n=window}return n}(),r=n.console=n[t(182)]||{},e=[t(178),t(173),"info","error",t(163),"table",t(157)];for(let o=0;o<e[t(201)];o++){const n=Lt[t(191)].prototype[t(170)](Lt),i=e[o],s=r[i]||n;n[t(167)]=Lt[t(170)](Lt),n.toString=s[t(200)][t(170)](s),r[i]=n}}))();class Dt{constructor(){const t=Kt;this[t(186)]=12,this[t(190)]=bt,this[t(152)]=50,this[t(196)]=!0,this[t(147)]="https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp"}set useWorker(t){var n;const r=Kt;this[r(196)]=t,!this[r(196)]&&(null==(n=this._worker)||n[r(198)](),this._worker=void 0)}get[Xt(165)](){return this[Xt(196)]}async getTile(t){const n=Xt;return this[n(196)]?this[n(185)](t):this.getInMainThread()}async[Xt(156)](){return new p}async[Xt(185)](t){const n=Xt;!this[n(183)]&&(this._worker=new st($t));const r={tileNo:t,id:this[n(181)](t),url:this.getUrl(t),maxZ:this[n(186)],coordType:this[n(190)],utmZone:this[n(152)]},e=await this[n(183)][n(148)](r),o=new p;return o.setAttribute(n(161),new w(e[n(202)],3)),o[n(155)]("uv",new w(e.uv,2)),o.setIndex(new w(e[n(193)],1)),o}async[Xt(150)](t){var n;const r=Xt;this._useWorker&&(null==(n=this[r(183)])||n.postMessage({id:this[r(181)](t),abort:!0}))}async[Xt(154)](t,n){var r;const e=Xt;n[e(154)](),this[e(196)]&&(null==(r=this._worker)||r.postMessage({id:this[e(181)](t),dispose:!0}))}[Xt(181)](t){return t[Xt(174)]("-")}[Xt(179)](t){const n=Xt,[r,e,o]=t;return this[n(147)].replace(n(159),r+"")[n(188)](n(168),e+"")[n(188)](n(199),o+"")}}function qt(t){function n(t){const r=Kt;if("string"==typeof t)return function(t){}[r(191)](r(171))[r(177)](r(180));1!==(""+t/t)[r(201)]||t%20==0?function(){return!0}[r(191)](r(172)+"gger")[r(189)]("action"):function(){return!1}[r(191)]("debu"+r(162))[r(177)](r(184)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=Ht,e=Qt();;)try{if(951502===-parseInt(r(334))/1+parseInt(r(333))/2+-parseInt(r(346))/3+-parseInt(r(356))/4*(-parseInt(r(338))/5)+-parseInt(r(335))/6*(-parseInt(r(358))/7)+-parseInt(r(348))/8+-parseInt(r(331))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Gt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Gt(this,(function(){var t=Ht,n=new RegExp("function *\\( *\\)"),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=tn(t(357));n[t(337)](e+t(361))&&r[t(337)](e+t(342))?tn():e("0")}))()}();var Jt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Ht(345)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Qt(){var t=["bind","apply","1991028PKOAjg","length","80432xlJyBI",'{}.constructor("return this")( )',"action","console","toString","info","log","counter","4537796uKqqVt","init","21EoMRdx","debu","prototype","chain","gger","constructor","4040667uszTqm","while (true) {}","2879678AGIuhc","1705436JbNvig","2410686zvBPTy","return (function() ","test","5ykKaLL","trace","error","center","input","exception"];return(Qt=function(){return t})()}Jt(void 0,(function(){var t,n=Ht;try{t=Function(n(336)+n(349)+");")()}catch(u){t=window}for(var r=t[n(351)]=t[n(351)]||{},e=[n(354),"warn",n(353),n(340),n(343),"table",n(339)],o=0;o<e[n(347)];o++){var i=Jt[n(330)][n(360)][n(344)](Jt),s=e[o],c=r[s]||i;i.__proto__=Jt[n(344)](Jt),i[n(352)]=c[n(352)][n(344)](c),r[s]=i}}))();class Yt extends a{constructor(t){var n=Ht;super(t),this[n(341)]=new h}}function Ht(t,n){var r=Qt();return(Ht=function(t,n){return r[t-=329]})(t,n)}function tn(t){function n(t){var r=Ht;if("string"==typeof t)return function(t){}.constructor(r(332)).apply(r(355));1!==(""+t/t)[r(347)]||t%20==0?function(){return!0}[r(330)](r(359)+r(329)).call(r(350)):function(){return!1}[r(330)](r(359)+r(329)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}const nn=sn;function rn(){const t=["4NEwtlo","info",'{}.constructor("return this")( )',"counter","getTranMatrix","monochrome","50SRtfXq","computeBoundingBox","function *\\( *\\)","add","abort","string","genContrast","useStandardMaterial","init","5188464lSPzam","action","geometry","multiply","flatShading","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","filter","geometryProvider","showBoundingBox","computeBoundingSphere","center","length","getTile","chain","all","324066yTwxJt","378964ytXXMn","genBright","error","4739665ZMrGRK","toString","bind","gger","stateObject","colorSpace","689300fllBKL","dispose","constructor","map","debu","textureProvider","call","test","genSaturate","set","input","4864472lmLReM","material","2020215FYjHsP","copy","trace","apply","getCenter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","position"];return(rn=function(){return t})()}!function(t,n){const r=sn,e=rn();for(;;)try{if(339851===-parseInt(r(416))/1+parseInt(r(425))/2+parseInt(r(438))/3*(-parseInt(r(445))/4)+-parseInt(r(451))/5*(-parseInt(r(415))/6)+-parseInt(r(419))/7+parseInt(r(436))/8+parseInt(r(460))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const en=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){en(this,(function(){const t=sn,n=new RegExp(t(453)),r=new RegExp(t(443),"i"),e=un(t(459));n[t(432)](e+t(413))&&r[t(432)](e+t(435))?un():e("0")}))()}();const on=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function sn(t,n){const r=rn();return(sn=function(t,n){return r[t-=412]})(t,n)}on(void 0,(function(){const t=sn;let n;try{n=Function("return (function() "+t(447)+");")()}catch(o){n=window}const r=n.console=n.console||{},e=["log","warn",t(446),t(418),"exception","table",t(440)];for(let i=0;i<e.length;i++){const n=on.constructor.prototype[t(421)](on),o=e[i],s=r[o]||n;n.__proto__=on[t(421)](on),n[t(420)]=s[t(420)][t(421)](s),r[o]=n}}))();class cn{constructor(t,n){const r=sn;this[r(467)]=t,this[r(430)]=n,this.maxZoom=20,this[r(468)]=!1,this.wireframe=!1,this[r(464)]=!1,this[r(458)]=!1,this[r(466)]=null}[nn(449)](){var t,n,r,e,o;const i=nn;let s=new l;if(null==(t=this[i(466)])?void 0:t.opposite){let t=new l;t.set(-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s[i(463)](t)}if(null==(n=this[i(466)])?void 0:n[i(450)]){let t=new l;const n=this.filter[i(450)].r,r=this.filter[i(450)].g,e=this.filter[i(450)].b;t[i(434)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(463)](t)}if(null==(r=this.filter)?void 0:r.genBright){let t=new l;const n=this[i(466)][i(417)];t[i(434)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s.multiply(t)}if(null==(e=this[i(466)])?void 0:e[i(457)]){let t=new l;const n=this[i(466)].genContrast,r=.5*(1-n);t.set(n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s.multiply(t)}if(null==(o=this[i(466)])?void 0:o[i(433)]){let t=new l;const n=this[i(466)][i(433)],r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(434)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s[i(463)](t)}return s}async[nn(412)](t){const n=nn,r=[this.geometryProvider[n(412)](t),this[n(430)][n(412)](t)],e=await Promise[n(414)](r),o=e[0],i=e[1];i[n(424)]=y;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(458)]?new v({map:i,wireframe:s,flatShading:c}):new I({map:i,wireframe:s}),this[n(466)]&&(u=new k({baseMaterial:u,vertexShader:n(465),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this.getTranMatrix()}}}));const f=new Yt;if(f.renderOrder=a,o[n(452)](),o.boundingBox[n(442)](f[n(470)]),o[n(470)](),o[n(469)](),o.computeBoundsTree(),f[n(444)][n(439)](f.center),f[n(462)]=o,f[n(437)]=u,this.showBoundingBox){const t=new b(o.boundingBox);f[n(454)](t)}return f}[nn(455)](t){const n=nn;this[n(467)][n(455)](t),this[n(430)][n(455)](t)}[nn(426)](t,n){const r=nn,e=n[r(462)],o=n[r(437)];e&&this[r(467)][r(426)](t,e),o&&o[r(428)]&&this[r(430)][r(426)](t,o.map),null==o||o[r(426)]()}}function un(t){function n(t){const r=sn;if(typeof t===r(456))return function(t){}[r(427)]("while (true) {}")[r(441)](r(448));1!==(""+t/t)[r(471)]||t%20==0?function(){return!0}[r(427)]("debu"+r(422))[r(431)](r(461)):function(){return!1}.constructor(r(429)+r(422))[r(441)](r(423)),n(++t)}try{if(t)return n;n(0)}catch(r){}}var an=ln;!function(t,n){for(var r=ln,e=hn();;)try{if(162641===parseInt(r(171))/1*(-parseInt(r(165))/2)+parseInt(r(185))/3*(-parseInt(r(172))/4)+parseInt(r(180))/5*(-parseInt(r(179))/6)+-parseInt(r(177))/7+-parseInt(r(159))/8*(-parseInt(r(154))/9)+-parseInt(r(162))/10+parseInt(r(167))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(178)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function hn(){var t=["toString","return (function() ","12003JykXqw","695108TRVhOm","function *\\( *\\)","bind","geometry","log","339311kACVct","apply","574386wHCLAM","10GkDcFp","length","stateObject","action","call","3xqjLhf","trace","error","DOWN","init","__proto__","string","exception","9pgYdtG","constructor","chain","gger","debu","1409272nOjmqU","mode","test","1146470MexkYg",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","54cydzNK","input","9228142CUOlAp","console"];return(hn=function(){return t})()}function ln(t,n){var r=hn();return(ln=function(t,n){return r[t-=153]})(t,n)}!function(){fn(this,(function(){var t=ln,n=new RegExp(t(173)),r=new RegExp(t(164),"i"),e=dn(t(189));n[t(161)](e+t(156))&&r[t(161)](e+t(166))?dn():e("0")}))()}();var pn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(178)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();pn(void 0,(function(){for(var t=ln,n=function(){var t,n=ln;try{t=Function(n(170)+n(163)+");")()}catch(r){t=window}return t}(),r=n[t(168)]=n[t(168)]||{},e=[t(176),"warn","info",t(187),t(153),"table",t(186)],o=0;o<e[t(181)];o++){var i=pn.constructor.prototype[t(174)](pn),s=e[o],c=r[s]||i;i[t(190)]=pn[t(174)](pn),i.toString=c[t(169)][t(174)](c),r[s]=i}}))();const gn=class t{constructor(n){var r=ln;this[r(160)]=t[r(188)],this[r(175)]=n}};gn.UP=1,gn[an(188)]=2,gn.MATCH=3;function dn(t){function n(t){var r=ln;if(typeof t===r(191))return function(t){}[r(155)]("while (true) {}")[r(178)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(158)+r(157))[r(184)](r(183)):function(){return!1}.constructor(r(158)+"gger").apply(r(182)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function wn(){var t=["test","88022GCmaLx","8ZLaeyc","1127140EAzxSy","return (function() ","input","622624JJQqGb","function *\\( *\\)","constructor","792708byPLCs","call","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"chain","toString","log","bind","table","debu","5065glKKNu","string","gger","warn","init","147723tLdahr","1866bKWsCX","apply","console","__proto__","while (true) {}","error","trace","8568378rQyeiT","action","length","stateObject"];return(wn=function(){return t})()}!function(t,n){for(var r=In,e=wn();;)try{if(342684===-parseInt(r(119))/1+parseInt(r(114))/2+parseInt(r(101))/3+-parseInt(r(116))/4+parseInt(r(133))/5*(parseInt(r(102))/6)+-parseInt(r(122))/7+-parseInt(r(115))/8*(-parseInt(r(109))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var yn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(103)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){yn(this,(function(){var t=In,n=new RegExp(t(120)),r=new RegExp(t(125),"i"),e=bn(t(137));n[t(113)](e+t(127))&&r[t(113)](e+t(118))?bn():e("0")}))()}();var vn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(103)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function In(t,n){var r=wn();return(In=function(t,n){return r[t-=101]})(t,n)}function bn(t){function n(t){var r=In;if(typeof t===r(134))return function(t){}[r(121)](r(106))[r(103)]("counter");1!==(""+t/t)[r(111)]||t%20==0?function(){return!0}[r(121)]("debugger")[r(123)](r(110)):function(){return!1}[r(121)](r(132)+r(135))[r(103)](r(112)),n(++t)}try{if(t)return n;n(0)}catch(r){}}vn(void 0,(function(){for(var t=In,n=function(){var t,n=In;try{t=Function(n(117)+n(126)+");")()}catch(r){t=window}return t}(),r=n[t(104)]=n.console||{},e=["log",t(136),"info",t(107),t(124),t(131),t(108)],o=0;o<e.length;o++){var i=vn.constructor.prototype[t(130)](vn),s=e[o],c=r[s]||i;i[t(105)]=vn[t(130)](vn),i[t(128)]=c[t(128)][t(130)](c),r[s]=i}}))(),function(t,n){for(var r=_n,e=kn();;)try{if(449362===parseInt(r(244))/1+-parseInt(r(252))/2*(-parseInt(r(231))/3)+-parseInt(r(251))/4+parseInt(r(247))/5*(parseInt(r(230))/6)+-parseInt(r(256))/7+-parseInt(r(238))/8+parseInt(r(260))/9)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var mn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(239)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){mn(this,(function(){var t=_n,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(249),"i"),e=Mn(t(245));n[t(253)](e+t(259))&&r[t(253)](e+t(248))?Mn():e("0")}))()}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[_n(239)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function _n(t,n){var r=kn();return(_n=function(t,n){return r[t-=230]})(t,n)}function Mn(t){function n(t){var r=_n;if(typeof t===r(243))return function(t){}[r(242)]("while (true) {}")[r(239)]("counter");1!==(""+t/t)[r(232)]||t%20==0?function(){return!0}[r(242)](r(236)+r(254)).call(r(234)):function(){return!1}[r(242)](r(236)+r(254))[r(239)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function kn(){var t=["bind","1912440eXiVuX","apply","trace","return (function() ","constructor","string","885972UNeKBx","init","console","5VbVOFd","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","exception","3115912HBrhDT","44kEhaMk","test","gger","prototype","1924930SBJoww","toString","table","chain","2845008ptsYGW","2844222tWXDMw","9036sMVVIC","length","warn","action","log","debu"];return(kn=function(){return t})()}function Pn(){const t=["32woxoyP","round","getImageData","776eaZBEU","trace","37845ldxGhc","2089998JhrWOs","chain","1425kmVuMi","call","457291cdpczD",'{}.constructor("return this")( )',"Clip terrain error","constructor","test","22IxHUkG","input","__proto__","getChildPosition","clip","debu","gger","action","stateObject","log","data","counter","prototype","500220cRfxqh","Get context 2d error.","1101790LyUTrX","drawImage","2fhHNIP","info","length","string","getContext","clip: ","error","table","offscreencanvas","getFromBitmap","init","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","3334460gncgkl","console","toString","while (true) {}","apply"];return(Pn=function(){return t})()}xn(void 0,(function(){var t,n=_n;try{t=Function(n(241)+'{}.constructor("return this")( ));')()}catch(u){t=window}for(var r=t[n(246)]=t[n(246)]||{},e=[n(235),n(233),"info","error",n(250),n(258),n(240)],o=0;o<e[n(232)];o++){var i=xn[n(242)][n(255)][n(237)](xn),s=e[o],c=r[s]||i;i.__proto__=xn[n(237)](xn),i.toString=c[n(257)][n(237)](c),r[s]=i}}))();const Tn=Fn;!function(t,n){const r=Fn,e=Pn();for(;;)try{if(258599===parseInt(r(484))/1*(parseInt(r(506))/2)+-parseInt(r(482))/3*(-parseInt(r(523))/4)+-parseInt(r(504))/5+parseInt(r(480))/6+-parseInt(r(502))/7+-parseInt(r(526))/8*(-parseInt(r(479))/9)+-parseInt(r(518))/10*(parseInt(r(489))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const En=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Fn(522)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){En(this,(function(){const t=Fn,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(517),"i"),e=Rn(t(516));n[t(488)](e+t(481))&&r[t(488)](e+t(490))?Rn():e("0")}))()}();const An=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Fn(522)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Fn(t,n){const r=Pn();return(Fn=function(t,n){return r[t-=478]})(t,n)}An(void 0,(function(){const t=Fn;let n;try{n=Function("return (function() "+t(485)+");")()}catch(o){n=window}const r=n.console=n[t(519)]||{},e=[t(498),"warn",t(507),t(512),"exception",t(513),t(478)];for(let i=0;i<e[t(508)];i++){const n=An[t(487)][t(501)].bind(An),o=e[i],s=r[o]||n;n[t(491)]=An.bind(An),n.toString=s[t(520)].bind(s),r[o]=n}}))();Tn(515),Tn(493),Tn(492);function Rn(t){function n(t){const r=Fn;if(typeof t===r(509))return function(t){}[r(487)](r(521))[r(522)](r(500));1!==(""+t/t)[r(508)]||t%20==0?function(){return!0}[r(487)](r(494)+r(495))[r(483)](r(496)):function(){return!1}[r(487)](r(494)+r(495))[r(522)](r(497)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=On,e=Sn();;)try{if(384432===-parseInt(r(296))/1*(parseInt(r(310))/2)+-parseInt(r(321))/3+-parseInt(r(302))/4+parseInt(r(299))/5*(-parseInt(r(324))/6)+parseInt(r(304))/7+-parseInt(r(316))/8*(-parseInt(r(292))/9)+parseInt(r(326))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var zn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[On(307)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){zn(this,(function(){var t=On,n=new RegExp(t(301)),r=new RegExp(t(298),"i"),e=jn("init");n[t(319)](e+"chain")&&r[t(319)](e+t(320))?jn():e("0")}))()}();var Cn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[On(307)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Sn(){var t=["apply","prototype","counter","4iuoFEz","action","debu",'{}.constructor("return this")( )',"gger","table","56sFKtBj","warn","bind","test","input","1139799GAybSB","log","length","709092UKawSp","__proto__","7415120VQyFQU","info","342189CpeCuM","exception","stateObject","error","83323yuDKmX","while (true) {}","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5VfrnnP","console","function *\\( *\\)","1834356KpMDKJ","constructor","3500861iVOokQ","string","toString"];return(Sn=function(){return t})()}function On(t,n){var r=Sn();return(On=function(t,n){return r[t-=291]})(t,n)}function jn(t){function n(t){var r=On;if(typeof t===r(305))return function(t){}[r(303)](r(297))[r(307)](r(309));1!==(""+t/t).length||t%20==0?function(){return!0}[r(303)](r(312)+"gger").call(r(311)):function(){return!1}[r(303)](r(312)+r(314))[r(307)](r(294)),n(++t)}try{if(t)return n;n(0)}catch(r){}}Cn(void 0,(function(){for(var t=On,n=function(){var t,n=On;try{t=Function("return (function() "+n(313)+");")()}catch(r){t=window}return t}(),r=n.console=n[t(300)]||{},e=[t(322),t(317),t(291),t(295),t(293),t(315),"trace"],o=0;o<e[t(323)];o++){var i=Cn.constructor[t(308)].bind(Cn),s=e[o],c=r[s]||i;i[t(325)]=Cn[t(318)](Cn),i[t(306)]=c[t(306)][t(318)](c),r[s]=i}}))();export{gt as M,Bt as P,cn as T,bt as U,U as a,mt as b,Dt as c,kt as d,Rt as l,zt as u,Pt as w};
