import{$ as n,p as t,d as e,S as r,N as o}from"./@tresjs.vs5lCFs11722217438692.js";import{a6 as i,C as s,x as a,aN as c,A as u,Z as l}from"./three.ej3u8izI1722217438692.js";import{P as f}from"./tweakpane.yHWGBmom1722217438692.js";import{L as p}from"./three-subdivide.YzT2y9Dt1722217438692.js";import{d,b as m,a1 as g,w as h,o as v,D as b,J as y,aj as w,ak as x,a4 as M,r as _,e as I,f as T,g as S,j as B,u as C,m as j}from"./@vue.Q1VpS3901722217438692.js";import"./@vueuse.mG9rDBoo1722217438692.js";const k=Z;function A(){const n=["return (function() ","color","table","copy","FrontSide","prototype","AdditiveBlending","uniforms","1604718FxeBZZ","112764wWdHUL","info","counter","test","clone","value","2752710IxWKtK","modify","toString","length","call","48WbFHQo","log","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","material","blending","TSGref","trace","action","#ffff00","glowColor","34uzolgP","gger","10684191fvGMeR","position","exception","subVectors","TresMesh","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","error","viewVector","18520056bdcgtz","debu","srcMesh","input","chain","51661tHgcuS","shineShader","geometry","Vector3","warn",'{}.constructor("return this")( )',"constructor","console","string","apply","scale","attributes","TresShaderMaterial","stateObject","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","11901952ZCixCU","while (true) {}","function *\\( *\\)","bind","init"];return(A=function(){return n})()}!function(n,t){const e=Z,r=A();for(;;)try{if(973011===-parseInt(e(270))/1*(parseInt(e(255))/2)+-parseInt(e(234))/3*(parseInt(e(245))/4)+parseInt(e(240))/5+-parseInt(e(233))/6+-parseInt(e(257))/7+parseInt(e(220))/8+parseInt(e(265))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const z=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){z(this,(function(){const n=Z,t=new RegExp(n(222)),e=new RegExp(n(247),"i"),r=V(n(224));t[n(237)](r+n(269))&&e[n(237)](r+n(268))?V():r("0")}))()}();const R=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[Z(214)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function Z(n,t){const e=A();return(Z=function(n,t){return e[n-=206]})(n,t)}R(void 0,(function(){const n=Z;let t;try{t=Function(n(225)+n(210)+");")()}catch(o){t=window}const e=t[n(212)]=t[n(212)]||{},r=[n(246),n(209),n(235),n(263),n(259),n(227),n(251)];for(let i=0;i<r[n(243)];i++){const t=R[n(211)][n(230)][n(223)](R),o=r[i],s=e[o]||t;t.__proto__=R[n(223)](R),t[n(242)]=s[n(242)].bind(s),e[o]=t}}))();const F=[k(215)],N=d({__name:k(206),props:{srcMesh:{},scale:{default:1.2},color:{default:k(253)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(229)]},blending:{default:i[k(231)]}},setup(e){const r=k,o=e,a=m(),c={uniforms:{c:{type:"f",value:o.c},p:{type:"f",value:o.p},glowColor:{type:"c",value:new s(o[r(226)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:r(262),fragmentShader:r(219),side:o.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:o[r(249)]};g((()=>{const n=r;if(o[n(267)]&&!a[n(239)][n(207)][n(216)][n(258)]){let t=o[n(267)][n(207)][n(238)]();o.subdivision&&(t=p[n(241)](t,2)),a.value.geometry=t,a[n(239)][n(258)][n(228)](o.srcMesh.position)}o.color&&(c[n(232)][n(254)][n(239)]=new s(o.color)),o.c&&(c.uniforms.c.value=o.c),o.p&&(c[n(232)].p.value=o.p)})),h((()=>o.subdivision),(n=>{const t=r;let e=o[t(267)][t(207)][t(238)]();n&&(e=p[t(241)](e,2)),a[t(239)][t(207)]=e})),h((()=>o.side),(n=>{a[r(239)].material.side=n})),h((()=>o[r(249)]),(n=>{const t=r;a[t(239)][t(248)].blending=n}));const{onLoop:u}=n(),{camera:l}=t();return u((()=>{const n=r;l.value&&a.value&&(c.uniforms[n(264)][n(239)]=(new(i[n(208)]))[n(260)](l[n(239)][n(258)],a.value.position))})),(n,t)=>{const e=r;return v(),b(e(261),{ref_key:e(250),ref:a,scale:o[e(215)]},[y(e(217),w(x(c)),null,16)],8,F)}}});function V(n){function t(n){const e=Z;if(typeof n===e(213))return function(n){}.constructor(e(221))[e(214)](e(236));1!==(""+n/n)[e(243)]||n%20==0?function(){return!0}[e(211)](e(266)+e(256))[e(244)](e(252)):function(){return!1}[e(211)]("debu"+e(256))[e(214)](e(218)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const E=L;!function(n,t){const e=L,r=D();for(;;)try{if(151715===parseInt(e(449))/1+parseInt(e(461))/2*(parseInt(e(429))/3)+-parseInt(e(459))/4*(-parseInt(e(455))/5)+parseInt(e(451))/6+-parseInt(e(476))/7+parseInt(e(474))/8+-parseInt(e(448))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const G=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,r}}();!function(){G(this,(function(){const n=L,t=new RegExp(n(435)),e=new RegExp(n(423),"i"),r=Y(n(450));t[n(463)](r+"chain")&&e[n(463)](r+n(464))?Y():r("0")}))()}();const K=function(){let n=!0;return function(t,e){const r=n?function(){if(e){const n=e[L(467)](t,arguments);return e=null,n}}:function(){};return n=!1,r}}();function L(n,t){const e=D();return(L=function(n,t){return e[n-=419]})(n,t)}K(void 0,(function(){const n=L,t=function(){const n=L;let t;try{t=Function(n(425)+n(441)+");")()}catch(e){t=window}return t}(),e=t[n(440)]=t[n(440)]||{},r=[n(433),n(420),n(447),n(426),n(472),n(471),n(465)];for(let o=0;o<r[n(432)];o++){const t=K[n(460)][n(475)].bind(K),i=r[o],s=e[i]||t;t[n(443)]=K[n(421)](K),t[n(444)]=s[n(444)][n(421)](s),e[i]=t}}))();const $=y(E(439),{position:[5,5,5]},null,-1),H=y(E(442),{intensity:1},null,-1),P=y(E(427),{args:[10,10]},null,-1),W=y("TresSphereGeometry",{args:[1,32,16]},null,-1),q=[E(445)],J=["map"],O=[y(E(454),{args:[1,1,1,1,1]},null,-1),y(E(438),{color:"#0ff"},null,-1)],Q=d({__name:E(428),async setup(n){const t=E;let s,p;const d={clearColor:"#222"},g=m(),h=m(),b=m(),w=([s,p]=M((()=>o(["./plugins/earthSample/image/earthA/earth.jpg",t(456)]))),s=await s,p(),s),x=_({scale:1.6,color:t(437),subdivision:!0,c:1.1,p:1.4,side:a,blending:c}),k=new f({title:"参数",expanded:!0});return k[t(452)](x,t(470),{label:"颜色"}),k[t(452)](x,t(446),{label:"大小",min:1,max:3,step:.2}),k[t(452)](x,"subdivision",{label:"边缘处理"}),k[t(452)](x,"c",{label:"c",min:0,max:2,step:.1}),k[t(452)](x,"p",{label:"p",min:0,max:8,step:.2}),k.addBinding(x,t(458),{options:{FrontSide:i[t(422)],BackSide:u,DoubleSide:l}}),k[t(452)](x,t(468),{options:{AdditiveBlending:i[t(473)],NormalBlending:i[t(457)]}}),(n,o)=>{const i=t,s=I("TresCanvas");return v(),T(s,j(d,{"window-size":""}),{default:S((()=>[$,H,B(C(e)),P,y(i(419),{ref_key:i(462),ref:g,position:[-2,1,0]},[W,y(i(438),{map:C(w)[0]},null,8,q)],512),B(N,j({srcMesh:g[i(424)]},x),null,16,["srcMesh"]),B(C(r),{ref_key:i(436),ref:b,args:[1,1,1],position:[2,1,0]},{default:S((()=>[y("TresMeshBasicMaterial",{map:C(w)[1]},null,8,J)])),_:1},512),B(N,j({srcMesh:b[i(424)]&&b.value.value},x),null,16,["srcMesh"]),y("TresMesh",{ref_key:"TresMeshRefB",ref:h,position:[0,1,-2]},O,512),B(N,j({srcMesh:h.value},x),null,16,[i(469)])])),_:1},16)}}});function Y(n){function t(n){const e=L;if("string"==typeof n)return function(n){}[e(460)](e(434))[e(467)]("counter");1!==(""+n/n)[e(432)]||n%20==0?function(){return!0}[e(460)](e(466)+e(431)).call(e(430)):function(){return!1}[e(460)](e(466)+e(431))[e(467)](e(453)),t(++n)}try{if(n)return t;t(0)}catch(e){}}function D(){const n=["TresAmbientLight","__proto__","toString","map","scale","info","1619226YtJdpX","72913skniSb","init","90972CQLCCR","addBinding","stateObject","TresBoxGeometry","275ZJOqZQ","logo.png","NormalBlending","side","18008XiYaYI","constructor","4axCqTp","TresMeshRefA","test","input","trace","debu","apply","blending","srcMesh","color","table","exception","AdditiveBlending","1894312EbtKtv","prototype","1772211lRvrKe","TresMesh","warn","bind","FrontSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","return (function() ","error","TresGridHelper","shader","18492xfKmyq","action","gger","length","log","while (true) {}","function *\\( *\\)","TreBoxRef","#00dfff","TresMeshBasicMaterial","TresPerspectiveCamera","console",'{}.constructor("return this")( )'];return(D=function(){return n})()}export{Q as default};
