var t=Object.defineProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(e,n,i)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i,a=(t,a)=>{for(var o in a||(a={}))n.call(a,o)&&r(t,o,a[o]);if(e)for(var o of e(a))i.call(a,o)&&r(t,o,a[o]);return t};import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.Q2xPBZqq1736128832096.js";import"./reflectorDUDV.vue_vue_type_script_setup_true_lang.2-YKdZT61736128832096.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.d0Zl8bPg1736128832096.js";import{k as o,U as s,C as l,m as c,W as u,bb as p,h as f,_ as x,V as v,M as m}from"./three.8H01GNxA1736128832096.js";import{m as w,e as h}from"./@tresjs.pA0fT6uQ1736128832096.js";import{u as g}from"./index.zoATXOTn1736128832096.js";import{F as d,C as S}from"./three-stdlib.ndvA-qbr1736128832096.js";import{d as y}from"./@vue.yG49nQHr1736128832096.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.TLHtekKr1736128832096.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.ypyRiFGT1736128832096.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.yZSdJqwD1736128832096.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.GmItF1xg1736128832096.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.2GCl44hs1736128832096.js";function _(){const t=["table","counter",'{}.constructor("return this")( )',"5SRHMDL","input","init","info","warn","69OMaYpM","2764048gtIEYH","log","function *\\( *\\)","429652qTeGPA","toString","bind","351432pmfokB","39666swELkF",'\n\n\t// Without original size argument for power of two targets\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level ) {\n\n\t\t// the fraction of the uv space used by the target mip\n\t\tfloat targetSubview = 1.0 / pow( 2.0, float( level ) );\n\t\tfloat widthRatio = 2.0 / 3.0;\n\t\tvec2 scaledDimensions = vec2( targetSubview * widthRatio, targetSubview );\n\n\t\t// all levels > 0 are on the right third of the texture\n\t\t// y is offset from the bottom\n\t\tvec2 offset = vec2(\n\t\t\tlevel > 0 ? widthRatio : 0.0,\n\t\t\tlevel > 0 ? targetSubview : 0.0\n\t\t);\n\n\t\tvec2 samplePoint = mix( offset, offset + scaledDimensions, uv );\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n\t// With original size argument\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, int level, vec2 originalPixelSize ) {\n\n\t\tfloat floatLevel = float( level );\n\t\tvec2 atlasSize;\n\t\tatlasSize.x = floor( originalPixelSize.x * 1.5 );\n\t\tatlasSize.y = originalPixelSize.y;\n\n\t\t// we stop making mip maps when one dimension == 1\n\t\tfloat maxLevel = min( floor( log2( originalPixelSize.x ) ), floor( log2( originalPixelSize.y ) ) );\n\t\tfloatLevel = min( floatLevel, maxLevel );\n\n\t\t// use inverse pow of 2 to simulate right bit shift operator\n\t\tvec2 currentPixelDimensions = floor( originalPixelSize / pow( 2.0, floatLevel ) );\n\t\tvec2 pixelOffset = vec2(\n\t\t\tfloatLevel > 0.0 ? originalPixelSize.x : 0.0,\n\t\t\tfloatLevel > 0.0 ? currentPixelDimensions.y : 0.0\n\t\t);\n\n\t\t// "minPixel / atlasSize" samples the top left piece of the first pixel\n\t\t// "maxPixel / atlasSize" samples the bottom right piece of the last pixel\n\t\tvec2 minPixel = pixelOffset;\n\t\tvec2 maxPixel = pixelOffset + currentPixelDimensions;\n\t\tvec2 samplePoint = mix( minPixel, maxPixel, uv );\n\t\tsamplePoint /= atlasSize;\n\n\t\tvec2 halfPixelSize = 1.0 / ( 2.0 * atlasSize );\n\t\tsamplePoint = min( samplePoint, maxPixel / atlasSize - halfPixelSize );\n\t\tsamplePoint = max( samplePoint, minPixel / atlasSize + halfPixelSize );\n\n\t\treturn texture2D( tex, samplePoint );\n\n\t}\n\n\tvec4 packedTexture2DLOD( sampler2D tex, vec2 uv, float level, vec2 originalPixelSize ) {\n\n\t\tfloat ratio = mod( level, 1.0 );\n\t\tint minLevel = int( floor( level ) );\n\t\tint maxLevel = int( ceil( level ) );\n\n\t\tvec4 minValue = packedTexture2DLOD( tex, uv, minLevel, originalPixelSize );\n\t\tvec4 maxValue = packedTexture2DLOD( tex, uv, maxLevel, originalPixelSize );\n\n\t\treturn mix( minValue, maxValue, ratio );\n\n\t}\n\n',"__proto__","length","exception","test","apply","stateObject","action","2997ebSZoz","39724NgTzAw","gger","trace","604164tAJqXt","debu","constructor","string","280RDXCOX","while (true) {}","prototype","error"];return(_=function(){return t})()}const P=z;function z(t,e){const n=_();return(z=function(t,e){return n[t-=441]})(t,e)}!function(t,e){const n=z,i=_();for(;;)try{if(206312===-parseInt(n(451))/1+parseInt(n(447))/2+-parseInt(n(443))/3*(parseInt(n(461))/4)+-parseInt(n(475))/5*(parseInt(n(464))/6)+parseInt(n(444))/7+-parseInt(n(450))/8+parseInt(n(460))/9*(parseInt(n(468))/10))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const I=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(457)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){I(this,(function(){const t=z,e=new RegExp(t(446)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=M(t(477));e[t(456)](i+"chain")&&n[t(456)](i+t(476))?M():i("0")}))()}();const b=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[z(457)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();b(void 0,(function(){const t=z;let e;try{e=Function("return (function() "+t(474)+");")()}catch(r){e=window}const n=e.console=e.console||{},i=[t(445),t(442),t(441),t(471),t(455),t(472),t(463)];for(let a=0;a<i[t(454)];a++){const e=b[t(466)][t(470)][t(449)](b),r=i[a],o=n[r]||e;e[t(453)]=b[t(449)](b),e.toString=o[t(448)][t(449)](o),n[r]=e}}))();const E=P(452);function M(t){function e(t){const n=z;if(typeof t===n(467))return function(t){}[n(466)](n(469))[n(457)](n(473));1!==(""+t/t)[n(454)]||t%20==0?function(){return!0}.constructor(n(465)+n(462)).call(n(459)):function(){return!1}[n(466)](n(465)+n(462))[n(457)](n(458)),e(++t)}try{if(t)return e;e(0)}catch(n){}}const A=U;!function(t,e){const n=U,i=j();for(;;)try{if(152719===parseInt(n(471))/1*(parseInt(n(474))/2)+-parseInt(n(504))/3*(parseInt(n(476))/4)+parseInt(n(481))/5+-parseInt(n(495))/6*(parseInt(n(477))/7)+parseInt(n(498))/8+-parseInt(n(469))/9+-parseInt(n(485))/10*(-parseInt(n(483))/11))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const L=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(497)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){L(this,(function(){const t=U,e=new RegExp(t(489)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=V("init");e[t(472)](i+t(467))&&n[t(472)](i+t(496))?V():i("0")}))()}();const D=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[U(497)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function U(t,e){const n=j();return(U=function(t,e){return n[t-=467]})(t,e)}function T(t){const e=U,n=a({},t);return e(486)in t&&(n[e(486)]=a({},t[e(486)])),e(484)in t&&(n.uniforms=s[e(501)](t[e(484)])),n}D(void 0,(function(){const t=U,e=function(){const t=U;let e;try{e=Function(t(478)+t(487)+");")()}catch(n){e=window}return e}(),n=e[t(482)]=e.console||{},i=[t(503),t(479),t(500),"error",t(475),t(492),"trace"];for(let r=0;r<i[t(502)];r++){const e=D.constructor.prototype[t(468)](D),a=i[r],o=n[a]||e;e[t(493)]=D.bind(D),e[t(494)]=o[t(494)][t(468)](o),n[a]=e}}))();const O={defines:{X_IS_EVEN:1,Y_IS_EVEN:1},uniforms:{map:{value:null},originalMapSize:{value:new o},parentMapSize:{value:new o},parentLevel:{value:0}},vertexShader:"\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\n\t\t\t#include <begin_vertex>\n\t\t\t#include <project_vertex>\n\t\t\tvUv = uv;\n\n\t\t}\n\t",fragmentShader:"\n\t\tvarying vec2 vUv;\n\t\tuniform sampler2D map;\n\t\tuniform int parentLevel;\n\t\tuniform vec2 parentMapSize;\n\t\tuniform vec2 originalMapSize;\n\n\t\t"+E+A(490)};function V(t){function e(t){const n=U;if(typeof t===n(491))return function(t){}[n(499)](n(480)).apply("counter");1!==(""+t/t)[n(502)]||t%20==0?function(){return!0}[n(499)](n(473)+"gger").call(n(488)):function(){return!1}.constructor("debugger").apply(n(470)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function j(){const t=["defines",'{}.constructor("return this")( )',"action","function *\\( *\\)","\n\n\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t#define SAMPLES 4\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 2\n\n\t\t#elif X_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 2\n\t\t#define HEIGHT 3\n\n\t\t#elif Y_IS_EVEN\n\n\t\t#define SAMPLES 6\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 2\n\n\t\t#else\n\n\t\t#define SAMPLES 9\n\t\t#define WIDTH 3\n\t\t#define HEIGHT 3\n\n\t\t#endif\n\n\t\tvec4 sampleAt( vec2 uv ) {\n\n\t\t\treturn packedTexture2DLOD( map, uv, parentLevel, originalMapSize );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec2 childMapSize = parentMapSize / 2.0;\n\t\t\t// vec2 childPixelSize = 1.0 / childMapSize;\n\t\t\t// vec2 halfChildPixelSize = childPixelSize / 2.0;\n\t\t\tvec2 childPixelPos = floor( vUv * childMapSize );\n\n\t\t\tvec2 parentPixelSize = 1.0 / parentMapSize;\n\t\t\tvec2 halfParentPixelSize = parentPixelSize / 2.0;\n\t\t\tvec2 parentPixelPos = childPixelPos * 2.0;\n\n\t\t\tvec2 baseUv = ( parentPixelPos / parentMapSize ) + halfParentPixelSize;\n\n\t\t\tvec4 samples[ SAMPLES ];\n\t\t\tfloat weights[ SAMPLES ];\n\n\t\t\t#if X_IS_EVEN && Y_IS_EVEN\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = 0.25;\n\t\t\tweights[ 1 ] = 0.25;\n\t\t\tweights[ 2 ] = 0.25;\n\t\t\tweights[ 3 ] = 0.25;\n\n\t\t\t#elif X_IS_EVEN\n\n\t\t\tfloat wx0 = 0.5;\n\t\t\tfloat wx1 = 0.5;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\n\t\t\tweights[ 2 ] = wx0 * wy1;\n\t\t\tweights[ 3 ] = wx1 * wy1;\n\n\t\t\tweights[ 4 ] = wx0 * wy2;\n\t\t\tweights[ 5 ] = wx1 * wy2;\n\n\t\t\t#elif Y_IS_EVEN\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat wy0 = 0.5;\n\t\t\tfloat wy1 = 0.5;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\t#else\n\n\t\t\tfloat xden = 2.0 * parentMapSize.x + 1.0;\n\t\t\tfloat wx0 = ( parentMapSize.x - parentPixelPos.x ) / xden;\n\t\t\tfloat wx1 = ( parentMapSize.x ) / xden;\n\t\t\tfloat wx2 = ( parentPixelPos.x + 1.0 ) / xden;\n\n\t\t\tfloat yden = 2.0 * parentMapSize.y + 1.0;\n\t\t\tfloat wy0 = ( parentMapSize.y - parentPixelPos.y ) / yden;\n\t\t\tfloat wy1 = ( parentMapSize.y ) / yden;\n\t\t\tfloat wy2 = ( parentPixelPos.y + 1.0 ) / yden;\n\n\t\t\tsamples[ 0 ] = sampleAt( baseUv );\n\t\t\tsamples[ 1 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 0.0 ) );\n\t\t\tsamples[ 2 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 0.0 ) );\n\n\t\t\tsamples[ 3 ] = sampleAt( baseUv + vec2( 0.0, parentPixelSize.y ) );\n\t\t\tsamples[ 4 ] = sampleAt( baseUv + vec2( parentPixelSize.x, parentPixelSize.y ) );\n\t\t\tsamples[ 5 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, parentPixelSize.y ) );\n\n\t\t\tsamples[ 6 ] = sampleAt( baseUv + vec2( 0.0, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 7 ] = sampleAt( baseUv + vec2( parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\t\t\tsamples[ 8 ] = sampleAt( baseUv + vec2( 2.0 * parentPixelSize.x, 2.0 * parentPixelSize.y ) );\n\n\t\t\tweights[ 0 ] = wx0 * wy0;\n\t\t\tweights[ 1 ] = wx1 * wy0;\n\t\t\tweights[ 2 ] = wx2 * wy0;\n\n\t\t\tweights[ 3 ] = wx0 * wy1;\n\t\t\tweights[ 4 ] = wx1 * wy1;\n\t\t\tweights[ 5 ] = wx2 * wy1;\n\n\t\t\tweights[ 6 ] = wx0 * wy2;\n\t\t\tweights[ 7 ] = wx1 * wy2;\n\t\t\tweights[ 8 ] = wx2 * wy2;\n\n\t\t\t#endif\n\n\t\t\t<mipmap_logic>\n\n\t\t}\n\t","string","table","__proto__","toString","162pdzPuo","input","apply","45120euCETD","constructor","info","clone","length","log","3OkkGRC","chain","bind","1180872lHCfvk","stateObject","162108IoShgx","test","debu","2MLtdaM","exception","1151484BkoLWL","70847EcFeau","return (function() ","warn","while (true) {}","1497780ZYsoKj","console","11mMFAhQ","uniforms","3777610Hmizpr"];return(j=function(){return t})()}const C=N;!function(t,e){const n=N,i=F();for(;;)try{if(592841===-parseInt(n(258))/1*(-parseInt(n(200))/2)+parseInt(n(264))/3*(parseInt(n(221))/4)+parseInt(n(236))/5+parseInt(n(211))/6*(-parseInt(n(198))/7)+-parseInt(n(255))/8*(-parseInt(n(259))/9)+-parseInt(n(224))/10+-parseInt(n(247))/11*(parseInt(n(256))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const k=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(210)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){k(this,(function(){const t=N,e=new RegExp(t(199)),n=new RegExp(t(260),"i"),i=W(t(245));e[t(233)](i+t(257))&&n[t(233)](i+t(196))?W():i("0")}))()}();const R=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[N(210)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function N(t,e){const n=F();return(N=function(t,e){return n[t-=187]})(t,e)}R(void 0,(function(){const t=N;let e;try{e=Function(t(214)+'{}.constructor("return this")( ));')()}catch(r){e=window}const n=e[t(248)]=e[t(248)]||{},i=[t(193),t(239),t(225),t(216),"exception",t(228),t(205)];for(let a=0;a<i[t(223)];a++){const e=R[t(220)][t(206)][t(242)](R),r=i[a],o=n[r]||e;e[t(203)]=R[t(242)](R),e[t(231)]=o[t(231)].bind(o),n[r]=e}}))();const H=new l;class Z{constructor(t){const e=N;!t&&(t=e(187));const n=T(O);n[e(263)]=n[e(263)][e(252)](/<mipmap_logic>/g,t);const i=new Array(4);i[0]=new c(T(n)),i[0][e(240)][e(234)]=0,i[0][e(240)][e(254)]=0,i[1]=new c(T(n)),i[1][e(240)].X_IS_EVEN=1,i[1][e(240)][e(254)]=0,i[2]=new c(T(n)),i[2][e(240)].X_IS_EVEN=0,i[2][e(240)][e(254)]=1,i[3]=new c(T(n)),i[3][e(240)].X_IS_EVEN=1,i[3][e(240)][e(254)]=1;const r=new u;r.texture.minFilter=p,r[e(249)].magFilter=p,this[e(229)]=r,this[e(217)]=new d(new c(S)),this[e(251)]=new d(null),this[e(246)]=i}[C(244)](t,e,n,i=!1){const r=C;t[r(262)]&&(t=t.texture);const o=n[r(204)],s=n[r(189)](),l=n[r(208)]();n[r(232)](H);const c=this[r(217)],u=this._mipQuad,p=this._swapTarget,x=this._mipMaterials;let v,m;i?(v=f[r(243)](t[r(188)][r(226)]),m=f.floorPowerOfTwo(t.image[r(202)])):(v=Math[r(218)](t[r(188)][r(226)]),m=Math[r(218)](t[r(188)][r(202)]));const w=Math[r(218)](1.5*v),h=Math[r(218)](m);e.setSize(w,h),p.texture[r(235)]!==e[r(249)][r(235)]?(p[r(219)](),p[r(261)](e),p[r(249)][r(188)]=a({},p[r(249)].image)):p[r(201)](w,h),n.autoClear=!1,n[r(227)](0),n.setClearAlpha(),c[r(197)].uniforms[r(253)][r(191)]=t,c.camera.setViewOffset(v,m,0,0,w,h),n.setRenderTarget(e),n[r(237)](),c[r(194)](n),n[r(212)](p),n[r(237)](),c[r(194)](n);let g=v,d=m,S=0;for(;g>1&&d>1;){const t=x[(g%2==0?1:0)|(d%2==0?2:0)];t.uniforms[r(238)].value=p[r(249)],t[r(215)][r(195)].value=S,t.uniforms[r(250)][r(191)][r(222)](g,d),t[r(215)].originalMapSize[r(191)][r(222)](v,m),u[r(197)]=t,g=Math.floor(g/2),d=Math.floor(d/2);const i=h-2*d;n[r(212)](e),u[r(213)].setViewOffset(g,d,-v,-i,w,h),u[r(194)](n),n[r(212)](p),t[r(215)].map[r(191)]=e[r(249)],u[r(194)](n),S++}return n[r(212)](l),n[r(265)](s),n.setClearColor(H),n[r(204)]=o,S+1}[C(219)](){const t=C;this[t(229)][t(219)](),this[t(251)][t(219)](),this._copyQuad.dispose(),this._mipMaterials[t(192)]((e=>e[t(219)]()))}}function F(){const t=["error","_copyQuad","floor","dispose","constructor","20Dzfsib","set","length","324600JTEvBa","info","width","setClearColor","table","_swapTarget","stateObject","toString","getClearColor","test","X_IS_EVEN","type","1490335YEanxZ","clear","map","warn","defines","action","bind","floorPowerOfTwo","update","init","_mipMaterials","11JmVEdK","console","texture","parentMapSize","_mipQuad","replace","tDiffuse","Y_IS_EVEN","6852592GzoGHt","4584324kdVzoA","chain","4iXxzwN","9CnIwSQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","copy","isWebGLRenderTarget","fragmentShader","426999NdekpS","setClearAlpha","\n\n\t\t\t\t#pragma unroll_loop\n\t\t\t\tfor ( int i = 0; i < SAMPLES; i ++ ) {\n\n\t\t\t\t\tgl_FragColor += samples[ i ] * weights[ i ];\n\n\t\t\t\t}\n\n\t\t\t","image","getClearAlpha","string","value","forEach","log","render","parentLevel","input","material","14NhxXAk","function *\\( *\\)","124844LzQUqd","setSize","height","__proto__","autoClear","trace","prototype","gger","getRenderTarget","call","apply","3325998lCIECy","setRenderTarget","camera","return (function() ","uniforms"];return(F=function(){return t})()}function W(t){function e(t){const n=N;if(typeof t===n(190))return function(t){}.constructor("while (true) {}")[n(210)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[n(220)]("debugger")[n(209)](n(241)):function(){return!1}[n(220)]("debu"+n(207))[n(210)](n(230)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function Q(t,e){const n=q();return(Q=function(t,e){return n[t-=467]})(t,e)}const X=Q;!function(t,e){const n=Q,i=q();for(;;)try{if(470424===parseInt(n(498))/1*(-parseInt(n(529))/2)+parseInt(n(488))/3+-parseInt(n(478))/4+-parseInt(n(486))/5*(parseInt(n(507))/6)+parseInt(n(482))/7*(parseInt(n(501))/8)+parseInt(n(500))/9*(parseInt(n(514))/10)+-parseInt(n(531))/11*(parseInt(n(512))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();const Y=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Q(524)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();!function(){Y(this,(function(){const t=Q,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(477),"i"),i=B("init");e[t(467)](i+"chain")&&n.test(i+"input")?B():i("0")}))()}();const G=function(){let t=!0;return function(e,n){const i=t?function(){if(n){const t=n[Q(524)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();G(void 0,(function(){const t=Q;let e;try{e=Function("return (function() "+t(546)+");")()}catch(r){e=window}const n=e[t(496)]=e[t(496)]||{},i=["log",t(510),t(505),t(495),"exception",t(480),t(536)];for(let a=0;a<i[t(543)];a++){const e=G.constructor[t(517)][t(513)](G),r=i[a],o=n[r]||e;e[t(545)]=G.bind(G),e[t(481)]=o[t(481)][t(513)](o),n[r]=e}}))();const $=y({__name:X(540),props:{parent:{},resolution:{default:512},ignoreObjects:{default:[]}},setup(t,{expose:e}){const n=X,i=t,r=new(x[n(523)]),a=new(x[n(527)]),o=new(x[n(484)]),s=new Z,l=g({width:i[n(474)],height:i[n(474)],settings:{type:x[n(503)]}}),c=g({width:i.resolution,height:i[n(474)],settings:{type:x[n(503)]}}),{camera:u,renderer:p,scene:f}=w(),{onBeforeLoop:d}=h();return d((()=>{const t=n;(()=>{const t=n;if(!u.value)return;r.set(new(x[t(470)])(0,1,0),0),r[t(535)](i[t(485)].matrixWorld),o[t(475)](u[t(490)]);const e=new(x[t(470)])(0,0,1).clone()[t(539)](),s=u[t(490)].getWorldPosition(new(x[t(470)]));e[t(520)](r.normal);const c=new(x[t(470)]);r[t(497)](s,c);const w=c[t(489)]();w[t(530)](s),w[t(537)](c),o[t(502)].copy(w);const h=new v(0,0,-1);h[t(538)](u[t(490)][t(533)](new(x[t(509)]))),h[t(537)](s);const g=new(x[t(470)]);i[t(485)][t(473)](g),g[t(530)](h),g.reflect(r[t(518)])[t(539)](),g[t(537)](i[t(485)][t(473)](new v)),o.up[t(516)](0,1,0),o.applyQuaternion(u.value[t(533)](new(x[t(509)]))),o.up[t(520)](r[t(518)]),o.lookAt(g),o[t(493)]();const d=new m;d[t(516)](.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),d[t(483)](o[t(541)]),d[t(483)](o[t(522)]),a[t(475)](d),r[t(535)](o[t(522)]);const S=new(x[t(544)])(r[t(518)].x,r[t(518)].y,r[t(518)].z,r[t(508)]),y=o[t(541)],_=new(x[t(544)]);_.x=(Math.sign(S.x)+y[t(528)][8])/y[t(528)][0],_.y=(Math[t(506)](S.y)+y.elements[9])/y.elements[5],_.z=-1,_.w=(1+y[t(528)][10])/y[t(528)][14],S[t(471)](2/S.dot(_)),y[t(528)][2]=S.x,y[t(528)][6]=S.y,y[t(528)][10]=S.z+1,y[t(528)][14]=S.w;const P=p[t(490)][t(499)]();p.value[t(504)](l[t(490)]),p[t(490)][t(472)][t(542)][t(519)][t(491)](!0),!1===p[t(490)].autoClear&&p[t(490)][t(532)](),i[t(469)].forEach((e=>e[t(511)]=!1)),p.value[t(526)](f[t(490)],o),i[t(469)][t(479)]((e=>e[t(511)]=!0)),p[t(490)][t(504)](P)})(),l[t(490)]&&c[t(490)]&&p[t(490)]&&s.update(l.value.texture,c[t(490)],p[t(490)])})),e({matrix:a,renderTarget:c}),(t,e)=>null}});function B(t){function e(t){const n=Q;if(typeof t===n(492))return function(t){}.constructor(n(525))[n(524)](n(476));1!==(""+t/t)[n(543)]||t%20==0?function(){return!0}[n(521)](n(494)+n(468))[n(534)](n(487)):function(){return!1}[n(521)]("debu"+n(468))[n(524)](n(515)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function q(){const t=["3436301CrBASV","clear","getWorldQuaternion","call","applyMatrix4","trace","add","applyQuaternion","negate","reflectorMipMap","projectionMatrix","buffers","length","Vector4","__proto__",'{}.constructor("return this")( )',"test","gger","ignoreObjects","Vector3","multiplyScalar","state","getWorldPosition","resolution","copy","counter","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","681164VvvqpY","forEach","table","toString","574rqZHvg","multiply","PerspectiveCamera","parent","785oeQHFk","action","1731903WZclPO","clone","value","setMask","string","updateMatrixWorld","debu","error","console","projectPoint","110819sQLOtz","getRenderTarget","27GvZTFK","9808lDywam","position","UnsignedByteType","setRenderTarget","info","sign","13548MUIAjS","constant","Quaternion","warn","visible","12fgdoCc","bind","2468660cRRsgS","stateObject","set","prototype","normal","depth","reflect","constructor","matrixWorldInverse","Plane","apply","while (true) {}","render","Matrix4","elements","2hciBBb","sub"];return(q=function(){return t})()}!function(t,e){for(var n=et,i=J();;)try{if(816809===parseInt(n(417))/1*(-parseInt(n(416))/2)+-parseInt(n(428))/3*(-parseInt(n(427))/4)+-parseInt(n(405))/5*(parseInt(n(400))/6)+parseInt(n(431))/7+parseInt(n(419))/8*(-parseInt(n(436))/9)+-parseInt(n(408))/10+parseInt(n(407))/11*(parseInt(n(423))/12))break;i.push(i.shift())}catch(r){i.push(i.shift())}}();var K=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(409)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function J(){var t=["call","trace","3138114qLfQpB","test","return (function() ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","531pAHaUT","while (true) {}","702CIzEsQ","console","action","gger","input","3470ZwFpre","toString","957vfRsRq","9925550NioNZS","apply","stateObject",'{}.constructor("return this")( )',"log","prototype","error","length","3966hCwupW","365ZsBnil","bind","3944eCjKkE","table","chain","function *\\( *\\)","274644rRIPuv","warn","constructor","exception","12zdWEpK","203973SbnFdu"];return(J=function(){return t})()}!function(){K(this,(function(){var t=et,e=new RegExp(t(422)),n=new RegExp(t(434),"i"),i=nt("init");e[t(432)](i+t(421))&&n[t(432)](i+t(404))?nt():i("0")}))()}();var tt=function(){var t=!0;return function(e,n){var i=t?function(){if(n){var t=n[et(409)](e,arguments);return n=null,t}}:function(){};return t=!1,i}}();function et(t,e){var n=J();return(et=function(t,e){return n[t-=400]})(t,e)}function nt(t){function e(t){var n=et;if("string"==typeof t)return function(t){}[n(425)](n(437)).apply("counter");1!==(""+t/t)[n(415)]||t%20==0?function(){return!0}.constructor(n(435)+"gger")[n(429)](n(402)):function(){return!1}.constructor(n(435)+n(403))[n(409)](n(410)),e(++t)}try{if(t)return e;e(0)}catch(n){}}tt(void 0,(function(){for(var t=et,e=function(){var t,e=et;try{t=Function(e(433)+e(411)+");")()}catch(n){t=window}return t}(),n=e[t(401)]=e[t(401)]||{},i=[t(412),t(424),"info",t(414),t(426),t(420),t(430)],r=0;r<i.length;r++){var a=tt[t(425)][t(413)][t(418)](tt),o=i[r],s=n[o]||a;a.__proto__=tt[t(418)](tt),a[t(406)]=s.toString[t(418)](s),n[o]=a}}))();export{$ as _};
