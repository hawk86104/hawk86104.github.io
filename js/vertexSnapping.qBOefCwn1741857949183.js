import{aK as t,ai as n}from"./three.Gi_-4zeu1741857949183.js";import{D as o,o as e,f as i}from"./@tresjs.8SAr0PX_1741857949183.js";import{a as r,b as s}from"./index.f40bqtgT1741857949183.js";import{P as u}from"./tweakpane.yDiyAAkA1741857949183.js";import{d as c,$ as a,w as p,o as l,H as f,a3 as m,u as g,r as d,f as h,g as v,N as I,j as S,al as y,m as b}from"./@vue.NRI7TcgI1741857949183.js";import"./postprocessing.D5IzAGSN1741857949183.js";import"./@vueuse.PrSwDteH1741857949183.js";import"./three-stdlib._1jCUDZZ1741857949183.js";import"./@pmndrs.3fVcA4nP1741857949183.js";import"./object-hash.LyZoNZuC1741857949183.js";import"./@amap.QByc7Q7q1741857949183.js";import"./jszip.v_at1HP11741857949183.js";const x=R;function R(t,n){const o=w();return(R=function(t,n){return o[t-=409]})(t,n)}!function(t,n){const o=R,e=w();for(;;)try{if(246288===-parseInt(o(416))/1*(parseInt(o(451))/2)+-parseInt(o(450))/3+parseInt(o(418))/4+-parseInt(o(444))/5+-parseInt(o(409))/6+-parseInt(o(431))/7*(-parseInt(o(447))/8)+parseInt(o(446))/9)break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const _=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[R(448)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){_(this,(function(){const t=R,n=new RegExp(t(433)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=A(t(422));n.test(e+t(438))&&o.test(e+"input")?A():e("0")}))()}();const P=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[R(448)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function w(){const t=["string","object","uSnappingResolution","trace","return (function() ","__proto__","toString","578291GDJIIU","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","function *\\( *\\)","#include <project_vertex>","stateObject","#include <common>","exception","chain","log","console","debu","replace","srcMaterial","349335AsuOeS","call","5580018VkMxfS","32RzeCnE","apply","length","1362747HtUTeW","103186GHNoCG","action","vertexShader","gger","1280280QGFRly","com","error","onBeforeCompile","table","bind","primitive","5vCHKXB",'{}.constructor("return this")( )',"1165180oaHvAY","prototype","while (true) {}","constructor","init","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t"];return(w=function(){return t})()}P(void 0,(function(){const t=R;let n;try{n=Function(t(428)+t(417)+");")()}catch(i){n=window}const o=n[t(440)]=n[t(440)]||{},e=[t(439),"warn","info",t(411),t(437),t(413),t(427)];for(let r=0;r<e.length;r++){const n=P[t(421)][t(419)][t(414)](P),i=e[r],s=o[i]||n;n[t(429)]=P[t(414)](P),n[t(430)]=s.toString[t(414)](s),o[i]=n}}))();const j=[x(425)],M=c({__name:x(410),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new t({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=x,o=t,e=a(o[n(426)]);return o[n(443)][n(412)]=t=>{const o=n;t.uniforms[o(426)]=e,t.vertexShader=t[o(453)][o(442)](o(436),o(432)),t[o(453)]=t[o(453)][o(442)](o(434),o(423))},p((()=>o[n(426)]),(t=>{e.value=t})),(t,o)=>{const e=n;return l(),f(e(415),{object:t.srcMaterial},null,8,j)}}});function A(t){function n(t){const o=R;if(typeof t===o(424))return function(t){}[o(421)](o(420))[o(448)]("counter");1!==(""+t/t)[o(449)]||t%20==0?function(){return!0}.constructor(o(441)+"gger")[o(445)](o(452)):function(){return!1}[o(421)](o(441)+o(454))[o(448)](o(435)),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=E,e=G();for(;;)try{if(380190===-parseInt(o(278))/1*(parseInt(o(282))/2)+parseInt(o(276))/3*(parseInt(o(257))/4)+-parseInt(o(294))/5*(parseInt(o(259))/6)+parseInt(o(281))/7+-parseInt(o(275))/8+parseInt(o(286))/9+-parseInt(o(284))/10*(-parseInt(o(292))/11))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const C=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[E(280)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){C(this,(function(){const t=E,n=new RegExp(t(271)),o=new RegExp(t(270),"i"),e=T(t(283));n.test(e+t(269))&&o[t(272)](e+"input")?T():e("0")}))()}();const z=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[E(280)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function E(t,n){const o=G();return(E=function(t,n){return o[t-=257]})(t,n)}function G(){const t=["constructor","debu","action","uniforms","length","while (true) {}","\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t","chain","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","test","trace","bind","5426872jpFWur","15dMcDAQ","uSnappingResolution","4FOMzeA","exception","apply","2030427lZoLWx","134604zybCqR","init","14300uqUFwI","error","4571991JonJTa","call","onBeforeCompile","vertexShader","warn","console","5830jonKaI",'{}.constructor("return this")( )',"5CMuyFA","return (function() ","replace","log","46140KutHAR","counter","1715268TyCUtd","prototype","toString"];return(G=function(){return t})()}function T(t){function n(t){const o=E;if("string"==typeof t)return function(t){}[o(262)](o(267)).apply(o(258));1!==(""+t/t)[o(266)]||t%20==0?function(){return!0}[o(262)](o(263)+"gger")[o(287)](o(264)):function(){return!1}.constructor("debugger").apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}z(void 0,(function(){const t=E,n=function(){const t=E;let n;try{n=Function(t(295)+t(293)+");")()}catch(o){n=window}return n}(),o=n[t(291)]=n[t(291)]||{},e=[t(297),t(290),"info",t(285),t(279),"table",t(273)];for(let i=0;i<e[t(266)];i++){const n=z[t(262)][t(260)][t(274)](z),r=e[i],s=o[r]||n;n.__proto__=z[t(274)](z),n[t(261)]=s[t(261)].bind(s),o[r]=n}}))();const k=Z;!function(t,n){const o=Z,e=F();for(;;)try{if(366481===-parseInt(o(324))/1*(parseInt(o(303))/2)+-parseInt(o(336))/3+-parseInt(o(308))/4+-parseInt(o(330))/5*(parseInt(o(347))/6)+parseInt(o(327))/7*(-parseInt(o(335))/8)+parseInt(o(340))/9*(-parseInt(o(329))/10)+-parseInt(o(306))/11*(-parseInt(o(337))/12))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const B=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o[Z(309)](n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function F(){const t=["30ocKUnB","test","stateObject","22vYChLS","prototype","2747012YSgFtH","apply","push","toString","error","values","counter","gger","constructor","__proto__","call","forEach","input","./draco/","chain","primitive","43916VARLMH","uSnappingResolution","string","7jcyNxH","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb","20qkbqkJ","5YSXlDK","return (function() ","value","while (true) {}","debu","531976LTIfSG","2015754GAyGBv","16676124OXEGkh","function *\\( *\\)","console","1186722URxGkk","length","init","table","bind","trace",'{}.constructor("return this")( )',"391494gIlCsd","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","log","model"];return(F=function(){return t})()}!function(){B(this,(function(){const t=Z,n=new RegExp(t(338)),o=new RegExp(t(348),"i"),e=D(t(342));n[t(304)](e+t(322))&&o[t(304)](e+t(320))?D():e("0")}))()}();const H=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();H(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function(t(331)+t(346)+");")()}catch(o){n=window}return n}(),o=n[t(339)]=n[t(339)]||{},e=[t(349),"warn","info",t(312),"exception",t(343),t(345)];for(let i=0;i<e[t(341)];i++){const n=H[t(316)][t(307)][t(344)](H),r=e[i],s=o[r]||n;n[t(317)]=H.bind(H),n.toString=s[t(311)][t(344)](s),o[r]=n}}))();const N=["object"],U=c({__name:k(350),props:{uSnappingResolution:{default:6}},async setup(t){const n=k;let e,i;const r=t,{scene:s,materials:u}=([e,i]=m((()=>o(n(328),{draco:!0,decoderPath:n(321)}))),e=await e,i(),e),c=[];return Object[n(313)](u)[n(319)]((t=>{const o=n;c[o(310)](function(t,n=6){const o=E,e={value:n};return t[o(288)]=t=>{const n=o;t[n(265)][n(277)]=e,t[n(289)]=t[n(289)].replace("#include <common>",n(268)),t.vertexShader=t.vertexShader[n(296)]("#include <project_vertex>","\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t")},e}(t,r[o(325)]))})),p((()=>r[n(325)]),(t=>{c.forEach((n=>{n[Z(332)]=t}))})),(t,o)=>{const e=n;return l(),f(e(323),{object:g(s),scale:5,position:[0,-2,0]},null,8,N)}}});function Z(t,n){const o=F();return(Z=function(t,n){return o[t-=303]})(t,n)}function D(t){function n(t){const o=Z;if(typeof t===o(326))return function(t){}.constructor(o(333))[o(309)](o(314));1!==(""+t/t)[o(341)]||t%20==0?function(){return!0}[o(316)](o(334)+o(315))[o(318)]("action"):function(){return!1}.constructor(o(334)+"gger")[o(309)](o(305)),n(++t)}try{if(t)return n;n(0)}catch(o){}}const L=X;!function(t,n){const o=X,e=K();for(;;)try{if(125807===-parseInt(o(254))/1*(parseInt(o(284))/2)+parseInt(o(246))/3*(parseInt(o(285))/4)+parseInt(o(273))/5+-parseInt(o(242))/6*(parseInt(o(288))/7)+parseInt(o(286))/8*(-parseInt(o(264))/9)+-parseInt(o(281))/10*(-parseInt(o(270))/11)+-parseInt(o(276))/12*(-parseInt(o(250))/13))break;e.push(e.shift())}catch(i){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();!function(){$(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(241),"i"),e=Q(t(280));n[t(253)](e+t(268))&&o[t(253)](e+t(256))?Q():e("0")}))()}();const O=function(){let t=!0;return function(n,o){const e=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,e}}();function K(){const t=["TresTorusKnotGeometry","uSnappingResolution","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","904620EOayiS","gger","TresDirectionalLight","while (true) {}","6AhuGrX","debu","stateObject","trace","694109ZwiZps","TresPerspectiveCamera","TresMeshStandardMaterial","test","73844pxuhzR","toString","input","table","自行车模型-分辨率","TresAmbientLight","rotation-x","length","TresCylinderGeometry","error","153702QDSLfD","constructor","modelSnappingResolution","prototype","chain","exception","17193jafCPL","rotation-y","log","980975DrFBTb","counter","console","24sMjfBs","torus","bind","圆环扭结-分辨率","init","620LHgeyr",'{}.constructor("return this")( )',"TresMesh","2FUDPGl","242628eXnBBL","80DxNnfQ","apply","7FdWHCV","addBinding"];return(K=function(){return t})()}O(void 0,(function(){const t=X;let n;try{n=Function("return (function() "+t(282)+");")()}catch(i){n=window}const o=n[t(275)]=n[t(275)]||{},e=[t(272),"warn","info",t(263),t(269),t(257),t(249)];for(let r=0;r<e[t(261)];r++){const n=O[t(265)][t(267)][t(278)](O),i=e[r],s=o[i]||n;n.__proto__=O[t(278)](O),n.toString=s[t(255)].bind(s),o[i]=n}}))();const q={position:[5,.9,-5],name:L(277)};function X(t,n){const o=K();return(X=function(t,n){return o[t-=240]})(t,n)}const J=c({__name:"vertexSnapping",setup(t){const o=L,c=d({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=d({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(289)](a,o(240),{label:o(279),min:0,max:20,step:.01}),p[o(289)](a,o(266),{label:o(258),min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),h(g(i),b(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(251),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(g(e)),n[2]||(n[2]=I(u(259),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(244),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(283),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:"cube"},[I(u(262),{args:[1.5,1.5,2]}),I(u(252),{color:16737826,roughness:0,metalness:0})],-1)),I(u(283),q,[n[0]||(n[0]=I(u(290),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a.uSnappingResolution},null,8,["uSnappingResolution"])]),(l(),h(y,null,{default:v((()=>[S(U,{uSnappingResolution:a[u(266)]},null,8,[u(240)])])),_:1})),(l(),h(y,null,{default:v((()=>[S(g(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(260)]),S(g(s),{intensity:2,form:"circle","rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(260)]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(271)]),S(g(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(271)])])),_:1})])),_:1}))])),_:1},16)}}});function Q(t){function n(t){const o=X;if("string"==typeof t)return function(t){}.constructor(o(245))[o(287)](o(274));1!==(""+t/t)[o(261)]||t%20==0?function(){return!0}[o(265)](o(247)+o(243)).call("action"):function(){return!1}[o(265)]("debugger")[o(287)](o(248)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{J as default};
