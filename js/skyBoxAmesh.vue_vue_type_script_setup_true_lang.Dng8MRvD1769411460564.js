import{importShared as t}from"./3d-tiles-renderer.HXNTGnH81769411460564.js";import{useTexture as e}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.CHEF56Mi1769411460564.js";import"./index.vue_vue_type_script_setup_true_lang.cA6vkjqK1769411460564.js";const{withAsyncContext:r,defineComponent:a}=await t("vue"),{createElementVNode:i,normalizeProps:n,guardReactiveProps:o,openBlock:s,createElementBlock:l}=await t("vue"),p=["args"],u=await t("three"),v=a({__name:"skyBoxAmesh",props:{texture:{},size:{default:1e3}},async setup(t){let a,v;const m=t,c=([a,v]=r(()=>e(m.texture)),a=await a,v(),a);c.wrapS=c.wrapT=u.ClampToEdgeWrapping,c.generateMipmaps=!1,c.magFilter=u.LinearFilter,c.minFilter=u.LinearFilter;const d={uniforms:{uSkybox:{type:"t",value:c}},side:u.BackSide,vertexShader:"\n\t\tvarying vec3 vFragPos;\n\n\t\tvoid main() {\n\t\t\t\tvFragPos = position.xyz;\n\t\t\t\tvec4 viewSpace = vec4(mat3(modelViewMatrix) * position, 0.0);\n\t\t\t\tviewSpace.w = 1.0;\n\t\t\t\tgl_Position = projectionMatrix * viewSpace;    \n\t\t}",fragmentShader:"\n\t\tuniform sampler2D uSkybox;\n\t\tvarying vec3 vFragPos;\n\t\tconst float PI = 3.14159265359;\n\t\tvoid main() {\n\t\t\t\tvec3 dir = normalize(vFragPos);\n\t\t\t\tfloat v = (asin(dir.y) + PI * 0.5) / (PI); \n\t\t\t\tfloat u = (atan(dir.x, dir.z) + PI) / (PI * 2.0);\n\t\t\t\tgl_FragColor = texture2D(uSkybox, vec2(u, v));\n\t\t}",depthWrite:!1};return(t,e)=>(s(),l("TresMesh",null,[i("TresBoxGeometry",{args:[m.size,m.size,m.size]},null,8,p),i("TresShaderMaterial",n(o(d)),null,16)]))}});export{v as _sfc_main};
