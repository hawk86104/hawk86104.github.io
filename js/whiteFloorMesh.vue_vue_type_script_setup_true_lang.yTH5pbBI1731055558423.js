import{bI as t,_ as n,C as o}from"./three.3b9CEYeV1731055558423.js";import{b as r}from"./@tresjs.KsuCtVXf1731055558423.js";import{d as e,b as a,a6 as c,w as s,o as i,D as u,J as f,aj as l,ak as p}from"./@vue.u2cBPEWn1731055558423.js";function g(t,n){const o=h();return(g=function(t,n){return o[t-=255]})(t,n)}function h(){const t=["string","bsdfs","error","860424IAFOBJ","gger","counter","warn","\n          ","length","bind","chain","worldpos_vertex","packing","\n       void main() {\n\t\t\t\t\t","12MuWaNz","call","\n       varying vec2 vUv;\n\t\t\t \t","4634exCvuO","trace","\n\t ","info","beginnormal_vertex","constructor","ShaderChunk","prototype","\n      \t","lights_pars_begin","apply","toString","input","1671zMOCbt","2522QgPMtd","8502gAlCOi","18WUlNLF","shadowmap_pars_fragment","6356BBkHuy","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","project_vertex","9418299xvgvLy","4312860yCeGPm","common","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","174KfAvPo","2136060nKOTOc","function *\\( *\\)","debu","test","while (true) {}","log","init"];return(h=function(){return t})()}!function(t,n){const o=g,r=h();for(;;)try{if(485212===-parseInt(o(304))/1*(-parseInt(o(265))/2)+-parseInt(o(303))/3*(parseInt(o(257))/4)+-parseInt(o(266))/5+-parseInt(o(305))/6*(-parseInt(o(290))/7)+parseInt(o(276))/8*(parseInt(o(255))/9)+-parseInt(o(261))/10+-parseInt(o(260))/11*(-parseInt(o(287))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(300)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){d(this,(function(){const t=g,n=new RegExp(t(267)),o=new RegExp(t(263),"i"),r=_(t(272));n[t(269)](r+t(283))&&o.test(r+t(302))?_():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[g(300)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();m(void 0,(function(){const t=g;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(e){n=window}const o=n.console=n[t(264)]||{},r=[t(271),t(279),t(293),t(275),"exception","table",t(291)];for(let a=0;a<r[t(281)];a++){const n=m[t(295)][t(297)][t(282)](m),e=r[a],c=o[e]||n;n.__proto__=m.bind(m),n[t(301)]=c[t(301)][t(282)](c),o[e]=n}}))();const v=()=>{const o=g;return o(289)+t[o(262)]+o(298)+n[o(296)].bsdfs+o(298)+t.shadowmap_pars_vertex+o(286)+n[o(296)][o(294)]+o(280)+n[o(296)].defaultnormal_vertex+o(280)+n[o(296)].begin_vertex+"\n          "+t[o(259)]+"\n          "+n[o(296)][o(284)]+o(280)+n[o(296)].shadowmap_vertex+"\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }"},w=()=>{const o=g;return o(258)+n[o(296)][o(262)]+o(292)+t[o(285)]+o(292)+t[o(274)]+o(292)+t[o(299)]+o(292)+t[o(256)]+o(292)+t.shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function _(t){function n(t){const o=g;if(typeof t===o(273))return function(t){}[o(295)](o(270))[o(300)](o(278));1!==(""+t/t)[o(281)]||t%20==0?function(){return!0}.constructor(o(268)+o(277))[o(288)]("action"):function(){return!1}[o(295)](o(268)+"gger")[o(300)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=C;!function(t,n){const o=C,r=M();for(;;)try{if(385604===-parseInt(o(423))/1+parseInt(o(438))/2*(-parseInt(o(428))/3)+-parseInt(o(395))/4+-parseInt(o(432))/5+parseInt(o(390))/6+-parseInt(o(394))/7+parseInt(o(403))/8)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const x=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(399)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){x(this,(function(){const t=C,n=new RegExp(t(429)),o=new RegExp(t(452),"i"),r=U(t(435));n[t(431)](r+t(443))&&o[t(431)](r+t(410))?U():r("0")}))()}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(399)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();I(void 0,(function(){const t=C;let n;try{n=Function(t(415)+t(445)+");")()}catch(e){n=window}const o=n[t(434)]=n[t(434)]||{},r=[t(404),t(411),t(422),t(427),t(446),t(401),t(414)];for(let a=0;a<r.length;a++){const n=I[t(392)].prototype[t(436)](I),e=r[a],c=o[e]||n;n[t(440)]=I.bind(I),n.toString=c[t(400)].bind(c),o[e]=n}}))();const y=[b(449)],S=["args"];function C(t,n){const o=M();return(C=function(t,n){return o[t-=390]})(t,n)}function M(){const t=["uniforms","1384782IoocUc","1890452wlHUnT","TresMesh","action","debu","apply","toString","table","#990","15705912QJeaiM","log","value","UniformsLib","DoubleSide","shadowColor","RepeatWrapping","input","warn","stateObject","length","trace","return (function() ","while (true) {}","uColor","color","tmRef","string","#999","info","154439AzHumV","merge","edge","wrapT","error","9ZpRISw","function *\\( *\\)","TresPlaneGeometry","test","2461035xyLbEv","wrapS","console","init","bind","whiteFloorMesh","503058giRZSt","call","__proto__","counter","lights","chain","gger",'{}.constructor("return this")( )',"exception","size","Color","rotation-x","fEdge","TresShaderMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2964222lcSYah","UniformsUtils","constructor"];return(M=function(){return t})()}const T=e({__name:b(437),props:{size:{default:[20,20]},color:{default:b(402)},shadowColor:{default:b(421)},edge:{default:.35}},async setup(t){const e=b;let g,h;const d=t,m=a(),{map:_}=([g,h]=c((()=>r({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,h(),g);_[e(433)]=_[e(426)]=n[e(409)];const x={uniforms:n[e(391)][e(424)]([n[e(406)][e(442)],{uTexture:{type:"t",value:_},uColor:{value:new(n[e(448)])(d.color)},uShadowColor:{value:new o(d[e(408)])},fEdge:{type:"f",value:d[e(425)]}}]),side:n[e(407)],vertexShader:v(),fragmentShader:w(),lights:!0,transparent:!0};return s((()=>d.edge),(t=>{const n=e;x[n(393)][n(450)][n(405)]=t})),s((()=>d[e(418)]),(t=>{const o=e;x[o(393)][o(417)][o(405)]=new(n[o(448)])(d[o(418)])})),s((()=>d[e(408)]),(t=>{const n=e;x[n(393)].uShadowColor[n(405)]=new o(d[n(408)])})),(t,n)=>{const o=e;return i(),u(o(396),{ref_key:o(419),ref:m,"rotation-x":-Math.PI/2},[f(o(430),{args:d[o(447)]},null,8,S),f(o(451),l(p(x)),null,16)],8,y)}}});function U(t){function n(t){const o=C;if(typeof t===o(420))return function(t){}[o(392)](o(416)).apply(o(441));1!==(""+t/t)[o(413)]||t%20==0?function(){return!0}.constructor(o(398)+"gger")[o(439)](o(397)):function(){return!1}.constructor(o(398)+o(444))[o(399)](o(412)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
