import{m as e,e as s,o as r}from"./@tresjs.zc7faK4J1743660816268.js";import{T as t}from"./3d-tiles-renderer.q7XoUeGc1743660816268.js";import{d as a,a2 as o,o as i,H as n,N as l,u,r as p,v as c,e as m,f as d,g,m as v,j as h,aj as j,ak as f}from"./@vue.B5PFBfKs1743660816268.js";import{h as T,e as w}from"./three.2wx8FU0g1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";const y=["object"],S=a({__name:"tilesMesh",setup(r){const a=new t("https://opensource.cdn.icegl.cn/3Dtiles/simpleGIS/data/tileset.json");a.errorTarget=0;a.addEventListener("load-model",(({scene:e})=>{e.traverse((e=>{e.isMesh&&(e.material.side=2,e.receiveShadow=!1,e.castShadow=!1)}));const s=new T,r=new w;a.getBoundingBox(s)?(s.getCenter(a.group.position),a.group.position.multiplyScalar(-1)):a.getBoundingSphere(r)&&(a.group.position.copy(r.center),a.group.position.multiplyScalar(-1))}));const{camera:p,renderer:c,sizes:m}=e();o((()=>{m.width.value&&(a.setCamera(p.value),a.setResolutionFromRenderer(p.value,c.value))}));const{onBeforeLoop:d}=s();return d((()=>{p.value&&m.width.value&&(p.value.updateMatrixWorld(),a.update())})),(e,s)=>(i(),n("TresGroup",null,[l("primitive",{object:u(a).group},null,8,y)]))}}),L=a({__name:"renderer3DTiles",setup(e){const t=p({clearColor:"#201919"}),a=p({enableDamping:!0,dampingFactor:.05}),{onLoop:n}=s();n((()=>{}));const T=c();return o((()=>{T.value&&T.value.position.set(1,2,3).multiplyScalar(40)})),(e,s)=>{const o=m("TresCanvas");return i(),d(o,v(t,{"window-size":""}),{default:g((()=>[s[0]||(s[0]=l("TresPerspectiveCamera",{position:[400,400,400],fov:60,near:.1,far:4e3},null,-1)),h(u(r),j(f(a)),null,16),s[1]||(s[1]=l("TresAmbientLight",{intensity:.5},null,-1)),l("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:T,position:[1,2,3],intensity:1.25},null,512),h(S),s[2]||(s[2]=l("TresAxesHelper",{args:[100]},null,-1))])),_:1},16)}}});export{L as default};
