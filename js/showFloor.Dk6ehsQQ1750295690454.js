import{m as e,k as o,a}from"./@tresjs.wZhcVcHe1750295690454.js";import{R as r,a as s}from"./all.three.BRMwpYjl1750295690454.js";import{cb as t,M as i,a as n,C as l,l as m}from"./three.BCtXTlZY1750295690454.js";import{d as p,a3 as c,G as f,o as u,u as d,h as M,e as h,f as g,I as w,j,am as x}from"./@vue.Mugdq9o81750295690454.js";import"./postprocessing.B3dpkXpp1750295690454.js";import"./@vueuse.8goBbrUr1750295690454.js";import"./oimophysics.BBtHVm4j1750295690454.js";const b=["rotation-x","position","object"],y=p({__name:"sciFiModular",props:{position:{default:[0,-1,0]}},async setup(a){let p,M;const h=a,{scene:g}=e(),{nodes:w}=([p,M]=c((()=>o("https://opensource.cdn.icegl.cn/model/floor/modelDraco.glb",{draco:!0,decoderPath:"./draco/"}))),p=await p,M(),p),j=w.Cube016__0;console.log(j);const x=j.geometry,y=t([x.clone(),x.clone().applyMatrix4((new i).makeRotationZ(-Math.PI/2)),x.clone().applyMatrix4((new i).makeRotationZ(Math.PI/2)),x.clone().applyMatrix4((new i).makeRotationZ(-Math.PI))]),T=new r,v=new s({reflectivity:6,mirror:.1,mixStrength:3,color:new l("#fff"),map:j.material.map.clone(),normalMap:j.material.normalMap.clone(),normalScale:new n(1,1),fog:g.fog,dithering:!0});v.uniforms.tReflect=T.renderTargetUniform,v.uniforms.uMatrix=T.textureMatrixUniform;const _=new m(y,v);return _.add(T),_.onBeforeRender=(e,o,a)=>{_.visible=!1,T.update(e,o,a),_.visible=!0},(e,o)=>(u(),f("primitive",{"rotation-x":-Math.PI/2,position:h.position,object:d(_)},null,8,b))}}),T=p({__name:"showFloor",setup:e=>(e,o)=>{const r=M("TresCanvas");return u(),h(r,{clearColor:"#201919","window-size":""},{default:g((()=>[o[0]||(o[0]=w("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1)),j(d(a),{enableDamping:""}),o[1]||(o[1]=w("TresAmbientLight",{intensity:10},null,-1)),o[2]||(o[2]=w("TresMesh",{position:[3,2,0]},[w("TresBoxGeometry",{args:[2,2,2]}),w("TresMeshNormalMaterial",{wireframe:!0})],-1)),o[3]||(o[3]=w("TresMesh",{position:[0,1.2,0]},[w("TresBoxGeometry",{args:[1,1,1]}),w("TresMeshNormalMaterial")],-1)),(u(),h(x,null,{default:g((()=>[j(y,{position:[0,0,0]})])),_:1}))])),_:1})}});export{T as default};
