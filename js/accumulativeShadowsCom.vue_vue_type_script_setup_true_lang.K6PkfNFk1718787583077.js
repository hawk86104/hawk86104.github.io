import{V as t,a5 as n,h as e}from"./three.OZpCYxlY1718787583077.js";import{a}from"./@tresjs.yMGhEK7G1718787583077.js";import{d as o,P as r}from"./@pmndrs.14-i3u7y1718787583077.js";import{d as s,b as i,w as c,a2 as u,o as l,D as p,J as d,aj as f,ak as h}from"./@vue.CpOXM7bB1718787583077.js";function m(t,n){const e=z();return(m=function(t,n){return e[t-=286]})(t,n)}const w=m;!function(t,n){const e=m,a=z();for(;;)try{if(583132===-parseInt(e(286))/1*(parseInt(e(290))/2)+-parseInt(e(347))/3*(parseInt(e(358))/4)+-parseInt(e(353))/5+parseInt(e(360))/6+parseInt(e(365))/7+-parseInt(e(331))/8*(parseInt(e(326))/9)+parseInt(e(352))/10*(parseInt(e(369))/11))break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const g=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[m(313)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();!function(){g(this,(function(){const t=m,n=new RegExp(t(328)),e=new RegExp(t(322),"i"),a=S(t(288));n[t(325)](a+t(348))&&e[t(325)](a+"input")?S():a("0")}))()}();const b=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[m(313)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();b(void 0,(function(){const t=m;let n;try{n=Function(t(364)+t(362)+");")()}catch(o){n=window}const e=n[t(289)]=n[t(289)]||{},a=[t(312),t(298),t(310),"error",t(349),t(346),"trace"];for(let r=0;r<a[t(355)];r++){const n=b[t(351)][t(292)][t(361)](b),o=a[r],s=e[o]||n;n[t(341)]=b.bind(b),n[t(297)]=s[t(297)].bind(s),e[o]=n}}))();const M=[w(342)],y=d(w(350),{args:[1,1]},null,-1),I=s({__name:w(366),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:w(291)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const m=w,g=s;let b=i();const{extend:I,scene:z,renderer:S,camera:x}=a();I({SoftShadowMaterial:o});const P={position:(new t)[m(339)](g[m(344)].x,g[m(344)].y,g[m(344)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},v=new r(S.value,z[m(363)],P.mapSize),_={map:v[m(332)].texture,transparent:!0,depthWrite:!1,toneMapped:!0,blend:g[m(356)],alphaTest:g[m(316)],opacity:g.opacity,color:g[m(293)]},j=new(n[m(314)]);for(let t=0;t<P[m(302)];t++){const t=new(n[m(371)])(16777215,P[m(294)]/P[m(302)]);t[m(327)]=!0,t[m(305)][m(311)]=P.bias,t.shadow[m(318)][m(367)]=P[m(367)],t.shadow.camera.far=P[m(304)],t.shadow.camera[m(359)]=P.size/2,t.shadow[m(318)].left=-P.size/2,t[m(305)][m(318)][m(287)]=P.size/2,t.shadow[m(318)].bottom=-P.size/2,t[m(305)].mapSize[m(357)]=P[m(308)],t[m(305)][m(308)][m(337)]=P[m(308)],j[m(306)](t)}const k=()=>{const t=m,a=P.position.length();for(let o=0;o<j[t(370)][t(355)];o++){const r=j[t(370)][o];if(Math.random()>g[t(338)])r[t(354)].set(P.position.x+n[t(334)][t(368)](P[t(301)]),P[t(354)].y+e[t(368)](P.radius),P[t(354)].z+e.randFloatSpread(P[t(301)]));else{let n=Math[t(372)](2*Math.random()-1)-Math.PI/2,e=2*Math.PI*Math.random();r[t(354)].set(Math[t(324)](n)*Math[t(324)](e)*a,Math[t(319)](Math.cos(n)*Math.sin(e)*a),Math[t(345)](n)*a)}}},T=(t=1)=>{const n=m;z[n(363)][n(306)](j),v[n(299)]();for(let e=0;e<t;e++)k(),v.update(x[n(363)],g[n(317)]),console[n(312)](n(340),e);z[n(363)].remove(j),v[n(309)]()};c((()=>b[m(363)]),(t=>{const n=m;t&&(v[n(315)](t),v[n(343)](),console[n(312)](n(321)),T(g[n(323)]),console[n(312)]("shadows render end"))}));const D=()=>{const t=m;v.clear(),T(g[t(323)])};return u((()=>{const t=m;b[t(363)]&&(g[t(295)]&&(b[t(363)][t(330)].opacity=g.opacity),g[t(316)]&&(b.value[t(330)][t(316)]=g.alphaTest),g[t(293)]&&b[t(363)][t(330)][t(293)][t(339)](g[t(293)]),g[t(356)]&&(b[t(363)][t(330)][t(356)]=g[t(356)]))})),c((()=>g.lightPosition),(t=>{const n=m;t&&(console[n(312)](g.lightPosition),P[n(354)][n(339)](t.x,t.y,t.z),D())}),{deep:!0}),c((()=>[g[m(323)],g.blendWindow,g[m(338)]]),(()=>{D()})),(t,n)=>{const e=m;return l(),p(e(320),{"receive-shadow":"",ref_key:e(307),ref:b,scale:10,"rotate-x":-Math.PI/2},[y,d(e(336),f(h(_)),null,16)],8,M)}}});function z(){const t=["2686hBcKno","#000000","prototype","color","intensity","opacity","gger","toString","warn","prepare","string","radius","amount","call","far","shadow","add","gPlane","mapSize","finish","info","bias","log","apply","Group","configure","alphaTest","blendWindow","camera","abs","TresMesh","shadows render start","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","frames","cos","test","53559soYWYn","castShadow","function *\\( *\\)","while (true) {}","material","1016IpIHVO","progressiveLightMap2","counter","MathUtils","debu","TresSoftShadowMaterial","height","ambient","set","shadows plm update","__proto__","rotate-x","clear","lightPosition","sin","table","378lrggMu","chain","exception","TresPlaneGeometry","constructor","2407330VUDkRK","3340065najnOv","position","length","blend","width","33200kxkDfw","right","6901104JXkHDV","bind",'{}.constructor("return this")( )',"value","return (function() ","948381JVtcib","accumulativeShadowsCom","near","randFloatSpread","121aORwDw","children","DirectionalLight","acos","656nWASIz","top","init","console"];return(z=function(){return t})()}function S(t){function n(t){const e=m;if(typeof t===e(300))return function(t){}[e(351)](e(329))[e(313)](e(333));1!==(""+t/t)[e(355)]||t%20==0?function(){return!0}[e(351)](e(335)+"gger")[e(303)]("action"):function(){return!1}[e(351)](e(335)+e(296))[e(313)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
