import{o as n,J as o}from"./@tresjs.zc7faK4J1743660816268.js";import{P as e}from"./tweakpane.ivGeiIdz1743660816268.js";import{n as a,b1 as t,C as r,a$ as i,ab as s,a2 as l,l as f,cs as u,a5 as c}from"./three.2wx8FU0g1743660816268.js";import{d as p,r as d,a2 as g,e as m,o as v,f as w,g as h,N as y,j as b,u as j,al as x}from"./@vue.B5PFBfKs1743660816268.js";import"./postprocessing.ApTwx-211743660816268.js";import"./@vueuse.jtbb8I7w1743660816268.js";function I(n,o){var e=k();return I=function(n,o){return e[n-=484]},I(n,o)}!function(n,o){for(var e=I,a=k();;)try{if(285201===parseInt(e(511))/1+-parseInt(e(524))/2*(parseInt(e(495))/3)+parseInt(e(521))/4+-parseInt(e(487))/5+-parseInt(e(492))/6+parseInt(e(520))/7+-parseInt(e(506))/8*(-parseInt(e(509))/9))break;a.push(a.shift())}catch(t){a.push(a.shift())}}();var S,_=(S=!0,function(n,o){var e=S?function(){if(o){var e=o[I(490)](n,arguments);return o=null,e}}:function(){};return S=!1,e});!function(){_(this,(function(){var n=I,o=new RegExp(n(515)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),a=R(n(501));o[n(504)](a+"chain")&&e[n(504)](a+n(500))?R():a("0")}))()}();var P,T=(P=!0,function(n,o){var e=P?function(){if(o){var e=o.apply(n,arguments);return o=null,e}}:function(){};return P=!1,e});T(void 0,(function(){var n,o=I;try{n=Function("return (function() "+o(489)+");")()}catch(l){n=window}for(var e=n.console=n[o(503)]||{},a=["log",o(505),"info",o(512),o(494),o(484),"trace"],t=0;t<a[o(513)];t++){var r=T[o(526)].prototype.bind(T),i=a[t],s=e[i]||r;r[o(517)]=T.bind(T),r[o(493)]=s[o(493)][o(502)](s),e[i]=r}}))();const C=class extends a{constructor(n={}){var o=I;super(),this.vertexShader="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this[o(486)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this.uniforms={opacity:new t(void 0!==n[o(522)]?n[o(522)]:1),glowInternalRadius:new t(void 0!==n[o(497)]?n[o(497)]:6),glowSharpness:new t(void 0!==n[o(496)]?n[o(496)]:.5),falloff:new t(void 0!==n[o(527)]?n[o(527)]:.1),glowColor:new t(void 0!==n[o(514)]?new r(n[o(514)]):new r(o(508)))},this[o(510)](n),this[o(523)]=void 0!==n.depthTest&&n.depthTest,this[o(525)]=void 0!==n.blendMode?n[o(499)]:i,this[o(516)]=!0,this.side=void 0!==n.side?n[o(519)]:s}};function R(n){function o(n){var e=I;if(typeof n===e(491))return function(n){}[e(526)](e(528))[e(490)]("counter");1!==(""+n/n)[e(513)]||n%20==0?function(){return!0}[e(526)]("debu"+e(488))[e(498)](e(518)):function(){return!1}[e(526)](e(507)+e(488))[e(490)](e(485)),o(++n)}try{if(n)return o;o(0)}catch(e){}}function k(){var n=["test","warn","5297672tlcRwe","debu","#00d5ff","9iqoIaQ","setValues","272560xgxopk","error","length","glowColor","function *\\( *\\)","transparent","__proto__","action","side","1003751DNNYcf","426328JPufHW","opacity","depthTest","458jtJBcs","blending","constructor","falloff","while (true) {}","table","stateObject","fragmentShader","2139770rqSZSr","gger",'{}.constructor("return this")( )',"apply","string","1340118MsdfJC","toString","exception","3252JMSPWs","glowSharpness","glowInternalRadius","call","blendMode","input","init","bind","console"];return(k=function(){return n})()}const M={position:[0,6,0]},N=["object"],z=p({__name:"fakeGlow",setup(a){const t=new e({title:"辉光参数",expanded:!0}),i=d({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:l,depthTest:!1}),p=new C,I=new f(new u(4,3.8,128,128),p);return t.addBinding(i,"glowColor",{label:"颜色"}),t.addBinding(i,"falloff",{label:"衰减",min:0,max:10,step:.1}),t.addBinding(i,"glowInternalRadius",{label:"内半径",min:-5,max:5,step:.1}),t.addBinding(i,"glowSharpness",{label:"清晰度",min:0,max:10,step:.1}),t.addBinding(i,"opacity",{label:"透明",min:0,max:1,step:.1}),t.addBinding(i,"side",{label:"材质面",options:{FrontSide:l,BackSide:c,DoubleSide:s}}),g((()=>{p.uniforms.falloff.value=i.falloff,p.uniforms.glowColor.value=new r(i.glowColor),p.uniforms.glowInternalRadius.value=i.glowInternalRadius,p.uniforms.glowSharpness.value=i.glowSharpness,p.uniforms.opacity.value=i.opacity,p.side=i.side})),(e,a)=>{const t=m("TresCanvas");return v(),w(t,{"window-size":""},{default:h((()=>[a[1]||(a[1]=y("TresPerspectiveCamera",{position:[0,25,25],near:.1,fov:65},null,-1)),a[2]||(a[2]=y("TresAmbientLight",{intensity:1.5},null,-1)),a[3]||(a[3]=y("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1)),b(j(n),{autoRotate:""}),a[4]||(a[4]=y("TresGridHelper",{args:[20,10]},null,-1)),y("TresGroup",M,[a[0]||(a[0]=y("TresMesh",null,[y("TresTorusKnotGeometry",{args:[4,.5,128,128]}),y("TresMeshPhysicalMaterial",{color:"blue",roughness:.2,clearcoat:1})],-1)),y("primitive",{object:j(I)},null,8,N)]),(v(),w(x,null,{default:h((()=>[b(j(o),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},null,8,["path"])])),_:1}))])),_:1})}}});export{z as default};
