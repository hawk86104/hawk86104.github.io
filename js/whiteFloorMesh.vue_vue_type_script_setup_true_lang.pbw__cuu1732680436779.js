import{bI as t,_ as n,a3 as o,C as r}from"./three.HQIWXjA-1732680436779.js";import{b as e}from"./@tresjs.ozxSQdlw1732680436779.js";import{d as a,b as s,a6 as c,w as i,o as u,D as f,J as l,aj as p,ak as h}from"./@vue.u2cBPEWn1732680436779.js";!function(t,n){const o=v,r=g();for(;;)try{if(954087===-parseInt(o(472))/1*(-parseInt(o(480))/2)+parseInt(o(487))/3+-parseInt(o(507))/4+parseInt(o(486))/5*(-parseInt(o(517))/6)+parseInt(o(476))/7*(parseInt(o(479))/8)+parseInt(o(511))/9+-parseInt(o(484))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const d=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(509)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function g(){const t=["beginnormal_vertex","call","console","23035080XaivqX","warn","1263970TqReOu","5507907YDCdvd","\n          ",'{}.constructor("return this")( )',"test","\n\t ","init","bsdfs","lights_pars_begin","worldpos_vertex","common","packing","\n      \t","bind","action","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","project_vertex","shadowmap_pars_fragment","toString","debu","defaultnormal_vertex","3536144mOqqSt","log","apply","function *\\( *\\)","10539450pzKxKa","gger","info","table","while (true) {}","ShaderChunk","18ZLWEnA","error","begin_vertex","constructor","trace","shadowmap_pars_vertex","415482qQXhrU","\n       void main() {\n\t\t\t\t\t","input","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","35ptKFfv","exception","string","1699248zTpULN","4kJHtgN"];return(g=function(){return t})()}!function(){d(this,(function(){const t=v,n=new RegExp(t(510)),o=new RegExp(t(475),"i"),r=x(t(492));n[t(490)](r+"chain")&&o[t(490)](r+t(474))?x():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(509)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(t,n){const o=g();return(v=function(t,n){return o[t-=469]})(t,n)}m(void 0,(function(){const t=v;let n;try{n=Function("return (function() "+t(489)+");")()}catch(e){n=window}const o=n.console=n[t(483)]||{},r=[t(508),t(485),t(513),t(518),t(477),t(514),t(470)];for(let a=0;a<r.length;a++){const n=m.constructor.prototype.bind(m),e=r[a],s=o[e]||n;n.__proto__=m[t(499)](m),n[t(504)]=s[t(504)][t(499)](s),o[e]=n}}))();const w=()=>{const o=v;return"\n       varying vec2 vUv;\n\t\t\t \t"+t.common+o(498)+t[o(493)]+o(498)+n[o(516)][o(471)]+o(473)+n[o(516)][o(481)]+o(488)+t[o(506)]+o(488)+t[o(519)]+o(488)+t[o(502)]+o(488)+n[o(516)][o(495)]+o(488)+n[o(516)].shadowmap_vertex+o(501)},_=()=>{const o=v;return"\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t "+n[o(516)][o(496)]+o(491)+n[o(516)][o(497)]+o(491)+t[o(493)]+o(491)+n[o(516)][o(494)]+o(491)+n[o(516)][o(503)]+o(491)+n[o(516)].shadowmask_pars_fragment+"\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}"};function x(t){function n(t){const o=v;if(typeof t===o(478))return function(t){}[o(469)](o(515))[o(509)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[o(469)](o(505)+o(512))[o(482)](o(500)):function(){return!1}.constructor(o(505)+"gger")[o(509)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}const b=C;!function(t,n){const o=C,r=j();for(;;)try{if(366713===-parseInt(o(193))/1*(parseInt(o(170))/2)+parseInt(o(182))/3*(-parseInt(o(198))/4)+parseInt(o(163))/5*(-parseInt(o(175))/6)+-parseInt(o(178))/7+-parseInt(o(210))/8+parseInt(o(205))/9+parseInt(o(220))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const I=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(187)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){I(this,(function(){const t=C,n=new RegExp(t(188)),o=new RegExp(t(171),"i"),r=k("init");n[t(217)](r+t(186))&&o[t(217)](r+t(173))?k():r("0")}))()}();const y=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[C(187)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function C(t,n){const o=j();return(C=function(t,n){return o[t-=162]})(t,n)}y(void 0,(function(){const t=C;let n;try{n=Function(t(212)+t(208)+");")()}catch(e){n=window}const o=n.console=n[t(177)]||{},r=[t(162),t(203),t(179),t(207),t(184),t(168),"trace"];for(let a=0;a<r[t(214)];a++){const n=y[t(216)].prototype[t(218)](y),e=r[a],s=o[e]||n;n[t(202)]=y[t(218)](y),n[t(221)]=s[t(221)].bind(s),o[e]=n}}))();const S=[b(213)],U=[b(209)];function j(){const t=["constructor","test","bind","wrapT","20460220tPgYxV","toString","log","1682735ovCPnD","uniforms","tmRef","uShadowColor","Color","table","uColor","842906aVJIDO","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","fEdge","input","UniformsLib","12oHLneW","stateObject","console","5125666BpZjNv","info","TresMesh","wrapS","3umvxad","size","exception","shadowColor","chain","apply","function *\\( *\\)","TresShaderMaterial","counter","lights","value","1lCkWBy","debu","DoubleSide","merge","while (true) {}","755612qeUlsY","UniformsUtils","string","color","__proto__","warn","whiteFloorMesh","6221943rBJIBU","action","error",'{}.constructor("return this")( )',"args","2839584ORMHQD","#990","return (function() ","rotation-x","length","edge"];return(j=function(){return t})()}const T=a({__name:b(204),props:{size:{default:[20,20]},color:{default:b(211)},shadowColor:{default:"#999"},edge:{default:.35}},async setup(t){const a=b;let d,g;const m=t,v=s(),{map:x}=([d,g]=c((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),d=await d,g(),d);x[a(181)]=x[a(219)]=o;const I={uniforms:n[a(199)][a(196)]([n[a(174)][a(191)],{uTexture:{type:"t",value:x},uColor:{value:new(n[a(167)])(m[a(201)])},uShadowColor:{value:new(n[a(167)])(m[a(185)])},fEdge:{type:"f",value:m[a(215)]}}]),side:n[a(195)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>m[a(215)]),(t=>{const n=a;I[n(164)][n(172)][n(192)]=t})),i((()=>m.color),(t=>{const n=a;I.uniforms[n(169)][n(192)]=new r(m[n(201)])})),i((()=>m.shadowColor),(t=>{const o=a;I[o(164)][o(166)][o(192)]=new(n[o(167)])(m[o(185)])})),(t,n)=>{const o=a;return u(),f(o(180),{ref_key:o(165),ref:v,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:m[o(183)]},null,8,U),l(o(189),p(h(I)),null,16)],8,S)}}});function k(t){function n(t){const o=C;if(typeof t===o(200))return function(t){}.constructor(o(197))[o(187)](o(190));1!==(""+t/t)[o(214)]||t%20==0?function(){return!0}.constructor(o(194)+"gger").call(o(206)):function(){return!1}[o(216)](o(194)+"gger")[o(187)](o(176)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{T as _};
