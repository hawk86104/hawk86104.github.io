import{a as t,U as n}from"./@tresjs.qWeugQU61734239885681.js";import{P as e}from"./tweakpane.yHWGBmom1734239885681.js";import{_ as o,m as r,a,ak as s,al as i}from"./three.NPKhDGTA1734239885681.js";import{_ as c}from"./heatmap.js-fix.TjssxR3x1734239885681.js";import{d as u,a6 as l,a3 as p,o as f,D as d,u as h,r as g,e as m,f as y,g as v,J as w,j as x,al as b,aj as I,ak as _,m as j}from"./@vue.-THQH3GC1734239885681.js";import"./@vueuse.GyFlY0FM1734239885681.js";import"./@amap.NYHfUxYe1734239885681.js";function C(t,n){const e=z();return(C=function(t,n){return e[t-=106]})(t,n)}const k=C;function z(){const t=["gger","primitive","trace","toString","function *\\( *\\)","input","info","_renderer","setDataMax","setAttribute","DoubleSide","material","apply","style","create","appendChild","length","7324182HaPzAv","mesh_0","stateObject","constructor","4059849BWoBhN","setScalar","chain",'{}.constructor("return this")( )',"4RslfrE","addData","geometry","canvas","string","test","console","81352FgVbwX","display","704413Rxydkg","return (function() ","computeBoundingBox","push","exception","border","debu","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","none","147yYTWmx","while (true) {}","call","bind","onclick","__proto__","9296815XvlJdH","heatmap-canvas","count","left","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","show2dCanvas","needsUpdate","counter","position","getX","block","2110068tOMWId","Texture","attributes","log","prototype","radius","heatmapClickCom","boundingBox","4452215gKtcQz","10syeffr","top","createElement","table","init","scale","layerY","40px","absolute","1px solid #5384ff","body","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","2kwFoxE","object"];return(z=function(){return t})()}!function(t,n){const e=C,o=z();for(;;)try{if(903180===parseInt(e(115))/1+-parseInt(e(163))/2*(-parseInt(e(186))/3)+parseInt(e(106))/4*(parseInt(e(149))/5)+-parseInt(e(182))/6+-parseInt(e(124))/7*(parseInt(e(113))/8)+-parseInt(e(141))/9*(-parseInt(e(150))/10)+-parseInt(e(130))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(177)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){M(this,(function(){const t=C,n=new RegExp(t(169)),e=new RegExp(t(161),"i"),o=R(t(154));n[t(111)](o+t(188))&&e[t(111)](o+t(170))?R():o("0")}))()}();const A=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[C(177)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();A(void 0,(function(){const t=C;let n;try{n=Function(t(116)+t(189)+");")()}catch(r){n=window}const e=n[t(112)]=n[t(112)]||{},o=[t(144),"warn",t(171),"error",t(119),t(153),t(167)];for(let a=0;a<o.length;a++){const n=A[t(185)][t(145)][t(127)](A),r=o[a],s=e[r]||n;n[t(129)]=A.bind(A),n[t(168)]=s[t(168)][t(127)](s),e[r]=n}}))();const B=[k(164)],S=u({__name:k(147),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=k;let s,i;const u=n,{nodes:g}=([s,i]=l((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:"./draco/"}))),s=await s,i(),s);g[e(183)][e(138)].set(-5088.96,-3.08,39374.7),g[e(183)][e(155)][e(187)](.01);let m=null,y=null,v=null;y=new(o[e(142)])((()=>{const t=e;return v=document[t(152)](t(131)),v[t(178)][t(138)]=t(158),v[t(178)][t(151)]=t(157),v.style[t(133)]="0",document[t(160)][t(180)](v),m=c[t(179)]({container:v,width:256,height:256,blur:"0.8",radius:u[t(146)]}),m[t(172)][t(109)][t(178)][t(120)]=t(159),m[t(172)][t(109)][t(128)]=function(n){const e=t;m[e(107)]({x:n.layerX,y:n[e(156)],value:1,radius:u[e(146)]}),m[e(173)](1),y&&(y[e(136)]=!0)},m})()[e(172)][e(109)]);const w={vertexShader:e(122),fragmentShader:e(134),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(175)]},x=new r(w);g[e(183)][e(176)]=x;return(t=>{const n=e;t[n(117)]();const{max:o,min:r}=t[n(148)];t.deleteAttribute("uv");const s=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(143)].position[n(132)];e++)c[n(118)]((t[n(143)][n(138)][n(139)](e)-r.x)/s),c[n(118)]((t[n(143)][n(138)].getZ(e)-r.z)/i);const u=new Float32Array(c);t[n(174)]("uv",new a(u,2))})(g[e(183)][e(108)]),p((()=>{const t=e;v[t(178)][t(114)]=""+(u[t(135)]?t(140):t(123))})),(t,n)=>{const o=e;return f(),d(o(166),{object:h(g)[o(183)]},null,8,B)}}});function R(t){function n(t){const e=C;if(typeof t===e(110))return function(t){}[e(185)](e(125))[e(177)](e(137));1!==(""+t/t)[e(181)]||t%20==0?function(){return!0}.constructor("debu"+e(165))[e(126)](e(162)):function(){return!1}.constructor(e(121)+e(165)).apply(e(184)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=T,o=X();for(;;)try{if(282070===parseInt(e(125))/1*(-parseInt(e(160))/2)+-parseInt(e(130))/3+-parseInt(e(144))/4*(-parseInt(e(145))/5)+parseInt(e(149))/6*(-parseInt(e(124))/7)+parseInt(e(131))/8+-parseInt(e(118))/9+-parseInt(e(137))/10*(-parseInt(e(146))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=T,n=new RegExp(t(126)),e=new RegExp(t(123),"i"),o=E(t(120));n[t(154)](o+"chain")&&e[t(154)](o+t(148))?E():o("0")}))()}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function T(t,n){const e=X();return(T=function(t,n){return e[t-=116]})(t,n)}function X(){const t=["__proto__","gger","info","error","addButton","673976KIQcXL","5AWhXPA","122243pSboMz","bind","input","42666kGxJMP","return (function() ","#ffffff","TresCanvas","prototype","test","length","string",'{}.constructor("return this")( )',"显示二维图","stateObject","16OtVfow","exception","toString","3134232udvBaZ","constructor","init","table","TresGridHelper","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","63yKjozu","48421KPNReX","function *\\( *\\)","show2dCanvas","console","debu","1341300ysQKKx","1280696OZXatM","trace","addBinding","圆圈的大小","apply","TresDirectionalLight","1080VKbrxN","while (true) {}"];return(X=function(){return t})()}P(void 0,(function(){const t=T;let n;try{n=Function(t(150)+t(157)+");")()}catch(r){n=window}const e=n[t(128)]=n[t(128)]||{},o=["log","warn",t(141),t(142),t(116),t(121),t(132)];for(let a=0;a<o[t(155)];a++){const n=P[t(119)][t(153)][t(147)](P),r=o[a],s=e[r]||n;n[t(139)]=P[t(147)](P),n[t(117)]=s.toString[t(147)](s),e[r]=n}}))();const D=u({__name:"heatmapClick",setup(t){const o=T,r={clearColor:"#030311",shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=g({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(133)](a,o(127),{label:o(158)}),c.addBinding(a,"radius",{label:o(134),min:.1,max:30,step:.1}),c[o(143)]({title:"点击左侧蓝色画框"}),(t,e)=>{const s=o,i=m(s(152));return f(),y(i,j(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=w("TresPerspectiveCamera",{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),x(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w(s(136),{position:[5,10,7.5],color:s(151),intensity:5},null,-1)),e[2]||(e[2]=w(s(122),{args:[50,25]},null,-1)),(f(),y(b,null,{default:v((()=>[x(S,I(_(a)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=T;if(typeof t===e(156))return function(t){}.constructor(e(138))[e(135)]("counter");1!==(""+t/t)[e(155)]||t%20==0?function(){return!0}.constructor(e(129)+e(140)).call("action"):function(){return!1}[e(119)](e(129)+"gger").apply(e(159)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{D as default};
