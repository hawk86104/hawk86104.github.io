import{o as n,J as t}from"./@tresjs.tqalU7S21741683274763.js";import{l as o,a_ as e,C as r,aX as i,a0 as a,y as s,r as l,cm as c,_ as u}from"./three.3wvNjL8W1741683274763.js";import{P as f}from"./tweakpane.yDiyAAkA1741683274763.js";import{d as p,r as g,a2 as d,e as m,o as v,f as w,g as h,N as y,j as b,u as I,al as x}from"./@vue.NRI7TcgI1741683274763.js";import"./postprocessing.D4QJINSY1741683274763.js";import"./@vueuse.lt4-M8RL1741683274763.js";!function(n,t){for(var o=_,e=S();;)try{if(619395===parseInt(o(115))/1+parseInt(o(130))/2+parseInt(o(105))/3+-parseInt(o(132))/4*(-parseInt(o(131))/5)+parseInt(o(143))/6*(-parseInt(o(104))/7)+-parseInt(o(121))/8+-parseInt(o(138))/9*(parseInt(o(113))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[_(119)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function S(){var n=["glowInternalRadius","1743302VZbcWK","5ibtnDo","4716348KOCgBf","uniforms","while (true) {}","glowSharpness","return (function() ","toString","14562ttRULw","blending","prototype","#00d5ff","stateObject","6yZuGjg","constructor","exception","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","chain","info","function *\\( *\\)","trace","falloff","2249898FAWSHK","1633290JGexFt","gger","debu","error","opacity","depthTest","test","log","4100UWVUlw","fragmentShader","51452rZHwYS","counter","transparent","side","apply","\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ","8339448SynxPt","setValues","glowColor",'{}.constructor("return this")( )',"console","input","blendMode","__proto__"];return(S=function(){return n})()}function _(n,t){var o=S();return(_=function(n,t){return o[n-=104]})(n,t)}!function(){j(this,(function(){var n=_,t=new RegExp(n(150)),o=new RegExp(n(147),"i"),e=P("init");t[n(111)](e+n(148))&&o.test(e+n(126))?P():e("0")}))()}();var C=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[_(119)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();C(void 0,(function(){for(var n=_,t=function(){var n,t=_;try{n=Function(t(136)+t(124)+");")()}catch(o){n=window}return n}(),o=t.console=t[n(125)]||{},e=[n(112),"warn",n(149),n(108),n(145),"table",n(151)],r=0;r<e.length;r++){var i=C[n(144)][n(140)].bind(C),a=e[r],s=o[a]||i;i[n(128)]=C[n(146)](C),i.toString=s[n(137)][n(146)](s),o[a]=i}}))();const R=class extends o{constructor(n={}){var t=_;super(),this.vertexShader="\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ",this[t(114)]=t(120),this[t(133)]={opacity:new e(void 0!==n[t(109)]?n.opacity:1),glowInternalRadius:new e(void 0!==n[t(129)]?n[t(129)]:6),glowSharpness:new e(void 0!==n[t(135)]?n[t(135)]:.5),falloff:new e(void 0!==n[t(152)]?n[t(152)]:.1),glowColor:new e(void 0!==n.glowColor?new r(n[t(123)]):new r(t(141)))},this[t(122)](n),this[t(110)]=void 0!==n[t(110)]&&n[t(110)],this[t(139)]=void 0!==n[t(127)]?n[t(127)]:i,this[t(117)]=!0,this[t(118)]=void 0!==n[t(118)]?n[t(118)]:a}};function P(n){function t(n){var o=_;if("string"==typeof n)return function(n){}.constructor(o(134)).apply(o(116));1!==(""+n/n).length||n%20==0?function(){return!0}[o(144)](o(107)+o(106)).call("action"):function(){return!1}[o(144)](o(107)+"gger").apply(o(142)),t(++n)}try{if(n)return t;t(0)}catch(o){}}const k=z;!function(n,t){const o=z,e=N();for(;;)try{if(467082===parseInt(o(156))/1+parseInt(o(166))/2+-parseInt(o(129))/3*(-parseInt(o(154))/4)+-parseInt(o(125))/5+-parseInt(o(153))/6*(parseInt(o(115))/7)+parseInt(o(167))/8*(-parseInt(o(138))/9)+parseInt(o(109))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const T=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){T(this,(function(){const n=z,t=new RegExp(n(112)),o=new RegExp(n(113),"i"),e=M(n(159));t[n(139)](e+n(151))&&o[n(139)](e+n(164))?M():e("0")}))()}();const G=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function z(n,t){const o=N();return(z=function(n,t){return o[n-=109]})(n,t)}G(void 0,(function(){const n=z;let t;try{t=Function(n(142)+n(143)+");")()}catch(r){t=window}const o=t[n(134)]=t[n(134)]||{},e=[n(146),"warn",n(141),n(111),n(158),n(149),n(132)];for(let i=0;i<e[n(169)];i++){const t=G.constructor[n(161)][n(122)](G),r=e[i],a=o[r]||t;t[n(133)]=G.bind(G),t.toString=a[n(150)][n(122)](a),o[r]=t}}))();const F={position:[0,6,0]},Z=[k(157)],D=p({__name:k(117),setup(o){const e=k,i=new f({title:"辉光参数",expanded:!0}),a=g({glowColor:"#a058c1",falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),p=new R,j=new l(new c(4,3.8,128,128),p);return i.addBinding(a,e(116),{label:"颜色"}),i[e(118)](a,"falloff",{label:"衰减",min:0,max:10,step:.1}),i[e(118)](a,e(171),{label:e(110),min:-5,max:5,step:.1}),i[e(118)](a,e(119),{label:e(168),min:0,max:10,step:.1}),i.addBinding(a,e(172),{label:"透明",min:0,max:1,step:.1}),i[e(118)](a,e(126),{label:"材质面",options:{FrontSide:u[e(163)],BackSide:u[e(128)],DoubleSide:u[e(160)]}}),d((()=>{const n=e;p[n(140)][n(162)][n(152)]=a[n(162)],p[n(140)][n(116)].value=new r(a[n(116)]),p[n(140)][n(171)][n(152)]=a[n(171)],p[n(140)].glowSharpness[n(152)]=a[n(119)],p[n(140)][n(172)][n(152)]=a[n(172)],p[n(126)]=a[n(126)]})),(o,r)=>{const i=e,a=m(i(120));return v(),w(a,{"window-size":""},{default:h((()=>[r[1]||(r[1]=y("TresPerspectiveCamera",{position:[0,25,25],near:.1,fov:65},null,-1)),r[2]||(r[2]=y(i(114),{intensity:1.5},null,-1)),r[3]||(r[3]=y("TresDirectionalLight",{position:[100,100,60],intensity:20},null,-1)),b(I(n),{autoRotate:""}),r[4]||(r[4]=y("TresGridHelper",{args:[20,10]},null,-1)),y("TresGroup",F,[r[0]||(r[0]=y(i(123),null,[y(i(121),{args:[4,.5,128,128]}),y(i(147),{color:i(127),roughness:.2,clearcoat:1})],-1)),y(i(144),{object:I(j)},null,8,Z)]),(v(),w(x,null,{default:h((()=>[b(I(t),{files:[i(170),"neg-x.jpg",i(173),"neg-y.jpg","pos-z.jpg",i(137)],path:i(148)})])),_:1}))])),_:1})}}});function M(n){function t(n){const o=z;if(typeof n===o(130))return function(n){}[o(155)](o(165))[o(145)]("counter");1!==(""+n/n)[o(169)]||n%20==0?function(){return!0}[o(155)](o(131)+o(124)).call(o(136)):function(){return!1}[o(155)]("debu"+o(124)).apply(o(135)),t(++n)}try{if(n)return t;t(0)}catch(o){}}function N(){const n=["console","stateObject","action","neg-z.jpg","9XxIeCj","test","uniforms","info","return (function() ",'{}.constructor("return this")( )',"primitive","apply","log","TresMeshPhysicalMaterial","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","table","toString","chain","value","2634lDPGXC","548nbLnGp","constructor","111746uECXFO","object","exception","init","DoubleSide","prototype","falloff","FrontSide","input","while (true) {}","871466kofDmT","7369232mZJRoC","清晰度","length","pos-x.jpg","glowInternalRadius","opacity","pos-y.jpg","18040500cdXYsh","内半径","error","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","TresAmbientLight","8197HSHxRW","glowColor","fakeGlow","addBinding","glowSharpness","TresCanvas","TresTorusKnotGeometry","bind","TresMesh","gger","3220875ZaqVJI","side","blue","BackSide","4269aYvrRH","string","debu","trace","__proto__"];return(N=function(){return n})()}export{D as default};
