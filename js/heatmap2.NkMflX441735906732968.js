import{P as t}from"./tweakpane.yHWGBmom1735906732968.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.4JmdwU8D1735906732968.js";import{_ as r}from"./heatmap.js-fix.ExcbCj1l1735906732968.js";import{h as i,Y as c,cw as s,_ as u}from"./three.VhLXWX0H1735906732968.js";import{r as a}from"./utils.fcbD8SSm1735906732968.js";import{d as p}from"./pinia.ZaWyowAg1735906732968.js";import{b as f,d as l,a1 as h,o as d,D as m,J as g,u as y,F as v,q as b,U as w,N as I,P as _,H as j,L as x,a4 as M,r as E,j as O,g as S,m as D}from"./@vue.yG49nQHr1735906732968.js";import{c as Q,d as T,a as P}from"./three-mesh-bvh.vwwt1TUO1735906732968.js";import{_ as A}from"./@fesjs.OL5agSaf1735906732968.js";import"./@tresjs.XlmHwCPa1735906732968.js";import"./@vueuse.HCIFcVWX1735906732968.js";import"./three-custom-shader-material.YE7pvEe61735906732968.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1735906732968.js";import"./@amap.goWAqh1c1735906732968.js";import"./vue-demi.C4xddsk91735906732968.js";import"./vue-router.OGOa9Z4t1735906732968.js";import"./lodash-es.kYt-_xTG1735906732968.js";import"./@qlin.yHhFDldE1735906732968.js";import"./@floating-ui.BPbuo5Gx1735906732968.js";import"./@juggle.7yjBMqoW1735906732968.js";!function(t,n){const e=z,o=q();for(;;)try{if(683660===parseInt(e(464))/1*(-parseInt(e(445))/2)+-parseInt(e(466))/3+parseInt(e(489))/4+parseInt(e(454))/5*(-parseInt(e(447))/6)+parseInt(e(446))/7+-parseInt(e(477))/8*(-parseInt(e(490))/9)+parseInt(e(487))/10*(parseInt(e(482))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(444),"i"),o=F(t(476));n[t(460)](o+"chain")&&e[t(460)](o+t(478))?F():o("0")}))()}();const k=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function q(){const t=["686478hFXHVe","gger","bind","apply","body","style","rgb(0,255,0)","return (function() ","while (true) {}","log","init","8dWPBKE","input","call","display","length","27755904HWVuqN","debu","createElement","exception","constructor","10OQQPKJ","toString","1209524CqEqcZ","2503962jfkmyT","position","create","appendChild","height","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","46wxgcBM","313411vFXiiX","204hAQfTu","top","__proto__","error","push","none","_config","162285GEYydq","string","randInt","console","counter","yellow","test","absolute","rgb(255,0,0)","setData","49244slsjjD","info"];return(q=function(){return t})()}k(void 0,(function(){const t=z,n=function(){const t=z;let n;try{n=Function(t(473)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(457)]=n.console||{},o=[t(475),"warn",t(465),t(450),t(485),"table","trace"];for(let r=0;r<o.length;r++){const n=k[t(486)].prototype[t(468)](k),i=o[r],c=e[i]||n;n[t(449)]=k.bind(k),n[t(488)]=c[t(488)][t(468)](c),e[i]=n}}))();function z(t,n){const e=q();return(z=function(t,n){return e[t-=444]})(t,n)}const B=(t,n)=>t.getValueAt(n)+-10;function F(t){function n(t){const e=z;if(typeof t===e(455))return function(t){}[e(486)](e(474))[e(469)](e(458));1!==(""+t/t)[e(481)]||t%20==0?function(){return!0}[e(486)](e(483)+"gger")[e(479)]("action"):function(){return!1}[e(486)]("debu"+e(467))[e(469)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}function G(){const t=['{}.constructor("return this")( )',"log","__proto__","length","stateObject","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","24365224SPbJOI","console","init","string","call","1485462XXyOtQ","toString","chain","7151636vniQGP","apply","value","function *\\( *\\)","buildingsHeatmap","690350QkAxjb","gger","debu","exception","action","7wwnWqg","constructor","7596585eSyOjO","312456GxCyQJ","prototype","3008583IpbOyI","counter","return (function() ","table","test"];return(G=function(){return t})()}const K=Z;!function(t,n){const e=Z,o=G();for(;;)try{if(956146===parseInt(e(283))/1+-parseInt(e(310))/2+parseInt(e(285))/3+-parseInt(e(305))/4+-parseInt(e(282))/5+parseInt(e(302))/6+-parseInt(e(280))/7*(-parseInt(e(297))/8))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[Z(306)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){U(this,(function(){const t=Z,n=new RegExp(t(308)),e=new RegExp(t(296),"i"),o=C(t(299));n[t(289)](o+t(304))&&e[t(289)](o+"input")?C():o("0")}))()}();const X=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(t,n){const e=G();return(Z=function(t,n){return e[t-=280]})(t,n)}X(void 0,(function(){const t=Z;let n;try{n=Function(t(287)+t(290)+");")()}catch(r){n=window}const e=n[t(298)]=n[t(298)]||{},o=[t(291),"warn","info",t(295),t(313),t(288),"trace"];for(let i=0;i<o[t(293)];i++){const n=X[t(281)][t(284)].bind(X),r=o[i],c=e[r]||n;n[t(292)]=X.bind(X),n[t(303)]=c[t(303)].bind(c),e[r]=n}}))();const $=p(K(309),(()=>{const t=f(!1),n=f(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[Z(307)]=n},setTemperature:function(t){n[Z(307)]=t}}}));function C(t){function n(t){const e=Z;if(typeof t===e(300))return function(t){}.constructor("while (true) {}")[e(306)](e(286));1!==(""+t/t)[e(293)]||t%20==0?function(){return!0}[e(281)]("debu"+e(311))[e(301)](e(314)):function(){return!1}[e(281)](e(312)+e(311))[e(306)](e(294)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function H(){const t=["attributes","info","counter","width","clone","log","makeRotationX","$patch","prototype","474534CyrUWp","table","_renderer","toString","matrix","mergeGeometries","geometry","6983417xGTMcM","21qAPqgD","disposeBoundsTree","数值：","console","city","setShowDiv","2GKjVap","constructor","debu","error","327177lpUwsy","return (function() ","644081RHnHIC","setTemperature","6467000nbuwIX","input","uniforms","209011vHpcQQ","Mesh","model","length","applyMatrix4","while (true) {}","trace","normal","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","needsUpdate","computeBoundsTree",'{}.constructor("return this")( )',"BufferGeometry","object","function *\\( *\\)","height","value","90xriRDd","init","Matrix4","15cQICgY","ShaderMaterial","DoubleSide","gger","bind","_config","raycast","1092sYFTEh","apply","string","opacity","134276TyQtXz","land","primitive","test","exception","call"];return(H=function(){return t})()}const V=N;!function(t,n){const e=N,o=H();for(;;)try{if(570861===-parseInt(e(113))/1*(parseInt(e(178))/2)+parseInt(e(172))/3*(-parseInt(e(149))/4)+parseInt(e(138))/5*(parseInt(e(164))/6)+-parseInt(e(171))/7+parseInt(e(115))/8+-parseInt(e(111))/9*(parseInt(e(135))/10)+parseInt(e(118))/11*(parseInt(e(145))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const J=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){J(this,(function(){const t=N,n=new RegExp(t(132)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=nt(t(136));n[t(152)](o+"chain")&&e[t(152)](o+t(116))?nt():o("0")}))()}();const L=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[N(146)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();L(void 0,(function(){const t=N,n=function(){const t=N;let n;try{n=Function(t(112)+t(129)+");")()}catch(e){n=window}return n}(),e=n[t(175)]=n.console||{},o=["log","warn",t(156),t(110),t(153),t(165),t(124)];for(let r=0;r<o[t(121)];r++){const n=L[t(179)][t(163)][t(142)](L),i=o[r],c=e[i]||n;n.__proto__=L[t(142)](L),n[t(167)]=c[t(167)][t(142)](c),e[i]=n}}))();const W=[V(131),"rotation-x"],Y=["object"];function N(t,n){const e=H();return(N=function(t,n){return e[t-=110]})(t,n)}const tt=l({__name:"buildingsHeatmap",props:{model:{},opacity:{default:1}},setup(t){const n=V;(()=>{const t=N;u[t(130)][t(163)][t(128)]=Q,u[t(130)][t(163)][t(173)]=T,u[t(119)][t(163)][t(144)]=P})();const e=t,o=((t=250,n=250,e=!0)=>{const o=z,i=document[o(484)]("heatmap-canvas");return i[o(471)][o(491)]=o(461),!e&&(i[o(471)][o(480)]=o(452)),i[o(471)][o(448)]="0",i[o(471)].left="0",document[o(470)][o(493)](i),r[o(492)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(472),.85:o(459),1:o(462)}})})();((t,n)=>{const e=z;if(!n){let o=0;for(n=[];o<1e3;)n[e(451)]({x:i[e(456)](1,t._config.width),y:i[e(456)](1,t[e(453)][e(494)]),value:i[e(456)](-10,36)}),o++}t[e(463)]({max:36,min:-10,data:n})})(o);const p=new c(o[n(166)].canvas);p[n(127)]=!0;const f=e[n(120)][n(176)][n(159)]();delete f[n(170)][n(155)][n(125)],delete f[n(170)].attributes.uv;const l=f[n(170)][n(159)]()[n(122)](f.matrix),b=e[n(120)][n(150)][n(159)]();delete b.geometry[n(155)][n(125)];const w=b[n(170)][n(159)]()[n(122)](b[n(168)]),I=s[n(169)]([l,w]);I.applyMatrix4((new(u[n(137)]))[n(161)](Math.PI/2)),a(I),I[n(128)]();const _=(t=>{const o=n;return new(u[o(139)])({vertexShader:o(126),fragmentShader:"\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t",uniforms:{uOpacity:{value:e[o(148)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:u[o(140)]})})(p),j=new(u[n(119)])(I,_);h((()=>{const t=n;e[t(148)]&&(_[t(117)].uOpacity[t(134)]=e.opacity)}));const x=$(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o._config[e(158)],y:(1-t.uv.y)*o[e(143)][e(133)]};console[e(160)](e(174),t),console[e(160)]("数值———：",B(o,n)),x[e(114)](B(o,n))}},E=t=>{t&&x[n(162)]({showDiv:!0})},O=t=>{t&&x[n(177)](!1)};return(t,o)=>{const r=n;return d(),m(v,null,[g("primitive",{object:y(j),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:E,onPointerLeave:O},null,40,W),g(r(151),{object:e[r(120)][r(120)].children[0].clone()},null,8,Y)],64)}}});function nt(t){function n(t){const e=N;if(typeof t===e(147))return function(t){}[e(179)](e(123))[e(146)](e(157));1!==(""+t/t)[e(121)]||t%20==0?function(){return!0}[e(179)](e(180)+"gger")[e(154)]("action"):function(){return!1}.constructor(e(180)+e(141))[e(146)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const et=A({__name:"dataDiv",setup(t){const n=$(),e=f({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),w((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>I((d(),m("div",{class:"title",style:x(e.value)},"温度："+j(y(n).temperature)+"℃ ",5)),[[_,y(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),ot=rt;function rt(t,n){const e=ct();return(rt=function(t,n){return e[t-=497]})(t,n)}!function(t,n){const e=rt,o=ct();for(;;)try{if(886013===-parseInt(e(511))/1+parseInt(e(510))/2*(-parseInt(e(518))/3)+-parseInt(e(509))/4+-parseInt(e(497))/5+-parseInt(e(505))/6*(-parseInt(e(533))/7)+-parseInt(e(506))/8*(parseInt(e(517))/9)+-parseInt(e(499))/10*(-parseInt(e(525))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[rt(502)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function ct(){const t=["builds","log","3082800MuyKLO","10TsbYmi","1556002dQthpT","model","trace",'{}.constructor("return this")( )',"length","input","3951uNQKoo","1035591xfvnSr","init","#000","action","while (true) {}","console","heatmap2","11fVJMJn","function *\\( *\\)","info","bind","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","gger","return (function() ","7fGkVTK","5628055uxnUKw","city","69182890amarLv","constructor","table","apply","warn","opacity","2614824ikoQuT","23504BgGKIB"];return(ct=function(){return t})()}!function(){it(this,(function(){const t=rt,n=new RegExp(t(526)),e=new RegExp(t(529),"i"),o=at(t(519));n.test(o+"chain")&&e.test(o+t(516))?at():o("0")}))()}();const st=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[rt(502)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();st(void 0,(function(){const t=rt;let n;try{n=Function(t(532)+t(514)+");")()}catch(r){n=window}const e=n[t(523)]=n[t(523)]||{},o=[t(508),t(503),t(527),"error","exception",t(501),t(513)];for(let i=0;i<o[t(515)];i++){const n=st[t(500)].prototype.bind(st),r=o[i],c=e[r]||n;n.__proto__=st[t(528)](st),n[t(530)]=c[t(530)][t(528)](c),e[r]=n}}))();const ut=l({__name:ot(524),async setup(r){const i=ot;let c,s;const u=f(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u.value=!0;const p=E({width:1,color:i(520),opacity:1,show:!0}),l=E({opacity:.9});return new t({title:"参数",expanded:!0}).addBinding(l,i(504),{label:"透明度",min:0,max:1,step:.1}),(t,o)=>{const r=i;return d(),m(v,null,[O(e,{showBuildings:!1,autoRotate:!1},{ability:S((()=>[O(tt,D({model:y(a)},l),null,16,[r(512)]),O(n,D(p,{builds:y(a)[r(498)]}),null,16,[r(507)])])),_:1}),O(et)],64)}}});function at(t){function n(t){const e=rt;if("string"==typeof t)return function(t){}[e(500)](e(522))[e(502)]("counter");1!==(""+t/t)[e(515)]||t%20==0?function(){return!0}[e(500)]("debugger").call(e(521)):function(){return!1}.constructor("debu"+e(531)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{ut as default};
