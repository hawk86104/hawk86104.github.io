import{D as t,o as n}from"./@tresjs.05J-Im0t1743039954535.js";import{P as e}from"./tweakpane.ivGeiIdz1743039954535.js";import{_ as o,ab as r,n as a,ar as s,as as i}from"./three.XuMWWlrU1743039954535.js";import{_ as c}from"./heatmap.js-fix.MewnzJzD1743039954535.js";import{d as u,a3 as l,a2 as p,o as f,H as d,u as h,r as m,e as g,f as v,g as y,N as b,j as w,al as x,aj as _,ak as j,m as I}from"./@vue.C4dqouNn1743039954535.js";import"./postprocessing.YRVqsIkW1743039954535.js";import"./@vueuse.NzAeD-Dt1743039954535.js";import"./@amap.7j9kjwBk1743039954535.js";function C(){const t=["6DIfDUC","40px","style","0.8","show2dCanvas","count","test","border","\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t","1824638JlLejH","getX","attributes","BufferAttribute","210vaTCBV","7413850xmqYOT","layerY","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","createElement","none","console","constructor","object","setDataMax","onclick","deleteAttribute","set","display","material","/model/heatmap/test.glb","computeBoundingBox","toString","counter","apply","absolute","canvas","boundingBox","while (true) {}","position","exception","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","chain","warn","6443836hATHrE","1px solid #5384ff","Texture","return (function() ","gger","getZ","prototype","58474611EGPBvz","input","string","push","needsUpdate","geometry","14633264bPeyOc","161798ANjNnl","scale","primitive","_renderer","mesh_0","debu","1651730AQlpCe","heatmap-canvas","error","length","stateObject","setScalar","appendChild","call","radius","table","resource.cos","bind"];return(C=function(){return t})()}const A=k;!function(t,n){const e=k,o=C();for(;;)try{if(938210===parseInt(e(210))/1+-parseInt(e(189))/2*(parseInt(e(201))/3)+-parseInt(e(243))/4+-parseInt(e(215))/5+-parseInt(e(214))/6*(parseInt(e(257))/7)+-parseInt(e(256))/8+parseInt(e(250))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){B(this,(function(){const t=k,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(217),"i"),o=R("init");n[t(207)](o+t(241))&&e[t(207)](o+t(251))?R():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[k(233)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();T(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function(t(246)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n.console=n[t(220)]||{},o=["log",t(242),"info",t(191),t(239),t(198),"trace"];for(let r=0;r<o[t(192)];r++){const n=T.constructor[t(249)][t(200)](T),a=o[r],s=e[a]||n;n.__proto__=T[t(200)](T),n[t(231)]=s[t(231)][t(200)](s),e[a]=n}}))();const z=[A(222)];function k(t,n){const e=C();return k=function(t,n){return e[t-=186]},k(t,n)}const D=u({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=A;let s,i;const u=n,{nodes:m}=([s,i]=l((()=>t("https://opensource.cdn.icegl.cn"+e(229),{draco:!0,decoderPath:"./draco/"}))),s=await s,i(),s);m[e(187)][e(238)][e(226)](-5088.96,-3.08,39374.7),m[e(187)][e(258)][e(194)](.01);let g=null,v=null,y=null;v=new(o[e(245)])((()=>{const t=e;return y=document[t(218)](t(190)),y[t(203)][t(238)]=t(234),y[t(203)].top=t(202),y[t(203)].left="0",document.body[t(195)](y),g=c.create({container:y,width:256,height:256,blur:t(204),radius:u[t(197)]}),g[t(186)][t(235)][t(203)][t(208)]=t(244),g[t(186)].canvas[t(224)]=function(n){const e=t;g.addData({x:n.layerX,y:n[e(216)],value:1,radius:u[e(197)]}),g[e(223)](1),v&&(v[e(254)]=!0)},g})()[e(186)][e(235)]);const b={vertexShader:e(209),fragmentShader:e(240),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},w=new a(b);m[e(187)][e(228)]=w;return(t=>{const n=e;t[n(230)]();const{max:r,min:a}=t[n(236)];t[n(225)]("uv");const s=r.x-a.x,i=r.z-a.z,c=[];for(let e=0;e<t.attributes[n(238)][n(206)];e++)c[n(253)]((t[n(212)][n(238)][n(211)](e)-a.x)/s),c[n(253)]((t[n(212)][n(238)][n(248)](e)-a.z)/i);const u=new Float32Array(c);t.setAttribute("uv",new(o[n(213)])(u,2))})(m[e(187)][e(255)]),p((()=>{const t=e;y[t(203)][t(227)]=""+(u[t(205)]?"block":t(219))})),(t,n)=>{const o=e;return f(),d(o(259),{object:h(m)[o(187)]},null,8,z)}}});function R(t){function n(t){const e=k;if(typeof t===e(252))return function(t){}[e(221)](e(237))[e(233)](e(232));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(188)+e(247))[e(196)]("action"):function(){return!1}[e(221)](e(188)+e(247))[e(233)](e(193)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const O=U;!function(t,n){const e=U,o=E();for(;;)try{if(969569===-parseInt(e(460))/1*(parseInt(e(474))/2)+-parseInt(e(490))/3+parseInt(e(480))/4+-parseInt(e(493))/5*(-parseInt(e(487))/6)+-parseInt(e(502))/7+parseInt(e(475))/8+parseInt(e(469))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const P=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(497)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){P(this,(function(){const t=U,n=new RegExp(t(499)),e=new RegExp(t(463),"i"),o=Z("init");n.test(o+t(477))&&e[t(495)](o+t(467))?Z():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[U(497)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function E(){const t=["table","点击左侧蓝色画框","57197ZAxRie","length","constructor","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","show2dCanvas","exception","TresPerspectiveCamera","input","addBinding","2621817KGVyNX","action","radius","error","log","32PxsrOu","15220488Uttreh","#030311","chain",'{}.constructor("return this")( )',"TresDirectionalLight","6606024DGpsmb","gger","heatmapClick","toString","bind","圆圈的大小","stateObject","42zcTsad","while (true) {}","string","4337991RBVYlW","call","warn","81805baGmRV","prototype","test","__proto__","apply","console","function *\\( *\\)","addButton","显示二维图","4404323YcuoPX"];return(E=function(){return t})()}S(void 0,(function(){const t=U;let n;try{n=Function("return (function() "+t(478)+");")()}catch(r){n=window}const e=n.console=n[t(498)]||{},o=[t(473),t(492),"info",t(472),t(465),t(503),"trace"];for(let a=0;a<o.length;a++){const n=S[t(462)][t(494)][t(484)](S),r=o[a],s=e[r]||n;n[t(496)]=S.bind(S),n.toString=s[t(483)][t(484)](s),e[r]=n}}))();const M=u({__name:O(482),setup(t){const o=O,r={clearColor:o(476),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c[o(468)](a,o(464),{label:o(501)}),c.addBinding(a,o(471),{label:o(485),min:.1,max:30,step:.1}),c[o(500)]({title:o(459)}),(t,e)=>{const s=o,i=g("TresCanvas");return f(),v(i,I(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=b(s(466),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),w(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=b(s(479),{position:[5,10,7.5],color:"#ffffff",intensity:5},null,-1)),e[2]||(e[2]=b("TresGridHelper",{args:[50,25]},null,-1)),(f(),v(x,null,{default:y((()=>[w(D,_(j(a)),null,16)])),_:1}))])),_:1},16)}}});function U(t,n){const e=E();return U=function(t,n){return e[t-=459]},U(t,n)}function Z(t){function n(t){const e=U;if(typeof t===e(489))return function(t){}[e(462)](e(488)).apply("counter");1!==(""+t/t)[e(461)]||t%20==0?function(){return!0}[e(462)]("debu"+e(481))[e(491)](e(470)):function(){return!1}.constructor("debu"+e(481))[e(497)](e(486)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as default};
