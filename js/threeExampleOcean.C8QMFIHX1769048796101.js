import{importShared as e}from"./3d-tiles-renderer.DoRCwQO21769048796101.js";import{useLoop as t,OrbitControls_default as a,Sky_default as i}from"./index.DY1Qq3wV1769048796101.js";import{Pane as n}from"./tweakpane.BbuIEN141769048796101.js";import{useTexture as r}from"./customShaderMaterial.vue_vue_type_script_setup_true_lang.DdGZ7MOv1769048796101.js";import"./index.vue_vue_type_script_setup_true_lang.BHWkoeSz1769048796101.js";import{Water as o}from"./Water.CC0CAoaj1769048796101.js";const{withAsyncContext:l,defineComponent:s}=await e("vue"),{unref:u,openBlock:m,createElementBlock:p}=await e("vue"),d=["object","rotation-x"],{RepeatWrapping:c,Vector3:w,PlaneGeometry:v}=await e("three"),{watchEffect:f}=await e("vue"),h=s({__name:"threeExampleOcean",props:{size:{default:1},distortionScale:{default:3.7}},async setup(e){let a,i;const n=e,s=new v(1e3,1e3),h=([a,i]=l(()=>r("./plugins/water/images/waternormals.jpg")),a=await a,i(),a);h.wrapS=h.wrapT=c;const _=new o(s,{textureWidth:512,textureHeight:512,waterNormals:h,sunDirection:new w,sunColor:16777215,waterColor:7695,distortionScale:3.7});f(()=>{n.size&&(_.material.uniforms.size.value=n.size),n.distortionScale&&(_.material.uniforms.distortionScale.value=n.distortionScale)});const{onBeforeRender:x}=t();return x(()=>{_.material.uniforms.time.value+=1/60}),(e,t)=>(m(),p("primitive",{object:u(_),"rotation-x":-Math.PI/2},null,8,d))}}),{defineComponent:_}=await e("vue"),{createElementVNode:x,unref:g,createVNode:z,normalizeProps:C,guardReactiveProps:S,Suspense:j,withCtx:B,openBlock:b,createBlock:y,resolveComponent:P,mergeProps:k}=await e("vue"),{reactive:E}=await e("vue"),N=_({__name:"threeExampleOcean",setup(e){const t={clearColor:"#222",shadows:!0,alpha:!1},r=E({size:1,distortionScale:3.7}),o=new n({title:"参数",expanded:!0});o.addBinding(r,"distortionScale",{label:"水变化尺度",min:0,max:8,step:.1}),o.addBinding(r,"size",{label:"水精细度",min:.1,max:10,step:.1});const l=E({elevation:2,azimuth:180});return o.addBinding(l,"elevation",{label:"太阳地平线高",min:.1,max:10,step:.1}),o.addBinding(l,"azimuth",{label:"太阳地方位角",min:0,max:360,step:1}),(e,n)=>{const o=P("TresCanvas");return b(),y(o,k(t,{"window-size":""}),{default:B(()=>[n[0]||(n[0]=x("TresPerspectiveCamera",{position:[30,30,100]},null,-1)),z(g(a)),z(g(i),{turbidity:10,rayleigh:2,mieDirectionalG:.8,elevation:l.elevation,distance:1e4,azimuth:l.azimuth},null,8,["elevation","azimuth"]),(b(),y(j,null,{default:B(()=>[z(h,C(S(r)),null,16)]),_:1}))]),_:1},16)}}});export{N as default};
