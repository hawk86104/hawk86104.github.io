import{$ as t,N as e,d as n}from"./@tresjs.iXEJQd7J1721298764655.js";import{P as r}from"./tweakpane.yHWGBmom1721298764655.js";import"./index.IAj8AJLd1721298764655.js";import{a0 as s,a6 as o,aN as i}from"./three.0bBjBDi41721298764655.js";import{d as a,a4 as u,w as c,o as p,D as l,J as f,u as m,r as d,e as j,f as g,g as _,j as h,al as b,aj as w,ak as y,m as v}from"./@vue.Q1VpS3901721298764655.js";import{g as I}from"./utils.ds3SYOVJ1721298764655.js";import{_ as x}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.2AxMW3Dx1721298764655.js";import"./@vueuse.hS-CVzal1721298764655.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.7qb621vO1721298764655.js";import"./all.three.mckUbRfL1721298764655.js";import"./oimophysics.x0jH7fze1721298764655.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.uVOfr_Yu1721298764655.js";import"./index.2g5Dz76W1721298764655.js";import"./three-stdlib.z4qNuiyK1721298764655.js";import"./@pmndrs.18kFuzzQ1721298764655.js";import"./object-hash.eR6rYsIK1721298764655.js";import"./@amap.x_Go35DX1721298764655.js";import"./jszip.-g-_Ii-P1721298764655.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.XB6-BBD21721298764655.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.KPSmufWe1721298764655.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.8y7I-Eu11721298764655.js";import"./http.UNlLiiVr1721298764655.js";import"./axios.FVFoCDiv1721298764655.js";import"./pinia.3lNuHAZQ1721298764655.js";import"./@fesjs.brW7jqtK1721298764655.js";import"./vue-router.i1Z-d_LR1721298764655.js";import"./lodash-es.nFpJXAf-1721298764655.js";import"./@qlin.yHhFDldE1721298764655.js";import"./@floating-ui.BPbuo5Gx1721298764655.js";import"./@juggle.7yjBMqoW1721298764655.js";import"./color.-NH5ZRl41721298764655.js";import"./color-string.L0wIxLfQ1721298764655.js";import"./color-name.fIeyP4ao1721298764655.js";import"./simple-swizzle.LcKzPK_L1721298764655.js";import"./is-arrayish.yRLhp1b_1721298764655.js";import"./color-convert.gwbupsZV1721298764655.js";import"./lodash.KfWONT351721298764655.js";import"./naive-ui.0zy5I5Ut1721298764655.js";import"./css-render.4WJii-rY1721298764655.js";import"./@emotion.ZD_ZYAgY1721298764655.js";import"./@css-render.oHKFIPo_1721298764655.js";import"./seemly.SjiSeX2v1721298764655.js";import"./vooks.Qt4NLcq91721298764655.js";import"./evtd.DtfwxtIl1721298764655.js";import"./vueuc.gtV5b-Mn1721298764655.js";import"./vdirs.5-GO2Pv31721298764655.js";import"./treemate.dcEdf2le1721298764655.js";import"./date-fns.tUayDDzZ1721298764655.js";import"./date-fns-tz.9op0RJh51721298764655.js";import"./async-validator.-YBkpS4I1721298764655.js";import"./@tweenjs.F-UCJBA91721298764655.js";import"./utils.O9A1bznY1721298764655.js";import"./three-mesh-bvh.LM_bczGP1721298764655.js";import"./d3-geo.fnMf5TRh1721298764655.js";import"./d3-array.AhNJy1f41721298764655.js";const S=B;!function(t,e){const n=B,r=z();for(;;)try{if(195755===parseInt(n(501))/1+parseInt(n(509))/2+parseInt(n(487))/3+parseInt(n(497))/4*(-parseInt(n(464))/5)+parseInt(n(506))/6*(-parseInt(n(508))/7)+parseInt(n(484))/8+-parseInt(n(498))/9*(parseInt(n(470))/10))break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const k=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[B(505)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function z(){const t=["TresTubeGeometry","DoubleSide","wrapT","exception","console","trace","bind","counter","generateMipmaps","5wOUJfq","set","table","blending","call","#2bc4dc","2072390dBWtAJ","info","magFilter","warn","toString","input","init","prototype","speed","__proto__","fewNum","length","test","TresMesh","763072IcrmGe","stateObject","forEach","8706lQCjYu","closed","log","push","rotation","Vector3","gger","radius","fromArray","tubularSegments","485764qdUQzM","9LFFdyE","chain","color","228535SFqQpz","clockwise","constructor","map","apply","25764bZYqxI","TresMeshBasicMaterial","21rTrppm","420992vBSkxE","alphaMap","repeat","NearestFilter","linesList","return (function() ","CatmullRomCurve3","debu"];return(z=function(){return t})()}!function(){k(this,(function(){const t=B,e=new RegExp("function *\\( *\\)"),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=R(t(476));e[t(482)](r+t(499))&&n[t(482)](r+t(475))?R():r("0")}))()}();const L=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[B(505)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();function B(t,e){const n=z();return(B=function(t,e){return n[t-=459]})(t,e)}L(void 0,(function(){const t=B,e=function(){const t=B;let e;try{e=Function(t(514)+'{}.constructor("return this")( ));')()}catch(n){e=window}return e}(),n=e[t(459)]=e.console||{},r=[t(489),t(473),t(471),"error",t(520),t(466),t(460)];for(let s=0;s<r[t(481)];s++){const e=L[t(503)][t(477)][t(461)](L),o=r[s],i=n[o]||e;e[t(479)]=L[t(461)](L),e[t(474)]=i.toString.bind(i),n[o]=e}}))();const M=["args"],F=[S(467),S(504),"side",S(510),S(500)],N=a({__name:"streamLine",props:{color:{default:S(469)},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(n){const r=S;let a,d;const j=n,{map:g}=([a,d]=u((()=>e({map:"./plugins/digitalCity/image/line2.png"}))),a=await a,d(),a);g.needsUpdate=!0,g.wrapS=g[r(519)]=s,g.repeat.set(j.fewNum,1),g[r(491)]=j[r(502)]?0:Math.PI,g[r(463)]=!1,g[r(472)]=o[r(512)];let _=[];j[r(513)][r(486)]((t=>{const e=r;_[e(490)]((new(o[e(492)]))[e(495)](t))}));const h=new(o[r(515)])(_),{onLoop:b}=t();return b((()=>{const t=r;g.offset.x+=.002*j[t(478)]})),c((()=>[j[r(502)],j[r(480)]]),(([t,e])=>{const n=r;g.rotation=t?0:Math.PI,g[n(511)][n(465)](e,1)})),(t,e)=>{const n=r;return p(),l(n(483),null,[f(n(517),{args:[m(h),j[n(496)],j[n(494)],j.radialSegments,j[n(488)]]},null,8,M),f(n(507),{blending:i,map:m(g),side:o[n(518)],alphaMap:m(g),transparent:!0,color:j[n(500)]},null,8,F)])}}});function R(t){function e(t){const n=B;if("string"==typeof t)return function(t){}[n(503)]("while (true) {}")[n(505)](n(462));1!==(""+t/t)[n(481)]||t%20==0?function(){return!0}[n(503)](n(516)+n(493))[n(468)]("action"):function(){return!1}[n(503)](n(516)+n(493))[n(505)](n(485)),e(++t)}try{if(t)return e;e(0)}catch(n){}}function A(){const t=["1638955BqwObC","constructor","info","chain","顺时针流动","#201919","管道壁圆润","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","5765xtjpAV","counter","console","linesList","while (true) {}","addBinding","debu","gger","流线数量","stateObject",'{}.constructor("return this")( )',"5831144VLgYFp","radius","管道半径","458eUNlfx","speed","闭合管道","2400297PQYtYY","apply","TresPerspectiveCamera","__proto__","1046064kmjfPP","log","流光颜色","trace","action","toString","#bd01ff","4LkAshG","input","return (function() ","length","bind","管道路径平滑","70bRUbiq","error","test","function *\\( *\\)","clockwise","color","2915416rGVGdr","exception","28XpRyZS","2095299JsKKRN","tubularSegments"];return(A=function(){return t})()}function C(t,e){const n=A();return(C=function(t,e){return n[t-=367]})(t,e)}const P=C;!function(t,e){const n=C,r=A();for(;;)try{if(905683===-parseInt(n(406))/1*(parseInt(n(367))/2)+parseInt(n(370))/3+-parseInt(n(381))/4*(-parseInt(n(398))/5)+-parseInt(n(374))/6*(parseInt(n(395))/7)+-parseInt(n(393))/8+-parseInt(n(396))/9*(-parseInt(n(387))/10)+parseInt(n(417))/11)break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const T=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(371)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){T(this,(function(){const t=C,e=new RegExp(t(390)),n=new RegExp(t(405),"i"),r=G("init");e[t(389)](r+t(401))&&n[t(389)](r+t(382))?G():r("0")}))()}();const q=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[C(371)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();q(void 0,(function(){const t=C;let e;try{e=Function(t(383)+t(416)+");")()}catch(s){e=window}const n=e[t(408)]=e[t(408)]||{},r=[t(375),"warn",t(400),t(388),t(394),"table",t(377)];for(let o=0;o<r.length;o++){const e=q[t(399)].prototype[t(385)](q),s=r[o],i=n[s]||e;e[t(373)]=q[t(385)](q),e.toString=i[t(379)].bind(i),n[s]=e}}))();const D=f(P(372),{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1),E=a({__name:"streamLines",async setup(t){const e=P;let s,o;const i=d({reflectivity:.1,showGridHelper:!1,scale:5}),a=d({color:e(380),radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),c=new r;c[e(411)](a,e(392),{label:e(376)}),c.addBinding(a,e(418),{label:e(419),min:.01,max:1,step:.01}),c[e(411)](a,e(368),{label:"跑动速度",min:.1,max:10,step:.1}),c.addBinding(a,e(397),{label:e(386),min:1,max:100,step:1}),c[e(411)](a,"radialSegments",{label:e(404),min:1,max:20,step:1}),c[e(411)](a,"closed",{label:e(369)}),c.addBinding(a,e(391),{label:e(402)}),c[e(411)](a,"fewNum",{label:e(414),min:1,max:10,step:1});const l=([s,o]=u((()=>I("./plugins/simpleGIS/json/320000_full.json"))),s=await s,o(),s);return(t,r)=>{const s=e,o=j("TresCanvas");return p(),g(o,{clearColor:s(403),"window-size":""},{default:_((()=>[D,h(m(n),{enableDamping:"",autoRotate:""}),(p(),g(b,null,{default:_((()=>[h(N,w(y(a)),null,16)])),_:1})),(p(),g(b,null,{default:_((()=>[h(N,{linesList:m(l),position:[0,0,-4]},null,8,[s(409)])])),_:1})),(p(),g(b,null,{default:_((()=>[h(m(x),v({position:[0,-.5,0]},i),null,16)])),_:1}))])),_:1})}}});function G(t){function e(t){const n=C;if("string"==typeof t)return function(t){}.constructor(n(410)).apply(n(407));1!==(""+t/t)[n(384)]||t%20==0?function(){return!0}[n(399)]("debu"+n(413)).call(n(378)):function(){return!1}[n(399)](n(412)+n(413))[n(371)](n(415)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{E as default};
