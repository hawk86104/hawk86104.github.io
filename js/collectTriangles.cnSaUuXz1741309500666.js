import{m as t,e as n,l as e,o as r,J as o}from"./@tresjs.yaBKiR-I1741309500666.js";import{_ as s}from"./index.ou95lFHK1741309500666.js";import{_ as i,B as c,r as u,cD as a}from"./three.8tDGqmLF1741309500666.js";import{P as l}from"./tweakpane.yDiyAAkA1741309500666.js";import{I as p,C as f,N as m,c as h,d as g,a as d}from"./three-mesh-bvh.gdrUeCX71741309500666.js";import{d as y,a3 as w,b as j,a2 as b,o as I,H as v,N as _,u as x,F as M,r as T,e as k,j as z,g as A,m as Z,f as S,al as R}from"./@vue.NRI7TcgI1741309500666.js";import"./postprocessing.5pHDeDVF1741309500666.js";import"./@vueuse.7Aa9Vkmy1741309500666.js";import"./index.JeJ9CWTx1741309500666.js";import"./@fesjs.x4z0tZxE1741309500666.js";import"./vue-router.vxk1Hu8C1741309500666.js";import"./lodash-es.pklfUAS51741309500666.js";import"./@qlin.yHhFDldE1741309500666.js";import"./pinia.f1wUCX_f1741309500666.js";import"./@floating-ui.BPbuo5Gx1741309500666.js";import"./@juggle.7yjBMqoW1741309500666.js";import"./chalk.9FGrMJNn1741309500666.js";/* empty css                                 */import"./iconify-icon.BVOVpC8G1741309500666.js";import"./@iconify.dt4P0LGS1741309500666.js";import"./dompurify.rQUea5mq1741309500666.js";import"./utils.1_pz9HT21741309500666.js";import"./default.vue_vue_type_script_setup_true_lang.U8w_0HOg1741309500666.js";import"./three-mesh-ui.module.jQpPm9ZQ1741309500666.js";!function(t,n){const e=C,r=F();for(;;)try{if(272857===parseInt(e(363))/1*(parseInt(e(375))/2)+-parseInt(e(399))/3*(parseInt(e(374))/4)+parseInt(e(406))/5*(-parseInt(e(398))/6)+parseInt(e(408))/7*(parseInt(e(383))/8)+parseInt(e(409))/9*(parseInt(e(384))/10)+-parseInt(e(364))/11*(parseInt(e(377))/12)+-parseInt(e(369))/13)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const B=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[C(372)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){B(this,(function(){const t=C,n=new RegExp(t(367)),e=new RegExp(t(401),"i"),r=E(t(412));n.test(r+t(392))&&e[t(390)](r+t(391))?E():r("0")}))()}();const O=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function C(t,n){const e=F();return(C=function(t,n){return e[t-=361]})(t,n)}O(void 0,(function(){const t=C,n=function(){const t=C;let n;try{n=Function("return (function() "+t(413)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(376)]||{},r=[t(403),t(405),"info",t(386),t(410),t(388),"trace"];for(let o=0;o<r[t(389)];o++){const n=O[t(373)][t(385)].bind(O),s=r[o],i=e[s]||n;n[t(414)]=O[t(378)](O),n[t(407)]=i.toString[t(378)](i),e[s]=n}}))();function E(t){function n(t){const e=C;if("string"==typeof t)return function(t){}.constructor("while (true) {}")[e(372)](e(366));1!==(""+t/t)[e(389)]||t%20==0?function(){return!0}.constructor(e(382)+e(404))[e(411)](e(397)):function(){return!1}[e(373)](e(382)+e(404))[e(372)](e(371)),n(++t)}try{if(t)return n;n(0)}catch(e){}}function F(){const t=["exception","call","init",'{}.constructor("return this")( )',"__proto__","Raycaster","innerWidth","1ufjDyv","22sgHtJA","pointermove","counter","function *\\( *\\)","innerHeight","1874262TEYMmb","pointerType","stateObject","apply","constructor","4WWypmp","454018vZZMDh","console","117732wAjrEn","bind","pointerdown","enabled","clientX","debu","104lCiXrj","30XINoNy","prototype","error","intersectObject","table","length","test","input","chain","pointerup","addEventListener","clientY","firstHitOnly","action","426XIwtQp","732015QJdFxw","button","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","value","log","gger","warn","5305OrzjFl","toString","257327fkSPPT","153261OaPJcZ"];return(F=function(){return t})()}const D=J;!function(t,n){const e=J,r=G();for(;;)try{if(425033===-parseInt(e(373))/1+parseInt(e(432))/2*(-parseInt(e(440))/3)+-parseInt(e(443))/4+-parseInt(e(426))/5+parseInt(e(449))/6*(-parseInt(e(438))/7)+parseInt(e(406))/8+parseInt(e(422))/9)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const H=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(441)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function J(t,n){const e=G();return(J=function(t,n){return e[t-=371]})(t,n)}!function(){H(this,(function(){const t=J,n=new RegExp(t(393)),e=new RegExp(t(375),"i"),r=L(t(413));n[t(458)](r+t(401))&&e[t(458)](r+t(417))?L():r("0")}))()}();const P=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[J(441)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();P(void 0,(function(){const t=J,n=function(){const t=J;let n;try{n=Function(t(445)+t(376)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},r=[t(381),t(386),"info",t(423),t(411),"table","trace"];for(let o=0;o<r[t(384)];o++){const n=P[t(399)].prototype[t(409)](P),s=r[o],i=e[s]||n;n[t(390)]=P[t(409)](P),n[t(400)]=i[t(400)][t(409)](i),e[s]=n}}))();const W=[D(396),D(428)],Y=[D(396)];function G(){const t=["error","targetMesh","TresMesh","3645fyMxnW","setFromCamera","material","radius","getY","index","122978DnsYnm","needsUpdate","setZ","setScalar","MeshStandardMaterial","instance","2755963mZqLkn","enabled","33iyEnwF","apply","BufferAttribute","363736jBvfIh","debu","return (function() ","addButton","push","intersectsSphere","6kOVIer","disposeBoundsTree","color","getX","gger","setAttribute","invert","controls","setUsage","test","active","getZ","prototype","matrixWorld","normal","447011TjKeHU","Matrix4","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"生成模型","raycast","counter","targetMesh.value init","log","center","action","length","shapecast","warn","#023249","model","stateObject","__proto__","Vector2","Vector3","function *\\( *\\)","position","count","geometry","BufferGeometry","boundsTree","constructor","toString","chain","applyMatrix4","value","set","call","6665736iDVMgv","copy","点击按钮","bind","Sphere","exception","DynamicDrawUsage","init","setX","computeBoundsTree","visible","input","while (true) {}","scale","TresSphereGeometry","attributes","10805202boZoKQ"];return(G=function(){return t})()}const K=y({__name:D(388),props:{controls:{}},async setup(r){const o=D;let s,y;const T=r;(()=>{const t=J;i[t(397)][t(461)].computeBoundsTree=h,c[t(461)][t(450)]=g,u[t(461)][t(378)]=d})();const k=([s,y]=w((()=>e(a,"./plugins/industry4/model/TR12J_OCC.stl"))),s=await s,y(),s),z=new(i[o(436)])({color:16777215,roughness:.2,metalness:1,vertexColors:!0}),A=new Uint8Array(3*k[o(421)][o(394)][o(395)]);A.fill(255);const Z=new(i[o(442)])(A,3,!0);Z[o(457)](i[o(412)]),k[o(454)](o(451),Z);const S=j(null),R=j(null),B=j(!1),O=j(-1),E=j(.2),F=new(i[o(391)]),{camera:H,raycaster:P}=t(),G=15/255,K=78/255,L=85/255;let U=null;b((()=>{const t=o;S[t(403)]&&(console[t(381)](t(380),S[t(403)]),S[t(403)][t(396)][t(415)](),U=k[t(398)],((t,n,e,r,o,s)=>{const c=C;window[c(394)](c(365),(e=>{const r=c;t.x=e[r(381)]/window[r(362)]*2-1,t.y=-e.clientY/window.innerHeight*2+1,n[r(402)]=!0})),window[c(394)](c(379),(u=>{const a=c;t.x=u[a(381)]/window[a(362)]*2-1,t.y=-u[a(395)]/window[a(368)]*2+1,r[a(402)]=u[a(400)];const l=new(i[a(361)]);l.setFromCamera(t,e[a(402)]),l[a(396)]=!0;const p=l[a(387)](o.value,!0);n[a(402)]=!0,s[a(380)]=0===p[a(389)]}),!0),window[c(394)](c(393),(t=>{const e=c;r[e(402)]=-1,"touch"===t[e(370)]&&(n[e(402)]=!1)}),!0)})(F,B,H,O,S,T[t(456)][t(437)]))}));const{onLoop:X}=n();X((()=>{const t=o,n=k[t(431)];if(R[t(403)])if(T.controls[t(437)][t(459)]||!B[t(403)])R[t(403)][t(416)]=!1;else{R.value[t(419)][t(435)](E[t(403)]),P[t(403)][t(427)](F,H[t(403)]),P.value.firstHitOnly=!0;const e=P[t(403)].intersectObject(S[t(403)],!0);if(e[t(384)]){R[t(403)].position[t(407)](e[0].point),T[t(456)].instance.enabled=!1,R.value[t(416)]=!0;const r=new(i[t(374)]);r[t(407)](S[t(403)][t(371)])[t(455)]();const o=new(i[t(410)]);o[t(382)][t(407)](R[t(403)][t(394)])[t(402)](r),o[t(429)]=100*E[t(403)];const s=[],c=new(i[t(392)]);if(null==U||U[t(385)]({intersectsBounds:n=>{const e=t,r=o.intersectsBox(n),{min:s,max:i}=n;if(r){for(let t=0;t<=1;t++)for(let n=0;n<=1;n++)for(let r=0;r<=1;r++)if(c[e(404)](0===t?s.x:i.x,0===n?s.y:i.y,0===r?s.z:i.z),!o.containsPoint(c))return p;return f}return r?p:m},intersectsTriangle:(n,e,r)=>{const i=t;if(r||n[i(448)](o)){const t=3*e;s[i(447)](t,t+1,t+2)}return!1}}),0===O[t(403)]||2===O[t(403)]){let e=1,r=1,o=1;0===O[t(403)]&&(e=G,r=K,o=L);for(let i=0,c=s[t(384)];i<c;i++){const c=n[t(452)](s[i]);Z[t(414)](c,e),Z.setY(c,r),Z[t(434)](c,o)}Z[t(433)]=!0}}else R[t(403)].visible=!1,T[t(456)].instance[t(439)]=!0}}));const $=(new l)[o(446)]({title:o(408),label:o(377)}),q=new(i[o(397)]);return $.on("click",(()=>{const t=o,n=[],e=[];for(let o=0;o<Z[t(395)];o++)Z[t(452)](o)===G&&Z[t(430)](o)===K&&Z[t(460)](o)===L&&(n[t(447)](k.attributes[t(394)][t(452)](o),k[t(421)].position[t(430)](o),k.attributes[t(394)][t(460)](o)),e.push(k[t(421)][t(372)][t(452)](o),k[t(421)][t(372)][t(430)](o),k[t(421)][t(372)][t(460)](o)));const r=new Float32Array(n);q.setAttribute(t(394),new(i[t(442)])(r,3)),q[t(454)](t(372),new(i[t(442)])(r,3))})),(t,n)=>{const e=o;return I(),v(M,null,[_(e(425),{ref_key:e(424),ref:S,geometry:x(k),scale:.005,material:x(z)},null,8,W),_("TresMesh",{ref_key:"brushMesh",ref:R,visible:!1},n[0]||(n[0]=[_(e(420),{args:[1,40,40]},null,-1),_("TresMeshStandardMaterial",{color:15483002,roughness:.75,metalness:0,transparent:!0,opacity:.5,premultipliedAlpha:!0,emissive:15483002,emissiveIntensity:.5},null,-1)]),512),_("TresMesh",{geometry:x(q),position:[-2,-2,2],scale:.005},n[1]||(n[1]=[_("TresMeshStandardMaterial",{color:e(387),roughness:.2,metalness:0,envMapIntensity:.2},null,-1)]),8,Y)],64)}}});function L(t){function n(t){const e=J;if("string"==typeof t)return function(t){}.constructor(e(418)).apply(e(379));1!==(""+t/t)[e(384)]||t%20==0?function(){return!0}[e(399)](e(444)+e(453))[e(405)](e(383)):function(){return!1}[e(399)](e(444)+e(453)).apply(e(389)),n(++t)}try{if(t)return n;n(0)}catch(e){}}!function(t,n){const e=X,r=q();for(;;)try{if(224638===parseInt(e(424))/1*(parseInt(e(406))/2)+parseInt(e(432))/3*(-parseInt(e(449))/4)+parseInt(e(407))/5*(-parseInt(e(442))/6)+-parseInt(e(429))/7*(-parseInt(e(440))/8)+-parseInt(e(444))/9*(-parseInt(e(410))/10)+parseInt(e(427))/11+parseInt(e(404))/12*(parseInt(e(408))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(421)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function X(t,n){const e=q();return(X=function(t,n){return e[t-=401]})(t,n)}!function(){U(this,(function(){const t=X,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(415),"i"),r=N(t(409));n[t(413)](r+t(422))&&e[t(413)](r+t(448))?N():r("0")}))()}();const $=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[X(421)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function q(){const t=["neg-y.jpg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","return (function() ","stateObject","controlsRef","controls","pos-x.jpg","apply","chain","console","240mRgGSc","table","string","668415isDtrz","TresPerspectiveCamera","218967ZZQHjO","TresCanvas","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","3PnmAbB","value","call","while (true) {}",'{}.constructor("return this")( )',"pos-z.jpg","bind","TresAmbientLight","40qGerfx","debu","36474VKvugr","error","9ozbWEb","log","constructor","length","input","1075556WRKCMl","__proto__","trace","action","1308rfLceL","#999999","452uzryvG","285RKqGtm","51077zkMJsf","init","1403590hDUcmr","gger","neg-x.jpg","test"];return(q=function(){return t})()}$(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(416)+t(436)+");")()}catch(e){n=window}return n}(),e=n[t(423)]=n.console||{},r=[t(445),"warn","info",t(443),"exception",t(425),t(402)];for(let o=0;o<r[t(447)];o++){const n=$[t(446)].prototype[t(438)]($),s=r[o],i=e[s]||n;n[t(401)]=$[t(438)]($),n.toString=i.toString.bind(i),e[s]=n}}))();const V=y({__name:"collectTriangles",setup(t){const n=X,e=T({clearColor:n(405),antialias:!0}),i=T({autoRotate:!1}),c=j(null);return(t,u)=>{const a=n,l=k(a(430));return I(),v(M,null,[z(x(s)),z(l,Z(e,{"window-size":""}),{default:A((()=>[u[0]||(u[0]=_(a(428),{position:[5,1,15],fov:30,near:.1,far:1e3},null,-1)),z(x(r),Z({ref_key:a(418),ref:c},i),null,16),u[1]||(u[1]=_(a(439),{intensity:1},null,-1)),(I(),S(R,null,{default:A((()=>[z(K,{controls:c[a(433)]},null,8,[a(419)])])),_:1})),(I(),S(R,null,{default:A((()=>[z(x(o),{background:!1,files:[a(420),a(412),"pos-y.jpg",a(414),a(437),"neg-z.jpg"],path:a(431)})])),_:1}))])),_:1},16)],64)}}});function N(t){function n(t){const e=X;if(typeof t===e(426))return function(t){}[e(446)](e(435))[e(421)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(446)](e(441)+e(411))[e(434)](e(403)):function(){return!1}[e(446)](e(441)+"gger").apply(e(417)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{V as default};
