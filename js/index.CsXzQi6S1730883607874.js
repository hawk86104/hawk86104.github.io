var t=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(n,r,e)=>r in n?t(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e;import{an as c,f as u,s as a,F as f,V as h,M as p,B as l,Y as g,t as d,a as w,ak as v,aT as I,$ as y,cp as b}from"./three.fIUcjaNz1730883607874.js";import{t as m}from"./@mapbox.B0eb8ksJ1730883607874.js";import{c as x,d as M,a as _}from"./three-mesh-bvh.yJpBh0Yi1730883607874.js";import{z as R}from"./three-custom-shader-material.DD5mBNmu1730883607874.js";const T=j;function Z(){const t=["remove","abort","apply","string","parentTile","filter","exception","function *\\( *\\)","sort","log","toString","13323608cehFhV","intersectsBox","constructor","getTile","distanceToPoint","gger","call","counter","uniforms","error","update","bind","t_Matrix","while (true) {}","1425657TzTAJj","tileNo","trace","subdivide","prototype","init","isReady","applyMatrix4","material","getTranMatrix","stateObject","visible","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console","provider","6826218FWRKsQ","push","test","freeze","table","warn","6667493oyNPey","12tUyXMp","216095sbcaoF","length","debu","content","dispose","forEach","pow","1708713hYJeww","return (function() ","input","childrenTiles","add","boundingBoxWorld","3503710MbmrNF","maxZoom","ready","9tjJTHL","isDisposed","setFromObject","simplify","map"];return(Z=function(){return t})()}function j(t,n){const r=Z();return(j=function(t,n){return r[t-=342]})(t,n)}!function(t,n){const r=j,e=Z();for(;;)try{if(886943===parseInt(r(379))/1+parseInt(r(346))/2+-parseInt(r(410))/3+-parseInt(r(402))/4*(-parseInt(r(403))/5)+-parseInt(r(395))/6+parseInt(r(401))/7+-parseInt(r(365))/8*(parseInt(r(349))/9))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const z=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[j(356)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){z(this,(function(){const t=j,n=new RegExp(t(361)),r=new RegExp(t(392),"i"),e=P("init");n[t(397)](e+"chain")&&r[t(397)](e+t(342))?P():e("0")}))()}();const F=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[j(356)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();F(void 0,(function(){const t=j;let n;try{n=Function(t(411)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n.console=n[t(393)]||{},e=[t(363),t(400),t(391),t(374),t(360),t(399),t(381)];for(let i=0;i<e[t(404)];i++){const n=F[t(367)][t(383)][t(376)](F),o=e[i],s=r[o]||n;n.__proto__=F.bind(F),n[t(364)]=s[t(364)][t(376)](s),r[o]=n}}))();class O extends c{constructor(){const t=j;super(),this[t(350)]=!1,this.isReady=!1,this[t(343)]=[],this.boundingBoxWorld=new u}init(t,n,r){const e=j;this.tileNo=t,Object[e(398)](this[e(380)]),this[e(353)]=n,this[e(358)]=r,this[e(390)]=!1,this.renderOrder=t[2],this[e(348)]()}async[T(348)](){const t=T;if(this[t(406)]=await this[t(353)][t(394)][t(368)](this[t(380)]),!this[t(350)]){if(this[t(344)](this.content),this.boundingBoxWorld[t(351)](this.content)[t(386)](this.matrixWorld.makeRotationX(-Math.PI/2)),this.map[t(344)](this),this[t(390)]=!0,this.isReady=!0,this[t(358)]){const n=this.parentTile[t(343)];let r=0;for(let e=0;e<n.length;e++)n[e][t(385)]&&r++;4===r&&(this[t(358)][t(390)]=!1)}this[t(375)]()}}[T(375)](){const t=T;if(!this[t(385)]||this.isDisposed)return;const{cameraFrustum:n,cameraWorldPosition:r}=this[t(353)];if(!n[t(366)](this[t(345)]))return void this[t(352)]();this[t(406)]instanceof a&&this.map[t(394)][t(359)]&&(this[t(406)][t(387)][t(373)][t(377)].value=this[t(353)][t(394)][t(388)]());let e=this[t(345)][t(369)](r);const o=this.tileNo[2];e/=Math[t(409)](2,this[t(353)][t(394)][t(347)]-o),e<60&&this[t(382)](),e>80&&this.simplify();this[t(343)][t(362)](((n,e)=>n[t(345)][t(369)](r)-e[t(345)][t(369)](r)))[t(408)]((t=>t.update()))}[T(382)](){const t=T,{isReady:n,tileNo:r,map:e,childrenTiles:o}=this,i=r[2];if(!n||o[t(404)]>0||i>=e[t(347)])return;m.getChildren(r)[t(408)]((n=>{const r=t,i=new O;i[r(384)](n,e,this),o[r(396)](i)}))}[T(352)](){const t=T;this[t(343)].forEach((t=>t.dispose())),this[t(343)]=[],this[t(390)]=!0}[T(407)](){const t=T;this[t(353)][t(354)](this),this[t(353)][t(394)][t(355)](this.tileNo),this[t(343)][t(408)]((n=>n[t(407)]())),this[t(343)]=[],this[t(358)]=void 0,this.content&&(this[t(353)][t(394)].dispose(this[t(380)],this[t(406)]),this[t(406)]=void 0),this.isDisposed=!0}}function P(t){function n(t){const r=j;if(typeof t===r(357))return function(t){}[r(367)](r(378))[r(356)](r(372));1!==(""+t/t)[r(404)]||t%20==0?function(){return!0}[r(367)](r(405)+r(370))[r(371)]("action"):function(){return!1}.constructor(r(405)+r(370))[r(356)](r(389)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const S=W;!function(t,n){const r=W,e=k();for(;;)try{if(802123===-parseInt(r(177))/1+-parseInt(r(168))/2+parseInt(r(151))/3*(parseInt(r(137))/4)+-parseInt(r(185))/5*(parseInt(r(131))/6)+parseInt(r(159))/7*(parseInt(r(138))/8)+-parseInt(r(133))/9+-parseInt(r(136))/10*(-parseInt(r(132))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const E=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[W(158)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){E(this,(function(){const t=W,n=new RegExp(t(180)),r=new RegExp(t(130),"i"),e=B(t(173));n[t(178)](e+t(141))&&r[t(178)](e+t(195))?B():e("0")}))()}();const A=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[W(158)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function W(t,n){const r=k();return(W=function(t,n){return r[t-=129]})(t,n)}function k(){const t=["6860439ISCsKB","constructor","cameraWorldPosition","50IfkSCN","64072SvezoH","8HIIKlX","trace","equals","chain","counter","camera","visible","rootForward","initRootTiles","action","debu","push","console","9rgsFrG","call","lastUpdateTime","error","__proto__","length",'{}.constructor("return this")( )',"apply","7730653IiCVUT","update","rootForward needs to be 0 - 3.","toString","copy","stateObject","lastCameraProjectionMatrix","prototype","log","2461652OwNZOM","regenerate","maxZoom","projectionMatrix","warn","init","cameraProjectionMatrix","getWorldPosition","while (true) {}","474863njKXDD","test","multiplyMatrices","function *\\( *\\)","[Map.regenerate] Method not implemented.","cameraFrustum","bind","[Map.dispose] Method not implemented.","1865IpcKbS","rootTiles","gger","computeBoundsTree","matrixWorldInverse","bbox","disposeBoundsTree","string","setFromProjectionMatrix","lastCameraWorldPosition","input","dispose","forEach","raycast","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","15360bmQPCB","6759566mnYayX"];return(k=function(){return t})()}A(void 0,(function(){const t=W,n=function(){const t=W;let n;try{n=Function("return (function() "+t(157)+");")()}catch(r){n=window}return n}(),r=n[t(150)]=n.console||{},e=[t(167),t(172),"info",t(154),"exception","table",t(139)];for(let o=0;o<e[t(156)];o++){const n=A[t(134)][t(166)][t(183)](A),i=e[o],s=r[i]||n;n[t(155)]=A.bind(A),n[t(162)]=s[t(162)][t(183)](s),r[i]=n}}))();let C=class extends c{constructor(){const t=W;super(),this[t(190)]=[74.390592,6.900905,134.071423,54.318199],this[t(170)]=20,this[t(145)]=0,this[t(182)]=new f,this.cameraWorldPosition=new h,this[t(174)]=new p,this[t(165)]=new p,this.lastCameraWorldPosition=new h,this[t(186)]=[],this.lastUpdateTime=0,!l[t(166)][t(188)]&&(l.prototype[t(188)]=x),!l[t(166)].disposeBoundsTree&&(l[t(166)][t(191)]=M),a[t(166)][t(129)]=_}[S(146)](){const t=S;this.rootForward>3&&(console[t(172)]("rootForward needs to be 0 - 3."),this[t(145)]=3),this[t(145)]<0&&(console[t(172)](t(161)),this[t(145)]=0);const n=[];let r=[m.bboxToTile(this[t(190)])],e=this.rootForward;for(;e>0;){const n=[...r];r=[],n[t(197)]((t=>{const n=m.getChildren(t);r.push(...n)})),e--}n[t(149)](...r),n[t(197)]((n=>{const r=t,e=new O;e[r(173)](n,this),this[r(186)][r(149)](e)}))}[S(160)](){const t=S;if(!this[t(144)]||!this[t(143)])return;const n=Date.now();n-this[t(153)]<300||(0!==this[t(186)][t(156)]?(this[t(143)][t(175)](this[t(135)]),this[t(174)][t(179)](this[t(143)][t(171)],this[t(143)][t(189)]),this[t(135)][t(140)](this[t(194)])&&this[t(174)][t(140)](this[t(165)])||(this[t(182)][t(193)](this[t(174)]),this[t(186)][t(197)]((n=>n[t(160)]())),this[t(165)][t(163)](this.cameraProjectionMatrix),this.lastCameraWorldPosition[t(163)](this.cameraWorldPosition),this[t(153)]=n)):this[t(146)]())}[S(196)](){throw new Error(S(184))}[S(169)](){throw new Error(S(181))}};function B(t){function n(t){const r=W;if(typeof t===r(192))return function(t){}[r(134)](r(176))[r(158)](r(142));1!==(""+t/t)[r(156)]||t%20==0?function(){return!0}[r(134)]("debu"+r(187))[r(152)](r(147)):function(){return!1}[r(134)](r(148)+r(187))[r(158)](r(164)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const U=K;function D(){const t=["has","_controller","log","url","118358RGfNnn","pendings","test","promise","ready","5732736RQjyoa","constructor","init","2545794rWqnIM","get","8MWdDzg","gger","fetch","resolve","reject","length","toString","4559947SMjIYy","1467072OavEJi","stateObject","User abort.","listeners","abort","return (function() ","5WULLPN","error","size","action","5371940jCTQdA","1mNuKGH","2627796yweXTs","clone","delete","signal","bind","forEach","debu","function *\\( *\\)","add","trace","apply","info","warn","set"];return(D=function(){return t})()}!function(t,n){const r=K,e=D();for(;;)try{if(499692===parseInt(r(377))/1*(-parseInt(r(348))/2)+parseInt(r(378))/3+-parseInt(r(366))/4+-parseInt(r(372))/5*(-parseInt(r(353))/6)+-parseInt(r(365))/7+parseInt(r(358))/8*(parseInt(r(356))/9)+-parseInt(r(376))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const $=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[K(340)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function K(t,n){const r=D();return(K=function(t,n){return r[t-=335]})(t,n)}!function(){$(this,(function(){const t=K,n=new RegExp(t(337)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=Y("init");n[t(350)](e+"chain")&&r[t(350)](e+"input")?Y():e("0")}))()}();const N=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[K(340)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();N(void 0,(function(){const t=K;let n;try{n=Function(t(371)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n.console=n.console||{},e=[t(346),t(342),t(341),t(373),"exception","table",t(339)];for(let i=0;i<e[t(363)];i++){const n=N[t(354)].prototype.bind(N),o=e[i],s=r[o]||n;n.__proto__=N[t(382)](N),n[t(364)]=s[t(364)][t(382)](s),r[o]=n}}))();const X=class t{constructor(){const t=K;this[t(345)]=new AbortController,this[t(369)]=new Set}[U(360)](c,u={}){const a=U;var f,h;t[a(349)][a(344)](c)||(t[a(349)][a(343)](c,this),fetch(c,(f=((t,n)=>{for(var r in n||(n={}))o.call(n,r)&&s(t,r,n[r]);if(e)for(var r of e(n))i.call(n,r)&&s(t,r,n[r]);return t})({},u),h={signal:this[a(345)][a(381)]},n(f,r(h)))).then((t=>{const n=a;this[n(369)][n(335)]((r=>r[n(361)](t[n(379)]())))})).catch((t=>{const n=a;this[n(369)][n(335)]((n=>n.reject(t)))})).finally((()=>{const n=a;t[n(349)][n(380)](c)})))}[U(370)](){const t=U;this[t(345)][t(370)]()}};X[U(349)]=new Map;let Q=X;class J{constructor(t,n){const r=U;this.url=t,this[r(355)]=n,this.promise=new Promise(((t,n)=>{const e=r;this[e(361)]=t,this[e(362)]=n}))}[U(352)](){const t=U;let n=Q.pendings.get(this.url);return!n&&(n=new Q,n[t(360)](this[t(347)],this.init)),n[t(369)][t(338)](this),this[t(351)]}[U(370)](){const t=U;this[t(362)](t(368));const n=Q[t(349)][t(357)](this[t(347)]);n&&(n[t(369)].delete(this),0===n[t(369)][t(374)]&&n[t(370)]())}}function Y(t){function n(t){const r=K;if("string"==typeof t)return function(t){}[r(354)]("while (true) {}")[r(340)]("counter");1!==(""+t/t)[r(363)]||t%20==0?function(){return!0}.constructor(r(336)+"gger").call(r(375)):function(){return!1}[r(354)](r(336)+r(359))[r(340)](r(367)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){const r=q,e=G();for(;;)try{if(779255===parseInt(r(219))/1*(parseInt(r(230))/2)+parseInt(r(225))/3*(parseInt(r(249))/4)+parseInt(r(264))/5+-parseInt(r(232))/6+parseInt(r(224))/7+-parseInt(r(257))/8*(-parseInt(r(262))/9)+-parseInt(r(218))/10)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const L=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[q(240)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function q(t,n){const r=G();return(q=function(t,n){return r[t-=218]})(t,n)}function G(){const t=["prototype","#00FFFF","function *\\( *\\)","action","log","stateObject",'{}.constructor("return this")( )',"20px Arial","20fRTqbi","chain","rect","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","error","debu","exception","1588808HXcoZY","table","test","fillStyle","while (true) {}","27FwSdTY","console","6074315qJuIZo","font","flipY","32348740LyLeJw","1nPHrJo","#44FF44",'Offscreencanvas.getContext("2d") error!',"constructor","bind","5087677LHScEe","765969zGQJqU","gger","call","fillText","toString","1905534AzuFGN","stroke","4516380sZohre","length","__proto__","return (function() ","#66AAFF","blob","info","getContext","apply"];return(G=function(){return t})()}!function(){L(this,(function(){const t=q,n=new RegExp(t(243)),r=new RegExp(t(252),"i"),e=tt("init");n.test(e+t(250))&&r[t(259)](e+t(253))?tt():e("0")}))()}();const V=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[q(240)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();let H;function tt(t){function n(t){const r=q;if("string"==typeof t)return function(t){}[r(222)](r(261)).apply("counter");1!==(""+t/t)[r(233)]||t%20==0?function(){return!0}.constructor(r(255)+r(226))[r(227)](r(244)):function(){return!1}[r(222)](r(255)+r(226))[r(240)](r(246)),n(++t)}try{if(t)return n;n(0)}catch(r){}}V(void 0,(function(){const t=q,n=function(){const t=q;let n;try{n=Function(t(235)+t(247)+");")()}catch(r){n=window}return n}(),r=n[t(263)]=n[t(263)]||{},e=[t(245),"warn",t(238),t(254),t(256),t(258),"trace"];for(let o=0;o<e[t(233)];o++){const n=V[t(222)][t(241)][t(223)](V),i=e[o],s=r[i]||n;n[t(234)]=V.bind(V),n[t(229)]=s[t(229)][t(223)](s),r[i]=n}}))();const nt=it;function rt(){const t=["get","__proto__","11079vKrkuU","console","terminated","log","2899vJfECN","onmessage","onMessage","clear","input","data","call","error","bind","table","warn","map","4138320mDWJUV","debu","5590410UhqObb","info","action","274SkkJIn","apply","length","string","5yYlwOg","gger","prototype","postMessage","worker","6008MDMiHb","trace","2032056ZrKbnZ","328108iuAVmg","function *\\( *\\)","return (function() ","init","constructor","delete","toString","test","while (true) {}","43084WrxaNf","610RQtHvR","counter","terminate"];return(rt=function(){return t})()}!function(t,n){const r=it,e=rt();for(;;)try{if(470421===parseInt(r(467))/1*(parseInt(r(436))/2)+parseInt(r(447))/3+parseInt(r(457))/4*(-parseInt(r(440))/5)+-parseInt(r(431))/6+-parseInt(r(433))/7+-parseInt(r(445))/8*(parseInt(r(463))/9)+parseInt(r(458))/10*(parseInt(r(448))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const et=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[it(437)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){et(this,(function(){const t=it,n=new RegExp(t(449)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=ct(t(451));n[t(455)](e+"chain")&&r[t(455)](e+t(471))?ct():e("0")}))()}();const ot=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function it(t,n){const r=rt();return(it=function(t,n){return r[t-=425]})(t,n)}ot(void 0,(function(){const t=it;let n;try{n=Function(t(450)+'{}.constructor("return this")( ));')()}catch(o){n=window}const r=n.console=n[t(464)]||{},e=[t(466),t(429),t(434),t(426),"exception",t(428),t(446)];for(let i=0;i<e[t(438)];i++){const n=ot[t(452)][t(442)][t(427)](ot),o=e[i],s=r[o]||n;n[t(462)]=ot[t(427)](ot),n[t(454)]=s[t(454)][t(427)](s),r[o]=n}}))();class st{constructor(t){const n=it;this[n(465)]=!0,this[n(430)]=new Map,this.worker=new t,this[n(444)][n(468)]=this[n(469)][n(427)](this),this[n(465)]=!1}async[nt(443)](t){const n=nt;if(!this[n(465)])return this[n(444)][n(443)](t),new Promise(((r,e)=>{this[n(430)].set(t.id,r)}))}[nt(469)](t){const n=nt,{id:r,error:e}=t[n(472)],o=this[n(430)][n(461)](r);o&&!e&&o(t.data),this[n(430)][n(453)](r)}[nt(460)](){const t=nt;this[t(444)][t(468)]=null,this.worker[t(460)](),this.terminated=!0,this[t(430)][t(470)]()}}function ct(t){function n(t){const r=it;if(typeof t===r(439))return function(t){}[r(452)](r(456))[r(437)](r(459));1!==(""+t/t)[r(438)]||t%20==0?function(){return!0}[r(452)](r(432)+"gger")[r(425)](r(435)):function(){return!1}[r(452)](r(432)+r(441))[r(437)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ut(t){return new Worker(""+new URL("../static/MapWorker-cmTCnPX5.js",import.meta.url).href,{name:null==t?void 0:t.name})}const at=pt;function ft(){const t=["trace","counter","getTile","bitmap","debu","379696ygRJaV","apply","getUrl","791MnxKwv","join","init","log","indexOf","9531gwBxfO","3266630KRWCEK","postMessage","fetching","{y}","2718001TUztEW","[x]","bind","useWorker","string","table","prototype","function *\\( *\\)","input","cors","get","set","delete","source","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","chain","[y]","constructor","while (true) {}","showTileNo","dispose","length","image","needsUpdate","__proto__","force-cache","{x}","24YYkaYD","gger","getId","info","8189230vrjlcJ","test","_useWorker","warn","anisotropy","76404mKtggs","stateObject","action","https://gac-geo.googlecnapps.cn/maps/vt?lyrs=s&x=[x]&y=[y]&z=[z]","4NPUfnI","246PKBlOt","27jRYyov","terminate","toString","replace","_worker","abort","console","9171592qMEcVW"];return(ft=function(){return t})()}!function(t,n){const r=pt,e=ft();for(;;)try{if(870621===-parseInt(r(359))/1+-parseInt(r(345))/2*(-parseInt(r(367))/3)+parseInt(r(344))/4*(parseInt(r(335))/5)+-parseInt(r(340))/6*(parseInt(r(362))/7)+parseInt(r(353))/8+-parseInt(r(346))/9*(parseInt(r(368))/10)+parseInt(r(372))/11*(parseInt(r(331))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const ht=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[pt(360)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function pt(t,n){const r=ft();return(pt=function(t,n){return r[t-=316]})(t,n)}!function(){ht(this,(function(){const t=pt,n=new RegExp(t(379)),r=new RegExp(t(317),"i"),e=dt(t(364));n[t(336)](e+t(319))&&r[t(336)](e+t(380))?dt():e("0")}))()}();const lt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[pt(360)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();lt(void 0,(function(){const t=pt;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(o){n=window}const r=n[t(352)]=n[t(352)]||{},e=[t(365),t(338),t(334),t(318),"exception",t(377),t(354)];for(let i=0;i<e.length;i++){const n=lt[t(321)][t(378)][t(374)](lt),o=e[i],s=r[o]||n;n[t(328)]=lt[t(374)](lt),n.toString=s[t(348)].bind(s),r[o]=n}}))();class gt{constructor(){const t=pt;this.maxZoom=20,this[t(316)]=t(343),this[t(323)]=!1,this[t(337)]=!1,this[t(370)]=new Map}set[at(375)](t){var n;const r=at;this[r(337)]=t,!this[r(337)]&&(null==(n=this[r(350)])||n[r(347)](),this[r(350)]=void 0)}get[at(375)](){return this._useWorker}async[at(356)](t){const n=at,r=this[n(361)](t),e=new g;if(this._useWorker){!this._worker&&(this[n(350)]=new st(ut));const o=this.getId(t),i=await this[n(350)][n(369)]({id:o,tileNo:t,url:r,debug:this.showTileNo});e[n(326)]=i[n(357)]}else{const o=new J(r,{cache:n(329),mode:n(381)});this[n(370)][n(383)](t,o);try{e[n(326)]=await async function(t,n,r=!1){const e=q,o=await n.ready(),i=await o[e(237)](),s=await createImageBitmap(i,r?void 0:{imageOrientation:"flipY"});if(!r)return s;!H&&(H=new OffscreenCanvas(256,256));const c=H[e(239)]("2d");if(!c)throw new Error(e(221));const{width:u,height:a}=H;return c.drawImage(s,0,0),c[e(251)](0,0,u,a),c.strokeStyle=e(242),c[e(265)]=e(248),c[e(231)](),c[e(260)]="#FF4444",c.fillText(""+t[0],10,30),c[e(260)]=e(220),c[e(228)](""+t[1],10,55),c[e(260)]=e(236),c[e(228)](""+t[2],10,80),await createImageBitmap(H,{imageOrientation:e(266)})}(t,o,this.showTileNo)}finally{this[n(370)][n(384)](t)}}return e[n(327)]=!0,e[n(339)]=4,e}[at(351)](t){var n;const r=at;if(this[r(337)])null==(n=this[r(350)])||n[r(369)]({id:this[r(333)](t),abort:!0});else{const n=this[r(370)][r(382)](t);n&&n[r(351)](),this[r(370)][r(384)](t)}}[at(324)](t,n){n[at(324)]()}[at(333)](t){return t[at(363)]("-")}[at(361)](t){const n=at,[r,e,o]=t;return-1===this[n(316)][n(366)](n(373))?this[n(316)].replace(n(330),r+"")[n(349)](n(371),e+"").replace("{z}",o+""):this[n(316)].replace("[x]",r+"")[n(349)](n(320),e+"")[n(349)]("[z]",o+"")}}function dt(t){function n(t){const r=pt;if(typeof t===r(376))return function(t){}[r(321)](r(322))[r(360)](r(355));1!==(""+t/t)[r(325)]||t%20==0?function(){return!0}[r(321)](r(358)+r(332)).call(r(342)):function(){return!1}.constructor("debu"+r(332))[r(360)](r(341)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const wt=Ot;!function(t,n){const r=Ot,e=Zt();for(;;)try{if(383542===-parseInt(r(459))/1+-parseInt(r(470))/2*(-parseInt(r(448))/3)+parseInt(r(475))/4+parseInt(r(430))/5*(parseInt(r(452))/6)+-parseInt(r(447))/7*(parseInt(r(441))/8)+parseInt(r(460))/9*(-parseInt(r(471))/10)+parseInt(r(480))/11)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const vt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ot(476)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){vt(this,(function(){const t=Ot,n=new RegExp(t(473)),r=new RegExp(t(463),"i"),e=Pt("init");n[t(440)](e+"chain")&&r[t(440)](e+"input")?Pt():e("0")}))()}();const It=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Ot(476)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();It(void 0,(function(){const t=Ot,n=function(){const t=Ot;let n;try{n=Function("return (function() "+t(464)+");")()}catch(r){n=window}return n}(),r=n[t(437)]=n[t(437)]||{},e=[t(474),t(462),t(478),t(479),t(436),t(433),t(469)];for(let o=0;o<e[t(435)];o++){const n=It[t(427)][t(449)].bind(It),i=e[o],s=r[i]||n;n.__proto__=It.bind(It),n[t(444)]=s[t(444)][t(429)](s),r[i]=n}}))();const yt=wt(458),bt=wt(453),mt=6378137,xt=Math.PI/180;function Mt(t,n){const r=wt;return[mt*t*xt,mt*Math[r(474)](Math[r(431)](.25*Math.PI+n*xt*.5))]}function _t(t,n){const r=wt;let e=t/(mt*Math.PI)*180,o=n/(mt*Math.PI)*180;return o=180/Math.PI*(2*Math[r(454)](Math[r(438)](o*Math.PI/180))-Math.PI/2),[e,o]}function Rt(t){return t*Math.PI/180}function Tt(t){return 180*t/Math.PI}function Zt(){const t=["cos","while (true) {}","119vpOqAM","1128EjzxCp","prototype","stateObject","counter","60eyuMzO","merc","atan","string","sinh","gger","utm","176503Whbgjb","63zFwOhw","atan2","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)",'{}.constructor("return this")( )',"tanh","debu","floor","action","trace","1262clNQTa","642470UfbXgD","toFixed","function *\\( *\\)","log","266428aMbSPM","apply","sqrt","info","error","6195684TGyRYf","constructor","’ outside UTM limits","bind","313490XtpEUb","tan","atanh","table","sin","length","exception","console","exp","abs","test","227912jsZecB","cosh","asinh","toString"];return(Zt=function(){return t})()}const jt={a:6378137,b:6356752.314245,f:1/298.257223563};function zt(t,n,r){const e=wt;if(!(-80<=n&&n<=84))throw new RangeError("latitude ‘"+n+e(428));let o=r||Math.floor((t+180)/6)+1,i=Rt(6*(o-1)-180+3);const s="CDEFGHJKLMNPQRSTUVWXX".charAt(Math[e(467)](n/8+10));31===o&&"V"===s&&t>=3?(o++,i+=Rt(6)):32===o&&"X"===s&&t<9?(o--,i-=Rt(6)):32===o&&"X"===s&&t>=9?(o++,i+=Rt(6)):34===o&&"X"===s&&t<21?(o--,i-=Rt(6)):34===o&&"X"===s&&t>=21?(o++,i+=Rt(6)):36===o&&"X"===s&&t<33?(o--,i-=Rt(6)):36===o&&"X"===s&&t>=33&&(o++,i+=Rt(6));const c=Rt(n),u=Rt(t)-i,{a:a,f:f}=jt,h=.9996,p=Math[e(477)](f*(2-f)),l=f/(2-f),g=l*l,d=l*g,w=l*d,v=l*w,I=l*v,y=Math[e(445)](u),b=Math[e(434)](u),m=Math[e(431)](c),x=Math[e(456)](p*Math.atanh(p*m/Math[e(477)](1+m*m))),M=m*Math[e(477)](1+x*x)-x*Math[e(477)](1+m*m),_=Math[e(461)](M,y),R=Math[e(443)](b/Math[e(477)](M*M+y*y)),T=a/(1+l)*(1+1/4*g+1/64*w+1/256*I),Z=[null,.5*l-2/3*g+5/16*d+41/180*w-127/288*v+7891/37800*I,13/48*g-.6*d+557/1440*w+281/630*v-1983433/1935360*I,61/240*d-103/140*w+15061/26880*v+167603/181440*I,49561/161280*w-179/168*v+6601661/7257600*I,34729/80640*v-3418889/1995840*I,.6650675310896665*I];let j=_;for(let P=1;P<=6;P++)j+=Z[P]*Math[e(434)](2*P*_)*Math.cosh(2*P*R);let z=R;for(let P=1;P<=6;P++)z+=Z[P]*Math.cos(2*P*_)*Math[e(456)](2*P*R);let F=h*T*z,O=h*T*j;return F+=5e5,O<0&&(O+=1e7),[F,O]}function Ft(t,n,r){const e=wt,{a:o,f:i}=jt,s=.9996,c=t-5e5,u=n,a=Math[e(477)](i*(2-i)),f=i/(2-i),h=f*f,p=f*h,l=f*p,g=f*l,d=f*g,w=o/(1+f)*(1+1/4*h+1/64*l+1/256*d),v=c/(s*w),I=u/(s*w),y=[null,.5*f-2/3*h+37/96*p-1/360*l-81/512*g+96199/604800*d,1/48*h+1/15*p-437/1440*l+46/105*g-1118711/3870720*d,17/480*p-37/840*l-209/4480*g+5569/90720*d,4397/161280*l-11/504*g-830251/7257600*d,4583/161280*g-108847/3991680*d,20648693/638668800*d];let b=I;for(let A=1;A<=6;A++)b-=y[A]*Math.sin(2*A*I)*Math[e(442)](2*A*v);let m=v;for(let A=1;A<=6;A++)m-=y[A]*Math[e(445)](2*A*I)*Math[e(456)](2*A*v);const x=Math[e(456)](m),M=Math[e(434)](b),_=Math[e(445)](b),R=M/Math[e(477)](x*x+_*_);let T=null,Z=R;do{const t=Math[e(456)](a*Math[e(432)](a*Z/Math[e(477)](1+Z*Z))),n=Z*Math[e(477)](1+t*t)-t*Math[e(477)](1+Z*Z);T=(R-n)/Math.sqrt(1+n*n)*(1+(1-a*a)*Z*Z)/((1-a*a)*Math.sqrt(1+Z*Z)),Z+=T}while(Math[e(439)](T)>1e-12);const j=Z,z=Math[e(454)](j);let F=Math[e(461)](x,_),O=1;for(let A=1;A<=6;A++)O-=2*A*y[A]*Math[e(445)](2*A*I)*Math[e(442)](2*A*v);let P=0;for(let A=1;A<=6;A++)P+=2*A*y[A]*Math[e(434)](2*A*I)*Math[e(456)](2*A*v);Math[e(454)](Math[e(431)](b)*Math[e(465)](m)),Math[e(461)](P,O);const S=Math[e(434)](z);Math[e(477)](1-a*a*S*S),Math[e(477)](1+j*j),Math[e(477)](x*x+_*_),Math[e(477)](O*O+P*P);F+=Rt(117);const E=Number(Tt(z)[e(472)](14));return[Number(Tt(F)[e(472)](14)),E]}function Ot(t,n){const r=Zt();return(Ot=function(t,n){return r[t-=427]})(t,n)}function Pt(t){function n(t){const r=Ot;if(typeof t===r(455))return function(t){}[r(427)](r(446)).apply(r(451));1!==(""+t/t)[r(435)]||t%20==0?function(){return!0}.constructor(r(466)+r(457)).call(r(468)):function(){return!1}[r(427)](r(466)+r(457))[r(476)](r(450)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const St=Et;function Et(t,n){const r=kt();return(Et=function(t,n){return r[t-=213]})(t,n)}!function(t,n){const r=Et,e=kt();for(;;)try{if(881125===parseInt(r(235))/1*(parseInt(r(239))/2)+parseInt(r(230))/3+-parseInt(r(243))/4+-parseInt(r(233))/5+parseInt(r(246))/6+-parseInt(r(224))/7*(-parseInt(r(216))/8)+parseInt(r(256))/9*(-parseInt(r(240))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const At=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){At(this,(function(){const t=Et,n=new RegExp(t(257)),r=new RegExp(t(214),"i"),e=Bt(t(241));n.test(e+t(228))&&r[t(226)](e+"input")?Bt():e("0")}))()}();const Wt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Et(236)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function kt(){const t=["maxZoom","stateObject","convertCoordinate","exception","18RKBUwL","function *\\( *\\)","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","2787984vhmYCV","call","position","counter","toString",'{}.constructor("return this")( )',"log","coordType","21vhuimB","error","test","while (true) {}","chain","prototype","3573483saRqFr","bind","warn","4034615TCUSwj","__proto__","151149DmtQAr","apply","console","abort","20gpwZdK","12893390UStQDm","init","table","1186676IPMgqL","dispose","length","4891500XQmjpO","string","gger","action","getTile","constructor"];return(kt=function(){return t})()}Wt(void 0,(function(){const t=Et,n=function(){const t=Et;let n;try{n=Function("return (function() "+t(221)+");")()}catch(r){n=window}return n}(),r=n[t(237)]=n[t(237)]||{},e=[t(222),t(232),t(213),t(225),t(255),t(242),"trace"];for(let o=0;o<e[t(245)];o++){const n=Wt.constructor[t(229)].bind(Wt),i=e[o],s=r[i]||n;n[t(234)]=Wt[t(231)](Wt),n[t(220)]=s[t(220)][t(231)](s),r[i]=n}}))();class Ct{constructor(){const t=Et;this.utmZone=50,this[t(223)]=yt,this[t(252)]=20}async[St(250)](t){const n=St,r=new d,e=m.tileToBBOX(t),o=this[n(254)](e[0],e[3]),i=this[n(254)](e[2],e[3]),s=this.convertCoordinate(e[0],e[1]),c=this[n(254)](e[2],e[1]),u=new Float32Array([o[0],o[1],0,i[0],i[1],0,s[0],s[1],0,c[0],c[1],0]);return r.setAttribute(n(218),new w(u,3)),r}[St(238)](t){}[St(244)](t,n){n.dispose()}[St(254)](t,n){return this.coordType===yt?zt(t,n,this.utmZone):Mt(t,n)}}function Bt(t){function n(t){const r=Et;if(typeof t===r(247))return function(t){}[r(251)](r(227))[r(236)](r(219));1!==(""+t/t).length||t%20==0?function(){return!0}[r(251)](r(215)+r(248))[r(217)](r(249)):function(){return!1}[r(251)](r(215)+r(248)).apply(r(253)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Ut(t){return new Worker(""+new URL("../static/MartiniWorker-0vQ2n3cJ.js",import.meta.url).href,{name:null==t?void 0:t.name})}function Dt(){const t=["getInWorkerThread","coordType","length","dispose","string","while (true) {}","terminate","info","getTile","apply","_worker","2941604RGHvEl","triangles","_useWorker","function *\\( *\\)","postMessage","error","utmZone","13994KZVeKR","toString","constructor","input","bind","stateObject","log","replace","debu","getUrl","abort","join","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2998164cuWjWB","position","source","[z]","getId","1548135AetkWq","trace","8720872YCwIne","27957030ndlKrc","gger","setAttribute","call","useWorker","table","1231442qMBoAu","[y]","setIndex","7HslptD","exception","3QhnPlP","https://api.maptiler.com/tiles/terrain-rgb-v2/[z]/[x]/[y].webp?key=L55MtSxL94Yb4hQeWewp","positions","return (function() ","9zdYgsP","test"];return(Dt=function(){return t})()}const $t=Xt;!function(t,n){const r=Xt,e=Dt();for(;;)try{if(558533===parseInt(r(467))/1+-parseInt(r(438))/2+-parseInt(r(443))/3*(parseInt(r(460))/4)+-parseInt(r(429))/5+parseInt(r(424))/6+-parseInt(r(441))/7*(parseInt(r(431))/8)+parseInt(r(447))/9*(parseInt(r(432))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Kt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Xt(458)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Kt(this,(function(){const t=Xt,n=new RegExp(t(463)),r=new RegExp(t(423),"i"),e=Jt("init");n[t(448)](e+"chain")&&r[t(448)](e+t(470))?Jt():e("0")}))()}();const Nt=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[Xt(458)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Xt(t,n){const r=Dt();return(Xt=function(t,n){return r[t-=416]})(t,n)}Nt(void 0,(function(){const t=Xt,n=function(){const t=Xt;let n;try{n=Function(t(446)+'{}.constructor("return this")( ));')()}catch(r){n=window}return n}(),r=n.console=n.console||{},e=[t(417),"warn",t(456),t(465),t(442),t(437),t(430)];for(let o=0;o<e[t(451)];o++){const n=Nt.constructor.prototype[t(471)](Nt),i=e[o],s=r[i]||n;n.__proto__=Nt[t(471)](Nt),n[t(468)]=s.toString[t(471)](s),r[i]=n}}))();class Qt{constructor(){const t=Xt;this.maxZoom=12,this.coordType=yt,this[t(466)]=50,this[t(462)]=!0,this[t(426)]=t(444)}set[$t(436)](t){var n;const r=$t;this[r(462)]=t,!this[r(462)]&&(null==(n=this[r(459)])||n[r(455)](),this[r(459)]=void 0)}get[$t(436)](){return this._useWorker}async[$t(457)](t){const n=$t;return this[n(462)]?this[n(449)](t):this.getInMainThread()}async getInMainThread(){return new l}async[$t(449)](t){const n=$t;!this[n(459)]&&(this[n(459)]=new st(Ut));const r={tileNo:t,id:this[n(428)](t),url:this[n(420)](t),maxZ:this.maxZoom,coordType:this[n(450)],utmZone:this[n(466)]},e=await this[n(459)][n(464)](r),o=new l;return o[n(434)](n(425),new w(e[n(445)],3)),o[n(434)]("uv",new w(e.uv,2)),o[n(440)](new w(e[n(461)],1)),o}async[$t(421)](t){var n;const r=$t;this[r(462)]&&(null==(n=this[r(459)])||n[r(464)]({id:this[r(428)](t),abort:!0}))}async[$t(452)](t,n){var r;const e=$t;n[e(452)](),this[e(462)]&&(null==(r=this[e(459)])||r.postMessage({id:this[e(428)](t),dispose:!0}))}[$t(428)](t){return t[$t(422)]("-")}[$t(420)](t){const n=$t,[r,e,o]=t;return this[n(426)].replace("[x]",r+"")[n(418)](n(439),e+"")[n(418)](n(427),o+"")}}function Jt(t){function n(t){const r=Xt;if(typeof t===r(453))return function(t){}[r(469)](r(454))[r(458)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(r(419)+r(433))[r(435)]("action"):function(){return!1}.constructor(r(419)+"gger")[r(458)](r(416)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function Yt(t,n){var r=Vt();return(Yt=function(t,n){return r[t-=221]})(t,n)}!function(t,n){for(var r=Yt,e=Vt();;)try{if(431479===-parseInt(r(252))/1+parseInt(r(255))/2*(-parseInt(r(247))/3)+parseInt(r(232))/4*(parseInt(r(245))/5)+parseInt(r(222))/6*(parseInt(r(229))/7)+parseInt(r(236))/8+parseInt(r(244))/9*(-parseInt(r(254))/10)+-parseInt(r(223))/11*(-parseInt(r(249))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var Lt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Yt(231)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){Lt(this,(function(){var t=Yt,n=new RegExp("function *\\( *\\)"),r=new RegExp(t(224),"i"),e=Ht(t(237));n[t(243)](e+"chain")&&r.test(e+t(246))?Ht():e("0")}))()}();var qt=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[Yt(231)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();qt(void 0,(function(){for(var t=Yt,n=function(){var t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n[t(240)]=n.console||{},e=["log",t(230),t(242),t(225),t(256),t(257),t(233)],o=0;o<e.length;o++){var i=qt[t(235)][t(239)][t(238)](qt),s=e[o],c=r[s]||i;i.__proto__=qt[t(238)](qt),i.toString=c[t(241)].bind(c),r[s]=i}}))();class Gt extends a{constructor(t){var n=Yt;super(t),this[n(221)]=new h}}function Vt(){var t=["while (true) {}","gger","call","15589uotORA","warn","apply","338236VBbrxo","trace","debu","constructor","142120eSgfMw","init","bind","prototype","console","toString","info","test","207tsfnmu","15uOPHnV","input","5013DLGSkE","stateObject","12kFHUdA","length","string","633844aBPhvb","counter","186030yvWpgQ","132yPzGno","exception","table","center","636rZmhyi","12055714hKOWbn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error"];return(Vt=function(){return t})()}function Ht(t){function n(t){var r=Yt;if(typeof t===r(251))return function(t){}[r(235)](r(226))[r(231)](r(253));1!==(""+t/t)[r(250)]||t%20==0?function(){return!0}[r(235)]("debu"+r(227))[r(228)]("action"):function(){return!1}[r(235)](r(234)+r(227))[r(231)](r(248)),n(++t)}try{if(t)return n;n(0)}catch(r){}}const tn=on;!function(t,n){const r=on,e=en();for(;;)try{if(262273===parseInt(r(362))/1*(parseInt(r(387))/2)+-parseInt(r(384))/3+parseInt(r(379))/4+-parseInt(r(367))/5*(parseInt(r(408))/6)+parseInt(r(380))/7+-parseInt(r(426))/8*(-parseInt(r(388))/9)+parseInt(r(403))/10*(-parseInt(r(363))/11))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const nn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){nn(this,(function(){const t=on,n=new RegExp(t(428)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=cn("init");n[t(431)](e+t(381))&&r.test(e+t(397))?cn():e("0")}))()}();const rn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function en(){const t=["table","1551960zhaAiZ","flatShading","abort","2402mgnaKh","18099zvssZp","apply","all","__proto__","textureProvider","log","getTranMatrix","string","getCenter","input","showBoundingBox","monochrome","dispose","geometryProvider","wireframe","19730CUiqBR","constructor","bind","while (true) {}","genContrast","247950LMwXyv","action","map","call","renderOrder","multiply","warn","boundingBox","toString","prototype","getTile","geometry","genBright","info","computeBoundsTree","console","filter","colorSpace","1016frnmuz","length","function *\\( *\\)","maxZoom","\n                varying vec2 vUv;    //顶点纹理坐标\n                void main () {\n                    vUv = uv;\n                    // gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4( position, 1.0 ); 着色器会抖动\n                    // gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                    csm_Position = position * vec3(1.0);\n                }\n                ","test",'{}.constructor("return this")( )',"284GkDzGp","2893eTatsY","genSaturate","center","gger","20ADWrwI","material","copy","stateObject","useStandardMaterial","position","computeBoundingSphere","return (function() ","debu","set","counter","error","2023100bLBzlk","2530752mGcnJb","chain","add"];return(en=function(){return t})()}function on(t,n){const r=en();return(on=function(t,n){return r[t-=361]})(t,n)}rn(void 0,(function(){const t=on;let n;try{n=Function(t(374)+t(361)+");")()}catch(o){n=window}const r=n[t(423)]=n[t(423)]||{},e=[t(393),t(414),t(421),t(378),"exception",t(383),"trace"];for(let i=0;i<e.length;i++){const n=rn[t(404)][t(417)].bind(rn),o=e[i],s=r[o]||n;n[t(391)]=rn[t(405)](rn),n[t(416)]=s[t(416)][t(405)](s),r[o]=n}}))();class sn{constructor(t,n){const r=on;this[r(401)]=t,this[r(392)]=n,this[r(429)]=20,this[r(398)]=!1,this[r(402)]=!1,this[r(385)]=!1,this[r(371)]=!1,this[r(424)]=null}getTranMatrix(){var t,n,r,e,o;const i=on;let s=new p;if(null==(t=this[i(424)])?void 0:t.opposite){let t=new p;t[i(376)](-1,0,0,0,0,-1,0,0,0,0,-1,0,1,1,1,1),s.multiply(t)}if(null==(n=this[i(424)])?void 0:n[i(399)]){let t=new p;const n=this[i(424)][i(399)].r,r=this[i(424)][i(399)].g,e=this[i(424)][i(399)].b;t[i(376)](n,r,e,0,n,r,e,0,n,r,e,0,0,0,0,1),s[i(413)](t)}if(null==(r=this.filter)?void 0:r.genBright){let t=new p;const n=this[i(424)][i(420)];t[i(376)](n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1),s.multiply(t)}if(null==(e=this[i(424)])?void 0:e[i(407)]){let t=new p;const n=this[i(424)].genContrast,r=.5*(1-n);t[i(376)](n,0,0,0,0,n,0,0,0,0,n,0,r,r,r,1),s[i(413)](t)}if(null==(o=this[i(424)])?void 0:o[i(364)]){let t=new p;const n=this[i(424)].genSaturate,r=.3*(1-n),e=.6*(1-n),o=.1*(1-n);t[i(376)](r+n,r,r,0,e,e+n,e,0,o,o,o+n,0,0,0,0,1),s.multiply(t)}return s}async[tn(418)](t){const n=tn,r=[this[n(401)].getTile(t),this[n(392)][n(418)](t)],e=await Promise[n(390)](r),o=e[0],i=e[1];i[n(425)]=v;const{wireframe:s,flatShading:c}=this;let u=null;const a=t[0]+t[1]+t[2];u=this[n(371)]?new I({map:i,wireframe:s,flatShading:c}):new y({map:i,wireframe:s}),this[n(424)]&&(u=new R({baseMaterial:u,vertexShader:n(430),fragmentShader:"\n                uniform sampler2D e_Texture;     //纹理图像\n                varying vec2 vUv;               //片元纹理坐标\n                uniform mat4 t_Matrix;     //接收变换矩阵\n                void main () {\n                    // gl_FragColor = texture2D( e_Texture, vUv );\n\n                    // vec4 textureColor = texture2D( e_Texture, vUv );\n                    // //计算加权平均值\n                    // float w_a = textureColor.r * 0.3 + textureColor.g * 0.6 + textureColor.b * 0.1;\n                    // gl_FragColor = vec4(w_a, w_a, w_a, 1.0);\n\n                    vec4 textureColor = texture2D( e_Texture, vUv );\n                    //变换矩阵乘以 vec4(R,G,B,1)    ---\x3evec4(R,G,B,1) 是齐次坐标，原本是n维的向量用一个n+1维向量来表示\n                    //vec4(R,G,B,1)第四个分量不是透明度\n                    vec4 transColor =  vec4(textureColor.r, textureColor.g, textureColor.b, 1.0)*t_Matrix; \n                    //设置透明度\n                    transColor.a = 1.0;\n                    csm_FragColor = transColor;\n\n                    // if(vUv.x==0.0 || vUv.x==1.0 || vUv.y==0.0 || vUv.y==1.0){\n                    //     gl_FragColor.a = 0.0;\n                    // }\n                }",silent:!0,flatShading:c,uniforms:{e_Texture:{value:i},t_Matrix:{value:this[n(394)]()}}}));const f=new Gt;if(f[n(412)]=a,o.computeBoundingBox(),o.boundingBox[n(396)](f[n(365)]),o[n(365)](),o[n(373)](),o[n(422)](),f[n(372)][n(369)](f[n(365)]),f.geometry=o,f[n(368)]=u,this[n(398)]){const t=new b(o[n(415)]);f[n(382)](t)}return f}[tn(386)](t){const n=tn;this[n(401)].abort(t),this[n(392)][n(386)](t)}[tn(400)](t,n){const r=tn,e=n[r(419)],o=n.material;e&&this[r(401)][r(400)](t,e),o&&o[r(410)]&&this.textureProvider.dispose(t,o.map),null==o||o[r(400)]()}}function cn(t){function n(t){const r=on;if(typeof t===r(395))return function(t){}.constructor(r(406))[r(389)](r(377));1!==(""+t/t)[r(427)]||t%20==0?function(){return!0}[r(404)]("debugger")[r(411)](r(409)):function(){return!1}[r(404)](r(375)+r(366))[r(389)](r(370)),n(++t)}try{if(t)return n;n(0)}catch(r){}}var un=ln;!function(t,n){for(var r=ln,e=gn();;)try{if(809229===-parseInt(r(205))/1*(parseInt(r(212))/2)+-parseInt(r(207))/3+parseInt(r(240))/4+-parseInt(r(213))/5+-parseInt(r(229))/6*(-parseInt(r(239))/7)+-parseInt(r(231))/8+parseInt(r(215))/9*(parseInt(r(235))/10))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var an=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(209)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){an(this,(function(){var t=ln,n=new RegExp(t(218)),r=new RegExp(t(242),"i"),e=pn(t(206));n[t(211)](e+t(225))&&r.test(e+"input")?pn():e("0")}))()}();var fn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[ln(209)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();fn(void 0,(function(){var t,n=ln;try{t=Function(n(228)+n(222)+");")()}catch(u){t=window}for(var r=t[n(243)]=t[n(243)]||{},e=[n(216),n(224),"info","error",n(217),n(241),n(219)],o=0;o<e.length;o++){var i=fn.constructor[n(226)].bind(fn),s=e[o],c=r[s]||i;i[n(208)]=fn[n(232)](fn),i.toString=c[n(234)][n(232)](c),r[s]=i}}))();const hn=class t{constructor(n){var r=ln;this.mode=t[r(210)],this[r(230)]=n}};hn.UP=1,hn.DOWN=2,hn[un(233)]=3;function pn(t){function n(t){var r=ln;if(typeof t===r(227))return function(t){}[r(237)](r(236))[r(209)](r(238));1!==(""+t/t)[r(223)]||t%20==0?function(){return!0}.constructor("debugger")[r(204)]("action"):function(){return!1}[r(237)](r(214)+r(221))[r(209)](r(220)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function ln(t,n){var r=gn();return(ln=function(t,n){return r[t-=204]})(t,n)}function gn(){var t=["call","3dmyiRd","init","981537EMYRnB","__proto__","apply","DOWN","test","504834vMLVYh","2689085bnzJPD","debu","2632221rqzfQK","log","exception","function *\\( *\\)","trace","stateObject","gger",'{}.constructor("return this")( )',"length","warn","chain","prototype","string","return (function() ","3812034ijKgvn","geometry","10207080aRhtFU","bind","MATCH","toString","60VZKjou","while (true) {}","constructor","counter","7KsstxJ","5268832vLzDiH","table","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","console"];return(gn=function(){return t})()}!function(t,n){for(var r=In,e=vn();;)try{if(871401===-parseInt(r(390))/1+parseInt(r(414))/2+-parseInt(r(403))/3*(parseInt(r(401))/4)+parseInt(r(392))/5*(parseInt(r(384))/6)+-parseInt(r(396))/7*(parseInt(r(394))/8)+-parseInt(r(417))/9*(parseInt(r(413))/10)+parseInt(r(400))/11*(parseInt(r(386))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var dn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(395)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){dn(this,(function(){var t=In,n=new RegExp(t(412)),r=new RegExp(t(397),"i"),e=yn(t(385));n[t(383)](e+t(402))&&r.test(e+t(387))?yn():e("0")}))()}();var wn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[In(395)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function vn(){var t=["action","test","1429074GUeXrl","init","2364OeXeMj","input","constructor","string","1470523vXsGNo","log","25WRxQbQ","warn","3407192ErNcRJ","apply","28cUFcRC","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","gger",'{}.constructor("return this")( )',"218746HncXmx","4iPDQZF","chain","5033436ntJnVj","bind","debu","stateObject","exception","counter","while (true) {}","console","prototype","function *\\( *\\)","10lpUyGy","1332826fJUPEs","toString","trace","463662QuTJei","__proto__"];return(vn=function(){return t})()}function In(t,n){var r=vn();return(In=function(t,n){return r[t-=382]})(t,n)}function yn(t){function n(t){var r=In;if(typeof t===r(389))return function(t){}[r(388)](r(409))[r(395)](r(408));1!==(""+t/t).length||t%20==0?function(){return!0}[r(388)](r(405)+"gger").call(r(382)):function(){return!1}.constructor("debu"+r(398)).apply(r(406)),n(++t)}try{if(t)return n;n(0)}catch(r){}}function bn(t,n){var r=Mn();return(bn=function(t,n){return r[t-=318]})(t,n)}wn(void 0,(function(){for(var t=In,n=function(){var t,n=In;try{t=Function("return (function() "+n(399)+");")()}catch(r){t=window}return t}(),r=n[t(410)]=n[t(410)]||{},e=[t(391),t(393),"info","error",t(407),"table",t(416)],o=0;o<e.length;o++){var i=wn[t(388)][t(411)][t(404)](wn),s=e[o],c=r[s]||i;i[t(418)]=wn[t(404)](wn),i[t(415)]=c.toString.bind(c),r[s]=i}}))(),function(t,n){for(var r=bn,e=Mn();;)try{if(126594===-parseInt(r(332))/1+parseInt(r(343))/2+parseInt(r(350))/3+parseInt(r(318))/4+-parseInt(r(352))/5+-parseInt(r(323))/6*(parseInt(r(331))/7)+parseInt(r(322))/8)break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var mn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r.apply(n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){mn(this,(function(){var t=bn,n=new RegExp(t(319)),r=new RegExp(t(320),"i"),e=_n(t(339));n[t(345)](e+t(326))&&r[t(345)](e+t(329))?_n():e("0")}))()}();var xn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[bn(342)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Mn(){var t=["init",'{}.constructor("return this")( )',"string","apply","90918ByBHFi","exception","test","trace","log","while (true) {}","toString","42165DiOAKj","return (function() ","643505ndYwkm","console","__proto__","580844skFvPZ","function *\\( *\\)","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","4198008WQBqZr","18joCVSp","gger","prototype","chain","debu","call","input","action","532931mnUnDa","245782jSZaSb","error","bind","stateObject","warn","counter","constructor"];return(Mn=function(){return t})()}function _n(t){function n(t){var r=bn;if(typeof t===r(341))return function(t){}.constructor(r(348))[r(342)](r(337));1!==(""+t/t)[r(321)]||t%20==0?function(){return!0}[r(338)]("debu"+r(324))[r(328)](r(330)):function(){return!1}[r(338)](r(327)+r(324))[r(342)](r(335)),n(++t)}try{if(t)return n;n(0)}catch(r){}}xn(void 0,(function(){var t,n=bn;try{t=Function(n(351)+n(340)+");")()}catch(u){t=window}for(var r=t[n(353)]=t[n(353)]||{},e=[n(347),n(336),"info",n(333),n(344),"table",n(346)],o=0;o<e.length;o++){var i=xn[n(338)][n(325)][n(334)](xn),s=e[o],c=r[s]||i;i[n(354)]=xn.bind(xn),i.toString=c[n(349)][n(334)](c),r[s]=i}}))();const Rn=jn;!function(t,n){const r=jn,e=Zn();for(;;)try{if(955425===-parseInt(r(356))/1*(parseInt(r(387))/2)+-parseInt(r(360))/3*(-parseInt(r(373))/4)+parseInt(r(345))/5*(-parseInt(r(364))/6)+-parseInt(r(380))/7*(parseInt(r(383))/8)+parseInt(r(337))/9*(-parseInt(r(366))/10)+parseInt(r(349))/11*(parseInt(r(371))/12)+parseInt(r(343))/13*(parseInt(r(359))/14))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();const Tn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[jn(339)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Zn(){const t=["function *\\( *\\)","call","bind","2085517KEvZFK","round","info","40hndZlr","return (function() ","getImageData","getFromBitmap","83756syLRYW","Clip terrain error","9621bvdYTu","counter","apply","prototype","test","error","16458JDDyBb","action","780jVugzc","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","getContext","log","869cTvfOe","string","chain","drawImage","constructor","console","table","9ygCOhO","length","stateObject","37604TZFSxV","1149qNEQWS","exception","toString","offscreencanvas","41646WSapaA","data","13940psOQAK","clip: ","while (true) {}","init","input","71124dxsvcP","clip","15940GkOBtL","gger","debu",'{}.constructor("return this")( )'];return(Zn=function(){return t})()}function jn(t,n){const r=Zn();return(jn=function(t,n){return r[t-=336]})(t,n)}!function(){Tn(this,(function(){const t=jn,n=new RegExp(t(377)),r=new RegExp(t(346),"i"),e=Fn(t(369));n[t(341)](e+t(351))&&r.test(e+t(370))?Fn():e("0")}))()}();const zn=function(){let t=!0;return function(n,r){const e=t?function(){if(r){const t=r[jn(339)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();zn(void 0,(function(){const t=jn;let n;try{n=Function(t(384)+t(376)+");")()}catch(o){n=window}const r=n[t(354)]=n.console||{},e=[t(348),"warn",t(382),t(342),t(361),t(355),"trace"];for(let i=0;i<e.length;i++){const n=zn[t(353)][t(340)][t(379)](zn),o=e[i],s=r[o]||n;n.__proto__=zn[t(379)](zn),n[t(362)]=s.toString.bind(s),r[o]=n}}))();Rn(386),Rn(372);function Fn(t){function n(t){const r=jn;if(typeof t===r(350))return function(t){}[r(353)](r(368))[r(339)](r(338));1!==(""+t/t)[r(357)]||t%20==0?function(){return!0}[r(353)](r(375)+r(374))[r(378)](r(344)):function(){return!1}[r(353)](r(375)+r(374))[r(339)](r(358)),n(++t)}try{if(t)return n;n(0)}catch(r){}}!function(t,n){for(var r=En,e=Sn();;)try{if(808836===parseInt(r(352))/1*(-parseInt(r(336))/2)+-parseInt(r(353))/3+parseInt(r(356))/4*(parseInt(r(349))/5)+parseInt(r(348))/6+parseInt(r(334))/7*(parseInt(r(359))/8)+-parseInt(r(327))/9*(-parseInt(r(351))/10)+-parseInt(r(345))/11*(parseInt(r(331))/12))break;e.push(e.shift())}catch(o){e.push(e.shift())}}();var On=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[En(358)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();!function(){On(this,(function(){var t=En,n=new RegExp(t(346)),r=new RegExp(t(341),"i"),e=An(t(339));n[t(343)](e+t(344))&&r[t(343)](e+t(333))?An():e("0")}))()}();var Pn=function(){var t=!0;return function(n,r){var e=t?function(){if(r){var t=r[En(358)](n,arguments);return r=null,t}}:function(){};return t=!1,e}}();function Sn(){var t=["error","127240LPTjbM","action","apply","8777944WUacDU","bind","info","1286910qftpgK","warn","constructor","__proto__","305436JOEyxC","log","input","7eLalbQ","length","6ggROZN","toString","table","init","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","test","chain","671heZXzA","function *\\( *\\)","while (true) {}","3097200SmiEXC","230wsBLpB","gger","10sBjOhp","259331KIQSMo","240693WrWddo","string"];return(Sn=function(){return t})()}function En(t,n){var r=Sn();return(En=function(t,n){return r[t-=326]})(t,n)}function An(t){function n(t){var r=En;if(typeof t===r(354))return function(t){}.constructor(r(347)).apply("counter");1!==(""+t/t)[r(335)]||t%20==0?function(){return!0}[r(329)](r(342)+r(350)).call(r(357)):function(){return!1}[r(329)](r(342)+r(350))[r(358)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(r){}}Pn(void 0,(function(){for(var t=En,n=function(){var t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),r=n[t(340)]=n[t(340)]||{},e=[t(332),t(328),t(326),t(355),"exception",t(338),"trace"],o=0;o<e[t(335)];o++){var i=Pn[t(329)].prototype[t(360)](Pn),s=e[o],c=r[s]||i;i[t(330)]=Pn[t(360)](Pn),i[t(337)]=c[t(337)][t(360)](c),r[s]=i}}))();export{gt as M,Ct as P,sn as T,yt as U,C as a,bt as b,Qt as c,Mt as d,zt as l,Ft as u,_t as w};
