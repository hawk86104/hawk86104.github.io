import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.9lmhsV6t1740450466561.js";import{_ as i,C as s,y as a}from"./three.HaMTRCf61740450466561.js";import{P as c}from"./tweakpane.yDiyAAkA1740450466561.js";import{L as u}from"./three-subdivide.IyuxM8Lq1740450466561.js";import{d as l,b as f,a2 as p,w as d,o as g,H as m,N as h,aj as v,ak as y,a3 as b,r as w,e as _,f as I,g as j,j as x,u as M,m as B,M as T}from"./@vue.NRI7TcgI1740450466561.js";import"./@vueuse.q8gKo7tC1740450466561.js";const S=k;!function(n,t){const e=k,o=R();for(;;)try{if(570382===-parseInt(e(351))/1+parseInt(e(307))/2*(parseInt(e(318))/3)+parseInt(e(322))/4*(parseInt(e(348))/5)+parseInt(e(333))/6*(-parseInt(e(314))/7)+-parseInt(e(340))/8*(parseInt(e(360))/9)+-parseInt(e(335))/10+-parseInt(e(328))/11*(-parseInt(e(344))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(321)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function k(n,t){const e=R();return(k=function(n,t){return e[n-=307]})(n,t)}!function(){A(this,(function(){const n=k,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(339),"i"),o=L(n(324));t[n(365)](o+"chain")&&e.test(o+"input")?L():o("0")}))()}();const C=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[k(321)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();C(void 0,(function(){const n=k,t=function(){const n=k;let t;try{t=Function(n(310)+n(334)+");")()}catch(e){t=window}return t}(),e=t[n(347)]=t[n(347)]||{},o=["log",n(325),"info","error",n(317),n(343),n(313)];for(let r=0;r<o.length;r++){const t=C[n(362)][n(354)][n(361)](C),i=o[r],s=e[i]||t;t[n(350)]=C[n(361)](C),t[n(326)]=s[n(326)][n(361)](s),e[i]=t}}))();const V=["scale"],z=l({__name:S(341),props:{srcMesh:{},scale:{default:1.2},color:{default:S(312)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[S(356)]},blending:{default:i[S(363)]}},setup(e){const o=S,r=e,a=f(),c={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(336)])(r[o(311)])},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:o(309),fragmentShader:o(329),side:r[o(352)],transparent:!0,depthWrite:!1,depthTest:!0,blending:r.blending};p((()=>{const n=o;if(r[n(338)]&&a[n(319)]&&!a.value.geometry[n(359)].position){let t=r[n(338)][n(320)][n(355)]();r.subdivision&&(t=u[n(315)](t,2)),a[n(319)][n(320)]=t,a.value[n(337)][n(323)](r[n(338)][n(337)])}r[n(311)]&&(c[n(357)].glowColor[n(319)]=new s(r[n(311)])),r.c&&(c[n(357)].c[n(319)]=r.c),r.p&&(c[n(357)].p[n(319)]=r.p)})),d((()=>r[o(316)]),(n=>{const t=o;let e=r[t(338)][t(320)][t(355)]();n&&(e=u[t(315)](e,2)),a[t(319)].geometry=e})),d((()=>r[o(352)]),(n=>{const t=o;a[t(319)][t(349)].side=n})),d((()=>r[o(331)]),(n=>{const t=o;a[t(319)][t(349)].blending=n}));const{onLoop:l}=n(),{camera:b}=t();return l((()=>{const n=o;b[n(319)]&&a.value&&(c.uniforms.viewVector[n(319)]=(new(i[n(330)]))[n(358)](b[n(319)][n(337)],a[n(319)].position))})),(n,t)=>{const e=o;return g(),m(e(353),{ref_key:e(308),ref:a,scale:r.scale},[h(e(342),v(y(c)),null,16)],8,V)}}});function R(){const n=["material","__proto__","258760iehgHD","side","TresMesh","prototype","clone","FrontSide","uniforms","subVectors","attributes","2089701TKmYUe","bind","constructor","AdditiveBlending","debu","test","42634uXyDkV","TSGref","\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ","return (function() ","color","#ffff00","trace","42juBLEd","modify","subdivision","exception","42cNZGEk","value","geometry","apply","4DUGQAv","copy","init","warn","toString","gger","336083lAKboP","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","Vector3","blending","while (true) {}","446466ZlwUDK",'{}.constructor("return this")( )',"6609040uCpftM","Color","position","srcMesh","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8cuBBKj","shineShader","TresShaderMaterial","table","552uCjLVT","action","stateObject","console","2324125jSpRKm"];return(R=function(){return n})()}function L(n){function t(n){const e=k;if("string"==typeof n)return function(n){}[e(362)](e(332)).apply("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[e(362)](e(364)+e(327)).call(e(345)):function(){return!1}[e(362)](e(364)+e(327))[e(321)](e(346)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const N=F;!function(n,t){const e=F,o=K();for(;;)try{if(328568===-parseInt(e(123))/1+parseInt(e(153))/2+parseInt(e(127))/3+-parseInt(e(141))/4*(-parseInt(e(169))/5)+parseInt(e(126))/6*(-parseInt(e(128))/7)+-parseInt(e(133))/8+parseInt(e(161))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(150)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(n,t){const e=K();return(F=function(n,t){return e[n-=123]})(n,t)}!function(){E(this,(function(){const n=F,t=new RegExp("function *\\( *\\)"),e=new RegExp(n(158),"i"),o=P(n(171));t.test(o+"chain")&&e[n(136)](o+n(146))?P():o("0")}))()}();const Z=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[F(150)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();Z(void 0,(function(){const n=F;let t;try{t=Function(n(166)+n(125)+");")()}catch(r){t=window}const e=t[n(164)]=t.console||{},o=["log",n(155),"info",n(140),n(156),"table","trace"];for(let i=0;i<o.length;i++){const t=Z[n(154)][n(129)].bind(Z),r=o[i],s=e[r]||t;t.__proto__=Z[n(175)](Z),t[n(152)]=s[n(152)][n(175)](s),e[r]=t}}))();const D=[N(159)],G=[N(159)];function K(){const n=["边缘处理","BackSide","gger","2427984ZLxSlj","TreBoxRef","DoubleSide","test","color","length","NormalBlending","error","26844wzHjby","AdditiveBlending","value","TresPerspectiveCamera","TresMesh","input","string","TresMeshBasicMaterial","#0ff","apply","TresCanvas","toString","121230ALqyxW","constructor","warn","exception","FrontSide","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","map","debu","10041057VgApQB","scale","TresMeshRefA","console","addBinding","return (function() ","call","TresAmbientLight","75iWqOYT","instance","init","srcMesh","logo.png","stateObject","bind","#00dfff","589484hALpId","side",'{}.constructor("return this")( )',"724056VzVcyF","557847dgJaga","14YwwJUR","prototype"];return(K=function(){return n})()}const H=l({__name:"shader",async setup(n){const t=N;let s,u;const l={clearColor:"#222"},p=f(),d=f(),m=f(),v=([s,u]=b((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(173)]))),s=await s,u(),s),y=w({scale:1.6,color:t(176),subdivision:!0,c:1.1,p:1.4,side:a,blending:i[t(142)]}),S=new c({title:"参数",expanded:!0});return S.addBinding(y,t(137),{label:"颜色"}),S.addBinding(y,t(162),{label:"大小",min:1,max:3,step:.2}),S.addBinding(y,"subdivision",{label:t(130)}),S[t(165)](y,"c",{label:"c",min:0,max:2,step:.1}),S[t(165)](y,"p",{label:"p",min:0,max:8,step:.2}),S[t(165)](y,t(124),{options:{FrontSide:i[t(157)],BackSide:i[t(131)],DoubleSide:i[t(135)]}}),S[t(165)](y,"blending",{options:{AdditiveBlending:i[t(142)],NormalBlending:i[t(139)]}}),(n,r)=>{const i=t,s=_(i(151));return g(),I(s,B(l,{"window-size":""}),{default:j((()=>[r[2]||(r[2]=h(i(144),{position:[5,5,5]},null,-1)),r[3]||(r[3]=h(i(168),{intensity:1},null,-1)),x(M(e)),r[4]||(r[4]=h("TresGridHelper",{args:[10,10]},null,-1)),h("TresMesh",{ref_key:i(163),ref:p,position:[-2,1,0]},[r[0]||(r[0]=h("TresSphereGeometry",{args:[1,32,16]},null,-1)),h(i(148),{map:M(v)[0]},null,8,D)],512),x(z,B({srcMesh:p[i(143)]},y),null,16,[i(172)]),x(M(o),{ref_key:i(134),ref:m,args:[1,1,1],position:[2,1,0]},{default:j((()=>[h(i(148),{map:M(v)[1]},null,8,G)])),_:1},512),m.value&&m[i(143)][i(170)]?(g(),I(z,B({key:0,srcMesh:m[i(143)][i(170)]},y),null,16,[i(172)])):T("",!0),h(i(145),{ref_key:"TresMeshRefB",ref:d,position:[0,1,-2]},r[1]||(r[1]=[h("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),h(i(148),{color:i(149)},null,-1)]),512),x(z,B({srcMesh:d.value},y),null,16,["srcMesh"])])),_:1},16)}}});function P(n){function t(n){const e=F;if(typeof n===e(147))return function(n){}.constructor("while (true) {}")[e(150)]("counter");1!==(""+n/n)[e(138)]||n%20==0?function(){return!0}[e(154)](e(160)+e(132))[e(167)]("action"):function(){return!1}[e(154)]("debu"+e(132)).apply(e(174)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{H as default};
