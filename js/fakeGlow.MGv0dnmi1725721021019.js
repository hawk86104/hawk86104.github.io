import{d as n,H as t}from"./@tresjs.bIWdfO9a1725721021019.js";import{k as o,ba as e,C as r,aK as i,Z as a,x as s,a6 as l}from"./three.a9V66irq1725721021019.js";import{P as c}from"./tweakpane.yHWGBmom1725721021019.js";import{d as u,r as f,a2 as p,e as d,o as g,f as v,g as m,j as w,u as h,L as y,al as b}from"./@vue._6MD2XyK1725721021019.js";import"./@vueuse.Ex-1AOlz1725721021019.js";!function(n,t){for(var o=x,e=S();;)try{if(417128===-parseInt(o(242))/1+-parseInt(o(270))/2+parseInt(o(253))/3+parseInt(o(281))/4*(parseInt(o(247))/5)+-parseInt(o(263))/6+-parseInt(o(287))/7*(-parseInt(o(266))/8)+parseInt(o(272))/9*(parseInt(o(286))/10))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();var I=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(255)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function x(n,t){var o=S();return(x=function(n,t){return o[n-=241]})(n,t)}!function(){I(this,(function(){var n=x,t=new RegExp("function *\\( *\\)"),o=new RegExp(n(246),"i"),e=T(n(271));t[n(258)](e+n(269))&&o[n(258)](e+n(284))?T():e("0")}))()}();var j=function(){var n=!0;return function(t,o){var e=n?function(){if(o){var n=o[x(255)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();j(void 0,(function(){var n,t=x;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(l){n=window}for(var o=n[t(241)]=n[t(241)]||{},e=["log",t(288),t(276),t(249),"exception","table",t(245)],r=0;r<e[t(282)];r++){var i=j[t(243)][t(283)].bind(j),a=e[r],s=o[a]||i;i[t(265)]=j.bind(j),i.toString=s[t(252)][t(278)](s),o[a]=i}}))();const _=class extends o{constructor(n={}){var t=x;super(),this[t(257)]=t(268),this[t(260)]="\n      uniform vec3 glowColor;\n      uniform float falloff;\n      uniform float glowSharpness;\n      uniform float glowInternalRadius;\n      uniform float opacity;\n\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main()\n      {\n        // Normal\n        vec3 normal = normalize(vNormal);\n        if(!gl_FrontFacing)\n            normal *= - 1.0;\n        vec3 viewDirection = normalize(cameraPosition - vPosition);\n        float fresnel = dot(viewDirection, normal);\n        fresnel = pow(fresnel, glowInternalRadius + 0.1);\n        float falloff = smoothstep(0., falloff, fresnel);\n        float fakeGlow = fresnel;\n        fakeGlow += fresnel * glowSharpness;\n        fakeGlow *= falloff;\n        gl_FragColor = vec4(clamp(glowColor * fresnel, 0., 1.0), clamp(fakeGlow, 0., opacity));\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n      } \n      ",this[t(250)]={opacity:new e(void 0!==n.opacity?n.opacity:1),glowInternalRadius:new e(void 0!==n[t(273)]?n[t(273)]:6),glowSharpness:new e(void 0!==n[t(251)]?n[t(251)]:.5),falloff:new e(void 0!==n[t(262)]?n[t(262)]:.1),glowColor:new e(void 0!==n[t(259)]?new r(n[t(259)]):new r(t(275)))},this[t(256)](n),this[t(285)]=void 0!==n.depthTest&&n.depthTest,this[t(280)]=void 0!==n.blendMode?n[t(264)]:i,this.transparent=!0,this.side=void 0!==n[t(261)]?n[t(261)]:a}};function T(n){function t(n){var o=x;if(typeof n===o(244))return function(n){}[o(243)](o(279))[o(255)](o(254));1!==(""+n/n)[o(282)]||n%20==0?function(){return!0}[o(243)](o(267)+o(274)).call(o(248)):function(){return!1}[o(243)](o(267)+o(274))[o(255)](o(277)),t(++n)}try{if(n)return t;t(0)}catch(o){}}function S(){var n=["init","153JzFstS","glowInternalRadius","gger","#00d5ff","info","stateObject","bind","while (true) {}","blending","2636yYAcxT","length","prototype","input","depthTest","581420pLoVxQ","1102087hsJpVv","warn","console","608261rQqLiW","constructor","string","trace","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","310aZpwsZ","action","error","uniforms","glowSharpness","toString","1853394FQJLEf","counter","apply","setValues","vertexShader","test","glowColor","fragmentShader","side","falloff","3553854tCpJya","blendMode","__proto__","40HivAIe","debu","\n      varying vec3 vPosition;\n      varying vec3 vNormal;\n\n      void main() {\n        vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * viewMatrix * modelPosition;\n        vec4 modelNormal = modelMatrix * vec4(normal, 0.0);\n        vPosition = modelPosition.xyz;\n        vNormal = modelNormal.xyz;\n\n      }\n    ","chain","1633154rRfPHF"];return(S=function(){return n})()}function C(){const n=["416226wGUBLV","82345XFAUpC","#a058c1","gger","constructor","TresGroup","log","string","2555098BCqbYC","713140hxOfoN","Color","BackSide","prototype","object","glowColor","__proto__","falloff","pos-z.jpg","uniforms","opacity","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","glowSharpness","bind","TresTorusKnotGeometry","exception","材质面","console","call","TorusKnotGeometry","Mesh","TresAmbientLight","3623247tOzdKc","FrontSide","fakeGlow","173648wjWJvW","42NAECTb","function *\\( *\\)","TresGridHelper","error","side","neg-z.jpg","内半径","27AmfNZF","清晰度","TresDirectionalLight","669582xAgMrT","apply","neg-y.jpg","value","addBinding","TresMeshPhysicalMaterial","242ingkwo","glowInternalRadius","chain","counter","warn","table","8DQvyRT","toString","length","init","test","debu","while (true) {}","pos-y.jpg","primitive","TresPerspectiveCamera","trace"];return(C=function(){return n})()}const k=z;!function(n,t){const o=z,e=C();for(;;)try{if(213885===-parseInt(o(157))/1+parseInt(o(134))/2+-parseInt(o(131))/3*(parseInt(o(123))/4)+parseInt(o(158))/5*(-parseInt(o(124))/6)+-parseInt(o(165))/7+-parseInt(o(146))/8*(parseInt(o(120))/9)+-parseInt(o(166))/10*(-parseInt(o(140))/11))break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const R=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(135)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function z(n,t){const o=C();return(z=function(n,t){return o[n-=109]})(n,t)}!function(){R(this,(function(){const n=z,t=new RegExp(n(125)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),e=E(n(149));t[n(150)](e+n(142))&&o.test(e+"input")?E():e("0")}))()}();const P=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[z(135)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();P(void 0,(function(){const n=z;let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(r){t=window}const o=t[n(115)]=t[n(115)]||{},e=[n(163),n(144),"info",n(127),n(113),n(145),n(156)];for(let i=0;i<e[n(148)];i++){const t=P.constructor[n(169)].bind(P),r=e[i],a=o[r]||t;t[n(172)]=P.bind(P),t[n(147)]=a[n(147)][n(111)](a),o[r]=t}}))();const F=y(k(155),{position:[0,25,25],near:.1,fov:65},null,-1),A=y(k(119),{intensity:1.5},null,-1),M=y(k(133),{position:[100,100,60],intensity:20},null,-1),G=y(k(126),{args:[20,10]},null,-1),N={position:[0,6,0]},B=y("TresMesh",null,[y(k(112),{args:[4,.5,128,128]}),y(k(139),{color:"blue",roughness:.2,clearcoat:1})],-1),Z=[k(170)],L=u({__name:k(122),setup(o){const e=k,r=new c({title:"辉光参数",expanded:!0}),i=f({glowColor:e(159),falloff:1.4,glowInternalRadius:3.7,glowSharpness:0,opacity:1,side:s,depthTest:!1}),u=new _,I=new(l[e(118)])(new(l[e(117)])(4,3.8,128,128),u);return r.addBinding(i,e(171),{label:"颜色"}),r[e(138)](i,e(173),{label:"衰减",min:0,max:10,step:.1}),r[e(138)](i,"glowInternalRadius",{label:e(130),min:-5,max:5,step:.1}),r.addBinding(i,"glowSharpness",{label:e(132),min:0,max:10,step:.1}),r[e(138)](i,e(176),{label:"透明",min:0,max:1,step:.1}),r.addBinding(i,e(128),{label:e(114),options:{FrontSide:l[e(121)],BackSide:l[e(168)],DoubleSide:a}}),p((()=>{const n=e;u[n(175)].falloff[n(137)]=i[n(173)],u[n(175)][n(171)][n(137)]=new(l[n(167)])(i[n(171)]),u[n(175)][n(141)].value=i[n(141)],u[n(175)][n(110)][n(137)]=i[n(110)],u[n(175)][n(176)].value=i[n(176)],u[n(128)]=i[n(128)]})),(o,r)=>{const i=e,a=d("TresCanvas");return g(),v(a,{"window-size":""},{default:m((()=>[F,A,M,w(h(n),{autoRotate:""}),G,y(i(162),N,[B,y(i(154),{object:h(I)},null,8,Z)]),(g(),v(b,null,{default:m((()=>[w(h(t),{files:["pos-x.jpg","neg-x.jpg",i(153),i(136),i(174),i(129)],path:i(109)})])),_:1}))])),_:1})}}});function E(n){function t(n){const o=z;if(typeof n===o(164))return function(n){}[o(161)](o(152))[o(135)](o(143));1!==(""+n/n).length||n%20==0?function(){return!0}[o(161)](o(151)+"gger")[o(116)]("action"):function(){return!1}.constructor("debu"+o(160))[o(135)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{L as default};
