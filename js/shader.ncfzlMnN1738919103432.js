import{e as n,m as t,o as e,E as o,a as r}from"./@tresjs.G4idgyWs1738919103432.js";import{_ as i,aX as s,y as a}from"./three.CYhYNU4g1738919103432.js";import{P as c}from"./tweakpane.yDiyAAkA1738919103432.js";import{L as u}from"./three-subdivide.ownCIi9B1738919103432.js";import{d as l,b as f,a2 as p,w as d,o as m,H as g,N as h,aj as v,ak as y,a3 as w,r as b,e as _,f as x,g as M,j as I,u as S,m as T,M as j}from"./@vue.NRI7TcgI1738919103432.js";import"./@vueuse.DL3Lluw_1738919103432.js";const k=V;!function(n,t){const e=V,o=C();for(;;)try{if(580265===-parseInt(e(474))/1+-parseInt(e(454))/2+parseInt(e(443))/3*(parseInt(e(486))/4)+-parseInt(e(485))/5+parseInt(e(477))/6+-parseInt(e(483))/7+-parseInt(e(484))/8*(-parseInt(e(462))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(444)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=V,t=new RegExp(n(493)),e=new RegExp(n(448),"i"),o=z(n(481));t.test(o+"chain")&&e[n(470)](o+"input")?z():o("0")}))()}();const A=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[V(444)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function C(){const n=["scale","31540msKluU","counter","modify","713184dTVtxw","#ffff00","Vector3","length","init","value","282863OMHOGN","2068256WTHCkM","4876170CoEexY","9172imNqsS","call","blending","copy","glowColor","__proto__",'{}.constructor("return this")( )',"function *\\( *\\)","Color","position","trace","console","warn","clone","action","shineShader","FrontSide","783iOwrWD","apply","uniforms","srcMesh","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","subdivision","geometry","string","while (true) {}","return (function() ","765098iVMGWu","TresMesh","side","bind","toString","debu","\n          uniform vec3 glowColor;\n          varying float intensity;\n          void main() \n          {\n          \tvec3 glow = glowColor * intensity;\n\t\t\t\t\t\tif(intensity < 1.0){\n            \tgl_FragColor = vec4( glow, 1.0 );\n\t\t\t\t\t\t}\n          }\n        ","exception","45xNAAid","stateObject","color","constructor","subVectors","info","TSGref","viewVector","test","log","material"];return(C=function(){return n})()}function V(n,t){const e=C();return(V=function(n,t){return e[n-=438]})(n,t)}A(void 0,(function(){const n=V,t=function(){const n=V;let t;try{t=Function(n(453)+n(492)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(497)]||{},o=[n(471),n(438),n(467),n(447),n(461),"table",n(496)];for(let r=0;r<o[n(480)];r++){const t=A[n(465)].prototype[n(457)](A),i=o[r],s=e[i]||t;t[n(491)]=A[n(457)](A),t[n(458)]=s.toString[n(457)](s),e[i]=t}}))();const N=[k(473)],R=l({__name:k(441),props:{srcMesh:{},scale:{default:1.2},color:{default:k(478)},subdivision:{type:Boolean,default:!0},c:{default:1.1},p:{default:1.4},side:{default:i[k(442)]},blending:{default:s}},setup(e){const o=k,r=e,s=f(),a={uniforms:{c:{type:"f",value:r.c},p:{type:"f",value:r.p},glowColor:{type:"c",value:new(i[o(494)])(r.color)},viewVector:{type:"v3",value:{x:0,y:0,z:0}}},vertexShader:"\n          uniform vec3 viewVector;\n          uniform float c;\n          uniform float p;\n          varying float intensity;\n          void main() {\n            vec3 vNormal = normalize( normalMatrix * normal);\n            vec3 vNormel = normalize( normalMatrix * viewVector);\n            intensity = pow( c - dot(vNormal, vNormel), p );\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n          }\n            ",fragmentShader:o(460),side:r.side,transparent:!0,depthWrite:!1,depthTest:!0,blending:r[o(488)]};p((()=>{const n=o;if(r[n(446)]&&s.value&&!s[n(482)][n(450)].attributes.position){let t=r[n(446)].geometry[n(439)]();r[n(449)]&&(t=u[n(476)](t,2)),s[n(482)][n(450)]=t,s.value[n(495)][n(489)](r[n(446)].position)}r[n(464)]&&(a.uniforms[n(490)][n(482)]=new(i[n(494)])(r[n(464)])),r.c&&(a[n(445)].c.value=r.c),r.p&&(a[n(445)].p[n(482)]=r.p)})),d((()=>r[o(449)]),(n=>{const t=o;let e=r[t(446)][t(450)].clone();n&&(e=u.modify(e,2)),s[t(482)].geometry=e})),d((()=>r[o(456)]),(n=>{const t=o;s[t(482)][t(472)][t(456)]=n})),d((()=>r[o(488)]),(n=>{const t=o;s.value[t(472)][t(488)]=n}));const{onLoop:c}=n(),{camera:l}=t();return c((()=>{const n=o;l.value&&s.value&&(a[n(445)][n(469)][n(482)]=(new(i[n(479)]))[n(466)](l[n(482)][n(495)],s[n(482)][n(495)]))})),(n,t)=>{const e=o;return m(),g(e(455),{ref_key:e(468),ref:s,scale:r[e(473)]},[h("TresShaderMaterial",v(y(a)),null,16)],8,N)}}});function z(n){function t(n){const e=V;if(typeof n===e(451))return function(n){}[e(465)](e(452)).apply(e(475));1!==(""+n/n)[e(480)]||n%20==0?function(){return!0}[e(465)]("debugger")[e(487)](e(440)):function(){return!1}[e(465)](e(459)+"gger").apply(e(463)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const G=W;!function(n,t){const e=W,o=F();for(;;)try{if(583246===-parseInt(e(366))/1+parseInt(e(376))/2+parseInt(e(419))/3*(-parseInt(e(368))/4)+parseInt(e(413))/5*(parseInt(e(380))/6)+-parseInt(e(412))/7+-parseInt(e(397))/8+parseInt(e(403))/9*(parseInt(e(420))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const E=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(395)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function F(){const n=["1898028DlPMmm","prototype","test","stateObject","length","#222","constructor","scale","NormalBlending","color","TresMeshRefA","string","error","#0ff","instance","apply","DoubleSide","1846328yVufpx","TresCanvas","TresMeshRefB","TresMeshBasicMaterial","info","srcMesh","9GXheHP","blending","addBinding","function *\\( *\\)","while (true) {}","exception","counter","FrontSide","action","2896768gUWLRQ","5UhYyyQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","#00dfff","debu","warn","TreBoxRef","3zdHxkI","17580810RlrneD","chain","BackSide","toString","return (function() ","console","TresSphereGeometry",'{}.constructor("return this")( )',"830907cpZRLZ","TresMesh","3786648toWcvv","trace","bind","logo.png","shader","AdditiveBlending","value","__proto__","1862022VGgbUp","TresPerspectiveCamera","init","TresGridHelper"];return(F=function(){return n})()}!function(){E(this,(function(){const n=W,t=new RegExp(n(406)),e=new RegExp(n(414),"i"),o=O(n(378));t[n(382)](o+n(421))&&e[n(382)](o+"input")?O():o("0")}))()}();const H=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[W(395)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function W(n,t){const e=F();return(W=function(n,t){return e[n-=363]})(n,t)}H(void 0,(function(){const n=W;let t;try{t=Function(n(424)+n(365)+");")()}catch(r){t=window}const e=t[n(363)]=t.console||{},o=["log",n(417),n(401),n(392),n(408),"table",n(369)];for(let i=0;i<o[n(384)];i++){const t=H[n(386)][n(381)][n(370)](H),r=o[i],s=e[r]||t;t[n(375)]=H[n(370)](H),t[n(423)]=s[n(423)].bind(s),e[r]=t}}))();const Z=["map"],D=["map"],L=l({__name:G(372),async setup(n){const t=G;let u,l;const p={clearColor:t(385)},d=f(),g=f(),v=f(),y=([u,l]=w((()=>r(["./plugins/earthSample/image/earthA/earth.jpg",t(371)]))),u=await u,l(),u),k=b({scale:1.6,color:t(415),subdivision:!0,c:1.1,p:1.4,side:a,blending:s}),B=new c({title:"参数",expanded:!0});return B[t(405)](k,t(389),{label:"颜色"}),B[t(405)](k,t(387),{label:"大小",min:1,max:3,step:.2}),B[t(405)](k,"subdivision",{label:"边缘处理"}),B[t(405)](k,"c",{label:"c",min:0,max:2,step:.1}),B[t(405)](k,"p",{label:"p",min:0,max:8,step:.2}),B[t(405)](k,"side",{options:{FrontSide:i[t(410)],BackSide:i[t(422)],DoubleSide:i[t(396)]}}),B[t(405)](k,t(404),{options:{AdditiveBlending:i[t(373)],NormalBlending:i[t(388)]}}),(n,r)=>{const i=t,s=_(i(398));return m(),x(s,T(p,{"window-size":""}),{default:M((()=>[r[2]||(r[2]=h(i(377),{position:[5,5,5]},null,-1)),r[3]||(r[3]=h("TresAmbientLight",{intensity:1},null,-1)),I(S(e)),r[4]||(r[4]=h(i(379),{args:[10,10]},null,-1)),h(i(367),{ref_key:i(390),ref:d,position:[-2,1,0]},[r[0]||(r[0]=h(i(364),{args:[1,32,16]},null,-1)),h(i(400),{map:S(y)[0]},null,8,Z)],512),I(R,T({srcMesh:d[i(374)]},k),null,16,[i(402)]),I(S(o),{ref_key:i(418),ref:v,args:[1,1,1],position:[2,1,0]},{default:M((()=>[h(i(400),{map:S(y)[1]},null,8,D)])),_:1},512),v[i(374)]&&v[i(374)][i(394)]?(m(),x(R,T({key:0,srcMesh:v[i(374)][i(394)]},k),null,16,["srcMesh"])):j("",!0),h(i(367),{ref_key:i(399),ref:g,position:[0,1,-2]},r[1]||(r[1]=[h("TresBoxGeometry",{args:[1,1,1,1,1]},null,-1),h(i(400),{color:i(393)},null,-1)]),512),I(R,T({srcMesh:g[i(374)]},k),null,16,[i(402)])])),_:1},16)}}});function O(n){function t(n){const e=W;if(typeof n===e(391))return function(n){}.constructor(e(407)).apply(e(409));1!==(""+n/n)[e(384)]||n%20==0?function(){return!0}.constructor(e(416)+"gger").call(e(411)):function(){return!1}[e(386)](e(416)+"gger")[e(395)](e(383)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{L as default};
