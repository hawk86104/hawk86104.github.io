import{T as o}from"./topoEditor.B13YwpWd1763540743861.js";import{c as a}from"./lodash.CybtBilg1763540743861.js";import{d as e,at as t,au as l,t as i,w as s,s as r,H as d,I as n,o as g,J as p}from"./@vue.Co_gxueH1763540743861.js";const u={key:0,class:"topology-editor-dialog-mask"},v={class:"topology-editor-dialog"},c=e({__name:"topoEditorDialog",props:t({nodeConfig:{}},{graphData:{required:!1},graphDataModifiers:{},visible:{required:!0},visibleModifiers:{}}),emits:["update:graphData","update:visible"],setup(e){const t=e,c=l(e,"graphData"),f=l(e,"visible"),y=i(void 0),m=i(null);let b=null;s([m,c,f],async()=>{await r(),m.value&&f.value&&(y.value=a(c.value),b=new o(m.value,{manager:{save:!1,handleLoad:!0},nodeConfig:t.nodeConfig}),b.render(y.value))},{immediate:!0});const h=()=>{f.value=!1},k=()=>{f.value=!1},C=()=>{if(b){const o=b.lf.getGraphData();c.value=o}f.value=!1};return s(f,()=>{f.value||(b?.lf.destroy(),b=null)}),(o,a)=>f.value?(g(),d("div",u,[p("div",v,[p("div",{class:"topology-editor-dialog-header"},[a[0]||(a[0]=p("div",{class:"topology-editor-dialog-title"},"拓扑编辑器",-1)),p("div",{class:"topology-editor-dialog-close",onClick:h},"x")]),p("div",{ref_key:"container",ref:m,class:"topology-editor-container"},null,512),p("div",{class:"topology-editor-dialog-footer"},[p("button",{class:"topology-editor-dialog-footer-btn topology-editor-dialog-footer-btn-cancel",onClick:k},"取消"),p("button",{class:"topology-editor-dialog-footer-btn topology-editor-dialog-footer-btn-confirm",onClick:C},"确定")])])])):n("",!0)}});export{c as _};
