import{_ as t,cn as e,d as i,X as n,bT as s,k as o,V as r,at as a,C as c,b as h}from"./three.x4oqFJNT1729821967160.js";const l=g;!function(t,e){const i=g,n=m();for(;;)try{if(497613===parseInt(i(178))/1*(parseInt(i(533))/2)+-parseInt(i(414))/3*(parseInt(i(332))/4)+-parseInt(i(121))/5*(-parseInt(i(295))/6)+parseInt(i(352))/7+parseInt(i(283))/8+parseInt(i(158))/9+parseInt(i(367))/10*(-parseInt(i(523))/11))break;n.push(n.shift())}catch(s){n.push(n.shift())}}();const u=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i.apply(e,arguments);return i=null,t}}:function(){};return t=!1,n}}();!function(){u(this,(function(){const t=g,e=new RegExp("function *\\( *\\)"),i=new RegExp(t(459),"i"),n=y(t(375));e[t(420)](n+"chain")&&i[t(420)](n+"input")?y():n("0")}))()}();const f=function(){let t=!0;return function(e,i){const n=t?function(){if(i){const t=i[g(445)](e,arguments);return i=null,t}}:function(){};return t=!1,n}}();f(void 0,(function(){const t=g;let e;try{e=Function(t(303)+t(197)+");")()}catch(s){e=window}const i=e[t(148)]=e.console||{},n=["log",t(135),t(468),t(277),t(208),t(393),"trace"];for(let o=0;o<n.length;o++){const e=f.constructor[t(255)][t(166)](f),s=n[o],r=i[s]||e;e[t(472)]=f.bind(f),e[t(138)]=r[t(138)][t(166)](r),i[s]=e}}))();const p={distributions:{BOX:1,SPHERE:2,DISC:3,LINE:4},valueOverLifetimeLength:4};typeof define===l(392)&&define[l(561)]?define("spe",p):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module[l(457)]=p),p[l(347)]=function(t,e,i,n){const s=l;this[s(325)]=i||1,this.size=e||1,this[s(368)]=t||Float32Array,this[s(455)]=new t(e*this[s(325)]),this[s(477)]=n||0},p.TypedArrayHelper[l(259)]=p[l(347)],p[l(347)][l(255)].setSize=function(t,e){const i=l,n=this[i(455)][i(190)];return!e&&(t*=this[i(325)]),t<n?this[i(471)](t):t>n?this.grow(t):void console.info("TypedArray is already of size:",t+".","Will not resize.")},p[l(347)][l(255)][l(471)]=function(t){const e=l;return this[e(455)]=this[e(455)].subarray(0,t),this[e(458)]=t,this},p.TypedArrayHelper[l(255)][l(214)]=function(t){const e=l,i=this.array,n=new(this[e(368)])(t);return n[e(515)](i),this[e(455)]=n,this[e(458)]=t,this},p[l(347)][l(255)][l(354)]=function(t,e){const i=l;t*=this[i(325)],e*=this[i(325)];const n=[],s=this.array,o=s[i(190)];for(let r=0;r<o;++r)(r<t||r>=e)&&n.push(s[r]);return this[i(132)](0,n),this},p[l(347)][l(255)][l(132)]=function(t,e){const i=l,n=t+e[i(190)];return n>this[i(455)][i(190)]?this.grow(n):n<this[i(455)].length&&this.shrink(n),this[i(455)][i(515)](e,this.indexOffset+t),this},p[l(347)][l(255)].setVec2=function(t,e){return this.setVec2Components(t,e.x,e.y)},p.TypedArrayHelper.prototype[l(120)]=function(t,e,i){const n=l,s=this[n(455)],o=this[n(477)]+t*this[n(325)];return s[o]=e,s[o+1]=i,this},p[l(347)][l(255)][l(221)]=function(t,e){return this[l(540)](t,e.x,e.y,e.z)},p[l(347)][l(255)][l(540)]=function(t,e,i,n){const s=this.array,o=this.indexOffset+t*this.componentSize;return s[o]=e,s[o+1]=i,s[o+2]=n,this},p[l(347)].prototype[l(282)]=function(t,e){return this.setVec4Components(t,e.x,e.y,e.z,e.w)},p[l(347)][l(255)].setVec4Components=function(t,e,i,n,s){const o=l,r=this.array,a=this[o(477)]+t*this[o(325)];return r[a]=e,r[a+1]=i,r[a+2]=n,r[a+3]=s,this},p[l(347)][l(255)][l(143)]=function(t,e){const i=l;return this[i(132)](this[i(477)]+t*this.componentSize,e[i(222)])},p[l(347)].prototype[l(383)]=function(t,e){const i=l;return this[i(132)](this.indexOffset+t*this[i(325)],e[i(222)])},p.TypedArrayHelper[l(255)][l(271)]=function(t,e){return this.setVec3Components(t,e.r,e.g,e.b)},p[l(347)][l(255)][l(402)]=function(t,e){const i=l;return this.array[this[i(477)]+t*this[i(325)]]=e,this},p.TypedArrayHelper[l(255)][l(409)]=function(t){return this[l(455)][this.indexOffset+t]},p[l(347)][l(255)][l(311)]=function(t){const e=l;return this[e(455)].subarray(this[e(477)]+t*this.componentSize)},p[l(171)]=function(t,e,i){const n=l,s=p[n(171)][n(479)];this[n(300)]=typeof t===n(201)&&s[n(433)](t)?t:"f",this[n(325)]=s[this[n(300)]],this[n(410)]=i||Float32Array,this.typedArray=null,this[n(248)]=null,this[n(275)]=!!e,this[n(406)]=0,this[n(484)]=0},p[l(171)][l(259)]=p.ShaderAttribute,p[l(171)].typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},p[l(171)][l(255)].setUpdateRange=function(t,e){const i=l;this[i(406)]=Math.min(t*this.componentSize,this.updateMin*this.componentSize),this[i(484)]=Math.max(e*this[i(325)],this.updateMax*this[i(325)])},p[l(171)][l(255)][l(168)]=function(){const t=l,e=this.bufferAttribute,i=e.updateRange;i[t(434)]=this.updateMin,i[t(191)]=Math[t(416)](this[t(484)]-this[t(406)]+this.componentSize,this[t(213)].array.length),e.needsUpdate=!0},p[l(171)][l(255)].resetUpdateRange=function(){const t=l;this.updateMin=0,this[t(484)]=0},p[l(171)][l(255)][l(348)]=function(){const i=l;this[i(248)][i(265)]=this[i(275)]?t[i(490)]:e},p[l(171)][l(255)][l(354)]=function(t,e){const i=l;this.typedArray.splice(t,e),this[i(524)]()},p[l(171)][l(255)][l(524)]=function(){const e=l;this[e(248)][e(455)]=this.typedArray.array,this[e(248)].updateRange[e(434)]=0,this[e(248)].updateRange[e(191)]=-1,this[e(248)][e(265)]=t[e(276)],this[e(248)].needsUpdate=!0},p.ShaderAttribute[l(255)][l(555)]=function(t){const e=l;null!==this[e(213)]&&this[e(213)][e(458)]===t*this[e(325)]||(null!==this[e(213)]&&this.typedArray.size!==t?this[e(213)][e(185)](t):null===this[e(213)]&&(this.typedArray=new p.TypedArrayHelper(this.arrayType,t,this[e(325)])))},p[l(171)].prototype[l(310)]=function(e){const s=l;if(this[s(555)](e),null!==this[s(248)])return this[s(248)][s(455)]=this[s(213)].array,parseFloat(i)>=81&&(this[s(248)][s(191)]=this[s(248)][s(455)][s(190)]/this[s(248)][s(133)]),void(this[s(248)][s(195)]=!0);this[s(248)]=new(t[s(181)])(this[s(213)].array,this.componentSize),this[s(248)][s(265)]=this[s(275)]?n:t[s(276)]},p.ShaderAttribute.prototype[l(358)]=function(){const t=l;return null===this[t(213)]?0:this[t(213)].array.length},p.shaderChunks={defines:[l(215),"#define PACKED_COLOR_DIVISOR 255.0"][l(280)]("\n"),uniforms:[l(256),l(316),l(240),l(247),l(373)].join("\n"),attributes:[l(327),l(253),"attribute vec4 rotation;","attribute vec3 rotationCenter;",l(233),"attribute vec4 size;",l(243),l(536),l(363)][l(280)]("\n"),varyings:["varying vec4 vColor;","#ifdef SHOULD_ROTATE_TEXTURE",l(153),l(219),l(407),l(330),l(219)][l(280)]("\n"),branchAvoidanceFunctions:[l(542),l(146),"}","float when_lt(float x, float y) {","    return min( max(1.0 - sign(x - y), 0.0), 1.0 );","}",l(507),l(529),"}","float when_ge(float x, float y) {",l(550),"}",l(385),l(318),"}",l(169),"    return a * b;","}",l(174),"    return min(a + b, 1.0);","}"][l(280)]("\n"),unpackColor:["vec3 unpackColor( in float hex ) {","   vec3 c = vec3( 0.0 );",l(312),l(377),"   float b = mod( hex, PACKED_COLOR_SIZE );","   c.r = r / PACKED_COLOR_DIVISOR;",l(461),l(285),l(252),"}"][l(280)]("\n"),unpackRotationAxis:["vec3 unpackRotationAxis( in float hex ) {",l(552),"   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );",l(272),"   c.r = r / PACKED_COLOR_DIVISOR;",l(461),l(285),l(186),l(453),l(252),"}"][l(280)]("\n"),floatOverLifetime:["float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {",l(483),l(345),l(230),l(496),l(339),"",l(128),"       fIndex = float( i );","       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );",l(305),l(546),"",l(269),"}"][l(280)]("\n"),colorOverLifetime:[l(390),l(556),l(532),"    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );",l(302),l(269),"}"][l(280)]("\n"),paramFetchingFunctions:["float getAlive() {",l(144),"}",l(384),l(568),"}","float getMaxAge() {",l(294),"}",l(217),l(321),"}"][l(280)]("\n"),forceFetchingFunctions:[l(412),l(226),"}",l(242),l(137),"}",l(488),"   return acceleration.xyz * age;","}"].join("\n"),rotationFunctions:["#ifdef SHOULD_ROTATE_PARTICLES",l(535),l(443),l(140),l(342),l(365),"",l(227),l(238),l(423),l(517),l(356),"","   vec3 getRotation( in vec3 pos, in float positionInTime ) {",l(355),l(123),l(513),"",l(289),"      vec3 center = rotationCenter;","      vec3 translated;","      mat4 rotationMatrix;",l(415),l(350),l(557),l(538),l(279),l(175),l(356),l(219)][l(280)]("\n"),rotateTexture:["    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );","",l(478),l(514),l(232),"       float c = cos( -vAngle );",l(525),l(506),l(442),"","    #ifdef SHOULD_CALCULATE_SPRITE",l(473),l(454),l(549),l(192),"        vUv.x = gl_PointCoord.x * framesX + columnNorm;",l(274),"    #endif","","    vec4 rotatedTexture = texture2D( tex, vUv );"][l(280)]("\n")},p[l(296)]={vertex:[p[l(436)][l(451)],p[l(436)][l(134)],p[l(436)][l(122)],p[l(436)][l(273)],t[l(180)][l(534)],t[l(180)].logdepthbuf_pars_vertex,t[l(180)].fog_pars_vertex,p[l(436)][l(396)],p[l(436)][l(263)],p.shaderChunks[l(257)],p[l(436)][l(159)],p.shaderChunks[l(268)],p[l(436)][l(154)],p[l(436)].forceFetchingFunctions,p[l(436)][l(336)],"void main() {",l(397),l(509),l(245),l(418),l(152),l(430),"        float wiggleAmount = positionInTime * getWiggle();",l(361),l(151),l(442),l(142),l(338),l(147),"    vec3 pos = vec3( position );",l(139),l(145),l(544),l(548),l(237),"    #ifdef SHOULD_WIGGLE_PARTICLES",l(301),l(249),"        pos.z += wiggleSin;",l(442),l(530),"        pos = getRotation( pos, positionInTime );",l(442),"    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );",l(150),l(224),l(319),l(207),l(202),l(442),l(136),l(376),l(417),l(508),l(183),l(292),"           unpackColor( color.z ),",l(212),"       );","    #else","       vec3 c = vec3(1.0);","    #endif","    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );","    vColor = vec4( c, o );",l(478),"        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );",l(442),l(173),l(306),l(456),l(500),l(426),"        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );",l(526),l(234),l(149),l(211),"        vSpriteSheet.x = 1.0 / framesX;","        vSpriteSheet.y = 1.0 / framesY;",l(196),l(408),l(442),l(528),"    gl_Position = projectionMatrix * mvPosition;",s.logdepthbuf_vertex,t[l(180)][l(372)],"}"].join("\n"),fragment:[p[l(436)].uniforms,t[l(180)].common,t[l(180)][l(425)],t[l(180)].logdepthbuf_pars_fragment,p[l(436)][l(273)],p[l(436)][l(396)],l(341),"    vec3 outgoingLight = vColor.xyz;",l(429),l(475),l(317),"    #endif",p.shaderChunks[l(470)],t[l(180)][l(344)],l(236),l(437),t[l(180)][l(444)],"}"][l(280)]("\n")},p[l(554)]={types:{BOOLEAN:"boolean",STRING:l(201),NUMBER:"number",OBJECT:"object"},ensureTypedArg:(t,e,i)=>typeof t===e?t:i,ensureArrayTypedArg(t,e,i){const n=l;if(Array[n(466)](t)){for(let s=t[n(190)]-1;s>=0;--s)if(typeof t[s]!==e)return i;return t}return this[n(204)](t,e,i)},ensureInstanceOf:(t,e,i)=>void 0!==e&&t instanceof e?t:i,ensureArrayInstanceOf(t,e,i){const n=l;if(Array.isArray(t)){for(let s=t[n(190)]-1;s>=0;--s)if(void 0!==e&&t[s]instanceof e==!1)return i;return t}return this[n(297)](t,e,i)},ensureValueOverLifetimeCompliance(t,e,i){const n=l;e=e||3,i=i||3,!1===Array[n(466)](t[n(141)])&&(t._value=[t[n(141)]]),!1===Array[n(466)](t[n(349)])&&(t[n(349)]=[t[n(349)]]);const s=this[n(522)](t[n(141)][n(190)],e,i),o=this[n(522)](t[n(349)][n(190)],e,i),r=Math[n(246)](s,o);t._value[n(190)]!==r&&(t._value=this[n(467)](t._value,r)),t[n(349)][n(190)]!==r&&(t[n(349)]=this.interpolateArray(t[n(349)],r))},interpolateArray(t,e){const i=l,n=t.length,s=[typeof t[0][i(264)]===i(392)?t[0][i(264)]():t[0]],o=(n-1)/(e-1);for(let r=1;r<e-1;++r){const e=r*o,n=Math[i(194)](e),a=Math[i(346)](e),c=e-n;s[r]=this.lerpTypeAgnostic(t[n],t[a],c)}return s[i(357)]("function"==typeof t[n-1][i(264)]?t[n-1][i(264)]():t[n-1]),s},clamp(t,e,i){const n=l;return Math[n(246)](e,Math[n(416)](t,i))},zeroToEpsilon(t,e){let i=1e-5,n=t;return n=e?Math.random()*i*10:i,t<0&&t>-1e-5&&(n=-n),n},lerpTypeAgnostic(e,i,n){const s=l;let a,c=this[s(313)];return typeof e===c[s(288)]&&typeof i===c.NUMBER?e+(i-e)*n:e instanceof o&&i instanceof t[s(220)]?(a=e[s(264)](),a.x=this[s(286)](e.x,i.x,n),a.y=this[s(286)](e.y,i.y,n),a):e instanceof t[s(209)]&&i instanceof r?(a=e.clone(),a.x=this[s(286)](e.x,i.x,n),a.y=this.lerp(e.y,i.y,n),a.z=this[s(286)](e.z,i.z,n),a):e instanceof t[s(308)]&&i instanceof t[s(308)]?(a=e[s(264)](),a.x=this.lerp(e.x,i.x,n),a.y=this[s(286)](e.y,i.y,n),a.z=this.lerp(e.z,i.z,n),a.w=this.lerp(e.w,i.w,n),a):e instanceof t[s(251)]&&i instanceof t[s(251)]?(a=e[s(264)](),a.r=this[s(286)](e.r,i.r,n),a.g=this[s(286)](e.g,i.g,n),a.b=this.lerp(e.b,i.b,n),a):void console.warn(s(177),e,i)},lerp:(t,e,i)=>t+(e-t)*i,roundToNearestMultiple(t,e){let i=0;return 0===e?t:(i=Math[l(278)](t)%e,0===i?t:t<0?-(Math.abs(t)-i):t+e-i)},arrayValuesAreEqual(t){const e=l;for(let i=0;i<t[e(190)]-1;++i)if(t[i]!==t[i+1])return!1;return!0},randomFloat:(t,e)=>t+e*(Math[l(405)]()-.5),randomVector3(t,e,i,n,s){const o=l;let r=i.x+(Math.random()*n.x-.5*n.x),a=i.y+(Math[o(405)]()*n.y-.5*n.y),c=i.z+(Math[o(405)]()*n.z-.5*n.z);s&&(r=.5*-s.x+this[o(480)](r,s.x),a=.5*-s.y+this[o(480)](a,s.y),c=.5*-s.z+this[o(480)](c,s.z)),t[o(213)].setVec3Components(e,r,a,c)},randomColor(t,e,i,n){const s=l;let o=i.r+Math.random()*n.x,r=i.g+Math[s(405)]()*n.y,a=i.b+Math[s(405)]()*n.z;o=this[s(522)](o,0,1),r=this[s(522)](r,0,1),a=this[s(522)](a,0,1),t[s(213)][s(540)](e,o,r,a)},randomColorAsHex:function(){const e=l,i=new(t[e(251)]);return function(t,n,s,o){const r=e,a=s[r(190)],c=[];for(let e=0;e<a;++e){const t=o[e];i.copy(s[e]),i.r+=Math[r(405)]()*t.x-.5*t.x,i.g+=Math[r(405)]()*t.y-.5*t.y,i.b+=Math[r(405)]()*t.z-.5*t.z,i.r=this.clamp(i.r,0,1),i.g=this[r(522)](i.g,0,1),i.b=this[r(522)](i.b,0,1),c.push(i[r(239)]())}t[r(213)][r(485)](n,c[0],c[1],c[2],c[3])}}(),randomVector3OnLine(t,e,i,n){const s=l,o=i[s(264)]();o.lerp(n,Math.random()),t[s(213)].setVec3Components(e,o.x,o.y,o.z)},randomVector3OnSphere(t,e,i,n,s,o,r,a){const c=l;let h=2*Math[c(405)]()-1,u=6.2832*Math[c(405)](),f=Math[c(329)](1-h*h),p=this[c(389)](n,s),d=0,m=0,g=0;r&&(p=Math.round(p/r)*r),d=f*Math.cos(u)*p,m=f*Math[c(527)](u)*p,g=h*p,d*=o.x,m*=o.y,g*=o.z,d+=i.x,m+=i.y,g+=i.z,t.typedArray[c(540)](e,d,m,g)},seededRandom(t){const e=1e4*Math.sin(t);return e-(0|e)},randomVector3OnDisc(t,e,i,n,s,o,r){const a=l;let c=6.2832*Math.random(),h=Math[a(278)](this[a(389)](n,s)),u=0,f=0,p=0;r&&(h=Math[a(566)](h/r)*r),u=Math[a(511)](c)*h,f=Math[a(527)](c)*h,u*=o.x,f*=o.y,u+=i.x,f+=i.y,p+=i.z,t[a(213)][a(540)](e,u,f,p)},randomDirectionVector3OnSphere:function(){const e=l,i=new(t[e(209)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(489)](a),i.x-=s,i.y-=o,i.z-=r,i.normalize().multiplyScalar(-this[l(389)](c,h)),t[l(213)].setVec3Components(n,i.x,i.y,i.z)}}(),randomDirectionVector3OnDisc:function(){const e=l,i=new(t[e(209)]);return function(t,n,s,o,r,a,c,h){const l=e;i[l(489)](a),i.x-=s,i.y-=o,i.z-=r,i.normalize().multiplyScalar(-this[l(389)](c,h)),t[l(213)][l(540)](n,i.x,i.y,0)}}(),getPackedRotationAxis:function(){const e=l,i=new(t[e(209)]),n=new(t[e(209)]),s=new(t[e(251)]),o=new(t[e(209)])(1,1,1);return function(t,r){const a=e;return i.copy(t)[a(244)](),n[a(489)](r).normalize(),i.x+=.5*-r.x+Math.random()*r.x,i.y+=.5*-r.y+Math[a(405)]()*r.y,i.z+=.5*-r.z+Math[a(405)]()*r.z,i[a(244)]()[a(374)](o)[a(564)](.5),s.setRGB(i.x,i.y,i.z),s[a(239)]()}}()},p.Group=function(e){const i=l,n=p[i(554)],s=n[i(313)];(e=n[i(204)](e,s[i(281)],{})).texture=n.ensureTypedArg(e[i(353)],s[i(281)],{}),this[i(494)]=t[i(270)][i(198)](),this[i(570)]=n.ensureTypedArg(e[i(570)],s.NUMBER,.016),this[i(353)]=n.ensureInstanceOf(e[i(353)][i(498)],t[i(267)],null),this[i(502)]=n[i(297)](e[i(353)][i(258)],t[i(220)],new(t[i(220)])(1,1)),this[i(380)]=n[i(204)](e.texture.frameCount,s[i(288)],this[i(502)].x*this[i(502)].y),this[i(161)]=n.ensureTypedArg(e[i(353)].loop,s[i(288)],1),this[i(502)][i(246)](new(t[i(220)])(1,1)),this[i(179)]=n[i(204)](e[i(179)],s[i(387)],!0),this[i(155)]=n[i(204)](e[i(155)],s[i(387)],!0),this[i(287)]=n[i(204)](e[i(287)],s.NUMBER,null),this[i(439)]=n.ensureTypedArg(e[i(439)],s[i(288)],t[i(299)]),this[i(371)]=n[i(204)](e[i(371)],s[i(387)],!0),this[i(463)]=parseFloat(n.ensureTypedArg(e[i(463)],s[i(288)],0)),this[i(328)]=n.ensureTypedArg(e[i(328)],s[i(387)],!1),this[i(512)]=n[i(204)](e[i(512)],s[i(387)],!0),this.fog=n[i(204)](e[i(304)],s.BOOLEAN,!0),this[i(284)]=n[i(204)](e[i(284)],s[i(288)],300),this.emitters=[],this[i(129)]=[],this[i(428)]=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this[i(431)]=!1,this[i(386)]=0,this.uniforms={tex:{type:"t",value:this[i(353)]},textureAnimation:{type:"v4",value:new a(this.textureFrames.x,this[i(502)].y,this[i(380)],Math[i(246)](Math[i(278)](this[i(161)]),1))},fogColor:{type:"c",value:this[i(304)]?new c:null},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale}},this[i(451)]={HAS_PERSPECTIVE:this[i(179)],COLORIZE:this[i(155)],VALUE_OVER_LIFETIME_LENGTH:p.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_CALCULATE_SPRITE:this[i(502)].x>1||this.textureFrames.y>1},this[i(122)]={position:new(p[i(171)])("v3",!0),acceleration:new(p[i(171)])("v4",!0),velocity:new(p[i(171)])("v3",!0),rotation:new p.ShaderAttribute("v4",!0),rotationCenter:new p.ShaderAttribute("v3",!0),params:new(p[i(171)])("v4",!0),size:new(p[i(171)])("v4",!0),angle:new(p[i(171)])("v4",!0),color:new(p[i(171)])("v4",!0),opacity:new(p[i(171)])("v4",!0)},this.attributeKeys=Object.keys(this[i(122)]),this[i(495)]=this[i(569)][i(190)],this[i(559)]=new(t[i(188)])({uniforms:this[i(134)],vertexShader:p[i(296)].vertex,fragmentShader:p.shaders.fragment,blending:this[i(439)],transparent:this[i(371)],alphaTest:this[i(463)],depthWrite:this[i(328)],depthTest:this[i(512)],defines:this[i(451)],fog:this.fog}),this[i(205)]=new(t[i(520)]),this[i(291)]=new h(this[i(205)],this[i(559)]),null===this[i(287)]&&console[i(135)]("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},p[l(421)][l(259)]=p[l(421)],p[l(421)][l(255)][l(323)]=function(){const t=l;let e,i=this[t(379)],n=i.length-1,s=this[t(451)];for(;n>=0;--n)e=i[n],!s[t(438)]&&(s.SHOULD_ROTATE_TEXTURE=s[t(401)]||!!Math[t(246)](Math[t(246)][t(445)](null,e[t(563)][t(498)]),Math[t(246)][t(445)](null,e[t(563)][t(298)]))),s.SHOULD_ROTATE_PARTICLES=s[t(235)]||!!Math[t(246)](e[t(164)][t(563)],e[t(164)][t(364)]),s[t(314)]=s[t(314)]||!!Math[t(246)](e[t(551)][t(498)],e[t(551)][t(298)]);this.material[t(195)]=!0},p[l(421)][l(255)][l(394)]=function(){const t=l;let e,i,n=this.attributes,s=this[t(205)],o=s[t(122)];for(const r in n)n[t(433)](r)&&(e=n[r],i=o[r],i?i[t(455)]=e.typedArray[t(455)]:s[t(398)](r,e[t(248)]),e[t(248)][t(195)]=!0);this[t(205)][t(462)](0,this[t(386)])},p.Group[l(255)].addEmitter=function(t){const e=l;if(t instanceof p[e(124)]==!1)return void console[e(277)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(this.emitterIDs.indexOf(t.uuid)>-1)return void console[e(277)](e(250));if(null!==t[e(229)])return void console[e(277)]("Emitter already belongs to another group. Will not add to requested group.");const i=this.attributes,n=this[e(386)],s=n+t.particleCount;this[e(386)]=s,null!==this[e(287)]&&this[e(386)]>this[e(287)]&&console[e(135)](e(307),this[e(386)],e(465),this[e(287)]),t[e(160)](t[e(370)][e(141)]+t[e(370)][e(349)]),t[e(487)](this.attributeKeys),t[e(519)](n),t.group=this,t.attributes=this[e(122)];for(const o in i)i.hasOwnProperty(o)&&i[o][e(310)](null!==this[e(287)]?this.maxParticleCount:this.particleCount);for(let o=n;o<s;++o)t[e(400)](o),t._assignForceValue(o,"velocity"),t[e(521)](o,"acceleration"),t[e(125)](o,"opacity"),t._assignAbsLifetimeValue(o,e(458)),t[e(558)](o),t._assignRotationValue(o),t[e(541)](o),t._assignColorValue(o);return this[e(394)](),this[e(379)][e(357)](t),this[e(129)][e(357)](t[e(494)]),this[e(323)](t),this[e(559)].needsUpdate=!0,this[e(205)][e(195)]=!0,this[e(543)]=!0,this},p[l(421)][l(255)][l(187)]=function(t){const e=l,i=this[e(129)][e(223)](t.uuid);if(t instanceof p[e(124)]==!1)return void console[e(277)]("`emitter` argument must be instance of SPE.Emitter. Was provided with:",t);if(-1===i)return void console[e(277)](e(399));const n=t[e(172)],s=n+t.particleCount,o=this[e(122)][e(290)][e(213)];for(let r=n;r<s;++r)o.array[4*r]=0,o[e(455)][4*r+1]=0;this[e(379)].splice(i,1),this.emitterIDs.splice(i,1);for(const r in this[e(122)])this[e(122)].hasOwnProperty(r)&&this[e(122)][r][e(354)](n,s);this[e(386)]-=t[e(386)],t._onRemove(),this[e(543)]=!0},p[l(421)][l(255)][l(447)]=function(){const t=l,e=this[t(428)],i=this[t(404)];if(e[t(190)])return e[t(163)]();if(i){const e=new p.Emitter(this[t(130)]);return this[t(403)](e),e}return null},p[l(421)][l(255)][l(469)]=function(t){const e=l;if(t instanceof p[e(124)]!=!1)return t.reset(),this[e(428)].unshift(t),this;console.error("Argument is not instanceof SPE.Emitter:",t)},p[l(421)][l(255)][l(199)]=function(){return this._pool},p.Group[l(255)].addPool=function(t,e,i){const n=l;let s;this[n(130)]=e,this[n(404)]=!!i;for(let o=0;o<t;++o)s=Array.isArray(e)?new(p[n(124)])(e[o]):new(p[n(124)])(e),this[n(403)](s),this[n(469)](s);return this},p[l(421)][l(255)][l(481)]=function(e){const i=l,n=this[i(447)](),s=this;if(null!==n)return e instanceof t[i(209)]&&(n[i(331)][i(498)][i(489)](e),n[i(331)][i(498)]=n[i(331)].value),n.enable(),setTimeout((()=>{n[i(510)](),s.releaseIntoPool(n)}),1e3*Math[i(246)](n[i(131)],n[i(370)][i(498)]+n[i(370)][i(298)])),this;console[i(320)]("SPE.Group pool ran out.")},p[l(421)][l(255)][l(206)]=function(t,e){if(typeof t===l(531)&&t>1)for(let i=0;i<t;++i)this._triggerSingleEmitter(e);else this._triggerSingleEmitter(e);return this},p.Group[l(255)]._updateUniforms=function(t){const e=l;this.uniforms[e(203)][e(498)]+=t,this[e(134)].deltaTime.value=t},p.Group.prototype[l(474)]=function(){const t=l;let e=this[t(569)],i=this[t(495)]-1,n=this.attributes;for(;i>=0;--i)n[e[i]].resetUpdateRange()},p.Group[l(255)]._updateBuffers=function(t){const e=l;let i,n,s,o=this.attributeKeys,r=this[e(495)]-1,a=this.attributes,c=t[e(516)];for(;r>=0;--r)i=o[r],n=c[i],s=a[i],s[e(228)](n[e(416)],n.max),s.flagUpdate()},p[l(421)][l(255)][l(261)]=function(t){const e=l;var i=this[e(379)],n=i[e(190)],s=t||this[e(570)],o=this[e(569)],r=this[e(122)];if(this[e(492)](s),this[e(474)](),0!==n||!1!==this[e(543)]||!1!==this[e(431)]){for(var a,c=0;c<n;++c)(a=i[c])[e(261)](s),this[e(565)](a);if(!0===this[e(431)]){for(c=this[e(495)]-1;c>=0;--c)r[o[c]].resetDynamic();this._attributesNeedDynamicReset=!1}if(!0===this[e(543)]){for(c=this[e(495)]-1;c>=0;--c)r[o[c]][e(524)]();this[e(543)]=!1,this[e(431)]=!0}}},p[l(421)][l(255)][l(189)]=function(){const t=l;return this[t(205)].dispose(),this.material[t(189)](),this},p[l(124)]=function(e){const i=l,n=p.utils,s=n[i(313)],o=p.valueOverLifetimeLength;(e=n[i(204)](e,s[i(281)],{})).position=n[i(204)](e[i(331)],s.OBJECT,{}),e[i(432)]=n[i(204)](e.velocity,s[i(281)],{}),e[i(193)]=n[i(204)](e[i(193)],s[i(281)],{}),e[i(435)]=n[i(204)](e[i(435)],s[i(281)],{}),e[i(309)]=n[i(204)](e[i(309)],s[i(281)],{}),e[i(164)]=n[i(204)](e.rotation,s.OBJECT,{}),e[i(567)]=n[i(204)](e[i(567)],s[i(281)],{}),e[i(493)]=n[i(204)](e.opacity,s[i(281)],{}),e[i(458)]=n[i(204)](e[i(458)],s[i(281)],{}),e[i(563)]=n.ensureTypedArg(e[i(563)],s.OBJECT,{}),e[i(551)]=n[i(204)](e[i(551)],s.OBJECT,{}),e.maxAge=n[i(204)](e[i(370)],s[i(281)],{}),e[i(476)]&&console[i(135)](i(505)),this[i(494)]=t[i(270)][i(198)](),this[i(300)]=n[i(204)](e[i(300)],s.NUMBER,p[i(362)][i(503)]),this.position={_value:n[i(297)](e[i(331)][i(498)],r,new(t[i(209)])),_spread:n[i(297)](e[i(331)].spread,t[i(209)],new(t[i(209)])),_spreadClamp:n[i(297)](e[i(331)][i(184)],t[i(209)],new r),_distribution:n[i(204)](e[i(331)][i(322)],s[i(288)],this[i(300)]),_randomise:n[i(204)](e[i(331)].randomise,s.BOOLEAN,!1),_radius:n.ensureTypedArg(e.position[i(435)],s[i(288)],10),_radiusScale:n[i(297)](e.position[i(545)],t[i(209)],new(t[i(209)])(1,1,1)),_distributionClamp:n[i(204)](e[i(331)].distributionClamp,s.NUMBER,0)},this[i(432)]={_value:n.ensureInstanceOf(e.velocity[i(498)],r,new(t[i(209)])),_spread:n[i(297)](e.velocity[i(298)],r,new(t[i(209)])),_distribution:n[i(204)](e[i(432)][i(322)],s.NUMBER,this[i(300)]),_randomise:n[i(204)](e[i(331)][i(176)],s[i(387)],!1)},this[i(193)]={_value:n[i(297)](e.acceleration[i(498)],t[i(209)],new(t[i(209)])),_spread:n.ensureInstanceOf(e.acceleration[i(298)],t[i(209)],new(t[i(209)])),_distribution:n[i(204)](e[i(193)][i(322)],s[i(288)],this[i(300)]),_randomise:n.ensureTypedArg(e[i(331)][i(176)],s.BOOLEAN,!1)},this.drag={_value:n[i(204)](e[i(309)][i(498)],s.NUMBER,0),_spread:n.ensureTypedArg(e[i(309)][i(298)],s.NUMBER,0),_randomise:n[i(204)](e.position.randomise,s[i(387)],!1)},this[i(551)]={_value:n[i(204)](e[i(551)].value,s[i(288)],0),_spread:n[i(204)](e[i(551)][i(298)],s[i(288)],0)},this.rotation={_axis:n[i(297)](e.rotation[i(411)],t[i(209)],new(t[i(209)])(0,1,0)),_axisSpread:n.ensureInstanceOf(e[i(164)].axisSpread,t[i(209)],new r),_angle:n[i(204)](e[i(164)][i(563)],s[i(288)],0),_angleSpread:n[i(204)](e.rotation[i(364)],s[i(288)],0),_static:n.ensureTypedArg(e[i(164)][i(326)],s[i(387)],!1),_center:n.ensureInstanceOf(e[i(164)][i(547)],t[i(209)],this[i(331)][i(141)][i(264)]()),_randomise:n[i(204)](e[i(331)][i(176)],s[i(387)],!1)},this[i(370)]={_value:n[i(204)](e.maxAge[i(498)],s[i(288)],2),_spread:n[i(204)](e.maxAge[i(298)],s[i(288)],0)},this.color={_value:n[i(334)](e.color[i(498)],c,new c),_spread:n.ensureArrayInstanceOf(e[i(567)][i(298)],t[i(209)],new(t[i(209)])),_randomise:n[i(204)](e[i(331)].randomise,s.BOOLEAN,!1)},this.opacity={_value:n[i(360)](e.opacity[i(498)],s[i(288)],1),_spread:n[i(360)](e[i(493)][i(298)],s.NUMBER,0),_randomise:n[i(204)](e[i(331)].randomise,s[i(387)],!1)},this[i(458)]={_value:n[i(360)](e[i(458)][i(498)],s.NUMBER,1),_spread:n.ensureArrayTypedArg(e[i(458)].spread,s[i(288)],0),_randomise:n[i(204)](e.position[i(176)],s[i(387)],!1)},this[i(563)]={_value:n[i(360)](e[i(563)][i(498)],s[i(288)],0),_spread:n[i(360)](e[i(563)][i(298)],s.NUMBER,0),_randomise:n.ensureTypedArg(e[i(331)][i(176)],s.BOOLEAN,!1)},this[i(386)]=n[i(204)](e[i(386)],s[i(288)],100),this[i(131)]=n.ensureTypedArg(e.duration,s.NUMBER,null),this[i(324)]=n.ensureTypedArg(e[i(324)],s[i(387)],!1),this[i(216)]=n[i(204)](e[i(216)],s[i(288)],1),this[i(182)]=n[i(204)](e[i(182)],s[i(288)],1),this[i(413)]=n[i(204)](e[i(413)],s[i(387)],!0),this[i(504)]=0,this.activationIndex=0,this[i(172)]=0,this[i(427)]=0,this[i(170)]=0,this[i(460)]=0,this[i(229)]=null,this[i(122)]=null,this[i(391)]=null,this[i(553)]={position:n[i(204)](e[i(331)][i(176)],s[i(387)],!1)||n[i(204)](e.radius[i(176)],s[i(387)],!1),velocity:n[i(204)](e[i(432)][i(176)],s[i(387)],!1),acceleration:n.ensureTypedArg(e[i(193)].randomise,s[i(387)],!1)||n[i(204)](e[i(309)][i(176)],s[i(387)],!1),rotation:n[i(204)](e[i(164)][i(176)],s[i(387)],!1),rotationCenter:n[i(204)](e[i(164)][i(176)],s[i(387)],!1),size:n[i(204)](e[i(458)][i(176)],s[i(387)],!1),color:n.ensureTypedArg(e.color[i(176)],s[i(387)],!1),opacity:n[i(204)](e.opacity.randomise,s.BOOLEAN,!1),angle:n.ensureTypedArg(e[i(563)][i(176)],s[i(387)],!1)},this[i(351)]={},this.updateCounts={},this[i(127)]={maxAge:"params",position:i(331),velocity:i(432),acceleration:"acceleration",drag:i(193),wiggle:i(290),rotation:i(164),size:i(458),color:"color",opacity:i(493),angle:i(563)};for(const t in this.updateMap)this[i(127)].hasOwnProperty(t)&&(this[i(378)][this[i(127)][t]]=0,this.updateFlags[this[i(127)][t]]=!1,this[i(441)](this[t],t));this[i(516)]={},this[i(569)]=null,this[i(495)]=0,n[i(156)](this[i(567)],o,o),n[i(156)](this[i(493)],o,o),n[i(156)](this[i(458)],o,o),n[i(156)](this[i(563)],o,o)},p.Emitter[l(259)]=p[l(124)],p.Emitter[l(255)][l(441)]=function(t,e){const i=l,n=this;for(const s in t)if(t[i(433)](s)){const o=s[i(254)]("_","");Object[i(369)](t,o,{get:function(t){return function(){return this[t]}}(s),set:function(t){return function(i){const s=g,o=n[s(127)][e],r=this[t],a=p[s(497)];"_rotationCenter"===t?(n[s(351)][s(486)]=!0,n[s(378)].rotationCenter=0):"_randomise"===t?n[s(553)][o]=i:(n[s(351)][o]=!0,n[s(378)][o]=0),n.group[s(323)](),this[t]=i,Array[s(466)](r)&&p[s(554)].ensureValueOverLifetimeCompliance(n[e],a,a)}}(s)})}},p[l(124)][l(255)][l(487)]=function(t){const e=l;this[e(569)]=t,this.attributeCount=t[e(190)];for(let i=this[e(495)]-1;i>=0;--i)this[e(516)][t[i]]={min:Number.POSITIVE_INFINITY,max:Number[e(464)]}},p[l(124)].prototype[l(160)]=function(t){const e=l,i=this[e(386)];this[e(131)]?this[e(504)]=i/(t<this[e(131)]?t:this[e(131)]):this.particlesPerSecond=i/t},p[l(124)][l(255)][l(519)]=function(t){const e=l;this.attributeOffset=t,this[e(157)]=t,this.activationEnd=t+this[e(386)]},p[l(124)][l(255)]._assignValue=function(t,e){const i=l;switch(t){case i(331):this[i(400)](e);break;case i(432):case i(193):this._assignForceValue(e,t);break;case"size":case"opacity":this[i(125)](e,t);break;case i(563):this[i(558)](e);break;case i(290):this._assignParamsValue(e);break;case"rotation":this[i(266)](e);break;case i(567):this._assignColorValue(e)}},p[l(124)][l(255)][l(400)]=function(t){const e=l,i=p[e(362)],n=p[e(554)],s=this[e(331)],o=this[e(122)][e(331)],r=s._value,a=s[e(349)];switch(s[e(315)]){case i[e(503)]:n[e(501)](o,t,r,a,s[e(539)]);break;case i.SPHERE:n[e(343)](o,t,r,s[e(446)],s[e(349)].x,s[e(167)],s[e(539)].x,s[e(422)]||this[e(386)]);break;case i[e(210)]:n[e(419)](o,t,r,s._radius,s[e(349)].x,s._radiusScale,s[e(539)].x);break;case i[e(231)]:n[e(395)](o,t,r,a)}},p[l(124)].prototype[l(521)]=function(t,e){const i=l;let n,s,o,r,a,c=p[i(362)],h=p[i(554)],u=this[e],f=u[i(141)],d=u[i(349)];switch(u[i(315)]){case c[i(503)]:h[i(501)](this.attributes[e],t,f,d);break;case c[i(518)]:n=this[i(122)][i(331)][i(213)][i(455)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(450)](this[i(122)][e],t,s,o,r,this[i(331)][i(141)],u[i(141)].x,u[i(349)].x);break;case c[i(210)]:n=this.attributes[i(331)][i(213)][i(455)],a=3*t,s=n[a],o=n[a+1],r=n[a+2],h[i(165)](this[i(122)][e],t,s,o,r,this.position[i(141)],u[i(141)].x,u[i(349)].x);break;case c[i(231)]:h[i(395)](this[i(122)][e],t,f,d)}if("acceleration"===e){const e=h[i(522)](h[i(389)](this.drag[i(141)],this[i(309)][i(349)]),0,1);this[i(122)][i(193)].typedArray[i(455)][4*t+3]=e}},p[l(124)][l(255)][l(125)]=function(t,e){const i=l;let n,s=this[i(122)][e][i(213)],o=this[e],r=p.utils;r.arrayValuesAreEqual(o[i(141)])&&r.arrayValuesAreEqual(o[i(349)])?(n=Math[i(278)](r[i(389)](o._value[0],o._spread[0])),s[i(485)](t,n,n,n,n)):s[i(485)](t,Math[i(278)](r[i(389)](o[i(141)][0],o[i(349)][0])),Math[i(278)](r.randomFloat(o[i(141)][1],o[i(349)][1])),Math.abs(r[i(389)](o[i(141)][2],o[i(349)][2])),Math[i(278)](r[i(389)](o[i(141)][3],o[i(349)][3])))},p[l(124)][l(255)][l(558)]=function(t){const e=l;let i,n=this[e(122)].angle.typedArray,s=this[e(563)],o=p[e(554)];o[e(482)](s[e(141)])&&o.arrayValuesAreEqual(s._spread)?(i=o[e(389)](s[e(141)][0],s[e(349)][0]),n[e(485)](t,i,i,i,i)):n[e(485)](t,o.randomFloat(s[e(141)][0],s[e(349)][0]),o[e(389)](s[e(141)][1],s._spread[1]),o[e(389)](s[e(141)][2],s[e(349)][2]),o[e(389)](s[e(141)][3],s[e(349)][3]))},p[l(124)].prototype[l(541)]=function(t){const e=l;this[e(122)][e(290)][e(213)][e(485)](t,this[e(324)]?1:0,0,Math[e(278)](p[e(554)][e(389)](this[e(370)][e(141)],this[e(370)][e(349)])),p[e(554)][e(389)](this.wiggle[e(141)],this[e(551)]._spread))},p[l(124)][l(255)][l(266)]=function(t){const e=l;this[e(122)][e(164)][e(213)][e(540)](t,p[e(554)][e(424)](this[e(164)][e(366)],this.rotation[e(382)]),p[e(554)][e(389)](this.rotation[e(562)],this[e(164)][e(162)]),this[e(164)][e(560)]?0:1),this[e(122)][e(486)][e(213)][e(221)](t,this.rotation._center)},p[l(124)].prototype._assignColorValue=function(t){const e=l;p.utils[e(388)](this[e(122)].color,t,this[e(567)]._value,this.color._spread)},p[l(124)][l(255)]._resetParticle=function(t){const e=l;let i,n,s=this[e(553)],o=this.updateFlags,r=this.updateCounts,a=this[e(569)];for(let c=this[e(495)]-1;c>=0;--c)i=a[c],n=o[i],!0!==s[i]&&!0!==n||(this[e(225)](i,t),this[e(381)](i,t),!0===n&&r[i]===this[e(386)]?(o[i]=!1,r[i]=0):1==n&&++r[i])},p[l(124)][l(255)][l(381)]=function(t,e){const i=l,n=this[i(516)][t];n[i(416)]=Math.min(e,n[i(416)]),n.max=Math[i(246)](e,n[i(246)])},p[l(124)][l(255)]._resetBufferRanges=function(){const t=l;let e,i=this[t(516)],n=this[t(359)],s=this[t(337)]-1;for(;s>=0;--s)e=n[s],i[e][t(416)]=Number[t(335)],i[e].max=Number[t(464)]},p[l(124)][l(255)]._onRemove=function(){const t=l;this.particlesPerSecond=0,this[t(172)]=0,this.activationIndex=0,this[t(460)]=0,this[t(229)]=null,this[t(122)]=null,this[t(391)]=null,this.age=0},p[l(124)][l(255)][l(218)]=function(){--this[l(460)]},p[l(124)][l(255)][l(340)]=function(){++this[l(460)]},p[l(124)][l(255)][l(448)]=function(t,e,i,n){const s=l;for(var o,r,a,c,h=e-1;h>=t;--h)0!==(c=i[o=4*h])&&(a=i[o+1],r=i[o+2],1===this[s(182)]?(a+=n)>=r&&(a=0,c=0,this[s(218)]()):(a-=n)<=0&&(a=r,c=0,this[s(218)]()),i[o]=c,i[o+1]=a,this[s(381)](s(290),h))},p[l(124)][l(255)][l(537)]=function(t,e,i,n){const s=l,o=this[s(182)];for(var r,a,c=t;c<e;++c)0!=i[r=4*c]&&1!==this.particleCount||(this[s(340)](),i[r]=1,this[s(333)](c),a=n*(c-t),i[r+1]=-1===o?i[r+2]-a:a,this[s(381)]("params",c))},p.Emitter[l(255)][l(261)]=function(t){const e=l;if(this[e(324)])return;null===this[e(391)]&&(this[e(391)]=this.attributes[e(290)][e(213)][e(455)]);const i=this[e(172)],n=i+this[e(386)],s=this[e(391)],o=this[e(504)]*this.activeMultiplier*t,r=this.activationIndex;if(this[e(474)](),this[e(448)](i,n,s,t),!1===this.alive)return void(this.age=0);if(null!==this[e(131)]&&this[e(170)]>this[e(131)])return this[e(413)]=!1,void(this[e(170)]=0);const a=1===this[e(386)]?r:0|r,c=Math[e(416)](a+o,this[e(260)]),h=c-this[e(157)]|0,u=h>0?t/h:0;this[e(537)](a,c,s,u),this.activationIndex+=o,this[e(157)]>n&&(this.activationIndex=i),this.age+=t},p[l(124)][l(255)][l(293)]=function(t){const e=l;if(this.age=0,this[e(413)]=!1,!0===t){const t=this[e(172)],s=t+this[e(386)],o=this[e(391)],r=this[e(122)][e(290)][e(248)];for(var i,n=s-1;n>=t;--n)o[i=4*n]=0,o[i+1]=0;r.updateRange[e(434)]=0,r[e(200)].count=-1,r[e(195)]=!0}return this},p.Emitter[l(255)].enable=function(){return this[l(413)]=!0,this},p[l(124)][l(255)].disable=function(){return this[l(413)]=!1,this},p.Emitter[l(255)][l(499)]=function(){const t=l;return null!==this[t(229)]?this.group[t(187)](this):console[t(277)](t(126)),this};const d=p;function m(){const t=["getFromPool","_checkParticleAges","counter","randomDirectionVector3OnSphere","defines","action","   c -= vec3( 1.0 );","        float framesY = vSpriteSheet.y;","array","        float framesY = textureAnimation.y;","exports","size","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","activeParticleCount","   c.g = g / PACKED_COLOR_DIVISOR;","setDrawRange","alphaTest","NEGATIVE_INFINITY","particles, can support only","isArray","interpolateArray","info","releaseIntoPool","rotateTexture","shrink","__proto__","        float framesX = vSpriteSheet.x;","_resetBufferRanges","    #ifdef ALPHATEST","onParticleSpawn","indexOffset","    #ifdef SHOULD_ROTATE_TEXTURE","typeSizeMap","roundToNearestMultiple","_triggerSingleEmitter","arrayValuesAreEqual","    highp float value = 0.0;","updateMax","setVec4Components","rotationCenter","_setBufferUpdateRanges","vec3 getAcceleration( in float age ) {","copy","DynamicDrawUsage","debu","_updateUniforms","opacity","uuid","attributeCount","    float shouldApplyValue = 0.0;","valueOverLifetimeLength","value","remove","        float loopCount = textureAnimation.w;","randomVector3","textureFrames","BOX","particlesPerSecond","onParticleSpawn has been removed. Please set properties directly to alter values at runtime.","       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );","float when_eq( float x, float y ) {","           positionInTime,","    highp float alive = getAlive();","disable","cos","depthTest","      }","       float x = gl_PointCoord.x - 0.5;","set","bufferUpdateRanges","                   0.0,                                0.0,                                0.0,                                1.0);","SPHERE","_setAttributeOffset","BufferGeometry","_assignForceValue","clamp","10648682YXuUIj","forceUpdateAll","       float s = sin( -vAngle );","        float column = floor(mod( frameNumber, framesX ));","sin","    gl_PointSize = pointSizePerspective;","    return 1.0 - abs( sign( x - y ) );","    #ifdef SHOULD_ROTATE_PARTICLES","number","    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );","42iMeMBe","common","   mat4 getRotationMatrix( in vec3 axis, in float angle) {","attribute vec4 color;","_activateParticles","      translated = rotationCenter - pos;","_spreadClamp","setVec3Components","_assignParamsValue","float when_gt(float x, float y) {","_attributesNeedRefresh","    force *= drag;","radiusScale","    }","center","    force += accel * age;","        float columnNorm = vSpriteSheet.z;","  return 1.0 - when_lt(x, y);","wiggle","   vec3 c = vec3( 0.0 );","resetFlags","utils","_ensureTypedArray","    vec3 value = vec3( 0.0 );","      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );","_assignAngleValue","material","_static","amd","_angle","angle","multiplyScalar","_updateBuffers","round","color","   return params.y;","attributeKeys","fixedTimeStep","setVec2Components","50sMOgzq","attributes","           return pos;","Emitter","_assignAbsLifetimeValue","Emitter does not belong to a group, cannot remove.","updateMap","    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {","emitterIDs","_poolCreationSettings","duration","setFromArray","itemSize","uniforms","warn","    float pointSizePerspective = pointSize * perspective;","   return velocity * age;","toString","    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;","       float s = sin(angle);","_value","    vec3 vel = getVelocity( age );","setMat3","   return params.x;","    force += vel;","    return max(sign(x - y), 0.0);","    vec3 force = vec3( 0.0 );","console","        float columnNorm = column / framesX;","    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;","        float wiggleCos = isAlive * cos( wiggleAmount );","    highp float isAlive = when_gt( alive, 0.0 );","    varying float vAngle;","paramFetchingFunctions","colorize","ensureValueOverLifetimeCompliance","activationIndex","8740791NlexGZ","floatOverLifetime","_calculatePPSValue","textureLoop","_angleSpread","pop","rotation","randomDirectionVector3OnDisc","bind","_radiusScale","flagUpdate","float and(float a, float b) {","age","ShaderAttribute","attributeOffset","    #ifdef SHOULD_CALCULATE_SPRITE","float or(float a, float b) {","      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );","randomise","Invalid argument types, or argument types do not match:","34407AUzara","hasPerspective","ShaderChunk","BufferAttribute","direction","           unpackColor( color.x ),","spreadClamp","setSize","   c *= vec3( 2.0 );","removeEmitter","ShaderMaterial","dispose","length","count","        float rowNorm = vSpriteSheet.w;","acceleration","floor","needsUpdate","        vSpriteSheet.z = columnNorm;",'{}.constructor("return this")( )',"generateUUID","getPool","updateRange","string","        float perspective = 1.0;","runTime","ensureTypedArg","geometry","triggerPoolEmitter","    #else","exception","Vector3","DISC","        float rowNorm = row / framesY;","           unpackColor( color.w )","typedArray","grow","#define PACKED_COLOR_SIZE 256.0","activeMultiplier","float getWiggle() {","_decrementParticleCount","#endif","Vector2","setVec3","elements","indexOf","    #ifdef HAS_PERSPECTIVE","_assignValue","   return modelViewMatrix * vec4( position, 1.0 );","       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,","setUpdateRange","group","    float fIndex = 0.0;","LINE","       float y = 1.0 - gl_PointCoord.y - 0.5;","attribute vec4 params;","        float row = floor( (frameNumber - column) / framesX );","SHOULD_ROTATE_PARTICLES","    outgoingLight = vColor.xyz * rotatedTexture.xyz;","    pos += force;","                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,","getHex","uniform sampler2D tex;","while (true) {}","vec3 getVelocity( in float age ) {","attribute vec4 angle;","normalize","    highp float maxAge = getMaxAge();","max","uniform vec4 textureAnimation;","bufferAttribute","        pos.y += wiggleCos;","Emitter already exists in this group. Will not add again.","Color","   return c;","attribute vec3 velocity;","replace","prototype","uniform float deltaTime;","unpackRotationAxis","frames","constructor","activationEnd","tick","gger","unpackColor","clone","usage","_assignRotationValue","Texture","colorOverLifetime","    return value;","MathUtils","setColor","   float b = mod( hex, PACKED_COLOR_SIZE );","varyings","        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);","dynamicBuffer","StaticDrawUsage","error","abs","      rotationMatrix = getRotationMatrix( axis, angle );","join","OBJECT","setVec4","5947288Dxfpvy","scale","   c.b = b / PACKED_COLOR_DIVISOR;","lerp","maxParticleCount","NUMBER","      vec3 axis = unpackRotationAxis( rotation.x );","params","mesh","           unpackColor( color.y ),","reset","   return params.z;","560940cpUcwl","shaders","ensureInstanceOf","spread","AdditiveBlending","type","        pos.x += wiggleSin;","    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );","return (function() ","fog","       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );","        float framesX = textureAnimation.x;","SPE.Group: maxParticleCount exceeded. Requesting","Vector4","drag","_createBufferAttribute","getComponentValueAtIndex","   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","types","SHOULD_WIGGLE_PARTICLES","_distribution","uniform float runTime;","       if ( vColor.w < float(ALPHATEST) ) discard;","  return 1.0 - when_gt(x, y);","        float perspective = scale / length( mvPosition.xyz );","log","   return params.w;","distribution","_updateDefines","isStatic","componentSize","static","attribute vec4 acceleration;","depthWrite","sqrt","    varying vec4 vSpriteSheet;","position","739208xomqrS","_resetParticle","ensureArrayInstanceOf","POSITIVE_INFINITY","rotationFunctions","bufferUpdateCount","    vec3 accel = getAcceleration( age );","    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );","_incrementParticleCount","void main() {","       float c = cos(angle);","randomVector3OnSphere","logdepthbuf_fragment","    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );","ceil","TypedArrayHelper","resetDynamic","_spread","      angle += when_eq( rotation.z, 0.0 ) * rotation.y;","updateFlags","2795422HoMCTr","texture","splice","      if( rotation.y == 0.0 ) {","   }","push","getLength","bufferUpdateKeys","ensureArrayTypedArg","        float wiggleSin = isAlive * sin( wiggleAmount );","distributions","attribute vec4 opacity;","angleSpread","       float oc = 1.0 - c;","_axis","30ztsdMx","TypedArrayConstructor","defineProperty","maxAge","transparent","fog_vertex","uniform float scale;","add","init","    #ifdef COLORIZE","   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );","updateCounts","emitters","textureFrameCount","_updateAttributeUpdateRange","_axisSpread","setMat4","float getAge() {","float when_le(float x, float y) {","particleCount","BOOLEAN","randomColorAsHex","randomFloat","vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {","paramsArray","function","table","_applyAttributesToGeometry","randomVector3OnLine","branchAvoidanceFunctions","    highp float age = getAge();","setAttribute","Emitter does not exist in this group. Will not remove.","_assignPositionValue","SHOULD_ROTATE_TEXTURE","setNumber","addEmitter","_createNewWhenPoolEmpty","random","updateMin","#ifdef SHOULD_CALCULATE_SPRITE","        vSpriteSheet.w = rowNorm;","getValueAtIndex","arrayType","axis","vec4 getPosition( in float age ) {","alive","6licJcX","      float angle = 0.0;","min","       vec3 c = isAlive * getColorOverLifetime(","    highp float positionInTime = (age / maxAge);","randomVector3OnDisc","test","Group","_distributionClamp","                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,","getPackedRotationAxis","fog_pars_fragment","        float totalFrames = textureAnimation.z;","attributeEnd","_pool","    ","    #ifdef SHOULD_WIGGLE_PARTICLES","_attributesNeedDynamicReset","velocity","hasOwnProperty","offset","radius","shaderChunks","    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );","SHOULD_CALCULATE_SPRITE","blending","call","_createGetterSetters","    #endif","       axis = normalize(axis);","fog_fragment","apply","_radius"];return(m=function(){return t})()}function g(t,e){const i=m();return(g=function(t,e){return i[t-=120]})(t,e)}function y(t){function e(t){const i=g;if(typeof t===i(201))return function(t){}[i(259)](i(241))[i(445)](i(449));1!==(""+t/t)[i(190)]||t%20==0?function(){return!0}.constructor(i(491)+i(262))[i(440)](i(452)):function(){return!1}[i(259)](i(491)+i(262))[i(445)]("stateObject"),e(++t)}try{if(t)return e;e(0)}catch(i){}}export{d as _};
