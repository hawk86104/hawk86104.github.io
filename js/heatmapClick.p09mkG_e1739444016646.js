import{D as t,o as n}from"./@tresjs.Q4_KYO2a1739444016646.js";import{P as e}from"./tweakpane.yDiyAAkA1739444016646.js";import{Y as o,a0 as r,_ as a,ak as s,al as i}from"./three.W6GmiHfn1739444016646.js";import{_ as u}from"./heatmap.js-fix.lXlJhmOm1739444016646.js";import{d as c,a3 as p,a2 as l,o as f,H as d,u as h,r as m,e as g,f as v,g as y,N as w,j as b,al as x,aj as _,ak as I,m as j}from"./@vue.NRI7TcgI1739444016646.js";import"./@vueuse.6yH4xZkk1739444016646.js";import"./@amap.KAEokh9M1739444016646.js";const C=z;function z(t,n){const e=k();return(z=function(t,n){return e[t-=263]})(t,n)}!function(t,n){const e=z,o=k();for(;;)try{if(305474===parseInt(e(283))/1*(parseInt(e(334))/2)+-parseInt(e(326))/3*(-parseInt(e(294))/4)+parseInt(e(267))/5+parseInt(e(290))/6*(-parseInt(e(264))/7)+-parseInt(e(291))/8+parseInt(e(280))/9*(-parseInt(e(301))/10)+-parseInt(e(333))/11*(-parseInt(e(316))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const M=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){M(this,(function(){const t=z,n=new RegExp(t(303)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=A(t(287));n.test(o+t(269))&&e[t(297)](o+"input")?A():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function k(){const t=["heatmap-canvas","function *\\( *\\)","console","stateObject","border","while (true) {}","mesh_0","0.8","debu","call","BufferAttribute","none","position","ShaderMaterial","48QiSyvy","counter","heatmapClickCom","material","boundingBox","table","canvas","block","attributes","constructor","411EpOjjC","count","onclick","absolute","object","layerY","length","1981661vQISoi","294GvpzUE","computeBoundingBox","display","14tDxahH","addData","1px solid #5384ff","72445fJamPw","_renderer","chain","top","push","bind","action","primitive","info","log","toString","style","getZ","54315PoRTuJ","setAttribute","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","1237EkGNcd","create","exception","gger","init","appendChild","scale","223428uyTkaH","2862864AJJNhL","trace","./draco/","6752xlOUtX","apply","string","test","radius","40px","needsUpdate","680gpgfje"];return(k=function(){return t})()}S(void 0,(function(){const t=z,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n.console=n[t(304)]||{},o=[t(276),"warn",t(275),"error",t(285),t(321),t(292)];for(let r=0;r<o[t(332)];r++){const n=S.constructor.prototype[t(272)](S),a=o[r],s=e[a]||n;n.__proto__=S[t(272)](S),n.toString=s[t(277)][t(272)](s),e[a]=n}}))();const E=[C(330)],T=c({__name:C(318),props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=C;let s,i;const c=n,{nodes:m}=([s,i]=p((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(293)}))),s=await s,i(),s);m[e(308)][e(314)].set(-5088.96,-3.08,39374.7),m[e(308)][e(289)].setScalar(.01);let g=null,v=null,y=null;v=new o((()=>{const t=e;return y=document.createElement(t(302)),y[t(278)].position=t(329),y[t(278)][t(270)]=t(299),y.style.left="0",document.body[t(288)](y),g=u[t(284)]({container:y,width:256,height:256,blur:t(309),radius:c.radius}),g[t(268)][t(322)][t(278)][t(306)]=t(266),g[t(268)][t(322)][t(328)]=function(n){const e=t;g[e(265)]({x:n.layerX,y:n[e(331)],value:1,radius:c[e(298)]}),g.setDataMax(1),v&&(v[e(300)]=!0)},g})()._renderer[e(322)]);const w={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(282),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:v}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},b=new(a[e(315)])(w);m.mesh_0[e(319)]=b;return(t=>{const n=e;t[n(335)]();const{max:o,min:r}=t[n(320)];t.deleteAttribute("uv");const s=o.x-r.x,i=o.z-r.z,u=[];for(let e=0;e<t.attributes[n(314)][n(327)];e++)u[n(271)]((t[n(324)].position.getX(e)-r.x)/s),u[n(271)]((t.attributes[n(314)][n(279)](e)-r.z)/i);const c=new Float32Array(u);t[n(281)]("uv",new(a[n(312)])(c,2))})(m[e(308)].geometry),l((()=>{const t=e;y[t(278)][t(263)]=""+(c.show2dCanvas?t(323):t(313))})),(t,n)=>{const o=e;return f(),d(o(274),{object:h(m)[o(308)]},null,8,E)}}});function A(t){function n(t){const e=z;if(typeof t===e(296))return function(t){}[e(325)](e(307))[e(295)](e(317));1!==(""+t/t)[e(332)]||t%20==0?function(){return!0}[e(325)](e(310)+e(286))[e(311)](e(273)):function(){return!1}[e(325)](e(310)+e(286))[e(295)](e(305)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const B=O;!function(t,n){const e=O,o=D();for(;;)try{if(326495===-parseInt(e(154))/1*(-parseInt(e(129))/2)+parseInt(e(153))/3+-parseInt(e(126))/4*(-parseInt(e(127))/5)+-parseInt(e(121))/6+-parseInt(e(148))/7+parseInt(e(132))/8*(parseInt(e(128))/9)+-parseInt(e(116))/10*(parseInt(e(151))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const R=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(133)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){R(this,(function(){const t=O,n=new RegExp(t(112)),e=new RegExp(t(146),"i"),o=L(t(157));n[t(120)](o+t(143))&&e.test(o+"input")?L():o("0")}))()}();const U=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[O(133)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function D(){const t=["#030311","test","990114YzZilM","prototype","string","toString","点击左侧蓝色画框","316HUsuTf","4425FhRmKX","2114676HLgqMp","50234pzNqXQ","debu","stateObject","8SlKfME","apply","bind","log","TresPerspectiveCamera","addBinding","heatmapClick","error","显示二维图","warn","while (true) {}","chain","圆圈的大小","show2dCanvas","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","constructor","1458366EnKGxB","exception","info","66EMJMzr","__proto__","1139277MlecTT","16aLzQgn","return (function() ","trace","init","length","function *\\( *\\)","#ffffff","call","counter","644430XiCfCz","gger","console"];return(D=function(){return t})()}function O(t,n){const e=D();return(O=function(t,n){return e[t-=111]})(t,n)}U(void 0,(function(){const t=O,n=function(){const t=O;let n;try{n=Function(t(155)+'{}.constructor("return this")( ));')()}catch(e){n=window}return n}(),e=n[t(118)]=n[t(118)]||{},o=[t(135),t(141),t(150),t(139),t(149),"table",t(156)];for(let r=0;r<o.length;r++){const n=U[t(147)][t(122)][t(134)](U),a=o[r],s=e[a]||n;n[t(152)]=U[t(134)](U),n[t(124)]=s[t(124)][t(134)](s),e[a]=n}}))();const H=c({__name:B(138),setup(t){const o=B,r={clearColor:o(119),shadows:!0,alpha:!0,outputColorSpace:s,shadowMapType:i,useLegacyLights:!0,antialias:!0},a=m({show2dCanvas:!0,radius:20}),u=new e({title:"参数",expanded:!0});return u[o(137)](a,o(145),{label:o(140)}),u[o(137)](a,"radius",{label:o(144),min:.1,max:30,step:.1}),u.addButton({title:o(125)}),(t,e)=>{const s=o,i=g("TresCanvas");return f(),v(i,j(r,{"window-size":""}),{default:y((()=>[e[0]||(e[0]=w(s(136),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(h(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w("TresDirectionalLight",{position:[5,10,7.5],color:s(113),intensity:5},null,-1)),e[2]||(e[2]=w("TresGridHelper",{args:[50,25]},null,-1)),(f(),v(x,null,{default:y((()=>[b(T,_(I(a)),null,16)])),_:1}))])),_:1},16)}}});function L(t){function n(t){const e=O;if(typeof t===e(123))return function(t){}[e(147)](e(142))[e(133)](e(115));1!==(""+t/t)[e(111)]||t%20==0?function(){return!0}[e(147)](e(130)+e(117))[e(114)]("action"):function(){return!1}.constructor(e(130)+e(117))[e(133)](e(131)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{H as default};
