import{_ as t,h as e}from"./three.bc6MLGU_1735031078130.js";import{m as n}from"./@tresjs.dTM0HLnZ1735031078130.js";import{d as o,P as a}from"./@pmndrs.jH1lDBFa1735031078130.js";import{d as r,b as s,w as i,a3 as c,o as l,D as u,J as p,aj as d,ak as f}from"./@vue.-THQH3GC1735031078130.js";const h=b;!function(t,e){const n=b,o=y();for(;;)try{if(187837===-parseInt(n(428))/1+parseInt(n(437))/2+parseInt(n(469))/3*(parseInt(n(462))/4)+-parseInt(n(411))/5*(parseInt(n(414))/6)+-parseInt(n(461))/7*(-parseInt(n(429))/8)+-parseInt(n(408))/9+parseInt(n(433))/10*(-parseInt(n(422))/11))break;o.push(o.shift())}catch(a){o.push(o.shift())}}();const m=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[b(431)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();!function(){m(this,(function(){const t=b,e=new RegExp("function *\\( *\\)"),n=new RegExp(t(421),"i"),o=I(t(425));e[t(432)](o+"chain")&&n.test(o+"input")?I():o("0")}))()}();const w=function(){let t=!0;return function(e,n){const o=t?function(){if(n){const t=n[b(431)](e,arguments);return n=null,t}}:function(){};return t=!1,o}}();function b(t,e){const n=y();return(b=function(t,e){return n[t-=392]})(t,e)}w(void 0,(function(){const t=b;let e;try{e=Function(t(475)+t(439)+");")()}catch(a){e=window}const n=e[t(473)]=e[t(473)]||{},o=[t(457),"warn","info",t(420),"exception",t(450),t(476)];for(let r=0;r<o[t(478)];r++){const e=w.constructor[t(427)][t(405)](w),a=o[r],s=n[a]||e;e[t(438)]=w[t(405)](w),e[t(453)]=s[t(453)][t(405)](s),n[a]=e}}))();const g=[h(410)],M=r({__name:h(464),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:"#000000"},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(r){const m=h,w=r;let b=s();const{extend:M,scene:y,renderer:I,camera:x}=n();M({SoftShadowMaterial:o});const z={position:(new(t[m(451)])).set(w.lightPosition.x,w[m(477)].y,w[m(477)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},S=new a(I.value,y[m(455)],z[m(402)]),v={map:S.progressiveLightMap2[m(406)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w.blend,alphaTest:w[m(479)],opacity:w.opacity,color:w.color},T=new(t[m(441)]);for(let e=0;e<z[m(474)];e++){const e=new(t[m(412)])(16777215,z[m(460)]/z[m(474)]);e[m(430)]=!0,e.shadow[m(415)]=z[m(415)],e[m(409)][m(442)][m(400)]=z[m(400)],e[m(409)].camera[m(445)]=z[m(445)],e.shadow[m(442)][m(413)]=z[m(426)]/2,e[m(409)][m(442)][m(448)]=-z[m(426)]/2,e.shadow[m(442)][m(456)]=z.size/2,e[m(409)][m(442)][m(419)]=-z[m(426)]/2,e.shadow.mapSize[m(459)]=z[m(402)],e[m(409)].mapSize[m(399)]=z[m(402)],T.add(e)}const _=()=>{const n=m,o=z[n(417)][n(478)]();for(let a=0;a<T[n(465)][n(478)];a++){const r=T[n(465)][a];if(Math[n(466)]()>w[n(418)])r[n(417)][n(454)](z[n(417)].x+t[n(407)][n(463)](z.radius),z[n(417)].y+t[n(407)][n(463)](z[n(458)]),z[n(417)].z+e.randFloatSpread(z[n(458)]));else{let t=Math[n(403)](2*Math[n(466)]()-1)-Math.PI/2,e=2*Math.PI*Math[n(466)]();r.position[n(454)](Math.cos(t)*Math[n(404)](e)*o,Math[n(396)](Math[n(404)](t)*Math[n(416)](e)*o),Math[n(416)](t)*o)}}},P=(t=1)=>{const e=m;y[e(455)].add(T),S[e(392)]();for(let n=0;n<t;n++)_(),S[e(446)](x[e(455)],w[e(444)]),console[e(457)](e(471),n);y[e(455)][e(449)](T),S[e(394)]()};i((()=>b[m(455)]),(t=>{const e=m;t&&(S[e(467)](t),S[e(395)](),console[e(457)](e(434)),P(w[e(472)]),console[e(457)]("shadows render end"))}));const j=()=>{const t=m;S[t(395)](),P(w[t(472)])};return c((()=>{const t=m;b[t(455)]&&(w[t(424)]&&(b[t(455)][t(470)][t(424)]=w[t(424)]),w[t(479)]&&(b[t(455)][t(470)].alphaTest=w.alphaTest),w.color&&b[t(455)].material[t(435)].set(w.color),w[t(423)]&&(b.value.material[t(423)]=w[t(423)]))})),i((()=>w[m(477)]),(t=>{const e=m;t&&(console.log(w[e(477)]),z[e(417)][e(454)](t.x,t.y,t.z),j())}),{deep:!0}),i((()=>[w.frames,w.blendWindow,w[m(418)]]),(()=>{j()})),(t,e)=>{const n=m;return l(),u(n(397),{"receive-shadow":"",ref_key:n(398),ref:b,scale:10,"rotate-x":-Math.PI/2},[e[0]||(e[0]=p(n(393),{args:[1,1]},null,-1)),p(n(440),d(f(v)),null,16)],8,g)}}});function y(){const t=["bind","texture","MathUtils","1149669HxxoTB","shadow","rotate-x","5iBjpDC","DirectionalLight","right","778254exppqI","bias","sin","position","ambient","bottom","error","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8008XrFspD","blend","opacity","init","size","prototype","293133vLQXVb","560NBLCgR","castShadow","apply","test","830sTGqZk","shadows render start","color","stateObject","547222nFcNec","__proto__",'{}.constructor("return this")( )',"TresSoftShadowMaterial","Group","camera","constructor","blendWindow","far","update","call","left","remove","table","Vector3","gger","toString","set","value","top","log","radius","width","intensity","30359fvImOh","98508TMevcj","randFloatSpread","accumulativeShadowsCom","children","random","configure","string","27bHNDrF","material","shadows plm update","frames","console","amount","return (function() ","trace","lightPosition","length","alphaTest","prepare","TresPlaneGeometry","finish","clear","abs","TresMesh","gPlane","height","near","while (true) {}","mapSize","acos","cos"];return(y=function(){return t})()}function I(t){function e(t){const n=b;if(typeof t===n(468))return function(t){}[n(443)](n(401))[n(431)]("counter");1!==(""+t/t)[n(478)]||t%20==0?function(){return!0}[n(443)]("debu"+n(452))[n(447)]("action"):function(){return!1}[n(443)]("debu"+n(452)).apply(n(436)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{M as _};
