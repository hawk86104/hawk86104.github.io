import{i as t}from"./ice-utils.Dng-l4ny1730883607874.js";import{_ as n}from"./gl-matrix.BeIUbEcO1730883607874.js";import{P as e}from"./tweakpane.BCjFYDHx1730883607874.js";import{d as o,r,q as i,o as a,D as c,J as s,u}from"./@vue.Cfu43fwq1730883607874.js";const f="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",l="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}",m=_;function _(t,n){const e=E();return(_=function(t,n){return e[t-=462]})(t,n)}function E(){const t=["canvaswebgl","createBuffer","4slwXKU","gger","console","webgl","trace","change","input","TEXTURE_MAG_FILTER","uniform1f","framebufferTexture2D","UNSIGNED_BYTE","3135666EyRBZO","uModel","exception","是否后处理","TEXTURE_WRAP_T","canvas","webglPostProcessing","value","createTexture","hidden","logo-texture","RGBA","ONE_MINUS_SRC_ALPHA","getElementById","uProjection","TEXTURE_MIN_FILTER","ARRAY_BUFFER","bindTexture","drawElements","mixParam","test","ortho","return (function() ","width","80RiNRzw","img","4248009mfeDjg","289499WzAuoL","uView","#canvaswebgl","getUniformLocation","src","createFramebuffer","326382ZfzxOJ","while (true) {}","getContext","call","counter","innerHeight","blendFunc","prototype","lookAt","texImage2D","STATIC_DRAW","offset_right_top","TEXTURE_WRAP_S","texParameteri","info","BYTES_PER_ELEMENT","chain","create","clearColor","bindFramebuffer","clear","offset_left_bottom","enableVertexAttribArray","mat4","addBlade","offset_right_bottom","constructor","function *\\( *\\)","string","196015diNJIx","CLAMP_TO_EDGE","uniformMatrix4fv","__proto__","offset_left_top","bufferData","error","78562GaUImG","TEXTURE_2D","780Dkccgj","length","apply","FRAMEBUFFER","debu","bindBuffer","COLOR_ATTACHMENT0","none","bind","ELEMENT_ARRAY_BUFFER","inline","FLOAT","useProgram","slider","SRC_ALPHA","height","innerWidth","vertexAttribPointer","color","translate","action","addBinding","562442ybrdBe","toString","COLOR_BUFFER_BIT","init","3sgCwMm","TRIANGLES","NEAREST","BLEND"];return(E=function(){return t})()}!function(t,n){const e=_,o=E();for(;;)try{if(278480===parseInt(e(562))/1+parseInt(e(508))/2*(-parseInt(e(512))/3)+-parseInt(e(518))/4*(-parseInt(e(477))/5)+parseInt(e(529))/6+-parseInt(e(556))/7*(parseInt(e(553))/8)+-parseInt(e(555))/9+parseInt(e(486))/10*(parseInt(e(484))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const x=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[_(488)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){x(this,(function(){const t=_,n=new RegExp(t(475)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=T(t(511));n[t(549)](o+t(464))&&e[t(549)](o+t(524))?T():o("0")}))()}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[_(488)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();d(void 0,(function(){const t=_;let n;try{n=Function(t(551)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(520)]=n[t(520)]||{},o=["log","warn",t(462),t(483),t(531),"table",t(522)];for(let i=0;i<o[t(487)];i++){const n=d[t(474)][t(569)][t(494)](d),r=o[i],a=e[r]||n;n[t(480)]=d[t(494)](d),n[t(509)]=a[t(509)][t(494)](a),e[r]=n}}))();const g={id:m(516)},p=[m(560)],R=o({__name:m(535),setup(o){const _=m;let E,x,d,R,T,A,b,F,y,v,h,w,P;const U=1,C=.71,I=.76,B=new e({title:"参数"}),D=r({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});B[_(472)]({view:_(499),label:"颜色",min:0,max:1,value:.5}).on(_(523),(t=>{const n=_;j(),x[n(526)](w,t[n(536)])}));let M=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);B[_(507)](D,_(538),{label:_(532)}),B[_(507)](D,"offset_right_top",{picker:_(496),x:{min:0,max:1},y:{min:0,max:1}}).on("change",(t=>{const n=_;M[0]=D[n(573)].x,M[1]=D[n(573)].y,j()})),B[_(507)](D,"offset_right_bottom",{picker:_(496),x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(523),(t=>{const n=_;M[5]=D.offset_right_bottom.x,M[6]=D[n(473)].y,j()})),B[_(507)](D,"offset_left_bottom",{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(523),(t=>{const n=_;M[10]=D[n(469)].x,M[11]=D[n(469)].y,j()})),B.addBinding(D,"offset_left_top",{picker:_(496),x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(523),(t=>{const n=_;M[15]=D[n(481)].x,M[16]=D.offset_left_top.y,j()})),i((()=>{L()}));const L=function(){const n=_;E=document.querySelector(n(558)),E.width=window[n(502)],E[n(501)]=window[n(567)],x=E[n(564)](n(521)),x&&(function(){const n=_,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=X(e,o),d=t(x,f,l),y=x[n(559)](d,n(543)),v=x[n(559)](d,n(557)),h=x[n(559)](d,n(530)),P=O(document[n(542)](n(539)))}(),j(),x.enable(x[n(515)]),x[n(568)](x[n(500)],x[n(541)]),S())};function S(){const t=_;x[t(467)](x[t(489)],b),x[t(466)](U,C,I,1),x.clear(x[t(510)]),function(){const t=_;x.useProgram(d),x[t(491)](x[t(545)],R);const e=n[t(471)][t(465)]();n[t(471)][t(550)](e,0,E[t(552)],E[t(501)],0,.1,100),x[t(479)](y,!1,e);const o=n[t(471)][t(465)]();n[t(471)][t(570)](o,[0,0,1],[0,0,0],[0,1,0]),x.uniformMatrix4fv(v,!1,o),N(P,600,600),N(P,400,400)}(),x[t(467)](x[t(489)],null),D[t(538)]&&(x[t(468)](x[t(510)]),x[t(466)](0,0,1,1),x.bindBuffer(x.ARRAY_BUFFER,T),x[t(498)](A),x[t(546)](x[t(485)],F)),x[t(547)](x[t(513)],6,x[t(528)],0),requestAnimationFrame(S)}function N(t,e,o){const r=_;let i=n[r(471)][r(465)]();n[r(471)][r(505)](i,i,[e,o,0]),n[r(471)].scale(i,i,[250,250,0]),x[r(479)](h,!1,i),x.bindTexture(x.TEXTURE_2D,t),x[r(547)](x.TRIANGLES,6,x[r(528)],0)}function j(){const n=_,e=new Uint8Array([0,1,2,0,2,3]);T=X(M,e),A=t(x,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),w=x.getUniformLocation(A,n(548)),x[n(559)](A,n(504)),function(){const t=_;F=O(E),b=x[t(561)](),x[t(467)](x.FRAMEBUFFER,b),x[t(527)](x.FRAMEBUFFER,x[t(492)],x[t(485)],F,0),x[t(467)](x.FRAMEBUFFER,null)}()}function O(t){const n=_,e=x[n(537)]();return x.bindTexture(x.TEXTURE_2D,e),t instanceof HTMLImageElement?x[n(571)](x[n(485)],0,x[n(540)],x[n(540)],x[n(528)],t):x[n(571)](x[n(485)],0,x[n(540)],t[n(552)],t[n(501)],0,x[n(540)],x[n(528)],null),x[n(575)](x.TEXTURE_2D,x[n(544)],x.NEAREST),x[n(575)](x[n(485)],x[n(525)],x[n(514)]),x[n(575)](x.TEXTURE_2D,x[n(574)],x[n(478)]),x[n(575)](x[n(485)],x[n(533)],x[n(478)]),e}function X(t,n){const e=_,o=x[e(517)]();x[e(491)](x[e(545)],o),x[e(482)](x.ARRAY_BUFFER,t,x.STATIC_DRAW);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array[e(463)];x[e(503)](0,3,x[e(497)],!1,r,0),x[e(470)](0),x[e(503)](1,2,x[e(497)],!1,r,3*Float32Array[e(463)]),x.enableVertexAttribArray(1);const i=x[e(517)]();return x[e(491)](x[e(495)],i),x[e(482)](x.ELEMENT_ARRAY_BUFFER,n,x[e(572)]),x[e(491)](x[e(545)],null),o}return(t,n)=>{const e=_;return a(),c(e(534),g,[s(e(554),{id:e(539),src:u("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(493)}},null,8,p)])}}});function T(t){function n(t){const e=_;if(typeof t===e(476))return function(t){}[e(474)](e(563))[e(488)](e(566));1!==(""+t/t).length||t%20==0?function(){return!0}.constructor(e(490)+e(519))[e(565)](e(506)):function(){return!1}[e(474)](e(490)+"gger")[e(488)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
