import{e as t,k as o,a as e,d as a}from"./@tresjs.CIKSfeCC1746335712058.js";import{aq as s,as as n}from"./three.Bj3hPI0l1746335712058.js";import{_ as i}from"./default.vue_vue_type_script_setup_true_lang.BZv9KpKu1746335712058.js";import{d as l,a5 as r,w as p,H as u,o as c,u as d,v as h,F as m,J as g,j,X as M,h as f,f as w,e as y,am as v,m as _}from"./@vue.DK6ok9LJ1746335712058.js";import"./postprocessing.Dxg1zmor1746335712058.js";import"./@vueuse.BtSShokC1746335712058.js";import"./@fesjs.B__Hyo051746335712058.js";import"./vue-router.CeDYLsLY1746335712058.js";import"./lodash-es.BOsRjQhS1746335712058.js";import"./@qlin.q6OWdsQV1746335712058.js";import"./pinia.C9yokyLV1746335712058.js";import"./@babel.BPq7uOAK1746335712058.js";import"./@floating-ui.BFjFSAYt1746335712058.js";import"./@juggle.CcBCnTIR1746335712058.js";const b=["object"],S=l({__name:"airplane",props:{planet:{}},async setup(e){let a,s;const n=e,{scene:i}=([a,s]=r((()=>o("./plugins/earthSample/model/lowpolyPlanet/airplane.gltf"))),a=await a,s(),a),l=i;l.rotation.set(0,Math.PI,0),i.traverse((t=>{t.isMesh&&(t.castShadow=!0)})),l.updateMatrixWorld();const{onLoop:h}=t();p((()=>n.planet),(t=>{if(!t)return;t.geometry.computeBoundingSphere();const o=Math.abs(1|t.geometry.boundingSphere?.radius);l.position.set(o,0,0),l.lookAt(t.position)}));let m=0;return h((({delta:t})=>{if(!l||!n.planet)return;const o=Math.abs(n.planet.geometry.boundingSphere.radius)+.5;m+=.2*t;const e=o*Math.cos(m),a=o*Math.sin(m);l.position.x=e,l.position.z=a,l.rotation.z=-Math.PI/2,l.rotation.y=-m,l.updateMatrixWorld()})),(t,o)=>(c(),u("primitive",{object:d(l)},null,8,b))}}),x=["object"],P=l({__name:"cloud",props:{planet:{}},async setup(e){let a,s;const n=e,{scene:i}=([a,s]=r((()=>o("./plugins/earthSample/model/lowpolyPlanet/cloud.gltf"))),a=await a,s(),a);h();const l=i.children[0];function m(t,o){const e=Math.random()*(o-t)+t;return Math.random()<.5?-e:e}l.castShadow=!0,l.position.set(m(-8,8),m(.5,1),m(-8,8));const g=m(.5,1);l.scale.set(g,g,g),l.updateMatrixWorld(),p((()=>n.planet),(t=>{t&&(l.lookAt(t.position),l.updateMatrixWorld())}));const{onLoop:j}=t();let M=m(-1,1)*Math.PI;const f=Math.random()/10;return j((({delta:t})=>{if(!l)return;const o=Math.abs(n.planet.geometry.boundingSphere.radius-.5);M+=t*f;const e=o*Math.cos(M),a=o*Math.sin(M);l.position.x=e,l.position.z=a,l.rotation.y=-M,l.lookAt(n.planet.position),l.updateMatrixWorld()})),(t,o)=>(c(),u("primitive",{object:d(i),"cast-shadow":""},null,8,x))}}),z=["object"],L=l({__name:"planet",async setup(e){let a,s;const{nodes:n}=([a,s]=r((()=>o("./plugins/earthSample/model/lowpolyPlanet/planet.gltf"))),a=await a,s(),a),i=n.Planet,l=n.Icosphere;i.traverse((t=>{t.isMesh&&(t.receiveShadow=!0)}));const{onLoop:p}=t();return p((({delta:t})=>{i&&(i.rotation.y+=.04*t,i.rotation.z+=.02*t,i.rotation.x+=.05*t,i.updateMatrixWorld())})),(t,o)=>(c(),u(m,null,[g("primitive",{object:d(i)},null,8,z),j(S,{planet:d(l)},null,8,["planet"]),(c(),u(m,null,M([1,2,3,4,5,6,7,8,9],(t=>j(P,{key:t,planet:d(l)},null,8,["planet"]))),64))],64))}}),k=l({__name:"lowpolyPlanet",setup(o){const l={clearColor:"#11101B",shadows:!0,alpha:!1,outputColorSpace:n,shadowMapType:s,useLegacyLights:!0},r=h(0);return t().onLoop((({delta:t})=>{r.value+=.02*t})),(t,o)=>{const s=f("TresCanvas");return c(),u(m,null,[j(i),j(s,_(l,{"window-size":""}),{default:w((()=>[o[0]||(o[0]=g("TresPerspectiveCamera",{position:[0,1,5],fov:75,near:.1,far:1e3},null,-1)),j(d(e)),o[1]||(o[1]=g("TresAmbientLight",{color:"#484068",intensity:1},null,-1)),(c(),y(v,null,{default:w((()=>[j(L)])),_:1})),j(d(a),{rotation:[0,r.value,0],radius:50,depth:50,count:5e3,size:.3,"size-attenuation":!0},null,8,["rotation"]),o[2]||(o[2]=g("TresPointLight",{color:"#1BFFEF",position:[0,0,-8],intensity:80,"cast-shadow":""},null,-1)),o[3]||(o[3]=g("TresDirectionalLight",{position:[0,2,4],intensity:3,"cast-shadow":"","shadow-mapSize-width":2048,"shadow-mapSize-height":2048},null,-1))])),_:1},16)],64)}}});export{k as default};
