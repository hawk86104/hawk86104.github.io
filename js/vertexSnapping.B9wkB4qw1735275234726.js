import{_ as t,ai as n}from"./three.jpi2UCEx1735275234726.js";import{a as o,U as i,c as e}from"./@tresjs.fCqPNEAw1735275234726.js";import{a as r,b as s}from"./index.Ny6GIji_1735275234726.js";import{P as u}from"./tweakpane.yHWGBmom1735275234726.js";import{d as c,a0 as a,w as p,o as l,D as f,a6 as m,u as d,r as h,f as g,g as v,J as I,j as S,al as b,m as x}from"./@vue.u2cBPEWn1735275234726.js";import"./@vueuse.8jEBPPFT1735275234726.js";import"./three-stdlib.FRPXc4iL1735275234726.js";import"./@pmndrs.fIuOSuk41735275234726.js";import"./object-hash.czWCx2-t1735275234726.js";import"./@amap.Ndko9EDY1735275234726.js";import"./jszip._AevLh8r1735275234726.js";const y=j;!function(t,n){const o=j,i=P();for(;;)try{if(393750===parseInt(o(221))/1+-parseInt(o(204))/2+-parseInt(o(224))/3+parseInt(o(196))/4+-parseInt(o(217))/5*(parseInt(o(213))/6)+parseInt(o(208))/7+parseInt(o(230))/8*(-parseInt(o(218))/9))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const _=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){_(this,(function(){const t=j,n=new RegExp("function *\\( *\\)"),o=new RegExp(t(212),"i"),i=C(t(228));n.test(i+t(198))&&o[t(203)](i+"input")?C():i("0")}))()}();const w=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[j(236)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function P(){const t=["1235548euQhOx","__proto__","console","return (function() ","4979408RotGSs","debu","constructor",'{}.constructor("return this")( )',"\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2239866qMzrKU","counter","onBeforeCompile","value","5mXTisc","1854711mGkPXY","replace","table","725000qNJXmC","while (true) {}","\n\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\n\t\t\t#ifdef USE_BATCHING\n\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\t#ifdef USE_INSTANCING\n\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t#endif\n\n\t\t\tmvPosition = modelMatrix * mvPosition;\n\n\t\t\tmvPosition = vec4(\n\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t1.0);\n\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t","293220jJCLAO","action","primitive","toString","init","bind","16VFpMjB","uniforms","vertexShader","error","MeshStandardMaterial","uSnappingResolution","apply","log","object","com","1833556BuKGZo","srcMaterial","chain","\n\t\t\t#include <common>\n\t\t\tuniform float uSnappingResolution;\n\t","length","gger","prototype","test"];return(P=function(){return t})()}w(void 0,(function(){const t=j,n=function(){const t=j;let n;try{n=Function(t(207)+t(211)+");")()}catch(o){n=window}return n}(),o=n[t(206)]=n[t(206)]||{},i=[t(237),"warn","info",t(233),"exception",t(220),"trace"];for(let e=0;e<i[t(200)];e++){const n=w.constructor[t(202)][t(229)](w),r=i[e],s=o[r]||n;n[t(205)]=w.bind(w),n[t(227)]=s.toString[t(229)](s),o[r]=n}}))();const R=[y(194)];function j(t,n){const o=P();return(j=function(t,n){return o[t-=194]})(t,n)}const M=c({__name:y(195),props:{uSnappingResolution:{default:6},srcMaterial:{default:()=>new(t[y(234)])({color:65280,roughness:.5,metalness:.5})}},setup(t){const n=y,o=t,i=a(o[n(235)]);return o[n(197)][n(215)]=t=>{const o=n;t[o(231)][o(235)]=i,t[o(232)]=t.vertexShader.replace("#include <common>",o(199)),t[o(232)]=t[o(232)][o(219)]("#include <project_vertex>",o(223))},p((()=>o[n(235)]),(t=>{i[n(216)]=t})),(t,o)=>{const i=n;return l(),f(i(226),{object:t.srcMaterial},null,8,R)}}});function C(t){function n(t){const o=j;if("string"==typeof t)return function(t){}[o(210)](o(222))[o(236)](o(214));1!==(""+t/t)[o(200)]||t%20==0?function(){return!0}.constructor(o(209)+o(201)).call(o(225)):function(){return!1}[o(210)](o(209)+o(201))[o(236)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}!function(t,n){const o=z,i=T();for(;;)try{if(858311===parseInt(o(347))/1*(parseInt(o(338))/2)+-parseInt(o(343))/3+parseInt(o(345))/4+parseInt(o(356))/5+parseInt(o(346))/6*(parseInt(o(348))/7)+-parseInt(o(336))/8*(parseInt(o(354))/9)+-parseInt(o(349))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const A=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(358)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function z(t,n){const o=T();return(z=function(t,n){return o[t-=327]})(t,n)}!function(){A(this,(function(){const t=z,n=new RegExp(t(334)),o=new RegExp(t(353),"i"),i=E(t(339));n[t(342)](i+"chain")&&o.test(i+t(350))?E():i("0")}))()}();const G=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[z(358)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function T(){const t=["\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","27OMEvhe","uSnappingResolution","7924805waSxra","vertexShader","apply","call","return (function() ","gger","onBeforeCompile","length","log","bind","#include <project_vertex>","prototype","console","debu","info","action","replace","constructor","#include <common>",'{}.constructor("return this")( )',"uniforms","function *\\( *\\)","string","61384mCcRJb","error","2572wTYnGX","init","__proto__","toString","test","2427939Fwqfvi","table","5702896ofBRWC","336iPkBKx","1227NYrJGj","41699mHNxCC","32315560GHvvVA","input","counter","trace"];return(T=function(){return t})()}function E(t){function n(t){const o=z;if(typeof t===o(335))return function(t){}.constructor("while (true) {}").apply(o(351));1!==(""+t/t)[o(363)]||t%20==0?function(){return!0}.constructor(o(369)+o(361))[o(359)](o(328)):function(){return!1}[o(330)](o(369)+o(361))[o(358)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}G(void 0,(function(){const t=z;let n;try{n=Function(t(360)+t(332)+");")()}catch(e){n=window}const o=n[t(368)]=n.console||{},i=[t(364),"warn",t(327),t(337),"exception",t(344),t(352)];for(let r=0;r<i.length;r++){const n=G[t(330)][t(367)][t(365)](G),e=i[r],s=o[e]||n;n[t(340)]=G[t(365)](G),n[t(341)]=s.toString[t(365)](s),o[e]=n}}))();const B=k;!function(t,n){const o=k,i=N();for(;;)try{if(537936===-parseInt(o(339))/1+parseInt(o(322))/2+parseInt(o(331))/3*(-parseInt(o(350))/4)+-parseInt(o(342))/5*(-parseInt(o(317))/6)+parseInt(o(340))/7+-parseInt(o(352))/8*(-parseInt(o(343))/9)+parseInt(o(315))/10)break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const J=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[k(324)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();function N(){const t=["toString","init","3073248XdqDuU","string","8GJWhfN","test","log","model","value","console","132160pOQGMH","push","6078252PfAzpo","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/industry4/MRBike.glb",'{}.constructor("return this")( )',"action","primitive","1122726cJnmKc","table","apply","./draco/","stateObject","debu","exception","uSnappingResolution","trace","3ADHUtf","constructor","error","info","length","forEach","call","chain","942720sWIXLB","135240gcHMAa","function *\\( *\\)","5JeDbYe","5778243VYESlj","prototype","counter","__proto__","gger"];return(N=function(){return t})()}function k(t,n){const o=N();return(k=function(t,n){return o[t-=315]})(t,n)}!function(){J(this,(function(){const t=k,n=new RegExp(t(341)),o=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),i=U(t(349));n[t(353)](i+t(338))&&o[t(353)](i+"input")?U():i("0")}))()}();const Z=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[k(324)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();Z(void 0,(function(){const t=k,n=function(){const t=k;let n;try{n=Function("return (function() "+t(319)+");")()}catch(o){n=window}return n}(),o=n[t(357)]=n[t(357)]||{},i=[t(354),"warn",t(334),t(333),t(328),t(323),t(330)];for(let e=0;e<i[t(335)];e++){const n=Z[t(332)][t(344)].bind(Z),r=i[e],s=o[r]||n;n[t(346)]=Z.bind(Z),n.toString=s[t(348)].bind(s),o[r]=n}}))();const H=["object"],O=c({__name:B(355),props:{uSnappingResolution:{default:6}},async setup(t){const n=B;let i,e;const r=t,{scene:s,materials:u}=([i,e]=m((()=>o(n(318),{draco:!0,decoderPath:n(325)}))),i=await i,e(),i),c=[];return Object.values(u)[n(336)]((t=>{const o=n;c[o(316)](function(t,n=6){const o=z,i={value:n};return t[o(362)]=t=>{const n=o;t[n(333)][n(355)]=i,t[n(357)]=t.vertexShader.replace(n(331),"\n\t\t\t\t#include <common>\n\t\t\t\tuniform float uSnappingResolution;\n\t\t"),t[n(357)]=t[n(357)][n(329)](n(366),"\n\t\t\t\tvec4 mvPosition = vec4( transformed, 1.0 );\n\t\n\t\t\t\t#ifdef USE_BATCHING\n\t\t\t\t\tmvPosition = batchingMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\t#ifdef USE_INSTANCING\n\t\t\t\t\tmvPosition = instanceMatrix * mvPosition;\n\t\t\t\t#endif\n\t\n\t\t\t\tmvPosition = modelMatrix * mvPosition;\n\t\n\t\t\t\tmvPosition = vec4(\n\t\t\t\t\tround(mvPosition.x * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.y * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\tround(mvPosition.z * uSnappingResolution) / uSnappingResolution,\n\t\t\t\t\t1.0);\n\t\t\t\tmvPosition = viewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\t\t")},i}(t,r[o(329)]))})),p((()=>r[n(329)]),(t=>{const o=n;c[o(336)]((n=>{n[o(356)]=t}))})),(t,o)=>{const i=n;return l(),f(i(321),{object:d(s),scale:5,position:[0,-2,0]},null,8,H)}}});function U(t){function n(t){const o=k;if(typeof t===o(351))return function(t){}.constructor("while (true) {}")[o(324)](o(345));1!==(""+t/t)[o(335)]||t%20==0?function(){return!0}.constructor("debu"+o(347))[o(337)](o(320)):function(){return!1}[o(332)](o(327)+o(347))[o(324)](o(326)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function $(){const t=["table","TresPerspectiveCamera","TresMesh","call","cube","1008352CkPHAx","test","vertexSnapping","console","TresTorusKnotGeometry","modelSnappingResolution","188792wuBYGd","4610187fOxJfH","511yLtdTZ","uSnappingResolution","prototype","warn","gger","trace","TresDirectionalLight","rotation-y","1083834lfjbZY","circle","init","11jnfCcC","log","error","function *\\( *\\)","2941190JvaCJk","apply","debu","info",'{}.constructor("return this")( )',"TresMeshStandardMaterial","TresAmbientLight","1taehCx","4MWrUGr","bind","addBinding","toString","4470JawzHS","exception","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","rotation-x","torus","return (function() ","counter","constructor","圆环扭结-分辨率","1482650rKohmc"];return($=function(){return t})()}const Y=X;!function(t,n){const o=X,i=$();for(;;)try{if(299288===parseInt(o(216))/1*(parseInt(o(186))/2)+-parseInt(o(202))/3+parseInt(o(217))/4*(parseInt(o(180))/5)+parseInt(o(170))/6*(parseInt(o(194))/7)+parseInt(o(192))/8+-parseInt(o(193))/9+parseInt(o(209))/10*(parseInt(o(205))/11))break;i.push(i.shift())}catch(e){i.push(i.shift())}}();const q=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o[X(210)](n,arguments);return o=null,t}}:function(){};return t=!1,i}}();!function(){q(this,(function(){const t=X,n=new RegExp(t(208)),o=new RegExp(t(172),"i"),i=L(t(204));n[t(187)](i+"chain")&&o.test(i+"input")?L():i("0")}))()}();const F=function(){let t=!0;return function(n,o){const i=t?function(){if(o){const t=o.apply(n,arguments);return o=null,t}}:function(){};return t=!1,i}}();F(void 0,(function(){const t=X;let n;try{n=Function(t(176)+t(213)+");")()}catch(e){n=window}const o=n[t(189)]=n[t(189)]||{},i=[t(206),t(197),t(212),t(207),t(171),t(181),t(199)];for(let r=0;r<i[t(173)];r++){const n=F[t(178)][t(196)][t(218)](F),e=i[r],s=o[e]||n;n.__proto__=F[t(218)](F),n[t(169)]=s[t(169)][t(218)](s),o[e]=n}}))();const K={position:[5,.9,-5],name:Y(175)};function X(t,n){const o=$();return(X=function(t,n){return o[t-=169]})(t,n)}const D=c({__name:Y(188),setup(t){const o=Y,c=h({alpha:!0,toneMapping:n,windowSize:!0,clearColor:0}),a=h({uSnappingResolution:3,modelSnappingResolution:6}),p=new u;return p[o(219)](a,o(195),{label:o(179),min:0,max:20,step:.01}),p[o(219)](a,"modelSnappingResolution",{label:"自行车模型-分辨率",min:0,max:20,step:.01}),(t,n)=>{const u=o;return l(),g(d(e),x(c,{"window-size":""}),{default:v((()=>[n[1]||(n[1]=I(u(182),{position:[8,6,8],fov:45,near:1,far:1e3},null,-1)),S(d(i)),n[2]||(n[2]=I(u(215),{intensity:.5},null,-1)),n[3]||(n[3]=I(u(200),{position:[7,10,-5.5],intensity:5},null,-1)),n[4]||(n[4]=I(u(183),{position:[-5,.5,5],"receive-shadow":"","cast-shadow":"",name:u(185)},[I("TresCylinderGeometry",{args:[1.5,1.5,2]}),I(u(214),{color:16737826,roughness:0,metalness:0})],-1)),I("TresMesh",K,[n[0]||(n[0]=I(u(190),{args:[1,.35,100,32]},null,-1)),S(M,{uSnappingResolution:a[u(195)]},null,8,[u(195)])]),(l(),g(b,null,{default:v((()=>[S(O,{uSnappingResolution:a[u(191)]},null,8,[u(195)])])),_:1})),(l(),g(b,null,{default:v((()=>[S(d(r),{resolution:256,blur:1,background:""},{default:v((()=>[S(d(s),{intensity:2,form:u(203),"rotation-x":Math.PI/2,position:[2,4,0],scale:[1,5,0]},null,8,[u(174)]),S(d(s),{intensity:2,form:u(203),"rotation-x":Math.PI/2,position:[-6,4,0],scale:[1,5,0]},null,8,[u(174)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[-1,0,0],scale:[10,.2,1]},null,8,[u(201)]),S(d(s),{intensity:1,"rotation-y":-Math.PI/2,position:[1,0,0],scale:[10,.2,1]},null,8,[u(201)])])),_:1})])),_:1}))])),_:1},16)}}});function L(t){function n(t){const o=X;if("string"==typeof t)return function(t){}[o(178)]("while (true) {}")[o(210)](o(177));1!==(""+t/t)[o(173)]||t%20==0?function(){return!0}.constructor(o(211)+o(198))[o(184)]("action"):function(){return!1}[o(178)]("debu"+o(198))[o(210)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{D as default};
