import{i as e}from"./3d-tiles-renderer.CbgZh8zU1767066396612.js";import{F as a,_ as s,T as n,K as t}from"./@tresjs.B1f7s3pS1767066396612.js";import{a2 as r,E as o,f as i,U as d,a3 as l,a4 as c,a5 as u,a6 as w}from"./three.BD1hRFgo1767066396612.js";const{defineComponent:m}=await e("vue"),{unref:p,openBlock:v,createBlock:f}=await e("vue"),{watchEffect:h}=await e("vue"),P=await e("three"),g=m({__name:"MaskPass",setup(e){const t=new r,{camera:m,renderer:g,scene:T,sizes:B}=a();let C=null;const k=0,M=.972,_=.21;h(()=>{B.width.value&&!C&&(C=new o(g),C.renderTarget1.stencilBuffer=!0,C.renderTarget2.stencilBuffer=!0,((e,a,s,n,t)=>{const r=new i(e,a);C.addPass(r);const o=new d(new P.Vector2(n,t),M,_,k);C.addPass(o)})(T.value,m.value,0,B.width.value,B.height.value),((e,a)=>{const s=new P.DirectionalLight(16777215);s.position.set(550,100,550),s.intensity=1.6,e.add(s);let n=new P.Mesh(new P.BoxGeometry(1,1,1),new P.MeshNormalMaterial);n.position.set(1,2,4),e.add(n);var r=new i(e,a);r.clear=!1,C.addPass(r);const o=new l(e,a);C.addPass(o);const d=new c;C.addPass(d),C.addPass(t)})(new P.Scene,m.value,0,B.width.value,B.height.value),(()=>{const e=new u(w);e.renderToScreen=!0,C.addPass(e)})())});const{onRender:j}=s();return j(()=>{C&&(g.autoClear=!1,C.render())}),(e,a)=>(v(),f(p(n),{args:[1,1,1],color:"orange",position:[3,2,1]}))}}),{defineComponent:T}=await e("vue"),{createElementVNode:B,unref:C,createVNode:k,resolveComponent:M,withCtx:_,openBlock:j,createBlock:x}=await e("vue"),y=T({__name:"MaskPass",setup:e=>(e,a)=>{const s=M("TresCanvas");return j(),x(s,{renderMode:"manual","window-size":""},{default:_(()=>[a[0]||(a[0]=B("TresPerspectiveCamera",{position:[10,10,10]},null,-1)),a[1]||(a[1]=B("TresAmbientLight",{intensity:1},null,-1)),k(C(t)),a[2]||(a[2]=B("TresGridHelper",{args:[10,10]},null,-1)),k(g)]),_:1})}});export{y as default};
