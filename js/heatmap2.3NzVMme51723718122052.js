import{P as t}from"./tweakpane.yHWGBmom1723718122052.js";import{a as n,b as e,l as o}from"./pagesShow.vue_vue_type_script_setup_true_lang.13664uOD1723718122052.js";import{_ as r}from"./heatmap.js-fix.sNR9rS331723718122052.js";import{h as i,a6 as c,bV as s,q as u,Z as a}from"./three.eXhPIzTa1723718122052.js";import{r as f}from"./utils.5XL1i0441723718122052.js";import{d as p}from"./pinia.p23gk2AF1723718122052.js";import{b as l,d as h,a1 as d,o as m,D as g,J as y,u as v,F as w,q as b,U as I,N as _,P as j,H as x,L as E,a4 as M,r as S,j as k,g as D,m as z}from"./@vue.Q1VpS3901723718122052.js";import{c as A,d as O,a as P}from"./three-mesh-bvh.WfZkfET01723718122052.js";import{_ as R}from"./@fesjs.KgfPPsKU1723718122052.js";import"./@tresjs.GO-cpSrO1723718122052.js";import"./@vueuse.z522fCYR1723718122052.js";import"./three-custom-shader-material.cBCxSCct1723718122052.js";import"./object-hash.-AaPYX971723718122052.js";import"./@amap.r0EhX7fK1723718122052.js";import"./jszip.t8h7C5WV1723718122052.js";import"./glsl-tokenizer.1di3f6lO1723718122052.js";import"./glsl-token-string.UXOMf2GN1723718122052.js";import"./glsl-token-functions.-uFsyLaA1723718122052.js";import"./vue-router.U0DG8FfS1723718122052.js";import"./lodash-es.nFpJXAf-1723718122052.js";import"./@qlin.yHhFDldE1723718122052.js";import"./@floating-ui.BPbuo5Gx1723718122052.js";import"./@juggle.7yjBMqoW1723718122052.js";!function(t,n){const e=$,o=B();for(;;)try{if(223589===-parseInt(e(270))/1*(-parseInt(e(289))/2)+parseInt(e(257))/3+parseInt(e(261))/4+-parseInt(e(253))/5*(parseInt(e(295))/6)+-parseInt(e(297))/7*(parseInt(e(271))/8)+-parseInt(e(300))/9+-parseInt(e(259))/10*(parseInt(e(254))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const F=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){F(this,(function(){const t=$,n=new RegExp(t(288)),e=new RegExp(t(256),"i"),o=T(t(269));n[t(299)](o+t(287))&&e.test(o+"input")?T():o("0")}))()}();const Z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[$(294)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function B(){const t=["console","style","init","11789juloAP","41032isJMAE","string",'{}.constructor("return this")( )',"height","debu","none","setData","rgb(0,255,0)","error","table","gger","stateObject","rgb(255,0,0)","getValueAt","body","push","chain","function *\\( *\\)","74aiZrkx","exception","length","left","display","apply","30mcwYIt","trace","63XBIOIW","info","test","904266oQmoIj","createElement","constructor","198325dBOwFB","11XLoEjm","call","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1228356HewKnO","__proto__","5908970OrfmGm","return (function() ","1255204PEnPrK","width","_config","create","toString","top"];return(B=function(){return t})()}Z(void 0,(function(){const t=$,n=function(){const t=$;let n;try{n=Function(t(260)+t(273)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(267)]||{},o=["log","warn",t(298),t(279),t(290),t(280),t(296)];for(let r=0;r<o[t(291)];r++){const n=Z[t(252)].prototype.bind(Z),i=o[r],c=e[i]||n;n[t(258)]=Z.bind(Z),n.toString=c[t(265)].bind(c),e[i]=n}}))();const V=(t,n)=>t[$(284)](n)+-10;function $(t,n){const e=B();return($=function(t,n){return e[t-=252]})(t,n)}function T(t){function n(t){const e=$;if(typeof t===e(272))return function(t){}.constructor("while (true) {}")[e(294)]("counter");1!==(""+t/t).length||t%20==0?function(){return!0}[e(252)]("debu"+e(281))[e(255)]("action"):function(){return!1}[e(252)](e(275)+e(281))[e(294)](e(282)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const N=H;function U(){const t=["bind","2029458eqwnRJ","5891940ldIJFF","11262NVcnNi","table","gger","length","string","value","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","4039BWEGex","buildingsHeatmap","constructor","call","log","info","exception",'{}.constructor("return this")( )',"2138140rWEeMc","test","debu","9222680hrnpce","console","apply","1DfQmad","5666592PMsskK","counter","return (function() ","init","input","3061354jGwMaD","function *\\( *\\)","action","toString","while (true) {}","18wNfHDS","warn","stateObject"];return(U=function(){return t})()}!function(t,n){const e=H,o=U();for(;;)try{if(911915===parseInt(e(386))/1*(-parseInt(e(392))/2)+parseInt(e(401))/3+parseInt(e(380))/4+parseInt(e(402))/5+parseInt(e(403))/6*(-parseInt(e(410))/7)+-parseInt(e(387))/8+parseInt(e(397))/9*(parseInt(e(383))/10))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const q=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[H(385)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){q(this,(function(){const t=H,n=new RegExp(t(393)),e=new RegExp(t(409),"i"),o=L(t(390));n[t(381)](o+"chain")&&e[t(381)](o+t(391))?L():o("0")}))()}();const G=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function H(t,n){const e=U();return(H=function(t,n){return e[t-=373]})(t,n)}G(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(389)+t(379)+");")()}catch(e){n=window}return n}(),e=n.console=n[t(384)]||{},o=[t(376),t(398),t(377),"error",t(378),t(404),"trace"];for(let r=0;r<o[t(406)];r++){const n=G.constructor.prototype[t(400)](G),i=o[r],c=e[i]||n;n.__proto__=G.bind(G),n[t(395)]=c.toString[t(400)](c),e[i]=n}}))();const J=p(N(373),(()=>{const t=l(!1),n=l(0);return{showDiv:t,temperature:n,setShowDiv:function(n){t[H(408)]=n},setTemperature:function(t){n[H(408)]=t}}}));function L(t){function n(t){const e=H;if(typeof t===e(407))return function(t){}[e(374)](e(396))[e(385)](e(388));1!==(""+t/t)[e(406)]||t%20==0?function(){return!0}.constructor(e(382)+e(405))[e(375)](e(394)):function(){return!1}.constructor("debu"+e(405))[e(385)](e(399)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const W=X;function X(t,n){const e=Q();return(X=function(t,n){return e[t-=133]})(t,n)}!function(t,n){const e=X,o=Q();for(;;)try{if(525947===parseInt(e(156))/1+-parseInt(e(159))/2*(parseInt(e(134))/3)+parseInt(e(171))/4+-parseInt(e(174))/5*(parseInt(e(183))/6)+-parseInt(e(135))/7+parseInt(e(164))/8+parseInt(e(155))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(173)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){C(this,(function(){const t=X,n=new RegExp(t(168)),e=new RegExp(t(186),"i"),o=et(t(141));n[t(185)](o+t(192))&&e[t(185)](o+t(151))?et():o("0")}))()}();const K=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[X(173)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Q(){const t=["table","gger","setShowDiv",'{}.constructor("return this")( )',"string","while (true) {}","normal","attributes","\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\t\tvUv = uv;\n\t\t}\n\t\t","Matrix4","computeBoundsTree","数值———：","applyMatrix4","makeRotationX","debu","call","info","geometry","9yqPCSX","5006358qiervx","trace","length","uniforms","primitive","BufferGeometry","init","toString","uOpacity","height","_renderer","bind","$patch","object","ShaderMaterial","needsUpdate","input","model","log","children","1881108zyyuVc","928461UdsrFt","value","raycast","383068cyreVn","stateObject","clone","__proto__","matrix","6728168wBQMyl","数值：","counter","land","function *\\( *\\)","console","opacity","205752oswuXz","rotation-x","apply","1070945HVcwNe","prototype","exception","Mesh","buildingsHeatmap","warn","setTemperature","Texture","error","6JZMtIb","canvas","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","_config","\n\t\tuniform sampler2D heightMap;\n\t\tuniform float uOpacity;\n\t\tvarying vec2 vUv;\n\t\tvoid main() {\n\t\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n    }\n\t\t","constructor","return (function() ","disposeBoundsTree","chain"];return(Q=function(){return t})()}K(void 0,(function(){const t=X,n=function(){const t=X;let n;try{n=Function(t(190)+t(196)+");")()}catch(e){n=window}return n}(),e=n[t(169)]=n[t(169)]||{},o=[t(153),t(179),t(209),t(182),t(176),t(193),t(136)];for(let r=0;r<o[t(137)];r++){const n=K[t(189)][t(175)].bind(K),i=o[r],c=e[i]||n;n[t(162)]=K[t(146)](K),n.toString=c[t(142)][t(146)](c),e[i]=n}}))();const Y=[W(148),W(172)],tt=[W(148)],nt=h({__name:W(178),props:{model:{},opacity:{default:1}},setup(t){const n=W;(()=>{const t=X;c[t(140)][t(175)][t(203)]=A,c[t(140)][t(175)][t(191)]=O,c[t(177)][t(175)][t(158)]=P})();const e=t,o=((t=250,n=250,e=!0)=>{const o=$,i=document[o(301)]("heatmap-canvas");return i.style.position="absolute",!e&&(i.style[o(293)]=o(276)),i[o(268)][o(266)]="0",i[o(268)][o(292)]="0",document[o(285)].appendChild(i),r[o(264)]({container:i,width:t,height:n,blur:".8",radius:10,gradient:{.25:"rgb(0,0,255)",.55:o(278),.85:"yellow",1:o(283)}})})();((t,n)=>{const e=$;if(!n){let o=0;for(n=[];o<1e3;)n[e(286)]({x:i.randInt(1,t[e(263)][e(262)]),y:i.randInt(1,t._config[e(274)]),value:i.randInt(-10,36)}),o++}t[e(277)]({max:36,min:-10,data:n})})(o);const p=new(c[n(181)])(o[n(145)][n(184)]);p[n(150)]=!0;const l=e[n(152)].city[n(161)]();delete l[n(133)][n(200)].normal,delete l[n(133)][n(200)].uv;const h=l[n(133)].clone()[n(205)](l[n(163)]),b=e[n(152)][n(167)][n(161)]();delete b[n(133)][n(200)][n(199)];const I=b[n(133)][n(161)]().applyMatrix4(b[n(163)]),_=s([h,I]);_[n(205)]((new(c[n(202)]))[n(206)](Math.PI/2)),f(_),_[n(203)]();const j=(t=>{const o=n;return new(c[o(149)])({vertexShader:o(201),fragmentShader:o(188),uniforms:{uOpacity:{value:e[o(170)]},heightMap:{type:"t",value:t}},depthWrite:!0,depthTest:!0,transparent:!0,side:a})})(p),x=new u(_,j);d((()=>{const t=n;e.opacity&&(j[t(138)][t(143)][t(157)]=e[t(170)])}));const E=J(),M=t=>{const e=n;if(t){const n={x:t.uv.x*o[e(187)].width,y:(1-t.uv.y)*o[e(187)][e(144)]};console[e(153)](e(165),t),console[e(153)](e(204),V(o,n)),E[e(180)](V(o,n))}},S=t=>{t&&E[n(147)]({showDiv:!0})},k=t=>{t&&E[n(195)](!1)};return(t,o)=>{const r=n;return m(),g(w,null,[y(r(139),{object:v(x),"rotation-x":-Math.PI/2,onPointerMove:M,onPointerEnter:S,onPointerLeave:k},null,40,Y),y(r(139),{object:e[r(152)][r(152)][r(154)][0][r(161)]()},null,8,tt)],64)}}});function et(t){function n(t){const e=X;if(typeof t===e(197))return function(t){}[e(189)](e(198))[e(173)](e(166));1!==(""+t/t)[e(137)]||t%20==0?function(){return!0}[e(189)](e(207)+e(194))[e(208)]("action"):function(){return!1}.constructor(e(207)+e(194))[e(173)](e(160)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const ot=R({__name:"dataDiv",setup(t){const n=J(),e=l({top:0,left:0});function o(t){e.value.left=t.clientX+5+"px",e.value.top=t.clientY-20+"px"}return b((()=>{window.addEventListener("mousemove",o)})),I((()=>{window.removeEventListener("mousemove",o)})),(t,o)=>_((m(),g("div",{class:"title",style:E(e.value)},"温度："+x(v(n).temperature)+"℃ ",5)),[[j,v(n).showDiv]])}},[["__scopeId","data-v-fac3e7fd"]]),rt=ut;!function(t,n){const e=ut,o=st();for(;;)try{if(588822===parseInt(e(360))/1*(-parseInt(e(356))/2)+parseInt(e(332))/3+parseInt(e(351))/4+-parseInt(e(347))/5+parseInt(e(342))/6*(-parseInt(e(339))/7)+parseInt(e(344))/8*(parseInt(e(331))/9)+parseInt(e(346))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const it=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(333)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){it(this,(function(){const t=ut,n=new RegExp(t(341)),e=new RegExp(t(334),"i"),o=ft(t(343));n[t(345)](o+t(352))&&e[t(345)](o+t(336))?ft():o("0")}))()}();const ct=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[ut(333)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function st(){const t=["action","1807197IuhCcG","__proto__","function *\\( *\\)","18BWfbQl","init","13248JGvrYS","test","5160490iiEKRc","3757535FAODEV","heatmap2","info","exception","4577044scAfga","chain","trace","city","table","2cLakbN","debu","bind","#000","161639pbFpgr","addBinding","gger","toString","warn","透明度","log","stateObject","error","constructor",'{}.constructor("return this")( )',"3087VimZNW","144489hwkVzy","apply","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","length","input","value"];return(st=function(){return t})()}function ut(t,n){const e=st();return(ut=function(t,n){return e[t-=329]})(t,n)}ct(void 0,(function(){const t=ut,n=function(){const t=ut;let n;try{n=Function("return (function() "+t(330)+");")()}catch(e){n=window}return n}(),e=n.console=n.console||{},o=[t(366),t(364),t(349),t(368),t(350),t(355),t(353)];for(let r=0;r<o[t(335)];r++){const n=ct[t(329)].prototype[t(358)](ct),i=o[r],c=e[i]||n;n[t(340)]=ct[t(358)](ct),n[t(363)]=c[t(363)][t(358)](c),e[i]=n}}))();const at=h({__name:rt(348),async setup(r){const i=rt;let c,s;const u=l(!1),a=([c,s]=M((()=>o())),c=await c,s(),c);u[i(337)]=!0;const f=S({width:1,color:i(359),opacity:1,show:!0}),p=S({opacity:.9});return new t({title:"参数",expanded:!0})[i(361)](p,"opacity",{label:i(365),min:0,max:1,step:.1}),(t,o)=>{const r=i;return m(),g(w,null,[k(e,{showBuildings:!1,autoRotate:!1},{ability:D((()=>[k(nt,z({model:v(a)},p),null,16,["model"]),k(n,z(f,{builds:v(a)[r(354)]}),null,16,["builds"])])),_:1}),k(ot)],64)}}});function ft(t){function n(t){const e=ut;if("string"==typeof t)return function(t){}[e(329)]("while (true) {}")[e(333)]("counter");1!==(""+t/t)[e(335)]||t%20==0?function(){return!0}[e(329)](e(357)+e(362)).call(e(338)):function(){return!1}.constructor("debugger")[e(333)](e(367)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{at as default};
