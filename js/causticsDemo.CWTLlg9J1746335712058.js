import{d1 as s,aE as e,ar as a}from"./three.Bj3hPI0l1746335712058.js";import{m as t,e as i,a as o,H as n}from"./@tresjs.CIKSfeCC1746335712058.js";import"./index.dIUW7kmy1746335712058.js";import{P as r}from"./tweakpane.C0HtAJSg1746335712058.js";import"./index.D4XPdQdc1746335712058.js";import{_ as l}from"./index.vue_vue_type_script_setup_true_lang.GHyFMVzG1746335712058.js";import{G as m}from"./three-stdlib.DU6w6py-1746335712058.js";import{d as p,a5 as d,H as u,o as c,u as g,r as f,b as j,e as h,f as x,J as k,j as _,ak as b,al as y,am as v,m as w}from"./@vue.DK6ok9LJ1746335712058.js";import"./postprocessing.Dxg1zmor1746335712058.js";import"./@vueuse.BtSShokC1746335712058.js";import"./lamina.BlbvVgu_1746335712058.js";import"./glsl-tokenizer.DuAqcYGm1746335712058.js";import"./@amap.CGUF9xH41746335712058.js";import"./glsl-token-descope.NOmC_Hza1746335712058.js";import"./glsl-token-depth.Duvdnvlt1746335712058.js";import"./glsl-token-scope.BdCfdvWe1746335712058.js";import"./glsl-token-properties.DKXemF9b1746335712058.js";import"./glsl-token-assignments.Ctx_yUgS1746335712058.js";import"./glsl-token-string.CYxZcXM11746335712058.js";import"./glsl-token-functions.DSIuIoLS1746335712058.js";import"./object-hash.Dk0jTGCt1746335712058.js";import"./jszip.B24na4eh1746335712058.js";import"./utils.iCJxOh-l1746335712058.js";import"./@pmndrs.BIR35Ini1746335712058.js";const B=["object","scale"],T=p({__name:"groundProjectedEnvCom",props:{texture:{default:"https://opensource.cdn.icegl.cn/images/skyBox/round_platform_1k.exr"},size:{default:100}},async setup(a){let i,o;const n=a,r=new s,l=([i,o]=d((()=>r.loadAsync(n.texture))),i=await i,o(),i);l.mapping=e;const{scene:p}=t();p.value.environment=l;const f=new m(l);return(s,e)=>(c(),u("primitive",{object:g(f),scale:n.size},null,8,B))}}),z=p({__name:"causticsDemo",setup(s){const e=f({alpha:!0,toneMapping:a,windowSize:!0,clearColor:10066329}),t=f({enableDamping:!0,autoRotate:!1}),m=j(null),{onBeforeLoop:p}=i();p((({elapsed:s})=>{m.value&&(m.value.rotation.x=s,m.value.rotation.y=s)}));const d=f({color:"#ffffff",ior:1.1,backsideIOR:1.1,far:30,worldRadius:.3,intensity:.05,causticsOnly:!1,lightSource:{x:1,y:1,z:1}}),u=new r({title:"参数"});return u.addBinding(d,"color",{label:"颜色"}),u.addBinding(d,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),u.addBinding(d,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),u.addBinding(d,"far",{label:"可视距离",min:0,max:30,step:1}),u.addBinding(d,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),u.addBinding(d,"intensity",{label:"强度",min:0,max:1,step:.01}),u.addBinding(d,"causticsOnly",{label:"只显示投射"}),u.addBinding(d,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(s,a)=>(c(),h(g(n),w(e,{"window-size":""}),{default:x((()=>[a[2]||(a[2]=k("TresPerspectiveCamera",{position:[-20,20,15],fov:45,near:1,far:1e3},null,-1)),_(g(o),b(y(t)),null,16),a[3]||(a[3]=k("TresDirectionalLight",{position:[10,2,4],intensity:1},null,-1)),_(g(l),b(y(d)),{default:x((()=>[a[1]||(a[1]=k("TresMesh",{position:[8,5.5,8.5],"receive-shadow":"","cast-shadow":"",name:"sphere"},[k("TresSphereGeometry",{args:[3.5]}),k("TresMeshStandardMaterial",{color:16724991,roughness:0,metalness:1})],-1)),k("TresMesh",{ref_key:"torusMesh",ref:m,position:[-8,6,-8],name:"torus"},a[0]||(a[0]=[k("TresTorusKnotGeometry",{args:[3,1,100,32]},null,-1),k("TresMeshPhysicalMaterial",{color:"#33ffff",transmission:1,roughness:0,thickness:2},null,-1)]),512)])),_:1},16),(c(),h(v,null,{default:x((()=>[_(g(T),{position:[0,-.1,0]})])),_:1}))])),_:1},16))}});export{z as default};
