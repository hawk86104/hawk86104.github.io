var t,e,s,n,i,r,o,a,c,h,l,u,p,m,d,f=Object.defineProperty,w=(t,e,s)=>(((t,e,s)=>{e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s})(t,"symbol"!=typeof e?e+"":e,s),s);import{b as g}from"./pagesShow.vue_vue_type_script_setup_true_lang.8rpFpTwf1740621336114.js";import{_ as S,b as y,V as x,C as v,h as I,e as P,bQ as F,X as A,cw as T,r as b,ar as E,a2 as z,an as R,T as C,c as O}from"./three.sXv6UbbL1740621336114.js";import{m as V,e as q}from"./@tresjs.Td0X-dew1740621336114.js";import{d as M,b as N,a2 as _,o as U,f as j,g as B,j as W}from"./@vue.NRI7TcgI1740621336114.js";import"./three-custom-shader-material.zFJQzgaY1740621336114.js";import"./buildingsCustomShaderMaterial.hq-IAd4G1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";const D=zt;!function(t,e){const s=zt,n=K();for(;;)try{if(261643===-parseInt(s(427))/1+parseInt(s(673))/2*(-parseInt(s(607))/3)+-parseInt(s(765))/4+parseInt(s(706))/5+-parseInt(s(860))/6*(-parseInt(s(876))/7)+-parseInt(s(484))/8*(-parseInt(s(899))/9)+-parseInt(s(491))/10)break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const X=class{constructor(t){this[D(512)]=t}};w(X,"Time",new X(D(896))),w(X,"Sequence",new X(D(745)));let Y=X;class L{constructor(){this[D(750)]()}[D(750)](){const t=D;this[t(621)]=Y.Time,this[t(877)]=1,this[t(883)]=0,this.sequenceElement=new(S[t(531)]),this[t(572)]=new(S[t(540)]),this[t(514)]=new y,this[t(760)]=new(S[t(540)]),this.normal=new(S[t(540)]),this[t(581)]=0,this[t(701)]=0,this.size=new x,this[t(604)]=new v,this[t(518)]=1,this.initialSize=new(S[t(677)]),this[t(591)]=new v,this[t(474)]=1}[D(900)](t,e,s,n,i,r,o,a,c,h,l,u,p,m,d,f){const w=D;this[w(621)]=t,this[w(877)]=e,this.age=s,this[w(533)].copy(n),this[w(572)][w(672)](i),this.velocity[w(672)](r),this[w(760)].copy(o),this[w(490)].copy(a),this[w(581)]=c,this.rotationalSpeed=h,this[w(610)]=l,this[w(604)][w(672)](u),this[w(518)]=p,this.initialSize.copy(m),this.initialColor[w(672)](d),this[w(474)]=f}[D(589)](t){const e=D;t[e(900)](this[e(621)],this[e(877)],this[e(883)],this[e(533)],this[e(572)],this[e(514)],this.acceleration,this[e(490)],this[e(581)],this[e(701)],this[e(610)],this[e(604)],this[e(518)],this[e(658)],this[e(591)],this[e(474)])}[D(672)](t){const e=D;this[e(900)](t[e(621)],t.lifetime,t[e(883)],t[e(533)],t[e(572)],t[e(514)],t[e(760)],t.normal,t[e(581)],t[e(701)],t[e(610)],t[e(604)],t[e(518)],t[e(658)],t[e(591)],t.initialAlpha)}}class k{constructor(){w(this,t,function(){const t=D,e=new(S[t(540)]);return function(s=new I,n=null){const i=t,r=s[i(613)],o=s.max;for(let t=0;t<this[i(704)];t++){const s=this[i(780)](t);let a=s[i(572)];n&&(e[i(672)](a),e[i(459)](n),a=e);const c=Math[i(507)](s.size.x,s[i(610)].y),h=a.x-c,l=a.x+c,u=a.y-c,p=a.y+c,m=a.z-c,d=a.z+c;(0==t||a.x<r.x)&&(r.x=h),(0==t||a.x>o.x)&&(o.x=l),(0==t||a.y<r.y)&&(r.y=u),(0==t||a.y>o.y)&&(o.y=p),(0==t||a.z<r.z)&&(r.z=m),(0==t||a.z>o.z)&&(o.z=d)}return s}}()),w(this,e,function(){const t=D,e=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){e(this,(function(){const t=zt,e=new RegExp(t(800)),s=new RegExp(t(620),"i"),n=Ut(t(750));e[t(827)](n+t(625))&&s.test(n+"input")?Ut():n("0")}))()}();const s=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[zt(477)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();s(this,(function(){const t=zt;let e;try{e=Function(t(593)+t(717)+");")()}catch(r){e=window}const n=e[t(597)]=e.console||{},i=["log",t(510),"info",t(434),"exception",t(563),"trace"];for(let o=0;o<i[t(633)];o++){const e=s[t(532)][t(595)].bind(s),r=i[o],a=n[r]||e;e[t(796)]=s[t(812)](s),e[t(799)]=a[t(799)].bind(a),n[r]=e}}))();const n=new y,i=new(S[t(540)]),r=new(S[t(540)]);return function(e=new(S[t(686)]),s=null){const o=t;let a=0;for(let t=0;t<this[o(704)];t++){const e=this[o(780)](t);let c=e[o(572)];s&&(r.copy(c),r[o(459)](s),c=r);const h=Math[o(507)](e[o(610)].x,e.size.y);if(0==t)n.copy(c),a=h;else{i[o(672)](c)[o(892)](n);const t=i[o(633)]()+h;if(t>a){const e=(t-a)/2;i[o(529)]()[o(503)](e),n.add(i),a+=e}}}return e[o(699)][o(672)](n),e[o(797)]=a,e}}());const s=D;this[s(841)]=0,this[s(704)]=0,this.particleStates=[]}[D(750)](t){this.setParticleCount(t)}setParticleCount(t){const e=D;this.particleCount!=t&&(this[e(501)](),this[e(530)](t)),this.particleCount=t}setActiveParticleCount(t){this[D(704)]=t}[D(530)](t){const e=D;this.particleStates=[],this[e(841)]=t;for(let s=0;s<t;s++)this[e(859)][s]=new L}[D(501)](){}[D(451)](){return this[D(841)]}[D(732)](){}[D(495)](t,e){const s=D;if(t>=this[s(841)])throw new Error(s(654));if(e>=this[s(841)])throw new Error(s(492));const n=this.particleStates[t],i=this.particleStates[e];n.copyTo(i)}[D(641)](t,e){const s=D;if(t>=this[s(841)])throw new Error(s(807));return this[s(859)][t][s(672)](e)}[D(780)](t){const e=D;if(t>=this[e(841)])throw new Error(e(852));return this[e(859)][t]}}t=D(819),e=D(862);class J{constructor(t,e,s=0){const n=D;this[n(727)]=t,this[n(633)]=e,this.id=s}}class G{constructor(){const t=D;this[t(539)]={},this[t(623)]=[]}addSequence(t,e,s){const n=D;if(this[n(599)](s))throw new Error(n(809));const i=new J(t,e,s);return this.sequences[s]=i,this.ids[n(497)](s),i}[D(785)](t){const e=D;if(!this.hasID(t))throw new Error("ParticleSequenceGroup::getSequence -> Invalid ID.");return this[e(539)][t]}getSequenceIDs(){return this[D(623)]}[D(599)](t){return!!this.sequences[t]}}class Z{constructor(){}initializeState(t){const e=D;t[e(591)][e(884)](1,1,1),t[e(658)][e(884)](1,1),t[e(474)]=1,t.progressType=Y[e(896)],t[e(877)]=0,t[e(883)]=0,t.sequenceElement[e(884)](0,0,0,0),t[e(572)][e(884)](0,0,0),t[e(514)][e(884)](0,0,0),t[e(760)][e(884)](0,0,0),t.normal[e(884)](0,0,1),t[e(581)]=0,t[e(701)]=0,t[e(610)][e(672)](t[e(658)]),t[e(604)].copy(t[e(591)]),t[e(518)]=1}}class H extends Z{constructor(){super()}[D(598)](t){super[D(598)](t)}}class ${constructor(){}updateState(){}}function K(){const t=["currentTime","sequences","Vector3",'ParticleSystem::getParticleStateInitializer() -> "index" is out of range.',"   int nRowXTile = int((SNOverHS - float(nRowYTile)) * float(maxRowSections));\n","FragmentVars","offsetRadius","initialAlphas","uniform sampler2D atlasTexture;\n","getTypeID","needsUpdate","   if (interpolateAtlasFrames == 1 && firstSequenceElement != secondSequenceElement) { \n ","randomGenerator","normalizeDirection","visible","   const vec2 uRight = vec2(1.0, 1.0);\n","function","getVisible","toArray","       vec4 rotVecStep = step(vec4(customIndex, customIndex, 3.0, 2.0), vec4(0.0, 1.0, customIndex, customIndex)); \n","       float uRightV = rotVecStep.z; \n","elementTypeID","scaleX","varying vec2 vUV2;\n","Matrix4","table","loop","emitter","transformDirection","splice","generate","setUsage","   const vec2 right = vec2(1.0, 0.0);\n","bias","position","texture","geometry","lifetimes","near","   const vec2 up = vec2(0.0, 1.0);\n","initializers","lastIntensityFlickerTime","   \n  #include <logdepthbuf_vertex> \n","rotation","addParticleStateInitializer","lastPositionFlickerTime","keys","getSizes","jsonTypeNames","getComponent","getParticleStateInitializerCount","copyTo","varying float vSequenceElementT;\n","initialColor","intensity","return (function() ","getParticleStateOperator","prototype","range","console","initializeState","hasID","       float uLeftV = rotVecStep.x; \n","outType","generator","varying vec3 vFragColor;\n","color","   float atlasFrameHeight = atlasFrames.w; \n","element","6CerenR","boundingBox","boundingSphere","size","basePositions","calculateBoundingSphereFromBox","min","Default","getTypePath","instanceCount","map","   vec4 viewPosition; \n","startupTime","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","progressType","   float nRowX = float(nRowXTile) * atlasFrameWidth;\n","ids","update","chain","reverse","getSequenceIDs","customIndexes","   const vec2 uLeft = vec2(-1.0, 1.0);\n","progressTypes","particleStateArray","owner","length","Done","fromArray","Object3D","v4v","material","accelerations","updateMeshBounds","setState","stateObject","onUpdate","decay","object","attribute vec2 baseUV;\n","getSequenceElements","transformInitialDirectionInWorldSpace","now","Shader","getParticleStateOperatorCount","addElementsFromElementClassAndParameters","join",'ParticleStateArray::copyState() -> "srcIndex" is out of range.',"getGeometry","clamp","       upperSide = baseUV.y; \n","initialSize","   vec2 rotVec; \n","alphas","createMaterial","varying vec2 vUV1;\n","particleSequences","speedGenerator","} \n",'ParticleSystem::getParticleStateOperator() -> "index" is out of range.',"scaleY","getSimulateInWorldSpace","mapSize","indexOf","#include <common>","copy","9782roXVxR","upperIndex","positionAdjuster","generateForElement","Vector2","___photonsTypeID","string","Normal","baseUV","typeName","interpolateFrames","cos","updateEmitCount","Sphere","JSONTypeStore::addNamespace() -> namespace already exists","parseNamespaceAndTypename","type","getColors",'ContinuousArray::getElement() -> "index" is out of bounds.',"colors","   getUV(firstSequenceElement, sequenceNumber, atlasFrames, uv1); \n","renderOrder","setBoundingSphere","   int nRowSequenceElement = sequenceElement - firstRowSections; \n","emitterInitialized","setXYZ","center","interpolator","rotationalSpeed","value","   vec4 atlasFrames = atlasFrameSet[sequenceNumber]; \n","activeParticleCount","getParticleStateArray","2445265qLnBeV","customIndex","sqrt","setXYZW","varying float vSequenceElementT; \n","getParticleStateInitializer","default","emissionRelativeStartTime","interpolationElements","SrcAlphaFactor","shadow",'{}.constructor("return this")( )',"attribute vec2 size;\n","edgeRadius","tValue","Color","addTypeToNamespace","atlas","speedOffset","onUpdateCallback","tempUp","start","floor","relativeToInitialValue","   int secondSequenceElement = clamp(firstSequenceElement + 1, sequenceStart, sequenceStart + sequenceLength - 1); \n","Paused","flushParticleStateToBuffers","timeScaledVelocity","clone","getInterpolatorForTypeID","offsetY","matrixWorldNeedsUpdate","directionGenerator","getFrameSetCount","localT","   const vec2 dRight = vec2(1.0, -1.0);\n","   if (simulateInWorldSpace == 1) { \n","BufferAttribute","iterator","Sequence","JSONTypeStore::getType() -> typeName does not exist","invert","const int MAX_ATLAS_FRAME_SETS = 16; \n","advanceActiveParticles","init","setAttribute","setActiveParticleCount","nextIntensityAdjuster","setVisibile","setSimulateInWorldSpace","add","   gl_FragColor.a *= vFragAlpha; \n","particleSystems","timeScaledAcceleration","acceleration","       viewPosition = viewMatrix * particlePosition;\n","addElementsFromParameters","   gl_Position = projectionMatrix * (vec4(rotMat * rotVec, 0.0, 0.0) + viewPosition);\n","setParticleCount","460912unyyFB","getSystemState","uniform int interpolateAtlasFrames; \n","stop","loadJSONParameter","   if (interpolateAtlasFrames == 1) color2 = texture(atlasTexture, vUV2 + uvOffset) * vec4(vFragColor, 1.0);\n","emissionRate","uniform int instanced; \n","   float atlasFrameX = atlasFrames.x; \n","uniformsNeedUpdate","getParticleState","verticesPerParticle","emissionMaximum","particleEmitter","   int firstRowSections = int((1.0 - atlasFrameX) / atlasFrameWidth); \n","getState","getParticleStates","NotStarted","attribute vec4 sequenceElement;\n","while (true) {}","getSequence","getInterpolatedValue","height","simulateInWorldSpace","   vec2 uv1; \n","offsetX","outTypeID","varying float vFragAlpha;\n","typeIDGen","attribute float rotation;\n","setParticleSequences","__proto__","radius","renderer","toString","function *\\( *\\)","   vec4 color2 = color1; \n","getParameterJSON","JSONTypeStore::getType() -> namespace does not exist","Additive","setIntensity","   float nRowY = 1.0 - ((float(nRowYTile) + 1.0) * (atlasFrameHeight) + atlasFrameY + atlasFrameHeight);\n",'ParticleStateArray::setState() -> "index" is out of range.',"getParticleSystemRenderer","ParticleSequenceGroup::addParticleSequence -> Tried to add sequence with duplicate ID.","pause","lastIntensityAdjuster","bind","advanceActiveParticle","lastPositionAdjuster","timeActive","   } \n","addElements","mesh","computeBoundingBox","   gl_FragColor = mix(color1, color2, vSequenceElementT);\n","getElementCount","ParticleSystem::init() -> trying to intialize more than once.","setX","jsonTypes","Running","rotations","test","updateState","   float atlasFrameY = atlasFrames.y; \n","elements",'ParticleStateAttributeArray::setState() -> "index" is out of range.',"rangeTheta","particleSystemRenderer","setOwner","split","offsetPhi","debu","speedRange","frustumCulled","namespace","particleCount","   if (instanced != 1) { \n","uniformRange","framesets","random","addParticleSequence","getLight","far","maxParticleCount","baseURI","attribute vec3 color;\n",'ParticleStateArray::getState() -> "index" is out of range.',"OneMinusSrcAlphaFactor","lowerIndex","       viewPosition = viewMatrix * modelMatrix * particlePosition;\n","   vec4 color1 = texture2D(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","positions","    \n  #include <logdepthbuf_fragment> \n","particleStates","993576yoAHbd","blending","computeBoundingSphere","DynamicDrawUsage","addElement","sin","castShadow","offset","JSONTypeStore::addTypeToNamespace() -> namespace does not exist","   }  else { \n","getTypeNames","   vUV2 = vec2(uv2.x + uvXOffset, uv2.y + uvYOffset);\n","velocities","instanced","autoClear","addParticleStateOperator","7wPzyKs","lifetime","AdditiveBlending","   const vec2 left = vec2(-1.0, 0.0);\n","       rightSide = baseUV.x; \n","uniformOffset","stateAcceleration","age","set","rangeRadius","normals","params","operators","setBoundingBox","matrixWorld","uniform vec2 uvOffset;\n","sub","hasOwnProperty","lastUpdateTime","interpolateAtlasFrames","Time","tValues","texturePath","9GhwxlM","setAll","JSONTypeStore::addTypeToNamespace() -> typeName already exists","assign","setDrawRange","load","offsetZ","stateVelocity","addComponent","sizes","   float uvYOffset = atlasFrameHeight * upperSide; \n","391668dIPsZt","Renderer::init() -> trying to intialize more than once.","addSequence","initialColors","getTexturePath","systemState","checkAndAddTypeName","error","activateParticles","   float nRow = step(float(firstRowSections), float(sequenceElement)); \n","   vUV1 = vec2(uv1.x + uvXOffset, uv1.y + uvYOffset);\n","emissionMinimum","       vec2 upperSideStep = step(vec2(customIndex, 3.0), vec2(0.0, customIndex));\n","rotationalSpeeds","frameSets","initialized","light","   mat2 rotMat = mat2(cos(rotMag), -sin(rotMag), sin(rotMag), cos(rotMag)) * mat2(size.x, 0.0, 0.0, size.y);\n","getTexture","emitCount","particleStateOperators","maximumActiveParticles","gger","intensityFlux","getParticleCount","   } else { \n","particlePosition","Box3","addParticleSystem","startTime","componentContainer","width","applyMatrix4","baseUVs","camera","   float rightSide; \n","ages","initialSizes","setRGB","components",'Atlas::getFrameSet -> "index" is out of range.',"   int sequenceLength = int(sequenceElement.w);\n","sequenceElements","distance","updateBounds","getType","particleStateInitializers","initialAlpha",'ParticleSystem::getParticleState() -> "index" is out of range.',"getFrameSet","apply","getParticleSequences","emissionDuration","       rotVec = uLeft * uLeftV + dLeft * dLeftV + dRight * dRightV + uRight * uRightV; \n","offsetTheta","       float dRightV = rotVecStep.w - rotVecStep.z; \n","parent","2854872UqaTKx","data","addFrameSet","   float sequenceElementF = sequenceElement.x;\n","   vFragAlpha = alpha; \n","fromJSON","normal","2331870RPalSc",'ParticleStateArray::copyState() -> "destIndex" is out of range.',"scaleZ","parseTypeString","copyState","render","push","getInterpolationValuesForTValue","rangePhi","internalUpdate","dispose","PointLight","multiplyScalar","getMaximumActiveParticles","   float atlasFrameWidth = atlasFrames.z; \n","ShaderMaterial","max","copyParticleInArray","attribute vec4 particlePosition;\n","warn","addNamespace","name","   vec4 color1 = texture(atlasTexture, vUV1 + uvOffset) * vec4(vFragColor, 1.0);\n","velocity","addType","calculatingBoundingSphereFromBox","counter","alpha","toJSON","BufferGeometry","activateParticle","   const vec2 down = vec2(0.0, -1.0);\n","void getUV(in int sequenceElement, in int sequenceNumber, in vec4 atlasFrames, out vec2 uv) { \n","speed",'ContinuousArray::getTValue() -> "index" is out of bounds.',"getInterpolatedElement","void main() { \n","   const vec2 dLeft = vec2(-1.0, -1.0);\n","normalize","allocate","Vector4","constructor","sequenceElement","uniform int simulateInWorldSpace; \n","setTransformInitialDirectionInWorldSpace","setXY","#include <common> \n"];return(K=function(){return t})()}class Q extends ${constructor(){const t=D;super(),this[t(733)]=new(S[t(540)]),this[t(759)]=new y,this.stateAcceleration=new(S[t(540)]),this[t(906)]=new(S[t(540)])}[D(828)](t,e){const s=D;return super[s(828)](t,e),this[s(882)].copy(t[s(760)]),this[s(759)][s(672)](this.stateAcceleration),this[s(759)].multiplyScalar(e),t[s(514)].add(this[s(759)]),this[s(906)][s(672)](t[s(514)]),this[s(733)][s(672)](this.stateVelocity),this.timeScaledVelocity[s(503)](e),t[s(572)][s(756)](this[s(733)]),t[s(883)]=t[s(883)]+e,t[s(581)]=t.rotation+e*t[s(701)],!0}}class tt{static[D(656)](t,e,s){const n=D;return Math.min(Math[n(507)](t,e),s)}static[D(538)](){return performance.now()/1e3}}class et{constructor(){this.components=[]}[D(907)](t){this.components.push(t)}update(t,e){for(const s of this.components)s.update(t,e)}[D(587)](t){const e=D;if(t>=this.components[e(633)])throw new Error('ComponentContainer::getComponent() -> "index" is out of range.');return this[e(466)][t]}}const st=class{constructor(t){this[D(512)]=t}};s=D(782),n=D(825),i=D(731),w(st,s,new st("NotStarted")),w(st,n,new st(D(825))),w(st,i,new st(D(731))),w(st,"Done",new st(D(634)));let nt=st;class it{constructor(t,e){w(this,r,function(){const t=D,e=new(S[t(562)]);return function(){const s=t;let n=null;this.transformInitialDirectionInWorldSpace&&(n=e,n[s(672)](this[s(632)].matrixWorld)[s(747)]()),this[s(833)][s(516)]()?(this[s(859)][s(819)](this[s(608)],n),this[s(833)][s(889)](this[s(608)])):(this.particleStates[s(862)](this[s(609)],n),this[s(833)].setBoundingSphere(this[s(609)]))}}());const s=D;this[s(632)]=t,this[s(632)][s(552)]=!1,this[s(552)]=!0,this[s(833)]=e,this[s(442)]=!1,this[s(448)]=0,this[s(704)]=0,this[s(788)]=!0,this[s(697)]=!1,this[s(778)]=null,this.componentContainer=new et,this[s(473)]=[],this[s(447)]=[],this[s(859)]=null,this.systemState=nt[s(782)],this.particleSequences=new G,this[s(725)]=null,this[s(648)]=!0,this[s(608)]=new(S[s(454)]),this.boundingSphere=new P}[D(750)](t){const e=D;if(this.initialized)throw new Error(e(822));this.maximumActiveParticles=t,this[e(833)]?(this.particleSystemRenderer[e(834)](this[e(632)]),this[e(833)][e(750)](this[e(448)],this[e(788)]),this.particleSystemRenderer[e(755)](this[e(788)]),this[e(859)]=this[e(833)][e(705)]()):(this.particleStates=new k,this[e(859)][e(750)](this[e(448)])),this[e(582)](new H),this[e(875)](new Q),this[e(442)]=!0}[D(555)](){return this[D(552)]}[D(754)](t){return this[D(552)]=t}[D(643)](t){this[D(725)]=t}[D(624)](t,e){const s=D;if(this[s(432)]==nt[s(825)]){if(this.owner.updateWorldMatrix(!0),t=null==t||null==t?tt.currentTime():t,e=null==e||null==e?t-this[s(894)]:e,this.emitterInitialized&&this.systemState==nt[s(825)]){const t=this.particleEmitter[s(624)](e);t>0&&this[s(435)](t),this[s(749)](e),this.onUpdateCallback&&this.onUpdateCallback(this[s(704)]),this[s(471)]()}this[s(457)][s(624)](t,e),this[s(894)]=t}}render(t,e){const s=D;if(this[s(555)]()&&this[s(833)]){const n=t[s(874)];t[s(874)]=!1,this.owner.visible=!0,this[s(632)][s(737)]=!0,this[s(833)][s(496)](this[s(632)],t,e),this[s(632)][s(552)]=!1,t.autoClear=n}}[D(727)](){const t=D;this.systemState!=nt.NotStarted&&this[t(432)]!=nt[t(731)]||(this.systemState=nt.Running,this[t(456)]=tt.currentTime(),this.lastUpdateTime=this[t(456)])}[D(810)](){const t=D;this.systemState==nt[t(825)]&&(this[t(432)]=nt[t(731)])}[D(768)](){}[D(766)](){return this[D(432)]}setEmitter(t){const e=D;return this[e(778)]=t,this[e(778)][e(448)]=this.maximumActiveParticles,this.emitterInitialized=!0,this[e(778)]}addComponent(t){const e=D;this[e(457)][e(907)](t)}[D(587)](t){const e=D;return this[e(457)][e(587)](t)}[D(582)](t){const e=D;return this[e(473)][e(497)](t),t}getParticleStateInitializerCount(){const t=D;return this.particleStateInitializers[t(633)]}[D(711)](t){const e=D;if(t>=this[e(473)][e(633)])throw new Error(e(541));return this[e(473)][t]}[D(875)](t){return this[D(447)].push(t),t}[D(651)](){const t=D;return this[t(447)][t(633)]}[D(594)](t){const e=D;if(t>=this[e(447)][e(633)])throw new Error(e(666));return this[e(447)][t]}[D(504)](){return this[D(448)]}getActiveParticleCount(){return this[D(704)]}[D(775)](t){const e=D;if(t>=this.activeParticleCount)throw new Error(e(475));return this[e(859)][e(780)](t)}[D(781)](){return this[D(859)]}getParticleSystemRenderer(){return this[D(833)]}getSimulateInWorldSpace(){return this.simulateInWorldSpace}setSimulateInWorldSpace(t){const e=D;this.simulateInWorldSpace=t,this[e(833)]&&this[e(833)].setSimulateInWorldSpace(this[e(788)])}[D(535)](t){this.transformInitialDirectionInWorldSpace=t}[D(846)](t,e,s=0){const n=D;this[n(663)][n(429)](t,e,s)}[D(478)](){return this[D(663)]}getEmitter(){return this[D(778)]}[(r=D(471),D(435))](t){const e=D;if(this[e(432)]==nt[e(825)]){const s=tt[e(656)](this[e(704)]+t,0,this[e(448)]);for(let t=this[e(704)];t<s;t++)this[e(521)](t);this.activeParticleCount=s,this[e(859)][e(752)](this[e(704)])}}[D(521)](t){const e=D;if(this[e(432)]==nt[e(825)]){const s=this[e(859)][e(780)](t);s.age=0;for(let t=0;t<this[e(473)][e(633)];t++){this[e(473)][t][e(598)](s)}if(this[e(788)]){s.position[e(459)](this[e(632)][e(890)]);const t=s.velocity[e(633)]();if(this.transformInitialDirectionInWorldSpace){s[e(514)][e(566)](this.owner.matrixWorld)[e(503)](t);const n=s[e(760)].length();s[e(760)][e(566)](this[e(632)][e(890)])[e(503)](n)}}this[e(859)][e(732)](t)}}[D(749)](t){const e=D;if(this[e(432)]==nt[e(825)]){let s=0;for(;s<this[e(704)];){this[e(813)](s,t)?s++:(s<this.activeParticleCount-1&&this[e(508)](this[e(704)]-1,s),this[e(704)]--)}this[e(859)].setActiveParticleCount(this.activeParticleCount)}}[D(813)](t,e){const s=D;if(this[s(432)]==nt.Running){const n=this[s(859)][s(780)](t);for(let t=0;t<this[s(447)][s(633)];t++){const i=this[s(447)][t][s(828)](n,e),r=n[s(877)];if(!i||0!=r&&n.age>=r)return!1}return this[s(859)].flushParticleStateToBuffers(t),!0}return!1}[D(508)](t,e){const s=D;this[s(859)][s(495)](t,e),this[s(859)][s(732)](e)}static[D(489)](t,e,s){const n=D,i=(t,e,s)=>{const n=zt;e(t);for(const r in t)if(t[n(893)](r)){const s=t[r];typeof s===n(645)&&i(s,e)}};i(t,(t=>{const s=zt;t[s(689)]&&(t[s(689)]=e[s(494)](t[s(689)]))}));const r=t[n(849)],o=t.simulateInWorldSpace,a=t[n(798)],c=a[n(689)].fromJSON(a.params),h=new(S[n(636)]),l=new it(h,c,s);l.init(r),l[n(755)](o);const u=t[n(565)],p=u[n(689)][n(489)](u[n(887)]);if(l.setEmitter(p),t[n(539)])for(const m of t[n(539)])l.addParticleSequence(m[n(727)],m.length,m.id);if(t[n(578)])for(const m of t[n(578)])l[n(582)](m[n(689)][n(489)](l,m.params));if(t[n(888)])for(const m of t[n(888)]){const t=l[n(875)](m.type[n(489)](l,m[n(887)]));m[n(830)]&&t[n(762)](m.elements)}return[l,h]}toJSON(t){const e=D,s=this[e(808)](),n=this.getEmitter(),i=this.getParticleSequences(),r=i[e(627)]().map((t=>{const s=i[e(785)](t);return{id:t,start:s.start,length:s.length}})),o=[],a=this[e(588)]();for(let l=0;l<a;l++){const s=this[e(711)](l);s.constructor!==H&&o[e(497)]({type:t[e(615)](s[e(532)]),params:s.toJSON(t)})}const c=[],h=this.getParticleStateOperatorCount();for(let l=0;l<h;l++){const s=this[e(594)](l);if(s[e(532)]!==Q){const n=s.toJSON(t),i=n[e(887)]||n,r=n[e(887)]?n[e(830)]:null,o={type:t[e(615)](s.constructor),params:i};r&&(o[e(830)]=r),c[e(497)](o)}}return{maxParticleCount:this[e(504)](),simulateInWorldSpace:this[e(668)](),renderer:{type:t[e(615)](s[e(532)]),params:s.toJSON()},emitter:{type:t[e(615)](n[e(532)]),params:n[e(519)]()},sequences:r,initializers:o,operators:c}}}class rt{constructor(){const t=D;this.particleSystems=[],this[t(619)]=performance[t(649)]()/1e3,this[t(894)]=this[t(619)],this.componentContainer=new et}update(){const t=D,e=tt.currentTime(),s=e-this.lastUpdateTime;for(const n of this[t(758)])n.update(e,s);this[t(457)][t(624)](e,s),this[t(894)]=e}render(t,e){const s=D;for(const n of this[s(758)])n.render(t,e)}[D(455)](t){const e=D;this[e(758)][e(497)](t)}addComponent(t){this[D(457)].addComponent(t)}[D(587)](t){return this.componentContainer.getComponent(t)}}class ot{constructor(){const t=D;this[t(442)]=!1,this[t(841)]=0,this[t(632)]=null,this.simulateInWorldSpace=!1}[D(755)](t){this[D(788)]=t}[D(705)](){}setOwner(t){this[D(632)]=t}[D(750)](t){const e=D;if(this.particleCount=t,!this[e(442)])return this[e(442)]=!0,!0;throw new Error(e(428))}[D(496)](){}}class at extends k{constructor(){const t=D;super(),this[t(574)]=null,this[t(630)]=null,this[t(575)]=null,this[t(463)]=null,this.sequenceElements=null,this.positions=null,this[t(872)]=null,this.accelerations=null,this[t(886)]=null,this[t(826)]=null,this[t(440)]=null,this[t(425)]=null,this[t(692)]=null,this[t(464)]=null,this[t(430)]=null,this.instanced=!1,this[t(776)]=6}[D(750)](t,e=!1){const s=D;this[s(873)]=e,this[s(873)]?this[s(776)]=1:this[s(776)]=6,super.init(t),this[s(530)](t)}[D(764)](t){super.setParticleCount(t)}[D(752)](t){const e=D;super[e(752)](t),t>0?this[e(873)]?this[e(574)][e(616)]=t:this[e(574)][e(903)](0,this[e(776)]*t):this[e(873)]?this[e(574)][e(616)]=0:this[e(574)].setDrawRange(0,0)}[D(732)](t){const e=D;if(t>=this[e(841)])throw new Error('ParticleStateAttributeArray::flushParticleStateToBuffers() -> "index" is out of range.');const s=this[e(780)](t),n=t*this[e(776)];for(let i=0;i<this[e(776)];i++)this[e(575)][e(823)](n+i,s[e(877)]),this[e(575)].needsUpdate=!0,this[e(463)].setX(n+i,s[e(883)]),this.ages[e(548)]=!0,this[e(469)][e(709)](n+i,s.sequenceElement.x,s.sequenceElement.y,s[e(533)].z,s.sequenceElement.w),this.sequenceElements.needsUpdate=!0,this[e(857)][e(698)](n+i,s[e(572)].x,s[e(572)].y,s[e(572)].z),this[e(857)].needsUpdate=!0,this.velocities[e(698)](n+i,s[e(514)].x,s[e(514)].y,s[e(514)].z),this[e(872)][e(548)]=!0,this[e(639)][e(698)](n+i,s.acceleration.x,s[e(760)].y,s[e(760)].z),this[e(639)][e(548)]=!0,this[e(886)].setXYZ(n+i,s[e(490)].x,s[e(490)].y,s.normal.z),this[e(886)].needsUpdate=!0,this[e(826)].setX(n+i,s.rotation),this[e(826)][e(548)]=!0,this.rotationalSpeeds[e(823)](n+i,s[e(701)]),this[e(440)][e(548)]=!0,this[e(425)][e(536)](n+i,s[e(610)].x,s[e(610)].y),this[e(425)][e(548)]=!0,this[e(692)][e(698)](n+i,s[e(604)].r,s[e(604)].g,s[e(604)].b),this.colors[e(548)]=!0,this.alphas.setX(n+i,s[e(518)]),this[e(660)].needsUpdate=!0,this[e(464)][e(536)](n+i,s[e(658)].x,s[e(658)].y),this.initialSizes.needsUpdate=!0,this[e(545)][e(823)](n+i,s[e(474)]),this[e(545)][e(548)]=!0}copyState(t,e){const s=D;super[s(495)](t,e),this[s(732)](e)}[D(641)](t,e){const s=D;if(t>=this[s(841)])throw new Error(s(831));super[s(641)](t,e),this[s(732)](t)}getPositions(){return this[D(857)]}[D(585)](){return this[D(425)]}getRotations(){return this[D(826)]}[D(647)](){return this[D(469)]}[D(690)](){return this.colors}getGeometry(){return this[D(574)]}[D(530)](t){const e=D;super.allocate(t);const s=(t,e)=>this[zt(873)]?new C(t,e):new O(t,e),n=this[e(776)]*this[e(841)];if(this[e(873)]){const t=new(S[e(520)]),s=new Float32Array(18);this[e(611)]=new(S[e(743)])(s,3),t[e(751)]("position",this.basePositions),this.basePositions.needsUpdate=!0,this[e(611)][e(698)](0,-1,1,0),this[e(611)][e(698)](1,-1,-1,0),this[e(611)][e(698)](2,1,1,0),this[e(611)][e(698)](3,-1,-1,0),this[e(611)][e(698)](4,1,-1,0),this[e(611)][e(698)](5,1,1,0);const n=new Float32Array(12);this[e(460)]=new(S[e(743)])(n,2),t.setAttribute(e(681),this.baseUVs),this.baseUVs[e(548)]=!0,this[e(460)][e(536)](0,0,1),this[e(460)][e(536)](1,0,0),this[e(460)][e(536)](2,1,1),this[e(460)][e(536)](3,0,0),this[e(460)].setXY(4,1,0),this[e(460)][e(536)](5,1,1);const i=new Float32Array(6);this.customIndexes=new(S[e(743)])(i,1),t[e(751)](e(707),this.customIndexes),this[e(628)][e(548)]=!0,this[e(628)][e(823)](0,0),this[e(628)][e(823)](1,1),this[e(628)].setX(2,3),this.customIndexes[e(823)](3,1),this[e(628)].setX(4,2),this[e(628)][e(823)](5,3),this.geometry=(new F)[e(672)](t),this[e(574)][e(616)]=0}else{this.geometry=new(S[e(520)]);const t=new Float32Array(n);this.customIndexes=new(S[e(743)])(t,1),this[e(574)][e(751)](e(707),this.customIndexes),this[e(628)][e(548)]=!0;for(let s=0;s<this.particleCount;s++){const t=s*this[e(776)];this[e(628)][e(823)](t,0),this.customIndexes.setX(t+1,1),this.customIndexes[e(823)](t+2,3),this.customIndexes[e(823)](t+3,1),this[e(628)][e(823)](t+4,2),this[e(628)][e(823)](t+5,3)}}const i=new Float32Array(n),r=new Float32Array(n),o=new Float32Array(4*n),a=new Float32Array(3*n),c=new Float32Array(3*n),h=new Float32Array(3*n),l=new Float32Array(3*n),u=new Float32Array(n),p=new Float32Array(n),m=new Float32Array(2*n),d=new Float32Array(3*n),f=new Float32Array(n),w=new Float32Array(2*n),g=new Float32Array(3*n),y=new Float32Array(n);this[e(857)]=s(a,3),this[e(857)][e(569)](A),this.geometry.setAttribute(e(453),this.positions),this[e(575)]=s(i,1),this[e(575)][e(569)](S[e(863)]),this.geometry[e(751)](e(877),this[e(575)]),this[e(463)]=s(r,1),this.ages[e(569)](A),this.geometry[e(751)](e(883),this.ages),this[e(469)]=s(o,4),this.sequenceElements[e(569)](A),this[e(574)][e(751)](e(533),this.sequenceElements),this[e(872)]=s(c,3),this[e(872)][e(569)](S[e(863)]),this[e(574)][e(751)](e(514),this[e(872)]),this[e(639)]=s(h,3),this[e(639)][e(569)](A),this[e(574)].setAttribute(e(760),this.accelerations),this[e(886)]=s(l,3),this.normals[e(569)](A),this[e(574)][e(751)](e(490),this.normals),this[e(826)]=s(u,1),this.rotations[e(569)](S[e(863)]),this[e(574)][e(751)](e(581),this[e(826)]),this[e(440)]=s(p,1),this.rotationalSpeeds[e(569)](A),this[e(574)][e(751)](e(701),this.rotationalSpeeds),this.sizes=s(m,2),this.sizes.setUsage(S[e(863)]),this.geometry[e(751)](e(610),this[e(425)]),this[e(692)]=s(d,3),this[e(692)].setUsage(A),this[e(574)][e(751)]("color",this.colors),this[e(660)]=s(f,1),this[e(660)][e(569)](A),this[e(574)][e(751)](e(518),this[e(660)]),this[e(464)]=s(w,2),this[e(464)][e(569)](S[e(863)]),this.geometry[e(751)]("initialSize",this[e(464)]),this.initialColors=s(g,3),this[e(430)][e(569)](S[e(863)]),this[e(574)][e(751)](e(591),this.initialColors),this[e(545)]=s(y,1),this[e(545)].setUsage(S[e(863)]),this[e(574)][e(751)](e(474),this[e(545)])}[D(501)](){const t=D;super.dispose(),this.geometry&&(this[t(574)][t(501)](),this[t(574)]=null)}}class ct{constructor(t,e,s,n,i){const r=D;this[r(633)]=t,this.x=e,this.y=s,this.width=n,this[r(787)]=i}}class ht{constructor(t,e){const s=D;this.texture=t,this.texturePath=e,this[s(441)]=[]}[D(445)](){return this[D(573)]}[D(431)](){return this.texturePath}getFrameSetCount(){return this[D(441)].length}addFrameSet(t,e,s,n,i){const r=D;this[r(441)][r(497)](new ct(t,e,s,n,i))}[D(476)](t){const e=D;if(t>=this[e(441)].length)throw new Error(e(467));return this.frameSets[t]}}const lt=class t extends ot{constructor(t,e,s=!1,n=T,i=!0,r){const a=D;super(),w(this,o,function(){const t=D,e=new(S[t(540)]);return function(){const s=t,n=this[s(631)][s(655)]();if(this.calculateBoundingSphereFromBox){n[s(608)]||(n[s(608)]=new(S[s(454)])),n[s(608)].copy(this.boundingBox),!n[s(609)]&&(n[s(609)]=new(S[s(686)])),e.x=(this[s(608)][s(613)].x+this[s(608)][s(507)].x)/2,e.y=(this[s(608)].min.y+this.boundingBox[s(507)].y)/2,e.z=(this[s(608)][s(613)].z+this.boundingBox[s(507)].z)/2;const t=this[s(608)].max.x-e.x,i=this[s(608)][s(507)].y-e.y,r=this.boundingBox.max.z-e.z,o=Math[s(507)](Math[s(507)](t,i),r);n[s(609)][s(699)][s(672)](e),n[s(609)][s(797)]=Math[s(708)](2*o*o)}else n[s(609)]||(n[s(609)]=new(S[s(686)])),n.boundingSphere[s(672)](this.boundingSphere)}}()),this.instanced=t,this.particleStateArray=null,this[a(638)]=null,this.mesh=null,this[a(723)]=e,this[a(895)]=s,this[a(861)]=n,this.boundingBox=new(S[a(454)]),this.boundingSphere=new(S[a(686)]),this.calculateBoundingSphereFromBox=i,this[a(694)]=r}setOwner(t){super[D(834)](t)}[D(705)](){return this[D(631)]}[D(755)](t){const e=D;super[e(755)](t),this[e(638)]&&(this[e(638)].uniforms.simulateInWorldSpace[e(702)]=t?1:0,this[e(638)][e(774)]=!0)}[D(516)](){return this[D(612)]}[D(889)](t){const e=D;this[e(608)][e(672)](t),this.mesh&&this[e(640)]()}[D(695)](t){const e=D;this[e(609)].copy(t),this[e(818)]&&this.updateMeshBounds()}render(t,e,s){e.render(t,s)}[(o=D(640),D(750))](t){const e=D;super[e(750)](t)&&(this[e(631)]=new at,this[e(631)][e(750)](t,this.instanced),this[e(638)]=this[e(661)](null,null,null,!0,!1),this.material[e(861)]=this.blending,this.mesh=new b(this.particleStateArray.getGeometry(),this[e(638)]),this[e(818)][e(839)]=!0,void 0!==this.renderOrder&&(this[e(818)][e(694)]=this.renderOrder),this[e(640)](),this.owner.add(this[e(818)]))}[D(501)](){this[D(631)].dispose()}[D(661)](e,s,n,i,r){const o=D,a=[...Array(16)[o(584)]()][o(617)]((t=>new E));if(this[o(723)])for(let t=0;t<this.atlas[o(739)]();t++){const e=this.atlas[o(476)](t);a[t]=new E(e.x,e.y,e.width,e.height)}const c=this[o(723)]?this[o(723)][o(445)]():null,h=this[o(895)],l=this[o(788)],u=this[o(873)]?1:0,p={atlasFrameSet:{type:o(637),value:a},atlasTexture:{type:"t",value:c},interpolateAtlasFrames:{value:h},uvOffset:{type:"v2",value:new(S[o(677)])},simulateInWorldSpace:{value:l},instanced:{value:u}};return n=n||{},Object[o(902)](n,p),e=e||t.Shader.getVertexShader(r),s=s||t[o(650)].getFragmentShader(i,r),new(S[o(506)])({uniforms:n,vertexShader:e,fragmentShader:s,transparent:!0,alphaTest:1,blending:T,blendDstAlpha:S[o(853)],blendSrcAlpha:S[o(715)],depthTest:!0,depthWrite:!1})}static fromJSON(e){const s=D,n=e[s(723)],i=(new z)[s(904)](n[s(898)]),r=new ht(i,n[s(898)]),o=n[s(844)];for(const t of o)r[s(486)](t[s(633)],t.x,t.y,t[s(458)],t.height);const a=new t(e[s(873)],r,n[s(683)]);return e[s(861)]==s(804)?a[s(861)]=S[s(878)]:a[s(861)]=T,a}[(a=D(650),D(519))](t){const e=D;t=t||(t=>{const e=zt;if(t[e(898)])return t.texturePath;const s=t[e(445)]().source;if(s){const t=s[e(485)];if(t){const s=t[e(850)],n=t.currentSrc;return n[e(670)](s)>=0?n.substr(s.length,n[e(633)]-s[e(633)]):n}}});const s=[];for(let i=0;i<this[e(723)][e(739)]();i++){const t=this.atlas.getFrameSet(i);s[e(497)](t)}let n=e(680);this[e(638)].blending===S[e(878)]&&(n="Additive");return{instanced:this[e(873)],blending:n,atlas:{interpolateFrames:this[e(895)],texturePath:t(this[e(723)]),framesets:s}}}};w(lt,a,{get VertexVars(){const t=D;return[t(748),"uniform vec4 atlasFrameSet[MAX_ATLAS_FRAME_SETS]; \n",t(767),t(534),t(772),t(646),"attribute float customIndex;\n",t(509),t(794),t(718),t(783),t(851),"attribute float alpha;\n",t(662),t(561),"varying vec3 vFragColor;\n",t(792),t(710)][t(653)]("\n")},get FragmentVars(){const t=D;return["uniform int interpolateAtlasFrames; \n",t(546),t(891),t(662),t(561),t(603),"varying float vFragAlpha;\n",t(590)][t(653)]("\n")},getVertexShader(t){const e=D;let s=[e(671),this.VertexVars].join("\n");return t&&(s+="  \n #include <logdepthbuf_pars_vertex> \n"),s+=[e(523),e(505),e(605),e(773),e(829),e(779),"   int maxRowSections = int(1.0 / atlasFrameWidth); \n","   float firstRowX = atlasFrameX + atlasFrameWidth * float(sequenceElement); \n","   float firstRowY = 1.0 - (atlasFrameY + atlasFrameHeight); \n",e(696),"   float SNOverHS = float(nRowSequenceElement) / float(maxRowSections);\n","   int nRowYTile = int(SNOverHS);\n",e(542),e(622),e(806),e(436),"   uv.x = nRow * nRowX + (1.0 - nRow) * firstRowX; \n","   uv.y = nRow * nRowY + (1.0 - nRow) * firstRowY; \n",e(665),"void main()\n","{\n",e(570),e(577),e(879),e(522),e(553),e(629),e(528),e(741),e(618),e(742),e(761),e(452),e(855),e(816),e(487),"   int sequenceNumber = int(sequenceElement.y);\n","   int sequenceStart = int(sequenceElement.z);\n",e(468),e(703),e(789),"   vec2 uv2; \n","   vSequenceElementT = sequenceElementF - float(int(sequenceElementF)); \n","   int firstSequenceElement = int(sequenceElementF); \n",e(730),e(693),e(549),"       getUV(secondSequenceElement, sequenceNumber, atlasFrames, uv2); \n",e(816),e(505),"   float atlasFrameHeight = atlasFrames.w; \n","   float rotMag = rotation; \n",e(444),e(462),"   float upperSide; \n",e(842),"       rightSide = step(2.0, customIndex); \n",e(439),"       upperSide = upperSideStep.x + upperSideStep.y;\n",e(869),e(880),e(657),"   } \n","   float uvXOffset = atlasFrameWidth * rightSide; \n",e(426),e(659),e(842),e(557),e(600),"       float dLeftV = rotVecStep.y - rotVecStep.x; \n",e(558),e(482),e(480),e(869),"       rotVec = position.xy; \n ",e(816),e(763),e(437),e(871),"   vFragColor = color; \n",e(488)].join("\n"),t&&(s+=e(580)),s+=e(665),s},getFragmentShader(t,e){const s=D;let n=s(537)+this[s(543)]+"\n";return e&&(n+="  \n #include <logdepthbuf_pars_fragment> \n"),n+=s(527),e&&(n+=s(858)),n+=t?[s(513),s(801),s(770),s(820),s(757)].join("\n"):[s(856),s(801),s(770),s(820),s(757)][s(653)]("\n"),n+="}\n",n}});let ut=lt;class pt{constructor(){const t=D;this[t(713)]=0,this[t(479)]=0,this.emitCount=0,this[t(883)]=0,this[t(815)]=0,this.activeCount=0,this.maximumActiveParticles=0}update(t){return this[D(500)](t),0}[D(500)](t){const e=D;return this[e(883)]+=t,this.timeActive=Math.max(this[e(883)]-this[e(713)],0),this[e(883)]>=this[e(713)]&&(0==this[e(479)]||this.timeActive<=emissionDuration)}[D(685)](t){this.emitCount+=t}}class mt extends pt{constructor(){const t=D;super(),this[t(438)]=0,this[t(777)]=0}}class dt extends mt{constructor(t=0){const e=D;super(),this[e(771)]=t}[D(624)](t){const e=D;if(this.internalUpdate(t)){const t=this[e(771)]*this[e(815)]-this[e(446)];if(t>=1){const s=Math[e(728)](t);return this.updateEmitCount(s),s}}return 0}static[D(489)](t){const e=D,s=new dt;return s[e(771)]=t[e(771)]||0,s}[D(519)](){return{emissionRate:this[D(771)]}}}const ft=class t{constructor(t){this[D(512)]=t}static getTypeID(e){const s=D;let n=t.Default;return e===S[s(677)]?n=t.Vector2:e===y?n=t[s(540)]:e===E?n=t[s(531)]:e===S[s(721)]&&(n=t[s(721)]),n}static[(c=D(614),h=D(677),l=D(540),u=D(531),D(769))](t,e){const s=D;switch(e){case S[s(677)]:return(new x).fromArray(t);case S[s(540)]:return(new(S[s(540)]))[s(635)](t);case E:return(new(S[s(531)]))[s(635)](t);case S[s(721)]:return(new(S[s(721)]))[s(635)](t)}return t}};w(ft,c,new ft(D(614))),w(ft,h,new ft(D(677))),w(ft,l,new ft(D(540))),w(ft,u,new ft(D(531))),w(ft,"Color",new ft("Color"));let wt=ft;class gt{constructor(t){const e=D;this[e(601)]=t,this[e(791)]=wt[e(547)](t)}}class St extends gt{constructor(t,e,s,n,i,r){const o=D;super(t),this[o(596)]=e,this[o(867)]=s,this[o(843)]=n,this[o(881)]=i,this[o(529)]=r}[D(568)](t){const e=D,s=Math[e(845)]()*this[e(843)];switch(this[e(791)]){case wt.Default:t=Math[e(845)]()*this[e(596)]+this[e(867)],this.normalize&&(t=t<0?-1:1);break;case wt[e(677)]:t.set(this.generateForElement(s,"x"),this.generateForElement(s,"y"));break;case wt[e(540)]:t.set(this[e(676)](s,"x"),this[e(676)](s,"y"),this[e(676)](s,"z"));break;case wt[e(531)]:t.set(this[e(676)](s,"x"),this.generateForElement(s,"y"),this[e(676)](s,"z"),this[e(676)](s,"w"))}return this[e(529)]&&t[e(529)](),t}[D(676)](t,e){const s=D;return t+Math.random()*this[s(596)][e]+this[s(867)][e]+this[s(881)]}[D(734)](){const t=D;return new St(this[t(601)],this.range,this[t(867)],this[t(843)],this[t(881)],this.normalize)}static getParameterJSON(t){const e=D;return t instanceof S[e(677)]||t instanceof y||t instanceof S[e(531)]||t instanceof v?t[e(556)]():t}static[D(489)](t){const e=D;return new St(t[e(689)],wt[e(769)](t[e(596)],t.type),wt.loadJSONParameter(t[e(867)],t.type),t[e(843)]||0,t[e(881)]||0,t.normalize)}[D(519)](t){const e=D,s={range:St[e(802)](this[e(596)]),offset:St[e(802)](this[e(867)]),uniformRange:this[e(843)],uniformOffset:this.uniformOffset},n=t[e(615)](this[e(596)].constructor);return null!=n&&(s[e(689)]=n),{type:t.getTypePath(St),params:s}}}class yt extends Z{constructor(t,e,s,n,i){const r=D;super(),this[r(596)]=t,this.offset=e,this[r(843)]=s,this[r(881)]=n,this[r(529)]=i,this[r(602)]=new St(0,this.range,this[r(867)],this[r(843)],this.uniformOffset,this.normalize)}[D(598)](t){const e=D;t[e(877)]=this[e(602)][e(568)]()}static[D(489)](t,e){const s=D;return new yt(e[s(596)],e[s(867)],e.uniformRange,e[s(881)],e[s(529)])}[D(519)](){const t=D;return{range:this[t(596)],offset:this[t(867)],uniformRange:this[t(843)],uniformOffset:this.uniformOffset,normalize:this[t(529)]}}}class xt extends Z{constructor(t){super(),this.generator=t.clone()}[D(598)](t){const e=D;t[e(581)]=this[e(602)].generate(t[e(581)])}static[D(489)](t,e){const s=D,n=e[s(602)][s(689)][s(489)](e[s(602)].params);return new xt(n)}[D(519)](t){const e=D;return{generator:this[e(602)][e(519)](t)}}}class vt extends Z{constructor(t,e,s,n,i){const r=D;super(),this[r(596)]=t,this.offset=e,this[r(843)]=s,this.uniformOffset=n,this[r(529)]=i,this[r(602)]=new St(0,this[r(596)],this[r(867)],this[r(843)],this[r(881)],this[r(529)])}[D(598)](t){const e=D;t[e(701)]=this[e(602)][e(568)]()}static[D(489)](t,e){const s=D;return new vt(e[s(596)],e[s(867)],e[s(843)],e[s(881)],e[s(529)])}[D(519)](){const t=D;return{range:this[t(596)],offset:this[t(867)],uniformRange:this[t(843)],uniformOffset:this[t(881)],normalize:this[t(529)]}}}class It extends Z{constructor(t,e){const s=D;super(),this[s(550)]=new St(y,t,e,0,0,!1)}[D(598)](t){const e=D;this[e(550)][e(568)](t[e(572)])}static[D(489)](t,e){const s=D;return new It((new(S[s(540)]))[s(635)](e[s(596)]),(new(S[s(540)]))[s(635)](e[s(867)]))}[D(519)](){const t=D;return{range:this[t(550)][t(596)].toArray(),offset:this.randomGenerator[t(867)][t(556)]()}}}class Pt extends Z{constructor(t){const e=D;super(),this.generator=t[e(734)]()}[D(598)](t){const e=D;this[e(602)].generate(t[e(610)]),t.initialSize.copy(t[e(610)])}static[D(489)](t,e){const s=D,n=e[s(602)][s(689)][s(489)](e[s(602)].params);return new Pt(n)}[D(519)](t){const e=D;return{generator:this.generator[e(519)](t)}}}class Ft extends Z{constructor(t,e,s,n,i=!0){const r=D;super(),this.directionGenerator=new St(S[r(540)],t,e,0,0,!0),this[r(664)]=new St(0,s,n,0,0,!1),this[r(551)]=i}[D(598)](t){const e=D;this[e(738)][e(568)](t[e(514)]),this[e(551)]&&t[e(514)][e(529)](),t[e(514)][e(503)](this.speedGenerator[e(568)]())}static[D(489)](t,e){const s=D;return new Ft((new(S[s(540)]))[s(635)](e[s(596)]),(new(S[s(540)])).fromArray(e[s(867)]),e[s(838)],e[s(724)])}[D(519)](){const t=D;return{range:this[t(738)][t(596)][t(556)](),offset:this[t(738)].offset[t(556)](),speedRange:this[t(664)].range,speedOffset:this.speedGenerator[t(867)]}}}class At extends Z{constructor(t,e=!1){const s=D;super(),this[s(795)](t),this[s(626)]=e}[D(795)](t){this[D(663)]=t}[D(598)](t){const e=D,s=this[e(663)][e(627)](),n=s[e(633)]*Math[e(845)](),i=s[Math.floor(n)],r=this[e(663)][e(785)](i),o=t.sequenceElement;this[e(626)]?o.x=r.length-1:o.x=r.start,o.y=r.id,o.z=r[e(727)],o.w=r[e(633)],t[e(621)]=Y[e(745)]}static[D(489)](t,e){const s=D;return new At(t[s(478)](),e[s(626)])}[D(519)](){return{reverse:this.reverse}}}class Tt extends ${constructor(t,e,s=!1,n=!1){const i=D;super(),this[i(663)]=t,this[i(524)]=e,this.loop=s,this[i(626)]=n}[D(828)](t,e){const s=D,n=t.sequenceElement,i=this[s(663)][s(785)](n.y),r=e/this.speed;if(this.reverse){if(n.x-=r,n.x<i.start&&(n.x=i[s(727)]+i[s(633)],!this.loop))return!1}else if(n.x+=r,n.x>=i.start+i.length&&(n.x=i[s(727)],!this[s(564)]))return!1;return!0}static fromJSON(t,e){const s=D;return new Tt(t[s(478)](),e[s(524)],e[s(564)],e[s(626)])}[D(519)](){const t=D;return{speed:this[t(524)],loop:this[t(564)],reverse:this[t(626)]}}}class bt{constructor(t,e){w(this,p,function(){const t=D,e={lowerIndex:0,upperIndex:0,localT:0},s=new(S[t(677)]),n=new(S[t(540)]),i=new(S[t(531)]),r=new v,o=s=>(n,i,r,o)=>{const a=t;bt[a(498)](r,n,e),s[a(672)](i[e[a(674)]])[a(503)](e[a(740)]),o[a(672)](i[e[a(854)]])[a(503)](1-e[a(740)])[a(756)](s)};return function(a){const c=t;switch(a){case wt[c(614)]:return(t,s,n)=>{const i=c;return bt[i(498)](n,t,e),(1-e[i(740)])*s[e.lowerIndex]+e.localT*s[e[i(674)]]};case wt[c(677)]:return o(s);case wt[c(540)]:return o(n);case wt.Vector4:return o(i);case wt[c(721)]:return o(r)}}}());const s=D;this[s(830)]=[],this[s(897)]=[],this[s(559)]=wt[s(547)](t),this[s(700)]=e||this[s(735)](this[s(559)])}*[Symbol[D(744)]](){const t=D;let e=0;for(;e<this[t(821)]();)yield{element:this[t(830)][e],tValue:this.tValues[e]},e++}[D(821)](){const t=D;return this.elements[t(633)]}getElement(t){const e=D;if(t>=this[e(821)]())throw new Error(e(691));return this.elements[t]}getTValue(t){const e=D;if(t>=this[e(821)]())throw new Error(e(525));return this.tValues[t]}[D(864)](t,e){const s=D;this[s(830)][s(497)](t),this[s(897)][s(497)](e)}[D(526)](t,e){const s=D;return this.interpolator(t,this[s(830)],this[s(897)],e)}static[(p=D(735),D(498))](t,e,s){const n=D,i=t[n(633)];if(0===i)return s[n(854)]=-1,s[n(674)]=-1,void(s[n(740)]=-1);let r=0,o=-1,a=0;for(let l=0;l<i&&(r=t[l],!(r>e));l++)o++,a++;s[n(854)]=tt[n(656)](o,0,i-1),s.upperIndex=tt[n(656)](a,0,i-1);const c=t[o],h=t[a];s.localT=(e-c)/(h-c)}}class Et extends ${constructor(t,e=!1){const s=D;super(),this[s(729)]=e,this[s(714)]=new bt(t)}[D(864)](t,e){const s=D;this[s(714)][s(864)](t,e)}[D(817)](t){const e=D;for(const s of t)this[e(714)].addElement(s[0],s[1])}[D(652)](t,e){const s=D;for(const n of e){const[...e]=n[0];this[s(714)][s(864)](new t(...e),n[1])}}[D(786)](t,e){const s=D;let n=0;switch(t[s(621)]){case Y[s(896)]:n=0!=t[s(877)]?t.age/t[s(877)]:t[s(883)];break;case Y[s(745)]:n=t[s(533)].x/t[s(533)].w}return this[s(714)][s(526)](n,e)}}function zt(t,e){const s=K();return(zt=function(t,e){return s[t-=425]})(t,e)}class Rt extends Et{constructor(t=!1){super(0,t)}[D(762)](t){super[D(817)](t)}[D(828)](t){const e=D;return this[e(729)]?t.alpha=t[e(474)]*this.getInterpolatedValue(t,t[e(518)]):t[e(518)]=this[e(786)](t,t[e(518)]),!0}static[D(489)](t,e){return new Rt(e.relativeToInitialValue)}toJSON(){const t=D;return{params:{relativeToInitialValue:this[t(729)]},elements:[...this[t(714)]].map((e=>[e[t(606)],e[t(720)]]))}}}class Ct extends Et{constructor(t=!1){super(S[D(677)],t),w(this,m,function(){const t=D,e=new(S[t(677)]);return function(s){const n=t;return this[n(786)](s,e),this[n(729)]?s.size[n(884)](s[n(658)].x*e.x,s[n(658)].y*e.y):s.size[n(672)](e),!0}}())}[D(762)](t){const e=D;super.addElementsFromElementClassAndParameters(S[e(677)],t)}static[(m=D(828),D(489))](t,e){return new Ct(e[D(729)])}toJSON(){const t=D;return{params:{relativeToInitialValue:this.relativeToInitialValue},elements:[...this[t(714)]][t(617)]((e=>[e.element[t(556)](),e.tValue]))}}}class Ot extends Et{constructor(t=!1){super(v,t),w(this,d,function(){const t=D,e=new(S[t(721)]);return function(s){const n=t;return this[n(786)](s,e),this.relativeToInitialValue?s.color[n(465)](s[n(591)].r*e.r,s.initialColor.g*e.g,s[n(591)].b*e.b):s[n(604)].copy(e),!0}}())}[D(762)](t){const e=D;super.addElementsFromElementClassAndParameters(S[e(721)],t)}static[(d=D(828),D(489))](t,e){return new Ot(e[D(729)])}[D(519)](){const t=D;return{params:{relativeToInitialValue:this[t(729)]},elements:[...this[t(714)]][t(617)]((e=>[e[t(606)][t(556)](),e[t(720)]]))}}}class Vt extends ${constructor(t){const e=D;super(),this.generator=t[e(734)]()}[D(762)](t){super.addElementsFromElementClassAndParameters(THREE.Vector3,t)}[D(828)](t){const e=D;return this[e(602)].generate(t[e(760)]),!0}static[D(489)](t,e){const s=D,n=e[s(602)].type[s(489)](e.generator[s(887)]);return new Vt(n)}[D(519)](t){const e=D;return{generator:this[e(602)][e(519)](t)}}}class qt extends gt{constructor(t,e,s,n,i,r,o,a,c,h,l,u){const p=D;super(S[p(540)]),this[p(832)]=t,this[p(481)]=e,this[p(499)]=s,this.offsetPhi=n,this[p(885)]=i,this[p(544)]=r,this.scaleX=o,this.scaleY=a,this.scaleZ=c,this[p(790)]=h,this.offsetY=l,this.offsetZ=u,this[p(726)]=(new(S[p(540)]))[p(884)](0,1,0)}generate(t){const e=D;this[e(726)][e(884)](0,1,0);const s=Math[e(845)]()*this[e(832)]+this.offsetTheta,n=Math[e(845)]()*this[e(499)]+this[e(836)],i=Math[e(684)](s),r=Math[e(865)](s),o=Math[e(684)](n),a=Math[e(865)](n);t[e(884)](i,0,-r),t[e(503)](o),this[e(726)].multiplyScalar(a),t[e(756)](this[e(726)]),t[e(529)]();const c=Math[e(845)]()*this[e(885)]+this[e(544)];t.multiplyScalar(c),t.x*=this[e(560)],t.y*=this[e(667)],t.z*=this[e(493)],t.x+=this[e(790)],t.y+=this[e(736)],t.z+=this[e(905)]}[D(734)](){const t=D;return new qt(this.rangeTheta,this[t(481)],this.rangePhi,this.offsetPhi,this.rangeRadius,this[t(544)],this[t(560)],this[t(667)],this[t(493)],this[t(790)],this.offsetY,this[t(905)])}static[D(489)](t){const e=D;return new qt(t[e(832)],t.offsetTheta,t.rangePhi,t[e(836)],t[e(885)],t[e(544)],t[e(560)],t.scaleY,t.scaleZ,t[e(790)],t[e(736)],t[e(905)])}[D(519)](t){const e=D;return{type:t[e(615)](qt),params:{rangeTheta:this[e(832)],offsetTheta:this[e(481)],rangePhi:this.rangePhi,offsetPhi:this[e(836)],rangeRadius:this[e(885)],offsetRadius:this[e(544)],scaleX:this[e(560)],scaleY:this[e(667)],scaleZ:this[e(493)],offsetX:this.offsetX,offsetY:this[e(736)],offsetZ:this[e(905)]}}}}class Mt{constructor(){}}class Nt extends Mt{constructor(t,e,s,n,i,r,o=void 0){const a=D;super(),this[a(632)]=null,this[a(443)]=null,this[a(894)]=performance.now()/1e3,this[a(579)]=this[a(894)],this.lastPositionFlickerTime=this[a(894)],this[a(811)]=1,this.nextIntensityAdjuster=1,this[a(814)]=new(S[a(540)]),this.positionAdjuster=new y,this[a(592)]=1,this.intensityFlux=2,this[a(483)]=t,this[a(750)](t,e,s,n,i,r,o)}init(t,e,s,n,i,r,o=void 0){const a=D;this[a(632)]=new R,t.add(this[a(632)]),n=n||new v,i=i||0,null!=r&&null!=r||(r=2);const c=!!o;return this.light=new(S[a(502)])(16777215,2,0,1),this[a(443)].color[a(672)](n),this.light[a(470)]=i,this.light[a(644)]=r,this[a(443)][a(866)]=c,c&&(this.light[a(716)][a(669)][a(458)]=o.mapSize||512,this[a(443)][a(716)][a(669)][a(787)]=o[a(669)]||512,this.light[a(716)][a(461)][a(576)]=o.cameraNear||.5,this[a(443)].shadow[a(461)][a(848)]=o.cameraFar||500,this[a(443)][a(716)][a(571)]=o[a(571)]||1e-4,this[a(443)][a(716)][a(797)]=o[a(719)]||1),this.owner[a(756)](this[a(443)]),this[a(592)]=e,this[a(450)]=s,this[a(443)]}[D(501)](){this[D(483)].remove(this.owner)}[D(847)](){return this[D(443)]}[D(805)](t){this.intensity=t}[D(624)](t){const e=D,s=t-this[e(579)],n=1/8,i=this[e(450)];if(s>n){this[e(579)]=t;let s=1+2*(Math[e(845)]()-.5)*i*n;const r=s-this[e(811)];s=this.lastIntensityAdjuster+r,this.lastIntensityAdjuster=this.nextIntensityAdjuster,this[e(753)]=tt[e(656)](s,.25,1.5)}else{const t=s/n,i=(1-t)*this[e(811)]+t*this[e(753)];this[e(443)][e(592)]=i*this[e(592)]}if(t-this[e(583)]>.0625){this[e(583)]=t;const s=t-this[e(894)];this[e(675)][e(884)](Math[e(845)]()-.5,Math[e(845)]()-.5,Math[e(845)]()-.5),this[e(675)][e(503)](s),this[e(675)][e(756)](this[e(814)]),this[e(675)][e(503)](.5),this[e(632)][e(572)][e(672)](this.positionAdjuster),this[e(814)][e(672)](this[e(675)]),this[e(894)]=t}}}class _t{constructor(){const t=D;this[t(824)]={default:{}},this[t(586)]={},this[t(793)]=0}[D(515)](t,e){const s=D;this[s(722)](s(712),t,e)}[D(722)](t,e,s){const n=D;if(!this[n(824)][t])throw new Error(n(868));if(this.jsonTypes[t][e])throw new Error(n(901));this[n(433)](s,e,t)&&(this[n(824)][t][e]=s)}[D(511)](t,e){const s=D;if(this.jsonTypes[t])throw new Error(s(687));this[s(824)][t]=e;for(const n in e)if(!e.hasOwnProperty||e[s(893)](n)){const s=e[n];this.checkAndAddTypeName(s,n,t)}}checkAndAddTypeName(t,e,s){const n=D;if(typeof t===n(554)){const i=this[n(793)]++;t[n(678)]=i,this.jsonTypeNames[i]={namespace:s,typeName:e}}}[D(472)](t,e){const s=D;if(!this.jsonTypes[t])throw new Error(s(803));if(!this[s(824)][t][e])throw new Error(s(746));return this[s(824)][t][e]}getTypeNames(t){const e=D;return this[e(586)][t[e(678)]]}getTypePath(t){const e=D,s=this[e(870)](t);if(s)return s[e(840)]+"."+s[e(682)]}[D(688)](t){const e=D,s=t[e(835)]("."),n=s[0];s[e(567)](0,1);return{namespace:n,typeName:s[e(653)](".")}}[D(494)](t){const e=D,{namespace:s,typeName:n}=this[e(688)](t);return this.getType(s,n)}}function Ut(t){function e(t){const s=zt;if(typeof t===s(679))return function(t){}.constructor(s(784))[s(477)](s(517));1!==(""+t/t)[s(633)]||t%20==0?function(){return!0}.constructor(s(837)+s(449)).call("action"):function(){return!1}[s(532)](s(837)+s(449))[s(477)](s(642)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const jt=Object.freeze(Object.defineProperty({__proto__:null,AccelerationOperator:Vt,AnimatedSpriteRenderer:ut,Atlas:ht,BaseParticleStateInitializer:H,BaseParticleStateOperator:Q,BoxPositionInitializer:It,ColorInterpolatorOperator:Ot,ConstantParticleEmitter:dt,FlickerLight:Nt,JSONTypeStore:_t,LifetimeInitializer:yt,Manager:rt,OpacityInterpolatorOperator:Rt,ParticleStateArray:k,ParticleSystem:it,ParticleSystemState:nt,RandomGenerator:St,RandomVelocityInitializer:Ft,Renderer:ot,RotationInitializer:xt,RotationalSpeedInitializer:vt,SequenceInitializer:At,SequenceOperator:Tt,SizeInitializer:Pt,SizeInterpolatorOperator:Ct,SphereRandomGenerator:qt},Symbol.toStringTag,{value:"Module"})),Bt=Yt;!function(t,e){const s=Yt,n=Xt();for(;;)try{if(560165===parseInt(s(108))/1+-parseInt(s(137))/2+-parseInt(s(167))/3+-parseInt(s(105))/4+-parseInt(s(157))/5*(-parseInt(s(177))/6)+parseInt(s(149))/7*(-parseInt(s(130))/8)+parseInt(s(111))/9*(parseInt(s(155))/10))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Wt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Yt(112)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Wt(this,(function(){const t=Yt,e=new RegExp(t(171)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=kt(t(176));e[t(107)](n+t(118))&&s[t(107)](n+"input")?kt():n("0")}))()}();const Dt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Yt(112)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Xt(){const t=["__proto__","addNamespace","SequenceOperator","85446mvKYkR","setSimulateInWorldSpace","FlickerLight","return (function() ","SizeInitializer","addParticleStateOperator","SequenceInitializer","addFrameSet","info","setEmitter","ParticleSystem","BoxPositionInitializer","7iRNXiR","OpacityInterpolatorOperator","TextureLoader","bind","JSONTypeStore","AnimatedSpriteRenderer","497580iErOYp","Vector2","42975zfrNnT","AccelerationOperator","addElementsFromParameters","addParticleSequence","console","start","LifetimeInitializer","fireF","action","RotationalSpeedInitializer","1024257RoRxSI","stateObject","addParticleSystem","length","function *\\( *\\)","log","Object3D","prototype","trace","init","30BRHQQc","load","debu","addParticleStateInitializer","call","addElements","position","3309388sLUmFf","copy","test","383055HLScTo","AdditiveBlending","RandomGenerator","333ZShTPm","apply","add","counter","RandomVelocityInitializer","ConstantParticleEmitter","constructor","chain","table","scale","value","exception","SizeInterpolatorOperator","gger","Color","ColorInterpolatorOperator","setRGB","RotationInitializer","getParticleSequences","3963376iTUrrs","Vector3","toString","Atlas"];return(Xt=function(){return t})()}function Yt(t,e){const s=Xt();return(Yt=function(t,e){return s[t-=104]})(t,e)}Dt(void 0,(function(){const t=Yt,e=function(){const t=Yt;let e;try{e=Function(t(140)+'{}.constructor("return this")( ));')()}catch(s){e=window}return e}(),s=e.console=e[t(161)]||{},n=[t(172),"warn",t(145),"error",t(122),t(119),t(175)];for(let i=0;i<n[t(170)];i++){const e=Dt[t(117)][t(174)][t(152)](Dt),r=n[i],o=s[r]||e;e[t(134)]=Dt[t(152)](Dt),e.toString=o[t(132)][t(152)](o),s[r]=e}}))();const Lt=M({__name:Bt(164),props:{position:{default:[0,0,0]},scale:{default:1}},setup(t){const e=Bt,s=t,n=new rt,i=new(jt[e(153)]);i[e(135)]("THREE",S),i[e(135)]("Photons",jt);const{renderer:r,camera:o,scene:a}=V(),c=new(S[e(131)])(...s[e(104)]);n[e(169)](((t,s)=>{const n=e,i=new(S[n(173)]);i[n(104)][n(106)](s);const o="./plugins/digitalCity/image/fireF/ember.png",a=(new(S[n(151)])).load(o),c=new(jt[n(133)])(a,o);c.addFrameSet(1,0,0,1,1);const h=new(jt[n(154)])(!0,c,!0,S[n(109)]),l=new it(i,h,r[n(121)]);l.init(150),l[n(146)](new(jt[n(116)])(6));const u=new(jt[n(110)])(x,new(S[n(156)])(0,0),new(S[n(156)])(.15*t,.15*t),0,0,!1);l.addParticleStateInitializer(new(jt[n(163)])(3,1,0,0,!1)),l[n(180)](new(jt[n(141)])(u)),l[n(180)](new It(new y(.05*t,0,.05*t),new(S[n(131)])(-.025*t,0,-.025*t))),l[n(180)](new(jt[n(115)])(new(S[n(131)])(.4*t,.5*t,.4*t),new(S[n(131)])(-.2*t,.8*t,-.2*t),.6*t,.8*t,!1));l[n(142)](new(jt[n(150)]))[n(182)]([[0,0],[.7,.25],[.9,.75],[0,1]]);l[n(142)](new(jt[n(126)])(!0))[n(159)]([[[1,.7,0],0],[[1,.6,0],.5],[[1,.4,0],1]]);const p=new qt(2*Math.PI,0,Math.PI,-Math.PI/2,20,-8,t,t,t,0,0,0);return l[n(142)](new(jt[n(158)])(p)),l[n(138)](!0),l[n(162)](),l})(s.scale,c)),n[e(169)](((t,s)=>{const n=e,i=new R;i[n(104)][n(106)](s);const o="./plugins/digitalCity/image/fireF/base_flame.png",a=(new z)[n(178)](o),c=new(jt[n(133)])(a,o);c[n(144)](18,0,0,.125,.25);const h=new(jt[n(154)])(!0,c,!0),l=new it(i,h,r[n(121)]);l[n(176)](50),l[n(146)](new dt(10)),l[n(160)](0,18);const u=l.getParticleSequences();l[n(180)](new(jt[n(163)])(0,0,0,0,!1)),l[n(180)](new(jt[n(128)])(new(jt[n(110)])(0,Math.PI/2,-Math.PI/2,0,0,!1))),l.addParticleStateInitializer(new(jt[n(166)])(1,-1,0,0,!1)),l[n(180)](new(jt[n(141)])(new(jt[n(110)])(S[n(156)],new(S[n(156)])(.25*t,.25*t),new(S[n(156)])(.5*t,.5*t),0,0,!1))),l[n(180)](new(jt[n(148)])(new y(.05*t,0,.05*t),new y(-.025*t,0,-.025*t))),l[n(180)](new Ft(new(S[n(131)])(.05*t,.4*t,.05*t),new y(-.025*t,.8*t,-.025*t),.35*t,.5*t,!1)),l[n(180)](new(jt[n(143)])(u)),l[n(142)](new(jt[n(136)])(u,.07,!1));l[n(142)](new(jt[n(150)]))[n(182)]([[0,0],[.3,.25],[.3,.5],[0,1]]);l[n(142)](new(jt[n(123)])(!0)).addElementsFromParameters([[[.6,.6],0],[[1,1],.4],[[1,1],1]]);return l[n(142)](new(jt[n(126)])(!0)).addElementsFromParameters([[[1,1,1],0],[[1.5,1.5,1.5],.5],[[1,1,1],1]]),l[n(142)](new(jt[n(158)])(new(jt[n(110)])(S[n(131)],new y(0,0,0),new(S[n(131)])(0,1.5*t,0),0,0,!1))),l.setSimulateInWorldSpace(!0),l[n(162)](),l})(s[e(120)],c)),n[e(169)](((t,s)=>{const n=e,i=new(S[n(173)]);i[n(104)][n(106)](s);const o="./plugins/digitalCity/image/fireF/bright_flame.png",a=(new(S[n(151)]))[n(178)](o),c=new(jt[n(133)])(a,o);c[n(144)](16,0,0,212/1024,.25);const h=new(jt[n(154)])(!0,c,!0),l=new(jt[n(147)])(i,h,r[n(121)]);l.init(20),l.setEmitter(new(jt[n(116)])(5)),l[n(160)](0,16);const u=l[n(129)]();l[n(180)](new(jt[n(163)])(0,0,0,0,!1)),l[n(180)](new(jt[n(128)])(new(jt[n(110)])(0,Math.PI,-Math.PI/2,0,0,!1))),l[n(180)](new(jt[n(166)])(Math.PI/2,-Math.PI/4,0,0,!1)),l[n(180)](new Pt(new St(S[n(156)],new x(0,0),new(S[n(156)])(0,0),.2*t,.65*t,!1))),l[n(180)](new(jt[n(148)])(new(S[n(131)])(.1*t,0,.1*t),new(S[n(131)])(-.05*t,0,-.05*t))),l.addParticleStateInitializer(new(jt[n(115)])(new y(.02*t,.4*t,.02*t),new y(-.01*t,.4*t,-.01*t),.1*t,.2*t,!1)),l[n(180)](new(jt[n(143)])(u)),l[n(142)](new(jt[n(136)])(u,.1,!1));l[n(142)](new(jt[n(150)]))[n(182)]([[0,0],[.6,.2],[.5,.75],[0,1]]);l[n(142)](new(jt[n(123)])(!0))[n(159)]([[[.3,.3],0],[[1,1],.4],[[1,1],.55],[[.65,.65],.75],[[.1,.1],1]]);return l[n(142)](new(jt[n(126)])(!0)).addElementsFromParameters([[[1,1,1],0],[[2,2,2],.3],[[2,2,2],.4],[[.9,.6,.3],.65],[[.75,0,0],1]]),l[n(142)](new Vt(new(jt[n(110)])(S[n(131)],new(S[n(131)])(0,0,0),new(S[n(131)])(0,1.5*t,0),0,0,!1))),l[n(138)](!0),l[n(162)](),l})(s[e(120)],c)),n.addComponent(((t,s=10)=>{const n=e,i=new(S[n(173)]);a[n(121)][n(113)](i),i[n(104)][n(106)](t);return new(jt[n(139)])(i,s,2,(new(S[n(125)]))[n(127)](1,.8,.4),0,1,{mapSize:1024,cameraNear:.1,cameraFar:5e3,bias:9e-6,edgeRadius:3})})(c,100));const{onBeforeLoop:h}=q();return h((()=>{const t=e;n.update(),n.render(r[t(121)],o[t(121)])})),(t,e)=>null}});function kt(t){function e(t){const s=Yt;if("string"==typeof t)return function(t){}[s(117)]("while (true) {}")[s(112)](s(114));1!==(""+t/t).length||t%20==0?function(){return!0}[s(117)](s(179)+s(124))[s(181)](s(165)):function(){return!1}[s(117)]("debu"+s(124))[s(112)](s(168)),e(++t)}try{if(t)return e;e(0)}catch(s){}}const Jt=Ht;!function(t,e){const s=Ht,n=Qt();for(;;)try{if(814767===-parseInt(s(124))/1*(-parseInt(s(136))/2)+-parseInt(s(133))/3+-parseInt(s(118))/4+-parseInt(s(106))/5*(parseInt(s(114))/6)+-parseInt(s(107))/7+-parseInt(s(135))/8*(parseInt(s(123))/9)+parseInt(s(102))/10*(parseInt(s(129))/11))break;n.push(n.shift())}catch(i){n.push(n.shift())}}();const Gt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s[Ht(142)](e,arguments);return s=null,t}}:function(){};return t=!1,n}}();!function(){Gt(this,(function(){const t=Ht,e=new RegExp(t(109)),s=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),n=Kt(t(111));e.test(n+"chain")&&s.test(n+t(130))?Kt():n("0")}))()}();const Zt=function(){let t=!0;return function(e,s){const n=t?function(){if(s){const t=s.apply(e,arguments);return s=null,t}}:function(){};return t=!1,n}}();function Ht(t,e){const s=Qt();return(Ht=function(t,e){return s[t-=101]})(t,e)}Zt(void 0,(function(){const t=Ht;let e;try{e=Function("return (function() "+t(108)+");")()}catch(i){e=window}const s=e[t(127)]=e.console||{},n=[t(117),t(131),t(138),t(104),t(113),"table","trace"];for(let r=0;r<n.length;r++){const e=Zt[t(137)].prototype.bind(Zt),i=n[r],o=s[i]||e;e[t(112)]=Zt[t(139)](Zt),e[t(125)]=o[t(125)][t(139)](o),s[i]=e}}))();const $t=M({__name:Jt(141),setup(t){const e=N();return _((()=>{const t=Ht;e.value&&(e[t(105)][t(110)][t(121)]?e[t(105)][t(110)][t(121)][t(140)][t(120)][t(105)][t(132)][t(101)](580,360,500):e[t(105)][t(110)][t(122)]&&e[t(105)][t(110)][t(122)][t(132)][t(101)](580,360,500))})),(t,s)=>(U(),j(g,{ref_key:"pagesShowRef",ref:e},{ability:B((()=>[W(Lt,{position:[0,20,10],scale:40})])),_:1},512))}});function Kt(t){function e(t){const s=Ht;if(typeof t===s(119))return function(t){}[s(137)]("while (true) {}")[s(142)]("counter");1!==(""+t/t)[s(103)]||t%20==0?function(){return!0}.constructor(s(128)+"gger")[s(126)](s(134)):function(){return!1}[s(137)](s(128)+s(115))[s(142)](s(116)),e(++t)}try{if(t)return e;e(0)}catch(s){}}function Qt(){const t=["__proto__","exception","1925070gcolfr","gger","stateObject","log","571416bdwZPo","string","camera","tcRef","perspectiveCameraRef","33309BBFgkn","1jrkBhi","toString","call","console","debu","14999501Vvnhnz","input","warn","position","1177365sEvegj","action","1816WYWoKj","3044578CFEjVL","constructor","info","bind","context","fireF","apply","set","10GpbCKM","length","error","value","5ZSVTPf","2623824slydCZ",'{}.constructor("return this")( )',"function *\\( *\\)","$refs","init"];return(Qt=function(){return t})()}export{$t as default};
