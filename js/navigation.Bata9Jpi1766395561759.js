import{N as e,K as a}from"./@tresjs.BAA1xUmy1766395561759.js";import{a1 as s,k as t,g as n,W as i,c2 as o,av as l,dS as r,dX as m,ak as c,o as d,z as p,u,a6 as f,m as g,d as v,V as h}from"./three.F31Lz30M1766395561759.js";import{d as w,q as b,a3 as j,G as _,o as k,ac as x,H as y,u as S,a as C,r as E,g as z,h as P,e as R,I as T,b as A,a9 as H,aa as I,ah as W,m as q}from"./@vue.BxPWGdWw1766395561759.js";import{_ as D}from"./@fesjs.BPcJ-D-i1766395561759.js";import"./postprocessing.DuhH-bFK1766395561759.js";import"./@vueuse.KwrREqpH1766395561759.js";import"./vue-router.dsrDlQkd1766395561759.js";import"./lodash-es.DWe8oqPO1766395561759.js";import"./pinia.CWQndD0s1766395561759.js";import"./@qlin.y-0Z8WnK1766395561759.js";import"./@babel.BPq7uOAK1766395561759.js";import"./@floating-ui.Bhq4ibgf1766395561759.js";import"./@juggle.Vc7cP4_P1766395561759.js";const F={id:"containerNav"},N=D(w({__name:"navigation",props:{message:{}},setup(e){const a=e;let w=null,x=null,y=null,S=null,C=null,E=()=>{let e=[];return["右","左","上","下","前","后"].forEach(function(a){var s=document.createElement("canvas");s.width=256,s.height=256;var t=s.getContext("2d");t.fillStyle="#f6fcff",t.fillRect(0,0,s.width,s.height),t.fillStyle="black",t.font="bold 100px arial",t.textAlign="center",t.textBaseline="middle",t.fillText(a,s.width/2,s.height/2);var n=new p(s);n.needsUpdate=!0;var i=new u({map:n,color:16777215,emissive:0,side:f});e.push(i)}),e},z=e=>{var a=new g,s=new v;y.domElement.addEventListener("click",function(t){s.x=t.offsetX/S.clientWidth*2-1,s.y=-t.offsetY/S.clientHeight*2+1,a.setFromCamera(s,x);for(var n=a.intersectObjects([C]),i=0;i<e.length;i++)e[i].emissive.set(0);if(n.length>0){let a=n[0].face.materialIndex;P(a),e[a].emissive.set("#eb780a")}},!1)},P=e=>{console.log("message",a.message);let s=50;4==e?a.message.position.set(0,0,s):5==e?a.message.position.set(0,0,-50):1==e?a.message.position.set(-50,0,0):0==e?a.message.position.set(s,0,0):3==e?a.message.position.set(0,-50,0):2==e&&a.message.position.set(0,s,0),a.message.lookAt(new h(0,0,0))};return b(()=>{(()=>{S=document.getElementById("containerNav"),w=new s,w.background=new t("#f7f7f9"),x=new n(75,S.clientWidth/S.clientHeight,.1,1e4),x.position.z=2500,y=new i({antialias:!0,canvas:S}),y.setSize(S.clientWidth,S.clientHeight),y.setPixelRatio(window.devicePixelRatio);var e=new o(16777215);w.add(e);var a=new l(16777215,1);a.position.set(1,1,1).normalize(),w.add(a);const c=new r(x,y.domElement);c.enableDamping=!0,c.dampingFactor=.05,c.enabled=!0,c.enableZoom=!0,c.enableRotate=!0,c.enablePan=!1;const d=new m(5);w.add(d),function e(){requestAnimationFrame(e),y.render(w,x)}()})(),(()=>{let e=new c(1800,1800,1800),a=E();C=new d(e,a),C.position.set(0,0,0),w.add(C),z(a)})()}),j(()=>{}),(e,a)=>(k(),_("canvas",F))}}),[["__scopeId","data-v-67395f0d"]]),B=["object"],L=w({__name:"navScene",async setup(a){let s,t;const{state:n}=([s,t]=x(()=>e("https://opensource.cdn.icegl.cn/model/operationTool/湖中小亭/湖中小亭.gltf")),s=await s,t(),s);return b(()=>{}),j(()=>{}),(e,a)=>S(n)?(k(),_("primitive",{key:0,object:S(n)?.scene},null,8,B)):y("",!0)}}),X=w({__name:"navigation",setup(e){const s=C(null),t=E({windowSize:!0,alpha:!0,antialias:!0}),n=E({enableDamping:!0,enableZoom:!0,enablePan:!0,enableRotate:!0,makeDefault:!0});return(e,i)=>{const o=z("TresCanvas");return k(),_("div",null,[P(o,q({clearColor:"#201919"},t),{default:R(()=>[T("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,0,50],"look-at":[0,0,0],ref_key:"navSceneCamera",ref:s},null,512),i[0]||(i[0]=T("TresAmbientLight",{intensity:2},null,-1)),P(S(a),H(I(n)),null,16),(k(),A(W,null,{default:R(()=>[P(L)]),_:1}))]),_:1},16),P(N,{message:s.value},null,8,["message"])])}}});export{X as default};
