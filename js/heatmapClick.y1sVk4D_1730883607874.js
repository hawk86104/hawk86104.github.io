import{b as t,U as n}from"./@tresjs.C3WO4ZW41730883607874.js";import{P as e}from"./tweakpane.BCjFYDHx1730883607874.js";import{_ as o,a as r,ak as a,al as s}from"./three.fIUcjaNz1730883607874.js";import{_ as i}from"./heatmap.js-fix.Jcmyfd0K1730883607874.js";import{d as c,a6 as u,a3 as l,o as p,D as f,u as d,r as h,e as g,f as m,g as v,J as y,j as b,al as w,aj as x,ak as _,m as I}from"./@vue.Cfu43fwq1730883607874.js";import"./@vueuse.BSum2YDk1730883607874.js";import"./@amap.CXRRqiLY1730883607874.js";!function(t,n){const e=S,o=B();for(;;)try{if(340005===-parseInt(e(180))/1+parseInt(e(190))/2*(parseInt(e(197))/3)+parseInt(e(219))/4*(parseInt(e(209))/5)+-parseInt(e(199))/6+parseInt(e(178))/7+parseInt(e(253))/8*(parseInt(e(187))/9)+-parseInt(e(218))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const j=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(202)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){j(this,(function(){const t=S,n=new RegExp(t(239)),e=new RegExp(t(226),"i"),o=O(t(245));n[t(177)](o+"chain")&&e[t(177)](o+t(213))?O():o("0")}))()}();const C=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[S(202)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function S(t,n){const e=B();return(S=function(t,n){return e[t-=176]})(t,n)}C(void 0,(function(){const t=S;let n;try{n=Function(t(241)+t(221)+");")()}catch(r){n=window}const e=n[t(231)]=n[t(231)]||{},o=[t(207),t(210),t(212),t(247),"exception",t(223),t(206)];for(let a=0;a<o.length;a++){const n=C.constructor[t(186)][t(182)](C),r=o[a],s=e[r]||n;n[t(234)]=C.bind(C),n[t(228)]=s.toString.bind(s),e[r]=n}}))();const k=["object"];function B(){const t=["primitive","error","geometry","push","radius","setAttribute","setDataMax","5074088wUTcau","constructor","test","248451dZUPIF","style","125062mnNNtF","layerY","bind","deleteAttribute","getX","position","prototype","9SqfZnO","addData","show2dCanvas","4Ikliru","layerX","material","border","attributes","boundingBox","scale","865344XoWgGF","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb","2090028chHpcU","left","call","apply","40px","while (true) {}","computeBoundingBox","trace","log","DoubleSide","347360sBKhHO","warn","display","info","input","debu","heatmap-canvas","onclick","_renderer","5027170GDURoG","4uXCExW","Texture",'{}.constructor("return this")( )',"1px solid #5384ff","table","needsUpdate","ShaderMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","mesh_0","toString","gger","canvas","console","getZ","block","__proto__","absolute","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","appendChild","body","function *\\( *\\)","./draco/","return (function() ","setScalar","length","string","init"];return(B=function(){return t})()}const U=c({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=S;let a,s;const c=n,{nodes:h}=([a,s]=u((()=>t(e(198),{draco:!0,decoderPath:e(240)}))),a=await a,s(),a);h.mesh_0[e(185)].set(-5088.96,-3.08,39374.7),h[e(227)][e(196)][e(242)](.01);let g=null,m=null,v=null;m=new(o[e(220)])((()=>{const t=e;return v=document.createElement(t(215)),v.style[t(185)]=t(235),v[t(179)].top=t(203),v[t(179)][t(200)]="0",document[t(238)][t(237)](v),g=i.create({container:v,width:256,height:256,blur:"0.8",radius:c.radius}),g[t(217)][t(230)].style[t(193)]=t(222),g[t(217)][t(230)][t(216)]=function(n){const e=t;g[e(188)]({x:n[e(191)],y:n[e(181)],value:1,radius:c[e(250)]}),g[e(252)](1),m&&(m[e(224)]=!0)},g})()[e(217)].canvas);const y={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(236),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:m}},depthWrite:!0,depthTest:!0,transparent:!0,side:o[e(208)]},b=new(o[e(225)])(y);h[e(227)][e(192)]=b;return(t=>{const n=e;t[n(205)]();const{max:o,min:a}=t[n(195)];t[n(183)]("uv");const s=o.x-a.x,i=o.z-a.z,c=[];for(let e=0;e<t.attributes[n(185)].count;e++)c[n(249)]((t[n(194)].position[n(184)](e)-a.x)/s),c.push((t[n(194)][n(185)][n(232)](e)-a.z)/i);const u=new Float32Array(c);t[n(251)]("uv",new r(u,2))})(h[e(227)][e(248)]),l((()=>{const t=e;v[t(179)][t(211)]=""+(c[t(189)]?t(233):"none")})),(t,n)=>{const o=e;return p(),f(o(246),{object:d(h).mesh_0},null,8,k)}}});function O(t){function n(t){const e=S;if(typeof t===e(244))return function(t){}[e(176)](e(204))[e(202)]("counter");1!==(""+t/t)[e(243)]||t%20==0?function(){return!0}[e(176)](e(214)+e(229))[e(201)]("action"):function(){return!1}[e(176)](e(214)+"gger")[e(202)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}const z=Z;function M(){const t=["#030311","stateObject","476wLiXVi","显示二维图","length","9820kKykvg","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","toString","console","TresPerspectiveCamera","#ffffff","init","1559331LfbSWb","点击左侧蓝色画框","debu","2135190OBavrr","while (true) {}","trace","heatmapClick","call","TresDirectionalLight","TresCanvas","action","124935ivOrBQ",'{}.constructor("return this")( )',"constructor","exception","show2dCanvas","12sfnbhB","bind","gger","log","chain","apply","63033NexSES","193984UKyZOc","addBinding","697848ghpuNH","table","16ziCMue","prototype","radius","test","addButton","圆圈的大小"];return(M=function(){return t})()}!function(t,n){const e=Z,o=M();for(;;)try{if(118429===parseInt(e(282))/1+-parseInt(e(287))/2*(-parseInt(e(293))/3)+parseInt(e(306))/4*(-parseInt(e(309))/5)+parseInt(e(296))/6+-parseInt(e(294))/7*(parseInt(e(298))/8)+-parseInt(e(271))/9+parseInt(e(274))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const D=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){D(this,(function(){const t=Z,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(310),"i"),o=E(t(270));n[t(301)](o+t(291))&&e[t(301)](o+"input")?E():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function Z(t,n){const e=M();return(Z=function(t,n){return e[t-=268]})(t,n)}T(void 0,(function(){const t=Z,n=function(){const t=Z;let n;try{n=Function("return (function() "+t(283)+");")()}catch(e){n=window}return n}(),e=n[t(312)]=n.console||{},o=[t(290),"warn","info","error",t(285),t(297),t(276)];for(let r=0;r<o[t(308)];r++){const n=T.constructor[t(299)][t(288)](T),a=o[r],s=e[a]||n;n.__proto__=T.bind(T),n.toString=s[t(311)][t(288)](s),e[a]=n}}))();const A=c({__name:z(277),setup(t){const o=z,r={clearColor:o(304),shadows:!0,alpha:!0,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0,antialias:!0},i=h({show2dCanvas:!0,radius:20}),c=new e({title:"参数",expanded:!0});return c.addBinding(i,o(286),{label:o(307)}),c[o(295)](i,o(300),{label:o(303),min:.1,max:30,step:.1}),c[o(302)]({title:o(272)}),(t,e)=>{const a=o,s=g(a(280));return p(),m(s,I(r,{"window-size":""}),{default:v((()=>[e[0]||(e[0]=y(a(268),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),b(d(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=y(a(279),{position:[5,10,7.5],color:a(269),intensity:5},null,-1)),e[2]||(e[2]=y("TresGridHelper",{args:[50,25]},null,-1)),(p(),m(w,null,{default:v((()=>[b(U,x(_(i)),null,16)])),_:1}))])),_:1},16)}}});function E(t){function n(t){const e=Z;if("string"==typeof t)return function(t){}[e(284)](e(275))[e(292)]("counter");1!==(""+t/t)[e(308)]||t%20==0?function(){return!0}[e(284)](e(273)+e(289))[e(278)](e(281)):function(){return!1}[e(284)]("debugger")[e(292)](e(305)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{A as default};
