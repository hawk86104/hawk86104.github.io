import{bQ as t,_ as n,au as o,C as r}from"./three.RuuDeeIf1736251016080.js";import{b as e}from"./@tresjs.8C7OKmBm1736251016080.js";import{d as a,b as s,a4 as u,w as i,o as c,D as f,J as l,aj as p,ak as h}from"./@vue.-Mz_IXfk1736251016080.js";!function(t,n){const o=v,r=d();for(;;)try{if(902723===-parseInt(o(398))/1+parseInt(o(419))/2+-parseInt(o(441))/3*(parseInt(o(395))/4)+parseInt(o(399))/5*(-parseInt(o(415))/6)+parseInt(o(416))/7*(parseInt(o(406))/8)+parseInt(o(404))/9+parseInt(o(426))/10)break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const g=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(403)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function d(){const t=["stateObject","1752296tKpYEa","693585rFYAUg","length","chain","shadowmap_pars_vertex","apply","6947280iOZYPl","log","3018000YfLBjG","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","shadowmap_pars_fragment","return (function() ","worldpos_vertex","\n\t ","\n          ","toString","18JMhsqf","14BUQTzE",'{}.constructor("return this")( )',"project_vertex","3409158SFDFxo","ShaderChunk","beginnormal_vertex","\n\n           gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);    \n           vUv = uv;\n       }","gger","shadowmap_vertex","\n       void main() {\n\t\t\t\t\t","5655150GqFovi","error","trace","\n\tvarying vec2 vUv;\n\tuniform sampler2D uTexture;\n\tuniform vec3 uShadowColor;\n\tuniform vec3 uColor;\n\tuniform float fEdge;\n\t// ShaderMaterial 下的 纹理参数重复无效 要在着色器中增加\n\tfloat repeatTime = 100.0;\n\n\tfloat smoothsteps(float t) {\n\t\t\treturn t * t * (3.0 - 2.0 * t);\n\t}\n\n\t ","bind","warn","function *\\( *\\)","debu","input","constructor","init","info","table","defaultnormal_vertex","\n\n\tvoid main() {\n\t\t\tvec4 col = texture2D(uTexture, vUv * repeatTime);\n\t\t\tcol.rgb = mix( uColor , col.rgb ,0.5);\n\t\t\t\n\t\t\tfloat alpha = 1.0;\n\t\t\tfloat d = length(vUv - vec2(0.5));\n\t\t\tif(d > 0.35) {\n\t\t\t\t\talpha = 1.0 - smoothsteps( clamp( (d - 0.35) / (fEdge-0.2), 0.0, 1.0) );\n\t\t\t}\n\n\t\t vec3 addShadow = mix( uShadowColor , col.rgb ,getShadowMask());\n\n\t\t\tgl_FragColor = vec4(addShadow, alpha);  \n\t}","68001alATCo","console","string","packing","bsdfs","common","shadowmask_pars_fragment","128OMEVDl","prototype"];return(d=function(){return t})()}!function(){g(this,(function(){const t=v,n=new RegExp(t(432)),o=new RegExp(t(407),"i"),r=x(t(436));n.test(r+t(401))&&o.test(r+t(434))?x():r("0")}))()}();const m=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[v(403)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();function v(t,n){const o=d();return(v=function(t,n){return o[t-=389]})(t,n)}m(void 0,(function(){const t=v;let n;try{n=Function(t(410)+t(417)+");")()}catch(e){n=window}const o=n[t(389)]=n[t(389)]||{},r=[t(405),t(431),t(437),t(427),"exception",t(438),t(428)];for(let a=0;a<r[t(400)];a++){const n=m[t(435)][t(396)][t(430)](m),e=r[a],s=o[e]||n;n.__proto__=m[t(430)](m),n[t(414)]=s.toString[t(430)](s),o[e]=n}}))();const w=()=>{const o=v;return"\n       varying vec2 vUv;\n\t\t\t \t"+t[o(393)]+"\n      \t"+n[o(420)][o(392)]+"\n      \t"+n[o(420)][o(402)]+o(425)+n[o(420)][o(421)]+o(413)+t[o(439)]+o(413)+t.begin_vertex+"\n          "+n[o(420)][o(418)]+o(413)+n[o(420)][o(411)]+o(413)+n[o(420)][o(424)]+o(422)},_=()=>{const o=v;return o(429)+n[o(420)][o(393)]+o(412)+t[o(391)]+o(412)+t.bsdfs+"\n\t "+t.lights_pars_begin+o(412)+n[o(420)][o(409)]+o(412)+t[o(394)]+o(440)};function x(t){function n(t){const o=v;if(typeof t===o(390))return function(t){}[o(435)]("while (true) {}")[o(403)]("counter");1!==(""+t/t)[o(400)]||t%20==0?function(){return!0}[o(435)](o(433)+o(423)).call(o(408)):function(){return!1}[o(435)]("debu"+o(423))[o(403)](o(397)),n(++t)}try{if(t)return n;n(0)}catch(o){}}function b(t,n){const o=y();return(b=function(t,n){return o[t-=435]})(t,n)}const I=b;function y(){const t=["fEdge","return (function() ","constructor","apply","error","372UXBEDt","wrapS","427YokHhg","debu","Color","uniforms","call","test","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","UniformsUtils","length","106441KNXmpU","3208pBUZHQ","439835pkRraX","string","chain","console","TresShaderMaterial","gger","bind","args","lights","rotation-x","value","edge","2214hMunUu","info",'{}.constructor("return this")( )',"uShadowColor","warn","__proto__","RepeatWrapping","TresMesh","size","shadowColor","5WtxHFf","1251524NZhTbn","while (true) {}","input","24918MfYKFS","counter","merge","tmRef","stateObject","color","uColor","DoubleSide","#990","toString","14990geaTiW","2527576BiysoG","138IGDuUa","function *\\( *\\)","init","#999"];return(y=function(){return t})()}!function(t,n){const o=b,r=y();for(;;)try{if(191605===parseInt(o(489))/1+-parseInt(o(490))/2*(-parseInt(o(469))/3)+parseInt(o(454))/4*(parseInt(o(453))/5)+parseInt(o(457))/6*(parseInt(o(480))/7)+parseInt(o(468))/8+parseInt(o(443))/9*(parseInt(o(467))/10)+parseInt(o(491))/11*(-parseInt(o(478))/12))break;r.push(r.shift())}catch(e){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[b(476)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=b,n=new RegExp(t(470)),o=new RegExp(t(486),"i"),r=M(t(471));n[t(485)](r+t(493))&&o.test(r+t(456))?M():r("0")}))()}();const C=function(){let t=!0;return function(n,o){const r=t?function(){if(o){const t=o[b(476)](n,arguments);return o=null,t}}:function(){};return t=!1,r}}();C(void 0,(function(){const t=b,n=function(){const t=b;let n;try{n=Function(t(474)+t(445)+");")()}catch(o){n=window}return n}(),o=n[t(494)]=n[t(494)]||{},r=["log",t(447),t(444),t(477),"exception","table","trace"];for(let e=0;e<r.length;e++){const n=C.constructor.prototype[t(437)](C),a=r[e],s=o[a]||n;n[t(448)]=C[t(437)](C),n.toString=s[t(466)][t(437)](s),o[a]=n}}))();const U=[I(440)],T=[I(438)],E=a({__name:"whiteFloorMesh",props:{size:{default:[20,20]},color:{default:I(465)},shadowColor:{default:I(472)},edge:{default:.35}},async setup(t){const a=I;let g,d;const m=t,v=s(),{map:x}=([g,d]=u((()=>e({map:"./plugins/floor/image/whiteFloor.jpg"}))),g=await g,d(),g);x[a(479)]=x.wrapT=n[a(449)];const b={uniforms:n[a(487)][a(459)]([o[a(439)],{uTexture:{type:"t",value:x},uColor:{value:new r(m.color)},uShadowColor:{value:new r(m.shadowColor)},fEdge:{type:"f",value:m[a(442)]}}]),side:n[a(464)],vertexShader:w(),fragmentShader:_(),lights:!0,transparent:!0};return i((()=>m[a(442)]),(t=>{const n=a;b.uniforms[n(473)].value=t})),i((()=>m[a(462)]),(t=>{const o=a;b[o(483)][o(463)][o(441)]=new(n[o(482)])(m[o(462)])})),i((()=>m[a(452)]),(t=>{const o=a;b[o(483)][o(446)][o(441)]=new(n[o(482)])(m[o(452)])})),(t,n)=>{const o=a;return c(),f(o(450),{ref_key:o(460),ref:v,"rotation-x":-Math.PI/2},[l("TresPlaneGeometry",{args:m[o(451)]},null,8,T),l(o(435),p(h(b)),null,16)],8,U)}}});function M(t){function n(t){const o=b;if(typeof t===o(492))return function(t){}[o(475)](o(455))[o(476)](o(458));1!==(""+t/t)[o(488)]||t%20==0?function(){return!0}.constructor(o(481)+"gger")[o(484)]("action"):function(){return!1}[o(475)]("debu"+o(436))[o(476)](o(461)),n(++t)}try{if(t)return n;n(0)}catch(o){}}export{E as _};
