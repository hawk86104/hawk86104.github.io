import{aD as n,_ as t,a as e,B as o,W as r,$ as i,c6 as s,c4 as a,c5 as c,cg as l}from"./three.sQDbNBks1741583630766.js";import{e as u,m as f,o as p}from"./@tresjs.ZmhvXhx31741583630766.js";import{d as v,o as g,H as d,N as m,u as h,F as b,w as y,j as x,z as w,e as I,g as _,aj as T,ak as U}from"./@vue.NRI7TcgI1741583630766.js";import{_ as S}from"./@fesjs.0Tn1apcA1741583630766.js";import"./postprocessing.7Yq_IN-m1741583630766.js";import"./@vueuse.Z9_WSajh1741583630766.js";import"./vue-router.bRqEeVtN1741583630766.js";import"./lodash-es.pklfUAS51741583630766.js";import"./@qlin.yHhFDldE1741583630766.js";import"./pinia.GzvRmFm31741583630766.js";import"./@floating-ui.BPbuo5Gx1741583630766.js";import"./@juggle.7yjBMqoW1741583630766.js";var j="float N21(vec2 st){\n\treturn fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\n}\nfloat smoothNoise(vec2 ip){\n\tvec2 lv=fract(ip);\n\tvec2 id=floor(ip);\n\t\n\tlv=lv*lv*(3.-2.*lv);\n\t\n\tfloat bl=N21(id);\n\tfloat br=N21(id+vec2(1,0));\n\tfloat b=mix(bl,br,lv.x);\n\t\n\tfloat tl=N21(id+vec2(0,1));\n\tfloat tr=N21(id+vec2(1,1));\n\tfloat t=mix(tl,tr,lv.x);\n\t\n\treturn clamp(mix(b,t,lv.y)*.5+.5,0.,1.);\n}\nfloat smoothNoise2(vec2 p){\n\tp.y+=time;\n\tp/=4.;\n\t\n\tfloat n=smoothNoise(p)*1.5;\n\tn+=smoothNoise(p*2.01)*.25;\n\tn+=smoothNoise(p*4.02)*.125;\n\tn+=smoothNoise(p*8.03)*.0625;\n\tn/=(1.5+.25+.125+.0625);\n\treturn clamp(n,0.,1.);\n}";const D=C;!function(n,t){const e=C,o=P();for(;;)try{if(731975===-parseInt(e(184))/1+-parseInt(e(221))/2*(-parseInt(e(170))/3)+parseInt(e(206))/4+parseInt(e(173))/5*(-parseInt(e(200))/6)+parseInt(e(177))/7*(parseInt(e(199))/8)+parseInt(e(226))/9*(parseInt(e(193))/10)+-parseInt(e(165))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const B=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(166)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){B(this,(function(){const n=C,t=new RegExp(n(175)),e=new RegExp(n(198),"i"),o=k(n(182));t[n(229)](o+n(167))&&e.test(o+n(224))?k():o("0")}))()}();const N=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[C(166)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function C(n,t){const e=P();return(C=function(n,t){return e[n-=161]})(n,t)}N(void 0,(function(){const n=C,t=function(){const n=C;let t;try{t=Function("return (function() "+n(189)+");")()}catch(e){t=window}return t}(),e=t.console=t[n(214)]||{},o=[n(164),"warn",n(204),"error","exception","table",n(219)];for(let r=0;r<o.length;r++){const t=N.constructor[n(181)][n(183)](N),i=o[r],s=e[i]||t;t.__proto__=N[n(183)](N),t[n(222)]=s[n(222)][n(183)](s),e[i]=t}}))();const A=[D(215),D(202)],E=[D(202)],z=[D(168)],F=100,M=v({__name:D(203),props:{globalUniforms:{}},setup(o){const r=D,i=o,s=[],a=[],c=new n(1,36,18),l=(new(t[r(201)]))[r(194)](c);l.instanceCount=F;const f=[];for(let n=0;n<F;n++){let n=t[r(171)][r(192)](49),o=e.randFloatSpread(49),i=t[r(171)].randFloat(.0625,.125),c=t[r(171)][r(178)](1,3);f[r(218)](n,o,i),a[r(218)](new(t[r(195)])(n,o,c,e[r(178)](1,2))),s.push(new(t[r(195)])(n,o,i,c))}l.setAttribute(r(208),new(t[r(225)])(new Float32Array(f),3));const p=new(t[r(196)])({color:16720418,onBeforeCompile:n=>{const t=r;n[t(180)][t(205)]=i[t(217)].noise,n[t(169)]=(t(213)+n.vertexShader+t(210))[t(187)](t(162),t(191))}}),v={luces:{value:s}},y=new(t[r(185)])({color:2363940,onBeforeCompile:n=>{const t=r;n[t(180)][t(172)]=v[t(172)],n[t(180)].globalBloom=i.globalUniforms[t(176)],n[t(180)][t(205)]=i.globalUniforms[t(231)],n[t(169)]=(t(197)+n.vertexShader+"\n    ").replace(t(162),t(161)),n[t(190)]=("\n      uniform vec4 luces["+F+t(174)+n[t(190)]+t(210))[t(187)]("#include <fog_fragment>",t(230)+F+"; i++){\n          vec4 lux = luces[i];\n          vec2 luxUv = (vec2(lux.x, -lux.y) - vec2(-25.)) / 50.;\n          float h = texture2D(noiseTex, luxUv).g;\n          h = (h - 0.5) * 4.;\n          vec3 lightPos = vec3(lux.x, h, lux.y);\n          float currIntensity = smoothstep(lux.z + lux.w, lux.z, distance(vPos, lightPos));\n          intensity += pow(currIntensity, 16.);\n        }\n        intensity = clamp(intensity, 0., 1.);\n        col = mix(col * 0.5, col, intensity);\n        col = mix(gl_FragColor.rgb, col, intensity);\n        col += vec3(1) * intensity * 0.01;\n        gl_FragColor = vec4( col, opacity );\n        #include <fog_fragment>\n      ")[t(187)](t(216),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(0);\n        }\n      ")}}),{onLoop:x}=u();return x((({elapsed:n})=>{const t=r;for(let e=0;e<F;e++){const o=a[e];let r=(o.y+n+25)%50-25;s[e].y=r,s[e].w=(Math[t(209)](n*o.w*(e%3+1))*Math[t(163)](n*o.w*(e%5+1))*.25+.25)*o.z+.75*o.z,l.attributes[t(208)].setY(e,r)}l.attributes.instData[t(227)]=!0})),(n,t)=>{const e=r;return g(),d(b,null,[m("TresMesh",{geometry:h(l),material:h(p)},null,8,A),m("TresMesh",{material:h(y)},[m(e(212),{args:[50,50,500,500],rotateX:.5*-Math.PI},null,8,z)],8,E)],64)}}});function P(){const n=["cos","log","7421095QqwjZs","apply","chain","rotateX","vertexShader","42gYfQQj","MathUtils","luces","3676835sZAoHL","];\n      uniform sampler2D noiseTex;\n      uniform float globalBloom;\n      varying vec3 vPos;\n      varying float intensity;\n\n      ","function *\\( *\\)","globalBloom","39774XYdhvn","randFloat","action","uniforms","prototype","init","bind","866707anmyWY","MeshLambertMaterial","gger","replace","stateObject",'{}.constructor("return this")( )',"fragmentShader","#include <begin_vertex>\n      transformed = position * instData.z;\n      \n      transformed.x += instData.x;\n      transformed.z += instData.y;\n      vec2 nUv = (vec2(instData.x, -instData.y) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      transformed.y += h;\n      ","randFloatSpread","329090IeVKnY","copy","Vector4","MeshBasicMaterial","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      varying vec3 vPos;\n      varying float intensity;\n      \n      //// https://discourse.threejs.org/t/calculating-vertex-normals-after-displacement-in-the-vertex-shader/16989/8 ///\n      \n      // the function which defines the displacement\n      float displace(vec2 vUv) {\n        return (texture2D(noiseTex, vUv).g - 0.5) * 4.;\n      }\n\n      vec3 getNormal(vec2 vUv){\n        vec3 displacedPosition = position + normal * displace(vUv);\n\n        float texelSize = 1.0 / 512.0; // temporarily hardcoding texture resolution\n        float offset = 0.1;\n\n        vec3 neighbour1 = position + vec3(1., 0., 0.) * offset;\n        vec3 neighbour2 = position + vec3(0., 0., 1.) * offset;\n        vec2 neighbour1uv = vUv + vec2(-texelSize, 0);\n        vec2 neighbour2uv = vUv  + vec2(0, -texelSize);\n        vec3 displacedNeighbour1 = neighbour1 + normal * displace(neighbour1uv);\n        vec3 displacedNeighbour2 = neighbour2 + normal * displace(neighbour2uv);\n\n        // https://i.ya-webdesign.com/images/vector-normals-tangent-16.png\n        vec3 displacedTangent = displacedNeighbour1 - displacedPosition;\n        vec3 displacedBitangent = displacedNeighbour2 - displacedPosition;\n\n        // https://upload.wikimedia.org/wikipedia/commons/d/d2/Right_hand_rule_cross_product.svg\n        vec3 displacedNormal = normalize(cross(displacedBitangent, displacedTangent));\n        return displacedNormal;\n      }\n      \n      ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","832uinfVb","6nSslHB","InstancedBufferGeometry","material","lucesPlane","info","noiseTex","4626908jCKkZY","while (true) {}","instData","sin","\n    ","counter","TresPlaneGeometry","\n      uniform sampler2D noiseTex;\n      attribute vec4 instData;\n      ","console","geometry","#include <dithering_fragment>","globalUniforms","push","trace","debu","156642ZIBPED","toString","string","input","InstancedBufferAttribute","45jjuYVS","needsUpdate","constructor","test","\n        vec3 col = vec3(1, 0, 0)*0.75;\n        float intensity = 0.;\n        for(int i = 0;i < ","noise","#include <begin_vertex>\n\n        float h = texture2D(noiseTex, uv).g;\n        intensity = h;\n        h = (h - 0.5) * 4.;\n        transformed.y = h;\n        vPos = transformed;\n        transformedNormal = normalMatrix * getNormal(uv);\n      ","#include <begin_vertex>"];return(P=function(){return n})()}function k(n){function t(n){const e=C;if(typeof n===e(223))return function(n){}.constructor(e(207))[e(166)](e(211));1!==(""+n/n).length||n%20==0?function(){return!0}[e(228)](e(220)+e(186)).call(e(179)):function(){return!1}[e(228)](e(220)+e(186))[e(166)](e(188)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const R=Z;function Z(n,t){const e=H();return(Z=function(n,t){return e[n-=388]})(n,t)}!function(n,t){const e=Z,o=H();for(;;)try{if(557669===parseInt(e(419))/1+parseInt(e(388))/2+parseInt(e(393))/3+parseInt(e(420))/4+parseInt(e(416))/5+-parseInt(e(422))/6*(-parseInt(e(408))/7)+-parseInt(e(406))/8)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const Y=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(395)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){Y(this,(function(){const n=Z,t=new RegExp(n(410)),e=new RegExp(n(423),"i"),o=$(n(427));t.test(o+n(397))&&e[n(425)](o+"input")?$():o("0")}))()}();const G=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Z(395)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function H(){const n=["546078YcardQ","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","MeshBasicMaterial","test","prototype","init","#include <dithering_fragment>","constructor","300382eqZNjt","console","return (function() ","fragmentShader","\n      #define S(a, b, t) smoothstep(a, b, t)\n      uniform float time;\n      uniform float globalBloom;\n      \n      ","2656104gHgHUx","debu","apply","globalUniforms","chain","call","globalBloom","counter","material","\n    ","action","trace","TresPlaneGeometry","19092088CICRJa","portal","14VWmGCo","gger","function *\\( *\\)","replace","\n        float tri = doubleTri(vUv, 0.0, 16.);\n        float triWave = doubleTri(vUv, 1.0, 8.);\n        float fullTri = max(tri, triWave);\n        \n        if (fullTri < 0.5) discard;\n        \n        vec3 col = mix(diffuse, vec3(0.75), fullTri);\n        \n        float blinking = smoothNoise(vec2(time, time * 5.));\n        blinking = blinking * 0.9 + 0.1;\n        \n        vec4 diffuseColor = vec4(col * blinking, fullTri);\n      ","exception","length","time","5095810pInLkI","while (true) {}","table","583124wNOIbB","497236iTPiuv","log"];return(H=function(){return n})()}G(void 0,(function(){const n=Z,t=function(){const n=Z;let t;try{t=Function(n(390)+'{}.constructor("return this")( ));')()}catch(e){t=window}return t}(),e=t[n(389)]=t[n(389)]||{},o=[n(421),"warn","info","error",n(413),n(418),n(404)];for(let r=0;r<o.length;r++){const t=G[n(429)][n(426)].bind(G),i=o[r],s=e[i]||t;t.__proto__=G.bind(G),t.toString=s.toString.bind(s),e[i]=t}}))();const V=[R(401)],L=v({__name:R(407),props:{globalUniforms:{}},setup(n){const e=R,o=n,r=new(t[e(424)])({color:16737843,transparent:!0,onBeforeCompile:n=>{const t=e;n.uniforms.time=o[t(396)][t(415)],n.uniforms[t(399)]=o.globalUniforms[t(399)],n[t(391)]=(t(392)+j+"\n      \n      float getTri(vec2 uv, float shift){\n        uv = uv * 2.-1.;\n        float a = atan(uv.x + shift,uv.y) + 3.1415926;\n        float r = 3.1415926 * 2./3.;\n        return cos(floor(.5+a/r)*r-a)*length(uv);\n      }\n      \n      float doubleTri(vec2 uv, float still, float width){\n        vec2 baseUv = uv;\n        vec2 e2 = fwidth(baseUv * 20.);\n        float e = min(e2.x, e2.y) * width;\n        float baseTri = getTri(baseUv, cos(baseUv.y * 31. + time) * sin(baseUv.y * 27. + time * 4.) * 0.025 * still);\n        float td = abs(fract(baseTri * 20.) - 0.5);\n        float tri = S(e, 0., td) - S(0., e, td);\n        tri *= step(0.4, baseTri) -  step(0.5, baseTri);\n        return tri;\n      }\n      \n      "+n[t(391)]+t(402))[t(411)]("vec4 diffuseColor = vec4( diffuse, opacity );",t(412)).replace(t(428),"#include <dithering_fragment>\n        if (globalBloom > 0.5) {\n          gl_FragColor = vec4(gl_FragColor.rgb * 0.375, fullTri);\n        }\n      ")}});return r.defines={USE_UV:""},(n,t)=>{const o=e;return g(),d("TresMesh",{material:h(r),position:[0,3.75,-12]},t[0]||(t[0]=[m(o(405),{args:[5,5]},null,-1)]),8,V)}}});function $(n){function t(n){const e=Z;if("string"==typeof n)return function(n){}.constructor(e(417))[e(395)](e(400));1!==(""+n/n)[e(414)]||n%20==0?function(){return!0}[e(429)](e(394)+e(409))[e(398)](e(403)):function(){return!1}[e(429)]("debugger").apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(e){}}const q=Q;!function(n,t){const e=Q,o=X();for(;;)try{if(142074===parseInt(e(452))/1+parseInt(e(481))/2*(parseInt(e(459))/3)+parseInt(e(443))/4+-parseInt(e(439))/5*(parseInt(e(460))/6)+-parseInt(e(425))/7+-parseInt(e(426))/8+parseInt(e(458))/9)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){O(this,(function(){const n=Q,t=new RegExp(n(476)),e=new RegExp(n(471),"i"),o=nn(n(468));t[n(430)](o+n(478))&&e[n(430)](o+n(466))?nn():o("0")}))()}();const K=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[Q(421)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function Q(n,t){const e=X();return(Q=function(n,t){return e[n-=420]})(n,t)}function X(){const n=["info","randFloatSpread","string","function *\\( *\\)","material","chain","Float32BufferAttribute","\n    ","4gtNTja","constructor","length","apply","return (function() ","drops","debu","865508HNouPX","839840pmBCUY","gEnds","gger","warn","test","noiseTex","push","call",'{}.constructor("return this")( )',"console","TresLineSegments","time","MathUtils","13640lYSgMw","trace","\n      float op = 1. - vGEnds;\n      op = pow(op, 3.);\n      float h = (pow(vH, 3.) * 0.5 + 0.5);\n      vec3 col = diffuse * h; // lighter close to the surface\n      col *= 1. + smoothstep(0.99, 1., h); // sparkle at the surface\n      if (globalBloom > 0.5) {\n        //col *= 0.5;\n      }\n      vec4 diffuseColor = vec4( col, op );\n      \n      ","while (true) {}","624388XKiCny","\n      uniform float time;\n      uniform float globalBloom;\n      varying float vGEnds;\n      varying float vH;\n      ","globalUniforms","setAttribute","table","\n      ","bind","vec4 diffuseColor = vec4( diffuse, opacity );","prototype","212641ltQIaw","stateObject","__proto__","\n      uniform float time;\n      uniform sampler2D noiseTex;\n      attribute vec2 gEnds;\n      varying float vGEnds;\n      varying float vH;\n\n      ","log","toString","1020384ezEuho","205248ZdbfdC","546KxJGDu","uniforms","noise","vertexShader","replace","geometry","input","LineBasicMaterial","init","fragmentShader","globalBloom","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action"];return(X=function(){return n})()}K(void 0,(function(){const n=Q,t=function(){const n=Q;let t;try{t=Function(n(422)+n(434)+");")()}catch(e){t=window}return t}(),e=t[n(435)]=t.console||{},o=[n(456),n(429),n(473),"error","exception",n(447),n(440)];for(let r=0;r<o.length;r++){const t=K.constructor[n(451)][n(449)](K),i=o[r],s=e[i]||t;t[n(454)]=K.bind(K),t.toString=s[n(457)][n(449)](s),e[i]=t}}))();const W=[q(477),q(465)],J=v({__name:q(423),props:{globalUniforms:{}},setup(n){const e=q,r=n,i=[],s=[];for(let o=0;o<2e4;o++){const n=t[e(438)][e(474)](35),o=t[e(438)].randFloat(-5,10),r=t[e(438)][e(474)](35),a=t[e(438)].randFloat(.25,.5);i[e(432)](n,o,r,n,o,r),s[e(432)](0,a,1,a)}const a=new o;a.setAttribute("position",new(t[e(479)])(i,3)),a[e(446)](e(427),new(t[e(479)])(s,2));const c=new(t[e(467)])({color:8930440,transparent:!0,onBeforeCompile:n=>{const t=e;n[t(461)][t(437)]=r[t(445)][t(437)],n[t(461)][t(431)]=r[t(445)][t(462)],n.uniforms[t(470)]=r[t(445)][t(470)],n[t(463)]=(t(455)+n[t(463)]+t(480)).replace("#include <begin_vertex>","#include <begin_vertex>\n        \n      vec3 pos = position;\n      \n      vec2 nUv = (vec2(pos.x, -pos.z) - vec2(-25.)) / 50.;\n      float h = texture2D(noiseTex, nUv).g;\n      h = (h - 0.5) * 4.;\n      \n      pos.y = -mod(10. - (pos.y - time * 5.), 15.) + 10.;\n      h = pos.y - h;\n      pos.y += gEnds.x * gEnds.y;\n      transformed = pos;\n      vGEnds = gEnds.x;\n      vH = smoothstep(3., 0., h);\n      "),n[t(469)]=(t(444)+j+t(448)+n[t(469)]+t(480))[t(464)](t(450),t(441))}});return(n,t)=>{const o=e;return g(),d(o(436),{material:h(c),geometry:h(a)},null,8,W)}}});function nn(n){function t(n){const e=Q;if(typeof n===e(475))return function(n){}[e(482)](e(442))[e(421)]("counter");1!==(""+n/n)[e(420)]||n%20==0?function(){return!0}[e(482)](e(424)+e(428))[e(433)](e(472)):function(){return!1}[e(482)]("debu"+e(428)).apply(e(453)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const tn=sn;function en(){const n=["Vector2","fog","setRenderTarget","40340QOtKqV","prototype","\n      ","replace","Fog","defines","width","stateObject","132aQgMGs","console","104gKeXky","input","warn","set","\n        vec3 col = vec3(0);\n        float h = clamp(smoothNoise2(vUv * 50.), 0., 1.);\n        col = vec3(h);\n        vec4 diffuseColor = vec4( col, opacity );\n      ","154inYOvj","function *\\( *\\)","8706580vSulib","chain","length","gger","ShaderMaterial","uniforms","bind","\n      uniform float time;\n      ","table","height","\n    ","addPass","156229ewDkqR","counter","value","toString","info","add","test","fboRender","PlaneGeometry","return (function() ","while (true) {}","noise","761449NrlBFx","init","texture","9ITKnjH","vec4 diffuseColor = vec4( diffuse, opacity );","69qXelnL","call","action","615349MjdKPj","apply","Scene","debu","log","trace","8313876kPqbAs","__proto__","Mesh","Camera","Color","render","globalBloom","time","target","5ncQhYz","1668238qyVHFg",'{}.constructor("return this")( )',"22hFNcQw","background","string","constructor"];return(en=function(){return n})()}!function(n,t){const e=sn,o=en();for(;;)try{if(888596===parseInt(e(206))/1*(-parseInt(e(244))/2)+-parseInt(e(223))/3*(-parseInt(e(251))/4)+-parseInt(e(241))/5*(-parseInt(e(232))/6)+parseInt(e(226))/7*(parseInt(e(261))/8)+parseInt(e(221))/9*(parseInt(e(268))/10)+parseInt(e(242))/11*(-parseInt(e(259))/12)+parseInt(e(218))/13*(parseInt(e(266))/14))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const on=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e.apply(t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){on(this,(function(){const n=sn,t=new RegExp(n(267)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=cn(n(219));t[n(212)](o+n(269))&&e.test(o+n(262))?cn():o("0")}))()}();const rn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[sn(227)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function sn(n,t){const e=en();return(sn=function(n,t){return e[n-=201]})(n,t)}rn(void 0,(function(){const n=sn,t=function(){const n=sn;let t;try{t=Function(n(215)+n(243)+");")()}catch(e){t=window}return t}(),e=t[n(260)]=t[n(260)]||{},o=[n(230),n(263),n(210),"error","exception",n(202),n(231)];for(let r=0;r<o[n(270)];r++){const t=rn.constructor[n(252)][n(274)](rn),i=o[r],s=e[i]||t;t[n(233)]=rn[n(274)](rn),t[n(209)]=s[n(209)][n(274)](s),e[i]=t}}))();const an=v({__name:tn(213),setup(n){const e=tn,o={time:{value:0},globalBloom:{value:0},noise:{value:null}},p=new r(512,512),v=new(t[e(228)]),m=new(t[e(235)]),h=new(t[e(214)])(2,2),w=new i({onBeforeCompile:n=>{const t=e;n[t(273)][t(239)]=o[t(239)],n.fragmentShader=(t(201)+j+t(253)+n.fragmentShader+t(204))[t(254)](t(222),t(265))}});w[e(256)]={USE_UV:""};const I=new(t[e(234)])(h,w);v[e(211)](I),o[e(217)][e(208)]=p[e(220)];const{camera:_,renderer:T,scene:U,sizes:S,controls:D}=f();y((()=>D[e(208)]),(n=>{const o=e;null==n||n[o(240)].set(0,2,0),!U[o(208)][o(245)]&&(U[o(208)].background=new(t[o(236)])(6706534))}));const B=new s(T[e(208)]),N=new s(T[e(208)]),C=new a(U[e(208)],_[e(208)]),A=new c(new(t[e(248)])(S[e(257)][e(208)],S[e(203)][e(208)]),1.2,.5,0);B.renderToScreen=!1,B[e(205)](C),B[e(205)](A);const E=new l(new(t[e(272)])({uniforms:{baseTexture:{value:null},bloomTexture:{value:B.renderTarget2[e(220)]}},vertexShader:"\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tvUv = uv;\n\t\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t\t\t\t\t}",fragmentShader:"\n\t\t\t\t\t\t\t\tuniform sampler2D baseTexture;\n\t\t\t\t\t\t\t\tuniform sampler2D bloomTexture;\n\t\t\t\t\t\t\t\tvarying vec2 vUv;\n\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\t\tgl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n\t\t\t\t\t\t\t\t}",defines:{}}),"baseTexture");E.needsSwap=!0,N[e(205)](C),N[e(205)](E),U[e(208)].fog=new(t[e(255)])(6706534,1,25);const{onLoop:z}=u();return z((({elapsed:n})=>{var t,r;const i=e;o[i(239)][i(208)]=n,T[i(208)]&&(T.value.setRenderTarget(p),T[i(208)][i(237)](v,m),T.value[i(250)](null),o[i(238)][i(208)]=1.2,U.value[i(249)].color[i(264)](0),U.value[i(249)].near=15,null==(t=U[i(208)][i(245)])||t[i(264)](0),B[i(237)](),o[i(238)].value=0,U[i(208)].fog.color[i(264)](6706534),U[i(208)][i(249)].near=10,null==(r=U.value[i(245)])||r[i(264)](6706534),N[i(237)]())})),(n,t)=>(g(),d(b,null,[x(M,{globalUniforms:o}),x(L,{globalUniforms:o}),x(J,{globalUniforms:o})],64))}});function cn(n){function t(n){const e=sn;if(typeof n===e(246))return function(n){}[e(247)](e(216))[e(227)](e(207));1!==(""+n/n)[e(270)]||n%20==0?function(){return!0}.constructor(e(229)+e(271))[e(224)](e(225)):function(){return!1}[e(247)](e(229)+e(271))[e(227)](e(258)),t(++n)}try{if(n)return t;t(0)}catch(e){}}const ln={class:"text"};const un=S({},[["render",function(n,t){return g(),d("div",ln,t[0]||(t[0]=[m("span",{class:"retro noselect"},[m("span",{style:{color:"#eae"}},"光"),w("噪声")],-1)]))}],["__scopeId","data-v-3881bd43"]]);!function(n,t){const e=vn,o=dn();for(;;)try{if(524171===parseInt(e(223))/1+-parseInt(e(257))/2*(parseInt(e(220))/3)+parseInt(e(256))/4*(-parseInt(e(232))/5)+parseInt(e(245))/6*(parseInt(e(222))/7)+parseInt(e(239))/8*(-parseInt(e(250))/9)+-parseInt(e(225))/10*(-parseInt(e(233))/11)+-parseInt(e(224))/12)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const fn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(249)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){fn(this,(function(){const n=vn,t=new RegExp("function *\\( *\\)"),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=mn(n(247));t[n(231)](o+n(241))&&e[n(231)](o+n(226))?mn():o("0")}))()}();const pn=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[vn(249)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();function vn(n,t){const e=dn();return(vn=function(n,t){return e[n-=218]})(n,t)}pn(void 0,(function(){const n=vn;let t;try{t=Function(n(243)+'{}.constructor("return this")( ));')()}catch(r){t=window}const e=t.console=t[n(251)]||{},o=[n(234),"warn","info","error","exception",n(244),n(228)];for(let i=0;i<o.length;i++){const t=pn.constructor[n(221)].bind(pn),r=o[i],s=e[r]||t;t[n(235)]=pn[n(227)](pn),t[n(238)]=s.toString[n(227)](s),e[r]=t}}))();const gn=v({__name:"lightNoise",setup(n){const e=vn,o={windowSize:!0,antialias:!0,renderMode:e(236)},r={enableDamping:!0,minDistance:5,maxDistance:10,minPolarAngle:60*t[e(248)][e(219)],maxPolarAngle:90*t[e(248)].DEG2RAD,makeDefault:!0};return(n,t)=>{const i=e,s=I("TresCanvas");return g(),d(b,null,[x(un),x(s,T(U(o)),{default:_((()=>[t[0]||(t[0]=m(i(252),{position:[0,3,5],fov:45,near:.1,far:1e3},null,-1)),x(h(p),T(U(r)),null,16),t[1]||(t[1]=m("TresAmbientLight",{intensity:.5},null,-1)),t[2]||(t[2]=m(i(240),{position:[0,3,-12],intensity:1},null,-1)),x(an)])),_:1},16)],64)}}});function dn(){const n=["length","test","336635lnNOIk","11eZqZaB","log","__proto__","manual","stateObject","toString","6584tpdOiw","TresDirectionalLight","chain","gger","return (function() ","table","234cECWhT","constructor","init","MathUtils","apply","3096LmHwRt","console","TresPerspectiveCamera","while (true) {}","counter","call","4CwYiXY","819726qAYddi","action","DEG2RAD","3ccDXed","prototype","149065NDjfiG","757063APmdxT","9955428cxAIYe","5265240dEKaAV","input","bind","trace","debu"];return(dn=function(){return n})()}function mn(n){function t(n){const e=vn;if("string"==typeof n)return function(n){}.constructor(e(253))[e(249)](e(254));1!==(""+n/n)[e(230)]||n%20==0?function(){return!0}[e(246)](e(229)+e(242))[e(255)](e(218)):function(){return!1}.constructor(e(229)+"gger").apply(e(237)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{gn as default};
