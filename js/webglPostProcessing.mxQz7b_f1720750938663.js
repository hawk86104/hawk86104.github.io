import{i as n}from"./ice-utils.u5Hb_N1i1720750938663.js";import{m as t,_ as e}from"./gl-matrix.oVMHBNGj1720750938663.js";import{P as o}from"./tweakpane.yHWGBmom1720750938663.js";import{d as r,r as i,q as a,o as c,D as s,J as u,u as f}from"./@vue.ApkyOKE71720750938663.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}";function x(){const n=["bufferData","bindTexture","getUniformLocation","blendFunc","drawElements","enable","__proto__","offset_left_top","src","TEXTURE_MIN_FILTER","inline","COLOR_ATTACHMENT0","slider","webglPostProcessing","30333hIpfnH","vertexAttribPointer","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","5oQgqde","canvaswebgl","function *\\( *\\)","warn","error","offset_right_top","stateObject","33148vMsNky","console","TEXTURE_WRAP_S","color","uView","table","4240374HiKPia","webgl","clearColor","input","是否后处理","STATIC_DRAW","info","logo-texture","translate","lookAt","width","create","BYTES_PER_ELEMENT","counter","NEAREST","innerHeight","apply","change","createBuffer","CLAMP_TO_EDGE","TRIANGLES","useProgram","offset_right_bottom","mixParam","COLOR_BUFFER_BIT","76MuoePO","RGBA","uniformMatrix4fv","1mHiyUE","framebufferTexture2D","FLOAT","hidden","height","TEXTURE_WRAP_T","UNSIGNED_BYTE","createFramebuffer","texImage2D","addBlade",'{}.constructor("return this")( )',"605wzKoxv","SRC_ALPHA","addBinding","offset_left_bottom","chain","enableVertexAttribArray","FRAMEBUFFER","bind","call","gger","TEXTURE_MAG_FILTER","mat4","uProjection","constructor","getElementById","texParameteri","2944Zcgtxj","length","return (function() ","innerWidth","clear","uModel","querySelector","action","string","bindBuffer","9070170pZqeef","toString","debu","value","TEXTURE_2D","8358KlaNSH","none","scale","bindFramebuffer","init","257340KYktsX","1940742eCLnGh","test"];return(x=function(){return n})()}const d=T;!function(n,t){const e=T,o=x();for(;;)try{if(549198===parseInt(e(266))/1*(parseInt(e(341))/2)+parseInt(e(330))/3*(-parseInt(e(263))/4)+parseInt(e(334))/5*(-parseInt(e(347))/6)+parseInt(e(308))/7*(-parseInt(e(293))/8)+-parseInt(e(314))/9+parseInt(e(303))/10+parseInt(e(277))/11*(parseInt(e(313))/12))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const _=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[T(363)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();!function(){_(this,(function(){const n=T,t=new RegExp(n(336)),e=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=A(n(312));t[n(315)](o+n(281))&&e[n(315)](o+n(350))?A():o("0")}))()}();const p=function(){let n=!0;return function(t,e){const o=n?function(){if(e){const n=e[T(363)](t,arguments);return e=null,n}}:function(){};return n=!1,o}}();p(void 0,(function(){const n=T,t=function(){const n=T;let t;try{t=Function(n(295)+n(276)+");")()}catch(e){t=window}return t}(),e=t[n(342)]=t[n(342)]||{},o=["log",n(337),n(353),n(338),"exception",n(346),"trace"];for(let r=0;r<o[n(294)];r++){const t=p[n(290)].prototype[n(284)](p),i=o[r],a=e[i]||t;t[n(322)]=p.bind(p),t[n(304)]=a[n(304)].bind(a),e[i]=t}}))();const g={id:d(335)},E=[d(324)];function T(n,t){const e=x();return(T=function(n,t){return e[n-=261]})(n,t)}const R=r({__name:d(329),setup(r){const x=d;let _,p,T,R,A,b,y,v,F,h,w,P,C;const I=1,B=.71,U=.76,L=new o({title:"参数"}),M=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});L[x(275)]({view:x(328),label:"颜色",min:0,max:1,value:.5}).on(x(364),(n=>{const t=x;k(),p.uniform1f(P,n[t(306)])}));let S=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);L[x(279)](M,x(269),{label:x(351)}),L.addBinding(M,x(339),{picker:"inline",x:{min:0,max:1},y:{min:0,max:1}}).on(x(364),(n=>{const t=x;S[0]=M[t(339)].x,S[1]=M[t(339)].y,k()})),L[x(279)](M,x(369),{picker:x(326),x:{min:-1,max:1},y:{min:-1,max:1}}).on("change",(n=>{const t=x;S[5]=M[t(369)].x,S[6]=M[t(369)].y,k()})),L[x(279)](M,x(280),{picker:x(326),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(364),(n=>{const t=x;S[10]=M[t(280)].x,S[11]=M[t(280)].y,k()})),L[x(279)](M,x(323),{picker:x(326),x:{min:-1,max:1},y:{min:-1,max:1}}).on(x(364),(n=>{const t=x;S[15]=M[t(323)].x,S[16]=M[t(323)].y,k()})),a((()=>{D()}));const D=function(){const t=x;_=document[t(299)]("#canvaswebgl"),_[t(357)]=window[t(296)],_.height=window[t(362)],p=_.getContext(t(348)),p&&(function(){const t=x,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=H(e,o),T=n(p,l,m),F=p.getUniformLocation(T,t(289)),h=p.getUniformLocation(T,t(345)),w=p[t(318)](T,t(298)),C=j(document[t(291)](t(354)))}(),k(),p[t(321)](p.BLEND),p[t(319)](p[t(278)],p.ONE_MINUS_SRC_ALPHA),N())};function N(){const n=x;p[n(311)](p.FRAMEBUFFER,y),p[n(349)](I,B,U,1),p.clear(p[n(262)]),function(){const n=x;p[n(368)](T),p[n(302)](p[n(333)],R);const o=t[n(358)]();e[n(288)].ortho(o,0,_.width,_[n(270)],0,.1,100),p[n(265)](F,!1,o);const r=e[n(288)][n(358)]();e[n(288)][n(356)](r,[0,0,1],[0,0,0],[0,1,0]),p[n(265)](h,!1,r),O(C,600,600),O(C,400,400)}(),p[n(311)](p[n(283)],null),M[n(269)]&&(p[n(297)](p.COLOR_BUFFER_BIT),p[n(349)](0,0,1,1),p.bindBuffer(p[n(333)],A),p[n(368)](b),p[n(317)](p[n(307)],v)),p[n(320)](p[n(367)],6,p[n(272)],0),requestAnimationFrame(N)}function O(n,o,r){const i=x;let a=t[i(358)]();e[i(288)][i(355)](a,a,[o,r,0]),e[i(288)][i(310)](a,a,[250,250,0]),p[i(265)](w,!1,a),p.bindTexture(p.TEXTURE_2D,n),p[i(320)](p[i(367)],6,p[i(272)],0)}function k(){const t=x,e=new Uint8Array([0,1,2,0,2,3]);A=H(S,e),b=n(p,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),P=p[t(318)](b,t(261)),p[t(318)](b,t(344)),function(){const n=x;v=j(_),y=p[n(273)](),p[n(311)](p[n(283)],y),p[n(267)](p[n(283)],p[n(327)],p[n(307)],v,0),p[n(311)](p.FRAMEBUFFER,null)}()}function j(n){const t=x,e=p.createTexture();return p.bindTexture(p[t(307)],e),n instanceof HTMLImageElement?p.texImage2D(p[t(307)],0,p[t(264)],p[t(264)],p[t(272)],n):p[t(274)](p[t(307)],0,p.RGBA,n[t(357)],n[t(270)],0,p[t(264)],p[t(272)],null),p[t(292)](p[t(307)],p[t(325)],p[t(361)]),p[t(292)](p[t(307)],p[t(287)],p[t(361)]),p[t(292)](p[t(307)],p[t(343)],p[t(366)]),p[t(292)](p[t(307)],p[t(271)],p[t(366)]),e}function H(n,t){const e=x,o=p.createBuffer();p[e(302)](p[e(333)],o),p[e(316)](p[e(333)],n,p[e(352)]);const r=3*Float32Array.BYTES_PER_ELEMENT+2*Float32Array[e(359)];p[e(331)](0,3,p[e(268)],!1,r,0),p[e(282)](0),p[e(331)](1,2,p[e(268)],!1,r,3*Float32Array[e(359)]),p[e(282)](1);const i=p[e(365)]();return p[e(302)](p.ELEMENT_ARRAY_BUFFER,i),p.bufferData(p[e(332)],t,p[e(352)]),p[e(302)](p[e(333)],null),o}return(n,t)=>{const e=x;return c(),s("canvas",g,[u("img",{id:e(354),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(309)}},null,8,E)])}}});function A(n){function t(n){const e=T;if(typeof n===e(301))return function(n){}[e(290)]("while (true) {}").apply(e(360));1!==(""+n/n)[e(294)]||n%20==0?function(){return!0}[e(290)](e(305)+e(286))[e(285)](e(300)):function(){return!1}.constructor(e(305)+"gger")[e(363)](e(340)),t(++n)}try{if(n)return t;t(0)}catch(e){}}export{R as default};
