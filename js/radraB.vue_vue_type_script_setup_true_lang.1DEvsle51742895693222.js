import{a as n,e as t}from"./@tresjs.xCsT8yve1742895693222.js";import{d as o,a3 as e,r,v as i,a2 as a,o as s,H as c,N as u,m as l,u as f,b as p,w as d,aj as g,ak as h}from"./@vue.C4dqouNn1742895693222.js";import{a$ as v,ab as m,C as y,M as w,cy as x,b as _}from"./three.DqHgeVY11742895693222.js";const M=T;!function(n,t){const o=T,e=P();for(;;)try{if(263725===-parseInt(o(502))/1*(-parseInt(o(536))/2)+parseInt(o(497))/3+-parseInt(o(539))/4+parseInt(o(531))/5*(parseInt(o(517))/6)+-parseInt(o(508))/7*(-parseInt(o(533))/8)+parseInt(o(529))/9+-parseInt(o(519))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const I=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[T(522)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){I(this,(function(){const n=T,t=new RegExp(n(520)),o=new RegExp(n(537),"i"),e=z("init");t[n(524)](e+"chain")&&o[n(524)](e+n(538))?z():e("0")}))()}();const b=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function P(){const n=["bind","console","48474LwJwlu","debu","10ArAFIl","constructor","592RBTKne","prototype","translate","29434lwOlOz","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","input","74828bIMcjh","warn","foremost","table","position","img","length","__proto__","1069110IsTaQv",'{}.constructor("return this")( )',"string","action","counter","32fTVXMz","offset","gger","TresSpriteMaterial","tsRef","TresSprite","29113mitdPO","sizeAttenuation","99999","geometry","color","scale","toString","clone","info","255198vFANFC","call","9431000UObzQe","function *\\( *\\)","log","apply","value","test","map","buildingsMarkA"];return(P=function(){return n})()}b(void 0,(function(){const n=T;let t;try{t=Function("return (function() "+n(498)+");")()}catch(r){t=window}const o=t[n(528)]=t[n(528)]||{},e=[n(521),n(540),n(516),"error","exception",n(542),"trace"];for(let i=0;i<e[n(495)];i++){const t=b[n(532)][n(534)][n(527)](b),r=e[i],a=o[r]||t;t[n(496)]=b.bind(b),t[n(514)]=a[n(514)][n(527)](a),o[r]=t}}))();const A=[M(543),"scale"],R=[M(525)];function T(n,t){const o=P();return T=function(n,t){return o[n-=495]},T(n,t)}const S=o({__name:M(526),props:{color:{default:"#fff"},position:{default:[0,0,0]},scale:{default:.1},img:{},offset:{default:[.344,.394]},foremost:{type:Boolean,default:!0},sizeAttenuation:{type:Boolean,default:!1}},async setup(t){const o=M;let p,d;const g=t,{map:h}=([p,d]=e((()=>n({map:g[o(544)]}))),p=await p,d(),p),v=r({color:g[o(512)],transparent:!0,depthWrite:!1,sizeAttenuation:g[o(509)],toneMapped:!1,depthTest:!g[o(541)]}),m=i(null);return a((()=>{const n=o;m[n(523)]&&(m[n(523)][n(511)]=m[n(523)][n(511)][n(515)](),m[n(523)][n(511)][n(535)](g[n(503)][0],g[n(503)][1],0))})),(n,t)=>{const e=o;return s(),c(e(507),{ref_key:e(506),ref:m,position:g[e(543)],scale:g[e(513)],renderOrder:e(510)},[u(e(505),l(v,{map:f(h)}),null,16,R)],8,A)}}});function z(n){function t(n){const o=T;if(typeof n===o(499))return function(n){}.constructor("while (true) {}")[o(522)](o(501));1!==(""+n/n)[o(495)]||n%20==0?function(){return!0}[o(532)](o(530)+o(504))[o(518)](o(500)):function(){return!1}[o(532)](o(530)+"gger").apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}function F(){const n=["return (function() ","1586739OGBSEI","followWidth","trace","applyMatrix4","constructor","4753010gtZZJy","\n\tuniform float uRadius;     \n  uniform float uTime;            \n  uniform float uSpeed; \n  uniform float uFollowWidth; \n  varying vec3 vPosition;\n\tuniform vec3 ncolor;\n  float calcAngle(vec3 oFrag){\n    float fragAngle;\n    const vec3 ox = vec3(1,0,0);\n    float dianji = oFrag.x * ox.x + oFrag.z*ox.z;\n    float oFrag_length = length(oFrag); // length是内置函数\n    float ox_length = length(ox); // length是内置函数\n    float yuxian = dianji / (oFrag_length * ox_length);\n    fragAngle = acos(yuxian);\n    fragAngle = degrees(fragAngle);\n    if(oFrag.z > 0.0) {\n      fragAngle = -fragAngle + 360.0;\n    }\n    float scanAngle = uTime * uSpeed - floor(uTime * uSpeed / 360.0) * 360.0;\n    float angle = scanAngle - fragAngle;\n    if(angle < 0.0){\n      angle = angle + 360.0;\n    }\n    return angle;\n  }\n  void main() {\n\t\t\t// length内置函数，取向量的长度\n\t\tif(length(vPosition) == 0.0 || length(vPosition) > uRadius-2.0){\n\t\t\tgl_FragColor = vec4( ncolor, 1.0 );\n\t\t} else {\n\t\t\tfloat angle = calcAngle(vPosition);\n\t\t\tif(angle < uFollowWidth){\n\t\t\t\t// 尾焰区域\n\t\t\t\tfloat opacity =  1.0 - angle / uFollowWidth; \n\t\t\t\tgl_FragColor = vec4( ncolor, 1.0 * opacity );  \n\t\t\t} else {\n\t\t\t\t// 其他位置的像素均为透明\n\t\t\t\tgl_FragColor = vec4( ncolor, 0.0 ); \n\t\t\t}\n\t\t}\n\t}\n  ","test","5428820EQjNwv","1568853EIHmnP","MeshRef","string","uniforms","error","prototype","ncolor","value","3YvLmAo","size","function *\\( *\\)","position","2wMhWdb","TresShaderMaterial","console","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","\n\tvarying vec3 vPosition;\n\tvoid main() {\n\t\tvPosition = position;\n\t\tvec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\t\tvec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n    gl_Position = projectionPosition;\n  }\n  ","TresCircleGeometryRef","uRadius","chain","init","debu","33tduJLO","while (true) {}","bind","radraA","217237kmGoJt","speed",'{}.constructor("return this")( )',"426WEqZDs","input","action","gger","#ffff00","apply","TresCircleGeometry","TresMesh","info","color","args","radius","toString","warn","32dozzMP","14899092EaMhQB","104735xPdPmv"];return(F=function(){return n})()}const j=B;!function(n,t){const o=B,e=F();for(;;)try{if(772680===-parseInt(o(316))/1*(-parseInt(o(302))/2)+-parseInt(o(298))/3*(parseInt(o(345))/4)+parseInt(o(335))/5*(-parseInt(o(319))/6)+parseInt(o(337))/7*(parseInt(o(333))/8)+-parseInt(o(346))/9+parseInt(o(342))/10*(parseInt(o(312))/11)+parseInt(o(334))/12)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const k=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[B(324)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){k(this,(function(){const n=B,t=new RegExp(n(300)),o=new RegExp(n(305),"i"),e=Z(n(310));t[n(344)](e+n(309))&&o.test(e+n(320))?Z():e("0")}))()}();const O=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o.apply(t,arguments);return o=null,n}}:function(){};return n=!1,e}}();O(void 0,(function(){const n=B,t=function(){const n=B;let t;try{t=Function(n(336)+n(318)+");")()}catch(o){t=window}return t}(),o=t.console=t[n(304)]||{},e=["log",n(332),n(327),n(350),"exception","table",n(339)];for(let r=0;r<e.length;r++){const t=O[n(341)][n(351)][n(314)](O),i=e[r],a=o[i]||t;t.__proto__=O.bind(O),t[n(331)]=a[n(331)][n(314)](a),o[i]=t}}))();const C=["position"],E=[j(329)];function B(n,t){const o=F();return B=function(n,t){return o[n-=297]},B(n,t)}const W=o({__name:j(315),props:{position:{default:[0,0,0]},size:{default:300},radius:{default:240},color:{default:j(323)},opacity:{default:.9},speed:{default:300},followWidth:{default:220}},setup(n,{expose:o}){const e=j,r=n,{onLoop:i}=t(),l={value:0},f=p();i((({delta:n})=>{l[B(297)]+=n}));const x={transparent:!0,blending:v,depthWrite:!1,side:m,depthTest:!0,vertexShader:e(306),fragmentShader:e(343),uniforms:{uSpeed:{value:r[e(317)]},uRadius:{value:r[e(330)]},uTime:l,uFollowWidth:{value:r[e(338)]},ncolor:{value:new y(r.color)}}};d(f,((n,t)=>{const o=e;if(n&&void 0===t){const n=(new w).makeRotationX(-Math.PI/180*90);f[o(297)][o(340)](n)}}));const _=p();return a((()=>{const n=e;r[n(328)]&&(x[n(349)][n(352)][n(297)]=new y(r[n(328)])),r.radius&&(x.uniforms[n(308)].value=r[n(330)])})),p(-Math.PI/180*90),o({MeshRef:_}),(n,t)=>{const o=e;return s(),c(o(326),{ref_key:o(347),ref:_,position:r[o(301)]},[u(o(325),{ref_key:o(307),ref:f,args:[r[o(299)],1e3]},null,8,E),u(o(303),g(h(x)),null,16)],8,C)}}});function Z(n){function t(n){const o=B;if(typeof n===o(348))return function(n){}[o(341)](o(313))[o(324)]("counter");1!==(""+n/n).length||n%20==0?function(){return!0}[o(341)](o(311)+o(322)).call(o(321)):function(){return!1}.constructor("debu"+o(322)).apply("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(o){}}const G=Q;!function(n,t){const o=Q,e=$();for(;;)try{if(820255===-parseInt(o(175))/1+-parseInt(o(212))/2*(parseInt(o(180))/3)+parseInt(o(208))/4*(-parseInt(o(196))/5)+-parseInt(o(203))/6+-parseInt(o(187))/7+parseInt(o(218))/8*(-parseInt(o(193))/9)+parseInt(o(213))/10)break;e.push(e.shift())}catch(r){e.push(e.shift())}}();const L=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[Q(166)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();!function(){L(this,(function(){const n=Q,t=new RegExp(n(194)),o=new RegExp(n(186),"i"),e=D("init");t[n(181)](e+n(165))&&o[n(181)](e+n(164))?D():e("0")}))()}();const J=function(){let n=!0;return function(t,o){const e=n?function(){if(o){const n=o[Q(166)](t,arguments);return o=null,n}}:function(){};return n=!1,e}}();function $(){const n=["stateObject","MeshRef",'{}.constructor("return this")( )',"max","clone","log","length","98964vLQnsS","toString","TresTubeGeometry","color","\n\tuniform vec3 uColor; // 光墙半径        \n  uniform vec3 uMax; \n  uniform vec3 uMin;\n  uniform mat4 modelMatrix; // 世界矩阵\n  varying vec4 vPosition; // 接收顶点着色传递进来的位置数据\n  void main() {\n    // 转世界坐标\n    vec4 uMax_world = modelMatrix * vec4(uMax,1.0);\n    vec4 uMin_world = modelMatrix * vec4(uMin,1.0);\n    // 根据像素点世界坐标的y轴高度,设置透明度\n    float opacity =1.0 - (vPosition.y - uMin_world.y) / (uMax_world.y -uMin_world.y) ; \n    gl_FragColor = vec4( uColor, opacity);\n  }\n  ","2859138JzMrAR","test","debu","args","scale","TresShaderMaterial","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","6811420EjTOuS","table","height","while (true) {}","value","prototype","2462769kLRxHP","function *\\( *\\)","error","5nePlie","period","position","bind","makeScale","applyMatrix4","TresTubeGeometryRef","8968722InGcSO","min","call","opacity","boundingBox","955124ZnqymS","TresMesh","gger","uColor","2QjZaBP","51261750cDiGIw","trace","radraB","radius","constructor","16LJsfJz","__proto__","string","input","chain","apply","updateMatrix"];return($=function(){return n})()}function Q(n,t){const o=$();return Q=function(n,t){return o[n-=162]},Q(n,t)}J(void 0,(function(){const n=Q;let t;try{t=Function("return (function() "+n(170)+");")()}catch(r){t=window}const o=t.console=t.console||{},e=[n(173),"warn","info",n(195),"exception",n(188),n(214)];for(let i=0;i<e[n(174)];i++){const t=J[n(217)][n(192)][n(199)](J),r=e[i],a=o[r]||t;t[n(162)]=J[n(199)](J),t[n(176)]=a.toString.bind(a),o[r]=t}}))();const H=[G(198)],N=[G(183)],q=o({__name:G(215),props:{position:{default:[0,0,0]},radius:{default:10},maxRadius:{default:200},color:{default:"#ffff00"},opacity:{default:.5},period:{default:2},height:{default:100}},setup(n,{expose:o}){const e=G,r=n,i=p(),l=p(1),f=p(.1),v={color:r[e(178)],opacity:r[e(206)],transparent:!0,depthWrite:!1,depthTest:!0,side:m,vertexShader:"\n\tvarying vec4 vPosition;\n  void main() {\n    vPosition = modelMatrix * vec4(position,1.0);\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n  ",fragmentShader:e(179),uniforms:{uMax:l,uMin:f,uColor:{value:new y(r.color)}}},M=p();let I=null;d(M,((n,t)=>{const o=e;n&&void 0===t&&(M[o(191)].computeBoundingBox(),l[o(191)]=M[o(191)].boundingBox[o(171)],f[o(191)]=M.value[o(207)][o(204)],I=i[o(191)][o(184)][o(172)]())}));const b=p(new x(new _(0,0,0),new _(0,r[e(189)],0)));a((()=>{const n=e;r[n(178)]&&(v.uniforms[n(211)].value=new y(r[n(178)]))}));const{onLoop:P}=t(),A={value:0};return P((({delta:n})=>{const t=e;A[t(191)]+=n;const o=(A[t(191)]%r.period/r[t(197)]*(r.maxRadius-r[t(216)])+r[t(216)])/r[t(216)],a=(new w)[t(200)](o,1,o);I&&(i[t(191)][t(184)].copy(I[t(172)]()[t(201)](a)),i.value[t(167)]())})),o({MeshRef:i}),(n,t)=>{const o=e;return s(),c(o(209),{ref_key:o(169),ref:i,position:r[o(198)],renderOrder:2e3},[u(o(177),{ref_key:o(202),ref:M,args:[b[o(191)],20,r[o(216)],100,!1]},null,8,N),u(o(185),g(h(v)),null,16)],8,H)}}});function D(n){function t(n){const o=Q;if(typeof n===o(163))return function(n){}.constructor(o(190))[o(166)]("counter");1!==(""+n/n)[o(174)]||n%20==0?function(){return!0}.constructor(o(182)+o(210))[o(205)]("action"):function(){return!1}[o(217)](o(182)+o(210)).apply(o(168)),t(++n)}try{if(n)return t;t(0)}catch(o){}}export{S as _,W as a,q as b};
