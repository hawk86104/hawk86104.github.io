import{V as t,_ as n,h as e}from"./three.jaHX2_hY1736406294003.js";import{m as a}from"./@tresjs.AACxYGk_1736406294003.js";import{d as o,P as r}from"./@pmndrs.4D3EB6G21736406294003.js";import{d as s,b as i,w as c,a1 as l,o as u,D as p,J as f,aj as h,ak as d}from"./@vue.yG49nQHr1736406294003.js";const m=y;!function(t,n){const e=y,a=w();for(;;)try{if(836057===parseInt(e(228))/1+parseInt(e(278))/2*(-parseInt(e(219))/3)+parseInt(e(235))/4*(parseInt(e(230))/5)+parseInt(e(212))/6+-parseInt(e(197))/7*(parseInt(e(237))/8)+parseInt(e(246))/9*(-parseInt(e(275))/10)+-parseInt(e(273))/11)break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const g=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,a}}();function w(){const t=["accumulativeShadowsCom","10141910MxMIFa","color","intensity","8XDltUY","random","while (true) {}","near","remove","14mPLIDd","blend","gger","#000000","blendWindow","radius","alphaTest","clear","size","opacity","string","TresSoftShadowMaterial","action","console","right","9265866VIHTWg","set","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","counter","children","randFloatSpread","388377WQFKHw","debu","abs","shadows render start","length","chain","progressiveLightMap2","test","DirectionalLight","740284cLiWOt","texture","45sYKsWz","__proto__","lightPosition","left","cos","162860BvGlaX","amount","320296BvLcvN","bias","Group","shadows plm update","warn","shadow","MathUtils","error","gPlane","9dPxlBv","material","ambient","log","function *\\( *\\)","exception","call","frames","init","finish","return (function() ","TresPlaneGeometry","add","constructor","value",'{}.constructor("return this")( )',"bind","update","apply","camera","toString","position","width","trace","mapSize","far","configure","2231592ZYACLn"];return(w=function(){return t})()}!function(){g(this,(function(){const t=y,n=new RegExp(t(250)),e=new RegExp(t(215),"i"),a=v(t(254));n[t(226)](a+t(224))&&e[t(226)](a+"input")?v():a("0")}))()}();const b=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[y(264)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();b(void 0,(function(){const t=y;let n;try{n=Function(t(256)+t(261)+");")()}catch(o){n=window}const e=n[t(210)]=n[t(210)]||{},a=[t(249),t(241),t(214),t(244),t(251),"table",t(269)];for(let r=0;r<a[t(223)];r++){const n=b[t(259)].prototype[t(262)](b),o=a[r],s=e[o]||n;n[t(231)]=b[t(262)](b),n[t(266)]=s.toString.bind(s),e[o]=n}}))();const M=["rotate-x"];function y(t,n){const e=w();return(y=function(t,n){return e[t-=195]})(t,n)}const I=s({__name:m(274),props:{opacity:{default:.8},alphaTest:{default:.9},color:{default:m(200)},blend:{default:2},lightPosition:{default:{x:3,y:5,z:3}},frames:{default:60},blendWindow:{default:100},ambient:{default:.5}},setup(s){const g=m,w=s;let b=i();const{extend:y,scene:I,renderer:v,camera:x}=a();y({SoftShadowMaterial:o});const z={position:(new t)[g(213)](w[g(232)].x,w[g(232)].y,w[g(232)].z),radius:1,amount:8,intensity:Math.PI,bias:.001,mapSize:1024,size:8,near:.5,far:200},P=new r(v[g(260)],I[g(260)],z[g(270)]),S={map:P[g(225)][g(229)],transparent:!0,depthWrite:!1,toneMapped:!0,blend:w.blend,alphaTest:w.alphaTest,opacity:w[g(206)],color:w[g(276)]},_=new(n[g(239)]);for(let t=0;t<z.amount;t++){const t=new(n[g(227)])(16777215,z[g(277)]/z[g(236)]);t.castShadow=!0,t[g(242)][g(238)]=z.bias,t.shadow[g(265)][g(195)]=z[g(195)],t[g(242)][g(265)][g(271)]=z.far,t[g(242)][g(265)][g(211)]=z[g(205)]/2,t[g(242)].camera[g(233)]=-z[g(205)]/2,t[g(242)][g(265)].top=z[g(205)]/2,t[g(242)][g(265)].bottom=-z.size/2,t[g(242)][g(270)][g(268)]=z[g(270)],t[g(242)].mapSize.height=z[g(270)],_[g(258)](t)}const T=()=>{const t=g,a=z[t(267)].length();for(let o=0;o<_[t(217)].length;o++){const r=_.children[o];if(Math[t(279)]()>w[t(248)])r[t(267)][t(213)](z.position.x+n[t(243)][t(218)](z.radius),z[t(267)].y+e[t(218)](z[t(202)]),z.position.z+n[t(243)][t(218)](z[t(202)]));else{let n=Math.acos(2*Math[t(279)]()-1)-Math.PI/2,e=2*Math.PI*Math[t(279)]();r[t(267)][t(213)](Math[t(234)](n)*Math.cos(e)*a,Math[t(221)](Math[t(234)](n)*Math.sin(e)*a),Math.sin(n)*a)}}},j=(t=1)=>{const n=g;I.value[n(258)](_),P.prepare();for(let e=0;e<t;e++)T(),P[n(263)](x[n(260)],w[n(201)]),console.log(n(240),e);I[n(260)][n(196)](_),P[n(255)]()};c((()=>b[g(260)]),(t=>{const n=g;t&&(P[n(272)](t),P[n(204)](),console[n(249)](n(222)),j(w[n(253)]),console[n(249)]("shadows render end"))}));const W=()=>{const t=g;P[t(204)](),j(w[t(253)])};return l((()=>{const t=g;b[t(260)]&&(w.opacity&&(b.value[t(247)][t(206)]=w[t(206)]),w.alphaTest&&(b[t(260)][t(247)][t(203)]=w[t(203)]),w.color&&b.value.material[t(276)][t(213)](w[t(276)]),w.blend&&(b.value[t(247)][t(198)]=w.blend))})),c((()=>w.lightPosition),(t=>{const n=g;t&&(console[n(249)](w[n(232)]),z[n(267)][n(213)](t.x,t.y,t.z),W())}),{deep:!0}),c((()=>[w[g(253)],w[g(201)],w[g(248)]]),(()=>{W()})),(t,n)=>{const e=g;return u(),p("TresMesh",{"receive-shadow":"",ref_key:e(245),ref:b,scale:10,"rotate-x":-Math.PI/2},[n[0]||(n[0]=f(e(257),{args:[1,1]},null,-1)),f(e(208),h(d(S)),null,16)],8,M)}}});function v(t){function n(t){const e=y;if(typeof t===e(207))return function(t){}[e(259)](e(280)).apply(e(216));1!==(""+t/t)[e(223)]||t%20==0?function(){return!0}[e(259)](e(220)+"gger")[e(252)](e(209)):function(){return!1}[e(259)](e(220)+e(199))[e(264)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{I as _};
