import{i as t}from"./ice-utils.UTyusxFB1729820105274.js";import{_ as n,l as e}from"./gl-matrix.dcoIu8f11729820105274.js";import{P as o}from"./tweakpane.yHWGBmom1729820105274.js";import{d as r,r as i,q as a,o as c,E as s,L as u,u as f}from"./@vue.bvMz0l_u1729820105274.js";const l="\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nuniform mat4 uProjection;\nuniform mat4 uView;\nuniform mat4 uModel;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=uProjection*uView*uModel*vec4(aPosition,1.);\n}",m="\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\n\nvoid main()\n{\n    gl_FragColor=texture2D(textureSampler,texCoords);\n}";function _(){const t=["STATIC_DRAW","value","inline","create","RGBA","UNSIGNED_BYTE","offset_left_top","7COnJgo","mat4","info","bind","canvaswebgl","offset_right_top","none","addBinding","constructor","ortho","logo-texture","4883220MRSzxb","scale","ONE_MINUS_SRC_ALPHA","exception","37645kRJJyh","TEXTURE_MIN_FILTER","ARRAY_BUFFER","width","webglPostProcessing","uModel","addBlade","texParameteri","trace","getUniformLocation","1074hSEMlG","innerHeight","offset_left_bottom","FRAMEBUFFER","hidden","init","3DZXQCt","vertexAttribPointer","error","debu","webgl","call","chain","canvas","TEXTURE_WRAP_T","log","string","prototype","bindTexture","framebufferTexture2D","TRIANGLES","enableVertexAttribArray","test","while (true) {}","ELEMENT_ARRAY_BUFFER","console","change","bindBuffer","1565142SSFCzn","createTexture","bindFramebuffer","texImage2D","translate","uProjection","warn","TEXTURE_2D","890236ZGenus","NEAREST","__proto__","src","apply","height","createFramebuffer","549142HQlFuD","CLAMP_TO_EDGE","img","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","260NyaKVr","length","enable","toString","blendFunc","input","counter","COLOR_BUFFER_BIT","drawElements","116162rUzpmT","innerWidth","uView","uniformMatrix4fv","getContext","gger","bufferData","FLOAT","createBuffer","6343184SCvSpt","BYTES_PER_ELEMENT","getElementById","useProgram","action","COLOR_ATTACHMENT0"];return(_=function(){return t})()}const x=A;!function(t,n){const e=A,o=_();for(;;)try{if(770629===parseInt(e(454))/1*(-parseInt(e(504))/2)+parseInt(e(476))/3+parseInt(e(484))/4+parseInt(e(438))/5*(-parseInt(e(448))/6)+parseInt(e(423))/7*(parseInt(e(513))/8)+-parseInt(e(434))/9+-parseInt(e(495))/10*(-parseInt(e(491))/11))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const d=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){d(this,(function(){const t=A,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(494),"i"),o=T(t(453));n.test(o+t(460))&&e[t(470)](o+t(500))?T():o("0")}))()}();const p=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();p(void 0,(function(){const t=A;let n;try{n=Function('return (function() {}.constructor("return this")( ));')()}catch(r){n=window}const e=n.console=n[t(473)]||{},o=[t(463),t(482),t(425),t(456),t(437),"table",t(446)];for(let i=0;i<o[t(496)];i++){const n=p[t(431)][t(465)][t(426)](p),r=o[i],a=e[r]||n;n[t(486)]=p[t(426)](p),n[t(498)]=a[t(498)].bind(a),e[r]=n}}))();const g={id:x(427)},E=[x(487)];function A(t,n){const e=_();return(A=function(t,n){return e[t-=420]})(t,n)}const R=r({__name:x(442),setup(r){const _=x;let d,p,A,R,T,b,y,F,v,h,C,P,w;const I=1,S=.71,B=.76,U=new o({title:"参数"}),L=i({hidden:!0,offset_right_top:{x:.5,y:.5},offset_right_bottom:{x:.5,y:.5},offset_left_top:{x:.5,y:.5},offset_left_bottom:{x:.5,y:.5},overlay:{r:1,g:0,b:.33}});U[_(444)]({view:"slider",label:"颜色",min:0,max:1,value:.5}).on(_(474),(t=>{const n=_;O(),p.uniform1f(P,t[n(520)])}));let D=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]);U[_(430)](L,_(452),{label:"是否后处理"}),U[_(430)](L,_(428),{picker:"inline",x:{min:0,max:1},y:{min:0,max:1}}).on("change",(t=>{const n=_;D[0]=L.offset_right_top.x,D[1]=L[n(428)].y,O()})),U[_(430)](L,"offset_right_bottom",{picker:"inline",x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(474),(t=>{D[5]=L.offset_right_bottom.x,D[6]=L.offset_right_bottom.y,O()})),U[_(430)](L,_(450),{picker:_(521),x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(474),(t=>{const n=_;D[10]=L.offset_left_bottom.x,D[11]=L[n(450)].y,O()})),U.addBinding(L,_(422),{picker:_(521),x:{min:-1,max:1},y:{min:-1,max:1}}).on(_(474),(t=>{const n=_;D[15]=L[n(422)].x,D[16]=L[n(422)].y,O()})),a((()=>{M()}));const M=function(){const n=_;d=document.querySelector("#canvaswebgl"),d[n(441)]=window[n(505)],d[n(489)]=window[n(449)],p=d[n(508)](n(458)),p&&(function(){const n=_,e=new Float32Array([.5,.5,0,1,1,.5,-.5,0,1,0,-.5,-.5,0,0,0,-.5,.5,0,0,1]),o=new Uint8Array([0,1,2,0,2,3]);R=k(e,o),A=t(p,l,m),v=p[n(447)](A,n(481)),h=p[n(447)](A,n(506)),C=p[n(447)](A,n(443)),w=j(document[n(515)]("logo-texture"))}(),O(),p[n(497)](p.BLEND),p[n(499)](p.SRC_ALPHA,p[n(436)]),N())};function N(){const t=_;p[t(478)](p[t(451)],y),p.clearColor(I,S,B,1),p.clear(p[t(502)]),function(){const t=_;p[t(516)](A),p[t(475)](p[t(440)],R);const o=n[t(424)].create();n[t(424)][t(432)](o,0,d[t(441)],d[t(489)],0,.1,100),p[t(507)](v,!1,o);const r=n[t(424)][t(522)]();e(r,[0,0,1],[0,0,0],[0,1,0]),p[t(507)](h,!1,r),G(w,600,600),G(w,400,400)}(),p[t(478)](p[t(451)],null),L.hidden&&(p.clear(p[t(502)]),p.clearColor(0,0,1,1),p.bindBuffer(p.ARRAY_BUFFER,T),p[t(516)](b),p[t(466)](p[t(483)],F)),p[t(503)](p[t(468)],6,p[t(421)],0),requestAnimationFrame(N)}function G(t,e,o){const r=_;let i=n[r(424)][r(522)]();n[r(424)][r(480)](i,i,[e,o,0]),n[r(424)][r(435)](i,i,[250,250,0]),p[r(507)](C,!1,i),p[r(466)](p[r(483)],t),p[r(503)](p.TRIANGLES,6,p[r(421)],0)}function O(){const n=new Uint8Array([0,1,2,0,2,3]);T=k(D,n),b=t(p,"\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoords;\n\nvarying vec2 texCoords;\n\nvoid main()\n{\n    texCoords=aTexCoords;\n    gl_Position=vec4(aPosition,1.);\n}","\nprecision mediump float;\n\nvarying vec2 texCoords;\n\nuniform sampler2D textureSampler;\nuniform float mixParam;\nvoid main()\n{\n    // float luminance=dot(texture2D(textureSampler,texCoords).rgb,vec3(.3451,.2118,.302));\n    vec4 color=mix(texture2D(textureSampler,texCoords),vec4(.1098,.6784,.1843,1.),mixParam);\n    gl_FragColor=color;\n}"),P=p.getUniformLocation(b,"mixParam"),p.getUniformLocation(b,"color"),function(){const t=_;F=j(d),y=p[t(490)](),p.bindFramebuffer(p.FRAMEBUFFER,y),p[t(467)](p[t(451)],p[t(518)],p[t(483)],F,0),p[t(478)](p[t(451)],null)}()}function j(t){const n=_,e=p[n(477)]();return p.bindTexture(p[n(483)],e),t instanceof HTMLImageElement?p[n(479)](p[n(483)],0,p.RGBA,p.RGBA,p[n(421)],t):p[n(479)](p[n(483)],0,p[n(420)],t[n(441)],t[n(489)],0,p[n(420)],p[n(421)],null),p[n(445)](p[n(483)],p[n(439)],p[n(485)]),p.texParameteri(p[n(483)],p.TEXTURE_MAG_FILTER,p[n(485)]),p[n(445)](p[n(483)],p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p[n(445)](p.TEXTURE_2D,p[n(462)],p[n(492)]),e}function k(t,n){const e=_,o=p.createBuffer();p[e(475)](p[e(440)],o),p[e(510)](p[e(440)],t,p[e(519)]);const r=3*Float32Array[e(514)]+2*Float32Array[e(514)];p[e(455)](0,3,p[e(511)],!1,r,0),p[e(469)](0),p[e(455)](1,2,p[e(511)],!1,r,3*Float32Array[e(514)]),p[e(469)](1);const i=p[e(512)]();return p[e(475)](p.ELEMENT_ARRAY_BUFFER,i),p[e(510)](p[e(472)],n,p.STATIC_DRAW),p[e(475)](p[e(440)],null),o}return(t,n)=>{const e=_;return c(),s(e(461),g,[u(e(493),{id:e(433),src:f("./")+"/plugins/postProcessing/image/logo.png",style:{display:e(429)}},null,8,E)])}}});function T(t){function n(t){const e=A;if(typeof t===e(464))return function(t){}[e(431)](e(471))[e(488)](e(501));1!==(""+t/t)[e(496)]||t%20==0?function(){return!0}[e(431)](e(457)+e(509))[e(459)](e(517)):function(){return!1}.constructor(e(457)+e(509)).apply("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{R as default};
