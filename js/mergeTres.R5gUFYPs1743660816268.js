import{A as t}from"./@amap.c8pGcSIC1743660816268.js";import{v as n,d as e,q as a,o,H as r,a2 as c}from"./@vue.B5PFBfKs1743660816268.js";import{_ as s}from"./@fesjs.9AUNBPBQ1743660816268.js";import{m as u}from"./@tresjs.zc7faK4J1743660816268.js";import{d as i}from"./pinia.0dYyFDku1743660816268.js";const l=v;function p(){const t=["apply","error","1648536jVcnBV","2684969LzFkkk","prototype","log","debu","trace","table","stateObject","mapStore","860140HyGqlB","gger","string","6871696DoGLnQ","action","constructor","input","warn","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2XUYmhM","bind","1550618xFSPsT","counter","console","__proto__","267185CntvBw",'{}.constructor("return this")( )',"toString","while (true) {}","exception","length","1755906sCMMUX","call","test","chain"];return(p=function(){return t})()}!function(t,n){const e=v,a=p();for(;;)try{if(780233===parseInt(e(310))/1+-parseInt(e(308))/2*(-parseInt(e(320))/3)+parseInt(e(335))/4+-parseInt(e(314))/5+-parseInt(e(326))/6+-parseInt(e(327))/7+-parseInt(e(338))/8)break;a.push(a.shift())}catch(o){a.push(a.shift())}}();const f=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[v(324)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();!function(){f(this,(function(){const t=v,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(344),"i"),a=h("init");n[t(322)](a+t(323))&&e.test(a+t(341))?h():a("0")}))()}();const m=function(){let t=!0;return function(n,e){const a=t?function(){if(e){const t=e[v(324)](n,arguments);return e=null,t}}:function(){};return t=!1,a}}();m(void 0,(function(){const t=v;let n;try{n=Function("return (function() "+t(315)+");")()}catch(o){n=window}const e=n[t(312)]=n[t(312)]||{},a=[t(329),t(342),t(343),t(325),t(318),t(332),t(331)];for(let r=0;r<a[t(319)];r++){const n=m[t(340)][t(328)][t(309)](m),o=a[r],c=e[o]||n;n[t(313)]=m[t(309)](m),n[t(316)]=c[t(316)][t(309)](c),e[o]=n}}))();const d=i(l(334),(()=>({aMap:n(null),mapHandle:n(null),cameraState:n(null)})));function v(t,n){const e=p();return v=function(t,n){return e[t-=308]},v(t,n)}function h(t){function n(t){const e=v;if(typeof t===e(337))return function(t){}.constructor(e(317))[e(324)](e(311));1!==(""+t/t)[e(319)]||t%20==0?function(){return!0}.constructor(e(330)+e(336))[e(321)](e(339)):function(){return!1}[e(340)]("debu"+e(336))[e(324)](e(333)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const g={id:"mapContainer"},y=s(e({__name:"mapContainer",props:{center:{default:[0,0]},zoom:{default:14},pitch:{default:50},mapStyle:{default:"normal"}},setup(n){const e=n,c=d();let s=null;return a((async()=>{await t.load({key:"0c7222955570f1b434c4adfcc1e955e8",version:"2.0"}).then((t=>{s=new t.Map("mapContainer",{center:e.center,zooms:[1,20],viewMode:"3D",zoom:e.zoom,pitch:e.pitch,mapStyle:"amap://styles/"+e.mapStyle}),s.on("click",(t=>{const n=`您在 [ ${t.lnglat.getLng()},${t.lnglat.getLat()} ] 的位置单击了地图！`;console.log(n)})),c.$patch({aMap:t}),c.$patch({mapHandle:s})})).catch((t=>{console.log(t)}))})),(t,n)=>(o(),r("div",g))}}),[["__scopeId","data-v-e1a7e2c4"]]),_={__name:"mergeTres",props:{center:{default:[0,0]}},setup(t){const n=t,{camera:e,scene:a,renderer:o}=u(),r=d();let s=null,i=null;return c((()=>{r.aMap&&(s=r.mapHandle.customCoords,i=new r.aMap.CustomLayer(o.value.domElement,{zIndex:10,render:()=>{o.value.resetState(),s.setCenter(n.center);const{near:t,far:c,fov:u,up:i,lookAt:l,position:p}=s.getCameraParams();e.value.near=t,e.value.far=c,e.value.fov=u,r.$patch({cameraState:{near:t,far:c,fov:u,position:p}}),e.value.position.set(...p),e.value.up.set(...i),e.value.lookAt(...l),e.value.updateProjectionMatrix(),o.value.render(a.value,e.value),o.value.resetState()},alwaysRender:!0}),r.mapHandle.add(i))})),(t,n)=>null}};export{_,y as m,d as u};
