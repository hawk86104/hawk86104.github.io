import{a3 as t,C as n,k as e,t as r,s as o,c0 as i}from"./three.-z-VOBM71731641201182.js";import{m as s,b as c}from"./@tresjs.b88d4FZI1731641201182.js";import{R as a,a as u}from"./all.three.2tQ_z9k71731641201182.js";import{d as f,a6 as l,a3 as p,w as m,o as h,D as w,J as d,u as g}from"./@vue.-THQH3GC1731641201182.js";const y=v;!function(t,n){const e=v,r=x();for(;;)try{if(554283===parseInt(e(310))/1*(-parseInt(e(277))/2)+-parseInt(e(307))/3+parseInt(e(317))/4*(-parseInt(e(323))/5)+-parseInt(e(289))/6+parseInt(e(324))/7*(parseInt(e(297))/8)+parseInt(e(321))/9*(-parseInt(e(283))/10)+parseInt(e(280))/11*(parseInt(e(275))/12))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function x(){const t=["3692958WPNMLf","wrapT","color","apply","return (function() ","while (true) {}","uMirror","renderTargetUniform","632qWSuaP","table","counter","trace","string",'{}.constructor("return this")( )',"uniforms","bind","update","console","1641582xKspdl","uColor","mirror","1wdowyB","rotation","action","function *\\( *\\)","info","position","fog","4Qfriyk","TresGroup","toString","constructor","9ObFcaQ","mixStrength","4701735UhAwwY","83727fGXiYv","uMatrix","visible","add","showGridHelper","value","gger","object","wrapS","reflectorShaderMesh","debu","length","call","__proto__","name","1507116epRJBg","prototype","84362NwAsyf","test","warn","176VEOzyV","reflectivity","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","2549090VWoUMZ","uReflectivity","log","error","primitive","scale"];return(x=function(){return t})()}!function(){b(this,(function(){const t=v,n=new RegExp(t(313)),e=new RegExp(t(282),"i"),r=R("init");n[t(278)](r+"chain")&&e.test(r+"input")?R():r("0")}))()}();const _=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[v(292)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function v(t,n){const e=x();return(v=function(t,n){return e[t-=265]})(t,n)}_(void 0,(function(){const t=v;let n;try{n=Function(t(293)+t(302)+");")()}catch(o){n=window}const e=n.console=n[t(306)]||{},r=[t(285),t(279),t(314),t(286),"exception",t(298),t(300)];for(let i=0;i<r[t(271)];i++){const n=_[t(320)][t(276)][t(304)](_),o=r[i],s=e[o]||n;n[t(273)]=_.bind(_),n[t(319)]=s[t(319)].bind(s),e[o]=n}}))();const I=[y(315),y(288)],S=["object"],j=[y(267)],M=f({__name:"reflectorShaderMesh",props:{reflectivity:{default:.2},mirror:{default:.1},mixStrength:{default:9},showGridHelper:{type:Boolean,default:!0},color:{default:"#ffffff"},position:{default:[0,-1,0]},scale:{default:1}},async setup(f){const b=y;let x,_;const v=f,{scene:M}=s(),R=([x,_]=l((()=>c(["./plugins/floor/image/concrete_wet_floor_basecolor.jpg","./plugins/floor/image/concrete_wet_floor_normal.jpg"]))),x=await x,_(),x);R[0][b(268)]=t,R[0][b(290)]=t,R[1].wrapS=t,R[1][b(290)]=t;const A=new a,B=new u({reflectivity:v[b(281)],mirror:v[b(309)],mixStrength:v.mixStrength,color:new n(v[b(291)]),map:R[0],normalMap:R[1],normalScale:new e(5,5),fog:M[b(316)],dithering:!0});B[b(303)].tReflect=A[b(296)],B[b(303)][b(325)]=A.textureMatrixUniform;const E=new r(10,10),G=new o(E,B);G[b(274)]=b(269),G[b(315)].y=-.01,G[b(311)].x=-Math.PI/2,G[b(327)](A),G.onBeforeRender=(t,n,e)=>{const r=b;G[r(326)]=!1,A[r(305)](t,n,e),G[r(326)]=!0};const U=new i(9.5,10);return U[b(326)]=v[b(328)],p((()=>{const t=b;v.reflectivity&&(B[t(303)][t(284)][t(265)]=v[t(281)]),v[t(309)]&&(B[t(303)][t(295)][t(265)]=v[t(309)]),v[t(322)]&&(B[t(303)].uMixStrength[t(265)]=v.mixStrength),v[t(291)]&&(B[t(303)][t(308)].value=new n(v.color))})),m((()=>v[b(328)]),(t=>{U[b(326)]=t})),(t,n)=>{const e=b;return h(),w(e(318),{position:v[e(315)],scale:v[e(288)]},[d(e(287),{object:g(G)},null,8,S),d("primitive",{object:g(U)},null,8,j)],8,I)}}});function R(t){function n(t){const e=v;if(typeof t===e(301))return function(t){}[e(320)](e(294))[e(292)](e(299));1!==(""+t/t)[e(271)]||t%20==0?function(){return!0}[e(320)](e(270)+e(266))[e(272)](e(312)):function(){return!1}[e(320)](e(270)+e(266))[e(292)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{M as _};
