import"./index.3YF1ftF11753438381880.js";import{e as t,k as e,a as o}from"./@tresjs.CL21cZKR1753438381880.js";import{_ as n}from"./index.D__mh6AF1753438381880.js";import{_ as a}from"./component.vue_vue_type_script_setup_true_lang.CmfCGt4E1753438381880.js";import{d as r,b as i,s,G as l,o as d,I as u,L as c,e as m,f as p,j as f,u as g,F as h,W,a5 as y,aa as _,r as b,a7 as x,a8 as k,h as v}from"./@vue.BzMISRrV1753438381880.js";import{P as j}from"./tweakpane.C0HtAJSg1753438381880.js";import{g as S,V as C,S as w,au as R,bb as P,aa as B,_ as M,Y as I}from"./three.0XnumNGx1753438381880.js";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang.BjhVhePE1753438381880.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang.DLN98Feo1753438381880.js";import{_ as G}from"./accumulativeShadowsCom.vue_vue_type_script_setup_true_lang.DaEhqfYZ1753438381880.js";import{_ as K}from"./randomLoading.vue_vue_type_script_setup_true_lang.DEpvjsJ21753438381880.js";import"./utils.BYPsKfP61753438381880.js";import"./@fesjs.Dp_6UiTt1753438381880.js";import"./vue-router.C4RxDKc01753438381880.js";import"./lodash-es.C7pWAXPe1753438381880.js";import"./@qlin.q6OWdsQV1753438381880.js";import"./pinia.DxBg6W7y1753438381880.js";import"./@babel.BPq7uOAK1753438381880.js";import"./@floating-ui.BFjFSAYt1753438381880.js";import"./@juggle.CcBCnTIR1753438381880.js";import"./index.Cp049VOq1753438381880.js";import"./three-mesh-ui.module.CE3wHlBQ1753438381880.js";import"./postprocessing.Bts7n4b31753438381880.js";import"./@vueuse.B7eBfla_1753438381880.js";import"./object-hash.DYHtc3m61753438381880.js";import"./@amap.CGUF9xH41753438381880.js";import"./jszip.CUJi8Lct1753438381880.js";import"./three-stdlib.BgQiFB3D1753438381880.js";import"./@pmndrs.Ce3ovCDj1753438381880.js";import"./index.BYiH2RBb1753438381880.js";import"./starLoading.DgJMNOgx1753438381880.js";import"./cssLoaders.BOWWyhX-1753438381880.js";import"./bubbleLoading.CZtxOxL91753438381880.js";import"./yangyangLoading.DPMKG6cS1753438381880.js";const z=r({__name:"index",props:{precise:{type:Boolean,default:!0},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1},front:{type:Boolean,default:!1},back:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},disableX:{type:Boolean,default:!1},disableY:{type:Boolean,default:!1},disableZ:{type:Boolean,default:!1}},setup(t){const e=t,o=i(null),n=i(null),a=i(null);return s((()=>{if(!n.value)return;if(!a.value)return;n.value.matrixWorld.identity();const t=(new S).setFromObject(a.value,e.precise),o=new C,r=new w,i=t.max.x-t.min.x,s=t.max.y-t.min.y,l=t.max.z-t.min.z;t.getCenter(o),t.getBoundingSphere(r);const d=e.top?s/2:e.bottom?-s/2:0,u=e.left?-i/2:e.right?i/2:0,c=e.front?l/2:e.back?-l/2:0;n.value.position.set(e.disable||e.disableX?0:-o.x+u,e.disable||e.disableY?0:-o.y+d,e.disable||e.disableZ?0:-o.z+c)})),(t,e)=>(d(),l("TresGroup",{ref_key:"gref",ref:o},[u("TresGroup",{ref_key:"outer",ref:n},[u("TresGroup",{ref_key:"inner",ref:a},[c(t.$slots,"default")],512)],512)],512))}}),H=["rotation"],A=["rotation-x"],N=r({__name:"env",setup(e){const o=i(null),{onLoop:r}=t();r((({delta:t})=>{o.value&&(o.value.rotation.z+=t)}));const s=[2,-2,2,-4,2,-5,2,-9];return(t,e)=>(d(),m(y,null,{default:p((()=>[f(g(a),{intensity:.1,resolution:256,background:"",blur:.8,files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/"},{default:p((()=>[f(g(n),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),f(g(n),{intensity:4,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]},null,8,["rotation-x"]),u("TresGroup",{rotation:[Math.PI/2,1,0]},[(d(),l(h,null,W(s,((t,e)=>f(g(n),{key:e,intensity:1,rotation:[Math.PI/4,0,0],position:[t,4,4*e],scale:[4,1,1]},null,8,["rotation","position"]))),64))],8,H),f(g(n),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[50,2,1]},null,8,["rotation-y"]),f(g(n),{intensity:.5,"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[50,2,1]},null,8,["rotation-y"]),f(g(n),{intensity:.5,"rotation-y":-Math.PI/2,position:[10,1,0],scale:[50,2,1]},null,8,["rotation-y"]),u("TresGroup",{ref_key:"refgroup",ref:o,"rotation-x":Math.PI/2},[f(g(n),{form:"ring",color:"red","rotation-y":Math.PI/2,intensity:5,scale:[10,10,1],position:[-5,2,-1]},null,8,["rotation-y"])],8,A)])),_:1},8,["path"])])),_:1}))}});function Q(t,e){var o=Z();return Q=function(e,n){var a=o[e-=377];if(void 0===Q.zSyzEZ){var r=function(t){for(var e,o,n="",a="",i=n+r,s=0,l=0;o=t.charAt(l++);~o&&(e=s%4?64*e+o:o,s++%4)?n+=i.charCodeAt(l+10)-10!=0?String.fromCharCode(255&e>>(-2*s&6)):s:0)o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(o);for(var d=0,u=n.length;d<u;d++)a+="%"+("00"+n.charCodeAt(d).toString(16)).slice(-2);return decodeURIComponent(a)};Q.ILMPUC=function(t,e){var o,n,a=[],i=0,s="";for(t=r(t),n=0;n<256;n++)a[n]=n;for(n=0;n<256;n++)i=(i+a[n]+e.charCodeAt(n%e.length))%256,o=a[n],a[n]=a[i],a[i]=o;n=0,i=0;for(var l=0;l<t.length;l++)i=(i+a[n=(n+1)%256])%256,o=a[n],a[n]=a[i],a[i]=o,s+=String.fromCharCode(t.charCodeAt(l)^a[(a[n]+a[i])%256]);return s},t=arguments,Q.zSyzEZ=!0}var i=e+o[0],s=t[i];if(s)a=s;else{if(void 0===Q.vMzTQO){var l=function(t){this.BcyiXn=t,this.OHKjXP=[1,0,0],this.oGWxbw=function(){return"newState"},this.kYanZJ="\\w+ *\\(\\) *{\\w+ *",this.SGtjKm="['|\"].+['|\"];? *}"};l.prototype.zGAcqI=function(){var t=new RegExp(this.kYanZJ+this.SGtjKm).test(this.oGWxbw.toString())?--this.OHKjXP[1]:--this.OHKjXP[0];return this.PrRpzX(t)},l.prototype.PrRpzX=function(t){return Boolean(~t)?this.AbDXVA(this.BcyiXn):t},l.prototype.AbDXVA=function(t){for(var e=0,o=this.OHKjXP.length;e<o;e++)this.OHKjXP.push(Math.round(Math.random())),o=this.OHKjXP.length;return t(this.OHKjXP[0])},new l(Q).zGAcqI(),Q.vMzTQO=!0}a=Q.ILMPUC(a,n),t[i]=a}return a},Q(t,e)}function Z(){var t=["vCoiW6ldKrqbW6OmWRhcKmoMW4O","bvBcGs7dGCo5W6FcQuNcMCoOEa","cddcQCkZWRePeGddLI7dHa","aCk8W5SWW64","hSkpWQtcJfbeWQq","avRcIY3cSmkhW4/cTL3cQq","A8ksC8k5W7/cUbDZW6vxWRpdVNBdRJJdTMdcI8kL","WPm9jmoKW5W","WQhdQSoCgSk5","WP8xqa7dPrlcUIRdU8kKW7xdU8kUWRXgW5HtEq0","WQrqfSkOCa","t8k+DYSRWRBdQmkRvq","oSoLqmorzwRdKLNcQW","zNTzzmoWW7ldLmkYlmoRuey","kCo4qCowFMZdNKRcULxdOG","ddpcQSoGW7yTfchdUW","v2NcRCoVA0uMCHO","EmkLhSkvF3ZdH3/cIKm","vGDKWPS8DSoPoCkI","qmk6WRtdJmkA","iCkCc8oSWPG","bfPJWQTD","ugRdSmocW4m","WO/dHbBcGKybWO/cTq8XaCkx","phFdH8ooWRZcRHLl","WR7dS8oSW6FdKmoZW6W","kc5pFmoZWPhdNSkfWQS","FKhdNCo0oq","W4rkWRRdJmovvcJcOXK","W6BcQLldHH9hWQ/cOsi","smk+Dhz7W6VdJ8klCCkRWO8B","tgFdQ8oQ","W73cNCknWPhcMW","W7NcMfCx","jSoxw1NcOa/cG8oYvmkgW4jr","W6yuWRvJWPH9WP/cQ8oWWR7dLW","WRu8bSoXW4i","jMzDWPHxDSo+WOm","zSoiWPP2WOO","WOmiW7VdRSol","EIeMW4ionSk7W41GW4mXba","o2DOWOm","WQVdG8oHlmkR","ENuvsCodWQZdVCksWQRdKCo8","zWxdKJFcM2iGWOlcT8oM","x8oPWRugW4v+WPFcGmk/","EmkhD8kGW7q","WRZdGCoCgs8","E3mvxG","WOhdKb/cKW","WO1Xbd3dMCom","W7/dMSkBCCk0hSkpW5y","W4NcRSkuWQxcS8kPWQlcGwm","WRtcTSkXWOhcRCkHW6NcMNZcMCkkW5K","iupcGglcIW","W7JdKmkPD8kLhW","WPylW5pdICoP","W7VcH8kIDSoGW4nWW5yVW63dQ0S","W4zoWR/dG8oeuahcNZG","rN7cNCo+AvGHEG","w8oRWRHWWRicWOpcRCkfjmo0va","bYNdT8k/whK2zsFdVW","WOtdVXrCW4aJnW","WRhdRCkKorbio8oIbmk3nxNdPSkRWOhdHg3cHmkTvmkoW4NcJSoCW6BdGu4kqKlcLmkU","W6GFdSo7W54"];return(Z=function(){return t})()}!function(){var t=Z();function e(t,e,o,n,a){return Q(e-8,a)}function o(t,e,o,n,a){return Q(a- -616,o)}function n(t,e,o,n,a){return Q(t-759,e)}function a(t,e,o,n,a){return Q(a-298,o)}for(;;)try{if(328824===parseInt(o(0,0,"xJ@&",0,-200))/1+-parseInt(o(0,0,"pco2",0,-182))/2+parseInt(a(0,0,"#KTu",0,682))/3*(-parseInt(a(0,0,"Huyj",0,698))/4)+parseInt(Q(1161-738,"PnHq"))/5*(parseInt(o(0,0,"#KTu",0,-202))/6)+parseInt(o(0,0,"vKNY",0,-194))/7*(-parseInt(n(1140,"]Nvw"))/8)+-parseInt(n(1185,"vKNY"))/9*(parseInt(a(0,0,"fM74",0,736))/10)+-parseInt(e(0,394,0,0,"IFNl"))/11*(parseInt(e(0,390,0,0,"3b7n"))/12))break;t.push(t.shift())}catch(r){t.push(t.shift())}}();var L,X=(L=!0,function(t,e){function o(t,e,o,n,a){return Q(a-210,n)}function n(t,e,o,n,a){return Q(e-229,a)}if("sHHkC"===o(0,0,0,"xJ@&",634))return _0x178a0a.toString()[o(0,0,0,"%]*j",621)]("(((.+)+)+)+$").toString()[o(0,0,0,"3b7n",609)](_0x569f26).search(Q(421,"bA4Z"));var a=L?function(){function a(t,e,o,a,r){return n(0,a-624,0,0,r)}if(a(0,0,0,1230,"UovZ")===a(0,0,0,1273,"RygG")){if(e){if(a(0,0,0,1231,"PnHq")!==a(0,0,0,1241,"y()^")){var r=_0x574876?function(){if(_0x28c2e1){var t=_0x5013ea.apply(_0x2869a4,arguments);return _0x1b975a=null,t}}:function(){};return _0x5569fd=!1,r}var i=e[(l=1262,d="v%bN",n(0,l-593,0,0,d))](t,arguments);return e=null,i}}else{var s=_0x522a51(o(0,0,0,"UOTA",637)+'{}.constructor("return this")( ));');_0x4a78a0=s()}var l,d}:function(){};return L=!1,a})(void 0,(function(){function t(t,e,o,n,a){return Q(n-840,t)}function e(t,e,o,n,a){return Q(t-642,e)}return X[e(1057,"Tg6#")]().search(t("bA4Z",0,0,1261)).toString()[t("fM74",0,0,1275)](X)[e(1048,"pz][")](t("UovZ",0,0,1236))}));X();var D,F=(D=!0,function(t,e){function o(t,e,o,n,a){return Q(o-694,t)}function n(t,e,o,n,a){return Q(n- -694,a)}if(n(0,0,0,-265,"VAc1")===o("!i^J",0,1077)){var a=_0x3f950c[n(0,0,0,-266,"2fwJ")](_0x4fed37,arguments);return _0xa98616=null,a}var r=D?function(){if("BheRh"===o("aNNk",0,1097)){if(_0x253330){var a=_0x2366e4[(l="UOTA",d=271,Q(d-587- -718,l))](_0x16517d,arguments);return _0x4cbe2a=null,a}}else if(e){if("MPEOM"!==o("[Rc%",0,1088)){var r=e[(i="VAc1",s=-458,n(0,0,0,s- -162,i))](t,arguments);return e=null,r}_0x43adb7=_0x534aed}var i,s,l,d}:function(){};return D=!1,r});F(void 0,(function(){function t(t,e,o,n,a){return Q(a-617,o)}var e;function o(t,e,o,n,a){return Q(e-392,o)}function n(t,e,o,n,a){return Q(n-28,o)}function a(t,e,o,n,a){return Q(e- -13,o)}function r(t,e,o,n,a){return Q(t-494,o)}try{if(n(0,0,"Z$Fl",459)===t(0,0,"2fwJ",0,1009))e=Function(r(924,0,"WtA&")+o(0,811,"aNNk")+");")();else if(_0x17456b){var i=_0x531fd6[r(892,0,"VAc1")](_0x50848e,arguments);return _0x23e932=null,i}}catch(W){if("pwrFl"===a(0,382,"#KTu"))e=window;else{var s=_0x5f56f9.constructor[t(0,0,"AQ&F",0,1056)][r(899,0,"xD4q")](_0x32a46a),l=_0x3918ac[_0x4f590d],d=_0x46330d[l]||s;s[n(0,0,"y()^",436)]=_0x232070.bind(_0xb10688),s.toString=d[a(0,380,"UovZ")][n(0,0,"3b7n",432)](d),_0x603dcc[l]=s}}for(var u=e[t(0,0,"bA4Z",0,1042)]=e[a(0,405,"SB8*")]||{},c=["log",o(0,779,"PnHq"),n(0,0,"UovZ",425),"error",a(0,424,"Tg6#"),n(0,0,"7RIg",469),n(0,0,"Huyj",438)],m=0;m<c.length;m++){if("TnLyg"===t(0,0,"#KTu",0,1029)){var p=_0x287275[r(922,0,"2fwJ")](_0x5570ca,arguments);return _0x988786=null,p}var f=F.constructor[n(0,0,"fM74",461)].bind(F),g=c[m],h=u[g]||f;f[o(0,777,"mY!8")]=F[n(0,0,"0IV4",417)](F),f[o(0,799,"%]*j")]=h[a(0,367,"ko$9")][r(883,0,"0IV4")](h),u[g]=f}}))();const q={position:[0,-.5,0],rotation:[0,-.75,0]},J=["geometry","material"],V=["geometry","material"],U=["geometry","material"],E=["geometry","material"],Y=["geometry","material"],$=["geometry","material"],tt=["geometry","material"],et=["geometry"],ot=["geometry","material"],nt=["geometry","material"],at=r({__name:"models",async setup(t){let o,n;const a=new R({transparent:!0,opacity:1,color:"black",roughness:0,side:B,blending:P,polygonOffset:!0,polygonOffsetFactor:1,envMapIntensity:.6}),{nodes:r,materials:i}=([o,n]=_((()=>e("./plugins/eCommerce/model/glass-transformed.glb",{draco:!0,decoderPath:"./draco/"}))),o=await o,n(),o),s={opacity:.8,alphaTest:.85,color:"red",blend:2,lightPosition:{x:-1.5,y:2.5,z:-1},frames:60,blendWindow:60,ambient:.5},c=b({color:"#ffffff",roughness:0,reflectivity:.1,attenuationColor:"#ffffff",attenuationDistance:2,chromaticAberration:.05,anisotropicBlur:1,distortion:0,temporalDistortion:0,backside:!0,thickness:.65,backsideThickness:.1,clearcoat:1,clearcoatRoughness:1}),m=new j;m.hidden=!0,m.addBinding(c,"color",{label:"颜色"}),m.addBinding(c,"roughness",{label:"roughness",min:0,max:1,step:.01}),m.addBinding(c,"reflectivity",{label:"reflectivity",min:0,max:1,step:.01}),m.addBinding(c,"attenuationColor",{label:"attenuationColor"}),m.addBinding(c,"attenuationDistance",{label:"attenuationDistance",min:0,max:2,step:.01}),m.addBinding(c,"chromaticAberration",{label:"chromaticAberration",min:0,max:2,step:.01}),m.addBinding(c,"anisotropicBlur",{label:"anisotropicBlur",min:0,max:10,step:.01}),m.addBinding(c,"distortion",{label:"distortion",min:0,max:10,step:.01}),m.addBinding(c,"temporalDistortion",{label:"temporalDistortion",min:0,max:1,step:.01}),m.addBinding(c,"backside",{label:"backside"}),m.addBinding(c,"thickness",{label:"thickness",min:0,max:4,step:.01}),m.addBinding(c,"backsideThickness",{label:"backsideThickness",min:0,max:4,step:.01});const h=b({color:"rgb(255,200, 200)",ior:.97,backsideIOR:.98,far:30,worldRadius:.394,intensity:.02,causticsOnly:!1,lightSource:{x:-.05,y:1,z:1}}),W=new j({title:"参数"});return W.hidden=!0,W.addBinding(h,"color",{label:"颜色"}),W.addBinding(h,"ior",{label:"折射系数",min:.6,max:1.3,step:.01}),W.addBinding(h,"backsideIOR",{label:"折射系数2",min:.6,max:1.3,step:.01}),W.addBinding(h,"far",{label:"可视距离",min:0,max:30,step:1}),W.addBinding(h,"worldRadius",{label:"材质大小",min:.001,max:.5,step:.001}),W.addBinding(h,"intensity",{label:"强度",min:0,max:1,step:.01}),W.addBinding(h,"causticsOnly",{label:"只显示投射"}),W.addBinding(h,"lightSource",{label:"光源位置",x:{min:-1,max:1},y:{min:-1,max:1},z:{min:-1,max:1}}),(t,e)=>(d(),l("TresGroup",q,[u("TresMesh",{geometry:g(r).cake.geometry,rotation:[0,-.5,0],"cast-shadow":!0,material:g(i).FruitCakeSlice_u1_v1},null,8,J),u("TresMesh",{geometry:g(r).straw_1.geometry,castShadow:"",material:g(i).straw_2},null,8,V),u("TresMesh",{geometry:g(r).straw_2.geometry,castShadow:"",material:g(i).straw_1},null,8,U),u("TresMesh",{geometry:g(r).straw001_1.geometry,position:[0,-.005,0],"cast-shadow":!0,material:g(i).straw_2},null,8,E),u("TresMesh",{geometry:g(r).straw001_2.geometry,position:[0,-.005,0],"cast-shadow":!0,material:g(i).straw_1},null,8,Y),f(g(z),{top:"",rotation:[0,-.4,0],position:[-1,-.01,-2]},{default:p((()=>[u("TresMesh",{geometry:g(r).flowers.geometry,castShadow:"",material:g(i)["draifrawer_u1_v1.001"],scale:1.2},null,8,$)])),_:1}),u("TresMesh",{castShadow:"",geometry:g(r).fork.geometry,material:g(i).ForkAndKnivesSet001_1K,"material-color":"#999"},null,8,tt),f(g(O),x(k(h)),{default:p((()=>[u("TresMesh",{castShadow:"",receiveShadow:"",geometry:g(r).glass.geometry},[f(g(T),x(k(c)),null,16)],8,et)])),_:1},16),u("TresMesh",{geometry:g(r).glass_back.geometry,material:g(a),scale:[.95,1,.95]},null,8,ot),u("TresMesh",{geometry:g(r).glass_inner.geometry,material:g(a)},null,8,nt),f(g(G),x(k(s)),null,16)]))}}),rt=r({__name:"arrangement",setup(t){const e={clearColor:"#fffffff",windowSize:!0,toneMapping:I,toneMappingExposure:.8,shadows:!0,outputColorSpace:M};return(t,n)=>{const a=v("TresCanvas");return d(),l(h,null,[f(g(K)),f(a,x(k(e)),{default:p((()=>[n[0]||(n[0]=u("TresPerspectiveCamera",{position:[2,1.6,6],fov:45,near:.1,far:1e3,lookAt:[0,0,0]},null,-1)),f(g(o),{enableDamping:""}),(d(),m(y,null,{default:p((()=>[f(at)])),_:1})),f(N)])),_:1},16)],64)}}});export{rt as default};
