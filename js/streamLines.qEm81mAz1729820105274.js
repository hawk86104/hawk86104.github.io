import{U as t,z as n,Y as e}from"./@tresjs.S6PXiQcG1729820105274.js";import{P as r}from"./tweakpane.yHWGBmom1729820105274.js";import"./index.wNHiofSX1729820105274.js";import{_ as s,V as o}from"./three.0W5n8UBO1729820105274.js";import{d as i,a4 as a,w as u,o as c,E as l,L as p,u as f,r as m,e as d,f as _,g,j,al as h,aj as b,ak as w,m as y}from"./@vue.bvMz0l_u1729820105274.js";import{g as v}from"./utils.CfWFfotR1729820105274.js";import{_ as I}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.g4sCMavA1729820105274.js";import"./@vueuse.3M_MDcJc1729820105274.js";import"./reflectorDiffuse.vue_vue_type_script_setup_true_lang.jjdbWlPE1729820105274.js";import"./all.three.btwmjVn11729820105274.js";import"./oimophysics.x0jH7fze1729820105274.js";import"./reflectorShaderMesh.vue_vue_type_script_setup_true_lang.51jynS3S1729820105274.js";import"./index.WOSC_0fE1729820105274.js";import"./three-stdlib.ilpWY7x61729820105274.js";import"./@pmndrs.4OReEEqc1729820105274.js";import"./object-hash.O5Web0p21729820105274.js";import"./@amap.UuvR34pR1729820105274.js";import"./jszip.nToJU0Sc1729820105274.js";import"./whiteFloorMesh.vue_vue_type_script_setup_true_lang.ZKQvw9Gu1729820105274.js";import"./gridPlusCom.vue_vue_type_script_setup_true_lang.oxHBkpj61729820105274.js";import"./videoFloor.vue_vue_type_script_setup_true_lang.g9i3ADAy1729820105274.js";import"./digitalGround.vue_vue_type_script_setup_true_lang.qtLf76RD1729820105274.js";import"./imgFloor.vue_vue_type_script_setup_true_lang.Qi9BNCp81729820105274.js";import"./@tweenjs.zdhk2VeU1729820105274.js";import"./utils.jsETr34q1729820105274.js";import"./@fesjs.NJfsHdwi1729820105274.js";import"./vue-router.RgcUnLYP1729820105274.js";import"./lodash-es.guXTxyfJ1729820105274.js";import"./@qlin.yHhFDldE1729820105274.js";import"./pinia.Qyaqm_as1729820105274.js";import"./@floating-ui.BPbuo5Gx1729820105274.js";import"./@juggle.7yjBMqoW1729820105274.js";import"./three-mesh-bvh.9iOtb7lt1729820105274.js";import"./d3-geo.Us6QutP21729820105274.js";import"./d3-array.AhNJy1f41729820105274.js";import"./http.IQZifAnT1729820105274.js";import"./axios.Ng308AU61729820105274.js";import"./color.-qkEYTtY1729820105274.js";import"./color-string.oe_3DpAz1729820105274.js";import"./color-name.DExpPTDh1729820105274.js";import"./simple-swizzle.y2SZKYh01729820105274.js";import"./is-arrayish.PNyYoloQ1729820105274.js";import"./color-convert.lkcSdBtb1729820105274.js";import"./lodash.c65NG3Sb1729820105274.js";const x=k;!function(t,n){const e=k,r=B();for(;;)try{if(806948===parseInt(e(319))/1*(parseInt(e(324))/2)+-parseInt(e(317))/3+parseInt(e(346))/4+-parseInt(e(339))/5+-parseInt(e(336))/6*(-parseInt(e(374))/7)+-parseInt(e(368))/8+-parseInt(e(370))/9*(-parseInt(e(328))/10))break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const S=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[k(348)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){S(this,(function(){const t=k,n=new RegExp("function *\\( *\\)"),e=new RegExp(t(331),"i"),r=z("init");n[t(373)](r+"chain")&&e[t(373)](r+t(345))?z():r("0")}))()}();const C=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function k(t,n){const e=B();return(k=function(t,n){return e[t-=314]})(t,n)}C(void 0,(function(){const t=k;let n;try{n=Function(t(350)+'{}.constructor("return this")( ));')()}catch(s){n=window}const e=n[t(362)]=n[t(362)]||{},r=[t(335),t(337),t(315),t(351),t(366),t(347),t(371)];for(let o=0;o<r[t(325)];o++){const n=C[t(359)].prototype[t(376)](C),s=r[o],i=e[s]||n;n.__proto__=C.bind(C),n.toString=i[t(358)][t(376)](i),e[s]=n}}))();const M=[x(318)],T=["blending",x(356),"side",x(344),x(338)];function B(){const t=["streamLine","TresTubeGeometry","fewNum","220588KwVTKC","length","NearestFilter","#2bc4dc","6572980yUBjWk","set","fromArray","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","debu","repeat","offset","log","2310150OYjhIU","warn","color","2493140PMJirE","counter","radius","linesList","forEach","alphaMap","input","4554632nnnNnj","table","apply","stateObject","return (function() ","error","magFilter","speed","AdditiveBlending","DoubleSide","map","while (true) {}","toString","constructor","TresMesh","closed","console","gger","TresMeshBasicMaterial","tubularSegments","exception","wrapS","11826112kailXT","push","9dlCCAD","trace","wrapT","test","28KbaiVk","RepeatWrapping","bind","CatmullRomCurve3","info","clockwise","1987530RPyBwy","args","1gULNZd","radialSegments"];return(B=function(){return t})()}const L=i({__name:x(321),props:{color:{default:x(327)},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(e){const r=x;let i,m;const d=e,{map:_}=([i,m]=a((()=>n({map:"./plugins/digitalCity/image/line2.png"}))),i=await i,m(),i);_.needsUpdate=!0,_[r(367)]=_[r(372)]=s[r(375)],_[r(333)][r(329)](d[r(323)],1),_.rotation=d[r(316)]?0:Math.PI,_.generateMipmaps=!1,_[r(352)]=s[r(326)];let g=[];d[r(342)][r(343)]((t=>{const n=r;g[n(369)]((new o)[n(330)](t))}));const j=new(s[r(314)])(g),{onLoop:h}=t();return h((()=>{const t=r;_[t(334)].x+=.002*d[t(353)]})),u((()=>[d[r(316)],d[r(323)]]),(([t,n])=>{const e=r;_.rotation=t?0:Math.PI,_[e(333)][e(329)](n,1)})),(t,n)=>{const e=r;return c(),l(e(360),null,[p(e(322),{args:[f(j),d[e(365)],d[e(341)],d[e(320)],d[e(361)]]},null,8,M),p(e(364),{blending:s[e(354)],map:f(_),side:s[e(355)],alphaMap:f(_),transparent:!0,color:d[e(338)]},null,8,T)])}}});function z(t){function n(t){const e=k;if("string"==typeof t)return function(t){}.constructor(e(357))[e(348)](e(340));1!==(""+t/t).length||t%20==0?function(){return!0}[e(359)](e(332)+"gger").call("action"):function(){return!1}.constructor("debu"+e(363))[e(348)](e(349)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const E=U;!function(t,n){const e=U,r=R();for(;;)try{if(696927===-parseInt(e(423))/1+parseInt(e(438))/2+parseInt(e(469))/3+-parseInt(e(457))/4*(-parseInt(e(448))/5)+parseInt(e(434))/6*(parseInt(e(455))/7)+parseInt(e(468))/8*(-parseInt(e(446))/9)+-parseInt(e(425))/10)break;r.push(r.shift())}catch(s){r.push(r.shift())}}();const G=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(449)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){G(this,(function(){const t=U,n=new RegExp(t(421)),e=new RegExp(t(461),"i"),r=A(t(426));n[t(435)](r+t(433))&&e[t(435)](r+t(444))?A():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[U(449)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Z(void 0,(function(){const t=U;let n;try{n=Function(t(443)+'{}.constructor("return this")( ));')()}catch(s){n=window}const e=n[t(437)]=n[t(437)]||{},r=[t(466),t(447),t(460),t(462),t(470),t(436),t(467)];for(let o=0;o<r[t(454)];o++){const n=Z[t(432)][t(440)][t(419)](Z),s=r[o],i=e[s]||n;n[t(456)]=Z[t(419)](Z),n[t(418)]=i.toString[t(419)](i),e[s]=n}}))();const F=p(E(464),{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1),N=i({__name:E(453),async setup(t){const n=E;let s,o;const i=m({reflectivity:.1,showGridHelper:!1,scale:5}),u=m({color:n(424),radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),l=new r;l.addBinding(u,n(439),{label:"流光颜色"}),l[n(441)](u,n(459),{label:n(420),min:.01,max:1,step:.01}),l[n(441)](u,n(422),{label:n(429),min:.1,max:10,step:.1}),l.addBinding(u,n(451),{label:n(465),min:1,max:100,step:1}),l[n(441)](u,n(473),{label:"管道壁圆润",min:1,max:20,step:1}),l[n(441)](u,n(427),{label:n(471)}),l[n(441)](u,n(442),{label:"顺时针流动"}),l[n(441)](u,n(428),{label:"流线数量",min:1,max:10,step:1});const p=([s,o]=a((()=>v("./plugins/simpleGIS/json/320000_full.json"))),s=await s,o(),s);return(t,r)=>{const s=n,o=d(s(430));return c(),_(o,{clearColor:s(452),"window-size":""},{default:g((()=>[F,j(f(e),{enableDamping:"",autoRotate:""}),(c(),_(h,null,{default:g((()=>[j(L,b(w(u)),null,16)])),_:1})),(c(),_(h,null,{default:g((()=>[j(L,{linesList:f(p),position:[0,0,-4]},null,8,[s(445)])])),_:1})),(c(),_(h,null,{default:g((()=>[j(f(I),y({position:[0,-.5,0]},i),null,16)])),_:1}))])),_:1})}}});function R(){const t=["table","console","342730BKbZZU","color","prototype","addBinding","clockwise","return (function() ","input","linesList","12099159LppGiN","warn","36290oGsCST","apply","call","tubularSegments","#201919","streamLines","length","4232879nZpOkp","__proto__","308MKOhht","gger","radius","info","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","error","counter","TresPerspectiveCamera","管道路径平滑","log","trace","8GhxnhV","4136634CYEmvm","exception","闭合管道","string","radialSegments","toString","bind","管道半径","function *\\( *\\)","speed","626173pECKjG","#bd01ff","463550UhOJzT","init","closed","fewNum","跑动速度","TresCanvas","debu","constructor","chain","6gcntdT","test"];return(R=function(){return t})()}function U(t,n){const e=R();return(U=function(t,n){return e[t-=418]})(t,n)}function A(t){function n(t){const e=U;if(typeof t===e(472))return function(t){}[e(432)]("while (true) {}")[e(449)](e(463));1!==(""+t/t)[e(454)]||t%20==0?function(){return!0}[e(432)]("debu"+e(458))[e(450)]("action"):function(){return!1}[e(432)](e(431)+e(458))[e(449)]("stateObject"),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{N as default};
