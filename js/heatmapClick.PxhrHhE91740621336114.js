import{D as t,o as n}from"./@tresjs.Td0X-dew1740621336114.js";import{P as e}from"./tweakpane.yDiyAAkA1740621336114.js";import{Y as o,a0 as r,_ as a,c as s,ak as i,al as c}from"./three.sXv6UbbL1740621336114.js";import{_ as u}from"./heatmap.js-fix.L17pz1Zt1740621336114.js";import{d as l,a3 as p,a2 as f,o as d,H as h,u as m,r as g,e as v,f as y,g as b,N as w,j as x,al as I,aj as _,ak as j,m as C}from"./@vue.NRI7TcgI1740621336114.js";import"./@vueuse.cgJUSr_21740621336114.js";import"./@amap.xyvkHt4K1740621336114.js";const M=R;!function(t,n){const e=R,o=B();for(;;)try{if(638353===parseInt(e(404))/1+parseInt(e(370))/2*(-parseInt(e(405))/3)+-parseInt(e(407))/4+-parseInt(e(387))/5+parseInt(e(400))/6+-parseInt(e(341))/7+parseInt(e(384))/8*(parseInt(e(351))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const z=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(401)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){z(this,(function(){const t=R,n=new RegExp(t(343)),e=new RegExp(t(411),"i"),o=D(t(363));n.test(o+t(381))&&e[t(390)](o+t(367))?D():o("0")}))()}();const S=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[R(401)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();S(void 0,(function(){const t=R;let n;try{n=Function(t(403)+'{}.constructor("return this")( ));')()}catch(r){n=window}const e=n[t(360)]=n[t(360)]||{},o=[t(393),"warn",t(380),"error",t(408),t(348),t(382)];for(let a=0;a<o[t(366)];a++){const n=S[t(414)][t(350)][t(375)](S),r=o[a],s=e[r]||n;n[t(392)]=S[t(375)](S),n[t(385)]=s[t(385)].bind(s),e[r]=n}}))();const k=[M(377)];function R(t,n){const e=B();return(R=function(t,n){return e[t-=340]})(t,n)}const A=l({__name:"heatmapClickCom",props:{show2dCanvas:{type:Boolean,default:!0},radius:{default:20}},async setup(n){const e=M;let i,c;const l=n,{nodes:g}=([i,c]=p((()=>t("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/model/heatmap/test.glb",{draco:!0,decoderPath:e(359)}))),i=await i,c(),i);g[e(399)].position[e(389)](-5088.96,-3.08,39374.7),g[e(399)].scale[e(353)](.01);let v=null,y=null,b=null;y=new o((()=>{const t=e;return b=document[t(398)](t(345)),b[t(412)].position=t(406),b[t(412)][t(409)]=t(355),b[t(412)].left="0",document[t(374)][t(402)](b),v=u[t(397)]({container:b,width:256,height:256,blur:t(358),radius:l.radius}),v[t(349)][t(373)][t(412)][t(388)]=t(354),v[t(349)][t(373)][t(395)]=function(n){const e=t;v[e(410)]({x:n.layerX,y:n.layerY,value:1,radius:l.radius}),v[e(356)](1),y&&(y[e(372)]=!0)},v})()[e(349)][e(373)]);const w={vertexShader:"\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t\tvUv = uv;\n\t}\n\t",fragmentShader:e(383),uniforms:{uOpacity:{value:1},heightMap:{type:"t",value:y}},depthWrite:!0,depthTest:!0,transparent:!0,side:r},x=new(a[e(361)])(w);g[e(399)].material=x;return(t=>{const n=e;t[n(362)]();const{max:o,min:r}=t[n(413)];t.deleteAttribute("uv");const a=o.x-r.x,i=o.z-r.z,c=[];for(let e=0;e<t[n(376)][n(346)][n(365)];e++)c.push((t.attributes[n(346)][n(340)](e)-r.x)/a),c[n(368)]((t[n(376)].position[n(371)](e)-r.z)/i);const u=new Float32Array(c);t[n(378)]("uv",new s(u,2))})(g[e(399)][e(344)]),f((()=>{const t=e;b[t(412)].display=""+(l[t(352)]?t(364):t(396))})),(t,n)=>{const o=e;return d(),h(o(379),{object:m(g)[o(399)]},null,8,k)}}});function B(){const t=["console","ShaderMaterial","computeBoundingBox","init","block","count","length","input","push","action","10hNIMXx","getZ","needsUpdate","canvas","body","bind","attributes","object","setAttribute","primitive","info","chain","trace","\n\tuniform sampler2D heightMap;\n\tuniform float uOpacity;\n\tvarying vec2 vUv;\n\tvoid main() {\n\t\tgl_FragColor = vec4(texture2D(heightMap, vUv.xy).rgb, uOpacity);\n\t}\n\t","19301144uVYoOg","toString","gger","5572240mRaSGV","border","set","test","counter","__proto__","log","debu","onclick","none","create","createElement","mesh_0","938160pzJBbZ","apply","appendChild","return (function() ","679976JoFsPm","750036DaDnaB","absolute","564688aVYWLl","exception","top","addData","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","style","boundingBox","constructor","getX","734622rxRORl","string","function *\\( *\\)","geometry","heatmap-canvas","position","stateObject","table","_renderer","prototype","9MIJaRL","show2dCanvas","setScalar","1px solid #5384ff","40px","setDataMax","while (true) {}","0.8","./draco/"];return(B=function(){return t})()}function D(t){function n(t){const e=R;if(typeof t===e(342))return function(t){}[e(414)](e(357))[e(401)](e(391));1!==(""+t/t).length||t%20==0?function(){return!0}[e(414)](e(394)+e(386)).call(e(369)):function(){return!1}.constructor(e(394)+e(386))[e(401)](e(347)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const F=V;!function(t,n){const e=V,o=W();for(;;)try{if(430835===parseInt(e(410))/1+-parseInt(e(385))/2*(-parseInt(e(395))/3)+-parseInt(e(387))/4*(-parseInt(e(369))/5)+-parseInt(e(414))/6*(parseInt(e(394))/7)+-parseInt(e(412))/8*(parseInt(e(389))/9)+parseInt(e(408))/10+-parseInt(e(376))/11)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const O=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){O(this,(function(){const t=V,n=new RegExp(t(416)),e=new RegExp(t(407),"i"),o=Z(t(370));n[t(372)](o+t(383))&&e[t(372)](o+t(411))?Z():o("0")}))()}();const T=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[V(390)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function V(t,n){const e=W();return(V=function(t,n){return e[t-=368]})(t,n)}function W(){const t=["显示二维图","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","7219490hoFYEc","__proto__","536579JrrYNS","input","16424WohJAI","点击左侧蓝色画框","6vHMpUV","heatmapClick","function *\\( *\\)","prototype","error","return (function() ","addButton","21400diaauZ","init","constructor","test","action","exception","radius","10261306WrkNHI","counter","table","debu","call","TresPerspectiveCamera","while (true) {}","chain","stateObject","1046848CXWQni","bind","704YVcNvs","length","3294yrzsoM","apply",'{}.constructor("return this")( )',"#030311","console","2941071TeWzwj","3KcGsWF","#ffffff","trace","toString","show2dCanvas","addBinding","log","TresCanvas","gger","info","string"];return(W=function(){return t})()}T(void 0,(function(){const t=V;let n;try{n=Function(t(419)+t(391)+");")()}catch(r){n=window}const e=n.console=n[t(393)]||{},o=[t(401),"warn",t(404),t(418),t(374),t(378),t(397)];for(let a=0;a<o.length;a++){const n=T.constructor[t(417)][t(386)](T),r=o[a],s=e[r]||n;n[t(409)]=T.bind(T),n.toString=s[t(398)][t(386)](s),e[r]=n}}))();const Y=l({__name:F(415),setup(t){const o=F,r={clearColor:o(392),shadows:!0,alpha:!0,outputColorSpace:i,shadowMapType:c,useLegacyLights:!0,antialias:!0},a=g({show2dCanvas:!0,radius:20}),s=new e({title:"参数",expanded:!0});return s[o(400)](a,o(399),{label:o(406)}),s[o(400)](a,o(375),{label:"圆圈的大小",min:.1,max:30,step:.1}),s[o(368)]({title:o(413)}),(t,e)=>{const s=o,i=v(s(402));return d(),y(i,C(r,{"window-size":""}),{default:b((()=>[e[0]||(e[0]=w(s(381),{position:[21,34,55],fov:60,near:1,far:1e5},null,-1)),x(m(n),{autoRotate:!1,autoRotateSpeed:2}),e[1]||(e[1]=w("TresDirectionalLight",{position:[5,10,7.5],color:s(396),intensity:5},null,-1)),e[2]||(e[2]=w("TresGridHelper",{args:[50,25]},null,-1)),(d(),y(I,null,{default:b((()=>[x(A,_(j(a)),null,16)])),_:1}))])),_:1},16)}}});function Z(t){function n(t){const e=V;if(typeof t===e(405))return function(t){}[e(371)](e(382)).apply(e(377));1!==(""+t/t)[e(388)]||t%20==0?function(){return!0}[e(371)](e(379)+e(403))[e(380)](e(373)):function(){return!1}[e(371)]("debugger")[e(390)](e(384)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{Y as default};
