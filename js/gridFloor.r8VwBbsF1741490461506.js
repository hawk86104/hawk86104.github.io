import{_ as n,ai as t}from"./three.Vxh8Czkt1741490461506.js";import{o as r,J as o,f as e}from"./@tresjs.rE98Wm941741490461506.js";import{P as i}from"./tweakpane.yDiyAAkA1741490461506.js";import{d as s,a2 as c,o as u,H as a,N as l,aj as f,ak as d,r as v,f as g,g as p,j as h,u as m,al as C,m as y}from"./@vue.NRI7TcgI1741490461506.js";import"./postprocessing.wUw4_rsV1741490461506.js";import"./@vueuse.9Z-Ayxy41741490461506.js";const w=j;!function(n,t){const r=j,o=I();for(;;)try{if(919013===-parseInt(r(130))/1+-parseInt(r(156))/2*(parseInt(r(133))/3)+parseInt(r(152))/4+-parseInt(r(171))/5+parseInt(r(131))/6+-parseInt(r(166))/7*(parseInt(r(157))/8)+-parseInt(r(170))/9*(parseInt(r(164))/10))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const x=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[j(158)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){x(this,(function(){const n=j,t=new RegExp(n(122)),r=new RegExp(n(137),"i"),o=k("init");t[n(167)](o+"chain")&&r[n(167)](o+"input")?k():o("0")}))()}();const b=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[j(158)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function I(){const n=["rotate-x","uGridColor","17877xTPwYo","10769106SbeMGz","console","2003667zzYveU","TresMesh","Color","toString","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","action","__proto__","DoubleSide","uCross","gridFloor","#7a91df","info","bind","length","gger","exception","debu","gridColor","uGridThickness","6513336fOBQuQ","string","error","set","2ejytwx","8chxhdq","apply","floorColor","prototype","crossThickness","table","value","40IdLTYE","counter","3729754CyKZVc","test","call","log","2853054lMygLo","87800yQPmnn","return (function() ","function *\\( *\\)","constructor","uniforms","#ffffff","while (true) {}","crossColor"];return(I=function(){return n})()}b(void 0,(function(){const n=j,t=function(){const n=j;let t;try{t=Function(n(172)+'{}.constructor("return this")( ));')()}catch(r){t=window}return t}(),r=t.console=t[n(132)]||{},o=[n(169),"warn",n(144),n(154),n(148),n(162),"trace"];for(let e=0;e<o.length;e++){const t=b.constructor[n(160)][n(145)](b),i=o[e],s=r[i]||t;t[n(139)]=b.bind(b),t[n(136)]=s[n(136)][n(145)](s),r[i]=t}}))();const T=[w(128)];function j(n,t){const r=I();return(j=function(n,t){return r[n-=122]})(n,t)}const W=s({__name:w(142),props:{gridColor:{default:"#c4d6ff"},gridThickness:{default:.02},crossColor:{default:w(143)},crossThickness:{default:.02},uCross:{default:.2},floorColor:{default:w(125)}},setup(t){const r=w,o=t,e={vertexShader:"varying vec2 vUv;\nvoid main()\n{\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    vUv = uv;\n}",fragmentShader:"uniform float uGridThickness;\nuniform vec3 uGridColor;\nuniform float uCrossScale;\nuniform float uCrossThickness;\nuniform float uCross;\nuniform vec3 uCrossColor;\nuniform vec3 uFloorColor;\n\nvarying vec2 vUv;\n\nfloat gridFloor(vec2 uv, vec2 lineWidth) {\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    vec2 targetWidth = invertLine ? 1.0 - lineWidth : lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    \n    \n    \n    \n    vec2 gridUV = abs(fract(uv) * 2.0 - 1.0);\n    gridUV = invertLine ? gridUV : 1.0 - gridUV;\n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    grid2 = invertLine ? 1.0 - grid2 : grid2;\n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nfloat crossFloor(vec2 uv, float scale, float thickness, float crossIntensity) {\n    vec2 lineWidth = vec2(thickness);\n\n    \n    \n    \n    \n    \n    \n    \n    vec4 uvDDXY = vec4(dFdx(uv), dFdy(uv));\n    vec2 uvDeriv = vec2(length(uvDDXY.xz), length(uvDDXY.yw));\n\n    \n    \n    \n    bool invertLine = lineWidth.x > 0.5;\n    \n    vec2 targetWidth = lineWidth;\n\n    \n    \n    \n    \n    \n    vec2 drawWidth = clamp(targetWidth, uvDeriv, vec2(0.5));\n\n    \n    \n    \n    vec2 lineAA = uvDeriv * 1.5;\n    \n    \n    float cutOffX = abs(fract(uv.y) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n    float cutOffY = abs(fract(uv.x) * 2.0 - 1.0) > crossIntensity ? 1.0 : 0.0;\n\n    \n    \n    \n    \n    \n    \n    \n    float uvX = abs(fract(uv.x) * 2.0 - 1.0) + cutOffX;\n    float uvY = abs(fract(uv.y) * 2.0 - 1.0) + cutOffY;\n    vec2 gridUV = vec2(uvX, uvY);\n\n    \n\n    \n    \n    \n    vec2 grid2 = smoothstep(drawWidth + lineAA, drawWidth - lineAA, gridUV);\n\n    \n    \n    \n    grid2 *= clamp(targetWidth / drawWidth, 0.0, 1.0);\n\n    \n    \n    \n    \n    \n    grid2 = mix(grid2, targetWidth, clamp(uvDeriv * 2.0 - 1.0, 0.0, 1.0));\n    \n\n    \n    float grid = mix(grid2.x, 1.0, grid2.y);\n\n    return grid;\n}\n\nvoid main()\n{\n    vec2 lineWidth = vec2(uGridThickness);\n    \n    vec2 uv = vUv * 20.0;\n\n    \n    float grid = gridFloor(uv, lineWidth);\n    \n    vec3 gridColor = mix(uFloorColor, uGridColor, vec3(grid));\n\n    \n    float crossUv = crossFloor(uv, uCrossScale, uCrossThickness, uCross);\n    \n    vec3 gridColor2 = mix(gridColor, uCrossColor, vec3(crossUv));\n    \n    vec3 color =  gridColor2;\n\n    gl_FragColor = vec4(color, 1.0);\n}",side:n[r(140)],transparent:!0,uniforms:{uFloorColor:{value:new(n[r(135)])(o[r(159)])},uGridThickness:{value:o.gridThickness},uGridColor:{value:new(n[r(135)])(o[r(150)])},uCrossThickness:{value:o[r(161)]},uCross:{value:o[r(141)]},uCrossColor:{value:new(n[r(135)])(o[r(127)])}}};return c((()=>{const n=r;e[n(124)].uFloorColor[n(163)][n(155)](o[n(159)]),e[n(124)][n(129)][n(163)].set(o[n(150)]),e.uniforms.uCrossColor.value[n(155)](o.crossColor),e[n(124)][n(151)][n(163)]=o.gridThickness,e[n(124)].uCrossThickness[n(163)]=o[n(161)],e[n(124)][n(141)][n(163)]=o[n(141)]})),(n,t)=>{const o=r;return u(),a(o(134),{"rotate-x":-Math.PI/2},[t[0]||(t[0]=l("TresPlaneGeometry",{args:[10,10,32,32]},null,-1)),l("TresShaderMaterial",f(d(e)),null,16)],8,T)}}});function k(n){function t(n){const r=j;if(typeof n===r(153))return function(n){}[r(123)](r(126))[r(158)](r(165));1!==(""+n/n)[r(146)]||n%20==0?function(){return!0}[r(123)](r(149)+r(147))[r(168)](r(138)):function(){return!1}.constructor(r(149)+r(147))[r(158)]("stateObject"),t(++n)}try{if(n)return t;t(0)}catch(r){}}!function(n,t){const r=A,o=F();for(;;)try{if(102462===-parseInt(r(394))/1*(parseInt(r(357))/2)+-parseInt(r(383))/3+parseInt(r(365))/4+-parseInt(r(401))/5*(parseInt(r(390))/6)+-parseInt(r(355))/7*(-parseInt(r(374))/8)+-parseInt(r(363))/9+parseInt(r(375))/10*(parseInt(r(367))/11))break;o.push(o.shift())}catch(e){o.push(o.shift())}}();const D=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r.apply(t,arguments);return r=null,n}}:function(){};return n=!1,o}}();!function(){D(this,(function(){const n=A,t=new RegExp(n(406)),r=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),o=z("init");t[n(377)](o+"chain")&&r[n(377)](o+n(407))?z():o("0")}))()}();const _=function(){let n=!0;return function(t,r){const o=n?function(){if(r){const n=r[A(405)](t,arguments);return r=null,n}}:function(){};return n=!1,o}}();function A(n,t){const r=F();return(A=function(n,t){return r[n-=352]})(n,t)}function F(){const n=["1053339HjUfef","neg-y.jpg","10494NBIpmv","十字厚度","trace","length","exception","string","680589LXUNWy","#ffffff","759332YTQLKN","pos-z.jpg","9669WVIIjl","table","warn","TresMesh","pos-x.jpg","toString","neg-z.jpg","8mqjobg","420nBsyAw","error","test","TresTorusKnotGeometry","网格厚度","bind","constructor",'{}.constructor("return this")( )',"131658jawNGI","counter","stateObject","网格颜色","gridThickness","#ef57ff","crossThickness","18QNeLUv","neg-x.jpg","console","log","15wDVBXr","gridColor","action","info","十字大小","gger","TresAmbientLight","127590zQSohv","https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/skyBox/6jpg/","uCross","地板颜色","apply","function *\\( *\\)","input","TresDirectionalLight","TresMeshStandardMaterial","debu","call","addBinding"];return(F=function(){return n})()}_(void 0,(function(){const n=A,t=function(){const n=A;let t;try{t=Function("return (function() "+n(382)+");")()}catch(r){t=window}return t}(),r=t[n(392)]=t[n(392)]||{},o=[n(393),n(369),n(397),n(376),n(361),n(368),n(359)];for(let e=0;e<o[n(360)];e++){const t=_[n(381)].prototype.bind(_),i=o[e],s=r[i]||t;t.__proto__=_[n(380)](_),t[n(372)]=s.toString.bind(s),r[i]=t}}))();const U=s({__name:"gridFloor",setup(n){const s=A,c=v({alpha:!0,toneMapping:t,windowSize:!0,clearColor:3355443}),a=v({enableDamping:!0,autoRotate:!1}),w=v({gridColor:s(364),crossColor:s(388),floorColor:"#000000",gridThickness:.02,crossThickness:.03,uCross:.29}),x=new i;return x[s(354)](w,s(395),{label:s(386)}),x[s(354)](w,s(387),{label:s(379),min:.01,max:1,step:.01}),x[s(354)](w,"crossColor",{label:"十字颜色"}),x[s(354)](w,s(389),{label:s(358),min:.01,max:1,step:.01}),x[s(354)](w,s(403),{label:s(398),min:.01,max:1,step:.01}),x[s(354)](w,"floorColor",{label:s(404)}),(n,t)=>{const i=s;return u(),g(m(e),y(c,{"window-size":""}),{default:p((()=>[t[0]||(t[0]=l("TresPerspectiveCamera",{position:[6,6,6],fov:45,near:.1,far:1e3},null,-1)),h(m(r),f(d(a)),null,16),t[1]||(t[1]=l(i(400),{intensity:.5},null,-1)),t[2]||(t[2]=l(i(408),{position:[15,15,15],intensity:1},null,-1)),t[3]||(t[3]=l(i(370),{position:[0,.5,0],scale:.2},[l(i(378),{args:[1,.35,100,32]}),l(i(409),{color:"#ff33ff",roughness:0,metalness:1})],-1)),h(W,f(d(w)),null,16),(u(),g(C,null,{default:p((()=>[h(m(o),{files:[i(371),i(391),"pos-y.jpg",i(356),i(366),i(373)],path:i(402)})])),_:1}))])),_:1},16)}}});function z(n){function t(n){const r=A;if(typeof n===r(362))return function(n){}[r(381)]("while (true) {}")[r(405)](r(384));1!==(""+n/n).length||n%20==0?function(){return!0}[r(381)](r(352)+r(399))[r(353)](r(396)):function(){return!1}.constructor(r(352)+r(399)).apply(r(385)),t(++n)}try{if(n)return t;t(0)}catch(r){}}export{U as default};
