import{d as l,b as t,G as a,o as e,I as o,j as n,M as i,x as s,O as u,ao as c,f as r,u as d,F as v}from"./@vue.CcDZ19ef1752457528298.js";import{h as p,d as g,o as b,a as f,w as h,u as m}from"./@icegl.BgfSIycI1752457528298.js";import{_ as k}from"./@fesjs.t5OnzKcQ1752457528298.js";import"./three.DOaOWaa_1752457528298.js";import"./@vueuse.D5pFWdqo1752457528298.js";import"./vue-router.8pdmj1nv1752457528298.js";import"./lodash-es.C7pWAXPe1752457528298.js";import"./@qlin.q6OWdsQV1752457528298.js";import"./pinia.D2lIig6I1752457528298.js";import"./@babel.BPq7uOAK1752457528298.js";import"./@floating-ui.BFjFSAYt1752457528298.js";import"./@juggle.CcBCnTIR1752457528298.js";const j={class:"overlay"},x={class:"info-panel"},C={class:"control-panel"},T={style:{"margin-bottom":"10px"}},_={class:"control-panel"},y=k(l({__name:"case-tianditu",setup(l){const k=t({effectProps:{enabled:!1,focusArea:.7,feather:.1},ambientLight:{color:"#fff",intensity:1},directionalLight:{color:"#fff",intensity:2,position:[-1500,500,500]},background:"/plugins/topoProject/image/farm_field_puresky_2k.jpg"}),y=t(localStorage.getItem("tdtTk")||"请输入你的天地图TK"),F=t(localStorage.getItem("tdtTk")||"请输入你的天地图TK"),I=()=>{y.value&&"请输入你的天地图TK"!==y.value&&(localStorage.setItem("tdtTk",y.value),window.location.reload())},K=t({height:50,lon:118.778677,lat:32.043848}),w=t({heading:90,pitch:-51,distance:4e3,longitude:118.778677,latitude:32.043848});return(l,t)=>(e(),a(v,null,[o("div",j,[o("div",x,[o("div",null,"当前距离："+i(w.value.distance.toFixed(2))+"米",1),o("div",null,"当前航向："+i(w.value.heading.toFixed(2))+"°",1),o("div",null,"当前俯仰："+i(w.value.pitch.toFixed(2))+"°",1),o("div",null,"视点经度："+i(w.value.longitude.toFixed(2))+"°",1),o("div",null,"视点纬度："+i(w.value.latitude.toFixed(2))+"°",1)]),t[14]||(t[14]=o("div",{class:"control-panel"},[o("p",null,[s("若没有tk令牌，则需要先申请："),o("a",{href:"https://console.tianditu.gov.cn/api/key",target:"_blank"},"跳转天地图申请")])],-1)),o("div",C,[o("div",T,[t[13]||(t[13]=o("label",{style:{"margin-right":"10px"}},"天地图TK:",-1)),u(o("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>y.value=l),type:"text",style:{width:"300px",padding:"4px",border:"1px solid #ccc","border-radius":"4px"},placeholder:"请输入天地图TK"},null,512),[[c,y.value]]),o("button",{class:"control-btn",onClick:I},"保存")])]),o("div",_,[o("button",{class:"control-btn",onClick:t[1]||(t[1]=l=>w.value={...w.value,distance:w.value.distance+100})},"距离 + 100米"),o("button",{class:"control-btn",onClick:t[2]||(t[2]=l=>w.value={...w.value,distance:w.value.distance-100})},"距离 - 100米"),o("button",{class:"control-btn",onClick:t[3]||(t[3]=l=>w.value={...w.value,heading:w.value.heading+10})},"航向 + 10°"),o("button",{class:"control-btn",onClick:t[4]||(t[4]=l=>w.value={...w.value,heading:w.value.heading-10})},"航向 - 10°"),o("button",{class:"control-btn",onClick:t[5]||(t[5]=l=>w.value={...w.value,pitch:w.value.pitch+10})},"俯仰 + 10°"),o("button",{class:"control-btn",onClick:t[6]||(t[6]=l=>w.value={...w.value,pitch:w.value.pitch-10})},"俯仰 - 10°"),o("button",{class:"control-btn",onClick:t[7]||(t[7]=l=>K.value={...K.value,lon:K.value.lon+.001})},"经度 + 0.001°"),o("button",{class:"control-btn",onClick:t[8]||(t[8]=l=>K.value={...K.value,lon:K.value.lon-.001})},"经度 - 0.001°"),o("button",{class:"control-btn",onClick:t[9]||(t[9]=l=>K.value={...K.value,lat:K.value.lat+.001})},"纬度 + 0.001°"),o("button",{class:"control-btn",onClick:t[10]||(t[10]=l=>K.value={...K.value,lat:K.value.lat-.001})},"纬度 - 0.001°")])]),n(d(m),{position:w.value,"onUpdate:position":t[12]||(t[12]=l=>w.value=l)},{default:r((()=>[n(d(p),{position:w.value,"onUpdate:position":t[11]||(t[11]=l=>w.value=l)},null,8,["position"]),n(d(g),{sceneConfig:k.value},null,8,["sceneConfig"]),n(d(b),{tk:F.value},null,8,["tk"]),n(d(f),{url:"/plugins/geokit/tiles/tileset.json"}),n(d(h),{name:"GeoPosition",point:K.value},{default:r((()=>t[15]||(t[15]=[o("TresMesh",null,[o("TresBoxGeometry",{args:[20,20,20]}),o("TresMeshBasicMaterial",{color:"blue"})],-1)]))),_:1},8,["point"])])),_:1},8,["position"])],64))}}),[["__scopeId","data-v-a4124faf"]]);export{y as default};
