import{importShared as e,mergeGeometries as t}from"./3d-tiles-renderer.de6b_qgz1767149344623.js";import{zr as o,Kk as r}from"./index.Btae5S5d1767149344623.js";import"./customShaderMaterial.vue_vue_type_script_setup_true_lang.C_pYeFAB1767149344623.js";import"./index.vue_vue_type_script_setup_true_lang.C9DbtXj-1767149344623.js";import{useGLTF as a}from"./index.zGefaP3R1767149344623.js";import{Reflector as n,ReflectorMaterial as i}from"./OimoPhysicsController.DWT9IpO21767149344623.js";const{withAsyncContext:l,defineComponent:s}=await e("vue"),{unref:m,openBlock:c,createElementBlock:p}=await e("vue"),u=["rotation-x","object"],{Vector2:f,Color:d,Mesh:M,Matrix4:w}=await e("three"),_=s({__name:"sciFiModular",async setup(e){let r,s;const{scene:_}=o(),{nodes:h}=([r,s]=l(()=>a("https://opensource.cdn.icegl.cn/model/floor/modelDraco.glb")),r=await r,s(),r),x=h.Cube016__0,v=x.geometry,g=t([v.clone(),v.clone().applyMatrix4((new w).makeRotationZ(-Math.PI/2)),v.clone().applyMatrix4((new w).makeRotationZ(Math.PI/2)),v.clone().applyMatrix4((new w).makeRotationZ(-Math.PI))]),y=new n,C=new i({reflectivity:6,mirror:.1,mixStrength:3,color:new d("#fff"),map:x.material.map.clone(),normalMap:x.material.normalMap.clone(),normalScale:new f(1,1),fog:_.fog,dithering:!0});C.uniforms.tReflect=y.renderTargetUniform,C.uniforms.uMatrix=y.textureMatrixUniform;const T=new M(g,C);return T.add(y),T.onBeforeRender=(e,t,o)=>{T.visible=!1,y.update(e,t,o),T.visible=!0},(e,t)=>(c(),p("primitive",{"rotation-x":-Math.PI/2,object:m(T)},null,8,u))}}),{defineComponent:h}=await e("vue"),{createElementVNode:x,unref:v,createVNode:g,Suspense:y,withCtx:C,openBlock:T,createBlock:b,resolveComponent:j}=await e("vue"),k=h({__name:"showFloor",setup:e=>(e,t)=>{const o=j("TresCanvas");return T(),b(o,{clearColor:"#201919","window-size":""},{default:C(()=>[t[0]||(t[0]=x("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e5,"look-at":[0,0,0]},null,-1)),g(v(r),{enableDamping:""}),t[1]||(t[1]=x("TresAmbientLight",{intensity:10},null,-1)),t[2]||(t[2]=x("TresMesh",{position:[3,2,0]},[x("TresBoxGeometry",{args:[2,2,2]}),x("TresMeshNormalMaterial",{wireframe:!0})],-1)),t[3]||(t[3]=x("TresMesh",{position:[0,1.2,0]},[x("TresBoxGeometry",{args:[1,1,1]}),x("TresMeshNormalMaterial")],-1)),(T(),b(y,null,{default:C(()=>[g(_)]),_:1}))]),_:1})}});export{k as default};
