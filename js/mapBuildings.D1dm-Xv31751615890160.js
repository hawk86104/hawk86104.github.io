import{z as e}from"./three-custom-shader-material.CKGA2yfv1751615890160.js";import"./HeightCorrection.Bq98L9tL1751615890160.js";import"./three-tile.3PpNiAqr1751615890160.js";import"./@tweenjs.CL1bcu711751615890160.js";/* empty css                                                                                    */import"./utils.Cex64lOS1751615890160.js";import{l as o,U as t,P as r,M as n,T as i,a,r as s}from"./raycasterEvent.CpEBQu601751615890160.js";import"./index.CAsJqPRs1751615890160.js";import{_ as u,a as c}from"./radraB.vue_vue_type_script_setup_true_lang.DDQImFUM1751615890160.js";import{_ as l}from"./buildingsMarkA.vue_vue_type_script_setup_true_lang.BGReL3xz1751615890160.js";import{_ as p}from"./fireA.vue_vue_type_script_setup_true_lang.DD4wWqDs1751615890160.js";import{_ as d}from"./fireB.vue_vue_type_script_setup_true_lang.BsSSpkZh1751615890160.js";import{_ as f}from"./smokeA.vue_vue_type_script_setup_true_lang.D-pEfwZ_1751615890160.js";import{_ as m}from"./precipitation.vue_vue_type_script_setup_true_lang.DVKgY9fJ1751615890160.js";import{_ as W}from"./cloudMesh.vue_vue_type_script_setup_true_lang.B_BVlEwU1751615890160.js";import{_ as h}from"./rippleMesh.vue_vue_type_script_setup_true_lang.DJFxWYT31751615890160.js";import{e as g,b as v,m as _}from"./@tresjs.CnmCKMfV1751615890160.js";import{ae as x,V as y,cD as w,a4 as j,g as C,S as k,M as P,Q as b,cx as S,cy as M,cz as O,cA as T,ab as z,C as B,bp as R,cV as I,av as L,ay as A,c9 as q,q as N}from"./three.-xXgCQua1751615890160.js";import{l as D}from"./utils.D5QQoEzA1751615890160.js";import{d as V,a3 as G,G as F,o as K,F as H,W as Q,I as E,u as J,b as Y,a2 as Z,j as U,e as X,f as $,am as ee,v as oe,r as te,h as re,m as ne}from"./@vue.Mugdq9o81751615890160.js";import{T as ie}from"./3d-tiles-renderer.CxYQ_Jls1751615890160.js";import"./d3-geo.D8CrR9qx1751615890160.js";import"./d3-array.G5ptHY8Z1751615890160.js";import"./axios.DMGpYb3p1751615890160.js";import"./axios.DLTVXJci1751615890160.js";import"./pinia.CLDqH1C51751615890160.js";import"./@fesjs.D8NC7S7m1751615890160.js";import"./vue-router.d155M_MI1751615890160.js";import"./lodash-es.C7pWAXPe1751615890160.js";import"./@qlin.q6OWdsQV1751615890160.js";import"./@babel.BPq7uOAK1751615890160.js";import"./@floating-ui.BFjFSAYt1751615890160.js";import"./@juggle.CcBCnTIR1751615890160.js";import"./color.BYul91FI1751615890160.js";import"./@amap.CGUF9xH41751615890160.js";import"./color-string.Bdq0WAwP1751615890160.js";import"./color-name.BQ5IbGbl1751615890160.js";import"./simple-swizzle.UZCb1ZuV1751615890160.js";import"./is-arrayish.CLsR9Wfx1751615890160.js";import"./color-convert.DPW0C9e21751615890160.js";import"./lodash.Bz6iEF5M1751615890160.js";import"./@mapbox.B8uYRbGC1751615890160.js";import"./three-mesh-bvh.oC6vN9PV1751615890160.js";import"./index.PTppoOOJ1751615890160.js";import"./object-hash.Buz3XByS1751615890160.js";import"./jszip.BAodBTnl1751615890160.js";import"./SPE.BvVyxRkw1751615890160.js";import"./postprocessing.CkX0KHoZ1751615890160.js";import"./@vueuse.DfywP5Cl1751615890160.js";const ae={renderOrder:3e3},se=["args"],ue=["map","side","color"],ce=V({__name:"roadLightByLonLat",props:{geoJson:{},color:{default:"#ffff00"},radius:{default:2},speed:{default:1}},async setup(e){let t,r;const n=e,{map:i}=([t,r]=G((()=>v({map:"./plugins/digitalCity/image/line.png"}))),t=await t,r(),t);i.needsUpdate=!0,i.wrapS=i.wrapT=x,i.repeat.set(1,1);const a=([t,r]=G((()=>D(n.geoJson))),t=await t,r(),t);let s=[];for(var u=0;u<a.length;u++){const e=a[u],t=[];e.geometry.coordinates.forEach((e=>{const r=o(e[0],e[1],50);t.push(new y(r[0],0,-r[1]))}));let r=n.color;r="primary"===e.properties.highway?"#7eff10":"tertiary"===e.properties.highway?"#0eeeee":"secondary"===e.properties.highway?"#ffffff":"#ff0ffe",s.push({cr3:new w(t),color:r})}const{onLoop:c}=g();return c((()=>{i.offset.x-=Math.random()/20*n.speed})),(e,o)=>(K(),F("TresGroup",null,[(K(!0),F(H,null,Q(J(s),(e=>(K(),F("TresMesh",ae,[E("TresTubeGeometry",{args:[e.cr3,64,n.radius,20,!1]},null,8,se),E("TresMeshBasicMaterial",{map:J(i),side:J(j),transparent:!0,color:e.color},null,8,ue)])))),256))]))}}),le=e=>{e.onLoadTileSet=o=>{const t=new C,r=new k,n=new P;let i=null,a=0;e.getOrientedBounds(t,n)?(i=(new y).setFromMatrixPosition(n),a=i.length()):e.getBoundingSphere(r)&&(i=r.center.clone(),a=i.length());const s=i?.normalize(),u=((e,o)=>{const t=new b,r=(new y).crossVectors(e,o);return t.x=r.x,t.y=r.y,t.z=r.z,t.w=1+e.clone().dot(o),t.normalize(),t})(s,new y(0,1,0));e.group.quaternion.x=u.x,e.group.quaternion.y=u.y,e.group.quaternion.z=u.z,e.group.quaternion.w=u.w,e.group.position.z=-a}},pe=["object","rotation"],de=V({__name:"tilesBuildings",props:{bulidingsColor:{default:"#e523ff"},topColor:{default:"#ffff00"},opacity:{default:.8},gradient:{type:Boolean,default:!0},camera:{}},setup(o){const t=o,r=Y(0),n=new ie("https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/no.json");n.errorTarget=2,n.addEventListener("load-model",(({scene:o})=>{o.traverse((o=>{if(o.isMesh){(o=>{const{geometry:n}=o;n.computeBoundingBox(),n.computeBoundingSphere();const{max:i,min:a}=n.boundingBox,s=new e({baseMaterial:new R,vertexShader:"varying vec4 vPosition;\nvoid main(){\n\tvPosition=modelMatrix*vec4(position,1.);\n\tcsm_Position=position*vec3(1.);\n}",fragmentShader:"uniform mat4 modelMatrix;\nvarying vec4 vPosition;\nuniform vec3 uMax;\nuniform vec3 uMin;\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\nvec4 uMax_world;\nvec4 uMin_world;\nvoid main() {\n  // 转世界坐标\n  uMax_world = modelMatrix * vec4(uMax, 1.);\n  uMin_world = modelMatrix * vec4(uMin, 1.);\n  vec3 distColor = uColor;\n  float residue = uTime - floor(uTime / uCircleTime) * uCircleTime;\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax_world.y - uMin_world.y);\n\n  if (uMin_world.y + lightOffset < vPosition.y &&\n      uMin_world.y + lightOffset + uBorderWidth > vPosition.y) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 根据高度计算颜色\n  if (uGradient) {\n    float rateHight =\n        (vPosition.y - uMin_world.y) / (uMax_world.y - uMin_world.y);\n    // vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, rateHight * 0.6);\n    float mixNumber = clamp(rateHight * 2.3 - 1.5, 0., 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}",silent:!0,uniforms:{uMax:{value:i},uMin:{value:a},uBorderWidth:{value:5},uCircleTime:{value:5},uColor:{value:new B(t.bulidingsColor)},uOpacity:{value:t.opacity},uLightColor:{value:new B("#ffffff")},uTopColor:{value:new B(t.topColor)},uTime:r,uGradient:{value:t.gradient}},depthWrite:!0,depthTest:!0,transparent:!0,side:z});o.material.dispose(),o.material=s})(o),o.receiveShadow=!1,o.castShadow=!1;const n=new S(o.geometry.clone());let i=(new M).fromEdgesGeometry(n),a=new O({color:0,linewidth:1,opacity:1,transparent:!0,depthWrite:!0,depthTest:!0});a.resolution.set(window.innerWidth,window.innerHeight);const s=new T(i,a);s.applyMatrix4(o.matrix.clone()),o.parent.add(s)}}));const i=new C,a=new k;n.getBoundingBox(i)?(i.getCenter(n.group.position),n.group.position.multiplyScalar(-1)):n.getBoundingSphere(a)&&(n.group.position.copy(a.center),n.group.position.multiplyScalar(-1))})),le(n);const{renderer:i,sizes:a}=_();Z((()=>{a.width.value&&(n.setCamera(t.camera),n.setResolutionFromRenderer(t.camera,i.value))}));const{onBeforeLoop:s}=g();return s((({delta:e})=>{r.value+=2*e,t.camera&&a.width.value&&(t.camera.updateMatrixWorld(),n.update())})),(e,o)=>(K(),F("TresGroup",null,[E("primitive",{object:J(n).group,rotation:[-Math.PI/2,0,0]},null,8,pe)]))}}),fe=["object","rotation"],me=V({__name:"tileMapBuildingsMesh",props:{bbox:{default:[104.955976,20.149765,120.998419,30.528687]},maxZoom:{default:20},mapCenter:{},camera:{}},setup(e,{expose:o}){const s=e,{renderer:u,scene:c}=_(),l=new r;l.coordType=t;const p=new n;p.source="https://webrd04.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=7&x={x}&y={y}&z={z}",p.showTileNo=!1,p.useWorker=!0;const d=new i(l,p);d.showBoundingBox=!1,d.wireframe=!1,d.flatShading=!1,d.filter={opposite:!0,genBright:1.3,genContrast:1,genSaturation:1};let f=new B("#4688b5");d.filter.monochrome={r:f.r,g:f.g,b:f.b};const m=new a;m.provider=d,m.bbox=s.bbox,m.maxZoom=s.maxZoom,s.camera.up=new y(0,1,0),s.camera.position.set(s.mapCenter[0],s.mapCenter[2],2e3-s.mapCenter[1]),s.camera.lookAt(new y(s.camera.position.x,0,s.camera.position.z-3e3)),m.camera=s.camera;let W=null;Z((()=>{u.value&&(W=new I(s.camera,u.value.domElement),W.enableDamping=!0,W.dampingFactor=.05,W.minDistance=600,W.position0.set(s.camera.position.x,s.camera.position.y,s.camera.position.z),W.target.set(s.camera.position.x,0,s.camera.position.z-2e3))}));const{onLoop:h}=g();return h((()=>{if(u.value){const e=50*Math.abs(s.camera.position.y);s.camera.far=e+5e3,s.camera.updateProjectionMatrix(),W&&(W.update(),W.target.y=0),m.update(),u.value.render(c.value,s.camera)}})),o({camera:s.camera,map:m}),(e,o)=>(K(),F("primitive",{object:J(m),rotation:[-Math.PI/2,0,0]},null,8,fe))}});!function(){var e,o,t=xe();function r(e,o,t,r,n){return _e(r- -639,n)}function n(e,o,t,r,n){return _e(t-723,o)}function i(e,o,t,r,n){return _e(n- -648,r)}for(;;)try{if(532430===parseInt(i(0,0,0,"JN*L",-202))/1+parseInt(i(0,0,0,"RO%!",-198))/2*(-parseInt(r(0,0,0,-228,"fn!c"))/3)+-parseInt((e=-72,o="!WM(",_e(e- -537,o)))/4+parseInt(n(0,"N#Rs",1167))/5+parseInt(r(0,0,0,-205,"WL9e"))/6*(-parseInt(i(0,0,0,"0D6P",-194))/7)+-parseInt(n(0,"A%#6",1165))/8+parseInt(_e(486-74,"YPI&"))/9)break;t.push(t.shift())}catch(a){t.push(t.shift())}}();var We,he=(We=!0,function(e,o){function t(e,o,t,r,n){return _e(o- -945,n)}function r(e,o,t,r,n){return _e(r- -534,e)}function n(e,o,t,r,n){return _e(r- -676,o)}function i(e,o,t,r,n){return _e(e-395,t)}if("XvSkB"===n(0,"81CI",0,-249)){var a=We?function(){function t(e,o,t,r,n){return i(e- -439,0,t)}function r(e,o,t,r,n){return i(o- -56,0,t)}if("owKrk"!==r(0,779,"X^E3")){var n=_0x35d3ae[r(0,769,"]4[$")](_0x3cf1a8,arguments);return _0x145fa3=null,n}if(o){if(t(417,0,"Fnfq")===t(374,0,"fn!c")){var a=o[(s=567,u="xl9B",_e(s- -180-325,u))](e,arguments);return o=null,a}_0x1d7b88=_0x4bf7f3(i(809,0,"5mWR")+t(372,0,"xp0p")+");")()}var s,u}:function(){};return We=!1,a}var s=_0x1110bf[n(0,"TDTZ",0,-271)][t(0,-530,0,0,"A1kl")][t(0,-541,0,0,"xp0p")](_0x4f8fc8),u=_0x4e93de[_0x345c53],c=_0x2aa137[u]||s;s[r("xp0p",0,0,-108)]=_0x2ad83d.bind(_0x594900),s[t(0,-508,0,0,"81CI")]=c[i(826,0,"P19e")][r("A%#6",0,0,-79)](c),_0x356421[u]=s})(void 0,(function(){function e(e,o,t,r,n){return _e(n- -690,o)}function o(e,o,t,r,n){return _e(o- -926,e)}return he[e(0,"rZ^M",0,0,-254)]().search("(((.+)+)+)+$")[o("fn!c",-523)]().constructor(he)[o("0R*c",-525)](e(0,"JN*L",0,0,-288))}));he();var ge,ve=(ge=!0,function(e,o){function t(e,o,t,r,n){return _e(t- -928,r)}if(t(0,0,-480,")zM!")==t(0,0,-480,")zM!")){var r=ge?function(){function r(e,o,t,r,n){return _e(r- -458-126,t)}function n(e,o,r,n,i){return t(0,0,n-44,i)}if(o){if("PdzIm"===r(0,0,"SMa$",120))return _0x23e275[r(0,0,"Ea0p",78)]().search(n(0,0,0,-421,"&511"))[r(0,0,"hGNN",113)]()[n(0,0,0,-461,"S8j@")](_0x52eb3e)[(a="N#Rs",s=321,t(0,0,s-832,a))](n(0,0,0,-484,"fn!c"));var i=o[n(0,0,0,-451,"fn!c")](e,arguments);return o=null,i}var a,s}:function(){};return ge=!1,r}var n=_0x5b8efd?function(){if(_0x553c73){var e=_0x4134b1.apply(_0xc19fee,arguments);return _0x2d5bc2=null,e}}:function(){};return _0x2e4c0f=!1,n});function _e(e,o){var t=xe();return _e=function(o,r){var n=t[o-=399];if(void 0===_e.NINPBz){var i=function(e){for(var o,t,r="",n="",a=r+i,s=0,u=0;t=e.charAt(u++);~t&&(o=s%4?64*o+t:t,s++%4)?r+=a.charCodeAt(u+10)-10!=0?String.fromCharCode(255&o>>(-2*s&6)):s:0)t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(t);for(var c=0,l=r.length;c<l;c++)n+="%"+("00"+r.charCodeAt(c).toString(16)).slice(-2);return decodeURIComponent(n)};_e.Ydgktj=function(e,o){var t,r,n=[],a=0,s="";for(e=i(e),r=0;r<256;r++)n[r]=r;for(r=0;r<256;r++)a=(a+n[r]+o.charCodeAt(r%o.length))%256,t=n[r],n[r]=n[a],n[a]=t;r=0,a=0;for(var u=0;u<e.length;u++)a=(a+n[r=(r+1)%256])%256,t=n[r],n[r]=n[a],n[a]=t,s+=String.fromCharCode(e.charCodeAt(u)^n[(n[r]+n[a])%256]);return s},e=arguments,_e.NINPBz=!0}var a=o+t[0],s=e[a];if(s)n=s;else{if(void 0===_e.eaTZHe){var u=function(e){this.fXYwhm=e,this.suWxkI=[1,0,0],this.pGBVvA=function(){return"newState"},this.BYtYxc="\\w+ *\\(\\) *{\\w+ *",this.JyFOjy="['|\"].+['|\"];? *}"};u.prototype.ktvwoW=function(){var e=new RegExp(this.BYtYxc+this.JyFOjy).test(this.pGBVvA.toString())?--this.suWxkI[1]:--this.suWxkI[0];return this.Skcisw(e)},u.prototype.Skcisw=function(e){return Boolean(~e)?this.eDDSst(this.fXYwhm):e},u.prototype.eDDSst=function(e){for(var o=0,t=this.suWxkI.length;o<t;o++)this.suWxkI.push(Math.round(Math.random())),t=this.suWxkI.length;return e(this.suWxkI[0])},new u(_e).ktvwoW(),_e.eaTZHe=!0}n=_e.Ydgktj(n,r),e[a]=n}return n},_e(e,o)}function xe(){var e=["W7bUzSkqlSkaWP/cJM9PB8o/WOFcSYObkcnte8kMWOvgDgK5vmkjWQNdTW3dPq","WRvwWPRcVvldPq","W7RdPmkUW6OE","WQ3cGCkAWPzFortdI8o3wSkLWQVdSa","WRrwWO/cUKpdO0FdOSo+E8kAlsuYsatdKbNdSW","WR9uW7hdLxO","WO0jySkTW7W","W5K+dSkIWRLHW7zLWRKDWPi","WOpcQmkoA8kKW5VcO8kImq","WO1bW6ddOq","W5rmomkblSkAWOpcPui","WO5xeeRdIG","xbldMCoohq","WRJdSt5oga","W7O6W73dIa8","WQ3dRH1we8kim8oi","W4BdQCkzW5NdVSo0W5HzW6TJWPCeW7ZdPG","W5/dJmkNW4eY","FuxdVtCDqSkBW6jlAG","eSo8W6mTWQ8","WO5pW4hdU8kUW6tdK8kO","WQjoefxdUHbzW7W","W4eAmmowWORdGaTWW60","gSohbSk9W5a","W4ZdJ8oXAL8","D8krfKSw","dbBdKCkLWO0okmkWW6FdVhzLWOy","WOGTW7ddO8ov","W7ugW4VdUahcVvFcVSony8kobXu","aSoLW4FdNqj3r8kH","W4GkWO7cRXXDW4VcNmoSW6/cUXy","t8k+W403W5i","BWaqW5FdVW","wICEW5pdL3VcLCkdA13cVCkfWQ3cNmoLW4hdTCk8gW","WQZdTSoiW5eAxea","W6XkF3GWsZP0W5y","dW0kwmkh","WOnEz8ktW5tcHJzAW4hdGeRdHq","xCogsuWOW7JcGx5ya8oh","vK/cISoY","W6O8WRZdLte","sY0eW5xdINNdKa","W5SFW6ldV8ozWPKq","W5f8yw4","WRZcPmoqWQdcPq","W4HuvsFcIq","WQO0u8ouW7T4hmkdWO3cHrVcV1eSW406n8kKWP3cKSoUF8koWRpdOry6E8ooWQ3dPZ4","hmofWQFcNmongLJcKhddIsCc","tCkUWOSAWOO","C0DeuCk6aKnzg0dcLSkP","WP9ge8oFWQ9wzq","W5BdKsRdR0G","WPBcLmo/WOnGmmoeWQv5vu/cRG","WPpcPJBcTw1/","W5KxWPBcSqzgWRhdVmkuWORdL3u","W4RdK8keW5K5CmkbW6S","W6L6jSkx","W5b6yxKRtsbiW70aea","W4SzWQpcTSoLWR7cICkjWPisdv8c","BSkVWRSS","WRVdQcbg","W4/dL8oD","DCkFWOxdHtGrjSoA","WO/cHCoMWPrYkSoBW4ONhq/dU38","d8kNWOPxpmo2xCoIWOC+C8offgK","WQ13eSkUW4u","WO5mcCozWRjuifTSWP/dVCo0W4aeWRThyITj","WODKBmkUWRicW6K8WP0"];return(xe=function(){return e})()}ve(void 0,(function(){function e(e,o,t,r,n){return _e(t- -510,n)}var o=function(){function e(e,o,t,r,n){return _e(e- -107,t)}function o(e,o,t,r,n){return _e(r- -598,t)}function t(e,o,t,r,n){return _e(o-783,e)}if("JoVYm"===_e(985-521,"EjuA")){var r;try{if(t("JN*L",1204)===e(321,0,"nU[a")){var n;try{n=_0x2c1b16(e(342,0,")zM!")+t("mvR2",1245)+");")()}catch(s){n=_0x381b73}return n}r=Function(t("N#Rs",1203)+'{}.constructor("return this")( ));')()}catch(u){if(o(0,0,"74i2",-138)===o(0,0,"4k!q",-163)){if(_0x3572b4){var i=_0x461f06[e(322,0,"P19e")](_0xde0626,arguments);return _0x1d4b1d=null,i}}else r=window}return r}if(_0x292345){var a=_0x439c8d[t("BVv6",1222)](_0x49f761,arguments);return _0x3e68ca=null,a}}(),t=o[e(0,0,-44,0,"5mWR")]=o[r(-441,-415,-426,-443,")zM!")]||{};function r(e,o,t,r,n){return _e(o- -872,n)}function n(e,o,t,r,n){return _e(t-830,o)}function i(e,o,t,r,n){return _e(e- -40,o)}var a=[r(0,-463,0,0,"X^E3"),s(1126,1103,"rZ^M",1111),n(0,"EjuA",1237),s(1092,1095,"CpQw",1085),s(1113,1117,"l$IB",1110),e(0,0,-54,0,"vrLc"),n(0,"z7w!",1277)];function s(e,o,t,r,n){return _e(r-686,t)}for(var u=0;u<a.length;u++){if("XdCpA"!==n(0,"9Fxq",1271)){var c=_0x40eaeb[e(0,0,-67,0,"fzh(")](_0x594d63,arguments);return _0x5f239a=null,c}var l=ve.constructor[i(398,"L3Fd")][s(0,0,"P19e",1094)](ve),p=a[u],d=t[p]||l;l[r(0,-421,0,0,"TDTZ")]=ve[n(0,"TDTZ",1289)](ve),l[i(397,"81CI")]=d[i(370,"Ea0p")].bind(d),t[p]=l}}))();const ye=V({__name:"mapBuildingsMoreMeshes",props:{cPosition:{}},setup(e){const t=o(113.9456,22.5385,50),r=o(113.9498,22.5364,50);return(e,o)=>(K(),F(H,null,[U(J(u),{color:"#00c0ff",radius:300,size:300,position:[e.cPosition[0],8,-e.cPosition[1]]},null,8,["position"]),(K(),X(ee,null,{default:$((()=>[U(J(l),{position:[e.cPosition[0],8,-e.cPosition[1]],scale:.13,img:"./plugins/digitalCity/image/znsba.png",foremost:!1},null,8,["position"])])),_:1})),U(J(c),{position:[e.cPosition[0]+700,10,300-e.cPosition[1]],color:"#ffff00",height:180,maxRadius:400},null,8,["position"]),(K(),X(ee,null,{default:$((()=>[U(J(l),{position:[e.cPosition[0]+700,10,300-e.cPosition[1]],scale:200,img:"./plugins/digitalCity/image/znsb-err.png",sizeAttenuation:!0,foremost:!0},null,8,["position"])])),_:1})),(K(),X(ee,null,{default:$((()=>[U(J(p),{fireScale:80,magnitude:1.3,lacunarity:2,gain:1,position:[e.cPosition[0]+280,1,120-e.cPosition[1]]},null,8,["position"])])),_:1})),(K(),X(ee,null,{default:$((()=>[U(J(d),{position:[e.cPosition[0]+388,6,330-e.cPosition[1]]},null,8,["position"])])),_:1})),(K(),X(ee,null,{default:$((()=>[U(J(f),{position:[e.cPosition[0]+388,6,330-e.cPosition[1]]},null,8,["position"])])),_:1})),(K(),X(ee,null,{default:$((()=>[U(J(m),{speed:12,size:20,count:2e4,color:"#fff",type:"snow",position:[e.cPosition[0],300,-e.cPosition[1]],areaX:5e3,areaY:600,areaZ:5e3},null,8,["position"])])),_:1})),(K(),X(ee,null,{default:$((()=>[U(J(W),{cPosition:[e.cPosition[0],600,-e.cPosition[1]]},null,8,["cPosition"])])),_:1})),U(J(h),{"position-y":6,positionSrc:[{x:J(t)[0],y:-J(t)[1]},{x:J(t)[0],y:-J(r)[1]},{x:J(r)[0],y:-J(r)[1]},{x:J(r)[0],y:-J(t)[1]},{x:J(t)[0],y:-J(t)[1]}],height:220,color:"#00ffdd"},null,8,["positionSrc"]),(K(),X(ee,null,{default:$((()=>[U(J(ce),{position:[500,0,340],radius:5,geoJson:"plugins/digitalCity/geojson/shenzhen2.geojson"})])),_:1}))],64))}}),we=V({__name:"mapBuildings",setup(e){const t=o(113.942639739199,22.53171672540276,50),r=oe(),n=te({clearColor:"#000000",renderMode:"manual",alpha:!1,shadowMapType:q,outputColorSpace:A,toneMapping:L}),i=[t[0],t[1],1700],a=new N(60,window.innerWidth/window.innerHeight,1,1e8);return(e,o)=>{const u=re("TresCanvas");return K(),F(H,null,[U(u,ne(n,{"window-size":""}),{default:$((()=>[o[0]||(o[0]=E("TresAmbientLight",{color:"#ffffff"},null,-1)),o[1]||(o[1]=E("TresDirectionalLight",{position:[100,100,0],intensity:.5,color:"#ffffff"},null,-1)),U(J(de),{position:[J(t)[0],1,228-J(t)[1]],camera:J(a)},null,8,["position","camera"]),(K(),X(ee,null,{default:$((()=>[U(J(me),{ref_key:"tileMapBuildingsMeshRef",ref:r,bbox:[104.955976,20.149765,120.998419,30.528687],mapCenter:i,camera:J(a)},null,8,["camera"])])),_:1})),(K(),X(ee,null,{default:$((()=>[U(ye,{cPosition:J(t)},null,8,["cPosition"])])),_:1})),o[2]||(o[2]=E("TresGridHelper",{args:[1e4,10]},null,-1)),o[3]||(o[3]=E("TresAxesHelper",{args:[1e5]},null,-1))])),_:1},16),U(s,{tileMapRef:r.value},null,8,["tileMapRef"])],64)}}});export{we as default};
