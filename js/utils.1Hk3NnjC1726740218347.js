import{a as t,B as n,s as e,b$ as o,C as r,k as s,a0 as i}from"./three.MbBECAu81726740218347.js";import{x as c}from"./@fesjs.Dr_-7VFL1726740218347.js";import{z as a}from"./@tresjs.C5O8roW51726740218347.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.AV9Efypw1726740218347.js";!function(t,n){const e=g,o=h();for(;;)try{if(891133===-parseInt(e(194))/1*(parseInt(e(248))/2)+parseInt(e(191))/3*(parseInt(e(201))/4)+-parseInt(e(238))/5*(parseInt(e(227))/6)+-parseInt(e(226))/7+-parseInt(e(205))/8+parseInt(e(220))/9+parseInt(e(243))/10)break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function g(t,n){const e=h();return(g=function(t,n){return e[t-=191]})(t,n)}!function(){l(this,(function(){const t=g,n=new RegExp(t(204)),e=new RegExp(t(203),"i"),o=j(t(256));n[t(206)](o+t(229))&&e[t(206)](o+"input")?j():o("0")}))()}();const m=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function h(){const t=["table","position","set","getCenter","depthWrite","2978193TAcSQu","divideScalar","console","190123iFoJxC","disposeBoundsTree","uniforms","attributes","get","toString","material","4XHeOWN","min","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","function *\\( *\\)","14165464qukfeT","test","info","boundingBox","length","call","stateObject","forEach","children","deleteAttribute","computeBoundsTree","prototype","features","getX","push","10477125LlqBzB","setY","#fff","random","__proto__","Box3","6793192UgSfFf","354FZamqr","transparent","chain","while (true) {}","max","debu","add","geometry","count","getY","apply","65765IAkVTh","value","copy","bind","negate","39625500GQcmul","gger","catch","reflectivity","action","18mMlExp",'{}.constructor("return this")( )',"applyMatrix4","computeBoundingBox","setFromObject","setAttribute","constructor","getSize","init","error","warn","trace"];return(h=function(){return t})()}m(void 0,(function(){const t=g;let n;try{n=Function("return (function() "+t(249)+");")()}catch(r){n=window}const e=n[t(193)]=n.console||{},o=["log",t(258),t(207),t(257),"exception",t(260),t(259)];for(let s=0;s<o.length;s++){const n=m[t(254)][t(216)][t(241)](m),r=o[s],i=e[r]||n;n[t(224)]=m[t(241)](m),n[t(199)]=i[t(199)].bind(i),e[r]=n}}))();const d=(n,e=!1)=>{const o=g;n[o(251)]();const{max:r,min:s}=n.boundingBox;n[o(214)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n[o(197)].position.count;t++)e?(a[o(219)]((n.attributes[o(261)].getX(t)-(s.x+r.x)/2)/i),a[o(219)]((n.attributes[o(261)][o(236)](t)-(s.y+r.y)/2)/c)):(a[o(219)]((n[o(197)][o(261)][o(218)](t)-s.x)/i),a[o(219)]((n.attributes[o(261)][o(236)](t)-s.y)/c));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},y=(t,n)=>new Promise(((e,o)=>{const r=g;c(t,{},{method:r(198),mergeRequest:!0}).then((t=>{const o=r;n&&e(t[n]),e(t[o(217)])}))[r(245)]((t=>{console[r(257)](t),o(t)}))})),x=t=>{const n=g,e=(new(THREE[n(225)]))[n(252)](t),o=new THREE.Vector3;e[n(263)](o),t[n(213)][n(212)]((t=>{t[n(261)].sub(o)})),t[n(261)].copy(o.negate())},b=()=>{const t=g;n[t(216)][t(215)]=u,n.prototype[t(195)]=f,e[t(216)].raycast=p},w=async t=>{const n=g,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t.geometry.clone();d(c),c[n(215)]();const u=new o(c,{color:new r(n(222)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u[n(200)][n(228)]=!0,u[n(200)][n(264)]=!0,u.material.depthTest=!0,u[n(200)].side=i,u.material[n(196)].config[n(239)].w=20,u[n(200)][n(196)][n(246)][n(239)]=.46,u};function _(t){const n=g,e=[];for(let r=0;r<t.length;r++)e[n(219)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(209)];r++)o[n(233)](e[r]);o[n(192)](e[n(209)]);for(let r=0;r<e.length;r++)e[r].sub(o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=g;if("string"==typeof t)return function(t){}[e(254)](e(230))[e(237)]("counter");1!==(""+t/t)[e(209)]||t%20==0?function(){return!0}[e(254)](e(232)+e(244))[e(210)](e(247)):function(){return!1}[e(254)]("debu"+e(244)).apply(e(211)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,_ as g,b as i,y as l,d as r,w as s};
