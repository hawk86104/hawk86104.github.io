{"version":3,"file":"tilesCom.vue_vue_type_script_setup_true_lang.F-6N_4461767105581793.js","sources":["../../src/plugins/simpleGIS/shaders/buildingsShaderMaterial.vert","../../src/plugins/simpleGIS/shaders/buildingsShaderMaterial.frag","../../src/plugins/simpleGIS/components/tilesCom.vue"],"sourcesContent":["varying vec3 vPosition;\nvoid main(){\n\t// vPosition=modelMatrix*vec4(position,1.);\n\tvPosition = position;\n\tcsm_Position=position*vec3(1.);\n}","varying vec3 vPosition; // 模型空间坐标\nuniform vec3 uMax;      // 模型包围盒最大值\nuniform vec3 uMin;      // 模型包围盒最小值\nuniform float uOpacity;\nuniform float uBorderWidth;\nuniform vec3 uLightColor;\nuniform vec3 uColor;\nuniform float uCircleTime;\nuniform float uTime;\nuniform vec3 uTopColor; // 顶部颜色\nuniform bool uGradient;\n\nvoid main() {\n  vec3 distColor = uColor;\n\n  // 光带流动计算\n  float residue = mod(uTime, uCircleTime);\n  float rate = residue / uCircleTime;\n  float lightOffset = rate * (uMax.z - uMin.z);\n\n  if (uMin.z + lightOffset < vPosition.z &&\n      uMin.z + lightOffset + uBorderWidth > vPosition.z) {\n    csm_DiffuseColor = vec4(uLightColor, uOpacity);\n  } else {\n    csm_DiffuseColor = vec4(distColor, uOpacity);\n  }\n\n  // 渐变计算\n  if (uGradient) {\n    float rateHeight = (vPosition.z - uMin.z) / (uMax.z - uMin.z);\n    float mixNumber = clamp(rateHeight * 2.3 - 1.5, 0.1, 1.);\n    vec3 outColor = mix(csm_DiffuseColor.xyz, uTopColor, mixNumber);\n    csm_DiffuseColor = vec4(outColor, uOpacity);\n  }\n}\n","<template>\n    <TresGroup :rotation-x=\"isRotation ? -Math.PI / 2 : 0\">\n        <primitive :object=\"tiles.group\" />\n    </TresGroup>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useTres, useLoop } from '@tresjs/core'\nimport { watch } from 'vue'\nimport { TilesRenderer } from '3d-tiles-renderer'\nimport { alignmentCenter, applyTransform } from '../common/utils'\nimport * as THREE from 'three'\nimport CustomShaderMaterial from 'three-custom-shader-material/vanilla'\nimport vertexShader from '../shaders/buildingsShaderMaterial.vert'\nimport fragmentShader from '../shaders/buildingsShaderMaterial.frag'\nimport { LineSegments2 } from 'three/examples/jsm/lines/LineSegments2.js'\nimport { LineMaterial } from 'three/examples/jsm/lines/LineMaterial.js'\nimport { LineSegmentsGeometry } from 'three/examples/jsm/lines/LineSegmentsGeometry.js'\n\nconst props = withDefaults(\n    defineProps<{\n        tilesUrl?: string\n        isRotation?: boolean\n        isRranslation?: boolean\n        bulidingsColor?: string\n        topColor?: string\n        lightColor?: string\n        borderWidth?: number\n        opacity?: number\n        gradient?: boolean\n        speed?: number\n        lineOpacity?: number\n        linewidth?: number\n        lineColor?: string\n    }>(),\n    {\n        tilesUrl: './plugins/geokit/tiles/tileset.json',\n        isRotation: true,\n        isRranslation: true,\n        bulidingsColor: '#e523ff',\n        topColor: '#ffff00',\n        lightColor: '#ffffff',\n        borderWidth: 5,\n        opacity: 0.8,\n        gradient: true,\n        speed: 1.0,\n        lineOpacity: 1.0,\n        linewidth: 1.0,\n        lineColor: '#000000',\n    },\n)\n\n//  https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/sz_ns/tileset.json\n//  https://jdvop.oss-cn-qingdao.aliyuncs.com/mapv-data/titleset/shanghai/tileset.json\n//  ./plugins/geokit/tiles/tileset.json\n\nconst timeDelta = { value: 0 }\nconst setEffectMaterial = (mesh: any) => {\n    mesh.userData.builds = true\n    const { geometry } = mesh\n    geometry.computeBoundingBox()\n    geometry.computeBoundingSphere()\n    const { max, min } = geometry.boundingBox\n    const buildingMaterial = new CustomShaderMaterial({\n        baseMaterial: new THREE.MeshPhongMaterial(),\n        vertexShader: vertexShader,\n        fragmentShader: fragmentShader,\n        silent: true,\n        uniforms: {\n            uMax: { value: max },\n            uMin: { value: min },\n            uBorderWidth: { value: props.borderWidth },\n            uCircleTime: { value: 5 },\n            uColor: {\n                value: new THREE.Color(props.bulidingsColor),\n            },\n            uOpacity: {\n                value: props.opacity,\n            },\n            uLightColor: {\n                value: new THREE.Color(props.lightColor),\n            },\n            uTopColor: {\n                value: new THREE.Color(props.topColor),\n            },\n            uTime: timeDelta,\n            uGradient: {\n                value: props.gradient,\n            },\n        },\n        depthWrite: true,\n        depthTest: true,\n        transparent: true,\n        side: THREE.DoubleSide,\n    })\n    mesh.material.dispose()\n    mesh.material = buildingMaterial\n}\nconst edgesMaterial = new LineMaterial({\n    color: props.lineColor,\n    linewidth: props.linewidth,\n    opacity: props.lineOpacity,\n    transparent: true,\n    depthWrite: false,\n    depthTest: true,\n}) as any\nedgesMaterial.resolution.set(window.innerWidth, window.innerHeight)\n\nconst setEdgesLines = (mesh: any) => {\n    const edges = new THREE.EdgesGeometry(mesh.geometry.clone())\n    let geometry = new LineSegmentsGeometry()\n    let wideEdges = geometry.fromEdgesGeometry(edges)\n    const line = new LineSegments2(wideEdges, edgesMaterial)\n    line.userData.lines = true\n    line.applyMatrix4(mesh.matrix.clone())\n    mesh.parent.add(line)\n}\nconst onLoadModel = ({ scene }: any) => {\n    scene.traverse((c: any) => {\n        if (c.isMesh && c.material) {\n            setEffectMaterial(c)\n            setEdgesLines(c)\n        }\n    })\n}\n\nconst { camera, renderer, sizes } = useTres()\nconst setCameraAndRenderer = (newTiles: any, camera: any, renderer: any) => {\n    newTiles.setCamera(camera)\n    newTiles.setResolutionFromRenderer(camera, renderer)\n}\nconst makeNewTiles = () => {\n    let newTiles = new TilesRenderer(props.tilesUrl as string) as any\n    newTiles.fetchOptions.mode = 'cors'\n    newTiles.errorTarget = 12\n\n    newTiles.addEventListener('load-model', onLoadModel)\n    newTiles.addEventListener('load-tile-set', () => {\n        alignmentCenter(newTiles, props.isRotation, props.isRranslation)\n    })\n    newTiles.addEventListener('dispose-model', ({ scene }) => {\n        scene.traverse((c: any) => {\n            if (c.material) {\n                c.material.dispose()\n            }\n            if (c.userData && c.userData.lines) {\n                c.geometry.dispose()\n                c.material.dispose()\n            }\n        })\n    })\n\n    setCameraAndRenderer(newTiles, camera.value, renderer)\n    return newTiles\n}\nlet tiles = makeNewTiles()\n\nwatch(\n    camera,\n    () => {\n        if (camera.value) {\n            setCameraAndRenderer(tiles, camera.value, renderer)\n        }\n    },\n    { immediate: true },\n)\nconst { onBeforeRender } = useLoop()\nonBeforeRender(({ delta }) => {\n    if (camera.value && sizes.width.value && tiles.update) {\n        camera.value.updateMatrixWorld()\n        tiles.update()\n        timeDelta.value += delta * props.speed\n    }\n})\n\nwatch(\n    () => [props.bulidingsColor, props.topColor, props.lightColor, props.borderWidth, props.opacity, props.gradient],\n    ([bulidingsColor, topColor, lightColor, borderWidth, opacity]) => {\n        tiles.group.traverse((mesh: any) => {\n            if (mesh.isMesh && mesh.userData && mesh.userData.builds) {\n                mesh.material.uniforms.uColor.value.set(bulidingsColor)\n                mesh.material.uniforms.uTopColor.value.set(topColor)\n                mesh.material.uniforms.uLightColor.value.set(lightColor)\n                mesh.material.uniforms.uBorderWidth.value = borderWidth\n                mesh.material.uniforms.uOpacity.value = opacity\n                mesh.material.uniforms.uGradient.value = props.gradient\n                mesh.material.needsUpdate = true\n            }\n        })\n    },\n)\nwatch(\n    () => [props.lineColor, props.linewidth, props.lineOpacity],\n    ([lineColor, linewidth, lineOpacity]) => {\n        edgesMaterial.color.set(lineColor)\n        edgesMaterial.linewidth = linewidth\n        edgesMaterial.opacity = lineOpacity\n        edgesMaterial.needsUpdate = true\n    },\n)\nwatch(\n    () => props.tilesUrl,\n    (tilesUrl) => {\n        if (tilesUrl !== tiles.rootURL) {\n            tiles.dispose()\n            tiles = makeNewTiles()\n        }\n    },\n)\nwatch(\n    () => [props.isRotation, props.isRranslation],\n    () => {\n        if (tiles.group) {\n            applyTransform(tiles.group, props.isRotation, props.isRranslation)\n        }\n    },\n)\n</script>\n"],"names":["buildingsShaderMaterial_default","CustomShaderMaterial","vertexShader","fragmentShader","useTres","camera","renderer","TilesRenderer","useLoop","isRotation"],"mappings":"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"}