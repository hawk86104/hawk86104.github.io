import{a as t,B as n,s as e,b_ as o,C as r,k as s,a0 as i}from"./three.VoknrmS61728703368826.js";import{x as c}from"./@fesjs.9xYVr0ET1728703368826.js";import{z as a}from"./@tresjs.JhHPALEY1728703368826.js";import{c as u,d as f,a as p}from"./three-mesh-bvh.fYJV0gw01728703368826.js";!function(t,n){const e=w,o=m();for(;;)try{if(265839===parseInt(e(210))/1+parseInt(e(205))/2+parseInt(e(257))/3+-parseInt(e(218))/4+-parseInt(e(240))/5*(-parseInt(e(273))/6)+parseInt(e(252))/7+-parseInt(e(268))/8*(parseInt(e(224))/9))break;o.push(o.shift())}catch(r){o.push(o.shift())}}();const l=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(220)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();!function(){l(this,(function(){const t=w,n=new RegExp(t(228)),e=new RegExp(t(207),"i"),o=j(t(249));n[t(203)](o+t(234))&&e[t(203)](o+t(250))?j():o("0")}))()}();const g=function(){let t=!0;return function(n,e){const o=t?function(){if(e){const t=e[w(220)](n,arguments);return e=null,t}}:function(){};return t=!1,o}}();function m(){const t=["negate","max","debu","get","counter","count","disposeBoundsTree","gger","init","input","copy","2553096MDwZbl","table","clone","setFromObject","value","507267qXOkAI","applyMatrix4","set","then","reflectivity","attributes","getY","console","depthTest","prototype","bind","8UEvvGG","computeBoundingBox","log","divideScalar","Vector3","90Ptivzl","call","features","getX","deleteAttribute","min","uniforms","test","computeBoundsTree","565536LdBQVp","sub","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","expandByObject","position","151087gSqpdx",'{}.constructor("return this")( )',"return (function() ","push","getCenter","material","__proto__","error","2046004hiwvzi","boundingBox","apply","setAttribute","length","string","4162023aySUky","center","config","toString","function *\\( *\\)","geometry","stateObject","add","getSize","constructor","chain","catch","forEach","children","exception","#fff","90705dKKhqB"];return(m=function(){return t})()}g(void 0,(function(){const t=w;let n;try{n=Function(t(212)+t(211)+");")()}catch(r){n=window}const e=n[t(264)]=n.console||{},o=[t(270),"warn","info",t(217),t(238),t(253),"trace"];for(let s=0;s<o.length;s++){const n=g[t(233)][t(266)][t(267)](g),r=o[s],i=e[r]||n;n[t(216)]=g[t(267)](g),n.toString=i[t(227)][t(267)](i),e[r]=n}}))();const h=(n,e=!1)=>{const o=w;n.computeBoundingBox();const{max:r,min:s}=n[o(219)];n[o(277)]("uv");const i=r.x-s.x,c=r.y-s.y,a=[];for(let t=0;t<n.attributes.position[o(246)];t++)e?(a[o(213)]((n[o(262)][o(209)].getX(t)-(s.x+r.x)/2)/i),a[o(213)]((n[o(262)][o(209)][o(263)](t)-(s.y+r.y)/2)/c)):(a[o(213)]((n.attributes[o(209)][o(276)](t)-s.x)/i),a[o(213)]((n[o(262)][o(209)][o(263)](t)-s.y)/c));const u=new Float32Array(a);n.setAttribute("uv",new t(u,2))},d=(t,n)=>new Promise(((e,o)=>{const r=w;c(t,{},{method:r(244),mergeRequest:!0})[r(260)]((t=>{const o=r;n&&e(t[n]),e(t[o(275)])}))[r(235)]((t=>{console[r(217)](t),o(t)}))}));function w(t,n){const e=m();return(w=function(t,n){return e[t-=203]})(t,n)}const x=t=>{const n=w,e=(new THREE.Box3)[n(255)](t),o=new(THREE[n(272)]);e[n(214)](o),t[n(237)][n(236)]((t=>{t.position.sub(o)})),t[n(209)][n(251)](o[n(241)]())},y=()=>{const t=w;n[t(266)][t(204)]=u,n[t(266)][t(247)]=f,e[t(266)].raycast=p},b=async t=>{const n=w,e=await a(["./plugins/water/images/Water_1_M_Normal.jpg","./plugins/water/images/Water_2_M_Normal.jpg"]),c=t[n(229)][n(254)]();h(c),c[n(204)]();const u=new o(c,{color:new r(n(239)),scale:20,flowDirection:new s(1,1),textureWidth:1024,textureHeight:1024,normalMap0:e[0],normalMap1:e[1]});return u.material.transparent=!0,u[n(215)].depthWrite=!0,u.material[n(265)]=!0,u[n(215)].side=i,u[n(215)].uniforms[n(226)].value.w=20,u[n(215)][n(279)][n(261)][n(256)]=.46,u};function _(t){const n=w,e=[];for(let r=0;r<t[n(222)];r++)e[n(213)](new s(t[r].x,t[r].y));const o=new s;for(let r=0;r<e[n(222)];r++)o[n(231)](e[r]);o[n(271)](e[n(222)]);for(let r=0;r<e[n(222)];r++)e[r][n(206)](o);return{points:e,centerPoint:o}}function j(t){function n(t){const e=w;if(typeof t===e(223))return function(t){}[e(233)]("while (true) {}")[e(220)](e(245));1!==(""+t/t)[e(222)]||t%20==0?function(){return!0}[e(233)]("debu"+e(248))[e(274)]("action"):function(){return!1}.constructor(e(243)+e(248))[e(220)](e(230)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{x as a,_ as g,y as i,d as l,h as r,b as s};
