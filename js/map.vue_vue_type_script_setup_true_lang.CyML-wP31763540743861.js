import{F as e}from"./@tresjs.BCHtwiaC1763540743861.js";import{$ as a,p as t,e as o}from"./three-tile.CyRsxyMz1763540743861.js";import"./index.dDIu7Nsz1763540743861.js";import{_ as s}from"./volumeMesh.vue_vue_type_script_setup_true_lang.Chocs6FH1763540743861.js";import{c as r,s as l}from"./utils.DzjDHJqS1763540743861.js";import{_ as i}from"./flyTo.vue_vue_type_script_setup_true_lang.D0iVEFVq1763540743861.js";import{d as n,a as m,w as p,H as u,o as c,F as _,J as v,h as y,b as f,u as j,e as g,ad as d}from"./@vue.Co_gxueH1763540743861.js";import{V as w}from"./three.rXKzP9fQ1763540743861.js";const T=["object"],b=n({__name:"map",setup(n){new a({token:"pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw",dataType:"terrain-rgb",style:"mapbox.terrain-rgb",maxLevel:15});const b=new t({imgSource:[new o({style:"6"}),new o({style:"8"})],lon0:90,minLevel:2,maxLevel:20});b.rotateX(-Math.PI/2);const h=new w(110,30,0),x=new w(110,0,1e7),k=b.localToWorld(b.geo2map(h)),I=b.localToWorld(b.geo2map(x)),L=m(),{camera:W,controls:M,scene:S,renderer:z}=e();W.value&&W.value.position.copy(I),p(()=>M.value,e=>{e&&(e.target.copy(k),r(e,W.value,S.value))}),p(()=>L.value,e=>{e&&e.target.position.copy(k)});const A=m();return p(()=>A.value,e=>{if(e){const a=new w(108.724419,30.510354,2e5),t=new w(118.724419,32.010354,0);setTimeout(()=>{e.flyToGeo(a,t)},500)}}),l(W.value,z.domElement,b),(e,a)=>(c(),u(_,null,[v("TresDirectionalLight",{ref_key:"tdLight",ref:L,position:[0,2e3,1e3],intensity:1},null,512),v("primitive",{object:j(b)},null,8,T),y(j(i),{map:j(b),ref_key:"flyToRef",ref:A},null,8,["map"]),(c(),f(d,null,{default:g(()=>[y(s,{map:j(b)},null,8,["map"])]),_:1}))],64))}});export{b as _};
