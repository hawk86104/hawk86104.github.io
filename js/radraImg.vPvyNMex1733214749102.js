import{b as t,m as n,U as e}from"./@tresjs.lftldzUe1733214749102.js";import{_ as r,V as o}from"./three.aWgA1gea1733214749102.js";import{_ as i}from"./three-tile.rGySB-KI1733214749102.js";import{_ as s}from"./informationDiv.vue_vue_type_style_index_0_scoped_d511bb21_lang.2NWQ16AB1733214749102.js";import{d as a,a6 as c,w as u,o as p,D as l,J as f,u as m,r as h,b as g,f as d,g as y,j as b,m as I,al as w,F as _,e as j,aj as x,ak as v}from"./@vue.-THQH3GC1733214749102.js";import{P as S}from"./tweakpane.yHWGBmom1733214749102.js";import{i as z}from"./informationDiv.grb5Y80W1733214749102.js";import"./@vueuse.xtU2GBMi1733214749102.js";import"./@fesjs.Of4PiCSw1733214749102.js";import"./vue-router.lCq72hq_1733214749102.js";import"./lodash-es.kYt-_xTG1733214749102.js";import"./@qlin.yHhFDldE1733214749102.js";import"./pinia.YZvRaeWc1733214749102.js";import"./vue-demi.C4xddsk91733214749102.js";import"./@floating-ui.BPbuo5Gx1733214749102.js";import"./@juggle.7yjBMqoW1733214749102.js";const k=T;function T(t,n){const e=R();return(T=function(t,n){return e[t-=325]})(t,n)}!function(t,n){const e=T,r=R();for(;;)try{if(611019===-parseInt(e(359))/1*(-parseInt(e(370))/2)+-parseInt(e(354))/3*(parseInt(e(367))/4)+parseInt(e(362))/5*(parseInt(e(353))/6)+parseInt(e(384))/7*(parseInt(e(380))/8)+-parseInt(e(343))/9*(parseInt(e(332))/10)+parseInt(e(356))/11+-parseInt(e(364))/12*(parseInt(e(337))/13))break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const A=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[T(348)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){A(this,(function(){const t=T,n=new RegExp(t(375)),e=new RegExp(t(344),"i"),r=F(t(360));n[t(365)](r+t(334))&&e[t(365)](r+t(378))?F():r("0")}))()}();const M=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();M(void 0,(function(){const t=T,n=function(){const t=T;let n;try{n=Function("return (function() "+t(368)+");")()}catch(e){n=window}return n}(),e=n[t(351)]=n[t(351)]||{},r=[t(340),"warn",t(371),"error",t(374),"table",t(339)];for(let o=0;o<r[t(325)];o++){const n=M[t(342)][t(345)][t(333)](M),i=r[o],s=e[i]||n;n[t(338)]=M[t(333)](M),n[t(358)]=s[t(358)][t(333)](s),e[i]=n}}))();const B=[k(373)],D=[k(335),"material",k(330),k(381)],E=a({__name:k(350),props:{map:{},height:{default:100},opacity:{default:.6}},async setup(n){const e=k;let o,i;const a=n,h=new(r[e(383)])({displacementMap:new(r[e(357)]),transparent:!0,side:r[e(331)],opacity:a.opacity,displacementScale:.5,displacementBias:0});h.onBeforeCompile=t=>{const n=e;t[n(328)]=n(341)+t.vertexShader,t[n(328)]=t[n(328)][n(326)](n(379),n(369))};const g=a[e(363)][e(347)](new(r[e(361)])(105,34,0));g.applyMatrix4(a[e(363)].matrix);const d=s[e(377)](a.map,{x:67,y:11},{x:140,y:57},a.height),y=[];for(let t=0;t<9;t++)y.push("https://opensource-1314935952.cos.ap-nanjing.myqcloud.com/images/simpleGIS/QPFRef_202405311"+t+e(352));let b=0;const I=([o,i]=c((()=>t(y))),o=await o,i(),o);h[e(363)]=I[b],u((()=>[a.color,a[e(329)]]),(([t,n])=>{h[e(329)]=n}));let w=null,_=!1;return _?(clearInterval(w),w=null,_=!1):(w=setInterval((()=>{const t=T;b=b<y.length-1?b+1:0,h[t(363)]=I[b],h[t(376)]=!0,console[t(340)](b)}),1e3),_=!0),(t,n)=>{const r=e;return p(),l(r(382),{position:[...m(g)]},[f(r(336),{scale:[m(d).x,m(d).y,t.height],material:m(h),rotateX:-Math.PI/2,renderOrder:9999,"position-y":t.height/5},n[0]||(n[0]=[f("TresPlaneGeometry",{args:[1,1,529,420]},null,-1)]),8,D)],8,B)}}});function R(){const t=["length","replace","debu","vertexShader","opacity","rotateX","DoubleSide","713830HHKkuG","bind","chain","scale","TresMesh","2190266ZJoJmy","__proto__","trace","log","uniform sampler2D map;\n\t","constructor","126tyQUhf","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","prototype","call","geo2pos","apply","counter","radraImgShow","console","40.png","510xAyjfA","18iqirRz","stateObject","6839558eoMWnE","Texture","toString","16dtxTmK","init","Vector3","15740grAJsK","map","48jtCGvV","test","string","44596LGbVVq",'{}.constructor("return this")( )',"transformed += normalize( objectNormal ) * ( texture2D(map, vMapUv ).a * displacementScale + displacementBias );","43658GzJlWX","info","gger","position","exception","function *\\( *\\)","needsUpdate","scaleImg","input","#include <displacementmap_vertex>","8900648lfruzK","position-y","TresGroup","MeshPhongMaterial","7Qtwptg"];return(R=function(){return t})()}function F(t){function n(t){const e=T;if(typeof t===e(366))return function(t){}[e(342)]("while (true) {}")[e(348)](e(349));1!==(""+t/t)[e(325)]||t%20==0?function(){return!0}[e(342)]("debu"+e(372))[e(346)]("action"):function(){return!1}.constructor(e(327)+"gger")[e(348)](e(355)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const P=L;!function(t,n){const e=L,r=V();for(;;)try{if(583375===parseInt(e(148))/1*(parseInt(e(144))/2)+-parseInt(e(136))/3*(parseInt(e(110))/4)+parseInt(e(108))/5+parseInt(e(123))/6+-parseInt(e(149))/7*(-parseInt(e(133))/8)+parseInt(e(120))/9*(-parseInt(e(131))/10)+-parseInt(e(132))/11)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const U=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){U(this,(function(){const t=L,n=new RegExp(t(140)),e=new RegExp(t(109),"i"),r=O(t(151));n[t(138)](r+"chain")&&e[t(138)](r+t(106))?O():r("0")}))()}();const Z=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[L(135)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();Z(void 0,(function(){const t=L,n=function(){let t;try{t=Function('return (function() {}.constructor("return this")( ));')()}catch(n){t=window}return t}(),e=n.console=n.console||{},r=["log","warn",t(147),t(118),"exception",t(117),t(113)];for(let o=0;o<r[t(114)];o++){const n=Z[t(154)].prototype.bind(Z),i=r[o],s=e[i]||n;n[t(129)]=Z[t(155)](Z),n[t(122)]=s[t(122)][t(155)](s),e[i]=n}}))();const G=[P(134)];function L(t,n){const e=V();return(L=function(t,n){return e[t-=101]})(t,n)}function V(){const t=["8bZwvzk","object","apply","1112106aRchoV","pk.eyJ1IjoiaGF3azg2MTA0IiwiYSI6ImNrbTQ3cWtyeTAxejEzMHBtcW42bmc0N28ifQ.bvS9U_yWdHDh41jzaDS1dw","test","TileMap","function *\\( *\\)","MapBoxSource","showLocation","mapbox.terrain-rgb","62mXDUOB","call","map","info","35176miQCri","7307349OwFfek","action","init","rotateX","tdLight","constructor","bind","透明度","terrain-rgb","debu","value","domElement","input","gger","4735530bdMOKp","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","8ENAkvp","stateObject","geo2pos","trace","length","opacity","localToWorld","table","error","Vector3","144KfPKWd","primitive","toString","4758576oWinjU","copy","plugin","controlsEvents","string","TresDirectionalLight","__proto__","counter","709130SVZAYb","15566958HouRZY"];return(V=function(){return t})()}const W=P(137),K=a({__name:"mapBoxShow3",setup(t){const e=P,a=h({height:200,opacity:1}),c=new S({title:"参数"});c.addBinding(a,"height",{label:"高度",min:10,max:300,step:1}),c.addBinding(a,e(115),{label:e(101),min:0,max:1,step:.1});const j=new(i[e(125)][e(141)])({token:W,dataType:"image",style:"mapbox.satellite"}),x=new(i[e(125)][e(141)])({token:W,dataType:e(102),style:e(143),maxLevel:15}),v=new(i[e(139)])({imgSource:j,demSource:x,lon0:90,minLevel:2,maxLevel:20});v[e(152)](-Math.PI/2);const z=new(r[e(119)])(105,34,0),k=new o(110,0,1e4),T=v[e(116)](v[e(112)](z)),A=v[e(116)](v.geo2pos(k)),M=g(),{camera:B,controls:D,scene:R,renderer:F}=n();return B[e(104)]&&B[e(104)].position[e(124)](A),u((()=>D[e(104)]),(t=>{const n=e;t&&(t.target[n(124)](T),s[n(126)](t,B[n(104)],R[n(104)]))})),u((()=>M[e(104)]),(t=>{t&&t.target.position.copy(T)})),s[e(142)](B.value,F[e(104)][e(105)],v),(t,n)=>{const r=e;return p(),l(_,null,[f(r(128),{ref_key:r(153),ref:M,position:[0,2e3,1e3],intensity:1},null,512),f(r(121),{object:m(v)},null,8,G),(p(),d(w,null,{default:y((()=>[b(E,I({map:m(v)},a),null,16,[r(146)])])),_:1}))],64)}}});function O(t){function n(t){const e=L;if(typeof t===e(127))return function(t){}[e(154)]("while (true) {}")[e(135)](e(130));1!==(""+t/t).length||t%20==0?function(){return!0}[e(154)]("debugger")[e(145)](e(150)):function(){return!1}[e(154)](e(103)+e(107))[e(135)](e(111)),n(++t)}try{if(t)return n;n(0)}catch(e){}}const C=H;!function(t,n){const e=H,r=J();for(;;)try{if(642682===-parseInt(e(465))/1+-parseInt(e(468))/2+parseInt(e(445))/3*(-parseInt(e(455))/4)+parseInt(e(454))/5*(parseInt(e(470))/6)+-parseInt(e(453))/7*(parseInt(e(460))/8)+parseInt(e(456))/9+parseInt(e(464))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const Q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e.apply(n,arguments);return e=null,t}}:function(){};return t=!1,r}}();!function(){Q(this,(function(){const t=H,n=new RegExp(t(447)),e=new RegExp(t(452),"i"),r=$(t(433));n[t(435)](r+t(469))&&e[t(435)](r+t(446))?$():r("0")}))()}();const q=function(){let t=!0;return function(n,e){const r=t?function(){if(e){const t=e[H(450)](n,arguments);return e=null,t}}:function(){};return t=!1,r}}();function H(t,n){const e=J();return(H=function(t,n){return e[t-=432]})(t,n)}function J(){const t=["901154aLuUQu","error","radraImg","1569268xwsnFl","chain","6AXmScE",'{}.constructor("return this")( )',"init","stateObject","test","console","highp","gger","string","action","bind","#dbf0ff","counter","constructor","3jmipKO","input","function *\\( *\\)","TresCanvas","return (function() ","apply","warn","\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","1465114nzcbBk","5073235NYzBBS","4680172hxUgha","863523wiVqFd","debu","length","TresAmbientLight","24WRRCUv","TresPerspectiveCamera","while (true) {}","info","30158250iMgRSE"];return(J=function(){return t})()}q(void 0,(function(){const t=H,n=function(){const t=H;let n;try{n=Function(t(449)+t(432)+");")()}catch(e){n=window}return n}(),e=n[t(436)]=n.console||{},r=["log",t(451),t(463),t(466),"exception","table","trace"];for(let o=0;o<r[t(458)];o++){const n=q[t(444)].prototype[t(441)](q),i=r[o],s=e[i]||n;n.__proto__=q[t(441)](q),n.toString=s.toString.bind(s),e[i]=n}}))();const X=a({__name:C(467),setup(t){const n=C,r=h({clearColor:n(442),alpha:!0,antialias:!1,logarithmicDepthBuffer:!0,precision:n(437)}),o=h({enableDamping:!0,makeDefault:!0,screenSpacePanning:!1,dampingFactor:.035,keyPanSpeed:5});return(t,i)=>{const s=n,a=j(s(448));return p(),l(_,null,[b(a,I(r,{"window-size":""}),{default:y((()=>[i[0]||(i[0]=f(s(461),{position:[0,12,0],fov:70,near:.1,far:5e4},null,-1)),b(m(e),x(v(o)),null,16),i[1]||(i[1]=f(s(459),{intensity:1},null,-1)),b(K)])),_:1},16),b(z)],64)}}});function $(t){function n(t){const e=H;if(typeof t===e(439))return function(t){}[e(444)](e(462))[e(450)](e(443));1!==(""+t/t)[e(458)]||t%20==0?function(){return!0}[e(444)](e(457)+"gger").call(e(440)):function(){return!1}[e(444)](e(457)+e(438))[e(450)](e(434)),n(++t)}try{if(t)return n;n(0)}catch(e){}}export{X as default};
