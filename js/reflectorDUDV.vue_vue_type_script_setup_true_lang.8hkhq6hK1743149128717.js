import{ce as t,ae as e,l as n,m as r}from"./three.hBhj0ayh1743149128717.js";import{a as o}from"./@tresjs.GCV-1VTd1743149128717.js";import{R as i,b as s}from"./all.three.I-k2KxK_1743149128717.js";import{d as c,a3 as a,a2 as u,w as f,o as l,H as p,N as d,u as h}from"./@vue.L-brCdZe1743149128717.js";const m=v;function w(){const t=["4708991rvRqEc","table","repeat","wrapS","8NaEqxV","visible","519508KTWswP","function *\\( *\\)","constructor","info","debu","counter","stateObject","apply","928386Qpnigw","6RBSbhS","tReflectBlur","onBeforeRender","init","log","wrapT","251994nZZWEh","415497IbPzWz","prototype","isMesh","action","value","texture","chain","set","add","error","update","25IOBwYj","exception","console","length","renderTarget","input","object","forEach","gger","uniforms","mapUrl","return (function() ","reflectorDUDV","uMatrix","11759590ezfIFH","trace","renderTargetUniform","size","while (true) {}","bind","1471656WGKANW","scale","test","uReflectivity","warn","TresGroup","ignoreObjects","toString","showGridHelper",'{}.constructor("return this")( )',"primitive","__proto__"];return(w=function(){return t})()}function v(t,e){const n=w();return v=function(t,e){return n[t-=187]},v(t,e)}!function(t,e){const n=v,r=w();for(;;)try{if(365794===parseInt(n(200))/1+parseInt(n(199))/2*(-parseInt(n(193))/3)+-parseInt(n(249))/4*(parseInt(n(211))/5)+parseInt(n(231))/6+-parseInt(n(243))/7*(parseInt(n(247))/8)+parseInt(n(192))/9+parseInt(n(225))/10)break;r.push(r.shift())}catch(o){r.push(r.shift())}}();const b=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(191)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();!function(){b(this,(function(){const t=v,e=new RegExp(t(250)),n=new RegExp("\\+\\+ *(?:[a-zA-Z_$][0-9a-zA-Z_$]*)","i"),r=z(t(196));e[t(233)](r+t(206))&&n[t(233)](r+t(216))?z():r("0")}))()}();const g=function(){let t=!0;return function(e,n){const r=t?function(){if(n){const t=n[v(191)](e,arguments);return n=null,t}}:function(){};return t=!1,r}}();g(void 0,(function(){const t=v,e=function(){const t=v;let e;try{e=Function(t(222)+t(240)+");")()}catch(n){e=window}return e}(),n=e.console=e[t(213)]||{},r=[t(197),t(235),t(187),t(209),t(212),t(244),t(226)];for(let o=0;o<r[t(214)];o++){const e=g[t(251)][t(201)][t(230)](g),i=r[o],s=n[i]||e;e[t(242)]=g.bind(g),e[t(238)]=s[t(238)][t(230)](s),n[i]=e}}))();const y=[m(232)],j=["object"],I=[m(217)],x=c({__name:m(223),props:{reflectivity:{default:.8},showGridHelper:{type:Boolean,default:!0},scale:{default:1},ignoreObjects:{default:[]},size:{default:[10,10]},mapUrl:{default:"./plugins/floor/image/waterdudv.jpg"}},async setup(c,{expose:w}){const v=m;let b,g;const x=c,z=new i,R=new t(x[v(228)][0]-.5,x.size[1]);R.visible=x[v(239)];const{map:_}=([b,g]=a((()=>o({map:x[v(221)]}))),b=await b,g(),b);_[v(246)]=e,_[v(198)]=e,_[v(245)][v(207)](6,3);const E=new s({map:_,reflectivity:x.reflectivity});E[v(220)].tReflect={value:z[v(215)][v(205)]},E[v(220)][v(194)]=z[v(227)],E.uniforms[v(224)]=z.textureMatrixUniform;const B=new n(new r(x[v(228)][0],x.size[1]),E);return B.rotation.x=-Math.PI/2,B[v(208)](z),B[v(195)]=(t,e,n)=>{const r=v;B[r(248)]=!1,x[r(237)][r(218)]((t=>{const e=r;t[e(202)]&&(t[e(248)]=!1),t[e(204)]&&t[e(204)][e(202)]&&(t.value[e(248)]=!1)})),z[r(210)](t,e,n),x[r(237)][r(218)]((t=>{const e=r;t.isMesh&&(t[e(248)]=!0),t.value&&t[e(204)][e(202)]&&(t[e(204)].visible=!0)})),B.visible=!0},u((()=>{const t=v;x.reflectivity&&(E[t(220)][t(234)][t(204)]=x.reflectivity)})),f((()=>x.showGridHelper),(t=>{R[v(248)]=t})),w({reflector:z}),(t,e)=>{const n=v;return l(),p(n(236),{scale:x.scale},[d(n(241),{object:h(B),"position-y":-.01},null,8,j),d("primitive",{object:h(R)},null,8,I)],8,y)}}});function z(t){function e(t){const n=v;if("string"==typeof t)return function(t){}[n(251)](n(229))[n(191)](n(189));1!==(""+t/t)[n(214)]||t%20==0?function(){return!0}.constructor(n(188)+n(219)).call(n(203)):function(){return!1}[n(251)](n(188)+n(219))[n(191)](n(190)),e(++t)}try{if(t)return e;e(0)}catch(n){}}export{x as _};
